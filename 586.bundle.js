/*! For license information please see 586.bundle.js.LICENSE.txt */
(self.webpackChunkol_mbtiles=self.webpackChunkol_mbtiles||[]).push([[586],{5550:t=>{"use strict";function e(t,e){this.x=t,this.y=e}t.exports=e,e.prototype={clone:function(){return new e(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=e*this.x-n*this.y,s=n*this.x+e*this.y;return this.x=i,this.y=s,this},_rotateAround:function(t,e){var n=Math.cos(t),i=Math.sin(t),s=e.x+n*(this.x-e.x)-i*(this.y-e.y),r=e.y+i*(this.x-e.x)+n*(this.y-e.y);return this.x=s,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},e.convert=function(t){return t instanceof e?t:Array.isArray(t)?new e(t[0],t[1]):t}},8929:(t,e,n)=>{t.exports.VectorTile=n(2779),n(6024),n(9701)},2779:(t,e,n)=>{"use strict";var i=n(9701);function s(t,e,n){if(3===t){var s=new i(n,n.readVarint()+n.pos);s.length&&(e[s.name]=s)}}t.exports=function(t,e){this.layers=t.readFields(s,{},e)}},6024:(t,e,n)=>{"use strict";var i=n(5550);function s(t,e,n,i,s){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=s,t.readFields(r,this,e)}function r(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var i=e._keys[t.readVarint()],s=e._values[t.readVarint()];e.properties[i]=s}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function o(t){for(var e,n,i=0,s=0,r=t.length,o=r-1;s<r;o=s++)e=t[s],i+=((n=t[o]).x-e.x)*(e.y+n.y);return i}t.exports=s,s.types=["Unknown","Point","LineString","Polygon"],s.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,s=1,r=0,o=0,a=0,l=[];t.pos<n;){if(r<=0){var c=t.readVarint();s=7&c,r=c>>3}if(r--,1===s||2===s)o+=t.readSVarint(),a+=t.readSVarint(),1===s&&(e&&l.push(e),e=[]),e.push(new i(o,a));else{if(7!==s)throw new Error("unknown command "+s);e&&e.push(e[0].clone())}}return e&&l.push(e),l},s.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,i=0,s=0,r=0,o=1/0,a=-1/0,l=1/0,c=-1/0;t.pos<e;){if(i<=0){var u=t.readVarint();n=7&u,i=u>>3}if(i--,1===n||2===n)(s+=t.readSVarint())<o&&(o=s),s>a&&(a=s),(r+=t.readSVarint())<l&&(l=r),r>c&&(c=r);else if(7!==n)throw new Error("unknown command "+n)}return[o,l,a,c]},s.prototype.toGeoJSON=function(t,e,n){var i,r,a=this.extent*Math.pow(2,n),l=this.extent*t,c=this.extent*e,u=this.loadGeometry(),h=s.types[this.type];function d(t){for(var e=0;e<t.length;e++){var n=t[e],i=180-360*(n.y+c)/a;t[e]=[360*(n.x+l)/a-180,360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90]}}switch(this.type){case 1:var _=[];for(i=0;i<u.length;i++)_[i]=u[i][0];d(u=_);break;case 2:for(i=0;i<u.length;i++)d(u[i]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var n,i,s=[],r=0;r<e;r++){var a=o(t[r]);0!==a&&(void 0===i&&(i=a<0),i===a<0?(n&&s.push(n),n=[t[r]]):n.push(t[r]))}return n&&s.push(n),s}(u),i=0;i<u.length;i++)for(r=0;r<u[i].length;r++)d(u[i][r])}1===u.length?u=u[0]:h="Multi"+h;var p={type:"Feature",geometry:{type:h,coordinates:u},properties:this.properties};return"id"in this&&(p.id=this.id),p}},9701:(t,e,n)=>{"use strict";var i=n(6024);function s(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(r,this,e),this.length=this._features.length}function r(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var i=t.readVarint()>>3;e=1===i?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null}return e}(n))}t.exports=s,s.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new i(this._pbf,e,this.extent,this._keys,this._values)}},645:(t,e)=>{e.read=function(t,e,n,i,s){var r,o,a=8*s-i-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?s-1:0,d=n?-1:1,_=t[e+h];for(h+=d,r=_&(1<<-u)-1,_>>=-u,u+=a;u>0;r=256*r+t[e+h],h+=d,u-=8);for(o=r&(1<<-u)-1,r>>=-u,u+=i;u>0;o=256*o+t[e+h],h+=d,u-=8);if(0===r)r=1-c;else{if(r===l)return o?NaN:1/0*(_?-1:1);o+=Math.pow(2,i),r-=c}return(_?-1:1)*o*Math.pow(2,r-i)},e.write=function(t,e,n,i,s,r){var o,a,l,c=8*r-s-1,u=(1<<c)-1,h=u>>1,d=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,_=i?0:r-1,p=i?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*l-1)*Math.pow(2,s),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,s),o=0));s>=8;t[n+_]=255&a,_+=p,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;t[n+_]=255&o,_+=p,o/=256,c-=8);t[n+_-p]|=128*f}},3614:(t,e,n)=>{"use strict";t.exports=s;var i=n(645);function s(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}s.Varint=0,s.Fixed64=1,s.Bytes=2,s.Fixed32=5;var r=4294967296,o=1/r,a="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function l(t){return t.type===s.Bytes?t.readVarint()+t.pos:t.pos+1}function c(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function u(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var s=n.pos-1;s>=t;s--)n.buf[s+i]=n.buf[s]}function h(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function _(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function y(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function v(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function b(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function w(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function E(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}s.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),s=i>>3,r=this.pos;this.type=7&i,t(s,e,this),this.pos===r&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=b(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=E(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=b(this.buf,this.pos)+b(this.buf,this.pos+4)*r;return this.pos+=8,t},readSFixed64:function(){var t=b(this.buf,this.pos)+E(this.buf,this.pos+4)*r;return this.pos+=8,t},readFloat:function(){var t=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,i=this.buf;return e=127&(n=i[this.pos++]),n<128?e:(e|=(127&(n=i[this.pos++]))<<7,n<128?e:(e|=(127&(n=i[this.pos++]))<<14,n<128?e:(e|=(127&(n=i[this.pos++]))<<21,n<128?e:function(t,e,n){var i,s,r=n.buf;if(i=(112&(s=r[n.pos++]))>>4,s<128)return c(t,i,e);if(i|=(127&(s=r[n.pos++]))<<3,s<128)return c(t,i,e);if(i|=(127&(s=r[n.pos++]))<<10,s<128)return c(t,i,e);if(i|=(127&(s=r[n.pos++]))<<17,s<128)return c(t,i,e);if(i|=(127&(s=r[n.pos++]))<<24,s<128)return c(t,i,e);if(i|=(1&(s=r[n.pos++]))<<31,s<128)return c(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&a?function(t,e,n){return a.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var i="",s=e;s<n;){var r,o,a,l=t[s],c=null,u=l>239?4:l>223?3:l>191?2:1;if(s+u>n)break;1===u?l<128&&(c=l):2===u?128==(192&(r=t[s+1]))&&(c=(31&l)<<6|63&r)<=127&&(c=null):3===u?(r=t[s+1],o=t[s+2],128==(192&r)&&128==(192&o)&&((c=(15&l)<<12|(63&r)<<6|63&o)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(r=t[s+1],o=t[s+2],a=t[s+3],128==(192&r)&&128==(192&o)&&128==(192&a)&&((c=(15&l)<<18|(63&r)<<12|(63&o)<<6|63&a)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,i+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),i+=String.fromCharCode(c),s+=u}return i}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==s.Bytes)return t.push(this.readVarint(e));var n=l(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==s.Bytes)return t.push(this.readSVarint());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==s.Bytes)return t.push(this.readBoolean());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==s.Bytes)return t.push(this.readFloat());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==s.Bytes)return t.push(this.readDouble());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==s.Bytes)return t.push(this.readFixed32());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==s.Bytes)return t.push(this.readSFixed32());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==s.Bytes)return t.push(this.readFixed64());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==s.Bytes)return t.push(this.readSFixed64());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===s.Varint)for(;this.buf[this.pos++]>127;);else if(e===s.Bytes)this.pos=this.readVarint()+this.pos;else if(e===s.Fixed32)this.pos+=4;else{if(e!==s.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),w(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),w(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),w(this.buf,-1&t,this.pos),w(this.buf,Math.floor(t*o),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),w(this.buf,-1&t,this.pos),w(this.buf,Math.floor(t*o),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,i=i+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(i,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var i,s,r=0;r<e.length;r++){if((i=e.charCodeAt(r))>55295&&i<57344){if(!s){i>56319||r+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):s=i;continue}if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,s=i;continue}i=s-55296<<10|i-56320|65536,s=null}else s&&(t[n++]=239,t[n++]=191,t[n++]=189,s=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&u(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),i.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),i.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&u(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,s.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,_,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,v,e)},writeBytesField:function(t,e){this.writeTag(t,s.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,s.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,s.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,s.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,s.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,s.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,s.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,s.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,s.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,s.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},662:(t,e,n)=>{"use strict";t.exports=n.p+"ac952857b7bd9187e4ba.wasm"},6813:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const i={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class s extends Error{constructor(t){const e=i[t];super(e),this.code=t,this.name="AssertionError",this.message=e}}const r=s},5431:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}},8096:(t,e,n)=>{"use strict";n.d(e,{K:()=>o});var i=n(5487),s=n(177),r=n(5818);function o(t,e,n){const o=t;let a=!0,l=!1,c=!1;const u=[(0,r.Vx)(o,i.Z.LOAD,(function(){c=!0,l||e()}))];return o.src&&s.Tp?(l=!0,o.decode().then((function(){a&&e()})).catch((function(t){a&&(c?e():n())}))):u.push((0,r.Vx)(o,i.Z.ERROR,n)),function(){a=!1,u.forEach(r.bN)}}},553:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},825:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(4806),s=n(7195),r=n(8326),o=n(8096);class a extends i.Z{constructor(t,e,n,i,s,r){super(t,e,r),this.crossOrigin_=i,this.src_=n,this.key=n,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(t){this.image_=t,this.state=s.Z.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=s.Z.ERROR,this.unlistenImage_(),this.image_=function(){const t=(0,r.E4)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=s.Z.LOADED:this.state=s.Z.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==s.Z.ERROR&&(this.state=s.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==s.Z.IDLE&&(this.state=s.Z.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,o.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}const l=a},8854:(t,e,n)=>{"use strict";n.d(e,{Z:()=>$t});var i=n(2971),s=n(6813);const r="add",o="remove";var a=n(291);const l="length";class c extends a.ZP{constructor(t,e,n){super(t),this.element=e,this.index=n}}class u extends i.Z{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let t=0,e=this.array_.length;t<e;++t)this.assertUnique_(this.array_[t],t);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,n=t.length;e<n;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)t(e[n],n,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(l)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new c(r,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new c(o,e,t)),e}setAt(t,e){if(t>=this.getLength())return void this.insertAt(t,e);if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new c(o,n,t)),this.dispatchEvent(new c(r,e,t))}updateLength_(){this.set(l,this.array_.length)}assertUnique_(t,e){for(let n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new s.Z(58)}}const h=u;var d=n(5431),_=n(6885),p=n(4187),f=n(6101),g=n(8641),m=n(2710),y=n(1295),v=n(1900);class b extends d.Z{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){(0,p.O3)()}calculateMatrices2D(t){const e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;(0,f.qC)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,f.nb)(i,n)}forEachFeatureAtCoordinate(t,e,n,i,s,r,o,a){let l;const c=e.viewState;function u(t,e,n,i){return s.call(r,e,t?n:null,i)}const h=c.projection,d=(0,v.Cf)(t.slice(),h),_=[[0,0]];if(h.canWrapX()&&i){const t=h.getExtent(),e=(0,g.dz)(t);_.push([-e,0],[e,0])}const p=e.layerStatesArray,f=p.length,m=[],b=[];for(let i=0;i<_.length;i++)for(let s=f-1;s>=0;--s){const r=p[s],h=r.layer;if(h.hasRenderer()&&(0,y.j)(r,c)&&o.call(a,h)){const s=h.getRenderer(),o=h.getSource();if(s&&o){const a=o.getWrapX()?d:t,c=u.bind(null,r.managed);b[0]=a[0]+_[i][0],b[1]=a[1]+_[i][1],l=s.forEachFeatureAtCoordinate(b,e,n,c,m)}if(l)return l}}if(0===m.length)return;const w=1/m.length;return m.forEach(((t,e)=>t.distanceSq+=e*w)),m.sort(((t,e)=>t.distanceSq-e.distanceSq)),m.some((t=>l=t.callback(t.feature,t.layer,t.geometry))),l}hasFeatureAtCoordinate(t,e,n,i,s,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,_.uX,this,s,r)}getMap(){return this.map_}renderFrame(t){(0,p.O3)()}scheduleExpireIconCache(t){m.c.canExpireCache()&&t.postRenderFunctions.push(w)}}function w(t,e){m.c.expire()}const E=b;var x=n(5990),q=n(7380),T=n(8771),S=n(245),C=n(147),I=n(5818),A=n(8326);const k=class extends E{constructor(t){super(t),this.fontChangeListenerKey_=(0,I.oL)(C.sG,x.Z.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=S.XV+" ol-layers";const n=t.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const n=this.getMap();if(n.hasListener(t)){const i=new q.Z(t,void 0,e);n.dispatchEvent(i)}}disposeInternal(){(0,I.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(T.Z.PRECOMPOSE,t);const e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=t.viewState;this.children_.length=0;const i=[];let s=null;for(let r=0,o=e.length;r<o;++r){const o=e[r];t.layerIndex=r;const a=o.layer,l=a.getSourceState();if(!(0,y.j)(o,n)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const c=a.render(t,s);c&&(c!==s&&(this.children_.push(c),s=c),"getDeclutter"in a&&i.push(a))}for(let e=i.length-1;e>=0;--e)i[e].renderDeclutter(t);(0,A.hF)(this.element_,this.children_),this.dispatchRenderEvent(T.Z.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}};var R=n(5487),P=n(947),F=n(9515),O=n(9374);class L extends a.ZP{constructor(t,e){super(t),this.layer=e}}const M="layers";class D extends P.Z{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let n=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(M,this.handleLayersChanged_),n?Array.isArray(n)?n=new h(n.slice(),{unique:!0}):(0,F.h)("function"==typeof n.getArray,43):n=new h(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(I.bN),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push((0,I.oL)(t,r,this.handleLayersAdd_,this),(0,I.oL)(t,o,this.handleLayersRemove_,this));for(const t in this.listenerKeys_)this.listenerKeys_[t].forEach(I.bN);(0,O.Z)(this.listenerKeys_);const e=t.getArray();for(let t=0,n=e.length;t<n;t++){const n=e[t];this.registerLayerListeners_(n),this.dispatchEvent(new L("addlayer",n))}this.changed()}registerLayerListeners_(t){const e=[(0,I.oL)(t,x.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,I.oL)(t,R.Z.CHANGE,this.handleLayerChange_,this)];t instanceof D&&e.push((0,I.oL)(t,"addlayer",this.handleLayerGroupAdd_,this),(0,I.oL)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,p.sq)(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new L("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new L("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new L("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,n=(0,p.sq)(e);this.listenerKeys_[n].forEach(I.bN),delete this.listenerKeys_[n],this.dispatchEvent(new L("removelayer",e)),this.changed()}getLayers(){return this.get(M)}setLayers(t){const e=this.getLayers();if(e){const t=e.getArray();for(let e=0,n=t.length;e<n;++e)this.dispatchEvent(new L("removelayer",t[e]))}this.set(M,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach((function(e){e.getLayersArray(t)})),t}getLayerStatesArray(t){const e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));const i=this.getLayerState();let s=i.zIndex;t||void 0!==i.zIndex||(s=0);for(let t=n,r=e.length;t<r;t++){const n=e[t];n.opacity*=i.opacity,n.visible=n.visible&&i.visible,n.maxResolution=Math.min(n.maxResolution,i.maxResolution),n.minResolution=Math.max(n.minResolution,i.minResolution),n.minZoom=Math.max(n.minZoom,i.minZoom),n.maxZoom=Math.min(n.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==n.extent?n.extent=(0,g.Ed)(n.extent,i.extent):n.extent=i.extent),void 0===n.zIndex&&(n.zIndex=s)}return e}getSourceState(){return"ready"}}const N=D;class z extends a.ZP{constructor(t,e,n){super(t),this.map=e,this.frameState=void 0!==n?n:null}}const Z=z,j=class extends Z{constructor(t,e,n,i,s,r){super(t,e,s),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==i&&i,this.activePointers=r}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},U={SINGLECLICK:"singleclick",CLICK:R.Z.CLICK,DBLCLICK:R.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},B="pointerdown";var G=n(208),W=n(177);class V extends G.Z{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===e?1:e,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=(0,I.oL)(n,B,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=(0,I.oL)(n,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(R.Z.TOUCHMOVE,this.boundHandleTouchMove_,!!W.bM&&{passive:!1})}emulateClick_(t){let e=new j(U.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new j(U.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const e=new j(U.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}),250)}updateActivePointers_(t){const e=t,n=e.pointerId;if(e.type==U.POINTERUP||e.type==U.POINTERCANCEL){delete this.trackedTouches_[n];for(const t in this.trackedTouches_)if(this.trackedTouches_[t].target!==e.target){delete this.trackedTouches_[t];break}}else e.type!=U.POINTERDOWN&&e.type!=U.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new j(U.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(I.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);const e=new j(U.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.down_={};for(const e in t){const n=t[e];this.down_[e]="function"==typeof n?_.Zn:n}if(0===this.dragListenerKeys_.length){const t=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,I.oL)(t,U.POINTERMOVE,this.handlePointerMove_,this),(0,I.oL)(t,U.POINTERUP,this.handlePointerUp_,this),(0,I.oL)(this.element_,U.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push((0,I.oL)(this.element_.getRootNode(),U.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new j(U.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new j(U.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,I.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(R.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,I.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(I.bN),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const K=V,H="postrender",Q="loadstart",X="loadend",Y="layergroup",$="size",J="target",tt="view",et=1/0,nt=class{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,(0,O.Z)(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const i=this.keyFunction_(n);return delete this.queuedElements_[i],n}enqueue(t){(0,F.h)(!(this.keyFunction_(t)in this.queuedElements_),31);const e=this.priorityFunction_(t);return e!=et&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,n=this.priorities_,i=e.length,s=e[t],r=n[t],o=t;for(;t<i>>1;){const s=this.getLeftChildIndex_(t),r=this.getRightChildIndex_(t),o=r<i&&n[r]<n[s]?r:s;e[t]=e[o],n[t]=n[o],t=o}e[t]=s,n[t]=r,this.siftDown_(o,t)}siftDown_(t,e){const n=this.elements_,i=this.priorities_,s=n[e],r=i[e];for(;e>t;){const t=this.getParentIndex_(e);if(!(i[t]>r))break;n[e]=n[t],i[e]=i[t],e=t}n[e]=s,i[e]=r}reprioritize(){const t=this.priorityFunction_,e=this.elements_,n=this.priorities_;let i=0;const s=e.length;let r,o,a;for(o=0;o<s;++o)r=e[o],a=t(r),a==et?delete this.queuedElements_[this.keyFunction_(r)]:(n[i]=a,e[i++]=r);e.length=i,n.length=i,this.heapify_()}};var it=n(7195);const st=class extends nt{constructor(t,e){super((function(e){return t.apply(null,e)}),(function(t){return t[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);return e&&t[0].addEventListener(R.Z.CHANGE,this.boundHandleTileChange_),e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,n=e.getState();if(n===it.Z.LOADED||n===it.Z.ERROR||n===it.Z.EMPTY){n!==it.Z.ERROR&&e.removeEventListener(R.Z.CHANGE,this.boundHandleTileChange_);const t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let n,i,s,r=0;for(;this.tilesLoading_<t&&r<e&&this.getCount()>0;)i=this.dequeue()[0],s=i.getKey(),n=i.getState(),n!==it.Z.IDLE||s in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++r,i.load())}};var rt=n(9090),ot=n(7755);class at extends i.Z{constructor(t){super();const e=t.element;!e||t.target||e.style.pointerEvents||(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){(0,A.ZF)(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&(0,A.ZF)(this.element);for(let t=0,e=this.listenerKeys.length;t<e;++t)(0,I.bN)(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==_.Zn&&this.listenerKeys.push((0,I.oL)(t,H,this.render,this)),t.render())}render(t){}setTarget(t){this.target_="string"==typeof t?document.getElementById(t):t}}const lt=at;var ct=n(5537);const ut=class extends lt{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===t.collapsed||t.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==t.collapsible,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1);const e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions",i=void 0!==t.expandClassName?t.expandClassName:e+"-expand",s=void 0!==t.collapseLabel?t.collapseLabel:"›",r=void 0!==t.collapseClassName?t.collapseClassName:e+"-collapse";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=r):this.collapseLabel_=s;const o=void 0!==t.label?t.label:"i";"string"==typeof o?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=i):this.label_=o;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(R.Z.CLICK,this.handleClick_.bind(this),!1);const l=e+" "+S.XV+" "+S.hg+(this.collapsed_&&this.collapsible_?" "+S.hN:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=l,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e={},n=[];let i=!0;const s=t.layerStatesArray;for(let r=0,o=s.length;r<o;++r){const o=s[r];if(!(0,y.j)(o,t.viewState))continue;const a=o.layer.getSource();if(!a)continue;const l=a.getAttributions();if(!l)continue;const c=l(t);if(c)if(i=i&&!1!==a.getAttributionsCollapsible(),Array.isArray(c))for(let t=0,i=c.length;t<i;++t)c[t]in e||(n.push(c[t]),e[c[t]]=!0);else c in e||(n.push(c),e[c]=!0)}return this.overrideCollapsible_||this.setCollapsible(i),n}updateElement_(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,ct.fS)(e,this.renderedAttributions_)){(0,A.ep)(this.ulElement_);for(let t=0,n=e.length;t<n;++t){const n=document.createElement("li");n.innerHTML=e[t],this.ulElement_.appendChild(n)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(S.hN),this.collapsed_?(0,A.$H)(this.collapseLabel_,this.label_):(0,A.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}};var ht=n(1015);const dt=class extends lt{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=void 0!==t.className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"⇧",i=void 0!==t.compassClassName?t.compassClassName:"ol-compass";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(i));const s=t.tipLabel?t.tipLabel:"Reset rotation",r=document.createElement("button");r.className=e+"-reset",r.setAttribute("type","button"),r.title=s,r.appendChild(this.label_),r.addEventListener(R.Z.CLICK,this.handleClick_.bind(this),!1);const o=e+" "+S.XV+" "+S.hg,a=this.element;a.className=o,a.appendChild(r),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(S.oj)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:ht.Vv}):t.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const n=e.viewState.rotation;if(n!=this.rotation_){const t="rotate("+n+"rad)";if(this.autoHide_){const t=this.element.classList.contains(S.oj);t||0!==n?t&&0!==n&&this.element.classList.remove(S.oj):this.element.classList.add(S.oj)}this.label_.style.transform=t}this.rotation_=n}},_t=class extends lt{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=void 0!==t.className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,i=void 0!==t.zoomInClassName?t.zoomInClassName:e+"-in",s=void 0!==t.zoomOutClassName?t.zoomOutClassName:e+"-out",r=void 0!==t.zoomInLabel?t.zoomInLabel:"+",o=void 0!==t.zoomOutLabel?t.zoomOutLabel:"–",a=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",l=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=i,c.setAttribute("type","button"),c.title=a,c.appendChild("string"==typeof r?document.createTextNode(r):r),c.addEventListener(R.Z.CLICK,this.handleClick_.bind(this,n),!1);const u=document.createElement("button");u.className=s,u.setAttribute("type","button"),u.title=l,u.appendChild("string"==typeof o?document.createTextNode(o):o),u.addEventListener(R.Z.CLICK,this.handleClick_.bind(this,-n),!1);const h=e+" "+S.XV+" "+S.hg,d=this.element;d.className=h,d.appendChild(c),d.appendChild(u),this.duration_=void 0!==t.duration?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const e=this.getMap().getView();if(!e)return;const n=e.getZoom();if(void 0!==n){const i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:ht.Vv})):e.setZoom(i)}}},pt="active";class ft extends i.Z{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(pt)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(pt,t)}setMap(t){this.map_=t}}function gt(t,e,n,i){const s=t.getZoom();if(void 0===s)return;const r=t.getConstrainedZoom(s+e),o=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:void 0!==i?i:250,easing:ht.Vv})}const mt=ft,yt=class extends mt{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==U.DBLCLICK){const n=t.originalEvent,i=t.map,s=t.coordinate,r=n.shiftKey?-this.delta_:this.delta_;gt(i.getView(),r,s,this.duration_),n.preventDefault(),e=!0}return!e}};function vt(t){const e=t.length;let n=0,i=0;for(let s=0;s<e;s++)n+=t[s].clientX,i+=t[s].clientY;return{clientX:n/e,clientY:i/e}}const bt=class extends mt{constructor(t){super(t=t||{}),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==U.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==U.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==U.POINTERDOWN){const n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==U.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}};function wt(t){const e=arguments;return function(t){let n=!0;for(let i=0,s=e.length;i<s&&(n=n&&e[i](t),n);++i);return n}}const Et=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},xt=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},qt=_.uX,Tt=function(t){const e=t.originalEvent;return 0==e.button&&!(W.G$&&W.tK&&e.ctrlKey)},St=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Ct=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},It=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},At=function(t){const e=t.originalEvent;return(0,F.h)(void 0!==e,56),"mouse"==e.pointerType},kt=function(t){const e=t.originalEvent;return(0,F.h)(void 0!==e,56),e.isPrimary&&0===e.button},Rt=class extends bt{constructor(t){super({stopDown:_.Dv}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:wt(St,kt);this.condition_=t.onFocusOnly?wt(xt,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const n=this.targetPointers,i=e.getEventPixel(vt(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const e=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],n=t.map.getView();(0,v.bA)(e,n.getResolution()),(0,v.U1)(e,n.getRotation()),n.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),s=n.getCenterInternal(),r=e.getPixelFromCoordinateInternal(s),o=e.getCoordinateFromPixelInternal([r[0]-t*Math.cos(i),r[1]-t*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(o),duration:500,easing:ht.Vv})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};var Pt=n(828);const Ft=class extends bt{constructor(t){t=t||{},super({stopDown:_.Dv}),this.condition_=t.condition?t.condition:Et,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!At(t))return;const e=t.map,n=e.getView();if(n.getConstraints().rotation===Pt.h$)return;const i=e.getSize(),s=t.pixel,r=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(void 0!==this.lastAngle_){const t=r-this.lastAngle_;n.adjustRotationInternal(-t)}this.lastAngle_=r}handleUpEvent(t){return!At(t)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){return!!At(t)&&(!(!Tt(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}};var Ot=n(1082);class Lt extends d.Z{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(t[0],e[0])+n,i.top=Math.min(t[1],e[1])+n,i.width=Math.abs(e[0]-t[0])+n,i.height=Math.abs(e[1]-t[1])+n}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Ot.ZP([n])}getGeometry(){return this.geometry_}}const Mt=Lt;class Dt extends a.ZP{constructor(t,e,n){super(t),this.coordinate=e,this.mapBrowserEvent=n}}const Nt=class extends bt{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new Mt(t.className||"ol-dragbox"),this.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:Tt,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,n){const i=n[0]-e[0],s=n[1]-e[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Dt("boxdrag",t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Dt(e?"boxend":"boxcancel",t.coordinate,t)),!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Dt("boxstart",t.coordinate,t)),!0)}onBoxEnd(t){}},zt=class extends Nt{constructor(t){super({condition:(t=t||{}).condition?t.condition:Ct,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const e=this.getMap().getView();let n=this.getGeometry();if(this.out_){const t=e.rotatedExtentForGeometry(n),i=e.getResolutionForExtentInternal(t),s=e.getResolution()/i;n=n.clone(),n.scale(s*s)}e.fitInternal(n,{duration:this.duration_,easing:ht.Vv})}},Zt=class extends mt{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return St(t)&&It(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==R.Z.KEYDOWN){const n=t.originalEvent,i=n.keyCode;if(this.condition_(t)&&(40==i||37==i||39==i||38==i)){const s=t.map.getView(),r=s.getResolution()*this.pixelDelta_;let o=0,a=0;40==i?a=-r:37==i?o=-r:39==i?o=r:a=r;const l=[o,a];(0,v.U1)(l,s.getRotation()),function(t,e,n){const i=t.getCenterInternal();if(i){const s=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:ht.GE,center:t.getConstrainedCenter(s)})}}(s,l,this.duration_),n.preventDefault(),e=!0}}return!e}},jt=class extends mt{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:It,this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==R.Z.KEYDOWN||t.type==R.Z.KEYPRESS){const n=t.originalEvent,i=n.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){const s=t.map,r=i=="+".charCodeAt(0)?this.delta_:-this.delta_;gt(s.getView(),r,void 0,this.duration_),n.preventDefault(),e=!0}}return!e}};var Ut=n(3983);const Bt=class extends mt{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:qt;this.condition_=t.onFocusOnly?wt(xt,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();t&&t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t))return!0;if(t.type!==R.Z.WHEEL)return!0;const e=t.map,n=t.originalEvent;let i;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==R.Z.WHEEL&&(i=n.deltaY,W.V&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=W.MP),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)),0===i)return!1;this.lastDelta_=i;const s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?"trackpad":"wheel");const r=e.getView();if("trackpad"===this.mode_&&!r.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(r.getAnimating()&&r.cancelAnimations(),r.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),r.adjustZoom(-i/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=i;const o=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,e),o),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let n=-(0,Ut.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),gt(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}},Gt=class extends bt{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=_.Dv),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0;const n=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){const t=s-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=s;const r=t.map,o=r.getView();o.getConstraints().rotation!==Pt.h$&&(this.anchor_=r.getCoordinateFromPixelInternal(r.getEventPixel(vt(this.targetPointers))),this.rotating_&&(r.render(),o.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}},Wt=class extends bt{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=_.Dv),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const n=this.targetPointers[0],i=this.targetPointers[1],s=n.clientX-i.clientX,r=n.clientY-i.clientY,o=Math.sqrt(s*s+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/o),this.lastDistance_=o;const a=t.map,l=a.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(vt(this.targetPointers))),a.render(),l.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}};var Vt=n(8661),Kt=n(4307),Ht=n(44);function Qt(t){t instanceof y.Z?t.setMapInternal(null):t instanceof N&&t.getLayers().forEach(Qt)}function Xt(t,e){if(t instanceof y.Z)t.setMapInternal(e);else if(t instanceof N){const n=t.getLayers().getArray();for(let t=0,i=n.length;t<i;++t)Xt(n[t],e)}}class Yt extends i.Z{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=function(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new N({layers:t.layers});let s,r,o;return n[Y]=i,n[J]=t.target,n[tt]=t.view instanceof rt.ZP?t.view:new rt.ZP,void 0!==t.controls&&(Array.isArray(t.controls)?s=new h(t.controls.slice()):((0,F.h)("function"==typeof t.controls.getArray,47),s=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new h(t.interactions.slice()):((0,F.h)("function"==typeof t.interactions.getArray,48),r=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new h(t.overlays.slice()):((0,F.h)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new h,{controls:s,interactions:r,keyboardEventTarget:e,overlays:o,values:n}}(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:W.MP,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=(0,f.Ue)(),this.pixelToCoordinateTransform_=(0,f.Ue)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=e.controls||function(t){t=t||{};const e=new h;return(void 0===t.zoom||t.zoom)&&e.push(new _t(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new dt(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new ut(t.attributionOptions)),e}(),this.interactions=e.interactions||function(t){t=t||{};const e=new h,n=new class{constructor(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let n=e-3;for(;n>0&&this.points_[n+2]>t;)n-=3;const i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;const s=this.points_[e]-this.points_[n],r=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(r,s),this.initialVelocity_=Math.sqrt(s*s+r*r)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new Ft),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new yt({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new Rt({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new Gt),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new Wt({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new Zt),e.push(new jt({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new Bt({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new zt({duration:t.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new st(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Y,this.handleLayerGroupChanged_),this.addChangeListener(tt,this.handleViewChanged_),this.addChangeListener($,this.handleSizeChanged_),this.addChangeListener(J,this.handleTargetChanged_),this.setProperties(e.values);const n=this;!t.view||t.view instanceof rt.ZP||t.view.then((function(t){n.setView(new rt.ZP(t))})),this.controls.addEventListener(r,(t=>{t.element.setMap(this)})),this.controls.addEventListener(o,(t=>{t.element.setMap(null)})),this.interactions.addEventListener(r,(t=>{t.element.setMap(this)})),this.interactions.addEventListener(o,(t=>{t.element.setMap(null)})),this.overlays_.addEventListener(r,(t=>{this.addOverlayInternal_(t.element)})),this.overlays_.addEventListener(o,(t=>{const e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)})),this.controls.forEach((t=>{t.setMap(this)})),this.interactions.forEach((t=>{t.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){Xt(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,n){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(t),s=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,r=void 0!==n.layerFilter?n.layerFilter:_.uX,o=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,o,e,null,r,null)}getFeaturesAtPixel(t,e){const n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n}getAllLayers(){const t=[];return function e(n){n.forEach((function(n){n instanceof N?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:_.uX,s=void 0!==e.hitTolerance?e.hitTolerance:0,r=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,s,r,i,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const e=this.viewport_.getBoundingClientRect(),n=this.getSize(),i=e.width/n[0],s=e.height/n[1],r="changedTouches"in t?t.changedTouches[0]:t;return[(r.clientX-e.left)/i,(r.clientY-e.top)/s]}getTarget(){return this.get(J)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return(0,Vt.lO)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?(0,f.nn)(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Y)}setLayers(t){const e=this.getLayerGroup();if(t instanceof h)return void e.setLayers(t);const n=e.getLayers();n.clear(),n.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e];if(!n.visible)continue;const i=n.layer.getRenderer();if(i&&!i.ready)return!0;const s=n.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(t){const e=(0,Vt.Vs)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?(0,f.nn)(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get($)}getView(){return this.get(tt)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,n,i){return function(t,e,n,i,s){if(!t||!(n in t.wantedTiles))return et;if(!t.wantedTiles[n][e.getKey()])return et;const r=t.viewState.center,o=i[0]-r[0],a=i[1]-r[1];return 65536*Math.log(s)+Math.sqrt(o*o+a*a)/s}(this.frameState_,t,e,n,i)}handleBrowserEvent(t,e){e=e||t.type;const n=new j(e,this,t);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,n=e.type;if(n===B||n===R.Z.WHEEL||n===R.Z.KEYDOWN){const t=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():t,i=e.target;if(this.overlayContainerStopEvent_.contains(i)||!(n===t?t.documentElement:n).contains(i))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){const e=this.getInteractions().getArray().slice();for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.getMap()===this&&i.getActive()&&this.getTargetElement()&&(!i.handleEvent(t)||t.propagationStopped))break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let n=this.maxTilesLoading_,i=n;if(t){const e=t.viewHints;if(e[ot.Z.ANIMATING]||e[ot.Z.INTERACTING]){const e=Date.now()-t.time>8;n=e?0:8,i=e?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(T.Z.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(T.Z.RENDERCOMPLETE,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new Z(X,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new Z(Q,this,t))));const n=this.postRenderFunctions_;for(let e=0,i=n.length;e<i;++e)n[e](this,t);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)(0,I.bN)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(R.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(R.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,A.ZF)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host)}const t=this.getTarget(),e="string"==typeof t?document.getElementById(t):t;if(this.targetElement_=e,e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new k(this)),this.mapBrowserEventHandler_=new K(this,this.moveTolerance_);for(const t in U)this.mapBrowserEventHandler_.addEventListener(U[t],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(R.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(R.Z.WHEEL,this.boundHandleBrowserEvent_,!!W.bM&&{passive:!1});const t=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[(0,I.oL)(t,R.Z.KEYDOWN,this.handleBrowserEvent,this),(0,I.oL)(t,R.Z.KEYPRESS,this.handleBrowserEvent,this)];const n=e.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_.observe(e)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,I.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,I.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,I.oL)(t,x.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,I.oL)(t,R.Z.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(I.bN),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new L("addlayer",t)),this.layerGroupPropertyListenerKeys_=[(0,I.oL)(t,x.Z.PROPERTYCHANGE,this.render,this),(0,I.oL)(t,R.Z.CHANGE,this.render,this),(0,I.oL)(t,"addlayer",this.handleLayerAdd_,this),(0,I.oL)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){Qt(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),n=this.getView(),i=this.frameState_;let s=null;if(void 0!==e&&(0,Kt.py)(e)&&n&&n.isDef()){const i=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),r=n.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,g.p8)(r.center,r.resolution,r.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:r,viewHints:i,wantedTiles:{},mapId:(0,p.sq)(this),renderTargets:{}},r.nextCenter&&r.nextResolution){const t=isNaN(r.nextRotation)?r.rotation:r.nextRotation;s.nextExtent=(0,g.p8)(r.nextCenter,r.nextResolution,t,e)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),i&&(!this.previousExtent_||!(0,g.xb)(this.previousExtent_)&&!(0,g.fS)(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Z("movestart",this,i)),this.previousExtent_=(0,g.YN)(this.previousExtent_)),this.previousExtent_&&!s.viewHints[ot.Z.ANIMATING]&&!s.viewHints[ot.Z.INTERACTING]&&!(0,g.fS)(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Z("moveend",this,s)),(0,g.d9)(s.extent,this.previousExtent_))),this.dispatchEvent(new Z(H,this,s)),this.renderComplete_=this.hasListener(Q)||this.hasListener(X)||this.hasListener(T.Z.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new L("removelayer",e)),this.set(Y,t)}setSize(t){this.set($,t)}setTarget(t){this.set(J,t)}setView(t){if(!t||t instanceof rt.ZP)return void this.set(tt,t);this.set(tt,new rt.ZP);const e=this;t.then((function(t){e.setView(new rt.ZP(t))}))}updateSize(){const t=this.getTargetElement();let e;if(t){const n=getComputedStyle(t),i=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),s=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(i)||isNaN(s)||(e=[i,s],!(0,Kt.py)(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&(0,Ht.ZK)("No map visible because the map container's width or height are 0."))}const n=this.getSize();!e||n&&(0,ct.fS)(e,n)||(this.setSize(e),this.updateViewportSize_())}updateViewportSize_(){const t=this.getView();if(t){let e;const n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}}}const $t=Yt},2971:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(291),s=n(5990),r=n(2706),o=n(4187),a=n(9374);class l extends i.ZP{constructor(t,e,n){super(t),this.key=e,this.oldValue=n}}class c extends r.Z{constructor(t){super(),this.on,this.once,this.un,(0,o.sq)(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(t,e){let n;n=`change:${t}`,this.hasListener(n)&&this.dispatchEvent(new l(n,t,e)),n=s.Z.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new l(n,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,n){const i=this.values_||(this.values_={});if(n)i[t]=e;else{const n=i[t];i[t]=e,n!==e&&this.notify(t,n)}}setProperties(t,e){for(const n in t)this.set(n,t[n],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const n=this.values_[t];delete this.values_[t],(0,a.x)(this.values_)&&(this.values_=null),e||this.notify(t,n)}}}const u=c},5990:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={PROPERTYCHANGE:"propertychange"}},2706:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(208),s=n(5487),r=n(5818);class o extends i.Z{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(s.Z.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const n=t.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=(0,r.oL)(this,t[s],e);return i}return(0,r.oL)(this,t,e)}onceInternal(t,e){let n;if(Array.isArray(t)){const i=t.length;n=new Array(i);for(let s=0;s<i;++s)n[s]=(0,r.Vx)(this,t[s],e)}else n=(0,r.Vx)(this,t,e);return e.ol_key=n,n}unInternal(t,e){const n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)(0,r.bN)(t[e]);else(0,r.bN)(t)}(n);else if(Array.isArray(t))for(let n=0,i=t.length;n<i;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)}}o.prototype.on,o.prototype.once,o.prototype.un;const a=o},4806:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(208),s=n(5487),r=n(7195),o=n(4187),a=n(1015);class l extends i.Z{constructor(t,e,n){super(),n=n||{},this.tileCoord=t,this.state=e,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(s.Z.CHANGE)}release(){this.state===r.Z.ERROR&&this.setState(r.Z.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let t=this.interimTile;do{if(t.getState()==r.Z.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){if(!this.interimTile)return;let t=this.interimTile,e=this;do{if(t.getState()==r.Z.LOADED){t.interimTile=null;break}t.getState()==r.Z.LOADING?e=t:t.getState()==r.Z.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==r.Z.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){(0,o.O3)()}getAlpha(t,e){if(!this.transition_)return 1;let n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;const i=e-n+1e3/60;return i>=this.transition_?1:(0,a.YQ)(i/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}const c=l},5532:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(9515);const s=class{constructor(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const n=this.entries_[t];return(0,i.h)(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(t){const e=this.entries_[t];return(0,i.h)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}getValues(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){if(this.containsKey(t))return this.entries_[t].value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){(0,i.h)(!(t in this.entries_),16);const n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_}setSize(t){this.highWaterMark=t}};var r=n(8634);const o=class extends s{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const t=this.peekFirstKey(),e=(0,r.Ul)(t)[0];this.forEach((t=>{t.tileCoord[0]!==e&&(this.remove((0,r.km)(t.tileCoord)),t.release())}))}}},2519:(t,e,n)=>{"use strict";n.d(e,{T:()=>s,Z:()=>r});class i{constructor(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function s(t,e,n,s,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=s,r):new i(t,e,n,s)}const r=i},7195:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},9090:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>S});var i=n(2971),s=n(7755);const r={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var o=n(4768),a=n(8661),l=n(6885),c=n(1900),u=n(9515),h=n(3983);function d(t,e,n){return function(i,s,r,o,a){if(!i)return;if(!s&&!e)return i;const l=e?0:r[0]*s,c=e?0:r[1]*s,u=a?a[0]:0,d=a?a[1]:0;let _=t[0]+l/2+u,p=t[2]-l/2+u,f=t[1]+c/2+d,g=t[3]-c/2+d;_>p&&(_=(p+_)/2,p=_),f>g&&(f=(g+f)/2,g=f);let m=(0,h.uZ)(i[0],_,p),y=(0,h.uZ)(i[1],f,g);if(o&&n&&s){const t=30*s;m+=-t*Math.log(1+Math.max(0,_-i[0])/t)+t*Math.log(1+Math.max(0,i[0]-p)/t),y+=-t*Math.log(1+Math.max(0,f-i[1])/t)+t*Math.log(1+Math.max(0,i[1]-g)/t)}return[m,y]}}function _(t){return t}var p=n(8641),f=n(5537);function g(t,e,n,i){const s=(0,p.dz)(e)/n[0],r=(0,p.Cr)(e)/n[1];return i?Math.min(t,Math.max(s,r)):Math.min(t,Math.min(s,r))}function m(t,e,n){let i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),(0,h.uZ)(i,n/2,2*e)}function y(t,e,n,i,s){return n=void 0===n||n,function(r,o,a,l){if(void 0!==r){const o=i?g(t,i,a,s):t;return n&&l?m(r,o,e):(0,h.uZ)(r,e,o)}}}var v=n(828),b=n(1015),w=n(1082);class E extends i.Z{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=(0,a.UQ)(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&(0,a.h_)(),t.center&&(t.center=(0,a.Vs)(t.center,this.projection_)),t.extent&&(t.extent=(0,a.dY)(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const t in r)delete e[t];this.setProperties(e,!0);const n=function(t){let e,n,i;let s=void 0!==t.minZoom?t.minZoom:0,r=void 0!==t.maxZoom?t.maxZoom:28;const l=void 0!==t.zoomFactor?t.zoomFactor:2,c=void 0!==t.multiWorld&&t.multiWorld,u=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,d=void 0!==t.showFullExtent&&t.showFullExtent,_=(0,a.UQ)(t.projection,"EPSG:3857"),v=_.getExtent();let b=t.constrainOnlyCenter,w=t.extent;if(c||w||!_.isGlobal()||(b=!1,w=v),void 0!==t.resolutions){const o=t.resolutions;n=o[s],i=void 0!==o[r]?o[r]:o[o.length-1],e=t.constrainResolution?function(t,e,n,i){return e=void 0===e||e,function(s,r,o,a){if(void 0!==s){const l=t[0],c=t[t.length-1],u=n?g(l,n,o,i):l;if(a)return e?m(s,u,c):(0,h.uZ)(s,c,u);const d=Math.min(u,s),_=Math.floor((0,f.h7)(t,d,r));return t[_]>u&&_<t.length-1?t[_+1]:t[_]}}}(o,u,!b&&w,d):y(n,i,u,!b&&w,d)}else{const c=(v?Math.max((0,p.dz)(v),(0,p.Cr)(v)):360*a.Wm.degrees/_.getMetersPerUnit())/o.S/Math.pow(2,0),f=c/Math.pow(2,28);n=t.maxResolution,void 0!==n?s=0:n=c/Math.pow(l,s),i=t.minResolution,void 0===i&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,r):c/Math.pow(l,r):f),r=s+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,r-s),e=t.constrainResolution?function(t,e,n,i,s,r){return i=void 0===i||i,n=void 0!==n?n:0,function(o,a,l,c){if(void 0!==o){const u=s?g(e,s,l,r):e;if(c)return i?m(o,u,n):(0,h.uZ)(o,n,u);const d=1e-9,_=Math.ceil(Math.log(e/u)/Math.log(t)-d),p=-a*(.5-d)+.5,f=Math.min(u,o),y=Math.floor(Math.log(e/f)/Math.log(t)+p),v=Math.max(_,y),b=e/Math.pow(t,v);return(0,h.uZ)(b,n,u)}}}(l,n,i,u,!b&&w,d):y(n,i,u,!b&&w,d)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:s,zoomFactor:l}}(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=n.minZoom;const i=function(t){if(void 0!==t.extent){const e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return d(t.extent,t.constrainOnlyCenter,e)}const e=(0,a.UQ)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,d(t,!1,!1)}return _}(t),s=n.constraint,l=function(t){if(void 0===t.enableRotation||t.enableRotation){const e=t.constrainRotation;return void 0===e||!0===e?(0,v.Gw)():!1===e?v.YP:"number"==typeof e?(0,v.gE)(e):v.YP}return v.h$}(t);this.constraints_={center:i,resolution:s,rotation:l},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const n=this.getCenter();if(n){const i=t||[0,0,0,0];e=e||[0,0,0,0];const s=this.getResolution(),r=s/2*(i[3]-e[3]+e[1]-i[1]),o=s/2*(i[0]-e[0]+e[2]-i[2]);this.setCenterInternal([n[0]+r,n[1]-o])}}getUpdatedOptions_(t){const e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let t=0;t<e.length;++t){let n=arguments[t];n.center&&(n=Object.assign({},n),n.center=(0,a.Vs)(n.center,this.getProjection())),n.anchor&&(n=Object.assign({},n),n.anchor=(0,a.Vs)(n.anchor,this.getProjection())),e[t]=n}this.animateInternal.apply(this,e)}animateInternal(t){let e,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const t=arguments[i];t.center&&this.setCenterInternal(t.center),void 0!==t.zoom?this.setZoom(t.zoom):t.resolution&&this.setResolution(t.resolution),void 0!==t.rotation&&this.setRotation(t.rotation)}if(i===n)return void(e&&x(e,!0));let r=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const c=[];for(;i<n;++i){const t=arguments[i],n={start:r,complete:!1,anchor:t.anchor,duration:void 0!==t.duration?t.duration:1e3,easing:t.easing||b.rd,callback:e};if(t.center&&(n.sourceCenter=o,n.targetCenter=t.center.slice(),o=n.targetCenter),void 0!==t.zoom?(n.sourceResolution=a,n.targetResolution=this.getResolutionForZoom(t.zoom),a=n.targetResolution):t.resolution&&(n.sourceResolution=a,n.targetResolution=t.resolution,a=n.targetResolution),void 0!==t.rotation){n.sourceRotation=l;const e=(0,h.$W)(t.rotation-l+Math.PI,2*Math.PI)-Math.PI;n.targetRotation=l+e,l=n.targetRotation}q(n)?n.complete=!0:r+=n.duration,c.push(n)}this.animations_.push(c),this.setHint(s.Z.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[s.Z.ANIMATING]>0}getInteracting(){return this.hints_[s.Z.INTERACTING]>0}cancelAnimations(){let t;this.setHint(s.Z.ANIMATING,-this.hints_[s.Z.ANIMATING]);for(let e=0,n=this.animations_.length;e<n;++e){const n=this.animations_[e];if(n[0].callback&&x(n[0].callback,!1),!t)for(let e=0,i=n.length;e<i;++e){const i=n[e];if(!i.complete){t=i.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let n=this.animations_.length-1;n>=0;--n){const i=this.animations_[n];let r=!0;for(let n=0,s=i.length;n<s;++n){const s=i[n];if(s.complete)continue;const o=t-s.start;let a=s.duration>0?o/s.duration:1;a>=1?(s.complete=!0,a=1):r=!1;const l=s.easing(a);if(s.sourceCenter){const t=s.sourceCenter[0],e=s.sourceCenter[1],n=s.targetCenter[0],i=s.targetCenter[1];this.nextCenter_=s.targetCenter;const r=t+l*(n-t),o=e+l*(i-e);this.targetCenter_=[r,o]}if(s.sourceResolution&&s.targetResolution){const t=1===l?s.targetResolution:s.sourceResolution+l*(s.targetResolution-s.sourceResolution);if(s.anchor){const e=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(t,0,e,!0);this.targetCenter_=this.calculateCenterZoom(n,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=t,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){const t=1===l?(0,h.$W)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+l*(s.targetRotation-s.sourceRotation);if(s.anchor){const e=this.constraints_.rotation(t,!0);this.targetCenter_=this.calculateCenterRotate(e,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=t}if(this.applyTargetState_(!0),e=!0,!s.complete)break}if(r){this.animations_[n]=null,this.setHint(s.Z.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const t=i[0].callback;t&&x(t,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let n;const i=this.getCenterInternal();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],(0,c.U1)(n,t-this.getRotation()),(0,c.IH)(n,e)),n}calculateCenterZoom(t,e){let n;const i=this.getCenterInternal(),s=this.getResolution();return void 0!==i&&void 0!==s&&(n=[e[0]-t*(e[0]-i[0])/s,e[1]-t*(e[1]-i[1])/s]),n}getViewportSize_(t){const e=this.viewportSize_;if(t){const n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t?(0,a.lO)(t,this.getProjection()):t}getCenterInternal(){return this.get(r.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const e=this.calculateExtentInternal(t);return(0,a.Fj)(e,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();(0,u.h)(e,1);const n=this.getResolution();(0,u.h)(void 0!==n,2);const i=this.getRotation();return(0,u.h)(void 0!==i,3),(0,p.p8)(e,n,i,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(r.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal((0,a.dY)(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const n=(0,p.dz)(t)/e[0],i=(0,p.Cr)(t)/e[1];return Math.max(n,i)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(e/n)/Math.log(t);return function(n){return e/Math.pow(t,n*i)}}getRotation(){return this.get(r.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(n/i)/e;return function(t){return Math.log(n/t)/e/s}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),n=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const t=this.getViewportSizeMinusPadding_();i=T(i,this.getViewportSize_(),[t[0]/2+s[3],t[1]/2+s[0]],e,n)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getZoom(){let t;const e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,n,i=this.minZoom_||0;if(this.resolutions_){const s=(0,f.h7)(this.resolutions_,t,1);i=s,e=this.resolutions_[s],n=s==this.resolutions_.length-1?2:e/this.resolutions_[s+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const e=(0,h.uZ)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,(0,h.uZ)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let n;if((0,u.h)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){(0,u.h)(!(0,p.xb)(t),25);const e=(0,a.dY)(t,this.getProjection());n=(0,w.oJ)(e)}else if("Circle"===t.getType()){const e=(0,a.dY)(t.getExtent(),this.getProjection());n=(0,w.oJ)(e),n.rotate(this.getRotation(),(0,p.qg)(e))}else{const e=(0,a.Cs)();n=e?t.clone().transform(e,this.getProjection()):t}this.fitInternal(n,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),n=Math.cos(e),i=Math.sin(-e),s=t.getFlatCoordinates(),r=t.getStride();let o=1/0,a=1/0,l=-1/0,c=-1/0;for(let t=0,e=s.length;t<e;t+=r){const e=s[t]*n-s[t+1]*i,r=s[t]*i+s[t+1]*n;o=Math.min(o,e),a=Math.min(a,r),l=Math.max(l,e),c=Math.max(c,r)}return[o,a,l,c]}fitInternal(t,e){let n=(e=e||{}).size;n||(n=this.getViewportSizeMinusPadding_());const i=void 0!==e.padding?e.padding:[0,0,0,0],s=void 0!==e.nearest&&e.nearest;let r;r=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;const o=this.rotatedExtentForGeometry(t);let a=this.getResolutionForExtentInternal(o,[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]);a=isNaN(a)?r:Math.max(a,r),a=this.getConstrainedResolution(a,s?0:1);const c=this.getRotation(),u=Math.sin(c),h=Math.cos(c),d=(0,p.qg)(o);d[0]+=(i[1]-i[3])/2*a,d[1]+=(i[0]-i[2])/2*a;const _=d[0]*h-d[1]*u,f=d[1]*h+d[0]*u,g=this.getConstrainedCenter([_,f],a),m=e.callback?e.callback:l.Zn;void 0!==e.duration?this.animateInternal({resolution:a,center:g,duration:e.duration,easing:e.easing},m):(this.targetResolution_=a,this.targetCenter_=g,this.applyTargetState_(!1,!0),x(m,!0))}centerOn(t,e,n){this.centerOnInternal((0,a.Vs)(t,this.getProjection()),e,n)}centerOnInternal(t,e,n){this.setCenterInternal(T(t,e,n,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,n,i){let s;const r=this.padding_;if(r&&t){const o=this.getViewportSizeMinusPadding_(-n),a=T(t,i,[o[0]/2+r[3],o[1]/2+r[0]],e,n);s=[t[0]-a[0],t[1]-a[1]]}return s}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){const e=(0,a.lO)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&(0,a.Vs)(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(s,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=(0,a.Vs)(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t?(0,a.Vs)(t,this.getProjection()):t)}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),s=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,s,n),a=this.constraints_.center(this.targetCenter_,o,s,n,this.calculateCenterShift(this.targetCenter_,o,i,s));this.get(r.ROTATION)!==i&&this.set(r.ROTATION,i),this.get(r.RESOLUTION)!==o&&(this.set(r.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),a&&this.get(r.CENTER)&&(0,c.fS)(this.get(r.CENTER),a)||this.set(r.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,n){t=void 0!==t?t:200;const i=e||0,s=this.constraints_.rotation(this.targetRotation_),r=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,i,r),a=this.constraints_.center(this.targetCenter_,o,r,!1,this.calculateCenterShift(this.targetCenter_,o,s,r));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=o,this.targetRotation_=s,this.targetCenter_=a,void this.applyTargetState_();n=n||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===o&&this.getRotation()===s&&this.getCenterInternal()&&(0,c.fS)(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:a,resolution:o,duration:t,easing:b.Vv,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(s.Z.INTERACTING,1)}endInteraction(t,e,n){n=n&&(0,a.Vs)(n,this.getProjection()),this.endInteractionInternal(t,e,n)}endInteractionInternal(t,e,n){this.setHint(s.Z.INTERACTING,-1),this.resolveConstraints(t,e,n)}getConstrainedCenter(t,e){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}getConstrainedZoom(t,e){const n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}getConstrainedResolution(t,e){e=e||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)}}function x(t,e){setTimeout((function(){t(e)}),0)}function q(t){return!(t.sourceCenter&&t.targetCenter&&!(0,c.fS)(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function T(t,e,n,i,s){const r=Math.cos(-s);let o=Math.sin(-s),a=t[0]*r-t[1]*o,l=t[1]*r+t[0]*o;return a+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,o=-o,[a*r-l*o,l*r+a*o]}const S=E},7755:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={ANIMATING:0,INTERACTING:1}},5537:(t,e,n)=>{"use strict";function i(t,e,n){let i,r;n=n||s;let o=0,a=t.length,l=!1;for(;o<a;)i=o+(a-o>>1),r=+n(t[i],e),r<0?o=i+1:(a=i,l=!r);return l?o:~o}function s(t,e){return t>e?1:t<e?-1:0}function r(t,e,n){const i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;let s;if(n>0){for(s=1;s<i;++s)if(t[s]<e)return s-1}else if(n<0){for(s=1;s<i;++s)if(t[s]<=e)return s}else for(s=1;s<i;++s){if(t[s]==e)return s;if(t[s]<e)return"function"==typeof n?n(e,t[s-1],t[s])>0?s-1:s:t[s-1]-e<e-t[s]?s-1:s}return i-1}function o(t,e,n){for(;e<n;){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function a(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let e=0;e<i;e++)t[t.length]=n[e]}function l(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function c(t,e,n){const i=e||s;return t.every((function(e,s){if(0===s)return!0;const r=i(t[s-1],e);return!(r>0||n&&0===r)}))}n.d(e,{FZ:()=>o,fS:()=>l,h7:()=>r,j2:()=>s,l7:()=>a,pT:()=>c,ry:()=>i})},9515:(t,e,n)=>{"use strict";n.d(e,{h:()=>s});var i=n(6813);function s(t,e){if(!t)throw new i.Z(e)}},9706:(t,e,n)=>{"use strict";n.d(e,{BB:()=>h,XC:()=>a,_2:()=>c});var i=n(9515),s=n(3983);const r=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,o=/^([a-z]*)$|^hsla?\(.*\)$/i;function a(t){return"string"==typeof t?t:h(t)}const l=function(){const t={};let e=0;return function(n){let s;if(t.hasOwnProperty(n))s=t[n];else{if(e>=1024){let n=0;for(const i in t)0==(3&n++)&&(delete t[i],--e)}s=function(t){let e,n,s,a,l;if(o.exec(t)&&(t=function(t){const e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}(t)),r.exec(t)){const i=t.length-1;let r;r=i<=4?1:2;const o=4===i||8===i;e=parseInt(t.substr(1+0*r,r),16),n=parseInt(t.substr(1+1*r,r),16),s=parseInt(t.substr(1+2*r,r),16),a=o?parseInt(t.substr(1+3*r,r),16):255,1==r&&(e=(e<<4)+e,n=(n<<4)+n,s=(s<<4)+s,o&&(a=(a<<4)+a)),l=[e,n,s,a/255]}else t.startsWith("rgba(")?(l=t.slice(5,-1).split(",").map(Number),u(l)):t.startsWith("rgb(")?(l=t.slice(4,-1).split(",").map(Number),l.push(1),u(l)):(0,i.h)(!1,14);return l}(n),t[n]=s,++e}return s}}();function c(t){return Array.isArray(t)?t:l(t)}function u(t){return t[0]=(0,s.uZ)(t[0]+.5|0,0,255),t[1]=(0,s.uZ)(t[1]+.5|0,0,255),t[2]=(0,s.uZ)(t[2]+.5|0,0,255),t[3]=(0,s.uZ)(t[3],0,1),t}function h(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}},44:(t,e,n)=>{"use strict";n.d(e,{ZK:()=>r});const i={info:1,warn:2,error:3,none:4};let s=i.info;function r(...t){s>i.warn||console.warn(...t)}},1900:(t,e,n)=>{"use strict";n.d(e,{Cf:()=>l,IH:()=>s,U1:()=>o,bA:()=>a,fS:()=>r});var i=n(8641);function s(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function r(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function o(t,e){const n=Math.cos(e),i=Math.sin(e),s=t[0]*n-t[1]*i,r=t[1]*n+t[0]*i;return t[0]=s,t[1]=r,t}function a(t,e){return t[0]*=e,t[1]*=e,t}function l(t,e){if(e.canWrapX()){const n=(0,i.dz)(e.getExtent()),s=function(t,e,n){const s=e.getExtent();let r=0;return e.canWrapX()&&(t[0]<s[0]||t[0]>s[2])&&(n=n||(0,i.dz)(s),r=Math.floor((t[0]-s[0])/n)),r}(t,e,n);s&&(t[0]-=s*n)}return t}},245:(t,e,n)=>{"use strict";n.d(e,{XV:()=>s,hN:()=>o,hg:()=>r,oj:()=>i,p:()=>c});const i="ol-hidden",s="ol-unselectable",r="ol-control",o="ol-collapsed",a=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),l=["style","variant","weight","size","lineHeight","family"],c=function(t){const e=t.match(a);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let t=0,i=l.length;t<i;++t){const i=e[t+1];void 0!==i&&(n[l[t]]=i)}return n.families=n.family.split(/,\s?/),n}},8326:(t,e,n)=>{"use strict";n.d(e,{$H:()=>o,E4:()=>s,ZF:()=>a,ep:()=>l,hF:()=>c,jy:()=>r});var i=n(177);function s(t,e,n,s){let r;return r=n&&n.length?n.shift():i.Id?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("2d",s)}function r(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function o(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function a(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function c(t,e){const n=t.childNodes;for(let i=0;;++i){const s=n[i],r=e[i];if(!s&&!r)break;s!==r&&(s?r?t.insertBefore(r,s):(t.removeChild(s),--i):t.appendChild(r))}}},1015:(t,e,n)=>{"use strict";function i(t){return Math.pow(t,3)}function s(t){return 1-i(1-t)}function r(t){return 3*t*t-2*t*t*t}function o(t){return t}n.d(e,{GE:()=>o,Vv:()=>s,YQ:()=>i,rd:()=>r})},5818:(t,e,n)=>{"use strict";n.d(e,{Vx:()=>r,bN:()=>o,oL:()=>s});var i=n(9374);function s(t,e,n,i,s){if(i&&i!==t&&(n=n.bind(i)),s){const i=n;n=function(){t.removeEventListener(e,n),i.apply(this,arguments)}}const r={target:t,type:e,listener:n};return t.addEventListener(e,n),r}function r(t,e,n,i){return s(t,e,n,i,!0)}function o(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,i.Z)(t))}},291:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>i});const i=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}},5487:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},208:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(5431),s=n(291),r=n(6885),o=n(9374);class a extends i.Z{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);i.includes(e)||i.push(e)}dispatchEvent(t){const e="string"==typeof t,n=e?t:t.type,i=this.listeners_&&this.listeners_[n];if(!i)return;const o=e?new s.ZP(t):t;o.target||(o.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});let c;n in a||(a[n]=0,l[n]=0),++a[n];for(let t=0,e=i.length;t<e;++t)if(c="handleEvent"in i[t]?i[t].handleEvent(o):i[t].call(this,o),!1===c||o.propagationStopped){c=!1;break}if(0==--a[n]){let t=l[n];for(delete l[n];t--;)this.removeEventListener(n,r.Zn);delete a[n]}return c}disposeInternal(){this.listeners_&&(0,o.Z)(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){const n=this.listeners_&&this.listeners_[t];if(n){const i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=r.Zn,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}}}const l=a},8641:(t,e,n)=>{"use strict";n.d(e,{Cr:()=>R,EO:()=>N,Ed:()=>P,GN:()=>m,H6:()=>x,HK:()=>g,I7:()=>z,Ne:()=>Z,T9:()=>p,Wj:()=>b,Xv:()=>O,YN:()=>f,b8:()=>c,bg:()=>q,d9:()=>a,dY:()=>k,dz:()=>L,f3:()=>o,fS:()=>y,g0:()=>I,hC:()=>T,hI:()=>r,jE:()=>h,kK:()=>M,l7:()=>v,lJ:()=>_,p8:()=>A,pX:()=>d,qP:()=>w,qf:()=>l,qg:()=>C,r4:()=>u,rL:()=>F,w$:()=>S,xb:()=>D});var i=n(8716),s=n(9515);function r(t){const e=[1/0,1/0,-1/0,-1/0];for(let n=0,i=t.length;n<i;++n)b(e,t[n]);return e}function o(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function a(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function l(t,e,n){let i,s;return i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,s=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,i*i+s*s}function c(t,e){return h(t,e[0],e[1])}function u(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function h(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function d(t,e){const n=t[0],s=t[1],r=t[2],o=t[3],a=e[0],l=e[1];let c=i.Z.UNKNOWN;return a<n?c|=i.Z.LEFT:a>r&&(c|=i.Z.RIGHT),l<s?c|=i.Z.BELOW:l>o&&(c|=i.Z.ABOVE),c===i.Z.UNKNOWN&&(c=i.Z.INTERSECTING),c}function _(){return[1/0,1/0,-1/0,-1/0]}function p(t,e,n,i,s){return s?(s[0]=t,s[1]=e,s[2]=n,s[3]=i,s):[t,e,n,i]}function f(t){return p(1/0,1/0,-1/0,-1/0,t)}function g(t,e){const n=t[0],i=t[1];return p(n,i,n,i,e)}function m(t,e,n,i,s){return w(f(s),t,e,n,i)}function y(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function v(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function b(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function w(t,e,n,i,s){for(;n<i;n+=s)E(t,e[n],e[n+1]);return t}function E(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function x(t,e){let n;return n=e(T(t)),n||(n=e(S(t)),n||(n=e(O(t)),n||(n=e(F(t)),n||!1)))}function q(t){let e=0;return D(t)||(e=L(t)*R(t)),e}function T(t){return[t[0],t[1]]}function S(t){return[t[2],t[1]]}function C(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function I(t,e){let n;return"bottom-left"===e?n=T(t):"bottom-right"===e?n=S(t):"top-left"===e?n=F(t):"top-right"===e?n=O(t):(0,s.h)(!1,13),n}function A(t,e,n,i,s){const[r,o,a,l,c,u,h,d]=k(t,e,n,i);return p(Math.min(r,a,c,h),Math.min(o,l,u,d),Math.max(r,a,c,h),Math.max(o,l,u,d),s)}function k(t,e,n,i){const s=e*i[0]/2,r=e*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=s*o,c=s*a,u=r*o,h=r*a,d=t[0],_=t[1];return[d-l+h,_-c-u,d-l-h,_-c+u,d+l-h,_+c+u,d+l+h,_+c-u,d-l+h,_-c-u]}function R(t){return t[3]-t[1]}function P(t,e,n){const i=n||[1/0,1/0,-1/0,-1/0];return M(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):f(i),i}function F(t){return[t[0],t[3]]}function O(t){return[t[2],t[3]]}function L(t){return t[2]-t[0]}function M(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function D(t){return t[2]<t[0]||t[3]<t[1]}function N(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function z(t,e,n){let s=!1;const r=d(t,e),o=d(t,n);if(r===i.Z.INTERSECTING||o===i.Z.INTERSECTING)s=!0;else{const a=t[0],l=t[1],c=t[2],u=t[3],h=e[0],d=e[1],_=n[0],p=n[1],f=(p-d)/(_-h);let g,m;o&i.Z.ABOVE&&!(r&i.Z.ABOVE)&&(g=_-(p-u)/f,s=g>=a&&g<=c),s||!(o&i.Z.RIGHT)||r&i.Z.RIGHT||(m=p-(_-c)*f,s=m>=l&&m<=u),s||!(o&i.Z.BELOW)||r&i.Z.BELOW||(g=_-(p-l)/f,s=g>=a&&g<=c),s||!(o&i.Z.LEFT)||r&i.Z.LEFT||(m=p-(_-a)*f,s=m>=l&&m<=u)}return s}function Z(t,e,n,i){let s=[];if(i>1){const e=t[2]-t[0],n=t[3]-t[1];for(let r=0;r<i;++r)s.push(t[0]+e*r/i,t[1],t[2],t[1]+n*r/i,t[2]-e*r/i,t[3],t[0],t[3]-n*r/i)}else s=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(s,s,2);const r=[],o=[];for(let t=0,e=s.length;t<e;t+=2)r.push(s[t]),o.push(s[t+1]);return function(t,e,n){return p(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(r,o,n)}},8716:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},9646:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>r});var i=n(4187),s=n(8661);const r=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let n=e.dataProjection?(0,s.U2)(e.dataProjection):this.readProjection(t);e.extent&&n&&"tile-pixels"===n.getUnits()&&(n=(0,s.U2)(n),n.setWorldExtent(e.extent)),e={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)}getType(){return(0,i.O3)()}readFeature(t,e){return(0,i.O3)()}readFeatures(t,e){return(0,i.O3)()}readGeometry(t,e){return(0,i.O3)()}readProjection(t){return(0,i.O3)()}writeFeature(t,e){return(0,i.O3)()}writeFeatures(t,e){return(0,i.O3)()}writeGeometry(t,e){return(0,i.O3)()}}},6885:(t,e,n)=>{"use strict";n.d(e,{Dv:()=>r,Zn:()=>o,qe:()=>a,uX:()=>s});var i=n(5537);function s(){return!0}function r(){return!1}function o(){}function a(t){let e,n,s,r=!1;return function(){const o=Array.prototype.slice.call(arguments);return r&&this===s&&(0,i.fS)(o,n)||(r=!0,s=this,n=o,e=t.apply(this,arguments)),e}}},1082:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>T,oJ:()=>S});var i=n(6762),s=n(3983);function r(t,e,n,i,r,o,a){const l=t[e],c=t[e+1],u=t[n]-l,h=t[n+1]-c;let d;if(0===u&&0===h)d=e;else{const _=((r-l)*u+(o-c)*h)/(u*u+h*h);if(_>1)d=n;else{if(_>0){for(let r=0;r<i;++r)a[r]=(0,s.t7)(t[e+r],t[n+r],_);return void(a.length=i)}d=e}}for(let e=0;e<i;++e)a[e]=t[d+e];a.length=i}function o(t,e,n,i,r){let o=t[e],a=t[e+1];for(e+=i;e<n;e+=i){const n=t[e],i=t[e+1],l=(0,s.bI)(o,a,n,i);l>r&&(r=l),o=n,a=i}return r}function a(t,e,n,i,o,a,l,c,u,h,d){if(e==n)return h;let _,p;if(0===o){if(p=(0,s.bI)(l,c,t[e],t[e+1]),p<h){for(_=0;_<i;++_)u[_]=t[e+_];return u.length=i,p}return h}d=d||[NaN,NaN];let f=e+i;for(;f<n;)if(r(t,f-i,f,i,l,c,d),p=(0,s.bI)(l,c,d[0],d[1]),p<h){for(h=p,_=0;_<i;++_)u[_]=d[_];u.length=i,f+=i}else f+=i*Math.max((Math.sqrt(p)-Math.sqrt(h))/o|0,1);if(a&&(r(t,n-i,e,i,l,c,d),p=(0,s.bI)(l,c,d[0],d[1]),p<h)){for(h=p,_=0;_<i;++_)u[_]=d[_];u.length=i}return h}var l=n(8641);function c(t,e,n,i){for(let s=0,r=n.length;s<r;++s){const r=n[s];for(let n=0;n<i;++n)t[e++]=r[n]}return e}var u=n(226),h=n(9241);function d(t,e,n,i){let s=0,r=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];s+=o*n-r*i,r=n,o=i}return s/2}class _ extends i.ZP{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new _(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,n,i){return i<(0,l.qf)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(o(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),a(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))}getArea(){return d(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return(0,h.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=(0,u.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new _(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=c(this.flatCoordinates,0,t,this.stride),this.changed()}}const p=_;class f extends i.ZP{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new f(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){const r=this.flatCoordinates,o=(0,s.bI)(t,e,r[0],r[1]);if(o<i){const t=this.stride;for(let e=0;e<t;++e)n[e]=r[e];return n.length=t,o}return i}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(t){return(0,l.HK)(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return(0,l.jE)(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,i){for(let i=0,s=n.length;i<s;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,t,this.stride),this.changed()}}const g=f;var m=n(5537),y=n(3448),v=n(969);function b(t,e,n,i){for(;e<n-i;){for(let s=0;s<i;++s){const r=t[e+s];t[e+s]=t[n-i+s],t[n-i+s]=r}e+=i,n-=i}}function w(t,e,n,i){let s=0,r=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];s+=(n-r)*(i+o),r=n,o=i}return 0===s?void 0:s>0}function E(t,e,n,i,s){s=void 0!==s&&s;for(let r=0,o=n.length;r<o;++r){const o=n[r],a=w(t,e,o,i);(0===r?s&&a||!s&&!a:s&&!a||!s&&a)&&b(t,e,o,i),e=o}return e}var x=n(9679);class q extends i.ZP{constructor(t,e,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&n?(this.setFlatCoordinates(e,t),this.ends_=n):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?(0,m.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new q(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<(0,l.qf)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,i,s){for(let r=0,a=n.length;r<a;++r){const a=n[r];s=o(t,e,a,i,s),e=a}return s}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,i,s,r,o,l,c,u,h){h=h||[NaN,NaN];for(let d=0,_=n.length;d<_;++d){const _=n[d];u=a(t,e,_,i,s,r,o,l,c,u,h),e=_}return u}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))}containsXY(t,e){return(0,x.wY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return function(t,e,n,i){let s=0;for(let r=0,o=n.length;r<o;++r){const o=n[r];s+=d(t,e,o,i),e=o}return s}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),E(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,h.o1)(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=(0,l.qg)(this.getExtent());this.flatInteriorPoint_=(0,y.X)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new g(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new p(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[];let s=0;for(let r=0,o=n.length;r<o;++r){const o=n[r],a=new p(e.slice(s,o),t);i.push(a),s=o}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;!function(t,e,n,i,s){s=void 0!==s&&s;for(let r=0,o=n.length;r<o;++r){const o=n[r],a=w(t,e,o,i);if(0===r){if(s&&a||!s&&!a)return!1}else if(s&&!a||!s&&a)return!1;e=o}return!0}(t,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=E(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=(0,u.Zh)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new q(e,"XY",n)}getType(){return"Polygon"}intersectsExtent(t){return(0,v.ac)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=function(t,e,n,i,s){s=s||[];let r=0;for(let o=0,a=n.length;o<a;++o){const a=c(t,e,n[o],i);s[r++]=a,e=a}return s.length=r,s}(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const T=q;function S(t){const e=t[0],n=t[1],i=t[2],s=t[3],r=[e,n,e,s,i,s,i,n,e,n];return new q(r,"XY",[r.length])}},6762:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>f,Kr:()=>p});var i=n(2971),s=n(4187),r=n(6101),o=n(8641),a=n(8661),l=n(6885),c=n(6442);const u=(0,r.Ue)();class h extends i.Z{constructor(){super(),this.extent_=(0,o.lJ)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=(0,l.qe)((function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);const i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)}))}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return(0,s.O3)()}closestPointXY(t,e,n,i){return(0,s.O3)()}containsXY(t,e){const n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return(0,s.O3)()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&(0,o.YN)(t),this.extentRevision_=this.getRevision()}return(0,o.EO)(this.extent_,t)}rotate(t,e){(0,s.O3)()}scale(t,e,n){(0,s.O3)()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return(0,s.O3)()}getType(){return(0,s.O3)()}applyTransform(t){(0,s.O3)()}intersectsExtent(t){return(0,s.O3)()}translate(t,e){(0,s.O3)()}transform(t,e){const n=(0,a.U2)(t),i="tile-pixels"==n.getUnits()?function(t,i,s){const l=n.getExtent(),h=n.getWorldExtent(),d=(0,o.Cr)(h)/(0,o.Cr)(l);return(0,r.qC)(u,h[0],h[3],d,-d,0,0,0),(0,c.vT)(t,0,t.length,s,u,i),(0,a.Ck)(n,e)(t,i,s)}:(0,a.Ck)(n,e);return this.applyTransform(i),this}}const d=h;function _(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function p(t,e,n){const i=t.getFlatCoordinates();if(!i)return null;const s=t.getStride();return(0,c.vT)(i,0,i.length,s,e,n)}const f=class extends d{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(t){return(0,o.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return(0,s.O3)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=_(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){(0,s.O3)()}setLayout(t,e,n){let i;if(t)i=_(t);else{for(let t=0;t<n;++t){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}i=e.length,t=function(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}(i)}this.layout=t,this.stride=i}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();(0,c.U1)(n,0,n.length,i,t,e,n),this.changed()}}scale(t,e,n){void 0===e&&(e=t),n||(n=(0,o.qg)(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();(0,c.bA)(i,0,i.length,s,t,e,n,i),this.changed()}}translate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();(0,c.Iu)(n,0,n.length,i,t,e,n),this.changed()}}}},9679:(t,e,n)=>{"use strict";n.d(e,{TG:()=>r,uG:()=>s,wY:()=>o});var i=n(8641);function s(t,e,n,s,o){return!(0,i.H6)(o,(function(i){return!r(t,e,n,s,i[0],i[1])}))}function r(t,e,n,i,s,r){let o=0,a=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];l<=r?i>r&&(n-a)*(r-l)-(s-a)*(i-l)>0&&o++:i<=r&&(n-a)*(r-l)-(s-a)*(i-l)<0&&o--,a=n,l=i}return 0!==o}function o(t,e,n,i,s,o){if(0===n.length)return!1;if(!r(t,e,n[0],i,s,o))return!1;for(let e=1,a=n.length;e<a;++e)if(r(t,n[e-1],n[e],i,s,o))return!1;return!0}},9241:(t,e,n)=>{"use strict";function i(t,e,n,i,s){s=void 0!==s?s:[];let r=0;for(let o=e;o<n;o+=i)s[r++]=t.slice(o,o+i);return s.length=r,s}function s(t,e,n,s,r){r=void 0!==r?r:[];let o=0;for(let a=0,l=n.length;a<l;++a){const l=n[a];r[o++]=i(t,e,l,s,r[o]),e=l}return r.length=o,r}function r(t,e,n,i,r){r=void 0!==r?r:[];let o=0;for(let a=0,l=n.length;a<l;++a){const l=n[a];r[o++]=1===l.length&&l[0]===e?[]:s(t,e,l,i,r[o]),e=l[l.length-1]}return r.length=o,r}n.d(e,{Ml:()=>i,o1:()=>s,ug:()=>r})},3448:(t,e,n)=>{"use strict";n.d(e,{U:()=>o,X:()=>r});var i=n(5537),s=n(9679);function r(t,e,n,r,o,a,l){let c,u,h,d,_,p,f;const g=o[a+1],m=[];for(let i=0,s=n.length;i<s;++i){const s=n[i];for(d=t[s-r],p=t[s-r+1],c=e;c<s;c+=r)_=t[c],f=t[c+1],(g<=p&&f<=g||p<=g&&g<=f)&&(h=(g-p)/(f-p)*(_-d)+d,m.push(h)),d=_,p=f}let y=NaN,v=-1/0;for(m.sort(i.j2),d=m[0],c=1,u=m.length;c<u;++c){_=m[c];const i=Math.abs(_-d);i>v&&(h=(d+_)/2,(0,s.wY)(t,e,n,r,h,g)&&(y=h,v=i)),d=_}return isNaN(y)&&(y=o[a]),l?(l.push(y,g,v),l):[y,g,v]}function o(t,e,n,i,s){let o=[];for(let a=0,l=n.length;a<l;++a){const l=n[a];o=r(t,e,l,i,s,2*a,o),e=l[l.length-1]}return o}},969:(t,e,n)=>{"use strict";n.d(e,{mV:()=>o,ac:()=>a});var i=n(8641),s=n(9679);function r(t,e,n,s,r){const o=(0,i.qP)((0,i.lJ)(),t,e,n,s);return!!(0,i.kK)(r,o)&&(!!(0,i.r4)(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||function(t,e,n,s,o){let a;for(e+=s;e<n;e+=s)if(l=t.slice(e-s,e),c=t.slice(e,e+s),a=(0,i.I7)(r,l,c),a)return a;var l,c;return!1}(t,e,n,s))}function o(t,e,n,i,o){return!!(r(t,e,n,i,o)||(0,s.TG)(t,e,n,i,o[0],o[1])||(0,s.TG)(t,e,n,i,o[0],o[3])||(0,s.TG)(t,e,n,i,o[2],o[1])||(0,s.TG)(t,e,n,i,o[2],o[3]))}function a(t,e,n,i,a){if(!o(t,e,n[0],i,a))return!1;if(1===n.length)return!0;for(let e=1,o=n.length;e<o;++e)if((0,s.uG)(t,n[e-1],n[e],i,a)&&!r(t,n[e-1],n[e],i,a))return!1;return!0}},226:(t,e,n)=>{"use strict";n.d(e,{Zh:()=>a,dt:()=>s,uZ:()=>r});var i=n(3983);function s(t,e,n,s,r,o,a){const l=(n-e)/s;if(l<3){for(;e<n;e+=s)o[a++]=t[e],o[a++]=t[e+1];return a}const c=new Array(l);c[0]=1,c[l-1]=1;const u=[e,n-s];let h=0;for(;u.length>0;){const n=u.pop(),o=u.pop();let a=0;const l=t[o],d=t[o+1],_=t[n],p=t[n+1];for(let e=o+s;e<n;e+=s){const n=t[e],s=t[e+1],r=(0,i.rU)(n,s,l,d,_,p);r>a&&(h=e,a=r)}a>r&&(c[(h-e)/s]=1,o+s<h&&u.push(o,h),h+s<n&&u.push(h,n))}for(let n=0;n<l;++n)c[n]&&(o[a++]=t[e+n*s],o[a++]=t[e+n*s+1]);return a}function r(t,e){return e*Math.round(t/e)}function o(t,e,n,i,s,o,a){if(e==n)return a;let l,c,u=r(t[e],s),h=r(t[e+1],s);e+=i,o[a++]=u,o[a++]=h;do{if(l=r(t[e],s),c=r(t[e+1],s),(e+=i)==n)return o[a++]=l,o[a++]=c,a}while(l==u&&c==h);for(;e<n;){const n=r(t[e],s),d=r(t[e+1],s);if(e+=i,n==l&&d==c)continue;const _=l-u,p=c-h,f=n-u,g=d-h;_*g==p*f&&(_<0&&f<_||_==f||_>0&&f>_)&&(p<0&&g<p||p==g||p>0&&g>p)?(l=n,c=d):(o[a++]=l,o[a++]=c,u=l,h=c,l=n,c=d)}return o[a++]=l,o[a++]=c,a}function a(t,e,n,i,s,r,a,l){for(let c=0,u=n.length;c<u;++c){const u=n[c];a=o(t,e,u,i,s,r,a),l.push(a),e=u}return a}},6442:(t,e,n)=>{"use strict";function i(t,e,n,i,s,r){r=r||[];let o=0;for(let a=e;a<n;a+=i){const e=t[a],n=t[a+1];r[o++]=s[0]*e+s[2]*n+s[4],r[o++]=s[1]*e+s[3]*n+s[5]}return r&&r.length!=o&&(r.length=o),r}function s(t,e,n,i,s,r,o){o=o||[];const a=Math.cos(s),l=Math.sin(s),c=r[0],u=r[1];let h=0;for(let s=e;s<n;s+=i){const e=t[s]-c,n=t[s+1]-u;o[h++]=c+e*a-n*l,o[h++]=u+e*l+n*a;for(let e=s+2;e<s+i;++e)o[h++]=t[e]}return o&&o.length!=h&&(o.length=h),o}function r(t,e,n,i,s,r,o,a){a=a||[];const l=o[0],c=o[1];let u=0;for(let o=e;o<n;o+=i){const e=t[o]-l,n=t[o+1]-c;a[u++]=l+s*e,a[u++]=c+r*n;for(let e=o+2;e<o+i;++e)a[u++]=t[e]}return a&&a.length!=u&&(a.length=u),a}function o(t,e,n,i,s,r,o){o=o||[];let a=0;for(let l=e;l<n;l+=i){o[a++]=t[l]+s,o[a++]=t[l+1]+r;for(let e=l+2;e<l+i;++e)o[a++]=t[e]}return o&&o.length!=a&&(o.length=a),o}n.d(e,{Iu:()=>o,U1:()=>s,bA:()=>r,vT:()=>i})},177:(t,e,n)=>{"use strict";n.d(e,{G$:()=>r,Id:()=>l,MP:()=>a,Tp:()=>c,V:()=>s,bM:()=>u,tK:()=>o});const i="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",s=i.includes("firefox"),r=(i.includes("safari")&&!i.includes("chrom")&&(i.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(i)),i.includes("webkit")&&!i.includes("edge")),o=i.includes("macintosh"),a="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,l="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,c="undefined"!=typeof Image&&Image.prototype.decode,u=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},947:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(2971),s=n(1912),r=n(4187),o=n(9515),a=n(3983);class l extends i.Z{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"==typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[s.Z.OPACITY]=void 0!==t.opacity?t.opacity:1,(0,o.h)("number"==typeof e[s.Z.OPACITY],64),e[s.Z.VISIBLE]=void 0===t.visible||t.visible,e[s.Z.Z_INDEX]=t.zIndex,e[s.Z.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[s.Z.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,e[s.Z.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,e[s.Z.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=(0,a.uZ)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return(0,r.O3)()}getLayerStatesArray(t){return(0,r.O3)()}getExtent(){return this.get(s.Z.EXTENT)}getMaxResolution(){return this.get(s.Z.MAX_RESOLUTION)}getMinResolution(){return this.get(s.Z.MIN_RESOLUTION)}getMinZoom(){return this.get(s.Z.MIN_ZOOM)}getMaxZoom(){return this.get(s.Z.MAX_ZOOM)}getOpacity(){return this.get(s.Z.OPACITY)}getSourceState(){return(0,r.O3)()}getVisible(){return this.get(s.Z.VISIBLE)}getZIndex(){return this.get(s.Z.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(s.Z.EXTENT,t)}setMaxResolution(t){this.set(s.Z.MAX_RESOLUTION,t)}setMinResolution(t){this.set(s.Z.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(s.Z.MAX_ZOOM,t)}setMinZoom(t){this.set(s.Z.MIN_ZOOM,t)}setOpacity(t){(0,o.h)("number"==typeof t,64),this.set(s.Z.OPACITY,t)}setVisible(t){this.set(s.Z.VISIBLE,t)}setZIndex(t){this.set(s.Z.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const c=l},1295:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h,j:()=>u});var i=n(947),s=n(5487),r=n(1912),o=n(8771),a=n(9515),l=n(5818);class c extends i.Z{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(r.Z.SOURCE,this.handleSourcePropertyChange_);const n=t.source?t.source:null;this.setSource(n)}getLayersArray(t){return(t=t||[]).push(this),t}getLayerStatesArray(t){return(t=t||[]).push(this.getLayerState()),t}getSource(){return this.get(r.Z.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,l.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=(0,l.oL)(t,s.Z.CHANGE,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}render(t,e){const n=this.getRenderer();if(n.prepareFrame(t))return this.rendered=!0,n.renderFrame(t,e)}unrender(){this.rendered=!1}setMapInternal(t){t||this.unrender(),this.set(r.Z.MAP,t)}getMapInternal(){return this.get(r.Z.MAP)}setMap(t){this.mapPrecomposeKey_&&((0,l.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,l.bN)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,l.oL)(t,o.Z.PRECOMPOSE,(function(t){const e=t.frameState.layerStatesArray,n=this.getLayerState(!1);(0,a.h)(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=(0,l.oL)(this,s.Z.CHANGE,t.render,t),this.changed())}setSource(t){this.set(r.Z.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function u(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}const h=c},1912:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},2479:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(1295),s=n(8280);class r extends i.Z{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}getPreload(){return this.get(s.Z.PRELOAD)}setPreload(t){this.set(s.Z.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(s.Z.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(s.Z.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}const o=r;var a=n(4708);const l=class extends o{constructor(t){super(t)}createRenderer(){return new a.Z(this)}}},8280:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},3983:(t,e,n)=>{"use strict";function i(t,e,n){return Math.min(Math.max(t,e),n)}function s(t,e,n,i,s,o){const a=s-n,l=o-i;if(0!==a||0!==l){const r=((t-n)*a+(e-i)*l)/(a*a+l*l);r>1?(n=s,i=o):r>0&&(n+=a*r,i+=l*r)}return r(t,e,n,i)}function r(t,e,n,i){const s=n-t,r=i-e;return s*s+r*r}function o(t){const e=t.length;for(let n=0;n<e;n++){let i=n,s=Math.abs(t[n][n]);for(let r=n+1;r<e;r++){const e=Math.abs(t[r][n]);e>s&&(s=e,i=r)}if(0===s)return null;const r=t[i];t[i]=t[n],t[n]=r;for(let i=n+1;i<e;i++){const s=-t[i][n]/t[n][n];for(let r=n;r<e+1;r++)n==r?t[i][r]=0:t[i][r]+=s*t[n][r]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let s=i-1;s>=0;s--)t[s][e]-=t[s][i]*n[i]}return n}function a(t){return t*Math.PI/180}function l(t,e){const n=t%e;return n*e<0?n+e:n}function c(t,e,n){return t+n*(e-t)}function u(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function h(t,e){return Math.floor(u(t,e))}function d(t,e){return Math.ceil(u(t,e))}n.d(e,{$W:()=>l,FH:()=>u,GW:()=>h,SV:()=>o,Yr:()=>a,bI:()=>r,mD:()=>d,rU:()=>s,t7:()=>c,uZ:()=>i})},9374:(t,e,n)=>{"use strict";function i(t){for(const e in t)delete t[e]}function s(t){let e;for(e in t)return!1;return!e}n.d(e,{Z:()=>i,x:()=>s})},8661:(t,e,n)=>{"use strict";n.d(e,{Wm:()=>f.W,UQ:()=>F,h_:()=>S,OP:()=>L,mi:()=>O,Vs:()=>B,dY:()=>W,U2:()=>k,_Q:()=>R,Ck:()=>D,Cs:()=>j,lO:()=>U,Fj:()=>G,vs:()=>N,$A:()=>z});var i=n(9619);const s=6378137,r=Math.PI*s,o=[-r,-r,r,r],a=[-180,-85,180,85],l=s*Math.log(Math.tan(Math.PI/2));class c extends i.Z{constructor(t){super({code:t,units:"m",extent:o,global:!0,worldExtent:a,getPointResolution:function(t,e){return t/Math.cosh(e[1]/s)}})}}const u=[new c("EPSG:3857"),new c("EPSG:102100"),new c("EPSG:102113"),new c("EPSG:900913"),new c("http://www.opengis.net/def/crs/EPSG/0/3857"),new c("http://www.opengis.net/gml/srs/epsg.xml#3857")];const h=[-180,-90,180,90],d=6378137*Math.PI/180;class _ extends i.Z{constructor(t,e){super({code:t,units:"degrees",extent:h,axisOrientation:e,global:!0,metersPerUnit:d,worldExtent:h})}}const p=[new _("CRS:84"),new _("EPSG:4326","neu"),new _("urn:ogc:def:crs:OGC:1.3:CRS84"),new _("urn:ogc:def:crs:OGC:2:84"),new _("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new _("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new _("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var f=n(8375);let g={},m={};function y(t,e,n){const i=t.getCode(),s=e.getCode();i in m||(m[i]={}),m[i][s]=n}var v=n(8641),b=n(1900),w=n(3983);const E=6371008.8;function x(t,e,n){n=n||E;const i=(0,w.Yr)(t[1]),s=(0,w.Yr)(e[1]),r=(s-i)/2,o=(0,w.Yr)(e[0]-t[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var q=n(44);let T=!0;function S(t){T=!(void 0===t||t)}function C(t,e){if(void 0!==e)for(let n=0,i=t.length;n<i;++n)e[n]=t[n];else e=t.slice();return e}function I(t,e){if(void 0!==e&&t!==e){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function A(t){!function(t,e){g[t]=e}(t.getCode(),t),y(t,t,C)}function k(t){return"string"==typeof t?g[e=t]||g[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function R(t,e,n,i){let s;const r=(t=k(t)).getPointResolutionFunc();if(r){if(s=r(e,n),i&&i!==t.getUnits()){const e=t.getMetersPerUnit();e&&(s=s*e/f.W[i])}}else{const r=t.getUnits();if("degrees"==r&&!i||"degrees"==i)s=e;else{const o=M(t,k("EPSG:4326"));if(o===I&&"degrees"!==r)s=e*t.getMetersPerUnit();else{let t=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];t=o(t,t,2),s=(x(t.slice(0,2),t.slice(2,4))+x(t.slice(4,6),t.slice(6,8)))/2}const a=i?f.W[i]:t.getMetersPerUnit();void 0!==a&&(s/=a)}}return s}function P(t){!function(t){t.forEach(A)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&y(e,t,C)}))}))}function F(t,e){return t?"string"==typeof t?k(t):t:k(e)}function O(t,e){return S(),N(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function L(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||M(t,e)===C)&&n}function M(t,e){let n=function(t,e){let n;return t in m&&e in m[t]&&(n=m[t][e]),n}(t.getCode(),e.getCode());return n||(n=I),n}function D(t,e){return M(k(t),k(e))}function N(t,e,n){return D(e,n)(t,void 0,t.length)}function z(t,e,n,i){const s=D(e,n);return(0,v.Ne)(t,s,void 0,i)}let Z=null;function j(){return Z}function U(t,e){return Z?N(t,e,Z):t}function B(t,e){return Z?N(t,Z,e):(T&&!(0,b.fS)(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(T=!1,(0,q.ZK)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function G(t,e){return Z?z(t,e,Z):t}function W(t,e){return Z?z(t,Z,e):t}var V,K,H;P(u),P(p),V=u,K=function(t,e,n){const i=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(i));for(let o=0;o<i;o+=n){e[o]=r*t[o]/180;let n=s*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));n>l?n=l:n<-l&&(n=-l),e[o+1]=n}return e},H=function(t,e,n){const i=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(i));for(let o=0;o<i;o+=n)e[o]=180*t[o]/r,e[o+1]=360*Math.atan(Math.exp(t[o+1]/s))/Math.PI-90;return e},p.forEach((function(t){V.forEach((function(e){y(t,e,K),y(e,t,H)}))}))},9619:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(8375);const s=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||i.W[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}},8375:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});const i={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937}},7380:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(291);class s extends i.ZP{constructor(t,e,n,i){super(t),this.inversePixelTransform=e,this.frameState=n,this.context=i}}const r=s},8771:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},3433:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>_});var i=n(6101),s=n(8641),r=n(5537),o=n(3448),a=n(8661),l=n(3983);function c(t,e,n,i,s,o,a){let c,u;const h=(n-e)/i;if(1===h)c=e;else if(2===h)c=e,u=s;else if(0!==h){let o=t[e],a=t[e+1],l=0;const h=[0];for(let s=e+i;s<n;s+=i){const e=t[s],n=t[s+1];l+=Math.sqrt((e-o)*(e-o)+(n-a)*(n-a)),h.push(l),o=e,a=n}const d=s*l,_=(0,r.ry)(h,d);_<0?(u=(d-h[-_-2])/(h[-_-1]-h[-_-2]),c=e+(-_-2)*i):c=e+_*i}a=a>1?a:2,o=o||new Array(a);for(let e=0;e<a;++e)o[e]=void 0===c?NaN:void 0===u?t[c+e]:(0,l.t7)(t[c+e],t[c+i+e],u);return o}var u=n(6442);const h=(0,i.Ue)();class d{constructor(t,e,n,i,s){this.styleFunction,this.extent_,this.id_=s,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=i}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,s.HK)(this.flatCoordinates_):(0,s.GN)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=(0,s.qg)(this.getExtent());this.flatInteriorPoints_=(0,o.X)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=function(t,e,n,i){const r=[];let o=(0,s.lJ)();for(let i=0,a=n.length;i<a;++i){const a=n[i];o=(0,s.GN)(t,e,a[0],2),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=a[a.length-1]}return r}(this.flatCoordinates_,0,this.ends_);this.flatInteriorPoints_=(0,o.U)(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=c(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const n=this.ends_;for(let i=0,s=n.length;i<s;++i){const s=n[i],o=c(t,e,s,2,.5);(0,r.l7)(this.flatMidpoints_,o),e=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getStride(){return 2}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){const e=(t=(0,a.U2)(t)).getExtent(),n=t.getWorldExtent();if(e&&n){const t=(0,s.Cr)(n)/(0,s.Cr)(e);(0,i.qC)(h,n[0],n[3],t,-t,0,0,0),(0,u.vT)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,h,this.flatCoordinates_)}}getEnds(){return this.ends_}}d.prototype.getEndss=d.prototype.getEnds,d.prototype.getFlatCoordinates=d.prototype.getOrientedFlatCoordinates;const _=d},147:(t,e,n)=>{"use strict";n.d(e,{Df:()=>l,He:()=>d,Kd:()=>I,PH:()=>g,Qx:()=>q,Tx:()=>f,V4:()=>p,X9:()=>h,Zw:()=>A,_f:()=>k,bL:()=>c,mb:()=>u,oB:()=>y,rc:()=>_,ru:()=>m,sG:()=>b,yC:()=>v});var i=n(2971),s=n(177),r=n(9374),o=n(8326),a=n(245);const l="10px sans-serif",c="#000",u="round",h=[],d=0,_="round",p=10,f="#000",g="center",m="middle",y=[0,0,0,0],v=1,b=new i.Z;let w,E=null;const x={},q=function(){const t=100,e="32px ",n=["monospace","serif"],i=n.length,s="wmytzilWMYTZIL@#/&?$%10";let o,l;function c(t,r,o){let a=!0;for(let c=0;c<i;++c){const i=n[c];if(l=C(t+" "+r+" "+e+i,s),o!=i){const n=C(t+" "+r+" "+e+o+","+i,s);a=a&&n!=l}}return!!a}function u(){let e=!0;const n=b.getKeys();for(let i=0,s=n.length;i<s;++i){const s=n[i];b.get(s)<t&&(c.apply(this,s.split("\n"))?((0,r.Z)(x),E=null,w=void 0,b.set(s,t)):(b.set(s,b.get(s)+1,!0),e=!1))}e&&(clearInterval(o),o=void 0)}return function(e){const n=(0,a.p)(e);if(!n)return;const i=n.families;for(let e=0,s=i.length;e<s;++e){const s=i[e],r=n.style+"\n"+n.weight+"\n"+s;void 0===b.get(r)&&(b.set(r,t,!0),c(n.style,n.weight,s)||(b.set(r,0,!0),void 0===o&&(o=setInterval(u,32))))}}}(),T=function(){let t;return function(e){let n=x[e];if(null==n){if(s.Id){const t=(0,a.p)(e),i=S(e,"Žg");n=(isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);x[e]=n}return n}}();function S(t,e){return E||(E=(0,o.E4)(1,1)),t!=w&&(E.font=t,w=E.font),E.measureText(e)}function C(t,e){return S(t,e).width}function I(t,e,n){if(e in n)return n[e];const i=e.split("\n").reduce(((e,n)=>Math.max(e,C(t,n))),0);return n[e]=i,i}function A(t,e){const n=[],i=[],s=[];let r=0,o=0,a=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){const h=e[c];if("\n"===h||c===u){r=Math.max(r,o),s.push(o),o=0,a+=l;continue}const d=e[c+1]||t.font,_=C(d,h);n.push(_),o+=_;const p=T(d);i.push(p),l=Math.max(l,p)}return{width:r,height:a,widths:n,heights:i,lineWidths:s}}function k(t,e,n,i,s,r,o,a,l,c,u){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),i.contextInstructions?(t.translate(l,c),t.scale(u[0],u[1]),function(t,e){const n=t.contextInstructions;for(let t=0,i=n.length;t<i;t+=2)Array.isArray(n[t+1])?e[n[t]].apply(e,n[t+1]):e[n[t]]=n[t+1]}(i,t)):u[0]<0||u[1]<0?(t.translate(l,c),t.scale(u[0],u[1]),t.drawImage(i,s,r,o,a,0,0,o,a)):t.drawImage(i,s,r,o,a,l,c,o*u[0],a*u[1]),t.restore()}},4708:(t,e,n)=>{"use strict";n.d(e,{Z:()=>q});var i=n(5487),s=n(553),r=n(2706),o=n(4187);class a extends r.Z{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.declutterExecutorGroup=null}getFeatures(t){return(0,o.O3)()}getData(t){return null}prepareFrame(t){return(0,o.O3)()}renderFrame(t,e){return(0,o.O3)()}loadedTileCallback(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n}createLoadedTileFinder(t,e,n){return(i,s)=>{const r=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,s,r)}}forEachFeatureAtCoordinate(t,e,n,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){t.target.getState()===s.Z.LOADED&&this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=s.Z.LOADED&&e!=s.Z.ERROR&&t.addEventListener(i.Z.CHANGE,this.boundHandleImageChange_),e==s.Z.IDLE&&(t.load(),e=t.getState()),e==s.Z.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}const l=a;var c=n(7380),u=n(8771),h=n(6101),d=n(9706),_=n(8326),p=n(5537),f=n(8641);let g=null;const m=class extends l{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=(0,h.Ue)(),this.pixelTransform=(0,h.Ue)(),this.inversePixelTransform=(0,h.Ue)(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,e,n){let i;g||(g=(0,_.E4)(1,1,void 0,{willReadFrequently:!0})),g.clearRect(0,0,1,1);try{g.drawImage(t,e,n,1,1,0,0,1,1),i=g.getImageData(0,0,1,1).data}catch(t){return g=null,null}return i}getBackground(t){let e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0}useContainer(t,e,n){const i=this.getLayer().getClassName();let s,r;if(t&&t.className===i&&(!n||t&&t.style.backgroundColor&&(0,p.fS)((0,d._2)(t.style.backgroundColor),(0,d._2)(n)))){const e=t.firstElementChild;e instanceof HTMLCanvasElement&&(r=e.getContext("2d"))}if(r&&r.canvas.style.transform===e?(this.container=t,this.context=r,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=i;let t=s.style;t.position="absolute",t.width="100%",t.height="100%",r=(0,_.E4)();const e=r.canvas;s.appendChild(e),t=e.style,t.position="absolute",t.left="0",t.transformOrigin="top left",this.container=s,this.context=r}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(t,e,n){const i=(0,f.rL)(n),s=(0,f.Xv)(n),r=(0,f.w$)(n),o=(0,f.hC)(n);(0,h.nn)(e.coordinateToPixelTransform,i),(0,h.nn)(e.coordinateToPixelTransform,s),(0,h.nn)(e.coordinateToPixelTransform,r),(0,h.nn)(e.coordinateToPixelTransform,o);const a=this.inversePixelTransform;(0,h.nn)(a,i),(0,h.nn)(a,s),(0,h.nn)(a,r),(0,h.nn)(a,o),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.clip()}dispatchRenderEvent_(t,e,n){const i=this.getLayer();if(i.hasListener(t)){const s=new c.Z(t,this.inversePixelTransform,n,e);i.dispatchEvent(s)}}preRender(t,e){this.frameState=e,this.dispatchRenderEvent_(u.Z.PRERENDER,t,e)}postRender(t,e){this.dispatchRenderEvent_(u.Z.POSTRENDER,t,e)}getRenderTransform(t,e,n,i,s,r,o){const a=s/2,l=r/2,c=i/e,u=-c,d=-t[0]+o,_=-t[1];return(0,h.qC)(this.tempTransform,a,l,c,u,-n,d,_)}disposeInternal(){delete this.frameState,super.disposeInternal()}};var y=n(825),v=n(3883),b=n(2519),w=n(7195),E=n(8661),x=n(4307);const q=class extends m{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,f.lJ)(),this.tmpTileRange_=new b.Z(0,0,0,0)}isDrawableTile(t){const e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==w.Z.LOADED||n==w.Z.EMPTY||n==w.Z.ERROR&&!i}getTile(t,e,n,i){const s=i.pixelRatio,r=i.viewState.projection,o=this.getLayer();let a=o.getSource().getTile(t,e,n,s,r);return a.getState()==w.Z.ERROR&&o.getUseInterimTilesOnError()&&o.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(a)||(a=a.getInterimTile()),a}getData(t){const e=this.frameState;if(!e)return null;const n=this.getLayer(),i=(0,h.nn)(e.pixelToCoordinateTransform,t.slice()),s=n.getExtent();if(s&&!(0,f.b8)(s,i))return null;const r=e.pixelRatio,o=e.viewState.projection,a=e.viewState,l=n.getRenderSource(),c=l.getTileGridForProjection(a.projection),u=l.getTilePixelRatio(e.pixelRatio);for(let t=c.getZForResolution(a.resolution);t>=c.getMinZoom();--t){const e=c.getTileCoordForCoordAndZ(i,t),n=l.getTile(t,e[1],e[2],r,o);if(!(n instanceof y.Z||n instanceof v.Z)||n instanceof v.Z&&n.getState()===w.Z.EMPTY)return null;if(n.getState()!==w.Z.LOADED)continue;const s=c.getOrigin(t),h=(0,x.Pq)(c.getTileSize(t)),d=c.getResolution(t),_=Math.floor(u*((i[0]-s[0])/d-e[1]*h[0])),p=Math.floor(u*((s[1]-i[1])/d-e[2]*h[1])),f=Math.round(u*l.getGutterForProjection(a.projection));return this.getImageData(n.getImage(),_+f,p+f)}return null}loadedTileCallback(t,e,n){return!!this.isDrawableTile(n)&&super.loadedTileCallback(t,e,n)}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,e){const n=t.layerStatesArray[t.layerIndex],i=t.viewState,s=i.projection,r=i.resolution,a=i.center,l=i.rotation,c=t.pixelRatio,u=this.getLayer(),d=u.getSource(),_=d.getRevision(),g=d.getTileGridForProjection(s),m=g.getZForResolution(r,d.zDirection),y=g.getResolution(m);let v=t.extent;const b=t.viewState.resolution,x=d.getTilePixelRatio(c),q=Math.round((0,f.dz)(v)/b*c),T=Math.round((0,f.Cr)(v)/b*c),S=n.extent&&(0,E.dY)(n.extent,s);S&&(v=(0,f.Ed)(v,(0,E.dY)(n.extent,s)));const C=y*q/2/x,I=y*T/2/x,A=[a[0]-C,a[1]-I,a[0]+C,a[1]+I],k=g.getTileRangeForExtentAndZ(v,m),R={};R[m]={};const P=this.createLoadedTileFinder(d,s,R),F=this.tmpExtent,O=this.tmpTileRange_;this.newTiles_=!1;const L=l?(0,f.dY)(i.center,b,l,t.size):void 0;for(let e=k.minX;e<=k.maxX;++e)for(let i=k.minY;i<=k.maxY;++i){if(l&&!g.tileCoordIntersectsViewport([m,e,i],L))continue;const s=this.getTile(m,e,i,t);if(this.isDrawableTile(s)){const e=(0,o.sq)(this);if(s.getState()==w.Z.LOADED){R[m][s.tileCoord.toString()]=s;let t=s.inTransition(e);t&&1!==n.opacity&&(s.endTransition(e),t=!1),this.newTiles_||!t&&this.renderedTiles.includes(s)||(this.newTiles_=!0)}if(1===s.getAlpha(e,t.time))continue}const r=g.getTileCoordChildTileRange(s.tileCoord,O,F);let a=!1;r&&(a=P(m+1,r)),a||g.forEachTileCoordParentTileRange(s.tileCoord,P,O,F)}const M=y/r*c/x;(0,h.qC)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,l,-q/2,-T/2);const D=(0,h.BB)(this.pixelTransform);this.useContainer(e,D,this.getBackground(t));const N=this.context,z=N.canvas;(0,h.nb)(this.inversePixelTransform,this.pixelTransform),(0,h.qC)(this.tempTransform,q/2,T/2,M,M,0,-q/2,-T/2),z.width!=q||z.height!=T?(z.width=q,z.height=T):this.containerReused||N.clearRect(0,0,q,T),S&&this.clipUnrotated(N,t,S),d.getInterpolate()||(N.imageSmoothingEnabled=!1),this.preRender(N,t),this.renderedTiles.length=0;let Z,j,U,B=Object.keys(R).map(Number);B.sort(p.j2),1!==n.opacity||this.containerReused&&!d.getOpaque(t.viewState.projection)?(Z=[],j=[]):B=B.reverse();for(let e=B.length-1;e>=0;--e){const n=B[e],i=d.getTilePixelSize(n,c,s),r=g.getResolution(n)/y,a=i[0]*r*M,l=i[1]*r*M,u=g.getTileCoordForCoordAndZ((0,f.rL)(A),n),_=g.getTileCoordExtent(u),p=(0,h.nn)(this.tempTransform,[x*(_[0]-A[0])/y,x*(A[3]-_[3])/y]),v=x*d.getGutterForProjection(s),b=R[n];for(const e in b){const i=b[e],s=i.tileCoord,r=u[1]-s[1],c=Math.round(p[0]-(r-1)*a),h=u[2]-s[2],_=Math.round(p[1]-(h-1)*l),g=Math.round(p[0]-r*a),y=Math.round(p[1]-h*l),w=c-g,E=_-y,x=m===n,q=x&&1!==i.getAlpha((0,o.sq)(this),t.time);let T=!1;if(!q)if(Z){U=[g,y,g+w,y,g+w,y+E,g,y+E];for(let t=0,e=Z.length;t<e;++t)if(m!==n&&n<j[t]){const e=Z[t];(0,f.kK)([g,y,g+w,y+E],[e[0],e[3],e[4],e[7]])&&(T||(N.save(),T=!0),N.beginPath(),N.moveTo(U[0],U[1]),N.lineTo(U[2],U[3]),N.lineTo(U[4],U[5]),N.lineTo(U[6],U[7]),N.moveTo(e[6],e[7]),N.lineTo(e[4],e[5]),N.lineTo(e[2],e[3]),N.lineTo(e[0],e[1]),N.clip())}Z.push(U),j.push(n)}else N.clearRect(g,y,w,E);this.drawTileImage(i,t,g,y,w,E,v,x),Z&&!q?(T&&N.restore(),this.renderedTiles.unshift(i)):this.renderedTiles.push(i),this.updateUsedTiles(t.usedTiles,d,i)}}return this.renderedRevision=_,this.renderedResolution=y,this.extentChanged=!this.renderedExtent_||!(0,f.fS)(this.renderedExtent_,A),this.renderedExtent_=A,this.renderedPixelRatio=c,this.renderedProjection=s,this.manageTilePyramid(t,d,g,c,s,v,m,u.getPreload()),this.scheduleExpireCache(t,d),this.postRender(N,t),n.extent&&N.restore(),N.imageSmoothingEnabled=!0,D!==z.style.transform&&(z.style.transform=D),this.container}drawTileImage(t,e,n,i,s,r,a,l){const c=this.getTileImage(t);if(!c)return;const u=(0,o.sq)(this),h=e.layerStatesArray[e.layerIndex],d=h.opacity*(l?t.getAlpha(u,e.time):1),_=d!==this.context.globalAlpha;_&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(c,a,a,c.width-2*a,c.height-2*a,n,i,s,r),_&&this.context.restore(),d!==h.opacity?e.animate=!0:l&&t.endTransition(u)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,e){if(e.canExpireCache()){const n=function(t,e,n){const i=(0,o.sq)(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}}updateUsedTiles(t,e,n){const i=(0,o.sq)(e);i in t||(t[i]={}),t[i][n.getKey()]=!0}manageTilePyramid(t,e,n,i,s,r,a,l,c){const u=(0,o.sq)(e);u in t.wantedTiles||(t.wantedTiles[u]={});const h=t.wantedTiles[u],d=t.tileQueue,_=n.getMinZoom(),p=t.viewState.rotation,g=p?(0,f.dY)(t.viewState.center,t.viewState.resolution,p,t.size):void 0;let m,y,v,b,E,x,q=0;for(x=_;x<=a;++x)for(y=n.getTileRangeForExtentAndZ(r,x,y),v=n.getResolution(x),b=y.minX;b<=y.maxX;++b)for(E=y.minY;E<=y.maxY;++E)p&&!n.tileCoordIntersectsViewport([x,b,E],g)||(a-x<=l?(++q,m=e.getTile(x,b,E,i,s),m.getState()==w.Z.IDLE&&(h[m.getKey()]=!0,d.isKeyQueued(m.getKey())||d.enqueue([m,u,n.getTileCoordCenter(m.tileCoord),v])),void 0!==c&&c(m)):e.useTile(x,b,E,s));e.updateCacheSize(q,s)}}},3883:(t,e,n)=>{"use strict";n.d(e,{Z:()=>m});var i=n(5487),s=n(4806),r=n(7195),o=n(8641),a=n(8661),l=n(3983);var c=n(8326);let u;const h=[];function d(t,e,n,i,s){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,s),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,s)),t.restore()}function _(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function p(t,e,n,i){const s=(0,a.vs)(n,e,t);let r=(0,a._Q)(e,i,n);const l=e.getMetersPerUnit();void 0!==l&&(r*=l);const c=t.getMetersPerUnit();void 0!==c&&(r/=c);const u=t.getExtent();if(!u||(0,o.b8)(u,s)){const e=(0,a._Q)(t,r,s)/r;isFinite(e)&&e>0&&(r/=e)}return r}var f=n(5818);class g extends s.Z{constructor(t,e,n,i,s,c,u,h,d,_,f,g){super(s,r.Z.IDLE,{interpolate:!!g}),this.renderEdges_=void 0!==f&&f,this.pixelRatio_=u,this.gutter_=h,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=i,this.wrappedTileCoord_=c||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const m=i.getTileCoordExtent(this.wrappedTileCoord_),y=this.targetTileGrid_.getExtent();let v=this.sourceTileGrid_.getExtent();const b=y?(0,o.Ed)(m,y):m;if(0===(0,o.bg)(b))return void(this.state=r.Z.EMPTY);const w=t.getExtent();w&&(v=v?(0,o.Ed)(v,w):w);const E=i.getResolution(this.wrappedTileCoord_[0]),x=function(t,e,n,i){const s=(0,o.qg)(n);let r=p(t,e,s,i);return(!isFinite(r)||r<=0)&&(0,o.H6)(n,(function(n){return r=p(t,e,n,i),isFinite(r)&&r>0})),r}(t,n,b,E);if(!isFinite(x)||x<=0)return void(this.state=r.Z.EMPTY);const q=void 0!==_?_:.5;if(this.triangulation_=new class{constructor(t,e,n,i,s,r){this.sourceProj_=t,this.targetProj_=e;let l={};const c=(0,a.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return l[e]||(l[e]=c(t)),l[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&(0,o.dz)(i)==(0,o.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,o.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,o.dz)(this.targetProj_.getExtent()):null;const u=(0,o.rL)(n),h=(0,o.Xv)(n),d=(0,o.w$)(n),_=(0,o.hC)(n),p=this.transformInv_(u),f=this.transformInv_(h),g=this.transformInv_(d),m=this.transformInv_(_),y=10+(r?Math.max(0,Math.ceil(Math.log2((0,o.bg)(n)/(r*r*256*256)))):0);if(this.addQuad_(u,h,d,_,p,f,g,m,y),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach((function(e,n,i){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const n=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];n[0][0]-t>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-t>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-t>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const i=Math.min(n[0][0],n[1][0],n[2][0]);Math.max(n[0][0],n[1][0],n[2][0])-i<this.sourceWorldWidth_/2&&(e.source=n)}}))}l={}}addTriangle_(t,e,n,i,s,r){this.triangles_.push({source:[i,s,r],target:[t,e,n]})}addQuad_(t,e,n,i,s,r,a,c,u){const h=(0,o.hI)([s,r,a,c]),d=this.sourceWorldWidth_?(0,o.dz)(h)/this.sourceWorldWidth_:null,_=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&d>.5&&d<1;let f=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const s=(0,o.hI)([t,e,n,i]);f=(0,o.dz)(s)/this.targetWorldWidth_>.25||f}!p&&this.sourceProj_.isGlobal()&&d&&(f=d>.25||f)}if(!f&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!(0,o.kK)(h,this.maxSourceExtent_))return;let g=0;if(!(f||isFinite(s[0])&&isFinite(s[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(c[0])&&isFinite(c[1])))if(u>0)f=!0;else if(g=(isFinite(s[0])&&isFinite(s[1])?0:8)+(isFinite(r[0])&&isFinite(r[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(c[0])&&isFinite(c[1])?0:1),1!=g&&2!=g&&4!=g&&8!=g)return;if(u>0){if(!f){const e=[(t[0]+n[0])/2,(t[1]+n[1])/2],i=this.transformInv_(e);let r;r=p?((0,l.$W)(s[0],_)+(0,l.$W)(a[0],_))/2-(0,l.$W)(i[0],_):(s[0]+a[0])/2-i[0];const o=(s[1]+a[1])/2-i[1];f=r*r+o*o>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){const o=[(e[0]+n[0])/2,(e[1]+n[1])/2],l=this.transformInv_(o),h=[(i[0]+t[0])/2,(i[1]+t[1])/2],d=this.transformInv_(h);this.addQuad_(t,e,o,h,s,r,l,d,u-1),this.addQuad_(h,o,n,i,d,l,a,c,u-1)}else{const o=[(t[0]+e[0])/2,(t[1]+e[1])/2],l=this.transformInv_(o),h=[(n[0]+i[0])/2,(n[1]+i[1])/2],d=this.transformInv_(h);this.addQuad_(t,o,h,i,s,l,d,c,u-1),this.addQuad_(o,e,n,h,l,r,a,d,u-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&g)&&this.addTriangle_(t,n,i,s,a,c),0==(14&g)&&this.addTriangle_(t,n,e,s,a,r),g&&(0==(13&g)&&this.addTriangle_(e,i,t,r,c,s),0==(7&g)&&this.addTriangle_(e,i,n,r,c,a))}calculateSourceExtent(){const t=(0,o.lJ)();return this.triangles_.forEach((function(e,n,i){const s=e.source;(0,o.Wj)(t,s[0]),(0,o.Wj)(t,s[1]),(0,o.Wj)(t,s[2])})),t}getTriangles(){return this.triangles_}}(t,n,b,v,x*q,E),0===this.triangulation_.getTriangles().length)return void(this.state=r.Z.EMPTY);this.sourceZ_=e.getZForResolution(x);let T=this.triangulation_.calculateSourceExtent();if(v&&(t.canWrapX()?(T[1]=(0,l.uZ)(T[1],v[1],v[3]),T[3]=(0,l.uZ)(T[3],v[1],v[3])):T=(0,o.Ed)(T,v)),(0,o.bg)(T)){const t=e.getTileRangeForExtentAndZ(T,this.sourceZ_);for(let e=t.minX;e<=t.maxX;e++)for(let n=t.minY;n<=t.maxY;n++){const t=d(this.sourceZ_,e,n,u);t&&this.sourceTiles_.push(t)}0===this.sourceTiles_.length&&(this.state=r.Z.EMPTY)}else this.state=r.Z.EMPTY}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach((e=>{e&&e.getState()==r.Z.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})})),this.sourceTiles_.length=0,0===t.length)this.state=r.Z.ERROR;else{const e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],s="number"==typeof n?n:n[1],a=this.targetTileGrid_.getResolution(e),p=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,i,s,r,a,p,f,g,m,y){const v=(0,c.E4)(Math.round(n*t),Math.round(n*e),h);if(y||(v.imageSmoothingEnabled=!1),0===f.length)return v.canvas;function b(t){return Math.round(t*n)/n}v.scale(n,n),v.globalCompositeOperation="lighter";const w=(0,o.lJ)();f.forEach((function(t,e,n){(0,o.l7)(w,t.extent)}));const E=(0,o.dz)(w),x=(0,o.Cr)(w),q=(0,c.E4)(Math.round(n*E/i),Math.round(n*x/i),h);y||(q.imageSmoothingEnabled=!1);const T=n/i;f.forEach((function(t,e,n){const i=t.extent[0]-w[0],s=-(t.extent[3]-w[3]),r=(0,o.dz)(t.extent),a=(0,o.Cr)(t.extent);t.image.width>0&&t.image.height>0&&q.drawImage(t.image,g,g,t.image.width-2*g,t.image.height-2*g,i*T,s*T,r*T,a*T)}));const S=(0,o.rL)(a);return p.getTriangles().forEach((function(t,e,s){const o=t.source,a=t.target;let p=o[0][0],f=o[0][1],g=o[1][0],m=o[1][1],E=o[2][0],x=o[2][1];const T=b((a[0][0]-S[0])/r),C=b(-(a[0][1]-S[1])/r),I=b((a[1][0]-S[0])/r),A=b(-(a[1][1]-S[1])/r),k=b((a[2][0]-S[0])/r),R=b(-(a[2][1]-S[1])/r),P=p,F=f;p=0,f=0,g-=P,m-=F,E-=P,x-=F;const O=[[g,m,0,0,I-T],[E,x,0,0,k-T],[0,0,g,m,A-C],[0,0,E,x,R-C]],L=(0,l.SV)(O);if(L){if(v.save(),v.beginPath(),function(){if(void 0===u){const t=(0,c.E4)(6,6,h);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",d(t,4,5,4,0),d(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;u=_(e,0)||_(e,4)||_(e,8),(0,c.jy)(t),h.push(t.canvas)}return u}()||!y){v.moveTo(I,A);const t=4,e=T-I,n=C-A;for(let i=0;i<t;i++)v.lineTo(I+b((i+1)*e/t),A+b(i*n/(t-1))),i!=t-1&&v.lineTo(I+b((i+1)*e/t),A+b((i+1)*n/(t-1)));v.lineTo(k,R)}else v.moveTo(I,A),v.lineTo(T,C),v.lineTo(k,R);v.clip(),v.transform(L[0],L[2],L[1],L[3],T,C),v.translate(w[0]-P,w[3]-F),v.scale(i/n,-i/n),v.drawImage(q.canvas,0,0),v.restore()}})),(0,c.jy)(q),h.push(q.canvas),m&&(v.save(),v.globalCompositeOperation="source-over",v.strokeStyle="black",v.lineWidth=1,p.getTriangles().forEach((function(t,e,n){const i=t.target,s=(i[0][0]-S[0])/r,o=-(i[0][1]-S[1])/r,a=(i[1][0]-S[0])/r,l=-(i[1][1]-S[1])/r,c=(i[2][0]-S[0])/r,u=-(i[2][1]-S[1])/r;v.beginPath(),v.moveTo(a,l),v.lineTo(s,o),v.lineTo(c,u),v.closePath(),v.stroke()})),v.restore()),v.canvas}(i,s,this.pixelRatio_,p,this.sourceTileGrid_.getExtent(),a,f,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=r.Z.LOADED}this.changed()}load(){if(this.state==r.Z.IDLE){this.state=r.Z.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((e=>{const n=e.getState();if(n==r.Z.IDLE||n==r.Z.LOADING){t++;const n=(0,f.oL)(e,i.Z.CHANGE,(function(i){const s=e.getState();s!=r.Z.LOADED&&s!=r.Z.ERROR&&s!=r.Z.EMPTY||((0,f.bN)(n),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(n)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,n){t.getState()==r.Z.IDLE&&t.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(f.bN),this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,c.jy)(this.canvas_.getContext("2d")),h.push(this.canvas_),this.canvas_=null),super.release()}}const m=g},828:(t,e,n)=>{"use strict";n.d(e,{Gw:()=>a,YP:()=>r,gE:()=>o,h$:()=>s});var i=n(3983);function s(t){if(void 0!==t)return 0}function r(t){if(void 0!==t)return t}function o(t){const e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function a(t){return t=t||(0,i.Yr)(5),function(e,n){return n?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}},4307:(t,e,n)=>{"use strict";function i(t){return t[0]>0&&t[1]>0}function s(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function r(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}n.d(e,{Pq:()=>r,bA:()=>s,py:()=>i})},6263:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(4680),s=n(8326),r=n(4307);class o extends i.Z{constructor(t){super({opaque:!1,projection:(t=t||{}).projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX,zDirection:t.zDirection,url:t.template||"z:{z} x:{x} y:{y}",tileLoadFunction:(t,e)=>{const n=t.getTileCoord()[0],i=(0,r.Pq)(this.tileGrid.getTileSize(n)),o=(0,s.E4)(i[0],i[1]);o.strokeStyle="grey",o.strokeRect(.5,.5,i[0]+.5,i[1]+.5),o.fillStyle="grey",o.strokeStyle="white",o.textAlign="center",o.textBaseline="middle",o.font="24px sans-serif",o.lineWidth=4,o.strokeText(e,i[0]/2,i[1]/2,i[0]),o.fillText(e,i[0]/2,i[1]/2,i[0]),t.setImage(o.canvas)}})}}const a=o},928:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var i=n(5487),s=n(825),r=n(3883),o=n(5532),a=n(7195),l=n(5231),c=n(8661),u=n(8634),h=n(7248),d=n(4187);class _ extends l.Z{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:p,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:s.Z,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,e){const n=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==n?e:{});for(const t in this.tileCacheForProjection){const i=this.tileCacheForProjection[t];i.expireCache(i==n?e:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!(0,c.OP)(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return!(this.getProjection()&&t&&!(0,c.OP)(this.getProjection(),t))&&super.getOpaque(t)}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||(0,c.OP)(e,t)))return this.tileGrid;const n=(0,d.sq)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=(0,h.X$)(t)),this.tileGridForProjection[n]}getTileCacheForProjection(t){const e=this.getProjection();if(!e||(0,c.OP)(e,t))return this.tileCache;const n=(0,d.sq)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new o.Z(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]}createTile_(t,e,n,s,r,o){const l=[t,e,n],c=this.getTileCoordForTileUrlFunction(l,r),u=c?this.tileUrlFunction(c,s,r):void 0,h=new this.tileClass(l,void 0!==u?a.Z.IDLE:a.Z.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=o,h.addEventListener(i.Z.CHANGE,this.handleTileChange.bind(this)),h}getTile(t,e,n,i,s){const o=this.getProjection();if(!o||!s||(0,c.OP)(o,s))return this.getTileInternal(t,e,n,i,o||s);const a=this.getTileCacheForProjection(s),l=[t,e,n];let h;const d=(0,u.km)(l);a.containsKey(d)&&(h=a.get(d));const _=this.getKey();if(h&&h.key==_)return h;const p=this.getTileGridForProjection(o),f=this.getTileGridForProjection(s),g=this.getTileCoordForTileUrlFunction(l,s),m=new r.Z(o,p,s,f,l,g,this.getTilePixelRatio(i),this.getGutter(),((t,e,n,i)=>this.getTileInternal(t,e,n,i,o)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return m.key=_,h?(m.interimTile=h,m.refreshInterimChain(),a.replace(d,m)):a.set(d,m),m}getTileInternal(t,e,n,i,s){let r=null;const o=(0,u.lg)(t,e,n),l=this.getKey();if(this.tileCache.containsKey(o)){if(r=this.tileCache.get(o),r.key!=l){const c=r;r=this.createTile_(t,e,n,i,s,l),c.getState()==a.Z.IDLE?r.interimTile=c.interimTile:r.interimTile=c,r.refreshInterimChain(),this.tileCache.replace(o,r)}}else r=this.createTile_(t,e,n,i,s,l),this.tileCache.set(o,r);return r}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(t,e){const n=(0,c.U2)(t);if(n){const t=(0,d.sq)(n);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}}function p(t,e){t.getImage().src=e}const f=_},5231:(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var i=n(291),s=n(2971),r=n(8661);class o extends s.Z{constructor(t){super(),this.projection=(0,r.U2)(t.projection),this.attributions_=a(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise((function(t,n){e.viewResolver=t,e.viewRejector=n}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=a(t),this.changed()}setState(t){this.state_=t,this.changed()}}function a(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const l=o;var c=n(5532),u=n(7195),h=n(4187),d=n(9515),_=n(8634),p=n(7248),f=n(4307);class g extends i.ZP{constructor(t,e){super(t),this.tile=e}}const m=class extends l{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;this.tileGrid&&(0,f.Pq)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new c.Z(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,e){const n=this.getTileCacheForProjection(t);n&&n.expireCache(e)}forEachLoadedTile(t,e,n,i){const s=this.getTileCacheForProjection(t);if(!s)return!1;let r,o,a,l=!0;for(let t=n.minX;t<=n.maxX;++t)for(let c=n.minY;c<=n.maxY;++c)o=(0,_.lg)(e,t,c),a=!1,s.containsKey(o)&&(r=s.get(o),a=r.getState()===u.Z.LOADED,a&&(a=!1!==i(r))),a||(l=!1);return l}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,n,i,s){return(0,h.O3)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:(0,p.X$)(t)}getTileCacheForProjection(t){const e=this.getProjection();return(0,d.h)(null===e||(0,r.OP)(e,t),68),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,n){const i=this.getTileGridForProjection(n),s=this.getTilePixelRatio(e),r=(0,f.Pq)(i.getTileSize(t),this.tmpSize);return 1==s?r:(0,f.bA)(r,s,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){e=void 0!==e?e:this.getProjection();const n=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=(0,p.Cf)(n,t,e)),(0,_.tE)(t,n)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,e){const n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)}useTile(t,e,n,i){}};var y=n(3983);function v(t,e){const n=/\{z\}/g,i=/\{x\}/g,s=/\{y\}/g,r=/\{-y\}/g;return function(o,a,l){if(o)return t.replace(n,o[0].toString()).replace(i,o[1].toString()).replace(s,o[2].toString()).replace(r,(function(){const t=o[0],n=e.getFullTileRange(t);return(0,d.h)(n,55),(n.getHeight()-o[2]-1).toString()}))}}class b extends m{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===b.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,n=(0,h.sq)(e),i=e.getState();let s;i==u.Z.LOADING?(this.tileLoadingKeys_[n]=!0,s="tileloadstart"):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],s=i==u.Z.ERROR?"tileloaderror":i==u.Z.LOADED?"tileloadend":void 0),null!=s&&this.dispatchEvent(new g(s,e))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()}setUrl(t){const e=function(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),s=n[2].charCodeAt(0);let r;for(r=i;r<=s;++r)e.push(t.replace(n[0],String.fromCharCode(r)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let s=parseInt(n[1],10);s<=i;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=v(t[s],e);return function(t){return 1===t.length?t[0]:function(e,n,i){if(!e)return;const s=(0,_.vp)(e),r=(0,y.$W)(s,t.length);return t[r](e,n,i)}}(i)}(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,n){}useTile(t,e,n){const i=(0,_.lg)(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}const w=b},7205:(t,e,n)=>{"use strict";n.d(e,{Z:()=>q});var i=n(5487),s=n(4806),r=n(7195);class o extends s.Z{constructor(t,e,n,i,s,r){super(t,e,r),this.extent=null,this.format_=i,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=s,this.url_=n,this.key=n}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==r.Z.IDLE&&(this.setState(r.Z.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(t,e){this.setFeatures(t)}onError(){this.setState(r.Z.ERROR)}setFeatures(t){this.features_=t,this.setState(r.Z.LOADED)}setLoader(t){this.loader_=t}}const a=o;var l=n(5532),c=n(8738),u=n(5231),h=n(8326),d=n(4187);const _=[];class p extends s.Z{constructor(t,e,n,i){super(t,e,{transition:0}),this.context_={},this.executorGroups={},this.declutterExecutorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=i.bind(void 0,this),this.wrappedTileCoord=n}getContext(t){const e=(0,d.sq)(t);return e in this.context_||(this.context_[e]=(0,h.E4)(1,1,_)),this.context_[e]}hasContext(t){return(0,d.sq)(t)in this.context_}getImage(t){return this.hasContext(t)?this.getContext(t).canvas:null}getReplayState(t){const e=(0,d.sq)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[e]}load(){this.getSourceTiles()}release(){for(const t in this.context_){const e=this.context_[t];(0,h.jy)(e),_.push(e.canvas),delete this.context_[t]}super.release()}}const f=p;var g=n(4768),m=n(8641),y=n(7248),v=n(8634),b=n(9374);let w=!1;var E=n(4307);class x extends u.Z{constructor(t){const e=t.projection||"EPSG:3857",n=t.extent||(0,y.Tl)(e),i=t.tileGrid||(0,y.dl)({extent:n,maxResolution:t.maxResolution,maxZoom:void 0!==t.maxZoom?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,interpolate:!0,opaque:!1,projection:e,state:t.state,tileGrid:i,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:T,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:void 0===t.zDirection?1:t.zDirection}),this.format_=t.format?t.format:null,this.sourceTileCache=new l.Z(this.tileCache.highWaterMark),this.overlaps_=null==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:a,this.tileGrids_={}}getFeaturesInExtent(t){const e=[],n=this.tileCache;if(0===n.getCount())return e;const i=(0,v.Ul)(n.peekFirstKey())[0],s=this.tileGrid;return n.forEach((function(n){if(n.tileCoord[0]!==i||n.getState()!==r.Z.LOADED)return;const o=n.getSourceTiles();for(let n=0,i=o.length;n<i;++n){const i=o[n],r=i.tileCoord;if((0,m.kK)(t,s.getTileCoordExtent(r))){const n=i.getFeatures();if(n)for(let i=0,s=n.length;i<s;++i){const s=n[i],r=s.getGeometry();(0,m.kK)(t,r.getExtent())&&e.push(s)}}}})),e}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear(),this.sourceTileCache.clear()}expireCache(t,e){const n=this.getTileCacheForProjection(t),i=Object.keys(e).reduce(((t,e)=>{const i=(0,v.MY)(e),s=n.peek(i);if(s){const e=s.sourceTiles;for(let n=0,i=e.length;n<i;++n)t[e[n].getKey()]=!0}return t}),{});super.expireCache(t,e),this.sourceTileCache.expireCache(i)}getSourceTiles(t,e,n){if(n.getState()===r.Z.IDLE){n.setState(r.Z.LOADING);const s=n.wrappedTileCoord,o=this.getTileGridForProjection(e),a=o.getTileCoordExtent(s),l=s[0],c=o.getResolution(l);(0,m.f3)(a,-c,a);const u=this.tileGrid,h=u.getExtent();h&&(0,m.Ed)(a,h,a);const d=u.getZForResolution(c,this.zDirection);u.forEachTileCoord(a,d,(s=>{const o=this.tileUrlFunction(s,t,e),a=this.sourceTileCache.containsKey(o)?this.sourceTileCache.get(o):new this.tileClass(s,o?r.Z.IDLE:r.Z.EMPTY,o,this.format_,this.tileLoadFunction);n.sourceTiles.push(a);const l=a.getState();if(l<r.Z.LOADED){const t=e=>{this.handleTileChange(e);const s=a.getState();if(s===r.Z.LOADED||s===r.Z.ERROR){const e=a.getKey();e in n.errorTileKeys?a.getState()===r.Z.LOADED&&delete n.errorTileKeys[e]:n.loadingSourceTiles--,s===r.Z.ERROR?n.errorTileKeys[e]=!0:a.removeEventListener(i.Z.CHANGE,t),0===n.loadingSourceTiles&&n.setState((0,b.x)(n.errorTileKeys)?r.Z.LOADED:r.Z.ERROR)}};a.addEventListener(i.Z.CHANGE,t),n.loadingSourceTiles++}l===r.Z.IDLE&&(a.extent=u.getTileCoordExtent(s),a.projection=e,a.resolution=u.getResolution(s[0]),this.sourceTileCache.set(o,a),a.load())})),n.loadingSourceTiles||n.setState(n.sourceTiles.some((t=>t.getState()===r.Z.ERROR))?r.Z.ERROR:r.Z.LOADED)}return n.sourceTiles}getTile(t,e,n,i,s){const o=(0,v.lg)(t,e,n),a=this.getKey();let l;if(this.tileCache.containsKey(o)&&(l=this.tileCache.get(o),l.key===a))return l;const c=[t,e,n];let u=this.getTileCoordForTileUrlFunction(c,s);const h=this.getTileGrid().getExtent(),d=this.getTileGridForProjection(s);if(u&&h){const e=d.getTileCoordExtent(u);(0,m.f3)(e,-d.getResolution(t),e),(0,m.kK)(h,e)||(u=null)}let _=!0;if(null!==u){const e=this.tileGrid,n=d.getResolution(t),r=e.getZForResolution(n,1),o=d.getTileCoordExtent(u);(0,m.f3)(o,-n,o),e.forEachTileCoord(o,r,(t=>{_=_&&!this.tileUrlFunction(t,i,s)}))}const p=new f(c,_?r.Z.EMPTY:r.Z.IDLE,u,this.getSourceTiles.bind(this,i,s));return p.key=a,l?(p.interimTile=l,p.refreshInterimChain(),this.tileCache.replace(o,p)):this.tileCache.set(o,p),p}getTileGridForProjection(t){const e=t.getCode();let n=this.tileGrids_[e];if(!n){const t=this.tileGrid,i=t.getResolutions().slice(),s=i.map((function(e,n){return t.getOrigin(n)})),r=i.map((function(e,n){return t.getTileSize(n)})),o=g.e+1;for(let t=i.length;t<o;++t)i.push(i[t-1]/2),s.push(s[t-1]),r.push(r[t-1]);n=new c.Z({extent:t.getExtent(),origins:s,resolutions:i,tileSizes:r}),this.tileGrids_[e]=n}return n}getTilePixelRatio(t){return t}getTilePixelSize(t,e,n){const i=this.getTileGridForProjection(n),s=(0,E.Pq)(i.getTileSize(t),this.tmpSize);return[Math.round(s[0]*e),Math.round(s[1]*e)]}updateCacheSize(t,e){super.updateCacheSize(2*t,e),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(e).highWaterMark}}const q=x;function T(t,e){t.setLoader((function(n,i,s){!function(t,e,n,i,s,r,o){const a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(n,i,s):t,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=w,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){const t=e.getType();let i;"json"==t||"text"==t?i=a.responseText:"xml"==t?(i=a.responseXML,i||(i=(new DOMParser).parseFromString(a.responseText,"application/xml"))):"arraybuffer"==t&&(i=a.response),i?r(e.readFeatures(i,{extent:n,featureProjection:s}),e.readProjection(i)):o()}else o()},a.onerror=o,a.send()}(e,t.getFormat(),n,i,s,t.onLoad.bind(t),t.onError.bind(t))}))}},4680:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(928),s=n(7248);class r extends i.Z{constructor(t){const e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",n=void 0!==t.tileGrid?t.tileGrid:(0,s.dl)({extent:(0,s.Tl)(e),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0}getGutter(){return this.gutter_}}const o=r},2710:(t,e,n)=>{"use strict";n.d(e,{c:()=>r});var i=n(9706);function s(t,e,n){return e+":"+t+":"+(n?(0,i.XC)(n):"null")}const r=new class{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}}get(t,e,n){const i=s(t,e,n);return i in this.cache_?this.cache_[i]:null}set(t,e,n,i){const r=s(t,e,n);this.cache_[r]=i,++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}},8634:(t,e,n)=>{"use strict";function i(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function s(t,e,n){return t+"/"+e+"/"+n}function r(t){return s(t[0],t[1],t[2])}function o(t){const[e,n,i]=t.substring(t.lastIndexOf("/")+1,t.length).split(",").map(Number);return s(e,n,i)}function a(t){return t.split("/").map(Number)}function l(t){return(t[1]<<t[0])+t[2]}function c(t,e){const n=t[0],i=t[1],s=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const r=e.getFullTileRange(n);return!r||r.containsXY(i,s)}n.d(e,{MY:()=>o,T9:()=>i,Ul:()=>a,km:()=>r,lg:()=>s,tE:()=>c,vp:()=>l})},7248:(t,e,n)=>{"use strict";n.d(e,{Cf:()=>c,Tl:()=>d,X$:()=>l,dl:()=>u});var i=n(8738),s=n(4768),r=n(8661),o=n(8641),a=n(4307);function l(t){let e=t.getDefaultTileGrid();return e||(e=function(t,e,n,s){return function(t,e,n,s){s=void 0!==s?s:"top-left";const r=h(t,undefined,n);return new i.Z({extent:t,origin:(0,o.g0)(t,s),resolutions:r,tileSize:n})}(d(t),0,void 0,void 0)}(t),t.setDefaultTileGrid(e)),e}function c(t,e,n){const i=e[0],s=t.getTileCoordCenter(e),r=d(n);if(!(0,o.b8)(r,s)){const e=(0,o.dz)(r),n=Math.ceil((r[0]-s[0])/e);return s[0]+=e*n,t.getTileCoordForCoordAndZ(s,i)}return e}function u(t){const e=t||{},n=e.extent||(0,r.U2)("EPSG:3857").getExtent(),s={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:h(n,e.maxZoom,e.tileSize,e.maxResolution)};return new i.Z(s)}function h(t,e,n,i){e=void 0!==e?e:s.e,n=(0,a.Pq)(void 0!==n?n:s.S);const r=(0,o.Cr)(t),l=(0,o.dz)(t);i=i>0?i:Math.max(l/n[0],r/n[1]);const c=e+1,u=new Array(c);for(let t=0;t<c;++t)u[t]=i/Math.pow(2,t);return u}function d(t){let e=(t=(0,r.U2)(t)).getExtent();if(!e){const n=180*r.Wm.degrees/t.getMetersPerUnit();e=(0,o.T9)(-n,-n,n,n)}return e}},8738:(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var i=n(2519),s=n(4768),r=n(9515),o=n(3983),a=n(8641),l=n(8634),c=n(969),u=n(5537),h=n(4307);const d=[0,0,0],_=class{constructor(t){let e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,r.h)((0,u.pT)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(let t=0,n=this.resolutions_.length-1;t<n;++t)if(e){if(this.resolutions_[t]/this.resolutions_[t+1]!==e){e=void 0;break}}else e=this.resolutions_[t]/this.resolutions_[t+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,r.h)(this.origins_.length==this.resolutions_.length,20));const n=t.extent;void 0===n||this.origin_||this.origins_||(this.origin_=(0,a.rL)(n)),(0,r.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,r.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:s.S,(0,r.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){const s=new i.Z(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(n){const t=this.getTileRangeForExtentAndZ(n,e);s.minX=Math.max(t.minX,s.minX),s.maxX=Math.min(t.maxX,s.maxX),s.minY=Math.max(t.minY,s.minY),s.maxY=Math.min(t.maxY,s.maxY)}return s}),this):n&&this.calculateTileRanges_(n)}forEachTileCoord(t,e,n){const i=this.getTileRangeForExtentAndZ(t,e);for(let t=i.minX,s=i.maxX;t<=s;++t)for(let s=i.minY,r=i.maxY;s<=r;++s)n([e,t,s])}forEachTileCoordParentTileRange(t,e,n,s){let r,o,a,l=null,c=t[0]-1;for(2===this.zoomFactor_?(o=t[1],a=t[2]):l=this.getTileCoordExtent(t,s);c>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),a=Math.floor(a/2),r=(0,i.T)(o,o,a,a,n)):r=this.getTileRangeForExtentAndZ(l,c,n),e(c,r))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){const n=2*t[1],s=2*t[2];return(0,i.T)(n,n+1,s,s+1,e)}const s=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;const s=t[0],r=t[1],o=t[2];if(e===s)return(0,i.T)(r,o,r,o,n);if(this.zoomFactor_){const t=Math.pow(this.zoomFactor_,e-s),a=Math.floor(r*t),l=Math.floor(o*t);if(e<s)return(0,i.T)(a,a,l,l,n);const c=Math.floor(t*(r+1))-1,u=Math.floor(t*(o+1))-1;return(0,i.T)(a,c,l,u,n)}const a=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,e,n)}getTileRangeExtent(t,e,n){const i=this.getOrigin(t),s=this.getResolution(t),r=(0,h.Pq)(this.getTileSize(t),this.tmpSize_),o=i[0]+e.minX*r[0]*s,l=i[0]+(e.maxX+1)*r[0]*s,c=i[1]+e.minY*r[1]*s,u=i[1]+(e.maxY+1)*r[1]*s;return(0,a.T9)(o,c,l,u,n)}getTileRangeForExtentAndZ(t,e,n){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,d);const s=d[1],r=d[2];this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,d);const o=d[1],a=d[2];return(0,i.T)(s,o,r,a,n)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=(0,h.Pq)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]}getTileCoordExtent(t,e){const n=this.getOrigin(t[0]),i=this.getResolution(t[0]),s=(0,h.Pq)(this.getTileSize(t[0]),this.tmpSize_),r=n[0]+t[1]*s[0]*i,o=n[1]-(t[2]+1)*s[1]*i,l=r+s[0]*i,c=o+s[1]*i;return(0,a.T9)(r,o,l,c,e)}getTileCoordForCoordAndResolution(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)}getTileCoordForXYAndResolution_(t,e,n,i,s){const r=this.getZForResolution(n),a=n/this.getResolution(r),c=this.getOrigin(r),u=(0,h.Pq)(this.getTileSize(r),this.tmpSize_);let d=a*(t-c[0])/n/u[0],_=a*(c[1]-e)/n/u[1];return i?(d=(0,o.mD)(d,5)-1,_=(0,o.mD)(_,5)-1):(d=(0,o.GW)(d,5),_=(0,o.GW)(_,5)),(0,l.T9)(r,d,_,s)}getTileCoordForXYAndZ_(t,e,n,i,s){const r=this.getOrigin(n),a=this.getResolution(n),c=(0,h.Pq)(this.getTileSize(n),this.tmpSize_);let u=(t-r[0])/a/c[0],d=(r[1]-e)/a/c[1];return i?(u=(0,o.mD)(u,5)-1,d=(0,o.mD)(d,5)-1):(u=(0,o.GW)(u,5),d=(0,o.GW)(d,5)),(0,l.T9)(n,u,d,s)}getTileCoordForCoordAndZ(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){const n=(0,u.h7)(this.resolutions_,t,e||0);return(0,o.uZ)(n,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return(0,c.mV)(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,n=new Array(e);for(let i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n}}},4768:(t,e,n)=>{"use strict";n.d(e,{S:()=>s,e:()=>i});const i=42,s=256},6101:(t,e,n)=>{"use strict";n.d(e,{BB:()=>m,Iu:()=>_,Jp:()=>l,Ue:()=>o,bA:()=>d,lk:()=>u,mc:()=>a,nb:()=>f,nn:()=>h,qC:()=>p});var i=n(177),s=n(9515);const r=new Array(6);function o(){return[1,0,0,1,0,0]}function a(t){return c(t,1,0,0,1,0,0)}function l(t,e){const n=t[0],i=t[1],s=t[2],r=t[3],o=t[4],a=t[5],l=e[0],c=e[1],u=e[2],h=e[3],d=e[4],_=e[5];return t[0]=n*l+s*c,t[1]=i*l+r*c,t[2]=n*u+s*h,t[3]=i*u+r*h,t[4]=n*d+s*_+o,t[5]=i*d+r*_+a,t}function c(t,e,n,i,s,r,o){return t[0]=e,t[1]=n,t[2]=i,t[3]=s,t[4]=r,t[5]=o,t}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function h(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function d(t,e,n){return l(t,c(r,e,0,0,n,0,0))}function _(t,e,n){return l(t,c(r,1,0,0,1,e,n))}function p(t,e,n,i,s,r,o,a){const l=Math.sin(r),c=Math.cos(r);return t[0]=i*c,t[1]=s*l,t[2]=-i*l,t[3]=s*c,t[4]=o*i*c-a*i*l+e,t[5]=o*s*l+a*s*c+n,t}function f(t,e){const n=(i=e)[0]*i[3]-i[1]*i[2];var i;(0,s.h)(0!==n,32);const r=e[0],o=e[1],a=e[2],l=e[3],c=e[4],u=e[5];return t[0]=l/n,t[1]=-o/n,t[2]=-a/n,t[3]=r/n,t[4]=(a*u-l*c)/n,t[5]=-(r*u-o*c)/n,t}let g;function m(t){const e="matrix("+t.join(", ")+")";if(i.Id)return e;const n=g||(g=document.createElement("div"));return n.style.transform=e,n.style.transform}},4187:(t,e,n)=>{"use strict";function i(){throw new Error("Unimplemented abstract method.")}n.d(e,{O3:()=>i,sq:()=>r});let s=0;function r(t){return t.ol_uid||(t.ol_uid=String(++s))}},7885:(t,e,n)=>{"use strict";function i(t){let e=t.length;for(;--e>=0;)t[e]=0}n.d(e,{ZP:()=>gn});const s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),r=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),a=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=new Array(576);i(l);const c=new Array(60);i(c);const u=new Array(512);i(u);const h=new Array(256);i(h);const d=new Array(29);i(d);const _=new Array(30);function p(t,e,n,i,s){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=s,this.has_stree=t&&t.length}let f,g,m;function y(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}i(_);const v=t=>t<256?u[t]:u[256+(t>>>7)],b=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},w=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},E=(t,e,n)=>{w(t,n[2*e],n[2*e+1])},x=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},q=(t,e,n)=>{const i=new Array(16);let s,r,o=0;for(s=1;s<=15;s++)o=o+n[s-1]<<1,i[s]=o;for(r=0;r<=e;r++){let e=t[2*r+1];0!==e&&(t[2*r]=x(i[e]++,e))}},T=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},S=t=>{t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},C=(t,e,n,i)=>{const s=2*e,r=2*n;return t[s]<t[r]||t[s]===t[r]&&i[e]<=i[n]},I=(t,e,n)=>{const i=t.heap[n];let s=n<<1;for(;s<=t.heap_len&&(s<t.heap_len&&C(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!C(e,i,t.heap[s],t.depth));)t.heap[n]=t.heap[s],n=s,s<<=1;t.heap[n]=i},A=(t,e,n)=>{let i,o,a,l,c=0;if(0!==t.sym_next)do{i=255&t.pending_buf[t.sym_buf+c++],i+=(255&t.pending_buf[t.sym_buf+c++])<<8,o=t.pending_buf[t.sym_buf+c++],0===i?E(t,o,e):(a=h[o],E(t,a+256+1,e),l=s[a],0!==l&&(o-=d[a],w(t,o,l)),i--,a=v(i),E(t,a,n),l=r[a],0!==l&&(i-=_[a],w(t,i,l)))}while(c<t.sym_next);E(t,256,e)},k=(t,e)=>{const n=e.dyn_tree,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,r=e.stat_desc.elems;let o,a,l,c=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<r;o++)0!==n[2*o]?(t.heap[++t.heap_len]=c=o,t.depth[o]=0):n[2*o+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=c<2?++c:0,n[2*l]=1,t.depth[l]=0,t.opt_len--,s&&(t.static_len-=i[2*l+1]);for(e.max_code=c,o=t.heap_len>>1;o>=1;o--)I(t,n,o);l=r;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],I(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[2*l]=n[2*o]+n[2*a],t.depth[l]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[2*o+1]=n[2*a+1]=l,t.heap[1]=l++,I(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,i=e.max_code,s=e.stat_desc.static_tree,r=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,u,h,d,_,p,f=0;for(d=0;d<=15;d++)t.bl_count[d]=0;for(n[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<573;c++)u=t.heap[c],d=n[2*n[2*u+1]+1]+1,d>l&&(d=l,f++),n[2*u+1]=d,u>i||(t.bl_count[d]++,_=0,u>=a&&(_=o[u-a]),p=n[2*u],t.opt_len+=p*(d+_),r&&(t.static_len+=p*(s[2*u+1]+_)));if(0!==f){do{for(d=l-1;0===t.bl_count[d];)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[l]--,f-=2}while(f>0);for(d=l;0!==d;d--)for(u=t.bl_count[d];0!==u;)h=t.heap[--c],h>i||(n[2*h+1]!==d&&(t.opt_len+=(d-n[2*h+1])*n[2*h],n[2*h+1]=d),u--)}})(t,e),q(n,c,t.bl_count)},R=(t,e,n)=>{let i,s,r=-1,o=e[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)s=o,o=e[2*(i+1)+1],++a<l&&s===o||(a<c?t.bl_tree[2*s]+=a:0!==s?(s!==r&&t.bl_tree[2*s]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,r=s,0===o?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},P=(t,e,n)=>{let i,s,r=-1,o=e[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),i=0;i<=n;i++)if(s=o,o=e[2*(i+1)+1],!(++a<l&&s===o)){if(a<c)do{E(t,s,t.bl_tree)}while(0!=--a);else 0!==s?(s!==r&&(E(t,s,t.bl_tree),a--),E(t,16,t.bl_tree),w(t,a-3,2)):a<=10?(E(t,17,t.bl_tree),w(t,a-3,3)):(E(t,18,t.bl_tree),w(t,a-11,7));a=0,r=s,0===o?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}};let F=!1;const O=(t,e,n,i)=>{w(t,0+(i?1:0),3),S(t),b(t,n),b(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var L={_tr_init:t=>{F||((()=>{let t,e,n,i,a;const y=new Array(16);for(n=0,i=0;i<28;i++)for(d[i]=n,t=0;t<1<<s[i];t++)h[n++]=i;for(h[n-1]=i,a=0,i=0;i<16;i++)for(_[i]=a,t=0;t<1<<r[i];t++)u[a++]=i;for(a>>=7;i<30;i++)for(_[i]=a<<7,t=0;t<1<<r[i]-7;t++)u[256+a++]=i;for(e=0;e<=15;e++)y[e]=0;for(t=0;t<=143;)l[2*t+1]=8,t++,y[8]++;for(;t<=255;)l[2*t+1]=9,t++,y[9]++;for(;t<=279;)l[2*t+1]=7,t++,y[7]++;for(;t<=287;)l[2*t+1]=8,t++,y[8]++;for(q(l,287,y),t=0;t<30;t++)c[2*t+1]=5,c[2*t]=x(t,5);f=new p(l,s,257,286,15),g=new p(c,r,0,30,15),m=new p(new Array(0),o,0,19,7)})(),F=!0),t.l_desc=new y(t.dyn_ltree,f),t.d_desc=new y(t.dyn_dtree,g),t.bl_desc=new y(t.bl_tree,m),t.bi_buf=0,t.bi_valid=0,T(t)},_tr_stored_block:O,_tr_flush_block:(t,e,n,i)=>{let s,r,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),k(t,t.l_desc),k(t,t.d_desc),o=(t=>{let e;for(R(t,t.dyn_ltree,t.l_desc.max_code),R(t,t.dyn_dtree,t.d_desc.max_code),k(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*a[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),s=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=s&&(s=r)):s=r=n+5,n+4<=s&&-1!==e?O(t,e,n,i):4===t.strategy||r===s?(w(t,2+(i?1:0),3),A(t,l,c)):(w(t,4+(i?1:0),3),((t,e,n,i)=>{let s;for(w(t,e-257,5),w(t,n-1,5),w(t,i-4,4),s=0;s<i;s++)w(t,t.bl_tree[2*a[s]+1],3);P(t,t.dyn_ltree,e-1),P(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),A(t,t.dyn_ltree,t.dyn_dtree)),T(t),i&&S(t)},_tr_tally:(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(h[n]+256+1)]++,t.dyn_dtree[2*v(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{w(t,2,3),E(t,256,l),(t=>{16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},M=(t,e,n,i)=>{let s=65535&t|0,r=t>>>16&65535|0,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do{s=s+e[i++]|0,r=r+s|0}while(--o);s%=65521,r%=65521}return s|r<<16|0};const D=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var N=(t,e,n,i)=>{const s=D,r=i+n;t^=-1;for(let n=i;n<r;n++)t=t>>>8^s[255&(t^e[n])];return-1^t},z={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Z={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:j,_tr_stored_block:U,_tr_flush_block:B,_tr_tally:G,_tr_align:W}=L,{Z_NO_FLUSH:V,Z_PARTIAL_FLUSH:K,Z_FULL_FLUSH:H,Z_FINISH:Q,Z_BLOCK:X,Z_OK:Y,Z_STREAM_END:$,Z_STREAM_ERROR:J,Z_DATA_ERROR:tt,Z_BUF_ERROR:et,Z_DEFAULT_COMPRESSION:nt,Z_FILTERED:it,Z_HUFFMAN_ONLY:st,Z_RLE:rt,Z_FIXED:ot,Z_DEFAULT_STRATEGY:at,Z_UNKNOWN:lt,Z_DEFLATED:ct}=Z,ut=286,ht=30,dt=19,_t=2*ut+1,pt=15,ft=258,gt=262,mt=42,yt=113,vt=666,bt=(t,e)=>(t.msg=z[e],e),wt=t=>2*t-(t>4?9:0),Et=t=>{let e=t.length;for(;--e>=0;)t[e]=0},xt=t=>{let e,n,i,s=t.w_size;e=t.hash_size,i=e;do{n=t.head[--i],t.head[i]=n>=s?n-s:0}while(--e);e=s,i=e;do{n=t.prev[--i],t.prev[i]=n>=s?n-s:0}while(--e)};let qt=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const Tt=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},St=(t,e)=>{B(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Tt(t.strm)},Ct=(t,e)=>{t.pending_buf[t.pending++]=e},It=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},At=(t,e,n,i)=>{let s=t.avail_in;return s>i&&(s=i),0===s?0:(t.avail_in-=s,e.set(t.input.subarray(t.next_in,t.next_in+s),n),1===t.state.wrap?t.adler=M(t.adler,e,s,n):2===t.state.wrap&&(t.adler=N(t.adler,e,s,n)),t.next_in+=s,t.total_in+=s,s)},kt=(t,e)=>{let n,i,s=t.max_chain_length,r=t.strstart,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-gt?t.strstart-(t.w_size-gt):0,c=t.window,u=t.w_mask,h=t.prev,d=t.strstart+ft;let _=c[r+o-1],p=c[r+o];t.prev_length>=t.good_match&&(s>>=2),a>t.lookahead&&(a=t.lookahead);do{if(n=e,c[n+o]===p&&c[n+o-1]===_&&c[n]===c[r]&&c[++n]===c[r+1]){r+=2,n++;do{}while(c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&r<d);if(i=ft-(d-r),r=d-ft,i>o){if(t.match_start=e,o=i,i>=a)break;_=c[r+o-1],p=c[r+o]}}}while((e=h[e&u])>l&&0!=--s);return o<=t.lookahead?o:t.lookahead},Rt=t=>{const e=t.w_size;let n,i,s;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-gt)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),xt(t),i+=e),0===t.strm.avail_in)break;if(n=At(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=qt(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=qt(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<gt&&0!==t.strm.avail_in)},Pt=(t,e)=>{let n,i,s,r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,o=0,a=t.strm.avail_in;do{if(n=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s)break;if(s=t.strm.avail_out-s,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>s&&(n=s),n<r&&(0===n&&e!==Q||e===V||n!==i+t.strm.avail_in))break;o=e===Q&&n===i+t.strm.avail_in?1:0,U(t,0,0,o),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Tt(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(At(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===o);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?4:e!==V&&e!==Q&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(At(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,r=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=r||(i||e===Q)&&e!==V&&0===t.strm.avail_in&&i<=s)&&(n=i>s?s:i,o=e===Q&&0===t.strm.avail_in&&n===i?1:0,U(t,t.block_start,n,o),t.block_start+=n,Tt(t.strm)),o?3:1)},Ft=(t,e)=>{let n,i;for(;;){if(t.lookahead<gt){if(Rt(t),t.lookahead<gt&&e===V)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=qt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-gt&&(t.match_length=kt(t,n)),t.match_length>=3)if(i=G(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=qt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=qt(t,t.ins_h,t.window[t.strstart+1]);else i=G(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(St(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Q?(St(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(St(t,!1),0===t.strm.avail_out)?1:2},Ot=(t,e)=>{let n,i,s;for(;;){if(t.lookahead<gt){if(Rt(t),t.lookahead<gt&&e===V)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=qt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-gt&&(t.match_length=kt(t,n),t.match_length<=5&&(t.strategy===it||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-3,i=G(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=s&&(t.ins_h=qt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(St(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=G(t,0,t.window[t.strstart-1]),i&&St(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=G(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Q?(St(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(St(t,!1),0===t.strm.avail_out)?1:2};function Lt(t,e,n,i,s){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=s}const Mt=[new Lt(0,0,0,0,Pt),new Lt(4,4,8,4,Ft),new Lt(4,5,16,8,Ft),new Lt(4,6,32,32,Ft),new Lt(4,4,16,16,Ot),new Lt(8,16,32,32,Ot),new Lt(8,16,128,128,Ot),new Lt(8,32,128,256,Ot),new Lt(32,128,258,1024,Ot),new Lt(32,258,258,4096,Ot)];function Dt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ct,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*_t),this.dyn_dtree=new Uint16Array(2*(2*ht+1)),this.bl_tree=new Uint16Array(2*(2*dt+1)),Et(this.dyn_ltree),Et(this.dyn_dtree),Et(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(pt+1),this.heap=new Uint16Array(2*ut+1),Et(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ut+1),Et(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Nt=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==mt&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==yt&&e.status!==vt?1:0},zt=t=>{if(Nt(t))return bt(t,J);t.total_in=t.total_out=0,t.data_type=lt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?mt:yt,t.adler=2===e.wrap?0:1,e.last_flush=-2,j(e),Y},Zt=t=>{const e=zt(t);var n;return e===Y&&((n=t.state).window_size=2*n.w_size,Et(n.head),n.max_lazy_match=Mt[n.level].max_lazy,n.good_match=Mt[n.level].good_length,n.nice_match=Mt[n.level].nice_length,n.max_chain_length=Mt[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),e},jt=(t,e,n,i,s,r)=>{if(!t)return J;let o=1;if(e===nt&&(e=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),s<1||s>9||n!==ct||i<8||i>15||e<0||e>9||r<0||r>ot||8===i&&1!==o)return bt(t,J);8===i&&(i=9);const a=new Dt;return t.state=a,a.strm=t,a.status=mt,a.wrap=o,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=s+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<s+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=r,a.method=n,Zt(t)};var Ut={deflateInit:(t,e)=>jt(t,e,ct,15,8,at),deflateInit2:jt,deflateReset:Zt,deflateResetKeep:zt,deflateSetHeader:(t,e)=>Nt(t)||2!==t.state.wrap?J:(t.state.gzhead=e,Y),deflate:(t,e)=>{if(Nt(t)||e>X||e<0)return t?bt(t,J):J;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===vt&&e!==Q)return bt(t,0===t.avail_out?et:J);const i=n.last_flush;if(n.last_flush=e,0!==n.pending){if(Tt(t),0===t.avail_out)return n.last_flush=-1,Y}else if(0===t.avail_in&&wt(e)<=wt(i)&&e!==Q)return bt(t,et);if(n.status===vt&&0!==t.avail_in)return bt(t,et);if(n.status===mt&&0===n.wrap&&(n.status=yt),n.status===mt){let e=ct+(n.w_bits-8<<4)<<8,i=-1;if(i=n.strategy>=st||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=i<<6,0!==n.strstart&&(e|=32),e+=31-e%31,It(n,e),0!==n.strstart&&(It(n,t.adler>>>16),It(n,65535&t.adler)),t.adler=1,n.status=yt,Tt(t),0!==n.pending)return n.last_flush=-1,Y}if(57===n.status)if(t.adler=0,Ct(n,31),Ct(n,139),Ct(n,8),n.gzhead)Ct(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Ct(n,255&n.gzhead.time),Ct(n,n.gzhead.time>>8&255),Ct(n,n.gzhead.time>>16&255),Ct(n,n.gzhead.time>>24&255),Ct(n,9===n.level?2:n.strategy>=st||n.level<2?4:0),Ct(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Ct(n,255&n.gzhead.extra.length),Ct(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=N(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Ct(n,0),Ct(n,0),Ct(n,0),Ct(n,0),Ct(n,0),Ct(n,9===n.level?2:n.strategy>=st||n.level<2?4:0),Ct(n,3),n.status=yt,Tt(t),0!==n.pending)return n.last_flush=-1,Y;if(69===n.status){if(n.gzhead.extra){let e=n.pending,i=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let s=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>e&&(t.adler=N(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex+=s,Tt(t),0!==n.pending)return n.last_flush=-1,Y;e=0,i-=s}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>e&&(t.adler=N(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let e,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=N(t.adler,n.pending_buf,n.pending-i,i)),Tt(t),0!==n.pending)return n.last_flush=-1,Y;i=0}e=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Ct(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>i&&(t.adler=N(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let e,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=N(t.adler,n.pending_buf,n.pending-i,i)),Tt(t),0!==n.pending)return n.last_flush=-1,Y;i=0}e=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Ct(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>i&&(t.adler=N(t.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Tt(t),0!==n.pending))return n.last_flush=-1,Y;Ct(n,255&t.adler),Ct(n,t.adler>>8&255),t.adler=0}if(n.status=yt,Tt(t),0!==n.pending)return n.last_flush=-1,Y}if(0!==t.avail_in||0!==n.lookahead||e!==V&&n.status!==vt){let i=0===n.level?Pt(n,e):n.strategy===st?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(Rt(t),0===t.lookahead)){if(e===V)return 1;break}if(t.match_length=0,n=G(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(St(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Q?(St(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(St(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===rt?((t,e)=>{let n,i,s,r;const o=t.window;for(;;){if(t.lookahead<=ft){if(Rt(t),t.lookahead<=ft&&e===V)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(s=t.strstart-1,i=o[s],i===o[++s]&&i===o[++s]&&i===o[++s])){r=t.strstart+ft;do{}while(i===o[++s]&&i===o[++s]&&i===o[++s]&&i===o[++s]&&i===o[++s]&&i===o[++s]&&i===o[++s]&&i===o[++s]&&s<r);t.match_length=ft-(r-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=G(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=G(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(St(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Q?(St(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(St(t,!1),0===t.strm.avail_out)?1:2})(n,e):Mt[n.level].func(n,e);if(3!==i&&4!==i||(n.status=vt),1===i||3===i)return 0===t.avail_out&&(n.last_flush=-1),Y;if(2===i&&(e===K?W(n):e!==X&&(U(n,0,0,!1),e===H&&(Et(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Tt(t),0===t.avail_out))return n.last_flush=-1,Y}return e!==Q?Y:n.wrap<=0?$:(2===n.wrap?(Ct(n,255&t.adler),Ct(n,t.adler>>8&255),Ct(n,t.adler>>16&255),Ct(n,t.adler>>24&255),Ct(n,255&t.total_in),Ct(n,t.total_in>>8&255),Ct(n,t.total_in>>16&255),Ct(n,t.total_in>>24&255)):(It(n,t.adler>>>16),It(n,65535&t.adler)),Tt(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Y:$)},deflateEnd:t=>{if(Nt(t))return J;const e=t.state.status;return t.state=null,e===yt?bt(t,tt):Y},deflateSetDictionary:(t,e)=>{let n=e.length;if(Nt(t))return J;const i=t.state,s=i.wrap;if(2===s||1===s&&i.status!==mt||i.lookahead)return J;if(1===s&&(t.adler=M(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){0===s&&(Et(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(n-i.w_size,n),0),e=t,n=i.w_size}const r=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Rt(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do{i.ins_h=qt(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--e);i.strstart=t,i.lookahead=2,Rt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=o,t.input=a,t.avail_in=r,i.wrap=s,Y},deflateInfo:"pako deflate (from Nodeca project)"};const Bt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Gt={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const e in n)Bt(n,e)&&(t[e]=n[e])}}return t},flattenChunks:t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const n=new Uint8Array(e);for(let e=0,i=0,s=t.length;e<s;e++){let s=t[e];n.set(s,i),i+=s.length}return n}};let Wt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Wt=!1}const Vt=new Uint8Array(256);for(let t=0;t<256;t++)Vt[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Vt[254]=Vt[254]=1;var Kt={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,i,s,r,o=t.length,a=0;for(s=0;s<o;s++)n=t.charCodeAt(s),55296==(64512&n)&&s+1<o&&(i=t.charCodeAt(s+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),s++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),r=0,s=0;r<a;s++)n=t.charCodeAt(s),55296==(64512&n)&&s+1<o&&(i=t.charCodeAt(s+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),s++)),n<128?e[r++]=n:n<2048?(e[r++]=192|n>>>6,e[r++]=128|63&n):n<65536?(e[r++]=224|n>>>12,e[r++]=128|n>>>6&63,e[r++]=128|63&n):(e[r++]=240|n>>>18,e[r++]=128|n>>>12&63,e[r++]=128|n>>>6&63,e[r++]=128|63&n);return e},buf2string:(t,e)=>{const n=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let i,s;const r=new Array(2*n);for(s=0,i=0;i<n;){let e=t[i++];if(e<128){r[s++]=e;continue}let o=Vt[e];if(o>4)r[s++]=65533,i+=o-1;else{for(e&=2===o?31:3===o?15:7;o>1&&i<n;)e=e<<6|63&t[i++],o--;o>1?r[s++]=65533:e<65536?r[s++]=e:(e-=65536,r[s++]=55296|e>>10&1023,r[s++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Wt)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n})(r,s)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+Vt[t[n]]>e?n:e}},Ht=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Qt=Object.prototype.toString,{Z_NO_FLUSH:Xt,Z_SYNC_FLUSH:Yt,Z_FULL_FLUSH:$t,Z_FINISH:Jt,Z_OK:te,Z_STREAM_END:ee,Z_DEFAULT_COMPRESSION:ne,Z_DEFAULT_STRATEGY:ie,Z_DEFLATED:se}=Z;function re(t){this.options=Gt.assign({level:ne,method:se,chunkSize:16384,windowBits:15,memLevel:8,strategy:ie},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ht,this.strm.avail_out=0;let n=Ut.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==te)throw new Error(z[n]);if(e.header&&Ut.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Kt.string2buf(e.dictionary):"[object ArrayBuffer]"===Qt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=Ut.deflateSetDictionary(this.strm,t),n!==te)throw new Error(z[n]);this._dict_set=!0}}function oe(t,e){const n=new re(e);if(n.push(t,!0),n.err)throw n.msg||z[n.err];return n.result}re.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize;let s,r;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Jt:Xt,"string"==typeof t?n.input=Kt.string2buf(t):"[object ArrayBuffer]"===Qt.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(r===Yt||r===$t)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(s=Ut.deflate(n,r),s===ee)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),s=Ut.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===te;if(0!==n.avail_out){if(r>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},re.prototype.onData=function(t){this.chunks.push(t)},re.prototype.onEnd=function(t){t===te&&(this.result=Gt.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ae={Deflate:re,deflate:oe,deflateRaw:function(t,e){return(e=e||{}).raw=!0,oe(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,oe(t,e)},constants:Z};const le=16209;var ce=function(t,e){let n,i,s,r,o,a,l,c,u,h,d,_,p,f,g,m,y,v,b,w,E,x,q,T;const S=t.state;n=t.next_in,q=t.input,i=n+(t.avail_in-5),s=t.next_out,T=t.output,r=s-(e-t.avail_out),o=s+(t.avail_out-257),a=S.dmax,l=S.wsize,c=S.whave,u=S.wnext,h=S.window,d=S.hold,_=S.bits,p=S.lencode,f=S.distcode,g=(1<<S.lenbits)-1,m=(1<<S.distbits)-1;t:do{_<15&&(d+=q[n++]<<_,_+=8,d+=q[n++]<<_,_+=8),y=p[d&g];e:for(;;){if(v=y>>>24,d>>>=v,_-=v,v=y>>>16&255,0===v)T[s++]=65535&y;else{if(!(16&v)){if(0==(64&v)){y=p[(65535&y)+(d&(1<<v)-1)];continue e}if(32&v){S.mode=16191;break t}t.msg="invalid literal/length code",S.mode=le;break t}b=65535&y,v&=15,v&&(_<v&&(d+=q[n++]<<_,_+=8),b+=d&(1<<v)-1,d>>>=v,_-=v),_<15&&(d+=q[n++]<<_,_+=8,d+=q[n++]<<_,_+=8),y=f[d&m];n:for(;;){if(v=y>>>24,d>>>=v,_-=v,v=y>>>16&255,!(16&v)){if(0==(64&v)){y=f[(65535&y)+(d&(1<<v)-1)];continue n}t.msg="invalid distance code",S.mode=le;break t}if(w=65535&y,v&=15,_<v&&(d+=q[n++]<<_,_+=8,_<v&&(d+=q[n++]<<_,_+=8)),w+=d&(1<<v)-1,w>a){t.msg="invalid distance too far back",S.mode=le;break t}if(d>>>=v,_-=v,v=s-r,w>v){if(v=w-v,v>c&&S.sane){t.msg="invalid distance too far back",S.mode=le;break t}if(E=0,x=h,0===u){if(E+=l-v,v<b){b-=v;do{T[s++]=h[E++]}while(--v);E=s-w,x=T}}else if(u<v){if(E+=l+u-v,v-=u,v<b){b-=v;do{T[s++]=h[E++]}while(--v);if(E=0,u<b){v=u,b-=v;do{T[s++]=h[E++]}while(--v);E=s-w,x=T}}}else if(E+=u-v,v<b){b-=v;do{T[s++]=h[E++]}while(--v);E=s-w,x=T}for(;b>2;)T[s++]=x[E++],T[s++]=x[E++],T[s++]=x[E++],b-=3;b&&(T[s++]=x[E++],b>1&&(T[s++]=x[E++]))}else{E=s-w;do{T[s++]=T[E++],T[s++]=T[E++],T[s++]=T[E++],b-=3}while(b>2);b&&(T[s++]=T[E++],b>1&&(T[s++]=T[E++]))}break}}break}}while(n<i&&s<o);b=_>>3,n-=b,_-=b<<3,d&=(1<<_)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=s<o?o-s+257:257-(s-o),S.hold=d,S.bits=_};const ue=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),he=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),de=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var pe=(t,e,n,i,s,r,o,a)=>{const l=a.bits;let c,u,h,d,_,p,f=0,g=0,m=0,y=0,v=0,b=0,w=0,E=0,x=0,q=0,T=null;const S=new Uint16Array(16),C=new Uint16Array(16);let I,A,k,R=null;for(f=0;f<=15;f++)S[f]=0;for(g=0;g<i;g++)S[e[n+g]]++;for(v=l,y=15;y>=1&&0===S[y];y--);if(v>y&&(v=y),0===y)return s[r++]=20971520,s[r++]=20971520,a.bits=1,0;for(m=1;m<y&&0===S[m];m++);for(v<m&&(v=m),E=1,f=1;f<=15;f++)if(E<<=1,E-=S[f],E<0)return-1;if(E>0&&(0===t||1!==y))return-1;for(C[1]=0,f=1;f<15;f++)C[f+1]=C[f]+S[f];for(g=0;g<i;g++)0!==e[n+g]&&(o[C[e[n+g]]++]=g);if(0===t?(T=R=o,p=20):1===t?(T=ue,R=he,p=257):(T=de,R=_e,p=0),q=0,g=0,f=m,_=r,b=v,w=0,h=-1,x=1<<v,d=x-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){I=f-w,o[g]+1<p?(A=0,k=o[g]):o[g]>=p?(A=R[o[g]-p],k=T[o[g]-p]):(A=96,k=0),c=1<<f-w,u=1<<b,m=u;do{u-=c,s[_+(q>>w)+u]=I<<24|A<<16|k|0}while(0!==u);for(c=1<<f-1;q&c;)c>>=1;if(0!==c?(q&=c-1,q+=c):q=0,g++,0==--S[f]){if(f===y)break;f=e[n+o[g]]}if(f>v&&(q&d)!==h){for(0===w&&(w=v),_+=m,b=f-w,E=1<<b;b+w<y&&(E-=S[b+w],!(E<=0));)b++,E<<=1;if(x+=1<<b,1===t&&x>852||2===t&&x>592)return 1;h=q&d,s[h]=v<<24|b<<16|_-r|0}}return 0!==q&&(s[_+q]=f-w<<24|64<<16|0),a.bits=v,0};const{Z_FINISH:fe,Z_BLOCK:ge,Z_TREES:me,Z_OK:ye,Z_STREAM_END:ve,Z_NEED_DICT:be,Z_STREAM_ERROR:we,Z_DATA_ERROR:Ee,Z_MEM_ERROR:xe,Z_BUF_ERROR:qe,Z_DEFLATED:Te}=Z,Se=16180,Ce=16190,Ie=16191,Ae=16192,ke=16194,Re=16199,Pe=16200,Fe=16206,Oe=16209,Le=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Me(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const De=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Se||e.mode>16211?1:0},Ne=t=>{if(De(t))return we;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Se,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ye},ze=t=>{if(De(t))return we;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Ne(t)},Ze=(t,e)=>{let n;if(De(t))return we;const i=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?we:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,ze(t))},je=(t,e)=>{if(!t)return we;const n=new Me;t.state=n,n.strm=t,n.window=null,n.mode=Se;const i=Ze(t,e);return i!==ye&&(t.state=null),i};let Ue,Be,Ge=!0;const We=t=>{if(Ge){Ue=new Int32Array(512),Be=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(pe(1,t.lens,0,288,Ue,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;pe(2,t.lens,0,32,Be,0,t.work,{bits:5}),Ge=!1}t.lencode=Ue,t.lenbits=9,t.distcode=Be,t.distbits=5},Ve=(t,e,n,i)=>{let s;const r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(e.subarray(n-r.wsize,n),0),r.wnext=0,r.whave=r.wsize):(s=r.wsize-r.wnext,s>i&&(s=i),r.window.set(e.subarray(n-i,n-i+s),r.wnext),(i-=s)?(r.window.set(e.subarray(n-i,n),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=s,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=s))),0};var Ke={inflateReset:ze,inflateReset2:Ze,inflateResetKeep:Ne,inflateInit:t=>je(t,15),inflateInit2:je,inflate:(t,e)=>{let n,i,s,r,o,a,l,c,u,h,d,_,p,f,g,m,y,v,b,w,E,x,q=0;const T=new Uint8Array(4);let S,C;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(De(t)||!t.output||!t.input&&0!==t.avail_in)return we;n=t.state,n.mode===Ie&&(n.mode=Ae),o=t.next_out,s=t.output,l=t.avail_out,r=t.next_in,i=t.input,a=t.avail_in,c=n.hold,u=n.bits,h=a,d=l,x=ye;t:for(;;)switch(n.mode){case Se:if(0===n.wrap){n.mode=Ae;break}for(;u<16;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,T[0]=255&c,T[1]=c>>>8&255,n.check=N(n.check,T,2,0),c=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=Oe;break}if((15&c)!==Te){t.msg="unknown compression method",n.mode=Oe;break}if(c>>>=4,u-=4,E=8+(15&c),0===n.wbits&&(n.wbits=E),E>15||E>n.wbits){t.msg="invalid window size",n.mode=Oe;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&c?16189:Ie,c=0,u=0;break;case 16181:for(;u<16;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==Te){t.msg="unknown compression method",n.mode=Oe;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Oe;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(T[0]=255&c,T[1]=c>>>8&255,n.check=N(n.check,T,2,0)),c=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,n.check=N(n.check,T,4,0)),c=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(T[0]=255&c,T[1]=c>>>8&255,n.check=N(n.check,T,2,0)),c=0,u=0,n.mode=16184;case 16184:if(1024&n.flags){for(;u<16;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(T[0]=255&c,T[1]=c>>>8&255,n.check=N(n.check,T,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(_=n.length,_>a&&(_=a),_&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(r,r+_),E)),512&n.flags&&4&n.wrap&&(n.check=N(n.check,i,_,r)),a-=_,r+=_,n.length-=_),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===a)break t;_=0;do{E=i[r+_++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E))}while(E&&_<a);if(512&n.flags&&4&n.wrap&&(n.check=N(n.check,i,_,r)),a-=_,r+=_,E)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===a)break t;_=0;do{E=i[r+_++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E))}while(E&&_<a);if(512&n.flags&&4&n.wrap&&(n.check=N(n.check,i,_,r)),a-=_,r+=_,E)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;u<16;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}if(4&n.wrap&&c!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Oe;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Ie;break;case 16189:for(;u<32;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}t.adler=n.check=Le(c),c=0,u=0,n.mode=Ce;case Ce:if(0===n.havedict)return t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=a,n.hold=c,n.bits=u,be;t.adler=n.check=1,n.mode=Ie;case Ie:if(e===ge||e===me)break t;case Ae:if(n.last){c>>>=7&u,u-=7&u,n.mode=Fe;break}for(;u<3;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}switch(n.last=1&c,c>>>=1,u-=1,3&c){case 0:n.mode=16193;break;case 1:if(We(n),n.mode=Re,e===me){c>>>=2,u-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=Oe}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Oe;break}if(n.length=65535&c,c=0,u=0,n.mode=ke,e===me)break t;case ke:n.mode=16195;case 16195:if(_=n.length,_){if(_>a&&(_=a),_>l&&(_=l),0===_)break t;s.set(i.subarray(r,r+_),o),a-=_,r+=_,l-=_,o+=_,n.length-=_;break}n.mode=Ie;break;case 16196:for(;u<14;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Oe;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}n.lens[I[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,S={bits:n.lenbits},x=pe(0,n.lens,0,19,n.lencode,0,n.work,S),n.lenbits=S.bits,x){t.msg="invalid code lengths set",n.mode=Oe;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;q=n.lencode[c&(1<<n.lenbits)-1],g=q>>>24,m=q>>>16&255,y=65535&q,!(g<=u);){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}if(y<16)c>>>=g,u-=g,n.lens[n.have++]=y;else{if(16===y){for(C=g+2;u<C;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}if(c>>>=g,u-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=Oe;break}E=n.lens[n.have-1],_=3+(3&c),c>>>=2,u-=2}else if(17===y){for(C=g+3;u<C;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}c>>>=g,u-=g,E=0,_=3+(7&c),c>>>=3,u-=3}else{for(C=g+7;u<C;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}c>>>=g,u-=g,E=0,_=11+(127&c),c>>>=7,u-=7}if(n.have+_>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Oe;break}for(;_--;)n.lens[n.have++]=E}}if(n.mode===Oe)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Oe;break}if(n.lenbits=9,S={bits:n.lenbits},x=pe(1,n.lens,0,n.nlen,n.lencode,0,n.work,S),n.lenbits=S.bits,x){t.msg="invalid literal/lengths set",n.mode=Oe;break}if(n.distbits=6,n.distcode=n.distdyn,S={bits:n.distbits},x=pe(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,S),n.distbits=S.bits,x){t.msg="invalid distances set",n.mode=Oe;break}if(n.mode=Re,e===me)break t;case Re:n.mode=Pe;case Pe:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=a,n.hold=c,n.bits=u,ce(t,d),o=t.next_out,s=t.output,l=t.avail_out,r=t.next_in,i=t.input,a=t.avail_in,c=n.hold,u=n.bits,n.mode===Ie&&(n.back=-1);break}for(n.back=0;q=n.lencode[c&(1<<n.lenbits)-1],g=q>>>24,m=q>>>16&255,y=65535&q,!(g<=u);){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}if(m&&0==(240&m)){for(v=g,b=m,w=y;q=n.lencode[w+((c&(1<<v+b)-1)>>v)],g=q>>>24,m=q>>>16&255,y=65535&q,!(v+g<=u);){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}c>>>=v,u-=v,n.back+=v}if(c>>>=g,u-=g,n.back+=g,n.length=y,0===m){n.mode=16205;break}if(32&m){n.back=-1,n.mode=Ie;break}if(64&m){t.msg="invalid literal/length code",n.mode=Oe;break}n.extra=15&m,n.mode=16201;case 16201:if(n.extra){for(C=n.extra;u<C;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;q=n.distcode[c&(1<<n.distbits)-1],g=q>>>24,m=q>>>16&255,y=65535&q,!(g<=u);){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}if(0==(240&m)){for(v=g,b=m,w=y;q=n.distcode[w+((c&(1<<v+b)-1)>>v)],g=q>>>24,m=q>>>16&255,y=65535&q,!(v+g<=u);){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}c>>>=v,u-=v,n.back+=v}if(c>>>=g,u-=g,n.back+=g,64&m){t.msg="invalid distance code",n.mode=Oe;break}n.offset=y,n.extra=15&m,n.mode=16203;case 16203:if(n.extra){for(C=n.extra;u<C;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Oe;break}n.mode=16204;case 16204:if(0===l)break t;if(_=d-l,n.offset>_){if(_=n.offset-_,_>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Oe;break}_>n.wnext?(_-=n.wnext,p=n.wsize-_):p=n.wnext-_,_>n.length&&(_=n.length),f=n.window}else f=s,p=o-n.offset,_=n.length;_>l&&(_=l),l-=_,n.length-=_;do{s[o++]=f[p++]}while(--_);0===n.length&&(n.mode=Pe);break;case 16205:if(0===l)break t;s[o++]=n.length,l--,n.mode=Pe;break;case Fe:if(n.wrap){for(;u<32;){if(0===a)break t;a--,c|=i[r++]<<u,u+=8}if(d-=l,t.total_out+=d,n.total+=d,4&n.wrap&&d&&(t.adler=n.check=n.flags?N(n.check,s,d,o-d):M(n.check,s,d,o-d)),d=l,4&n.wrap&&(n.flags?c:Le(c))!==n.check){t.msg="incorrect data check",n.mode=Oe;break}c=0,u=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;u<32;){if(0===a)break t;a--,c+=i[r++]<<u,u+=8}if(4&n.wrap&&c!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Oe;break}c=0,u=0}n.mode=16208;case 16208:x=ve;break t;case Oe:x=Ee;break t;case 16210:return xe;default:return we}return t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=a,n.hold=c,n.bits=u,(n.wsize||d!==t.avail_out&&n.mode<Oe&&(n.mode<Fe||e!==fe))&&Ve(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,n.total+=d,4&n.wrap&&d&&(t.adler=n.check=n.flags?N(n.check,s,d,t.next_out-d):M(n.check,s,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Ie?128:0)+(n.mode===Re||n.mode===ke?256:0),(0===h&&0===d||e===fe)&&x===ye&&(x=qe),x},inflateEnd:t=>{if(De(t))return we;let e=t.state;return e.window&&(e.window=null),t.state=null,ye},inflateGetHeader:(t,e)=>{if(De(t))return we;const n=t.state;return 0==(2&n.wrap)?we:(n.head=e,e.done=!1,ye)},inflateSetDictionary:(t,e)=>{const n=e.length;let i,s,r;return De(t)?we:(i=t.state,0!==i.wrap&&i.mode!==Ce?we:i.mode===Ce&&(s=1,s=M(s,e,n,0),s!==i.check)?Ee:(r=Ve(t,e,n,n),r?(i.mode=16210,xe):(i.havedict=1,ye)))},inflateInfo:"pako inflate (from Nodeca project)"},He=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Qe=Object.prototype.toString,{Z_NO_FLUSH:Xe,Z_FINISH:Ye,Z_OK:$e,Z_STREAM_END:Je,Z_NEED_DICT:tn,Z_STREAM_ERROR:en,Z_DATA_ERROR:nn,Z_MEM_ERROR:sn}=Z;function rn(t){this.options=Gt.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ht,this.strm.avail_out=0;let n=Ke.inflateInit2(this.strm,e.windowBits);if(n!==$e)throw new Error(z[n]);if(this.header=new He,Ke.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Kt.string2buf(e.dictionary):"[object ArrayBuffer]"===Qe.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ke.inflateSetDictionary(this.strm,e.dictionary),n!==$e)))throw new Error(z[n])}function on(t,e){const n=new rn(e);if(n.push(t),n.err)throw n.msg||z[n.err];return n.result}rn.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let r,o,a;if(this.ended)return!1;for(o=e===~~e?e:!0===e?Ye:Xe,"[object ArrayBuffer]"===Qe.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),r=Ke.inflate(n,o),r===tn&&s&&(r=Ke.inflateSetDictionary(n,s),r===$e?r=Ke.inflate(n,o):r===nn&&(r=tn));n.avail_in>0&&r===Je&&n.state.wrap>0&&0!==t[n.next_in];)Ke.inflateReset(n),r=Ke.inflate(n,o);switch(r){case en:case nn:case tn:case sn:return this.onEnd(r),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||r===Je))if("string"===this.options.to){let t=Kt.utf8border(n.output,n.next_out),e=n.next_out-t,s=Kt.buf2string(n.output,t);n.next_out=e,n.avail_out=i-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(s)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(r!==$e||0!==a){if(r===Je)return r=Ke.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},rn.prototype.onData=function(t){this.chunks.push(t)},rn.prototype.onEnd=function(t){t===$e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Gt.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var an={Inflate:rn,inflate:on,inflateRaw:function(t,e){return(e=e||{}).raw=!0,on(t,e)},ungzip:on,constants:Z};const{Deflate:ln,deflate:cn,deflateRaw:un,gzip:hn}=ae,{Inflate:dn,inflate:_n,inflateRaw:pn,ungzip:fn}=an;var gn={Deflate:ln,deflate:cn,deflateRaw:un,gzip:hn,Inflate:dn,inflate:_n,inflateRaw:pn,ungzip:fn,constants:Z}},9759:(t,n,i)=>{"use strict";i.d(n,{he:()=>_});var s,r,o=(s="file:///home/mmom/src/ol-mbtiles/node_modules/sqlite-wasm-http/deps/dist/sqlite3-bundler-friendly.mjs",function(t={}){var n,r,o=void 0!==t?t:{};o.ready=new Promise((function(t,e){n=t,r=e}));const a=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,a.debugModule("globalThis.location =",globalThis.location);const l="emscripten-bug-17951";o[l]=function t(e,n){e.env.foo=function(){};const i=o.locateFile(t.uri,void 0===g?"":g);a.debugModule("instantiateWasm() uri =",i);const s=()=>fetch(i,{credentials:"same-origin"});return(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(s(),e).then((t=>n(t.instance,t.module))):async()=>s().then((t=>t.arrayBuffer())).then((t=>WebAssembly.instantiate(t,e))).then((t=>n(t.instance,t.module))))(),{}},o[l].uri="sqlite3.wasm";var c,u,h,d=Object.assign({},o),_="./this.program",p="object"==typeof window,f="function"==typeof importScripts,g=("object"==typeof process&&"object"==typeof process.versions&&process.versions.node,"");(p||f)&&(f?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),s&&(g=s),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",c=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},f&&(h=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),u=(t,e,n)=>{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=()=>{200==i.status||0==i.status&&i.response?e(i.response):n()},i.onerror=n,i.send(null)});var m,y,v=o.print||console.log.bind(console),b=o.printErr||console.warn.bind(console);Object.assign(o,d),d=null,o.arguments&&o.arguments,o.thisProgram&&(_=o.thisProgram),o.quit&&o.quit,o.wasmBinary&&(m=o.wasmBinary),o.noExitRuntime,"object"!=typeof WebAssembly&&B("no native wasm support detected");var w=!1;function E(t,e){t||B(e)}var x,q,T,S,C,I="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function A(t,e,n){for(var i=e+n,s=e;t[s]&&!(s>=i);)++s;if(s-e>16&&t.buffer&&I)return I.decode(t.subarray(e,s));for(var r="";e<s;){var o=t[e++];if(128&o){var a=63&t[e++];if(192!=(224&o)){var l=63&t[e++];if((o=224==(240&o)?(15&o)<<12|a<<6|l:(7&o)<<18|a<<12|l<<6|63&t[e++])<65536)r+=String.fromCharCode(o);else{var c=o-65536;r+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else r+=String.fromCharCode((31&o)<<6|a)}else r+=String.fromCharCode(o)}return r}function k(t,e,n,i){if(!(i>0))return 0;for(var s=n,r=n+i-1,o=0;o<t.length;++o){var a=t.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++o)),a<=127){if(n>=r)break;e[n++]=a}else if(a<=2047){if(n+1>=r)break;e[n++]=192|a>>6,e[n++]=128|63&a}else if(a<=65535){if(n+2>=r)break;e[n++]=224|a>>12,e[n++]=128|a>>6&63,e[n++]=128|63&a}else{if(n+3>=r)break;e[n++]=240|a>>18,e[n++]=128|a>>12&63,e[n++]=128|a>>6&63,e[n++]=128|63&a}}return e[n]=0,n-s}function R(t,e,n){return k(t,q,e,n)}function P(t){for(var e=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i<=127?e++:i<=2047?e+=2:i>=55296&&i<=57343?(e+=4,++n):e+=3}return e}function F(){var t=y.buffer;o.HEAP8=x=new Int8Array(t),o.HEAP16=T=new Int16Array(t),o.HEAP32=S=new Int32Array(t),o.HEAPU8=q=new Uint8Array(t),o.HEAPU16=new Uint16Array(t),o.HEAPU32=C=new Uint32Array(t),o.HEAPF32=new Float32Array(t),o.HEAPF64=new Float64Array(t),o.HEAP64=new BigInt64Array(t),o.HEAPU64=new BigUint64Array(t)}var O=o.INITIAL_MEMORY||16777216;E(O>=524288,"INITIAL_MEMORY should be larger than STACK_SIZE, was "+O+"! (STACK_SIZE=524288)"),y=o.wasmMemory?o.wasmMemory:new WebAssembly.Memory({initial:O/65536,maximum:32768}),F(),O=y.buffer.byteLength;var L=[],M=[],D=[],N=0,z=null,Z=null;function j(t){N++,o.monitorRunDependencies&&o.monitorRunDependencies(N)}function U(t){if(N--,o.monitorRunDependencies&&o.monitorRunDependencies(N),0==N&&(null!==z&&(clearInterval(z),z=null),Z)){var e=Z;Z=null,e()}}function B(t){o.onAbort&&o.onAbort(t),b(t="Aborted("+t+")"),w=!0,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw r(e),e}var G,W,V,K,H="data:application/octet-stream;base64,";function Q(t){return t.startsWith(H)}function X(t){try{if(t==G&&m)return new Uint8Array(m);if(h)return h(t);throw"both async and sync fetching of the wasm failed"}catch(t){B(t)}}function Y(t,e,n){return function(t){return m||!p&&!f||"function"!=typeof fetch?Promise.resolve().then((function(){return X(t)})):fetch(t,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()})).catch((function(){return X(t)}))}(t).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(t){return t})).then(n,(function(t){b("failed to asynchronously prepare wasm: "+t),B(t)}))}function $(t){for(;t.length>0;)t.shift()(o)}o.locateFile?Q(G="sqlite3.wasm")||(W=G,G=o.locateFile?o.locateFile(W,g):g+W):G=new URL(i(662),i.b).href;var J={isAbs:t=>"/"===t.charAt(0),splitPath:t=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1),normalizeArray:(t,e)=>{for(var n=0,i=t.length-1;i>=0;i--){var s=t[i];"."===s?t.splice(i,1):".."===s?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n;n--)t.unshift("..");return t},normalize:t=>{var e=J.isAbs(t),n="/"===t.substr(-1);return(t=J.normalizeArray(t.split("/").filter((t=>!!t)),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},dirname:t=>{var e=J.splitPath(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},basename:t=>{if("/"===t)return"/";var e=(t=(t=J.normalize(t)).replace(/\/$/,"")).lastIndexOf("/");return-1===e?t:t.substr(e+1)},join:function(){var t=Array.prototype.slice.call(arguments);return J.normalize(t.join("/"))},join2:(t,e)=>J.normalize(t+"/"+e)},tt={resolve:function(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var i=n>=0?arguments[n]:rt.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");if(!i)return"";t=i+"/"+t,e=J.isAbs(i)}return(e?"/":"")+(t=J.normalizeArray(t.split("/").filter((t=>!!t)),!e).join("/"))||"."},relative:(t,e)=>{function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=tt.resolve(t).substr(1),e=tt.resolve(e).substr(1);for(var i=n(t.split("/")),s=n(e.split("/")),r=Math.min(i.length,s.length),o=r,a=0;a<r;a++)if(i[a]!==s[a]){o=a;break}var l=[];for(a=o;a<i.length;a++)l.push("..");return(l=l.concat(s.slice(o))).join("/")}};function et(t,e,n){var i=n>0?n:P(t)+1,s=new Array(i),r=k(t,s,0,s.length);return e&&(s.length=r),s}var nt={ttys:[],init:function(){},shutdown:function(){},register:function(t,e){nt.ttys[t]={input:[],output:[],ops:e},rt.registerDevice(t,nt.stream_ops)},stream_ops:{open:function(t){var e=nt.ttys[t.node.rdev];if(!e)throw new rt.ErrnoError(43);t.tty=e,t.seekable=!1},close:function(t){t.tty.ops.fsync(t.tty)},fsync:function(t){t.tty.ops.fsync(t.tty)},read:function(t,e,n,i,s){if(!t.tty||!t.tty.ops.get_char)throw new rt.ErrnoError(60);for(var r=0,o=0;o<i;o++){var a;try{a=t.tty.ops.get_char(t.tty)}catch(t){throw new rt.ErrnoError(29)}if(void 0===a&&0===r)throw new rt.ErrnoError(6);if(null==a)break;r++,e[n+o]=a}return r&&(t.node.timestamp=Date.now()),r},write:function(t,e,n,i,s){if(!t.tty||!t.tty.ops.put_char)throw new rt.ErrnoError(60);try{for(var r=0;r<i;r++)t.tty.ops.put_char(t.tty,e[n+r])}catch(t){throw new rt.ErrnoError(29)}return i&&(t.node.timestamp=Date.now()),r}},default_tty_ops:{get_char:function(t){if(!t.input.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n"),!e)return null;t.input=et(e,!0)}return t.input.shift()},put_char:function(t,e){null===e||10===e?(v(A(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},fsync:function(t){t.output&&t.output.length>0&&(v(A(t.output,0)),t.output=[])}},default_tty1_ops:{put_char:function(t,e){null===e||10===e?(b(A(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},fsync:function(t){t.output&&t.output.length>0&&(b(A(t.output,0)),t.output=[])}}};function it(t){B()}var st={ops_table:null,mount:function(t){return st.createNode(null,"/",16895,0)},createNode:function(t,e,n,i){if(rt.isBlkdev(n)||rt.isFIFO(n))throw new rt.ErrnoError(63);st.ops_table||(st.ops_table={dir:{node:{getattr:st.node_ops.getattr,setattr:st.node_ops.setattr,lookup:st.node_ops.lookup,mknod:st.node_ops.mknod,rename:st.node_ops.rename,unlink:st.node_ops.unlink,rmdir:st.node_ops.rmdir,readdir:st.node_ops.readdir,symlink:st.node_ops.symlink},stream:{llseek:st.stream_ops.llseek}},file:{node:{getattr:st.node_ops.getattr,setattr:st.node_ops.setattr},stream:{llseek:st.stream_ops.llseek,read:st.stream_ops.read,write:st.stream_ops.write,allocate:st.stream_ops.allocate,mmap:st.stream_ops.mmap,msync:st.stream_ops.msync}},link:{node:{getattr:st.node_ops.getattr,setattr:st.node_ops.setattr,readlink:st.node_ops.readlink},stream:{}},chrdev:{node:{getattr:st.node_ops.getattr,setattr:st.node_ops.setattr},stream:rt.chrdev_stream_ops}});var s=rt.createNode(t,e,n,i);return rt.isDir(s.mode)?(s.node_ops=st.ops_table.dir.node,s.stream_ops=st.ops_table.dir.stream,s.contents={}):rt.isFile(s.mode)?(s.node_ops=st.ops_table.file.node,s.stream_ops=st.ops_table.file.stream,s.usedBytes=0,s.contents=null):rt.isLink(s.mode)?(s.node_ops=st.ops_table.link.node,s.stream_ops=st.ops_table.link.stream):rt.isChrdev(s.mode)&&(s.node_ops=st.ops_table.chrdev.node,s.stream_ops=st.ops_table.chrdev.stream),s.timestamp=Date.now(),t&&(t.contents[e]=s,t.timestamp=s.timestamp),s},getFileDataAsTypedArray:function(t){return t.contents?t.contents.subarray?t.contents.subarray(0,t.usedBytes):new Uint8Array(t.contents):new Uint8Array(0)},expandFileStorage:function(t,e){var n=t.contents?t.contents.length:0;if(!(n>=e)){e=Math.max(e,n*(n<1048576?2:1.125)>>>0),0!=n&&(e=Math.max(e,256));var i=t.contents;t.contents=new Uint8Array(e),t.usedBytes>0&&t.contents.set(i.subarray(0,t.usedBytes),0)}},resizeFileStorage:function(t,e){if(t.usedBytes!=e)if(0==e)t.contents=null,t.usedBytes=0;else{var n=t.contents;t.contents=new Uint8Array(e),n&&t.contents.set(n.subarray(0,Math.min(e,t.usedBytes))),t.usedBytes=e}},node_ops:{getattr:function(t){var e={};return e.dev=rt.isChrdev(t.mode)?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,rt.isDir(t.mode)?e.size=4096:rt.isFile(t.mode)?e.size=t.usedBytes:rt.isLink(t.mode)?e.size=t.link.length:e.size=0,e.atime=new Date(t.timestamp),e.mtime=new Date(t.timestamp),e.ctime=new Date(t.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&st.resizeFileStorage(t,e.size)},lookup:function(t,e){throw rt.genericErrors[44]},mknod:function(t,e,n,i){return st.createNode(t,e,n,i)},rename:function(t,e,n){if(rt.isDir(t.mode)){var i;try{i=rt.lookupNode(e,n)}catch(t){}if(i)for(var s in i.contents)throw new rt.ErrnoError(55)}delete t.parent.contents[t.name],t.parent.timestamp=Date.now(),t.name=n,e.contents[n]=t,e.timestamp=t.parent.timestamp,t.parent=e},unlink:function(t,e){delete t.contents[e],t.timestamp=Date.now()},rmdir:function(t,e){var n=rt.lookupNode(t,e);for(var i in n.contents)throw new rt.ErrnoError(55);delete t.contents[e],t.timestamp=Date.now()},readdir:function(t){var e=[".",".."];for(var n in t.contents)t.contents.hasOwnProperty(n)&&e.push(n);return e},symlink:function(t,e,n){var i=st.createNode(t,e,41471,0);return i.link=n,i},readlink:function(t){if(!rt.isLink(t.mode))throw new rt.ErrnoError(28);return t.link}},stream_ops:{read:function(t,e,n,i,s){var r=t.node.contents;if(s>=t.node.usedBytes)return 0;var o=Math.min(t.node.usedBytes-s,i);if(o>8&&r.subarray)e.set(r.subarray(s,s+o),n);else for(var a=0;a<o;a++)e[n+a]=r[s+a];return o},write:function(t,e,n,i,s,r){if(e.buffer===x.buffer&&(r=!1),!i)return 0;var o=t.node;if(o.timestamp=Date.now(),e.subarray&&(!o.contents||o.contents.subarray)){if(r)return o.contents=e.subarray(n,n+i),o.usedBytes=i,i;if(0===o.usedBytes&&0===s)return o.contents=e.slice(n,n+i),o.usedBytes=i,i;if(s+i<=o.usedBytes)return o.contents.set(e.subarray(n,n+i),s),i}if(st.expandFileStorage(o,s+i),o.contents.subarray&&e.subarray)o.contents.set(e.subarray(n,n+i),s);else for(var a=0;a<i;a++)o.contents[s+a]=e[n+a];return o.usedBytes=Math.max(o.usedBytes,s+i),i},llseek:function(t,e,n){var i=e;if(1===n?i+=t.position:2===n&&rt.isFile(t.node.mode)&&(i+=t.node.usedBytes),i<0)throw new rt.ErrnoError(28);return i},allocate:function(t,e,n){st.expandFileStorage(t.node,e+n),t.node.usedBytes=Math.max(t.node.usedBytes,e+n)},mmap:function(t,e,n,i,s){if(!rt.isFile(t.node.mode))throw new rt.ErrnoError(43);var r,o,a=t.node.contents;if(2&s||a.buffer!==x.buffer){if((n>0||n+e<a.length)&&(a=a.subarray?a.subarray(n,n+e):Array.prototype.slice.call(a,n,n+e)),o=!0,!(r=it()))throw new rt.ErrnoError(48);x.set(a,r)}else o=!1,r=a.byteOffset;return{ptr:r,allocated:o}},msync:function(t,e,n,i,s){return st.stream_ops.write(t,e,0,i,n,!1),0}}},rt={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(t,e={})=>{if(!(t=tt.resolve(t)))return{path:"",node:null};if((e=Object.assign({follow_mount:!0,recurse_count:0},e)).recurse_count>8)throw new rt.ErrnoError(32);for(var n=t.split("/").filter((t=>!!t)),i=rt.root,s="/",r=0;r<n.length;r++){var o=r===n.length-1;if(o&&e.parent)break;if(i=rt.lookupNode(i,n[r]),s=J.join2(s,n[r]),rt.isMountpoint(i)&&(!o||o&&e.follow_mount)&&(i=i.mounted.root),!o||e.follow)for(var a=0;rt.isLink(i.mode);){var l=rt.readlink(s);if(s=tt.resolve(J.dirname(s),l),i=rt.lookupPath(s,{recurse_count:e.recurse_count+1}).node,a++>40)throw new rt.ErrnoError(32)}}return{path:s,node:i}},getPath:t=>{for(var e;;){if(rt.isRoot(t)){var n=t.mount.mountpoint;return e?"/"!==n[n.length-1]?n+"/"+e:n+e:n}e=e?t.name+"/"+e:t.name,t=t.parent}},hashName:(t,e)=>{for(var n=0,i=0;i<e.length;i++)n=(n<<5)-n+e.charCodeAt(i)|0;return(t+n>>>0)%rt.nameTable.length},hashAddNode:t=>{var e=rt.hashName(t.parent.id,t.name);t.name_next=rt.nameTable[e],rt.nameTable[e]=t},hashRemoveNode:t=>{var e=rt.hashName(t.parent.id,t.name);if(rt.nameTable[e]===t)rt.nameTable[e]=t.name_next;else for(var n=rt.nameTable[e];n;){if(n.name_next===t){n.name_next=t.name_next;break}n=n.name_next}},lookupNode:(t,e)=>{var n=rt.mayLookup(t);if(n)throw new rt.ErrnoError(n,t);for(var i=rt.hashName(t.id,e),s=rt.nameTable[i];s;s=s.name_next){var r=s.name;if(s.parent.id===t.id&&r===e)return s}return rt.lookup(t,e)},createNode:(t,e,n,i)=>{var s=new rt.FSNode(t,e,n,i);return rt.hashAddNode(s),s},destroyNode:t=>{rt.hashRemoveNode(t)},isRoot:t=>t===t.parent,isMountpoint:t=>!!t.mounted,isFile:t=>32768==(61440&t),isDir:t=>16384==(61440&t),isLink:t=>40960==(61440&t),isChrdev:t=>8192==(61440&t),isBlkdev:t=>24576==(61440&t),isFIFO:t=>4096==(61440&t),isSocket:t=>49152==(49152&t),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:t=>{var e=rt.flagModes[t];if(void 0===e)throw new Error("Unknown file open mode: "+t);return e},flagsToPermissionString:t=>{var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e},nodePermissions:(t,e)=>rt.ignorePermissions||(!e.includes("r")||292&t.mode)&&(!e.includes("w")||146&t.mode)&&(!e.includes("x")||73&t.mode)?0:2,mayLookup:t=>rt.nodePermissions(t,"x")||(t.node_ops.lookup?0:2),mayCreate:(t,e)=>{try{return rt.lookupNode(t,e),20}catch(t){}return rt.nodePermissions(t,"wx")},mayDelete:(t,e,n)=>{var i;try{i=rt.lookupNode(t,e)}catch(t){return t.errno}var s=rt.nodePermissions(t,"wx");if(s)return s;if(n){if(!rt.isDir(i.mode))return 54;if(rt.isRoot(i)||rt.getPath(i)===rt.cwd())return 10}else if(rt.isDir(i.mode))return 31;return 0},mayOpen:(t,e)=>t?rt.isLink(t.mode)?32:rt.isDir(t.mode)&&("r"!==rt.flagsToPermissionString(e)||512&e)?31:rt.nodePermissions(t,rt.flagsToPermissionString(e)):44,MAX_OPEN_FDS:4096,nextfd:(t=0,e=rt.MAX_OPEN_FDS)=>{for(var n=t;n<=e;n++)if(!rt.streams[n])return n;throw new rt.ErrnoError(33)},getStream:t=>rt.streams[t],createStream:(t,e,n)=>{rt.FSStream||(rt.FSStream=function(){this.shared={}},rt.FSStream.prototype={},Object.defineProperties(rt.FSStream.prototype,{object:{get:function(){return this.node},set:function(t){this.node=t}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(t){this.shared.flags=t}},position:{get:function(){return this.shared.position},set:function(t){this.shared.position=t}}})),t=Object.assign(new rt.FSStream,t);var i=rt.nextfd(e,n);return t.fd=i,rt.streams[i]=t,t},closeStream:t=>{rt.streams[t]=null},chrdev_stream_ops:{open:t=>{var e=rt.getDevice(t.node.rdev);t.stream_ops=e.stream_ops,t.stream_ops.open&&t.stream_ops.open(t)},llseek:()=>{throw new rt.ErrnoError(70)}},major:t=>t>>8,minor:t=>255&t,makedev:(t,e)=>t<<8|e,registerDevice:(t,e)=>{rt.devices[t]={stream_ops:e}},getDevice:t=>rt.devices[t],getMounts:t=>{for(var e=[],n=[t];n.length;){var i=n.pop();e.push(i),n.push.apply(n,i.mounts)}return e},syncfs:(t,e)=>{"function"==typeof t&&(e=t,t=!1),rt.syncFSRequests++,rt.syncFSRequests>1&&b("warning: "+rt.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=rt.getMounts(rt.root.mount),i=0;function s(t){return rt.syncFSRequests--,e(t)}function r(t){if(t)return r.errored?void 0:(r.errored=!0,s(t));++i>=n.length&&s(null)}n.forEach((e=>{if(!e.type.syncfs)return r(null);e.type.syncfs(e,t,r)}))},mount:(t,e,n)=>{var i,s="/"===n,r=!n;if(s&&rt.root)throw new rt.ErrnoError(10);if(!s&&!r){var o=rt.lookupPath(n,{follow_mount:!1});if(n=o.path,i=o.node,rt.isMountpoint(i))throw new rt.ErrnoError(10);if(!rt.isDir(i.mode))throw new rt.ErrnoError(54)}var a={type:t,opts:e,mountpoint:n,mounts:[]},l=t.mount(a);return l.mount=a,a.root=l,s?rt.root=l:i&&(i.mounted=a,i.mount&&i.mount.mounts.push(a)),l},unmount:t=>{var e=rt.lookupPath(t,{follow_mount:!1});if(!rt.isMountpoint(e.node))throw new rt.ErrnoError(28);var n=e.node,i=n.mounted,s=rt.getMounts(i);Object.keys(rt.nameTable).forEach((t=>{for(var e=rt.nameTable[t];e;){var n=e.name_next;s.includes(e.mount)&&rt.destroyNode(e),e=n}})),n.mounted=null;var r=n.mount.mounts.indexOf(i);n.mount.mounts.splice(r,1)},lookup:(t,e)=>t.node_ops.lookup(t,e),mknod:(t,e,n)=>{var i=rt.lookupPath(t,{parent:!0}).node,s=J.basename(t);if(!s||"."===s||".."===s)throw new rt.ErrnoError(28);var r=rt.mayCreate(i,s);if(r)throw new rt.ErrnoError(r);if(!i.node_ops.mknod)throw new rt.ErrnoError(63);return i.node_ops.mknod(i,s,e,n)},create:(t,e)=>(e=void 0!==e?e:438,e&=4095,e|=32768,rt.mknod(t,e,0)),mkdir:(t,e)=>(e=void 0!==e?e:511,e&=1023,e|=16384,rt.mknod(t,e,0)),mkdirTree:(t,e)=>{for(var n=t.split("/"),i="",s=0;s<n.length;++s)if(n[s]){i+="/"+n[s];try{rt.mkdir(i,e)}catch(t){if(20!=t.errno)throw t}}},mkdev:(t,e,n)=>(void 0===n&&(n=e,e=438),e|=8192,rt.mknod(t,e,n)),symlink:(t,e)=>{if(!tt.resolve(t))throw new rt.ErrnoError(44);var n=rt.lookupPath(e,{parent:!0}).node;if(!n)throw new rt.ErrnoError(44);var i=J.basename(e),s=rt.mayCreate(n,i);if(s)throw new rt.ErrnoError(s);if(!n.node_ops.symlink)throw new rt.ErrnoError(63);return n.node_ops.symlink(n,i,t)},rename:(t,e)=>{var n,i,s=J.dirname(t),r=J.dirname(e),o=J.basename(t),a=J.basename(e);if(n=rt.lookupPath(t,{parent:!0}).node,i=rt.lookupPath(e,{parent:!0}).node,!n||!i)throw new rt.ErrnoError(44);if(n.mount!==i.mount)throw new rt.ErrnoError(75);var l,c=rt.lookupNode(n,o),u=tt.relative(t,r);if("."!==u.charAt(0))throw new rt.ErrnoError(28);if("."!==(u=tt.relative(e,s)).charAt(0))throw new rt.ErrnoError(55);try{l=rt.lookupNode(i,a)}catch(t){}if(c!==l){var h=rt.isDir(c.mode),d=rt.mayDelete(n,o,h);if(d)throw new rt.ErrnoError(d);if(d=l?rt.mayDelete(i,a,h):rt.mayCreate(i,a))throw new rt.ErrnoError(d);if(!n.node_ops.rename)throw new rt.ErrnoError(63);if(rt.isMountpoint(c)||l&&rt.isMountpoint(l))throw new rt.ErrnoError(10);if(i!==n&&(d=rt.nodePermissions(n,"w")))throw new rt.ErrnoError(d);rt.hashRemoveNode(c);try{n.node_ops.rename(c,i,a)}catch(t){throw t}finally{rt.hashAddNode(c)}}},rmdir:t=>{var e=rt.lookupPath(t,{parent:!0}).node,n=J.basename(t),i=rt.lookupNode(e,n),s=rt.mayDelete(e,n,!0);if(s)throw new rt.ErrnoError(s);if(!e.node_ops.rmdir)throw new rt.ErrnoError(63);if(rt.isMountpoint(i))throw new rt.ErrnoError(10);e.node_ops.rmdir(e,n),rt.destroyNode(i)},readdir:t=>{var e=rt.lookupPath(t,{follow:!0}).node;if(!e.node_ops.readdir)throw new rt.ErrnoError(54);return e.node_ops.readdir(e)},unlink:t=>{var e=rt.lookupPath(t,{parent:!0}).node;if(!e)throw new rt.ErrnoError(44);var n=J.basename(t),i=rt.lookupNode(e,n),s=rt.mayDelete(e,n,!1);if(s)throw new rt.ErrnoError(s);if(!e.node_ops.unlink)throw new rt.ErrnoError(63);if(rt.isMountpoint(i))throw new rt.ErrnoError(10);e.node_ops.unlink(e,n),rt.destroyNode(i)},readlink:t=>{var e=rt.lookupPath(t).node;if(!e)throw new rt.ErrnoError(44);if(!e.node_ops.readlink)throw new rt.ErrnoError(28);return tt.resolve(rt.getPath(e.parent),e.node_ops.readlink(e))},stat:(t,e)=>{var n=rt.lookupPath(t,{follow:!e}).node;if(!n)throw new rt.ErrnoError(44);if(!n.node_ops.getattr)throw new rt.ErrnoError(63);return n.node_ops.getattr(n)},lstat:t=>rt.stat(t,!0),chmod:(t,e,n)=>{var i;if(!(i="string"==typeof t?rt.lookupPath(t,{follow:!n}).node:t).node_ops.setattr)throw new rt.ErrnoError(63);i.node_ops.setattr(i,{mode:4095&e|-4096&i.mode,timestamp:Date.now()})},lchmod:(t,e)=>{rt.chmod(t,e,!0)},fchmod:(t,e)=>{var n=rt.getStream(t);if(!n)throw new rt.ErrnoError(8);rt.chmod(n.node,e)},chown:(t,e,n,i)=>{var s;if(!(s="string"==typeof t?rt.lookupPath(t,{follow:!i}).node:t).node_ops.setattr)throw new rt.ErrnoError(63);s.node_ops.setattr(s,{timestamp:Date.now()})},lchown:(t,e,n)=>{rt.chown(t,e,n,!0)},fchown:(t,e,n)=>{var i=rt.getStream(t);if(!i)throw new rt.ErrnoError(8);rt.chown(i.node,e,n)},truncate:(t,e)=>{if(e<0)throw new rt.ErrnoError(28);var n;if(!(n="string"==typeof t?rt.lookupPath(t,{follow:!0}).node:t).node_ops.setattr)throw new rt.ErrnoError(63);if(rt.isDir(n.mode))throw new rt.ErrnoError(31);if(!rt.isFile(n.mode))throw new rt.ErrnoError(28);var i=rt.nodePermissions(n,"w");if(i)throw new rt.ErrnoError(i);n.node_ops.setattr(n,{size:e,timestamp:Date.now()})},ftruncate:(t,e)=>{var n=rt.getStream(t);if(!n)throw new rt.ErrnoError(8);if(0==(2097155&n.flags))throw new rt.ErrnoError(28);rt.truncate(n.node,e)},utime:(t,e,n)=>{var i=rt.lookupPath(t,{follow:!0}).node;i.node_ops.setattr(i,{timestamp:Math.max(e,n)})},open:(t,e,n)=>{if(""===t)throw new rt.ErrnoError(44);var i;if(n=void 0===n?438:n,n=64&(e="string"==typeof e?rt.modeStringToFlags(e):e)?4095&n|32768:0,"object"==typeof t)i=t;else{t=J.normalize(t);try{i=rt.lookupPath(t,{follow:!(131072&e)}).node}catch(t){}}var s=!1;if(64&e)if(i){if(128&e)throw new rt.ErrnoError(20)}else i=rt.mknod(t,n,0),s=!0;if(!i)throw new rt.ErrnoError(44);if(rt.isChrdev(i.mode)&&(e&=-513),65536&e&&!rt.isDir(i.mode))throw new rt.ErrnoError(54);if(!s){var r=rt.mayOpen(i,e);if(r)throw new rt.ErrnoError(r)}512&e&&!s&&rt.truncate(i,0),e&=-131713;var a=rt.createStream({node:i,path:rt.getPath(i),flags:e,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1});return a.stream_ops.open&&a.stream_ops.open(a),!o.logReadFiles||1&e||(rt.readFiles||(rt.readFiles={}),t in rt.readFiles||(rt.readFiles[t]=1)),a},close:t=>{if(rt.isClosed(t))throw new rt.ErrnoError(8);t.getdents&&(t.getdents=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(t){throw t}finally{rt.closeStream(t.fd)}t.fd=null},isClosed:t=>null===t.fd,llseek:(t,e,n)=>{if(rt.isClosed(t))throw new rt.ErrnoError(8);if(!t.seekable||!t.stream_ops.llseek)throw new rt.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new rt.ErrnoError(28);return t.position=t.stream_ops.llseek(t,e,n),t.ungotten=[],t.position},read:(t,e,n,i,s)=>{if(i<0||s<0)throw new rt.ErrnoError(28);if(rt.isClosed(t))throw new rt.ErrnoError(8);if(1==(2097155&t.flags))throw new rt.ErrnoError(8);if(rt.isDir(t.node.mode))throw new rt.ErrnoError(31);if(!t.stream_ops.read)throw new rt.ErrnoError(28);var r=void 0!==s;if(r){if(!t.seekable)throw new rt.ErrnoError(70)}else s=t.position;var o=t.stream_ops.read(t,e,n,i,s);return r||(t.position+=o),o},write:(t,e,n,i,s,r)=>{if(i<0||s<0)throw new rt.ErrnoError(28);if(rt.isClosed(t))throw new rt.ErrnoError(8);if(0==(2097155&t.flags))throw new rt.ErrnoError(8);if(rt.isDir(t.node.mode))throw new rt.ErrnoError(31);if(!t.stream_ops.write)throw new rt.ErrnoError(28);t.seekable&&1024&t.flags&&rt.llseek(t,0,2);var o=void 0!==s;if(o){if(!t.seekable)throw new rt.ErrnoError(70)}else s=t.position;var a=t.stream_ops.write(t,e,n,i,s,r);return o||(t.position+=a),a},allocate:(t,e,n)=>{if(rt.isClosed(t))throw new rt.ErrnoError(8);if(e<0||n<=0)throw new rt.ErrnoError(28);if(0==(2097155&t.flags))throw new rt.ErrnoError(8);if(!rt.isFile(t.node.mode)&&!rt.isDir(t.node.mode))throw new rt.ErrnoError(43);if(!t.stream_ops.allocate)throw new rt.ErrnoError(138);t.stream_ops.allocate(t,e,n)},mmap:(t,e,n,i,s)=>{if(0!=(2&i)&&0==(2&s)&&2!=(2097155&t.flags))throw new rt.ErrnoError(2);if(1==(2097155&t.flags))throw new rt.ErrnoError(2);if(!t.stream_ops.mmap)throw new rt.ErrnoError(43);return t.stream_ops.mmap(t,e,n,i,s)},msync:(t,e,n,i,s)=>t.stream_ops.msync?t.stream_ops.msync(t,e,n,i,s):0,munmap:t=>0,ioctl:(t,e,n)=>{if(!t.stream_ops.ioctl)throw new rt.ErrnoError(59);return t.stream_ops.ioctl(t,e,n)},readFile:(t,e={})=>{if(e.flags=e.flags||0,e.encoding=e.encoding||"binary","utf8"!==e.encoding&&"binary"!==e.encoding)throw new Error('Invalid encoding type "'+e.encoding+'"');var n,i=rt.open(t,e.flags),s=rt.stat(t).size,r=new Uint8Array(s);return rt.read(i,r,0,s,0),"utf8"===e.encoding?n=A(r,0):"binary"===e.encoding&&(n=r),rt.close(i),n},writeFile:(t,e,n={})=>{n.flags=n.flags||577;var i=rt.open(t,n.flags,n.mode);if("string"==typeof e){var s=new Uint8Array(P(e)+1),r=k(e,s,0,s.length);rt.write(i,s,0,r,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(e))throw new Error("Unsupported data type");rt.write(i,e,0,e.byteLength,void 0,n.canOwn)}rt.close(i)},cwd:()=>rt.currentPath,chdir:t=>{var e=rt.lookupPath(t,{follow:!0});if(null===e.node)throw new rt.ErrnoError(44);if(!rt.isDir(e.node.mode))throw new rt.ErrnoError(54);var n=rt.nodePermissions(e.node,"x");if(n)throw new rt.ErrnoError(n);rt.currentPath=e.path},createDefaultDirectories:()=>{rt.mkdir("/tmp"),rt.mkdir("/home"),rt.mkdir("/home/web_user")},createDefaultDevices:()=>{rt.mkdir("/dev"),rt.registerDevice(rt.makedev(1,3),{read:()=>0,write:(t,e,n,i,s)=>i}),rt.mkdev("/dev/null",rt.makedev(1,3)),nt.register(rt.makedev(5,0),nt.default_tty_ops),nt.register(rt.makedev(6,0),nt.default_tty1_ops),rt.mkdev("/dev/tty",rt.makedev(5,0)),rt.mkdev("/dev/tty1",rt.makedev(6,0));var t=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}return()=>B("randomDevice")}();rt.createDevice("/dev","random",t),rt.createDevice("/dev","urandom",t),rt.mkdir("/dev/shm"),rt.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{rt.mkdir("/proc");var t=rt.mkdir("/proc/self");rt.mkdir("/proc/self/fd"),rt.mount({mount:()=>{var e=rt.createNode(t,"fd",16895,73);return e.node_ops={lookup:(t,e)=>{var n=+e,i=rt.getStream(n);if(!i)throw new rt.ErrnoError(8);var s={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>i.path}};return s.parent=s,s}},e}},{},"/proc/self/fd")},createStandardStreams:()=>{o.stdin?rt.createDevice("/dev","stdin",o.stdin):rt.symlink("/dev/tty","/dev/stdin"),o.stdout?rt.createDevice("/dev","stdout",null,o.stdout):rt.symlink("/dev/tty","/dev/stdout"),o.stderr?rt.createDevice("/dev","stderr",null,o.stderr):rt.symlink("/dev/tty1","/dev/stderr"),rt.open("/dev/stdin",0),rt.open("/dev/stdout",1),rt.open("/dev/stderr",1)},ensureErrnoError:()=>{rt.ErrnoError||(rt.ErrnoError=function(t,e){this.name="ErrnoError",this.node=e,this.setErrno=function(t){this.errno=t},this.setErrno(t),this.message="FS error"},rt.ErrnoError.prototype=new Error,rt.ErrnoError.prototype.constructor=rt.ErrnoError,[44].forEach((t=>{rt.genericErrors[t]=new rt.ErrnoError(t),rt.genericErrors[t].stack="<generic error, no stack>"})))},staticInit:()=>{rt.ensureErrnoError(),rt.nameTable=new Array(4096),rt.mount(st,{},"/"),rt.createDefaultDirectories(),rt.createDefaultDevices(),rt.createSpecialDirectories(),rt.filesystems={MEMFS:st}},init:(t,e,n)=>{rt.init.initialized=!0,rt.ensureErrnoError(),o.stdin=t||o.stdin,o.stdout=e||o.stdout,o.stderr=n||o.stderr,rt.createStandardStreams()},quit:()=>{rt.init.initialized=!1;for(var t=0;t<rt.streams.length;t++){var e=rt.streams[t];e&&rt.close(e)}},getMode:(t,e)=>{var n=0;return t&&(n|=365),e&&(n|=146),n},findObject:(t,e)=>{var n=rt.analyzePath(t,e);return n.exists?n.object:null},analyzePath:(t,e)=>{try{t=(i=rt.lookupPath(t,{follow:!e})).path}catch(t){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=rt.lookupPath(t,{parent:!0});n.parentExists=!0,n.parentPath=i.path,n.parentObject=i.node,n.name=J.basename(t),i=rt.lookupPath(t,{follow:!e}),n.exists=!0,n.path=i.path,n.object=i.node,n.name=i.node.name,n.isRoot="/"===i.path}catch(t){n.error=t.errno}return n},createPath:(t,e,n,i)=>{t="string"==typeof t?t:rt.getPath(t);for(var s=e.split("/").reverse();s.length;){var r=s.pop();if(r){var o=J.join2(t,r);try{rt.mkdir(o)}catch(t){}t=o}}return o},createFile:(t,e,n,i,s)=>{var r=J.join2("string"==typeof t?t:rt.getPath(t),e),o=rt.getMode(i,s);return rt.create(r,o)},createDataFile:(t,e,n,i,s,r)=>{var o=e;t&&(t="string"==typeof t?t:rt.getPath(t),o=e?J.join2(t,e):t);var a=rt.getMode(i,s),l=rt.create(o,a);if(n){if("string"==typeof n){for(var c=new Array(n.length),u=0,h=n.length;u<h;++u)c[u]=n.charCodeAt(u);n=c}rt.chmod(l,146|a);var d=rt.open(l,577);rt.write(d,n,0,n.length,0,r),rt.close(d),rt.chmod(l,a)}return l},createDevice:(t,e,n,i)=>{var s=J.join2("string"==typeof t?t:rt.getPath(t),e),r=rt.getMode(!!n,!!i);rt.createDevice.major||(rt.createDevice.major=64);var o=rt.makedev(rt.createDevice.major++,0);return rt.registerDevice(o,{open:t=>{t.seekable=!1},close:t=>{i&&i.buffer&&i.buffer.length&&i(10)},read:(t,e,i,s,r)=>{for(var o=0,a=0;a<s;a++){var l;try{l=n()}catch(t){throw new rt.ErrnoError(29)}if(void 0===l&&0===o)throw new rt.ErrnoError(6);if(null==l)break;o++,e[i+a]=l}return o&&(t.node.timestamp=Date.now()),o},write:(t,e,n,s,r)=>{for(var o=0;o<s;o++)try{i(e[n+o])}catch(t){throw new rt.ErrnoError(29)}return s&&(t.node.timestamp=Date.now()),o}}),rt.mkdev(s,r,o)},forceLoadFile:t=>{if(t.isDevice||t.isFolder||t.link||t.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!c)throw new Error("Cannot load without read() or XMLHttpRequest.");try{t.contents=et(c(t.url),!0),t.usedBytes=t.contents.length}catch(t){throw new rt.ErrnoError(29)}},createLazyFile:(t,e,n,i,s)=>{function r(){this.lengthKnown=!1,this.chunks=[]}if(r.prototype.get=function(t){if(!(t>this.length-1||t<0)){var e=t%this.chunkSize,n=t/this.chunkSize|0;return this.getter(n)[e]}},r.prototype.setDataGetter=function(t){this.getter=t},r.prototype.cacheLength=function(){var t=new XMLHttpRequest;if(t.open("HEAD",n,!1),t.send(null),!(t.status>=200&&t.status<300||304===t.status))throw new Error("Couldn't load "+n+". Status: "+t.status);var e,i=Number(t.getResponseHeader("Content-length")),s=(e=t.getResponseHeader("Accept-Ranges"))&&"bytes"===e,r=(e=t.getResponseHeader("Content-Encoding"))&&"gzip"===e,o=1048576;s||(o=i);var a=this;a.setDataGetter((t=>{var e=t*o,s=(t+1)*o-1;if(s=Math.min(s,i-1),void 0===a.chunks[t]&&(a.chunks[t]=((t,e)=>{if(t>e)throw new Error("invalid range ("+t+", "+e+") or no bytes requested!");if(e>i-1)throw new Error("only "+i+" bytes available! programmer error!");var s=new XMLHttpRequest;if(s.open("GET",n,!1),i!==o&&s.setRequestHeader("Range","bytes="+t+"-"+e),s.responseType="arraybuffer",s.overrideMimeType&&s.overrideMimeType("text/plain; charset=x-user-defined"),s.send(null),!(s.status>=200&&s.status<300||304===s.status))throw new Error("Couldn't load "+n+". Status: "+s.status);return void 0!==s.response?new Uint8Array(s.response||[]):et(s.responseText||"",!0)})(e,s)),void 0===a.chunks[t])throw new Error("doXHR failed!");return a.chunks[t]})),!r&&i||(o=i=1,i=this.getter(0).length,o=i,v("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=i,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!f)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new r;Object.defineProperties(o,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var a={isDevice:!1,contents:o}}else a={isDevice:!1,url:n};var l=rt.createFile(t,e,a,i,s);a.contents?l.contents=a.contents:a.url&&(l.contents=null,l.url=a.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var c={};function u(t,e,n,i,s){var r=t.node.contents;if(s>=r.length)return 0;var o=Math.min(r.length-s,i);if(r.slice)for(var a=0;a<o;a++)e[n+a]=r[s+a];else for(a=0;a<o;a++)e[n+a]=r.get(s+a);return o}return Object.keys(l.stream_ops).forEach((t=>{var e=l.stream_ops[t];c[t]=function(){return rt.forceLoadFile(l),e.apply(null,arguments)}})),c.read=(t,e,n,i,s)=>(rt.forceLoadFile(l),u(t,e,n,i,s)),c.mmap=(t,e,n,i,s)=>{rt.forceLoadFile(l);var r=it();if(!r)throw new rt.ErrnoError(48);return u(t,x,r,e,n),{ptr:r,allocated:!0}},l.stream_ops=c,l},createPreloadedFile:(t,e,n,i,s,r,o,a,l,c)=>{var h=e?tt.resolve(J.join2(t,e)):t;function d(n){function u(n){c&&c(),a||rt.createDataFile(t,e,n,i,s,l),r&&r(),U()}Browser.handledByPreloadPlugin(n,h,u,(()=>{o&&o(),U()}))||u(n)}j(),"string"==typeof n?function(t,e,n,i){var s="al "+t;u(t,(e=>{E(e,'Loading data file "'+t+'" failed (no arrayBuffer).'),d(new Uint8Array(e)),s&&U()}),(e=>{if(!n)throw'Loading data file "'+t+'" failed.';n()})),s&&j()}(n,0,o):d(n)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(t,e=(()=>{}),n=(()=>{}))=>{var i=rt.indexedDB();try{var s=i.open(rt.DB_NAME(),rt.DB_VERSION)}catch(t){return n(t)}s.onupgradeneeded=()=>{v("creating db"),s.result.createObjectStore(rt.DB_STORE_NAME)},s.onsuccess=()=>{var i=s.result.transaction([rt.DB_STORE_NAME],"readwrite"),r=i.objectStore(rt.DB_STORE_NAME),o=0,a=0,l=t.length;function c(){0==a?e():n()}t.forEach((t=>{var e=r.put(rt.analyzePath(t).object.contents,t);e.onsuccess=()=>{++o+a==l&&c()},e.onerror=()=>{a++,o+a==l&&c()}})),i.onerror=n},s.onerror=n},loadFilesFromDB:(t,e=(()=>{}),n=(()=>{}))=>{var i=rt.indexedDB();try{var s=i.open(rt.DB_NAME(),rt.DB_VERSION)}catch(t){return n(t)}s.onupgradeneeded=n,s.onsuccess=()=>{var i=s.result;try{var r=i.transaction([rt.DB_STORE_NAME],"readonly")}catch(t){return void n(t)}var o=r.objectStore(rt.DB_STORE_NAME),a=0,l=0,c=t.length;function u(){0==l?e():n()}t.forEach((t=>{var e=o.get(t);e.onsuccess=()=>{rt.analyzePath(t).exists&&rt.unlink(t),rt.createDataFile(J.dirname(t),J.basename(t),e.result,!0,!0,!0),++a+l==c&&u()},e.onerror=()=>{l++,a+l==c&&u()}})),r.onerror=n},s.onerror=n}},ot={DEFAULT_POLLMASK:5,calculateAt:function(t,e,n){if(J.isAbs(e))return e;var i;if(i=-100===t?rt.cwd():ot.getStreamFromFD(t).path,0==e.length){if(!n)throw new rt.ErrnoError(44);return i}return J.join2(i,e)},doStat:function(t,e,n){try{var i=t(e)}catch(t){if(t&&t.node&&J.normalize(e)!==J.normalize(rt.getPath(t.node)))return-54;throw t}S[n>>2]=i.dev,S[n+8>>2]=i.ino,S[n+12>>2]=i.mode,C[n+16>>2]=i.nlink,S[n+20>>2]=i.uid,S[n+24>>2]=i.gid,S[n+28>>2]=i.rdev,K=[i.size>>>0,(V=i.size,+Math.abs(V)>=1?V>0?(0|Math.min(+Math.floor(V/4294967296),4294967295))>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],S[n+40>>2]=K[0],S[n+44>>2]=K[1],S[n+48>>2]=4096,S[n+52>>2]=i.blocks;var s=i.atime.getTime(),r=i.mtime.getTime(),o=i.ctime.getTime();return K=[Math.floor(s/1e3)>>>0,(V=Math.floor(s/1e3),+Math.abs(V)>=1?V>0?(0|Math.min(+Math.floor(V/4294967296),4294967295))>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],S[n+56>>2]=K[0],S[n+60>>2]=K[1],C[n+64>>2]=s%1e3*1e3,K=[Math.floor(r/1e3)>>>0,(V=Math.floor(r/1e3),+Math.abs(V)>=1?V>0?(0|Math.min(+Math.floor(V/4294967296),4294967295))>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],S[n+72>>2]=K[0],S[n+76>>2]=K[1],C[n+80>>2]=r%1e3*1e3,K=[Math.floor(o/1e3)>>>0,(V=Math.floor(o/1e3),+Math.abs(V)>=1?V>0?(0|Math.min(+Math.floor(V/4294967296),4294967295))>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],S[n+88>>2]=K[0],S[n+92>>2]=K[1],C[n+96>>2]=o%1e3*1e3,K=[i.ino>>>0,(V=i.ino,+Math.abs(V)>=1?V>0?(0|Math.min(+Math.floor(V/4294967296),4294967295))>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],S[n+104>>2]=K[0],S[n+108>>2]=K[1],0},doMsync:function(t,e,n,i,s){if(!rt.isFile(e.node.mode))throw new rt.ErrnoError(43);if(2&i)return 0;var r=q.slice(t,t+n);rt.msync(e,r,s,n,i)},varargs:void 0,get:function(){return ot.varargs+=4,S[ot.varargs-4>>2]},getStr:function(t){var e=function(t,e){return t?A(q,t,void 0):""}(t);return e},getStreamFromFD:function(t){var e=rt.getStream(t);if(!e)throw new rt.ErrnoError(8);return e}},at=9007199254740992,lt=-9007199254740992;function ct(t){return t<lt||t>at?NaN:Number(t)}function ut(t){return C[t>>2]+4294967296*S[t+4>>2]}var ht,dt=[0,31,60,91,121,152,182,213,244,274,305,335],_t=[0,31,59,90,120,151,181,212,243,273,304,334];function pt(t){var e=P(t)+1,n=Et(e);return n&&k(t,x,n,e),n}function ft(t){var e=y.buffer;try{return y.grow(t-e.byteLength+65535>>>16),F(),1}catch(t){}}ht=()=>performance.now();var gt={};function mt(){if(!mt.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:_||"./this.program"};for(var e in gt)void 0===gt[e]?delete t[e]:t[e]=gt[e];var n=[];for(var e in t)n.push(e+"="+t[e]);mt.strings=n}return mt.strings}var yt=function(t,e,n,i){t||(t=this),this.parent=t,this.mount=t.mount,this.mounted=null,this.id=rt.nextInode++,this.name=e,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=i};Object.defineProperties(yt.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return rt.isDir(this.mode)}},isDevice:{get:function(){return rt.isChrdev(this.mode)}}}),rt.FSNode=yt,rt.staticInit();var vt,bt={__syscall_chmod:function(t,e){try{return t=ot.getStr(t),rt.chmod(t,e),0}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_faccessat:function(t,e,n,i){try{if(e=ot.getStr(e),e=ot.calculateAt(t,e),-8&n)return-28;var s=rt.lookupPath(e,{follow:!0}).node;if(!s)return-44;var r="";return 4&n&&(r+="r"),2&n&&(r+="w"),1&n&&(r+="x"),r&&rt.nodePermissions(s,r)?-2:0}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_fchmod:function(t,e){try{return rt.fchmod(t,e),0}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_fchown32:function(t,e,n){try{return rt.fchown(t,e,n),0}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_fcntl64:function(t,e,n){ot.varargs=n;try{var i=ot.getStreamFromFD(t);switch(e){case 0:return(s=ot.get())<0?-28:rt.createStream(i,s).fd;case 1:case 2:case 6:case 7:return 0;case 3:return i.flags;case 4:var s=ot.get();return i.flags|=s,0;case 5:return s=ot.get(),T[s+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return 28,S[wt()>>2]=28,-1}}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_fstat64:function(t,e){try{var n=ot.getStreamFromFD(t);return ot.doStat(rt.stat,n.path,e)}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_ftruncate64:function(t,e){try{return e=ct(e),isNaN(e)?-61:(rt.ftruncate(t,e),0)}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_getcwd:function(t,e){try{if(0===e)return-28;var n=rt.cwd(),i=P(n)+1;return e<i?-68:(R(n,t,e),i)}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_ioctl:function(t,e,n){ot.varargs=n;try{var i=ot.getStreamFromFD(t);switch(e){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return i.tty?0:-59;case 21519:if(!i.tty)return-59;var s=ot.get();return S[s>>2]=0,0;case 21520:return i.tty?-28:-59;case 21531:return s=ot.get(),rt.ioctl(i,e,s);default:return-28}}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_lstat64:function(t,e){try{return t=ot.getStr(t),ot.doStat(rt.lstat,t,e)}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_mkdirat:function(t,e,n){try{return e=ot.getStr(e),e=ot.calculateAt(t,e),"/"===(e=J.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),rt.mkdir(e,n,0),0}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_newfstatat:function(t,e,n,i){try{e=ot.getStr(e);var s=256&i,r=4096&i;return i&=-6401,e=ot.calculateAt(t,e,r),ot.doStat(s?rt.lstat:rt.stat,e,n)}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_openat:function(t,e,n,i){ot.varargs=i;try{e=ot.getStr(e),e=ot.calculateAt(t,e);var s=i?ot.get():0;return rt.open(e,n,s).fd}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_readlinkat:function(t,e,n,i){try{if(e=ot.getStr(e),e=ot.calculateAt(t,e),i<=0)return-28;var s=rt.readlink(e),r=Math.min(i,P(s)),o=x[n+r];return R(s,n,i+1),x[n+r]=o,r}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_rmdir:function(t){try{return t=ot.getStr(t),rt.rmdir(t),0}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_stat64:function(t,e){try{return t=ot.getStr(t),ot.doStat(rt.stat,t,e)}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_unlinkat:function(t,e,n){try{return e=ot.getStr(e),e=ot.calculateAt(t,e),0===n?rt.unlink(e):512===n?rt.rmdir(e):B("Invalid flags passed to unlinkat"),0}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},__syscall_utimensat:function(t,e,n,i){try{if(e=ot.getStr(e),e=ot.calculateAt(t,e,!0),n){var s=ut(n),r=S[n+8>>2];o=1e3*s+r/1e6,a=1e3*(s=ut(n+=16))+(r=S[n+8>>2])/1e6}else var o=Date.now(),a=o;return rt.utime(e,o,a),0}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return-t.errno}},_emscripten_get_now_is_monotonic:function(){return true},_localtime_js:function(t,e){var n=new Date(1e3*ut(t));S[e>>2]=n.getSeconds(),S[e+4>>2]=n.getMinutes(),S[e+8>>2]=n.getHours(),S[e+12>>2]=n.getDate(),S[e+16>>2]=n.getMonth(),S[e+20>>2]=n.getFullYear()-1900,S[e+24>>2]=n.getDay();var i=0|function(t){var e;return((e=t.getFullYear())%4!=0||e%100==0&&e%400!=0?_t:dt)[t.getMonth()]+t.getDate()-1}(n);S[e+28>>2]=i,S[e+36>>2]=-60*n.getTimezoneOffset();var s=new Date(n.getFullYear(),0,1),r=new Date(n.getFullYear(),6,1).getTimezoneOffset(),o=s.getTimezoneOffset(),a=0|(r!=o&&n.getTimezoneOffset()==Math.min(o,r));S[e+32>>2]=a},_tzset_js:function(t,e,n){var i=(new Date).getFullYear(),s=new Date(i,0,1),r=new Date(i,6,1),o=s.getTimezoneOffset(),a=r.getTimezoneOffset(),l=Math.max(o,a);function c(t){var e=t.toTimeString().match(/\(([A-Za-z ]+)\)$/);return e?e[1]:"GMT"}C[t>>2]=60*l,S[e>>2]=Number(o!=a);var u=c(s),h=c(r),d=pt(u),_=pt(h);a<o?(C[n>>2]=d,C[n+4>>2]=_):(C[n>>2]=_,C[n+4>>2]=d)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:ht,emscripten_resize_heap:function(t){var e,n=q.length,i=2147483648;if((t>>>=0)>i)return!1;for(var s=1;s<=4;s*=2){var r=n*(1+.2/s);if(r=Math.min(r,t+100663296),ft(Math.min(i,(e=Math.max(t,r))+(65536-e%65536)%65536)))return!0}return!1},environ_get:function(t,e){var n=0;return mt().forEach((function(i,s){var r=e+n;C[t+4*s>>2]=r,function(t,e,n){for(var i=0;i<t.length;++i)x[e++>>0]=t.charCodeAt(i);x[e>>0]=0}(i,r),n+=i.length+1})),0},environ_sizes_get:function(t,e){var n=mt();C[t>>2]=n.length;var i=0;return n.forEach((function(t){i+=t.length+1})),C[e>>2]=i,0},fd_close:function(t){try{var e=ot.getStreamFromFD(t);return rt.close(e),0}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return t.errno}},fd_fdstat_get:function(t,e){try{var n=ot.getStreamFromFD(t),i=n.tty?2:rt.isDir(n.mode)?3:rt.isLink(n.mode)?7:4;return x[e>>0]=i,0}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return t.errno}},fd_read:function(t,e,n,i){try{var s=function(t,e,n,i){for(var s=0,r=0;r<n;r++){var o=C[e>>2],a=C[e+4>>2];e+=8;var l=rt.read(t,x,o,a,i);if(l<0)return-1;if(s+=l,l<a)break;void 0!==i&&(i+=l)}return s}(ot.getStreamFromFD(t),e,n);return C[i>>2]=s,0}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return t.errno}},fd_seek:function(t,e,n,i){try{if(e=ct(e),isNaN(e))return 61;var s=ot.getStreamFromFD(t);return rt.llseek(s,e,n),K=[s.position>>>0,(V=s.position,+Math.abs(V)>=1?V>0?(0|Math.min(+Math.floor(V/4294967296),4294967295))>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],S[i>>2]=K[0],S[i+4>>2]=K[1],s.getdents&&0===e&&0===n&&(s.getdents=null),0}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return t.errno}},fd_sync:function(t){try{var e=ot.getStreamFromFD(t);return e.stream_ops&&e.stream_ops.fsync?e.stream_ops.fsync(e):0}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return t.errno}},fd_write:function(t,e,n,i){try{var s=function(t,e,n,i){for(var s=0,r=0;r<n;r++){var o=C[e>>2],a=C[e+4>>2];e+=8;var l=rt.write(t,x,o,a,i);if(l<0)return-1;s+=l,void 0!==i&&(i+=l)}return s}(ot.getStreamFromFD(t),e,n);return C[i>>2]=s,0}catch(t){if(void 0===rt||"ErrnoError"!==t.name)throw t;return t.errno}},memory:y},wt=(function(){var t,e,n,i,s={env:bt,wasi_snapshot_preview1:bt};function a(t,e){var n,i=t.exports;return o.asm=i,o.asm.__indirect_function_table,n=o.asm.__wasm_call_ctors,M.unshift(n),U(),i}if(j(),o.instantiateWasm)try{return o.instantiateWasm(s,a)}catch(t){b("Module.instantiateWasm callback failed with error: "+t),r(t)}(t=m,e=G,n=s,i=function(t){a(t.instance)},t||"function"!=typeof WebAssembly.instantiateStreaming||Q(e)||"function"!=typeof fetch?Y(e,n,i):fetch(e,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,n).then(i,(function(t){return b("wasm streaming compile failed: "+t),b("falling back to ArrayBuffer instantiation"),Y(e,n,i)}))}))).catch(r)}(),o._sqlite3_status64=function(){return(o._sqlite3_status64=o.asm.sqlite3_status64).apply(null,arguments)},o._sqlite3_status=function(){return(o._sqlite3_status=o.asm.sqlite3_status).apply(null,arguments)},o._sqlite3_db_status=function(){return(o._sqlite3_db_status=o.asm.sqlite3_db_status).apply(null,arguments)},o._sqlite3_msize=function(){return(o._sqlite3_msize=o.asm.sqlite3_msize).apply(null,arguments)},o._sqlite3_vfs_find=function(){return(o._sqlite3_vfs_find=o.asm.sqlite3_vfs_find).apply(null,arguments)},o._sqlite3_initialize=function(){return(o._sqlite3_initialize=o.asm.sqlite3_initialize).apply(null,arguments)},o._sqlite3_malloc=function(){return(o._sqlite3_malloc=o.asm.sqlite3_malloc).apply(null,arguments)},o._sqlite3_free=function(){return(o._sqlite3_free=o.asm.sqlite3_free).apply(null,arguments)},o._sqlite3_vfs_register=function(){return(o._sqlite3_vfs_register=o.asm.sqlite3_vfs_register).apply(null,arguments)},o._sqlite3_vfs_unregister=function(){return(o._sqlite3_vfs_unregister=o.asm.sqlite3_vfs_unregister).apply(null,arguments)},o._sqlite3_malloc64=function(){return(o._sqlite3_malloc64=o.asm.sqlite3_malloc64).apply(null,arguments)},o._sqlite3_realloc=function(){return(o._sqlite3_realloc=o.asm.sqlite3_realloc).apply(null,arguments)},o._sqlite3_realloc64=function(){return(o._sqlite3_realloc64=o.asm.sqlite3_realloc64).apply(null,arguments)},o._sqlite3_value_text=function(){return(o._sqlite3_value_text=o.asm.sqlite3_value_text).apply(null,arguments)},o._sqlite3_randomness=function(){return(o._sqlite3_randomness=o.asm.sqlite3_randomness).apply(null,arguments)},o._sqlite3_stricmp=function(){return(o._sqlite3_stricmp=o.asm.sqlite3_stricmp).apply(null,arguments)},o._sqlite3_strnicmp=function(){return(o._sqlite3_strnicmp=o.asm.sqlite3_strnicmp).apply(null,arguments)},o._sqlite3_uri_parameter=function(){return(o._sqlite3_uri_parameter=o.asm.sqlite3_uri_parameter).apply(null,arguments)},function(){return(wt=o.asm.__errno_location).apply(null,arguments)}),Et=(o._sqlite3_uri_boolean=function(){return(o._sqlite3_uri_boolean=o.asm.sqlite3_uri_boolean).apply(null,arguments)},o._sqlite3_serialize=function(){return(o._sqlite3_serialize=o.asm.sqlite3_serialize).apply(null,arguments)},o._sqlite3_prepare_v2=function(){return(o._sqlite3_prepare_v2=o.asm.sqlite3_prepare_v2).apply(null,arguments)},o._sqlite3_step=function(){return(o._sqlite3_step=o.asm.sqlite3_step).apply(null,arguments)},o._sqlite3_column_int64=function(){return(o._sqlite3_column_int64=o.asm.sqlite3_column_int64).apply(null,arguments)},o._sqlite3_column_int=function(){return(o._sqlite3_column_int=o.asm.sqlite3_column_int).apply(null,arguments)},o._sqlite3_finalize=function(){return(o._sqlite3_finalize=o.asm.sqlite3_finalize).apply(null,arguments)},o._sqlite3_file_control=function(){return(o._sqlite3_file_control=o.asm.sqlite3_file_control).apply(null,arguments)},o._sqlite3_reset=function(){return(o._sqlite3_reset=o.asm.sqlite3_reset).apply(null,arguments)},o._sqlite3_deserialize=function(){return(o._sqlite3_deserialize=o.asm.sqlite3_deserialize).apply(null,arguments)},o._sqlite3_clear_bindings=function(){return(o._sqlite3_clear_bindings=o.asm.sqlite3_clear_bindings).apply(null,arguments)},o._sqlite3_value_blob=function(){return(o._sqlite3_value_blob=o.asm.sqlite3_value_blob).apply(null,arguments)},o._sqlite3_value_bytes=function(){return(o._sqlite3_value_bytes=o.asm.sqlite3_value_bytes).apply(null,arguments)},o._sqlite3_value_double=function(){return(o._sqlite3_value_double=o.asm.sqlite3_value_double).apply(null,arguments)},o._sqlite3_value_int=function(){return(o._sqlite3_value_int=o.asm.sqlite3_value_int).apply(null,arguments)},o._sqlite3_value_int64=function(){return(o._sqlite3_value_int64=o.asm.sqlite3_value_int64).apply(null,arguments)},o._sqlite3_value_subtype=function(){return(o._sqlite3_value_subtype=o.asm.sqlite3_value_subtype).apply(null,arguments)},o._sqlite3_value_pointer=function(){return(o._sqlite3_value_pointer=o.asm.sqlite3_value_pointer).apply(null,arguments)},o._sqlite3_value_type=function(){return(o._sqlite3_value_type=o.asm.sqlite3_value_type).apply(null,arguments)},o._sqlite3_value_nochange=function(){return(o._sqlite3_value_nochange=o.asm.sqlite3_value_nochange).apply(null,arguments)},o._sqlite3_value_frombind=function(){return(o._sqlite3_value_frombind=o.asm.sqlite3_value_frombind).apply(null,arguments)},o._sqlite3_value_dup=function(){return(o._sqlite3_value_dup=o.asm.sqlite3_value_dup).apply(null,arguments)},o._sqlite3_value_free=function(){return(o._sqlite3_value_free=o.asm.sqlite3_value_free).apply(null,arguments)},o._sqlite3_result_blob=function(){return(o._sqlite3_result_blob=o.asm.sqlite3_result_blob).apply(null,arguments)},o._sqlite3_result_error_nomem=function(){return(o._sqlite3_result_error_nomem=o.asm.sqlite3_result_error_nomem).apply(null,arguments)},o._sqlite3_result_error_toobig=function(){return(o._sqlite3_result_error_toobig=o.asm.sqlite3_result_error_toobig).apply(null,arguments)},o._sqlite3_result_double=function(){return(o._sqlite3_result_double=o.asm.sqlite3_result_double).apply(null,arguments)},o._sqlite3_result_error=function(){return(o._sqlite3_result_error=o.asm.sqlite3_result_error).apply(null,arguments)},o._sqlite3_result_int=function(){return(o._sqlite3_result_int=o.asm.sqlite3_result_int).apply(null,arguments)},o._sqlite3_result_int64=function(){return(o._sqlite3_result_int64=o.asm.sqlite3_result_int64).apply(null,arguments)},o._sqlite3_result_null=function(){return(o._sqlite3_result_null=o.asm.sqlite3_result_null).apply(null,arguments)},o._sqlite3_result_pointer=function(){return(o._sqlite3_result_pointer=o.asm.sqlite3_result_pointer).apply(null,arguments)},o._sqlite3_result_subtype=function(){return(o._sqlite3_result_subtype=o.asm.sqlite3_result_subtype).apply(null,arguments)},o._sqlite3_result_text=function(){return(o._sqlite3_result_text=o.asm.sqlite3_result_text).apply(null,arguments)},o._sqlite3_result_zeroblob=function(){return(o._sqlite3_result_zeroblob=o.asm.sqlite3_result_zeroblob).apply(null,arguments)},o._sqlite3_result_zeroblob64=function(){return(o._sqlite3_result_zeroblob64=o.asm.sqlite3_result_zeroblob64).apply(null,arguments)},o._sqlite3_result_error_code=function(){return(o._sqlite3_result_error_code=o.asm.sqlite3_result_error_code).apply(null,arguments)},o._sqlite3_user_data=function(){return(o._sqlite3_user_data=o.asm.sqlite3_user_data).apply(null,arguments)},o._sqlite3_context_db_handle=function(){return(o._sqlite3_context_db_handle=o.asm.sqlite3_context_db_handle).apply(null,arguments)},o._sqlite3_vtab_nochange=function(){return(o._sqlite3_vtab_nochange=o.asm.sqlite3_vtab_nochange).apply(null,arguments)},o._sqlite3_vtab_in_first=function(){return(o._sqlite3_vtab_in_first=o.asm.sqlite3_vtab_in_first).apply(null,arguments)},o._sqlite3_vtab_in_next=function(){return(o._sqlite3_vtab_in_next=o.asm.sqlite3_vtab_in_next).apply(null,arguments)},o._sqlite3_aggregate_context=function(){return(o._sqlite3_aggregate_context=o.asm.sqlite3_aggregate_context).apply(null,arguments)},o._sqlite3_get_auxdata=function(){return(o._sqlite3_get_auxdata=o.asm.sqlite3_get_auxdata).apply(null,arguments)},o._sqlite3_set_auxdata=function(){return(o._sqlite3_set_auxdata=o.asm.sqlite3_set_auxdata).apply(null,arguments)},o._sqlite3_column_count=function(){return(o._sqlite3_column_count=o.asm.sqlite3_column_count).apply(null,arguments)},o._sqlite3_data_count=function(){return(o._sqlite3_data_count=o.asm.sqlite3_data_count).apply(null,arguments)},o._sqlite3_column_blob=function(){return(o._sqlite3_column_blob=o.asm.sqlite3_column_blob).apply(null,arguments)},o._sqlite3_column_bytes=function(){return(o._sqlite3_column_bytes=o.asm.sqlite3_column_bytes).apply(null,arguments)},o._sqlite3_column_double=function(){return(o._sqlite3_column_double=o.asm.sqlite3_column_double).apply(null,arguments)},o._sqlite3_column_text=function(){return(o._sqlite3_column_text=o.asm.sqlite3_column_text).apply(null,arguments)},o._sqlite3_column_value=function(){return(o._sqlite3_column_value=o.asm.sqlite3_column_value).apply(null,arguments)},o._sqlite3_column_type=function(){return(o._sqlite3_column_type=o.asm.sqlite3_column_type).apply(null,arguments)},o._sqlite3_column_name=function(){return(o._sqlite3_column_name=o.asm.sqlite3_column_name).apply(null,arguments)},o._sqlite3_bind_blob=function(){return(o._sqlite3_bind_blob=o.asm.sqlite3_bind_blob).apply(null,arguments)},o._sqlite3_bind_double=function(){return(o._sqlite3_bind_double=o.asm.sqlite3_bind_double).apply(null,arguments)},o._sqlite3_bind_int=function(){return(o._sqlite3_bind_int=o.asm.sqlite3_bind_int).apply(null,arguments)},o._sqlite3_bind_int64=function(){return(o._sqlite3_bind_int64=o.asm.sqlite3_bind_int64).apply(null,arguments)},o._sqlite3_bind_null=function(){return(o._sqlite3_bind_null=o.asm.sqlite3_bind_null).apply(null,arguments)},o._sqlite3_bind_pointer=function(){return(o._sqlite3_bind_pointer=o.asm.sqlite3_bind_pointer).apply(null,arguments)},o._sqlite3_bind_text=function(){return(o._sqlite3_bind_text=o.asm.sqlite3_bind_text).apply(null,arguments)},o._sqlite3_bind_parameter_count=function(){return(o._sqlite3_bind_parameter_count=o.asm.sqlite3_bind_parameter_count).apply(null,arguments)},o._sqlite3_bind_parameter_index=function(){return(o._sqlite3_bind_parameter_index=o.asm.sqlite3_bind_parameter_index).apply(null,arguments)},o._sqlite3_db_handle=function(){return(o._sqlite3_db_handle=o.asm.sqlite3_db_handle).apply(null,arguments)},o._sqlite3_stmt_readonly=function(){return(o._sqlite3_stmt_readonly=o.asm.sqlite3_stmt_readonly).apply(null,arguments)},o._sqlite3_stmt_isexplain=function(){return(o._sqlite3_stmt_isexplain=o.asm.sqlite3_stmt_isexplain).apply(null,arguments)},o._sqlite3_stmt_status=function(){return(o._sqlite3_stmt_status=o.asm.sqlite3_stmt_status).apply(null,arguments)},o._sqlite3_sql=function(){return(o._sqlite3_sql=o.asm.sqlite3_sql).apply(null,arguments)},o._sqlite3_expanded_sql=function(){return(o._sqlite3_expanded_sql=o.asm.sqlite3_expanded_sql).apply(null,arguments)},o._sqlite3_preupdate_old=function(){return(o._sqlite3_preupdate_old=o.asm.sqlite3_preupdate_old).apply(null,arguments)},o._sqlite3_preupdate_count=function(){return(o._sqlite3_preupdate_count=o.asm.sqlite3_preupdate_count).apply(null,arguments)},o._sqlite3_preupdate_depth=function(){return(o._sqlite3_preupdate_depth=o.asm.sqlite3_preupdate_depth).apply(null,arguments)},o._sqlite3_preupdate_blobwrite=function(){return(o._sqlite3_preupdate_blobwrite=o.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)},o._sqlite3_preupdate_new=function(){return(o._sqlite3_preupdate_new=o.asm.sqlite3_preupdate_new).apply(null,arguments)},o._sqlite3_value_numeric_type=function(){return(o._sqlite3_value_numeric_type=o.asm.sqlite3_value_numeric_type).apply(null,arguments)},o._sqlite3_errmsg=function(){return(o._sqlite3_errmsg=o.asm.sqlite3_errmsg).apply(null,arguments)},o._sqlite3_set_authorizer=function(){return(o._sqlite3_set_authorizer=o.asm.sqlite3_set_authorizer).apply(null,arguments)},o._sqlite3_strglob=function(){return(o._sqlite3_strglob=o.asm.sqlite3_strglob).apply(null,arguments)},o._sqlite3_strlike=function(){return(o._sqlite3_strlike=o.asm.sqlite3_strlike).apply(null,arguments)},o._sqlite3_exec=function(){return(o._sqlite3_exec=o.asm.sqlite3_exec).apply(null,arguments)},o._sqlite3_auto_extension=function(){return(o._sqlite3_auto_extension=o.asm.sqlite3_auto_extension).apply(null,arguments)},o._sqlite3_cancel_auto_extension=function(){return(o._sqlite3_cancel_auto_extension=o.asm.sqlite3_cancel_auto_extension).apply(null,arguments)},o._sqlite3_reset_auto_extension=function(){return(o._sqlite3_reset_auto_extension=o.asm.sqlite3_reset_auto_extension).apply(null,arguments)},o._sqlite3_prepare_v3=function(){return(o._sqlite3_prepare_v3=o.asm.sqlite3_prepare_v3).apply(null,arguments)},o._sqlite3_create_module=function(){return(o._sqlite3_create_module=o.asm.sqlite3_create_module).apply(null,arguments)},o._sqlite3_create_module_v2=function(){return(o._sqlite3_create_module_v2=o.asm.sqlite3_create_module_v2).apply(null,arguments)},o._sqlite3_drop_modules=function(){return(o._sqlite3_drop_modules=o.asm.sqlite3_drop_modules).apply(null,arguments)},o._sqlite3_declare_vtab=function(){return(o._sqlite3_declare_vtab=o.asm.sqlite3_declare_vtab).apply(null,arguments)},o._sqlite3_vtab_on_conflict=function(){return(o._sqlite3_vtab_on_conflict=o.asm.sqlite3_vtab_on_conflict).apply(null,arguments)},o._sqlite3_vtab_collation=function(){return(o._sqlite3_vtab_collation=o.asm.sqlite3_vtab_collation).apply(null,arguments)},o._sqlite3_vtab_in=function(){return(o._sqlite3_vtab_in=o.asm.sqlite3_vtab_in).apply(null,arguments)},o._sqlite3_vtab_rhs_value=function(){return(o._sqlite3_vtab_rhs_value=o.asm.sqlite3_vtab_rhs_value).apply(null,arguments)},o._sqlite3_vtab_distinct=function(){return(o._sqlite3_vtab_distinct=o.asm.sqlite3_vtab_distinct).apply(null,arguments)},o._sqlite3_keyword_name=function(){return(o._sqlite3_keyword_name=o.asm.sqlite3_keyword_name).apply(null,arguments)},o._sqlite3_keyword_count=function(){return(o._sqlite3_keyword_count=o.asm.sqlite3_keyword_count).apply(null,arguments)},o._sqlite3_keyword_check=function(){return(o._sqlite3_keyword_check=o.asm.sqlite3_keyword_check).apply(null,arguments)},o._sqlite3_complete=function(){return(o._sqlite3_complete=o.asm.sqlite3_complete).apply(null,arguments)},o._sqlite3_libversion=function(){return(o._sqlite3_libversion=o.asm.sqlite3_libversion).apply(null,arguments)},o._sqlite3_libversion_number=function(){return(o._sqlite3_libversion_number=o.asm.sqlite3_libversion_number).apply(null,arguments)},o._sqlite3_shutdown=function(){return(o._sqlite3_shutdown=o.asm.sqlite3_shutdown).apply(null,arguments)},o._sqlite3_last_insert_rowid=function(){return(o._sqlite3_last_insert_rowid=o.asm.sqlite3_last_insert_rowid).apply(null,arguments)},o._sqlite3_set_last_insert_rowid=function(){return(o._sqlite3_set_last_insert_rowid=o.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)},o._sqlite3_changes64=function(){return(o._sqlite3_changes64=o.asm.sqlite3_changes64).apply(null,arguments)},o._sqlite3_changes=function(){return(o._sqlite3_changes=o.asm.sqlite3_changes).apply(null,arguments)},o._sqlite3_total_changes64=function(){return(o._sqlite3_total_changes64=o.asm.sqlite3_total_changes64).apply(null,arguments)},o._sqlite3_total_changes=function(){return(o._sqlite3_total_changes=o.asm.sqlite3_total_changes).apply(null,arguments)},o._sqlite3_txn_state=function(){return(o._sqlite3_txn_state=o.asm.sqlite3_txn_state).apply(null,arguments)},o._sqlite3_close_v2=function(){return(o._sqlite3_close_v2=o.asm.sqlite3_close_v2).apply(null,arguments)},o._sqlite3_busy_handler=function(){return(o._sqlite3_busy_handler=o.asm.sqlite3_busy_handler).apply(null,arguments)},o._sqlite3_progress_handler=function(){return(o._sqlite3_progress_handler=o.asm.sqlite3_progress_handler).apply(null,arguments)},o._sqlite3_busy_timeout=function(){return(o._sqlite3_busy_timeout=o.asm.sqlite3_busy_timeout).apply(null,arguments)},o._sqlite3_create_function=function(){return(o._sqlite3_create_function=o.asm.sqlite3_create_function).apply(null,arguments)},o._sqlite3_create_function_v2=function(){return(o._sqlite3_create_function_v2=o.asm.sqlite3_create_function_v2).apply(null,arguments)},o._sqlite3_create_window_function=function(){return(o._sqlite3_create_window_function=o.asm.sqlite3_create_window_function).apply(null,arguments)},o._sqlite3_overload_function=function(){return(o._sqlite3_overload_function=o.asm.sqlite3_overload_function).apply(null,arguments)},o._sqlite3_trace_v2=function(){return(o._sqlite3_trace_v2=o.asm.sqlite3_trace_v2).apply(null,arguments)},o._sqlite3_commit_hook=function(){return(o._sqlite3_commit_hook=o.asm.sqlite3_commit_hook).apply(null,arguments)},o._sqlite3_update_hook=function(){return(o._sqlite3_update_hook=o.asm.sqlite3_update_hook).apply(null,arguments)},o._sqlite3_rollback_hook=function(){return(o._sqlite3_rollback_hook=o.asm.sqlite3_rollback_hook).apply(null,arguments)},o._sqlite3_preupdate_hook=function(){return(o._sqlite3_preupdate_hook=o.asm.sqlite3_preupdate_hook).apply(null,arguments)},o._sqlite3_error_offset=function(){return(o._sqlite3_error_offset=o.asm.sqlite3_error_offset).apply(null,arguments)},o._sqlite3_errcode=function(){return(o._sqlite3_errcode=o.asm.sqlite3_errcode).apply(null,arguments)},o._sqlite3_extended_errcode=function(){return(o._sqlite3_extended_errcode=o.asm.sqlite3_extended_errcode).apply(null,arguments)},o._sqlite3_errstr=function(){return(o._sqlite3_errstr=o.asm.sqlite3_errstr).apply(null,arguments)},o._sqlite3_limit=function(){return(o._sqlite3_limit=o.asm.sqlite3_limit).apply(null,arguments)},o._sqlite3_open=function(){return(o._sqlite3_open=o.asm.sqlite3_open).apply(null,arguments)},o._sqlite3_open_v2=function(){return(o._sqlite3_open_v2=o.asm.sqlite3_open_v2).apply(null,arguments)},o._sqlite3_create_collation=function(){return(o._sqlite3_create_collation=o.asm.sqlite3_create_collation).apply(null,arguments)},o._sqlite3_create_collation_v2=function(){return(o._sqlite3_create_collation_v2=o.asm.sqlite3_create_collation_v2).apply(null,arguments)},o._sqlite3_collation_needed=function(){return(o._sqlite3_collation_needed=o.asm.sqlite3_collation_needed).apply(null,arguments)},o._sqlite3_table_column_metadata=function(){return(o._sqlite3_table_column_metadata=o.asm.sqlite3_table_column_metadata).apply(null,arguments)},o._sqlite3_extended_result_codes=function(){return(o._sqlite3_extended_result_codes=o.asm.sqlite3_extended_result_codes).apply(null,arguments)},o._sqlite3_uri_key=function(){return(o._sqlite3_uri_key=o.asm.sqlite3_uri_key).apply(null,arguments)},o._sqlite3_uri_int64=function(){return(o._sqlite3_uri_int64=o.asm.sqlite3_uri_int64).apply(null,arguments)},o._sqlite3_db_name=function(){return(o._sqlite3_db_name=o.asm.sqlite3_db_name).apply(null,arguments)},o._sqlite3_db_filename=function(){return(o._sqlite3_db_filename=o.asm.sqlite3_db_filename).apply(null,arguments)},o._sqlite3_compileoption_used=function(){return(o._sqlite3_compileoption_used=o.asm.sqlite3_compileoption_used).apply(null,arguments)},o._sqlite3_compileoption_get=function(){return(o._sqlite3_compileoption_get=o.asm.sqlite3_compileoption_get).apply(null,arguments)},o._sqlite3session_diff=function(){return(o._sqlite3session_diff=o.asm.sqlite3session_diff).apply(null,arguments)},o._sqlite3session_attach=function(){return(o._sqlite3session_attach=o.asm.sqlite3session_attach).apply(null,arguments)},o._sqlite3session_create=function(){return(o._sqlite3session_create=o.asm.sqlite3session_create).apply(null,arguments)},o._sqlite3session_delete=function(){return(o._sqlite3session_delete=o.asm.sqlite3session_delete).apply(null,arguments)},o._sqlite3session_table_filter=function(){return(o._sqlite3session_table_filter=o.asm.sqlite3session_table_filter).apply(null,arguments)},o._sqlite3session_changeset=function(){return(o._sqlite3session_changeset=o.asm.sqlite3session_changeset).apply(null,arguments)},o._sqlite3session_changeset_strm=function(){return(o._sqlite3session_changeset_strm=o.asm.sqlite3session_changeset_strm).apply(null,arguments)},o._sqlite3session_patchset_strm=function(){return(o._sqlite3session_patchset_strm=o.asm.sqlite3session_patchset_strm).apply(null,arguments)},o._sqlite3session_patchset=function(){return(o._sqlite3session_patchset=o.asm.sqlite3session_patchset).apply(null,arguments)},o._sqlite3session_enable=function(){return(o._sqlite3session_enable=o.asm.sqlite3session_enable).apply(null,arguments)},o._sqlite3session_indirect=function(){return(o._sqlite3session_indirect=o.asm.sqlite3session_indirect).apply(null,arguments)},o._sqlite3session_isempty=function(){return(o._sqlite3session_isempty=o.asm.sqlite3session_isempty).apply(null,arguments)},o._sqlite3session_memory_used=function(){return(o._sqlite3session_memory_used=o.asm.sqlite3session_memory_used).apply(null,arguments)},o._sqlite3session_object_config=function(){return(o._sqlite3session_object_config=o.asm.sqlite3session_object_config).apply(null,arguments)},o._sqlite3session_changeset_size=function(){return(o._sqlite3session_changeset_size=o.asm.sqlite3session_changeset_size).apply(null,arguments)},o._sqlite3changeset_start=function(){return(o._sqlite3changeset_start=o.asm.sqlite3changeset_start).apply(null,arguments)},o._sqlite3changeset_start_v2=function(){return(o._sqlite3changeset_start_v2=o.asm.sqlite3changeset_start_v2).apply(null,arguments)},o._sqlite3changeset_start_strm=function(){return(o._sqlite3changeset_start_strm=o.asm.sqlite3changeset_start_strm).apply(null,arguments)},o._sqlite3changeset_start_v2_strm=function(){return(o._sqlite3changeset_start_v2_strm=o.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)},o._sqlite3changeset_next=function(){return(o._sqlite3changeset_next=o.asm.sqlite3changeset_next).apply(null,arguments)},o._sqlite3changeset_op=function(){return(o._sqlite3changeset_op=o.asm.sqlite3changeset_op).apply(null,arguments)},o._sqlite3changeset_pk=function(){return(o._sqlite3changeset_pk=o.asm.sqlite3changeset_pk).apply(null,arguments)},o._sqlite3changeset_old=function(){return(o._sqlite3changeset_old=o.asm.sqlite3changeset_old).apply(null,arguments)},o._sqlite3changeset_new=function(){return(o._sqlite3changeset_new=o.asm.sqlite3changeset_new).apply(null,arguments)},o._sqlite3changeset_conflict=function(){return(o._sqlite3changeset_conflict=o.asm.sqlite3changeset_conflict).apply(null,arguments)},o._sqlite3changeset_fk_conflicts=function(){return(o._sqlite3changeset_fk_conflicts=o.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)},o._sqlite3changeset_finalize=function(){return(o._sqlite3changeset_finalize=o.asm.sqlite3changeset_finalize).apply(null,arguments)},o._sqlite3changeset_invert=function(){return(o._sqlite3changeset_invert=o.asm.sqlite3changeset_invert).apply(null,arguments)},o._sqlite3changeset_invert_strm=function(){return(o._sqlite3changeset_invert_strm=o.asm.sqlite3changeset_invert_strm).apply(null,arguments)},o._sqlite3changeset_apply_v2=function(){return(o._sqlite3changeset_apply_v2=o.asm.sqlite3changeset_apply_v2).apply(null,arguments)},o._sqlite3changeset_apply=function(){return(o._sqlite3changeset_apply=o.asm.sqlite3changeset_apply).apply(null,arguments)},o._sqlite3changeset_apply_v2_strm=function(){return(o._sqlite3changeset_apply_v2_strm=o.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)},o._sqlite3changeset_apply_strm=function(){return(o._sqlite3changeset_apply_strm=o.asm.sqlite3changeset_apply_strm).apply(null,arguments)},o._sqlite3changegroup_new=function(){return(o._sqlite3changegroup_new=o.asm.sqlite3changegroup_new).apply(null,arguments)},o._sqlite3changegroup_add=function(){return(o._sqlite3changegroup_add=o.asm.sqlite3changegroup_add).apply(null,arguments)},o._sqlite3changegroup_output=function(){return(o._sqlite3changegroup_output=o.asm.sqlite3changegroup_output).apply(null,arguments)},o._sqlite3changegroup_add_strm=function(){return(o._sqlite3changegroup_add_strm=o.asm.sqlite3changegroup_add_strm).apply(null,arguments)},o._sqlite3changegroup_output_strm=function(){return(o._sqlite3changegroup_output_strm=o.asm.sqlite3changegroup_output_strm).apply(null,arguments)},o._sqlite3changegroup_delete=function(){return(o._sqlite3changegroup_delete=o.asm.sqlite3changegroup_delete).apply(null,arguments)},o._sqlite3changeset_concat=function(){return(o._sqlite3changeset_concat=o.asm.sqlite3changeset_concat).apply(null,arguments)},o._sqlite3changeset_concat_strm=function(){return(o._sqlite3changeset_concat_strm=o.asm.sqlite3changeset_concat_strm).apply(null,arguments)},o._sqlite3session_config=function(){return(o._sqlite3session_config=o.asm.sqlite3session_config).apply(null,arguments)},o._sqlite3_sourceid=function(){return(o._sqlite3_sourceid=o.asm.sqlite3_sourceid).apply(null,arguments)},o._sqlite3_wasm_pstack_ptr=function(){return(o._sqlite3_wasm_pstack_ptr=o.asm.sqlite3_wasm_pstack_ptr).apply(null,arguments)},o._sqlite3_wasm_pstack_restore=function(){return(o._sqlite3_wasm_pstack_restore=o.asm.sqlite3_wasm_pstack_restore).apply(null,arguments)},o._sqlite3_wasm_pstack_alloc=function(){return(o._sqlite3_wasm_pstack_alloc=o.asm.sqlite3_wasm_pstack_alloc).apply(null,arguments)},o._sqlite3_wasm_pstack_remaining=function(){return(o._sqlite3_wasm_pstack_remaining=o.asm.sqlite3_wasm_pstack_remaining).apply(null,arguments)},o._sqlite3_wasm_pstack_quota=function(){return(o._sqlite3_wasm_pstack_quota=o.asm.sqlite3_wasm_pstack_quota).apply(null,arguments)},o._sqlite3_wasm_db_error=function(){return(o._sqlite3_wasm_db_error=o.asm.sqlite3_wasm_db_error).apply(null,arguments)},o._sqlite3_wasm_test_struct=function(){return(o._sqlite3_wasm_test_struct=o.asm.sqlite3_wasm_test_struct).apply(null,arguments)},o._sqlite3_wasm_enum_json=function(){return(o._sqlite3_wasm_enum_json=o.asm.sqlite3_wasm_enum_json).apply(null,arguments)},o._sqlite3_wasm_vfs_unlink=function(){return(o._sqlite3_wasm_vfs_unlink=o.asm.sqlite3_wasm_vfs_unlink).apply(null,arguments)},o._sqlite3_wasm_db_vfs=function(){return(o._sqlite3_wasm_db_vfs=o.asm.sqlite3_wasm_db_vfs).apply(null,arguments)},o._sqlite3_wasm_db_reset=function(){return(o._sqlite3_wasm_db_reset=o.asm.sqlite3_wasm_db_reset).apply(null,arguments)},o._sqlite3_wasm_db_export_chunked=function(){return(o._sqlite3_wasm_db_export_chunked=o.asm.sqlite3_wasm_db_export_chunked).apply(null,arguments)},o._sqlite3_wasm_db_serialize=function(){return(o._sqlite3_wasm_db_serialize=o.asm.sqlite3_wasm_db_serialize).apply(null,arguments)},o._sqlite3_wasm_vfs_create_file=function(){return(o._sqlite3_wasm_vfs_create_file=o.asm.sqlite3_wasm_vfs_create_file).apply(null,arguments)},o._sqlite3_wasm_kvvfsMakeKeyOnPstack=function(){return(o._sqlite3_wasm_kvvfsMakeKeyOnPstack=o.asm.sqlite3_wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)},o._sqlite3_wasm_kvvfs_methods=function(){return(o._sqlite3_wasm_kvvfs_methods=o.asm.sqlite3_wasm_kvvfs_methods).apply(null,arguments)},o._sqlite3_wasm_vtab_config=function(){return(o._sqlite3_wasm_vtab_config=o.asm.sqlite3_wasm_vtab_config).apply(null,arguments)},o._sqlite3_wasm_db_config_ip=function(){return(o._sqlite3_wasm_db_config_ip=o.asm.sqlite3_wasm_db_config_ip).apply(null,arguments)},o._sqlite3_wasm_db_config_pii=function(){return(o._sqlite3_wasm_db_config_pii=o.asm.sqlite3_wasm_db_config_pii).apply(null,arguments)},o._sqlite3_wasm_db_config_s=function(){return(o._sqlite3_wasm_db_config_s=o.asm.sqlite3_wasm_db_config_s).apply(null,arguments)},o._sqlite3_wasm_config_i=function(){return(o._sqlite3_wasm_config_i=o.asm.sqlite3_wasm_config_i).apply(null,arguments)},o._sqlite3_wasm_config_ii=function(){return(o._sqlite3_wasm_config_ii=o.asm.sqlite3_wasm_config_ii).apply(null,arguments)},o._sqlite3_wasm_config_j=function(){return(o._sqlite3_wasm_config_j=o.asm.sqlite3_wasm_config_j).apply(null,arguments)},o._sqlite3_wasm_init_wasmfs=function(){return(o._sqlite3_wasm_init_wasmfs=o.asm.sqlite3_wasm_init_wasmfs).apply(null,arguments)},o._sqlite3_wasm_test_intptr=function(){return(o._sqlite3_wasm_test_intptr=o.asm.sqlite3_wasm_test_intptr).apply(null,arguments)},o._sqlite3_wasm_test_voidptr=function(){return(o._sqlite3_wasm_test_voidptr=o.asm.sqlite3_wasm_test_voidptr).apply(null,arguments)},o._sqlite3_wasm_test_int64_max=function(){return(o._sqlite3_wasm_test_int64_max=o.asm.sqlite3_wasm_test_int64_max).apply(null,arguments)},o._sqlite3_wasm_test_int64_min=function(){return(o._sqlite3_wasm_test_int64_min=o.asm.sqlite3_wasm_test_int64_min).apply(null,arguments)},o._sqlite3_wasm_test_int64_times2=function(){return(o._sqlite3_wasm_test_int64_times2=o.asm.sqlite3_wasm_test_int64_times2).apply(null,arguments)},o._sqlite3_wasm_test_int64_minmax=function(){return(o._sqlite3_wasm_test_int64_minmax=o.asm.sqlite3_wasm_test_int64_minmax).apply(null,arguments)},o._sqlite3_wasm_test_int64ptr=function(){return(o._sqlite3_wasm_test_int64ptr=o.asm.sqlite3_wasm_test_int64ptr).apply(null,arguments)},o._sqlite3_wasm_test_stack_overflow=function(){return(o._sqlite3_wasm_test_stack_overflow=o.asm.sqlite3_wasm_test_stack_overflow).apply(null,arguments)},o._sqlite3_wasm_test_str_hello=function(){return(o._sqlite3_wasm_test_str_hello=o.asm.sqlite3_wasm_test_str_hello).apply(null,arguments)},o._malloc=function(){return(Et=o._malloc=o.asm.malloc).apply(null,arguments)});function xt(){function t(){vt||(vt=!0,o.calledRun=!0,w||(o.noFSInit||rt.init.initialized||rt.init(),rt.ignorePermissions=!1,nt.init(),$(M),n(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)t=o.postRun.shift(),D.unshift(t);var t;$(D)}()))}N>0||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)t=o.preRun.shift(),L.unshift(t);var t;$(L)}(),N>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}if(o._free=function(){return(o._free=o.asm.free).apply(null,arguments)},o._realloc=function(){return(o._realloc=o.asm.realloc).apply(null,arguments)},o.wasmMemory=y,Z=function t(){vt||xt(),vt||(Z=t)},o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return xt(),o.postRun||(o.postRun=[]),o.postRun.push((function(t){if(globalThis.sqlite3ApiBootstrap=function e(n=globalThis.sqlite3ApiConfig||e.defaultConfig){if(e.sqlite3)return console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),e.sqlite3;const i=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:void 0!==t?!!t.HEAPU64:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},n||{});Object.assign(i,{allocExportName:i.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:i.useStdAlloc?"free":"sqlite3_free",reallocExportName:i.useStdAlloc?"realloc":"sqlite3_realloc"},i),["exports","memory","wasmfsOpfsDir"].forEach((t=>{"function"==typeof i[t]&&(i[t]=i[t]())})),i.wasmOpfsDir=!1;const s=Object.create(null),r=Object.create(null),o=t=>s.sqlite3_js_rc_str&&s.sqlite3_js_rc_str(t)||"Unknown result code #"+t;class a extends Error{constructor(...t){let e;if(t.length)if("number"==typeof(n=t[0])&&n===(0|n))if(e=t[0],1===t.length)super(o(t[0]));else{const n=o(e);"object"==typeof t[1]?super(n,t[1]):(t[0]=n+":",super(t.join(" ")))}else 2===t.length&&"object"==typeof t[1]?super(...t):super(t.join(" "));var n;this.resultCode=e||s.SQLITE_ERROR,this.name="SQLite3Error"}}a.toss=(...t)=>{throw new a(...t)};const l=a.toss;i.wasmfsOpfsDir&&!/^\/[^/]+$/.test(i.wasmfsOpfsDir)&&l("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const c=t=>"bigint"!=typeof t&&!!(t===(0|t)&&t<=2147483647&&t>=-2147483648),u="undefined"==typeof SharedArrayBuffer?function(){}:SharedArrayBuffer,h=t=>t.buffer instanceof u,d=(t,e,n)=>h(t)?t.slice(e,n):t.subarray(e,n),_=t=>t&&(t instanceof Uint8Array||t instanceof Int8Array||t instanceof ArrayBuffer),p=t=>t&&(t instanceof Uint8Array||t instanceof Int8Array||t instanceof ArrayBuffer),f=t=>_(t)||l("Value is not of a supported TypedArray type."),g=new TextDecoder("utf-8"),m=function(t,e,n){return g.decode(d(t,e,n))};class y extends Error{constructor(...t){2===t.length&&"object"==typeof t[1]?super(...t):t.length?super(t.join(" ")):super("Allocation failed."),this.resultCode=s.SQLITE_NOMEM,this.name="WasmAllocError"}}y.toss=(...t)=>{throw new y(...t)},Object.assign(s,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(t,e,n,i,s,r,o,a,l)=>{},sqlite3_create_function:(t,e,n,i,s,r,o,a)=>{},sqlite3_create_window_function:(t,e,n,i,s,r,o,a,l,c)=>{},sqlite3_prepare_v3:(t,e,n,i,s,r)=>{},sqlite3_prepare_v2:(t,e,n,i,s)=>{},sqlite3_exec:(t,e,n,i,s)=>{},sqlite3_randomness:(t,e)=>{}});const v={affirmBindableTypedArray:f,flexibleString:function(t){return p(t)?m(t instanceof ArrayBuffer?new Uint8Array(t):t):Array.isArray(t)?t.join(""):(r.isPtr(t)&&(t=r.cstrToJs(t)),t)},bigIntFits32:t=>t>=-0x7fffffffn-1n&&t<=0x7fffffffn,bigIntFits64:function t(e){return t._max||(t._max=BigInt("0x7fffffffffffffff"),t._min=~t._max),e>=t._min&&e<=t._max},bigIntFitsDouble:function t(e){return t._min||(t._min=Number.MIN_SAFE_INTEGER,t._max=Number.MAX_SAFE_INTEGER),e>=t._min&&e<=t._max},isBindableTypedArray:_,isInt32:c,isSQLableTypedArray:p,isTypedArray:t=>!!(t&&t.constructor&&c(t.constructor.BYTES_PER_ELEMENT))&&t,typedArrayToString:m,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:h,toss:function(...t){throw new Error(t.join(" "))},toss3:l,typedArrayPart:d};Object.assign(r,{ptrSizeof:i.wasmPtrSizeof||4,ptrIR:i.wasmPtrIR||"i32",bigIntEnabled:!!i.bigIntEnabled,exports:i.exports||l("Missing API config.exports (WASM module exports)."),memory:i.memory||i.exports.memory||l("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),r.allocFromTypedArray=function(t){t instanceof ArrayBuffer&&(t=new Uint8Array(t)),f(t);const e=r.alloc(t.byteLength||1);return r.heapForSize(t.constructor).set(t.byteLength?t:[0],e),e};{const t=i.allocExportName,e=i.deallocExportName,n=i.reallocExportName;for(const i of[t,e,n])r.exports[i]instanceof Function||l("Missing required exports[",i,"] function.");r.alloc=function t(e){return t.impl(e)||y.toss("Failed to allocate",e," bytes.")},r.alloc.impl=r.exports[t],r.realloc=function t(e,n){const i=t.impl(e,n);return n?i||y.toss("Failed to reallocate",n," bytes."):0},r.realloc.impl=r.exports[n],r.dealloc=r.exports[e]}let b;if(r.compileOptionUsed=function t(e){if(!arguments.length){if(t._result)return t._result;t._opt||(t._rx=/^([^=]+)=(.+)/,t._rxInt=/^-?\d+$/,t._opt=function(e,n){const i=t._rx.exec(e);n[0]=i?i[1]:e,n[1]=!i||(t._rxInt.test(i[2])?+i[2]:i[2])});const e={},n=[0,0];let i,r=0;for(;i=s.sqlite3_compileoption_get(r++);)t._opt(i,n),e[n[0]]=n[1];return t._result=e}if(Array.isArray(e)){const t={};return e.forEach((e=>{t[e]=s.sqlite3_compileoption_used(e)})),t}return"object"==typeof e?(Object.keys(e).forEach((t=>{e[t]=s.sqlite3_compileoption_used(t)})),e):"string"==typeof e&&!!s.sqlite3_compileoption_used(e)},r.pstack=Object.assign(Object.create(null),{restore:r.exports.sqlite3_wasm_pstack_restore,alloc:function(t){return"string"!=typeof t||(t=r.sizeofIR(t))||y.toss("Invalid value for pstack.alloc(",arguments[0],")"),r.exports.sqlite3_wasm_pstack_alloc(t)||y.toss("Could not allocate",t,"bytes from the pstack.")},allocChunks:function(t,e){"string"!=typeof e||(e=r.sizeofIR(e))||y.toss("Invalid size value for allocChunks(",arguments[1],")");const n=r.pstack.alloc(t*e),i=[];let s=0,o=0;for(;s<t;++s,o+=e)i.push(n+o);return i},allocPtr:(t=1,e=!0)=>1===t?r.pstack.alloc(e?8:r.ptrSizeof):r.pstack.allocChunks(t,e?8:r.ptrSizeof)}),Object.defineProperties(r.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:r.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:r.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:r.exports.sqlite3_wasm_pstack_remaining}}),s.sqlite3_randomness=(...t)=>{if(1===t.length&&v.isTypedArray(t[0])&&1===t[0].BYTES_PER_ELEMENT){const e=t[0];if(0===e.byteLength)return r.exports.sqlite3_randomness(0,0),e;const n=r.pstack.pointer;try{let t=e.byteLength,n=0;const i=r.exports.sqlite3_randomness,s=r.heap8u(),o=t<512?t:512,a=r.pstack.alloc(o);do{const r=t>o?o:t;i(r,a),e.set(d(s,a,a+r),n),t-=r,n+=r}while(t>0)}catch(t){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",t)}finally{r.pstack.restore(n)}return e}r.exports.sqlite3_randomness(...t)},s.sqlite3_wasmfs_opfs_dir=function(){if(void 0!==b)return b;const t=i.wasmfsOpfsDir;if(console.error("sqlite3_wasmfs_opfs_dir() can no longer work due to incompatible WASMFS changes. It will be removed."),!(t&&globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle))return b="";try{return b=t&&0===r.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],t)?t:""}catch(t){return b=""}},s.sqlite3_wasmfs_filename_is_persistent=function(t){const e=s.sqlite3_wasmfs_opfs_dir();return!(!e||!t)&&t.startsWith(e+"/")},s.sqlite3_js_db_uses_vfs=function(t,e,n=0){try{const i=s.sqlite3_vfs_find(e);return!!i&&(t?i===s.sqlite3_js_db_vfs(t,n)&&i:i===s.sqlite3_vfs_find(0)&&i)}catch(t){return!1}},s.sqlite3_js_vfs_list=function(){const t=[];let e=s.sqlite3_vfs_find(0);for(;e;){const n=new s.sqlite3_vfs(e);t.push(r.cstrToJs(n.$zName)),e=n.$pNext,n.dispose()}return t},s.sqlite3_js_db_export=function(t,e=0){(t=r.xWrap.testConvertArg("sqlite3*",t))||l("Invalid sqlite3* argument."),r.bigIntEnabled||l("BigInt64 support is not enabled.");const n=r.scopedAllocPush();let i;try{const n=r.scopedAlloc(8+r.ptrSizeof),s=n+8,o=e?r.isPtr(e)?e:r.scopedAllocCString(""+e):0;let a=r.exports.sqlite3_wasm_db_serialize(t,o,s,n,0);a&&l("Database serialization failed with code",E.capi.sqlite3_js_rc_str(a)),i=r.peekPtr(s);const c=r.peek(n,"i64");return a=c?r.heap8u().slice(i,i+Number(c)):new Uint8Array,a}finally{i&&r.exports.sqlite3_free(i),r.scopedAllocPop(n)}},s.sqlite3_js_db_vfs=(t,e=0)=>r.sqlite3_wasm_db_vfs(t,e),s.sqlite3_js_aggregate_context=(t,e)=>s.sqlite3_aggregate_context(t,e)||(e?y.toss("Cannot allocate",e,"bytes for sqlite3_aggregate_context()"):0),s.sqlite3_js_vfs_create_file=function(t,e,n,i){let o;n?(r.isPtr(n)?o=n:n instanceof ArrayBuffer&&(n=new Uint8Array(n)),n instanceof Uint8Array?(o=r.allocFromTypedArray(n),(arguments.length<4||!v.isInt32(i)||i<0)&&(i=n.byteLength)):a.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):o=0,(!v.isInt32(i)||i<0)&&(r.dealloc(o),a.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const n=r.sqlite3_wasm_vfs_create_file(t,e,o,i);n&&a.toss("Creation of file failed with sqlite3 result code",s.sqlite3_js_rc_str(n))}finally{r.dealloc(o)}},v.isUIThread()){const t=function(t){const e=Object.create(null);return e.prefix="kvvfs-"+t,e.stores=[],"session"!==t&&""!==t||e.stores.push(globalThis.sessionStorage),"local"!==t&&""!==t||e.stores.push(globalThis.localStorage),e};s.sqlite3_js_kvvfs_clear=function(e=""){let n=0;const i=t(e);return i.stores.forEach((t=>{const e=[];let s;for(s=0;s<t.length;++s){const n=t.key(s);n.startsWith(i.prefix)&&e.push(n)}e.forEach((e=>t.removeItem(e))),n+=e.length})),n},s.sqlite3_js_kvvfs_size=function(e=""){let n=0;const i=t(e);return i.stores.forEach((t=>{let e;for(e=0;e<t.length;++e){const s=t.key(e);s.startsWith(i.prefix)&&(n+=s.length,n+=t.getItem(s).length)}})),2*n}}s.sqlite3_db_config=function(t,e,...n){this.s||(this.s=r.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=r.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=r.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"]));const i=s;switch(e){case i.SQLITE_DBCONFIG_ENABLE_FKEY:case i.SQLITE_DBCONFIG_ENABLE_TRIGGER:case i.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case i.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case i.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case i.SQLITE_DBCONFIG_ENABLE_QPSG:case i.SQLITE_DBCONFIG_TRIGGER_EQP:case i.SQLITE_DBCONFIG_RESET_DATABASE:case i.SQLITE_DBCONFIG_DEFENSIVE:case i.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case i.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case i.SQLITE_DBCONFIG_DQS_DML:case i.SQLITE_DBCONFIG_DQS_DDL:case i.SQLITE_DBCONFIG_ENABLE_VIEW:case i.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case i.SQLITE_DBCONFIG_TRUSTED_SCHEMA:return this.ip(t,e,n[0],n[1]||0);case i.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(t,e,n[0],n[1],n[2]);case i.SQLITE_DBCONFIG_MAINDBNAME:return this.s(t,e,n[0]);default:return i.SQLITE_MISUSE}}.bind(Object.create(null)),s.sqlite3_value_to_js=function(t,e=!0){let n;const i=s.sqlite3_value_type(t);switch(i){case s.SQLITE_INTEGER:r.bigIntEnabled?(n=s.sqlite3_value_int64(t),v.bigIntFitsDouble(n)&&(n=Number(n))):n=s.sqlite3_value_double(t);break;case s.SQLITE_FLOAT:n=s.sqlite3_value_double(t);break;case s.SQLITE_TEXT:n=s.sqlite3_value_text(t);break;case s.SQLITE_BLOB:{const e=s.sqlite3_value_bytes(t),i=s.sqlite3_value_blob(t);e&&!i&&E.WasmAllocError.toss("Cannot allocate memory for blob argument of",e,"byte(s)"),n=e?r.heap8u().slice(i,i+Number(e)):null;break}case s.SQLITE_NULL:n=null;break;default:e&&l(s.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",i),n=void 0}return n},s.sqlite3_values_to_js=function(t,e,n=!0){let i;const o=[];for(i=0;i<t;++i)o.push(s.sqlite3_value_to_js(r.peekPtr(e+r.ptrSizeof*i)));return o},s.sqlite3_result_error_js=function(t,e){e instanceof y?s.sqlite3_result_error_nomem(t):s.sqlite3_result_error(t,""+e,-1)},s.sqlite3_result_js=function(t,e){if(e instanceof Error)s.sqlite3_result_error_js(t,e);else try{switch(typeof e){case"undefined":break;case"boolean":s.sqlite3_result_int(t,e?1:0);break;case"bigint":v.bigIntFits32(e)?s.sqlite3_result_int(t,Number(e)):v.bigIntFitsDouble(e)?s.sqlite3_result_double(t,Number(e)):r.bigIntEnabled?v.bigIntFits64(e)?s.sqlite3_result_int64(t,e):l("BigInt value",e.toString(),"is too BigInt for int64."):l("BigInt value",e.toString(),"is too BigInt.");break;case"number":{let n;n=v.isInt32(e)?s.sqlite3_result_int:r.bigIntEnabled&&Number.isInteger(e)&&v.bigIntFits64(BigInt(e))?s.sqlite3_result_int64:s.sqlite3_result_double,n(t,e);break}case"string":{const[n,i]=r.allocCString(e,!0);s.sqlite3_result_text(t,n,i,s.SQLITE_WASM_DEALLOC);break}case"object":if(null===e){s.sqlite3_result_null(t);break}if(v.isBindableTypedArray(e)){const n=r.allocFromTypedArray(e);s.sqlite3_result_blob(t,n,e.byteLength,s.SQLITE_WASM_DEALLOC);break}default:l("Don't not how to handle this UDF result value:",typeof e,e)}}catch(e){s.sqlite3_result_error_js(t,e)}},s.sqlite3_column_js=function(t,e,n=!0){const i=s.sqlite3_column_value(t,e);return 0===i?void 0:s.sqlite3_value_to_js(i,n)};const w=function(t,e,n){n=s[n],this.ptr?r.pokePtr(this.ptr,0):this.ptr=r.allocPtr();const i=n(t,e,this.ptr);if(i)return a.toss(i,arguments[2]+"() failed with code "+i);const o=r.peekPtr(this.ptr);return o?s.sqlite3_value_to_js(o,!0):void 0}.bind(Object.create(null));s.sqlite3_preupdate_new_js=(t,e)=>w(t,e,"sqlite3_preupdate_new"),s.sqlite3_preupdate_old_js=(t,e)=>w(t,e,"sqlite3_preupdate_old"),s.sqlite3changeset_new_js=(t,e)=>w(t,e,"sqlite3changeset_new"),s.sqlite3changeset_old_js=(t,e)=>w(t,e,"sqlite3changeset_old");const E={WasmAllocError:y,SQLite3Error:a,capi:s,util:v,wasm:r,config:i,version:Object.create(null),client:void 0,asyncPostInit:async function(){let t=e.initializersAsync;if(delete e.initializersAsync,!t||!t.length)return Promise.resolve(E);t=t.map((t=>(t instanceof Promise?t:t(E)).catch((t=>{throw console.error("an async sqlite3 initializer failed:",t),t}))));const n=()=>(E.__isUnderTest||(delete E.util,delete E.StructBinder),E);{let e=t.shift();for(;t.length;)e=e.then(t.shift());return e.then(n)}},scriptInfo:void 0};try{e.initializers.forEach((t=>{t(E)}))}catch(t){throw console.error("sqlite3 bootstrap initializer threw:",t),t}return delete e.initializers,e.sqlite3=E,E},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(t){void 0===t.bigIntEnabled&&(t.bigIntEnabled=!!self.BigInt64Array);const e=(...t)=>{throw new Error(t.join(" "))};t.exports||Object.defineProperty(t,"exports",{enumerable:!0,configurable:!0,get:()=>t.instance&&t.instance.exports});const n=t.pointerIR||"i32",i=t.ptrSizeof="i32"===n?4:"i64"===n?8:e("Unhandled ptrSizeof:",n),s=Object.create(null);s.heapSize=0,s.memory=null,s.freeFuncIndexes=[],s.scopedAlloc=[],s.utf8Decoder=new TextDecoder,s.utf8Encoder=new TextEncoder("utf-8"),t.sizeofIR=t=>{switch(t){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return i;default:return(""+t).endsWith("*")?i:void 0}};const r=function(){if(s.memory){if(s.heapSize===s.memory.buffer.byteLength)return s}else s.memory=t.memory instanceof WebAssembly.Memory?t.memory:t.exports.memory;const e=s.memory.buffer;return s.HEAP8=new Int8Array(e),s.HEAP8U=new Uint8Array(e),s.HEAP16=new Int16Array(e),s.HEAP16U=new Uint16Array(e),s.HEAP32=new Int32Array(e),s.HEAP32U=new Uint32Array(e),t.bigIntEnabled&&(s.HEAP64=new BigInt64Array(e),s.HEAP64U=new BigUint64Array(e)),s.HEAP32F=new Float32Array(e),s.HEAP64F=new Float64Array(e),s.heapSize=e.byteLength,s};t.heap8=()=>r().HEAP8,t.heap8u=()=>r().HEAP8U,t.heap16=()=>r().HEAP16,t.heap16u=()=>r().HEAP16U,t.heap32=()=>r().HEAP32,t.heap32u=()=>r().HEAP32U,t.heapForSize=function(n,i=!0){const o=s.memory&&s.heapSize===s.memory.buffer.byteLength?s:r();switch(n){case Int8Array:return o.HEAP8;case Uint8Array:return o.HEAP8U;case Int16Array:return o.HEAP16;case Uint16Array:return o.HEAP16U;case Int32Array:return o.HEAP32;case Uint32Array:return o.HEAP32U;case 8:return i?o.HEAP8U:o.HEAP8;case 16:return i?o.HEAP16U:o.HEAP16;case 32:return i?o.HEAP32U:o.HEAP32;case 64:if(o.HEAP64)return i?o.HEAP64U:o.HEAP64;break;default:if(t.bigIntEnabled){if(n===self.BigUint64Array)return o.HEAP64U;if(n===self.BigInt64Array)return o.HEAP64;break}}e("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},t.functionTable=function(){return t.exports.__indirect_function_table},t.functionEntry=function(e){const n=t.functionTable();return e<n.length?n.get(e):void 0},t.jsFuncToWasm=function t(n,i){if(t._||(t._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(t,e,n){n<128?t[e](n):t[e](n%128|128,n>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(e){const n=t._.rxJSig.exec(e);return n?n[2]:e.substr(1)},letterType:n=>t._.sigTypes[n]||e("Invalid signature letter:",n),pushSigType:(e,n)=>e.push(t._.typeCodes[t._.letterType(n)])}),"string"==typeof n){const t=i;i=n,n=t}const s=t._.sigParams(i),r=[1,96];t._.uleb128Encode(r,"push",s.length);for(const e of s)t._.pushSigType(r,e);return"v"===i[0]?r.push(0):(r.push(1),t._.pushSigType(r,i[0])),t._.uleb128Encode(r,"unshift",r.length),r.unshift(0,97,115,109,1,0,0,0,1),r.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(r)),{e:{f:n}}).exports.f};const o=function(n,i,r){if(r&&!s.scopedAlloc.length&&e("No scopedAllocPush() scope is active."),"string"==typeof n){const t=i;i=n,n=t}"string"==typeof i&&n instanceof Function||e("Invalid arguments: expecting (function,signature) or (signature,function).");const o=t.functionTable(),a=o.length;let l;for(;s.freeFuncIndexes.length&&(l=s.freeFuncIndexes.pop(),o.get(l));)l=null;l||(l=a,o.grow(1));try{return o.set(l,n),r&&s.scopedAlloc[s.scopedAlloc.length-1].push(l),l}catch(t){if(!(t instanceof TypeError))throw l===a&&s.freeFuncIndexes.push(a),t}try{const e=t.jsFuncToWasm(n,i);o.set(l,e),r&&s.scopedAlloc[s.scopedAlloc.length-1].push(l)}catch(t){throw l===a&&s.freeFuncIndexes.push(a),t}return l};t.installFunction=(t,e)=>o(t,e,!1),t.scopedInstallFunction=(t,e)=>o(t,e,!0),t.uninstallFunction=function(e){if(!e&&0!==e)return;const n=s.freeFuncIndexes,i=t.functionTable();n.push(e);const r=i.get(e);return i.set(e,null),r},t.peek=function(i,o="i8"){o.endsWith("*")&&(o=n);const a=s.memory&&s.heapSize===s.memory.buffer.byteLength?s:r(),l=Array.isArray(i)?[]:void 0;let c;do{switch(l&&(i=arguments[0].shift()),o){case"i1":case"i8":c=a.HEAP8[i>>0];break;case"i16":c=a.HEAP16[i>>1];break;case"i32":c=a.HEAP32[i>>2];break;case"float":case"f32":c=a.HEAP32F[i>>2];break;case"double":case"f64":c=Number(a.HEAP64F[i>>3]);break;case"i64":if(t.bigIntEnabled){c=BigInt(a.HEAP64[i>>3]);break}default:e("Invalid type for peek():",o)}l&&l.push(c)}while(l&&arguments[0].length);return l||c},t.poke=function(t,i,o="i8"){o.endsWith("*")&&(o=n);const a=s.memory&&s.heapSize===s.memory.buffer.byteLength?s:r();for(const n of Array.isArray(t)?t:[t])switch(o){case"i1":case"i8":a.HEAP8[n>>0]=i;continue;case"i16":a.HEAP16[n>>1]=i;continue;case"i32":a.HEAP32[n>>2]=i;continue;case"float":case"f32":a.HEAP32F[n>>2]=i;continue;case"double":case"f64":a.HEAP64F[n>>3]=i;continue;case"i64":if(a.HEAP64){a.HEAP64[n>>3]=BigInt(i);continue}default:e("Invalid type for poke(): "+o)}return this},t.peekPtr=(...e)=>t.peek(1===e.length?e[0]:e,n),t.pokePtr=(e,i=0)=>t.poke(e,i,n),t.peek8=(...e)=>t.peek(1===e.length?e[0]:e,"i8"),t.poke8=(e,n)=>t.poke(e,n,"i8"),t.peek16=(...e)=>t.peek(1===e.length?e[0]:e,"i16"),t.poke16=(e,n)=>t.poke(e,n,"i16"),t.peek32=(...e)=>t.peek(1===e.length?e[0]:e,"i32"),t.poke32=(e,n)=>t.poke(e,n,"i32"),t.peek64=(...e)=>t.peek(1===e.length?e[0]:e,"i64"),t.poke64=(e,n)=>t.poke(e,n,"i64"),t.peek32f=(...e)=>t.peek(1===e.length?e[0]:e,"f32"),t.poke32f=(e,n)=>t.poke(e,n,"f32"),t.peek64f=(...e)=>t.peek(1===e.length?e[0]:e,"f64"),t.poke64f=(e,n)=>t.poke(e,n,"f64"),t.getMemValue=t.peek,t.getPtrValue=t.peekPtr,t.setMemValue=t.poke,t.setPtrValue=t.pokePtr,t.isPtr32=t=>"number"==typeof t&&t===(0|t)&&t>=0,t.isPtr=t.isPtr32,t.cstrlen=function(e){if(!e||!t.isPtr(e))return null;const n=r().HEAP8U;let i=e;for(;0!==n[i];++i);return i-e};const a="undefined"==typeof SharedArrayBuffer?function(){}:SharedArrayBuffer;t.cstrToJs=function(e){const n=t.cstrlen(e);return n?(i=r().HEAP8U,o=e,l=e+n,s.utf8Decoder.decode(i.buffer instanceof a?i.slice(o,l):i.subarray(o,l))):null===n?n:"";var i,o,l},t.jstrlen=function(t){if("string"!=typeof t)return null;const e=t.length;let n=0;for(let i=0;i<e;++i){let e=t.charCodeAt(i);e>=55296&&e<=57343&&(e=65536+((1023&e)<<10)|1023&t.charCodeAt(++i)),e<=127?++n:n+=e<=2047?2:e<=65535?3:4}return n},t.jstrcpy=function(t,n,i=0,s=-1,r=!0){if(n&&(n instanceof Int8Array||n instanceof Uint8Array)||e("jstrcpy() target must be an Int8Array or Uint8Array."),s<0&&(s=n.length-i),!(s>0&&i>=0))return 0;let o=0,a=t.length;const l=i,c=i+s-(r?1:0);for(;o<a&&i<c;++o){let e=t.charCodeAt(o);if(e>=55296&&e<=57343&&(e=65536+((1023&e)<<10)|1023&t.charCodeAt(++o)),e<=127){if(i>=c)break;n[i++]=e}else if(e<=2047){if(i+1>=c)break;n[i++]=192|e>>6,n[i++]=128|63&e}else if(e<=65535){if(i+2>=c)break;n[i++]=224|e>>12,n[i++]=128|e>>6&63,n[i++]=128|63&e}else{if(i+3>=c)break;n[i++]=240|e>>18,n[i++]=128|e>>12&63,n[i++]=128|e>>6&63,n[i++]=128|63&e}}return r&&(n[i++]=0),i-l},t.cstrncpy=function(n,i,s){if(n&&i||e("cstrncpy() does not accept NULL strings."),s<0)s=t.cstrlen(strPtr)+1;else if(!(s>0))return 0;const r=t.heap8u();let o,a=0;for(;a<s&&(o=r[i+a]);++a)r[n+a]=o;return a<s&&(r[n+a++]=0),a},t.jstrToUintArray=(t,e=!1)=>s.utf8Encoder.encode(e?t+"\0":t);const l=(t,n)=>{t.alloc instanceof Function&&t.dealloc instanceof Function||e("Object is missing alloc() and/or dealloc() function(s)","required by",n+"().")},c=function(e,n,i,o){if(l(t,o),"string"!=typeof e)return null;{const t=s.utf8Encoder.encode(e),o=i(t.length+1),a=r().HEAP8U;return a.set(t,o),a[o+t.length]=0,n?[o,t.length]:o}};t.allocCString=(e,n=!1)=>c(e,n,t.alloc,"allocCString()"),t.scopedAllocPush=function(){l(t,"scopedAllocPush");const e=[];return s.scopedAlloc.push(e),e},t.scopedAllocPop=function(n){l(t,"scopedAllocPop");const i=arguments.length?s.scopedAlloc.indexOf(n):s.scopedAlloc.length-1;i<0&&e("Invalid state object for scopedAllocPop()."),0===arguments.length&&(n=s.scopedAlloc[i]),s.scopedAlloc.splice(i,1);for(let e;e=n.pop();)t.functionEntry(e)?t.uninstallFunction(e):t.dealloc(e)},t.scopedAlloc=function(n){s.scopedAlloc.length||e("No scopedAllocPush() scope is active.");const i=t.alloc(n);return s.scopedAlloc[s.scopedAlloc.length-1].push(i),i},Object.defineProperty(t.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>s.scopedAlloc.length,set:()=>e("The 'active' property is read-only.")}),t.scopedAllocCString=(e,n=!1)=>c(e,n,t.scopedAlloc,"scopedAllocCString()");const u=function(e,n){const i=t[e?"scopedAlloc":"alloc"]((n.length+1)*t.ptrSizeof);let s=0;return n.forEach((n=>{t.pokePtr(i+t.ptrSizeof*s++,t[e?"scopedAllocCString":"allocCString"](""+n))})),t.pokePtr(i+t.ptrSizeof*s,0),i};t.scopedAllocMainArgv=t=>u(!0,t),t.allocMainArgv=t=>u(!1,t),t.cArgvToJs=(e,n)=>{const i=[];for(let s=0;s<e;++s){const e=t.peekPtr(n+t.ptrSizeof*s);i.push(e?t.cstrToJs(e):null)}return i},t.scopedAllocCall=function(e){t.scopedAllocPush();try{return e()}finally{t.scopedAllocPop()}};const h=function(e,s,r){l(t,r);const o=s?"i64":n;let a=t[r](e*(s?8:i));if(t.poke(a,0,o),1===e)return a;const c=[a];for(let n=1;n<e;++n)a+=s?8:i,c[n]=a,t.poke(a,0,o);return c};t.allocPtr=(t=1,e=!0)=>h(t,e,"alloc"),t.scopedAllocPtr=(t=1,e=!0)=>h(t,e,"scopedAlloc"),t.xGet=function(n){return t.exports[n]||e("Cannot find exported symbol:",n)};const d=(t,n)=>e(t+"() requires",n,"argument(s).");t.xCall=function(n,...i){const s=t.xGet(n);return s instanceof Function||e("Exported symbol",n,"is not a function."),s.length!==i.length&&d(n,s.length),2===arguments.length&&Array.isArray(arguments[1])?s.apply(null,arguments[1]):s.apply(null,i)},s.xWrap=Object.create(null),s.xWrap.convert=Object.create(null),s.xWrap.convert.arg=new Map,s.xWrap.convert.result=new Map;const _=s.xWrap.convert.arg,p=s.xWrap.convert.result;t.bigIntEnabled&&_.set("i64",(t=>BigInt(t)));const f="i32"===n?t=>0|t:t=>BigInt(t)|BigInt(0);_.set("i32",f).set("i16",(t=>65535&(0|t))).set("i8",(t=>255&(0|t))).set("f32",(t=>Number(t).valueOf())).set("float",_.get("f32")).set("f64",_.get("f32")).set("double",_.get("f64")).set("int",_.get("i32")).set("null",(t=>t)).set(null,_.get("null")).set("**",f).set("*",f),p.set("*",f).set("pointer",f).set("number",(t=>Number(t))).set("void",(t=>{})).set("null",(t=>t)).set(null,p.get("null"));{const i=["i8","i16","i32","int","f32","float","f64","double"];t.bigIntEnabled&&i.push("i64");const s=_.get(n);for(const t of i)_.set(t+"*",s),p.set(t+"*",s),p.set(t,_.get(t)||e("Missing arg converter:",t))}const g=function(e){return"string"==typeof e?t.scopedAllocCString(e):e?f(e):null};_.set("string",g).set("utf8",g).set("pointer",g),p.set("string",(e=>t.cstrToJs(e))).set("utf8",p.get("string")).set("string:dealloc",(e=>{try{return e?t.cstrToJs(e):null}finally{t.dealloc(e)}})).set("utf8:dealloc",p.get("string:dealloc")).set("json",(e=>JSON.parse(t.cstrToJs(e)))).set("json:dealloc",(e=>{try{return e?JSON.parse(t.cstrToJs(e)):null}finally{t.dealloc(e)}}));const m=class{constructor(t){this.name=t.name||"unnamed adapter"}convertArg(t,n,i){e("AbstractArgAdapter must be subclassed.")}};_.FuncPtrAdapter=class n extends m{constructor(t){super(t),_.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",t),this.signature=t.signature,t.contextKey instanceof Function&&(this.contextKey=t.contextKey,t.bindScope||(t.bindScope="context")),this.bindScope=t.bindScope||e("FuncPtrAdapter options requires a bindScope (explicit or implied)."),n.bindScopes.indexOf(t.bindScope)<0&&e("Invalid options.bindScope ("+t.bindMod+") for FuncPtrAdapter. Expecting one of: ("+n.bindScopes.join(", ")+")"),this.isTransient="transient"===this.bindScope,this.isContext="context"===this.bindScope,this.isPermanent="permanent"===this.bindScope,this.singleton="singleton"===this.bindScope?[]:void 0,this.callProxy=t.callProxy instanceof Function?t.callProxy:void 0}static warnOnUse=!1;static debugFuncInstall=!1;static debugOut=console.debug.bind(console);static bindScopes=["transient","context","singleton","permanent"];contextKey(t,e){return this}contextMap(t){const e=this.__cmap||(this.__cmap=new Map);let n=e.get(t);return void 0===n&&e.set(t,n=[]),n}convertArg(e,i,s){let r=this.singleton;if(!r&&this.isContext&&(r=this.contextMap(this.contextKey(i,s))),r&&r[0]===e)return r[1];if(e instanceof Function){this.callProxy&&(e=this.callProxy(e));const a=o(e,this.signature,this.isTransient);if(n.debugFuncInstall&&n.debugOut("FuncPtrAdapter installed",this,this.contextKey(i,s),"@"+a,e),r){if(r[1]){n.debugFuncInstall&&n.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(i,s),"@"+r[1],e);try{t.uninstallFunction(r[1])}catch(t){}}r[0]=e,r[1]=a}return a}if(t.isPtr(e)||null==e){if(r&&r[1]&&r[1]!==e){n.debugFuncInstall&&n.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(i,s),"@"+r[1],e);try{t.uninstallFunction(r[1])}catch(t){}r[0]=r[1]=0|e}return e||0}throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}};const y=t=>_.get(t)||e("Argument adapter not found:",t),v=t=>p.get(t)||e("Result adapter not found:",t);s.xWrap.convertArg=(t,...e)=>y(t)(...e),s.xWrap.convertArgNoCheck=(t,...e)=>_.get(t)(...e),s.xWrap.convertResult=(t,e)=>null===t?e:t?v(t)(e):void 0,s.xWrap.convertResultNoCheck=(t,e)=>null===t?e:t?p.get(t)(e):void 0,t.xWrap=function(n,i,...r){3===arguments.length&&Array.isArray(arguments[2])&&(r=arguments[2]),t.isPtr(n)&&(n=t.functionEntry(n)||e("Function pointer not found in WASM function table."));const o=n instanceof Function,a=o?n:t.xGet(n);if(o&&(n=a.name||"unnamed function"),r.length!==a.length&&d(n,a.length),null===i&&0===a.length)return a;null!=i&&v(i);for(const t of r)t instanceof m?_.set(t,((...e)=>t.convertArg(...e))):y(t);const l=s.xWrap;return 0===a.length?(...t)=>t.length?d(n,a.length):l.convertResult(i,a.call(null)):function(...e){e.length!==a.length&&d(n,a.length);const s=t.scopedAllocPush();try{for(const t in e)e[t]=l.convertArgNoCheck(r[t],e[t],e,t);return l.convertResultNoCheck(i,a.apply(null,e))}finally{t.scopedAllocPop(s)}}};const b=function(t,n,i,s,r,o){if("string"==typeof i){if(1===n)return o.get(i);if(2===n)return s?(s instanceof Function||e(r,"requires a function argument."),o.set(i,s),t):(o.get(i),t)}e("Invalid arguments to",r)};return t.xWrap.resultAdapter=function t(e,n){return b(t,arguments.length,e,n,"resultAdapter()",p)},t.xWrap.argAdapter=function t(e,n){return b(t,arguments.length,e,n,"argAdapter()",_)},t.xWrap.FuncPtrAdapter=_.FuncPtrAdapter,t.xCallWrapped=function(e,n,i,...s){return Array.isArray(arguments[3])&&(s=arguments[3]),t.xWrap(e,n,i||[]).apply(null,s||[])},t.xWrap.testConvertArg=s.xWrap.convertArg,t.xWrap.testConvertResult=s.xWrap.convertResult,t},globalThis.WhWasmUtilInstaller.yawl=function(t){const e=()=>fetch(t.uri,{credentials:"same-origin"}),n=this,i=function(e){if(t.wasmUtilTarget){const i=(...t)=>{throw new Error(t.join(" "))},s=t.wasmUtilTarget;if(s.module=e.module,s.instance=e.instance,s.instance.exports.memory||(s.memory=t.imports&&t.imports.env&&t.imports.env.memory||i("Missing 'memory' object!")),!s.alloc&&e.instance.exports.malloc){const t=e.instance.exports;s.alloc=function(e){return t.malloc(e)||i("Allocation of",e,"bytes failed.")},s.dealloc=function(e){t.free(e)}}n(s)}return t.onload&&t.onload(e,t),e};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(e(),t.imports||{}).then(i)}:function(){return e().then((t=>t.arrayBuffer())).then((e=>WebAssembly.instantiate(e,t.imports||{}))).then(i)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function t(e){const n=(...t)=>{throw new Error(t.join(" "))};e.heap instanceof WebAssembly.Memory||e.heap instanceof Function||n("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach((function(t){e[t]instanceof Function||n("Config option '"+t+"' must be a function.")}));const i=t,s=e.heap instanceof Function?e.heap:()=>new Uint8Array(e.heap.buffer),r=e.alloc,o=e.dealloc,a=e.log||console.log.bind(console),l=e.memberPrefix||"",c=e.memberSuffix||"",u=void 0===e.bigIntEnabled?!!self.BigInt64Array:!!e.bigIntEnabled,h=self.BigInt,d=self.BigInt64Array,_=e.ptrSizeof||4,p=e.ptrIR||"i32";i.debugFlags||(i.__makeDebugFlags=function(t=null){t&&t.__flags&&(t=t.__flags);const e=function t(e){return 0===arguments.length?t.__flags:(e<0?(delete t.__flags.getter,delete t.__flags.setter,delete t.__flags.alloc,delete t.__flags.dealloc):(t.__flags.getter=0!=(1&e),t.__flags.setter=0!=(2&e),t.__flags.alloc=0!=(4&e),t.__flags.dealloc=0!=(8&e)),t._flags)};return Object.defineProperty(e,"__flags",{iterable:!1,writable:!1,value:Object.create(t)}),t||e(0),e},i.debugFlags=i.__makeDebugFlags());const f=function(){const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]}(),g=t=>(t=>"("===t[1])(t)?"p":t[0],m=function(t){switch(g(t)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return p;case"j":return"i64";case"f":return"float";case"d":return"double"}n("Unhandled signature IR:",t)},y=d?()=>!0:()=>n("BigInt64Array is not available."),v=(t,e)=>t+"::"+e,b=new WeakMap,w="(pointer-is-external)",E=function(t,e,n){if(n||(n=b.get(e)),n){if(b.delete(e),Array.isArray(e.ondispose)){let i;for(;i=e.ondispose.shift();)try{i instanceof Function?i.call(e):i instanceof M?i.dispose():"number"==typeof i&&o(i)}catch(e){console.warn("ondispose() for",t.structName,"@",n,"threw. NOT propagating it.",e)}}else if(e.ondispose instanceof Function)try{e.ondispose()}catch(e){console.warn("ondispose() for",t.structName,"@",n,"threw. NOT propagating it.",e)}delete e.ondispose,t.debugFlags.__flags.dealloc&&a("debug.dealloc:",e[w]?"EXTERNAL":"",t.structName,"instance:",t.structInfo.sizeof,"bytes @"+n),e[w]||o(n)}},x=t=>({configurable:!1,writable:!1,iterable:!1,value:t}),q=function(t,e,i){let o=!i;i?Object.defineProperty(e,w,x(i)):(i=r(t.structInfo.sizeof))||n("Allocation of",t.structName,"structure failed.");try{t.debugFlags.__flags.alloc&&a("debug.alloc:",o?"":"EXTERNAL",t.structName,"instance:",t.structInfo.sizeof,"bytes @"+i),o&&s().fill(0,i,i+t.structInfo.sizeof),b.set(e,i)}catch(n){throw E(t,e,i),n}},T=x((t=>l+t+c)),S=function(t,e,i=!0){let s=t.members[e];if(!s&&(l||c)){for(const n of Object.values(t.members))if(n.key===e){s=n;break}!s&&i&&n(v(t.name,e),"is not a mapped struct member.")}return s},C=function t(e,n,i=!1){t._||(t._=t=>t.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const s=S(e.structInfo,n,!0);return i?t._(s.signature):s.signature},I={configurable:!1,enumerable:!1,get:function(){return b.get(this)},set:()=>n("Cannot assign the 'pointer' property of a struct.")},A=x((function(){const t=[];for(const e of Object.keys(this.structInfo.members))t.push(this.memberKey(e));return t})),k=new TextDecoder("utf-8"),R=new TextEncoder,P="undefined"==typeof SharedArrayBuffer?function(){}:SharedArrayBuffer,F=function(t){"s"!==t.signature&&n("Invalid member type signature for C-string value:",JSON.stringify(t))},O=function(t,...e){t.ondispose?Array.isArray(t.ondispose)||(t.ondispose=[t.ondispose]):t.ondispose=[],t.ondispose.push(...e)},L=function(t){const e=R.encode(t),i=r(e.length+1);i||n("Allocation error while duplicating string:",t);const o=s();return o.set(e,i),o[i+e.length]=0,i},M=function(t,e){arguments[2]!==x&&n("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:x(t),structInfo:x(e)})};M.prototype=Object.create(null,{dispose:x((function(){E(this.constructor,this)})),lookupMember:x((function(t,e=!0){return S(this.structInfo,t,e)})),memberToJsString:x((function(t){return function(t,e){const n=S(t.structInfo,e,!0);F(n);const i=t[n.key];if(!i)return null;let r=i;const o=s();for(;0!==o[r];++r);return i===r?"":(a=o,l=i,c=r,k.decode(a.buffer instanceof P?a.slice(l,c):a.subarray(l,c)));var a,l,c}(this,t)})),memberIsString:x((function(t,e=!0){return function(t,e,n=!1){const i=S(t.structInfo,e,n);return!(!i||1!==i.signature.length||"s"!==i.signature[0])&&i}(this,t,e)})),memberKey:T,memberKeys:A,memberSignature:x((function(t,e=!1){return C(this,t,e)})),memoryDump:x((function(){const t=this.pointer;return t?new Uint8Array(s().slice(t,t+this.structInfo.sizeof)):null})),pointer:I,setMemberCString:x((function(t,e){return function(t,e,n){const i=S(t.structInfo,e,!0);F(i);const s=L(n);return t[i.key]=s,O(t,s),t}(this,t,e)}))}),Object.assign(M.prototype,{addOnDispose:function(...t){return O(this,...t),this}}),Object.defineProperties(M,{allocCString:x(L),isA:x((t=>t instanceof M)),hasExternalPointer:x((t=>t instanceof M&&!!t[w])),memberKey:T});const D=t=>Number.isFinite(t)||t instanceof(h||Number),N=function t(e,i,r){if(!t._){t._={getters:{},setters:{},sw:{}};const e=["i","c","C","p","P","s","f","d","v()"];u&&e.push("j"),e.forEach((function(e){t._.getters[e]=function(t){switch(g(t)){case"p":case"P":case"s":switch(_){case 4:return"getInt32";case 8:return y()&&"getBigInt64"}break;case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return y()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}n("Unhandled DataView getter for signature:",t)}(e),t._.setters[e]=function(t){switch(g(t)){case"p":case"P":case"s":switch(_){case 4:return"setInt32";case 8:return y()&&"setBigInt64"}break;case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return y()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}n("Unhandled DataView setter for signature:",t)}(e),t._.sw[e]=function(t){switch(g(t)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return y()&&h;case"p":case"P":case"s":switch(_){case 4:return Number;case 8:return y()&&h}}n("Unhandled DataView set wrapper for signature:",t)}(e)}));const i=/^[ipPsjfdcC]$/,s=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;t.sigCheck=function(t,e,r,o){Object.prototype.hasOwnProperty.call(t,r)&&n(t.structName,"already has a property named",r+"."),i.test(o)||s.test(o)||n("Malformed signature for",v(t.structName,e)+":",o)}}const o=e.memberKey(i);t.sigCheck(e.prototype,i,o,r.signature),r.key=o,r.name=i;const l=g(r.signature),c=v(e.prototype.structName,o),d=e.prototype.debugFlags.__flags,p=Object.create(null);var b,w;p.configurable=!1,p.enumerable=!1,p.get=function(){d.getter&&a("debug.getter:",t._.getters[l],"for",m(l),c,"@",this.pointer,"+",r.offset,"sz",r.sizeof);let e=new DataView(s().buffer,this.pointer+r.offset,r.sizeof)[t._.getters[l]](0,f);return d.getter&&a("debug.getter:",c,"result =",e),e},r.readOnly?p.set=(b=e.prototype.structName,w=o,()=>n(v(b,w),"is read-only.")):p.set=function(e){if(d.setter&&a("debug.setter:",t._.setters[l],"for",m(l),c,"@",this.pointer,"+",r.offset,"sz",r.sizeof,e),this.pointer||n("Cannot set struct property on disposed instance."),null===e)e=0;else for(;!D(e);){if("P"===r.signature&&e instanceof M){e=e.pointer||0,d.setter&&a("debug.setter:",c,"resolved to",e);break}n("Invalid value for pointer-type",c+".")}new DataView(s().buffer,this.pointer+r.offset,r.sizeof)[t._.setters[l]](0,t._.sw[l](e),f)},Object.defineProperty(e.prototype,o,p)},z=function t(e,s){1===arguments.length?e=(s=e).name:s.name||(s.name=e),e||n("Struct name is required.");let r=!1;Object.keys(s.members).forEach((t=>{const i=s.members[t];i.sizeof?1===i.sizeof?"c"===i.signature||"C"===i.signature||n("Unexpected sizeof==1 member",v(s.name,t),"with signature",i.signature):(0!=i.sizeof%4&&(console.warn("Invalid struct member description =",i,"from",s),n(e,"member",t,"sizeof is not aligned. sizeof="+i.sizeof)),0!=i.offset%4&&(console.warn("Invalid struct member description =",i,"from",s),n(e,"member",t,"offset is not aligned. offset="+i.offset))):n(e,"member",t,"is missing sizeof."),(!r||r.offset<i.offset)&&(r=i)})),r?s.sizeof<r.offset+r.sizeof&&n("Invalid struct config:",e,"max member offset ("+r.offset+") ","extends past end of struct (sizeof="+s.sizeof+")."):n("No member property descriptions found.");const o=x(i.__makeDebugFlags(t.debugFlags)),a=function t(i){this instanceof t?arguments.length?((i!==(0|i)||i<=0)&&n("Invalid pointer value for",e,"constructor."),q(t,this,i)):q(t,this):n("The",e,"constructor may only be called via 'new'.")};return Object.defineProperties(a,{debugFlags:o,isA:x((t=>t instanceof a)),memberKey:T,memberKeys:A,methodInfoForKey:x((function(t){})),structInfo:x(s),structName:x(e)}),a.prototype=new M(e,s,x),Object.defineProperties(a.prototype,{debugFlags:o,constructor:x(a)}),Object.keys(s.members).forEach((t=>N(a,t,s.members[t]))),a};return z.StructType=M,z.config=e,z.allocCString=L,z.debugFlags||(z.debugFlags=i.__makeDebugFlags(i.debugFlags)),z},globalThis.sqlite3ApiBootstrap.initializers.push((function(t){const e=(...t)=>{throw new Error(t.join(" "))},n=(t.SQLite3Error.toss,t.capi),i=t.wasm,s=t.util;if(globalThis.WhWasmUtilInstaller(i),delete globalThis.WhWasmUtilInstaller,i.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(t,e)=>t[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:t=>t[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new i.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:t=>{let e;return(s,r,o,a)=>{try{const n=i.cArgvToJs(r,o);return e||(e=i.cArgvToJs(r,a)),0|t(n,e)}catch(t){return t.resultCode||n.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",void 0,["sqlite3*","int",new i.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(t,e)=>t[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:t=>t[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(t,e)=>t[0],callProxy:t=>(e,s,r,o,a,l)=>{try{return r=r&&i.cstrToJs(r),o=o&&i.cstrToJs(o),a=a&&i.cstrToJs(a),l=l&&i.cstrToJs(l),t(e,s,r,o,a,l)||0}catch(t){return t.resultCode||n.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new i.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(t,e)=>t[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new i.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(t,e)=>t[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],i.exports.sqlite3_activate_see instanceof Function&&i.bindingSignatures.push(["sqlite3_key","int","sqlite3*","string","int"],["sqlite3_key_v2","int","sqlite3*","string","*","int"],["sqlite3_rekey","int","sqlite3*","string","int"],["sqlite3_rekey_v2","int","sqlite3*","string","*","int"],["sqlite3_activate_see",void 0,"string"]),i.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:t=>t[0],callProxy:t=>(e,n,s,r,o,a,l)=>{t(e,n,s,i.cstrToJs(r),i.cstrToJs(o),a,l)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:t=>t[0],callProxy:t=>(e,n,s,r,o)=>{t(e,n,i.cstrToJs(s),i.cstrToJs(r),o)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]],i.bigIntEnabled&&i.exports.sqlite3changegroup_add){const t={signature:"i(ps)",callProxy:t=>(e,s)=>{try{return 0|t(e,i.cstrToJs(s))}catch(t){return t.resultCode||n.SQLITE_ERROR}}};i.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...t}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...t}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...t}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...t}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new i.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new i.xWrap.FuncPtrAdapter({name:"xFilter",...t,contextKey:(t,e)=>t[0]}),"*"]])}i.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3_wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]],t.StructBinder=globalThis.Jaccwabyt({heap:i.heap8u,alloc:i.alloc,dealloc:i.dealloc,bigIntEnabled:i.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const r=i.xWrap.argAdapter("string");i.xWrap.argAdapter("string:flexible",(t=>r(s.flexibleString(t)))),i.xWrap.argAdapter("string:static",function(t){return i.isPtr(t)?t:this[t=""+t]||(this[t]=i.allocCString(t))}.bind(Object.create(null)));const o=i.xWrap.argAdapter("*"),a=function(){};i.xWrap.argAdapter("sqlite3_filename",o)("sqlite3_context*",o)("sqlite3_value*",o)("void*",o)("sqlite3_changegroup*",o)("sqlite3_changeset_iter*",o)("sqlite3_session*",o)("sqlite3_stmt*",(e=>o(e instanceof(t?.oo1?.Stmt||a)?e.pointer:e)))("sqlite3*",(e=>o(e instanceof(t?.oo1?.DB||a)?e.pointer:e)))("sqlite3_index_info*",(t=>o(t instanceof(n.sqlite3_index_info||a)?t.pointer:t)))("sqlite3_module*",(t=>o(t instanceof(n.sqlite3_module||a)?t.pointer:t)))("sqlite3_vfs*",(e=>"string"==typeof e?n.sqlite3_vfs_find(e)||t.SQLite3Error.toss(n.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",e):o(e instanceof(n.sqlite3_vfs||a)?e.pointer:e)));const l=i.xWrap.resultAdapter("*");i.xWrap.resultAdapter("sqlite3*",l)("sqlite3_context*",l)("sqlite3_stmt*",l)("sqlite3_value*",l)("sqlite3_vfs*",l)("void*",l);for(const t of i.bindingSignatures)n[t[0]]=i.xWrap.apply(null,t);for(const t of i.bindingSignatures.wasm)i[t[0]]=i.xWrap.apply(null,t);const c=function(t){return()=>e(t+"() is unavailable due to lack","of BigInt support in this build.")};for(const t of i.bindingSignatures.int64)n[t[0]]=i.bigIntEnabled?i.xWrap.apply(null,t):c(t[0]);if(delete i.bindingSignatures,i.exports.sqlite3_wasm_db_error){const e=i.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");s.sqlite3_wasm_db_error=function(i,s,r){return s instanceof t.WasmAllocError?(s=n.SQLITE_NOMEM,r=0):s instanceof Error&&(r=r||""+s,s=s.resultCode||n.SQLITE_ERROR),i?e(i,s,r):s}}else s.sqlite3_wasm_db_error=function(t,e,n){return console.warn("sqlite3_wasm_db_error() is not exported.",arguments),e}}{const r=i.xCall("sqlite3_wasm_enum_json");r||e("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!"),i.ctype=JSON.parse(i.cstrToJs(r));const o=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];i.bigIntEnabled&&o.push("serialize","session","vtab");for(const t of o)for(const e of Object.entries(i.ctype[t]))n[e[0]]=e[1];i.functionEntry(n.SQLITE_WASM_DEALLOC)||e("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+n.SQLITE_WASM_DEALLOC+").");const a=Object.create(null);for(const t of["resultCodes"])for(const e of Object.entries(i.ctype[t]))a[e[1]]=e[0];n.sqlite3_js_rc_str=t=>a[t];const l=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!s.isUIThread(),sqlite3_index_info:!i.bigIntEnabled,sqlite3_index_constraint:!i.bigIntEnabled,sqlite3_index_orderby:!i.bigIntEnabled,sqlite3_index_constraint_usage:!i.bigIntEnabled});for(const e of i.ctype.structs)l[e.name]||(n[e.name]=t.StructBinder(e));if(n.sqlite3_index_info){for(const t of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])n.sqlite3_index_info[t]=n[t],delete n[t];n.sqlite3_vtab_config=i.xWrap("sqlite3_wasm_vtab_config","int",["sqlite3*","int","int"])}}const r=(e,i,s)=>t.util.sqlite3_wasm_db_error(e,n.SQLITE_MISUSE,i+"() requires "+s+" argument"+(1===s?"":"s")+"."),o=t=>s.sqlite3_wasm_db_error(t,n.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),a=t=>i.xWrap.argAdapter("sqlite3*")(t),l=t=>i.isPtr(t)?i.cstrToJs(t):t,c=function(t,e){t=a(t);let n=this.dbMap.get(t);return e?(!n&&e>0&&this.dbMap.set(t,n=Object.create(null)),n):(this.dbMap.delete(t),n)}.bind(Object.assign(Object.create(null),{dbMap:new Map}));c.addCollation=function(t,e){const n=c(t,1);n.collation||(n.collation=new Set),n.collation.add(l(e).toLowerCase())},c._addUDF=function(t,e,n,i){e=l(e).toLowerCase();let s=i.get(e);s||i.set(e,s=new Set),s.add(n<0?-1:n)},c.addFunction=function(t,e,n){const i=c(t,1);i.udf||(i.udf=new Map),this._addUDF(t,e,n,i.udf)},c.addWindowFunc=function(t,e,n){const i=c(t,1);i.wudf||(i.wudf=new Map),this._addUDF(t,e,n,i.wudf)},c.cleanup=function(t){const e=[t=a(t)];for(const t of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const s=i.exports[t];e.length=s.length;try{n[t](...e)}catch(n){console.warn("close-time call of",t+"(",e,") threw:",n)}}const s=c(t,0);if(!s)return;if(s.collation){for(const e of s.collation)try{n.sqlite3_create_collation_v2(t,e,n.SQLITE_UTF8,0,0,0)}catch(t){}delete s.collation}let r;for(r=0;r<2;++r){const e=r?s.wudf:s.udf;if(!e)continue;const i=r?n.sqlite3_create_window_function:n.sqlite3_create_function_v2;for(const s of e){const e=s[0],o=s[1],a=[t,e,0,n.SQLITE_UTF8,0,0,0,0,0];r&&a.push(0);for(const t of o)try{a[2]=t,i.apply(null,a)}catch(t){}o.clear()}e.clear()}delete s.udf,delete s.wudf};{const t=i.xWrap("sqlite3_close_v2","int","sqlite3*");n.sqlite3_close_v2=function(e){if(1!==arguments.length)return r(e,"sqlite3_close_v2",1);if(e)try{c.cleanup(e)}catch(t){}return t(e)}}if(n.sqlite3session_table_filter){const t=i.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);n.sqlite3session_delete=function(e){if(1!==arguments.length)return r(pDb,"sqlite3session_delete",1);e&&n.sqlite3session_table_filter(e,0,0),t(e)}}{const t=(t,e)=>"argv["+e+"]:"+t[0]+":"+i.cstrToJs(t[1]).toLowerCase(),e=i.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new i.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:t}),new i.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:t})]);n.sqlite3_create_collation_v2=function(t,i,a,l,u,h){if(6!==arguments.length)return r(t,"sqlite3_create_collation_v2",6);if(0==(15&a))a|=n.SQLITE_UTF8;else if(n.SQLITE_UTF8!==(15&a))return o(t);try{const n=e(t,i,a,l,u,h);return 0===n&&u instanceof Function&&c.addCollation(t,i),n}catch(e){return s.sqlite3_wasm_db_error(t,e)}},n.sqlite3_create_collation=(t,e,i,s,o)=>5===arguments.length?n.sqlite3_create_collation_v2(t,e,i,s,o,0):r(t,"sqlite3_create_collation",5)}{const t=function(t,e){return t[0]+":"+(t[2]<0?-1:t[2])+":"+e+":"+i.cstrToJs(t[1]).toLowerCase()},e=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:t,callProxy:t=>(e,i,s)=>{try{t(e,...n.sqlite3_values_to_js(i,s))}catch(t){n.sqlite3_result_error_js(e,t)}}},xFinalAndValue:{signature:"v(p)",contextKey:t,callProxy:t=>e=>{try{n.sqlite3_result_js(e,t(e))}catch(t){n.sqlite3_result_error_js(e,t)}}},xFunc:{signature:"v(pip)",contextKey:t,callProxy:t=>(e,i,s)=>{try{n.sqlite3_result_js(e,t(e,...n.sqlite3_values_to_js(i,s)))}catch(t){n.sqlite3_result_error_js(e,t)}}},xDestroy:{signature:"v(p)",contextKey:t,callProxy:t=>e=>{try{t(e)}catch(t){console.error("UDF xDestroy method threw:",t)}}}}),a=i.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new i.xWrap.FuncPtrAdapter({name:"xFunc",...e.xFunc}),new i.xWrap.FuncPtrAdapter({name:"xStep",...e.xInverseAndStep}),new i.xWrap.FuncPtrAdapter({name:"xFinal",...e.xFinalAndValue}),new i.xWrap.FuncPtrAdapter({name:"xDestroy",...e.xDestroy})]),l=i.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new i.xWrap.FuncPtrAdapter({name:"xStep",...e.xInverseAndStep}),new i.xWrap.FuncPtrAdapter({name:"xFinal",...e.xFinalAndValue}),new i.xWrap.FuncPtrAdapter({name:"xValue",...e.xFinalAndValue}),new i.xWrap.FuncPtrAdapter({name:"xInverse",...e.xInverseAndStep}),new i.xWrap.FuncPtrAdapter({name:"xDestroy",...e.xDestroy})]);n.sqlite3_create_function_v2=function t(e,i,l,u,h,d,_,p,f){if(t.length!==arguments.length)return r(e,"sqlite3_create_function_v2",t.length);if(0==(15&u))u|=n.SQLITE_UTF8;else if(n.SQLITE_UTF8!==(15&u))return o(e);try{const t=a(e,i,l,u,h,d,_,p,f);return 0===t&&(d instanceof Function||_ instanceof Function||p instanceof Function||f instanceof Function)&&c.addFunction(e,i,l),t}catch(t){return console.error("sqlite3_create_function_v2() setup threw:",t),s.sqlite3_wasm_db_error(e,t,"Creation of UDF threw: "+t)}},n.sqlite3_create_function=function t(e,i,s,o,a,l,c,u){return t.length===arguments.length?n.sqlite3_create_function_v2(e,i,s,o,a,l,c,u,0):r(e,"sqlite3_create_function",t.length)},n.sqlite3_create_window_function=function t(e,i,a,u,h,d,_,p,f,g){if(t.length!==arguments.length)return r(e,"sqlite3_create_window_function",t.length);if(0==(15&u))u|=n.SQLITE_UTF8;else if(n.SQLITE_UTF8!==(15&u))return o(e);try{const t=l(e,i,a,u,h,d,_,p,f,g);return 0===t&&(d instanceof Function||_ instanceof Function||p instanceof Function||f instanceof Function||g instanceof Function)&&c.addWindowFunc(e,i,a),t}catch(t){return console.error("sqlite3_create_window_function() setup threw:",t),s.sqlite3_wasm_db_error(e,t,"Creation of UDF threw: "+t)}},n.sqlite3_create_function_v2.udfSetResult=n.sqlite3_create_function.udfSetResult=n.sqlite3_create_window_function.udfSetResult=n.sqlite3_result_js,n.sqlite3_create_function_v2.udfConvertArgs=n.sqlite3_create_function.udfConvertArgs=n.sqlite3_create_window_function.udfConvertArgs=n.sqlite3_values_to_js,n.sqlite3_create_function_v2.udfSetError=n.sqlite3_create_function.udfSetError=n.sqlite3_create_window_function.udfSetError=n.sqlite3_result_error_js}{const t=(t,e)=>("string"==typeof t?e=-1:s.isSQLableTypedArray(t)?(e=t.byteLength,t=s.typedArrayToString(t instanceof ArrayBuffer?new Uint8Array(t):t)):Array.isArray(t)&&(t=t.join(""),e=-1),[t,e]),e={basic:i.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:i.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};n.sqlite3_prepare_v3=function i(o,a,l,c,u,h){if(i.length!==arguments.length)return r(o,"sqlite3_prepare_v3",i.length);const[d,_]=t(a,l);switch(typeof d){case"string":return e.basic(o,d,_,c,u,null);case"number":return e.full(o,d,_,c,u,h);default:return s.sqlite3_wasm_db_error(o,n.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},n.sqlite3_prepare_v2=function t(e,i,s,o,a){return t.length===arguments.length?n.sqlite3_prepare_v3(e,i,s,0,o,a):r(e,"sqlite3_prepare_v2",t.length)}}{const t=i.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),e=i.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);n.sqlite3_bind_text=function e(o,a,l,c,u){if(e.length!==arguments.length)return r(n.sqlite3_db_handle(o),"sqlite3_bind_text",e.length);if(i.isPtr(l)||null===l)return t(o,a,l,c,u);let h,d;l instanceof ArrayBuffer?l=new Uint8Array(l):Array.isArray(pMem)&&(l=pMem.join(""));try{if(s.isSQLableTypedArray(l))h=i.allocFromTypedArray(l),d=l.byteLength;else{if("string"!=typeof l)return s.sqlite3_wasm_db_error(n.sqlite3_db_handle(o),n.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");[h,d]=i.allocCString(l)}return t(o,a,h,d,n.SQLITE_WASM_DEALLOC)}catch(t){return i.dealloc(h),s.sqlite3_wasm_db_error(n.sqlite3_db_handle(o),t)}},n.sqlite3_bind_blob=function t(o,a,l,c,u){if(t.length!==arguments.length)return r(n.sqlite3_db_handle(o),"sqlite3_bind_blob",t.length);if(i.isPtr(l)||null===l)return e(o,a,l,c,u);let h,d;l instanceof ArrayBuffer?l=new Uint8Array(l):Array.isArray(l)&&(l=l.join(""));try{if(s.isBindableTypedArray(l))h=i.allocFromTypedArray(l),d=c>=0?c:l.byteLength;else{if("string"!=typeof l)return s.sqlite3_wasm_db_error(n.sqlite3_db_handle(o),n.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");[h,d]=i.allocCString(l)}return e(o,a,h,d,n.SQLITE_WASM_DEALLOC)}catch(t){return i.dealloc(h),s.sqlite3_wasm_db_error(n.sqlite3_db_handle(o),t)}}}n.sqlite3_config=function(t,...e){if(arguments.length<2)return n.SQLITE_MISUSE;switch(t){case n.SQLITE_CONFIG_COVERING_INDEX_SCAN:case n.SQLITE_CONFIG_MEMSTATUS:case n.SQLITE_CONFIG_SMALL_MALLOC:case n.SQLITE_CONFIG_SORTERREF_SIZE:case n.SQLITE_CONFIG_STMTJRNL_SPILL:case n.SQLITE_CONFIG_URI:return i.exports.sqlite3_wasm_config_i(t,e[0]);case n.SQLITE_CONFIG_LOOKASIDE:return i.exports.sqlite3_wasm_config_ii(t,e[0],e[1]);case n.SQLITE_CONFIG_MEMDB_MAXSIZE:return i.exports.sqlite3_wasm_config_j(t,e[0]);case n.SQLITE_CONFIG_GETMALLOC:case n.SQLITE_CONFIG_GETMUTEX:case n.SQLITE_CONFIG_GETPCACHE2:case n.SQLITE_CONFIG_GETPCACHE:case n.SQLITE_CONFIG_HEAP:case n.SQLITE_CONFIG_LOG:case n.SQLITE_CONFIG_MALLOC:case n.SQLITE_CONFIG_MMAP_SIZE:case n.SQLITE_CONFIG_MULTITHREAD:case n.SQLITE_CONFIG_MUTEX:case n.SQLITE_CONFIG_PAGECACHE:case n.SQLITE_CONFIG_PCACHE2:case n.SQLITE_CONFIG_PCACHE:case n.SQLITE_CONFIG_PCACHE_HDRSZ:case n.SQLITE_CONFIG_PMASZ:case n.SQLITE_CONFIG_SERIALIZED:case n.SQLITE_CONFIG_SINGLETHREAD:case n.SQLITE_CONFIG_SQLLOG:case n.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return n.SQLITE_NOTFOUND}};{const t=new Set;n.sqlite3_auto_extension=function(e){if(e instanceof Function)e=i.installFunction("i(ppp)",e);else if(1!==arguments.length||!i.isPtr(e))return n.SQLITE_MISUSE;const s=i.exports.sqlite3_auto_extension(e);return e!==arguments[0]&&(0===s?t.add(e):i.uninstallFunction(e)),s},n.sqlite3_cancel_auto_extension=function(t){return t&&1===arguments.length&&i.isPtr(t)?i.exports.sqlite3_cancel_auto_extension(t):0},n.sqlite3_reset_auto_extension=function(){i.exports.sqlite3_reset_auto_extension();for(const e of t)i.uninstallFunction(e);t.clear()}}const u=n.sqlite3_vfs_find("kvvfs");if(u)if(s.isUIThread()){const t=new n.sqlite3_kvvfs_methods(i.exports.sqlite3_wasm_kvvfs_methods());delete n.sqlite3_kvvfs_methods;const e=i.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,s=i.pstack,r=t=>115===i.peek(t)?sessionStorage:localStorage,o={xRead:(t,n,o,a)=>{const l=s.pointer,c=i.scopedAllocPush();try{const s=e(t,n);if(!s)return-3;const l=i.cstrToJs(s),c=r(t).getItem(l);if(!c)return-1;const u=c.length;if(a<=0)return u;if(1===a)return i.poke(o,0),u;const h=i.scopedAllocCString(c);return a>u+1&&(a=u+1),i.heap8u().copyWithin(o,h,h+a-1),i.poke(o+a-1,0),a-1}catch(t){return console.error("kvstorageRead()",t),-2}finally{s.restore(l),i.scopedAllocPop(c)}},xWrite:(t,o,a)=>{const l=s.pointer;try{const n=e(t,o);if(!n)return 1;const s=i.cstrToJs(n);return r(t).setItem(s,i.cstrToJs(a)),0}catch(t){return console.error("kvstorageWrite()",t),n.SQLITE_IOERR}finally{s.restore(l)}},xDelete:(t,o)=>{const a=s.pointer;try{const n=e(t,o);return n?(r(t).removeItem(i.cstrToJs(n)),0):1}catch(t){return console.error("kvstorageDelete()",t),n.SQLITE_IOERR}finally{s.restore(a)}}};for(const e of Object.keys(o))t[t.memberKey(e)]=i.installFunction(t.memberSignature(e),o[e])}else n.sqlite3_vfs_unregister(u);i.xWrap.FuncPtrAdapter.warnOnUse=!0})),globalThis.sqlite3ApiBootstrap.initializers.push((function(t){t.version={libVersion:"3.42.0",libVersionNumber:3042e3,sourceId:"2023-03-09 16:11:43 870de61f8ef8781f2f9969b012f5c1cb95b6bce1a9a4dcaf02945b7846c3aa83",downloadVersion:342e4}})),globalThis.sqlite3ApiBootstrap.initializers.push((function(t){const e=(...e)=>{throw new t.SQLite3Error(...e)},n=t.capi,i=t.wasm,s=t.util,r=new WeakMap,o=new WeakMap,a=(t,e,n)=>{const i=Object.getOwnPropertyDescriptor(t,e);return i?i.value:n},l=function(t,i){return i&&(t instanceof d&&(t=t.pointer),e("sqlite3 result code",i+":",t?n.sqlite3_errmsg(t):n.sqlite3_errstr(i))),arguments[0]},c=i.installFunction("i(ippp)",function(t,e,s,r){n.SQLITE_TRACE_STMT===t&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+e+":",i.cstrToJs(r))}.bind({counter:0})),u=Object.create(null),h=function s(...a){if(!s._name2vfs){s._name2vfs=Object.create(null);const t="function"==typeof importScripts&&(t=>e("The VFS for",t,"is only available in the main window thread."));s._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:t||(()=>"local")},s._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:t||(()=>"session")}}const h=s.normalizeArgs(...a);let d=h.filename,_=h.vfs,p=h.flags;("string"!=typeof d&&"number"!=typeof d||"string"!=typeof p||_&&"string"!=typeof _&&"number"!=typeof _)&&(t.config.error("Invalid DB ctor args",h,arguments),e("Invalid arguments for DB constructor."));let f="number"==typeof d?i.cstrToJs(d):d;const g=s._name2vfs[f];g&&(_=g.vfs,d=f=g.filename(f));let m,y=0;p.indexOf("c")>=0&&(y|=n.SQLITE_OPEN_CREATE|n.SQLITE_OPEN_READWRITE),p.indexOf("w")>=0&&(y|=n.SQLITE_OPEN_READWRITE),0===y&&(y|=n.SQLITE_OPEN_READONLY),y|=n.SQLITE_OPEN_EXRESCODE;const v=i.pstack.pointer;try{const t=i.pstack.allocPtr();let e=n.sqlite3_open_v2(d,t,y,_||0);m=i.peekPtr(t),l(m,e),n.sqlite3_extended_result_codes(m,1),p.indexOf("t")>=0&&n.sqlite3_trace_v2(m,n.SQLITE_TRACE_STMT,c,m)}catch(t){throw m&&n.sqlite3_close_v2(m),t}finally{i.pstack.restore(v)}this.filename=f,r.set(this,m),o.set(this,Object.create(null));try{const i=n.sqlite3_js_db_vfs(m);i||e("Internal error: cannot get VFS for new db handle.");const s=u[i];s instanceof Function?s(this,t):s&&l(m,n.sqlite3_exec(m,s,0,0,0))}catch(t){throw this.close(),t}};h.setVfsPostOpenSql=function(t,e){u[t]=e},h.normalizeArgs=function(t=":memory:",e="c",n=null){const i={};return 1===arguments.length&&arguments[0]&&"object"==typeof arguments[0]?(Object.assign(i,arguments[0]),void 0===i.flags&&(i.flags="c"),void 0===i.vfs&&(i.vfs=null),void 0===i.filename&&(i.filename=":memory:")):(i.filename=t,i.flags=e,i.vfs=n),i};const d=function(...t){h.apply(this,t)};d.dbCtorHelper=h;const _={null:1,number:2,string:3,boolean:4,blob:5};_[void 0],_.null,i.bigIntEnabled&&(_.bigint=_.number);const p=function(){_!==arguments[2]&&e(n.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],r.set(this,arguments[1]),this.columnCount=n.sqlite3_column_count(this.pointer),this.parameterCount=n.sqlite3_bind_parameter_count(this.pointer)},f=function(t){return t.pointer||e("DB has been closed."),t},g=function(t,n){return(n!==(0|n)||n<0||n>=t.columnCount)&&e("Column index",n,"is out of range."),t},m=function(t,i){const r=Object.create(null);switch(r.opt=Object.create(null),i.length){case 1:"string"==typeof i[0]||s.isSQLableTypedArray(i[0])||Array.isArray(i[0])?r.sql=i[0]:i[0]&&"object"==typeof i[0]&&(r.opt=i[0],r.sql=r.opt.sql);break;case 2:r.sql=i[0],r.opt=i[1];break;default:e("Invalid argument count for exec().")}r.sql=s.flexibleString(r.sql),"string"!=typeof r.sql&&e("Missing SQL argument or unsupported SQL value type.");const o=r.opt;switch(o.returnValue){case"resultRows":o.resultRows||(o.resultRows=[]),r.returnVal=()=>o.resultRows;break;case"saveSql":o.saveSql||(o.saveSql=[]),r.returnVal=()=>o.saveSql;break;case void 0:case"this":r.returnVal=()=>t;break;default:e("Invalid returnValue value:",o.returnValue)}if(o.callback||o.returnValue||void 0===o.rowMode||(o.resultRows||(o.resultRows=[]),r.returnVal=()=>o.resultRows),o.callback||o.resultRows)switch(void 0===o.rowMode?"array":o.rowMode){case"object":r.cbArg=t=>t.get(Object.create(null));break;case"array":r.cbArg=t=>t.get([]);break;case"stmt":Array.isArray(o.resultRows)&&e("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),r.cbArg=t=>t;break;default:if(s.isInt32(o.rowMode)){r.cbArg=t=>t.get(o.rowMode);break}if("string"==typeof o.rowMode&&o.rowMode.length>1&&"$"===o.rowMode[0]){const t=o.rowMode.substr(1);r.cbArg=i=>{const s=i.get(Object.create(null))[t];return void 0===s?e(n.SQLITE_NOTFOUND,"exec(): unknown result column:",t):s};break}e("Invalid rowMode:",o.rowMode)}return r},y=(t,e,n,...i)=>{const s=t.prepare(e);try{return s.bind(n).step()?s.get(...i):void 0}finally{s.finalize()}},v=(t,e,n,i)=>t.exec({sql:e,bind:n,rowMode:i,returnValue:"resultRows"});d.checkRc=(t,e)=>l(t,e),d.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return f(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch(t){}const t=this.pointer;if(Object.keys(o.get(this)).forEach(((t,e)=>{e&&e.pointer&&e.finalize()})),r.delete(this),o.delete(this),n.sqlite3_close_v2(t),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch(t){}delete this.filename}},changes:function(t=!1,e=!1){const i=f(this).pointer;return t?e?n.sqlite3_total_changes64(i):n.sqlite3_total_changes(i):e?n.sqlite3_changes64(i):n.sqlite3_changes(i)},dbFilename:function(t="main"){return n.sqlite3_db_filename(f(this).pointer,t)},dbName:function(t=0){return n.sqlite3_db_name(f(this).pointer,t)},dbVfsName:function(t=0){let e;const s=n.sqlite3_js_db_vfs(f(this).pointer,t);if(s){const t=new n.sqlite3_vfs(s);try{e=i.cstrToJs(t.$zName)}finally{t.dispose()}}return e},prepare:function(t){f(this);const s=i.pstack.pointer;let r,a;try{r=i.pstack.alloc(8),d.checkRc(this,n.sqlite3_prepare_v2(this.pointer,t,-1,r,null)),a=i.peekPtr(r)}finally{i.pstack.restore(s)}a||e("Cannot prepare empty SQL.");const l=new p(this,a,_);return o.get(this)[a]=l,l},exec:function(){f(this);const t=m(this,arguments);if(!t.sql)return e("exec() requires an SQL string.");const r=t.opt,o=r.callback,a=Array.isArray(r.resultRows)?r.resultRows:void 0;let l,c=r.bind,u=!!(t.cbArg||r.columnNames||a);const h=i.scopedAllocPush(),g=Array.isArray(r.saveSql)?r.saveSql:void 0;try{const e=s.isSQLableTypedArray(t.sql);let h=e?t.sql.byteLength:i.jstrlen(t.sql);const f=i.scopedAlloc(2*i.ptrSizeof+(h+1)),m=f+i.ptrSizeof;let y=m+i.ptrSizeof;const v=y+h;for(e?i.heap8().set(t.sql,y):i.jstrcpy(t.sql,i.heap8(),y,h,!1),i.poke(y+h,0);y&&i.peek(y,"i8");){i.pokePtr([f,m],0),d.checkRc(this,n.sqlite3_prepare_v3(this.pointer,y,h,0,f,m));const e=i.peekPtr(f);if(y=i.peekPtr(m),h=v-y,e){if(g&&g.push(n.sqlite3_sql(e).trim()),l=new p(this,e,_),c&&l.parameterCount&&(l.bind(c),c=null),u&&l.columnCount){if(u=!1,Array.isArray(r.columnNames)&&l.getColumnNames(r.columnNames),t.cbArg||a){for(;l.step();l._isLocked=!1){l._isLocked=!0;const e=t.cbArg(l);if(a&&a.push(e),o&&!1===o.call(r,e,l))break}l._isLocked=!1}}else l.step();l.finalize(),l=null}}}finally{l&&(delete l._isLocked,l.finalize()),i.scopedAllocPop(h)}return t.returnVal()},createFunction:function(t,i,r){const o=t=>t instanceof Function;switch(arguments.length){case 1:t=(r=t).name,i=r.xFunc||0;break;case 2:o(i)||(i=(r=i).xFunc||0)}r||(r={}),"string"!=typeof t&&e("Invalid arguments: missing function name.");let l=r.xStep||0,c=r.xFinal||0;const u=r.xValue||0,h=r.xInverse||0;let _;o(i)?(_=!1,(o(l)||o(c))&&e("Ambiguous arguments: scalar or aggregate?"),l=c=null):o(l)?(o(c)||e("Missing xFinal() callback for aggregate or window UDF."),i=null):o(c)?e("Missing xStep() callback for aggregate or window UDF."):e("Missing function-type properties."),!1===_?(o(u)||o(h))&&e("xValue and xInverse are not permitted for non-window UDFs."):o(u)?(o(h)||e("xInverse must be provided if xValue is."),_=!0):o(h)&&e("xValue must be provided if xInverse is.");const p=r.pApp;null==p||"number"==typeof p&&s.isInt32(p)||e("Invalid value for pApp property. Must be a legal WASM pointer value.");const f=r.xDestroy||0;f&&!o(f)&&e("xDestroy property must be a function.");let g=0;a(r,"deterministic")&&(g|=n.SQLITE_DETERMINISTIC),a(r,"directOnly")&&(g|=n.SQLITE_DIRECTONLY),a(r,"innocuous")&&(g|=n.SQLITE_INNOCUOUS),t=t.toLowerCase();const m=i||l,y=a(r,"arity"),v="number"==typeof y?y:m.length?m.length-1:0;let b;return b=_?n.sqlite3_create_window_function(this.pointer,t,v,n.SQLITE_UTF8|g,p||0,l,c,u,h,f):n.sqlite3_create_function_v2(this.pointer,t,v,n.SQLITE_UTF8|g,p||0,i,l,c,f),d.checkRc(this,b),this},selectValue:function(t,e,n){return y(this,t,e,0,n)},selectValues:function(t,e,n){const i=this.prepare(t),s=[];try{for(i.bind(e);i.step();)s.push(i.get(0,n))}finally{i.finalize()}return s},selectArray:function(t,e){return y(this,t,e,[])},selectObject:function(t,e){return y(this,t,e,{})},selectArrays:function(t,e){return v(this,t,e,"array")},selectObjects:function(t,e){return v(this,t,e,"object")},openStatementCount:function(){return this.pointer?Object.keys(o.get(this)).length:0},transaction:function(t){let i="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&e(n.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),i+=" "+arguments[0],t=arguments[1]),f(this).exec(i);try{const e=t(this);return this.exec("COMMIT"),e}catch(t){throw this.exec("ROLLBACK"),t}},savepoint:function(t){f(this).exec("SAVEPOINT oo1");try{const e=t(this);return this.exec("RELEASE oo1"),e}catch(t){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),t}},checkRc:function(t){return d.checkRc(this,t)}};const b=function(t){return t.pointer||e("Stmt has been closed."),t},w=function(t){return function(t){let e=_[null==t?"null":typeof t];switch(e){case _.boolean:case _.null:case _.number:case _.string:return e;case _.bigint:if(i.bigIntEnabled)return e;default:return s.isBindableTypedArray(t)?_.blob:void 0}}(t)||e("Unsupported bind() argument type:",typeof t)},E=function(t,n){return t._isLocked&&e("Operation is illegal when statement is locked:",n),t},x=function r(o,a,l,c){E(b(o),"bind()"),r._||(r._tooBigInt=t=>e("BigInt value is too big to store without precision loss:",t),r._={string:function(t,e,s,r){const[o,a]=i.allocCString(s,!0);return(r?n.sqlite3_bind_blob:n.sqlite3_bind_text)(t.pointer,e,o,a,n.SQLITE_WASM_DEALLOC)}}),w(c),a=function(t,i){const r="number"==typeof i?i:n.sqlite3_bind_parameter_index(t.pointer,i);return 0!==r&&s.isInt32(r)?(r<1||r>t.parameterCount)&&e("Bind index",i,"is out of range."):e("Invalid bind() parameter name: "+i),r}(o,a);let u=0;switch(null==c?_.null:l){case _.null:u=n.sqlite3_bind_null(o.pointer,a);break;case _.string:u=r._.string(o,a,c,!1);break;case _.number:{let t;s.isInt32(c)?t=n.sqlite3_bind_int:"bigint"==typeof c?s.bigIntFits64(c)?i.bigIntEnabled?t=n.sqlite3_bind_int64:s.bigIntFitsDouble(c)?(c=Number(c),t=n.sqlite3_bind_double):r._tooBigInt(c):r._tooBigInt(c):(c=Number(c),t=i.bigIntEnabled&&Number.isInteger(c)?n.sqlite3_bind_int64:n.sqlite3_bind_double),u=t(o.pointer,a,c);break}case _.boolean:u=n.sqlite3_bind_int(o.pointer,a,c?1:0);break;case _.blob:{if("string"==typeof c){u=r._.string(o,a,c,!0);break}c instanceof ArrayBuffer?c=new Uint8Array(c):s.isBindableTypedArray(c)||e("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const t=i.alloc(c.byteLength||1);i.heap8().set(c.byteLength?c:[0],t),u=n.sqlite3_bind_blob(o.pointer,a,t,c.byteLength,n.SQLITE_WASM_DEALLOC);break}default:t.config.warn("Unsupported bind() argument type:",c),e("Unsupported bind() argument type: "+typeof c)}return u&&d.checkRc(o.db.pointer,u),o._mayGet=!1,o};p.prototype={finalize:function(){this.pointer&&(E(this,"finalize()"),delete o.get(this.db)[this.pointer],n.sqlite3_finalize(this.pointer),r.delete(this),delete this._mayGet,delete this.columnCount,delete this.parameterCount,delete this.db,delete this._isLocked)},clearBindings:function(){return E(b(this),"clearBindings()"),n.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(t){return E(this,"reset()"),t&&this.clearBindings(),n.sqlite3_reset(b(this).pointer),this._mayGet=!1,this},bind:function(){let t,n;switch(b(this),arguments.length){case 1:t=1,n=arguments[0];break;case 2:t=arguments[0],n=arguments[1];break;default:e("Invalid bind() arguments.")}return void 0===n?this:(this.parameterCount||e("This statement has no bindable parameters."),this._mayGet=!1,null===n?x(this,t,_.null,n):Array.isArray(n)?(1!==arguments.length&&e("When binding an array, an index argument is not permitted."),n.forEach(((t,e)=>x(this,e+1,w(t),t))),this):(n instanceof ArrayBuffer&&(n=new Uint8Array(n)),"object"!=typeof n||s.isBindableTypedArray(n)?x(this,t,w(n),n):(1!==arguments.length&&e("When binding an object, an index argument is not permitted."),Object.keys(n).forEach((t=>x(this,t,w(n[t]),n[t]))),this)))},bindAsBlob:function(t,n){b(this),1===arguments.length&&(n=t,t=1);const i=w(n);return _.string!==i&&_.blob!==i&&_.null!==i&&e("Invalid value type for bindAsBlob()"),x(this,t,_.blob,n)},step:function(){E(this,"step()");const e=n.sqlite3_step(b(this).pointer);switch(e){case n.SQLITE_DONE:return this._mayGet=!1;case n.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,t.config.warn("sqlite3_step() rc=",e,n.sqlite3_js_rc_str(e),"SQL =",n.sqlite3_sql(this.pointer)),d.checkRc(this.db.pointer,e)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){const t=this.step();return this.finalize(),t},get:function(t,r){if(b(this)._mayGet||e("Stmt.step() has not (recently) returned true."),Array.isArray(t)){let e=0;for(;e<this.columnCount;)t[e]=this.get(e++);return t}if(t&&"object"==typeof t){let e=0;for(;e<this.columnCount;)t[n.sqlite3_column_name(this.pointer,e)]=this.get(e++);return t}switch(g(this,t),void 0===r?n.sqlite3_column_type(this.pointer,t):r){case n.SQLITE_NULL:return null;case n.SQLITE_INTEGER:if(i.bigIntEnabled){const e=n.sqlite3_column_int64(this.pointer,t);return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER?Number(e).valueOf():e}{const i=n.sqlite3_column_double(this.pointer,t);return(i>Number.MAX_SAFE_INTEGER||i<Number.MIN_SAFE_INTEGER)&&e("Integer is out of range for JS integer range: "+i),s.isInt32(i)?0|i:i}case n.SQLITE_FLOAT:return n.sqlite3_column_double(this.pointer,t);case n.SQLITE_TEXT:return n.sqlite3_column_text(this.pointer,t);case n.SQLITE_BLOB:{const e=n.sqlite3_column_bytes(this.pointer,t),s=n.sqlite3_column_blob(this.pointer,t),r=new Uint8Array(e);return e&&r.set(i.heap8u().slice(s,s+e),0),e&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(r.buffer),r}default:e("Don't know how to translate","type of result column #"+t+".")}e("Not reached.")},getInt:function(t){return this.get(t,n.SQLITE_INTEGER)},getFloat:function(t){return this.get(t,n.SQLITE_FLOAT)},getString:function(t){return this.get(t,n.SQLITE_TEXT)},getBlob:function(t){return this.get(t,n.SQLITE_BLOB)},getJSON:function(t){const e=this.get(t,n.SQLITE_STRING);return null===e?e:JSON.parse(e)},getColumnName:function(t){return n.sqlite3_column_name(g(b(this),t).pointer,t)},getColumnNames:function(t=[]){g(b(this),0);for(let e=0;e<this.columnCount;++e)t.push(n.sqlite3_column_name(this.pointer,e));return t},getParamIndex:function(t){return b(this).parameterCount?n.sqlite3_bind_parameter_index(this.pointer,t):void 0}};{const t={enumerable:!0,get:function(){return r.get(this)},set:()=>e("The pointer property is read-only.")};Object.defineProperty(p.prototype,"pointer",t),Object.defineProperty(d.prototype,"pointer",t)}if(t.oo1={DB:d,Stmt:p},s.isUIThread()){t.oo1.JsStorageDb=function(t="session"){"session"!==t&&"local"!==t&&e("JsStorageDb db name must be one of 'session' or 'local'."),h.call(this,{filename:t,flags:"c",vfs:"kvvfs"})};const i=t.oo1.JsStorageDb;i.prototype=Object.create(d.prototype),i.clearStorage=n.sqlite3_js_kvvfs_clear,i.prototype.clearStorage=function(){return i.clearStorage(f(this).filename)},i.storageSize=n.sqlite3_js_kvvfs_size,i.prototype.storageSize=function(){return i.storageSize(f(this).filename)}}})),globalThis.sqlite3ApiBootstrap.initializers.push((function(t){t.initWorker1API=function(){const t=(...t)=>{throw new Error(t.join(" "))};globalThis.WorkerGlobalScope instanceof Function||t("initWorker1API() must be run from a Worker thread."),this.self;const e=this.sqlite3||t("Missing this.sqlite3 object."),n=e.oo1.DB,i=function(t){let e=s.idMap.get(t);return e||(e="db#"+ ++s.idSeq+"@"+t.pointer,s.idMap.set(t,e),e)},s={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(t){const e=new n(t);return this.dbs[i(e)]=e,this.dbList.indexOf(e)<0&&this.dbList.push(e),e},close:function(t,n){if(t){delete this.dbs[i(t)];const s=t.filename,r=e.wasm.sqlite3_wasm_db_vfs(t.pointer,0);t.close();const o=this.dbList.indexOf(t);o>=0&&this.dbList.splice(o,1),n&&s&&r&&e.wasm.sqlite3_wasm_vfs_unlink(r,s)}},post:function(t,e){e&&e.length?(globalThis.postMessage(t,Array.from(e)),e.length=0):globalThis.postMessage(t)},dbs:Object.create(null),getDb:function(e,n=!0){return this.dbs[e]||(n?t("Unknown (or closed) DB ID:",e):void 0)}},r=function(e,n=!0){const i=s.getDb(e.dbId,!1)||s.dbList[0];return n?function(e=s.dbList[0]){return e&&e.pointer?e:t("DB is not opened.")}(i):i},o={open:function(n){const r=Object.create(null),o=n.args||Object.create(null);o.simulateError&&t("Throwing because of simulateError flag.");const a=Object.create(null);let l,c;var u;if(r.vfs=o.vfs,""===(u=o.filename)||":"===u[0]?r.filename=o.filename||"":(r.filename=o.filename,l=o.byteArray,l&&(c=function(t){const n=/^file:.+(vfs=(\w+))/.exec(t);return e.capi.sqlite3_vfs_find(n?n[2]:0)}(o.filename))),c){let t;try{t=e.wasm.allocFromTypedArray(l);const n=e.wasm.sqlite3_wasm_vfs_create_file(c,r.filename,t,l.byteLength);n&&e.SQLite3Error.toss(n)}catch(t){throw new e.SQLite3Error(t.name+" creating "+o.filename+": "+t.message,{cause:t})}finally{t&&e.wasm.dealloc(t)}}const h=s.open(r);return a.filename=h.filename,a.persistent=!!e.capi.sqlite3_js_db_uses_vfs(h.pointer,"opfs"),a.dbId=i(h),a.vfs=h.dbVfsName(),a},close:function(t){const e=r(t,!1),n={filename:e&&e.filename};if(e){const n=!(!t.args||"object"!=typeof t.args||!t.args.unlink);s.close(e,n)}return n},exec:function(e){const n="string"==typeof e.args?{sql:e.args}:e.args||Object.create(null);"stmt"===n.rowMode?t("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):n.sql||t("'exec' requires input SQL.");const i=r(e);(n.callback||Array.isArray(n.resultRows))&&(i._blobXfer=s.xfer);const o=n.callback;let a=0;const l=!!n.columnNames;"string"==typeof o&&(l||(n.columnNames=[]),n.callback=function(t,e){s.post({type:o,columnNames:n.columnNames,rowNumber:++a,row:t},s.xfer)});try{i.exec(n),n.callback instanceof Function&&(n.callback=o,s.post({type:o,columnNames:n.columnNames,rowNumber:null,row:void 0}))}finally{delete i._blobXfer,n.callback&&(n.callback=o)}return n},"config-get":function(){const t=Object.create(null),n=e.config;return["bigIntEnabled"].forEach((function(e){Object.getOwnPropertyDescriptor(n,e)&&(t[e]=n[e])})),t.version=e.version,t.vfsList=e.capi.sqlite3_js_vfs_list(),t.opfsEnabled=!!e.opfs,t},export:function(t){const n=r(t),i={byteArray:e.capi.sqlite3_js_db_export(n.pointer),filename:n.filename,mimetype:"application/x-sqlite3"};return s.xfer.push(i.byteArray.buffer),i},toss:function(e){t("Testing worker exception")},"opfs-tree":async function(n){return e.opfs||t("OPFS support is unavailable."),await e.opfs.treeList()}};globalThis.onmessage=async function(e){let n,r=(e=e.data).dbId,a=e.type;const l=performance.now();try{o.hasOwnProperty(a)&&o[a]instanceof Function?n=await o[a](e):t("Unknown db worker message type:",e.type)}catch(t){a="error",n={operation:e.type,message:t.message,errorClass:t.name,input:e},t.stack&&(n.stack="string"==typeof t.stack?t.stack.split(/\n\s*/):t.stack)}r||(r=n.dbId||s.dbList[0]&&i(s.dbList[0])),s.post({type:a,dbId:r,messageId:e.messageId,workerReceivedTime:l,workerRespondTime:performance.now(),departureTime:e.departureTime,result:n},s.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({self,sqlite3:t})})),globalThis.sqlite3ApiBootstrap.initializers.push((function(t){const e=t.wasm,n=t.capi,i=t.util.toss3,s=Object.create(null),r=Object.create(null),o=t.StructBinder;t.vfs=s,t.vtab=r;const a=n.sqlite3_index_info;a.prototype.nthConstraint=function(t,e=!1){if(t<0||t>=this.$nConstraint)return!1;const n=this.$aConstraint+a.sqlite3_index_constraint.structInfo.sizeof*t;return e?n:new a.sqlite3_index_constraint(n)},a.prototype.nthConstraintUsage=function(t,e=!1){if(t<0||t>=this.$nConstraint)return!1;const n=this.$aConstraintUsage+a.sqlite3_index_constraint_usage.structInfo.sizeof*t;return e?n:new a.sqlite3_index_constraint_usage(n)},a.prototype.nthOrderBy=function(t,e=!1){if(t<0||t>=this.$nOrderBy)return!1;const n=this.$aOrderBy+a.sqlite3_index_orderby.structInfo.sizeof*t;return e?n:new a.sqlite3_index_orderby(n)};const l=function t(n,s,r,a=t.installMethodArgcCheck){if(n instanceof o.StructType?r instanceof Function||e.isPtr(r)||i("Usage errror: expecting a Function or WASM pointer to one."):i("Usage error: target object is-not-a StructType."),1===arguments.length)return(e,i)=>t(n,e,i,a);t.argcProxy||(t.argcProxy=function(t,e,n,s){return function(...r){return n.length!==arguments.length&&i("Argument mismatch for",t.structInfo.name+"::"+e+": Native signature is:",s),n.apply(this,r)}},t.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach(((t,n)=>{if("number"==typeof t)try{e.uninstallFunction(t)}catch(t){}})),delete this.ondispose.__removeFuncList)});const l=n.memberSignature(s);l.length<2&&i("Member",s,"does not have a function pointer signature:",l);const c=n.memberKey(s),u=a&&!e.isPtr(r)?t.argcProxy(n,c,r,l):r;if(e.isPtr(u))u&&!e.functionEntry(u)&&i("Pointer",u,"is not a WASM function table entry."),n[c]=u;else{const i=e.installFunction(u,n.memberSignature(s,!0));n[c]=i,n.ondispose&&n.ondispose.__removeFuncList||(n.addOnDispose("ondispose.__removeFuncList handler",t.removeFuncList),n.ondispose.__removeFuncList=[]),n.ondispose.__removeFuncList.push(c,i)}return(e,i)=>t(n,e,i,a)};l.installMethodArgcCheck=!1;const c=function(t,e,n=l.installMethodArgcCheck){const i=new Map;for(const s of Object.keys(e)){const r=e[s],o=i.get(r);if(o){const e=t.memberKey(s);t[e]=t[t.memberKey(o)]}else l(t,s,r,n),i.set(r,s)}return t};o.StructType.prototype.installMethod=function(t,e,n=l.installMethodArgcCheck){return arguments.length<3&&t&&"object"==typeof t?c(this,...arguments):l(this,...arguments)},o.StructType.prototype.installMethods=function(t,e=l.installMethodArgcCheck){return c(this,t,e)},n.sqlite3_vfs.prototype.registerVfs=function(e=!1){this instanceof t.capi.sqlite3_vfs||i("Expecting a sqlite3_vfs-type argument.");const s=n.sqlite3_vfs_register(this,e?1:0);return s&&i("sqlite3_vfs_register(",this,") failed with rc",s),this.pointer!==n.sqlite3_vfs_find(this.$zName)&&i("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},s.installVfs=function(t){let n=0;const s=["io","vfs"];for(const i of s){const s=t[i];s&&(++n,c(s.struct,s.methods,!!s.applyArgcCheck),"vfs"===i&&(s.struct.$zName||"string"!=typeof s.name||s.struct.addOnDispose(s.struct.$zName=e.allocCString(s.name)),s.struct.registerVfs(!!s.asDefault)))}return n||i("Misuse: installVfs() options object requires at least","one of:",s),this};const u=function(n,i){const s=function(n,i){return function(s,r=!1){if(0===arguments.length&&(s=new i),s instanceof i)return this.set(s.pointer,s),s;e.isPtr(s)||t.SQLite3Error.toss("Invalid argument to",n+"()");let o=this.get(s);return r&&this.delete(s),o}.bind(new Map)}(n,i);return Object.assign(Object.create(null),{StructType:i,create:t=>{const n=s();return e.pokePtr(t,n.pointer),n},get:t=>s(t),unget:t=>s(t,!0),dispose:t=>{const e=s(t,!0);e&&e.dispose()}})};r.xVtab=u("xVtab",n.sqlite3_vtab),r.xCursor=u("xCursor",n.sqlite3_vtab_cursor),r.xIndexInfo=t=>new n.sqlite3_index_info(t),r.xError=function e(i,s,r){if(e.errorReporter instanceof Function)try{e.errorReporter("sqlite3_module::"+i+"(): "+s.message)}catch(t){}let o;return s instanceof t.WasmAllocError?o=n.SQLITE_NOMEM:arguments.length>2?o=r:s instanceof t.SQLite3Error&&(o=s.resultCode),o||n.SQLITE_ERROR},r.xError.errorReporter=console.error.bind(console),r.xRowid=(t,n)=>e.poke(t,n,"i64"),r.setupModule=function(s){let o=!1;const a=this instanceof n.sqlite3_module?this:s.struct||(o=new n.sqlite3_module);try{const n=s.methods||i("Missing 'methods' object.");for(const t of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const e=t[0],i=t[1];!0===n[e]?n[e]=n[i]:!0===n[i]&&(n[i]=n[e])}if(s.catchExceptions){const i=function(n,i){return["xConnect","xCreate"].indexOf(n)>=0?function(s,o,a,l,c,u){try{return i(...arguments)||0}catch(i){return i instanceof t.WasmAllocError||(e.dealloc(e.peekPtr(u)),e.pokePtr(u,e.allocCString(i.message))),r.xError(n,i)}}:function(...t){try{return i(...t)||0}catch(t){return r.xError(n,t)}}},s=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],o=Object.create(null);for(const t of s){const e=n[t];e instanceof Function&&("xConnect"===t&&n.xCreate===e?o[t]=n.xCreate:"xCreate"===t&&n.xConnect===e?o[t]=n.xConnect:o[t]=i(t,e))}c(a,o,!1)}else c(a,n,!!s.applyArgcCheck);if(0===a.$iVersion){let t;t="number"==typeof s.iVersion?s.iVersion:a.$xShadowName?3:a.$xSavePoint||a.$xRelease||a.$xRollbackTo?2:1,a.$iVersion=t}}catch(t){throw o&&o.dispose(),t}return a},n.sqlite3_module.prototype.setupModule=function(t){return r.setupModule.call(this,t)}})),globalThis.sqlite3ApiBootstrap.initializers.push((function(t){const n=function n(s){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if("undefined"==typeof WorkerGlobalScope)return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!(globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory))return Promise.reject(new Error("Missing required OPFS APIs."));s&&"object"==typeof s||(s=Object.create(null));const r=new URL(globalThis.location.href).searchParams;void 0===s.verbose&&(s.verbose=r.has("opfs-verbose")?+r.get("opfs-verbose")||2:1),void 0===s.sanityChecks&&(s.sanityChecks=r.has("opfs-sanity-check")),void 0===s.proxyUri&&(s.proxyUri=n.defaultProxyUri),"function"==typeof s.proxyUri&&(s.proxyUri=s.proxyUri());const o=new Promise((function(n,r){const o={0:t.config.error,1:t.config.warn,2:t.config.log},a=(t,...e)=>{s.verbose>t&&o[t]("OPFS syncer:",...e)},l=(...t)=>a(2,...t),c=(...t)=>a(1,...t),u=(...t)=>a(0,...t),h=t.util.toss,d=t.capi,_=t.wasm,p=d.sqlite3_vfs,f=d.sqlite3_file,g=d.sqlite3_io_methods,m=Object.create(null);m.metrics={dump:function(){let e,n=0,i=0,s=0;for(e in q.opIds){const t=T[e];n+=t.count,i+=t.time,s+=t.wait,t.avgTime=t.count&&t.time?t.time/t.count:0,t.avgWait=t.count&&t.wait?t.wait/t.count:0}t.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",T,"\nTotal of",n,"op(s) for",i,"ms (incl. "+s+" ms of waiting on the async side)"),t.config.log("Serialization metrics:",T.s11n),w.postMessage({type:"opfs-async-metrics"})},reset:function(){let t;for(t in q.opIds)(e=T[t]=Object.create(null)).count=e.time=e.wait=0;var e;let n=T.s11n=Object.create(null);n=n.serialize=Object.create(null),n.count=n.time=0,n=T.s11n.deserialize=Object.create(null),n.count=n.time=0}};const y=new p,v=new g,b=function(t){return y.dispose(),r(t)},w=new Worker(new URL(i.p+i.u(934),i.b));w._originalOnError=w.onerror,w.onerror=function(t){u("Error initializing OPFS asyncer:",t),b(new Error("Loading OPFS async Worker failed for unknown reasons."))};const E=d.sqlite3_vfs_find(null),x=E?new p(E):null;y.$iVersion=2,y.$szOsFile=d.sqlite3_file.structInfo.sizeof,y.$mxPathname=1024,y.$zName=_.allocCString("opfs"),y.$xDlOpen=y.$xDlError=y.$xDlSym=y.$xDlClose=null,y.ondispose=["$zName",y.$zName,"cleanup default VFS wrapper",()=>x?x.dispose():null,"cleanup opfsIoMethods",()=>v.dispose()];const q=Object.create(null);q.verbose=s.verbose,q.littleEndian=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),q.asyncIdleWaitTime=150,q.asyncS11nExceptions=1,q.fileBufferSize=65536,q.sabS11nOffset=q.fileBufferSize,q.sabS11nSize=2*y.$mxPathname,q.sabIO=new SharedArrayBuffer(q.fileBufferSize+q.sabS11nSize),q.opIds=Object.create(null);const T=Object.create(null);{let t=0;q.opIds.whichOp=t++,q.opIds.rc=t++,q.opIds.xAccess=t++,q.opIds.xClose=t++,q.opIds.xDelete=t++,q.opIds.xDeleteNoWait=t++,q.opIds.xFileControl=t++,q.opIds.xFileSize=t++,q.opIds.xLock=t++,q.opIds.xOpen=t++,q.opIds.xRead=t++,q.opIds.xSleep=t++,q.opIds.xSync=t++,q.opIds.xTruncate=t++,q.opIds.xUnlock=t++,q.opIds.xWrite=t++,q.opIds.mkdir=t++,q.opIds["opfs-async-metrics"]=t++,q.opIds["opfs-async-shutdown"]=t++,q.opIds.retry=t++,q.sabOP=new SharedArrayBuffer(4*t),m.metrics.reset()}q.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach((t=>{void 0===(q.sq3Codes[t]=d[t])&&h("Maintenance required: not found:",t)})),q.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:!1});const S=(t,...e)=>{const n=q.opIds[t]||h("Invalid op ID:",t);q.s11n.serialize(...e),Atomics.store(q.sabOPView,q.opIds.rc,-1),Atomics.store(q.sabOPView,q.opIds.whichOp,n),Atomics.notify(q.sabOPView,q.opIds.whichOp);const i=performance.now();Atomics.wait(q.sabOPView,q.opIds.rc,-1);const s=Atomics.load(q.sabOPView,q.opIds.rc);if(T[t].wait+=performance.now()-i,s&&q.asyncS11nExceptions){const e=q.s11n.deserialize();e&&u(t+"() async error:",...e)}return s};m.debug={asyncShutdown:()=>{c("Shutting down OPFS async listener. The OPFS VFS will no longer work."),S("opfs-async-shutdown")},asyncRestart:()=>{c("Attempting to restart OPFS VFS async listener. Might work, might not."),w.postMessage({type:"opfs-async-restart"})}};const C=function t(e=16){t._chars||(t._n=(t._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789").length);const n=[];let i=0;for(;i<e;++i){const e=Math.random()*(64*t._n)%t._n|0;n[i]=t._chars[e]}return n.join("")},I=Object.create(null),A=Object.create(null);A.op=void 0,A.start=void 0;const k=t=>{A.start=performance.now(),A.op=t,++T[t].count},R=()=>T[A.op].time+=performance.now()-A.start,P={xCheckReservedLock:function(t,e){const n=I[t];return _.poke(e,n.lockType?1:0,"i32"),0},xClose:function(t){k("xClose");let e=0;const n=I[t];return n&&(delete I[t],e=S("xClose",t),n.sq3File&&n.sq3File.dispose()),R(),e},xDeviceCharacteristics:function(t){return d.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(t,e,n){k("xFileControl");const i=d.SQLITE_FCNTL_SYNC===e?S("xSync",t,0):d.SQLITE_NOTFOUND;return R(),i},xFileSize:function(t,e){k("xFileSize");let n=S("xFileSize",t);if(0==n)try{const t=q.s11n.deserialize()[0];_.poke(e,t,"i64")}catch(t){u("Unexpected error reading xFileSize() result:",t),n=q.sq3Codes.SQLITE_IOERR}return R(),n},xLock:function(t,e){k("xLock");const n=I[t];let i=0;return n.lockType?n.lockType=e:(i=S("xLock",t,e),0===i&&(n.lockType=e)),R(),i},xRead:function(t,e,n,i){k("xRead");const s=I[t];let r;try{r=S("xRead",t,n,Number(i)),0!==r&&d.SQLITE_IOERR_SHORT_READ!==r||_.heap8u().set(s.sabView.subarray(0,n),e)}catch(t){u("xRead(",arguments,") failed:",t,s),r=d.SQLITE_IOERR_READ}return R(),r},xSync:function(t,e){return++T.xSync.count,0},xTruncate:function(t,e){k("xTruncate");const n=S("xTruncate",t,Number(e));return R(),n},xUnlock:function(t,e){k("xUnlock");const n=I[t];let i=0;return d.SQLITE_LOCK_NONE===e&&n.lockType&&(i=S("xUnlock",t,e)),0===i&&(n.lockType=e),R(),i},xWrite:function(t,e,n,i){k("xWrite");const s=I[t];let r;try{s.sabView.set(_.heap8u().subarray(e,e+n)),r=S("xWrite",t,n,Number(i))}catch(t){u("xWrite(",arguments,") failed:",t,s),r=d.SQLITE_IOERR_WRITE}return R(),r}},F={xAccess:function(t,e,n,i){k("xAccess");const s=S("xAccess",_.cstrToJs(e));return _.poke(i,s?0:1,"i32"),R(),0},xCurrentTime:function(t,e){return _.poke(e,2440587.5+(new Date).getTime()/864e5,"double"),0},xCurrentTimeInt64:function(t,e){return _.poke(e,21086676e7+(new Date).getTime(),"i64"),0},xDelete:function(t,e,n){return k("xDelete"),S("xDelete",_.cstrToJs(e),n,!1),R(),0},xFullPathname:function(t,e,n,i){return _.cstrncpy(i,e,n)<n?0:d.SQLITE_CANTOPEN},xGetLastError:function(t,e,n){return c("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(t,e,n,i,s){k("xOpen");let r=0;0===e?e=C():"number"==typeof e&&(d.sqlite3_uri_boolean(e,"opfs-unlock-asap",0)&&(r|=q.opfsFlags.OPFS_UNLOCK_ASAP),e=_.cstrToJs(e));const o=Object.create(null);o.fid=n,o.filename=e,o.sab=new SharedArrayBuffer(q.fileBufferSize),o.flags=i;const a=S("xOpen",n,e,i,r);return a||(o.readOnly&&_.poke(s,d.SQLITE_OPEN_READONLY,"i32"),I[n]=o,o.sabView=q.sabFileBufView,o.sq3File=new f(n),o.sq3File.$pMethods=v.pointer,o.lockType=d.SQLITE_LOCK_NONE),R(),a}};if(x&&(y.$xRandomness=x.$xRandomness,y.$xSleep=x.$xSleep),y.$xRandomness||(F.xRandomness=function(t,e,n){const i=_.heap8u();let s=0;for(;s<e;++s)i[n+s]=255e3*Math.random()&255;return s}),y.$xSleep||(F.xSleep=function(t,e){return Atomics.wait(q.sabOPView,q.opIds.xSleep,0,e),0}),m.getResolvedPath=function(t,e){const n=new URL(t,"file://irrelevant").pathname;return e?n.split("/").filter((t=>!!t)):n},m.getDirForFilename=async function(t,e=!1){const n=m.getResolvedPath(t,!0),i=n.pop();let s=m.rootDirectory;for(const t of n)t&&(s=await s.getDirectoryHandle(t,{create:!!e}));return[s,i]},m.mkdir=async function(t){try{return await m.getDirForFilename(t+"/filepart",!0),!0}catch(t){return!1}},m.entryExists=async function(t){try{const[e,n]=await m.getDirForFilename(t);return await e.getFileHandle(n),!0}catch(t){return!1}},m.randomFilename=C,m.registerVfs=(t=!1)=>_.exports.sqlite3_vfs_register(y.pointer,t?1:0),m.treeList=async function(){const t=Object.create(null);return await async function t(e,n){n.name=e.name,n.dirs=[],n.files=[];for await(const i of e.values())if("directory"===i.kind){const e=Object.create(null);n.dirs.push(e),await t(i,e)}else n.files.push(i.name)}(m.rootDirectory,t),t},m.rmfr=async function(){const t=m.rootDirectory,e={recurse:!0};for await(const n of t.values())t.removeEntry(n.name,e)},m.unlink=async function(t,e=!1,n=!1){try{const[n,i]=await m.getDirForFilename(t,!1);return await n.removeEntry(i,{recursive:e}),!0}catch(t){if(n)throw new Error("unlink(",arguments[0],") failed: "+t.message,{cause:t});return!1}},m.traverse=async function(t){const e={recursive:!0,directory:m.rootDirectory};"function"==typeof t&&(t={callback:t}),async function e(n,i){for await(const s of n.values()){if(!1===t.callback(s,n,i))return!1;if(t.recursive&&"directory"===s.kind&&!1===await e(s,i+1))break}}((t=Object.assign(e,t||{})).directory,0)},t.oo1){const e=function(...e){const n=t.oo1.DB.dbCtorHelper.normalizeArgs(...e);n.vfs=y.$zName,t.oo1.DB.dbCtorHelper.call(this,n)};e.prototype=Object.create(t.oo1.DB.prototype),t.oo1.OpfsDb=e,t.oo1.DB.dbCtorHelper.setVfsPostOpenSql(y.pointer,(function(t,e){e.capi.sqlite3_busy_timeout(t,1e4),e.capi.sqlite3_exec(t,["pragma journal_mode=persist;","pragma cache_size=-16384;"],0,0,0)}))}w.onmessage=function({data:i}){switch(i.type){case"opfs-unavailable":b(new Error(i.payload.join(" ")));break;case"opfs-async-loaded":w.postMessage({type:"opfs-async-init",args:q});break;case"opfs-async-inited":try{t.vfs.installVfs({io:{struct:v,methods:P},vfs:{struct:y,methods:F}}),q.sabOPView=new Int32Array(q.sabOP),q.sabFileBufView=new Uint8Array(q.sabIO,0,q.fileBufferSize),q.sabS11nView=new Uint8Array(q.sabIO,q.sabS11nOffset,q.sabS11nSize),(()=>{if(q.s11n)return q.s11n;const t=new TextDecoder,e=new TextEncoder("utf-8"),n=new Uint8Array(q.sabIO,q.sabS11nOffset,q.sabS11nSize),i=new DataView(q.sabIO,q.sabS11nOffset,q.sabS11nSize);q.s11n=Object.create(null);const s=Object.create(null);s.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},s.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},s.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},s.string={id:4};const r=t=>{switch(t){case s.number.id:return s.number;case s.bigint.id:return s.bigint;case s.boolean.id:return s.boolean;case s.string.id:return s.string;default:h("Invalid type ID:",t)}};q.s11n.deserialize=function(e=!1){++T.s11n.deserialize.count;const s=performance.now(),o=n[0],a=o?[]:null;if(o){const e=[];let s,l,c,u=1;for(s=0;s<o;++s,++u)e.push(r(n[u]));for(s=0;s<o;++s){const r=e[s];r.getter?(c=i[r.getter](u,q.littleEndian),u+=r.size):(l=i.getInt32(u,q.littleEndian),u+=4,c=t.decode(n.slice(u,u+l)),u+=l),a.push(c)}}return e&&(n[0]=0),T.s11n.deserialize.time+=performance.now()-s,a},q.s11n.serialize=function(...t){const r=performance.now();if(++T.s11n.serialize.count,t.length){const r=[];let a=0,l=1;for(n[0]=255&t.length;a<t.length;++a,++l)r.push((o=t[a],s[typeof o]||h("Maintenance required: this value type cannot be serialized.",o))),n[l]=r[a].id;for(a=0;a<t.length;++a){const s=r[a];if(s.setter)i[s.setter](l,t[a],q.littleEndian),l+=s.size;else{const s=e.encode(t[a]);i.setInt32(l,s.byteLength,q.littleEndian),l+=4,n.set(s,l),l+=s.byteLength}}}else n[0]=0;var o;T.s11n.serialize.time+=performance.now()-r},q.s11n})(),s.sanityChecks&&(c("Running sanity checks because of opfs-sanity-check URL arg..."),function(){const t=_.scopedAllocPush(),e=new f;try{const t=e.pointer,n=d.SQLITE_OPEN_CREATE|d.SQLITE_OPEN_READWRITE|d.SQLITE_OPEN_MAIN_DB,i=_.scopedAlloc(8),s="/sanity/check/file"+C(8),r=_.scopedAllocCString(s);let o;if(q.s11n.serialize("This is ä string."),o=q.s11n.deserialize(),l("deserialize() says:",o),"This is ä string."!==o[0]&&h("String d13n error."),F.xAccess(y.pointer,r,0,i),o=_.peek(i,"i32"),l("xAccess(",s,") exists ?=",o),o=F.xOpen(y.pointer,r,t,n,i),l("open rc =",o,"state.sabOPView[xOpen] =",q.sabOPView[q.opIds.xOpen]),0!==o)return void u("open failed with code",o);F.xAccess(y.pointer,r,0,i),o=_.peek(i,"i32"),o||h("xAccess() failed to detect file."),o=P.xSync(e.pointer,0),o&&h("sync failed w/ rc",o),o=P.xTruncate(e.pointer,1024),o&&h("truncate failed w/ rc",o),_.poke(i,0,"i64"),o=P.xFileSize(e.pointer,i),o&&h("xFileSize failed w/ rc",o),l("xFileSize says:",_.peek(i,"i64")),o=P.xWrite(e.pointer,r,10,1),o&&h("xWrite() failed!");const a=_.scopedAlloc(16);o=P.xRead(e.pointer,a,6,2),_.poke(a+6,0);let p=_.cstrToJs(a);l("xRead() got:",p),"sanity"!==p&&h("Unexpected xRead() value."),F.xSleep&&(l("xSleep()ing before close()ing..."),F.xSleep(y.pointer,2e3),l("waking up from xSleep()")),o=P.xClose(t),l("xClose rc =",o,"sabOPView =",q.sabOPView),l("Deleting file:",s),F.xDelete(y.pointer,r,4660),F.xAccess(y.pointer,r,0,i),o=_.peek(i,"i32"),o&&h("Expecting 0 from xAccess(",s,") after xDelete()."),c("End of OPFS sanity checks.")}finally{e.dispose(),_.scopedAllocPop(t)}}()),globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory?navigator.storage.getDirectory().then((e=>{w.onerror=w._originalOnError,delete w._originalOnError,t.opfs=m,m.rootDirectory=e,l("End of OPFS sqlite3_vfs setup.",y),n(t)})).catch(b):n(t)}catch(t){u(t),b(t)}break;default:b(e),u("Unexpected message from the async worker:",i)}}}));return o};n.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push((async t=>{try{let e=n.defaultProxyUri;return t.scriptInfo.sqlite3Dir&&(n.defaultProxyUri=t.scriptInfo.sqlite3Dir+e),n().catch((e=>{t.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",e.message)}))}catch(e){throw t.config.error("installOpfsVfs() exception:",e),e}}))})),void 0!==t){const e=Object.assign(Object.create(null),{exports:t.asm,memory:t.wasmMemory},globalThis.sqlite3ApiConfig||{});let n;globalThis.sqlite3ApiConfig=e;try{n=globalThis.sqlite3ApiBootstrap()}catch(t){throw console.error("sqlite3ApiBootstrap() error:",t),t}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}t.sqlite3=n}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")})),t.ready});!function(){const t=o;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:"undefined"!=typeof WorkerGlobalScope,location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...t)=>console.warn("sqlite3.debugModule:",...t):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const t=e.moduleScript.src.split("/");t.pop(),e.sqlite3Dir=t.join("/")+"/"}if(globalThis.sqlite3InitModule=function n(...i){return t(...i).then((t=>{if("undefined"!=typeof WorkerGlobalScope&&(t.ENVIRONMENT_IS_PTHREAD||t._pthread_self||"function"==typeof threadAlert||globalThis?.location?.pathname?.endsWith?.(".worker.js")))return t;const i=t.sqlite3;i.scriptInfo=e,n.__isUnderTest&&(i.__isUnderTest=!0);const s=i.asyncPostInit;return delete i.asyncPostInit,s()})).catch((t=>{throw console.error("Exception loading sqlite3 module:",t),t}))},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const t=globalThis.sqlite3InitModuleState;let e=t.moduleScript.src.split("/");e.pop(),t.scriptDir=e.join("/")+"/"}e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}(),globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(1===arguments.length&&"function"==typeof arguments[0]){const n=e;(e=Object.assign(Object.create(null),t.defaultConfig)).onready=n}else e=Object.assign(Object.create(null),t.defaultConfig,e);const n=Object.create(null),i=function(){},s=e.onerror||i,r=e.debug||i,o=e.generateMessageId?void 0:Object.create(null),a=e.generateMessageId||function(t){return t.type+"#"+(o[t.type]=(o[t.type]||0)+1)},l=(...t)=>{throw new Error(t.join(" "))};let c;return e.worker||(e.worker=t.defaultConfig.worker),"function"==typeof e.worker&&(e.worker=e.worker()),e.worker.onmessage=function(t){t=t.data,r("worker1.onmessage",t);let i=n[t.messageId];if(!i)return t&&"sqlite3-api"===t.type&&"worker1-ready"===t.result?void(e.onready&&e.onready()):(i=n[t.type],i&&i.onrow?void i.onrow(t):void(e.onunhandled?e.onunhandled(arguments[0]):s("sqlite3Worker1Promiser() unhandled worker message:",t)));switch(delete n[t.messageId],t.type){case"error":return void i.reject(t);case"open":c||(c=t.dbId);break;case"close":t.dbId===c&&(c=void 0)}try{i.resolve(t)}catch(t){i.reject(t)}},function(){let t;1===arguments.length?t=arguments[0]:2===arguments.length?t={type:arguments[0],args:arguments[1]}:l("Invalid arugments for sqlite3Worker1Promiser()-created factory."),t.dbId||(t.dbId=c),t.messageId=a(t),t.departureTime=performance.now();const i=Object.create(null);let s;i.message=t,"exec"===t.type&&t.args&&("function"==typeof t.args.callback?(s=t.messageId+":row",i.onrow=t.args.callback,t.args.callback=s,n[s]=i):"string"==typeof t.args.callback&&l("exec callback may not be a string when using the Promise interface."));let o=new Promise((function(s,o){i.resolve=s,i.reject=o,n[t.messageId]=i,r("Posting",t.type,"message to Worker dbId="+(c||"default")+":",t),e.worker.postMessage(t)}));return s&&(o=o.finally((()=>delete n[s]))),o}},globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker("sqlite3-worker1-bundler-friendly.mjs",{type:"module"})}.bind({currentScript:globalThis?.document?.currentScript}),onerror:(...t)=>console.error("worker1 promiser error",...t)};const a="undefined"!=typeof SQLITE_DEBUG&&SQLITE_DEBUG||"undefined"!=typeof process&&void 0!==(null===(r=null===process||void 0===process?void 0:process.env)||void 0===r?void 0:r.SQLITE_DEBUG)&&process.env.SQLITE_DEBUG||"",l=["threads","vfs","cache","http"],c={};for(const t of l)c[t]=a.includes(t)?console.debug.bind(console):()=>{};var u=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};function h(t){let e;return c.threads("Creating new SQLite thread",t),new Promise(((n,s)=>{const r=sqlite3Worker1Promiser({onready:()=>{n(r)},worker:()=>{try{e=new Worker(new URL(i.p+i.u(490),i.b)),e.onerror=t=>console.error("Worker bootstrap failed",t);const n=null==t?void 0:t.http;return"shared"===(null==n?void 0:n.type)?n.createNewChannel().then((t=>{e.postMessage({httpChannel:t,httpOptions:n.options},[t.port])})):"sync"===(null==n?void 0:n.type)?e.postMessage({httpChannel:!0,httpOptions:n.options}):e.postMessage({}),e}catch(t){console.error("Failed to create SQLite worker",t),s(t)}}})})).then((t=>(t.close=()=>{e.terminate()},t)))}const d='SharedArrayBuffer is not available. If your browser supports it, the webserver must send "Cross-Origin-Opener-Policy: same-origin "and "Cross-Origin-Embedder-Policy: require-corp" headers.';function _(t){var e;return u(this,void 0,void 0,(function*(){const n=function(t){if(c.threads("Creating new HTTP VFS backend thread"),"undefined"==typeof SharedArrayBuffer||"sync"===(null==t?void 0:t.backendType)){if("shared"===(null==t?void 0:t.backendType))throw new Error(d);return"sync"!==(null==t?void 0:t.backendType)&&console.warn(d+" Falling back to the legacy HTTP backend."),{type:"sync",worker:null,options:t,createNewChannel:()=>{},close:()=>Promise.resolve(),terminate:()=>{}}}let e=1;const n=new Worker(new URL(i.p+i.u(945),i.b));t=function(t){var e,n,i,s;return{timeout:null!==(e=null==t?void 0:t.timeout)&&void 0!==e?e:2e4,maxPageSize:null!==(n=null==t?void 0:t.maxPageSize)&&void 0!==n?n:4096,cacheSize:null!==(i=null==t?void 0:t.cacheSize)&&void 0!==i?i:1024,headers:null!==(s=null==t?void 0:t.headers)&&void 0!==s?s:{}}}(t),n.postMessage({msg:"init",options:t});const s={};return n.onmessage=({data:t})=>{if(c.threads("Received control message reply",t),"ack"===t.msg)return s[t.id]?(c.threads("New HTTP VFS channel created",s),s[t.id].resolve({port:s[t.id].channel.port2,shm:t.shm}),clearTimeout(s[t.id].timeout),delete s[t.id].resolve,void delete s[t.id].timeout):void console.error("Invalid response received from backend",t)},{type:"shared",worker:n,options:t,createNewChannel:function(){c.threads("Creating a new HTTP VFS channel");const i=new MessageChannel,r=e++;return n.postMessage({msg:"handshake",port:i.port1,id:r},[i.port1]),new Promise(((e,n)=>{const o=setTimeout((()=>{delete s[r],n("Timeout while waiting on backend")}),t.timeout);s[r]={id:r,channel:i,resolve:e,timeout:o}}))},terminate:function(){n.terminate()},close:function(){return c.threads("Closing the HTTP VFS channel"),n.postMessage({msg:"close"}),new Promise(((e,i)=>{const s=setTimeout((()=>{i("Timeout while waiting on backend")}),t.timeout);n.onmessage=({data:t})=>{c.threads("Received close response",t),"ack"===t.msg&&void 0===t.id&&(e(),clearTimeout(s))}}))}}}(null==t?void 0:t.httpOptions),s=[],r=[];for(let i=0;i<(null!==(e=t.workers)&&void 0!==e?e:1);i++)r.push(h({http:n}).then((t=>s.push({worker:t,busy:null}))).then((()=>{})));return yield Promise.all(r),{open:t=>Promise.all(s.map((e=>e.worker("open",{filename:"file:"+encodeURI(t),vfs:"http"})))).then((()=>{})),close:()=>Promise.all(s.map((t=>t.worker.close()))).then((()=>n.close())),exec:function(t,e){return u(this,void 0,void 0,(function*(){let n;do{n=s.find((t=>!t.busy)),n||(yield Promise.race(s.map((t=>t.busy))).catch((()=>{})))}while(!n);const i=[];return n.busy=n.worker("exec",{sql:t,bind:e,callback:t=>{t.row&&i.push(t)}}).then((()=>{})).finally((()=>{n.busy=null})),yield n.busy,i}))}}}))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBUUssTUFBTTN1RyxJQUFPQSxFQUFFd3VHLE9BQ3RCeHVHLFVBQ0t5YyxRQUFRbXlGLEtBQUtOLEVBQVE3akksS0FBS3UxQixHQUFNQSxFQUFFd3VHLFFBQU92b0ksT0FBTSxLQUFlLFlBQ2xFKzVCLEdBQ1YsTUFBTTZ1RyxFQUFVLEdBY2hCLE9BYkE3dUcsRUFBRXd1RyxLQUFPeHVHLEVBQUU4ckcsT0FBTyxPQUFRLENBQ3RCbGpDLE1BQ0F4Z0csT0FDQW9ELFNBQVdxZ0QsSUFDSEEsRUFBSUEsS0FDSmdqRixFQUFRMTBJLEtBQUsweEQsRUFBSSxJQUd4QjdsRCxNQUFLLEtBQWUsSUFDcEJvbUksU0FBUSxLQUNUcHNHLEVBQUV3dUcsS0FBTyxJQUFJLFVBRVh4dUcsRUFBRXd1RyxLQUNESyxDQUNYLEdBQ0osRUFFUixHQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9AbWFwYm94L3BvaW50LWdlb21ldHJ5L2luZGV4LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvQG1hcGJveC92ZWN0b3ItdGlsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvdmVjdG9yLXRpbGUvbGliL3ZlY3RvcnRpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9AbWFwYm94L3ZlY3Rvci10aWxlL2xpYi92ZWN0b3J0aWxlZmVhdHVyZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvdmVjdG9yLXRpbGUvbGliL3ZlY3RvcnRpbGVsYXllci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL2llZWU3NTQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9wYmYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9Bc3NlcnRpb25FcnJvci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL0Rpc3Bvc2FibGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9JbWFnZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL0ltYWdlU3RhdGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9JbWFnZVRpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9Db2xsZWN0aW9uRXZlbnRUeXBlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvQ29sbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL01hcC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL0NvbXBvc2l0ZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL0dyb3VwLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvTWFwRXZlbnQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9NYXBCcm93c2VyRXZlbnQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9NYXBCcm93c2VyRXZlbnRUeXBlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcG9pbnRlci9FdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9NYXBCcm93c2VyRXZlbnRIYW5kbGVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvTWFwRXZlbnRUeXBlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvTWFwUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zdHJ1Y3RzL1ByaW9yaXR5UXVldWUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9UaWxlUXVldWUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sL0NvbnRyb2wuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sL0F0dHJpYnV0aW9uLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9Sb3RhdGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sL1pvb20uanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9Qcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vUG9pbnRlci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy9jb25kaXRpb24uanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9EcmFnUGFuLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9Cb3guanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9EcmFnQm94LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhZ1pvb20uanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9LZXlib2FyZFBhbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy9LZXlDb2RlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vTW91c2VXaGVlbFpvb20uanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9QaW5jaFJvdGF0ZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL1BpbmNoWm9vbS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL01hcC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2NvbnRyb2wvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL0tpbmV0aWMuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9PYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9PYmplY3RFdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9PYnNlcnZhYmxlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3N0cnVjdHMvTFJVQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9UaWxlQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9UaWxlUmFuZ2UuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9UaWxlU3RhdGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9WaWV3UHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9jZW50ZXJjb25zdHJhaW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVzb2x1dGlvbmNvbnN0cmFpbnQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9WaWV3LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVmlld0hpbnQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9hcnJheS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2Fzc2VydHMuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9jb2xvci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2NvbnNvbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9jb29yZGluYXRlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY3NzLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZG9tLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZWFzaW5nLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZXZlbnRzLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZXZlbnRzL0V2ZW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZXZlbnRzL0V2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy9UYXJnZXQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9leHRlbnQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9leHRlbnQvUmVsYXRpb25zaGlwLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZm9ybWF0L0ZlYXR1cmUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9mdW5jdGlvbnMuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvY2xvc2VzdC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9kZWZsYXRlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2FyZWEuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL0xpbmVhclJpbmcuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL1BvaW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3JldmVyc2UuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvb3JpZW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9Qb2x5Z29uLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9HZW9tZXRyeS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vU2ltcGxlR2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvY29udGFpbnMuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvaW5mbGF0ZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9pbnRlcmlvcnBvaW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2ludGVyc2VjdHNleHRlbnQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvc2VnbWVudHMuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvc2ltcGxpZnkuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaGFzLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvQmFzZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL0xheWVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9CYXNlVGlsZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1RpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9UaWxlUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9tYXRoLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvb2JqLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcHJvai9lcHNnMzg1Ny5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovZXBzZzQzMjYuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9wcm9qL3Byb2plY3Rpb25zLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcHJvai90cmFuc2Zvcm1zLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3BoZXJlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcHJvai5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovUHJvamVjdGlvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovVW5pdHMuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvRXZlbnQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvRXZlbnRUeXBlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2ludGVycG9sYXRlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL0ZlYXR1cmUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvY2VudGVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL0xheWVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL0xheWVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL1RpbGVMYXllci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlcHJvai5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlcHJvai9UaWxlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlcHJvai9Ucmlhbmd1bGF0aW9uLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcm90YXRpb25jb25zdHJhaW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc2l6ZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9UaWxlRGVidWcuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVGlsZUltYWdlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1NvdXJjZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9UaWxlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZXVybGZ1bmN0aW9uLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1VybFRpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVGlsZUV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL1ZlY3RvclRpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9WZWN0b3JSZW5kZXJUaWxlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZmVhdHVyZWxvYWRlci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9WZWN0b3JUaWxlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1hZWi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ljb25JbWFnZUNhY2hlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWNvb3JkLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC90aWxlZ3JpZC9UaWxlR3JpZC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3RpbGVncmlkL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3V0aWwuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9wYWtvL2Rpc3QvcGFrby5lc20ubWpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvc3FsaXRlLXdhc20taHR0cC9kZXBzL2Rpc3Qvc3FsaXRlMy1idW5kbGVyLWZyaWVuZGx5Lm1qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL3NxbGl0ZS13YXNtLWh0dHAvZGlzdC92ZnMtaHR0cC10eXBlcy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL3NxbGl0ZS13YXNtLWh0dHAvZGVwcy9kaXN0L3NxbGl0ZTMtd29ya2VyMS1wcm9taXNlci1idW5kbGVyLWZyaWVuZGx5LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvc3FsaXRlLXdhc20taHR0cC9kaXN0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBQb2ludDtcblxuLyoqXG4gKiBBIHN0YW5kYWxvbmUgcG9pbnQgZ2VvbWV0cnkgd2l0aCB1c2VmdWwgYWNjZXNzb3IsIGNvbXBhcmlzb24sIGFuZFxuICogbW9kaWZpY2F0aW9uIG1ldGhvZHMuXG4gKlxuICogQGNsYXNzIFBvaW50XG4gKiBAcGFyYW0ge051bWJlcn0geCB0aGUgeC1jb29yZGluYXRlLiB0aGlzIGNvdWxkIGJlIGxvbmdpdHVkZSBvciBzY3JlZW5cbiAqIHBpeGVscywgb3IgYW55IG90aGVyIHNvcnQgb2YgdW5pdC5cbiAqIEBwYXJhbSB7TnVtYmVyfSB5IHRoZSB5LWNvb3JkaW5hdGUuIHRoaXMgY291bGQgYmUgbGF0aXR1ZGUgb3Igc2NyZWVuXG4gKiBwaXhlbHMsIG9yIGFueSBvdGhlciBzb3J0IG9mIHVuaXQuXG4gKiBAZXhhbXBsZVxuICogdmFyIHBvaW50ID0gbmV3IFBvaW50KC03NywgMzgpO1xuICovXG5mdW5jdGlvbiBQb2ludCh4LCB5KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xufVxuXG5Qb2ludC5wcm90b3R5cGUgPSB7XG5cbiAgICAvKipcbiAgICAgKiBDbG9uZSB0aGlzIHBvaW50LCByZXR1cm5pbmcgYSBuZXcgcG9pbnQgdGhhdCBjYW4gYmUgbW9kaWZpZWRcbiAgICAgKiB3aXRob3V0IGFmZmVjdGluZyB0aGUgb2xkIG9uZS5cbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gdGhlIGNsb25lXG4gICAgICovXG4gICAgY2xvbmU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTsgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZCB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgdG8gYW5vdGhlciBwb2ludCxcbiAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBhZGQ6ICAgICBmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX2FkZChwKTsgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyB0byBmcm9tIHBvaW50LFxuICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIHN1YjogICAgIGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKHApOyB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIGJ5IHBvaW50LFxuICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIG11bHRCeVBvaW50OiAgICBmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX211bHRCeVBvaW50KHApOyB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlIHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyBieSBwb2ludCxcbiAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBkaXZCeVBvaW50OiAgICAgZnVuY3Rpb24ocCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZCeVBvaW50KHApOyB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIGJ5IGEgZmFjdG9yLFxuICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IGsgZmFjdG9yXG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIG11bHQ6ICAgIGZ1bmN0aW9uKGspIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdChrKTsgfSxcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgYSBmYWN0b3IsXG4gICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtQb2ludH0gayBmYWN0b3JcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgZGl2OiAgICAgZnVuY3Rpb24oaykgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXYoayk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgdGhpcyBwb2ludCBhcm91bmQgdGhlIDAsIDAgb3JpZ2luIGJ5IGFuIGFuZ2xlIGEsXG4gICAgICogZ2l2ZW4gaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIGFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQsIGluIHJhZGlhbnNcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgcm90YXRlOiAgZnVuY3Rpb24oYSkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGUoYSk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgdGhpcyBwb2ludCBhcm91bmQgcCBwb2ludCBieSBhbiBhbmdsZSBhLFxuICAgICAqIGdpdmVuIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYSBhbmdsZSB0byByb3RhdGUgYXJvdW5kLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCBQb2ludCB0byByb3RhdGUgYXJvdW5kXG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIHJvdGF0ZUFyb3VuZDogIGZ1bmN0aW9uKGEscCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGVBcm91bmQoYSxwKTsgfSxcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoaXMgcG9pbnQgYnkgYSA0eDEgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBtIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBtYXRNdWx0OiBmdW5jdGlvbihtKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX21hdE11bHQobSk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhpcyBwb2ludCBidXQgYXMgYSB1bml0IHZlY3RvciBmcm9tIDAsIDAsIG1lYW5pbmdcbiAgICAgKiB0aGF0IHRoZSBkaXN0YW5jZSBmcm9tIHRoZSByZXN1bHRpbmcgcG9pbnQgdG8gdGhlIDAsIDBcbiAgICAgKiBjb29yZGluYXRlIHdpbGwgYmUgZXF1YWwgdG8gMSBhbmQgdGhlIGFuZ2xlIGZyb20gdGhlIHJlc3VsdGluZ1xuICAgICAqIHBvaW50IHRvIHRoZSAwLCAwIGNvb3JkaW5hdGUgd2lsbCBiZSB0aGUgc2FtZSBhcyBiZWZvcmUuXG4gICAgICogQHJldHVybiB7UG9pbnR9IHVuaXQgdmVjdG9yIHBvaW50XG4gICAgICovXG4gICAgdW5pdDogICAgZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3VuaXQoKTsgfSxcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgYSBwZXJwZW5kaWN1bGFyIHBvaW50LCB3aGVyZSB0aGUgbmV3IHkgY29vcmRpbmF0ZVxuICAgICAqIGlzIHRoZSBvbGQgeCBjb29yZGluYXRlIGFuZCB0aGUgbmV3IHggY29vcmRpbmF0ZSBpcyB0aGUgb2xkIHlcbiAgICAgKiBjb29yZGluYXRlIG11bHRpcGxpZWQgYnkgLTFcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gcGVycGVuZGljdWxhciBwb2ludFxuICAgICAqL1xuICAgIHBlcnA6ICAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9wZXJwKCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSB2ZXJzaW9uIG9mIHRoaXMgcG9pbnQgd2l0aCB0aGUgeCAmIHkgY29vcmRpbmF0ZXNcbiAgICAgKiByb3VuZGVkIHRvIGludGVnZXJzLlxuICAgICAqIEByZXR1cm4ge1BvaW50fSByb3VuZGVkIHBvaW50XG4gICAgICovXG4gICAgcm91bmQ6ICAgZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG1hZ2l0dWRlIG9mIHRoaXMgcG9pbnQ6IHRoaXMgaXMgdGhlIEV1Y2xpZGVhblxuICAgICAqIGRpc3RhbmNlIGZyb20gdGhlIDAsIDAgY29vcmRpbmF0ZSB0byB0aGlzIHBvaW50J3MgeCBhbmQgeVxuICAgICAqIGNvb3JkaW5hdGVzLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gbWFnbml0dWRlXG4gICAgICovXG4gICAgbWFnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBKdWRnZSB3aGV0aGVyIHRoaXMgcG9pbnQgaXMgZXF1YWwgdG8gYW5vdGhlciBwb2ludCwgcmV0dXJuaW5nXG4gICAgICogdHJ1ZSBvciBmYWxzZS5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBvdGhlciB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZSBwb2ludHMgYXJlIGVxdWFsXG4gICAgICovXG4gICAgZXF1YWxzOiBmdW5jdGlvbihvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlci54ICYmXG4gICAgICAgICAgICAgICB0aGlzLnkgPT09IG90aGVyLnk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnRcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAgICAgKi9cbiAgICBkaXN0OiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0U3FyKHApKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludCxcbiAgICAgKiB3aXRob3V0IHRoZSBzcXVhcmUgcm9vdCBzdGVwLiBVc2VmdWwgaWYgeW91J3JlIGNvbXBhcmluZ1xuICAgICAqIHJlbGF0aXZlIGRpc3RhbmNlcy5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAgICAgKi9cbiAgICBkaXN0U3FyOiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHZhciBkeCA9IHAueCAtIHRoaXMueCxcbiAgICAgICAgICAgIGR5ID0gcC55IC0gdGhpcy55O1xuICAgICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW5nbGUgZnJvbSB0aGUgMCwgMCBjb29yZGluYXRlIHRvIHRoaXMgcG9pbnQsIGluIHJhZGlhbnNcbiAgICAgKiBjb29yZGluYXRlcy5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG4gICAgICovXG4gICAgYW5nbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksIHRoaXMueCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW5nbGUgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnQsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBiIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAgICAgKi9cbiAgICBhbmdsZVRvOiBmdW5jdGlvbihiKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMueSAtIGIueSwgdGhpcy54IC0gYi54KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHRoaXMgcG9pbnQgYW5kIGFub3RoZXIgcG9pbnQsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBiIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAgICAgKi9cbiAgICBhbmdsZVdpdGg6IGZ1bmN0aW9uKGIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5nbGVXaXRoU2VwKGIueCwgYi55KTtcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBGaW5kIHRoZSBhbmdsZSBvZiB0aGUgdHdvIHZlY3RvcnMsIHNvbHZpbmcgdGhlIGZvcm11bGEgZm9yXG4gICAgICogdGhlIGNyb3NzIHByb2R1Y3QgYSB4IGIgPSB8YXx8YnxzaW4ozrgpIGZvciDOuC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCB0aGUgeC1jb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgdGhlIHktY29vcmRpbmF0ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gdGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAgICAgKi9cbiAgICBhbmdsZVdpdGhTZXA6IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIoXG4gICAgICAgICAgICB0aGlzLnggKiB5IC0gdGhpcy55ICogeCxcbiAgICAgICAgICAgIHRoaXMueCAqIHggKyB0aGlzLnkgKiB5KTtcbiAgICB9LFxuXG4gICAgX21hdE11bHQ6IGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgdmFyIHggPSBtWzBdICogdGhpcy54ICsgbVsxXSAqIHRoaXMueSxcbiAgICAgICAgICAgIHkgPSBtWzJdICogdGhpcy54ICsgbVszXSAqIHRoaXMueTtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9hZGQ6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdGhpcy54ICs9IHAueDtcbiAgICAgICAgdGhpcy55ICs9IHAueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9zdWI6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdGhpcy54IC09IHAueDtcbiAgICAgICAgdGhpcy55IC09IHAueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9tdWx0OiBmdW5jdGlvbihrKSB7XG4gICAgICAgIHRoaXMueCAqPSBrO1xuICAgICAgICB0aGlzLnkgKj0gaztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9kaXY6IGZ1bmN0aW9uKGspIHtcbiAgICAgICAgdGhpcy54IC89IGs7XG4gICAgICAgIHRoaXMueSAvPSBrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX211bHRCeVBvaW50OiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHRoaXMueCAqPSBwLng7XG4gICAgICAgIHRoaXMueSAqPSBwLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfZGl2QnlQb2ludDogZnVuY3Rpb24ocCkge1xuICAgICAgICB0aGlzLnggLz0gcC54O1xuICAgICAgICB0aGlzLnkgLz0gcC55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3VuaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9kaXYodGhpcy5tYWcoKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfcGVycDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB5ID0gdGhpcy55O1xuICAgICAgICB0aGlzLnkgPSB0aGlzLng7XG4gICAgICAgIHRoaXMueCA9IC15O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3JvdGF0ZTogZnVuY3Rpb24oYW5nbGUpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICAgIHNpbiA9IE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgICAgIHggPSBjb3MgKiB0aGlzLnggLSBzaW4gKiB0aGlzLnksXG4gICAgICAgICAgICB5ID0gc2luICogdGhpcy54ICsgY29zICogdGhpcy55O1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3JvdGF0ZUFyb3VuZDogZnVuY3Rpb24oYW5nbGUsIHApIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICAgIHNpbiA9IE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgICAgIHggPSBwLnggKyBjb3MgKiAodGhpcy54IC0gcC54KSAtIHNpbiAqICh0aGlzLnkgLSBwLnkpLFxuICAgICAgICAgICAgeSA9IHAueSArIHNpbiAqICh0aGlzLnggLSBwLngpICsgY29zICogKHRoaXMueSAtIHAueSk7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfcm91bmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnggPSBNYXRoLnJvdW5kKHRoaXMueCk7XG4gICAgICAgIHRoaXMueSA9IE1hdGgucm91bmQodGhpcy55KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDb25zdHJ1Y3QgYSBwb2ludCBmcm9tIGFuIGFycmF5IGlmIG5lY2Vzc2FyeSwgb3RoZXJ3aXNlIGlmIHRoZSBpbnB1dFxuICogaXMgYWxyZWFkeSBhIFBvaW50LCBvciBhbiB1bmtub3duIHR5cGUsIHJldHVybiBpdCB1bmNoYW5nZWRcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPnxQb2ludHwqfSBhIGFueSBraW5kIG9mIGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtQb2ludH0gY29uc3RydWN0ZWQgcG9pbnQsIG9yIHBhc3NlZC10aHJvdWdoIHZhbHVlLlxuICogQGV4YW1wbGVcbiAqIC8vIHRoaXNcbiAqIHZhciBwb2ludCA9IFBvaW50LmNvbnZlcnQoWzAsIDFdKTtcbiAqIC8vIGlzIGVxdWl2YWxlbnQgdG9cbiAqIHZhciBwb2ludCA9IG5ldyBQb2ludCgwLCAxKTtcbiAqL1xuUG9pbnQuY29udmVydCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgaWYgKGEgaW5zdGFuY2VvZiBQb2ludCkge1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChhWzBdLCBhWzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIGE7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMuVmVjdG9yVGlsZSA9IHJlcXVpcmUoJy4vbGliL3ZlY3RvcnRpbGUuanMnKTtcbm1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGVGZWF0dXJlID0gcmVxdWlyZSgnLi9saWIvdmVjdG9ydGlsZWZlYXR1cmUuanMnKTtcbm1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGVMYXllciA9IHJlcXVpcmUoJy4vbGliL3ZlY3RvcnRpbGVsYXllci5qcycpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVmVjdG9yVGlsZUxheWVyID0gcmVxdWlyZSgnLi92ZWN0b3J0aWxlbGF5ZXInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBWZWN0b3JUaWxlO1xuXG5mdW5jdGlvbiBWZWN0b3JUaWxlKHBiZiwgZW5kKSB7XG4gICAgdGhpcy5sYXllcnMgPSBwYmYucmVhZEZpZWxkcyhyZWFkVGlsZSwge30sIGVuZCk7XG59XG5cbmZ1bmN0aW9uIHJlYWRUaWxlKHRhZywgbGF5ZXJzLCBwYmYpIHtcbiAgICBpZiAodGFnID09PSAzKSB7XG4gICAgICAgIHZhciBsYXllciA9IG5ldyBWZWN0b3JUaWxlTGF5ZXIocGJmLCBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyk7XG4gICAgICAgIGlmIChsYXllci5sZW5ndGgpIGxheWVyc1tsYXllci5uYW1lXSA9IGxheWVyO1xuICAgIH1cbn1cblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUG9pbnQgPSByZXF1aXJlKCdAbWFwYm94L3BvaW50LWdlb21ldHJ5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmVjdG9yVGlsZUZlYXR1cmU7XG5cbmZ1bmN0aW9uIFZlY3RvclRpbGVGZWF0dXJlKHBiZiwgZW5kLCBleHRlbnQsIGtleXMsIHZhbHVlcykge1xuICAgIC8vIFB1YmxpY1xuICAgIHRoaXMucHJvcGVydGllcyA9IHt9O1xuICAgIHRoaXMuZXh0ZW50ID0gZXh0ZW50O1xuICAgIHRoaXMudHlwZSA9IDA7XG5cbiAgICAvLyBQcml2YXRlXG4gICAgdGhpcy5fcGJmID0gcGJmO1xuICAgIHRoaXMuX2dlb21ldHJ5ID0gLTE7XG4gICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuXG4gICAgcGJmLnJlYWRGaWVsZHMocmVhZEZlYXR1cmUsIHRoaXMsIGVuZCk7XG59XG5cbmZ1bmN0aW9uIHJlYWRGZWF0dXJlKHRhZywgZmVhdHVyZSwgcGJmKSB7XG4gICAgaWYgKHRhZyA9PSAxKSBmZWF0dXJlLmlkID0gcGJmLnJlYWRWYXJpbnQoKTtcbiAgICBlbHNlIGlmICh0YWcgPT0gMikgcmVhZFRhZyhwYmYsIGZlYXR1cmUpO1xuICAgIGVsc2UgaWYgKHRhZyA9PSAzKSBmZWF0dXJlLnR5cGUgPSBwYmYucmVhZFZhcmludCgpO1xuICAgIGVsc2UgaWYgKHRhZyA9PSA0KSBmZWF0dXJlLl9nZW9tZXRyeSA9IHBiZi5wb3M7XG59XG5cbmZ1bmN0aW9uIHJlYWRUYWcocGJmLCBmZWF0dXJlKSB7XG4gICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zO1xuXG4gICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHtcbiAgICAgICAgdmFyIGtleSA9IGZlYXR1cmUuX2tleXNbcGJmLnJlYWRWYXJpbnQoKV0sXG4gICAgICAgICAgICB2YWx1ZSA9IGZlYXR1cmUuX3ZhbHVlc1twYmYucmVhZFZhcmludCgpXTtcbiAgICAgICAgZmVhdHVyZS5wcm9wZXJ0aWVzW2tleV0gPSB2YWx1ZTtcbiAgICB9XG59XG5cblZlY3RvclRpbGVGZWF0dXJlLnR5cGVzID0gWydVbmtub3duJywgJ1BvaW50JywgJ0xpbmVTdHJpbmcnLCAnUG9seWdvbiddO1xuXG5WZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUubG9hZEdlb21ldHJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBiZiA9IHRoaXMuX3BiZjtcbiAgICBwYmYucG9zID0gdGhpcy5fZ2VvbWV0cnk7XG5cbiAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MsXG4gICAgICAgIGNtZCA9IDEsXG4gICAgICAgIGxlbmd0aCA9IDAsXG4gICAgICAgIHggPSAwLFxuICAgICAgICB5ID0gMCxcbiAgICAgICAgbGluZXMgPSBbXSxcbiAgICAgICAgbGluZTtcblxuICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG4gICAgICAgIGlmIChsZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgdmFyIGNtZExlbiA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgICAgICAgICBjbWQgPSBjbWRMZW4gJiAweDc7XG4gICAgICAgICAgICBsZW5ndGggPSBjbWRMZW4gPj4gMztcbiAgICAgICAgfVxuXG4gICAgICAgIGxlbmd0aC0tO1xuXG4gICAgICAgIGlmIChjbWQgPT09IDEgfHwgY21kID09PSAyKSB7XG4gICAgICAgICAgICB4ICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuICAgICAgICAgICAgeSArPSBwYmYucmVhZFNWYXJpbnQoKTtcblxuICAgICAgICAgICAgaWYgKGNtZCA9PT0gMSkgeyAvLyBtb3ZlVG9cbiAgICAgICAgICAgICAgICBpZiAobGluZSkgbGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgICAgICAgICBsaW5lID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmUucHVzaChuZXcgUG9pbnQoeCwgeSkpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY21kID09PSA3KSB7XG5cbiAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwbmlrLXZlY3Rvci10aWxlL2lzc3Vlcy85MFxuICAgICAgICAgICAgaWYgKGxpbmUpIHtcbiAgICAgICAgICAgICAgICBsaW5lLnB1c2gobGluZVswXS5jbG9uZSgpKTsgLy8gY2xvc2VQb2x5Z29uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBjb21tYW5kICcgKyBjbWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGxpbmUpIGxpbmVzLnB1c2gobGluZSk7XG5cbiAgICByZXR1cm4gbGluZXM7XG59O1xuXG5WZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUuYmJveCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYmYgPSB0aGlzLl9wYmY7XG4gICAgcGJmLnBvcyA9IHRoaXMuX2dlb21ldHJ5O1xuXG4gICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zLFxuICAgICAgICBjbWQgPSAxLFxuICAgICAgICBsZW5ndGggPSAwLFxuICAgICAgICB4ID0gMCxcbiAgICAgICAgeSA9IDAsXG4gICAgICAgIHgxID0gSW5maW5pdHksXG4gICAgICAgIHgyID0gLUluZmluaXR5LFxuICAgICAgICB5MSA9IEluZmluaXR5LFxuICAgICAgICB5MiA9IC1JbmZpbml0eTtcblxuICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG4gICAgICAgIGlmIChsZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgdmFyIGNtZExlbiA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgICAgICAgICBjbWQgPSBjbWRMZW4gJiAweDc7XG4gICAgICAgICAgICBsZW5ndGggPSBjbWRMZW4gPj4gMztcbiAgICAgICAgfVxuXG4gICAgICAgIGxlbmd0aC0tO1xuXG4gICAgICAgIGlmIChjbWQgPT09IDEgfHwgY21kID09PSAyKSB7XG4gICAgICAgICAgICB4ICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuICAgICAgICAgICAgeSArPSBwYmYucmVhZFNWYXJpbnQoKTtcbiAgICAgICAgICAgIGlmICh4IDwgeDEpIHgxID0geDtcbiAgICAgICAgICAgIGlmICh4ID4geDIpIHgyID0geDtcbiAgICAgICAgICAgIGlmICh5IDwgeTEpIHkxID0geTtcbiAgICAgICAgICAgIGlmICh5ID4geTIpIHkyID0geTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNtZCAhPT0gNykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGNvbW1hbmQgJyArIGNtZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gW3gxLCB5MSwgeDIsIHkyXTtcbn07XG5cblZlY3RvclRpbGVGZWF0dXJlLnByb3RvdHlwZS50b0dlb0pTT04gPSBmdW5jdGlvbih4LCB5LCB6KSB7XG4gICAgdmFyIHNpemUgPSB0aGlzLmV4dGVudCAqIE1hdGgucG93KDIsIHopLFxuICAgICAgICB4MCA9IHRoaXMuZXh0ZW50ICogeCxcbiAgICAgICAgeTAgPSB0aGlzLmV4dGVudCAqIHksXG4gICAgICAgIGNvb3JkcyA9IHRoaXMubG9hZEdlb21ldHJ5KCksXG4gICAgICAgIHR5cGUgPSBWZWN0b3JUaWxlRmVhdHVyZS50eXBlc1t0aGlzLnR5cGVdLFxuICAgICAgICBpLCBqO1xuXG4gICAgZnVuY3Rpb24gcHJvamVjdChsaW5lKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIHAgPSBsaW5lW2pdLCB5MiA9IDE4MCAtIChwLnkgKyB5MCkgKiAzNjAgLyBzaXplO1xuICAgICAgICAgICAgbGluZVtqXSA9IFtcbiAgICAgICAgICAgICAgICAocC54ICsgeDApICogMzYwIC8gc2l6ZSAtIDE4MCxcbiAgICAgICAgICAgICAgICAzNjAgLyBNYXRoLlBJICogTWF0aC5hdGFuKE1hdGguZXhwKHkyICogTWF0aC5QSSAvIDE4MCkpIC0gOTBcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgIGNhc2UgMTpcbiAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwb2ludHNbaV0gPSBjb29yZHNbaV1bMF07XG4gICAgICAgIH1cbiAgICAgICAgY29vcmRzID0gcG9pbnRzO1xuICAgICAgICBwcm9qZWN0KGNvb3Jkcyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAyOlxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwcm9qZWN0KGNvb3Jkc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDM6XG4gICAgICAgIGNvb3JkcyA9IGNsYXNzaWZ5UmluZ3MoY29vcmRzKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvb3Jkc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHByb2plY3QoY29vcmRzW2ldW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoY29vcmRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb29yZHMgPSBjb29yZHNbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdHlwZSA9ICdNdWx0aScgKyB0eXBlO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIHR5cGU6IFwiRmVhdHVyZVwiLFxuICAgICAgICBnZW9tZXRyeToge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZHNcbiAgICAgICAgfSxcbiAgICAgICAgcHJvcGVydGllczogdGhpcy5wcm9wZXJ0aWVzXG4gICAgfTtcblxuICAgIGlmICgnaWQnIGluIHRoaXMpIHtcbiAgICAgICAgcmVzdWx0LmlkID0gdGhpcy5pZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gY2xhc3NpZmllcyBhbiBhcnJheSBvZiByaW5ncyBpbnRvIHBvbHlnb25zIHdpdGggb3V0ZXIgcmluZ3MgYW5kIGhvbGVzXG5cbmZ1bmN0aW9uIGNsYXNzaWZ5UmluZ3MocmluZ3MpIHtcbiAgICB2YXIgbGVuID0gcmluZ3MubGVuZ3RoO1xuXG4gICAgaWYgKGxlbiA8PSAxKSByZXR1cm4gW3JpbmdzXTtcblxuICAgIHZhciBwb2x5Z29ucyA9IFtdLFxuICAgICAgICBwb2x5Z29uLFxuICAgICAgICBjY3c7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBhcmVhID0gc2lnbmVkQXJlYShyaW5nc1tpXSk7XG4gICAgICAgIGlmIChhcmVhID09PSAwKSBjb250aW51ZTtcblxuICAgICAgICBpZiAoY2N3ID09PSB1bmRlZmluZWQpIGNjdyA9IGFyZWEgPCAwO1xuXG4gICAgICAgIGlmIChjY3cgPT09IGFyZWEgPCAwKSB7XG4gICAgICAgICAgICBpZiAocG9seWdvbikgcG9seWdvbnMucHVzaChwb2x5Z29uKTtcbiAgICAgICAgICAgIHBvbHlnb24gPSBbcmluZ3NbaV1dO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb2x5Z29uLnB1c2gocmluZ3NbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwb2x5Z29uKSBwb2x5Z29ucy5wdXNoKHBvbHlnb24pO1xuXG4gICAgcmV0dXJuIHBvbHlnb25zO1xufVxuXG5mdW5jdGlvbiBzaWduZWRBcmVhKHJpbmcpIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmluZy5sZW5ndGgsIGogPSBsZW4gLSAxLCBwMSwgcDI7IGkgPCBsZW47IGogPSBpKyspIHtcbiAgICAgICAgcDEgPSByaW5nW2ldO1xuICAgICAgICBwMiA9IHJpbmdbal07XG4gICAgICAgIHN1bSArPSAocDIueCAtIHAxLngpICogKHAxLnkgKyBwMi55KTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFZlY3RvclRpbGVGZWF0dXJlID0gcmVxdWlyZSgnLi92ZWN0b3J0aWxlZmVhdHVyZS5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZlY3RvclRpbGVMYXllcjtcblxuZnVuY3Rpb24gVmVjdG9yVGlsZUxheWVyKHBiZiwgZW5kKSB7XG4gICAgLy8gUHVibGljXG4gICAgdGhpcy52ZXJzaW9uID0gMTtcbiAgICB0aGlzLm5hbWUgPSBudWxsO1xuICAgIHRoaXMuZXh0ZW50ID0gNDA5NjtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG5cbiAgICAvLyBQcml2YXRlXG4gICAgdGhpcy5fcGJmID0gcGJmO1xuICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICB0aGlzLl9mZWF0dXJlcyA9IFtdO1xuXG4gICAgcGJmLnJlYWRGaWVsZHMocmVhZExheWVyLCB0aGlzLCBlbmQpO1xuXG4gICAgdGhpcy5sZW5ndGggPSB0aGlzLl9mZWF0dXJlcy5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIHJlYWRMYXllcih0YWcsIGxheWVyLCBwYmYpIHtcbiAgICBpZiAodGFnID09PSAxNSkgbGF5ZXIudmVyc2lvbiA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09PSAxKSBsYXllci5uYW1lID0gcGJmLnJlYWRTdHJpbmcoKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDUpIGxheWVyLmV4dGVudCA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09PSAyKSBsYXllci5fZmVhdHVyZXMucHVzaChwYmYucG9zKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDMpIGxheWVyLl9rZXlzLnB1c2gocGJmLnJlYWRTdHJpbmcoKSk7XG4gICAgZWxzZSBpZiAodGFnID09PSA0KSBsYXllci5fdmFsdWVzLnB1c2gocmVhZFZhbHVlTWVzc2FnZShwYmYpKTtcbn1cblxuZnVuY3Rpb24gcmVhZFZhbHVlTWVzc2FnZShwYmYpIHtcbiAgICB2YXIgdmFsdWUgPSBudWxsLFxuICAgICAgICBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcztcblxuICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG4gICAgICAgIHZhciB0YWcgPSBwYmYucmVhZFZhcmludCgpID4+IDM7XG5cbiAgICAgICAgdmFsdWUgPSB0YWcgPT09IDEgPyBwYmYucmVhZFN0cmluZygpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gMiA/IHBiZi5yZWFkRmxvYXQoKSA6XG4gICAgICAgICAgICB0YWcgPT09IDMgPyBwYmYucmVhZERvdWJsZSgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNCA/IHBiZi5yZWFkVmFyaW50NjQoKSA6XG4gICAgICAgICAgICB0YWcgPT09IDUgPyBwYmYucmVhZFZhcmludCgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNiA/IHBiZi5yZWFkU1ZhcmludCgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNyA/IHBiZi5yZWFkQm9vbGVhbigpIDogbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8vIHJldHVybiBmZWF0dXJlIGBpYCBmcm9tIHRoaXMgbGF5ZXIgYXMgYSBgVmVjdG9yVGlsZUZlYXR1cmVgXG5WZWN0b3JUaWxlTGF5ZXIucHJvdG90eXBlLmZlYXR1cmUgPSBmdW5jdGlvbihpKSB7XG4gICAgaWYgKGkgPCAwIHx8IGkgPj0gdGhpcy5fZmVhdHVyZXMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ2ZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kcycpO1xuXG4gICAgdGhpcy5fcGJmLnBvcyA9IHRoaXMuX2ZlYXR1cmVzW2ldO1xuXG4gICAgdmFyIGVuZCA9IHRoaXMuX3BiZi5yZWFkVmFyaW50KCkgKyB0aGlzLl9wYmYucG9zO1xuICAgIHJldHVybiBuZXcgVmVjdG9yVGlsZUZlYXR1cmUodGhpcy5fcGJmLCBlbmQsIHRoaXMuZXh0ZW50LCB0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMpO1xufTtcbiIsIi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5leHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGJmO1xuXG52YXIgaWVlZTc1NCA9IHJlcXVpcmUoJ2llZWU3NTQnKTtcblxuZnVuY3Rpb24gUGJmKGJ1Zikge1xuICAgIHRoaXMuYnVmID0gQXJyYXlCdWZmZXIuaXNWaWV3ICYmIEFycmF5QnVmZmVyLmlzVmlldyhidWYpID8gYnVmIDogbmV3IFVpbnQ4QXJyYXkoYnVmIHx8IDApO1xuICAgIHRoaXMucG9zID0gMDtcbiAgICB0aGlzLnR5cGUgPSAwO1xuICAgIHRoaXMubGVuZ3RoID0gdGhpcy5idWYubGVuZ3RoO1xufVxuXG5QYmYuVmFyaW50ICA9IDA7IC8vIHZhcmludDogaW50MzIsIGludDY0LCB1aW50MzIsIHVpbnQ2NCwgc2ludDMyLCBzaW50NjQsIGJvb2wsIGVudW1cblBiZi5GaXhlZDY0ID0gMTsgLy8gNjQtYml0OiBkb3VibGUsIGZpeGVkNjQsIHNmaXhlZDY0XG5QYmYuQnl0ZXMgICA9IDI7IC8vIGxlbmd0aC1kZWxpbWl0ZWQ6IHN0cmluZywgYnl0ZXMsIGVtYmVkZGVkIG1lc3NhZ2VzLCBwYWNrZWQgcmVwZWF0ZWQgZmllbGRzXG5QYmYuRml4ZWQzMiA9IDU7IC8vIDMyLWJpdDogZmxvYXQsIGZpeGVkMzIsIHNmaXhlZDMyXG5cbnZhciBTSElGVF9MRUZUXzMyID0gKDEgPDwgMTYpICogKDEgPDwgMTYpLFxuICAgIFNISUZUX1JJR0hUXzMyID0gMSAvIFNISUZUX0xFRlRfMzI7XG5cbi8vIFRocmVzaG9sZCBjaG9zZW4gYmFzZWQgb24gYm90aCBiZW5jaG1hcmtpbmcgYW5kIGtub3dsZWRnZSBhYm91dCBicm93c2VyIHN0cmluZ1xuLy8gZGF0YSBzdHJ1Y3R1cmVzICh3aGljaCBjdXJyZW50bHkgc3dpdGNoIHN0cnVjdHVyZSB0eXBlcyBhdCAxMiBieXRlcyBvciBtb3JlKVxudmFyIFRFWFRfREVDT0RFUl9NSU5fTEVOR1RIID0gMTI7XG52YXIgdXRmOFRleHREZWNvZGVyID0gdHlwZW9mIFRleHREZWNvZGVyID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiBuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKTtcblxuUGJmLnByb3RvdHlwZSA9IHtcblxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmJ1ZiA9IG51bGw7XG4gICAgfSxcblxuICAgIC8vID09PSBSRUFESU5HID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICByZWFkRmllbGRzOiBmdW5jdGlvbihyZWFkRmllbGQsIHJlc3VsdCwgZW5kKSB7XG4gICAgICAgIGVuZCA9IGVuZCB8fCB0aGlzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLnJlYWRWYXJpbnQoKSxcbiAgICAgICAgICAgICAgICB0YWcgPSB2YWwgPj4gMyxcbiAgICAgICAgICAgICAgICBzdGFydFBvcyA9IHRoaXMucG9zO1xuXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSB2YWwgJiAweDc7XG4gICAgICAgICAgICByZWFkRmllbGQodGFnLCByZXN1bHQsIHRoaXMpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPT09IHN0YXJ0UG9zKSB0aGlzLnNraXAodmFsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICByZWFkTWVzc2FnZTogZnVuY3Rpb24ocmVhZEZpZWxkLCByZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEZpZWxkcyhyZWFkRmllbGQsIHJlc3VsdCwgdGhpcy5yZWFkVmFyaW50KCkgKyB0aGlzLnBvcyk7XG4gICAgfSxcblxuICAgIHJlYWRGaXhlZDMyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IHJlYWRVSW50MzIodGhpcy5idWYsIHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgcmVhZFNGaXhlZDMyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IHJlYWRJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICAvLyA2NC1iaXQgaW50IGhhbmRsaW5nIGlzIGJhc2VkIG9uIGdpdGh1Yi5jb20vZHB3L25vZGUtYnVmZmVyLW1vcmUtaW50cyAoTUlULWxpY2Vuc2VkKVxuXG4gICAgcmVhZEZpeGVkNjQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsID0gcmVhZFVJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MpICsgcmVhZFVJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MgKyA0KSAqIFNISUZUX0xFRlRfMzI7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfSxcblxuICAgIHJlYWRTRml4ZWQ2NDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWwgPSByZWFkVUludDMyKHRoaXMuYnVmLCB0aGlzLnBvcykgKyByZWFkSW50MzIodGhpcy5idWYsIHRoaXMucG9zICsgNCkgKiBTSElGVF9MRUZUXzMyO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICByZWFkRmxvYXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsID0gaWVlZTc1NC5yZWFkKHRoaXMuYnVmLCB0aGlzLnBvcywgdHJ1ZSwgMjMsIDQpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICByZWFkRG91YmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IGllZWU3NTQucmVhZCh0aGlzLmJ1ZiwgdGhpcy5wb3MsIHRydWUsIDUyLCA4KTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgcmVhZFZhcmludDogZnVuY3Rpb24oaXNTaWduZWQpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IHRoaXMuYnVmLFxuICAgICAgICAgICAgdmFsLCBiO1xuXG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCAgPSAgYiAmIDB4N2Y7ICAgICAgICBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDc7ICBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDE0OyBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDIxOyBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3NdOyAgIHZhbCB8PSAoYiAmIDB4MGYpIDw8IDI4O1xuXG4gICAgICAgIHJldHVybiByZWFkVmFyaW50UmVtYWluZGVyKHZhbCwgaXNTaWduZWQsIHRoaXMpO1xuICAgIH0sXG5cbiAgICByZWFkVmFyaW50NjQ6IGZ1bmN0aW9uKCkgeyAvLyBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHYyLjAuMVxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkVmFyaW50KHRydWUpO1xuICAgIH0sXG5cbiAgICByZWFkU1ZhcmludDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBudW0gPSB0aGlzLnJlYWRWYXJpbnQoKTtcbiAgICAgICAgcmV0dXJuIG51bSAlIDIgPT09IDEgPyAobnVtICsgMSkgLyAtMiA6IG51bSAvIDI7IC8vIHppZ3phZyBlbmNvZGluZ1xuICAgIH0sXG5cbiAgICByZWFkQm9vbGVhbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHRoaXMucmVhZFZhcmludCgpKTtcbiAgICB9LFxuXG4gICAgcmVhZFN0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlbmQgPSB0aGlzLnJlYWRWYXJpbnQoKSArIHRoaXMucG9zO1xuICAgICAgICB2YXIgcG9zID0gdGhpcy5wb3M7XG4gICAgICAgIHRoaXMucG9zID0gZW5kO1xuXG4gICAgICAgIGlmIChlbmQgLSBwb3MgPj0gVEVYVF9ERUNPREVSX01JTl9MRU5HVEggJiYgdXRmOFRleHREZWNvZGVyKSB7XG4gICAgICAgICAgICAvLyBsb25nZXIgc3RyaW5ncyBhcmUgZmFzdCB3aXRoIHRoZSBidWlsdC1pbiBicm93c2VyIFRleHREZWNvZGVyIEFQSVxuICAgICAgICAgICAgcmV0dXJuIHJlYWRVdGY4VGV4dERlY29kZXIodGhpcy5idWYsIHBvcywgZW5kKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzaG9ydCBzdHJpbmdzIGFyZSBmYXN0IHdpdGggb3VyIGN1c3RvbSBpbXBsZW1lbnRhdGlvblxuICAgICAgICByZXR1cm4gcmVhZFV0ZjgodGhpcy5idWYsIHBvcywgZW5kKTtcbiAgICB9LFxuXG4gICAgcmVhZEJ5dGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMucmVhZFZhcmludCgpICsgdGhpcy5wb3MsXG4gICAgICAgICAgICBidWZmZXIgPSB0aGlzLmJ1Zi5zdWJhcnJheSh0aGlzLnBvcywgZW5kKTtcbiAgICAgICAgdGhpcy5wb3MgPSBlbmQ7XG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfSxcblxuICAgIC8vIHZlcmJvc2UgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM7IGRvZXNuJ3QgYWZmZWN0IGd6aXBwZWQgc2l6ZVxuXG4gICAgcmVhZFBhY2tlZFZhcmludDogZnVuY3Rpb24oYXJyLCBpc1NpZ25lZCkge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRWYXJpbnQoaXNTaWduZWQpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRWYXJpbnQoaXNTaWduZWQpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWRTVmFyaW50OiBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZEJvb2xlYW46IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICByZWFkUGFja2VkRmxvYXQ6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWREb3VibGU6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7XG4gICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuICAgICAgICBhcnIgPSBhcnIgfHwgW107XG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkRG91YmxlKCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZEZpeGVkMzI6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICByZWFkUGFja2VkU0ZpeGVkMzI6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWRGaXhlZDY0OiBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRGaXhlZDY0KCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZFNGaXhlZDY0OiBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7XG4gICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuICAgICAgICBhcnIgPSBhcnIgfHwgW107XG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcblxuICAgIHNraXA6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB2YXIgdHlwZSA9IHZhbCAmIDB4NztcbiAgICAgICAgaWYgKHR5cGUgPT09IFBiZi5WYXJpbnQpIHdoaWxlICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA+IDB4N2YpIHt9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFBiZi5CeXRlcykgdGhpcy5wb3MgPSB0aGlzLnJlYWRWYXJpbnQoKSArIHRoaXMucG9zO1xuICAgICAgICBlbHNlIGlmICh0eXBlID09PSBQYmYuRml4ZWQzMikgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gUGJmLkZpeGVkNjQpIHRoaXMucG9zICs9IDg7XG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmltcGxlbWVudGVkIHR5cGU6ICcgKyB0eXBlKTtcbiAgICB9LFxuXG4gICAgLy8gPT09IFdSSVRJTkcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHdyaXRlVGFnOiBmdW5jdGlvbih0YWcsIHR5cGUpIHtcbiAgICAgICAgdGhpcy53cml0ZVZhcmludCgodGFnIDw8IDMpIHwgdHlwZSk7XG4gICAgfSxcblxuICAgIHJlYWxsb2M6IGZ1bmN0aW9uKG1pbikge1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfHwgMTY7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aCA8IHRoaXMucG9zICsgbWluKSBsZW5ndGggKj0gMjtcblxuICAgICAgICBpZiAobGVuZ3RoICE9PSB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgICAgICAgICBidWYuc2V0KHRoaXMuYnVmKTtcbiAgICAgICAgICAgIHRoaXMuYnVmID0gYnVmO1xuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLnBvcztcbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcy5idWYuc3ViYXJyYXkoMCwgdGhpcy5sZW5ndGgpO1xuICAgIH0sXG5cbiAgICB3cml0ZUZpeGVkMzI6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLnJlYWxsb2MoNCk7XG4gICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIHZhbCwgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH0sXG5cbiAgICB3cml0ZVNGaXhlZDMyOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5yZWFsbG9jKDQpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCB2YWwsIHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICB9LFxuXG4gICAgd3JpdGVGaXhlZDY0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5yZWFsbG9jKDgpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCB2YWwgJiAtMSwgdGhpcy5wb3MpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCBNYXRoLmZsb29yKHZhbCAqIFNISUZUX1JJR0hUXzMyKSwgdGhpcy5wb3MgKyA0KTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICB9LFxuXG4gICAgd3JpdGVTRml4ZWQ2NDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMucmVhbGxvYyg4KTtcbiAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgdmFsICYgLTEsIHRoaXMucG9zKTtcbiAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgTWF0aC5mbG9vcih2YWwgKiBTSElGVF9SSUdIVF8zMiksIHRoaXMucG9zICsgNCk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgfSxcblxuICAgIHdyaXRlVmFyaW50OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdmFsID0gK3ZhbCB8fCAwO1xuXG4gICAgICAgIGlmICh2YWwgPiAweGZmZmZmZmYgfHwgdmFsIDwgMCkge1xuICAgICAgICAgICAgd3JpdGVCaWdWYXJpbnQodmFsLCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVhbGxvYyg0KTtcblxuICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9ICAgICAgICAgICB2YWwgJiAweDdmICB8ICh2YWwgPiAweDdmID8gMHg4MCA6IDApOyBpZiAodmFsIDw9IDB4N2YpIHJldHVybjtcbiAgICAgICAgdGhpcy5idWZbdGhpcy5wb3MrK10gPSAoKHZhbCA+Pj49IDcpICYgMHg3ZikgfCAodmFsID4gMHg3ZiA/IDB4ODAgOiAwKTsgaWYgKHZhbCA8PSAweDdmKSByZXR1cm47XG4gICAgICAgIHRoaXMuYnVmW3RoaXMucG9zKytdID0gKCh2YWwgPj4+PSA3KSAmIDB4N2YpIHwgKHZhbCA+IDB4N2YgPyAweDgwIDogMCk7IGlmICh2YWwgPD0gMHg3ZikgcmV0dXJuO1xuICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9ICAgKHZhbCA+Pj4gNykgJiAweDdmO1xuICAgIH0sXG5cbiAgICB3cml0ZVNWYXJpbnQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50KHZhbCA8IDAgPyAtdmFsICogMiAtIDEgOiB2YWwgKiAyKTtcbiAgICB9LFxuXG4gICAgd3JpdGVCb29sZWFuOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVZhcmludChCb29sZWFuKHZhbCkpO1xuICAgIH0sXG5cbiAgICB3cml0ZVN0cmluZzogZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHN0ciA9IFN0cmluZyhzdHIpO1xuICAgICAgICB0aGlzLnJlYWxsb2Moc3RyLmxlbmd0aCAqIDQpO1xuXG4gICAgICAgIHRoaXMucG9zKys7IC8vIHJlc2VydmUgMSBieXRlIGZvciBzaG9ydCBzdHJpbmcgbGVuZ3RoXG5cbiAgICAgICAgdmFyIHN0YXJ0UG9zID0gdGhpcy5wb3M7XG4gICAgICAgIC8vIHdyaXRlIHRoZSBzdHJpbmcgZGlyZWN0bHkgdG8gdGhlIGJ1ZmZlciBhbmQgc2VlIGhvdyBtdWNoIHdhcyB3cml0dGVuXG4gICAgICAgIHRoaXMucG9zID0gd3JpdGVVdGY4KHRoaXMuYnVmLCBzdHIsIHRoaXMucG9zKTtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMucG9zIC0gc3RhcnRQb3M7XG5cbiAgICAgICAgaWYgKGxlbiA+PSAweDgwKSBtYWtlUm9vbUZvckV4dHJhTGVuZ3RoKHN0YXJ0UG9zLCBsZW4sIHRoaXMpO1xuXG4gICAgICAgIC8vIGZpbmFsbHksIHdyaXRlIHRoZSBtZXNzYWdlIGxlbmd0aCBpbiB0aGUgcmVzZXJ2ZWQgcGxhY2UgYW5kIHJlc3RvcmUgdGhlIHBvc2l0aW9uXG4gICAgICAgIHRoaXMucG9zID0gc3RhcnRQb3MgLSAxO1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50KGxlbik7XG4gICAgICAgIHRoaXMucG9zICs9IGxlbjtcbiAgICB9LFxuXG4gICAgd3JpdGVGbG9hdDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMucmVhbGxvYyg0KTtcbiAgICAgICAgaWVlZTc1NC53cml0ZSh0aGlzLmJ1ZiwgdmFsLCB0aGlzLnBvcywgdHJ1ZSwgMjMsIDQpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH0sXG5cbiAgICB3cml0ZURvdWJsZTogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMucmVhbGxvYyg4KTtcbiAgICAgICAgaWVlZTc1NC53cml0ZSh0aGlzLmJ1ZiwgdmFsLCB0aGlzLnBvcywgdHJ1ZSwgNTIsIDgpO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgIH0sXG5cbiAgICB3cml0ZUJ5dGVzOiBmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgICAgdmFyIGxlbiA9IGJ1ZmZlci5sZW5ndGg7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQobGVuKTtcbiAgICAgICAgdGhpcy5yZWFsbG9jKGxlbik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHRoaXMuYnVmW3RoaXMucG9zKytdID0gYnVmZmVyW2ldO1xuICAgIH0sXG5cbiAgICB3cml0ZVJhd01lc3NhZ2U6IGZ1bmN0aW9uKGZuLCBvYmopIHtcbiAgICAgICAgdGhpcy5wb3MrKzsgLy8gcmVzZXJ2ZSAxIGJ5dGUgZm9yIHNob3J0IG1lc3NhZ2UgbGVuZ3RoXG5cbiAgICAgICAgLy8gd3JpdGUgdGhlIG1lc3NhZ2UgZGlyZWN0bHkgdG8gdGhlIGJ1ZmZlciBhbmQgc2VlIGhvdyBtdWNoIHdhcyB3cml0dGVuXG4gICAgICAgIHZhciBzdGFydFBvcyA9IHRoaXMucG9zO1xuICAgICAgICBmbihvYmosIHRoaXMpO1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5wb3MgLSBzdGFydFBvcztcblxuICAgICAgICBpZiAobGVuID49IDB4ODApIG1ha2VSb29tRm9yRXh0cmFMZW5ndGgoc3RhcnRQb3MsIGxlbiwgdGhpcyk7XG5cbiAgICAgICAgLy8gZmluYWxseSwgd3JpdGUgdGhlIG1lc3NhZ2UgbGVuZ3RoIGluIHRoZSByZXNlcnZlZCBwbGFjZSBhbmQgcmVzdG9yZSB0aGUgcG9zaXRpb25cbiAgICAgICAgdGhpcy5wb3MgPSBzdGFydFBvcyAtIDE7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQobGVuKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gbGVuO1xuICAgIH0sXG5cbiAgICB3cml0ZU1lc3NhZ2U6IGZ1bmN0aW9uKHRhZywgZm4sIG9iaikge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcbiAgICAgICAgdGhpcy53cml0ZVJhd01lc3NhZ2UoZm4sIG9iaik7XG4gICAgfSxcblxuICAgIHdyaXRlUGFja2VkVmFyaW50OiAgIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkVmFyaW50LCBhcnIpOyAgIH0sXG4gICAgd3JpdGVQYWNrZWRTVmFyaW50OiAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRTVmFyaW50LCBhcnIpOyAgfSxcbiAgICB3cml0ZVBhY2tlZEJvb2xlYW46ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZEJvb2xlYW4sIGFycik7ICB9LFxuICAgIHdyaXRlUGFja2VkRmxvYXQ6ICAgIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkRmxvYXQsIGFycik7ICAgIH0sXG4gICAgd3JpdGVQYWNrZWREb3VibGU6ICAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWREb3VibGUsIGFycik7ICAgfSxcbiAgICB3cml0ZVBhY2tlZEZpeGVkMzI6ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZEZpeGVkMzIsIGFycik7ICB9LFxuICAgIHdyaXRlUGFja2VkU0ZpeGVkMzI6IGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkU0ZpeGVkMzIsIGFycik7IH0sXG4gICAgd3JpdGVQYWNrZWRGaXhlZDY0OiAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRGaXhlZDY0LCBhcnIpOyAgfSxcbiAgICB3cml0ZVBhY2tlZFNGaXhlZDY0OiBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZFNGaXhlZDY0LCBhcnIpOyB9LFxuXG4gICAgd3JpdGVCeXRlc0ZpZWxkOiBmdW5jdGlvbih0YWcsIGJ1ZmZlcikge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcbiAgICAgICAgdGhpcy53cml0ZUJ5dGVzKGJ1ZmZlcik7XG4gICAgfSxcbiAgICB3cml0ZUZpeGVkMzJGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDMyKTtcbiAgICAgICAgdGhpcy53cml0ZUZpeGVkMzIodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlU0ZpeGVkMzJGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDMyKTtcbiAgICAgICAgdGhpcy53cml0ZVNGaXhlZDMyKHZhbCk7XG4gICAgfSxcbiAgICB3cml0ZUZpeGVkNjRGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDY0KTtcbiAgICAgICAgdGhpcy53cml0ZUZpeGVkNjQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlU0ZpeGVkNjRGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDY0KTtcbiAgICAgICAgdGhpcy53cml0ZVNGaXhlZDY0KHZhbCk7XG4gICAgfSxcbiAgICB3cml0ZVZhcmludEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLlZhcmludCk7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlU1ZhcmludEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLlZhcmludCk7XG4gICAgICAgIHRoaXMud3JpdGVTVmFyaW50KHZhbCk7XG4gICAgfSxcbiAgICB3cml0ZVN0cmluZ0ZpZWxkOiBmdW5jdGlvbih0YWcsIHN0cikge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcbiAgICAgICAgdGhpcy53cml0ZVN0cmluZyhzdHIpO1xuICAgIH0sXG4gICAgd3JpdGVGbG9hdEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkMzIpO1xuICAgICAgICB0aGlzLndyaXRlRmxvYXQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlRG91YmxlRmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuRml4ZWQ2NCk7XG4gICAgICAgIHRoaXMud3JpdGVEb3VibGUodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlQm9vbGVhbkZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50RmllbGQodGFnLCBCb29sZWFuKHZhbCkpO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIHJlYWRWYXJpbnRSZW1haW5kZXIobCwgcywgcCkge1xuICAgIHZhciBidWYgPSBwLmJ1ZixcbiAgICAgICAgaCwgYjtcblxuICAgIGIgPSBidWZbcC5wb3MrK107IGggID0gKGIgJiAweDcwKSA+PiA0OyAgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG4gICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4N2YpIDw8IDM7ICBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcbiAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHg3ZikgPDwgMTA7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuICAgIGIgPSBidWZbcC5wb3MrK107IGggfD0gKGIgJiAweDdmKSA8PCAxNzsgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG4gICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4N2YpIDw8IDI0OyBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcbiAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHgwMSkgPDwgMzE7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB2YXJpbnQgbm90IG1vcmUgdGhhbiAxMCBieXRlcycpO1xufVxuXG5mdW5jdGlvbiByZWFkUGFja2VkRW5kKHBiZikge1xuICAgIHJldHVybiBwYmYudHlwZSA9PT0gUGJmLkJ5dGVzID9cbiAgICAgICAgcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MgOiBwYmYucG9zICsgMTtcbn1cblxuZnVuY3Rpb24gdG9OdW0obG93LCBoaWdoLCBpc1NpZ25lZCkge1xuICAgIGlmIChpc1NpZ25lZCkge1xuICAgICAgICByZXR1cm4gaGlnaCAqIDB4MTAwMDAwMDAwICsgKGxvdyA+Pj4gMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgoaGlnaCA+Pj4gMCkgKiAweDEwMDAwMDAwMCkgKyAobG93ID4+PiAwKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVCaWdWYXJpbnQodmFsLCBwYmYpIHtcbiAgICB2YXIgbG93LCBoaWdoO1xuXG4gICAgaWYgKHZhbCA+PSAwKSB7XG4gICAgICAgIGxvdyAgPSAodmFsICUgMHgxMDAwMDAwMDApIHwgMDtcbiAgICAgICAgaGlnaCA9ICh2YWwgLyAweDEwMDAwMDAwMCkgfCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxvdyAgPSB+KC12YWwgJSAweDEwMDAwMDAwMCk7XG4gICAgICAgIGhpZ2ggPSB+KC12YWwgLyAweDEwMDAwMDAwMCk7XG5cbiAgICAgICAgaWYgKGxvdyBeIDB4ZmZmZmZmZmYpIHtcbiAgICAgICAgICAgIGxvdyA9IChsb3cgKyAxKSB8IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb3cgPSAwO1xuICAgICAgICAgICAgaGlnaCA9IChoaWdoICsgMSkgfCAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHZhbCA+PSAweDEwMDAwMDAwMDAwMDAwMDAwIHx8IHZhbCA8IC0weDEwMDAwMDAwMDAwMDAwMDAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignR2l2ZW4gdmFyaW50IGRvZXNuXFwndCBmaXQgaW50byAxMCBieXRlcycpO1xuICAgIH1cblxuICAgIHBiZi5yZWFsbG9jKDEwKTtcblxuICAgIHdyaXRlQmlnVmFyaW50TG93KGxvdywgaGlnaCwgcGJmKTtcbiAgICB3cml0ZUJpZ1ZhcmludEhpZ2goaGlnaCwgcGJmKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVCaWdWYXJpbnRMb3cobG93LCBoaWdoLCBwYmYpIHtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3NdICAgPSBsb3cgJiAweDdmO1xufVxuXG5mdW5jdGlvbiB3cml0ZUJpZ1ZhcmludEhpZ2goaGlnaCwgcGJmKSB7XG4gICAgdmFyIGxzYiA9IChoaWdoICYgMHgwNykgPDwgNDtcblxuICAgIHBiZi5idWZbcGJmLnBvcysrXSB8PSBsc2IgICAgICAgICB8ICgoaGlnaCA+Pj49IDMpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2YgfCAoKGhpZ2ggPj4+PSA3KSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG4gICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmIHwgKChoaWdoID4+Pj0gNykgPyAweDgwIDogMCk7IGlmICghaGlnaCkgcmV0dXJuO1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSAgPSBoaWdoICYgMHg3ZiB8ICgoaGlnaCA+Pj49IDcpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2YgfCAoKGhpZ2ggPj4+PSA3KSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG4gICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmO1xufVxuXG5mdW5jdGlvbiBtYWtlUm9vbUZvckV4dHJhTGVuZ3RoKHN0YXJ0UG9zLCBsZW4sIHBiZikge1xuICAgIHZhciBleHRyYUxlbiA9XG4gICAgICAgIGxlbiA8PSAweDNmZmYgPyAxIDpcbiAgICAgICAgbGVuIDw9IDB4MWZmZmZmID8gMiA6XG4gICAgICAgIGxlbiA8PSAweGZmZmZmZmYgPyAzIDogTWF0aC5mbG9vcihNYXRoLmxvZyhsZW4pIC8gKE1hdGguTE4yICogNykpO1xuXG4gICAgLy8gaWYgMSBieXRlIGlzbid0IGVub3VnaCBmb3IgZW5jb2RpbmcgbWVzc2FnZSBsZW5ndGgsIHNoaWZ0IHRoZSBkYXRhIHRvIHRoZSByaWdodFxuICAgIHBiZi5yZWFsbG9jKGV4dHJhTGVuKTtcbiAgICBmb3IgKHZhciBpID0gcGJmLnBvcyAtIDE7IGkgPj0gc3RhcnRQb3M7IGktLSkgcGJmLmJ1ZltpICsgZXh0cmFMZW5dID0gcGJmLmJ1ZltpXTtcbn1cblxuZnVuY3Rpb24gd3JpdGVQYWNrZWRWYXJpbnQoYXJyLCBwYmYpICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlVmFyaW50KGFycltpXSk7ICAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRTVmFyaW50KGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU1ZhcmludChhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRGbG9hdChhcnIsIHBiZikgICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRmxvYXQoYXJyW2ldKTsgICAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWREb3VibGUoYXJyLCBwYmYpICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRG91YmxlKGFycltpXSk7ICAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRCb29sZWFuKGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlQm9vbGVhbihhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRGaXhlZDMyKGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRml4ZWQzMihhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRTRml4ZWQzMihhcnIsIHBiZikgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU0ZpeGVkMzIoYXJyW2ldKTsgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRGaXhlZDY0KGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRml4ZWQ2NChhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRTRml4ZWQ2NChhcnIsIHBiZikgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU0ZpeGVkNjQoYXJyW2ldKTsgfVxuXG4vLyBCdWZmZXIgY29kZSBiZWxvdyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyLCBNSVQtbGljZW5zZWRcblxuZnVuY3Rpb24gcmVhZFVJbnQzMihidWYsIHBvcykge1xuICAgIHJldHVybiAoKGJ1Zltwb3NdKSB8XG4gICAgICAgIChidWZbcG9zICsgMV0gPDwgOCkgfFxuICAgICAgICAoYnVmW3BvcyArIDJdIDw8IDE2KSkgK1xuICAgICAgICAoYnVmW3BvcyArIDNdICogMHgxMDAwMDAwKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVJbnQzMihidWYsIHZhbCwgcG9zKSB7XG4gICAgYnVmW3Bvc10gPSB2YWw7XG4gICAgYnVmW3BvcyArIDFdID0gKHZhbCA+Pj4gOCk7XG4gICAgYnVmW3BvcyArIDJdID0gKHZhbCA+Pj4gMTYpO1xuICAgIGJ1Zltwb3MgKyAzXSA9ICh2YWwgPj4+IDI0KTtcbn1cblxuZnVuY3Rpb24gcmVhZEludDMyKGJ1ZiwgcG9zKSB7XG4gICAgcmV0dXJuICgoYnVmW3Bvc10pIHxcbiAgICAgICAgKGJ1Zltwb3MgKyAxXSA8PCA4KSB8XG4gICAgICAgIChidWZbcG9zICsgMl0gPDwgMTYpKSArXG4gICAgICAgIChidWZbcG9zICsgM10gPDwgMjQpO1xufVxuXG5mdW5jdGlvbiByZWFkVXRmOChidWYsIHBvcywgZW5kKSB7XG4gICAgdmFyIHN0ciA9ICcnO1xuICAgIHZhciBpID0gcG9zO1xuXG4gICAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICAgICAgdmFyIGIwID0gYnVmW2ldO1xuICAgICAgICB2YXIgYyA9IG51bGw7IC8vIGNvZGVwb2ludFxuICAgICAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9XG4gICAgICAgICAgICBiMCA+IDB4RUYgPyA0IDpcbiAgICAgICAgICAgIGIwID4gMHhERiA/IDMgOlxuICAgICAgICAgICAgYjAgPiAweEJGID8gMiA6IDE7XG5cbiAgICAgICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlID4gZW5kKSBicmVhaztcblxuICAgICAgICB2YXIgYjEsIGIyLCBiMztcblxuICAgICAgICBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKGIwIDwgMHg4MCkge1xuICAgICAgICAgICAgICAgIGMgPSBiMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChieXRlc1BlclNlcXVlbmNlID09PSAyKSB7XG4gICAgICAgICAgICBiMSA9IGJ1ZltpICsgMV07XG4gICAgICAgICAgICBpZiAoKGIxICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgICAgICBjID0gKGIwICYgMHgxRikgPDwgMHg2IHwgKGIxICYgMHgzRik7XG4gICAgICAgICAgICAgICAgaWYgKGMgPD0gMHg3Rikge1xuICAgICAgICAgICAgICAgICAgICBjID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gMykge1xuICAgICAgICAgICAgYjEgPSBidWZbaSArIDFdO1xuICAgICAgICAgICAgYjIgPSBidWZbaSArIDJdO1xuICAgICAgICAgICAgaWYgKChiMSAmIDB4QzApID09PSAweDgwICYmIChiMiAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICAgICAgYyA9IChiMCAmIDB4RikgPDwgMHhDIHwgKGIxICYgMHgzRikgPDwgMHg2IHwgKGIyICYgMHgzRik7XG4gICAgICAgICAgICAgICAgaWYgKGMgPD0gMHg3RkYgfHwgKGMgPj0gMHhEODAwICYmIGMgPD0gMHhERkZGKSkge1xuICAgICAgICAgICAgICAgICAgICBjID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gNCkge1xuICAgICAgICAgICAgYjEgPSBidWZbaSArIDFdO1xuICAgICAgICAgICAgYjIgPSBidWZbaSArIDJdO1xuICAgICAgICAgICAgYjMgPSBidWZbaSArIDNdO1xuICAgICAgICAgICAgaWYgKChiMSAmIDB4QzApID09PSAweDgwICYmIChiMiAmIDB4QzApID09PSAweDgwICYmIChiMyAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICAgICAgYyA9IChiMCAmIDB4RikgPDwgMHgxMiB8IChiMSAmIDB4M0YpIDw8IDB4QyB8IChiMiAmIDB4M0YpIDw8IDB4NiB8IChiMyAmIDB4M0YpO1xuICAgICAgICAgICAgICAgIGlmIChjIDw9IDB4RkZGRiB8fCBjID49IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjID09PSBudWxsKSB7XG4gICAgICAgICAgICBjID0gMHhGRkZEO1xuICAgICAgICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDE7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjID4gMHhGRkZGKSB7XG4gICAgICAgICAgICBjIC09IDB4MTAwMDA7XG4gICAgICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcbiAgICAgICAgICAgIGMgPSAweERDMDAgfCBjICYgMHgzRkY7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgICAgaSArPSBieXRlc1BlclNlcXVlbmNlO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG59XG5cbmZ1bmN0aW9uIHJlYWRVdGY4VGV4dERlY29kZXIoYnVmLCBwb3MsIGVuZCkge1xuICAgIHJldHVybiB1dGY4VGV4dERlY29kZXIuZGVjb2RlKGJ1Zi5zdWJhcnJheShwb3MsIGVuZCkpO1xufVxuXG5mdW5jdGlvbiB3cml0ZVV0ZjgoYnVmLCBzdHIsIHBvcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBjLCBsZWFkOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKTsgLy8gY29kZSBwb2ludFxuXG4gICAgICAgIGlmIChjID4gMHhEN0ZGICYmIGMgPCAweEUwMDApIHtcbiAgICAgICAgICAgIGlmIChsZWFkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGMgPCAweERDMDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4RUY7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJGO1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRDtcbiAgICAgICAgICAgICAgICAgICAgbGVhZCA9IGM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBsZWFkIC0gMHhEODAwIDw8IDEwIHwgYyAtIDB4REMwMCB8IDB4MTAwMDA7XG4gICAgICAgICAgICAgICAgICAgIGxlYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGMgPiAweERCRkYgfHwgKGkgKyAxID09PSBzdHIubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhFRjtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkY7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxlYWQgPSBjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChsZWFkKSB7XG4gICAgICAgICAgICBidWZbcG9zKytdID0gMHhFRjtcbiAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJGO1xuICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkQ7XG4gICAgICAgICAgICBsZWFkID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgYnVmW3BvcysrXSA9IGM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHg2IHwgMHhDMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGMgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4QyB8IDB4RTA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHgxMiB8IDB4RjA7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4QyAmIDB4M0YgfCAweDgwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gYyA+PiAweDYgJiAweDNGIHwgMHg4MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjICYgMHgzRiB8IDB4ODA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvcztcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9Bc3NlcnRpb25FcnJvclxuICovXG5cbi8qKiBAdHlwZSB7T2JqZWN0PG51bWJlciwgc3RyaW5nPn0gKi9cbmNvbnN0IG1lc3NhZ2VzID0ge1xuICAxOiAnVGhlIHZpZXcgY2VudGVyIGlzIG5vdCBkZWZpbmVkJyxcbiAgMjogJ1RoZSB2aWV3IHJlc29sdXRpb24gaXMgbm90IGRlZmluZWQnLFxuICAzOiAnVGhlIHZpZXcgcm90YXRpb24gaXMgbm90IGRlZmluZWQnLFxuICA0OiAnYGltYWdlYCBhbmQgYHNyY2AgY2Fubm90IGJlIHByb3ZpZGVkIGF0IHRoZSBzYW1lIHRpbWUnLFxuICA1OiAnYGltZ1NpemVgIG11c3QgYmUgc2V0IHdoZW4gYGltYWdlYCBpcyBwcm92aWRlZCcsXG4gIDc6ICdgZm9ybWF0YCBtdXN0IGJlIHNldCB3aGVuIGB1cmxgIGlzIHNldCcsXG4gIDg6ICdVbmtub3duIGBzZXJ2ZXJUeXBlYCBjb25maWd1cmVkJyxcbiAgOTogJ2B1cmxgIG11c3QgYmUgY29uZmlndXJlZCBvciBzZXQgdXNpbmcgYCNzZXRVcmwoKWAnLFxuICAxMDogJ1RoZSBkZWZhdWx0IGBnZW9tZXRyeUZ1bmN0aW9uYCBjYW4gb25seSBoYW5kbGUgYFBvaW50YCBnZW9tZXRyaWVzJyxcbiAgMTE6ICdgb3B0aW9ucy5mZWF0dXJlVHlwZXNgIG11c3QgYmUgYW4gQXJyYXknLFxuICAxMjogJ2BvcHRpb25zLmdlb21ldHJ5TmFtZWAgbXVzdCBhbHNvIGJlIHByb3ZpZGVkIHdoZW4gYG9wdGlvbnMuYmJveGAgaXMgc2V0JyxcbiAgMTM6ICdJbnZhbGlkIGNvcm5lcicsXG4gIDE0OiAnSW52YWxpZCBjb2xvcicsXG4gIDE1OiAnVHJpZWQgdG8gZ2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGNhY2hlJyxcbiAgMTY6ICdUcmllZCB0byBzZXQgYSB2YWx1ZSBmb3IgYSBrZXkgdGhhdCBpcyB1c2VkIGFscmVhZHknLFxuICAxNzogJ2ByZXNvbHV0aW9uc2AgbXVzdCBiZSBzb3J0ZWQgaW4gZGVzY2VuZGluZyBvcmRlcicsXG4gIDE4OiAnRWl0aGVyIGBvcmlnaW5gIG9yIGBvcmlnaW5zYCBtdXN0IGJlIGNvbmZpZ3VyZWQsIG5ldmVyIGJvdGgnLFxuICAxOTogJ051bWJlciBvZiBgdGlsZVNpemVzYCBhbmQgYHJlc29sdXRpb25zYCBtdXN0IGJlIGVxdWFsJyxcbiAgMjA6ICdOdW1iZXIgb2YgYG9yaWdpbnNgIGFuZCBgcmVzb2x1dGlvbnNgIG11c3QgYmUgZXF1YWwnLFxuICAyMjogJ0VpdGhlciBgdGlsZVNpemVgIG9yIGB0aWxlU2l6ZXNgIG11c3QgYmUgY29uZmlndXJlZCwgbmV2ZXIgYm90aCcsXG4gIDI0OiAnSW52YWxpZCBleHRlbnQgb3IgZ2VvbWV0cnkgcHJvdmlkZWQgYXMgYGdlb21ldHJ5YCcsXG4gIDI1OiAnQ2Fubm90IGZpdCBlbXB0eSBleHRlbnQgcHJvdmlkZWQgYXMgYGdlb21ldHJ5YCcsXG4gIDI2OiAnRmVhdHVyZXMgbXVzdCBoYXZlIGFuIGlkIHNldCcsXG4gIDI3OiAnRmVhdHVyZXMgbXVzdCBoYXZlIGFuIGlkIHNldCcsXG4gIDI4OiAnYHJlbmRlck1vZGVgIG11c3QgYmUgYFwiaHlicmlkXCJgIG9yIGBcInZlY3RvclwiYCcsXG4gIDMwOiAnVGhlIHBhc3NlZCBgZmVhdHVyZWAgd2FzIGFscmVhZHkgYWRkZWQgdG8gdGhlIHNvdXJjZScsXG4gIDMxOiAnVHJpZWQgdG8gZW5xdWV1ZSBhbiBgZWxlbWVudGAgdGhhdCB3YXMgYWxyZWFkeSBhZGRlZCB0byB0aGUgcXVldWUnLFxuICAzMjogJ1RyYW5zZm9ybWF0aW9uIG1hdHJpeCBjYW5ub3QgYmUgaW52ZXJ0ZWQnLFxuICAzMzogJ0ludmFsaWQgdW5pdHMnLFxuICAzNDogJ0ludmFsaWQgZ2VvbWV0cnkgbGF5b3V0JyxcbiAgMzY6ICdVbmtub3duIFNSUyB0eXBlJyxcbiAgMzc6ICdVbmtub3duIGdlb21ldHJ5IHR5cGUgZm91bmQnLFxuICAzODogJ2BzdHlsZU1hcFZhbHVlYCBoYXMgYW4gdW5rbm93biB0eXBlJyxcbiAgMzk6ICdVbmtub3duIGdlb21ldHJ5IHR5cGUnLFxuICA0MDogJ0V4cGVjdGVkIGBmZWF0dXJlYCB0byBoYXZlIGEgZ2VvbWV0cnknLFxuICA0MTogJ0V4cGVjdGVkIGFuIGBvbC9zdHlsZS9TdHlsZWAgb3IgYW4gYXJyYXkgb2YgYG9sL3N0eWxlL1N0eWxlLmpzYCcsXG4gIDQyOiAnUXVlc3Rpb24gdW5rbm93biwgdGhlIGFuc3dlciBpcyA0MicsXG4gIDQzOiAnRXhwZWN0ZWQgYGxheWVyc2AgdG8gYmUgYW4gYXJyYXkgb3IgYSBgQ29sbGVjdGlvbmAnLFxuICA0NzogJ0V4cGVjdGVkIGBjb250cm9sc2AgdG8gYmUgYW4gYXJyYXkgb3IgYW4gYG9sL0NvbGxlY3Rpb25gJyxcbiAgNDg6ICdFeHBlY3RlZCBgaW50ZXJhY3Rpb25zYCB0byBiZSBhbiBhcnJheSBvciBhbiBgb2wvQ29sbGVjdGlvbmAnLFxuICA0OTogJ0V4cGVjdGVkIGBvdmVybGF5c2AgdG8gYmUgYW4gYXJyYXkgb3IgYW4gYG9sL0NvbGxlY3Rpb25gJyxcbiAgNTA6ICdgb3B0aW9ucy5mZWF0dXJlVHlwZXNgIHNob3VsZCBiZSBhbiBBcnJheScsXG4gIDUxOiAnRWl0aGVyIGB1cmxgIG9yIGB0aWxlSlNPTmAgb3B0aW9ucyBtdXN0IGJlIHByb3ZpZGVkJyxcbiAgNTI6ICdVbmtub3duIGBzZXJ2ZXJUeXBlYCBjb25maWd1cmVkJyxcbiAgNTM6ICdVbmtub3duIGB0aWVyU2l6ZUNhbGN1bGF0aW9uYCBjb25maWd1cmVkJyxcbiAgNTU6ICdUaGUgey15fSBwbGFjZWhvbGRlciByZXF1aXJlcyBhIHRpbGUgZ3JpZCB3aXRoIGV4dGVudCcsXG4gIDU2OiAnbWFwQnJvd3NlckV2ZW50IG11c3Qgb3JpZ2luYXRlIGZyb20gYSBwb2ludGVyIGV2ZW50JyxcbiAgNTc6ICdBdCBsZWFzdCAyIGNvbmRpdGlvbnMgYXJlIHJlcXVpcmVkJyxcbiAgNTk6ICdJbnZhbGlkIGNvbW1hbmQgZm91bmQgaW4gdGhlIFBCRicsXG4gIDYwOiAnTWlzc2luZyBvciBpbnZhbGlkIGBzaXplYCcsXG4gIDYxOiAnQ2Fubm90IGRldGVybWluZSBJSUlGIEltYWdlIEFQSSB2ZXJzaW9uIGZyb20gcHJvdmlkZWQgaW1hZ2UgaW5mb3JtYXRpb24gSlNPTicsXG4gIDYyOiAnQSBgV2ViR0xBcnJheUJ1ZmZlcmAgbXVzdCBlaXRoZXIgYmUgb2YgdHlwZSBgRUxFTUVOVF9BUlJBWV9CVUZGRVJgIG9yIGBBUlJBWV9CVUZGRVJgJyxcbiAgNjQ6ICdMYXllciBvcGFjaXR5IG11c3QgYmUgYSBudW1iZXInLFxuICA2NjogJ2Bmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZWAgY2Fubm90IGJlIHVzZWQgb24gYSBXZWJHTCBsYXllciBpZiB0aGUgaGl0IGRldGVjdGlvbiBsb2dpYyBoYXMgbm90IGJlZW4gZW5hYmxlZC4gVGhpcyBpcyBkb25lIGJ5IHByb3ZpZGluZyBhZGVxdWF0ZSBzaGFkZXJzIHVzaW5nIHRoZSBgaGl0VmVydGV4U2hhZGVyYCBhbmQgYGhpdEZyYWdtZW50U2hhZGVyYCBwcm9wZXJ0aWVzIG9mIGBXZWJHTFBvaW50c0xheWVyUmVuZGVyZXJgJyxcbiAgNjc6ICdBIGxheWVyIGNhbiBvbmx5IGJlIGFkZGVkIHRvIHRoZSBtYXAgb25jZS4gVXNlIGVpdGhlciBgbGF5ZXIuc2V0TWFwKClgIG9yIGBtYXAuYWRkTGF5ZXIoKWAsIG5vdCBib3RoJyxcbiAgNjg6ICdBIFZlY3RvclRpbGUgc291cmNlIGNhbiBvbmx5IGJlIHJlbmRlcmVkIGlmIGl0IGhhcyBhIHByb2plY3Rpb24gY29tcGF0aWJsZSB3aXRoIHRoZSB2aWV3IHByb2plY3Rpb24nLFxuICA2OTogJ2B3aWR0aGAgb3IgYGhlaWdodGAgY2Fubm90IGJlIHByb3ZpZGVkIHRvZ2V0aGVyIHdpdGggYHNjYWxlYCcsXG59O1xuXG4vKipcbiAqIEVycm9yIG9iamVjdCB0aHJvd24gd2hlbiBhbiBhc3NlcnRpb24gZmFpbGVkLiBUaGlzIGlzIGFuIEVDTUEtMjYyIEVycm9yLFxuICogZXh0ZW5kZWQgd2l0aCBhIGBjb2RlYCBwcm9wZXJ0eS5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9FcnJvci5cbiAqL1xuY2xhc3MgQXNzZXJ0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gY29kZSBFcnJvciBjb2RlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29kZSkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBtZXNzYWdlc1tjb2RlXTtcblxuICAgIHN1cGVyKG1lc3NhZ2UpO1xuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZS4gVGhlIG1lYW5pbmcgb2YgdGhlIGNvZGUgY2FuIGJlIGZvdW5kIG9uXG4gICAgICogaHR0cHM6Ly9vcGVubGF5ZXJzLm9yZy9lbi9sYXRlc3QvZG9jL2Vycm9ycy8gKHJlcGxhY2UgYGxhdGVzdGAgd2l0aFxuICAgICAqIHRoZSB2ZXJzaW9uIGZvdW5kIGluIHRoZSBPcGVuTGF5ZXJzIHNjcmlwdCdzIGhlYWRlciBjb21tZW50IGlmIGEgdmVyc2lvblxuICAgICAqIG90aGVyIHRoYW4gdGhlIGxhdGVzdCBpcyB1c2VkKS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZXByZWNhdGVkIG9sL0Fzc2VydGlvbkVycm9yIGFuZCBlcnJvciBjb2RlcyB3aWxsIGJlIHJlbW92ZWQgaW4gdjguMFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLm5hbWUgPSAnQXNzZXJ0aW9uRXJyb3InO1xuXG4gICAgLy8gUmUtYXNzaWduIG1lc3NhZ2UsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vUmljaC1IYXJyaXMvYnVibGUvaXNzdWVzLzQwXG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBc3NlcnRpb25FcnJvcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9EaXNwb3NhYmxlXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBPYmplY3RzIHRoYXQgbmVlZCB0byBjbGVhbiB1cCBhZnRlciB0aGVtc2VsdmVzLlxuICovXG5jbGFzcyBEaXNwb3NhYmxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdCBoYXMgYWxyZWFkeSBiZWVuIGRpc3Bvc2VkLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLmRpc3Bvc2VkID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAuXG4gICAqL1xuICBkaXNwb3NlKCkge1xuICAgIGlmICghdGhpcy5kaXNwb3NlZCkge1xuICAgICAgdGhpcy5kaXNwb3NlZCA9IHRydWU7XG4gICAgICB0aGlzLmRpc3Bvc2VJbnRlcm5hbCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRlbnNpb24gcG9pbnQgZm9yIGRpc3Bvc2FibGUgb2JqZWN0cy5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZGlzcG9zZUludGVybmFsKCkge31cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGlzcG9zYWJsZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9JbWFnZVxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW1hZ2VCYXNlIGZyb20gJy4vSW1hZ2VCYXNlLmpzJztcbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQge0lNQUdFX0RFQ09ERX0gZnJvbSAnLi9oYXMuanMnO1xuaW1wb3J0IHtnZXRIZWlnaHR9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7bGlzdGVuT25jZSwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi9ldmVudHMuanMnO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL0ltYWdlfkltYWdlV3JhcHBlcn0gZm9yIHRoZSBpbWFnZSBhbmQgYVxuICogYHtzdHJpbmd9YCBmb3IgdGhlIHNyYyBhcyBhcmd1bWVudHMuIEl0IGlzIHN1cHBvc2VkIHRvIG1ha2UgaXQgc28gdGhlXG4gKiB1bmRlcmx5aW5nIGltYWdlIHtAbGluayBtb2R1bGU6b2wvSW1hZ2V+SW1hZ2VXcmFwcGVyI2dldEltYWdlfSBpcyBhc3NpZ25lZCB0aGVcbiAqIGNvbnRlbnQgc3BlY2lmaWVkIGJ5IHRoZSBzcmMuIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBkZWZhdWx0IGlzXG4gKlxuICogICAgIGZ1bmN0aW9uKGltYWdlLCBzcmMpIHtcbiAqICAgICAgIGltYWdlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogICAgIH1cbiAqXG4gKiBQcm92aWRpbmcgYSBjdXN0b20gYGltYWdlTG9hZEZ1bmN0aW9uYCBjYW4gYmUgdXNlZnVsIHRvIGxvYWQgaW1hZ2VzIHdpdGhcbiAqIHBvc3QgcmVxdWVzdHMgb3IgLSBpbiBnZW5lcmFsIC0gdGhyb3VnaCBYSFIgcmVxdWVzdHMsIHdoZXJlIHRoZSBzcmMgb2YgdGhlXG4gKiBpbWFnZSBlbGVtZW50IHdvdWxkIGJlIHNldCB0byBhIGRhdGEgVVJJIHdoZW4gdGhlIGNvbnRlbnQgaXMgbG9hZGVkLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihJbWFnZVdyYXBwZXIsIHN0cmluZyk6IHZvaWR9IExvYWRGdW5jdGlvblxuICogQGFwaVxuICovXG5cbmNsYXNzIEltYWdlV3JhcHBlciBleHRlbmRzIEltYWdlQmFzZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIEltYWdlIHNvdXJjZSBVUkkuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuICAgKiBAcGFyYW0ge0xvYWRGdW5jdGlvbn0gaW1hZ2VMb2FkRnVuY3Rpb24gSW1hZ2UgbG9hZCBmdW5jdGlvbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIGV4dGVudCxcbiAgICByZXNvbHV0aW9uLFxuICAgIHBpeGVsUmF0aW8sXG4gICAgc3JjLFxuICAgIGNyb3NzT3JpZ2luLFxuICAgIGltYWdlTG9hZEZ1bmN0aW9uXG4gICkge1xuICAgIHN1cGVyKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgSW1hZ2VTdGF0ZS5JRExFKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnNyY18gPSBzcmM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZV8gPSBuZXcgSW1hZ2UoKTtcbiAgICBpZiAoY3Jvc3NPcmlnaW4gIT09IG51bGwpIHtcbiAgICAgIHRoaXMuaW1hZ2VfLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2Z1bmN0aW9uKCk6dm9pZH1cbiAgICAgKi9cbiAgICB0aGlzLnVubGlzdGVuXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLklETEU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtMb2FkRnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5pbWFnZUxvYWRGdW5jdGlvbl8gPSBpbWFnZUxvYWRGdW5jdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IEltYWdlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRJbWFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZV87XG4gIH1cblxuICAvKipcbiAgICogVHJhY2tzIGxvYWRpbmcgb3IgcmVhZCBlcnJvcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVJbWFnZUVycm9yXygpIHtcbiAgICB0aGlzLnN0YXRlID0gSW1hZ2VTdGF0ZS5FUlJPUjtcbiAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogVHJhY2tzIHN1Y2Nlc3NmdWwgaW1hZ2UgbG9hZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUltYWdlTG9hZF8oKSB7XG4gICAgaWYgKHRoaXMucmVzb2x1dGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnJlc29sdXRpb24gPSBnZXRIZWlnaHQodGhpcy5leHRlbnQpIC8gdGhpcy5pbWFnZV8uaGVpZ2h0O1xuICAgIH1cbiAgICB0aGlzLnN0YXRlID0gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgdGhlIGltYWdlIG9yIHJldHJ5IGlmIGxvYWRpbmcgcHJldmlvdXNseSBmYWlsZWQuXG4gICAqIExvYWRpbmcgaXMgdGFrZW4gY2FyZSBvZiBieSB0aGUgdGlsZSBxdWV1ZSwgYW5kIGNhbGxpbmcgdGhpcyBtZXRob2QgaXNcbiAgICogb25seSBuZWVkZWQgZm9yIHByZWxvYWRpbmcgb3IgZm9yIHJlbG9hZGluZyBpbiBjYXNlIG9mIGFuIGVycm9yLlxuICAgKiBAYXBpXG4gICAqL1xuICBsb2FkKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuSURMRSB8fCB0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLkxPQURJTkc7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgIHRoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fKHRoaXMsIHRoaXMuc3JjXyk7XG4gICAgICB0aGlzLnVubGlzdGVuXyA9IGxpc3RlbkltYWdlKFxuICAgICAgICB0aGlzLmltYWdlXyxcbiAgICAgICAgdGhpcy5oYW5kbGVJbWFnZUxvYWRfLmJpbmQodGhpcyksXG4gICAgICAgIHRoaXMuaGFuZGxlSW1hZ2VFcnJvcl8uYmluZCh0aGlzKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICAgKi9cbiAgc2V0SW1hZ2UoaW1hZ2UpIHtcbiAgICB0aGlzLmltYWdlXyA9IGltYWdlO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IGdldEhlaWdodCh0aGlzLmV4dGVudCkgLyB0aGlzLmltYWdlXy5oZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogRGlzY2FyZHMgZXZlbnQgaGFuZGxlcnMgd2hpY2ggbGlzdGVuIGZvciBsb2FkIGNvbXBsZXRpb24gb3IgZXJyb3JzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdW5saXN0ZW5JbWFnZV8oKSB7XG4gICAgaWYgKHRoaXMudW5saXN0ZW5fKSB7XG4gICAgICB0aGlzLnVubGlzdGVuXygpO1xuICAgICAgdGhpcy51bmxpc3Rlbl8gPSBudWxsO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBpbWFnZSBJbWFnZSBlbGVtZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbigpOmFueX0gbG9hZEhhbmRsZXIgTG9hZCBjYWxsYmFjayBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKTphbnl9IGVycm9ySGFuZGxlciBFcnJvciBjYWxsYmFjayBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKCk6dm9pZH0gQ2FsbGJhY2sgdG8gc3RvcCBsaXN0ZW5pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5JbWFnZShpbWFnZSwgbG9hZEhhbmRsZXIsIGVycm9ySGFuZGxlcikge1xuICBjb25zdCBpbWcgPSAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR9ICovIChpbWFnZSk7XG4gIGxldCBsaXN0ZW5pbmcgPSB0cnVlO1xuICBsZXQgZGVjb2RpbmcgPSBmYWxzZTtcbiAgbGV0IGxvYWRlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IGxpc3RlbmVyS2V5cyA9IFtcbiAgICBsaXN0ZW5PbmNlKGltZywgRXZlbnRUeXBlLkxPQUQsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxvYWRlZCA9IHRydWU7XG4gICAgICBpZiAoIWRlY29kaW5nKSB7XG4gICAgICAgIGxvYWRIYW5kbGVyKCk7XG4gICAgICB9XG4gICAgfSksXG4gIF07XG5cbiAgaWYgKGltZy5zcmMgJiYgSU1BR0VfREVDT0RFKSB7XG4gICAgZGVjb2RpbmcgPSB0cnVlO1xuICAgIGltZ1xuICAgICAgLmRlY29kZSgpXG4gICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChsaXN0ZW5pbmcpIHtcbiAgICAgICAgICBsb2FkSGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAobGlzdGVuaW5nKSB7XG4gICAgICAgICAgaWYgKGxvYWRlZCkge1xuICAgICAgICAgICAgbG9hZEhhbmRsZXIoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3JIYW5kbGVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBsaXN0ZW5lcktleXMucHVzaChsaXN0ZW5PbmNlKGltZywgRXZlbnRUeXBlLkVSUk9SLCBlcnJvckhhbmRsZXIpKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiB1bmxpc3RlbigpIHtcbiAgICBsaXN0ZW5pbmcgPSBmYWxzZTtcbiAgICBsaXN0ZW5lcktleXMuZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VXcmFwcGVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0ltYWdlU3RhdGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgSURMRTogMCxcbiAgTE9BRElORzogMSxcbiAgTE9BREVEOiAyLFxuICBFUlJPUjogMyxcbiAgRU1QVFk6IDQsXG59O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0ltYWdlVGlsZVxuICovXG5pbXBvcnQgVGlsZSBmcm9tICcuL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHtsaXN0ZW5JbWFnZX0gZnJvbSAnLi9JbWFnZS5qcyc7XG5cbmNsYXNzIEltYWdlVGlsZSBleHRlbmRzIFRpbGUge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH0gc3RhdGUgU3RhdGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgSW1hZ2Ugc291cmNlIFVSSS5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gdGlsZUxvYWRGdW5jdGlvbiBUaWxlIGxvYWQgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLk9wdGlvbnN9IFtvcHRpb25zXSBUaWxlIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0aWxlQ29vcmQsIHN0YXRlLCBzcmMsIGNyb3NzT3JpZ2luLCB0aWxlTG9hZEZ1bmN0aW9uLCBvcHRpb25zKSB7XG4gICAgc3VwZXIodGlsZUNvb3JkLCBzdGF0ZSwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuY3Jvc3NPcmlnaW5fID0gY3Jvc3NPcmlnaW47XG5cbiAgICAvKipcbiAgICAgKiBJbWFnZSBVUklcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnNyY18gPSBzcmM7XG5cbiAgICB0aGlzLmtleSA9IHNyYztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZV8gPSBuZXcgSW1hZ2UoKTtcbiAgICBpZiAoY3Jvc3NPcmlnaW4gIT09IG51bGwpIHtcbiAgICAgIHRoaXMuaW1hZ2VfLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2Z1bmN0aW9uKCk6dm9pZH1cbiAgICAgKi9cbiAgICB0aGlzLnVubGlzdGVuXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbl8gPSB0aWxlTG9hZEZ1bmN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgSFRNTCBpbWFnZSBlbGVtZW50IGZvciB0aGlzIHRpbGUgKG1heSBiZSBhIENhbnZhcywgSW1hZ2UsIG9yIFZpZGVvKS5cbiAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBJbWFnZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0SW1hZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYW4gSFRNTCBpbWFnZSBlbGVtZW50IGZvciB0aGlzIHRpbGUgKG1heSBiZSBhIENhbnZhcyBvciBwcmVsb2FkZWQgSW1hZ2UpLlxuICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudC5cbiAgICovXG4gIHNldEltYWdlKGVsZW1lbnQpIHtcbiAgICB0aGlzLmltYWdlXyA9IGVsZW1lbnQ7XG4gICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5MT0FERUQ7XG4gICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYWNrcyBsb2FkaW5nIG9yIHJlYWQgZXJyb3JzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlSW1hZ2VFcnJvcl8oKSB7XG4gICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FUlJPUjtcbiAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgdGhpcy5pbWFnZV8gPSBnZXRCbGFua0ltYWdlKCk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogVHJhY2tzIHN1Y2Nlc3NmdWwgaW1hZ2UgbG9hZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUltYWdlTG9hZF8oKSB7XG4gICAgY29uc3QgaW1hZ2UgPSAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR9ICovICh0aGlzLmltYWdlXyk7XG4gICAgaWYgKGltYWdlLm5hdHVyYWxXaWR0aCAmJiBpbWFnZS5uYXR1cmFsSGVpZ2h0KSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURFRDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICB9XG4gICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgdGhlIGltYWdlIG9yIHJldHJ5IGlmIGxvYWRpbmcgcHJldmlvdXNseSBmYWlsZWQuXG4gICAqIExvYWRpbmcgaXMgdGFrZW4gY2FyZSBvZiBieSB0aGUgdGlsZSBxdWV1ZSwgYW5kIGNhbGxpbmcgdGhpcyBtZXRob2QgaXNcbiAgICogb25seSBuZWVkZWQgZm9yIHByZWxvYWRpbmcgb3IgZm9yIHJlbG9hZGluZyBpbiBjYXNlIG9mIGFuIGVycm9yLlxuICAgKlxuICAgKiBUbyByZXRyeSBsb2FkaW5nIHRpbGVzIG9uIGZhaWxlZCByZXF1ZXN0cywgdXNlIGEgY3VzdG9tIGB0aWxlTG9hZEZ1bmN0aW9uYFxuICAgKiB0aGF0IGNoZWNrcyBmb3IgZXJyb3Igc3RhdHVzIGNvZGVzIGFuZCByZWxvYWRzIG9ubHkgd2hlbiB0aGUgc3RhdHVzIGNvZGUgaXNcbiAgICogNDA4LCA0MjksIDUwMCwgNTAyLCA1MDMgYW5kIDUwNCwgYW5kIG9ubHkgd2hlbiBub3QgdG9vIG1hbnkgcmV0cmllcyBoYXZlIGJlZW5cbiAgICogbWFkZSBhbHJlYWR5OlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBjb25zdCByZXRyeUNvZGVzID0gWzQwOCwgNDI5LCA1MDAsIDUwMiwgNTAzLCA1MDRdO1xuICAgKiBjb25zdCByZXRyaWVzID0ge307XG4gICAqIHNvdXJjZS5zZXRUaWxlTG9hZEZ1bmN0aW9uKCh0aWxlLCBzcmMpID0+IHtcbiAgICogICBjb25zdCBpbWFnZSA9IHRpbGUuZ2V0SW1hZ2UoKTtcbiAgICogICBmZXRjaChzcmMpXG4gICAqICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICogICAgICAgaWYgKHJldHJ5Q29kZXMuaW5jbHVkZXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgKiAgICAgICAgIHJldHJpZXNbc3JjXSA9IChyZXRyaWVzW3NyY10gfHwgMCkgKyAxO1xuICAgKiAgICAgICAgIGlmIChyZXRyaWVzW3NyY10gPD0gMykge1xuICAgKiAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aWxlLmxvYWQoKSwgcmV0cmllc1tzcmNdICogMTAwMCk7XG4gICAqICAgICAgICAgfVxuICAgKiAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgKiAgICAgICB9XG4gICAqICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAqICAgICB9KVxuICAgKiAgICAgLnRoZW4oKGJsb2IpID0+IHtcbiAgICogICAgICAgY29uc3QgaW1hZ2VVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgKiAgICAgICBpbWFnZS5zcmMgPSBpbWFnZVVybDtcbiAgICogICAgICAgc2V0VGltZW91dCgoKSA9PiBVUkwucmV2b2tlT2JqZWN0VVJMKGltYWdlVXJsKSwgNTAwMCk7XG4gICAqICAgICB9KVxuICAgKiAgICAgLmNhdGNoKCgpID0+IHRpbGUuc2V0U3RhdGUoMykpOyAvLyBlcnJvclxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBhcGlcbiAgICovXG4gIGxvYWQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gVGlsZVN0YXRlLkVSUk9SKSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLklETEU7XG4gICAgICB0aGlzLmltYWdlXyA9IG5ldyBJbWFnZSgpO1xuICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW5fICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VfLmNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpbl87XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURJTkc7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbl8odGhpcywgdGhpcy5zcmNfKTtcbiAgICAgIHRoaXMudW5saXN0ZW5fID0gbGlzdGVuSW1hZ2UoXG4gICAgICAgIHRoaXMuaW1hZ2VfLFxuICAgICAgICB0aGlzLmhhbmRsZUltYWdlTG9hZF8uYmluZCh0aGlzKSxcbiAgICAgICAgdGhpcy5oYW5kbGVJbWFnZUVycm9yXy5iaW5kKHRoaXMpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjYXJkcyBldmVudCBoYW5kbGVycyB3aGljaCBsaXN0ZW4gZm9yIGxvYWQgY29tcGxldGlvbiBvciBlcnJvcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB1bmxpc3RlbkltYWdlXygpIHtcbiAgICBpZiAodGhpcy51bmxpc3Rlbl8pIHtcbiAgICAgIHRoaXMudW5saXN0ZW5fKCk7XG4gICAgICB0aGlzLnVubGlzdGVuXyA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogR2V0IGEgMS1waXhlbCBibGFuayBpbWFnZS5cbiAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBCbGFuayBpbWFnZS5cbiAqL1xuZnVuY3Rpb24gZ2V0QmxhbmtJbWFnZSgpIHtcbiAgY29uc3QgY3R4ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKDEsIDEpO1xuICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMCknO1xuICBjdHguZmlsbFJlY3QoMCwgMCwgMSwgMSk7XG4gIHJldHVybiBjdHguY2FudmFzO1xufVxuXG5leHBvcnQgZGVmYXVsdCBJbWFnZVRpbGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvQ29sbGVjdGlvbkV2ZW50VHlwZVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gYW4gaXRlbSBpcyBhZGRlZCB0byB0aGUgY29sbGVjdGlvbi5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9Db2xsZWN0aW9uLkNvbGxlY3Rpb25FdmVudCNhZGRcbiAgICogQGFwaVxuICAgKi9cbiAgQUREOiAnYWRkJyxcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGFuIGl0ZW0gaXMgcmVtb3ZlZCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL0NvbGxlY3Rpb24uQ29sbGVjdGlvbkV2ZW50I3JlbW92ZVxuICAgKiBAYXBpXG4gICAqL1xuICBSRU1PVkU6ICdyZW1vdmUnLFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9Db2xsZWN0aW9uXG4gKi9cbmltcG9ydCBBc3NlcnRpb25FcnJvciBmcm9tICcuL0Fzc2VydGlvbkVycm9yLmpzJztcbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4vT2JqZWN0LmpzJztcbmltcG9ydCBDb2xsZWN0aW9uRXZlbnRUeXBlIGZyb20gJy4vQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudHMvRXZlbnQuanMnO1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBQcm9wZXJ0eSA9IHtcbiAgTEVOR1RIOiAnbGVuZ3RoJyxcbn07XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mIHRoaXNcbiAqIHR5cGUuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgY2xhc3MgQ29sbGVjdGlvbkV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb25FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBUeXBlLlxuICAgKiBAcGFyYW0ge1R9IGVsZW1lbnQgRWxlbWVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgYWRkZWQgb3IgcmVtb3ZlZCBlbGVtZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSwgZWxlbWVudCwgaW5kZXgpIHtcbiAgICBzdXBlcih0eXBlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBlbGVtZW50IHRoYXQgaXMgYWRkZWQgdG8gb3IgcmVtb3ZlZCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEB0eXBlIHtUfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBhZGRlZCBvciByZW1vdmVkIGVsZW1lbnQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICB9XG59XG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfCdjaGFuZ2U6bGVuZ3RoJywgaW1wb3J0KFwiLi9PYmplY3RcIikuT2JqZWN0RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8J2FkZCd8J3JlbW92ZScsIENvbGxlY3Rpb25FdmVudDxUPiwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfGltcG9ydChcIi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfFxuICogICAgICdjaGFuZ2U6bGVuZ3RoJ3wnYWRkJ3wncmVtb3ZlJyxSZXR1cm4+fSBDb2xsZWN0aW9uT25TaWduYXR1cmVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VuaXF1ZT1mYWxzZV0gRGlzYWxsb3cgdGhlIHNhbWUgaXRlbSBmcm9tIGJlaW5nIGFkZGVkIHRvXG4gKiB0aGUgY29sbGVjdGlvbiB0d2ljZS5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFuIGV4cGFuZGVkIHZlcnNpb24gb2Ygc3RhbmRhcmQgSlMgQXJyYXksIGFkZGluZyBjb252ZW5pZW5jZSBtZXRob2RzIGZvclxuICogbWFuaXB1bGF0aW9uLiBBZGQgYW5kIHJlbW92ZSBjaGFuZ2VzIHRvIHRoZSBDb2xsZWN0aW9uIHRyaWdnZXIgYSBDb2xsZWN0aW9uXG4gKiBldmVudC4gTm90ZSB0aGF0IHRoaXMgZG9lcyBub3QgY292ZXIgY2hhbmdlcyB0byB0aGUgb2JqZWN0cyBfd2l0aGluXyB0aGVcbiAqIENvbGxlY3Rpb247IHRoZXkgdHJpZ2dlciBldmVudHMgb24gdGhlIGFwcHJvcHJpYXRlIG9iamVjdCwgbm90IG9uIHRoZVxuICogQ29sbGVjdGlvbiBhcyBhIHdob2xlLlxuICpcbiAqIEBmaXJlcyBDb2xsZWN0aW9uRXZlbnRcbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQGFwaVxuICovXG5jbGFzcyBDb2xsZWN0aW9uIGV4dGVuZHMgQmFzZU9iamVjdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PFQ+fSBbYXJyYXldIEFycmF5LlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBDb2xsZWN0aW9uIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhcnJheSwgb3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0NvbGxlY3Rpb25PblNpZ25hdHVyZTxULCBpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0NvbGxlY3Rpb25PblNpZ25hdHVyZTxULCBpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbk9uU2lnbmF0dXJlPFQsIHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy51bmlxdWVfID0gISFvcHRpb25zLnVuaXF1ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFBcnJheTxUPn1cbiAgICAgKi9cbiAgICB0aGlzLmFycmF5XyA9IGFycmF5ID8gYXJyYXkgOiBbXTtcblxuICAgIGlmICh0aGlzLnVuaXF1ZV8pIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHRoaXMuYXJyYXlfLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdGhpcy5hc3NlcnRVbmlxdWVfKHRoaXMuYXJyYXlfW2ldLCBpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZUxlbmd0aF8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIGVsZW1lbnRzIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHdoaWxlICh0aGlzLmdldExlbmd0aCgpID4gMCkge1xuICAgICAgdGhpcy5wb3AoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGVsZW1lbnRzIHRvIHRoZSBjb2xsZWN0aW9uLiAgVGhpcyBwdXNoZXMgZWFjaCBpdGVtIGluIHRoZSBwcm92aWRlZCBhcnJheVxuICAgKiB0byB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0geyFBcnJheTxUPn0gYXJyIEFycmF5LlxuICAgKiBAcmV0dXJuIHtDb2xsZWN0aW9uPFQ+fSBUaGlzIGNvbGxlY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGV4dGVuZChhcnIpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBhcnIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgdGhpcy5wdXNoKGFycltpXSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgb3ZlciBlYWNoIGVsZW1lbnQsIGNhbGxpbmcgdGhlIHByb3ZpZGVkIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFQsIG51bWJlciwgQXJyYXk8VD4pOiAqfSBmIFRoZSBmdW5jdGlvbiB0byBjYWxsXG4gICAqICAgICBmb3IgZXZlcnkgZWxlbWVudC4gVGhpcyBmdW5jdGlvbiB0YWtlcyAzIGFyZ3VtZW50cyAodGhlIGVsZW1lbnQsIHRoZVxuICAgKiAgICAgaW5kZXggYW5kIHRoZSBhcnJheSkuIFRoZSByZXR1cm4gdmFsdWUgaXMgaWdub3JlZC5cbiAgICogQGFwaVxuICAgKi9cbiAgZm9yRWFjaChmKSB7XG4gICAgY29uc3QgYXJyYXkgPSB0aGlzLmFycmF5XztcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBhcnJheS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBmKGFycmF5W2ldLCBpLCBhcnJheSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgdW5kZXJseWluZyBBcnJheSBvYmplY3QuIFdhcm5pbmc6IGlmIHRoZSBhcnJheVxuICAgKiBpcyBtdXRhdGVkLCBubyBldmVudHMgd2lsbCBiZSBkaXNwYXRjaGVkIGJ5IHRoZSBjb2xsZWN0aW9uLCBhbmQgdGhlXG4gICAqIGNvbGxlY3Rpb24ncyBcImxlbmd0aFwiIHByb3BlcnR5IHdvbid0IGJlIGluIHN5bmMgd2l0aCB0aGUgYWN0dWFsIGxlbmd0aFxuICAgKiBvZiB0aGUgYXJyYXkuXG4gICAqIEByZXR1cm4geyFBcnJheTxUPn0gQXJyYXkuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEFycmF5KCkge1xuICAgIHJldHVybiB0aGlzLmFycmF5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGVsZW1lbnQgYXQgdGhlIHByb3ZpZGVkIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEByZXR1cm4ge1R9IEVsZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGl0ZW0oaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5hcnJheV9baW5kZXhdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoaXMgY29sbGVjdGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGVuZ3RoIG9mIHRoZSBhcnJheS5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLmdldChQcm9wZXJ0eS5MRU5HVEgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydCBhbiBlbGVtZW50IGF0IHRoZSBwcm92aWRlZCBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgaW5zZXJ0QXQoaW5kZXgsIGVsZW0pIHtcbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5nZXRMZW5ndGgoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmRleCBvdXQgb2YgYm91bmRzOiAnICsgaW5kZXgpO1xuICAgIH1cbiAgICBpZiAodGhpcy51bmlxdWVfKSB7XG4gICAgICB0aGlzLmFzc2VydFVuaXF1ZV8oZWxlbSk7XG4gICAgfVxuICAgIHRoaXMuYXJyYXlfLnNwbGljZShpbmRleCwgMCwgZWxlbSk7XG4gICAgdGhpcy51cGRhdGVMZW5ndGhfKCk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IENvbGxlY3Rpb25FdmVudChDb2xsZWN0aW9uRXZlbnRUeXBlLkFERCwgZWxlbSwgaW5kZXgpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGxhc3QgZWxlbWVudCBvZiB0aGUgY29sbGVjdGlvbiBhbmQgcmV0dXJuIGl0LlxuICAgKiBSZXR1cm4gYHVuZGVmaW5lZGAgaWYgdGhlIGNvbGxlY3Rpb24gaXMgZW1wdHkuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBFbGVtZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBwb3AoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlQXQodGhpcy5nZXRMZW5ndGgoKSAtIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydCB0aGUgcHJvdmlkZWQgZWxlbWVudCBhdCB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBOZXcgbGVuZ3RoIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBwdXNoKGVsZW0pIHtcbiAgICBpZiAodGhpcy51bmlxdWVfKSB7XG4gICAgICB0aGlzLmFzc2VydFVuaXF1ZV8oZWxlbSk7XG4gICAgfVxuICAgIGNvbnN0IG4gPSB0aGlzLmdldExlbmd0aCgpO1xuICAgIHRoaXMuaW5zZXJ0QXQobiwgZWxlbSk7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TGVuZ3RoKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGFuIGVsZW1lbnQgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmVtb3ZlZCBlbGVtZW50IG9yIHVuZGVmaW5lZCBpZiBub25lIGZvdW5kLlxuICAgKiBAYXBpXG4gICAqL1xuICByZW1vdmUoZWxlbSkge1xuICAgIGNvbnN0IGFyciA9IHRoaXMuYXJyYXlfO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGFyci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBpZiAoYXJyW2ldID09PSBlbGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUF0KGkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXggYW5kIHJldHVybiBpdC5cbiAgICogUmV0dXJuIGB1bmRlZmluZWRgIGlmIHRoZSBjb2xsZWN0aW9uIGRvZXMgbm90IGNvbnRhaW4gdGhpcyBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVmFsdWUuXG4gICAqIEBhcGlcbiAgICovXG4gIHJlbW92ZUF0KGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmdldExlbmd0aCgpKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBwcmV2ID0gdGhpcy5hcnJheV9baW5kZXhdO1xuICAgIHRoaXMuYXJyYXlfLnNwbGljZShpbmRleCwgMSk7XG4gICAgdGhpcy51cGRhdGVMZW5ndGhfKCk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgLyoqIEB0eXBlIHtDb2xsZWN0aW9uRXZlbnQ8VD59ICovIChcbiAgICAgICAgbmV3IENvbGxlY3Rpb25FdmVudChDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgcHJldiwgaW5kZXgpXG4gICAgICApXG4gICAgKTtcbiAgICByZXR1cm4gcHJldjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGVsZW1lbnQgYXQgdGhlIHByb3ZpZGVkIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRBdChpbmRleCwgZWxlbSkge1xuICAgIGNvbnN0IG4gPSB0aGlzLmdldExlbmd0aCgpO1xuICAgIGlmIChpbmRleCA+PSBuKSB7XG4gICAgICB0aGlzLmluc2VydEF0KGluZGV4LCBlbGVtKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmRleCBvdXQgb2YgYm91bmRzOiAnICsgaW5kZXgpO1xuICAgIH1cbiAgICBpZiAodGhpcy51bmlxdWVfKSB7XG4gICAgICB0aGlzLmFzc2VydFVuaXF1ZV8oZWxlbSwgaW5kZXgpO1xuICAgIH1cbiAgICBjb25zdCBwcmV2ID0gdGhpcy5hcnJheV9baW5kZXhdO1xuICAgIHRoaXMuYXJyYXlfW2luZGV4XSA9IGVsZW07XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgLyoqIEB0eXBlIHtDb2xsZWN0aW9uRXZlbnQ8VD59ICovIChcbiAgICAgICAgbmV3IENvbGxlY3Rpb25FdmVudChDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgcHJldiwgaW5kZXgpXG4gICAgICApXG4gICAgKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAvKiogQHR5cGUge0NvbGxlY3Rpb25FdmVudDxUPn0gKi8gKFxuICAgICAgICBuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtLCBpbmRleClcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB1cGRhdGVMZW5ndGhfKCkge1xuICAgIHRoaXMuc2V0KFByb3BlcnR5LkxFTkdUSCwgdGhpcy5hcnJheV8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtleGNlcHRdIE9wdGlvbmFsIGluZGV4IHRvIGlnbm9yZS5cbiAgICovXG4gIGFzc2VydFVuaXF1ZV8oZWxlbSwgZXhjZXB0KSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdGhpcy5hcnJheV8ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgaWYgKHRoaXMuYXJyYXlfW2ldID09PSBlbGVtICYmIGkgIT09IGV4Y2VwdCkge1xuICAgICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoNTgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb2xsZWN0aW9uO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL01hcFxuICovXG5pbXBvcnQgRGlzcG9zYWJsZSBmcm9tICcuLi9EaXNwb3NhYmxlLmpzJztcbmltcG9ydCB7VFJVRX0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7YWJzdHJhY3R9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHtjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sIG1ha2VJbnZlcnNlfSBmcm9tICcuLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHtnZXRXaWR0aH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7c2hhcmVkIGFzIGljb25JbWFnZUNhY2hlfSBmcm9tICcuLi9zdHlsZS9JY29uSW1hZ2VDYWNoZS5qcyc7XG5pbXBvcnQge2luVmlld30gZnJvbSAnLi4vbGF5ZXIvTGF5ZXIuanMnO1xuaW1wb3J0IHt3cmFwWH0gZnJvbSAnLi4vY29vcmRpbmF0ZS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYgSGl0TWF0Y2hcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkaXN0YW5jZVNxIFNxdWFyZWQgZGlzdGFuY2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vdmVjdG9yLmpzXCIpLkZlYXR1cmVDYWxsYmFjazxUPn0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKiBAdGVtcGxhdGUgVFxuICovXG5cbi8qKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIE1hcFJlbmRlcmVyIGV4dGVuZHMgRGlzcG9zYWJsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgKi9cbiAgY29uc3RydWN0b3IobWFwKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMubWFwXyA9IG1hcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRUeXBlLmpzXCIpLmRlZmF1bHR9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICovXG4gIGRpc3BhdGNoUmVuZGVyRXZlbnQodHlwZSwgZnJhbWVTdGF0ZSkge1xuICAgIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZVN0YXRlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBjYWxjdWxhdGVNYXRyaWNlczJEKGZyYW1lU3RhdGUpIHtcbiAgICBjb25zdCB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICBjb25zdCBjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSA9IGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm07XG4gICAgY29uc3QgcGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0gPSBmcmFtZVN0YXRlLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtO1xuXG4gICAgY29tcG9zZVRyYW5zZm9ybShcbiAgICAgIGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLFxuICAgICAgZnJhbWVTdGF0ZS5zaXplWzBdIC8gMixcbiAgICAgIGZyYW1lU3RhdGUuc2l6ZVsxXSAvIDIsXG4gICAgICAxIC8gdmlld1N0YXRlLnJlc29sdXRpb24sXG4gICAgICAtMSAvIHZpZXdTdGF0ZS5yZXNvbHV0aW9uLFxuICAgICAgLXZpZXdTdGF0ZS5yb3RhdGlvbixcbiAgICAgIC12aWV3U3RhdGUuY2VudGVyWzBdLFxuICAgICAgLXZpZXdTdGF0ZS5jZW50ZXJbMV1cbiAgICApO1xuXG4gICAgbWFrZUludmVyc2UocGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0sIGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2hlY2tXcmFwcGVkIENoZWNrIGZvciB3cmFwcGVkIGdlb21ldHJpZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi92ZWN0b3IuanNcIikuRmVhdHVyZUNhbGxiYWNrPFQ+fSBjYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge1N9IHRoaXNBcmcgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgY2FsbGJhY2tgLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFUsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBsYXllckZpbHRlciBMYXllciBmaWx0ZXJcbiAgICogICAgIGZ1bmN0aW9uLCBvbmx5IGxheWVycyB3aGljaCBhcmUgdmlzaWJsZSBhbmQgZm9yIHdoaWNoIHRoaXMgZnVuY3Rpb25cbiAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAqICAgICBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gICAqIEBwYXJhbSB7VX0gdGhpc0FyZzIgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgbGF5ZXJGaWx0ZXJgLlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgKiBAdGVtcGxhdGUgUyxULFVcbiAgICovXG4gIGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKFxuICAgIGNvb3JkaW5hdGUsXG4gICAgZnJhbWVTdGF0ZSxcbiAgICBoaXRUb2xlcmFuY2UsXG4gICAgY2hlY2tXcmFwcGVkLFxuICAgIGNhbGxiYWNrLFxuICAgIHRoaXNBcmcsXG4gICAgbGF5ZXJGaWx0ZXIsXG4gICAgdGhpc0FyZzJcbiAgKSB7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBjb25zdCB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbWFuYWdlZCBNYW5hZ2VkIGxheWVyLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUobWFuYWdlZCwgZmVhdHVyZSwgbGF5ZXIsIGdlb21ldHJ5KSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBmZWF0dXJlLCBtYW5hZ2VkID8gbGF5ZXIgOiBudWxsLCBnZW9tZXRyeSk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuXG4gICAgY29uc3QgdHJhbnNsYXRlZENvb3JkaW5hdGUgPSB3cmFwWChjb29yZGluYXRlLnNsaWNlKCksIHByb2plY3Rpb24pO1xuICAgIGNvbnN0IG9mZnNldHMgPSBbWzAsIDBdXTtcbiAgICBpZiAocHJvamVjdGlvbi5jYW5XcmFwWCgpICYmIGNoZWNrV3JhcHBlZCkge1xuICAgICAgY29uc3QgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgICBjb25zdCB3b3JsZFdpZHRoID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgICBvZmZzZXRzLnB1c2goWy13b3JsZFdpZHRoLCAwXSwgW3dvcmxkV2lkdGgsIDBdKTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXllclN0YXRlcyA9IGZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICBjb25zdCBudW1MYXllcnMgPSBsYXllclN0YXRlcy5sZW5ndGg7XG5cbiAgICBjb25zdCBtYXRjaGVzID0gLyoqIEB0eXBlIHtBcnJheTxIaXRNYXRjaDxUPj59ICovIChbXSk7XG4gICAgY29uc3QgdG1wQ29vcmQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9mZnNldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSBudW1MYXllcnMgLSAxOyBqID49IDA7IC0taikge1xuICAgICAgICBjb25zdCBsYXllclN0YXRlID0gbGF5ZXJTdGF0ZXNbal07XG4gICAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJTdGF0ZS5sYXllcjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGxheWVyLmhhc1JlbmRlcmVyKCkgJiZcbiAgICAgICAgICBpblZpZXcobGF5ZXJTdGF0ZSwgdmlld1N0YXRlKSAmJlxuICAgICAgICAgIGxheWVyRmlsdGVyLmNhbGwodGhpc0FyZzIsIGxheWVyKVxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBsYXllclJlbmRlcmVyID0gbGF5ZXIuZ2V0UmVuZGVyZXIoKTtcbiAgICAgICAgICBjb25zdCBzb3VyY2UgPSBsYXllci5nZXRTb3VyY2UoKTtcbiAgICAgICAgICBpZiAobGF5ZXJSZW5kZXJlciAmJiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gc291cmNlLmdldFdyYXBYKClcbiAgICAgICAgICAgICAgPyB0cmFuc2xhdGVkQ29vcmRpbmF0ZVxuICAgICAgICAgICAgICA6IGNvb3JkaW5hdGU7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlLmJpbmQoXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIGxheWVyU3RhdGUubWFuYWdlZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRtcENvb3JkWzBdID0gY29vcmRpbmF0ZXNbMF0gKyBvZmZzZXRzW2ldWzBdO1xuICAgICAgICAgICAgdG1wQ29vcmRbMV0gPSBjb29yZGluYXRlc1sxXSArIG9mZnNldHNbaV1bMV07XG4gICAgICAgICAgICByZXN1bHQgPSBsYXllclJlbmRlcmVyLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKFxuICAgICAgICAgICAgICB0bXBDb29yZCxcbiAgICAgICAgICAgICAgZnJhbWVTdGF0ZSxcbiAgICAgICAgICAgICAgaGl0VG9sZXJhbmNlLFxuICAgICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgICAgbWF0Y2hlc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1hdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBvcmRlciA9IDEgLyBtYXRjaGVzLmxlbmd0aDtcbiAgICBtYXRjaGVzLmZvckVhY2goKG0sIGkpID0+IChtLmRpc3RhbmNlU3EgKz0gaSAqIG9yZGVyKSk7XG4gICAgbWF0Y2hlcy5zb3J0KChhLCBiKSA9PiBhLmRpc3RhbmNlU3EgLSBiLmRpc3RhbmNlU3EpO1xuICAgIG1hdGNoZXMuc29tZSgobSkgPT4ge1xuICAgICAgcmV0dXJuIChyZXN1bHQgPSBtLmNhbGxiYWNrKG0uZmVhdHVyZSwgbS5sYXllciwgbS5nZW9tZXRyeSkpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZVN0YXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNoZWNrV3JhcHBlZCBDaGVjayBmb3Igd3JhcHBlZCBnZW9tZXRyaWVzLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFUsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBsYXllckZpbHRlciBMYXllciBmaWx0ZXJcbiAgICogICAgIGZ1bmN0aW9uLCBvbmx5IGxheWVycyB3aGljaCBhcmUgdmlzaWJsZSBhbmQgZm9yIHdoaWNoIHRoaXMgZnVuY3Rpb25cbiAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAqICAgICBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gICAqIEBwYXJhbSB7VX0gdGhpc0FyZyBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGBsYXllckZpbHRlcmAuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIHRoZXJlIGEgZmVhdHVyZSBhdCB0aGUgZ2l2ZW4gY29vcmRpbmF0ZT9cbiAgICogQHRlbXBsYXRlIFVcbiAgICovXG4gIGhhc0ZlYXR1cmVBdENvb3JkaW5hdGUoXG4gICAgY29vcmRpbmF0ZSxcbiAgICBmcmFtZVN0YXRlLFxuICAgIGhpdFRvbGVyYW5jZSxcbiAgICBjaGVja1dyYXBwZWQsXG4gICAgbGF5ZXJGaWx0ZXIsXG4gICAgdGhpc0FyZ1xuICApIHtcbiAgICBjb25zdCBoYXNGZWF0dXJlID0gdGhpcy5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShcbiAgICAgIGNvb3JkaW5hdGUsXG4gICAgICBmcmFtZVN0YXRlLFxuICAgICAgaGl0VG9sZXJhbmNlLFxuICAgICAgY2hlY2tXcmFwcGVkLFxuICAgICAgVFJVRSxcbiAgICAgIHRoaXMsXG4gICAgICBsYXllckZpbHRlcixcbiAgICAgIHRoaXNBcmdcbiAgICApO1xuXG4gICAgcmV0dXJuIGhhc0ZlYXR1cmUgIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdH0gTWFwLlxuICAgKi9cbiAgZ2V0TWFwKCkge1xuICAgIHJldHVybiB0aGlzLm1hcF87XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqL1xuICByZW5kZXJGcmFtZShmcmFtZVN0YXRlKSB7XG4gICAgYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzY2hlZHVsZUV4cGlyZUljb25DYWNoZShmcmFtZVN0YXRlKSB7XG4gICAgaWYgKGljb25JbWFnZUNhY2hlLmNhbkV4cGlyZUNhY2hlKCkpIHtcbiAgICAgIGZyYW1lU3RhdGUucG9zdFJlbmRlckZ1bmN0aW9ucy5wdXNoKGV4cGlyZUljb25DYWNoZSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gKi9cbmZ1bmN0aW9uIGV4cGlyZUljb25DYWNoZShtYXAsIGZyYW1lU3RhdGUpIHtcbiAgaWNvbkltYWdlQ2FjaGUuZXhwaXJlKCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1hcFJlbmRlcmVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL0NvbXBvc2l0ZVxuICovXG5pbXBvcnQgTWFwUmVuZGVyZXIgZnJvbSAnLi9NYXAuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuLi9PYmplY3RFdmVudFR5cGUuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50IGZyb20gJy4uL3JlbmRlci9FdmVudC5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4uL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtDTEFTU19VTlNFTEVDVEFCTEV9IGZyb20gJy4uL2Nzcy5qcyc7XG5pbXBvcnQge2NoZWNrZWRGb250c30gZnJvbSAnLi4vcmVuZGVyL2NhbnZhcy5qcyc7XG5pbXBvcnQge2luVmlld30gZnJvbSAnLi4vbGF5ZXIvTGF5ZXIuanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXl9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQge3JlcGxhY2VDaGlsZHJlbn0gZnJvbSAnLi4vZG9tLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDYW52YXMgbWFwIHJlbmRlcmVyLlxuICogQGFwaVxuICovXG5jbGFzcyBDb21wb3NpdGVNYXBSZW5kZXJlciBleHRlbmRzIE1hcFJlbmRlcmVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYXApIHtcbiAgICBzdXBlcihtYXApO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICovXG4gICAgdGhpcy5mb250Q2hhbmdlTGlzdGVuZXJLZXlfID0gbGlzdGVuKFxuICAgICAgY2hlY2tlZEZvbnRzLFxuICAgICAgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLFxuICAgICAgbWFwLnJlZHJhd1RleHQuYmluZChtYXApXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxEaXZFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuZWxlbWVudF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuZWxlbWVudF8uc3R5bGU7XG4gICAgc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICBzdHlsZS56SW5kZXggPSAnMCc7XG5cbiAgICB0aGlzLmVsZW1lbnRfLmNsYXNzTmFtZSA9IENMQVNTX1VOU0VMRUNUQUJMRSArICcgb2wtbGF5ZXJzJztcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IG1hcC5nZXRWaWV3cG9ydCgpO1xuICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50XywgY29udGFpbmVyLmZpcnN0Q2hpbGQgfHwgbnVsbCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxIVE1MRWxlbWVudD59XG4gICAgICovXG4gICAgdGhpcy5jaGlsZHJlbl8gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBFdmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKi9cbiAgZGlzcGF0Y2hSZW5kZXJFdmVudCh0eXBlLCBmcmFtZVN0YXRlKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5nZXRNYXAoKTtcbiAgICBpZiAobWFwLmhhc0xpc3RlbmVyKHR5cGUpKSB7XG4gICAgICBjb25zdCBldmVudCA9IG5ldyBSZW5kZXJFdmVudCh0eXBlLCB1bmRlZmluZWQsIGZyYW1lU3RhdGUpO1xuICAgICAgbWFwLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGRpc3Bvc2VJbnRlcm5hbCgpIHtcbiAgICB1bmxpc3RlbkJ5S2V5KHRoaXMuZm9udENoYW5nZUxpc3RlbmVyS2V5Xyk7XG4gICAgdGhpcy5lbGVtZW50Xy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudF8pO1xuICAgIHN1cGVyLmRpc3Bvc2VJbnRlcm5hbCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlci5cbiAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqL1xuICByZW5kZXJGcmFtZShmcmFtZVN0YXRlKSB7XG4gICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICBpZiAodGhpcy5yZW5kZXJlZFZpc2libGVfKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudF8uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jYWxjdWxhdGVNYXRyaWNlczJEKGZyYW1lU3RhdGUpO1xuICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudChSZW5kZXJFdmVudFR5cGUuUFJFQ09NUE9TRSwgZnJhbWVTdGF0ZSk7XG5cbiAgICBjb25zdCBsYXllclN0YXRlc0FycmF5ID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLnpJbmRleCAtIGIuekluZGV4O1xuICAgIH0pO1xuICAgIGNvbnN0IHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuXG4gICAgdGhpcy5jaGlsZHJlbl8ubGVuZ3RoID0gMDtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vbGF5ZXIvQmFzZVZlY3Rvci5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICBjb25zdCBkZWNsdXR0ZXJMYXllcnMgPSBbXTtcbiAgICBsZXQgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBsYXllclN0YXRlc0FycmF5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGNvbnN0IGxheWVyU3RhdGUgPSBsYXllclN0YXRlc0FycmF5W2ldO1xuICAgICAgZnJhbWVTdGF0ZS5sYXllckluZGV4ID0gaTtcblxuICAgICAgY29uc3QgbGF5ZXIgPSBsYXllclN0YXRlLmxheWVyO1xuICAgICAgY29uc3Qgc291cmNlU3RhdGUgPSBsYXllci5nZXRTb3VyY2VTdGF0ZSgpO1xuICAgICAgaWYgKFxuICAgICAgICAhaW5WaWV3KGxheWVyU3RhdGUsIHZpZXdTdGF0ZSkgfHxcbiAgICAgICAgKHNvdXJjZVN0YXRlICE9ICdyZWFkeScgJiYgc291cmNlU3RhdGUgIT0gJ3VuZGVmaW5lZCcpXG4gICAgICApIHtcbiAgICAgICAgbGF5ZXIudW5yZW5kZXIoKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBsYXllci5yZW5kZXIoZnJhbWVTdGF0ZSwgcHJldmlvdXNFbGVtZW50KTtcbiAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtZW50ICE9PSBwcmV2aW91c0VsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbl8ucHVzaChlbGVtZW50KTtcbiAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIH1cbiAgICAgIGlmICgnZ2V0RGVjbHV0dGVyJyBpbiBsYXllcikge1xuICAgICAgICBkZWNsdXR0ZXJMYXllcnMucHVzaChcbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2xheWVyL0Jhc2VWZWN0b3IuanNcIikuZGVmYXVsdH0gKi8gKGxheWVyKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gZGVjbHV0dGVyTGF5ZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBkZWNsdXR0ZXJMYXllcnNbaV0ucmVuZGVyRGVjbHV0dGVyKGZyYW1lU3RhdGUpO1xuICAgIH1cblxuICAgIHJlcGxhY2VDaGlsZHJlbih0aGlzLmVsZW1lbnRfLCB0aGlzLmNoaWxkcmVuXyk7XG5cbiAgICB0aGlzLmRpc3BhdGNoUmVuZGVyRXZlbnQoUmVuZGVyRXZlbnRUeXBlLlBPU1RDT01QT1NFLCBmcmFtZVN0YXRlKTtcblxuICAgIGlmICghdGhpcy5yZW5kZXJlZFZpc2libGVfKSB7XG4gICAgICB0aGlzLmVsZW1lbnRfLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5zY2hlZHVsZUV4cGlyZUljb25DYWNoZShmcmFtZVN0YXRlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb21wb3NpdGVNYXBSZW5kZXJlcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9Hcm91cFxuICovXG5pbXBvcnQgQmFzZUxheWVyIGZyb20gJy4vQmFzZS5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uRXZlbnRUeXBlIGZyb20gJy4uL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuLi9PYmplY3RFdmVudFR5cGUuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtjbGVhcn0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCB7Z2V0SW50ZXJzZWN0aW9ufSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXl9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYgeydhZGRsYXllcid8J3JlbW92ZWxheWVyJ30gRXZlbnRUeXBlXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGxheWVyIGdyb3VwIHRyaWdnZXJzICdhZGRsYXllcicgYW5kICdyZW1vdmVsYXllcicgZXZlbnRzIHdoZW4gbGF5ZXJzIGFyZSBhZGRlZCB0byBvciByZW1vdmVkIGZyb21cbiAqIHRoZSBncm91cCBvciBvbmUgb2YgaXRzIGNoaWxkIGdyb3Vwcy4gIFdoZW4gYSBsYXllciBncm91cCBpcyBhZGRlZCB0byBvciByZW1vdmVkIGZyb20gYW5vdGhlciBsYXllciBncm91cCxcbiAqIGEgc2luZ2xlIGV2ZW50IHdpbGwgYmUgdHJpZ2dlcmVkIChpbnN0ZWFkIG9mIG9uZSBwZXIgbGF5ZXIgaW4gdGhlIGdyb3VwIGFkZGVkIG9yIHJlbW92ZWQpLlxuICovXG5leHBvcnQgY2xhc3MgR3JvdXBFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RXZlbnRUeXBlfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge0Jhc2VMYXllcn0gbGF5ZXIgVGhlIGxheWVyLlxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSwgbGF5ZXIpIHtcbiAgICBzdXBlcih0eXBlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhZGRlZCBvciByZW1vdmVkIGxheWVyLlxuICAgICAqIEB0eXBlIHtCYXNlTGF5ZXJ9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMubGF5ZXIgPSBsYXllcjtcbiAgfVxufVxuXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3xcbiAqICAgICAnY2hhbmdlOmxheWVycycsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi9CYXNlXCIpLkJhc2VMYXllck9iamVjdEV2ZW50VHlwZXN8J2NoYW5nZTpsYXllcnMnLCBSZXR1cm4+fSBHcm91cE9uU2lnbmF0dXJlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fENvbGxlY3Rpb248aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBbbGF5ZXJzXSBDaGlsZCBsYXllcnMuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsICo+fSBbcHJvcGVydGllc10gQXJiaXRyYXJ5IG9ic2VydmFibGUgcHJvcGVydGllcy4gQ2FuIGJlIGFjY2Vzc2VkIHdpdGggYCNnZXQoKWAgYW5kIGAjc2V0KClgLlxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IFByb3BlcnR5ID0ge1xuICBMQVlFUlM6ICdsYXllcnMnLFxufTtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSBvZiBsYXllcnMgdGhhdCBhcmUgaGFuZGxlZCB0b2dldGhlci5cbiAqXG4gKiBBIGdlbmVyaWMgYGNoYW5nZWAgZXZlbnQgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIGdyb3VwL0NvbGxlY3Rpb24gY2hhbmdlcy5cbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIExheWVyR3JvdXAgZXh0ZW5kcyBCYXNlTGF5ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gTGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCBiYXNlT3B0aW9ucyA9IC8qKiBAdHlwZSB7T3B0aW9uc30gKi8gKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpKTtcbiAgICBkZWxldGUgYmFzZU9wdGlvbnMubGF5ZXJzO1xuXG4gICAgbGV0IGxheWVycyA9IG9wdGlvbnMubGF5ZXJzO1xuXG4gICAgc3VwZXIoYmFzZU9wdGlvbnMpO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtHcm91cE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0dyb3VwT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbmNlO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtHcm91cE9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLmxheWVyc0xpc3RlbmVyS2V5c18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIEFycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmxpc3RlbmVyS2V5c18gPSB7fTtcblxuICAgIHRoaXMuYWRkQ2hhbmdlTGlzdGVuZXIoUHJvcGVydHkuTEFZRVJTLCB0aGlzLmhhbmRsZUxheWVyc0NoYW5nZWRfKTtcblxuICAgIGlmIChsYXllcnMpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGxheWVycykpIHtcbiAgICAgICAgbGF5ZXJzID0gbmV3IENvbGxlY3Rpb24obGF5ZXJzLnNsaWNlKCksIHt1bmlxdWU6IHRydWV9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2VydCh0eXBlb2YgKC8qKiBAdHlwZSB7P30gKi8gKGxheWVycykuZ2V0QXJyYXkpID09PSAnZnVuY3Rpb24nLCA0Myk7IC8vIEV4cGVjdGVkIGBsYXllcnNgIHRvIGJlIGFuIGFycmF5IG9yIGEgYENvbGxlY3Rpb25gXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxheWVycyA9IG5ldyBDb2xsZWN0aW9uKHVuZGVmaW5lZCwge3VuaXF1ZTogdHJ1ZX0pO1xuICAgIH1cblxuICAgIHRoaXMuc2V0TGF5ZXJzKGxheWVycyk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUxheWVyQ2hhbmdlXygpIHtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlTGF5ZXJzQ2hhbmdlZF8oKSB7XG4gICAgdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfLmxlbmd0aCA9IDA7XG5cbiAgICBjb25zdCBsYXllcnMgPSB0aGlzLmdldExheWVycygpO1xuICAgIHRoaXMubGF5ZXJzTGlzdGVuZXJLZXlzXy5wdXNoKFxuICAgICAgbGlzdGVuKGxheWVycywgQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIHRoaXMuaGFuZGxlTGF5ZXJzQWRkXywgdGhpcyksXG4gICAgICBsaXN0ZW4obGF5ZXJzLCBDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgdGhpcy5oYW5kbGVMYXllcnNSZW1vdmVfLCB0aGlzKVxuICAgICk7XG5cbiAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMubGlzdGVuZXJLZXlzXykge1xuICAgICAgdGhpcy5saXN0ZW5lcktleXNfW2lkXS5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgIH1cbiAgICBjbGVhcih0aGlzLmxpc3RlbmVyS2V5c18pO1xuXG4gICAgY29uc3QgbGF5ZXJzQXJyYXkgPSBsYXllcnMuZ2V0QXJyYXkoKTtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBsYXllcnNBcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBjb25zdCBsYXllciA9IGxheWVyc0FycmF5W2ldO1xuICAgICAgdGhpcy5yZWdpc3RlckxheWVyTGlzdGVuZXJzXyhsYXllcik7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdyb3VwRXZlbnQoJ2FkZGxheWVyJywgbGF5ZXIpKTtcbiAgICB9XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtCYXNlTGF5ZXJ9IGxheWVyIFRoZSBsYXllci5cbiAgICovXG4gIHJlZ2lzdGVyTGF5ZXJMaXN0ZW5lcnNfKGxheWVyKSB7XG4gICAgY29uc3QgbGlzdGVuZXJLZXlzID0gW1xuICAgICAgbGlzdGVuKFxuICAgICAgICBsYXllcixcbiAgICAgICAgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLFxuICAgICAgICB0aGlzLmhhbmRsZUxheWVyQ2hhbmdlXyxcbiAgICAgICAgdGhpc1xuICAgICAgKSxcbiAgICAgIGxpc3RlbihsYXllciwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVMYXllckNoYW5nZV8sIHRoaXMpLFxuICAgIF07XG5cbiAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMYXllckdyb3VwKSB7XG4gICAgICBsaXN0ZW5lcktleXMucHVzaChcbiAgICAgICAgbGlzdGVuKGxheWVyLCAnYWRkbGF5ZXInLCB0aGlzLmhhbmRsZUxheWVyR3JvdXBBZGRfLCB0aGlzKSxcbiAgICAgICAgbGlzdGVuKGxheWVyLCAncmVtb3ZlbGF5ZXInLCB0aGlzLmhhbmRsZUxheWVyR3JvdXBSZW1vdmVfLCB0aGlzKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLmxpc3RlbmVyS2V5c19bZ2V0VWlkKGxheWVyKV0gPSBsaXN0ZW5lcktleXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtHcm91cEV2ZW50fSBldmVudCBUaGUgbGF5ZXIgZ3JvdXAgZXZlbnQuXG4gICAqL1xuICBoYW5kbGVMYXllckdyb3VwQWRkXyhldmVudCkge1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgR3JvdXBFdmVudCgnYWRkbGF5ZXInLCBldmVudC5sYXllcikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7R3JvdXBFdmVudH0gZXZlbnQgVGhlIGxheWVyIGdyb3VwIGV2ZW50LlxuICAgKi9cbiAgaGFuZGxlTGF5ZXJHcm91cFJlbW92ZV8oZXZlbnQpIHtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdyb3VwRXZlbnQoJ3JlbW92ZWxheWVyJywgZXZlbnQubGF5ZXIpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50PGltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0Pn0gY29sbGVjdGlvbkV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUxheWVyc0FkZF8oY29sbGVjdGlvbkV2ZW50KSB7XG4gICAgY29uc3QgbGF5ZXIgPSBjb2xsZWN0aW9uRXZlbnQuZWxlbWVudDtcbiAgICB0aGlzLnJlZ2lzdGVyTGF5ZXJMaXN0ZW5lcnNfKGxheWVyKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdyb3VwRXZlbnQoJ2FkZGxheWVyJywgbGF5ZXIpKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50PGltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0Pn0gY29sbGVjdGlvbkV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUxheWVyc1JlbW92ZV8oY29sbGVjdGlvbkV2ZW50KSB7XG4gICAgY29uc3QgbGF5ZXIgPSBjb2xsZWN0aW9uRXZlbnQuZWxlbWVudDtcbiAgICBjb25zdCBrZXkgPSBnZXRVaWQobGF5ZXIpO1xuICAgIHRoaXMubGlzdGVuZXJLZXlzX1trZXldLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgZGVsZXRlIHRoaXMubGlzdGVuZXJLZXlzX1trZXldO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgR3JvdXBFdmVudCgncmVtb3ZlbGF5ZXInLCBsYXllcikpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9uIGNvbGxlY3Rpb259IG9mIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIgbGF5ZXJzfVxuICAgKiBpbiB0aGlzIGdyb3VwLlxuICAgKiBAcmV0dXJuIHshQ29sbGVjdGlvbjxpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdD59IENvbGxlY3Rpb24gb2ZcbiAgICogICB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0Jhc2V+QmFzZUxheWVyIGxheWVyc30gdGhhdCBhcmUgcGFydCBvZiB0aGlzIGdyb3VwLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRMYXllcnMoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IUNvbGxlY3Rpb248aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSAqLyAoXG4gICAgICB0aGlzLmdldChQcm9wZXJ0eS5MQVlFUlMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9uIGNvbGxlY3Rpb259IG9mIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIgbGF5ZXJzfVxuICAgKiBpbiB0aGlzIGdyb3VwLlxuICAgKiBAcGFyYW0geyFDb2xsZWN0aW9uPGltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0Pn0gbGF5ZXJzIENvbGxlY3Rpb24gb2ZcbiAgICogICB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0Jhc2V+QmFzZUxheWVyIGxheWVyc30gdGhhdCBhcmUgcGFydCBvZiB0aGlzIGdyb3VwLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRMYXllcnMobGF5ZXJzKSB7XG4gICAgY29uc3QgY29sbGVjdGlvbiA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG4gICAgaWYgKGNvbGxlY3Rpb24pIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRMYXllcnMgPSBjb2xsZWN0aW9uLmdldEFycmF5KCk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBjdXJyZW50TGF5ZXJzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBHcm91cEV2ZW50KCdyZW1vdmVsYXllcicsIGN1cnJlbnRMYXllcnNbaV0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnNldChQcm9wZXJ0eS5MQVlFUlMsIGxheWVycyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBbYXJyYXldIEFycmF5IG9mIGxheWVycyAodG8gYmUgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBBcnJheSBvZiBsYXllcnMuXG4gICAqL1xuICBnZXRMYXllcnNBcnJheShhcnJheSkge1xuICAgIGFycmF5ID0gYXJyYXkgIT09IHVuZGVmaW5lZCA/IGFycmF5IDogW107XG4gICAgdGhpcy5nZXRMYXllcnMoKS5mb3JFYWNoKGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgbGF5ZXIuZ2V0TGF5ZXJzQXJyYXkoYXJyYXkpO1xuICAgIH0pO1xuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxheWVyIHN0YXRlcyBsaXN0IGFuZCB1c2UgdGhpcyBncm91cHMgei1pbmRleCBhcyB0aGUgZGVmYXVsdFxuICAgKiBmb3IgYWxsIGxheWVycyBpbiB0aGlzIGFuZCBuZXN0ZWQgZ3JvdXBzLCBpZiBpdCBpcyB1bnNldCBhdCB0aGlzIHBvaW50LlxuICAgKiBJZiBkZXN0IGlzIG5vdCBwcm92aWRlZCBhbmQgdGhpcyBncm91cCdzIHotaW5kZXggaXMgdW5kZWZpbmVkXG4gICAqIDAgaXMgdXNlZCBhIHRoZSBkZWZhdWx0IHotaW5kZXguXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZT59IFtkZXN0XSBPcHRpb25hbCBsaXN0XG4gICAqIG9mIGxheWVyIHN0YXRlcyAodG8gYmUgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gTGlzdCBvZiBsYXllciBzdGF0ZXMuXG4gICAqL1xuICBnZXRMYXllclN0YXRlc0FycmF5KGRlc3QpIHtcbiAgICBjb25zdCBzdGF0ZXMgPSBkZXN0ICE9PSB1bmRlZmluZWQgPyBkZXN0IDogW107XG4gICAgY29uc3QgcG9zID0gc3RhdGVzLmxlbmd0aDtcblxuICAgIHRoaXMuZ2V0TGF5ZXJzKCkuZm9yRWFjaChmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgIGxheWVyLmdldExheWVyU3RhdGVzQXJyYXkoc3RhdGVzKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG93bkxheWVyU3RhdGUgPSB0aGlzLmdldExheWVyU3RhdGUoKTtcbiAgICBsZXQgZGVmYXVsdFpJbmRleCA9IG93bkxheWVyU3RhdGUuekluZGV4O1xuICAgIGlmICghZGVzdCAmJiBvd25MYXllclN0YXRlLnpJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWZhdWx0WkluZGV4ID0gMDtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IHBvcywgaWkgPSBzdGF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgY29uc3QgbGF5ZXJTdGF0ZSA9IHN0YXRlc1tpXTtcbiAgICAgIGxheWVyU3RhdGUub3BhY2l0eSAqPSBvd25MYXllclN0YXRlLm9wYWNpdHk7XG4gICAgICBsYXllclN0YXRlLnZpc2libGUgPSBsYXllclN0YXRlLnZpc2libGUgJiYgb3duTGF5ZXJTdGF0ZS52aXNpYmxlO1xuICAgICAgbGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uID0gTWF0aC5taW4oXG4gICAgICAgIGxheWVyU3RhdGUubWF4UmVzb2x1dGlvbixcbiAgICAgICAgb3duTGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uXG4gICAgICApO1xuICAgICAgbGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uID0gTWF0aC5tYXgoXG4gICAgICAgIGxheWVyU3RhdGUubWluUmVzb2x1dGlvbixcbiAgICAgICAgb3duTGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uXG4gICAgICApO1xuICAgICAgbGF5ZXJTdGF0ZS5taW5ab29tID0gTWF0aC5tYXgobGF5ZXJTdGF0ZS5taW5ab29tLCBvd25MYXllclN0YXRlLm1pblpvb20pO1xuICAgICAgbGF5ZXJTdGF0ZS5tYXhab29tID0gTWF0aC5taW4obGF5ZXJTdGF0ZS5tYXhab29tLCBvd25MYXllclN0YXRlLm1heFpvb20pO1xuICAgICAgaWYgKG93bkxheWVyU3RhdGUuZXh0ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGxheWVyU3RhdGUuZXh0ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBsYXllclN0YXRlLmV4dGVudCA9IGdldEludGVyc2VjdGlvbihcbiAgICAgICAgICAgIGxheWVyU3RhdGUuZXh0ZW50LFxuICAgICAgICAgICAgb3duTGF5ZXJTdGF0ZS5leHRlbnRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxheWVyU3RhdGUuZXh0ZW50ID0gb3duTGF5ZXJTdGF0ZS5leHRlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsYXllclN0YXRlLnpJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxheWVyU3RhdGUuekluZGV4ID0gZGVmYXVsdFpJbmRleDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3RhdGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NvdXJjZS9Tb3VyY2UuanNcIikuU3RhdGV9IFNvdXJjZSBzdGF0ZS5cbiAgICovXG4gIGdldFNvdXJjZVN0YXRlKCkge1xuICAgIHJldHVybiAncmVhZHknO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExheWVyR3JvdXA7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwRXZlbnRcbiAqL1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vZXZlbnRzL0V2ZW50LmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBhcyBtYXAgZXZlbnRzIGFyZSBpbnN0YW5jZXMgb2YgdGhpcyB0eXBlLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0gZm9yIHdoaWNoIGV2ZW50cyB0cmlnZ2VyIGEgbWFwIGV2ZW50LlxuICovXG5jbGFzcyBNYXBFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9NYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gW2ZyYW1lU3RhdGVdIEZyYW1lIHN0YXRlLlxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSwgbWFwLCBmcmFtZVN0YXRlKSB7XG4gICAgc3VwZXIodHlwZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWFwIHdoZXJlIHRoZSBldmVudCBvY2N1cnJlZC5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9NYXAuanNcIikuZGVmYXVsdH1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5tYXAgPSBtYXA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUgc3RhdGUgYXQgdGhlIHRpbWUgb2YgdGhlIGV2ZW50LlxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi9NYXAuanNcIikuRnJhbWVTdGF0ZX1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5mcmFtZVN0YXRlID0gZnJhbWVTdGF0ZSAhPT0gdW5kZWZpbmVkID8gZnJhbWVTdGF0ZSA6IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFwRXZlbnQ7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwQnJvd3NlckV2ZW50XG4gKi9cbmltcG9ydCBNYXBFdmVudCBmcm9tICcuL01hcEV2ZW50LmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBhcyBtYXAgYnJvd3NlciBldmVudHMgYXJlIGluc3RhbmNlcyBvZiB0aGlzIHR5cGUuXG4gKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwfSBmb3Igd2hpY2ggZXZlbnRzIHRyaWdnZXIgYSBtYXAgYnJvd3NlciBldmVudC5cbiAqIEB0ZW1wbGF0ZSB7VUlFdmVudH0gRVZFTlRcbiAqL1xuY2xhc3MgTWFwQnJvd3NlckV2ZW50IGV4dGVuZHMgTWFwRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL01hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgKiBAcGFyYW0ge0VWRU5UfSBvcmlnaW5hbEV2ZW50IE9yaWdpbmFsIGV2ZW50LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkcmFnZ2luZ10gSXMgdGhlIG1hcCBjdXJyZW50bHkgYmVpbmcgZHJhZ2dlZD9cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBbZnJhbWVTdGF0ZV0gRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7QXJyYXk8UG9pbnRlckV2ZW50Pn0gW2FjdGl2ZVBvaW50ZXJzXSBBY3RpdmUgcG9pbnRlcnMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBtYXAsIG9yaWdpbmFsRXZlbnQsIGRyYWdnaW5nLCBmcmFtZVN0YXRlLCBhY3RpdmVQb2ludGVycykge1xuICAgIHN1cGVyKHR5cGUsIG1hcCwgZnJhbWVTdGF0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3JpZ2luYWwgYnJvd3NlciBldmVudC5cbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7RVZFTlR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWFwIHBpeGVsIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydCBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBicm93c2VyIGV2ZW50LlxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29vcmRpbmF0ZSBpbiB0aGUgdXNlciBwcm9qZWN0aW9uIGNvcnJlc3BvbmRpbmcgdG8gdGhlIG9yaWdpbmFsIGJyb3dzZXIgZXZlbnQuXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmNvb3JkaW5hdGVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGUgbWFwIGlzIGN1cnJlbnRseSBiZWluZyBkcmFnZ2VkLiBPbmx5IHNldCBmb3JcbiAgICAgKiBgUE9JTlRFUkRSQUdgIGFuZCBgUE9JTlRFUk1PVkVgIGV2ZW50cy4gRGVmYXVsdCBpcyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZHJhZ2dpbmcgPSBkcmFnZ2luZyAhPT0gdW5kZWZpbmVkID8gZHJhZ2dpbmcgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxQb2ludGVyRXZlbnQ+fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmFjdGl2ZVBvaW50ZXJzID0gYWN0aXZlUG9pbnRlcnM7XG4gIH1cblxuICAvKipcbiAgICogVGhlIG1hcCBwaXhlbCByZWxhdGl2ZSB0byB0aGUgdmlld3BvcnQgY29ycmVzcG9uZGluZyB0byB0aGUgb3JpZ2luYWwgZXZlbnQuXG4gICAqIEB0eXBlIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXQgcGl4ZWwoKSB7XG4gICAgaWYgKCF0aGlzLnBpeGVsXykge1xuICAgICAgdGhpcy5waXhlbF8gPSB0aGlzLm1hcC5nZXRFdmVudFBpeGVsKHRoaXMub3JpZ2luYWxFdmVudCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBpeGVsXztcbiAgfVxuICBzZXQgcGl4ZWwocGl4ZWwpIHtcbiAgICB0aGlzLnBpeGVsXyA9IHBpeGVsO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjb29yZGluYXRlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIG9yaWdpbmFsIGJyb3dzZXIgZXZlbnQuICBUaGlzIHdpbGwgYmUgaW4gdGhlIHVzZXJcbiAgICogcHJvamVjdGlvbiBpZiBvbmUgaXMgc2V0LiAgT3RoZXJ3aXNlIGl0IHdpbGwgYmUgaW4gdGhlIHZpZXcgcHJvamVjdGlvbi5cbiAgICogQHR5cGUge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXQgY29vcmRpbmF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuY29vcmRpbmF0ZV8pIHtcbiAgICAgIHRoaXMuY29vcmRpbmF0ZV8gPSB0aGlzLm1hcC5nZXRDb29yZGluYXRlRnJvbVBpeGVsKHRoaXMucGl4ZWwpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb29yZGluYXRlXztcbiAgfVxuICBzZXQgY29vcmRpbmF0ZShjb29yZGluYXRlKSB7XG4gICAgdGhpcy5jb29yZGluYXRlXyA9IGNvb3JkaW5hdGU7XG4gIH1cblxuICAvKipcbiAgICogUHJldmVudHMgdGhlIGRlZmF1bHQgYnJvd3NlciBhY3Rpb24uXG4gICAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvZXZlbnQucHJldmVudERlZmF1bHQuXG4gICAqIEBhcGlcbiAgICovXG4gIHByZXZlbnREZWZhdWx0KCkge1xuICAgIHN1cGVyLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCdwcmV2ZW50RGVmYXVsdCcgaW4gdGhpcy5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAvKiogQHR5cGUge1VJRXZlbnR9ICovICh0aGlzLm9yaWdpbmFsRXZlbnQpLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFByZXZlbnRzIGZ1cnRoZXIgcHJvcGFnYXRpb24gb2YgdGhlIGN1cnJlbnQgZXZlbnQuXG4gICAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvZXZlbnQuc3RvcFByb3BhZ2F0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgc3VwZXIuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKCdzdG9wUHJvcGFnYXRpb24nIGluIHRoaXMub3JpZ2luYWxFdmVudCkge1xuICAgICAgLyoqIEB0eXBlIHtVSUV2ZW50fSAqLyAodGhpcy5vcmlnaW5hbEV2ZW50KS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFwQnJvd3NlckV2ZW50O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL01hcEJyb3dzZXJFdmVudFR5cGVcbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuXG4vKipcbiAqIENvbnN0YW50cyBmb3IgZXZlbnQgbmFtZXMuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgKiBBIHRydWUgc2luZ2xlIGNsaWNrIHdpdGggbm8gZHJhZ2dpbmcgYW5kIG5vIGRvdWJsZSBjbGljay4gTm90ZSB0aGF0IHRoaXNcbiAgICogZXZlbnQgaXMgZGVsYXllZCBieSAyNTAgbXMgdG8gZW5zdXJlIHRoYXQgaXQgaXMgbm90IGEgZG91YmxlIGNsaWNrLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQjc2luZ2xlY2xpY2tcbiAgICogQGFwaVxuICAgKi9cbiAgU0lOR0xFQ0xJQ0s6ICdzaW5nbGVjbGljaycsXG5cbiAgLyoqXG4gICAqIEEgY2xpY2sgd2l0aCBubyBkcmFnZ2luZy4gQSBkb3VibGUgY2xpY2sgd2lsbCBmaXJlIHR3byBvZiB0aGlzLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQjY2xpY2tcbiAgICogQGFwaVxuICAgKi9cbiAgQ0xJQ0s6IEV2ZW50VHlwZS5DTElDSyxcblxuICAvKipcbiAgICogQSB0cnVlIGRvdWJsZSBjbGljaywgd2l0aCBubyBkcmFnZ2luZy5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I2RibGNsaWNrXG4gICAqIEBhcGlcbiAgICovXG4gIERCTENMSUNLOiBFdmVudFR5cGUuREJMQ0xJQ0ssXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgcG9pbnRlciBpcyBkcmFnZ2VkLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQjcG9pbnRlcmRyYWdcbiAgICogQGFwaVxuICAgKi9cbiAgUE9JTlRFUkRSQUc6ICdwb2ludGVyZHJhZycsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgcG9pbnRlciBpcyBtb3ZlZC4gTm90ZSB0aGF0IG9uIHRvdWNoIGRldmljZXMgdGhpcyBpc1xuICAgKiB0cmlnZ2VyZWQgd2hlbiB0aGUgbWFwIGlzIHBhbm5lZCwgc28gaXMgbm90IHRoZSBzYW1lIGFzIG1vdXNlbW92ZS5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I3BvaW50ZXJtb3ZlXG4gICAqIEBhcGlcbiAgICovXG4gIFBPSU5URVJNT1ZFOiAncG9pbnRlcm1vdmUnLFxuXG4gIFBPSU5URVJET1dOOiAncG9pbnRlcmRvd24nLFxuICBQT0lOVEVSVVA6ICdwb2ludGVydXAnLFxuICBQT0lOVEVST1ZFUjogJ3BvaW50ZXJvdmVyJyxcbiAgUE9JTlRFUk9VVDogJ3BvaW50ZXJvdXQnLFxuICBQT0lOVEVSRU5URVI6ICdwb2ludGVyZW50ZXInLFxuICBQT0lOVEVSTEVBVkU6ICdwb2ludGVybGVhdmUnLFxuICBQT0lOVEVSQ0FOQ0VMOiAncG9pbnRlcmNhbmNlbCcsXG59O1xuXG4vKioqXG4gKiBAdHlwZWRlZiB7J3NpbmdsZWNsaWNrJ3wnY2xpY2snfCdkYmxjbGljayd8J3BvaW50ZXJkcmFnJ3wncG9pbnRlcm1vdmUnfSBUeXBlc1xuICovXG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcG9pbnRlci9FdmVudFR5cGVcbiAqL1xuXG4vKipcbiAqIENvbnN0YW50cyBmb3IgZXZlbnQgbmFtZXMuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIFBPSU5URVJNT1ZFOiAncG9pbnRlcm1vdmUnLFxuICBQT0lOVEVSRE9XTjogJ3BvaW50ZXJkb3duJyxcbiAgUE9JTlRFUlVQOiAncG9pbnRlcnVwJyxcbiAgUE9JTlRFUk9WRVI6ICdwb2ludGVyb3ZlcicsXG4gIFBPSU5URVJPVVQ6ICdwb2ludGVyb3V0JyxcbiAgUE9JTlRFUkVOVEVSOiAncG9pbnRlcmVudGVyJyxcbiAgUE9JTlRFUkxFQVZFOiAncG9pbnRlcmxlYXZlJyxcbiAgUE9JTlRFUkNBTkNFTDogJ3BvaW50ZXJjYW5jZWwnLFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBCcm93c2VyRXZlbnRIYW5kbGVyXG4gKi9cblxuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudCBmcm9tICcuL01hcEJyb3dzZXJFdmVudC5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuL01hcEJyb3dzZXJFdmVudFR5cGUuanMnO1xuaW1wb3J0IFBvaW50ZXJFdmVudFR5cGUgZnJvbSAnLi9wb2ludGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQge1BBU1NJVkVfRVZFTlRfTElTVEVORVJTfSBmcm9tICcuL2hhcy5qcyc7XG5pbXBvcnQge1ZPSUR9IGZyb20gJy4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7bGlzdGVuLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5cbmNsYXNzIE1hcEJyb3dzZXJFdmVudEhhbmRsZXIgZXh0ZW5kcyBUYXJnZXQge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL01hcC5qc1wiKS5kZWZhdWx0fSBtYXAgVGhlIG1hcCB3aXRoIHRoZSB2aWV3cG9ydCB0byBsaXN0ZW4gdG8gZXZlbnRzIG9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW21vdmVUb2xlcmFuY2VdIFRoZSBtaW5pbWFsIGRpc3RhbmNlIHRoZSBwb2ludGVyIG11c3QgdHJhdmVsIHRvIHRyaWdnZXIgYSBtb3ZlLlxuICAgKi9cbiAgY29uc3RydWN0b3IobWFwLCBtb3ZlVG9sZXJhbmNlKSB7XG4gICAgc3VwZXIobWFwKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIGVsZW1lbnQgdGhhdCB3ZSB3aWxsIGxpc3RlbiB0byB0aGUgcmVhbCBldmVudHMgb24uXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vTWFwLmpzXCIpLmRlZmF1bHR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1hcF8gPSBtYXA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7YW55fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5jbGlja1RpbWVvdXRJZF87XG5cbiAgICAvKipcbiAgICAgKiBFbXVsYXRlIGRibGNsaWNrIGFuZCBzaW5nbGVjbGljay4gV2lsbCBiZSB0cnVlIHdoZW4gb25seSBvbmUgcG9pbnRlciBpcyBhY3RpdmUuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5lbXVsYXRlQ2xpY2tzXyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRyYWdnaW5nXyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubW92ZVRvbGVyYW5jZV8gPSBtb3ZlVG9sZXJhbmNlID09PSB1bmRlZmluZWQgPyAxIDogbW92ZVRvbGVyYW5jZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtb3N0IHJlY2VudCBcImRvd25cIiB0eXBlIGV2ZW50IChvciBudWxsIGlmIG5vbmUgaGF2ZSBvY2N1cnJlZCkuXG4gICAgICogU2V0IG9uIHBvaW50ZXJkb3duLlxuICAgICAqIEB0eXBlIHtQb2ludGVyRXZlbnR8bnVsbH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZG93bl8gPSBudWxsO1xuXG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMubWFwXy5nZXRWaWV3cG9ydCgpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PFBvaW50ZXJFdmVudD59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmFjdGl2ZVBvaW50ZXJzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8bnVtYmVyLCBFdmVudD59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRyYWNrZWRUb3VjaGVzXyA9IHt9O1xuXG4gICAgdGhpcy5lbGVtZW50XyA9IGVsZW1lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRlcmRvd25MaXN0ZW5lcktleV8gPSBsaXN0ZW4oXG4gICAgICBlbGVtZW50LFxuICAgICAgUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSRE9XTixcbiAgICAgIHRoaXMuaGFuZGxlUG9pbnRlckRvd25fLFxuICAgICAgdGhpc1xuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7UG9pbnRlckV2ZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnJlbGF5ZWRMaXN0ZW5lcktleV8gPSBsaXN0ZW4oXG4gICAgICBlbGVtZW50LFxuICAgICAgUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSTU9WRSxcbiAgICAgIHRoaXMucmVsYXlNb3ZlRXZlbnRfLFxuICAgICAgdGhpc1xuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuYm91bmRIYW5kbGVUb3VjaE1vdmVfID0gdGhpcy5oYW5kbGVUb3VjaE1vdmVfLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBFdmVudFR5cGUuVE9VQ0hNT1ZFLFxuICAgICAgdGhpcy5ib3VuZEhhbmRsZVRvdWNoTW92ZV8sXG4gICAgICBQQVNTSVZFX0VWRU5UX0xJU1RFTkVSUyA/IHtwYXNzaXZlOiBmYWxzZX0gOiBmYWxzZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAqIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZW11bGF0ZUNsaWNrXyhwb2ludGVyRXZlbnQpIHtcbiAgICBsZXQgbmV3RXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KFxuICAgICAgTWFwQnJvd3NlckV2ZW50VHlwZS5DTElDSyxcbiAgICAgIHRoaXMubWFwXyxcbiAgICAgIHBvaW50ZXJFdmVudFxuICAgICk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICBpZiAodGhpcy5jbGlja1RpbWVvdXRJZF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gZG91YmxlLWNsaWNrXG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5jbGlja1RpbWVvdXRJZF8pO1xuICAgICAgdGhpcy5jbGlja1RpbWVvdXRJZF8gPSB1bmRlZmluZWQ7XG4gICAgICBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoXG4gICAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuREJMQ0xJQ0ssXG4gICAgICAgIHRoaXMubWFwXyxcbiAgICAgICAgcG9pbnRlckV2ZW50XG4gICAgICApO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY2xpY2tcbiAgICAgIHRoaXMuY2xpY2tUaW1lb3V0SWRfID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xpY2tUaW1lb3V0SWRfID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoXG4gICAgICAgICAgTWFwQnJvd3NlckV2ZW50VHlwZS5TSU5HTEVDTElDSyxcbiAgICAgICAgICB0aGlzLm1hcF8sXG4gICAgICAgICAgcG9pbnRlckV2ZW50XG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICB9LCAyNTApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBLZWVwcyB0cmFjayBvbiBob3cgbWFueSBwb2ludGVycyBhcmUgY3VycmVudGx5IGFjdGl2ZS5cbiAgICpcbiAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAqIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdXBkYXRlQWN0aXZlUG9pbnRlcnNfKHBvaW50ZXJFdmVudCkge1xuICAgIGNvbnN0IGV2ZW50ID0gcG9pbnRlckV2ZW50O1xuICAgIGNvbnN0IGlkID0gZXZlbnQucG9pbnRlcklkO1xuXG4gICAgaWYgKFxuICAgICAgZXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCB8fFxuICAgICAgZXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJDQU5DRUxcbiAgICApIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnRyYWNrZWRUb3VjaGVzX1tpZF07XG4gICAgICBmb3IgKGNvbnN0IHBvaW50ZXJJZCBpbiB0aGlzLnRyYWNrZWRUb3VjaGVzXykge1xuICAgICAgICBpZiAodGhpcy50cmFja2VkVG91Y2hlc19bcG9pbnRlcklkXS50YXJnZXQgIT09IGV2ZW50LnRhcmdldCkge1xuICAgICAgICAgIC8vIFNvbWUgcGxhdGZvcm1zIGFzc2lnbiBhIG5ldyBwb2ludGVySWQgd2hlbiB0aGUgdGFyZ2V0IGNoYW5nZXMuXG4gICAgICAgICAgLy8gSWYgdGhpcyBoYXBwZW5zLCBkZWxldGUgb25lIHRyYWNrZWQgcG9pbnRlci4gSWYgdGhlcmUgaXMgbW9yZVxuICAgICAgICAgIC8vIHRoYW4gb25lIHRyYWNrZWQgcG9pbnRlciBmb3IgdGhlIG9sZCB0YXJnZXQsIGl0IHdpbGwgYmUgY2xlYXJlZFxuICAgICAgICAgIC8vIGJ5IHN1YnNlcXVlbnQgUE9JTlRFUlVQIGV2ZW50cyBmcm9tIG90aGVyIHBvaW50ZXJzLlxuICAgICAgICAgIGRlbGV0ZSB0aGlzLnRyYWNrZWRUb3VjaGVzX1twb2ludGVySWRdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRE9XTiB8fFxuICAgICAgZXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJNT1ZFXG4gICAgKSB7XG4gICAgICB0aGlzLnRyYWNrZWRUb3VjaGVzX1tpZF0gPSBldmVudDtcbiAgICB9XG4gICAgdGhpcy5hY3RpdmVQb2ludGVyc18gPSBPYmplY3QudmFsdWVzKHRoaXMudHJhY2tlZFRvdWNoZXNfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IFBvaW50ZXJcbiAgICogZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVQb2ludGVyVXBfKHBvaW50ZXJFdmVudCkge1xuICAgIHRoaXMudXBkYXRlQWN0aXZlUG9pbnRlcnNfKHBvaW50ZXJFdmVudCk7XG4gICAgY29uc3QgbmV3RXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KFxuICAgICAgTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVAsXG4gICAgICB0aGlzLm1hcF8sXG4gICAgICBwb2ludGVyRXZlbnQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB0aGlzLmFjdGl2ZVBvaW50ZXJzX1xuICAgICk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcblxuICAgIC8vIFdlIGVtdWxhdGUgY2xpY2sgZXZlbnRzIG9uIGxlZnQgbW91c2UgYnV0dG9uIGNsaWNrLCB0b3VjaCBjb250YWN0LCBhbmQgcGVuXG4gICAgLy8gY29udGFjdC4gaXNNb3VzZUFjdGlvbkJ1dHRvbiByZXR1cm5zIHRydWUgaW4gdGhlc2UgY2FzZXMgKGV2dC5idXR0b24gaXMgc2V0XG4gICAgLy8gdG8gMCkuXG4gICAgLy8gU2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL3BvaW50ZXJldmVudHMvI2J1dHRvbi1zdGF0ZXNcbiAgICAvLyBXZSBvbmx5IGZpcmUgY2xpY2ssIHNpbmdsZWNsaWNrLCBhbmQgZG91YmxlY2xpY2sgaWYgbm9ib2R5IGhhcyBjYWxsZWRcbiAgICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpLlxuICAgIGlmIChcbiAgICAgIHRoaXMuZW11bGF0ZUNsaWNrc18gJiZcbiAgICAgICFuZXdFdmVudC5kZWZhdWx0UHJldmVudGVkICYmXG4gICAgICAhdGhpcy5kcmFnZ2luZ18gJiZcbiAgICAgIHRoaXMuaXNNb3VzZUFjdGlvbkJ1dHRvbl8ocG9pbnRlckV2ZW50KVxuICAgICkge1xuICAgICAgdGhpcy5lbXVsYXRlQ2xpY2tfKHRoaXMuZG93bl8pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFjdGl2ZVBvaW50ZXJzXy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMuZHJhZ2dpbmdfID0gZmFsc2U7XG4gICAgICB0aGlzLmRvd25fID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAqIGV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgbGVmdCBtb3VzZSBidXR0b24gd2FzIHByZXNzZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc01vdXNlQWN0aW9uQnV0dG9uXyhwb2ludGVyRXZlbnQpIHtcbiAgICByZXR1cm4gcG9pbnRlckV2ZW50LmJ1dHRvbiA9PT0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IFBvaW50ZXJcbiAgICogZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVQb2ludGVyRG93bl8ocG9pbnRlckV2ZW50KSB7XG4gICAgdGhpcy5lbXVsYXRlQ2xpY2tzXyA9IHRoaXMuYWN0aXZlUG9pbnRlcnNfLmxlbmd0aCA9PT0gMDtcbiAgICB0aGlzLnVwZGF0ZUFjdGl2ZVBvaW50ZXJzXyhwb2ludGVyRXZlbnQpO1xuICAgIGNvbnN0IG5ld0V2ZW50ID0gbmV3IE1hcEJyb3dzZXJFdmVudChcbiAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04sXG4gICAgICB0aGlzLm1hcF8sXG4gICAgICBwb2ludGVyRXZlbnQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB0aGlzLmFjdGl2ZVBvaW50ZXJzX1xuICAgICk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcblxuICAgIC8vIFN0b3JlIGEgY29weSBvZiB0aGUgZG93biBldmVudFxuICAgIHRoaXMuZG93bl8gPSAvKiogQHR5cGUge1BvaW50ZXJFdmVudH0gKi8gKHt9KTtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIHBvaW50ZXJFdmVudCkge1xuICAgICAgY29uc3QgdmFsdWUgPSBwb2ludGVyRXZlbnRbcHJvcGVydHldO1xuICAgICAgdGhpcy5kb3duX1twcm9wZXJ0eV0gPSB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyBWT0lEIDogdmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBkb2MgPSB0aGlzLm1hcF8uZ2V0T3duZXJEb2N1bWVudCgpO1xuICAgICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5wdXNoKFxuICAgICAgICBsaXN0ZW4oXG4gICAgICAgICAgZG9jLFxuICAgICAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUk1PVkUsXG4gICAgICAgICAgdGhpcy5oYW5kbGVQb2ludGVyTW92ZV8sXG4gICAgICAgICAgdGhpc1xuICAgICAgICApLFxuICAgICAgICBsaXN0ZW4oZG9jLCBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCwgdGhpcy5oYW5kbGVQb2ludGVyVXBfLCB0aGlzKSxcbiAgICAgICAgLyogTm90ZSB0aGF0IHRoZSBsaXN0ZW5lciBmb3IgYHBvaW50ZXJjYW5jZWwgaXMgc2V0IHVwIG9uXG4gICAgICAgICAqIGBwb2ludGVyRXZlbnRIYW5kbGVyX2AgYW5kIG5vdCBgZG9jdW1lbnRQb2ludGVyRXZlbnRIYW5kbGVyX2AgbGlrZVxuICAgICAgICAgKiB0aGUgYHBvaW50ZXJ1cGAgYW5kIGBwb2ludGVybW92ZWAgbGlzdGVuZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgcmVhc29uIGZvciB0aGlzIGlzIHRoZSBmb2xsb3dpbmc6IGBUb3VjaFNvdXJjZS52YWN1dW1Ub3VjaGVzXygpYFxuICAgICAgICAgKiBpc3N1ZXMgYHBvaW50ZXJjYW5jZWxgIGV2ZW50cywgd2hlbiB0aGVyZSB3YXMgbm8gYHRvdWNoZW5kYCBmb3IgYVxuICAgICAgICAgKiBgdG91Y2hzdGFydGAuIE5vdywgbGV0J3Mgc2F5IGEgZmlyc3QgYHRvdWNoc3RhcnRgIGlzIHJlZ2lzdGVyZWQgb25cbiAgICAgICAgICogYHBvaW50ZXJFdmVudEhhbmRsZXJfYC4gVGhlIGBkb2N1bWVudFBvaW50ZXJFdmVudEhhbmRsZXJfYCBpcyBzZXQgdXAuXG4gICAgICAgICAqIEJ1dCBgZG9jdW1lbnRQb2ludGVyRXZlbnRIYW5kbGVyX2AgZG9lc24ndCBrbm93IGFib3V0IHRoZSBmaXJzdFxuICAgICAgICAgKiBgdG91Y2hzdGFydGAuIElmIHRoZXJlIGlzIG5vIGB0b3VjaGVuZGAgZm9yIHRoZSBgdG91Y2hzdGFydGAsIHdlIGNhblxuICAgICAgICAgKiBvbmx5IHJlY2VpdmUgYSBgdG91Y2hjYW5jZWxgIGZyb20gYHBvaW50ZXJFdmVudEhhbmRsZXJfYCwgYmVjYXVzZSBpdCBpc1xuICAgICAgICAgKiBvbmx5IHJlZ2lzdGVyZWQgdGhlcmUuXG4gICAgICAgICAqL1xuICAgICAgICBsaXN0ZW4oXG4gICAgICAgICAgdGhpcy5lbGVtZW50XyxcbiAgICAgICAgICBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJDQU5DRUwsXG4gICAgICAgICAgdGhpcy5oYW5kbGVQb2ludGVyVXBfLFxuICAgICAgICAgIHRoaXNcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIGlmICh0aGlzLmVsZW1lbnRfLmdldFJvb3ROb2RlICYmIHRoaXMuZWxlbWVudF8uZ2V0Um9vdE5vZGUoKSAhPT0gZG9jKSB7XG4gICAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ucHVzaChcbiAgICAgICAgICBsaXN0ZW4oXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRfLmdldFJvb3ROb2RlKCksXG4gICAgICAgICAgICBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCxcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUG9pbnRlclVwXyxcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgKiBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVBvaW50ZXJNb3ZlXyhwb2ludGVyRXZlbnQpIHtcbiAgICAvLyBCZXR3ZWVuIHBvaW50ZXJkb3duIGFuZCBwb2ludGVydXAsIHBvaW50ZXJtb3ZlIGV2ZW50cyBhcmUgdHJpZ2dlcmVkLlxuICAgIC8vIFRvIGF2b2lkIGEgJ2ZhbHNlJyB0b3VjaG1vdmUgZXZlbnQgdG8gYmUgZGlzcGF0Y2hlZCwgd2UgdGVzdCBpZiB0aGUgcG9pbnRlclxuICAgIC8vIG1vdmVkIGEgc2lnbmlmaWNhbnQgZGlzdGFuY2UuXG4gICAgaWYgKHRoaXMuaXNNb3ZpbmdfKHBvaW50ZXJFdmVudCkpIHtcbiAgICAgIHRoaXMudXBkYXRlQWN0aXZlUG9pbnRlcnNfKHBvaW50ZXJFdmVudCk7XG4gICAgICB0aGlzLmRyYWdnaW5nXyA9IHRydWU7XG4gICAgICBjb25zdCBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoXG4gICAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRSQUcsXG4gICAgICAgIHRoaXMubWFwXyxcbiAgICAgICAgcG9pbnRlckV2ZW50LFxuICAgICAgICB0aGlzLmRyYWdnaW5nXyxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB0aGlzLmFjdGl2ZVBvaW50ZXJzX1xuICAgICAgKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdyYXAgYW5kIHJlbGF5IGEgcG9pbnRlcm1vdmUgZXZlbnQuXG4gICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgKiBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlbGF5TW92ZUV2ZW50Xyhwb2ludGVyRXZlbnQpIHtcbiAgICB0aGlzLm9yaWdpbmFsUG9pbnRlck1vdmVFdmVudF8gPSBwb2ludGVyRXZlbnQ7XG4gICAgY29uc3QgZHJhZ2dpbmcgPSAhISh0aGlzLmRvd25fICYmIHRoaXMuaXNNb3ZpbmdfKHBvaW50ZXJFdmVudCkpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBNYXBCcm93c2VyRXZlbnQoXG4gICAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUk1PVkUsXG4gICAgICAgIHRoaXMubWFwXyxcbiAgICAgICAgcG9pbnRlckV2ZW50LFxuICAgICAgICBkcmFnZ2luZ1xuICAgICAgKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRmxleGlibGUgaGFuZGxpbmcgb2YgYSBgdG91Y2gtYWN0aW9uOiBub25lYCBjc3MgZXF1aXZhbGVudDogYmVjYXVzZSBjYWxsaW5nXG4gICAqIGBwcmV2ZW50RGVmYXVsdCgpYCBvbiBhIGBwb2ludGVybW92ZWAgZXZlbnQgZG9lcyBub3Qgc3RvcCBuYXRpdmUgcGFnZSBzY3JvbGxpbmdcbiAgICogYW5kIHpvb21pbmcsIHdlIGFsc28gbGlzdGVuIGZvciBgdG91Y2htb3ZlYCBhbmQgY2FsbCBgcHJldmVudERlZmF1bHQoKWAgb24gaXRcbiAgICogd2hlbiBhbiBpbnRlcmFjdGlvbiAoY3VycmVudGx5IGBEcmFnUGFuYCBoYW5kbGVzIHRoZSBldmVudC5cbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBldmVudCBFdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVRvdWNoTW92ZV8oZXZlbnQpIHtcbiAgICAvLyBEdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL21waXplbmJlcmcvZWxtLXBlcC9pc3N1ZXMvMiwgYHRoaXMub3JpZ2luYWxQb2ludGVyTW92ZUV2ZW50X2BcbiAgICAvLyBtYXkgbm90IGJlIGluaXRpYWxpemVkIHlldCB3aGVuIHdlIGdldCBoZXJlIG9uIGEgcGxhdGZvcm0gd2l0aG91dCBuYXRpdmUgcG9pbnRlciBldmVudHMuXG4gICAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IHRoaXMub3JpZ2luYWxQb2ludGVyTW92ZUV2ZW50XztcbiAgICBpZiAoXG4gICAgICAoIW9yaWdpbmFsRXZlbnQgfHwgb3JpZ2luYWxFdmVudC5kZWZhdWx0UHJldmVudGVkKSAmJlxuICAgICAgKHR5cGVvZiBldmVudC5jYW5jZWxhYmxlICE9PSAnYm9vbGVhbicgfHwgZXZlbnQuY2FuY2VsYWJsZSA9PT0gdHJ1ZSlcbiAgICApIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgKiBldmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgbW92aW5nLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaXNNb3ZpbmdfKHBvaW50ZXJFdmVudCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmRyYWdnaW5nXyB8fFxuICAgICAgTWF0aC5hYnMocG9pbnRlckV2ZW50LmNsaWVudFggLSB0aGlzLmRvd25fLmNsaWVudFgpID5cbiAgICAgICAgdGhpcy5tb3ZlVG9sZXJhbmNlXyB8fFxuICAgICAgTWF0aC5hYnMocG9pbnRlckV2ZW50LmNsaWVudFkgLSB0aGlzLmRvd25fLmNsaWVudFkpID4gdGhpcy5tb3ZlVG9sZXJhbmNlX1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAuXG4gICAqL1xuICBkaXNwb3NlSW50ZXJuYWwoKSB7XG4gICAgaWYgKHRoaXMucmVsYXllZExpc3RlbmVyS2V5Xykge1xuICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLnJlbGF5ZWRMaXN0ZW5lcktleV8pO1xuICAgICAgdGhpcy5yZWxheWVkTGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgRXZlbnRUeXBlLlRPVUNITU9WRSxcbiAgICAgIHRoaXMuYm91bmRIYW5kbGVUb3VjaE1vdmVfXG4gICAgKTtcblxuICAgIGlmICh0aGlzLnBvaW50ZXJkb3duTGlzdGVuZXJLZXlfKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMucG9pbnRlcmRvd25MaXN0ZW5lcktleV8pO1xuICAgICAgdGhpcy5wb2ludGVyZG93bkxpc3RlbmVyS2V5XyA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ubGVuZ3RoID0gMDtcblxuICAgIHRoaXMuZWxlbWVudF8gPSBudWxsO1xuICAgIHN1cGVyLmRpc3Bvc2VJbnRlcm5hbCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1hcEJyb3dzZXJFdmVudEhhbmRsZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwRXZlbnRUeXBlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgYSBtYXAgZnJhbWUgaXMgcmVuZGVyZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvTWFwRXZlbnR+TWFwRXZlbnQjcG9zdHJlbmRlclxuICAgKiBAYXBpXG4gICAqL1xuICBQT1NUUkVOREVSOiAncG9zdHJlbmRlcicsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIHRoZSBtYXAgc3RhcnRzIG1vdmluZy5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBFdmVudH5NYXBFdmVudCNtb3Zlc3RhcnRcbiAgICogQGFwaVxuICAgKi9cbiAgTU9WRVNUQVJUOiAnbW92ZXN0YXJ0JyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSBtYXAgaXMgbW92ZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvTWFwRXZlbnR+TWFwRXZlbnQjbW92ZWVuZFxuICAgKiBAYXBpXG4gICAqL1xuICBNT1ZFRU5EOiAnbW92ZWVuZCcsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGxvYWRpbmcgb2YgYWRkaXRpb25hbCBtYXAgZGF0YSAodGlsZXMsIGltYWdlcywgZmVhdHVyZXMpIHN0YXJ0cy5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBFdmVudH5NYXBFdmVudCNsb2Fkc3RhcnRcbiAgICogQGFwaVxuICAgKi9cbiAgTE9BRFNUQVJUOiAnbG9hZHN0YXJ0JyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gbG9hZGluZyBvZiBhZGRpdGlvbmFsIG1hcCBkYXRhIGhhcyBjb21wbGV0ZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvTWFwRXZlbnR+TWFwRXZlbnQjbG9hZGVuZFxuICAgKiBAYXBpXG4gICAqL1xuICBMT0FERU5EOiAnbG9hZGVuZCcsXG59O1xuXG4vKioqXG4gKiBAdHlwZWRlZiB7J3Bvc3RyZW5kZXInfCdtb3Zlc3RhcnQnfCdtb3ZlZW5kJ3wnbG9hZHN0YXJ0J3wnbG9hZGVuZCd9IFR5cGVzXG4gKi9cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBQcm9wZXJ0eVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBMQVlFUkdST1VQOiAnbGF5ZXJncm91cCcsXG4gIFNJWkU6ICdzaXplJyxcbiAgVEFSR0VUOiAndGFyZ2V0JyxcbiAgVklFVzogJ3ZpZXcnLFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHJ1Y3RzL1ByaW9yaXR5UXVldWVcbiAqL1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtjbGVhcn0gZnJvbSAnLi4vb2JqLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgRFJPUCA9IEluZmluaXR5O1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFByaW9yaXR5IHF1ZXVlLlxuICpcbiAqIFRoZSBpbXBsZW1lbnRhdGlvbiBpcyBpbnNwaXJlZCBmcm9tIHRoZSBDbG9zdXJlIExpYnJhcnkncyBIZWFwIGNsYXNzIGFuZFxuICogUHl0aG9uJ3MgaGVhcHEgbW9kdWxlLlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtbGlicmFyeS9ibG9iL21hc3Rlci9jbG9zdXJlL2dvb2cvc3RydWN0cy9oZWFwLmpzXG4gKiBhbmQgaHR0cHM6Ly9oZy5weXRob24ub3JnL2NweXRob24vZmlsZS8yLjcvTGliL2hlYXBxLnB5LlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmNsYXNzIFByaW9yaXR5UXVldWUge1xuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihUKTogbnVtYmVyfSBwcmlvcml0eUZ1bmN0aW9uIFByaW9yaXR5IGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFQpOiBzdHJpbmd9IGtleUZ1bmN0aW9uIEtleSBmdW5jdGlvbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHByaW9yaXR5RnVuY3Rpb24sIGtleUZ1bmN0aW9uKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge2Z1bmN0aW9uKFQpOiBudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnByaW9yaXR5RnVuY3Rpb25fID0gcHJpb3JpdHlGdW5jdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbihUKTogc3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5rZXlGdW5jdGlvbl8gPSBrZXlGdW5jdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxUPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZWxlbWVudHNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucHJpb3JpdGllc18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnF1ZXVlZEVsZW1lbnRzXyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5lbGVtZW50c18ubGVuZ3RoID0gMDtcbiAgICB0aGlzLnByaW9yaXRpZXNfLmxlbmd0aCA9IDA7XG4gICAgY2xlYXIodGhpcy5xdWV1ZWRFbGVtZW50c18pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbmQgcmV0dXJuIHRoZSBoaWdoZXN0LXByaW9yaXR5IGVsZW1lbnQuIE8obG9nIE4pLlxuICAgKiBAcmV0dXJuIHtUfSBFbGVtZW50LlxuICAgKi9cbiAgZGVxdWV1ZSgpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICAgIGNvbnN0IHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1swXTtcbiAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgIGVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgICBwcmlvcml0aWVzLmxlbmd0aCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnRzWzBdID0gZWxlbWVudHMucG9wKCk7XG4gICAgICBwcmlvcml0aWVzWzBdID0gcHJpb3JpdGllcy5wb3AoKTtcbiAgICAgIHRoaXMuc2lmdFVwXygwKTtcbiAgICB9XG4gICAgY29uc3QgZWxlbWVudEtleSA9IHRoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpO1xuICAgIGRlbGV0ZSB0aGlzLnF1ZXVlZEVsZW1lbnRzX1tlbGVtZW50S2V5XTtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnF1ZXVlIGFuIGVsZW1lbnQuIE8obG9nIE4pLlxuICAgKiBAcGFyYW0ge1R9IGVsZW1lbnQgRWxlbWVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGVsZW1lbnQgd2FzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAgICovXG4gIGVucXVldWUoZWxlbWVudCkge1xuICAgIGFzc2VydCghKHRoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpIGluIHRoaXMucXVldWVkRWxlbWVudHNfKSwgMzEpOyAvLyBUcmllZCB0byBlbnF1ZXVlIGFuIGBlbGVtZW50YCB0aGF0IHdhcyBhbHJlYWR5IGFkZGVkIHRvIHRoZSBxdWV1ZVxuICAgIGNvbnN0IHByaW9yaXR5ID0gdGhpcy5wcmlvcml0eUZ1bmN0aW9uXyhlbGVtZW50KTtcbiAgICBpZiAocHJpb3JpdHkgIT0gRFJPUCkge1xuICAgICAgdGhpcy5lbGVtZW50c18ucHVzaChlbGVtZW50KTtcbiAgICAgIHRoaXMucHJpb3JpdGllc18ucHVzaChwcmlvcml0eSk7XG4gICAgICB0aGlzLnF1ZXVlZEVsZW1lbnRzX1t0aGlzLmtleUZ1bmN0aW9uXyhlbGVtZW50KV0gPSB0cnVlO1xuICAgICAgdGhpcy5zaWZ0RG93bl8oMCwgdGhpcy5lbGVtZW50c18ubGVuZ3RoIC0gMSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gQ291bnQuXG4gICAqL1xuICBnZXRDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50c18ubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGluZGV4IG9mIHRoZSBsZWZ0IGNoaWxkIG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBnZXQgdGhlIGxlZnQgY2hpbGQgZm9yLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgbGVmdCBjaGlsZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldExlZnRDaGlsZEluZGV4XyhpbmRleCkge1xuICAgIHJldHVybiBpbmRleCAqIDIgKyAxO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGluZGV4IG9mIHRoZSByaWdodCBjaGlsZCBvZiB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gZ2V0IHRoZSByaWdodCBjaGlsZCBmb3IuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSByaWdodCBjaGlsZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFJpZ2h0Q2hpbGRJbmRleF8oaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXggKiAyICsgMjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBpbmRleCBvZiB0aGUgcGFyZW50IG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBnZXQgdGhlIHBhcmVudCBmb3IuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSBwYXJlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRQYXJlbnRJbmRleF8oaW5kZXgpIHtcbiAgICByZXR1cm4gKGluZGV4IC0gMSkgPj4gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIHRoaXMgYSBoZWFwLiBPKE4pLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGVhcGlmeV8oKSB7XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gKHRoaXMuZWxlbWVudHNfLmxlbmd0aCA+PiAxKSAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB0aGlzLnNpZnRVcF8oaSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGVtcHR5LlxuICAgKi9cbiAgaXNFbXB0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50c18ubGVuZ3RoID09PSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBrZXkgcXVldWVkLlxuICAgKi9cbiAgaXNLZXlRdWV1ZWQoa2V5KSB7XG4gICAgcmV0dXJuIGtleSBpbiB0aGlzLnF1ZXVlZEVsZW1lbnRzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1R9IGVsZW1lbnQgRWxlbWVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgcXVldWVkLlxuICAgKi9cbiAgaXNRdWV1ZWQoZWxlbWVudCkge1xuICAgIHJldHVybiB0aGlzLmlzS2V5UXVldWVkKHRoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIG1vdmUgZG93bi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNpZnRVcF8oaW5kZXgpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICAgIGNvbnN0IHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgIGNvbnN0IGNvdW50ID0gZWxlbWVudHMubGVuZ3RoO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XG4gICAgY29uc3QgcHJpb3JpdHkgPSBwcmlvcml0aWVzW2luZGV4XTtcbiAgICBjb25zdCBzdGFydEluZGV4ID0gaW5kZXg7XG5cbiAgICB3aGlsZSAoaW5kZXggPCBjb3VudCA+PiAxKSB7XG4gICAgICBjb25zdCBsSW5kZXggPSB0aGlzLmdldExlZnRDaGlsZEluZGV4XyhpbmRleCk7XG4gICAgICBjb25zdCBySW5kZXggPSB0aGlzLmdldFJpZ2h0Q2hpbGRJbmRleF8oaW5kZXgpO1xuXG4gICAgICBjb25zdCBzbWFsbGVyQ2hpbGRJbmRleCA9XG4gICAgICAgIHJJbmRleCA8IGNvdW50ICYmIHByaW9yaXRpZXNbckluZGV4XSA8IHByaW9yaXRpZXNbbEluZGV4XVxuICAgICAgICAgID8gckluZGV4XG4gICAgICAgICAgOiBsSW5kZXg7XG5cbiAgICAgIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnRzW3NtYWxsZXJDaGlsZEluZGV4XTtcbiAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdGllc1tzbWFsbGVyQ2hpbGRJbmRleF07XG4gICAgICBpbmRleCA9IHNtYWxsZXJDaGlsZEluZGV4O1xuICAgIH1cblxuICAgIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnQ7XG4gICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0eTtcbiAgICB0aGlzLnNpZnREb3duXyhzdGFydEluZGV4LCBpbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggVGhlIGluZGV4IG9mIHRoZSByb290LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIG1vdmUgdXAuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzaWZ0RG93bl8oc3RhcnRJbmRleCwgaW5kZXgpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICAgIGNvbnN0IHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XG4gICAgY29uc3QgcHJpb3JpdHkgPSBwcmlvcml0aWVzW2luZGV4XTtcblxuICAgIHdoaWxlIChpbmRleCA+IHN0YXJ0SW5kZXgpIHtcbiAgICAgIGNvbnN0IHBhcmVudEluZGV4ID0gdGhpcy5nZXRQYXJlbnRJbmRleF8oaW5kZXgpO1xuICAgICAgaWYgKHByaW9yaXRpZXNbcGFyZW50SW5kZXhdID4gcHJpb3JpdHkpIHtcbiAgICAgICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudHNbcGFyZW50SW5kZXhdO1xuICAgICAgICBwcmlvcml0aWVzW2luZGV4XSA9IHByaW9yaXRpZXNbcGFyZW50SW5kZXhdO1xuICAgICAgICBpbmRleCA9IHBhcmVudEluZGV4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnQ7XG4gICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0eTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICovXG4gIHJlcHJpb3JpdGl6ZSgpIHtcbiAgICBjb25zdCBwcmlvcml0eUZ1bmN0aW9uID0gdGhpcy5wcmlvcml0eUZ1bmN0aW9uXztcbiAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICAgIGNvbnN0IHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgY29uc3QgbiA9IGVsZW1lbnRzLmxlbmd0aDtcbiAgICBsZXQgZWxlbWVudCwgaSwgcHJpb3JpdHk7XG4gICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgcHJpb3JpdHkgPSBwcmlvcml0eUZ1bmN0aW9uKGVsZW1lbnQpO1xuICAgICAgaWYgKHByaW9yaXR5ID09IERST1ApIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucXVldWVkRWxlbWVudHNfW3RoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdHk7XG4gICAgICAgIGVsZW1lbnRzW2luZGV4KytdID0gZWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudHMubGVuZ3RoID0gaW5kZXg7XG4gICAgcHJpb3JpdGllcy5sZW5ndGggPSBpbmRleDtcbiAgICB0aGlzLmhlYXBpZnlfKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJpb3JpdHlRdWV1ZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9UaWxlUXVldWVcbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFByaW9yaXR5UXVldWUsIHtEUk9QfSBmcm9tICcuL3N0cnVjdHMvUHJpb3JpdHlRdWV1ZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4vVGlsZVN0YXRlLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9UaWxlLmpzXCIpLmRlZmF1bHQsIHN0cmluZywgaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUsIG51bWJlcik6IG51bWJlcn0gUHJpb3JpdHlGdW5jdGlvblxuICovXG5cbmNsYXNzIFRpbGVRdWV1ZSBleHRlbmRzIFByaW9yaXR5UXVldWUge1xuICAvKipcbiAgICogQHBhcmFtIHtQcmlvcml0eUZ1bmN0aW9ufSB0aWxlUHJpb3JpdHlGdW5jdGlvbiBUaWxlIHByaW9yaXR5IGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6ID99IHRpbGVDaGFuZ2VDYWxsYmFjayBGdW5jdGlvbiBjYWxsZWQgb24gZWFjaCB0aWxlIGNoYW5nZSBldmVudC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRpbGVQcmlvcml0eUZ1bmN0aW9uLCB0aWxlQ2hhbmdlQ2FsbGJhY2spIHtcbiAgICBzdXBlcihcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtBcnJheX0gZWxlbWVudCBFbGVtZW50LlxuICAgICAgICogQHJldHVybiB7bnVtYmVyfSBQcmlvcml0eS5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRpbGVQcmlvcml0eUZ1bmN0aW9uLmFwcGx5KG51bGwsIGVsZW1lbnQpO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtBcnJheX0gZWxlbWVudCBFbGVtZW50LlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBLZXkuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoZWxlbWVudFswXSkuZ2V0S2V5KCk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIHRoaXMuYm91bmRIYW5kbGVUaWxlQ2hhbmdlXyA9IHRoaXMuaGFuZGxlVGlsZUNoYW5nZS5iaW5kKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oKTogP31cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVDaGFuZ2VDYWxsYmFja18gPSB0aWxlQ2hhbmdlQ2FsbGJhY2s7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50aWxlc0xvYWRpbmdfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLGJvb2xlYW4+fVxuICAgICAqL1xuICAgIHRoaXMudGlsZXNMb2FkaW5nS2V5c18gPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50IEVsZW1lbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBlbGVtZW50IHdhcyBhZGRlZCB0byB0aGUgcXVldWUuXG4gICAqL1xuICBlbnF1ZXVlKGVsZW1lbnQpIHtcbiAgICBjb25zdCBhZGRlZCA9IHN1cGVyLmVucXVldWUoZWxlbWVudCk7XG4gICAgaWYgKGFkZGVkKSB7XG4gICAgICBjb25zdCB0aWxlID0gZWxlbWVudFswXTtcbiAgICAgIHRpbGUuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmJvdW5kSGFuZGxlVGlsZUNoYW5nZV8pO1xuICAgIH1cbiAgICByZXR1cm4gYWRkZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgb2YgdGlsZXMgbG9hZGluZy5cbiAgICovXG4gIGdldFRpbGVzTG9hZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy50aWxlc0xvYWRpbmdfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGhhbmRsZVRpbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCB0aWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgY29uc3Qgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgaWYgKFxuICAgICAgc3RhdGUgPT09IFRpbGVTdGF0ZS5MT0FERUQgfHxcbiAgICAgIHN0YXRlID09PSBUaWxlU3RhdGUuRVJST1IgfHxcbiAgICAgIHN0YXRlID09PSBUaWxlU3RhdGUuRU1QVFlcbiAgICApIHtcbiAgICAgIGlmIChzdGF0ZSAhPT0gVGlsZVN0YXRlLkVSUk9SKSB7XG4gICAgICAgIHRpbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmJvdW5kSGFuZGxlVGlsZUNoYW5nZV8pO1xuICAgICAgfVxuICAgICAgY29uc3QgdGlsZUtleSA9IHRpbGUuZ2V0S2V5KCk7XG4gICAgICBpZiAodGlsZUtleSBpbiB0aGlzLnRpbGVzTG9hZGluZ0tleXNfKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnRpbGVzTG9hZGluZ0tleXNfW3RpbGVLZXldO1xuICAgICAgICAtLXRoaXMudGlsZXNMb2FkaW5nXztcbiAgICAgIH1cbiAgICAgIHRoaXMudGlsZUNoYW5nZUNhbGxiYWNrXygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VG90YWxMb2FkaW5nIE1heGltdW0gbnVtYmVyIHRpbGVzIHRvIGxvYWQgc2ltdWx0YW5lb3VzbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhOZXdMb2FkcyBNYXhpbXVtIG51bWJlciBvZiBuZXcgdGlsZXMgdG8gbG9hZC5cbiAgICovXG4gIGxvYWRNb3JlVGlsZXMobWF4VG90YWxMb2FkaW5nLCBtYXhOZXdMb2Fkcykge1xuICAgIGxldCBuZXdMb2FkcyA9IDA7XG4gICAgbGV0IHN0YXRlLCB0aWxlLCB0aWxlS2V5O1xuICAgIHdoaWxlIChcbiAgICAgIHRoaXMudGlsZXNMb2FkaW5nXyA8IG1heFRvdGFsTG9hZGluZyAmJlxuICAgICAgbmV3TG9hZHMgPCBtYXhOZXdMb2FkcyAmJlxuICAgICAgdGhpcy5nZXRDb3VudCgpID4gMFxuICAgICkge1xuICAgICAgdGlsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aGlzLmRlcXVldWUoKVswXSk7XG4gICAgICB0aWxlS2V5ID0gdGlsZS5nZXRLZXkoKTtcbiAgICAgIHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgaWYgKHN0YXRlID09PSBUaWxlU3RhdGUuSURMRSAmJiAhKHRpbGVLZXkgaW4gdGhpcy50aWxlc0xvYWRpbmdLZXlzXykpIHtcbiAgICAgICAgdGhpcy50aWxlc0xvYWRpbmdLZXlzX1t0aWxlS2V5XSA9IHRydWU7XG4gICAgICAgICsrdGhpcy50aWxlc0xvYWRpbmdfO1xuICAgICAgICArK25ld0xvYWRzO1xuICAgICAgICB0aWxlLmxvYWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGlsZVF1ZXVlO1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL01hcC5qcycpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGlsZVNvdXJjZUtleSBUaWxlIHNvdXJjZSBrZXkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSB0aWxlQ2VudGVyIFRpbGUgY2VudGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IHRpbGVSZXNvbHV0aW9uIFRpbGUgcmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gVGlsZSBwcmlvcml0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRpbGVQcmlvcml0eShcbiAgZnJhbWVTdGF0ZSxcbiAgdGlsZSxcbiAgdGlsZVNvdXJjZUtleSxcbiAgdGlsZUNlbnRlcixcbiAgdGlsZVJlc29sdXRpb25cbikge1xuICAvLyBGaWx0ZXIgb3V0IHRpbGVzIGF0IGhpZ2hlciB6b29tIGxldmVscyB0aGFuIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwsIG9yIHRoYXRcbiAgLy8gYXJlIG91dHNpZGUgdGhlIHZpc2libGUgZXh0ZW50LlxuICBpZiAoIWZyYW1lU3RhdGUgfHwgISh0aWxlU291cmNlS2V5IGluIGZyYW1lU3RhdGUud2FudGVkVGlsZXMpKSB7XG4gICAgcmV0dXJuIERST1A7XG4gIH1cbiAgaWYgKCFmcmFtZVN0YXRlLndhbnRlZFRpbGVzW3RpbGVTb3VyY2VLZXldW3RpbGUuZ2V0S2V5KCldKSB7XG4gICAgcmV0dXJuIERST1A7XG4gIH1cbiAgLy8gUHJpb3JpdGl6ZSB0aGUgaGlnaGVzdCB6b29tIGxldmVsIHRpbGVzIGNsb3Nlc3QgdG8gdGhlIGZvY3VzLlxuICAvLyBUaWxlcyBhdCBoaWdoZXIgem9vbSBsZXZlbHMgYXJlIHByaW9yaXRpemVkIHVzaW5nIE1hdGgubG9nKHRpbGVSZXNvbHV0aW9uKS5cbiAgLy8gV2l0aGluIGEgem9vbSBsZXZlbCwgdGlsZXMgYXJlIHByaW9yaXRpemVkIGJ5IHRoZSBkaXN0YW5jZSBpbiBwaXhlbHMgYmV0d2VlblxuICAvLyB0aGUgY2VudGVyIG9mIHRoZSB0aWxlIGFuZCB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydC4gIFRoZSBmYWN0b3Igb2YgNjU1MzZcbiAgLy8gbWVhbnMgdGhhdCB0aGUgcHJpb3JpdGl6YXRpb24gc2hvdWxkIGJlaGF2ZSBhcyBkZXNpcmVkIGZvciB0aWxlcyB1cCB0b1xuICAvLyA2NTUzNiAqIE1hdGgubG9nKDIpID0gNDU0MjYgcGl4ZWxzIGZyb20gdGhlIGZvY3VzLlxuICBjb25zdCBjZW50ZXIgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5jZW50ZXI7XG4gIGNvbnN0IGRlbHRhWCA9IHRpbGVDZW50ZXJbMF0gLSBjZW50ZXJbMF07XG4gIGNvbnN0IGRlbHRhWSA9IHRpbGVDZW50ZXJbMV0gLSBjZW50ZXJbMV07XG4gIHJldHVybiAoXG4gICAgNjU1MzYgKiBNYXRoLmxvZyh0aWxlUmVzb2x1dGlvbikgK1xuICAgIE1hdGguc3FydChkZWx0YVggKiBkZWx0YVggKyBkZWx0YVkgKiBkZWx0YVkpIC8gdGlsZVJlc29sdXRpb25cbiAgKTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9jb250cm9sL0NvbnRyb2xcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBNYXBFdmVudFR5cGUgZnJvbSAnLi4vTWFwRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7Vk9JRH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7bGlzdGVuLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IHtyZW1vdmVOb2RlfSBmcm9tICcuLi9kb20uanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR9IFtlbGVtZW50XSBUaGUgZWxlbWVudCBpcyB0aGUgY29udHJvbCdzXG4gKiBjb250YWluZXIgZWxlbWVudC4gVGhpcyBvbmx5IG5lZWRzIHRvIGJlIHNwZWNpZmllZCBpZiB5b3UncmUgZGV2ZWxvcGluZ1xuICogYSBjdXN0b20gY29udHJvbC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdCk6dm9pZH0gW3JlbmRlcl0gRnVuY3Rpb24gY2FsbGVkIHdoZW5cbiAqIHRoZSBjb250cm9sIHNob3VsZCBiZSByZS1yZW5kZXJlZC4gVGhpcyBpcyBjYWxsZWQgaW4gYSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYFxuICogY2FsbGJhY2suXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3Ugd2FudFxuICogdGhlIGNvbnRyb2wgdG8gYmUgcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3Mgdmlld3BvcnQuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGNvbnRyb2wgaXMgYSB2aXNpYmxlIHdpZGdldCB3aXRoIGEgRE9NIGVsZW1lbnQgaW4gYSBmaXhlZCBwb3NpdGlvbiBvbiB0aGVcbiAqIHNjcmVlbi4gVGhleSBjYW4gaW52b2x2ZSB1c2VyIGlucHV0IChidXR0b25zKSwgb3IgYmUgaW5mb3JtYXRpb25hbCBvbmx5O1xuICogdGhlIHBvc2l0aW9uIGlzIGRldGVybWluZWQgdXNpbmcgQ1NTLiBCeSBkZWZhdWx0IHRoZXNlIGFyZSBwbGFjZWQgaW4gdGhlXG4gKiBjb250YWluZXIgd2l0aCBDU1MgY2xhc3MgbmFtZSBgb2wtb3ZlcmxheWNvbnRhaW5lci1zdG9wZXZlbnRgLCBidXQgY2FuIHVzZVxuICogYW55IG91dHNpZGUgRE9NIGVsZW1lbnQuXG4gKlxuICogVGhpcyBpcyB0aGUgYmFzZSBjbGFzcyBmb3IgY29udHJvbHMuIFlvdSBjYW4gdXNlIGl0IGZvciBzaW1wbGUgY3VzdG9tXG4gKiBjb250cm9scyBieSBjcmVhdGluZyB0aGUgZWxlbWVudCB3aXRoIGxpc3RlbmVycywgY3JlYXRpbmcgYW4gaW5zdGFuY2U6XG4gKiBgYGBqc1xuICogY29uc3QgbXlDb250cm9sID0gbmV3IENvbnRyb2woe2VsZW1lbnQ6IG15RWxlbWVudH0pO1xuICogYGBgXG4gKiBhbmQgdGhlbiBhZGRpbmcgdGhpcyB0byB0aGUgbWFwLlxuICpcbiAqIFRoZSBtYWluIGFkdmFudGFnZSBvZiBoYXZpbmcgdGhpcyBhcyBhIGNvbnRyb2wgcmF0aGVyIHRoYW4gYSBzaW1wbGUgc2VwYXJhdGVcbiAqIERPTSBlbGVtZW50IGlzIHRoYXQgcHJldmVudGluZyBwcm9wYWdhdGlvbiBpcyBoYW5kbGVkIGZvciB5b3UuIENvbnRyb2xzXG4gKiB3aWxsIGFsc28gYmUgb2JqZWN0cyBpbiBhIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSwgc28geW91IGNhbiB1c2UgdGhlaXIgbWV0aG9kcy5cbiAqXG4gKiBZb3UgY2FuIGFsc28gZXh0ZW5kIHRoaXMgYmFzZSBmb3IgeW91ciBvd24gY29udHJvbCBjbGFzcy4gU2VlXG4gKiBleGFtcGxlcy9jdXN0b20tY29udHJvbHMgZm9yIGFuIGV4YW1wbGUgb2YgaG93IHRvIGRvIHRoaXMuXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBDb250cm9sIGV4dGVuZHMgQmFzZU9iamVjdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgQ29udHJvbCBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICBjb25zdCBlbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50O1xuICAgIGlmIChlbGVtZW50ICYmICFvcHRpb25zLnRhcmdldCAmJiAhZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzKSB7XG4gICAgICBlbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50ID8gZWxlbWVudCA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLm1hcF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHshQXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5saXN0ZW5lcktleXMgPSBbXTtcblxuICAgIGlmIChvcHRpb25zLnJlbmRlcikge1xuICAgICAgdGhpcy5yZW5kZXIgPSBvcHRpb25zLnJlbmRlcjtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy50YXJnZXQpIHtcbiAgICAgIHRoaXMuc2V0VGFyZ2V0KG9wdGlvbnMudGFyZ2V0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAuXG4gICAqL1xuICBkaXNwb3NlSW50ZXJuYWwoKSB7XG4gICAgcmVtb3ZlTm9kZSh0aGlzLmVsZW1lbnQpO1xuICAgIHN1cGVyLmRpc3Bvc2VJbnRlcm5hbCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWFwIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGNvbnRyb2wuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9IE1hcC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TWFwKCkge1xuICAgIHJldHVybiB0aGlzLm1hcF87XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBjb250cm9sIGZyb20gaXRzIGN1cnJlbnQgbWFwIGFuZCBhdHRhY2ggaXQgdG8gdGhlIG5ldyBtYXAuXG4gICAqIFBhc3MgYG51bGxgIHRvIGp1c3QgcmVtb3ZlIHRoZSBjb250cm9sIGZyb20gdGhlIGN1cnJlbnQgbWFwLlxuICAgKiBTdWJjbGFzc2VzIG1heSBzZXQgdXAgZXZlbnQgaGFuZGxlcnMgdG8gZ2V0IG5vdGlmaWVkIGFib3V0IGNoYW5nZXMgdG9cbiAgICogdGhlIG1hcCBoZXJlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9IG1hcCBNYXAuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE1hcChtYXApIHtcbiAgICBpZiAodGhpcy5tYXBfKSB7XG4gICAgICByZW1vdmVOb2RlKHRoaXMuZWxlbWVudCk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHRoaXMubGlzdGVuZXJLZXlzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5saXN0ZW5lcktleXNbaV0pO1xuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVyS2V5cy5sZW5ndGggPSAwO1xuICAgIHRoaXMubWFwXyA9IG1hcDtcbiAgICBpZiAobWFwKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLnRhcmdldF9cbiAgICAgICAgPyB0aGlzLnRhcmdldF9cbiAgICAgICAgOiBtYXAuZ2V0T3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudCgpO1xuICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgICBpZiAodGhpcy5yZW5kZXIgIT09IFZPSUQpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcktleXMucHVzaChcbiAgICAgICAgICBsaXN0ZW4obWFwLCBNYXBFdmVudFR5cGUuUE9TVFJFTkRFUiwgdGhpcy5yZW5kZXIsIHRoaXMpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBtYXAucmVuZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgdGhlIGNvbnRyb2wuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwRXZlbnQgTWFwIGV2ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICByZW5kZXIobWFwRXZlbnQpIHt9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBzZXQgYSB0YXJnZXQgZWxlbWVudCBmb3IgdGhlIGNvbnRyb2wuIEl0IGhhcyBub1xuICAgKiBlZmZlY3QgaWYgaXQgaXMgY2FsbGVkIGFmdGVyIHRoZSBjb250cm9sIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBtYXAgKGkuZS5cbiAgICogYWZ0ZXIgYHNldE1hcGAgaXMgY2FsbGVkIG9uIHRoZSBjb250cm9sKS4gSWYgbm8gYHRhcmdldGAgaXMgc2V0IGluIHRoZVxuICAgKiBvcHRpb25zIHBhc3NlZCB0byB0aGUgY29udHJvbCBjb25zdHJ1Y3RvciBhbmQgaWYgYHNldFRhcmdldGAgaXMgbm90IGNhbGxlZFxuICAgKiB0aGVuIHRoZSBjb250cm9sIGlzIGFkZGVkIHRvIHRoZSBtYXAncyBvdmVybGF5IGNvbnRhaW5lci5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IHRhcmdldCBUYXJnZXQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFRhcmdldCh0YXJnZXQpIHtcbiAgICB0aGlzLnRhcmdldF8gPVxuICAgICAgdHlwZW9mIHRhcmdldCA9PT0gJ3N0cmluZycgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpIDogdGFyZ2V0O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2w7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvY29udHJvbC9BdHRyaWJ1dGlvblxuICovXG5pbXBvcnQgQ29udHJvbCBmcm9tICcuL0NvbnRyb2wuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7Q0xBU1NfQ09MTEFQU0VELCBDTEFTU19DT05UUk9MLCBDTEFTU19VTlNFTEVDVEFCTEV9IGZyb20gJy4uL2Nzcy5qcyc7XG5pbXBvcnQge2VxdWFsc30gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtpblZpZXd9IGZyb20gJy4uL2xheWVyL0xheWVyLmpzJztcbmltcG9ydCB7cmVtb3ZlQ2hpbGRyZW4sIHJlcGxhY2VOb2RlfSBmcm9tICcuLi9kb20uanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1hdHRyaWJ1dGlvbiddIENTUyBjbGFzcyBuYW1lLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxzdHJpbmd9IFt0YXJnZXRdIFNwZWNpZnkgYSB0YXJnZXQgaWYgeW91XG4gKiB3YW50IHRoZSBjb250cm9sIHRvIGJlIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhlIG1hcCdzXG4gKiB2aWV3cG9ydC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbGxhcHNpYmxlXSBTcGVjaWZ5IGlmIGF0dHJpYnV0aW9ucyBjYW5cbiAqIGJlIGNvbGxhcHNlZC4gSWYgbm90IHNwZWNpZmllZCwgc291cmNlcyBjb250cm9sIHRoaXMgYmVoYXZpb3Igd2l0aCB0aGVpclxuICogYGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlYCBzZXR0aW5nLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY29sbGFwc2VkPXRydWVdIFNwZWNpZnkgaWYgYXR0cmlidXRpb25zIHNob3VsZFxuICogYmUgY29sbGFwc2VkIGF0IHN0YXJ0dXAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RpcExhYmVsPSdBdHRyaWJ1dGlvbnMnXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlIGJ1dHRvbiB0aXAuXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MRWxlbWVudH0gW2xhYmVsPSdpJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZVxuICogY29sbGFwc2VkIGF0dHJpYnV0aW9ucyBidXR0b24uXG4gKiBJbnN0ZWFkIG9mIHRleHQsIGFsc28gYW4gZWxlbWVudCAoZS5nLiBhIGBzcGFuYCBlbGVtZW50KSBjYW4gYmUgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZXhwYW5kQ2xhc3NOYW1lPWNsYXNzTmFtZSArICctZXhwYW5kJ10gQ1NTIGNsYXNzIG5hbWUgZm9yIHRoZVxuICogY29sbGFwc2VkIGF0dHJpYnV0aW9ucyBidXR0b24uXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MRWxlbWVudH0gW2NvbGxhcHNlTGFiZWw9J+KAuiddIFRleHQgbGFiZWwgdG8gdXNlXG4gKiBmb3IgdGhlIGV4cGFuZGVkIGF0dHJpYnV0aW9ucyBidXR0b24uXG4gKiBJbnN0ZWFkIG9mIHRleHQsIGFsc28gYW4gZWxlbWVudCAoZS5nLiBhIGBzcGFuYCBlbGVtZW50KSBjYW4gYmUgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY29sbGFwc2VDbGFzc05hbWU9Y2xhc3NOYW1lICsgJy1jb2xsYXBzZSddIENTUyBjbGFzcyBuYW1lIGZvciB0aGVcbiAqIGV4cGFuZGVkIGF0dHJpYnV0aW9ucyBidXR0b24uXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtyZW5kZXJdIEZ1bmN0aW9uIGNhbGxlZCB3aGVuXG4gKiB0aGUgY29udHJvbCBzaG91bGQgYmUgcmUtcmVuZGVyZWQuIFRoaXMgaXMgY2FsbGVkIGluIGEgYHJlcXVlc3RBbmltYXRpb25GcmFtZWBcbiAqIGNhbGxiYWNrLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ29udHJvbCB0byBzaG93IGFsbCB0aGUgYXR0cmlidXRpb25zIGFzc29jaWF0ZWQgd2l0aCB0aGUgbGF5ZXIgc291cmNlc1xuICogaW4gdGhlIG1hcC4gVGhpcyBjb250cm9sIGlzIG9uZSBvZiB0aGUgZGVmYXVsdCBjb250cm9scyBpbmNsdWRlZCBpbiBtYXBzLlxuICogQnkgZGVmYXVsdCBpdCB3aWxsIHNob3cgaW4gdGhlIGJvdHRvbSByaWdodCBwb3J0aW9uIG9mIHRoZSBtYXAsIGJ1dCB0aGlzIGNhblxuICogYmUgY2hhbmdlZCBieSB1c2luZyBhIGNzcyBzZWxlY3RvciBmb3IgYC5vbC1hdHRyaWJ1dGlvbmAuXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBBdHRyaWJ1dGlvbiBleHRlbmRzIENvbnRyb2wge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gQXR0cmlidXRpb24gb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIHN1cGVyKHtcbiAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgcmVuZGVyOiBvcHRpb25zLnJlbmRlcixcbiAgICAgIHRhcmdldDogb3B0aW9ucy50YXJnZXQsXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLnVsRWxlbWVudF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbGxhcHNlZF8gPVxuICAgICAgb3B0aW9ucy5jb2xsYXBzZWQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGFwc2VkIDogdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy51c2VyQ29sbGFwc2VkXyA9IHRoaXMuY29sbGFwc2VkXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5vdmVycmlkZUNvbGxhcHNpYmxlXyA9IG9wdGlvbnMuY29sbGFwc2libGUgIT09IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5jb2xsYXBzaWJsZV8gPVxuICAgICAgb3B0aW9ucy5jb2xsYXBzaWJsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsYXBzaWJsZSA6IHRydWU7XG5cbiAgICBpZiAoIXRoaXMuY29sbGFwc2libGVfKSB7XG4gICAgICB0aGlzLmNvbGxhcHNlZF8gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBjbGFzc05hbWUgPVxuICAgICAgb3B0aW9ucy5jbGFzc05hbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xhc3NOYW1lIDogJ29sLWF0dHJpYnV0aW9uJztcblxuICAgIGNvbnN0IHRpcExhYmVsID1cbiAgICAgIG9wdGlvbnMudGlwTGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGlwTGFiZWwgOiAnQXR0cmlidXRpb25zJztcblxuICAgIGNvbnN0IGV4cGFuZENsYXNzTmFtZSA9XG4gICAgICBvcHRpb25zLmV4cGFuZENsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy5leHBhbmRDbGFzc05hbWVcbiAgICAgICAgOiBjbGFzc05hbWUgKyAnLWV4cGFuZCc7XG5cbiAgICBjb25zdCBjb2xsYXBzZUxhYmVsID1cbiAgICAgIG9wdGlvbnMuY29sbGFwc2VMYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsYXBzZUxhYmVsIDogJ1xcdTIwM0EnO1xuXG4gICAgY29uc3QgY29sbGFwc2VDbGFzc05hbWUgPVxuICAgICAgb3B0aW9ucy5jb2xsYXBzZUNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy5jb2xsYXBzZUNsYXNzTmFtZVxuICAgICAgICA6IGNsYXNzTmFtZSArICctY29sbGFwc2UnO1xuXG4gICAgaWYgKHR5cGVvZiBjb2xsYXBzZUxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICovXG4gICAgICB0aGlzLmNvbGxhcHNlTGFiZWxfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgdGhpcy5jb2xsYXBzZUxhYmVsXy50ZXh0Q29udGVudCA9IGNvbGxhcHNlTGFiZWw7XG4gICAgICB0aGlzLmNvbGxhcHNlTGFiZWxfLmNsYXNzTmFtZSA9IGNvbGxhcHNlQ2xhc3NOYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbGxhcHNlTGFiZWxfID0gY29sbGFwc2VMYWJlbDtcbiAgICB9XG5cbiAgICBjb25zdCBsYWJlbCA9IG9wdGlvbnMubGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubGFiZWwgOiAnaSc7XG5cbiAgICBpZiAodHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICovXG4gICAgICB0aGlzLmxhYmVsXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHRoaXMubGFiZWxfLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICB0aGlzLmxhYmVsXy5jbGFzc05hbWUgPSBleHBhbmRDbGFzc05hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubGFiZWxfID0gbGFiZWw7XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZlTGFiZWwgPVxuICAgICAgdGhpcy5jb2xsYXBzaWJsZV8gJiYgIXRoaXMuY29sbGFwc2VkXyA/IHRoaXMuY29sbGFwc2VMYWJlbF8gOiB0aGlzLmxhYmVsXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uXy5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgdGhpcy50b2dnbGVCdXR0b25fLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghdGhpcy5jb2xsYXBzZWRfKSk7XG4gICAgdGhpcy50b2dnbGVCdXR0b25fLnRpdGxlID0gdGlwTGFiZWw7XG4gICAgdGhpcy50b2dnbGVCdXR0b25fLmFwcGVuZENoaWxkKGFjdGl2ZUxhYmVsKTtcblxuICAgIHRoaXMudG9nZ2xlQnV0dG9uXy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgRXZlbnRUeXBlLkNMSUNLLFxuICAgICAgdGhpcy5oYW5kbGVDbGlja18uYmluZCh0aGlzKSxcbiAgICAgIGZhbHNlXG4gICAgKTtcblxuICAgIGNvbnN0IGNzc0NsYXNzZXMgPVxuICAgICAgY2xhc3NOYW1lICtcbiAgICAgICcgJyArXG4gICAgICBDTEFTU19VTlNFTEVDVEFCTEUgK1xuICAgICAgJyAnICtcbiAgICAgIENMQVNTX0NPTlRST0wgK1xuICAgICAgKHRoaXMuY29sbGFwc2VkXyAmJiB0aGlzLmNvbGxhcHNpYmxlXyA/ICcgJyArIENMQVNTX0NPTExBUFNFRCA6ICcnKSArXG4gICAgICAodGhpcy5jb2xsYXBzaWJsZV8gPyAnJyA6ICcgb2wtdW5jb2xsYXBzaWJsZScpO1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzc2VzO1xuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy50b2dnbGVCdXR0b25fKTtcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRoaXMudWxFbGVtZW50Xyk7XG5cbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgY3VycmVudGx5IHJlbmRlcmVkIHJlc29sdXRpb25zLlxuICAgICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZEF0dHJpYnV0aW9uc18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb2xsZWN0IGEgbGlzdCBvZiB2aXNpYmxlIGF0dHJpYnV0aW9ucyBhbmQgc2V0IHRoZSBjb2xsYXBzaWJsZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn0gQXR0cmlidXRpb25zLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29sbGVjdFNvdXJjZUF0dHJpYnV0aW9uc18oZnJhbWVTdGF0ZSkge1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gZGV0ZXJtaW5lIGlmIGFuIGF0dHJpYnV0aW9uIGFscmVhZHkgZXhpc3RzLlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gICAgICovXG4gICAgY29uc3QgbG9va3VwID0ge307XG5cbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgdmlzaWJsZSBhdHRyaWJ1dGlvbnMuXG4gICAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAgICovXG4gICAgY29uc3QgdmlzaWJsZUF0dHJpYnV0aW9ucyA9IFtdO1xuXG4gICAgbGV0IGNvbGxhcHNpYmxlID0gdHJ1ZTtcbiAgICBjb25zdCBsYXllclN0YXRlc0FycmF5ID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5O1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGxheWVyU3RhdGVzQXJyYXkubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgbGF5ZXJTdGF0ZSA9IGxheWVyU3RhdGVzQXJyYXlbaV07XG4gICAgICBpZiAoIWluVmlldyhsYXllclN0YXRlLCBmcmFtZVN0YXRlLnZpZXdTdGF0ZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNvdXJjZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBsYXllclN0YXRlLmxheWVyXG4gICAgICApLmdldFNvdXJjZSgpO1xuICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGF0dHJpYnV0aW9uR2V0dGVyID0gc291cmNlLmdldEF0dHJpYnV0aW9ucygpO1xuICAgICAgaWYgKCFhdHRyaWJ1dGlvbkdldHRlcikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYXR0cmlidXRpb25zID0gYXR0cmlidXRpb25HZXR0ZXIoZnJhbWVTdGF0ZSk7XG4gICAgICBpZiAoIWF0dHJpYnV0aW9ucykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29sbGFwc2libGUgPVxuICAgICAgICBjb2xsYXBzaWJsZSAmJiBzb3VyY2UuZ2V0QXR0cmlidXRpb25zQ29sbGFwc2libGUoKSAhPT0gZmFsc2U7XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGF0dHJpYnV0aW9ucykpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDAsIGpqID0gYXR0cmlidXRpb25zLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICBpZiAoIShhdHRyaWJ1dGlvbnNbal0gaW4gbG9va3VwKSkge1xuICAgICAgICAgICAgdmlzaWJsZUF0dHJpYnV0aW9ucy5wdXNoKGF0dHJpYnV0aW9uc1tqXSk7XG4gICAgICAgICAgICBsb29rdXBbYXR0cmlidXRpb25zW2pdXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIShhdHRyaWJ1dGlvbnMgaW4gbG9va3VwKSkge1xuICAgICAgICAgIHZpc2libGVBdHRyaWJ1dGlvbnMucHVzaChhdHRyaWJ1dGlvbnMpO1xuICAgICAgICAgIGxvb2t1cFthdHRyaWJ1dGlvbnNdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMub3ZlcnJpZGVDb2xsYXBzaWJsZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29sbGFwc2libGUoY29sbGFwc2libGUpO1xuICAgIH1cbiAgICByZXR1cm4gdmlzaWJsZUF0dHJpYnV0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0gez9pbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICovXG4gIHVwZGF0ZUVsZW1lbnRfKGZyYW1lU3RhdGUpIHtcbiAgICBpZiAoIWZyYW1lU3RhdGUpIHtcbiAgICAgIGlmICh0aGlzLnJlbmRlcmVkVmlzaWJsZV8pIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGF0dHJpYnV0aW9ucyA9IHRoaXMuY29sbGVjdFNvdXJjZUF0dHJpYnV0aW9uc18oZnJhbWVTdGF0ZSk7XG5cbiAgICBjb25zdCB2aXNpYmxlID0gYXR0cmlidXRpb25zLmxlbmd0aCA+IDA7XG4gICAgaWYgKHRoaXMucmVuZGVyZWRWaXNpYmxlXyAhPSB2aXNpYmxlKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IHZpc2libGUgPyAnJyA6ICdub25lJztcbiAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHZpc2libGU7XG4gICAgfVxuXG4gICAgaWYgKGVxdWFscyhhdHRyaWJ1dGlvbnMsIHRoaXMucmVuZGVyZWRBdHRyaWJ1dGlvbnNfKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlbW92ZUNoaWxkcmVuKHRoaXMudWxFbGVtZW50Xyk7XG5cbiAgICAvLyBhcHBlbmQgdGhlIGF0dHJpYnV0aW9uc1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGF0dHJpYnV0aW9ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gYXR0cmlidXRpb25zW2ldO1xuICAgICAgdGhpcy51bEVsZW1lbnRfLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHRoaXMucmVuZGVyZWRBdHRyaWJ1dGlvbnNfID0gYXR0cmlidXRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIGhhbmRsZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlQ2xpY2tfKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmhhbmRsZVRvZ2dsZV8oKTtcbiAgICB0aGlzLnVzZXJDb2xsYXBzZWRfID0gdGhpcy5jb2xsYXBzZWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVUb2dnbGVfKCkge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKENMQVNTX0NPTExBUFNFRCk7XG4gICAgaWYgKHRoaXMuY29sbGFwc2VkXykge1xuICAgICAgcmVwbGFjZU5vZGUodGhpcy5jb2xsYXBzZUxhYmVsXywgdGhpcy5sYWJlbF8pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlTm9kZSh0aGlzLmxhYmVsXywgdGhpcy5jb2xsYXBzZUxhYmVsXyk7XG4gICAgfVxuICAgIHRoaXMuY29sbGFwc2VkXyA9ICF0aGlzLmNvbGxhcHNlZF87XG4gICAgdGhpcy50b2dnbGVCdXR0b25fLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghdGhpcy5jb2xsYXBzZWRfKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgYXR0cmlidXRpb24gaXMgY29sbGFwc2libGUsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgY29sbGFwc2libGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENvbGxhcHNpYmxlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbGxhcHNpYmxlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB0aGUgYXR0cmlidXRpb24gc2hvdWxkIGJlIGNvbGxhcHNpYmxlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNvbGxhcHNpYmxlIFRydWUgaWYgdGhlIHdpZGdldCBpcyBjb2xsYXBzaWJsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Q29sbGFwc2libGUoY29sbGFwc2libGUpIHtcbiAgICBpZiAodGhpcy5jb2xsYXBzaWJsZV8gPT09IGNvbGxhcHNpYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY29sbGFwc2libGVfID0gY29sbGFwc2libGU7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ29sLXVuY29sbGFwc2libGUnKTtcbiAgICBpZiAodGhpcy51c2VyQ29sbGFwc2VkXykge1xuICAgICAgdGhpcy5oYW5kbGVUb2dnbGVfKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbGxhcHNlIG9yIGV4cGFuZCB0aGUgYXR0cmlidXRpb24gYWNjb3JkaW5nIHRvIHRoZSBwYXNzZWQgcGFyYW1ldGVyLiBXaWxsXG4gICAqIG5vdCBkbyBhbnl0aGluZyBpZiB0aGUgYXR0cmlidXRpb24gaXNuJ3QgY29sbGFwc2libGUgb3IgaWYgdGhlIGN1cnJlbnRcbiAgICogY29sbGFwc2VkIHN0YXRlIGlzIGFscmVhZHkgdGhlIG9uZSByZXF1ZXN0ZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY29sbGFwc2VkIFRydWUgaWYgdGhlIHdpZGdldCBpcyBjb2xsYXBzZWQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldENvbGxhcHNlZChjb2xsYXBzZWQpIHtcbiAgICB0aGlzLnVzZXJDb2xsYXBzZWRfID0gY29sbGFwc2VkO1xuICAgIGlmICghdGhpcy5jb2xsYXBzaWJsZV8gfHwgdGhpcy5jb2xsYXBzZWRfID09PSBjb2xsYXBzZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVUb2dnbGVfKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGB0cnVlYCB3aGVuIHRoZSBhdHRyaWJ1dGlvbiBpcyBjdXJyZW50bHkgY29sbGFwc2VkIG9yIGBmYWxzZWBcbiAgICogb3RoZXJ3aXNlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgY29sbGFwc2VkLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRDb2xsYXBzZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sbGFwc2VkXztcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGF0dHJpYnV0aW9uIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwRXZlbnQgTWFwIGV2ZW50LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHJlbmRlcihtYXBFdmVudCkge1xuICAgIHRoaXMudXBkYXRlRWxlbWVudF8obWFwRXZlbnQuZnJhbWVTdGF0ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXR0cmlidXRpb247XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvY29udHJvbC9Sb3RhdGVcbiAqL1xuaW1wb3J0IENvbnRyb2wgZnJvbSAnLi9Db250cm9sLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge0NMQVNTX0NPTlRST0wsIENMQVNTX0hJRERFTiwgQ0xBU1NfVU5TRUxFQ1RBQkxFfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHtlYXNlT3V0fSBmcm9tICcuLi9lYXNpbmcuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1yb3RhdGUnXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfEhUTUxFbGVtZW50fSBbbGFiZWw9J+KHpyddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgcm90YXRlIGJ1dHRvbi5cbiAqIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0aXBMYWJlbD0nUmVzZXQgcm90YXRpb24nXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlIHJvdGF0ZSB0aXAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbXBhc3NDbGFzc05hbWU9J29sLWNvbXBhc3MnXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlIGNvbXBhc3MuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTI1MF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F1dG9IaWRlPXRydWVdIEhpZGUgdGhlIGNvbnRyb2wgd2hlbiByb3RhdGlvbiBpcyAwLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbcmVuZGVyXSBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgY29udHJvbCBzaG91bGRcbiAqIGJlIHJlLXJlbmRlcmVkLiBUaGlzIGlzIGNhbGxlZCBpbiBhIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGNhbGxiYWNrLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbigpOnZvaWR9IFtyZXNldE5vcnRoXSBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgY29udHJvbCBpcyBjbGlja2VkLlxuICogVGhpcyB3aWxsIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGByZXNldE5vcnRoYC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBTcGVjaWZ5IGEgdGFyZ2V0IGlmIHlvdSB3YW50IHRoZSBjb250cm9sIHRvIGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoZSBtYXAncyB2aWV3cG9ydC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgYnV0dG9uIGNvbnRyb2wgdG8gcmVzZXQgcm90YXRpb24gdG8gMC5cbiAqIFRvIHN0eWxlIHRoaXMgY29udHJvbCB1c2UgY3NzIHNlbGVjdG9yIGAub2wtcm90YXRlYC4gQSBgLm9sLWhpZGRlbmAgY3NzXG4gKiBzZWxlY3RvciBpcyBhZGRlZCB0byB0aGUgYnV0dG9uIHdoZW4gdGhlIHJvdGF0aW9uIGlzIDAuXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBSb3RhdGUgZXh0ZW5kcyBDb250cm9sIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIFJvdGF0ZSBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gICAgc3VwZXIoe1xuICAgICAgZWxlbWVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICByZW5kZXI6IG9wdGlvbnMucmVuZGVyLFxuICAgICAgdGFyZ2V0OiBvcHRpb25zLnRhcmdldCxcbiAgICB9KTtcblxuICAgIGNvbnN0IGNsYXNzTmFtZSA9XG4gICAgICBvcHRpb25zLmNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbGFzc05hbWUgOiAnb2wtcm90YXRlJztcblxuICAgIGNvbnN0IGxhYmVsID0gb3B0aW9ucy5sYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sYWJlbCA6ICdcXHUyMUU3JztcblxuICAgIGNvbnN0IGNvbXBhc3NDbGFzc05hbWUgPVxuICAgICAgb3B0aW9ucy5jb21wYXNzQ2xhc3NOYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLmNvbXBhc3NDbGFzc05hbWVcbiAgICAgICAgOiAnb2wtY29tcGFzcyc7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmxhYmVsXyA9IG51bGw7XG5cbiAgICBpZiAodHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5sYWJlbF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICB0aGlzLmxhYmVsXy5jbGFzc05hbWUgPSBjb21wYXNzQ2xhc3NOYW1lO1xuICAgICAgdGhpcy5sYWJlbF8udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sYWJlbF8gPSBsYWJlbDtcbiAgICAgIHRoaXMubGFiZWxfLmNsYXNzTGlzdC5hZGQoY29tcGFzc0NsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgY29uc3QgdGlwTGFiZWwgPSBvcHRpb25zLnRpcExhYmVsID8gb3B0aW9ucy50aXBMYWJlbCA6ICdSZXNldCByb3RhdGlvbic7XG5cbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBidXR0b24uY2xhc3NOYW1lID0gY2xhc3NOYW1lICsgJy1yZXNldCc7XG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICBidXR0b24udGl0bGUgPSB0aXBMYWJlbDtcbiAgICBidXR0b24uYXBwZW5kQ2hpbGQodGhpcy5sYWJlbF8pO1xuXG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBFdmVudFR5cGUuQ0xJQ0ssXG4gICAgICB0aGlzLmhhbmRsZUNsaWNrXy5iaW5kKHRoaXMpLFxuICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgY29uc3QgY3NzQ2xhc3NlcyA9XG4gICAgICBjbGFzc05hbWUgKyAnICcgKyBDTEFTU19VTlNFTEVDVEFCTEUgKyAnICcgKyBDTEFTU19DT05UUk9MO1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzc2VzO1xuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblxuICAgIHRoaXMuY2FsbFJlc2V0Tm9ydGhfID0gb3B0aW9ucy5yZXNldE5vcnRoID8gb3B0aW9ucy5yZXNldE5vcnRoIDogdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDI1MDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5hdXRvSGlkZV8gPSBvcHRpb25zLmF1dG9IaWRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9IaWRlIDogdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5yb3RhdGlvbl8gPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAodGhpcy5hdXRvSGlkZV8pIHtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX0hJRERFTik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIGhhbmRsZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlQ2xpY2tfKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAodGhpcy5jYWxsUmVzZXROb3J0aF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jYWxsUmVzZXROb3J0aF8oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXNldE5vcnRoXygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVzZXROb3J0aF8oKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5nZXRNYXAoKTtcbiAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICBpZiAoIXZpZXcpIHtcbiAgICAgIC8vIHRoZSBtYXAgZG9lcyBub3QgaGF2ZSBhIHZpZXcsIHNvIHdlIGNhbid0IGFjdFxuICAgICAgLy8gdXBvbiBpdFxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByb3RhdGlvbiA9IHZpZXcuZ2V0Um90YXRpb24oKTtcbiAgICBpZiAocm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHRoaXMuZHVyYXRpb25fID4gMCAmJiByb3RhdGlvbiAlICgyICogTWF0aC5QSSkgIT09IDApIHtcbiAgICAgICAgdmlldy5hbmltYXRlKHtcbiAgICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbl8sXG4gICAgICAgICAgZWFzaW5nOiBlYXNlT3V0LFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZpZXcuc2V0Um90YXRpb24oMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgcm90YXRlIGNvbnRyb2wgZWxlbWVudC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBFdmVudCBNYXAgZXZlbnQuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVuZGVyKG1hcEV2ZW50KSB7XG4gICAgY29uc3QgZnJhbWVTdGF0ZSA9IG1hcEV2ZW50LmZyYW1lU3RhdGU7XG4gICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJvdGF0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb247XG4gICAgaWYgKHJvdGF0aW9uICE9IHRoaXMucm90YXRpb25fKSB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSAncm90YXRlKCcgKyByb3RhdGlvbiArICdyYWQpJztcbiAgICAgIGlmICh0aGlzLmF1dG9IaWRlXykge1xuICAgICAgICBjb25zdCBjb250YWlucyA9IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfSElEREVOKTtcbiAgICAgICAgaWYgKCFjb250YWlucyAmJiByb3RhdGlvbiA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX0hJRERFTik7XG4gICAgICAgIH0gZWxzZSBpZiAoY29udGFpbnMgJiYgcm90YXRpb24gIT09IDApIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19ISURERU4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmxhYmVsXy5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgfVxuICAgIHRoaXMucm90YXRpb25fID0gcm90YXRpb247XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUm90YXRlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvWm9vbVxuICovXG5pbXBvcnQgQ29udHJvbCBmcm9tICcuL0NvbnRyb2wuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7Q0xBU1NfQ09OVFJPTCwgQ0xBU1NfVU5TRUxFQ1RBQkxFfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHtlYXNlT3V0fSBmcm9tICcuLi9lYXNpbmcuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLXpvb20nXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbem9vbUluQ2xhc3NOYW1lPWNsYXNzTmFtZSArICctaW4nXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlIHpvb20taW4gYnV0dG9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt6b29tT3V0Q2xhc3NOYW1lPWNsYXNzTmFtZSArICctb3V0J10gQ1NTIGNsYXNzIG5hbWUgZm9yIHRoZSB6b29tLW91dCBidXR0b24uXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MRWxlbWVudH0gW3pvb21JbkxhYmVsPScrJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSB6b29tLWluXG4gKiBidXR0b24uIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd8SFRNTEVsZW1lbnR9IFt6b29tT3V0TGFiZWw9J+KAkyddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgem9vbS1vdXQgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3pvb21JblRpcExhYmVsPSdab29tIGluJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt6b29tT3V0VGlwTGFiZWw9J1pvb20gb3V0J10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkZWx0YT0xXSBUaGUgem9vbSBkZWx0YSBhcHBsaWVkIG9uIGVhY2ggY2xpY2suXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3Ugd2FudCB0aGUgY29udHJvbCB0byBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3Mgdmlld3BvcnQuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGNvbnRyb2wgd2l0aCAyIGJ1dHRvbnMsIG9uZSBmb3Igem9vbSBpbiBhbmQgb25lIGZvciB6b29tIG91dC5cbiAqIFRoaXMgY29udHJvbCBpcyBvbmUgb2YgdGhlIGRlZmF1bHQgY29udHJvbHMgb2YgYSBtYXAuIFRvIHN0eWxlIHRoaXMgY29udHJvbFxuICogdXNlIGNzcyBzZWxlY3RvcnMgYC5vbC16b29tLWluYCBhbmQgYC5vbC16b29tLW91dGAuXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBab29tIGV4dGVuZHMgQ29udHJvbCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBab29tIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICBzdXBlcih7XG4gICAgICBlbGVtZW50OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIHRhcmdldDogb3B0aW9ucy50YXJnZXQsXG4gICAgfSk7XG5cbiAgICBjb25zdCBjbGFzc05hbWUgPVxuICAgICAgb3B0aW9ucy5jbGFzc05hbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xhc3NOYW1lIDogJ29sLXpvb20nO1xuXG4gICAgY29uc3QgZGVsdGEgPSBvcHRpb25zLmRlbHRhICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRlbHRhIDogMTtcblxuICAgIGNvbnN0IHpvb21JbkNsYXNzTmFtZSA9XG4gICAgICBvcHRpb25zLnpvb21JbkNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy56b29tSW5DbGFzc05hbWVcbiAgICAgICAgOiBjbGFzc05hbWUgKyAnLWluJztcblxuICAgIGNvbnN0IHpvb21PdXRDbGFzc05hbWUgPVxuICAgICAgb3B0aW9ucy56b29tT3V0Q2xhc3NOYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLnpvb21PdXRDbGFzc05hbWVcbiAgICAgICAgOiBjbGFzc05hbWUgKyAnLW91dCc7XG5cbiAgICBjb25zdCB6b29tSW5MYWJlbCA9XG4gICAgICBvcHRpb25zLnpvb21JbkxhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnpvb21JbkxhYmVsIDogJysnO1xuICAgIGNvbnN0IHpvb21PdXRMYWJlbCA9XG4gICAgICBvcHRpb25zLnpvb21PdXRMYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy56b29tT3V0TGFiZWwgOiAnXFx1MjAxMyc7XG5cbiAgICBjb25zdCB6b29tSW5UaXBMYWJlbCA9XG4gICAgICBvcHRpb25zLnpvb21JblRpcExhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnpvb21JblRpcExhYmVsIDogJ1pvb20gaW4nO1xuICAgIGNvbnN0IHpvb21PdXRUaXBMYWJlbCA9XG4gICAgICBvcHRpb25zLnpvb21PdXRUaXBMYWJlbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy56b29tT3V0VGlwTGFiZWxcbiAgICAgICAgOiAnWm9vbSBvdXQnO1xuXG4gICAgY29uc3QgaW5FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgaW5FbGVtZW50LmNsYXNzTmFtZSA9IHpvb21JbkNsYXNzTmFtZTtcbiAgICBpbkVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgIGluRWxlbWVudC50aXRsZSA9IHpvb21JblRpcExhYmVsO1xuICAgIGluRWxlbWVudC5hcHBlbmRDaGlsZChcbiAgICAgIHR5cGVvZiB6b29tSW5MYWJlbCA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh6b29tSW5MYWJlbClcbiAgICAgICAgOiB6b29tSW5MYWJlbFxuICAgICk7XG5cbiAgICBpbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIEV2ZW50VHlwZS5DTElDSyxcbiAgICAgIHRoaXMuaGFuZGxlQ2xpY2tfLmJpbmQodGhpcywgZGVsdGEpLFxuICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgY29uc3Qgb3V0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIG91dEVsZW1lbnQuY2xhc3NOYW1lID0gem9vbU91dENsYXNzTmFtZTtcbiAgICBvdXRFbGVtZW50LnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICBvdXRFbGVtZW50LnRpdGxlID0gem9vbU91dFRpcExhYmVsO1xuICAgIG91dEVsZW1lbnQuYXBwZW5kQ2hpbGQoXG4gICAgICB0eXBlb2Ygem9vbU91dExhYmVsID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHpvb21PdXRMYWJlbClcbiAgICAgICAgOiB6b29tT3V0TGFiZWxcbiAgICApO1xuXG4gICAgb3V0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgRXZlbnRUeXBlLkNMSUNLLFxuICAgICAgdGhpcy5oYW5kbGVDbGlja18uYmluZCh0aGlzLCAtZGVsdGEpLFxuICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgY29uc3QgY3NzQ2xhc3NlcyA9XG4gICAgICBjbGFzc05hbWUgKyAnICcgKyBDTEFTU19VTlNFTEVDVEFCTEUgKyAnICcgKyBDTEFTU19DT05UUk9MO1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzc2VzO1xuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5FbGVtZW50KTtcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKG91dEVsZW1lbnQpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDI1MDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgWm9vbSBkZWx0YS5cbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBUaGUgZXZlbnQgdG8gaGFuZGxlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVDbGlja18oZGVsdGEsIGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnpvb21CeURlbHRhXyhkZWx0YSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIFpvb20gZGVsdGEuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB6b29tQnlEZWx0YV8oZGVsdGEpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIGlmICghdmlldykge1xuICAgICAgLy8gdGhlIG1hcCBkb2VzIG5vdCBoYXZlIGEgdmlldywgc28gd2UgY2FuJ3QgYWN0XG4gICAgICAvLyB1cG9uIGl0XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRab29tID0gdmlldy5nZXRab29tKCk7XG4gICAgaWYgKGN1cnJlbnRab29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IG5ld1pvb20gPSB2aWV3LmdldENvbnN0cmFpbmVkWm9vbShjdXJyZW50Wm9vbSArIGRlbHRhKTtcbiAgICAgIGlmICh0aGlzLmR1cmF0aW9uXyA+IDApIHtcbiAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICB2aWV3LmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICB2aWV3LmFuaW1hdGUoe1xuICAgICAgICAgIHpvb206IG5ld1pvb20sXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb25fLFxuICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2aWV3LnNldFpvb20obmV3Wm9vbSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFpvb207XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUHJvcGVydHlcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgQUNUSVZFOiAnYWN0aXZlJyxcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25cbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBJbnRlcmFjdGlvblByb3BlcnR5IGZyb20gJy4vUHJvcGVydHkuanMnO1xuaW1wb3J0IHtlYXNlT3V0LCBsaW5lYXJ9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICAnY2hhbmdlOmFjdGl2ZScsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfFxuICogICAgICdjaGFuZ2U6YWN0aXZlJywgUmV0dXJuPn0gSW50ZXJhY3Rpb25PblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogT2JqZWN0IGxpdGVyYWwgd2l0aCBjb25maWcgb3B0aW9ucyBmb3IgaW50ZXJhY3Rpb25zLlxuICogQHR5cGVkZWYge09iamVjdH0gSW50ZXJhY3Rpb25PcHRpb25zXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBoYW5kbGVFdmVudFxuICogTWV0aG9kIGNhbGxlZCBieSB0aGUgbWFwIHRvIG5vdGlmeSB0aGUgaW50ZXJhY3Rpb24gdGhhdCBhIGJyb3dzZXIgZXZlbnQgd2FzXG4gKiBkaXNwYXRjaGVkIHRvIHRoZSBtYXAuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIHByb3BhZ2F0aW9uIG9mXG4gKiB0aGUgZXZlbnQgdG8gb3RoZXIgaW50ZXJhY3Rpb25zIGluIHRoZSBtYXAncyBpbnRlcmFjdGlvbnMgY2hhaW4gd2lsbCBiZVxuICogcHJldmVudGVkICh0aGlzIGluY2x1ZGVzIGZ1bmN0aW9ucyB3aXRoIG5vIGV4cGxpY2l0IHJldHVybikuIFRoZSBpbnRlcmFjdGlvbnNcbiAqIGFyZSB0cmF2ZXJzZWQgaW4gcmV2ZXJzZSBvcmRlciBvZiB0aGUgaW50ZXJhY3Rpb25zIGNvbGxlY3Rpb24gb2YgdGhlIG1hcC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIFVzZXIgYWN0aW9ucyB0aGF0IGNoYW5nZSB0aGUgc3RhdGUgb2YgdGhlIG1hcC4gU29tZSBhcmUgc2ltaWxhciB0byBjb250cm9scyxcbiAqIGJ1dCBhcmUgbm90IGFzc29jaWF0ZWQgd2l0aCBhIERPTSBlbGVtZW50LlxuICogRm9yIGV4YW1wbGUsIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tfktleWJvYXJkWm9vbX0gaXNcbiAqIGZ1bmN0aW9uYWxseSB0aGUgc2FtZSBhcyB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvWm9vbX5ab29tfSwgYnV0IHRyaWdnZXJlZFxuICogYnkgYSBrZXlib2FyZCBldmVudCBub3QgYSBidXR0b24gZWxlbWVudCBldmVudC5cbiAqIEFsdGhvdWdoIGludGVyYWN0aW9ucyBkbyBub3QgaGF2ZSBhIERPTSBlbGVtZW50LCBzb21lIG9mIHRoZW0gZG8gcmVuZGVyXG4gKiB2ZWN0b3JzIGFuZCBzbyBhcmUgdmlzaWJsZSBvbiB0aGUgc2NyZWVuLlxuICogQGFwaVxuICovXG5jbGFzcyBJbnRlcmFjdGlvbiBleHRlbmRzIEJhc2VPYmplY3Qge1xuICAvKipcbiAgICogQHBhcmFtIHtJbnRlcmFjdGlvbk9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0ludGVyYWN0aW9uT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7SW50ZXJhY3Rpb25PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uY2U7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0ludGVyYWN0aW9uT25TaWduYXR1cmU8dm9pZD59XG4gICAgICovXG4gICAgdGhpcy51bjtcblxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaGFuZGxlRXZlbnQpIHtcbiAgICAgIHRoaXMuaGFuZGxlRXZlbnQgPSBvcHRpb25zLmhhbmRsZUV2ZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9XG4gICAgICovXG4gICAgdGhpcy5tYXBfID0gbnVsbDtcblxuICAgIHRoaXMuc2V0QWN0aXZlKHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB3aGV0aGVyIHRoZSBpbnRlcmFjdGlvbiBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGludGVyYWN0aW9uIGlzIGFjdGl2ZSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEFjdGl2ZSgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtib29sZWFufSAqLyAodGhpcy5nZXQoSW50ZXJhY3Rpb25Qcm9wZXJ0eS5BQ1RJVkUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hcCBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnRlcmFjdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR8bnVsbH0gTWFwLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwXztcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgaGFuZGxlRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQWN0aXZhdGUgb3IgZGVhY3RpdmF0ZSB0aGUgaW50ZXJhY3Rpb24uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gYWN0aXZlIEFjdGl2ZS5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0QWN0aXZlKGFjdGl2ZSkge1xuICAgIHRoaXMuc2V0KEludGVyYWN0aW9uUHJvcGVydHkuQUNUSVZFLCBhY3RpdmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgaW50ZXJhY3Rpb24gZnJvbSBpdHMgY3VycmVudCBtYXAgYW5kIGF0dGFjaCBpdCB0byB0aGUgbmV3IG1hcC5cbiAgICogU3ViY2xhc3NlcyBtYXkgc2V0IHVwIGV2ZW50IGhhbmRsZXJzIHRvIGdldCBub3RpZmllZCBhYm91dCBjaGFuZ2VzIHRvXG4gICAqIHRoZSBtYXAgaGVyZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdHxudWxsfSBtYXAgTWFwLlxuICAgKi9cbiAgc2V0TWFwKG1hcCkge1xuICAgIHRoaXMubWFwXyA9IG1hcDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5kZWZhdWx0fSB2aWV3IFZpZXcuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZGVsdGEgRGVsdGEuXG4gKiBAcGFyYW0ge251bWJlcn0gW2R1cmF0aW9uXSBEdXJhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhbih2aWV3LCBkZWx0YSwgZHVyYXRpb24pIHtcbiAgY29uc3QgY3VycmVudENlbnRlciA9IHZpZXcuZ2V0Q2VudGVySW50ZXJuYWwoKTtcbiAgaWYgKGN1cnJlbnRDZW50ZXIpIHtcbiAgICBjb25zdCBjZW50ZXIgPSBbY3VycmVudENlbnRlclswXSArIGRlbHRhWzBdLCBjdXJyZW50Q2VudGVyWzFdICsgZGVsdGFbMV1dO1xuICAgIHZpZXcuYW5pbWF0ZUludGVybmFsKHtcbiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gZHVyYXRpb24gOiAyNTAsXG4gICAgICBlYXNpbmc6IGxpbmVhcixcbiAgICAgIGNlbnRlcjogdmlldy5nZXRDb25zdHJhaW5lZENlbnRlcihjZW50ZXIpLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLmRlZmF1bHR9IHZpZXcgVmlldy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YSBmcm9tIHByZXZpb3VzIHpvb20gbGV2ZWwuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gQW5jaG9yIGNvb3JkaW5hdGUgaW4gdGhlIHVzZXIgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZHVyYXRpb25dIER1cmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIGFuY2hvciwgZHVyYXRpb24pIHtcbiAgY29uc3QgY3VycmVudFpvb20gPSB2aWV3LmdldFpvb20oKTtcblxuICBpZiAoY3VycmVudFpvb20gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG5ld1pvb20gPSB2aWV3LmdldENvbnN0cmFpbmVkWm9vbShjdXJyZW50Wm9vbSArIGRlbHRhKTtcbiAgY29uc3QgbmV3UmVzb2x1dGlvbiA9IHZpZXcuZ2V0UmVzb2x1dGlvbkZvclpvb20obmV3Wm9vbSk7XG5cbiAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICB2aWV3LmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgfVxuICB2aWV3LmFuaW1hdGUoe1xuICAgIHJlc29sdXRpb246IG5ld1Jlc29sdXRpb24sXG4gICAgYW5jaG9yOiBhbmNob3IsXG4gICAgZHVyYXRpb246IGR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBkdXJhdGlvbiA6IDI1MCxcbiAgICBlYXNpbmc6IGVhc2VPdXQsXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcmFjdGlvbjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9Eb3VibGVDbGlja1pvb21cbiAqL1xuaW1wb3J0IEludGVyYWN0aW9uLCB7em9vbUJ5RGVsdGF9IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0yNTBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2RlbHRhPTFdIFRoZSB6b29tIGRlbHRhIGFwcGxpZWQgb24gZWFjaCBkb3VibGUgY2xpY2suXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gem9vbSBieSBkb3VibGUtY2xpY2tpbmcgb24gdGhlIG1hcC5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgRG91YmxlQ2xpY2tab29tIGV4dGVuZHMgSW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kZWx0YV8gPSBvcHRpb25zLmRlbHRhID8gb3B0aW9ucy5kZWx0YSA6IDE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gKGlmIGl0IHdhcyBhXG4gICAqIGRvdWJsZWNsaWNrKSBhbmQgZXZlbnR1YWxseSB6b29tcyB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICovXG4gIGhhbmRsZUV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGxldCBzdG9wRXZlbnQgPSBmYWxzZTtcbiAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5EQkxDTElDSykge1xuICAgICAgY29uc3QgYnJvd3NlckV2ZW50ID0gLyoqIEB0eXBlIHtNb3VzZUV2ZW50fSAqLyAoXG4gICAgICAgIG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50XG4gICAgICApO1xuICAgICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgIGNvbnN0IGFuY2hvciA9IG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlO1xuICAgICAgY29uc3QgZGVsdGEgPSBicm93c2VyRXZlbnQuc2hpZnRLZXkgPyAtdGhpcy5kZWx0YV8gOiB0aGlzLmRlbHRhXztcbiAgICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIGFuY2hvciwgdGhpcy5kdXJhdGlvbl8pO1xuICAgICAgYnJvd3NlckV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzdG9wRXZlbnQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gIXN0b3BFdmVudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEb3VibGVDbGlja1pvb207XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUG9pbnRlclxuICovXG5pbXBvcnQgSW50ZXJhY3Rpb24gZnJvbSAnLi9JbnRlcmFjdGlvbi5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBbaGFuZGxlRG93bkV2ZW50XVxuICogRnVuY3Rpb24gaGFuZGxpbmcgXCJkb3duXCIgZXZlbnRzLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWAgdGhlbiBhIGRyYWdcbiAqIHNlcXVlbmNlIGlzIHN0YXJ0ZWQuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbaGFuZGxlRHJhZ0V2ZW50XVxuICogRnVuY3Rpb24gaGFuZGxpbmcgXCJkcmFnXCIgZXZlbnRzLiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBcIm1vdmVcIiBldmVudHNcbiAqIGR1cmluZyBhIGRyYWcgc2VxdWVuY2UuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBbaGFuZGxlRXZlbnRdXG4gKiBNZXRob2QgY2FsbGVkIGJ5IHRoZSBtYXAgdG8gbm90aWZ5IHRoZSBpbnRlcmFjdGlvbiB0aGF0IGEgYnJvd3NlciBldmVudCB3YXNcbiAqIGRpc3BhdGNoZWQgdG8gdGhlIG1hcC4gVGhlIGZ1bmN0aW9uIG1heSByZXR1cm4gYGZhbHNlYCB0byBwcmV2ZW50IHRoZVxuICogcHJvcGFnYXRpb24gb2YgdGhlIGV2ZW50IHRvIG90aGVyIGludGVyYWN0aW9ucyBpbiB0aGUgbWFwJ3MgaW50ZXJhY3Rpb25zXG4gKiBjaGFpbi5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtoYW5kbGVNb3ZlRXZlbnRdXG4gKiBGdW5jdGlvbiBoYW5kbGluZyBcIm1vdmVcIiBldmVudHMuIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIFwibW92ZVwiIGV2ZW50cy5cbiAqIFRoaXMgZnVuY3Rpb25zIGlzIGFsc28gY2FsbGVkIGR1cmluZyBhIGRyYWcgc2VxdWVuY2UsIHNvIGR1cmluZyBhIGRyYWdcbiAqIHNlcXVlbmNlIGJvdGggdGhlIGBoYW5kbGVEcmFnRXZlbnRgIGZ1bmN0aW9uIGFuZCB0aGlzIGZ1bmN0aW9uIGFyZSBjYWxsZWQuXG4gKiBJZiBgaGFuZGxlRG93bkV2ZW50YCBpcyBkZWZpbmVkIGFuZCBpdCByZXR1cm5zIHRydWUgdGhpcyBmdW5jdGlvbiB3aWxsIG5vdFxuICogYmUgY2FsbGVkIGR1cmluZyBhIGRyYWcgc2VxdWVuY2UuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBbaGFuZGxlVXBFdmVudF1cbiAqICBGdW5jdGlvbiBoYW5kbGluZyBcInVwXCIgZXZlbnRzLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBgZmFsc2VgIHRoZW4gdGhlXG4gKiBjdXJyZW50IGRyYWcgc2VxdWVuY2UgaXMgc3RvcHBlZC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oYm9vbGVhbik6Ym9vbGVhbn0gW3N0b3BEb3duXVxuICogU2hvdWxkIHRoZSBkb3duIGV2ZW50IGJlIHByb3BhZ2F0ZWQgdG8gb3RoZXIgaW50ZXJhY3Rpb25zLCBvciBzaG91bGQgYmVcbiAqIHN0b3BwZWQ/XG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIHRoYXQgY2FsbHMgdXNlci1kZWZpbmVkIGZ1bmN0aW9ucyBvbiBgZG93bmAsIGBtb3ZlYCBhbmQgYHVwYFxuICogZXZlbnRzLiBUaGlzIGNsYXNzIGFsc28gbWFuYWdlcyBcImRyYWcgc2VxdWVuY2VzXCIuXG4gKlxuICogV2hlbiB0aGUgYGhhbmRsZURvd25FdmVudGAgdXNlciBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBhIGRyYWcgc2VxdWVuY2UgaXNcbiAqIHN0YXJ0ZWQuIER1cmluZyBhIGRyYWcgc2VxdWVuY2UgdGhlIGBoYW5kbGVEcmFnRXZlbnRgIHVzZXIgZnVuY3Rpb24gaXNcbiAqIGNhbGxlZCBvbiBgbW92ZWAgZXZlbnRzLiBUaGUgZHJhZyBzZXF1ZW5jZSBlbmRzIHdoZW4gdGhlIGBoYW5kbGVVcEV2ZW50YFxuICogdXNlciBmdW5jdGlvbiBpcyBjYWxsZWQgYW5kIHJldHVybnMgYGZhbHNlYC5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgUG9pbnRlckludGVyYWN0aW9uIGV4dGVuZHMgSW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIHN1cGVyKFxuICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0ludGVyYWN0aW9uLmpzXCIpLkludGVyYWN0aW9uT3B0aW9uc30gKi8gKG9wdGlvbnMpXG4gICAgKTtcblxuICAgIGlmIChvcHRpb25zLmhhbmRsZURvd25FdmVudCkge1xuICAgICAgdGhpcy5oYW5kbGVEb3duRXZlbnQgPSBvcHRpb25zLmhhbmRsZURvd25FdmVudDtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5oYW5kbGVEcmFnRXZlbnQpIHtcbiAgICAgIHRoaXMuaGFuZGxlRHJhZ0V2ZW50ID0gb3B0aW9ucy5oYW5kbGVEcmFnRXZlbnQ7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaGFuZGxlTW92ZUV2ZW50KSB7XG4gICAgICB0aGlzLmhhbmRsZU1vdmVFdmVudCA9IG9wdGlvbnMuaGFuZGxlTW92ZUV2ZW50O1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmhhbmRsZVVwRXZlbnQpIHtcbiAgICAgIHRoaXMuaGFuZGxlVXBFdmVudCA9IG9wdGlvbnMuaGFuZGxlVXBFdmVudDtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5zdG9wRG93bikge1xuICAgICAgdGhpcy5zdG9wRG93biA9IG9wdGlvbnMuc3RvcERvd247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PFBvaW50ZXJFdmVudD59XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0UG9pbnRlcnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IG51bWJlciBvZiBwb2ludGVycyBpbnZvbHZlZCBpbiB0aGUgaW50ZXJhY3Rpb24sXG4gICAqIGUuZy4gYDJgIHdoZW4gdHdvIGZpbmdlcnMgYXJlIHVzZWQuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG51bWJlciBvZiBwb2ludGVycy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UG9pbnRlckNvdW50KCkge1xuICAgIHJldHVybiB0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBoYW5kbGVEb3duRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIGRyYWcgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGhhbmRsZURyYWdFdmVudChtYXBCcm93c2VyRXZlbnQpIHt9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gYW5kIG1heSBjYWxsIGludG9cbiAgICogb3RoZXIgZnVuY3Rpb25zLCBpZiBldmVudCBzZXF1ZW5jZXMgbGlrZSBlLmcuICdkcmFnJyBvciAnZG93bi11cCcgZXRjLiBhcmVcbiAgICogZGV0ZWN0ZWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gYGZhbHNlYCB0byBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBoYW5kbGVFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoIW1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBsZXQgc3RvcEV2ZW50ID0gZmFsc2U7XG4gICAgdGhpcy51cGRhdGVUcmFja2VkUG9pbnRlcnNfKG1hcEJyb3dzZXJFdmVudCk7XG4gICAgaWYgKHRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSkge1xuICAgICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRSQUcpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVEcmFnRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgLy8gcHJldmVudCBwYWdlIHNjcm9sbGluZyBkdXJpbmcgZHJhZ2dpbmdcbiAgICAgICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0gZWxzZSBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVApIHtcbiAgICAgICAgY29uc3QgaGFuZGxlZFVwID0gdGhpcy5oYW5kbGVVcEV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgIHRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSA9XG4gICAgICAgICAgaGFuZGxlZFVwICYmIHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID4gMDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04pIHtcbiAgICAgICAgY29uc3QgaGFuZGxlZCA9IHRoaXMuaGFuZGxlRG93bkV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgIHRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSA9IGhhbmRsZWQ7XG4gICAgICAgIHN0b3BFdmVudCA9IHRoaXMuc3RvcERvd24oaGFuZGxlZCk7XG4gICAgICB9IGVsc2UgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUk1PVkUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVNb3ZlRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICFzdG9wRXZlbnQ7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgbW92ZSBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgaGFuZGxlTW92ZUV2ZW50KG1hcEJyb3dzZXJFdmVudCkge31cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGhhbmRsZVVwRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBkZXRlcm1pbmUgaWYgXCJkb3duXCIgZXZlbnRzIHNob3VsZCBiZSBwcm9wYWdhdGVkXG4gICAqIHRvIG90aGVyIGludGVyYWN0aW9ucyBvciBzaG91bGQgYmUgc3RvcHBlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBoYW5kbGVkIFdhcyB0aGUgZXZlbnQgaGFuZGxlZCBieSB0aGUgaW50ZXJhY3Rpb24/XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFNob3VsZCB0aGUgYGRvd25gIGV2ZW50IGJlIHN0b3BwZWQ/XG4gICAqL1xuICBzdG9wRG93bihoYW5kbGVkKSB7XG4gICAgcmV0dXJuIGhhbmRsZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdXBkYXRlVHJhY2tlZFBvaW50ZXJzXyhtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAobWFwQnJvd3NlckV2ZW50LmFjdGl2ZVBvaW50ZXJzKSB7XG4gICAgICB0aGlzLnRhcmdldFBvaW50ZXJzID0gbWFwQnJvd3NlckV2ZW50LmFjdGl2ZVBvaW50ZXJzO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8UG9pbnRlckV2ZW50Pn0gcG9pbnRlckV2ZW50cyBMaXN0IG9mIGV2ZW50cy5cbiAqIEByZXR1cm4ge3tjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcn19IENlbnRyb2lkIHBpeGVsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VudHJvaWQocG9pbnRlckV2ZW50cykge1xuICBjb25zdCBsZW5ndGggPSBwb2ludGVyRXZlbnRzLmxlbmd0aDtcbiAgbGV0IGNsaWVudFggPSAwO1xuICBsZXQgY2xpZW50WSA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjbGllbnRYICs9IHBvaW50ZXJFdmVudHNbaV0uY2xpZW50WDtcbiAgICBjbGllbnRZICs9IHBvaW50ZXJFdmVudHNbaV0uY2xpZW50WTtcbiAgfVxuICByZXR1cm4ge2NsaWVudFg6IGNsaWVudFggLyBsZW5ndGgsIGNsaWVudFk6IGNsaWVudFkgLyBsZW5ndGh9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBQb2ludGVySW50ZXJhY3Rpb247XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL2NvbmRpdGlvblxuICovXG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7RkFMU0UsIFRSVUV9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge01BQywgV0VCS0lUfSBmcm9tICcuLi9oYXMuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGB7Ym9vbGVhbn1gLiBJZiB0aGUgY29uZGl0aW9uIGlzIG1ldCwgdHJ1ZSBzaG91bGQgYmUgcmV0dXJuZWQuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKHRoaXM6ID8sIGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gQ29uZGl0aW9uXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgY29uZGl0aW9uIGZ1bmN0aW9uIHRoYXQgcGFzc2VzIHdoZW4gYWxsIHByb3ZpZGVkIGNvbmRpdGlvbnMgcGFzcy5cbiAqIEBwYXJhbSB7Li4uQ29uZGl0aW9ufSB2YXJfYXJncyBDb25kaXRpb25zIHRvIGNoZWNrLlxuICogQHJldHVybiB7Q29uZGl0aW9ufSBDb25kaXRpb24gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbGwodmFyX2FyZ3MpIHtcbiAgY29uc3QgY29uZGl0aW9ucyA9IGFyZ3VtZW50cztcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBBbGwgY29uZGl0aW9ucyBwYXNzZWQuXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgbGV0IHBhc3MgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGNvbmRpdGlvbnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgcGFzcyA9IHBhc3MgJiYgY29uZGl0aW9uc1tpXShldmVudCk7XG4gICAgICBpZiAoIXBhc3MpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXNzO1xuICB9O1xufVxuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgb25seSB0aGUgYWx0LWtleSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZSAoZS5nLiB3aGVuXG4gKiBhZGRpdGlvbmFsbHkgdGhlIHNoaWZ0LWtleSBpcyBwcmVzc2VkKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG9ubHkgdGhlIGFsdCBrZXkgaXMgcHJlc3NlZC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IGFsdEtleU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIGNvbnN0IG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAoXG4gICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgKTtcbiAgcmV0dXJuIChcbiAgICBvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICEob3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IG9yaWdpbmFsRXZlbnQuY3RybEtleSkgJiZcbiAgICAhb3JpZ2luYWxFdmVudC5zaGlmdEtleVxuICApO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIG9ubHkgdGhlIGFsdC1rZXkgYW5kIHNoaWZ0LWtleSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZVxuICogKGUuZy4gd2hlbiBhZGRpdGlvbmFsbHkgdGhlIHBsYXRmb3JtLW1vZGlmaWVyLWtleSBpcyBwcmVzc2VkKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG9ubHkgdGhlIGFsdCBhbmQgc2hpZnQga2V5cyBhcmUgcHJlc3NlZC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IGFsdFNoaWZ0S2V5c09ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIGNvbnN0IG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAoXG4gICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgKTtcbiAgcmV0dXJuIChcbiAgICBvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICEob3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IG9yaWdpbmFsRXZlbnQuY3RybEtleSkgJiZcbiAgICBvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5XG4gICk7XG59O1xuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIG1hcCBoYXMgdGhlIGZvY3VzLiBUaGlzIGNvbmRpdGlvbiByZXF1aXJlcyBhIG1hcCB0YXJnZXRcbiAqIGVsZW1lbnQgd2l0aCBhIGB0YWJpbmRleGAgYXR0cmlidXRlLCBlLmcuIGA8ZGl2IGlkPVwibWFwXCIgdGFiaW5kZXg9XCIxXCI+YC5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBtYXAgaGFzIHRoZSBmb2N1cy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IGZvY3VzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBldmVudC5tYXAuZ2V0VGFyZ2V0RWxlbWVudCgpO1xuICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZXZlbnQubWFwLmdldE93bmVyRG9jdW1lbnQoKS5hY3RpdmVFbGVtZW50O1xuICByZXR1cm4gdGFyZ2V0RWxlbWVudC5jb250YWlucyhhY3RpdmVFbGVtZW50KTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgbWFwIGhhcyB0aGUgZm9jdXMgb3Igbm8gJ3RhYmluZGV4JyBhdHRyaWJ1dGUgc2V0LlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIG1hcCBjb250YWluZXIgaGFzIHRoZSBmb2N1cyBvciBubyAndGFiaW5kZXgnIGF0dHJpYnV0ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGZvY3VzV2l0aFRhYmluZGV4ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHJldHVybiBldmVudC5tYXAuZ2V0VGFyZ2V0RWxlbWVudCgpLmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKVxuICAgID8gZm9jdXMoZXZlbnQpXG4gICAgOiB0cnVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYWx3YXlzIHRydWUuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IGFsd2F5cyA9IFRSVUU7XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaXMgYSBgY2xpY2tgIGV2ZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgY2xpY2tgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgY2xpY2sgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLkNMSUNLO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBoYXMgYW4gXCJhY3Rpb25cIi1wcm9kdWNpbmcgbW91c2UgYnV0dG9uLlxuICpcbiAqIEJ5IGRlZmluaXRpb24sIHRoaXMgaW5jbHVkZXMgbGVmdC1jbGljayBvbiB3aW5kb3dzL2xpbnV4LCBhbmQgbGVmdC1jbGlja1xuICogd2l0aG91dCB0aGUgY3RybCBrZXkgb24gTWFjcy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgcmVzdWx0LlxuICovXG5leHBvcnQgY29uc3QgbW91c2VBY3Rpb25CdXR0b24gPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIGNvbnN0IG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovIChcbiAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICApO1xuICByZXR1cm4gb3JpZ2luYWxFdmVudC5idXR0b24gPT0gMCAmJiAhKFdFQktJVCAmJiBNQUMgJiYgb3JpZ2luYWxFdmVudC5jdHJsS2V5KTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGFsd2F5cyBmYWxzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBGYWxzZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IG5ldmVyID0gRkFMU0U7XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgYnJvd3NlciBldmVudCBpcyBhIGBwb2ludGVybW92ZWAgZXZlbnQsIGBmYWxzZWBcbiAqIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBicm93c2VyIGV2ZW50IGlzIGEgYHBvaW50ZXJtb3ZlYCBldmVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IHBvaW50ZXJNb3ZlID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICByZXR1cm4gbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gJ3BvaW50ZXJtb3ZlJztcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaXMgYSBtYXAgYHNpbmdsZWNsaWNrYCBldmVudCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgaXMgYSBtYXAgYHNpbmdsZWNsaWNrYCBldmVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IHNpbmdsZUNsaWNrID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICByZXR1cm4gbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5TSU5HTEVDTElDSztcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaXMgYSBtYXAgYGRibGNsaWNrYCBldmVudCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgaXMgYSBtYXAgYGRibGNsaWNrYCBldmVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IGRvdWJsZUNsaWNrID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICByZXR1cm4gbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5EQkxDTElDSztcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiBubyBtb2RpZmllciBrZXkgKGFsdC0sIHNoaWZ0LSBvciBwbGF0Zm9ybS1tb2RpZmllci1rZXkpIGlzXG4gKiBwcmVzc2VkLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgb25seSBpZiB0aGVyZSBubyBtb2RpZmllciBrZXlzIGFyZSBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3Qgbm9Nb2RpZmllcktleXMgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIGNvbnN0IG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAoXG4gICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgKTtcbiAgcmV0dXJuIChcbiAgICAhb3JpZ2luYWxFdmVudC5hbHRLZXkgJiZcbiAgICAhKG9yaWdpbmFsRXZlbnQubWV0YUtleSB8fCBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpICYmXG4gICAgIW9yaWdpbmFsRXZlbnQuc2hpZnRLZXlcbiAgKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiBvbmx5IHRoZSBwbGF0Zm9ybS1tb2RpZmllci1rZXkgKHRoZSBtZXRhLWtleSBvbiBNYWMsXG4gKiBjdHJsLWtleSBvdGhlcndpc2UpIGlzIHByZXNzZWQsIGBmYWxzZWAgb3RoZXJ3aXNlIChlLmcuIHdoZW4gYWRkaXRpb25hbGx5XG4gKiB0aGUgc2hpZnQta2V5IGlzIHByZXNzZWQpLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgb25seSB0aGUgcGxhdGZvcm0gbW9kaWZpZXIga2V5IGlzIHByZXNzZWQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCBwbGF0Zm9ybU1vZGlmaWVyS2V5T25seSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudHxNb3VzZUV2ZW50fFRvdWNoRXZlbnR9ICovIChcbiAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICApO1xuICByZXR1cm4gKFxuICAgICFvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgIChNQUMgPyBvcmlnaW5hbEV2ZW50Lm1ldGFLZXkgOiBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpICYmXG4gICAgIW9yaWdpbmFsRXZlbnQuc2hpZnRLZXlcbiAgKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiBvbmx5IHRoZSBzaGlmdC1rZXkgaXMgcHJlc3NlZCwgYGZhbHNlYCBvdGhlcndpc2UgKGUuZy4gd2hlblxuICogYWRkaXRpb25hbGx5IHRoZSBhbHQta2V5IGlzIHByZXNzZWQpLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgb25seSB0aGUgc2hpZnQga2V5IGlzIHByZXNzZWQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCBzaGlmdEtleU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIGNvbnN0IG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAoXG4gICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgKTtcbiAgcmV0dXJuIChcbiAgICAhb3JpZ2luYWxFdmVudC5hbHRLZXkgJiZcbiAgICAhKG9yaWdpbmFsRXZlbnQubWV0YUtleSB8fCBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpICYmXG4gICAgb3JpZ2luYWxFdmVudC5zaGlmdEtleVxuICApO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBub3QgZWRpdGFibGUsIGkuZS4gbm90IGFuIGBpbnB1dGAsXG4gKiBgc2VsZWN0YCwgb3IgYHRleHRhcmVhYCBlbGVtZW50IGFuZCBubyBgY29udGVudGVkaXRhYmxlYCBhdHRyaWJ1dGUgaXNcbiAqIHNldCBvciBpbmhlcml0ZWQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgb25seSBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgbm90IGVkaXRhYmxlLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgdGFyZ2V0Tm90RWRpdGFibGUgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIGNvbnN0IG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAoXG4gICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgKTtcbiAgY29uc3QgdGFnTmFtZSA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKG9yaWdpbmFsRXZlbnQudGFyZ2V0KS50YWdOYW1lO1xuICByZXR1cm4gKFxuICAgIHRhZ05hbWUgIT09ICdJTlBVVCcgJiZcbiAgICB0YWdOYW1lICE9PSAnU0VMRUNUJyAmJlxuICAgIHRhZ05hbWUgIT09ICdURVhUQVJFQScgJiZcbiAgICAvLyBgaXNDb250ZW50RWRpdGFibGVgIGlzIG9ubHkgYXZhaWxhYmxlIG9uIGBIVE1MRWxlbWVudGAsIGJ1dCBpdCBtYXkgYWxzbyBiZSBhXG4gICAgLy8gZGlmZmVyZW50IHR5cGUgbGlrZSBgU1ZHRWxlbWVudGAuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgICFvcmlnaW5hbEV2ZW50LnRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZVxuICApO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBvcmlnaW5hdGVzIGZyb20gYSBtb3VzZSBkZXZpY2UuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgbW91c2UgZGV2aWNlLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgbW91c2VPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICBjb25zdCBwb2ludGVyRXZlbnQgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudFwiKS5kZWZhdWx0fSAqLyAoXG4gICAgbWFwQnJvd3NlckV2ZW50XG4gICkub3JpZ2luYWxFdmVudDtcbiAgYXNzZXJ0KHBvaW50ZXJFdmVudCAhPT0gdW5kZWZpbmVkLCA1Nik7IC8vIG1hcEJyb3dzZXJFdmVudCBtdXN0IG9yaWdpbmF0ZSBmcm9tIGEgcG9pbnRlciBldmVudFxuICAvLyBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL3BvaW50ZXJldmVudHMvI3dpZGwtUG9pbnRlckV2ZW50LXBvaW50ZXJUeXBlXG4gIHJldHVybiBwb2ludGVyRXZlbnQucG9pbnRlclR5cGUgPT0gJ21vdXNlJztcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgdG91Y2hhYmxlIGRldmljZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBvcmlnaW5hdGVzIGZyb20gYSB0b3VjaGFibGUgZGV2aWNlLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgdG91Y2hPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICBjb25zdCBwb2ludGVyRXZ0ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnRcIikuZGVmYXVsdH0gKi8gKFxuICAgIG1hcEJyb3dzZXJFdmVudFxuICApLm9yaWdpbmFsRXZlbnQ7XG4gIGFzc2VydChwb2ludGVyRXZ0ICE9PSB1bmRlZmluZWQsIDU2KTsgLy8gbWFwQnJvd3NlckV2ZW50IG11c3Qgb3JpZ2luYXRlIGZyb20gYSBwb2ludGVyIGV2ZW50XG4gIC8vIHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jd2lkbC1Qb2ludGVyRXZlbnQtcG9pbnRlclR5cGVcbiAgcmV0dXJuIHBvaW50ZXJFdnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG59O1xuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIGRpZ2l0YWwgcGVuLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIGRpZ2l0YWwgcGVuLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgcGVuT25seSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgY29uc3QgcG9pbnRlckV2dCA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50XCIpLmRlZmF1bHR9ICovIChcbiAgICBtYXBCcm93c2VyRXZlbnRcbiAgKS5vcmlnaW5hbEV2ZW50O1xuICBhc3NlcnQocG9pbnRlckV2dCAhPT0gdW5kZWZpbmVkLCA1Nik7IC8vIG1hcEJyb3dzZXJFdmVudCBtdXN0IG9yaWdpbmF0ZSBmcm9tIGEgcG9pbnRlciBldmVudFxuICAvLyBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL3BvaW50ZXJldmVudHMvI3dpZGwtUG9pbnRlckV2ZW50LXBvaW50ZXJUeXBlXG4gIHJldHVybiBwb2ludGVyRXZ0LnBvaW50ZXJUeXBlID09PSAncGVuJztcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgcHJpbWFyeSBwb2ludGVyIGluXG4gKiBjb250YWN0IHdpdGggdGhlIHN1cmZhY2Ugb3IgaWYgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGlzIHByZXNzZWQuXG4gKiBTZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL3BvaW50ZXJldmVudHMvI2J1dHRvbi1zdGF0ZXMuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgcHJpbWFyeSBwb2ludGVyLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgcHJpbWFyeUFjdGlvbiA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgY29uc3QgcG9pbnRlckV2ZW50ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnRcIikuZGVmYXVsdH0gKi8gKFxuICAgIG1hcEJyb3dzZXJFdmVudFxuICApLm9yaWdpbmFsRXZlbnQ7XG4gIGFzc2VydChwb2ludGVyRXZlbnQgIT09IHVuZGVmaW5lZCwgNTYpOyAvLyBtYXBCcm93c2VyRXZlbnQgbXVzdCBvcmlnaW5hdGUgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgcmV0dXJuIHBvaW50ZXJFdmVudC5pc1ByaW1hcnkgJiYgcG9pbnRlckV2ZW50LmJ1dHRvbiA9PT0gMDtcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRHJhZ1BhblxuICovXG5pbXBvcnQgUG9pbnRlckludGVyYWN0aW9uLCB7XG4gIGNlbnRyb2lkIGFzIGNlbnRyb2lkRnJvbVBvaW50ZXJzLFxufSBmcm9tICcuL1BvaW50ZXIuanMnO1xuaW1wb3J0IHtGQUxTRX0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7XG4gIGFsbCxcbiAgZm9jdXNXaXRoVGFiaW5kZXgsXG4gIG5vTW9kaWZpZXJLZXlzLFxuICBwcmltYXJ5QWN0aW9uLFxufSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbmltcG9ydCB7ZWFzZU91dH0gZnJvbSAnLi4vZWFzaW5nLmpzJztcbmltcG9ydCB7XG4gIHJvdGF0ZSBhcyByb3RhdGVDb29yZGluYXRlLFxuICBzY2FsZSBhcyBzY2FsZUNvb3JkaW5hdGUsXG59IGZyb20gJy4uL2Nvb3JkaW5hdGUuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGEgYm9vbGVhblxuICogdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24ubm9Nb2RpZmllcktleXN9IGFuZCB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24ucHJpbWFyeUFjdGlvbn0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvbkZvY3VzT25seT1mYWxzZV0gV2hlbiB0aGUgbWFwJ3MgdGFyZ2V0IGhhcyBhIGB0YWJpbmRleGAgYXR0cmlidXRlIHNldCxcbiAqIHRoZSBpbnRlcmFjdGlvbiB3aWxsIG9ubHkgaGFuZGxlIGV2ZW50cyB3aGVuIHRoZSBtYXAgaGFzIHRoZSBmb2N1cy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vS2luZXRpYy5qc1wiKS5kZWZhdWx0fSBba2luZXRpY10gS2luZXRpYyBpbmVydGlhIHRvIGFwcGx5IHRvIHRoZSBwYW4uXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcGFuIHRoZSBtYXAgYnkgZHJhZ2dpbmcgdGhlIG1hcC5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgRHJhZ1BhbiBleHRlbmRzIFBvaW50ZXJJbnRlcmFjdGlvbiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKHtcbiAgICAgIHN0b3BEb3duOiBGQUxTRSxcbiAgICB9KTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vS2luZXRpYy5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmtpbmV0aWNfID0gb3B0aW9ucy5raW5ldGljO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAqL1xuICAgIHRoaXMubGFzdENlbnRyb2lkID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sYXN0UG9pbnRlcnNDb3VudF87XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnBhbm5pbmdfID0gZmFsc2U7XG5cbiAgICBjb25zdCBjb25kaXRpb24gPSBvcHRpb25zLmNvbmRpdGlvblxuICAgICAgPyBvcHRpb25zLmNvbmRpdGlvblxuICAgICAgOiBhbGwobm9Nb2RpZmllcktleXMsIHByaW1hcnlBY3Rpb24pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICovXG4gICAgdGhpcy5jb25kaXRpb25fID0gb3B0aW9ucy5vbkZvY3VzT25seVxuICAgICAgPyBhbGwoZm9jdXNXaXRoVGFiaW5kZXgsIGNvbmRpdGlvbilcbiAgICAgIDogY29uZGl0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm5vS2luZXRpY18gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBkcmFnIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKi9cbiAgaGFuZGxlRHJhZ0V2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgaWYgKCF0aGlzLnBhbm5pbmdfKSB7XG4gICAgICB0aGlzLnBhbm5pbmdfID0gdHJ1ZTtcbiAgICAgIG1hcC5nZXRWaWV3KCkuYmVnaW5JbnRlcmFjdGlvbigpO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXRQb2ludGVycyA9IHRoaXMudGFyZ2V0UG9pbnRlcnM7XG4gICAgY29uc3QgY2VudHJvaWQgPSBtYXAuZ2V0RXZlbnRQaXhlbChjZW50cm9pZEZyb21Qb2ludGVycyh0YXJnZXRQb2ludGVycykpO1xuICAgIGlmICh0YXJnZXRQb2ludGVycy5sZW5ndGggPT0gdGhpcy5sYXN0UG9pbnRlcnNDb3VudF8pIHtcbiAgICAgIGlmICh0aGlzLmtpbmV0aWNfKSB7XG4gICAgICAgIHRoaXMua2luZXRpY18udXBkYXRlKGNlbnRyb2lkWzBdLCBjZW50cm9pZFsxXSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5sYXN0Q2VudHJvaWQpIHtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBbXG4gICAgICAgICAgdGhpcy5sYXN0Q2VudHJvaWRbMF0gLSBjZW50cm9pZFswXSxcbiAgICAgICAgICBjZW50cm9pZFsxXSAtIHRoaXMubGFzdENlbnRyb2lkWzFdLFxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgc2NhbGVDb29yZGluYXRlKGRlbHRhLCB2aWV3LmdldFJlc29sdXRpb24oKSk7XG4gICAgICAgIHJvdGF0ZUNvb3JkaW5hdGUoZGVsdGEsIHZpZXcuZ2V0Um90YXRpb24oKSk7XG4gICAgICAgIHZpZXcuYWRqdXN0Q2VudGVySW50ZXJuYWwoZGVsdGEpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5raW5ldGljXykge1xuICAgICAgLy8gcmVzZXQgc28gd2UgZG9uJ3Qgb3ZlcmVzdGltYXRlIHRoZSBraW5ldGljIGVuZXJneSBhZnRlclxuICAgICAgLy8gYWZ0ZXIgb25lIGZpbmdlciBkb3duLCB0aW55IGRyYWcsIHNlY29uZCBmaW5nZXIgZG93blxuICAgICAgdGhpcy5raW5ldGljXy5iZWdpbigpO1xuICAgIH1cbiAgICB0aGlzLmxhc3RDZW50cm9pZCA9IGNlbnRyb2lkO1xuICAgIHRoaXMubGFzdFBvaW50ZXJzQ291bnRfID0gdGFyZ2V0UG9pbnRlcnMubGVuZ3RoO1xuICAgIG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAqL1xuICBoYW5kbGVVcEV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgY29uc3QgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAoIXRoaXMubm9LaW5ldGljXyAmJiB0aGlzLmtpbmV0aWNfICYmIHRoaXMua2luZXRpY18uZW5kKCkpIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLmtpbmV0aWNfLmdldERpc3RhbmNlKCk7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gdGhpcy5raW5ldGljXy5nZXRBbmdsZSgpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB2aWV3LmdldENlbnRlckludGVybmFsKCk7XG4gICAgICAgIGNvbnN0IGNlbnRlcnB4ID0gbWFwLmdldFBpeGVsRnJvbUNvb3JkaW5hdGVJbnRlcm5hbChjZW50ZXIpO1xuICAgICAgICBjb25zdCBkZXN0ID0gbWFwLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChbXG4gICAgICAgICAgY2VudGVycHhbMF0gLSBkaXN0YW5jZSAqIE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICBjZW50ZXJweFsxXSAtIGRpc3RhbmNlICogTWF0aC5zaW4oYW5nbGUpLFxuICAgICAgICBdKTtcbiAgICAgICAgdmlldy5hbmltYXRlSW50ZXJuYWwoe1xuICAgICAgICAgIGNlbnRlcjogdmlldy5nZXRDb25zdHJhaW5lZENlbnRlcihkZXN0KSxcbiAgICAgICAgICBkdXJhdGlvbjogNTAwLFxuICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wYW5uaW5nXykge1xuICAgICAgICB0aGlzLnBhbm5pbmdfID0gZmFsc2U7XG4gICAgICAgIHZpZXcuZW5kSW50ZXJhY3Rpb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMua2luZXRpY18pIHtcbiAgICAgIC8vIHJlc2V0IHNvIHdlIGRvbid0IG92ZXJlc3RpbWF0ZSB0aGUga2luZXRpYyBlbmVyZ3kgYWZ0ZXJcbiAgICAgIC8vIGFmdGVyIG9uZSBmaW5nZXIgdXAsIHRpbnkgZHJhZywgc2Vjb25kIGZpbmdlciB1cFxuICAgICAgdGhpcy5raW5ldGljXy5iZWdpbigpO1xuICAgIH1cbiAgICB0aGlzLmxhc3RDZW50cm9pZCA9IG51bGw7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgZG93biBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICovXG4gIGhhbmRsZURvd25FdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPiAwICYmIHRoaXMuY29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgY29uc3QgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICB0aGlzLmxhc3RDZW50cm9pZCA9IG51bGw7XG4gICAgICAvLyBzdG9wIGFueSBjdXJyZW50IGFuaW1hdGlvblxuICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5raW5ldGljXykge1xuICAgICAgICB0aGlzLmtpbmV0aWNfLmJlZ2luKCk7XG4gICAgICB9XG4gICAgICAvLyBObyBraW5ldGljIGFzIHNvb24gYXMgbW9yZSB0aGFuIG9uZSBwb2ludGVyIG9uIHRoZSBzY3JlZW4gaXNcbiAgICAgIC8vIGRldGVjdGVkLiBUaGlzIGlzIHRvIHByZXZlbnQgbmFzdHkgcGFucyBhZnRlciBwaW5jaC5cbiAgICAgIHRoaXMubm9LaW5ldGljXyA9IHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID4gMTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRHJhZ1BhbjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnUm90YXRlXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCB7RkFMU0V9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge1xuICBhbHRTaGlmdEtleXNPbmx5LFxuICBtb3VzZUFjdGlvbkJ1dHRvbixcbiAgbW91c2VPbmx5LFxufSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbmltcG9ydCB7ZGlzYWJsZX0gZnJvbSAnLi4vcm90YXRpb25jb25zdHJhaW50LmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW5cbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYSBib29sZWFuXG4gKiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbi5hbHRTaGlmdEtleXNPbmx5fS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHJvdGF0ZSB0aGUgbWFwIGJ5IGNsaWNraW5nIGFuZCBkcmFnZ2luZyBvbiB0aGUgbWFwLFxuICogbm9ybWFsbHkgY29tYmluZWQgd2l0aCBhbiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb259IHRoYXQgbGltaXRzXG4gKiBpdCB0byB3aGVuIHRoZSBhbHQgYW5kIHNoaWZ0IGtleXMgYXJlIGhlbGQgZG93bi5cbiAqXG4gKiBUaGlzIGludGVyYWN0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBtb3VzZSBkZXZpY2VzLlxuICogQGFwaVxuICovXG5jbGFzcyBEcmFnUm90YXRlIGV4dGVuZHMgUG9pbnRlckludGVyYWN0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICBzdXBlcih7XG4gICAgICBzdG9wRG93bjogRkFMU0UsXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbmRpdGlvbl8gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogYWx0U2hpZnRLZXlzT25seTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5sYXN0QW5nbGVfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDI1MDtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBkcmFnIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKi9cbiAgaGFuZGxlRHJhZ0V2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICghbW91c2VPbmx5KG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIGlmICh2aWV3LmdldENvbnN0cmFpbnRzKCkucm90YXRpb24gPT09IGRpc2FibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2l6ZSA9IG1hcC5nZXRTaXplKCk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gbWFwQnJvd3NlckV2ZW50LnBpeGVsO1xuICAgIGNvbnN0IHRoZXRhID0gTWF0aC5hdGFuMihzaXplWzFdIC8gMiAtIG9mZnNldFsxXSwgb2Zmc2V0WzBdIC0gc2l6ZVswXSAvIDIpO1xuICAgIGlmICh0aGlzLmxhc3RBbmdsZV8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgZGVsdGEgPSB0aGV0YSAtIHRoaXMubGFzdEFuZ2xlXztcbiAgICAgIHZpZXcuYWRqdXN0Um90YXRpb25JbnRlcm5hbCgtZGVsdGEpO1xuICAgIH1cbiAgICB0aGlzLmxhc3RBbmdsZV8gPSB0aGV0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciB1cCBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICovXG4gIGhhbmRsZVVwRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKCFtb3VzZU9ubHkobWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICB2aWV3LmVuZEludGVyYWN0aW9uKHRoaXMuZHVyYXRpb25fKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgZG93biBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICovXG4gIGhhbmRsZURvd25FdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoIW1vdXNlT25seShtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgbW91c2VBY3Rpb25CdXR0b24obWFwQnJvd3NlckV2ZW50KSAmJlxuICAgICAgdGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudClcbiAgICApIHtcbiAgICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICBtYXAuZ2V0VmlldygpLmJlZ2luSW50ZXJhY3Rpb24oKTtcbiAgICAgIHRoaXMubGFzdEFuZ2xlXyA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRHJhZ1JvdGF0ZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvQm94XG4gKi9cblxuaW1wb3J0IERpc3Bvc2FibGUgZnJvbSAnLi4vRGlzcG9zYWJsZS5qcyc7XG5pbXBvcnQgUG9seWdvbiBmcm9tICcuLi9nZW9tL1BvbHlnb24uanMnO1xuXG5jbGFzcyBSZW5kZXJCb3ggZXh0ZW5kcyBEaXNwb3NhYmxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgQ1NTIGNsYXNzIG5hbWUuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjbGFzc05hbWUpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5nZW9tZXRyeV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0hUTUxEaXZFbGVtZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5lbGVtZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZWxlbWVudF8uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuZWxlbWVudF8uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICB0aGlzLmVsZW1lbnRfLmNsYXNzTmFtZSA9ICdvbC1ib3ggJyArIGNsYXNzTmFtZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9XG4gICAgICovXG4gICAgdGhpcy5tYXBfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRQaXhlbF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICovXG4gICAgdGhpcy5lbmRQaXhlbF8gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwLlxuICAgKi9cbiAgZGlzcG9zZUludGVybmFsKCkge1xuICAgIHRoaXMuc2V0TWFwKG51bGwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZW5kZXJfKCkge1xuICAgIGNvbnN0IHN0YXJ0UGl4ZWwgPSB0aGlzLnN0YXJ0UGl4ZWxfO1xuICAgIGNvbnN0IGVuZFBpeGVsID0gdGhpcy5lbmRQaXhlbF87XG4gICAgY29uc3QgcHggPSAncHgnO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5lbGVtZW50Xy5zdHlsZTtcbiAgICBzdHlsZS5sZWZ0ID0gTWF0aC5taW4oc3RhcnRQaXhlbFswXSwgZW5kUGl4ZWxbMF0pICsgcHg7XG4gICAgc3R5bGUudG9wID0gTWF0aC5taW4oc3RhcnRQaXhlbFsxXSwgZW5kUGl4ZWxbMV0pICsgcHg7XG4gICAgc3R5bGUud2lkdGggPSBNYXRoLmFicyhlbmRQaXhlbFswXSAtIHN0YXJ0UGl4ZWxbMF0pICsgcHg7XG4gICAgc3R5bGUuaGVpZ2h0ID0gTWF0aC5hYnMoZW5kUGl4ZWxbMV0gLSBzdGFydFBpeGVsWzFdKSArIHB4O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR8bnVsbH0gbWFwIE1hcC5cbiAgICovXG4gIHNldE1hcChtYXApIHtcbiAgICBpZiAodGhpcy5tYXBfKSB7XG4gICAgICB0aGlzLm1hcF8uZ2V0T3ZlcmxheUNvbnRhaW5lcigpLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudF8pO1xuICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmVsZW1lbnRfLnN0eWxlO1xuICAgICAgc3R5bGUubGVmdCA9ICdpbmhlcml0JztcbiAgICAgIHN0eWxlLnRvcCA9ICdpbmhlcml0JztcbiAgICAgIHN0eWxlLndpZHRoID0gJ2luaGVyaXQnO1xuICAgICAgc3R5bGUuaGVpZ2h0ID0gJ2luaGVyaXQnO1xuICAgIH1cbiAgICB0aGlzLm1hcF8gPSBtYXA7XG4gICAgaWYgKHRoaXMubWFwXykge1xuICAgICAgdGhpcy5tYXBfLmdldE92ZXJsYXlDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRfKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gc3RhcnRQaXhlbCBTdGFydCBwaXhlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gZW5kUGl4ZWwgRW5kIHBpeGVsLlxuICAgKi9cbiAgc2V0UGl4ZWxzKHN0YXJ0UGl4ZWwsIGVuZFBpeGVsKSB7XG4gICAgdGhpcy5zdGFydFBpeGVsXyA9IHN0YXJ0UGl4ZWw7XG4gICAgdGhpcy5lbmRQaXhlbF8gPSBlbmRQaXhlbDtcbiAgICB0aGlzLmNyZWF0ZU9yVXBkYXRlR2VvbWV0cnkoKTtcbiAgICB0aGlzLnJlbmRlcl8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIG9yIHVwZGF0ZXMgdGhlIGNhY2hlZCBnZW9tZXRyeS5cbiAgICovXG4gIGNyZWF0ZU9yVXBkYXRlR2VvbWV0cnkoKSB7XG4gICAgY29uc3Qgc3RhcnRQaXhlbCA9IHRoaXMuc3RhcnRQaXhlbF87XG4gICAgY29uc3QgZW5kUGl4ZWwgPSB0aGlzLmVuZFBpeGVsXztcbiAgICBjb25zdCBwaXhlbHMgPSBbXG4gICAgICBzdGFydFBpeGVsLFxuICAgICAgW3N0YXJ0UGl4ZWxbMF0sIGVuZFBpeGVsWzFdXSxcbiAgICAgIGVuZFBpeGVsLFxuICAgICAgW2VuZFBpeGVsWzBdLCBzdGFydFBpeGVsWzFdXSxcbiAgICBdO1xuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gcGl4ZWxzLm1hcChcbiAgICAgIHRoaXMubWFwXy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwsXG4gICAgICB0aGlzLm1hcF9cbiAgICApO1xuICAgIC8vIGNsb3NlIHRoZSBwb2x5Z29uXG4gICAgY29vcmRpbmF0ZXNbNF0gPSBjb29yZGluYXRlc1swXS5zbGljZSgpO1xuICAgIGlmICghdGhpcy5nZW9tZXRyeV8pIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnlfID0gbmV3IFBvbHlnb24oW2Nvb3JkaW5hdGVzXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnlfLnNldENvb3JkaW5hdGVzKFtjb29yZGluYXRlc10pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gR2VvbWV0cnkuXG4gICAqL1xuICBnZXRHZW9tZXRyeSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeV87XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVuZGVyQm94O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0RyYWdCb3hcbiAqL1xuLy8gRklYTUUgZHJhdyBkcmFnIGJveFxuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgUG9pbnRlckludGVyYWN0aW9uIGZyb20gJy4vUG9pbnRlci5qcyc7XG5pbXBvcnQgUmVuZGVyQm94IGZyb20gJy4uL3JlbmRlci9Cb3guanMnO1xuaW1wb3J0IHttb3VzZUFjdGlvbkJ1dHRvbn0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgdHdvXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3BpeGVsflBpeGVsfXMgYW5kIHJldHVybnMgYSBge2Jvb2xlYW59YC4gSWYgdGhlIGNvbmRpdGlvbiBpcyBtZXQsXG4gKiB0cnVlIHNob3VsZCBiZSByZXR1cm5lZC5cbiAqIEB0eXBlZGVmIHtmdW5jdGlvbih0aGlzOiA/LCBpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWwsIGltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsKTpib29sZWFufSBFbmRDb25kaXRpb25cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1kcmFnYm94J10gQ1NTIGNsYXNzIG5hbWUgZm9yIHN0eWxpbmcgdGhlIGJveC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGEgYm9vbGVhblxuICogdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgb2wvZXZlbnRzL2NvbmRpdGlvbn5tb3VzZUFjdGlvbkJ1dHRvbn0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pbkFyZWE9NjRdIFRoZSBtaW5pbXVtIGFyZWEgb2YgdGhlIGJveCBpbiBwaXhlbCwgdGhpcyB2YWx1ZSBpcyB1c2VkIGJ5IHRoZSBkZWZhdWx0XG4gKiBgYm94RW5kQ29uZGl0aW9uYCBmdW5jdGlvbi5cbiAqIEBwcm9wZXJ0eSB7RW5kQ29uZGl0aW9ufSBbYm94RW5kQ29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCB0d29cbiAqIHtAbGluayBtb2R1bGU6b2wvcGl4ZWx+UGl4ZWx9cyB0byBpbmRpY2F0ZSB3aGV0aGVyIGEgYGJveGVuZGAgZXZlbnQgc2hvdWxkIGJlIGZpcmVkLlxuICogRGVmYXVsdCBpcyBgdHJ1ZWAgaWYgdGhlIGFyZWEgb2YgdGhlIGJveCBpcyBiaWdnZXIgdGhhbiB0aGUgYG1pbkFyZWFgIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24odGhpczpEcmFnQm94LCBpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCk6dm9pZH0gW29uQm94RW5kXSBDb2RlIHRvIGV4ZWN1dGUganVzdFxuICogYmVmb3JlIGBib3hlbmRgIGlzIGZpcmVkLlxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuY29uc3QgRHJhZ0JveEV2ZW50VHlwZSA9IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB1cG9uIGRyYWcgYm94IHN0YXJ0LlxuICAgKiBAZXZlbnQgRHJhZ0JveEV2ZW50I2JveHN0YXJ0XG4gICAqIEBhcGlcbiAgICovXG4gIEJPWFNUQVJUOiAnYm94c3RhcnQnLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgb24gZHJhZyB3aGVuIGJveCBpcyBhY3RpdmUuXG4gICAqIEBldmVudCBEcmFnQm94RXZlbnQjYm94ZHJhZ1xuICAgKiBAYXBpXG4gICAqL1xuICBCT1hEUkFHOiAnYm94ZHJhZycsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB1cG9uIGRyYWcgYm94IGVuZC5cbiAgICogQGV2ZW50IERyYWdCb3hFdmVudCNib3hlbmRcbiAgICogQGFwaVxuICAgKi9cbiAgQk9YRU5EOiAnYm94ZW5kJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHVwb24gZHJhZyBib3ggY2FuY2VsZWQuXG4gICAqIEBldmVudCBEcmFnQm94RXZlbnQjYm94Y2FuY2VsXG4gICAqIEBhcGlcbiAgICovXG4gIEJPWENBTkNFTDogJ2JveGNhbmNlbCcsXG59O1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ0JveH5EcmFnQm94fSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZlxuICogdGhpcyB0eXBlLlxuICovXG5leHBvcnQgY2xhc3MgRHJhZ0JveEV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIFRoZSBldmVudCBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgT3JpZ2luYXRpbmcgZXZlbnQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBjb29yZGluYXRlLCBtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBzdXBlcih0eXBlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBkcmFnIGV2ZW50LlxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuY29vcmRpbmF0ZSA9IGNvb3JkaW5hdGU7XG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMubWFwQnJvd3NlckV2ZW50ID0gbWFwQnJvd3NlckV2ZW50O1xuICB9XG59XG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICAnY2hhbmdlOmFjdGl2ZScsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8J2JveGNhbmNlbCd8J2JveGRyYWcnfCdib3hlbmQnfCdib3hzdGFydCcsIERyYWdCb3hFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfFxuICogICAgICdjaGFuZ2U6YWN0aXZlJ3wnYm94Y2FuY2VsJ3wnYm94ZHJhZyd8J2JveGVuZCcsIFJldHVybj59IERyYWdCb3hPblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIGRyYXcgYSB2ZWN0b3IgYm94IGJ5IGNsaWNraW5nIGFuZCBkcmFnZ2luZyBvbiB0aGUgbWFwLFxuICogbm9ybWFsbHkgY29tYmluZWQgd2l0aCBhbiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb259IHRoYXQgbGltaXRzXG4gKiBpdCB0byB3aGVuIHRoZSBzaGlmdCBvciBvdGhlciBrZXkgaXMgaGVsZCBkb3duLiBUaGlzIGlzIHVzZWQsIGZvciBleGFtcGxlLFxuICogZm9yIHpvb21pbmcgdG8gYSBzcGVjaWZpYyBhcmVhIG9mIHRoZSBtYXBcbiAqIChzZWUge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnWm9vbX5EcmFnWm9vbX0gYW5kXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RyYWdSb3RhdGVBbmRab29tfkRyYWdSb3RhdGVBbmRab29tfSkuXG4gKlxuICogQGZpcmVzIERyYWdCb3hFdmVudFxuICogQGFwaVxuICovXG5jbGFzcyBEcmFnQm94IGV4dGVuZHMgUG9pbnRlckludGVyYWN0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7RHJhZ0JveE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0RyYWdCb3hPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uY2U7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0RyYWdCb3hPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgKi9cbiAgICB0aGlzLnVuO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyL0JveC5qc1wiKS5kZWZhdWx0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5ib3hfID0gbmV3IFJlbmRlckJveChvcHRpb25zLmNsYXNzTmFtZSB8fCAnb2wtZHJhZ2JveCcpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubWluQXJlYV8gPSBvcHRpb25zLm1pbkFyZWEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWluQXJlYSA6IDY0O1xuXG4gICAgaWYgKG9wdGlvbnMub25Cb3hFbmQpIHtcbiAgICAgIHRoaXMub25Cb3hFbmQgPSBvcHRpb25zLm9uQm94RW5kO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRQaXhlbF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICovXG4gICAgdGhpcy5jb25kaXRpb25fID0gb3B0aW9ucy5jb25kaXRpb24gPyBvcHRpb25zLmNvbmRpdGlvbiA6IG1vdXNlQWN0aW9uQnV0dG9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7RW5kQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuYm94RW5kQ29uZGl0aW9uXyA9IG9wdGlvbnMuYm94RW5kQ29uZGl0aW9uXG4gICAgICA/IG9wdGlvbnMuYm94RW5kQ29uZGl0aW9uXG4gICAgICA6IHRoaXMuZGVmYXVsdEJveEVuZENvbmRpdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBjb25kaXRpb24gZm9yIGRldGVybWluaW5nIHdoZXRoZXIgdGhlIGJveGVuZCBldmVudFxuICAgKiBzaG91bGQgZmlyZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IFRoZSBvcmlnaW5hdGluZyBNYXBCcm93c2VyRXZlbnRcbiAgICogICAgIGxlYWRpbmcgdG8gdGhlIGJveCBlbmQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHN0YXJ0UGl4ZWwgVGhlIHN0YXJ0aW5nIHBpeGVsIG9mIHRoZSBib3guXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IGVuZFBpeGVsIFRoZSBlbmQgcGl4ZWwgb2YgdGhlIGJveC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGJveGVuZCBjb25kaXRpb24gc2hvdWxkIGJlIGZpcmVkLlxuICAgKi9cbiAgZGVmYXVsdEJveEVuZENvbmRpdGlvbihtYXBCcm93c2VyRXZlbnQsIHN0YXJ0UGl4ZWwsIGVuZFBpeGVsKSB7XG4gICAgY29uc3Qgd2lkdGggPSBlbmRQaXhlbFswXSAtIHN0YXJ0UGl4ZWxbMF07XG4gICAgY29uc3QgaGVpZ2h0ID0gZW5kUGl4ZWxbMV0gLSBzdGFydFBpeGVsWzFdO1xuICAgIHJldHVybiB3aWR0aCAqIHdpZHRoICsgaGVpZ2h0ICogaGVpZ2h0ID49IHRoaXMubWluQXJlYV87XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBnZW9tZXRyeSBvZiBsYXN0IGRyYXduIGJveC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9IEdlb21ldHJ5LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRHZW9tZXRyeSgpIHtcbiAgICByZXR1cm4gdGhpcy5ib3hfLmdldEdlb21ldHJ5KCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICovXG4gIGhhbmRsZURyYWdFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB0aGlzLmJveF8uc2V0UGl4ZWxzKHRoaXMuc3RhcnRQaXhlbF8sIG1hcEJyb3dzZXJFdmVudC5waXhlbCk7XG5cbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgRHJhZ0JveEV2ZW50KFxuICAgICAgICBEcmFnQm94RXZlbnRUeXBlLkJPWERSQUcsXG4gICAgICAgIG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlLFxuICAgICAgICBtYXBCcm93c2VyRXZlbnRcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgKi9cbiAgaGFuZGxlVXBFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB0aGlzLmJveF8uc2V0TWFwKG51bGwpO1xuXG4gICAgY29uc3QgY29tcGxldGVCb3ggPSB0aGlzLmJveEVuZENvbmRpdGlvbl8oXG4gICAgICBtYXBCcm93c2VyRXZlbnQsXG4gICAgICB0aGlzLnN0YXJ0UGl4ZWxfLFxuICAgICAgbWFwQnJvd3NlckV2ZW50LnBpeGVsXG4gICAgKTtcbiAgICBpZiAoY29tcGxldGVCb3gpIHtcbiAgICAgIHRoaXMub25Cb3hFbmQobWFwQnJvd3NlckV2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IERyYWdCb3hFdmVudChcbiAgICAgICAgY29tcGxldGVCb3ggPyBEcmFnQm94RXZlbnRUeXBlLkJPWEVORCA6IERyYWdCb3hFdmVudFR5cGUuQk9YQ0FOQ0VMLFxuICAgICAgICBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZSxcbiAgICAgICAgbWFwQnJvd3NlckV2ZW50XG4gICAgICApXG4gICAgKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgZG93biBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICovXG4gIGhhbmRsZURvd25FdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAodGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgIHRoaXMuc3RhcnRQaXhlbF8gPSBtYXBCcm93c2VyRXZlbnQucGl4ZWw7XG4gICAgICB0aGlzLmJveF8uc2V0TWFwKG1hcEJyb3dzZXJFdmVudC5tYXApO1xuICAgICAgdGhpcy5ib3hfLnNldFBpeGVscyh0aGlzLnN0YXJ0UGl4ZWxfLCB0aGlzLnN0YXJ0UGl4ZWxfKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IERyYWdCb3hFdmVudChcbiAgICAgICAgICBEcmFnQm94RXZlbnRUeXBlLkJPWFNUQVJULFxuICAgICAgICAgIG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlLFxuICAgICAgICAgIG1hcEJyb3dzZXJFdmVudFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0byBleGVjdXRlIGp1c3QgYmVmb3JlIGBvbmJveGVuZGAgaXMgZmlyZWRcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAqL1xuICBvbkJveEVuZChldmVudCkge31cbn1cblxuZXhwb3J0IGRlZmF1bHQgRHJhZ0JveDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnWm9vbVxuICovXG5pbXBvcnQgRHJhZ0JveCBmcm9tICcuL0RyYWdCb3guanMnO1xuaW1wb3J0IHtlYXNlT3V0fSBmcm9tICcuLi9lYXNpbmcuanMnO1xuaW1wb3J0IHtzaGlmdEtleU9ubHl9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1kcmFnem9vbSddIENTUyBjbGFzcyBuYW1lIGZvciBzdHlsaW5nIHRoZVxuICogYm94LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0XG4gKiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24uc2hpZnRLZXlPbmx5fS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjAwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3V0PWZhbHNlXSBVc2UgaW50ZXJhY3Rpb24gZm9yIHpvb21pbmcgb3V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5BcmVhPTY0XSBUaGUgbWluaW11bSBhcmVhIG9mIHRoZSBib3ggaW4gcGl4ZWwsIHRoaXMgdmFsdWUgaXMgdXNlZCBieSB0aGUgcGFyZW50IGRlZmF1bHRcbiAqIGBib3hFbmRDb25kaXRpb25gIGZ1bmN0aW9uLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBieSBjbGlja2luZyBhbmQgZHJhZ2dpbmcgb24gdGhlIG1hcCxcbiAqIG5vcm1hbGx5IGNvbWJpbmVkIHdpdGggYW4ge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufSB0aGF0IGxpbWl0c1xuICogaXQgdG8gd2hlbiBhIGtleSwgc2hpZnQgYnkgZGVmYXVsdCwgaXMgaGVsZCBkb3duLlxuICpcbiAqIFRvIGNoYW5nZSB0aGUgc3R5bGUgb2YgdGhlIGJveCwgdXNlIENTUyBhbmQgdGhlIGAub2wtZHJhZ3pvb21gIHNlbGVjdG9yLCBvclxuICogeW91ciBjdXN0b20gb25lIGNvbmZpZ3VyZWQgd2l0aCBgY2xhc3NOYW1lYC5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgRHJhZ1pvb20gZXh0ZW5kcyBEcmFnQm94IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICBjb25zdCBjb25kaXRpb24gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogc2hpZnRLZXlPbmx5O1xuXG4gICAgc3VwZXIoe1xuICAgICAgY29uZGl0aW9uOiBjb25kaXRpb24sXG4gICAgICBjbGFzc05hbWU6IG9wdGlvbnMuY2xhc3NOYW1lIHx8ICdvbC1kcmFnem9vbScsXG4gICAgICBtaW5BcmVhOiBvcHRpb25zLm1pbkFyZWEsXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm91dF8gPSBvcHRpb25zLm91dCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vdXQgOiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0byBleGVjdXRlIGp1c3QgYmVmb3JlIGBvbmJveGVuZGAgaXMgZmlyZWRcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAqL1xuICBvbkJveEVuZChldmVudCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgY29uc3QgdmlldyA9IC8qKiBAdHlwZSB7IWltcG9ydChcIi4uL1ZpZXcuanNcIikuZGVmYXVsdH0gKi8gKG1hcC5nZXRWaWV3KCkpO1xuICAgIGxldCBnZW9tZXRyeSA9IHRoaXMuZ2V0R2VvbWV0cnkoKTtcblxuICAgIGlmICh0aGlzLm91dF8pIHtcbiAgICAgIGNvbnN0IHJvdGF0ZWRFeHRlbnQgPSB2aWV3LnJvdGF0ZWRFeHRlbnRGb3JHZW9tZXRyeShnZW9tZXRyeSk7XG4gICAgICBjb25zdCByZXNvbHV0aW9uID0gdmlldy5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwocm90YXRlZEV4dGVudCk7XG4gICAgICBjb25zdCBmYWN0b3IgPSB2aWV3LmdldFJlc29sdXRpb24oKSAvIHJlc29sdXRpb247XG4gICAgICBnZW9tZXRyeSA9IGdlb21ldHJ5LmNsb25lKCk7XG4gICAgICBnZW9tZXRyeS5zY2FsZShmYWN0b3IgKiBmYWN0b3IpO1xuICAgIH1cblxuICAgIHZpZXcuZml0SW50ZXJuYWwoZ2VvbWV0cnksIHtcbiAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uXyxcbiAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEcmFnWm9vbTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFBhblxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEludGVyYWN0aW9uLCB7cGFufSBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCBLZXlDb2RlIGZyb20gJy4uL2V2ZW50cy9LZXlDb2RlLmpzJztcbmltcG9ydCB7bm9Nb2RpZmllcktleXMsIHRhcmdldE5vdEVkaXRhYmxlfSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbmltcG9ydCB7cm90YXRlIGFzIHJvdGF0ZUNvb3JkaW5hdGV9IGZyb20gJy4uL2Nvb3JkaW5hdGUuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdFxuICogdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC4gRGVmYXVsdCBpc1xuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9uLm5vTW9kaWZpZXJLZXlzfSBhbmRcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbi50YXJnZXROb3RFZGl0YWJsZX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTEwMF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGl4ZWxEZWx0YT0xMjhdIFRoZSBhbW91bnQgb2YgcGl4ZWxzIHRvIHBhbiBvbiBlYWNoIGtleVxuICogcHJlc3MuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcGFuIHRoZSBtYXAgdXNpbmcga2V5Ym9hcmQgYXJyb3dzLlxuICogTm90ZSB0aGF0LCBhbHRob3VnaCB0aGlzIGludGVyYWN0aW9uIGlzIGJ5IGRlZmF1bHQgaW5jbHVkZWQgaW4gbWFwcyxcbiAqIHRoZSBrZXlzIGNhbiBvbmx5IGJlIHVzZWQgd2hlbiBicm93c2VyIGZvY3VzIGlzIG9uIHRoZSBlbGVtZW50IHRvIHdoaWNoXG4gKiB0aGUga2V5Ym9hcmQgZXZlbnRzIGFyZSBhdHRhY2hlZC4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgbWFwIGRpdixcbiAqIHRob3VnaCB5b3UgY2FuIGNoYW5nZSB0aGlzIHdpdGggdGhlIGBrZXlib2FyZEV2ZW50VGFyZ2V0YCBpblxuICoge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwfS4gYGRvY3VtZW50YCBuZXZlciBsb3NlcyBmb2N1cyBidXQsIGZvciBhbnkgb3RoZXJcbiAqIGVsZW1lbnQsIGZvY3VzIHdpbGwgaGF2ZSB0byBiZSBvbiwgYW5kIHJldHVybmVkIHRvLCB0aGlzIGVsZW1lbnQgaWYgdGhlIGtleXNcbiAqIGFyZSB0byBmdW5jdGlvbi5cbiAqIFNlZSBhbHNvIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tfktleWJvYXJkWm9vbX0uXG4gKiBAYXBpXG4gKi9cbmNsYXNzIEtleWJvYXJkUGFuIGV4dGVuZHMgSW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBCcm93c2VyIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbWJpbmVkIGNvbmRpdGlvbiByZXN1bHQuXG4gICAgICovXG4gICAgdGhpcy5kZWZhdWx0Q29uZGl0aW9uXyA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIG5vTW9kaWZpZXJLZXlzKG1hcEJyb3dzZXJFdmVudCkgJiYgdGFyZ2V0Tm90RWRpdGFibGUobWFwQnJvd3NlckV2ZW50KVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICovXG4gICAgdGhpcy5jb25kaXRpb25fID1cbiAgICAgIG9wdGlvbnMuY29uZGl0aW9uICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLmNvbmRpdGlvblxuICAgICAgICA6IHRoaXMuZGVmYXVsdENvbmRpdGlvbl87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMTAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxEZWx0YV8gPVxuICAgICAgb3B0aW9ucy5waXhlbERlbHRhICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBpeGVsRGVsdGEgOiAxMjg7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSBpZiBpdCB3YXMgYVxuICAgKiBgS2V5RXZlbnRgLCBhbmQgZGVjaWRlcyB0aGUgZGlyZWN0aW9uIHRvIHBhbiB0byAoaWYgYW4gYXJyb3cga2V5IHdhc1xuICAgKiBwcmVzc2VkKS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAqL1xuICBoYW5kbGVFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBsZXQgc3RvcEV2ZW50ID0gZmFsc2U7XG4gICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IEV2ZW50VHlwZS5LRVlET1dOKSB7XG4gICAgICBjb25zdCBrZXlFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudH0gKi8gKFxuICAgICAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGtleUNvZGUgPSBrZXlFdmVudC5rZXlDb2RlO1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSAmJlxuICAgICAgICAoa2V5Q29kZSA9PSBLZXlDb2RlLkRPV04gfHxcbiAgICAgICAgICBrZXlDb2RlID09IEtleUNvZGUuTEVGVCB8fFxuICAgICAgICAgIGtleUNvZGUgPT0gS2V5Q29kZS5SSUdIVCB8fFxuICAgICAgICAgIGtleUNvZGUgPT0gS2V5Q29kZS5VUClcbiAgICAgICkge1xuICAgICAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgY29uc3QgbWFwVW5pdHNEZWx0YSA9IHZpZXcuZ2V0UmVzb2x1dGlvbigpICogdGhpcy5waXhlbERlbHRhXztcbiAgICAgICAgbGV0IGRlbHRhWCA9IDAsXG4gICAgICAgICAgZGVsdGFZID0gMDtcbiAgICAgICAgaWYgKGtleUNvZGUgPT0gS2V5Q29kZS5ET1dOKSB7XG4gICAgICAgICAgZGVsdGFZID0gLW1hcFVuaXRzRGVsdGE7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA9PSBLZXlDb2RlLkxFRlQpIHtcbiAgICAgICAgICBkZWx0YVggPSAtbWFwVW5pdHNEZWx0YTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXlDb2RlID09IEtleUNvZGUuUklHSFQpIHtcbiAgICAgICAgICBkZWx0YVggPSBtYXBVbml0c0RlbHRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbHRhWSA9IG1hcFVuaXRzRGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVsdGEgPSBbZGVsdGFYLCBkZWx0YVldO1xuICAgICAgICByb3RhdGVDb29yZGluYXRlKGRlbHRhLCB2aWV3LmdldFJvdGF0aW9uKCkpO1xuICAgICAgICBwYW4odmlldywgZGVsdGEsIHRoaXMuZHVyYXRpb25fKTtcbiAgICAgICAga2V5RXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc3RvcEV2ZW50ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICFzdG9wRXZlbnQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgS2V5Ym9hcmRQYW47XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL0tleUNvZGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAY29uc3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBMRUZUOiAzNyxcbiAgVVA6IDM4LFxuICBSSUdIVDogMzksXG4gIERPV046IDQwLFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21cbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbnRlcmFjdGlvbiwge3pvb21CeURlbHRhfSBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCB7dGFyZ2V0Tm90RWRpdGFibGV9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MTAwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0XG4gKiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLiBEZWZhdWx0IGlzXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24udGFyZ2V0Tm90RWRpdGFibGV9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkZWx0YT0xXSBUaGUgem9vbSBsZXZlbCBkZWx0YSBvbiBlYWNoIGtleSBwcmVzcy5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgdXNpbmcga2V5Ym9hcmQgKyBhbmQgLS5cbiAqIE5vdGUgdGhhdCwgYWx0aG91Z2ggdGhpcyBpbnRlcmFjdGlvbiBpcyBieSBkZWZhdWx0IGluY2x1ZGVkIGluIG1hcHMsXG4gKiB0aGUga2V5cyBjYW4gb25seSBiZSB1c2VkIHdoZW4gYnJvd3NlciBmb2N1cyBpcyBvbiB0aGUgZWxlbWVudCB0byB3aGljaFxuICogdGhlIGtleWJvYXJkIGV2ZW50cyBhcmUgYXR0YWNoZWQuIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIG1hcCBkaXYsXG4gKiB0aG91Z2ggeW91IGNhbiBjaGFuZ2UgdGhpcyB3aXRoIHRoZSBga2V5Ym9hcmRFdmVudFRhcmdldGAgaW5cbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0uIGBkb2N1bWVudGAgbmV2ZXIgbG9zZXMgZm9jdXMgYnV0LCBmb3IgYW55IG90aGVyXG4gKiBlbGVtZW50LCBmb2N1cyB3aWxsIGhhdmUgdG8gYmUgb24sIGFuZCByZXR1cm5lZCB0bywgdGhpcyBlbGVtZW50IGlmIHRoZSBrZXlzXG4gKiBhcmUgdG8gZnVuY3Rpb24uXG4gKiBTZWUgYWxzbyB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0tleWJvYXJkUGFufktleWJvYXJkUGFufS5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgS2V5Ym9hcmRab29tIGV4dGVuZHMgSW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbmRpdGlvbl8gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogdGFyZ2V0Tm90RWRpdGFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kZWx0YV8gPSBvcHRpb25zLmRlbHRhID8gb3B0aW9ucy5kZWx0YSA6IDE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMTAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gaWYgaXQgd2FzIGFcbiAgICogYEtleUV2ZW50YCwgYW5kIGRlY2lkZXMgd2hldGhlciB0byB6b29tIGluIG9yIG91dCAoZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlXG4gICAqIGtleSBwcmVzc2VkIHdhcyAnKycgb3IgJy0nKS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAqL1xuICBoYW5kbGVFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBsZXQgc3RvcEV2ZW50ID0gZmFsc2U7XG4gICAgaWYgKFxuICAgICAgbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gRXZlbnRUeXBlLktFWURPV04gfHxcbiAgICAgIG1hcEJyb3dzZXJFdmVudC50eXBlID09IEV2ZW50VHlwZS5LRVlQUkVTU1xuICAgICkge1xuICAgICAgY29uc3Qga2V5RXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR9ICovIChcbiAgICAgICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICAgICk7XG4gICAgICBjb25zdCBjaGFyQ29kZSA9IGtleUV2ZW50LmNoYXJDb2RlO1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSAmJlxuICAgICAgICAoY2hhckNvZGUgPT0gJysnLmNoYXJDb2RlQXQoMCkgfHwgY2hhckNvZGUgPT0gJy0nLmNoYXJDb2RlQXQoMCkpXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgY29uc3QgZGVsdGEgPVxuICAgICAgICAgIGNoYXJDb2RlID09ICcrJy5jaGFyQ29kZUF0KDApID8gdGhpcy5kZWx0YV8gOiAtdGhpcy5kZWx0YV87XG4gICAgICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICB6b29tQnlEZWx0YSh2aWV3LCBkZWx0YSwgdW5kZWZpbmVkLCB0aGlzLmR1cmF0aW9uXyk7XG4gICAgICAgIGtleUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHN0b3BFdmVudCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAhc3RvcEV2ZW50O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEtleWJvYXJkWm9vbTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbVxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEludGVyYWN0aW9uLCB7em9vbUJ5RGVsdGF9IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IHtERVZJQ0VfUElYRUxfUkFUSU8sIEZJUkVGT1h9IGZyb20gJy4uL2hhcy5qcyc7XG5pbXBvcnQge2FsbCwgYWx3YXlzLCBmb2N1c1dpdGhUYWJpbmRleH0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5pbXBvcnQge2NsYW1wfSBmcm9tICcuLi9tYXRoLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7J3RyYWNrcGFkJyB8ICd3aGVlbCd9IE1vZGVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdFxuICogdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC4gRGVmYXVsdCBpc1xuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9uLmFsd2F5c30uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvbkZvY3VzT25seT1mYWxzZV0gV2hlbiB0aGUgbWFwJ3MgdGFyZ2V0IGhhcyBhIGB0YWJpbmRleGAgYXR0cmlidXRlIHNldCxcbiAqIHRoZSBpbnRlcmFjdGlvbiB3aWxsIG9ubHkgaGFuZGxlIGV2ZW50cyB3aGVuIHRoZSBtYXAgaGFzIHRoZSBmb2N1cy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4RGVsdGE9MV0gTWF4aW11bSBtb3VzZSB3aGVlbCBkZWx0YS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0PTgwXSBNb3VzZSB3aGVlbCB0aW1lb3V0IGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZUFuY2hvcj10cnVlXSBFbmFibGUgem9vbWluZyB1c2luZyB0aGUgbW91c2Unc1xuICogbG9jYXRpb24gYXMgdGhlIGFuY2hvci4gV2hlbiBzZXQgdG8gYGZhbHNlYCwgem9vbWluZyBpbiBhbmQgb3V0IHdpbGwgem9vbSB0b1xuICogdGhlIGNlbnRlciBvZiB0aGUgc2NyZWVuIGluc3RlYWQgb2Ygem9vbWluZyBvbiB0aGUgbW91c2UncyBsb2NhdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbnN0cmFpblJlc29sdXRpb249ZmFsc2VdIElmIHRydWUsIHRoZSBtb3VzZSB3aGVlbCB6b29tXG4gKiBldmVudCB3aWxsIGFsd2F5cyBhbmltYXRlIHRvIHRoZSBjbG9zZXN0IHpvb20gbGV2ZWwgYWZ0ZXIgYW4gaW50ZXJhY3Rpb247XG4gKiBmYWxzZSBtZWFucyBpbnRlcm1lZGlhcnkgem9vbSBsZXZlbHMgYXJlIGFsbG93ZWQuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gem9vbSB0aGUgbWFwIGJ5IHNjcm9sbGluZyB0aGUgbW91c2Ugd2hlZWwuXG4gKiBAYXBpXG4gKi9cbmNsYXNzIE1vdXNlV2hlZWxab29tIGV4dGVuZHMgSW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIHN1cGVyKFxuICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0ludGVyYWN0aW9uLmpzXCIpLkludGVyYWN0aW9uT3B0aW9uc30gKi8gKG9wdGlvbnMpXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRvdGFsRGVsdGFfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxhc3REZWx0YV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4RGVsdGFfID0gb3B0aW9ucy5tYXhEZWx0YSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhEZWx0YSA6IDE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGltZW91dF8gPSBvcHRpb25zLnRpbWVvdXQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGltZW91dCA6IDgwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnVzZUFuY2hvcl8gPVxuICAgICAgb3B0aW9ucy51c2VBbmNob3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXNlQW5jaG9yIDogdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uXyA9XG4gICAgICBvcHRpb25zLmNvbnN0cmFpblJlc29sdXRpb24gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvblxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgY29uc3QgY29uZGl0aW9uID0gb3B0aW9ucy5jb25kaXRpb24gPyBvcHRpb25zLmNvbmRpdGlvbiA6IGFsd2F5cztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMub25Gb2N1c09ubHlcbiAgICAgID8gYWxsKGZvY3VzV2l0aFRhYmluZGV4LCBjb25kaXRpb24pXG4gICAgICA6IGNvbmRpdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICovXG4gICAgdGhpcy5sYXN0QW5jaG9yXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRUaW1lXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez99XG4gICAgICovXG4gICAgdGhpcy50aW1lb3V0SWRfO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7TW9kZXx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5tb2RlXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIFRyYWNrcGFkIGV2ZW50cyBzZXBhcmF0ZWQgYnkgdGhpcyBkZWxheSB3aWxsIGJlIGNvbnNpZGVyZWQgc2VwYXJhdGVcbiAgICAgKiBpbnRlcmFjdGlvbnMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRyYWNrcGFkRXZlbnRHYXBfID0gNDAwO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgez99XG4gICAgICovXG4gICAgdGhpcy50cmFja3BhZFRpbWVvdXRJZF87XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGRlbHRhIHZhbHVlcyBwZXIgem9vbSBsZXZlbFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmRlbHRhUGVyWm9vbV8gPSAzMDA7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGVuZEludGVyYWN0aW9uXygpIHtcbiAgICB0aGlzLnRyYWNrcGFkVGltZW91dElkXyA9IHVuZGVmaW5lZDtcbiAgICBjb25zdCBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgIGlmICghbWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIHZpZXcuZW5kSW50ZXJhY3Rpb24oXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB0aGlzLmxhc3REZWx0YV8gPyAodGhpcy5sYXN0RGVsdGFfID4gMCA/IDEgOiAtMSkgOiAwLFxuICAgICAgdGhpcy5sYXN0QW5jaG9yX1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSAoaWYgaXQgd2FzIGEgbW91c2V3aGVlbC1ldmVudCkgYW5kIGV2ZW50dWFsbHlcbiAgICogem9vbXMgdGhlIG1hcC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAqL1xuICBoYW5kbGVFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuY29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IG1hcEJyb3dzZXJFdmVudC50eXBlO1xuICAgIGlmICh0eXBlICE9PSBFdmVudFR5cGUuV0hFRUwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgY29uc3Qgd2hlZWxFdmVudCA9IC8qKiBAdHlwZSB7V2hlZWxFdmVudH0gKi8gKFxuICAgICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICApO1xuICAgIHdoZWVsRXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICh0aGlzLnVzZUFuY2hvcl8pIHtcbiAgICAgIHRoaXMubGFzdEFuY2hvcl8gPSBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZTtcbiAgICB9XG5cbiAgICAvLyBEZWx0YSBub3JtYWxpc2F0aW9uIGluc3BpcmVkIGJ5XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvYmxvYi8wMDFjN2I5L2pzL3VpL2hhbmRsZXIvc2Nyb2xsX3pvb20uanNcbiAgICBsZXQgZGVsdGE7XG4gICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IEV2ZW50VHlwZS5XSEVFTCkge1xuICAgICAgZGVsdGEgPSB3aGVlbEV2ZW50LmRlbHRhWTtcbiAgICAgIGlmIChGSVJFRk9YICYmIHdoZWVsRXZlbnQuZGVsdGFNb2RlID09PSBXaGVlbEV2ZW50LkRPTV9ERUxUQV9QSVhFTCkge1xuICAgICAgICBkZWx0YSAvPSBERVZJQ0VfUElYRUxfUkFUSU87XG4gICAgICB9XG4gICAgICBpZiAod2hlZWxFdmVudC5kZWx0YU1vZGUgPT09IFdoZWVsRXZlbnQuRE9NX0RFTFRBX0xJTkUpIHtcbiAgICAgICAgZGVsdGEgKj0gNDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRlbHRhID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMubGFzdERlbHRhXyA9IGRlbHRhO1xuXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGlmICh0aGlzLnN0YXJ0VGltZV8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zdGFydFRpbWVfID0gbm93O1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tb2RlXyB8fCBub3cgLSB0aGlzLnN0YXJ0VGltZV8gPiB0aGlzLnRyYWNrcGFkRXZlbnRHYXBfKSB7XG4gICAgICB0aGlzLm1vZGVfID0gTWF0aC5hYnMoZGVsdGEpIDwgNCA/ICd0cmFja3BhZCcgOiAnd2hlZWwnO1xuICAgIH1cblxuICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIGlmIChcbiAgICAgIHRoaXMubW9kZV8gPT09ICd0cmFja3BhZCcgJiZcbiAgICAgICEodmlldy5nZXRDb25zdHJhaW5SZXNvbHV0aW9uKCkgfHwgdGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uXylcbiAgICApIHtcbiAgICAgIGlmICh0aGlzLnRyYWNrcGFkVGltZW91dElkXykge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50cmFja3BhZFRpbWVvdXRJZF8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICB2aWV3LmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICB2aWV3LmJlZ2luSW50ZXJhY3Rpb24oKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudHJhY2twYWRUaW1lb3V0SWRfID0gc2V0VGltZW91dChcbiAgICAgICAgdGhpcy5lbmRJbnRlcmFjdGlvbl8uYmluZCh0aGlzKSxcbiAgICAgICAgdGhpcy50aW1lb3V0X1xuICAgICAgKTtcbiAgICAgIHZpZXcuYWRqdXN0Wm9vbSgtZGVsdGEgLyB0aGlzLmRlbHRhUGVyWm9vbV8sIHRoaXMubGFzdEFuY2hvcl8pO1xuICAgICAgdGhpcy5zdGFydFRpbWVfID0gbm93O1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMudG90YWxEZWx0YV8gKz0gZGVsdGE7XG5cbiAgICBjb25zdCB0aW1lTGVmdCA9IE1hdGgubWF4KHRoaXMudGltZW91dF8gLSAobm93IC0gdGhpcy5zdGFydFRpbWVfKSwgMCk7XG5cbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWRfKTtcbiAgICB0aGlzLnRpbWVvdXRJZF8gPSBzZXRUaW1lb3V0KFxuICAgICAgdGhpcy5oYW5kbGVXaGVlbFpvb21fLmJpbmQodGhpcywgbWFwKSxcbiAgICAgIHRpbWVMZWZ0XG4gICAgKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgKi9cbiAgaGFuZGxlV2hlZWxab29tXyhtYXApIHtcbiAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICBpZiAodmlldy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgfVxuICAgIGxldCBkZWx0YSA9XG4gICAgICAtY2xhbXAoXG4gICAgICAgIHRoaXMudG90YWxEZWx0YV8sXG4gICAgICAgIC10aGlzLm1heERlbHRhXyAqIHRoaXMuZGVsdGFQZXJab29tXyxcbiAgICAgICAgdGhpcy5tYXhEZWx0YV8gKiB0aGlzLmRlbHRhUGVyWm9vbV9cbiAgICAgICkgLyB0aGlzLmRlbHRhUGVyWm9vbV87XG4gICAgaWYgKHZpZXcuZ2V0Q29uc3RyYWluUmVzb2x1dGlvbigpIHx8IHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbl8pIHtcbiAgICAgIC8vIHZpZXcgaGFzIGEgem9vbSBjb25zdHJhaW50LCB6b29tIGJ5IDFcbiAgICAgIGRlbHRhID0gZGVsdGEgPyAoZGVsdGEgPiAwID8gMSA6IC0xKSA6IDA7XG4gICAgfVxuICAgIHpvb21CeURlbHRhKHZpZXcsIGRlbHRhLCB0aGlzLmxhc3RBbmNob3JfLCB0aGlzLmR1cmF0aW9uXyk7XG5cbiAgICB0aGlzLm1vZGVfID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudG90YWxEZWx0YV8gPSAwO1xuICAgIHRoaXMubGFzdEFuY2hvcl8gPSBudWxsO1xuICAgIHRoaXMuc3RhcnRUaW1lXyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnRpbWVvdXRJZF8gPSB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUgdXNpbmcgdGhlIG1vdXNlJ3MgbG9jYXRpb24gYXMgYW4gYW5jaG9yIHdoZW4gem9vbWluZ1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUFuY2hvciB0cnVlIHRvIHpvb20gdG8gdGhlIG1vdXNlJ3MgbG9jYXRpb24sIGZhbHNlXG4gICAqIHRvIHpvb20gdG8gdGhlIGNlbnRlciBvZiB0aGUgbWFwXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE1vdXNlQW5jaG9yKHVzZUFuY2hvcikge1xuICAgIHRoaXMudXNlQW5jaG9yXyA9IHVzZUFuY2hvcjtcbiAgICBpZiAoIXVzZUFuY2hvcikge1xuICAgICAgdGhpcy5sYXN0QW5jaG9yXyA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vdXNlV2hlZWxab29tO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL1BpbmNoUm90YXRlXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24sIHtcbiAgY2VudHJvaWQgYXMgY2VudHJvaWRGcm9tUG9pbnRlcnMsXG59IGZyb20gJy4vUG9pbnRlci5qcyc7XG5pbXBvcnQge0ZBTFNFfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHtkaXNhYmxlfSBmcm9tICcuLi9yb3RhdGlvbmNvbnN0cmFpbnQuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBUaGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpblxuICogbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aHJlc2hvbGQ9MC4zXSBNaW5pbWFsIGFuZ2xlIGluIHJhZGlhbnMgdG8gc3RhcnQgYSByb3RhdGlvbi5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byByb3RhdGUgdGhlIG1hcCBieSB0d2lzdGluZyB3aXRoIHR3byBmaW5nZXJzXG4gKiBvbiBhIHRvdWNoIHNjcmVlbi5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgUGluY2hSb3RhdGUgZXh0ZW5kcyBQb2ludGVySW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIGNvbnN0IHBvaW50ZXJPcHRpb25zID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1BvaW50ZXIuanNcIikuT3B0aW9uc30gKi8gKFxuICAgICAgb3B0aW9uc1xuICAgICk7XG5cbiAgICBpZiAoIXBvaW50ZXJPcHRpb25zLnN0b3BEb3duKSB7XG4gICAgICBwb2ludGVyT3B0aW9ucy5zdG9wRG93biA9IEZBTFNFO1xuICAgIH1cblxuICAgIHN1cGVyKHBvaW50ZXJPcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmFuY2hvcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmxhc3RBbmdsZV8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucm90YXRpbmdfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yb3RhdGlvbkRlbHRhXyA9IDAuMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRocmVzaG9sZF8gPSBvcHRpb25zLnRocmVzaG9sZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aHJlc2hvbGQgOiAwLjM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIGRyYWcgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqL1xuICBoYW5kbGVEcmFnRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgbGV0IHJvdGF0aW9uRGVsdGEgPSAwLjA7XG5cbiAgICBjb25zdCB0b3VjaDAgPSB0aGlzLnRhcmdldFBvaW50ZXJzWzBdO1xuICAgIGNvbnN0IHRvdWNoMSA9IHRoaXMudGFyZ2V0UG9pbnRlcnNbMV07XG5cbiAgICAvLyBhbmdsZSBiZXR3ZWVuIHRvdWNoZXNcbiAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoXG4gICAgICB0b3VjaDEuY2xpZW50WSAtIHRvdWNoMC5jbGllbnRZLFxuICAgICAgdG91Y2gxLmNsaWVudFggLSB0b3VjaDAuY2xpZW50WFxuICAgICk7XG5cbiAgICBpZiAodGhpcy5sYXN0QW5nbGVfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGRlbHRhID0gYW5nbGUgLSB0aGlzLmxhc3RBbmdsZV87XG4gICAgICB0aGlzLnJvdGF0aW9uRGVsdGFfICs9IGRlbHRhO1xuICAgICAgaWYgKCF0aGlzLnJvdGF0aW5nXyAmJiBNYXRoLmFicyh0aGlzLnJvdGF0aW9uRGVsdGFfKSA+IHRoaXMudGhyZXNob2xkXykge1xuICAgICAgICB0aGlzLnJvdGF0aW5nXyA9IHRydWU7XG4gICAgICB9XG4gICAgICByb3RhdGlvbkRlbHRhID0gZGVsdGE7XG4gICAgfVxuICAgIHRoaXMubGFzdEFuZ2xlXyA9IGFuZ2xlO1xuXG4gICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICBpZiAodmlldy5nZXRDb25zdHJhaW50cygpLnJvdGF0aW9uID09PSBkaXNhYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gcm90YXRlIGFuY2hvciBwb2ludC5cbiAgICAvLyBGSVhNRTogc2hvdWxkIGJlIHRoZSBpbnRlcnNlY3Rpb24gcG9pbnQgYmV0d2VlbiB0aGUgbGluZXM6XG4gICAgLy8gICAgIHRvdWNoMCx0b3VjaDEgYW5kIHByZXZpb3VzVG91Y2gwLHByZXZpb3VzVG91Y2gxXG4gICAgdGhpcy5hbmNob3JfID0gbWFwLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChcbiAgICAgIG1hcC5nZXRFdmVudFBpeGVsKGNlbnRyb2lkRnJvbVBvaW50ZXJzKHRoaXMudGFyZ2V0UG9pbnRlcnMpKVxuICAgICk7XG5cbiAgICAvLyByb3RhdGVcbiAgICBpZiAodGhpcy5yb3RhdGluZ18pIHtcbiAgICAgIG1hcC5yZW5kZXIoKTtcbiAgICAgIHZpZXcuYWRqdXN0Um90YXRpb25JbnRlcm5hbChyb3RhdGlvbkRlbHRhLCB0aGlzLmFuY2hvcl8pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciB1cCBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICovXG4gIGhhbmRsZVVwRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoIDwgMikge1xuICAgICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgdmlldy5lbmRJbnRlcmFjdGlvbih0aGlzLmR1cmF0aW9uXyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAqL1xuICBoYW5kbGVEb3duRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID49IDIpIHtcbiAgICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICB0aGlzLmFuY2hvcl8gPSBudWxsO1xuICAgICAgdGhpcy5sYXN0QW5nbGVfID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5yb3RhdGluZ18gPSBmYWxzZTtcbiAgICAgIHRoaXMucm90YXRpb25EZWx0YV8gPSAwLjA7XG4gICAgICBpZiAoIXRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSkge1xuICAgICAgICBtYXAuZ2V0VmlldygpLmJlZ2luSW50ZXJhY3Rpb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGluY2hSb3RhdGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUGluY2hab29tXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24sIHtcbiAgY2VudHJvaWQgYXMgY2VudHJvaWRGcm9tUG9pbnRlcnMsXG59IGZyb20gJy4vUG9pbnRlci5qcyc7XG5pbXBvcnQge0ZBTFNFfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249NDAwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBieSBwaW5jaGluZyB3aXRoIHR3byBmaW5nZXJzXG4gKiBvbiBhIHRvdWNoIHNjcmVlbi5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgUGluY2hab29tIGV4dGVuZHMgUG9pbnRlckludGVyYWN0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICBjb25zdCBwb2ludGVyT3B0aW9ucyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9Qb2ludGVyLmpzXCIpLk9wdGlvbnN9ICovIChcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuXG4gICAgaWYgKCFwb2ludGVyT3B0aW9ucy5zdG9wRG93bikge1xuICAgICAgcG9pbnRlck9wdGlvbnMuc3RvcERvd24gPSBGQUxTRTtcbiAgICB9XG5cbiAgICBzdXBlcihwb2ludGVyT3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICovXG4gICAgdGhpcy5hbmNob3JfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiA0MDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMubGFzdERpc3RhbmNlXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxhc3RTY2FsZURlbHRhXyA9IDE7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICovXG4gIGhhbmRsZURyYWdFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBsZXQgc2NhbGVEZWx0YSA9IDEuMDtcblxuICAgIGNvbnN0IHRvdWNoMCA9IHRoaXMudGFyZ2V0UG9pbnRlcnNbMF07XG4gICAgY29uc3QgdG91Y2gxID0gdGhpcy50YXJnZXRQb2ludGVyc1sxXTtcbiAgICBjb25zdCBkeCA9IHRvdWNoMC5jbGllbnRYIC0gdG91Y2gxLmNsaWVudFg7XG4gICAgY29uc3QgZHkgPSB0b3VjaDAuY2xpZW50WSAtIHRvdWNoMS5jbGllbnRZO1xuXG4gICAgLy8gZGlzdGFuY2UgYmV0d2VlbiB0b3VjaGVzXG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuXG4gICAgaWYgKHRoaXMubGFzdERpc3RhbmNlXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzY2FsZURlbHRhID0gdGhpcy5sYXN0RGlzdGFuY2VfIC8gZGlzdGFuY2U7XG4gICAgfVxuICAgIHRoaXMubGFzdERpc3RhbmNlXyA9IGRpc3RhbmNlO1xuXG4gICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcblxuICAgIGlmIChzY2FsZURlbHRhICE9IDEuMCkge1xuICAgICAgdGhpcy5sYXN0U2NhbGVEZWx0YV8gPSBzY2FsZURlbHRhO1xuICAgIH1cblxuICAgIC8vIHNjYWxlIGFuY2hvciBwb2ludC5cbiAgICB0aGlzLmFuY2hvcl8gPSBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKFxuICAgICAgbWFwLmdldEV2ZW50UGl4ZWwoY2VudHJvaWRGcm9tUG9pbnRlcnModGhpcy50YXJnZXRQb2ludGVycykpXG4gICAgKTtcblxuICAgIC8vIHNjYWxlLCBieXBhc3MgdGhlIHJlc29sdXRpb24gY29uc3RyYWludFxuICAgIG1hcC5yZW5kZXIoKTtcbiAgICB2aWV3LmFkanVzdFJlc29sdXRpb25JbnRlcm5hbChzY2FsZURlbHRhLCB0aGlzLmFuY2hvcl8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgKi9cbiAgaGFuZGxlVXBFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPCAyKSB7XG4gICAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgY29uc3QgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmxhc3RTY2FsZURlbHRhXyA+IDEgPyAxIDogLTE7XG4gICAgICB2aWV3LmVuZEludGVyYWN0aW9uKHRoaXMuZHVyYXRpb25fLCBkaXJlY3Rpb24pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgKi9cbiAgaGFuZGxlRG93bkV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICh0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA+PSAyKSB7XG4gICAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgdGhpcy5hbmNob3JfID0gbnVsbDtcbiAgICAgIHRoaXMubGFzdERpc3RhbmNlXyA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMubGFzdFNjYWxlRGVsdGFfID0gMTtcbiAgICAgIGlmICghdGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlKSB7XG4gICAgICAgIG1hcC5nZXRWaWV3KCkuYmVnaW5JbnRlcmFjdGlvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQaW5jaFpvb207XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwXG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4vT2JqZWN0LmpzJztcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4vQ29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbkV2ZW50VHlwZSBmcm9tICcuL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IENvbXBvc2l0ZU1hcFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXIvQ29tcG9zaXRlLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBMYXllciBmcm9tICcuL2xheWVyL0xheWVyLmpzJztcbmltcG9ydCBMYXllckdyb3VwLCB7R3JvdXBFdmVudH0gZnJvbSAnLi9sYXllci9Hcm91cC5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50IGZyb20gJy4vTWFwQnJvd3NlckV2ZW50LmpzJztcbmltcG9ydCBNYXBCcm93c2VyRXZlbnRIYW5kbGVyIGZyb20gJy4vTWFwQnJvd3NlckV2ZW50SGFuZGxlci5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuL01hcEJyb3dzZXJFdmVudFR5cGUuanMnO1xuaW1wb3J0IE1hcEV2ZW50IGZyb20gJy4vTWFwRXZlbnQuanMnO1xuaW1wb3J0IE1hcEV2ZW50VHlwZSBmcm9tICcuL01hcEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgTWFwUHJvcGVydHkgZnJvbSAnLi9NYXBQcm9wZXJ0eS5qcyc7XG5pbXBvcnQgT2JqZWN0RXZlbnRUeXBlIGZyb20gJy4vT2JqZWN0RXZlbnRUeXBlLmpzJztcbmltcG9ydCBQb2ludGVyRXZlbnRUeXBlIGZyb20gJy4vcG9pbnRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50VHlwZSBmcm9tICcuL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFRpbGVRdWV1ZSwge2dldFRpbGVQcmlvcml0eX0gZnJvbSAnLi9UaWxlUXVldWUuanMnO1xuaW1wb3J0IFZpZXcgZnJvbSAnLi9WaWV3LmpzJztcbmltcG9ydCBWaWV3SGludCBmcm9tICcuL1ZpZXdIaW50LmpzJztcbmltcG9ydCB7REVWSUNFX1BJWEVMX1JBVElPLCBQQVNTSVZFX0VWRU5UX0xJU1RFTkVSU30gZnJvbSAnLi9oYXMuanMnO1xuaW1wb3J0IHtUUlVFfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge1xuICBhcHBseSBhcyBhcHBseVRyYW5zZm9ybSxcbiAgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSxcbn0gZnJvbSAnLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge1xuICBjbG9uZSxcbiAgY3JlYXRlT3JVcGRhdGVFbXB0eSxcbiAgZXF1YWxzIGFzIGVxdWFsc0V4dGVudCxcbiAgZ2V0Rm9yVmlld0FuZFNpemUsXG4gIGlzRW1wdHksXG59IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7ZGVmYXVsdHMgYXMgZGVmYXVsdENvbnRyb2xzfSBmcm9tICcuL2NvbnRyb2wvZGVmYXVsdHMuanMnO1xuaW1wb3J0IHtkZWZhdWx0cyBhcyBkZWZhdWx0SW50ZXJhY3Rpb25zfSBmcm9tICcuL2ludGVyYWN0aW9uL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7ZXF1YWxzfSBmcm9tICcuL2FycmF5LmpzJztcbmltcG9ydCB7ZnJvbVVzZXJDb29yZGluYXRlLCB0b1VzZXJDb29yZGluYXRlfSBmcm9tICcuL3Byb2ouanMnO1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQge2hhc0FyZWF9IGZyb20gJy4vc2l6ZS5qcyc7XG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi9ldmVudHMuanMnO1xuaW1wb3J0IHtyZW1vdmVOb2RlfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge3dhcm59IGZyb20gJy4vY29uc29sZS5qcyc7XG5cbi8qKlxuICogU3RhdGUgb2YgdGhlIGN1cnJlbnQgZnJhbWUuIE9ubHkgYHBpeGVsUmF0aW9gLCBgdGltZWAgYW5kIGB2aWV3U3RhdGVgIHNob3VsZFxuICogYmUgdXNlZCBpbiBhcHBsaWNhdGlvbnMuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGcmFtZVN0YXRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gcGl4ZWxSYXRpbyBUaGUgcGl4ZWwgcmF0aW8gb2YgdGhlIGZyYW1lLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWUgVGhlIHRpbWUgd2hlbiByZW5kZXJpbmcgb2YgdGhlIGZyYW1lIHdhcyByZXF1ZXN0ZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vVmlldy5qc1wiKS5TdGF0ZX0gdmlld1N0YXRlIFRoZSBzdGF0ZSBvZiB0aGUgY3VycmVudCB2aWV3LlxuICogQHByb3BlcnR5IHtib29sZWFufSBhbmltYXRlIEFuaW1hdGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0gQ29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcInJidXNoXCIpLmRlZmF1bHR9IGRlY2x1dHRlclRyZWUgRGVjbHV0dGVyVHJlZS5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW25leHRFeHRlbnRdIE5leHQgZXh0ZW50IGR1cmluZyBhbiBhbmltYXRpb24gc2VyaWVzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLlN0YXRlPn0gbGF5ZXJTdGF0ZXNBcnJheSBMYXllclN0YXRlc0FycmF5LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxheWVySW5kZXggTGF5ZXJJbmRleC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSBwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSBQaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8UG9zdFJlbmRlckZ1bmN0aW9uPn0gcG9zdFJlbmRlckZ1bmN0aW9ucyBQb3N0UmVuZGVyRnVuY3Rpb25zLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICogQHByb3BlcnR5IHtUaWxlUXVldWV9IHRpbGVRdWV1ZSBUaWxlUXVldWUuXG4gKiBAcHJvcGVydHkgeyFPYmplY3Q8c3RyaW5nLCBPYmplY3Q8c3RyaW5nLCBib29sZWFuPj59IHVzZWRUaWxlcyBVc2VkVGlsZXMuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IHZpZXdIaW50cyBWaWV3SGludHMuXG4gKiBAcHJvcGVydHkgeyFPYmplY3Q8c3RyaW5nLCBPYmplY3Q8c3RyaW5nLCBib29sZWFuPj59IHdhbnRlZFRpbGVzIFdhbnRlZFRpbGVzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1hcElkIFRoZSBpZCBvZiB0aGUgbWFwLlxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gcmVuZGVyVGFyZ2V0cyBJZGVudGlmaWVycyBvZiBwcmV2aW91c2x5IHJlbmRlcmVkIGVsZW1lbnRzLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKE1hcCwgP0ZyYW1lU3RhdGUpOiBhbnl9IFBvc3RSZW5kZXJGdW5jdGlvblxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQXRQaXhlbE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7dW5kZWZpbmVkfGZ1bmN0aW9uKGltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuL3NvdXJjZS9Tb3VyY2VcIikuZGVmYXVsdD4pOiBib29sZWFufSBbbGF5ZXJGaWx0ZXJdIExheWVyIGZpbHRlclxuICogZnVuY3Rpb24uIFRoZSBmaWx0ZXIgZnVuY3Rpb24gd2lsbCByZWNlaXZlIG9uZSBhcmd1bWVudCwgdGhlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyIGxheWVyLWNhbmRpZGF0ZX0gYW5kIGl0IHNob3VsZCByZXR1cm4gYSBib29sZWFuIHZhbHVlLlxuICogT25seSBsYXllcnMgd2hpY2ggYXJlIHZpc2libGUgYW5kIGZvciB3aGljaCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgXG4gKiB3aWxsIGJlIHRlc3RlZCBmb3IgZmVhdHVyZXMuIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlIGxheWVycyB3aWxsIGJlIHRlc3RlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaGl0VG9sZXJhbmNlPTBdIEhpdC1kZXRlY3Rpb24gdG9sZXJhbmNlIGluIGNzcyBwaXhlbHMuIFBpeGVsc1xuICogaW5zaWRlIHRoZSByYWRpdXMgYXJvdW5kIHRoZSBnaXZlbiBwb3NpdGlvbiB3aWxsIGJlIGNoZWNrZWQgZm9yIGZlYXR1cmVzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY2hlY2tXcmFwcGVkPXRydWVdIENoZWNrLVdyYXBwZWQgV2lsbCBjaGVjayBmb3Igd3JhcHBlZCBnZW9tZXRyaWVzIGluc2lkZSB0aGUgcmFuZ2Ugb2ZcbiAqICAgKy8tIDEgd29ybGQgd2lkdGguIFdvcmtzIG9ubHkgaWYgYSBwcm9qZWN0aW9uIGlzIHVzZWQgdGhhdCBjYW4gYmUgd3JhcHBlZC5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcE9wdGlvbnNJbnRlcm5hbFxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBbY29udHJvbHNdIENvbnRyb2xzLlxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59IFtpbnRlcmFjdGlvbnNdIEludGVyYWN0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR9IGtleWJvYXJkRXZlbnRUYXJnZXQgS2V5Ym9hcmRFdmVudFRhcmdldC5cbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59IG92ZXJsYXlzIE92ZXJsYXlzLlxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCAqPn0gdmFsdWVzIFZhbHVlcy5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3wnY2hhbmdlOmxheWVyZ3JvdXAnfCdjaGFuZ2U6c2l6ZSd8J2NoYW5nZTp0YXJnZXQnfCdjaGFuZ2U6dmlldyd9IE1hcE9iamVjdEV2ZW50VHlwZXNcbiAqL1xuXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxNYXBPYmplY3RFdmVudFR5cGVzLCBpbXBvcnQoXCIuL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9NYXBCcm93c2VyRXZlbnRUeXBlXCIpLlR5cGVzLCBpbXBvcnQoXCIuL01hcEJyb3dzZXJFdmVudFwiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL01hcEV2ZW50VHlwZVwiKS5UeXBlcywgaW1wb3J0KFwiLi9NYXBFdmVudFwiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL3JlbmRlci9FdmVudFR5cGVcIikuTWFwUmVuZGVyRXZlbnRUeXBlcywgaW1wb3J0KFwiLi9yZW5kZXIvRXZlbnRcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xNYXBPYmplY3RFdmVudFR5cGVzfFxuICogICAgICBpbXBvcnQoXCIuL01hcEJyb3dzZXJFdmVudFR5cGVcIikuVHlwZXN8aW1wb3J0KFwiLi9NYXBFdmVudFR5cGVcIikuVHlwZXN8XG4gKiAgICAgIGltcG9ydChcIi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5NYXBSZW5kZXJFdmVudFR5cGVzLCBSZXR1cm4+fSBNYXBFdmVudEhhbmRsZXJcbiAqL1xuXG4vKipcbiAqIE9iamVjdCBsaXRlcmFsIHdpdGggY29uZmlnIG9wdGlvbnMgZm9yIHRoZSBtYXAuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNYXBPcHRpb25zXG4gKiBAcHJvcGVydHkge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD58QXJyYXk8aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD59IFtjb250cm9sc11cbiAqIENvbnRyb2xzIGluaXRpYWxseSBhZGRlZCB0byB0aGUgbWFwLiBJZiBub3Qgc3BlY2lmaWVkLFxuICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL2RlZmF1bHRzLmRlZmF1bHRzfSBpcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtwaXhlbFJhdGlvPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvXSBUaGUgcmF0aW8gYmV0d2VlblxuICogcGh5c2ljYWwgcGl4ZWxzIGFuZCBkZXZpY2UtaW5kZXBlbmRlbnQgcGl4ZWxzIChkaXBzKSBvbiB0aGUgZGV2aWNlLlxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD58QXJyYXk8aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn0gW2ludGVyYWN0aW9uc11cbiAqIEludGVyYWN0aW9ucyB0aGF0IGFyZSBpbml0aWFsbHkgYWRkZWQgdG8gdGhlIG1hcC4gSWYgbm90IHNwZWNpZmllZCxcbiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vZGVmYXVsdHMuZGVmYXVsdHN9IGlzIHVzZWQuXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fERvY3VtZW50fHN0cmluZ30gW2tleWJvYXJkRXZlbnRUYXJnZXRdIFRoZSBlbGVtZW50IHRvXG4gKiBsaXN0ZW4gdG8ga2V5Ym9hcmQgZXZlbnRzIG9uLiBUaGlzIGRldGVybWluZXMgd2hlbiB0aGUgYEtleWJvYXJkUGFuYCBhbmRcbiAqIGBLZXlib2FyZFpvb21gIGludGVyYWN0aW9ucyB0cmlnZ2VyLiBGb3IgZXhhbXBsZSwgaWYgdGhpcyBvcHRpb24gaXMgc2V0IHRvXG4gKiBgZG9jdW1lbnRgIHRoZSBrZXlib2FyZCBpbnRlcmFjdGlvbnMgd2lsbCBhbHdheXMgdHJpZ2dlci4gSWYgdGhpcyBvcHRpb24gaXNcbiAqIG5vdCBzcGVjaWZpZWQsIHRoZSBlbGVtZW50IHRoZSBsaWJyYXJ5IGxpc3RlbnMgdG8ga2V5Ym9hcmQgZXZlbnRzIG9uIGlzIHRoZVxuICogbWFwIHRhcmdldCAoaS5lLiB0aGUgdXNlci1wcm92aWRlZCBkaXYgZm9yIHRoZSBtYXApLiBJZiB0aGlzIGlzIG5vdFxuICogYGRvY3VtZW50YCwgdGhlIHRhcmdldCBlbGVtZW50IG5lZWRzIHRvIGJlIGZvY3VzZWQgZm9yIGtleSBldmVudHMgdG8gYmVcbiAqIGVtaXR0ZWQsIHJlcXVpcmluZyB0aGF0IHRoZSB0YXJnZXQgZWxlbWVudCBoYXMgYSBgdGFiaW5kZXhgIGF0dHJpYnV0ZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fENvbGxlY3Rpb248aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fExheWVyR3JvdXB9IFtsYXllcnNdXG4gKiBMYXllcnMuIElmIHRoaXMgaXMgbm90IGRlZmluZWQsIGEgbWFwIHdpdGggbm8gbGF5ZXJzIHdpbGwgYmUgcmVuZGVyZWQuIE5vdGVcbiAqIHRoYXQgbGF5ZXJzIGFyZSByZW5kZXJlZCBpbiB0aGUgb3JkZXIgc3VwcGxpZWQsIHNvIGlmIHlvdSB3YW50LCBmb3IgZXhhbXBsZSxcbiAqIGEgdmVjdG9yIGxheWVyIHRvIGFwcGVhciBvbiB0b3Agb2YgYSB0aWxlIGxheWVyLCBpdCBtdXN0IGNvbWUgYWZ0ZXIgdGhlIHRpbGVcbiAqIGxheWVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhUaWxlc0xvYWRpbmc9MTZdIE1heGltdW0gbnVtYmVyIHRpbGVzIHRvIGxvYWRcbiAqIHNpbXVsdGFuZW91c2x5LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttb3ZlVG9sZXJhbmNlPTFdIFRoZSBtaW5pbXVtIGRpc3RhbmNlIGluIHBpeGVscyB0aGVcbiAqIGN1cnNvciBtdXN0IG1vdmUgdG8gYmUgZGV0ZWN0ZWQgYXMgYSBtYXAgbW92ZSBldmVudCBpbnN0ZWFkIG9mIGEgY2xpY2suXG4gKiBJbmNyZWFzaW5nIHRoaXMgdmFsdWUgY2FuIG1ha2UgaXQgZWFzaWVyIHRvIGNsaWNrIG9uIHRoZSBtYXAuXG4gKiBAcHJvcGVydHkge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fEFycmF5PGltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0Pn0gW292ZXJsYXlzXVxuICogT3ZlcmxheXMgaW5pdGlhbGx5IGFkZGVkIHRvIHRoZSBtYXAuIEJ5IGRlZmF1bHQsIG5vIG92ZXJsYXlzIGFyZSBhZGRlZC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBUaGUgY29udGFpbmVyIGZvciB0aGUgbWFwLCBlaXRoZXIgdGhlXG4gKiBlbGVtZW50IGl0c2VsZiBvciB0aGUgYGlkYCBvZiB0aGUgZWxlbWVudC4gSWYgbm90IHNwZWNpZmllZCBhdCBjb25zdHJ1Y3Rpb25cbiAqIHRpbWUsIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcCNzZXRUYXJnZXR9IG11c3QgYmUgY2FsbGVkIGZvciB0aGUgbWFwIHRvIGJlXG4gKiByZW5kZXJlZC4gSWYgcGFzc2VkIGJ5IGVsZW1lbnQsIHRoZSBjb250YWluZXIgY2FuIGJlIGluIGEgc2Vjb25kYXJ5IGRvY3VtZW50LlxuICogKipOb3RlOioqIENTUyBgdHJhbnNmb3JtYCBzdXBwb3J0IGZvciB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgbGltaXRlZCB0byBgc2NhbGVgLlxuICogQHByb3BlcnR5IHtWaWV3fFByb21pc2U8aW1wb3J0KFwiLi9WaWV3LmpzXCIpLlZpZXdPcHRpb25zPn0gW3ZpZXddIFRoZSBtYXAncyB2aWV3LiAgTm8gbGF5ZXIgc291cmNlcyB3aWxsIGJlXG4gKiBmZXRjaGVkIHVubGVzcyB0aGlzIGlzIHNwZWNpZmllZCBhdCBjb25zdHJ1Y3Rpb24gdGltZSBvciB0aHJvdWdoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXAjc2V0Vmlld30uXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTGF5ZXJNYXBQcm9wZXJ0eShsYXllcikge1xuICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMYXllcikge1xuICAgIGxheWVyLnNldE1hcEludGVybmFsKG51bGwpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMYXllckdyb3VwKSB7XG4gICAgbGF5ZXIuZ2V0TGF5ZXJzKCkuZm9yRWFjaChyZW1vdmVMYXllck1hcFByb3BlcnR5KTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICogQHBhcmFtIHtNYXB9IG1hcCBNYXAuXG4gKi9cbmZ1bmN0aW9uIHNldExheWVyTWFwUHJvcGVydHkobGF5ZXIsIG1hcCkge1xuICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMYXllcikge1xuICAgIGxheWVyLnNldE1hcEludGVybmFsKG1hcCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChsYXllciBpbnN0YW5jZW9mIExheWVyR3JvdXApIHtcbiAgICBjb25zdCBsYXllcnMgPSBsYXllci5nZXRMYXllcnMoKS5nZXRBcnJheSgpO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGxheWVycy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBzZXRMYXllck1hcFByb3BlcnR5KGxheWVyc1tpXSwgbWFwKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBUaGUgbWFwIGlzIHRoZSBjb3JlIGNvbXBvbmVudCBvZiBPcGVuTGF5ZXJzLiBGb3IgYSBtYXAgdG8gcmVuZGVyLCBhIHZpZXcsXG4gKiBvbmUgb3IgbW9yZSBsYXllcnMsIGFuZCBhIHRhcmdldCBjb250YWluZXIgYXJlIG5lZWRlZDpcbiAqXG4gKiAgICAgaW1wb3J0IE1hcCBmcm9tICdvbC9NYXAuanMnO1xuICogICAgIGltcG9ydCBWaWV3IGZyb20gJ29sL1ZpZXcuanMnO1xuICogICAgIGltcG9ydCBUaWxlTGF5ZXIgZnJvbSAnb2wvbGF5ZXIvVGlsZS5qcyc7XG4gKiAgICAgaW1wb3J0IE9TTSBmcm9tICdvbC9zb3VyY2UvT1NNLmpzJztcbiAqXG4gKiAgICAgY29uc3QgbWFwID0gbmV3IE1hcCh7XG4gKiAgICAgICB2aWV3OiBuZXcgVmlldyh7XG4gKiAgICAgICAgIGNlbnRlcjogWzAsIDBdLFxuICogICAgICAgICB6b29tOiAxLFxuICogICAgICAgfSksXG4gKiAgICAgICBsYXllcnM6IFtcbiAqICAgICAgICAgbmV3IFRpbGVMYXllcih7XG4gKiAgICAgICAgICAgc291cmNlOiBuZXcgT1NNKCksXG4gKiAgICAgICAgIH0pLFxuICogICAgICAgXSxcbiAqICAgICAgIHRhcmdldDogJ21hcCcsXG4gKiAgICAgfSk7XG4gKlxuICogVGhlIGFib3ZlIHNuaXBwZXQgY3JlYXRlcyBhIG1hcCB1c2luZyBhIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvVGlsZX5UaWxlTGF5ZXJ9IHRvXG4gKiBkaXNwbGF5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL09TTX5PU019IE9TTSBkYXRhIGFuZCByZW5kZXIgaXQgdG8gYSBET01cbiAqIGVsZW1lbnQgd2l0aCB0aGUgaWQgYG1hcGAuXG4gKlxuICogVGhlIGNvbnN0cnVjdG9yIHBsYWNlcyBhIHZpZXdwb3J0IGNvbnRhaW5lciAod2l0aCBDU1MgY2xhc3MgbmFtZVxuICogYG9sLXZpZXdwb3J0YCkgaW4gdGhlIHRhcmdldCBlbGVtZW50IChzZWUgYGdldFZpZXdwb3J0KClgKSwgYW5kIHRoZW4gdHdvXG4gKiBmdXJ0aGVyIGVsZW1lbnRzIHdpdGhpbiB0aGUgdmlld3BvcnQ6IG9uZSB3aXRoIENTUyBjbGFzcyBuYW1lXG4gKiBgb2wtb3ZlcmxheWNvbnRhaW5lci1zdG9wZXZlbnRgIGZvciBjb250cm9scyBhbmQgc29tZSBvdmVybGF5cywgYW5kIG9uZSB3aXRoXG4gKiBDU1MgY2xhc3MgbmFtZSBgb2wtb3ZlcmxheWNvbnRhaW5lcmAgZm9yIG90aGVyIG92ZXJsYXlzIChzZWUgdGhlIGBzdG9wRXZlbnRgXG4gKiBvcHRpb24gb2Yge0BsaW5rIG1vZHVsZTpvbC9PdmVybGF5fk92ZXJsYXl9IGZvciB0aGUgZGlmZmVyZW5jZSkuIFRoZSBtYXBcbiAqIGl0c2VsZiBpcyBwbGFjZWQgaW4gYSBmdXJ0aGVyIGVsZW1lbnQgd2l0aGluIHRoZSB2aWV3cG9ydC5cbiAqXG4gKiBMYXllcnMgYXJlIHN0b3JlZCBhcyBhIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSBpblxuICogbGF5ZXJHcm91cHMuIEEgdG9wLWxldmVsIGdyb3VwIGlzIHByb3ZpZGVkIGJ5IHRoZSBsaWJyYXJ5LiBUaGlzIGlzIHdoYXQgaXNcbiAqIGFjY2Vzc2VkIGJ5IGBnZXRMYXllckdyb3VwYCBhbmQgYHNldExheWVyR3JvdXBgLiBMYXllcnMgZW50ZXJlZCBpbiB0aGVcbiAqIG9wdGlvbnMgYXJlIGFkZGVkIHRvIHRoaXMgZ3JvdXAsIGFuZCBgYWRkTGF5ZXJgIGFuZCBgcmVtb3ZlTGF5ZXJgIGNoYW5nZSB0aGVcbiAqIGxheWVyIGNvbGxlY3Rpb24gaW4gdGhlIGdyb3VwLiBgZ2V0TGF5ZXJzYCBpcyBhIGNvbnZlbmllbmNlIGZ1bmN0aW9uIGZvclxuICogYGdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKWAuIE5vdGUgdGhhdCB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0dyb3VwfkxheWVyR3JvdXB9XG4gKiBpcyBhIHN1YmNsYXNzIG9mIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvQmFzZX5CYXNlTGF5ZXJ9LCBzbyBsYXllcnMgZW50ZXJlZCBpbiB0aGVcbiAqIG9wdGlvbnMgb3IgYWRkZWQgd2l0aCBgYWRkTGF5ZXJgIGNhbiBiZSBncm91cHMsIHdoaWNoIGNhbiBjb250YWluIGZ1cnRoZXJcbiAqIGdyb3VwcywgYW5kIHNvIG9uLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL01hcEJyb3dzZXJFdmVudC5qc1wiKS5NYXBCcm93c2VyRXZlbnRcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL01hcEV2ZW50LmpzXCIpLk1hcEV2ZW50XG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9yZW5kZXIvRXZlbnQuanNcIikuZGVmYXVsdCNwcmVjb21wb3NlXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9yZW5kZXIvRXZlbnQuanNcIikuZGVmYXVsdCNwb3N0Y29tcG9zZVxuICogQGZpcmVzIGltcG9ydChcIi4vcmVuZGVyL0V2ZW50LmpzXCIpLmRlZmF1bHQjcmVuZGVyY29tcGxldGVcbiAqIEBhcGlcbiAqL1xuY2xhc3MgTWFwIGV4dGVuZHMgQmFzZU9iamVjdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge01hcE9wdGlvbnN9IFtvcHRpb25zXSBNYXAgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge01hcEV2ZW50SGFuZGxlcjxpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge01hcEV2ZW50SGFuZGxlcjxpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7TWFwRXZlbnRIYW5kbGVyPHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICBjb25zdCBvcHRpb25zSW50ZXJuYWwgPSBjcmVhdGVPcHRpb25zSW50ZXJuYWwob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlckNvbXBsZXRlXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5sb2FkZWRfID0gdHJ1ZTtcblxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIHRoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfID0gdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQuYmluZCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heFRpbGVzTG9hZGluZ18gPVxuICAgICAgb3B0aW9ucy5tYXhUaWxlc0xvYWRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4VGlsZXNMb2FkaW5nIDogMTY7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5waXhlbFJhdGlvXyA9XG4gICAgICBvcHRpb25zLnBpeGVsUmF0aW8gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMucGl4ZWxSYXRpb1xuICAgICAgICA6IERFVklDRV9QSVhFTF9SQVRJTztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyp9XG4gICAgICovXG4gICAgdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmFuaW1hdGlvbkRlbGF5XyA9IHRoaXMuYW5pbWF0aW9uRGVsYXlfLmJpbmQodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZnJhbWVJbmRleF8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P0ZyYW1lU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZVN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZXh0ZW50IGF0IHRoZSBwcmV2aW91cyAnbW92ZWVuZCcgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMucHJldmlvdXNFeHRlbnRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICovXG4gICAgdGhpcy52aWV3UHJvcGVydHlMaXN0ZW5lcktleV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P0FycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5sYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXdwb3J0XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMudmlld3BvcnRfLmNsYXNzTmFtZSA9XG4gICAgICAnb2wtdmlld3BvcnQnICsgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyA/ICcgb2wtdG91Y2gnIDogJycpO1xuICAgIHRoaXMudmlld3BvcnRfLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLnZpZXdwb3J0Xy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIHRoaXMudmlld3BvcnRfLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMudmlld3BvcnRfLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLm92ZXJsYXlDb250YWluZXJfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyXy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyXy5zdHlsZS56SW5kZXggPSAnMCc7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyXy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyXy5jbGFzc05hbWUgPSAnb2wtb3ZlcmxheWNvbnRhaW5lcic7XG4gICAgdGhpcy52aWV3cG9ydF8uYXBwZW5kQ2hpbGQodGhpcy5vdmVybGF5Q29udGFpbmVyXyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshSFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uc3R5bGUuekluZGV4ID0gJzAnO1xuICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uY2xhc3NOYW1lID0gJ29sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50JztcbiAgICB0aGlzLnZpZXdwb3J0Xy5hcHBlbmRDaGlsZCh0aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge01hcEJyb3dzZXJFdmVudEhhbmRsZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXBCcm93c2VyRXZlbnRIYW5kbGVyXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tb3ZlVG9sZXJhbmNlXyA9IG9wdGlvbnMubW92ZVRvbGVyYW5jZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fERvY3VtZW50fVxuICAgICAqL1xuICAgIHRoaXMua2V5Ym9hcmRFdmVudFRhcmdldF8gPSBvcHRpb25zSW50ZXJuYWwua2V5Ym9hcmRFdmVudFRhcmdldDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9BcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0Q2hhbmdlSGFuZGxlcktleXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fG51bGx9XG4gICAgICovXG4gICAgdGhpcy50YXJnZXRFbGVtZW50XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7UmVzaXplT2JzZXJ2ZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZXNpemVPYnNlcnZlcl8gPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gdGhpcy51cGRhdGVTaXplKCkpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD59XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuY29udHJvbHMgPSBvcHRpb25zSW50ZXJuYWwuY29udHJvbHMgfHwgZGVmYXVsdENvbnRyb2xzKCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLmludGVyYWN0aW9ucyA9XG4gICAgICBvcHRpb25zSW50ZXJuYWwuaW50ZXJhY3Rpb25zIHx8XG4gICAgICBkZWZhdWx0SW50ZXJhY3Rpb25zKHtcbiAgICAgICAgb25Gb2N1c09ubHk6IHRydWUsXG4gICAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMub3ZlcmxheXNfID0gb3B0aW9uc0ludGVybmFsLm92ZXJsYXlzO1xuXG4gICAgLyoqXG4gICAgICogQSBsb29rdXAgb2Ygb3ZlcmxheXMgYnkgaWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMub3ZlcmxheUlkSW5kZXhfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9yZW5kZXJlci9NYXAuanNcIikuZGVmYXVsdHxudWxsfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IUFycmF5PFBvc3RSZW5kZXJGdW5jdGlvbj59XG4gICAgICovXG4gICAgdGhpcy5wb3N0UmVuZGVyRnVuY3Rpb25zXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7VGlsZVF1ZXVlfVxuICAgICAqL1xuICAgIHRoaXMudGlsZVF1ZXVlXyA9IG5ldyBUaWxlUXVldWUoXG4gICAgICB0aGlzLmdldFRpbGVQcmlvcml0eS5iaW5kKHRoaXMpLFxuICAgICAgdGhpcy5oYW5kbGVUaWxlQ2hhbmdlXy5iaW5kKHRoaXMpXG4gICAgKTtcblxuICAgIHRoaXMuYWRkQ2hhbmdlTGlzdGVuZXIoXG4gICAgICBNYXBQcm9wZXJ0eS5MQVlFUkdST1VQLFxuICAgICAgdGhpcy5oYW5kbGVMYXllckdyb3VwQ2hhbmdlZF9cbiAgICApO1xuICAgIHRoaXMuYWRkQ2hhbmdlTGlzdGVuZXIoTWFwUHJvcGVydHkuVklFVywgdGhpcy5oYW5kbGVWaWV3Q2hhbmdlZF8pO1xuICAgIHRoaXMuYWRkQ2hhbmdlTGlzdGVuZXIoTWFwUHJvcGVydHkuU0laRSwgdGhpcy5oYW5kbGVTaXplQ2hhbmdlZF8pO1xuICAgIHRoaXMuYWRkQ2hhbmdlTGlzdGVuZXIoTWFwUHJvcGVydHkuVEFSR0VULCB0aGlzLmhhbmRsZVRhcmdldENoYW5nZWRfKTtcblxuICAgIC8vIHNldFByb3BlcnRpZXMgd2lsbCB0cmlnZ2VyIHRoZSByZW5kZXJpbmcgb2YgdGhlIG1hcCBpZiB0aGUgbWFwXG4gICAgLy8gaXMgXCJkZWZpbmVkXCIgYWxyZWFkeS5cbiAgICB0aGlzLnNldFByb3BlcnRpZXMob3B0aW9uc0ludGVybmFsLnZhbHVlcyk7XG5cbiAgICBjb25zdCBtYXAgPSB0aGlzO1xuICAgIGlmIChvcHRpb25zLnZpZXcgJiYgIShvcHRpb25zLnZpZXcgaW5zdGFuY2VvZiBWaWV3KSkge1xuICAgICAgb3B0aW9ucy52aWV3LnRoZW4oZnVuY3Rpb24gKHZpZXdPcHRpb25zKSB7XG4gICAgICAgIG1hcC5zZXRWaWV3KG5ldyBWaWV3KHZpZXdPcHRpb25zKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBDb2xsZWN0aW9uRXZlbnRUeXBlLkFERCxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50PGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBldmVudCBDb2xsZWN0aW9uRXZlbnRcbiAgICAgICAqL1xuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKHRoaXMpO1xuICAgICAgfVxuICAgICk7XG5cbiAgICB0aGlzLmNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50PGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgKi9cbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5lbGVtZW50LnNldE1hcChudWxsKTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgdGhpcy5pbnRlcmFjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIENvbGxlY3Rpb25FdmVudFR5cGUuQURELFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnQ8aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn0gZXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgICAgICovXG4gICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuZWxlbWVudC5zZXRNYXAodGhpcyk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIHRoaXMuaW50ZXJhY3Rpb25zLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50PGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAqL1xuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKG51bGwpO1xuICAgICAgfVxuICAgICk7XG5cbiAgICB0aGlzLm92ZXJsYXlzXy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudDxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAqL1xuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuYWRkT3ZlcmxheUludGVybmFsXyhldmVudC5lbGVtZW50KTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgdGhpcy5vdmVybGF5c18uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnQ8aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgKi9cbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGV2ZW50LmVsZW1lbnQuZ2V0SWQoKTtcbiAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5vdmVybGF5SWRJbmRleF9baWQudG9TdHJpbmcoKV07XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQuZWxlbWVudC5zZXRNYXAobnVsbCk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIHRoaXMuY29udHJvbHMuZm9yRWFjaChcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0fSBjb250cm9sIENvbnRyb2wuXG4gICAgICAgKi9cbiAgICAgIChjb250cm9sKSA9PiB7XG4gICAgICAgIGNvbnRyb2wuc2V0TWFwKHRoaXMpO1xuICAgICAgfVxuICAgICk7XG5cbiAgICB0aGlzLmludGVyYWN0aW9ucy5mb3JFYWNoKFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdH0gaW50ZXJhY3Rpb24gSW50ZXJhY3Rpb24uXG4gICAgICAgKi9cbiAgICAgIChpbnRlcmFjdGlvbikgPT4ge1xuICAgICAgICBpbnRlcmFjdGlvbi5zZXRNYXAodGhpcyk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIHRoaXMub3ZlcmxheXNfLmZvckVhY2godGhpcy5hZGRPdmVybGF5SW50ZXJuYWxfLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUgZ2l2ZW4gY29udHJvbCB0byB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHR9IGNvbnRyb2wgQ29udHJvbC5cbiAgICogQGFwaVxuICAgKi9cbiAgYWRkQ29udHJvbChjb250cm9sKSB7XG4gICAgdGhpcy5nZXRDb250cm9scygpLnB1c2goY29udHJvbCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSBnaXZlbiBpbnRlcmFjdGlvbiB0byB0aGUgbWFwLiBJZiB5b3Ugd2FudCB0byBhZGQgYW4gaW50ZXJhY3Rpb25cbiAgICogYXQgYW5vdGhlciBwb2ludCBvZiB0aGUgY29sbGVjdGlvbiB1c2UgYGdldEludGVyYWN0aW9ucygpYCBhbmQgdGhlIG1ldGhvZHNcbiAgICogYXZhaWxhYmxlIG9uIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufS4gVGhpcyBjYW4gYmUgdXNlZCB0b1xuICAgKiBzdG9wIHRoZSBldmVudCBwcm9wYWdhdGlvbiBmcm9tIHRoZSBoYW5kbGVFdmVudCBmdW5jdGlvbi4gVGhlIGludGVyYWN0aW9uc1xuICAgKiBnZXQgdG8gaGFuZGxlIHRoZSBldmVudHMgaW4gdGhlIHJldmVyc2Ugb3JkZXIgb2YgdGhpcyBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdH0gaW50ZXJhY3Rpb24gSW50ZXJhY3Rpb24gdG8gYWRkLlxuICAgKiBAYXBpXG4gICAqL1xuICBhZGRJbnRlcmFjdGlvbihpbnRlcmFjdGlvbikge1xuICAgIHRoaXMuZ2V0SW50ZXJhY3Rpb25zKCkucHVzaChpbnRlcmFjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgZ2l2ZW4gbGF5ZXIgdG8gdGhlIHRvcCBvZiB0aGlzIG1hcC4gSWYgeW91IHdhbnQgdG8gYWRkIGEgbGF5ZXJcbiAgICogZWxzZXdoZXJlIGluIHRoZSBzdGFjaywgdXNlIGBnZXRMYXllcnMoKWAgYW5kIHRoZSBtZXRob2RzIGF2YWlsYWJsZSBvblxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb25+Q29sbGVjdGlvbn0uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgKiBAYXBpXG4gICAqL1xuICBhZGRMYXllcihsYXllcikge1xuICAgIGNvbnN0IGxheWVycyA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVycygpO1xuICAgIGxheWVycy5wdXNoKGxheWVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvR3JvdXAuanNcIikuR3JvdXBFdmVudH0gZXZlbnQgVGhlIGxheWVyIGFkZCBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUxheWVyQWRkXyhldmVudCkge1xuICAgIHNldExheWVyTWFwUHJvcGVydHkoZXZlbnQubGF5ZXIsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUgZ2l2ZW4gb3ZlcmxheSB0byB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSBvdmVybGF5IE92ZXJsYXkuXG4gICAqIEBhcGlcbiAgICovXG4gIGFkZE92ZXJsYXkob3ZlcmxheSkge1xuICAgIHRoaXMuZ2V0T3ZlcmxheXMoKS5wdXNoKG92ZXJsYXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZGVhbHMgd2l0aCBtYXAncyBvdmVybGF5IGNvbGxlY3Rpb24gY2hhbmdlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdH0gb3ZlcmxheSBPdmVybGF5LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYWRkT3ZlcmxheUludGVybmFsXyhvdmVybGF5KSB7XG4gICAgY29uc3QgaWQgPSBvdmVybGF5LmdldElkKCk7XG4gICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3ZlcmxheUlkSW5kZXhfW2lkLnRvU3RyaW5nKCldID0gb3ZlcmxheTtcbiAgICB9XG4gICAgb3ZlcmxheS5zZXRNYXAodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQ2xlYW4gdXAuXG4gICAqL1xuICBkaXNwb3NlSW50ZXJuYWwoKSB7XG4gICAgdGhpcy5jb250cm9scy5jbGVhcigpO1xuICAgIHRoaXMuaW50ZXJhY3Rpb25zLmNsZWFyKCk7XG4gICAgdGhpcy5vdmVybGF5c18uY2xlYXIoKTtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyXy5kaXNjb25uZWN0KCk7XG4gICAgdGhpcy5zZXRUYXJnZXQobnVsbCk7XG4gICAgc3VwZXIuZGlzcG9zZUludGVybmFsKCk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZWN0IGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LCBhbmQgZXhlY3V0ZSBhXG4gICAqIGNhbGxiYWNrIHdpdGggZWFjaCBpbnRlcnNlY3RpbmcgZmVhdHVyZS4gTGF5ZXJzIGluY2x1ZGVkIGluIHRoZSBkZXRlY3Rpb24gY2FuXG4gICAqIGJlIGNvbmZpZ3VyZWQgdGhyb3VnaCB0aGUgYGxheWVyRmlsdGVyYCBvcHRpb24gaW4gYG9wdGlvbnNgLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSwgaW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4vc291cmNlL1NvdXJjZVwiKS5kZWZhdWx0PiwgaW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQpOiBUfSBjYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLiBUaGUgY2FsbGJhY2sgd2lsbCBiZVxuICAgKiAgICAgY2FsbGVkIHdpdGggdHdvIGFyZ3VtZW50cy4gVGhlIGZpcnN0IGFyZ3VtZW50IGlzIG9uZVxuICAgKiAgICAge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmUgZmVhdHVyZX0gb3JcbiAgICogICAgIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL0ZlYXR1cmV+UmVuZGVyRmVhdHVyZSByZW5kZXIgZmVhdHVyZX0gYXQgdGhlIHBpeGVsLCB0aGUgc2Vjb25kIGlzXG4gICAqICAgICB0aGUge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllcn5MYXllciBsYXllcn0gb2YgdGhlIGZlYXR1cmUgYW5kIHdpbGwgYmUgbnVsbCBmb3JcbiAgICogICAgIHVubWFuYWdlZCBsYXllcnMuIFRvIHN0b3AgZGV0ZWN0aW9uLCBjYWxsYmFjayBmdW5jdGlvbnMgY2FuIHJldHVybiBhXG4gICAqICAgICB0cnV0aHkgdmFsdWUuXG4gICAqIEBwYXJhbSB7QXRQaXhlbE9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25hbCBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LCBpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YgbGFzdFxuICAgKiBjYWxsYmFjayBleGVjdXRpb24sIG9yIHRoZSBmaXJzdCB0cnV0aHkgY2FsbGJhY2sgcmV0dXJuIHZhbHVlLlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKiBAYXBpXG4gICAqL1xuICBmb3JFYWNoRmVhdHVyZUF0UGl4ZWwocGl4ZWwsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmZyYW1lU3RhdGVfIHx8ICF0aGlzLnJlbmRlcmVyXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwocGl4ZWwpO1xuICAgIG9wdGlvbnMgPSBvcHRpb25zICE9PSB1bmRlZmluZWQgPyBvcHRpb25zIDoge307XG4gICAgY29uc3QgaGl0VG9sZXJhbmNlID1cbiAgICAgIG9wdGlvbnMuaGl0VG9sZXJhbmNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmhpdFRvbGVyYW5jZSA6IDA7XG4gICAgY29uc3QgbGF5ZXJGaWx0ZXIgPVxuICAgICAgb3B0aW9ucy5sYXllckZpbHRlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sYXllckZpbHRlciA6IFRSVUU7XG4gICAgY29uc3QgY2hlY2tXcmFwcGVkID0gb3B0aW9ucy5jaGVja1dyYXBwZWQgIT09IGZhbHNlO1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXy5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShcbiAgICAgIGNvb3JkaW5hdGUsXG4gICAgICB0aGlzLmZyYW1lU3RhdGVfLFxuICAgICAgaGl0VG9sZXJhbmNlLFxuICAgICAgY2hlY2tXcmFwcGVkLFxuICAgICAgY2FsbGJhY2ssXG4gICAgICBudWxsLFxuICAgICAgbGF5ZXJGaWx0ZXIsXG4gICAgICBudWxsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcGFyYW0ge0F0UGl4ZWxPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9uYWwgb3B0aW9ucy5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlPn0gVGhlIGRldGVjdGVkIGZlYXR1cmVzIG9yXG4gICAqIGFuIGVtcHR5IGFycmF5IGlmIG5vbmUgd2VyZSBmb3VuZC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RmVhdHVyZXNBdFBpeGVsKHBpeGVsLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcbiAgICB0aGlzLmZvckVhY2hGZWF0dXJlQXRQaXhlbChcbiAgICAgIHBpeGVsLFxuICAgICAgZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgZmVhdHVyZXMucHVzaChmZWF0dXJlKTtcbiAgICAgIH0sXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgICByZXR1cm4gZmVhdHVyZXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBsYXllcnMgZnJvbSBhbGwgbGF5ZXIgZ3JvdXBzLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBMYXllcnMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEFsbExheWVycygpIHtcbiAgICBjb25zdCBsYXllcnMgPSBbXTtcbiAgICBmdW5jdGlvbiBhZGRMYXllcnNGcm9tKGxheWVyR3JvdXApIHtcbiAgICAgIGxheWVyR3JvdXAuZm9yRWFjaChmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTGF5ZXJHcm91cCkge1xuICAgICAgICAgIGFkZExheWVyc0Zyb20obGF5ZXIuZ2V0TGF5ZXJzKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxheWVycy5wdXNoKGxheWVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGFkZExheWVyc0Zyb20odGhpcy5nZXRMYXllcnMoKSk7XG4gICAgcmV0dXJuIGxheWVycztcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlY3QgaWYgZmVhdHVyZXMgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LiBMYXllcnMgaW5jbHVkZWQgaW4gdGhlXG4gICAqIGRldGVjdGlvbiBjYW4gYmUgY29uZmlndXJlZCB0aHJvdWdoIHRoZSBgbGF5ZXJGaWx0ZXJgIG9wdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICogQHBhcmFtIHtBdFBpeGVsT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbmFsIG9wdGlvbnMuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIHRoZXJlIGEgZmVhdHVyZSBhdCB0aGUgZ2l2ZW4gcGl4ZWw/XG4gICAqIEBhcGlcbiAgICovXG4gIGhhc0ZlYXR1cmVBdFBpeGVsKHBpeGVsLCBvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmZyYW1lU3RhdGVfIHx8ICF0aGlzLnJlbmRlcmVyXykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwocGl4ZWwpO1xuICAgIG9wdGlvbnMgPSBvcHRpb25zICE9PSB1bmRlZmluZWQgPyBvcHRpb25zIDoge307XG4gICAgY29uc3QgbGF5ZXJGaWx0ZXIgPVxuICAgICAgb3B0aW9ucy5sYXllckZpbHRlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sYXllckZpbHRlciA6IFRSVUU7XG4gICAgY29uc3QgaGl0VG9sZXJhbmNlID1cbiAgICAgIG9wdGlvbnMuaGl0VG9sZXJhbmNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmhpdFRvbGVyYW5jZSA6IDA7XG4gICAgY29uc3QgY2hlY2tXcmFwcGVkID0gb3B0aW9ucy5jaGVja1dyYXBwZWQgIT09IGZhbHNlO1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXy5oYXNGZWF0dXJlQXRDb29yZGluYXRlKFxuICAgICAgY29vcmRpbmF0ZSxcbiAgICAgIHRoaXMuZnJhbWVTdGF0ZV8sXG4gICAgICBoaXRUb2xlcmFuY2UsXG4gICAgICBjaGVja1dyYXBwZWQsXG4gICAgICBsYXllckZpbHRlcixcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNvb3JkaW5hdGUgaW4gdXNlciBwcm9qZWN0aW9uIGZvciBhIGJyb3dzZXIgZXZlbnQuXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRFdmVudENvb3JkaW5hdGUoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsKHRoaXMuZ2V0RXZlbnRQaXhlbChldmVudCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNvb3JkaW5hdGUgaW4gdmlldyBwcm9qZWN0aW9uIGZvciBhIGJyb3dzZXIgZXZlbnQuXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICAgKi9cbiAgZ2V0RXZlbnRDb29yZGluYXRlSW50ZXJuYWwoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwodGhpcy5nZXRFdmVudFBpeGVsKGV2ZW50KSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbWFwIHBpeGVsIHBvc2l0aW9uIGZvciBhIGJyb3dzZXIgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0LlxuICAgKiBAcGFyYW0ge1VJRXZlbnR8e2NsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyfX0gZXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IFBpeGVsLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRFdmVudFBpeGVsKGV2ZW50KSB7XG4gICAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLnZpZXdwb3J0XztcbiAgICBjb25zdCB2aWV3cG9ydFBvc2l0aW9uID0gdmlld3BvcnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3Qgdmlld3BvcnRTaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgY29uc3Qgc2NhbGVYID0gdmlld3BvcnRQb3NpdGlvbi53aWR0aCAvIHZpZXdwb3J0U2l6ZVswXTtcbiAgICBjb25zdCBzY2FsZVkgPSB2aWV3cG9ydFBvc2l0aW9uLmhlaWdodCAvIHZpZXdwb3J0U2l6ZVsxXTtcbiAgICBjb25zdCBldmVudFBvc2l0aW9uID1cbiAgICAgIC8vRklYTUUgQXJlIHdlIHJlYWxseSBjYWxsaW5nIHRoaXMgd2l0aCBhIFRvdWNoRXZlbnQgYW55d2hlcmU/XG4gICAgICAnY2hhbmdlZFRvdWNoZXMnIGluIGV2ZW50XG4gICAgICAgID8gLyoqIEB0eXBlIHtUb3VjaEV2ZW50fSAqLyAoZXZlbnQpLmNoYW5nZWRUb3VjaGVzWzBdXG4gICAgICAgIDogLyoqIEB0eXBlIHtNb3VzZUV2ZW50fSAqLyAoZXZlbnQpO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIChldmVudFBvc2l0aW9uLmNsaWVudFggLSB2aWV3cG9ydFBvc2l0aW9uLmxlZnQpIC8gc2NhbGVYLFxuICAgICAgKGV2ZW50UG9zaXRpb24uY2xpZW50WSAtIHZpZXdwb3J0UG9zaXRpb24udG9wKSAvIHNjYWxlWSxcbiAgICBdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGFyZ2V0IGluIHdoaWNoIHRoaXMgbWFwIGlzIHJlbmRlcmVkLlxuICAgKiBOb3RlIHRoYXQgdGhpcyByZXR1cm5zIHdoYXQgaXMgZW50ZXJlZCBhcyBhbiBvcHRpb24gb3IgaW4gc2V0VGFyZ2V0OlxuICAgKiBpZiB0aGF0IHdhcyBhbiBlbGVtZW50LCBpdCByZXR1cm5zIGFuIGVsZW1lbnQ7IGlmIGEgc3RyaW5nLCBpdCByZXR1cm5zIHRoYXQuXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fHN0cmluZ3x1bmRlZmluZWR9IFRoZSBFbGVtZW50IG9yIGlkIG9mIHRoZSBFbGVtZW50IHRoYXQgdGhlXG4gICAqICAgICBtYXAgaXMgcmVuZGVyZWQgaW4uXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRhcmdldCgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtIVE1MRWxlbWVudHxzdHJpbmd8dW5kZWZpbmVkfSAqLyAoXG4gICAgICB0aGlzLmdldChNYXBQcm9wZXJ0eS5UQVJHRVQpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIERPTSBlbGVtZW50IGludG8gd2hpY2ggdGhpcyBtYXAgaXMgcmVuZGVyZWQuIEluIGNvbnRyYXN0IHRvXG4gICAqIGBnZXRUYXJnZXRgIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm4gYW4gYEVsZW1lbnRgLCBvciBgbnVsbGAgaWYgdGhlXG4gICAqIG1hcCBoYXMgbm8gdGFyZ2V0LlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIGVsZW1lbnQgdGhhdCB0aGUgbWFwIGlzIHJlbmRlcmVkIGluLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUYXJnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLnRhcmdldEVsZW1lbnRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29vcmRpbmF0ZSBmb3IgYSBnaXZlbiBwaXhlbC4gIFRoaXMgcmV0dXJucyBhIGNvb3JkaW5hdGUgaW4gdGhlXG4gICAqIHVzZXIgcHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbCBwb3NpdGlvbiBpbiB0aGUgbWFwIHZpZXdwb3J0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gVGhlIGNvb3JkaW5hdGUgZm9yIHRoZSBwaXhlbCBwb3NpdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbChwaXhlbCkge1xuICAgIHJldHVybiB0b1VzZXJDb29yZGluYXRlKFxuICAgICAgdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwocGl4ZWwpLFxuICAgICAgdGhpcy5nZXRWaWV3KCkuZ2V0UHJvamVjdGlvbigpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvb3JkaW5hdGUgZm9yIGEgZ2l2ZW4gcGl4ZWwuICBUaGlzIHJldHVybnMgYSBjb29yZGluYXRlIGluIHRoZVxuICAgKiBtYXAgdmlldyBwcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUaGUgY29vcmRpbmF0ZSBmb3IgdGhlIHBpeGVsIHBvc2l0aW9uLlxuICAgKi9cbiAgZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKHBpeGVsKSB7XG4gICAgY29uc3QgZnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZV87XG4gICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0sIHBpeGVsLnNsaWNlKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWFwIGNvbnRyb2xzLiBNb2RpZnlpbmcgdGhpcyBjb2xsZWN0aW9uIGNoYW5nZXMgdGhlIGNvbnRyb2xzXG4gICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWFwLlxuICAgKiBAcmV0dXJuIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBDb250cm9scy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Q29udHJvbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udHJvbHM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtYXAgb3ZlcmxheXMuIE1vZGlmeWluZyB0aGlzIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgb3ZlcmxheXNcbiAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSBtYXAuXG4gICAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fSBPdmVybGF5cy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0T3ZlcmxheXMoKSB7XG4gICAgcmV0dXJuIHRoaXMub3ZlcmxheXNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiBvdmVybGF5IGJ5IGl0cyBpZGVudGlmaWVyICh0aGUgdmFsdWUgcmV0dXJuZWQgYnkgb3ZlcmxheS5nZXRJZCgpKS5cbiAgICogTm90ZSB0aGF0IHRoZSBpbmRleCB0cmVhdHMgc3RyaW5nIGFuZCBudW1lcmljIGlkZW50aWZpZXJzIGFzIHRoZSBzYW1lLiBTb1xuICAgKiBgbWFwLmdldE92ZXJsYXlCeUlkKDIpYCB3aWxsIHJldHVybiBhbiBvdmVybGF5IHdpdGggaWQgYCcyJ2Agb3IgYDJgLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGlkIE92ZXJsYXkgaWRlbnRpZmllci5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9IE92ZXJsYXkuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE92ZXJsYXlCeUlkKGlkKSB7XG4gICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMub3ZlcmxheUlkSW5kZXhfW2lkLnRvU3RyaW5nKCldO1xuICAgIHJldHVybiBvdmVybGF5ICE9PSB1bmRlZmluZWQgPyBvdmVybGF5IDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hcCBpbnRlcmFjdGlvbnMuIE1vZGlmeWluZyB0aGlzIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgaW50ZXJhY3Rpb25zXG4gICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWFwLlxuICAgKlxuICAgKiBJbnRlcmFjdGlvbnMgYXJlIHVzZWQgZm9yIGUuZy4gcGFuLCB6b29tIGFuZCByb3RhdGUuXG4gICAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn0gSW50ZXJhY3Rpb25zLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRJbnRlcmFjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJhY3Rpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGF5ZXJncm91cCBhc3NvY2lhdGVkIHdpdGggdGhpcyBtYXAuXG4gICAqIEByZXR1cm4ge0xheWVyR3JvdXB9IEEgbGF5ZXIgZ3JvdXAgY29udGFpbmluZyB0aGUgbGF5ZXJzIGluIHRoaXMgbWFwLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRMYXllckdyb3VwKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge0xheWVyR3JvdXB9ICovICh0aGlzLmdldChNYXBQcm9wZXJ0eS5MQVlFUkdST1VQKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYW55IGV4aXN0aW5nIGxheWVycyBhbmQgYWRkIGxheWVycyB0byB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0PnxDb2xsZWN0aW9uPGltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0Pn0gbGF5ZXJzIFRoZSBsYXllcnMgdG8gYmUgYWRkZWQgdG8gdGhlIG1hcC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TGF5ZXJzKGxheWVycykge1xuICAgIGNvbnN0IGdyb3VwID0gdGhpcy5nZXRMYXllckdyb3VwKCk7XG4gICAgaWYgKGxheWVycyBpbnN0YW5jZW9mIENvbGxlY3Rpb24pIHtcbiAgICAgIGdyb3VwLnNldExheWVycyhsYXllcnMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBncm91cC5nZXRMYXllcnMoKTtcbiAgICBjb2xsZWN0aW9uLmNsZWFyKCk7XG4gICAgY29sbGVjdGlvbi5leHRlbmQobGF5ZXJzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbGxlY3Rpb24gb2YgbGF5ZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1hcC5cbiAgICogQHJldHVybiB7IUNvbGxlY3Rpb248aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBMYXllcnMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldExheWVycygpIHtcbiAgICBjb25zdCBsYXllcnMgPSB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKTtcbiAgICByZXR1cm4gbGF5ZXJzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IExheWVycyBoYXZlIHNvdXJjZXMgdGhhdCBhcmUgc3RpbGwgbG9hZGluZy5cbiAgICovXG4gIGdldExvYWRpbmdPck5vdFJlYWR5KCkge1xuICAgIGNvbnN0IGxheWVyU3RhdGVzQXJyYXkgPSB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllclN0YXRlc0FycmF5KCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gbGF5ZXJTdGF0ZXNBcnJheS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IGxheWVyU3RhdGVzQXJyYXlbaV07XG4gICAgICBpZiAoIXN0YXRlLnZpc2libGUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJlciA9IHN0YXRlLmxheWVyLmdldFJlbmRlcmVyKCk7XG4gICAgICBpZiAocmVuZGVyZXIgJiYgIXJlbmRlcmVyLnJlYWR5KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3Qgc291cmNlID0gc3RhdGUubGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgICBpZiAoc291cmNlICYmIHNvdXJjZS5sb2FkaW5nKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwaXhlbCBmb3IgYSBjb29yZGluYXRlLiAgVGhpcyB0YWtlcyBhIGNvb3JkaW5hdGUgaW4gdGhlIHVzZXJcbiAgICogcHJvamVjdGlvbiBhbmQgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBwaXhlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBBIG1hcCBjb29yZGluYXRlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBBIHBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFBpeGVsRnJvbUNvb3JkaW5hdGUoY29vcmRpbmF0ZSkge1xuICAgIGNvbnN0IHZpZXdDb29yZGluYXRlID0gZnJvbVVzZXJDb29yZGluYXRlKFxuICAgICAgY29vcmRpbmF0ZSxcbiAgICAgIHRoaXMuZ2V0VmlldygpLmdldFByb2plY3Rpb24oKVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsKHZpZXdDb29yZGluYXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHBpeGVsIGZvciBhIGNvb3JkaW5hdGUuICBUaGlzIHRha2VzIGEgY29vcmRpbmF0ZSBpbiB0aGUgbWFwIHZpZXdcbiAgICogcHJvamVjdGlvbiBhbmQgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBwaXhlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBBIG1hcCBjb29yZGluYXRlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBBIHBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAqL1xuICBnZXRQaXhlbEZyb21Db29yZGluYXRlSW50ZXJuYWwoY29vcmRpbmF0ZSkge1xuICAgIGNvbnN0IGZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuICAgIGlmICghZnJhbWVTdGF0ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBhcHBseVRyYW5zZm9ybShcbiAgICAgIGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sXG4gICAgICBjb29yZGluYXRlLnNsaWNlKDAsIDIpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hcCByZW5kZXJlci5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9yZW5kZXJlci9NYXAuanNcIikuZGVmYXVsdHxudWxsfSBSZW5kZXJlclxuICAgKi9cbiAgZ2V0UmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc2l6ZSBvZiB0aGlzIG1hcC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfSBUaGUgc2l6ZSBpbiBwaXhlbHMgb2YgdGhlIG1hcCBpbiB0aGUgRE9NLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRTaXplKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH0gKi8gKFxuICAgICAgdGhpcy5nZXQoTWFwUHJvcGVydHkuU0laRSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldyBhc3NvY2lhdGVkIHdpdGggdGhpcyBtYXAuIEEgdmlldyBtYW5hZ2VzIHByb3BlcnRpZXMgc3VjaCBhc1xuICAgKiBjZW50ZXIgYW5kIHJlc29sdXRpb24uXG4gICAqIEByZXR1cm4ge1ZpZXd9IFRoZSB2aWV3IHRoYXQgY29udHJvbHMgdGhpcyBtYXAuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFZpZXcoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7Vmlld30gKi8gKHRoaXMuZ2V0KE1hcFByb3BlcnR5LlZJRVcpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGVsZW1lbnQgdGhhdCBzZXJ2ZXMgYXMgdGhlIG1hcCB2aWV3cG9ydC5cbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFZpZXdwb3J0LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRWaWV3cG9ydCgpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3cG9ydF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBlbGVtZW50IHRoYXQgc2VydmVzIGFzIHRoZSBjb250YWluZXIgZm9yIG92ZXJsYXlzLiAgRWxlbWVudHMgYWRkZWQgdG9cbiAgICogdGhpcyBjb250YWluZXIgd2lsbCBsZXQgbW91c2Vkb3duIGFuZCB0b3VjaHN0YXJ0IGV2ZW50cyB0aHJvdWdoIHRvIHRoZSBtYXAsXG4gICAqIHNvIGNsaWNrcyBhbmQgZ2VzdHVyZXMgb24gYW4gb3ZlcmxheSB3aWxsIHRyaWdnZXIge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fVxuICAgKiBldmVudHMuXG4gICAqIEByZXR1cm4geyFIVE1MRWxlbWVudH0gVGhlIG1hcCdzIG92ZXJsYXkgY29udGFpbmVyLlxuICAgKi9cbiAgZ2V0T3ZlcmxheUNvbnRhaW5lcigpIHtcbiAgICByZXR1cm4gdGhpcy5vdmVybGF5Q29udGFpbmVyXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGVsZW1lbnQgdGhhdCBzZXJ2ZXMgYXMgYSBjb250YWluZXIgZm9yIG92ZXJsYXlzIHRoYXQgZG9uJ3QgYWxsb3dcbiAgICogZXZlbnQgcHJvcGFnYXRpb24uIEVsZW1lbnRzIGFkZGVkIHRvIHRoaXMgY29udGFpbmVyIHdvbid0IGxldCBtb3VzZWRvd24gYW5kXG4gICAqIHRvdWNoc3RhcnQgZXZlbnRzIHRocm91Z2ggdG8gdGhlIG1hcCwgc28gY2xpY2tzIGFuZCBnZXN0dXJlcyBvbiBhbiBvdmVybGF5XG4gICAqIGRvbid0IHRyaWdnZXIgYW55IHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0uXG4gICAqIEByZXR1cm4geyFIVE1MRWxlbWVudH0gVGhlIG1hcCdzIG92ZXJsYXkgY29udGFpbmVyIHRoYXQgc3RvcHMgZXZlbnRzLlxuICAgKi9cbiAgZ2V0T3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshRG9jdW1lbnR9IFRoZSBkb2N1bWVudCB3aGVyZSB0aGUgbWFwIGlzIGRpc3BsYXllZC5cbiAgICovXG4gIGdldE93bmVyRG9jdW1lbnQoKSB7XG4gICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IHRoaXMuZ2V0VGFyZ2V0RWxlbWVudCgpO1xuICAgIHJldHVybiB0YXJnZXRFbGVtZW50ID8gdGFyZ2V0RWxlbWVudC5vd25lckRvY3VtZW50IDogZG9jdW1lbnQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGlsZVNvdXJjZUtleSBUaWxlIHNvdXJjZSBrZXkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHRpbGVDZW50ZXIgVGlsZSBjZW50ZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aWxlUmVzb2x1dGlvbiBUaWxlIHJlc29sdXRpb24uXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGlsZSBwcmlvcml0eS5cbiAgICovXG4gIGdldFRpbGVQcmlvcml0eSh0aWxlLCB0aWxlU291cmNlS2V5LCB0aWxlQ2VudGVyLCB0aWxlUmVzb2x1dGlvbikge1xuICAgIHJldHVybiBnZXRUaWxlUHJpb3JpdHkoXG4gICAgICB0aGlzLmZyYW1lU3RhdGVfLFxuICAgICAgdGlsZSxcbiAgICAgIHRpbGVTb3VyY2VLZXksXG4gICAgICB0aWxlQ2VudGVyLFxuICAgICAgdGlsZVJlc29sdXRpb25cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VUlFdmVudH0gYnJvd3NlckV2ZW50IEJyb3dzZXIgZXZlbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZV0gVHlwZS5cbiAgICovXG4gIGhhbmRsZUJyb3dzZXJFdmVudChicm93c2VyRXZlbnQsIHR5cGUpIHtcbiAgICB0eXBlID0gdHlwZSB8fCBicm93c2VyRXZlbnQudHlwZTtcbiAgICBjb25zdCBtYXBCcm93c2VyRXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KHR5cGUsIHRoaXMsIGJyb3dzZXJFdmVudCk7XG4gICAgdGhpcy5oYW5kbGVNYXBCcm93c2VyRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01hcEJyb3dzZXJFdmVudH0gbWFwQnJvd3NlckV2ZW50IFRoZSBldmVudCB0byBoYW5kbGUuXG4gICAqL1xuICBoYW5kbGVNYXBCcm93c2VyRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmZyYW1lU3RhdGVfKSB7XG4gICAgICAvLyBXaXRoIG5vIHZpZXcgZGVmaW5lZCwgd2UgY2Fubm90IHRyYW5zbGF0ZSBwaXhlbHMgaW50byBnZW9ncmFwaGljYWxcbiAgICAgIC8vIGNvb3JkaW5hdGVzIHNvIGludGVyYWN0aW9ucyBjYW5ub3QgYmUgdXNlZC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7UG9pbnRlckV2ZW50fSAqLyAoXG4gICAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICAgICk7XG4gICAgY29uc3QgZXZlbnRUeXBlID0gb3JpZ2luYWxFdmVudC50eXBlO1xuICAgIGlmIChcbiAgICAgIGV2ZW50VHlwZSA9PT0gUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSRE9XTiB8fFxuICAgICAgZXZlbnRUeXBlID09PSBFdmVudFR5cGUuV0hFRUwgfHxcbiAgICAgIGV2ZW50VHlwZSA9PT0gRXZlbnRUeXBlLktFWURPV05cbiAgICApIHtcbiAgICAgIGNvbnN0IGRvYyA9IHRoaXMuZ2V0T3duZXJEb2N1bWVudCgpO1xuICAgICAgY29uc3Qgcm9vdE5vZGUgPSB0aGlzLnZpZXdwb3J0Xy5nZXRSb290Tm9kZVxuICAgICAgICA/IHRoaXMudmlld3BvcnRfLmdldFJvb3ROb2RlKClcbiAgICAgICAgOiBkb2M7XG4gICAgICBjb25zdCB0YXJnZXQgPSAvKiogQHR5cGUge05vZGV9ICovIChvcmlnaW5hbEV2ZW50LnRhcmdldCk7XG4gICAgICBpZiAoXG4gICAgICAgIC8vIEFib3J0IGlmIHRoZSB0YXJnZXQgaXMgYSBjaGlsZCBvZiB0aGUgY29udGFpbmVyIGZvciBlbGVtZW50cyB3aG9zZSBldmVudHMgYXJlIG5vdCBtZWFudFxuICAgICAgICAvLyB0byBiZSBoYW5kbGVkIGJ5IG1hcCBpbnRlcmFjdGlvbnMuXG4gICAgICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uY29udGFpbnModGFyZ2V0KSB8fFxuICAgICAgICAvLyBBYm9ydCBpZiB0aGUgZXZlbnQgdGFyZ2V0IGlzIGEgY2hpbGQgb2YgdGhlIGNvbnRhaW5lciB0aGF0IGlzIG5vIGxvbmdlciBpbiB0aGUgcGFnZS5cbiAgICAgICAgLy8gSXQncyBwb3NzaWJsZSBmb3IgdGhlIHRhcmdldCB0byBubyBsb25nZXIgYmUgaW4gdGhlIHBhZ2UgaWYgaXQgaGFzIGJlZW4gcmVtb3ZlZCBpbiBhblxuICAgICAgICAvLyBldmVudCBsaXN0ZW5lciwgdGhpcyBtaWdodCBoYXBwZW4gaW4gYSBDb250cm9sIHRoYXQgcmVjcmVhdGVzIGl0J3MgY29udGVudCBiYXNlZCBvblxuICAgICAgICAvLyB1c2VyIGludGVyYWN0aW9uIGVpdGhlciBtYW51YWxseSBvciB2aWEgYSByZW5kZXIgaW4gc29tZXRoaW5nIGxpa2UgaHR0cHM6Ly9yZWFjdGpzLm9yZy9cbiAgICAgICAgIShyb290Tm9kZSA9PT0gZG9jID8gZG9jLmRvY3VtZW50RWxlbWVudCA6IHJvb3ROb2RlKS5jb250YWlucyh0YXJnZXQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBtYXBCcm93c2VyRXZlbnQuZnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZV87XG4gICAgaWYgKHRoaXMuZGlzcGF0Y2hFdmVudChtYXBCcm93c2VyRXZlbnQpICE9PSBmYWxzZSkge1xuICAgICAgY29uc3QgaW50ZXJhY3Rpb25zQXJyYXkgPSB0aGlzLmdldEludGVyYWN0aW9ucygpLmdldEFycmF5KCkuc2xpY2UoKTtcbiAgICAgIGZvciAobGV0IGkgPSBpbnRlcmFjdGlvbnNBcnJheS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uc0FycmF5W2ldO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaW50ZXJhY3Rpb24uZ2V0TWFwKCkgIT09IHRoaXMgfHxcbiAgICAgICAgICAhaW50ZXJhY3Rpb24uZ2V0QWN0aXZlKCkgfHxcbiAgICAgICAgICAhdGhpcy5nZXRUYXJnZXRFbGVtZW50KClcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udCA9IGludGVyYWN0aW9uLmhhbmRsZUV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgIGlmICghY29udCB8fCBtYXBCcm93c2VyRXZlbnQucHJvcGFnYXRpb25TdG9wcGVkKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgaGFuZGxlUG9zdFJlbmRlcigpIHtcbiAgICBjb25zdCBmcmFtZVN0YXRlID0gdGhpcy5mcmFtZVN0YXRlXztcblxuICAgIC8vIE1hbmFnZSB0aGUgdGlsZSBxdWV1ZVxuICAgIC8vIEltYWdlIGxvYWRzIGFyZSBleHBlbnNpdmUgYW5kIGEgbGltaXRlZCByZXNvdXJjZSwgc28gdHJ5IHRvIHVzZSB0aGVtXG4gICAgLy8gZWZmaWNpZW50bHk6XG4gICAgLy8gKiBXaGVuIHRoZSB2aWV3IGlzIHN0YXRpYyB3ZSBhbGxvdyBhIGxhcmdlIG51bWJlciBvZiBwYXJhbGxlbCB0aWxlIGxvYWRzXG4gICAgLy8gICB0byBjb21wbGV0ZSB0aGUgZnJhbWUgYXMgcXVpY2tseSBhcyBwb3NzaWJsZS5cbiAgICAvLyAqIFdoZW4gYW5pbWF0aW5nIG9yIGludGVyYWN0aW5nLCBpbWFnZSBsb2FkcyBjYW4gY2F1c2UgamFua3MsIHNvIHdlIHJlZHVjZVxuICAgIC8vICAgdGhlIG1heGltdW0gbnVtYmVyIG9mIGxvYWRzIHBlciBmcmFtZSBhbmQgbGltaXQgdGhlIG51bWJlciBvZiBwYXJhbGxlbFxuICAgIC8vICAgdGlsZSBsb2FkcyB0byByZW1haW4gcmVhY3RpdmUgdG8gdmlldyBjaGFuZ2VzIGFuZCB0byByZWR1Y2UgdGhlIGNoYW5jZSBvZlxuICAgIC8vICAgbG9hZGluZyB0aWxlcyB0aGF0IHdpbGwgcXVpY2tseSBkaXNhcHBlYXIgZnJvbSB2aWV3LlxuICAgIGNvbnN0IHRpbGVRdWV1ZSA9IHRoaXMudGlsZVF1ZXVlXztcbiAgICBpZiAoIXRpbGVRdWV1ZS5pc0VtcHR5KCkpIHtcbiAgICAgIGxldCBtYXhUb3RhbExvYWRpbmcgPSB0aGlzLm1heFRpbGVzTG9hZGluZ187XG4gICAgICBsZXQgbWF4TmV3TG9hZHMgPSBtYXhUb3RhbExvYWRpbmc7XG4gICAgICBpZiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICBjb25zdCBoaW50cyA9IGZyYW1lU3RhdGUudmlld0hpbnRzO1xuICAgICAgICBpZiAoaGludHNbVmlld0hpbnQuQU5JTUFUSU5HXSB8fCBoaW50c1tWaWV3SGludC5JTlRFUkFDVElOR10pIHtcbiAgICAgICAgICBjb25zdCBsb3dPbkZyYW1lQnVkZ2V0ID0gRGF0ZS5ub3coKSAtIGZyYW1lU3RhdGUudGltZSA+IDg7XG4gICAgICAgICAgbWF4VG90YWxMb2FkaW5nID0gbG93T25GcmFtZUJ1ZGdldCA/IDAgOiA4O1xuICAgICAgICAgIG1heE5ld0xvYWRzID0gbG93T25GcmFtZUJ1ZGdldCA/IDAgOiAyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGlsZVF1ZXVlLmdldFRpbGVzTG9hZGluZygpIDwgbWF4VG90YWxMb2FkaW5nKSB7XG4gICAgICAgIHRpbGVRdWV1ZS5yZXByaW9yaXRpemUoKTsgLy8gRklYTUUgb25seSBjYWxsIGlmIHZpZXcgaGFzIGNoYW5nZWRcbiAgICAgICAgdGlsZVF1ZXVlLmxvYWRNb3JlVGlsZXMobWF4VG90YWxMb2FkaW5nLCBtYXhOZXdMb2Fkcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZyYW1lU3RhdGUgJiYgdGhpcy5yZW5kZXJlcl8gJiYgIWZyYW1lU3RhdGUuYW5pbWF0ZSkge1xuICAgICAgaWYgKHRoaXMucmVuZGVyQ29tcGxldGVfID09PSB0cnVlKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0xpc3RlbmVyKFJlbmRlckV2ZW50VHlwZS5SRU5ERVJDT01QTEVURSkpIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyXy5kaXNwYXRjaFJlbmRlckV2ZW50KFxuICAgICAgICAgICAgUmVuZGVyRXZlbnRUeXBlLlJFTkRFUkNPTVBMRVRFLFxuICAgICAgICAgICAgZnJhbWVTdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubG9hZGVkXyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLmxvYWRlZF8gPSB0cnVlO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIG5ldyBNYXBFdmVudChNYXBFdmVudFR5cGUuTE9BREVORCwgdGhpcywgZnJhbWVTdGF0ZSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubG9hZGVkXyA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmxvYWRlZF8gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgIG5ldyBNYXBFdmVudChNYXBFdmVudFR5cGUuTE9BRFNUQVJULCB0aGlzLCBmcmFtZVN0YXRlKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHBvc3RSZW5kZXJGdW5jdGlvbnMgPSB0aGlzLnBvc3RSZW5kZXJGdW5jdGlvbnNfO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHBvc3RSZW5kZXJGdW5jdGlvbnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgcG9zdFJlbmRlckZ1bmN0aW9uc1tpXSh0aGlzLCBmcmFtZVN0YXRlKTtcbiAgICB9XG4gICAgcG9zdFJlbmRlckZ1bmN0aW9ucy5sZW5ndGggPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVTaXplQ2hhbmdlZF8oKSB7XG4gICAgaWYgKHRoaXMuZ2V0VmlldygpICYmICF0aGlzLmdldFZpZXcoKS5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgdGhpcy5nZXRWaWV3KCkucmVzb2x2ZUNvbnN0cmFpbnRzKDApO1xuICAgIH1cblxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVRhcmdldENoYW5nZWRfKCkge1xuICAgIGlmICh0aGlzLm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSB0aGlzLnRhcmdldENoYW5nZUhhbmRsZXJLZXlzXy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy50YXJnZXRDaGFuZ2VIYW5kbGVyS2V5c19baV0pO1xuICAgICAgfVxuICAgICAgdGhpcy50YXJnZXRDaGFuZ2VIYW5kbGVyS2V5c18gPSBudWxsO1xuICAgICAgdGhpcy52aWV3cG9ydF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgRXZlbnRUeXBlLkNPTlRFWFRNRU5VLFxuICAgICAgICB0aGlzLmJvdW5kSGFuZGxlQnJvd3NlckV2ZW50X1xuICAgICAgKTtcbiAgICAgIHRoaXMudmlld3BvcnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIEV2ZW50VHlwZS5XSEVFTCxcbiAgICAgICAgdGhpcy5ib3VuZEhhbmRsZUJyb3dzZXJFdmVudF9cbiAgICAgICk7XG4gICAgICB0aGlzLm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8gPSBudWxsO1xuICAgICAgcmVtb3ZlTm9kZSh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGFyZ2V0RWxlbWVudF8pIHtcbiAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXJfLnVub2JzZXJ2ZSh0aGlzLnRhcmdldEVsZW1lbnRfKTtcbiAgICAgIGNvbnN0IHJvb3ROb2RlID0gdGhpcy50YXJnZXRFbGVtZW50Xy5nZXRSb290Tm9kZSgpO1xuICAgICAgaWYgKHJvb3ROb2RlIGluc3RhbmNlb2YgU2hhZG93Um9vdCkge1xuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyXy51bm9ic2VydmUocm9vdE5vZGUuaG9zdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdGFyZ2V0IG1heSBiZSB1bmRlZmluZWQsIG51bGwsIGEgc3RyaW5nIG9yIGFuIEVsZW1lbnQuXG4gICAgLy8gSWYgaXQncyBhIHN0cmluZyB3ZSBjb252ZXJ0IGl0IHRvIGFuIEVsZW1lbnQgYmVmb3JlIHByb2NlZWRpbmcuXG4gICAgLy8gSWYgaXQncyBub3Qgbm93IGFuIEVsZW1lbnQgd2UgcmVtb3ZlIHRoZSB2aWV3cG9ydCBmcm9tIHRoZSBET00uXG4gICAgLy8gSWYgaXQncyBhbiBFbGVtZW50IHdlIGFwcGVuZCB0aGUgdmlld3BvcnQgZWxlbWVudCB0byBpdC5cblxuICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuZ2V0VGFyZ2V0KCk7XG4gICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9XG4gICAgICB0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCkgOiB0YXJnZXQ7XG4gICAgdGhpcy50YXJnZXRFbGVtZW50XyA9IHRhcmdldEVsZW1lbnQ7XG4gICAgaWYgKCF0YXJnZXRFbGVtZW50KSB7XG4gICAgICBpZiAodGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfKTtcbiAgICAgICAgdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucG9zdFJlbmRlckZ1bmN0aW9uc18ubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5yZW5kZXJlcl8uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyXyA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5hbmltYXRpb25EZWxheUtleV8pIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25EZWxheUtleV8pO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkRlbGF5S2V5XyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgICBpZiAoIXRoaXMucmVuZGVyZXJfKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXJfID0gbmV3IENvbXBvc2l0ZU1hcFJlbmRlcmVyKHRoaXMpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfID0gbmV3IE1hcEJyb3dzZXJFdmVudEhhbmRsZXIoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHRoaXMubW92ZVRvbGVyYW5jZV9cbiAgICAgICk7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBNYXBCcm93c2VyRXZlbnRUeXBlKSB7XG4gICAgICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBNYXBCcm93c2VyRXZlbnRUeXBlW2tleV0sXG4gICAgICAgICAgdGhpcy5oYW5kbGVNYXBCcm93c2VyRXZlbnQuYmluZCh0aGlzKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy52aWV3cG9ydF8uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgRXZlbnRUeXBlLkNPTlRFWFRNRU5VLFxuICAgICAgICB0aGlzLmJvdW5kSGFuZGxlQnJvd3NlckV2ZW50XyxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgICB0aGlzLnZpZXdwb3J0Xy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBFdmVudFR5cGUuV0hFRUwsXG4gICAgICAgIHRoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfLFxuICAgICAgICBQQVNTSVZFX0VWRU5UX0xJU1RFTkVSUyA/IHtwYXNzaXZlOiBmYWxzZX0gOiBmYWxzZVxuICAgICAgKTtcblxuICAgICAgY29uc3Qga2V5Ym9hcmRFdmVudFRhcmdldCA9ICF0aGlzLmtleWJvYXJkRXZlbnRUYXJnZXRfXG4gICAgICAgID8gdGFyZ2V0RWxlbWVudFxuICAgICAgICA6IHRoaXMua2V5Ym9hcmRFdmVudFRhcmdldF87XG4gICAgICB0aGlzLnRhcmdldENoYW5nZUhhbmRsZXJLZXlzXyA9IFtcbiAgICAgICAgbGlzdGVuKFxuICAgICAgICAgIGtleWJvYXJkRXZlbnRUYXJnZXQsXG4gICAgICAgICAgRXZlbnRUeXBlLktFWURPV04sXG4gICAgICAgICAgdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQsXG4gICAgICAgICAgdGhpc1xuICAgICAgICApLFxuICAgICAgICBsaXN0ZW4oXG4gICAgICAgICAga2V5Ym9hcmRFdmVudFRhcmdldCxcbiAgICAgICAgICBFdmVudFR5cGUuS0VZUFJFU1MsXG4gICAgICAgICAgdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQsXG4gICAgICAgICAgdGhpc1xuICAgICAgICApLFxuICAgICAgXTtcbiAgICAgIGNvbnN0IHJvb3ROb2RlID0gdGFyZ2V0RWxlbWVudC5nZXRSb290Tm9kZSgpO1xuICAgICAgaWYgKHJvb3ROb2RlIGluc3RhbmNlb2YgU2hhZG93Um9vdCkge1xuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyXy5vYnNlcnZlKHJvb3ROb2RlLmhvc3QpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZXNpemVPYnNlcnZlcl8ub2JzZXJ2ZSh0YXJnZXRFbGVtZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVNpemUoKTtcbiAgICAvLyB1cGRhdGVTaXplIGNhbGxzIHNldFNpemUsIHNvIG5vIG5lZWQgdG8gY2FsbCB0aGlzLnJlbmRlclxuICAgIC8vIG91cnNlbHZlcyBoZXJlLlxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVUaWxlQ2hhbmdlXygpIHtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXygpIHtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVWaWV3Q2hhbmdlZF8oKSB7XG4gICAgaWYgKHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfKTtcbiAgICAgIHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMudmlld0NoYW5nZUxpc3RlbmVyS2V5Xykge1xuICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8pO1xuICAgICAgdGhpcy52aWV3Q2hhbmdlTGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgdmlldyA9IHRoaXMuZ2V0VmlldygpO1xuICAgIGlmICh2aWV3KSB7XG4gICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0U2l6ZV8oKTtcblxuICAgICAgdGhpcy52aWV3UHJvcGVydHlMaXN0ZW5lcktleV8gPSBsaXN0ZW4oXG4gICAgICAgIHZpZXcsXG4gICAgICAgIE9iamVjdEV2ZW50VHlwZS5QUk9QRVJUWUNIQU5HRSxcbiAgICAgICAgdGhpcy5oYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXyxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICAgIHRoaXMudmlld0NoYW5nZUxpc3RlbmVyS2V5XyA9IGxpc3RlbihcbiAgICAgICAgdmlldyxcbiAgICAgICAgRXZlbnRUeXBlLkNIQU5HRSxcbiAgICAgICAgdGhpcy5oYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXyxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcblxuICAgICAgdmlldy5yZXNvbHZlQ29uc3RyYWludHMoMCk7XG4gICAgfVxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUxheWVyR3JvdXBDaGFuZ2VkXygpIHtcbiAgICBpZiAodGhpcy5sYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfKSB7XG4gICAgICB0aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICAgIHRoaXMubGF5ZXJHcm91cFByb3BlcnR5TGlzdGVuZXJLZXlzXyA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGxheWVyR3JvdXAgPSB0aGlzLmdldExheWVyR3JvdXAoKTtcbiAgICBpZiAobGF5ZXJHcm91cCkge1xuICAgICAgdGhpcy5oYW5kbGVMYXllckFkZF8obmV3IEdyb3VwRXZlbnQoJ2FkZGxheWVyJywgbGF5ZXJHcm91cCkpO1xuICAgICAgdGhpcy5sYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfID0gW1xuICAgICAgICBsaXN0ZW4obGF5ZXJHcm91cCwgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLCB0aGlzLnJlbmRlciwgdGhpcyksXG4gICAgICAgIGxpc3RlbihsYXllckdyb3VwLCBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLnJlbmRlciwgdGhpcyksXG4gICAgICAgIGxpc3RlbihsYXllckdyb3VwLCAnYWRkbGF5ZXInLCB0aGlzLmhhbmRsZUxheWVyQWRkXywgdGhpcyksXG4gICAgICAgIGxpc3RlbihsYXllckdyb3VwLCAncmVtb3ZlbGF5ZXInLCB0aGlzLmhhbmRsZUxheWVyUmVtb3ZlXywgdGhpcyksXG4gICAgICBdO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIHJlbmRlcmVkLlxuICAgKi9cbiAgaXNSZW5kZXJlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLmZyYW1lU3RhdGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhbmltYXRpb25EZWxheV8oKSB7XG4gICAgdGhpcy5hbmltYXRpb25EZWxheUtleV8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5yZW5kZXJGcmFtZV8oRGF0ZS5ub3coKSk7XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdHMgYW4gaW1tZWRpYXRlIHJlbmRlciBpbiBhIHN5bmNocm9ub3VzIG1hbm5lci5cbiAgICogQGFwaVxuICAgKi9cbiAgcmVuZGVyU3luYygpIHtcbiAgICBpZiAodGhpcy5hbmltYXRpb25EZWxheUtleV8pIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfKTtcbiAgICB9XG4gICAgdGhpcy5hbmltYXRpb25EZWxheV8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWRyYXdzIGFsbCB0ZXh0IGFmdGVyIG5ldyBmb250cyBoYXZlIGxvYWRlZFxuICAgKi9cbiAgcmVkcmF3VGV4dCgpIHtcbiAgICBjb25zdCBsYXllclN0YXRlcyA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVyU3RhdGVzQXJyYXkoKTtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBsYXllclN0YXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBjb25zdCBsYXllciA9IGxheWVyU3RhdGVzW2ldLmxheWVyO1xuICAgICAgaWYgKGxheWVyLmhhc1JlbmRlcmVyKCkpIHtcbiAgICAgICAgbGF5ZXIuZ2V0UmVuZGVyZXIoKS5oYW5kbGVGb250c0NoYW5nZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdCBhIG1hcCByZW5kZXJpbmcgKGF0IHRoZSBuZXh0IGFuaW1hdGlvbiBmcmFtZSkuXG4gICAqIEBhcGlcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJlcl8gJiYgdGhpcy5hbmltYXRpb25EZWxheUtleV8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5hbmltYXRpb25EZWxheUtleV8gPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25EZWxheV8pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGdpdmVuIGNvbnRyb2wgZnJvbSB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHR9IGNvbnRyb2wgQ29udHJvbC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIGNvbnRyb2wgKG9yIHVuZGVmaW5lZFxuICAgKiAgICAgaWYgdGhlIGNvbnRyb2wgd2FzIG5vdCBmb3VuZCkuXG4gICAqIEBhcGlcbiAgICovXG4gIHJlbW92ZUNvbnRyb2woY29udHJvbCkge1xuICAgIHJldHVybiB0aGlzLmdldENvbnRyb2xzKCkucmVtb3ZlKGNvbnRyb2wpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgZ2l2ZW4gaW50ZXJhY3Rpb24gZnJvbSB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdH0gaW50ZXJhY3Rpb24gSW50ZXJhY3Rpb24gdG8gcmVtb3ZlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBUaGUgcmVtb3ZlZCBpbnRlcmFjdGlvbiAob3JcbiAgICogICAgIHVuZGVmaW5lZCBpZiB0aGUgaW50ZXJhY3Rpb24gd2FzIG5vdCBmb3VuZCkuXG4gICAqIEBhcGlcbiAgICovXG4gIHJlbW92ZUludGVyYWN0aW9uKGludGVyYWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0SW50ZXJhY3Rpb25zKCkucmVtb3ZlKGludGVyYWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBnaXZlbiBsYXllciBmcm9tIHRoZSBtYXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIGxheWVyIChvciB1bmRlZmluZWQgaWYgdGhlXG4gICAqICAgICBsYXllciB3YXMgbm90IGZvdW5kKS5cbiAgICogQGFwaVxuICAgKi9cbiAgcmVtb3ZlTGF5ZXIobGF5ZXIpIHtcbiAgICBjb25zdCBsYXllcnMgPSB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKTtcbiAgICByZXR1cm4gbGF5ZXJzLnJlbW92ZShsYXllcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0dyb3VwLmpzXCIpLkdyb3VwRXZlbnR9IGV2ZW50IFRoZSBsYXllciByZW1vdmUgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVMYXllclJlbW92ZV8oZXZlbnQpIHtcbiAgICByZW1vdmVMYXllck1hcFByb3BlcnR5KGV2ZW50LmxheWVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGdpdmVuIG92ZXJsYXkgZnJvbSB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSBvdmVybGF5IE92ZXJsYXkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgb3ZlcmxheSAob3IgdW5kZWZpbmVkXG4gICAqICAgICBpZiB0aGUgb3ZlcmxheSB3YXMgbm90IGZvdW5kKS5cbiAgICogQGFwaVxuICAgKi9cbiAgcmVtb3ZlT3ZlcmxheShvdmVybGF5KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0T3ZlcmxheXMoKS5yZW1vdmUob3ZlcmxheSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgVGltZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlbmRlckZyYW1lXyh0aW1lKSB7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuICAgIGNvbnN0IHZpZXcgPSB0aGlzLmdldFZpZXcoKTtcbiAgICBjb25zdCBwcmV2aW91c0ZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuICAgIC8qKiBAdHlwZSB7P0ZyYW1lU3RhdGV9ICovXG4gICAgbGV0IGZyYW1lU3RhdGUgPSBudWxsO1xuICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQgJiYgaGFzQXJlYShzaXplKSAmJiB2aWV3ICYmIHZpZXcuaXNEZWYoKSkge1xuICAgICAgY29uc3Qgdmlld0hpbnRzID0gdmlldy5nZXRIaW50cyhcbiAgICAgICAgdGhpcy5mcmFtZVN0YXRlXyA/IHRoaXMuZnJhbWVTdGF0ZV8udmlld0hpbnRzIDogdW5kZWZpbmVkXG4gICAgICApO1xuICAgICAgY29uc3Qgdmlld1N0YXRlID0gdmlldy5nZXRTdGF0ZSgpO1xuICAgICAgZnJhbWVTdGF0ZSA9IHtcbiAgICAgICAgYW5pbWF0ZTogZmFsc2UsXG4gICAgICAgIGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtOiB0aGlzLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtXyxcbiAgICAgICAgZGVjbHV0dGVyVHJlZTogbnVsbCxcbiAgICAgICAgZXh0ZW50OiBnZXRGb3JWaWV3QW5kU2l6ZShcbiAgICAgICAgICB2aWV3U3RhdGUuY2VudGVyLFxuICAgICAgICAgIHZpZXdTdGF0ZS5yZXNvbHV0aW9uLFxuICAgICAgICAgIHZpZXdTdGF0ZS5yb3RhdGlvbixcbiAgICAgICAgICBzaXplXG4gICAgICAgICksXG4gICAgICAgIGluZGV4OiB0aGlzLmZyYW1lSW5kZXhfKyssXG4gICAgICAgIGxheWVySW5kZXg6IDAsXG4gICAgICAgIGxheWVyU3RhdGVzQXJyYXk6IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVyU3RhdGVzQXJyYXkoKSxcbiAgICAgICAgcGl4ZWxSYXRpbzogdGhpcy5waXhlbFJhdGlvXyxcbiAgICAgICAgcGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm06IHRoaXMucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm1fLFxuICAgICAgICBwb3N0UmVuZGVyRnVuY3Rpb25zOiBbXSxcbiAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgdGlsZVF1ZXVlOiB0aGlzLnRpbGVRdWV1ZV8sXG4gICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgIHVzZWRUaWxlczoge30sXG4gICAgICAgIHZpZXdTdGF0ZTogdmlld1N0YXRlLFxuICAgICAgICB2aWV3SGludHM6IHZpZXdIaW50cyxcbiAgICAgICAgd2FudGVkVGlsZXM6IHt9LFxuICAgICAgICBtYXBJZDogZ2V0VWlkKHRoaXMpLFxuICAgICAgICByZW5kZXJUYXJnZXRzOiB7fSxcbiAgICAgIH07XG4gICAgICBpZiAodmlld1N0YXRlLm5leHRDZW50ZXIgJiYgdmlld1N0YXRlLm5leHRSZXNvbHV0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJvdGF0aW9uID0gaXNOYU4odmlld1N0YXRlLm5leHRSb3RhdGlvbilcbiAgICAgICAgICA/IHZpZXdTdGF0ZS5yb3RhdGlvblxuICAgICAgICAgIDogdmlld1N0YXRlLm5leHRSb3RhdGlvbjtcblxuICAgICAgICBmcmFtZVN0YXRlLm5leHRFeHRlbnQgPSBnZXRGb3JWaWV3QW5kU2l6ZShcbiAgICAgICAgICB2aWV3U3RhdGUubmV4dENlbnRlcixcbiAgICAgICAgICB2aWV3U3RhdGUubmV4dFJlc29sdXRpb24sXG4gICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgc2l6ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZnJhbWVTdGF0ZV8gPSBmcmFtZVN0YXRlO1xuICAgIHRoaXMucmVuZGVyZXJfLnJlbmRlckZyYW1lKGZyYW1lU3RhdGUpO1xuXG4gICAgaWYgKGZyYW1lU3RhdGUpIHtcbiAgICAgIGlmIChmcmFtZVN0YXRlLmFuaW1hdGUpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH1cbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KFxuICAgICAgICB0aGlzLnBvc3RSZW5kZXJGdW5jdGlvbnNfLFxuICAgICAgICBmcmFtZVN0YXRlLnBvc3RSZW5kZXJGdW5jdGlvbnNcbiAgICAgICk7XG5cbiAgICAgIGlmIChwcmV2aW91c0ZyYW1lU3RhdGUpIHtcbiAgICAgICAgY29uc3QgbW92ZVN0YXJ0ID1cbiAgICAgICAgICAhdGhpcy5wcmV2aW91c0V4dGVudF8gfHxcbiAgICAgICAgICAoIWlzRW1wdHkodGhpcy5wcmV2aW91c0V4dGVudF8pICYmXG4gICAgICAgICAgICAhZXF1YWxzRXh0ZW50KGZyYW1lU3RhdGUuZXh0ZW50LCB0aGlzLnByZXZpb3VzRXh0ZW50XykpO1xuICAgICAgICBpZiAobW92ZVN0YXJ0KSB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgbmV3IE1hcEV2ZW50KE1hcEV2ZW50VHlwZS5NT1ZFU1RBUlQsIHRoaXMsIHByZXZpb3VzRnJhbWVTdGF0ZSlcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMucHJldmlvdXNFeHRlbnRfID0gY3JlYXRlT3JVcGRhdGVFbXB0eSh0aGlzLnByZXZpb3VzRXh0ZW50Xyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgaWRsZSA9XG4gICAgICAgIHRoaXMucHJldmlvdXNFeHRlbnRfICYmXG4gICAgICAgICFmcmFtZVN0YXRlLnZpZXdIaW50c1tWaWV3SGludC5BTklNQVRJTkddICYmXG4gICAgICAgICFmcmFtZVN0YXRlLnZpZXdIaW50c1tWaWV3SGludC5JTlRFUkFDVElOR10gJiZcbiAgICAgICAgIWVxdWFsc0V4dGVudChmcmFtZVN0YXRlLmV4dGVudCwgdGhpcy5wcmV2aW91c0V4dGVudF8pO1xuXG4gICAgICBpZiAoaWRsZSkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgbmV3IE1hcEV2ZW50KE1hcEV2ZW50VHlwZS5NT1ZFRU5ELCB0aGlzLCBmcmFtZVN0YXRlKVxuICAgICAgICApO1xuICAgICAgICBjbG9uZShmcmFtZVN0YXRlLmV4dGVudCwgdGhpcy5wcmV2aW91c0V4dGVudF8pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTWFwRXZlbnQoTWFwRXZlbnRUeXBlLlBPU1RSRU5ERVIsIHRoaXMsIGZyYW1lU3RhdGUpKTtcblxuICAgIHRoaXMucmVuZGVyQ29tcGxldGVfID1cbiAgICAgIHRoaXMuaGFzTGlzdGVuZXIoTWFwRXZlbnRUeXBlLkxPQURTVEFSVCkgfHxcbiAgICAgIHRoaXMuaGFzTGlzdGVuZXIoTWFwRXZlbnRUeXBlLkxPQURFTkQpIHx8XG4gICAgICB0aGlzLmhhc0xpc3RlbmVyKFJlbmRlckV2ZW50VHlwZS5SRU5ERVJDT01QTEVURSlcbiAgICAgICAgPyAhdGhpcy50aWxlUXVldWVfLmdldFRpbGVzTG9hZGluZygpICYmXG4gICAgICAgICAgIXRoaXMudGlsZVF1ZXVlXy5nZXRDb3VudCgpICYmXG4gICAgICAgICAgIXRoaXMuZ2V0TG9hZGluZ09yTm90UmVhZHkoKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmICghdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV8pIHtcbiAgICAgIHRoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhhbmRsZVBvc3RSZW5kZXIoKTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsYXllcmdyb3VwIG9mIHRoaXMgbWFwLlxuICAgKiBAcGFyYW0ge0xheWVyR3JvdXB9IGxheWVyR3JvdXAgQSBsYXllciBncm91cCBjb250YWluaW5nIHRoZSBsYXllcnMgaW4gdGhpcyBtYXAuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldExheWVyR3JvdXAobGF5ZXJHcm91cCkge1xuICAgIGNvbnN0IG9sZExheWVyR3JvdXAgPSB0aGlzLmdldExheWVyR3JvdXAoKTtcbiAgICBpZiAob2xkTGF5ZXJHcm91cCkge1xuICAgICAgdGhpcy5oYW5kbGVMYXllclJlbW92ZV8obmV3IEdyb3VwRXZlbnQoJ3JlbW92ZWxheWVyJywgb2xkTGF5ZXJHcm91cCkpO1xuICAgIH1cbiAgICB0aGlzLnNldChNYXBQcm9wZXJ0eS5MQVlFUkdST1VQLCBsYXllckdyb3VwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHNpemUgb2YgdGhpcyBtYXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfSBzaXplIFRoZSBzaXplIGluIHBpeGVscyBvZiB0aGUgbWFwIGluIHRoZSBET00uXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFNpemUoc2l6ZSkge1xuICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlNJWkUsIHNpemUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdGFyZ2V0IGVsZW1lbnQgdG8gcmVuZGVyIHRoaXMgbWFwIGludG8uXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBUaGUgRWxlbWVudCBvciBpZCBvZiB0aGUgRWxlbWVudFxuICAgKiAgICAgdGhhdCB0aGUgbWFwIGlzIHJlbmRlcmVkIGluLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRUYXJnZXQodGFyZ2V0KSB7XG4gICAgdGhpcy5zZXQoTWFwUHJvcGVydHkuVEFSR0VULCB0YXJnZXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmlldyBmb3IgdGhpcyBtYXAuXG4gICAqIEBwYXJhbSB7Vmlld3xQcm9taXNlPGltcG9ydChcIi4vVmlldy5qc1wiKS5WaWV3T3B0aW9ucz59IHZpZXcgVGhlIHZpZXcgdGhhdCBjb250cm9scyB0aGlzIG1hcC5cbiAgICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0byBwYXNzIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIG9wdGlvbnMgZm9yIGNvbnN0cnVjdGluZyBhIHZpZXcuICBUaGlzXG4gICAqIGFsdGVybmF0aXZlIGFsbG93cyB2aWV3IHByb3BlcnRpZXMgdG8gYmUgcmVzb2x2ZWQgYnkgc291cmNlcyBvciBvdGhlciBjb21wb25lbnRzIHRoYXQgbG9hZFxuICAgKiB2aWV3LXJlbGF0ZWQgbWV0YWRhdGEuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFZpZXcodmlldykge1xuICAgIGlmICghdmlldyB8fCB2aWV3IGluc3RhbmNlb2YgVmlldykge1xuICAgICAgdGhpcy5zZXQoTWFwUHJvcGVydHkuVklFVywgdmlldyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlZJRVcsIG5ldyBWaWV3KCkpO1xuXG4gICAgY29uc3QgbWFwID0gdGhpcztcbiAgICB2aWV3LnRoZW4oZnVuY3Rpb24gKHZpZXdPcHRpb25zKSB7XG4gICAgICBtYXAuc2V0VmlldyhuZXcgVmlldyh2aWV3T3B0aW9ucykpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlIGEgcmVjYWxjdWxhdGlvbiBvZiB0aGUgbWFwIHZpZXdwb3J0IHNpemUuICBUaGlzIHNob3VsZCBiZSBjYWxsZWQgd2hlblxuICAgKiB0aGlyZC1wYXJ0eSBjb2RlIGNoYW5nZXMgdGhlIHNpemUgb2YgdGhlIG1hcCB2aWV3cG9ydC5cbiAgICogQGFwaVxuICAgKi9cbiAgdXBkYXRlU2l6ZSgpIHtcbiAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gdGhpcy5nZXRUYXJnZXRFbGVtZW50KCk7XG5cbiAgICBsZXQgc2l6ZSA9IHVuZGVmaW5lZDtcbiAgICBpZiAodGFyZ2V0RWxlbWVudCkge1xuICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodGFyZ2V0RWxlbWVudCk7XG4gICAgICBjb25zdCB3aWR0aCA9XG4gICAgICAgIHRhcmdldEVsZW1lbnQub2Zmc2V0V2lkdGggLVxuICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ2JvcmRlckxlZnRXaWR0aCddKSAtXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsncGFkZGluZ0xlZnQnXSkgLVxuICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ3BhZGRpbmdSaWdodCddKSAtXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsnYm9yZGVyUmlnaHRXaWR0aCddKTtcbiAgICAgIGNvbnN0IGhlaWdodCA9XG4gICAgICAgIHRhcmdldEVsZW1lbnQub2Zmc2V0SGVpZ2h0IC1cbiAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydib3JkZXJUb3BXaWR0aCddKSAtXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsncGFkZGluZ1RvcCddKSAtXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsncGFkZGluZ0JvdHRvbSddKSAtXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsnYm9yZGVyQm90dG9tV2lkdGgnXSk7XG4gICAgICBpZiAoIWlzTmFOKHdpZHRoKSAmJiAhaXNOYU4oaGVpZ2h0KSkge1xuICAgICAgICBzaXplID0gW3dpZHRoLCBoZWlnaHRdO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWhhc0FyZWEoc2l6ZSkgJiZcbiAgICAgICAgICAhIShcbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQub2Zmc2V0V2lkdGggfHxcbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8XG4gICAgICAgICAgICB0YXJnZXRFbGVtZW50LmdldENsaWVudFJlY3RzKCkubGVuZ3RoXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgXCJObyBtYXAgdmlzaWJsZSBiZWNhdXNlIHRoZSBtYXAgY29udGFpbmVyJ3Mgd2lkdGggb3IgaGVpZ2h0IGFyZSAwLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG9sZFNpemUgPSB0aGlzLmdldFNpemUoKTtcbiAgICBpZiAoc2l6ZSAmJiAoIW9sZFNpemUgfHwgIWVxdWFscyhzaXplLCBvbGRTaXplKSkpIHtcbiAgICAgIHRoaXMuc2V0U2l6ZShzaXplKTtcbiAgICAgIHRoaXMudXBkYXRlVmlld3BvcnRTaXplXygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWNvbXB1dGVzIHRoZSB2aWV3cG9ydCBzaXplIGFuZCBzYXZlIGl0IG9uIHRoZSB2aWV3IG9iamVjdCAoaWYgYW55KVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdXBkYXRlVmlld3BvcnRTaXplXygpIHtcbiAgICBjb25zdCB2aWV3ID0gdGhpcy5nZXRWaWV3KCk7XG4gICAgaWYgKHZpZXcpIHtcbiAgICAgIGxldCBzaXplID0gdW5kZWZpbmVkO1xuICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodGhpcy52aWV3cG9ydF8pO1xuICAgICAgaWYgKGNvbXB1dGVkU3R5bGUud2lkdGggJiYgY29tcHV0ZWRTdHlsZS5oZWlnaHQpIHtcbiAgICAgICAgc2l6ZSA9IFtcbiAgICAgICAgICBwYXJzZUludChjb21wdXRlZFN0eWxlLndpZHRoLCAxMCksXG4gICAgICAgICAgcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5oZWlnaHQsIDEwKSxcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIHZpZXcuc2V0Vmlld3BvcnRTaXplKHNpemUpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7TWFwT3B0aW9uc30gb3B0aW9ucyBNYXAgb3B0aW9ucy5cbiAqIEByZXR1cm4ge01hcE9wdGlvbnNJbnRlcm5hbH0gSW50ZXJuYWwgbWFwIG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnNJbnRlcm5hbChvcHRpb25zKSB7XG4gIC8qKlxuICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR9XG4gICAqL1xuICBsZXQga2V5Ym9hcmRFdmVudFRhcmdldCA9IG51bGw7XG4gIGlmIChvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgIGtleWJvYXJkRXZlbnRUYXJnZXQgPVxuICAgICAgdHlwZW9mIG9wdGlvbnMua2V5Ym9hcmRFdmVudFRhcmdldCA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQpXG4gICAgICAgIDogb3B0aW9ucy5rZXlib2FyZEV2ZW50VGFyZ2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCAqPn1cbiAgICovXG4gIGNvbnN0IHZhbHVlcyA9IHt9O1xuXG4gIGNvbnN0IGxheWVyR3JvdXAgPVxuICAgIG9wdGlvbnMubGF5ZXJzICYmXG4gICAgdHlwZW9mICgvKiogQHR5cGUgez99ICovIChvcHRpb25zLmxheWVycykuZ2V0TGF5ZXJzKSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgPyAvKiogQHR5cGUge0xheWVyR3JvdXB9ICovIChvcHRpb25zLmxheWVycylcbiAgICAgIDogbmV3IExheWVyR3JvdXAoe1xuICAgICAgICAgIGxheWVyczpcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD58QXJyYXk8aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fSAqLyAoXG4gICAgICAgICAgICAgIG9wdGlvbnMubGF5ZXJzXG4gICAgICAgICAgICApLFxuICAgICAgICB9KTtcbiAgdmFsdWVzW01hcFByb3BlcnR5LkxBWUVSR1JPVVBdID0gbGF5ZXJHcm91cDtcblxuICB2YWx1ZXNbTWFwUHJvcGVydHkuVEFSR0VUXSA9IG9wdGlvbnMudGFyZ2V0O1xuXG4gIHZhbHVlc1tNYXBQcm9wZXJ0eS5WSUVXXSA9XG4gICAgb3B0aW9ucy52aWV3IGluc3RhbmNlb2YgVmlldyA/IG9wdGlvbnMudmlldyA6IG5ldyBWaWV3KCk7XG5cbiAgLyoqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSAqL1xuICBsZXQgY29udHJvbHM7XG4gIGlmIChvcHRpb25zLmNvbnRyb2xzICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmNvbnRyb2xzKSkge1xuICAgICAgY29udHJvbHMgPSBuZXcgQ29sbGVjdGlvbihvcHRpb25zLmNvbnRyb2xzLnNsaWNlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQoXG4gICAgICAgIHR5cGVvZiAoLyoqIEB0eXBlIHs/fSAqLyAob3B0aW9ucy5jb250cm9scykuZ2V0QXJyYXkpID09PSAnZnVuY3Rpb24nLFxuICAgICAgICA0N1xuICAgICAgKTsgLy8gRXhwZWN0ZWQgYGNvbnRyb2xzYCB0byBiZSBhbiBhcnJheSBvciBhbiBgaW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25gXG4gICAgICBjb250cm9scyA9IG9wdGlvbnMuY29udHJvbHM7XG4gICAgfVxuICB9XG5cbiAgLyoqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25cIikuZGVmYXVsdD59ICovXG4gIGxldCBpbnRlcmFjdGlvbnM7XG4gIGlmIChvcHRpb25zLmludGVyYWN0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5pbnRlcmFjdGlvbnMpKSB7XG4gICAgICBpbnRlcmFjdGlvbnMgPSBuZXcgQ29sbGVjdGlvbihvcHRpb25zLmludGVyYWN0aW9ucy5zbGljZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzZXJ0KFxuICAgICAgICB0eXBlb2YgKC8qKiBAdHlwZSB7P30gKi8gKG9wdGlvbnMuaW50ZXJhY3Rpb25zKS5nZXRBcnJheSkgPT09XG4gICAgICAgICAgJ2Z1bmN0aW9uJyxcbiAgICAgICAgNDhcbiAgICAgICk7IC8vIEV4cGVjdGVkIGBpbnRlcmFjdGlvbnNgIHRvIGJlIGFuIGFycmF5IG9yIGFuIGBpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbmBcbiAgICAgIGludGVyYWN0aW9ucyA9IG9wdGlvbnMuaW50ZXJhY3Rpb25zO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59ICovXG4gIGxldCBvdmVybGF5cztcbiAgaWYgKG9wdGlvbnMub3ZlcmxheXMgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMub3ZlcmxheXMpKSB7XG4gICAgICBvdmVybGF5cyA9IG5ldyBDb2xsZWN0aW9uKG9wdGlvbnMub3ZlcmxheXMuc2xpY2UoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydChcbiAgICAgICAgdHlwZW9mICgvKiogQHR5cGUgez99ICovIChvcHRpb25zLm92ZXJsYXlzKS5nZXRBcnJheSkgPT09ICdmdW5jdGlvbicsXG4gICAgICAgIDQ5XG4gICAgICApOyAvLyBFeHBlY3RlZCBgb3ZlcmxheXNgIHRvIGJlIGFuIGFycmF5IG9yIGFuIGBpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbmBcbiAgICAgIG92ZXJsYXlzID0gb3B0aW9ucy5vdmVybGF5cztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3ZlcmxheXMgPSBuZXcgQ29sbGVjdGlvbigpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjb250cm9sczogY29udHJvbHMsXG4gICAgaW50ZXJhY3Rpb25zOiBpbnRlcmFjdGlvbnMsXG4gICAga2V5Ym9hcmRFdmVudFRhcmdldDoga2V5Ym9hcmRFdmVudFRhcmdldCxcbiAgICBvdmVybGF5czogb3ZlcmxheXMsXG4gICAgdmFsdWVzOiB2YWx1ZXMsXG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCBNYXA7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvY29udHJvbC9kZWZhdWx0c1xuICovXG5pbXBvcnQgQXR0cmlidXRpb24gZnJvbSAnLi9BdHRyaWJ1dGlvbi5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBSb3RhdGUgZnJvbSAnLi9Sb3RhdGUuanMnO1xuaW1wb3J0IFpvb20gZnJvbSAnLi9ab29tLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBEZWZhdWx0c09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uPXRydWVdIEluY2x1ZGVcbiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9BdHRyaWJ1dGlvbn5BdHRyaWJ1dGlvbn0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vQXR0cmlidXRpb24uanNcIikuT3B0aW9uc30gW2F0dHJpYnV0aW9uT3B0aW9uc11cbiAqIE9wdGlvbnMgZm9yIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9BdHRyaWJ1dGlvbn5BdHRyaWJ1dGlvbn0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyb3RhdGU9dHJ1ZV0gSW5jbHVkZVxuICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL1JvdGF0ZX5Sb3RhdGV9LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1JvdGF0ZS5qc1wiKS5PcHRpb25zfSBbcm90YXRlT3B0aW9uc10gT3B0aW9uc1xuICogZm9yIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9Sb3RhdGV+Um90YXRlfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3pvb21dIEluY2x1ZGUge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL1pvb21+Wm9vbX0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vWm9vbS5qc1wiKS5PcHRpb25zfSBbem9vbU9wdGlvbnNdIE9wdGlvbnMgZm9yXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvWm9vbX5ab29tfS5cbiAqL1xuXG4vKipcbiAqIFNldCBvZiBjb250cm9scyBpbmNsdWRlZCBpbiBtYXBzIGJ5IGRlZmF1bHQuIFVubGVzcyBjb25maWd1cmVkIG90aGVyd2lzZSxcbiAqIHRoaXMgcmV0dXJucyBhIGNvbGxlY3Rpb24gY29udGFpbmluZyBhbiBpbnN0YW5jZSBvZiBlYWNoIG9mIHRoZSBmb2xsb3dpbmdcbiAqIGNvbnRyb2xzOlxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvWm9vbX5ab29tfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvUm90YXRlflJvdGF0ZX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL0F0dHJpYnV0aW9ufkF0dHJpYnV0aW9ufVxuICpcbiAqIEBwYXJhbSB7RGVmYXVsdHNPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucyBmb3IgdGhlIGRlZmF1bHQgY29udHJvbHMuXG4gKiBAcmV0dXJuIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn0gQSBjb2xsZWN0aW9uIG9mIGNvbnRyb2xzXG4gKiB0byBiZSB1c2VkIHdpdGggdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0gY29uc3RydWN0b3IncyBgY29udHJvbHNgIG9wdGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgLyoqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn0gKi9cbiAgY29uc3QgY29udHJvbHMgPSBuZXcgQ29sbGVjdGlvbigpO1xuXG4gIGNvbnN0IHpvb21Db250cm9sID0gb3B0aW9ucy56b29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnpvb20gOiB0cnVlO1xuICBpZiAoem9vbUNvbnRyb2wpIHtcbiAgICBjb250cm9scy5wdXNoKG5ldyBab29tKG9wdGlvbnMuem9vbU9wdGlvbnMpKTtcbiAgfVxuXG4gIGNvbnN0IHJvdGF0ZUNvbnRyb2wgPSBvcHRpb25zLnJvdGF0ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGUgOiB0cnVlO1xuICBpZiAocm90YXRlQ29udHJvbCkge1xuICAgIGNvbnRyb2xzLnB1c2gobmV3IFJvdGF0ZShvcHRpb25zLnJvdGF0ZU9wdGlvbnMpKTtcbiAgfVxuXG4gIGNvbnN0IGF0dHJpYnV0aW9uQ29udHJvbCA9XG4gICAgb3B0aW9ucy5hdHRyaWJ1dGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hdHRyaWJ1dGlvbiA6IHRydWU7XG4gIGlmIChhdHRyaWJ1dGlvbkNvbnRyb2wpIHtcbiAgICBjb250cm9scy5wdXNoKG5ldyBBdHRyaWJ1dGlvbihvcHRpb25zLmF0dHJpYnV0aW9uT3B0aW9ucykpO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRyb2xzO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL2RlZmF1bHRzXG4gKi9cbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4uL0NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IERvdWJsZUNsaWNrWm9vbSBmcm9tICcuL0RvdWJsZUNsaWNrWm9vbS5qcyc7XG5pbXBvcnQgRHJhZ1BhbiBmcm9tICcuL0RyYWdQYW4uanMnO1xuaW1wb3J0IERyYWdSb3RhdGUgZnJvbSAnLi9EcmFnUm90YXRlLmpzJztcbmltcG9ydCBEcmFnWm9vbSBmcm9tICcuL0RyYWdab29tLmpzJztcbmltcG9ydCBLZXlib2FyZFBhbiBmcm9tICcuL0tleWJvYXJkUGFuLmpzJztcbmltcG9ydCBLZXlib2FyZFpvb20gZnJvbSAnLi9LZXlib2FyZFpvb20uanMnO1xuaW1wb3J0IEtpbmV0aWMgZnJvbSAnLi4vS2luZXRpYy5qcyc7XG5pbXBvcnQgTW91c2VXaGVlbFpvb20gZnJvbSAnLi9Nb3VzZVdoZWVsWm9vbS5qcyc7XG5pbXBvcnQgUGluY2hSb3RhdGUgZnJvbSAnLi9QaW5jaFJvdGF0ZS5qcyc7XG5pbXBvcnQgUGluY2hab29tIGZyb20gJy4vUGluY2hab29tLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBEZWZhdWx0c09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2FsdFNoaWZ0RHJhZ1JvdGF0ZT10cnVlXSBXaGV0aGVyIEFsdC1TaGlmdC1kcmFnIHJvdGF0ZSBpc1xuICogZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29uRm9jdXNPbmx5PWZhbHNlXSBJbnRlcmFjdCBvbmx5IHdoZW4gdGhlIG1hcCBoYXMgdGhlXG4gKiBmb2N1cy4gVGhpcyBhZmZlY3RzIHRoZSBgTW91c2VXaGVlbFpvb21gIGFuZCBgRHJhZ1BhbmAgaW50ZXJhY3Rpb25zIGFuZCBpc1xuICogdXNlZnVsIHdoZW4gcGFnZSBzY3JvbGwgaXMgZGVzaXJlZCBmb3IgbWFwcyB0aGF0IGRvIG5vdCBoYXZlIHRoZSBicm93c2VyJ3NcbiAqIGZvY3VzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZG91YmxlQ2xpY2tab29tPXRydWVdIFdoZXRoZXIgZG91YmxlIGNsaWNrIHpvb20gaXNcbiAqIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtrZXlib2FyZD10cnVlXSBXaGV0aGVyIGtleWJvYXJkIGludGVyYWN0aW9uIGlzIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFttb3VzZVdoZWVsWm9vbT10cnVlXSBXaGV0aGVyIG1vdXNld2hlZWwgem9vbSBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc2hpZnREcmFnWm9vbT10cnVlXSBXaGV0aGVyIFNoaWZ0LWRyYWcgem9vbSBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZHJhZ1Bhbj10cnVlXSBXaGV0aGVyIGRyYWcgcGFuIGlzIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtwaW5jaFJvdGF0ZT10cnVlXSBXaGV0aGVyIHBpbmNoIHJvdGF0ZSBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcGluY2hab29tPXRydWVdIFdoZXRoZXIgcGluY2ggem9vbSBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6b29tRGVsdGFdIFpvb20gbGV2ZWwgZGVsdGEgd2hlbiB1c2luZyBrZXlib2FyZCBvciBkb3VibGUgY2xpY2sgem9vbS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbUR1cmF0aW9uXSBEdXJhdGlvbiBvZiB0aGUgem9vbSBhbmltYXRpb24gaW5cbiAqIG1pbGxpc2Vjb25kcy5cbiAqL1xuXG4vKipcbiAqIFNldCBvZiBpbnRlcmFjdGlvbnMgaW5jbHVkZWQgaW4gbWFwcyBieSBkZWZhdWx0LiBTcGVjaWZpYyBpbnRlcmFjdGlvbnMgY2FuIGJlXG4gKiBleGNsdWRlZCBieSBzZXR0aW5nIHRoZSBhcHByb3ByaWF0ZSBvcHRpb24gdG8gZmFsc2UgaW4gdGhlIGNvbnN0cnVjdG9yXG4gKiBvcHRpb25zLCBidXQgdGhlIG9yZGVyIG9mIHRoZSBpbnRlcmFjdGlvbnMgaXMgZml4ZWQuICBJZiB5b3Ugd2FudCB0byBzcGVjaWZ5XG4gKiBhIGRpZmZlcmVudCBvcmRlciBmb3IgaW50ZXJhY3Rpb25zLCB5b3Ugd2lsbCBuZWVkIHRvIGNyZWF0ZSB5b3VyIG93blxuICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbn5JbnRlcmFjdGlvbn0gaW5zdGFuY2VzIGFuZCBpbnNlcnRcbiAqIHRoZW0gaW50byBhIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSBpbiB0aGUgb3JkZXIgeW91IHdhbnRcbiAqIGJlZm9yZSBjcmVhdGluZyB5b3VyIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0gaW5zdGFuY2UuIENoYW5naW5nIHRoZSBvcmRlciBjYW5cbiAqIGJlIG9mIGludGVyZXN0IGlmIHRoZSBldmVudCBwcm9wYWdhdGlvbiBuZWVkcyB0byBiZSBzdG9wcGVkIGF0IGEgcG9pbnQuXG4gKiBUaGUgZGVmYXVsdCBzZXQgb2YgaW50ZXJhY3Rpb25zLCBpbiBzZXF1ZW5jZSwgaXM6XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZX5EcmFnUm90YXRlfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RvdWJsZUNsaWNrWm9vbX5Eb3VibGVDbGlja1pvb219XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1Bhbn5EcmFnUGFufVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL1BpbmNoUm90YXRlflBpbmNoUm90YXRlfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL1BpbmNoWm9vbX5QaW5jaFpvb219XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW5+S2V5Ym9hcmRQYW59XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tfktleWJvYXJkWm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbX5Nb3VzZVdoZWVsWm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnWm9vbX5EcmFnWm9vbX1cbiAqXG4gKiBAcGFyYW0ge0RlZmF1bHRzT3B0aW9uc30gW29wdGlvbnNdIERlZmF1bHRzIG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59XG4gKiBBIGNvbGxlY3Rpb24gb2YgaW50ZXJhY3Rpb25zIHRvIGJlIHVzZWQgd2l0aCB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwfVxuICogY29uc3RydWN0b3IncyBgaW50ZXJhY3Rpb25zYCBvcHRpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0cyhvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gIC8qKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHQ+fSAqL1xuICBjb25zdCBpbnRlcmFjdGlvbnMgPSBuZXcgQ29sbGVjdGlvbigpO1xuXG4gIGNvbnN0IGtpbmV0aWMgPSBuZXcgS2luZXRpYygtMC4wMDUsIDAuMDUsIDEwMCk7XG5cbiAgY29uc3QgYWx0U2hpZnREcmFnUm90YXRlID1cbiAgICBvcHRpb25zLmFsdFNoaWZ0RHJhZ1JvdGF0ZSAhPT0gdW5kZWZpbmVkXG4gICAgICA/IG9wdGlvbnMuYWx0U2hpZnREcmFnUm90YXRlXG4gICAgICA6IHRydWU7XG4gIGlmIChhbHRTaGlmdERyYWdSb3RhdGUpIHtcbiAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgRHJhZ1JvdGF0ZSgpKTtcbiAgfVxuXG4gIGNvbnN0IGRvdWJsZUNsaWNrWm9vbSA9XG4gICAgb3B0aW9ucy5kb3VibGVDbGlja1pvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZG91YmxlQ2xpY2tab29tIDogdHJ1ZTtcbiAgaWYgKGRvdWJsZUNsaWNrWm9vbSkge1xuICAgIGludGVyYWN0aW9ucy5wdXNoKFxuICAgICAgbmV3IERvdWJsZUNsaWNrWm9vbSh7XG4gICAgICAgIGRlbHRhOiBvcHRpb25zLnpvb21EZWx0YSxcbiAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuem9vbUR1cmF0aW9uLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZHJhZ1BhbiA9IG9wdGlvbnMuZHJhZ1BhbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kcmFnUGFuIDogdHJ1ZTtcbiAgaWYgKGRyYWdQYW4pIHtcbiAgICBpbnRlcmFjdGlvbnMucHVzaChcbiAgICAgIG5ldyBEcmFnUGFuKHtcbiAgICAgICAgb25Gb2N1c09ubHk6IG9wdGlvbnMub25Gb2N1c09ubHksXG4gICAgICAgIGtpbmV0aWM6IGtpbmV0aWMsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBjb25zdCBwaW5jaFJvdGF0ZSA9XG4gICAgb3B0aW9ucy5waW5jaFJvdGF0ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5waW5jaFJvdGF0ZSA6IHRydWU7XG4gIGlmIChwaW5jaFJvdGF0ZSkge1xuICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBQaW5jaFJvdGF0ZSgpKTtcbiAgfVxuXG4gIGNvbnN0IHBpbmNoWm9vbSA9IG9wdGlvbnMucGluY2hab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBpbmNoWm9vbSA6IHRydWU7XG4gIGlmIChwaW5jaFpvb20pIHtcbiAgICBpbnRlcmFjdGlvbnMucHVzaChcbiAgICAgIG5ldyBQaW5jaFpvb20oe1xuICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy56b29tRHVyYXRpb24sXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBjb25zdCBrZXlib2FyZCA9IG9wdGlvbnMua2V5Ym9hcmQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMua2V5Ym9hcmQgOiB0cnVlO1xuICBpZiAoa2V5Ym9hcmQpIHtcbiAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgS2V5Ym9hcmRQYW4oKSk7XG4gICAgaW50ZXJhY3Rpb25zLnB1c2goXG4gICAgICBuZXcgS2V5Ym9hcmRab29tKHtcbiAgICAgICAgZGVsdGE6IG9wdGlvbnMuem9vbURlbHRhLFxuICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy56b29tRHVyYXRpb24sXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBjb25zdCBtb3VzZVdoZWVsWm9vbSA9XG4gICAgb3B0aW9ucy5tb3VzZVdoZWVsWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tb3VzZVdoZWVsWm9vbSA6IHRydWU7XG4gIGlmIChtb3VzZVdoZWVsWm9vbSkge1xuICAgIGludGVyYWN0aW9ucy5wdXNoKFxuICAgICAgbmV3IE1vdXNlV2hlZWxab29tKHtcbiAgICAgICAgb25Gb2N1c09ubHk6IG9wdGlvbnMub25Gb2N1c09ubHksXG4gICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvbixcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHNoaWZ0RHJhZ1pvb20gPVxuICAgIG9wdGlvbnMuc2hpZnREcmFnWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zaGlmdERyYWdab29tIDogdHJ1ZTtcbiAgaWYgKHNoaWZ0RHJhZ1pvb20pIHtcbiAgICBpbnRlcmFjdGlvbnMucHVzaChcbiAgICAgIG5ldyBEcmFnWm9vbSh7XG4gICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvbixcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBpbnRlcmFjdGlvbnM7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvS2luZXRpY1xuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogSW1wbGVtZW50YXRpb24gb2YgaW5lcnRpYWwgZGVjZWxlcmF0aW9uIGZvciBtYXAgbW92ZW1lbnQuXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBLaW5ldGljIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWNheSBSYXRlIG9mIGRlY2F5IChtdXN0IGJlIG5lZ2F0aXZlKS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblZlbG9jaXR5IE1pbmltdW0gdmVsb2NpdHkgKHBpeGVscy9taWxsaXNlY29uZCkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBEZWxheSB0byBjb25zaWRlciB0byBjYWxjdWxhdGUgdGhlIGtpbmV0aWNcbiAgICogICAgIGluaXRpYWwgdmFsdWVzIChtaWxsaXNlY29uZHMpLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZGVjYXksIG1pblZlbG9jaXR5LCBkZWxheSkge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmRlY2F5XyA9IGRlY2F5O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWluVmVsb2NpdHlfID0gbWluVmVsb2NpdHk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kZWxheV8gPSBkZWxheTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5wb2ludHNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5hbmdsZV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW5pdGlhbFZlbG9jaXR5XyA9IDA7XG4gIH1cblxuICAvKipcbiAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAqL1xuICBiZWdpbigpIHtcbiAgICB0aGlzLnBvaW50c18ubGVuZ3RoID0gMDtcbiAgICB0aGlzLmFuZ2xlXyA9IDA7XG4gICAgdGhpcy5pbml0aWFsVmVsb2NpdHlfID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgKi9cbiAgdXBkYXRlKHgsIHkpIHtcbiAgICB0aGlzLnBvaW50c18ucHVzaCh4LCB5LCBEYXRlLm5vdygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHdlIHNob3VsZCBkbyBraW5ldGljIGFuaW1hdGlvbi5cbiAgICovXG4gIGVuZCgpIHtcbiAgICBpZiAodGhpcy5wb2ludHNfLmxlbmd0aCA8IDYpIHtcbiAgICAgIC8vIGF0IGxlYXN0IDIgcG9pbnRzIGFyZSByZXF1aXJlZCAoaS5lLiB0aGVyZSBtdXN0IGJlIGF0IGxlYXN0IDYgZWxlbWVudHNcbiAgICAgIC8vIGluIHRoZSBhcnJheSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgZGVsYXkgPSBEYXRlLm5vdygpIC0gdGhpcy5kZWxheV87XG4gICAgY29uc3QgbGFzdEluZGV4ID0gdGhpcy5wb2ludHNfLmxlbmd0aCAtIDM7XG4gICAgaWYgKHRoaXMucG9pbnRzX1tsYXN0SW5kZXggKyAyXSA8IGRlbGF5KSB7XG4gICAgICAvLyB0aGUgbGFzdCB0cmFja2VkIHBvaW50IGlzIHRvbyBvbGQsIHdoaWNoIG1lYW5zIHRoYXQgdGhlIHVzZXIgc3RvcHBlZFxuICAgICAgLy8gcGFubmluZyBiZWZvcmUgcmVsZWFzaW5nIHRoZSBtYXBcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBnZXQgdGhlIGZpcnN0IHBvaW50IHdoaWNoIHN0aWxsIGZhbGxzIGludG8gdGhlIGRlbGF5IHRpbWVcbiAgICBsZXQgZmlyc3RJbmRleCA9IGxhc3RJbmRleCAtIDM7XG4gICAgd2hpbGUgKGZpcnN0SW5kZXggPiAwICYmIHRoaXMucG9pbnRzX1tmaXJzdEluZGV4ICsgMl0gPiBkZWxheSkge1xuICAgICAgZmlyc3RJbmRleCAtPSAzO1xuICAgIH1cblxuICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5wb2ludHNfW2xhc3RJbmRleCArIDJdIC0gdGhpcy5wb2ludHNfW2ZpcnN0SW5kZXggKyAyXTtcbiAgICAvLyB3ZSBkb24ndCB3YW50IGEgZHVyYXRpb24gb2YgMCAoZGl2aWRlIGJ5IHplcm8pXG4gICAgLy8gd2UgYWxzbyBtYWtlIHN1cmUgdGhlIHVzZXIgcGFubmVkIGZvciBhIGR1cmF0aW9uIG9mIGF0IGxlYXN0IG9uZSBmcmFtZVxuICAgIC8vICgxLzYwcykgdG8gY29tcHV0ZSBzYW5lIGRpc3BsYWNlbWVudCB2YWx1ZXNcbiAgICBpZiAoZHVyYXRpb24gPCAxMDAwIC8gNjApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBkeCA9IHRoaXMucG9pbnRzX1tsYXN0SW5kZXhdIC0gdGhpcy5wb2ludHNfW2ZpcnN0SW5kZXhdO1xuICAgIGNvbnN0IGR5ID0gdGhpcy5wb2ludHNfW2xhc3RJbmRleCArIDFdIC0gdGhpcy5wb2ludHNfW2ZpcnN0SW5kZXggKyAxXTtcbiAgICB0aGlzLmFuZ2xlXyA9IE1hdGguYXRhbjIoZHksIGR4KTtcbiAgICB0aGlzLmluaXRpYWxWZWxvY2l0eV8gPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpIC8gZHVyYXRpb247XG4gICAgcmV0dXJuIHRoaXMuaW5pdGlhbFZlbG9jaXR5XyA+IHRoaXMubWluVmVsb2NpdHlfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gVG90YWwgZGlzdGFuY2UgdHJhdmVsbGVkIChwaXhlbHMpLlxuICAgKi9cbiAgZ2V0RGlzdGFuY2UoKSB7XG4gICAgcmV0dXJuICh0aGlzLm1pblZlbG9jaXR5XyAtIHRoaXMuaW5pdGlhbFZlbG9jaXR5XykgLyB0aGlzLmRlY2F5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFuZ2xlIG9mIHRoZSBraW5ldGljIHBhbm5pbmcgYW5pbWF0aW9uIChyYWRpYW5zKS5cbiAgICovXG4gIGdldEFuZ2xlKCkge1xuICAgIHJldHVybiB0aGlzLmFuZ2xlXztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBLaW5ldGljO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL09iamVjdFxuICovXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuL09iamVjdEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgT2JzZXJ2YWJsZSBmcm9tICcuL09ic2VydmFibGUuanMnO1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQge2lzRW1wdHl9IGZyb20gJy4vb2JqLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZiB0aGlzIHR5cGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBPYmplY3RFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBwcm9wZXJ0eSBuYW1lLlxuICAgKiBAcGFyYW0geyp9IG9sZFZhbHVlIFRoZSBvbGQgdmFsdWUgZm9yIGBrZXlgLlxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSwga2V5LCBvbGRWYWx1ZSkge1xuICAgIHN1cGVyKHR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHdob3NlIHZhbHVlIGlzIGNoYW5naW5nLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMua2V5ID0ga2V5O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9sZCB2YWx1ZS4gVG8gZ2V0IHRoZSBuZXcgdmFsdWUgdXNlIGBlLnRhcmdldC5nZXQoZS5rZXkpYCB3aGVyZVxuICAgICAqIGBlYCBpcyB0aGUgZXZlbnQgb2JqZWN0LlxuICAgICAqIEB0eXBlIHsqfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLm9sZFZhbHVlID0gb2xkVmFsdWU7XG4gIH1cbn1cblxuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXMsIE9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfGltcG9ydChcIi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzLCBSZXR1cm4+fSBPYmplY3RPblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogTW9zdCBub24tdHJpdmlhbCBjbGFzc2VzIGluaGVyaXQgZnJvbSB0aGlzLlxuICpcbiAqIFRoaXMgZXh0ZW5kcyB7QGxpbmsgbW9kdWxlOm9sL09ic2VydmFibGV+T2JzZXJ2YWJsZX0gd2l0aCBvYnNlcnZhYmxlXG4gKiBwcm9wZXJ0aWVzLCB3aGVyZSBlYWNoIHByb3BlcnR5IGlzIG9ic2VydmFibGUgYXMgd2VsbCBhcyB0aGUgb2JqZWN0IGFzIGFcbiAqIHdob2xlLlxuICpcbiAqIENsYXNzZXMgdGhhdCBpbmhlcml0IGZyb20gdGhpcyBoYXZlIHByZS1kZWZpbmVkIHByb3BlcnRpZXMsIHRvIHdoaWNoIHlvdSBjYW5cbiAqIGFkZCB5b3VyIG93bnMuIFRoZSBwcmUtZGVmaW5lZCBwcm9wZXJ0aWVzIGFyZSBsaXN0ZWQgaW4gdGhpcyBkb2N1bWVudGF0aW9uIGFzXG4gKiAnT2JzZXJ2YWJsZSBQcm9wZXJ0aWVzJywgYW5kIGhhdmUgdGhlaXIgb3duIGFjY2Vzc29yczsgZm9yIGV4YW1wbGUsXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9IGhhcyBhIGB0YXJnZXRgIHByb3BlcnR5LCBhY2Nlc3NlZCB3aXRoXG4gKiBgZ2V0VGFyZ2V0KClgIGFuZCBjaGFuZ2VkIHdpdGggYHNldFRhcmdldCgpYC4gTm90IGFsbCBwcm9wZXJ0aWVzIGFyZSBob3dldmVyXG4gKiBzZXR0YWJsZS4gVGhlcmUgYXJlIGFsc28gZ2VuZXJhbC1wdXJwb3NlIGFjY2Vzc29ycyBgZ2V0KClgIGFuZCBgc2V0KClgLiBGb3JcbiAqIGV4YW1wbGUsIGBnZXQoJ3RhcmdldCcpYCBpcyBlcXVpdmFsZW50IHRvIGBnZXRUYXJnZXQoKWAuXG4gKlxuICogVGhlIGBzZXRgIGFjY2Vzc29ycyB0cmlnZ2VyIGEgY2hhbmdlIGV2ZW50LCBhbmQgeW91IGNhbiBtb25pdG9yIHRoaXMgYnlcbiAqIHJlZ2lzdGVyaW5nIGEgbGlzdGVuZXIuIEZvciBleGFtcGxlLCB7QGxpbmsgbW9kdWxlOm9sL1ZpZXd+Vmlld30gaGFzIGFcbiAqIGBjZW50ZXJgIHByb3BlcnR5LCBzbyBgdmlldy5vbignY2hhbmdlOmNlbnRlcicsIGZ1bmN0aW9uKGV2dCkgey4uLn0pO2Agd291bGRcbiAqIGNhbGwgdGhlIGZ1bmN0aW9uIHdoZW5ldmVyIHRoZSB2YWx1ZSBvZiB0aGUgY2VudGVyIHByb3BlcnR5IGNoYW5nZXMuIFdpdGhpblxuICogdGhlIGZ1bmN0aW9uLCBgZXZ0LnRhcmdldGAgd291bGQgYmUgdGhlIHZpZXcsIHNvIGBldnQudGFyZ2V0LmdldENlbnRlcigpYFxuICogd291bGQgcmV0dXJuIHRoZSBuZXcgY2VudGVyLlxuICpcbiAqIFlvdSBjYW4gYWRkIHlvdXIgb3duIG9ic2VydmFibGUgcHJvcGVydGllcyB3aXRoXG4gKiBgb2JqZWN0LnNldCgncHJvcCcsICd2YWx1ZScpYCwgYW5kIHJldHJpZXZlIHRoYXQgd2l0aCBgb2JqZWN0LmdldCgncHJvcCcpYC5cbiAqIFlvdSBjYW4gbGlzdGVuIGZvciBjaGFuZ2VzIG9uIHRoYXQgcHJvcGVydHkgdmFsdWUgd2l0aFxuICogYG9iamVjdC5vbignY2hhbmdlOnByb3AnLCBsaXN0ZW5lcilgLiBZb3UgY2FuIGdldCBhIGxpc3Qgb2YgYWxsXG4gKiBwcm9wZXJ0aWVzIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdCNnZXRQcm9wZXJ0aWVzfS5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIG9ic2VydmFibGUgcHJvcGVydGllcyBhcmUgc2VwYXJhdGUgZnJvbSBzdGFuZGFyZCBKUyBwcm9wZXJ0aWVzLlxuICogWW91IGNhbiwgZm9yIGV4YW1wbGUsIGdpdmUgeW91ciBtYXAgb2JqZWN0IGEgdGl0bGUgd2l0aFxuICogYG1hcC50aXRsZT0nTmV3IHRpdGxlJ2AgYW5kIHdpdGggYG1hcC5zZXQoJ3RpdGxlJywgJ0Fub3RoZXIgdGl0bGUnKWAuIFRoZVxuICogZmlyc3Qgd2lsbCBiZSBhIGBoYXNPd25Qcm9wZXJ0eWA7IHRoZSBzZWNvbmQgd2lsbCBhcHBlYXIgaW5cbiAqIGBnZXRQcm9wZXJ0aWVzKClgLiBPbmx5IHRoZSBzZWNvbmQgaXMgb2JzZXJ2YWJsZS5cbiAqXG4gKiBQcm9wZXJ0aWVzIGNhbiBiZSBkZWxldGVkIGJ5IHVzaW5nIHRoZSB1bnNldCBtZXRob2QuIEUuZy5cbiAqIG9iamVjdC51bnNldCgnZm9vJykuXG4gKlxuICogQGZpcmVzIE9iamVjdEV2ZW50XG4gKiBAYXBpXG4gKi9cbmNsYXNzIEJhc2VPYmplY3QgZXh0ZW5kcyBPYnNlcnZhYmxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgKj59IFt2YWx1ZXNdIEFuIG9iamVjdCB3aXRoIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHZhbHVlcykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge09iamVjdE9uU2lnbmF0dXJlPGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0T25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uY2U7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge09iamVjdE9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICAvLyBDYWxsIHtAbGluayBtb2R1bGU6b2wvdXRpbC5nZXRVaWR9IHRvIGVuc3VyZSB0aGF0IHRoZSBvcmRlciBvZiBvYmplY3RzJyBpZHMgaXNcbiAgICAvLyB0aGUgc2FtZSBhcyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSB3ZXJlIGNyZWF0ZWQuICBUaGlzIGFsc28gaGVscHMgdG9cbiAgICAvLyBlbnN1cmUgdGhhdCBvYmplY3QgcHJvcGVydGllcyBhcmUgYWx3YXlzIGFkZGVkIGluIHRoZSBzYW1lIG9yZGVyLCB3aGljaFxuICAgIC8vIGhlbHBzIG1hbnkgSmF2YVNjcmlwdCBlbmdpbmVzIGdlbmVyYXRlIGZhc3RlciBjb2RlLlxuICAgIGdldFVpZCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fVxuICAgICAqL1xuICAgIHRoaXMudmFsdWVzXyA9IG51bGw7XG5cbiAgICBpZiAodmFsdWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0UHJvcGVydGllcyh2YWx1ZXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgdmFsdWUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gICAqIEByZXR1cm4geyp9IFZhbHVlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXQoa2V5KSB7XG4gICAgbGV0IHZhbHVlO1xuICAgIGlmICh0aGlzLnZhbHVlc18gJiYgdGhpcy52YWx1ZXNfLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHZhbHVlID0gdGhpcy52YWx1ZXNfW2tleV07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBsaXN0IG9mIG9iamVjdCBwcm9wZXJ0eSBuYW1lcy5cbiAgICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn0gTGlzdCBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0S2V5cygpIHtcbiAgICByZXR1cm4gKHRoaXMudmFsdWVzXyAmJiBPYmplY3Qua2V5cyh0aGlzLnZhbHVlc18pKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYW4gb2JqZWN0IG9mIGFsbCBwcm9wZXJ0eSBuYW1lcyBhbmQgdmFsdWVzLlxuICAgKiBAcmV0dXJuIHtPYmplY3Q8c3RyaW5nLCAqPn0gT2JqZWN0LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRQcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiAodGhpcy52YWx1ZXNfICYmIE9iamVjdC5hc3NpZ24oe30sIHRoaXMudmFsdWVzXykpIHx8IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBvYmplY3QgaGFzIHByb3BlcnRpZXMuXG4gICAqL1xuICBoYXNQcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiAhIXRoaXMudmFsdWVzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgKiBAcGFyYW0geyp9IG9sZFZhbHVlIE9sZCB2YWx1ZS5cbiAgICovXG4gIG5vdGlmeShrZXksIG9sZFZhbHVlKSB7XG4gICAgbGV0IGV2ZW50VHlwZTtcbiAgICBldmVudFR5cGUgPSBgY2hhbmdlOiR7a2V5fWA7XG4gICAgaWYgKHRoaXMuaGFzTGlzdGVuZXIoZXZlbnRUeXBlKSkge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBPYmplY3RFdmVudChldmVudFR5cGUsIGtleSwgb2xkVmFsdWUpKTtcbiAgICB9XG4gICAgZXZlbnRUeXBlID0gT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFO1xuICAgIGlmICh0aGlzLmhhc0xpc3RlbmVyKGV2ZW50VHlwZSkpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgT2JqZWN0RXZlbnQoZXZlbnRUeXBlLCBrZXksIG9sZFZhbHVlKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuTGlzdGVuZXJ9IGxpc3RlbmVyIExpc3RlbmVyLlxuICAgKi9cbiAgYWRkQ2hhbmdlTGlzdGVuZXIoa2V5LCBsaXN0ZW5lcikge1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlOiR7a2V5fWAsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyfSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAgICovXG4gIHJlbW92ZUNoYW5nZUxpc3RlbmVyKGtleSwgbGlzdGVuZXIpIHtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoYGNoYW5nZToke2tleX1gLCBsaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhIHZhbHVlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzaWxlbnRdIFVwZGF0ZSB3aXRob3V0IHRyaWdnZXJpbmcgYW4gZXZlbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldChrZXksIHZhbHVlLCBzaWxlbnQpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLnZhbHVlc18gfHwgKHRoaXMudmFsdWVzXyA9IHt9KTtcbiAgICBpZiAoc2lsZW50KSB7XG4gICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IHZhbHVlc1trZXldO1xuICAgICAgdmFsdWVzW2tleV0gPSB2YWx1ZTtcbiAgICAgIGlmIChvbGRWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgdGhpcy5ub3RpZnkoa2V5LCBvbGRWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYSBjb2xsZWN0aW9uIG9mIGtleS12YWx1ZSBwYWlycy4gIE5vdGUgdGhhdCB0aGlzIGNoYW5nZXMgYW55IGV4aXN0aW5nXG4gICAqIHByb3BlcnRpZXMgYW5kIGFkZHMgbmV3IG9uZXMgKGl0IGRvZXMgbm90IHJlbW92ZSBhbnkgZXhpc3RpbmcgcHJvcGVydGllcykuXG4gICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgKj59IHZhbHVlcyBWYWx1ZXMuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NpbGVudF0gVXBkYXRlIHdpdGhvdXQgdHJpZ2dlcmluZyBhbiBldmVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0UHJvcGVydGllcyh2YWx1ZXMsIHNpbGVudCkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlcykge1xuICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZXNba2V5XSwgc2lsZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYW55IHByb3BlcnRpZXMgZnJvbSBhbm90aGVyIG9iamVjdCB3aXRob3V0IHRyaWdnZXJpbmcgZXZlbnRzLlxuICAgKiBAcGFyYW0ge0Jhc2VPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgYXBwbHlQcm9wZXJ0aWVzKHNvdXJjZSkge1xuICAgIGlmICghc291cmNlLnZhbHVlc18pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLnZhbHVlc18gfHwgKHRoaXMudmFsdWVzXyA9IHt9KSwgc291cmNlLnZhbHVlc18pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuc2V0cyBhIHByb3BlcnR5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzaWxlbnRdIFVuc2V0IHdpdGhvdXQgdHJpZ2dlcmluZyBhbiBldmVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgdW5zZXQoa2V5LCBzaWxlbnQpIHtcbiAgICBpZiAodGhpcy52YWx1ZXNfICYmIGtleSBpbiB0aGlzLnZhbHVlc18pIHtcbiAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy52YWx1ZXNfW2tleV07XG4gICAgICBkZWxldGUgdGhpcy52YWx1ZXNfW2tleV07XG4gICAgICBpZiAoaXNFbXB0eSh0aGlzLnZhbHVlc18pKSB7XG4gICAgICAgIHRoaXMudmFsdWVzXyA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoIXNpbGVudCkge1xuICAgICAgICB0aGlzLm5vdGlmeShrZXksIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFzZU9iamVjdDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9PYmplY3RFdmVudFR5cGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgcHJvcGVydHkgaXMgY2hhbmdlZC5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9PYmplY3QuT2JqZWN0RXZlbnQjcHJvcGVydHljaGFuZ2VcbiAgICogQGFwaVxuICAgKi9cbiAgUFJPUEVSVFlDSEFOR0U6ICdwcm9wZXJ0eWNoYW5nZScsXG59O1xuXG4vKipcbiAqIEB0eXBlZGVmIHsncHJvcGVydHljaGFuZ2UnfSBUeXBlc1xuICovXG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvT2JzZXJ2YWJsZVxuICovXG5pbXBvcnQgRXZlbnRUYXJnZXQgZnJvbSAnLi9ldmVudHMvVGFyZ2V0LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7bGlzdGVuLCBsaXN0ZW5PbmNlLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSB7c3RyaW5nfSBUeXBlXG4gKiBAdGVtcGxhdGUge0V2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IEV2ZW50Q2xhc3NcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHsodHlwZTogVHlwZSwgbGlzdGVuZXI6IChldmVudDogRXZlbnRDbGFzcykgPT4gPykgPT4gUmV0dXJufSBPblNpZ25hdHVyZVxuICovXG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSB7c3RyaW5nfSBUeXBlXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7KHR5cGU6IFR5cGVbXSwgbGlzdGVuZXI6IChldmVudDogRXZlbnR8aW1wb3J0KFwiLi9ldmVudHMvRXZlbnRcIikuZGVmYXVsdCkgPT4gPykgPT4gUmV0dXJuIGV4dGVuZHMgdm9pZCA/IHZvaWQgOiBSZXR1cm5bXX0gQ29tYmluZWRPblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeydjaGFuZ2UnfCdlcnJvcid9IEV2ZW50VHlwZXNcbiAqL1xuXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7T25TaWduYXR1cmU8RXZlbnRUeXBlcywgaW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmIENvbWJpbmVkT25TaWduYXR1cmU8RXZlbnRUeXBlcywgUmV0dXJuPn0gT2JzZXJ2YWJsZU9uU2lnbmF0dXJlXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBBbiBldmVudCB0YXJnZXQgcHJvdmlkaW5nIGNvbnZlbmllbnQgbWV0aG9kcyBmb3IgbGlzdGVuZXIgcmVnaXN0cmF0aW9uXG4gKiBhbmQgdW5yZWdpc3RyYXRpb24uIEEgZ2VuZXJpYyBgY2hhbmdlYCBldmVudCBpcyBhbHdheXMgYXZhaWxhYmxlIHRocm91Z2hcbiAqIHtAbGluayBtb2R1bGU6b2wvT2JzZXJ2YWJsZX5PYnNlcnZhYmxlI2NoYW5nZWR9LlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0XG4gKiBAYXBpXG4gKi9cbmNsYXNzIE9ic2VydmFibGUgZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLm9uID1cbiAgICAgIC8qKiBAdHlwZSB7T2JzZXJ2YWJsZU9uU2lnbmF0dXJlPGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59ICovIChcbiAgICAgICAgdGhpcy5vbkludGVybmFsXG4gICAgICApO1xuXG4gICAgdGhpcy5vbmNlID1cbiAgICAgIC8qKiBAdHlwZSB7T2JzZXJ2YWJsZU9uU2lnbmF0dXJlPGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59ICovIChcbiAgICAgICAgdGhpcy5vbmNlSW50ZXJuYWxcbiAgICAgICk7XG5cbiAgICB0aGlzLnVuID0gLyoqIEB0eXBlIHtPYnNlcnZhYmxlT25TaWduYXR1cmU8dm9pZD59ICovICh0aGlzLnVuSW50ZXJuYWwpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmV2aXNpb25fID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmNyZWFzZXMgdGhlIHJldmlzaW9uIGNvdW50ZXIgYW5kIGRpc3BhdGNoZXMgYSAnY2hhbmdlJyBldmVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgY2hhbmdlZCgpIHtcbiAgICArK3RoaXMucmV2aXNpb25fO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuQ0hBTkdFKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZlcnNpb24gbnVtYmVyIGZvciB0aGlzIG9iamVjdC4gIEVhY2ggdGltZSB0aGUgb2JqZWN0IGlzIG1vZGlmaWVkLFxuICAgKiBpdHMgdmVyc2lvbiBudW1iZXIgd2lsbCBiZSBpbmNyZW1lbnRlZC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBSZXZpc2lvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UmV2aXNpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucmV2aXNpb25fO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IHR5cGUgVHlwZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbigoRXZlbnR8aW1wb3J0KFwiLi9ldmVudHMvRXZlbnRcIikuZGVmYXVsdCkpOiA/fSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fEFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59IEV2ZW50IGtleS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgb25JbnRlcm5hbCh0eXBlLCBsaXN0ZW5lcikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICBjb25zdCBsZW4gPSB0eXBlLmxlbmd0aDtcbiAgICAgIGNvbnN0IGtleXMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAga2V5c1tpXSA9IGxpc3Rlbih0aGlzLCB0eXBlW2ldLCBsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5cztcbiAgICB9XG4gICAgcmV0dXJuIGxpc3Rlbih0aGlzLCAvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpLCBsaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUeXBlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIExpc3RlbmVyLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl8QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn0gRXZlbnQga2V5LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBvbmNlSW50ZXJuYWwodHlwZSwgbGlzdGVuZXIpIHtcbiAgICBsZXQga2V5O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICBjb25zdCBsZW4gPSB0eXBlLmxlbmd0aDtcbiAgICAgIGtleSA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBrZXlbaV0gPSBsaXN0ZW5PbmNlKHRoaXMsIHR5cGVbaV0sIGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAga2V5ID0gbGlzdGVuT25jZSh0aGlzLCAvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpLCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqLyAobGlzdGVuZXIpLm9sX2tleSA9IGtleTtcbiAgICByZXR1cm4ga2V5O1xuICB9XG5cbiAgLyoqXG4gICAqIFVubGlzdGVuIGZvciBhIGNlcnRhaW4gdHlwZSBvZiBldmVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUeXBlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIExpc3RlbmVyLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICB1bkludGVybmFsKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgY29uc3Qga2V5ID0gLyoqIEB0eXBlIHtPYmplY3R9ICovIChsaXN0ZW5lcikub2xfa2V5O1xuICAgIGlmIChrZXkpIHtcbiAgICAgIHVuQnlLZXkoa2V5KTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHR5cGUubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZVtpXSwgbGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIExpc3RlbiBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IHR5cGUgVGhlIGV2ZW50IHR5cGUgb3IgYXJyYXkgb2YgZXZlbnQgdHlwZXMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBVbmlxdWUga2V5IGZvciB0aGUgbGlzdGVuZXIuIElmXG4gKiAgICAgY2FsbGVkIHdpdGggYW4gYXJyYXkgb2YgZXZlbnQgdHlwZXMgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgcmV0dXJuXG4gKiAgICAgd2lsbCBiZSBhbiBhcnJheSBvZiBrZXlzLlxuICogQGFwaVxuICovXG5PYnNlcnZhYmxlLnByb3RvdHlwZS5vbjtcblxuLyoqXG4gKiBMaXN0ZW4gb25jZSBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IHR5cGUgVGhlIGV2ZW50IHR5cGUgb3IgYXJyYXkgb2YgZXZlbnQgdHlwZXMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBVbmlxdWUga2V5IGZvciB0aGUgbGlzdGVuZXIuIElmXG4gKiAgICAgY2FsbGVkIHdpdGggYW4gYXJyYXkgb2YgZXZlbnQgdHlwZXMgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgcmV0dXJuXG4gKiAgICAgd2lsbCBiZSBhbiBhcnJheSBvZiBrZXlzLlxuICogQGFwaVxuICovXG5PYnNlcnZhYmxlLnByb3RvdHlwZS5vbmNlO1xuXG4vKipcbiAqIFVubGlzdGVuIGZvciBhIGNlcnRhaW4gdHlwZSBvZiBldmVudC5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUaGUgZXZlbnQgdHlwZSBvciBhcnJheSBvZiBldmVudCB0eXBlcy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50XCIpLmRlZmF1bHQpKTogP30gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQGFwaVxuICovXG5PYnNlcnZhYmxlLnByb3RvdHlwZS51bjtcblxuLyoqXG4gKiBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIHVzaW5nIHRoZSBrZXkgcmV0dXJuZWQgYnkgYG9uKClgIG9yIGBvbmNlKClgLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl8QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn0ga2V5IFRoZSBrZXkgcmV0dXJuZWQgYnkgYG9uKClgXG4gKiAgICAgb3IgYG9uY2UoKWAgKG9yIGFuIGFycmF5IG9mIGtleXMpLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5CeUtleShrZXkpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGtleS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KGtleVtpXSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHVubGlzdGVuQnlLZXkoLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9ICovIChrZXkpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBPYnNlcnZhYmxlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1RpbGVcbiAqL1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7YWJzdHJhY3R9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQge2Vhc2VJbn0gZnJvbSAnLi9lYXNpbmcuanMnO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL1RpbGV+VGlsZX0gZm9yIHRoZSB0aWxlIGFuZCBhXG4gKiBge3N0cmluZ31gIGZvciB0aGUgdXJsIGFzIGFyZ3VtZW50cy4gVGhlIGRlZmF1bHQgaXNcbiAqIGBgYGpzXG4gKiBzb3VyY2Uuc2V0VGlsZUxvYWRGdW5jdGlvbihmdW5jdGlvbih0aWxlLCBzcmMpIHtcbiAqICAgdGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH0pO1xuICogYGBgXG4gKiBGb3IgbW9yZSBmaW5lIGdyYWluZWQgY29udHJvbCwgdGhlIGxvYWQgZnVuY3Rpb24gY2FuIHVzZSBmZXRjaCBvciBYTUxIdHRwUmVxdWVzdCBhbmQgaW52b2x2ZVxuICogZXJyb3IgaGFuZGxpbmc6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCBUaWxlU3RhdGUgZnJvbSAnb2wvVGlsZVN0YXRlLmpzJztcbiAqXG4gKiBzb3VyY2Uuc2V0VGlsZUxvYWRGdW5jdGlvbihmdW5jdGlvbih0aWxlLCBzcmMpIHtcbiAqICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gKiAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYic7XG4gKiAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkZW5kJywgZnVuY3Rpb24gKGV2dCkge1xuICogICAgIGNvbnN0IGRhdGEgPSB0aGlzLnJlc3BvbnNlO1xuICogICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAqICAgICAgIHRpbGUuZ2V0SW1hZ2UoKS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGRhdGEpO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICB0aWxlLnNldFN0YXRlKFRpbGVTdGF0ZS5FUlJPUik7XG4gKiAgICAgfVxuICogICB9KTtcbiAqICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xuICogICAgIHRpbGUuc2V0U3RhdGUoVGlsZVN0YXRlLkVSUk9SKTtcbiAqICAgfSk7XG4gKiAgIHhoci5vcGVuKCdHRVQnLCBzcmMpO1xuICogICB4aHIuc2VuZCgpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oVGlsZSwgc3RyaW5nKTogdm9pZH0gTG9hZEZ1bmN0aW9uXG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9UaWxlflRpbGVTb3VyY2V9IHNvdXJjZXMgdXNlIGEgZnVuY3Rpb24gb2YgdGhpcyB0eXBlIHRvIGdldFxuICogdGhlIHVybCB0aGF0IHByb3ZpZGVzIGEgdGlsZSBmb3IgYSBnaXZlbiB0aWxlIGNvb3JkaW5hdGUuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL3RpbGVjb29yZH5UaWxlQ29vcmR9IGZvciB0aGUgdGlsZVxuICogY29vcmRpbmF0ZSwgYSBge251bWJlcn1gIHJlcHJlc2VudGluZyB0aGUgcGl4ZWwgcmF0aW8gYW5kIGFcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IGZvciB0aGUgcHJvamVjdGlvbiAgYXMgYXJndW1lbnRzXG4gKiBhbmQgcmV0dXJucyBhIGB7c3RyaW5nfWAgcmVwcmVzZW50aW5nIHRoZSB0aWxlIFVSTCwgb3IgdW5kZWZpbmVkIGlmIG5vIHRpbGVcbiAqIHNob3VsZCBiZSByZXF1ZXN0ZWQgZm9yIHRoZSBwYXNzZWQgdGlsZSBjb29yZGluYXRlLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQsIG51bWJlcixcbiAqICAgICAgICAgICBpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0KTogKHN0cmluZ3x1bmRlZmluZWQpfSBVcmxGdW5jdGlvblxuICogQGFwaVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uPTI1MF0gQSBkdXJhdGlvbiBmb3IgdGlsZSBvcGFjaXR5XG4gKiB0cmFuc2l0aW9ucyBpbiBtaWxsaXNlY29uZHMuIEEgZHVyYXRpb24gb2YgMCBkaXNhYmxlcyB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW50ZXJwb2xhdGU9ZmFsc2VdIFVzZSBpbnRlcnBvbGF0ZWQgdmFsdWVzIHdoZW4gcmVzYW1wbGluZy4gIEJ5IGRlZmF1bHQsXG4gKiB0aGUgbmVhcmVzdCBuZWlnaGJvciBpcyB1c2VkIHdoZW4gcmVzYW1wbGluZy5cbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEJhc2UgY2xhc3MgZm9yIHRpbGVzLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBUaWxlIGV4dGVuZHMgRXZlbnRUYXJnZXQge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH0gc3RhdGUgU3RhdGUuXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIFRpbGUgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRpbGVDb29yZCwgc3RhdGUsIG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfVxuICAgICAqL1xuICAgIHRoaXMudGlsZUNvb3JkID0gdGlsZUNvb3JkO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcblxuICAgIC8qKlxuICAgICAqIEFuIFwiaW50ZXJpbVwiIHRpbGUgZm9yIHRoaXMgdGlsZS4gVGhlIGludGVyaW0gdGlsZSBtYXkgYmUgdXNlZCB3aGlsZSB0aGlzXG4gICAgICogb25lIGlzIGxvYWRpbmcsIGZvciBcInNtb290aFwiIHRyYW5zaXRpb25zIHdoZW4gY2hhbmdpbmcgcGFyYW1zL2RpbWVuc2lvbnNcbiAgICAgKiBvbiB0aGUgc291cmNlLlxuICAgICAqIEB0eXBlIHtUaWxlfVxuICAgICAqL1xuICAgIHRoaXMuaW50ZXJpbVRpbGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBrZXkgYXNzaWduZWQgdG8gdGhlIHRpbGUuIFRoaXMgaXMgdXNlZCBieSB0aGUgdGlsZSBzb3VyY2UgdG8gZGV0ZXJtaW5lXG4gICAgICogaWYgdGhpcyB0aWxlIGNhbiBlZmZlY3RpdmVseSBiZSB1c2VkLCBvciBpZiBhIG5ldyB0aWxlIHNob3VsZCBiZSBjcmVhdGVkXG4gICAgICogYW5kIHRoaXMgb25lIGJlIHVzZWQgYXMgYW4gaW50ZXJpbSB0aWxlIGZvciB0aGlzIG5ldyB0aWxlLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5rZXkgPSAnJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBkdXJhdGlvbiBmb3IgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbi5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudHJhbnNpdGlvbl8gPVxuICAgICAgb3B0aW9ucy50cmFuc2l0aW9uID09PSB1bmRlZmluZWQgPyAyNTAgOiBvcHRpb25zLnRyYW5zaXRpb247XG5cbiAgICAvKipcbiAgICAgKiBMb29rdXAgb2Ygc3RhcnQgdGltZXMgZm9yIHJlbmRlcmluZyB0cmFuc2l0aW9ucy4gIElmIHRoZSBzdGFydCB0aW1lIGlzXG4gICAgICogZXF1YWwgdG8gLTEsIHRoZSB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlLlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMudHJhbnNpdGlvblN0YXJ0c18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaW50ZXJwb2xhdGUgPSAhIW9wdGlvbnMuaW50ZXJwb2xhdGU7XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgY2hhbmdlZCgpIHtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlLkNIQU5HRSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGJ5IHRoZSB0aWxlIGNhY2hlIHdoZW4gdGhlIHRpbGUgaXMgcmVtb3ZlZCBmcm9tIHRoZSBjYWNoZSBkdWUgdG8gZXhwaXJ5XG4gICAqL1xuICByZWxlYXNlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09PSBUaWxlU3RhdGUuRVJST1IpIHtcbiAgICAgIC8vIHRvIHJlbW92ZSB0aGUgYGNoYW5nZWAgbGlzdGVuZXIgb24gdGhpcyB0aWxlIGluIGBvbC9UaWxlUXVldWUjaGFuZGxlVGlsZUNoYW5nZWBcbiAgICAgIHRoaXMuc2V0U3RhdGUoVGlsZVN0YXRlLkVNUFRZKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfSBLZXkuXG4gICAqL1xuICBnZXRLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMua2V5ICsgJy8nICsgdGhpcy50aWxlQ29vcmQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBpbnRlcmltIHRpbGUgbW9zdCBzdWl0YWJsZSBmb3IgcmVuZGVyaW5nIHVzaW5nIHRoZSBjaGFpbiBvZiBpbnRlcmltXG4gICAqIHRpbGVzLiBUaGlzIGNvcnJlc3BvbmRzIHRvIHRoZSAgbW9zdCByZWNlbnQgdGlsZSB0aGF0IGhhcyBiZWVuIGxvYWRlZCwgaWYgbm9cbiAgICogc3VjaCB0aWxlIGV4aXN0cywgdGhlIG9yaWdpbmFsIHRpbGUgaXMgcmV0dXJuZWQuXG4gICAqIEByZXR1cm4geyFUaWxlfSBCZXN0IHRpbGUgZm9yIHJlbmRlcmluZy5cbiAgICovXG4gIGdldEludGVyaW1UaWxlKCkge1xuICAgIGlmICghdGhpcy5pbnRlcmltVGlsZSkge1xuICAgICAgLy9lbXB0eSBjaGFpblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGxldCB0aWxlID0gdGhpcy5pbnRlcmltVGlsZTtcblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGxvYWRlZCB0aWxlIGFuZCByZXR1cm4gaXQuIFNpbmNlIHRoZSBjaGFpbiBpcyBzb3J0ZWQgaW5cbiAgICAvLyBkZWNyZWFzaW5nIG9yZGVyIG9mIGNyZWF0aW9uIHRpbWUsIHRoZXJlIGlzIG5vIG5lZWQgdG8gc2VhcmNoIHRoZSByZW1haW5kZXJcbiAgICAvLyBvZiB0aGUgbGlzdCAoYWxsIHRob3NlIHRpbGVzIGNvcnJlc3BvbmQgdG8gb2xkZXIgcmVxdWVzdHMgYW5kIHdpbGwgYmVcbiAgICAvLyBjbGVhbmVkIHVwIGJ5IHJlZnJlc2hJbnRlcmltQ2hhaW4pXG4gICAgZG8ge1xuICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgIC8vIFNob3cgdGlsZSBpbW1lZGlhdGVseSBpbnN0ZWFkIG9mIGZhZGluZyBpdCBpbiBhZnRlciBsb2FkaW5nLCBiZWNhdXNlXG4gICAgICAgIC8vIHRoZSBpbnRlcmltIHRpbGUgaXMgaW4gcGxhY2UgYWxyZWFkeVxuICAgICAgICB0aGlzLnRyYW5zaXRpb25fID0gMDtcbiAgICAgICAgcmV0dXJuIHRpbGU7XG4gICAgICB9XG4gICAgICB0aWxlID0gdGlsZS5pbnRlcmltVGlsZTtcbiAgICB9IHdoaWxlICh0aWxlKTtcblxuICAgIC8vIHdlIGNhbiBub3QgZmluZCBhIGJldHRlciB0aWxlXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogR29lcyB0aHJvdWdoIHRoZSBjaGFpbiBvZiBpbnRlcmltIHRpbGVzIGFuZCBkaXNjYXJkcyBzZWN0aW9ucyBvZiB0aGUgY2hhaW5cbiAgICogdGhhdCBhcmUgbm8gbG9uZ2VyIHJlbGV2YW50LlxuICAgKi9cbiAgcmVmcmVzaEludGVyaW1DaGFpbigpIHtcbiAgICBpZiAoIXRoaXMuaW50ZXJpbVRpbGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgdGlsZSA9IHRoaXMuaW50ZXJpbVRpbGU7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VGlsZX1cbiAgICAgKi9cbiAgICBsZXQgcHJldiA9IHRoaXM7XG5cbiAgICBkbyB7XG4gICAgICBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgLy93ZSBoYXZlIGEgbG9hZGVkIHRpbGUsIHdlIGNhbiBkaXNjYXJkIHRoZSByZXN0IG9mIHRoZSBsaXN0XG4gICAgICAgIC8vd2Ugd291bGQgY291bGQgYWJvcnQgYW55IExPQURJTkcgdGlsZSByZXF1ZXN0XG4gICAgICAgIC8vb2xkZXIgdGhhbiB0aGlzIHRpbGUgKGkuZS4gYW55IExPQURJTkcgdGlsZSBmb2xsb3dpbmcgdGhpcyBlbnRyeSBpbiB0aGUgY2hhaW4pXG4gICAgICAgIHRpbGUuaW50ZXJpbVRpbGUgPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FESU5HKSB7XG4gICAgICAgIC8va2VlcCB0aGlzIExPQURJTkcgdGlsZSBhbnkgbG9hZGVkIHRpbGVzIGxhdGVyIGluIHRoZSBjaGFpbiBhcmVcbiAgICAgICAgLy9vbGRlciB0aGFuIHRoaXMgdGlsZSwgc28gd2UncmUgc3RpbGwgaW50ZXJlc3RlZCBpbiB0aGUgcmVxdWVzdFxuICAgICAgICBwcmV2ID0gdGlsZTtcbiAgICAgIH0gZWxzZSBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgIC8vdGhlIGhlYWQgb2YgdGhlIGxpc3QgaXMgdGhlIG1vc3QgY3VycmVudCB0aWxlLCB3ZSBkb24ndCBuZWVkXG4gICAgICAgIC8vdG8gc3RhcnQgYW55IG90aGVyIHJlcXVlc3RzIGZvciB0aGlzIGNoYWluXG4gICAgICAgIHByZXYuaW50ZXJpbVRpbGUgPSB0aWxlLmludGVyaW1UaWxlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldiA9IHRpbGU7XG4gICAgICB9XG4gICAgICB0aWxlID0gcHJldi5pbnRlcmltVGlsZTtcbiAgICB9IHdoaWxlICh0aWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRpbGUgY29vcmRpbmF0ZSBmb3IgdGhpcyB0aWxlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRoZSB0aWxlIGNvb3JkaW5hdGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRpbGVDb29yZCgpIHtcbiAgICByZXR1cm4gdGhpcy50aWxlQ29vcmQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH0gU3RhdGUuXG4gICAqL1xuICBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzdGF0ZSBvZiB0aGlzIHRpbGUuIElmIHlvdSB3cml0ZSB5b3VyIG93biB7QGxpbmsgbW9kdWxlOm9sL1RpbGV+TG9hZEZ1bmN0aW9uIHRpbGVMb2FkRnVuY3Rpb259ICxcbiAgICogaXQgaXMgaW1wb3J0YW50IHRvIHNldCB0aGUgc3RhdGUgY29ycmVjdGx5IHRvIHtAbGluayBtb2R1bGU6b2wvVGlsZVN0YXRlfkVSUk9SfVxuICAgKiB3aGVuIHRoZSB0aWxlIGNhbm5vdCBiZSBsb2FkZWQuIE90aGVyd2lzZSB0aGUgdGlsZSBjYW5ub3QgYmUgcmVtb3ZlZCBmcm9tXG4gICAqIHRoZSB0aWxlIHF1ZXVlIGFuZCB3aWxsIGJsb2NrIG90aGVyIHJlcXVlc3RzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZVN0YXRlLmpzXCIpLmRlZmF1bHR9IHN0YXRlIFN0YXRlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRTdGF0ZShzdGF0ZSkge1xuICAgIGlmICh0aGlzLnN0YXRlICE9PSBUaWxlU3RhdGUuRVJST1IgJiYgdGhpcy5zdGF0ZSA+IHN0YXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RpbGUgbG9hZCBzZXF1ZW5jZSB2aW9sYXRpb24nKTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgdGhlIGltYWdlIG9yIHJldHJ5IGlmIGxvYWRpbmcgcHJldmlvdXNseSBmYWlsZWQuXG4gICAqIExvYWRpbmcgaXMgdGFrZW4gY2FyZSBvZiBieSB0aGUgdGlsZSBxdWV1ZSwgYW5kIGNhbGxpbmcgdGhpcyBtZXRob2QgaXNcbiAgICogb25seSBuZWVkZWQgZm9yIHByZWxvYWRpbmcgb3IgZm9yIHJlbG9hZGluZyBpbiBjYXNlIG9mIGFuIGVycm9yLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQGFwaVxuICAgKi9cbiAgbG9hZCgpIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYWxwaGEgdmFsdWUgZm9yIHJlbmRlcmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIEFuIGlkIGZvciB0aGUgcmVuZGVyZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIFRoZSByZW5kZXIgZnJhbWUgdGltZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuXG4gICAqL1xuICBnZXRBbHBoYShpZCwgdGltZSkge1xuICAgIGlmICghdGhpcy50cmFuc2l0aW9uXykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgbGV0IHN0YXJ0ID0gdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF07XG4gICAgaWYgKCFzdGFydCkge1xuICAgICAgc3RhcnQgPSB0aW1lO1xuICAgICAgdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF0gPSBzdGFydDtcbiAgICB9IGVsc2UgaWYgKHN0YXJ0ID09PSAtMSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgY29uc3QgZGVsdGEgPSB0aW1lIC0gc3RhcnQgKyAxMDAwIC8gNjA7IC8vIGF2b2lkIHJlbmRlcmluZyBhdCAwXG4gICAgaWYgKGRlbHRhID49IHRoaXMudHJhbnNpdGlvbl8pIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gZWFzZUluKGRlbHRhIC8gdGhpcy50cmFuc2l0aW9uXyk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIGlmIGEgdGlsZSBpcyBpbiBhbiBhbHBoYSB0cmFuc2l0aW9uLiAgQSB0aWxlIGlzIGNvbnNpZGVyZWQgaW5cbiAgICogdHJhbnNpdGlvbiBpZiB0aWxlLmdldEFscGhhKCkgaGFzIG5vdCB5ZXQgYmVlbiBjYWxsZWQgb3IgaGFzIGJlZW4gY2FsbGVkXG4gICAqIGFuZCByZXR1cm5lZCAxLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgQW4gaWQgZm9yIHRoZSByZW5kZXJlci5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHRpbGUgaXMgaW4gdHJhbnNpdGlvbi5cbiAgICovXG4gIGluVHJhbnNpdGlvbihpZCkge1xuICAgIGlmICghdGhpcy50cmFuc2l0aW9uXykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF0gIT09IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmsgYSB0cmFuc2l0aW9uIGFzIGNvbXBsZXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgQW4gaWQgZm9yIHRoZSByZW5kZXJlci5cbiAgICovXG4gIGVuZFRyYW5zaXRpb24oaWQpIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uXykge1xuICAgICAgdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF0gPSAtMTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGlsZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHJ1Y3RzL0xSVUNhY2hlXG4gKi9cblxuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEVudHJ5XG4gKiBAcHJvcGVydHkge3N0cmluZ30ga2V5XyBLZXkuXG4gKiBAcHJvcGVydHkge09iamVjdH0gbmV3ZXIgTmV3ZXIuXG4gKiBAcHJvcGVydHkge09iamVjdH0gb2xkZXIgT2xkZXIuXG4gKiBAcHJvcGVydHkgeyp9IHZhbHVlXyBWYWx1ZS5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEltcGxlbWVudHMgYSBMZWFzdC1SZWNlbnRseS1Vc2VkIGNhY2hlIHdoZXJlIHRoZSBrZXlzIGRvIG5vdCBjb25mbGljdCB3aXRoXG4gKiBPYmplY3QncyBwcm9wZXJ0aWVzIChlLmcuICdoYXNPd25Qcm9wZXJ0eScgaXMgbm90IGFsbG93ZWQgYXMgYSBrZXkpLiBFeHBpcmluZ1xuICogaXRlbXMgZnJvbSB0aGUgY2FjaGUgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSB1c2VyLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdFxuICogQHRlbXBsYXRlIFRcbiAqL1xuY2xhc3MgTFJVQ2FjaGUge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtoaWdoV2F0ZXJNYXJrXSBIaWdoIHdhdGVyIG1hcmsuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihoaWdoV2F0ZXJNYXJrKSB7XG4gICAgLyoqXG4gICAgICogRGVzaXJlZCBtYXggY2FjaGUgc2l6ZSBhZnRlciBleHBpcmVDYWNoZSgpLiBJZiBzZXQgdG8gMCwgbm8gY2FjaGUgZW50cmllc1xuICAgICAqIHdpbGwgYmUgcHJ1bmVkIGF0IGFsbC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGlnaFdhdGVyTWFyayA9IGhpZ2hXYXRlck1hcmsgIT09IHVuZGVmaW5lZCA/IGhpZ2hXYXRlck1hcmsgOiAyMDQ4O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuY291bnRfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBFbnRyeT59XG4gICAgICovXG4gICAgdGhpcy5lbnRyaWVzXyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P0VudHJ5fVxuICAgICAqL1xuICAgIHRoaXMub2xkZXN0XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/RW50cnl9XG4gICAgICovXG4gICAgdGhpcy5uZXdlc3RfID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBDYW4gZXhwaXJlIGNhY2hlLlxuICAgKi9cbiAgY2FuRXhwaXJlQ2FjaGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGlnaFdhdGVyTWFyayA+IDAgJiYgdGhpcy5nZXRDb3VudCgpID4gdGhpcy5oaWdoV2F0ZXJNYXJrO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4cGlyZSB0aGUgY2FjaGUuXG4gICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSBba2VlcF0gS2V5cyB0byBrZWVwLiBUbyBiZSBpbXBsZW1lbnRlZCBieSBzdWJjbGFzc2VzLlxuICAgKi9cbiAgZXhwaXJlQ2FjaGUoa2VlcCkge1xuICAgIHdoaWxlICh0aGlzLmNhbkV4cGlyZUNhY2hlKCkpIHtcbiAgICAgIHRoaXMucG9wKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5jb3VudF8gPSAwO1xuICAgIHRoaXMuZW50cmllc18gPSB7fTtcbiAgICB0aGlzLm9sZGVzdF8gPSBudWxsO1xuICAgIHRoaXMubmV3ZXN0XyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zIGtleS5cbiAgICovXG4gIGNvbnRhaW5zS2V5KGtleSkge1xuICAgIHJldHVybiB0aGlzLmVudHJpZXNfLmhhc093blByb3BlcnR5KGtleSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihULCBzdHJpbmcsIExSVUNhY2hlPFQ+KTogP30gZiBUaGUgZnVuY3Rpb25cbiAgICogICAgIHRvIGNhbGwgZm9yIGV2ZXJ5IGVudHJ5IGZyb20gdGhlIG9sZGVzdCB0byB0aGUgbmV3ZXIuIFRoaXMgZnVuY3Rpb24gdGFrZXNcbiAgICogICAgIDMgYXJndW1lbnRzICh0aGUgZW50cnkgdmFsdWUsIHRoZSBlbnRyeSBrZXkgYW5kIHRoZSBMUlVDYWNoZSBvYmplY3QpLlxuICAgKiAgICAgVGhlIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLlxuICAgKi9cbiAgZm9yRWFjaChmKSB7XG4gICAgbGV0IGVudHJ5ID0gdGhpcy5vbGRlc3RfO1xuICAgIHdoaWxlIChlbnRyeSkge1xuICAgICAgZihlbnRyeS52YWx1ZV8sIGVudHJ5LmtleV8sIHRoaXMpO1xuICAgICAgZW50cnkgPSBlbnRyeS5uZXdlcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE9wdGlvbnMgKHJlc2VydmVkIGZvciBzdWJjbGFzc2VzKS5cbiAgICogQHJldHVybiB7VH0gVmFsdWUuXG4gICAqL1xuICBnZXQoa2V5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmVudHJpZXNfW2tleV07XG4gICAgYXNzZXJ0KGVudHJ5ICE9PSB1bmRlZmluZWQsIDE1KTsgLy8gVHJpZWQgdG8gZ2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGNhY2hlXG4gICAgaWYgKGVudHJ5ID09PSB0aGlzLm5ld2VzdF8pIHtcbiAgICAgIHJldHVybiBlbnRyeS52YWx1ZV87XG4gICAgfSBlbHNlIGlmIChlbnRyeSA9PT0gdGhpcy5vbGRlc3RfKSB7XG4gICAgICB0aGlzLm9sZGVzdF8gPSAvKiogQHR5cGUge0VudHJ5fSAqLyAodGhpcy5vbGRlc3RfLm5ld2VyKTtcbiAgICAgIHRoaXMub2xkZXN0Xy5vbGRlciA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVudHJ5Lm5ld2VyLm9sZGVyID0gZW50cnkub2xkZXI7XG4gICAgICBlbnRyeS5vbGRlci5uZXdlciA9IGVudHJ5Lm5ld2VyO1xuICAgIH1cbiAgICBlbnRyeS5uZXdlciA9IG51bGw7XG4gICAgZW50cnkub2xkZXIgPSB0aGlzLm5ld2VzdF87XG4gICAgdGhpcy5uZXdlc3RfLm5ld2VyID0gZW50cnk7XG4gICAgdGhpcy5uZXdlc3RfID0gZW50cnk7XG4gICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gZW50cnkgZnJvbSB0aGUgY2FjaGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGVudHJ5IGtleS5cbiAgICogQHJldHVybiB7VH0gVGhlIHJlbW92ZWQgZW50cnkuXG4gICAqL1xuICByZW1vdmUoa2V5KSB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmVudHJpZXNfW2tleV07XG4gICAgYXNzZXJ0KGVudHJ5ICE9PSB1bmRlZmluZWQsIDE1KTsgLy8gVHJpZWQgdG8gZ2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGNhY2hlXG4gICAgaWYgKGVudHJ5ID09PSB0aGlzLm5ld2VzdF8pIHtcbiAgICAgIHRoaXMubmV3ZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovIChlbnRyeS5vbGRlcik7XG4gICAgICBpZiAodGhpcy5uZXdlc3RfKSB7XG4gICAgICAgIHRoaXMubmV3ZXN0Xy5uZXdlciA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbnRyeSA9PT0gdGhpcy5vbGRlc3RfKSB7XG4gICAgICB0aGlzLm9sZGVzdF8gPSAvKiogQHR5cGUge0VudHJ5fSAqLyAoZW50cnkubmV3ZXIpO1xuICAgICAgaWYgKHRoaXMub2xkZXN0Xykge1xuICAgICAgICB0aGlzLm9sZGVzdF8ub2xkZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlbnRyeS5uZXdlci5vbGRlciA9IGVudHJ5Lm9sZGVyO1xuICAgICAgZW50cnkub2xkZXIubmV3ZXIgPSBlbnRyeS5uZXdlcjtcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMuZW50cmllc19ba2V5XTtcbiAgICAtLXRoaXMuY291bnRfO1xuICAgIHJldHVybiBlbnRyeS52YWx1ZV87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBDb3VudC5cbiAgICovXG4gIGdldENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLmNvdW50XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBLZXlzLlxuICAgKi9cbiAgZ2V0S2V5cygpIHtcbiAgICBjb25zdCBrZXlzID0gbmV3IEFycmF5KHRoaXMuY291bnRfKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGVudHJ5O1xuICAgIGZvciAoZW50cnkgPSB0aGlzLm5ld2VzdF87IGVudHJ5OyBlbnRyeSA9IGVudHJ5Lm9sZGVyKSB7XG4gICAgICBrZXlzW2krK10gPSBlbnRyeS5rZXlfO1xuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxUPn0gVmFsdWVzLlxuICAgKi9cbiAgZ2V0VmFsdWVzKCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBBcnJheSh0aGlzLmNvdW50Xyk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBlbnRyeTtcbiAgICBmb3IgKGVudHJ5ID0gdGhpcy5uZXdlc3RfOyBlbnRyeTsgZW50cnkgPSBlbnRyeS5vbGRlcikge1xuICAgICAgdmFsdWVzW2krK10gPSBlbnRyeS52YWx1ZV87XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7VH0gTGFzdCB2YWx1ZS5cbiAgICovXG4gIHBlZWtMYXN0KCkge1xuICAgIHJldHVybiB0aGlzLm9sZGVzdF8udmFsdWVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gTGFzdCBrZXkuXG4gICAqL1xuICBwZWVrTGFzdEtleSgpIHtcbiAgICByZXR1cm4gdGhpcy5vbGRlc3RfLmtleV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBrZXkgb2YgdGhlIG5ld2VzdCBpdGVtIGluIHRoZSBjYWNoZS4gIFRocm93cyBpZiB0aGUgY2FjaGUgaXMgZW1wdHkuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG5ld2VzdCBrZXkuXG4gICAqL1xuICBwZWVrRmlyc3RLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMubmV3ZXN0Xy5rZXlfO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhbiBlbnRyeSB3aXRob3V0IHVwZGF0aW5nIGxlYXN0IHJlY2VudGx5IHVzZWQgdGltZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAqIEByZXR1cm4ge1R9IFZhbHVlLlxuICAgKi9cbiAgcGVlayhrZXkpIHtcbiAgICBpZiAoIXRoaXMuY29udGFpbnNLZXkoa2V5KSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZW50cmllc19ba2V5XS52YWx1ZV87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7VH0gdmFsdWUgVmFsdWUuXG4gICAqL1xuICBwb3AoKSB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLm9sZGVzdF87XG4gICAgZGVsZXRlIHRoaXMuZW50cmllc19bZW50cnkua2V5X107XG4gICAgaWYgKGVudHJ5Lm5ld2VyKSB7XG4gICAgICBlbnRyeS5uZXdlci5vbGRlciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMub2xkZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovIChlbnRyeS5uZXdlcik7XG4gICAgaWYgKCF0aGlzLm9sZGVzdF8pIHtcbiAgICAgIHRoaXMubmV3ZXN0XyA9IG51bGw7XG4gICAgfVxuICAgIC0tdGhpcy5jb3VudF87XG4gICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICogQHBhcmFtIHtUfSB2YWx1ZSBWYWx1ZS5cbiAgICovXG4gIHJlcGxhY2Uoa2V5LCB2YWx1ZSkge1xuICAgIHRoaXMuZ2V0KGtleSk7IC8vIHVwZGF0ZSBgbmV3ZXN0X2BcbiAgICB0aGlzLmVudHJpZXNfW2tleV0udmFsdWVfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gICAqL1xuICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIGFzc2VydCghKGtleSBpbiB0aGlzLmVudHJpZXNfKSwgMTYpOyAvLyBUcmllZCB0byBzZXQgYSB2YWx1ZSBmb3IgYSBrZXkgdGhhdCBpcyB1c2VkIGFscmVhZHlcbiAgICBjb25zdCBlbnRyeSA9IHtcbiAgICAgIGtleV86IGtleSxcbiAgICAgIG5ld2VyOiBudWxsLFxuICAgICAgb2xkZXI6IHRoaXMubmV3ZXN0XyxcbiAgICAgIHZhbHVlXzogdmFsdWUsXG4gICAgfTtcbiAgICBpZiAoIXRoaXMubmV3ZXN0Xykge1xuICAgICAgdGhpcy5vbGRlc3RfID0gZW50cnk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubmV3ZXN0Xy5uZXdlciA9IGVudHJ5O1xuICAgIH1cbiAgICB0aGlzLm5ld2VzdF8gPSBlbnRyeTtcbiAgICB0aGlzLmVudHJpZXNfW2tleV0gPSBlbnRyeTtcbiAgICArK3RoaXMuY291bnRfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIG1heGltdW0gbnVtYmVyIG9mIGVudHJpZXMgZm9yIHRoZSBjYWNoZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgQ2FjaGUgc2l6ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U2l6ZShzaXplKSB7XG4gICAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gc2l6ZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMUlVDYWNoZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9UaWxlQ2FjaGVcbiAqL1xuaW1wb3J0IExSVUNhY2hlIGZyb20gJy4vc3RydWN0cy9MUlVDYWNoZS5qcyc7XG5pbXBvcnQge2Zyb21LZXksIGdldEtleX0gZnJvbSAnLi90aWxlY29vcmQuanMnO1xuXG5jbGFzcyBUaWxlQ2FjaGUgZXh0ZW5kcyBMUlVDYWNoZSB7XG4gIGNsZWFyKCkge1xuICAgIHdoaWxlICh0aGlzLmdldENvdW50KCkgPiAwKSB7XG4gICAgICB0aGlzLnBvcCgpLnJlbGVhc2UoKTtcbiAgICB9XG4gICAgc3VwZXIuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gdXNlZFRpbGVzIFVzZWQgdGlsZXMuXG4gICAqL1xuICBleHBpcmVDYWNoZSh1c2VkVGlsZXMpIHtcbiAgICB3aGlsZSAodGhpcy5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICBjb25zdCB0aWxlID0gdGhpcy5wZWVrTGFzdCgpO1xuICAgICAgaWYgKHRpbGUuZ2V0S2V5KCkgaW4gdXNlZFRpbGVzKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wb3AoKS5yZWxlYXNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBydW5lIGFsbCB0aWxlcyBmcm9tIHRoZSBjYWNoZSB0aGF0IGRvbid0IGhhdmUgdGhlIHNhbWUgeiBhcyB0aGUgbmV3ZXN0IHRpbGUuXG4gICAqL1xuICBwcnVuZUV4Y2VwdE5ld2VzdFooKSB7XG4gICAgaWYgKHRoaXMuZ2V0Q291bnQoKSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSB0aGlzLnBlZWtGaXJzdEtleSgpO1xuICAgIGNvbnN0IHRpbGVDb29yZCA9IGZyb21LZXkoa2V5KTtcbiAgICBjb25zdCB6ID0gdGlsZUNvb3JkWzBdO1xuICAgIHRoaXMuZm9yRWFjaCgodGlsZSkgPT4ge1xuICAgICAgaWYgKHRpbGUudGlsZUNvb3JkWzBdICE9PSB6KSB7XG4gICAgICAgIHRoaXMucmVtb3ZlKGdldEtleSh0aWxlLnRpbGVDb29yZCkpO1xuICAgICAgICB0aWxlLnJlbGVhc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlQ2FjaGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvVGlsZVJhbmdlXG4gKi9cblxuLyoqXG4gKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgY29udGlndW91cyBibG9jayBvZiB0aWxlcy4gIEEgdGlsZSByYW5nZSBpcyBzcGVjaWZpZWRcbiAqIGJ5IGl0cyBtaW4vbWF4IHRpbGUgY29vcmRpbmF0ZXMgYW5kIGlzIGluY2x1c2l2ZSBvZiBjb29yZGluYXRlcy5cbiAqL1xuY2xhc3MgVGlsZVJhbmdlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5YIE1pbmltdW0gWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heFggTWF4aW11bSBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluWSBNaW5pbXVtIFkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhZIE1heGltdW0gWS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG1pblgsIG1heFgsIG1pblksIG1heFkpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWluWCA9IG1pblg7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4WCA9IG1heFg7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWluWSA9IG1pblk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4WSA9IG1heFk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zIHRpbGUgY29vcmRpbmF0ZS5cbiAgICovXG4gIGNvbnRhaW5zKHRpbGVDb29yZCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRhaW5zWFkodGlsZUNvb3JkWzFdLCB0aWxlQ29vcmRbMl0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VGlsZVJhbmdlfSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMuXG4gICAqL1xuICBjb250YWluc1RpbGVSYW5nZSh0aWxlUmFuZ2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5taW5YIDw9IHRpbGVSYW5nZS5taW5YICYmXG4gICAgICB0aWxlUmFuZ2UubWF4WCA8PSB0aGlzLm1heFggJiZcbiAgICAgIHRoaXMubWluWSA8PSB0aWxlUmFuZ2UubWluWSAmJlxuICAgICAgdGlsZVJhbmdlLm1heFkgPD0gdGhpcy5tYXhZXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zIGNvb3JkaW5hdGUuXG4gICAqL1xuICBjb250YWluc1hZKHgsIHkpIHtcbiAgICByZXR1cm4gdGhpcy5taW5YIDw9IHggJiYgeCA8PSB0aGlzLm1heFggJiYgdGhpcy5taW5ZIDw9IHkgJiYgeSA8PSB0aGlzLm1heFk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUaWxlUmFuZ2V9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBFcXVhbHMuXG4gICAqL1xuICBlcXVhbHModGlsZVJhbmdlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMubWluWCA9PSB0aWxlUmFuZ2UubWluWCAmJlxuICAgICAgdGhpcy5taW5ZID09IHRpbGVSYW5nZS5taW5ZICYmXG4gICAgICB0aGlzLm1heFggPT0gdGlsZVJhbmdlLm1heFggJiZcbiAgICAgIHRoaXMubWF4WSA9PSB0aWxlUmFuZ2UubWF4WVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUaWxlUmFuZ2V9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgKi9cbiAgZXh0ZW5kKHRpbGVSYW5nZSkge1xuICAgIGlmICh0aWxlUmFuZ2UubWluWCA8IHRoaXMubWluWCkge1xuICAgICAgdGhpcy5taW5YID0gdGlsZVJhbmdlLm1pblg7XG4gICAgfVxuICAgIGlmICh0aWxlUmFuZ2UubWF4WCA+IHRoaXMubWF4WCkge1xuICAgICAgdGhpcy5tYXhYID0gdGlsZVJhbmdlLm1heFg7XG4gICAgfVxuICAgIGlmICh0aWxlUmFuZ2UubWluWSA8IHRoaXMubWluWSkge1xuICAgICAgdGhpcy5taW5ZID0gdGlsZVJhbmdlLm1pblk7XG4gICAgfVxuICAgIGlmICh0aWxlUmFuZ2UubWF4WSA+IHRoaXMubWF4WSkge1xuICAgICAgdGhpcy5tYXhZID0gdGlsZVJhbmdlLm1heFk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gSGVpZ2h0LlxuICAgKi9cbiAgZ2V0SGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLm1heFkgLSB0aGlzLm1pblkgKyAxO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBTaXplLlxuICAgKi9cbiAgZ2V0U2l6ZSgpIHtcbiAgICByZXR1cm4gW3RoaXMuZ2V0V2lkdGgoKSwgdGhpcy5nZXRIZWlnaHQoKV07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBXaWR0aC5cbiAgICovXG4gIGdldFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLm1heFggLSB0aGlzLm1pblggKyAxO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VGlsZVJhbmdlfSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSW50ZXJzZWN0cy5cbiAgICovXG4gIGludGVyc2VjdHModGlsZVJhbmdlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMubWluWCA8PSB0aWxlUmFuZ2UubWF4WCAmJlxuICAgICAgdGhpcy5tYXhYID49IHRpbGVSYW5nZS5taW5YICYmXG4gICAgICB0aGlzLm1pblkgPD0gdGlsZVJhbmdlLm1heFkgJiZcbiAgICAgIHRoaXMubWF4WSA+PSB0aWxlUmFuZ2UubWluWVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbWluWCBNaW5pbXVtIFguXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4WCBNYXhpbXVtIFguXG4gKiBAcGFyYW0ge251bWJlcn0gbWluWSBNaW5pbXVtIFkuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4WSBNYXhpbXVtIFkuXG4gKiBAcGFyYW0ge1RpbGVSYW5nZX0gW3RpbGVSYW5nZV0gVGlsZVJhbmdlLlxuICogQHJldHVybiB7VGlsZVJhbmdlfSBUaWxlIHJhbmdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGUobWluWCwgbWF4WCwgbWluWSwgbWF4WSwgdGlsZVJhbmdlKSB7XG4gIGlmICh0aWxlUmFuZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgIHRpbGVSYW5nZS5taW5YID0gbWluWDtcbiAgICB0aWxlUmFuZ2UubWF4WCA9IG1heFg7XG4gICAgdGlsZVJhbmdlLm1pblkgPSBtaW5ZO1xuICAgIHRpbGVSYW5nZS5tYXhZID0gbWF4WTtcbiAgICByZXR1cm4gdGlsZVJhbmdlO1xuICB9XG4gIHJldHVybiBuZXcgVGlsZVJhbmdlKG1pblgsIG1heFgsIG1pblksIG1heFkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlUmFuZ2U7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvVGlsZVN0YXRlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIElETEU6IDAsXG4gIExPQURJTkc6IDEsXG4gIExPQURFRDogMixcbiAgLyoqXG4gICAqIEluZGljYXRlcyB0aGF0IHRpbGUgbG9hZGluZyBmYWlsZWRcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIEVSUk9SOiAzLFxuICBFTVBUWTogNCxcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvVmlld1Byb3BlcnR5XG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIENFTlRFUjogJ2NlbnRlcicsXG4gIFJFU09MVVRJT046ICdyZXNvbHV0aW9uJyxcbiAgUk9UQVRJT046ICdyb3RhdGlvbicsXG59O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NlbnRlcmNvbnN0cmFpbnRcbiAqL1xuaW1wb3J0IHtjbGFtcH0gZnJvbSAnLi9tYXRoLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZCksIG51bWJlciwgaW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemUsIGJvb2xlYW49LCBBcnJheTxudW1iZXI+PSk6IChpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWQpfSBUeXBlXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb25seUNlbnRlciBJZiB0cnVlLCB0aGUgY29uc3RyYWludCB3aWxsIG9ubHkgYXBwbHkgdG8gdGhlIHZpZXcgY2VudGVyLlxuICogQHBhcmFtIHtib29sZWFufSBzbW9vdGggSWYgdHJ1ZSwgdGhlIHZpZXcgd2lsbCBiZSBhYmxlIHRvIGdvIHNsaWdodGx5IG91dCBvZiB0aGUgZ2l2ZW4gZXh0ZW50XG4gKiAob25seSBkdXJpbmcgaW50ZXJhY3Rpb24gYW5kIGFuaW1hdGlvbikuXG4gKiBAcmV0dXJuIHtUeXBlfSBUaGUgY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4dGVudChleHRlbnQsIG9ubHlDZW50ZXIsIHNtb290aCkge1xuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBjZW50ZXIgQ2VudGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZTsgdW51c2VkIGlmIGBvbmx5Q2VudGVyYCB3YXMgc3BlY2lmaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzTW92aW5nXSBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtjZW50ZXJTaGlmdF0gU2hpZnQgYmV0d2VlbiBtYXAgY2VudGVyIGFuZCB2aWV3cG9ydCBjZW50ZXIuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBDZW50ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKGNlbnRlciwgcmVzb2x1dGlvbiwgc2l6ZSwgaXNNb3ZpbmcsIGNlbnRlclNoaWZ0KSB7XG4gICAgICBpZiAoIWNlbnRlcikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKCFyZXNvbHV0aW9uICYmICFvbmx5Q2VudGVyKSB7XG4gICAgICAgIHJldHVybiBjZW50ZXI7XG4gICAgICB9XG4gICAgICBjb25zdCB2aWV3V2lkdGggPSBvbmx5Q2VudGVyID8gMCA6IHNpemVbMF0gKiByZXNvbHV0aW9uO1xuICAgICAgY29uc3Qgdmlld0hlaWdodCA9IG9ubHlDZW50ZXIgPyAwIDogc2l6ZVsxXSAqIHJlc29sdXRpb247XG4gICAgICBjb25zdCBzaGlmdFggPSBjZW50ZXJTaGlmdCA/IGNlbnRlclNoaWZ0WzBdIDogMDtcbiAgICAgIGNvbnN0IHNoaWZ0WSA9IGNlbnRlclNoaWZ0ID8gY2VudGVyU2hpZnRbMV0gOiAwO1xuICAgICAgbGV0IG1pblggPSBleHRlbnRbMF0gKyB2aWV3V2lkdGggLyAyICsgc2hpZnRYO1xuICAgICAgbGV0IG1heFggPSBleHRlbnRbMl0gLSB2aWV3V2lkdGggLyAyICsgc2hpZnRYO1xuICAgICAgbGV0IG1pblkgPSBleHRlbnRbMV0gKyB2aWV3SGVpZ2h0IC8gMiArIHNoaWZ0WTtcbiAgICAgIGxldCBtYXhZID0gZXh0ZW50WzNdIC0gdmlld0hlaWdodCAvIDIgKyBzaGlmdFk7XG5cbiAgICAgIC8vIG5vdGU6IHdoZW4gem9vbWluZyBvdXQgb2YgYm91bmRzLCBtaW4gYW5kIG1heCB2YWx1ZXMgZm9yIHggYW5kIHkgbWF5XG4gICAgICAvLyBlbmQgdXAgaW52ZXJ0ZWQgKG1pbiA+IG1heCk7IHRoaXMgaGFzIHRvIGJlIGFjY291bnRlZCBmb3JcbiAgICAgIGlmIChtaW5YID4gbWF4WCkge1xuICAgICAgICBtaW5YID0gKG1heFggKyBtaW5YKSAvIDI7XG4gICAgICAgIG1heFggPSBtaW5YO1xuICAgICAgfVxuICAgICAgaWYgKG1pblkgPiBtYXhZKSB7XG4gICAgICAgIG1pblkgPSAobWF4WSArIG1pblkpIC8gMjtcbiAgICAgICAgbWF4WSA9IG1pblk7XG4gICAgICB9XG5cbiAgICAgIGxldCB4ID0gY2xhbXAoY2VudGVyWzBdLCBtaW5YLCBtYXhYKTtcbiAgICAgIGxldCB5ID0gY2xhbXAoY2VudGVyWzFdLCBtaW5ZLCBtYXhZKTtcblxuICAgICAgLy8gZHVyaW5nIGFuIGludGVyYWN0aW9uLCBhbGxvdyBzb21lIG92ZXJzY3JvbGxcbiAgICAgIGlmIChpc01vdmluZyAmJiBzbW9vdGggJiYgcmVzb2x1dGlvbikge1xuICAgICAgICBjb25zdCByYXRpbyA9IDMwICogcmVzb2x1dGlvbjtcbiAgICAgICAgeCArPVxuICAgICAgICAgIC1yYXRpbyAqIE1hdGgubG9nKDEgKyBNYXRoLm1heCgwLCBtaW5YIC0gY2VudGVyWzBdKSAvIHJhdGlvKSArXG4gICAgICAgICAgcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgY2VudGVyWzBdIC0gbWF4WCkgLyByYXRpbyk7XG4gICAgICAgIHkgKz1cbiAgICAgICAgICAtcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgbWluWSAtIGNlbnRlclsxXSkgLyByYXRpbykgK1xuICAgICAgICAgIHJhdGlvICogTWF0aC5sb2coMSArIE1hdGgubWF4KDAsIGNlbnRlclsxXSAtIG1heFkpIC8gcmF0aW8pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW3gsIHldO1xuICAgIH1cbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbY2VudGVyXSBDZW50ZXIuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vbmUoY2VudGVyKSB7XG4gIHJldHVybiBjZW50ZXI7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVzb2x1dGlvbmNvbnN0cmFpbnRcbiAqL1xuaW1wb3J0IHtjbGFtcH0gZnJvbSAnLi9tYXRoLmpzJztcbmltcG9ydCB7Z2V0SGVpZ2h0LCBnZXRXaWR0aH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHtsaW5lYXJGaW5kTmVhcmVzdH0gZnJvbSAnLi9hcnJheS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChudW1iZXJ8dW5kZWZpbmVkKSwgbnVtYmVyLCBpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZSwgYm9vbGVhbj0pOiAobnVtYmVyfHVuZGVmaW5lZCl9IFR5cGVcbiAqL1xuXG4vKipcbiAqIFJldHVybnMgYSBtb2RpZmllZCByZXNvbHV0aW9uIHRha2luZyBpbnRvIGFjY291bnQgdGhlIHZpZXdwb3J0IHNpemUgYW5kIG1heGltdW1cbiAqIGFsbG93ZWQgZXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvblxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXhpbXVtIGFsbG93ZWQgZXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gdmlld3BvcnRTaXplIFZpZXdwb3J0IHNpemUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNob3dGdWxsRXh0ZW50IFdoZXRoZXIgdG8gc2hvdyB0aGUgZnVsbCBleHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IENhcHBlZCByZXNvbHV0aW9uLlxuICovXG5mdW5jdGlvbiBnZXRWaWV3cG9ydENsYW1wZWRSZXNvbHV0aW9uKFxuICByZXNvbHV0aW9uLFxuICBtYXhFeHRlbnQsXG4gIHZpZXdwb3J0U2l6ZSxcbiAgc2hvd0Z1bGxFeHRlbnRcbikge1xuICBjb25zdCB4UmVzb2x1dGlvbiA9IGdldFdpZHRoKG1heEV4dGVudCkgLyB2aWV3cG9ydFNpemVbMF07XG4gIGNvbnN0IHlSZXNvbHV0aW9uID0gZ2V0SGVpZ2h0KG1heEV4dGVudCkgLyB2aWV3cG9ydFNpemVbMV07XG5cbiAgaWYgKHNob3dGdWxsRXh0ZW50KSB7XG4gICAgcmV0dXJuIE1hdGgubWluKHJlc29sdXRpb24sIE1hdGgubWF4KHhSZXNvbHV0aW9uLCB5UmVzb2x1dGlvbikpO1xuICB9XG4gIHJldHVybiBNYXRoLm1pbihyZXNvbHV0aW9uLCBNYXRoLm1pbih4UmVzb2x1dGlvbiwgeVJlc29sdXRpb24pKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbW9kaWZpZWQgcmVzb2x1dGlvbiB0byBiZSBiZXR3ZWVuIG1heFJlc29sdXRpb24gYW5kIG1pblJlc29sdXRpb24gd2hpbGVcbiAqIHN0aWxsIGFsbG93aW5nIHRoZSB2YWx1ZSB0byBiZSBzbGlnaHRseSBvdXQgb2YgYm91bmRzLlxuICogTm90ZTogdGhlIGNvbXB1dGF0aW9uIGlzIGJhc2VkIG9uIHRoZSBsb2dhcml0aG0gZnVuY3Rpb24gKGxuKTpcbiAqICAtIGF0IDEsIGxuKHgpIGlzIDBcbiAqICAtIGFib3ZlIDEsIGxuKHgpIGtlZXBzIGluY3JlYXNpbmcgYnV0IGF0IGEgbXVjaCBzbG93ZXIgcGFjZSB0aGFuIHhcbiAqIFRoZSBmaW5hbCByZXN1bHQgaXMgY2xhbXBlZCB0byBwcmV2ZW50IGdldHRpbmcgdG9vIGZhciBhd2F5IGZyb20gYm91bmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIE1heCByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblJlc29sdXRpb24gTWluIHJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNtb290aGVkIHJlc29sdXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uKHJlc29sdXRpb24sIG1heFJlc29sdXRpb24sIG1pblJlc29sdXRpb24pIHtcbiAgbGV0IHJlc3VsdCA9IE1hdGgubWluKHJlc29sdXRpb24sIG1heFJlc29sdXRpb24pO1xuICBjb25zdCByYXRpbyA9IDUwO1xuXG4gIHJlc3VsdCAqPVxuICAgIE1hdGgubG9nKDEgKyByYXRpbyAqIE1hdGgubWF4KDAsIHJlc29sdXRpb24gLyBtYXhSZXNvbHV0aW9uIC0gMSkpIC8gcmF0aW8gK1xuICAgIDE7XG4gIGlmIChtaW5SZXNvbHV0aW9uKSB7XG4gICAgcmVzdWx0ID0gTWF0aC5tYXgocmVzdWx0LCBtaW5SZXNvbHV0aW9uKTtcbiAgICByZXN1bHQgLz1cbiAgICAgIE1hdGgubG9nKDEgKyByYXRpbyAqIE1hdGgubWF4KDAsIG1pblJlc29sdXRpb24gLyByZXNvbHV0aW9uIC0gMSkpIC9cbiAgICAgICAgcmF0aW8gK1xuICAgICAgMTtcbiAgfVxuICByZXR1cm4gY2xhbXAocmVzdWx0LCBtaW5SZXNvbHV0aW9uIC8gMiwgbWF4UmVzb2x1dGlvbiAqIDIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gcmVzb2x1dGlvbnMgUmVzb2x1dGlvbnMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzbW9vdGhdIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBzbGlnaHRseSBleGNlZWQgcmVzb2x1dGlvbiBsaW1pdHMuIERlZmF1bHQ6IHRydWUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW21heEV4dGVudF0gTWF4aW11bSBhbGxvd2VkIGV4dGVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Nob3dGdWxsRXh0ZW50XSBJZiB0cnVlLCBhbGxvd3MgdXMgdG8gc2hvdyB0aGUgZnVsbCBleHRlbnQuIERlZmF1bHQ6IGZhbHNlLlxuICogQHJldHVybiB7VHlwZX0gWm9vbSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNuYXBUb1Jlc29sdXRpb25zKFxuICByZXNvbHV0aW9ucyxcbiAgc21vb3RoLFxuICBtYXhFeHRlbnQsXG4gIHNob3dGdWxsRXh0ZW50XG4pIHtcbiAgc21vb3RoID0gc21vb3RoICE9PSB1bmRlZmluZWQgPyBzbW9vdGggOiB0cnVlO1xuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gRGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc01vdmluZ10gVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocmVzb2x1dGlvbiwgZGlyZWN0aW9uLCBzaXplLCBpc01vdmluZykge1xuICAgICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBtYXhSZXNvbHV0aW9uID0gcmVzb2x1dGlvbnNbMF07XG4gICAgICAgIGNvbnN0IG1pblJlc29sdXRpb24gPSByZXNvbHV0aW9uc1tyZXNvbHV0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgY2FwcGVkTWF4UmVzID0gbWF4RXh0ZW50XG4gICAgICAgICAgPyBnZXRWaWV3cG9ydENsYW1wZWRSZXNvbHV0aW9uKFxuICAgICAgICAgICAgICBtYXhSZXNvbHV0aW9uLFxuICAgICAgICAgICAgICBtYXhFeHRlbnQsXG4gICAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICAgIHNob3dGdWxsRXh0ZW50XG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBtYXhSZXNvbHV0aW9uO1xuXG4gICAgICAgIC8vIGR1cmluZyBpbnRlcmFjdGluZyBvciBhbmltYXRpbmcsIGFsbG93IGludGVybWVkaWFyeSB2YWx1ZXNcbiAgICAgICAgaWYgKGlzTW92aW5nKSB7XG4gICAgICAgICAgaWYgKCFzbW9vdGgpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGFtcChyZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBjYXBwZWRNYXhSZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZ2V0U21vb3RoQ2xhbXBlZFJlc29sdXRpb24oXG4gICAgICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICAgICAgY2FwcGVkTWF4UmVzLFxuICAgICAgICAgICAgbWluUmVzb2x1dGlvblxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYXBwZWQgPSBNYXRoLm1pbihjYXBwZWRNYXhSZXMsIHJlc29sdXRpb24pO1xuICAgICAgICBjb25zdCB6ID0gTWF0aC5mbG9vcihsaW5lYXJGaW5kTmVhcmVzdChyZXNvbHV0aW9ucywgY2FwcGVkLCBkaXJlY3Rpb24pKTtcbiAgICAgICAgaWYgKHJlc29sdXRpb25zW3pdID4gY2FwcGVkTWF4UmVzICYmIHogPCByZXNvbHV0aW9ucy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdXRpb25zW3ogKyAxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbnNbel07XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcG93ZXIgUG93ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4UmVzb2x1dGlvbiBNYXhpbXVtIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW21pblJlc29sdXRpb25dIE1pbmltdW0gcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Ntb290aF0gSWYgdHJ1ZSwgdGhlIHZpZXcgd2lsbCBiZSBhYmxlIHRvIHNsaWdodGx5IGV4Y2VlZCByZXNvbHV0aW9uIGxpbWl0cy4gRGVmYXVsdDogdHJ1ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBbbWF4RXh0ZW50XSBNYXhpbXVtIGFsbG93ZWQgZXh0ZW50LlxuICogQHBhcmFtIHtib29sZWFufSBbc2hvd0Z1bGxFeHRlbnRdIElmIHRydWUsIGFsbG93cyB1cyB0byBzaG93IHRoZSBmdWxsIGV4dGVudC4gRGVmYXVsdDogZmFsc2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBab29tIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvUG93ZXIoXG4gIHBvd2VyLFxuICBtYXhSZXNvbHV0aW9uLFxuICBtaW5SZXNvbHV0aW9uLFxuICBzbW9vdGgsXG4gIG1heEV4dGVudCxcbiAgc2hvd0Z1bGxFeHRlbnRcbikge1xuICBzbW9vdGggPSBzbW9vdGggIT09IHVuZGVmaW5lZCA/IHNtb290aCA6IHRydWU7XG4gIG1pblJlc29sdXRpb24gPSBtaW5SZXNvbHV0aW9uICE9PSB1bmRlZmluZWQgPyBtaW5SZXNvbHV0aW9uIDogMDtcblxuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gRGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc01vdmluZ10gVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocmVzb2x1dGlvbiwgZGlyZWN0aW9uLCBzaXplLCBpc01vdmluZykge1xuICAgICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBjYXBwZWRNYXhSZXMgPSBtYXhFeHRlbnRcbiAgICAgICAgICA/IGdldFZpZXdwb3J0Q2xhbXBlZFJlc29sdXRpb24oXG4gICAgICAgICAgICAgIG1heFJlc29sdXRpb24sXG4gICAgICAgICAgICAgIG1heEV4dGVudCxcbiAgICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgICAgc2hvd0Z1bGxFeHRlbnRcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IG1heFJlc29sdXRpb247XG5cbiAgICAgICAgLy8gZHVyaW5nIGludGVyYWN0aW5nIG9yIGFuaW1hdGluZywgYWxsb3cgaW50ZXJtZWRpYXJ5IHZhbHVlc1xuICAgICAgICBpZiAoaXNNb3ZpbmcpIHtcbiAgICAgICAgICBpZiAoIXNtb290aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNsYW1wKHJlc29sdXRpb24sIG1pblJlc29sdXRpb24sIGNhcHBlZE1heFJlcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBnZXRTbW9vdGhDbGFtcGVkUmVzb2x1dGlvbihcbiAgICAgICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgICAgICBjYXBwZWRNYXhSZXMsXG4gICAgICAgICAgICBtaW5SZXNvbHV0aW9uXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRvbGVyYW5jZSA9IDFlLTk7XG4gICAgICAgIGNvbnN0IG1pblpvb21MZXZlbCA9IE1hdGguY2VpbChcbiAgICAgICAgICBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gY2FwcGVkTWF4UmVzKSAvIE1hdGgubG9nKHBvd2VyKSAtIHRvbGVyYW5jZVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSAtZGlyZWN0aW9uICogKDAuNSAtIHRvbGVyYW5jZSkgKyAwLjU7XG4gICAgICAgIGNvbnN0IGNhcHBlZCA9IE1hdGgubWluKGNhcHBlZE1heFJlcywgcmVzb2x1dGlvbik7XG4gICAgICAgIGNvbnN0IGNhcHBlZFpvb21MZXZlbCA9IE1hdGguZmxvb3IoXG4gICAgICAgICAgTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIGNhcHBlZCkgLyBNYXRoLmxvZyhwb3dlcikgKyBvZmZzZXRcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgem9vbUxldmVsID0gTWF0aC5tYXgobWluWm9vbUxldmVsLCBjYXBwZWRab29tTGV2ZWwpO1xuICAgICAgICBjb25zdCBuZXdSZXNvbHV0aW9uID0gbWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHBvd2VyLCB6b29tTGV2ZWwpO1xuICAgICAgICByZXR1cm4gY2xhbXAobmV3UmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIE1heCByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblJlc29sdXRpb24gTWluIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzbW9vdGhdIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBzbGlnaHRseSBleGNlZWQgcmVzb2x1dGlvbiBsaW1pdHMuIERlZmF1bHQ6IHRydWUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW21heEV4dGVudF0gTWF4aW11bSBhbGxvd2VkIGV4dGVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Nob3dGdWxsRXh0ZW50XSBJZiB0cnVlLCBhbGxvd3MgdXMgdG8gc2hvdyB0aGUgZnVsbCBleHRlbnQuIERlZmF1bHQ6IGZhbHNlLlxuICogQHJldHVybiB7VHlwZX0gWm9vbSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1pbk1heFJlc29sdXRpb24oXG4gIG1heFJlc29sdXRpb24sXG4gIG1pblJlc29sdXRpb24sXG4gIHNtb290aCxcbiAgbWF4RXh0ZW50LFxuICBzaG93RnVsbEV4dGVudFxuKSB7XG4gIHNtb290aCA9IHNtb290aCAhPT0gdW5kZWZpbmVkID8gc21vb3RoIDogdHJ1ZTtcblxuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gRGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc01vdmluZ10gVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocmVzb2x1dGlvbiwgZGlyZWN0aW9uLCBzaXplLCBpc01vdmluZykge1xuICAgICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBjYXBwZWRNYXhSZXMgPSBtYXhFeHRlbnRcbiAgICAgICAgICA/IGdldFZpZXdwb3J0Q2xhbXBlZFJlc29sdXRpb24oXG4gICAgICAgICAgICAgIG1heFJlc29sdXRpb24sXG4gICAgICAgICAgICAgIG1heEV4dGVudCxcbiAgICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgICAgc2hvd0Z1bGxFeHRlbnRcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IG1heFJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKCFzbW9vdGggfHwgIWlzTW92aW5nKSB7XG4gICAgICAgICAgcmV0dXJuIGNsYW1wKHJlc29sdXRpb24sIG1pblJlc29sdXRpb24sIGNhcHBlZE1heFJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uKFxuICAgICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgICAgY2FwcGVkTWF4UmVzLFxuICAgICAgICAgIG1pblJlc29sdXRpb25cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICApO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1ZpZXdcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi9PYmplY3QuanMnO1xuaW1wb3J0IFZpZXdIaW50IGZyb20gJy4vVmlld0hpbnQuanMnO1xuaW1wb3J0IFZpZXdQcm9wZXJ0eSBmcm9tICcuL1ZpZXdQcm9wZXJ0eS5qcyc7XG5pbXBvcnQge0RFRkFVTFRfVElMRV9TSVpFfSBmcm9tICcuL3RpbGVncmlkL2NvbW1vbi5qcyc7XG5pbXBvcnQge1xuICBNRVRFUlNfUEVSX1VOSVQsXG4gIGNyZWF0ZVByb2plY3Rpb24sXG4gIGRpc2FibGVDb29yZGluYXRlV2FybmluZyxcbiAgZnJvbVVzZXJDb29yZGluYXRlLFxuICBmcm9tVXNlckV4dGVudCxcbiAgZ2V0VXNlclByb2plY3Rpb24sXG4gIHRvVXNlckNvb3JkaW5hdGUsXG4gIHRvVXNlckV4dGVudCxcbn0gZnJvbSAnLi9wcm9qLmpzJztcbmltcG9ydCB7Vk9JRH0gZnJvbSAnLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHtcbiAgYWRkIGFzIGFkZENvb3JkaW5hdGUsXG4gIGVxdWFscyBhcyBjb29yZGluYXRlc0VxdWFsLFxuICBlcXVhbHMsXG4gIHJvdGF0ZSBhcyByb3RhdGVDb29yZGluYXRlLFxufSBmcm9tICcuL2Nvb3JkaW5hdGUuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge25vbmUgYXMgY2VudGVyTm9uZSwgY3JlYXRlRXh0ZW50fSBmcm9tICcuL2NlbnRlcmNvbnN0cmFpbnQuanMnO1xuaW1wb3J0IHtjbGFtcCwgbW9kdWxvfSBmcm9tICcuL21hdGguanMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlTWluTWF4UmVzb2x1dGlvbixcbiAgY3JlYXRlU25hcFRvUG93ZXIsXG4gIGNyZWF0ZVNuYXBUb1Jlc29sdXRpb25zLFxufSBmcm9tICcuL3Jlc29sdXRpb25jb25zdHJhaW50LmpzJztcbmltcG9ydCB7XG4gIGNyZWF0ZVNuYXBUb04sXG4gIGNyZWF0ZVNuYXBUb1plcm8sXG4gIGRpc2FibGUsXG4gIG5vbmUgYXMgcm90YXRpb25Ob25lLFxufSBmcm9tICcuL3JvdGF0aW9uY29uc3RyYWludC5qcyc7XG5pbXBvcnQge2Vhc2VPdXQsIGluQW5kT3V0fSBmcm9tICcuL2Vhc2luZy5qcyc7XG5pbXBvcnQge1xuICBnZXRDZW50ZXIsXG4gIGdldEZvclZpZXdBbmRTaXplLFxuICBnZXRIZWlnaHQsXG4gIGdldFdpZHRoLFxuICBpc0VtcHR5LFxufSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQge2xpbmVhckZpbmROZWFyZXN0fSBmcm9tICcuL2FycmF5LmpzJztcbmltcG9ydCB7ZnJvbUV4dGVudCBhcyBwb2x5Z29uRnJvbUV4dGVudH0gZnJvbSAnLi9nZW9tL1BvbHlnb24uanMnO1xuXG4vKipcbiAqIEFuIGFuaW1hdGlvbiBjb25maWd1cmF0aW9uXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gQW5pbWF0aW9uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbc291cmNlQ2VudGVyXSBTb3VyY2UgY2VudGVyLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW3RhcmdldENlbnRlcl0gVGFyZ2V0IGNlbnRlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc291cmNlUmVzb2x1dGlvbl0gU291cmNlIHJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RhcmdldFJlc29sdXRpb25dIFRhcmdldCByZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzb3VyY2VSb3RhdGlvbl0gU291cmNlIHJvdGF0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0YXJnZXRSb3RhdGlvbl0gVGFyZ2V0IHJvdGF0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gQW5jaG9yLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0IFN0YXJ0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGR1cmF0aW9uIER1cmF0aW9uLlxuICogQHByb3BlcnR5IHtib29sZWFufSBjb21wbGV0ZSBDb21wbGV0ZS5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24obnVtYmVyKTpudW1iZXJ9IGVhc2luZyBFYXNpbmcuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGJvb2xlYW4pOnZvaWR9IGNhbGxiYWNrIENhbGxiYWNrLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ29uc3RyYWludHNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jZW50ZXJjb25zdHJhaW50LmpzXCIpLlR5cGV9IGNlbnRlciBDZW50ZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcmVzb2x1dGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZX0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3JvdGF0aW9uY29uc3RyYWludC5qc1wiKS5UeXBlfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZpdE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFtzaXplXSBUaGUgc2l6ZSBpbiBwaXhlbHMgb2YgdGhlIGJveCB0byBmaXRcbiAqIHRoZSBleHRlbnQgaW50by4gRGVmYXVsdCBpcyB0aGUgY3VycmVudCBzaXplIG9mIHRoZSBmaXJzdCBtYXAgaW4gdGhlIERPTSB0aGF0XG4gKiB1c2VzIHRoaXMgdmlldywgb3IgYFsxMDAsIDEwMF1gIGlmIG5vIHN1Y2ggbWFwIGlzIGZvdW5kLlxuICogQHByb3BlcnR5IHshQXJyYXk8bnVtYmVyPn0gW3BhZGRpbmc9WzAsIDAsIDAsIDBdXSBQYWRkaW5nIChpbiBwaXhlbHMpIHRvIGJlXG4gKiBjbGVhcmVkIGluc2lkZSB0aGUgdmlldy4gVmFsdWVzIGluIHRoZSBhcnJheSBhcmUgdG9wLCByaWdodCwgYm90dG9tIGFuZCBsZWZ0XG4gKiBwYWRkaW5nLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbbmVhcmVzdD1mYWxzZV0gSWYgdGhlIHZpZXcgYGNvbnN0cmFpblJlc29sdXRpb25gIG9wdGlvbiBpcyBgdHJ1ZWAsXG4gKiBnZXQgdGhlIG5lYXJlc3QgZXh0ZW50IGluc3RlYWQgb2YgdGhlIGNsb3Nlc3QgdGhhdCBhY3R1YWxseSBmaXRzIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uPTBdIE1pbmltdW0gcmVzb2x1dGlvbiB0aGF0IHdlIHpvb20gdG8uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIE1heGltdW0gem9vbSBsZXZlbCB0aGF0IHdlIHpvb20gdG8uIElmXG4gKiBgbWluUmVzb2x1dGlvbmAgaXMgZ2l2ZW4sIHRoaXMgcHJvcGVydHkgaXMgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb25dIFRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEJ5IGRlZmF1bHQsIHRoZXJlIGlzIG5vIGFuaW1hdGlvbiB0byB0aGUgdGFyZ2V0IGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24obnVtYmVyKTpudW1iZXJ9IFtlYXNpbmddIFRoZSBlYXNpbmcgZnVuY3Rpb24gdXNlZCBkdXJpbmdcbiAqIHRoZSBhbmltYXRpb24gKGRlZmF1bHRzIHRvIHtAbGluayBtb2R1bGU6b2wvZWFzaW5nLmluQW5kT3V0fSkuXG4gKiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggZnJhbWUgd2l0aCBhIG51bWJlciByZXByZXNlbnRpbmcgYVxuICogZnJhY3Rpb24gb2YgdGhlIGFuaW1hdGlvbidzIGR1cmF0aW9uLiAgVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBudW1iZXJcbiAqIGJldHdlZW4gMCBhbmQgMSByZXByZXNlbnRpbmcgdGhlIHByb2dyZXNzIHRvd2FyZCB0aGUgZGVzdGluYXRpb24gc3RhdGUuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGJvb2xlYW4pOnZvaWR9IFtjYWxsYmFja10gRnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIHZpZXcgaXMgaW5cbiAqIGl0cyBmaW5hbCBwb3NpdGlvbi4gVGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggYHRydWVgIGlmIHRoZSBhbmltYXRpb25cbiAqIHNlcmllcyBjb21wbGV0ZWQgb24gaXRzIG93biBvciBgZmFsc2VgIGlmIGl0IHdhcyBjYW5jZWxsZWQuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBWaWV3T3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2NlbnRlcl0gVGhlIGluaXRpYWwgY2VudGVyIGZvclxuICogdGhlIHZpZXcuIElmIGEgdXNlciBwcm9qZWN0aW9uIGlzIG5vdCBzZXQsIHRoZSBjb29yZGluYXRlIHN5c3RlbSBmb3IgdGhlIGNlbnRlciBpc1xuICogc3BlY2lmaWVkIHdpdGggdGhlIGBwcm9qZWN0aW9uYCBvcHRpb24uIExheWVyIHNvdXJjZXMgd2lsbCBub3QgYmUgZmV0Y2hlZCBpZiB0aGlzXG4gKiBpcyBub3Qgc2V0LCBidXQgdGhlIGNlbnRlciBjYW4gYmUgc2V0IGxhdGVyIHdpdGgge0BsaW5rICNzZXRDZW50ZXJ9LlxuICogQHByb3BlcnR5IHtib29sZWFufG51bWJlcn0gW2NvbnN0cmFpblJvdGF0aW9uPXRydWVdIFJvdGF0aW9uIGNvbnN0cmFpbnQuXG4gKiBgZmFsc2VgIG1lYW5zIG5vIGNvbnN0cmFpbnQuIGB0cnVlYCBtZWFucyBubyBjb25zdHJhaW50LCBidXQgc25hcCB0byB6ZXJvXG4gKiBuZWFyIHplcm8uIEEgbnVtYmVyIGNvbnN0cmFpbnMgdGhlIHJvdGF0aW9uIHRvIHRoYXQgbnVtYmVyIG9mIHZhbHVlcy4gRm9yXG4gKiBleGFtcGxlLCBgNGAgd2lsbCBjb25zdHJhaW4gdGhlIHJvdGF0aW9uIHRvIDAsIDkwLCAxODAsIGFuZCAyNzAgZGVncmVlcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2VuYWJsZVJvdGF0aW9uPXRydWVdIEVuYWJsZSByb3RhdGlvbi5cbiAqIElmIGBmYWxzZWAsIGEgcm90YXRpb24gY29uc3RyYWludCB0aGF0IGFsd2F5cyBzZXRzIHRoZSByb3RhdGlvbiB0byB6ZXJvIGlzXG4gKiB1c2VkLiBUaGUgYGNvbnN0cmFpblJvdGF0aW9uYCBvcHRpb24gaGFzIG5vIGVmZmVjdCBpZiBgZW5hYmxlUm90YXRpb25gIGlzXG4gKiBgZmFsc2VgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBleHRlbnQgdGhhdCBjb25zdHJhaW5zIHRoZVxuICogdmlldywgaW4gb3RoZXIgd29yZHMsIG5vdGhpbmcgb3V0c2lkZSBvZiB0aGlzIGV4dGVudCBjYW4gYmUgdmlzaWJsZSBvbiB0aGUgbWFwLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY29uc3RyYWluT25seUNlbnRlcj1mYWxzZV0gSWYgdHJ1ZSwgdGhlIGV4dGVudFxuICogY29uc3RyYWludCB3aWxsIG9ubHkgYXBwbHkgdG8gdGhlIHZpZXcgY2VudGVyIGFuZCBub3QgdGhlIHdob2xlIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Ntb290aEV4dGVudENvbnN0cmFpbnQ9dHJ1ZV0gSWYgdHJ1ZSwgdGhlIGV4dGVudFxuICogY29uc3RyYWludCB3aWxsIGJlIGFwcGxpZWQgc21vb3RobHksIGkuZS4gYWxsb3cgdGhlIHZpZXcgdG8gZ28gc2xpZ2h0bHkgb3V0c2lkZVxuICogb2YgdGhlIGdpdmVuIGBleHRlbnRgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIHVzZWQgdG8gZGV0ZXJtaW5lXG4gKiB0aGUgcmVzb2x1dGlvbiBjb25zdHJhaW50LiBJdCBpcyB1c2VkIHRvZ2V0aGVyIHdpdGggYG1pblJlc29sdXRpb25gIChvclxuICogYG1heFpvb21gKSBhbmQgYHpvb21GYWN0b3JgLiBJZiB1bnNwZWNpZmllZCBpdCBpcyBjYWxjdWxhdGVkIGluIHN1Y2ggYSB3YXlcbiAqIHRoYXQgdGhlIHByb2plY3Rpb24ncyB2YWxpZGl0eSBleHRlbnQgZml0cyBpbiBhIDI1NngyNTYgcHggdGlsZS4gSWYgdGhlXG4gKiBwcm9qZWN0aW9uIGlzIFNwaGVyaWNhbCBNZXJjYXRvciAodGhlIGRlZmF1bHQpIHRoZW4gYG1heFJlc29sdXRpb25gIGRlZmF1bHRzXG4gKiB0byBgNDAwNzUwMTYuNjg1NTc4NDkgLyAyNTYgPSAxNTY1NDMuMDMzOTI4MDQwOTdgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIHVzZWQgdG8gZGV0ZXJtaW5lXG4gKiB0aGUgcmVzb2x1dGlvbiBjb25zdHJhaW50LiAgSXQgaXMgdXNlZCB0b2dldGhlciB3aXRoIGBtYXhSZXNvbHV0aW9uYCAob3JcbiAqIGBtaW5ab29tYCkgYW5kIGB6b29tRmFjdG9yYC4gIElmIHVuc3BlY2lmaWVkIGl0IGlzIGNhbGN1bGF0ZWQgYXNzdW1pbmcgMjlcbiAqIHpvb20gbGV2ZWxzICh3aXRoIGEgZmFjdG9yIG9mIDIpLiBJZiB0aGUgcHJvamVjdGlvbiBpcyBTcGhlcmljYWwgTWVyY2F0b3JcbiAqICh0aGUgZGVmYXVsdCkgdGhlbiBgbWluUmVzb2x1dGlvbmAgZGVmYXVsdHMgdG9cbiAqIGA0MDA3NTAxNi42ODU1Nzg0OSAvIDI1NiAvIE1hdGgucG93KDIsIDI4KSA9IDAuMDAwNTgzMTY4MjQ1NTgzOTI1M2AuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb209MjhdIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgdXNlZCB0byBkZXRlcm1pbmUgdGhlXG4gKiByZXNvbHV0aW9uIGNvbnN0cmFpbnQuIEl0IGlzIHVzZWQgdG9nZXRoZXIgd2l0aCBgbWluWm9vbWAgKG9yXG4gKiBgbWF4UmVzb2x1dGlvbmApIGFuZCBgem9vbUZhY3RvcmAuICBOb3RlIHRoYXQgaWYgYG1pblJlc29sdXRpb25gIGlzIGFsc29cbiAqIHByb3ZpZGVkLCBpdCBpcyBnaXZlbiBwcmVjZWRlbmNlIG92ZXIgYG1heFpvb21gLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tPTBdIFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgdXNlZCB0byBkZXRlcm1pbmUgdGhlXG4gKiByZXNvbHV0aW9uIGNvbnN0cmFpbnQuIEl0IGlzIHVzZWQgdG9nZXRoZXIgd2l0aCBgbWF4Wm9vbWAgKG9yXG4gKiBgbWluUmVzb2x1dGlvbmApIGFuZCBgem9vbUZhY3RvcmAuICBOb3RlIHRoYXQgaWYgYG1heFJlc29sdXRpb25gIGlzIGFsc29cbiAqIHByb3ZpZGVkLCBpdCBpcyBnaXZlbiBwcmVjZWRlbmNlIG92ZXIgYG1pblpvb21gLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbbXVsdGlXb3JsZD1mYWxzZV0gSWYgYGZhbHNlYCB0aGUgdmlldyBpcyBjb25zdHJhaW5lZCBzb1xuICogb25seSBvbmUgd29ybGQgaXMgdmlzaWJsZSwgYW5kIHlvdSBjYW5ub3QgcGFuIG9mZiB0aGUgZWRnZS4gIElmIGB0cnVlYCB0aGUgbWFwXG4gKiBtYXkgc2hvdyBtdWx0aXBsZSB3b3JsZHMgYXQgbG93IHpvb20gbGV2ZWxzLiAgT25seSB1c2VkIGlmIHRoZSBgcHJvamVjdGlvbmAgaXNcbiAqIGdsb2JhbC4gIE5vdGUgdGhhdCBpZiBgZXh0ZW50YCBpcyBhbHNvIHByb3ZpZGVkIGl0IGlzIGdpdmVuIHByZWNlZGVuY2UuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb25zdHJhaW5SZXNvbHV0aW9uPWZhbHNlXSBJZiB0cnVlLCB0aGUgdmlldyB3aWxsIGFsd2F5c1xuICogYW5pbWF0ZSB0byB0aGUgY2xvc2VzdCB6b29tIGxldmVsIGFmdGVyIGFuIGludGVyYWN0aW9uOyBmYWxzZSBtZWFuc1xuICogaW50ZXJtZWRpYXJ5IHpvb20gbGV2ZWxzIGFyZSBhbGxvd2VkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc21vb3RoUmVzb2x1dGlvbkNvbnN0cmFpbnQ9dHJ1ZV0gSWYgdHJ1ZSwgdGhlIHJlc29sdXRpb25cbiAqIG1pbi9tYXggdmFsdWVzIHdpbGwgYmUgYXBwbGllZCBzbW9vdGhseSwgaS4gZS4gYWxsb3cgdGhlIHZpZXcgdG8gZXhjZWVkIHNsaWdodGx5XG4gKiB0aGUgZ2l2ZW4gcmVzb2x1dGlvbiBvciB6b29tIGJvdW5kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Nob3dGdWxsRXh0ZW50PWZhbHNlXSBBbGxvdyB0aGUgdmlldyB0byBiZSB6b29tZWQgb3V0IHRvXG4gKiBzaG93IHRoZSBmdWxsIGNvbmZpZ3VyZWQgZXh0ZW50LiBCeSBkZWZhdWx0LCB3aGVuIGEgdmlldyBpcyBjb25maWd1cmVkIHdpdGggYW5cbiAqIGV4dGVudCwgdXNlcnMgd2lsbCBub3QgYmUgYWJsZSB0byB6b29tIG91dCBzbyB0aGUgdmlld3BvcnQgZXhjZWVkcyB0aGUgZXh0ZW50IGluXG4gKiBlaXRoZXIgZGltZW5zaW9uLiBUaGlzIG1lYW5zIHRoZSBmdWxsIGV4dGVudCBtYXkgbm90IGJlIHZpc2libGUgaWYgdGhlIHZpZXdwb3J0XG4gKiBpcyB0YWxsZXIgb3Igd2lkZXIgdGhhbiB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSBjb25maWd1cmVkIGV4dGVudC4gSWZcbiAqIHNob3dGdWxsRXh0ZW50IGlzIHRydWUsIHRoZSB1c2VyIHdpbGwgYmUgYWJsZSB0byB6b29tIG91dCBzbyB0aGF0IHRoZSB2aWV3cG9ydFxuICogZXhjZWVkcyB0aGUgaGVpZ2h0IG9yIHdpZHRoIG9mIHRoZSBjb25maWd1cmVkIGV4dGVudCwgYnV0IG5vdCBib3RoLCBhbGxvd2luZyB0aGVcbiAqIGZ1bGwgZXh0ZW50IHRvIGJlIHNob3duLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uPSdFUFNHOjM4NTcnXSBUaGVcbiAqIHByb2plY3Rpb24uIFRoZSBkZWZhdWx0IGlzIFNwaGVyaWNhbCBNZXJjYXRvci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gVGhlIGluaXRpYWwgcmVzb2x1dGlvbiBmb3IgdGhlIHZpZXcuIFRoZVxuICogdW5pdHMgYXJlIGBwcm9qZWN0aW9uYCB1bml0cyBwZXIgcGl4ZWwgKGUuZy4gbWV0ZXJzIHBlciBwaXhlbCkuIEFuXG4gKiBhbHRlcm5hdGl2ZSB0byBzZXR0aW5nIHRoaXMgaXMgdG8gc2V0IGB6b29tYC4gTGF5ZXIgc291cmNlcyB3aWxsIG5vdCBiZVxuICogZmV0Y2hlZCBpZiBuZWl0aGVyIHRoaXMgbm9yIGB6b29tYCBhcmUgZGVmaW5lZCwgYnV0IHRoZXkgY2FuIGJlIHNldCBsYXRlclxuICogd2l0aCB7QGxpbmsgI3NldFpvb219IG9yIHtAbGluayAjc2V0UmVzb2x1dGlvbn0uXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtyZXNvbHV0aW9uc10gUmVzb2x1dGlvbnMgdGhhdCBkZXRlcm1pbmUgdGhlXG4gKiB6b29tIGxldmVscyBpZiBzcGVjaWZpZWQuIFRoZSBpbmRleCBpbiB0aGUgYXJyYXkgY29ycmVzcG9uZHMgdG8gdGhlIHpvb20gbGV2ZWwsXG4gKiB0aGVyZWZvcmUgdGhlIHJlc29sdXRpb24gdmFsdWVzIGhhdmUgdG8gYmUgaW4gZGVzY2VuZGluZyBvcmRlci4gSXQgYWxzbyBjb25zdHJhaW5zXG4gKiB0aGUgcmVzb2x1dGlvbiBieSB0aGUgbWluaW11bSBhbmQgbWF4aW11bSB2YWx1ZS4gSWYgc2V0IHRoZSBgbWF4UmVzb2x1dGlvbmAsXG4gKiBgbWluUmVzb2x1dGlvbmAsIGBtaW5ab29tYCwgYG1heFpvb21gLCBhbmQgYHpvb21GYWN0b3JgIG9wdGlvbnMgYXJlIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JvdGF0aW9uPTBdIFRoZSBpbml0aWFsIHJvdGF0aW9uIGZvciB0aGUgdmlldyBpbiByYWRpYW5zXG4gKiAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlLCAwIG1lYW5zIE5vcnRoKS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbV0gT25seSB1c2VkIGlmIGByZXNvbHV0aW9uYCBpcyBub3QgZGVmaW5lZC4gWm9vbVxuICogbGV2ZWwgdXNlZCB0byBjYWxjdWxhdGUgdGhlIGluaXRpYWwgcmVzb2x1dGlvbiBmb3IgdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pvb21GYWN0b3I9Ml0gVGhlIHpvb20gZmFjdG9yIHVzZWQgdG8gY29tcHV0ZSB0aGVcbiAqIGNvcnJlc3BvbmRpbmcgcmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7IUFycmF5PG51bWJlcj59IFtwYWRkaW5nPVswLCAwLCAwLCAwXV0gUGFkZGluZyAoaW4gY3NzIHBpeGVscykuXG4gKiBJZiB0aGUgbWFwIHZpZXdwb3J0IGlzIHBhcnRpYWxseSBjb3ZlcmVkIHdpdGggb3RoZXIgY29udGVudCAob3ZlcmxheXMpIGFsb25nXG4gKiBpdHMgZWRnZXMsIHRoaXMgc2V0dGluZyBhbGxvd3MgdG8gc2hpZnQgdGhlIGNlbnRlciBvZiB0aGUgdmlld3BvcnQgYXdheSBmcm9tXG4gKiB0aGF0IGNvbnRlbnQuIFRoZSBvcmRlciBvZiB0aGUgdmFsdWVzIGlzIHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdC5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEFuaW1hdGlvbk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtjZW50ZXJdIFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcgYXQgdGhlIGVuZCBvZlxuICogdGhlIGFuaW1hdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbV0gVGhlIHpvb20gbGV2ZWwgb2YgdGhlIHZpZXcgYXQgdGhlIGVuZCBvZiB0aGVcbiAqIGFuaW1hdGlvbi4gVGhpcyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYHJlc29sdXRpb25gLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdmlldyBhdCB0aGUgZW5kXG4gKiBvZiB0aGUgYW5pbWF0aW9uLiAgSWYgYHpvb21gIGlzIGFsc28gcHJvdmlkZWQsIHRoaXMgb3B0aW9uIHdpbGwgYmUgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb25dIFRoZSByb3RhdGlvbiBvZiB0aGUgdmlldyBhdCB0aGUgZW5kIG9mXG4gKiB0aGUgYW5pbWF0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gT3B0aW9uYWwgYW5jaG9yIHRvIHJlbWFpbiBmaXhlZFxuICogZHVyaW5nIGEgcm90YXRpb24gb3IgcmVzb2x1dGlvbiBhbmltYXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTEwMDBdIFRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24obnVtYmVyKTpudW1iZXJ9IFtlYXNpbmddIFRoZSBlYXNpbmcgZnVuY3Rpb24gdXNlZFxuICogZHVyaW5nIHRoZSBhbmltYXRpb24gKGRlZmF1bHRzIHRvIHtAbGluayBtb2R1bGU6b2wvZWFzaW5nLmluQW5kT3V0fSkuXG4gKiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggZnJhbWUgd2l0aCBhIG51bWJlciByZXByZXNlbnRpbmcgYVxuICogZnJhY3Rpb24gb2YgdGhlIGFuaW1hdGlvbidzIGR1cmF0aW9uLiAgVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBudW1iZXJcbiAqIGJldHdlZW4gMCBhbmQgMSByZXByZXNlbnRpbmcgdGhlIHByb2dyZXNzIHRvd2FyZCB0aGUgZGVzdGluYXRpb24gc3RhdGUuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTdGF0ZVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtuZXh0Q2VudGVyXSBUaGUgbmV4dCBjZW50ZXIgZHVyaW5nIGFuIGFuaW1hdGlvbiBzZXJpZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW25leHRSZXNvbHV0aW9uXSBUaGUgbmV4dCByZXNvbHV0aW9uIGR1cmluZyBhbiBhbmltYXRpb24gc2VyaWVzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtuZXh0Um90YXRpb25dIFRoZSBuZXh0IHJvdGF0aW9uIGR1cmluZyBhbiBhbmltYXRpb24gc2VyaWVzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHpvb20gWm9vbS5cbiAqL1xuXG4vKipcbiAqIERlZmF1bHQgbWluIHpvb20gbGV2ZWwgZm9yIHRoZSBtYXAgdmlldy5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmNvbnN0IERFRkFVTFRfTUlOX1pPT00gPSAwO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3wnY2hhbmdlOmNlbnRlcid8J2NoYW5nZTpyZXNvbHV0aW9uJ3wnY2hhbmdlOnJvdGF0aW9uJ30gVmlld09iamVjdEV2ZW50VHlwZXNcbiAqL1xuXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPFZpZXdPYmplY3RFdmVudFR5cGVzLCBpbXBvcnQoXCIuL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfFZpZXdPYmplY3RFdmVudFR5cGVzLCBSZXR1cm4+fSBWaWV3T25TaWduYXR1cmVcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgVmlldyBvYmplY3QgcmVwcmVzZW50cyBhIHNpbXBsZSAyRCB2aWV3IG9mIHRoZSBtYXAuXG4gKlxuICogVGhpcyBpcyB0aGUgb2JqZWN0IHRvIGFjdCB1cG9uIHRvIGNoYW5nZSB0aGUgY2VudGVyLCByZXNvbHV0aW9uLFxuICogYW5kIHJvdGF0aW9uIG9mIHRoZSBtYXAuXG4gKlxuICogQSBWaWV3IGhhcyBhIGBwcm9qZWN0aW9uYC4gVGhlIHByb2plY3Rpb24gZGV0ZXJtaW5lcyB0aGVcbiAqIGNvb3JkaW5hdGUgc3lzdGVtIG9mIHRoZSBjZW50ZXIsIGFuZCBpdHMgdW5pdHMgZGV0ZXJtaW5lIHRoZSB1bml0cyBvZiB0aGVcbiAqIHJlc29sdXRpb24gKHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsKS4gVGhlIGRlZmF1bHQgcHJvamVjdGlvbiBpc1xuICogV2ViIE1lcmNhdG9yIChFUFNHOjM4NTcpLlxuICpcbiAqICMjIyBUaGUgdmlldyBzdGF0ZXNcbiAqXG4gKiBBIFZpZXcgaXMgZGV0ZXJtaW5lZCBieSB0aHJlZSBzdGF0ZXM6IGBjZW50ZXJgLCBgcmVzb2x1dGlvbmAsXG4gKiBhbmQgYHJvdGF0aW9uYC4gRWFjaCBzdGF0ZSBoYXMgYSBjb3JyZXNwb25kaW5nIGdldHRlciBhbmQgc2V0dGVyLCBlLmcuXG4gKiBgZ2V0Q2VudGVyYCBhbmQgYHNldENlbnRlcmAgZm9yIHRoZSBgY2VudGVyYCBzdGF0ZS5cbiAqXG4gKiBUaGUgYHpvb21gIHN0YXRlIGlzIGFjdHVhbGx5IG5vdCBzYXZlZCBvbiB0aGUgdmlldzogYWxsIGNvbXB1dGF0aW9uc1xuICogaW50ZXJuYWxseSB1c2UgdGhlIGByZXNvbHV0aW9uYCBzdGF0ZS4gU3RpbGwsIHRoZSBgc2V0Wm9vbWAgYW5kIGBnZXRab29tYFxuICogbWV0aG9kcyBhcmUgYXZhaWxhYmxlLCBhcyB3ZWxsIGFzIGBnZXRSZXNvbHV0aW9uRm9yWm9vbWAgYW5kXG4gKiBgZ2V0Wm9vbUZvclJlc29sdXRpb25gIHRvIHN3aXRjaCBmcm9tIG9uZSBzeXN0ZW0gdG8gdGhlIG90aGVyLlxuICpcbiAqICMjIyBUaGUgY29uc3RyYWludHNcbiAqXG4gKiBgc2V0Q2VudGVyYCwgYHNldFJlc29sdXRpb25gIGFuZCBgc2V0Um90YXRpb25gIGNhbiBiZSB1c2VkIHRvIGNoYW5nZSB0aGVcbiAqIHN0YXRlcyBvZiB0aGUgdmlldywgYnV0IGFueSBjb25zdHJhaW50IGRlZmluZWQgaW4gdGhlIGNvbnN0cnVjdG9yIHdpbGxcbiAqIGJlIGFwcGxpZWQgYWxvbmcgdGhlIHdheS5cbiAqXG4gKiBBIFZpZXcgb2JqZWN0IGNhbiBoYXZlIGEgKnJlc29sdXRpb24gY29uc3RyYWludCosIGEgKnJvdGF0aW9uIGNvbnN0cmFpbnQqXG4gKiBhbmQgYSAqY2VudGVyIGNvbnN0cmFpbnQqLlxuICpcbiAqIFRoZSAqcmVzb2x1dGlvbiBjb25zdHJhaW50KiB0eXBpY2FsbHkgcmVzdHJpY3RzIG1pbi9tYXggdmFsdWVzIGFuZFxuICogc25hcHMgdG8gc3BlY2lmaWMgcmVzb2x1dGlvbnMuIEl0IGlzIGRldGVybWluZWQgYnkgdGhlIGZvbGxvd2luZ1xuICogb3B0aW9uczogYHJlc29sdXRpb25zYCwgYG1heFJlc29sdXRpb25gLCBgbWF4Wm9vbWAgYW5kIGB6b29tRmFjdG9yYC5cbiAqIElmIGByZXNvbHV0aW9uc2AgaXMgc2V0LCB0aGUgb3RoZXIgdGhyZWUgb3B0aW9ucyBhcmUgaWdub3JlZC4gU2VlXG4gKiBkb2N1bWVudGF0aW9uIGZvciBlYWNoIG9wdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gQnkgZGVmYXVsdCwgdGhlIHZpZXdcbiAqIG9ubHkgaGFzIGEgbWluL21heCByZXN0cmljdGlvbiBhbmQgYWxsb3cgaW50ZXJtZWRpYXJ5IHpvb20gbGV2ZWxzIHdoZW5cbiAqIHBpbmNoLXpvb21pbmcgZm9yIGV4YW1wbGUuXG4gKlxuICogVGhlICpyb3RhdGlvbiBjb25zdHJhaW50KiBzbmFwcyB0byBzcGVjaWZpYyBhbmdsZXMuIEl0IGlzIGRldGVybWluZWRcbiAqIGJ5IHRoZSBmb2xsb3dpbmcgb3B0aW9uczogYGVuYWJsZVJvdGF0aW9uYCBhbmQgYGNvbnN0cmFpblJvdGF0aW9uYC5cbiAqIEJ5IGRlZmF1bHQgcm90YXRpb24gaXMgYWxsb3dlZCBhbmQgaXRzIHZhbHVlIGlzIHNuYXBwZWQgdG8gemVybyB3aGVuIGFwcHJvYWNoaW5nIHRoZVxuICogaG9yaXpvbnRhbC5cbiAqXG4gKiBUaGUgKmNlbnRlciBjb25zdHJhaW50KiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBgZXh0ZW50YCBvcHRpb24uIEJ5XG4gKiBkZWZhdWx0IHRoZSB2aWV3IGNlbnRlciBpcyBub3QgY29uc3RyYWluZWQgYXQgYWxsLlxuICpcbiAqICMjIyBDaGFuZ2luZyB0aGUgdmlldyBzdGF0ZVxuICpcbiAqIEl0IGlzIGltcG9ydGFudCB0byBub3RlIHRoYXQgYHNldFpvb21gLCBgc2V0UmVzb2x1dGlvbmAsIGBzZXRDZW50ZXJgIGFuZFxuICogYHNldFJvdGF0aW9uYCBhcmUgc3ViamVjdCB0byB0aGUgYWJvdmUgbWVudGlvbmVkIGNvbnN0cmFpbnRzLiBBcyBzdWNoLCBpdFxuICogbWF5IHNvbWV0aW1lcyBub3QgYmUgcG9zc2libGUgdG8ga25vdyBpbiBhZHZhbmNlIHRoZSByZXN1bHRpbmcgc3RhdGUgb2YgdGhlXG4gKiBWaWV3LiBGb3IgZXhhbXBsZSwgY2FsbGluZyBgc2V0UmVzb2x1dGlvbigxMClgIGRvZXMgbm90IGd1YXJhbnRlZSB0aGF0XG4gKiBgZ2V0UmVzb2x1dGlvbigpYCB3aWxsIHJldHVybiBgMTBgLlxuICpcbiAqIEEgY29uc2VxdWVuY2Ugb2YgdGhpcyBpcyB0aGF0LCB3aGVuIGFwcGx5aW5nIGEgZGVsdGEgb24gdGhlIHZpZXcgc3RhdGUsIG9uZVxuICogc2hvdWxkIHVzZSBgYWRqdXN0Q2VudGVyYCwgYGFkanVzdFJvdGF0aW9uYCwgYGFkanVzdFpvb21gIGFuZCBgYWRqdXN0UmVzb2x1dGlvbmBcbiAqIHJhdGhlciB0aGFuIHRoZSBjb3JyZXNwb25kaW5nIHNldHRlcnMuIFRoaXMgd2lsbCBsZXQgdmlldyBkbyBpdHMgaW50ZXJuYWxcbiAqIGNvbXB1dGF0aW9ucy4gQmVzaWRlcywgdGhlIGBhZGp1c3QqYCBtZXRob2RzIGFsc28gdGFrZSBhbiBgYW5jaG9yYFxuICogYXJndW1lbnQgd2hpY2ggYWxsb3dzIHNwZWNpZnlpbmcgYW4gb3JpZ2luIGZvciB0aGUgdHJhbnNmb3JtYXRpb24uXG4gKlxuICogIyMjIEludGVyYWN0aW5nIHdpdGggdGhlIHZpZXdcbiAqXG4gKiBWaWV3IGNvbnN0cmFpbnRzIGFyZSB1c3VhbGx5IG9ubHkgYXBwbGllZCB3aGVuIHRoZSB2aWV3IGlzICphdCByZXN0KiwgbWVhbmluZyB0aGF0XG4gKiBubyBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgb25nb2luZy4gQXMgc3VjaCwgaWYgdGhlIHVzZXIgcHV0cyB0aGUgdmlldyBpbiBhXG4gKiBzdGF0ZSB0aGF0IGlzIG5vdCBlcXVpdmFsZW50IHRvIGEgY29uc3RyYWluZWQgb25lIChlLmcuIHJvdGF0aW5nIHRoZSB2aWV3IHdoZW5cbiAqIHRoZSBzbmFwIGFuZ2xlIGlzIDApLCBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQgYXQgdGhlIGludGVyYWN0aW9uIGVuZCB0b1xuICogcHV0IGJhY2sgdGhlIHZpZXcgdG8gYSBzdGFibGUgc3RhdGU7XG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBWaWV3IGV4dGVuZHMgQmFzZU9iamVjdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1ZpZXdPcHRpb25zfSBbb3B0aW9uc10gVmlldyBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge1ZpZXdPblNpZ25hdHVyZTxpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge1ZpZXdPblNpZ25hdHVyZTxpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7Vmlld09uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuaGludHNfID0gWzAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8QXJyYXk8QW5pbWF0aW9uPj59XG4gICAgICovXG4gICAgdGhpcy5hbmltYXRpb25zXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMucHJvamVjdGlvbl8gPSBjcmVhdGVQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbiwgJ0VQU0c6Mzg1NycpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy52aWV3cG9ydFNpemVfID0gWzEwMCwgMTAwXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldFJlc29sdXRpb25fO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldFJvdGF0aW9uXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqL1xuICAgIHRoaXMubmV4dENlbnRlcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubmV4dFJlc29sdXRpb25fO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubmV4dFJvdGF0aW9uXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmNhbmNlbEFuY2hvcl8gPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAob3B0aW9ucy5wcm9qZWN0aW9uKSB7XG4gICAgICBkaXNhYmxlQ29vcmRpbmF0ZVdhcm5pbmcoKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICBvcHRpb25zLmNlbnRlciA9IGZyb21Vc2VyQ29vcmRpbmF0ZShvcHRpb25zLmNlbnRlciwgdGhpcy5wcm9qZWN0aW9uXyk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmV4dGVudCkge1xuICAgICAgb3B0aW9ucy5leHRlbnQgPSBmcm9tVXNlckV4dGVudChvcHRpb25zLmV4dGVudCwgdGhpcy5wcm9qZWN0aW9uXyk7XG4gICAgfVxuXG4gICAgdGhpcy5hcHBseU9wdGlvbnNfKG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB1cCB0aGUgdmlldyB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuICAgKiBAcGFyYW0ge1ZpZXdPcHRpb25zfSBvcHRpb25zIFZpZXcgb3B0aW9ucy5cbiAgICovXG4gIGFwcGx5T3B0aW9uc18ob3B0aW9ucykge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBWaWV3UHJvcGVydHkpIHtcbiAgICAgIGRlbGV0ZSBwcm9wZXJ0aWVzW2tleV07XG4gICAgfVxuICAgIHRoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzLCB0cnVlKTtcblxuICAgIGNvbnN0IHJlc29sdXRpb25Db25zdHJhaW50SW5mbyA9IGNyZWF0ZVJlc29sdXRpb25Db25zdHJhaW50KG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4UmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uQ29uc3RyYWludEluZm8ubWF4UmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1pblJlc29sdXRpb25fID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLm1pblJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy56b29tRmFjdG9yXyA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby56b29tRmFjdG9yO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uc18gPSBvcHRpb25zLnJlc29sdXRpb25zO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj58dW5kZWZpbmVkfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5wYWRkaW5nXyA9IG9wdGlvbnMucGFkZGluZztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1pblpvb21fID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLm1pblpvb207XG5cbiAgICBjb25zdCBjZW50ZXJDb25zdHJhaW50ID0gY3JlYXRlQ2VudGVyQ29uc3RyYWludChvcHRpb25zKTtcbiAgICBjb25zdCByZXNvbHV0aW9uQ29uc3RyYWludCA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby5jb25zdHJhaW50O1xuICAgIGNvbnN0IHJvdGF0aW9uQ29uc3RyYWludCA9IGNyZWF0ZVJvdGF0aW9uQ29uc3RyYWludChvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NvbnN0cmFpbnRzfVxuICAgICAqL1xuICAgIHRoaXMuY29uc3RyYWludHNfID0ge1xuICAgICAgY2VudGVyOiBjZW50ZXJDb25zdHJhaW50LFxuICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbkNvbnN0cmFpbnQsXG4gICAgICByb3RhdGlvbjogcm90YXRpb25Db25zdHJhaW50LFxuICAgIH07XG5cbiAgICB0aGlzLnNldFJvdGF0aW9uKG9wdGlvbnMucm90YXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRpb24gOiAwKTtcbiAgICB0aGlzLnNldENlbnRlckludGVybmFsKFxuICAgICAgb3B0aW9ucy5jZW50ZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2VudGVyIDogbnVsbFxuICAgICk7XG4gICAgaWYgKG9wdGlvbnMucmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldFJlc29sdXRpb24ob3B0aW9ucy5yZXNvbHV0aW9uKTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldFpvb20ob3B0aW9ucy56b29tKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGFkZGluZyAoaW4gY3NzIHBpeGVscykuXG4gICAqIElmIHRoZSBtYXAgdmlld3BvcnQgaXMgcGFydGlhbGx5IGNvdmVyZWQgd2l0aCBvdGhlciBjb250ZW50IChvdmVybGF5cykgYWxvbmdcbiAgICogaXRzIGVkZ2VzLCB0aGlzIHNldHRpbmcgYWxsb3dzIHRvIHNoaWZ0IHRoZSBjZW50ZXIgb2YgdGhlIHZpZXdwb3J0IGF3YXkgZnJvbSB0aGF0XG4gICAqIGNvbnRlbnQuIFRoZSBvcmRlciBvZiB0aGUgdmFsdWVzIGluIHRoZSBhcnJheSBpcyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQuXG4gICAqIFRoZSBkZWZhdWx0IGlzIG5vIHBhZGRpbmcsIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gYFswLCAwLCAwLCAwXWAuXG4gICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH1cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0IHBhZGRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFkZGluZ187XG4gIH1cbiAgc2V0IHBhZGRpbmcocGFkZGluZykge1xuICAgIGxldCBvbGRQYWRkaW5nID0gdGhpcy5wYWRkaW5nXztcbiAgICB0aGlzLnBhZGRpbmdfID0gcGFkZGluZztcbiAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmdldENlbnRlcigpO1xuICAgIGlmIChjZW50ZXIpIHtcbiAgICAgIGNvbnN0IG5ld1BhZGRpbmcgPSBwYWRkaW5nIHx8IFswLCAwLCAwLCAwXTtcbiAgICAgIG9sZFBhZGRpbmcgPSBvbGRQYWRkaW5nIHx8IFswLCAwLCAwLCAwXTtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oKTtcbiAgICAgIGNvbnN0IG9mZnNldFggPVxuICAgICAgICAocmVzb2x1dGlvbiAvIDIpICpcbiAgICAgICAgKG5ld1BhZGRpbmdbM10gLSBvbGRQYWRkaW5nWzNdICsgb2xkUGFkZGluZ1sxXSAtIG5ld1BhZGRpbmdbMV0pO1xuICAgICAgY29uc3Qgb2Zmc2V0WSA9XG4gICAgICAgIChyZXNvbHV0aW9uIC8gMikgKlxuICAgICAgICAobmV3UGFkZGluZ1swXSAtIG9sZFBhZGRpbmdbMF0gKyBvbGRQYWRkaW5nWzJdIC0gbmV3UGFkZGluZ1syXSk7XG4gICAgICB0aGlzLnNldENlbnRlckludGVybmFsKFtjZW50ZXJbMF0gKyBvZmZzZXRYLCBjZW50ZXJbMV0gLSBvZmZzZXRZXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiB1cGRhdGVkIHZlcnNpb24gb2YgdGhlIHZpZXcgb3B0aW9ucyB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgdmlldy4gIFRoZVxuICAgKiBjdXJyZW50IHJlc29sdXRpb24gKG9yIHpvb20pLCBjZW50ZXIsIGFuZCByb3RhdGlvbiBhcmUgYXBwbGllZCB0byBhbnkgc3RvcmVkXG4gICAqIG9wdGlvbnMuICBUaGUgcHJvdmlkZWQgb3B0aW9ucyBjYW4gYmUgdXNlZCB0byBhcHBseSBuZXcgbWluL21heCB6b29tIG9yXG4gICAqIHJlc29sdXRpb24gbGltaXRzLlxuICAgKiBAcGFyYW0ge1ZpZXdPcHRpb25zfSBuZXdPcHRpb25zIE5ldyBvcHRpb25zIHRvIGJlIGFwcGxpZWQuXG4gICAqIEByZXR1cm4ge1ZpZXdPcHRpb25zfSBOZXcgb3B0aW9ucyB1cGRhdGVkIHdpdGggdGhlIGN1cnJlbnQgdmlldyBzdGF0ZS5cbiAgICovXG4gIGdldFVwZGF0ZWRPcHRpb25zXyhuZXdPcHRpb25zKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuZ2V0UHJvcGVydGllcygpO1xuXG4gICAgLy8gcHJlc2VydmUgcmVzb2x1dGlvbiAob3Igem9vbSlcbiAgICBpZiAob3B0aW9ucy5yZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdGlvbnMucmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zLnpvb20gPSB0aGlzLmdldFpvb20oKTtcbiAgICB9XG5cbiAgICAvLyBwcmVzZXJ2ZSBjZW50ZXJcbiAgICBvcHRpb25zLmNlbnRlciA9IHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKTtcblxuICAgIC8vIHByZXNlcnZlIHJvdGF0aW9uXG4gICAgb3B0aW9ucy5yb3RhdGlvbiA9IHRoaXMuZ2V0Um90YXRpb24oKTtcblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCBuZXdPcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbmltYXRlIHRoZSB2aWV3LiAgVGhlIHZpZXcncyBjZW50ZXIsIHpvb20gKG9yIHJlc29sdXRpb24pLCBhbmQgcm90YXRpb25cbiAgICogY2FuIGJlIGFuaW1hdGVkIGZvciBzbW9vdGggdHJhbnNpdGlvbnMgYmV0d2VlbiB2aWV3IHN0YXRlcy4gIEZvciBleGFtcGxlLFxuICAgKiB0byBhbmltYXRlIHRoZSB2aWV3IHRvIGEgbmV3IHpvb20gbGV2ZWw6XG4gICAqXG4gICAqICAgICB2aWV3LmFuaW1hdGUoe3pvb206IHZpZXcuZ2V0Wm9vbSgpICsgMX0pO1xuICAgKlxuICAgKiBCeSBkZWZhdWx0LCB0aGUgYW5pbWF0aW9uIGxhc3RzIG9uZSBzZWNvbmQgYW5kIHVzZXMgaW4tYW5kLW91dCBlYXNpbmcuICBZb3VcbiAgICogY2FuIGN1c3RvbWl6ZSB0aGlzIGJlaGF2aW9yIGJ5IGluY2x1ZGluZyBgZHVyYXRpb25gIChpbiBtaWxsaXNlY29uZHMpIGFuZFxuICAgKiBgZWFzaW5nYCBvcHRpb25zIChzZWUge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd9KS5cbiAgICpcbiAgICogVG8gY2hhaW4gdG9nZXRoZXIgbXVsdGlwbGUgYW5pbWF0aW9ucywgY2FsbCB0aGUgbWV0aG9kIHdpdGggbXVsdGlwbGVcbiAgICogYW5pbWF0aW9uIG9iamVjdHMuICBGb3IgZXhhbXBsZSwgdG8gZmlyc3Qgem9vbSBhbmQgdGhlbiBwYW46XG4gICAqXG4gICAqICAgICB2aWV3LmFuaW1hdGUoe3pvb206IDEwfSwge2NlbnRlcjogWzAsIDBdfSk7XG4gICAqXG4gICAqIElmIHlvdSBwcm92aWRlIGEgZnVuY3Rpb24gYXMgdGhlIGxhc3QgYXJndW1lbnQgdG8gdGhlIGFuaW1hdGUgbWV0aG9kLCBpdFxuICAgKiB3aWxsIGdldCBjYWxsZWQgYXQgdGhlIGVuZCBvZiBhbiBhbmltYXRpb24gc2VyaWVzLiAgVGhlIGNhbGxiYWNrIHdpbGwgYmVcbiAgICogY2FsbGVkIHdpdGggYHRydWVgIGlmIHRoZSBhbmltYXRpb24gc2VyaWVzIGNvbXBsZXRlZCBvbiBpdHMgb3duIG9yIGBmYWxzZWBcbiAgICogaWYgaXQgd2FzIGNhbmNlbGxlZC5cbiAgICpcbiAgICogQW5pbWF0aW9ucyBhcmUgY2FuY2VsbGVkIGJ5IHVzZXIgaW50ZXJhY3Rpb25zIChlLmcuIGRyYWdnaW5nIHRoZSBtYXApIG9yIGJ5XG4gICAqIGNhbGxpbmcgYHZpZXcuc2V0Q2VudGVyKClgLCBgdmlldy5zZXRSZXNvbHV0aW9uKClgLCBvciBgdmlldy5zZXRSb3RhdGlvbigpYFxuICAgKiAob3IgYW5vdGhlciBtZXRob2QgdGhhdCBjYWxscyBvbmUgb2YgdGhlc2UpLlxuICAgKlxuICAgKiBAcGFyYW0gey4uLihBbmltYXRpb25PcHRpb25zfGZ1bmN0aW9uKGJvb2xlYW4pOiB2b2lkKX0gdmFyX2FyZ3MgQW5pbWF0aW9uXG4gICAqICAgICBvcHRpb25zLiAgTXVsdGlwbGUgYW5pbWF0aW9ucyBjYW4gYmUgcnVuIGluIHNlcmllcyBieSBwYXNzaW5nIG11bHRpcGxlXG4gICAqICAgICBvcHRpb25zIG9iamVjdHMuICBUbyBydW4gbXVsdGlwbGUgYW5pbWF0aW9ucyBpbiBwYXJhbGxlbCwgY2FsbCB0aGUgbWV0aG9kXG4gICAqICAgICBtdWx0aXBsZSB0aW1lcy4gIEFuIG9wdGlvbmFsIGNhbGxiYWNrIGNhbiBiZSBwcm92aWRlZCBhcyBhIGZpbmFsXG4gICAqICAgICBhcmd1bWVudC4gIFRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXJcbiAgICogICAgIHRoZSBhbmltYXRpb24gY29tcGxldGVkIHdpdGhvdXQgYmVpbmcgY2FuY2VsbGVkLlxuICAgKiBAYXBpXG4gICAqL1xuICBhbmltYXRlKHZhcl9hcmdzKSB7XG4gICAgaWYgKHRoaXMuaXNEZWYoKSAmJiAhdGhpcy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgdGhpcy5yZXNvbHZlQ29uc3RyYWludHMoMCk7XG4gICAgfVxuICAgIGNvbnN0IGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XG4gICAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGlmIChvcHRpb25zLmNlbnRlcikge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMuY2VudGVyID0gZnJvbVVzZXJDb29yZGluYXRlKFxuICAgICAgICAgIG9wdGlvbnMuY2VudGVyLFxuICAgICAgICAgIHRoaXMuZ2V0UHJvamVjdGlvbigpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5hbmNob3IpIHtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICBvcHRpb25zLmFuY2hvciA9IGZyb21Vc2VyQ29vcmRpbmF0ZShcbiAgICAgICAgICBvcHRpb25zLmFuY2hvcixcbiAgICAgICAgICB0aGlzLmdldFByb2plY3Rpb24oKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgYXJnc1tpXSA9IG9wdGlvbnM7XG4gICAgfVxuICAgIHRoaXMuYW5pbWF0ZUludGVybmFsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Li4uKEFuaW1hdGlvbk9wdGlvbnN8ZnVuY3Rpb24oYm9vbGVhbik6IHZvaWQpfSB2YXJfYXJncyBBbmltYXRpb24gb3B0aW9ucy5cbiAgICovXG4gIGFuaW1hdGVJbnRlcm5hbCh2YXJfYXJncykge1xuICAgIGxldCBhbmltYXRpb25Db3VudCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgbGV0IGNhbGxiYWNrO1xuICAgIGlmIChcbiAgICAgIGFuaW1hdGlvbkNvdW50ID4gMSAmJlxuICAgICAgdHlwZW9mIGFyZ3VtZW50c1thbmltYXRpb25Db3VudCAtIDFdID09PSAnZnVuY3Rpb24nXG4gICAgKSB7XG4gICAgICBjYWxsYmFjayA9IGFyZ3VtZW50c1thbmltYXRpb25Db3VudCAtIDFdO1xuICAgICAgLS1hbmltYXRpb25Db3VudDtcbiAgICB9XG5cbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yICg7IGkgPCBhbmltYXRpb25Db3VudCAmJiAhdGhpcy5pc0RlZigpOyArK2kpIHtcbiAgICAgIC8vIGlmIHZpZXcgcHJvcGVydGllcyBhcmUgbm90IHlldCBzZXQsIHNob3J0Y3V0IHRvIHRoZSBmaW5hbCBzdGF0ZVxuICAgICAgY29uc3Qgc3RhdGUgPSBhcmd1bWVudHNbaV07XG4gICAgICBpZiAoc3RhdGUuY2VudGVyKSB7XG4gICAgICAgIHRoaXMuc2V0Q2VudGVySW50ZXJuYWwoc3RhdGUuY2VudGVyKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS56b29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXRab29tKHN0YXRlLnpvb20pO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5yZXNvbHV0aW9uKSB7XG4gICAgICAgIHRoaXMuc2V0UmVzb2x1dGlvbihzdGF0ZS5yZXNvbHV0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuc2V0Um90YXRpb24oc3RhdGUucm90YXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaSA9PT0gYW5pbWF0aW9uQ291bnQpIHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBhbmltYXRpb25DYWxsYmFjayhjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICBsZXQgY2VudGVyID0gdGhpcy50YXJnZXRDZW50ZXJfLnNsaWNlKCk7XG4gICAgbGV0IHJlc29sdXRpb24gPSB0aGlzLnRhcmdldFJlc29sdXRpb25fO1xuICAgIGxldCByb3RhdGlvbiA9IHRoaXMudGFyZ2V0Um90YXRpb25fO1xuICAgIGNvbnN0IHNlcmllcyA9IFtdO1xuICAgIGZvciAoOyBpIDwgYW5pbWF0aW9uQ291bnQ7ICsraSkge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IC8qKiBAdHlwZSB7QW5pbWF0aW9uT3B0aW9uc30gKi8gKGFyZ3VtZW50c1tpXSk7XG5cbiAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBjb21wbGV0ZTogZmFsc2UsXG4gICAgICAgIGFuY2hvcjogb3B0aW9ucy5hbmNob3IsXG4gICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMTAwMCxcbiAgICAgICAgZWFzaW5nOiBvcHRpb25zLmVhc2luZyB8fCBpbkFuZE91dCxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgfTtcblxuICAgICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICAgIGFuaW1hdGlvbi5zb3VyY2VDZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgIGFuaW1hdGlvbi50YXJnZXRDZW50ZXIgPSBvcHRpb25zLmNlbnRlci5zbGljZSgpO1xuICAgICAgICBjZW50ZXIgPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy56b29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbkZvclpvb20ob3B0aW9ucy56b29tKTtcbiAgICAgICAgcmVzb2x1dGlvbiA9IGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnJlc29sdXRpb24pIHtcbiAgICAgICAgYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbjtcbiAgICAgICAgcmVzb2x1dGlvbiA9IGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFuaW1hdGlvbi5zb3VyY2VSb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICBjb25zdCBkZWx0YSA9XG4gICAgICAgICAgbW9kdWxvKG9wdGlvbnMucm90YXRpb24gLSByb3RhdGlvbiArIE1hdGguUEksIDIgKiBNYXRoLlBJKSAtIE1hdGguUEk7XG4gICAgICAgIGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbiA9IHJvdGF0aW9uICsgZGVsdGE7XG4gICAgICAgIHJvdGF0aW9uID0gYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uO1xuICAgICAgfVxuXG4gICAgICAvLyBjaGVjayBpZiBhbmltYXRpb24gaXMgYSBuby1vcFxuICAgICAgaWYgKGlzTm9vcEFuaW1hdGlvbihhbmltYXRpb24pKSB7XG4gICAgICAgIGFuaW1hdGlvbi5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIC8vIHdlIHN0aWxsIHB1c2ggaXQgb250byB0aGUgc2VyaWVzIGZvciBjYWxsYmFjayBoYW5kbGluZ1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnQgKz0gYW5pbWF0aW9uLmR1cmF0aW9uO1xuICAgICAgfVxuICAgICAgc2VyaWVzLnB1c2goYW5pbWF0aW9uKTtcbiAgICB9XG4gICAgdGhpcy5hbmltYXRpb25zXy5wdXNoKHNlcmllcyk7XG4gICAgdGhpcy5zZXRIaW50KFZpZXdIaW50LkFOSU1BVElORywgMSk7XG4gICAgdGhpcy51cGRhdGVBbmltYXRpb25zXygpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBpZiB0aGUgdmlldyBpcyBiZWluZyBhbmltYXRlZC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHZpZXcgaXMgYmVpbmcgYW5pbWF0ZWQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEFuaW1hdGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5oaW50c19bVmlld0hpbnQuQU5JTUFUSU5HXSA+IDA7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIGlmIHRoZSB1c2VyIGlzIGludGVyYWN0aW5nIHdpdGggdGhlIHZpZXcsIHN1Y2ggYXMgcGFubmluZyBvciB6b29taW5nLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdmlldyBpcyBiZWluZyBpbnRlcmFjdGVkIHdpdGguXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEludGVyYWN0aW5nKCkge1xuICAgIHJldHVybiB0aGlzLmhpbnRzX1tWaWV3SGludC5JTlRFUkFDVElOR10gPiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbCBhbnkgb25nb2luZyBhbmltYXRpb25zLlxuICAgKiBAYXBpXG4gICAqL1xuICBjYW5jZWxBbmltYXRpb25zKCkge1xuICAgIHRoaXMuc2V0SGludChWaWV3SGludC5BTklNQVRJTkcsIC10aGlzLmhpbnRzX1tWaWV3SGludC5BTklNQVRJTkddKTtcbiAgICBsZXQgYW5jaG9yO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHRoaXMuYW5pbWF0aW9uc18ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5hbmltYXRpb25zX1tpXTtcbiAgICAgIGlmIChzZXJpZXNbMF0uY2FsbGJhY2spIHtcbiAgICAgICAgYW5pbWF0aW9uQ2FsbGJhY2soc2VyaWVzWzBdLmNhbGxiYWNrLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBpZiAoIWFuY2hvcikge1xuICAgICAgICBmb3IgKGxldCBqID0gMCwgamogPSBzZXJpZXMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IHNlcmllc1tqXTtcbiAgICAgICAgICBpZiAoIWFuaW1hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgICAgICAgYW5jaG9yID0gYW5pbWF0aW9uLmFuY2hvcjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFuaW1hdGlvbnNfLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5jYW5jZWxBbmNob3JfID0gYW5jaG9yO1xuICAgIHRoaXMubmV4dENlbnRlcl8gPSBudWxsO1xuICAgIHRoaXMubmV4dFJlc29sdXRpb25fID0gTmFOO1xuICAgIHRoaXMubmV4dFJvdGF0aW9uXyA9IE5hTjtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYWxsIGFuaW1hdGlvbnMuXG4gICAqL1xuICB1cGRhdGVBbmltYXRpb25zXygpIHtcbiAgICBpZiAodGhpcy51cGRhdGVBbmltYXRpb25LZXlfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5Xyk7XG4gICAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICghdGhpcy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGxldCBtb3JlID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuYW5pbWF0aW9uc18ubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMuYW5pbWF0aW9uc19baV07XG4gICAgICBsZXQgc2VyaWVzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgZm9yIChsZXQgaiA9IDAsIGpqID0gc2VyaWVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gc2VyaWVzW2pdO1xuICAgICAgICBpZiAoYW5pbWF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IG5vdyAtIGFuaW1hdGlvbi5zdGFydDtcbiAgICAgICAgbGV0IGZyYWN0aW9uID1cbiAgICAgICAgICBhbmltYXRpb24uZHVyYXRpb24gPiAwID8gZWxhcHNlZCAvIGFuaW1hdGlvbi5kdXJhdGlvbiA6IDE7XG4gICAgICAgIGlmIChmcmFjdGlvbiA+PSAxKSB7XG4gICAgICAgICAgYW5pbWF0aW9uLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICBmcmFjdGlvbiA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VyaWVzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9ncmVzcyA9IGFuaW1hdGlvbi5lYXNpbmcoZnJhY3Rpb24pO1xuICAgICAgICBpZiAoYW5pbWF0aW9uLnNvdXJjZUNlbnRlcikge1xuICAgICAgICAgIGNvbnN0IHgwID0gYW5pbWF0aW9uLnNvdXJjZUNlbnRlclswXTtcbiAgICAgICAgICBjb25zdCB5MCA9IGFuaW1hdGlvbi5zb3VyY2VDZW50ZXJbMV07XG4gICAgICAgICAgY29uc3QgeDEgPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyWzBdO1xuICAgICAgICAgIGNvbnN0IHkxID0gYW5pbWF0aW9uLnRhcmdldENlbnRlclsxXTtcbiAgICAgICAgICB0aGlzLm5leHRDZW50ZXJfID0gYW5pbWF0aW9uLnRhcmdldENlbnRlcjtcbiAgICAgICAgICBjb25zdCB4ID0geDAgKyBwcm9ncmVzcyAqICh4MSAtIHgwKTtcbiAgICAgICAgICBjb25zdCB5ID0geTAgKyBwcm9ncmVzcyAqICh5MSAtIHkwKTtcbiAgICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBbeCwgeV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uICYmIGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgY29uc3QgcmVzb2x1dGlvbiA9XG4gICAgICAgICAgICBwcm9ncmVzcyA9PT0gMVxuICAgICAgICAgICAgICA/IGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uXG4gICAgICAgICAgICAgIDogYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gK1xuICAgICAgICAgICAgICAgIHByb2dyZXNzICpcbiAgICAgICAgICAgICAgICAgIChhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbiAtIGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uKTtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uLmFuY2hvcikge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyh0aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgICAgICAgICAgY29uc3QgY29uc3RyYWluZWRSZXNvbHV0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucmVzb2x1dGlvbihcbiAgICAgICAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IHRoaXMuY2FsY3VsYXRlQ2VudGVyWm9vbShcbiAgICAgICAgICAgICAgY29uc3RyYWluZWRSZXNvbHV0aW9uLFxuICAgICAgICAgICAgICBhbmltYXRpb24uYW5jaG9yXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLm5leHRSZXNvbHV0aW9uXyA9IGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uO1xuICAgICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8odHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGFuaW1hdGlvbi5zb3VyY2VSb3RhdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uICE9PSB1bmRlZmluZWRcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3Qgcm90YXRpb24gPVxuICAgICAgICAgICAgcHJvZ3Jlc3MgPT09IDFcbiAgICAgICAgICAgICAgPyBtb2R1bG8oYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uICsgTWF0aC5QSSwgMiAqIE1hdGguUEkpIC1cbiAgICAgICAgICAgICAgICBNYXRoLlBJXG4gICAgICAgICAgICAgIDogYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uICtcbiAgICAgICAgICAgICAgICBwcm9ncmVzcyAqXG4gICAgICAgICAgICAgICAgICAoYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uIC0gYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uKTtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uLmFuY2hvcikge1xuICAgICAgICAgICAgY29uc3QgY29uc3RyYWluZWRSb3RhdGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJvdGF0aW9uKFxuICAgICAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IHRoaXMuY2FsY3VsYXRlQ2VudGVyUm90YXRlKFxuICAgICAgICAgICAgICBjb25zdHJhaW5lZFJvdGF0aW9uLFxuICAgICAgICAgICAgICBhbmltYXRpb24uYW5jaG9yXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLm5leHRSb3RhdGlvbl8gPSBhbmltYXRpb24udGFyZ2V0Um90YXRpb247XG4gICAgICAgICAgdGhpcy50YXJnZXRSb3RhdGlvbl8gPSByb3RhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKHRydWUpO1xuICAgICAgICBtb3JlID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFhbmltYXRpb24uY29tcGxldGUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNlcmllc0NvbXBsZXRlKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc19baV0gPSBudWxsO1xuICAgICAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuQU5JTUFUSU5HLCAtMSk7XG4gICAgICAgIHRoaXMubmV4dENlbnRlcl8gPSBudWxsO1xuICAgICAgICB0aGlzLm5leHRSZXNvbHV0aW9uXyA9IE5hTjtcbiAgICAgICAgdGhpcy5uZXh0Um90YXRpb25fID0gTmFOO1xuICAgICAgICBjb25zdCBjYWxsYmFjayA9IHNlcmllc1swXS5jYWxsYmFjaztcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgYW5pbWF0aW9uQ2FsbGJhY2soY2FsbGJhY2ssIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIHBydW5lIGNvbXBsZXRlZCBzZXJpZXNcbiAgICB0aGlzLmFuaW1hdGlvbnNfID0gdGhpcy5hbmltYXRpb25zXy5maWx0ZXIoQm9vbGVhbik7XG4gICAgaWYgKG1vcmUgJiYgdGhpcy51cGRhdGVBbmltYXRpb25LZXlfID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5XyA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShcbiAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25zXy5iaW5kKHRoaXMpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gVGFyZ2V0IHJvdGF0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhbmNob3IgUm90YXRpb24gYW5jaG9yLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlciBmb3Igcm90YXRpb24gYW5kIGFuY2hvci5cbiAgICovXG4gIGNhbGN1bGF0ZUNlbnRlclJvdGF0ZShyb3RhdGlvbiwgYW5jaG9yKSB7XG4gICAgbGV0IGNlbnRlcjtcbiAgICBjb25zdCBjdXJyZW50Q2VudGVyID0gdGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpO1xuICAgIGlmIChjdXJyZW50Q2VudGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNlbnRlciA9IFtjdXJyZW50Q2VudGVyWzBdIC0gYW5jaG9yWzBdLCBjdXJyZW50Q2VudGVyWzFdIC0gYW5jaG9yWzFdXTtcbiAgICAgIHJvdGF0ZUNvb3JkaW5hdGUoY2VudGVyLCByb3RhdGlvbiAtIHRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgICBhZGRDb29yZGluYXRlKGNlbnRlciwgYW5jaG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIGNlbnRlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYW5jaG9yIFpvb20gYW5jaG9yLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlciBmb3IgcmVzb2x1dGlvbiBhbmQgYW5jaG9yLlxuICAgKi9cbiAgY2FsY3VsYXRlQ2VudGVyWm9vbShyZXNvbHV0aW9uLCBhbmNob3IpIHtcbiAgICBsZXQgY2VudGVyO1xuICAgIGNvbnN0IGN1cnJlbnRDZW50ZXIgPSB0aGlzLmdldENlbnRlckludGVybmFsKCk7XG4gICAgY29uc3QgY3VycmVudFJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oKTtcbiAgICBpZiAoY3VycmVudENlbnRlciAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnRSZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHggPVxuICAgICAgICBhbmNob3JbMF0gLVxuICAgICAgICAocmVzb2x1dGlvbiAqIChhbmNob3JbMF0gLSBjdXJyZW50Q2VudGVyWzBdKSkgLyBjdXJyZW50UmVzb2x1dGlvbjtcbiAgICAgIGNvbnN0IHkgPVxuICAgICAgICBhbmNob3JbMV0gLVxuICAgICAgICAocmVzb2x1dGlvbiAqIChhbmNob3JbMV0gLSBjdXJyZW50Q2VudGVyWzFdKSkgLyBjdXJyZW50UmVzb2x1dGlvbjtcbiAgICAgIGNlbnRlciA9IFt4LCB5XTtcbiAgICB9XG4gICAgcmV0dXJuIGNlbnRlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZpZXdwb3J0IHNpemUuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb25dIFRha2UgaW50byBhY2NvdW50IHRoZSByb3RhdGlvbiBvZiB0aGUgdmlld3BvcnQgd2hlbiBnaXZpbmcgdGhlIHNpemVcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFZpZXdwb3J0IHNpemUgb3IgYFsxMDAsIDEwMF1gIHdoZW4gbm8gdmlld3BvcnQgaXMgZm91bmQuXG4gICAqL1xuICBnZXRWaWV3cG9ydFNpemVfKHJvdGF0aW9uKSB7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMudmlld3BvcnRTaXplXztcbiAgICBpZiAocm90YXRpb24pIHtcbiAgICAgIGNvbnN0IHcgPSBzaXplWzBdO1xuICAgICAgY29uc3QgaCA9IHNpemVbMV07XG4gICAgICByZXR1cm4gW1xuICAgICAgICBNYXRoLmFicyh3ICogTWF0aC5jb3Mocm90YXRpb24pKSArIE1hdGguYWJzKGggKiBNYXRoLnNpbihyb3RhdGlvbikpLFxuICAgICAgICBNYXRoLmFicyh3ICogTWF0aC5zaW4ocm90YXRpb24pKSArIE1hdGguYWJzKGggKiBNYXRoLmNvcyhyb3RhdGlvbikpLFxuICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIHNpemU7XG4gIH1cblxuICAvKipcbiAgICogU3RvcmVzIHRoZSB2aWV3cG9ydCBzaXplIG9uIHRoZSB2aWV3LiBUaGUgdmlld3BvcnQgc2l6ZSBpcyBub3QgcmVhZCBldmVyeSB0aW1lIGZyb20gdGhlIERPTVxuICAgKiB0byBhdm9pZCBwZXJmb3JtYW5jZSBoaXQgYW5kIGxheW91dCByZWZsb3cuXG4gICAqIFRoaXMgc2hvdWxkIGJlIGRvbmUgb24gbWFwIHNpemUgY2hhbmdlLlxuICAgKiBOb3RlOiB0aGUgY29uc3RyYWludHMgYXJlIG5vdCByZXNvbHZlZCBkdXJpbmcgYW4gYW5pbWF0aW9uIHRvIGF2b2lkIHN0b3BwaW5nIGl0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFtzaXplXSBWaWV3cG9ydCBzaXplOyBpZiB1bmRlZmluZWQsIFsxMDAsIDEwMF0gaXMgYXNzdW1lZFxuICAgKi9cbiAgc2V0Vmlld3BvcnRTaXplKHNpemUpIHtcbiAgICB0aGlzLnZpZXdwb3J0U2l6ZV8gPSBBcnJheS5pc0FycmF5KHNpemUpID8gc2l6ZS5zbGljZSgpIDogWzEwMCwgMTAwXTtcbiAgICBpZiAoIXRoaXMuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKDApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZpZXcgY2VudGVyLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENlbnRlcigpIHtcbiAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmdldENlbnRlckludGVybmFsKCk7XG4gICAgaWYgKCFjZW50ZXIpIHtcbiAgICAgIHJldHVybiBjZW50ZXI7XG4gICAgfVxuICAgIHJldHVybiB0b1VzZXJDb29yZGluYXRlKGNlbnRlciwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldyBjZW50ZXIgd2l0aG91dCB0cmFuc2Zvcm1pbmcgdG8gdXNlciBwcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuXG4gICAqL1xuICBnZXRDZW50ZXJJbnRlcm5hbCgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9ICovIChcbiAgICAgIHRoaXMuZ2V0KFZpZXdQcm9wZXJ0eS5DRU5URVIpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtDb25zdHJhaW50c30gQ29uc3RyYWludHMuXG4gICAqL1xuICBnZXRDb25zdHJhaW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50c187XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmVzb2x1dGlvbiBjb25zdHJhaW50IGlzIHNldFxuICAgKi9cbiAgZ2V0Q29uc3RyYWluUmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoJ2NvbnN0cmFpblJlc29sdXRpb24nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtoaW50c10gRGVzdGluYXRpb24gYXJyYXkuXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEhpbnQuXG4gICAqL1xuICBnZXRIaW50cyhoaW50cykge1xuICAgIGlmIChoaW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBoaW50c1swXSA9IHRoaXMuaGludHNfWzBdO1xuICAgICAgaGludHNbMV0gPSB0aGlzLmhpbnRzX1sxXTtcbiAgICAgIHJldHVybiBoaW50cztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaGludHNfLnNsaWNlKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBleHRlbnQgZm9yIHRoZSBjdXJyZW50IHZpZXcgc3RhdGUgYW5kIHRoZSBwYXNzZWQgc2l6ZS5cbiAgICogVGhlIHNpemUgaXMgdGhlIHBpeGVsIGRpbWVuc2lvbnMgb2YgdGhlIGJveCBpbnRvIHdoaWNoIHRoZSBjYWxjdWxhdGVkIGV4dGVudFxuICAgKiBzaG91bGQgZml0LiBJbiBtb3N0IGNhc2VzIHlvdSB3YW50IHRvIGdldCB0aGUgZXh0ZW50IG9mIHRoZSBlbnRpcmUgbWFwLFxuICAgKiB0aGF0IGlzIGBtYXAuZ2V0U2l6ZSgpYC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW3NpemVdIEJveCBwaXhlbCBzaXplLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBzaXplXG4gICAqIG9mIHRoZSBtYXAgdGhhdCB1c2VzIHRoaXMgdmlldyB3aWxsIGJlIHVzZWQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBjYWxjdWxhdGVFeHRlbnQoc2l6ZSkge1xuICAgIGNvbnN0IGV4dGVudCA9IHRoaXMuY2FsY3VsYXRlRXh0ZW50SW50ZXJuYWwoc2l6ZSk7XG4gICAgcmV0dXJuIHRvVXNlckV4dGVudChleHRlbnQsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbc2l6ZV0gQm94IHBpeGVsIHNpemUuIElmIG5vdCBwcm92aWRlZCxcbiAgICogdGhlIG1hcCdzIGxhc3Qga25vd24gdmlld3BvcnQgc2l6ZSB3aWxsIGJlIHVzZWQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgKi9cbiAgY2FsY3VsYXRlRXh0ZW50SW50ZXJuYWwoc2l6ZSkge1xuICAgIHNpemUgPSBzaXplIHx8IHRoaXMuZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXygpO1xuICAgIGNvbnN0IGNlbnRlciA9IC8qKiBAdHlwZSB7IWltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSAqLyAoXG4gICAgICB0aGlzLmdldENlbnRlckludGVybmFsKClcbiAgICApO1xuICAgIGFzc2VydChjZW50ZXIsIDEpOyAvLyBUaGUgdmlldyBjZW50ZXIgaXMgbm90IGRlZmluZWRcbiAgICBjb25zdCByZXNvbHV0aW9uID0gLyoqIEB0eXBlIHshbnVtYmVyfSAqLyAodGhpcy5nZXRSZXNvbHV0aW9uKCkpO1xuICAgIGFzc2VydChyZXNvbHV0aW9uICE9PSB1bmRlZmluZWQsIDIpOyAvLyBUaGUgdmlldyByZXNvbHV0aW9uIGlzIG5vdCBkZWZpbmVkXG4gICAgY29uc3Qgcm90YXRpb24gPSAvKiogQHR5cGUgeyFudW1iZXJ9ICovICh0aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgIGFzc2VydChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkLCAzKTsgLy8gVGhlIHZpZXcgcm90YXRpb24gaXMgbm90IGRlZmluZWRcblxuICAgIHJldHVybiBnZXRGb3JWaWV3QW5kU2l6ZShjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBzaXplKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1heGltdW0gcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNYXhSZXNvbHV0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1heFJlc29sdXRpb25fO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtaW5pbXVtIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1pblJlc29sdXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubWluUmVzb2x1dGlvbl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSB2aWV3LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1heFpvb20oKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoXG4gICAgICB0aGlzLmdldFpvb21Gb3JSZXNvbHV0aW9uKHRoaXMubWluUmVzb2x1dGlvbl8pXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYSBuZXcgbWF4aW11bSB6b29tIGxldmVsIGZvciB0aGUgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gVGhlIG1heGltdW0gem9vbSBsZXZlbC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TWF4Wm9vbSh6b29tKSB7XG4gICAgdGhpcy5hcHBseU9wdGlvbnNfKHRoaXMuZ2V0VXBkYXRlZE9wdGlvbnNfKHttYXhab29tOiB6b29tfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWluaW11bSB6b29tIGxldmVsIGZvciB0aGUgdmlldy5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWluaW11bSB6b29tIGxldmVsLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNaW5ab29tKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKFxuICAgICAgdGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbih0aGlzLm1heFJlc29sdXRpb25fKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgbmV3IG1pbmltdW0gem9vbSBsZXZlbCBmb3IgdGhlIHZpZXcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE1pblpvb20oem9vbSkge1xuICAgIHRoaXMuYXBwbHlPcHRpb25zXyh0aGlzLmdldFVwZGF0ZWRPcHRpb25zXyh7bWluWm9vbTogem9vbX0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB0aGUgdmlldyBzaG91bGQgYWxsb3cgaW50ZXJtZWRpYXJ5IHpvb20gbGV2ZWxzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgV2hldGhlciB0aGUgcmVzb2x1dGlvbiBpcyBjb25zdHJhaW5lZC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Q29uc3RyYWluUmVzb2x1dGlvbihlbmFibGVkKSB7XG4gICAgdGhpcy5hcHBseU9wdGlvbnNfKHRoaXMuZ2V0VXBkYXRlZE9wdGlvbnNfKHtjb25zdHJhaW5SZXNvbHV0aW9uOiBlbmFibGVkfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBUaGUgcHJvamVjdGlvbiBvZiB0aGUgdmlldy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UHJvamVjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZpZXcgcmVzb2x1dGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJlc29sdXRpb24oKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH0gKi8gKHRoaXMuZ2V0KFZpZXdQcm9wZXJ0eS5SRVNPTFVUSU9OKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSByZXNvbHV0aW9ucyBmb3IgdGhlIHZpZXcuIFRoaXMgcmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzb2x1dGlvbnNcbiAgICogcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgVmlldywgb3IgdW5kZWZpbmVkIGlmIG5vbmUgd2VyZSBnaXZlbi5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9IFRoZSByZXNvbHV0aW9ucyBvZiB0aGUgdmlldy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UmVzb2x1dGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzb2x1dGlvbnNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSBwcm92aWRlZCBleHRlbnQgKGluIG1hcCB1bml0cykgYW5kIHNpemUgKGluIHBpeGVscykuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbc2l6ZV0gQm94IHBpeGVsIHNpemUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHJlc29sdXRpb24gYXQgd2hpY2ggdGhlIHByb3ZpZGVkIGV4dGVudCB3aWxsIHJlbmRlciBhdFxuICAgKiAgICAgdGhlIGdpdmVuIHNpemUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJlc29sdXRpb25Gb3JFeHRlbnQoZXh0ZW50LCBzaXplKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVzb2x1dGlvbkZvckV4dGVudEludGVybmFsKFxuICAgICAgZnJvbVVzZXJFeHRlbnQoZXh0ZW50LCB0aGlzLmdldFByb2plY3Rpb24oKSksXG4gICAgICBzaXplXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHJlc29sdXRpb24gZm9yIGEgcHJvdmlkZWQgZXh0ZW50IChpbiBtYXAgdW5pdHMpIGFuZCBzaXplIChpbiBwaXhlbHMpLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW3NpemVdIEJveCBwaXhlbCBzaXplLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBwcm92aWRlZCBleHRlbnQgd2lsbCByZW5kZXIgYXRcbiAgICogICAgIHRoZSBnaXZlbiBzaXplLlxuICAgKi9cbiAgZ2V0UmVzb2x1dGlvbkZvckV4dGVudEludGVybmFsKGV4dGVudCwgc2l6ZSkge1xuICAgIHNpemUgPSBzaXplIHx8IHRoaXMuZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXygpO1xuICAgIGNvbnN0IHhSZXNvbHV0aW9uID0gZ2V0V2lkdGgoZXh0ZW50KSAvIHNpemVbMF07XG4gICAgY29uc3QgeVJlc29sdXRpb24gPSBnZXRIZWlnaHQoZXh0ZW50KSAvIHNpemVbMV07XG4gICAgcmV0dXJuIE1hdGgubWF4KHhSZXNvbHV0aW9uLCB5UmVzb2x1dGlvbik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxIGZvciBhXG4gICAqIHJlc29sdXRpb24uIEV4cG9uZW50aWFsIHNjYWxpbmcgaXMgYXNzdW1lZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3dlcl0gUG93ZXIuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9uKG51bWJlcik6IG51bWJlcn0gUmVzb2x1dGlvbiBmb3IgdmFsdWUgZnVuY3Rpb24uXG4gICAqL1xuICBnZXRSZXNvbHV0aW9uRm9yVmFsdWVGdW5jdGlvbihwb3dlcikge1xuICAgIHBvd2VyID0gcG93ZXIgfHwgMjtcbiAgICBjb25zdCBtYXhSZXNvbHV0aW9uID0gdGhpcy5nZXRDb25zdHJhaW5lZFJlc29sdXRpb24odGhpcy5tYXhSZXNvbHV0aW9uXyk7XG4gICAgY29uc3QgbWluUmVzb2x1dGlvbiA9IHRoaXMubWluUmVzb2x1dGlvbl87XG4gICAgY29uc3QgbWF4ID0gTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIG1pblJlc29sdXRpb24pIC8gTWF0aC5sb2cocG93ZXIpO1xuICAgIHJldHVybiAoXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZS5cbiAgICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbi5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3cocG93ZXIsIHZhbHVlICogbWF4KTtcbiAgICAgICAgcmV0dXJuIHJlc29sdXRpb247XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZpZXcgcm90YXRpb24uXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3IGluIHJhZGlhbnMuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJvdGF0aW9uKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KFZpZXdQcm9wZXJ0eS5ST1RBVElPTikpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHJlc29sdXRpb24gZm9yIGEgdmFsdWUgYmV0d2VlblxuICAgKiAwIGFuZCAxLiBFeHBvbmVudGlhbCBzY2FsaW5nIGlzIGFzc3VtZWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcG93ZXJdIFBvd2VyLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbihudW1iZXIpOiBudW1iZXJ9IFZhbHVlIGZvciByZXNvbHV0aW9uIGZ1bmN0aW9uLlxuICAgKi9cbiAgZ2V0VmFsdWVGb3JSZXNvbHV0aW9uRnVuY3Rpb24ocG93ZXIpIHtcbiAgICBjb25zdCBsb2dQb3dlciA9IE1hdGgubG9nKHBvd2VyIHx8IDIpO1xuICAgIGNvbnN0IG1heFJlc29sdXRpb24gPSB0aGlzLmdldENvbnN0cmFpbmVkUmVzb2x1dGlvbih0aGlzLm1heFJlc29sdXRpb25fKTtcbiAgICBjb25zdCBtaW5SZXNvbHV0aW9uID0gdGhpcy5taW5SZXNvbHV0aW9uXztcbiAgICBjb25zdCBtYXggPSBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gbWluUmVzb2x1dGlvbikgLyBsb2dQb3dlcjtcbiAgICByZXR1cm4gKFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAgICogQHJldHVybiB7bnVtYmVyfSBWYWx1ZS5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gKHJlc29sdXRpb24pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbikgLyBsb2dQb3dlciAvIG1heDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgc2l6ZSBvZiB0aGUgdmlld3BvcnQgbWludXMgcGFkZGluZy5cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbl0gVGFrZSBpbnRvIGFjY291bnQgdGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3cG9ydCB3aGVuIGdpdmluZyB0aGUgc2l6ZVxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gVmlld3BvcnQgc2l6ZSByZWR1Y2VkIGJ5IHRoZSBwYWRkaW5nLlxuICAgKi9cbiAgZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXyhyb3RhdGlvbikge1xuICAgIGxldCBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVfKHJvdGF0aW9uKTtcbiAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5wYWRkaW5nXztcbiAgICBpZiAocGFkZGluZykge1xuICAgICAgc2l6ZSA9IFtcbiAgICAgICAgc2l6ZVswXSAtIHBhZGRpbmdbMV0gLSBwYWRkaW5nWzNdLFxuICAgICAgICBzaXplWzFdIC0gcGFkZGluZ1swXSAtIHBhZGRpbmdbMl0sXG4gICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtTdGF0ZX0gVmlldyBzdGF0ZS5cbiAgICovXG4gIGdldFN0YXRlKCkge1xuICAgIGNvbnN0IHByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgY29uc3Qgcm90YXRpb24gPSB0aGlzLmdldFJvdGF0aW9uKCk7XG4gICAgbGV0IGNlbnRlciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovIChcbiAgICAgIHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKVxuICAgICk7XG4gICAgY29uc3QgcGFkZGluZyA9IHRoaXMucGFkZGluZ187XG4gICAgaWYgKHBhZGRpbmcpIHtcbiAgICAgIGNvbnN0IHJlZHVjZWRTaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKCk7XG4gICAgICBjZW50ZXIgPSBjYWxjdWxhdGVDZW50ZXJPbihcbiAgICAgICAgY2VudGVyLFxuICAgICAgICB0aGlzLmdldFZpZXdwb3J0U2l6ZV8oKSxcbiAgICAgICAgW3JlZHVjZWRTaXplWzBdIC8gMiArIHBhZGRpbmdbM10sIHJlZHVjZWRTaXplWzFdIC8gMiArIHBhZGRpbmdbMF1dLFxuICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICByb3RhdGlvblxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGNlbnRlcjogY2VudGVyLnNsaWNlKDApLFxuICAgICAgcHJvamVjdGlvbjogcHJvamVjdGlvbiAhPT0gdW5kZWZpbmVkID8gcHJvamVjdGlvbiA6IG51bGwsXG4gICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uLFxuICAgICAgbmV4dENlbnRlcjogdGhpcy5uZXh0Q2VudGVyXyxcbiAgICAgIG5leHRSZXNvbHV0aW9uOiB0aGlzLm5leHRSZXNvbHV0aW9uXyxcbiAgICAgIG5leHRSb3RhdGlvbjogdGhpcy5uZXh0Um90YXRpb25fLFxuICAgICAgcm90YXRpb246IHJvdGF0aW9uLFxuICAgICAgem9vbTogdGhpcy5nZXRab29tKCksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgem9vbSBsZXZlbC4gVGhpcyBtZXRob2QgbWF5IHJldHVybiBub24taW50ZWdlciB6b29tIGxldmVsc1xuICAgKiBpZiB0aGUgdmlldyBkb2VzIG5vdCBjb25zdHJhaW4gdGhlIHJlc29sdXRpb24sIG9yIGlmIGFuIGludGVyYWN0aW9uIG9yXG4gICAqIGFuaW1hdGlvbiBpcyB1bmRlcndheS5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gWm9vbS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Wm9vbSgpIHtcbiAgICBsZXQgem9vbTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgem9vbSA9IHRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgfVxuICAgIHJldHVybiB6b29tO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgem9vbSBsZXZlbCBmb3IgYSByZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBUaGUgcmVzb2x1dGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVGhlIHpvb20gbGV2ZWwgZm9yIHRoZSBwcm92aWRlZCByZXNvbHV0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRab29tRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uKSB7XG4gICAgbGV0IG9mZnNldCA9IHRoaXMubWluWm9vbV8gfHwgMDtcbiAgICBsZXQgbWF4LCB6b29tRmFjdG9yO1xuICAgIGlmICh0aGlzLnJlc29sdXRpb25zXykge1xuICAgICAgY29uc3QgbmVhcmVzdCA9IGxpbmVhckZpbmROZWFyZXN0KHRoaXMucmVzb2x1dGlvbnNfLCByZXNvbHV0aW9uLCAxKTtcbiAgICAgIG9mZnNldCA9IG5lYXJlc3Q7XG4gICAgICBtYXggPSB0aGlzLnJlc29sdXRpb25zX1tuZWFyZXN0XTtcbiAgICAgIGlmIChuZWFyZXN0ID09IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgem9vbUZhY3RvciA9IDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB6b29tRmFjdG9yID0gbWF4IC8gdGhpcy5yZXNvbHV0aW9uc19bbmVhcmVzdCArIDFdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtYXggPSB0aGlzLm1heFJlc29sdXRpb25fO1xuICAgICAgem9vbUZhY3RvciA9IHRoaXMuem9vbUZhY3Rvcl87XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQgKyBNYXRoLmxvZyhtYXggLyByZXNvbHV0aW9uKSAvIE1hdGgubG9nKHpvb21GYWN0b3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBab29tIGxldmVsLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB2aWV3IHJlc29sdXRpb24gZm9yIHRoZSBwcm92aWRlZCB6b29tIGxldmVsLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRSZXNvbHV0aW9uRm9yWm9vbSh6b29tKSB7XG4gICAgaWYgKHRoaXMucmVzb2x1dGlvbnNfKSB7XG4gICAgICBpZiAodGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlTGV2ZWwgPSBjbGFtcChcbiAgICAgICAgTWF0aC5mbG9vcih6b29tKSxcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIC0gMlxuICAgICAgKTtcbiAgICAgIGNvbnN0IHpvb21GYWN0b3IgPVxuICAgICAgICB0aGlzLnJlc29sdXRpb25zX1tiYXNlTGV2ZWxdIC8gdGhpcy5yZXNvbHV0aW9uc19bYmFzZUxldmVsICsgMV07XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLnJlc29sdXRpb25zX1tiYXNlTGV2ZWxdIC9cbiAgICAgICAgTWF0aC5wb3coem9vbUZhY3RvciwgY2xhbXAoem9vbSAtIGJhc2VMZXZlbCwgMCwgMSkpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5tYXhSZXNvbHV0aW9uXyAvIE1hdGgucG93KHRoaXMuem9vbUZhY3Rvcl8sIHpvb20gLSB0aGlzLm1pblpvb21fKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRml0IHRoZSBnaXZlbiBnZW9tZXRyeSBvciBleHRlbnQgYmFzZWQgb24gdGhlIGdpdmVuIG1hcCBzaXplIGFuZCBib3JkZXIuXG4gICAqIFRoZSBzaXplIGlzIHBpeGVsIGRpbWVuc2lvbnMgb2YgdGhlIGJveCB0byBmaXQgdGhlIGV4dGVudCBpbnRvLlxuICAgKiBJbiBtb3N0IGNhc2VzIHlvdSB3aWxsIHdhbnQgdG8gdXNlIHRoZSBtYXAgc2l6ZSwgdGhhdCBpcyBgbWFwLmdldFNpemUoKWAuXG4gICAqIFRha2VzIGNhcmUgb2YgdGhlIG1hcCBhbmdsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGdlb21ldHJ5T3JFeHRlbnQgVGhlIGdlb21ldHJ5IG9yXG4gICAqICAgICBleHRlbnQgdG8gZml0IHRoZSB2aWV3IHRvLlxuICAgKiBAcGFyYW0ge0ZpdE9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKiBAYXBpXG4gICAqL1xuICBmaXQoZ2VvbWV0cnlPckV4dGVudCwgb3B0aW9ucykge1xuICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovXG4gICAgbGV0IGdlb21ldHJ5O1xuICAgIGFzc2VydChcbiAgICAgIEFycmF5LmlzQXJyYXkoZ2VvbWV0cnlPckV4dGVudCkgfHxcbiAgICAgICAgdHlwZW9mICgvKiogQHR5cGUgez99ICovIChnZW9tZXRyeU9yRXh0ZW50KS5nZXRTaW1wbGlmaWVkR2VvbWV0cnkpID09PVxuICAgICAgICAgICdmdW5jdGlvbicsXG4gICAgICAyNFxuICAgICk7IC8vIEludmFsaWQgZXh0ZW50IG9yIGdlb21ldHJ5IHByb3ZpZGVkIGFzIGBnZW9tZXRyeWBcbiAgICBpZiAoQXJyYXkuaXNBcnJheShnZW9tZXRyeU9yRXh0ZW50KSkge1xuICAgICAgYXNzZXJ0KCFpc0VtcHR5KGdlb21ldHJ5T3JFeHRlbnQpLCAyNSk7IC8vIENhbm5vdCBmaXQgZW1wdHkgZXh0ZW50IHByb3ZpZGVkIGFzIGBnZW9tZXRyeWBcbiAgICAgIGNvbnN0IGV4dGVudCA9IGZyb21Vc2VyRXh0ZW50KGdlb21ldHJ5T3JFeHRlbnQsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgIGdlb21ldHJ5ID0gcG9seWdvbkZyb21FeHRlbnQoZXh0ZW50KTtcbiAgICB9IGVsc2UgaWYgKGdlb21ldHJ5T3JFeHRlbnQuZ2V0VHlwZSgpID09PSAnQ2lyY2xlJykge1xuICAgICAgY29uc3QgZXh0ZW50ID0gZnJvbVVzZXJFeHRlbnQoXG4gICAgICAgIGdlb21ldHJ5T3JFeHRlbnQuZ2V0RXh0ZW50KCksXG4gICAgICAgIHRoaXMuZ2V0UHJvamVjdGlvbigpXG4gICAgICApO1xuICAgICAgZ2VvbWV0cnkgPSBwb2x5Z29uRnJvbUV4dGVudChleHRlbnQpO1xuICAgICAgZ2VvbWV0cnkucm90YXRlKHRoaXMuZ2V0Um90YXRpb24oKSwgZ2V0Q2VudGVyKGV4dGVudCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB1c2VyUHJvamVjdGlvbiA9IGdldFVzZXJQcm9qZWN0aW9uKCk7XG4gICAgICBpZiAodXNlclByb2plY3Rpb24pIHtcbiAgICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgZ2VvbWV0cnlPckV4dGVudFxuICAgICAgICAgICAgLmNsb25lKClcbiAgICAgICAgICAgIC50cmFuc2Zvcm0odXNlclByb2plY3Rpb24sIHRoaXMuZ2V0UHJvamVjdGlvbigpKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyeU9yRXh0ZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZml0SW50ZXJuYWwoZ2VvbWV0cnksIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSByb3RhdGVkIGV4dGVudFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBUaGUgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50XCIpLkV4dGVudH0gVGhlIHJvdGF0ZWQgZXh0ZW50IGZvciB0aGUgZ2VvbWV0cnkuXG4gICAqL1xuICByb3RhdGVkRXh0ZW50Rm9yR2VvbWV0cnkoZ2VvbWV0cnkpIHtcbiAgICBjb25zdCByb3RhdGlvbiA9IHRoaXMuZ2V0Um90YXRpb24oKTtcbiAgICBjb25zdCBjb3NBbmdsZSA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgICBjb25zdCBzaW5BbmdsZSA9IE1hdGguc2luKC1yb3RhdGlvbik7XG4gICAgY29uc3QgY29vcmRzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgY29uc3Qgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgbGV0IG1pblJvdFggPSArSW5maW5pdHk7XG4gICAgbGV0IG1pblJvdFkgPSArSW5maW5pdHk7XG4gICAgbGV0IG1heFJvdFggPSAtSW5maW5pdHk7XG4gICAgbGV0IG1heFJvdFkgPSAtSW5maW5pdHk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gY29vcmRzLmxlbmd0aDsgaSA8IGlpOyBpICs9IHN0cmlkZSkge1xuICAgICAgY29uc3Qgcm90WCA9IGNvb3Jkc1tpXSAqIGNvc0FuZ2xlIC0gY29vcmRzW2kgKyAxXSAqIHNpbkFuZ2xlO1xuICAgICAgY29uc3Qgcm90WSA9IGNvb3Jkc1tpXSAqIHNpbkFuZ2xlICsgY29vcmRzW2kgKyAxXSAqIGNvc0FuZ2xlO1xuICAgICAgbWluUm90WCA9IE1hdGgubWluKG1pblJvdFgsIHJvdFgpO1xuICAgICAgbWluUm90WSA9IE1hdGgubWluKG1pblJvdFksIHJvdFkpO1xuICAgICAgbWF4Um90WCA9IE1hdGgubWF4KG1heFJvdFgsIHJvdFgpO1xuICAgICAgbWF4Um90WSA9IE1hdGgubWF4KG1heFJvdFksIHJvdFkpO1xuICAgIH1cbiAgICByZXR1cm4gW21pblJvdFgsIG1pblJvdFksIG1heFJvdFgsIG1heFJvdFldO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFRoZSBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtGaXRPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGZpdEludGVybmFsKGdlb21ldHJ5LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgbGV0IHNpemUgPSBvcHRpb25zLnNpemU7XG4gICAgaWYgKCFzaXplKSB7XG4gICAgICBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKCk7XG4gICAgfVxuICAgIGNvbnN0IHBhZGRpbmcgPVxuICAgICAgb3B0aW9ucy5wYWRkaW5nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBhZGRpbmcgOiBbMCwgMCwgMCwgMF07XG4gICAgY29uc3QgbmVhcmVzdCA9IG9wdGlvbnMubmVhcmVzdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uZWFyZXN0IDogZmFsc2U7XG4gICAgbGV0IG1pblJlc29sdXRpb247XG4gICAgaWYgKG9wdGlvbnMubWluUmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBtaW5SZXNvbHV0aW9uID0gb3B0aW9ucy5taW5SZXNvbHV0aW9uO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1pblJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb25Gb3Jab29tKG9wdGlvbnMubWF4Wm9vbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pblJlc29sdXRpb24gPSAwO1xuICAgIH1cblxuICAgIGNvbnN0IHJvdGF0ZWRFeHRlbnQgPSB0aGlzLnJvdGF0ZWRFeHRlbnRGb3JHZW9tZXRyeShnZW9tZXRyeSk7XG5cbiAgICAvLyBjYWxjdWxhdGUgcmVzb2x1dGlvblxuICAgIGxldCByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwocm90YXRlZEV4dGVudCwgW1xuICAgICAgc2l6ZVswXSAtIHBhZGRpbmdbMV0gLSBwYWRkaW5nWzNdLFxuICAgICAgc2l6ZVsxXSAtIHBhZGRpbmdbMF0gLSBwYWRkaW5nWzJdLFxuICAgIF0pO1xuICAgIHJlc29sdXRpb24gPSBpc05hTihyZXNvbHV0aW9uKVxuICAgICAgPyBtaW5SZXNvbHV0aW9uXG4gICAgICA6IE1hdGgubWF4KHJlc29sdXRpb24sIG1pblJlc29sdXRpb24pO1xuICAgIHJlc29sdXRpb24gPSB0aGlzLmdldENvbnN0cmFpbmVkUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBuZWFyZXN0ID8gMCA6IDEpO1xuXG4gICAgLy8gY2FsY3VsYXRlIGNlbnRlclxuICAgIGNvbnN0IHJvdGF0aW9uID0gdGhpcy5nZXRSb3RhdGlvbigpO1xuICAgIGNvbnN0IHNpbkFuZ2xlID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICAgIGNvbnN0IGNvc0FuZ2xlID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICAgIGNvbnN0IGNlbnRlclJvdCA9IGdldENlbnRlcihyb3RhdGVkRXh0ZW50KTtcbiAgICBjZW50ZXJSb3RbMF0gKz0gKChwYWRkaW5nWzFdIC0gcGFkZGluZ1szXSkgLyAyKSAqIHJlc29sdXRpb247XG4gICAgY2VudGVyUm90WzFdICs9ICgocGFkZGluZ1swXSAtIHBhZGRpbmdbMl0pIC8gMikgKiByZXNvbHV0aW9uO1xuICAgIGNvbnN0IGNlbnRlclggPSBjZW50ZXJSb3RbMF0gKiBjb3NBbmdsZSAtIGNlbnRlclJvdFsxXSAqIHNpbkFuZ2xlO1xuICAgIGNvbnN0IGNlbnRlclkgPSBjZW50ZXJSb3RbMV0gKiBjb3NBbmdsZSArIGNlbnRlclJvdFswXSAqIHNpbkFuZ2xlO1xuICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuZ2V0Q29uc3RyYWluZWRDZW50ZXIoW2NlbnRlclgsIGNlbnRlclldLCByZXNvbHV0aW9uKTtcbiAgICBjb25zdCBjYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2sgPyBvcHRpb25zLmNhbGxiYWNrIDogVk9JRDtcblxuICAgIGlmIChvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuYW5pbWF0ZUludGVybmFsKFxuICAgICAgICB7XG4gICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLFxuICAgICAgICB9LFxuICAgICAgICBjYWxsYmFja1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBjZW50ZXI7XG4gICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKGZhbHNlLCB0cnVlKTtcbiAgICAgIGFuaW1hdGlvbkNhbGxiYWNrKGNhbGxiYWNrLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2VudGVyIG9uIGNvb3JkaW5hdGUgYW5kIHZpZXcgcG9zaXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBCb3ggcGl4ZWwgc2l6ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwb3NpdGlvbiBQb3NpdGlvbiBvbiB0aGUgdmlldyB0byBjZW50ZXIgb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGNlbnRlck9uKGNvb3JkaW5hdGUsIHNpemUsIHBvc2l0aW9uKSB7XG4gICAgdGhpcy5jZW50ZXJPbkludGVybmFsKFxuICAgICAgZnJvbVVzZXJDb29yZGluYXRlKGNvb3JkaW5hdGUsIHRoaXMuZ2V0UHJvamVjdGlvbigpKSxcbiAgICAgIHNpemUsXG4gICAgICBwb3NpdGlvblxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIEJveCBwaXhlbCBzaXplLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBvc2l0aW9uIFBvc2l0aW9uIG9uIHRoZSB2aWV3IHRvIGNlbnRlciBvbi5cbiAgICovXG4gIGNlbnRlck9uSW50ZXJuYWwoY29vcmRpbmF0ZSwgc2l6ZSwgcG9zaXRpb24pIHtcbiAgICB0aGlzLnNldENlbnRlckludGVybmFsKFxuICAgICAgY2FsY3VsYXRlQ2VudGVyT24oXG4gICAgICAgIGNvb3JkaW5hdGUsXG4gICAgICAgIHNpemUsXG4gICAgICAgIHBvc2l0aW9uLFxuICAgICAgICB0aGlzLmdldFJlc29sdXRpb24oKSxcbiAgICAgICAgdGhpcy5nZXRSb3RhdGlvbigpXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBzaGlmdCBiZXR3ZWVuIG1hcCBhbmQgdmlld3BvcnQgY2VudGVyLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgU2l6ZS5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9IENlbnRlciBzaGlmdC5cbiAgICovXG4gIGNhbGN1bGF0ZUNlbnRlclNoaWZ0KGNlbnRlciwgcmVzb2x1dGlvbiwgcm90YXRpb24sIHNpemUpIHtcbiAgICBsZXQgY2VudGVyU2hpZnQ7XG4gICAgY29uc3QgcGFkZGluZyA9IHRoaXMucGFkZGluZ187XG4gICAgaWYgKHBhZGRpbmcgJiYgY2VudGVyKSB7XG4gICAgICBjb25zdCByZWR1Y2VkU2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXygtcm90YXRpb24pO1xuICAgICAgY29uc3Qgc2hpZnRlZENlbnRlciA9IGNhbGN1bGF0ZUNlbnRlck9uKFxuICAgICAgICBjZW50ZXIsXG4gICAgICAgIHNpemUsXG4gICAgICAgIFtyZWR1Y2VkU2l6ZVswXSAvIDIgKyBwYWRkaW5nWzNdLCByZWR1Y2VkU2l6ZVsxXSAvIDIgKyBwYWRkaW5nWzBdXSxcbiAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgcm90YXRpb25cbiAgICAgICk7XG4gICAgICBjZW50ZXJTaGlmdCA9IFtcbiAgICAgICAgY2VudGVyWzBdIC0gc2hpZnRlZENlbnRlclswXSxcbiAgICAgICAgY2VudGVyWzFdIC0gc2hpZnRlZENlbnRlclsxXSxcbiAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiBjZW50ZXJTaGlmdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBkZWZpbmVkLlxuICAgKi9cbiAgaXNEZWYoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpICYmIHRoaXMuZ2V0UmVzb2x1dGlvbigpICE9PSB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyByZWxhdGl2ZSBjb29yZGluYXRlcyB0byB0aGUgY2VudGVyIG9mIHRoZSB2aWV3LiBBbnkgZXh0ZW50IGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZGVsdGFDb29yZGluYXRlcyBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQuXG4gICAqIEBhcGlcbiAgICovXG4gIGFkanVzdENlbnRlcihkZWx0YUNvb3JkaW5hdGVzKSB7XG4gICAgY29uc3QgY2VudGVyID0gdG9Vc2VyQ29vcmRpbmF0ZSh0aGlzLnRhcmdldENlbnRlcl8sIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICB0aGlzLnNldENlbnRlcihbXG4gICAgICBjZW50ZXJbMF0gKyBkZWx0YUNvb3JkaW5hdGVzWzBdLFxuICAgICAgY2VudGVyWzFdICsgZGVsdGFDb29yZGluYXRlc1sxXSxcbiAgICBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHJlbGF0aXZlIGNvb3JkaW5hdGVzIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuIEFueSBleHRlbnQgY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBkZWx0YUNvb3JkaW5hdGVzIFJlbGF0aXZlIHZhbHVlIHRvIGFkZC5cbiAgICovXG4gIGFkanVzdENlbnRlckludGVybmFsKGRlbHRhQ29vcmRpbmF0ZXMpIHtcbiAgICBjb25zdCBjZW50ZXIgPSB0aGlzLnRhcmdldENlbnRlcl87XG4gICAgdGhpcy5zZXRDZW50ZXJJbnRlcm5hbChbXG4gICAgICBjZW50ZXJbMF0gKyBkZWx0YUNvb3JkaW5hdGVzWzBdLFxuICAgICAgY2VudGVyWzFdICsgZGVsdGFDb29yZGluYXRlc1sxXSxcbiAgICBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNdWx0aXBseSB0aGUgdmlldyByZXNvbHV0aW9uIGJ5IGEgcmF0aW8sIG9wdGlvbmFsbHkgdXNpbmcgYW4gYW5jaG9yLiBBbnkgcmVzb2x1dGlvblxuICAgKiBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByYXRpbyBUaGUgcmF0aW8gdG8gYXBwbHkgb24gdGhlIHZpZXcgcmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmb3JtYXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGFkanVzdFJlc29sdXRpb24ocmF0aW8sIGFuY2hvcikge1xuICAgIGFuY2hvciA9IGFuY2hvciAmJiBmcm9tVXNlckNvb3JkaW5hdGUoYW5jaG9yLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgdGhpcy5hZGp1c3RSZXNvbHV0aW9uSW50ZXJuYWwocmF0aW8sIGFuY2hvcik7XG4gIH1cblxuICAvKipcbiAgICogTXVsdGlwbHkgdGhlIHZpZXcgcmVzb2x1dGlvbiBieSBhIHJhdGlvLCBvcHRpb25hbGx5IHVzaW5nIGFuIGFuY2hvci4gQW55IHJlc29sdXRpb25cbiAgICogY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmF0aW8gVGhlIHJhdGlvIHRvIGFwcGx5IG9uIHRoZSB2aWV3IHJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFthbmNob3JdIFRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICAgKi9cbiAgYWRqdXN0UmVzb2x1dGlvbkludGVybmFsKHJhdGlvLCBhbmNob3IpIHtcbiAgICBjb25zdCBpc01vdmluZyA9IHRoaXMuZ2V0QW5pbWF0aW5nKCkgfHwgdGhpcy5nZXRJbnRlcmFjdGluZygpO1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8odGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICBjb25zdCBuZXdSZXNvbHV0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucmVzb2x1dGlvbihcbiAgICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbl8gKiByYXRpbyxcbiAgICAgIDAsXG4gICAgICBzaXplLFxuICAgICAgaXNNb3ZpbmdcbiAgICApO1xuXG4gICAgaWYgKGFuY2hvcikge1xuICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJab29tKG5ld1Jlc29sdXRpb24sIGFuY2hvcik7XG4gICAgfVxuXG4gICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyAqPSByYXRpbztcbiAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIHZhbHVlIHRvIHRoZSB2aWV3IHpvb20gbGV2ZWwsIG9wdGlvbmFsbHkgdXNpbmcgYW4gYW5jaG9yLiBBbnkgcmVzb2x1dGlvblxuICAgKiBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQgdG8gdGhlIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFthbmNob3JdIFRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBhZGp1c3Rab29tKGRlbHRhLCBhbmNob3IpIHtcbiAgICB0aGlzLmFkanVzdFJlc29sdXRpb24oTWF0aC5wb3codGhpcy56b29tRmFjdG9yXywgLWRlbHRhKSwgYW5jaG9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgdmFsdWUgdG8gdGhlIHZpZXcgcm90YXRpb24sIG9wdGlvbmFsbHkgdXNpbmcgYW4gYW5jaG9yLiBBbnkgcm90YXRpb25cbiAgICogY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgUmVsYXRpdmUgdmFsdWUgdG8gYWRkIHRvIHRoZSB6b29tIHJvdGF0aW9uLCBpbiByYWRpYW5zLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBUaGUgcm90YXRpb24gY2VudGVyLlxuICAgKiBAYXBpXG4gICAqL1xuICBhZGp1c3RSb3RhdGlvbihkZWx0YSwgYW5jaG9yKSB7XG4gICAgaWYgKGFuY2hvcikge1xuICAgICAgYW5jaG9yID0gZnJvbVVzZXJDb29yZGluYXRlKGFuY2hvciwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgIH1cbiAgICB0aGlzLmFkanVzdFJvdGF0aW9uSW50ZXJuYWwoZGVsdGEsIGFuY2hvcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIFJlbGF0aXZlIHZhbHVlIHRvIGFkZCB0byB0aGUgem9vbSByb3RhdGlvbiwgaW4gcmFkaWFucy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gVGhlIHJvdGF0aW9uIGNlbnRlci5cbiAgICovXG4gIGFkanVzdFJvdGF0aW9uSW50ZXJuYWwoZGVsdGEsIGFuY2hvcikge1xuICAgIGNvbnN0IGlzTW92aW5nID0gdGhpcy5nZXRBbmltYXRpbmcoKSB8fCB0aGlzLmdldEludGVyYWN0aW5nKCk7XG4gICAgY29uc3QgbmV3Um90YXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yb3RhdGlvbihcbiAgICAgIHRoaXMudGFyZ2V0Um90YXRpb25fICsgZGVsdGEsXG4gICAgICBpc01vdmluZ1xuICAgICk7XG4gICAgaWYgKGFuY2hvcikge1xuICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJSb3RhdGUobmV3Um90YXRpb24sIGFuY2hvcik7XG4gICAgfVxuICAgIHRoaXMudGFyZ2V0Um90YXRpb25fICs9IGRlbHRhO1xuICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNlbnRlciBvZiB0aGUgY3VycmVudCB2aWV3LiBBbnkgZXh0ZW50IGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IGNlbnRlciBUaGUgY2VudGVyIG9mIHRoZSB2aWV3LlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRDZW50ZXIoY2VudGVyKSB7XG4gICAgdGhpcy5zZXRDZW50ZXJJbnRlcm5hbChcbiAgICAgIGNlbnRlciA/IGZyb21Vc2VyQ29vcmRpbmF0ZShjZW50ZXIsIHRoaXMuZ2V0UHJvamVjdGlvbigpKSA6IGNlbnRlclxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjZW50ZXIgdXNpbmcgdGhlIHZpZXcgcHJvamVjdGlvbiAobm90IHRoZSB1c2VyIHByb2plY3Rpb24pLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gY2VudGVyIFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuXG4gICAqL1xuICBzZXRDZW50ZXJJbnRlcm5hbChjZW50ZXIpIHtcbiAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBjZW50ZXI7XG4gICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9WaWV3SGludC5qc1wiKS5kZWZhdWx0fSBoaW50IEhpbnQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBOZXcgdmFsdWUuXG4gICAqL1xuICBzZXRIaW50KGhpbnQsIGRlbHRhKSB7XG4gICAgdGhpcy5oaW50c19baGludF0gKz0gZGVsdGE7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgcmV0dXJuIHRoaXMuaGludHNfW2hpbnRdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcmVzb2x1dGlvbiBmb3IgdGhpcyB2aWV3LiBBbnkgcmVzb2x1dGlvbiBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKSB7XG4gICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcm90YXRpb24gZm9yIHRoaXMgdmlldy4gQW55IHJvdGF0aW9uIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFRoZSByb3RhdGlvbiBvZiB0aGUgdmlldyBpbiByYWRpYW5zLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRSb3RhdGlvbihyb3RhdGlvbikge1xuICAgIHRoaXMudGFyZ2V0Um90YXRpb25fID0gcm90YXRpb247XG4gICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFpvb20gdG8gYSBzcGVjaWZpYyB6b29tIGxldmVsLiBBbnkgcmVzb2x1dGlvbiBjb25zdHJhaW4gd2lsbCBhcHBseS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gWm9vbSBsZXZlbC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Wm9vbSh6b29tKSB7XG4gICAgdGhpcy5zZXRSZXNvbHV0aW9uKHRoaXMuZ2V0UmVzb2x1dGlvbkZvclpvb20oem9vbSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlY29tcHV0ZSByb3RhdGlvbi9yZXNvbHV0aW9uL2NlbnRlciBiYXNlZCBvbiB0YXJnZXQgdmFsdWVzLlxuICAgKiBOb3RlOiB3ZSBoYXZlIHRvIGNvbXB1dGUgcm90YXRpb24gZmlyc3QsIHRoZW4gcmVzb2x1dGlvbiBhbmQgY2VudGVyIGNvbnNpZGVyaW5nIHRoYXRcbiAgICogcGFyYW1ldGVycyBjYW4gaW5mbHVlbmNlIG9uZSBhbm90aGVyIGluIGNhc2UgYSB2aWV3IGV4dGVudCBjb25zdHJhaW50IGlzIHByZXNlbnQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RvTm90Q2FuY2VsQW5pbXNdIERvIG5vdCBjYW5jZWwgYW5pbWF0aW9ucy5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VNb3ZpbmddIEFwcGx5IGNvbnN0cmFpbnRzIGFzIGlmIHRoZSB2aWV3IGlzIG1vdmluZy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFwcGx5VGFyZ2V0U3RhdGVfKGRvTm90Q2FuY2VsQW5pbXMsIGZvcmNlTW92aW5nKSB7XG4gICAgY29uc3QgaXNNb3ZpbmcgPVxuICAgICAgdGhpcy5nZXRBbmltYXRpbmcoKSB8fCB0aGlzLmdldEludGVyYWN0aW5nKCkgfHwgZm9yY2VNb3Zpbmc7XG5cbiAgICAvLyBjb21wdXRlIHJvdGF0aW9uXG4gICAgY29uc3QgbmV3Um90YXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yb3RhdGlvbihcbiAgICAgIHRoaXMudGFyZ2V0Um90YXRpb25fLFxuICAgICAgaXNNb3ZpbmdcbiAgICApO1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8obmV3Um90YXRpb24pO1xuICAgIGNvbnN0IG5ld1Jlc29sdXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yZXNvbHV0aW9uKFxuICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyxcbiAgICAgIDAsXG4gICAgICBzaXplLFxuICAgICAgaXNNb3ZpbmdcbiAgICApO1xuICAgIGNvbnN0IG5ld0NlbnRlciA9IHRoaXMuY29uc3RyYWludHNfLmNlbnRlcihcbiAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyxcbiAgICAgIG5ld1Jlc29sdXRpb24sXG4gICAgICBzaXplLFxuICAgICAgaXNNb3ZpbmcsXG4gICAgICB0aGlzLmNhbGN1bGF0ZUNlbnRlclNoaWZ0KFxuICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8sXG4gICAgICAgIG5ld1Jlc29sdXRpb24sXG4gICAgICAgIG5ld1JvdGF0aW9uLFxuICAgICAgICBzaXplXG4gICAgICApXG4gICAgKTtcblxuICAgIGlmICh0aGlzLmdldChWaWV3UHJvcGVydHkuUk9UQVRJT04pICE9PSBuZXdSb3RhdGlvbikge1xuICAgICAgdGhpcy5zZXQoVmlld1Byb3BlcnR5LlJPVEFUSU9OLCBuZXdSb3RhdGlvbik7XG4gICAgfVxuICAgIGlmICh0aGlzLmdldChWaWV3UHJvcGVydHkuUkVTT0xVVElPTikgIT09IG5ld1Jlc29sdXRpb24pIHtcbiAgICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5SRVNPTFVUSU9OLCBuZXdSZXNvbHV0aW9uKTtcbiAgICAgIHRoaXMuc2V0KCd6b29tJywgdGhpcy5nZXRab29tKCksIHRydWUpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhbmV3Q2VudGVyIHx8XG4gICAgICAhdGhpcy5nZXQoVmlld1Byb3BlcnR5LkNFTlRFUikgfHxcbiAgICAgICFlcXVhbHModGhpcy5nZXQoVmlld1Byb3BlcnR5LkNFTlRFUiksIG5ld0NlbnRlcilcbiAgICApIHtcbiAgICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5DRU5URVIsIG5ld0NlbnRlcik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ2V0QW5pbWF0aW5nKCkgJiYgIWRvTm90Q2FuY2VsQW5pbXMpIHtcbiAgICAgIHRoaXMuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgIH1cbiAgICB0aGlzLmNhbmNlbEFuY2hvcl8gPSB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogSWYgYW55IGNvbnN0cmFpbnRzIG5lZWQgdG8gYmUgYXBwbGllZCwgYW4gYW5pbWF0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkLlxuICAgKiBUaGlzIGlzIHR5cGljYWxseSBkb25lIG9uIGludGVyYWN0aW9uIGVuZC5cbiAgICogTm90ZTogY2FsbGluZyB0aGlzIHdpdGggYSBkdXJhdGlvbiBvZiAwIHdpbGwgYXBwbHkgdGhlIGNvbnN0cmFpbmVkIHZhbHVlcyBzdHJhaWdodCBhd2F5LFxuICAgKiB3aXRob3V0IGFuaW1hdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkdXJhdGlvbl0gVGhlIGFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uRGlyZWN0aW9uXSBXaGljaCBkaXJlY3Rpb24gdG8gem9vbS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmb3JtYXRpb24uXG4gICAqL1xuICByZXNvbHZlQ29uc3RyYWludHMoZHVyYXRpb24sIHJlc29sdXRpb25EaXJlY3Rpb24sIGFuY2hvcikge1xuICAgIGR1cmF0aW9uID0gZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IGR1cmF0aW9uIDogMjAwO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHJlc29sdXRpb25EaXJlY3Rpb24gfHwgMDtcblxuICAgIGNvbnN0IG5ld1JvdGF0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucm90YXRpb24odGhpcy50YXJnZXRSb3RhdGlvbl8pO1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8obmV3Um90YXRpb24pO1xuICAgIGNvbnN0IG5ld1Jlc29sdXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yZXNvbHV0aW9uKFxuICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyxcbiAgICAgIGRpcmVjdGlvbixcbiAgICAgIHNpemVcbiAgICApO1xuICAgIGNvbnN0IG5ld0NlbnRlciA9IHRoaXMuY29uc3RyYWludHNfLmNlbnRlcihcbiAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyxcbiAgICAgIG5ld1Jlc29sdXRpb24sXG4gICAgICBzaXplLFxuICAgICAgZmFsc2UsXG4gICAgICB0aGlzLmNhbGN1bGF0ZUNlbnRlclNoaWZ0KFxuICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8sXG4gICAgICAgIG5ld1Jlc29sdXRpb24sXG4gICAgICAgIG5ld1JvdGF0aW9uLFxuICAgICAgICBzaXplXG4gICAgICApXG4gICAgKTtcblxuICAgIGlmIChkdXJhdGlvbiA9PT0gMCAmJiAhdGhpcy5jYW5jZWxBbmNob3JfKSB7XG4gICAgICB0aGlzLnRhcmdldFJlc29sdXRpb25fID0gbmV3UmVzb2x1dGlvbjtcbiAgICAgIHRoaXMudGFyZ2V0Um90YXRpb25fID0gbmV3Um90YXRpb247XG4gICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBuZXdDZW50ZXI7XG4gICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYW5jaG9yID0gYW5jaG9yIHx8IChkdXJhdGlvbiA9PT0gMCA/IHRoaXMuY2FuY2VsQW5jaG9yXyA6IHVuZGVmaW5lZCk7XG4gICAgdGhpcy5jYW5jZWxBbmNob3JfID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5nZXRSZXNvbHV0aW9uKCkgIT09IG5ld1Jlc29sdXRpb24gfHxcbiAgICAgIHRoaXMuZ2V0Um90YXRpb24oKSAhPT0gbmV3Um90YXRpb24gfHxcbiAgICAgICF0aGlzLmdldENlbnRlckludGVybmFsKCkgfHxcbiAgICAgICFlcXVhbHModGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpLCBuZXdDZW50ZXIpXG4gICAgKSB7XG4gICAgICBpZiAodGhpcy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgICB0aGlzLmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hbmltYXRlSW50ZXJuYWwoe1xuICAgICAgICByb3RhdGlvbjogbmV3Um90YXRpb24sXG4gICAgICAgIGNlbnRlcjogbmV3Q2VudGVyLFxuICAgICAgICByZXNvbHV0aW9uOiBuZXdSZXNvbHV0aW9uLFxuICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgYW5jaG9yOiBhbmNob3IsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTm90aWZ5IHRoZSBWaWV3IHRoYXQgYW4gaW50ZXJhY3Rpb24gaGFzIHN0YXJ0ZWQuXG4gICAqIFRoZSB2aWV3IHN0YXRlIHdpbGwgYmUgcmVzb2x2ZWQgdG8gYSBzdGFibGUgb25lIGlmIG5lZWRlZFxuICAgKiAoZGVwZW5kaW5nIG9uIGl0cyBjb25zdHJhaW50cykuXG4gICAqIEBhcGlcbiAgICovXG4gIGJlZ2luSW50ZXJhY3Rpb24oKSB7XG4gICAgdGhpcy5yZXNvbHZlQ29uc3RyYWludHMoMCk7XG5cbiAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuSU5URVJBQ1RJTkcsIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmeSB0aGUgVmlldyB0aGF0IGFuIGludGVyYWN0aW9uIGhhcyBlbmRlZC4gVGhlIHZpZXcgc3RhdGUgd2lsbCBiZSByZXNvbHZlZFxuICAgKiB0byBhIHN0YWJsZSBvbmUgaWYgbmVlZGVkIChkZXBlbmRpbmcgb24gaXRzIGNvbnN0cmFpbnRzKS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkdXJhdGlvbl0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1zLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25EaXJlY3Rpb25dIFdoaWNoIGRpcmVjdGlvbiB0byB6b29tLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZW5kSW50ZXJhY3Rpb24oZHVyYXRpb24sIHJlc29sdXRpb25EaXJlY3Rpb24sIGFuY2hvcikge1xuICAgIGFuY2hvciA9IGFuY2hvciAmJiBmcm9tVXNlckNvb3JkaW5hdGUoYW5jaG9yLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgdGhpcy5lbmRJbnRlcmFjdGlvbkludGVybmFsKGR1cmF0aW9uLCByZXNvbHV0aW9uRGlyZWN0aW9uLCBhbmNob3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmeSB0aGUgVmlldyB0aGF0IGFuIGludGVyYWN0aW9uIGhhcyBlbmRlZC4gVGhlIHZpZXcgc3RhdGUgd2lsbCBiZSByZXNvbHZlZFxuICAgKiB0byBhIHN0YWJsZSBvbmUgaWYgbmVlZGVkIChkZXBlbmRpbmcgb24gaXRzIGNvbnN0cmFpbnRzKS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkdXJhdGlvbl0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1zLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25EaXJlY3Rpb25dIFdoaWNoIGRpcmVjdGlvbiB0byB6b29tLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICovXG4gIGVuZEludGVyYWN0aW9uSW50ZXJuYWwoZHVyYXRpb24sIHJlc29sdXRpb25EaXJlY3Rpb24sIGFuY2hvcikge1xuICAgIHRoaXMuc2V0SGludChWaWV3SGludC5JTlRFUkFDVElORywgLTEpO1xuXG4gICAgdGhpcy5yZXNvbHZlQ29uc3RyYWludHMoZHVyYXRpb24sIHJlc29sdXRpb25EaXJlY3Rpb24sIGFuY2hvcik7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdmFsaWQgcG9zaXRpb24gZm9yIHRoZSB2aWV3IGNlbnRlciBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgY29uc3RyYWludHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSB0YXJnZXRDZW50ZXIgVGFyZ2V0IGNlbnRlciBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFt0YXJnZXRSZXNvbHV0aW9uXSBUYXJnZXQgcmVzb2x1dGlvbi4gSWYgbm90IHN1cHBsaWVkLCB0aGUgY3VycmVudCBvbmUgd2lsbCBiZSB1c2VkLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB0byBndWVzcyBhIHZhbGlkIGNlbnRlciBwb3NpdGlvbiBhdCBhIGRpZmZlcmVudCB6b29tIGxldmVsLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IFZhbGlkIGNlbnRlciBwb3NpdGlvbi5cbiAgICovXG4gIGdldENvbnN0cmFpbmVkQ2VudGVyKHRhcmdldENlbnRlciwgdGFyZ2V0UmVzb2x1dGlvbikge1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8odGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50c18uY2VudGVyKFxuICAgICAgdGFyZ2V0Q2VudGVyLFxuICAgICAgdGFyZ2V0UmVzb2x1dGlvbiB8fCB0aGlzLmdldFJlc29sdXRpb24oKSxcbiAgICAgIHNpemVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHZhbGlkIHpvb20gbGV2ZWwgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHZpZXcgY29uc3RyYWludHMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gdGFyZ2V0Wm9vbSBUYXJnZXQgem9vbS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkaXJlY3Rpb249MF0gSW5kaWNhdGUgd2hpY2ggcmVzb2x1dGlvbiBzaG91bGQgYmUgdXNlZFxuICAgKiBieSBhIHJlbmRlcmVyIGlmIHRoZSB2aWV3IHJlc29sdXRpb24gZG9lcyBub3QgbWF0Y2ggYW55IHJlc29sdXRpb24gb2YgdGhlIHRpbGUgc291cmNlLlxuICAgKiBJZiAwLCB0aGUgbmVhcmVzdCByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC4gSWYgMSwgdGhlIG5lYXJlc3QgbG93ZXIgcmVzb2x1dGlvblxuICAgKiB3aWxsIGJlIHVzZWQuIElmIC0xLCB0aGUgbmVhcmVzdCBoaWdoZXIgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuXG4gICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFZhbGlkIHpvb20gbGV2ZWwuXG4gICAqL1xuICBnZXRDb25zdHJhaW5lZFpvb20odGFyZ2V0Wm9vbSwgZGlyZWN0aW9uKSB7XG4gICAgY29uc3QgdGFyZ2V0UmVzID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbSh0YXJnZXRab29tKTtcbiAgICByZXR1cm4gdGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbihcbiAgICAgIHRoaXMuZ2V0Q29uc3RyYWluZWRSZXNvbHV0aW9uKHRhcmdldFJlcywgZGlyZWN0aW9uKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdmFsaWQgcmVzb2x1dGlvbiBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgdmlldyBjb25zdHJhaW50cy5cbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSB0YXJnZXRSZXNvbHV0aW9uIFRhcmdldCByZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2RpcmVjdGlvbj0wXSBJbmRpY2F0ZSB3aGljaCByZXNvbHV0aW9uIHNob3VsZCBiZSB1c2VkXG4gICAqIGJ5IGEgcmVuZGVyZXIgaWYgdGhlIHZpZXcgcmVzb2x1dGlvbiBkb2VzIG5vdCBtYXRjaCBhbnkgcmVzb2x1dGlvbiBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gICAqIElmIDAsIHRoZSBuZWFyZXN0IHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLiBJZiAxLCB0aGUgbmVhcmVzdCBsb3dlciByZXNvbHV0aW9uXG4gICAqIHdpbGwgYmUgdXNlZC4gSWYgLTEsIHRoZSBuZWFyZXN0IGhpZ2hlciByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVmFsaWQgcmVzb2x1dGlvbi5cbiAgICovXG4gIGdldENvbnN0cmFpbmVkUmVzb2x1dGlvbih0YXJnZXRSZXNvbHV0aW9uLCBkaXJlY3Rpb24pIHtcbiAgICBkaXJlY3Rpb24gPSBkaXJlY3Rpb24gfHwgMDtcbiAgICBjb25zdCBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVfKHRoaXMuZ2V0Um90YXRpb24oKSk7XG5cbiAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50c18ucmVzb2x1dGlvbih0YXJnZXRSZXNvbHV0aW9uLCBkaXJlY3Rpb24sIHNpemUpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKiBAcGFyYW0geyp9IHJldHVyblZhbHVlIFJldHVybiB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYW5pbWF0aW9uQ2FsbGJhY2soY2FsbGJhY2ssIHJldHVyblZhbHVlKSB7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGNhbGxiYWNrKHJldHVyblZhbHVlKTtcbiAgfSwgMCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2NlbnRlcmNvbnN0cmFpbnQuanNcIikuVHlwZX0gVGhlIGNvbnN0cmFpbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDZW50ZXJDb25zdHJhaW50KG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMuZXh0ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBzbW9vdGggPVxuICAgICAgb3B0aW9ucy5zbW9vdGhFeHRlbnRDb25zdHJhaW50ICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLnNtb290aEV4dGVudENvbnN0cmFpbnRcbiAgICAgICAgOiB0cnVlO1xuICAgIHJldHVybiBjcmVhdGVFeHRlbnQob3B0aW9ucy5leHRlbnQsIG9wdGlvbnMuY29uc3RyYWluT25seUNlbnRlciwgc21vb3RoKTtcbiAgfVxuXG4gIGNvbnN0IHByb2plY3Rpb24gPSBjcmVhdGVQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbiwgJ0VQU0c6Mzg1NycpO1xuICBpZiAob3B0aW9ucy5tdWx0aVdvcmxkICE9PSB0cnVlICYmIHByb2plY3Rpb24uaXNHbG9iYWwoKSkge1xuICAgIGNvbnN0IGV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCkuc2xpY2UoKTtcbiAgICBleHRlbnRbMF0gPSAtSW5maW5pdHk7XG4gICAgZXh0ZW50WzJdID0gSW5maW5pdHk7XG4gICAgcmV0dXJuIGNyZWF0ZUV4dGVudChleHRlbnQsIGZhbHNlLCBmYWxzZSk7XG4gIH1cblxuICByZXR1cm4gY2VudGVyTm9uZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1ZpZXdPcHRpb25zfSBvcHRpb25zIFZpZXcgb3B0aW9ucy5cbiAqIEByZXR1cm4ge3tjb25zdHJhaW50OiBpbXBvcnQoXCIuL3Jlc29sdXRpb25jb25zdHJhaW50LmpzXCIpLlR5cGUsIG1heFJlc29sdXRpb246IG51bWJlcixcbiAqICAgICBtaW5SZXNvbHV0aW9uOiBudW1iZXIsIG1pblpvb206IG51bWJlciwgem9vbUZhY3RvcjogbnVtYmVyfX0gVGhlIGNvbnN0cmFpbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXNvbHV0aW9uQ29uc3RyYWludChvcHRpb25zKSB7XG4gIGxldCByZXNvbHV0aW9uQ29uc3RyYWludDtcbiAgbGV0IG1heFJlc29sdXRpb247XG4gIGxldCBtaW5SZXNvbHV0aW9uO1xuXG4gIC8vIFRPRE86IG1vdmUgdGhlc2UgdG8gYmUgb2wgY29uc3RhbnRzXG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vb3BlbmxheWVycy9vcGVubGF5ZXJzL2lzc3Vlcy8yMDc2XG4gIGNvbnN0IGRlZmF1bHRNYXhab29tID0gMjg7XG4gIGNvbnN0IGRlZmF1bHRab29tRmFjdG9yID0gMjtcblxuICBsZXQgbWluWm9vbSA9XG4gICAgb3B0aW9ucy5taW5ab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pblpvb20gOiBERUZBVUxUX01JTl9aT09NO1xuXG4gIGxldCBtYXhab29tID1cbiAgICBvcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4Wm9vbSA6IGRlZmF1bHRNYXhab29tO1xuXG4gIGNvbnN0IHpvb21GYWN0b3IgPVxuICAgIG9wdGlvbnMuem9vbUZhY3RvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy56b29tRmFjdG9yIDogZGVmYXVsdFpvb21GYWN0b3I7XG5cbiAgY29uc3QgbXVsdGlXb3JsZCA9XG4gICAgb3B0aW9ucy5tdWx0aVdvcmxkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm11bHRpV29ybGQgOiBmYWxzZTtcblxuICBjb25zdCBzbW9vdGggPVxuICAgIG9wdGlvbnMuc21vb3RoUmVzb2x1dGlvbkNvbnN0cmFpbnQgIT09IHVuZGVmaW5lZFxuICAgICAgPyBvcHRpb25zLnNtb290aFJlc29sdXRpb25Db25zdHJhaW50XG4gICAgICA6IHRydWU7XG5cbiAgY29uc3Qgc2hvd0Z1bGxFeHRlbnQgPVxuICAgIG9wdGlvbnMuc2hvd0Z1bGxFeHRlbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2hvd0Z1bGxFeHRlbnQgOiBmYWxzZTtcblxuICBjb25zdCBwcm9qZWN0aW9uID0gY3JlYXRlUHJvamVjdGlvbihvcHRpb25zLnByb2plY3Rpb24sICdFUFNHOjM4NTcnKTtcbiAgY29uc3QgcHJvakV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gIGxldCBjb25zdHJhaW5Pbmx5Q2VudGVyID0gb3B0aW9ucy5jb25zdHJhaW5Pbmx5Q2VudGVyO1xuICBsZXQgZXh0ZW50ID0gb3B0aW9ucy5leHRlbnQ7XG4gIGlmICghbXVsdGlXb3JsZCAmJiAhZXh0ZW50ICYmIHByb2plY3Rpb24uaXNHbG9iYWwoKSkge1xuICAgIGNvbnN0cmFpbk9ubHlDZW50ZXIgPSBmYWxzZTtcbiAgICBleHRlbnQgPSBwcm9qRXh0ZW50O1xuICB9XG5cbiAgaWYgKG9wdGlvbnMucmVzb2x1dGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHJlc29sdXRpb25zID0gb3B0aW9ucy5yZXNvbHV0aW9ucztcbiAgICBtYXhSZXNvbHV0aW9uID0gcmVzb2x1dGlvbnNbbWluWm9vbV07XG4gICAgbWluUmVzb2x1dGlvbiA9XG4gICAgICByZXNvbHV0aW9uc1ttYXhab29tXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcmVzb2x1dGlvbnNbbWF4Wm9vbV1cbiAgICAgICAgOiByZXNvbHV0aW9uc1tyZXNvbHV0aW9ucy5sZW5ndGggLSAxXTtcblxuICAgIGlmIChvcHRpb25zLmNvbnN0cmFpblJlc29sdXRpb24pIHtcbiAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlU25hcFRvUmVzb2x1dGlvbnMoXG4gICAgICAgIHJlc29sdXRpb25zLFxuICAgICAgICBzbW9vdGgsXG4gICAgICAgICFjb25zdHJhaW5Pbmx5Q2VudGVyICYmIGV4dGVudCxcbiAgICAgICAgc2hvd0Z1bGxFeHRlbnRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlTWluTWF4UmVzb2x1dGlvbihcbiAgICAgICAgbWF4UmVzb2x1dGlvbixcbiAgICAgICAgbWluUmVzb2x1dGlvbixcbiAgICAgICAgc21vb3RoLFxuICAgICAgICAhY29uc3RyYWluT25seUNlbnRlciAmJiBleHRlbnQsXG4gICAgICAgIHNob3dGdWxsRXh0ZW50XG4gICAgICApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBjYWxjdWxhdGUgdGhlIGRlZmF1bHQgbWluIGFuZCBtYXggcmVzb2x1dGlvblxuICAgIGNvbnN0IHNpemUgPSAhcHJvakV4dGVudFxuICAgICAgPyAvLyB1c2UgYW4gZXh0ZW50IHRoYXQgY2FuIGZpdCB0aGUgd2hvbGUgd29ybGQgaWYgbmVlZCBiZVxuICAgICAgICAoMzYwICogTUVURVJTX1BFUl9VTklULmRlZ3JlZXMpIC8gcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KClcbiAgICAgIDogTWF0aC5tYXgoZ2V0V2lkdGgocHJvakV4dGVudCksIGdldEhlaWdodChwcm9qRXh0ZW50KSk7XG5cbiAgICBjb25zdCBkZWZhdWx0TWF4UmVzb2x1dGlvbiA9XG4gICAgICBzaXplIC8gREVGQVVMVF9USUxFX1NJWkUgLyBNYXRoLnBvdyhkZWZhdWx0Wm9vbUZhY3RvciwgREVGQVVMVF9NSU5fWk9PTSk7XG5cbiAgICBjb25zdCBkZWZhdWx0TWluUmVzb2x1dGlvbiA9XG4gICAgICBkZWZhdWx0TWF4UmVzb2x1dGlvbiAvXG4gICAgICBNYXRoLnBvdyhkZWZhdWx0Wm9vbUZhY3RvciwgZGVmYXVsdE1heFpvb20gLSBERUZBVUxUX01JTl9aT09NKTtcblxuICAgIC8vIHVzZXIgcHJvdmlkZWQgbWF4UmVzb2x1dGlvbiB0YWtlcyBwcmVjZWRlbmNlXG4gICAgbWF4UmVzb2x1dGlvbiA9IG9wdGlvbnMubWF4UmVzb2x1dGlvbjtcbiAgICBpZiAobWF4UmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBtaW5ab29tID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgbWF4UmVzb2x1dGlvbiA9IGRlZmF1bHRNYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coem9vbUZhY3RvciwgbWluWm9vbSk7XG4gICAgfVxuXG4gICAgLy8gdXNlciBwcm92aWRlZCBtaW5SZXNvbHV0aW9uIHRha2VzIHByZWNlZGVuY2VcbiAgICBtaW5SZXNvbHV0aW9uID0gb3B0aW9ucy5taW5SZXNvbHV0aW9uO1xuICAgIGlmIChtaW5SZXNvbHV0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChvcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAob3B0aW9ucy5tYXhSZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBtaW5SZXNvbHV0aW9uID0gbWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHpvb21GYWN0b3IsIG1heFpvb20pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1pblJlc29sdXRpb24gPSBkZWZhdWx0TWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHpvb21GYWN0b3IsIG1heFpvb20pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtaW5SZXNvbHV0aW9uID0gZGVmYXVsdE1pblJlc29sdXRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZ2l2ZW4gZGlzY3JldGUgem9vbSBsZXZlbHMsIG1pblJlc29sdXRpb24gbWF5IGJlIGRpZmZlcmVudCB0aGFuIHByb3ZpZGVkXG4gICAgbWF4Wm9vbSA9XG4gICAgICBtaW5ab29tICtcbiAgICAgIE1hdGguZmxvb3IoXG4gICAgICAgIE1hdGgubG9nKG1heFJlc29sdXRpb24gLyBtaW5SZXNvbHV0aW9uKSAvIE1hdGgubG9nKHpvb21GYWN0b3IpXG4gICAgICApO1xuICAgIG1pblJlc29sdXRpb24gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coem9vbUZhY3RvciwgbWF4Wm9vbSAtIG1pblpvb20pO1xuXG4gICAgaWYgKG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvbikge1xuICAgICAgcmVzb2x1dGlvbkNvbnN0cmFpbnQgPSBjcmVhdGVTbmFwVG9Qb3dlcihcbiAgICAgICAgem9vbUZhY3RvcixcbiAgICAgICAgbWF4UmVzb2x1dGlvbixcbiAgICAgICAgbWluUmVzb2x1dGlvbixcbiAgICAgICAgc21vb3RoLFxuICAgICAgICAhY29uc3RyYWluT25seUNlbnRlciAmJiBleHRlbnQsXG4gICAgICAgIHNob3dGdWxsRXh0ZW50XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHV0aW9uQ29uc3RyYWludCA9IGNyZWF0ZU1pbk1heFJlc29sdXRpb24oXG4gICAgICAgIG1heFJlc29sdXRpb24sXG4gICAgICAgIG1pblJlc29sdXRpb24sXG4gICAgICAgIHNtb290aCxcbiAgICAgICAgIWNvbnN0cmFpbk9ubHlDZW50ZXIgJiYgZXh0ZW50LFxuICAgICAgICBzaG93RnVsbEV4dGVudFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBjb25zdHJhaW50OiByZXNvbHV0aW9uQ29uc3RyYWludCxcbiAgICBtYXhSZXNvbHV0aW9uOiBtYXhSZXNvbHV0aW9uLFxuICAgIG1pblJlc29sdXRpb246IG1pblJlc29sdXRpb24sXG4gICAgbWluWm9vbTogbWluWm9vbSxcbiAgICB6b29tRmFjdG9yOiB6b29tRmFjdG9yLFxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IG9wdGlvbnMgVmlldyBvcHRpb25zLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9yb3RhdGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZX0gUm90YXRpb24gY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJvdGF0aW9uQ29uc3RyYWludChvcHRpb25zKSB7XG4gIGNvbnN0IGVuYWJsZVJvdGF0aW9uID1cbiAgICBvcHRpb25zLmVuYWJsZVJvdGF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmVuYWJsZVJvdGF0aW9uIDogdHJ1ZTtcbiAgaWYgKGVuYWJsZVJvdGF0aW9uKSB7XG4gICAgY29uc3QgY29uc3RyYWluUm90YXRpb24gPSBvcHRpb25zLmNvbnN0cmFpblJvdGF0aW9uO1xuICAgIGlmIChjb25zdHJhaW5Sb3RhdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGNvbnN0cmFpblJvdGF0aW9uID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gY3JlYXRlU25hcFRvWmVybygpO1xuICAgIH0gZWxzZSBpZiAoY29uc3RyYWluUm90YXRpb24gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gcm90YXRpb25Ob25lO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbnN0cmFpblJvdGF0aW9uID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVNuYXBUb04oY29uc3RyYWluUm90YXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gcm90YXRpb25Ob25lO1xuICB9XG4gIHJldHVybiBkaXNhYmxlO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhbiBhbmltYXRpb24gaW52b2x2ZXMgbm8gdmlldyBjaGFuZ2UuXG4gKiBAcGFyYW0ge0FuaW1hdGlvbn0gYW5pbWF0aW9uIFRoZSBhbmltYXRpb24uXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgYW5pbWF0aW9uIGludm9sdmVzIG5vIHZpZXcgY2hhbmdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOb29wQW5pbWF0aW9uKGFuaW1hdGlvbikge1xuICBpZiAoYW5pbWF0aW9uLnNvdXJjZUNlbnRlciAmJiBhbmltYXRpb24udGFyZ2V0Q2VudGVyKSB7XG4gICAgaWYgKCFjb29yZGluYXRlc0VxdWFsKGFuaW1hdGlvbi5zb3VyY2VDZW50ZXIsIGFuaW1hdGlvbi50YXJnZXRDZW50ZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbiAhPT0gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSb3RhdGlvbiAhPT0gYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgQm94IHBpeGVsIHNpemUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBvc2l0aW9uIFBvc2l0aW9uIG9uIHRoZSB2aWV3IHRvIGNlbnRlciBvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gU2hpZnRlZCBjZW50ZXIuXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZUNlbnRlck9uKGNvb3JkaW5hdGUsIHNpemUsIHBvc2l0aW9uLCByZXNvbHV0aW9uLCByb3RhdGlvbikge1xuICAvLyBjYWxjdWxhdGUgcm90YXRlZCBwb3NpdGlvblxuICBjb25zdCBjb3NBbmdsZSA9IE1hdGguY29zKC1yb3RhdGlvbik7XG4gIGxldCBzaW5BbmdsZSA9IE1hdGguc2luKC1yb3RhdGlvbik7XG4gIGxldCByb3RYID0gY29vcmRpbmF0ZVswXSAqIGNvc0FuZ2xlIC0gY29vcmRpbmF0ZVsxXSAqIHNpbkFuZ2xlO1xuICBsZXQgcm90WSA9IGNvb3JkaW5hdGVbMV0gKiBjb3NBbmdsZSArIGNvb3JkaW5hdGVbMF0gKiBzaW5BbmdsZTtcbiAgcm90WCArPSAoc2l6ZVswXSAvIDIgLSBwb3NpdGlvblswXSkgKiByZXNvbHV0aW9uO1xuICByb3RZICs9IChwb3NpdGlvblsxXSAtIHNpemVbMV0gLyAyKSAqIHJlc29sdXRpb247XG5cbiAgLy8gZ28gYmFjayB0byBvcmlnaW5hbCBhbmdsZVxuICBzaW5BbmdsZSA9IC1zaW5BbmdsZTsgLy8gZ28gYmFjayB0byBvcmlnaW5hbCByb3RhdGlvblxuICBjb25zdCBjZW50ZXJYID0gcm90WCAqIGNvc0FuZ2xlIC0gcm90WSAqIHNpbkFuZ2xlO1xuICBjb25zdCBjZW50ZXJZID0gcm90WSAqIGNvc0FuZ2xlICsgcm90WCAqIHNpbkFuZ2xlO1xuXG4gIHJldHVybiBbY2VudGVyWCwgY2VudGVyWV07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXc7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvVmlld0hpbnRcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgQU5JTUFUSU5HOiAwLFxuICBJTlRFUkFDVElORzogMSxcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvYXJyYXlcbiAqL1xuXG4vKipcbiAqIFBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvbiB0aGUgcHJvdmlkZWQgc29ydGVkIGxpc3QgYW5kIHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBpdGVtIGlmIGZvdW5kLiBJZiBpdCBjYW4ndCBiZSBmb3VuZCBpdCdsbCByZXR1cm4gLTEuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZGFya3NreWFwcC9iaW5hcnktc2VhcmNoXG4gKlxuICogQHBhcmFtIHtBcnJheTwqPn0gaGF5c3RhY2sgSXRlbXMgdG8gc2VhcmNoIHRocm91Z2guXG4gKiBAcGFyYW0geyp9IG5lZWRsZSBUaGUgaXRlbSB0byBsb29rIGZvci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBDb21wYXJhdG9yIGZ1bmN0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIGl0ZW0gaWYgZm91bmQsIC0xIGlmIG5vdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmFyeVNlYXJjaChoYXlzdGFjaywgbmVlZGxlLCBjb21wYXJhdG9yKSB7XG4gIGxldCBtaWQsIGNtcDtcbiAgY29tcGFyYXRvciA9IGNvbXBhcmF0b3IgfHwgYXNjZW5kaW5nO1xuICBsZXQgbG93ID0gMDtcbiAgbGV0IGhpZ2ggPSBoYXlzdGFjay5sZW5ndGg7XG4gIGxldCBmb3VuZCA9IGZhbHNlO1xuXG4gIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgLyogTm90ZSB0aGF0IFwiKGxvdyArIGhpZ2gpID4+PiAxXCIgbWF5IG92ZXJmbG93LCBhbmQgcmVzdWx0cyBpbiBhIHR5cGVjYXN0XG4gICAgICogdG8gZG91YmxlICh3aGljaCBnaXZlcyB0aGUgd3JvbmcgcmVzdWx0cykuICovXG4gICAgbWlkID0gbG93ICsgKChoaWdoIC0gbG93KSA+PiAxKTtcbiAgICBjbXAgPSArY29tcGFyYXRvcihoYXlzdGFja1ttaWRdLCBuZWVkbGUpO1xuXG4gICAgaWYgKGNtcCA8IDAuMCkge1xuICAgICAgLyogVG9vIGxvdy4gKi9cbiAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIEtleSBmb3VuZCBvciB0b28gaGlnaCAqL1xuICAgICAgaGlnaCA9IG1pZDtcbiAgICAgIGZvdW5kID0gIWNtcDtcbiAgICB9XG4gIH1cblxuICAvKiBLZXkgbm90IGZvdW5kLiAqL1xuICByZXR1cm4gZm91bmQgPyBsb3cgOiB+bG93O1xufVxuXG4vKipcbiAqIENvbXBhcmUgZnVuY3Rpb24gc29ydGluZyBhcnJheXMgaW4gYXNjZW5kaW5nIG9yZGVyLiAgU2FmZSB0byB1c2UgZm9yIG51bWVyaWMgdmFsdWVzLlxuICogQHBhcmFtIHsqfSBhIFRoZSBmaXJzdCBvYmplY3QgdG8gYmUgY29tcGFyZWQuXG4gKiBAcGFyYW0geyp9IGIgVGhlIHNlY29uZCBvYmplY3QgdG8gYmUgY29tcGFyZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgbmVnYXRpdmUgbnVtYmVyLCB6ZXJvLCBvciBhIHBvc2l0aXZlIG51bWJlciBhcyB0aGUgZmlyc3RcbiAqICAgICBhcmd1bWVudCBpcyBsZXNzIHRoYW4sIGVxdWFsIHRvLCBvciBncmVhdGVyIHRoYW4gdGhlIHNlY29uZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7XG4gIHJldHVybiBhID4gYiA/IDEgOiBhIDwgYiA/IC0xIDogMDtcbn1cblxuLyoqXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3RpbGVncmlkL1RpbGVHcmlkflRpbGVHcmlkI2dldFpGb3JSZXNvbHV0aW9ufSBjYW4gdXNlIGEgZnVuY3Rpb25cbiAqIG9mIHRoaXMgdHlwZSB0byBkZXRlcm1pbmUgd2hpY2ggbmVhcmVzdCByZXNvbHV0aW9uIHRvIHVzZS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIGEgYHtudW1iZXJ9YCByZXByZXNlbnRpbmcgYSB2YWx1ZSBiZXR3ZWVuIHR3byBhcnJheSBlbnRyaWVzLFxuICogYSBge251bWJlcn1gIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhlIG5lYXJlc3QgaGlnaGVyIGVudHJ5IGFuZFxuICogYSBge251bWJlcn1gIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhlIG5lYXJlc3QgbG93ZXIgZW50cnlcbiAqIGFzIGFyZ3VtZW50cyBhbmQgcmV0dXJucyBhIGB7bnVtYmVyfWAuIElmIGEgbmVnYXRpdmUgbnVtYmVyIG9yIHplcm8gaXMgcmV0dXJuZWRcbiAqIHRoZSBsb3dlciB2YWx1ZSB3aWxsIGJlIHVzZWQsIGlmIGEgcG9zaXRpdmUgbnVtYmVyIGlzIHJldHVybmVkIHRoZSBoaWdoZXIgdmFsdWVcbiAqIHdpbGwgYmUgdXNlZC5cbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihudW1iZXIsIG51bWJlciwgbnVtYmVyKTogbnVtYmVyfSBOZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYXJyIEFycmF5IGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0IFRhcmdldC5cbiAqIEBwYXJhbSB7bnVtYmVyfE5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gZGlyZWN0aW9uXG4gKiAgICAwIG1lYW5zIHJldHVybiB0aGUgbmVhcmVzdCxcbiAqICAgID4gMCBtZWFucyByZXR1cm4gdGhlIGxhcmdlc3QgbmVhcmVzdCxcbiAqICAgIDwgMCBtZWFucyByZXR1cm4gdGhlIHNtYWxsZXN0IG5lYXJlc3QuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEluZGV4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyRmluZE5lYXJlc3QoYXJyLCB0YXJnZXQsIGRpcmVjdGlvbikge1xuICBjb25zdCBuID0gYXJyLmxlbmd0aDtcbiAgaWYgKGFyclswXSA8PSB0YXJnZXQpIHtcbiAgICByZXR1cm4gMDtcbiAgfSBlbHNlIGlmICh0YXJnZXQgPD0gYXJyW24gLSAxXSkge1xuICAgIHJldHVybiBuIC0gMTtcbiAgfVxuICBsZXQgaTtcbiAgaWYgKGRpcmVjdGlvbiA+IDApIHtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoYXJyW2ldIDwgdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBpIC0gMTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoZGlyZWN0aW9uIDwgMCkge1xuICAgIGZvciAoaSA9IDE7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChhcnJbaV0gPD0gdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoYXJyW2ldID09IHRhcmdldCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH0gZWxzZSBpZiAoYXJyW2ldIDwgdGFyZ2V0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGlyZWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGRpcmVjdGlvbih0YXJnZXQsIGFycltpIC0gMV0sIGFycltpXSkgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gaSAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKGFycltpIC0gMV0gLSB0YXJnZXQgPCB0YXJnZXQgLSBhcnJbaV0pIHtcbiAgICAgICAgICByZXR1cm4gaSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBuIC0gMTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBhcnIgQXJyYXkuXG4gKiBAcGFyYW0ge251bWJlcn0gYmVnaW4gQmVnaW4gaW5kZXguXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZCBpbmRleC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJldmVyc2VTdWJBcnJheShhcnIsIGJlZ2luLCBlbmQpIHtcbiAgd2hpbGUgKGJlZ2luIDwgZW5kKSB7XG4gICAgY29uc3QgdG1wID0gYXJyW2JlZ2luXTtcbiAgICBhcnJbYmVnaW5dID0gYXJyW2VuZF07XG4gICAgYXJyW2VuZF0gPSB0bXA7XG4gICAgKytiZWdpbjtcbiAgICAtLWVuZDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8VkFMVUU+fSBhcnIgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7IUFycmF5PFZBTFVFPnxWQUxVRX0gZGF0YSBUaGUgZWxlbWVudHMgb3IgYXJyYXlzIG9mIGVsZW1lbnRzIHRvIGFkZCB0byBhcnIuXG4gKiBAdGVtcGxhdGUgVkFMVUVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChhcnIsIGRhdGEpIHtcbiAgY29uc3QgZXh0ZW5zaW9uID0gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV07XG4gIGNvbnN0IGxlbmd0aCA9IGV4dGVuc2lvbi5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBhcnJbYXJyLmxlbmd0aF0gPSBleHRlbnNpb25baV07XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFZBTFVFPn0gYXJyIFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge1ZBTFVFfSBvYmogVGhlIGVsZW1lbnQgdG8gcmVtb3ZlLlxuICogQHRlbXBsYXRlIFZBTFVFXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZWxlbWVudCB3YXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnIsIG9iaikge1xuICBjb25zdCBpID0gYXJyLmluZGV4T2Yob2JqKTtcbiAgY29uc3QgZm91bmQgPSBpID4gLTE7XG4gIGlmIChmb3VuZCkge1xuICAgIGFyci5zcGxpY2UoaSwgMSk7XG4gIH1cbiAgcmV0dXJuIGZvdW5kO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXl8VWludDhDbGFtcGVkQXJyYXl9IGFycjEgVGhlIGZpcnN0IGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0FycmF5fFVpbnQ4Q2xhbXBlZEFycmF5fSBhcnIyIFRoZSBzZWNvbmQgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHR3byBhcnJheXMgYXJlIGVxdWFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGFycjEsIGFycjIpIHtcbiAgY29uc3QgbGVuMSA9IGFycjEubGVuZ3RoO1xuICBpZiAobGVuMSAhPT0gYXJyMi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW4xOyBpKyspIHtcbiAgICBpZiAoYXJyMVtpXSAhPT0gYXJyMltpXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBTb3J0IHRoZSBwYXNzZWQgYXJyYXkgc3VjaCB0aGF0IHRoZSByZWxhdGl2ZSBvcmRlciBvZiBlcXVhbCBlbGVtZW50cyBpcyBwcmVzZXJ2ZWQuXG4gKiBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU29ydGluZ19hbGdvcml0aG0jU3RhYmlsaXR5IGZvciBkZXRhaWxzLlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSBhcnJheSB0byBzb3J0IChtb2RpZmllcyBvcmlnaW5hbCkuXG4gKiBAcGFyYW0geyFmdW5jdGlvbigqLCAqKTogbnVtYmVyfSBjb21wYXJlRm5jIENvbXBhcmlzb24gZnVuY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFibGVTb3J0KGFyciwgY29tcGFyZUZuYykge1xuICBjb25zdCBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICBjb25zdCB0bXAgPSBBcnJheShhcnIubGVuZ3RoKTtcbiAgbGV0IGk7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHRtcFtpXSA9IHtpbmRleDogaSwgdmFsdWU6IGFycltpXX07XG4gIH1cbiAgdG1wLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gY29tcGFyZUZuYyhhLnZhbHVlLCBiLnZhbHVlKSB8fCBhLmluZGV4IC0gYi5pbmRleDtcbiAgfSk7XG4gIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBhcnJbaV0gPSB0bXBbaV0udmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBhcnIgVGhlIGFycmF5IHRvIHRlc3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gQ29tcGFyaXNvbiBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF0gU3RyaWN0bHkgc29ydGVkIChkZWZhdWx0IGZhbHNlKS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybiBpbmRleC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU29ydGVkKGFyciwgZnVuYywgc3RyaWN0KSB7XG4gIGNvbnN0IGNvbXBhcmUgPSBmdW5jIHx8IGFzY2VuZGluZztcbiAgcmV0dXJuIGFyci5ldmVyeShmdW5jdGlvbiAoY3VycmVudFZhbCwgaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBjb21wYXJlKGFycltpbmRleCAtIDFdLCBjdXJyZW50VmFsKTtcbiAgICByZXR1cm4gIShyZXMgPiAwIHx8IChzdHJpY3QgJiYgcmVzID09PSAwKSk7XG4gIH0pO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Fzc2VydHNcbiAqL1xuaW1wb3J0IEFzc2VydGlvbkVycm9yIGZyb20gJy4vQXNzZXJ0aW9uRXJyb3IuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7Kn0gYXNzZXJ0aW9uIEFzc2VydGlvbiB3ZSBleHBlY3RlZCB0byBiZSB0cnV0aHkuXG4gKiBAcGFyYW0ge251bWJlcn0gZXJyb3JDb2RlIEVycm9yIGNvZGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoYXNzZXJ0aW9uLCBlcnJvckNvZGUpIHtcbiAgaWYgKCFhc3NlcnRpb24pIHtcbiAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoZXJyb3JDb2RlKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbG9yXG4gKi9cbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtjbGFtcH0gZnJvbSAnLi9tYXRoLmpzJztcblxuLyoqXG4gKiBBIGNvbG9yIHJlcHJlc2VudGVkIGFzIGEgc2hvcnQgYXJyYXkgW3JlZCwgZ3JlZW4sIGJsdWUsIGFscGhhXS5cbiAqIHJlZCwgZ3JlZW4sIGFuZCBibHVlIHNob3VsZCBiZSBpbnRlZ2VycyBpbiB0aGUgcmFuZ2UgMC4uMjU1IGluY2x1c2l2ZS5cbiAqIGFscGhhIHNob3VsZCBiZSBhIGZsb2F0IGluIHRoZSByYW5nZSAwLi4xIGluY2x1c2l2ZS4gSWYgbm8gYWxwaGEgdmFsdWUgaXNcbiAqIGdpdmVuIHRoZW4gYDFgIHdpbGwgYmUgdXNlZC5cbiAqIEB0eXBlZGVmIHtBcnJheTxudW1iZXI+fSBDb2xvclxuICogQGFwaVxuICovXG5cbi8qKlxuICogVGhpcyBSZWdFeHAgbWF0Y2hlcyAjIGZvbGxvd2VkIGJ5IDMsIDQsIDYsIG9yIDggaGV4IGRpZ2l0cy5cbiAqIEBjb25zdFxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IEhFWF9DT0xPUl9SRV8gPSAvXiMoW2EtZjAtOV17M318W2EtZjAtOV17NH0oPzpbYS1mMC05XXsyfSl7MCwyfSkkL2k7XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIGZvciBtYXRjaGluZyBwb3RlbnRpYWwgbmFtZWQgY29sb3Igc3R5bGUgc3RyaW5ncy5cbiAqIEBjb25zdFxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IE5BTUVEX0NPTE9SX1JFXyA9IC9eKFthLXpdKikkfF5oc2xhP1xcKC4qXFwpJC9pO1xuXG4vKipcbiAqIFJldHVybiB0aGUgY29sb3IgYXMgYW4gcmdiYSBzdHJpbmcuXG4gKiBAcGFyYW0ge0NvbG9yfHN0cmluZ30gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFJnYmEgc3RyaW5nLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNTdHJpbmcoY29sb3IpIHtcbiAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH1cbiAgcmV0dXJuIHRvU3RyaW5nKGNvbG9yKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gbmFtZWQgY29sb3IgYXMgYW4gcmdiYSBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgTmFtZWQgY29sb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFJnYiBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGZyb21OYW1lZChjb2xvcikge1xuICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBlbC5zdHlsZS5jb2xvciA9IGNvbG9yO1xuICBpZiAoZWwuc3R5bGUuY29sb3IgIT09ICcnKSB7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XG4gICAgY29uc3QgcmdiID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCkuY29sb3I7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XG4gICAgcmV0dXJuIHJnYjtcbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHMgU3RyaW5nLlxuICogQHJldHVybiB7Q29sb3J9IENvbG9yLlxuICovXG5leHBvcnQgY29uc3QgZnJvbVN0cmluZyA9IChmdW5jdGlvbiAoKSB7XG4gIC8vIFdlIG1haW50YWluIGEgc21hbGwgY2FjaGUgb2YgcGFyc2VkIHN0cmluZ3MuICBUbyBwcm92aWRlIGNoZWFwIExSVS1saWtlXG4gIC8vIHNlbWFudGljcywgd2hlbmV2ZXIgdGhlIGNhY2hlIGdyb3dzIHRvbyBsYXJnZSB3ZSBzaW1wbHkgZGVsZXRlIGFuXG4gIC8vIGFyYml0cmFyeSAyNSUgb2YgdGhlIGVudHJpZXMuXG5cbiAgLyoqXG4gICAqIEBjb25zdFxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgY29uc3QgTUFYX0NBQ0hFX1NJWkUgPSAxMDI0O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgQ29sb3I+fVxuICAgKi9cbiAgY29uc3QgY2FjaGUgPSB7fTtcblxuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIGxldCBjYWNoZVNpemUgPSAwO1xuXG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHMgU3RyaW5nLlxuICAgICAqIEByZXR1cm4ge0NvbG9yfSBDb2xvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocykge1xuICAgICAgbGV0IGNvbG9yO1xuICAgICAgaWYgKGNhY2hlLmhhc093blByb3BlcnR5KHMpKSB7XG4gICAgICAgIGNvbG9yID0gY2FjaGVbc107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY2FjaGVTaXplID49IE1BWF9DQUNIRV9TSVpFKSB7XG4gICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNhY2hlKSB7XG4gICAgICAgICAgICBpZiAoKGkrKyAmIDMpID09PSAwKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBjYWNoZVtrZXldO1xuICAgICAgICAgICAgICAtLWNhY2hlU2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29sb3IgPSBmcm9tU3RyaW5nSW50ZXJuYWxfKHMpO1xuICAgICAgICBjYWNoZVtzXSA9IGNvbG9yO1xuICAgICAgICArK2NhY2hlU2l6ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG4gICk7XG59KSgpO1xuXG4vKipcbiAqIFJldHVybiB0aGUgY29sb3IgYXMgYW4gYXJyYXkuIFRoaXMgZnVuY3Rpb24gbWFpbnRhaW5zIGEgY2FjaGUgb2YgY2FsY3VsYXRlZFxuICogYXJyYXlzIHdoaWNoIG1lYW5zIHRoZSByZXN1bHQgc2hvdWxkIG5vdCBiZSBtb2RpZmllZC5cbiAqIEBwYXJhbSB7Q29sb3J8c3RyaW5nfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge0NvbG9yfSBDb2xvci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzQXJyYXkoY29sb3IpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG4gIHJldHVybiBmcm9tU3RyaW5nKGNvbG9yKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcyBTdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7Q29sb3J9IENvbG9yLlxuICovXG5mdW5jdGlvbiBmcm9tU3RyaW5nSW50ZXJuYWxfKHMpIHtcbiAgbGV0IHIsIGcsIGIsIGEsIGNvbG9yO1xuXG4gIGlmIChOQU1FRF9DT0xPUl9SRV8uZXhlYyhzKSkge1xuICAgIHMgPSBmcm9tTmFtZWQocyk7XG4gIH1cblxuICBpZiAoSEVYX0NPTE9SX1JFXy5leGVjKHMpKSB7XG4gICAgLy8gaGV4XG4gICAgY29uc3QgbiA9IHMubGVuZ3RoIC0gMTsgLy8gbnVtYmVyIG9mIGhleCBkaWdpdHNcbiAgICBsZXQgZDsgLy8gbnVtYmVyIG9mIGRpZ2l0cyBwZXIgY2hhbm5lbFxuICAgIGlmIChuIDw9IDQpIHtcbiAgICAgIGQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBkID0gMjtcbiAgICB9XG4gICAgY29uc3QgaGFzQWxwaGEgPSBuID09PSA0IHx8IG4gPT09IDg7XG4gICAgciA9IHBhcnNlSW50KHMuc3Vic3RyKDEgKyAwICogZCwgZCksIDE2KTtcbiAgICBnID0gcGFyc2VJbnQocy5zdWJzdHIoMSArIDEgKiBkLCBkKSwgMTYpO1xuICAgIGIgPSBwYXJzZUludChzLnN1YnN0cigxICsgMiAqIGQsIGQpLCAxNik7XG4gICAgaWYgKGhhc0FscGhhKSB7XG4gICAgICBhID0gcGFyc2VJbnQocy5zdWJzdHIoMSArIDMgKiBkLCBkKSwgMTYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhID0gMjU1O1xuICAgIH1cbiAgICBpZiAoZCA9PSAxKSB7XG4gICAgICByID0gKHIgPDwgNCkgKyByO1xuICAgICAgZyA9IChnIDw8IDQpICsgZztcbiAgICAgIGIgPSAoYiA8PCA0KSArIGI7XG4gICAgICBpZiAoaGFzQWxwaGEpIHtcbiAgICAgICAgYSA9IChhIDw8IDQpICsgYTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29sb3IgPSBbciwgZywgYiwgYSAvIDI1NV07XG4gIH0gZWxzZSBpZiAocy5zdGFydHNXaXRoKCdyZ2JhKCcpKSB7XG4gICAgLy8gcmdiYSgpXG4gICAgY29sb3IgPSBzLnNsaWNlKDUsIC0xKS5zcGxpdCgnLCcpLm1hcChOdW1iZXIpO1xuICAgIG5vcm1hbGl6ZShjb2xvcik7XG4gIH0gZWxzZSBpZiAocy5zdGFydHNXaXRoKCdyZ2IoJykpIHtcbiAgICAvLyByZ2IoKVxuICAgIGNvbG9yID0gcy5zbGljZSg0LCAtMSkuc3BsaXQoJywnKS5tYXAoTnVtYmVyKTtcbiAgICBjb2xvci5wdXNoKDEpO1xuICAgIG5vcm1hbGl6ZShjb2xvcik7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KGZhbHNlLCAxNCk7IC8vIEludmFsaWQgY29sb3JcbiAgfVxuICByZXR1cm4gY29sb3I7XG59XG5cbi8qKlxuICogVE9ETyB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgdXNlZCBpbiB0aGUgdGVzdCwgd2UgcHJvYmFibHkgc2hvdWxkbid0IGV4cG9ydCBpdFxuICogQHBhcmFtIHtDb2xvcn0gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtDb2xvcn0gQ2xhbXBlZCBjb2xvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShjb2xvcikge1xuICBjb2xvclswXSA9IGNsYW1wKChjb2xvclswXSArIDAuNSkgfCAwLCAwLCAyNTUpO1xuICBjb2xvclsxXSA9IGNsYW1wKChjb2xvclsxXSArIDAuNSkgfCAwLCAwLCAyNTUpO1xuICBjb2xvclsyXSA9IGNsYW1wKChjb2xvclsyXSArIDAuNSkgfCAwLCAwLCAyNTUpO1xuICBjb2xvclszXSA9IGNsYW1wKGNvbG9yWzNdLCAwLCAxKTtcbiAgcmV0dXJuIGNvbG9yO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZyhjb2xvcikge1xuICBsZXQgciA9IGNvbG9yWzBdO1xuICBpZiAociAhPSAociB8IDApKSB7XG4gICAgciA9IChyICsgMC41KSB8IDA7XG4gIH1cbiAgbGV0IGcgPSBjb2xvclsxXTtcbiAgaWYgKGcgIT0gKGcgfCAwKSkge1xuICAgIGcgPSAoZyArIDAuNSkgfCAwO1xuICB9XG4gIGxldCBiID0gY29sb3JbMl07XG4gIGlmIChiICE9IChiIHwgMCkpIHtcbiAgICBiID0gKGIgKyAwLjUpIHwgMDtcbiAgfVxuICBjb25zdCBhID0gY29sb3JbM10gPT09IHVuZGVmaW5lZCA/IDEgOiBNYXRoLnJvdW5kKGNvbG9yWzNdICogMTAwKSAvIDEwMDtcbiAgcmV0dXJuICdyZ2JhKCcgKyByICsgJywnICsgZyArICcsJyArIGIgKyAnLCcgKyBhICsgJyknO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzIFN0cmluZy5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHN0cmluZyBpcyBhY3R1YWxseSBhIHZhbGlkIGNvbG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZ0NvbG9yKHMpIHtcbiAgaWYgKE5BTUVEX0NPTE9SX1JFXy50ZXN0KHMpKSB7XG4gICAgcyA9IGZyb21OYW1lZChzKTtcbiAgfVxuICByZXR1cm4gSEVYX0NPTE9SX1JFXy50ZXN0KHMpIHx8IHMuc3RhcnRzV2l0aCgncmdiYSgnKSB8fCBzLnN0YXJ0c1dpdGgoJ3JnYignKTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9jb25zb2xlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7J2luZm8nfCd3YXJuJ3wnZXJyb3InfCdub25lJ30gTGV2ZWxcbiAqL1xuXG4vKipcbiAqIEB0eXBlIHtPYmplY3Q8TGV2ZWwsIG51bWJlcj59XG4gKi9cbmNvbnN0IGxldmVscyA9IHtcbiAgaW5mbzogMSxcbiAgd2FybjogMixcbiAgZXJyb3I6IDMsXG4gIG5vbmU6IDQsXG59O1xuXG4vKipcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmxldCBsZXZlbCA9IGxldmVscy5pbmZvO1xuXG4vKipcbiAqIFNldCB0aGUgbG9nZ2luZyBsZXZlbC4gIEJ5IGRlZmF1bHQsIHRoZSBsZXZlbCBpcyBzZXQgdG8gJ2luZm8nIGFuZCBhbGxcbiAqIG1lc3NhZ2VzIHdpbGwgYmUgbG9nZ2VkLiAgU2V0IHRvICd3YXJuJyB0byBvbmx5IGRpc3BsYXkgd2FybmluZ3MgYW5kIGVycm9ycy5cbiAqIFNldCB0byAnZXJyb3InIHRvIG9ubHkgZGlzcGxheSBlcnJvcnMuICBTZXQgdG8gJ25vbmUnIHRvIHNpbGVuY2UgYWxsIG1lc3NhZ2VzLlxuICpcbiAqIEBwYXJhbSB7TGV2ZWx9IGwgVGhlIG5ldyBsZXZlbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldExldmVsKGwpIHtcbiAgbGV2ZWwgPSBsZXZlbHNbbF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2coLi4uYXJncykge1xuICBpZiAobGV2ZWwgPiBsZXZlbHMuaW5mbykge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zb2xlLmxvZyguLi5hcmdzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3YXJuKC4uLmFyZ3MpIHtcbiAgaWYgKGxldmVsID4gbGV2ZWxzLndhcm4pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc29sZS53YXJuKC4uLmFyZ3MpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yKC4uLmFyZ3MpIHtcbiAgaWYgKGxldmVsID4gbGV2ZWxzLmVycm9yKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUuZXJyb3IoLi4uYXJncyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Nvb3JkaW5hdGVcbiAqL1xuaW1wb3J0IHtnZXRXaWR0aH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHttb2R1bG8sIHRvRml4ZWR9IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQge3BhZE51bWJlcn0gZnJvbSAnLi9zdHJpbmcuanMnO1xuXG4vKipcbiAqIEFuIGFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGFuIHh5IGNvb3JkaW5hdGUuIEV4YW1wbGU6IGBbMTYsIDQ4XWAuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gQ29vcmRpbmF0ZVxuICogQGFwaVxuICovXG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGV9IGFuZFxuICogdHJhbnNmb3JtcyBpdCBpbnRvIGEgYHtzdHJpbmd9YC5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKENvb3JkaW5hdGV8dW5kZWZpbmVkKSk6IHN0cmluZ30gQ29vcmRpbmF0ZUZvcm1hdFxuICogQGFwaVxuICovXG5cbi8qKlxuICogQWRkIGBkZWx0YWAgdG8gYGNvb3JkaW5hdGVgLiBgY29vcmRpbmF0ZWAgaXMgbW9kaWZpZWQgaW4gcGxhY2UgYW5kIHJldHVybmVkXG4gKiBieSB0aGUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHthZGR9IGZyb20gJ29sL2Nvb3JkaW5hdGUuanMnO1xuICpcbiAqICAgICBjb25zdCBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIGFkZChjb29yZCwgWy0yLCA0XSk7XG4gKiAgICAgLy8gY29vcmQgaXMgbm93IFs1Ljg1LCA1MS45ODMzMzNdXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGRlbHRhIERlbHRhLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gVGhlIGlucHV0IGNvb3JkaW5hdGUgYWRqdXN0ZWQgYnlcbiAqIHRoZSBnaXZlbiBkZWx0YS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChjb29yZGluYXRlLCBkZWx0YSkge1xuICBjb29yZGluYXRlWzBdICs9ICtkZWx0YVswXTtcbiAgY29vcmRpbmF0ZVsxXSArPSArZGVsdGFbMV07XG4gIHJldHVybiBjb29yZGluYXRlO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHBvaW50IGNsb3Nlc3QgdG8gdGhlIHBhc3NlZCBjb29yZGluYXRlIG9uIHRoZSBwYXNzZWQgY2lyY2xlLlxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBUaGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBjaXJjbGUgVGhlIGNpcmNsZS5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IENsb3Nlc3QgcG9pbnQgb24gdGhlIGNpcmN1bWZlcmVuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0T25DaXJjbGUoY29vcmRpbmF0ZSwgY2lyY2xlKSB7XG4gIGNvbnN0IHIgPSBjaXJjbGUuZ2V0UmFkaXVzKCk7XG4gIGNvbnN0IGNlbnRlciA9IGNpcmNsZS5nZXRDZW50ZXIoKTtcbiAgY29uc3QgeDAgPSBjZW50ZXJbMF07XG4gIGNvbnN0IHkwID0gY2VudGVyWzFdO1xuICBjb25zdCB4MSA9IGNvb3JkaW5hdGVbMF07XG4gIGNvbnN0IHkxID0gY29vcmRpbmF0ZVsxXTtcblxuICBsZXQgZHggPSB4MSAtIHgwO1xuICBjb25zdCBkeSA9IHkxIC0geTA7XG4gIGlmIChkeCA9PT0gMCAmJiBkeSA9PT0gMCkge1xuICAgIGR4ID0gMTtcbiAgfVxuICBjb25zdCBkID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblxuICBjb25zdCB4ID0geDAgKyAociAqIGR4KSAvIGQ7XG4gIGNvbnN0IHkgPSB5MCArIChyICogZHkpIC8gZDtcblxuICByZXR1cm4gW3gsIHldO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHBvaW50IGNsb3Nlc3QgdG8gdGhlIHBhc3NlZCBjb29yZGluYXRlIG9uIHRoZSBwYXNzZWQgc2VnbWVudC5cbiAqIFRoaXMgaXMgdGhlIGZvb3Qgb2YgdGhlIHBlcnBlbmRpY3VsYXIgb2YgdGhlIGNvb3JkaW5hdGUgdG8gdGhlIHNlZ21lbnQgd2hlblxuICogdGhlIGZvb3QgaXMgb24gdGhlIHNlZ21lbnQsIG9yIHRoZSBjbG9zZXN0IHNlZ21lbnQgY29vcmRpbmF0ZSB3aGVuIHRoZSBmb290XG4gKiBpcyBvdXRzaWRlIHRoZSBzZWdtZW50LlxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBUaGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7QXJyYXk8Q29vcmRpbmF0ZT59IHNlZ21lbnQgVGhlIHR3byBjb29yZGluYXRlc1xuICogb2YgdGhlIHNlZ21lbnQuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBUaGUgZm9vdCBvZiB0aGUgcGVycGVuZGljdWxhciBvZlxuICogdGhlIGNvb3JkaW5hdGUgdG8gdGhlIHNlZ21lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0T25TZWdtZW50KGNvb3JkaW5hdGUsIHNlZ21lbnQpIHtcbiAgY29uc3QgeDAgPSBjb29yZGluYXRlWzBdO1xuICBjb25zdCB5MCA9IGNvb3JkaW5hdGVbMV07XG4gIGNvbnN0IHN0YXJ0ID0gc2VnbWVudFswXTtcbiAgY29uc3QgZW5kID0gc2VnbWVudFsxXTtcbiAgY29uc3QgeDEgPSBzdGFydFswXTtcbiAgY29uc3QgeTEgPSBzdGFydFsxXTtcbiAgY29uc3QgeDIgPSBlbmRbMF07XG4gIGNvbnN0IHkyID0gZW5kWzFdO1xuICBjb25zdCBkeCA9IHgyIC0geDE7XG4gIGNvbnN0IGR5ID0geTIgLSB5MTtcbiAgY29uc3QgYWxvbmcgPVxuICAgIGR4ID09PSAwICYmIGR5ID09PSAwXG4gICAgICA/IDBcbiAgICAgIDogKGR4ICogKHgwIC0geDEpICsgZHkgKiAoeTAgLSB5MSkpIC8gKGR4ICogZHggKyBkeSAqIGR5IHx8IDApO1xuICBsZXQgeCwgeTtcbiAgaWYgKGFsb25nIDw9IDApIHtcbiAgICB4ID0geDE7XG4gICAgeSA9IHkxO1xuICB9IGVsc2UgaWYgKGFsb25nID49IDEpIHtcbiAgICB4ID0geDI7XG4gICAgeSA9IHkyO1xuICB9IGVsc2Uge1xuICAgIHggPSB4MSArIGFsb25nICogZHg7XG4gICAgeSA9IHkxICsgYWxvbmcgKiBkeTtcbiAgfVxuICByZXR1cm4gW3gsIHldO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZUZvcm1hdH0gZnVuY3Rpb24gdGhhdCBjYW4gYmVcbiAqIHVzZWQgdG8gZm9ybWF0XG4gKiBhIHtDb29yZGluYXRlfSB0byBhIHN0cmluZy5cbiAqXG4gKiBFeGFtcGxlIHdpdGhvdXQgc3BlY2lmeWluZyB0aGUgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7Y3JlYXRlU3RyaW5nWFl9IGZyb20gJ29sL2Nvb3JkaW5hdGUuanMnO1xuICpcbiAqICAgICBjb25zdCBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIGNvbnN0IHN0cmluZ2lmeUZ1bmMgPSBjcmVhdGVTdHJpbmdYWSgpO1xuICogICAgIGNvbnN0IG91dCA9IHN0cmluZ2lmeUZ1bmMoY29vcmQpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzgsIDQ4J1xuICpcbiAqIEV4YW1wbGUgd2l0aCBleHBsaWNpdGx5IHNwZWNpZnlpbmcgMiBmcmFjdGlvbmFsIGRpZ2l0czpcbiAqXG4gKiAgICAgaW1wb3J0IHtjcmVhdGVTdHJpbmdYWX0gZnJvbSAnb2wvY29vcmRpbmF0ZS5qcyc7XG4gKlxuICogICAgIGNvbnN0IGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgY29uc3Qgc3RyaW5naWZ5RnVuYyA9IGNyZWF0ZVN0cmluZ1hZKDIpO1xuICogICAgIGNvbnN0IG91dCA9IHN0cmluZ2lmeUZ1bmMoY29vcmQpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzcuODUsIDQ3Ljk4J1xuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZnJhY3Rpb25EaWdpdHNdIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIGluY2x1ZGVcbiAqICAgIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBEZWZhdWx0IGlzIGAwYC5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGVGb3JtYXR9IENvb3JkaW5hdGUgZm9ybWF0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3RyaW5nWFkoZnJhY3Rpb25EaWdpdHMpIHtcbiAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFN0cmluZyBYWS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoY29vcmRpbmF0ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nWFkoY29vcmRpbmF0ZSwgZnJhY3Rpb25EaWdpdHMpO1xuICAgIH1cbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gaGVtaXNwaGVyZXMgSGVtaXNwaGVyZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVncmVlcyBEZWdyZWVzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtmcmFjdGlvbkRpZ2l0c10gVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWdyZWVzVG9TdHJpbmdIRE1TKGhlbWlzcGhlcmVzLCBkZWdyZWVzLCBmcmFjdGlvbkRpZ2l0cykge1xuICBjb25zdCBub3JtYWxpemVkRGVncmVlcyA9IG1vZHVsbyhkZWdyZWVzICsgMTgwLCAzNjApIC0gMTgwO1xuICBjb25zdCB4ID0gTWF0aC5hYnMoMzYwMCAqIG5vcm1hbGl6ZWREZWdyZWVzKTtcbiAgY29uc3QgZGVjaW1hbHMgPSBmcmFjdGlvbkRpZ2l0cyB8fCAwO1xuXG4gIGxldCBkZWcgPSBNYXRoLmZsb29yKHggLyAzNjAwKTtcbiAgbGV0IG1pbiA9IE1hdGguZmxvb3IoKHggLSBkZWcgKiAzNjAwKSAvIDYwKTtcbiAgbGV0IHNlYyA9IHRvRml4ZWQoeCAtIGRlZyAqIDM2MDAgLSBtaW4gKiA2MCwgZGVjaW1hbHMpO1xuXG4gIGlmIChzZWMgPj0gNjApIHtcbiAgICBzZWMgPSAwO1xuICAgIG1pbiArPSAxO1xuICB9XG5cbiAgaWYgKG1pbiA+PSA2MCkge1xuICAgIG1pbiA9IDA7XG4gICAgZGVnICs9IDE7XG4gIH1cblxuICBsZXQgaGRtcyA9IGRlZyArICdcXHUwMGIwJztcbiAgaWYgKG1pbiAhPT0gMCB8fCBzZWMgIT09IDApIHtcbiAgICBoZG1zICs9ICcgJyArIHBhZE51bWJlcihtaW4sIDIpICsgJ1xcdTIwMzInO1xuICB9XG4gIGlmIChzZWMgIT09IDApIHtcbiAgICBoZG1zICs9ICcgJyArIHBhZE51bWJlcihzZWMsIDIsIGRlY2ltYWxzKSArICdcXHUyMDMzJztcbiAgfVxuICBpZiAobm9ybWFsaXplZERlZ3JlZXMgIT09IDApIHtcbiAgICBoZG1zICs9ICcgJyArIGhlbWlzcGhlcmVzLmNoYXJBdChub3JtYWxpemVkRGVncmVlcyA8IDAgPyAxIDogMCk7XG4gIH1cblxuICByZXR1cm4gaGRtcztcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSBnaXZlbiB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gdG8gYSBzdHJpbmdcbiAqIHVzaW5nIHRoZSBnaXZlbiBzdHJpbmcgdGVtcGxhdGUuIFRoZSBzdHJpbmdzIGB7eH1gIGFuZCBge3l9YCBpbiB0aGUgdGVtcGxhdGVcbiAqIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgZmlyc3QgYW5kIHNlY29uZCBjb29yZGluYXRlIHZhbHVlcyByZXNwZWN0aXZlbHkuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2Zvcm1hdH0gZnJvbSAnb2wvY29vcmRpbmF0ZS5qcyc7XG4gKlxuICogICAgIGNvbnN0IGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgY29uc3QgdGVtcGxhdGUgPSAnQ29vcmRpbmF0ZSBpcyAoe3h9fHt5fSkuJztcbiAqICAgICBjb25zdCBvdXQgPSBmb3JtYXQoY29vcmQsIHRlbXBsYXRlKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICdDb29yZGluYXRlIGlzICg4fDQ4KS4nXG4gKlxuICogRXhhbXBsZSBleHBsaWNpdGx5IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2Zvcm1hdH0gZnJvbSAnb2wvY29vcmRpbmF0ZS5qcyc7XG4gKlxuICogICAgIGNvbnN0IGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgY29uc3QgdGVtcGxhdGUgPSAnQ29vcmRpbmF0ZSBpcyAoe3h9fHt5fSkuJztcbiAqICAgICBjb25zdCBvdXQgPSBmb3JtYXQoY29vcmQsIHRlbXBsYXRlLCAyKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICdDb29yZGluYXRlIGlzICg3Ljg1fDQ3Ljk4KS4nXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgQSB0ZW1wbGF0ZSBzdHJpbmcgd2l0aCBge3h9YCBhbmQgYHt5fWAgcGxhY2Vob2xkZXJzXG4gKiAgICAgdGhhdCB3aWxsIGJlIHJlcGxhY2VkIGJ5IGZpcnN0IGFuZCBzZWNvbmQgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gW2ZyYWN0aW9uRGlnaXRzXSBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEZvcm1hdHRlZCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KGNvb3JkaW5hdGUsIHRlbXBsYXRlLCBmcmFjdGlvbkRpZ2l0cykge1xuICBpZiAoY29vcmRpbmF0ZSkge1xuICAgIHJldHVybiB0ZW1wbGF0ZVxuICAgICAgLnJlcGxhY2UoJ3t4fScsIGNvb3JkaW5hdGVbMF0udG9GaXhlZChmcmFjdGlvbkRpZ2l0cykpXG4gICAgICAucmVwbGFjZSgne3l9JywgY29vcmRpbmF0ZVsxXS50b0ZpeGVkKGZyYWN0aW9uRGlnaXRzKSk7XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZTEgRmlyc3QgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZTIgU2Vjb25kIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdHdvIGNvb3JkaW5hdGVzIGFyZSBlcXVhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhjb29yZGluYXRlMSwgY29vcmRpbmF0ZTIpIHtcbiAgbGV0IGVxdWFscyA9IHRydWU7XG4gIGZvciAobGV0IGkgPSBjb29yZGluYXRlMS5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgIGlmIChjb29yZGluYXRlMVtpXSAhPSBjb29yZGluYXRlMltpXSkge1xuICAgICAgZXF1YWxzID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVxdWFscztcbn1cblxuLyoqXG4gKiBSb3RhdGUgYGNvb3JkaW5hdGVgIGJ5IGBhbmdsZWAuIGBjb29yZGluYXRlYCBpcyBtb2RpZmllZCBpbiBwbGFjZSBhbmRcbiAqIHJldHVybmVkIGJ5IHRoZSBmdW5jdGlvbi5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBpbXBvcnQge3JvdGF0ZX0gZnJvbSAnb2wvY29vcmRpbmF0ZS5qcyc7XG4gKlxuICogICAgIGNvbnN0IGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgY29uc3Qgcm90YXRlUmFkaWFucyA9IE1hdGguUEkgLyAyOyAvLyA5MCBkZWdyZWVzXG4gKiAgICAgcm90YXRlKGNvb3JkLCByb3RhdGVSYWRpYW5zKTtcbiAqICAgICAvLyBjb29yZCBpcyBub3cgWy00Ny45ODMzMzMsIDcuODVdXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgQW5nbGUgaW4gcmFkaWFuLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gQ29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShjb29yZGluYXRlLCBhbmdsZSkge1xuICBjb25zdCBjb3NBbmdsZSA9IE1hdGguY29zKGFuZ2xlKTtcbiAgY29uc3Qgc2luQW5nbGUgPSBNYXRoLnNpbihhbmdsZSk7XG4gIGNvbnN0IHggPSBjb29yZGluYXRlWzBdICogY29zQW5nbGUgLSBjb29yZGluYXRlWzFdICogc2luQW5nbGU7XG4gIGNvbnN0IHkgPSBjb29yZGluYXRlWzFdICogY29zQW5nbGUgKyBjb29yZGluYXRlWzBdICogc2luQW5nbGU7XG4gIGNvb3JkaW5hdGVbMF0gPSB4O1xuICBjb29yZGluYXRlWzFdID0geTtcbiAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG5cbi8qKlxuICogU2NhbGUgYGNvb3JkaW5hdGVgIGJ5IGBzY2FsZWAuIGBjb29yZGluYXRlYCBpcyBtb2RpZmllZCBpbiBwbGFjZSBhbmQgcmV0dXJuZWRcbiAqIGJ5IHRoZSBmdW5jdGlvbi5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBpbXBvcnQge3NjYWxlIGFzIHNjYWxlQ29vcmRpbmF0ZX0gZnJvbSAnb2wvY29vcmRpbmF0ZS5qcyc7XG4gKlxuICogICAgIGNvbnN0IGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgY29uc3Qgc2NhbGUgPSAxLjI7XG4gKiAgICAgc2NhbGVDb29yZGluYXRlKGNvb3JkLCBzY2FsZSk7XG4gKiAgICAgLy8gY29vcmQgaXMgbm93IFs5LjQyLCA1Ny41Nzk5OTk2XVxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIFNjYWxlIGZhY3Rvci5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IENvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShjb29yZGluYXRlLCBzY2FsZSkge1xuICBjb29yZGluYXRlWzBdICo9IHNjYWxlO1xuICBjb29yZGluYXRlWzFdICo9IHNjYWxlO1xuICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkMSBGaXJzdCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDIgU2Vjb25kIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBjb29yZDEgYW5kIGNvb3JkMi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShjb29yZDEsIGNvb3JkMikge1xuICBjb25zdCBkeCA9IGNvb3JkMVswXSAtIGNvb3JkMlswXTtcbiAgY29uc3QgZHkgPSBjb29yZDFbMV0gLSBjb29yZDJbMV07XG4gIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkMSBGaXJzdCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDIgU2Vjb25kIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IERpc3RhbmNlIGJldHdlZW4gY29vcmQxIGFuZCBjb29yZDIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShjb29yZDEsIGNvb3JkMikge1xuICByZXR1cm4gTWF0aC5zcXJ0KHNxdWFyZWREaXN0YW5jZShjb29yZDEsIGNvb3JkMikpO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgc3F1YXJlZCBkaXN0YW5jZSBmcm9tIGEgY29vcmRpbmF0ZSB0byBhIGxpbmUgc2VnbWVudC5cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQuXG4gKiBAcGFyYW0ge0FycmF5PENvb3JkaW5hdGU+fSBzZWdtZW50IExpbmUgc2VnbWVudCAoMlxuICogY29vcmRpbmF0ZXMpLlxuICogQHJldHVybiB7bnVtYmVyfSBTcXVhcmVkIGRpc3RhbmNlIGZyb20gdGhlIHBvaW50IHRvIHRoZSBsaW5lIHNlZ21lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2VUb1NlZ21lbnQoY29vcmRpbmF0ZSwgc2VnbWVudCkge1xuICByZXR1cm4gc3F1YXJlZERpc3RhbmNlKGNvb3JkaW5hdGUsIGNsb3Nlc3RPblNlZ21lbnQoY29vcmRpbmF0ZSwgc2VnbWVudCkpO1xufVxuXG4vKipcbiAqIEZvcm1hdCBhIGdlb2dyYXBoaWMgY29vcmRpbmF0ZSB3aXRoIHRoZSBoZW1pc3BoZXJlLCBkZWdyZWVzLCBtaW51dGVzLCBhbmRcbiAqIHNlY29uZHMuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdIRE1TfSBmcm9tICdvbC9jb29yZGluYXRlLmpzJztcbiAqXG4gKiAgICAgY29uc3QgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBjb25zdCBvdXQgPSB0b1N0cmluZ0hETVMoY29vcmQpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzQ3wrAgNTjigLIgNjDigLMgTiA3wrAgNTDigLIgNjDigLMgRSdcbiAqXG4gKiBFeGFtcGxlIGV4cGxpY2l0bHkgc3BlY2lmeWluZyAxIGZyYWN0aW9uYWwgZGlnaXQ6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdIRE1TfSBmcm9tICdvbC9jb29yZGluYXRlLmpzJztcbiAqXG4gKiAgICAgY29uc3QgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBjb25zdCBvdXQgPSB0b1N0cmluZ0hETVMoY29vcmQsIDEpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzQ3wrAgNTjigLIgNjAuMOKAsyBOIDfCsCA1MOKAsiA2MC4w4oCzIEUnXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gW2ZyYWN0aW9uRGlnaXRzXSBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEhlbWlzcGhlcmUsIGRlZ3JlZXMsIG1pbnV0ZXMgYW5kIHNlY29uZHMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZ0hETVMoY29vcmRpbmF0ZSwgZnJhY3Rpb25EaWdpdHMpIHtcbiAgaWYgKGNvb3JkaW5hdGUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgZGVncmVlc1RvU3RyaW5nSERNUygnTlMnLCBjb29yZGluYXRlWzFdLCBmcmFjdGlvbkRpZ2l0cykgK1xuICAgICAgJyAnICtcbiAgICAgIGRlZ3JlZXNUb1N0cmluZ0hETVMoJ0VXJywgY29vcmRpbmF0ZVswXSwgZnJhY3Rpb25EaWdpdHMpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogRm9ybWF0IGEgY29vcmRpbmF0ZSBhcyBhIGNvbW1hIGRlbGltaXRlZCBzdHJpbmcuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdYWX0gZnJvbSAnb2wvY29vcmRpbmF0ZS5qcyc7XG4gKlxuICogICAgIGNvbnN0IGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgY29uc3Qgb3V0ID0gdG9TdHJpbmdYWShjb29yZCk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnOCwgNDgnXG4gKlxuICogRXhhbXBsZSBleHBsaWNpdGx5IHNwZWNpZnlpbmcgMSBmcmFjdGlvbmFsIGRpZ2l0OlxuICpcbiAqICAgICBpbXBvcnQge3RvU3RyaW5nWFl9IGZyb20gJ29sL2Nvb3JkaW5hdGUuanMnO1xuICpcbiAqICAgICBjb25zdCBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIGNvbnN0IG91dCA9IHRvU3RyaW5nWFkoY29vcmQsIDEpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzcuOCwgNDguMCdcbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZnJhY3Rpb25EaWdpdHNdIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIGluY2x1ZGVcbiAqICAgIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBEZWZhdWx0IGlzIGAwYC5cbiAqIEByZXR1cm4ge3N0cmluZ30gWFkuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZ1hZKGNvb3JkaW5hdGUsIGZyYWN0aW9uRGlnaXRzKSB7XG4gIHJldHVybiBmb3JtYXQoY29vcmRpbmF0ZSwgJ3t4fSwge3l9JywgZnJhY3Rpb25EaWdpdHMpO1xufVxuXG4vKipcbiAqIE1vZGlmaWVzIHRoZSBwcm92aWRlZCBjb29yZGluYXRlIGluLXBsYWNlIHRvIGJlIHdpdGhpbiB0aGUgcmVhbCB3b3JsZFxuICogZXh0ZW50LiBUaGUgbG93ZXIgcHJvamVjdGlvbiBleHRlbnQgYm91bmRhcnkgaXMgaW5jbHVzaXZlLCB0aGUgdXBwZXIgb25lXG4gKiBleGNsdXNpdmUuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IFRoZSBjb29yZGluYXRlIHdpdGhpbiB0aGUgcmVhbCB3b3JsZCBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwWChjb29yZGluYXRlLCBwcm9qZWN0aW9uKSB7XG4gIGlmIChwcm9qZWN0aW9uLmNhbldyYXBYKCkpIHtcbiAgICBjb25zdCB3b3JsZFdpZHRoID0gZ2V0V2lkdGgocHJvamVjdGlvbi5nZXRFeHRlbnQoKSk7XG4gICAgY29uc3Qgd29ybGRzQXdheSA9IGdldFdvcmxkc0F3YXkoY29vcmRpbmF0ZSwgcHJvamVjdGlvbiwgd29ybGRXaWR0aCk7XG4gICAgaWYgKHdvcmxkc0F3YXkpIHtcbiAgICAgIGNvb3JkaW5hdGVbMF0gLT0gd29ybGRzQXdheSAqIHdvcmxkV2lkdGg7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb29yZGluYXRlO1xufVxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzb3VyY2VFeHRlbnRXaWR0aF0gV2lkdGggb2YgdGhlIHNvdXJjZSBleHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE9mZnNldCBpbiB3b3JsZCB3aWR0aHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXb3JsZHNBd2F5KGNvb3JkaW5hdGUsIHByb2plY3Rpb24sIHNvdXJjZUV4dGVudFdpZHRoKSB7XG4gIGNvbnN0IHByb2plY3Rpb25FeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICBsZXQgd29ybGRzQXdheSA9IDA7XG4gIGlmIChcbiAgICBwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiZcbiAgICAoY29vcmRpbmF0ZVswXSA8IHByb2plY3Rpb25FeHRlbnRbMF0gfHwgY29vcmRpbmF0ZVswXSA+IHByb2plY3Rpb25FeHRlbnRbMl0pXG4gICkge1xuICAgIHNvdXJjZUV4dGVudFdpZHRoID0gc291cmNlRXh0ZW50V2lkdGggfHwgZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgd29ybGRzQXdheSA9IE1hdGguZmxvb3IoXG4gICAgICAoY29vcmRpbmF0ZVswXSAtIHByb2plY3Rpb25FeHRlbnRbMF0pIC8gc291cmNlRXh0ZW50V2lkdGhcbiAgICApO1xuICB9XG4gIHJldHVybiB3b3JsZHNBd2F5O1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Nzc1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRm9udFBhcmFtZXRlcnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdHlsZSBTdHlsZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB2YXJpYW50IFZhcmlhbnQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gd2VpZ2h0IFdlaWdodC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzaXplIFNpemUuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbGluZUhlaWdodCBMaW5lSGVpZ2h0LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGZhbWlseSBGYW1pbHkuXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IGZhbWlsaWVzIEZhbWlsaWVzLlxuICovXG5cbi8qKlxuICogVGhlIENTUyBjbGFzcyBmb3IgaGlkZGVuIGZlYXR1cmUuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgQ0xBU1NfSElEREVOID0gJ29sLWhpZGRlbic7XG5cbi8qKlxuICogVGhlIENTUyBjbGFzcyB0aGF0IHdlJ2xsIGdpdmUgdGhlIERPTSBlbGVtZW50cyB0byBoYXZlIHRoZW0gc2VsZWN0YWJsZS5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBDTEFTU19TRUxFQ1RBQkxFID0gJ29sLXNlbGVjdGFibGUnO1xuXG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdG8gaGF2ZSB0aGVtIHVuc2VsZWN0YWJsZS5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBDTEFTU19VTlNFTEVDVEFCTEUgPSAnb2wtdW5zZWxlY3RhYmxlJztcblxuLyoqXG4gKiBUaGUgQ1NTIGNsYXNzIGZvciB1bnN1cHBvcnRlZCBmZWF0dXJlLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IENMQVNTX1VOU1VQUE9SVEVEID0gJ29sLXVuc3VwcG9ydGVkJztcblxuLyoqXG4gKiBUaGUgQ1NTIGNsYXNzIGZvciBjb250cm9scy5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBDTEFTU19DT05UUk9MID0gJ29sLWNvbnRyb2wnO1xuXG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdGhhdCBhcmUgY29sbGFwc2VkLCBpLmUuXG4gKiB0byB0aG9zZSBlbGVtZW50cyB3aGljaCB1c3VhbGx5IGNhbiBiZSBleHBhbmRlZC5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBDTEFTU19DT0xMQVBTRUQgPSAnb2wtY29sbGFwc2VkJztcblxuLyoqXG4gKiBGcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwMTM1Njk3L3JlZ2V4LXRvLXBhcnNlLWFueS1jc3MtZm9udFxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xuY29uc3QgZm9udFJlZ0V4ID0gbmV3IFJlZ0V4cChcbiAgW1xuICAgICdeXFxcXHMqKD89KD86KD86Wy1hLXpdK1xcXFxzKil7MCwyfShpdGFsaWN8b2JsaXF1ZSkpPyknLFxuICAgICcoPz0oPzooPzpbLWEtel0rXFxcXHMqKXswLDJ9KHNtYWxsLWNhcHMpKT8pJyxcbiAgICAnKD89KD86KD86Wy1hLXpdK1xcXFxzKil7MCwyfShib2xkKD86ZXIpP3xsaWdodGVyfFsxLTldMDAgKSk/KScsXG4gICAgJyg/Oig/Om5vcm1hbHxcXFxcMXxcXFxcMnxcXFxcMylcXFxccyopezAsM30oKD86eHg/LSk/JyxcbiAgICAnKD86c21hbGx8bGFyZ2UpfG1lZGl1bXxzbWFsbGVyfGxhcmdlcnxbXFxcXC5cXFxcZF0rKD86XFxcXCV8aW58W2NlbV1tfGV4fHBbY3R4XSkpJyxcbiAgICAnKD86XFxcXHMqXFxcXC9cXFxccyoobm9ybWFsfFtcXFxcLlxcXFxkXSsoPzpcXFxcJXxpbnxbY2VtXW18ZXh8cFtjdHhdKT8pKScsXG4gICAgJz9cXFxccyooWy0sXFxcXFwiXFxcXFxcJ1xcXFxzYS16XSs/KVxcXFxzKiQnLFxuICBdLmpvaW4oJycpLFxuICAnaSdcbik7XG5jb25zdCBmb250UmVnRXhNYXRjaEluZGV4ID0gW1xuICAnc3R5bGUnLFxuICAndmFyaWFudCcsXG4gICd3ZWlnaHQnLFxuICAnc2l6ZScsXG4gICdsaW5lSGVpZ2h0JyxcbiAgJ2ZhbWlseScsXG5dO1xuXG4vKipcbiAqIEdldCB0aGUgbGlzdCBvZiBmb250IGZhbWlsaWVzIGZyb20gYSBmb250IHNwZWMuICBOb3RlIHRoYXQgdGhpcyBkb2Vzbid0IHdvcmtcbiAqIGZvciBmb250IGZhbWlsaWVzIHRoYXQgaGF2ZSBjb21tYXMgaW4gdGhlbS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3BlYyBUaGUgQ1NTIGZvbnQgcHJvcGVydHkuXG4gKiBAcmV0dXJuIHtGb250UGFyYW1ldGVyc3xudWxsfSBUaGUgZm9udCBwYXJhbWV0ZXJzIChvciBudWxsIGlmIHRoZSBpbnB1dCBzcGVjIGlzIGludmFsaWQpLlxuICovXG5leHBvcnQgY29uc3QgZ2V0Rm9udFBhcmFtZXRlcnMgPSBmdW5jdGlvbiAoZm9udFNwZWMpIHtcbiAgY29uc3QgbWF0Y2ggPSBmb250U3BlYy5tYXRjaChmb250UmVnRXgpO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3Qgc3R5bGUgPSAvKiogQHR5cGUge0ZvbnRQYXJhbWV0ZXJzfSAqLyAoe1xuICAgIGxpbmVIZWlnaHQ6ICdub3JtYWwnLFxuICAgIHNpemU6ICcxLjJlbScsXG4gICAgc3R5bGU6ICdub3JtYWwnLFxuICAgIHdlaWdodDogJ25vcm1hbCcsXG4gICAgdmFyaWFudDogJ25vcm1hbCcsXG4gIH0pO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBmb250UmVnRXhNYXRjaEluZGV4Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCB2YWx1ZSA9IG1hdGNoW2kgKyAxXTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3R5bGVbZm9udFJlZ0V4TWF0Y2hJbmRleFtpXV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgc3R5bGUuZmFtaWxpZXMgPSBzdHlsZS5mYW1pbHkuc3BsaXQoLyxcXHM/Lyk7XG4gIHJldHVybiBzdHlsZTtcbn07XG4iLCJpbXBvcnQge1dPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTfSBmcm9tICcuL2hhcy5qcyc7XG5cbi8qKlxuICogQG1vZHVsZSBvbC9kb21cbiAqL1xuXG4vL0ZJWE1FIE1vdmUgdGhpcyBmdW5jdGlvbiB0byB0aGUgY2FudmFzIG1vZHVsZVxuLyoqXG4gKiBDcmVhdGUgYW4gaHRtbCBjYW52YXMgZWxlbWVudCBhbmQgcmV0dXJucyBpdHMgMmQgY29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGhdIENhbnZhcyB3aWR0aC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0XSBDYW52YXMgaGVpZ2h0LlxuICogQHBhcmFtIHtBcnJheTxIVE1MQ2FudmFzRWxlbWVudD59IFtjYW52YXNQb29sXSBDYW52YXMgcG9vbCB0byB0YWtlIGV4aXN0aW5nIGNhbnZhcyBmcm9tLlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRTZXR0aW5nc30gW3NldHRpbmdzXSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRTZXR0aW5nc1xuICogQHJldHVybiB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBUaGUgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhbnZhc0NvbnRleHQyRCh3aWR0aCwgaGVpZ2h0LCBjYW52YXNQb29sLCBzZXR0aW5ncykge1xuICAvKiogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fE9mZnNjcmVlbkNhbnZhc30gKi9cbiAgbGV0IGNhbnZhcztcbiAgaWYgKGNhbnZhc1Bvb2wgJiYgY2FudmFzUG9vbC5sZW5ndGgpIHtcbiAgICBjYW52YXMgPSBjYW52YXNQb29sLnNoaWZ0KCk7XG4gIH0gZWxzZSBpZiAoV09SS0VSX09GRlNDUkVFTl9DQU5WQVMpIHtcbiAgICBjYW52YXMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoIHx8IDMwMCwgaGVpZ2h0IHx8IDMwMCk7XG4gIH0gZWxzZSB7XG4gICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIH1cbiAgaWYgKHdpZHRoKSB7XG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gIH1cbiAgaWYgKGhlaWdodCkge1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gIH1cbiAgLy9GSVhNRSBBbGxvdyBPZmZzY3JlZW5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgYXMgcmV0dXJuIHR5cGVcbiAgcmV0dXJuIC8qKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAqLyAoXG4gICAgY2FudmFzLmdldENvbnRleHQoJzJkJywgc2V0dGluZ3MpXG4gICk7XG59XG5cbi8qKlxuICogUmVsZWFzZXMgY2FudmFzIG1lbW9yeSB0byBhdm9pZCBleGNlZWRpbmcgbWVtb3J5IGxpbWl0cyBpbiBTYWZhcmkuXG4gKiBTZWUgaHR0cHM6Ly9wcWluYS5ubC9ibG9nL3RvdGFsLWNhbnZhcy1tZW1vcnktdXNlLWV4Y2VlZHMtdGhlLW1heGltdW0tbGltaXQvXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVsZWFzZUNhbnZhcyhjb250ZXh0KSB7XG4gIGNvbnN0IGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuICBjYW52YXMud2lkdGggPSAxO1xuICBjYW52YXMuaGVpZ2h0ID0gMTtcbiAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgMSwgMSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IGNvbXB1dGVkIHdpZHRoIGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBpbmNsdWRpbmcgbWFyZ2luLFxuICogcGFkZGluZyBhbmQgYm9yZGVyLlxuICogRXF1aXZhbGVudCB0byBqUXVlcnkncyBgJChlbCkub3V0ZXJXaWR0aCh0cnVlKWAuXG4gKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWxlbWVudCBFbGVtZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgd2lkdGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvdXRlcldpZHRoKGVsZW1lbnQpIHtcbiAgbGV0IHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICB3aWR0aCArPSBwYXJzZUludChzdHlsZS5tYXJnaW5MZWZ0LCAxMCkgKyBwYXJzZUludChzdHlsZS5tYXJnaW5SaWdodCwgMTApO1xuXG4gIHJldHVybiB3aWR0aDtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgY29tcHV0ZWQgaGVpZ2h0IGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBpbmNsdWRpbmcgbWFyZ2luLFxuICogcGFkZGluZyBhbmQgYm9yZGVyLlxuICogRXF1aXZhbGVudCB0byBqUXVlcnkncyBgJChlbCkub3V0ZXJIZWlnaHQodHJ1ZSlgLlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGhlaWdodC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG91dGVySGVpZ2h0KGVsZW1lbnQpIHtcbiAgbGV0IGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIGhlaWdodCArPSBwYXJzZUludChzdHlsZS5tYXJnaW5Ub3AsIDEwKSArIHBhcnNlSW50KHN0eWxlLm1hcmdpbkJvdHRvbSwgMTApO1xuXG4gIHJldHVybiBoZWlnaHQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBuZXdOb2RlIE5vZGUgdG8gcmVwbGFjZSBvbGQgbm9kZVxuICogQHBhcmFtIHtOb2RlfSBvbGROb2RlIFRoZSBub2RlIHRvIGJlIHJlcGxhY2VkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlTm9kZShuZXdOb2RlLCBvbGROb2RlKSB7XG4gIGNvbnN0IHBhcmVudCA9IG9sZE5vZGUucGFyZW50Tm9kZTtcbiAgaWYgKHBhcmVudCkge1xuICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgb2xkTm9kZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlLlxuICogQHJldHVybiB7Tm9kZXxudWxsfSBUaGUgbm9kZSB0aGF0IHdhcyByZW1vdmVkIG9yIG51bGwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUgJiYgbm9kZS5wYXJlbnROb2RlID8gbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpIDogbnVsbDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlIHRoZSBjaGlsZHJlbiBmcm9tLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4obm9kZSkge1xuICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpIHtcbiAgICBub2RlLnJlbW92ZUNoaWxkKG5vZGUubGFzdENoaWxkKTtcbiAgfVxufVxuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgY2hpbGRyZW4gb2YgYSBwYXJlbnQgbm9kZSBzbyB0aGV5IG1hdGNoIHRoZVxuICogcHJvdmlkZWQgbGlzdCBvZiBjaGlsZHJlbi4gIFRoaXMgZnVuY3Rpb24gYWltcyB0byBlZmZpY2llbnRseVxuICogcmVtb3ZlLCBhZGQsIGFuZCByZW9yZGVyIGNoaWxkIG5vZGVzIHdoaWxlIG1haW50YWluaW5nIGEgc2ltcGxlXG4gKiBpbXBsZW1lbnRhdGlvbiAoaXQgaXMgbm90IGd1YXJhbnRlZWQgdG8gbWluaW1pemUgRE9NIG9wZXJhdGlvbnMpLlxuICogQHBhcmFtIHtOb2RlfSBub2RlIFRoZSBwYXJlbnQgbm9kZSB3aG9zZSBjaGlsZHJlbiBuZWVkIHJld29ya2luZy5cbiAqIEBwYXJhbSB7QXJyYXk8Tm9kZT59IGNoaWxkcmVuIFRoZSBkZXNpcmVkIGNoaWxkcmVuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZUNoaWxkcmVuKG5vZGUsIGNoaWxkcmVuKSB7XG4gIGNvbnN0IG9sZENoaWxkcmVuID0gbm9kZS5jaGlsZE5vZGVzO1xuXG4gIGZvciAobGV0IGkgPSAwOyB0cnVlOyArK2kpIHtcbiAgICBjb25zdCBvbGRDaGlsZCA9IG9sZENoaWxkcmVuW2ldO1xuICAgIGNvbnN0IG5ld0NoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAvLyBjaGVjayBpZiBvdXIgd29yayBpcyBkb25lXG4gICAgaWYgKCFvbGRDaGlsZCAmJiAhbmV3Q2hpbGQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIGlmIGNoaWxkcmVuIG1hdGNoXG4gICAgaWYgKG9sZENoaWxkID09PSBuZXdDaGlsZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgYSBuZXcgY2hpbGQgbmVlZHMgdG8gYmUgYWRkZWRcbiAgICBpZiAoIW9sZENoaWxkKSB7XG4gICAgICBub2RlLmFwcGVuZENoaWxkKG5ld0NoaWxkKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIGlmIGFuIG9sZCBjaGlsZCBuZWVkcyB0byBiZSByZW1vdmVkXG4gICAgaWYgKCFuZXdDaGlsZCkge1xuICAgICAgbm9kZS5yZW1vdmVDaGlsZChvbGRDaGlsZCk7XG4gICAgICAtLWk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyByZW9yZGVyXG4gICAgbm9kZS5pbnNlcnRCZWZvcmUobmV3Q2hpbGQsIG9sZENoaWxkKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Vhc2luZ1xuICovXG5cbi8qKlxuICogU3RhcnQgc2xvdyBhbmQgc3BlZWQgdXAuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW4odCkge1xuICByZXR1cm4gTWF0aC5wb3codCwgMyk7XG59XG5cbi8qKlxuICogU3RhcnQgZmFzdCBhbmQgc2xvdyBkb3duLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dCh0KSB7XG4gIHJldHVybiAxIC0gZWFzZUluKDEgLSB0KTtcbn1cblxuLyoqXG4gKiBTdGFydCBzbG93LCBzcGVlZCB1cCwgYW5kIHRoZW4gc2xvdyBkb3duIGFnYWluLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5BbmRPdXQodCkge1xuICByZXR1cm4gMyAqIHQgKiB0IC0gMiAqIHQgKiB0ICogdDtcbn1cblxuLyoqXG4gKiBNYWludGFpbiBhIGNvbnN0YW50IHNwZWVkIG92ZXIgdGltZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhcih0KSB7XG4gIHJldHVybiB0O1xufVxuXG4vKipcbiAqIFN0YXJ0IHNsb3csIHNwZWVkIHVwLCBhbmQgYXQgdGhlIHZlcnkgZW5kIHNsb3cgZG93biBhZ2Fpbi4gIFRoaXMgaGFzIHRoZVxuICogc2FtZSBnZW5lcmFsIGJlaGF2aW9yIGFzIHtAbGluayBtb2R1bGU6b2wvZWFzaW5nLmluQW5kT3V0fSwgYnV0IHRoZSBmaW5hbFxuICogc2xvd2Rvd24gaXMgZGVsYXllZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwQW5kRG93bih0KSB7XG4gIGlmICh0IDwgMC41KSB7XG4gICAgcmV0dXJuIGluQW5kT3V0KDIgKiB0KTtcbiAgfVxuICByZXR1cm4gMSAtIGluQW5kT3V0KDIgKiAodCAtIDAuNSkpO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V2ZW50c1xuICovXG5pbXBvcnQge2NsZWFyfSBmcm9tICcuL29iai5qcyc7XG5cbi8qKlxuICogS2V5IHRvIHVzZSB3aXRoIHtAbGluayBtb2R1bGU6b2wvT2JzZXJ2YWJsZS51bkJ5S2V5fS5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IEV2ZW50c0tleVxuICogQHByb3BlcnR5IHtMaXN0ZW5lckZ1bmN0aW9ufSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9ldmVudHMvVGFyZ2V0LmpzXCIpLkV2ZW50VGFyZ2V0TGlrZX0gdGFyZ2V0IFRhcmdldC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFR5cGUuXG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiBMaXN0ZW5lciBmdW5jdGlvbi4gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBhbiBldmVudCBvYmplY3QgYXMgYXJndW1lbnQuXG4gKiBXaGVuIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAsIGV2ZW50IHByb3BhZ2F0aW9uIHdpbGwgc3RvcC5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpKTogKHZvaWR8Ym9vbGVhbil9IExpc3RlbmVyRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IExpc3RlbmVyT2JqZWN0XG4gKiBAcHJvcGVydHkge0xpc3RlbmVyRnVuY3Rpb259IGhhbmRsZUV2ZW50IEhhbmRsZUV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge0xpc3RlbmVyRnVuY3Rpb258TGlzdGVuZXJPYmplY3R9IExpc3RlbmVyXG4gKi9cblxuLyoqXG4gKiBSZWdpc3RlcnMgYW4gZXZlbnQgbGlzdGVuZXIgb24gYW4gZXZlbnQgdGFyZ2V0LiBJbnNwaXJlZCBieVxuICogaHR0cHM6Ly9nb29nbGUuZ2l0aHViLmlvL2Nsb3N1cmUtbGlicmFyeS9hcGkvc291cmNlL2Nsb3N1cmUvZ29vZy9ldmVudHMvZXZlbnRzLmpzLnNyYy5odG1sXG4gKlxuICogVGhpcyBmdW5jdGlvbiBlZmZpY2llbnRseSBiaW5kcyBhIGBsaXN0ZW5lcmAgdG8gYSBgdGhpc2Agb2JqZWN0LCBhbmQgcmV0dXJuc1xuICogYSBrZXkgZm9yIHVzZSB3aXRoIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzLnVubGlzdGVuQnlLZXl9LlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9ldmVudHMvVGFyZ2V0LmpzXCIpLkV2ZW50VGFyZ2V0TGlrZX0gdGFyZ2V0IEV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEV2ZW50IHR5cGUuXG4gKiBAcGFyYW0ge0xpc3RlbmVyRnVuY3Rpb259IGxpc3RlbmVyIExpc3RlbmVyLlxuICogQHBhcmFtIHtPYmplY3R9IFt0aGlzQXJnXSBPYmplY3QgcmVmZXJlbmNlZCBieSB0aGUgYHRoaXNgIGtleXdvcmQgaW4gdGhlXG4gKiAgICAgbGlzdGVuZXIuIERlZmF1bHQgaXMgdGhlIGB0YXJnZXRgLlxuICogQHBhcmFtIHtib29sZWFufSBbb25jZV0gSWYgdHJ1ZSwgYWRkIHRoZSBsaXN0ZW5lciBhcyBvbmUtb2ZmIGxpc3RlbmVyLlxuICogQHJldHVybiB7RXZlbnRzS2V5fSBVbmlxdWUga2V5IGZvciB0aGUgbGlzdGVuZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4odGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgdGhpc0FyZywgb25jZSkge1xuICBpZiAodGhpc0FyZyAmJiB0aGlzQXJnICE9PSB0YXJnZXQpIHtcbiAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmJpbmQodGhpc0FyZyk7XG4gIH1cbiAgaWYgKG9uY2UpIHtcbiAgICBjb25zdCBvcmlnaW5hbExpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgbGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcik7XG4gICAgICBvcmlnaW5hbExpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuICBjb25zdCBldmVudHNLZXkgPSB7XG4gICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgdHlwZTogdHlwZSxcbiAgICBsaXN0ZW5lcjogbGlzdGVuZXIsXG4gIH07XG4gIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKTtcbiAgcmV0dXJuIGV2ZW50c0tleTtcbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBvbmUtb2ZmIGV2ZW50IGxpc3RlbmVyIG9uIGFuIGV2ZW50IHRhcmdldC4gSW5zcGlyZWQgYnlcbiAqIGh0dHBzOi8vZ29vZ2xlLmdpdGh1Yi5pby9jbG9zdXJlLWxpYnJhcnkvYXBpL3NvdXJjZS9jbG9zdXJlL2dvb2cvZXZlbnRzL2V2ZW50cy5qcy5zcmMuaHRtbFxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZWZmaWNpZW50bHkgYmluZHMgYSBgbGlzdGVuZXJgIGFzIHNlbGYtdW5yZWdpc3RlcmluZyBsaXN0ZW5lclxuICogdG8gYSBgdGhpc2Agb2JqZWN0LCBhbmQgcmV0dXJucyBhIGtleSBmb3IgdXNlIHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzLnVubGlzdGVuQnlLZXl9IGluIGNhc2UgdGhlIGxpc3RlbmVyIG5lZWRzIHRvIGJlXG4gKiB1bnJlZ2lzdGVyZWQgYmVmb3JlIGl0IGlzIGNhbGxlZC5cbiAqXG4gKiBXaGVuIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzLmxpc3Rlbn0gaXMgY2FsbGVkIHdpdGggdGhlIHNhbWUgYXJndW1lbnRzIGFmdGVyIHRoaXNcbiAqIGZ1bmN0aW9uLCB0aGUgc2VsZi11bnJlZ2lzdGVyaW5nIGxpc3RlbmVyIHdpbGwgYmUgdHVybmVkIGludG8gYSBwZXJtYW5lbnRcbiAqIGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9ldmVudHMvVGFyZ2V0LmpzXCIpLkV2ZW50VGFyZ2V0TGlrZX0gdGFyZ2V0IEV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEV2ZW50IHR5cGUuXG4gKiBAcGFyYW0ge0xpc3RlbmVyRnVuY3Rpb259IGxpc3RlbmVyIExpc3RlbmVyLlxuICogQHBhcmFtIHtPYmplY3R9IFt0aGlzQXJnXSBPYmplY3QgcmVmZXJlbmNlZCBieSB0aGUgYHRoaXNgIGtleXdvcmQgaW4gdGhlXG4gKiAgICAgbGlzdGVuZXIuIERlZmF1bHQgaXMgdGhlIGB0YXJnZXRgLlxuICogQHJldHVybiB7RXZlbnRzS2V5fSBLZXkgZm9yIHVubGlzdGVuQnlLZXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5PbmNlKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGxpc3Rlbih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCB0aGlzQXJnLCB0cnVlKTtcbn1cblxuLyoqXG4gKiBVbnJlZ2lzdGVycyBldmVudCBsaXN0ZW5lcnMgb24gYW4gZXZlbnQgdGFyZ2V0LiBJbnNwaXJlZCBieVxuICogaHR0cHM6Ly9nb29nbGUuZ2l0aHViLmlvL2Nsb3N1cmUtbGlicmFyeS9hcGkvc291cmNlL2Nsb3N1cmUvZ29vZy9ldmVudHMvZXZlbnRzLmpzLnNyYy5odG1sXG4gKlxuICogVGhlIGFyZ3VtZW50IHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uIGlzIHRoZSBrZXkgcmV0dXJuZWQgZnJvbVxuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMubGlzdGVufSBvciB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy5saXN0ZW5PbmNlfS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50c0tleX0ga2V5IFRoZSBrZXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bmxpc3RlbkJ5S2V5KGtleSkge1xuICBpZiAoa2V5ICYmIGtleS50YXJnZXQpIHtcbiAgICBrZXkudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoa2V5LnR5cGUsIGtleS5saXN0ZW5lcik7XG4gICAgY2xlYXIoa2V5KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V2ZW50cy9FdmVudFxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU3RyaXBwZWQgZG93biBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgVzNDIERPTSBMZXZlbCAyIEV2ZW50IGludGVyZmFjZS5cbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItRXZlbnRzL2V2ZW50cy5odG1sI0V2ZW50cy1pbnRlcmZhY2UuXG4gKlxuICogVGhpcyBpbXBsZW1lbnRhdGlvbiBvbmx5IHByb3ZpZGVzIGB0eXBlYCBhbmQgYHRhcmdldGAgcHJvcGVydGllcywgYW5kXG4gKiBgc3RvcFByb3BhZ2F0aW9uYCBhbmQgYHByZXZlbnREZWZhdWx0YCBtZXRob2RzLiBJdCBpcyBtZWFudCBhcyBiYXNlIGNsYXNzXG4gKiBmb3IgaGlnaGVyIGxldmVsIGV2ZW50cyBkZWZpbmVkIGluIHRoZSBsaWJyYXJ5LCBhbmQgd29ya3Mgd2l0aFxuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvVGFyZ2V0flRhcmdldH0uXG4gKi9cbmNsYXNzIEJhc2VFdmVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlLlxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5kZWZhdWx0UHJldmVudGVkO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IHR5cGUuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy50eXBlID0gdHlwZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBldmVudCB0YXJnZXQuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFByZXZlbnQgZGVmYXVsdC4gVGhpcyBtZWFucyB0aGF0IG5vIGVtdWxhdGVkIGBjbGlja2AsIGBzaW5nbGVjbGlja2Agb3IgYGRvdWJsZWNsaWNrYCBldmVudHNcbiAgICogd2lsbCBiZSBmaXJlZC5cbiAgICogQGFwaVxuICAgKi9cbiAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFdmVudHxpbXBvcnQoXCIuL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2dCBFdmVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGV2dCkge1xuICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFdmVudHxpbXBvcnQoXCIuL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2dCBFdmVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBCYXNlRXZlbnQ7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL0V2ZW50VHlwZVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqIEBjb25zdFxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgKiBHZW5lcmljIGNoYW5nZSBldmVudC4gVHJpZ2dlcmVkIHdoZW4gdGhlIHJldmlzaW9uIGNvdW50ZXIgaXMgaW5jcmVhc2VkLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL2V2ZW50cy9FdmVudH5CYXNlRXZlbnQjY2hhbmdlXG4gICAqIEBhcGlcbiAgICovXG4gIENIQU5HRTogJ2NoYW5nZScsXG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgZXJyb3IgZXZlbnQuIFRyaWdnZXJlZCB3aGVuIGFuIGVycm9yIG9jY3Vycy5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9ldmVudHMvRXZlbnR+QmFzZUV2ZW50I2Vycm9yXG4gICAqIEBhcGlcbiAgICovXG4gIEVSUk9SOiAnZXJyb3InLFxuXG4gIEJMVVI6ICdibHVyJyxcbiAgQ0xFQVI6ICdjbGVhcicsXG4gIENPTlRFWFRNRU5VOiAnY29udGV4dG1lbnUnLFxuICBDTElDSzogJ2NsaWNrJyxcbiAgREJMQ0xJQ0s6ICdkYmxjbGljaycsXG4gIERSQUdFTlRFUjogJ2RyYWdlbnRlcicsXG4gIERSQUdPVkVSOiAnZHJhZ292ZXInLFxuICBEUk9QOiAnZHJvcCcsXG4gIEZPQ1VTOiAnZm9jdXMnLFxuICBLRVlET1dOOiAna2V5ZG93bicsXG4gIEtFWVBSRVNTOiAna2V5cHJlc3MnLFxuICBMT0FEOiAnbG9hZCcsXG4gIFJFU0laRTogJ3Jlc2l6ZScsXG4gIFRPVUNITU9WRTogJ3RvdWNobW92ZScsXG4gIFdIRUVMOiAnd2hlZWwnLFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9ldmVudHMvVGFyZ2V0XG4gKi9cbmltcG9ydCBEaXNwb3NhYmxlIGZyb20gJy4uL0Rpc3Bvc2FibGUuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vRXZlbnQuanMnO1xuaW1wb3J0IHtWT0lEfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHtjbGVhcn0gZnJvbSAnLi4vb2JqLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7RXZlbnRUYXJnZXR8VGFyZ2V0fSBFdmVudFRhcmdldExpa2VcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgc2ltcGxpZmllZCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgVzNDIERPTSBMZXZlbCAyIEV2ZW50VGFyZ2V0IGludGVyZmFjZS5cbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMC9SRUMtRE9NLUxldmVsLTItRXZlbnRzLTIwMDAxMTEzL2V2ZW50cy5odG1sI0V2ZW50cy1FdmVudFRhcmdldC5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIGltcG9ydGFudCBzaW1wbGlmaWNhdGlvbnMgY29tcGFyZWQgdG8gdGhlIHNwZWNpZmljYXRpb246XG4gKlxuICogMS4gVGhlIGhhbmRsaW5nIG9mIGB1c2VDYXB0dXJlYCBpbiBgYWRkRXZlbnRMaXN0ZW5lcmAgYW5kXG4gKiAgICBgcmVtb3ZlRXZlbnRMaXN0ZW5lcmAuIFRoZXJlIGlzIG5vIHJlYWwgY2FwdHVyZSBtb2RlbC5cbiAqIDIuIFRoZSBoYW5kbGluZyBvZiBgc3RvcFByb3BhZ2F0aW9uYCBhbmQgYHByZXZlbnREZWZhdWx0YCBvbiBgZGlzcGF0Y2hFdmVudGAuXG4gKiAgICBUaGVyZSBpcyBubyBldmVudCB0YXJnZXQgaGllcmFyY2h5LiBXaGVuIGEgbGlzdGVuZXIgY2FsbHNcbiAqICAgIGBzdG9wUHJvcGFnYXRpb25gIG9yIGBwcmV2ZW50RGVmYXVsdGAgb24gYW4gZXZlbnQgb2JqZWN0LCBpdCBtZWFucyB0aGF0IG5vXG4gKiAgICBtb3JlIGxpc3RlbmVycyBhZnRlciB0aGlzIG9uZSB3aWxsIGJlIGNhbGxlZC4gU2FtZSBhcyB3aGVuIHRoZSBsaXN0ZW5lclxuICogICAgcmV0dXJucyBmYWxzZS5cbiAqL1xuY2xhc3MgVGFyZ2V0IGV4dGVuZHMgRGlzcG9zYWJsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IFt0YXJnZXRdIERlZmF1bHQgZXZlbnQgdGFyZ2V0IGZvciBkaXNwYXRjaGVkIGV2ZW50cy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRhcmdldCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHsqfVxuICAgICAqL1xuICAgIHRoaXMuZXZlbnRUYXJnZXRfID0gdGFyZ2V0O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgbnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLnBlbmRpbmdSZW1vdmFsc18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgbnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLmRpc3BhdGNoaW5nXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuTGlzdGVuZXI+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmxpc3RlbmVyc18gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyfSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAoIXR5cGUgfHwgIWxpc3RlbmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzXyB8fCAodGhpcy5saXN0ZW5lcnNfID0ge30pO1xuICAgIGNvbnN0IGxpc3RlbmVyc0ZvclR5cGUgPSBsaXN0ZW5lcnNbdHlwZV0gfHwgKGxpc3RlbmVyc1t0eXBlXSA9IFtdKTtcbiAgICBpZiAoIWxpc3RlbmVyc0ZvclR5cGUuaW5jbHVkZXMobGlzdGVuZXIpKSB7XG4gICAgICBsaXN0ZW5lcnNGb3JUeXBlLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGFuZCBjYWxscyBhbGwgbGlzdGVuZXJzIGxpc3RlbmluZyBmb3IgZXZlbnRzXG4gICAqIG9mIHRoaXMgdHlwZS4gVGhlIGV2ZW50IHBhcmFtZXRlciBjYW4gZWl0aGVyIGJlIGEgc3RyaW5nIG9yIGFuXG4gICAqIE9iamVjdCB3aXRoIGEgYHR5cGVgIHByb3BlcnR5LlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vRXZlbnQuanNcIikuZGVmYXVsdHxzdHJpbmd9IGV2ZW50IEV2ZW50IG9iamVjdC5cbiAgICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9IGBmYWxzZWAgaWYgYW55b25lIGNhbGxlZCBwcmV2ZW50RGVmYXVsdCBvbiB0aGVcbiAgICogICAgIGV2ZW50IG9iamVjdCBvciBpZiBhbnkgb2YgdGhlIGxpc3RlbmVycyByZXR1cm5lZCBmYWxzZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZGlzcGF0Y2hFdmVudChldmVudCkge1xuICAgIGNvbnN0IGlzU3RyaW5nID0gdHlwZW9mIGV2ZW50ID09PSAnc3RyaW5nJztcbiAgICBjb25zdCB0eXBlID0gaXNTdHJpbmcgPyBldmVudCA6IGV2ZW50LnR5cGU7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNfICYmIHRoaXMubGlzdGVuZXJzX1t0eXBlXTtcbiAgICBpZiAoIWxpc3RlbmVycykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGV2dCA9IGlzU3RyaW5nID8gbmV3IEV2ZW50KGV2ZW50KSA6IC8qKiBAdHlwZSB7RXZlbnR9ICovIChldmVudCk7XG4gICAgaWYgKCFldnQudGFyZ2V0KSB7XG4gICAgICBldnQudGFyZ2V0ID0gdGhpcy5ldmVudFRhcmdldF8gfHwgdGhpcztcbiAgICB9XG4gICAgY29uc3QgZGlzcGF0Y2hpbmcgPSB0aGlzLmRpc3BhdGNoaW5nXyB8fCAodGhpcy5kaXNwYXRjaGluZ18gPSB7fSk7XG4gICAgY29uc3QgcGVuZGluZ1JlbW92YWxzID1cbiAgICAgIHRoaXMucGVuZGluZ1JlbW92YWxzXyB8fCAodGhpcy5wZW5kaW5nUmVtb3ZhbHNfID0ge30pO1xuICAgIGlmICghKHR5cGUgaW4gZGlzcGF0Y2hpbmcpKSB7XG4gICAgICBkaXNwYXRjaGluZ1t0eXBlXSA9IDA7XG4gICAgICBwZW5kaW5nUmVtb3ZhbHNbdHlwZV0gPSAwO1xuICAgIH1cbiAgICArK2Rpc3BhdGNoaW5nW3R5cGVdO1xuICAgIGxldCBwcm9wYWdhdGU7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGlmICgnaGFuZGxlRXZlbnQnIGluIGxpc3RlbmVyc1tpXSkge1xuICAgICAgICBwcm9wYWdhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lck9iamVjdH0gKi8gKFxuICAgICAgICAgIGxpc3RlbmVyc1tpXVxuICAgICAgICApLmhhbmRsZUV2ZW50KGV2dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9wYWdhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lckZ1bmN0aW9ufSAqLyAoXG4gICAgICAgICAgbGlzdGVuZXJzW2ldXG4gICAgICAgICkuY2FsbCh0aGlzLCBldnQpO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BhZ2F0ZSA9PT0gZmFsc2UgfHwgZXZ0LnByb3BhZ2F0aW9uU3RvcHBlZCkge1xuICAgICAgICBwcm9wYWdhdGUgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICgtLWRpc3BhdGNoaW5nW3R5cGVdID09PSAwKSB7XG4gICAgICBsZXQgcHIgPSBwZW5kaW5nUmVtb3ZhbHNbdHlwZV07XG4gICAgICBkZWxldGUgcGVuZGluZ1JlbW92YWxzW3R5cGVdO1xuICAgICAgd2hpbGUgKHByLS0pIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIFZPSUQpO1xuICAgICAgfVxuICAgICAgZGVsZXRlIGRpc3BhdGNoaW5nW3R5cGVdO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcGFnYXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwLlxuICAgKi9cbiAgZGlzcG9zZUludGVybmFsKCkge1xuICAgIHRoaXMubGlzdGVuZXJzXyAmJiBjbGVhcih0aGlzLmxpc3RlbmVyc18pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGlzdGVuZXJzIGZvciBhIHNwZWNpZmllZCBldmVudCB0eXBlLiBMaXN0ZW5lcnMgYXJlIHJldHVybmVkIGluIHRoZVxuICAgKiBvcmRlciB0aGF0IHRoZXkgd2lsbCBiZSBjYWxsZWQgaW4uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lcj58dW5kZWZpbmVkfSBMaXN0ZW5lcnMuXG4gICAqL1xuICBnZXRMaXN0ZW5lcnModHlwZSkge1xuICAgIHJldHVybiAodGhpcy5saXN0ZW5lcnNfICYmIHRoaXMubGlzdGVuZXJzX1t0eXBlXSkgfHwgdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZV0gVHlwZS4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiAgICAgYHRydWVgIHdpbGwgYmUgcmV0dXJuZWQgaWYgdGhpcyBldmVudCB0YXJnZXQgaGFzIGFueSBsaXN0ZW5lcnMuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IEhhcyBsaXN0ZW5lcnMuXG4gICAqL1xuICBoYXNMaXN0ZW5lcih0eXBlKSB7XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVyc18pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVcbiAgICAgID8gdHlwZSBpbiB0aGlzLmxpc3RlbmVyc19cbiAgICAgIDogT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnNfKS5sZW5ndGggPiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyfSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAgICovXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc18gJiYgdGhpcy5saXN0ZW5lcnNfW3R5cGVdO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nUmVtb3ZhbHNfICYmIHR5cGUgaW4gdGhpcy5wZW5kaW5nUmVtb3ZhbHNfKSB7XG4gICAgICAgICAgLy8gbWFrZSBsaXN0ZW5lciBhIG5vLW9wLCBhbmQgcmVtb3ZlIGxhdGVyIGluICNkaXNwYXRjaEV2ZW50KClcbiAgICAgICAgICBsaXN0ZW5lcnNbaW5kZXhdID0gVk9JRDtcbiAgICAgICAgICArK3RoaXMucGVuZGluZ1JlbW92YWxzX1t0eXBlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICBpZiAobGlzdGVuZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubGlzdGVuZXJzX1t0eXBlXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGFyZ2V0O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V4dGVudFxuICovXG5pbXBvcnQgUmVsYXRpb25zaGlwIGZyb20gJy4vZXh0ZW50L1JlbGF0aW9uc2hpcC5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcblxuLyoqXG4gKiBBbiBhcnJheSBvZiBudW1iZXJzIHJlcHJlc2VudGluZyBhbiBleHRlbnQ6IGBbbWlueCwgbWlueSwgbWF4eCwgbWF4eV1gLlxuICogQHR5cGVkZWYge0FycmF5PG51bWJlcj59IEV4dGVudFxuICogQGFwaVxuICovXG5cbi8qKlxuICogRXh0ZW50IGNvcm5lci5cbiAqIEB0eXBlZGVmIHsnYm90dG9tLWxlZnQnIHwgJ2JvdHRvbS1yaWdodCcgfCAndG9wLWxlZnQnIHwgJ3RvcC1yaWdodCd9IENvcm5lclxuICovXG5cbi8qKlxuICogQnVpbGQgYW4gZXh0ZW50IHRoYXQgaW5jbHVkZXMgYWxsIGdpdmVuIGNvb3JkaW5hdGVzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAqIEByZXR1cm4ge0V4dGVudH0gQm91bmRpbmcgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYm91bmRpbmdFeHRlbnQoY29vcmRpbmF0ZXMpIHtcbiAgY29uc3QgZXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIGV4dGVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHhzIFhzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB5cyBZcy5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbZGVzdF0gRGVzdGluYXRpb24gZXh0ZW50LlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5mdW5jdGlvbiBfYm91bmRpbmdFeHRlbnRYWXMoeHMsIHlzLCBkZXN0KSB7XG4gIGNvbnN0IG1pblggPSBNYXRoLm1pbi5hcHBseShudWxsLCB4cyk7XG4gIGNvbnN0IG1pblkgPSBNYXRoLm1pbi5hcHBseShudWxsLCB5cyk7XG4gIGNvbnN0IG1heFggPSBNYXRoLm1heC5hcHBseShudWxsLCB4cyk7XG4gIGNvbnN0IG1heFkgPSBNYXRoLm1heC5hcHBseShudWxsLCB5cyk7XG4gIHJldHVybiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBkZXN0KTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gZXh0ZW50IGluY3JlYXNlZCBieSB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgYW1vdW50IGJ5IHdoaWNoIHRoZSBleHRlbnQgc2hvdWxkIGJlIGJ1ZmZlcmVkLlxuICogQHBhcmFtIHtFeHRlbnR9IFtkZXN0XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlcihleHRlbnQsIHZhbHVlLCBkZXN0KSB7XG4gIGlmIChkZXN0KSB7XG4gICAgZGVzdFswXSA9IGV4dGVudFswXSAtIHZhbHVlO1xuICAgIGRlc3RbMV0gPSBleHRlbnRbMV0gLSB2YWx1ZTtcbiAgICBkZXN0WzJdID0gZXh0ZW50WzJdICsgdmFsdWU7XG4gICAgZGVzdFszXSA9IGV4dGVudFszXSArIHZhbHVlO1xuICAgIHJldHVybiBkZXN0O1xuICB9XG4gIHJldHVybiBbXG4gICAgZXh0ZW50WzBdIC0gdmFsdWUsXG4gICAgZXh0ZW50WzFdIC0gdmFsdWUsXG4gICAgZXh0ZW50WzJdICsgdmFsdWUsXG4gICAgZXh0ZW50WzNdICsgdmFsdWUsXG4gIF07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGFuIGV4dGVudC5cbiAqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudCB0byBjbG9uZS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbZGVzdF0gRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBUaGUgY2xvbmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShleHRlbnQsIGRlc3QpIHtcbiAgaWYgKGRlc3QpIHtcbiAgICBkZXN0WzBdID0gZXh0ZW50WzBdO1xuICAgIGRlc3RbMV0gPSBleHRlbnRbMV07XG4gICAgZGVzdFsyXSA9IGV4dGVudFsyXTtcbiAgICBkZXN0WzNdID0gZXh0ZW50WzNdO1xuICAgIHJldHVybiBkZXN0O1xuICB9XG4gIHJldHVybiBleHRlbnQuc2xpY2UoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHJldHVybiB7bnVtYmVyfSBDbG9zZXN0IHNxdWFyZWQgZGlzdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFkoZXh0ZW50LCB4LCB5KSB7XG4gIGxldCBkeCwgZHk7XG4gIGlmICh4IDwgZXh0ZW50WzBdKSB7XG4gICAgZHggPSBleHRlbnRbMF0gLSB4O1xuICB9IGVsc2UgaWYgKGV4dGVudFsyXSA8IHgpIHtcbiAgICBkeCA9IHggLSBleHRlbnRbMl07XG4gIH0gZWxzZSB7XG4gICAgZHggPSAwO1xuICB9XG4gIGlmICh5IDwgZXh0ZW50WzFdKSB7XG4gICAgZHkgPSBleHRlbnRbMV0gLSB5O1xuICB9IGVsc2UgaWYgKGV4dGVudFszXSA8IHkpIHtcbiAgICBkeSA9IHkgLSBleHRlbnRbM107XG4gIH0gZWxzZSB7XG4gICAgZHkgPSAwO1xuICB9XG4gIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgaXMgY29udGFpbmVkIG9yIG9uIHRoZSBlZGdlIG9mIHRoZSBleHRlbnQuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgY29vcmRpbmF0ZSBpcyBjb250YWluZWQgaW4gdGhlIGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zQ29vcmRpbmF0ZShleHRlbnQsIGNvb3JkaW5hdGUpIHtcbiAgcmV0dXJuIGNvbnRhaW5zWFkoZXh0ZW50LCBjb29yZGluYXRlWzBdLCBjb29yZGluYXRlWzFdKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBvbmUgZXh0ZW50IGNvbnRhaW5zIGFub3RoZXIuXG4gKlxuICogQW4gZXh0ZW50IGlzIGRlZW1lZCBjb250YWluZWQgaWYgaXQgbGllcyBjb21wbGV0ZWx5IHdpdGhpbiB0aGUgb3RoZXIgZXh0ZW50LFxuICogaW5jbHVkaW5nIGlmIHRoZXkgc2hhcmUgb25lIG9yIG1vcmUgZWRnZXMuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQgMi5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBzZWNvbmQgZXh0ZW50IGlzIGNvbnRhaW5lZCBieSBvciBvbiB0aGUgZWRnZSBvZiB0aGVcbiAqICAgICBmaXJzdC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zRXh0ZW50KGV4dGVudDEsIGV4dGVudDIpIHtcbiAgcmV0dXJuIChcbiAgICBleHRlbnQxWzBdIDw9IGV4dGVudDJbMF0gJiZcbiAgICBleHRlbnQyWzJdIDw9IGV4dGVudDFbMl0gJiZcbiAgICBleHRlbnQxWzFdIDw9IGV4dGVudDJbMV0gJiZcbiAgICBleHRlbnQyWzNdIDw9IGV4dGVudDFbM11cbiAgKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgaXMgY29udGFpbmVkIG9yIG9uIHRoZSBlZGdlIG9mIHRoZSBleHRlbnQuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0geSBZIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgeCwgeSB2YWx1ZXMgYXJlIGNvbnRhaW5lZCBpbiB0aGUgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNYWShleHRlbnQsIHgsIHkpIHtcbiAgcmV0dXJuIGV4dGVudFswXSA8PSB4ICYmIHggPD0gZXh0ZW50WzJdICYmIGV4dGVudFsxXSA8PSB5ICYmIHkgPD0gZXh0ZW50WzNdO1xufVxuXG4vKipcbiAqIEdldCB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gYSBjb29yZGluYXRlIGFuZCBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIFRoZSBjb29yZGluYXRlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQvUmVsYXRpb25zaGlwLmpzXCIpLmRlZmF1bHR9IFRoZSByZWxhdGlvbnNoaXAgKGJpdHdpc2UgY29tcGFyZSB3aXRoXG4gKiAgICAgaW1wb3J0KFwiLi9leHRlbnQvUmVsYXRpb25zaGlwLmpzXCIpLlJlbGF0aW9uc2hpcCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb29yZGluYXRlUmVsYXRpb25zaGlwKGV4dGVudCwgY29vcmRpbmF0ZSkge1xuICBjb25zdCBtaW5YID0gZXh0ZW50WzBdO1xuICBjb25zdCBtaW5ZID0gZXh0ZW50WzFdO1xuICBjb25zdCBtYXhYID0gZXh0ZW50WzJdO1xuICBjb25zdCBtYXhZID0gZXh0ZW50WzNdO1xuICBjb25zdCB4ID0gY29vcmRpbmF0ZVswXTtcbiAgY29uc3QgeSA9IGNvb3JkaW5hdGVbMV07XG4gIGxldCByZWxhdGlvbnNoaXAgPSBSZWxhdGlvbnNoaXAuVU5LTk9XTjtcbiAgaWYgKHggPCBtaW5YKSB7XG4gICAgcmVsYXRpb25zaGlwID0gcmVsYXRpb25zaGlwIHwgUmVsYXRpb25zaGlwLkxFRlQ7XG4gIH0gZWxzZSBpZiAoeCA+IG1heFgpIHtcbiAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuUklHSFQ7XG4gIH1cbiAgaWYgKHkgPCBtaW5ZKSB7XG4gICAgcmVsYXRpb25zaGlwID0gcmVsYXRpb25zaGlwIHwgUmVsYXRpb25zaGlwLkJFTE9XO1xuICB9IGVsc2UgaWYgKHkgPiBtYXhZKSB7XG4gICAgcmVsYXRpb25zaGlwID0gcmVsYXRpb25zaGlwIHwgUmVsYXRpb25zaGlwLkFCT1ZFO1xuICB9XG4gIGlmIChyZWxhdGlvbnNoaXAgPT09IFJlbGF0aW9uc2hpcC5VTktOT1dOKSB7XG4gICAgcmVsYXRpb25zaGlwID0gUmVsYXRpb25zaGlwLklOVEVSU0VDVElORztcbiAgfVxuICByZXR1cm4gcmVsYXRpb25zaGlwO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbiBlbXB0eSBleHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEVtcHR5IGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVtcHR5KCkge1xuICByZXR1cm4gW0luZmluaXR5LCBJbmZpbml0eSwgLUluZmluaXR5LCAtSW5maW5pdHldO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBleHRlbnQgb3IgdXBkYXRlIHRoZSBwcm92aWRlZCBleHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluWCBNaW5pbXVtIFguXG4gKiBAcGFyYW0ge251bWJlcn0gbWluWSBNaW5pbXVtIFkuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4WCBNYXhpbXVtIFguXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4WSBNYXhpbXVtIFkuXG4gKiBAcGFyYW0ge0V4dGVudH0gW2Rlc3RdIERlc3RpbmF0aW9uIGV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGUobWluWCwgbWluWSwgbWF4WCwgbWF4WSwgZGVzdCkge1xuICBpZiAoZGVzdCkge1xuICAgIGRlc3RbMF0gPSBtaW5YO1xuICAgIGRlc3RbMV0gPSBtaW5ZO1xuICAgIGRlc3RbMl0gPSBtYXhYO1xuICAgIGRlc3RbM10gPSBtYXhZO1xuICAgIHJldHVybiBkZXN0O1xuICB9XG4gIHJldHVybiBbbWluWCwgbWluWSwgbWF4WCwgbWF4WV07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGVtcHR5IGV4dGVudCBvciBtYWtlIHRoZSBwcm92aWRlZCBvbmUgZW1wdHkuXG4gKiBAcGFyYW0ge0V4dGVudH0gW2Rlc3RdIEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVFbXB0eShkZXN0KSB7XG4gIHJldHVybiBjcmVhdGVPclVwZGF0ZShJbmZpbml0eSwgSW5maW5pdHksIC1JbmZpbml0eSwgLUluZmluaXR5LCBkZXN0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0V4dGVudH0gW2Rlc3RdIEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZShjb29yZGluYXRlLCBkZXN0KSB7XG4gIGNvbnN0IHggPSBjb29yZGluYXRlWzBdO1xuICBjb25zdCB5ID0gY29vcmRpbmF0ZVsxXTtcbiAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKHgsIHksIHgsIHksIGRlc3QpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbZGVzdF0gRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUZyb21Db29yZGluYXRlcyhjb29yZGluYXRlcywgZGVzdCkge1xuICBjb25zdCBleHRlbnQgPSBjcmVhdGVPclVwZGF0ZUVtcHR5KGRlc3QpO1xuICByZXR1cm4gZXh0ZW5kQ29vcmRpbmF0ZXMoZXh0ZW50LCBjb29yZGluYXRlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbZGVzdF0gRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUZyb21GbGF0Q29vcmRpbmF0ZXMoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgZGVzdFxuKSB7XG4gIGNvbnN0IGV4dGVudCA9IGNyZWF0ZU9yVXBkYXRlRW1wdHkoZGVzdCk7XG4gIHJldHVybiBleHRlbmRGbGF0Q29vcmRpbmF0ZXMoZXh0ZW50LCBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gcmluZ3MgUmluZ3MuXG4gKiBAcGFyYW0ge0V4dGVudH0gW2Rlc3RdIEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVGcm9tUmluZ3MocmluZ3MsIGRlc3QpIHtcbiAgY29uc3QgZXh0ZW50ID0gY3JlYXRlT3JVcGRhdGVFbXB0eShkZXN0KTtcbiAgcmV0dXJuIGV4dGVuZFJpbmdzKGV4dGVudCwgcmluZ3MpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB0d28gZXh0ZW50cyBhcmUgZXF1aXZhbGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50IDIuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdHdvIGV4dGVudHMgYXJlIGVxdWl2YWxlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoZXh0ZW50MSwgZXh0ZW50Mikge1xuICByZXR1cm4gKFxuICAgIGV4dGVudDFbMF0gPT0gZXh0ZW50MlswXSAmJlxuICAgIGV4dGVudDFbMl0gPT0gZXh0ZW50MlsyXSAmJlxuICAgIGV4dGVudDFbMV0gPT0gZXh0ZW50MlsxXSAmJlxuICAgIGV4dGVudDFbM10gPT0gZXh0ZW50MlszXVxuICApO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB0d28gZXh0ZW50cyBhcmUgYXBwcm94aW1hdGVseSBlcXVpdmFsZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQgMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlIGluIGV4dGVudCBjb29yZGluYXRlIHVuaXRzLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHR3byBleHRlbnRzIGRpZmZlciBieSBsZXNzIHRoYW4gdGhlIHRvbGVyYW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcHJveGltYXRlbHlFcXVhbHMoZXh0ZW50MSwgZXh0ZW50MiwgdG9sZXJhbmNlKSB7XG4gIHJldHVybiAoXG4gICAgTWF0aC5hYnMoZXh0ZW50MVswXSAtIGV4dGVudDJbMF0pIDwgdG9sZXJhbmNlICYmXG4gICAgTWF0aC5hYnMoZXh0ZW50MVsyXSAtIGV4dGVudDJbMl0pIDwgdG9sZXJhbmNlICYmXG4gICAgTWF0aC5hYnMoZXh0ZW50MVsxXSAtIGV4dGVudDJbMV0pIDwgdG9sZXJhbmNlICYmXG4gICAgTWF0aC5hYnMoZXh0ZW50MVszXSAtIGV4dGVudDJbM10pIDwgdG9sZXJhbmNlXG4gICk7XG59XG5cbi8qKlxuICogTW9kaWZ5IGFuIGV4dGVudCB0byBpbmNsdWRlIGFub3RoZXIgZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgVGhlIGV4dGVudCB0byBiZSBtb2RpZmllZC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIFRoZSBleHRlbnQgdGhhdCB3aWxsIGJlIGluY2x1ZGVkIGluIHRoZSBmaXJzdC5cbiAqIEByZXR1cm4ge0V4dGVudH0gQSByZWZlcmVuY2UgdG8gdGhlIGZpcnN0IChleHRlbmRlZCkgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKGV4dGVudDEsIGV4dGVudDIpIHtcbiAgaWYgKGV4dGVudDJbMF0gPCBleHRlbnQxWzBdKSB7XG4gICAgZXh0ZW50MVswXSA9IGV4dGVudDJbMF07XG4gIH1cbiAgaWYgKGV4dGVudDJbMl0gPiBleHRlbnQxWzJdKSB7XG4gICAgZXh0ZW50MVsyXSA9IGV4dGVudDJbMl07XG4gIH1cbiAgaWYgKGV4dGVudDJbMV0gPCBleHRlbnQxWzFdKSB7XG4gICAgZXh0ZW50MVsxXSA9IGV4dGVudDJbMV07XG4gIH1cbiAgaWYgKGV4dGVudDJbM10gPiBleHRlbnQxWzNdKSB7XG4gICAgZXh0ZW50MVszXSA9IGV4dGVudDJbM107XG4gIH1cbiAgcmV0dXJuIGV4dGVudDE7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRDb29yZGluYXRlKGV4dGVudCwgY29vcmRpbmF0ZSkge1xuICBpZiAoY29vcmRpbmF0ZVswXSA8IGV4dGVudFswXSkge1xuICAgIGV4dGVudFswXSA9IGNvb3JkaW5hdGVbMF07XG4gIH1cbiAgaWYgKGNvb3JkaW5hdGVbMF0gPiBleHRlbnRbMl0pIHtcbiAgICBleHRlbnRbMl0gPSBjb29yZGluYXRlWzBdO1xuICB9XG4gIGlmIChjb29yZGluYXRlWzFdIDwgZXh0ZW50WzFdKSB7XG4gICAgZXh0ZW50WzFdID0gY29vcmRpbmF0ZVsxXTtcbiAgfVxuICBpZiAoY29vcmRpbmF0ZVsxXSA+IGV4dGVudFszXSkge1xuICAgIGV4dGVudFszXSA9IGNvb3JkaW5hdGVbMV07XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kQ29vcmRpbmF0ZXMoZXh0ZW50LCBjb29yZGluYXRlcykge1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgZXh0ZW5kQ29vcmRpbmF0ZShleHRlbnQsIGNvb3JkaW5hdGVzW2ldKTtcbiAgfVxuICByZXR1cm4gZXh0ZW50O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kRmxhdENvb3JkaW5hdGVzKFxuICBleHRlbnQsXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZVxuKSB7XG4gIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICBleHRlbmRYWShleHRlbnQsIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0pO1xuICB9XG4gIHJldHVybiBleHRlbnQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IHJpbmdzIFJpbmdzLlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRSaW5ncyhleHRlbnQsIHJpbmdzKSB7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IHJpbmdzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBleHRlbmRDb29yZGluYXRlcyhleHRlbnQsIHJpbmdzW2ldKTtcbiAgfVxuICByZXR1cm4gZXh0ZW50O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRYWShleHRlbnQsIHgsIHkpIHtcbiAgZXh0ZW50WzBdID0gTWF0aC5taW4oZXh0ZW50WzBdLCB4KTtcbiAgZXh0ZW50WzFdID0gTWF0aC5taW4oZXh0ZW50WzFdLCB5KTtcbiAgZXh0ZW50WzJdID0gTWF0aC5tYXgoZXh0ZW50WzJdLCB4KTtcbiAgZXh0ZW50WzNdID0gTWF0aC5tYXgoZXh0ZW50WzNdLCB5KTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbGxzIGBjYWxsYmFja2AgZm9yIGVhY2ggY29ybmVyIG9mIHRoZSBleHRlbnQuIElmIHRoZVxuICogY2FsbGJhY2sgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSB0aGUgZnVuY3Rpb24gcmV0dXJucyB0aGF0IHZhbHVlXG4gKiBpbW1lZGlhdGVseS4gT3RoZXJ3aXNlIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBTfSBjYWxsYmFjayBDYWxsYmFjay5cbiAqIEByZXR1cm4ge1N8Ym9vbGVhbn0gVmFsdWUuXG4gKiBAdGVtcGxhdGUgU1xuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaENvcm5lcihleHRlbnQsIGNhbGxiYWNrKSB7XG4gIGxldCB2YWw7XG4gIHZhbCA9IGNhbGxiYWNrKGdldEJvdHRvbUxlZnQoZXh0ZW50KSk7XG4gIGlmICh2YWwpIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG4gIHZhbCA9IGNhbGxiYWNrKGdldEJvdHRvbVJpZ2h0KGV4dGVudCkpO1xuICBpZiAodmFsKSB7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuICB2YWwgPSBjYWxsYmFjayhnZXRUb3BSaWdodChleHRlbnQpKTtcbiAgaWYgKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG4gIH1cbiAgdmFsID0gY2FsbGJhY2soZ2V0VG9wTGVmdChleHRlbnQpKTtcbiAgaWYgKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEdldCB0aGUgc2l6ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gQXJlYS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFyZWEoZXh0ZW50KSB7XG4gIGxldCBhcmVhID0gMDtcbiAgaWYgKCFpc0VtcHR5KGV4dGVudCkpIHtcbiAgICBhcmVhID0gZ2V0V2lkdGgoZXh0ZW50KSAqIGdldEhlaWdodChleHRlbnQpO1xuICB9XG4gIHJldHVybiBhcmVhO1xufVxuXG4vKipcbiAqIEdldCB0aGUgYm90dG9tIGxlZnQgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBCb3R0b20gbGVmdCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm90dG9tTGVmdChleHRlbnQpIHtcbiAgcmV0dXJuIFtleHRlbnRbMF0sIGV4dGVudFsxXV07XG59XG5cbi8qKlxuICogR2V0IHRoZSBib3R0b20gcmlnaHQgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBCb3R0b20gcmlnaHQgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJvdHRvbVJpZ2h0KGV4dGVudCkge1xuICByZXR1cm4gW2V4dGVudFsyXSwgZXh0ZW50WzFdXTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGNlbnRlciBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENlbnRlci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENlbnRlcihleHRlbnQpIHtcbiAgcmV0dXJuIFsoZXh0ZW50WzBdICsgZXh0ZW50WzJdKSAvIDIsIChleHRlbnRbMV0gKyBleHRlbnRbM10pIC8gMl07XG59XG5cbi8qKlxuICogR2V0IGEgY29ybmVyIGNvb3JkaW5hdGUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge0Nvcm5lcn0gY29ybmVyIENvcm5lci5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb3JuZXIgY29vcmRpbmF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvcm5lcihleHRlbnQsIGNvcm5lcikge1xuICBsZXQgY29vcmRpbmF0ZTtcbiAgaWYgKGNvcm5lciA9PT0gJ2JvdHRvbS1sZWZ0Jykge1xuICAgIGNvb3JkaW5hdGUgPSBnZXRCb3R0b21MZWZ0KGV4dGVudCk7XG4gIH0gZWxzZSBpZiAoY29ybmVyID09PSAnYm90dG9tLXJpZ2h0Jykge1xuICAgIGNvb3JkaW5hdGUgPSBnZXRCb3R0b21SaWdodChleHRlbnQpO1xuICB9IGVsc2UgaWYgKGNvcm5lciA9PT0gJ3RvcC1sZWZ0Jykge1xuICAgIGNvb3JkaW5hdGUgPSBnZXRUb3BMZWZ0KGV4dGVudCk7XG4gIH0gZWxzZSBpZiAoY29ybmVyID09PSAndG9wLXJpZ2h0Jykge1xuICAgIGNvb3JkaW5hdGUgPSBnZXRUb3BSaWdodChleHRlbnQpO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydChmYWxzZSwgMTMpOyAvLyBJbnZhbGlkIGNvcm5lclxuICB9XG4gIHJldHVybiBjb29yZGluYXRlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50IDIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEVubGFyZ2VkIGFyZWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmxhcmdlZEFyZWEoZXh0ZW50MSwgZXh0ZW50Mikge1xuICBjb25zdCBtaW5YID0gTWF0aC5taW4oZXh0ZW50MVswXSwgZXh0ZW50MlswXSk7XG4gIGNvbnN0IG1pblkgPSBNYXRoLm1pbihleHRlbnQxWzFdLCBleHRlbnQyWzFdKTtcbiAgY29uc3QgbWF4WCA9IE1hdGgubWF4KGV4dGVudDFbMl0sIGV4dGVudDJbMl0pO1xuICBjb25zdCBtYXhZID0gTWF0aC5tYXgoZXh0ZW50MVszXSwgZXh0ZW50MlszXSk7XG4gIHJldHVybiAobWF4WCAtIG1pblgpICogKG1heFkgLSBtaW5ZKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgU2l6ZS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbZGVzdF0gRGVzdGluYXRpb24gZXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGb3JWaWV3QW5kU2l6ZShjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBzaXplLCBkZXN0KSB7XG4gIGNvbnN0IFt4MCwgeTAsIHgxLCB5MSwgeDIsIHkyLCB4MywgeTNdID0gZ2V0Um90YXRlZFZpZXdwb3J0KFxuICAgIGNlbnRlcixcbiAgICByZXNvbHV0aW9uLFxuICAgIHJvdGF0aW9uLFxuICAgIHNpemVcbiAgKTtcbiAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKFxuICAgIE1hdGgubWluKHgwLCB4MSwgeDIsIHgzKSxcbiAgICBNYXRoLm1pbih5MCwgeTEsIHkyLCB5MyksXG4gICAgTWF0aC5tYXgoeDAsIHgxLCB4MiwgeDMpLFxuICAgIE1hdGgubWF4KHkwLCB5MSwgeTIsIHkzKSxcbiAgICBkZXN0XG4gICk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFNpemUuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBMaW5lYXIgcmluZyByZXByZXNlbnRpbmcgdGhlIHZpZXdwb3J0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um90YXRlZFZpZXdwb3J0KGNlbnRlciwgcmVzb2x1dGlvbiwgcm90YXRpb24sIHNpemUpIHtcbiAgY29uc3QgZHggPSAocmVzb2x1dGlvbiAqIHNpemVbMF0pIC8gMjtcbiAgY29uc3QgZHkgPSAocmVzb2x1dGlvbiAqIHNpemVbMV0pIC8gMjtcbiAgY29uc3QgY29zUm90YXRpb24gPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gIGNvbnN0IHNpblJvdGF0aW9uID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICBjb25zdCB4Q29zID0gZHggKiBjb3NSb3RhdGlvbjtcbiAgY29uc3QgeFNpbiA9IGR4ICogc2luUm90YXRpb247XG4gIGNvbnN0IHlDb3MgPSBkeSAqIGNvc1JvdGF0aW9uO1xuICBjb25zdCB5U2luID0gZHkgKiBzaW5Sb3RhdGlvbjtcbiAgY29uc3QgeCA9IGNlbnRlclswXTtcbiAgY29uc3QgeSA9IGNlbnRlclsxXTtcbiAgcmV0dXJuIFtcbiAgICB4IC0geENvcyArIHlTaW4sXG4gICAgeSAtIHhTaW4gLSB5Q29zLFxuICAgIHggLSB4Q29zIC0geVNpbixcbiAgICB5IC0geFNpbiArIHlDb3MsXG4gICAgeCArIHhDb3MgLSB5U2luLFxuICAgIHkgKyB4U2luICsgeUNvcyxcbiAgICB4ICsgeENvcyArIHlTaW4sXG4gICAgeSArIHhTaW4gLSB5Q29zLFxuICAgIHggLSB4Q29zICsgeVNpbixcbiAgICB5IC0geFNpbiAtIHlDb3MsXG4gIF07XG59XG5cbi8qKlxuICogR2V0IHRoZSBoZWlnaHQgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEhlaWdodC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhlaWdodChleHRlbnQpIHtcbiAgcmV0dXJuIGV4dGVudFszXSAtIGV4dGVudFsxXTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHJldHVybiB7bnVtYmVyfSBJbnRlcnNlY3Rpb24gYXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyc2VjdGlvbkFyZWEoZXh0ZW50MSwgZXh0ZW50Mikge1xuICBjb25zdCBpbnRlcnNlY3Rpb24gPSBnZXRJbnRlcnNlY3Rpb24oZXh0ZW50MSwgZXh0ZW50Mik7XG4gIHJldHVybiBnZXRBcmVhKGludGVyc2VjdGlvbik7XG59XG5cbi8qKlxuICogR2V0IHRoZSBpbnRlcnNlY3Rpb24gb2YgdHdvIGV4dGVudHMuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHBhcmFtIHtFeHRlbnR9IFtkZXN0XSBPcHRpb25hbCBleHRlbnQgdG8gcG9wdWxhdGUgd2l0aCBpbnRlcnNlY3Rpb24uXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEludGVyc2VjdGluZyBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb24oZXh0ZW50MSwgZXh0ZW50MiwgZGVzdCkge1xuICBjb25zdCBpbnRlcnNlY3Rpb24gPSBkZXN0ID8gZGVzdCA6IGNyZWF0ZUVtcHR5KCk7XG4gIGlmIChpbnRlcnNlY3RzKGV4dGVudDEsIGV4dGVudDIpKSB7XG4gICAgaWYgKGV4dGVudDFbMF0gPiBleHRlbnQyWzBdKSB7XG4gICAgICBpbnRlcnNlY3Rpb25bMF0gPSBleHRlbnQxWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcnNlY3Rpb25bMF0gPSBleHRlbnQyWzBdO1xuICAgIH1cbiAgICBpZiAoZXh0ZW50MVsxXSA+IGV4dGVudDJbMV0pIHtcbiAgICAgIGludGVyc2VjdGlvblsxXSA9IGV4dGVudDFbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVyc2VjdGlvblsxXSA9IGV4dGVudDJbMV07XG4gICAgfVxuICAgIGlmIChleHRlbnQxWzJdIDwgZXh0ZW50MlsyXSkge1xuICAgICAgaW50ZXJzZWN0aW9uWzJdID0gZXh0ZW50MVsyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW50ZXJzZWN0aW9uWzJdID0gZXh0ZW50MlsyXTtcbiAgICB9XG4gICAgaWYgKGV4dGVudDFbM10gPCBleHRlbnQyWzNdKSB7XG4gICAgICBpbnRlcnNlY3Rpb25bM10gPSBleHRlbnQxWzNdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcnNlY3Rpb25bM10gPSBleHRlbnQyWzNdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjcmVhdGVPclVwZGF0ZUVtcHR5KGludGVyc2VjdGlvbik7XG4gIH1cbiAgcmV0dXJuIGludGVyc2VjdGlvbjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWFyZ2luLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFyZ2luKGV4dGVudCkge1xuICByZXR1cm4gZ2V0V2lkdGgoZXh0ZW50KSArIGdldEhlaWdodChleHRlbnQpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgc2l6ZSAod2lkdGgsIGhlaWdodCkgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFRoZSBleHRlbnQgc2l6ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNpemUoZXh0ZW50KSB7XG4gIHJldHVybiBbZXh0ZW50WzJdIC0gZXh0ZW50WzBdLCBleHRlbnRbM10gLSBleHRlbnRbMV1dO1xufVxuXG4vKipcbiAqIEdldCB0aGUgdG9wIGxlZnQgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUb3AgbGVmdCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9wTGVmdChleHRlbnQpIHtcbiAgcmV0dXJuIFtleHRlbnRbMF0sIGV4dGVudFszXV07XG59XG5cbi8qKlxuICogR2V0IHRoZSB0b3AgcmlnaHQgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUb3AgcmlnaHQgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRvcFJpZ2h0KGV4dGVudCkge1xuICByZXR1cm4gW2V4dGVudFsyXSwgZXh0ZW50WzNdXTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHdpZHRoIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBXaWR0aC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdpZHRoKGV4dGVudCkge1xuICByZXR1cm4gZXh0ZW50WzJdIC0gZXh0ZW50WzBdO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBvbmUgZXh0ZW50IGludGVyc2VjdHMgYW5vdGhlci5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHR3byBleHRlbnRzIGludGVyc2VjdC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHMoZXh0ZW50MSwgZXh0ZW50Mikge1xuICByZXR1cm4gKFxuICAgIGV4dGVudDFbMF0gPD0gZXh0ZW50MlsyXSAmJlxuICAgIGV4dGVudDFbMl0gPj0gZXh0ZW50MlswXSAmJlxuICAgIGV4dGVudDFbMV0gPD0gZXh0ZW50MlszXSAmJlxuICAgIGV4dGVudDFbM10gPj0gZXh0ZW50MlsxXVxuICApO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhbiBleHRlbnQgaXMgZW1wdHkuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGVtcHR5LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eShleHRlbnQpIHtcbiAgcmV0dXJuIGV4dGVudFsyXSA8IGV4dGVudFswXSB8fCBleHRlbnRbM10gPCBleHRlbnRbMV07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gW2Rlc3RdIEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmV0dXJuT3JVcGRhdGUoZXh0ZW50LCBkZXN0KSB7XG4gIGlmIChkZXN0KSB7XG4gICAgZGVzdFswXSA9IGV4dGVudFswXTtcbiAgICBkZXN0WzFdID0gZXh0ZW50WzFdO1xuICAgIGRlc3RbMl0gPSBleHRlbnRbMl07XG4gICAgZGVzdFszXSA9IGV4dGVudFszXTtcbiAgICByZXR1cm4gZGVzdDtcbiAgfVxuICByZXR1cm4gZXh0ZW50O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVGcm9tQ2VudGVyKGV4dGVudCwgdmFsdWUpIHtcbiAgY29uc3QgZGVsdGFYID0gKChleHRlbnRbMl0gLSBleHRlbnRbMF0pIC8gMikgKiAodmFsdWUgLSAxKTtcbiAgY29uc3QgZGVsdGFZID0gKChleHRlbnRbM10gLSBleHRlbnRbMV0pIC8gMikgKiAodmFsdWUgLSAxKTtcbiAgZXh0ZW50WzBdIC09IGRlbHRhWDtcbiAgZXh0ZW50WzJdICs9IGRlbHRhWDtcbiAgZXh0ZW50WzFdIC09IGRlbHRhWTtcbiAgZXh0ZW50WzNdICs9IGRlbHRhWTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhlIHNlZ21lbnQgYmV0d2VlbiB0d28gY29vcmRpbmF0ZXMgaW50ZXJzZWN0cyAoY3Jvc3NlcyxcbiAqIHRvdWNoZXMsIG9yIGlzIGNvbnRhaW5lZCBieSkgdGhlIHByb3ZpZGVkIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgVGhlIGV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHN0YXJ0IFNlZ21lbnQgc3RhcnQgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGVuZCBTZWdtZW50IGVuZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHNlZ21lbnQgaW50ZXJzZWN0cyB0aGUgZXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c1NlZ21lbnQoZXh0ZW50LCBzdGFydCwgZW5kKSB7XG4gIGxldCBpbnRlcnNlY3RzID0gZmFsc2U7XG4gIGNvbnN0IHN0YXJ0UmVsID0gY29vcmRpbmF0ZVJlbGF0aW9uc2hpcChleHRlbnQsIHN0YXJ0KTtcbiAgY29uc3QgZW5kUmVsID0gY29vcmRpbmF0ZVJlbGF0aW9uc2hpcChleHRlbnQsIGVuZCk7XG4gIGlmIChcbiAgICBzdGFydFJlbCA9PT0gUmVsYXRpb25zaGlwLklOVEVSU0VDVElORyB8fFxuICAgIGVuZFJlbCA9PT0gUmVsYXRpb25zaGlwLklOVEVSU0VDVElOR1xuICApIHtcbiAgICBpbnRlcnNlY3RzID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBtaW5YID0gZXh0ZW50WzBdO1xuICAgIGNvbnN0IG1pblkgPSBleHRlbnRbMV07XG4gICAgY29uc3QgbWF4WCA9IGV4dGVudFsyXTtcbiAgICBjb25zdCBtYXhZID0gZXh0ZW50WzNdO1xuICAgIGNvbnN0IHN0YXJ0WCA9IHN0YXJ0WzBdO1xuICAgIGNvbnN0IHN0YXJ0WSA9IHN0YXJ0WzFdO1xuICAgIGNvbnN0IGVuZFggPSBlbmRbMF07XG4gICAgY29uc3QgZW5kWSA9IGVuZFsxXTtcbiAgICBjb25zdCBzbG9wZSA9IChlbmRZIC0gc3RhcnRZKSAvIChlbmRYIC0gc3RhcnRYKTtcbiAgICBsZXQgeCwgeTtcbiAgICBpZiAoISEoZW5kUmVsICYgUmVsYXRpb25zaGlwLkFCT1ZFKSAmJiAhKHN0YXJ0UmVsICYgUmVsYXRpb25zaGlwLkFCT1ZFKSkge1xuICAgICAgLy8gcG90ZW50aWFsbHkgaW50ZXJzZWN0cyB0b3BcbiAgICAgIHggPSBlbmRYIC0gKGVuZFkgLSBtYXhZKSAvIHNsb3BlO1xuICAgICAgaW50ZXJzZWN0cyA9IHggPj0gbWluWCAmJiB4IDw9IG1heFg7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICFpbnRlcnNlY3RzICYmXG4gICAgICAhIShlbmRSZWwgJiBSZWxhdGlvbnNoaXAuUklHSFQpICYmXG4gICAgICAhKHN0YXJ0UmVsICYgUmVsYXRpb25zaGlwLlJJR0hUKVxuICAgICkge1xuICAgICAgLy8gcG90ZW50aWFsbHkgaW50ZXJzZWN0cyByaWdodFxuICAgICAgeSA9IGVuZFkgLSAoZW5kWCAtIG1heFgpICogc2xvcGU7XG4gICAgICBpbnRlcnNlY3RzID0geSA+PSBtaW5ZICYmIHkgPD0gbWF4WTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIWludGVyc2VjdHMgJiZcbiAgICAgICEhKGVuZFJlbCAmIFJlbGF0aW9uc2hpcC5CRUxPVykgJiZcbiAgICAgICEoc3RhcnRSZWwgJiBSZWxhdGlvbnNoaXAuQkVMT1cpXG4gICAgKSB7XG4gICAgICAvLyBwb3RlbnRpYWxseSBpbnRlcnNlY3RzIGJvdHRvbVxuICAgICAgeCA9IGVuZFggLSAoZW5kWSAtIG1pblkpIC8gc2xvcGU7XG4gICAgICBpbnRlcnNlY3RzID0geCA+PSBtaW5YICYmIHggPD0gbWF4WDtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIWludGVyc2VjdHMgJiZcbiAgICAgICEhKGVuZFJlbCAmIFJlbGF0aW9uc2hpcC5MRUZUKSAmJlxuICAgICAgIShzdGFydFJlbCAmIFJlbGF0aW9uc2hpcC5MRUZUKVxuICAgICkge1xuICAgICAgLy8gcG90ZW50aWFsbHkgaW50ZXJzZWN0cyBsZWZ0XG4gICAgICB5ID0gZW5kWSAtIChlbmRYIC0gbWluWCkgKiBzbG9wZTtcbiAgICAgIGludGVyc2VjdHMgPSB5ID49IG1pblkgJiYgeSA8PSBtYXhZO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaW50ZXJzZWN0cztcbn1cblxuLyoqXG4gKiBBcHBseSBhIHRyYW5zZm9ybSBmdW5jdGlvbiB0byB0aGUgZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVHJhbnNmb3JtIGZ1bmN0aW9uLlxuICogQ2FsbGVkIHdpdGggYFttaW5YLCBtaW5ZLCBtYXhYLCBtYXhZXWAgZXh0ZW50IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtFeHRlbnR9IFtkZXN0XSBEZXN0aW5hdGlvbiBleHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0b3BzXSBOdW1iZXIgb2Ygc3RvcHMgcGVyIHNpZGUgdXNlZCBmb3IgdGhlIHRyYW5zZm9ybS5cbiAqIEJ5IGRlZmF1bHQgb25seSB0aGUgY29ybmVycyBhcmUgdXNlZC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlUcmFuc2Zvcm0oZXh0ZW50LCB0cmFuc2Zvcm1GbiwgZGVzdCwgc3RvcHMpIHtcbiAgbGV0IGNvb3JkaW5hdGVzID0gW107XG4gIGlmIChzdG9wcyA+IDEpIHtcbiAgICBjb25zdCB3aWR0aCA9IGV4dGVudFsyXSAtIGV4dGVudFswXTtcbiAgICBjb25zdCBoZWlnaHQgPSBleHRlbnRbM10gLSBleHRlbnRbMV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdG9wczsgKytpKSB7XG4gICAgICBjb29yZGluYXRlcy5wdXNoKFxuICAgICAgICBleHRlbnRbMF0gKyAod2lkdGggKiBpKSAvIHN0b3BzLFxuICAgICAgICBleHRlbnRbMV0sXG4gICAgICAgIGV4dGVudFsyXSxcbiAgICAgICAgZXh0ZW50WzFdICsgKGhlaWdodCAqIGkpIC8gc3RvcHMsXG4gICAgICAgIGV4dGVudFsyXSAtICh3aWR0aCAqIGkpIC8gc3RvcHMsXG4gICAgICAgIGV4dGVudFszXSxcbiAgICAgICAgZXh0ZW50WzBdLFxuICAgICAgICBleHRlbnRbM10gLSAoaGVpZ2h0ICogaSkgLyBzdG9wc1xuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29vcmRpbmF0ZXMgPSBbXG4gICAgICBleHRlbnRbMF0sXG4gICAgICBleHRlbnRbMV0sXG4gICAgICBleHRlbnRbMl0sXG4gICAgICBleHRlbnRbMV0sXG4gICAgICBleHRlbnRbMl0sXG4gICAgICBleHRlbnRbM10sXG4gICAgICBleHRlbnRbMF0sXG4gICAgICBleHRlbnRbM10sXG4gICAgXTtcbiAgfVxuICB0cmFuc2Zvcm1Gbihjb29yZGluYXRlcywgY29vcmRpbmF0ZXMsIDIpO1xuICBjb25zdCB4cyA9IFtdO1xuICBjb25zdCB5cyA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgbCA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikge1xuICAgIHhzLnB1c2goY29vcmRpbmF0ZXNbaV0pO1xuICAgIHlzLnB1c2goY29vcmRpbmF0ZXNbaSArIDFdKTtcbiAgfVxuICByZXR1cm4gX2JvdW5kaW5nRXh0ZW50WFlzKHhzLCB5cywgZGVzdCk7XG59XG5cbi8qKlxuICogTW9kaWZpZXMgdGhlIHByb3ZpZGVkIGV4dGVudCBpbi1wbGFjZSB0byBiZSB3aXRoaW4gdGhlIHJlYWwgd29ybGRcbiAqIGV4dGVudC5cbiAqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uXG4gKiBAcmV0dXJuIHtFeHRlbnR9IFRoZSBleHRlbnQgd2l0aGluIHRoZSByZWFsIHdvcmxkIGV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBYKGV4dGVudCwgcHJvamVjdGlvbikge1xuICBjb25zdCBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgY29uc3QgY2VudGVyID0gZ2V0Q2VudGVyKGV4dGVudCk7XG4gIGlmIChcbiAgICBwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiZcbiAgICAoY2VudGVyWzBdIDwgcHJvamVjdGlvbkV4dGVudFswXSB8fCBjZW50ZXJbMF0gPj0gcHJvamVjdGlvbkV4dGVudFsyXSlcbiAgKSB7XG4gICAgY29uc3Qgd29ybGRXaWR0aCA9IGdldFdpZHRoKHByb2plY3Rpb25FeHRlbnQpO1xuICAgIGNvbnN0IHdvcmxkc0F3YXkgPSBNYXRoLmZsb29yKFxuICAgICAgKGNlbnRlclswXSAtIHByb2plY3Rpb25FeHRlbnRbMF0pIC8gd29ybGRXaWR0aFxuICAgICk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gd29ybGRzQXdheSAqIHdvcmxkV2lkdGg7XG4gICAgZXh0ZW50WzBdIC09IG9mZnNldDtcbiAgICBleHRlbnRbMl0gLT0gb2Zmc2V0O1xuICB9XG4gIHJldHVybiBleHRlbnQ7XG59XG5cbi8qKlxuICogRml0cyB0aGUgZXh0ZW50IHRvIHRoZSByZWFsIHdvcmxkXG4gKlxuICogSWYgdGhlIGV4dGVudCBkb2VzIG5vdCBjcm9zcyB0aGUgYW50aSBtZXJpZGlhbiwgdGhpcyB3aWxsIHJldHVybiB0aGUgZXh0ZW50IGluIGFuIGFycmF5XG4gKiBJZiB0aGUgZXh0ZW50IGNyb3NzZXMgdGhlIGFudGkgbWVyaWRpYW4sIHRoZSBleHRlbnQgd2lsbCBiZSBzbGljZWQsIHNvIGVhY2ggcGFydCBmaXRzIHdpdGhpbiB0aGVcbiAqIHJlYWwgd29ybGRcbiAqXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvblxuICogQHJldHVybiB7QXJyYXk8RXh0ZW50Pn0gVGhlIGV4dGVudCB3aXRoaW4gdGhlIHJlYWwgd29ybGQgZXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcEFuZFNsaWNlWChleHRlbnQsIHByb2plY3Rpb24pIHtcbiAgaWYgKHByb2plY3Rpb24uY2FuV3JhcFgoKSkge1xuICAgIGNvbnN0IHByb2plY3Rpb25FeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuXG4gICAgaWYgKCFpc0Zpbml0ZShleHRlbnRbMF0pIHx8ICFpc0Zpbml0ZShleHRlbnRbMl0pKSB7XG4gICAgICByZXR1cm4gW1twcm9qZWN0aW9uRXh0ZW50WzBdLCBleHRlbnRbMV0sIHByb2plY3Rpb25FeHRlbnRbMl0sIGV4dGVudFszXV1dO1xuICAgIH1cblxuICAgIHdyYXBYKGV4dGVudCwgcHJvamVjdGlvbik7XG4gICAgY29uc3Qgd29ybGRXaWR0aCA9IGdldFdpZHRoKHByb2plY3Rpb25FeHRlbnQpO1xuXG4gICAgaWYgKGdldFdpZHRoKGV4dGVudCkgPiB3b3JsZFdpZHRoKSB7XG4gICAgICAvLyB0aGUgZXh0ZW50IHdyYXBzIGFyb3VuZCBvbiBpdHNlbGZcbiAgICAgIHJldHVybiBbW3Byb2plY3Rpb25FeHRlbnRbMF0sIGV4dGVudFsxXSwgcHJvamVjdGlvbkV4dGVudFsyXSwgZXh0ZW50WzNdXV07XG4gICAgfSBlbHNlIGlmIChleHRlbnRbMF0gPCBwcm9qZWN0aW9uRXh0ZW50WzBdKSB7XG4gICAgICAvLyB0aGUgZXh0ZW50IGNyb3NzZXMgdGhlIGFudGkgbWVyaWRpYW4sIHNvIGl0IG5lZWRzIHRvIGJlIHNsaWNlZFxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgW2V4dGVudFswXSArIHdvcmxkV2lkdGgsIGV4dGVudFsxXSwgcHJvamVjdGlvbkV4dGVudFsyXSwgZXh0ZW50WzNdXSxcbiAgICAgICAgW3Byb2plY3Rpb25FeHRlbnRbMF0sIGV4dGVudFsxXSwgZXh0ZW50WzJdLCBleHRlbnRbM11dLFxuICAgICAgXTtcbiAgICB9IGVsc2UgaWYgKGV4dGVudFsyXSA+IHByb2plY3Rpb25FeHRlbnRbMl0pIHtcbiAgICAgIC8vIHRoZSBleHRlbnQgY3Jvc3NlcyB0aGUgYW50aSBtZXJpZGlhbiwgc28gaXQgbmVlZHMgdG8gYmUgc2xpY2VkXG4gICAgICByZXR1cm4gW1xuICAgICAgICBbZXh0ZW50WzBdLCBleHRlbnRbMV0sIHByb2plY3Rpb25FeHRlbnRbMl0sIGV4dGVudFszXV0sXG4gICAgICAgIFtwcm9qZWN0aW9uRXh0ZW50WzBdLCBleHRlbnRbMV0sIGV4dGVudFsyXSAtIHdvcmxkV2lkdGgsIGV4dGVudFszXV0sXG4gICAgICBdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBbZXh0ZW50XTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9leHRlbnQvUmVsYXRpb25zaGlwXG4gKi9cblxuLyoqXG4gKiBSZWxhdGlvbnNoaXAgdG8gYW4gZXh0ZW50LlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBVTktOT1dOOiAwLFxuICBJTlRFUlNFQ1RJTkc6IDEsXG4gIEFCT1ZFOiAyLFxuICBSSUdIVDogNCxcbiAgQkVMT1c6IDgsXG4gIExFRlQ6IDE2LFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9mb3JtYXQvRmVhdHVyZVxuICovXG5pbXBvcnQge2Fic3RyYWN0fSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7XG4gIGVxdWl2YWxlbnQgYXMgZXF1aXZhbGVudFByb2plY3Rpb24sXG4gIGdldCBhcyBnZXRQcm9qZWN0aW9uLFxuICB0cmFuc2Zvcm1FeHRlbnQsXG59IGZyb20gJy4uL3Byb2ouanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlYWRPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtkYXRhUHJvamVjdGlvbl0gUHJvamVjdGlvbiBvZiB0aGUgZGF0YSB3ZSBhcmUgcmVhZGluZy5cbiAqIElmIG5vdCBwcm92aWRlZCwgdGhlIHByb2plY3Rpb24gd2lsbCBiZSBkZXJpdmVkIGZyb20gdGhlIGRhdGEgKHdoZXJlIHBvc3NpYmxlKSBvclxuICogdGhlIGBkYXRhUHJvamVjdGlvbmAgb2YgdGhlIGZvcm1hdCBpcyBhc3NpZ25lZCAod2hlcmUgc2V0KS4gSWYgdGhlIHByb2plY3Rpb25cbiAqIGNhbiBub3QgYmUgZGVyaXZlZCBmcm9tIHRoZSBkYXRhIGFuZCBpZiBubyBgZGF0YVByb2plY3Rpb25gIGlzIHNldCBmb3IgYSBmb3JtYXQsXG4gKiB0aGUgZmVhdHVyZXMgd2lsbCBub3QgYmUgcmVwcm9qZWN0ZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRpbGUgZXh0ZW50IGluIG1hcCB1bml0cyBvZiB0aGUgdGlsZSBiZWluZyByZWFkLlxuICogVGhpcyBpcyBvbmx5IHJlcXVpcmVkIHdoZW4gcmVhZGluZyBkYXRhIHdpdGggdGlsZSBwaXhlbHMgYXMgZ2VvbWV0cnkgdW5pdHMuIFdoZW4gY29uZmlndXJlZCxcbiAqIGEgYGRhdGFQcm9qZWN0aW9uYCB3aXRoIGBUSUxFX1BJWEVMU2AgYXMgYHVuaXRzYCBhbmQgdGhlIHRpbGUncyBwaXhlbCBleHRlbnQgYXMgYGV4dGVudGAgbmVlZHMgdG8gYmVcbiAqIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbZmVhdHVyZVByb2plY3Rpb25dIFByb2plY3Rpb24gb2YgdGhlIGZlYXR1cmUgZ2VvbWV0cmllc1xuICogY3JlYXRlZCBieSB0aGUgZm9ybWF0IHJlYWRlci4gSWYgbm90IHByb3ZpZGVkLCBmZWF0dXJlcyB3aWxsIGJlIHJldHVybmVkIGluIHRoZVxuICogYGRhdGFQcm9qZWN0aW9uYC5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFdyaXRlT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbZGF0YVByb2plY3Rpb25dIFByb2plY3Rpb24gb2YgdGhlIGRhdGEgd2UgYXJlIHdyaXRpbmcuXG4gKiBJZiBub3QgcHJvdmlkZWQsIHRoZSBgZGF0YVByb2plY3Rpb25gIG9mIHRoZSBmb3JtYXQgaXMgYXNzaWduZWQgKHdoZXJlIHNldCkuXG4gKiBJZiBubyBgZGF0YVByb2plY3Rpb25gIGlzIHNldCBmb3IgYSBmb3JtYXQsIHRoZSBmZWF0dXJlcyB3aWxsIGJlIHJldHVybmVkXG4gKiBpbiB0aGUgYGZlYXR1cmVQcm9qZWN0aW9uYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW2ZlYXR1cmVQcm9qZWN0aW9uXSBQcm9qZWN0aW9uIG9mIHRoZSBmZWF0dXJlIGdlb21ldHJpZXNcbiAqIHRoYXQgd2lsbCBiZSBzZXJpYWxpemVkIGJ5IHRoZSBmb3JtYXQgd3JpdGVyLiBJZiBub3QgcHJvdmlkZWQsIGdlb21ldHJpZXMgYXJlIGFzc3VtZWRcbiAqIHRvIGJlIGluIHRoZSBgZGF0YVByb2plY3Rpb25gIGlmIHRoYXQgaXMgc2V0OyBpbiBvdGhlciB3b3JkcywgdGhleSBhcmUgbm90IHRyYW5zZm9ybWVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmlnaHRIYW5kZWRdIFdoZW4gd3JpdGluZyBnZW9tZXRyaWVzLCBmb2xsb3cgdGhlIHJpZ2h0LWhhbmRcbiAqIHJ1bGUgZm9yIGxpbmVhciByaW5nIG9yaWVudGF0aW9uLiAgVGhpcyBtZWFucyB0aGF0IHBvbHlnb25zIHdpbGwgaGF2ZSBjb3VudGVyLWNsb2Nrd2lzZVxuICogZXh0ZXJpb3IgcmluZ3MgYW5kIGNsb2Nrd2lzZSBpbnRlcmlvciByaW5ncy4gIEJ5IGRlZmF1bHQsIGNvb3JkaW5hdGVzIGFyZSBzZXJpYWxpemVkXG4gKiBhcyB0aGV5IGFyZSBwcm92aWRlZCBhdCBjb25zdHJ1Y3Rpb24uICBJZiBgdHJ1ZWAsIHRoZSByaWdodC1oYW5kIHJ1bGUgd2lsbFxuICogYmUgYXBwbGllZC4gIElmIGBmYWxzZWAsIHRoZSBsZWZ0LWhhbmQgcnVsZSB3aWxsIGJlIGFwcGxpZWQgKGNsb2Nrd2lzZSBmb3JcbiAqIGV4dGVyaW9yIGFuZCBjb3VudGVyLWNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLiAgTm90ZSB0aGF0IG5vdCBhbGxcbiAqIGZvcm1hdHMgc3VwcG9ydCB0aGlzLiAgVGhlIEdlb0pTT04gZm9ybWF0IGRvZXMgdXNlIHRoaXMgcHJvcGVydHkgd2hlbiB3cml0aW5nXG4gKiBnZW9tZXRyaWVzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkZWNpbWFsc10gTWF4aW11bSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgZm9yIGNvb3JkaW5hdGVzLlxuICogQ29vcmRpbmF0ZXMgYXJlIHN0b3JlZCBpbnRlcm5hbGx5IGFzIGZsb2F0cywgYnV0IGZsb2F0aW5nLXBvaW50IGFyaXRobWV0aWMgY2FuIGNyZWF0ZVxuICogY29vcmRpbmF0ZXMgd2l0aCBhIGxhcmdlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcywgbm90IGdlbmVyYWxseSB3YW50ZWQgb24gb3V0cHV0LlxuICogU2V0IGEgbnVtYmVyIGhlcmUgdG8gcm91bmQgY29vcmRpbmF0ZXMuIENhbiBhbHNvIGJlIHVzZWQgdG8gZW5zdXJlIHRoYXRcbiAqIGNvb3JkaW5hdGVzIHJlYWQgaW4gY2FuIGJlIHdyaXR0ZW4gYmFjayBvdXQgd2l0aCB0aGUgc2FtZSBudW1iZXIgb2YgZGVjaW1hbHMuXG4gKiBEZWZhdWx0IGlzIG5vIHJvdW5kaW5nLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeydhcnJheWJ1ZmZlcicgfCAnanNvbicgfCAndGV4dCcgfCAneG1sJ30gVHlwZVxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogQmFzZSBjbGFzcyBmb3IgZmVhdHVyZSBmb3JtYXRzLlxuICoge0BsaW5rIG1vZHVsZTpvbC9mb3JtYXQvRmVhdHVyZX5GZWF0dXJlRm9ybWF0fSBzdWJjbGFzc2VzIHByb3ZpZGUgdGhlIGFiaWxpdHkgdG8gZGVjb2RlIGFuZCBlbmNvZGVcbiAqIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX5GZWF0dXJlfSBvYmplY3RzIGZyb20gYSB2YXJpZXR5IG9mIGNvbW1vbmx5IHVzZWQgZ2Vvc3BhdGlhbFxuICogZmlsZSBmb3JtYXRzLiAgU2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciBlYWNoIGZvcm1hdCBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBhYnN0cmFjdFxuICogQGFwaVxuICovXG5jbGFzcyBGZWF0dXJlRm9ybWF0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdHx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5kYXRhUHJvamVjdGlvbiA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuZGVmYXVsdEZlYXR1cmVQcm9qZWN0aW9uID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG1lZGlhIHR5cGVzIHN1cHBvcnRlZCBieSB0aGUgZm9ybWF0IGluIGRlc2NlbmRpbmcgb3JkZXIgb2YgcHJlZmVyZW5jZS5cbiAgICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICAgKi9cbiAgICB0aGlzLnN1cHBvcnRlZE1lZGlhVHlwZXMgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgdGhlIGRhdGEgcHJvamVjdGlvbiB0byB0aGUgcmVhZCBvcHRpb25zLlxuICAgKiBAcGFyYW0ge0RvY3VtZW50fEVsZW1lbnR8T2JqZWN0fHN0cmluZ30gc291cmNlIFNvdXJjZS5cbiAgICogQHBhcmFtIHtSZWFkT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqIEByZXR1cm4ge1JlYWRPcHRpb25zfHVuZGVmaW5lZH0gT3B0aW9ucy5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZ2V0UmVhZE9wdGlvbnMoc291cmNlLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIGxldCBkYXRhUHJvamVjdGlvbiA9IG9wdGlvbnMuZGF0YVByb2plY3Rpb25cbiAgICAgICAgPyBnZXRQcm9qZWN0aW9uKG9wdGlvbnMuZGF0YVByb2plY3Rpb24pXG4gICAgICAgIDogdGhpcy5yZWFkUHJvamVjdGlvbihzb3VyY2UpO1xuICAgICAgaWYgKFxuICAgICAgICBvcHRpb25zLmV4dGVudCAmJlxuICAgICAgICBkYXRhUHJvamVjdGlvbiAmJlxuICAgICAgICBkYXRhUHJvamVjdGlvbi5nZXRVbml0cygpID09PSAndGlsZS1waXhlbHMnXG4gICAgICApIHtcbiAgICAgICAgZGF0YVByb2plY3Rpb24gPSBnZXRQcm9qZWN0aW9uKGRhdGFQcm9qZWN0aW9uKTtcbiAgICAgICAgZGF0YVByb2plY3Rpb24uc2V0V29ybGRFeHRlbnQob3B0aW9ucy5leHRlbnQpO1xuICAgICAgfVxuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgZGF0YVByb2plY3Rpb246IGRhdGFQcm9qZWN0aW9uLFxuICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogb3B0aW9ucy5mZWF0dXJlUHJvamVjdGlvbixcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFkYXB0T3B0aW9ucyhvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBgZGF0YVByb2plY3Rpb25gIG9uIHRoZSBvcHRpb25zLCBpZiBubyBgZGF0YVByb2plY3Rpb25gXG4gICAqIGlzIHNldC5cbiAgICogQHBhcmFtIHtXcml0ZU9wdGlvbnN8UmVhZE9wdGlvbnN8dW5kZWZpbmVkfSBvcHRpb25zXG4gICAqICAgICBPcHRpb25zLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEByZXR1cm4ge1dyaXRlT3B0aW9uc3xSZWFkT3B0aW9uc3x1bmRlZmluZWR9XG4gICAqICAgICBVcGRhdGVkIG9wdGlvbnMuXG4gICAqL1xuICBhZGFwdE9wdGlvbnMob3B0aW9ucykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICBkYXRhUHJvamVjdGlvbjogdGhpcy5kYXRhUHJvamVjdGlvbixcbiAgICAgICAgZmVhdHVyZVByb2plY3Rpb246IHRoaXMuZGVmYXVsdEZlYXR1cmVQcm9qZWN0aW9uLFxuICAgICAgfSxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtUeXBlfSBUaGUgZm9ybWF0IHR5cGUuXG4gICAqL1xuICBnZXRUeXBlKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgYSBzaW5nbGUgZmVhdHVyZSBmcm9tIGEgc291cmNlLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtEb2N1bWVudHxFbGVtZW50fE9iamVjdHxzdHJpbmd9IHNvdXJjZSBTb3VyY2UuXG4gICAqIEBwYXJhbSB7UmVhZE9wdGlvbnN9IFtvcHRpb25zXSBSZWFkIG9wdGlvbnMuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IEZlYXR1cmUuXG4gICAqL1xuICByZWFkRmVhdHVyZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkIGFsbCBmZWF0dXJlcyBmcm9tIGEgc291cmNlLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtEb2N1bWVudHxFbGVtZW50fEFycmF5QnVmZmVyfE9iamVjdHxzdHJpbmd9IHNvdXJjZSBTb3VyY2UuXG4gICAqIEBwYXJhbSB7UmVhZE9wdGlvbnN9IFtvcHRpb25zXSBSZWFkIG9wdGlvbnMuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2U+fSBGZWF0dXJlcy5cbiAgICovXG4gIHJlYWRGZWF0dXJlcyhzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkIGEgc2luZ2xlIGdlb21ldHJ5IGZyb20gYSBzb3VyY2UuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge0RvY3VtZW50fEVsZW1lbnR8T2JqZWN0fHN0cmluZ30gc291cmNlIFNvdXJjZS5cbiAgICogQHBhcmFtIHtSZWFkT3B0aW9uc30gW29wdGlvbnNdIFJlYWQgb3B0aW9ucy5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeS5cbiAgICovXG4gIHJlYWRHZW9tZXRyeShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkIHRoZSBwcm9qZWN0aW9uIGZyb20gYSBzb3VyY2UuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge0RvY3VtZW50fEVsZW1lbnR8T2JqZWN0fHN0cmluZ30gc291cmNlIFNvdXJjZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBQcm9qZWN0aW9uLlxuICAgKi9cbiAgcmVhZFByb2plY3Rpb24oc291cmNlKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogRW5jb2RlIGEgZmVhdHVyZSBpbiB0aGlzIGZvcm1hdC5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqIEBwYXJhbSB7V3JpdGVPcHRpb25zfSBbb3B0aW9uc10gV3JpdGUgb3B0aW9ucy5cbiAgICogQHJldHVybiB7c3RyaW5nfEFycmF5QnVmZmVyfSBSZXN1bHQuXG4gICAqL1xuICB3cml0ZUZlYXR1cmUoZmVhdHVyZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuY29kZSBhbiBhcnJheSBvZiBmZWF0dXJlcyBpbiB0aGlzIGZvcm1hdC5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gZmVhdHVyZXMgRmVhdHVyZXMuXG4gICAqIEBwYXJhbSB7V3JpdGVPcHRpb25zfSBbb3B0aW9uc10gV3JpdGUgb3B0aW9ucy5cbiAgICogQHJldHVybiB7c3RyaW5nfEFycmF5QnVmZmVyfSBSZXN1bHQuXG4gICAqL1xuICB3cml0ZUZlYXR1cmVzKGZlYXR1cmVzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogV3JpdGUgYSBzaW5nbGUgZ2VvbWV0cnkgaW4gdGhpcyBmb3JtYXQuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7V3JpdGVPcHRpb25zfSBbb3B0aW9uc10gV3JpdGUgb3B0aW9ucy5cbiAgICogQHJldHVybiB7c3RyaW5nfEFycmF5QnVmZmVyfSBSZXN1bHQuXG4gICAqL1xuICB3cml0ZUdlb21ldHJ5KGdlb21ldHJ5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmVhdHVyZUZvcm1hdDtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHdyaXRlIFNldCB0byB0cnVlIGZvciB3cml0aW5nLCBmYWxzZSBmb3IgcmVhZGluZy5cbiAqIEBwYXJhbSB7V3JpdGVPcHRpb25zfFJlYWRPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gVHJhbnNmb3JtZWQgZ2VvbWV0cnkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1HZW9tZXRyeVdpdGhPcHRpb25zKGdlb21ldHJ5LCB3cml0ZSwgb3B0aW9ucykge1xuICBjb25zdCBmZWF0dXJlUHJvamVjdGlvbiA9IG9wdGlvbnNcbiAgICA/IGdldFByb2plY3Rpb24ob3B0aW9ucy5mZWF0dXJlUHJvamVjdGlvbilcbiAgICA6IG51bGw7XG4gIGNvbnN0IGRhdGFQcm9qZWN0aW9uID0gb3B0aW9ucyA/IGdldFByb2plY3Rpb24ob3B0aW9ucy5kYXRhUHJvamVjdGlvbikgOiBudWxsO1xuXG4gIGxldCB0cmFuc2Zvcm1lZDtcbiAgaWYgKFxuICAgIGZlYXR1cmVQcm9qZWN0aW9uICYmXG4gICAgZGF0YVByb2plY3Rpb24gJiZcbiAgICAhZXF1aXZhbGVudFByb2plY3Rpb24oZmVhdHVyZVByb2plY3Rpb24sIGRhdGFQcm9qZWN0aW9uKVxuICApIHtcbiAgICB0cmFuc2Zvcm1lZCA9ICh3cml0ZSA/IGdlb21ldHJ5LmNsb25lKCkgOiBnZW9tZXRyeSkudHJhbnNmb3JtKFxuICAgICAgd3JpdGUgPyBmZWF0dXJlUHJvamVjdGlvbiA6IGRhdGFQcm9qZWN0aW9uLFxuICAgICAgd3JpdGUgPyBkYXRhUHJvamVjdGlvbiA6IGZlYXR1cmVQcm9qZWN0aW9uXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc2Zvcm1lZCA9IGdlb21ldHJ5O1xuICB9XG4gIGlmIChcbiAgICB3cml0ZSAmJlxuICAgIG9wdGlvbnMgJiZcbiAgICAvKiogQHR5cGUge1dyaXRlT3B0aW9uc30gKi8gKG9wdGlvbnMpLmRlY2ltYWxzICE9PSB1bmRlZmluZWRcbiAgKSB7XG4gICAgY29uc3QgcG93ZXIgPSBNYXRoLnBvdygxMCwgLyoqIEB0eXBlIHtXcml0ZU9wdGlvbnN9ICovIChvcHRpb25zKS5kZWNpbWFscyk7XG4gICAgLy8gaWYgZGVjaW1hbHMgb3B0aW9uIG9uIHdyaXRlLCByb3VuZCBlYWNoIGNvb3JkaW5hdGUgYXBwcm9wcmlhdGVseVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgY29uc3QgdHJhbnNmb3JtID0gZnVuY3Rpb24gKGNvb3JkaW5hdGVzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvb3JkaW5hdGVzW2ldID0gTWF0aC5yb3VuZChjb29yZGluYXRlc1tpXSAqIHBvd2VyKSAvIHBvd2VyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvb3JkaW5hdGVzO1xuICAgIH07XG4gICAgaWYgKHRyYW5zZm9ybWVkID09PSBnZW9tZXRyeSkge1xuICAgICAgdHJhbnNmb3JtZWQgPSBnZW9tZXRyeS5jbG9uZSgpO1xuICAgIH1cbiAgICB0cmFuc2Zvcm1lZC5hcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm0pO1xuICB9XG4gIHJldHVybiB0cmFuc2Zvcm1lZDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge1JlYWRPcHRpb25zfSBbb3B0aW9uc10gUmVhZCBvcHRpb25zLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVHJhbnNmb3JtZWQgZXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtRXh0ZW50V2l0aE9wdGlvbnMoZXh0ZW50LCBvcHRpb25zKSB7XG4gIGNvbnN0IGZlYXR1cmVQcm9qZWN0aW9uID0gb3B0aW9uc1xuICAgID8gZ2V0UHJvamVjdGlvbihvcHRpb25zLmZlYXR1cmVQcm9qZWN0aW9uKVxuICAgIDogbnVsbDtcbiAgY29uc3QgZGF0YVByb2plY3Rpb24gPSBvcHRpb25zID8gZ2V0UHJvamVjdGlvbihvcHRpb25zLmRhdGFQcm9qZWN0aW9uKSA6IG51bGw7XG5cbiAgaWYgKFxuICAgIGZlYXR1cmVQcm9qZWN0aW9uICYmXG4gICAgZGF0YVByb2plY3Rpb24gJiZcbiAgICAhZXF1aXZhbGVudFByb2plY3Rpb24oZmVhdHVyZVByb2plY3Rpb24sIGRhdGFQcm9qZWN0aW9uKVxuICApIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtRXh0ZW50KGV4dGVudCwgZGF0YVByb2plY3Rpb24sIGZlYXR1cmVQcm9qZWN0aW9uKTtcbiAgfVxuICByZXR1cm4gZXh0ZW50O1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Z1bmN0aW9uc1xuICovXG5cbmltcG9ydCB7ZXF1YWxzIGFzIGFycmF5RXF1YWxzfSBmcm9tICcuL2FycmF5LmpzJztcblxuLyoqXG4gKiBBbHdheXMgcmV0dXJucyB0cnVlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFRSVUUoKSB7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEFsd2F5cyByZXR1cm5zIGZhbHNlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gZmFsc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGQUxTRSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEEgcmV1c2FibGUgZnVuY3Rpb24sIHVzZWQgZS5nLiBhcyBhIGRlZmF1bHQgZm9yIGNhbGxiYWNrcy5cbiAqXG4gKiBAcmV0dXJuIHt2b2lkfSBOb3RoaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gVk9JRCgpIHt9XG5cbi8qKlxuICogV3JhcCBhIGZ1bmN0aW9uIGluIGFub3RoZXIgZnVuY3Rpb24gdGhhdCByZW1lbWJlcnMgdGhlIGxhc3QgcmV0dXJuLiAgSWYgdGhlXG4gKiByZXR1cm5lZCBmdW5jdGlvbiBpcyBjYWxsZWQgdHdpY2UgaW4gYSByb3cgd2l0aCB0aGUgc2FtZSBhcmd1bWVudHMgYW5kIHRoZSBzYW1lXG4gKiB0aGlzIG9iamVjdCwgaXQgd2lsbCByZXR1cm4gdGhlIHZhbHVlIGZyb20gdGhlIGZpcnN0IGNhbGwgaW4gdGhlIHNlY29uZCBjYWxsLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oLi4uYW55KTogUmV0dXJuVHlwZX0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1lbW9pemUuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbiguLi5hbnkpOiBSZXR1cm5UeXBlfSBUaGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKiBAdGVtcGxhdGUgUmV0dXJuVHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVtb2l6ZU9uZShmbikge1xuICBsZXQgY2FsbGVkID0gZmFsc2U7XG5cbiAgLyoqIEB0eXBlIHtSZXR1cm5UeXBlfSAqL1xuICBsZXQgbGFzdFJlc3VsdDtcblxuICAvKiogQHR5cGUge0FycmF5PGFueT59ICovXG4gIGxldCBsYXN0QXJncztcblxuICBsZXQgbGFzdFRoaXM7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBuZXh0QXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgaWYgKCFjYWxsZWQgfHwgdGhpcyAhPT0gbGFzdFRoaXMgfHwgIWFycmF5RXF1YWxzKG5leHRBcmdzLCBsYXN0QXJncykpIHtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICBsYXN0QXJncyA9IG5leHRBcmdzO1xuICAgICAgbGFzdFJlc3VsdCA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICB9O1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IChUIHwgUHJvbWlzZTxUPil9IGdldHRlciBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHZhbHVlIG9yIGEgcHJvbWlzZSBmb3IgYSB2YWx1ZS5cbiAqIEByZXR1cm4ge1Byb21pc2U8VD59IEEgcHJvbWlzZSBmb3IgdGhlIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Qcm9taXNlKGdldHRlcikge1xuICBmdW5jdGlvbiBwcm9taXNlR2V0dGVyKCkge1xuICAgIGxldCB2YWx1ZTtcbiAgICB0cnkge1xuICAgICAgdmFsdWUgPSBnZXR0ZXIoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH1cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpO1xuICB9XG4gIHJldHVybiBwcm9taXNlR2V0dGVyKCk7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2Nsb3Nlc3RcbiAqL1xuaW1wb3J0IHtsZXJwLCBzcXVhcmVkRGlzdGFuY2UgYXMgc3F1YXJlZER4fSBmcm9tICcuLi8uLi9tYXRoLmpzJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwb2ludCBvbiB0aGUgMkQgbGluZSBzZWdtZW50IGZsYXRDb29yZGluYXRlc1tvZmZzZXQxXSB0b1xuICogZmxhdENvb3JkaW5hdGVzW29mZnNldDJdIHRoYXQgaXMgY2xvc2VzdCB0byB0aGUgcG9pbnQgKHgsIHkpLiAgRXh0cmFcbiAqIGRpbWVuc2lvbnMgYXJlIGxpbmVhcmx5IGludGVycG9sYXRlZC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0MSBPZmZzZXQgMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQyIE9mZnNldCAyLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gKi9cbmZ1bmN0aW9uIGFzc2lnbkNsb3Nlc3QoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0MSxcbiAgb2Zmc2V0MixcbiAgc3RyaWRlLFxuICB4LFxuICB5LFxuICBjbG9zZXN0UG9pbnRcbikge1xuICBjb25zdCB4MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQxXTtcbiAgY29uc3QgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MSArIDFdO1xuICBjb25zdCBkeCA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQyXSAtIHgxO1xuICBjb25zdCBkeSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQyICsgMV0gLSB5MTtcbiAgbGV0IG9mZnNldDtcbiAgaWYgKGR4ID09PSAwICYmIGR5ID09PSAwKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0MTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0ID0gKCh4IC0geDEpICogZHggKyAoeSAtIHkxKSAqIGR5KSAvIChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgaWYgKHQgPiAxKSB7XG4gICAgICBvZmZzZXQgPSBvZmZzZXQyO1xuICAgIH0gZWxzZSBpZiAodCA+IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gbGVycChcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MSArIGldLFxuICAgICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQyICsgaV0sXG4gICAgICAgICAgdFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgb2Zmc2V0ID0gb2Zmc2V0MTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgIGNsb3Nlc3RQb2ludFtpXSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpXTtcbiAgfVxuICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgc3F1YXJlZCBvZiB0aGUgbGFyZ2VzdCBkaXN0YW5jZSBiZXR3ZWVuIGFueSBwYWlyIG9mIGNvbnNlY3V0aXZlXG4gKiBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IE1heCBzcXVhcmVkIGRlbHRhLlxuICogQHJldHVybiB7bnVtYmVyfSBNYXggc3F1YXJlZCBkZWx0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1heFNxdWFyZWREZWx0YShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIG1heCkge1xuICBsZXQgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgbGV0IHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICBmb3IgKG9mZnNldCArPSBzdHJpZGU7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgIGNvbnN0IHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgY29uc3QgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgY29uc3Qgc3F1YXJlZERlbHRhID0gc3F1YXJlZER4KHgxLCB5MSwgeDIsIHkyKTtcbiAgICBpZiAoc3F1YXJlZERlbHRhID4gbWF4KSB7XG4gICAgICBtYXggPSBzcXVhcmVkRGVsdGE7XG4gICAgfVxuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICByZXR1cm4gbWF4O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IE1heCBzcXVhcmVkIGRlbHRhLlxuICogQHJldHVybiB7bnVtYmVyfSBNYXggc3F1YXJlZCBkZWx0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5TWF4U3F1YXJlZERlbHRhKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kcyxcbiAgc3RyaWRlLFxuICBtYXhcbikge1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgIG1heCA9IG1heFNxdWFyZWREZWx0YShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIG1heCk7XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIHJldHVybiBtYXg7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggTWF4IHNxdWFyZWQgZGVsdGEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1heCBzcXVhcmVkIGRlbHRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlBcnJheU1heFNxdWFyZWREZWx0YShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHNzLFxuICBzdHJpZGUsXG4gIG1heFxuKSB7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmRzID0gZW5kc3NbaV07XG4gICAgbWF4ID0gYXJyYXlNYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgbWF4KTtcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIG1heDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heERlbHRhIE1heCBkZWx0YS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNSaW5nIElzIHJpbmcuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW3RtcFBvaW50XSBUZW1wb3JhcnkgcG9pbnQgb2JqZWN0LlxuICogQHJldHVybiB7bnVtYmVyfSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25DbG9zZXN0UG9pbnQoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgbWF4RGVsdGEsXG4gIGlzUmluZyxcbiAgeCxcbiAgeSxcbiAgY2xvc2VzdFBvaW50LFxuICBtaW5TcXVhcmVkRGlzdGFuY2UsXG4gIHRtcFBvaW50XG4pIHtcbiAgaWYgKG9mZnNldCA9PSBlbmQpIHtcbiAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICB9XG4gIGxldCBpLCBzcXVhcmVkRGlzdGFuY2U7XG4gIGlmIChtYXhEZWx0YSA9PT0gMCkge1xuICAgIC8vIEFsbCBwb2ludHMgYXJlIGlkZW50aWNhbCwgc28ganVzdCB0ZXN0IHRoZSBmaXJzdCBwb2ludC5cbiAgICBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRHgoXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLFxuICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdXG4gICAgKTtcbiAgICBpZiAoc3F1YXJlZERpc3RhbmNlIDwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGldO1xuICAgICAgfVxuICAgICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbiAgICAgIHJldHVybiBzcXVhcmVkRGlzdGFuY2U7XG4gICAgfVxuICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gIH1cbiAgdG1wUG9pbnQgPSB0bXBQb2ludCA/IHRtcFBvaW50IDogW05hTiwgTmFOXTtcbiAgbGV0IGluZGV4ID0gb2Zmc2V0ICsgc3RyaWRlO1xuICB3aGlsZSAoaW5kZXggPCBlbmQpIHtcbiAgICBhc3NpZ25DbG9zZXN0KFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgaW5kZXggLSBzdHJpZGUsXG4gICAgICBpbmRleCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgdG1wUG9pbnRcbiAgICApO1xuICAgIHNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREeCh4LCB5LCB0bXBQb2ludFswXSwgdG1wUG9pbnRbMV0pO1xuICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgIG1pblNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREaXN0YW5jZTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICBjbG9zZXN0UG9pbnRbaV0gPSB0bXBQb2ludFtpXTtcbiAgICAgIH1cbiAgICAgIGNsb3Nlc3RQb2ludC5sZW5ndGggPSBzdHJpZGU7XG4gICAgICBpbmRleCArPSBzdHJpZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNraXAgYWhlYWQgbXVsdGlwbGUgcG9pbnRzLCBiZWNhdXNlIHdlIGtub3cgdGhhdCBhbGwgdGhlIHNraXBwZWRcbiAgICAgIC8vIHBvaW50cyBjYW5ub3QgYmUgYW55IGNsb3NlciB0aGFuIHRoZSBjbG9zZXN0IHBvaW50IHdlIGhhdmUgZm91bmQgc29cbiAgICAgIC8vIGZhci4gIFdlIGtub3cgdGhpcyBiZWNhdXNlIHdlIGtub3cgaG93IGNsb3NlIHRoZSBjdXJyZW50IHBvaW50IGlzLCBob3dcbiAgICAgIC8vIGNsb3NlIHRoZSBjbG9zZXN0IHBvaW50IHdlIGhhdmUgZm91bmQgc28gZmFyIGlzLCBhbmQgdGhlIG1heGltdW1cbiAgICAgIC8vIGRpc3RhbmNlIGJldHdlZW4gY29uc2VjdXRpdmUgcG9pbnRzLiAgRm9yIGV4YW1wbGUsIGlmIHdlJ3JlIGN1cnJlbnRseVxuICAgICAgLy8gYXQgZGlzdGFuY2UgMTAsIHRoZSBiZXN0IHdlJ3ZlIGZvdW5kIHNvIGZhciBpcyAzLCBhbmQgdGhhdCB0aGUgbWF4aW11bVxuICAgICAgLy8gZGlzdGFuY2UgYmV0d2VlbiBjb25zZWN1dGl2ZSBwb2ludHMgaXMgMiwgdGhlbiB3ZSdsbCBuZWVkIHRvIHNraXAgYXRcbiAgICAgIC8vIGxlYXN0ICgxMCAtIDMpIC8gMiA9PSAzIChyb3VuZGVkIGRvd24pIHBvaW50cyB0byBoYXZlIGFueSBjaGFuY2Ugb2ZcbiAgICAgIC8vIGZpbmRpbmcgYSBjbG9zZXIgcG9pbnQuICBXZSB1c2UgTWF0aC5tYXgoLi4uLCAxKSB0byBlbnN1cmUgdGhhdCB3ZVxuICAgICAgLy8gYWx3YXlzIGFkdmFuY2UgYXQgbGVhc3Qgb25lIHBvaW50LCB0byBhdm9pZCBhbiBpbmZpbml0ZSBsb29wLlxuICAgICAgaW5kZXggKz1cbiAgICAgICAgc3RyaWRlICpcbiAgICAgICAgTWF0aC5tYXgoXG4gICAgICAgICAgKChNYXRoLnNxcnQoc3F1YXJlZERpc3RhbmNlKSAtIE1hdGguc3FydChtaW5TcXVhcmVkRGlzdGFuY2UpKSAvXG4gICAgICAgICAgICBtYXhEZWx0YSkgfFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAxXG4gICAgICAgICk7XG4gICAgfVxuICB9XG4gIGlmIChpc1JpbmcpIHtcbiAgICAvLyBDaGVjayB0aGUgY2xvc2luZyBzZWdtZW50LlxuICAgIGFzc2lnbkNsb3Nlc3QoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBlbmQgLSBzdHJpZGUsXG4gICAgICBvZmZzZXQsXG4gICAgICBzdHJpZGUsXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHRtcFBvaW50XG4gICAgKTtcbiAgICBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRHgoeCwgeSwgdG1wUG9pbnRbMF0sIHRtcFBvaW50WzFdKTtcbiAgICBpZiAoc3F1YXJlZERpc3RhbmNlIDwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICBtaW5TcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRGlzdGFuY2U7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gdG1wUG9pbnRbaV07XG4gICAgICB9XG4gICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4RGVsdGEgTWF4IGRlbHRhLlxuICogQHBhcmFtIHtib29sZWFufSBpc1JpbmcgSXMgcmluZy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbdG1wUG9pbnRdIFRlbXBvcmFyeSBwb2ludCBvYmplY3QuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbkNsb3Nlc3RBcnJheVBvaW50KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kcyxcbiAgc3RyaWRlLFxuICBtYXhEZWx0YSxcbiAgaXNSaW5nLFxuICB4LFxuICB5LFxuICBjbG9zZXN0UG9pbnQsXG4gIG1pblNxdWFyZWREaXN0YW5jZSxcbiAgdG1wUG9pbnRcbikge1xuICB0bXBQb2ludCA9IHRtcFBvaW50ID8gdG1wUG9pbnQgOiBbTmFOLCBOYU5dO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgIG1pblNxdWFyZWREaXN0YW5jZSA9IGFzc2lnbkNsb3Nlc3RQb2ludChcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIG1heERlbHRhLFxuICAgICAgaXNSaW5nLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBjbG9zZXN0UG9pbnQsXG4gICAgICBtaW5TcXVhcmVkRGlzdGFuY2UsXG4gICAgICB0bXBQb2ludFxuICAgICk7XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhEZWx0YSBNYXggZGVsdGEuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzUmluZyBJcyByaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblNxdWFyZWREaXN0YW5jZSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFt0bXBQb2ludF0gVGVtcG9yYXJ5IHBvaW50IG9iamVjdC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduQ2xvc2VzdE11bHRpQXJyYXlQb2ludChcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHNzLFxuICBzdHJpZGUsXG4gIG1heERlbHRhLFxuICBpc1JpbmcsXG4gIHgsXG4gIHksXG4gIGNsb3Nlc3RQb2ludCxcbiAgbWluU3F1YXJlZERpc3RhbmNlLFxuICB0bXBQb2ludFxuKSB7XG4gIHRtcFBvaW50ID0gdG1wUG9pbnQgPyB0bXBQb2ludCA6IFtOYU4sIE5hTl07XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmRzID0gZW5kc3NbaV07XG4gICAgbWluU3F1YXJlZERpc3RhbmNlID0gYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmRzLFxuICAgICAgc3RyaWRlLFxuICAgICAgbWF4RGVsdGEsXG4gICAgICBpc1JpbmcsXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIGNsb3Nlc3RQb2ludCxcbiAgICAgIG1pblNxdWFyZWREaXN0YW5jZSxcbiAgICAgIHRtcFBvaW50XG4gICAgKTtcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvZGVmbGF0ZVxuICovXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZUNvb3JkaW5hdGUoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGNvb3JkaW5hdGUsIHN0cmlkZSkge1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBjb29yZGluYXRlLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0KytdID0gY29vcmRpbmF0ZVtpXTtcbiAgfVxuICByZXR1cm4gb2Zmc2V0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVDb29yZGluYXRlcyhcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGNvb3JkaW5hdGVzLFxuICBzdHJpZGVcbikge1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgY29vcmRpbmF0ZSA9IGNvb3JkaW5hdGVzW2ldO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgc3RyaWRlOyArK2opIHtcbiAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQrK10gPSBjb29yZGluYXRlW2pdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2Zmc2V0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IGNvb3JkaW5hdGVzcyBDb29yZGluYXRlc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2VuZHNdIEVuZHMuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBFbmRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZUNvb3JkaW5hdGVzQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBjb29yZGluYXRlc3MsXG4gIHN0cmlkZSxcbiAgZW5kc1xuKSB7XG4gIGVuZHMgPSBlbmRzID8gZW5kcyA6IFtdO1xuICBsZXQgaSA9IDA7XG4gIGZvciAobGV0IGogPSAwLCBqaiA9IGNvb3JkaW5hdGVzcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgY29uc3QgZW5kID0gZGVmbGF0ZUNvb3JkaW5hdGVzKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgY29vcmRpbmF0ZXNzW2pdLFxuICAgICAgc3RyaWRlXG4gICAgKTtcbiAgICBlbmRzW2krK10gPSBlbmQ7XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIGVuZHMubGVuZ3RoID0gaTtcbiAgcmV0dXJuIGVuZHM7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59IGNvb3JkaW5hdGVzc3MgQ29vcmRpbmF0ZXNzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gW2VuZHNzXSBFbmRzcy5cbiAqIEByZXR1cm4ge0FycmF5PEFycmF5PG51bWJlcj4+fSBFbmRzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBjb29yZGluYXRlc3NzLFxuICBzdHJpZGUsXG4gIGVuZHNzXG4pIHtcbiAgZW5kc3MgPSBlbmRzcyA/IGVuZHNzIDogW107XG4gIGxldCBpID0gMDtcbiAgZm9yIChsZXQgaiA9IDAsIGpqID0gY29vcmRpbmF0ZXNzcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgY29uc3QgZW5kcyA9IGRlZmxhdGVDb29yZGluYXRlc0FycmF5KFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgY29vcmRpbmF0ZXNzc1tqXSxcbiAgICAgIHN0cmlkZSxcbiAgICAgIGVuZHNzW2ldXG4gICAgKTtcbiAgICBpZiAoZW5kcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGVuZHNbMF0gPSBvZmZzZXQ7XG4gICAgfVxuICAgIGVuZHNzW2krK10gPSBlbmRzO1xuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICBlbmRzcy5sZW5ndGggPSBpO1xuICByZXR1cm4gZW5kc3M7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2FyZWFcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICBsZXQgdHdpY2VBcmVhID0gMDtcbiAgbGV0IHgxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZV07XG4gIGxldCB5MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGUgKyAxXTtcbiAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgIGNvbnN0IHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgY29uc3QgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgdHdpY2VBcmVhICs9IHkxICogeDIgLSB4MSAqIHkyO1xuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICByZXR1cm4gdHdpY2VBcmVhIC8gMjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3MoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSkge1xuICBsZXQgYXJlYSA9IDA7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZCA9IGVuZHNbaV07XG4gICAgYXJlYSArPSBsaW5lYXJSaW5nKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIHJldHVybiBhcmVhO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc3MoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUpIHtcbiAgbGV0IGFyZWEgPSAwO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kcyA9IGVuZHNzW2ldO1xuICAgIGFyZWEgKz0gbGluZWFyUmluZ3MoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSk7XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBhcmVhO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vTGluZWFyUmluZ1xuICovXG5pbXBvcnQgU2ltcGxlR2VvbWV0cnkgZnJvbSAnLi9TaW1wbGVHZW9tZXRyeS5qcyc7XG5pbXBvcnQge2Fzc2lnbkNsb3Nlc3RQb2ludCwgbWF4U3F1YXJlZERlbHRhfSBmcm9tICcuL2ZsYXQvY2xvc2VzdC5qcyc7XG5pbXBvcnQge2Nsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWX0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7ZGVmbGF0ZUNvb3JkaW5hdGVzfSBmcm9tICcuL2ZsYXQvZGVmbGF0ZS5qcyc7XG5pbXBvcnQge2RvdWdsYXNQZXVja2VyfSBmcm9tICcuL2ZsYXQvc2ltcGxpZnkuanMnO1xuaW1wb3J0IHtpbmZsYXRlQ29vcmRpbmF0ZXN9IGZyb20gJy4vZmxhdC9pbmZsYXRlLmpzJztcbmltcG9ydCB7bGluZWFyUmluZyBhcyBsaW5lYXJSaW5nQXJlYX0gZnJvbSAnLi9mbGF0L2FyZWEuanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIExpbmVhciByaW5nIGdlb21ldHJ5LiBPbmx5IHVzZWQgYXMgcGFydCBvZiBwb2x5Z29uOyBjYW5ub3QgYmUgcmVuZGVyZWRcbiAqIG9uIGl0cyBvd24uXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBMaW5lYXJSaW5nIGV4dGVuZHMgU2ltcGxlR2VvbWV0cnkge1xuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fEFycmF5PG51bWJlcj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgKiAgICAgRm9yIGludGVybmFsIHVzZSwgZmxhdCBjb29yZGluYXRlcyBpbiBjb21iaW5hdGlvbiB3aXRoIGBsYXlvdXRgIGFyZSBhbHNvIGFjY2VwdGVkLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXR9IFtsYXlvdXRdIExheW91dC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvb3JkaW5hdGVzLCBsYXlvdXQpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4RGVsdGFfID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhEZWx0YVJldmlzaW9uXyA9IC0xO1xuXG4gICAgaWYgKGxheW91dCAhPT0gdW5kZWZpbmVkICYmICFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzWzBdKSkge1xuICAgICAgdGhpcy5zZXRGbGF0Q29vcmRpbmF0ZXMoXG4gICAgICAgIGxheW91dCxcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoY29vcmRpbmF0ZXMpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldENvb3JkaW5hdGVzKFxuICAgICAgICAvKiogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59ICovIChcbiAgICAgICAgICBjb29yZGluYXRlc1xuICAgICAgICApLFxuICAgICAgICBsYXlvdXRcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1ha2UgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7IUxpbmVhclJpbmd9IENsb25lLlxuICAgKiBAYXBpXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IExpbmVhclJpbmcodGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKSwgdGhpcy5sYXlvdXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblNxdWFyZWREaXN0YW5jZSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gICAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgKi9cbiAgY2xvc2VzdFBvaW50WFkoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICBpZiAobWluU3F1YXJlZERpc3RhbmNlIDwgY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZKHRoaXMuZ2V0RXh0ZW50KCksIHgsIHkpKSB7XG4gICAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5tYXhEZWx0YVJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgIHRoaXMubWF4RGVsdGFfID0gTWF0aC5zcXJ0KFxuICAgICAgICBtYXhTcXVhcmVkRGVsdGEoXG4gICAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgICAgMCxcbiAgICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgICAgICAgdGhpcy5zdHJpZGUsXG4gICAgICAgICAgMFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgdGhpcy5tYXhEZWx0YVJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIGFzc2lnbkNsb3Nlc3RQb2ludChcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLFxuICAgICAgMCxcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RyaWRlLFxuICAgICAgdGhpcy5tYXhEZWx0YV8sXG4gICAgICB0cnVlLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBjbG9zZXN0UG9pbnQsXG4gICAgICBtaW5TcXVhcmVkRGlzdGFuY2VcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgYXJlYSBvZiB0aGUgbGluZWFyIHJpbmcgb24gcHJvamVjdGVkIHBsYW5lLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEgKG9uIHByb2plY3RlZCBwbGFuZSkuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEFyZWEoKSB7XG4gICAgcmV0dXJuIGxpbmVhclJpbmdBcmVhKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwLFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgdGhpcy5zdHJpZGVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGxpbmVhciByaW5nLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBDb29yZGluYXRlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Q29vcmRpbmF0ZXMoKSB7XG4gICAgcmV0dXJuIGluZmxhdGVDb29yZGluYXRlcyhcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLFxuICAgICAgMCxcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RyaWRlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICogQHJldHVybiB7TGluZWFyUmluZ30gU2ltcGxpZmllZCBMaW5lYXJSaW5nLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgY29uc3Qgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZG91Z2xhc1BldWNrZXIoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyxcbiAgICAgIDAsXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgICB0aGlzLnN0cmlkZSxcbiAgICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICAgICAgMFxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBMaW5lYXJSaW5nKHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsICdYWScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdHlwZSBvZiB0aGlzIGdlb21ldHJ5LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLlR5cGV9IEdlb21ldHJ5IHR5cGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFR5cGUoKSB7XG4gICAgcmV0dXJuICdMaW5lYXJSaW5nJztcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIHBhc3NlZCBleHRlbnQgaW50ZXJzZWN0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICAgKiBAYXBpXG4gICAqL1xuICBpbnRlcnNlY3RzRXh0ZW50KGV4dGVudCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBsaW5lYXIgcmluZy5cbiAgICogQHBhcmFtIHshQXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dH0gW2xheW91dF0gTGF5b3V0LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRDb29yZGluYXRlcyhjb29yZGluYXRlcywgbGF5b3V0KSB7XG4gICAgdGhpcy5zZXRMYXlvdXQobGF5b3V0LCBjb29yZGluYXRlcywgMSk7XG4gICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICB9XG4gICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZGVmbGF0ZUNvb3JkaW5hdGVzKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwLFxuICAgICAgY29vcmRpbmF0ZXMsXG4gICAgICB0aGlzLnN0cmlkZVxuICAgICk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGluZWFyUmluZztcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL1BvaW50XG4gKi9cbmltcG9ydCBTaW1wbGVHZW9tZXRyeSBmcm9tICcuL1NpbXBsZUdlb21ldHJ5LmpzJztcbmltcG9ydCB7Y29udGFpbnNYWSwgY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZX0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7ZGVmbGF0ZUNvb3JkaW5hdGV9IGZyb20gJy4vZmxhdC9kZWZsYXRlLmpzJztcbmltcG9ydCB7c3F1YXJlZERpc3RhbmNlIGFzIHNxdWFyZWREeH0gZnJvbSAnLi4vbWF0aC5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogUG9pbnQgZ2VvbWV0cnkuXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBQb2ludCBleHRlbmRzIFNpbXBsZUdlb21ldHJ5IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0fSBbbGF5b3V0XSBMYXlvdXQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb29yZGluYXRlcywgbGF5b3V0KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNldENvb3JkaW5hdGVzKGNvb3JkaW5hdGVzLCBsYXlvdXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2UgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7IVBvaW50fSBDbG9uZS5cbiAgICogQGFwaVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQodGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKSwgdGhpcy5sYXlvdXQpO1xuICAgIHBvaW50LmFwcGx5UHJvcGVydGllcyh0aGlzKTtcbiAgICByZXR1cm4gcG9pbnQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gICAqL1xuICBjbG9zZXN0UG9pbnRYWSh4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICAgIGNvbnN0IHNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREeChcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgZmxhdENvb3JkaW5hdGVzWzBdLFxuICAgICAgZmxhdENvb3JkaW5hdGVzWzFdXG4gICAgKTtcbiAgICBpZiAoc3F1YXJlZERpc3RhbmNlIDwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICBjb25zdCBzdHJpZGUgPSB0aGlzLnN0cmlkZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgICAgfVxuICAgICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbiAgICAgIHJldHVybiBzcXVhcmVkRGlzdGFuY2U7XG4gICAgfVxuICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjb29yZGluYXRlIG9mIHRoZSBwb2ludC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Q29vcmRpbmF0ZXMoKSB7XG4gICAgcmV0dXJuICF0aGlzLmZsYXRDb29yZGluYXRlcyA/IFtdIDogdGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICovXG4gIGNvbXB1dGVFeHRlbnQoZXh0ZW50KSB7XG4gICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIGV4dGVudCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0eXBlIG9mIHRoaXMgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuVHlwZX0gR2VvbWV0cnkgdHlwZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VHlwZSgpIHtcbiAgICByZXR1cm4gJ1BvaW50JztcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIHBhc3NlZCBleHRlbnQgaW50ZXJzZWN0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICAgKiBAYXBpXG4gICAqL1xuICBpbnRlcnNlY3RzRXh0ZW50KGV4dGVudCkge1xuICAgIHJldHVybiBjb250YWluc1hZKGV4dGVudCwgdGhpcy5mbGF0Q29vcmRpbmF0ZXNbMF0sIHRoaXMuZmxhdENvb3JkaW5hdGVzWzFdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwqPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dH0gW2xheW91dF0gTGF5b3V0LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRDb29yZGluYXRlcyhjb29yZGluYXRlcywgbGF5b3V0KSB7XG4gICAgdGhpcy5zZXRMYXlvdXQobGF5b3V0LCBjb29yZGluYXRlcywgMCk7XG4gICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICB9XG4gICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZGVmbGF0ZUNvb3JkaW5hdGUoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyxcbiAgICAgIDAsXG4gICAgICBjb29yZGluYXRlcyxcbiAgICAgIHRoaXMuc3RyaWRlXG4gICAgKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2ludDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvcmV2ZXJzZVxuICovXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICB3aGlsZSAob2Zmc2V0IDwgZW5kIC0gc3RyaWRlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgY29uc3QgdG1wID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGldO1xuICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGldID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIGldO1xuICAgICAgZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIGldID0gdG1wO1xuICAgIH1cbiAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgIGVuZCAtPSBzdHJpZGU7XG4gIH1cbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvb3JpZW50XG4gKi9cbmltcG9ydCB7Y29vcmRpbmF0ZXMgYXMgcmV2ZXJzZUNvb3JkaW5hdGVzfSBmcm9tICcuL3JldmVyc2UuanMnO1xuXG4vKipcbiAqIElzIHRoZSBsaW5lYXIgcmluZyBvcmllbnRlZCBjbG9ja3dpc2UgaW4gYSBjb29yZGluYXRlIHN5c3RlbSB3aXRoIGEgYm90dG9tLWxlZnRcbiAqIGNvb3JkaW5hdGUgb3JpZ2luPyBGb3IgYSBjb29yZGluYXRlIHN5c3RlbSB3aXRoIGEgdG9wLWxlZnQgY29vcmRpbmF0ZSBvcmlnaW4sXG4gKiB0aGUgcmluZydzIG9yaWVudGF0aW9uIGlzIGNsb2Nrd2lzZSB3aGVuIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBmYWxzZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBjbG9ja3dpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nSXNDbG9ja3dpc2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xMTY1NjQ3L2Nsb2Nrd2lzZS1tZXRob2QjMTE2NTk0M1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vT1NHZW8vZ2RhbC9ibG9iL21hc3Rlci9nZGFsL29nci9vZ3JsaW5lYXJyaW5nLmNwcFxuICBsZXQgZWRnZSA9IDA7XG4gIGxldCB4MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGVdO1xuICBsZXQgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICBjb25zdCB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIGNvbnN0IHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIGVkZ2UgKz0gKHgyIC0geDEpICogKHkyICsgeTEpO1xuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICByZXR1cm4gZWRnZSA9PT0gMCA/IHVuZGVmaW5lZCA6IGVkZ2UgPiAwO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgaWYgbGluZWFyIHJpbmdzIGFyZSBvcmllbnRlZC4gIEJ5IGRlZmF1bHQsIGxlZnQtaGFuZCBvcmllbnRhdGlvblxuICogaXMgdGVzdGVkIChmaXJzdCByaW5nIG11c3QgYmUgY2xvY2t3aXNlLCByZW1haW5pbmcgcmluZ3MgY291bnRlci1jbG9ja3dpc2UpLlxuICogVG8gdGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvbiwgdXNlIHRoZSBgcmlnaHRgIGFyZ3VtZW50LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBBcnJheSBvZiBlbmQgaW5kZXhlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtib29sZWFufSBbcmlnaHRdIFRlc3QgZm9yIHJpZ2h0LWhhbmQgb3JpZW50YXRpb25cbiAqICAgICAoY291bnRlci1jbG9ja3dpc2UgZXh0ZXJpb3IgcmluZyBhbmQgY2xvY2t3aXNlIGludGVyaW9yIHJpbmdzKS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJpbmdzIGFyZSBjb3JyZWN0bHkgb3JpZW50ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc0FyZU9yaWVudGVkKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kcyxcbiAgc3RyaWRlLFxuICByaWdodFxuKSB7XG4gIHJpZ2h0ID0gcmlnaHQgIT09IHVuZGVmaW5lZCA/IHJpZ2h0IDogZmFsc2U7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZCA9IGVuZHNbaV07XG4gICAgY29uc3QgaXNDbG9ja3dpc2UgPSBsaW5lYXJSaW5nSXNDbG9ja3dpc2UoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmQsXG4gICAgICBzdHJpZGVcbiAgICApO1xuICAgIGlmIChpID09PSAwKSB7XG4gICAgICBpZiAoKHJpZ2h0ICYmIGlzQ2xvY2t3aXNlKSB8fCAoIXJpZ2h0ICYmICFpc0Nsb2Nrd2lzZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoKHJpZ2h0ICYmICFpc0Nsb2Nrd2lzZSkgfHwgKCFyaWdodCAmJiBpc0Nsb2Nrd2lzZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBsaW5lYXIgcmluZ3MgYXJlIG9yaWVudGVkLiAgQnkgZGVmYXVsdCwgbGVmdC1oYW5kIG9yaWVudGF0aW9uXG4gKiBpcyB0ZXN0ZWQgKGZpcnN0IHJpbmcgbXVzdCBiZSBjbG9ja3dpc2UsIHJlbWFpbmluZyByaW5ncyBjb3VudGVyLWNsb2Nrd2lzZSkuXG4gKiBUbyB0ZXN0IGZvciByaWdodC1oYW5kIG9yaWVudGF0aW9uLCB1c2UgdGhlIGByaWdodGAgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgQXJyYXkgb2YgYXJyYXkgb2YgZW5kIGluZGV4ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JpZ2h0XSBUZXN0IGZvciByaWdodC1oYW5kIG9yaWVudGF0aW9uXG4gKiAgICAgKGNvdW50ZXItY2xvY2t3aXNlIGV4dGVyaW9yIHJpbmcgYW5kIGNsb2Nrd2lzZSBpbnRlcmlvciByaW5ncykuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSaW5ncyBhcmUgY29ycmVjdGx5IG9yaWVudGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NzQXJlT3JpZW50ZWQoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzcyxcbiAgc3RyaWRlLFxuICByaWdodFxuKSB7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmRzID0gZW5kc3NbaV07XG4gICAgaWYgKCFsaW5lYXJSaW5nc0FyZU9yaWVudGVkKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIHJpZ2h0KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZW5kcy5sZW5ndGgpIHtcbiAgICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogT3JpZW50IGNvb3JkaW5hdGVzIGluIGEgZmxhdCBhcnJheSBvZiBsaW5lYXIgcmluZ3MuICBCeSBkZWZhdWx0LCByaW5nc1xuICogYXJlIG9yaWVudGVkIGZvbGxvd2luZyB0aGUgbGVmdC1oYW5kIHJ1bGUgKGNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kXG4gKiBjb3VudGVyLWNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLiAgVG8gb3JpZW50IGFjY29yZGluZyB0byB0aGVcbiAqIHJpZ2h0LWhhbmQgcnVsZSwgdXNlIHRoZSBgcmlnaHRgIGFyZ3VtZW50LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyaWdodF0gRm9sbG93IHRoZSByaWdodC1oYW5kIHJ1bGUgZm9yIG9yaWVudGF0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBFbmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcmllbnRMaW5lYXJSaW5ncyhcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHMsXG4gIHN0cmlkZSxcbiAgcmlnaHRcbikge1xuICByaWdodCA9IHJpZ2h0ICE9PSB1bmRlZmluZWQgPyByaWdodCA6IGZhbHNlO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgIGNvbnN0IGlzQ2xvY2t3aXNlID0gbGluZWFyUmluZ0lzQ2xvY2t3aXNlKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlXG4gICAgKTtcbiAgICBjb25zdCByZXZlcnNlID1cbiAgICAgIGkgPT09IDBcbiAgICAgICAgPyAocmlnaHQgJiYgaXNDbG9ja3dpc2UpIHx8ICghcmlnaHQgJiYgIWlzQ2xvY2t3aXNlKVxuICAgICAgICA6IChyaWdodCAmJiAhaXNDbG9ja3dpc2UpIHx8ICghcmlnaHQgJiYgaXNDbG9ja3dpc2UpO1xuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXZlcnNlQ29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKTtcbiAgICB9XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIHJldHVybiBvZmZzZXQ7XG59XG5cbi8qKlxuICogT3JpZW50IGNvb3JkaW5hdGVzIGluIGEgZmxhdCBhcnJheSBvZiBsaW5lYXIgcmluZ3MuICBCeSBkZWZhdWx0LCByaW5nc1xuICogYXJlIG9yaWVudGVkIGZvbGxvd2luZyB0aGUgbGVmdC1oYW5kIHJ1bGUgKGNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kXG4gKiBjb3VudGVyLWNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLiAgVG8gb3JpZW50IGFjY29yZGluZyB0byB0aGVcbiAqIHJpZ2h0LWhhbmQgcnVsZSwgdXNlIHRoZSBgcmlnaHRgIGFyZ3VtZW50LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEFycmF5IG9mIGFycmF5IG9mIGVuZCBpbmRleGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyaWdodF0gRm9sbG93IHRoZSByaWdodC1oYW5kIHJ1bGUgZm9yIG9yaWVudGF0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBFbmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcmllbnRMaW5lYXJSaW5nc0FycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kc3MsXG4gIHN0cmlkZSxcbiAgcmlnaHRcbikge1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgb2Zmc2V0ID0gb3JpZW50TGluZWFyUmluZ3MoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmRzc1tpXSxcbiAgICAgIHN0cmlkZSxcbiAgICAgIHJpZ2h0XG4gICAgKTtcbiAgfVxuICByZXR1cm4gb2Zmc2V0O1xufVxuXG4vKipcbiAqIFJldHVybiBhIHR3by1kaW1lbnNpb25hbCBlbmRzc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIExpbmVhciByaW5nIGVuZCBpbmRleGVzXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gVHdvIGRpbWVuc2lvbmFsIGVuZHNzIGFycmF5IHRoYXQgY2FuXG4gKiBiZSB1c2VkIHRvIGNvbnRydWN0IGEgTXVsdGlQb2x5Z29uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlRW5kcyhmbGF0Q29vcmRpbmF0ZXMsIGVuZHMpIHtcbiAgY29uc3QgZW5kc3MgPSBbXTtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGxldCBwcmV2RW5kSW5kZXggPSAwO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgIC8vIGNsYXNzaWZpZXMgYW4gYXJyYXkgb2YgcmluZ3MgaW50byBwb2x5Z29ucyB3aXRoIG91dGVyIHJpbmdzIGFuZCBob2xlc1xuICAgIGlmICghbGluZWFyUmluZ0lzQ2xvY2t3aXNlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIDIpKSB7XG4gICAgICBlbmRzcy5wdXNoKGVuZHMuc2xpY2UocHJldkVuZEluZGV4LCBpICsgMSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZW5kc3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZW5kc3NbZW5kc3MubGVuZ3RoIC0gMV0ucHVzaChlbmRzW3ByZXZFbmRJbmRleF0pO1xuICAgIH1cbiAgICBwcmV2RW5kSW5kZXggPSBpICsgMTtcbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgcmV0dXJuIGVuZHNzO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vUG9seWdvblxuICovXG5pbXBvcnQgTGluZWFyUmluZyBmcm9tICcuL0xpbmVhclJpbmcuanMnO1xuaW1wb3J0IFBvaW50IGZyb20gJy4vUG9pbnQuanMnO1xuaW1wb3J0IFNpbXBsZUdlb21ldHJ5IGZyb20gJy4vU2ltcGxlR2VvbWV0cnkuanMnO1xuaW1wb3J0IHthcnJheU1heFNxdWFyZWREZWx0YSwgYXNzaWduQ2xvc2VzdEFycmF5UG9pbnR9IGZyb20gJy4vZmxhdC9jbG9zZXN0LmpzJztcbmltcG9ydCB7Y2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZLCBnZXRDZW50ZXJ9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2RlZmxhdGVDb29yZGluYXRlc0FycmF5fSBmcm9tICcuL2ZsYXQvZGVmbGF0ZS5qcyc7XG5pbXBvcnQge2V4dGVuZH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtnZXRJbnRlcmlvclBvaW50T2ZBcnJheX0gZnJvbSAnLi9mbGF0L2ludGVyaW9ycG9pbnQuanMnO1xuaW1wb3J0IHtpbmZsYXRlQ29vcmRpbmF0ZXNBcnJheX0gZnJvbSAnLi9mbGF0L2luZmxhdGUuanMnO1xuaW1wb3J0IHtpbnRlcnNlY3RzTGluZWFyUmluZ0FycmF5fSBmcm9tICcuL2ZsYXQvaW50ZXJzZWN0c2V4dGVudC5qcyc7XG5pbXBvcnQge2xpbmVhclJpbmdzQXJlT3JpZW50ZWQsIG9yaWVudExpbmVhclJpbmdzfSBmcm9tICcuL2ZsYXQvb3JpZW50LmpzJztcbmltcG9ydCB7bGluZWFyUmluZ3MgYXMgbGluZWFyUmluZ3NBcmVhfSBmcm9tICcuL2ZsYXQvYXJlYS5qcyc7XG5pbXBvcnQge2xpbmVhclJpbmdzQ29udGFpbnNYWX0gZnJvbSAnLi9mbGF0L2NvbnRhaW5zLmpzJztcbmltcG9ydCB7bW9kdWxvfSBmcm9tICcuLi9tYXRoLmpzJztcbmltcG9ydCB7cXVhbnRpemVBcnJheX0gZnJvbSAnLi9mbGF0L3NpbXBsaWZ5LmpzJztcbmltcG9ydCB7b2Zmc2V0IGFzIHNwaGVyZU9mZnNldH0gZnJvbSAnLi4vc3BoZXJlLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQb2x5Z29uIGdlb21ldHJ5LlxuICpcbiAqIEBhcGlcbiAqL1xuY2xhc3MgUG9seWdvbiBleHRlbmRzIFNpbXBsZUdlb21ldHJ5IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fCFBcnJheTxudW1iZXI+fSBjb29yZGluYXRlc1xuICAgKiAgICAgQXJyYXkgb2YgbGluZWFyIHJpbmdzIHRoYXQgZGVmaW5lIHRoZSBwb2x5Z29uLiBUaGUgZmlyc3QgbGluZWFyIHJpbmcgb2YgdGhlXG4gICAqICAgICBhcnJheSBkZWZpbmVzIHRoZSBvdXRlci1ib3VuZGFyeSBvciBzdXJmYWNlIG9mIHRoZSBwb2x5Z29uLiBFYWNoIHN1YnNlcXVlbnRcbiAgICogICAgIGxpbmVhciByaW5nIGRlZmluZXMgYSBob2xlIGluIHRoZSBzdXJmYWNlIG9mIHRoZSBwb2x5Z29uLiBBIGxpbmVhciByaW5nIGlzXG4gICAqICAgICBhbiBhcnJheSBvZiB2ZXJ0aWNlcycgY29vcmRpbmF0ZXMgd2hlcmUgdGhlIGZpcnN0IGNvb3JkaW5hdGUgYW5kIHRoZSBsYXN0IGFyZVxuICAgKiAgICAgZXF1aXZhbGVudC4gKEZvciBpbnRlcm5hbCB1c2UsIGZsYXQgY29vcmRpbmF0ZXMgaW4gY29tYmluYXRpb24gd2l0aFxuICAgKiAgICAgYGxheW91dGAgYW5kIGBlbmRzYCBhcmUgYWxzbyBhY2NlcHRlZC4pXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dH0gW2xheW91dF0gTGF5b3V0LlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtlbmRzXSBFbmRzIChmb3IgaW50ZXJuYWwgdXNlIHdpdGggZmxhdCBjb29yZGluYXRlcykuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb29yZGluYXRlcywgbGF5b3V0LCBlbmRzKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5lbmRzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZmxhdEludGVyaW9yUG9pbnRSZXZpc2lvbl8gPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhEZWx0YV8gPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heERlbHRhUmV2aXNpb25fID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5vcmllbnRlZFJldmlzaW9uXyA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXyA9IG51bGw7XG5cbiAgICBpZiAobGF5b3V0ICE9PSB1bmRlZmluZWQgJiYgZW5kcykge1xuICAgICAgdGhpcy5zZXRGbGF0Q29vcmRpbmF0ZXMoXG4gICAgICAgIGxheW91dCxcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoY29vcmRpbmF0ZXMpXG4gICAgICApO1xuICAgICAgdGhpcy5lbmRzXyA9IGVuZHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0Q29vcmRpbmF0ZXMoXG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59ICovIChcbiAgICAgICAgICBjb29yZGluYXRlc1xuICAgICAgICApLFxuICAgICAgICBsYXlvdXRcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZCB0aGUgcGFzc2VkIGxpbmVhciByaW5nIHRvIHRoaXMgcG9seWdvbi5cbiAgICogQHBhcmFtIHtMaW5lYXJSaW5nfSBsaW5lYXJSaW5nIExpbmVhciByaW5nLlxuICAgKiBAYXBpXG4gICAqL1xuICBhcHBlbmRMaW5lYXJSaW5nKGxpbmVhclJpbmcpIHtcbiAgICBpZiAoIXRoaXMuZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IGxpbmVhclJpbmcuZ2V0RmxhdENvb3JkaW5hdGVzKCkuc2xpY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXh0ZW5kKHRoaXMuZmxhdENvb3JkaW5hdGVzLCBsaW5lYXJSaW5nLmdldEZsYXRDb29yZGluYXRlcygpKTtcbiAgICB9XG4gICAgdGhpcy5lbmRzXy5wdXNoKHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhIGNvbXBsZXRlIGNvcHkgb2YgdGhlIGdlb21ldHJ5LlxuICAgKiBAcmV0dXJuIHshUG9seWdvbn0gQ2xvbmUuXG4gICAqIEBhcGlcbiAgICovXG4gIGNsb25lKCkge1xuICAgIGNvbnN0IHBvbHlnb24gPSBuZXcgUG9seWdvbihcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKCksXG4gICAgICB0aGlzLmxheW91dCxcbiAgICAgIHRoaXMuZW5kc18uc2xpY2UoKVxuICAgICk7XG4gICAgcG9seWdvbi5hcHBseVByb3BlcnRpZXModGhpcyk7XG4gICAgcmV0dXJuIHBvbHlnb247XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gICAqL1xuICBjbG9zZXN0UG9pbnRYWSh4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgIGlmIChtaW5TcXVhcmVkRGlzdGFuY2UgPCBjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFkodGhpcy5nZXRFeHRlbnQoKSwgeCwgeSkpIHtcbiAgICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgfVxuICAgIGlmICh0aGlzLm1heERlbHRhUmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgdGhpcy5tYXhEZWx0YV8gPSBNYXRoLnNxcnQoXG4gICAgICAgIGFycmF5TWF4U3F1YXJlZERlbHRhKFxuICAgICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgdGhpcy5lbmRzXyxcbiAgICAgICAgICB0aGlzLnN0cmlkZSxcbiAgICAgICAgICAwXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0aGlzLm1heERlbHRhUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgIH1cbiAgICByZXR1cm4gYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyxcbiAgICAgIDAsXG4gICAgICB0aGlzLmVuZHNfLFxuICAgICAgdGhpcy5zdHJpZGUsXG4gICAgICB0aGlzLm1heERlbHRhXyxcbiAgICAgIHRydWUsXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIGNsb3Nlc3RQb2ludCxcbiAgICAgIG1pblNxdWFyZWREaXN0YW5jZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICAgKi9cbiAgY29udGFpbnNYWSh4LCB5KSB7XG4gICAgcmV0dXJuIGxpbmVhclJpbmdzQ29udGFpbnNYWShcbiAgICAgIHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSxcbiAgICAgIDAsXG4gICAgICB0aGlzLmVuZHNfLFxuICAgICAgdGhpcy5zdHJpZGUsXG4gICAgICB4LFxuICAgICAgeVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBhcmVhIG9mIHRoZSBwb2x5Z29uIG9uIHByb2plY3RlZCBwbGFuZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBBcmVhIChvbiBwcm9qZWN0ZWQgcGxhbmUpLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRBcmVhKCkge1xuICAgIHJldHVybiBsaW5lYXJSaW5nc0FyZWEoXG4gICAgICB0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCksXG4gICAgICAwLFxuICAgICAgdGhpcy5lbmRzXyxcbiAgICAgIHRoaXMuc3RyaWRlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvb3JkaW5hdGUgYXJyYXkgZm9yIHRoaXMgZ2VvbWV0cnkuICBUaGlzIGFycmF5IGhhcyB0aGUgc3RydWN0dXJlXG4gICAqIG9mIGEgR2VvSlNPTiBjb29yZGluYXRlIGFycmF5IGZvciBwb2x5Z29ucy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBbcmlnaHRdIE9yaWVudCBjb29yZGluYXRlcyBhY2NvcmRpbmcgdG8gdGhlIHJpZ2h0LWhhbmRcbiAgICogICAgIHJ1bGUgKGNvdW50ZXItY2xvY2t3aXNlIGZvciBleHRlcmlvciBhbmQgY2xvY2t3aXNlIGZvciBpbnRlcmlvciByaW5ncykuXG4gICAqICAgICBJZiBgZmFsc2VgLCBjb29yZGluYXRlcyB3aWxsIGJlIG9yaWVudGVkIGFjY29yZGluZyB0byB0aGUgbGVmdC1oYW5kIHJ1bGVcbiAgICogICAgIChjbG9ja3dpc2UgZm9yIGV4dGVyaW9yIGFuZCBjb3VudGVyLWNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLlxuICAgKiAgICAgQnkgZGVmYXVsdCwgY29vcmRpbmF0ZSBvcmllbnRhdGlvbiB3aWxsIGRlcGVuZCBvbiBob3cgdGhlIGdlb21ldHJ5IHdhc1xuICAgKiAgICAgY29uc3RydWN0ZWQuXG4gICAqIEByZXR1cm4ge0FycmF5PEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSBDb29yZGluYXRlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Q29vcmRpbmF0ZXMocmlnaHQpIHtcbiAgICBsZXQgZmxhdENvb3JkaW5hdGVzO1xuICAgIGlmIChyaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCkuc2xpY2UoKTtcbiAgICAgIG9yaWVudExpbmVhclJpbmdzKGZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUsIHJpZ2h0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZmxhdGVDb29yZGluYXRlc0FycmF5KGZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEVuZHMuXG4gICAqL1xuICBnZXRFbmRzKCkge1xuICAgIHJldHVybiB0aGlzLmVuZHNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEludGVyaW9yIHBvaW50LlxuICAgKi9cbiAgZ2V0RmxhdEludGVyaW9yUG9pbnQoKSB7XG4gICAgaWYgKHRoaXMuZmxhdEludGVyaW9yUG9pbnRSZXZpc2lvbl8gIT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICBjb25zdCBmbGF0Q2VudGVyID0gZ2V0Q2VudGVyKHRoaXMuZ2V0RXh0ZW50KCkpO1xuICAgICAgdGhpcy5mbGF0SW50ZXJpb3JQb2ludF8gPSBnZXRJbnRlcmlvclBvaW50T2ZBcnJheShcbiAgICAgICAgdGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLmVuZHNfLFxuICAgICAgICB0aGlzLnN0cmlkZSxcbiAgICAgICAgZmxhdENlbnRlcixcbiAgICAgICAgMFxuICAgICAgKTtcbiAgICAgIHRoaXMuZmxhdEludGVyaW9yUG9pbnRSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZsYXRJbnRlcmlvclBvaW50XztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYW4gaW50ZXJpb3IgcG9pbnQgb2YgdGhlIHBvbHlnb24uXG4gICAqIEByZXR1cm4ge1BvaW50fSBJbnRlcmlvciBwb2ludCBhcyBYWU0gY29vcmRpbmF0ZSwgd2hlcmUgTSBpcyB0aGVcbiAgICogbGVuZ3RoIG9mIHRoZSBob3Jpem9udGFsIGludGVyc2VjdGlvbiB0aGF0IHRoZSBwb2ludCBiZWxvbmdzIHRvLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRJbnRlcmlvclBvaW50KCkge1xuICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy5nZXRGbGF0SW50ZXJpb3JQb2ludCgpLCAnWFlNJyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBudW1iZXIgb2YgcmluZ3Mgb2YgdGhlIHBvbHlnb24sICB0aGlzIGluY2x1ZGVzIHRoZSBleHRlcmlvclxuICAgKiByaW5nIGFuZCBhbnkgaW50ZXJpb3IgcmluZ3MuXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIG9mIHJpbmdzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRMaW5lYXJSaW5nQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5kc18ubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgTnRoIGxpbmVhciByaW5nIG9mIHRoZSBwb2x5Z29uIGdlb21ldHJ5LiBSZXR1cm4gYG51bGxgIGlmIHRoZVxuICAgKiBnaXZlbiBpbmRleCBpcyBvdXQgb2YgcmFuZ2UuXG4gICAqIFRoZSBleHRlcmlvciBsaW5lYXIgcmluZyBpcyBhdmFpbGFibGUgYXQgaW5kZXggYDBgIGFuZCB0aGUgaW50ZXJpb3IgcmluZ3NcbiAgICogYXQgaW5kZXggYDFgIGFuZCBiZXlvbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleC5cbiAgICogQHJldHVybiB7TGluZWFyUmluZ3xudWxsfSBMaW5lYXIgcmluZy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TGluZWFyUmluZyhpbmRleCkge1xuICAgIGlmIChpbmRleCA8IDAgfHwgdGhpcy5lbmRzXy5sZW5ndGggPD0gaW5kZXgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IExpbmVhclJpbmcoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZShcbiAgICAgICAgaW5kZXggPT09IDAgPyAwIDogdGhpcy5lbmRzX1tpbmRleCAtIDFdLFxuICAgICAgICB0aGlzLmVuZHNfW2luZGV4XVxuICAgICAgKSxcbiAgICAgIHRoaXMubGF5b3V0XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGxpbmVhciByaW5ncyBvZiB0aGUgcG9seWdvbi5cbiAgICogQHJldHVybiB7QXJyYXk8TGluZWFyUmluZz59IExpbmVhciByaW5ncy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TGluZWFyUmluZ3MoKSB7XG4gICAgY29uc3QgbGF5b3V0ID0gdGhpcy5sYXlvdXQ7XG4gICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgY29uc3QgZW5kcyA9IHRoaXMuZW5kc187XG4gICAgY29uc3QgbGluZWFyUmluZ3MgPSBbXTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGNvbnN0IGVuZCA9IGVuZHNbaV07XG4gICAgICBjb25zdCBsaW5lYXJSaW5nID0gbmV3IExpbmVhclJpbmcoXG4gICAgICAgIGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQsIGVuZCksXG4gICAgICAgIGxheW91dFxuICAgICAgKTtcbiAgICAgIGxpbmVhclJpbmdzLnB1c2gobGluZWFyUmluZyk7XG4gICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBsaW5lYXJSaW5ncztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPcmllbnRlZCBmbGF0IGNvb3JkaW5hdGVzLlxuICAgKi9cbiAgZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSB7XG4gICAgaWYgKHRoaXMub3JpZW50ZWRSZXZpc2lvbl8gIT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICAgIGlmIChsaW5lYXJSaW5nc0FyZU9yaWVudGVkKGZsYXRDb29yZGluYXRlcywgMCwgdGhpcy5lbmRzXywgdGhpcy5zdHJpZGUpKSB7XG4gICAgICAgIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfID0gZmxhdENvb3JkaW5hdGVzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18gPSBmbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKTtcbiAgICAgICAgdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18ubGVuZ3RoID0gb3JpZW50TGluZWFyUmluZ3MoXG4gICAgICAgICAgdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18sXG4gICAgICAgICAgMCxcbiAgICAgICAgICB0aGlzLmVuZHNfLFxuICAgICAgICAgIHRoaXMuc3RyaWRlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLm9yaWVudGVkUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc187XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAqIEByZXR1cm4ge1BvbHlnb259IFNpbXBsaWZpZWQgUG9seWdvbi5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwoc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgIGNvbnN0IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICBjb25zdCBzaW1wbGlmaWVkRW5kcyA9IFtdO1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gcXVhbnRpemVBcnJheShcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLFxuICAgICAgMCxcbiAgICAgIHRoaXMuZW5kc18sXG4gICAgICB0aGlzLnN0cmlkZSxcbiAgICAgIE1hdGguc3FydChzcXVhcmVkVG9sZXJhbmNlKSxcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwLFxuICAgICAgc2ltcGxpZmllZEVuZHNcbiAgICApO1xuICAgIHJldHVybiBuZXcgUG9seWdvbihzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCAnWFknLCBzaW1wbGlmaWVkRW5kcyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0eXBlIG9mIHRoaXMgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuVHlwZX0gR2VvbWV0cnkgdHlwZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VHlwZSgpIHtcbiAgICByZXR1cm4gJ1BvbHlnb24nO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgcGFzc2VkIGV4dGVudCBpbnRlcnNlY3QuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gICAqIEBhcGlcbiAgICovXG4gIGludGVyc2VjdHNFeHRlbnQoZXh0ZW50KSB7XG4gICAgcmV0dXJuIGludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkoXG4gICAgICB0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCksXG4gICAgICAwLFxuICAgICAgdGhpcy5lbmRzXyxcbiAgICAgIHRoaXMuc3RyaWRlLFxuICAgICAgZXh0ZW50XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBwb2x5Z29uLlxuICAgKiBAcGFyYW0geyFBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dH0gW2xheW91dF0gTGF5b3V0LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRDb29yZGluYXRlcyhjb29yZGluYXRlcywgbGF5b3V0KSB7XG4gICAgdGhpcy5zZXRMYXlvdXQobGF5b3V0LCBjb29yZGluYXRlcywgMik7XG4gICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICB9XG4gICAgY29uc3QgZW5kcyA9IGRlZmxhdGVDb29yZGluYXRlc0FycmF5KFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwLFxuICAgICAgY29vcmRpbmF0ZXMsXG4gICAgICB0aGlzLnN0cmlkZSxcbiAgICAgIHRoaXMuZW5kc19cbiAgICApO1xuICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IGVuZHMubGVuZ3RoID09PSAwID8gMCA6IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2x5Z29uO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBhcHByb3hpbWF0aW9uIG9mIGEgY2lyY2xlIG9uIHRoZSBzdXJmYWNlIG9mIGEgc3BoZXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIgKGBbbG9uLCBsYXRdYCBpbiBkZWdyZWVzKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgVGhlIGdyZWF0LWNpcmNsZSBkaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgdG9cbiAqICAgICB0aGUgcG9seWdvbiB2ZXJ0aWNlcyBpbiBtZXRlcnMuXG4gKiBAcGFyYW0ge251bWJlcn0gW25dIE9wdGlvbmFsIG51bWJlciBvZiB2ZXJ0aWNlcyBmb3IgdGhlIHJlc3VsdGluZ1xuICogICAgIHBvbHlnb24uIERlZmF1bHQgaXMgYDMyYC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3BoZXJlUmFkaXVzXSBPcHRpb25hbCByYWRpdXMgZm9yIHRoZSBzcGhlcmUgKGRlZmF1bHRzIHRvXG4gKiAgICAgdGhlIEVhcnRoJ3MgbWVhbiByYWRpdXMgdXNpbmcgdGhlIFdHUzg0IGVsbGlwc29pZCkuXG4gKiBAcmV0dXJuIHtQb2x5Z29ufSBUaGUgXCJjaXJjdWxhclwiIHBvbHlnb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaXJjdWxhcihjZW50ZXIsIHJhZGl1cywgbiwgc3BoZXJlUmFkaXVzKSB7XG4gIG4gPSBuID8gbiA6IDMyO1xuICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgIGV4dGVuZChcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIHNwaGVyZU9mZnNldChjZW50ZXIsIHJhZGl1cywgKDIgKiBNYXRoLlBJICogaSkgLyBuLCBzcGhlcmVSYWRpdXMpXG4gICAgKTtcbiAgfVxuICBmbGF0Q29vcmRpbmF0ZXMucHVzaChmbGF0Q29vcmRpbmF0ZXNbMF0sIGZsYXRDb29yZGluYXRlc1sxXSk7XG4gIHJldHVybiBuZXcgUG9seWdvbihmbGF0Q29vcmRpbmF0ZXMsICdYWScsIFtmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoXSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgcG9seWdvbiBmcm9tIGFuIGV4dGVudC4gVGhlIGxheW91dCB1c2VkIGlzIGBYWWAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICogQHJldHVybiB7UG9seWdvbn0gVGhlIHBvbHlnb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXh0ZW50KGV4dGVudCkge1xuICBjb25zdCBtaW5YID0gZXh0ZW50WzBdO1xuICBjb25zdCBtaW5ZID0gZXh0ZW50WzFdO1xuICBjb25zdCBtYXhYID0gZXh0ZW50WzJdO1xuICBjb25zdCBtYXhZID0gZXh0ZW50WzNdO1xuICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBbXG4gICAgbWluWCxcbiAgICBtaW5ZLFxuICAgIG1pblgsXG4gICAgbWF4WSxcbiAgICBtYXhYLFxuICAgIG1heFksXG4gICAgbWF4WCxcbiAgICBtaW5ZLFxuICAgIG1pblgsXG4gICAgbWluWSxcbiAgXTtcbiAgcmV0dXJuIG5ldyBQb2x5Z29uKGZsYXRDb29yZGluYXRlcywgJ1hZJywgW2ZsYXRDb29yZGluYXRlcy5sZW5ndGhdKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSByZWd1bGFyIHBvbHlnb24gZnJvbSBhIGNpcmNsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9DaXJjbGUuanNcIikuZGVmYXVsdH0gY2lyY2xlIENpcmNsZSBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2lkZXNdIE51bWJlciBvZiBzaWRlcyBvZiB0aGUgcG9seWdvbi4gRGVmYXVsdCBpcyAzMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbYW5nbGVdIFN0YXJ0IGFuZ2xlIGZvciB0aGUgZmlyc3QgdmVydGV4IG9mIHRoZSBwb2x5Z29uIGluXG4gKiAgICAgY291bnRlci1jbG9ja3dpc2UgcmFkaWFucy4gMCBtZWFucyBFYXN0LiBEZWZhdWx0IGlzIDAuXG4gKiBAcmV0dXJuIHtQb2x5Z29ufSBQb2x5Z29uIGdlb21ldHJ5LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUNpcmNsZShjaXJjbGUsIHNpZGVzLCBhbmdsZSkge1xuICBzaWRlcyA9IHNpZGVzID8gc2lkZXMgOiAzMjtcbiAgY29uc3Qgc3RyaWRlID0gY2lyY2xlLmdldFN0cmlkZSgpO1xuICBjb25zdCBsYXlvdXQgPSBjaXJjbGUuZ2V0TGF5b3V0KCk7XG4gIGNvbnN0IGNlbnRlciA9IGNpcmNsZS5nZXRDZW50ZXIoKTtcbiAgY29uc3QgYXJyYXlMZW5ndGggPSBzdHJpZGUgKiAoc2lkZXMgKyAxKTtcbiAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gbmV3IEFycmF5KGFycmF5TGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheUxlbmd0aDsgaSArPSBzdHJpZGUpIHtcbiAgICBmbGF0Q29vcmRpbmF0ZXNbaV0gPSAwO1xuICAgIGZsYXRDb29yZGluYXRlc1tpICsgMV0gPSAwO1xuICAgIGZvciAobGV0IGogPSAyOyBqIDwgc3RyaWRlOyBqKyspIHtcbiAgICAgIGZsYXRDb29yZGluYXRlc1tpICsgal0gPSBjZW50ZXJbal07XG4gICAgfVxuICB9XG4gIGNvbnN0IGVuZHMgPSBbZmxhdENvb3JkaW5hdGVzLmxlbmd0aF07XG4gIGNvbnN0IHBvbHlnb24gPSBuZXcgUG9seWdvbihmbGF0Q29vcmRpbmF0ZXMsIGxheW91dCwgZW5kcyk7XG4gIG1ha2VSZWd1bGFyKHBvbHlnb24sIGNlbnRlciwgY2lyY2xlLmdldFJhZGl1cygpLCBhbmdsZSk7XG4gIHJldHVybiBwb2x5Z29uO1xufVxuXG4vKipcbiAqIE1vZGlmeSB0aGUgY29vcmRpbmF0ZXMgb2YgYSBwb2x5Z29uIHRvIG1ha2UgaXQgYSByZWd1bGFyIHBvbHlnb24uXG4gKiBAcGFyYW0ge1BvbHlnb259IHBvbHlnb24gUG9seWdvbiBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyIG9mIHRoZSByZWd1bGFyIHBvbHlnb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFJhZGl1cyBvZiB0aGUgcmVndWxhciBwb2x5Z29uLlxuICogQHBhcmFtIHtudW1iZXJ9IFthbmdsZV0gU3RhcnQgYW5nbGUgZm9yIHRoZSBmaXJzdCB2ZXJ0ZXggb2YgdGhlIHBvbHlnb24gaW5cbiAqICAgICBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zLiAwIG1lYW5zIEVhc3QuIERlZmF1bHQgaXMgMC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VSZWd1bGFyKHBvbHlnb24sIGNlbnRlciwgcmFkaXVzLCBhbmdsZSkge1xuICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBwb2x5Z29uLmdldEZsYXRDb29yZGluYXRlcygpO1xuICBjb25zdCBzdHJpZGUgPSBwb2x5Z29uLmdldFN0cmlkZSgpO1xuICBjb25zdCBzaWRlcyA9IGZsYXRDb29yZGluYXRlcy5sZW5ndGggLyBzdHJpZGUgLSAxO1xuICBjb25zdCBzdGFydEFuZ2xlID0gYW5nbGUgPyBhbmdsZSA6IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDw9IHNpZGVzOyArK2kpIHtcbiAgICBjb25zdCBvZmZzZXQgPSBpICogc3RyaWRlO1xuICAgIGNvbnN0IGFuZ2xlID0gc3RhcnRBbmdsZSArIChtb2R1bG8oaSwgc2lkZXMpICogMiAqIE1hdGguUEkpIC8gc2lkZXM7XG4gICAgZmxhdENvb3JkaW5hdGVzW29mZnNldF0gPSBjZW50ZXJbMF0gKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSk7XG4gICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdID0gY2VudGVyWzFdICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpO1xuICB9XG4gIHBvbHlnb24uY2hhbmdlZCgpO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vR2VvbWV0cnlcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCB7YWJzdHJhY3R9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHtcbiAgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLFxuICBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLFxufSBmcm9tICcuLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlRW1wdHksXG4gIGNyZWF0ZU9yVXBkYXRlRW1wdHksXG4gIGdldEhlaWdodCxcbiAgcmV0dXJuT3JVcGRhdGUsXG59IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2dldCBhcyBnZXRQcm9qZWN0aW9uLCBnZXRUcmFuc2Zvcm19IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IHttZW1vaXplT25lfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHt0cmFuc2Zvcm0yRH0gZnJvbSAnLi9mbGF0L3RyYW5zZm9ybS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYgeydYWScgfCAnWFlaJyB8ICdYWU0nIHwgJ1hZWk0nfSBHZW9tZXRyeUxheW91dFxuICogVGhlIGNvb3JkaW5hdGUgbGF5b3V0IGZvciBnZW9tZXRyaWVzLCBpbmRpY2F0aW5nIHdoZXRoZXIgYSAzcmQgb3IgNHRoIHogKCdaJylcbiAqIG9yIG1lYXN1cmUgKCdNJykgY29vcmRpbmF0ZSBpcyBhdmFpbGFibGUuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7J1BvaW50JyB8ICdMaW5lU3RyaW5nJyB8ICdMaW5lYXJSaW5nJyB8ICdQb2x5Z29uJyB8ICdNdWx0aVBvaW50JyB8ICdNdWx0aUxpbmVTdHJpbmcnIHwgJ011bHRpUG9seWdvbicgfCAnR2VvbWV0cnlDb2xsZWN0aW9uJyB8ICdDaXJjbGUnfSBUeXBlXG4gKiBUaGUgZ2VvbWV0cnkgdHlwZS4gIE9uZSBvZiBgJ1BvaW50J2AsIGAnTGluZVN0cmluZydgLCBgJ0xpbmVhclJpbmcnYCxcbiAqIGAnUG9seWdvbidgLCBgJ011bHRpUG9pbnQnYCwgYCdNdWx0aUxpbmVTdHJpbmcnYCwgYCdNdWx0aVBvbHlnb24nYCxcbiAqIGAnR2VvbWV0cnlDb2xsZWN0aW9uJ2AsIG9yIGAnQ2lyY2xlJ2AuXG4gKi9cblxuLyoqXG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAqL1xuY29uc3QgdG1wVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogQmFzZSBjbGFzcyBmb3IgdmVjdG9yIGdlb21ldHJpZXMuXG4gKlxuICogVG8gZ2V0IG5vdGlmaWVkIG9mIGNoYW5nZXMgdG8gdGhlIGdlb21ldHJ5LCByZWdpc3RlciBhIGxpc3RlbmVyIGZvciB0aGVcbiAqIGdlbmVyaWMgYGNoYW5nZWAgZXZlbnQgb24geW91ciBnZW9tZXRyeSBpbnN0YW5jZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBhcGlcbiAqL1xuY2xhc3MgR2VvbWV0cnkgZXh0ZW5kcyBCYXNlT2JqZWN0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy5leHRlbnRfID0gY3JlYXRlRW1wdHkoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudFJldmlzaW9uXyA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5UmV2aXNpb24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogR2V0IGEgdHJhbnNmb3JtZWQgYW5kIHNpbXBsaWZpZWQgdmVyc2lvbiBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJldmlzaW9uIFRoZSBnZW9tZXRyeSByZXZpc2lvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IFt0cmFuc2Zvcm1dIE9wdGlvbmFsIHRyYW5zZm9ybSBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtHZW9tZXRyeX0gU2ltcGxpZmllZCBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICB0aGlzLnNpbXBsaWZ5VHJhbnNmb3JtZWRJbnRlcm5hbCA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKFxuICAgICAgcmV2aXNpb24sXG4gICAgICBzcXVhcmVkVG9sZXJhbmNlLFxuICAgICAgdHJhbnNmb3JtXG4gICAgKSB7XG4gICAgICBpZiAoIXRyYW5zZm9ybSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTaW1wbGlmaWVkR2VvbWV0cnkoc3F1YXJlZFRvbGVyYW5jZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBjbG9uZSA9IHRoaXMuY2xvbmUoKTtcbiAgICAgIGNsb25lLmFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybSk7XG4gICAgICByZXR1cm4gY2xvbmUuZ2V0U2ltcGxpZmllZEdlb21ldHJ5KHNxdWFyZWRUb2xlcmFuY2UpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHRyYW5zZm9ybWVkIGFuZCBzaW1wbGlmaWVkIHZlcnNpb24gb2YgdGhlIGdlb21ldHJ5LlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gW3RyYW5zZm9ybV0gT3B0aW9uYWwgdHJhbnNmb3JtIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIHtHZW9tZXRyeX0gU2ltcGxpZmllZCBnZW9tZXRyeS5cbiAgICovXG4gIHNpbXBsaWZ5VHJhbnNmb3JtZWQoc3F1YXJlZFRvbGVyYW5jZSwgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIHRoaXMuc2ltcGxpZnlUcmFuc2Zvcm1lZEludGVybmFsKFxuICAgICAgdGhpcy5nZXRSZXZpc2lvbigpLFxuICAgICAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICAgIHRyYW5zZm9ybVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhIGNvbXBsZXRlIGNvcHkgb2YgdGhlIGdlb21ldHJ5LlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7IUdlb21ldHJ5fSBDbG9uZS5cbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICovXG4gIGNsb3Nlc3RQb2ludFhZKHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICAgKi9cbiAgY29udGFpbnNYWSh4LCB5KSB7XG4gICAgY29uc3QgY29vcmQgPSB0aGlzLmdldENsb3Nlc3RQb2ludChbeCwgeV0pO1xuICAgIHJldHVybiBjb29yZFswXSA9PT0geCAmJiBjb29yZFsxXSA9PT0geTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGNsb3Nlc3QgcG9pbnQgb2YgdGhlIGdlb21ldHJ5IHRvIHRoZSBwYXNzZWQgcG9pbnQgYXNcbiAgICoge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGUgY29vcmRpbmF0ZX0uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwb2ludCBQb2ludC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtjbG9zZXN0UG9pbnRdIENsb3Nlc3QgcG9pbnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ2xvc2VzdCBwb2ludC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Q2xvc2VzdFBvaW50KHBvaW50LCBjbG9zZXN0UG9pbnQpIHtcbiAgICBjbG9zZXN0UG9pbnQgPSBjbG9zZXN0UG9pbnQgPyBjbG9zZXN0UG9pbnQgOiBbTmFOLCBOYU5dO1xuICAgIHRoaXMuY2xvc2VzdFBvaW50WFkocG9pbnRbMF0sIHBvaW50WzFdLCBjbG9zZXN0UG9pbnQsIEluZmluaXR5KTtcbiAgICByZXR1cm4gY2xvc2VzdFBvaW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGdlb21ldHJ5IGluY2x1ZGVzIHRoZSBzcGVjaWZpZWQgY29vcmRpbmF0ZS4gSWYgdGhlXG4gICAqIGNvb3JkaW5hdGUgaXMgb24gdGhlIGJvdW5kYXJ5IG9mIHRoZSBnZW9tZXRyeSwgcmV0dXJucyBmYWxzZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgY29vcmRpbmF0ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgaW50ZXJzZWN0c0Nvb3JkaW5hdGUoY29vcmRpbmF0ZSkge1xuICAgIHJldHVybiB0aGlzLmNvbnRhaW5zWFkoY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXSk7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKi9cbiAgY29tcHV0ZUV4dGVudChleHRlbnQpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGV4dGVudCBvZiB0aGUgZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gRXh0ZW50LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRFeHRlbnQoZXh0ZW50KSB7XG4gICAgaWYgKHRoaXMuZXh0ZW50UmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgY29uc3QgZXh0ZW50ID0gdGhpcy5jb21wdXRlRXh0ZW50KHRoaXMuZXh0ZW50Xyk7XG4gICAgICBpZiAoaXNOYU4oZXh0ZW50WzBdKSB8fCBpc05hTihleHRlbnRbMV0pKSB7XG4gICAgICAgIGNyZWF0ZU9yVXBkYXRlRW1wdHkoZXh0ZW50KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZXh0ZW50UmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0dXJuT3JVcGRhdGUodGhpcy5leHRlbnRfLCBleHRlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZSB0aGUgZ2VvbWV0cnkgYXJvdW5kIGEgZ2l2ZW4gY29vcmRpbmF0ZS4gVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnlcbiAgICogY29vcmRpbmF0ZXMgaW4gcGxhY2UuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgUm90YXRpb24gYW5nbGUgaW4gcmFkaWFucy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGFuY2hvciBUaGUgcm90YXRpb24gY2VudGVyLlxuICAgKiBAYXBpXG4gICAqL1xuICByb3RhdGUoYW5nbGUsIGFuY2hvcikge1xuICAgIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGUgdGhlIGdlb21ldHJ5ICh3aXRoIGFuIG9wdGlvbmFsIG9yaWdpbikuICBUaGlzIG1vZGlmaWVzIHRoZSBnZW9tZXRyeVxuICAgKiBjb29yZGluYXRlcyBpbiBwbGFjZS5cbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzeCBUaGUgc2NhbGluZyBmYWN0b3IgaW4gdGhlIHgtZGlyZWN0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3N5XSBUaGUgc2NhbGluZyBmYWN0b3IgaW4gdGhlIHktZGlyZWN0aW9uIChkZWZhdWx0cyB0byBzeCkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBUaGUgc2NhbGUgb3JpZ2luIChkZWZhdWx0cyB0byB0aGUgY2VudGVyXG4gICAqICAgICBvZiB0aGUgZ2VvbWV0cnkgZXh0ZW50KS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2NhbGUoc3gsIHN5LCBhbmNob3IpIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHNpbXBsaWZpZWQgdmVyc2lvbiBvZiB0aGlzIGdlb21ldHJ5LiAgRm9yIGxpbmVzdHJpbmdzLCB0aGlzIHVzZXNcbiAgICogdGhlIFtEb3VnbGFzIFBldWNrZXJdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JhbWVyLURvdWdsYXMtUGV1Y2tlcl9hbGdvcml0aG0pXG4gICAqIGFsZ29yaXRobS4gIEZvciBwb2x5Z29ucywgYSBxdWFudGl6YXRpb24tYmFzZWRcbiAgICogc2ltcGxpZmljYXRpb24gaXMgdXNlZCB0byBwcmVzZXJ2ZSB0b3BvbG9neS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUaGUgdG9sZXJhbmNlIGRpc3RhbmNlIGZvciBzaW1wbGlmaWNhdGlvbi5cbiAgICogQHJldHVybiB7R2VvbWV0cnl9IEEgbmV3LCBzaW1wbGlmaWVkIHZlcnNpb24gb2YgdGhlIG9yaWdpbmFsIGdlb21ldHJ5LlxuICAgKiBAYXBpXG4gICAqL1xuICBzaW1wbGlmeSh0b2xlcmFuY2UpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTaW1wbGlmaWVkR2VvbWV0cnkodG9sZXJhbmNlICogdG9sZXJhbmNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBzaW1wbGlmaWVkIHZlcnNpb24gb2YgdGhpcyBnZW9tZXRyeSB1c2luZyB0aGUgRG91Z2xhcyBQZXVja2VyXG4gICAqIGFsZ29yaXRobS5cbiAgICogU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JhbWVyLURvdWdsYXMtUGV1Y2tlcl9hbGdvcml0aG0uXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICogQHJldHVybiB7R2VvbWV0cnl9IFNpbXBsaWZpZWQgZ2VvbWV0cnkuXG4gICAqL1xuICBnZXRTaW1wbGlmaWVkR2VvbWV0cnkoc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdHlwZSBvZiB0aGlzIGdlb21ldHJ5LlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7VHlwZX0gR2VvbWV0cnkgdHlwZS5cbiAgICovXG4gIGdldFR5cGUoKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gdG8gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBnZW9tZXRyeS5cbiAgICogVGhlIGdlb21ldHJ5IGlzIG1vZGlmaWVkIGluIHBsYWNlLlxuICAgKiBJZiB5b3UgZG8gbm90IHdhbnQgdGhlIGdlb21ldHJ5IG1vZGlmaWVkIGluIHBsYWNlLCBmaXJzdCBgY2xvbmUoKWAgaXQgYW5kXG4gICAqIHRoZW4gdXNlIHRoaXMgZnVuY3Rpb24gb24gdGhlIGNsb25lLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSB0cmFuc2Zvcm1GbiBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gICAqIENhbGxlZCB3aXRoIGEgZmxhdCBhcnJheSBvZiBnZW9tZXRyeSBjb29yZGluYXRlcy5cbiAgICovXG4gIGFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybUZuKSB7XG4gICAgYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIHBhc3NlZCBleHRlbnQgaW50ZXJzZWN0LlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAgICovXG4gIGludGVyc2VjdHNFeHRlbnQoZXh0ZW50KSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNsYXRlIHRoZSBnZW9tZXRyeS4gIFRoaXMgbW9kaWZpZXMgdGhlIGdlb21ldHJ5IGNvb3JkaW5hdGVzIGluIHBsYWNlLiAgSWZcbiAgICogaW5zdGVhZCB5b3Ugd2FudCBhIG5ldyBnZW9tZXRyeSwgZmlyc3QgYGNsb25lKClgIHRoaXMgZ2VvbWV0cnkuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFYIERlbHRhIFguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVkgRGVsdGEgWS5cbiAgICogQGFwaVxuICAgKi9cbiAgdHJhbnNsYXRlKGRlbHRhWCwgZGVsdGFZKSB7XG4gICAgYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2Zvcm0gZWFjaCBjb29yZGluYXRlIG9mIHRoZSBnZW9tZXRyeSBmcm9tIG9uZSBjb29yZGluYXRlIHJlZmVyZW5jZVxuICAgKiBzeXN0ZW0gdG8gYW5vdGhlci4gVGhlIGdlb21ldHJ5IGlzIG1vZGlmaWVkIGluIHBsYWNlLlxuICAgKiBGb3IgZXhhbXBsZSwgYSBsaW5lIHdpbGwgYmUgdHJhbnNmb3JtZWQgdG8gYSBsaW5lIGFuZCBhIGNpcmNsZSB0byBhIGNpcmNsZS5cbiAgICogSWYgeW91IGRvIG5vdCB3YW50IHRoZSBnZW9tZXRyeSBtb2RpZmllZCBpbiBwbGFjZSwgZmlyc3QgYGNsb25lKClgIGl0IGFuZFxuICAgKiB0aGVuIHVzZSB0aGlzIGZ1bmN0aW9uIG9uIHRoZSBjbG9uZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBzb3VyY2UgVGhlIGN1cnJlbnQgcHJvamVjdGlvbi4gIENhbiBiZSBhXG4gICAqICAgICBzdHJpbmcgaWRlbnRpZmllciBvciBhIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IG9iamVjdC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBUaGUgZGVzaXJlZCBwcm9qZWN0aW9uLiAgQ2FuIGJlIGFcbiAgICogICAgIHN0cmluZyBpZGVudGlmaWVyIG9yIGEge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb25+UHJvamVjdGlvbn0gb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtHZW9tZXRyeX0gVGhpcyBnZW9tZXRyeS4gIE5vdGUgdGhhdCBvcmlnaW5hbCBnZW9tZXRyeSBpc1xuICAgKiAgICAgbW9kaWZpZWQgaW4gcGxhY2UuXG4gICAqIEBhcGlcbiAgICovXG4gIHRyYW5zZm9ybShzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gKi9cbiAgICBjb25zdCBzb3VyY2VQcm9qID0gZ2V0UHJvamVjdGlvbihzb3VyY2UpO1xuICAgIGNvbnN0IHRyYW5zZm9ybUZuID1cbiAgICAgIHNvdXJjZVByb2ouZ2V0VW5pdHMoKSA9PSAndGlsZS1waXhlbHMnXG4gICAgICAgID8gZnVuY3Rpb24gKGluQ29vcmRpbmF0ZXMsIG91dENvb3JkaW5hdGVzLCBzdHJpZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBpeGVsRXh0ZW50ID0gc291cmNlUHJvai5nZXRFeHRlbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RlZEV4dGVudCA9IHNvdXJjZVByb2ouZ2V0V29ybGRFeHRlbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gZ2V0SGVpZ2h0KHByb2plY3RlZEV4dGVudCkgLyBnZXRIZWlnaHQocGl4ZWxFeHRlbnQpO1xuICAgICAgICAgICAgY29tcG9zZVRyYW5zZm9ybShcbiAgICAgICAgICAgICAgdG1wVHJhbnNmb3JtLFxuICAgICAgICAgICAgICBwcm9qZWN0ZWRFeHRlbnRbMF0sXG4gICAgICAgICAgICAgIHByb2plY3RlZEV4dGVudFszXSxcbiAgICAgICAgICAgICAgc2NhbGUsXG4gICAgICAgICAgICAgIC1zY2FsZSxcbiAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTJEKFxuICAgICAgICAgICAgICBpbkNvb3JkaW5hdGVzLFxuICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICBpbkNvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgICAgICAgICAgc3RyaWRlLFxuICAgICAgICAgICAgICB0bXBUcmFuc2Zvcm0sXG4gICAgICAgICAgICAgIG91dENvb3JkaW5hdGVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIGdldFRyYW5zZm9ybShzb3VyY2VQcm9qLCBkZXN0aW5hdGlvbikoXG4gICAgICAgICAgICAgIGluQ29vcmRpbmF0ZXMsXG4gICAgICAgICAgICAgIG91dENvb3JkaW5hdGVzLFxuICAgICAgICAgICAgICBzdHJpZGVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICA6IGdldFRyYW5zZm9ybShzb3VyY2VQcm9qLCBkZXN0aW5hdGlvbik7XG4gICAgdGhpcy5hcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm1Gbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR2VvbWV0cnk7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9TaW1wbGVHZW9tZXRyeVxuICovXG5pbXBvcnQgR2VvbWV0cnkgZnJvbSAnLi9HZW9tZXRyeS5qcyc7XG5pbXBvcnQge2Fic3RyYWN0fSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7Y3JlYXRlT3JVcGRhdGVGcm9tRmxhdENvb3JkaW5hdGVzLCBnZXRDZW50ZXJ9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge3JvdGF0ZSwgc2NhbGUsIHRyYW5zZm9ybTJELCB0cmFuc2xhdGV9IGZyb20gJy4vZmxhdC90cmFuc2Zvcm0uanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlczsgZG8gbm90IGluc3RhbnRpYXRlXG4gKiBpbiBhcHBzLCBhcyBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbmNsYXNzIFNpbXBsZUdlb21ldHJ5IGV4dGVuZHMgR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0fVxuICAgICAqL1xuICAgIHRoaXMubGF5b3V0ID0gJ1hZJztcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuc3RyaWRlID0gMjtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqL1xuICBjb21wdXRlRXh0ZW50KGV4dGVudCkge1xuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZUZyb21GbGF0Q29vcmRpbmF0ZXMoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyxcbiAgICAgIDAsXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgICB0aGlzLnN0cmlkZSxcbiAgICAgIGV4dGVudFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge0FycmF5PCo+IHwgbnVsbH0gQ29vcmRpbmF0ZXMuXG4gICAqL1xuICBnZXRDb29yZGluYXRlcygpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGZpcnN0IGNvb3JkaW5hdGUgb2YgdGhlIGdlb21ldHJ5LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IEZpcnN0IGNvb3JkaW5hdGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEZpcnN0Q29vcmRpbmF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoMCwgdGhpcy5zdHJpZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqL1xuICBnZXRGbGF0Q29vcmRpbmF0ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbGFzdCBjb29yZGluYXRlIG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBMYXN0IHBvaW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRMYXN0Q29vcmRpbmF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGggLSB0aGlzLnN0cmlkZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSB7QGxpbmsgaW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dCBsYXlvdXR9IG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dH0gTGF5b3V0LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRMYXlvdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMubGF5b3V0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHNpbXBsaWZpZWQgdmVyc2lvbiBvZiB0aGlzIGdlb21ldHJ5IHVzaW5nIHRoZSBEb3VnbGFzIFBldWNrZXIgYWxnb3JpdGhtLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICogQHJldHVybiB7U2ltcGxlR2VvbWV0cnl9IFNpbXBsaWZpZWQgZ2VvbWV0cnkuXG4gICAqL1xuICBnZXRTaW1wbGlmaWVkR2VvbWV0cnkoc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgIGlmICh0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeVJldmlzaW9uICE9PSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgIHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSA9IDA7XG4gICAgICB0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeVJldmlzaW9uID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgIH1cbiAgICAvLyBJZiBzcXVhcmVkVG9sZXJhbmNlIGlzIG5lZ2F0aXZlIG9yIGlmIHdlIGtub3cgdGhhdCBzaW1wbGlmaWNhdGlvbiB3aWxsIG5vdFxuICAgIC8vIGhhdmUgYW55IGVmZmVjdCB0aGVuIGp1c3QgcmV0dXJuIHRoaXMuXG4gICAgaWYgKFxuICAgICAgc3F1YXJlZFRvbGVyYW5jZSA8IDAgfHxcbiAgICAgICh0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeU1heE1pblNxdWFyZWRUb2xlcmFuY2UgIT09IDAgJiZcbiAgICAgICAgc3F1YXJlZFRvbGVyYW5jZSA8PSB0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeU1heE1pblNxdWFyZWRUb2xlcmFuY2UpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjb25zdCBzaW1wbGlmaWVkR2VvbWV0cnkgPVxuICAgICAgdGhpcy5nZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbChzcXVhcmVkVG9sZXJhbmNlKTtcbiAgICBjb25zdCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID0gc2ltcGxpZmllZEdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGlmIChzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLmxlbmd0aCA8IHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHNpbXBsaWZpZWRHZW9tZXRyeTtcbiAgICB9XG4gICAgLy8gU2ltcGxpZmljYXRpb24gZGlkIG5vdCBhY3R1YWxseSByZW1vdmUgYW55IGNvb3JkaW5hdGVzLiAgV2Ugbm93IGtub3dcbiAgICAvLyB0aGF0IGFueSBjYWxscyB0byBnZXRTaW1wbGlmaWVkR2VvbWV0cnkgd2l0aCBhIHNxdWFyZWRUb2xlcmFuY2UgbGVzc1xuICAgIC8vIHRoYW4gb3IgZXF1YWwgdG8gdGhlIGN1cnJlbnQgc3F1YXJlZFRvbGVyYW5jZSB3aWxsIGFsc28gbm90IGhhdmUgYW55XG4gICAgLy8gZWZmZWN0LiAgVGhpcyBhbGxvd3MgdXMgdG8gc2hvcnQgY2lyY3VpdCBzaW1wbGlmaWNhdGlvbiAoc2F2aW5nIENQVVxuICAgIC8vIGN5Y2xlcykgYW5kIHByZXZlbnRzIHRoZSBjYWNoZSBvZiBzaW1wbGlmaWVkIGdlb21ldHJpZXMgZnJvbSBmaWxsaW5nXG4gICAgLy8gdXAgd2l0aCB1c2VsZXNzIGlkZW50aWNhbCBjb3BpZXMgb2YgdGhpcyBnZW9tZXRyeSAoc2F2aW5nIG1lbW9yeSkuXG4gICAgdGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlID0gc3F1YXJlZFRvbGVyYW5jZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICogQHJldHVybiB7U2ltcGxlR2VvbWV0cnl9IFNpbXBsaWZpZWQgZ2VvbWV0cnkuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGdldFNpbXBsaWZpZWRHZW9tZXRyeUludGVybmFsKHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFN0cmlkZS5cbiAgICovXG4gIGdldFN0cmlkZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdHJpZGU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0fSBsYXlvdXQgTGF5b3V0LlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKi9cbiAgc2V0RmxhdENvb3JkaW5hdGVzKGxheW91dCwgZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgdGhpcy5zdHJpZGUgPSBnZXRTdHJpZGVGb3JMYXlvdXQobGF5b3V0KTtcbiAgICB0aGlzLmxheW91dCA9IGxheW91dDtcbiAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IGZsYXRDb29yZGluYXRlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHshQXJyYXk8Kj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXR9IFtsYXlvdXRdIExheW91dC5cbiAgICovXG4gIHNldENvb3JkaW5hdGVzKGNvb3JkaW5hdGVzLCBsYXlvdXQpIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dHx1bmRlZmluZWR9IGxheW91dCBMYXlvdXQuXG4gICAqIEBwYXJhbSB7QXJyYXk8Kj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbmVzdGluZyBOZXN0aW5nLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzZXRMYXlvdXQobGF5b3V0LCBjb29yZGluYXRlcywgbmVzdGluZykge1xuICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICAgIGxldCBzdHJpZGU7XG4gICAgaWYgKGxheW91dCkge1xuICAgICAgc3RyaWRlID0gZ2V0U3RyaWRlRm9yTGF5b3V0KGxheW91dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVzdGluZzsgKytpKSB7XG4gICAgICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLmxheW91dCA9ICdYWSc7XG4gICAgICAgICAgdGhpcy5zdHJpZGUgPSAyO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7QXJyYXl9ICovIChjb29yZGluYXRlc1swXSk7XG4gICAgICB9XG4gICAgICBzdHJpZGUgPSBjb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICBsYXlvdXQgPSBnZXRMYXlvdXRGb3JTdHJpZGUoc3RyaWRlKTtcbiAgICB9XG4gICAgdGhpcy5sYXlvdXQgPSBsYXlvdXQ7XG4gICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gdG8gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBnZW9tZXRyeS5cbiAgICogVGhlIGdlb21ldHJ5IGlzIG1vZGlmaWVkIGluIHBsYWNlLlxuICAgKiBJZiB5b3UgZG8gbm90IHdhbnQgdGhlIGdlb21ldHJ5IG1vZGlmaWVkIGluIHBsYWNlLCBmaXJzdCBgY2xvbmUoKWAgaXQgYW5kXG4gICAqIHRoZW4gdXNlIHRoaXMgZnVuY3Rpb24gb24gdGhlIGNsb25lLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IHRyYW5zZm9ybUZuIFRyYW5zZm9ybSBmdW5jdGlvbi5cbiAgICogQ2FsbGVkIHdpdGggYSBmbGF0IGFycmF5IG9mIGdlb21ldHJ5IGNvb3JkaW5hdGVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBhcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm1Gbikge1xuICAgIGlmICh0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgdHJhbnNmb3JtRm4odGhpcy5mbGF0Q29vcmRpbmF0ZXMsIHRoaXMuZmxhdENvb3JkaW5hdGVzLCB0aGlzLnN0cmlkZSk7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUm90YXRlIHRoZSBnZW9tZXRyeSBhcm91bmQgYSBnaXZlbiBjb29yZGluYXRlLiBUaGlzIG1vZGlmaWVzIHRoZSBnZW9tZXRyeVxuICAgKiBjb29yZGluYXRlcyBpbiBwbGFjZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIFJvdGF0aW9uIGFuZ2xlIGluIGNvdW50ZXItY2xvY2t3aXNlIHJhZGlhbnMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhbmNob3IgVGhlIHJvdGF0aW9uIGNlbnRlci5cbiAgICogQGFwaVxuICAgKi9cbiAgcm90YXRlKGFuZ2xlLCBhbmNob3IpIHtcbiAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGlmIChmbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgIGNvbnN0IHN0cmlkZSA9IHRoaXMuZ2V0U3RyaWRlKCk7XG4gICAgICByb3RhdGUoXG4gICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgMCxcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgICAgc3RyaWRlLFxuICAgICAgICBhbmdsZSxcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNcbiAgICAgICk7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2NhbGUgdGhlIGdlb21ldHJ5ICh3aXRoIGFuIG9wdGlvbmFsIG9yaWdpbikuICBUaGlzIG1vZGlmaWVzIHRoZSBnZW9tZXRyeVxuICAgKiBjb29yZGluYXRlcyBpbiBwbGFjZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN4IFRoZSBzY2FsaW5nIGZhY3RvciBpbiB0aGUgeC1kaXJlY3Rpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc3ldIFRoZSBzY2FsaW5nIGZhY3RvciBpbiB0aGUgeS1kaXJlY3Rpb24gKGRlZmF1bHRzIHRvIHN4KS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFthbmNob3JdIFRoZSBzY2FsZSBvcmlnaW4gKGRlZmF1bHRzIHRvIHRoZSBjZW50ZXJcbiAgICogICAgIG9mIHRoZSBnZW9tZXRyeSBleHRlbnQpLlxuICAgKiBAYXBpXG4gICAqL1xuICBzY2FsZShzeCwgc3ksIGFuY2hvcikge1xuICAgIGlmIChzeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzeSA9IHN4O1xuICAgIH1cbiAgICBpZiAoIWFuY2hvcikge1xuICAgICAgYW5jaG9yID0gZ2V0Q2VudGVyKHRoaXMuZ2V0RXh0ZW50KCkpO1xuICAgIH1cbiAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGlmIChmbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgIGNvbnN0IHN0cmlkZSA9IHRoaXMuZ2V0U3RyaWRlKCk7XG4gICAgICBzY2FsZShcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAwLFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgICBzdHJpZGUsXG4gICAgICAgIHN4LFxuICAgICAgICBzeSxcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNcbiAgICAgICk7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNsYXRlIHRoZSBnZW9tZXRyeS4gIFRoaXMgbW9kaWZpZXMgdGhlIGdlb21ldHJ5IGNvb3JkaW5hdGVzIGluIHBsYWNlLiAgSWZcbiAgICogaW5zdGVhZCB5b3Ugd2FudCBhIG5ldyBnZW9tZXRyeSwgZmlyc3QgYGNsb25lKClgIHRoaXMgZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVggRGVsdGEgWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhWSBEZWx0YSBZLlxuICAgKiBAYXBpXG4gICAqL1xuICB0cmFuc2xhdGUoZGVsdGFYLCBkZWx0YVkpIHtcbiAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGlmIChmbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgIGNvbnN0IHN0cmlkZSA9IHRoaXMuZ2V0U3RyaWRlKCk7XG4gICAgICB0cmFuc2xhdGUoXG4gICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgMCxcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgICAgc3RyaWRlLFxuICAgICAgICBkZWx0YVgsXG4gICAgICAgIGRlbHRhWSxcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzXG4gICAgICApO1xuICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0fSBsYXlvdXQgTGF5b3V0LlxuICovXG5mdW5jdGlvbiBnZXRMYXlvdXRGb3JTdHJpZGUoc3RyaWRlKSB7XG4gIGxldCBsYXlvdXQ7XG4gIGlmIChzdHJpZGUgPT0gMikge1xuICAgIGxheW91dCA9ICdYWSc7XG4gIH0gZWxzZSBpZiAoc3RyaWRlID09IDMpIHtcbiAgICBsYXlvdXQgPSAnWFlaJztcbiAgfSBlbHNlIGlmIChzdHJpZGUgPT0gNCkge1xuICAgIGxheW91dCA9ICdYWVpNJztcbiAgfVxuICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0fSAqLyAobGF5b3V0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXR9IGxheW91dCBMYXlvdXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFN0cmlkZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0cmlkZUZvckxheW91dChsYXlvdXQpIHtcbiAgbGV0IHN0cmlkZTtcbiAgaWYgKGxheW91dCA9PSAnWFknKSB7XG4gICAgc3RyaWRlID0gMjtcbiAgfSBlbHNlIGlmIChsYXlvdXQgPT0gJ1hZWicgfHwgbGF5b3V0ID09ICdYWU0nKSB7XG4gICAgc3RyaWRlID0gMztcbiAgfSBlbHNlIGlmIChsYXlvdXQgPT0gJ1hZWk0nKSB7XG4gICAgc3RyaWRlID0gNDtcbiAgfVxuICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChzdHJpZGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U2ltcGxlR2VvbWV0cnl9IHNpbXBsZUdlb21ldHJ5IFNpbXBsZSBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2Rlc3RdIERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgZmxhdCBjb29yZGluYXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUdlb20yRChzaW1wbGVHZW9tZXRyeSwgdHJhbnNmb3JtLCBkZXN0KSB7XG4gIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHNpbXBsZUdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICBpZiAoIWZsYXRDb29yZGluYXRlcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHN0cmlkZSA9IHNpbXBsZUdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICByZXR1cm4gdHJhbnNmb3JtMkQoXG4gICAgZmxhdENvb3JkaW5hdGVzLFxuICAgIDAsXG4gICAgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICBzdHJpZGUsXG4gICAgdHJhbnNmb3JtLFxuICAgIGRlc3RcbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2ltcGxlR2VvbWV0cnk7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2NvbnRhaW5zXG4gKi9cbmltcG9ydCB7Zm9yRWFjaENvcm5lcn0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgZXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ0NvbnRhaW5zRXh0ZW50KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIGV4dGVudFxuKSB7XG4gIGNvbnN0IG91dHNpZGUgPSBmb3JFYWNoQ29ybmVyKFxuICAgIGV4dGVudCxcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoY29vcmRpbmF0ZSkge1xuICAgICAgcmV0dXJuICFsaW5lYXJSaW5nQ29udGFpbnNYWShcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGVuZCxcbiAgICAgICAgc3RyaWRlLFxuICAgICAgICBjb29yZGluYXRlWzBdLFxuICAgICAgICBjb29yZGluYXRlWzFdXG4gICAgICApO1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuICFvdXRzaWRlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdDb250YWluc1hZKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIHgsXG4gIHlcbikge1xuICAvLyBodHRwczovL2dlb21hbGdvcml0aG1zLmNvbS9hMDMtX2luY2x1c2lvbi5odG1sXG4gIC8vIENvcHlyaWdodCAyMDAwIHNvZnRTdXJmZXIsIDIwMTIgRGFuIFN1bmRheVxuICAvLyBUaGlzIGNvZGUgbWF5IGJlIGZyZWVseSB1c2VkIGFuZCBtb2RpZmllZCBmb3IgYW55IHB1cnBvc2VcbiAgLy8gcHJvdmlkaW5nIHRoYXQgdGhpcyBjb3B5cmlnaHQgbm90aWNlIGlzIGluY2x1ZGVkIHdpdGggaXQuXG4gIC8vIFNvZnRTdXJmZXIgbWFrZXMgbm8gd2FycmFudHkgZm9yIHRoaXMgY29kZSwgYW5kIGNhbm5vdCBiZSBoZWxkXG4gIC8vIGxpYWJsZSBmb3IgYW55IHJlYWwgb3IgaW1hZ2luZWQgZGFtYWdlIHJlc3VsdGluZyBmcm9tIGl0cyB1c2UuXG4gIC8vIFVzZXJzIG9mIHRoaXMgY29kZSBtdXN0IHZlcmlmeSBjb3JyZWN0bmVzcyBmb3IgdGhlaXIgYXBwbGljYXRpb24uXG4gIGxldCB3biA9IDA7XG4gIGxldCB4MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGVdO1xuICBsZXQgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICBjb25zdCB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIGNvbnN0IHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIGlmICh5MSA8PSB5KSB7XG4gICAgICBpZiAoeTIgPiB5ICYmICh4MiAtIHgxKSAqICh5IC0geTEpIC0gKHggLSB4MSkgKiAoeTIgLSB5MSkgPiAwKSB7XG4gICAgICAgIHduKys7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh5MiA8PSB5ICYmICh4MiAtIHgxKSAqICh5IC0geTEpIC0gKHggLSB4MSkgKiAoeTIgLSB5MSkgPCAwKSB7XG4gICAgICB3bi0tO1xuICAgIH1cbiAgICB4MSA9IHgyO1xuICAgIHkxID0geTI7XG4gIH1cbiAgcmV0dXJuIHduICE9PSAwO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzQ29udGFpbnNYWShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHMsXG4gIHN0cmlkZSxcbiAgeCxcbiAgeVxuKSB7XG4gIGlmIChlbmRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoIWxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzWzBdLCBzdHJpZGUsIHgsIHkpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAobGV0IGkgPSAxLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGlmIChcbiAgICAgIGxpbmVhclJpbmdDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgZW5kc1tpIC0gMV0sIGVuZHNbaV0sIHN0cmlkZSwgeCwgeSlcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NzQ29udGFpbnNYWShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHNzLFxuICBzdHJpZGUsXG4gIHgsXG4gIHlcbikge1xuICBpZiAoZW5kc3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmRzID0gZW5kc3NbaV07XG4gICAgaWYgKGxpbmVhclJpbmdzQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2luZmxhdGVcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IFtjb29yZGluYXRlc10gQ29vcmRpbmF0ZXMuXG4gKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBDb29yZGluYXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZmxhdGVDb29yZGluYXRlcyhcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBjb29yZGluYXRlc1xuKSB7XG4gIGNvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXMgIT09IHVuZGVmaW5lZCA/IGNvb3JkaW5hdGVzIDogW107XG4gIGxldCBpID0gMDtcbiAgZm9yIChsZXQgaiA9IG9mZnNldDsgaiA8IGVuZDsgaiArPSBzdHJpZGUpIHtcbiAgICBjb29yZGluYXRlc1tpKytdID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKGosIGogKyBzdHJpZGUpO1xuICB9XG4gIGNvb3JkaW5hdGVzLmxlbmd0aCA9IGk7XG4gIHJldHVybiBjb29yZGluYXRlcztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gW2Nvb3JkaW5hdGVzc10gQ29vcmRpbmF0ZXNzLlxuICogQHJldHVybiB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IENvb3JkaW5hdGVzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZmxhdGVDb29yZGluYXRlc0FycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kcyxcbiAgc3RyaWRlLFxuICBjb29yZGluYXRlc3Ncbikge1xuICBjb29yZGluYXRlc3MgPSBjb29yZGluYXRlc3MgIT09IHVuZGVmaW5lZCA/IGNvb3JkaW5hdGVzcyA6IFtdO1xuICBsZXQgaSA9IDA7XG4gIGZvciAobGV0IGogPSAwLCBqaiA9IGVuZHMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgIGNvbnN0IGVuZCA9IGVuZHNbal07XG4gICAgY29vcmRpbmF0ZXNzW2krK10gPSBpbmZsYXRlQ29vcmRpbmF0ZXMoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmQsXG4gICAgICBzdHJpZGUsXG4gICAgICBjb29yZGluYXRlc3NbaV1cbiAgICApO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICBjb29yZGluYXRlc3MubGVuZ3RoID0gaTtcbiAgcmV0dXJuIGNvb3JkaW5hdGVzcztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59IFtjb29yZGluYXRlc3NzXVxuICogICAgIENvb3JkaW5hdGVzc3MuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59IENvb3JkaW5hdGVzc3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kc3MsXG4gIHN0cmlkZSxcbiAgY29vcmRpbmF0ZXNzc1xuKSB7XG4gIGNvb3JkaW5hdGVzc3MgPSBjb29yZGluYXRlc3NzICE9PSB1bmRlZmluZWQgPyBjb29yZGluYXRlc3NzIDogW107XG4gIGxldCBpID0gMDtcbiAgZm9yIChsZXQgaiA9IDAsIGpqID0gZW5kc3MubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgIGNvbnN0IGVuZHMgPSBlbmRzc1tqXTtcbiAgICBjb29yZGluYXRlc3NzW2krK10gPVxuICAgICAgZW5kcy5sZW5ndGggPT09IDEgJiYgZW5kc1swXSA9PT0gb2Zmc2V0XG4gICAgICAgID8gW11cbiAgICAgICAgOiBpbmZsYXRlQ29vcmRpbmF0ZXNBcnJheShcbiAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIGVuZHMsXG4gICAgICAgICAgICBzdHJpZGUsXG4gICAgICAgICAgICBjb29yZGluYXRlc3NzW2ldXG4gICAgICAgICAgKTtcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgY29vcmRpbmF0ZXNzcy5sZW5ndGggPSBpO1xuICByZXR1cm4gY29vcmRpbmF0ZXNzcztcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvaW50ZXJpb3Jwb2ludFxuICovXG5pbXBvcnQge2FzY2VuZGluZ30gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5nc0NvbnRhaW5zWFl9IGZyb20gJy4vY29udGFpbnMuanMnO1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgYSBwb2ludCB0aGF0IGlzIGxpa2VseSB0byBsaWUgaW4gdGhlIGludGVyaW9yIG9mIHRoZSBsaW5lYXIgcmluZ3MuXG4gKiBJbnNwaXJlZCBieSBKVFMncyBjb20udml2aWRzb2x1dGlvbnMuanRzLmdlb20uR2VvbWV0cnkjZ2V0SW50ZXJpb3JQb2ludC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDZW50ZXJzIEZsYXQgY2VudGVycy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGF0Q2VudGVyc09mZnNldCBGbGF0IGNlbnRlciBvZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtkZXN0XSBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IERlc3RpbmF0aW9uIHBvaW50IGFzIFhZTSBjb29yZGluYXRlLCB3aGVyZSBNIGlzIHRoZVxuICogbGVuZ3RoIG9mIHRoZSBob3Jpem9udGFsIGludGVyc2VjdGlvbiB0aGF0IHRoZSBwb2ludCBiZWxvbmdzIHRvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJpb3JQb2ludE9mQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzLFxuICBzdHJpZGUsXG4gIGZsYXRDZW50ZXJzLFxuICBmbGF0Q2VudGVyc09mZnNldCxcbiAgZGVzdFxuKSB7XG4gIGxldCBpLCBpaSwgeCwgeDEsIHgyLCB5MSwgeTI7XG4gIGNvbnN0IHkgPSBmbGF0Q2VudGVyc1tmbGF0Q2VudGVyc09mZnNldCArIDFdO1xuICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gIGNvbnN0IGludGVyc2VjdGlvbnMgPSBbXTtcbiAgLy8gQ2FsY3VsYXRlIGludGVyc2VjdGlvbnMgd2l0aCB0aGUgaG9yaXpvbnRhbCBsaW5lXG4gIGZvciAobGV0IHIgPSAwLCByciA9IGVuZHMubGVuZ3RoOyByIDwgcnI7ICsrcikge1xuICAgIGNvbnN0IGVuZCA9IGVuZHNbcl07XG4gICAgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgICB5MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGUgKyAxXTtcbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBlbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB4MiA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgIHkyID0gZmxhdENvb3JkaW5hdGVzW2kgKyAxXTtcbiAgICAgIGlmICgoeSA8PSB5MSAmJiB5MiA8PSB5KSB8fCAoeTEgPD0geSAmJiB5IDw9IHkyKSkge1xuICAgICAgICB4ID0gKCh5IC0geTEpIC8gKHkyIC0geTEpKSAqICh4MiAtIHgxKSArIHgxO1xuICAgICAgICBpbnRlcnNlY3Rpb25zLnB1c2goeCk7XG4gICAgICB9XG4gICAgICB4MSA9IHgyO1xuICAgICAgeTEgPSB5MjtcbiAgICB9XG4gIH1cbiAgLy8gRmluZCB0aGUgbG9uZ2VzdCBzZWdtZW50IG9mIHRoZSBob3Jpem9udGFsIGxpbmUgdGhhdCBoYXMgaXRzIGNlbnRlciBwb2ludFxuICAvLyBpbnNpZGUgdGhlIGxpbmVhciByaW5nLlxuICBsZXQgcG9pbnRYID0gTmFOO1xuICBsZXQgbWF4U2VnbWVudExlbmd0aCA9IC1JbmZpbml0eTtcbiAgaW50ZXJzZWN0aW9ucy5zb3J0KGFzY2VuZGluZyk7XG4gIHgxID0gaW50ZXJzZWN0aW9uc1swXTtcbiAgZm9yIChpID0gMSwgaWkgPSBpbnRlcnNlY3Rpb25zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICB4MiA9IGludGVyc2VjdGlvbnNbaV07XG4gICAgY29uc3Qgc2VnbWVudExlbmd0aCA9IE1hdGguYWJzKHgyIC0geDEpO1xuICAgIGlmIChzZWdtZW50TGVuZ3RoID4gbWF4U2VnbWVudExlbmd0aCkge1xuICAgICAgeCA9ICh4MSArIHgyKSAvIDI7XG4gICAgICBpZiAobGluZWFyUmluZ3NDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIHgsIHkpKSB7XG4gICAgICAgIHBvaW50WCA9IHg7XG4gICAgICAgIG1heFNlZ21lbnRMZW5ndGggPSBzZWdtZW50TGVuZ3RoO1xuICAgICAgfVxuICAgIH1cbiAgICB4MSA9IHgyO1xuICB9XG4gIGlmIChpc05hTihwb2ludFgpKSB7XG4gICAgLy8gVGhlcmUgaXMgbm8gaG9yaXpvbnRhbCBsaW5lIHRoYXQgaGFzIGl0cyBjZW50ZXIgcG9pbnQgaW5zaWRlIHRoZSBsaW5lYXJcbiAgICAvLyByaW5nLiAgVXNlIHRoZSBjZW50ZXIgb2YgdGhlIHRoZSBsaW5lYXIgcmluZydzIGV4dGVudC5cbiAgICBwb2ludFggPSBmbGF0Q2VudGVyc1tmbGF0Q2VudGVyc09mZnNldF07XG4gIH1cbiAgaWYgKGRlc3QpIHtcbiAgICBkZXN0LnB1c2gocG9pbnRYLCB5LCBtYXhTZWdtZW50TGVuZ3RoKTtcbiAgICByZXR1cm4gZGVzdDtcbiAgfVxuICByZXR1cm4gW3BvaW50WCwgeSwgbWF4U2VnbWVudExlbmd0aF07XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENlbnRlcnMgRmxhdCBjZW50ZXJzLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gSW50ZXJpb3IgcG9pbnRzIGFzIFhZTSBjb29yZGluYXRlcywgd2hlcmUgTSBpcyB0aGVcbiAqIGxlbmd0aCBvZiB0aGUgaG9yaXpvbnRhbCBpbnRlcnNlY3Rpb24gdGhhdCB0aGUgcG9pbnQgYmVsb25ncyB0by5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyaW9yUG9pbnRzT2ZNdWx0aUFycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kc3MsXG4gIHN0cmlkZSxcbiAgZmxhdENlbnRlcnNcbikge1xuICBsZXQgaW50ZXJpb3JQb2ludHMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZHMgPSBlbmRzc1tpXTtcbiAgICBpbnRlcmlvclBvaW50cyA9IGdldEludGVyaW9yUG9pbnRPZkFycmF5KFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kcyxcbiAgICAgIHN0cmlkZSxcbiAgICAgIGZsYXRDZW50ZXJzLFxuICAgICAgMiAqIGksXG4gICAgICBpbnRlcmlvclBvaW50c1xuICAgICk7XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBpbnRlcmlvclBvaW50cztcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvaW50ZXJzZWN0c2V4dGVudFxuICovXG5pbXBvcnQge1xuICBjb250YWluc0V4dGVudCxcbiAgY3JlYXRlRW1wdHksXG4gIGV4dGVuZEZsYXRDb29yZGluYXRlcyxcbiAgaW50ZXJzZWN0cyxcbiAgaW50ZXJzZWN0c1NlZ21lbnQsXG59IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2ZvckVhY2ggYXMgZm9yRWFjaFNlZ21lbnR9IGZyb20gJy4vc2VnbWVudHMuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5nQ29udGFpbnNFeHRlbnQsIGxpbmVhclJpbmdDb250YWluc1hZfSBmcm9tICcuL2NvbnRhaW5zLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVTdHJpbmcoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgZXh0ZW50XG4pIHtcbiAgY29uc3QgY29vcmRpbmF0ZXNFeHRlbnQgPSBleHRlbmRGbGF0Q29vcmRpbmF0ZXMoXG4gICAgY3JlYXRlRW1wdHkoKSxcbiAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgb2Zmc2V0LFxuICAgIGVuZCxcbiAgICBzdHJpZGVcbiAgKTtcbiAgaWYgKCFpbnRlcnNlY3RzKGV4dGVudCwgY29vcmRpbmF0ZXNFeHRlbnQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChjb250YWluc0V4dGVudChleHRlbnQsIGNvb3JkaW5hdGVzRXh0ZW50KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChjb29yZGluYXRlc0V4dGVudFswXSA+PSBleHRlbnRbMF0gJiYgY29vcmRpbmF0ZXNFeHRlbnRbMl0gPD0gZXh0ZW50WzJdKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGNvb3JkaW5hdGVzRXh0ZW50WzFdID49IGV4dGVudFsxXSAmJiBjb29yZGluYXRlc0V4dGVudFszXSA8PSBleHRlbnRbM10pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZm9yRWFjaFNlZ21lbnQoXG4gICAgZmxhdENvb3JkaW5hdGVzLFxuICAgIG9mZnNldCxcbiAgICBlbmQsXG4gICAgc3RyaWRlLFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwb2ludDEgU3RhcnQgcG9pbnQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50MiBFbmQgcG9pbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBzZWdtZW50IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdCxcbiAgICAgKiAgICAgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHBvaW50MSwgcG9pbnQyKSB7XG4gICAgICByZXR1cm4gaW50ZXJzZWN0c1NlZ21lbnQoZXh0ZW50LCBwb2ludDEsIHBvaW50Mik7XG4gICAgfVxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZVN0cmluZ0FycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kcyxcbiAgc3RyaWRlLFxuICBleHRlbnRcbikge1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBpZiAoXG4gICAgICBpbnRlcnNlY3RzTGluZVN0cmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1tpXSwgc3RyaWRlLCBleHRlbnQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgb2Zmc2V0ID0gZW5kc1tpXTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNMaW5lYXJSaW5nKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIGV4dGVudFxuKSB7XG4gIGlmIChpbnRlcnNlY3RzTGluZVN0cmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGV4dGVudCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoXG4gICAgbGluZWFyUmluZ0NvbnRhaW5zWFkoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmQsXG4gICAgICBzdHJpZGUsXG4gICAgICBleHRlbnRbMF0sXG4gICAgICBleHRlbnRbMV1cbiAgICApXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChcbiAgICBsaW5lYXJSaW5nQ29udGFpbnNYWShcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIGV4dGVudFswXSxcbiAgICAgIGV4dGVudFszXVxuICAgIClcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKFxuICAgIGxpbmVhclJpbmdDb250YWluc1hZKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgZXh0ZW50WzJdLFxuICAgICAgZXh0ZW50WzFdXG4gICAgKVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoXG4gICAgbGluZWFyUmluZ0NvbnRhaW5zWFkoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmQsXG4gICAgICBzdHJpZGUsXG4gICAgICBleHRlbnRbMl0sXG4gICAgICBleHRlbnRbM11cbiAgICApXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVhclJpbmdBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHMsXG4gIHN0cmlkZSxcbiAgZXh0ZW50XG4pIHtcbiAgaWYgKCFpbnRlcnNlY3RzTGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1swXSwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChlbmRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZvciAobGV0IGkgPSAxLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGlmIChcbiAgICAgIGxpbmVhclJpbmdDb250YWluc0V4dGVudChcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICBlbmRzW2kgLSAxXSxcbiAgICAgICAgZW5kc1tpXSxcbiAgICAgICAgc3RyaWRlLFxuICAgICAgICBleHRlbnRcbiAgICAgIClcbiAgICApIHtcbiAgICAgIGlmIChcbiAgICAgICAgIWludGVyc2VjdHNMaW5lU3RyaW5nKFxuICAgICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgICBlbmRzW2kgLSAxXSxcbiAgICAgICAgICBlbmRzW2ldLFxuICAgICAgICAgIHN0cmlkZSxcbiAgICAgICAgICBleHRlbnRcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNMaW5lYXJSaW5nTXVsdGlBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHNzLFxuICBzdHJpZGUsXG4gIGV4dGVudFxuKSB7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmRzID0gZW5kc3NbaV07XG4gICAgaWYgKFxuICAgICAgaW50ZXJzZWN0c0xpbmVhclJpbmdBcnJheShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBleHRlbnQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvc2VnbWVudHNcbiAqL1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2FsbHMgYGNhbGxiYWNrYCBmb3IgZWFjaCBzZWdtZW50IG9mIHRoZSBmbGF0IGNvb3JkaW5hdGVzXG4gKiBhcnJheS4gSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYSB0cnV0aHkgdmFsdWUgdGhlIGZ1bmN0aW9uIHJldHVybnMgdGhhdFxuICogdmFsdWUgaW1tZWRpYXRlbHkuIE90aGVyd2lzZSB0aGUgZnVuY3Rpb24gcmV0dXJucyBgZmFsc2VgLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlLCBpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBUfSBjYWxsYmFjayBGdW5jdGlvblxuICogICAgIGNhbGxlZCBmb3IgZWFjaCBzZWdtZW50LlxuICogQHJldHVybiB7VHxib29sZWFufSBWYWx1ZS5cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgY2FsbGJhY2spIHtcbiAgbGV0IHJldDtcbiAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgIHJldCA9IGNhbGxiYWNrKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLnNsaWNlKG9mZnNldCAtIHN0cmlkZSwgb2Zmc2V0KSxcbiAgICAgIGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQsIG9mZnNldCArIHN0cmlkZSlcbiAgICApO1xuICAgIGlmIChyZXQpIHtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvc2ltcGxpZnlcbiAqL1xuLy8gQmFzZWQgb24gc2ltcGxpZnktanMgaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvc2ltcGxpZnktanNcbi8vIENvcHlyaWdodCAoYykgMjAxMiwgVmxhZGltaXIgQWdhZm9ua2luXG4vLyBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy9cbi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuLy8gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4vL1xuLy8gICAgMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuLy8gICAgICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbi8vXG4vLyAgICAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuLy8gICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuLy8gICAgICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbi8vXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIlxuLy8gQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuLy8gSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0Vcbi8vIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkVcbi8vIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1Jcbi8vIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GXG4vLyBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1Ncbi8vIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOXG4vLyBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxuLy8gQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcbi8vIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuXG5pbXBvcnQge3NxdWFyZWREaXN0YW5jZSwgc3F1YXJlZFNlZ21lbnREaXN0YW5jZX0gZnJvbSAnLi4vLi4vbWF0aC5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtib29sZWFufSBoaWdoUXVhbGl0eSBIaWdoZXN0IHF1YWxpdHkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzXSBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFNpbXBsaWZpZWQgbGluZSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW1wbGlmeUxpbmVTdHJpbmcoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgaGlnaFF1YWxpdHksXG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNcbikge1xuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID1cbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzICE9PSB1bmRlZmluZWQgPyBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIDogW107XG4gIGlmICghaGlnaFF1YWxpdHkpIHtcbiAgICBlbmQgPSByYWRpYWxEaXN0YW5jZShcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICAgICAgMFxuICAgICk7XG4gICAgZmxhdENvb3JkaW5hdGVzID0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcztcbiAgICBvZmZzZXQgPSAwO1xuICAgIHN0cmlkZSA9IDI7XG4gIH1cbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBkb3VnbGFzUGV1Y2tlcihcbiAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgb2Zmc2V0LFxuICAgIGVuZCxcbiAgICBzdHJpZGUsXG4gICAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICAgIDBcbiAgKTtcbiAgcmV0dXJuIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXM7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG91Z2xhc1BldWNrZXIoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgc2ltcGxpZmllZE9mZnNldFxuKSB7XG4gIGNvbnN0IG4gPSAoZW5kIC0gb2Zmc2V0KSAvIHN0cmlkZTtcbiAgaWYgKG4gPCAzKSB7XG4gICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPVxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgfVxuICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xuICB9XG4gIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgY29uc3QgbWFya2VycyA9IG5ldyBBcnJheShuKTtcbiAgbWFya2Vyc1swXSA9IDE7XG4gIG1hcmtlcnNbbiAtIDFdID0gMTtcbiAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICBjb25zdCBzdGFjayA9IFtvZmZzZXQsIGVuZCAtIHN0cmlkZV07XG4gIGxldCBpbmRleCA9IDA7XG4gIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgbGFzdCA9IHN0YWNrLnBvcCgpO1xuICAgIGNvbnN0IGZpcnN0ID0gc3RhY2sucG9wKCk7XG4gICAgbGV0IG1heFNxdWFyZWREaXN0YW5jZSA9IDA7XG4gICAgY29uc3QgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZmlyc3RdO1xuICAgIGNvbnN0IHkxID0gZmxhdENvb3JkaW5hdGVzW2ZpcnN0ICsgMV07XG4gICAgY29uc3QgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbbGFzdF07XG4gICAgY29uc3QgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbbGFzdCArIDFdO1xuICAgIGZvciAobGV0IGkgPSBmaXJzdCArIHN0cmlkZTsgaSA8IGxhc3Q7IGkgKz0gc3RyaWRlKSB7XG4gICAgICBjb25zdCB4ID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgICAgY29uc3QgeSA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICBjb25zdCBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkU2VnbWVudERpc3RhbmNlKHgsIHksIHgxLCB5MSwgeDIsIHkyKTtcbiAgICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPiBtYXhTcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICBtYXhTcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRGlzdGFuY2U7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtYXhTcXVhcmVkRGlzdGFuY2UgPiBzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICBtYXJrZXJzWyhpbmRleCAtIG9mZnNldCkgLyBzdHJpZGVdID0gMTtcbiAgICAgIGlmIChmaXJzdCArIHN0cmlkZSA8IGluZGV4KSB7XG4gICAgICAgIHN0YWNrLnB1c2goZmlyc3QsIGluZGV4KTtcbiAgICAgIH1cbiAgICAgIGlmIChpbmRleCArIHN0cmlkZSA8IGxhc3QpIHtcbiAgICAgICAgc3RhY2sucHVzaChpbmRleCwgbGFzdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgaWYgKG1hcmtlcnNbaV0pIHtcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9XG4gICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpICogc3RyaWRlXTtcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9XG4gICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpICogc3RyaWRlICsgMV07XG4gICAgfVxuICB9XG4gIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRW5kcyBTaW1wbGlmaWVkIGVuZHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG91Z2xhc1BldWNrZXJBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHMsXG4gIHN0cmlkZSxcbiAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgc2ltcGxpZmllZE9mZnNldCxcbiAgc2ltcGxpZmllZEVuZHNcbikge1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgIHNpbXBsaWZpZWRPZmZzZXQgPSBkb3VnbGFzUGV1Y2tlcihcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICAgICAgc2ltcGxpZmllZE9mZnNldFxuICAgICk7XG4gICAgc2ltcGxpZmllZEVuZHMucHVzaChzaW1wbGlmaWVkT2Zmc2V0KTtcbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBzaW1wbGlmaWVkRW5kc3MgU2ltcGxpZmllZCBlbmRzcy5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkb3VnbGFzUGV1Y2tlck11bHRpQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzcyxcbiAgc3RyaWRlLFxuICBzcXVhcmVkVG9sZXJhbmNlLFxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICBzaW1wbGlmaWVkT2Zmc2V0LFxuICBzaW1wbGlmaWVkRW5kc3Ncbikge1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kcyA9IGVuZHNzW2ldO1xuICAgIGNvbnN0IHNpbXBsaWZpZWRFbmRzID0gW107XG4gICAgc2ltcGxpZmllZE9mZnNldCA9IGRvdWdsYXNQZXVja2VyQXJyYXkoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmRzLFxuICAgICAgc3RyaWRlLFxuICAgICAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBzaW1wbGlmaWVkT2Zmc2V0LFxuICAgICAgc2ltcGxpZmllZEVuZHNcbiAgICApO1xuICAgIHNpbXBsaWZpZWRFbmRzcy5wdXNoKHNpbXBsaWZpZWRFbmRzKTtcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFkaWFsRGlzdGFuY2UoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgc2ltcGxpZmllZE9mZnNldFxuKSB7XG4gIGlmIChlbmQgPD0gb2Zmc2V0ICsgc3RyaWRlKSB7XG4gICAgLy8gemVybyBvciBvbmUgcG9pbnQsIG5vIHNpbXBsaWZpY2F0aW9uIHBvc3NpYmxlLCBzbyBjb3B5IGFuZCByZXR1cm5cbiAgICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9XG4gICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICB9XG4gICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG4gIH1cbiAgbGV0IHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gIGxldCB5MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgLy8gY29weSBmaXJzdCBwb2ludFxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MTtcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTE7XG4gIGxldCB4MiA9IHgxO1xuICBsZXQgeTIgPSB5MTtcbiAgZm9yIChvZmZzZXQgKz0gc3RyaWRlOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIGlmIChzcXVhcmVkRGlzdGFuY2UoeDEsIHkxLCB4MiwgeTIpID4gc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgICAgLy8gY29weSBwb2ludCBhdCBvZmZzZXRcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTI7XG4gICAgICB4MSA9IHgyO1xuICAgICAgeTEgPSB5MjtcbiAgICB9XG4gIH1cbiAgaWYgKHgyICE9IHgxIHx8IHkyICE9IHkxKSB7XG4gICAgLy8gY29weSBsYXN0IHBvaW50XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTI7XG4gIH1cbiAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFJvdW5kZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbmFwKHZhbHVlLCB0b2xlcmFuY2UpIHtcbiAgcmV0dXJuIHRvbGVyYW5jZSAqIE1hdGgucm91bmQodmFsdWUgLyB0b2xlcmFuY2UpO1xufVxuXG4vKipcbiAqIFNpbXBsaWZpZXMgYSBsaW5lIHN0cmluZyB1c2luZyBhbiBhbGdvcml0aG0gZGVzaWduZWQgYnkgVGltIFNjaGF1Yi5cbiAqIENvb3JkaW5hdGVzIGFyZSBzbmFwcGVkIHRvIHRoZSBuZWFyZXN0IHZhbHVlIGluIGEgdmlydHVhbCBncmlkIGFuZFxuICogY29uc2VjdXRpdmUgZHVwbGljYXRlIGNvb3JkaW5hdGVzIGFyZSBkaXNjYXJkZWQuICBUaGlzIGVmZmVjdGl2ZWx5IHByZXNlcnZlc1xuICogdG9wb2xvZ3kgYXMgdGhlIHNpbXBsaWZpY2F0aW9uIG9mIGFueSBzdWJzZWN0aW9uIG9mIGEgbGluZSBzdHJpbmcgaXNcbiAqIGluZGVwZW5kZW50IG9mIHRoZSByZXN0IG9mIHRoZSBsaW5lIHN0cmluZy4gIFRoaXMgbWVhbnMgdGhhdCwgZm9yIGV4YW1wbGVzLFxuICogdGhlIGNvbW1vbiBlZGdlIGJldHdlZW4gdHdvIHBvbHlnb25zIHdpbGwgYmUgc2ltcGxpZmllZCB0byB0aGUgc2FtZSBsaW5lXG4gKiBzdHJpbmcgaW5kZXBlbmRlbnRseSBpbiBib3RoIHBvbHlnb25zLiAgVGhpcyBpbXBsZW1lbnRhdGlvbiB1c2VzIGEgc2luZ2xlXG4gKiBwYXNzIG92ZXIgdGhlIGNvb3JkaW5hdGVzIGFuZCBlbGltaW5hdGVzIGludGVybWVkaWF0ZSBjb2xsaW5lYXIgcG9pbnRzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhbnRpemUoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgdG9sZXJhbmNlLFxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICBzaW1wbGlmaWVkT2Zmc2V0XG4pIHtcbiAgLy8gZG8gbm90aGluZyBpZiB0aGUgbGluZSBpcyBlbXB0eVxuICBpZiAob2Zmc2V0ID09IGVuZCkge1xuICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xuICB9XG4gIC8vIHNuYXAgdGhlIGZpcnN0IGNvb3JkaW5hdGUgKFAxKVxuICBsZXQgeDEgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCB0b2xlcmFuY2UpO1xuICBsZXQgeTEgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSwgdG9sZXJhbmNlKTtcbiAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgLy8gYWRkIHRoZSBmaXJzdCBjb29yZGluYXRlIHRvIHRoZSBvdXRwdXRcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDE7XG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkxO1xuICAvLyBmaW5kIHRoZSBuZXh0IGNvb3JkaW5hdGUgdGhhdCBkb2VzIG5vdCBzbmFwIHRvIHRoZSBzYW1lIHZhbHVlIGFzIHRoZSBmaXJzdFxuICAvLyBjb29yZGluYXRlIChQMilcbiAgbGV0IHgyLCB5MjtcbiAgZG8ge1xuICAgIHgyID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSwgdG9sZXJhbmNlKTtcbiAgICB5MiA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdLCB0b2xlcmFuY2UpO1xuICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgaWYgKG9mZnNldCA9PSBlbmQpIHtcbiAgICAgIC8vIGFsbCBjb29yZGluYXRlcyBzbmFwIHRvIHRoZSBzYW1lIHZhbHVlLCB0aGUgbGluZSBjb2xsYXBzZXMgdG8gYSBwb2ludFxuICAgICAgLy8gcHVzaCB0aGUgbGFzdCBzbmFwcGVkIHZhbHVlIGFueXdheSB0byBlbnN1cmUgdGhhdCB0aGUgb3V0cHV0IGNvbnRhaW5zXG4gICAgICAvLyBhdCBsZWFzdCB0d28gcG9pbnRzXG4gICAgICAvLyBGSVhNRSBzaG91bGQgd2UgcmVhbGx5IHJldHVybiBhdCBsZWFzdCB0d28gcG9pbnRzIGFueXdheT9cbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTI7XG4gICAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgICB9XG4gIH0gd2hpbGUgKHgyID09IHgxICYmIHkyID09IHkxKTtcbiAgd2hpbGUgKG9mZnNldCA8IGVuZCkge1xuICAgIC8vIHNuYXAgdGhlIG5leHQgY29vcmRpbmF0ZSAoUDMpXG4gICAgY29uc3QgeDMgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCB0b2xlcmFuY2UpO1xuICAgIGNvbnN0IHkzID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0sIHRvbGVyYW5jZSk7XG4gICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICAvLyBza2lwIFAzIGlmIGl0IGlzIGVxdWFsIHRvIFAyXG4gICAgaWYgKHgzID09IHgyICYmIHkzID09IHkyKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgLy8gY2FsY3VsYXRlIHRoZSBkZWx0YSBiZXR3ZWVuIFAxIGFuZCBQMlxuICAgIGNvbnN0IGR4MSA9IHgyIC0geDE7XG4gICAgY29uc3QgZHkxID0geTIgLSB5MTtcbiAgICAvLyBjYWxjdWxhdGUgdGhlIGRlbHRhIGJldHdlZW4gUDMgYW5kIFAxXG4gICAgY29uc3QgZHgyID0geDMgLSB4MTtcbiAgICBjb25zdCBkeTIgPSB5MyAtIHkxO1xuICAgIC8vIGlmIFAxLCBQMiwgYW5kIFAzIGFyZSBjb2xpbmVhciBhbmQgUDMgaXMgZnVydGhlciBmcm9tIFAxIHRoYW4gUDIgaXMgZnJvbVxuICAgIC8vIFAxIGluIHRoZSBzYW1lIGRpcmVjdGlvbiB0aGVuIFAyIGlzIG9uIHRoZSBzdHJhaWdodCBsaW5lIGJldHdlZW4gUDEgYW5kXG4gICAgLy8gUDNcbiAgICBpZiAoXG4gICAgICBkeDEgKiBkeTIgPT0gZHkxICogZHgyICYmXG4gICAgICAoKGR4MSA8IDAgJiYgZHgyIDwgZHgxKSB8fCBkeDEgPT0gZHgyIHx8IChkeDEgPiAwICYmIGR4MiA+IGR4MSkpICYmXG4gICAgICAoKGR5MSA8IDAgJiYgZHkyIDwgZHkxKSB8fCBkeTEgPT0gZHkyIHx8IChkeTEgPiAwICYmIGR5MiA+IGR5MSkpXG4gICAgKSB7XG4gICAgICAvLyBkaXNjYXJkIFAyIGFuZCBzZXQgUDIgPSBQM1xuICAgICAgeDIgPSB4MztcbiAgICAgIHkyID0geTM7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgLy8gZWl0aGVyIFAxLCBQMiwgYW5kIFAzIGFyZSBub3QgY29saW5lYXIsIG9yIHRoZXkgYXJlIGNvbGluZWFyIGJ1dCBQMyBpc1xuICAgIC8vIGJldHdlZW4gUDMgYW5kIFAxIG9yIG9uIHRoZSBvcHBvc2l0ZSBoYWxmIG9mIHRoZSBsaW5lIHRvIFAyLiAgYWRkIFAyLFxuICAgIC8vIGFuZCBjb250aW51ZSB3aXRoIFAxID0gUDIgYW5kIFAyID0gUDNcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MjtcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MjtcbiAgICB4MSA9IHgyO1xuICAgIHkxID0geTI7XG4gICAgeDIgPSB4MztcbiAgICB5MiA9IHkzO1xuICB9XG4gIC8vIGFkZCB0aGUgbGFzdCBwb2ludCAoUDIpXG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MjtcbiAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRFbmRzIFNpbXBsaWZpZWQgZW5kcy5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWFudGl6ZUFycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kcyxcbiAgc3RyaWRlLFxuICB0b2xlcmFuY2UsXG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gIHNpbXBsaWZpZWRPZmZzZXQsXG4gIHNpbXBsaWZpZWRFbmRzXG4pIHtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kID0gZW5kc1tpXTtcbiAgICBzaW1wbGlmaWVkT2Zmc2V0ID0gcXVhbnRpemUoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmQsXG4gICAgICBzdHJpZGUsXG4gICAgICB0b2xlcmFuY2UsXG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICAgICAgc2ltcGxpZmllZE9mZnNldFxuICAgICk7XG4gICAgc2ltcGxpZmllZEVuZHMucHVzaChzaW1wbGlmaWVkT2Zmc2V0KTtcbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBzaW1wbGlmaWVkRW5kc3MgU2ltcGxpZmllZCBlbmRzcy5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWFudGl6ZU11bHRpQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzcyxcbiAgc3RyaWRlLFxuICB0b2xlcmFuY2UsXG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gIHNpbXBsaWZpZWRPZmZzZXQsXG4gIHNpbXBsaWZpZWRFbmRzc1xuKSB7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmRzID0gZW5kc3NbaV07XG4gICAgY29uc3Qgc2ltcGxpZmllZEVuZHMgPSBbXTtcbiAgICBzaW1wbGlmaWVkT2Zmc2V0ID0gcXVhbnRpemVBcnJheShcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZHMsXG4gICAgICBzdHJpZGUsXG4gICAgICB0b2xlcmFuY2UsXG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICAgICAgc2ltcGxpZmllZE9mZnNldCxcbiAgICAgIHNpbXBsaWZpZWRFbmRzXG4gICAgKTtcbiAgICBzaW1wbGlmaWVkRW5kc3MucHVzaChzaW1wbGlmaWVkRW5kcyk7XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC90cmFuc2Zvcm1cbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtkZXN0XSBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtMkQoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgdHJhbnNmb3JtLFxuICBkZXN0XG4pIHtcbiAgZGVzdCA9IGRlc3QgPyBkZXN0IDogW107XG4gIGxldCBpID0gMDtcbiAgZm9yIChsZXQgaiA9IG9mZnNldDsgaiA8IGVuZDsgaiArPSBzdHJpZGUpIHtcbiAgICBjb25zdCB4ID0gZmxhdENvb3JkaW5hdGVzW2pdO1xuICAgIGNvbnN0IHkgPSBmbGF0Q29vcmRpbmF0ZXNbaiArIDFdO1xuICAgIGRlc3RbaSsrXSA9IHRyYW5zZm9ybVswXSAqIHggKyB0cmFuc2Zvcm1bMl0gKiB5ICsgdHJhbnNmb3JtWzRdO1xuICAgIGRlc3RbaSsrXSA9IHRyYW5zZm9ybVsxXSAqIHggKyB0cmFuc2Zvcm1bM10gKiB5ICsgdHJhbnNmb3JtWzVdO1xuICB9XG4gIGlmIChkZXN0ICYmIGRlc3QubGVuZ3RoICE9IGkpIHtcbiAgICBkZXN0Lmxlbmd0aCA9IGk7XG4gIH1cbiAgcmV0dXJuIGRlc3Q7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBBbmdsZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYW5jaG9yIFJvdGF0aW9uIGFuY2hvciBwb2ludC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2Rlc3RdIERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgYW5nbGUsXG4gIGFuY2hvcixcbiAgZGVzdFxuKSB7XG4gIGRlc3QgPSBkZXN0ID8gZGVzdCA6IFtdO1xuICBjb25zdCBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gIGNvbnN0IHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgY29uc3QgYW5jaG9yWCA9IGFuY2hvclswXTtcbiAgY29uc3QgYW5jaG9yWSA9IGFuY2hvclsxXTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGxldCBqID0gb2Zmc2V0OyBqIDwgZW5kOyBqICs9IHN0cmlkZSkge1xuICAgIGNvbnN0IGRlbHRhWCA9IGZsYXRDb29yZGluYXRlc1tqXSAtIGFuY2hvclg7XG4gICAgY29uc3QgZGVsdGFZID0gZmxhdENvb3JkaW5hdGVzW2ogKyAxXSAtIGFuY2hvclk7XG4gICAgZGVzdFtpKytdID0gYW5jaG9yWCArIGRlbHRhWCAqIGNvcyAtIGRlbHRhWSAqIHNpbjtcbiAgICBkZXN0W2krK10gPSBhbmNob3JZICsgZGVsdGFYICogc2luICsgZGVsdGFZICogY29zO1xuICAgIGZvciAobGV0IGsgPSBqICsgMjsgayA8IGogKyBzdHJpZGU7ICsraykge1xuICAgICAgZGVzdFtpKytdID0gZmxhdENvb3JkaW5hdGVzW2tdO1xuICAgIH1cbiAgfVxuICBpZiAoZGVzdCAmJiBkZXN0Lmxlbmd0aCAhPSBpKSB7XG4gICAgZGVzdC5sZW5ndGggPSBpO1xuICB9XG4gIHJldHVybiBkZXN0O1xufVxuXG4vKipcbiAqIFNjYWxlIHRoZSBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ggU2NhbGUgZmFjdG9yIGluIHRoZSB4LWRpcmVjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzeSBTY2FsZSBmYWN0b3IgaW4gdGhlIHktZGlyZWN0aW9uLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBhbmNob3IgU2NhbGUgYW5jaG9yIHBvaW50LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbZGVzdF0gRGVzdGluYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUcmFuc2Zvcm1lZCBjb29yZGluYXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIHN4LFxuICBzeSxcbiAgYW5jaG9yLFxuICBkZXN0XG4pIHtcbiAgZGVzdCA9IGRlc3QgPyBkZXN0IDogW107XG4gIGNvbnN0IGFuY2hvclggPSBhbmNob3JbMF07XG4gIGNvbnN0IGFuY2hvclkgPSBhbmNob3JbMV07XG4gIGxldCBpID0gMDtcbiAgZm9yIChsZXQgaiA9IG9mZnNldDsgaiA8IGVuZDsgaiArPSBzdHJpZGUpIHtcbiAgICBjb25zdCBkZWx0YVggPSBmbGF0Q29vcmRpbmF0ZXNbal0gLSBhbmNob3JYO1xuICAgIGNvbnN0IGRlbHRhWSA9IGZsYXRDb29yZGluYXRlc1tqICsgMV0gLSBhbmNob3JZO1xuICAgIGRlc3RbaSsrXSA9IGFuY2hvclggKyBzeCAqIGRlbHRhWDtcbiAgICBkZXN0W2krK10gPSBhbmNob3JZICsgc3kgKiBkZWx0YVk7XG4gICAgZm9yIChsZXQgayA9IGogKyAyOyBrIDwgaiArIHN0cmlkZTsgKytrKSB7XG4gICAgICBkZXN0W2krK10gPSBmbGF0Q29vcmRpbmF0ZXNba107XG4gICAgfVxuICB9XG4gIGlmIChkZXN0ICYmIGRlc3QubGVuZ3RoICE9IGkpIHtcbiAgICBkZXN0Lmxlbmd0aCA9IGk7XG4gIH1cbiAgcmV0dXJuIGRlc3Q7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVggRGVsdGEgWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVkgRGVsdGEgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2Rlc3RdIERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgZGVsdGFYLFxuICBkZWx0YVksXG4gIGRlc3Rcbikge1xuICBkZXN0ID0gZGVzdCA/IGRlc3QgOiBbXTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGxldCBqID0gb2Zmc2V0OyBqIDwgZW5kOyBqICs9IHN0cmlkZSkge1xuICAgIGRlc3RbaSsrXSA9IGZsYXRDb29yZGluYXRlc1tqXSArIGRlbHRhWDtcbiAgICBkZXN0W2krK10gPSBmbGF0Q29vcmRpbmF0ZXNbaiArIDFdICsgZGVsdGFZO1xuICAgIGZvciAobGV0IGsgPSBqICsgMjsgayA8IGogKyBzdHJpZGU7ICsraykge1xuICAgICAgZGVzdFtpKytdID0gZmxhdENvb3JkaW5hdGVzW2tdO1xuICAgIH1cbiAgfVxuICBpZiAoZGVzdCAmJiBkZXN0Lmxlbmd0aCAhPSBpKSB7XG4gICAgZGVzdC5sZW5ndGggPSBpO1xuICB9XG4gIHJldHVybiBkZXN0O1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2hhc1xuICovXG5cbmNvbnN0IHVhID1cbiAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG5hdmlnYXRvci51c2VyQWdlbnQgIT09ICd1bmRlZmluZWQnXG4gICAgPyBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKClcbiAgICA6ICcnO1xuXG4vKipcbiAqIFVzZXIgYWdlbnQgc3RyaW5nIHNheXMgd2UgYXJlIGRlYWxpbmcgd2l0aCBGaXJlZm94IGFzIGJyb3dzZXIuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IEZJUkVGT1ggPSB1YS5pbmNsdWRlcygnZmlyZWZveCcpO1xuXG4vKipcbiAqIFVzZXIgYWdlbnQgc3RyaW5nIHNheXMgd2UgYXJlIGRlYWxpbmcgd2l0aCBTYWZhcmkgYXMgYnJvd3Nlci5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgY29uc3QgU0FGQVJJID0gdWEuaW5jbHVkZXMoJ3NhZmFyaScpICYmICF1YS5pbmNsdWRlcygnY2hyb20nKTtcblxuLyoqXG4gKiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjM3OTA2XG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IFNBRkFSSV9CVUdfMjM3OTA2ID1cbiAgU0FGQVJJICYmXG4gICh1YS5pbmNsdWRlcygndmVyc2lvbi8xNS40JykgfHxcbiAgICAvY3B1IChvc3xpcGhvbmUgb3MpIDE1XzQgbGlrZSBtYWMgb3MgeC8udGVzdCh1YSkpO1xuXG4vKipcbiAqIFVzZXIgYWdlbnQgc3RyaW5nIHNheXMgd2UgYXJlIGRlYWxpbmcgd2l0aCBhIFdlYktpdCBlbmdpbmUuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IFdFQktJVCA9IHVhLmluY2x1ZGVzKCd3ZWJraXQnKSAmJiAhdWEuaW5jbHVkZXMoJ2VkZ2UnKTtcblxuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggYSBNYWMgYXMgcGxhdGZvcm0uXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IE1BQyA9IHVhLmluY2x1ZGVzKCdtYWNpbnRvc2gnKTtcblxuLyoqXG4gKiBUaGUgcmF0aW8gYmV0d2VlbiBwaHlzaWNhbCBwaXhlbHMgYW5kIGRldmljZS1pbmRlcGVuZGVudCBwaXhlbHNcbiAqIChkaXBzKSBvbiB0aGUgZGV2aWNlIChgd2luZG93LmRldmljZVBpeGVsUmF0aW9gKS5cbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IERFVklDRV9QSVhFTF9SQVRJTyA9XG4gIHR5cGVvZiBkZXZpY2VQaXhlbFJhdGlvICE9PSAndW5kZWZpbmVkJyA/IGRldmljZVBpeGVsUmF0aW8gOiAxO1xuXG4vKipcbiAqIFRoZSBleGVjdXRpb24gY29udGV4dCBpcyBhIHdvcmtlciB3aXRoIE9mZnNjcmVlbkNhbnZhcyBhdmFpbGFibGUuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgY29uc3QgV09SS0VSX09GRlNDUkVFTl9DQU5WQVMgPVxuICB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmXG4gIHR5cGVvZiBPZmZzY3JlZW5DYW52YXMgIT09ICd1bmRlZmluZWQnICYmXG4gIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lXG5cbi8qKlxuICogSW1hZ2UucHJvdG90eXBlLmRlY29kZSgpIGlzIHN1cHBvcnRlZC5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgY29uc3QgSU1BR0VfREVDT0RFID1cbiAgdHlwZW9mIEltYWdlICE9PSAndW5kZWZpbmVkJyAmJiBJbWFnZS5wcm90b3R5cGUuZGVjb2RlO1xuXG4vKipcbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgY29uc3QgUEFTU0lWRV9FVkVOVF9MSVNURU5FUlMgPSAoZnVuY3Rpb24gKCkge1xuICBsZXQgcGFzc2l2ZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBhc3NpdmUgPSB0cnVlO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdfJywgbnVsbCwgb3B0aW9ucyk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ18nLCBudWxsLCBvcHRpb25zKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBwYXNzaXZlIG5vdCBzdXBwb3J0ZWRcbiAgfVxuICByZXR1cm4gcGFzc2l2ZTtcbn0pKCk7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvQmFzZVxuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IExheWVyUHJvcGVydHkgZnJvbSAnLi9Qcm9wZXJ0eS5qcyc7XG5pbXBvcnQge2Fic3RyYWN0fSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7Y2xhbXB9IGZyb20gJy4uL21hdGguanMnO1xuXG4vKipcbiAqIEEgY3NzIGNvbG9yLCBvciBhIGZ1bmN0aW9uIGNhbGxlZCB3aXRoIGEgdmlldyByZXNvbHV0aW9uIHJldHVybmluZyBhIGNzcyBjb2xvci5cbiAqXG4gKiBAdHlwZWRlZiB7c3RyaW5nfGZ1bmN0aW9uKG51bWJlcik6c3RyaW5nfSBCYWNrZ3JvdW5kQ29sb3JcbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXN8J2NoYW5nZTpleHRlbnQnfCdjaGFuZ2U6bWF4UmVzb2x1dGlvbid8J2NoYW5nZTptYXhab29tJ3xcbiAqICAgICdjaGFuZ2U6bWluUmVzb2x1dGlvbid8J2NoYW5nZTptaW5ab29tJ3wnY2hhbmdlOm9wYWNpdHknfCdjaGFuZ2U6dmlzaWJsZSd8J2NoYW5nZTp6SW5kZXgnfSBCYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzXG4gKi9cblxuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8QmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xCYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzLCBSZXR1cm4+fSBCYXNlTGF5ZXJPblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWxheWVyJ10gQSBDU1MgY2xhc3MgbmFtZSB0byBzZXQgdG8gdGhlIGxheWVyIGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7QmFja2dyb3VuZENvbG9yfSBbYmFja2dyb3VuZF0gQmFja2dyb3VuZCBjb2xvciBmb3IgdGhlIGxheWVyLiBJZiBub3Qgc3BlY2lmaWVkLCBubyBiYWNrZ3JvdW5kXG4gKiB3aWxsIGJlIHJlbmRlcmVkLlxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCAqPn0gW3Byb3BlcnRpZXNdIEFyYml0cmFyeSBvYnNlcnZhYmxlIHByb3BlcnRpZXMuIENhbiBiZSBhY2Nlc3NlZCB3aXRoIGAjZ2V0KClgIGFuZCBgI3NldCgpYC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIE5vdGUgdGhhdCB3aXRoIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvQmFzZX5CYXNlTGF5ZXJ9IGFuZCBhbGwgaXRzIHN1YmNsYXNzZXMsIGFueSBwcm9wZXJ0eSBzZXQgaW5cbiAqIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9IHByb3BlcnR5IG9uIHRoZSBsYXllciBvYmplY3QsIHNvXG4gKiBpcyBvYnNlcnZhYmxlLCBhbmQgaGFzIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIEBhcGlcbiAqL1xuY2xhc3MgQmFzZUxheWVyIGV4dGVuZHMgQmFzZU9iamVjdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgTGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtCYXNlTGF5ZXJPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtCYXNlTGF5ZXJPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uY2U7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0Jhc2VMYXllck9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QmFja2dyb3VuZENvbG9yfGZhbHNlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5iYWNrZ3JvdW5kXyA9IG9wdGlvbnMuYmFja2dyb3VuZDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCAqPn1cbiAgICAgKi9cbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnByb3BlcnRpZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICBkZWxldGUgcHJvcGVydGllcy5wcm9wZXJ0aWVzO1xuICAgICAgT2JqZWN0LmFzc2lnbihwcm9wZXJ0aWVzLCBvcHRpb25zLnByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZXSA9XG4gICAgICBvcHRpb25zLm9wYWNpdHkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub3BhY2l0eSA6IDE7XG4gICAgYXNzZXJ0KHR5cGVvZiBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuT1BBQ0lUWV0gPT09ICdudW1iZXInLCA2NCk7IC8vIExheWVyIG9wYWNpdHkgbXVzdCBiZSBhIG51bWJlclxuXG4gICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5LlZJU0lCTEVdID1cbiAgICAgIG9wdGlvbnMudmlzaWJsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy52aXNpYmxlIDogdHJ1ZTtcbiAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuWl9JTkRFWF0gPSBvcHRpb25zLnpJbmRleDtcbiAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuTUFYX1JFU09MVVRJT05dID1cbiAgICAgIG9wdGlvbnMubWF4UmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhSZXNvbHV0aW9uIDogSW5maW5pdHk7XG4gICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5Lk1JTl9SRVNPTFVUSU9OXSA9XG4gICAgICBvcHRpb25zLm1pblJlc29sdXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWluUmVzb2x1dGlvbiA6IDA7XG4gICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5Lk1JTl9aT09NXSA9XG4gICAgICBvcHRpb25zLm1pblpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWluWm9vbSA6IC1JbmZpbml0eTtcbiAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuTUFYX1pPT01dID1cbiAgICAgIG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhab29tIDogSW5maW5pdHk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5jbGFzc05hbWVfID1cbiAgICAgIHByb3BlcnRpZXMuY2xhc3NOYW1lICE9PSB1bmRlZmluZWQgPyBwcm9wZXJ0aWVzLmNsYXNzTmFtZSA6ICdvbC1sYXllcic7XG4gICAgZGVsZXRlIHByb3BlcnRpZXMuY2xhc3NOYW1lO1xuXG4gICAgdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGV9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlXyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBiYWNrZ3JvdW5kIGZvciB0aGlzIGxheWVyLlxuICAgKiBAcmV0dXJuIHtCYWNrZ3JvdW5kQ29sb3J8ZmFsc2V9IExheWVyIGJhY2tncm91bmQuXG4gICAqL1xuICBnZXRCYWNrZ3JvdW5kKCkge1xuICAgIHJldHVybiB0aGlzLmJhY2tncm91bmRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gQ1NTIGNsYXNzIG5hbWUuXG4gICAqL1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xhc3NOYW1lXztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgbWVhbnQgdG8gYmUgY2FsbGVkIGJ5IGxheWVycyBvciBsYXllciByZW5kZXJlcnMgYmVjYXVzZSB0aGUgc3RhdGVcbiAgICogaXMgaW5jb3JyZWN0IGlmIHRoZSBsYXllciBpcyBpbmNsdWRlZCBpbiBhIGxheWVyIGdyb3VwLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFttYW5hZ2VkXSBMYXllciBpcyBtYW5hZ2VkLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlfSBMYXllciBzdGF0ZS5cbiAgICovXG4gIGdldExheWVyU3RhdGUobWFuYWdlZCkge1xuICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZX0gKi9cbiAgICBjb25zdCBzdGF0ZSA9XG4gICAgICB0aGlzLnN0YXRlXyB8fFxuICAgICAgLyoqIEB0eXBlIHs/fSAqLyAoe1xuICAgICAgICBsYXllcjogdGhpcyxcbiAgICAgICAgbWFuYWdlZDogbWFuYWdlZCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IG1hbmFnZWQsXG4gICAgICB9KTtcbiAgICBjb25zdCB6SW5kZXggPSB0aGlzLmdldFpJbmRleCgpO1xuICAgIHN0YXRlLm9wYWNpdHkgPSBjbGFtcChNYXRoLnJvdW5kKHRoaXMuZ2V0T3BhY2l0eSgpICogMTAwKSAvIDEwMCwgMCwgMSk7XG4gICAgc3RhdGUudmlzaWJsZSA9IHRoaXMuZ2V0VmlzaWJsZSgpO1xuICAgIHN0YXRlLmV4dGVudCA9IHRoaXMuZ2V0RXh0ZW50KCk7XG4gICAgc3RhdGUuekluZGV4ID0gekluZGV4ID09PSB1bmRlZmluZWQgJiYgIXN0YXRlLm1hbmFnZWQgPyBJbmZpbml0eSA6IHpJbmRleDtcbiAgICBzdGF0ZS5tYXhSZXNvbHV0aW9uID0gdGhpcy5nZXRNYXhSZXNvbHV0aW9uKCk7XG4gICAgc3RhdGUubWluUmVzb2x1dGlvbiA9IE1hdGgubWF4KHRoaXMuZ2V0TWluUmVzb2x1dGlvbigpLCAwKTtcbiAgICBzdGF0ZS5taW5ab29tID0gdGhpcy5nZXRNaW5ab29tKCk7XG4gICAgc3RhdGUubWF4Wm9vbSA9IHRoaXMuZ2V0TWF4Wm9vbSgpO1xuICAgIHRoaXMuc3RhdGVfID0gc3RhdGU7XG5cbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pn0gW2FycmF5XSBBcnJheSBvZiBsYXllcnMgKHRvIGJlXG4gICAqICAgICBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59IEFycmF5IG9mIGxheWVycy5cbiAgICovXG4gIGdldExheWVyc0FycmF5KGFycmF5KSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZT59IFtzdGF0ZXNdIE9wdGlvbmFsIGxpc3Qgb2YgbGF5ZXJcbiAgICogICAgIHN0YXRlcyAodG8gYmUgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gTGlzdCBvZiBsYXllciBzdGF0ZXMuXG4gICAqL1xuICBnZXRMYXllclN0YXRlc0FycmF5KHN0YXRlcykge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUge0BsaW5rIG1vZHVsZTpvbC9leHRlbnR+RXh0ZW50IGV4dGVudH0gb2YgdGhlIGxheWVyIG9yIGB1bmRlZmluZWRgIGlmIGl0XG4gICAqIHdpbGwgYmUgdmlzaWJsZSByZWdhcmRsZXNzIG9mIGV4dGVudC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudHx1bmRlZmluZWR9IFRoZSBsYXllciBleHRlbnQuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEV4dGVudCgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fHVuZGVmaW5lZH0gKi8gKFxuICAgICAgdGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5FWFRFTlQpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG1heGltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1heFJlc29sdXRpb24oKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5NQVhfUkVTT0xVVElPTikpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TWluUmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5Lk1JTl9SRVNPTFVUSU9OKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgb2YgdGhlIGxheWVyLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNaW5ab29tKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuTUlOX1pPT00pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG1heGltdW0gem9vbSBsZXZlbCBvZiB0aGUgbGF5ZXIuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1heGltdW0gem9vbSBsZXZlbCBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1heFpvb20oKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5NQVhfWk9PTSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgb3BhY2l0eSBvZiB0aGUgbGF5ZXIgKGJldHdlZW4gMCBhbmQgMSkuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRPcGFjaXR5KCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuT1BBQ0lUWSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlLmpzXCIpLlN0YXRlfSBTb3VyY2Ugc3RhdGUuXG4gICAqL1xuICBnZXRTb3VyY2VTdGF0ZSgpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHZpc2liaWxpdHkgb2YgdGhlIGxheWVyIChgdHJ1ZWAgb3IgYGZhbHNlYCkuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VmlzaWJsZSgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtib29sZWFufSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5WSVNJQkxFKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBaLWluZGV4IG9mIHRoZSBsYXllciwgd2hpY2ggaXMgdXNlZCB0byBvcmRlciBsYXllcnMgYmVmb3JlXG4gICAqIHJlbmRlcmluZy4gVGhlIGRlZmF1bHQgWi1pbmRleCBpcyAwLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBaLWluZGV4IG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0WkluZGV4KCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuWl9JTkRFWCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGJhY2tncm91bmQgY29sb3IuXG4gICAqIEBwYXJhbSB7QmFja2dyb3VuZENvbG9yfSBbYmFja2dyb3VuZF0gQmFja2dyb3VuZCBjb2xvci5cbiAgICovXG4gIHNldEJhY2tncm91bmQoYmFja2dyb3VuZCkge1xuICAgIHRoaXMuYmFja2dyb3VuZF8gPSBiYWNrZ3JvdW5kO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZXh0ZW50IGF0IHdoaWNoIHRoZSBsYXllciBpcyB2aXNpYmxlLiAgSWYgYHVuZGVmaW5lZGAsIHRoZSBsYXllclxuICAgKiB3aWxsIGJlIHZpc2libGUgYXQgYWxsIGV4dGVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudHx1bmRlZmluZWR9IGV4dGVudCBUaGUgZXh0ZW50IG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0RXh0ZW50KGV4dGVudCkge1xuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuRVhURU5ULCBleHRlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbWF4aW11bSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBsYXllciBpcyB2aXNpYmxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4UmVzb2x1dGlvbiBUaGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TWF4UmVzb2x1dGlvbihtYXhSZXNvbHV0aW9uKSB7XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5NQVhfUkVTT0xVVElPTiwgbWF4UmVzb2x1dGlvbik7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBtaW5pbXVtIHJlc29sdXRpb24gYXQgd2hpY2ggdGhlIGxheWVyIGlzIHZpc2libGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5SZXNvbHV0aW9uIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRNaW5SZXNvbHV0aW9uKG1pblJlc29sdXRpb24pIHtcbiAgICB0aGlzLnNldChMYXllclByb3BlcnR5Lk1JTl9SRVNPTFVUSU9OLCBtaW5SZXNvbHV0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG1heGltdW0gem9vbSAoZXhjbHVzaXZlKSBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS5cbiAgICogTm90ZSB0aGF0IHRoZSB6b29tIGxldmVscyBmb3IgbGF5ZXIgdmlzaWJpbGl0eSBhcmUgYmFzZWQgb24gdGhlXG4gICAqIHZpZXcgem9vbSBsZXZlbCwgd2hpY2ggbWF5IGJlIGRpZmZlcmVudCBmcm9tIGEgdGlsZSBzb3VyY2Ugem9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heFpvb20gVGhlIG1heGltdW0gem9vbSBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE1heFpvb20obWF4Wm9vbSkge1xuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuTUFYX1pPT00sIG1heFpvb20pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbWluaW11bSB6b29tIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoZSBsYXllciBpcyB2aXNpYmxlLlxuICAgKiBOb3RlIHRoYXQgdGhlIHpvb20gbGV2ZWxzIGZvciBsYXllciB2aXNpYmlsaXR5IGFyZSBiYXNlZCBvbiB0aGVcbiAgICogdmlldyB6b29tIGxldmVsLCB3aGljaCBtYXkgYmUgZGlmZmVyZW50IGZyb20gYSB0aWxlIHNvdXJjZSB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluWm9vbSBUaGUgbWluaW11bSB6b29tIG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TWluWm9vbShtaW5ab29tKSB7XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5NSU5fWk9PTSwgbWluWm9vbSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBvcGFjaXR5IG9mIHRoZSBsYXllciwgYWxsb3dlZCB2YWx1ZXMgcmFuZ2UgZnJvbSAwIHRvIDEuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IFRoZSBvcGFjaXR5IG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0T3BhY2l0eShvcGFjaXR5KSB7XG4gICAgYXNzZXJ0KHR5cGVvZiBvcGFjaXR5ID09PSAnbnVtYmVyJywgNjQpOyAvLyBMYXllciBvcGFjaXR5IG11c3QgYmUgYSBudW1iZXJcbiAgICB0aGlzLnNldChMYXllclByb3BlcnR5Lk9QQUNJVFksIG9wYWNpdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgbGF5ZXIgKGB0cnVlYCBvciBgZmFsc2VgKS5cbiAgICogQHBhcmFtIHtib29sZWFufSB2aXNpYmxlIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0VmlzaWJsZSh2aXNpYmxlKSB7XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5WSVNJQkxFLCB2aXNpYmxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgWi1pbmRleCBvZiB0aGUgbGF5ZXIsIHdoaWNoIGlzIHVzZWQgdG8gb3JkZXIgbGF5ZXJzIGJlZm9yZSByZW5kZXJpbmcuXG4gICAqIFRoZSBkZWZhdWx0IFotaW5kZXggaXMgMC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHppbmRleCBUaGUgei1pbmRleCBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFpJbmRleCh6aW5kZXgpIHtcbiAgICB0aGlzLnNldChMYXllclByb3BlcnR5LlpfSU5ERVgsIHppbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAuXG4gICAqL1xuICBkaXNwb3NlSW50ZXJuYWwoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGVfKSB7XG4gICAgICB0aGlzLnN0YXRlXy5sYXllciA9IG51bGw7XG4gICAgICB0aGlzLnN0YXRlXyA9IG51bGw7XG4gICAgfVxuICAgIHN1cGVyLmRpc3Bvc2VJbnRlcm5hbCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VMYXllcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9MYXllclxuICovXG5pbXBvcnQgQmFzZUxheWVyIGZyb20gJy4vQmFzZS5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IExheWVyUHJvcGVydHkgZnJvbSAnLi9Qcm9wZXJ0eS5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4uL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXl9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlKTpIVE1MRWxlbWVudH0gUmVuZGVyRnVuY3Rpb25cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsnc291cmNlcmVhZHknfCdjaGFuZ2U6c291cmNlJ30gTGF5ZXJFdmVudFR5cGVcbiAqL1xuXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3xcbiAqICAgICBMYXllckV2ZW50VHlwZSwgaW1wb3J0KFwiLi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRUeXBlXCIpLkxheWVyUmVuZGVyRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50XCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfGltcG9ydChcIi4vQmFzZVwiKS5CYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzfExheWVyRXZlbnRUeXBlfFxuICogICAgIGltcG9ydChcIi4uL3JlbmRlci9FdmVudFR5cGVcIikuTGF5ZXJSZW5kZXJFdmVudFR5cGVzLCBSZXR1cm4+fSBMYXllck9uU2lnbmF0dXJlXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9Tb3VyY2UuanNcIikuZGVmYXVsdH0gW1NvdXJjZVR5cGU9aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5kZWZhdWx0XVxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWxheWVyJ10gQSBDU1MgY2xhc3MgbmFtZSB0byBzZXQgdG8gdGhlIGxheWVyIGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7U291cmNlVHlwZX0gW3NvdXJjZV0gU291cmNlIGZvciB0aGlzIGxheWVyLiAgSWYgbm90IHByb3ZpZGVkIHRvIHRoZSBjb25zdHJ1Y3RvcixcbiAqIHRoZSBzb3VyY2UgY2FuIGJlIHNldCBieSBjYWxsaW5nIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIjc2V0U291cmNlIGxheWVyLnNldFNvdXJjZShzb3VyY2UpfSBhZnRlclxuICogY29uc3RydWN0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdHxudWxsfSBbbWFwXSBNYXAuXG4gKiBAcHJvcGVydHkge1JlbmRlckZ1bmN0aW9ufSBbcmVuZGVyXSBSZW5kZXIgZnVuY3Rpb24uIFRha2VzIHRoZSBmcmFtZSBzdGF0ZSBhcyBpbnB1dCBhbmQgaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGFuXG4gKiBIVE1MIGVsZW1lbnQuIFdpbGwgb3ZlcndyaXRlIHRoZSBkZWZhdWx0IHJlbmRlcmluZyBmb3IgdGhlIGxheWVyLlxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCAqPn0gW3Byb3BlcnRpZXNdIEFyYml0cmFyeSBvYnNlcnZhYmxlIHByb3BlcnRpZXMuIENhbiBiZSBhY2Nlc3NlZCB3aXRoIGAjZ2V0KClgIGFuZCBgI3NldCgpYC5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN0YXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gb3BhY2l0eSBPcGFjaXR5LCB0aGUgdmFsdWUgaXMgcm91bmRlZCB0byB0d28gZGlnaXRzIHRvIGFwcGVhciBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdmlzaWJsZSBWaXNpYmxlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBtYW5hZ2VkIE1hbmFnZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIEV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6SW5kZXggWkluZGV4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFJlc29sdXRpb24gTWF4aW11bSByZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblJlc29sdXRpb24gTWluaW11bSByZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblpvb20gTWluaW11bSB6b29tLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFpvb20gTWF4aW11bSB6b29tLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyBmcm9tIHdoaWNoIGFsbCBsYXllciB0eXBlcyBhcmUgZGVyaXZlZC4gVGhpcyBzaG91bGQgb25seSBiZSBpbnN0YW50aWF0ZWRcbiAqIGluIHRoZSBjYXNlIHdoZXJlIGEgY3VzdG9tIGxheWVyIGlzIGFkZGVkIHRvIHRoZSBtYXAgd2l0aCBhIGN1c3RvbSBgcmVuZGVyYCBmdW5jdGlvbi5cbiAqIFN1Y2ggYSBmdW5jdGlvbiBjYW4gYmUgc3BlY2lmaWVkIGluIHRoZSBgb3B0aW9uc2Agb2JqZWN0LCBhbmQgaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGFuIEhUTUwgZWxlbWVudC5cbiAqXG4gKiBBIHZpc3VhbCByZXByZXNlbnRhdGlvbiBvZiByYXN0ZXIgb3IgdmVjdG9yIG1hcCBkYXRhLlxuICogTGF5ZXJzIGdyb3VwIHRvZ2V0aGVyIHRob3NlIHByb3BlcnRpZXMgdGhhdCBwZXJ0YWluIHRvIGhvdyB0aGUgZGF0YSBpcyB0byBiZVxuICogZGlzcGxheWVkLCBpcnJlc3BlY3RpdmUgb2YgdGhlIHNvdXJjZSBvZiB0aGF0IGRhdGEuXG4gKlxuICogTGF5ZXJzIGFyZSB1c3VhbGx5IGFkZGVkIHRvIGEgbWFwIHdpdGggW21hcC5hZGRMYXllcigpXXtAbGluayBpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdCNhZGRMYXllcn0uXG4gKiBDb21wb25lbnRzIGxpa2Uge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmF3fkRyYXd9IHVzZSB1bm1hbmFnZWQgbGF5ZXJzXG4gKiBpbnRlcm5hbGx5LiBUaGVzZSB1bm1hbmFnZWQgbGF5ZXJzIGFyZSBhc3NvY2lhdGVkIHdpdGggdGhlIG1hcCB1c2luZ1xuICogW2xheWVyLnNldE1hcCgpXXtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIjc2V0TWFwfSBpbnN0ZWFkLlxuICpcbiAqIEEgZ2VuZXJpYyBgY2hhbmdlYCBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSBzdGF0ZSBvZiB0aGUgc291cmNlIGNoYW5nZXMuXG4gKiBBIGBzb3VyY2VyZWFkeWAgZXZlbnQgaXMgZmlyZWQgd2hlbiB0aGUgbGF5ZXIncyBzb3VyY2UgaXMgcmVhZHkuXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4uL3JlbmRlci9FdmVudC5qc1wiKS5SZW5kZXJFdmVudCNwcmVyZW5kZXJcbiAqIEBmaXJlcyBpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnQuanNcIikuUmVuZGVyRXZlbnQjcG9zdHJlbmRlclxuICogQGZpcmVzIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5CYXNlRXZlbnQjc291cmNlcmVhZHlcbiAqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9Tb3VyY2UuanNcIikuZGVmYXVsdH0gW1NvdXJjZVR5cGU9aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5kZWZhdWx0XVxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9yZW5kZXJlci9MYXllci5qc1wiKS5kZWZhdWx0fSBbUmVuZGVyZXJUeXBlPWltcG9ydChcIi4uL3JlbmRlcmVyL0xheWVyLmpzXCIpLmRlZmF1bHRdXG4gKiBAYXBpXG4gKi9cbmNsYXNzIExheWVyIGV4dGVuZHMgQmFzZUxheWVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uczxTb3VyY2VUeXBlPn0gb3B0aW9ucyBMYXllciBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIGNvbnN0IGJhc2VPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgZGVsZXRlIGJhc2VPcHRpb25zLnNvdXJjZTtcblxuICAgIHN1cGVyKGJhc2VPcHRpb25zKTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7TGF5ZXJPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtMYXllck9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7TGF5ZXJPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgKi9cbiAgICB0aGlzLnVuO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICovXG4gICAgdGhpcy5tYXBQcmVjb21wb3NlS2V5XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgKi9cbiAgICB0aGlzLm1hcFJlbmRlcktleV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICovXG4gICAgdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1JlbmRlcmVyVHlwZX1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVyXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlUmVhZHlfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZCA9IGZhbHNlO1xuXG4gICAgLy8gT3ZlcndyaXRlIGRlZmF1bHQgcmVuZGVyIG1ldGhvZCB3aXRoIGEgY3VzdG9tIG9uZVxuICAgIGlmIChvcHRpb25zLnJlbmRlcikge1xuICAgICAgdGhpcy5yZW5kZXIgPSBvcHRpb25zLnJlbmRlcjtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5tYXApIHtcbiAgICAgIHRoaXMuc2V0TWFwKG9wdGlvbnMubWFwKTtcbiAgICB9XG5cbiAgICB0aGlzLmFkZENoYW5nZUxpc3RlbmVyKFxuICAgICAgTGF5ZXJQcm9wZXJ0eS5TT1VSQ0UsXG4gICAgICB0aGlzLmhhbmRsZVNvdXJjZVByb3BlcnR5Q2hhbmdlX1xuICAgICk7XG5cbiAgICBjb25zdCBzb3VyY2UgPSBvcHRpb25zLnNvdXJjZVxuICAgICAgPyAvKiogQHR5cGUge1NvdXJjZVR5cGV9ICovIChvcHRpb25zLnNvdXJjZSlcbiAgICAgIDogbnVsbDtcbiAgICB0aGlzLnNldFNvdXJjZShzb3VyY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pn0gW2FycmF5XSBBcnJheSBvZiBsYXllcnMgKHRvIGJlIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pn0gQXJyYXkgb2YgbGF5ZXJzLlxuICAgKi9cbiAgZ2V0TGF5ZXJzQXJyYXkoYXJyYXkpIHtcbiAgICBhcnJheSA9IGFycmF5ID8gYXJyYXkgOiBbXTtcbiAgICBhcnJheS5wdXNoKHRoaXMpO1xuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+fSBbc3RhdGVzXSBPcHRpb25hbCBsaXN0IG9mIGxheWVyIHN0YXRlcyAodG8gYmUgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gTGlzdCBvZiBsYXllciBzdGF0ZXMuXG4gICAqL1xuICBnZXRMYXllclN0YXRlc0FycmF5KHN0YXRlcykge1xuICAgIHN0YXRlcyA9IHN0YXRlcyA/IHN0YXRlcyA6IFtdO1xuICAgIHN0YXRlcy5wdXNoKHRoaXMuZ2V0TGF5ZXJTdGF0ZSgpKTtcbiAgICByZXR1cm4gc3RhdGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGF5ZXIgc291cmNlLlxuICAgKiBAcmV0dXJuIHtTb3VyY2VUeXBlfG51bGx9IFRoZSBsYXllciBzb3VyY2UgKG9yIGBudWxsYCBpZiBub3QgeWV0IHNldCkuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFNvdXJjZSgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtTb3VyY2VUeXBlfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5TT1VSQ0UpKSB8fCBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1NvdXJjZVR5cGV8bnVsbH0gVGhlIHNvdXJjZSBiZWluZyByZW5kZXJlZC5cbiAgICovXG4gIGdldFJlbmRlclNvdXJjZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTb3VyY2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlLmpzXCIpLlN0YXRlfSBTb3VyY2Ugc3RhdGUuXG4gICAqL1xuICBnZXRTb3VyY2VTdGF0ZSgpIHtcbiAgICBjb25zdCBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpO1xuICAgIHJldHVybiAhc291cmNlID8gJ3VuZGVmaW5lZCcgOiBzb3VyY2UuZ2V0U3RhdGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlU291cmNlQ2hhbmdlXygpIHtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICBpZiAodGhpcy5zb3VyY2VSZWFkeV8gfHwgdGhpcy5nZXRTb3VyY2UoKS5nZXRTdGF0ZSgpICE9PSAncmVhZHknKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc291cmNlUmVhZHlfID0gdHJ1ZTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ3NvdXJjZXJlYWR5Jyk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVNvdXJjZVByb3BlcnR5Q2hhbmdlXygpIHtcbiAgICBpZiAodGhpcy5zb3VyY2VDaGFuZ2VLZXlfKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMuc291cmNlQ2hhbmdlS2V5Xyk7XG4gICAgICB0aGlzLnNvdXJjZUNoYW5nZUtleV8gPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLnNvdXJjZVJlYWR5XyA9IGZhbHNlO1xuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCk7XG4gICAgaWYgKHNvdXJjZSkge1xuICAgICAgdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbGlzdGVuKFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIEV2ZW50VHlwZS5DSEFOR0UsXG4gICAgICAgIHRoaXMuaGFuZGxlU291cmNlQ2hhbmdlXyxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICAgIGlmIChzb3VyY2UuZ2V0U3RhdGUoKSA9PT0gJ3JlYWR5Jykge1xuICAgICAgICB0aGlzLnNvdXJjZVJlYWR5XyA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnc291cmNlcmVhZHknKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWxcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PGltcG9ydChcIi4uL0ZlYXR1cmVcIikuRmVhdHVyZUxpa2U+Pn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGhcbiAgICogYW4gYXJyYXkgb2YgZmVhdHVyZXMuXG4gICAqL1xuICBnZXRGZWF0dXJlcyhwaXhlbCkge1xuICAgIGlmICghdGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl8uZ2V0RmVhdHVyZXMocGl4ZWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWxcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcmV0dXJuIHtVaW50OENsYW1wZWRBcnJheXxVaW50OEFycmF5fEZsb2F0MzJBcnJheXxEYXRhVmlld3xudWxsfSBQaXhlbCBkYXRhLlxuICAgKi9cbiAgZ2V0RGF0YShwaXhlbCkge1xuICAgIGlmICghdGhpcy5yZW5kZXJlcl8gfHwgIXRoaXMucmVuZGVyZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl8uZ2V0RGF0YShwaXhlbCk7XG4gIH1cblxuICAvKipcbiAgICogSW4gY2hhcmdlIHRvIG1hbmFnZSB0aGUgcmVuZGVyaW5nIG9mIHRoZSBsYXllci4gT25lIGxheWVyIHR5cGUgaXNcbiAgICogYm91bmRlZCB3aXRoIG9uZSBsYXllciByZW5kZXJlci5cbiAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCBUYXJnZXQgd2hpY2ggdGhlIHJlbmRlcmVyIG1heSAoYnV0IG5lZWQgbm90KSB1c2VcbiAgICogZm9yIHJlbmRlcmluZyBpdHMgY29udGVudC5cbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgcmVuZGVyKGZyYW1lU3RhdGUsIHRhcmdldCkge1xuICAgIGNvbnN0IGxheWVyUmVuZGVyZXIgPSB0aGlzLmdldFJlbmRlcmVyKCk7XG5cbiAgICBpZiAobGF5ZXJSZW5kZXJlci5wcmVwYXJlRnJhbWUoZnJhbWVTdGF0ZSkpIHtcbiAgICAgIHRoaXMucmVuZGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGxheWVyUmVuZGVyZXIucmVuZGVyRnJhbWUoZnJhbWVTdGF0ZSwgdGFyZ2V0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBsYXllciBpcyBub3QgdmlzaWJsZSBkdXJpbmcgYSBtYXAgcmVuZGVyLlxuICAgKi9cbiAgdW5yZW5kZXIoKSB7XG4gICAgdGhpcy5yZW5kZXJlZCA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvciB1c2UgaW5zaWRlIHRoZSBsaWJyYXJ5IG9ubHkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR8bnVsbH0gbWFwIE1hcC5cbiAgICovXG4gIHNldE1hcEludGVybmFsKG1hcCkge1xuICAgIGlmICghbWFwKSB7XG4gICAgICB0aGlzLnVucmVuZGVyKCk7XG4gICAgfVxuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuTUFQLCBtYXApO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvciB1c2UgaW5zaWRlIHRoZSBsaWJyYXJ5IG9ubHkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9IE1hcC5cbiAgICovXG4gIGdldE1hcEludGVybmFsKCkge1xuICAgIHJldHVybiB0aGlzLmdldChMYXllclByb3BlcnR5Lk1BUCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbGF5ZXIgdG8gYmUgcmVuZGVyZWQgb24gdG9wIG9mIG90aGVyIGxheWVycyBvbiBhIG1hcC4gVGhlIG1hcCB3aWxsXG4gICAqIG5vdCBtYW5hZ2UgdGhpcyBsYXllciBpbiBpdHMgbGF5ZXJzIGNvbGxlY3Rpb24uIFRoaXNcbiAgICogaXMgdXNlZnVsIGZvciB0ZW1wb3JhcnkgbGF5ZXJzLiBUbyByZW1vdmUgYW4gdW5tYW5hZ2VkIGxheWVyIGZyb20gdGhlIG1hcCxcbiAgICogdXNlIGAjc2V0TWFwKG51bGwpYC5cbiAgICpcbiAgICogVG8gYWRkIHRoZSBsYXllciB0byBhIG1hcCBhbmQgaGF2ZSBpdCBtYW5hZ2VkIGJ5IHRoZSBtYXAsIHVzZVxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXAjYWRkTGF5ZXJ9IGluc3RlYWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR8bnVsbH0gbWFwIE1hcC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TWFwKG1hcCkge1xuICAgIGlmICh0aGlzLm1hcFByZWNvbXBvc2VLZXlfKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMubWFwUHJlY29tcG9zZUtleV8pO1xuICAgICAgdGhpcy5tYXBQcmVjb21wb3NlS2V5XyA9IG51bGw7XG4gICAgfVxuICAgIGlmICghbWFwKSB7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWFwUmVuZGVyS2V5Xykge1xuICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLm1hcFJlbmRlcktleV8pO1xuICAgICAgdGhpcy5tYXBSZW5kZXJLZXlfID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG1hcCkge1xuICAgICAgdGhpcy5tYXBQcmVjb21wb3NlS2V5XyA9IGxpc3RlbihcbiAgICAgICAgbWFwLFxuICAgICAgICBSZW5kZXJFdmVudFR5cGUuUFJFQ09NUE9TRSxcbiAgICAgICAgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgIGNvbnN0IHJlbmRlckV2ZW50ID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50LmpzXCIpLmRlZmF1bHR9ICovIChldnQpO1xuICAgICAgICAgIGNvbnN0IGxheWVyU3RhdGVzQXJyYXkgPSByZW5kZXJFdmVudC5mcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXk7XG4gICAgICAgICAgY29uc3QgbGF5ZXJTdGF0ZSA9IHRoaXMuZ2V0TGF5ZXJTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgLy8gQSBsYXllciBjYW4gb25seSBiZSBhZGRlZCB0byB0aGUgbWFwIG9uY2UuIFVzZSBlaXRoZXIgYGxheWVyLnNldE1hcCgpYCBvciBgbWFwLmFkZExheWVyKClgLCBub3QgYm90aC5cbiAgICAgICAgICBhc3NlcnQoXG4gICAgICAgICAgICAhbGF5ZXJTdGF0ZXNBcnJheS5zb21lKGZ1bmN0aW9uIChhcnJheUxheWVyU3RhdGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGFycmF5TGF5ZXJTdGF0ZS5sYXllciA9PT0gbGF5ZXJTdGF0ZS5sYXllcjtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgNjdcbiAgICAgICAgICApO1xuICAgICAgICAgIGxheWVyU3RhdGVzQXJyYXkucHVzaChsYXllclN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICAgIHRoaXMubWFwUmVuZGVyS2V5XyA9IGxpc3Rlbih0aGlzLCBFdmVudFR5cGUuQ0hBTkdFLCBtYXAucmVuZGVyLCBtYXApO1xuICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbGF5ZXIgc291cmNlLlxuICAgKiBAcGFyYW0ge1NvdXJjZVR5cGV8bnVsbH0gc291cmNlIFRoZSBsYXllciBzb3VyY2UuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFNvdXJjZShzb3VyY2UpIHtcbiAgICB0aGlzLnNldChMYXllclByb3BlcnR5LlNPVVJDRSwgc291cmNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHJlbmRlcmVyIGZvciB0aGlzIGxheWVyLlxuICAgKiBAcmV0dXJuIHtSZW5kZXJlclR5cGV8bnVsbH0gVGhlIGxheWVyIHJlbmRlcmVyLlxuICAgKi9cbiAgZ2V0UmVuZGVyZXIoKSB7XG4gICAgaWYgKCF0aGlzLnJlbmRlcmVyXykge1xuICAgICAgdGhpcy5yZW5kZXJlcl8gPSB0aGlzLmNyZWF0ZVJlbmRlcmVyKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgbGF5ZXIgaGFzIGEgcmVuZGVyZXIuXG4gICAqL1xuICBoYXNSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gISF0aGlzLnJlbmRlcmVyXztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSByZW5kZXJlciBmb3IgdGhpcyBsYXllci5cbiAgICogQHJldHVybiB7UmVuZGVyZXJUeXBlfSBBIGxheWVyIHJlbmRlcmVyLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBjcmVhdGVSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbiB1cC5cbiAgICovXG4gIGRpc3Bvc2VJbnRlcm5hbCgpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgIHRoaXMucmVuZGVyZXJfLmRpc3Bvc2UoKTtcbiAgICAgIGRlbGV0ZSB0aGlzLnJlbmRlcmVyXztcbiAgICB9XG5cbiAgICB0aGlzLnNldFNvdXJjZShudWxsKTtcbiAgICBzdXBlci5kaXNwb3NlSW50ZXJuYWwoKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGxheWVyIGlzIHZpc2libGUgYW5kIGlmIHRoZSBwcm92aWRlZCB2aWV3IHN0YXRlXG4gKiBoYXMgcmVzb2x1dGlvbiBhbmQgem9vbSBsZXZlbHMgdGhhdCBhcmUgaW4gcmFuZ2Ugb2YgdGhlIGxheWVyJ3MgbWluL21heC5cbiAqIEBwYXJhbSB7U3RhdGV9IGxheWVyU3RhdGUgTGF5ZXIgc3RhdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL1ZpZXcuanNcIikuU3RhdGV9IHZpZXdTdGF0ZSBWaWV3IHN0YXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGxheWVyIGlzIHZpc2libGUgYXQgdGhlIGdpdmVuIHZpZXcgc3RhdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpblZpZXcobGF5ZXJTdGF0ZSwgdmlld1N0YXRlKSB7XG4gIGlmICghbGF5ZXJTdGF0ZS52aXNpYmxlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHJlc29sdXRpb24gPSB2aWV3U3RhdGUucmVzb2x1dGlvbjtcbiAgaWYgKFxuICAgIHJlc29sdXRpb24gPCBsYXllclN0YXRlLm1pblJlc29sdXRpb24gfHxcbiAgICByZXNvbHV0aW9uID49IGxheWVyU3RhdGUubWF4UmVzb2x1dGlvblxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3Qgem9vbSA9IHZpZXdTdGF0ZS56b29tO1xuICByZXR1cm4gem9vbSA+IGxheWVyU3RhdGUubWluWm9vbSAmJiB6b29tIDw9IGxheWVyU3RhdGUubWF4Wm9vbTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTGF5ZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvUHJvcGVydHlcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgT1BBQ0lUWTogJ29wYWNpdHknLFxuICBWSVNJQkxFOiAndmlzaWJsZScsXG4gIEVYVEVOVDogJ2V4dGVudCcsXG4gIFpfSU5ERVg6ICd6SW5kZXgnLFxuICBNQVhfUkVTT0xVVElPTjogJ21heFJlc29sdXRpb24nLFxuICBNSU5fUkVTT0xVVElPTjogJ21pblJlc29sdXRpb24nLFxuICBNQVhfWk9PTTogJ21heFpvb20nLFxuICBNSU5fWk9PTTogJ21pblpvb20nLFxuICBTT1VSQ0U6ICdzb3VyY2UnLFxuICBNQVA6ICdtYXAnLFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9CYXNlVGlsZVxuICovXG5pbXBvcnQgTGF5ZXIgZnJvbSAnLi9MYXllci5qcyc7XG5pbXBvcnQgVGlsZVByb3BlcnR5IGZyb20gJy4vVGlsZVByb3BlcnR5LmpzJztcblxuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9CYXNlXCIpLkJhc2VMYXllck9iamVjdEV2ZW50VHlwZXN8XG4gKiAgICAgaW1wb3J0KFwiLi9MYXllci5qc1wiKS5MYXllckV2ZW50VHlwZXwnY2hhbmdlOnByZWxvYWQnfCdjaGFuZ2U6dXNlSW50ZXJpbVRpbGVzT25FcnJvcicsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5MYXllclJlbmRlckV2ZW50VHlwZXMsIGltcG9ydChcIi4uL3JlbmRlci9FdmVudFwiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3xcbiAqICAgaW1wb3J0KFwiLi9MYXllci5qc1wiKS5MYXllckV2ZW50VHlwZXwnY2hhbmdlOnByZWxvYWQnfCdjaGFuZ2U6dXNlSW50ZXJpbVRpbGVzT25FcnJvcid8aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5MYXllclJlbmRlckV2ZW50VHlwZXMsIFJldHVybj59IEJhc2VUaWxlTGF5ZXJPblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSBUaWxlU291cmNlVHlwZVxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWxheWVyJ10gQSBDU1MgY2xhc3MgbmFtZSB0byBzZXQgdG8gdGhlIGxheWVyIGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcHJlbG9hZD0wXSBQcmVsb2FkLiBMb2FkIGxvdy1yZXNvbHV0aW9uIHRpbGVzIHVwIHRvIGBwcmVsb2FkYCBsZXZlbHMuIGAwYFxuICogbWVhbnMgbm8gcHJlbG9hZGluZy5cbiAqIEBwcm9wZXJ0eSB7VGlsZVNvdXJjZVR5cGV9IFtzb3VyY2VdIFNvdXJjZSBmb3IgdGhpcyBsYXllci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR9IFttYXBdIFNldHMgdGhlIGxheWVyIGFzIG92ZXJsYXkgb24gYSBtYXAuIFRoZSBtYXAgd2lsbCBub3QgbWFuYWdlXG4gKiB0aGlzIGxheWVyIGluIGl0cyBsYXllcnMgY29sbGVjdGlvbiwgYW5kIHRoZSBsYXllciB3aWxsIGJlIHJlbmRlcmVkIG9uIHRvcC4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gKiB0ZW1wb3JhcnkgbGF5ZXJzLiBUaGUgc3RhbmRhcmQgd2F5IHRvIGFkZCBhIGxheWVyIHRvIGEgbWFwIGFuZCBoYXZlIGl0IG1hbmFnZWQgYnkgdGhlIG1hcCBpcyB0b1xuICogdXNlIHtAbGluayBpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdCNhZGRMYXllciBtYXAuYWRkTGF5ZXIoKX0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt1c2VJbnRlcmltVGlsZXNPbkVycm9yPXRydWVdIFVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCAqPn0gW3Byb3BlcnRpZXNdIEFyYml0cmFyeSBvYnNlcnZhYmxlIHByb3BlcnRpZXMuIENhbiBiZSBhY2Nlc3NlZCB3aXRoIGAjZ2V0KClgIGFuZCBgI3NldCgpYC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEZvciBsYXllciBzb3VyY2VzIHRoYXQgcHJvdmlkZSBwcmUtcmVuZGVyZWQsIHRpbGVkIGltYWdlcyBpbiBncmlkcyB0aGF0IGFyZVxuICogb3JnYW5pemVkIGJ5IHpvb20gbGV2ZWxzIGZvciBzcGVjaWZpYyByZXNvbHV0aW9ucy5cbiAqIE5vdGUgdGhhdCBhbnkgcHJvcGVydHkgc2V0IGluIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9XG4gKiBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0OyBmb3IgZXhhbXBsZSwgc2V0dGluZyBgdGl0bGU6ICdNeSBUaXRsZSdgIGluIHRoZVxuICogb3B0aW9ucyBtZWFucyB0aGF0IGB0aXRsZWAgaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGVTb3VyY2VUeXBlXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3JlbmRlcmVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IFJlbmRlcmVyVHlwZVxuICogQGV4dGVuZHMge0xheWVyPFRpbGVTb3VyY2VUeXBlLCBSZW5kZXJlclR5cGU+fVxuICogQGFwaVxuICovXG5jbGFzcyBCYXNlVGlsZUxheWVyIGV4dGVuZHMgTGF5ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zPFRpbGVTb3VyY2VUeXBlPn0gW29wdGlvbnNdIFRpbGUgbGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIGNvbnN0IGJhc2VPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG5cbiAgICBkZWxldGUgYmFzZU9wdGlvbnMucHJlbG9hZDtcbiAgICBkZWxldGUgYmFzZU9wdGlvbnMudXNlSW50ZXJpbVRpbGVzT25FcnJvcjtcbiAgICBzdXBlcihiYXNlT3B0aW9ucyk7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0Jhc2VUaWxlTGF5ZXJPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtCYXNlVGlsZUxheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbmNlO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtCYXNlVGlsZUxheWVyT25TaWduYXR1cmU8dm9pZD59XG4gICAgICovXG4gICAgdGhpcy51bjtcblxuICAgIHRoaXMuc2V0UHJlbG9hZChvcHRpb25zLnByZWxvYWQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucHJlbG9hZCA6IDApO1xuICAgIHRoaXMuc2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvcihcbiAgICAgIG9wdGlvbnMudXNlSW50ZXJpbVRpbGVzT25FcnJvciAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy51c2VJbnRlcmltVGlsZXNPbkVycm9yXG4gICAgICAgIDogdHJ1ZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBsZXZlbCBhcyBudW1iZXIgdG8gd2hpY2ggd2Ugd2lsbCBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBsZXZlbCB0byBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRQcmVsb2FkKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KFRpbGVQcm9wZXJ0eS5QUkVMT0FEKSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBsZXZlbCBhcyBudW1iZXIgdG8gd2hpY2ggd2Ugd2lsbCBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcHJlbG9hZCBUaGUgbGV2ZWwgdG8gcHJlbG9hZCB0aWxlcyB1cCB0by5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0UHJlbG9hZChwcmVsb2FkKSB7XG4gICAgdGhpcy5zZXQoVGlsZVByb3BlcnR5LlBSRUxPQUQsIHByZWxvYWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgd2UgdXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2Jvb2xlYW59ICovIChcbiAgICAgIHRoaXMuZ2V0KFRpbGVQcm9wZXJ0eS5VU0VfSU5URVJJTV9USUxFU19PTl9FUlJPUilcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB3aGV0aGVyIHdlIHVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUludGVyaW1UaWxlc09uRXJyb3IgVXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFVzZUludGVyaW1UaWxlc09uRXJyb3IodXNlSW50ZXJpbVRpbGVzT25FcnJvcikge1xuICAgIHRoaXMuc2V0KFRpbGVQcm9wZXJ0eS5VU0VfSU5URVJJTV9USUxFU19PTl9FUlJPUiwgdXNlSW50ZXJpbVRpbGVzT25FcnJvcik7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRhdGEgZm9yIGEgcGl4ZWwgbG9jYXRpb24uICBUaGUgcmV0dXJuIHR5cGUgZGVwZW5kcyBvbiB0aGUgc291cmNlIGRhdGEuICBGb3IgaW1hZ2UgdGlsZXMsXG4gICAqIGEgZm91ciBlbGVtZW50IFJHQkEgYXJyYXkgd2lsbCBiZSByZXR1cm5lZC4gIEZvciBkYXRhIHRpbGVzLCB0aGUgYXJyYXkgbGVuZ3RoIHdpbGwgbWF0Y2ggdGhlXG4gICAqIG51bWJlciBvZiBiYW5kcyBpbiB0aGUgZGF0YXNldC4gIEZvciByZXF1ZXN0cyBvdXRzaWRlIHRoZSBsYXllciBleHRlbnQsIGBudWxsYCB3aWxsIGJlIHJldHVybmVkLlxuICAgKiBEYXRhIGZvciBhIGltYWdlIHRpbGVzIGNhbiBvbmx5IGJlIHJldHJpZXZlZCBpZiB0aGUgc291cmNlJ3MgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBpcyBzZXQuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGRpc3BsYXkgbGF5ZXIgZGF0YSBvbiBldmVyeSBwb2ludGVyIG1vdmVcbiAgICogbWFwLm9uKCdwb2ludGVybW92ZScsIChldmVudCkgPT4ge1xuICAgKiAgIGNvbnNvbGUubG9nKGxheWVyLmdldERhdGEoZXZlbnQucGl4ZWwpKTtcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICogQHJldHVybiB7VWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheXxGbG9hdDMyQXJyYXl8RGF0YVZpZXd8bnVsbH0gUGl4ZWwgZGF0YS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RGF0YShwaXhlbCkge1xuICAgIHJldHVybiBzdXBlci5nZXREYXRhKHBpeGVsKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCYXNlVGlsZUxheWVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL1RpbGVcbiAqL1xuaW1wb3J0IEJhc2VUaWxlTGF5ZXIgZnJvbSAnLi9CYXNlVGlsZS5qcyc7XG5pbXBvcnQgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIgZnJvbSAnLi4vcmVuZGVyZXIvY2FudmFzL1RpbGVMYXllci5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRm9yIGxheWVyIHNvdXJjZXMgdGhhdCBwcm92aWRlIHByZS1yZW5kZXJlZCwgdGlsZWQgaW1hZ2VzIGluIGdyaWRzIHRoYXQgYXJlXG4gKiBvcmdhbml6ZWQgYnkgem9vbSBsZXZlbHMgZm9yIHNwZWNpZmljIHJlc29sdXRpb25zLlxuICogTm90ZSB0aGF0IGFueSBwcm9wZXJ0eSBzZXQgaW4gdGhlIG9wdGlvbnMgaXMgc2V0IGFzIGEge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdH1cbiAqIHByb3BlcnR5IG9uIHRoZSBsYXllciBvYmplY3Q7IGZvciBleGFtcGxlLCBzZXR0aW5nIGB0aXRsZTogJ015IFRpdGxlJ2AgaW4gdGhlXG4gKiBvcHRpb25zIG1lYW5zIHRoYXQgYHRpdGxlYCBpcyBvYnNlcnZhYmxlLCBhbmQgaGFzIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gVGlsZVNvdXJjZVR5cGVcbiAqIEBleHRlbmRzIEJhc2VUaWxlTGF5ZXI8VGlsZVNvdXJjZVR5cGUsIENhbnZhc1RpbGVMYXllclJlbmRlcmVyPlxuICogQGFwaVxuICovXG5jbGFzcyBUaWxlTGF5ZXIgZXh0ZW5kcyBCYXNlVGlsZUxheWVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9CYXNlVGlsZS5qc1wiKS5PcHRpb25zPFRpbGVTb3VyY2VUeXBlPn0gW29wdGlvbnNdIFRpbGUgbGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgfVxuXG4gIGNyZWF0ZVJlbmRlcmVyKCkge1xuICAgIHJldHVybiBuZXcgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIodGhpcyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGlsZUxheWVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL1RpbGVQcm9wZXJ0eVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBQUkVMT0FEOiAncHJlbG9hZCcsXG4gIFVTRV9JTlRFUklNX1RJTEVTX09OX0VSUk9SOiAndXNlSW50ZXJpbVRpbGVzT25FcnJvcicsXG59O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL21hdGhcbiAqL1xuXG4vKipcbiAqIFRha2VzIGEgbnVtYmVyIGFuZCBjbGFtcHMgaXQgdG8gd2l0aGluIHRoZSBwcm92aWRlZCBib3VuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGlucHV0IG51bWJlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gVGhlIG1pbmltdW0gdmFsdWUgdG8gcmV0dXJuLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBUaGUgbWF4aW11bSB2YWx1ZSB0byByZXR1cm4uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbnB1dCBudW1iZXIgaWYgaXQgaXMgd2l0aGluIGJvdW5kcywgb3IgdGhlIG5lYXJlc3RcbiAqICAgICBudW1iZXIgd2l0aGluIHRoZSBib3VuZHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW4pLCBtYXgpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNxdWFyZSBvZiB0aGUgY2xvc2VzdCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBwb2ludCAoeCwgeSkgYW5kIHRoZVxuICogbGluZSBzZWdtZW50ICh4MSwgeTEpIHRvICh4MiwgeTIpLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge251bWJlcn0geDEgWDEuXG4gKiBAcGFyYW0ge251bWJlcn0geTEgWTEuXG4gKiBAcGFyYW0ge251bWJlcn0geDIgWDIuXG4gKiBAcGFyYW0ge251bWJlcn0geTIgWTIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgZGlzdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkU2VnbWVudERpc3RhbmNlKHgsIHksIHgxLCB5MSwgeDIsIHkyKSB7XG4gIGNvbnN0IGR4ID0geDIgLSB4MTtcbiAgY29uc3QgZHkgPSB5MiAtIHkxO1xuICBpZiAoZHggIT09IDAgfHwgZHkgIT09IDApIHtcbiAgICBjb25zdCB0ID0gKCh4IC0geDEpICogZHggKyAoeSAtIHkxKSAqIGR5KSAvIChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgaWYgKHQgPiAxKSB7XG4gICAgICB4MSA9IHgyO1xuICAgICAgeTEgPSB5MjtcbiAgICB9IGVsc2UgaWYgKHQgPiAwKSB7XG4gICAgICB4MSArPSBkeCAqIHQ7XG4gICAgICB5MSArPSBkeSAqIHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBzcXVhcmVkRGlzdGFuY2UoeCwgeSwgeDEsIHkxKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzcXVhcmUgb2YgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHBvaW50cyAoeDEsIHkxKSBhbmQgKHgyLCB5MikuXG4gKiBAcGFyYW0ge251bWJlcn0geDEgWDEuXG4gKiBAcGFyYW0ge251bWJlcn0geTEgWTEuXG4gKiBAcGFyYW0ge251bWJlcn0geDIgWDIuXG4gKiBAcGFyYW0ge251bWJlcn0geTIgWTIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgZGlzdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoeDEsIHkxLCB4MiwgeTIpIHtcbiAgY29uc3QgZHggPSB4MiAtIHgxO1xuICBjb25zdCBkeSA9IHkyIC0geTE7XG4gIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbn1cblxuLyoqXG4gKiBTb2x2ZXMgc3lzdGVtIG9mIGxpbmVhciBlcXVhdGlvbnMgdXNpbmcgR2F1c3NpYW4gZWxpbWluYXRpb24gbWV0aG9kLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IG1hdCBBdWdtZW50ZWQgbWF0cml4IChuIHggbiArIDEgY29sdW1uKVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gcm93LW1ham9yIG9yZGVyLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVGhlIHJlc3VsdGluZyB2ZWN0b3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzb2x2ZUxpbmVhclN5c3RlbShtYXQpIHtcbiAgY29uc3QgbiA9IG1hdC5sZW5ndGg7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAvLyBGaW5kIG1heCBpbiB0aGUgaS10aCBjb2x1bW4gKGlnbm9yaW5nIGkgLSAxIGZpcnN0IHJvd3MpXG4gICAgbGV0IG1heFJvdyA9IGk7XG4gICAgbGV0IG1heEVsID0gTWF0aC5hYnMobWF0W2ldW2ldKTtcbiAgICBmb3IgKGxldCByID0gaSArIDE7IHIgPCBuOyByKyspIHtcbiAgICAgIGNvbnN0IGFic1ZhbHVlID0gTWF0aC5hYnMobWF0W3JdW2ldKTtcbiAgICAgIGlmIChhYnNWYWx1ZSA+IG1heEVsKSB7XG4gICAgICAgIG1heEVsID0gYWJzVmFsdWU7XG4gICAgICAgIG1heFJvdyA9IHI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1heEVsID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDsgLy8gbWF0cml4IGlzIHNpbmd1bGFyXG4gICAgfVxuXG4gICAgLy8gU3dhcCBtYXggcm93IHdpdGggaS10aCAoY3VycmVudCkgcm93XG4gICAgY29uc3QgdG1wID0gbWF0W21heFJvd107XG4gICAgbWF0W21heFJvd10gPSBtYXRbaV07XG4gICAgbWF0W2ldID0gdG1wO1xuXG4gICAgLy8gU3VidHJhY3QgdGhlIGktdGggcm93IHRvIG1ha2UgYWxsIHRoZSByZW1haW5pbmcgcm93cyAwIGluIHRoZSBpLXRoIGNvbHVtblxuICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IG47IGorKykge1xuICAgICAgY29uc3QgY29lZiA9IC1tYXRbal1baV0gLyBtYXRbaV1baV07XG4gICAgICBmb3IgKGxldCBrID0gaTsgayA8IG4gKyAxOyBrKyspIHtcbiAgICAgICAgaWYgKGkgPT0gaykge1xuICAgICAgICAgIG1hdFtqXVtrXSA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF0W2pdW2tdICs9IGNvZWYgKiBtYXRbaV1ba107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBTb2x2ZSBBeD1iIGZvciB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeCBBIChtYXQpXG4gIGNvbnN0IHggPSBuZXcgQXJyYXkobik7XG4gIGZvciAobGV0IGwgPSBuIC0gMTsgbCA+PSAwOyBsLS0pIHtcbiAgICB4W2xdID0gbWF0W2xdW25dIC8gbWF0W2xdW2xdO1xuICAgIGZvciAobGV0IG0gPSBsIC0gMTsgbSA+PSAwOyBtLS0pIHtcbiAgICAgIG1hdFttXVtuXSAtPSBtYXRbbV1bbF0gKiB4W2xdO1xuICAgIH1cbiAgfVxuICByZXR1cm4geDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyByYWRpYW5zIHRvIHRvIGRlZ3JlZXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlSW5SYWRpYW5zIEFuZ2xlIGluIHJhZGlhbnMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFuZ2xlIGluIGRlZ3JlZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0RlZ3JlZXMoYW5nbGVJblJhZGlhbnMpIHtcbiAgcmV0dXJuIChhbmdsZUluUmFkaWFucyAqIDE4MCkgLyBNYXRoLlBJO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGVJbkRlZ3JlZXMgQW5nbGUgaW4gZGVncmVlcy5cbiAqIEByZXR1cm4ge251bWJlcn0gQW5nbGUgaW4gcmFkaWFucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvUmFkaWFucyhhbmdsZUluRGVncmVlcykge1xuICByZXR1cm4gKGFuZ2xlSW5EZWdyZWVzICogTWF0aC5QSSkgLyAxODA7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbW9kdWxvIG9mIGEgLyBiLCBkZXBlbmRpbmcgb24gdGhlIHNpZ24gb2YgYi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYSBEaXZpZGVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiIERpdmlzb3IuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1vZHVsby5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vZHVsbyhhLCBiKSB7XG4gIGNvbnN0IHIgPSBhICUgYjtcbiAgcmV0dXJuIHIgKiBiIDwgMCA/IHIgKyBiIDogcjtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgdmFsdWUgb2YgeCBiZXR3ZWVuIGEgYW5kIGIuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGEgTnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gYiBOdW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFZhbHVlIHRvIGJlIGludGVycG9sYXRlZC5cbiAqIEByZXR1cm4ge251bWJlcn0gSW50ZXJwb2xhdGVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVycChhLCBiLCB4KSB7XG4gIHJldHVybiBhICsgeCAqIChiIC0gYSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIG51bWJlciB3aXRoIGEgbGltaXRlZCBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgaW5wdXQgbnVtYmVyLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlY2ltYWxzIFRoZSBtYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIGRpZ2l0cy5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGlucHV0IG51bWJlciB3aXRoIGEgbGltaXRlZCBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0ZpeGVkKG4sIGRlY2ltYWxzKSB7XG4gIGNvbnN0IGZhY3RvciA9IE1hdGgucG93KDEwLCBkZWNpbWFscyk7XG4gIHJldHVybiBNYXRoLnJvdW5kKG4gKiBmYWN0b3IpIC8gZmFjdG9yO1xufVxuXG4vKipcbiAqIFJvdW5kcyBhIG51bWJlciB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyIHZhbHVlIGNvbnNpZGVyaW5nIG9ubHkgdGhlIGdpdmVuIG51bWJlclxuICogb2YgZGVjaW1hbCBkaWdpdHMgKHdpdGggcm91bmRpbmcgb24gdGhlIGZpbmFsIGRpZ2l0KS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBpbnB1dCBudW1iZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVjaW1hbHMgVGhlIG1heGltdW0gbnVtYmVyIG9mIGRlY2ltYWwgZGlnaXRzLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbmVhcmVzdCBpbnRlZ2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmQobiwgZGVjaW1hbHMpIHtcbiAgcmV0dXJuIE1hdGgucm91bmQodG9GaXhlZChuLCBkZWNpbWFscykpO1xufVxuXG4vKipcbiAqIFJvdW5kcyBhIG51bWJlciB0byB0aGUgbmV4dCBzbWFsbGVyIGludGVnZXIgY29uc2lkZXJpbmcgb25seSB0aGUgZ2l2ZW4gbnVtYmVyXG4gKiBvZiBkZWNpbWFsIGRpZ2l0cyAod2l0aCByb3VuZGluZyBvbiB0aGUgZmluYWwgZGlnaXQpLlxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGlucHV0IG51bWJlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWNpbWFscyBUaGUgbWF4aW11bSBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IHNtYWxsZXIgaW50ZWdlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG4sIGRlY2ltYWxzKSB7XG4gIHJldHVybiBNYXRoLmZsb29yKHRvRml4ZWQobiwgZGVjaW1hbHMpKTtcbn1cblxuLyoqXG4gKiBSb3VuZHMgYSBudW1iZXIgdG8gdGhlIG5leHQgYmlnZ2VyIGludGVnZXIgY29uc2lkZXJpbmcgb25seSB0aGUgZ2l2ZW4gbnVtYmVyXG4gKiBvZiBkZWNpbWFsIGRpZ2l0cyAod2l0aCByb3VuZGluZyBvbiB0aGUgZmluYWwgZGlnaXQpLlxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGlucHV0IG51bWJlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWNpbWFscyBUaGUgbWF4aW11bSBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IGJpZ2dlciBpbnRlZ2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VpbChuLCBkZWNpbWFscykge1xuICByZXR1cm4gTWF0aC5jZWlsKHRvRml4ZWQobiwgZGVjaW1hbHMpKTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9vYmpcbiAqL1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIHByb3BlcnRpZXMgZnJvbSBhbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xlYXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcihvYmplY3QpIHtcbiAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICBkZWxldGUgb2JqZWN0W3Byb3BlcnR5XTtcbiAgfVxufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaGFzIGFueSBwcm9wZXJ0aWVzLlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIG9iamVjdCBpcyBlbXB0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkob2JqZWN0KSB7XG4gIGxldCBwcm9wZXJ0eTtcbiAgZm9yIChwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuICFwcm9wZXJ0eTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL2Vwc2czODU3XG4gKi9cbmltcG9ydCBQcm9qZWN0aW9uIGZyb20gJy4vUHJvamVjdGlvbi5qcyc7XG5cbi8qKlxuICogUmFkaXVzIG9mIFdHUzg0IHNwaGVyZVxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IFJBRElVUyA9IDYzNzgxMzc7XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgSEFMRl9TSVpFID0gTWF0aC5QSSAqIFJBRElVUztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICovXG5leHBvcnQgY29uc3QgRVhURU5UID0gWy1IQUxGX1NJWkUsIC1IQUxGX1NJWkUsIEhBTEZfU0laRSwgSEFMRl9TSVpFXTtcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICovXG5leHBvcnQgY29uc3QgV09STERfRVhURU5UID0gWy0xODAsIC04NSwgMTgwLCA4NV07XG5cbi8qKlxuICogTWF4aW11bSBzYWZlIHZhbHVlIGluIHkgZGlyZWN0aW9uXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBNQVhfU0FGRV9ZID0gUkFESVVTICogTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSSAvIDIpKTtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQcm9qZWN0aW9uIG9iamVjdCBmb3Igd2ViL3NwaGVyaWNhbCBNZXJjYXRvciAoRVBTRzozODU3KS5cbiAqL1xuY2xhc3MgRVBTRzM4NTdQcm9qZWN0aW9uIGV4dGVuZHMgUHJvamVjdGlvbiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29kZSBDb2RlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29kZSkge1xuICAgIHN1cGVyKHtcbiAgICAgIGNvZGU6IGNvZGUsXG4gICAgICB1bml0czogJ20nLFxuICAgICAgZXh0ZW50OiBFWFRFTlQsXG4gICAgICBnbG9iYWw6IHRydWUsXG4gICAgICB3b3JsZEV4dGVudDogV09STERfRVhURU5ULFxuICAgICAgZ2V0UG9pbnRSZXNvbHV0aW9uOiBmdW5jdGlvbiAocmVzb2x1dGlvbiwgcG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdXRpb24gLyBNYXRoLmNvc2gocG9pbnRbMV0gLyBSQURJVVMpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFByb2plY3Rpb25zIGVxdWFsIHRvIEVQU0c6Mzg1Ny5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdD59XG4gKi9cbmV4cG9ydCBjb25zdCBQUk9KRUNUSU9OUyA9IFtcbiAgbmV3IEVQU0czODU3UHJvamVjdGlvbignRVBTRzozODU3JyksXG4gIG5ldyBFUFNHMzg1N1Byb2plY3Rpb24oJ0VQU0c6MTAyMTAwJyksXG4gIG5ldyBFUFNHMzg1N1Byb2plY3Rpb24oJ0VQU0c6MTAyMTEzJyksXG4gIG5ldyBFUFNHMzg1N1Byb2plY3Rpb24oJ0VQU0c6OTAwOTEzJyksXG4gIG5ldyBFUFNHMzg1N1Byb2plY3Rpb24oJ2h0dHA6Ly93d3cub3Blbmdpcy5uZXQvZGVmL2Nycy9FUFNHLzAvMzg1NycpLFxuICBuZXcgRVBTRzM4NTdQcm9qZWN0aW9uKCdodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbC9zcnMvZXBzZy54bWwjMzg1NycpLFxuXTtcblxuLyoqXG4gKiBUcmFuc2Zvcm1hdGlvbiBmcm9tIEVQU0c6NDMyNiB0byBFUFNHOjM4NTcuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBpbnB1dCBJbnB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW291dHB1dF0gT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtkaW1lbnNpb25dIERpbWVuc2lvbiAoZGVmYXVsdCBpcyBgMmApLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUVQU0c0MzI2KGlucHV0LCBvdXRwdXQsIGRpbWVuc2lvbikge1xuICBjb25zdCBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gIGRpbWVuc2lvbiA9IGRpbWVuc2lvbiA+IDEgPyBkaW1lbnNpb24gOiAyO1xuICBpZiAob3V0cHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoZGltZW5zaW9uID4gMikge1xuICAgICAgLy8gcHJlc2VydmUgdmFsdWVzIGJleW9uZCBzZWNvbmQgZGltZW5zaW9uXG4gICAgICBvdXRwdXQgPSBpbnB1dC5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gZGltZW5zaW9uKSB7XG4gICAgb3V0cHV0W2ldID0gKEhBTEZfU0laRSAqIGlucHV0W2ldKSAvIDE4MDtcbiAgICBsZXQgeSA9IFJBRElVUyAqIE1hdGgubG9nKE1hdGgudGFuKChNYXRoLlBJICogKCtpbnB1dFtpICsgMV0gKyA5MCkpIC8gMzYwKSk7XG4gICAgaWYgKHkgPiBNQVhfU0FGRV9ZKSB7XG4gICAgICB5ID0gTUFYX1NBRkVfWTtcbiAgICB9IGVsc2UgaWYgKHkgPCAtTUFYX1NBRkVfWSkge1xuICAgICAgeSA9IC1NQVhfU0FGRV9ZO1xuICAgIH1cbiAgICBvdXRwdXRbaSArIDFdID0geTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybWF0aW9uIGZyb20gRVBTRzozODU3IHRvIEVQU0c6NDMyNi5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGlucHV0IElucHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3V0cHV0XSBPdXRwdXQgYXJyYXkgb2YgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gW2RpbWVuc2lvbl0gRGltZW5zaW9uIChkZWZhdWx0IGlzIGAyYCkuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPdXRwdXQgYXJyYXkgb2YgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0VQU0c0MzI2KGlucHV0LCBvdXRwdXQsIGRpbWVuc2lvbikge1xuICBjb25zdCBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gIGRpbWVuc2lvbiA9IGRpbWVuc2lvbiA+IDEgPyBkaW1lbnNpb24gOiAyO1xuICBpZiAob3V0cHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoZGltZW5zaW9uID4gMikge1xuICAgICAgLy8gcHJlc2VydmUgdmFsdWVzIGJleW9uZCBzZWNvbmQgZGltZW5zaW9uXG4gICAgICBvdXRwdXQgPSBpbnB1dC5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gZGltZW5zaW9uKSB7XG4gICAgb3V0cHV0W2ldID0gKDE4MCAqIGlucHV0W2ldKSAvIEhBTEZfU0laRTtcbiAgICBvdXRwdXRbaSArIDFdID1cbiAgICAgICgzNjAgKiBNYXRoLmF0YW4oTWF0aC5leHAoaW5wdXRbaSArIDFdIC8gUkFESVVTKSkpIC8gTWF0aC5QSSAtIDkwO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcHJvai9lcHNnNDMyNlxuICovXG5pbXBvcnQgUHJvamVjdGlvbiBmcm9tICcuL1Byb2plY3Rpb24uanMnO1xuXG4vKipcbiAqIFNlbWktbWFqb3IgcmFkaXVzIG9mIHRoZSBXR1M4NCBlbGxpcHNvaWQuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgUkFESVVTID0gNjM3ODEzNztcblxuLyoqXG4gKiBFeHRlbnQgb2YgdGhlIEVQU0c6NDMyNiBwcm9qZWN0aW9uIHdoaWNoIGlzIHRoZSB3aG9sZSB3b3JsZC5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICovXG5leHBvcnQgY29uc3QgRVhURU5UID0gWy0xODAsIC05MCwgMTgwLCA5MF07XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgTUVURVJTX1BFUl9VTklUID0gKE1hdGguUEkgKiBSQURJVVMpIC8gMTgwO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFByb2plY3Rpb24gb2JqZWN0IGZvciBXR1M4NCBnZW9ncmFwaGljIGNvb3JkaW5hdGVzIChFUFNHOjQzMjYpLlxuICpcbiAqIE5vdGUgdGhhdCBPcGVuTGF5ZXJzIGRvZXMgbm90IHN0cmljdGx5IGNvbXBseSB3aXRoIHRoZSBFUFNHIGRlZmluaXRpb24uXG4gKiBUaGUgRVBTRyByZWdpc3RyeSBkZWZpbmVzIDQzMjYgYXMgYSBDUlMgZm9yIExhdGl0dWRlLExvbmdpdHVkZSAoeSx4KS5cbiAqIE9wZW5MYXllcnMgdHJlYXRzIEVQU0c6NDMyNiBhcyBhIHBzZXVkby1wcm9qZWN0aW9uLCB3aXRoIHgseSBjb29yZGluYXRlcy5cbiAqL1xuY2xhc3MgRVBTRzQzMjZQcm9qZWN0aW9uIGV4dGVuZHMgUHJvamVjdGlvbiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29kZSBDb2RlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2F4aXNPcmllbnRhdGlvbl0gQXhpcyBvcmllbnRhdGlvbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvZGUsIGF4aXNPcmllbnRhdGlvbikge1xuICAgIHN1cGVyKHtcbiAgICAgIGNvZGU6IGNvZGUsXG4gICAgICB1bml0czogJ2RlZ3JlZXMnLFxuICAgICAgZXh0ZW50OiBFWFRFTlQsXG4gICAgICBheGlzT3JpZW50YXRpb246IGF4aXNPcmllbnRhdGlvbixcbiAgICAgIGdsb2JhbDogdHJ1ZSxcbiAgICAgIG1ldGVyc1BlclVuaXQ6IE1FVEVSU19QRVJfVU5JVCxcbiAgICAgIHdvcmxkRXh0ZW50OiBFWFRFTlQsXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBQcm9qZWN0aW9ucyBlcXVhbCB0byBFUFNHOjQzMjYuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQ+fVxuICovXG5leHBvcnQgY29uc3QgUFJPSkVDVElPTlMgPSBbXG4gIG5ldyBFUFNHNDMyNlByb2plY3Rpb24oJ0NSUzo4NCcpLFxuICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCdFUFNHOjQzMjYnLCAnbmV1JyksXG4gIG5ldyBFUFNHNDMyNlByb2plY3Rpb24oJ3VybjpvZ2M6ZGVmOmNyczpPR0M6MS4zOkNSUzg0JyksXG4gIG5ldyBFUFNHNDMyNlByb2plY3Rpb24oJ3VybjpvZ2M6ZGVmOmNyczpPR0M6Mjo4NCcpLFxuICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCdodHRwOi8vd3d3Lm9wZW5naXMubmV0L2RlZi9jcnMvT0dDLzEuMy9DUlM4NCcpLFxuICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCdodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbC9zcnMvZXBzZy54bWwjNDMyNicsICduZXUnKSxcbiAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbignaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9kZWYvY3JzL0VQU0cvMC80MzI2JywgJ25ldScpLFxuXTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL3Byb2plY3Rpb25zXG4gKi9cblxuLyoqXG4gKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQ+fVxuICovXG5sZXQgY2FjaGUgPSB7fTtcblxuLyoqXG4gKiBDbGVhciB0aGUgcHJvamVjdGlvbnMgY2FjaGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcigpIHtcbiAgY2FjaGUgPSB7fTtcbn1cblxuLyoqXG4gKiBHZXQgYSBjYWNoZWQgcHJvamVjdGlvbiBieSBjb2RlLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgVGhlIGNvZGUgZm9yIHRoZSBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IFRoZSBwcm9qZWN0aW9uIChpZiBjYWNoZWQpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGNvZGUpIHtcbiAgcmV0dXJuIChcbiAgICBjYWNoZVtjb2RlXSB8fFxuICAgIGNhY2hlW2NvZGUucmVwbGFjZSgvdXJuOih4LSk/b2djOmRlZjpjcnM6RVBTRzooLio6KT8oXFx3KykkLywgJ0VQU0c6JDMnKV0gfHxcbiAgICBudWxsXG4gICk7XG59XG5cbi8qKlxuICogQWRkIGEgcHJvamVjdGlvbiB0byB0aGUgY2FjaGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29kZSBUaGUgcHJvamVjdGlvbiBjb2RlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBUaGUgcHJvamVjdGlvbiB0byBjYWNoZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChjb2RlLCBwcm9qZWN0aW9uKSB7XG4gIGNhY2hlW2NvZGVdID0gcHJvamVjdGlvbjtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL3RyYW5zZm9ybXNcbiAqL1xuaW1wb3J0IHtpc0VtcHR5fSBmcm9tICcuLi9vYmouanMnO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb24+Pn1cbiAqL1xubGV0IHRyYW5zZm9ybXMgPSB7fTtcblxuLyoqXG4gKiBDbGVhciB0aGUgdHJhbnNmb3JtIGNhY2hlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIoKSB7XG4gIHRyYW5zZm9ybXMgPSB7fTtcbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBjb252ZXJzaW9uIGZ1bmN0aW9uIHRvIGNvbnZlcnQgY29vcmRpbmF0ZXMgZnJvbSB0aGUgc291cmNlXG4gKiBwcm9qZWN0aW9uIHRvIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHNvdXJjZSBTb3VyY2UuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKHNvdXJjZSwgZGVzdGluYXRpb24sIHRyYW5zZm9ybUZuKSB7XG4gIGNvbnN0IHNvdXJjZUNvZGUgPSBzb3VyY2UuZ2V0Q29kZSgpO1xuICBjb25zdCBkZXN0aW5hdGlvbkNvZGUgPSBkZXN0aW5hdGlvbi5nZXRDb2RlKCk7XG4gIGlmICghKHNvdXJjZUNvZGUgaW4gdHJhbnNmb3JtcykpIHtcbiAgICB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdID0ge307XG4gIH1cbiAgdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXVtkZXN0aW5hdGlvbkNvZGVdID0gdHJhbnNmb3JtRm47XG59XG5cbi8qKlxuICogVW5yZWdpc3RlcnMgdGhlIGNvbnZlcnNpb24gZnVuY3Rpb24gdG8gY29udmVydCBjb29yZGluYXRlcyBmcm9tIHRoZSBzb3VyY2VcbiAqIHByb2plY3Rpb24gdG8gdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uICBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGNsZWFuIHVwXG4gKiBjYWNoZWQgdHJhbnNmb3JtcyBkdXJpbmcgdGVzdGluZy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgU291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVGhlIHVucmVnaXN0ZXJlZCB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoc291cmNlLCBkZXN0aW5hdGlvbikge1xuICBjb25zdCBzb3VyY2VDb2RlID0gc291cmNlLmdldENvZGUoKTtcbiAgY29uc3QgZGVzdGluYXRpb25Db2RlID0gZGVzdGluYXRpb24uZ2V0Q29kZSgpO1xuICBjb25zdCB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdW2Rlc3RpbmF0aW9uQ29kZV07XG4gIGRlbGV0ZSB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdW2Rlc3RpbmF0aW9uQ29kZV07XG4gIGlmIChpc0VtcHR5KHRyYW5zZm9ybXNbc291cmNlQ29kZV0pKSB7XG4gICAgZGVsZXRlIHRyYW5zZm9ybXNbc291cmNlQ29kZV07XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybTtcbn1cblxuLyoqXG4gKiBHZXQgYSB0cmFuc2Zvcm0gZ2l2ZW4gYSBzb3VyY2UgY29kZSBhbmQgYSBkZXN0aW5hdGlvbiBjb2RlLlxuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZUNvZGUgVGhlIGNvZGUgZm9yIHRoZSBzb3VyY2UgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkZXN0aW5hdGlvbkNvZGUgVGhlIGNvZGUgZm9yIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbnx1bmRlZmluZWR9IFRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gKGlmIGZvdW5kKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChzb3VyY2VDb2RlLCBkZXN0aW5hdGlvbkNvZGUpIHtcbiAgbGV0IHRyYW5zZm9ybTtcbiAgaWYgKHNvdXJjZUNvZGUgaW4gdHJhbnNmb3JtcyAmJiBkZXN0aW5hdGlvbkNvZGUgaW4gdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXSkge1xuICAgIHRyYW5zZm9ybSA9IHRyYW5zZm9ybXNbc291cmNlQ29kZV1bZGVzdGluYXRpb25Db2RlXTtcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NwaGVyZVxuICovXG5pbXBvcnQge3RvRGVncmVlcywgdG9SYWRpYW5zfSBmcm9tICcuL21hdGguanMnO1xuXG4vKipcbiAqIE9iamVjdCBsaXRlcmFsIHdpdGggb3B0aW9ucyBmb3IgdGhlIHtAbGluayBnZXRMZW5ndGh9IG9yIHtAbGluayBnZXRBcmVhfVxuICogZnVuY3Rpb25zLlxuICogQHR5cGVkZWYge09iamVjdH0gU3BoZXJlTWV0cmljT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uPSdFUFNHOjM4NTcnXVxuICogUHJvamVjdGlvbiBvZiB0aGUgIGdlb21ldHJ5LiAgQnkgZGVmYXVsdCwgdGhlIGdlb21ldHJ5IGlzIGFzc3VtZWQgdG8gYmUgaW5cbiAqIFdlYiBNZXJjYXRvci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmFkaXVzPTYzNzEwMDguOF0gU3BoZXJlIHJhZGl1cy4gIEJ5IGRlZmF1bHQsIHRoZVxuICogW21lYW4gRWFydGggcmFkaXVzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FYXJ0aF9yYWRpdXMjTWVhbl9yYWRpdXMpXG4gKiBmb3IgdGhlIFdHUzg0IGVsbGlwc29pZCBpcyB1c2VkLlxuICovXG5cbi8qKlxuICogVGhlIG1lYW4gRWFydGggcmFkaXVzICgxLzMgKiAoMmEgKyBiKSkgZm9yIHRoZSBXR1M4NCBlbGxpcHNvaWQuXG4gKiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FYXJ0aF9yYWRpdXMjTWVhbl9yYWRpdXNcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1JBRElVUyA9IDYzNzEwMDguODtcblxuLyoqXG4gKiBHZXQgdGhlIGdyZWF0IGNpcmNsZSBkaXN0YW5jZSAoaW4gbWV0ZXJzKSBiZXR3ZWVuIHR3byBnZW9ncmFwaGljIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtBcnJheX0gYzEgU3RhcnRpbmcgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7QXJyYXl9IGMyIEVuZGluZyBjb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXNdIFRoZSBzcGhlcmUgcmFkaXVzIHRvIHVzZS4gIERlZmF1bHRzIHRvIHRoZSBFYXJ0aCdzXG4gKiAgICAgbWVhbiByYWRpdXMgdXNpbmcgdGhlIFdHUzg0IGVsbGlwc29pZC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGdyZWF0IGNpcmNsZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBwb2ludHMgKGluIG1ldGVycykuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREaXN0YW5jZShjMSwgYzIsIHJhZGl1cykge1xuICByYWRpdXMgPSByYWRpdXMgfHwgREVGQVVMVF9SQURJVVM7XG4gIGNvbnN0IGxhdDEgPSB0b1JhZGlhbnMoYzFbMV0pO1xuICBjb25zdCBsYXQyID0gdG9SYWRpYW5zKGMyWzFdKTtcbiAgY29uc3QgZGVsdGFMYXRCeTIgPSAobGF0MiAtIGxhdDEpIC8gMjtcbiAgY29uc3QgZGVsdGFMb25CeTIgPSB0b1JhZGlhbnMoYzJbMF0gLSBjMVswXSkgLyAyO1xuICBjb25zdCBhID1cbiAgICBNYXRoLnNpbihkZWx0YUxhdEJ5MikgKiBNYXRoLnNpbihkZWx0YUxhdEJ5MikgK1xuICAgIE1hdGguc2luKGRlbHRhTG9uQnkyKSAqXG4gICAgICBNYXRoLnNpbihkZWx0YUxvbkJ5MikgKlxuICAgICAgTWF0aC5jb3MobGF0MSkgKlxuICAgICAgTWF0aC5jb3MobGF0Mik7XG4gIHJldHVybiAyICogcmFkaXVzICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VtdWxhdGl2ZSBncmVhdCBjaXJjbGUgbGVuZ3RoIG9mIGxpbmVzdHJpbmcgY29vcmRpbmF0ZXMgKGdlb2dyYXBoaWMpLlxuICogQHBhcmFtIHtBcnJheX0gY29vcmRpbmF0ZXMgTGluZXN0cmluZyBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgVGhlIHNwaGVyZSByYWRpdXMgdG8gdXNlLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGVuZ3RoIChpbiBtZXRlcnMpLlxuICovXG5mdW5jdGlvbiBnZXRMZW5ndGhJbnRlcm5hbChjb29yZGluYXRlcywgcmFkaXVzKSB7XG4gIGxldCBsZW5ndGggPSAwO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaSAtIDE7ICsraSkge1xuICAgIGxlbmd0aCArPSBnZXREaXN0YW5jZShjb29yZGluYXRlc1tpXSwgY29vcmRpbmF0ZXNbaSArIDFdLCByYWRpdXMpO1xuICB9XG4gIHJldHVybiBsZW5ndGg7XG59XG5cbi8qKlxuICogR2V0IHRoZSBzcGhlcmljYWwgbGVuZ3RoIG9mIGEgZ2VvbWV0cnkuICBUaGlzIGxlbmd0aCBpcyB0aGUgc3VtIG9mIHRoZVxuICogZ3JlYXQgY2lyY2xlIGRpc3RhbmNlcyBiZXR3ZWVuIGNvb3JkaW5hdGVzLiAgRm9yIHBvbHlnb25zLCB0aGUgbGVuZ3RoIGlzXG4gKiB0aGUgc3VtIG9mIGFsbCByaW5ncy4gIEZvciBwb2ludHMsIHRoZSBsZW5ndGggaXMgemVyby4gIEZvciBtdWx0aS1wYXJ0XG4gKiBnZW9tZXRyaWVzLCB0aGUgbGVuZ3RoIGlzIHRoZSBzdW0gb2YgdGhlIGxlbmd0aCBvZiBlYWNoIHBhcnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBBIGdlb21ldHJ5LlxuICogQHBhcmFtIHtTcGhlcmVNZXRyaWNPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucyBmb3IgdGhlXG4gKiBsZW5ndGggY2FsY3VsYXRpb24uICBCeSBkZWZhdWx0LCBnZW9tZXRyaWVzIGFyZSBhc3N1bWVkIHRvIGJlIGluICdFUFNHOjM4NTcnLlxuICogWW91IGNhbiBjaGFuZ2UgdGhpcyBieSBwcm92aWRpbmcgYSBgcHJvamVjdGlvbmAgb3B0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgc3BoZXJpY2FsIGxlbmd0aCAoaW4gbWV0ZXJzKS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExlbmd0aChnZW9tZXRyeSwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3QgcmFkaXVzID0gb3B0aW9ucy5yYWRpdXMgfHwgREVGQVVMVF9SQURJVVM7XG4gIGNvbnN0IHByb2plY3Rpb24gPSBvcHRpb25zLnByb2plY3Rpb24gfHwgJ0VQU0c6Mzg1Nyc7XG4gIGNvbnN0IHR5cGUgPSBnZW9tZXRyeS5nZXRUeXBlKCk7XG4gIGlmICh0eXBlICE9PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuICAgIGdlb21ldHJ5ID0gZ2VvbWV0cnkuY2xvbmUoKS50cmFuc2Zvcm0ocHJvamVjdGlvbiwgJ0VQU0c6NDMyNicpO1xuICB9XG4gIGxldCBsZW5ndGggPSAwO1xuICBsZXQgY29vcmRpbmF0ZXMsIGNvb3JkcywgaSwgaWksIGosIGpqO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdQb2ludCc6XG4gICAgY2FzZSAnTXVsdGlQb2ludCc6IHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdMaW5lU3RyaW5nJzpcbiAgICBjYXNlICdMaW5lYXJSaW5nJzoge1xuICAgICAgY29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGdlb21ldHJ5XG4gICAgICApLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICBsZW5ndGggPSBnZXRMZW5ndGhJbnRlcm5hbChjb29yZGluYXRlcywgcmFkaXVzKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdNdWx0aUxpbmVTdHJpbmcnOlxuICAgIGNhc2UgJ1BvbHlnb24nOiB7XG4gICAgICBjb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgZ2VvbWV0cnlcbiAgICAgICkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIGZvciAoaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBsZW5ndGggKz0gZ2V0TGVuZ3RoSW50ZXJuYWwoY29vcmRpbmF0ZXNbaV0sIHJhZGl1cyk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSAnTXVsdGlQb2x5Z29uJzoge1xuICAgICAgY29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGdlb21ldHJ5XG4gICAgICApLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICBmb3IgKGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgY29vcmRzID0gY29vcmRpbmF0ZXNbaV07XG4gICAgICAgIGZvciAoaiA9IDAsIGpqID0gY29vcmRzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICBsZW5ndGggKz0gZ2V0TGVuZ3RoSW50ZXJuYWwoY29vcmRzW2pdLCByYWRpdXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSAnR2VvbWV0cnlDb2xsZWN0aW9uJzoge1xuICAgICAgY29uc3QgZ2VvbWV0cmllcyA9XG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgKS5nZXRHZW9tZXRyaWVzKCk7XG4gICAgICBmb3IgKGkgPSAwLCBpaSA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBsZW5ndGggKz0gZ2V0TGVuZ3RoKGdlb21ldHJpZXNbaV0sIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgZ2VvbWV0cnkgdHlwZTogJyArIHR5cGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbGVuZ3RoO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNwaGVyaWNhbCBhcmVhIGZvciBhIGxpc3Qgb2YgY29vcmRpbmF0ZXMuXG4gKlxuICogW1JlZmVyZW5jZV0oaHR0cHM6Ly90cnMuanBsLm5hc2EuZ292L2hhbmRsZS8yMDE0LzQwNDA5KVxuICogUm9iZXJ0LiBHLiBDaGFtYmVybGFpbiBhbmQgV2lsbGlhbSBILiBEdXF1ZXR0ZSwgXCJTb21lIEFsZ29yaXRobXMgZm9yXG4gKiBQb2x5Z29ucyBvbiBhIFNwaGVyZVwiLCBKUEwgUHVibGljYXRpb24gMDctMDMsIEpldCBQcm9wdWxzaW9uXG4gKiBMYWJvcmF0b3J5LCBQYXNhZGVuYSwgQ0EsIEp1bmUgMjAwN1xuICpcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBMaXN0IG9mIGNvb3JkaW5hdGVzIG9mIGEgbGluZWFyXG4gKiByaW5nLiBJZiB0aGUgcmluZyBpcyBvcmllbnRlZCBjbG9ja3dpc2UsIHRoZSBhcmVhIHdpbGwgYmUgcG9zaXRpdmUsXG4gKiBvdGhlcndpc2UgaXQgd2lsbCBiZSBuZWdhdGl2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgVGhlIHNwaGVyZSByYWRpdXMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEgKGluIHNxdWFyZSBtZXRlcnMpLlxuICovXG5mdW5jdGlvbiBnZXRBcmVhSW50ZXJuYWwoY29vcmRpbmF0ZXMsIHJhZGl1cykge1xuICBsZXQgYXJlYSA9IDA7XG4gIGNvbnN0IGxlbiA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgbGV0IHgxID0gY29vcmRpbmF0ZXNbbGVuIC0gMV1bMF07XG4gIGxldCB5MSA9IGNvb3JkaW5hdGVzW2xlbiAtIDFdWzFdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgeDIgPSBjb29yZGluYXRlc1tpXVswXTtcbiAgICBjb25zdCB5MiA9IGNvb3JkaW5hdGVzW2ldWzFdO1xuICAgIGFyZWEgKz1cbiAgICAgIHRvUmFkaWFucyh4MiAtIHgxKSAqXG4gICAgICAoMiArIE1hdGguc2luKHRvUmFkaWFucyh5MSkpICsgTWF0aC5zaW4odG9SYWRpYW5zKHkyKSkpO1xuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICByZXR1cm4gKGFyZWEgKiByYWRpdXMgKiByYWRpdXMpIC8gMi4wO1xufVxuXG4vKipcbiAqIEdldCB0aGUgc3BoZXJpY2FsIGFyZWEgb2YgYSBnZW9tZXRyeS4gIFRoaXMgaXMgdGhlIGFyZWEgKGluIG1ldGVycykgYXNzdW1pbmdcbiAqIHRoYXQgcG9seWdvbiBlZGdlcyBhcmUgc2VnbWVudHMgb2YgZ3JlYXQgY2lyY2xlcyBvbiBhIHNwaGVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEEgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge1NwaGVyZU1ldHJpY09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zIGZvciB0aGUgYXJlYVxuICogICAgIGNhbGN1bGF0aW9uLiAgQnkgZGVmYXVsdCwgZ2VvbWV0cmllcyBhcmUgYXNzdW1lZCB0byBiZSBpbiAnRVBTRzozODU3Jy5cbiAqICAgICBZb3UgY2FuIGNoYW5nZSB0aGlzIGJ5IHByb3ZpZGluZyBhIGBwcm9qZWN0aW9uYCBvcHRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBzcGhlcmljYWwgYXJlYSAoaW4gc3F1YXJlIG1ldGVycykuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcmVhKGdlb21ldHJ5LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCByYWRpdXMgPSBvcHRpb25zLnJhZGl1cyB8fCBERUZBVUxUX1JBRElVUztcbiAgY29uc3QgcHJvamVjdGlvbiA9IG9wdGlvbnMucHJvamVjdGlvbiB8fCAnRVBTRzozODU3JztcbiAgY29uc3QgdHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgaWYgKHR5cGUgIT09ICdHZW9tZXRyeUNvbGxlY3Rpb24nKSB7XG4gICAgZ2VvbWV0cnkgPSBnZW9tZXRyeS5jbG9uZSgpLnRyYW5zZm9ybShwcm9qZWN0aW9uLCAnRVBTRzo0MzI2Jyk7XG4gIH1cbiAgbGV0IGFyZWEgPSAwO1xuICBsZXQgY29vcmRpbmF0ZXMsIGNvb3JkcywgaSwgaWksIGosIGpqO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdQb2ludCc6XG4gICAgY2FzZSAnTXVsdGlQb2ludCc6XG4gICAgY2FzZSAnTGluZVN0cmluZyc6XG4gICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcbiAgICBjYXNlICdMaW5lYXJSaW5nJzoge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ1BvbHlnb24nOiB7XG4gICAgICBjb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeVxuICAgICAgKS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgYXJlYSA9IE1hdGguYWJzKGdldEFyZWFJbnRlcm5hbChjb29yZGluYXRlc1swXSwgcmFkaXVzKSk7XG4gICAgICBmb3IgKGkgPSAxLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgYXJlYSAtPSBNYXRoLmFicyhnZXRBcmVhSW50ZXJuYWwoY29vcmRpbmF0ZXNbaV0sIHJhZGl1cykpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ011bHRpUG9seWdvbic6IHtcbiAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeVxuICAgICAgKS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgZm9yIChpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvb3JkcyA9IGNvb3JkaW5hdGVzW2ldO1xuICAgICAgICBhcmVhICs9IE1hdGguYWJzKGdldEFyZWFJbnRlcm5hbChjb29yZHNbMF0sIHJhZGl1cykpO1xuICAgICAgICBmb3IgKGogPSAxLCBqaiA9IGNvb3Jkcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgYXJlYSAtPSBNYXRoLmFicyhnZXRBcmVhSW50ZXJuYWwoY29vcmRzW2pdLCByYWRpdXMpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ0dlb21ldHJ5Q29sbGVjdGlvbic6IHtcbiAgICAgIGNvbnN0IGdlb21ldHJpZXMgPVxuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICkuZ2V0R2VvbWV0cmllcygpO1xuICAgICAgZm9yIChpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgYXJlYSArPSBnZXRBcmVhKGdlb21ldHJpZXNbaV0sIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgZ2VvbWV0cnkgdHlwZTogJyArIHR5cGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJlYTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb29yZGluYXRlIGF0IHRoZSBnaXZlbiBkaXN0YW5jZSBhbmQgYmVhcmluZyBmcm9tIGBjMWAuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYzEgVGhlIG9yaWdpbiBwb2ludCAoYFtsb24sIGxhdF1gIGluIGRlZ3JlZXMpLlxuICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIFRoZSBncmVhdC1jaXJjbGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgb3JpZ2luXG4gKiAgICAgcG9pbnQgYW5kIHRoZSB0YXJnZXQgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gYmVhcmluZyBUaGUgYmVhcmluZyAoaW4gcmFkaWFucykuXG4gKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1c10gVGhlIHNwaGVyZSByYWRpdXMgdG8gdXNlLiAgRGVmYXVsdHMgdG8gdGhlIEVhcnRoJ3NcbiAqICAgICBtZWFuIHJhZGl1cyB1c2luZyB0aGUgV0dTODQgZWxsaXBzb2lkLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRoZSB0YXJnZXQgcG9pbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvZmZzZXQoYzEsIGRpc3RhbmNlLCBiZWFyaW5nLCByYWRpdXMpIHtcbiAgcmFkaXVzID0gcmFkaXVzIHx8IERFRkFVTFRfUkFESVVTO1xuICBjb25zdCBsYXQxID0gdG9SYWRpYW5zKGMxWzFdKTtcbiAgY29uc3QgbG9uMSA9IHRvUmFkaWFucyhjMVswXSk7XG4gIGNvbnN0IGRCeVIgPSBkaXN0YW5jZSAvIHJhZGl1cztcbiAgY29uc3QgbGF0ID0gTWF0aC5hc2luKFxuICAgIE1hdGguc2luKGxhdDEpICogTWF0aC5jb3MoZEJ5UikgK1xuICAgICAgTWF0aC5jb3MobGF0MSkgKiBNYXRoLnNpbihkQnlSKSAqIE1hdGguY29zKGJlYXJpbmcpXG4gICk7XG4gIGNvbnN0IGxvbiA9XG4gICAgbG9uMSArXG4gICAgTWF0aC5hdGFuMihcbiAgICAgIE1hdGguc2luKGJlYXJpbmcpICogTWF0aC5zaW4oZEJ5UikgKiBNYXRoLmNvcyhsYXQxKSxcbiAgICAgIE1hdGguY29zKGRCeVIpIC0gTWF0aC5zaW4obGF0MSkgKiBNYXRoLnNpbihsYXQpXG4gICAgKTtcbiAgcmV0dXJuIFt0b0RlZ3JlZXMobG9uKSwgdG9EZWdyZWVzKGxhdCldO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2pcbiAqL1xuXG4vKipcbiAqIFRoZSBvbC9wcm9qIG1vZHVsZSBzdG9yZXM6XG4gKiAqIGEgbGlzdCBvZiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufVxuICogb2JqZWN0cywgb25lIGZvciBlYWNoIHByb2plY3Rpb24gc3VwcG9ydGVkIGJ5IHRoZSBhcHBsaWNhdGlvblxuICogKiBhIGxpc3Qgb2YgdHJhbnNmb3JtIGZ1bmN0aW9ucyBuZWVkZWQgdG8gY29udmVydCBjb29yZGluYXRlcyBpbiBvbmUgcHJvamVjdGlvblxuICogaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBzdGF0aWMgZnVuY3Rpb25zIGFyZSB0aGUgbWV0aG9kcyB1c2VkIHRvIG1haW50YWluIHRoZXNlLlxuICogRWFjaCB0cmFuc2Zvcm0gZnVuY3Rpb24gY2FuIGhhbmRsZSBub3Qgb25seSBzaW1wbGUgY29vcmRpbmF0ZSBwYWlycywgYnV0IGFsc29cbiAqIGxhcmdlIGFycmF5cyBvZiBjb29yZGluYXRlcyBzdWNoIGFzIHZlY3RvciBnZW9tZXRyaWVzLlxuICpcbiAqIFdoZW4gbG9hZGVkLCB0aGUgbGlicmFyeSBhZGRzIHByb2plY3Rpb24gb2JqZWN0cyBmb3IgRVBTRzo0MzI2IChXR1M4NFxuICogZ2VvZ3JhcGhpYyBjb29yZGluYXRlcykgYW5kIEVQU0c6Mzg1NyAoV2ViIG9yIFNwaGVyaWNhbCBNZXJjYXRvciwgYXMgdXNlZFxuICogZm9yIGV4YW1wbGUgYnkgQmluZyBNYXBzIG9yIE9wZW5TdHJlZXRNYXApLCB0b2dldGhlciB3aXRoIHRoZSByZWxldmFudFxuICogdHJhbnNmb3JtIGZ1bmN0aW9ucy5cbiAqXG4gKiBBZGRpdGlvbmFsIHRyYW5zZm9ybXMgbWF5IGJlIGFkZGVkIGJ5IHVzaW5nIHRoZSBodHRwOi8vcHJvajRqcy5vcmcvXG4gKiBsaWJyYXJ5ICh2ZXJzaW9uIDIuMiBvciBsYXRlcikuIFlvdSBjYW4gdXNlIHRoZSBmdWxsIGJ1aWxkIHN1cHBsaWVkIGJ5XG4gKiBQcm9qNGpzLCBvciBjcmVhdGUgYSBjdXN0b20gYnVpbGQgdG8gc3VwcG9ydCB0aG9zZSBwcm9qZWN0aW9ucyB5b3UgbmVlZDsgc2VlXG4gKiB0aGUgUHJvajRqcyB3ZWJzaXRlIGZvciBob3cgdG8gZG8gdGhpcy4gWW91IGFsc28gbmVlZCB0aGUgUHJvajRqcyBkZWZpbml0aW9uc1xuICogZm9yIHRoZSByZXF1aXJlZCBwcm9qZWN0aW9ucy4gVGhlc2UgZGVmaW5pdGlvbnMgY2FuIGJlIG9idGFpbmVkIGZyb21cbiAqIGh0dHBzOi8vZXBzZy5pby8sIGFuZCBhcmUgYSBKUyBmdW5jdGlvbiwgc28gY2FuIGJlIGxvYWRlZCBpbiBhIHNjcmlwdFxuICogdGFnIChhcyBpbiB0aGUgZXhhbXBsZXMpIG9yIHBhc3RlZCBpbnRvIHlvdXIgYXBwbGljYXRpb24uXG4gKlxuICogQWZ0ZXIgYWxsIHJlcXVpcmVkIHByb2plY3Rpb24gZGVmaW5pdGlvbnMgYXJlIGFkZGVkIHRvIHByb2o0J3MgcmVnaXN0cnkgKGJ5XG4gKiB1c2luZyBgcHJvajQuZGVmcygpYCksIHNpbXBseSBjYWxsIGByZWdpc3Rlcihwcm9qNClgIGZyb20gdGhlIGBvbC9wcm9qL3Byb2o0YFxuICogcGFja2FnZS4gRXhpc3RpbmcgdHJhbnNmb3JtcyBhcmUgbm90IGNoYW5nZWQgYnkgdGhpcyBmdW5jdGlvbi4gU2VlXG4gKiBleGFtcGxlcy93bXMtaW1hZ2UtY3VzdG9tLXByb2ogZm9yIGFuIGV4YW1wbGUgb2YgdGhpcy5cbiAqXG4gKiBBZGRpdGlvbmFsIHByb2plY3Rpb24gZGVmaW5pdGlvbnMgY2FuIGJlIHJlZ2lzdGVyZWQgd2l0aCBgcHJvajQuZGVmcygpYCBhbnlcbiAqIHRpbWUuIEp1c3QgbWFrZSBzdXJlIHRvIGNhbGwgYHJlZ2lzdGVyKHByb2o0KWAgYWdhaW47IGZvciBleGFtcGxlLCB3aXRoIHVzZXItc3VwcGxpZWQgZGF0YSB3aGVyZSB5b3UgZG9uJ3RcbiAqIGtub3cgaW4gYWR2YW5jZSB3aGF0IHByb2plY3Rpb25zIGFyZSBuZWVkZWQsIHlvdSBjYW4gaW5pdGlhbGx5IGxvYWQgbWluaW1hbFxuICogc3VwcG9ydCBhbmQgdGhlbiBsb2FkIHdoaWNoZXZlciBhcmUgcmVxdWVzdGVkLlxuICpcbiAqIE5vdGUgdGhhdCBQcm9qNGpzIGRvZXMgbm90IHN1cHBvcnQgcHJvamVjdGlvbiBleHRlbnRzLiBJZiB5b3Ugd2FudCB0byBhZGRcbiAqIG9uZSBmb3IgY3JlYXRpbmcgZGVmYXVsdCB0aWxlIGdyaWRzLCB5b3UgY2FuIGFkZCBpdCBhZnRlciB0aGUgUHJvamVjdGlvblxuICogb2JqZWN0IGhhcyBiZWVuIGNyZWF0ZWQgd2l0aCBgc2V0RXh0ZW50YCwgZm9yIGV4YW1wbGUsXG4gKiBgZ2V0KCdFUFNHOjEyMzQnKS5zZXRFeHRlbnQoZXh0ZW50KWAuXG4gKlxuICogSW4gYWRkaXRpb24gdG8gUHJvajRqcyBzdXBwb3J0LCBhbnkgdHJhbnNmb3JtIGZ1bmN0aW9ucyBjYW4gYmUgYWRkZWQgd2l0aFxuICoge0BsaW5rIG1vZHVsZTpvbC9wcm9qLmFkZENvb3JkaW5hdGVUcmFuc2Zvcm1zfS4gVG8gdXNlIHRoaXMsIHlvdSBtdXN0IGZpcnN0IGNyZWF0ZVxuICogYSB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufSBvYmplY3QgZm9yIHRoZSBuZXcgcHJvamVjdGlvbiBhbmQgYWRkIGl0IHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai5hZGRQcm9qZWN0aW9ufS4gWW91IGNhbiB0aGVuIGFkZCB0aGUgZm9yd2FyZCBhbmQgaW52ZXJzZVxuICogZnVuY3Rpb25zIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9wcm9qLmFkZENvb3JkaW5hdGVUcmFuc2Zvcm1zfS4gU2VlXG4gKiBleGFtcGxlcy93bXMtY3VzdG9tLXByb2ogZm9yIGFuIGV4YW1wbGUgb2YgdGhpcy5cbiAqXG4gKiBOb3RlIHRoYXQgaWYgbm8gdHJhbnNmb3JtcyBhcmUgbmVlZGVkIGFuZCB5b3Ugb25seSBuZWVkIHRvIGRlZmluZSB0aGVcbiAqIHByb2plY3Rpb24sIGp1c3QgYWRkIGEge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb25+UHJvamVjdGlvbn0gd2l0aFxuICoge0BsaW5rIG1vZHVsZTpvbC9wcm9qLmFkZFByb2plY3Rpb259LiBTZWUgZXhhbXBsZXMvd21zLW5vLXByb2ogZm9yIGFuIGV4YW1wbGUgb2ZcbiAqIHRoaXMuXG4gKi9cbmltcG9ydCBQcm9qZWN0aW9uIGZyb20gJy4vcHJvai9Qcm9qZWN0aW9uLmpzJztcbmltcG9ydCB7XG4gIFBST0pFQ1RJT05TIGFzIEVQU0czODU3X1BST0pFQ1RJT05TLFxuICBmcm9tRVBTRzQzMjYsXG4gIHRvRVBTRzQzMjYsXG59IGZyb20gJy4vcHJvai9lcHNnMzg1Ny5qcyc7XG5pbXBvcnQge1BST0pFQ1RJT05TIGFzIEVQU0c0MzI2X1BST0pFQ1RJT05TfSBmcm9tICcuL3Byb2ovZXBzZzQzMjYuanMnO1xuaW1wb3J0IHtNRVRFUlNfUEVSX1VOSVR9IGZyb20gJy4vcHJvai9Vbml0cy5qcyc7XG5pbXBvcnQge1xuICBhZGQgYXMgYWRkUHJvaixcbiAgY2xlYXIgYXMgY2xlYXJQcm9qLFxuICBnZXQgYXMgZ2V0UHJvaixcbn0gZnJvbSAnLi9wcm9qL3Byb2plY3Rpb25zLmpzJztcbmltcG9ydCB7XG4gIGFkZCBhcyBhZGRUcmFuc2Zvcm1GdW5jLFxuICBjbGVhciBhcyBjbGVhclRyYW5zZm9ybUZ1bmNzLFxuICBnZXQgYXMgZ2V0VHJhbnNmb3JtRnVuYyxcbn0gZnJvbSAnLi9wcm9qL3RyYW5zZm9ybXMuanMnO1xuaW1wb3J0IHthcHBseVRyYW5zZm9ybSwgZ2V0V2lkdGh9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7Y2xhbXAsIG1vZHVsb30gZnJvbSAnLi9tYXRoLmpzJztcbmltcG9ydCB7ZXF1YWxzLCBnZXRXb3JsZHNBd2F5fSBmcm9tICcuL2Nvb3JkaW5hdGUuanMnO1xuaW1wb3J0IHtnZXREaXN0YW5jZX0gZnJvbSAnLi9zcGhlcmUuanMnO1xuaW1wb3J0IHt3YXJufSBmcm9tICcuL2NvbnNvbGUuanMnO1xuXG4vKipcbiAqIEEgcHJvamVjdGlvbiBhcyB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufSwgU1JTIGlkZW50aWZpZXJcbiAqIHN0cmluZyBvciB1bmRlZmluZWQuXG4gKiBAdHlwZWRlZiB7UHJvamVjdGlvbnxzdHJpbmd8dW5kZWZpbmVkfSBQcm9qZWN0aW9uTGlrZVxuICogQGFwaVxuICovXG5cbi8qKlxuICogQSB0cmFuc2Zvcm0gZnVuY3Rpb24gYWNjZXB0cyBhbiBhcnJheSBvZiBpbnB1dCBjb29yZGluYXRlIHZhbHVlcywgYW4gb3B0aW9uYWxcbiAqIG91dHB1dCBhcnJheSwgYW5kIGFuIG9wdGlvbmFsIGRpbWVuc2lvbiAoZGVmYXVsdCBzaG91bGQgYmUgMikuICBUaGUgZnVuY3Rpb25cbiAqIHRyYW5zZm9ybXMgdGhlIGlucHV0IGNvb3JkaW5hdGUgdmFsdWVzLCBwb3B1bGF0ZXMgdGhlIG91dHB1dCBhcnJheSwgYW5kXG4gKiByZXR1cm5zIHRoZSBvdXRwdXQgYXJyYXkuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKEFycmF5PG51bWJlcj4sIEFycmF5PG51bWJlcj49LCBudW1iZXI9KTogQXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuXG5leHBvcnQge01FVEVSU19QRVJfVU5JVH07XG5cbmV4cG9ydCB7UHJvamVjdGlvbn07XG5cbmxldCBzaG93Q29vcmRpbmF0ZVdhcm5pbmcgPSB0cnVlO1xuXG4vKipcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rpc2FibGUgPSB0cnVlXSBEaXNhYmxlIGNvbnNvbGUgaW5mbyBhYm91dCBgdXNlR2VvZ3JhcGhpYygpYFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZUNvb3JkaW5hdGVXYXJuaW5nKGRpc2FibGUpIHtcbiAgY29uc3QgaGlkZSA9IGRpc2FibGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBkaXNhYmxlO1xuICBzaG93Q29vcmRpbmF0ZVdhcm5pbmcgPSAhaGlkZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGlucHV0IElucHV0IGNvb3JkaW5hdGUgYXJyYXkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvdXRwdXRdIE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE91dHB1dCBjb29yZGluYXRlIGFycmF5IChuZXcgYXJyYXksIHNhbWUgY29vcmRpbmF0ZVxuICogICAgIHZhbHVlcykuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZVRyYW5zZm9ybShpbnB1dCwgb3V0cHV0KSB7XG4gIGlmIChvdXRwdXQgIT09IHVuZGVmaW5lZCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGlucHV0Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIG91dHB1dFtpXSA9IGlucHV0W2ldO1xuICAgIH1cbiAgICBvdXRwdXQgPSBvdXRwdXQ7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0gaW5wdXQuc2xpY2UoKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5wdXQgSW5wdXQgY29vcmRpbmF0ZSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW291dHB1dF0gT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gSW5wdXQgY29vcmRpbmF0ZSBhcnJheSAoc2FtZSBhcnJheSBhcyBpbnB1dCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eVRyYW5zZm9ybShpbnB1dCwgb3V0cHV0KSB7XG4gIGlmIChvdXRwdXQgIT09IHVuZGVmaW5lZCAmJiBpbnB1dCAhPT0gb3V0cHV0KSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gaW5wdXQubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgb3V0cHV0W2ldID0gaW5wdXRbaV07XG4gICAgfVxuICAgIGlucHV0ID0gb3V0cHV0O1xuICB9XG4gIHJldHVybiBpbnB1dDtcbn1cblxuLyoqXG4gKiBBZGQgYSBQcm9qZWN0aW9uIG9iamVjdCB0byB0aGUgbGlzdCBvZiBzdXBwb3J0ZWQgcHJvamVjdGlvbnMgdGhhdCBjYW4gYmVcbiAqIGxvb2tlZCB1cCBieSB0aGVpciBjb2RlLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gcHJvamVjdGlvbiBQcm9qZWN0aW9uIGluc3RhbmNlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gIGFkZFByb2oocHJvamVjdGlvbi5nZXRDb2RlKCksIHByb2plY3Rpb24pO1xuICBhZGRUcmFuc2Zvcm1GdW5jKHByb2plY3Rpb24sIHByb2plY3Rpb24sIGNsb25lVHJhbnNmb3JtKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFByb2plY3Rpb24+fSBwcm9qZWN0aW9ucyBQcm9qZWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFByb2plY3Rpb25zKHByb2plY3Rpb25zKSB7XG4gIHByb2plY3Rpb25zLmZvckVhY2goYWRkUHJvamVjdGlvbik7XG59XG5cbi8qKlxuICogRmV0Y2hlcyBhIFByb2plY3Rpb24gb2JqZWN0IGZvciB0aGUgY29kZSBzcGVjaWZpZWQuXG4gKlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbkxpa2UgRWl0aGVyIGEgY29kZSBzdHJpbmcgd2hpY2ggaXNcbiAqICAgICBhIGNvbWJpbmF0aW9uIG9mIGF1dGhvcml0eSBhbmQgaWRlbnRpZmllciBzdWNoIGFzIFwiRVBTRzo0MzI2XCIsIG9yIGFuXG4gKiAgICAgZXhpc3RpbmcgcHJvamVjdGlvbiBvYmplY3QsIG9yIHVuZGVmaW5lZC5cbiAqIEByZXR1cm4ge1Byb2plY3Rpb258bnVsbH0gUHJvamVjdGlvbiBvYmplY3QsIG9yIG51bGwgaWYgbm90IGluIGxpc3QuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQocHJvamVjdGlvbkxpa2UpIHtcbiAgcmV0dXJuIHR5cGVvZiBwcm9qZWN0aW9uTGlrZSA9PT0gJ3N0cmluZydcbiAgICA/IGdldFByb2ooLyoqIEB0eXBlIHtzdHJpbmd9ICovIChwcm9qZWN0aW9uTGlrZSkpXG4gICAgOiAvKiogQHR5cGUge1Byb2plY3Rpb259ICovIChwcm9qZWN0aW9uTGlrZSkgfHwgbnVsbDtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHJlc29sdXRpb24gb2YgdGhlIHBvaW50IGluIGRlZ3JlZXMgb3IgZGlzdGFuY2UgdW5pdHMuXG4gKiBGb3IgcHJvamVjdGlvbnMgd2l0aCBkZWdyZWVzIGFzIHRoZSB1bml0IHRoaXMgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZVxuICogcHJvdmlkZWQgcmVzb2x1dGlvbi4gRm9yIG90aGVyIHByb2plY3Rpb25zIHRoZSBwb2ludCByZXNvbHV0aW9uIGlzXG4gKiBieSBkZWZhdWx0IGVzdGltYXRlZCBieSB0cmFuc2Zvcm1pbmcgdGhlIGBwb2ludGAgcGl4ZWwgdG8gRVBTRzo0MzI2LFxuICogbWVhc3VyaW5nIGl0cyB3aWR0aCBhbmQgaGVpZ2h0IG9uIHRoZSBub3JtYWwgc3BoZXJlLFxuICogYW5kIHRha2luZyB0aGUgYXZlcmFnZSBvZiB0aGUgd2lkdGggYW5kIGhlaWdodC5cbiAqIEEgY3VzdG9tIGZ1bmN0aW9uIGNhbiBiZSBwcm92aWRlZCBmb3IgYSBzcGVjaWZpYyBwcm9qZWN0aW9uLCBlaXRoZXJcbiAqIGJ5IHNldHRpbmcgdGhlIGBnZXRQb2ludFJlc29sdXRpb25gIG9wdGlvbiBpbiB0aGVcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IGNvbnN0cnVjdG9yIG9yIGJ5IHVzaW5nXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9uI3NldEdldFBvaW50UmVzb2x1dGlvbn0gdG8gY2hhbmdlIGFuIGV4aXN0aW5nXG4gKiBwcm9qZWN0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gVGhlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBOb21pbmFsIHJlc29sdXRpb24gaW4gcHJvamVjdGlvbiB1bml0cy5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50IFBvaW50IHRvIGZpbmQgYWRqdXN0ZWQgcmVzb2x1dGlvbiBhdC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1VuaXRzLmpzXCIpLlVuaXRzfSBbdW5pdHNdIFVuaXRzIHRvIGdldCB0aGUgcG9pbnQgcmVzb2x1dGlvbiBpbi5cbiAqIERlZmF1bHQgaXMgdGhlIHByb2plY3Rpb24ncyB1bml0cy5cbiAqIEByZXR1cm4ge251bWJlcn0gUG9pbnQgcmVzb2x1dGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBvaW50UmVzb2x1dGlvbihwcm9qZWN0aW9uLCByZXNvbHV0aW9uLCBwb2ludCwgdW5pdHMpIHtcbiAgcHJvamVjdGlvbiA9IGdldChwcm9qZWN0aW9uKTtcbiAgbGV0IHBvaW50UmVzb2x1dGlvbjtcbiAgY29uc3QgZ2V0dGVyID0gcHJvamVjdGlvbi5nZXRQb2ludFJlc29sdXRpb25GdW5jKCk7XG4gIGlmIChnZXR0ZXIpIHtcbiAgICBwb2ludFJlc29sdXRpb24gPSBnZXR0ZXIocmVzb2x1dGlvbiwgcG9pbnQpO1xuICAgIGlmICh1bml0cyAmJiB1bml0cyAhPT0gcHJvamVjdGlvbi5nZXRVbml0cygpKSB7XG4gICAgICBjb25zdCBtZXRlcnNQZXJVbml0ID0gcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgICBpZiAobWV0ZXJzUGVyVW5pdCkge1xuICAgICAgICBwb2ludFJlc29sdXRpb24gPVxuICAgICAgICAgIChwb2ludFJlc29sdXRpb24gKiBtZXRlcnNQZXJVbml0KSAvIE1FVEVSU19QRVJfVU5JVFt1bml0c107XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IHByb2pVbml0cyA9IHByb2plY3Rpb24uZ2V0VW5pdHMoKTtcbiAgICBpZiAoKHByb2pVbml0cyA9PSAnZGVncmVlcycgJiYgIXVuaXRzKSB8fCB1bml0cyA9PSAnZGVncmVlcycpIHtcbiAgICAgIHBvaW50UmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEVzdGltYXRlIHBvaW50IHJlc29sdXRpb24gYnkgdHJhbnNmb3JtaW5nIHRoZSBjZW50ZXIgcGl4ZWwgdG8gRVBTRzo0MzI2LFxuICAgICAgLy8gbWVhc3VyaW5nIGl0cyB3aWR0aCBhbmQgaGVpZ2h0IG9uIHRoZSBub3JtYWwgc3BoZXJlLCBhbmQgdGFraW5nIHRoZVxuICAgICAgLy8gYXZlcmFnZSBvZiB0aGUgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgIGNvbnN0IHRvRVBTRzQzMjYgPSBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMoXG4gICAgICAgIHByb2plY3Rpb24sXG4gICAgICAgIGdldCgnRVBTRzo0MzI2JylcbiAgICAgICk7XG4gICAgICBpZiAodG9FUFNHNDMyNiA9PT0gaWRlbnRpdHlUcmFuc2Zvcm0gJiYgcHJvalVuaXRzICE9PSAnZGVncmVlcycpIHtcbiAgICAgICAgLy8gbm8gdHJhbnNmb3JtIGlzIGF2YWlsYWJsZVxuICAgICAgICBwb2ludFJlc29sdXRpb24gPSByZXNvbHV0aW9uICogcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgdmVydGljZXMgPSBbXG4gICAgICAgICAgcG9pbnRbMF0gLSByZXNvbHV0aW9uIC8gMixcbiAgICAgICAgICBwb2ludFsxXSxcbiAgICAgICAgICBwb2ludFswXSArIHJlc29sdXRpb24gLyAyLFxuICAgICAgICAgIHBvaW50WzFdLFxuICAgICAgICAgIHBvaW50WzBdLFxuICAgICAgICAgIHBvaW50WzFdIC0gcmVzb2x1dGlvbiAvIDIsXG4gICAgICAgICAgcG9pbnRbMF0sXG4gICAgICAgICAgcG9pbnRbMV0gKyByZXNvbHV0aW9uIC8gMixcbiAgICAgICAgXTtcbiAgICAgICAgdmVydGljZXMgPSB0b0VQU0c0MzI2KHZlcnRpY2VzLCB2ZXJ0aWNlcywgMik7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gZ2V0RGlzdGFuY2UodmVydGljZXMuc2xpY2UoMCwgMiksIHZlcnRpY2VzLnNsaWNlKDIsIDQpKTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gZ2V0RGlzdGFuY2UodmVydGljZXMuc2xpY2UoNCwgNiksIHZlcnRpY2VzLnNsaWNlKDYsIDgpKTtcbiAgICAgICAgcG9pbnRSZXNvbHV0aW9uID0gKHdpZHRoICsgaGVpZ2h0KSAvIDI7XG4gICAgICB9XG4gICAgICBjb25zdCBtZXRlcnNQZXJVbml0ID0gdW5pdHNcbiAgICAgICAgPyBNRVRFUlNfUEVSX1VOSVRbdW5pdHNdXG4gICAgICAgIDogcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgICBpZiAobWV0ZXJzUGVyVW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBvaW50UmVzb2x1dGlvbiAvPSBtZXRlcnNQZXJVbml0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcG9pbnRSZXNvbHV0aW9uO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMgdGhhdCBkb24ndCBhbHRlciBjb29yZGluYXRlcy4gVGhvc2UgYWxsb3dcbiAqIHRvIHRyYW5zZm9ybSBiZXR3ZWVuIHByb2plY3Rpb25zIHdpdGggZXF1YWwgbWVhbmluZy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PFByb2plY3Rpb24+fSBwcm9qZWN0aW9ucyBQcm9qZWN0aW9ucy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEVxdWl2YWxlbnRQcm9qZWN0aW9ucyhwcm9qZWN0aW9ucykge1xuICBhZGRQcm9qZWN0aW9ucyhwcm9qZWN0aW9ucyk7XG4gIHByb2plY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgIHByb2plY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGRlc3RpbmF0aW9uKSB7XG4gICAgICBpZiAoc291cmNlICE9PSBkZXN0aW5hdGlvbikge1xuICAgICAgICBhZGRUcmFuc2Zvcm1GdW5jKHNvdXJjZSwgZGVzdGluYXRpb24sIGNsb25lVHJhbnNmb3JtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucyB0byBjb252ZXJ0IGNvb3JkaW5hdGVzIGluIGFueSBwcm9qZWN0aW9uXG4gKiBpbiBwcm9qZWN0aW9uMSB0byBhbnkgcHJvamVjdGlvbiBpbiBwcm9qZWN0aW9uMi5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PFByb2plY3Rpb24+fSBwcm9qZWN0aW9uczEgUHJvamVjdGlvbnMgd2l0aCBlcXVhbFxuICogICAgIG1lYW5pbmcuXG4gKiBAcGFyYW0ge0FycmF5PFByb2plY3Rpb24+fSBwcm9qZWN0aW9uczIgUHJvamVjdGlvbnMgd2l0aCBlcXVhbFxuICogICAgIG1lYW5pbmcuXG4gKiBAcGFyYW0ge1RyYW5zZm9ybUZ1bmN0aW9ufSBmb3J3YXJkVHJhbnNmb3JtIFRyYW5zZm9ybWF0aW9uIGZyb20gYW55XG4gKiAgIHByb2plY3Rpb24gaW4gcHJvamVjdGlvbjEgdG8gYW55IHByb2plY3Rpb24gaW4gcHJvamVjdGlvbjIuXG4gKiBAcGFyYW0ge1RyYW5zZm9ybUZ1bmN0aW9ufSBpbnZlcnNlVHJhbnNmb3JtIFRyYW5zZm9ybSBmcm9tIGFueSBwcm9qZWN0aW9uXG4gKiAgIGluIHByb2plY3Rpb24yIHRvIGFueSBwcm9qZWN0aW9uIGluIHByb2plY3Rpb24xLi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEVxdWl2YWxlbnRUcmFuc2Zvcm1zKFxuICBwcm9qZWN0aW9uczEsXG4gIHByb2plY3Rpb25zMixcbiAgZm9yd2FyZFRyYW5zZm9ybSxcbiAgaW52ZXJzZVRyYW5zZm9ybVxuKSB7XG4gIHByb2plY3Rpb25zMS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9qZWN0aW9uMSkge1xuICAgIHByb2plY3Rpb25zMi5mb3JFYWNoKGZ1bmN0aW9uIChwcm9qZWN0aW9uMikge1xuICAgICAgYWRkVHJhbnNmb3JtRnVuYyhwcm9qZWN0aW9uMSwgcHJvamVjdGlvbjIsIGZvcndhcmRUcmFuc2Zvcm0pO1xuICAgICAgYWRkVHJhbnNmb3JtRnVuYyhwcm9qZWN0aW9uMiwgcHJvamVjdGlvbjEsIGludmVyc2VUcmFuc2Zvcm0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDbGVhciBhbGwgY2FjaGVkIHByb2plY3Rpb25zIGFuZCB0cmFuc2Zvcm1zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBbGxQcm9qZWN0aW9ucygpIHtcbiAgY2xlYXJQcm9qKCk7XG4gIGNsZWFyVHJhbnNmb3JtRnVuY3MoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1Byb2plY3Rpb258c3RyaW5nfHVuZGVmaW5lZH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IGRlZmF1bHRDb2RlIERlZmF1bHQgY29kZS5cbiAqIEByZXR1cm4ge1Byb2plY3Rpb259IFByb2plY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0aW9uKHByb2plY3Rpb24sIGRlZmF1bHRDb2RlKSB7XG4gIGlmICghcHJvamVjdGlvbikge1xuICAgIHJldHVybiBnZXQoZGVmYXVsdENvZGUpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9qZWN0aW9uID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBnZXQocHJvamVjdGlvbik7XG4gIH1cbiAgcmV0dXJuIC8qKiBAdHlwZSB7UHJvamVjdGlvbn0gKi8gKHByb2plY3Rpb24pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgbW9kdWxlOm9sL3Byb2p+VHJhbnNmb3JtRnVuY3Rpb259IGZyb20gYSBzaW1wbGUgMkQgY29vcmRpbmF0ZSB0cmFuc2Zvcm1cbiAqIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZFRyYW5zZm9ybSBDb29yZGluYXRlXG4gKiAgICAgdHJhbnNmb3JtLlxuICogQHJldHVybiB7VHJhbnNmb3JtRnVuY3Rpb259IFRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zZm9ybUZyb21Db29yZGluYXRlVHJhbnNmb3JtKGNvb3JkVHJhbnNmb3JtKSB7XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBpbnB1dCBJbnB1dC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvdXRwdXRdIE91dHB1dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RpbWVuc2lvbl0gRGltZW5zaW9uLlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE91dHB1dC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoaW5wdXQsIG91dHB1dCwgZGltZW5zaW9uKSB7XG4gICAgICBjb25zdCBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgICBkaW1lbnNpb24gPSBkaW1lbnNpb24gIT09IHVuZGVmaW5lZCA/IGRpbWVuc2lvbiA6IDI7XG4gICAgICBvdXRwdXQgPSBvdXRwdXQgIT09IHVuZGVmaW5lZCA/IG91dHB1dCA6IG5ldyBBcnJheShsZW5ndGgpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gZGltZW5zaW9uKSB7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gY29vcmRUcmFuc2Zvcm0oaW5wdXQuc2xpY2UoaSwgaSArIGRpbWVuc2lvbikpO1xuICAgICAgICBjb25zdCBwb2ludExlbmd0aCA9IHBvaW50Lmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaiA9IDAsIGpqID0gZGltZW5zaW9uOyBqIDwgamo7ICsraikge1xuICAgICAgICAgIG91dHB1dFtpICsgal0gPSBqID49IHBvaW50TGVuZ3RoID8gaW5wdXRbaSArIGpdIDogcG9pbnRbal07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICApO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBjb29yZGluYXRlIHRyYW5zZm9ybSBmdW5jdGlvbnMgdG8gY29udmVydCBjb29yZGluYXRlcyBiZXR3ZWVuIHRoZVxuICogc291cmNlIHByb2plY3Rpb24gYW5kIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogVGhlIGZvcndhcmQgYW5kIGludmVyc2UgZnVuY3Rpb25zIGNvbnZlcnQgY29vcmRpbmF0ZSBwYWlyczsgdGhpcyBmdW5jdGlvblxuICogY29udmVydHMgdGhlc2UgaW50byB0aGUgZnVuY3Rpb25zIHVzZWQgaW50ZXJuYWxseSB3aGljaCBhbHNvIGhhbmRsZVxuICogZXh0ZW50cyBhbmQgY29vcmRpbmF0ZSBhcnJheXMuXG4gKlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZm9yd2FyZCBUaGUgZm9yd2FyZCB0cmFuc2Zvcm1cbiAqICAgICBmdW5jdGlvbiAodGhhdCBpcywgZnJvbSB0aGUgc291cmNlIHByb2plY3Rpb24gdG8gdGhlIGRlc3RpbmF0aW9uXG4gKiAgICAgcHJvamVjdGlvbikgdGhhdCB0YWtlcyBhIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlfSBhcyBhcmd1bWVudCBhbmQgcmV0dXJuc1xuICogICAgIHRoZSB0cmFuc2Zvcm1lZCB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGludmVyc2UgVGhlIGludmVyc2UgdHJhbnNmb3JtXG4gKiAgICAgZnVuY3Rpb24gKHRoYXQgaXMsIGZyb20gdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24gdG8gdGhlIHNvdXJjZVxuICogICAgIHByb2plY3Rpb24pIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYXMgYXJndW1lbnQgYW5kIHJldHVybnNcbiAqICAgICB0aGUgdHJhbnNmb3JtZWQge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGV9LiBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIGNhbiBvbmx5XG4gKiAgICAgdHJhbnNmb3JtIGxlc3MgZGltZW5zaW9ucyB0aGFuIHRoZSBpbnB1dCBjb29yZGluYXRlLCBpdCBpcyBzdXBwb3NlZWQgdG8gcmV0dXJuIGEgY29vcmRpbmF0ZVxuICogICAgIHdpdGggb25seSB0aGUgbGVuZ3RoIGl0IGNhbiB0cmFuc2Zvcm0uIFRoZSBvdGhlciBkaW1lbnNpb25zIHdpbGwgYmUgdGFrZW4gdW5jaGFuZ2VkIGZyb20gdGhlXG4gKiAgICAgc291cmNlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29vcmRpbmF0ZVRyYW5zZm9ybXMoc291cmNlLCBkZXN0aW5hdGlvbiwgZm9yd2FyZCwgaW52ZXJzZSkge1xuICBjb25zdCBzb3VyY2VQcm9qID0gZ2V0KHNvdXJjZSk7XG4gIGNvbnN0IGRlc3RQcm9qID0gZ2V0KGRlc3RpbmF0aW9uKTtcbiAgYWRkVHJhbnNmb3JtRnVuYyhcbiAgICBzb3VyY2VQcm9qLFxuICAgIGRlc3RQcm9qLFxuICAgIGNyZWF0ZVRyYW5zZm9ybUZyb21Db29yZGluYXRlVHJhbnNmb3JtKGZvcndhcmQpXG4gICk7XG4gIGFkZFRyYW5zZm9ybUZ1bmMoXG4gICAgZGVzdFByb2osXG4gICAgc291cmNlUHJvaixcbiAgICBjcmVhdGVUcmFuc2Zvcm1Gcm9tQ29vcmRpbmF0ZVRyYW5zZm9ybShpbnZlcnNlKVxuICApO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgYSBjb29yZGluYXRlIGZyb20gbG9uZ2l0dWRlL2xhdGl0dWRlIHRvIGEgZGlmZmVyZW50IHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUgYXMgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSwgaS5lLlxuICogICAgIGFuIGFycmF5IHdpdGggbG9uZ2l0dWRlIGFzIDFzdCBhbmQgbGF0aXR1ZGUgYXMgMm5kIGVsZW1lbnQuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gVGFyZ2V0IHByb2plY3Rpb24uIFRoZVxuICogICAgIGRlZmF1bHQgaXMgV2ViIE1lcmNhdG9yLCBpLmUuICdFUFNHOjM4NTcnLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUgcHJvamVjdGVkIHRvIHRoZSB0YXJnZXQgcHJvamVjdGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Mb25MYXQoY29vcmRpbmF0ZSwgcHJvamVjdGlvbikge1xuICBkaXNhYmxlQ29vcmRpbmF0ZVdhcm5pbmcoKTtcbiAgcmV0dXJuIHRyYW5zZm9ybShcbiAgICBjb29yZGluYXRlLFxuICAgICdFUFNHOjQzMjYnLFxuICAgIHByb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IHByb2plY3Rpb24gOiAnRVBTRzozODU3J1xuICApO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgYSBjb29yZGluYXRlIHRvIGxvbmdpdHVkZS9sYXRpdHVkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgUHJvamVjdGVkIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbiBvZiB0aGUgY29vcmRpbmF0ZS5cbiAqICAgICBUaGUgZGVmYXVsdCBpcyBXZWIgTWVyY2F0b3IsIGkuZS4gJ0VQU0c6Mzg1NycuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ29vcmRpbmF0ZSBhcyBsb25naXR1ZGUgYW5kIGxhdGl0dWRlLCBpLmUuIGFuIGFycmF5XG4gKiAgICAgd2l0aCBsb25naXR1ZGUgYXMgMXN0IGFuZCBsYXRpdHVkZSBhcyAybmQgZWxlbWVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvTG9uTGF0KGNvb3JkaW5hdGUsIHByb2plY3Rpb24pIHtcbiAgY29uc3QgbG9uTGF0ID0gdHJhbnNmb3JtKFxuICAgIGNvb3JkaW5hdGUsXG4gICAgcHJvamVjdGlvbiAhPT0gdW5kZWZpbmVkID8gcHJvamVjdGlvbiA6ICdFUFNHOjM4NTcnLFxuICAgICdFUFNHOjQzMjYnXG4gICk7XG4gIGNvbnN0IGxvbiA9IGxvbkxhdFswXTtcbiAgaWYgKGxvbiA8IC0xODAgfHwgbG9uID4gMTgwKSB7XG4gICAgbG9uTGF0WzBdID0gbW9kdWxvKGxvbiArIDE4MCwgMzYwKSAtIDE4MDtcbiAgfVxuICByZXR1cm4gbG9uTGF0O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0d28gcHJvamVjdGlvbnMgYXJlIHRoZSBzYW1lLCB0aGF0IGlzIGV2ZXJ5IGNvb3JkaW5hdGUgaW4gb25lXG4gKiBwcm9qZWN0aW9uIGRvZXMgcmVwcmVzZW50IHRoZSBzYW1lIGdlb2dyYXBoaWMgcG9pbnQgYXMgdGhlIHNhbWUgY29vcmRpbmF0ZSBpblxuICogdGhlIG90aGVyIHByb2plY3Rpb24uXG4gKlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBwcm9qZWN0aW9uMSBQcm9qZWN0aW9uIDEuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IHByb2plY3Rpb24yIFByb2plY3Rpb24gMi5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IEVxdWl2YWxlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVpdmFsZW50KHByb2plY3Rpb24xLCBwcm9qZWN0aW9uMikge1xuICBpZiAocHJvamVjdGlvbjEgPT09IHByb2plY3Rpb24yKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3QgZXF1YWxVbml0cyA9IHByb2plY3Rpb24xLmdldFVuaXRzKCkgPT09IHByb2plY3Rpb24yLmdldFVuaXRzKCk7XG4gIGlmIChwcm9qZWN0aW9uMS5nZXRDb2RlKCkgPT09IHByb2plY3Rpb24yLmdldENvZGUoKSkge1xuICAgIHJldHVybiBlcXVhbFVuaXRzO1xuICB9XG4gIGNvbnN0IHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMocHJvamVjdGlvbjEsIHByb2plY3Rpb24yKTtcbiAgcmV0dXJuIHRyYW5zZm9ybUZ1bmMgPT09IGNsb25lVHJhbnNmb3JtICYmIGVxdWFsVW5pdHM7XG59XG5cbi8qKlxuICogU2VhcmNoZXMgaW4gdGhlIGxpc3Qgb2YgdHJhbnNmb3JtIGZ1bmN0aW9ucyBmb3IgdGhlIGZ1bmN0aW9uIGZvciBjb252ZXJ0aW5nXG4gKiBjb29yZGluYXRlcyBmcm9tIHRoZSBzb3VyY2UgcHJvamVjdGlvbiB0byB0aGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IHNvdXJjZVByb2plY3Rpb24gU291cmNlIFByb2plY3Rpb24gb2JqZWN0LlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBkZXN0aW5hdGlvblByb2plY3Rpb24gRGVzdGluYXRpb24gUHJvamVjdGlvblxuICogICAgIG9iamVjdC5cbiAqIEByZXR1cm4ge1RyYW5zZm9ybUZ1bmN0aW9ufSBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMoXG4gIHNvdXJjZVByb2plY3Rpb24sXG4gIGRlc3RpbmF0aW9uUHJvamVjdGlvblxuKSB7XG4gIGNvbnN0IHNvdXJjZUNvZGUgPSBzb3VyY2VQcm9qZWN0aW9uLmdldENvZGUoKTtcbiAgY29uc3QgZGVzdGluYXRpb25Db2RlID0gZGVzdGluYXRpb25Qcm9qZWN0aW9uLmdldENvZGUoKTtcbiAgbGV0IHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm1GdW5jKHNvdXJjZUNvZGUsIGRlc3RpbmF0aW9uQ29kZSk7XG4gIGlmICghdHJhbnNmb3JtRnVuYykge1xuICAgIHRyYW5zZm9ybUZ1bmMgPSBpZGVudGl0eVRyYW5zZm9ybTtcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtRnVuYztcbn1cblxuLyoqXG4gKiBHaXZlbiB0aGUgcHJvamVjdGlvbi1saWtlIG9iamVjdHMsIHNlYXJjaGVzIGZvciBhIHRyYW5zZm9ybWF0aW9uXG4gKiBmdW5jdGlvbiB0byBjb252ZXJ0IGEgY29vcmRpbmF0ZXMgYXJyYXkgZnJvbSB0aGUgc291cmNlIHByb2plY3Rpb24gdG8gdGhlXG4gKiBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZSBTb3VyY2UuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge1RyYW5zZm9ybUZ1bmN0aW9ufSBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm0oc291cmNlLCBkZXN0aW5hdGlvbikge1xuICBjb25zdCBzb3VyY2VQcm9qZWN0aW9uID0gZ2V0KHNvdXJjZSk7XG4gIGNvbnN0IGRlc3RpbmF0aW9uUHJvamVjdGlvbiA9IGdldChkZXN0aW5hdGlvbik7XG4gIHJldHVybiBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMoc291cmNlUHJvamVjdGlvbiwgZGVzdGluYXRpb25Qcm9qZWN0aW9uKTtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgY29vcmRpbmF0ZSBmcm9tIHNvdXJjZSBwcm9qZWN0aW9uIHRvIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBUaGlzIHJldHVybnMgYSBuZXcgY29vcmRpbmF0ZSAoYW5kIGRvZXMgbm90IG1vZGlmeSB0aGUgb3JpZ2luYWwpLlxuICpcbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3Byb2oudHJhbnNmb3JtRXh0ZW50fSBmb3IgZXh0ZW50IHRyYW5zZm9ybWF0aW9uLlxuICogU2VlIHRoZSB0cmFuc2Zvcm0gbWV0aG9kIG9mIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9HZW9tZXRyeX5HZW9tZXRyeX0gYW5kIGl0c1xuICogc3ViY2xhc3NlcyBmb3IgZ2VvbWV0cnkgdHJhbnNmb3Jtcy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBzb3VyY2UgU291cmNlIHByb2plY3Rpb24tbGlrZS5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uIHByb2plY3Rpb24tbGlrZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtKGNvb3JkaW5hdGUsIHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgY29uc3QgdHJhbnNmb3JtRnVuYyA9IGdldFRyYW5zZm9ybShzb3VyY2UsIGRlc3RpbmF0aW9uKTtcbiAgcmV0dXJuIHRyYW5zZm9ybUZ1bmMoY29vcmRpbmF0ZSwgdW5kZWZpbmVkLCBjb29yZGluYXRlLmxlbmd0aCk7XG59XG5cbi8qKlxuICogVHJhbnNmb3JtcyBhbiBleHRlbnQgZnJvbSBzb3VyY2UgcHJvamVjdGlvbiB0byBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLiAgVGhpc1xuICogcmV0dXJucyBhIG5ldyBleHRlbnQgKGFuZCBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQgdG8gdHJhbnNmb3JtLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlIFNvdXJjZSBwcm9qZWN0aW9uLWxpa2UuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLWxpa2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0b3BzXSBOdW1iZXIgb2Ygc3RvcHMgcGVyIHNpZGUgdXNlZCBmb3IgdGhlIHRyYW5zZm9ybS5cbiAqIEJ5IGRlZmF1bHQgb25seSB0aGUgY29ybmVycyBhcmUgdXNlZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIHRyYW5zZm9ybWVkIGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIHNvdXJjZSwgZGVzdGluYXRpb24sIHN0b3BzKSB7XG4gIGNvbnN0IHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm0oc291cmNlLCBkZXN0aW5hdGlvbik7XG4gIHJldHVybiBhcHBseVRyYW5zZm9ybShleHRlbnQsIHRyYW5zZm9ybUZ1bmMsIHVuZGVmaW5lZCwgc3RvcHMpO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIGdpdmVuIHBvaW50IHRvIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50IFBvaW50LlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBzb3VyY2VQcm9qZWN0aW9uIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBkZXN0aW5hdGlvblByb2plY3Rpb24gRGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBQb2ludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVdpdGhQcm9qZWN0aW9ucyhcbiAgcG9pbnQsXG4gIHNvdXJjZVByb2plY3Rpb24sXG4gIGRlc3RpbmF0aW9uUHJvamVjdGlvblxuKSB7XG4gIGNvbnN0IHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMoXG4gICAgc291cmNlUHJvamVjdGlvbixcbiAgICBkZXN0aW5hdGlvblByb2plY3Rpb25cbiAgKTtcbiAgcmV0dXJuIHRyYW5zZm9ybUZ1bmMocG9pbnQpO1xufVxuXG4vKipcbiAqIEB0eXBlIHtQcm9qZWN0aW9ufG51bGx9XG4gKi9cbmxldCB1c2VyUHJvamVjdGlvbiA9IG51bGw7XG5cbi8qKlxuICogU2V0IHRoZSBwcm9qZWN0aW9uIGZvciBjb29yZGluYXRlcyBzdXBwbGllZCBmcm9tIGFuZCByZXR1cm5lZCBieSBBUEkgbWV0aG9kcy5cbiAqIFRoaXMgaW5jbHVkZXMgYWxsIEFQSSBtZXRob2RzIGV4Y2VwdCBmb3IgdGhvc2UgaW50ZXJhY3Rpbmcgd2l0aCB0aWxlIGdyaWRzLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBUaGUgdXNlciBwcm9qZWN0aW9uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VXNlclByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICB1c2VyUHJvamVjdGlvbiA9IGdldChwcm9qZWN0aW9uKTtcbn1cblxuLyoqXG4gKiBDbGVhciB0aGUgdXNlciBwcm9qZWN0aW9uIGlmIHNldC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyVXNlclByb2plY3Rpb24oKSB7XG4gIHVzZXJQcm9qZWN0aW9uID0gbnVsbDtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHByb2plY3Rpb24gZm9yIGNvb3JkaW5hdGVzIHN1cHBsaWVkIGZyb20gYW5kIHJldHVybmVkIGJ5IEFQSSBtZXRob2RzLlxuICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGlzIG5vdCB5ZXQgYSBwYXJ0IG9mIHRoZSBzdGFibGUgQVBJLiAgU3VwcG9ydCBmb3IgdXNlclxuICogcHJvamVjdGlvbnMgaXMgbm90IHlldCBjb21wbGV0ZSBhbmQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZXhwZXJpbWVudGFsLlxuICogQHJldHVybiB7UHJvamVjdGlvbnxudWxsfSBUaGUgdXNlciBwcm9qZWN0aW9uIChvciBudWxsIGlmIG5vdCBzZXQpLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlclByb2plY3Rpb24oKSB7XG4gIHJldHVybiB1c2VyUHJvamVjdGlvbjtcbn1cblxuLyoqXG4gKiBVc2UgZ2VvZ3JhcGhpYyBjb29yZGluYXRlcyAoV0dTLTg0IGRhdHVtKSBpbiBBUEkgbWV0aG9kcy4gIFRoaXMgaW5jbHVkZXMgYWxsIEFQSVxuICogbWV0aG9kcyBleGNlcHQgZm9yIHRob3NlIGludGVyYWN0aW5nIHdpdGggdGlsZSBncmlkcy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUdlb2dyYXBoaWMoKSB7XG4gIHNldFVzZXJQcm9qZWN0aW9uKCdFUFNHOjQzMjYnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBjb29yZGluYXRlIHRyYW5zZm9ybWVkIGludG8gdGhlIHVzZXIgcHJvamVjdGlvbi4gIElmIG5vIHVzZXIgcHJvamVjdGlvblxuICogaXMgc2V0LCB0aGUgb3JpZ2luYWwgY29vcmRpbmF0ZSBpcyByZXR1cm5lZC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZSBJbnB1dCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlUHJvamVjdGlvbiBUaGUgaW5wdXQgY29vcmRpbmF0ZSBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVGhlIGlucHV0IGNvb3JkaW5hdGUgaW4gdGhlIHVzZXIgcHJvamVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvVXNlckNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgc291cmNlUHJvamVjdGlvbikge1xuICBpZiAoIXVzZXJQcm9qZWN0aW9uKSB7XG4gICAgcmV0dXJuIGNvb3JkaW5hdGU7XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybShjb29yZGluYXRlLCBzb3VyY2VQcm9qZWN0aW9uLCB1c2VyUHJvamVjdGlvbik7XG59XG5cbi8qKlxuICogUmV0dXJuIGEgY29vcmRpbmF0ZSB0cmFuc2Zvcm1lZCBmcm9tIHRoZSB1c2VyIHByb2plY3Rpb24uICBJZiBubyB1c2VyIHByb2plY3Rpb25cbiAqIGlzIHNldCwgdGhlIG9yaWdpbmFsIGNvb3JkaW5hdGUgaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNvb3JkaW5hdGUgSW5wdXQgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IGRlc3RQcm9qZWN0aW9uIFRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVGhlIGlucHV0IGNvb3JkaW5hdGUgdHJhbnNmb3JtZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVXNlckNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgZGVzdFByb2plY3Rpb24pIHtcbiAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgIGlmIChcbiAgICAgIHNob3dDb29yZGluYXRlV2FybmluZyAmJlxuICAgICAgIWVxdWFscyhjb29yZGluYXRlLCBbMCwgMF0pICYmXG4gICAgICBjb29yZGluYXRlWzBdID49IC0xODAgJiZcbiAgICAgIGNvb3JkaW5hdGVbMF0gPD0gMTgwICYmXG4gICAgICBjb29yZGluYXRlWzFdID49IC05MCAmJlxuICAgICAgY29vcmRpbmF0ZVsxXSA8PSA5MFxuICAgICkge1xuICAgICAgc2hvd0Nvb3JkaW5hdGVXYXJuaW5nID0gZmFsc2U7XG4gICAgICB3YXJuKFxuICAgICAgICAnQ2FsbCB1c2VHZW9ncmFwaGljKCkgZnJvbSBvbC9wcm9qIG9uY2UgdG8gd29yayB3aXRoIFtsb25naXR1ZGUsIGxhdGl0dWRlXSBjb29yZGluYXRlcy4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtKGNvb3JkaW5hdGUsIHVzZXJQcm9qZWN0aW9uLCBkZXN0UHJvamVjdGlvbik7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGV4dGVudCB0cmFuc2Zvcm1lZCBpbnRvIHRoZSB1c2VyIHByb2plY3Rpb24uICBJZiBubyB1c2VyIHByb2plY3Rpb25cbiAqIGlzIHNldCwgdGhlIG9yaWdpbmFsIGV4dGVudCBpcyByZXR1cm5lZC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgSW5wdXQgZXh0ZW50LlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlUHJvamVjdGlvbiBUaGUgaW5wdXQgZXh0ZW50IHByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IFRoZSBpbnB1dCBleHRlbnQgaW4gdGhlIHVzZXIgcHJvamVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvVXNlckV4dGVudChleHRlbnQsIHNvdXJjZVByb2plY3Rpb24pIHtcbiAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgIHJldHVybiBleHRlbnQ7XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIHNvdXJjZVByb2plY3Rpb24sIHVzZXJQcm9qZWN0aW9uKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gZXh0ZW50IHRyYW5zZm9ybWVkIGZyb20gdGhlIHVzZXIgcHJvamVjdGlvbi4gIElmIG5vIHVzZXIgcHJvamVjdGlvblxuICogaXMgc2V0LCB0aGUgb3JpZ2luYWwgZXh0ZW50IGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBJbnB1dCBleHRlbnQuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0UHJvamVjdGlvbiBUaGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIGlucHV0IGV4dGVudCB0cmFuc2Zvcm1lZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Vc2VyRXh0ZW50KGV4dGVudCwgZGVzdFByb2plY3Rpb24pIHtcbiAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgIHJldHVybiBleHRlbnQ7XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIHVzZXJQcm9qZWN0aW9uLCBkZXN0UHJvamVjdGlvbik7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSByZXNvbHV0aW9uIGluIHVzZXIgcHJvamVjdGlvbiB1bml0cyBwZXIgcGl4ZWwuIElmIG5vIHVzZXIgcHJvamVjdGlvblxuICogaXMgc2V0LCBvciBzb3VyY2Ugb3IgdXNlciBwcm9qZWN0aW9uIGFyZSBtaXNzaW5nIHVuaXRzLCB0aGUgb3JpZ2luYWwgcmVzb2x1dGlvblxuICogaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uIGluIGlucHV0IHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlUHJvamVjdGlvbiBUaGUgaW5wdXQgcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbiBpbiB1c2VyIHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Vc2VyUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBzb3VyY2VQcm9qZWN0aW9uKSB7XG4gIGlmICghdXNlclByb2plY3Rpb24pIHtcbiAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgfVxuICBjb25zdCBzb3VyY2VVbml0cyA9IGdldChzb3VyY2VQcm9qZWN0aW9uKS5nZXRVbml0cygpO1xuICBjb25zdCB1c2VyVW5pdHMgPSB1c2VyUHJvamVjdGlvbi5nZXRVbml0cygpO1xuICByZXR1cm4gc291cmNlVW5pdHMgJiYgdXNlclVuaXRzXG4gICAgPyAocmVzb2x1dGlvbiAqIE1FVEVSU19QRVJfVU5JVFtzb3VyY2VVbml0c10pIC8gTUVURVJTX1BFUl9VTklUW3VzZXJVbml0c11cbiAgICA6IHJlc29sdXRpb247XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSByZXNvbHV0aW9uIGluIHVzZXIgcHJvamVjdGlvbiB1bml0cyBwZXIgcGl4ZWwuIElmIG5vIHVzZXIgcHJvamVjdGlvblxuICogaXMgc2V0LCBvciBzb3VyY2Ugb3IgdXNlciBwcm9qZWN0aW9uIGFyZSBtaXNzaW5nIHVuaXRzLCB0aGUgb3JpZ2luYWwgcmVzb2x1dGlvblxuICogaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uIGluIHVzZXIgcHJvamVjdGlvbiB1bml0cyBwZXIgcGl4ZWwuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0UHJvamVjdGlvbiBUaGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbiBpbiBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uIHVuaXRzIHBlciBwaXhlbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Vc2VyUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBkZXN0UHJvamVjdGlvbikge1xuICBpZiAoIXVzZXJQcm9qZWN0aW9uKSB7XG4gICAgcmV0dXJuIHJlc29sdXRpb247XG4gIH1cbiAgY29uc3Qgc291cmNlVW5pdHMgPSBnZXQoZGVzdFByb2plY3Rpb24pLmdldFVuaXRzKCk7XG4gIGNvbnN0IHVzZXJVbml0cyA9IHVzZXJQcm9qZWN0aW9uLmdldFVuaXRzKCk7XG4gIHJldHVybiBzb3VyY2VVbml0cyAmJiB1c2VyVW5pdHNcbiAgICA/IChyZXNvbHV0aW9uICogTUVURVJTX1BFUl9VTklUW3VzZXJVbml0c10pIC8gTUVURVJTX1BFUl9VTklUW3NvdXJjZVVuaXRzXVxuICAgIDogcmVzb2x1dGlvbjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc2FmZSBjb29yZGluYXRlIHRyYW5zZm9ybSBmdW5jdGlvbiBmcm9tIGEgY29vcmRpbmF0ZSB0cmFuc2Zvcm0gZnVuY3Rpb24uXG4gKiBcIlNhZmVcIiBtZWFucyB0aGF0IGl0IGNhbiBoYW5kbGUgd3JhcHBpbmcgb2YgeC1jb29yZGluYXRlcyBmb3IgZ2xvYmFsIHByb2plY3Rpb25zLFxuICogYW5kIHRoYXQgY29vcmRpbmF0ZXMgZXhjZWVkaW5nIHRoZSBzb3VyY2UgcHJvamVjdGlvbiB2YWxpZGl0eSBleHRlbnQncyByYW5nZSB3aWxsIGJlXG4gKiBjbGFtcGVkIHRvIHRoZSB2YWxpZGl0eSByYW5nZS5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gc291cmNlUHJvaiBTb3VyY2UgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gZGVzdFByb2ogRGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gdHJhbnNmb3JtIFRyYW5zZm9ybSBmdW5jdGlvbiAoc291cmNlIHRvIGRlc3RpYXRpb24pLlxuICogQHJldHVybiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gU2FmZSB0cmFuc2Zvcm0gZnVuY3Rpb24gKHNvdXJjZSB0byBkZXN0aWF0aW9uKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNhZmVDb29yZGluYXRlVHJhbnNmb3JtKHNvdXJjZVByb2osIGRlc3RQcm9qLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjb29yZCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZCwgd29ybGRzQXdheTtcbiAgICBpZiAoc291cmNlUHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICBjb25zdCBzb3VyY2VFeHRlbnQgPSBzb3VyY2VQcm9qLmdldEV4dGVudCgpO1xuICAgICAgY29uc3Qgc291cmNlRXh0ZW50V2lkdGggPSBnZXRXaWR0aChzb3VyY2VFeHRlbnQpO1xuICAgICAgY29vcmQgPSBjb29yZC5zbGljZSgwKTtcbiAgICAgIHdvcmxkc0F3YXkgPSBnZXRXb3JsZHNBd2F5KGNvb3JkLCBzb3VyY2VQcm9qLCBzb3VyY2VFeHRlbnRXaWR0aCk7XG4gICAgICBpZiAod29ybGRzQXdheSkge1xuICAgICAgICAvLyBNb3ZlIHggdG8gdGhlIHJlYWwgd29ybGRcbiAgICAgICAgY29vcmRbMF0gPSBjb29yZFswXSAtIHdvcmxkc0F3YXkgKiBzb3VyY2VFeHRlbnRXaWR0aDtcbiAgICAgIH1cbiAgICAgIGNvb3JkWzBdID0gY2xhbXAoY29vcmRbMF0sIHNvdXJjZUV4dGVudFswXSwgc291cmNlRXh0ZW50WzJdKTtcbiAgICAgIGNvb3JkWzFdID0gY2xhbXAoY29vcmRbMV0sIHNvdXJjZUV4dGVudFsxXSwgc291cmNlRXh0ZW50WzNdKTtcbiAgICAgIHRyYW5zZm9ybWVkID0gdHJhbnNmb3JtKGNvb3JkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm0oY29vcmQpO1xuICAgIH1cbiAgICBpZiAod29ybGRzQXdheSAmJiBkZXN0UHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICAvLyBNb3ZlIHRyYW5zZm9ybWVkIGNvb3JkaW5hdGUgYmFjayB0byB0aGUgb2Zmc2V0IHdvcmxkXG4gICAgICB0cmFuc2Zvcm1lZFswXSArPSB3b3JsZHNBd2F5ICogZ2V0V2lkdGgoZGVzdFByb2ouZ2V0RXh0ZW50KCkpO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtZWQ7XG4gIH07XG59XG5cbi8qKlxuICogQWRkIHRyYW5zZm9ybXMgdG8gYW5kIGZyb20gRVBTRzo0MzI2IGFuZCBFUFNHOjM4NTcuICBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZFxuICogYnkgd2hlbiB0aGlzIG1vZHVsZSBpcyBleGVjdXRlZCBhbmQgc2hvdWxkIG9ubHkgbmVlZCB0byBiZSBjYWxsZWQgYWdhaW4gYWZ0ZXJcbiAqIGBjbGVhckFsbFByb2plY3Rpb25zKClgIGlzIGNhbGxlZCAoZS5nLiBpbiB0ZXN0cykuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRDb21tb24oKSB7XG4gIC8vIEFkZCB0cmFuc2Zvcm1hdGlvbnMgdGhhdCBkb24ndCBhbHRlciBjb29yZGluYXRlcyB0byBjb252ZXJ0IHdpdGhpbiBzZXQgb2ZcbiAgLy8gcHJvamVjdGlvbnMgd2l0aCBlcXVhbCBtZWFuaW5nLlxuICBhZGRFcXVpdmFsZW50UHJvamVjdGlvbnMoRVBTRzM4NTdfUFJPSkVDVElPTlMpO1xuICBhZGRFcXVpdmFsZW50UHJvamVjdGlvbnMoRVBTRzQzMjZfUFJPSkVDVElPTlMpO1xuICAvLyBBZGQgdHJhbnNmb3JtYXRpb25zIHRvIGNvbnZlcnQgRVBTRzo0MzI2IGxpa2UgY29vcmRpbmF0ZXMgdG8gRVBTRzozODU3IGxpa2VcbiAgLy8gY29vcmRpbmF0ZXMgYW5kIGJhY2suXG4gIGFkZEVxdWl2YWxlbnRUcmFuc2Zvcm1zKFxuICAgIEVQU0c0MzI2X1BST0pFQ1RJT05TLFxuICAgIEVQU0czODU3X1BST0pFQ1RJT05TLFxuICAgIGZyb21FUFNHNDMyNixcbiAgICB0b0VQU0c0MzI2XG4gICk7XG59XG5cbmFkZENvbW1vbigpO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2ovUHJvamVjdGlvblxuICovXG5pbXBvcnQge01FVEVSU19QRVJfVU5JVH0gZnJvbSAnLi9Vbml0cy5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvZGUgVGhlIFNSUyBpZGVudGlmaWVyIGNvZGUsIGUuZy4gYEVQU0c6NDMyNmAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vVW5pdHMuanNcIikuVW5pdHN9IFt1bml0c10gVW5pdHMuIFJlcXVpcmVkIHVubGVzcyBhXG4gKiBwcm9qNCBwcm9qZWN0aW9uIGlzIGRlZmluZWQgZm9yIGBjb2RlYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIHZhbGlkaXR5IGV4dGVudCBmb3IgdGhlIFNSUy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXhpc09yaWVudGF0aW9uPSdlbnUnXSBUaGUgYXhpcyBvcmllbnRhdGlvbiBhcyBzcGVjaWZpZWQgaW4gUHJvajQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtnbG9iYWw9ZmFsc2VdIFdoZXRoZXIgdGhlIHByb2plY3Rpb24gaXMgdmFsaWQgZm9yIHRoZSB3aG9sZSBnbG9iZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWV0ZXJzUGVyVW5pdF0gVGhlIG1ldGVycyBwZXIgdW5pdCBmb3IgdGhlIFNSUy5cbiAqIElmIG5vdCBwcm92aWRlZCwgdGhlIGB1bml0c2AgYXJlIHVzZWQgdG8gZ2V0IHRoZSBtZXRlcnMgcGVyIHVuaXQgZnJvbSB0aGUge0BsaW5rIE1FVEVSU19QRVJfVU5JVH1cbiAqIGxvb2t1cCB0YWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW3dvcmxkRXh0ZW50XSBUaGUgd29ybGQgZXh0ZW50IGZvciB0aGUgU1JTLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihudW1iZXIsIGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6bnVtYmVyfSBbZ2V0UG9pbnRSZXNvbHV0aW9uXVxuICogRnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHJlc29sdXRpb24gYXQgYSBwb2ludC4gVGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIGFcbiAqIGBudW1iZXJgIHZpZXcgcmVzb2x1dGlvbiBhbmQgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYXMgYXJndW1lbnRzLCBhbmQgcmV0dXJuc1xuICogdGhlIGBudW1iZXJgIHJlc29sdXRpb24gaW4gcHJvamVjdGlvbiB1bml0cyBhdCB0aGUgcGFzc2VkIGNvb3JkaW5hdGUuIElmIHRoaXMgaXMgYHVuZGVmaW5lZGAsXG4gKiB0aGUgZGVmYXVsdCB7QGxpbmsgbW9kdWxlOm9sL3Byb2ouZ2V0UG9pbnRSZXNvbHV0aW9ufSBmdW5jdGlvbiB3aWxsIGJlIHVzZWQuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQcm9qZWN0aW9uIGRlZmluaXRpb24gY2xhc3MuIE9uZSBvZiB0aGVzZSBpcyBjcmVhdGVkIGZvciBlYWNoIHByb2plY3Rpb25cbiAqIHN1cHBvcnRlZCBpbiB0aGUgYXBwbGljYXRpb24gYW5kIHN0b3JlZCBpbiB0aGUge0BsaW5rIG1vZHVsZTpvbC9wcm9qfSBuYW1lc3BhY2UuXG4gKiBZb3UgY2FuIHVzZSB0aGVzZSBpbiBhcHBsaWNhdGlvbnMsIGJ1dCB0aGlzIGlzIG5vdCByZXF1aXJlZCwgYXMgQVBJIHBhcmFtc1xuICogYW5kIG9wdGlvbnMgdXNlIHtAbGluayBtb2R1bGU6b2wvcHJvan5Qcm9qZWN0aW9uTGlrZX0gd2hpY2ggbWVhbnMgdGhlIHNpbXBsZSBzdHJpbmdcbiAqIGNvZGUgd2lsbCBzdWZmaWNlLlxuICpcbiAqIFlvdSBjYW4gdXNlIHtAbGluayBtb2R1bGU6b2wvcHJvai5nZXR9IHRvIHJldHJpZXZlIHRoZSBvYmplY3QgZm9yIGEgcGFydGljdWxhclxuICogcHJvamVjdGlvbi5cbiAqXG4gKiBUaGUgbGlicmFyeSBpbmNsdWRlcyBkZWZpbml0aW9ucyBmb3IgYEVQU0c6NDMyNmAgYW5kIGBFUFNHOjM4NTdgLCB0b2dldGhlclxuICogd2l0aCB0aGUgZm9sbG93aW5nIGFsaWFzZXM6XG4gKiAqIGBFUFNHOjQzMjZgOiBDUlM6ODQsIHVybjpvZ2M6ZGVmOmNyczpFUFNHOjYuNjo0MzI2LFxuICogICAgIHVybjpvZ2M6ZGVmOmNyczpPR0M6MS4zOkNSUzg0LCB1cm46b2djOmRlZjpjcnM6T0dDOjI6ODQsXG4gKiAgICAgaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzQzMjYsXG4gKiAgICAgdXJuOngtb2djOmRlZjpjcnM6RVBTRzo0MzI2XG4gKiAqIGBFUFNHOjM4NTdgOiBFUFNHOjEwMjEwMCwgRVBTRzoxMDIxMTMsIEVQU0c6OTAwOTEzLFxuICogICAgIHVybjpvZ2M6ZGVmOmNyczpFUFNHOjYuMTg6MzozODU3LFxuICogICAgIGh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sL3Nycy9lcHNnLnhtbCMzODU3XG4gKlxuICogSWYgeW91IHVzZSBbcHJvajRqc10oaHR0cHM6Ly9naXRodWIuY29tL3Byb2o0anMvcHJvajRqcyksIGFsaWFzZXMgY2FuXG4gKiBiZSBhZGRlZCB1c2luZyBgcHJvajQuZGVmcygpYC4gQWZ0ZXIgYWxsIHJlcXVpcmVkIHByb2plY3Rpb24gZGVmaW5pdGlvbnMgYXJlXG4gKiBhZGRlZCwgY2FsbCB0aGUge0BsaW5rIG1vZHVsZTpvbC9wcm9qL3Byb2o0LnJlZ2lzdGVyfSBmdW5jdGlvbi5cbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIFByb2plY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIFByb2plY3Rpb24gb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5jb2RlXyA9IG9wdGlvbnMuY29kZTtcblxuICAgIC8qKlxuICAgICAqIFVuaXRzIG9mIHByb2plY3RlZCBjb29yZGluYXRlcy4gV2hlbiBzZXQgdG8gYFRJTEVfUElYRUxTYCwgYVxuICAgICAqIGB0aGlzLmV4dGVudF9gIGFuZCBgdGhpcy53b3JsZEV4dGVudF9gIG11c3QgYmUgY29uZmlndXJlZCBwcm9wZXJseSBmb3IgZWFjaFxuICAgICAqIHRpbGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9Vbml0cy5qc1wiKS5Vbml0c31cbiAgICAgKi9cbiAgICB0aGlzLnVuaXRzXyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9Vbml0cy5qc1wiKS5Vbml0c30gKi8gKG9wdGlvbnMudW5pdHMpO1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRpdHkgZXh0ZW50IG9mIHRoZSBwcm9qZWN0aW9uIGluIHByb2plY3RlZCBjb29yZGluYXRlcy4gRm9yIHByb2plY3Rpb25zXG4gICAgICogd2l0aCBgVElMRV9QSVhFTFNgIHVuaXRzLCB0aGlzIGlzIHRoZSBleHRlbnQgb2YgdGhlIHRpbGUgaW5cbiAgICAgKiB0aWxlIHBpeGVsIHNwYWNlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy5leHRlbnRfID0gb3B0aW9ucy5leHRlbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZXh0ZW50IDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEV4dGVudCBvZiB0aGUgd29ybGQgaW4gRVBTRzo0MzI2LiBGb3IgcHJvamVjdGlvbnMgd2l0aFxuICAgICAqIGBUSUxFX1BJWEVMU2AgdW5pdHMsIHRoaXMgaXMgdGhlIGV4dGVudCBvZiB0aGUgdGlsZSBpblxuICAgICAqIHByb2plY3RlZCBjb29yZGluYXRlIHNwYWNlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy53b3JsZEV4dGVudF8gPVxuICAgICAgb3B0aW9ucy53b3JsZEV4dGVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy53b3JsZEV4dGVudCA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5heGlzT3JpZW50YXRpb25fID1cbiAgICAgIG9wdGlvbnMuYXhpc09yaWVudGF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF4aXNPcmllbnRhdGlvbiA6ICdlbnUnO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmdsb2JhbF8gPSBvcHRpb25zLmdsb2JhbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5nbG9iYWwgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5jYW5XcmFwWF8gPSAhISh0aGlzLmdsb2JhbF8gJiYgdGhpcy5leHRlbnRfKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Z1bmN0aW9uKG51bWJlciwgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTpudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuZ2V0UG9pbnRSZXNvbHV0aW9uRnVuY18gPSBvcHRpb25zLmdldFBvaW50UmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5kZWZhdWx0VGlsZUdyaWRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5tZXRlcnNQZXJVbml0XyA9IG9wdGlvbnMubWV0ZXJzUGVyVW5pdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgcHJvamVjdGlvbiBpcyBzdWl0YWJsZSBmb3Igd3JhcHBpbmcgdGhlIHgtYXhpc1xuICAgKi9cbiAgY2FuV3JhcFgoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FuV3JhcFhfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29kZSBmb3IgdGhpcyBwcm9qZWN0aW9uLCBlLmcuICdFUFNHOjQzMjYnLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IENvZGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENvZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29kZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2YWxpZGl0eSBleHRlbnQgZm9yIHRoaXMgcHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRFeHRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXh0ZW50XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHVuaXRzIG9mIHRoaXMgcHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9Vbml0cy5qc1wiKS5Vbml0c30gVW5pdHMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFVuaXRzKCkge1xuICAgIHJldHVybiB0aGlzLnVuaXRzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGFtb3VudCBvZiBtZXRlcnMgcGVyIHVuaXQgb2YgdGhpcyBwcm9qZWN0aW9uLiAgSWYgdGhlIHByb2plY3Rpb24gaXNcbiAgICogbm90IGNvbmZpZ3VyZWQgd2l0aCBgbWV0ZXJzUGVyVW5pdGAgb3IgYSB1bml0cyBpZGVudGlmaWVyLCB0aGUgcmV0dXJuIGlzXG4gICAqIGB1bmRlZmluZWRgLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBNZXRlcnMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1ldGVyc1BlclVuaXQoKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0ZXJzUGVyVW5pdF8gfHwgTUVURVJTX1BFUl9VTklUW3RoaXMudW5pdHNfXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHdvcmxkIGV4dGVudCBmb3IgdGhpcyBwcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFdvcmxkRXh0ZW50KCkge1xuICAgIHJldHVybiB0aGlzLndvcmxkRXh0ZW50XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGF4aXMgb3JpZW50YXRpb24gb2YgdGhpcyBwcm9qZWN0aW9uLlxuICAgKiBFeGFtcGxlIHZhbHVlcyBhcmU6XG4gICAqIGVudSAtIHRoZSBkZWZhdWx0IGVhc3RpbmcsIG5vcnRoaW5nLCBlbGV2YXRpb24uXG4gICAqIG5ldSAtIG5vcnRoaW5nLCBlYXN0aW5nLCB1cCAtIHVzZWZ1bCBmb3IgXCJsYXQvbG9uZ1wiIGdlb2dyYXBoaWMgY29vcmRpbmF0ZXMsXG4gICAqICAgICBvciBzb3V0aCBvcmllbnRhdGVkIHRyYW5zdmVyc2UgbWVyY2F0b3IuXG4gICAqIHdudSAtIHdlc3RpbmcsIG5vcnRoaW5nLCB1cCAtIHNvbWUgcGxhbmV0YXJ5IGNvb3JkaW5hdGUgc3lzdGVtcyBoYXZlXG4gICAqICAgICBcIndlc3QgcG9zaXRpdmVcIiBjb29yZGluYXRlIHN5c3RlbXNcbiAgICogQHJldHVybiB7c3RyaW5nfSBBeGlzIG9yaWVudGF0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRBeGlzT3JpZW50YXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXhpc09yaWVudGF0aW9uXztcbiAgfVxuXG4gIC8qKlxuICAgKiBJcyB0aGlzIHByb2plY3Rpb24gYSBnbG9iYWwgcHJvamVjdGlvbiB3aGljaCBzcGFucyB0aGUgd2hvbGUgd29ybGQ/XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHByb2plY3Rpb24gaXMgZ2xvYmFsLlxuICAgKiBAYXBpXG4gICAqL1xuICBpc0dsb2JhbCgpIHtcbiAgICByZXR1cm4gdGhpcy5nbG9iYWxfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBpZiB0aGUgcHJvamVjdGlvbiBpcyBhIGdsb2JhbCBwcm9qZWN0aW9uIHdoaWNoIHNwYW5zIHRoZSB3aG9sZSB3b3JsZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGdsb2JhbCBXaGV0aGVyIHRoZSBwcm9qZWN0aW9uIGlzIGdsb2JhbC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0R2xvYmFsKGdsb2JhbCkge1xuICAgIHRoaXMuZ2xvYmFsXyA9IGdsb2JhbDtcbiAgICB0aGlzLmNhbldyYXBYXyA9ICEhKGdsb2JhbCAmJiB0aGlzLmV4dGVudF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFRoZSBkZWZhdWx0IHRpbGUgZ3JpZC5cbiAgICovXG4gIGdldERlZmF1bHRUaWxlR3JpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0VGlsZUdyaWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGhlIGRlZmF1bHQgdGlsZSBncmlkLlxuICAgKi9cbiAgc2V0RGVmYXVsdFRpbGVHcmlkKHRpbGVHcmlkKSB7XG4gICAgdGhpcy5kZWZhdWx0VGlsZUdyaWRfID0gdGlsZUdyaWQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB2YWxpZGl0eSBleHRlbnQgZm9yIHRoaXMgcHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRFeHRlbnQoZXh0ZW50KSB7XG4gICAgdGhpcy5leHRlbnRfID0gZXh0ZW50O1xuICAgIHRoaXMuY2FuV3JhcFhfID0gISEodGhpcy5nbG9iYWxfICYmIGV4dGVudCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB3b3JsZCBleHRlbnQgZm9yIHRoaXMgcHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSB3b3JsZEV4dGVudCBXb3JsZCBleHRlbnRcbiAgICogICAgIFttaW5sb24sIG1pbmxhdCwgbWF4bG9uLCBtYXhsYXRdLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRXb3JsZEV4dGVudCh3b3JsZEV4dGVudCkge1xuICAgIHRoaXMud29ybGRFeHRlbnRfID0gd29ybGRFeHRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBnZXRQb2ludFJlc29sdXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgbW9kdWxlOm9sL3Byb2ouZ2V0UG9pbnRSZXNvbHV0aW9ufVxuICAgKiBmb3IgdGhpcyBwcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG51bWJlciwgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTpudW1iZXJ9IGZ1bmMgRnVuY3Rpb25cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0R2V0UG9pbnRSZXNvbHV0aW9uKGZ1bmMpIHtcbiAgICB0aGlzLmdldFBvaW50UmVzb2x1dGlvbkZ1bmNfID0gZnVuYztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1c3RvbSBwb2ludCByZXNvbHV0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIHByb2plY3Rpb24gKGlmIHNldCkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9uKG51bWJlciwgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTpudW1iZXJ8dW5kZWZpbmVkfSBUaGUgY3VzdG9tIHBvaW50XG4gICAqIHJlc29sdXRpb24gZnVuY3Rpb24gKGlmIHNldCkuXG4gICAqL1xuICBnZXRQb2ludFJlc29sdXRpb25GdW5jKCkge1xuICAgIHJldHVybiB0aGlzLmdldFBvaW50UmVzb2x1dGlvbkZ1bmNfO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2plY3Rpb247XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcHJvai9Vbml0c1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeydyYWRpYW5zJyB8ICdkZWdyZWVzJyB8ICdmdCcgfCAnbScgfCAncGl4ZWxzJyB8ICd0aWxlLXBpeGVscycgfCAndXMtZnQnfSBVbml0c1xuICogUHJvamVjdGlvbiB1bml0cy5cbiAqL1xuXG4vKipcbiAqIFNlZSBodHRwOi8vZHVmZi5lc3Mud2FzaGluZ3Rvbi5lZHUvZGF0YS9yYXN0ZXIvZHJnL2RvY3MvZ2VvdGlmZi50eHRcbiAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBVbml0cz59XG4gKi9cbmNvbnN0IHVuaXRCeUNvZGUgPSB7XG4gICc5MDAxJzogJ20nLFxuICAnOTAwMic6ICdmdCcsXG4gICc5MDAzJzogJ3VzLWZ0JyxcbiAgJzkxMDEnOiAncmFkaWFucycsXG4gICc5MTAyJzogJ2RlZ3JlZXMnLFxufTtcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gY29kZSBVbml0IGNvZGUuXG4gKiBAcmV0dXJuIHtVbml0c30gVW5pdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQ29kZShjb2RlKSB7XG4gIHJldHVybiB1bml0QnlDb2RlW2NvZGVdO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1ldGVyc1BlclVuaXRMb29rdXBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByYWRpYW5zIFJhZGlhbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZWdyZWVzIERlZ3JlZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmdCAgRmVldFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG0gTWV0ZXJzXG4gKiBAcHJvcGVydHkge251bWJlcn0gdXMtZnQgVVMgZmVldFxuICovXG5cbi8qKlxuICogTWV0ZXJzIHBlciB1bml0IGxvb2t1cCB0YWJsZS5cbiAqIEBjb25zdFxuICogQHR5cGUge01ldGVyc1BlclVuaXRMb29rdXB9XG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCBNRVRFUlNfUEVSX1VOSVQgPSB7XG4gIC8vIHVzZSB0aGUgcmFkaXVzIG9mIHRoZSBOb3JtYWwgc3BoZXJlXG4gICdyYWRpYW5zJzogNjM3MDk5NyAvICgyICogTWF0aC5QSSksXG4gICdkZWdyZWVzJzogKDIgKiBNYXRoLlBJICogNjM3MDk5NykgLyAzNjAsXG4gICdmdCc6IDAuMzA0OCxcbiAgJ20nOiAxLFxuICAndXMtZnQnOiAxMjAwIC8gMzkzNyxcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL0V2ZW50XG4gKi9cblxuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5cbmNsYXNzIFJlbmRlckV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0V2ZW50VHlwZS5qc1wiKS5kZWZhdWx0fSB0eXBlIFR5cGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gW2ludmVyc2VQaXhlbFRyYW5zZm9ybV0gVHJhbnNmb3JtIGZvclxuICAgKiAgICAgQ1NTIHBpeGVscyB0byByZW5kZXJlZCBwaXhlbHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IFtmcmFtZVN0YXRlXSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHs/KENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRHxXZWJHTFJlbmRlcmluZ0NvbnRleHQpfSBbY29udGV4dF0gQ29udGV4dC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHR5cGUsIGludmVyc2VQaXhlbFRyYW5zZm9ybSwgZnJhbWVTdGF0ZSwgY29udGV4dCkge1xuICAgIHN1cGVyKHR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGZyb20gQ1NTIHBpeGVscyAocmVsYXRpdmUgdG8gdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgbWFwIHZpZXdwb3J0KVxuICAgICAqIHRvIHJlbmRlcmVkIHBpeGVscyBvbiB0aGlzIGV2ZW50J3MgYGNvbnRleHRgLiBPbmx5IGF2YWlsYWJsZSB3aGVuIGEgQ2FudmFzIHJlbmRlcmVyIGlzIHVzZWQsIG51bGwgb3RoZXJ3aXNlLlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfHVuZGVmaW5lZH1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0gPSBpbnZlcnNlUGl4ZWxUcmFuc2Zvcm07XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IHJlbmRlciBmcmFtZSBzdGF0ZS5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV8dW5kZWZpbmVkfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lU3RhdGUgPSBmcmFtZVN0YXRlO1xuXG4gICAgLyoqXG4gICAgICogQ2FudmFzIGNvbnRleHQuIE5vdCBhdmFpbGFibGUgd2hlbiB0aGUgZXZlbnQgaXMgZGlzcGF0Y2hlZCBieSB0aGUgbWFwLiBGb3IgQ2FudmFzIDJEIGxheWVycyxcbiAgICAgKiB0aGUgY29udGV4dCB3aWxsIGJlIHRoZSAyRCByZW5kZXJpbmcgY29udGV4dC4gIEZvciBXZWJHTCBsYXllcnMsIHRoZSBjb250ZXh0IHdpbGwgYmUgdGhlIFdlYkdMXG4gICAgICogY29udGV4dC5cbiAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfFdlYkdMUmVuZGVyaW5nQ29udGV4dHx1bmRlZmluZWR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVuZGVyRXZlbnQ7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL0V2ZW50VHlwZVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogVHJpZ2dlcmVkIGJlZm9yZSBhIGxheWVyIGlzIHJlbmRlcmVkLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwcmVyZW5kZXJcbiAgICogQGFwaVxuICAgKi9cbiAgUFJFUkVOREVSOiAncHJlcmVuZGVyJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIGFmdGVyIGEgbGF5ZXIgaXMgcmVuZGVyZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvcmVuZGVyL0V2ZW50flJlbmRlckV2ZW50I3Bvc3RyZW5kZXJcbiAgICogQGFwaVxuICAgKi9cbiAgUE9TVFJFTkRFUjogJ3Bvc3RyZW5kZXInLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgYmVmb3JlIGxheWVycyBhcmUgY29tcG9zZWQuICBXaGVuIGRpc3BhdGNoZWQgYnkgdGhlIG1hcCwgdGhlIGV2ZW50IG9iamVjdCB3aWxsIG5vdCBoYXZlXG4gICAqIGEgYGNvbnRleHRgIHNldC4gIFdoZW4gZGlzcGF0Y2hlZCBieSBhIGxheWVyLCB0aGUgZXZlbnQgb2JqZWN0IHdpbGwgaGF2ZSBhIGBjb250ZXh0YCBzZXQuICBPbmx5XG4gICAqIFdlYkdMIGxheWVycyBjdXJyZW50bHkgZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnQjcHJlY29tcG9zZVxuICAgKiBAYXBpXG4gICAqL1xuICBQUkVDT01QT1NFOiAncHJlY29tcG9zZScsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCBhZnRlciBsYXllcnMgYXJlIGNvbXBvc2VkLiAgV2hlbiBkaXNwYXRjaGVkIGJ5IHRoZSBtYXAsIHRoZSBldmVudCBvYmplY3Qgd2lsbCBub3QgaGF2ZVxuICAgKiBhIGBjb250ZXh0YCBzZXQuICBXaGVuIGRpc3BhdGNoZWQgYnkgYSBsYXllciwgdGhlIGV2ZW50IG9iamVjdCB3aWxsIGhhdmUgYSBgY29udGV4dGAgc2V0LiAgT25seVxuICAgKiBXZWJHTCBsYXllcnMgY3VycmVudGx5IGRpc3BhdGNoIHRoaXMgZXZlbnQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvcmVuZGVyL0V2ZW50flJlbmRlckV2ZW50I3Bvc3Rjb21wb3NlXG4gICAqIEBhcGlcbiAgICovXG4gIFBPU1RDT01QT1NFOiAncG9zdGNvbXBvc2UnLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiByZW5kZXJpbmcgaXMgY29tcGxldGUsIGkuZS4gYWxsIHNvdXJjZXMgYW5kIHRpbGVzIGhhdmVcbiAgICogZmluaXNoZWQgbG9hZGluZyBmb3IgdGhlIGN1cnJlbnQgdmlld3BvcnQsIGFuZCBhbGwgdGlsZXMgYXJlIGZhZGVkIGluLlxuICAgKiBUaGUgZXZlbnQgb2JqZWN0IHdpbGwgbm90IGhhdmUgYSBgY29udGV4dGAgc2V0LlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNyZW5kZXJjb21wbGV0ZVxuICAgKiBAYXBpXG4gICAqL1xuICBSRU5ERVJDT01QTEVURTogJ3JlbmRlcmNvbXBsZXRlJyxcbn07XG5cbi8qKlxuICogQHR5cGVkZWYgeydwb3N0cmVuZGVyJ3wncHJlY29tcG9zZSd8J3Bvc3Rjb21wb3NlJ3wncmVuZGVyY29tcGxldGUnfSBNYXBSZW5kZXJFdmVudFR5cGVzXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7J3Bvc3RyZW5kZXInfCdwcmVyZW5kZXInfSBMYXllclJlbmRlckV2ZW50VHlwZXNcbiAqL1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9pbnRlcnBvbGF0ZVxuICovXG5pbXBvcnQge2JpbmFyeVNlYXJjaH0gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtsZXJwfSBmcm9tICcuLi8uLi9tYXRoLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyYWN0aW9uIEZyYWN0aW9uLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbZGVzdF0gRGVzdGluYXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW2RpbWVuc2lvbl0gRGVzdGluYXRpb24gZGltZW5zaW9uIChkZWZhdWx0IGlzIGAyYClcbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IERlc3RpbmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJwb2xhdGVQb2ludChcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBmcmFjdGlvbixcbiAgZGVzdCxcbiAgZGltZW5zaW9uXG4pIHtcbiAgbGV0IG8sIHQ7XG4gIGNvbnN0IG4gPSAoZW5kIC0gb2Zmc2V0KSAvIHN0cmlkZTtcbiAgaWYgKG4gPT09IDEpIHtcbiAgICBvID0gb2Zmc2V0O1xuICB9IGVsc2UgaWYgKG4gPT09IDIpIHtcbiAgICBvID0gb2Zmc2V0O1xuICAgIHQgPSBmcmFjdGlvbjtcbiAgfSBlbHNlIGlmIChuICE9PSAwKSB7XG4gICAgbGV0IHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgbGV0IHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIGxldCBsZW5ndGggPSAwO1xuICAgIGNvbnN0IGN1bXVsYXRpdmVMZW5ndGhzID0gWzBdO1xuICAgIGZvciAobGV0IGkgPSBvZmZzZXQgKyBzdHJpZGU7IGkgPCBlbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgICBjb25zdCB4MiA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgIGNvbnN0IHkyID0gZmxhdENvb3JkaW5hdGVzW2kgKyAxXTtcbiAgICAgIGxlbmd0aCArPSBNYXRoLnNxcnQoKHgyIC0geDEpICogKHgyIC0geDEpICsgKHkyIC0geTEpICogKHkyIC0geTEpKTtcbiAgICAgIGN1bXVsYXRpdmVMZW5ndGhzLnB1c2gobGVuZ3RoKTtcbiAgICAgIHgxID0geDI7XG4gICAgICB5MSA9IHkyO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSBmcmFjdGlvbiAqIGxlbmd0aDtcbiAgICBjb25zdCBpbmRleCA9IGJpbmFyeVNlYXJjaChjdW11bGF0aXZlTGVuZ3RocywgdGFyZ2V0KTtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICB0ID1cbiAgICAgICAgKHRhcmdldCAtIGN1bXVsYXRpdmVMZW5ndGhzWy1pbmRleCAtIDJdKSAvXG4gICAgICAgIChjdW11bGF0aXZlTGVuZ3Roc1staW5kZXggLSAxXSAtIGN1bXVsYXRpdmVMZW5ndGhzWy1pbmRleCAtIDJdKTtcbiAgICAgIG8gPSBvZmZzZXQgKyAoLWluZGV4IC0gMikgKiBzdHJpZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG8gPSBvZmZzZXQgKyBpbmRleCAqIHN0cmlkZTtcbiAgICB9XG4gIH1cbiAgZGltZW5zaW9uID0gZGltZW5zaW9uID4gMSA/IGRpbWVuc2lvbiA6IDI7XG4gIGRlc3QgPSBkZXN0ID8gZGVzdCA6IG5ldyBBcnJheShkaW1lbnNpb24pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRpbWVuc2lvbjsgKytpKSB7XG4gICAgZGVzdFtpXSA9XG4gICAgICBvID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBOYU5cbiAgICAgICAgOiB0ID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBmbGF0Q29vcmRpbmF0ZXNbbyArIGldXG4gICAgICAgIDogbGVycChmbGF0Q29vcmRpbmF0ZXNbbyArIGldLCBmbGF0Q29vcmRpbmF0ZXNbbyArIHN0cmlkZSArIGldLCB0KTtcbiAgfVxuICByZXR1cm4gZGVzdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG0gTS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZXh0cmFwb2xhdGUgRXh0cmFwb2xhdGUuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8bnVsbH0gQ29vcmRpbmF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVTdHJpbmdDb29yZGluYXRlQXRNKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIG0sXG4gIGV4dHJhcG9sYXRlXG4pIHtcbiAgaWYgKGVuZCA9PSBvZmZzZXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgY29vcmRpbmF0ZTtcbiAgaWYgKG0gPCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgc3RyaWRlIC0gMV0pIHtcbiAgICBpZiAoZXh0cmFwb2xhdGUpIHtcbiAgICAgIGNvb3JkaW5hdGUgPSBmbGF0Q29vcmRpbmF0ZXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBzdHJpZGUpO1xuICAgICAgY29vcmRpbmF0ZVtzdHJpZGUgLSAxXSA9IG07XG4gICAgICByZXR1cm4gY29vcmRpbmF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAoZmxhdENvb3JkaW5hdGVzW2VuZCAtIDFdIDwgbSkge1xuICAgIGlmIChleHRyYXBvbGF0ZSkge1xuICAgICAgY29vcmRpbmF0ZSA9IGZsYXRDb29yZGluYXRlcy5zbGljZShlbmQgLSBzdHJpZGUsIGVuZCk7XG4gICAgICBjb29yZGluYXRlW3N0cmlkZSAtIDFdID0gbTtcbiAgICAgIHJldHVybiBjb29yZGluYXRlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAvLyBGSVhNRSB1c2UgTygxKSBzZWFyY2hcbiAgaWYgKG0gPT0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIHN0cmlkZSAtIDFdKSB7XG4gICAgcmV0dXJuIGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQsIG9mZnNldCArIHN0cmlkZSk7XG4gIH1cbiAgbGV0IGxvID0gb2Zmc2V0IC8gc3RyaWRlO1xuICBsZXQgaGkgPSBlbmQgLyBzdHJpZGU7XG4gIHdoaWxlIChsbyA8IGhpKSB7XG4gICAgY29uc3QgbWlkID0gKGxvICsgaGkpID4+IDE7XG4gICAgaWYgKG0gPCBmbGF0Q29vcmRpbmF0ZXNbKG1pZCArIDEpICogc3RyaWRlIC0gMV0pIHtcbiAgICAgIGhpID0gbWlkO1xuICAgIH0gZWxzZSB7XG4gICAgICBsbyA9IG1pZCArIDE7XG4gICAgfVxuICB9XG4gIGNvbnN0IG0wID0gZmxhdENvb3JkaW5hdGVzW2xvICogc3RyaWRlIC0gMV07XG4gIGlmIChtID09IG0wKSB7XG4gICAgcmV0dXJuIGZsYXRDb29yZGluYXRlcy5zbGljZSgobG8gLSAxKSAqIHN0cmlkZSwgKGxvIC0gMSkgKiBzdHJpZGUgKyBzdHJpZGUpO1xuICB9XG4gIGNvbnN0IG0xID0gZmxhdENvb3JkaW5hdGVzWyhsbyArIDEpICogc3RyaWRlIC0gMV07XG4gIGNvbnN0IHQgPSAobSAtIG0wKSAvIChtMSAtIG0wKTtcbiAgY29vcmRpbmF0ZSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmlkZSAtIDE7ICsraSkge1xuICAgIGNvb3JkaW5hdGUucHVzaChcbiAgICAgIGxlcnAoXG4gICAgICAgIGZsYXRDb29yZGluYXRlc1sobG8gLSAxKSAqIHN0cmlkZSArIGldLFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbbG8gKiBzdHJpZGUgKyBpXSxcbiAgICAgICAgdFxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgY29vcmRpbmF0ZS5wdXNoKG0pO1xuICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG0gTS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZXh0cmFwb2xhdGUgRXh0cmFwb2xhdGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGludGVycG9sYXRlIEludGVycG9sYXRlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfG51bGx9IENvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lU3RyaW5nc0Nvb3JkaW5hdGVBdE0oXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzLFxuICBzdHJpZGUsXG4gIG0sXG4gIGV4dHJhcG9sYXRlLFxuICBpbnRlcnBvbGF0ZVxuKSB7XG4gIGlmIChpbnRlcnBvbGF0ZSkge1xuICAgIHJldHVybiBsaW5lU3RyaW5nQ29vcmRpbmF0ZUF0TShcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZHNbZW5kcy5sZW5ndGggLSAxXSxcbiAgICAgIHN0cmlkZSxcbiAgICAgIG0sXG4gICAgICBleHRyYXBvbGF0ZVxuICAgICk7XG4gIH1cbiAgbGV0IGNvb3JkaW5hdGU7XG4gIGlmIChtIDwgZmxhdENvb3JkaW5hdGVzW3N0cmlkZSAtIDFdKSB7XG4gICAgaWYgKGV4dHJhcG9sYXRlKSB7XG4gICAgICBjb29yZGluYXRlID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKDAsIHN0cmlkZSk7XG4gICAgICBjb29yZGluYXRlW3N0cmlkZSAtIDFdID0gbTtcbiAgICAgIHJldHVybiBjb29yZGluYXRlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoZmxhdENvb3JkaW5hdGVzW2ZsYXRDb29yZGluYXRlcy5sZW5ndGggLSAxXSA8IG0pIHtcbiAgICBpZiAoZXh0cmFwb2xhdGUpIHtcbiAgICAgIGNvb3JkaW5hdGUgPSBmbGF0Q29vcmRpbmF0ZXMuc2xpY2UoZmxhdENvb3JkaW5hdGVzLmxlbmd0aCAtIHN0cmlkZSk7XG4gICAgICBjb29yZGluYXRlW3N0cmlkZSAtIDFdID0gbTtcbiAgICAgIHJldHVybiBjb29yZGluYXRlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgIGlmIChvZmZzZXQgPT0gZW5kKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG0gPCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgc3RyaWRlIC0gMV0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAobSA8PSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gMV0pIHtcbiAgICAgIHJldHVybiBsaW5lU3RyaW5nQ29vcmRpbmF0ZUF0TShcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGVuZCxcbiAgICAgICAgc3RyaWRlLFxuICAgICAgICBtLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICB9XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9GZWF0dXJlXG4gKi9cbmltcG9ydCBGZWF0dXJlIGZyb20gJy4uL0ZlYXR1cmUuanMnO1xuaW1wb3J0IHtcbiAgTGluZVN0cmluZyxcbiAgTXVsdGlMaW5lU3RyaW5nLFxuICBNdWx0aVBvaW50LFxuICBNdWx0aVBvbHlnb24sXG4gIFBvaW50LFxuICBQb2x5Z29uLFxufSBmcm9tICcuLi9nZW9tLmpzJztcbmltcG9ydCB7XG4gIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSxcbiAgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSxcbn0gZnJvbSAnLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7XG4gIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUsXG4gIGNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcyxcbiAgZ2V0Q2VudGVyLFxuICBnZXRIZWlnaHQsXG59IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2V4dGVuZH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtcbiAgZ2V0SW50ZXJpb3JQb2ludE9mQXJyYXksXG4gIGdldEludGVyaW9yUG9pbnRzT2ZNdWx0aUFycmF5LFxufSBmcm9tICcuLi9nZW9tL2ZsYXQvaW50ZXJpb3Jwb2ludC5qcyc7XG5pbXBvcnQge2dldCBhcyBnZXRQcm9qZWN0aW9ufSBmcm9tICcuLi9wcm9qLmpzJztcbmltcG9ydCB7aW5mbGF0ZUVuZHN9IGZyb20gJy4uL2dlb20vZmxhdC9vcmllbnQuanMnO1xuaW1wb3J0IHtpbnRlcnBvbGF0ZVBvaW50fSBmcm9tICcuLi9nZW9tL2ZsYXQvaW50ZXJwb2xhdGUuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5nc3MgYXMgbGluZWFyUmluZ3NzQ2VudGVyfSBmcm9tICcuLi9nZW9tL2ZsYXQvY2VudGVyLmpzJztcbmltcG9ydCB7dHJhbnNmb3JtMkR9IGZyb20gJy4uL2dlb20vZmxhdC90cmFuc2Zvcm0uanMnO1xuXG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICovXG5jb25zdCB0bXBUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcblxuLyoqXG4gKiBMaWdodHdlaWdodCwgcmVhZC1vbmx5LCB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZX0gYW5kIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9HZW9tZXRyeX5HZW9tZXRyeX0gbGlrZVxuICogc3RydWN0dXJlLCBvcHRpbWl6ZWQgZm9yIHZlY3RvciB0aWxlIHJlbmRlcmluZyBhbmQgc3R5bGluZy4gR2VvbWV0cnkgYWNjZXNzXG4gKiB0aHJvdWdoIHRoZSBBUEkgaXMgbGltaXRlZCB0byBnZXR0aW5nIHRoZSB0eXBlIGFuZCBleHRlbnQgb2YgdGhlIGdlb21ldHJ5LlxuICovXG5jbGFzcyBSZW5kZXJGZWF0dXJlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5UeXBlfSB0eXBlIEdlb21ldHJ5IHR5cGUuXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuIFRoZXNlIGFsd2F5cyBuZWVkXG4gICAqICAgICB0byBiZSByaWdodC1oYW5kZWQgZm9yIHBvbHlnb25zLlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj58QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHMgRW5kcyBvciBFbmRzcy5cbiAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCAqPn0gcHJvcGVydGllcyBQcm9wZXJ0aWVzLlxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfSBpZCBGZWF0dXJlIGlkLlxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSwgZmxhdENvb3JkaW5hdGVzLCBlbmRzLCBwcm9wZXJ0aWVzLCBpZCkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnN0eWxlRnVuY3Rpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudF87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8c3RyaW5nfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmlkXyA9IGlkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5UeXBlfVxuICAgICAqL1xuICAgIHRoaXMudHlwZV8gPSB0eXBlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLmZsYXRDb29yZGluYXRlc18gPSBmbGF0Q29vcmRpbmF0ZXM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuZmxhdEludGVyaW9yUG9pbnRzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuZmxhdE1pZHBvaW50c18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPnxBcnJheTxBcnJheTxudW1iZXI+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmVuZHNfID0gZW5kcztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fVxuICAgICAqL1xuICAgIHRoaXMucHJvcGVydGllc18gPSBwcm9wZXJ0aWVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIGZlYXR1cmUgcHJvcGVydHkgYnkgaXRzIGtleS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXlcbiAgICogQHJldHVybiB7Kn0gVmFsdWUgZm9yIHRoZSByZXF1ZXN0ZWQga2V5LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXQoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcGVydGllc19ba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGV4dGVudCBvZiB0aGlzIGZlYXR1cmUncyBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRFeHRlbnQoKSB7XG4gICAgaWYgKCF0aGlzLmV4dGVudF8pIHtcbiAgICAgIHRoaXMuZXh0ZW50XyA9XG4gICAgICAgIHRoaXMudHlwZV8gPT09ICdQb2ludCdcbiAgICAgICAgICA/IGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUodGhpcy5mbGF0Q29vcmRpbmF0ZXNfKVxuICAgICAgICAgIDogY3JlYXRlT3JVcGRhdGVGcm9tRmxhdENvb3JkaW5hdGVzKFxuICAgICAgICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlc18sXG4gICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzXy5sZW5ndGgsXG4gICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmV4dGVudF87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRmxhdCBpbnRlcmlvciBwb2ludHMuXG4gICAqL1xuICBnZXRGbGF0SW50ZXJpb3JQb2ludCgpIHtcbiAgICBpZiAoIXRoaXMuZmxhdEludGVyaW9yUG9pbnRzXykge1xuICAgICAgY29uc3QgZmxhdENlbnRlciA9IGdldENlbnRlcih0aGlzLmdldEV4dGVudCgpKTtcbiAgICAgIHRoaXMuZmxhdEludGVyaW9yUG9pbnRzXyA9IGdldEludGVyaW9yUG9pbnRPZkFycmF5KFxuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlc18sXG4gICAgICAgIDAsXG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKHRoaXMuZW5kc18pLFxuICAgICAgICAyLFxuICAgICAgICBmbGF0Q2VudGVyLFxuICAgICAgICAwXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mbGF0SW50ZXJpb3JQb2ludHNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEZsYXQgaW50ZXJpb3IgcG9pbnRzLlxuICAgKi9cbiAgZ2V0RmxhdEludGVyaW9yUG9pbnRzKCkge1xuICAgIGlmICghdGhpcy5mbGF0SW50ZXJpb3JQb2ludHNfKSB7XG4gICAgICBjb25zdCBmbGF0Q2VudGVycyA9IGxpbmVhclJpbmdzc0NlbnRlcihcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXNfLFxuICAgICAgICAwLFxuICAgICAgICAvKiogQHR5cGUge0FycmF5PEFycmF5PG51bWJlcj4+fSAqLyAodGhpcy5lbmRzXyksXG4gICAgICAgIDJcbiAgICAgICk7XG4gICAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50c18gPSBnZXRJbnRlcmlvclBvaW50c09mTXVsdGlBcnJheShcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXNfLFxuICAgICAgICAwLFxuICAgICAgICAvKiogQHR5cGUge0FycmF5PEFycmF5PG51bWJlcj4+fSAqLyAodGhpcy5lbmRzXyksXG4gICAgICAgIDIsXG4gICAgICAgIGZsYXRDZW50ZXJzXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mbGF0SW50ZXJpb3JQb2ludHNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEZsYXQgbWlkcG9pbnQuXG4gICAqL1xuICBnZXRGbGF0TWlkcG9pbnQoKSB7XG4gICAgaWYgKCF0aGlzLmZsYXRNaWRwb2ludHNfKSB7XG4gICAgICB0aGlzLmZsYXRNaWRwb2ludHNfID0gaW50ZXJwb2xhdGVQb2ludChcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXNfLFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlc18ubGVuZ3RoLFxuICAgICAgICAyLFxuICAgICAgICAwLjVcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZsYXRNaWRwb2ludHNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEZsYXQgbWlkcG9pbnRzLlxuICAgKi9cbiAgZ2V0RmxhdE1pZHBvaW50cygpIHtcbiAgICBpZiAoIXRoaXMuZmxhdE1pZHBvaW50c18pIHtcbiAgICAgIHRoaXMuZmxhdE1pZHBvaW50c18gPSBbXTtcbiAgICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzXztcbiAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgY29uc3QgZW5kcyA9IC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKHRoaXMuZW5kc18pO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGVuZCA9IGVuZHNbaV07XG4gICAgICAgIGNvbnN0IG1pZHBvaW50ID0gaW50ZXJwb2xhdGVQb2ludChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCAyLCAwLjUpO1xuICAgICAgICBleHRlbmQodGhpcy5mbGF0TWlkcG9pbnRzXywgbWlkcG9pbnQpO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZsYXRNaWRwb2ludHNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmVhdHVyZSBpZGVudGlmaWVyLiAgVGhpcyBpcyBhIHN0YWJsZSBpZGVudGlmaWVyIGZvciB0aGUgZmVhdHVyZSBhbmRcbiAgICogaXMgc2V0IHdoZW4gcmVhZGluZyBkYXRhIGZyb20gYSByZW1vdGUgc291cmNlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8c3RyaW5nfHVuZGVmaW5lZH0gSWQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldElkKCkge1xuICAgIHJldHVybiB0aGlzLmlkXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKi9cbiAgZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmxhdENvb3JkaW5hdGVzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3IgQVBJIGNvbXBhdGliaWxpdHkgd2l0aCB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZX0sIHRoaXMgbWV0aG9kIGlzIHVzZWZ1bCB3aGVuXG4gICAqIGRldGVybWluaW5nIHRoZSBnZW9tZXRyeSB0eXBlIGluIHN0eWxlIGZ1bmN0aW9uIChzZWUge0BsaW5rICNnZXRUeXBlfSkuXG4gICAqIEByZXR1cm4ge1JlbmRlckZlYXR1cmV9IEZlYXR1cmUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEdlb21ldHJ5KCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgKiBAcmV0dXJuIHtSZW5kZXJGZWF0dXJlfSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgKi9cbiAgZ2V0U2ltcGxpZmllZEdlb21ldHJ5KHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSB0cmFuc2Zvcm1lZCBhbmQgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IFt0cmFuc2Zvcm1dIE9wdGlvbmFsIHRyYW5zZm9ybSBmdW5jdGlvbi5cbiAgICogQHJldHVybiB7UmVuZGVyRmVhdHVyZX0gU2ltcGxpZmllZCBnZW9tZXRyeS5cbiAgICovXG4gIHNpbXBsaWZ5VHJhbnNmb3JtZWQoc3F1YXJlZFRvbGVyYW5jZSwgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBmZWF0dXJlIHByb3BlcnRpZXMuXG4gICAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsICo+fSBGZWF0dXJlIHByb3BlcnRpZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFByb3BlcnRpZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcGVydGllc187XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBTdHJpZGUuXG4gICAqL1xuICBnZXRTdHJpZGUoKSB7XG4gICAgcmV0dXJuIDI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KCcuLi9zdHlsZS9TdHlsZS5qcycpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfSBTdHlsZVxuICAgKi9cbiAgZ2V0U3R5bGVGdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZUZ1bmN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdHlwZSBvZiB0aGlzIGZlYXR1cmUncyBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5UeXBlfSBHZW9tZXRyeSB0eXBlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUeXBlKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybSBnZW9tZXRyeSBjb29yZGluYXRlcyBmcm9tIHRpbGUgcGl4ZWwgc3BhY2UgdG8gcHJvamVjdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gVGhlIGRhdGEgcHJvamVjdGlvblxuICAgKi9cbiAgdHJhbnNmb3JtKHByb2plY3Rpb24pIHtcbiAgICBwcm9qZWN0aW9uID0gZ2V0UHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBjb25zdCBwaXhlbEV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgY29uc3QgcHJvamVjdGVkRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRXb3JsZEV4dGVudCgpO1xuICAgIGlmIChwaXhlbEV4dGVudCAmJiBwcm9qZWN0ZWRFeHRlbnQpIHtcbiAgICAgIGNvbnN0IHNjYWxlID0gZ2V0SGVpZ2h0KHByb2plY3RlZEV4dGVudCkgLyBnZXRIZWlnaHQocGl4ZWxFeHRlbnQpO1xuICAgICAgY29tcG9zZVRyYW5zZm9ybShcbiAgICAgICAgdG1wVHJhbnNmb3JtLFxuICAgICAgICBwcm9qZWN0ZWRFeHRlbnRbMF0sXG4gICAgICAgIHByb2plY3RlZEV4dGVudFszXSxcbiAgICAgICAgc2NhbGUsXG4gICAgICAgIC1zY2FsZSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMFxuICAgICAgKTtcbiAgICAgIHRyYW5zZm9ybTJEKFxuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlc18sXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzXy5sZW5ndGgsXG4gICAgICAgIDIsXG4gICAgICAgIHRtcFRyYW5zZm9ybSxcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXNfXG4gICAgICApO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnxBcnJheTxBcnJheTxudW1iZXI+Pn0gRW5kcyBvciBlbmRzcy5cbiAgICovXG4gIGdldEVuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5kc187XG4gIH1cbn1cblxuUmVuZGVyRmVhdHVyZS5wcm90b3R5cGUuZ2V0RW5kc3MgPSBSZW5kZXJGZWF0dXJlLnByb3RvdHlwZS5nZXRFbmRzO1xuXG4vKipcbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEZsYXQgY29vcmRpbmF0ZXMuXG4gKi9cblJlbmRlckZlYXR1cmUucHJvdG90eXBlLmdldEZsYXRDb29yZGluYXRlcyA9XG4gIFJlbmRlckZlYXR1cmUucHJvdG90eXBlLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzO1xuXG4vKipcbiAqIENyZWF0ZSBhIGdlb21ldHJ5IGZyb20gYW4gYG9sL3JlbmRlci9GZWF0dXJlYFxuICogQHBhcmFtIHtSZW5kZXJGZWF0dXJlfSByZW5kZXJGZWF0dXJlXG4gKiBSZW5kZXIgRmVhdHVyZVxuICogQHJldHVybiB7UG9pbnR8TXVsdGlQb2ludHxMaW5lU3RyaW5nfE11bHRpTGluZVN0cmluZ3xQb2x5Z29ufE11bHRpUG9seWdvbn1cbiAqIE5ldyBnZW9tZXRyeSBpbnN0YW5jZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvR2VvbWV0cnkocmVuZGVyRmVhdHVyZSkge1xuICBjb25zdCBnZW9tZXRyeVR5cGUgPSByZW5kZXJGZWF0dXJlLmdldFR5cGUoKTtcbiAgc3dpdGNoIChnZW9tZXRyeVR5cGUpIHtcbiAgICBjYXNlICdQb2ludCc6XG4gICAgICByZXR1cm4gbmV3IFBvaW50KHJlbmRlckZlYXR1cmUuZ2V0RmxhdENvb3JkaW5hdGVzKCkpO1xuICAgIGNhc2UgJ011bHRpUG9pbnQnOlxuICAgICAgcmV0dXJuIG5ldyBNdWx0aVBvaW50KHJlbmRlckZlYXR1cmUuZ2V0RmxhdENvb3JkaW5hdGVzKCksICdYWScpO1xuICAgIGNhc2UgJ0xpbmVTdHJpbmcnOlxuICAgICAgcmV0dXJuIG5ldyBMaW5lU3RyaW5nKHJlbmRlckZlYXR1cmUuZ2V0RmxhdENvb3JkaW5hdGVzKCksICdYWScpO1xuICAgIGNhc2UgJ011bHRpTGluZVN0cmluZyc6XG4gICAgICByZXR1cm4gbmV3IE11bHRpTGluZVN0cmluZyhcbiAgICAgICAgcmVuZGVyRmVhdHVyZS5nZXRGbGF0Q29vcmRpbmF0ZXMoKSxcbiAgICAgICAgJ1hZJyxcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAocmVuZGVyRmVhdHVyZS5nZXRFbmRzKCkpXG4gICAgICApO1xuICAgIGNhc2UgJ1BvbHlnb24nOlxuICAgICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gcmVuZGVyRmVhdHVyZS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIGNvbnN0IGVuZHMgPSAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChyZW5kZXJGZWF0dXJlLmdldEVuZHMoKSk7XG4gICAgICBjb25zdCBlbmRzcyA9IGluZmxhdGVFbmRzKGZsYXRDb29yZGluYXRlcywgZW5kcyk7XG4gICAgICByZXR1cm4gZW5kc3MubGVuZ3RoID4gMVxuICAgICAgICA/IG5ldyBNdWx0aVBvbHlnb24oZmxhdENvb3JkaW5hdGVzLCAnWFknLCBlbmRzcylcbiAgICAgICAgOiBuZXcgUG9seWdvbihmbGF0Q29vcmRpbmF0ZXMsICdYWScsIGVuZHMpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZ2VvbWV0cnkgdHlwZTonICsgZ2VvbWV0cnlUeXBlKTtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBhbiBgb2wvRmVhdHVyZWAgZnJvbSBhbiBgb2wvcmVuZGVyL0ZlYXR1cmVgXG4gKiBAcGFyYW0ge1JlbmRlckZlYXR1cmV9IHJlbmRlckZlYXR1cmUgUmVuZGVyRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd9IFtnZW9tZXRyeU5hbWU9J2dlb21ldHJ5J10gR2VvbWV0cnkgbmFtZSB0byB1c2VcbiAqIHdoZW4gY3JlYXRpbmcgdGhlIEZlYXR1cmUuXG4gKiBAcmV0dXJuIHtGZWF0dXJlfSBOZXdseSBjb25zdHJ1Y3RlZCBgb2wvRmVhdHVyZWAgd2l0aCBwcm9wZXJ0aWVzLFxuICogZ2VvbWV0cnksIGFuZCBpZCBjb3BpZWQgb3Zlci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRmVhdHVyZShyZW5kZXJGZWF0dXJlLCBnZW9tZXRyeU5hbWUpIHtcbiAgY29uc3QgaWQgPSByZW5kZXJGZWF0dXJlLmdldElkKCk7XG4gIGNvbnN0IGdlb21ldHJ5ID0gdG9HZW9tZXRyeShyZW5kZXJGZWF0dXJlKTtcbiAgY29uc3QgcHJvcGVydGllcyA9IHJlbmRlckZlYXR1cmUuZ2V0UHJvcGVydGllcygpO1xuICBjb25zdCBmZWF0dXJlID0gbmV3IEZlYXR1cmUoKTtcbiAgaWYgKGdlb21ldHJ5TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZmVhdHVyZS5zZXRHZW9tZXRyeU5hbWUoZ2VvbWV0cnlOYW1lKTtcbiAgfVxuICBmZWF0dXJlLnNldEdlb21ldHJ5KGdlb21ldHJ5KTtcbiAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICBmZWF0dXJlLnNldElkKGlkKTtcbiAgfVxuICBmZWF0dXJlLnNldFByb3BlcnRpZXMocHJvcGVydGllcywgdHJ1ZSk7XG4gIHJldHVybiBmZWF0dXJlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBSZW5kZXJGZWF0dXJlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9jZW50ZXJcbiAqL1xuaW1wb3J0IHtjcmVhdGVFbXB0eSwgY3JlYXRlT3JVcGRhdGVGcm9tRmxhdENvb3JkaW5hdGVzfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBGbGF0IGNlbnRlcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc3MoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUpIHtcbiAgY29uc3QgZmxhdENlbnRlcnMgPSBbXTtcbiAgbGV0IGV4dGVudCA9IGNyZWF0ZUVtcHR5KCk7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmRzID0gZW5kc3NbaV07XG4gICAgZXh0ZW50ID0gY3JlYXRlT3JVcGRhdGVGcm9tRmxhdENvb3JkaW5hdGVzKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kc1swXSxcbiAgICAgIHN0cmlkZVxuICAgICk7XG4gICAgZmxhdENlbnRlcnMucHVzaCgoZXh0ZW50WzBdICsgZXh0ZW50WzJdKSAvIDIsIChleHRlbnRbMV0gKyBleHRlbnRbM10pIC8gMik7XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBmbGF0Q2VudGVycztcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzXG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4uL09iamVjdC5qcyc7XG5pbXBvcnQge1dPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTfSBmcm9tICcuLi9oYXMuanMnO1xuaW1wb3J0IHtjbGVhcn0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJEfSBmcm9tICcuLi9kb20uanMnO1xuaW1wb3J0IHtnZXRGb250UGFyYW1ldGVyc30gZnJvbSAnLi4vY3NzLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7J0NpcmNsZScgfCAnSW1hZ2UnIHwgJ0xpbmVTdHJpbmcnIHwgJ1BvbHlnb24nIHwgJ1RleHQnIHwgJ0RlZmF1bHQnfSBCdWlsZGVyVHlwZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRmlsbFN0YXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IGZpbGxTdHlsZSBGaWxsU3R5bGUuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiBMYWJlbFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIFdpZHRoLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodCBIZWlnaHQuXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZ3xudW1iZXI+fSBjb250ZXh0SW5zdHJ1Y3Rpb25zIENvbnRleHRJbnN0cnVjdGlvbnMuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGaWxsU3Ryb2tlU3RhdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2N1cnJlbnRGaWxsU3R5bGVdIEN1cnJlbnQgRmlsbFN0eWxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbY3VycmVudFN0cm9rZVN0eWxlXSBDdXJyZW50IFN0cm9rZVN0eWxlLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBbY3VycmVudExpbmVDYXBdIEN1cnJlbnQgTGluZUNhcC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gY3VycmVudExpbmVEYXNoIEN1cnJlbnQgTGluZURhc2guXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRMaW5lRGFzaE9mZnNldF0gQ3VycmVudCBMaW5lRGFzaE9mZnNldC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFtjdXJyZW50TGluZUpvaW5dIEN1cnJlbnQgTGluZUpvaW4uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRMaW5lV2lkdGhdIEN1cnJlbnQgTGluZVdpZHRoLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjdXJyZW50TWl0ZXJMaW1pdF0gQ3VycmVudCBNaXRlckxpbWl0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtsYXN0U3Ryb2tlXSBMYXN0IHN0cm9rZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2ZpbGxTdHlsZV0gRmlsbFN0eWxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbc3Ryb2tlU3R5bGVdIFN0cm9rZVN0eWxlLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBbbGluZUNhcF0gTGluZUNhcC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gbGluZURhc2ggTGluZURhc2guXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xpbmVEYXNoT2Zmc2V0XSBMaW5lRGFzaE9mZnNldC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFtsaW5lSm9pbl0gTGluZUpvaW4uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xpbmVXaWR0aF0gTGluZVdpZHRoLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaXRlckxpbWl0XSBNaXRlckxpbWl0LlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3Ryb2tlU3RhdGVcbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUNhcH0gbGluZUNhcCBMaW5lQ2FwLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBsaW5lRGFzaCBMaW5lRGFzaC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lRGFzaE9mZnNldCBMaW5lRGFzaE9mZnNldC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IGxpbmVKb2luIExpbmVKb2luLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbmVXaWR0aCBMaW5lV2lkdGguXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWl0ZXJMaW1pdCBNaXRlckxpbWl0LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBzdHJva2VTdHlsZSBTdHJva2VTdHlsZS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRleHRTdGF0ZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGZvbnQgRm9udC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzVGV4dEFsaWdufSBbdGV4dEFsaWduXSBUZXh0QWxpZ24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL1RleHQuanNcIikuVGV4dEp1c3RpZnl9IFtqdXN0aWZ5XSBKdXN0aWZ5LlxuICogQHByb3BlcnR5IHtDYW52YXNUZXh0QmFzZWxpbmV9IHRleHRCYXNlbGluZSBUZXh0QmFzZWxpbmUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL1RleHQuanNcIikuVGV4dFBsYWNlbWVudH0gW3BsYWNlbWVudF0gUGxhY2VtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhBbmdsZV0gTWF4QW5nbGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvdmVyZmxvd10gT3ZlcmZsb3cuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL0ZpbGwuanNcIikuZGVmYXVsdH0gW2JhY2tncm91bmRGaWxsXSBCYWNrZ3JvdW5kRmlsbC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtiYWNrZ3JvdW5kU3Ryb2tlXSBCYWNrZ3JvdW5kU3Ryb2tlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzY2FsZV0gU2NhbGUuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtwYWRkaW5nXSBQYWRkaW5nLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zXG4gKiBAcHJvcGVydHkge0FycmF5PCo+fSBpbnN0cnVjdGlvbnMgVGhlIHJlbmRlcmluZyBpbnN0cnVjdGlvbnMuXG4gKiBAcHJvcGVydHkge0FycmF5PCo+fSBoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMgVGhlIHJlbmRlcmluZyBoaXQgZGV0ZWN0aW9uIGluc3RydWN0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXMgVGhlIGFycmF5IG9mIGFsbCBjb29yZGluYXRlcy5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIFRleHRTdGF0ZT59IFt0ZXh0U3RhdGVzXSBUaGUgdGV4dCBzdGF0ZXMgKGRlY2x1dHRlcmluZykuXG4gKiBAcHJvcGVydHkgeyFPYmplY3Q8c3RyaW5nLCBGaWxsU3RhdGU+fSBbZmlsbFN0YXRlc10gVGhlIGZpbGwgc3RhdGVzIChkZWNsdXR0ZXJpbmcpLlxuICogQHByb3BlcnR5IHshT2JqZWN0PHN0cmluZywgU3Ryb2tlU3RhdGU+fSBbc3Ryb2tlU3RhdGVzXSBUaGUgc3Ryb2tlIHN0YXRlcyAoZGVjbHV0dGVyaW5nKS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3Q8bnVtYmVyLCBpbXBvcnQoXCIuL2NhbnZhcy9FeGVjdXRvci5qc1wiKS5SZXBsYXlJbWFnZU9yTGFiZWxBcmdzPn0gRGVjbHV0dGVySW1hZ2VXaXRoVGV4dFxuICovXG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdEZvbnQgPSAnMTBweCBzYW5zLXNlcmlmJztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdEZpbGxTdHlsZSA9ICcjMDAwJztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtDYW52YXNMaW5lQ2FwfVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdExpbmVDYXAgPSAncm91bmQnO1xuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0TGluZURhc2ggPSBbXTtcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0TGluZURhc2hPZmZzZXQgPSAwO1xuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0NhbnZhc0xpbmVKb2lufVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdExpbmVKb2luID0gJ3JvdW5kJztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0TWl0ZXJMaW1pdCA9IDEwO1xuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9XG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0U3Ryb2tlU3R5bGUgPSAnIzAwMCc7XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7Q2FudmFzVGV4dEFsaWdufVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFRleHRBbGlnbiA9ICdjZW50ZXInO1xuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0NhbnZhc1RleHRCYXNlbGluZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRUZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFBhZGRpbmcgPSBbMCwgMCwgMCwgMF07XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdExpbmVXaWR0aCA9IDE7XG5cbi8qKlxuICogQHR5cGUge0Jhc2VPYmplY3R9XG4gKi9cbmV4cG9ydCBjb25zdCBjaGVja2VkRm9udHMgPSBuZXcgQmFzZU9iamVjdCgpO1xuXG4vKipcbiAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gKi9cbmxldCBtZWFzdXJlQ29udGV4dCA9IG51bGw7XG5cbi8qKlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xubGV0IG1lYXN1cmVGb250O1xuXG4vKipcbiAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgbnVtYmVyPn1cbiAqL1xuZXhwb3J0IGNvbnN0IHRleHRIZWlnaHRzID0ge307XG5cbi8qKlxuICogQ2xlYXJzIHRoZSBsYWJlbCBjYWNoZSB3aGVuIGEgZm9udCBiZWNvbWVzIGF2YWlsYWJsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3BlYyBDU1MgZm9udCBzcGVjLlxuICovXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJGb250ID0gKGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgcmV0cmllcyA9IDEwMDtcbiAgY29uc3Qgc2l6ZSA9ICczMnB4ICc7XG4gIGNvbnN0IHJlZmVyZW5jZUZvbnRzID0gWydtb25vc3BhY2UnLCAnc2VyaWYnXTtcbiAgY29uc3QgbGVuID0gcmVmZXJlbmNlRm9udHMubGVuZ3RoO1xuICBjb25zdCB0ZXh0ID0gJ3dteXR6aWxXTVlUWklMQCMvJj8kJTEwXFx1RjAxMyc7XG4gIGxldCBpbnRlcnZhbCwgcmVmZXJlbmNlV2lkdGg7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3R5bGUgQ3NzIGZvbnQtc3R5bGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZvbnRXZWlnaHQgQ3NzIGZvbnQtd2VpZ2h0XG4gICAqIEBwYXJhbSB7Kn0gZm9udEZhbWlseSBDc3MgZm9udC1mYW1pbHlcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gRm9udCB3aXRoIHN0eWxlIGFuZCB3ZWlnaHQgaXMgYXZhaWxhYmxlXG4gICAqL1xuICBmdW5jdGlvbiBpc0F2YWlsYWJsZShmb250U3R5bGUsIGZvbnRXZWlnaHQsIGZvbnRGYW1pbHkpIHtcbiAgICBsZXQgYXZhaWxhYmxlID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBjb25zdCByZWZlcmVuY2VGb250ID0gcmVmZXJlbmNlRm9udHNbaV07XG4gICAgICByZWZlcmVuY2VXaWR0aCA9IG1lYXN1cmVUZXh0V2lkdGgoXG4gICAgICAgIGZvbnRTdHlsZSArICcgJyArIGZvbnRXZWlnaHQgKyAnICcgKyBzaXplICsgcmVmZXJlbmNlRm9udCxcbiAgICAgICAgdGV4dFxuICAgICAgKTtcbiAgICAgIGlmIChmb250RmFtaWx5ICE9IHJlZmVyZW5jZUZvbnQpIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBtZWFzdXJlVGV4dFdpZHRoKFxuICAgICAgICAgIGZvbnRTdHlsZSArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgZm9udFdlaWdodCArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgc2l6ZSArXG4gICAgICAgICAgICBmb250RmFtaWx5ICtcbiAgICAgICAgICAgICcsJyArXG4gICAgICAgICAgICByZWZlcmVuY2VGb250LFxuICAgICAgICAgIHRleHRcbiAgICAgICAgKTtcbiAgICAgICAgLy8gSWYgd2lkdGggYW5kIHJlZmVyZW5jZVdpZHRoIGFyZSB0aGUgc2FtZSwgdGhlbiB0aGUgZmFsbGJhY2sgd2FzIHVzZWRcbiAgICAgICAgLy8gaW5zdGVhZCBvZiB0aGUgZm9udCB3ZSB3YW50ZWQsIHNvIHRoZSBmb250IGlzIG5vdCBhdmFpbGFibGUuXG4gICAgICAgIGF2YWlsYWJsZSA9IGF2YWlsYWJsZSAmJiB3aWR0aCAhPSByZWZlcmVuY2VXaWR0aDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGF2YWlsYWJsZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrKCkge1xuICAgIGxldCBkb25lID0gdHJ1ZTtcbiAgICBjb25zdCBmb250cyA9IGNoZWNrZWRGb250cy5nZXRLZXlzKCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZm9udHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgZm9udCA9IGZvbnRzW2ldO1xuICAgICAgaWYgKGNoZWNrZWRGb250cy5nZXQoZm9udCkgPCByZXRyaWVzKSB7XG4gICAgICAgIGlmIChpc0F2YWlsYWJsZS5hcHBseSh0aGlzLCBmb250LnNwbGl0KCdcXG4nKSkpIHtcbiAgICAgICAgICBjbGVhcih0ZXh0SGVpZ2h0cyk7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgbG9hZGVkIGZvbnRzIGFyZSBwaWNrZWQgdXAgYnkgU2FmYXJpXG4gICAgICAgICAgbWVhc3VyZUNvbnRleHQgPSBudWxsO1xuICAgICAgICAgIG1lYXN1cmVGb250ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGNoZWNrZWRGb250cy5zZXQoZm9udCwgcmV0cmllcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hlY2tlZEZvbnRzLnNldChmb250LCBjaGVja2VkRm9udHMuZ2V0KGZvbnQpICsgMSwgdHJ1ZSk7XG4gICAgICAgICAgZG9uZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkb25lKSB7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgIGludGVydmFsID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoZm9udFNwZWMpIHtcbiAgICBjb25zdCBmb250ID0gZ2V0Rm9udFBhcmFtZXRlcnMoZm9udFNwZWMpO1xuICAgIGlmICghZm9udCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmYW1pbGllcyA9IGZvbnQuZmFtaWxpZXM7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZmFtaWxpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgZmFtaWx5ID0gZmFtaWxpZXNbaV07XG4gICAgICBjb25zdCBrZXkgPSBmb250LnN0eWxlICsgJ1xcbicgKyBmb250LndlaWdodCArICdcXG4nICsgZmFtaWx5O1xuICAgICAgaWYgKGNoZWNrZWRGb250cy5nZXQoa2V5KSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNoZWNrZWRGb250cy5zZXQoa2V5LCByZXRyaWVzLCB0cnVlKTtcbiAgICAgICAgaWYgKCFpc0F2YWlsYWJsZShmb250LnN0eWxlLCBmb250LndlaWdodCwgZmFtaWx5KSkge1xuICAgICAgICAgIGNoZWNrZWRGb250cy5zZXQoa2V5LCAwLCB0cnVlKTtcbiAgICAgICAgICBpZiAoaW50ZXJ2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChjaGVjaywgMzIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pKCk7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgRm9udCB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gTWVhc3VyZW1lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBtZWFzdXJlVGV4dEhlaWdodCA9IChmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAqL1xuICBsZXQgbWVhc3VyZUVsZW1lbnQ7XG4gIHJldHVybiBmdW5jdGlvbiAoZm9udFNwZWMpIHtcbiAgICBsZXQgaGVpZ2h0ID0gdGV4dEhlaWdodHNbZm9udFNwZWNdO1xuICAgIGlmIChoZWlnaHQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoV09SS0VSX09GRlNDUkVFTl9DQU5WQVMpIHtcbiAgICAgICAgY29uc3QgZm9udCA9IGdldEZvbnRQYXJhbWV0ZXJzKGZvbnRTcGVjKTtcbiAgICAgICAgY29uc3QgbWV0cmljcyA9IG1lYXN1cmVUZXh0KGZvbnRTcGVjLCAnxb1nJyk7XG4gICAgICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBpc05hTihOdW1iZXIoZm9udC5saW5lSGVpZ2h0KSlcbiAgICAgICAgICA/IDEuMlxuICAgICAgICAgIDogTnVtYmVyKGZvbnQubGluZUhlaWdodCk7XG4gICAgICAgIGhlaWdodCA9XG4gICAgICAgICAgbGluZUhlaWdodCAqXG4gICAgICAgICAgKG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQgKyBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94RGVzY2VudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIW1lYXN1cmVFbGVtZW50KSB7XG4gICAgICAgICAgbWVhc3VyZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICBtZWFzdXJlRWxlbWVudC5pbm5lckhUTUwgPSAnTSc7XG4gICAgICAgICAgbWVhc3VyZUVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gJzAnO1xuICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLm1heEhlaWdodCA9ICdub25lJztcbiAgICAgICAgICBtZWFzdXJlRWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgICAgbWVhc3VyZUVsZW1lbnQuc3R5bGUucGFkZGluZyA9ICcwJztcbiAgICAgICAgICBtZWFzdXJlRWxlbWVudC5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gICAgICAgICAgbWVhc3VyZUVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLmxlZnQgPSAnLTk5OTk5cHgnO1xuICAgICAgICB9XG4gICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLmZvbnQgPSBmb250U3BlYztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtZWFzdXJlRWxlbWVudCk7XG4gICAgICAgIGhlaWdodCA9IG1lYXN1cmVFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtZWFzdXJlRWxlbWVudCk7XG4gICAgICB9XG4gICAgICB0ZXh0SGVpZ2h0c1tmb250U3BlY10gPSBoZWlnaHQ7XG4gICAgfVxuICAgIHJldHVybiBoZWlnaHQ7XG4gIH07XG59KSgpO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250IEZvbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0LlxuICogQHJldHVybiB7VGV4dE1ldHJpY3N9IFRleHQgbWV0cmljcy5cbiAqL1xuZnVuY3Rpb24gbWVhc3VyZVRleHQoZm9udCwgdGV4dCkge1xuICBpZiAoIW1lYXN1cmVDb250ZXh0KSB7XG4gICAgbWVhc3VyZUNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoMSwgMSk7XG4gIH1cbiAgaWYgKGZvbnQgIT0gbWVhc3VyZUZvbnQpIHtcbiAgICBtZWFzdXJlQ29udGV4dC5mb250ID0gZm9udDtcbiAgICBtZWFzdXJlRm9udCA9IG1lYXN1cmVDb250ZXh0LmZvbnQ7XG4gIH1cbiAgcmV0dXJuIG1lYXN1cmVDb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250IEZvbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0LlxuICogQHJldHVybiB7bnVtYmVyfSBXaWR0aC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lYXN1cmVUZXh0V2lkdGgoZm9udCwgdGV4dCkge1xuICByZXR1cm4gbWVhc3VyZVRleHQoZm9udCwgdGV4dCkud2lkdGg7XG59XG5cbi8qKlxuICogTWVhc3VyZSB0ZXh0IHdpZHRoIHVzaW5nIGEgY2FjaGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBUaGUgZm9udC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHRvIG1lYXN1cmUuXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIG51bWJlcj59IGNhY2hlIEEgbG9va3VwIG9mIGNhY2hlZCB3aWR0aHMgYnkgdGV4dC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHRleHQgd2lkdGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgoZm9udCwgdGV4dCwgY2FjaGUpIHtcbiAgaWYgKHRleHQgaW4gY2FjaGUpIHtcbiAgICByZXR1cm4gY2FjaGVbdGV4dF07XG4gIH1cbiAgY29uc3Qgd2lkdGggPSB0ZXh0XG4gICAgLnNwbGl0KCdcXG4nKVxuICAgIC5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IE1hdGgubWF4KHByZXYsIG1lYXN1cmVUZXh0V2lkdGgoZm9udCwgY3VycikpLCAwKTtcbiAgY2FjaGVbdGV4dF0gPSB3aWR0aDtcbiAgcmV0dXJuIHdpZHRoO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGV4dFN0YXRlfSBiYXNlU3R5bGUgQmFzZSBzdHlsZS5cbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gY2h1bmtzIFRleHQgY2h1bmtzIHRvIG1lYXN1cmUuXG4gKiBAcmV0dXJuIHt7d2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIHdpZHRoczogQXJyYXk8bnVtYmVyPiwgaGVpZ2h0czogQXJyYXk8bnVtYmVyPiwgbGluZVdpZHRoczogQXJyYXk8bnVtYmVyPn19fSBUZXh0IG1ldHJpY3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXh0RGltZW5zaW9ucyhiYXNlU3R5bGUsIGNodW5rcykge1xuICBjb25zdCB3aWR0aHMgPSBbXTtcbiAgY29uc3QgaGVpZ2h0cyA9IFtdO1xuICBjb25zdCBsaW5lV2lkdGhzID0gW107XG4gIGxldCB3aWR0aCA9IDA7XG4gIGxldCBsaW5lV2lkdGggPSAwO1xuICBsZXQgaGVpZ2h0ID0gMDtcbiAgbGV0IGxpbmVIZWlnaHQgPSAwO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBjaHVua3MubGVuZ3RoOyBpIDw9IGlpOyBpICs9IDIpIHtcbiAgICBjb25zdCB0ZXh0ID0gY2h1bmtzW2ldO1xuICAgIGlmICh0ZXh0ID09PSAnXFxuJyB8fCBpID09PSBpaSkge1xuICAgICAgd2lkdGggPSBNYXRoLm1heCh3aWR0aCwgbGluZVdpZHRoKTtcbiAgICAgIGxpbmVXaWR0aHMucHVzaChsaW5lV2lkdGgpO1xuICAgICAgbGluZVdpZHRoID0gMDtcbiAgICAgIGhlaWdodCArPSBsaW5lSGVpZ2h0O1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IGZvbnQgPSBjaHVua3NbaSArIDFdIHx8IGJhc2VTdHlsZS5mb250O1xuICAgIGNvbnN0IGN1cnJlbnRXaWR0aCA9IG1lYXN1cmVUZXh0V2lkdGgoZm9udCwgdGV4dCk7XG4gICAgd2lkdGhzLnB1c2goY3VycmVudFdpZHRoKTtcbiAgICBsaW5lV2lkdGggKz0gY3VycmVudFdpZHRoO1xuICAgIGNvbnN0IGN1cnJlbnRIZWlnaHQgPSBtZWFzdXJlVGV4dEhlaWdodChmb250KTtcbiAgICBoZWlnaHRzLnB1c2goY3VycmVudEhlaWdodCk7XG4gICAgbGluZUhlaWdodCA9IE1hdGgubWF4KGxpbmVIZWlnaHQsIGN1cnJlbnRIZWlnaHQpO1xuICB9XG4gIHJldHVybiB7d2lkdGgsIGhlaWdodCwgd2lkdGhzLCBoZWlnaHRzLCBsaW5lV2lkdGhzfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFggWCBvZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WSBZIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUF0T2Zmc2V0KGNvbnRleHQsIHJvdGF0aW9uLCBvZmZzZXRYLCBvZmZzZXRZKSB7XG4gIGlmIChyb3RhdGlvbiAhPT0gMCkge1xuICAgIGNvbnRleHQudHJhbnNsYXRlKG9mZnNldFgsIG9mZnNldFkpO1xuICAgIGNvbnRleHQucm90YXRlKHJvdGF0aW9uKTtcbiAgICBjb250ZXh0LnRyYW5zbGF0ZSgtb2Zmc2V0WCwgLW9mZnNldFkpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybXxudWxsfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eS5cbiAqIEBwYXJhbSB7TGFiZWx8SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBsYWJlbE9ySW1hZ2UgTGFiZWwuXG4gKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWCBPcmlnaW4gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvcmlnaW5ZIE9yaWdpbiBZLlxuICogQHBhcmFtIHtudW1iZXJ9IHcgV2lkdGguXG4gKiBAcGFyYW0ge251bWJlcn0gaCBIZWlnaHQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBzY2FsZSBTY2FsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRyYXdJbWFnZU9yTGFiZWwoXG4gIGNvbnRleHQsXG4gIHRyYW5zZm9ybSxcbiAgb3BhY2l0eSxcbiAgbGFiZWxPckltYWdlLFxuICBvcmlnaW5YLFxuICBvcmlnaW5ZLFxuICB3LFxuICBoLFxuICB4LFxuICB5LFxuICBzY2FsZVxuKSB7XG4gIGNvbnRleHQuc2F2ZSgpO1xuXG4gIGlmIChvcGFjaXR5ICE9PSAxKSB7XG4gICAgY29udGV4dC5nbG9iYWxBbHBoYSAqPSBvcGFjaXR5O1xuICB9XG4gIGlmICh0cmFuc2Zvcm0pIHtcbiAgICBjb250ZXh0LnNldFRyYW5zZm9ybS5hcHBseShjb250ZXh0LCB0cmFuc2Zvcm0pO1xuICB9XG5cbiAgaWYgKC8qKiBAdHlwZSB7Kn0gKi8gKGxhYmVsT3JJbWFnZSkuY29udGV4dEluc3RydWN0aW9ucykge1xuICAgIC8vIGxhYmVsXG4gICAgY29udGV4dC50cmFuc2xhdGUoeCwgeSk7XG4gICAgY29udGV4dC5zY2FsZShzY2FsZVswXSwgc2NhbGVbMV0pO1xuICAgIGV4ZWN1dGVMYWJlbEluc3RydWN0aW9ucygvKiogQHR5cGUge0xhYmVsfSAqLyAobGFiZWxPckltYWdlKSwgY29udGV4dCk7XG4gIH0gZWxzZSBpZiAoc2NhbGVbMF0gPCAwIHx8IHNjYWxlWzFdIDwgMCkge1xuICAgIC8vIGZsaXBwZWQgaW1hZ2VcbiAgICBjb250ZXh0LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICBjb250ZXh0LnNjYWxlKHNjYWxlWzBdLCBzY2FsZVsxXSk7XG4gICAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAvKiogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gKi8gKFxuICAgICAgICBsYWJlbE9ySW1hZ2VcbiAgICAgICksXG4gICAgICBvcmlnaW5YLFxuICAgICAgb3JpZ2luWSxcbiAgICAgIHcsXG4gICAgICBoLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICB3LFxuICAgICAgaFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgaW1hZ2Ugbm90IGZsaXBwZWQgdHJhbnNsYXRlIGFuZCBzY2FsZSBjYW4gYmUgYXZvaWRlZFxuICAgIGNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgLyoqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9ICovIChcbiAgICAgICAgbGFiZWxPckltYWdlXG4gICAgICApLFxuICAgICAgb3JpZ2luWCxcbiAgICAgIG9yaWdpblksXG4gICAgICB3LFxuICAgICAgaCxcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgdyAqIHNjYWxlWzBdLFxuICAgICAgaCAqIHNjYWxlWzFdXG4gICAgKTtcbiAgfVxuXG4gIGNvbnRleHQucmVzdG9yZSgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7TGFiZWx9IGxhYmVsIExhYmVsLlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZUxhYmVsSW5zdHJ1Y3Rpb25zKGxhYmVsLCBjb250ZXh0KSB7XG4gIGNvbnN0IGNvbnRleHRJbnN0cnVjdGlvbnMgPSBsYWJlbC5jb250ZXh0SW5zdHJ1Y3Rpb25zO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBjb250ZXh0SW5zdHJ1Y3Rpb25zLmxlbmd0aDsgaSA8IGlpOyBpICs9IDIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb250ZXh0SW5zdHJ1Y3Rpb25zW2kgKyAxXSkpIHtcbiAgICAgIGNvbnRleHRbY29udGV4dEluc3RydWN0aW9uc1tpXV0uYXBwbHkoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnNbaSArIDFdXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZXh0W2NvbnRleHRJbnN0cnVjdGlvbnNbaV1dID0gY29udGV4dEluc3RydWN0aW9uc1tpICsgMV07XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvTGF5ZXJcbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4uL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IE9ic2VydmFibGUgZnJvbSAnLi4vT2JzZXJ2YWJsZS5qcyc7XG5pbXBvcnQge2Fic3RyYWN0fSBmcm9tICcuLi91dGlsLmpzJztcblxuLyoqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IExheWVyVHlwZVxuICovXG5jbGFzcyBMYXllclJlbmRlcmVyIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0xheWVyVHlwZX0gbGF5ZXIgTGF5ZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihsYXllcikge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVuZGVyZXIgaXMgaW5pdGlhbGl6ZWQgYW5kIHJlYWR5IHRvIHJlbmRlci5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlYWR5ID0gdHJ1ZTtcblxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIHRoaXMuYm91bmRIYW5kbGVJbWFnZUNoYW5nZV8gPSB0aGlzLmhhbmRsZUltYWdlQ2hhbmdlXy5iaW5kKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtMYXllclR5cGV9XG4gICAgICovXG4gICAgdGhpcy5sYXllcl8gPSBsYXllcjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXBcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXAgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEFzeW5jaHJvbm91cyBsYXllciBsZXZlbCBoaXQgZGV0ZWN0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlXCIpLkZlYXR1cmVMaWtlPj59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoXG4gICAqIGFuIGFycmF5IG9mIGZlYXR1cmVzLlxuICAgKi9cbiAgZ2V0RmVhdHVyZXMocGl4ZWwpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICogQHJldHVybiB7VWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheXxGbG9hdDMyQXJyYXl8RGF0YVZpZXd8bnVsbH0gUGl4ZWwgZGF0YS5cbiAgICovXG4gIGdldERhdGEocGl4ZWwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciByZW5kZXIgc2hvdWxkIGJlIGNhbGxlZC5cbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IExheWVyIGlzIHJlYWR5IHRvIGJlIHJlbmRlcmVkLlxuICAgKi9cbiAgcHJlcGFyZUZyYW1lKGZyYW1lU3RhdGUpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgdGhlIGxheWVyLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50IHRvLlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIHJlbmRlcmVkIGVsZW1lbnQuXG4gICAqL1xuICByZW5kZXJGcmFtZShmcmFtZVN0YXRlLCB0YXJnZXQpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdDxudW1iZXIsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdD4+fSB0aWxlcyBMb29rdXAgb2YgbG9hZGVkIHRpbGVzIGJ5IHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW58dm9pZH0gSWYgYGZhbHNlYCwgdGhlIHRpbGUgd2lsbCBub3QgYmUgY29uc2lkZXJlZCBsb2FkZWQuXG4gICAqL1xuICBsb2FkZWRUaWxlQ2FsbGJhY2sodGlsZXMsIHpvb20sIHRpbGUpIHtcbiAgICBpZiAoIXRpbGVzW3pvb21dKSB7XG4gICAgICB0aWxlc1t6b29tXSA9IHt9O1xuICAgIH1cbiAgICB0aWxlc1t6b29tXVt0aWxlLnRpbGVDb29yZC50b1N0cmluZygpXSA9IHRpbGU7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBmdW5jdGlvbiB0aGF0IGFkZHMgbG9hZGVkIHRpbGVzIHRvIHRoZSB0aWxlIGxvb2t1cC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbiBvZiB0aGUgdGlsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0PG51bWJlciwgT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0Pj59IHRpbGVzIExvb2t1cCBvZiBsb2FkZWQgdGlsZXMgYnkgem9vbSBsZXZlbC5cbiAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCk6Ym9vbGVhbn0gQSBmdW5jdGlvbiB0aGF0IGNhbiBiZVxuICAgKiAgICAgY2FsbGVkIHdpdGggYSB6b29tIGxldmVsIGFuZCBhIHRpbGUgcmFuZ2UgdG8gYWRkIGxvYWRlZCB0aWxlcyB0byB0aGUgbG9va3VwLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBjcmVhdGVMb2FkZWRUaWxlRmluZGVyKHNvdXJjZSwgcHJvamVjdGlvbiwgdGlsZXMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBab29tIGxldmVsLlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdGlsZSByYW5nZSBpcyBmdWxseSBsb2FkZWQuXG4gICAgICAgKi9cbiAgICAgICh6b29tLCB0aWxlUmFuZ2UpID0+IHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzLmxvYWRlZFRpbGVDYWxsYmFjay5iaW5kKHRoaXMsIHRpbGVzLCB6b29tKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5mb3JFYWNoTG9hZGVkVGlsZShwcm9qZWN0aW9uLCB6b29tLCB0aWxlUmFuZ2UsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3ZlY3Rvci5qc1wiKS5GZWF0dXJlQ2FsbGJhY2s8VD59IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9NYXAuanNcIikuSGl0TWF0Y2g8VD4+fSBtYXRjaGVzIFRoZSBoaXQgZGV0ZWN0ZWQgbWF0Y2hlcyB3aXRoIHRvbGVyYW5jZS5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICogQHRlbXBsYXRlIFRcbiAgICovXG4gIGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKFxuICAgIGNvb3JkaW5hdGUsXG4gICAgZnJhbWVTdGF0ZSxcbiAgICBoaXRUb2xlcmFuY2UsXG4gICAgY2FsbGJhY2ssXG4gICAgbWF0Y2hlc1xuICApIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0xheWVyVHlwZX0gTGF5ZXIuXG4gICAqL1xuICBnZXRMYXllcigpIHtcbiAgICByZXR1cm4gdGhpcy5sYXllcl87XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybSBhY3Rpb24gbmVjZXNzYXJ5IHRvIGdldCB0aGUgbGF5ZXIgcmVuZGVyZWQgYWZ0ZXIgbmV3IGZvbnRzIGhhdmUgbG9hZGVkXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgaGFuZGxlRm9udHNDaGFuZ2VkKCkge31cblxuICAvKipcbiAgICogSGFuZGxlIGNoYW5nZXMgaW4gaW1hZ2Ugc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEltYWdlIGNoYW5nZSBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUltYWdlQ2hhbmdlXyhldmVudCkge1xuICAgIGNvbnN0IGltYWdlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9JbWFnZS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZlbnQudGFyZ2V0KTtcbiAgICBpZiAoaW1hZ2UuZ2V0U3RhdGUoKSA9PT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgIHRoaXMucmVuZGVySWZSZWFkeUFuZFZpc2libGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9hZCB0aGUgaW1hZ2UgaWYgbm90IGFscmVhZHkgbG9hZGVkLCBhbmQgcmVnaXN0ZXIgdGhlIGltYWdlIGNoYW5nZVxuICAgKiBsaXN0ZW5lciBpZiBuZWVkZWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vSW1hZ2VCYXNlLmpzXCIpLmRlZmF1bHR9IGltYWdlIEltYWdlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGltYWdlIGlzIGFscmVhZHkgbG9hZGVkLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgbG9hZEltYWdlKGltYWdlKSB7XG4gICAgbGV0IGltYWdlU3RhdGUgPSBpbWFnZS5nZXRTdGF0ZSgpO1xuICAgIGlmIChpbWFnZVN0YXRlICE9IEltYWdlU3RhdGUuTE9BREVEICYmIGltYWdlU3RhdGUgIT0gSW1hZ2VTdGF0ZS5FUlJPUikge1xuICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmJvdW5kSGFuZGxlSW1hZ2VDaGFuZ2VfKTtcbiAgICB9XG4gICAgaWYgKGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5JRExFKSB7XG4gICAgICBpbWFnZS5sb2FkKCk7XG4gICAgICBpbWFnZVN0YXRlID0gaW1hZ2UuZ2V0U3RhdGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgcmVuZGVySWZSZWFkeUFuZFZpc2libGUoKSB7XG4gICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgaWYgKGxheWVyICYmIGxheWVyLmdldFZpc2libGUoKSAmJiBsYXllci5nZXRTb3VyY2VTdGF0ZSgpID09PSAncmVhZHknKSB7XG4gICAgICBsYXllci5jaGFuZ2VkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwLlxuICAgKi9cbiAgZGlzcG9zZUludGVybmFsKCkge1xuICAgIGRlbGV0ZSB0aGlzLmxheWVyXztcbiAgICBzdXBlci5kaXNwb3NlSW50ZXJuYWwoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMYXllclJlbmRlcmVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL2NhbnZhcy9MYXllclxuICovXG5pbXBvcnQgTGF5ZXJSZW5kZXJlciBmcm9tICcuLi9MYXllci5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnQgZnJvbSAnLi4vLi4vcmVuZGVyL0V2ZW50LmpzJztcbmltcG9ydCBSZW5kZXJFdmVudFR5cGUgZnJvbSAnLi4vLi4vcmVuZGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge1xuICBhcHBseSBhcyBhcHBseVRyYW5zZm9ybSxcbiAgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLFxuICBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLFxufSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHthc0FycmF5fSBmcm9tICcuLi8uLi9jb2xvci5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7ZXF1YWxzfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQge1xuICBnZXRCb3R0b21MZWZ0LFxuICBnZXRCb3R0b21SaWdodCxcbiAgZ2V0VG9wTGVmdCxcbiAgZ2V0VG9wUmlnaHQsXG59IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5cbi8qKlxuICogQHR5cGUge0FycmF5PEhUTUxDYW52YXNFbGVtZW50Pn1cbiAqL1xuZXhwb3J0IGNvbnN0IGNhbnZhc1Bvb2wgPSBbXTtcblxuLyoqXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICovXG5sZXQgcGl4ZWxDb250ZXh0ID0gbnVsbDtcblxuZnVuY3Rpb24gY3JlYXRlUGl4ZWxDb250ZXh0KCkge1xuICBwaXhlbENvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoMSwgMSwgdW5kZWZpbmVkLCB7XG4gICAgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlLFxuICB9KTtcbn1cblxuLyoqXG4gKiBAYWJzdHJhY3RcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gTGF5ZXJUeXBlXG4gKiBAZXh0ZW5kcyB7TGF5ZXJSZW5kZXJlcjxMYXllclR5cGU+fVxuICovXG5jbGFzcyBDYW52YXNMYXllclJlbmRlcmVyIGV4dGVuZHMgTGF5ZXJSZW5kZXJlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0xheWVyVHlwZX0gbGF5ZXIgTGF5ZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihsYXllcikge1xuICAgIHN1cGVyKGxheWVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5jb250YWluZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBBIHRlbXBvcmFyeSB0cmFuc2Zvcm0uICBUaGUgdmFsdWVzIGluIHRoaXMgdHJhbnNmb3JtIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gYVxuICAgICAqIGZ1bmN0aW9uIHRoYXQgc2V0cyB0aGUgdmFsdWVzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLnRlbXBUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0cmFuc2Zvcm0gZm9yIHJlbmRlcmVkIHBpeGVscyB0byB2aWV3cG9ydCBDU1MgcGl4ZWxzLiAgVGhpcyB0cmFuc2Zvcm0gbXVzdFxuICAgICAqIGJlIHNldCB3aGVuIHJlbmRlcmluZyBhIGZyYW1lIGFuZCBtYXkgYmUgdXNlZCBieSBvdGhlciBmdW5jdGlvbnMgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNmb3JtIGZvciB2aWV3cG9ydCBDU1MgcGl4ZWxzIHRvIHJlbmRlcmVkIHBpeGVscy4gIFRoaXMgdHJhbnNmb3JtIG11c3RcbiAgICAgKiBiZSBzZXQgd2hlbiByZW5kZXJpbmcgYSBmcmFtZSBhbmQgbWF5IGJlIHVzZWQgYnkgb3RoZXIgZnVuY3Rpb25zIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuY29udGFpbmVyUmV1c2VkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5waXhlbENvbnRleHRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lU3RhdGUgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBpbWFnZSBJbWFnZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvbCBUaGUgY29sdW1uIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm93IFRoZSByb3cgaW5kZXguXG4gICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fG51bGx9IFRoZSBpbWFnZSBkYXRhLlxuICAgKi9cbiAgZ2V0SW1hZ2VEYXRhKGltYWdlLCBjb2wsIHJvdykge1xuICAgIGlmICghcGl4ZWxDb250ZXh0KSB7XG4gICAgICBjcmVhdGVQaXhlbENvbnRleHQoKTtcbiAgICB9XG4gICAgcGl4ZWxDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCAxLCAxKTtcblxuICAgIGxldCBkYXRhO1xuICAgIHRyeSB7XG4gICAgICBwaXhlbENvbnRleHQuZHJhd0ltYWdlKGltYWdlLCBjb2wsIHJvdywgMSwgMSwgMCwgMCwgMSwgMSk7XG4gICAgICBkYXRhID0gcGl4ZWxDb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcGl4ZWxDb250ZXh0ID0gbnVsbDtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vLi4vTWFwLmpzJykuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBCYWNrZ3JvdW5kIGNvbG9yLlxuICAgKi9cbiAgZ2V0QmFja2dyb3VuZChmcmFtZVN0YXRlKSB7XG4gICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgbGV0IGJhY2tncm91bmQgPSBsYXllci5nZXRCYWNrZ3JvdW5kKCk7XG4gICAgaWYgKHR5cGVvZiBiYWNrZ3JvdW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBiYWNrZ3JvdW5kID0gYmFja2dyb3VuZChmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yZXNvbHV0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIGJhY2tncm91bmQgfHwgdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHJlbmRlcmluZyBjb250YWluZXIgZnJvbSBhbiBleGlzdGluZyB0YXJnZXQsIGlmIGNvbXBhdGlibGUuXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCBQb3RlbnRpYWwgcmVuZGVyIHRhcmdldC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zZm9ybSBDU1MgVHJhbnNmb3JtLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2JhY2tncm91bmRDb2xvcl0gQmFja2dyb3VuZCBjb2xvci5cbiAgICovXG4gIHVzZUNvbnRhaW5lcih0YXJnZXQsIHRyYW5zZm9ybSwgYmFja2dyb3VuZENvbG9yKSB7XG4gICAgY29uc3QgbGF5ZXJDbGFzc05hbWUgPSB0aGlzLmdldExheWVyKCkuZ2V0Q2xhc3NOYW1lKCk7XG4gICAgbGV0IGNvbnRhaW5lciwgY29udGV4dDtcbiAgICBpZiAoXG4gICAgICB0YXJnZXQgJiZcbiAgICAgIHRhcmdldC5jbGFzc05hbWUgPT09IGxheWVyQ2xhc3NOYW1lICYmXG4gICAgICAoIWJhY2tncm91bmRDb2xvciB8fFxuICAgICAgICAodGFyZ2V0ICYmXG4gICAgICAgICAgdGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciAmJlxuICAgICAgICAgIGVxdWFscyhcbiAgICAgICAgICAgIGFzQXJyYXkodGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciksXG4gICAgICAgICAgICBhc0FycmF5KGJhY2tncm91bmRDb2xvcilcbiAgICAgICAgICApKSlcbiAgICApIHtcbiAgICAgIGNvbnN0IGNhbnZhcyA9IHRhcmdldC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgIGlmIChjYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuY2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9PT0gdHJhbnNmb3JtKSB7XG4gICAgICAvLyBDb250YWluZXIgb2YgdGhlIHByZXZpb3VzIGxheWVyIHJlbmRlcmVyIGNhbiBiZSB1c2VkLlxuICAgICAgdGhpcy5jb250YWluZXIgPSB0YXJnZXQ7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgdGhpcy5jb250YWluZXJSZXVzZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb250YWluZXJSZXVzZWQpIHtcbiAgICAgIC8vIFByZXZpb3VzbHkgcmV1c2VkIGNvbnRhaW5lciBjYW5ub3QgYmUgdXNlZCBhbnkgbW9yZS5cbiAgICAgIHRoaXMuY29udGFpbmVyID0gbnVsbDtcbiAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICB0aGlzLmNvbnRhaW5lclJldXNlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuY29udGFpbmVyKSB7XG4gICAgICBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBsYXllckNsYXNzTmFtZTtcbiAgICAgIGxldCBzdHlsZSA9IGNvbnRhaW5lci5zdHlsZTtcbiAgICAgIHN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgIHN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgpO1xuICAgICAgY29uc3QgY2FudmFzID0gY29udGV4dC5jYW52YXM7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgIHN0eWxlID0gY2FudmFzLnN0eWxlO1xuICAgICAgc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgc3R5bGUubGVmdCA9ICcwJztcbiAgICAgIHN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICd0b3AgbGVmdCc7XG4gICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICF0aGlzLmNvbnRhaW5lclJldXNlZCAmJlxuICAgICAgYmFja2dyb3VuZENvbG9yICYmXG4gICAgICAhdGhpcy5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yXG4gICAgKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IENsaXAgZXh0ZW50LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBjbGlwVW5yb3RhdGVkKGNvbnRleHQsIGZyYW1lU3RhdGUsIGV4dGVudCkge1xuICAgIGNvbnN0IHRvcExlZnQgPSBnZXRUb3BMZWZ0KGV4dGVudCk7XG4gICAgY29uc3QgdG9wUmlnaHQgPSBnZXRUb3BSaWdodChleHRlbnQpO1xuICAgIGNvbnN0IGJvdHRvbVJpZ2h0ID0gZ2V0Qm90dG9tUmlnaHQoZXh0ZW50KTtcbiAgICBjb25zdCBib3R0b21MZWZ0ID0gZ2V0Qm90dG9tTGVmdChleHRlbnQpO1xuXG4gICAgYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSwgdG9wTGVmdCk7XG4gICAgYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSwgdG9wUmlnaHQpO1xuICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIGJvdHRvbVJpZ2h0KTtcbiAgICBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCBib3R0b21MZWZ0KTtcblxuICAgIGNvbnN0IGludmVydGVkID0gdGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm07XG4gICAgYXBwbHlUcmFuc2Zvcm0oaW52ZXJ0ZWQsIHRvcExlZnQpO1xuICAgIGFwcGx5VHJhbnNmb3JtKGludmVydGVkLCB0b3BSaWdodCk7XG4gICAgYXBwbHlUcmFuc2Zvcm0oaW52ZXJ0ZWQsIGJvdHRvbVJpZ2h0KTtcbiAgICBhcHBseVRyYW5zZm9ybShpbnZlcnRlZCwgYm90dG9tTGVmdCk7XG5cbiAgICBjb250ZXh0LnNhdmUoKTtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQubW92ZVRvKE1hdGgucm91bmQodG9wTGVmdFswXSksIE1hdGgucm91bmQodG9wTGVmdFsxXSkpO1xuICAgIGNvbnRleHQubGluZVRvKE1hdGgucm91bmQodG9wUmlnaHRbMF0pLCBNYXRoLnJvdW5kKHRvcFJpZ2h0WzFdKSk7XG4gICAgY29udGV4dC5saW5lVG8oTWF0aC5yb3VuZChib3R0b21SaWdodFswXSksIE1hdGgucm91bmQoYm90dG9tUmlnaHRbMV0pKTtcbiAgICBjb250ZXh0LmxpbmVUbyhNYXRoLnJvdW5kKGJvdHRvbUxlZnRbMF0pLCBNYXRoLnJvdW5kKGJvdHRvbUxlZnRbMV0pKTtcbiAgICBjb250ZXh0LmNsaXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3JlbmRlci9FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBFdmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGlzcGF0Y2hSZW5kZXJFdmVudF8odHlwZSwgY29udGV4dCwgZnJhbWVTdGF0ZSkge1xuICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgIGlmIChsYXllci5oYXNMaXN0ZW5lcih0eXBlKSkge1xuICAgICAgY29uc3QgZXZlbnQgPSBuZXcgUmVuZGVyRXZlbnQoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtLFxuICAgICAgICBmcmFtZVN0YXRlLFxuICAgICAgICBjb250ZXh0XG4gICAgICApO1xuICAgICAgbGF5ZXIuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHByZVJlbmRlcihjb250ZXh0LCBmcmFtZVN0YXRlKSB7XG4gICAgdGhpcy5mcmFtZVN0YXRlID0gZnJhbWVTdGF0ZTtcbiAgICB0aGlzLmRpc3BhdGNoUmVuZGVyRXZlbnRfKFJlbmRlckV2ZW50VHlwZS5QUkVSRU5ERVIsIGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHBvc3RSZW5kZXIoY29udGV4dCwgZnJhbWVTdGF0ZSkge1xuICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudF8oUmVuZGVyRXZlbnRUeXBlLlBPU1RSRU5ERVIsIGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZyB0byBhbiBlbGVtZW50IHRoYXQgd2lsbCBiZSByb3RhdGVkIGFmdGVyIHJlbmRlcmluZy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgcmVuZGVyZWQgZWxlbWVudCAoaW4gcGl4ZWxzKS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgdGhlIHJlbmRlcmVkIGVsZW1lbnQgKGluIHBpeGVscykuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRYIE9mZnNldCBvbiB0aGUgeC1heGlzIGluIHZpZXcgY29vcmRpbmF0ZXMuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IFRyYW5zZm9ybS5cbiAgICovXG4gIGdldFJlbmRlclRyYW5zZm9ybShcbiAgICBjZW50ZXIsXG4gICAgcmVzb2x1dGlvbixcbiAgICByb3RhdGlvbixcbiAgICBwaXhlbFJhdGlvLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBvZmZzZXRYXG4gICkge1xuICAgIGNvbnN0IGR4MSA9IHdpZHRoIC8gMjtcbiAgICBjb25zdCBkeTEgPSBoZWlnaHQgLyAyO1xuICAgIGNvbnN0IHN4ID0gcGl4ZWxSYXRpbyAvIHJlc29sdXRpb247XG4gICAgY29uc3Qgc3kgPSAtc3g7XG4gICAgY29uc3QgZHgyID0gLWNlbnRlclswXSArIG9mZnNldFg7XG4gICAgY29uc3QgZHkyID0gLWNlbnRlclsxXTtcbiAgICByZXR1cm4gY29tcG9zZVRyYW5zZm9ybShcbiAgICAgIHRoaXMudGVtcFRyYW5zZm9ybSxcbiAgICAgIGR4MSxcbiAgICAgIGR5MSxcbiAgICAgIHN4LFxuICAgICAgc3ksXG4gICAgICAtcm90YXRpb24sXG4gICAgICBkeDIsXG4gICAgICBkeTJcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwLlxuICAgKi9cbiAgZGlzcG9zZUludGVybmFsKCkge1xuICAgIGRlbGV0ZSB0aGlzLmZyYW1lU3RhdGU7XG4gICAgc3VwZXIuZGlzcG9zZUludGVybmFsKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzTGF5ZXJSZW5kZXJlcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvVGlsZUxheWVyXG4gKi9cbmltcG9ydCBDYW52YXNMYXllclJlbmRlcmVyIGZyb20gJy4vTGF5ZXIuanMnO1xuaW1wb3J0IEltYWdlVGlsZSBmcm9tICcuLi8uLi9JbWFnZVRpbGUuanMnO1xuaW1wb3J0IFJlcHJvalRpbGUgZnJvbSAnLi4vLi4vcmVwcm9qL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVSYW5nZSBmcm9tICcuLi8uLi9UaWxlUmFuZ2UuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi8uLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHtcbiAgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sXG4gIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSxcbiAgbWFrZUludmVyc2UsXG4gIHRvU3RyaW5nIGFzIHRvVHJhbnNmb3JtU3RyaW5nLFxufSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHthc2NlbmRpbmd9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7XG4gIGNvbnRhaW5zQ29vcmRpbmF0ZSxcbiAgY3JlYXRlRW1wdHksXG4gIGVxdWFscyxcbiAgZ2V0SGVpZ2h0LFxuICBnZXRJbnRlcnNlY3Rpb24sXG4gIGdldFJvdGF0ZWRWaWV3cG9ydCxcbiAgZ2V0VG9wTGVmdCxcbiAgZ2V0V2lkdGgsXG4gIGludGVyc2VjdHMsXG59IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2Zyb21Vc2VyRXh0ZW50fSBmcm9tICcuLi8uLi9wcm9qLmpzJztcbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi8uLi91dGlsLmpzJztcbmltcG9ydCB7dG9TaXplfSBmcm9tICcuLi8uLi9zaXplLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDYW52YXMgcmVuZGVyZXIgZm9yIHRpbGUgbGF5ZXJzLlxuICogQGFwaVxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9UaWxlLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi4vLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdD58aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSBbTGF5ZXJUeXBlPWltcG9ydChcIi4uLy4uL2xheWVyL1RpbGUuanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0PnxpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHRdXG4gKiBAZXh0ZW5kcyB7Q2FudmFzTGF5ZXJSZW5kZXJlcjxMYXllclR5cGU+fVxuICovXG5jbGFzcyBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlciBleHRlbmRzIENhbnZhc0xheWVyUmVuZGVyZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtMYXllclR5cGV9IHRpbGVMYXllciBUaWxlIGxheWVyLlxuICAgKi9cbiAgY29uc3RydWN0b3IodGlsZUxheWVyKSB7XG4gICAgc3VwZXIodGlsZUxheWVyKTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcmVkIGV4dGVudCBoYXMgY2hhbmdlZCBzaW5jZSB0aGUgcHJldmlvdXMgYHJlbmRlckZyYW1lKClgIGNhbGxcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudENoYW5nZWQgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZEV4dGVudF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFBpeGVsUmF0aW87XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRQcm9qZWN0aW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRSZXZpc2lvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFRpbGVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubmV3VGlsZXNfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy50bXBFeHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy50bXBUaWxlUmFuZ2VfID0gbmV3IFRpbGVSYW5nZSgwLCAwLCAwLCAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRpbGUgaXMgZHJhd2FibGUuXG4gICAqL1xuICBpc0RyYXdhYmxlVGlsZSh0aWxlKSB7XG4gICAgY29uc3QgdGlsZUxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgIGNvbnN0IHRpbGVTdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB1c2VJbnRlcmltVGlsZXNPbkVycm9yID0gdGlsZUxheWVyLmdldFVzZUludGVyaW1UaWxlc09uRXJyb3IoKTtcbiAgICByZXR1cm4gKFxuICAgICAgdGlsZVN0YXRlID09IFRpbGVTdGF0ZS5MT0FERUQgfHxcbiAgICAgIHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuRU1QVFkgfHxcbiAgICAgICh0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkVSUk9SICYmICF1c2VJbnRlcmltVGlsZXNPbkVycm9yKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdH0gVGlsZS5cbiAgICovXG4gIGdldFRpbGUoeiwgeCwgeSwgZnJhbWVTdGF0ZSkge1xuICAgIGNvbnN0IHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnByb2plY3Rpb247XG4gICAgY29uc3QgdGlsZUxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgIGNvbnN0IHRpbGVTb3VyY2UgPSB0aWxlTGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgbGV0IHRpbGUgPSB0aWxlU291cmNlLmdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuRVJST1IpIHtcbiAgICAgIGlmICh0aWxlTGF5ZXIuZ2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvcigpICYmIHRpbGVMYXllci5nZXRQcmVsb2FkKCkgPiAwKSB7XG4gICAgICAgIC8vIFByZWxvYWRlZCB0aWxlcyBmb3IgbG93ZXIgcmVzb2x1dGlvbnMgbWlnaHQgaGF2ZSBmaW5pc2hlZCBsb2FkaW5nLlxuICAgICAgICB0aGlzLm5ld1RpbGVzXyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5pc0RyYXdhYmxlVGlsZSh0aWxlKSkge1xuICAgICAgdGlsZSA9IHRpbGUuZ2V0SW50ZXJpbVRpbGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRpbGU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fSBEYXRhIGF0IHRoZSBwaXhlbCBsb2NhdGlvbi5cbiAgICovXG4gIGdldERhdGEocGl4ZWwpIHtcbiAgICBjb25zdCBmcmFtZVN0YXRlID0gdGhpcy5mcmFtZVN0YXRlO1xuICAgIGlmICghZnJhbWVTdGF0ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgY29uc3QgY29vcmRpbmF0ZSA9IGFwcGx5VHJhbnNmb3JtKFxuICAgICAgZnJhbWVTdGF0ZS5waXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSxcbiAgICAgIHBpeGVsLnNsaWNlKClcbiAgICApO1xuXG4gICAgY29uc3QgbGF5ZXJFeHRlbnQgPSBsYXllci5nZXRFeHRlbnQoKTtcbiAgICBpZiAobGF5ZXJFeHRlbnQpIHtcbiAgICAgIGlmICghY29udGFpbnNDb29yZGluYXRlKGxheWVyRXh0ZW50LCBjb29yZGluYXRlKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgIGNvbnN0IHByb2plY3Rpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgIGNvbnN0IHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIGNvbnN0IHNvdXJjZSA9IGxheWVyLmdldFJlbmRlclNvdXJjZSgpO1xuICAgIGNvbnN0IHRpbGVHcmlkID0gc291cmNlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbih2aWV3U3RhdGUucHJvamVjdGlvbik7XG4gICAgY29uc3QgdGlsZVBpeGVsUmF0aW8gPSBzb3VyY2UuZ2V0VGlsZVBpeGVsUmF0aW8oZnJhbWVTdGF0ZS5waXhlbFJhdGlvKTtcblxuICAgIGZvciAoXG4gICAgICBsZXQgeiA9IHRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKHZpZXdTdGF0ZS5yZXNvbHV0aW9uKTtcbiAgICAgIHogPj0gdGlsZUdyaWQuZ2V0TWluWm9vbSgpO1xuICAgICAgLS16XG4gICAgKSB7XG4gICAgICBjb25zdCB0aWxlQ29vcmQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRGb3JDb29yZEFuZFooY29vcmRpbmF0ZSwgeik7XG4gICAgICBjb25zdCB0aWxlID0gc291cmNlLmdldFRpbGUoXG4gICAgICAgIHosXG4gICAgICAgIHRpbGVDb29yZFsxXSxcbiAgICAgICAgdGlsZUNvb3JkWzJdLFxuICAgICAgICBwaXhlbFJhdGlvLFxuICAgICAgICBwcm9qZWN0aW9uXG4gICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICAhKHRpbGUgaW5zdGFuY2VvZiBJbWFnZVRpbGUgfHwgdGlsZSBpbnN0YW5jZW9mIFJlcHJvalRpbGUpIHx8XG4gICAgICAgICh0aWxlIGluc3RhbmNlb2YgUmVwcm9qVGlsZSAmJiB0aWxlLmdldFN0YXRlKCkgPT09IFRpbGVTdGF0ZS5FTVBUWSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSAhPT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGlsZU9yaWdpbiA9IHRpbGVHcmlkLmdldE9yaWdpbih6KTtcbiAgICAgIGNvbnN0IHRpbGVTaXplID0gdG9TaXplKHRpbGVHcmlkLmdldFRpbGVTaXplKHopKTtcbiAgICAgIGNvbnN0IHRpbGVSZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcblxuICAgICAgY29uc3QgY29sID0gTWF0aC5mbG9vcihcbiAgICAgICAgdGlsZVBpeGVsUmF0aW8gKlxuICAgICAgICAgICgoY29vcmRpbmF0ZVswXSAtIHRpbGVPcmlnaW5bMF0pIC8gdGlsZVJlc29sdXRpb24gLVxuICAgICAgICAgICAgdGlsZUNvb3JkWzFdICogdGlsZVNpemVbMF0pXG4gICAgICApO1xuXG4gICAgICBjb25zdCByb3cgPSBNYXRoLmZsb29yKFxuICAgICAgICB0aWxlUGl4ZWxSYXRpbyAqXG4gICAgICAgICAgKCh0aWxlT3JpZ2luWzFdIC0gY29vcmRpbmF0ZVsxXSkgLyB0aWxlUmVzb2x1dGlvbiAtXG4gICAgICAgICAgICB0aWxlQ29vcmRbMl0gKiB0aWxlU2l6ZVsxXSlcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGd1dHRlciA9IE1hdGgucm91bmQoXG4gICAgICAgIHRpbGVQaXhlbFJhdGlvICogc291cmNlLmdldEd1dHRlckZvclByb2plY3Rpb24odmlld1N0YXRlLnByb2plY3Rpb24pXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gdGhpcy5nZXRJbWFnZURhdGEodGlsZS5nZXRJbWFnZSgpLCBjb2wgKyBndXR0ZXIsIHJvdyArIGd1dHRlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3Q8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+Pn0gdGlsZXMgTG9va3VwIG9mIGxvYWRlZCB0aWxlcyBieSB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBab29tIGxldmVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufHZvaWR9IElmIGBmYWxzZWAsIHRoZSB0aWxlIHdpbGwgbm90IGJlIGNvbnNpZGVyZWQgbG9hZGVkLlxuICAgKi9cbiAgbG9hZGVkVGlsZUNhbGxiYWNrKHRpbGVzLCB6b29tLCB0aWxlKSB7XG4gICAgaWYgKHRoaXMuaXNEcmF3YWJsZVRpbGUodGlsZSkpIHtcbiAgICAgIHJldHVybiBzdXBlci5sb2FkZWRUaWxlQ2FsbGJhY2sodGlsZXMsIHpvb20sIHRpbGUpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHdoZXRoZXIgcmVuZGVyIHNob3VsZCBiZSBjYWxsZWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IExheWVyIGlzIHJlYWR5IHRvIGJlIHJlbmRlcmVkLlxuICAgKi9cbiAgcHJlcGFyZUZyYW1lKGZyYW1lU3RhdGUpIHtcbiAgICByZXR1cm4gISF0aGlzLmdldExheWVyKCkuZ2V0U291cmNlKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIHRoZSBsYXllci5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50IHRvLlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIHJlbmRlcmVkIGVsZW1lbnQuXG4gICAqL1xuICByZW5kZXJGcmFtZShmcmFtZVN0YXRlLCB0YXJnZXQpIHtcbiAgICBjb25zdCBsYXllclN0YXRlID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5W2ZyYW1lU3RhdGUubGF5ZXJJbmRleF07XG4gICAgY29uc3Qgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgIGNvbnN0IHZpZXdSZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgY29uc3Qgdmlld0NlbnRlciA9IHZpZXdTdGF0ZS5jZW50ZXI7XG4gICAgY29uc3Qgcm90YXRpb24gPSB2aWV3U3RhdGUucm90YXRpb247XG4gICAgY29uc3QgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcblxuICAgIGNvbnN0IHRpbGVMYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICBjb25zdCB0aWxlU291cmNlID0gdGlsZUxheWVyLmdldFNvdXJjZSgpO1xuICAgIGNvbnN0IHNvdXJjZVJldmlzaW9uID0gdGlsZVNvdXJjZS5nZXRSZXZpc2lvbigpO1xuICAgIGNvbnN0IHRpbGVHcmlkID0gdGlsZVNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgY29uc3QgeiA9IHRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKHZpZXdSZXNvbHV0aW9uLCB0aWxlU291cmNlLnpEaXJlY3Rpb24pO1xuICAgIGNvbnN0IHRpbGVSZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcblxuICAgIGxldCBleHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucmVzb2x1dGlvbjtcbiAgICBjb25zdCB0aWxlUGl4ZWxSYXRpbyA9IHRpbGVTb3VyY2UuZ2V0VGlsZVBpeGVsUmF0aW8ocGl4ZWxSYXRpbyk7XG4gICAgLy8gZGVzaXJlZCBkaW1lbnNpb25zIG9mIHRoZSBjYW52YXMgaW4gcGl4ZWxzXG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLnJvdW5kKChnZXRXaWR0aChleHRlbnQpIC8gcmVzb2x1dGlvbikgKiBwaXhlbFJhdGlvKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLnJvdW5kKChnZXRIZWlnaHQoZXh0ZW50KSAvIHJlc29sdXRpb24pICogcGl4ZWxSYXRpbyk7XG5cbiAgICBjb25zdCBsYXllckV4dGVudCA9XG4gICAgICBsYXllclN0YXRlLmV4dGVudCAmJiBmcm9tVXNlckV4dGVudChsYXllclN0YXRlLmV4dGVudCwgcHJvamVjdGlvbik7XG4gICAgaWYgKGxheWVyRXh0ZW50KSB7XG4gICAgICBleHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24oXG4gICAgICAgIGV4dGVudCxcbiAgICAgICAgZnJvbVVzZXJFeHRlbnQobGF5ZXJTdGF0ZS5leHRlbnQsIHByb2plY3Rpb24pXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGR4ID0gKHRpbGVSZXNvbHV0aW9uICogd2lkdGgpIC8gMiAvIHRpbGVQaXhlbFJhdGlvO1xuICAgIGNvbnN0IGR5ID0gKHRpbGVSZXNvbHV0aW9uICogaGVpZ2h0KSAvIDIgLyB0aWxlUGl4ZWxSYXRpbztcbiAgICBjb25zdCBjYW52YXNFeHRlbnQgPSBbXG4gICAgICB2aWV3Q2VudGVyWzBdIC0gZHgsXG4gICAgICB2aWV3Q2VudGVyWzFdIC0gZHksXG4gICAgICB2aWV3Q2VudGVyWzBdICsgZHgsXG4gICAgICB2aWV3Q2VudGVyWzFdICsgZHksXG4gICAgXTtcblxuICAgIGNvbnN0IHRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6KTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+Pn1cbiAgICAgKi9cbiAgICBjb25zdCB0aWxlc1RvRHJhd0J5WiA9IHt9O1xuICAgIHRpbGVzVG9EcmF3QnlaW3pdID0ge307XG5cbiAgICBjb25zdCBmaW5kTG9hZGVkVGlsZXMgPSB0aGlzLmNyZWF0ZUxvYWRlZFRpbGVGaW5kZXIoXG4gICAgICB0aWxlU291cmNlLFxuICAgICAgcHJvamVjdGlvbixcbiAgICAgIHRpbGVzVG9EcmF3QnlaXG4gICAgKTtcblxuICAgIGNvbnN0IHRtcEV4dGVudCA9IHRoaXMudG1wRXh0ZW50O1xuICAgIGNvbnN0IHRtcFRpbGVSYW5nZSA9IHRoaXMudG1wVGlsZVJhbmdlXztcbiAgICB0aGlzLm5ld1RpbGVzXyA9IGZhbHNlO1xuICAgIGNvbnN0IHZpZXdwb3J0ID0gcm90YXRpb25cbiAgICAgID8gZ2V0Um90YXRlZFZpZXdwb3J0KFxuICAgICAgICAgIHZpZXdTdGF0ZS5jZW50ZXIsXG4gICAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICBmcmFtZVN0YXRlLnNpemVcbiAgICAgICAgKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgZm9yIChsZXQgeCA9IHRpbGVSYW5nZS5taW5YOyB4IDw9IHRpbGVSYW5nZS5tYXhYOyArK3gpIHtcbiAgICAgIGZvciAobGV0IHkgPSB0aWxlUmFuZ2UubWluWTsgeSA8PSB0aWxlUmFuZ2UubWF4WTsgKyt5KSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICByb3RhdGlvbiAmJlxuICAgICAgICAgICF0aWxlR3JpZC50aWxlQ29vcmRJbnRlcnNlY3RzVmlld3BvcnQoW3osIHgsIHldLCB2aWV3cG9ydClcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuZ2V0VGlsZSh6LCB4LCB5LCBmcmFtZVN0YXRlKTtcbiAgICAgICAgaWYgKHRoaXMuaXNEcmF3YWJsZVRpbGUodGlsZSkpIHtcbiAgICAgICAgICBjb25zdCB1aWQgPSBnZXRVaWQodGhpcyk7XG4gICAgICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgICB0aWxlc1RvRHJhd0J5Wlt6XVt0aWxlLnRpbGVDb29yZC50b1N0cmluZygpXSA9IHRpbGU7XG4gICAgICAgICAgICBsZXQgaW5UcmFuc2l0aW9uID0gdGlsZS5pblRyYW5zaXRpb24odWlkKTtcbiAgICAgICAgICAgIGlmIChpblRyYW5zaXRpb24gJiYgbGF5ZXJTdGF0ZS5vcGFjaXR5ICE9PSAxKSB7XG4gICAgICAgICAgICAgIC8vIFNraXBwaW5nIHRyYW5zaXRpb24gd2hlbiBsYXllciBpcyBub3QgZnVsbHkgb3BhcXVlIGF2b2lkcyB2aXN1YWwgYXJ0aWZhY3RzLlxuICAgICAgICAgICAgICB0aWxlLmVuZFRyYW5zaXRpb24odWlkKTtcbiAgICAgICAgICAgICAgaW5UcmFuc2l0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICF0aGlzLm5ld1RpbGVzXyAmJlxuICAgICAgICAgICAgICAoaW5UcmFuc2l0aW9uIHx8ICF0aGlzLnJlbmRlcmVkVGlsZXMuaW5jbHVkZXModGlsZSkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdGhpcy5uZXdUaWxlc18gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGlsZS5nZXRBbHBoYSh1aWQsIGZyYW1lU3RhdGUudGltZSkgPT09IDEpIHtcbiAgICAgICAgICAgIC8vIGRvbid0IGxvb2sgZm9yIGFsdCB0aWxlcyBpZiBhbHBoYSBpcyAxXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjaGlsZFRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldFRpbGVDb29yZENoaWxkVGlsZVJhbmdlKFxuICAgICAgICAgIHRpbGUudGlsZUNvb3JkLFxuICAgICAgICAgIHRtcFRpbGVSYW5nZSxcbiAgICAgICAgICB0bXBFeHRlbnRcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgY292ZXJlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoY2hpbGRUaWxlUmFuZ2UpIHtcbiAgICAgICAgICBjb3ZlcmVkID0gZmluZExvYWRlZFRpbGVzKHogKyAxLCBjaGlsZFRpbGVSYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb3ZlcmVkKSB7XG4gICAgICAgICAgdGlsZUdyaWQuZm9yRWFjaFRpbGVDb29yZFBhcmVudFRpbGVSYW5nZShcbiAgICAgICAgICAgIHRpbGUudGlsZUNvb3JkLFxuICAgICAgICAgICAgZmluZExvYWRlZFRpbGVzLFxuICAgICAgICAgICAgdG1wVGlsZVJhbmdlLFxuICAgICAgICAgICAgdG1wRXh0ZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNhbnZhc1NjYWxlID1cbiAgICAgICgodGlsZVJlc29sdXRpb24gLyB2aWV3UmVzb2x1dGlvbikgKiBwaXhlbFJhdGlvKSAvIHRpbGVQaXhlbFJhdGlvO1xuXG4gICAgLy8gc2V0IGZvcndhcmQgYW5kIGludmVyc2UgcGl4ZWwgdHJhbnNmb3Jtc1xuICAgIGNvbXBvc2VUcmFuc2Zvcm0oXG4gICAgICB0aGlzLnBpeGVsVHJhbnNmb3JtLFxuICAgICAgZnJhbWVTdGF0ZS5zaXplWzBdIC8gMixcbiAgICAgIGZyYW1lU3RhdGUuc2l6ZVsxXSAvIDIsXG4gICAgICAxIC8gcGl4ZWxSYXRpbyxcbiAgICAgIDEgLyBwaXhlbFJhdGlvLFxuICAgICAgcm90YXRpb24sXG4gICAgICAtd2lkdGggLyAyLFxuICAgICAgLWhlaWdodCAvIDJcbiAgICApO1xuXG4gICAgY29uc3QgY2FudmFzVHJhbnNmb3JtID0gdG9UcmFuc2Zvcm1TdHJpbmcodGhpcy5waXhlbFRyYW5zZm9ybSk7XG5cbiAgICB0aGlzLnVzZUNvbnRhaW5lcih0YXJnZXQsIGNhbnZhc1RyYW5zZm9ybSwgdGhpcy5nZXRCYWNrZ3JvdW5kKGZyYW1lU3RhdGUpKTtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIGNvbnN0IGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuXG4gICAgbWFrZUludmVyc2UodGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0sIHRoaXMucGl4ZWxUcmFuc2Zvcm0pO1xuXG4gICAgLy8gc2V0IHNjYWxlIHRyYW5zZm9ybSBmb3IgY2FsY3VsYXRpbmcgdGlsZSBwb3NpdGlvbnMgb24gdGhlIGNhbnZhc1xuICAgIGNvbXBvc2VUcmFuc2Zvcm0oXG4gICAgICB0aGlzLnRlbXBUcmFuc2Zvcm0sXG4gICAgICB3aWR0aCAvIDIsXG4gICAgICBoZWlnaHQgLyAyLFxuICAgICAgY2FudmFzU2NhbGUsXG4gICAgICBjYW52YXNTY2FsZSxcbiAgICAgIDAsXG4gICAgICAtd2lkdGggLyAyLFxuICAgICAgLWhlaWdodCAvIDJcbiAgICApO1xuXG4gICAgaWYgKGNhbnZhcy53aWR0aCAhPSB3aWR0aCB8fCBjYW52YXMuaGVpZ2h0ICE9IGhlaWdodCkge1xuICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuY29udGFpbmVyUmV1c2VkKSB7XG4gICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAobGF5ZXJFeHRlbnQpIHtcbiAgICAgIHRoaXMuY2xpcFVucm90YXRlZChjb250ZXh0LCBmcmFtZVN0YXRlLCBsYXllckV4dGVudCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aWxlU291cmNlLmdldEludGVycG9sYXRlKCkpIHtcbiAgICAgIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5wcmVSZW5kZXIoY29udGV4dCwgZnJhbWVTdGF0ZSk7XG5cbiAgICB0aGlzLnJlbmRlcmVkVGlsZXMubGVuZ3RoID0gMDtcbiAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgbGV0IHpzID0gT2JqZWN0LmtleXModGlsZXNUb0RyYXdCeVopLm1hcChOdW1iZXIpO1xuICAgIHpzLnNvcnQoYXNjZW5kaW5nKTtcblxuICAgIGxldCBjbGlwcywgY2xpcFpzLCBjdXJyZW50Q2xpcDtcbiAgICBpZiAoXG4gICAgICBsYXllclN0YXRlLm9wYWNpdHkgPT09IDEgJiZcbiAgICAgICghdGhpcy5jb250YWluZXJSZXVzZWQgfHxcbiAgICAgICAgdGlsZVNvdXJjZS5nZXRPcGFxdWUoZnJhbWVTdGF0ZS52aWV3U3RhdGUucHJvamVjdGlvbikpXG4gICAgKSB7XG4gICAgICB6cyA9IHpzLnJldmVyc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xpcHMgPSBbXTtcbiAgICAgIGNsaXBacyA9IFtdO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0genMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRaID0genNbaV07XG4gICAgICBjb25zdCBjdXJyZW50VGlsZVBpeGVsU2l6ZSA9IHRpbGVTb3VyY2UuZ2V0VGlsZVBpeGVsU2l6ZShcbiAgICAgICAgY3VycmVudFosXG4gICAgICAgIHBpeGVsUmF0aW8sXG4gICAgICAgIHByb2plY3Rpb25cbiAgICAgICk7XG4gICAgICBjb25zdCBjdXJyZW50UmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oY3VycmVudFopO1xuICAgICAgY29uc3QgY3VycmVudFNjYWxlID0gY3VycmVudFJlc29sdXRpb24gLyB0aWxlUmVzb2x1dGlvbjtcbiAgICAgIGNvbnN0IGR4ID0gY3VycmVudFRpbGVQaXhlbFNpemVbMF0gKiBjdXJyZW50U2NhbGUgKiBjYW52YXNTY2FsZTtcbiAgICAgIGNvbnN0IGR5ID0gY3VycmVudFRpbGVQaXhlbFNpemVbMV0gKiBjdXJyZW50U2NhbGUgKiBjYW52YXNTY2FsZTtcbiAgICAgIGNvbnN0IG9yaWdpblRpbGVDb29yZCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEZvckNvb3JkQW5kWihcbiAgICAgICAgZ2V0VG9wTGVmdChjYW52YXNFeHRlbnQpLFxuICAgICAgICBjdXJyZW50WlxuICAgICAgKTtcbiAgICAgIGNvbnN0IG9yaWdpblRpbGVFeHRlbnQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQob3JpZ2luVGlsZUNvb3JkKTtcbiAgICAgIGNvbnN0IG9yaWdpbiA9IGFwcGx5VHJhbnNmb3JtKHRoaXMudGVtcFRyYW5zZm9ybSwgW1xuICAgICAgICAodGlsZVBpeGVsUmF0aW8gKiAob3JpZ2luVGlsZUV4dGVudFswXSAtIGNhbnZhc0V4dGVudFswXSkpIC9cbiAgICAgICAgICB0aWxlUmVzb2x1dGlvbixcbiAgICAgICAgKHRpbGVQaXhlbFJhdGlvICogKGNhbnZhc0V4dGVudFszXSAtIG9yaWdpblRpbGVFeHRlbnRbM10pKSAvXG4gICAgICAgICAgdGlsZVJlc29sdXRpb24sXG4gICAgICBdKTtcbiAgICAgIGNvbnN0IHRpbGVHdXR0ZXIgPVxuICAgICAgICB0aWxlUGl4ZWxSYXRpbyAqIHRpbGVTb3VyY2UuZ2V0R3V0dGVyRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgIGNvbnN0IHRpbGVzVG9EcmF3ID0gdGlsZXNUb0RyYXdCeVpbY3VycmVudFpdO1xuICAgICAgZm9yIChjb25zdCB0aWxlQ29vcmRLZXkgaW4gdGlsZXNUb0RyYXcpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICB0aWxlc1RvRHJhd1t0aWxlQ29vcmRLZXldXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHRpbGVDb29yZCA9IHRpbGUudGlsZUNvb3JkO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBpbnRlZ2VyIHBvc2l0aW9ucyBhbmQgc2l6ZXMgc28gdGhhdCB0aWxlcyBhbGlnblxuICAgICAgICBjb25zdCB4SW5kZXggPSBvcmlnaW5UaWxlQ29vcmRbMV0gLSB0aWxlQ29vcmRbMV07XG4gICAgICAgIGNvbnN0IG5leHRYID0gTWF0aC5yb3VuZChvcmlnaW5bMF0gLSAoeEluZGV4IC0gMSkgKiBkeCk7XG4gICAgICAgIGNvbnN0IHlJbmRleCA9IG9yaWdpblRpbGVDb29yZFsyXSAtIHRpbGVDb29yZFsyXTtcbiAgICAgICAgY29uc3QgbmV4dFkgPSBNYXRoLnJvdW5kKG9yaWdpblsxXSAtICh5SW5kZXggLSAxKSAqIGR5KTtcbiAgICAgICAgY29uc3QgeCA9IE1hdGgucm91bmQob3JpZ2luWzBdIC0geEluZGV4ICogZHgpO1xuICAgICAgICBjb25zdCB5ID0gTWF0aC5yb3VuZChvcmlnaW5bMV0gLSB5SW5kZXggKiBkeSk7XG4gICAgICAgIGNvbnN0IHcgPSBuZXh0WCAtIHg7XG4gICAgICAgIGNvbnN0IGggPSBuZXh0WSAtIHk7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb24gPSB6ID09PSBjdXJyZW50WjtcblxuICAgICAgICBjb25zdCBpblRyYW5zaXRpb24gPVxuICAgICAgICAgIHRyYW5zaXRpb24gJiYgdGlsZS5nZXRBbHBoYShnZXRVaWQodGhpcyksIGZyYW1lU3RhdGUudGltZSkgIT09IDE7XG4gICAgICAgIGxldCBjb250ZXh0U2F2ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFpblRyYW5zaXRpb24pIHtcbiAgICAgICAgICBpZiAoY2xpcHMpIHtcbiAgICAgICAgICAgIC8vIENsaXAgbWFzayBmb3IgcmVnaW9ucyBpbiB0aGlzIHRpbGUgdGhhdCBhbHJlYWR5IGZpbGxlZCBieSBhIGhpZ2hlciB6IHRpbGVcbiAgICAgICAgICAgIGN1cnJlbnRDbGlwID0gW3gsIHksIHggKyB3LCB5LCB4ICsgdywgeSArIGgsIHgsIHkgKyBoXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGNsaXBzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgaWYgKHogIT09IGN1cnJlbnRaICYmIGN1cnJlbnRaIDwgY2xpcFpzW2ldKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xpcCA9IGNsaXBzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGludGVyc2VjdHMoXG4gICAgICAgICAgICAgICAgICAgIFt4LCB5LCB4ICsgdywgeSArIGhdLFxuICAgICAgICAgICAgICAgICAgICBbY2xpcFswXSwgY2xpcFszXSwgY2xpcFs0XSwgY2xpcFs3XV1cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGlmICghY29udGV4dFNhdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0U2F2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgIC8vIGNvdW50ZXItY2xvY2t3aXNlIChvdXRlciByaW5nKSBmb3IgY3VycmVudCB0aWxlXG4gICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhjdXJyZW50Q2xpcFswXSwgY3VycmVudENsaXBbMV0pO1xuICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY3VycmVudENsaXBbMl0sIGN1cnJlbnRDbGlwWzNdKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzRdLCBjdXJyZW50Q2xpcFs1XSk7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjdXJyZW50Q2xpcFs2XSwgY3VycmVudENsaXBbN10pO1xuICAgICAgICAgICAgICAgICAgLy8gY2xvY2t3aXNlIChpbm5lciByaW5nKSBmb3IgaGlnaGVyIHogdGlsZVxuICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oY2xpcFs2XSwgY2xpcFs3XSk7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjbGlwWzRdLCBjbGlwWzVdKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGNsaXBbMl0sIGNsaXBbM10pO1xuICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY2xpcFswXSwgY2xpcFsxXSk7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsaXBzLnB1c2goY3VycmVudENsaXApO1xuICAgICAgICAgICAgY2xpcFpzLnB1c2goY3VycmVudFopO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCh4LCB5LCB3LCBoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmF3VGlsZUltYWdlKFxuICAgICAgICAgIHRpbGUsXG4gICAgICAgICAgZnJhbWVTdGF0ZSxcbiAgICAgICAgICB4LFxuICAgICAgICAgIHksXG4gICAgICAgICAgdyxcbiAgICAgICAgICBoLFxuICAgICAgICAgIHRpbGVHdXR0ZXIsXG4gICAgICAgICAgdHJhbnNpdGlvblxuICAgICAgICApO1xuICAgICAgICBpZiAoY2xpcHMgJiYgIWluVHJhbnNpdGlvbikge1xuICAgICAgICAgIGlmIChjb250ZXh0U2F2ZWQpIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXMudW5zaGlmdCh0aWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXMucHVzaCh0aWxlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVVzZWRUaWxlcyhmcmFtZVN0YXRlLnVzZWRUaWxlcywgdGlsZVNvdXJjZSwgdGlsZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uID0gc291cmNlUmV2aXNpb247XG4gICAgdGhpcy5yZW5kZXJlZFJlc29sdXRpb24gPSB0aWxlUmVzb2x1dGlvbjtcbiAgICB0aGlzLmV4dGVudENoYW5nZWQgPVxuICAgICAgIXRoaXMucmVuZGVyZWRFeHRlbnRfIHx8ICFlcXVhbHModGhpcy5yZW5kZXJlZEV4dGVudF8sIGNhbnZhc0V4dGVudCk7XG4gICAgdGhpcy5yZW5kZXJlZEV4dGVudF8gPSBjYW52YXNFeHRlbnQ7XG4gICAgdGhpcy5yZW5kZXJlZFBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvO1xuICAgIHRoaXMucmVuZGVyZWRQcm9qZWN0aW9uID0gcHJvamVjdGlvbjtcblxuICAgIHRoaXMubWFuYWdlVGlsZVB5cmFtaWQoXG4gICAgICBmcmFtZVN0YXRlLFxuICAgICAgdGlsZVNvdXJjZSxcbiAgICAgIHRpbGVHcmlkLFxuICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgIHByb2plY3Rpb24sXG4gICAgICBleHRlbnQsXG4gICAgICB6LFxuICAgICAgdGlsZUxheWVyLmdldFByZWxvYWQoKVxuICAgICk7XG4gICAgdGhpcy5zY2hlZHVsZUV4cGlyZUNhY2hlKGZyYW1lU3RhdGUsIHRpbGVTb3VyY2UpO1xuXG4gICAgdGhpcy5wb3N0UmVuZGVyKGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuXG4gICAgaWYgKGxheWVyU3RhdGUuZXh0ZW50KSB7XG4gICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSB0cnVlO1xuXG4gICAgaWYgKGNhbnZhc1RyYW5zZm9ybSAhPT0gY2FudmFzLnN0eWxlLnRyYW5zZm9ybSkge1xuICAgICAgY2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9IGNhbnZhc1RyYW5zZm9ybTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBMZWZ0IG9mIHRoZSB0aWxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUb3Agb2YgdGhlIHRpbGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3IFdpZHRoIG9mIHRoZSB0aWxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaCBIZWlnaHQgb2YgdGhlIHRpbGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBndXR0ZXIgVGlsZSBndXR0ZXIuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJhbnNpdGlvbiBBcHBseSBhbiBhbHBoYSB0cmFuc2l0aW9uLlxuICAgKi9cbiAgZHJhd1RpbGVJbWFnZSh0aWxlLCBmcmFtZVN0YXRlLCB4LCB5LCB3LCBoLCBndXR0ZXIsIHRyYW5zaXRpb24pIHtcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuZ2V0VGlsZUltYWdlKHRpbGUpO1xuICAgIGlmICghaW1hZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdWlkID0gZ2V0VWlkKHRoaXMpO1xuICAgIGNvbnN0IGxheWVyU3RhdGUgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXlbZnJhbWVTdGF0ZS5sYXllckluZGV4XTtcbiAgICBjb25zdCBhbHBoYSA9XG4gICAgICBsYXllclN0YXRlLm9wYWNpdHkgKlxuICAgICAgKHRyYW5zaXRpb24gPyB0aWxlLmdldEFscGhhKHVpZCwgZnJhbWVTdGF0ZS50aW1lKSA6IDEpO1xuICAgIGNvbnN0IGFscGhhQ2hhbmdlZCA9IGFscGhhICE9PSB0aGlzLmNvbnRleHQuZ2xvYmFsQWxwaGE7XG4gICAgaWYgKGFscGhhQ2hhbmdlZCkge1xuICAgICAgdGhpcy5jb250ZXh0LnNhdmUoKTtcbiAgICAgIHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYSA9IGFscGhhO1xuICAgIH1cbiAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgaW1hZ2UsXG4gICAgICBndXR0ZXIsXG4gICAgICBndXR0ZXIsXG4gICAgICBpbWFnZS53aWR0aCAtIDIgKiBndXR0ZXIsXG4gICAgICBpbWFnZS5oZWlnaHQgLSAyICogZ3V0dGVyLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICB3LFxuICAgICAgaFxuICAgICk7XG5cbiAgICBpZiAoYWxwaGFDaGFuZ2VkKSB7XG4gICAgICB0aGlzLmNvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cbiAgICBpZiAoYWxwaGEgIT09IGxheWVyU3RhdGUub3BhY2l0eSkge1xuICAgICAgZnJhbWVTdGF0ZS5hbmltYXRlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgIHRpbGUuZW5kVHJhbnNpdGlvbih1aWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2VcbiAgICovXG4gIGdldEltYWdlKCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgcmV0dXJuIGNvbnRleHQgPyBjb250ZXh0LmNhbnZhcyA6IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBpbWFnZSBmcm9tIGEgdGlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IEltYWdlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRUaWxlSW1hZ2UodGlsZSkge1xuICAgIHJldHVybiB0aWxlLmdldEltYWdlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlU291cmNlIFRpbGUgc291cmNlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzY2hlZHVsZUV4cGlyZUNhY2hlKGZyYW1lU3RhdGUsIHRpbGVTb3VyY2UpIHtcbiAgICBpZiAodGlsZVNvdXJjZS5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZVNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAgICovXG4gICAgICBjb25zdCBwb3N0UmVuZGVyRnVuY3Rpb24gPSBmdW5jdGlvbiAodGlsZVNvdXJjZSwgbWFwLCBmcmFtZVN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHRpbGVTb3VyY2VLZXkgPSBnZXRVaWQodGlsZVNvdXJjZSk7XG4gICAgICAgIGlmICh0aWxlU291cmNlS2V5IGluIGZyYW1lU3RhdGUudXNlZFRpbGVzKSB7XG4gICAgICAgICAgdGlsZVNvdXJjZS5leHBpcmVDYWNoZShcbiAgICAgICAgICAgIGZyYW1lU3RhdGUudmlld1N0YXRlLnByb2plY3Rpb24sXG4gICAgICAgICAgICBmcmFtZVN0YXRlLnVzZWRUaWxlc1t0aWxlU291cmNlS2V5XVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZChudWxsLCB0aWxlU291cmNlKTtcblxuICAgICAgZnJhbWVTdGF0ZS5wb3N0UmVuZGVyRnVuY3Rpb25zLnB1c2goXG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLlBvc3RSZW5kZXJGdW5jdGlvbn0gKi8gKFxuICAgICAgICAgIHBvc3RSZW5kZXJGdW5jdGlvblxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PHN0cmluZywgYm9vbGVhbj4+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlU291cmNlIFRpbGUgc291cmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vLi4vVGlsZS5qcycpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgdXBkYXRlVXNlZFRpbGVzKHVzZWRUaWxlcywgdGlsZVNvdXJjZSwgdGlsZSkge1xuICAgIC8vIEZJWE1FIHNob3VsZCB3ZSB1c2UgdGlsZXNUb0RyYXdCeVogaW5zdGVhZD9cbiAgICBjb25zdCB0aWxlU291cmNlS2V5ID0gZ2V0VWlkKHRpbGVTb3VyY2UpO1xuICAgIGlmICghKHRpbGVTb3VyY2VLZXkgaW4gdXNlZFRpbGVzKSkge1xuICAgICAgdXNlZFRpbGVzW3RpbGVTb3VyY2VLZXldID0ge307XG4gICAgfVxuICAgIHVzZWRUaWxlc1t0aWxlU291cmNlS2V5XVt0aWxlLmdldEtleSgpXSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogTWFuYWdlIHRpbGUgcHlyYW1pZC5cbiAgICogVGhpcyBmdW5jdGlvbiBwZXJmb3JtcyBhIG51bWJlciBvZiBmdW5jdGlvbnMgcmVsYXRlZCB0byB0aGUgdGlsZXMgYXQgdGhlXG4gICAqIGN1cnJlbnQgem9vbSBhbmQgbG93ZXIgem9vbSBsZXZlbHM6XG4gICAqIC0gcmVnaXN0ZXJzIGlkbGUgdGlsZXMgaW4gZnJhbWVTdGF0ZS53YW50ZWRUaWxlcyBzbyB0aGF0IHRoZXkgYXJlIG5vdFxuICAgKiAgIGRpc2NhcmRlZCBieSB0aGUgdGlsZSBxdWV1ZVxuICAgKiAtIGVucXVldWVzIG1pc3NpbmcgdGlsZXNcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlU291cmNlIFRpbGUgc291cmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gY3VycmVudFogQ3VycmVudCBaLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcHJlbG9hZCBMb2FkIGxvdyByZXNvbHV0aW9uIHRpbGVzIHVwIHRvIGBwcmVsb2FkYCBsZXZlbHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vLi4vVGlsZS5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbdGlsZUNhbGxiYWNrXSBUaWxlIGNhbGxiYWNrLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBtYW5hZ2VUaWxlUHlyYW1pZChcbiAgICBmcmFtZVN0YXRlLFxuICAgIHRpbGVTb3VyY2UsXG4gICAgdGlsZUdyaWQsXG4gICAgcGl4ZWxSYXRpbyxcbiAgICBwcm9qZWN0aW9uLFxuICAgIGV4dGVudCxcbiAgICBjdXJyZW50WixcbiAgICBwcmVsb2FkLFxuICAgIHRpbGVDYWxsYmFja1xuICApIHtcbiAgICBjb25zdCB0aWxlU291cmNlS2V5ID0gZ2V0VWlkKHRpbGVTb3VyY2UpO1xuICAgIGlmICghKHRpbGVTb3VyY2VLZXkgaW4gZnJhbWVTdGF0ZS53YW50ZWRUaWxlcykpIHtcbiAgICAgIGZyYW1lU3RhdGUud2FudGVkVGlsZXNbdGlsZVNvdXJjZUtleV0gPSB7fTtcbiAgICB9XG4gICAgY29uc3Qgd2FudGVkVGlsZXMgPSBmcmFtZVN0YXRlLndhbnRlZFRpbGVzW3RpbGVTb3VyY2VLZXldO1xuICAgIGNvbnN0IHRpbGVRdWV1ZSA9IGZyYW1lU3RhdGUudGlsZVF1ZXVlO1xuICAgIGNvbnN0IG1pblpvb20gPSB0aWxlR3JpZC5nZXRNaW5ab29tKCk7XG4gICAgY29uc3Qgcm90YXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yb3RhdGlvbjtcbiAgICBjb25zdCB2aWV3cG9ydCA9IHJvdGF0aW9uXG4gICAgICA/IGdldFJvdGF0ZWRWaWV3cG9ydChcbiAgICAgICAgICBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5jZW50ZXIsXG4gICAgICAgICAgZnJhbWVTdGF0ZS52aWV3U3RhdGUucmVzb2x1dGlvbixcbiAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICBmcmFtZVN0YXRlLnNpemVcbiAgICAgICAgKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbGV0IHRpbGVDb3VudCA9IDA7XG4gICAgbGV0IHRpbGUsIHRpbGVSYW5nZSwgdGlsZVJlc29sdXRpb24sIHgsIHksIHo7XG4gICAgZm9yICh6ID0gbWluWm9vbTsgeiA8PSBjdXJyZW50WjsgKyt6KSB7XG4gICAgICB0aWxlUmFuZ2UgPSB0aWxlR3JpZC5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgeiwgdGlsZVJhbmdlKTtcbiAgICAgIHRpbGVSZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICAgIGZvciAoeCA9IHRpbGVSYW5nZS5taW5YOyB4IDw9IHRpbGVSYW5nZS5tYXhYOyArK3gpIHtcbiAgICAgICAgZm9yICh5ID0gdGlsZVJhbmdlLm1pblk7IHkgPD0gdGlsZVJhbmdlLm1heFk7ICsreSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHJvdGF0aW9uICYmXG4gICAgICAgICAgICAhdGlsZUdyaWQudGlsZUNvb3JkSW50ZXJzZWN0c1ZpZXdwb3J0KFt6LCB4LCB5XSwgdmlld3BvcnQpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGN1cnJlbnRaIC0geiA8PSBwcmVsb2FkKSB7XG4gICAgICAgICAgICArK3RpbGVDb3VudDtcbiAgICAgICAgICAgIHRpbGUgPSB0aWxlU291cmNlLmdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgICAgICAgICBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICAgIHdhbnRlZFRpbGVzW3RpbGUuZ2V0S2V5KCldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaWYgKCF0aWxlUXVldWUuaXNLZXlRdWV1ZWQodGlsZS5nZXRLZXkoKSkpIHtcbiAgICAgICAgICAgICAgICB0aWxlUXVldWUuZW5xdWV1ZShbXG4gICAgICAgICAgICAgICAgICB0aWxlLFxuICAgICAgICAgICAgICAgICAgdGlsZVNvdXJjZUtleSxcbiAgICAgICAgICAgICAgICAgIHRpbGVHcmlkLmdldFRpbGVDb29yZENlbnRlcih0aWxlLnRpbGVDb29yZCksXG4gICAgICAgICAgICAgICAgICB0aWxlUmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbGVDYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHRpbGVDYWxsYmFjayh0aWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGlsZVNvdXJjZS51c2VUaWxlKHosIHgsIHksIHByb2plY3Rpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aWxlU291cmNlLnVwZGF0ZUNhY2hlU2l6ZSh0aWxlQ291bnQsIHByb2plY3Rpb24pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1RpbGVMYXllclJlbmRlcmVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvalxuICovXG5pbXBvcnQge1xuICBjb250YWluc0Nvb3JkaW5hdGUsXG4gIGNyZWF0ZUVtcHR5LFxuICBleHRlbmQsXG4gIGZvckVhY2hDb3JuZXIsXG4gIGdldENlbnRlcixcbiAgZ2V0SGVpZ2h0LFxuICBnZXRUb3BMZWZ0LFxuICBnZXRXaWR0aCxcbn0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkQsIHJlbGVhc2VDYW52YXN9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7Z2V0UG9pbnRSZXNvbHV0aW9uLCB0cmFuc2Zvcm19IGZyb20gJy4vcHJvai5qcyc7XG5pbXBvcnQge3NvbHZlTGluZWFyU3lzdGVtfSBmcm9tICcuL21hdGguanMnO1xuXG5sZXQgYnJva2VuRGlhZ29uYWxSZW5kZXJpbmdfO1xuXG4vKipcbiAqIEB0eXBlIHtBcnJheTxIVE1MQ2FudmFzRWxlbWVudD59XG4gKi9cbmV4cG9ydCBjb25zdCBjYW52YXNQb29sID0gW107XG5cbi8qKlxuICogVGhpcyBkcmF3cyBhIHNtYWxsIHRyaWFuZ2xlIGludG8gYSBjYW52YXMgYnkgc2V0dGluZyB0aGUgdHJpYW5nbGUgYXMgdGhlIGNsaXAgcmVnaW9uXG4gKiBhbmQgdGhlbiBkcmF3aW5nIGEgKHRvbyBsYXJnZSkgcmVjdGFuZ2xlXG4gKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBUaGUgY29udGV4dCBpbiB3aGljaCB0byBkcmF3IHRoZSB0cmlhbmdsZVxuICogQHBhcmFtIHtudW1iZXJ9IHUxIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHNlY29uZCBwb2ludC4gVGhlIGZpcnN0IHBvaW50IGlzIDAsMC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2MSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBzZWNvbmQgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdTIgVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgdGhpcmQgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdjIgVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgdGhpcmQgcG9pbnQuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUZXN0VHJpYW5nbGUoY3R4LCB1MSwgdjEsIHUyLCB2Mikge1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5tb3ZlVG8oMCwgMCk7XG4gIGN0eC5saW5lVG8odTEsIHYxKTtcbiAgY3R4LmxpbmVUbyh1MiwgdjIpO1xuICBjdHguY2xvc2VQYXRoKCk7XG4gIGN0eC5zYXZlKCk7XG4gIGN0eC5jbGlwKCk7XG4gIGN0eC5maWxsUmVjdCgwLCAwLCBNYXRoLm1heCh1MSwgdTIpICsgMSwgTWF0aC5tYXgodjEsIHYyKSk7XG4gIGN0eC5yZXN0b3JlKCk7XG59XG5cbi8qKlxuICogR2l2ZW4gdGhlIGRhdGEgZnJvbSBnZXRJbWFnZURhdGEsIHNlZSBpZiB0aGUgcmlnaHQgdmFsdWVzIGFwcGVhciBhdCB0aGUgcHJvdmlkZWQgb2Zmc2V0LlxuICogUmV0dXJucyB0cnVlIGlmIGVpdGhlciB0aGUgY29sb3Igb3IgdHJhbnNwYXJlbmN5IGlzIG9mZlxuICpcbiAqIEBwYXJhbSB7VWludDhDbGFtcGVkQXJyYXl9IGRhdGEgVGhlIGRhdGEgcmV0dXJuZWQgZnJvbSBnZXRJbWFnZURhdGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgVGhlIHBpeGVsIG9mZnNldCBmcm9tIHRoZSBzdGFydCBvZiBkYXRhLlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgZGlhZ29uYWwgcmVuZGVyaW5nIGlzIGJyb2tlblxuICovXG5mdW5jdGlvbiB2ZXJpZnlCcm9rZW5EaWFnb25hbFJlbmRlcmluZyhkYXRhLCBvZmZzZXQpIHtcbiAgLy8gdGhlIHZhbHVlcyBvdWdodCB0byBiZSBjbG9zZSB0byB0aGUgcmdiYSgyMTAsIDAsIDAsIDAuNzUpXG4gIHJldHVybiAoXG4gICAgTWF0aC5hYnMoZGF0YVtvZmZzZXQgKiA0XSAtIDIxMCkgPiAyIHx8XG4gICAgTWF0aC5hYnMoZGF0YVtvZmZzZXQgKiA0ICsgM10gLSAwLjc1ICogMjU1KSA+IDJcbiAgKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBjdXJyZW50IGJyb3dzZXIgY29uZmlndXJhdGlvbiBjYW4gcmVuZGVyIHRyaWFuZ3VsYXIgY2xpcCByZWdpb25zIGNvcnJlY3RseS5cbiAqIFRoaXMgdmFsdWUgaXMgY2FjaGVkIHNvIHRoZSBmdW5jdGlvbiBpcyBvbmx5IGV4cGVuc2l2ZSB0aGUgZmlyc3QgdGltZSBjYWxsZWQuXG4gKiBGaXJlZm94IG9uIFdpbmRvd3MgKGFzIG9mIG5vdykgZG9lcyBub3QgaWYgSFdBIGlzIGVuYWJsZWQuIFNlZSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNjA2OTc2XG4gKiBDaHJvbWUgd29ya3MsIGFuZCBldmVyeXRoaW5nIHNlZW1zIHRvIHdvcmsgb24gT1NYIGFuZCBBbmRyb2lkLiBUaGlzIGZ1bmN0aW9uIGNhY2hlcyB0aGVcbiAqIHJlc3VsdC4gSSBzdXBwb3NlIHRoYXQgaXQgaXMgY29uY2VpdmFibHkgcG9zc2libGUgdGhhdCBhIGJyb3dzZXIgbWlnaHQgZmxpcCBtb2RlcyB3aGlsZSB0aGUgYXBwIGlzXG4gKiBydW5uaW5nLCBidXQgbGV0cyBob3BlIG5vdC5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBEaWFnb25hbCBSZW5kZXJpbmcgaXMgYnJva2VuLlxuICovXG5mdW5jdGlvbiBpc0Jyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKCkge1xuICBpZiAoYnJva2VuRGlhZ29uYWxSZW5kZXJpbmdfID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBjdHggPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoNiwgNiwgY2FudmFzUG9vbCk7XG4gICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdsaWdodGVyJztcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjEwLCAwLCAwLCAwLjc1KSc7XG4gICAgZHJhd1Rlc3RUcmlhbmdsZShjdHgsIDQsIDUsIDQsIDApO1xuICAgIGRyYXdUZXN0VHJpYW5nbGUoY3R4LCA0LCA1LCAwLCA1KTtcbiAgICBjb25zdCBkYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCAzLCAzKS5kYXRhO1xuICAgIGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXyA9XG4gICAgICB2ZXJpZnlCcm9rZW5EaWFnb25hbFJlbmRlcmluZyhkYXRhLCAwKSB8fFxuICAgICAgdmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoZGF0YSwgNCkgfHxcbiAgICAgIHZlcmlmeUJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKGRhdGEsIDgpO1xuICAgIHJlbGVhc2VDYW52YXMoY3R4KTtcbiAgICBjYW52YXNQb29sLnB1c2goY3R4LmNhbnZhcyk7XG4gIH1cblxuICByZXR1cm4gYnJva2VuRGlhZ29uYWxSZW5kZXJpbmdfO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgaWRlYWwgcmVzb2x1dGlvbiB0byB1c2UgZnJvbSB0aGUgc291cmNlIGluIG9yZGVyIHRvIGFjaGlldmVcbiAqIHBpeGVsIG1hcHBpbmcgYXMgY2xvc2UgYXMgcG9zc2libGUgdG8gMToxIGR1cmluZyByZXByb2plY3Rpb24uXG4gKiBUaGUgcmVzb2x1dGlvbiBpcyBjYWxjdWxhdGVkIHJlZ2FyZGxlc3Mgb2Ygd2hhdCByZXNvbHV0aW9uc1xuICogYXJlIGFjdHVhbGx5IGF2YWlsYWJsZSBpbiB0aGUgZGF0YXNldCAoVGlsZUdyaWQsIEltYWdlLCAuLi4pLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlUHJvaiBTb3VyY2UgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gdGFyZ2V0UHJvaiBUYXJnZXQgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHRhcmdldENlbnRlciBUYXJnZXQgY2VudGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldFJlc29sdXRpb24gVGFyZ2V0IHJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBiZXN0IHJlc29sdXRpb24gdG8gdXNlLiBDYW4gYmUgKy1JbmZpbml0eSwgTmFOIG9yIDAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uKFxuICBzb3VyY2VQcm9qLFxuICB0YXJnZXRQcm9qLFxuICB0YXJnZXRDZW50ZXIsXG4gIHRhcmdldFJlc29sdXRpb25cbikge1xuICBjb25zdCBzb3VyY2VDZW50ZXIgPSB0cmFuc2Zvcm0odGFyZ2V0Q2VudGVyLCB0YXJnZXRQcm9qLCBzb3VyY2VQcm9qKTtcblxuICAvLyBjYWxjdWxhdGUgdGhlIGlkZWFsIHJlc29sdXRpb24gb2YgdGhlIHNvdXJjZSBkYXRhXG4gIGxldCBzb3VyY2VSZXNvbHV0aW9uID0gZ2V0UG9pbnRSZXNvbHV0aW9uKFxuICAgIHRhcmdldFByb2osXG4gICAgdGFyZ2V0UmVzb2x1dGlvbixcbiAgICB0YXJnZXRDZW50ZXJcbiAgKTtcblxuICBjb25zdCB0YXJnZXRNZXRlcnNQZXJVbml0ID0gdGFyZ2V0UHJvai5nZXRNZXRlcnNQZXJVbml0KCk7XG4gIGlmICh0YXJnZXRNZXRlcnNQZXJVbml0ICE9PSB1bmRlZmluZWQpIHtcbiAgICBzb3VyY2VSZXNvbHV0aW9uICo9IHRhcmdldE1ldGVyc1BlclVuaXQ7XG4gIH1cbiAgY29uc3Qgc291cmNlTWV0ZXJzUGVyVW5pdCA9IHNvdXJjZVByb2ouZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICBpZiAoc291cmNlTWV0ZXJzUGVyVW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgc291cmNlUmVzb2x1dGlvbiAvPSBzb3VyY2VNZXRlcnNQZXJVbml0O1xuICB9XG5cbiAgLy8gQmFzZWQgb24gdGhlIHByb2plY3Rpb24gcHJvcGVydGllcywgdGhlIHBvaW50IHJlc29sdXRpb24gYXQgdGhlIHNwZWNpZmllZFxuICAvLyBjb29yZGluYXRlcyBtYXkgYmUgc2xpZ2h0bHkgZGlmZmVyZW50LiBXZSBuZWVkIHRvIHJldmVyc2UtY29tcGVuc2F0ZSB0aGlzXG4gIC8vIGluIG9yZGVyIHRvIGFjaGlldmUgb3B0aW1hbCByZXN1bHRzLlxuXG4gIGNvbnN0IHNvdXJjZUV4dGVudCA9IHNvdXJjZVByb2ouZ2V0RXh0ZW50KCk7XG4gIGlmICghc291cmNlRXh0ZW50IHx8IGNvbnRhaW5zQ29vcmRpbmF0ZShzb3VyY2VFeHRlbnQsIHNvdXJjZUNlbnRlcikpIHtcbiAgICBjb25zdCBjb21wZW5zYXRpb25GYWN0b3IgPVxuICAgICAgZ2V0UG9pbnRSZXNvbHV0aW9uKHNvdXJjZVByb2osIHNvdXJjZVJlc29sdXRpb24sIHNvdXJjZUNlbnRlcikgL1xuICAgICAgc291cmNlUmVzb2x1dGlvbjtcbiAgICBpZiAoaXNGaW5pdGUoY29tcGVuc2F0aW9uRmFjdG9yKSAmJiBjb21wZW5zYXRpb25GYWN0b3IgPiAwKSB7XG4gICAgICBzb3VyY2VSZXNvbHV0aW9uIC89IGNvbXBlbnNhdGlvbkZhY3RvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc291cmNlUmVzb2x1dGlvbjtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIGlkZWFsIHJlc29sdXRpb24gdG8gdXNlIGZyb20gdGhlIHNvdXJjZSBpbiBvcmRlciB0byBhY2hpZXZlXG4gKiBwaXhlbCBtYXBwaW5nIGFzIGNsb3NlIGFzIHBvc3NpYmxlIHRvIDE6MSBkdXJpbmcgcmVwcm9qZWN0aW9uLlxuICogVGhlIHJlc29sdXRpb24gaXMgY2FsY3VsYXRlZCByZWdhcmRsZXNzIG9mIHdoYXQgcmVzb2x1dGlvbnNcbiAqIGFyZSBhY3R1YWxseSBhdmFpbGFibGUgaW4gdGhlIGRhdGFzZXQgKFRpbGVHcmlkLCBJbWFnZSwgLi4uKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVByb2ogU291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHRhcmdldFByb2ogVGFyZ2V0IHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gdGFyZ2V0RXh0ZW50IFRhcmdldCBleHRlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRSZXNvbHV0aW9uIFRhcmdldCByZXNvbHV0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgYmVzdCByZXNvbHV0aW9uIHRvIHVzZS4gQ2FuIGJlICstSW5maW5pdHksIE5hTiBvciAwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlU291cmNlRXh0ZW50UmVzb2x1dGlvbihcbiAgc291cmNlUHJvaixcbiAgdGFyZ2V0UHJvaixcbiAgdGFyZ2V0RXh0ZW50LFxuICB0YXJnZXRSZXNvbHV0aW9uXG4pIHtcbiAgY29uc3QgdGFyZ2V0Q2VudGVyID0gZ2V0Q2VudGVyKHRhcmdldEV4dGVudCk7XG4gIGxldCBzb3VyY2VSZXNvbHV0aW9uID0gY2FsY3VsYXRlU291cmNlUmVzb2x1dGlvbihcbiAgICBzb3VyY2VQcm9qLFxuICAgIHRhcmdldFByb2osXG4gICAgdGFyZ2V0Q2VudGVyLFxuICAgIHRhcmdldFJlc29sdXRpb25cbiAgKTtcblxuICBpZiAoIWlzRmluaXRlKHNvdXJjZVJlc29sdXRpb24pIHx8IHNvdXJjZVJlc29sdXRpb24gPD0gMCkge1xuICAgIGZvckVhY2hDb3JuZXIodGFyZ2V0RXh0ZW50LCBmdW5jdGlvbiAoY29ybmVyKSB7XG4gICAgICBzb3VyY2VSZXNvbHV0aW9uID0gY2FsY3VsYXRlU291cmNlUmVzb2x1dGlvbihcbiAgICAgICAgc291cmNlUHJvaixcbiAgICAgICAgdGFyZ2V0UHJvaixcbiAgICAgICAgY29ybmVyLFxuICAgICAgICB0YXJnZXRSZXNvbHV0aW9uXG4gICAgICApO1xuICAgICAgcmV0dXJuIGlzRmluaXRlKHNvdXJjZVJlc29sdXRpb24pICYmIHNvdXJjZVJlc29sdXRpb24gPiAwO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHNvdXJjZVJlc29sdXRpb247XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gSW1hZ2VFeHRlbnRcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHByb3BlcnR5IHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICovXG5cbi8qKlxuICogUmVuZGVycyB0aGUgc291cmNlIGRhdGEgaW50byBuZXcgY2FudmFzIGJhc2VkIG9uIHRoZSB0cmlhbmd1bGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgY2FudmFzLlxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgdGhlIGNhbnZhcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICogQHBhcmFtIHtudW1iZXJ9IHNvdXJjZVJlc29sdXRpb24gU291cmNlIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gc291cmNlRXh0ZW50IEV4dGVudCBvZiB0aGUgZGF0YSBzb3VyY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0UmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSB0YXJnZXRFeHRlbnQgVGFyZ2V0IGV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9yZXByb2ovVHJpYW5ndWxhdGlvbi5qc1wiKS5kZWZhdWx0fSB0cmlhbmd1bGF0aW9uIENhbGN1bGF0ZWQgdHJpYW5ndWxhdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8SW1hZ2VFeHRlbnQ+fSBzb3VyY2VzIEFycmF5IG9mIHNvdXJjZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gZ3V0dGVyIEd1dHRlciBvZiB0aGUgc291cmNlcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbmRlckVkZ2VzXSBSZW5kZXIgcmVwcm9qZWN0aW9uIGVkZ2VzLlxuICogQHBhcmFtIHtib29sZWFufSBbaW50ZXJwb2xhdGVdIFVzZSBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aGVuIHJlc2FtcGxpbmcuXG4gKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQ2FudmFzIHdpdGggcmVwcm9qZWN0ZWQgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihcbiAgd2lkdGgsXG4gIGhlaWdodCxcbiAgcGl4ZWxSYXRpbyxcbiAgc291cmNlUmVzb2x1dGlvbixcbiAgc291cmNlRXh0ZW50LFxuICB0YXJnZXRSZXNvbHV0aW9uLFxuICB0YXJnZXRFeHRlbnQsXG4gIHRyaWFuZ3VsYXRpb24sXG4gIHNvdXJjZXMsXG4gIGd1dHRlcixcbiAgcmVuZGVyRWRnZXMsXG4gIGludGVycG9sYXRlXG4pIHtcbiAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChcbiAgICBNYXRoLnJvdW5kKHBpeGVsUmF0aW8gKiB3aWR0aCksXG4gICAgTWF0aC5yb3VuZChwaXhlbFJhdGlvICogaGVpZ2h0KSxcbiAgICBjYW52YXNQb29sXG4gICk7XG5cbiAgaWYgKCFpbnRlcnBvbGF0ZSkge1xuICAgIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gIH1cblxuICBpZiAoc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gY29udGV4dC5jYW52YXM7XG4gIH1cblxuICBjb250ZXh0LnNjYWxlKHBpeGVsUmF0aW8sIHBpeGVsUmF0aW8pO1xuXG4gIGZ1bmN0aW9uIHBpeGVsUm91bmQodmFsdWUpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIHBpeGVsUmF0aW8pIC8gcGl4ZWxSYXRpbztcbiAgfVxuXG4gIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInO1xuXG4gIGNvbnN0IHNvdXJjZURhdGFFeHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNyYywgaSwgYXJyKSB7XG4gICAgZXh0ZW5kKHNvdXJjZURhdGFFeHRlbnQsIHNyYy5leHRlbnQpO1xuICB9KTtcblxuICBjb25zdCBjYW52YXNXaWR0aEluVW5pdHMgPSBnZXRXaWR0aChzb3VyY2VEYXRhRXh0ZW50KTtcbiAgY29uc3QgY2FudmFzSGVpZ2h0SW5Vbml0cyA9IGdldEhlaWdodChzb3VyY2VEYXRhRXh0ZW50KTtcbiAgY29uc3Qgc3RpdGNoQ29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChcbiAgICBNYXRoLnJvdW5kKChwaXhlbFJhdGlvICogY2FudmFzV2lkdGhJblVuaXRzKSAvIHNvdXJjZVJlc29sdXRpb24pLFxuICAgIE1hdGgucm91bmQoKHBpeGVsUmF0aW8gKiBjYW52YXNIZWlnaHRJblVuaXRzKSAvIHNvdXJjZVJlc29sdXRpb24pLFxuICAgIGNhbnZhc1Bvb2xcbiAgKTtcblxuICBpZiAoIWludGVycG9sYXRlKSB7XG4gICAgc3RpdGNoQ29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHN0aXRjaFNjYWxlID0gcGl4ZWxSYXRpbyAvIHNvdXJjZVJlc29sdXRpb247XG5cbiAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzcmMsIGksIGFycikge1xuICAgIGNvbnN0IHhQb3MgPSBzcmMuZXh0ZW50WzBdIC0gc291cmNlRGF0YUV4dGVudFswXTtcbiAgICBjb25zdCB5UG9zID0gLShzcmMuZXh0ZW50WzNdIC0gc291cmNlRGF0YUV4dGVudFszXSk7XG4gICAgY29uc3Qgc3JjV2lkdGggPSBnZXRXaWR0aChzcmMuZXh0ZW50KTtcbiAgICBjb25zdCBzcmNIZWlnaHQgPSBnZXRIZWlnaHQoc3JjLmV4dGVudCk7XG5cbiAgICAvLyBUaGlzIHRlc3Qgc2hvdWxkIG5ldmVyIGZhaWwgLS0gYnV0IGl0IGRvZXMuIE5lZWQgdG8gZmluZCBhIGZpeCB0aGUgdXBzdHJlYW0gY29uZGl0aW9uXG4gICAgaWYgKHNyYy5pbWFnZS53aWR0aCA+IDAgJiYgc3JjLmltYWdlLmhlaWdodCA+IDApIHtcbiAgICAgIHN0aXRjaENvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICBzcmMuaW1hZ2UsXG4gICAgICAgIGd1dHRlcixcbiAgICAgICAgZ3V0dGVyLFxuICAgICAgICBzcmMuaW1hZ2Uud2lkdGggLSAyICogZ3V0dGVyLFxuICAgICAgICBzcmMuaW1hZ2UuaGVpZ2h0IC0gMiAqIGd1dHRlcixcbiAgICAgICAgeFBvcyAqIHN0aXRjaFNjYWxlLFxuICAgICAgICB5UG9zICogc3RpdGNoU2NhbGUsXG4gICAgICAgIHNyY1dpZHRoICogc3RpdGNoU2NhbGUsXG4gICAgICAgIHNyY0hlaWdodCAqIHN0aXRjaFNjYWxlXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgdGFyZ2V0VG9wTGVmdCA9IGdldFRvcExlZnQodGFyZ2V0RXh0ZW50KTtcblxuICB0cmlhbmd1bGF0aW9uLmdldFRyaWFuZ2xlcygpLmZvckVhY2goZnVuY3Rpb24gKHRyaWFuZ2xlLCBpLCBhcnIpIHtcbiAgICAvKiBDYWxjdWxhdGUgYWZmaW5lIHRyYW5zZm9ybSAoc3JjIC0+IGRzdClcbiAgICAgKiBSZXN1bHRpbmcgbWF0cml4IGNhbiBiZSB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZGluYXRlXG4gICAgICogZnJvbSBgc291cmNlUHJvamVjdGlvbmAgdG8gZGVzdGluYXRpb24gcGl4ZWxzLlxuICAgICAqXG4gICAgICogVG8gb3B0aW1pemUgbnVtYmVyIG9mIGNvbnRleHQgY2FsbHMgYW5kIGluY3JlYXNlIG51bWVyaWNhbCBzdGFiaWxpdHksXG4gICAgICogd2UgYWxzbyBkbyB0aGUgZm9sbG93aW5nIG9wZXJhdGlvbnM6XG4gICAgICogdHJhbnMoLXRvcExlZnRFeHRlbnRDb3JuZXIpLCBzY2FsZSgxIC8gdGFyZ2V0UmVzb2x1dGlvbiksIHNjYWxlKDEsIC0xKVxuICAgICAqIGhlcmUgYmVmb3JlIHNvbHZpbmcgdGhlIGxpbmVhciBzeXN0ZW0gc28gW3VpLCB2aV0gYXJlIHBpeGVsIGNvb3JkaW5hdGVzLlxuICAgICAqXG4gICAgICogU3JjIHBvaW50czogeGksIHlpXG4gICAgICogRHN0IHBvaW50czogdWksIHZpXG4gICAgICogQWZmaW5lIGNvZWZmaWNpZW50czogYWlqXG4gICAgICpcbiAgICAgKiB8IHgwIHkwIDEgIDAgIDAgMCB8ICAgfGEwMHwgICB8dTB8XG4gICAgICogfCB4MSB5MSAxICAwICAwIDAgfCAgIHxhMDF8ICAgfHUxfFxuICAgICAqIHwgeDIgeTIgMSAgMCAgMCAwIHwgeCB8YTAyfCA9IHx1MnxcbiAgICAgKiB8ICAwICAwIDAgeDAgeTAgMSB8ICAgfGExMHwgICB8djB8XG4gICAgICogfCAgMCAgMCAwIHgxIHkxIDEgfCAgIHxhMTF8ICAgfHYxfFxuICAgICAqIHwgIDAgIDAgMCB4MiB5MiAxIHwgICB8YTEyfCAgIHx2MnxcbiAgICAgKi9cbiAgICBjb25zdCBzb3VyY2UgPSB0cmlhbmdsZS5zb3VyY2U7XG4gICAgY29uc3QgdGFyZ2V0ID0gdHJpYW5nbGUudGFyZ2V0O1xuICAgIGxldCB4MCA9IHNvdXJjZVswXVswXSxcbiAgICAgIHkwID0gc291cmNlWzBdWzFdO1xuICAgIGxldCB4MSA9IHNvdXJjZVsxXVswXSxcbiAgICAgIHkxID0gc291cmNlWzFdWzFdO1xuICAgIGxldCB4MiA9IHNvdXJjZVsyXVswXSxcbiAgICAgIHkyID0gc291cmNlWzJdWzFdO1xuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGV2ZXJ5dGhpbmcgaXMgb24gcGl4ZWwgYm91bmRhcmllc1xuICAgIGNvbnN0IHUwID0gcGl4ZWxSb3VuZCgodGFyZ2V0WzBdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICBjb25zdCB2MCA9IHBpeGVsUm91bmQoXG4gICAgICAtKHRhcmdldFswXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvblxuICAgICk7XG4gICAgY29uc3QgdTEgPSBwaXhlbFJvdW5kKCh0YXJnZXRbMV1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb24pO1xuICAgIGNvbnN0IHYxID0gcGl4ZWxSb3VuZChcbiAgICAgIC0odGFyZ2V0WzFdWzFdIC0gdGFyZ2V0VG9wTGVmdFsxXSkgLyB0YXJnZXRSZXNvbHV0aW9uXG4gICAgKTtcbiAgICBjb25zdCB1MiA9IHBpeGVsUm91bmQoKHRhcmdldFsyXVswXSAtIHRhcmdldFRvcExlZnRbMF0pIC8gdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgY29uc3QgdjIgPSBwaXhlbFJvdW5kKFxuICAgICAgLSh0YXJnZXRbMl1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb25cbiAgICApO1xuXG4gICAgLy8gU2hpZnQgYWxsIHRoZSBzb3VyY2UgcG9pbnRzIHRvIGltcHJvdmUgbnVtZXJpY2FsIHN0YWJpbGl0eVxuICAgIC8vIG9mIGFsbCB0aGUgc3Vic2VxdWVudCBjYWxjdWxhdGlvbnMuIFRoZSBbeDAsIHkwXSBpcyB1c2VkIGhlcmUuXG4gICAgLy8gVGhpcyBpcyBhbHNvIHVzZWQgdG8gc2ltcGxpZnkgdGhlIGxpbmVhciBzeXN0ZW0uXG4gICAgY29uc3Qgc291cmNlTnVtZXJpY2FsU2hpZnRYID0geDA7XG4gICAgY29uc3Qgc291cmNlTnVtZXJpY2FsU2hpZnRZID0geTA7XG4gICAgeDAgPSAwO1xuICAgIHkwID0gMDtcbiAgICB4MSAtPSBzb3VyY2VOdW1lcmljYWxTaGlmdFg7XG4gICAgeTEgLT0gc291cmNlTnVtZXJpY2FsU2hpZnRZO1xuICAgIHgyIC09IHNvdXJjZU51bWVyaWNhbFNoaWZ0WDtcbiAgICB5MiAtPSBzb3VyY2VOdW1lcmljYWxTaGlmdFk7XG5cbiAgICBjb25zdCBhdWdtZW50ZWRNYXRyaXggPSBbXG4gICAgICBbeDEsIHkxLCAwLCAwLCB1MSAtIHUwXSxcbiAgICAgIFt4MiwgeTIsIDAsIDAsIHUyIC0gdTBdLFxuICAgICAgWzAsIDAsIHgxLCB5MSwgdjEgLSB2MF0sXG4gICAgICBbMCwgMCwgeDIsIHkyLCB2MiAtIHYwXSxcbiAgICBdO1xuICAgIGNvbnN0IGFmZmluZUNvZWZzID0gc29sdmVMaW5lYXJTeXN0ZW0oYXVnbWVudGVkTWF0cml4KTtcbiAgICBpZiAoIWFmZmluZUNvZWZzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgIGlmIChpc0Jyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKCkgfHwgIWludGVycG9sYXRlKSB7XG4gICAgICAvLyBNYWtlIHN1cmUgdGhhdCBhbGwgbGluZXMgYXJlIGhvcml6b250YWwgb3IgdmVydGljYWxcbiAgICAgIGNvbnRleHQubW92ZVRvKHUxLCB2MSk7XG4gICAgICAvLyBUaGlzIGlzIHRoZSBkaWFnb25hbCBsaW5lLiBEbyBpdCBpbiA0IHN0ZXBzXG4gICAgICBjb25zdCBzdGVwcyA9IDQ7XG4gICAgICBjb25zdCB1ZCA9IHUwIC0gdTE7XG4gICAgICBjb25zdCB2ZCA9IHYwIC0gdjE7XG4gICAgICBmb3IgKGxldCBzdGVwID0gMDsgc3RlcCA8IHN0ZXBzOyBzdGVwKyspIHtcbiAgICAgICAgLy8gR28gaG9yaXpvbnRhbGx5XG4gICAgICAgIGNvbnRleHQubGluZVRvKFxuICAgICAgICAgIHUxICsgcGl4ZWxSb3VuZCgoKHN0ZXAgKyAxKSAqIHVkKSAvIHN0ZXBzKSxcbiAgICAgICAgICB2MSArIHBpeGVsUm91bmQoKHN0ZXAgKiB2ZCkgLyAoc3RlcHMgLSAxKSlcbiAgICAgICAgKTtcbiAgICAgICAgLy8gR28gdmVydGljYWxseVxuICAgICAgICBpZiAoc3RlcCAhPSBzdGVwcyAtIDEpIHtcbiAgICAgICAgICBjb250ZXh0LmxpbmVUbyhcbiAgICAgICAgICAgIHUxICsgcGl4ZWxSb3VuZCgoKHN0ZXAgKyAxKSAqIHVkKSAvIHN0ZXBzKSxcbiAgICAgICAgICAgIHYxICsgcGl4ZWxSb3VuZCgoKHN0ZXAgKyAxKSAqIHZkKSAvIChzdGVwcyAtIDEpKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFdlIGFyZSBhbG1vc3QgYXQgdTByLCB2MHJcbiAgICAgIGNvbnRleHQubGluZVRvKHUyLCB2Mik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQubW92ZVRvKHUxLCB2MSk7XG4gICAgICBjb250ZXh0LmxpbmVUbyh1MCwgdjApO1xuICAgICAgY29udGV4dC5saW5lVG8odTIsIHYyKTtcbiAgICB9XG5cbiAgICBjb250ZXh0LmNsaXAoKTtcblxuICAgIGNvbnRleHQudHJhbnNmb3JtKFxuICAgICAgYWZmaW5lQ29lZnNbMF0sXG4gICAgICBhZmZpbmVDb2Vmc1syXSxcbiAgICAgIGFmZmluZUNvZWZzWzFdLFxuICAgICAgYWZmaW5lQ29lZnNbM10sXG4gICAgICB1MCxcbiAgICAgIHYwXG4gICAgKTtcblxuICAgIGNvbnRleHQudHJhbnNsYXRlKFxuICAgICAgc291cmNlRGF0YUV4dGVudFswXSAtIHNvdXJjZU51bWVyaWNhbFNoaWZ0WCxcbiAgICAgIHNvdXJjZURhdGFFeHRlbnRbM10gLSBzb3VyY2VOdW1lcmljYWxTaGlmdFlcbiAgICApO1xuXG4gICAgY29udGV4dC5zY2FsZShcbiAgICAgIHNvdXJjZVJlc29sdXRpb24gLyBwaXhlbFJhdGlvLFxuICAgICAgLXNvdXJjZVJlc29sdXRpb24gLyBwaXhlbFJhdGlvXG4gICAgKTtcblxuICAgIGNvbnRleHQuZHJhd0ltYWdlKHN0aXRjaENvbnRleHQuY2FudmFzLCAwLCAwKTtcbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgfSk7XG5cbiAgcmVsZWFzZUNhbnZhcyhzdGl0Y2hDb250ZXh0KTtcbiAgY2FudmFzUG9vbC5wdXNoKHN0aXRjaENvbnRleHQuY2FudmFzKTtcblxuICBpZiAocmVuZGVyRWRnZXMpIHtcbiAgICBjb250ZXh0LnNhdmUoKTtcblxuICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcbiAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7XG5cbiAgICB0cmlhbmd1bGF0aW9uLmdldFRyaWFuZ2xlcygpLmZvckVhY2goZnVuY3Rpb24gKHRyaWFuZ2xlLCBpLCBhcnIpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRyaWFuZ2xlLnRhcmdldDtcbiAgICAgIGNvbnN0IHUwID0gKHRhcmdldFswXVswXSAtIHRhcmdldFRvcExlZnRbMF0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgIGNvbnN0IHYwID0gLSh0YXJnZXRbMF1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICBjb25zdCB1MSA9ICh0YXJnZXRbMV1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICBjb25zdCB2MSA9IC0odGFyZ2V0WzFdWzFdIC0gdGFyZ2V0VG9wTGVmdFsxXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgY29uc3QgdTIgPSAodGFyZ2V0WzJdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgY29uc3QgdjIgPSAtKHRhcmdldFsyXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcblxuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIGNvbnRleHQubW92ZVRvKHUxLCB2MSk7XG4gICAgICBjb250ZXh0LmxpbmVUbyh1MCwgdjApO1xuICAgICAgY29udGV4dC5saW5lVG8odTIsIHYyKTtcbiAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgIH0pO1xuXG4gICAgY29udGV4dC5yZXN0b3JlKCk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQuY2FudmFzO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvai9UaWxlXG4gKi9cbmltcG9ydCB7RVJST1JfVEhSRVNIT0xEfSBmcm9tICcuL2NvbW1vbi5qcyc7XG5cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGlsZSBmcm9tICcuLi9UaWxlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCBUcmlhbmd1bGF0aW9uIGZyb20gJy4vVHJpYW5ndWxhdGlvbi5qcyc7XG5pbXBvcnQge1xuICBjYWxjdWxhdGVTb3VyY2VFeHRlbnRSZXNvbHV0aW9uLFxuICBjYW52YXNQb29sLFxuICByZW5kZXIgYXMgcmVuZGVyUmVwcm9qZWN0ZWQsXG59IGZyb20gJy4uL3JlcHJvai5qcyc7XG5pbXBvcnQge2NsYW1wfSBmcm9tICcuLi9tYXRoLmpzJztcbmltcG9ydCB7Z2V0QXJlYSwgZ2V0SW50ZXJzZWN0aW9ufSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXl9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQge3JlbGVhc2VDYW52YXN9IGZyb20gJy4uL2RvbS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcikgOiAoaW1wb3J0KFwiLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHQpfSBGdW5jdGlvblR5cGVcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENsYXNzIGVuY2Fwc3VsYXRpbmcgc2luZ2xlIHJlcHJvamVjdGVkIHRpbGUuXG4gKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZUltYWdlflRpbGVJbWFnZX0uXG4gKlxuICovXG5jbGFzcyBSZXByb2pUaWxlIGV4dGVuZHMgVGlsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2VQcm9qIFNvdXJjZSBwcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVRpbGVHcmlkIFNvdXJjZSB0aWxlIGdyaWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHRhcmdldFByb2ogVGFyZ2V0IHByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGFyZ2V0VGlsZUdyaWQgVGFyZ2V0IHRpbGUgZ3JpZC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgQ29vcmRpbmF0ZSBvZiB0aGUgdGlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB3cmFwcGVkVGlsZUNvb3JkIENvb3JkaW5hdGUgb2YgdGhlIHRpbGUgd3JhcHBlZCBpbiBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGd1dHRlciBHdXR0ZXIgb2YgdGhlIHNvdXJjZSB0aWxlcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvblR5cGV9IGdldFRpbGVGdW5jdGlvblxuICAgKiAgICAgRnVuY3Rpb24gcmV0dXJuaW5nIHNvdXJjZSB0aWxlcyAoeiwgeCwgeSwgcGl4ZWxSYXRpbykuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZXJyb3JUaHJlc2hvbGRdIEFjY2VwdGFibGUgcmVwcm9qZWN0aW9uIGVycm9yIChpbiBweCkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbmRlckVkZ2VzXSBSZW5kZXIgcmVwcm9qZWN0aW9uIGVkZ2VzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnRlcnBvbGF0ZV0gVXNlIGxpbmVhciBpbnRlcnBvbGF0aW9uIHdoZW4gcmVzYW1wbGluZy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNvdXJjZVByb2osXG4gICAgc291cmNlVGlsZUdyaWQsXG4gICAgdGFyZ2V0UHJvaixcbiAgICB0YXJnZXRUaWxlR3JpZCxcbiAgICB0aWxlQ29vcmQsXG4gICAgd3JhcHBlZFRpbGVDb29yZCxcbiAgICBwaXhlbFJhdGlvLFxuICAgIGd1dHRlcixcbiAgICBnZXRUaWxlRnVuY3Rpb24sXG4gICAgZXJyb3JUaHJlc2hvbGQsXG4gICAgcmVuZGVyRWRnZXMsXG4gICAgaW50ZXJwb2xhdGVcbiAgKSB7XG4gICAgc3VwZXIodGlsZUNvb3JkLCBUaWxlU3RhdGUuSURMRSwge2ludGVycG9sYXRlOiAhIWludGVycG9sYXRlfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyRWRnZXNfID0gcmVuZGVyRWRnZXMgIT09IHVuZGVmaW5lZCA/IHJlbmRlckVkZ2VzIDogZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5ndXR0ZXJfID0gZ3V0dGVyO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5jYW52YXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5zb3VyY2VUaWxlR3JpZF8gPSBzb3VyY2VUaWxlR3JpZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy50YXJnZXRUaWxlR3JpZF8gPSB0YXJnZXRUaWxlR3JpZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9XG4gICAgICovXG4gICAgdGhpcy53cmFwcGVkVGlsZUNvb3JkXyA9IHdyYXBwZWRUaWxlQ29vcmQgPyB3cmFwcGVkVGlsZUNvb3JkIDogdGlsZUNvb3JkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uL0ltYWdlVGlsZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZVRpbGVzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P0FycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlWl8gPSAwO1xuXG4gICAgY29uc3QgdGFyZ2V0RXh0ZW50ID0gdGFyZ2V0VGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KFxuICAgICAgdGhpcy53cmFwcGVkVGlsZUNvb3JkX1xuICAgICk7XG4gICAgY29uc3QgbWF4VGFyZ2V0RXh0ZW50ID0gdGhpcy50YXJnZXRUaWxlR3JpZF8uZ2V0RXh0ZW50KCk7XG4gICAgbGV0IG1heFNvdXJjZUV4dGVudCA9IHRoaXMuc291cmNlVGlsZUdyaWRfLmdldEV4dGVudCgpO1xuXG4gICAgY29uc3QgbGltaXRlZFRhcmdldEV4dGVudCA9IG1heFRhcmdldEV4dGVudFxuICAgICAgPyBnZXRJbnRlcnNlY3Rpb24odGFyZ2V0RXh0ZW50LCBtYXhUYXJnZXRFeHRlbnQpXG4gICAgICA6IHRhcmdldEV4dGVudDtcblxuICAgIGlmIChnZXRBcmVhKGxpbWl0ZWRUYXJnZXRFeHRlbnQpID09PSAwKSB7XG4gICAgICAvLyBUaWxlIGlzIGNvbXBsZXRlbHkgb3V0c2lkZSByYW5nZSAtPiBFTVBUWVxuICAgICAgLy8gVE9ETzogaXMgaXQgYWN0dWFsbHkgY29ycmVjdCB0aGF0IHRoZSBzb3VyY2UgZXZlbiBjcmVhdGVzIHRoZSB0aWxlID9cbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRU1QVFk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc291cmNlUHJvakV4dGVudCA9IHNvdXJjZVByb2ouZ2V0RXh0ZW50KCk7XG4gICAgaWYgKHNvdXJjZVByb2pFeHRlbnQpIHtcbiAgICAgIGlmICghbWF4U291cmNlRXh0ZW50KSB7XG4gICAgICAgIG1heFNvdXJjZUV4dGVudCA9IHNvdXJjZVByb2pFeHRlbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXhTb3VyY2VFeHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24obWF4U291cmNlRXh0ZW50LCBzb3VyY2VQcm9qRXh0ZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXRSZXNvbHV0aW9uID0gdGFyZ2V0VGlsZUdyaWQuZ2V0UmVzb2x1dGlvbihcbiAgICAgIHRoaXMud3JhcHBlZFRpbGVDb29yZF9bMF1cbiAgICApO1xuXG4gICAgY29uc3Qgc291cmNlUmVzb2x1dGlvbiA9IGNhbGN1bGF0ZVNvdXJjZUV4dGVudFJlc29sdXRpb24oXG4gICAgICBzb3VyY2VQcm9qLFxuICAgICAgdGFyZ2V0UHJvaixcbiAgICAgIGxpbWl0ZWRUYXJnZXRFeHRlbnQsXG4gICAgICB0YXJnZXRSZXNvbHV0aW9uXG4gICAgKTtcblxuICAgIGlmICghaXNGaW5pdGUoc291cmNlUmVzb2x1dGlvbikgfHwgc291cmNlUmVzb2x1dGlvbiA8PSAwKSB7XG4gICAgICAvLyBpbnZhbGlkIHNvdXJjZVJlc29sdXRpb24gLT4gRU1QVFlcbiAgICAgIC8vIHByb2JhYmx5IGVkZ2VzIG9mIHRoZSBwcm9qZWN0aW9ucyB3aGVuIG5vIGV4dGVudCBpcyBkZWZpbmVkXG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9yVGhyZXNob2xkSW5QaXhlbHMgPVxuICAgICAgZXJyb3JUaHJlc2hvbGQgIT09IHVuZGVmaW5lZCA/IGVycm9yVGhyZXNob2xkIDogRVJST1JfVEhSRVNIT0xEO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IWltcG9ydChcIi4vVHJpYW5ndWxhdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMudHJpYW5ndWxhdGlvbl8gPSBuZXcgVHJpYW5ndWxhdGlvbihcbiAgICAgIHNvdXJjZVByb2osXG4gICAgICB0YXJnZXRQcm9qLFxuICAgICAgbGltaXRlZFRhcmdldEV4dGVudCxcbiAgICAgIG1heFNvdXJjZUV4dGVudCxcbiAgICAgIHNvdXJjZVJlc29sdXRpb24gKiBlcnJvclRocmVzaG9sZEluUGl4ZWxzLFxuICAgICAgdGFyZ2V0UmVzb2x1dGlvblxuICAgICk7XG5cbiAgICBpZiAodGhpcy50cmlhbmd1bGF0aW9uXy5nZXRUcmlhbmdsZXMoKS5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIG5vIHZhbGlkIHRyaWFuZ2xlcyAtPiBFTVBUWVxuICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNvdXJjZVpfID0gc291cmNlVGlsZUdyaWQuZ2V0WkZvclJlc29sdXRpb24oc291cmNlUmVzb2x1dGlvbik7XG4gICAgbGV0IHNvdXJjZUV4dGVudCA9IHRoaXMudHJpYW5ndWxhdGlvbl8uY2FsY3VsYXRlU291cmNlRXh0ZW50KCk7XG5cbiAgICBpZiAobWF4U291cmNlRXh0ZW50KSB7XG4gICAgICBpZiAoc291cmNlUHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICAgIHNvdXJjZUV4dGVudFsxXSA9IGNsYW1wKFxuICAgICAgICAgIHNvdXJjZUV4dGVudFsxXSxcbiAgICAgICAgICBtYXhTb3VyY2VFeHRlbnRbMV0sXG4gICAgICAgICAgbWF4U291cmNlRXh0ZW50WzNdXG4gICAgICAgICk7XG4gICAgICAgIHNvdXJjZUV4dGVudFszXSA9IGNsYW1wKFxuICAgICAgICAgIHNvdXJjZUV4dGVudFszXSxcbiAgICAgICAgICBtYXhTb3VyY2VFeHRlbnRbMV0sXG4gICAgICAgICAgbWF4U291cmNlRXh0ZW50WzNdXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VyY2VFeHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24oc291cmNlRXh0ZW50LCBtYXhTb3VyY2VFeHRlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZ2V0QXJlYShzb3VyY2VFeHRlbnQpKSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzb3VyY2VSYW5nZSA9IHNvdXJjZVRpbGVHcmlkLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooXG4gICAgICAgIHNvdXJjZUV4dGVudCxcbiAgICAgICAgdGhpcy5zb3VyY2VaX1xuICAgICAgKTtcblxuICAgICAgZm9yIChsZXQgc3JjWCA9IHNvdXJjZVJhbmdlLm1pblg7IHNyY1ggPD0gc291cmNlUmFuZ2UubWF4WDsgc3JjWCsrKSB7XG4gICAgICAgIGZvciAobGV0IHNyY1kgPSBzb3VyY2VSYW5nZS5taW5ZOyBzcmNZIDw9IHNvdXJjZVJhbmdlLm1heFk7IHNyY1krKykge1xuICAgICAgICAgIGNvbnN0IHRpbGUgPSBnZXRUaWxlRnVuY3Rpb24odGhpcy5zb3VyY2VaXywgc3JjWCwgc3JjWSwgcGl4ZWxSYXRpbyk7XG4gICAgICAgICAgaWYgKHRpbGUpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlVGlsZXNfLnB1c2godGlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNvdXJjZVRpbGVzXy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBIVE1MIENhbnZhcyBlbGVtZW50IGZvciB0aGlzIHRpbGUuXG4gICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBDYW52YXMuXG4gICAqL1xuICBnZXRJbWFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jYW52YXNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXByb2plY3RfKCkge1xuICAgIGNvbnN0IHNvdXJjZXMgPSBbXTtcbiAgICB0aGlzLnNvdXJjZVRpbGVzXy5mb3JFYWNoKCh0aWxlKSA9PiB7XG4gICAgICBpZiAodGlsZSAmJiB0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICBzb3VyY2VzLnB1c2goe1xuICAgICAgICAgIGV4dGVudDogdGhpcy5zb3VyY2VUaWxlR3JpZF8uZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGUudGlsZUNvb3JkKSxcbiAgICAgICAgICBpbWFnZTogdGlsZS5nZXRJbWFnZSgpLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnNvdXJjZVRpbGVzXy5sZW5ndGggPSAwO1xuXG4gICAgaWYgKHNvdXJjZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVSUk9SO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB6ID0gdGhpcy53cmFwcGVkVGlsZUNvb3JkX1swXTtcbiAgICAgIGNvbnN0IHNpemUgPSB0aGlzLnRhcmdldFRpbGVHcmlkXy5nZXRUaWxlU2l6ZSh6KTtcbiAgICAgIGNvbnN0IHdpZHRoID0gdHlwZW9mIHNpemUgPT09ICdudW1iZXInID8gc2l6ZSA6IHNpemVbMF07XG4gICAgICBjb25zdCBoZWlnaHQgPSB0eXBlb2Ygc2l6ZSA9PT0gJ251bWJlcicgPyBzaXplIDogc2l6ZVsxXTtcbiAgICAgIGNvbnN0IHRhcmdldFJlc29sdXRpb24gPSB0aGlzLnRhcmdldFRpbGVHcmlkXy5nZXRSZXNvbHV0aW9uKHopO1xuICAgICAgY29uc3Qgc291cmNlUmVzb2x1dGlvbiA9IHRoaXMuc291cmNlVGlsZUdyaWRfLmdldFJlc29sdXRpb24oXG4gICAgICAgIHRoaXMuc291cmNlWl9cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHRhcmdldEV4dGVudCA9IHRoaXMudGFyZ2V0VGlsZUdyaWRfLmdldFRpbGVDb29yZEV4dGVudChcbiAgICAgICAgdGhpcy53cmFwcGVkVGlsZUNvb3JkX1xuICAgICAgKTtcblxuICAgICAgdGhpcy5jYW52YXNfID0gcmVuZGVyUmVwcm9qZWN0ZWQoXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIHRoaXMucGl4ZWxSYXRpb18sXG4gICAgICAgIHNvdXJjZVJlc29sdXRpb24sXG4gICAgICAgIHRoaXMuc291cmNlVGlsZUdyaWRfLmdldEV4dGVudCgpLFxuICAgICAgICB0YXJnZXRSZXNvbHV0aW9uLFxuICAgICAgICB0YXJnZXRFeHRlbnQsXG4gICAgICAgIHRoaXMudHJpYW5ndWxhdGlvbl8sXG4gICAgICAgIHNvdXJjZXMsXG4gICAgICAgIHRoaXMuZ3V0dGVyXyxcbiAgICAgICAgdGhpcy5yZW5kZXJFZGdlc18sXG4gICAgICAgIHRoaXMuaW50ZXJwb2xhdGVcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuTE9BREVEO1xuICAgIH1cbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICovXG4gIGxvYWQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuTE9BRElORztcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuXG4gICAgICBsZXQgbGVmdFRvTG9hZCA9IDA7XG5cbiAgICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18gPSBbXTtcbiAgICAgIHRoaXMuc291cmNlVGlsZXNfLmZvckVhY2goKHRpbGUpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgIGlmIChzdGF0ZSA9PSBUaWxlU3RhdGUuSURMRSB8fCBzdGF0ZSA9PSBUaWxlU3RhdGUuTE9BRElORykge1xuICAgICAgICAgIGxlZnRUb0xvYWQrKztcblxuICAgICAgICAgIGNvbnN0IHNvdXJjZUxpc3RlbktleSA9IGxpc3RlbihcbiAgICAgICAgICAgIHRpbGUsXG4gICAgICAgICAgICBFdmVudFR5cGUuQ0hBTkdFLFxuICAgICAgICAgICAgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzdGF0ZSA9PSBUaWxlU3RhdGUuTE9BREVEIHx8XG4gICAgICAgICAgICAgICAgc3RhdGUgPT0gVGlsZVN0YXRlLkVSUk9SIHx8XG4gICAgICAgICAgICAgICAgc3RhdGUgPT0gVGlsZVN0YXRlLkVNUFRZXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHVubGlzdGVuQnlLZXkoc291cmNlTGlzdGVuS2V5KTtcbiAgICAgICAgICAgICAgICBsZWZ0VG9Mb2FkLS07XG4gICAgICAgICAgICAgICAgaWYgKGxlZnRUb0xvYWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMudW5saXN0ZW5Tb3VyY2VzXygpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5yZXByb2plY3RfKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5zb3VyY2VzTGlzdGVuZXJLZXlzXy5wdXNoKHNvdXJjZUxpc3RlbktleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAobGVmdFRvTG9hZCA9PT0gMCkge1xuICAgICAgICBzZXRUaW1lb3V0KHRoaXMucmVwcm9qZWN0Xy5iaW5kKHRoaXMpLCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc291cmNlVGlsZXNfLmZvckVhY2goZnVuY3Rpb24gKHRpbGUsIGksIGFycikge1xuICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgIGlmIChzdGF0ZSA9PSBUaWxlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGlsZS5sb2FkKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHVubGlzdGVuU291cmNlc18oKSB7XG4gICAgdGhpcy5zb3VyY2VzTGlzdGVuZXJLZXlzXy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBmcm9tIHRoZSBjYWNoZSBkdWUgdG8gZXhwaXJ5XG4gICAqL1xuICByZWxlYXNlKCkge1xuICAgIGlmICh0aGlzLmNhbnZhc18pIHtcbiAgICAgIHJlbGVhc2VDYW52YXModGhpcy5jYW52YXNfLmdldENvbnRleHQoJzJkJykpO1xuICAgICAgY2FudmFzUG9vbC5wdXNoKHRoaXMuY2FudmFzXyk7XG4gICAgICB0aGlzLmNhbnZhc18gPSBudWxsO1xuICAgIH1cbiAgICBzdXBlci5yZWxlYXNlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVwcm9qVGlsZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZXByb2ovY29tbW9uXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IG1heGltdW0gYWxsb3dlZCB0aHJlc2hvbGQgIChpbiBwaXhlbHMpIGZvciByZXByb2plY3Rpb25cbiAqIHRyaWFuZ3VsYXRpb24uXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgRVJST1JfVEhSRVNIT0xEID0gMC41O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvai9Ucmlhbmd1bGF0aW9uXG4gKi9cbmltcG9ydCB7XG4gIGJvdW5kaW5nRXh0ZW50LFxuICBjcmVhdGVFbXB0eSxcbiAgZXh0ZW5kQ29vcmRpbmF0ZSxcbiAgZ2V0QXJlYSxcbiAgZ2V0Qm90dG9tTGVmdCxcbiAgZ2V0Qm90dG9tUmlnaHQsXG4gIGdldFRvcExlZnQsXG4gIGdldFRvcFJpZ2h0LFxuICBnZXRXaWR0aCxcbiAgaW50ZXJzZWN0cyxcbn0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7Z2V0VHJhbnNmb3JtfSBmcm9tICcuLi9wcm9qLmpzJztcbmltcG9ydCB7bW9kdWxvfSBmcm9tICcuLi9tYXRoLmpzJztcblxuLyoqXG4gKiBTaW5nbGUgdHJpYW5nbGU7IGNvbnNpc3RzIG9mIDMgc291cmNlIHBvaW50cyBhbmQgMyB0YXJnZXQgcG9pbnRzLlxuICogQHR5cGVkZWYge09iamVjdH0gVHJpYW5nbGVcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gc291cmNlIFNvdXJjZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gdGFyZ2V0IFRhcmdldC5cbiAqL1xuXG4vKipcbiAqIE1heGltdW0gbnVtYmVyIG9mIHN1YmRpdmlzaW9uIHN0ZXBzIGR1cmluZyByYXN0ZXIgcmVwcm9qZWN0aW9uIHRyaWFuZ3VsYXRpb24uXG4gKiBQcmV2ZW50cyBoaWdoIG1lbW9yeSB1c2FnZSBhbmQgbGFyZ2UgbnVtYmVyIG9mIHByb2o0IGNhbGxzIChmb3IgY2VydGFpblxuICogdHJhbnNmb3JtYXRpb25zIGFuZCBhcmVhcykuIEF0IG1vc3QgYDIqKDJedGhpcylgIHRyaWFuZ2xlcyBhcmUgY3JlYXRlZCBmb3JcbiAqIGVhY2ggdHJpYW5ndWxhdGVkIGV4dGVudCAodGlsZS9pbWFnZSkuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5jb25zdCBNQVhfU1VCRElWSVNJT04gPSAxMDtcblxuLyoqXG4gKiBNYXhpbXVtIGFsbG93ZWQgc2l6ZSBvZiB0cmlhbmdsZSByZWxhdGl2ZSB0byB3b3JsZCB3aWR0aC4gV2hlbiB0cmFuc2Zvcm1pbmdcbiAqIGNvcm5lcnMgb2Ygd29ybGQgZXh0ZW50IGJldHdlZW4gY2VydGFpbiBwcm9qZWN0aW9ucywgdGhlIHJlc3VsdGluZ1xuICogdHJpYW5ndWxhdGlvbiBzZWVtcyB0byBoYXZlIHplcm8gZXJyb3IgYW5kIG5vIHN1YmRpdmlzaW9uIGlzIHBlcmZvcm1lZC4gSWZcbiAqIHRoZSB0cmlhbmdsZSB3aWR0aCBpcyBtb3JlIHRoYW4gdGhpcyAocmVsYXRpdmUgdG8gd29ybGQgd2lkdGg7IDAtMSksXG4gKiBzdWJkaXZpc29uIGlzIGZvcmNlZCAodXAgdG8gYE1BWF9TVUJESVZJU0lPTmApLiBEZWZhdWx0IGlzIGAwLjI1YC5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmNvbnN0IE1BWF9UUklBTkdMRV9XSURUSCA9IDAuMjU7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2xhc3MgY29udGFpbmluZyB0cmlhbmd1bGF0aW9uIG9mIHRoZSBnaXZlbiB0YXJnZXQgZXh0ZW50LlxuICogVXNlZCBmb3IgZGV0ZXJtaW5pbmcgc291cmNlIGRhdGEgYW5kIHRoZSByZXByb2plY3Rpb24gaXRzZWxmLlxuICovXG5jbGFzcyBUcmlhbmd1bGF0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVByb2ogU291cmNlIHByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHRhcmdldFByb2ogVGFyZ2V0IHByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gdGFyZ2V0RXh0ZW50IFRhcmdldCBleHRlbnQgdG8gdHJpYW5ndWxhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4U291cmNlRXh0ZW50IE1heGltYWwgc291cmNlIGV4dGVudCB0aGF0IGNhbiBiZSB1c2VkLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZXJyb3JUaHJlc2hvbGQgQWNjZXB0YWJsZSBlcnJvciAoaW4gc291cmNlIHVuaXRzKS5cbiAgICogQHBhcmFtIHs/bnVtYmVyfSBkZXN0aW5hdGlvblJlc29sdXRpb24gVGhlIChvcHRpb25hbCkgcmVzb2x1dGlvbiBvZiB0aGUgZGVzdGluYXRpb24uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBzb3VyY2VQcm9qLFxuICAgIHRhcmdldFByb2osXG4gICAgdGFyZ2V0RXh0ZW50LFxuICAgIG1heFNvdXJjZUV4dGVudCxcbiAgICBlcnJvclRocmVzaG9sZCxcbiAgICBkZXN0aW5hdGlvblJlc29sdXRpb25cbiAgKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zb3VyY2VQcm9qXyA9IHNvdXJjZVByb2o7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldFByb2pfID0gdGFyZ2V0UHJvajtcblxuICAgIC8qKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59ICovXG4gICAgbGV0IHRyYW5zZm9ybUludkNhY2hlID0ge307XG4gICAgY29uc3QgdHJhbnNmb3JtSW52ID0gZ2V0VHJhbnNmb3JtKHRoaXMudGFyZ2V0UHJval8sIHRoaXMuc291cmNlUHJval8pO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGMgQSBjb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudHJhbnNmb3JtSW52XyA9IGZ1bmN0aW9uIChjKSB7XG4gICAgICBjb25zdCBrZXkgPSBjWzBdICsgJy8nICsgY1sxXTtcbiAgICAgIGlmICghdHJhbnNmb3JtSW52Q2FjaGVba2V5XSkge1xuICAgICAgICB0cmFuc2Zvcm1JbnZDYWNoZVtrZXldID0gdHJhbnNmb3JtSW52KGMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyYW5zZm9ybUludkNhY2hlW2tleV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5tYXhTb3VyY2VFeHRlbnRfID0gbWF4U291cmNlRXh0ZW50O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZXJyb3JUaHJlc2hvbGRTcXVhcmVkXyA9IGVycm9yVGhyZXNob2xkICogZXJyb3JUaHJlc2hvbGQ7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8VHJpYW5nbGU+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy50cmlhbmdsZXNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgdHJpYW5ndWxhdGlvbiBjcm9zc2VzIGVkZ2Ugb2YgdGhlIHNvdXJjZSBwcm9qZWN0aW9uLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy53cmFwc1hJblNvdXJjZV8gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5jYW5XcmFwWEluU291cmNlXyA9XG4gICAgICB0aGlzLnNvdXJjZVByb2pfLmNhbldyYXBYKCkgJiZcbiAgICAgICEhbWF4U291cmNlRXh0ZW50ICYmXG4gICAgICAhIXRoaXMuc291cmNlUHJval8uZ2V0RXh0ZW50KCkgJiZcbiAgICAgIGdldFdpZHRoKG1heFNvdXJjZUV4dGVudCkgPT0gZ2V0V2lkdGgodGhpcy5zb3VyY2VQcm9qXy5nZXRFeHRlbnQoKSk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlV29ybGRXaWR0aF8gPSB0aGlzLnNvdXJjZVByb2pfLmdldEV4dGVudCgpXG4gICAgICA/IGdldFdpZHRoKHRoaXMuc291cmNlUHJval8uZ2V0RXh0ZW50KCkpXG4gICAgICA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0V29ybGRXaWR0aF8gPSB0aGlzLnRhcmdldFByb2pfLmdldEV4dGVudCgpXG4gICAgICA/IGdldFdpZHRoKHRoaXMudGFyZ2V0UHJval8uZ2V0RXh0ZW50KCkpXG4gICAgICA6IG51bGw7XG5cbiAgICBjb25zdCBkZXN0aW5hdGlvblRvcExlZnQgPSBnZXRUb3BMZWZ0KHRhcmdldEV4dGVudCk7XG4gICAgY29uc3QgZGVzdGluYXRpb25Ub3BSaWdodCA9IGdldFRvcFJpZ2h0KHRhcmdldEV4dGVudCk7XG4gICAgY29uc3QgZGVzdGluYXRpb25Cb3R0b21SaWdodCA9IGdldEJvdHRvbVJpZ2h0KHRhcmdldEV4dGVudCk7XG4gICAgY29uc3QgZGVzdGluYXRpb25Cb3R0b21MZWZ0ID0gZ2V0Qm90dG9tTGVmdCh0YXJnZXRFeHRlbnQpO1xuICAgIGNvbnN0IHNvdXJjZVRvcExlZnQgPSB0aGlzLnRyYW5zZm9ybUludl8oZGVzdGluYXRpb25Ub3BMZWZ0KTtcbiAgICBjb25zdCBzb3VyY2VUb3BSaWdodCA9IHRoaXMudHJhbnNmb3JtSW52XyhkZXN0aW5hdGlvblRvcFJpZ2h0KTtcbiAgICBjb25zdCBzb3VyY2VCb3R0b21SaWdodCA9IHRoaXMudHJhbnNmb3JtSW52XyhkZXN0aW5hdGlvbkJvdHRvbVJpZ2h0KTtcbiAgICBjb25zdCBzb3VyY2VCb3R0b21MZWZ0ID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRlc3RpbmF0aW9uQm90dG9tTGVmdCk7XG5cbiAgICAvKlxuICAgICAqIFRoZSBtYXhTdWJkaXZpc2lvbiBjb250cm9scyBob3cgbWFueSBzcGxpdHRpbmdzIG9mIHRoZSB0YXJnZXQgYXJlYSBjYW5cbiAgICAgKiBiZSBkb25lLiBUaGUgaWRlYSBoZXJlIGlzIHRvIGRvIGEgbGluZWFyIG1hcHBpbmcgb2YgdGhlIHRhcmdldCBhcmVhc1xuICAgICAqIGJ1dCB0aGUgYWN0dWFsIG92ZXJhbCByZXByb2plY3Rpb24gKGNhbiBiZSkgZXh0cmVtZWx5IG5vbi1saW5lYXIuIFRoZVxuICAgICAqIGRlZmF1bHQgdmFsdWUgb2YgTUFYX1NVQkRJVklTSU9OIHdhcyBjaG9zZW4gYmFzZWQgb24gbWFwcGluZyBhIDI1NngyNTZcbiAgICAgKiB0aWxlIHNpemUuIEhvd2V2ZXIgdGhpcyBmdW5jdGlvbiBpcyBhbHNvIGNhbGxlZCB0byByZW1hcCBjYW52YXMgcmVuZGVyZWRcbiAgICAgKiBsYXllcnMgd2hpY2ggY2FuIGJlIG11Y2ggbGFyZ2VyLiBUaGlzIGNhbGN1bGF0aW9uIGluY3JlYXNlcyB0aGUgbWF4U3ViZGl2aXNpb25cbiAgICAgKiB2YWx1ZSBieSB0aGUgcmlnaHQgZmFjdG9yIHNvIHRoYXQgZWFjaCAyNTZ4MjU2IHBpeGVsIGFyZWEgaGFzXG4gICAgICogTUFYX1NVQkRJVklTSU9OIGRpdmlzaW9ucy5cbiAgICAgKi9cbiAgICBjb25zdCBtYXhTdWJkaXZpc2lvbiA9XG4gICAgICBNQVhfU1VCRElWSVNJT04gK1xuICAgICAgKGRlc3RpbmF0aW9uUmVzb2x1dGlvblxuICAgICAgICA/IE1hdGgubWF4KFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIE1hdGguY2VpbChcbiAgICAgICAgICAgICAgTWF0aC5sb2cyKFxuICAgICAgICAgICAgICAgIGdldEFyZWEodGFyZ2V0RXh0ZW50KSAvXG4gICAgICAgICAgICAgICAgICAoZGVzdGluYXRpb25SZXNvbHV0aW9uICogZGVzdGluYXRpb25SZXNvbHV0aW9uICogMjU2ICogMjU2KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICA6IDApO1xuXG4gICAgdGhpcy5hZGRRdWFkXyhcbiAgICAgIGRlc3RpbmF0aW9uVG9wTGVmdCxcbiAgICAgIGRlc3RpbmF0aW9uVG9wUmlnaHQsXG4gICAgICBkZXN0aW5hdGlvbkJvdHRvbVJpZ2h0LFxuICAgICAgZGVzdGluYXRpb25Cb3R0b21MZWZ0LFxuICAgICAgc291cmNlVG9wTGVmdCxcbiAgICAgIHNvdXJjZVRvcFJpZ2h0LFxuICAgICAgc291cmNlQm90dG9tUmlnaHQsXG4gICAgICBzb3VyY2VCb3R0b21MZWZ0LFxuICAgICAgbWF4U3ViZGl2aXNpb25cbiAgICApO1xuXG4gICAgaWYgKHRoaXMud3JhcHNYSW5Tb3VyY2VfKSB7XG4gICAgICBsZXQgbGVmdEJvdW5kID0gSW5maW5pdHk7XG4gICAgICB0aGlzLnRyaWFuZ2xlc18uZm9yRWFjaChmdW5jdGlvbiAodHJpYW5nbGUsIGksIGFycikge1xuICAgICAgICBsZWZ0Qm91bmQgPSBNYXRoLm1pbihcbiAgICAgICAgICBsZWZ0Qm91bmQsXG4gICAgICAgICAgdHJpYW5nbGUuc291cmNlWzBdWzBdLFxuICAgICAgICAgIHRyaWFuZ2xlLnNvdXJjZVsxXVswXSxcbiAgICAgICAgICB0cmlhbmdsZS5zb3VyY2VbMl1bMF1cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTaGlmdCB0cmlhbmdsZXMgdG8gYmUgYXMgY2xvc2UgdG8gYGxlZnRCb3VuZGAgYXMgcG9zc2libGVcbiAgICAgIC8vIChpZiB0aGUgZGlzdGFuY2UgaXMgbW9yZSB0aGFuIGB3b3JsZFdpZHRoIC8gMmAgaXQgY2FuIGJlIGNsb3Nlci5cbiAgICAgIHRoaXMudHJpYW5nbGVzXy5mb3JFYWNoKCh0cmlhbmdsZSkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgTWF0aC5tYXgoXG4gICAgICAgICAgICB0cmlhbmdsZS5zb3VyY2VbMF1bMF0sXG4gICAgICAgICAgICB0cmlhbmdsZS5zb3VyY2VbMV1bMF0sXG4gICAgICAgICAgICB0cmlhbmdsZS5zb3VyY2VbMl1bMF1cbiAgICAgICAgICApIC1cbiAgICAgICAgICAgIGxlZnRCb3VuZCA+XG4gICAgICAgICAgdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyAvIDJcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgbmV3VHJpYW5nbGUgPSBbXG4gICAgICAgICAgICBbdHJpYW5nbGUuc291cmNlWzBdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMF1bMV1dLFxuICAgICAgICAgICAgW3RyaWFuZ2xlLnNvdXJjZVsxXVswXSwgdHJpYW5nbGUuc291cmNlWzFdWzFdXSxcbiAgICAgICAgICAgIFt0cmlhbmdsZS5zb3VyY2VbMl1bMF0sIHRyaWFuZ2xlLnNvdXJjZVsyXVsxXV0sXG4gICAgICAgICAgXTtcbiAgICAgICAgICBpZiAobmV3VHJpYW5nbGVbMF1bMF0gLSBsZWZ0Qm91bmQgPiB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfIC8gMikge1xuICAgICAgICAgICAgbmV3VHJpYW5nbGVbMF1bMF0gLT0gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5ld1RyaWFuZ2xlWzFdWzBdIC0gbGVmdEJvdW5kID4gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyAvIDIpIHtcbiAgICAgICAgICAgIG5ld1RyaWFuZ2xlWzFdWzBdIC09IHRoaXMuc291cmNlV29ybGRXaWR0aF87XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChuZXdUcmlhbmdsZVsyXVswXSAtIGxlZnRCb3VuZCA+IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgICBuZXdUcmlhbmdsZVsyXVswXSAtPSB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJhcmVseSAoaWYgdGhlIGV4dGVudCBjb250YWlucyBib3RoIHRoZSBkYXRlbGluZSBhbmQgcHJpbWUgbWVyaWRpYW4pXG4gICAgICAgICAgLy8gdGhlIHNoaWZ0IGNhbiBpbiB0dXJuIGJyZWFrIHNvbWUgdHJpYW5nbGVzLlxuICAgICAgICAgIC8vIERldGVjdCB0aGlzIGhlcmUgYW5kIGRvbid0IHNoaWZ0IGluIHN1Y2ggY2FzZXMuXG4gICAgICAgICAgY29uc3QgbWluWCA9IE1hdGgubWluKFxuICAgICAgICAgICAgbmV3VHJpYW5nbGVbMF1bMF0sXG4gICAgICAgICAgICBuZXdUcmlhbmdsZVsxXVswXSxcbiAgICAgICAgICAgIG5ld1RyaWFuZ2xlWzJdWzBdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBtYXhYID0gTWF0aC5tYXgoXG4gICAgICAgICAgICBuZXdUcmlhbmdsZVswXVswXSxcbiAgICAgICAgICAgIG5ld1RyaWFuZ2xlWzFdWzBdLFxuICAgICAgICAgICAgbmV3VHJpYW5nbGVbMl1bMF1cbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChtYXhYIC0gbWluWCA8IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgICB0cmlhbmdsZS5zb3VyY2UgPSBuZXdUcmlhbmdsZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRyYW5zZm9ybUludkNhY2hlID0ge307XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0cmlhbmdsZSB0byB0aGUgdHJpYW5ndWxhdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGEgVGhlIHRhcmdldCBhIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBiIFRoZSB0YXJnZXQgYiBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYyBUaGUgdGFyZ2V0IGMgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGFTcmMgVGhlIHNvdXJjZSBhIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBiU3JjIFRoZSBzb3VyY2UgYiBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY1NyYyBUaGUgc291cmNlIGMgY29vcmRpbmF0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFkZFRyaWFuZ2xlXyhhLCBiLCBjLCBhU3JjLCBiU3JjLCBjU3JjKSB7XG4gICAgdGhpcy50cmlhbmdsZXNfLnB1c2goe1xuICAgICAgc291cmNlOiBbYVNyYywgYlNyYywgY1NyY10sXG4gICAgICB0YXJnZXQ6IFthLCBiLCBjXSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHF1YWQgKHBvaW50cyBpbiBjbG9jay13aXNlIG9yZGVyKSB0byB0aGUgdHJpYW5ndWxhdGlvblxuICAgKiAoYW5kIHJlcHJvamVjdHMgdGhlIHZlcnRpY2VzKSBpZiB2YWxpZC5cbiAgICogUGVyZm9ybXMgcXVhZCBzdWJkaXZpc2lvbiBpZiBuZWVkZWQgdG8gaW5jcmVhc2UgcHJlY2lzaW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYSBUaGUgdGFyZ2V0IGEgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGIgVGhlIHRhcmdldCBiIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjIFRoZSB0YXJnZXQgYyBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZCBUaGUgdGFyZ2V0IGQgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGFTcmMgVGhlIHNvdXJjZSBhIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBiU3JjIFRoZSBzb3VyY2UgYiBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY1NyYyBUaGUgc291cmNlIGMgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGRTcmMgVGhlIHNvdXJjZSBkIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhTdWJkaXZpc2lvbiBNYXhpbWFsIGFsbG93ZWQgc3ViZGl2aXNpb24gb2YgdGhlIHF1YWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhZGRRdWFkXyhhLCBiLCBjLCBkLCBhU3JjLCBiU3JjLCBjU3JjLCBkU3JjLCBtYXhTdWJkaXZpc2lvbikge1xuICAgIGNvbnN0IHNvdXJjZVF1YWRFeHRlbnQgPSBib3VuZGluZ0V4dGVudChbYVNyYywgYlNyYywgY1NyYywgZFNyY10pO1xuICAgIGNvbnN0IHNvdXJjZUNvdmVyYWdlWCA9IHRoaXMuc291cmNlV29ybGRXaWR0aF9cbiAgICAgID8gZ2V0V2lkdGgoc291cmNlUXVhZEV4dGVudCkgLyB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfXG4gICAgICA6IG51bGw7XG4gICAgY29uc3Qgc291cmNlV29ybGRXaWR0aCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5zb3VyY2VXb3JsZFdpZHRoXyk7XG5cbiAgICAvLyB3aGVuIHRoZSBxdWFkIGlzIHdyYXBwZWQgaW4gdGhlIHNvdXJjZSBwcm9qZWN0aW9uXG4gICAgLy8gaXQgY292ZXJzIG1vc3Qgb2YgdGhlIHByb2plY3Rpb24gZXh0ZW50LCBidXQgbm90IGZ1bGx5XG4gICAgY29uc3Qgd3JhcHNYID1cbiAgICAgIHRoaXMuc291cmNlUHJval8uY2FuV3JhcFgoKSAmJlxuICAgICAgc291cmNlQ292ZXJhZ2VYID4gMC41ICYmXG4gICAgICBzb3VyY2VDb3ZlcmFnZVggPCAxO1xuXG4gICAgbGV0IG5lZWRzU3ViZGl2aXNpb24gPSBmYWxzZTtcblxuICAgIGlmIChtYXhTdWJkaXZpc2lvbiA+IDApIHtcbiAgICAgIGlmICh0aGlzLnRhcmdldFByb2pfLmlzR2xvYmFsKCkgJiYgdGhpcy50YXJnZXRXb3JsZFdpZHRoXykge1xuICAgICAgICBjb25zdCB0YXJnZXRRdWFkRXh0ZW50ID0gYm91bmRpbmdFeHRlbnQoW2EsIGIsIGMsIGRdKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Q292ZXJhZ2VYID1cbiAgICAgICAgICBnZXRXaWR0aCh0YXJnZXRRdWFkRXh0ZW50KSAvIHRoaXMudGFyZ2V0V29ybGRXaWR0aF87XG4gICAgICAgIG5lZWRzU3ViZGl2aXNpb24gPVxuICAgICAgICAgIHRhcmdldENvdmVyYWdlWCA+IE1BWF9UUklBTkdMRV9XSURUSCB8fCBuZWVkc1N1YmRpdmlzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKCF3cmFwc1ggJiYgdGhpcy5zb3VyY2VQcm9qXy5pc0dsb2JhbCgpICYmIHNvdXJjZUNvdmVyYWdlWCkge1xuICAgICAgICBuZWVkc1N1YmRpdmlzaW9uID1cbiAgICAgICAgICBzb3VyY2VDb3ZlcmFnZVggPiBNQVhfVFJJQU5HTEVfV0lEVEggfHwgbmVlZHNTdWJkaXZpc2lvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIW5lZWRzU3ViZGl2aXNpb24gJiYgdGhpcy5tYXhTb3VyY2VFeHRlbnRfKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbMF0pICYmXG4gICAgICAgIGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbMV0pICYmXG4gICAgICAgIGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbMl0pICYmXG4gICAgICAgIGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbM10pXG4gICAgICApIHtcbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzKHNvdXJjZVF1YWRFeHRlbnQsIHRoaXMubWF4U291cmNlRXh0ZW50XykpIHtcbiAgICAgICAgICAvLyB3aG9sZSBxdWFkIG91dHNpZGUgc291cmNlIHByb2plY3Rpb24gZXh0ZW50IC0+IGlnbm9yZVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBpc05vdEZpbml0ZSA9IDA7XG5cbiAgICBpZiAoIW5lZWRzU3ViZGl2aXNpb24pIHtcbiAgICAgIGlmIChcbiAgICAgICAgIWlzRmluaXRlKGFTcmNbMF0pIHx8XG4gICAgICAgICFpc0Zpbml0ZShhU3JjWzFdKSB8fFxuICAgICAgICAhaXNGaW5pdGUoYlNyY1swXSkgfHxcbiAgICAgICAgIWlzRmluaXRlKGJTcmNbMV0pIHx8XG4gICAgICAgICFpc0Zpbml0ZShjU3JjWzBdKSB8fFxuICAgICAgICAhaXNGaW5pdGUoY1NyY1sxXSkgfHxcbiAgICAgICAgIWlzRmluaXRlKGRTcmNbMF0pIHx8XG4gICAgICAgICFpc0Zpbml0ZShkU3JjWzFdKVxuICAgICAgKSB7XG4gICAgICAgIGlmIChtYXhTdWJkaXZpc2lvbiA+IDApIHtcbiAgICAgICAgICBuZWVkc1N1YmRpdmlzaW9uID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJdCBtaWdodCBiZSB0aGUgY2FzZSB0aGF0IG9ubHkgMSBvZiB0aGUgcG9pbnRzIGlzIGluZmluaXRlLiBJbiB0aGlzIGNhc2VcbiAgICAgICAgICAvLyB3ZSBjYW4gZHJhdyBhIHNpbmdsZSB0cmlhbmdsZSB3aXRoIHRoZSBvdGhlciB0aHJlZSBwb2ludHNcbiAgICAgICAgICBpc05vdEZpbml0ZSA9XG4gICAgICAgICAgICAoIWlzRmluaXRlKGFTcmNbMF0pIHx8ICFpc0Zpbml0ZShhU3JjWzFdKSA/IDggOiAwKSArXG4gICAgICAgICAgICAoIWlzRmluaXRlKGJTcmNbMF0pIHx8ICFpc0Zpbml0ZShiU3JjWzFdKSA/IDQgOiAwKSArXG4gICAgICAgICAgICAoIWlzRmluaXRlKGNTcmNbMF0pIHx8ICFpc0Zpbml0ZShjU3JjWzFdKSA/IDIgOiAwKSArXG4gICAgICAgICAgICAoIWlzRmluaXRlKGRTcmNbMF0pIHx8ICFpc0Zpbml0ZShkU3JjWzFdKSA/IDEgOiAwKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBpc05vdEZpbml0ZSAhPSAxICYmXG4gICAgICAgICAgICBpc05vdEZpbml0ZSAhPSAyICYmXG4gICAgICAgICAgICBpc05vdEZpbml0ZSAhPSA0ICYmXG4gICAgICAgICAgICBpc05vdEZpbml0ZSAhPSA4XG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1heFN1YmRpdmlzaW9uID4gMCkge1xuICAgICAgaWYgKCFuZWVkc1N1YmRpdmlzaW9uKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IFsoYVswXSArIGNbMF0pIC8gMiwgKGFbMV0gKyBjWzFdKSAvIDJdO1xuICAgICAgICBjb25zdCBjZW50ZXJTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oY2VudGVyKTtcblxuICAgICAgICBsZXQgZHg7XG4gICAgICAgIGlmICh3cmFwc1gpIHtcbiAgICAgICAgICBjb25zdCBjZW50ZXJTcmNFc3RpbVggPVxuICAgICAgICAgICAgKG1vZHVsbyhhU3JjWzBdLCBzb3VyY2VXb3JsZFdpZHRoKSArXG4gICAgICAgICAgICAgIG1vZHVsbyhjU3JjWzBdLCBzb3VyY2VXb3JsZFdpZHRoKSkgL1xuICAgICAgICAgICAgMjtcbiAgICAgICAgICBkeCA9IGNlbnRlclNyY0VzdGltWCAtIG1vZHVsbyhjZW50ZXJTcmNbMF0sIHNvdXJjZVdvcmxkV2lkdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGR4ID0gKGFTcmNbMF0gKyBjU3JjWzBdKSAvIDIgLSBjZW50ZXJTcmNbMF07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHkgPSAoYVNyY1sxXSArIGNTcmNbMV0pIC8gMiAtIGNlbnRlclNyY1sxXTtcbiAgICAgICAgY29uc3QgY2VudGVyU3JjRXJyb3JTcXVhcmVkID0gZHggKiBkeCArIGR5ICogZHk7XG4gICAgICAgIG5lZWRzU3ViZGl2aXNpb24gPSBjZW50ZXJTcmNFcnJvclNxdWFyZWQgPiB0aGlzLmVycm9yVGhyZXNob2xkU3F1YXJlZF87XG4gICAgICB9XG4gICAgICBpZiAobmVlZHNTdWJkaXZpc2lvbikge1xuICAgICAgICBpZiAoTWF0aC5hYnMoYVswXSAtIGNbMF0pIDw9IE1hdGguYWJzKGFbMV0gLSBjWzFdKSkge1xuICAgICAgICAgIC8vIHNwbGl0IGhvcml6b250YWxseSAodG9wICYgYm90dG9tKVxuICAgICAgICAgIGNvbnN0IGJjID0gWyhiWzBdICsgY1swXSkgLyAyLCAoYlsxXSArIGNbMV0pIC8gMl07XG4gICAgICAgICAgY29uc3QgYmNTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oYmMpO1xuICAgICAgICAgIGNvbnN0IGRhID0gWyhkWzBdICsgYVswXSkgLyAyLCAoZFsxXSArIGFbMV0pIC8gMl07XG4gICAgICAgICAgY29uc3QgZGFTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oZGEpO1xuXG4gICAgICAgICAgdGhpcy5hZGRRdWFkXyhcbiAgICAgICAgICAgIGEsXG4gICAgICAgICAgICBiLFxuICAgICAgICAgICAgYmMsXG4gICAgICAgICAgICBkYSxcbiAgICAgICAgICAgIGFTcmMsXG4gICAgICAgICAgICBiU3JjLFxuICAgICAgICAgICAgYmNTcmMsXG4gICAgICAgICAgICBkYVNyYyxcbiAgICAgICAgICAgIG1heFN1YmRpdmlzaW9uIC0gMVxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5hZGRRdWFkXyhcbiAgICAgICAgICAgIGRhLFxuICAgICAgICAgICAgYmMsXG4gICAgICAgICAgICBjLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIGRhU3JjLFxuICAgICAgICAgICAgYmNTcmMsXG4gICAgICAgICAgICBjU3JjLFxuICAgICAgICAgICAgZFNyYyxcbiAgICAgICAgICAgIG1heFN1YmRpdmlzaW9uIC0gMVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gc3BsaXQgdmVydGljYWxseSAobGVmdCAmIHJpZ2h0KVxuICAgICAgICAgIGNvbnN0IGFiID0gWyhhWzBdICsgYlswXSkgLyAyLCAoYVsxXSArIGJbMV0pIC8gMl07XG4gICAgICAgICAgY29uc3QgYWJTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oYWIpO1xuICAgICAgICAgIGNvbnN0IGNkID0gWyhjWzBdICsgZFswXSkgLyAyLCAoY1sxXSArIGRbMV0pIC8gMl07XG4gICAgICAgICAgY29uc3QgY2RTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oY2QpO1xuXG4gICAgICAgICAgdGhpcy5hZGRRdWFkXyhcbiAgICAgICAgICAgIGEsXG4gICAgICAgICAgICBhYixcbiAgICAgICAgICAgIGNkLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIGFTcmMsXG4gICAgICAgICAgICBhYlNyYyxcbiAgICAgICAgICAgIGNkU3JjLFxuICAgICAgICAgICAgZFNyYyxcbiAgICAgICAgICAgIG1heFN1YmRpdmlzaW9uIC0gMVxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5hZGRRdWFkXyhcbiAgICAgICAgICAgIGFiLFxuICAgICAgICAgICAgYixcbiAgICAgICAgICAgIGMsXG4gICAgICAgICAgICBjZCxcbiAgICAgICAgICAgIGFiU3JjLFxuICAgICAgICAgICAgYlNyYyxcbiAgICAgICAgICAgIGNTcmMsXG4gICAgICAgICAgICBjZFNyYyxcbiAgICAgICAgICAgIG1heFN1YmRpdmlzaW9uIC0gMVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh3cmFwc1gpIHtcbiAgICAgIGlmICghdGhpcy5jYW5XcmFwWEluU291cmNlXykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLndyYXBzWEluU291cmNlXyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gRXhhY3RseSB6ZXJvIG9yIG9uZSBvZiAqU3JjIGlzIG5vdCBmaW5pdGVcbiAgICAvLyBUaGUgdHJpYW5nbGVzIG11c3QgaGF2ZSB0aGUgZGlhZ29uYWwgbGluZSBhcyB0aGUgZmlyc3Qgc2lkZVxuICAgIC8vIFRoaXMgaXMgdG8gYWxsb3cgZWFzeSBjb2RlIGluIHJlcHJvai5zIHRvIG1ha2UgaXQgc3RyYWlnaHQgZm9yIGJyb2tlblxuICAgIC8vIGJyb3dzZXJzIHRoYXQgY2FuJ3QgaGFuZGxlIGRpYWdvbmFsIGNsaXBwaW5nXG4gICAgaWYgKChpc05vdEZpbml0ZSAmIDB4YikgPT0gMCkge1xuICAgICAgdGhpcy5hZGRUcmlhbmdsZV8oYSwgYywgZCwgYVNyYywgY1NyYywgZFNyYyk7XG4gICAgfVxuICAgIGlmICgoaXNOb3RGaW5pdGUgJiAweGUpID09IDApIHtcbiAgICAgIHRoaXMuYWRkVHJpYW5nbGVfKGEsIGMsIGIsIGFTcmMsIGNTcmMsIGJTcmMpO1xuICAgIH1cbiAgICBpZiAoaXNOb3RGaW5pdGUpIHtcbiAgICAgIC8vIFRyeSB0aGUgb3RoZXIgdHdvIHRyaWFuZ2xlc1xuICAgICAgaWYgKChpc05vdEZpbml0ZSAmIDB4ZCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFkZFRyaWFuZ2xlXyhiLCBkLCBhLCBiU3JjLCBkU3JjLCBhU3JjKTtcbiAgICAgIH1cbiAgICAgIGlmICgoaXNOb3RGaW5pdGUgJiAweDcpID09IDApIHtcbiAgICAgICAgdGhpcy5hZGRUcmlhbmdsZV8oYiwgZCwgYywgYlNyYywgZFNyYywgY1NyYyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgZXh0ZW50IG9mIHRoZSBgc291cmNlYCBjb29yZGluYXRlcyBmcm9tIGFsbCB0aGUgdHJpYW5nbGVzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBDYWxjdWxhdGVkIGV4dGVudC5cbiAgICovXG4gIGNhbGN1bGF0ZVNvdXJjZUV4dGVudCgpIHtcbiAgICBjb25zdCBleHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuXG4gICAgdGhpcy50cmlhbmdsZXNfLmZvckVhY2goZnVuY3Rpb24gKHRyaWFuZ2xlLCBpLCBhcnIpIHtcbiAgICAgIGNvbnN0IHNyYyA9IHRyaWFuZ2xlLnNvdXJjZTtcbiAgICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBzcmNbMF0pO1xuICAgICAgZXh0ZW5kQ29vcmRpbmF0ZShleHRlbnQsIHNyY1sxXSk7XG4gICAgICBleHRlbmRDb29yZGluYXRlKGV4dGVudCwgc3JjWzJdKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBleHRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8VHJpYW5nbGU+fSBBcnJheSBvZiB0aGUgY2FsY3VsYXRlZCB0cmlhbmdsZXMuXG4gICAqL1xuICBnZXRUcmlhbmdsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMudHJpYW5nbGVzXztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmlhbmd1bGF0aW9uO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JvdGF0aW9uY29uc3RyYWludFxuICovXG5pbXBvcnQge3RvUmFkaWFuc30gZnJvbSAnLi9tYXRoLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKG51bWJlcnx1bmRlZmluZWQpLCBib29sZWFuPSk6IChudW1iZXJ8dW5kZWZpbmVkKX0gVHlwZVxuICovXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZShyb3RhdGlvbikge1xuICBpZiAocm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9uZShyb3RhdGlvbikge1xuICBpZiAocm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiByb3RhdGlvbjtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIE4uXG4gKiBAcmV0dXJuIHtUeXBlfSBSb3RhdGlvbiBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvTihuKSB7XG4gIGNvbnN0IHRoZXRhID0gKDIgKiBNYXRoLlBJKSAvIG47XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc01vdmluZ10gVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUm90YXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHJvdGF0aW9uLCBpc01vdmluZykge1xuICAgICAgaWYgKGlzTW92aW5nKSB7XG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcm90YXRpb24gPSBNYXRoLmZsb29yKHJvdGF0aW9uIC8gdGhldGEgKyAwLjUpICogdGhldGE7XG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBbdG9sZXJhbmNlXSBUb2xlcmFuY2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBSb3RhdGlvbiBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvWmVybyh0b2xlcmFuY2UpIHtcbiAgdG9sZXJhbmNlID0gdG9sZXJhbmNlIHx8IHRvUmFkaWFucyg1KTtcbiAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzTW92aW5nXSBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocm90YXRpb24sIGlzTW92aW5nKSB7XG4gICAgICBpZiAoaXNNb3ZpbmcpIHtcbiAgICAgICAgcmV0dXJuIHJvdGF0aW9uO1xuICAgICAgfVxuXG4gICAgICBpZiAocm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoTWF0aC5hYnMocm90YXRpb24pIDw9IHRvbGVyYW5jZSkge1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICApO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NpemVcbiAqL1xuXG4vKipcbiAqIEFuIGFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGEgc2l6ZTogYFt3aWR0aCwgaGVpZ2h0XWAuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gU2l6ZVxuICogQGFwaVxuICovXG5cbi8qKlxuICogUmV0dXJucyBhIGJ1ZmZlcmVkIHNpemUuXG4gKiBAcGFyYW0ge1NpemV9IHNpemUgU2l6ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBudW0gVGhlIGFtb3VudCBieSB3aGljaCB0byBidWZmZXIuXG4gKiBAcGFyYW0ge1NpemV9IFtkZXN0XSBPcHRpb25hbCByZXVzYWJsZSBzaXplIGFycmF5LlxuICogQHJldHVybiB7U2l6ZX0gVGhlIGJ1ZmZlcmVkIHNpemUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXIoc2l6ZSwgbnVtLCBkZXN0KSB7XG4gIGlmIChkZXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICBkZXN0ID0gWzAsIDBdO1xuICB9XG4gIGRlc3RbMF0gPSBzaXplWzBdICsgMiAqIG51bTtcbiAgZGVzdFsxXSA9IHNpemVbMV0gKyAyICogbnVtO1xuICByZXR1cm4gZGVzdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGEgc2l6ZSBoYXMgYSBwb3NpdGl2ZSBhcmVhLlxuICogQHBhcmFtIHtTaXplfSBzaXplIFRoZSBzaXplIHRvIHRlc3QuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgc2l6ZSBoYXMgYSBwb3NpdGl2ZSBhcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzQXJlYShzaXplKSB7XG4gIHJldHVybiBzaXplWzBdID4gMCAmJiBzaXplWzFdID4gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc2l6ZSBzY2FsZWQgYnkgYSByYXRpby4gVGhlIHJlc3VsdCB3aWxsIGJlIGFuIGFycmF5IG9mIGludGVnZXJzLlxuICogQHBhcmFtIHtTaXplfSBzaXplIFNpemUuXG4gKiBAcGFyYW0ge251bWJlcn0gcmF0aW8gUmF0aW8uXG4gKiBAcGFyYW0ge1NpemV9IFtkZXN0XSBPcHRpb25hbCByZXVzYWJsZSBzaXplIGFycmF5LlxuICogQHJldHVybiB7U2l6ZX0gVGhlIHNjYWxlZCBzaXplLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUoc2l6ZSwgcmF0aW8sIGRlc3QpIHtcbiAgaWYgKGRlc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGRlc3QgPSBbMCwgMF07XG4gIH1cbiAgZGVzdFswXSA9IChzaXplWzBdICogcmF0aW8gKyAwLjUpIHwgMDtcbiAgZGVzdFsxXSA9IChzaXplWzFdICogcmF0aW8gKyAwLjUpIHwgMDtcbiAgcmV0dXJuIGRlc3Q7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBgU2l6ZWAgYXJyYXkgZm9yIHRoZSBwYXNzZWQgaW4gbnVtYmVyIChtZWFuaW5nOiBzcXVhcmUpIG9yXG4gKiBgU2l6ZWAgYXJyYXkuXG4gKiAobWVhbmluZzogbm9uLXNxdWFyZSksXG4gKiBAcGFyYW0ge251bWJlcnxTaXplfSBzaXplIFdpZHRoIGFuZCBoZWlnaHQuXG4gKiBAcGFyYW0ge1NpemV9IFtkZXN0XSBPcHRpb25hbCByZXVzYWJsZSBzaXplIGFycmF5LlxuICogQHJldHVybiB7U2l6ZX0gU2l6ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU2l6ZShzaXplLCBkZXN0KSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHNpemUpKSB7XG4gICAgcmV0dXJuIHNpemU7XG4gIH1cbiAgaWYgKGRlc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGRlc3QgPSBbc2l6ZSwgc2l6ZV07XG4gIH0gZWxzZSB7XG4gICAgZGVzdFswXSA9IHNpemU7XG4gICAgZGVzdFsxXSA9IHNpemU7XG4gIH1cbiAgcmV0dXJuIGRlc3Q7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1RpbGVEZWJ1Z1xuICovXG5cbmltcG9ydCBYWVogZnJvbSAnLi9YWVouanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkR9IGZyb20gJy4uL2RvbS5qcyc7XG5pbXBvcnQge3RvU2l6ZX0gZnJvbSAnLi4vc2l6ZS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbj0nRVBTRzozODU3J10gT3B0aW9uYWwgcHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlIGdyaWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXSBXaGV0aGVyIHRvIHdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gW3pEaXJlY3Rpb249MF1cbiAqIFNldCB0byBgMWAgd2hlbiBkZWJ1Z2dpbmcgYFZlY3RvclRpbGVgIHNvdXJjZXMgd2l0aCBhIGRlZmF1bHQgY29uZmlndXJhdGlvbi5cbiAqIENob29zZSB3aGV0aGVyIHRvIHVzZSB0aWxlcyB3aXRoIGEgaGlnaGVyIG9yIGxvd2VyIHpvb20gbGV2ZWwgd2hlbiBiZXR3ZWVuIGludGVnZXJcbiAqIHpvb20gbGV2ZWxzLiBTZWUge0BsaW5rIG1vZHVsZTpvbC90aWxlZ3JpZC9UaWxlR3JpZH5UaWxlR3JpZCNnZXRaRm9yUmVzb2x1dGlvbn0uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RlbXBsYXRlPSd6Ont6fSB4Ont4fSB5Ont5fSddIFRlbXBsYXRlIGZvciBsYWJlbGluZyB0aGUgdGlsZXMuXG4gKiBTaG91bGQgaW5jbHVkZSBge3h9YCwgYHt5fWAgb3IgYHsteX1gLCBhbmQgYHt6fWAgcGxhY2Vob2xkZXJzLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBwc2V1ZG8gdGlsZSBzb3VyY2UsIHdoaWNoIGRvZXMgbm90IGZldGNoIHRpbGVzIGZyb20gYSBzZXJ2ZXIsIGJ1dCByZW5kZXJzXG4gKiBhIGdyaWQgb3V0bGluZSBmb3IgdGhlIHRpbGUgZ3JpZC9wcm9qZWN0aW9uIGFsb25nIHdpdGggdGhlIGNvb3JkaW5hdGVzIGZvclxuICogZWFjaCB0aWxlLiBTZWUgZXhhbXBsZXMvY2FudmFzLXRpbGVzIGZvciBhbiBleGFtcGxlLlxuICogQGFwaVxuICovXG5jbGFzcyBUaWxlRGVidWcgZXh0ZW5kcyBYWVoge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gRGVidWcgdGlsZSBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPcHRpb25zfVxuICAgICAqL1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgc3VwZXIoe1xuICAgICAgb3BhcXVlOiBmYWxzZSxcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHRpbGVHcmlkOiBvcHRpb25zLnRpbGVHcmlkLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiB0cnVlLFxuICAgICAgekRpcmVjdGlvbjogb3B0aW9ucy56RGlyZWN0aW9uLFxuICAgICAgdXJsOiBvcHRpb25zLnRlbXBsYXRlIHx8ICd6Ont6fSB4Ont4fSB5Ont5fScsXG4gICAgICB0aWxlTG9hZEZ1bmN0aW9uOiAodGlsZSwgdGV4dCkgPT4ge1xuICAgICAgICBjb25zdCB6ID0gdGlsZS5nZXRUaWxlQ29vcmQoKVswXTtcbiAgICAgICAgY29uc3QgdGlsZVNpemUgPSB0b1NpemUodGhpcy50aWxlR3JpZC5nZXRUaWxlU2l6ZSh6KSk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQodGlsZVNpemVbMF0sIHRpbGVTaXplWzFdKTtcblxuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ2dyZXknO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVJlY3QoMC41LCAwLjUsIHRpbGVTaXplWzBdICsgMC41LCB0aWxlU2l6ZVsxXSArIDAuNSk7XG5cbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnZ3JleSc7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSAnMjRweCBzYW5zLXNlcmlmJztcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSA0O1xuICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGV4dCwgdGlsZVNpemVbMF0gLyAyLCB0aWxlU2l6ZVsxXSAvIDIsIHRpbGVTaXplWzBdKTtcbiAgICAgICAgY29udGV4dC5maWxsVGV4dCh0ZXh0LCB0aWxlU2l6ZVswXSAvIDIsIHRpbGVTaXplWzFdIC8gMiwgdGlsZVNpemVbMF0pO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aWxlKS5zZXRJbWFnZShcbiAgICAgICAgICBjb250ZXh0LmNhbnZhc1xuICAgICAgICApO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlRGVidWc7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1RpbGVJbWFnZVxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEltYWdlVGlsZSBmcm9tICcuLi9JbWFnZVRpbGUuanMnO1xuaW1wb3J0IFJlcHJvalRpbGUgZnJvbSAnLi4vcmVwcm9qL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVDYWNoZSBmcm9tICcuLi9UaWxlQ2FjaGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IFVybFRpbGUgZnJvbSAnLi9VcmxUaWxlLmpzJztcbmltcG9ydCB7ZXF1aXZhbGVudCwgZ2V0IGFzIGdldFByb2plY3Rpb259IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IHtnZXRLZXksIGdldEtleVpYWX0gZnJvbSAnLi4vdGlsZWNvb3JkLmpzJztcbmltcG9ydCB7Z2V0Rm9yUHJvamVjdGlvbiBhcyBnZXRUaWxlR3JpZEZvclByb2plY3Rpb259IGZyb20gJy4uL3RpbGVncmlkLmpzJztcbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi91dGlsLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb25zQ29sbGFwc2libGU9dHJ1ZV0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplXSBJbml0aWFsIHRpbGUgY2FjaGUgc2l6ZS4gV2lsbCBhdXRvLWdyb3cgdG8gaG9sZCBhdCBsZWFzdCB0aGUgbnVtYmVyIG9mIHRpbGVzIGluIHRoZSB2aWV3cG9ydC5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiAgTm90ZSB0aGF0XG4gKiB5b3UgbXVzdCBwcm92aWRlIGEgYGNyb3NzT3JpZ2luYCB2YWx1ZSBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgcGl4ZWwgZGF0YSB3aXRoIHRoZSBDYW52YXMgcmVuZGVyZXIuXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9DT1JTX2VuYWJsZWRfaW1hZ2UgZm9yIG1vcmUgZGV0YWlsLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW50ZXJwb2xhdGU9dHJ1ZV0gVXNlIGludGVycG9sYXRlZCB2YWx1ZXMgd2hlbiByZXNhbXBsaW5nLiAgQnkgZGVmYXVsdCxcbiAqIGxpbmVhciBpbnRlcnBvbGF0aW9uIGlzIHVzZWQgd2hlbiByZXNhbXBsaW5nLiAgU2V0IHRvIGZhbHNlIHRvIHVzZSB0aGUgbmVhcmVzdCBuZWlnaGJvciBpbnN0ZWFkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3BhcXVlPWZhbHNlXSBXaGV0aGVyIHRoZSBsYXllciBpcyBvcGFxdWUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uXSBQcm9qZWN0aW9uLiBEZWZhdWx0IGlzIHRoZSB2aWV3IHByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkPTAuNV0gTWF4aW11bSBhbGxvd2VkIHJlcHJvamVjdGlvbiBlcnJvciAoaW4gcGl4ZWxzKS5cbiAqIEhpZ2hlciB2YWx1ZXMgY2FuIGluY3JlYXNlIHJlcHJvamVjdGlvbiBwZXJmb3JtYW5jZSwgYnV0IGRlY3JlYXNlIHByZWNpc2lvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuU3RhdGV9IFtzdGF0ZV0gU291cmNlIHN0YXRlLlxuICogQHByb3BlcnR5IHt0eXBlb2YgaW1wb3J0KFwiLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9IFt0aWxlQ2xhc3NdIENsYXNzIHVzZWQgdG8gaW5zdGFudGlhdGUgaW1hZ2UgdGlsZXMuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvSW1hZ2VUaWxlfkltYWdlVGlsZX0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFt0aWxlR3JpZF0gVGlsZSBncmlkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gW3RpbGVMb2FkRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvYWQgYSB0aWxlIGdpdmVuIGEgVVJMLiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIGZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gKiAgIGltYWdlVGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH07XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW89MV0gVGhlIHBpeGVsIHJhdGlvIHVzZWQgYnkgdGhlIHRpbGUgc2VydmljZS4gRm9yIGV4YW1wbGUsIGlmIHRoZSB0aWxlXG4gKiBzZXJ2aWNlIGFkdmVydGl6ZXMgMjU2cHggYnkgMjU2cHggdGlsZXMgYnV0IGFjdHVhbGx5IHNlbmRzIDUxMnB4XG4gKiBieSA1MTJweCBpbWFnZXMgKGZvciByZXRpbmEvaGlkcGkgZGV2aWNlcykgdGhlbiBgdGlsZVBpeGVsUmF0aW9gXG4gKiBzaG91bGQgYmUgc2V0IHRvIGAyYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gW3RpbGVVcmxGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gZ2V0IHRpbGUgVVJMIGdpdmVuIGEgdGlsZSBjb29yZGluYXRlIGFuZCB0aGUgcHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSBVUkwgdGVtcGxhdGUuIE11c3QgaW5jbHVkZSBge3h9YCwgYHt5fWAgb3IgYHsteX1gLCBhbmQgYHt6fWAgcGxhY2Vob2xkZXJzLlxuICogQSBgez8tP31gIHRlbXBsYXRlIHBhdHRlcm4sIGZvciBleGFtcGxlIGBzdWJkb21haW57YS1mfS5kb21haW4uY29tYCwgbWF5IGJlXG4gKiB1c2VkIGluc3RlYWQgb2YgZGVmaW5pbmcgZWFjaCBvbmUgc2VwYXJhdGVseSBpbiB0aGUgYHVybHNgIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW3VybHNdIEFuIGFycmF5IG9mIFVSTCB0ZW1wbGF0ZXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWF0gV2hldGhlciB0byB3cmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuIFRoZSBkZWZhdWx0LCBpcyB0b1xuICogcmVxdWVzdCBvdXQtb2YtYm91bmRzIHRpbGVzIGZyb20gdGhlIHNlcnZlci4gV2hlbiBzZXQgdG8gYGZhbHNlYCwgb25seSBvbmVcbiAqIHdvcmxkIHdpbGwgYmUgcmVuZGVyZWQuIFdoZW4gc2V0IHRvIGB0cnVlYCwgdGlsZXMgd2lsbCBiZSByZXF1ZXN0ZWQgZm9yIG9uZVxuICogd29ybGQgb25seSwgYnV0IHRoZXkgd2lsbCBiZSB3cmFwcGVkIGhvcml6b250YWxseSB0byByZW5kZXIgbXVsdGlwbGUgd29ybGRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBEdXJhdGlvbiBvZiB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uIGZvciByZW5kZXJpbmcuXG4gKiBUbyBkaXNhYmxlIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24sIHBhc3MgYHRyYW5zaXRpb246IDBgLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIE9wdGlvbmFsIHRpbGUga2V5IGZvciBwcm9wZXIgY2FjaGUgZmV0Y2hpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gW3pEaXJlY3Rpb249MF1cbiAqIENob29zZSB3aGV0aGVyIHRvIHVzZSB0aWxlcyB3aXRoIGEgaGlnaGVyIG9yIGxvd2VyIHpvb20gbGV2ZWwgd2hlbiBiZXR3ZWVuIGludGVnZXJcbiAqIHpvb20gbGV2ZWxzLiBTZWUge0BsaW5rIG1vZHVsZTpvbC90aWxlZ3JpZC9UaWxlR3JpZH5UaWxlR3JpZCNnZXRaRm9yUmVzb2x1dGlvbn0uXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZvciBzb3VyY2VzIHByb3ZpZGluZyBpbWFnZXMgZGl2aWRlZCBpbnRvIGEgdGlsZSBncmlkLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL1RpbGUuanNcIikuVGlsZVNvdXJjZUV2ZW50XG4gKiBAYXBpXG4gKi9cbmNsYXNzIFRpbGVJbWFnZSBleHRlbmRzIFVybFRpbGUge1xuICAvKipcbiAgICogQHBhcmFtIHshT3B0aW9uc30gb3B0aW9ucyBJbWFnZSB0aWxlIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICBvcGFxdWU6IG9wdGlvbnMub3BhcXVlLFxuICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICB0aWxlR3JpZDogb3B0aW9ucy50aWxlR3JpZCxcbiAgICAgIHRpbGVMb2FkRnVuY3Rpb246IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvblxuICAgICAgICA/IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvblxuICAgICAgICA6IGRlZmF1bHRUaWxlTG9hZEZ1bmN0aW9uLFxuICAgICAgdGlsZVBpeGVsUmF0aW86IG9wdGlvbnMudGlsZVBpeGVsUmF0aW8sXG4gICAgICB0aWxlVXJsRnVuY3Rpb246IG9wdGlvbnMudGlsZVVybEZ1bmN0aW9uLFxuICAgICAgdXJsOiBvcHRpb25zLnVybCxcbiAgICAgIHVybHM6IG9wdGlvbnMudXJscyxcbiAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYLFxuICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgaW50ZXJwb2xhdGU6XG4gICAgICAgIG9wdGlvbnMuaW50ZXJwb2xhdGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaW50ZXJwb2xhdGUgOiB0cnVlLFxuICAgICAga2V5OiBvcHRpb25zLmtleSxcbiAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlLFxuICAgICAgekRpcmVjdGlvbjogb3B0aW9ucy56RGlyZWN0aW9uLFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuY3Jvc3NPcmlnaW4gPVxuICAgICAgb3B0aW9ucy5jcm9zc09yaWdpbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jcm9zc09yaWdpbiA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge3R5cGVvZiBJbWFnZVRpbGV9XG4gICAgICovXG4gICAgdGhpcy50aWxlQ2xhc3MgPVxuICAgICAgb3B0aW9ucy50aWxlQ2xhc3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGlsZUNsYXNzIDogSW1hZ2VUaWxlO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgVGlsZUNhY2hlPn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGRfID0gb3B0aW9ucy5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJSZXByb2plY3Rpb25FZGdlc18gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBDYW4gZXhwaXJlIGNhY2hlLlxuICAgKi9cbiAgY2FuRXhwaXJlQ2FjaGUoKSB7XG4gICAgaWYgKHRoaXMudGlsZUNhY2hlLmNhbkV4cGlyZUNhY2hlKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24pIHtcbiAgICAgIGlmICh0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb25ba2V5XS5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICovXG4gIGV4cGlyZUNhY2hlKHByb2plY3Rpb24sIHVzZWRUaWxlcykge1xuICAgIGNvbnN0IHVzZWRUaWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG5cbiAgICB0aGlzLnRpbGVDYWNoZS5leHBpcmVDYWNoZShcbiAgICAgIHRoaXMudGlsZUNhY2hlID09IHVzZWRUaWxlQ2FjaGUgPyB1c2VkVGlsZXMgOiB7fVxuICAgICk7XG4gICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24pIHtcbiAgICAgIGNvbnN0IHRpbGVDYWNoZSA9IHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltpZF07XG4gICAgICB0aWxlQ2FjaGUuZXhwaXJlQ2FjaGUodGlsZUNhY2hlID09IHVzZWRUaWxlQ2FjaGUgPyB1c2VkVGlsZXMgOiB7fSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfSBHdXR0ZXIuXG4gICAqL1xuICBnZXRHdXR0ZXJGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmdldFByb2plY3Rpb24oKSAmJlxuICAgICAgcHJvamVjdGlvbiAmJlxuICAgICAgIWVxdWl2YWxlbnQodGhpcy5nZXRQcm9qZWN0aW9uKCksIHByb2plY3Rpb24pXG4gICAgKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0R3V0dGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBHdXR0ZXIuXG4gICAqL1xuICBnZXRHdXR0ZXIoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBrZXkgdG8gYmUgdXNlZCBmb3IgYWxsIHRpbGVzIGluIHRoZSBzb3VyY2UuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGtleSBmb3IgYWxsIHRpbGVzLlxuICAgKi9cbiAgZ2V0S2V5KCkge1xuICAgIGxldCBrZXkgPSBzdXBlci5nZXRLZXkoKTtcbiAgICBpZiAoIXRoaXMuZ2V0SW50ZXJwb2xhdGUoKSkge1xuICAgICAga2V5ICs9ICc6ZGlzYWJsZS1pbnRlcnBvbGF0aW9uJztcbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IE9wYXF1ZS5cbiAgICovXG4gIGdldE9wYXF1ZShwcm9qZWN0aW9uKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5nZXRQcm9qZWN0aW9uKCkgJiZcbiAgICAgIHByb2plY3Rpb24gJiZcbiAgICAgICFlcXVpdmFsZW50KHRoaXMuZ2V0UHJvamVjdGlvbigpLCBwcm9qZWN0aW9uKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuZ2V0T3BhcXVlKHByb2plY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFRpbGUgZ3JpZC5cbiAgICovXG4gIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gICAgY29uc3QgdGhpc1Byb2ogPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICBpZiAodGhpcy50aWxlR3JpZCAmJiAoIXRoaXNQcm9qIHx8IGVxdWl2YWxlbnQodGhpc1Byb2osIHByb2plY3Rpb24pKSkge1xuICAgICAgcmV0dXJuIHRoaXMudGlsZUdyaWQ7XG4gICAgfVxuICAgIGNvbnN0IHByb2pLZXkgPSBnZXRVaWQocHJvamVjdGlvbik7XG4gICAgaWYgKCEocHJvaktleSBpbiB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbikpIHtcbiAgICAgIHRoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uW3Byb2pLZXldID1cbiAgICAgICAgZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb25bcHJvaktleV07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlQ2FjaGUuanNcIikuZGVmYXVsdH0gVGlsZSBjYWNoZS5cbiAgICovXG4gIGdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICAgIGNvbnN0IHRoaXNQcm9qID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgaWYgKCF0aGlzUHJvaiB8fCBlcXVpdmFsZW50KHRoaXNQcm9qLCBwcm9qZWN0aW9uKSkge1xuICAgICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlO1xuICAgIH1cbiAgICBjb25zdCBwcm9qS2V5ID0gZ2V0VWlkKHByb2plY3Rpb24pO1xuICAgIGlmICghKHByb2pLZXkgaW4gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uKSkge1xuICAgICAgdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW3Byb2pLZXldID0gbmV3IFRpbGVDYWNoZShcbiAgICAgICAgdGhpcy50aWxlQ2FjaGUuaGlnaFdhdGVyTWFya1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltwcm9qS2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgc2V0IG9uIHRoZSB0aWxlLlxuICAgKiBAcmV0dXJuIHshSW1hZ2VUaWxlfSBUaWxlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY3JlYXRlVGlsZV8oeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwga2V5KSB7XG4gICAgY29uc3QgdGlsZUNvb3JkID0gW3osIHgsIHldO1xuICAgIGNvbnN0IHVybFRpbGVDb29yZCA9IHRoaXMuZ2V0VGlsZUNvb3JkRm9yVGlsZVVybEZ1bmN0aW9uKFxuICAgICAgdGlsZUNvb3JkLFxuICAgICAgcHJvamVjdGlvblxuICAgICk7XG4gICAgY29uc3QgdGlsZVVybCA9IHVybFRpbGVDb29yZFxuICAgICAgPyB0aGlzLnRpbGVVcmxGdW5jdGlvbih1cmxUaWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCB0aWxlID0gbmV3IHRoaXMudGlsZUNsYXNzKFxuICAgICAgdGlsZUNvb3JkLFxuICAgICAgdGlsZVVybCAhPT0gdW5kZWZpbmVkID8gVGlsZVN0YXRlLklETEUgOiBUaWxlU3RhdGUuRU1QVFksXG4gICAgICB0aWxlVXJsICE9PSB1bmRlZmluZWQgPyB0aWxlVXJsIDogJycsXG4gICAgICB0aGlzLmNyb3NzT3JpZ2luLFxuICAgICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uLFxuICAgICAgdGhpcy50aWxlT3B0aW9uc1xuICAgICk7XG4gICAgdGlsZS5rZXkgPSBrZXk7XG4gICAgdGlsZS5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlVGlsZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICByZXR1cm4gdGlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHshKEltYWdlVGlsZXxSZXByb2pUaWxlKX0gVGlsZS5cbiAgICovXG4gIGdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIGNvbnN0IHNvdXJjZVByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICBpZiAoXG4gICAgICAhc291cmNlUHJvamVjdGlvbiB8fFxuICAgICAgIXByb2plY3Rpb24gfHxcbiAgICAgIGVxdWl2YWxlbnQoc291cmNlUHJvamVjdGlvbiwgcHJvamVjdGlvbilcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFRpbGVJbnRlcm5hbChcbiAgICAgICAgeixcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgICAgc291cmNlUHJvamVjdGlvbiB8fCBwcm9qZWN0aW9uXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBjb25zdCB0aWxlQ29vcmQgPSBbeiwgeCwgeV07XG4gICAgbGV0IHRpbGU7XG4gICAgY29uc3QgdGlsZUNvb3JkS2V5ID0gZ2V0S2V5KHRpbGVDb29yZCk7XG4gICAgaWYgKGNhY2hlLmNvbnRhaW5zS2V5KHRpbGVDb29yZEtleSkpIHtcbiAgICAgIHRpbGUgPSBjYWNoZS5nZXQodGlsZUNvb3JkS2V5KTtcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gdGhpcy5nZXRLZXkoKTtcbiAgICBpZiAodGlsZSAmJiB0aWxlLmtleSA9PSBrZXkpIHtcbiAgICAgIHJldHVybiB0aWxlO1xuICAgIH1cbiAgICBjb25zdCBzb3VyY2VUaWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHNvdXJjZVByb2plY3Rpb24pO1xuICAgIGNvbnN0IHRhcmdldFRpbGVHcmlkID0gdGhpcy5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgY29uc3Qgd3JhcHBlZFRpbGVDb29yZCA9IHRoaXMuZ2V0VGlsZUNvb3JkRm9yVGlsZVVybEZ1bmN0aW9uKFxuICAgICAgdGlsZUNvb3JkLFxuICAgICAgcHJvamVjdGlvblxuICAgICk7XG4gICAgY29uc3QgbmV3VGlsZSA9IG5ldyBSZXByb2pUaWxlKFxuICAgICAgc291cmNlUHJvamVjdGlvbixcbiAgICAgIHNvdXJjZVRpbGVHcmlkLFxuICAgICAgcHJvamVjdGlvbixcbiAgICAgIHRhcmdldFRpbGVHcmlkLFxuICAgICAgdGlsZUNvb3JkLFxuICAgICAgd3JhcHBlZFRpbGVDb29yZCxcbiAgICAgIHRoaXMuZ2V0VGlsZVBpeGVsUmF0aW8ocGl4ZWxSYXRpbyksXG4gICAgICB0aGlzLmdldEd1dHRlcigpLFxuICAgICAgKHosIHgsIHksIHBpeGVsUmF0aW8pID0+XG4gICAgICAgIHRoaXMuZ2V0VGlsZUludGVybmFsKHosIHgsIHksIHBpeGVsUmF0aW8sIHNvdXJjZVByb2plY3Rpb24pLFxuICAgICAgdGhpcy5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZF8sXG4gICAgICB0aGlzLnJlbmRlclJlcHJvamVjdGlvbkVkZ2VzXyxcbiAgICAgIHRoaXMuZ2V0SW50ZXJwb2xhdGUoKVxuICAgICk7XG4gICAgbmV3VGlsZS5rZXkgPSBrZXk7XG5cbiAgICBpZiAodGlsZSkge1xuICAgICAgbmV3VGlsZS5pbnRlcmltVGlsZSA9IHRpbGU7XG4gICAgICBuZXdUaWxlLnJlZnJlc2hJbnRlcmltQ2hhaW4oKTtcbiAgICAgIGNhY2hlLnJlcGxhY2UodGlsZUNvb3JkS2V5LCBuZXdUaWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGUuc2V0KHRpbGVDb29yZEtleSwgbmV3VGlsZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdUaWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0geyFpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHshSW1hZ2VUaWxlfSBUaWxlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRUaWxlSW50ZXJuYWwoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIGxldCB0aWxlID0gbnVsbDtcbiAgICBjb25zdCB0aWxlQ29vcmRLZXkgPSBnZXRLZXlaWFkoeiwgeCwgeSk7XG4gICAgY29uc3Qga2V5ID0gdGhpcy5nZXRLZXkoKTtcbiAgICBpZiAoIXRoaXMudGlsZUNhY2hlLmNvbnRhaW5zS2V5KHRpbGVDb29yZEtleSkpIHtcbiAgICAgIHRpbGUgPSB0aGlzLmNyZWF0ZVRpbGVfKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24sIGtleSk7XG4gICAgICB0aGlzLnRpbGVDYWNoZS5zZXQodGlsZUNvb3JkS2V5LCB0aWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGlsZSA9IHRoaXMudGlsZUNhY2hlLmdldCh0aWxlQ29vcmRLZXkpO1xuICAgICAgaWYgKHRpbGUua2V5ICE9IGtleSkge1xuICAgICAgICAvLyBUaGUgc291cmNlJ3MgcGFyYW1zIGNoYW5nZWQuIElmIHRoZSB0aWxlIGhhcyBhbiBpbnRlcmltIHRpbGUgYW5kIGlmIHdlXG4gICAgICAgIC8vIGNhbiB1c2UgaXQgdGhlbiB3ZSB1c2UgaXQuIE90aGVyd2lzZSB3ZSBjcmVhdGUgYSBuZXcgdGlsZS4gIEluIGJvdGhcbiAgICAgICAgLy8gY2FzZXMgd2UgYXR0ZW1wdCB0byBhc3NpZ24gYW4gaW50ZXJpbSB0aWxlIHRvIHRoZSBuZXcgdGlsZS5cbiAgICAgICAgY29uc3QgaW50ZXJpbVRpbGUgPSB0aWxlO1xuICAgICAgICB0aWxlID0gdGhpcy5jcmVhdGVUaWxlXyh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBrZXkpO1xuXG4gICAgICAgIC8vbWFrZSB0aGUgbmV3IHRpbGUgdGhlIGhlYWQgb2YgdGhlIGxpc3QsXG4gICAgICAgIGlmIChpbnRlcmltVGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgLy90aGUgb2xkIHRpbGUgaGFzbid0IGJlZ3VuIGxvYWRpbmcgeWV0LCBhbmQgaXMgbm93IG91dGRhdGVkLCBzbyB3ZSBjYW4gc2ltcGx5IGRpc2NhcmQgaXRcbiAgICAgICAgICB0aWxlLmludGVyaW1UaWxlID0gaW50ZXJpbVRpbGUuaW50ZXJpbVRpbGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGlsZS5pbnRlcmltVGlsZSA9IGludGVyaW1UaWxlO1xuICAgICAgICB9XG4gICAgICAgIHRpbGUucmVmcmVzaEludGVyaW1DaGFpbigpO1xuICAgICAgICB0aGlzLnRpbGVDYWNoZS5yZXBsYWNlKHRpbGVDb29yZEtleSwgdGlsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgd2hldGhlciB0byByZW5kZXIgcmVwcm9qZWN0aW9uIGVkZ2VzIG9yIG5vdCAodXN1YWxseSBmb3IgZGVidWdnaW5nKS5cbiAgICogQHBhcmFtIHtib29sZWFufSByZW5kZXIgUmVuZGVyIHRoZSBlZGdlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0UmVuZGVyUmVwcm9qZWN0aW9uRWRnZXMocmVuZGVyKSB7XG4gICAgaWYgKHRoaXMucmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfID09IHJlbmRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlclJlcHJvamVjdGlvbkVkZ2VzXyA9IHJlbmRlcjtcbiAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbikge1xuICAgICAgdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW2lkXS5jbGVhcigpO1xuICAgIH1cbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aWxlIGdyaWQgdG8gdXNlIHdoZW4gcmVwcm9qZWN0aW5nIHRoZSB0aWxlcyB0byB0aGUgZ2l2ZW5cbiAgICogcHJvamVjdGlvbiBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IHRpbGUgZ3JpZCBmb3IgdGhlIHByb2plY3Rpb24uXG4gICAqXG4gICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuIHRoZSBkZWZhdWx0IHRpbGUgZ3JpZCBjYW5ub3QgYmUgY3JlYXRlZFxuICAgKiAoZS5nLiBwcm9qZWN0aW9uIGhhcyBubyBleHRlbnQgZGVmaW5lZCkgb3JcbiAgICogZm9yIG9wdGltaXphdGlvbiByZWFzb25zIChjdXN0b20gdGlsZSBzaXplLCByZXNvbHV0aW9ucywgLi4uKS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZWdyaWQgVGlsZSBncmlkIHRvIHVzZSBmb3IgdGhlIHByb2plY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uLCB0aWxlZ3JpZCkge1xuICAgIGNvbnN0IHByb2ogPSBnZXRQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGlmIChwcm9qKSB7XG4gICAgICBjb25zdCBwcm9qS2V5ID0gZ2V0VWlkKHByb2opO1xuICAgICAgaWYgKCEocHJvaktleSBpbiB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbikpIHtcbiAgICAgICAgdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb25bcHJvaktleV0gPSB0aWxlZ3JpZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICBzdXBlci5jbGVhcigpO1xuICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uKSB7XG4gICAgICB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb25baWRdLmNsZWFyKCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtJbWFnZVRpbGV9IGltYWdlVGlsZSBJbWFnZSB0aWxlLlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTb3VyY2UuXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRUaWxlTG9hZEZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gIC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSAqLyAoaW1hZ2VUaWxlLmdldEltYWdlKCkpLnNyYyA9XG4gICAgc3JjO1xufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlSW1hZ2U7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1NvdXJjZVxuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IHtnZXQgYXMgZ2V0UHJvamVjdGlvbn0gZnJvbSAnLi4vcHJvai5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYgeyd1bmRlZmluZWQnIHwgJ2xvYWRpbmcnIHwgJ3JlYWR5JyB8ICdlcnJvcid9IFN0YXRlXG4gKiBTdGF0ZSBvZiB0aGUgc291cmNlLCBvbmUgb2YgJ3VuZGVmaW5lZCcsICdsb2FkaW5nJywgJ3JlYWR5JyBvciAnZXJyb3InLlxuICovXG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEge0BsaW5rIG1vZHVsZTpvbC9NYXB+RnJhbWVTdGF0ZX0gYW5kIHJldHVybnMgYSBzdHJpbmcgb3JcbiAqIGFuIGFycmF5IG9mIHN0cmluZ3MgcmVwcmVzZW50aW5nIHNvdXJjZSBhdHRyaWJ1dGlvbnMuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlKTogKHN0cmluZ3xBcnJheTxzdHJpbmc+KX0gQXR0cmlidXRpb25cbiAqL1xuXG4vKipcbiAqIEEgdHlwZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgYXR0cmlidXRpb24gaW5mb3JtYXRpb24gZm9yIGRhdGEgc291cmNlcy5cbiAqXG4gKiBJdCByZXByZXNlbnRzIGVpdGhlclxuICogKiBhIHNpbXBsZSBzdHJpbmcgKGUuZy4gYCfCqSBBY21lIEluYy4nYClcbiAqICogYW4gYXJyYXkgb2Ygc2ltcGxlIHN0cmluZ3MgKGUuZy4gYFsnwqkgQWNtZSBJbmMuJywgJ8KpIEJhY21lIEluYy4nXWApXG4gKiAqIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgc3RyaW5nIG9yIGFycmF5IG9mIHN0cmluZ3MgKHtAbGluayBtb2R1bGU6b2wvc291cmNlL1NvdXJjZX5BdHRyaWJ1dGlvbn0pXG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xBcnJheTxzdHJpbmc+fEF0dHJpYnV0aW9ufSBBdHRyaWJ1dGlvbkxpa2VcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7QXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXSBBdHRyaWJ1dGlvbnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZT10cnVlXSBBdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi4gRGVmYXVsdCBpcyB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5TdGF0ZX0gW3N0YXRlPSdyZWFkeSddIFN0YXRlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9ZmFsc2VdIFdyYXBYLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW50ZXJwb2xhdGU9ZmFsc2VdIFVzZSBpbnRlcnBvbGF0ZWQgdmFsdWVzIHdoZW4gcmVzYW1wbGluZy4gIEJ5IGRlZmF1bHQsXG4gKiB0aGUgbmVhcmVzdCBuZWlnaGJvciBpcyB1c2VkIHdoZW4gcmVzYW1wbGluZy5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEJhc2UgY2xhc3MgZm9yIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXJ9IHNvdXJjZXMuXG4gKlxuICogQSBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBzdGF0ZSBvZiB0aGUgc291cmNlIGNoYW5nZXMuXG4gKiBAYWJzdHJhY3RcbiAqIEBhcGlcbiAqL1xuY2xhc3MgU291cmNlIGV4dGVuZHMgQmFzZU9iamVjdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgU291cmNlIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnByb2plY3Rpb24gPSBnZXRQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/QXR0cmlidXRpb259XG4gICAgICovXG4gICAgdGhpcy5hdHRyaWJ1dGlvbnNfID0gYWRhcHRBdHRyaWJ1dGlvbnMob3B0aW9ucy5hdHRyaWJ1dGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXyA9XG4gICAgICBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXG4gICAgICAgIDogdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nIGRhdGEuIFNvdXJjZXMgdGhhdCBkZWZlciBsb2FkaW5nIHRvIHRoZVxuICAgICAqIG1hcCdzIHRpbGUgcXVldWUgbmV2ZXIgc2V0IHRoaXMgdG8gYHRydWVgLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy5zdGF0ZV8gPSBvcHRpb25zLnN0YXRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0YXRlIDogJ3JlYWR5JztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy53cmFwWF8gPSBvcHRpb25zLndyYXBYICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLndyYXBYIDogZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaW50ZXJwb2xhdGVfID0gISFvcHRpb25zLmludGVycG9sYXRlO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLlZpZXdPcHRpb25zKTp2b2lkfVxuICAgICAqL1xuICAgIHRoaXMudmlld1Jlc29sdmVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oRXJyb3IpOnZvaWR9XG4gICAgICovXG4gICAgdGhpcy52aWV3UmVqZWN0b3IgPSBudWxsO1xuXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7UHJvbWlzZTxpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLlZpZXdPcHRpb25zPn1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXdQcm9taXNlXyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHNlbGYudmlld1Jlc29sdmVyID0gcmVzb2x2ZTtcbiAgICAgIHNlbGYudmlld1JlamVjdG9yID0gcmVqZWN0O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYXR0cmlidXRpb24gZnVuY3Rpb24gZm9yIHRoZSBzb3VyY2UuXG4gICAqIEByZXR1cm4gez9BdHRyaWJ1dGlvbn0gQXR0cmlidXRpb24gZnVuY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEF0dHJpYnV0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGlvbnNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHByb2plY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR8bnVsbH0gUHJvamVjdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UHJvamVjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uXCIpLmRlZmF1bHR9IFtwcm9qZWN0aW9uXSBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fG51bGx9IFJlc29sdXRpb25zLlxuICAgKi9cbiAgZ2V0UmVzb2x1dGlvbnMocHJvamVjdGlvbikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1Byb21pc2U8aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5WaWV3T3B0aW9ucz59IEEgcHJvbWlzZSBmb3Igdmlldy1yZWxhdGVkIHByb3BlcnRpZXMuXG4gICAqL1xuICBnZXRWaWV3KCkge1xuICAgIHJldHVybiB0aGlzLnZpZXdQcm9taXNlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UsIHNlZSB7QGxpbmsgaW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuU3RhdGV9IGZvciBwb3NzaWJsZSBzdGF0ZXMuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLlN0YXRlfSBTdGF0ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW58dW5kZWZpbmVkfSBXcmFwIFguXG4gICAqL1xuICBnZXRXcmFwWCgpIHtcbiAgICByZXR1cm4gdGhpcy53cmFwWF87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVXNlIGxpbmVhciBpbnRlcnBvbGF0aW9uIHdoZW4gcmVzYW1wbGluZy5cbiAgICovXG4gIGdldEludGVycG9sYXRlKCkge1xuICAgIHJldHVybiB0aGlzLmludGVycG9sYXRlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWZyZXNoZXMgdGhlIHNvdXJjZS4gVGhlIHNvdXJjZSB3aWxsIGJlIGNsZWFyZWQsIGFuZCBkYXRhIGZyb20gdGhlIHNlcnZlciB3aWxsIGJlIHJlbG9hZGVkLlxuICAgKiBAYXBpXG4gICAqL1xuICByZWZyZXNoKCkge1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYXR0cmlidXRpb25zIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7QXR0cmlidXRpb25MaWtlfHVuZGVmaW5lZH0gYXR0cmlidXRpb25zIEF0dHJpYnV0aW9ucy5cbiAgICogICAgIENhbiBiZSBwYXNzZWQgYXMgYHN0cmluZ2AsIGBBcnJheTxzdHJpbmc+YCwge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvU291cmNlfkF0dHJpYnV0aW9ufSxcbiAgICogICAgIG9yIGB1bmRlZmluZWRgLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRBdHRyaWJ1dGlvbnMoYXR0cmlidXRpb25zKSB7XG4gICAgdGhpcy5hdHRyaWJ1dGlvbnNfID0gYWRhcHRBdHRyaWJ1dGlvbnMoYXR0cmlidXRpb25zKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgKi9cbiAgc2V0U3RhdGUoc3RhdGUpIHtcbiAgICB0aGlzLnN0YXRlXyA9IHN0YXRlO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG59XG5cbi8qKlxuICogVHVybnMgdGhlIGF0dHJpYnV0aW9ucyBvcHRpb24gaW50byBhbiBhdHRyaWJ1dGlvbnMgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge0F0dHJpYnV0aW9uTGlrZXx1bmRlZmluZWR9IGF0dHJpYnV0aW9uTGlrZSBUaGUgYXR0cmlidXRpb24gb3B0aW9uLlxuICogQHJldHVybiB7QXR0cmlidXRpb258bnVsbH0gQW4gYXR0cmlidXRpb24gZnVuY3Rpb24gKG9yIG51bGwpLlxuICovXG5mdW5jdGlvbiBhZGFwdEF0dHJpYnV0aW9ucyhhdHRyaWJ1dGlvbkxpa2UpIHtcbiAgaWYgKCFhdHRyaWJ1dGlvbkxpa2UpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhdHRyaWJ1dGlvbkxpa2UpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgICByZXR1cm4gYXR0cmlidXRpb25MaWtlO1xuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIGF0dHJpYnV0aW9uTGlrZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBhdHRyaWJ1dGlvbkxpa2U7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICByZXR1cm4gW2F0dHJpYnV0aW9uTGlrZV07XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNvdXJjZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVGlsZVxuICovXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCBTb3VyY2UgZnJvbSAnLi9Tb3VyY2UuanMnO1xuaW1wb3J0IFRpbGVDYWNoZSBmcm9tICcuLi9UaWxlQ2FjaGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge2VxdWl2YWxlbnR9IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IHtnZXRLZXlaWFksIHdpdGhpbkV4dGVudEFuZFp9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQge1xuICBnZXRGb3JQcm9qZWN0aW9uIGFzIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbixcbiAgd3JhcFgsXG59IGZyb20gJy4uL3RpbGVncmlkLmpzJztcbmltcG9ydCB7c2NhbGUgYXMgc2NhbGVTaXplLCB0b1NpemV9IGZyb20gJy4uL3NpemUuanMnO1xuXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXMsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9UaWxlRXZlbnRUeXBlXCIpLlRpbGVTb3VyY2VFdmVudFR5cGVzLCBUaWxlU291cmNlRXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfGltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICBpbXBvcnQoXCIuL1RpbGVFdmVudFR5cGVcIikuVGlsZVNvdXJjZUV2ZW50VHlwZXMsIFJldHVybj59IFRpbGVTb3VyY2VPblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV0gQ2FjaGVTaXplLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3BhcXVlPWZhbHNlXSBXaGV0aGVyIHRoZSBsYXllciBpcyBvcGFxdWUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RpbGVQaXhlbFJhdGlvXSBUaWxlUGl4ZWxSYXRpby5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb25dIFByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLlN0YXRlfSBbc3RhdGVdIFN0YXRlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBbdGlsZUdyaWRdIFRpbGVHcmlkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9ZmFsc2VdIFdyYXBYLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBUcmFuc2l0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIEtleS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gW3pEaXJlY3Rpb249MF0gWkRpcmVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlPWZhbHNlXSBVc2UgaW50ZXJwb2xhdGVkIHZhbHVlcyB3aGVuIHJlc2FtcGxpbmcuICBCeSBkZWZhdWx0LFxuICogdGhlIG5lYXJlc3QgbmVpZ2hib3IgaXMgdXNlZCB3aGVuIHJlc2FtcGxpbmcuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBCYXNlIGNsYXNzIGZvciBzb3VyY2VzIHByb3ZpZGluZyBpbWFnZXMgZGl2aWRlZCBpbnRvIGEgdGlsZSBncmlkLlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbmNsYXNzIFRpbGVTb3VyY2UgZXh0ZW5kcyBTb3VyY2Uge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIFNvdXJjZVRpbGUgc291cmNlIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlLFxuICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCxcbiAgICAgIGludGVycG9sYXRlOiBvcHRpb25zLmludGVycG9sYXRlLFxuICAgIH0pO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtUaWxlU291cmNlT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7VGlsZVNvdXJjZU9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7VGlsZVNvdXJjZU9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMub3BhcXVlXyA9IG9wdGlvbnMub3BhcXVlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9wYXF1ZSA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGlsZVBpeGVsUmF0aW9fID1cbiAgICAgIG9wdGlvbnMudGlsZVBpeGVsUmF0aW8gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGlsZVBpeGVsUmF0aW8gOiAxO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVHcmlkID0gb3B0aW9ucy50aWxlR3JpZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aWxlR3JpZCA6IG51bGw7XG5cbiAgICBjb25zdCB0aWxlU2l6ZSA9IFsyNTYsIDI1Nl07XG4gICAgaWYgKHRoaXMudGlsZUdyaWQpIHtcbiAgICAgIHRvU2l6ZSh0aGlzLnRpbGVHcmlkLmdldFRpbGVTaXplKHRoaXMudGlsZUdyaWQuZ2V0TWluWm9vbSgpKSwgdGlsZVNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZUNhY2hlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy50aWxlQ2FjaGUgPSBuZXcgVGlsZUNhY2hlKG9wdGlvbnMuY2FjaGVTaXplIHx8IDApO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy50bXBTaXplID0gWzAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMua2V5XyA9IG9wdGlvbnMua2V5IHx8ICcnO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLk9wdGlvbnN9XG4gICAgICovXG4gICAgdGhpcy50aWxlT3B0aW9ucyA9IHtcbiAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgIGludGVycG9sYXRlOiBvcHRpb25zLmludGVycG9sYXRlLFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiB6RGlyZWN0aW9uIGhpbnQsIHJlYWQgYnkgdGhlIHJlbmRlcmVyLiBJbmRpY2F0ZXMgd2hpY2ggcmVzb2x1dGlvbiBzaG91bGQgYmUgdXNlZFxuICAgICAqIGJ5IGEgcmVuZGVyZXIgaWYgdGhlIHZpZXdzIHJlc29sdXRpb24gZG9lcyBub3QgbWF0Y2ggYW55IHJlc29sdXRpb24gb2YgdGhlIHRpbGUgc291cmNlLlxuICAgICAqIElmIDAsIHRoZSBuZWFyZXN0IHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLiBJZiAxLCB0aGUgbmVhcmVzdCBsb3dlciByZXNvbHV0aW9uXG4gICAgICogd2lsbCBiZSB1c2VkLiBJZiAtMSwgdGhlIG5lYXJlc3QgaGlnaGVyIHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLlxuICAgICAqIEB0eXBlIHtudW1iZXJ8aW1wb3J0KFwiLi4vYXJyYXkuanNcIikuTmVhcmVzdERpcmVjdGlvbkZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuekRpcmVjdGlvbiA9IG9wdGlvbnMuekRpcmVjdGlvbiA/IG9wdGlvbnMuekRpcmVjdGlvbiA6IDA7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FuIGV4cGlyZSBjYWNoZS5cbiAgICovXG4gIGNhbkV4cGlyZUNhY2hlKCkge1xuICAgIHJldHVybiB0aGlzLnRpbGVDYWNoZS5jYW5FeHBpcmVDYWNoZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59IHVzZWRUaWxlcyBVc2VkIHRpbGVzLlxuICAgKi9cbiAgZXhwaXJlQ2FjaGUocHJvamVjdGlvbiwgdXNlZFRpbGVzKSB7XG4gICAgY29uc3QgdGlsZUNhY2hlID0gdGhpcy5nZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGlmICh0aWxlQ2FjaGUpIHtcbiAgICAgIHRpbGVDYWNoZS5leHBpcmVDYWNoZSh1c2VkVGlsZXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdCk6KGJvb2xlYW58dm9pZCl9IGNhbGxiYWNrIENhbGxlZCB3aXRoIGVhY2hcbiAgICogICAgIGxvYWRlZCB0aWxlLiAgSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYGZhbHNlYCwgdGhlIHRpbGUgd2lsbCBub3QgYmVcbiAgICogICAgIGNvbnNpZGVyZWQgbG9hZGVkLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdGlsZSByYW5nZSBpcyBmdWxseSBjb3ZlcmVkIHdpdGggbG9hZGVkIHRpbGVzLlxuICAgKi9cbiAgZm9yRWFjaExvYWRlZFRpbGUocHJvamVjdGlvbiwgeiwgdGlsZVJhbmdlLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHRpbGVDYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBpZiAoIXRpbGVDYWNoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGxldCBjb3ZlcmVkID0gdHJ1ZTtcbiAgICBsZXQgdGlsZSwgdGlsZUNvb3JkS2V5LCBsb2FkZWQ7XG4gICAgZm9yIChsZXQgeCA9IHRpbGVSYW5nZS5taW5YOyB4IDw9IHRpbGVSYW5nZS5tYXhYOyArK3gpIHtcbiAgICAgIGZvciAobGV0IHkgPSB0aWxlUmFuZ2UubWluWTsgeSA8PSB0aWxlUmFuZ2UubWF4WTsgKyt5KSB7XG4gICAgICAgIHRpbGVDb29yZEtleSA9IGdldEtleVpYWSh6LCB4LCB5KTtcbiAgICAgICAgbG9hZGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aWxlQ2FjaGUuY29udGFpbnNLZXkodGlsZUNvb3JkS2V5KSkge1xuICAgICAgICAgIHRpbGUgPSAvKiogQHR5cGUgeyFpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgIHRpbGVDYWNoZS5nZXQodGlsZUNvb3JkS2V5KVxuICAgICAgICAgICk7XG4gICAgICAgICAgbG9hZGVkID0gdGlsZS5nZXRTdGF0ZSgpID09PSBUaWxlU3RhdGUuTE9BREVEO1xuICAgICAgICAgIGlmIChsb2FkZWQpIHtcbiAgICAgICAgICAgIGxvYWRlZCA9IGNhbGxiYWNrKHRpbGUpICE9PSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFsb2FkZWQpIHtcbiAgICAgICAgICBjb3ZlcmVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvdmVyZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEd1dHRlci5cbiAgICovXG4gIGdldEd1dHRlckZvclByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUga2V5IHRvIGJlIHVzZWQgZm9yIGFsbCB0aWxlcyBpbiB0aGUgc291cmNlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBrZXkgZm9yIGFsbCB0aWxlcy5cbiAgICovXG4gIGdldEtleSgpIHtcbiAgICByZXR1cm4gdGhpcy5rZXlfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsdWUgdG8gYmUgdXNlZCBhcyB0aGUga2V5IGZvciBhbGwgdGlsZXMgaW4gdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IGZvciB0aWxlcy5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc2V0S2V5KGtleSkge1xuICAgIGlmICh0aGlzLmtleV8gIT09IGtleSkge1xuICAgICAgdGhpcy5rZXlfID0ga2V5O1xuICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gT3BhcXVlLlxuICAgKi9cbiAgZ2V0T3BhcXVlKHByb2plY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5vcGFxdWVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uXCIpLmRlZmF1bHR9IFtwcm9qZWN0aW9uXSBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fG51bGx9IFJlc29sdXRpb25zLlxuICAgKi9cbiAgZ2V0UmVzb2x1dGlvbnMocHJvamVjdGlvbikge1xuICAgIGNvbnN0IHRpbGVHcmlkID0gcHJvamVjdGlvblxuICAgICAgPyB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKVxuICAgICAgOiB0aGlzLnRpbGVHcmlkO1xuICAgIGlmICghdGlsZUdyaWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gVGlsZS5cbiAgICovXG4gIGdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdGlsZSBncmlkIG9mIHRoZSB0aWxlIHNvdXJjZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdHxudWxsfSBUaWxlIGdyaWQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRpbGVHcmlkKCkge1xuICAgIHJldHVybiB0aGlzLnRpbGVHcmlkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFRpbGUgZ3JpZC5cbiAgICovXG4gIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gICAgaWYgKCF0aGlzLnRpbGVHcmlkKSB7XG4gICAgICByZXR1cm4gZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50aWxlR3JpZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVDYWNoZS5qc1wiKS5kZWZhdWx0fSBUaWxlIGNhY2hlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgICBjb25zdCBzb3VyY2VQcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgYXNzZXJ0KFxuICAgICAgc291cmNlUHJvamVjdGlvbiA9PT0gbnVsbCB8fCBlcXVpdmFsZW50KHNvdXJjZVByb2plY3Rpb24sIHByb2plY3Rpb24pLFxuICAgICAgNjggLy8gQSBWZWN0b3JUaWxlIHNvdXJjZSBjYW4gb25seSBiZSByZW5kZXJlZCBpZiBpdCBoYXMgYSBwcm9qZWN0aW9uIGNvbXBhdGlibGUgd2l0aCB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGlsZSBwaXhlbCByYXRpbyBmb3IgdGhpcyBzb3VyY2UuIFN1YmNsYXNzZXMgbWF5IG92ZXJyaWRlIHRoaXNcbiAgICogbWV0aG9kLCB3aGljaCBpcyBtZWFudCB0byByZXR1cm4gYSBzdXBwb3J0ZWQgcGl4ZWwgcmF0aW8gdGhhdCBtYXRjaGVzIHRoZVxuICAgKiBwcm92aWRlZCBgcGl4ZWxSYXRpb2AgYXMgY2xvc2UgYXMgcG9zc2libGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRpbGUgcGl4ZWwgcmF0aW8uXG4gICAqL1xuICBnZXRUaWxlUGl4ZWxSYXRpbyhwaXhlbFJhdGlvKSB7XG4gICAgcmV0dXJuIHRoaXMudGlsZVBpeGVsUmF0aW9fO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gVGlsZSBzaXplLlxuICAgKi9cbiAgZ2V0VGlsZVBpeGVsU2l6ZSh6LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgY29uc3QgdGlsZUdyaWQgPSB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBjb25zdCB0aWxlUGl4ZWxSYXRpbyA9IHRoaXMuZ2V0VGlsZVBpeGVsUmF0aW8ocGl4ZWxSYXRpbyk7XG4gICAgY29uc3QgdGlsZVNpemUgPSB0b1NpemUodGlsZUdyaWQuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZSk7XG4gICAgaWYgKHRpbGVQaXhlbFJhdGlvID09IDEpIHtcbiAgICAgIHJldHVybiB0aWxlU2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuIHNjYWxlU2l6ZSh0aWxlU2l6ZSwgdGlsZVBpeGVsUmF0aW8sIHRoaXMudG1wU2l6ZSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHRpbGUgY29vcmRpbmF0ZSB3cmFwcGVkIGFyb3VuZCB0aGUgeC1heGlzLiBXaGVuIHRoZSB0aWxlIGNvb3JkaW5hdGVcbiAgICogaXMgb3V0c2lkZSB0aGUgcmVzb2x1dGlvbiBhbmQgZXh0ZW50IHJhbmdlIG9mIHRoZSB0aWxlIGdyaWQsIGBudWxsYCB3aWxsIGJlXG4gICAqIHJldHVybmVkLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IFtwcm9qZWN0aW9uXSBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUgdG8gYmUgcGFzc2VkIHRvIHRoZSB0aWxlVXJsRnVuY3Rpb24gb3JcbiAgICogICAgIG51bGwgaWYgbm8gdGlsZSBVUkwgc2hvdWxkIGJlIGNyZWF0ZWQgZm9yIHRoZSBwYXNzZWQgYHRpbGVDb29yZGAuXG4gICAqL1xuICBnZXRUaWxlQ29vcmRGb3JUaWxlVXJsRnVuY3Rpb24odGlsZUNvb3JkLCBwcm9qZWN0aW9uKSB7XG4gICAgcHJvamVjdGlvbiA9IHByb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IHByb2plY3Rpb24gOiB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICBjb25zdCB0aWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGlmICh0aGlzLmdldFdyYXBYKCkgJiYgcHJvamVjdGlvbi5pc0dsb2JhbCgpKSB7XG4gICAgICB0aWxlQ29vcmQgPSB3cmFwWCh0aWxlR3JpZCwgdGlsZUNvb3JkLCBwcm9qZWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpdGhpbkV4dGVudEFuZFoodGlsZUNvb3JkLCB0aWxlR3JpZCkgPyB0aWxlQ29vcmQgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgY2FjaGVkIHRpbGVzIGZyb20gdGhlIHNvdXJjZS4gVGhlIG5leHQgcmVuZGVyIGN5Y2xlIHdpbGwgZmV0Y2ggbmV3IHRpbGVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLnRpbGVDYWNoZS5jbGVhcigpO1xuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgc3VwZXIucmVmcmVzaCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluY3JlYXNlcyB0aGUgY2FjaGUgc2l6ZSBpZiBuZWVkZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbGVDb3VudCBNaW5pbXVtIG51bWJlciBvZiB0aWxlcyBuZWVkZWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICovXG4gIHVwZGF0ZUNhY2hlU2l6ZSh0aWxlQ291bnQsIHByb2plY3Rpb24pIHtcbiAgICBjb25zdCB0aWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgaWYgKHRpbGVDb3VudCA+IHRpbGVDYWNoZS5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgICB0aWxlQ2FjaGUuaGlnaFdhdGVyTWFyayA9IHRpbGVDb3VudDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWFya3MgYSB0aWxlIGNvb3JkIGFzIGJlaW5nIHVzZWQsIHdpdGhvdXQgdHJpZ2dlcmluZyBhIGxvYWQuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqL1xuICB1c2VUaWxlKHosIHgsIHksIHByb2plY3Rpb24pIHt9XG59XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZX5UaWxlU291cmNlfSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZiB0aGlzXG4gKiB0eXBlLlxuICovXG5leHBvcnQgY2xhc3MgVGlsZVNvdXJjZUV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGhlIHRpbGUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCB0aWxlKSB7XG4gICAgc3VwZXIodHlwZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGlsZSByZWxhdGVkIHRvIHRoZSBldmVudC5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLnRpbGUgPSB0aWxlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVTb3VyY2U7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZXVybGZ1bmN0aW9uXG4gKi9cbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHttb2R1bG99IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQge2hhc2ggYXMgdGlsZUNvb3JkSGFzaH0gZnJvbSAnLi90aWxlY29vcmQuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZSBUZW1wbGF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFRpbGUgVVJMIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCB0aWxlR3JpZCkge1xuICBjb25zdCB6UmVnRXggPSAvXFx7elxcfS9nO1xuICBjb25zdCB4UmVnRXggPSAvXFx7eFxcfS9nO1xuICBjb25zdCB5UmVnRXggPSAvXFx7eVxcfS9nO1xuICBjb25zdCBkYXNoWVJlZ0V4ID0gL1xcey15XFx9L2c7XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgaWYgKCF0aWxlQ29vcmQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZW1wbGF0ZVxuICAgICAgICAucmVwbGFjZSh6UmVnRXgsIHRpbGVDb29yZFswXS50b1N0cmluZygpKVxuICAgICAgICAucmVwbGFjZSh4UmVnRXgsIHRpbGVDb29yZFsxXS50b1N0cmluZygpKVxuICAgICAgICAucmVwbGFjZSh5UmVnRXgsIHRpbGVDb29yZFsyXS50b1N0cmluZygpKVxuICAgICAgICAucmVwbGFjZShkYXNoWVJlZ0V4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc3QgeiA9IHRpbGVDb29yZFswXTtcbiAgICAgICAgICBjb25zdCByYW5nZSA9IHRpbGVHcmlkLmdldEZ1bGxUaWxlUmFuZ2Uoeik7XG4gICAgICAgICAgYXNzZXJ0KHJhbmdlLCA1NSk7IC8vIFRoZSB7LXl9IHBsYWNlaG9sZGVyIHJlcXVpcmVzIGEgdGlsZSBncmlkIHdpdGggZXh0ZW50XG4gICAgICAgICAgY29uc3QgeSA9IHJhbmdlLmdldEhlaWdodCgpIC0gdGlsZUNvb3JkWzJdIC0gMTtcbiAgICAgICAgICByZXR1cm4geS50b1N0cmluZygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSB0ZW1wbGF0ZXMgVGVtcGxhdGVzLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gVGlsZSBVUkwgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGcm9tVGVtcGxhdGVzKHRlbXBsYXRlcywgdGlsZUdyaWQpIHtcbiAgY29uc3QgbGVuID0gdGVtcGxhdGVzLmxlbmd0aDtcbiAgY29uc3QgdGlsZVVybEZ1bmN0aW9ucyA9IG5ldyBBcnJheShsZW4pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdGlsZVVybEZ1bmN0aW9uc1tpXSA9IGNyZWF0ZUZyb21UZW1wbGF0ZSh0ZW1wbGF0ZXNbaV0sIHRpbGVHcmlkKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlRnJvbVRpbGVVcmxGdW5jdGlvbnModGlsZVVybEZ1bmN0aW9ucyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL1RpbGUuanNcIikuVXJsRnVuY3Rpb24+fSB0aWxlVXJsRnVuY3Rpb25zIFRpbGUgVVJMIEZ1bmN0aW9ucy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gVGlsZSBVUkwgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGcm9tVGlsZVVybEZ1bmN0aW9ucyh0aWxlVXJsRnVuY3Rpb25zKSB7XG4gIGlmICh0aWxlVXJsRnVuY3Rpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiB0aWxlVXJsRnVuY3Rpb25zWzBdO1xuICB9XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgaWYgKCF0aWxlQ29vcmQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGggPSB0aWxlQ29vcmRIYXNoKHRpbGVDb29yZCk7XG4gICAgICBjb25zdCBpbmRleCA9IG1vZHVsbyhoLCB0aWxlVXJsRnVuY3Rpb25zLmxlbmd0aCk7XG4gICAgICByZXR1cm4gdGlsZVVybEZ1bmN0aW9uc1tpbmRleF0odGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICB9XG4gICk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudWxsVGlsZVVybEZ1bmN0aW9uKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMLlxuICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn0gQXJyYXkgb2YgdXJscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZFVybCh1cmwpIHtcbiAgY29uc3QgdXJscyA9IFtdO1xuICBsZXQgbWF0Y2ggPSAvXFx7KFthLXpdKS0oW2Etel0pXFx9Ly5leGVjKHVybCk7XG4gIGlmIChtYXRjaCkge1xuICAgIC8vIGNoYXIgcmFuZ2VcbiAgICBjb25zdCBzdGFydENoYXJDb2RlID0gbWF0Y2hbMV0uY2hhckNvZGVBdCgwKTtcbiAgICBjb25zdCBzdG9wQ2hhckNvZGUgPSBtYXRjaFsyXS5jaGFyQ29kZUF0KDApO1xuICAgIGxldCBjaGFyQ29kZTtcbiAgICBmb3IgKGNoYXJDb2RlID0gc3RhcnRDaGFyQ29kZTsgY2hhckNvZGUgPD0gc3RvcENoYXJDb2RlOyArK2NoYXJDb2RlKSB7XG4gICAgICB1cmxzLnB1c2godXJsLnJlcGxhY2UobWF0Y2hbMF0sIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpKSk7XG4gICAgfVxuICAgIHJldHVybiB1cmxzO1xuICB9XG4gIG1hdGNoID0gL1xceyhcXGQrKS0oXFxkKylcXH0vLmV4ZWModXJsKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgLy8gbnVtYmVyIHJhbmdlXG4gICAgY29uc3Qgc3RvcCA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG4gICAgZm9yIChsZXQgaSA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7IGkgPD0gc3RvcDsgaSsrKSB7XG4gICAgICB1cmxzLnB1c2godXJsLnJlcGxhY2UobWF0Y2hbMF0sIGkudG9TdHJpbmcoKSkpO1xuICAgIH1cbiAgICByZXR1cm4gdXJscztcbiAgfVxuICB1cmxzLnB1c2godXJsKTtcbiAgcmV0dXJuIHVybHM7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1VybFRpbGVcbiAqL1xuaW1wb3J0IFRpbGVFdmVudFR5cGUgZnJvbSAnLi9UaWxlRXZlbnRUeXBlLmpzJztcbmltcG9ydCBUaWxlU291cmNlLCB7VGlsZVNvdXJjZUV2ZW50fSBmcm9tICcuL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHtjcmVhdGVGcm9tVGVtcGxhdGVzLCBleHBhbmRVcmx9IGZyb20gJy4uL3RpbGV1cmxmdW5jdGlvbi5qcyc7XG5pbXBvcnQge2dldEtleVpYWX0gZnJvbSAnLi4vdGlsZWNvb3JkLmpzJztcbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi91dGlsLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb25zQ29sbGFwc2libGU9dHJ1ZV0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplXSBDYWNoZSBzaXplLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3BhcXVlPWZhbHNlXSBXaGV0aGVyIHRoZSBsYXllciBpcyBvcGFxdWUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uXSBQcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5TdGF0ZX0gW3N0YXRlXSBTdGF0ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlR3JpZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IHRpbGVMb2FkRnVuY3Rpb24gVGlsZUxvYWRGdW5jdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW9dIFRpbGVQaXhlbFJhdGlvLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBbdGlsZVVybEZ1bmN0aW9uXSBUaWxlVXJsRnVuY3Rpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gVXJsLlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSBbdXJsc10gVXJscy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdyYXBYLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBUcmFuc2l0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIEtleS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gW3pEaXJlY3Rpb249MF0gWkRpcmVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlPWZhbHNlXSBVc2UgaW50ZXJwb2xhdGVkIHZhbHVlcyB3aGVuIHJlc2FtcGxpbmcuICBCeSBkZWZhdWx0LFxuICogdGhlIG5lYXJlc3QgbmVpZ2hib3IgaXMgdXNlZCB3aGVuIHJlc2FtcGxpbmcuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZvciBzb3VyY2VzIHByb3ZpZGluZyB0aWxlcyBkaXZpZGVkIGludG8gYSB0aWxlIGdyaWQgb3ZlciBodHRwLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL1RpbGUuanNcIikuVGlsZVNvdXJjZUV2ZW50XG4gKi9cbmNsYXNzIFVybFRpbGUgZXh0ZW5kcyBUaWxlU291cmNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBJbWFnZSB0aWxlIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICBvcGFxdWU6IG9wdGlvbnMub3BhcXVlLFxuICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICB0aWxlR3JpZDogb3B0aW9ucy50aWxlR3JpZCxcbiAgICAgIHRpbGVQaXhlbFJhdGlvOiBvcHRpb25zLnRpbGVQaXhlbFJhdGlvLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFgsXG4gICAgICB0cmFuc2l0aW9uOiBvcHRpb25zLnRyYW5zaXRpb24sXG4gICAgICBpbnRlcnBvbGF0ZTogb3B0aW9ucy5pbnRlcnBvbGF0ZSxcbiAgICAgIGtleTogb3B0aW9ucy5rZXksXG4gICAgICBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZTogb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSxcbiAgICAgIHpEaXJlY3Rpb246IG9wdGlvbnMuekRpcmVjdGlvbixcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5nZW5lcmF0ZVRpbGVVcmxGdW5jdGlvbl8gPVxuICAgICAgdGhpcy50aWxlVXJsRnVuY3Rpb24gPT09IFVybFRpbGUucHJvdG90eXBlLnRpbGVVcmxGdW5jdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uID0gb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uO1xuXG4gICAgaWYgKG9wdGlvbnMudGlsZVVybEZ1bmN0aW9uKSB7XG4gICAgICB0aGlzLnRpbGVVcmxGdW5jdGlvbiA9IG9wdGlvbnMudGlsZVVybEZ1bmN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7IUFycmF5PHN0cmluZz58bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnVybHMgPSBudWxsO1xuXG4gICAgaWYgKG9wdGlvbnMudXJscykge1xuICAgICAgdGhpcy5zZXRVcmxzKG9wdGlvbnMudXJscyk7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnVybCkge1xuICAgICAgdGhpcy5zZXRVcmwob3B0aW9ucy51cmwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVMb2FkaW5nS2V5c18gPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHRpbGUgbG9hZCBmdW5jdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gVGlsZUxvYWRGdW5jdGlvblxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUaWxlTG9hZEZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRpbGVMb2FkRnVuY3Rpb247XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSB0aWxlIFVSTCBmdW5jdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlVXJsRnVuY3Rpb25cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VGlsZVVybEZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykudGlsZVVybEZ1bmN0aW9uID09PSB0aGlzLnRpbGVVcmxGdW5jdGlvblxuICAgICAgPyB0aGlzLnRpbGVVcmxGdW5jdGlvbi5iaW5kKHRoaXMpXG4gICAgICA6IHRoaXMudGlsZVVybEZ1bmN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgVVJMcyB1c2VkIGZvciB0aGlzIHNvdXJjZS5cbiAgICogV2hlbiBhIHRpbGVVcmxGdW5jdGlvbiBpcyB1c2VkIGluc3RlYWQgb2YgdXJsIG9yIHVybHMsXG4gICAqIG51bGwgd2lsbCBiZSByZXR1cm5lZC5cbiAgICogQHJldHVybiB7IUFycmF5PHN0cmluZz58bnVsbH0gVVJMcy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VXJscygpIHtcbiAgICByZXR1cm4gdGhpcy51cmxzO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0aWxlIGNoYW5nZSBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEV2ZW50LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBoYW5kbGVUaWxlQ2hhbmdlKGV2ZW50KSB7XG4gICAgY29uc3QgdGlsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZlbnQudGFyZ2V0KTtcbiAgICBjb25zdCB1aWQgPSBnZXRVaWQodGlsZSk7XG4gICAgY29uc3QgdGlsZVN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgIGxldCB0eXBlO1xuICAgIGlmICh0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkxPQURJTkcpIHtcbiAgICAgIHRoaXMudGlsZUxvYWRpbmdLZXlzX1t1aWRdID0gdHJ1ZTtcbiAgICAgIHR5cGUgPSBUaWxlRXZlbnRUeXBlLlRJTEVMT0FEU1RBUlQ7XG4gICAgfSBlbHNlIGlmICh1aWQgaW4gdGhpcy50aWxlTG9hZGluZ0tleXNfKSB7XG4gICAgICBkZWxldGUgdGhpcy50aWxlTG9hZGluZ0tleXNfW3VpZF07XG4gICAgICB0eXBlID1cbiAgICAgICAgdGlsZVN0YXRlID09IFRpbGVTdGF0ZS5FUlJPUlxuICAgICAgICAgID8gVGlsZUV2ZW50VHlwZS5USUxFTE9BREVSUk9SXG4gICAgICAgICAgOiB0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkxPQURFRFxuICAgICAgICAgID8gVGlsZUV2ZW50VHlwZS5USUxFTE9BREVORFxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodHlwZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVGlsZVNvdXJjZUV2ZW50KHR5cGUsIHRpbGUpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB0aWxlIGxvYWQgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gdGlsZUxvYWRGdW5jdGlvbiBUaWxlIGxvYWQgZnVuY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFRpbGVMb2FkRnVuY3Rpb24odGlsZUxvYWRGdW5jdGlvbikge1xuICAgIHRoaXMudGlsZUNhY2hlLmNsZWFyKCk7XG4gICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uID0gdGlsZUxvYWRGdW5jdGlvbjtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRpbGUgVVJMIGZ1bmN0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gdGlsZVVybEZ1bmN0aW9uIFRpbGUgVVJMIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gT3B0aW9uYWwgbmV3IHRpbGUga2V5IGZvciB0aGUgc291cmNlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRUaWxlVXJsRnVuY3Rpb24odGlsZVVybEZ1bmN0aW9uLCBrZXkpIHtcbiAgICB0aGlzLnRpbGVVcmxGdW5jdGlvbiA9IHRpbGVVcmxGdW5jdGlvbjtcbiAgICB0aGlzLnRpbGVDYWNoZS5wcnVuZUV4Y2VwdE5ld2VzdFooKTtcbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuc2V0S2V5KGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIFVSTCB0byB1c2UgZm9yIHJlcXVlc3RzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0VXJsKHVybCkge1xuICAgIGNvbnN0IHVybHMgPSBleHBhbmRVcmwodXJsKTtcbiAgICB0aGlzLnVybHMgPSB1cmxzO1xuICAgIHRoaXMuc2V0VXJscyh1cmxzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIFVSTHMgdG8gdXNlIGZvciByZXF1ZXN0cy5cbiAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSB1cmxzIFVSTHMuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFVybHModXJscykge1xuICAgIHRoaXMudXJscyA9IHVybHM7XG4gICAgY29uc3Qga2V5ID0gdXJscy5qb2luKCdcXG4nKTtcbiAgICBpZiAodGhpcy5nZW5lcmF0ZVRpbGVVcmxGdW5jdGlvbl8pIHtcbiAgICAgIHRoaXMuc2V0VGlsZVVybEZ1bmN0aW9uKGNyZWF0ZUZyb21UZW1wbGF0ZXModXJscywgdGhpcy50aWxlR3JpZCksIGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0S2V5KGtleSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAqL1xuICB0aWxlVXJsRnVuY3Rpb24odGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXJrcyBhIHRpbGUgY29vcmQgYXMgYmVpbmcgdXNlZCwgd2l0aG91dCB0cmlnZ2VyaW5nIGEgbG9hZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICovXG4gIHVzZVRpbGUoeiwgeCwgeSkge1xuICAgIGNvbnN0IHRpbGVDb29yZEtleSA9IGdldEtleVpYWSh6LCB4LCB5KTtcbiAgICBpZiAodGhpcy50aWxlQ2FjaGUuY29udGFpbnNLZXkodGlsZUNvb3JkS2V5KSkge1xuICAgICAgdGhpcy50aWxlQ2FjaGUuZ2V0KHRpbGVDb29yZEtleSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVybFRpbGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1RpbGVFdmVudFR5cGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgdGlsZSBzdGFydHMgbG9hZGluZy5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9zb3VyY2UvVGlsZS5UaWxlU291cmNlRXZlbnQjdGlsZWxvYWRzdGFydFxuICAgKiBAYXBpXG4gICAqL1xuICBUSUxFTE9BRFNUQVJUOiAndGlsZWxvYWRzdGFydCcsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgdGlsZSBmaW5pc2hlcyBsb2FkaW5nLCBlaXRoZXIgd2hlbiBpdHMgZGF0YSBpcyBsb2FkZWQsXG4gICAqIG9yIHdoZW4gbG9hZGluZyB3YXMgYWJvcnRlZCBiZWNhdXNlIHRoZSB0aWxlIGlzIG5vIGxvbmdlciBuZWVkZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1RpbGUuVGlsZVNvdXJjZUV2ZW50I3RpbGVsb2FkZW5kXG4gICAqIEBhcGlcbiAgICovXG4gIFRJTEVMT0FERU5EOiAndGlsZWxvYWRlbmQnLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgaWYgdGlsZSBsb2FkaW5nIHJlc3VsdHMgaW4gYW4gZXJyb3IuIE5vdGUgdGhhdCB0aGlzIGlzIG5vdCB0aGVcbiAgICogcmlnaHQgcGxhY2UgdG8gcmUtZmV0Y2ggdGlsZXMuIFNlZSB7QGxpbmsgbW9kdWxlOm9sL0ltYWdlVGlsZX5JbWFnZVRpbGUjbG9hZH1cbiAgICogZm9yIGRldGFpbHMuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1RpbGUuVGlsZVNvdXJjZUV2ZW50I3RpbGVsb2FkZXJyb3JcbiAgICogQGFwaVxuICAgKi9cbiAgVElMRUxPQURFUlJPUjogJ3RpbGVsb2FkZXJyb3InLFxufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7J3RpbGVsb2Fkc3RhcnQnfCd0aWxlbG9hZGVuZCd8J3RpbGVsb2FkZXJyb3InfSBUaWxlU291cmNlRXZlbnRUeXBlc1xuICovXG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvVmVjdG9yVGlsZVxuICovXG5pbXBvcnQgVGlsZSBmcm9tICcuL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuL1RpbGVTdGF0ZS5qcyc7XG5cbmNsYXNzIFZlY3RvclRpbGUgZXh0ZW5kcyBUaWxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZVN0YXRlLmpzXCIpLmRlZmF1bHR9IHN0YXRlIFN0YXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIERhdGEgc291cmNlIHVybC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZvcm1hdCBGZWF0dXJlIGZvcm1hdC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSB0aWxlTG9hZEZ1bmN0aW9uIFRpbGUgbG9hZCBmdW5jdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuT3B0aW9uc30gW29wdGlvbnNdIFRpbGUgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRpbGVDb29yZCwgc3RhdGUsIHNyYywgZm9ybWF0LCB0aWxlTG9hZEZ1bmN0aW9uLCBvcHRpb25zKSB7XG4gICAgc3VwZXIodGlsZUNvb3JkLCBzdGF0ZSwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBFeHRlbnQgb2YgdGhpcyB0aWxlOyBzZXQgYnkgdGhlIHNvdXJjZS5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMuZXh0ZW50ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmZvcm1hdF8gPSBmb3JtYXQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5mZWF0dXJlc18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVMb2FkZXJ9XG4gICAgICovXG4gICAgdGhpcy5sb2FkZXJfO1xuXG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBwcm9qZWN0aW9uIG9mIHRoaXMgdGlsZTsgc2V0IGJ5IHRoZSBzb3VyY2UuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5wcm9qZWN0aW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFJlc29sdXRpb24gb2YgdGhpcyB0aWxlOyBzZXQgYnkgdGhlIHNvdXJjZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uXyA9IHRpbGVMb2FkRnVuY3Rpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy51cmxfID0gc3JjO1xuXG4gICAgdGhpcy5rZXkgPSBzcmM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBmZWF0dXJlIGZvcm1hdCBhc3NpZ25lZCBmb3IgcmVhZGluZyB0aGlzIHRpbGUncyBmZWF0dXJlcy5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBGZWF0dXJlIGZvcm1hdC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Rm9ybWF0KCkge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBmZWF0dXJlcyBmb3IgdGhpcyB0aWxlLiBHZW9tZXRyaWVzIHdpbGwgYmUgaW4gdGhlIHZpZXcgcHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlPn0gRmVhdHVyZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEZlYXR1cmVzKCkge1xuICAgIHJldHVybiB0aGlzLmZlYXR1cmVzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICovXG4gIGxvYWQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoVGlsZVN0YXRlLkxPQURJTkcpO1xuICAgICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uXyh0aGlzLCB0aGlzLnVybF8pO1xuICAgICAgaWYgKHRoaXMubG9hZGVyXykge1xuICAgICAgICB0aGlzLmxvYWRlcl8odGhpcy5leHRlbnQsIHRoaXMucmVzb2x1dGlvbiwgdGhpcy5wcm9qZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlciBmb3Igc3VjY2Vzc2Z1bCB0aWxlIGxvYWQuXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBmZWF0dXJlcyBUaGUgbG9hZGVkIGZlYXR1cmVzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGRhdGFQcm9qZWN0aW9uIERhdGEgcHJvamVjdGlvbi5cbiAgICovXG4gIG9uTG9hZChmZWF0dXJlcywgZGF0YVByb2plY3Rpb24pIHtcbiAgICB0aGlzLnNldEZlYXR1cmVzKGZlYXR1cmVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVyIGZvciB0aWxlIGxvYWQgZXJyb3JzLlxuICAgKi9cbiAgb25FcnJvcigpIHtcbiAgICB0aGlzLnNldFN0YXRlKFRpbGVTdGF0ZS5FUlJPUik7XG4gIH1cblxuICAvKipcbiAgICogRnVuY3Rpb24gZm9yIHVzZSBpbiBhbiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3JUaWxlflZlY3RvclRpbGV9J3MgYHRpbGVMb2FkRnVuY3Rpb25gLlxuICAgKiBTZXRzIHRoZSBmZWF0dXJlcyBmb3IgdGhlIHRpbGUuXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBmZWF0dXJlcyBGZWF0dXJlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0RmVhdHVyZXMoZmVhdHVyZXMpIHtcbiAgICB0aGlzLmZlYXR1cmVzXyA9IGZlYXR1cmVzO1xuICAgIHRoaXMuc2V0U3RhdGUoVGlsZVN0YXRlLkxPQURFRCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBmZWF0dXJlIGxvYWRlciBmb3IgcmVhZGluZyB0aGlzIHRpbGUncyBmZWF0dXJlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2ZlYXR1cmVsb2FkZXIuanNcIikuRmVhdHVyZUxvYWRlcn0gbG9hZGVyIEZlYXR1cmUgbG9hZGVyLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRMb2FkZXIobG9hZGVyKSB7XG4gICAgdGhpcy5sb2FkZXJfID0gbG9hZGVyO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZlY3RvclRpbGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvVmVjdG9yUmVuZGVyVGlsZVxuICovXG5pbXBvcnQgVGlsZSBmcm9tICcuL1RpbGUuanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkQsIHJlbGVhc2VDYW52YXN9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuL3V0aWwuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlcGxheVN0YXRlXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGRpcnR5IERpcnR5LlxuICogQHByb3BlcnR5IHtudWxsfGltcG9ydChcIi4vcmVuZGVyLmpzXCIpLk9yZGVyRnVuY3Rpb259IHJlbmRlcmVkUmVuZGVyT3JkZXIgUmVuZGVyZWRSZW5kZXJPcmRlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZW5kZXJlZFRpbGVSZXZpc2lvbiBSZW5kZXJlZFRpbGVSZXZpc2lvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZW5kZXJlZFJlc29sdXRpb24gUmVuZGVyZWRSZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlbmRlcmVkUmV2aXNpb24gUmVuZGVyZWRSZXZpc2lvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZW5kZXJlZFRpbGVSZXNvbHV0aW9uIFJlbmRlcmVkVGlsZVJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVuZGVyZWRUaWxlWiBSZW5kZXJlZFRpbGVaLlxuICovXG5cbi8qKlxuICogQHR5cGUge0FycmF5PEhUTUxDYW52YXNFbGVtZW50Pn1cbiAqL1xuY29uc3QgY2FudmFzUG9vbCA9IFtdO1xuXG5jbGFzcyBWZWN0b3JSZW5kZXJUaWxlIGV4dGVuZHMgVGlsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fSBzdGF0ZSBTdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHVybFRpbGVDb29yZCBXcmFwcGVkIHRpbGUgY29vcmRpbmF0ZSBmb3Igc291cmNlIHVybHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oVmVjdG9yUmVuZGVyVGlsZSk6QXJyYXk8aW1wb3J0KFwiLi9WZWN0b3JUaWxlXCIpLmRlZmF1bHQ+fSBnZXRTb3VyY2VUaWxlcyBGdW5jdGlvblxuICAgKiB0byBnZXQgc291cmNlIHRpbGVzIGZvciB0aGlzIHRpbGUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0aWxlQ29vcmQsIHN0YXRlLCB1cmxUaWxlQ29vcmQsIGdldFNvdXJjZVRpbGVzKSB7XG4gICAgc3VwZXIodGlsZUNvb3JkLCBzdGF0ZSwge3RyYW5zaXRpb246IDB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ+fVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dF8gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dG9yIGdyb3VwcyBieSBsYXllciB1aWQuIEVudHJpZXMgYXJlIHJlYWQvd3JpdHRlbiBieSB0aGUgcmVuZGVyZXIuXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIEFycmF5PGltcG9ydChcIi4vcmVuZGVyL2NhbnZhcy9FeGVjdXRvckdyb3VwLmpzXCIpLmRlZmF1bHQ+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmV4ZWN1dG9yR3JvdXBzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRvciBncm91cHMgZm9yIGRlY2x1dHRlcmluZywgYnkgbGF5ZXIgdWlkLiBFbnRyaWVzIGFyZSByZWFkL3dyaXR0ZW4gYnkgdGhlIHJlbmRlcmVyLlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBBcnJheTxpbXBvcnQoXCIuL3JlbmRlci9jYW52YXMvRXhlY3V0b3JHcm91cC5qc1wiKS5kZWZhdWx0Pj59XG4gICAgICovXG4gICAgdGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIGxvYWRpbmcgc291cmNlIHRpbGVzLiBSZWFkL3dyaXR0ZW4gYnkgdGhlIHNvdXJjZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubG9hZGluZ1NvdXJjZVRpbGVzID0gMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBJbWFnZURhdGE+fVxuICAgICAqL1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgUmVwbGF5U3RhdGU+fVxuICAgICAqL1xuICAgIHRoaXMucmVwbGF5U3RhdGVfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlVGlsZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBib29sZWFuPn1cbiAgICAgKi9cbiAgICB0aGlzLmVycm9yVGlsZUtleXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy53YW50ZWRSZXNvbHV0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFmdW5jdGlvbigpOkFycmF5PGltcG9ydChcIi4vVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLmdldFNvdXJjZVRpbGVzID0gZ2V0U291cmNlVGlsZXMuYmluZCh1bmRlZmluZWQsIHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH1cbiAgICAgKi9cbiAgICB0aGlzLndyYXBwZWRUaWxlQ29vcmQgPSB1cmxUaWxlQ29vcmQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgKiBAcmV0dXJuIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAgICovXG4gIGdldENvbnRleHQobGF5ZXIpIHtcbiAgICBjb25zdCBrZXkgPSBnZXRVaWQobGF5ZXIpO1xuICAgIGlmICghKGtleSBpbiB0aGlzLmNvbnRleHRfKSkge1xuICAgICAgdGhpcy5jb250ZXh0X1trZXldID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKDEsIDEsIGNhbnZhc1Bvb2wpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb250ZXh0X1trZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGlsZSBoYXMgYSByZW5kZXJpbmcgY29udGV4dCBmb3IgdGhlIGdpdmVuIGxheWVyLlxuICAgKi9cbiAgaGFzQ29udGV4dChsYXllcikge1xuICAgIHJldHVybiBnZXRVaWQobGF5ZXIpIGluIHRoaXMuY29udGV4dF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBDYW52YXMgZm9yIHRoaXMgdGlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQ2FudmFzLlxuICAgKi9cbiAgZ2V0SW1hZ2UobGF5ZXIpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNDb250ZXh0KGxheWVyKSA/IHRoaXMuZ2V0Q29udGV4dChsYXllcikuY2FudmFzIDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAqIEByZXR1cm4ge1JlcGxheVN0YXRlfSBUaGUgcmVwbGF5IHN0YXRlLlxuICAgKi9cbiAgZ2V0UmVwbGF5U3RhdGUobGF5ZXIpIHtcbiAgICBjb25zdCBrZXkgPSBnZXRVaWQobGF5ZXIpO1xuICAgIGlmICghKGtleSBpbiB0aGlzLnJlcGxheVN0YXRlXykpIHtcbiAgICAgIHRoaXMucmVwbGF5U3RhdGVfW2tleV0gPSB7XG4gICAgICAgIGRpcnR5OiBmYWxzZSxcbiAgICAgICAgcmVuZGVyZWRSZW5kZXJPcmRlcjogbnVsbCxcbiAgICAgICAgcmVuZGVyZWRSZXNvbHV0aW9uOiBOYU4sXG4gICAgICAgIHJlbmRlcmVkUmV2aXNpb246IC0xLFxuICAgICAgICByZW5kZXJlZFRpbGVSZXNvbHV0aW9uOiBOYU4sXG4gICAgICAgIHJlbmRlcmVkVGlsZVJldmlzaW9uOiAtMSxcbiAgICAgICAgcmVuZGVyZWRUaWxlWjogLTEsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZXBsYXlTdGF0ZV9ba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHRoZSB0aWxlLlxuICAgKi9cbiAgbG9hZCgpIHtcbiAgICB0aGlzLmdldFNvdXJjZVRpbGVzKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGZyb20gdGhlIGNhY2hlIGR1ZSB0byBleHBpcnlcbiAgICovXG4gIHJlbGVhc2UoKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5jb250ZXh0Xykge1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF9ba2V5XTtcbiAgICAgIHJlbGVhc2VDYW52YXMoY29udGV4dCk7XG4gICAgICBjYW52YXNQb29sLnB1c2goY29udGV4dC5jYW52YXMpO1xuICAgICAgZGVsZXRlIHRoaXMuY29udGV4dF9ba2V5XTtcbiAgICB9XG4gICAgc3VwZXIucmVsZWFzZSgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZlY3RvclJlbmRlclRpbGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZmVhdHVyZWxvYWRlclxuICovXG5pbXBvcnQge1ZPSUR9IGZyb20gJy4vZnVuY3Rpb25zLmpzJztcblxuLyoqXG4gKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAcHJpdmF0ZVxuICovXG5sZXQgd2l0aENyZWRlbnRpYWxzID0gZmFsc2U7XG5cbi8qKlxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZX0gc291cmNlcyB1c2UgYSBmdW5jdGlvbiBvZiB0aGlzIHR5cGUgdG9cbiAqIGxvYWQgZmVhdHVyZXMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyB1cCB0byA1IGFyZ3VtZW50cy4gVGhlc2UgYXJlIGFuIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudH0gcmVwcmVzZW50aW5nXG4gKiB0aGUgYXJlYSB0byBiZSBsb2FkZWQsIGEgYHtudW1iZXJ9YCByZXByZXNlbnRpbmcgdGhlIHJlc29sdXRpb24gKG1hcCB1bml0cyBwZXIgcGl4ZWwpLCBhblxuICoge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb25+UHJvamVjdGlvbn0gZm9yIHRoZSBwcm9qZWN0aW9uLCBhbiBvcHRpb25hbCBzdWNjZXNzIGNhbGxiYWNrIHRoYXQgc2hvdWxkIGdldFxuICogdGhlIGxvYWRlZCBmZWF0dXJlcyBwYXNzZWQgYXMgYW4gYXJndW1lbnQgYW5kIGFuIG9wdGlvbmFsIGZhaWx1cmUgY2FsbGJhY2sgd2l0aCBubyBhcmd1bWVudHMuIElmXG4gKiB0aGUgY2FsbGJhY2tzIGFyZSBub3QgdXNlZCwgdGhlIGNvcnJlc3BvbmRpbmcgdmVjdG9yIHNvdXJjZSB3aWxsIG5vdCBmaXJlIGAnZmVhdHVyZXNsb2FkZW5kJ2AgYW5kXG4gKiBgJ2ZlYXR1cmVzbG9hZGVycm9yJ2AgZXZlbnRzLiBgdGhpc2Agd2l0aGluIHRoZSBmdW5jdGlvbiBpcyBib3VuZCB0byB0aGVcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2V9IGl0J3MgY2FsbGVkIGZyb20uXG4gKlxuICogVGhlIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciBsb2FkaW5nIHRoZSBmZWF0dXJlcyBhbmQgYWRkaW5nIHRoZW0gdG8gdGhlXG4gKiBzb3VyY2UuXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24odGhpczooaW1wb3J0KFwiLi9zb3VyY2UvVmVjdG9yXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHQpLFxuICogICAgICAgICAgIGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudCxcbiAqICAgICAgICAgICBudW1iZXIsXG4gKiAgICAgICAgICAgaW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdCxcbiAqICAgICAgICAgICBmdW5jdGlvbihBcnJheTxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdD4pOiB2b2lkPSxcbiAqICAgICAgICAgICBmdW5jdGlvbigpOiB2b2lkPSk6IHZvaWR9IEZlYXR1cmVMb2FkZXJcbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2V9IHNvdXJjZXMgdXNlIGEgZnVuY3Rpb24gb2YgdGhpcyB0eXBlIHRvXG4gKiBnZXQgdGhlIHVybCB0byBsb2FkIGZlYXR1cmVzIGZyb20uXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL2V4dGVudH5FeHRlbnR9IHJlcHJlc2VudGluZyB0aGUgYXJlYVxuICogdG8gYmUgbG9hZGVkLCBhIGB7bnVtYmVyfWAgcmVwcmVzZW50aW5nIHRoZSByZXNvbHV0aW9uIChtYXAgdW5pdHMgcGVyIHBpeGVsKVxuICogYW5kIGFuIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IGZvciB0aGUgcHJvamVjdGlvbiAgYXNcbiAqIGFyZ3VtZW50cyBhbmQgcmV0dXJucyBhIGB7c3RyaW5nfWAgcmVwcmVzZW50aW5nIHRoZSBVUkwuXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50LCBudW1iZXIsIGltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQpOiBzdHJpbmd9IEZlYXR1cmVVcmxGdW5jdGlvblxuICogQGFwaVxuICovXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd8RmVhdHVyZVVybEZ1bmN0aW9ufSB1cmwgRmVhdHVyZSBVUkwgc2VydmljZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmb3JtYXQgRmVhdHVyZSBmb3JtYXQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oQXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+LCBpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0KTogdm9pZH0gc3VjY2VzcyBTdWNjZXNzXG4gKiAgICAgIEZ1bmN0aW9uIGNhbGxlZCB3aXRoIHRoZSBsb2FkZWQgZmVhdHVyZXMgYW5kIG9wdGlvbmFsbHkgd2l0aCB0aGUgZGF0YSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbigpOiB2b2lkfSBmYWlsdXJlIEZhaWx1cmVcbiAqICAgICAgRnVuY3Rpb24gY2FsbGVkIHdoZW4gbG9hZGluZyBmYWlsZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkRmVhdHVyZXNYaHIoXG4gIHVybCxcbiAgZm9ybWF0LFxuICBleHRlbnQsXG4gIHJlc29sdXRpb24sXG4gIHByb2plY3Rpb24sXG4gIHN1Y2Nlc3MsXG4gIGZhaWx1cmVcbikge1xuICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgeGhyLm9wZW4oXG4gICAgJ0dFVCcsXG4gICAgdHlwZW9mIHVybCA9PT0gJ2Z1bmN0aW9uJyA/IHVybChleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIDogdXJsLFxuICAgIHRydWVcbiAgKTtcbiAgaWYgKGZvcm1hdC5nZXRUeXBlKCkgPT0gJ2FycmF5YnVmZmVyJykge1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICB9XG4gIHhoci53aXRoQ3JlZGVudGlhbHMgPSB3aXRoQ3JlZGVudGlhbHM7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyBzdGF0dXMgd2lsbCBiZSAwIGZvciBmaWxlOi8vIHVybHNcbiAgICBpZiAoIXhoci5zdGF0dXMgfHwgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApKSB7XG4gICAgICBjb25zdCB0eXBlID0gZm9ybWF0LmdldFR5cGUoKTtcbiAgICAgIC8qKiBAdHlwZSB7RG9jdW1lbnR8Tm9kZXxPYmplY3R8c3RyaW5nfHVuZGVmaW5lZH0gKi9cbiAgICAgIGxldCBzb3VyY2U7XG4gICAgICBpZiAodHlwZSA9PSAnanNvbicgfHwgdHlwZSA9PSAndGV4dCcpIHtcbiAgICAgICAgc291cmNlID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAneG1sJykge1xuICAgICAgICBzb3VyY2UgPSB4aHIucmVzcG9uc2VYTUw7XG4gICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgc291cmNlID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVRleHQsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24veG1sJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnYXJyYXlidWZmZXInKSB7XG4gICAgICAgIHNvdXJjZSA9IC8qKiBAdHlwZSB7QXJyYXlCdWZmZXJ9ICovICh4aHIucmVzcG9uc2UpO1xuICAgICAgfVxuICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICBzdWNjZXNzKFxuICAgICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSAqL1xuICAgICAgICAgIChcbiAgICAgICAgICAgIGZvcm1hdC5yZWFkRmVhdHVyZXMoc291cmNlLCB7XG4gICAgICAgICAgICAgIGV4dGVudDogZXh0ZW50LFxuICAgICAgICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogcHJvamVjdGlvbixcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKSxcbiAgICAgICAgICBmb3JtYXQucmVhZFByb2plY3Rpb24oc291cmNlKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmFpbHVyZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmYWlsdXJlKCk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHhoci5vbmVycm9yID0gZmFpbHVyZTtcbiAgeGhyLnNlbmQoKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gWEhSIGZlYXR1cmUgbG9hZGVyIGZvciBhIGB1cmxgIGFuZCBgZm9ybWF0YC4gVGhlIGZlYXR1cmUgbG9hZGVyXG4gKiBsb2FkcyBmZWF0dXJlcyAod2l0aCBYSFIpLCBwYXJzZXMgdGhlIGZlYXR1cmVzLCBhbmQgYWRkcyB0aGVtIHRvIHRoZVxuICogdmVjdG9yIHNvdXJjZS5cbiAqIEBwYXJhbSB7c3RyaW5nfEZlYXR1cmVVcmxGdW5jdGlvbn0gdXJsIEZlYXR1cmUgVVJMIHNlcnZpY2UuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZm9ybWF0IEZlYXR1cmUgZm9ybWF0LlxuICogQHJldHVybiB7RmVhdHVyZUxvYWRlcn0gVGhlIGZlYXR1cmUgbG9hZGVyLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24geGhyKHVybCwgZm9ybWF0KSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oQXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+KTogdm9pZH0gW3N1Y2Nlc3NdIFN1Y2Nlc3NcbiAgICogICAgICBGdW5jdGlvbiBjYWxsZWQgd2hlbiBsb2FkaW5nIHN1Y2NlZWRlZC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbigpOiB2b2lkfSBbZmFpbHVyZV0gRmFpbHVyZVxuICAgKiAgICAgIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGxvYWRpbmcgZmFpbGVkLlxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIChleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24sIHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgICBjb25zdCBzb3VyY2UgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vc291cmNlL1ZlY3RvclwiKS5kZWZhdWx0fSAqLyAodGhpcyk7XG4gICAgbG9hZEZlYXR1cmVzWGhyKFxuICAgICAgdXJsLFxuICAgICAgZm9ybWF0LFxuICAgICAgZXh0ZW50LFxuICAgICAgcmVzb2x1dGlvbixcbiAgICAgIHByb2plY3Rpb24sXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBmZWF0dXJlcyBUaGUgbG9hZGVkIGZlYXR1cmVzLlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBkYXRhUHJvamVjdGlvbiBEYXRhXG4gICAgICAgKiBwcm9qZWN0aW9uLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiAoZmVhdHVyZXMsIGRhdGFQcm9qZWN0aW9uKSB7XG4gICAgICAgIHNvdXJjZS5hZGRGZWF0dXJlcyhmZWF0dXJlcyk7XG4gICAgICAgIGlmIChzdWNjZXNzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzdWNjZXNzKGZlYXR1cmVzKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8qIEZJWE1FIGhhbmRsZSBlcnJvciAqLyBmYWlsdXJlID8gZmFpbHVyZSA6IFZPSURcbiAgICApO1xuICB9O1xufVxuXG4vKipcbiAqIFNldHRlciBmb3IgdGhlIHdpdGhDcmVkZW50aWFscyBjb25maWd1cmF0aW9uIGZvciB0aGUgWEhSLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0geGhyV2l0aENyZWRlbnRpYWxzIFRoZSB2YWx1ZSBvZiB3aXRoQ3JlZGVudGlhbHMgdG8gc2V0LlxuICogQ29tcGFyZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvWE1MSHR0cFJlcXVlc3QvXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRXaXRoQ3JlZGVudGlhbHMoeGhyV2l0aENyZWRlbnRpYWxzKSB7XG4gIHdpdGhDcmVkZW50aWFscyA9IHhocldpdGhDcmVkZW50aWFscztcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVmVjdG9yVGlsZVxuICovXG5cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGlsZSBmcm9tICcuLi9WZWN0b3JUaWxlLmpzJztcbmltcG9ydCBUaWxlQ2FjaGUgZnJvbSAnLi4vVGlsZUNhY2hlLmpzJztcbmltcG9ydCBUaWxlR3JpZCBmcm9tICcuLi90aWxlZ3JpZC9UaWxlR3JpZC5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgVXJsVGlsZSBmcm9tICcuL1VybFRpbGUuanMnO1xuaW1wb3J0IFZlY3RvclJlbmRlclRpbGUgZnJvbSAnLi4vVmVjdG9yUmVuZGVyVGlsZS5qcyc7XG5pbXBvcnQge0RFRkFVTFRfTUFYX1pPT019IGZyb20gJy4uL3RpbGVncmlkL2NvbW1vbi5qcyc7XG5pbXBvcnQge1xuICBidWZmZXIgYXMgYnVmZmVyRXh0ZW50LFxuICBnZXRJbnRlcnNlY3Rpb24sXG4gIGludGVyc2VjdHMsXG59IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2NyZWF0ZVhZWiwgZXh0ZW50RnJvbVByb2plY3Rpb259IGZyb20gJy4uL3RpbGVncmlkLmpzJztcbmltcG9ydCB7ZnJvbUtleSwgZ2V0Q2FjaGVLZXlGb3JUaWxlS2V5LCBnZXRLZXlaWFl9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQge2lzRW1wdHl9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQge2xvYWRGZWF0dXJlc1hocn0gZnJvbSAnLi4vZmVhdHVyZWxvYWRlci5qcyc7XG5pbXBvcnQge3RvU2l6ZX0gZnJvbSAnLi4vc2l6ZS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV0gSW5pdGlhbCB0aWxlIGNhY2hlIHNpemUuIFdpbGwgYXV0by1ncm93IHRvIGhvbGQgYXQgbGVhc3QgdHdpY2UgdGhlIG51bWJlciBvZiB0aWxlcyBpbiB0aGUgdmlld3BvcnQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIEV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gW2Zvcm1hdF0gRmVhdHVyZSBmb3JtYXQgZm9yIHRpbGVzLiBVc2VkIGFuZCByZXF1aXJlZCBieSB0aGUgZGVmYXVsdC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW292ZXJsYXBzPXRydWVdIFRoaXMgc291cmNlIG1heSBoYXZlIG92ZXJsYXBwaW5nIGdlb21ldHJpZXMuIFNldHRpbmcgdGhpc1xuICogdG8gYGZhbHNlYCAoZS5nLiBmb3Igc291cmNlcyB3aXRoIHBvbHlnb25zIHRoYXQgcmVwcmVzZW50IGFkbWluaXN0cmF0aXZlXG4gKiBib3VuZGFyaWVzIG9yIFRvcG9KU09OIHNvdXJjZXMpIGFsbG93cyB0aGUgcmVuZGVyZXIgdG8gb3B0aW1pc2UgZmlsbCBhbmRcbiAqIHN0cm9rZSBvcGVyYXRpb25zLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbj0nRVBTRzozODU3J10gUHJvamVjdGlvbiBvZiB0aGUgdGlsZSBncmlkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5TdGF0ZX0gW3N0YXRlXSBTb3VyY2Ugc3RhdGUuXG4gKiBAcHJvcGVydHkge3R5cGVvZiBpbXBvcnQoXCIuLi9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9IFt0aWxlQ2xhc3NdIENsYXNzIHVzZWQgdG8gaW5zdGFudGlhdGUgaW1hZ2UgdGlsZXMuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvVmVjdG9yVGlsZX5WZWN0b3JUaWxlfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbT0yMl0gT3B0aW9uYWwgbWF4IHpvb20gbGV2ZWwuIE5vdCB1c2VkIGlmIGB0aWxlR3JpZGAgaXMgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb21dIE9wdGlvbmFsIG1pbiB6b29tIGxldmVsLiBOb3QgdXNlZCBpZiBgdGlsZUdyaWRgIGlzIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbdGlsZVNpemU9NTEyXSBPcHRpb25hbCB0aWxlIHNpemUuIE5vdCB1c2VkIGlmIGB0aWxlR3JpZGAgaXMgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIE9wdGlvbmFsIHRpbGUgZ3JpZCByZXNvbHV0aW9uIGF0IGxldmVsIHplcm8uIE5vdCB1c2VkIGlmIGB0aWxlR3JpZGAgaXMgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFt0aWxlR3JpZF0gVGlsZSBncmlkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gW3RpbGVMb2FkRnVuY3Rpb25dXG4gKiBPcHRpb25hbCBmdW5jdGlvbiB0byBsb2FkIGEgdGlsZSBnaXZlbiBhIFVSTC4gQ291bGQgbG9vayBsaWtlIHRoaXMgZm9yIHBiZiB0aWxlczpcbiAqIGBgYGpzXG4gKiBmdW5jdGlvbih0aWxlLCB1cmwpIHtcbiAqICAgdGlsZS5zZXRMb2FkZXIoZnVuY3Rpb24oZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XG4gKiAgICAgZmV0Y2godXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gKiAgICAgICByZXNwb25zZS5hcnJheUJ1ZmZlcigpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICogICAgICAgICBjb25zdCBmb3JtYXQgPSB0aWxlLmdldEZvcm1hdCgpIC8vIG9sL2Zvcm1hdC9NVlQgY29uZmlndXJlZCBhcyBzb3VyY2UgZm9ybWF0XG4gKiAgICAgICAgIGNvbnN0IGZlYXR1cmVzID0gZm9ybWF0LnJlYWRGZWF0dXJlcyhkYXRhLCB7XG4gKiAgICAgICAgICAgZXh0ZW50OiBleHRlbnQsXG4gKiAgICAgICAgICAgZmVhdHVyZVByb2plY3Rpb246IHByb2plY3Rpb25cbiAqICAgICAgICAgfSk7XG4gKiAgICAgICAgIHRpbGUuc2V0RmVhdHVyZXMoZmVhdHVyZXMpO1xuICogICAgICAgfSk7XG4gKiAgICAgfSk7XG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKiBJZiB5b3UgZG8gbm90IG5lZWQgZXh0ZW50LCByZXNvbHV0aW9uIGFuZCBwcm9qZWN0aW9uIHRvIGdldCB0aGUgZmVhdHVyZXMgZm9yIGEgdGlsZSAoZS5nLlxuICogZm9yIEdlb0pTT04gdGlsZXMpLCB5b3VyIGB0aWxlTG9hZEZ1bmN0aW9uYCBkb2VzIG5vdCBuZWVkIGEgYHNldExvYWRlcigpYCBjYWxsLiBPbmx5IG1ha2Ugc3VyZVxuICogdG8gY2FsbCBgc2V0RmVhdHVyZXMoKWAgb24gdGhlIHRpbGU6XG4gKiBgYGBqc1xuICogY29uc3QgZm9ybWF0ID0gbmV3IEdlb0pTT04oe2ZlYXR1cmVQcm9qZWN0aW9uOiBtYXAuZ2V0VmlldygpLmdldFByb2plY3Rpb24oKX0pO1xuICogYXN5bmMgZnVuY3Rpb24gdGlsZUxvYWRGdW5jdGlvbih0aWxlLCB1cmwpIHtcbiAqICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICogICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICogICB0aWxlLnNldEZlYXR1cmVzKGZvcm1hdC5yZWFkRmVhdHVyZXMoZGF0YSkpO1xuICogfVxuICogYGBgXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFt0aWxlVXJsRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGdldCB0aWxlIFVSTCBnaXZlbiBhIHRpbGUgY29vcmRpbmF0ZSBhbmQgdGhlIHByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gVVJMIHRlbXBsYXRlLiBNdXN0IGluY2x1ZGUgYHt4fWAsIGB7eX1gIG9yIGB7LXl9YCwgYW5kIGB7en1gIHBsYWNlaG9sZGVycy5cbiAqIEEgYHs/LT99YCB0ZW1wbGF0ZSBwYXR0ZXJuLCBmb3IgZXhhbXBsZSBgc3ViZG9tYWlue2EtZn0uZG9tYWluLmNvbWAsIG1heSBiZVxuICogdXNlZCBpbnN0ZWFkIG9mIGRlZmluaW5nIGVhY2ggb25lIHNlcGFyYXRlbHkgaW4gdGhlIGB1cmxzYCBvcHRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RyYW5zaXRpb25dIEEgZHVyYXRpb24gZm9yIHRpbGUgb3BhY2l0eVxuICogdHJhbnNpdGlvbnMgaW4gbWlsbGlzZWNvbmRzLiBBIGR1cmF0aW9uIG9mIDAgZGlzYWJsZXMgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbi5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW3VybHNdIEFuIGFycmF5IG9mIFVSTCB0ZW1wbGF0ZXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXSBXaGV0aGVyIHRvIHdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS5cbiAqIFdoZW4gc2V0IHRvIGBmYWxzZWAsIG9ubHkgb25lIHdvcmxkXG4gKiB3aWxsIGJlIHJlbmRlcmVkLiBXaGVuIHNldCB0byBgdHJ1ZWAsIHRpbGVzIHdpbGwgYmUgd3JhcHBlZCBob3Jpem9udGFsbHkgdG9cbiAqIHJlbmRlciBtdWx0aXBsZSB3b3JsZHMuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9hcnJheS5qc1wiKS5OZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb259IFt6RGlyZWN0aW9uPTFdXG4gKiBDaG9vc2Ugd2hldGhlciB0byB1c2UgdGlsZXMgd2l0aCBhIGhpZ2hlciBvciBsb3dlciB6b29tIGxldmVsIHdoZW4gYmV0d2VlbiBpbnRlZ2VyXG4gKiB6b29tIGxldmVscy4gU2VlIHtAbGluayBtb2R1bGU6b2wvdGlsZWdyaWQvVGlsZUdyaWR+VGlsZUdyaWQjZ2V0WkZvclJlc29sdXRpb259LlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2xhc3MgZm9yIGxheWVyIHNvdXJjZXMgcHJvdmlkaW5nIHZlY3RvciBkYXRhIGRpdmlkZWQgaW50byBhIHRpbGUgZ3JpZCwgdG8gYmVcbiAqIHVzZWQgd2l0aCB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL1ZlY3RvclRpbGV+VmVjdG9yVGlsZUxheWVyfS4gQWx0aG91Z2ggdGhpcyBzb3VyY2UgcmVjZWl2ZXMgdGlsZXNcbiAqIHdpdGggdmVjdG9yIGZlYXR1cmVzIGZyb20gdGhlIHNlcnZlciwgaXQgaXMgbm90IG1lYW50IGZvciBmZWF0dXJlIGVkaXRpbmcuXG4gKiBGZWF0dXJlcyBhcmUgb3B0aW1pemVkIGZvciByZW5kZXJpbmcsIHRoZWlyIGdlb21ldHJpZXMgYXJlIGNsaXBwZWQgYXQgb3IgbmVhclxuICogdGlsZSBib3VuZGFyaWVzIGFuZCBzaW1wbGlmaWVkIGZvciBhIHZpZXcgcmVzb2x1dGlvbi4gU2VlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlfSBmb3IgdmVjdG9yIHNvdXJjZXMgdGhhdCBhcmUgc3VpdGFibGUgZm9yIGZlYXR1cmVcbiAqIGVkaXRpbmcuXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4vVGlsZS5qc1wiKS5UaWxlU291cmNlRXZlbnRcbiAqIEBhcGlcbiAqL1xuY2xhc3MgVmVjdG9yVGlsZSBleHRlbmRzIFVybFRpbGUge1xuICAvKipcbiAgICogQHBhcmFtIHshT3B0aW9uc30gb3B0aW9ucyBWZWN0b3IgdGlsZSBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIGNvbnN0IHByb2plY3Rpb24gPSBvcHRpb25zLnByb2plY3Rpb24gfHwgJ0VQU0c6Mzg1Nyc7XG5cbiAgICBjb25zdCBleHRlbnQgPSBvcHRpb25zLmV4dGVudCB8fCBleHRlbnRGcm9tUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcblxuICAgIGNvbnN0IHRpbGVHcmlkID1cbiAgICAgIG9wdGlvbnMudGlsZUdyaWQgfHxcbiAgICAgIGNyZWF0ZVhZWih7XG4gICAgICAgIGV4dGVudDogZXh0ZW50LFxuICAgICAgICBtYXhSZXNvbHV0aW9uOiBvcHRpb25zLm1heFJlc29sdXRpb24sXG4gICAgICAgIG1heFpvb206IG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhab29tIDogMjIsXG4gICAgICAgIG1pblpvb206IG9wdGlvbnMubWluWm9vbSxcbiAgICAgICAgdGlsZVNpemU6IG9wdGlvbnMudGlsZVNpemUgfHwgNTEyLFxuICAgICAgfSk7XG5cbiAgICBzdXBlcih7XG4gICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb25zLFxuICAgICAgYXR0cmlidXRpb25zQ29sbGFwc2libGU6IG9wdGlvbnMuYXR0cmlidXRpb25zQ29sbGFwc2libGUsXG4gICAgICBjYWNoZVNpemU6IG9wdGlvbnMuY2FjaGVTaXplLFxuICAgICAgaW50ZXJwb2xhdGU6IHRydWUsXG4gICAgICBvcGFxdWU6IGZhbHNlLFxuICAgICAgcHJvamVjdGlvbjogcHJvamVjdGlvbixcbiAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgdGlsZUdyaWQ6IHRpbGVHcmlkLFxuICAgICAgdGlsZUxvYWRGdW5jdGlvbjogb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uXG4gICAgICAgID8gb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uXG4gICAgICAgIDogZGVmYXVsdExvYWRGdW5jdGlvbixcbiAgICAgIHRpbGVVcmxGdW5jdGlvbjogb3B0aW9ucy50aWxlVXJsRnVuY3Rpb24sXG4gICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgdXJsczogb3B0aW9ucy51cmxzLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggPT09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRpb25zLndyYXBYLFxuICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgekRpcmVjdGlvbjogb3B0aW9ucy56RGlyZWN0aW9uID09PSB1bmRlZmluZWQgPyAxIDogb3B0aW9ucy56RGlyZWN0aW9uLFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdHxudWxsfVxuICAgICAqL1xuICAgIHRoaXMuZm9ybWF0XyA9IG9wdGlvbnMuZm9ybWF0ID8gb3B0aW9ucy5mb3JtYXQgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7VGlsZUNhY2hlfVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlVGlsZUNhY2hlID0gbmV3IFRpbGVDYWNoZSh0aGlzLnRpbGVDYWNoZS5oaWdoV2F0ZXJNYXJrKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5vdmVybGFwc18gPSBvcHRpb25zLm92ZXJsYXBzID09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRpb25zLm92ZXJsYXBzO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHt0eXBlb2YgaW1wb3J0KFwiLi4vVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMudGlsZUNsYXNzID0gb3B0aW9ucy50aWxlQ2xhc3MgPyBvcHRpb25zLnRpbGVDbGFzcyA6IFRpbGU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVHcmlkc18gPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZmVhdHVyZXMgd2hvc2UgYm91bmRpbmcgYm94IGludGVyc2VjdHMgdGhlIHByb3ZpZGVkIGV4dGVudC4gT25seSBmZWF0dXJlcyBmb3IgY2FjaGVkXG4gICAqIHRpbGVzIGZvciB0aGUgbGFzdCByZW5kZXJlZCB6b29tIGxldmVsIGFyZSBhdmFpbGFibGUgaW4gdGhlIHNvdXJjZS4gU28gdGhpcyBtZXRob2QgaXMgb25seVxuICAgKiBzdWl0YWJsZSBmb3IgcmVxdWVzdGluZyB0aWxlcyBmb3IgZXh0ZW50cyB0aGF0IGFyZSBjdXJyZW50bHkgcmVuZGVyZWQuXG4gICAqXG4gICAqIEZlYXR1cmVzIGFyZSByZXR1cm5lZCBpbiByYW5kb20gdGlsZSBvcmRlciBhbmQgYXMgdGhleSBhcmUgaW5jbHVkZWQgaW4gdGhlIHRpbGVzLiBUaGlzIG1lYW5zXG4gICAqIHRoZXkgY2FuIGJlIGNsaXBwZWQsIGR1cGxpY2F0ZWQgYWNyb3NzIHRpbGVzLCBhbmQgc2ltcGxpZmllZCB0byB0aGUgcmVuZGVyIHJlc29sdXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59IEZlYXR1cmVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRGZWF0dXJlc0luRXh0ZW50KGV4dGVudCkge1xuICAgIGNvbnN0IGZlYXR1cmVzID0gW107XG4gICAgY29uc3QgdGlsZUNhY2hlID0gdGhpcy50aWxlQ2FjaGU7XG4gICAgaWYgKHRpbGVDYWNoZS5nZXRDb3VudCgpID09PSAwKSB7XG4gICAgICByZXR1cm4gZmVhdHVyZXM7XG4gICAgfVxuICAgIGNvbnN0IHogPSBmcm9tS2V5KHRpbGVDYWNoZS5wZWVrRmlyc3RLZXkoKSlbMF07XG4gICAgY29uc3QgdGlsZUdyaWQgPSB0aGlzLnRpbGVHcmlkO1xuICAgIHRpbGVDYWNoZS5mb3JFYWNoKGZ1bmN0aW9uICh0aWxlKSB7XG4gICAgICBpZiAodGlsZS50aWxlQ29vcmRbMF0gIT09IHogfHwgdGlsZS5nZXRTdGF0ZSgpICE9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNvdXJjZVRpbGVzID0gdGlsZS5nZXRTb3VyY2VUaWxlcygpO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gc291cmNlVGlsZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBjb25zdCBzb3VyY2VUaWxlID0gc291cmNlVGlsZXNbaV07XG4gICAgICAgIGNvbnN0IHRpbGVDb29yZCA9IHNvdXJjZVRpbGUudGlsZUNvb3JkO1xuICAgICAgICBpZiAoaW50ZXJzZWN0cyhleHRlbnQsIHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQpKSkge1xuICAgICAgICAgIGNvbnN0IHRpbGVGZWF0dXJlcyA9IHNvdXJjZVRpbGUuZ2V0RmVhdHVyZXMoKTtcbiAgICAgICAgICBpZiAodGlsZUZlYXR1cmVzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgamogPSB0aWxlRmVhdHVyZXMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSB0aWxlRmVhdHVyZXNbal07XG4gICAgICAgICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gY2FuZGlkYXRlLmdldEdlb21ldHJ5KCk7XG4gICAgICAgICAgICAgIGlmIChpbnRlcnNlY3RzKGV4dGVudCwgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZXMucHVzaChjYW5kaWRhdGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZlYXR1cmVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBzb3VyY2UgY2FuIGhhdmUgb3ZlcmxhcHBpbmcgZ2VvbWV0cmllcy5cbiAgICovXG4gIGdldE92ZXJsYXBzKCkge1xuICAgIHJldHVybiB0aGlzLm92ZXJsYXBzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBjbGVhciB7QGxpbmsgbW9kdWxlOm9sL1RpbGVDYWNoZX5UaWxlQ2FjaGV9IGFuZCBkZWxldGUgYWxsIHNvdXJjZSB0aWxlc1xuICAgKiBAYXBpXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLnRpbGVDYWNoZS5jbGVhcigpO1xuICAgIHRoaXMuc291cmNlVGlsZUNhY2hlLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gdXNlZFRpbGVzIFVzZWQgdGlsZXMuXG4gICAqL1xuICBleHBpcmVDYWNoZShwcm9qZWN0aW9uLCB1c2VkVGlsZXMpIHtcbiAgICBjb25zdCB0aWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgY29uc3QgdXNlZFNvdXJjZVRpbGVzID0gT2JqZWN0LmtleXModXNlZFRpbGVzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICBjb25zdCBjYWNoZUtleSA9IGdldENhY2hlS2V5Rm9yVGlsZUtleShrZXkpO1xuICAgICAgY29uc3QgdGlsZSA9IHRpbGVDYWNoZS5wZWVrKGNhY2hlS2V5KTtcbiAgICAgIGlmICh0aWxlKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZVRpbGVzID0gdGlsZS5zb3VyY2VUaWxlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gc291cmNlVGlsZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgIGFjY1tzb3VyY2VUaWxlc1tpXS5nZXRLZXkoKV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgICBzdXBlci5leHBpcmVDYWNoZShwcm9qZWN0aW9uLCB1c2VkVGlsZXMpO1xuICAgIHRoaXMuc291cmNlVGlsZUNhY2hlLmV4cGlyZUNhY2hlKHVzZWRTb3VyY2VUaWxlcyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtWZWN0b3JSZW5kZXJUaWxlfSB0aWxlIFZlY3RvciBpbWFnZSB0aWxlLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9WZWN0b3JUaWxlXCIpLmRlZmF1bHQ+fSBUaWxlIGtleXMuXG4gICAqL1xuICBnZXRTb3VyY2VUaWxlcyhwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCB0aWxlKSB7XG4gICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgIHRpbGUuc2V0U3RhdGUoVGlsZVN0YXRlLkxPQURJTkcpO1xuICAgICAgY29uc3QgdXJsVGlsZUNvb3JkID0gdGlsZS53cmFwcGVkVGlsZUNvb3JkO1xuICAgICAgY29uc3QgdGlsZUdyaWQgPSB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgIGNvbnN0IGV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh1cmxUaWxlQ29vcmQpO1xuICAgICAgY29uc3QgeiA9IHVybFRpbGVDb29yZFswXTtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aWxlR3JpZC5nZXRSZXNvbHV0aW9uKHopO1xuICAgICAgLy8gbWFrZSBleHRlbnQgMSBwaXhlbCBzbWFsbGVyIHNvIHdlIGRvbid0IGxvYWQgdGlsZXMgZm9yIDwgMC41IHBpeGVsIHJlbmRlciBzcGFjZVxuICAgICAgYnVmZmVyRXh0ZW50KGV4dGVudCwgLXJlc29sdXRpb24sIGV4dGVudCk7XG4gICAgICBjb25zdCBzb3VyY2VUaWxlR3JpZCA9IHRoaXMudGlsZUdyaWQ7XG4gICAgICBjb25zdCBzb3VyY2VFeHRlbnQgPSBzb3VyY2VUaWxlR3JpZC5nZXRFeHRlbnQoKTtcbiAgICAgIGlmIChzb3VyY2VFeHRlbnQpIHtcbiAgICAgICAgZ2V0SW50ZXJzZWN0aW9uKGV4dGVudCwgc291cmNlRXh0ZW50LCBleHRlbnQpO1xuICAgICAgfVxuICAgICAgY29uc3Qgc291cmNlWiA9IHNvdXJjZVRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKFxuICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICB0aGlzLnpEaXJlY3Rpb25cbiAgICAgICk7XG5cbiAgICAgIHNvdXJjZVRpbGVHcmlkLmZvckVhY2hUaWxlQ29vcmQoZXh0ZW50LCBzb3VyY2VaLCAoc291cmNlVGlsZUNvb3JkKSA9PiB7XG4gICAgICAgIGNvbnN0IHRpbGVVcmwgPSB0aGlzLnRpbGVVcmxGdW5jdGlvbihcbiAgICAgICAgICBzb3VyY2VUaWxlQ29vcmQsXG4gICAgICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgICAgICBwcm9qZWN0aW9uXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHNvdXJjZVRpbGUgPSB0aGlzLnNvdXJjZVRpbGVDYWNoZS5jb250YWluc0tleSh0aWxlVXJsKVxuICAgICAgICAgID8gdGhpcy5zb3VyY2VUaWxlQ2FjaGUuZ2V0KHRpbGVVcmwpXG4gICAgICAgICAgOiBuZXcgdGhpcy50aWxlQ2xhc3MoXG4gICAgICAgICAgICAgIHNvdXJjZVRpbGVDb29yZCxcbiAgICAgICAgICAgICAgdGlsZVVybCA/IFRpbGVTdGF0ZS5JRExFIDogVGlsZVN0YXRlLkVNUFRZLFxuICAgICAgICAgICAgICB0aWxlVXJsLFxuICAgICAgICAgICAgICB0aGlzLmZvcm1hdF8sXG4gICAgICAgICAgICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgdGlsZS5zb3VyY2VUaWxlcy5wdXNoKHNvdXJjZVRpbGUpO1xuICAgICAgICBjb25zdCBzb3VyY2VUaWxlU3RhdGUgPSBzb3VyY2VUaWxlLmdldFN0YXRlKCk7XG4gICAgICAgIGlmIChzb3VyY2VUaWxlU3RhdGUgPCBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgY29uc3QgbGlzdGVuQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVRpbGVDaGFuZ2UoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBzb3VyY2VUaWxlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IFRpbGVTdGF0ZS5MT0FERUQgfHwgc3RhdGUgPT09IFRpbGVTdGF0ZS5FUlJPUikge1xuICAgICAgICAgICAgICBjb25zdCBzb3VyY2VUaWxlS2V5ID0gc291cmNlVGlsZS5nZXRLZXkoKTtcbiAgICAgICAgICAgICAgaWYgKHNvdXJjZVRpbGVLZXkgaW4gdGlsZS5lcnJvclRpbGVLZXlzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZVRpbGUuZ2V0U3RhdGUoKSA9PT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIHRpbGUuZXJyb3JUaWxlS2V5c1tzb3VyY2VUaWxlS2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGlsZS5sb2FkaW5nU291cmNlVGlsZXMtLTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IFRpbGVTdGF0ZS5FUlJPUikge1xuICAgICAgICAgICAgICAgIHRpbGUuZXJyb3JUaWxlS2V5c1tzb3VyY2VUaWxlS2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc291cmNlVGlsZS5yZW1vdmVFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIGxpc3RlbkNoYW5nZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHRpbGUubG9hZGluZ1NvdXJjZVRpbGVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zZXRTdGF0ZShcbiAgICAgICAgICAgICAgICAgIGlzRW1wdHkodGlsZS5lcnJvclRpbGVLZXlzKVxuICAgICAgICAgICAgICAgICAgICA/IFRpbGVTdGF0ZS5MT0FERURcbiAgICAgICAgICAgICAgICAgICAgOiBUaWxlU3RhdGUuRVJST1JcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBzb3VyY2VUaWxlLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRSwgbGlzdGVuQ2hhbmdlKTtcbiAgICAgICAgICB0aWxlLmxvYWRpbmdTb3VyY2VUaWxlcysrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzb3VyY2VUaWxlU3RhdGUgPT09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgc291cmNlVGlsZS5leHRlbnQgPVxuICAgICAgICAgICAgc291cmNlVGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHNvdXJjZVRpbGVDb29yZCk7XG4gICAgICAgICAgc291cmNlVGlsZS5wcm9qZWN0aW9uID0gcHJvamVjdGlvbjtcbiAgICAgICAgICBzb3VyY2VUaWxlLnJlc29sdXRpb24gPSBzb3VyY2VUaWxlR3JpZC5nZXRSZXNvbHV0aW9uKFxuICAgICAgICAgICAgc291cmNlVGlsZUNvb3JkWzBdXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnNvdXJjZVRpbGVDYWNoZS5zZXQodGlsZVVybCwgc291cmNlVGlsZSk7XG4gICAgICAgICAgc291cmNlVGlsZS5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCF0aWxlLmxvYWRpbmdTb3VyY2VUaWxlcykge1xuICAgICAgICB0aWxlLnNldFN0YXRlKFxuICAgICAgICAgIHRpbGUuc291cmNlVGlsZXMuc29tZShcbiAgICAgICAgICAgIChzb3VyY2VUaWxlKSA9PiBzb3VyY2VUaWxlLmdldFN0YXRlKCkgPT09IFRpbGVTdGF0ZS5FUlJPUlxuICAgICAgICAgIClcbiAgICAgICAgICAgID8gVGlsZVN0YXRlLkVSUk9SXG4gICAgICAgICAgICA6IFRpbGVTdGF0ZS5MT0FERURcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGlsZS5zb3VyY2VUaWxlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHshVmVjdG9yUmVuZGVyVGlsZX0gVGlsZS5cbiAgICovXG4gIGdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIGNvbnN0IGNvb3JkS2V5ID0gZ2V0S2V5WlhZKHosIHgsIHkpO1xuICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0S2V5KCk7XG4gICAgbGV0IHRpbGU7XG4gICAgaWYgKHRoaXMudGlsZUNhY2hlLmNvbnRhaW5zS2V5KGNvb3JkS2V5KSkge1xuICAgICAgdGlsZSA9IHRoaXMudGlsZUNhY2hlLmdldChjb29yZEtleSk7XG4gICAgICBpZiAodGlsZS5rZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gdGlsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdGlsZUNvb3JkID0gW3osIHgsIHldO1xuICAgIGxldCB1cmxUaWxlQ29vcmQgPSB0aGlzLmdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbihcbiAgICAgIHRpbGVDb29yZCxcbiAgICAgIHByb2plY3Rpb25cbiAgICApO1xuICAgIGNvbnN0IHNvdXJjZUV4dGVudCA9IHRoaXMuZ2V0VGlsZUdyaWQoKS5nZXRFeHRlbnQoKTtcbiAgICBjb25zdCB0aWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGlmICh1cmxUaWxlQ29vcmQgJiYgc291cmNlRXh0ZW50KSB7XG4gICAgICBjb25zdCB0aWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHVybFRpbGVDb29yZCk7XG4gICAgICAvLyBtYWtlIGV4dGVudCAxIHBpeGVsIHNtYWxsZXIgc28gd2UgZG9uJ3QgbG9hZCB0aWxlcyBmb3IgPCAwLjUgcGl4ZWwgcmVuZGVyIHNwYWNlXG4gICAgICBidWZmZXJFeHRlbnQodGlsZUV4dGVudCwgLXRpbGVHcmlkLmdldFJlc29sdXRpb24oeiksIHRpbGVFeHRlbnQpO1xuICAgICAgaWYgKCFpbnRlcnNlY3RzKHNvdXJjZUV4dGVudCwgdGlsZUV4dGVudCkpIHtcbiAgICAgICAgdXJsVGlsZUNvb3JkID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGVtcHR5ID0gdHJ1ZTtcbiAgICBpZiAodXJsVGlsZUNvb3JkICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBzb3VyY2VUaWxlR3JpZCA9IHRoaXMudGlsZUdyaWQ7XG4gICAgICBjb25zdCByZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICAgIGNvbnN0IHNvdXJjZVogPSBzb3VyY2VUaWxlR3JpZC5nZXRaRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uLCAxKTtcbiAgICAgIC8vIG1ha2UgZXh0ZW50IDEgcGl4ZWwgc21hbGxlciBzbyB3ZSBkb24ndCBsb2FkIHRpbGVzIGZvciA8IDAuNSBwaXhlbCByZW5kZXIgc3BhY2VcbiAgICAgIGNvbnN0IGV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh1cmxUaWxlQ29vcmQpO1xuICAgICAgYnVmZmVyRXh0ZW50KGV4dGVudCwgLXJlc29sdXRpb24sIGV4dGVudCk7XG4gICAgICBzb3VyY2VUaWxlR3JpZC5mb3JFYWNoVGlsZUNvb3JkKGV4dGVudCwgc291cmNlWiwgKHNvdXJjZVRpbGVDb29yZCkgPT4ge1xuICAgICAgICBlbXB0eSA9XG4gICAgICAgICAgZW1wdHkgJiZcbiAgICAgICAgICAhdGhpcy50aWxlVXJsRnVuY3Rpb24oc291cmNlVGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBuZXdUaWxlID0gbmV3IFZlY3RvclJlbmRlclRpbGUoXG4gICAgICB0aWxlQ29vcmQsXG4gICAgICBlbXB0eSA/IFRpbGVTdGF0ZS5FTVBUWSA6IFRpbGVTdGF0ZS5JRExFLFxuICAgICAgdXJsVGlsZUNvb3JkLFxuICAgICAgdGhpcy5nZXRTb3VyY2VUaWxlcy5iaW5kKHRoaXMsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pXG4gICAgKTtcblxuICAgIG5ld1RpbGUua2V5ID0ga2V5O1xuICAgIGlmICh0aWxlKSB7XG4gICAgICBuZXdUaWxlLmludGVyaW1UaWxlID0gdGlsZTtcbiAgICAgIG5ld1RpbGUucmVmcmVzaEludGVyaW1DaGFpbigpO1xuICAgICAgdGhpcy50aWxlQ2FjaGUucmVwbGFjZShjb29yZEtleSwgbmV3VGlsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGlsZUNhY2hlLnNldChjb29yZEtleSwgbmV3VGlsZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdUaWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFRpbGUgZ3JpZC5cbiAgICovXG4gIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gICAgY29uc3QgY29kZSA9IHByb2plY3Rpb24uZ2V0Q29kZSgpO1xuICAgIGxldCB0aWxlR3JpZCA9IHRoaXMudGlsZUdyaWRzX1tjb2RlXTtcbiAgICBpZiAoIXRpbGVHcmlkKSB7XG4gICAgICAvLyBBIHRpbGUgZ3JpZCB0aGF0IG1hdGNoZXMgdGhlIHRpbGUgc2l6ZSBvZiB0aGUgc291cmNlIHRpbGUgZ3JpZCBpcyBtb3JlXG4gICAgICAvLyBsaWtlbHkgdG8gaGF2ZSAxOjEgcmVsYXRpb25zaGlwcyBiZXR3ZWVuIHNvdXJjZSB0aWxlcyBhbmQgcmVuZGVyZWQgdGlsZXMuXG4gICAgICBjb25zdCBzb3VyY2VUaWxlR3JpZCA9IHRoaXMudGlsZUdyaWQ7XG4gICAgICBjb25zdCByZXNvbHV0aW9ucyA9IHNvdXJjZVRpbGVHcmlkLmdldFJlc29sdXRpb25zKCkuc2xpY2UoKTtcbiAgICAgIGNvbnN0IG9yaWdpbnMgPSByZXNvbHV0aW9ucy5tYXAoZnVuY3Rpb24gKHJlc29sdXRpb24sIHopIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZVRpbGVHcmlkLmdldE9yaWdpbih6KTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgdGlsZVNpemVzID0gcmVzb2x1dGlvbnMubWFwKGZ1bmN0aW9uIChyZXNvbHV0aW9uLCB6KSB7XG4gICAgICAgIHJldHVybiBzb3VyY2VUaWxlR3JpZC5nZXRUaWxlU2l6ZSh6KTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgbGVuZ3RoID0gREVGQVVMVF9NQVhfWk9PTSArIDE7XG4gICAgICBmb3IgKGxldCB6ID0gcmVzb2x1dGlvbnMubGVuZ3RoOyB6IDwgbGVuZ3RoOyArK3opIHtcbiAgICAgICAgcmVzb2x1dGlvbnMucHVzaChyZXNvbHV0aW9uc1t6IC0gMV0gLyAyKTtcbiAgICAgICAgb3JpZ2lucy5wdXNoKG9yaWdpbnNbeiAtIDFdKTtcbiAgICAgICAgdGlsZVNpemVzLnB1c2godGlsZVNpemVzW3ogLSAxXSk7XG4gICAgICB9XG4gICAgICB0aWxlR3JpZCA9IG5ldyBUaWxlR3JpZCh7XG4gICAgICAgIGV4dGVudDogc291cmNlVGlsZUdyaWQuZ2V0RXh0ZW50KCksXG4gICAgICAgIG9yaWdpbnM6IG9yaWdpbnMsXG4gICAgICAgIHJlc29sdXRpb25zOiByZXNvbHV0aW9ucyxcbiAgICAgICAgdGlsZVNpemVzOiB0aWxlU2l6ZXMsXG4gICAgICB9KTtcbiAgICAgIHRoaXMudGlsZUdyaWRzX1tjb2RlXSA9IHRpbGVHcmlkO1xuICAgIH1cbiAgICByZXR1cm4gdGlsZUdyaWQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0aWxlIHBpeGVsIHJhdGlvIGZvciB0aGlzIHNvdXJjZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGlsZSBwaXhlbCByYXRpby5cbiAgICovXG4gIGdldFRpbGVQaXhlbFJhdGlvKHBpeGVsUmF0aW8pIHtcbiAgICByZXR1cm4gcGl4ZWxSYXRpbztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFRpbGUgc2l6ZS5cbiAgICovXG4gIGdldFRpbGVQaXhlbFNpemUoeiwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIGNvbnN0IHRpbGVHcmlkID0gdGhpcy5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgY29uc3QgdGlsZVNpemUgPSB0b1NpemUodGlsZUdyaWQuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZSk7XG4gICAgcmV0dXJuIFtcbiAgICAgIE1hdGgucm91bmQodGlsZVNpemVbMF0gKiBwaXhlbFJhdGlvKSxcbiAgICAgIE1hdGgucm91bmQodGlsZVNpemVbMV0gKiBwaXhlbFJhdGlvKSxcbiAgICBdO1xuICB9XG5cbiAgLyoqXG4gICAqIEluY3JlYXNlcyB0aGUgY2FjaGUgc2l6ZSBpZiBuZWVkZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbGVDb3VudCBNaW5pbXVtIG51bWJlciBvZiB0aWxlcyBuZWVkZWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICovXG4gIHVwZGF0ZUNhY2hlU2l6ZSh0aWxlQ291bnQsIHByb2plY3Rpb24pIHtcbiAgICBzdXBlci51cGRhdGVDYWNoZVNpemUodGlsZUNvdW50ICogMiwgcHJvamVjdGlvbik7XG4gICAgdGhpcy5zb3VyY2VUaWxlQ2FjaGUuaGlnaFdhdGVyTWFyayA9XG4gICAgICB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbikuaGlnaFdhdGVyTWFyaztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JUaWxlO1xuXG4vKipcbiAqIFNldHMgdGhlIGxvYWRlciBmb3IgYSB0aWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVmVjdG9yIHRpbGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRMb2FkRnVuY3Rpb24odGlsZSwgdXJsKSB7XG4gIHRpbGUuc2V0TG9hZGVyKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XG4gICAgICBsb2FkRmVhdHVyZXNYaHIoXG4gICAgICAgIHVybCxcbiAgICAgICAgdGlsZS5nZXRGb3JtYXQoKSxcbiAgICAgICAgZXh0ZW50LFxuICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICBwcm9qZWN0aW9uLFxuICAgICAgICB0aWxlLm9uTG9hZC5iaW5kKHRpbGUpLFxuICAgICAgICB0aWxlLm9uRXJyb3IuYmluZCh0aWxlKVxuICAgICAgKTtcbiAgICB9XG4gICk7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1hZWlxuICovXG5cbmltcG9ydCBUaWxlSW1hZ2UgZnJvbSAnLi9UaWxlSW1hZ2UuanMnO1xuaW1wb3J0IHtjcmVhdGVYWVosIGV4dGVudEZyb21Qcm9qZWN0aW9ufSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV0gSW5pdGlhbCB0aWxlIGNhY2hlIHNpemUuIFdpbGwgYXV0by1ncm93IHRvIGhvbGQgYXQgbGVhc3QgdGhlIG51bWJlciBvZiB0aWxlcyBpbiB0aGUgdmlld3BvcnQuXG4gKiBAcHJvcGVydHkge251bGx8c3RyaW5nfSBbY3Jvc3NPcmlnaW5dIFRoZSBgY3Jvc3NPcmlnaW5gIGF0dHJpYnV0ZSBmb3IgbG9hZGVkIGltYWdlcy4gIE5vdGUgdGhhdFxuICogeW91IG11c3QgcHJvdmlkZSBhIGBjcm9zc09yaWdpbmAgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlPXRydWVdIFVzZSBpbnRlcnBvbGF0ZWQgdmFsdWVzIHdoZW4gcmVzYW1wbGluZy4gIEJ5IGRlZmF1bHQsXG4gKiBsaW5lYXIgaW50ZXJwb2xhdGlvbiBpcyB1c2VkIHdoZW4gcmVzYW1wbGluZy4gIFNldCB0byBmYWxzZSB0byB1c2UgdGhlIG5lYXJlc3QgbmVpZ2hib3IgaW5zdGVhZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZT1mYWxzZV0gV2hldGhlciB0aGUgbGF5ZXIgaXMgb3BhcXVlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbj0nRVBTRzozODU3J10gUHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ9MC41XSBNYXhpbXVtIGFsbG93ZWQgcmVwcm9qZWN0aW9uIGVycm9yIChpbiBwaXhlbHMpLlxuICogSGlnaGVyIHZhbHVlcyBjYW4gaW5jcmVhc2UgcmVwcm9qZWN0aW9uIHBlcmZvcm1hbmNlLCBidXQgZGVjcmVhc2UgcHJlY2lzaW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tPTQyXSBPcHRpb25hbCBtYXggem9vbSBsZXZlbC4gTm90IHVzZWQgaWYgYHRpbGVHcmlkYCBpcyBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbT0wXSBPcHRpb25hbCBtaW4gem9vbSBsZXZlbC4gTm90IHVzZWQgaWYgYHRpbGVHcmlkYCBpcyBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gT3B0aW9uYWwgdGlsZSBncmlkIHJlc29sdXRpb24gYXQgbGV2ZWwgemVyby4gTm90IHVzZWQgaWYgYHRpbGVHcmlkYCBpcyBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlIGdyaWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSBbdGlsZUxvYWRGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhIHRpbGUgZ2l2ZW4gYSBVUkwuIFRoZSBkZWZhdWx0IGlzXG4gKiBgYGBqc1xuICogZnVuY3Rpb24oaW1hZ2VUaWxlLCBzcmMpIHtcbiAqICAgaW1hZ2VUaWxlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogfTtcbiAqIGBgYFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aWxlUGl4ZWxSYXRpbz0xXSBUaGUgcGl4ZWwgcmF0aW8gdXNlZCBieSB0aGUgdGlsZSBzZXJ2aWNlLlxuICogRm9yIGV4YW1wbGUsIGlmIHRoZSB0aWxlIHNlcnZpY2UgYWR2ZXJ0aXplcyAyNTZweCBieSAyNTZweCB0aWxlcyBidXQgYWN0dWFsbHkgc2VuZHMgNTEycHhcbiAqIGJ5IDUxMnB4IGltYWdlcyAoZm9yIHJldGluYS9oaWRwaSBkZXZpY2VzKSB0aGVuIGB0aWxlUGl4ZWxSYXRpb2BcbiAqIHNob3VsZCBiZSBzZXQgdG8gYDJgLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbdGlsZVNpemU9WzI1NiwgMjU2XV0gVGhlIHRpbGUgc2l6ZSB1c2VkIGJ5IHRoZSB0aWxlIHNlcnZpY2UuXG4gKiBOb3QgdXNlZCBpZiBgdGlsZUdyaWRgIGlzIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtndXR0ZXI9MF0gVGhlIHNpemUgaW4gcGl4ZWxzIG9mIHRoZSBndXR0ZXIgYXJvdW5kIGltYWdlIHRpbGVzIHRvIGlnbm9yZS5cbiAqIFRoaXMgYWxsb3dzIGFydGlmYWN0cyBvZiByZW5kZXJpbmcgYXQgdGlsZSBlZGdlcyB0byBiZSBpZ25vcmVkLlxuICogU3VwcG9ydGVkIGltYWdlcyBzaG91bGQgYmUgd2lkZXIgYW5kIHRhbGxlciB0aGFuIHRoZSB0aWxlIHNpemUgYnkgYSB2YWx1ZSBvZiBgMiB4IGd1dHRlcmAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFt0aWxlVXJsRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGdldFxuICogdGlsZSBVUkwgZ2l2ZW4gYSB0aWxlIGNvb3JkaW5hdGUgYW5kIHRoZSBwcm9qZWN0aW9uLlxuICogUmVxdWlyZWQgaWYgYHVybGAgb3IgYHVybHNgIGFyZSBub3QgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gVVJMIHRlbXBsYXRlLiBNdXN0IGluY2x1ZGUgYHt4fWAsIGB7eX1gIG9yIGB7LXl9YCxcbiAqIGFuZCBge3p9YCBwbGFjZWhvbGRlcnMuIEEgYHs/LT99YCB0ZW1wbGF0ZSBwYXR0ZXJuLCBmb3IgZXhhbXBsZSBgc3ViZG9tYWlue2EtZn0uZG9tYWluLmNvbWAsXG4gKiBtYXkgYmUgdXNlZCBpbnN0ZWFkIG9mIGRlZmluaW5nIGVhY2ggb25lIHNlcGFyYXRlbHkgaW4gdGhlIGB1cmxzYCBvcHRpb24uXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IFt1cmxzXSBBbiBhcnJheSBvZiBVUkwgdGVtcGxhdGVzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9dHJ1ZV0gV2hldGhlciB0byB3cmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RyYW5zaXRpb249MjUwXSBEdXJhdGlvbiBvZiB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uIGZvciByZW5kZXJpbmcuXG4gKiBUbyBkaXNhYmxlIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24sIHBhc3MgYHRyYW5zaXRpb246IDBgLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vYXJyYXkuanNcIikuTmVhcmVzdERpcmVjdGlvbkZ1bmN0aW9ufSBbekRpcmVjdGlvbj0wXVxuICogQ2hvb3NlIHdoZXRoZXIgdG8gdXNlIHRpbGVzIHdpdGggYSBoaWdoZXIgb3IgbG93ZXIgem9vbSBsZXZlbCB3aGVuIGJldHdlZW4gaW50ZWdlclxuICogem9vbSBsZXZlbHMuIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3RpbGVncmlkL1RpbGVHcmlkflRpbGVHcmlkI2dldFpGb3JSZXNvbHV0aW9ufS5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIExheWVyIHNvdXJjZSBmb3IgdGlsZSBkYXRhIHdpdGggVVJMcyBpbiBhIHNldCBYWVogZm9ybWF0IHRoYXQgYXJlXG4gKiBkZWZpbmVkIGluIGEgVVJMIHRlbXBsYXRlLiBCeSBkZWZhdWx0LCB0aGlzIGZvbGxvd3MgdGhlIHdpZGVseS11c2VkXG4gKiBHb29nbGUgZ3JpZCB3aGVyZSBgeGAgMCBhbmQgYHlgIDAgYXJlIGluIHRoZSB0b3AgbGVmdC4gR3JpZHMgbGlrZVxuICogVE1TIHdoZXJlIGB4YCAwIGFuZCBgeWAgMCBhcmUgaW4gdGhlIGJvdHRvbSBsZWZ0IGNhbiBiZSB1c2VkIGJ5XG4gKiB1c2luZyB0aGUgYHsteX1gIHBsYWNlaG9sZGVyIGluIHRoZSBVUkwgdGVtcGxhdGUsIHNvIGxvbmcgYXMgdGhlXG4gKiBzb3VyY2UgZG9lcyBub3QgaGF2ZSBhIGN1c3RvbSB0aWxlIGdyaWQuIEluIHRoaXMgY2FzZVxuICogYSBgdGlsZVVybEZ1bmN0aW9uYCBjYW4gYmUgdXNlZCwgc3VjaCBhczpcbiAqIGBgYGpzXG4gKiAgdGlsZVVybEZ1bmN0aW9uOiBmdW5jdGlvbihjb29yZGluYXRlKSB7XG4gKiAgICByZXR1cm4gJ2h0dHA6Ly9tYXBzZXJ2ZXIuY29tLycgKyBjb29yZGluYXRlWzBdICsgJy8nICtcbiAqICAgICAgY29vcmRpbmF0ZVsxXSArICcvJyArICgtY29vcmRpbmF0ZVsyXSAtIDEpICsgJy5wbmcnO1xuICogIH1cbiAqIGBgYFxuICogQGFwaVxuICovXG5jbGFzcyBYWVogZXh0ZW5kcyBUaWxlSW1hZ2Uge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gWFlaIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBjb25zdCBwcm9qZWN0aW9uID1cbiAgICAgIG9wdGlvbnMucHJvamVjdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wcm9qZWN0aW9uIDogJ0VQU0c6Mzg1Nyc7XG5cbiAgICBjb25zdCB0aWxlR3JpZCA9XG4gICAgICBvcHRpb25zLnRpbGVHcmlkICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLnRpbGVHcmlkXG4gICAgICAgIDogY3JlYXRlWFlaKHtcbiAgICAgICAgICAgIGV4dGVudDogZXh0ZW50RnJvbVByb2plY3Rpb24ocHJvamVjdGlvbiksXG4gICAgICAgICAgICBtYXhSZXNvbHV0aW9uOiBvcHRpb25zLm1heFJlc29sdXRpb24sXG4gICAgICAgICAgICBtYXhab29tOiBvcHRpb25zLm1heFpvb20sXG4gICAgICAgICAgICBtaW5ab29tOiBvcHRpb25zLm1pblpvb20sXG4gICAgICAgICAgICB0aWxlU2l6ZTogb3B0aW9ucy50aWxlU2l6ZSxcbiAgICAgICAgICB9KTtcblxuICAgIHN1cGVyKHtcbiAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICBjYWNoZVNpemU6IG9wdGlvbnMuY2FjaGVTaXplLFxuICAgICAgY3Jvc3NPcmlnaW46IG9wdGlvbnMuY3Jvc3NPcmlnaW4sXG4gICAgICBpbnRlcnBvbGF0ZTogb3B0aW9ucy5pbnRlcnBvbGF0ZSxcbiAgICAgIG9wYXF1ZTogb3B0aW9ucy5vcGFxdWUsXG4gICAgICBwcm9qZWN0aW9uOiBwcm9qZWN0aW9uLFxuICAgICAgcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ6IG9wdGlvbnMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQsXG4gICAgICB0aWxlR3JpZDogdGlsZUdyaWQsXG4gICAgICB0aWxlTG9hZEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb24sXG4gICAgICB0aWxlUGl4ZWxSYXRpbzogb3B0aW9ucy50aWxlUGl4ZWxSYXRpbyxcbiAgICAgIHRpbGVVcmxGdW5jdGlvbjogb3B0aW9ucy50aWxlVXJsRnVuY3Rpb24sXG4gICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgdXJsczogb3B0aW9ucy51cmxzLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiB0cnVlLFxuICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgYXR0cmlidXRpb25zQ29sbGFwc2libGU6IG9wdGlvbnMuYXR0cmlidXRpb25zQ29sbGFwc2libGUsXG4gICAgICB6RGlyZWN0aW9uOiBvcHRpb25zLnpEaXJlY3Rpb24sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5ndXR0ZXJfID0gb3B0aW9ucy5ndXR0ZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZ3V0dGVyIDogMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEd1dHRlci5cbiAgICovXG4gIGdldEd1dHRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5ndXR0ZXJfO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFhZWjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uSW1hZ2VDYWNoZVxuICovXG5pbXBvcnQge2FzU3RyaW5nfSBmcm9tICcuLi9jb2xvci5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2luZ2xldG9uIGNsYXNzLiBBdmFpbGFibGUgdGhyb3VnaCB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25JbWFnZUNhY2hlLnNoYXJlZH0uXG4gKi9cbmNsYXNzIEljb25JbWFnZUNhY2hlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuL0ljb25JbWFnZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuY2FjaGVfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5jYWNoZVNpemVfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heENhY2hlU2l6ZV8gPSAzMjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuY2FjaGVfID0ge307XG4gICAgdGhpcy5jYWNoZVNpemVfID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBDYW4gZXhwaXJlIGNhY2hlLlxuICAgKi9cbiAgY2FuRXhwaXJlQ2FjaGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGVTaXplXyA+IHRoaXMubWF4Q2FjaGVTaXplXztcbiAgfVxuXG4gIC8qKlxuICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICovXG4gIGV4cGlyZSgpIHtcbiAgICBpZiAodGhpcy5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNhY2hlXykge1xuICAgICAgICBjb25zdCBpY29uSW1hZ2UgPSB0aGlzLmNhY2hlX1trZXldO1xuICAgICAgICBpZiAoKGkrKyAmIDMpID09PSAwICYmICFpY29uSW1hZ2UuaGFzTGlzdGVuZXIoKSkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhY2hlX1trZXldO1xuICAgICAgICAgIC0tdGhpcy5jYWNoZVNpemVfO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgU3JjLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn0gY29sb3IgQ29sb3IuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vSWNvbkltYWdlLmpzXCIpLmRlZmF1bHR9IEljb24gaW1hZ2UuXG4gICAqL1xuICBnZXQoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpIHtcbiAgICBjb25zdCBrZXkgPSBnZXRLZXkoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpO1xuICAgIHJldHVybiBrZXkgaW4gdGhpcy5jYWNoZV8gPyB0aGlzLmNhY2hlX1trZXldIDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIFNyYy5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vSWNvbkltYWdlLmpzXCIpLmRlZmF1bHR9IGljb25JbWFnZSBJY29uIGltYWdlLlxuICAgKi9cbiAgc2V0KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yLCBpY29uSW1hZ2UpIHtcbiAgICBjb25zdCBrZXkgPSBnZXRLZXkoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpO1xuICAgIHRoaXMuY2FjaGVfW2tleV0gPSBpY29uSW1hZ2U7XG4gICAgKyt0aGlzLmNhY2hlU2l6ZV87XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjYWNoZSBzaXplIG9mIHRoZSBpY29uIGNhY2hlLiBEZWZhdWx0IGlzIGAzMmAuIENoYW5nZSB0aGlzIHZhbHVlIHdoZW5cbiAgICogeW91ciBtYXAgdXNlcyBtb3JlIHRoYW4gMzIgZGlmZmVyZW50IGljb24gaW1hZ2VzIGFuZCB5b3UgYXJlIG5vdCBjYWNoaW5nIGljb25cbiAgICogc3R5bGVzIG9uIHRoZSBhcHBsaWNhdGlvbiBsZXZlbC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heENhY2hlU2l6ZSBDYWNoZSBtYXggc2l6ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U2l6ZShtYXhDYWNoZVNpemUpIHtcbiAgICB0aGlzLm1heENhY2hlU2l6ZV8gPSBtYXhDYWNoZVNpemU7XG4gICAgdGhpcy5leHBpcmUoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgU3JjLlxuICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge3N0cmluZ30gQ2FjaGUga2V5LlxuICovXG5mdW5jdGlvbiBnZXRLZXkoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpIHtcbiAgY29uc3QgY29sb3JTdHJpbmcgPSBjb2xvciA/IGFzU3RyaW5nKGNvbG9yKSA6ICdudWxsJztcbiAgcmV0dXJuIGNyb3NzT3JpZ2luICsgJzonICsgc3JjICsgJzonICsgY29sb3JTdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEljb25JbWFnZUNhY2hlO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25JbWFnZUNhY2hlfkljb25JbWFnZUNhY2hlfSBmb3JcbiAqIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvSWNvbn5JY29ufSBpbWFnZXMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCBzaGFyZWQgPSBuZXcgSWNvbkltYWdlQ2FjaGUoKTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC90aWxlY29vcmRcbiAqL1xuXG4vKipcbiAqIEFuIGFycmF5IG9mIHRocmVlIG51bWJlcnMgcmVwcmVzZW50aW5nIHRoZSBsb2NhdGlvbiBvZiBhIHRpbGUgaW4gYSB0aWxlXG4gKiBncmlkLiBUaGUgb3JkZXIgaXMgYHpgICh6b29tIGxldmVsKSwgYHhgIChjb2x1bW4pLCBhbmQgYHlgIChyb3cpLlxuICogQHR5cGVkZWYge0FycmF5PG51bWJlcj59IFRpbGVDb29yZFxuICogQGFwaVxuICovXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHogWi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtUaWxlQ29vcmR9IFt0aWxlQ29vcmRdIFRpbGUgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge1RpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGUoeiwgeCwgeSwgdGlsZUNvb3JkKSB7XG4gIGlmICh0aWxlQ29vcmQgIT09IHVuZGVmaW5lZCkge1xuICAgIHRpbGVDb29yZFswXSA9IHo7XG4gICAgdGlsZUNvb3JkWzFdID0geDtcbiAgICB0aWxlQ29vcmRbMl0gPSB5O1xuICAgIHJldHVybiB0aWxlQ29vcmQ7XG4gIH1cbiAgcmV0dXJuIFt6LCB4LCB5XTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEtleS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEtleVpYWSh6LCB4LCB5KSB7XG4gIHJldHVybiB6ICsgJy8nICsgeCArICcvJyArIHk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBrZXkgZm9yIGEgdGlsZSBjb29yZC5cbiAqIEBwYXJhbSB7VGlsZUNvb3JkfSB0aWxlQ29vcmQgVGhlIHRpbGUgY29vcmQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEtleS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEtleSh0aWxlQ29vcmQpIHtcbiAgcmV0dXJuIGdldEtleVpYWSh0aWxlQ29vcmRbMF0sIHRpbGVDb29yZFsxXSwgdGlsZUNvb3JkWzJdKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHRpbGUgY2FjaGUga2V5IGZvciBhIHRpbGUga2V5IG9idGFpbmVkIHRocm91Z2ggYHRpbGUuZ2V0S2V5KClgLlxuICogQHBhcmFtIHtzdHJpbmd9IHRpbGVLZXkgVGhlIHRpbGUga2V5LlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY2FjaGUga2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FjaGVLZXlGb3JUaWxlS2V5KHRpbGVLZXkpIHtcbiAgY29uc3QgW3osIHgsIHldID0gdGlsZUtleVxuICAgIC5zdWJzdHJpbmcodGlsZUtleS5sYXN0SW5kZXhPZignLycpICsgMSwgdGlsZUtleS5sZW5ndGgpXG4gICAgLnNwbGl0KCcsJylcbiAgICAubWFwKE51bWJlcik7XG4gIHJldHVybiBnZXRLZXlaWFkoeiwgeCwgeSk7XG59XG5cbi8qKlxuICogR2V0IGEgdGlsZSBjb29yZCBnaXZlbiBhIGtleS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHRpbGUgY29vcmQga2V5LlxuICogQHJldHVybiB7VGlsZUNvb3JkfSBUaGUgdGlsZSBjb29yZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21LZXkoa2V5KSB7XG4gIHJldHVybiBrZXkuc3BsaXQoJy8nKS5tYXAoTnVtYmVyKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEhhc2guXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoKHRpbGVDb29yZCkge1xuICByZXR1cm4gKHRpbGVDb29yZFsxXSA8PCB0aWxlQ29vcmRbMF0pICsgdGlsZUNvb3JkWzJdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHshaW1wb3J0KFwiLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaWxlIGNvb3JkaW5hdGUgaXMgd2l0aGluIGV4dGVudCBhbmQgem9vbSBsZXZlbCByYW5nZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhpbkV4dGVudEFuZFoodGlsZUNvb3JkLCB0aWxlR3JpZCkge1xuICBjb25zdCB6ID0gdGlsZUNvb3JkWzBdO1xuICBjb25zdCB4ID0gdGlsZUNvb3JkWzFdO1xuICBjb25zdCB5ID0gdGlsZUNvb3JkWzJdO1xuXG4gIGlmICh0aWxlR3JpZC5nZXRNaW5ab29tKCkgPiB6IHx8IHogPiB0aWxlR3JpZC5nZXRNYXhab29tKCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgdGlsZVJhbmdlID0gdGlsZUdyaWQuZ2V0RnVsbFRpbGVSYW5nZSh6KTtcbiAgaWYgKCF0aWxlUmFuZ2UpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gdGlsZVJhbmdlLmNvbnRhaW5zWFkoeCwgeSk7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWdyaWRcbiAqL1xuaW1wb3J0IFRpbGVHcmlkIGZyb20gJy4vdGlsZWdyaWQvVGlsZUdyaWQuanMnO1xuaW1wb3J0IHtERUZBVUxUX01BWF9aT09NLCBERUZBVUxUX1RJTEVfU0laRX0gZnJvbSAnLi90aWxlZ3JpZC9jb21tb24uanMnO1xuaW1wb3J0IHtNRVRFUlNfUEVSX1VOSVQsIGdldCBhcyBnZXRQcm9qZWN0aW9ufSBmcm9tICcuL3Byb2ouanMnO1xuaW1wb3J0IHtcbiAgY29udGFpbnNDb29yZGluYXRlLFxuICBjcmVhdGVPclVwZGF0ZSxcbiAgZ2V0Q29ybmVyLFxuICBnZXRIZWlnaHQsXG4gIGdldFdpZHRoLFxufSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQge3RvU2l6ZX0gZnJvbSAnLi9zaXplLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gRGVmYXVsdCB0aWxlIGdyaWQgZm9yIHRoZVxuICogcGFzc2VkIHByb2plY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgbGV0IHRpbGVHcmlkID0gcHJvamVjdGlvbi5nZXREZWZhdWx0VGlsZUdyaWQoKTtcbiAgaWYgKCF0aWxlR3JpZCkge1xuICAgIHRpbGVHcmlkID0gY3JlYXRlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBwcm9qZWN0aW9uLnNldERlZmF1bHRUaWxlR3JpZCh0aWxlR3JpZCk7XG4gIH1cbiAgcmV0dXJuIHRpbGVHcmlkO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGlsZUdyaWR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBYKHRpbGVHcmlkLCB0aWxlQ29vcmQsIHByb2plY3Rpb24pIHtcbiAgY29uc3QgeiA9IHRpbGVDb29yZFswXTtcbiAgY29uc3QgY2VudGVyID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkQ2VudGVyKHRpbGVDb29yZCk7XG4gIGNvbnN0IHByb2plY3Rpb25FeHRlbnQgPSBleHRlbnRGcm9tUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgaWYgKCFjb250YWluc0Nvb3JkaW5hdGUocHJvamVjdGlvbkV4dGVudCwgY2VudGVyKSkge1xuICAgIGNvbnN0IHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICBjb25zdCB3b3JsZHNBd2F5ID0gTWF0aC5jZWlsKFxuICAgICAgKHByb2plY3Rpb25FeHRlbnRbMF0gLSBjZW50ZXJbMF0pIC8gd29ybGRXaWR0aFxuICAgICk7XG4gICAgY2VudGVyWzBdICs9IHdvcmxkV2lkdGggKiB3b3JsZHNBd2F5O1xuICAgIHJldHVybiB0aWxlR3JpZC5nZXRUaWxlQ29vcmRGb3JDb29yZEFuZFooY2VudGVyLCB6KTtcbiAgfVxuICByZXR1cm4gdGlsZUNvb3JkO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IFttYXhab29tXSBNYXhpbXVtIHpvb20gbGV2ZWwgKGRlZmF1bHQgaXNcbiAqICAgICBERUZBVUxUX01BWF9aT09NKS5cbiAqIEBwYXJhbSB7bnVtYmVyfGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbdGlsZVNpemVdIFRpbGUgc2l6ZSAoZGVmYXVsdCB1c2VzXG4gKiAgICAgREVGQVVMVF9USUxFX1NJWkUpLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5Db3JuZXJ9IFtjb3JuZXJdIEV4dGVudCBjb3JuZXIgKGRlZmF1bHQgaXMgYCd0b3AtbGVmdCdgKS5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gVGlsZUdyaWQgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb3JFeHRlbnQoZXh0ZW50LCBtYXhab29tLCB0aWxlU2l6ZSwgY29ybmVyKSB7XG4gIGNvcm5lciA9IGNvcm5lciAhPT0gdW5kZWZpbmVkID8gY29ybmVyIDogJ3RvcC1sZWZ0JztcblxuICBjb25zdCByZXNvbHV0aW9ucyA9IHJlc29sdXRpb25zRnJvbUV4dGVudChleHRlbnQsIG1heFpvb20sIHRpbGVTaXplKTtcblxuICByZXR1cm4gbmV3IFRpbGVHcmlkKHtcbiAgICBleHRlbnQ6IGV4dGVudCxcbiAgICBvcmlnaW46IGdldENvcm5lcihleHRlbnQsIGNvcm5lciksXG4gICAgcmVzb2x1dGlvbnM6IHJlc29sdXRpb25zLFxuICAgIHRpbGVTaXplOiB0aWxlU2l6ZSxcbiAgfSk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gWFlaT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIEV4dGVudCBmb3IgdGhlIHRpbGUgZ3JpZC4gVGhlIG9yaWdpbiBmb3IgYW4gWFlaIHRpbGUgZ3JpZCBpcyB0aGVcbiAqIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgZXh0ZW50LiBJZiBgbWF4UmVzb2x1dGlvbmAgaXMgbm90IHByb3ZpZGVkIHRoZSB6ZXJvIGxldmVsIG9mIHRoZSBncmlkIGlzIGRlZmluZWQgYnkgdGhlIHJlc29sdXRpb25cbiAqIGF0IHdoaWNoIG9uZSB0aWxlIGZpdHMgaW4gdGhlIHByb3ZpZGVkIGV4dGVudC4gSWYgbm90IHByb3ZpZGVkLCB0aGUgZXh0ZW50IG9mIHRoZSBFUFNHOjM4NTcgcHJvamVjdGlvbiBpcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBSZXNvbHV0aW9uIGF0IGxldmVsIHplcm8uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIE1heGltdW0gem9vbS4gVGhlIGRlZmF1bHQgaXMgYDQyYC4gVGhpcyBkZXRlcm1pbmVzIHRoZSBudW1iZXIgb2YgbGV2ZWxzXG4gKiBpbiB0aGUgZ3JpZCBzZXQuIEZvciBleGFtcGxlLCBhIGBtYXhab29tYCBvZiAyMSBtZWFucyB0aGVyZSBhcmUgMjIgbGV2ZWxzIGluIHRoZSBncmlkIHNldC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbT0wXSBNaW5pbXVtIHpvb20uXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplPVsyNTYsIDI1Nl1dIFRpbGUgc2l6ZSBpbiBwaXhlbHMuXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgdGlsZSBncmlkIHdpdGggYSBzdGFuZGFyZCBYWVogdGlsaW5nIHNjaGVtZS5cbiAqIEBwYXJhbSB7WFlaT3B0aW9uc30gW29wdGlvbnNdIFRpbGUgZ3JpZCBvcHRpb25zLlxuICogQHJldHVybiB7IVRpbGVHcmlkfSBUaWxlIGdyaWQgaW5zdGFuY2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVYWVoob3B0aW9ucykge1xuICBjb25zdCB4eXpPcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBjb25zdCBleHRlbnQgPSB4eXpPcHRpb25zLmV4dGVudCB8fCBnZXRQcm9qZWN0aW9uKCdFUFNHOjM4NTcnKS5nZXRFeHRlbnQoKTtcblxuICBjb25zdCBncmlkT3B0aW9ucyA9IHtcbiAgICBleHRlbnQ6IGV4dGVudCxcbiAgICBtaW5ab29tOiB4eXpPcHRpb25zLm1pblpvb20sXG4gICAgdGlsZVNpemU6IHh5ek9wdGlvbnMudGlsZVNpemUsXG4gICAgcmVzb2x1dGlvbnM6IHJlc29sdXRpb25zRnJvbUV4dGVudChcbiAgICAgIGV4dGVudCxcbiAgICAgIHh5ek9wdGlvbnMubWF4Wm9vbSxcbiAgICAgIHh5ek9wdGlvbnMudGlsZVNpemUsXG4gICAgICB4eXpPcHRpb25zLm1heFJlc29sdXRpb25cbiAgICApLFxuICB9O1xuICByZXR1cm4gbmV3IFRpbGVHcmlkKGdyaWRPcHRpb25zKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSByZXNvbHV0aW9ucyBhcnJheSBmcm9tIGFuIGV4dGVudC4gIEEgem9vbSBmYWN0b3Igb2YgMiBpcyBhc3N1bWVkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW21heFpvb21dIE1heGltdW0gem9vbSBsZXZlbCAoZGVmYXVsdCBpc1xuICogICAgIERFRkFVTFRfTUFYX1pPT00pLlxuICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFt0aWxlU2l6ZV0gVGlsZSBzaXplIChkZWZhdWx0IHVzZXNcbiAqICAgICBERUZBVUxUX1RJTEVfU0laRSkuXG4gKiBAcGFyYW0ge251bWJlcn0gW21heFJlc29sdXRpb25dIFJlc29sdXRpb24gYXQgbGV2ZWwgemVyby5cbiAqIEByZXR1cm4geyFBcnJheTxudW1iZXI+fSBSZXNvbHV0aW9ucyBhcnJheS5cbiAqL1xuZnVuY3Rpb24gcmVzb2x1dGlvbnNGcm9tRXh0ZW50KGV4dGVudCwgbWF4Wm9vbSwgdGlsZVNpemUsIG1heFJlc29sdXRpb24pIHtcbiAgbWF4Wm9vbSA9IG1heFpvb20gIT09IHVuZGVmaW5lZCA/IG1heFpvb20gOiBERUZBVUxUX01BWF9aT09NO1xuICB0aWxlU2l6ZSA9IHRvU2l6ZSh0aWxlU2l6ZSAhPT0gdW5kZWZpbmVkID8gdGlsZVNpemUgOiBERUZBVUxUX1RJTEVfU0laRSk7XG5cbiAgY29uc3QgaGVpZ2h0ID0gZ2V0SGVpZ2h0KGV4dGVudCk7XG4gIGNvbnN0IHdpZHRoID0gZ2V0V2lkdGgoZXh0ZW50KTtcblxuICBtYXhSZXNvbHV0aW9uID1cbiAgICBtYXhSZXNvbHV0aW9uID4gMFxuICAgICAgPyBtYXhSZXNvbHV0aW9uXG4gICAgICA6IE1hdGgubWF4KHdpZHRoIC8gdGlsZVNpemVbMF0sIGhlaWdodCAvIHRpbGVTaXplWzFdKTtcblxuICBjb25zdCBsZW5ndGggPSBtYXhab29tICsgMTtcbiAgY29uc3QgcmVzb2x1dGlvbnMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgZm9yIChsZXQgeiA9IDA7IHogPCBsZW5ndGg7ICsreikge1xuICAgIHJlc29sdXRpb25zW3pdID0gbWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KDIsIHopO1xuICB9XG4gIHJldHVybiByZXNvbHV0aW9ucztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFttYXhab29tXSBNYXhpbXVtIHpvb20gbGV2ZWwgKGRlZmF1bHQgaXNcbiAqICAgICBERUZBVUxUX01BWF9aT09NKS5cbiAqIEBwYXJhbSB7bnVtYmVyfGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbdGlsZVNpemVdIFRpbGUgc2l6ZSAoZGVmYXVsdCB1c2VzXG4gKiAgICAgREVGQVVMVF9USUxFX1NJWkUpLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5Db3JuZXJ9IFtjb3JuZXJdIEV4dGVudCBjb3JuZXIgKGRlZmF1bHQgaXMgYCd0b3AtbGVmdCdgKS5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gVGlsZUdyaWQgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24sIG1heFpvb20sIHRpbGVTaXplLCBjb3JuZXIpIHtcbiAgY29uc3QgZXh0ZW50ID0gZXh0ZW50RnJvbVByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gIHJldHVybiBjcmVhdGVGb3JFeHRlbnQoZXh0ZW50LCBtYXhab29tLCB0aWxlU2l6ZSwgY29ybmVyKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIHRpbGUgZ3JpZCBleHRlbnQgZnJvbSBhIHByb2plY3Rpb24uICBJZiB0aGUgcHJvamVjdGlvbiBoYXMgYW5cbiAqIGV4dGVudCwgaXQgaXMgdXNlZC4gIElmIG5vdCwgYSBnbG9iYWwgZXh0ZW50IGlzIGFzc3VtZWQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbnRGcm9tUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gIHByb2plY3Rpb24gPSBnZXRQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICBsZXQgZXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgaWYgKCFleHRlbnQpIHtcbiAgICBjb25zdCBoYWxmID1cbiAgICAgICgxODAgKiBNRVRFUlNfUEVSX1VOSVQuZGVncmVlcykgLyBwcm9qZWN0aW9uLmdldE1ldGVyc1BlclVuaXQoKTtcbiAgICBleHRlbnQgPSBjcmVhdGVPclVwZGF0ZSgtaGFsZiwgLWhhbGYsIGhhbGYsIGhhbGYpO1xuICB9XG4gIHJldHVybiBleHRlbnQ7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWdyaWQvVGlsZUdyaWRcbiAqL1xuaW1wb3J0IFRpbGVSYW5nZSwge1xuICBjcmVhdGVPclVwZGF0ZSBhcyBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZSxcbn0gZnJvbSAnLi4vVGlsZVJhbmdlLmpzJztcbmltcG9ydCB7REVGQVVMVF9USUxFX1NJWkV9IGZyb20gJy4vY29tbW9uLmpzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7Y2VpbCwgY2xhbXAsIGZsb29yfSBmcm9tICcuLi9tYXRoLmpzJztcbmltcG9ydCB7Y3JlYXRlT3JVcGRhdGUsIGdldFRvcExlZnR9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2NyZWF0ZU9yVXBkYXRlIGFzIGNyZWF0ZU9yVXBkYXRlVGlsZUNvb3JkfSBmcm9tICcuLi90aWxlY29vcmQuanMnO1xuaW1wb3J0IHtpbnRlcnNlY3RzTGluZWFyUmluZ30gZnJvbSAnLi4vZ2VvbS9mbGF0L2ludGVyc2VjdHNleHRlbnQuanMnO1xuaW1wb3J0IHtpc1NvcnRlZCwgbGluZWFyRmluZE5lYXJlc3R9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7dG9TaXplfSBmcm9tICcuLi9zaXplLmpzJztcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9XG4gKi9cbmNvbnN0IHRtcFRpbGVDb29yZCA9IFswLCAwLCAwXTtcblxuLyoqXG4gKiBOdW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMgdG8gY29uc2lkZXIgaW4gaW50ZWdlciB2YWx1ZXMgd2hlbiByb3VuZGluZy5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmNvbnN0IERFQ0lNQUxTID0gNTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIEV4dGVudCBmb3IgdGhlIHRpbGUgZ3JpZC4gTm8gdGlsZXMgb3V0c2lkZSB0aGlzXG4gKiBleHRlbnQgd2lsbCBiZSByZXF1ZXN0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZX5UaWxlU291cmNlfSBzb3VyY2VzLiBXaGVuIG5vIGBvcmlnaW5gIG9yXG4gKiBgb3JpZ2luc2AgYXJlIGNvbmZpZ3VyZWQsIHRoZSBgb3JpZ2luYCB3aWxsIGJlIHNldCB0byB0aGUgdG9wLWxlZnQgY29ybmVyIG9mIHRoZSBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb209MF0gTWluaW11bSB6b29tLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtvcmlnaW5dIFRoZSB0aWxlIGdyaWQgb3JpZ2luLCBpLmUuIHdoZXJlIHRoZSBgeGBcbiAqIGFuZCBgeWAgYXhlcyBtZWV0IChgW3osIDAsIDBdYCkuIFRpbGUgY29vcmRpbmF0ZXMgaW5jcmVhc2UgbGVmdCB0byByaWdodCBhbmQgZG93bndhcmRzLiBJZiBub3RcbiAqIHNwZWNpZmllZCwgYGV4dGVudGAgb3IgYG9yaWdpbnNgIG11c3QgYmUgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IFtvcmlnaW5zXSBUaWxlIGdyaWQgb3JpZ2lucywgaS5lLiB3aGVyZVxuICogdGhlIGB4YCBhbmQgYHlgIGF4ZXMgbWVldCAoYFt6LCAwLCAwXWApLCBmb3IgZWFjaCB6b29tIGxldmVsLiBJZiBnaXZlbiwgdGhlIGFycmF5IGxlbmd0aFxuICogc2hvdWxkIG1hdGNoIHRoZSBsZW5ndGggb2YgdGhlIGByZXNvbHV0aW9uc2AgYXJyYXksIGkuZS4gZWFjaCByZXNvbHV0aW9uIGNhbiBoYXZlIGEgZGlmZmVyZW50XG4gKiBvcmlnaW4uIFRpbGUgY29vcmRpbmF0ZXMgaW5jcmVhc2UgbGVmdCB0byByaWdodCBhbmQgZG93bndhcmRzLiBJZiBub3Qgc3BlY2lmaWVkLCBgZXh0ZW50YCBvclxuICogYG9yaWdpbmAgbXVzdCBiZSBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7IUFycmF5PG51bWJlcj59IHJlc29sdXRpb25zIFJlc29sdXRpb25zLiBUaGUgYXJyYXkgaW5kZXggb2YgZWFjaCByZXNvbHV0aW9uIG5lZWRzXG4gKiB0byBtYXRjaCB0aGUgem9vbSBsZXZlbC4gVGhpcyBtZWFucyB0aGF0IGV2ZW4gaWYgYSBgbWluWm9vbWAgaXMgY29uZmlndXJlZCwgdGhlIHJlc29sdXRpb25zXG4gKiBhcnJheSB3aWxsIGhhdmUgYSBsZW5ndGggb2YgYG1heFpvb20gKyAxYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplPn0gW3NpemVzXSBOdW1iZXIgb2YgdGlsZSByb3dzIGFuZCBjb2x1bW5zXG4gKiBvZiB0aGUgZ3JpZCBmb3IgZWFjaCB6b29tIGxldmVsLiBJZiBzcGVjaWZpZWQgdGhlIHZhbHVlc1xuICogZGVmaW5lIGVhY2ggem9vbSBsZXZlbCdzIGV4dGVudCB0b2dldGhlciB3aXRoIHRoZSBgb3JpZ2luYCBvciBgb3JpZ2luc2AuXG4gKiBBIGdyaWQgYGV4dGVudGAgY2FuIGJlIGNvbmZpZ3VyZWQgaW4gYWRkaXRpb24sIGFuZCB3aWxsIGZ1cnRoZXIgbGltaXQgdGhlIGV4dGVudFxuICogZm9yIHdoaWNoIHRpbGUgcmVxdWVzdHMgYXJlIG1hZGUgYnkgc291cmNlcy4gSWYgdGhlIGJvdHRvbS1sZWZ0IGNvcm5lciBvZlxuICogYW4gZXh0ZW50IGlzIHVzZWQgYXMgYG9yaWdpbmAgb3IgYG9yaWdpbnNgLCB0aGVuIHRoZSBgeWAgdmFsdWUgbXVzdCBiZVxuICogbmVnYXRpdmUgYmVjYXVzZSBPcGVuTGF5ZXJzIHRpbGUgY29vcmRpbmF0ZXMgdXNlIHRoZSB0b3AgbGVmdCBhcyB0aGUgb3JpZ2luLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbdGlsZVNpemVdIFRpbGUgc2l6ZS5cbiAqIERlZmF1bHQgaXMgYFsyNTYsIDI1Nl1gLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplPn0gW3RpbGVTaXplc10gVGlsZSBzaXplcy4gSWYgZ2l2ZW4sIHRoZSBhcnJheSBsZW5ndGhcbiAqIHNob3VsZCBtYXRjaCB0aGUgbGVuZ3RoIG9mIHRoZSBgcmVzb2x1dGlvbnNgIGFycmF5LCBpLmUuIGVhY2ggcmVzb2x1dGlvbiBjYW4gaGF2ZSBhIGRpZmZlcmVudFxuICogdGlsZSBzaXplLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyBmb3Igc2V0dGluZyB0aGUgZ3JpZCBwYXR0ZXJuIGZvciBzb3VyY2VzIGFjY2Vzc2luZyB0aWxlZC1pbWFnZVxuICogc2VydmVycy5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgVGlsZUdyaWQge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIFRpbGUgZ3JpZCBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWluWm9vbSA9IG9wdGlvbnMubWluWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5ab29tIDogMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbnNfID0gb3B0aW9ucy5yZXNvbHV0aW9ucztcbiAgICBhc3NlcnQoXG4gICAgICBpc1NvcnRlZChcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uc18sXG4gICAgICAgIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgcmV0dXJuIGIgLSBhO1xuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApLFxuICAgICAgMTdcbiAgICApOyAvLyBgcmVzb2x1dGlvbnNgIG11c3QgYmUgc29ydGVkIGluIGRlc2NlbmRpbmcgb3JkZXJcblxuICAgIC8vIGNoZWNrIGlmIHdlJ3ZlIGdvdCBhIGNvbnNpc3RlbnQgem9vbSBmYWN0b3IgYW5kIG9yaWdpblxuICAgIGxldCB6b29tRmFjdG9yO1xuICAgIGlmICghb3B0aW9ucy5vcmlnaW5zKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGggLSAxOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBpZiAoIXpvb21GYWN0b3IpIHtcbiAgICAgICAgICB6b29tRmFjdG9yID0gdGhpcy5yZXNvbHV0aW9uc19baV0gLyB0aGlzLnJlc29sdXRpb25zX1tpICsgMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMucmVzb2x1dGlvbnNfW2ldIC8gdGhpcy5yZXNvbHV0aW9uc19baSArIDFdICE9PSB6b29tRmFjdG9yKSB7XG4gICAgICAgICAgICB6b29tRmFjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnpvb21GYWN0b3JfID0gem9vbUZhY3RvcjtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4Wm9vbSA9IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCAtIDE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWdpbl8gPSBvcHRpb25zLm9yaWdpbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vcmlnaW4gOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWdpbnNfID0gbnVsbDtcbiAgICBpZiAob3B0aW9ucy5vcmlnaW5zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3JpZ2luc18gPSBvcHRpb25zLm9yaWdpbnM7XG4gICAgICBhc3NlcnQodGhpcy5vcmlnaW5zXy5sZW5ndGggPT0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoLCAyMCk7IC8vIE51bWJlciBvZiBgb3JpZ2luc2AgYW5kIGByZXNvbHV0aW9uc2AgbXVzdCBiZSBlcXVhbFxuICAgIH1cblxuICAgIGNvbnN0IGV4dGVudCA9IG9wdGlvbnMuZXh0ZW50O1xuXG4gICAgaWYgKGV4dGVudCAhPT0gdW5kZWZpbmVkICYmICF0aGlzLm9yaWdpbl8gJiYgIXRoaXMub3JpZ2luc18pIHtcbiAgICAgIHRoaXMub3JpZ2luXyA9IGdldFRvcExlZnQoZXh0ZW50KTtcbiAgICB9XG5cbiAgICBhc3NlcnQoXG4gICAgICAoIXRoaXMub3JpZ2luXyAmJiB0aGlzLm9yaWdpbnNfKSB8fCAodGhpcy5vcmlnaW5fICYmICF0aGlzLm9yaWdpbnNfKSxcbiAgICAgIDE4XG4gICAgKTsgLy8gRWl0aGVyIGBvcmlnaW5gIG9yIGBvcmlnaW5zYCBtdXN0IGJlIGNvbmZpZ3VyZWQsIG5ldmVyIGJvdGhcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemU+fVxuICAgICAqL1xuICAgIHRoaXMudGlsZVNpemVzXyA9IG51bGw7XG4gICAgaWYgKG9wdGlvbnMudGlsZVNpemVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudGlsZVNpemVzXyA9IG9wdGlvbnMudGlsZVNpemVzO1xuICAgICAgYXNzZXJ0KHRoaXMudGlsZVNpemVzXy5sZW5ndGggPT0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoLCAxOSk7IC8vIE51bWJlciBvZiBgdGlsZVNpemVzYCBhbmQgYHJlc29sdXRpb25zYCBtdXN0IGJlIGVxdWFsXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVTaXplXyA9XG4gICAgICBvcHRpb25zLnRpbGVTaXplICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLnRpbGVTaXplXG4gICAgICAgIDogIXRoaXMudGlsZVNpemVzX1xuICAgICAgICA/IERFRkFVTFRfVElMRV9TSVpFXG4gICAgICAgIDogbnVsbDtcbiAgICBhc3NlcnQoXG4gICAgICAoIXRoaXMudGlsZVNpemVfICYmIHRoaXMudGlsZVNpemVzXykgfHxcbiAgICAgICAgKHRoaXMudGlsZVNpemVfICYmICF0aGlzLnRpbGVTaXplc18pLFxuICAgICAgMjJcbiAgICApOyAvLyBFaXRoZXIgYHRpbGVTaXplYCBvciBgdGlsZVNpemVzYCBtdXN0IGJlIGNvbmZpZ3VyZWQsIG5ldmVyIGJvdGhcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy5leHRlbnRfID0gZXh0ZW50ICE9PSB1bmRlZmluZWQgPyBleHRlbnQgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMuZnVsbFRpbGVSYW5nZXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRtcFNpemVfID0gWzAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLnRtcEV4dGVudF8gPSBbMCwgMCwgMCwgMF07XG5cbiAgICBpZiAob3B0aW9ucy5zaXplcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmZ1bGxUaWxlUmFuZ2VzXyA9IG9wdGlvbnMuc2l6ZXMubWFwKGZ1bmN0aW9uIChzaXplLCB6KSB7XG4gICAgICAgIGNvbnN0IHRpbGVSYW5nZSA9IG5ldyBUaWxlUmFuZ2UoXG4gICAgICAgICAgTWF0aC5taW4oMCwgc2l6ZVswXSksXG4gICAgICAgICAgTWF0aC5tYXgoc2l6ZVswXSAtIDEsIC0xKSxcbiAgICAgICAgICBNYXRoLm1pbigwLCBzaXplWzFdKSxcbiAgICAgICAgICBNYXRoLm1heChzaXplWzFdIC0gMSwgLTEpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChleHRlbnQpIHtcbiAgICAgICAgICBjb25zdCByZXN0cmljdGVkVGlsZVJhbmdlID0gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgeik7XG4gICAgICAgICAgdGlsZVJhbmdlLm1pblggPSBNYXRoLm1heChyZXN0cmljdGVkVGlsZVJhbmdlLm1pblgsIHRpbGVSYW5nZS5taW5YKTtcbiAgICAgICAgICB0aWxlUmFuZ2UubWF4WCA9IE1hdGgubWluKHJlc3RyaWN0ZWRUaWxlUmFuZ2UubWF4WCwgdGlsZVJhbmdlLm1heFgpO1xuICAgICAgICAgIHRpbGVSYW5nZS5taW5ZID0gTWF0aC5tYXgocmVzdHJpY3RlZFRpbGVSYW5nZS5taW5ZLCB0aWxlUmFuZ2UubWluWSk7XG4gICAgICAgICAgdGlsZVJhbmdlLm1heFkgPSBNYXRoLm1pbihyZXN0cmljdGVkVGlsZVJhbmdlLm1heFksIHRpbGVSYW5nZS5tYXhZKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGlsZVJhbmdlO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfSBlbHNlIGlmIChleHRlbnQpIHtcbiAgICAgIHRoaXMuY2FsY3VsYXRlVGlsZVJhbmdlc18oZXh0ZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbCBhIGZ1bmN0aW9uIHdpdGggZWFjaCB0aWxlIGNvb3JkaW5hdGUgZm9yIGEgZ2l2ZW4gZXh0ZW50IGFuZCB6b29tIGxldmVsLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIEludGVnZXIgem9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkKTogdm9pZH0gY2FsbGJhY2sgRnVuY3Rpb24gY2FsbGVkIHdpdGggZWFjaCB0aWxlIGNvb3JkaW5hdGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGZvckVhY2hUaWxlQ29vcmQoZXh0ZW50LCB6b29tLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHRpbGVSYW5nZSA9IHRoaXMuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHpvb20pO1xuICAgIGZvciAobGV0IGkgPSB0aWxlUmFuZ2UubWluWCwgaWkgPSB0aWxlUmFuZ2UubWF4WDsgaSA8PSBpaTsgKytpKSB7XG4gICAgICBmb3IgKGxldCBqID0gdGlsZVJhbmdlLm1pblksIGpqID0gdGlsZVJhbmdlLm1heFk7IGogPD0gamo7ICsraikge1xuICAgICAgICBjYWxsYmFjayhbem9vbSwgaSwgal0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IGNhbGxiYWNrIENhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBbdGVtcFRpbGVSYW5nZV0gVGVtcG9yYXJ5IGltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0IG9iamVjdC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbdGVtcEV4dGVudF0gVGVtcG9yYXJ5IGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBDYWxsYmFjayBzdWNjZWVkZWQuXG4gICAqL1xuICBmb3JFYWNoVGlsZUNvb3JkUGFyZW50VGlsZVJhbmdlKFxuICAgIHRpbGVDb29yZCxcbiAgICBjYWxsYmFjayxcbiAgICB0ZW1wVGlsZVJhbmdlLFxuICAgIHRlbXBFeHRlbnRcbiAgKSB7XG4gICAgbGV0IHRpbGVSYW5nZSwgeCwgeTtcbiAgICBsZXQgdGlsZUNvb3JkRXh0ZW50ID0gbnVsbDtcbiAgICBsZXQgeiA9IHRpbGVDb29yZFswXSAtIDE7XG4gICAgaWYgKHRoaXMuem9vbUZhY3Rvcl8gPT09IDIpIHtcbiAgICAgIHggPSB0aWxlQ29vcmRbMV07XG4gICAgICB5ID0gdGlsZUNvb3JkWzJdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aWxlQ29vcmRFeHRlbnQgPSB0aGlzLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQsIHRlbXBFeHRlbnQpO1xuICAgIH1cbiAgICB3aGlsZSAoeiA+PSB0aGlzLm1pblpvb20pIHtcbiAgICAgIGlmICh0aGlzLnpvb21GYWN0b3JfID09PSAyKSB7XG4gICAgICAgIHggPSBNYXRoLmZsb29yKHggLyAyKTtcbiAgICAgICAgeSA9IE1hdGguZmxvb3IoeSAvIDIpO1xuICAgICAgICB0aWxlUmFuZ2UgPSBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZSh4LCB4LCB5LCB5LCB0ZW1wVGlsZVJhbmdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRpbGVSYW5nZSA9IHRoaXMuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihcbiAgICAgICAgICB0aWxlQ29vcmRFeHRlbnQsXG4gICAgICAgICAgeixcbiAgICAgICAgICB0ZW1wVGlsZVJhbmdlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoY2FsbGJhY2soeiwgdGlsZVJhbmdlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC0tejtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZXh0ZW50IGZvciB0aGlzIHRpbGUgZ3JpZCwgaWYgaXQgd2FzIGNvbmZpZ3VyZWQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RXh0ZW50KCkge1xuICAgIHJldHVybiB0aGlzLmV4dGVudF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBncmlkLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1heCB6b29tLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNYXhab29tKCkge1xuICAgIHJldHVybiB0aGlzLm1heFpvb207XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBncmlkLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbiB6b29tLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNaW5ab29tKCkge1xuICAgIHJldHVybiB0aGlzLm1pblpvb207XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBvcmlnaW4gZm9yIHRoZSBncmlkIGF0IHRoZSBnaXZlbiB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBJbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gT3JpZ2luLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRPcmlnaW4oeikge1xuICAgIGlmICh0aGlzLm9yaWdpbl8pIHtcbiAgICAgIHJldHVybiB0aGlzLm9yaWdpbl87XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9yaWdpbnNfW3pdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgdGhlIGdpdmVuIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRSZXNvbHV0aW9uKHopIHtcbiAgICByZXR1cm4gdGhpcy5yZXNvbHV0aW9uc19bel07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsaXN0IG9mIHJlc29sdXRpb25zIGZvciB0aGUgdGlsZSBncmlkLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBSZXNvbHV0aW9ucy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UmVzb2x1dGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzb2x1dGlvbnNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gW3RlbXBUaWxlUmFuZ2VdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCBvYmplY3QuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW3RlbXBFeHRlbnRdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50IG9iamVjdC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR8bnVsbH0gVGlsZSByYW5nZS5cbiAgICovXG4gIGdldFRpbGVDb29yZENoaWxkVGlsZVJhbmdlKHRpbGVDb29yZCwgdGVtcFRpbGVSYW5nZSwgdGVtcEV4dGVudCkge1xuICAgIGlmICh0aWxlQ29vcmRbMF0gPCB0aGlzLm1heFpvb20pIHtcbiAgICAgIGlmICh0aGlzLnpvb21GYWN0b3JfID09PSAyKSB7XG4gICAgICAgIGNvbnN0IG1pblggPSB0aWxlQ29vcmRbMV0gKiAyO1xuICAgICAgICBjb25zdCBtaW5ZID0gdGlsZUNvb3JkWzJdICogMjtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKFxuICAgICAgICAgIG1pblgsXG4gICAgICAgICAgbWluWCArIDEsXG4gICAgICAgICAgbWluWSxcbiAgICAgICAgICBtaW5ZICsgMSxcbiAgICAgICAgICB0ZW1wVGlsZVJhbmdlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCB0aWxlQ29vcmRFeHRlbnQgPSB0aGlzLmdldFRpbGVDb29yZEV4dGVudChcbiAgICAgICAgdGlsZUNvb3JkLFxuICAgICAgICB0ZW1wRXh0ZW50IHx8IHRoaXMudG1wRXh0ZW50X1xuICAgICAgKTtcbiAgICAgIHJldHVybiB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooXG4gICAgICAgIHRpbGVDb29yZEV4dGVudCxcbiAgICAgICAgdGlsZUNvb3JkWzBdICsgMSxcbiAgICAgICAgdGVtcFRpbGVSYW5nZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBJbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IFt0ZW1wVGlsZVJhbmdlXSBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdHxudWxsfSBUaWxlIHJhbmdlLlxuICAgKi9cbiAgZ2V0VGlsZVJhbmdlRm9yVGlsZUNvb3JkQW5kWih0aWxlQ29vcmQsIHosIHRlbXBUaWxlUmFuZ2UpIHtcbiAgICBpZiAoeiA+IHRoaXMubWF4Wm9vbSB8fCB6IDwgdGhpcy5taW5ab29tKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCB0aWxlQ29vcmRaID0gdGlsZUNvb3JkWzBdO1xuICAgIGNvbnN0IHRpbGVDb29yZFggPSB0aWxlQ29vcmRbMV07XG4gICAgY29uc3QgdGlsZUNvb3JkWSA9IHRpbGVDb29yZFsyXTtcblxuICAgIGlmICh6ID09PSB0aWxlQ29vcmRaKSB7XG4gICAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGVUaWxlUmFuZ2UoXG4gICAgICAgIHRpbGVDb29yZFgsXG4gICAgICAgIHRpbGVDb29yZFksXG4gICAgICAgIHRpbGVDb29yZFgsXG4gICAgICAgIHRpbGVDb29yZFksXG4gICAgICAgIHRlbXBUaWxlUmFuZ2VcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuem9vbUZhY3Rvcl8pIHtcbiAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGgucG93KHRoaXMuem9vbUZhY3Rvcl8sIHogLSB0aWxlQ29vcmRaKTtcbiAgICAgIGNvbnN0IG1pblggPSBNYXRoLmZsb29yKHRpbGVDb29yZFggKiBmYWN0b3IpO1xuICAgICAgY29uc3QgbWluWSA9IE1hdGguZmxvb3IodGlsZUNvb3JkWSAqIGZhY3Rvcik7XG4gICAgICBpZiAoeiA8IHRpbGVDb29yZFopIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKG1pblgsIG1pblgsIG1pblksIG1pblksIHRlbXBUaWxlUmFuZ2UpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBtYXhYID0gTWF0aC5mbG9vcihmYWN0b3IgKiAodGlsZUNvb3JkWCArIDEpKSAtIDE7XG4gICAgICBjb25zdCBtYXhZID0gTWF0aC5mbG9vcihmYWN0b3IgKiAodGlsZUNvb3JkWSArIDEpKSAtIDE7XG4gICAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGVUaWxlUmFuZ2UobWluWCwgbWF4WCwgbWluWSwgbWF4WSwgdGVtcFRpbGVSYW5nZSk7XG4gICAgfVxuXG4gICAgY29uc3QgdGlsZUNvb3JkRXh0ZW50ID0gdGhpcy5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZUNvb3JkLCB0aGlzLnRtcEV4dGVudF8pO1xuICAgIHJldHVybiB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFoodGlsZUNvb3JkRXh0ZW50LCB6LCB0ZW1wVGlsZVJhbmdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGV4dGVudCBmb3IgYSB0aWxlIHJhbmdlLlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBJbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFt0ZW1wRXh0ZW50XSBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudCBvYmplY3QuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICovXG4gIGdldFRpbGVSYW5nZUV4dGVudCh6LCB0aWxlUmFuZ2UsIHRlbXBFeHRlbnQpIHtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLmdldE9yaWdpbih6KTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKHopO1xuICAgIGNvbnN0IHRpbGVTaXplID0gdG9TaXplKHRoaXMuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZV8pO1xuICAgIGNvbnN0IG1pblggPSBvcmlnaW5bMF0gKyB0aWxlUmFuZ2UubWluWCAqIHRpbGVTaXplWzBdICogcmVzb2x1dGlvbjtcbiAgICBjb25zdCBtYXhYID0gb3JpZ2luWzBdICsgKHRpbGVSYW5nZS5tYXhYICsgMSkgKiB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb247XG4gICAgY29uc3QgbWluWSA9IG9yaWdpblsxXSArIHRpbGVSYW5nZS5taW5ZICogdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgIGNvbnN0IG1heFkgPSBvcmlnaW5bMV0gKyAodGlsZVJhbmdlLm1heFkgKyAxKSAqIHRpbGVTaXplWzFdICogcmVzb2x1dGlvbjtcbiAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGUobWluWCwgbWluWSwgbWF4WCwgbWF4WSwgdGVtcEV4dGVudCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdGlsZSByYW5nZSBmb3IgdGhlIGdpdmVuIGV4dGVudCBhbmQgaW50ZWdlciB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gW3RlbXBUaWxlUmFuZ2VdIFRlbXBvcmFyeSB0aWxlIHJhbmdlIG9iamVjdC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IFRpbGUgcmFuZ2UuXG4gICAqL1xuICBnZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgeiwgdGVtcFRpbGVSYW5nZSkge1xuICAgIHRoaXMuZ2V0VGlsZUNvb3JkRm9yWFlBbmRaXyhleHRlbnRbMF0sIGV4dGVudFszXSwgeiwgZmFsc2UsIHRtcFRpbGVDb29yZCk7XG4gICAgY29uc3QgbWluWCA9IHRtcFRpbGVDb29yZFsxXTtcbiAgICBjb25zdCBtaW5ZID0gdG1wVGlsZUNvb3JkWzJdO1xuICAgIHRoaXMuZ2V0VGlsZUNvb3JkRm9yWFlBbmRaXyhleHRlbnRbMl0sIGV4dGVudFsxXSwgeiwgdHJ1ZSwgdG1wVGlsZUNvb3JkKTtcbiAgICBjb25zdCBtYXhYID0gdG1wVGlsZUNvb3JkWzFdO1xuICAgIGNvbnN0IG1heFkgPSB0bXBUaWxlQ29vcmRbMl07XG4gICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKG1pblgsIG1heFgsIG1pblksIG1heFksIHRlbXBUaWxlUmFuZ2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUaWxlIGNlbnRlci5cbiAgICovXG4gIGdldFRpbGVDb29yZENlbnRlcih0aWxlQ29vcmQpIHtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLmdldE9yaWdpbih0aWxlQ29vcmRbMF0pO1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24odGlsZUNvb3JkWzBdKTtcbiAgICBjb25zdCB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLmdldFRpbGVTaXplKHRpbGVDb29yZFswXSksIHRoaXMudG1wU2l6ZV8pO1xuICAgIHJldHVybiBbXG4gICAgICBvcmlnaW5bMF0gKyAodGlsZUNvb3JkWzFdICsgMC41KSAqIHRpbGVTaXplWzBdICogcmVzb2x1dGlvbixcbiAgICAgIG9yaWdpblsxXSAtICh0aWxlQ29vcmRbMl0gKyAwLjUpICogdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uLFxuICAgIF07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBleHRlbnQgb2YgYSB0aWxlIGNvb3JkaW5hdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbdGVtcEV4dGVudF0gVGVtcG9yYXJ5IGV4dGVudCBvYmplY3QuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGVDb29yZCwgdGVtcEV4dGVudCkge1xuICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMuZ2V0T3JpZ2luKHRpbGVDb29yZFswXSk7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbih0aWxlQ29vcmRbMF0pO1xuICAgIGNvbnN0IHRpbGVTaXplID0gdG9TaXplKHRoaXMuZ2V0VGlsZVNpemUodGlsZUNvb3JkWzBdKSwgdGhpcy50bXBTaXplXyk7XG4gICAgY29uc3QgbWluWCA9IG9yaWdpblswXSArIHRpbGVDb29yZFsxXSAqIHRpbGVTaXplWzBdICogcmVzb2x1dGlvbjtcbiAgICBjb25zdCBtaW5ZID0gb3JpZ2luWzFdIC0gKHRpbGVDb29yZFsyXSArIDEpICogdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgIGNvbnN0IG1heFggPSBtaW5YICsgdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uO1xuICAgIGNvbnN0IG1heFkgPSBtaW5ZICsgdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB0ZW1wRXh0ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRpbGUgY29vcmRpbmF0ZSBmb3IgdGhlIGdpdmVuIG1hcCBjb29yZGluYXRlIGFuZCByZXNvbHV0aW9uLiAgVGhpc1xuICAgKiBtZXRob2QgY29uc2lkZXJzIHRoYXQgY29vcmRpbmF0ZXMgdGhhdCBpbnRlcnNlY3QgdGlsZSBib3VuZGFyaWVzIHNob3VsZCBiZVxuICAgKiBhc3NpZ25lZCB0aGUgaGlnaGVyIHRpbGUgY29vcmRpbmF0ZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBbb3B0X3RpbGVDb29yZF0gRGVzdGluYXRpb24gaW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCBvYmplY3QuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRSZXNvbHV0aW9uKGNvb3JkaW5hdGUsIHJlc29sdXRpb24sIG9wdF90aWxlQ29vcmQpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaWxlQ29vcmRGb3JYWUFuZFJlc29sdXRpb25fKFxuICAgICAgY29vcmRpbmF0ZVswXSxcbiAgICAgIGNvb3JkaW5hdGVbMV0sXG4gICAgICByZXNvbHV0aW9uLFxuICAgICAgZmFsc2UsXG4gICAgICBvcHRfdGlsZUNvb3JkXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3RlIHRoYXQgdGhpcyBtZXRob2Qgc2hvdWxkIG5vdCBiZSBjYWxsZWQgZm9yIHJlc29sdXRpb25zIHRoYXQgY29ycmVzcG9uZFxuICAgKiB0byBhbiBpbnRlZ2VyIHpvb20gbGV2ZWwuICBJbnN0ZWFkIGNhbGwgdGhlIGBnZXRUaWxlQ29vcmRGb3JYWUFuZFpfYCBtZXRob2QuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24gKGZvciBhIG5vbi1pbnRlZ2VyIHpvb20gbGV2ZWwpLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kgSW5zdGVhZCBvZiBsZXR0aW5nIGVkZ2VcbiAgICogICAgIGludGVyc2VjdGlvbnMgZ28gdG8gdGhlIGhpZ2hlciB0aWxlIGNvb3JkaW5hdGUsIGxldCBlZGdlIGludGVyc2VjdGlvbnNcbiAgICogICAgIGdvIHRvIHRoZSBsb3dlciB0aWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gW29wdF90aWxlQ29vcmRdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkIG9iamVjdC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0VGlsZUNvb3JkRm9yWFlBbmRSZXNvbHV0aW9uXyhcbiAgICB4LFxuICAgIHksXG4gICAgcmVzb2x1dGlvbixcbiAgICByZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5LFxuICAgIG9wdF90aWxlQ29vcmRcbiAgKSB7XG4gICAgY29uc3QgeiA9IHRoaXMuZ2V0WkZvclJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgY29uc3Qgc2NhbGUgPSByZXNvbHV0aW9uIC8gdGhpcy5nZXRSZXNvbHV0aW9uKHopO1xuICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMuZ2V0T3JpZ2luKHopO1xuICAgIGNvbnN0IHRpbGVTaXplID0gdG9TaXplKHRoaXMuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZV8pO1xuXG4gICAgbGV0IHRpbGVDb29yZFggPSAoc2NhbGUgKiAoeCAtIG9yaWdpblswXSkpIC8gcmVzb2x1dGlvbiAvIHRpbGVTaXplWzBdO1xuICAgIGxldCB0aWxlQ29vcmRZID0gKHNjYWxlICogKG9yaWdpblsxXSAtIHkpKSAvIHJlc29sdXRpb24gLyB0aWxlU2l6ZVsxXTtcblxuICAgIGlmIChyZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5KSB7XG4gICAgICB0aWxlQ29vcmRYID0gY2VpbCh0aWxlQ29vcmRYLCBERUNJTUFMUykgLSAxO1xuICAgICAgdGlsZUNvb3JkWSA9IGNlaWwodGlsZUNvb3JkWSwgREVDSU1BTFMpIC0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGlsZUNvb3JkWCA9IGZsb29yKHRpbGVDb29yZFgsIERFQ0lNQUxTKTtcbiAgICAgIHRpbGVDb29yZFkgPSBmbG9vcih0aWxlQ29vcmRZLCBERUNJTUFMUyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZUNvb3JkKHosIHRpbGVDb29yZFgsIHRpbGVDb29yZFksIG9wdF90aWxlQ29vcmQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFsdGhvdWdoIHRoZXJlIGlzIHJlcGV0aXRpb24gYmV0d2VlbiB0aGlzIG1ldGhvZCBhbmQgYGdldFRpbGVDb29yZEZvclhZQW5kUmVzb2x1dGlvbl9gLFxuICAgKiB0aGV5IHNob3VsZCBoYXZlIHNlcGFyYXRlIGltcGxlbWVudGF0aW9ucy4gIFRoaXMgbWV0aG9kIGlzIGZvciBpbnRlZ2VyIHpvb21cbiAgICogbGV2ZWxzLiAgVGhlIG90aGVyIG1ldGhvZCBzaG91bGQgb25seSBiZSBjYWxsZWQgZm9yIHJlc29sdXRpb25zIGNvcnJlc3BvbmRpbmdcbiAgICogdG8gbm9uLWludGVnZXIgem9vbSBsZXZlbHMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IE1hcCB4IGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IE1hcCB5IGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtib29sZWFufSByZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5IEluc3RlYWQgb2YgbGV0dGluZyBlZGdlXG4gICAqICAgICBpbnRlcnNlY3Rpb25zIGdvIHRvIHRoZSBoaWdoZXIgdGlsZSBjb29yZGluYXRlLCBsZXQgZWRnZSBpbnRlcnNlY3Rpb25zXG4gICAqICAgICBnbyB0byB0aGUgbG93ZXIgdGlsZSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFtvcHRfdGlsZUNvb3JkXSBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCBvYmplY3QuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFRpbGVDb29yZEZvclhZQW5kWl8oeCwgeSwgeiwgcmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSwgb3B0X3RpbGVDb29yZCkge1xuICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMuZ2V0T3JpZ2luKHopO1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oeik7XG4gICAgY29uc3QgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh6KSwgdGhpcy50bXBTaXplXyk7XG5cbiAgICBsZXQgdGlsZUNvb3JkWCA9ICh4IC0gb3JpZ2luWzBdKSAvIHJlc29sdXRpb24gLyB0aWxlU2l6ZVswXTtcbiAgICBsZXQgdGlsZUNvb3JkWSA9IChvcmlnaW5bMV0gLSB5KSAvIHJlc29sdXRpb24gLyB0aWxlU2l6ZVsxXTtcblxuICAgIGlmIChyZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5KSB7XG4gICAgICB0aWxlQ29vcmRYID0gY2VpbCh0aWxlQ29vcmRYLCBERUNJTUFMUykgLSAxO1xuICAgICAgdGlsZUNvb3JkWSA9IGNlaWwodGlsZUNvb3JkWSwgREVDSU1BTFMpIC0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGlsZUNvb3JkWCA9IGZsb29yKHRpbGVDb29yZFgsIERFQ0lNQUxTKTtcbiAgICAgIHRpbGVDb29yZFkgPSBmbG9vcih0aWxlQ29vcmRZLCBERUNJTUFMUyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZUNvb3JkKHosIHRpbGVDb29yZFgsIHRpbGVDb29yZFksIG9wdF90aWxlQ29vcmQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHRpbGUgY29vcmRpbmF0ZSBnaXZlbiBhIG1hcCBjb29yZGluYXRlIGFuZCB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBab29tIGxldmVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFtvcHRfdGlsZUNvb3JkXSBEZXN0aW5hdGlvbiBpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkIG9iamVjdC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUaWxlQ29vcmRGb3JDb29yZEFuZFooY29vcmRpbmF0ZSwgeiwgb3B0X3RpbGVDb29yZCkge1xuICAgIHJldHVybiB0aGlzLmdldFRpbGVDb29yZEZvclhZQW5kWl8oXG4gICAgICBjb29yZGluYXRlWzBdLFxuICAgICAgY29vcmRpbmF0ZVsxXSxcbiAgICAgIHosXG4gICAgICBmYWxzZSxcbiAgICAgIG9wdF90aWxlQ29vcmRcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHJlc29sdXRpb24uXG4gICAqL1xuICBnZXRUaWxlQ29vcmRSZXNvbHV0aW9uKHRpbGVDb29yZCkge1xuICAgIHJldHVybiB0aGlzLnJlc29sdXRpb25zX1t0aWxlQ29vcmRbMF1dO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGlsZSBzaXplIGZvciBhIHpvb20gbGV2ZWwuIFRoZSB0eXBlIG9mIHRoZSByZXR1cm4gdmFsdWUgbWF0Y2hlcyB0aGVcbiAgICogYHRpbGVTaXplYCBvciBgdGlsZVNpemVzYCB0aGF0IHRoZSB0aWxlIGdyaWQgd2FzIGNvbmZpZ3VyZWQgd2l0aC4gVG8gYWx3YXlzXG4gICAqIGdldCBhbiB7QGxpbmsgaW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSwgcnVuIHRoZSByZXN1bHQgdGhyb3VnaCB7QGxpbmsgbW9kdWxlOm9sL3NpemUudG9TaXplfS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHogWi5cbiAgICogQHJldHVybiB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gVGlsZSBzaXplLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUaWxlU2l6ZSh6KSB7XG4gICAgaWYgKHRoaXMudGlsZVNpemVfKSB7XG4gICAgICByZXR1cm4gdGhpcy50aWxlU2l6ZV87XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRpbGVTaXplc19bel07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHogWm9vbSBsZXZlbC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IEV4dGVudCB0aWxlIHJhbmdlIGZvciB0aGUgc3BlY2lmaWVkIHpvb20gbGV2ZWwuXG4gICAqL1xuICBnZXRGdWxsVGlsZVJhbmdlKHopIHtcbiAgICBpZiAoIXRoaXMuZnVsbFRpbGVSYW5nZXNfKSB7XG4gICAgICByZXR1cm4gdGhpcy5leHRlbnRfXG4gICAgICAgID8gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKHRoaXMuZXh0ZW50XywgeilcbiAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mdWxsVGlsZVJhbmdlc19bel07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi4vYXJyYXkuanNcIikuTmVhcmVzdERpcmVjdGlvbkZ1bmN0aW9ufSBbb3B0X2RpcmVjdGlvbl1cbiAgICogICAgIElmIDAsIHRoZSBuZWFyZXN0IHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLlxuICAgKiAgICAgSWYgMSwgdGhlIG5lYXJlc3QgaGlnaGVyIHJlc29sdXRpb24gKGxvd2VyIFopIHdpbGwgYmUgdXNlZC4gSWYgLTEsIHRoZVxuICAgKiAgICAgbmVhcmVzdCBsb3dlciByZXNvbHV0aW9uIChoaWdoZXIgWikgd2lsbCBiZSB1c2VkLiBEZWZhdWx0IGlzIDAuXG4gICAqICAgICBVc2UgYSB7QGxpbmsgbW9kdWxlOm9sL2FycmF5fk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gZm9yIG1vcmUgcHJlY2lzZSBjb250cm9sLlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZSB0byBjaGFuZ2UgdGlsZSBaIGF0IHRoZSBtaWRwb2ludCBvZiB6b29tIGxldmVsc1xuICAgKiBgYGBqc1xuICAgKiBmdW5jdGlvbih2YWx1ZSwgaGlnaCwgbG93KSB7XG4gICAqICAgcmV0dXJuIHZhbHVlIC0gbG93ICogTWF0aC5zcXJ0KGhpZ2ggLyBsb3cpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFouXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFpGb3JSZXNvbHV0aW9uKHJlc29sdXRpb24sIG9wdF9kaXJlY3Rpb24pIHtcbiAgICBjb25zdCB6ID0gbGluZWFyRmluZE5lYXJlc3QoXG4gICAgICB0aGlzLnJlc29sdXRpb25zXyxcbiAgICAgIHJlc29sdXRpb24sXG4gICAgICBvcHRfZGlyZWN0aW9uIHx8IDBcbiAgICApO1xuICAgIHJldHVybiBjbGFtcCh6LCB0aGlzLm1pblpvb20sIHRoaXMubWF4Wm9vbSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHRpbGUgd2l0aCB0aGUgcHJvdmlkZWQgdGlsZSBjb29yZGluYXRlIGludGVyc2VjdHMgdGhlIGdpdmVuIHZpZXdwb3J0LlxuICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vdGlsZWNvb3JkLmpzJykuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHZpZXdwb3J0IFZpZXdwb3J0IGFzIHJldHVybmVkIGZyb20ge0BsaW5rIG1vZHVsZTpvbC9leHRlbnQuZ2V0Um90YXRlZFZpZXdwb3J0fS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHRpbGUgd2l0aCB0aGUgcHJvdmlkZWQgdGlsZSBjb29yZGluYXRlIGludGVyc2VjdHMgdGhlIGdpdmVuIHZpZXdwb3J0LlxuICAgKi9cbiAgdGlsZUNvb3JkSW50ZXJzZWN0c1ZpZXdwb3J0KHRpbGVDb29yZCwgdmlld3BvcnQpIHtcbiAgICByZXR1cm4gaW50ZXJzZWN0c0xpbmVhclJpbmcoXG4gICAgICB2aWV3cG9ydCxcbiAgICAgIDAsXG4gICAgICB2aWV3cG9ydC5sZW5ndGgsXG4gICAgICAyLFxuICAgICAgdGhpcy5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZUNvb3JkKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudCBmb3IgdGhpcyB0aWxlIGdyaWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjYWxjdWxhdGVUaWxlUmFuZ2VzXyhleHRlbnQpIHtcbiAgICBjb25zdCBsZW5ndGggPSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGg7XG4gICAgY29uc3QgZnVsbFRpbGVSYW5nZXMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKGxldCB6ID0gdGhpcy5taW5ab29tOyB6IDwgbGVuZ3RoOyArK3opIHtcbiAgICAgIGZ1bGxUaWxlUmFuZ2VzW3pdID0gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgeik7XG4gICAgfVxuICAgIHRoaXMuZnVsbFRpbGVSYW5nZXNfID0gZnVsbFRpbGVSYW5nZXM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGlsZUdyaWQ7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWdyaWQvY29tbW9uXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IG1heGltdW0gem9vbSBmb3IgZGVmYXVsdCB0aWxlIGdyaWRzLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfTUFYX1pPT00gPSA0MjtcblxuLyoqXG4gKiBEZWZhdWx0IHRpbGUgc2l6ZS5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1RJTEVfU0laRSA9IDI1NjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC90cmFuc2Zvcm1cbiAqL1xuaW1wb3J0IHtXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBU30gZnJvbSAnLi9oYXMuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG5cbi8qKlxuICogQW4gYXJyYXkgcmVwcmVzZW50aW5nIGFuIGFmZmluZSAyZCB0cmFuc2Zvcm1hdGlvbiBmb3IgdXNlIHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvdHJhbnNmb3JtfSBmdW5jdGlvbnMuIFRoZSBhcnJheSBoYXMgNiBlbGVtZW50cy5cbiAqIEB0eXBlZGVmIHshQXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtXG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGFmZmluZSAyZCB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMuIFRoZSBmdW5jdGlvbnMgd29yayBvbiBhblxuICogYXJyYXkgb2YgNiBlbGVtZW50cy4gVGhlIGVsZW1lbnQgb3JkZXIgaXMgY29tcGF0aWJsZSB3aXRoIHRoZSBbU1ZHTWF0cml4XG4gKiBpbnRlcmZhY2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TVkdNYXRyaXgpIGFuZCBpc1xuICogYSBzdWJzZXQgKGVsZW1lbnRzIGEgdG8gZikgb2YgYSAzw5czIG1hdHJpeDpcbiAqIGBgYFxuICogWyBhIGMgZSBdXG4gKiBbIGIgZCBmIF1cbiAqIFsgMCAwIDEgXVxuICogYGBgXG4gKi9cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHR5cGUge1RyYW5zZm9ybX1cbiAqL1xuY29uc3QgdG1wXyA9IG5ldyBBcnJheSg2KTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaWRlbnRpdHkgdHJhbnNmb3JtLlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gSWRlbnRpdHkgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICByZXR1cm4gWzEsIDAsIDAsIDEsIDAsIDBdO1xufVxuXG4vKipcbiAqIFJlc2V0cyB0aGUgZ2l2ZW4gdHJhbnNmb3JtIHRvIGFuIGlkZW50aXR5IHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0KHRyYW5zZm9ybSkge1xuICByZXR1cm4gc2V0KHRyYW5zZm9ybSwgMSwgMCwgMCwgMSwgMCwgMCk7XG59XG5cbi8qKlxuICogTXVsdGlwbHkgdGhlIHVuZGVybHlpbmcgbWF0cmljZXMgb2YgdHdvIHRyYW5zZm9ybXMgYW5kIHJldHVybiB0aGUgcmVzdWx0IGluXG4gKiB0aGUgZmlyc3QgdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0xIFRyYW5zZm9ybSBwYXJhbWV0ZXJzIG9mIG1hdHJpeCAxLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0yIFRyYW5zZm9ybSBwYXJhbWV0ZXJzIG9mIG1hdHJpeCAyLlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMSBtdWx0aXBsaWVkIHdpdGggdHJhbnNmb3JtMi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KHRyYW5zZm9ybTEsIHRyYW5zZm9ybTIpIHtcbiAgY29uc3QgYTEgPSB0cmFuc2Zvcm0xWzBdO1xuICBjb25zdCBiMSA9IHRyYW5zZm9ybTFbMV07XG4gIGNvbnN0IGMxID0gdHJhbnNmb3JtMVsyXTtcbiAgY29uc3QgZDEgPSB0cmFuc2Zvcm0xWzNdO1xuICBjb25zdCBlMSA9IHRyYW5zZm9ybTFbNF07XG4gIGNvbnN0IGYxID0gdHJhbnNmb3JtMVs1XTtcbiAgY29uc3QgYTIgPSB0cmFuc2Zvcm0yWzBdO1xuICBjb25zdCBiMiA9IHRyYW5zZm9ybTJbMV07XG4gIGNvbnN0IGMyID0gdHJhbnNmb3JtMlsyXTtcbiAgY29uc3QgZDIgPSB0cmFuc2Zvcm0yWzNdO1xuICBjb25zdCBlMiA9IHRyYW5zZm9ybTJbNF07XG4gIGNvbnN0IGYyID0gdHJhbnNmb3JtMls1XTtcblxuICB0cmFuc2Zvcm0xWzBdID0gYTEgKiBhMiArIGMxICogYjI7XG4gIHRyYW5zZm9ybTFbMV0gPSBiMSAqIGEyICsgZDEgKiBiMjtcbiAgdHJhbnNmb3JtMVsyXSA9IGExICogYzIgKyBjMSAqIGQyO1xuICB0cmFuc2Zvcm0xWzNdID0gYjEgKiBjMiArIGQxICogZDI7XG4gIHRyYW5zZm9ybTFbNF0gPSBhMSAqIGUyICsgYzEgKiBmMiArIGUxO1xuICB0cmFuc2Zvcm0xWzVdID0gYjEgKiBlMiArIGQxICogZjIgKyBmMTtcblxuICByZXR1cm4gdHJhbnNmb3JtMTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIHRyYW5zZm9ybSBjb21wb25lbnRzIGEtZiBvbiBhIGdpdmVuIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhIFRoZSBhIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGIgVGhlIGIgY29tcG9uZW50IG9mIHRoZSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gYyBUaGUgYyBjb21wb25lbnQgb2YgdGhlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkIFRoZSBkIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGUgVGhlIGUgY29tcG9uZW50IG9mIHRoZSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gZiBUaGUgZiBjb21wb25lbnQgb2YgdGhlIHRyYW5zZm9ybS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IE1hdHJpeCB3aXRoIHRyYW5zZm9ybSBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0KHRyYW5zZm9ybSwgYSwgYiwgYywgZCwgZSwgZikge1xuICB0cmFuc2Zvcm1bMF0gPSBhO1xuICB0cmFuc2Zvcm1bMV0gPSBiO1xuICB0cmFuc2Zvcm1bMl0gPSBjO1xuICB0cmFuc2Zvcm1bM10gPSBkO1xuICB0cmFuc2Zvcm1bNF0gPSBlO1xuICB0cmFuc2Zvcm1bNV0gPSBmO1xuICByZXR1cm4gdHJhbnNmb3JtO1xufVxuXG4vKipcbiAqIFNldCB0cmFuc2Zvcm0gb24gb25lIG1hdHJpeCBmcm9tIGFub3RoZXIgbWF0cml4LlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0xIE1hdHJpeCB0byBzZXQgdHJhbnNmb3JtIHRvLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0yIE1hdHJpeCB0byBzZXQgdHJhbnNmb3JtIGZyb20uXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0xIHdpdGggdHJhbnNmb3JtIGZyb20gdHJhbnNmb3JtMiBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0RnJvbUFycmF5KHRyYW5zZm9ybTEsIHRyYW5zZm9ybTIpIHtcbiAgdHJhbnNmb3JtMVswXSA9IHRyYW5zZm9ybTJbMF07XG4gIHRyYW5zZm9ybTFbMV0gPSB0cmFuc2Zvcm0yWzFdO1xuICB0cmFuc2Zvcm0xWzJdID0gdHJhbnNmb3JtMlsyXTtcbiAgdHJhbnNmb3JtMVszXSA9IHRyYW5zZm9ybTJbM107XG4gIHRyYW5zZm9ybTFbNF0gPSB0cmFuc2Zvcm0yWzRdO1xuICB0cmFuc2Zvcm0xWzVdID0gdHJhbnNmb3JtMls1XTtcbiAgcmV0dXJuIHRyYW5zZm9ybTE7XG59XG5cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgZ2l2ZW4gY29vcmRpbmF0ZSB3aXRoIHRoZSBnaXZlbiB0cmFuc2Zvcm0gcmV0dXJuaW5nIHRoZVxuICogcmVzdWx0aW5nLCB0cmFuc2Zvcm1lZCBjb29yZGluYXRlLiBUaGUgY29vcmRpbmF0ZSB3aWxsIGJlIG1vZGlmaWVkIGluLXBsYWNlLlxuICpcbiAqIEBwYXJhbSB7VHJhbnNmb3JtfSB0cmFuc2Zvcm0gVGhlIHRyYW5zZm9ybWF0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXxpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBjb29yZGluYXRlIFRoZSBjb29yZGluYXRlIHRvIHRyYW5zZm9ybS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfGltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHJldHVybiBjb29yZGluYXRlIHNvIHRoYXQgb3BlcmF0aW9ucyBjYW4gYmVcbiAqICAgICBjaGFpbmVkIHRvZ2V0aGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHkodHJhbnNmb3JtLCBjb29yZGluYXRlKSB7XG4gIGNvbnN0IHggPSBjb29yZGluYXRlWzBdO1xuICBjb25zdCB5ID0gY29vcmRpbmF0ZVsxXTtcbiAgY29vcmRpbmF0ZVswXSA9IHRyYW5zZm9ybVswXSAqIHggKyB0cmFuc2Zvcm1bMl0gKiB5ICsgdHJhbnNmb3JtWzRdO1xuICBjb29yZGluYXRlWzFdID0gdHJhbnNmb3JtWzFdICogeCArIHRyYW5zZm9ybVszXSAqIHkgKyB0cmFuc2Zvcm1bNV07XG4gIHJldHVybiBjb29yZGluYXRlO1xufVxuXG4vKipcbiAqIEFwcGxpZXMgcm90YXRpb24gdG8gdGhlIGdpdmVuIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBBbmdsZSBpbiByYWRpYW5zLlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIHJvdGF0ZWQgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKHRyYW5zZm9ybSwgYW5nbGUpIHtcbiAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICBjb25zdCBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gIHJldHVybiBtdWx0aXBseSh0cmFuc2Zvcm0sIHNldCh0bXBfLCBjb3MsIHNpbiwgLXNpbiwgY29zLCAwLCAwKSk7XG59XG5cbi8qKlxuICogQXBwbGllcyBzY2FsZSB0byBhIGdpdmVuIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFNjYWxlIGZhY3RvciB4LlxuICogQHBhcmFtIHtudW1iZXJ9IHkgU2NhbGUgZmFjdG9yIHkuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgc2NhbGVkIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKHRyYW5zZm9ybSwgeCwgeSkge1xuICByZXR1cm4gbXVsdGlwbHkodHJhbnNmb3JtLCBzZXQodG1wXywgeCwgMCwgMCwgeSwgMCwgMCkpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzY2FsZSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRhcmdldCBUcmFuc2Zvcm0gdG8gb3ZlcndyaXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggU2NhbGUgZmFjdG9yIHguXG4gKiBAcGFyYW0ge251bWJlcn0geSBTY2FsZSBmYWN0b3IgeS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSBzY2FsZSB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlU2NhbGUodGFyZ2V0LCB4LCB5KSB7XG4gIHJldHVybiBzZXQodGFyZ2V0LCB4LCAwLCAwLCB5LCAwLCAwKTtcbn1cblxuLyoqXG4gKiBBcHBsaWVzIHRyYW5zbGF0aW9uIHRvIHRoZSBnaXZlbiB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gZHggVHJhbnNsYXRpb24geC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeSBUcmFuc2xhdGlvbiB5LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIHRyYW5zbGF0ZWQgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKHRyYW5zZm9ybSwgZHgsIGR5KSB7XG4gIHJldHVybiBtdWx0aXBseSh0cmFuc2Zvcm0sIHNldCh0bXBfLCAxLCAwLCAwLCAxLCBkeCwgZHkpKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY29tcG9zaXRlIHRyYW5zZm9ybSBnaXZlbiBhbiBpbml0aWFsIHRyYW5zbGF0aW9uLCBzY2FsZSwgcm90YXRpb24sIGFuZFxuICogZmluYWwgdHJhbnNsYXRpb24gKGluIHRoYXQgb3JkZXIgb25seSwgbm90IGNvbW11dGF0aXZlKS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtIFRoZSB0cmFuc2Zvcm0gKHdpbGwgYmUgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICogQHBhcmFtIHtudW1iZXJ9IGR4MSBJbml0aWFsIHRyYW5zbGF0aW9uIHguXG4gKiBAcGFyYW0ge251bWJlcn0gZHkxIEluaXRpYWwgdHJhbnNsYXRpb24geS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzeCBTY2FsZSBmYWN0b3IgeC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzeSBTY2FsZSBmYWN0b3IgeS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBSb3RhdGlvbiAoaW4gY291bnRlci1jbG9ja3dpc2UgcmFkaWFucykuXG4gKiBAcGFyYW0ge251bWJlcn0gZHgyIEZpbmFsIHRyYW5zbGF0aW9uIHguXG4gKiBAcGFyYW0ge251bWJlcn0gZHkyIEZpbmFsIHRyYW5zbGF0aW9uIHkuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgY29tcG9zaXRlIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvc2UodHJhbnNmb3JtLCBkeDEsIGR5MSwgc3gsIHN5LCBhbmdsZSwgZHgyLCBkeTIpIHtcbiAgY29uc3Qgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICBjb25zdCBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gIHRyYW5zZm9ybVswXSA9IHN4ICogY29zO1xuICB0cmFuc2Zvcm1bMV0gPSBzeSAqIHNpbjtcbiAgdHJhbnNmb3JtWzJdID0gLXN4ICogc2luO1xuICB0cmFuc2Zvcm1bM10gPSBzeSAqIGNvcztcbiAgdHJhbnNmb3JtWzRdID0gZHgyICogc3ggKiBjb3MgLSBkeTIgKiBzeCAqIHNpbiArIGR4MTtcbiAgdHJhbnNmb3JtWzVdID0gZHgyICogc3kgKiBzaW4gKyBkeTIgKiBzeSAqIGNvcyArIGR5MTtcbiAgcmV0dXJuIHRyYW5zZm9ybTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY29tcG9zaXRlIHRyYW5zZm9ybSBnaXZlbiBhbiBpbml0aWFsIHRyYW5zbGF0aW9uLCBzY2FsZSwgcm90YXRpb24sIGFuZFxuICogZmluYWwgdHJhbnNsYXRpb24gKGluIHRoYXQgb3JkZXIgb25seSwgbm90IGNvbW11dGF0aXZlKS4gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1cbiAqIHN0cmluZyBjYW4gYmUgYXBwbGllZCBhcyBgdHJhbnNmb3JtYCBwcm9wZXJ0eSBvZiBhbiBIVE1MRWxlbWVudCdzIHN0eWxlLlxuICogQHBhcmFtIHtudW1iZXJ9IGR4MSBJbml0aWFsIHRyYW5zbGF0aW9uIHguXG4gKiBAcGFyYW0ge251bWJlcn0gZHkxIEluaXRpYWwgdHJhbnNsYXRpb24geS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzeCBTY2FsZSBmYWN0b3IgeC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzeSBTY2FsZSBmYWN0b3IgeS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBSb3RhdGlvbiAoaW4gY291bnRlci1jbG9ja3dpc2UgcmFkaWFucykuXG4gKiBAcGFyYW0ge251bWJlcn0gZHgyIEZpbmFsIHRyYW5zbGF0aW9uIHguXG4gKiBAcGFyYW0ge251bWJlcn0gZHkyIEZpbmFsIHRyYW5zbGF0aW9uIHkuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb21wb3NpdGUgY3NzIHRyYW5zZm9ybS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvc2VDc3NUcmFuc2Zvcm0oZHgxLCBkeTEsIHN4LCBzeSwgYW5nbGUsIGR4MiwgZHkyKSB7XG4gIHJldHVybiB0b1N0cmluZyhjb21wb3NlKGNyZWF0ZSgpLCBkeDEsIGR5MSwgc3gsIHN5LCBhbmdsZSwgZHgyLCBkeTIpKTtcbn1cblxuLyoqXG4gKiBJbnZlcnQgdGhlIGdpdmVuIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gc291cmNlIFRoZSBzb3VyY2UgdHJhbnNmb3JtIHRvIGludmVydC5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSBpbnZlcnRlZCAoc291cmNlKSB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQoc291cmNlKSB7XG4gIHJldHVybiBtYWtlSW52ZXJzZShzb3VyY2UsIHNvdXJjZSk7XG59XG5cbi8qKlxuICogSW52ZXJ0IHRoZSBnaXZlbiB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRhcmdldCBUcmFuc2Zvcm0gdG8gYmUgc2V0IGFzIHRoZSBpbnZlcnNlIG9mXG4gKiAgICAgdGhlIHNvdXJjZSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHNvdXJjZSBUaGUgc291cmNlIHRyYW5zZm9ybSB0byBpbnZlcnQuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgaW52ZXJ0ZWQgKHRhcmdldCkgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZUludmVyc2UodGFyZ2V0LCBzb3VyY2UpIHtcbiAgY29uc3QgZGV0ID0gZGV0ZXJtaW5hbnQoc291cmNlKTtcbiAgYXNzZXJ0KGRldCAhPT0gMCwgMzIpOyAvLyBUcmFuc2Zvcm1hdGlvbiBtYXRyaXggY2Fubm90IGJlIGludmVydGVkXG5cbiAgY29uc3QgYSA9IHNvdXJjZVswXTtcbiAgY29uc3QgYiA9IHNvdXJjZVsxXTtcbiAgY29uc3QgYyA9IHNvdXJjZVsyXTtcbiAgY29uc3QgZCA9IHNvdXJjZVszXTtcbiAgY29uc3QgZSA9IHNvdXJjZVs0XTtcbiAgY29uc3QgZiA9IHNvdXJjZVs1XTtcblxuICB0YXJnZXRbMF0gPSBkIC8gZGV0O1xuICB0YXJnZXRbMV0gPSAtYiAvIGRldDtcbiAgdGFyZ2V0WzJdID0gLWMgLyBkZXQ7XG4gIHRhcmdldFszXSA9IGEgLyBkZXQ7XG4gIHRhcmdldFs0XSA9IChjICogZiAtIGQgKiBlKSAvIGRldDtcbiAgdGFyZ2V0WzVdID0gLShhICogZiAtIGIgKiBlKSAvIGRldDtcblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGRldGVybWluYW50IG9mIHRoZSBnaXZlbiBtYXRyaXguXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IG1hdCBNYXRyaXguXG4gKiBAcmV0dXJuIHtudW1iZXJ9IERldGVybWluYW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQobWF0KSB7XG4gIHJldHVybiBtYXRbMF0gKiBtYXRbM10gLSBtYXRbMV0gKiBtYXRbMl07XG59XG5cbi8qKlxuICogQHR5cGUge0hUTUxFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xubGV0IHRyYW5zZm9ybVN0cmluZ0RpdjtcblxuLyoqXG4gKiBBIHJvdW5kZWQgc3RyaW5nIHZlcnNpb24gb2YgdGhlIHRyYW5zZm9ybS4gIFRoaXMgY2FuIGJlIHVzZWRcbiAqIGZvciBDU1MgdHJhbnNmb3Jtcy5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gbWF0IE1hdHJpeC5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRyYW5zZm9ybSBhcyBhIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3RyaW5nKG1hdCkge1xuICBjb25zdCB0cmFuc2Zvcm1TdHJpbmcgPSAnbWF0cml4KCcgKyBtYXQuam9pbignLCAnKSArICcpJztcbiAgaWYgKFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTKSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybVN0cmluZztcbiAgfVxuICBjb25zdCBub2RlID1cbiAgICB0cmFuc2Zvcm1TdHJpbmdEaXYgfHwgKHRyYW5zZm9ybVN0cmluZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKTtcbiAgbm9kZS5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1TdHJpbmc7XG4gIHJldHVybiBub2RlLnN0eWxlLnRyYW5zZm9ybTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC91dGlsXG4gKi9cblxuLyoqXG4gKiBAcmV0dXJuIHtuZXZlcn0gQW55IHJldHVybi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFic3RyYWN0KCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1VuaW1wbGVtZW50ZWQgYWJzdHJhY3QgbWV0aG9kLicpO1xufVxuXG4vKipcbiAqIENvdW50ZXIgZm9yIGdldFVpZC5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5sZXQgdWlkQ291bnRlcl8gPSAwO1xuXG4vKipcbiAqIEdldHMgYSB1bmlxdWUgSUQgZm9yIGFuIG9iamVjdC4gVGhpcyBtdXRhdGVzIHRoZSBvYmplY3Qgc28gdGhhdCBmdXJ0aGVyIGNhbGxzXG4gKiB3aXRoIHRoZSBzYW1lIG9iamVjdCBhcyBhIHBhcmFtZXRlciByZXR1cm5zIHRoZSBzYW1lIHZhbHVlLiBVbmlxdWUgSURzIGFyZSBnZW5lcmF0ZWRcbiAqIGFzIGEgc3RyaWN0bHkgaW5jcmVhc2luZyBzZXF1ZW5jZS4gQWRhcHRlZCBmcm9tIGdvb2cuZ2V0VWlkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBnZXQgdGhlIHVuaXF1ZSBJRCBmb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB1bmlxdWUgSUQgZm9yIHRoZSBvYmplY3QuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRVaWQob2JqKSB7XG4gIHJldHVybiBvYmoub2xfdWlkIHx8IChvYmoub2xfdWlkID0gU3RyaW5nKCsrdWlkQ291bnRlcl8pKTtcbn1cblxuLyoqXG4gKiBPcGVuTGF5ZXJzIHZlcnNpb24uXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9ICc3LjIuMic7XG4iLCJcbi8qISBwYWtvIDIuMS4wIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlY2EvcGFrbyBAbGljZW5zZSAoTUlUIEFORCBabGliKSAqL1xuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG4vKiBlc2xpbnQtZGlzYWJsZSBzcGFjZS11bmFyeS1vcHMgKi9cblxuLyogUHVibGljIGNvbnN0YW50cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cblxuLy9jb25zdCBaX0ZJTFRFUkVEICAgICAgICAgID0gMTtcbi8vY29uc3QgWl9IVUZGTUFOX09OTFkgICAgICA9IDI7XG4vL2NvbnN0IFpfUkxFICAgICAgICAgICAgICAgPSAzO1xuY29uc3QgWl9GSVhFRCQxICAgICAgICAgICAgICAgPSA0O1xuLy9jb25zdCBaX0RFRkFVTFRfU1RSQVRFR1kgID0gMDtcblxuLyogUG9zc2libGUgdmFsdWVzIG9mIHRoZSBkYXRhX3R5cGUgZmllbGQgKHRob3VnaCBzZWUgaW5mbGF0ZSgpKSAqL1xuY29uc3QgWl9CSU5BUlkgICAgICAgICAgICAgID0gMDtcbmNvbnN0IFpfVEVYVCAgICAgICAgICAgICAgICA9IDE7XG4vL2NvbnN0IFpfQVNDSUkgICAgICAgICAgICAgPSAxOyAvLyA9IFpfVEVYVFxuY29uc3QgWl9VTktOT1dOJDEgICAgICAgICAgICAgPSAyO1xuXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbmZ1bmN0aW9uIHplcm8kMShidWYpIHsgbGV0IGxlbiA9IGJ1Zi5sZW5ndGg7IHdoaWxlICgtLWxlbiA+PSAwKSB7IGJ1ZltsZW5dID0gMDsgfSB9XG5cbi8vIEZyb20genV0aWwuaFxuXG5jb25zdCBTVE9SRURfQkxPQ0sgPSAwO1xuY29uc3QgU1RBVElDX1RSRUVTID0gMTtcbmNvbnN0IERZTl9UUkVFUyAgICA9IDI7XG4vKiBUaGUgdGhyZWUga2luZHMgb2YgYmxvY2sgdHlwZSAqL1xuXG5jb25zdCBNSU5fTUFUQ0gkMSAgICA9IDM7XG5jb25zdCBNQVhfTUFUQ0gkMSAgICA9IDI1ODtcbi8qIFRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIG1hdGNoIGxlbmd0aHMgKi9cblxuLy8gRnJvbSBkZWZsYXRlLmhcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW50ZXJuYWwgY29tcHJlc3Npb24gc3RhdGUuXG4gKi9cblxuY29uc3QgTEVOR1RIX0NPREVTJDEgID0gMjk7XG4vKiBudW1iZXIgb2YgbGVuZ3RoIGNvZGVzLCBub3QgY291bnRpbmcgdGhlIHNwZWNpYWwgRU5EX0JMT0NLIGNvZGUgKi9cblxuY29uc3QgTElURVJBTFMkMSAgICAgID0gMjU2O1xuLyogbnVtYmVyIG9mIGxpdGVyYWwgYnl0ZXMgMC4uMjU1ICovXG5cbmNvbnN0IExfQ09ERVMkMSAgICAgICA9IExJVEVSQUxTJDEgKyAxICsgTEVOR1RIX0NPREVTJDE7XG4vKiBudW1iZXIgb2YgTGl0ZXJhbCBvciBMZW5ndGggY29kZXMsIGluY2x1ZGluZyB0aGUgRU5EX0JMT0NLIGNvZGUgKi9cblxuY29uc3QgRF9DT0RFUyQxICAgICAgID0gMzA7XG4vKiBudW1iZXIgb2YgZGlzdGFuY2UgY29kZXMgKi9cblxuY29uc3QgQkxfQ09ERVMkMSAgICAgID0gMTk7XG4vKiBudW1iZXIgb2YgY29kZXMgdXNlZCB0byB0cmFuc2ZlciB0aGUgYml0IGxlbmd0aHMgKi9cblxuY29uc3QgSEVBUF9TSVpFJDEgICAgID0gMiAqIExfQ09ERVMkMSArIDE7XG4vKiBtYXhpbXVtIGhlYXAgc2l6ZSAqL1xuXG5jb25zdCBNQVhfQklUUyQxICAgICAgPSAxNTtcbi8qIEFsbCBjb2RlcyBtdXN0IG5vdCBleGNlZWQgTUFYX0JJVFMgYml0cyAqL1xuXG5jb25zdCBCdWZfc2l6ZSAgICAgID0gMTY7XG4vKiBzaXplIG9mIGJpdCBidWZmZXIgaW4gYmlfYnVmICovXG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb25zdGFudHNcbiAqL1xuXG5jb25zdCBNQVhfQkxfQklUUyA9IDc7XG4vKiBCaXQgbGVuZ3RoIGNvZGVzIG11c3Qgbm90IGV4Y2VlZCBNQVhfQkxfQklUUyBiaXRzICovXG5cbmNvbnN0IEVORF9CTE9DSyAgID0gMjU2O1xuLyogZW5kIG9mIGJsb2NrIGxpdGVyYWwgY29kZSAqL1xuXG5jb25zdCBSRVBfM182ICAgICA9IDE2O1xuLyogcmVwZWF0IHByZXZpb3VzIGJpdCBsZW5ndGggMy02IHRpbWVzICgyIGJpdHMgb2YgcmVwZWF0IGNvdW50KSAqL1xuXG5jb25zdCBSRVBaXzNfMTAgICA9IDE3O1xuLyogcmVwZWF0IGEgemVybyBsZW5ndGggMy0xMCB0aW1lcyAgKDMgYml0cyBvZiByZXBlYXQgY291bnQpICovXG5cbmNvbnN0IFJFUFpfMTFfMTM4ID0gMTg7XG4vKiByZXBlYXQgYSB6ZXJvIGxlbmd0aCAxMS0xMzggdGltZXMgICg3IGJpdHMgb2YgcmVwZWF0IGNvdW50KSAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBjb21tYS1zcGFjaW5nLGFycmF5LWJyYWNrZXQtc3BhY2luZyAqL1xuY29uc3QgZXh0cmFfbGJpdHMgPSAgIC8qIGV4dHJhIGJpdHMgZm9yIGVhY2ggbGVuZ3RoIGNvZGUgKi9cbiAgbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMF0pO1xuXG5jb25zdCBleHRyYV9kYml0cyA9ICAgLyogZXh0cmEgYml0cyBmb3IgZWFjaCBkaXN0YW5jZSBjb2RlICovXG4gIG5ldyBVaW50OEFycmF5KFswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzXSk7XG5cbmNvbnN0IGV4dHJhX2JsYml0cyA9ICAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGJpdCBsZW5ndGggY29kZSAqL1xuICBuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyLDMsN10pO1xuXG5jb25zdCBibF9vcmRlciA9XG4gIG5ldyBVaW50OEFycmF5KFsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSk7XG4vKiBlc2xpbnQtZW5hYmxlIGNvbW1hLXNwYWNpbmcsYXJyYXktYnJhY2tldC1zcGFjaW5nICovXG5cbi8qIFRoZSBsZW5ndGhzIG9mIHRoZSBiaXQgbGVuZ3RoIGNvZGVzIGFyZSBzZW50IGluIG9yZGVyIG9mIGRlY3JlYXNpbmdcbiAqIHByb2JhYmlsaXR5LCB0byBhdm9pZCB0cmFuc21pdHRpbmcgdGhlIGxlbmd0aHMgZm9yIHVudXNlZCBiaXQgbGVuZ3RoIGNvZGVzLlxuICovXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogTG9jYWwgZGF0YS4gVGhlc2UgYXJlIGluaXRpYWxpemVkIG9ubHkgb25jZS5cbiAqL1xuXG4vLyBXZSBwcmUtZmlsbCBhcnJheXMgd2l0aCAwIHRvIGF2b2lkIHVuaW5pdGlhbGl6ZWQgZ2Fwc1xuXG5jb25zdCBESVNUX0NPREVfTEVOID0gNTEyOyAvKiBzZWUgZGVmaW5pdGlvbiBvZiBhcnJheSBkaXN0X2NvZGUgYmVsb3cgKi9cblxuLy8gISEhISBVc2UgZmxhdCBhcnJheSBpbnN0ZWFkIG9mIHN0cnVjdHVyZSwgRnJlcSA9IGkqMiwgTGVuID0gaSoyKzFcbmNvbnN0IHN0YXRpY19sdHJlZSAgPSBuZXcgQXJyYXkoKExfQ09ERVMkMSArIDIpICogMik7XG56ZXJvJDEoc3RhdGljX2x0cmVlKTtcbi8qIFRoZSBzdGF0aWMgbGl0ZXJhbCB0cmVlLiBTaW5jZSB0aGUgYml0IGxlbmd0aHMgYXJlIGltcG9zZWQsIHRoZXJlIGlzIG5vXG4gKiBuZWVkIGZvciB0aGUgTF9DT0RFUyBleHRyYSBjb2RlcyB1c2VkIGR1cmluZyBoZWFwIGNvbnN0cnVjdGlvbi4gSG93ZXZlclxuICogVGhlIGNvZGVzIDI4NiBhbmQgMjg3IGFyZSBuZWVkZWQgdG8gYnVpbGQgYSBjYW5vbmljYWwgdHJlZSAoc2VlIF90cl9pbml0XG4gKiBiZWxvdykuXG4gKi9cblxuY29uc3Qgc3RhdGljX2R0cmVlICA9IG5ldyBBcnJheShEX0NPREVTJDEgKiAyKTtcbnplcm8kMShzdGF0aWNfZHRyZWUpO1xuLyogVGhlIHN0YXRpYyBkaXN0YW5jZSB0cmVlLiAoQWN0dWFsbHkgYSB0cml2aWFsIHRyZWUgc2luY2UgYWxsIGNvZGVzIHVzZVxuICogNSBiaXRzLilcbiAqL1xuXG5jb25zdCBfZGlzdF9jb2RlICAgID0gbmV3IEFycmF5KERJU1RfQ09ERV9MRU4pO1xuemVybyQxKF9kaXN0X2NvZGUpO1xuLyogRGlzdGFuY2UgY29kZXMuIFRoZSBmaXJzdCAyNTYgdmFsdWVzIGNvcnJlc3BvbmQgdG8gdGhlIGRpc3RhbmNlc1xuICogMyAuLiAyNTgsIHRoZSBsYXN0IDI1NiB2YWx1ZXMgY29ycmVzcG9uZCB0byB0aGUgdG9wIDggYml0cyBvZlxuICogdGhlIDE1IGJpdCBkaXN0YW5jZXMuXG4gKi9cblxuY29uc3QgX2xlbmd0aF9jb2RlICA9IG5ldyBBcnJheShNQVhfTUFUQ0gkMSAtIE1JTl9NQVRDSCQxICsgMSk7XG56ZXJvJDEoX2xlbmd0aF9jb2RlKTtcbi8qIGxlbmd0aCBjb2RlIGZvciBlYWNoIG5vcm1hbGl6ZWQgbWF0Y2ggbGVuZ3RoICgwID09IE1JTl9NQVRDSCkgKi9cblxuY29uc3QgYmFzZV9sZW5ndGggICA9IG5ldyBBcnJheShMRU5HVEhfQ09ERVMkMSk7XG56ZXJvJDEoYmFzZV9sZW5ndGgpO1xuLyogRmlyc3Qgbm9ybWFsaXplZCBsZW5ndGggZm9yIGVhY2ggY29kZSAoMCA9IE1JTl9NQVRDSCkgKi9cblxuY29uc3QgYmFzZV9kaXN0ICAgICA9IG5ldyBBcnJheShEX0NPREVTJDEpO1xuemVybyQxKGJhc2VfZGlzdCk7XG4vKiBGaXJzdCBub3JtYWxpemVkIGRpc3RhbmNlIGZvciBlYWNoIGNvZGUgKDAgPSBkaXN0YW5jZSBvZiAxKSAqL1xuXG5cbmZ1bmN0aW9uIFN0YXRpY1RyZWVEZXNjKHN0YXRpY190cmVlLCBleHRyYV9iaXRzLCBleHRyYV9iYXNlLCBlbGVtcywgbWF4X2xlbmd0aCkge1xuXG4gIHRoaXMuc3RhdGljX3RyZWUgID0gc3RhdGljX3RyZWU7ICAvKiBzdGF0aWMgdHJlZSBvciBOVUxMICovXG4gIHRoaXMuZXh0cmFfYml0cyAgID0gZXh0cmFfYml0czsgICAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGNvZGUgb3IgTlVMTCAqL1xuICB0aGlzLmV4dHJhX2Jhc2UgICA9IGV4dHJhX2Jhc2U7ICAgLyogYmFzZSBpbmRleCBmb3IgZXh0cmFfYml0cyAqL1xuICB0aGlzLmVsZW1zICAgICAgICA9IGVsZW1zOyAgICAgICAgLyogbWF4IG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgdHJlZSAqL1xuICB0aGlzLm1heF9sZW5ndGggICA9IG1heF9sZW5ndGg7ICAgLyogbWF4IGJpdCBsZW5ndGggZm9yIHRoZSBjb2RlcyAqL1xuXG4gIC8vIHNob3cgaWYgYHN0YXRpY190cmVlYCBoYXMgZGF0YSBvciBkdW1teSAtIG5lZWRlZCBmb3IgbW9ub21vcnBoaWMgb2JqZWN0c1xuICB0aGlzLmhhc19zdHJlZSAgICA9IHN0YXRpY190cmVlICYmIHN0YXRpY190cmVlLmxlbmd0aDtcbn1cblxuXG5sZXQgc3RhdGljX2xfZGVzYztcbmxldCBzdGF0aWNfZF9kZXNjO1xubGV0IHN0YXRpY19ibF9kZXNjO1xuXG5cbmZ1bmN0aW9uIFRyZWVEZXNjKGR5bl90cmVlLCBzdGF0X2Rlc2MpIHtcbiAgdGhpcy5keW5fdHJlZSA9IGR5bl90cmVlOyAgICAgLyogdGhlIGR5bmFtaWMgdHJlZSAqL1xuICB0aGlzLm1heF9jb2RlID0gMDsgICAgICAgICAgICAvKiBsYXJnZXN0IGNvZGUgd2l0aCBub24gemVybyBmcmVxdWVuY3kgKi9cbiAgdGhpcy5zdGF0X2Rlc2MgPSBzdGF0X2Rlc2M7ICAgLyogdGhlIGNvcnJlc3BvbmRpbmcgc3RhdGljIHRyZWUgKi9cbn1cblxuXG5cbmNvbnN0IGRfY29kZSA9IChkaXN0KSA9PiB7XG5cbiAgcmV0dXJuIGRpc3QgPCAyNTYgPyBfZGlzdF9jb2RlW2Rpc3RdIDogX2Rpc3RfY29kZVsyNTYgKyAoZGlzdCA+Pj4gNyldO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE91dHB1dCBhIHNob3J0IExTQiBmaXJzdCBvbiB0aGUgc3RyZWFtLlxuICogSU4gYXNzZXJ0aW9uOiB0aGVyZSBpcyBlbm91Z2ggcm9vbSBpbiBwZW5kaW5nQnVmLlxuICovXG5jb25zdCBwdXRfc2hvcnQgPSAocywgdykgPT4ge1xuLy8gICAgcHV0X2J5dGUocywgKHVjaCkoKHcpICYgMHhmZikpO1xuLy8gICAgcHV0X2J5dGUocywgKHVjaCkoKHVzaCkodykgPj4gOCkpO1xuICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9ICh3KSAmIDB4ZmY7XG4gIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gKHcgPj4+IDgpICYgMHhmZjtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTZW5kIGEgdmFsdWUgb24gYSBnaXZlbiBudW1iZXIgb2YgYml0cy5cbiAqIElOIGFzc2VydGlvbjogbGVuZ3RoIDw9IDE2IGFuZCB2YWx1ZSBmaXRzIGluIGxlbmd0aCBiaXRzLlxuICovXG5jb25zdCBzZW5kX2JpdHMgPSAocywgdmFsdWUsIGxlbmd0aCkgPT4ge1xuXG4gIGlmIChzLmJpX3ZhbGlkID4gKEJ1Zl9zaXplIC0gbGVuZ3RoKSkge1xuICAgIHMuYmlfYnVmIHw9ICh2YWx1ZSA8PCBzLmJpX3ZhbGlkKSAmIDB4ZmZmZjtcbiAgICBwdXRfc2hvcnQocywgcy5iaV9idWYpO1xuICAgIHMuYmlfYnVmID0gdmFsdWUgPj4gKEJ1Zl9zaXplIC0gcy5iaV92YWxpZCk7XG4gICAgcy5iaV92YWxpZCArPSBsZW5ndGggLSBCdWZfc2l6ZTtcbiAgfSBlbHNlIHtcbiAgICBzLmJpX2J1ZiB8PSAodmFsdWUgPDwgcy5iaV92YWxpZCkgJiAweGZmZmY7XG4gICAgcy5iaV92YWxpZCArPSBsZW5ndGg7XG4gIH1cbn07XG5cblxuY29uc3Qgc2VuZF9jb2RlID0gKHMsIGMsIHRyZWUpID0+IHtcblxuICBzZW5kX2JpdHMocywgdHJlZVtjICogMl0vKi5Db2RlKi8sIHRyZWVbYyAqIDIgKyAxXS8qLkxlbiovKTtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBSZXZlcnNlIHRoZSBmaXJzdCBsZW4gYml0cyBvZiBhIGNvZGUsIHVzaW5nIHN0cmFpZ2h0Zm9yd2FyZCBjb2RlIChhIGZhc3RlclxuICogbWV0aG9kIHdvdWxkIHVzZSBhIHRhYmxlKVxuICogSU4gYXNzZXJ0aW9uOiAxIDw9IGxlbiA8PSAxNVxuICovXG5jb25zdCBiaV9yZXZlcnNlID0gKGNvZGUsIGxlbikgPT4ge1xuXG4gIGxldCByZXMgPSAwO1xuICBkbyB7XG4gICAgcmVzIHw9IGNvZGUgJiAxO1xuICAgIGNvZGUgPj4+PSAxO1xuICAgIHJlcyA8PD0gMTtcbiAgfSB3aGlsZSAoLS1sZW4gPiAwKTtcbiAgcmV0dXJuIHJlcyA+Pj4gMTtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBGbHVzaCB0aGUgYml0IGJ1ZmZlciwga2VlcGluZyBhdCBtb3N0IDcgYml0cyBpbiBpdC5cbiAqL1xuY29uc3QgYmlfZmx1c2ggPSAocykgPT4ge1xuXG4gIGlmIChzLmJpX3ZhbGlkID09PSAxNikge1xuICAgIHB1dF9zaG9ydChzLCBzLmJpX2J1Zik7XG4gICAgcy5iaV9idWYgPSAwO1xuICAgIHMuYmlfdmFsaWQgPSAwO1xuXG4gIH0gZWxzZSBpZiAocy5iaV92YWxpZCA+PSA4KSB7XG4gICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSBzLmJpX2J1ZiAmIDB4ZmY7XG4gICAgcy5iaV9idWYgPj49IDg7XG4gICAgcy5iaV92YWxpZCAtPSA4O1xuICB9XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29tcHV0ZSB0aGUgb3B0aW1hbCBiaXQgbGVuZ3RocyBmb3IgYSB0cmVlIGFuZCB1cGRhdGUgdGhlIHRvdGFsIGJpdCBsZW5ndGhcbiAqIGZvciB0aGUgY3VycmVudCBibG9jay5cbiAqIElOIGFzc2VydGlvbjogdGhlIGZpZWxkcyBmcmVxIGFuZCBkYWQgYXJlIHNldCwgaGVhcFtoZWFwX21heF0gYW5kXG4gKiAgICBhYm92ZSBhcmUgdGhlIHRyZWUgbm9kZXMgc29ydGVkIGJ5IGluY3JlYXNpbmcgZnJlcXVlbmN5LlxuICogT1VUIGFzc2VydGlvbnM6IHRoZSBmaWVsZCBsZW4gaXMgc2V0IHRvIHRoZSBvcHRpbWFsIGJpdCBsZW5ndGgsIHRoZVxuICogICAgIGFycmF5IGJsX2NvdW50IGNvbnRhaW5zIHRoZSBmcmVxdWVuY2llcyBmb3IgZWFjaCBiaXQgbGVuZ3RoLlxuICogICAgIFRoZSBsZW5ndGggb3B0X2xlbiBpcyB1cGRhdGVkOyBzdGF0aWNfbGVuIGlzIGFsc28gdXBkYXRlZCBpZiBzdHJlZSBpc1xuICogICAgIG5vdCBudWxsLlxuICovXG5jb25zdCBnZW5fYml0bGVuID0gKHMsIGRlc2MpID0+IHtcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICB0cmVlX2Rlc2MgKmRlc2M7ICAgIC8qIHRoZSB0cmVlIGRlc2NyaXB0b3IgKi9cblxuICBjb25zdCB0cmVlICAgICAgICAgICAgPSBkZXNjLmR5bl90cmVlO1xuICBjb25zdCBtYXhfY29kZSAgICAgICAgPSBkZXNjLm1heF9jb2RlO1xuICBjb25zdCBzdHJlZSAgICAgICAgICAgPSBkZXNjLnN0YXRfZGVzYy5zdGF0aWNfdHJlZTtcbiAgY29uc3QgaGFzX3N0cmVlICAgICAgID0gZGVzYy5zdGF0X2Rlc2MuaGFzX3N0cmVlO1xuICBjb25zdCBleHRyYSAgICAgICAgICAgPSBkZXNjLnN0YXRfZGVzYy5leHRyYV9iaXRzO1xuICBjb25zdCBiYXNlICAgICAgICAgICAgPSBkZXNjLnN0YXRfZGVzYy5leHRyYV9iYXNlO1xuICBjb25zdCBtYXhfbGVuZ3RoICAgICAgPSBkZXNjLnN0YXRfZGVzYy5tYXhfbGVuZ3RoO1xuICBsZXQgaDsgICAgICAgICAgICAgIC8qIGhlYXAgaW5kZXggKi9cbiAgbGV0IG4sIG07ICAgICAgICAgICAvKiBpdGVyYXRlIG92ZXIgdGhlIHRyZWUgZWxlbWVudHMgKi9cbiAgbGV0IGJpdHM7ICAgICAgICAgICAvKiBiaXQgbGVuZ3RoICovXG4gIGxldCB4Yml0czsgICAgICAgICAgLyogZXh0cmEgYml0cyAqL1xuICBsZXQgZjsgICAgICAgICAgICAgIC8qIGZyZXF1ZW5jeSAqL1xuICBsZXQgb3ZlcmZsb3cgPSAwOyAgIC8qIG51bWJlciBvZiBlbGVtZW50cyB3aXRoIGJpdCBsZW5ndGggdG9vIGxhcmdlICovXG5cbiAgZm9yIChiaXRzID0gMDsgYml0cyA8PSBNQVhfQklUUyQxOyBiaXRzKyspIHtcbiAgICBzLmJsX2NvdW50W2JpdHNdID0gMDtcbiAgfVxuXG4gIC8qIEluIGEgZmlyc3QgcGFzcywgY29tcHV0ZSB0aGUgb3B0aW1hbCBiaXQgbGVuZ3RocyAod2hpY2ggbWF5XG4gICAqIG92ZXJmbG93IGluIHRoZSBjYXNlIG9mIHRoZSBiaXQgbGVuZ3RoIHRyZWUpLlxuICAgKi9cbiAgdHJlZVtzLmhlYXBbcy5oZWFwX21heF0gKiAyICsgMV0vKi5MZW4qLyA9IDA7IC8qIHJvb3Qgb2YgdGhlIGhlYXAgKi9cblxuICBmb3IgKGggPSBzLmhlYXBfbWF4ICsgMTsgaCA8IEhFQVBfU0laRSQxOyBoKyspIHtcbiAgICBuID0gcy5oZWFwW2hdO1xuICAgIGJpdHMgPSB0cmVlW3RyZWVbbiAqIDIgKyAxXS8qLkRhZCovICogMiArIDFdLyouTGVuKi8gKyAxO1xuICAgIGlmIChiaXRzID4gbWF4X2xlbmd0aCkge1xuICAgICAgYml0cyA9IG1heF9sZW5ndGg7XG4gICAgICBvdmVyZmxvdysrO1xuICAgIH1cbiAgICB0cmVlW24gKiAyICsgMV0vKi5MZW4qLyA9IGJpdHM7XG4gICAgLyogV2Ugb3ZlcndyaXRlIHRyZWVbbl0uRGFkIHdoaWNoIGlzIG5vIGxvbmdlciBuZWVkZWQgKi9cblxuICAgIGlmIChuID4gbWF4X2NvZGUpIHsgY29udGludWU7IH0gLyogbm90IGEgbGVhZiBub2RlICovXG5cbiAgICBzLmJsX2NvdW50W2JpdHNdKys7XG4gICAgeGJpdHMgPSAwO1xuICAgIGlmIChuID49IGJhc2UpIHtcbiAgICAgIHhiaXRzID0gZXh0cmFbbiAtIGJhc2VdO1xuICAgIH1cbiAgICBmID0gdHJlZVtuICogMl0vKi5GcmVxKi87XG4gICAgcy5vcHRfbGVuICs9IGYgKiAoYml0cyArIHhiaXRzKTtcbiAgICBpZiAoaGFzX3N0cmVlKSB7XG4gICAgICBzLnN0YXRpY19sZW4gKz0gZiAqIChzdHJlZVtuICogMiArIDFdLyouTGVuKi8gKyB4Yml0cyk7XG4gICAgfVxuICB9XG4gIGlmIChvdmVyZmxvdyA9PT0gMCkgeyByZXR1cm47IH1cblxuICAvLyBUcmFjZXYoKHN0ZGVycixcIlxcbmJpdCBsZW5ndGggb3ZlcmZsb3dcXG5cIikpO1xuICAvKiBUaGlzIGhhcHBlbnMgZm9yIGV4YW1wbGUgb24gb2JqMiBhbmQgcGljIG9mIHRoZSBDYWxnYXJ5IGNvcnB1cyAqL1xuXG4gIC8qIEZpbmQgdGhlIGZpcnN0IGJpdCBsZW5ndGggd2hpY2ggY291bGQgaW5jcmVhc2U6ICovXG4gIGRvIHtcbiAgICBiaXRzID0gbWF4X2xlbmd0aCAtIDE7XG4gICAgd2hpbGUgKHMuYmxfY291bnRbYml0c10gPT09IDApIHsgYml0cy0tOyB9XG4gICAgcy5ibF9jb3VudFtiaXRzXS0tOyAgICAgIC8qIG1vdmUgb25lIGxlYWYgZG93biB0aGUgdHJlZSAqL1xuICAgIHMuYmxfY291bnRbYml0cyArIDFdICs9IDI7IC8qIG1vdmUgb25lIG92ZXJmbG93IGl0ZW0gYXMgaXRzIGJyb3RoZXIgKi9cbiAgICBzLmJsX2NvdW50W21heF9sZW5ndGhdLS07XG4gICAgLyogVGhlIGJyb3RoZXIgb2YgdGhlIG92ZXJmbG93IGl0ZW0gYWxzbyBtb3ZlcyBvbmUgc3RlcCB1cCxcbiAgICAgKiBidXQgdGhpcyBkb2VzIG5vdCBhZmZlY3QgYmxfY291bnRbbWF4X2xlbmd0aF1cbiAgICAgKi9cbiAgICBvdmVyZmxvdyAtPSAyO1xuICB9IHdoaWxlIChvdmVyZmxvdyA+IDApO1xuXG4gIC8qIE5vdyByZWNvbXB1dGUgYWxsIGJpdCBsZW5ndGhzLCBzY2FubmluZyBpbiBpbmNyZWFzaW5nIGZyZXF1ZW5jeS5cbiAgICogaCBpcyBzdGlsbCBlcXVhbCB0byBIRUFQX1NJWkUuIChJdCBpcyBzaW1wbGVyIHRvIHJlY29uc3RydWN0IGFsbFxuICAgKiBsZW5ndGhzIGluc3RlYWQgb2YgZml4aW5nIG9ubHkgdGhlIHdyb25nIG9uZXMuIFRoaXMgaWRlYSBpcyB0YWtlblxuICAgKiBmcm9tICdhcicgd3JpdHRlbiBieSBIYXJ1aGlrbyBPa3VtdXJhLilcbiAgICovXG4gIGZvciAoYml0cyA9IG1heF9sZW5ndGg7IGJpdHMgIT09IDA7IGJpdHMtLSkge1xuICAgIG4gPSBzLmJsX2NvdW50W2JpdHNdO1xuICAgIHdoaWxlIChuICE9PSAwKSB7XG4gICAgICBtID0gcy5oZWFwWy0taF07XG4gICAgICBpZiAobSA+IG1heF9jb2RlKSB7IGNvbnRpbnVlOyB9XG4gICAgICBpZiAodHJlZVttICogMiArIDFdLyouTGVuKi8gIT09IGJpdHMpIHtcbiAgICAgICAgLy8gVHJhY2V2KChzdGRlcnIsXCJjb2RlICVkIGJpdHMgJWQtPiVkXFxuXCIsIG0sIHRyZWVbbV0uTGVuLCBiaXRzKSk7XG4gICAgICAgIHMub3B0X2xlbiArPSAoYml0cyAtIHRyZWVbbSAqIDIgKyAxXS8qLkxlbiovKSAqIHRyZWVbbSAqIDJdLyouRnJlcSovO1xuICAgICAgICB0cmVlW20gKiAyICsgMV0vKi5MZW4qLyA9IGJpdHM7XG4gICAgICB9XG4gICAgICBuLS07XG4gICAgfVxuICB9XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogR2VuZXJhdGUgdGhlIGNvZGVzIGZvciBhIGdpdmVuIHRyZWUgYW5kIGJpdCBjb3VudHMgKHdoaWNoIG5lZWQgbm90IGJlXG4gKiBvcHRpbWFsKS5cbiAqIElOIGFzc2VydGlvbjogdGhlIGFycmF5IGJsX2NvdW50IGNvbnRhaW5zIHRoZSBiaXQgbGVuZ3RoIHN0YXRpc3RpY3MgZm9yXG4gKiB0aGUgZ2l2ZW4gdHJlZSBhbmQgdGhlIGZpZWxkIGxlbiBpcyBzZXQgZm9yIGFsbCB0cmVlIGVsZW1lbnRzLlxuICogT1VUIGFzc2VydGlvbjogdGhlIGZpZWxkIGNvZGUgaXMgc2V0IGZvciBhbGwgdHJlZSBlbGVtZW50cyBvZiBub25cbiAqICAgICB6ZXJvIGNvZGUgbGVuZ3RoLlxuICovXG5jb25zdCBnZW5fY29kZXMgPSAodHJlZSwgbWF4X2NvZGUsIGJsX2NvdW50KSA9PiB7XG4vLyAgICBjdF9kYXRhICp0cmVlOyAgICAgICAgICAgICAvKiB0aGUgdHJlZSB0byBkZWNvcmF0ZSAqL1xuLy8gICAgaW50IG1heF9jb2RlOyAgICAgICAgICAgICAgLyogbGFyZ2VzdCBjb2RlIHdpdGggbm9uIHplcm8gZnJlcXVlbmN5ICovXG4vLyAgICB1c2hmICpibF9jb3VudDsgICAgICAgICAgICAvKiBudW1iZXIgb2YgY29kZXMgYXQgZWFjaCBiaXQgbGVuZ3RoICovXG5cbiAgY29uc3QgbmV4dF9jb2RlID0gbmV3IEFycmF5KE1BWF9CSVRTJDEgKyAxKTsgLyogbmV4dCBjb2RlIHZhbHVlIGZvciBlYWNoIGJpdCBsZW5ndGggKi9cbiAgbGV0IGNvZGUgPSAwOyAgICAgICAgICAgICAgLyogcnVubmluZyBjb2RlIHZhbHVlICovXG4gIGxldCBiaXRzOyAgICAgICAgICAgICAgICAgIC8qIGJpdCBpbmRleCAqL1xuICBsZXQgbjsgICAgICAgICAgICAgICAgICAgICAvKiBjb2RlIGluZGV4ICovXG5cbiAgLyogVGhlIGRpc3RyaWJ1dGlvbiBjb3VudHMgYXJlIGZpcnN0IHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGNvZGUgdmFsdWVzXG4gICAqIHdpdGhvdXQgYml0IHJldmVyc2FsLlxuICAgKi9cbiAgZm9yIChiaXRzID0gMTsgYml0cyA8PSBNQVhfQklUUyQxOyBiaXRzKyspIHtcbiAgICBjb2RlID0gKGNvZGUgKyBibF9jb3VudFtiaXRzIC0gMV0pIDw8IDE7XG4gICAgbmV4dF9jb2RlW2JpdHNdID0gY29kZTtcbiAgfVxuICAvKiBDaGVjayB0aGF0IHRoZSBiaXQgY291bnRzIGluIGJsX2NvdW50IGFyZSBjb25zaXN0ZW50LiBUaGUgbGFzdCBjb2RlXG4gICAqIG11c3QgYmUgYWxsIG9uZXMuXG4gICAqL1xuICAvL0Fzc2VydCAoY29kZSArIGJsX2NvdW50W01BWF9CSVRTXS0xID09ICgxPDxNQVhfQklUUyktMSxcbiAgLy8gICAgICAgIFwiaW5jb25zaXN0ZW50IGJpdCBjb3VudHNcIik7XG4gIC8vVHJhY2V2KChzdGRlcnIsXCJcXG5nZW5fY29kZXM6IG1heF9jb2RlICVkIFwiLCBtYXhfY29kZSkpO1xuXG4gIGZvciAobiA9IDA7ICBuIDw9IG1heF9jb2RlOyBuKyspIHtcbiAgICBsZXQgbGVuID0gdHJlZVtuICogMiArIDFdLyouTGVuKi87XG4gICAgaWYgKGxlbiA9PT0gMCkgeyBjb250aW51ZTsgfVxuICAgIC8qIE5vdyByZXZlcnNlIHRoZSBiaXRzICovXG4gICAgdHJlZVtuICogMl0vKi5Db2RlKi8gPSBiaV9yZXZlcnNlKG5leHRfY29kZVtsZW5dKyssIGxlbik7XG5cbiAgICAvL1RyYWNlY3YodHJlZSAhPSBzdGF0aWNfbHRyZWUsIChzdGRlcnIsXCJcXG5uICUzZCAlYyBsICUyZCBjICU0eCAoJXgpIFwiLFxuICAgIC8vICAgICBuLCAoaXNncmFwaChuKSA/IG4gOiAnICcpLCBsZW4sIHRyZWVbbl0uQ29kZSwgbmV4dF9jb2RlW2xlbl0tMSkpO1xuICB9XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW5pdGlhbGl6ZSB0aGUgdmFyaW91cyAnY29uc3RhbnQnIHRhYmxlcy5cbiAqL1xuY29uc3QgdHJfc3RhdGljX2luaXQgPSAoKSA9PiB7XG5cbiAgbGV0IG47ICAgICAgICAvKiBpdGVyYXRlcyBvdmVyIHRyZWUgZWxlbWVudHMgKi9cbiAgbGV0IGJpdHM7ICAgICAvKiBiaXQgY291bnRlciAqL1xuICBsZXQgbGVuZ3RoOyAgIC8qIGxlbmd0aCB2YWx1ZSAqL1xuICBsZXQgY29kZTsgICAgIC8qIGNvZGUgdmFsdWUgKi9cbiAgbGV0IGRpc3Q7ICAgICAvKiBkaXN0YW5jZSBpbmRleCAqL1xuICBjb25zdCBibF9jb3VudCA9IG5ldyBBcnJheShNQVhfQklUUyQxICsgMSk7XG4gIC8qIG51bWJlciBvZiBjb2RlcyBhdCBlYWNoIGJpdCBsZW5ndGggZm9yIGFuIG9wdGltYWwgdHJlZSAqL1xuXG4gIC8vIGRvIGNoZWNrIGluIF90cl9pbml0KClcbiAgLy9pZiAoc3RhdGljX2luaXRfZG9uZSkgcmV0dXJuO1xuXG4gIC8qIEZvciBzb21lIGVtYmVkZGVkIHRhcmdldHMsIGdsb2JhbCB2YXJpYWJsZXMgYXJlIG5vdCBpbml0aWFsaXplZDogKi9cbi8qI2lmZGVmIE5PX0lOSVRfR0xPQkFMX1BPSU5URVJTXG4gIHN0YXRpY19sX2Rlc2Muc3RhdGljX3RyZWUgPSBzdGF0aWNfbHRyZWU7XG4gIHN0YXRpY19sX2Rlc2MuZXh0cmFfYml0cyA9IGV4dHJhX2xiaXRzO1xuICBzdGF0aWNfZF9kZXNjLnN0YXRpY190cmVlID0gc3RhdGljX2R0cmVlO1xuICBzdGF0aWNfZF9kZXNjLmV4dHJhX2JpdHMgPSBleHRyYV9kYml0cztcbiAgc3RhdGljX2JsX2Rlc2MuZXh0cmFfYml0cyA9IGV4dHJhX2JsYml0cztcbiNlbmRpZiovXG5cbiAgLyogSW5pdGlhbGl6ZSB0aGUgbWFwcGluZyBsZW5ndGggKDAuLjI1NSkgLT4gbGVuZ3RoIGNvZGUgKDAuLjI4KSAqL1xuICBsZW5ndGggPSAwO1xuICBmb3IgKGNvZGUgPSAwOyBjb2RlIDwgTEVOR1RIX0NPREVTJDEgLSAxOyBjb2RlKyspIHtcbiAgICBiYXNlX2xlbmd0aFtjb2RlXSA9IGxlbmd0aDtcbiAgICBmb3IgKG4gPSAwOyBuIDwgKDEgPDwgZXh0cmFfbGJpdHNbY29kZV0pOyBuKyspIHtcbiAgICAgIF9sZW5ndGhfY29kZVtsZW5ndGgrK10gPSBjb2RlO1xuICAgIH1cbiAgfVxuICAvL0Fzc2VydCAobGVuZ3RoID09IDI1NiwgXCJ0cl9zdGF0aWNfaW5pdDogbGVuZ3RoICE9IDI1NlwiKTtcbiAgLyogTm90ZSB0aGF0IHRoZSBsZW5ndGggMjU1IChtYXRjaCBsZW5ndGggMjU4KSBjYW4gYmUgcmVwcmVzZW50ZWRcbiAgICogaW4gdHdvIGRpZmZlcmVudCB3YXlzOiBjb2RlIDI4NCArIDUgYml0cyBvciBjb2RlIDI4NSwgc28gd2VcbiAgICogb3ZlcndyaXRlIGxlbmd0aF9jb2RlWzI1NV0gdG8gdXNlIHRoZSBiZXN0IGVuY29kaW5nOlxuICAgKi9cbiAgX2xlbmd0aF9jb2RlW2xlbmd0aCAtIDFdID0gY29kZTtcblxuICAvKiBJbml0aWFsaXplIHRoZSBtYXBwaW5nIGRpc3QgKDAuLjMySykgLT4gZGlzdCBjb2RlICgwLi4yOSkgKi9cbiAgZGlzdCA9IDA7XG4gIGZvciAoY29kZSA9IDA7IGNvZGUgPCAxNjsgY29kZSsrKSB7XG4gICAgYmFzZV9kaXN0W2NvZGVdID0gZGlzdDtcbiAgICBmb3IgKG4gPSAwOyBuIDwgKDEgPDwgZXh0cmFfZGJpdHNbY29kZV0pOyBuKyspIHtcbiAgICAgIF9kaXN0X2NvZGVbZGlzdCsrXSA9IGNvZGU7XG4gICAgfVxuICB9XG4gIC8vQXNzZXJ0IChkaXN0ID09IDI1NiwgXCJ0cl9zdGF0aWNfaW5pdDogZGlzdCAhPSAyNTZcIik7XG4gIGRpc3QgPj49IDc7IC8qIGZyb20gbm93IG9uLCBhbGwgZGlzdGFuY2VzIGFyZSBkaXZpZGVkIGJ5IDEyOCAqL1xuICBmb3IgKDsgY29kZSA8IERfQ09ERVMkMTsgY29kZSsrKSB7XG4gICAgYmFzZV9kaXN0W2NvZGVdID0gZGlzdCA8PCA3O1xuICAgIGZvciAobiA9IDA7IG4gPCAoMSA8PCAoZXh0cmFfZGJpdHNbY29kZV0gLSA3KSk7IG4rKykge1xuICAgICAgX2Rpc3RfY29kZVsyNTYgKyBkaXN0KytdID0gY29kZTtcbiAgICB9XG4gIH1cbiAgLy9Bc3NlcnQgKGRpc3QgPT0gMjU2LCBcInRyX3N0YXRpY19pbml0OiAyNTYrZGlzdCAhPSA1MTJcIik7XG5cbiAgLyogQ29uc3RydWN0IHRoZSBjb2RlcyBvZiB0aGUgc3RhdGljIGxpdGVyYWwgdHJlZSAqL1xuICBmb3IgKGJpdHMgPSAwOyBiaXRzIDw9IE1BWF9CSVRTJDE7IGJpdHMrKykge1xuICAgIGJsX2NvdW50W2JpdHNdID0gMDtcbiAgfVxuXG4gIG4gPSAwO1xuICB3aGlsZSAobiA8PSAxNDMpIHtcbiAgICBzdGF0aWNfbHRyZWVbbiAqIDIgKyAxXS8qLkxlbiovID0gODtcbiAgICBuKys7XG4gICAgYmxfY291bnRbOF0rKztcbiAgfVxuICB3aGlsZSAobiA8PSAyNTUpIHtcbiAgICBzdGF0aWNfbHRyZWVbbiAqIDIgKyAxXS8qLkxlbiovID0gOTtcbiAgICBuKys7XG4gICAgYmxfY291bnRbOV0rKztcbiAgfVxuICB3aGlsZSAobiA8PSAyNzkpIHtcbiAgICBzdGF0aWNfbHRyZWVbbiAqIDIgKyAxXS8qLkxlbiovID0gNztcbiAgICBuKys7XG4gICAgYmxfY291bnRbN10rKztcbiAgfVxuICB3aGlsZSAobiA8PSAyODcpIHtcbiAgICBzdGF0aWNfbHRyZWVbbiAqIDIgKyAxXS8qLkxlbiovID0gODtcbiAgICBuKys7XG4gICAgYmxfY291bnRbOF0rKztcbiAgfVxuICAvKiBDb2RlcyAyODYgYW5kIDI4NyBkbyBub3QgZXhpc3QsIGJ1dCB3ZSBtdXN0IGluY2x1ZGUgdGhlbSBpbiB0aGVcbiAgICogdHJlZSBjb25zdHJ1Y3Rpb24gdG8gZ2V0IGEgY2Fub25pY2FsIEh1ZmZtYW4gdHJlZSAobG9uZ2VzdCBjb2RlXG4gICAqIGFsbCBvbmVzKVxuICAgKi9cbiAgZ2VuX2NvZGVzKHN0YXRpY19sdHJlZSwgTF9DT0RFUyQxICsgMSwgYmxfY291bnQpO1xuXG4gIC8qIFRoZSBzdGF0aWMgZGlzdGFuY2UgdHJlZSBpcyB0cml2aWFsOiAqL1xuICBmb3IgKG4gPSAwOyBuIDwgRF9DT0RFUyQxOyBuKyspIHtcbiAgICBzdGF0aWNfZHRyZWVbbiAqIDIgKyAxXS8qLkxlbiovID0gNTtcbiAgICBzdGF0aWNfZHRyZWVbbiAqIDJdLyouQ29kZSovID0gYmlfcmV2ZXJzZShuLCA1KTtcbiAgfVxuXG4gIC8vIE5vdyBkYXRhIHJlYWR5IGFuZCB3ZSBjYW4gaW5pdCBzdGF0aWMgdHJlZXNcbiAgc3RhdGljX2xfZGVzYyA9IG5ldyBTdGF0aWNUcmVlRGVzYyhzdGF0aWNfbHRyZWUsIGV4dHJhX2xiaXRzLCBMSVRFUkFMUyQxICsgMSwgTF9DT0RFUyQxLCBNQVhfQklUUyQxKTtcbiAgc3RhdGljX2RfZGVzYyA9IG5ldyBTdGF0aWNUcmVlRGVzYyhzdGF0aWNfZHRyZWUsIGV4dHJhX2RiaXRzLCAwLCAgICAgICAgICBEX0NPREVTJDEsIE1BWF9CSVRTJDEpO1xuICBzdGF0aWNfYmxfZGVzYyA9IG5ldyBTdGF0aWNUcmVlRGVzYyhuZXcgQXJyYXkoMCksIGV4dHJhX2JsYml0cywgMCwgICAgICAgICBCTF9DT0RFUyQxLCBNQVhfQkxfQklUUyk7XG5cbiAgLy9zdGF0aWNfaW5pdF9kb25lID0gdHJ1ZTtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbml0aWFsaXplIGEgbmV3IGJsb2NrLlxuICovXG5jb25zdCBpbml0X2Jsb2NrID0gKHMpID0+IHtcblxuICBsZXQgbjsgLyogaXRlcmF0ZXMgb3ZlciB0cmVlIGVsZW1lbnRzICovXG5cbiAgLyogSW5pdGlhbGl6ZSB0aGUgdHJlZXMuICovXG4gIGZvciAobiA9IDA7IG4gPCBMX0NPREVTJDE7ICBuKyspIHsgcy5keW5fbHRyZWVbbiAqIDJdLyouRnJlcSovID0gMDsgfVxuICBmb3IgKG4gPSAwOyBuIDwgRF9DT0RFUyQxOyAgbisrKSB7IHMuZHluX2R0cmVlW24gKiAyXS8qLkZyZXEqLyA9IDA7IH1cbiAgZm9yIChuID0gMDsgbiA8IEJMX0NPREVTJDE7IG4rKykgeyBzLmJsX3RyZWVbbiAqIDJdLyouRnJlcSovID0gMDsgfVxuXG4gIHMuZHluX2x0cmVlW0VORF9CTE9DSyAqIDJdLyouRnJlcSovID0gMTtcbiAgcy5vcHRfbGVuID0gcy5zdGF0aWNfbGVuID0gMDtcbiAgcy5zeW1fbmV4dCA9IHMubWF0Y2hlcyA9IDA7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogRmx1c2ggdGhlIGJpdCBidWZmZXIgYW5kIGFsaWduIHRoZSBvdXRwdXQgb24gYSBieXRlIGJvdW5kYXJ5XG4gKi9cbmNvbnN0IGJpX3dpbmR1cCA9IChzKSA9Plxue1xuICBpZiAocy5iaV92YWxpZCA+IDgpIHtcbiAgICBwdXRfc2hvcnQocywgcy5iaV9idWYpO1xuICB9IGVsc2UgaWYgKHMuYmlfdmFsaWQgPiAwKSB7XG4gICAgLy9wdXRfYnl0ZShzLCAoQnl0ZSlzLT5iaV9idWYpO1xuICAgIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gcy5iaV9idWY7XG4gIH1cbiAgcy5iaV9idWYgPSAwO1xuICBzLmJpX3ZhbGlkID0gMDtcbn07XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29tcGFyZXMgdG8gc3VidHJlZXMsIHVzaW5nIHRoZSB0cmVlIGRlcHRoIGFzIHRpZSBicmVha2VyIHdoZW5cbiAqIHRoZSBzdWJ0cmVlcyBoYXZlIGVxdWFsIGZyZXF1ZW5jeS4gVGhpcyBtaW5pbWl6ZXMgdGhlIHdvcnN0IGNhc2UgbGVuZ3RoLlxuICovXG5jb25zdCBzbWFsbGVyID0gKHRyZWUsIG4sIG0sIGRlcHRoKSA9PiB7XG5cbiAgY29uc3QgX24yID0gbiAqIDI7XG4gIGNvbnN0IF9tMiA9IG0gKiAyO1xuICByZXR1cm4gKHRyZWVbX24yXS8qLkZyZXEqLyA8IHRyZWVbX20yXS8qLkZyZXEqLyB8fFxuICAgICAgICAgKHRyZWVbX24yXS8qLkZyZXEqLyA9PT0gdHJlZVtfbTJdLyouRnJlcSovICYmIGRlcHRoW25dIDw9IGRlcHRoW21dKSk7XG59O1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFJlc3RvcmUgdGhlIGhlYXAgcHJvcGVydHkgYnkgbW92aW5nIGRvd24gdGhlIHRyZWUgc3RhcnRpbmcgYXQgbm9kZSBrLFxuICogZXhjaGFuZ2luZyBhIG5vZGUgd2l0aCB0aGUgc21hbGxlc3Qgb2YgaXRzIHR3byBzb25zIGlmIG5lY2Vzc2FyeSwgc3RvcHBpbmdcbiAqIHdoZW4gdGhlIGhlYXAgcHJvcGVydHkgaXMgcmUtZXN0YWJsaXNoZWQgKGVhY2ggZmF0aGVyIHNtYWxsZXIgdGhhbiBpdHNcbiAqIHR3byBzb25zKS5cbiAqL1xuY29uc3QgcHFkb3duaGVhcCA9IChzLCB0cmVlLCBrKSA9PiB7XG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgY3RfZGF0YSAqdHJlZTsgIC8qIHRoZSB0cmVlIHRvIHJlc3RvcmUgKi9cbi8vICAgIGludCBrOyAgICAgICAgICAgICAgIC8qIG5vZGUgdG8gbW92ZSBkb3duICovXG5cbiAgY29uc3QgdiA9IHMuaGVhcFtrXTtcbiAgbGV0IGogPSBrIDw8IDE7ICAvKiBsZWZ0IHNvbiBvZiBrICovXG4gIHdoaWxlIChqIDw9IHMuaGVhcF9sZW4pIHtcbiAgICAvKiBTZXQgaiB0byB0aGUgc21hbGxlc3Qgb2YgdGhlIHR3byBzb25zOiAqL1xuICAgIGlmIChqIDwgcy5oZWFwX2xlbiAmJlxuICAgICAgc21hbGxlcih0cmVlLCBzLmhlYXBbaiArIDFdLCBzLmhlYXBbal0sIHMuZGVwdGgpKSB7XG4gICAgICBqKys7XG4gICAgfVxuICAgIC8qIEV4aXQgaWYgdiBpcyBzbWFsbGVyIHRoYW4gYm90aCBzb25zICovXG4gICAgaWYgKHNtYWxsZXIodHJlZSwgdiwgcy5oZWFwW2pdLCBzLmRlcHRoKSkgeyBicmVhazsgfVxuXG4gICAgLyogRXhjaGFuZ2UgdiB3aXRoIHRoZSBzbWFsbGVzdCBzb24gKi9cbiAgICBzLmhlYXBba10gPSBzLmhlYXBbal07XG4gICAgayA9IGo7XG5cbiAgICAvKiBBbmQgY29udGludWUgZG93biB0aGUgdHJlZSwgc2V0dGluZyBqIHRvIHRoZSBsZWZ0IHNvbiBvZiBrICovXG4gICAgaiA8PD0gMTtcbiAgfVxuICBzLmhlYXBba10gPSB2O1xufTtcblxuXG4vLyBpbmxpbmVkIG1hbnVhbGx5XG4vLyBjb25zdCBTTUFMTEVTVCA9IDE7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2VuZCB0aGUgYmxvY2sgZGF0YSBjb21wcmVzc2VkIHVzaW5nIHRoZSBnaXZlbiBIdWZmbWFuIHRyZWVzXG4gKi9cbmNvbnN0IGNvbXByZXNzX2Jsb2NrID0gKHMsIGx0cmVlLCBkdHJlZSkgPT4ge1xuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIGNvbnN0IGN0X2RhdGEgKmx0cmVlOyAvKiBsaXRlcmFsIHRyZWUgKi9cbi8vICAgIGNvbnN0IGN0X2RhdGEgKmR0cmVlOyAvKiBkaXN0YW5jZSB0cmVlICovXG5cbiAgbGV0IGRpc3Q7ICAgICAgICAgICAvKiBkaXN0YW5jZSBvZiBtYXRjaGVkIHN0cmluZyAqL1xuICBsZXQgbGM7ICAgICAgICAgICAgIC8qIG1hdGNoIGxlbmd0aCBvciB1bm1hdGNoZWQgY2hhciAoaWYgZGlzdCA9PSAwKSAqL1xuICBsZXQgc3ggPSAwOyAgICAgICAgIC8qIHJ1bm5pbmcgaW5kZXggaW4gc3ltX2J1ZiAqL1xuICBsZXQgY29kZTsgICAgICAgICAgIC8qIHRoZSBjb2RlIHRvIHNlbmQgKi9cbiAgbGV0IGV4dHJhOyAgICAgICAgICAvKiBudW1iZXIgb2YgZXh0cmEgYml0cyB0byBzZW5kICovXG5cbiAgaWYgKHMuc3ltX25leHQgIT09IDApIHtcbiAgICBkbyB7XG4gICAgICBkaXN0ID0gcy5wZW5kaW5nX2J1ZltzLnN5bV9idWYgKyBzeCsrXSAmIDB4ZmY7XG4gICAgICBkaXN0ICs9IChzLnBlbmRpbmdfYnVmW3Muc3ltX2J1ZiArIHN4KytdICYgMHhmZikgPDwgODtcbiAgICAgIGxjID0gcy5wZW5kaW5nX2J1ZltzLnN5bV9idWYgKyBzeCsrXTtcbiAgICAgIGlmIChkaXN0ID09PSAwKSB7XG4gICAgICAgIHNlbmRfY29kZShzLCBsYywgbHRyZWUpOyAvKiBzZW5kIGEgbGl0ZXJhbCBieXRlICovXG4gICAgICAgIC8vVHJhY2Vjdihpc2dyYXBoKGxjKSwgKHN0ZGVycixcIiAnJWMnIFwiLCBsYykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyogSGVyZSwgbGMgaXMgdGhlIG1hdGNoIGxlbmd0aCAtIE1JTl9NQVRDSCAqL1xuICAgICAgICBjb2RlID0gX2xlbmd0aF9jb2RlW2xjXTtcbiAgICAgICAgc2VuZF9jb2RlKHMsIGNvZGUgKyBMSVRFUkFMUyQxICsgMSwgbHRyZWUpOyAvKiBzZW5kIHRoZSBsZW5ndGggY29kZSAqL1xuICAgICAgICBleHRyYSA9IGV4dHJhX2xiaXRzW2NvZGVdO1xuICAgICAgICBpZiAoZXh0cmEgIT09IDApIHtcbiAgICAgICAgICBsYyAtPSBiYXNlX2xlbmd0aFtjb2RlXTtcbiAgICAgICAgICBzZW5kX2JpdHMocywgbGMsIGV4dHJhKTsgICAgICAgLyogc2VuZCB0aGUgZXh0cmEgbGVuZ3RoIGJpdHMgKi9cbiAgICAgICAgfVxuICAgICAgICBkaXN0LS07IC8qIGRpc3QgaXMgbm93IHRoZSBtYXRjaCBkaXN0YW5jZSAtIDEgKi9cbiAgICAgICAgY29kZSA9IGRfY29kZShkaXN0KTtcbiAgICAgICAgLy9Bc3NlcnQgKGNvZGUgPCBEX0NPREVTLCBcImJhZCBkX2NvZGVcIik7XG5cbiAgICAgICAgc2VuZF9jb2RlKHMsIGNvZGUsIGR0cmVlKTsgICAgICAgLyogc2VuZCB0aGUgZGlzdGFuY2UgY29kZSAqL1xuICAgICAgICBleHRyYSA9IGV4dHJhX2RiaXRzW2NvZGVdO1xuICAgICAgICBpZiAoZXh0cmEgIT09IDApIHtcbiAgICAgICAgICBkaXN0IC09IGJhc2VfZGlzdFtjb2RlXTtcbiAgICAgICAgICBzZW5kX2JpdHMocywgZGlzdCwgZXh0cmEpOyAgIC8qIHNlbmQgdGhlIGV4dHJhIGRpc3RhbmNlIGJpdHMgKi9cbiAgICAgICAgfVxuICAgICAgfSAvKiBsaXRlcmFsIG9yIG1hdGNoIHBhaXIgPyAqL1xuXG4gICAgICAvKiBDaGVjayB0aGF0IHRoZSBvdmVybGF5IGJldHdlZW4gcGVuZGluZ19idWYgYW5kIHN5bV9idWYgaXMgb2s6ICovXG4gICAgICAvL0Fzc2VydChzLT5wZW5kaW5nIDwgcy0+bGl0X2J1ZnNpemUgKyBzeCwgXCJwZW5kaW5nQnVmIG92ZXJmbG93XCIpO1xuXG4gICAgfSB3aGlsZSAoc3ggPCBzLnN5bV9uZXh0KTtcbiAgfVxuXG4gIHNlbmRfY29kZShzLCBFTkRfQkxPQ0ssIGx0cmVlKTtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb25zdHJ1Y3Qgb25lIEh1ZmZtYW4gdHJlZSBhbmQgYXNzaWducyB0aGUgY29kZSBiaXQgc3RyaW5ncyBhbmQgbGVuZ3Rocy5cbiAqIFVwZGF0ZSB0aGUgdG90YWwgYml0IGxlbmd0aCBmb3IgdGhlIGN1cnJlbnQgYmxvY2suXG4gKiBJTiBhc3NlcnRpb246IHRoZSBmaWVsZCBmcmVxIGlzIHNldCBmb3IgYWxsIHRyZWUgZWxlbWVudHMuXG4gKiBPVVQgYXNzZXJ0aW9uczogdGhlIGZpZWxkcyBsZW4gYW5kIGNvZGUgYXJlIHNldCB0byB0aGUgb3B0aW1hbCBiaXQgbGVuZ3RoXG4gKiAgICAgYW5kIGNvcnJlc3BvbmRpbmcgY29kZS4gVGhlIGxlbmd0aCBvcHRfbGVuIGlzIHVwZGF0ZWQ7IHN0YXRpY19sZW4gaXNcbiAqICAgICBhbHNvIHVwZGF0ZWQgaWYgc3RyZWUgaXMgbm90IG51bGwuIFRoZSBmaWVsZCBtYXhfY29kZSBpcyBzZXQuXG4gKi9cbmNvbnN0IGJ1aWxkX3RyZWUgPSAocywgZGVzYykgPT4ge1xuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIHRyZWVfZGVzYyAqZGVzYzsgLyogdGhlIHRyZWUgZGVzY3JpcHRvciAqL1xuXG4gIGNvbnN0IHRyZWUgICAgID0gZGVzYy5keW5fdHJlZTtcbiAgY29uc3Qgc3RyZWUgICAgPSBkZXNjLnN0YXRfZGVzYy5zdGF0aWNfdHJlZTtcbiAgY29uc3QgaGFzX3N0cmVlID0gZGVzYy5zdGF0X2Rlc2MuaGFzX3N0cmVlO1xuICBjb25zdCBlbGVtcyAgICA9IGRlc2Muc3RhdF9kZXNjLmVsZW1zO1xuICBsZXQgbiwgbTsgICAgICAgICAgLyogaXRlcmF0ZSBvdmVyIGhlYXAgZWxlbWVudHMgKi9cbiAgbGV0IG1heF9jb2RlID0gLTE7IC8qIGxhcmdlc3QgY29kZSB3aXRoIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xuICBsZXQgbm9kZTsgICAgICAgICAgLyogbmV3IG5vZGUgYmVpbmcgY3JlYXRlZCAqL1xuXG4gIC8qIENvbnN0cnVjdCB0aGUgaW5pdGlhbCBoZWFwLCB3aXRoIGxlYXN0IGZyZXF1ZW50IGVsZW1lbnQgaW5cbiAgICogaGVhcFtTTUFMTEVTVF0uIFRoZSBzb25zIG9mIGhlYXBbbl0gYXJlIGhlYXBbMipuXSBhbmQgaGVhcFsyKm4rMV0uXG4gICAqIGhlYXBbMF0gaXMgbm90IHVzZWQuXG4gICAqL1xuICBzLmhlYXBfbGVuID0gMDtcbiAgcy5oZWFwX21heCA9IEhFQVBfU0laRSQxO1xuXG4gIGZvciAobiA9IDA7IG4gPCBlbGVtczsgbisrKSB7XG4gICAgaWYgKHRyZWVbbiAqIDJdLyouRnJlcSovICE9PSAwKSB7XG4gICAgICBzLmhlYXBbKytzLmhlYXBfbGVuXSA9IG1heF9jb2RlID0gbjtcbiAgICAgIHMuZGVwdGhbbl0gPSAwO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHRyZWVbbiAqIDIgKyAxXS8qLkxlbiovID0gMDtcbiAgICB9XG4gIH1cblxuICAvKiBUaGUgcGt6aXAgZm9ybWF0IHJlcXVpcmVzIHRoYXQgYXQgbGVhc3Qgb25lIGRpc3RhbmNlIGNvZGUgZXhpc3RzLFxuICAgKiBhbmQgdGhhdCBhdCBsZWFzdCBvbmUgYml0IHNob3VsZCBiZSBzZW50IGV2ZW4gaWYgdGhlcmUgaXMgb25seSBvbmVcbiAgICogcG9zc2libGUgY29kZS4gU28gdG8gYXZvaWQgc3BlY2lhbCBjaGVja3MgbGF0ZXIgb24gd2UgZm9yY2UgYXQgbGVhc3RcbiAgICogdHdvIGNvZGVzIG9mIG5vbiB6ZXJvIGZyZXF1ZW5jeS5cbiAgICovXG4gIHdoaWxlIChzLmhlYXBfbGVuIDwgMikge1xuICAgIG5vZGUgPSBzLmhlYXBbKytzLmhlYXBfbGVuXSA9IChtYXhfY29kZSA8IDIgPyArK21heF9jb2RlIDogMCk7XG4gICAgdHJlZVtub2RlICogMl0vKi5GcmVxKi8gPSAxO1xuICAgIHMuZGVwdGhbbm9kZV0gPSAwO1xuICAgIHMub3B0X2xlbi0tO1xuXG4gICAgaWYgKGhhc19zdHJlZSkge1xuICAgICAgcy5zdGF0aWNfbGVuIC09IHN0cmVlW25vZGUgKiAyICsgMV0vKi5MZW4qLztcbiAgICB9XG4gICAgLyogbm9kZSBpcyAwIG9yIDEgc28gaXQgZG9lcyBub3QgaGF2ZSBleHRyYSBiaXRzICovXG4gIH1cbiAgZGVzYy5tYXhfY29kZSA9IG1heF9jb2RlO1xuXG4gIC8qIFRoZSBlbGVtZW50cyBoZWFwW2hlYXBfbGVuLzIrMSAuLiBoZWFwX2xlbl0gYXJlIGxlYXZlcyBvZiB0aGUgdHJlZSxcbiAgICogZXN0YWJsaXNoIHN1Yi1oZWFwcyBvZiBpbmNyZWFzaW5nIGxlbmd0aHM6XG4gICAqL1xuICBmb3IgKG4gPSAocy5oZWFwX2xlbiA+PiAxLyppbnQgLzIqLyk7IG4gPj0gMTsgbi0tKSB7IHBxZG93bmhlYXAocywgdHJlZSwgbik7IH1cblxuICAvKiBDb25zdHJ1Y3QgdGhlIEh1ZmZtYW4gdHJlZSBieSByZXBlYXRlZGx5IGNvbWJpbmluZyB0aGUgbGVhc3QgdHdvXG4gICAqIGZyZXF1ZW50IG5vZGVzLlxuICAgKi9cbiAgbm9kZSA9IGVsZW1zOyAgICAgICAgICAgICAgLyogbmV4dCBpbnRlcm5hbCBub2RlIG9mIHRoZSB0cmVlICovXG4gIGRvIHtcbiAgICAvL3BxcmVtb3ZlKHMsIHRyZWUsIG4pOyAgLyogbiA9IG5vZGUgb2YgbGVhc3QgZnJlcXVlbmN5ICovXG4gICAgLyoqKiBwcXJlbW92ZSAqKiovXG4gICAgbiA9IHMuaGVhcFsxLypTTUFMTEVTVCovXTtcbiAgICBzLmhlYXBbMS8qU01BTExFU1QqL10gPSBzLmhlYXBbcy5oZWFwX2xlbi0tXTtcbiAgICBwcWRvd25oZWFwKHMsIHRyZWUsIDEvKlNNQUxMRVNUKi8pO1xuICAgIC8qKiovXG5cbiAgICBtID0gcy5oZWFwWzEvKlNNQUxMRVNUKi9dOyAvKiBtID0gbm9kZSBvZiBuZXh0IGxlYXN0IGZyZXF1ZW5jeSAqL1xuXG4gICAgcy5oZWFwWy0tcy5oZWFwX21heF0gPSBuOyAvKiBrZWVwIHRoZSBub2RlcyBzb3J0ZWQgYnkgZnJlcXVlbmN5ICovXG4gICAgcy5oZWFwWy0tcy5oZWFwX21heF0gPSBtO1xuXG4gICAgLyogQ3JlYXRlIGEgbmV3IG5vZGUgZmF0aGVyIG9mIG4gYW5kIG0gKi9cbiAgICB0cmVlW25vZGUgKiAyXS8qLkZyZXEqLyA9IHRyZWVbbiAqIDJdLyouRnJlcSovICsgdHJlZVttICogMl0vKi5GcmVxKi87XG4gICAgcy5kZXB0aFtub2RlXSA9IChzLmRlcHRoW25dID49IHMuZGVwdGhbbV0gPyBzLmRlcHRoW25dIDogcy5kZXB0aFttXSkgKyAxO1xuICAgIHRyZWVbbiAqIDIgKyAxXS8qLkRhZCovID0gdHJlZVttICogMiArIDFdLyouRGFkKi8gPSBub2RlO1xuXG4gICAgLyogYW5kIGluc2VydCB0aGUgbmV3IG5vZGUgaW4gdGhlIGhlYXAgKi9cbiAgICBzLmhlYXBbMS8qU01BTExFU1QqL10gPSBub2RlKys7XG4gICAgcHFkb3duaGVhcChzLCB0cmVlLCAxLypTTUFMTEVTVCovKTtcblxuICB9IHdoaWxlIChzLmhlYXBfbGVuID49IDIpO1xuXG4gIHMuaGVhcFstLXMuaGVhcF9tYXhdID0gcy5oZWFwWzEvKlNNQUxMRVNUKi9dO1xuXG4gIC8qIEF0IHRoaXMgcG9pbnQsIHRoZSBmaWVsZHMgZnJlcSBhbmQgZGFkIGFyZSBzZXQuIFdlIGNhbiBub3dcbiAgICogZ2VuZXJhdGUgdGhlIGJpdCBsZW5ndGhzLlxuICAgKi9cbiAgZ2VuX2JpdGxlbihzLCBkZXNjKTtcblxuICAvKiBUaGUgZmllbGQgbGVuIGlzIG5vdyBzZXQsIHdlIGNhbiBnZW5lcmF0ZSB0aGUgYml0IGNvZGVzICovXG4gIGdlbl9jb2Rlcyh0cmVlLCBtYXhfY29kZSwgcy5ibF9jb3VudCk7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2NhbiBhIGxpdGVyYWwgb3IgZGlzdGFuY2UgdHJlZSB0byBkZXRlcm1pbmUgdGhlIGZyZXF1ZW5jaWVzIG9mIHRoZSBjb2Rlc1xuICogaW4gdGhlIGJpdCBsZW5ndGggdHJlZS5cbiAqL1xuY29uc3Qgc2Nhbl90cmVlID0gKHMsIHRyZWUsIG1heF9jb2RlKSA9PiB7XG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgY3RfZGF0YSAqdHJlZTsgICAvKiB0aGUgdHJlZSB0byBiZSBzY2FubmVkICovXG4vLyAgICBpbnQgbWF4X2NvZGU7ICAgIC8qIGFuZCBpdHMgbGFyZ2VzdCBjb2RlIG9mIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xuXG4gIGxldCBuOyAgICAgICAgICAgICAgICAgICAgIC8qIGl0ZXJhdGVzIG92ZXIgYWxsIHRyZWUgZWxlbWVudHMgKi9cbiAgbGV0IHByZXZsZW4gPSAtMTsgICAgICAgICAgLyogbGFzdCBlbWl0dGVkIGxlbmd0aCAqL1xuICBsZXQgY3VybGVuOyAgICAgICAgICAgICAgICAvKiBsZW5ndGggb2YgY3VycmVudCBjb2RlICovXG5cbiAgbGV0IG5leHRsZW4gPSB0cmVlWzAgKiAyICsgMV0vKi5MZW4qLzsgLyogbGVuZ3RoIG9mIG5leHQgY29kZSAqL1xuXG4gIGxldCBjb3VudCA9IDA7ICAgICAgICAgICAgIC8qIHJlcGVhdCBjb3VudCBvZiB0aGUgY3VycmVudCBjb2RlICovXG4gIGxldCBtYXhfY291bnQgPSA3OyAgICAgICAgIC8qIG1heCByZXBlYXQgY291bnQgKi9cbiAgbGV0IG1pbl9jb3VudCA9IDQ7ICAgICAgICAgLyogbWluIHJlcGVhdCBjb3VudCAqL1xuXG4gIGlmIChuZXh0bGVuID09PSAwKSB7XG4gICAgbWF4X2NvdW50ID0gMTM4O1xuICAgIG1pbl9jb3VudCA9IDM7XG4gIH1cbiAgdHJlZVsobWF4X2NvZGUgKyAxKSAqIDIgKyAxXS8qLkxlbiovID0gMHhmZmZmOyAvKiBndWFyZCAqL1xuXG4gIGZvciAobiA9IDA7IG4gPD0gbWF4X2NvZGU7IG4rKykge1xuICAgIGN1cmxlbiA9IG5leHRsZW47XG4gICAgbmV4dGxlbiA9IHRyZWVbKG4gKyAxKSAqIDIgKyAxXS8qLkxlbiovO1xuXG4gICAgaWYgKCsrY291bnQgPCBtYXhfY291bnQgJiYgY3VybGVuID09PSBuZXh0bGVuKSB7XG4gICAgICBjb250aW51ZTtcblxuICAgIH0gZWxzZSBpZiAoY291bnQgPCBtaW5fY291bnQpIHtcbiAgICAgIHMuYmxfdHJlZVtjdXJsZW4gKiAyXS8qLkZyZXEqLyArPSBjb3VudDtcblxuICAgIH0gZWxzZSBpZiAoY3VybGVuICE9PSAwKSB7XG5cbiAgICAgIGlmIChjdXJsZW4gIT09IHByZXZsZW4pIHsgcy5ibF90cmVlW2N1cmxlbiAqIDJdLyouRnJlcSovKys7IH1cbiAgICAgIHMuYmxfdHJlZVtSRVBfM182ICogMl0vKi5GcmVxKi8rKztcblxuICAgIH0gZWxzZSBpZiAoY291bnQgPD0gMTApIHtcbiAgICAgIHMuYmxfdHJlZVtSRVBaXzNfMTAgKiAyXS8qLkZyZXEqLysrO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHMuYmxfdHJlZVtSRVBaXzExXzEzOCAqIDJdLyouRnJlcSovKys7XG4gICAgfVxuXG4gICAgY291bnQgPSAwO1xuICAgIHByZXZsZW4gPSBjdXJsZW47XG5cbiAgICBpZiAobmV4dGxlbiA9PT0gMCkge1xuICAgICAgbWF4X2NvdW50ID0gMTM4O1xuICAgICAgbWluX2NvdW50ID0gMztcblxuICAgIH0gZWxzZSBpZiAoY3VybGVuID09PSBuZXh0bGVuKSB7XG4gICAgICBtYXhfY291bnQgPSA2O1xuICAgICAgbWluX2NvdW50ID0gMztcblxuICAgIH0gZWxzZSB7XG4gICAgICBtYXhfY291bnQgPSA3O1xuICAgICAgbWluX2NvdW50ID0gNDtcbiAgICB9XG4gIH1cbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTZW5kIGEgbGl0ZXJhbCBvciBkaXN0YW5jZSB0cmVlIGluIGNvbXByZXNzZWQgZm9ybSwgdXNpbmcgdGhlIGNvZGVzIGluXG4gKiBibF90cmVlLlxuICovXG5jb25zdCBzZW5kX3RyZWUgPSAocywgdHJlZSwgbWF4X2NvZGUpID0+IHtcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICBjdF9kYXRhICp0cmVlOyAvKiB0aGUgdHJlZSB0byBiZSBzY2FubmVkICovXG4vLyAgICBpbnQgbWF4X2NvZGU7ICAgICAgIC8qIGFuZCBpdHMgbGFyZ2VzdCBjb2RlIG9mIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xuXG4gIGxldCBuOyAgICAgICAgICAgICAgICAgICAgIC8qIGl0ZXJhdGVzIG92ZXIgYWxsIHRyZWUgZWxlbWVudHMgKi9cbiAgbGV0IHByZXZsZW4gPSAtMTsgICAgICAgICAgLyogbGFzdCBlbWl0dGVkIGxlbmd0aCAqL1xuICBsZXQgY3VybGVuOyAgICAgICAgICAgICAgICAvKiBsZW5ndGggb2YgY3VycmVudCBjb2RlICovXG5cbiAgbGV0IG5leHRsZW4gPSB0cmVlWzAgKiAyICsgMV0vKi5MZW4qLzsgLyogbGVuZ3RoIG9mIG5leHQgY29kZSAqL1xuXG4gIGxldCBjb3VudCA9IDA7ICAgICAgICAgICAgIC8qIHJlcGVhdCBjb3VudCBvZiB0aGUgY3VycmVudCBjb2RlICovXG4gIGxldCBtYXhfY291bnQgPSA3OyAgICAgICAgIC8qIG1heCByZXBlYXQgY291bnQgKi9cbiAgbGV0IG1pbl9jb3VudCA9IDQ7ICAgICAgICAgLyogbWluIHJlcGVhdCBjb3VudCAqL1xuXG4gIC8qIHRyZWVbbWF4X2NvZGUrMV0uTGVuID0gLTE7ICovICAvKiBndWFyZCBhbHJlYWR5IHNldCAqL1xuICBpZiAobmV4dGxlbiA9PT0gMCkge1xuICAgIG1heF9jb3VudCA9IDEzODtcbiAgICBtaW5fY291bnQgPSAzO1xuICB9XG5cbiAgZm9yIChuID0gMDsgbiA8PSBtYXhfY29kZTsgbisrKSB7XG4gICAgY3VybGVuID0gbmV4dGxlbjtcbiAgICBuZXh0bGVuID0gdHJlZVsobiArIDEpICogMiArIDFdLyouTGVuKi87XG5cbiAgICBpZiAoKytjb3VudCA8IG1heF9jb3VudCAmJiBjdXJsZW4gPT09IG5leHRsZW4pIHtcbiAgICAgIGNvbnRpbnVlO1xuXG4gICAgfSBlbHNlIGlmIChjb3VudCA8IG1pbl9jb3VudCkge1xuICAgICAgZG8geyBzZW5kX2NvZGUocywgY3VybGVuLCBzLmJsX3RyZWUpOyB9IHdoaWxlICgtLWNvdW50ICE9PSAwKTtcblxuICAgIH0gZWxzZSBpZiAoY3VybGVuICE9PSAwKSB7XG4gICAgICBpZiAoY3VybGVuICE9PSBwcmV2bGVuKSB7XG4gICAgICAgIHNlbmRfY29kZShzLCBjdXJsZW4sIHMuYmxfdHJlZSk7XG4gICAgICAgIGNvdW50LS07XG4gICAgICB9XG4gICAgICAvL0Fzc2VydChjb3VudCA+PSAzICYmIGNvdW50IDw9IDYsIFwiIDNfNj9cIik7XG4gICAgICBzZW5kX2NvZGUocywgUkVQXzNfNiwgcy5ibF90cmVlKTtcbiAgICAgIHNlbmRfYml0cyhzLCBjb3VudCAtIDMsIDIpO1xuXG4gICAgfSBlbHNlIGlmIChjb3VudCA8PSAxMCkge1xuICAgICAgc2VuZF9jb2RlKHMsIFJFUFpfM18xMCwgcy5ibF90cmVlKTtcbiAgICAgIHNlbmRfYml0cyhzLCBjb3VudCAtIDMsIDMpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbmRfY29kZShzLCBSRVBaXzExXzEzOCwgcy5ibF90cmVlKTtcbiAgICAgIHNlbmRfYml0cyhzLCBjb3VudCAtIDExLCA3KTtcbiAgICB9XG5cbiAgICBjb3VudCA9IDA7XG4gICAgcHJldmxlbiA9IGN1cmxlbjtcbiAgICBpZiAobmV4dGxlbiA9PT0gMCkge1xuICAgICAgbWF4X2NvdW50ID0gMTM4O1xuICAgICAgbWluX2NvdW50ID0gMztcblxuICAgIH0gZWxzZSBpZiAoY3VybGVuID09PSBuZXh0bGVuKSB7XG4gICAgICBtYXhfY291bnQgPSA2O1xuICAgICAgbWluX2NvdW50ID0gMztcblxuICAgIH0gZWxzZSB7XG4gICAgICBtYXhfY291bnQgPSA3O1xuICAgICAgbWluX2NvdW50ID0gNDtcbiAgICB9XG4gIH1cbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb25zdHJ1Y3QgdGhlIEh1ZmZtYW4gdHJlZSBmb3IgdGhlIGJpdCBsZW5ndGhzIGFuZCByZXR1cm4gdGhlIGluZGV4IGluXG4gKiBibF9vcmRlciBvZiB0aGUgbGFzdCBiaXQgbGVuZ3RoIGNvZGUgdG8gc2VuZC5cbiAqL1xuY29uc3QgYnVpbGRfYmxfdHJlZSA9IChzKSA9PiB7XG5cbiAgbGV0IG1heF9ibGluZGV4OyAgLyogaW5kZXggb2YgbGFzdCBiaXQgbGVuZ3RoIGNvZGUgb2Ygbm9uIHplcm8gZnJlcSAqL1xuXG4gIC8qIERldGVybWluZSB0aGUgYml0IGxlbmd0aCBmcmVxdWVuY2llcyBmb3IgbGl0ZXJhbCBhbmQgZGlzdGFuY2UgdHJlZXMgKi9cbiAgc2Nhbl90cmVlKHMsIHMuZHluX2x0cmVlLCBzLmxfZGVzYy5tYXhfY29kZSk7XG4gIHNjYW5fdHJlZShzLCBzLmR5bl9kdHJlZSwgcy5kX2Rlc2MubWF4X2NvZGUpO1xuXG4gIC8qIEJ1aWxkIHRoZSBiaXQgbGVuZ3RoIHRyZWU6ICovXG4gIGJ1aWxkX3RyZWUocywgcy5ibF9kZXNjKTtcbiAgLyogb3B0X2xlbiBub3cgaW5jbHVkZXMgdGhlIGxlbmd0aCBvZiB0aGUgdHJlZSByZXByZXNlbnRhdGlvbnMsIGV4Y2VwdFxuICAgKiB0aGUgbGVuZ3RocyBvZiB0aGUgYml0IGxlbmd0aHMgY29kZXMgYW5kIHRoZSA1KzUrNCBiaXRzIGZvciB0aGUgY291bnRzLlxuICAgKi9cblxuICAvKiBEZXRlcm1pbmUgdGhlIG51bWJlciBvZiBiaXQgbGVuZ3RoIGNvZGVzIHRvIHNlbmQuIFRoZSBwa3ppcCBmb3JtYXRcbiAgICogcmVxdWlyZXMgdGhhdCBhdCBsZWFzdCA0IGJpdCBsZW5ndGggY29kZXMgYmUgc2VudC4gKGFwcG5vdGUudHh0IHNheXNcbiAgICogMyBidXQgdGhlIGFjdHVhbCB2YWx1ZSB1c2VkIGlzIDQuKVxuICAgKi9cbiAgZm9yIChtYXhfYmxpbmRleCA9IEJMX0NPREVTJDEgLSAxOyBtYXhfYmxpbmRleCA+PSAzOyBtYXhfYmxpbmRleC0tKSB7XG4gICAgaWYgKHMuYmxfdHJlZVtibF9vcmRlclttYXhfYmxpbmRleF0gKiAyICsgMV0vKi5MZW4qLyAhPT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8qIFVwZGF0ZSBvcHRfbGVuIHRvIGluY2x1ZGUgdGhlIGJpdCBsZW5ndGggdHJlZSBhbmQgY291bnRzICovXG4gIHMub3B0X2xlbiArPSAzICogKG1heF9ibGluZGV4ICsgMSkgKyA1ICsgNSArIDQ7XG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxuZHluIHRyZWVzOiBkeW4gJWxkLCBzdGF0ICVsZFwiLFxuICAvLyAgICAgICAgcy0+b3B0X2xlbiwgcy0+c3RhdGljX2xlbikpO1xuXG4gIHJldHVybiBtYXhfYmxpbmRleDtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTZW5kIHRoZSBoZWFkZXIgZm9yIGEgYmxvY2sgdXNpbmcgZHluYW1pYyBIdWZmbWFuIHRyZWVzOiB0aGUgY291bnRzLCB0aGVcbiAqIGxlbmd0aHMgb2YgdGhlIGJpdCBsZW5ndGggY29kZXMsIHRoZSBsaXRlcmFsIHRyZWUgYW5kIHRoZSBkaXN0YW5jZSB0cmVlLlxuICogSU4gYXNzZXJ0aW9uOiBsY29kZXMgPj0gMjU3LCBkY29kZXMgPj0gMSwgYmxjb2RlcyA+PSA0LlxuICovXG5jb25zdCBzZW5kX2FsbF90cmVlcyA9IChzLCBsY29kZXMsIGRjb2RlcywgYmxjb2RlcykgPT4ge1xuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIGludCBsY29kZXMsIGRjb2RlcywgYmxjb2RlczsgLyogbnVtYmVyIG9mIGNvZGVzIGZvciBlYWNoIHRyZWUgKi9cblxuICBsZXQgcmFuazsgICAgICAgICAgICAgICAgICAgIC8qIGluZGV4IGluIGJsX29yZGVyICovXG5cbiAgLy9Bc3NlcnQgKGxjb2RlcyA+PSAyNTcgJiYgZGNvZGVzID49IDEgJiYgYmxjb2RlcyA+PSA0LCBcIm5vdCBlbm91Z2ggY29kZXNcIik7XG4gIC8vQXNzZXJ0IChsY29kZXMgPD0gTF9DT0RFUyAmJiBkY29kZXMgPD0gRF9DT0RFUyAmJiBibGNvZGVzIDw9IEJMX0NPREVTLFxuICAvLyAgICAgICAgXCJ0b28gbWFueSBjb2Rlc1wiKTtcbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJcXG5ibCBjb3VudHM6IFwiKSk7XG4gIHNlbmRfYml0cyhzLCBsY29kZXMgLSAyNTcsIDUpOyAvKiBub3QgKzI1NSBhcyBzdGF0ZWQgaW4gYXBwbm90ZS50eHQgKi9cbiAgc2VuZF9iaXRzKHMsIGRjb2RlcyAtIDEsICAgNSk7XG4gIHNlbmRfYml0cyhzLCBibGNvZGVzIC0gNCwgIDQpOyAvKiBub3QgLTMgYXMgc3RhdGVkIGluIGFwcG5vdGUudHh0ICovXG4gIGZvciAocmFuayA9IDA7IHJhbmsgPCBibGNvZGVzOyByYW5rKyspIHtcbiAgICAvL1RyYWNldigoc3RkZXJyLCBcIlxcbmJsIGNvZGUgJTJkIFwiLCBibF9vcmRlcltyYW5rXSkpO1xuICAgIHNlbmRfYml0cyhzLCBzLmJsX3RyZWVbYmxfb3JkZXJbcmFua10gKiAyICsgMV0vKi5MZW4qLywgMyk7XG4gIH1cbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJcXG5ibCB0cmVlOiBzZW50ICVsZFwiLCBzLT5iaXRzX3NlbnQpKTtcblxuICBzZW5kX3RyZWUocywgcy5keW5fbHRyZWUsIGxjb2RlcyAtIDEpOyAvKiBsaXRlcmFsIHRyZWUgKi9cbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJcXG5saXQgdHJlZTogc2VudCAlbGRcIiwgcy0+Yml0c19zZW50KSk7XG5cbiAgc2VuZF90cmVlKHMsIHMuZHluX2R0cmVlLCBkY29kZXMgLSAxKTsgLyogZGlzdGFuY2UgdHJlZSAqL1xuICAvL1RyYWNldigoc3RkZXJyLCBcIlxcbmRpc3QgdHJlZTogc2VudCAlbGRcIiwgcy0+Yml0c19zZW50KSk7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ2hlY2sgaWYgdGhlIGRhdGEgdHlwZSBpcyBURVhUIG9yIEJJTkFSWSwgdXNpbmcgdGhlIGZvbGxvd2luZyBhbGdvcml0aG06XG4gKiAtIFRFWFQgaWYgdGhlIHR3byBjb25kaXRpb25zIGJlbG93IGFyZSBzYXRpc2ZpZWQ6XG4gKiAgICBhKSBUaGVyZSBhcmUgbm8gbm9uLXBvcnRhYmxlIGNvbnRyb2wgY2hhcmFjdGVycyBiZWxvbmdpbmcgdG8gdGhlXG4gKiAgICAgICBcImJsb2NrIGxpc3RcIiAoMC4uNiwgMTQuLjI1LCAyOC4uMzEpLlxuICogICAgYikgVGhlcmUgaXMgYXQgbGVhc3Qgb25lIHByaW50YWJsZSBjaGFyYWN0ZXIgYmVsb25naW5nIHRvIHRoZVxuICogICAgICAgXCJhbGxvdyBsaXN0XCIgKDkge1RBQn0sIDEwIHtMRn0sIDEzIHtDUn0sIDMyLi4yNTUpLlxuICogLSBCSU5BUlkgb3RoZXJ3aXNlLlxuICogLSBUaGUgZm9sbG93aW5nIHBhcnRpYWxseS1wb3J0YWJsZSBjb250cm9sIGNoYXJhY3RlcnMgZm9ybSBhXG4gKiAgIFwiZ3JheSBsaXN0XCIgdGhhdCBpcyBpZ25vcmVkIGluIHRoaXMgZGV0ZWN0aW9uIGFsZ29yaXRobTpcbiAqICAgKDcge0JFTH0sIDgge0JTfSwgMTEge1ZUfSwgMTIge0ZGfSwgMjYge1NVQn0sIDI3IHtFU0N9KS5cbiAqIElOIGFzc2VydGlvbjogdGhlIGZpZWxkcyBGcmVxIG9mIGR5bl9sdHJlZSBhcmUgc2V0LlxuICovXG5jb25zdCBkZXRlY3RfZGF0YV90eXBlID0gKHMpID0+IHtcbiAgLyogYmxvY2tfbWFzayBpcyB0aGUgYml0IG1hc2sgb2YgYmxvY2stbGlzdGVkIGJ5dGVzXG4gICAqIHNldCBiaXRzIDAuLjYsIDE0Li4yNSwgYW5kIDI4Li4zMVxuICAgKiAweGYzZmZjMDdmID0gYmluYXJ5IDExMTEwMDExMTExMTExMTExMTAwMDAwMDAxMTExMTExXG4gICAqL1xuICBsZXQgYmxvY2tfbWFzayA9IDB4ZjNmZmMwN2Y7XG4gIGxldCBuO1xuXG4gIC8qIENoZWNrIGZvciBub24tdGV4dHVhbCAoXCJibG9jay1saXN0ZWRcIikgYnl0ZXMuICovXG4gIGZvciAobiA9IDA7IG4gPD0gMzE7IG4rKywgYmxvY2tfbWFzayA+Pj49IDEpIHtcbiAgICBpZiAoKGJsb2NrX21hc2sgJiAxKSAmJiAocy5keW5fbHRyZWVbbiAqIDJdLyouRnJlcSovICE9PSAwKSkge1xuICAgICAgcmV0dXJuIFpfQklOQVJZO1xuICAgIH1cbiAgfVxuXG4gIC8qIENoZWNrIGZvciB0ZXh0dWFsIChcImFsbG93LWxpc3RlZFwiKSBieXRlcy4gKi9cbiAgaWYgKHMuZHluX2x0cmVlWzkgKiAyXS8qLkZyZXEqLyAhPT0gMCB8fCBzLmR5bl9sdHJlZVsxMCAqIDJdLyouRnJlcSovICE9PSAwIHx8XG4gICAgICBzLmR5bl9sdHJlZVsxMyAqIDJdLyouRnJlcSovICE9PSAwKSB7XG4gICAgcmV0dXJuIFpfVEVYVDtcbiAgfVxuICBmb3IgKG4gPSAzMjsgbiA8IExJVEVSQUxTJDE7IG4rKykge1xuICAgIGlmIChzLmR5bl9sdHJlZVtuICogMl0vKi5GcmVxKi8gIT09IDApIHtcbiAgICAgIHJldHVybiBaX1RFWFQ7XG4gICAgfVxuICB9XG5cbiAgLyogVGhlcmUgYXJlIG5vIFwiYmxvY2stbGlzdGVkXCIgb3IgXCJhbGxvdy1saXN0ZWRcIiBieXRlczpcbiAgICogdGhpcyBzdHJlYW0gZWl0aGVyIGlzIGVtcHR5IG9yIGhhcyB0b2xlcmF0ZWQgKFwiZ3JheS1saXN0ZWRcIikgYnl0ZXMgb25seS5cbiAgICovXG4gIHJldHVybiBaX0JJTkFSWTtcbn07XG5cblxubGV0IHN0YXRpY19pbml0X2RvbmUgPSBmYWxzZTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbml0aWFsaXplIHRoZSB0cmVlIGRhdGEgc3RydWN0dXJlcyBmb3IgYSBuZXcgemxpYiBzdHJlYW0uXG4gKi9cbmNvbnN0IF90cl9pbml0JDEgPSAocykgPT5cbntcblxuICBpZiAoIXN0YXRpY19pbml0X2RvbmUpIHtcbiAgICB0cl9zdGF0aWNfaW5pdCgpO1xuICAgIHN0YXRpY19pbml0X2RvbmUgPSB0cnVlO1xuICB9XG5cbiAgcy5sX2Rlc2MgID0gbmV3IFRyZWVEZXNjKHMuZHluX2x0cmVlLCBzdGF0aWNfbF9kZXNjKTtcbiAgcy5kX2Rlc2MgID0gbmV3IFRyZWVEZXNjKHMuZHluX2R0cmVlLCBzdGF0aWNfZF9kZXNjKTtcbiAgcy5ibF9kZXNjID0gbmV3IFRyZWVEZXNjKHMuYmxfdHJlZSwgc3RhdGljX2JsX2Rlc2MpO1xuXG4gIHMuYmlfYnVmID0gMDtcbiAgcy5iaV92YWxpZCA9IDA7XG5cbiAgLyogSW5pdGlhbGl6ZSB0aGUgZmlyc3QgYmxvY2sgb2YgdGhlIGZpcnN0IGZpbGU6ICovXG4gIGluaXRfYmxvY2socyk7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2VuZCBhIHN0b3JlZCBibG9ja1xuICovXG5jb25zdCBfdHJfc3RvcmVkX2Jsb2NrJDEgPSAocywgYnVmLCBzdG9yZWRfbGVuLCBsYXN0KSA9PiB7XG4vL0RlZmxhdGVTdGF0ZSAqcztcbi8vY2hhcmYgKmJ1ZjsgICAgICAgLyogaW5wdXQgYmxvY2sgKi9cbi8vdWxnIHN0b3JlZF9sZW47ICAgLyogbGVuZ3RoIG9mIGlucHV0IGJsb2NrICovXG4vL2ludCBsYXN0OyAgICAgICAgIC8qIG9uZSBpZiB0aGlzIGlzIHRoZSBsYXN0IGJsb2NrIGZvciBhIGZpbGUgKi9cblxuICBzZW5kX2JpdHMocywgKFNUT1JFRF9CTE9DSyA8PCAxKSArIChsYXN0ID8gMSA6IDApLCAzKTsgICAgLyogc2VuZCBibG9jayB0eXBlICovXG4gIGJpX3dpbmR1cChzKTsgICAgICAgIC8qIGFsaWduIG9uIGJ5dGUgYm91bmRhcnkgKi9cbiAgcHV0X3Nob3J0KHMsIHN0b3JlZF9sZW4pO1xuICBwdXRfc2hvcnQocywgfnN0b3JlZF9sZW4pO1xuICBpZiAoc3RvcmVkX2xlbikge1xuICAgIHMucGVuZGluZ19idWYuc2V0KHMud2luZG93LnN1YmFycmF5KGJ1ZiwgYnVmICsgc3RvcmVkX2xlbiksIHMucGVuZGluZyk7XG4gIH1cbiAgcy5wZW5kaW5nICs9IHN0b3JlZF9sZW47XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2VuZCBvbmUgZW1wdHkgc3RhdGljIGJsb2NrIHRvIGdpdmUgZW5vdWdoIGxvb2thaGVhZCBmb3IgaW5mbGF0ZS5cbiAqIFRoaXMgdGFrZXMgMTAgYml0cywgb2Ygd2hpY2ggNyBtYXkgcmVtYWluIGluIHRoZSBiaXQgYnVmZmVyLlxuICovXG5jb25zdCBfdHJfYWxpZ24kMSA9IChzKSA9PiB7XG4gIHNlbmRfYml0cyhzLCBTVEFUSUNfVFJFRVMgPDwgMSwgMyk7XG4gIHNlbmRfY29kZShzLCBFTkRfQkxPQ0ssIHN0YXRpY19sdHJlZSk7XG4gIGJpX2ZsdXNoKHMpO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIERldGVybWluZSB0aGUgYmVzdCBlbmNvZGluZyBmb3IgdGhlIGN1cnJlbnQgYmxvY2s6IGR5bmFtaWMgdHJlZXMsIHN0YXRpY1xuICogdHJlZXMgb3Igc3RvcmUsIGFuZCB3cml0ZSBvdXQgdGhlIGVuY29kZWQgYmxvY2suXG4gKi9cbmNvbnN0IF90cl9mbHVzaF9ibG9jayQxID0gKHMsIGJ1Ziwgc3RvcmVkX2xlbiwgbGFzdCkgPT4ge1xuLy9EZWZsYXRlU3RhdGUgKnM7XG4vL2NoYXJmICpidWY7ICAgICAgIC8qIGlucHV0IGJsb2NrLCBvciBOVUxMIGlmIHRvbyBvbGQgKi9cbi8vdWxnIHN0b3JlZF9sZW47ICAgLyogbGVuZ3RoIG9mIGlucHV0IGJsb2NrICovXG4vL2ludCBsYXN0OyAgICAgICAgIC8qIG9uZSBpZiB0aGlzIGlzIHRoZSBsYXN0IGJsb2NrIGZvciBhIGZpbGUgKi9cblxuICBsZXQgb3B0X2xlbmIsIHN0YXRpY19sZW5iOyAgLyogb3B0X2xlbiBhbmQgc3RhdGljX2xlbiBpbiBieXRlcyAqL1xuICBsZXQgbWF4X2JsaW5kZXggPSAwOyAgICAgICAgLyogaW5kZXggb2YgbGFzdCBiaXQgbGVuZ3RoIGNvZGUgb2Ygbm9uIHplcm8gZnJlcSAqL1xuXG4gIC8qIEJ1aWxkIHRoZSBIdWZmbWFuIHRyZWVzIHVubGVzcyBhIHN0b3JlZCBibG9jayBpcyBmb3JjZWQgKi9cbiAgaWYgKHMubGV2ZWwgPiAwKSB7XG5cbiAgICAvKiBDaGVjayBpZiB0aGUgZmlsZSBpcyBiaW5hcnkgb3IgdGV4dCAqL1xuICAgIGlmIChzLnN0cm0uZGF0YV90eXBlID09PSBaX1VOS05PV04kMSkge1xuICAgICAgcy5zdHJtLmRhdGFfdHlwZSA9IGRldGVjdF9kYXRhX3R5cGUocyk7XG4gICAgfVxuXG4gICAgLyogQ29uc3RydWN0IHRoZSBsaXRlcmFsIGFuZCBkaXN0YW5jZSB0cmVlcyAqL1xuICAgIGJ1aWxkX3RyZWUocywgcy5sX2Rlc2MpO1xuICAgIC8vIFRyYWNldigoc3RkZXJyLCBcIlxcbmxpdCBkYXRhOiBkeW4gJWxkLCBzdGF0ICVsZFwiLCBzLT5vcHRfbGVuLFxuICAgIC8vICAgICAgICBzLT5zdGF0aWNfbGVuKSk7XG5cbiAgICBidWlsZF90cmVlKHMsIHMuZF9kZXNjKTtcbiAgICAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5kaXN0IGRhdGE6IGR5biAlbGQsIHN0YXQgJWxkXCIsIHMtPm9wdF9sZW4sXG4gICAgLy8gICAgICAgIHMtPnN0YXRpY19sZW4pKTtcbiAgICAvKiBBdCB0aGlzIHBvaW50LCBvcHRfbGVuIGFuZCBzdGF0aWNfbGVuIGFyZSB0aGUgdG90YWwgYml0IGxlbmd0aHMgb2ZcbiAgICAgKiB0aGUgY29tcHJlc3NlZCBibG9jayBkYXRhLCBleGNsdWRpbmcgdGhlIHRyZWUgcmVwcmVzZW50YXRpb25zLlxuICAgICAqL1xuXG4gICAgLyogQnVpbGQgdGhlIGJpdCBsZW5ndGggdHJlZSBmb3IgdGhlIGFib3ZlIHR3byB0cmVlcywgYW5kIGdldCB0aGUgaW5kZXhcbiAgICAgKiBpbiBibF9vcmRlciBvZiB0aGUgbGFzdCBiaXQgbGVuZ3RoIGNvZGUgdG8gc2VuZC5cbiAgICAgKi9cbiAgICBtYXhfYmxpbmRleCA9IGJ1aWxkX2JsX3RyZWUocyk7XG5cbiAgICAvKiBEZXRlcm1pbmUgdGhlIGJlc3QgZW5jb2RpbmcuIENvbXB1dGUgdGhlIGJsb2NrIGxlbmd0aHMgaW4gYnl0ZXMuICovXG4gICAgb3B0X2xlbmIgPSAocy5vcHRfbGVuICsgMyArIDcpID4+PiAzO1xuICAgIHN0YXRpY19sZW5iID0gKHMuc3RhdGljX2xlbiArIDMgKyA3KSA+Pj4gMztcblxuICAgIC8vIFRyYWNldigoc3RkZXJyLCBcIlxcbm9wdCAlbHUoJWx1KSBzdGF0ICVsdSglbHUpIHN0b3JlZCAlbHUgbGl0ICV1IFwiLFxuICAgIC8vICAgICAgICBvcHRfbGVuYiwgcy0+b3B0X2xlbiwgc3RhdGljX2xlbmIsIHMtPnN0YXRpY19sZW4sIHN0b3JlZF9sZW4sXG4gICAgLy8gICAgICAgIHMtPnN5bV9uZXh0IC8gMykpO1xuXG4gICAgaWYgKHN0YXRpY19sZW5iIDw9IG9wdF9sZW5iKSB7IG9wdF9sZW5iID0gc3RhdGljX2xlbmI7IH1cblxuICB9IGVsc2Uge1xuICAgIC8vIEFzc2VydChidWYgIT0gKGNoYXIqKTAsIFwibG9zdCBidWZcIik7XG4gICAgb3B0X2xlbmIgPSBzdGF0aWNfbGVuYiA9IHN0b3JlZF9sZW4gKyA1OyAvKiBmb3JjZSBhIHN0b3JlZCBibG9jayAqL1xuICB9XG5cbiAgaWYgKChzdG9yZWRfbGVuICsgNCA8PSBvcHRfbGVuYikgJiYgKGJ1ZiAhPT0gLTEpKSB7XG4gICAgLyogNDogdHdvIHdvcmRzIGZvciB0aGUgbGVuZ3RocyAqL1xuXG4gICAgLyogVGhlIHRlc3QgYnVmICE9IE5VTEwgaXMgb25seSBuZWNlc3NhcnkgaWYgTElUX0JVRlNJWkUgPiBXU0laRS5cbiAgICAgKiBPdGhlcndpc2Ugd2UgY2FuJ3QgaGF2ZSBwcm9jZXNzZWQgbW9yZSB0aGFuIFdTSVpFIGlucHV0IGJ5dGVzIHNpbmNlXG4gICAgICogdGhlIGxhc3QgYmxvY2sgZmx1c2gsIGJlY2F1c2UgY29tcHJlc3Npb24gd291bGQgaGF2ZSBiZWVuXG4gICAgICogc3VjY2Vzc2Z1bC4gSWYgTElUX0JVRlNJWkUgPD0gV1NJWkUsIGl0IGlzIG5ldmVyIHRvbyBsYXRlIHRvXG4gICAgICogdHJhbnNmb3JtIGEgYmxvY2sgaW50byBhIHN0b3JlZCBibG9jay5cbiAgICAgKi9cbiAgICBfdHJfc3RvcmVkX2Jsb2NrJDEocywgYnVmLCBzdG9yZWRfbGVuLCBsYXN0KTtcblxuICB9IGVsc2UgaWYgKHMuc3RyYXRlZ3kgPT09IFpfRklYRUQkMSB8fCBzdGF0aWNfbGVuYiA9PT0gb3B0X2xlbmIpIHtcblxuICAgIHNlbmRfYml0cyhzLCAoU1RBVElDX1RSRUVTIDw8IDEpICsgKGxhc3QgPyAxIDogMCksIDMpO1xuICAgIGNvbXByZXNzX2Jsb2NrKHMsIHN0YXRpY19sdHJlZSwgc3RhdGljX2R0cmVlKTtcblxuICB9IGVsc2Uge1xuICAgIHNlbmRfYml0cyhzLCAoRFlOX1RSRUVTIDw8IDEpICsgKGxhc3QgPyAxIDogMCksIDMpO1xuICAgIHNlbmRfYWxsX3RyZWVzKHMsIHMubF9kZXNjLm1heF9jb2RlICsgMSwgcy5kX2Rlc2MubWF4X2NvZGUgKyAxLCBtYXhfYmxpbmRleCArIDEpO1xuICAgIGNvbXByZXNzX2Jsb2NrKHMsIHMuZHluX2x0cmVlLCBzLmR5bl9kdHJlZSk7XG4gIH1cbiAgLy8gQXNzZXJ0IChzLT5jb21wcmVzc2VkX2xlbiA9PSBzLT5iaXRzX3NlbnQsIFwiYmFkIGNvbXByZXNzZWQgc2l6ZVwiKTtcbiAgLyogVGhlIGFib3ZlIGNoZWNrIGlzIG1hZGUgbW9kIDJeMzIsIGZvciBmaWxlcyBsYXJnZXIgdGhhbiA1MTIgTUJcbiAgICogYW5kIHVMb25nIGltcGxlbWVudGVkIG9uIDMyIGJpdHMuXG4gICAqL1xuICBpbml0X2Jsb2NrKHMpO1xuXG4gIGlmIChsYXN0KSB7XG4gICAgYmlfd2luZHVwKHMpO1xuICB9XG4gIC8vIFRyYWNldigoc3RkZXJyLFwiXFxuY29tcHJsZW4gJWx1KCVsdSkgXCIsIHMtPmNvbXByZXNzZWRfbGVuPj4zLFxuICAvLyAgICAgICBzLT5jb21wcmVzc2VkX2xlbi03Kmxhc3QpKTtcbn07XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2F2ZSB0aGUgbWF0Y2ggaW5mbyBhbmQgdGFsbHkgdGhlIGZyZXF1ZW5jeSBjb3VudHMuIFJldHVybiB0cnVlIGlmXG4gKiB0aGUgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQuXG4gKi9cbmNvbnN0IF90cl90YWxseSQxID0gKHMsIGRpc3QsIGxjKSA9PiB7XG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgdW5zaWduZWQgZGlzdDsgIC8qIGRpc3RhbmNlIG9mIG1hdGNoZWQgc3RyaW5nICovXG4vLyAgICB1bnNpZ25lZCBsYzsgICAgLyogbWF0Y2ggbGVuZ3RoLU1JTl9NQVRDSCBvciB1bm1hdGNoZWQgY2hhciAoaWYgZGlzdD09MCkgKi9cblxuICBzLnBlbmRpbmdfYnVmW3Muc3ltX2J1ZiArIHMuc3ltX25leHQrK10gPSBkaXN0O1xuICBzLnBlbmRpbmdfYnVmW3Muc3ltX2J1ZiArIHMuc3ltX25leHQrK10gPSBkaXN0ID4+IDg7XG4gIHMucGVuZGluZ19idWZbcy5zeW1fYnVmICsgcy5zeW1fbmV4dCsrXSA9IGxjO1xuICBpZiAoZGlzdCA9PT0gMCkge1xuICAgIC8qIGxjIGlzIHRoZSB1bm1hdGNoZWQgY2hhciAqL1xuICAgIHMuZHluX2x0cmVlW2xjICogMl0vKi5GcmVxKi8rKztcbiAgfSBlbHNlIHtcbiAgICBzLm1hdGNoZXMrKztcbiAgICAvKiBIZXJlLCBsYyBpcyB0aGUgbWF0Y2ggbGVuZ3RoIC0gTUlOX01BVENIICovXG4gICAgZGlzdC0tOyAgICAgICAgICAgICAvKiBkaXN0ID0gbWF0Y2ggZGlzdGFuY2UgLSAxICovXG4gICAgLy9Bc3NlcnQoKHVzaClkaXN0IDwgKHVzaClNQVhfRElTVChzKSAmJlxuICAgIC8vICAgICAgICh1c2gpbGMgPD0gKHVzaCkoTUFYX01BVENILU1JTl9NQVRDSCkgJiZcbiAgICAvLyAgICAgICAodXNoKWRfY29kZShkaXN0KSA8ICh1c2gpRF9DT0RFUywgIFwiX3RyX3RhbGx5OiBiYWQgbWF0Y2hcIik7XG5cbiAgICBzLmR5bl9sdHJlZVsoX2xlbmd0aF9jb2RlW2xjXSArIExJVEVSQUxTJDEgKyAxKSAqIDJdLyouRnJlcSovKys7XG4gICAgcy5keW5fZHRyZWVbZF9jb2RlKGRpc3QpICogMl0vKi5GcmVxKi8rKztcbiAgfVxuXG4gIHJldHVybiAocy5zeW1fbmV4dCA9PT0gcy5zeW1fZW5kKTtcbn07XG5cbnZhciBfdHJfaW5pdF8xICA9IF90cl9pbml0JDE7XG52YXIgX3RyX3N0b3JlZF9ibG9ja18xID0gX3RyX3N0b3JlZF9ibG9jayQxO1xudmFyIF90cl9mbHVzaF9ibG9ja18xICA9IF90cl9mbHVzaF9ibG9jayQxO1xudmFyIF90cl90YWxseV8xID0gX3RyX3RhbGx5JDE7XG52YXIgX3RyX2FsaWduXzEgPSBfdHJfYWxpZ24kMTtcblxudmFyIHRyZWVzID0ge1xuXHRfdHJfaW5pdDogX3RyX2luaXRfMSxcblx0X3RyX3N0b3JlZF9ibG9jazogX3RyX3N0b3JlZF9ibG9ja18xLFxuXHRfdHJfZmx1c2hfYmxvY2s6IF90cl9mbHVzaF9ibG9ja18xLFxuXHRfdHJfdGFsbHk6IF90cl90YWxseV8xLFxuXHRfdHJfYWxpZ246IF90cl9hbGlnbl8xXG59O1xuXG4vLyBOb3RlOiBhZGxlcjMyIHRha2VzIDEyJSBmb3IgbGV2ZWwgMCBhbmQgMiUgZm9yIGxldmVsIDYuXG4vLyBJdCBpc24ndCB3b3J0aCBpdCB0byBtYWtlIGFkZGl0aW9uYWwgb3B0aW1pemF0aW9ucyBhcyBpbiBvcmlnaW5hbC5cbi8vIFNtYWxsIHNpemUgaXMgcHJlZmVyYWJsZS5cblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG5jb25zdCBhZGxlcjMyID0gKGFkbGVyLCBidWYsIGxlbiwgcG9zKSA9PiB7XG4gIGxldCBzMSA9IChhZGxlciAmIDB4ZmZmZikgfDAsXG4gICAgICBzMiA9ICgoYWRsZXIgPj4+IDE2KSAmIDB4ZmZmZikgfDAsXG4gICAgICBuID0gMDtcblxuICB3aGlsZSAobGVuICE9PSAwKSB7XG4gICAgLy8gU2V0IGxpbWl0IH4gdHdpY2UgbGVzcyB0aGFuIDU1NTIsIHRvIGtlZXBcbiAgICAvLyBzMiBpbiAzMS1iaXRzLCBiZWNhdXNlIHdlIGZvcmNlIHNpZ25lZCBpbnRzLlxuICAgIC8vIGluIG90aGVyIGNhc2UgJT0gd2lsbCBmYWlsLlxuICAgIG4gPSBsZW4gPiAyMDAwID8gMjAwMCA6IGxlbjtcbiAgICBsZW4gLT0gbjtcblxuICAgIGRvIHtcbiAgICAgIHMxID0gKHMxICsgYnVmW3BvcysrXSkgfDA7XG4gICAgICBzMiA9IChzMiArIHMxKSB8MDtcbiAgICB9IHdoaWxlICgtLW4pO1xuXG4gICAgczEgJT0gNjU1MjE7XG4gICAgczIgJT0gNjU1MjE7XG4gIH1cblxuICByZXR1cm4gKHMxIHwgKHMyIDw8IDE2KSkgfDA7XG59O1xuXG5cbnZhciBhZGxlcjMyXzEgPSBhZGxlcjMyO1xuXG4vLyBOb3RlOiB3ZSBjYW4ndCBnZXQgc2lnbmlmaWNhbnQgc3BlZWQgYm9vc3QgaGVyZS5cbi8vIFNvIHdyaXRlIGNvZGUgdG8gbWluaW1pemUgc2l6ZSAtIG5vIHByZWdlbmVyYXRlZCB0YWJsZXNcbi8vIGFuZCBhcnJheSB0b29scyBkZXBlbmRlbmNpZXMuXG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxuLy8gVXNlIG9yZGluYXJ5IGFycmF5LCBzaW5jZSB1bnR5cGVkIG1ha2VzIG5vIGJvb3N0IGhlcmVcbmNvbnN0IG1ha2VUYWJsZSA9ICgpID0+IHtcbiAgbGV0IGMsIHRhYmxlID0gW107XG5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCAyNTY7IG4rKykge1xuICAgIGMgPSBuO1xuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgODsgaysrKSB7XG4gICAgICBjID0gKChjICYgMSkgPyAoMHhFREI4ODMyMCBeIChjID4+PiAxKSkgOiAoYyA+Pj4gMSkpO1xuICAgIH1cbiAgICB0YWJsZVtuXSA9IGM7XG4gIH1cblxuICByZXR1cm4gdGFibGU7XG59O1xuXG4vLyBDcmVhdGUgdGFibGUgb24gbG9hZC4gSnVzdCAyNTUgc2lnbmVkIGxvbmdzLiBOb3QgYSBwcm9ibGVtLlxuY29uc3QgY3JjVGFibGUgPSBuZXcgVWludDMyQXJyYXkobWFrZVRhYmxlKCkpO1xuXG5cbmNvbnN0IGNyYzMyID0gKGNyYywgYnVmLCBsZW4sIHBvcykgPT4ge1xuICBjb25zdCB0ID0gY3JjVGFibGU7XG4gIGNvbnN0IGVuZCA9IHBvcyArIGxlbjtcblxuICBjcmMgXj0gLTE7XG5cbiAgZm9yIChsZXQgaSA9IHBvczsgaSA8IGVuZDsgaSsrKSB7XG4gICAgY3JjID0gKGNyYyA+Pj4gOCkgXiB0WyhjcmMgXiBidWZbaV0pICYgMHhGRl07XG4gIH1cblxuICByZXR1cm4gKGNyYyBeICgtMSkpOyAvLyA+Pj4gMDtcbn07XG5cblxudmFyIGNyYzMyXzEgPSBjcmMzMjtcblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG52YXIgbWVzc2FnZXMgPSB7XG4gIDI6ICAgICAgJ25lZWQgZGljdGlvbmFyeScsICAgICAvKiBaX05FRURfRElDVCAgICAgICAyICAqL1xuICAxOiAgICAgICdzdHJlYW0gZW5kJywgICAgICAgICAgLyogWl9TVFJFQU1fRU5EICAgICAgMSAgKi9cbiAgMDogICAgICAnJywgICAgICAgICAgICAgICAgICAgIC8qIFpfT0sgICAgICAgICAgICAgIDAgICovXG4gICctMSc6ICAgJ2ZpbGUgZXJyb3InLCAgICAgICAgICAvKiBaX0VSUk5PICAgICAgICAgKC0xKSAqL1xuICAnLTInOiAgICdzdHJlYW0gZXJyb3InLCAgICAgICAgLyogWl9TVFJFQU1fRVJST1IgICgtMikgKi9cbiAgJy0zJzogICAnZGF0YSBlcnJvcicsICAgICAgICAgIC8qIFpfREFUQV9FUlJPUiAgICAoLTMpICovXG4gICctNCc6ICAgJ2luc3VmZmljaWVudCBtZW1vcnknLCAvKiBaX01FTV9FUlJPUiAgICAgKC00KSAqL1xuICAnLTUnOiAgICdidWZmZXIgZXJyb3InLCAgICAgICAgLyogWl9CVUZfRVJST1IgICAgICgtNSkgKi9cbiAgJy02JzogICAnaW5jb21wYXRpYmxlIHZlcnNpb24nIC8qIFpfVkVSU0lPTl9FUlJPUiAoLTYpICovXG59O1xuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbnZhciBjb25zdGFudHMkMiA9IHtcblxuICAvKiBBbGxvd2VkIGZsdXNoIHZhbHVlczsgc2VlIGRlZmxhdGUoKSBhbmQgaW5mbGF0ZSgpIGJlbG93IGZvciBkZXRhaWxzICovXG4gIFpfTk9fRkxVU0g6ICAgICAgICAgMCxcbiAgWl9QQVJUSUFMX0ZMVVNIOiAgICAxLFxuICBaX1NZTkNfRkxVU0g6ICAgICAgIDIsXG4gIFpfRlVMTF9GTFVTSDogICAgICAgMyxcbiAgWl9GSU5JU0g6ICAgICAgICAgICA0LFxuICBaX0JMT0NLOiAgICAgICAgICAgIDUsXG4gIFpfVFJFRVM6ICAgICAgICAgICAgNixcblxuICAvKiBSZXR1cm4gY29kZXMgZm9yIHRoZSBjb21wcmVzc2lvbi9kZWNvbXByZXNzaW9uIGZ1bmN0aW9ucy4gTmVnYXRpdmUgdmFsdWVzXG4gICogYXJlIGVycm9ycywgcG9zaXRpdmUgdmFsdWVzIGFyZSB1c2VkIGZvciBzcGVjaWFsIGJ1dCBub3JtYWwgZXZlbnRzLlxuICAqL1xuICBaX09LOiAgICAgICAgICAgICAgIDAsXG4gIFpfU1RSRUFNX0VORDogICAgICAgMSxcbiAgWl9ORUVEX0RJQ1Q6ICAgICAgICAyLFxuICBaX0VSUk5POiAgICAgICAgICAgLTEsXG4gIFpfU1RSRUFNX0VSUk9SOiAgICAtMixcbiAgWl9EQVRBX0VSUk9SOiAgICAgIC0zLFxuICBaX01FTV9FUlJPUjogICAgICAgLTQsXG4gIFpfQlVGX0VSUk9SOiAgICAgICAtNSxcbiAgLy9aX1ZFUlNJT05fRVJST1I6IC02LFxuXG4gIC8qIGNvbXByZXNzaW9uIGxldmVscyAqL1xuICBaX05PX0NPTVBSRVNTSU9OOiAgICAgICAgIDAsXG4gIFpfQkVTVF9TUEVFRDogICAgICAgICAgICAgMSxcbiAgWl9CRVNUX0NPTVBSRVNTSU9OOiAgICAgICA5LFxuICBaX0RFRkFVTFRfQ09NUFJFU1NJT046ICAgLTEsXG5cblxuICBaX0ZJTFRFUkVEOiAgICAgICAgICAgICAgIDEsXG4gIFpfSFVGRk1BTl9PTkxZOiAgICAgICAgICAgMixcbiAgWl9STEU6ICAgICAgICAgICAgICAgICAgICAzLFxuICBaX0ZJWEVEOiAgICAgICAgICAgICAgICAgIDQsXG4gIFpfREVGQVVMVF9TVFJBVEVHWTogICAgICAgMCxcblxuICAvKiBQb3NzaWJsZSB2YWx1ZXMgb2YgdGhlIGRhdGFfdHlwZSBmaWVsZCAodGhvdWdoIHNlZSBpbmZsYXRlKCkpICovXG4gIFpfQklOQVJZOiAgICAgICAgICAgICAgICAgMCxcbiAgWl9URVhUOiAgICAgICAgICAgICAgICAgICAxLFxuICAvL1pfQVNDSUk6ICAgICAgICAgICAgICAgIDEsIC8vID0gWl9URVhUIChkZXByZWNhdGVkKVxuICBaX1VOS05PV046ICAgICAgICAgICAgICAgIDIsXG5cbiAgLyogVGhlIGRlZmxhdGUgY29tcHJlc3Npb24gbWV0aG9kICovXG4gIFpfREVGTEFURUQ6ICAgICAgICAgICAgICAgOFxuICAvL1pfTlVMTDogICAgICAgICAgICAgICAgIG51bGwgLy8gVXNlIC0xIG9yIG51bGwgaW5saW5lLCBkZXBlbmRpbmcgb24gdmFyIHR5cGVcbn07XG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxuY29uc3QgeyBfdHJfaW5pdCwgX3RyX3N0b3JlZF9ibG9jaywgX3RyX2ZsdXNoX2Jsb2NrLCBfdHJfdGFsbHksIF90cl9hbGlnbiB9ID0gdHJlZXM7XG5cblxuXG5cbi8qIFB1YmxpYyBjb25zdGFudHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5jb25zdCB7XG4gIFpfTk9fRkxVU0g6IFpfTk9fRkxVU0gkMiwgWl9QQVJUSUFMX0ZMVVNILCBaX0ZVTExfRkxVU0g6IFpfRlVMTF9GTFVTSCQxLCBaX0ZJTklTSDogWl9GSU5JU0gkMywgWl9CTE9DSzogWl9CTE9DSyQxLFxuICBaX09LOiBaX09LJDMsIFpfU1RSRUFNX0VORDogWl9TVFJFQU1fRU5EJDMsIFpfU1RSRUFNX0VSUk9SOiBaX1NUUkVBTV9FUlJPUiQyLCBaX0RBVEFfRVJST1I6IFpfREFUQV9FUlJPUiQyLCBaX0JVRl9FUlJPUjogWl9CVUZfRVJST1IkMSxcbiAgWl9ERUZBVUxUX0NPTVBSRVNTSU9OOiBaX0RFRkFVTFRfQ09NUFJFU1NJT04kMSxcbiAgWl9GSUxURVJFRCwgWl9IVUZGTUFOX09OTFksIFpfUkxFLCBaX0ZJWEVELCBaX0RFRkFVTFRfU1RSQVRFR1k6IFpfREVGQVVMVF9TVFJBVEVHWSQxLFxuICBaX1VOS05PV04sXG4gIFpfREVGTEFURUQ6IFpfREVGTEFURUQkMlxufSA9IGNvbnN0YW50cyQyO1xuXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbmNvbnN0IE1BWF9NRU1fTEVWRUwgPSA5O1xuLyogTWF4aW11bSB2YWx1ZSBmb3IgbWVtTGV2ZWwgaW4gZGVmbGF0ZUluaXQyICovXG5jb25zdCBNQVhfV0JJVFMkMSA9IDE1O1xuLyogMzJLIExaNzcgd2luZG93ICovXG5jb25zdCBERUZfTUVNX0xFVkVMID0gODtcblxuXG5jb25zdCBMRU5HVEhfQ09ERVMgID0gMjk7XG4vKiBudW1iZXIgb2YgbGVuZ3RoIGNvZGVzLCBub3QgY291bnRpbmcgdGhlIHNwZWNpYWwgRU5EX0JMT0NLIGNvZGUgKi9cbmNvbnN0IExJVEVSQUxTICAgICAgPSAyNTY7XG4vKiBudW1iZXIgb2YgbGl0ZXJhbCBieXRlcyAwLi4yNTUgKi9cbmNvbnN0IExfQ09ERVMgICAgICAgPSBMSVRFUkFMUyArIDEgKyBMRU5HVEhfQ09ERVM7XG4vKiBudW1iZXIgb2YgTGl0ZXJhbCBvciBMZW5ndGggY29kZXMsIGluY2x1ZGluZyB0aGUgRU5EX0JMT0NLIGNvZGUgKi9cbmNvbnN0IERfQ09ERVMgICAgICAgPSAzMDtcbi8qIG51bWJlciBvZiBkaXN0YW5jZSBjb2RlcyAqL1xuY29uc3QgQkxfQ09ERVMgICAgICA9IDE5O1xuLyogbnVtYmVyIG9mIGNvZGVzIHVzZWQgdG8gdHJhbnNmZXIgdGhlIGJpdCBsZW5ndGhzICovXG5jb25zdCBIRUFQX1NJWkUgICAgID0gMiAqIExfQ09ERVMgKyAxO1xuLyogbWF4aW11bSBoZWFwIHNpemUgKi9cbmNvbnN0IE1BWF9CSVRTICA9IDE1O1xuLyogQWxsIGNvZGVzIG11c3Qgbm90IGV4Y2VlZCBNQVhfQklUUyBiaXRzICovXG5cbmNvbnN0IE1JTl9NQVRDSCA9IDM7XG5jb25zdCBNQVhfTUFUQ0ggPSAyNTg7XG5jb25zdCBNSU5fTE9PS0FIRUFEID0gKE1BWF9NQVRDSCArIE1JTl9NQVRDSCArIDEpO1xuXG5jb25zdCBQUkVTRVRfRElDVCA9IDB4MjA7XG5cbmNvbnN0IElOSVRfU1RBVEUgICAgPSAgNDI7ICAgIC8qIHpsaWIgaGVhZGVyIC0+IEJVU1lfU1RBVEUgKi9cbi8vI2lmZGVmIEdaSVBcbmNvbnN0IEdaSVBfU1RBVEUgICAgPSAgNTc7ICAgIC8qIGd6aXAgaGVhZGVyIC0+IEJVU1lfU1RBVEUgfCBFWFRSQV9TVEFURSAqL1xuLy8jZW5kaWZcbmNvbnN0IEVYVFJBX1NUQVRFICAgPSAgNjk7ICAgIC8qIGd6aXAgZXh0cmEgYmxvY2sgLT4gTkFNRV9TVEFURSAqL1xuY29uc3QgTkFNRV9TVEFURSAgICA9ICA3MzsgICAgLyogZ3ppcCBmaWxlIG5hbWUgLT4gQ09NTUVOVF9TVEFURSAqL1xuY29uc3QgQ09NTUVOVF9TVEFURSA9ICA5MTsgICAgLyogZ3ppcCBjb21tZW50IC0+IEhDUkNfU1RBVEUgKi9cbmNvbnN0IEhDUkNfU1RBVEUgICAgPSAxMDM7ICAgIC8qIGd6aXAgaGVhZGVyIENSQyAtPiBCVVNZX1NUQVRFICovXG5jb25zdCBCVVNZX1NUQVRFICAgID0gMTEzOyAgICAvKiBkZWZsYXRlIC0+IEZJTklTSF9TVEFURSAqL1xuY29uc3QgRklOSVNIX1NUQVRFICA9IDY2NjsgICAgLyogc3RyZWFtIGNvbXBsZXRlICovXG5cbmNvbnN0IEJTX05FRURfTU9SRSAgICAgID0gMTsgLyogYmxvY2sgbm90IGNvbXBsZXRlZCwgbmVlZCBtb3JlIGlucHV0IG9yIG1vcmUgb3V0cHV0ICovXG5jb25zdCBCU19CTE9DS19ET05FICAgICA9IDI7IC8qIGJsb2NrIGZsdXNoIHBlcmZvcm1lZCAqL1xuY29uc3QgQlNfRklOSVNIX1NUQVJURUQgPSAzOyAvKiBmaW5pc2ggc3RhcnRlZCwgbmVlZCBvbmx5IG1vcmUgb3V0cHV0IGF0IG5leHQgZGVmbGF0ZSAqL1xuY29uc3QgQlNfRklOSVNIX0RPTkUgICAgPSA0OyAvKiBmaW5pc2ggZG9uZSwgYWNjZXB0IG5vIG1vcmUgaW5wdXQgb3Igb3V0cHV0ICovXG5cbmNvbnN0IE9TX0NPREUgPSAweDAzOyAvLyBVbml4IDopIC4gRG9uJ3QgZGV0ZWN0LCB1c2UgdGhpcyBkZWZhdWx0LlxuXG5jb25zdCBlcnIgPSAoc3RybSwgZXJyb3JDb2RlKSA9PiB7XG4gIHN0cm0ubXNnID0gbWVzc2FnZXNbZXJyb3JDb2RlXTtcbiAgcmV0dXJuIGVycm9yQ29kZTtcbn07XG5cbmNvbnN0IHJhbmsgPSAoZikgPT4ge1xuICByZXR1cm4gKChmKSAqIDIpIC0gKChmKSA+IDQgPyA5IDogMCk7XG59O1xuXG5jb25zdCB6ZXJvID0gKGJ1ZikgPT4ge1xuICBsZXQgbGVuID0gYnVmLmxlbmd0aDsgd2hpbGUgKC0tbGVuID49IDApIHsgYnVmW2xlbl0gPSAwOyB9XG59O1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNsaWRlIHRoZSBoYXNoIHRhYmxlIHdoZW4gc2xpZGluZyB0aGUgd2luZG93IGRvd24gKGNvdWxkIGJlIGF2b2lkZWQgd2l0aCAzMlxuICogYml0IHZhbHVlcyBhdCB0aGUgZXhwZW5zZSBvZiBtZW1vcnkgdXNhZ2UpLiBXZSBzbGlkZSBldmVuIHdoZW4gbGV2ZWwgPT0gMCB0b1xuICoga2VlcCB0aGUgaGFzaCB0YWJsZSBjb25zaXN0ZW50IGlmIHdlIHN3aXRjaCBiYWNrIHRvIGxldmVsID4gMCBsYXRlci5cbiAqL1xuY29uc3Qgc2xpZGVfaGFzaCA9IChzKSA9PiB7XG4gIGxldCBuLCBtO1xuICBsZXQgcDtcbiAgbGV0IHdzaXplID0gcy53X3NpemU7XG5cbiAgbiA9IHMuaGFzaF9zaXplO1xuICBwID0gbjtcbiAgZG8ge1xuICAgIG0gPSBzLmhlYWRbLS1wXTtcbiAgICBzLmhlYWRbcF0gPSAobSA+PSB3c2l6ZSA/IG0gLSB3c2l6ZSA6IDApO1xuICB9IHdoaWxlICgtLW4pO1xuICBuID0gd3NpemU7XG4vLyNpZm5kZWYgRkFTVEVTVFxuICBwID0gbjtcbiAgZG8ge1xuICAgIG0gPSBzLnByZXZbLS1wXTtcbiAgICBzLnByZXZbcF0gPSAobSA+PSB3c2l6ZSA/IG0gLSB3c2l6ZSA6IDApO1xuICAgIC8qIElmIG4gaXMgbm90IG9uIGFueSBoYXNoIGNoYWluLCBwcmV2W25dIGlzIGdhcmJhZ2UgYnV0XG4gICAgICogaXRzIHZhbHVlIHdpbGwgbmV2ZXIgYmUgdXNlZC5cbiAgICAgKi9cbiAgfSB3aGlsZSAoLS1uKTtcbi8vI2VuZGlmXG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuZXctY2FwICovXG5sZXQgSEFTSF9aTElCID0gKHMsIHByZXYsIGRhdGEpID0+ICgocHJldiA8PCBzLmhhc2hfc2hpZnQpIF4gZGF0YSkgJiBzLmhhc2hfbWFzaztcbi8vIFRoaXMgaGFzaCBjYXVzZXMgbGVzcyBjb2xsaXNpb25zLCBodHRwczovL2dpdGh1Yi5jb20vbm9kZWNhL3Bha28vaXNzdWVzLzEzNVxuLy8gQnV0IGJyZWFrcyBiaW5hcnkgY29tcGF0aWJpbGl0eVxuLy9sZXQgSEFTSF9GQVNUID0gKHMsIHByZXYsIGRhdGEpID0+ICgocHJldiA8PCA4KSArIChwcmV2ID4+IDgpICsgKGRhdGEgPDwgNCkpICYgcy5oYXNoX21hc2s7XG5sZXQgSEFTSCA9IEhBU0hfWkxJQjtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBGbHVzaCBhcyBtdWNoIHBlbmRpbmcgb3V0cHV0IGFzIHBvc3NpYmxlLiBBbGwgZGVmbGF0ZSgpIG91dHB1dCwgZXhjZXB0IGZvclxuICogc29tZSBkZWZsYXRlX3N0b3JlZCgpIG91dHB1dCwgZ29lcyB0aHJvdWdoIHRoaXMgZnVuY3Rpb24gc28gc29tZVxuICogYXBwbGljYXRpb25zIG1heSB3aXNoIHRvIG1vZGlmeSBpdCB0byBhdm9pZCBhbGxvY2F0aW5nIGEgbGFyZ2VcbiAqIHN0cm0tPm5leHRfb3V0IGJ1ZmZlciBhbmQgY29weWluZyBpbnRvIGl0LiAoU2VlIGFsc28gcmVhZF9idWYoKSkuXG4gKi9cbmNvbnN0IGZsdXNoX3BlbmRpbmcgPSAoc3RybSkgPT4ge1xuICBjb25zdCBzID0gc3RybS5zdGF0ZTtcblxuICAvL190cl9mbHVzaF9iaXRzKHMpO1xuICBsZXQgbGVuID0gcy5wZW5kaW5nO1xuICBpZiAobGVuID4gc3RybS5hdmFpbF9vdXQpIHtcbiAgICBsZW4gPSBzdHJtLmF2YWlsX291dDtcbiAgfVxuICBpZiAobGVuID09PSAwKSB7IHJldHVybjsgfVxuXG4gIHN0cm0ub3V0cHV0LnNldChzLnBlbmRpbmdfYnVmLnN1YmFycmF5KHMucGVuZGluZ19vdXQsIHMucGVuZGluZ19vdXQgKyBsZW4pLCBzdHJtLm5leHRfb3V0KTtcbiAgc3RybS5uZXh0X291dCAgKz0gbGVuO1xuICBzLnBlbmRpbmdfb3V0ICArPSBsZW47XG4gIHN0cm0udG90YWxfb3V0ICs9IGxlbjtcbiAgc3RybS5hdmFpbF9vdXQgLT0gbGVuO1xuICBzLnBlbmRpbmcgICAgICAtPSBsZW47XG4gIGlmIChzLnBlbmRpbmcgPT09IDApIHtcbiAgICBzLnBlbmRpbmdfb3V0ID0gMDtcbiAgfVxufTtcblxuXG5jb25zdCBmbHVzaF9ibG9ja19vbmx5ID0gKHMsIGxhc3QpID0+IHtcbiAgX3RyX2ZsdXNoX2Jsb2NrKHMsIChzLmJsb2NrX3N0YXJ0ID49IDAgPyBzLmJsb2NrX3N0YXJ0IDogLTEpLCBzLnN0cnN0YXJ0IC0gcy5ibG9ja19zdGFydCwgbGFzdCk7XG4gIHMuYmxvY2tfc3RhcnQgPSBzLnN0cnN0YXJ0O1xuICBmbHVzaF9wZW5kaW5nKHMuc3RybSk7XG59O1xuXG5cbmNvbnN0IHB1dF9ieXRlID0gKHMsIGIpID0+IHtcbiAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSBiO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBQdXQgYSBzaG9ydCBpbiB0aGUgcGVuZGluZyBidWZmZXIuIFRoZSAxNi1iaXQgdmFsdWUgaXMgcHV0IGluIE1TQiBvcmRlci5cbiAqIElOIGFzc2VydGlvbjogdGhlIHN0cmVhbSBzdGF0ZSBpcyBjb3JyZWN0IGFuZCB0aGVyZSBpcyBlbm91Z2ggcm9vbSBpblxuICogcGVuZGluZ19idWYuXG4gKi9cbmNvbnN0IHB1dFNob3J0TVNCID0gKHMsIGIpID0+IHtcblxuICAvLyAgcHV0X2J5dGUocywgKEJ5dGUpKGIgPj4gOCkpO1xuLy8gIHB1dF9ieXRlKHMsIChCeXRlKShiICYgMHhmZikpO1xuICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IChiID4+PiA4KSAmIDB4ZmY7XG4gIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gYiAmIDB4ZmY7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogUmVhZCBhIG5ldyBidWZmZXIgZnJvbSB0aGUgY3VycmVudCBpbnB1dCBzdHJlYW0sIHVwZGF0ZSB0aGUgYWRsZXIzMlxuICogYW5kIHRvdGFsIG51bWJlciBvZiBieXRlcyByZWFkLiAgQWxsIGRlZmxhdGUoKSBpbnB1dCBnb2VzIHRocm91Z2hcbiAqIHRoaXMgZnVuY3Rpb24gc28gc29tZSBhcHBsaWNhdGlvbnMgbWF5IHdpc2ggdG8gbW9kaWZ5IGl0IHRvIGF2b2lkXG4gKiBhbGxvY2F0aW5nIGEgbGFyZ2Ugc3RybS0+aW5wdXQgYnVmZmVyIGFuZCBjb3B5aW5nIGZyb20gaXQuXG4gKiAoU2VlIGFsc28gZmx1c2hfcGVuZGluZygpKS5cbiAqL1xuY29uc3QgcmVhZF9idWYgPSAoc3RybSwgYnVmLCBzdGFydCwgc2l6ZSkgPT4ge1xuXG4gIGxldCBsZW4gPSBzdHJtLmF2YWlsX2luO1xuXG4gIGlmIChsZW4gPiBzaXplKSB7IGxlbiA9IHNpemU7IH1cbiAgaWYgKGxlbiA9PT0gMCkgeyByZXR1cm4gMDsgfVxuXG4gIHN0cm0uYXZhaWxfaW4gLT0gbGVuO1xuXG4gIC8vIHptZW1jcHkoYnVmLCBzdHJtLT5uZXh0X2luLCBsZW4pO1xuICBidWYuc2V0KHN0cm0uaW5wdXQuc3ViYXJyYXkoc3RybS5uZXh0X2luLCBzdHJtLm5leHRfaW4gKyBsZW4pLCBzdGFydCk7XG4gIGlmIChzdHJtLnN0YXRlLndyYXAgPT09IDEpIHtcbiAgICBzdHJtLmFkbGVyID0gYWRsZXIzMl8xKHN0cm0uYWRsZXIsIGJ1ZiwgbGVuLCBzdGFydCk7XG4gIH1cblxuICBlbHNlIGlmIChzdHJtLnN0YXRlLndyYXAgPT09IDIpIHtcbiAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBidWYsIGxlbiwgc3RhcnQpO1xuICB9XG5cbiAgc3RybS5uZXh0X2luICs9IGxlbjtcbiAgc3RybS50b3RhbF9pbiArPSBsZW47XG5cbiAgcmV0dXJuIGxlbjtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTZXQgbWF0Y2hfc3RhcnQgdG8gdGhlIGxvbmdlc3QgbWF0Y2ggc3RhcnRpbmcgYXQgdGhlIGdpdmVuIHN0cmluZyBhbmRcbiAqIHJldHVybiBpdHMgbGVuZ3RoLiBNYXRjaGVzIHNob3J0ZXIgb3IgZXF1YWwgdG8gcHJldl9sZW5ndGggYXJlIGRpc2NhcmRlZCxcbiAqIGluIHdoaWNoIGNhc2UgdGhlIHJlc3VsdCBpcyBlcXVhbCB0byBwcmV2X2xlbmd0aCBhbmQgbWF0Y2hfc3RhcnQgaXNcbiAqIGdhcmJhZ2UuXG4gKiBJTiBhc3NlcnRpb25zOiBjdXJfbWF0Y2ggaXMgdGhlIGhlYWQgb2YgdGhlIGhhc2ggY2hhaW4gZm9yIHRoZSBjdXJyZW50XG4gKiAgIHN0cmluZyAoc3Ryc3RhcnQpIGFuZCBpdHMgZGlzdGFuY2UgaXMgPD0gTUFYX0RJU1QsIGFuZCBwcmV2X2xlbmd0aCA+PSAxXG4gKiBPVVQgYXNzZXJ0aW9uOiB0aGUgbWF0Y2ggbGVuZ3RoIGlzIG5vdCBncmVhdGVyIHRoYW4gcy0+bG9va2FoZWFkLlxuICovXG5jb25zdCBsb25nZXN0X21hdGNoID0gKHMsIGN1cl9tYXRjaCkgPT4ge1xuXG4gIGxldCBjaGFpbl9sZW5ndGggPSBzLm1heF9jaGFpbl9sZW5ndGg7ICAgICAgLyogbWF4IGhhc2ggY2hhaW4gbGVuZ3RoICovXG4gIGxldCBzY2FuID0gcy5zdHJzdGFydDsgLyogY3VycmVudCBzdHJpbmcgKi9cbiAgbGV0IG1hdGNoOyAgICAgICAgICAgICAgICAgICAgICAgLyogbWF0Y2hlZCBzdHJpbmcgKi9cbiAgbGV0IGxlbjsgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBsZW5ndGggb2YgY3VycmVudCBtYXRjaCAqL1xuICBsZXQgYmVzdF9sZW4gPSBzLnByZXZfbGVuZ3RoOyAgICAgICAgICAgICAgLyogYmVzdCBtYXRjaCBsZW5ndGggc28gZmFyICovXG4gIGxldCBuaWNlX21hdGNoID0gcy5uaWNlX21hdGNoOyAgICAgICAgICAgICAvKiBzdG9wIGlmIG1hdGNoIGxvbmcgZW5vdWdoICovXG4gIGNvbnN0IGxpbWl0ID0gKHMuc3Ryc3RhcnQgPiAocy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKSkgP1xuICAgICAgcy5zdHJzdGFydCAtIChzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQpIDogMC8qTklMKi87XG5cbiAgY29uc3QgX3dpbiA9IHMud2luZG93OyAvLyBzaG9ydGN1dFxuXG4gIGNvbnN0IHdtYXNrID0gcy53X21hc2s7XG4gIGNvbnN0IHByZXYgID0gcy5wcmV2O1xuXG4gIC8qIFN0b3Agd2hlbiBjdXJfbWF0Y2ggYmVjb21lcyA8PSBsaW1pdC4gVG8gc2ltcGxpZnkgdGhlIGNvZGUsXG4gICAqIHdlIHByZXZlbnQgbWF0Y2hlcyB3aXRoIHRoZSBzdHJpbmcgb2Ygd2luZG93IGluZGV4IDAuXG4gICAqL1xuXG4gIGNvbnN0IHN0cmVuZCA9IHMuc3Ryc3RhcnQgKyBNQVhfTUFUQ0g7XG4gIGxldCBzY2FuX2VuZDEgID0gX3dpbltzY2FuICsgYmVzdF9sZW4gLSAxXTtcbiAgbGV0IHNjYW5fZW5kICAgPSBfd2luW3NjYW4gKyBiZXN0X2xlbl07XG5cbiAgLyogVGhlIGNvZGUgaXMgb3B0aW1pemVkIGZvciBIQVNIX0JJVFMgPj0gOCBhbmQgTUFYX01BVENILTIgbXVsdGlwbGUgb2YgMTYuXG4gICAqIEl0IGlzIGVhc3kgdG8gZ2V0IHJpZCBvZiB0aGlzIG9wdGltaXphdGlvbiBpZiBuZWNlc3NhcnkuXG4gICAqL1xuICAvLyBBc3NlcnQocy0+aGFzaF9iaXRzID49IDggJiYgTUFYX01BVENIID09IDI1OCwgXCJDb2RlIHRvbyBjbGV2ZXJcIik7XG5cbiAgLyogRG8gbm90IHdhc3RlIHRvbyBtdWNoIHRpbWUgaWYgd2UgYWxyZWFkeSBoYXZlIGEgZ29vZCBtYXRjaDogKi9cbiAgaWYgKHMucHJldl9sZW5ndGggPj0gcy5nb29kX21hdGNoKSB7XG4gICAgY2hhaW5fbGVuZ3RoID4+PSAyO1xuICB9XG4gIC8qIERvIG5vdCBsb29rIGZvciBtYXRjaGVzIGJleW9uZCB0aGUgZW5kIG9mIHRoZSBpbnB1dC4gVGhpcyBpcyBuZWNlc3NhcnlcbiAgICogdG8gbWFrZSBkZWZsYXRlIGRldGVybWluaXN0aWMuXG4gICAqL1xuICBpZiAobmljZV9tYXRjaCA+IHMubG9va2FoZWFkKSB7IG5pY2VfbWF0Y2ggPSBzLmxvb2thaGVhZDsgfVxuXG4gIC8vIEFzc2VydCgodWxnKXMtPnN0cnN0YXJ0IDw9IHMtPndpbmRvd19zaXplLU1JTl9MT09LQUhFQUQsIFwibmVlZCBsb29rYWhlYWRcIik7XG5cbiAgZG8ge1xuICAgIC8vIEFzc2VydChjdXJfbWF0Y2ggPCBzLT5zdHJzdGFydCwgXCJubyBmdXR1cmVcIik7XG4gICAgbWF0Y2ggPSBjdXJfbWF0Y2g7XG5cbiAgICAvKiBTa2lwIHRvIG5leHQgbWF0Y2ggaWYgdGhlIG1hdGNoIGxlbmd0aCBjYW5ub3QgaW5jcmVhc2VcbiAgICAgKiBvciBpZiB0aGUgbWF0Y2ggbGVuZ3RoIGlzIGxlc3MgdGhhbiAyLiAgTm90ZSB0aGF0IHRoZSBjaGVja3MgYmVsb3dcbiAgICAgKiBmb3IgaW5zdWZmaWNpZW50IGxvb2thaGVhZCBvbmx5IG9jY3VyIG9jY2FzaW9uYWxseSBmb3IgcGVyZm9ybWFuY2VcbiAgICAgKiByZWFzb25zLiAgVGhlcmVmb3JlIHVuaW5pdGlhbGl6ZWQgbWVtb3J5IHdpbGwgYmUgYWNjZXNzZWQsIGFuZFxuICAgICAqIGNvbmRpdGlvbmFsIGp1bXBzIHdpbGwgYmUgbWFkZSB0aGF0IGRlcGVuZCBvbiB0aG9zZSB2YWx1ZXMuXG4gICAgICogSG93ZXZlciB0aGUgbGVuZ3RoIG9mIHRoZSBtYXRjaCBpcyBsaW1pdGVkIHRvIHRoZSBsb29rYWhlYWQsIHNvXG4gICAgICogdGhlIG91dHB1dCBvZiBkZWZsYXRlIGlzIG5vdCBhZmZlY3RlZCBieSB0aGUgdW5pbml0aWFsaXplZCB2YWx1ZXMuXG4gICAgICovXG5cbiAgICBpZiAoX3dpblttYXRjaCArIGJlc3RfbGVuXSAgICAgIT09IHNjYW5fZW5kICB8fFxuICAgICAgICBfd2luW21hdGNoICsgYmVzdF9sZW4gLSAxXSAhPT0gc2Nhbl9lbmQxIHx8XG4gICAgICAgIF93aW5bbWF0Y2hdICAgICAgICAgICAgICAgICE9PSBfd2luW3NjYW5dIHx8XG4gICAgICAgIF93aW5bKyttYXRjaF0gICAgICAgICAgICAgICE9PSBfd2luW3NjYW4gKyAxXSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLyogVGhlIGNoZWNrIGF0IGJlc3RfbGVuLTEgY2FuIGJlIHJlbW92ZWQgYmVjYXVzZSBpdCB3aWxsIGJlIG1hZGVcbiAgICAgKiBhZ2FpbiBsYXRlci4gKFRoaXMgaGV1cmlzdGljIGlzIG5vdCBhbHdheXMgYSB3aW4uKVxuICAgICAqIEl0IGlzIG5vdCBuZWNlc3NhcnkgdG8gY29tcGFyZSBzY2FuWzJdIGFuZCBtYXRjaFsyXSBzaW5jZSB0aGV5XG4gICAgICogYXJlIGFsd2F5cyBlcXVhbCB3aGVuIHRoZSBvdGhlciBieXRlcyBtYXRjaCwgZ2l2ZW4gdGhhdFxuICAgICAqIHRoZSBoYXNoIGtleXMgYXJlIGVxdWFsIGFuZCB0aGF0IEhBU0hfQklUUyA+PSA4LlxuICAgICAqL1xuICAgIHNjYW4gKz0gMjtcbiAgICBtYXRjaCsrO1xuICAgIC8vIEFzc2VydCgqc2NhbiA9PSAqbWF0Y2gsIFwibWF0Y2hbMl0/XCIpO1xuXG4gICAgLyogV2UgY2hlY2sgZm9yIGluc3VmZmljaWVudCBsb29rYWhlYWQgb25seSBldmVyeSA4dGggY29tcGFyaXNvbjtcbiAgICAgKiB0aGUgMjU2dGggY2hlY2sgd2lsbCBiZSBtYWRlIGF0IHN0cnN0YXJ0KzI1OC5cbiAgICAgKi9cbiAgICBkbyB7XG4gICAgICAvKmpzaGludCBub2VtcHR5OmZhbHNlKi9cbiAgICB9IHdoaWxlIChfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiYgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJlxuICAgICAgICAgICAgIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJiBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgICAgICAgICBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiYgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgICAgc2NhbiA8IHN0cmVuZCk7XG5cbiAgICAvLyBBc3NlcnQoc2NhbiA8PSBzLT53aW5kb3crKHVuc2lnbmVkKShzLT53aW5kb3dfc2l6ZS0xKSwgXCJ3aWxkIHNjYW5cIik7XG5cbiAgICBsZW4gPSBNQVhfTUFUQ0ggLSAoc3RyZW5kIC0gc2Nhbik7XG4gICAgc2NhbiA9IHN0cmVuZCAtIE1BWF9NQVRDSDtcblxuICAgIGlmIChsZW4gPiBiZXN0X2xlbikge1xuICAgICAgcy5tYXRjaF9zdGFydCA9IGN1cl9tYXRjaDtcbiAgICAgIGJlc3RfbGVuID0gbGVuO1xuICAgICAgaWYgKGxlbiA+PSBuaWNlX21hdGNoKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgc2Nhbl9lbmQxICA9IF93aW5bc2NhbiArIGJlc3RfbGVuIC0gMV07XG4gICAgICBzY2FuX2VuZCAgID0gX3dpbltzY2FuICsgYmVzdF9sZW5dO1xuICAgIH1cbiAgfSB3aGlsZSAoKGN1cl9tYXRjaCA9IHByZXZbY3VyX21hdGNoICYgd21hc2tdKSA+IGxpbWl0ICYmIC0tY2hhaW5fbGVuZ3RoICE9PSAwKTtcblxuICBpZiAoYmVzdF9sZW4gPD0gcy5sb29rYWhlYWQpIHtcbiAgICByZXR1cm4gYmVzdF9sZW47XG4gIH1cbiAgcmV0dXJuIHMubG9va2FoZWFkO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZpbGwgdGhlIHdpbmRvdyB3aGVuIHRoZSBsb29rYWhlYWQgYmVjb21lcyBpbnN1ZmZpY2llbnQuXG4gKiBVcGRhdGVzIHN0cnN0YXJ0IGFuZCBsb29rYWhlYWQuXG4gKlxuICogSU4gYXNzZXJ0aW9uOiBsb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFEXG4gKiBPVVQgYXNzZXJ0aW9uczogc3Ryc3RhcnQgPD0gd2luZG93X3NpemUtTUlOX0xPT0tBSEVBRFxuICogICAgQXQgbGVhc3Qgb25lIGJ5dGUgaGFzIGJlZW4gcmVhZCwgb3IgYXZhaWxfaW4gPT0gMDsgcmVhZHMgYXJlXG4gKiAgICBwZXJmb3JtZWQgZm9yIGF0IGxlYXN0IHR3byBieXRlcyAocmVxdWlyZWQgZm9yIHRoZSB6aXAgdHJhbnNsYXRlX2VvbFxuICogICAgb3B0aW9uIC0tIG5vdCBzdXBwb3J0ZWQgaGVyZSkuXG4gKi9cbmNvbnN0IGZpbGxfd2luZG93ID0gKHMpID0+IHtcblxuICBjb25zdCBfd19zaXplID0gcy53X3NpemU7XG4gIGxldCBuLCBtb3JlLCBzdHI7XG5cbiAgLy9Bc3NlcnQocy0+bG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCwgXCJhbHJlYWR5IGVub3VnaCBsb29rYWhlYWRcIik7XG5cbiAgZG8ge1xuICAgIG1vcmUgPSBzLndpbmRvd19zaXplIC0gcy5sb29rYWhlYWQgLSBzLnN0cnN0YXJ0O1xuXG4gICAgLy8gSlMgaW50cyBoYXZlIDMyIGJpdCwgYmxvY2sgYmVsb3cgbm90IG5lZWRlZFxuICAgIC8qIERlYWwgd2l0aCAhQCMkJSA2NEsgbGltaXQ6ICovXG4gICAgLy9pZiAoc2l6ZW9mKGludCkgPD0gMikge1xuICAgIC8vICAgIGlmIChtb3JlID09IDAgJiYgcy0+c3Ryc3RhcnQgPT0gMCAmJiBzLT5sb29rYWhlYWQgPT0gMCkge1xuICAgIC8vICAgICAgICBtb3JlID0gd3NpemU7XG4gICAgLy9cbiAgICAvLyAgfSBlbHNlIGlmIChtb3JlID09ICh1bnNpZ25lZCkoLTEpKSB7XG4gICAgLy8gICAgICAgIC8qIFZlcnkgdW5saWtlbHksIGJ1dCBwb3NzaWJsZSBvbiAxNiBiaXQgbWFjaGluZSBpZlxuICAgIC8vICAgICAgICAgKiBzdHJzdGFydCA9PSAwICYmIGxvb2thaGVhZCA9PSAxIChpbnB1dCBkb25lIGEgYnl0ZSBhdCB0aW1lKVxuICAgIC8vICAgICAgICAgKi9cbiAgICAvLyAgICAgICAgbW9yZS0tO1xuICAgIC8vICAgIH1cbiAgICAvL31cblxuXG4gICAgLyogSWYgdGhlIHdpbmRvdyBpcyBhbG1vc3QgZnVsbCBhbmQgdGhlcmUgaXMgaW5zdWZmaWNpZW50IGxvb2thaGVhZCxcbiAgICAgKiBtb3ZlIHRoZSB1cHBlciBoYWxmIHRvIHRoZSBsb3dlciBvbmUgdG8gbWFrZSByb29tIGluIHRoZSB1cHBlciBoYWxmLlxuICAgICAqL1xuICAgIGlmIChzLnN0cnN0YXJ0ID49IF93X3NpemUgKyAoX3dfc2l6ZSAtIE1JTl9MT09LQUhFQUQpKSB7XG5cbiAgICAgIHMud2luZG93LnNldChzLndpbmRvdy5zdWJhcnJheShfd19zaXplLCBfd19zaXplICsgX3dfc2l6ZSAtIG1vcmUpLCAwKTtcbiAgICAgIHMubWF0Y2hfc3RhcnQgLT0gX3dfc2l6ZTtcbiAgICAgIHMuc3Ryc3RhcnQgLT0gX3dfc2l6ZTtcbiAgICAgIC8qIHdlIG5vdyBoYXZlIHN0cnN0YXJ0ID49IE1BWF9ESVNUICovXG4gICAgICBzLmJsb2NrX3N0YXJ0IC09IF93X3NpemU7XG4gICAgICBpZiAocy5pbnNlcnQgPiBzLnN0cnN0YXJ0KSB7XG4gICAgICAgIHMuaW5zZXJ0ID0gcy5zdHJzdGFydDtcbiAgICAgIH1cbiAgICAgIHNsaWRlX2hhc2gocyk7XG4gICAgICBtb3JlICs9IF93X3NpemU7XG4gICAgfVxuICAgIGlmIChzLnN0cm0uYXZhaWxfaW4gPT09IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8qIElmIHRoZXJlIHdhcyBubyBzbGlkaW5nOlxuICAgICAqICAgIHN0cnN0YXJ0IDw9IFdTSVpFK01BWF9ESVNULTEgJiYgbG9va2FoZWFkIDw9IE1JTl9MT09LQUhFQUQgLSAxICYmXG4gICAgICogICAgbW9yZSA9PSB3aW5kb3dfc2l6ZSAtIGxvb2thaGVhZCAtIHN0cnN0YXJ0XG4gICAgICogPT4gbW9yZSA+PSB3aW5kb3dfc2l6ZSAtIChNSU5fTE9PS0FIRUFELTEgKyBXU0laRSArIE1BWF9ESVNULTEpXG4gICAgICogPT4gbW9yZSA+PSB3aW5kb3dfc2l6ZSAtIDIqV1NJWkUgKyAyXG4gICAgICogSW4gdGhlIEJJR19NRU0gb3IgTU1BUCBjYXNlIChub3QgeWV0IHN1cHBvcnRlZCksXG4gICAgICogICB3aW5kb3dfc2l6ZSA9PSBpbnB1dF9zaXplICsgTUlOX0xPT0tBSEVBRCAgJiZcbiAgICAgKiAgIHN0cnN0YXJ0ICsgcy0+bG9va2FoZWFkIDw9IGlucHV0X3NpemUgPT4gbW9yZSA+PSBNSU5fTE9PS0FIRUFELlxuICAgICAqIE90aGVyd2lzZSwgd2luZG93X3NpemUgPT0gMipXU0laRSBzbyBtb3JlID49IDIuXG4gICAgICogSWYgdGhlcmUgd2FzIHNsaWRpbmcsIG1vcmUgPj0gV1NJWkUuIFNvIGluIGFsbCBjYXNlcywgbW9yZSA+PSAyLlxuICAgICAqL1xuICAgIC8vQXNzZXJ0KG1vcmUgPj0gMiwgXCJtb3JlIDwgMlwiKTtcbiAgICBuID0gcmVhZF9idWYocy5zdHJtLCBzLndpbmRvdywgcy5zdHJzdGFydCArIHMubG9va2FoZWFkLCBtb3JlKTtcbiAgICBzLmxvb2thaGVhZCArPSBuO1xuXG4gICAgLyogSW5pdGlhbGl6ZSB0aGUgaGFzaCB2YWx1ZSBub3cgdGhhdCB3ZSBoYXZlIHNvbWUgaW5wdXQ6ICovXG4gICAgaWYgKHMubG9va2FoZWFkICsgcy5pbnNlcnQgPj0gTUlOX01BVENIKSB7XG4gICAgICBzdHIgPSBzLnN0cnN0YXJ0IC0gcy5pbnNlcnQ7XG4gICAgICBzLmluc19oID0gcy53aW5kb3dbc3RyXTtcblxuICAgICAgLyogVVBEQVRFX0hBU0gocywgcy0+aW5zX2gsIHMtPndpbmRvd1tzdHIgKyAxXSk7ICovXG4gICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzdHIgKyAxXSk7XG4vLyNpZiBNSU5fTUFUQ0ggIT0gM1xuLy8gICAgICAgIENhbGwgdXBkYXRlX2hhc2goKSBNSU5fTUFUQ0gtMyBtb3JlIHRpbWVzXG4vLyNlbmRpZlxuICAgICAgd2hpbGUgKHMuaW5zZXJ0KSB7XG4gICAgICAgIC8qIFVQREFURV9IQVNIKHMsIHMtPmluc19oLCBzLT53aW5kb3dbc3RyICsgTUlOX01BVENILTFdKTsgKi9cbiAgICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbc3RyICsgTUlOX01BVENIIC0gMV0pO1xuXG4gICAgICAgIHMucHJldltzdHIgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG4gICAgICAgIHMuaGVhZFtzLmluc19oXSA9IHN0cjtcbiAgICAgICAgc3RyKys7XG4gICAgICAgIHMuaW5zZXJ0LS07XG4gICAgICAgIGlmIChzLmxvb2thaGVhZCArIHMuaW5zZXJ0IDwgTUlOX01BVENIKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyogSWYgdGhlIHdob2xlIGlucHV0IGhhcyBsZXNzIHRoYW4gTUlOX01BVENIIGJ5dGVzLCBpbnNfaCBpcyBnYXJiYWdlLFxuICAgICAqIGJ1dCB0aGlzIGlzIG5vdCBpbXBvcnRhbnQgc2luY2Ugb25seSBsaXRlcmFsIGJ5dGVzIHdpbGwgYmUgZW1pdHRlZC5cbiAgICAgKi9cblxuICB9IHdoaWxlIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQgJiYgcy5zdHJtLmF2YWlsX2luICE9PSAwKTtcblxuICAvKiBJZiB0aGUgV0lOX0lOSVQgYnl0ZXMgYWZ0ZXIgdGhlIGVuZCBvZiB0aGUgY3VycmVudCBkYXRhIGhhdmUgbmV2ZXIgYmVlblxuICAgKiB3cml0dGVuLCB0aGVuIHplcm8gdGhvc2UgYnl0ZXMgaW4gb3JkZXIgdG8gYXZvaWQgbWVtb3J5IGNoZWNrIHJlcG9ydHMgb2ZcbiAgICogdGhlIHVzZSBvZiB1bmluaXRpYWxpemVkIChvciB1bmluaXRpYWxpc2VkIGFzIEp1bGlhbiB3cml0ZXMpIGJ5dGVzIGJ5XG4gICAqIHRoZSBsb25nZXN0IG1hdGNoIHJvdXRpbmVzLiAgVXBkYXRlIHRoZSBoaWdoIHdhdGVyIG1hcmsgZm9yIHRoZSBuZXh0XG4gICAqIHRpbWUgdGhyb3VnaCBoZXJlLiAgV0lOX0lOSVQgaXMgc2V0IHRvIE1BWF9NQVRDSCBzaW5jZSB0aGUgbG9uZ2VzdCBtYXRjaFxuICAgKiByb3V0aW5lcyBhbGxvdyBzY2FubmluZyB0byBzdHJzdGFydCArIE1BWF9NQVRDSCwgaWdub3JpbmcgbG9va2FoZWFkLlxuICAgKi9cbi8vICBpZiAocy5oaWdoX3dhdGVyIDwgcy53aW5kb3dfc2l6ZSkge1xuLy8gICAgY29uc3QgY3VyciA9IHMuc3Ryc3RhcnQgKyBzLmxvb2thaGVhZDtcbi8vICAgIGxldCBpbml0ID0gMDtcbi8vXG4vLyAgICBpZiAocy5oaWdoX3dhdGVyIDwgY3Vycikge1xuLy8gICAgICAvKiBQcmV2aW91cyBoaWdoIHdhdGVyIG1hcmsgYmVsb3cgY3VycmVudCBkYXRhIC0tIHplcm8gV0lOX0lOSVRcbi8vICAgICAgICogYnl0ZXMgb3IgdXAgdG8gZW5kIG9mIHdpbmRvdywgd2hpY2hldmVyIGlzIGxlc3MuXG4vLyAgICAgICAqL1xuLy8gICAgICBpbml0ID0gcy53aW5kb3dfc2l6ZSAtIGN1cnI7XG4vLyAgICAgIGlmIChpbml0ID4gV0lOX0lOSVQpXG4vLyAgICAgICAgaW5pdCA9IFdJTl9JTklUO1xuLy8gICAgICB6bWVtemVybyhzLT53aW5kb3cgKyBjdXJyLCAodW5zaWduZWQpaW5pdCk7XG4vLyAgICAgIHMtPmhpZ2hfd2F0ZXIgPSBjdXJyICsgaW5pdDtcbi8vICAgIH1cbi8vICAgIGVsc2UgaWYgKHMtPmhpZ2hfd2F0ZXIgPCAodWxnKWN1cnIgKyBXSU5fSU5JVCkge1xuLy8gICAgICAvKiBIaWdoIHdhdGVyIG1hcmsgYXQgb3IgYWJvdmUgY3VycmVudCBkYXRhLCBidXQgYmVsb3cgY3VycmVudCBkYXRhXG4vLyAgICAgICAqIHBsdXMgV0lOX0lOSVQgLS0gemVybyBvdXQgdG8gY3VycmVudCBkYXRhIHBsdXMgV0lOX0lOSVQsIG9yIHVwXG4vLyAgICAgICAqIHRvIGVuZCBvZiB3aW5kb3csIHdoaWNoZXZlciBpcyBsZXNzLlxuLy8gICAgICAgKi9cbi8vICAgICAgaW5pdCA9ICh1bGcpY3VyciArIFdJTl9JTklUIC0gcy0+aGlnaF93YXRlcjtcbi8vICAgICAgaWYgKGluaXQgPiBzLT53aW5kb3dfc2l6ZSAtIHMtPmhpZ2hfd2F0ZXIpXG4vLyAgICAgICAgaW5pdCA9IHMtPndpbmRvd19zaXplIC0gcy0+aGlnaF93YXRlcjtcbi8vICAgICAgem1lbXplcm8ocy0+d2luZG93ICsgcy0+aGlnaF93YXRlciwgKHVuc2lnbmVkKWluaXQpO1xuLy8gICAgICBzLT5oaWdoX3dhdGVyICs9IGluaXQ7XG4vLyAgICB9XG4vLyAgfVxuLy9cbi8vICBBc3NlcnQoKHVsZylzLT5zdHJzdGFydCA8PSBzLT53aW5kb3dfc2l6ZSAtIE1JTl9MT09LQUhFQUQsXG4vLyAgICBcIm5vdCBlbm91Z2ggcm9vbSBmb3Igc2VhcmNoXCIpO1xufTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5IHdpdGhvdXQgY29tcHJlc3Npb24gYXMgbXVjaCBhcyBwb3NzaWJsZSBmcm9tIHRoZSBpbnB1dCBzdHJlYW0sIHJldHVyblxuICogdGhlIGN1cnJlbnQgYmxvY2sgc3RhdGUuXG4gKlxuICogSW4gY2FzZSBkZWZsYXRlUGFyYW1zKCkgaXMgdXNlZCB0byBsYXRlciBzd2l0Y2ggdG8gYSBub24temVybyBjb21wcmVzc2lvblxuICogbGV2ZWwsIHMtPm1hdGNoZXMgKG90aGVyd2lzZSB1bnVzZWQgd2hlbiBzdG9yaW5nKSBrZWVwcyB0cmFjayBvZiB0aGUgbnVtYmVyXG4gKiBvZiBoYXNoIHRhYmxlIHNsaWRlcyB0byBwZXJmb3JtLiBJZiBzLT5tYXRjaGVzIGlzIDEsIHRoZW4gb25lIGhhc2ggdGFibGVcbiAqIHNsaWRlIHdpbGwgYmUgZG9uZSB3aGVuIHN3aXRjaGluZy4gSWYgcy0+bWF0Y2hlcyBpcyAyLCB0aGUgbWF4aW11bSB2YWx1ZVxuICogYWxsb3dlZCBoZXJlLCB0aGVuIHRoZSBoYXNoIHRhYmxlIHdpbGwgYmUgY2xlYXJlZCwgc2luY2UgdHdvIG9yIG1vcmUgc2xpZGVzXG4gKiBpcyB0aGUgc2FtZSBhcyBhIGNsZWFyLlxuICpcbiAqIGRlZmxhdGVfc3RvcmVkKCkgaXMgd3JpdHRlbiB0byBtaW5pbWl6ZSB0aGUgbnVtYmVyIG9mIHRpbWVzIGFuIGlucHV0IGJ5dGUgaXNcbiAqIGNvcGllZC4gSXQgaXMgbW9zdCBlZmZpY2llbnQgd2l0aCBsYXJnZSBpbnB1dCBhbmQgb3V0cHV0IGJ1ZmZlcnMsIHdoaWNoXG4gKiBtYXhpbWl6ZXMgdGhlIG9wcG9ydHVuaXRlcyB0byBoYXZlIGEgc2luZ2xlIGNvcHkgZnJvbSBuZXh0X2luIHRvIG5leHRfb3V0LlxuICovXG5jb25zdCBkZWZsYXRlX3N0b3JlZCA9IChzLCBmbHVzaCkgPT4ge1xuXG4gIC8qIFNtYWxsZXN0IHdvcnRoeSBibG9jayBzaXplIHdoZW4gbm90IGZsdXNoaW5nIG9yIGZpbmlzaGluZy4gQnkgZGVmYXVsdFxuICAgKiB0aGlzIGlzIDMySy4gVGhpcyBjYW4gYmUgYXMgc21hbGwgYXMgNTA3IGJ5dGVzIGZvciBtZW1MZXZlbCA9PSAxLiBGb3JcbiAgICogbGFyZ2UgaW5wdXQgYW5kIG91dHB1dCBidWZmZXJzLCB0aGUgc3RvcmVkIGJsb2NrIHNpemUgd2lsbCBiZSBsYXJnZXIuXG4gICAqL1xuICBsZXQgbWluX2Jsb2NrID0gcy5wZW5kaW5nX2J1Zl9zaXplIC0gNSA+IHMud19zaXplID8gcy53X3NpemUgOiBzLnBlbmRpbmdfYnVmX3NpemUgLSA1O1xuXG4gIC8qIENvcHkgYXMgbWFueSBtaW5fYmxvY2sgb3IgbGFyZ2VyIHN0b3JlZCBibG9ja3MgZGlyZWN0bHkgdG8gbmV4dF9vdXQgYXNcbiAgICogcG9zc2libGUuIElmIGZsdXNoaW5nLCBjb3B5IHRoZSByZW1haW5pbmcgYXZhaWxhYmxlIGlucHV0IHRvIG5leHRfb3V0IGFzXG4gICAqIHN0b3JlZCBibG9ja3MsIGlmIHRoZXJlIGlzIGVub3VnaCBzcGFjZS5cbiAgICovXG4gIGxldCBsZW4sIGxlZnQsIGhhdmUsIGxhc3QgPSAwO1xuICBsZXQgdXNlZCA9IHMuc3RybS5hdmFpbF9pbjtcbiAgZG8ge1xuICAgIC8qIFNldCBsZW4gdG8gdGhlIG1heGltdW0gc2l6ZSBibG9jayB0aGF0IHdlIGNhbiBjb3B5IGRpcmVjdGx5IHdpdGggdGhlXG4gICAgICogYXZhaWxhYmxlIGlucHV0IGRhdGEgYW5kIG91dHB1dCBzcGFjZS4gU2V0IGxlZnQgdG8gaG93IG11Y2ggb2YgdGhhdFxuICAgICAqIHdvdWxkIGJlIGNvcGllZCBmcm9tIHdoYXQncyBsZWZ0IGluIHRoZSB3aW5kb3cuXG4gICAgICovXG4gICAgbGVuID0gNjU1MzUvKiBNQVhfU1RPUkVEICovOyAgICAgLyogbWF4aW11bSBkZWZsYXRlIHN0b3JlZCBibG9jayBsZW5ndGggKi9cbiAgICBoYXZlID0gKHMuYmlfdmFsaWQgKyA0MikgPj4gMzsgICAgIC8qIG51bWJlciBvZiBoZWFkZXIgYnl0ZXMgKi9cbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA8IGhhdmUpIHsgICAgICAgICAvKiBuZWVkIHJvb20gZm9yIGhlYWRlciAqL1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgICAgLyogbWF4aW11bSBzdG9yZWQgYmxvY2sgbGVuZ3RoIHRoYXQgd2lsbCBmaXQgaW4gYXZhaWxfb3V0OiAqL1xuICAgIGhhdmUgPSBzLnN0cm0uYXZhaWxfb3V0IC0gaGF2ZTtcbiAgICBsZWZ0ID0gcy5zdHJzdGFydCAtIHMuYmxvY2tfc3RhcnQ7ICAvKiBieXRlcyBsZWZ0IGluIHdpbmRvdyAqL1xuICAgIGlmIChsZW4gPiBsZWZ0ICsgcy5zdHJtLmF2YWlsX2luKSB7XG4gICAgICBsZW4gPSBsZWZ0ICsgcy5zdHJtLmF2YWlsX2luOyAgIC8qIGxpbWl0IGxlbiB0byB0aGUgaW5wdXQgKi9cbiAgICB9XG4gICAgaWYgKGxlbiA+IGhhdmUpIHtcbiAgICAgIGxlbiA9IGhhdmU7ICAgICAgICAgICAgIC8qIGxpbWl0IGxlbiB0byB0aGUgb3V0cHV0ICovXG4gICAgfVxuXG4gICAgLyogSWYgdGhlIHN0b3JlZCBibG9jayB3b3VsZCBiZSBsZXNzIHRoYW4gbWluX2Jsb2NrIGluIGxlbmd0aCwgb3IgaWZcbiAgICAgKiB1bmFibGUgdG8gY29weSBhbGwgb2YgdGhlIGF2YWlsYWJsZSBpbnB1dCB3aGVuIGZsdXNoaW5nLCB0aGVuIHRyeVxuICAgICAqIGNvcHlpbmcgdG8gdGhlIHdpbmRvdyBhbmQgdGhlIHBlbmRpbmcgYnVmZmVyIGluc3RlYWQuIEFsc28gZG9uJ3RcbiAgICAgKiB3cml0ZSBhbiBlbXB0eSBibG9jayB3aGVuIGZsdXNoaW5nIC0tIGRlZmxhdGUoKSBkb2VzIHRoYXQuXG4gICAgICovXG4gICAgaWYgKGxlbiA8IG1pbl9ibG9jayAmJiAoKGxlbiA9PT0gMCAmJiBmbHVzaCAhPT0gWl9GSU5JU0gkMykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsdXNoID09PSBaX05PX0ZMVVNIJDIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlbiAhPT0gbGVmdCArIHMuc3RybS5hdmFpbF9pbikpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8qIE1ha2UgYSBkdW1teSBzdG9yZWQgYmxvY2sgaW4gcGVuZGluZyB0byBnZXQgdGhlIGhlYWRlciBieXRlcyxcbiAgICAgKiBpbmNsdWRpbmcgYW55IHBlbmRpbmcgYml0cy4gVGhpcyBhbHNvIHVwZGF0ZXMgdGhlIGRlYnVnZ2luZyBjb3VudHMuXG4gICAgICovXG4gICAgbGFzdCA9IGZsdXNoID09PSBaX0ZJTklTSCQzICYmIGxlbiA9PT0gbGVmdCArIHMuc3RybS5hdmFpbF9pbiA/IDEgOiAwO1xuICAgIF90cl9zdG9yZWRfYmxvY2socywgMCwgMCwgbGFzdCk7XG5cbiAgICAvKiBSZXBsYWNlIHRoZSBsZW5ndGhzIGluIHRoZSBkdW1teSBzdG9yZWQgYmxvY2sgd2l0aCBsZW4uICovXG4gICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcgLSA0XSA9IGxlbjtcbiAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZyAtIDNdID0gbGVuID4+IDg7XG4gICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcgLSAyXSA9IH5sZW47XG4gICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcgLSAxXSA9IH5sZW4gPj4gODtcblxuICAgIC8qIFdyaXRlIHRoZSBzdG9yZWQgYmxvY2sgaGVhZGVyIGJ5dGVzLiAqL1xuICAgIGZsdXNoX3BlbmRpbmcocy5zdHJtKTtcblxuLy8jaWZkZWYgWkxJQl9ERUJVR1xuLy8gICAgLyogVXBkYXRlIGRlYnVnZ2luZyBjb3VudHMgZm9yIHRoZSBkYXRhIGFib3V0IHRvIGJlIGNvcGllZC4gKi9cbi8vICAgIHMtPmNvbXByZXNzZWRfbGVuICs9IGxlbiA8PCAzO1xuLy8gICAgcy0+Yml0c19zZW50ICs9IGxlbiA8PCAzO1xuLy8jZW5kaWZcblxuICAgIC8qIENvcHkgdW5jb21wcmVzc2VkIGJ5dGVzIGZyb20gdGhlIHdpbmRvdyB0byBuZXh0X291dC4gKi9cbiAgICBpZiAobGVmdCkge1xuICAgICAgaWYgKGxlZnQgPiBsZW4pIHtcbiAgICAgICAgbGVmdCA9IGxlbjtcbiAgICAgIH1cbiAgICAgIC8vem1lbWNweShzLT5zdHJtLT5uZXh0X291dCwgcy0+d2luZG93ICsgcy0+YmxvY2tfc3RhcnQsIGxlZnQpO1xuICAgICAgcy5zdHJtLm91dHB1dC5zZXQocy53aW5kb3cuc3ViYXJyYXkocy5ibG9ja19zdGFydCwgcy5ibG9ja19zdGFydCArIGxlZnQpLCBzLnN0cm0ubmV4dF9vdXQpO1xuICAgICAgcy5zdHJtLm5leHRfb3V0ICs9IGxlZnQ7XG4gICAgICBzLnN0cm0uYXZhaWxfb3V0IC09IGxlZnQ7XG4gICAgICBzLnN0cm0udG90YWxfb3V0ICs9IGxlZnQ7XG4gICAgICBzLmJsb2NrX3N0YXJ0ICs9IGxlZnQ7XG4gICAgICBsZW4gLT0gbGVmdDtcbiAgICB9XG5cbiAgICAvKiBDb3B5IHVuY29tcHJlc3NlZCBieXRlcyBkaXJlY3RseSBmcm9tIG5leHRfaW4gdG8gbmV4dF9vdXQsIHVwZGF0aW5nXG4gICAgICogdGhlIGNoZWNrIHZhbHVlLlxuICAgICAqL1xuICAgIGlmIChsZW4pIHtcbiAgICAgIHJlYWRfYnVmKHMuc3RybSwgcy5zdHJtLm91dHB1dCwgcy5zdHJtLm5leHRfb3V0LCBsZW4pO1xuICAgICAgcy5zdHJtLm5leHRfb3V0ICs9IGxlbjtcbiAgICAgIHMuc3RybS5hdmFpbF9vdXQgLT0gbGVuO1xuICAgICAgcy5zdHJtLnRvdGFsX291dCArPSBsZW47XG4gICAgfVxuICB9IHdoaWxlIChsYXN0ID09PSAwKTtcblxuICAvKiBVcGRhdGUgdGhlIHNsaWRpbmcgd2luZG93IHdpdGggdGhlIGxhc3Qgcy0+d19zaXplIGJ5dGVzIG9mIHRoZSBjb3BpZWRcbiAgICogZGF0YSwgb3IgYXBwZW5kIGFsbCBvZiB0aGUgY29waWVkIGRhdGEgdG8gdGhlIGV4aXN0aW5nIHdpbmRvdyBpZiBsZXNzXG4gICAqIHRoYW4gcy0+d19zaXplIGJ5dGVzIHdlcmUgY29waWVkLiBBbHNvIHVwZGF0ZSB0aGUgbnVtYmVyIG9mIGJ5dGVzIHRvXG4gICAqIGluc2VydCBpbiB0aGUgaGFzaCB0YWJsZXMsIGluIHRoZSBldmVudCB0aGF0IGRlZmxhdGVQYXJhbXMoKSBzd2l0Y2hlcyB0b1xuICAgKiBhIG5vbi16ZXJvIGNvbXByZXNzaW9uIGxldmVsLlxuICAgKi9cbiAgdXNlZCAtPSBzLnN0cm0uYXZhaWxfaW47ICAgIC8qIG51bWJlciBvZiBpbnB1dCBieXRlcyBkaXJlY3RseSBjb3BpZWQgKi9cbiAgaWYgKHVzZWQpIHtcbiAgICAvKiBJZiBhbnkgaW5wdXQgd2FzIHVzZWQsIHRoZW4gbm8gdW51c2VkIGlucHV0IHJlbWFpbnMgaW4gdGhlIHdpbmRvdyxcbiAgICAgKiB0aGVyZWZvcmUgcy0+YmxvY2tfc3RhcnQgPT0gcy0+c3Ryc3RhcnQuXG4gICAgICovXG4gICAgaWYgKHVzZWQgPj0gcy53X3NpemUpIHsgIC8qIHN1cHBsYW50IHRoZSBwcmV2aW91cyBoaXN0b3J5ICovXG4gICAgICBzLm1hdGNoZXMgPSAyOyAgICAgLyogY2xlYXIgaGFzaCAqL1xuICAgICAgLy96bWVtY3B5KHMtPndpbmRvdywgcy0+c3RybS0+bmV4dF9pbiAtIHMtPndfc2l6ZSwgcy0+d19zaXplKTtcbiAgICAgIHMud2luZG93LnNldChzLnN0cm0uaW5wdXQuc3ViYXJyYXkocy5zdHJtLm5leHRfaW4gLSBzLndfc2l6ZSwgcy5zdHJtLm5leHRfaW4pLCAwKTtcbiAgICAgIHMuc3Ryc3RhcnQgPSBzLndfc2l6ZTtcbiAgICAgIHMuaW5zZXJ0ID0gcy5zdHJzdGFydDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAocy53aW5kb3dfc2l6ZSAtIHMuc3Ryc3RhcnQgPD0gdXNlZCkge1xuICAgICAgICAvKiBTbGlkZSB0aGUgd2luZG93IGRvd24uICovXG4gICAgICAgIHMuc3Ryc3RhcnQgLT0gcy53X3NpemU7XG4gICAgICAgIC8vem1lbWNweShzLT53aW5kb3csIHMtPndpbmRvdyArIHMtPndfc2l6ZSwgcy0+c3Ryc3RhcnQpO1xuICAgICAgICBzLndpbmRvdy5zZXQocy53aW5kb3cuc3ViYXJyYXkocy53X3NpemUsIHMud19zaXplICsgcy5zdHJzdGFydCksIDApO1xuICAgICAgICBpZiAocy5tYXRjaGVzIDwgMikge1xuICAgICAgICAgIHMubWF0Y2hlcysrOyAgIC8qIGFkZCBhIHBlbmRpbmcgc2xpZGVfaGFzaCgpICovXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuaW5zZXJ0ID4gcy5zdHJzdGFydCkge1xuICAgICAgICAgIHMuaW5zZXJ0ID0gcy5zdHJzdGFydDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy96bWVtY3B5KHMtPndpbmRvdyArIHMtPnN0cnN0YXJ0LCBzLT5zdHJtLT5uZXh0X2luIC0gdXNlZCwgdXNlZCk7XG4gICAgICBzLndpbmRvdy5zZXQocy5zdHJtLmlucHV0LnN1YmFycmF5KHMuc3RybS5uZXh0X2luIC0gdXNlZCwgcy5zdHJtLm5leHRfaW4pLCBzLnN0cnN0YXJ0KTtcbiAgICAgIHMuc3Ryc3RhcnQgKz0gdXNlZDtcbiAgICAgIHMuaW5zZXJ0ICs9IHVzZWQgPiBzLndfc2l6ZSAtIHMuaW5zZXJ0ID8gcy53X3NpemUgLSBzLmluc2VydCA6IHVzZWQ7XG4gICAgfVxuICAgIHMuYmxvY2tfc3RhcnQgPSBzLnN0cnN0YXJ0O1xuICB9XG4gIGlmIChzLmhpZ2hfd2F0ZXIgPCBzLnN0cnN0YXJ0KSB7XG4gICAgcy5oaWdoX3dhdGVyID0gcy5zdHJzdGFydDtcbiAgfVxuXG4gIC8qIElmIHRoZSBsYXN0IGJsb2NrIHdhcyB3cml0dGVuIHRvIG5leHRfb3V0LCB0aGVuIGRvbmUuICovXG4gIGlmIChsYXN0KSB7XG4gICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICB9XG5cbiAgLyogSWYgZmx1c2hpbmcgYW5kIGFsbCBpbnB1dCBoYXMgYmVlbiBjb25zdW1lZCwgdGhlbiBkb25lLiAqL1xuICBpZiAoZmx1c2ggIT09IFpfTk9fRkxVU0gkMiAmJiBmbHVzaCAhPT0gWl9GSU5JU0gkMyAmJlxuICAgIHMuc3RybS5hdmFpbF9pbiA9PT0gMCAmJiBzLnN0cnN0YXJ0ID09PSBzLmJsb2NrX3N0YXJ0KSB7XG4gICAgcmV0dXJuIEJTX0JMT0NLX0RPTkU7XG4gIH1cblxuICAvKiBGaWxsIHRoZSB3aW5kb3cgd2l0aCBhbnkgcmVtYWluaW5nIGlucHV0LiAqL1xuICBoYXZlID0gcy53aW5kb3dfc2l6ZSAtIHMuc3Ryc3RhcnQ7XG4gIGlmIChzLnN0cm0uYXZhaWxfaW4gPiBoYXZlICYmIHMuYmxvY2tfc3RhcnQgPj0gcy53X3NpemUpIHtcbiAgICAvKiBTbGlkZSB0aGUgd2luZG93IGRvd24uICovXG4gICAgcy5ibG9ja19zdGFydCAtPSBzLndfc2l6ZTtcbiAgICBzLnN0cnN0YXJ0IC09IHMud19zaXplO1xuICAgIC8vem1lbWNweShzLT53aW5kb3csIHMtPndpbmRvdyArIHMtPndfc2l6ZSwgcy0+c3Ryc3RhcnQpO1xuICAgIHMud2luZG93LnNldChzLndpbmRvdy5zdWJhcnJheShzLndfc2l6ZSwgcy53X3NpemUgKyBzLnN0cnN0YXJ0KSwgMCk7XG4gICAgaWYgKHMubWF0Y2hlcyA8IDIpIHtcbiAgICAgIHMubWF0Y2hlcysrOyAgICAgICAvKiBhZGQgYSBwZW5kaW5nIHNsaWRlX2hhc2goKSAqL1xuICAgIH1cbiAgICBoYXZlICs9IHMud19zaXplOyAgICAgIC8qIG1vcmUgc3BhY2Ugbm93ICovXG4gICAgaWYgKHMuaW5zZXJ0ID4gcy5zdHJzdGFydCkge1xuICAgICAgcy5pbnNlcnQgPSBzLnN0cnN0YXJ0O1xuICAgIH1cbiAgfVxuICBpZiAoaGF2ZSA+IHMuc3RybS5hdmFpbF9pbikge1xuICAgIGhhdmUgPSBzLnN0cm0uYXZhaWxfaW47XG4gIH1cbiAgaWYgKGhhdmUpIHtcbiAgICByZWFkX2J1ZihzLnN0cm0sIHMud2luZG93LCBzLnN0cnN0YXJ0LCBoYXZlKTtcbiAgICBzLnN0cnN0YXJ0ICs9IGhhdmU7XG4gICAgcy5pbnNlcnQgKz0gaGF2ZSA+IHMud19zaXplIC0gcy5pbnNlcnQgPyBzLndfc2l6ZSAtIHMuaW5zZXJ0IDogaGF2ZTtcbiAgfVxuICBpZiAocy5oaWdoX3dhdGVyIDwgcy5zdHJzdGFydCkge1xuICAgIHMuaGlnaF93YXRlciA9IHMuc3Ryc3RhcnQ7XG4gIH1cblxuICAvKiBUaGVyZSB3YXMgbm90IGVub3VnaCBhdmFpbF9vdXQgdG8gd3JpdGUgYSBjb21wbGV0ZSB3b3J0aHkgb3IgZmx1c2hlZFxuICAgKiBzdG9yZWQgYmxvY2sgdG8gbmV4dF9vdXQuIFdyaXRlIGEgc3RvcmVkIGJsb2NrIHRvIHBlbmRpbmcgaW5zdGVhZCwgaWYgd2VcbiAgICogaGF2ZSBlbm91Z2ggaW5wdXQgZm9yIGEgd29ydGh5IGJsb2NrLCBvciBpZiBmbHVzaGluZyBhbmQgdGhlcmUgaXMgZW5vdWdoXG4gICAqIHJvb20gZm9yIHRoZSByZW1haW5pbmcgaW5wdXQgYXMgYSBzdG9yZWQgYmxvY2sgaW4gdGhlIHBlbmRpbmcgYnVmZmVyLlxuICAgKi9cbiAgaGF2ZSA9IChzLmJpX3ZhbGlkICsgNDIpID4+IDM7ICAgICAvKiBudW1iZXIgb2YgaGVhZGVyIGJ5dGVzICovXG4gICAgLyogbWF4aW11bSBzdG9yZWQgYmxvY2sgbGVuZ3RoIHRoYXQgd2lsbCBmaXQgaW4gcGVuZGluZzogKi9cbiAgaGF2ZSA9IHMucGVuZGluZ19idWZfc2l6ZSAtIGhhdmUgPiA2NTUzNS8qIE1BWF9TVE9SRUQgKi8gPyA2NTUzNS8qIE1BWF9TVE9SRUQgKi8gOiBzLnBlbmRpbmdfYnVmX3NpemUgLSBoYXZlO1xuICBtaW5fYmxvY2sgPSBoYXZlID4gcy53X3NpemUgPyBzLndfc2l6ZSA6IGhhdmU7XG4gIGxlZnQgPSBzLnN0cnN0YXJ0IC0gcy5ibG9ja19zdGFydDtcbiAgaWYgKGxlZnQgPj0gbWluX2Jsb2NrIHx8XG4gICAgICgobGVmdCB8fCBmbHVzaCA9PT0gWl9GSU5JU0gkMykgJiYgZmx1c2ggIT09IFpfTk9fRkxVU0gkMiAmJlxuICAgICBzLnN0cm0uYXZhaWxfaW4gPT09IDAgJiYgbGVmdCA8PSBoYXZlKSkge1xuICAgIGxlbiA9IGxlZnQgPiBoYXZlID8gaGF2ZSA6IGxlZnQ7XG4gICAgbGFzdCA9IGZsdXNoID09PSBaX0ZJTklTSCQzICYmIHMuc3RybS5hdmFpbF9pbiA9PT0gMCAmJlxuICAgICAgICAgbGVuID09PSBsZWZ0ID8gMSA6IDA7XG4gICAgX3RyX3N0b3JlZF9ibG9jayhzLCBzLmJsb2NrX3N0YXJ0LCBsZW4sIGxhc3QpO1xuICAgIHMuYmxvY2tfc3RhcnQgKz0gbGVuO1xuICAgIGZsdXNoX3BlbmRpbmcocy5zdHJtKTtcbiAgfVxuXG4gIC8qIFdlJ3ZlIGRvbmUgYWxsIHdlIGNhbiB3aXRoIHRoZSBhdmFpbGFibGUgaW5wdXQgYW5kIG91dHB1dC4gKi9cbiAgcmV0dXJuIGxhc3QgPyBCU19GSU5JU0hfU1RBUlRFRCA6IEJTX05FRURfTU9SRTtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb21wcmVzcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGZyb20gdGhlIGlucHV0IHN0cmVhbSwgcmV0dXJuIHRoZSBjdXJyZW50XG4gKiBibG9jayBzdGF0ZS5cbiAqIFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgcGVyZm9ybSBsYXp5IGV2YWx1YXRpb24gb2YgbWF0Y2hlcyBhbmQgaW5zZXJ0c1xuICogbmV3IHN0cmluZ3MgaW4gdGhlIGRpY3Rpb25hcnkgb25seSBmb3IgdW5tYXRjaGVkIHN0cmluZ3Mgb3IgZm9yIHNob3J0XG4gKiBtYXRjaGVzLiBJdCBpcyB1c2VkIG9ubHkgZm9yIHRoZSBmYXN0IGNvbXByZXNzaW9uIG9wdGlvbnMuXG4gKi9cbmNvbnN0IGRlZmxhdGVfZmFzdCA9IChzLCBmbHVzaCkgPT4ge1xuXG4gIGxldCBoYXNoX2hlYWQ7ICAgICAgICAvKiBoZWFkIG9mIHRoZSBoYXNoIGNoYWluICovXG4gIGxldCBiZmx1c2g7ICAgICAgICAgICAvKiBzZXQgaWYgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQgKi9cblxuICBmb3IgKDs7KSB7XG4gICAgLyogTWFrZSBzdXJlIHRoYXQgd2UgYWx3YXlzIGhhdmUgZW5vdWdoIGxvb2thaGVhZCwgZXhjZXB0XG4gICAgICogYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgZmlsZS4gV2UgbmVlZCBNQVhfTUFUQ0ggYnl0ZXNcbiAgICAgKiBmb3IgdGhlIG5leHQgbWF0Y2gsIHBsdXMgTUlOX01BVENIIGJ5dGVzIHRvIGluc2VydCB0aGVcbiAgICAgKiBzdHJpbmcgZm9sbG93aW5nIHRoZSBuZXh0IG1hdGNoLlxuICAgICAqL1xuICAgIGlmIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQpIHtcbiAgICAgIGZpbGxfd2luZG93KHMpO1xuICAgICAgaWYgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCAmJiBmbHVzaCA9PT0gWl9OT19GTFVTSCQyKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG4gICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgYnJlYWs7IC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogSW5zZXJ0IHRoZSBzdHJpbmcgd2luZG93W3N0cnN0YXJ0IC4uIHN0cnN0YXJ0KzJdIGluIHRoZVxuICAgICAqIGRpY3Rpb25hcnksIGFuZCBzZXQgaGFzaF9oZWFkIHRvIHRoZSBoZWFkIG9mIHRoZSBoYXNoIGNoYWluOlxuICAgICAqL1xuICAgIGhhc2hfaGVhZCA9IDAvKk5JTCovO1xuICAgIGlmIChzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0gpIHtcbiAgICAgIC8qKiogSU5TRVJUX1NUUklORyhzLCBzLnN0cnN0YXJ0LCBoYXNoX2hlYWQpOyAqKiovXG4gICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIIC0gMV0pO1xuICAgICAgaGFzaF9oZWFkID0gcy5wcmV2W3Muc3Ryc3RhcnQgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG4gICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzLnN0cnN0YXJ0O1xuICAgICAgLyoqKi9cbiAgICB9XG5cbiAgICAvKiBGaW5kIHRoZSBsb25nZXN0IG1hdGNoLCBkaXNjYXJkaW5nIHRob3NlIDw9IHByZXZfbGVuZ3RoLlxuICAgICAqIEF0IHRoaXMgcG9pbnQgd2UgaGF2ZSBhbHdheXMgbWF0Y2hfbGVuZ3RoIDwgTUlOX01BVENIXG4gICAgICovXG4gICAgaWYgKGhhc2hfaGVhZCAhPT0gMC8qTklMKi8gJiYgKChzLnN0cnN0YXJ0IC0gaGFzaF9oZWFkKSA8PSAocy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKSkpIHtcbiAgICAgIC8qIFRvIHNpbXBsaWZ5IHRoZSBjb2RlLCB3ZSBwcmV2ZW50IG1hdGNoZXMgd2l0aCB0aGUgc3RyaW5nXG4gICAgICAgKiBvZiB3aW5kb3cgaW5kZXggMCAoaW4gcGFydGljdWxhciB3ZSBoYXZlIHRvIGF2b2lkIGEgbWF0Y2hcbiAgICAgICAqIG9mIHRoZSBzdHJpbmcgd2l0aCBpdHNlbGYgYXQgdGhlIHN0YXJ0IG9mIHRoZSBpbnB1dCBmaWxlKS5cbiAgICAgICAqL1xuICAgICAgcy5tYXRjaF9sZW5ndGggPSBsb25nZXN0X21hdGNoKHMsIGhhc2hfaGVhZCk7XG4gICAgICAvKiBsb25nZXN0X21hdGNoKCkgc2V0cyBtYXRjaF9zdGFydCAqL1xuICAgIH1cbiAgICBpZiAocy5tYXRjaF9sZW5ndGggPj0gTUlOX01BVENIKSB7XG4gICAgICAvLyBjaGVja19tYXRjaChzLCBzLnN0cnN0YXJ0LCBzLm1hdGNoX3N0YXJ0LCBzLm1hdGNoX2xlbmd0aCk7IC8vIGZvciBkZWJ1ZyBvbmx5XG5cbiAgICAgIC8qKiogX3RyX3RhbGx5X2Rpc3Qocywgcy5zdHJzdGFydCAtIHMubWF0Y2hfc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCAtIE1JTl9NQVRDSCwgYmZsdXNoKTsgKioqL1xuICAgICAgYmZsdXNoID0gX3RyX3RhbGx5KHMsIHMuc3Ryc3RhcnQgLSBzLm1hdGNoX3N0YXJ0LCBzLm1hdGNoX2xlbmd0aCAtIE1JTl9NQVRDSCk7XG5cbiAgICAgIHMubG9va2FoZWFkIC09IHMubWF0Y2hfbGVuZ3RoO1xuXG4gICAgICAvKiBJbnNlcnQgbmV3IHN0cmluZ3MgaW4gdGhlIGhhc2ggdGFibGUgb25seSBpZiB0aGUgbWF0Y2ggbGVuZ3RoXG4gICAgICAgKiBpcyBub3QgdG9vIGxhcmdlLiBUaGlzIHNhdmVzIHRpbWUgYnV0IGRlZ3JhZGVzIGNvbXByZXNzaW9uLlxuICAgICAgICovXG4gICAgICBpZiAocy5tYXRjaF9sZW5ndGggPD0gcy5tYXhfbGF6eV9tYXRjaC8qbWF4X2luc2VydF9sZW5ndGgqLyAmJiBzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0gpIHtcbiAgICAgICAgcy5tYXRjaF9sZW5ndGgtLTsgLyogc3RyaW5nIGF0IHN0cnN0YXJ0IGFscmVhZHkgaW4gdGFibGUgKi9cbiAgICAgICAgZG8ge1xuICAgICAgICAgIHMuc3Ryc3RhcnQrKztcbiAgICAgICAgICAvKioqIElOU0VSVF9TVFJJTkcocywgcy5zdHJzdGFydCwgaGFzaF9oZWFkKTsgKioqL1xuICAgICAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3Muc3Ryc3RhcnQgKyBNSU5fTUFUQ0ggLSAxXSk7XG4gICAgICAgICAgaGFzaF9oZWFkID0gcy5wcmV2W3Muc3Ryc3RhcnQgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG4gICAgICAgICAgcy5oZWFkW3MuaW5zX2hdID0gcy5zdHJzdGFydDtcbiAgICAgICAgICAvKioqL1xuICAgICAgICAgIC8qIHN0cnN0YXJ0IG5ldmVyIGV4Y2VlZHMgV1NJWkUtTUFYX01BVENILCBzbyB0aGVyZSBhcmVcbiAgICAgICAgICAgKiBhbHdheXMgTUlOX01BVENIIGJ5dGVzIGFoZWFkLlxuICAgICAgICAgICAqL1xuICAgICAgICB9IHdoaWxlICgtLXMubWF0Y2hfbGVuZ3RoICE9PSAwKTtcbiAgICAgICAgcy5zdHJzdGFydCsrO1xuICAgICAgfSBlbHNlXG4gICAgICB7XG4gICAgICAgIHMuc3Ryc3RhcnQgKz0gcy5tYXRjaF9sZW5ndGg7XG4gICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gMDtcbiAgICAgICAgcy5pbnNfaCA9IHMud2luZG93W3Muc3Ryc3RhcnRdO1xuICAgICAgICAvKiBVUERBVEVfSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0KzFdKTsgKi9cbiAgICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbcy5zdHJzdGFydCArIDFdKTtcblxuLy8jaWYgTUlOX01BVENIICE9IDNcbi8vICAgICAgICAgICAgICAgIENhbGwgVVBEQVRFX0hBU0goKSBNSU5fTUFUQ0gtMyBtb3JlIHRpbWVzXG4vLyNlbmRpZlxuICAgICAgICAvKiBJZiBsb29rYWhlYWQgPCBNSU5fTUFUQ0gsIGluc19oIGlzIGdhcmJhZ2UsIGJ1dCBpdCBkb2VzIG5vdFxuICAgICAgICAgKiBtYXR0ZXIgc2luY2UgaXQgd2lsbCBiZSByZWNvbXB1dGVkIGF0IG5leHQgZGVmbGF0ZSBjYWxsLlxuICAgICAgICAgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyogTm8gbWF0Y2gsIG91dHB1dCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSkpO1xuICAgICAgLyoqKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnRdLCBiZmx1c2gpOyAqKiovXG4gICAgICBiZmx1c2ggPSBfdHJfdGFsbHkocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydF0pO1xuXG4gICAgICBzLmxvb2thaGVhZC0tO1xuICAgICAgcy5zdHJzdGFydCsrO1xuICAgIH1cbiAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG4gICAgICAvKioqL1xuICAgIH1cbiAgfVxuICBzLmluc2VydCA9ICgocy5zdHJzdGFydCA8IChNSU5fTUFUQ0ggLSAxKSkgPyBzLnN0cnN0YXJ0IDogTUlOX01BVENIIC0gMSk7XG4gIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gkMykge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMSk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgfVxuICAgIC8qKiovXG4gICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICB9XG4gIGlmIChzLnN5bV9uZXh0KSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgIH1cbiAgICAvKioqL1xuICB9XG4gIHJldHVybiBCU19CTE9DS19ET05FO1xufTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTYW1lIGFzIGFib3ZlLCBidXQgYWNoaWV2ZXMgYmV0dGVyIGNvbXByZXNzaW9uLiBXZSB1c2UgYSBsYXp5XG4gKiBldmFsdWF0aW9uIGZvciBtYXRjaGVzOiBhIG1hdGNoIGlzIGZpbmFsbHkgYWRvcHRlZCBvbmx5IGlmIHRoZXJlIGlzXG4gKiBubyBiZXR0ZXIgbWF0Y2ggYXQgdGhlIG5leHQgd2luZG93IHBvc2l0aW9uLlxuICovXG5jb25zdCBkZWZsYXRlX3Nsb3cgPSAocywgZmx1c2gpID0+IHtcblxuICBsZXQgaGFzaF9oZWFkOyAgICAgICAgICAvKiBoZWFkIG9mIGhhc2ggY2hhaW4gKi9cbiAgbGV0IGJmbHVzaDsgICAgICAgICAgICAgIC8qIHNldCBpZiBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZCAqL1xuXG4gIGxldCBtYXhfaW5zZXJ0O1xuXG4gIC8qIFByb2Nlc3MgdGhlIGlucHV0IGJsb2NrLiAqL1xuICBmb3IgKDs7KSB7XG4gICAgLyogTWFrZSBzdXJlIHRoYXQgd2UgYWx3YXlzIGhhdmUgZW5vdWdoIGxvb2thaGVhZCwgZXhjZXB0XG4gICAgICogYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgZmlsZS4gV2UgbmVlZCBNQVhfTUFUQ0ggYnl0ZXNcbiAgICAgKiBmb3IgdGhlIG5leHQgbWF0Y2gsIHBsdXMgTUlOX01BVENIIGJ5dGVzIHRvIGluc2VydCB0aGVcbiAgICAgKiBzdHJpbmcgZm9sbG93aW5nIHRoZSBuZXh0IG1hdGNoLlxuICAgICAqL1xuICAgIGlmIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQpIHtcbiAgICAgIGZpbGxfd2luZG93KHMpO1xuICAgICAgaWYgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCAmJiBmbHVzaCA9PT0gWl9OT19GTFVTSCQyKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG4gICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHsgYnJlYWs7IH0gLyogZmx1c2ggdGhlIGN1cnJlbnQgYmxvY2sgKi9cbiAgICB9XG5cbiAgICAvKiBJbnNlcnQgdGhlIHN0cmluZyB3aW5kb3dbc3Ryc3RhcnQgLi4gc3Ryc3RhcnQrMl0gaW4gdGhlXG4gICAgICogZGljdGlvbmFyeSwgYW5kIHNldCBoYXNoX2hlYWQgdG8gdGhlIGhlYWQgb2YgdGhlIGhhc2ggY2hhaW46XG4gICAgICovXG4gICAgaGFzaF9oZWFkID0gMC8qTklMKi87XG4gICAgaWYgKHMubG9va2FoZWFkID49IE1JTl9NQVRDSCkge1xuICAgICAgLyoqKiBJTlNFUlRfU1RSSU5HKHMsIHMuc3Ryc3RhcnQsIGhhc2hfaGVhZCk7ICoqKi9cbiAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3Muc3Ryc3RhcnQgKyBNSU5fTUFUQ0ggLSAxXSk7XG4gICAgICBoYXNoX2hlYWQgPSBzLnByZXZbcy5zdHJzdGFydCAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcbiAgICAgIHMuaGVhZFtzLmluc19oXSA9IHMuc3Ryc3RhcnQ7XG4gICAgICAvKioqL1xuICAgIH1cblxuICAgIC8qIEZpbmQgdGhlIGxvbmdlc3QgbWF0Y2gsIGRpc2NhcmRpbmcgdGhvc2UgPD0gcHJldl9sZW5ndGguXG4gICAgICovXG4gICAgcy5wcmV2X2xlbmd0aCA9IHMubWF0Y2hfbGVuZ3RoO1xuICAgIHMucHJldl9tYXRjaCA9IHMubWF0Y2hfc3RhcnQ7XG4gICAgcy5tYXRjaF9sZW5ndGggPSBNSU5fTUFUQ0ggLSAxO1xuXG4gICAgaWYgKGhhc2hfaGVhZCAhPT0gMC8qTklMKi8gJiYgcy5wcmV2X2xlbmd0aCA8IHMubWF4X2xhenlfbWF0Y2ggJiZcbiAgICAgICAgcy5zdHJzdGFydCAtIGhhc2hfaGVhZCA8PSAocy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKS8qTUFYX0RJU1QocykqLykge1xuICAgICAgLyogVG8gc2ltcGxpZnkgdGhlIGNvZGUsIHdlIHByZXZlbnQgbWF0Y2hlcyB3aXRoIHRoZSBzdHJpbmdcbiAgICAgICAqIG9mIHdpbmRvdyBpbmRleCAwIChpbiBwYXJ0aWN1bGFyIHdlIGhhdmUgdG8gYXZvaWQgYSBtYXRjaFxuICAgICAgICogb2YgdGhlIHN0cmluZyB3aXRoIGl0c2VsZiBhdCB0aGUgc3RhcnQgb2YgdGhlIGlucHV0IGZpbGUpLlxuICAgICAgICovXG4gICAgICBzLm1hdGNoX2xlbmd0aCA9IGxvbmdlc3RfbWF0Y2gocywgaGFzaF9oZWFkKTtcbiAgICAgIC8qIGxvbmdlc3RfbWF0Y2goKSBzZXRzIG1hdGNoX3N0YXJ0ICovXG5cbiAgICAgIGlmIChzLm1hdGNoX2xlbmd0aCA8PSA1ICYmXG4gICAgICAgICAocy5zdHJhdGVneSA9PT0gWl9GSUxURVJFRCB8fCAocy5tYXRjaF9sZW5ndGggPT09IE1JTl9NQVRDSCAmJiBzLnN0cnN0YXJ0IC0gcy5tYXRjaF9zdGFydCA+IDQwOTYvKlRPT19GQVIqLykpKSB7XG5cbiAgICAgICAgLyogSWYgcHJldl9tYXRjaCBpcyBhbHNvIE1JTl9NQVRDSCwgbWF0Y2hfc3RhcnQgaXMgZ2FyYmFnZVxuICAgICAgICAgKiBidXQgd2Ugd2lsbCBpZ25vcmUgdGhlIGN1cnJlbnQgbWF0Y2ggYW55d2F5LlxuICAgICAgICAgKi9cbiAgICAgICAgcy5tYXRjaF9sZW5ndGggPSBNSU5fTUFUQ0ggLSAxO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBJZiB0aGVyZSB3YXMgYSBtYXRjaCBhdCB0aGUgcHJldmlvdXMgc3RlcCBhbmQgdGhlIGN1cnJlbnRcbiAgICAgKiBtYXRjaCBpcyBub3QgYmV0dGVyLCBvdXRwdXQgdGhlIHByZXZpb3VzIG1hdGNoOlxuICAgICAqL1xuICAgIGlmIChzLnByZXZfbGVuZ3RoID49IE1JTl9NQVRDSCAmJiBzLm1hdGNoX2xlbmd0aCA8PSBzLnByZXZfbGVuZ3RoKSB7XG4gICAgICBtYXhfaW5zZXJ0ID0gcy5zdHJzdGFydCArIHMubG9va2FoZWFkIC0gTUlOX01BVENIO1xuICAgICAgLyogRG8gbm90IGluc2VydCBzdHJpbmdzIGluIGhhc2ggdGFibGUgYmV5b25kIHRoaXMuICovXG5cbiAgICAgIC8vY2hlY2tfbWF0Y2gocywgcy5zdHJzdGFydC0xLCBzLnByZXZfbWF0Y2gsIHMucHJldl9sZW5ndGgpO1xuXG4gICAgICAvKioqX3RyX3RhbGx5X2Rpc3Qocywgcy5zdHJzdGFydCAtIDEgLSBzLnByZXZfbWF0Y2gsXG4gICAgICAgICAgICAgICAgICAgICBzLnByZXZfbGVuZ3RoIC0gTUlOX01BVENILCBiZmx1c2gpOyoqKi9cbiAgICAgIGJmbHVzaCA9IF90cl90YWxseShzLCBzLnN0cnN0YXJ0IC0gMSAtIHMucHJldl9tYXRjaCwgcy5wcmV2X2xlbmd0aCAtIE1JTl9NQVRDSCk7XG4gICAgICAvKiBJbnNlcnQgaW4gaGFzaCB0YWJsZSBhbGwgc3RyaW5ncyB1cCB0byB0aGUgZW5kIG9mIHRoZSBtYXRjaC5cbiAgICAgICAqIHN0cnN0YXJ0LTEgYW5kIHN0cnN0YXJ0IGFyZSBhbHJlYWR5IGluc2VydGVkLiBJZiB0aGVyZSBpcyBub3RcbiAgICAgICAqIGVub3VnaCBsb29rYWhlYWQsIHRoZSBsYXN0IHR3byBzdHJpbmdzIGFyZSBub3QgaW5zZXJ0ZWQgaW5cbiAgICAgICAqIHRoZSBoYXNoIHRhYmxlLlxuICAgICAgICovXG4gICAgICBzLmxvb2thaGVhZCAtPSBzLnByZXZfbGVuZ3RoIC0gMTtcbiAgICAgIHMucHJldl9sZW5ndGggLT0gMjtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKCsrcy5zdHJzdGFydCA8PSBtYXhfaW5zZXJ0KSB7XG4gICAgICAgICAgLyoqKiBJTlNFUlRfU1RSSU5HKHMsIHMuc3Ryc3RhcnQsIGhhc2hfaGVhZCk7ICoqKi9cbiAgICAgICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIIC0gMV0pO1xuICAgICAgICAgIGhhc2hfaGVhZCA9IHMucHJldltzLnN0cnN0YXJ0ICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuICAgICAgICAgIHMuaGVhZFtzLmluc19oXSA9IHMuc3Ryc3RhcnQ7XG4gICAgICAgICAgLyoqKi9cbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoLS1zLnByZXZfbGVuZ3RoICE9PSAwKTtcbiAgICAgIHMubWF0Y2hfYXZhaWxhYmxlID0gMDtcbiAgICAgIHMubWF0Y2hfbGVuZ3RoID0gTUlOX01BVENIIC0gMTtcbiAgICAgIHMuc3Ryc3RhcnQrKztcblxuICAgICAgaWYgKGJmbHVzaCkge1xuICAgICAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqKi9cbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAocy5tYXRjaF9hdmFpbGFibGUpIHtcbiAgICAgIC8qIElmIHRoZXJlIHdhcyBubyBtYXRjaCBhdCB0aGUgcHJldmlvdXMgcG9zaXRpb24sIG91dHB1dCBhXG4gICAgICAgKiBzaW5nbGUgbGl0ZXJhbC4gSWYgdGhlcmUgd2FzIGEgbWF0Y2ggYnV0IHRoZSBjdXJyZW50IG1hdGNoXG4gICAgICAgKiBpcyBsb25nZXIsIHRydW5jYXRlIHRoZSBwcmV2aW91cyBtYXRjaCB0byBhIHNpbmdsZSBsaXRlcmFsLlxuICAgICAgICovXG4gICAgICAvL1RyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMtPndpbmRvd1tzLT5zdHJzdGFydC0xXSkpO1xuICAgICAgLyoqKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnQtMV0sIGJmbHVzaCk7ICoqKi9cbiAgICAgIGJmbHVzaCA9IF90cl90YWxseShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0IC0gMV0pO1xuXG4gICAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAgIC8qKiogRkxVU0hfQkxPQ0tfT05MWShzLCAwKSAqKiovXG4gICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgICAvKioqL1xuICAgICAgfVxuICAgICAgcy5zdHJzdGFydCsrO1xuICAgICAgcy5sb29rYWhlYWQtLTtcbiAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIFRoZXJlIGlzIG5vIHByZXZpb3VzIG1hdGNoIHRvIGNvbXBhcmUgd2l0aCwgd2FpdCBmb3JcbiAgICAgICAqIHRoZSBuZXh0IHN0ZXAgdG8gZGVjaWRlLlxuICAgICAgICovXG4gICAgICBzLm1hdGNoX2F2YWlsYWJsZSA9IDE7XG4gICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICBzLmxvb2thaGVhZC0tO1xuICAgIH1cbiAgfVxuICAvL0Fzc2VydCAoZmx1c2ggIT0gWl9OT19GTFVTSCwgXCJubyBmbHVzaD9cIik7XG4gIGlmIChzLm1hdGNoX2F2YWlsYWJsZSkge1xuICAgIC8vVHJhY2V2digoc3RkZXJyLFwiJWNcIiwgcy0+d2luZG93W3MtPnN0cnN0YXJ0LTFdKSk7XG4gICAgLyoqKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnQtMV0sIGJmbHVzaCk7ICoqKi9cbiAgICBiZmx1c2ggPSBfdHJfdGFsbHkocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydCAtIDFdKTtcblxuICAgIHMubWF0Y2hfYXZhaWxhYmxlID0gMDtcbiAgfVxuICBzLmluc2VydCA9IHMuc3Ryc3RhcnQgPCBNSU5fTUFUQ0ggLSAxID8gcy5zdHJzdGFydCA6IE1JTl9NQVRDSCAtIDE7XG4gIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gkMykge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMSk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgfVxuICAgIC8qKiovXG4gICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICB9XG4gIGlmIChzLnN5bV9uZXh0KSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgIH1cbiAgICAvKioqL1xuICB9XG5cbiAgcmV0dXJuIEJTX0JMT0NLX0RPTkU7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogRm9yIFpfUkxFLCBzaW1wbHkgbG9vayBmb3IgcnVucyBvZiBieXRlcywgZ2VuZXJhdGUgbWF0Y2hlcyBvbmx5IG9mIGRpc3RhbmNlXG4gKiBvbmUuICBEbyBub3QgbWFpbnRhaW4gYSBoYXNoIHRhYmxlLiAgKEl0IHdpbGwgYmUgcmVnZW5lcmF0ZWQgaWYgdGhpcyBydW4gb2ZcbiAqIGRlZmxhdGUgc3dpdGNoZXMgYXdheSBmcm9tIFpfUkxFLilcbiAqL1xuY29uc3QgZGVmbGF0ZV9ybGUgPSAocywgZmx1c2gpID0+IHtcblxuICBsZXQgYmZsdXNoOyAgICAgICAgICAgIC8qIHNldCBpZiBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZCAqL1xuICBsZXQgcHJldjsgICAgICAgICAgICAgIC8qIGJ5dGUgYXQgZGlzdGFuY2Ugb25lIHRvIG1hdGNoICovXG4gIGxldCBzY2FuLCBzdHJlbmQ7ICAgICAgLyogc2NhbiBnb2VzIHVwIHRvIHN0cmVuZCBmb3IgbGVuZ3RoIG9mIHJ1biAqL1xuXG4gIGNvbnN0IF93aW4gPSBzLndpbmRvdztcblxuICBmb3IgKDs7KSB7XG4gICAgLyogTWFrZSBzdXJlIHRoYXQgd2UgYWx3YXlzIGhhdmUgZW5vdWdoIGxvb2thaGVhZCwgZXhjZXB0XG4gICAgICogYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgZmlsZS4gV2UgbmVlZCBNQVhfTUFUQ0ggYnl0ZXNcbiAgICAgKiBmb3IgdGhlIGxvbmdlc3QgcnVuLCBwbHVzIG9uZSBmb3IgdGhlIHVucm9sbGVkIGxvb3AuXG4gICAgICovXG4gICAgaWYgKHMubG9va2FoZWFkIDw9IE1BWF9NQVRDSCkge1xuICAgICAgZmlsbF93aW5kb3cocyk7XG4gICAgICBpZiAocy5sb29rYWhlYWQgPD0gTUFYX01BVENIICYmIGZsdXNoID09PSBaX05PX0ZMVVNIJDIpIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkgeyBicmVhazsgfSAvKiBmbHVzaCB0aGUgY3VycmVudCBibG9jayAqL1xuICAgIH1cblxuICAgIC8qIFNlZSBob3cgbWFueSB0aW1lcyB0aGUgcHJldmlvdXMgYnl0ZSByZXBlYXRzICovXG4gICAgcy5tYXRjaF9sZW5ndGggPSAwO1xuICAgIGlmIChzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0ggJiYgcy5zdHJzdGFydCA+IDApIHtcbiAgICAgIHNjYW4gPSBzLnN0cnN0YXJ0IC0gMTtcbiAgICAgIHByZXYgPSBfd2luW3NjYW5dO1xuICAgICAgaWYgKHByZXYgPT09IF93aW5bKytzY2FuXSAmJiBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dKSB7XG4gICAgICAgIHN0cmVuZCA9IHMuc3Ryc3RhcnQgKyBNQVhfTUFUQ0g7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAvKmpzaGludCBub2VtcHR5OmZhbHNlKi9cbiAgICAgICAgfSB3aGlsZSAocHJldiA9PT0gX3dpblsrK3NjYW5dICYmIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmXG4gICAgICAgICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJiBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgICAgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICBzY2FuIDwgc3RyZW5kKTtcbiAgICAgICAgcy5tYXRjaF9sZW5ndGggPSBNQVhfTUFUQ0ggLSAoc3RyZW5kIC0gc2Nhbik7XG4gICAgICAgIGlmIChzLm1hdGNoX2xlbmd0aCA+IHMubG9va2FoZWFkKSB7XG4gICAgICAgICAgcy5tYXRjaF9sZW5ndGggPSBzLmxvb2thaGVhZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy9Bc3NlcnQoc2NhbiA8PSBzLT53aW5kb3crKHVJbnQpKHMtPndpbmRvd19zaXplLTEpLCBcIndpbGQgc2NhblwiKTtcbiAgICB9XG5cbiAgICAvKiBFbWl0IG1hdGNoIGlmIGhhdmUgcnVuIG9mIE1JTl9NQVRDSCBvciBsb25nZXIsIGVsc2UgZW1pdCBsaXRlcmFsICovXG4gICAgaWYgKHMubWF0Y2hfbGVuZ3RoID49IE1JTl9NQVRDSCkge1xuICAgICAgLy9jaGVja19tYXRjaChzLCBzLnN0cnN0YXJ0LCBzLnN0cnN0YXJ0IC0gMSwgcy5tYXRjaF9sZW5ndGgpO1xuXG4gICAgICAvKioqIF90cl90YWxseV9kaXN0KHMsIDEsIHMubWF0Y2hfbGVuZ3RoIC0gTUlOX01BVENILCBiZmx1c2gpOyAqKiovXG4gICAgICBiZmx1c2ggPSBfdHJfdGFsbHkocywgMSwgcy5tYXRjaF9sZW5ndGggLSBNSU5fTUFUQ0gpO1xuXG4gICAgICBzLmxvb2thaGVhZCAtPSBzLm1hdGNoX2xlbmd0aDtcbiAgICAgIHMuc3Ryc3RhcnQgKz0gcy5tYXRjaF9sZW5ndGg7XG4gICAgICBzLm1hdGNoX2xlbmd0aCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIE5vIG1hdGNoLCBvdXRwdXQgYSBsaXRlcmFsIGJ5dGUgKi9cbiAgICAgIC8vVHJhY2V2digoc3RkZXJyLFwiJWNcIiwgcy0+d2luZG93W3MtPnN0cnN0YXJ0XSkpO1xuICAgICAgLyoqKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnRdLCBiZmx1c2gpOyAqKiovXG4gICAgICBiZmx1c2ggPSBfdHJfdGFsbHkocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydF0pO1xuXG4gICAgICBzLmxvb2thaGVhZC0tO1xuICAgICAgcy5zdHJzdGFydCsrO1xuICAgIH1cbiAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG4gICAgICAvKioqL1xuICAgIH1cbiAgfVxuICBzLmluc2VydCA9IDA7XG4gIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gkMykge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMSk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgfVxuICAgIC8qKiovXG4gICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICB9XG4gIGlmIChzLnN5bV9uZXh0KSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgIH1cbiAgICAvKioqL1xuICB9XG4gIHJldHVybiBCU19CTE9DS19ET05FO1xufTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBGb3IgWl9IVUZGTUFOX09OTFksIGRvIG5vdCBsb29rIGZvciBtYXRjaGVzLiAgRG8gbm90IG1haW50YWluIGEgaGFzaCB0YWJsZS5cbiAqIChJdCB3aWxsIGJlIHJlZ2VuZXJhdGVkIGlmIHRoaXMgcnVuIG9mIGRlZmxhdGUgc3dpdGNoZXMgYXdheSBmcm9tIEh1ZmZtYW4uKVxuICovXG5jb25zdCBkZWZsYXRlX2h1ZmYgPSAocywgZmx1c2gpID0+IHtcblxuICBsZXQgYmZsdXNoOyAgICAgICAgICAgICAvKiBzZXQgaWYgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQgKi9cblxuICBmb3IgKDs7KSB7XG4gICAgLyogTWFrZSBzdXJlIHRoYXQgd2UgaGF2ZSBhIGxpdGVyYWwgdG8gd3JpdGUuICovXG4gICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICBpZiAoZmx1c2ggPT09IFpfTk9fRkxVU0gkMikge1xuICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7ICAgICAgLyogZmx1c2ggdGhlIGN1cnJlbnQgYmxvY2sgKi9cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBPdXRwdXQgYSBsaXRlcmFsIGJ5dGUgKi9cbiAgICBzLm1hdGNoX2xlbmd0aCA9IDA7XG4gICAgLy9UcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLT53aW5kb3dbcy0+c3Ryc3RhcnRdKSk7XG4gICAgLyoqKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnRdLCBiZmx1c2gpOyAqKiovXG4gICAgYmZsdXNoID0gX3RyX3RhbGx5KHMsIDAsIHMud2luZG93W3Muc3Ryc3RhcnRdKTtcbiAgICBzLmxvb2thaGVhZC0tO1xuICAgIHMuc3Ryc3RhcnQrKztcbiAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG4gICAgICAvKioqL1xuICAgIH1cbiAgfVxuICBzLmluc2VydCA9IDA7XG4gIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gkMykge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMSk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgfVxuICAgIC8qKiovXG4gICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICB9XG4gIGlmIChzLnN5bV9uZXh0KSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgIH1cbiAgICAvKioqL1xuICB9XG4gIHJldHVybiBCU19CTE9DS19ET05FO1xufTtcblxuLyogVmFsdWVzIGZvciBtYXhfbGF6eV9tYXRjaCwgZ29vZF9tYXRjaCBhbmQgbWF4X2NoYWluX2xlbmd0aCwgZGVwZW5kaW5nIG9uXG4gKiB0aGUgZGVzaXJlZCBwYWNrIGxldmVsICgwLi45KS4gVGhlIHZhbHVlcyBnaXZlbiBiZWxvdyBoYXZlIGJlZW4gdHVuZWQgdG9cbiAqIGV4Y2x1ZGUgd29yc3QgY2FzZSBwZXJmb3JtYW5jZSBmb3IgcGF0aG9sb2dpY2FsIGZpbGVzLiBCZXR0ZXIgdmFsdWVzIG1heSBiZVxuICogZm91bmQgZm9yIHNwZWNpZmljIGZpbGVzLlxuICovXG5mdW5jdGlvbiBDb25maWcoZ29vZF9sZW5ndGgsIG1heF9sYXp5LCBuaWNlX2xlbmd0aCwgbWF4X2NoYWluLCBmdW5jKSB7XG5cbiAgdGhpcy5nb29kX2xlbmd0aCA9IGdvb2RfbGVuZ3RoO1xuICB0aGlzLm1heF9sYXp5ID0gbWF4X2xhenk7XG4gIHRoaXMubmljZV9sZW5ndGggPSBuaWNlX2xlbmd0aDtcbiAgdGhpcy5tYXhfY2hhaW4gPSBtYXhfY2hhaW47XG4gIHRoaXMuZnVuYyA9IGZ1bmM7XG59XG5cbmNvbnN0IGNvbmZpZ3VyYXRpb25fdGFibGUgPSBbXG4gIC8qICAgICAgZ29vZCBsYXp5IG5pY2UgY2hhaW4gKi9cbiAgbmV3IENvbmZpZygwLCAwLCAwLCAwLCBkZWZsYXRlX3N0b3JlZCksICAgICAgICAgIC8qIDAgc3RvcmUgb25seSAqL1xuICBuZXcgQ29uZmlnKDQsIDQsIDgsIDQsIGRlZmxhdGVfZmFzdCksICAgICAgICAgICAgLyogMSBtYXggc3BlZWQsIG5vIGxhenkgbWF0Y2hlcyAqL1xuICBuZXcgQ29uZmlnKDQsIDUsIDE2LCA4LCBkZWZsYXRlX2Zhc3QpLCAgICAgICAgICAgLyogMiAqL1xuICBuZXcgQ29uZmlnKDQsIDYsIDMyLCAzMiwgZGVmbGF0ZV9mYXN0KSwgICAgICAgICAgLyogMyAqL1xuXG4gIG5ldyBDb25maWcoNCwgNCwgMTYsIDE2LCBkZWZsYXRlX3Nsb3cpLCAgICAgICAgICAvKiA0IGxhenkgbWF0Y2hlcyAqL1xuICBuZXcgQ29uZmlnKDgsIDE2LCAzMiwgMzIsIGRlZmxhdGVfc2xvdyksICAgICAgICAgLyogNSAqL1xuICBuZXcgQ29uZmlnKDgsIDE2LCAxMjgsIDEyOCwgZGVmbGF0ZV9zbG93KSwgICAgICAgLyogNiAqL1xuICBuZXcgQ29uZmlnKDgsIDMyLCAxMjgsIDI1NiwgZGVmbGF0ZV9zbG93KSwgICAgICAgLyogNyAqL1xuICBuZXcgQ29uZmlnKDMyLCAxMjgsIDI1OCwgMTAyNCwgZGVmbGF0ZV9zbG93KSwgICAgLyogOCAqL1xuICBuZXcgQ29uZmlnKDMyLCAyNTgsIDI1OCwgNDA5NiwgZGVmbGF0ZV9zbG93KSAgICAgLyogOSBtYXggY29tcHJlc3Npb24gKi9cbl07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbml0aWFsaXplIHRoZSBcImxvbmdlc3QgbWF0Y2hcIiByb3V0aW5lcyBmb3IgYSBuZXcgemxpYiBzdHJlYW1cbiAqL1xuY29uc3QgbG1faW5pdCA9IChzKSA9PiB7XG5cbiAgcy53aW5kb3dfc2l6ZSA9IDIgKiBzLndfc2l6ZTtcblxuICAvKioqIENMRUFSX0hBU0gocyk7ICoqKi9cbiAgemVybyhzLmhlYWQpOyAvLyBGaWxsIHdpdGggTklMICg9IDApO1xuXG4gIC8qIFNldCB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnM6XG4gICAqL1xuICBzLm1heF9sYXp5X21hdGNoID0gY29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5tYXhfbGF6eTtcbiAgcy5nb29kX21hdGNoID0gY29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5nb29kX2xlbmd0aDtcbiAgcy5uaWNlX21hdGNoID0gY29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5uaWNlX2xlbmd0aDtcbiAgcy5tYXhfY2hhaW5fbGVuZ3RoID0gY29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5tYXhfY2hhaW47XG5cbiAgcy5zdHJzdGFydCA9IDA7XG4gIHMuYmxvY2tfc3RhcnQgPSAwO1xuICBzLmxvb2thaGVhZCA9IDA7XG4gIHMuaW5zZXJ0ID0gMDtcbiAgcy5tYXRjaF9sZW5ndGggPSBzLnByZXZfbGVuZ3RoID0gTUlOX01BVENIIC0gMTtcbiAgcy5tYXRjaF9hdmFpbGFibGUgPSAwO1xuICBzLmluc19oID0gMDtcbn07XG5cblxuZnVuY3Rpb24gRGVmbGF0ZVN0YXRlKCkge1xuICB0aGlzLnN0cm0gPSBudWxsOyAgICAgICAgICAgIC8qIHBvaW50ZXIgYmFjayB0byB0aGlzIHpsaWIgc3RyZWFtICovXG4gIHRoaXMuc3RhdHVzID0gMDsgICAgICAgICAgICAvKiBhcyB0aGUgbmFtZSBpbXBsaWVzICovXG4gIHRoaXMucGVuZGluZ19idWYgPSBudWxsOyAgICAgIC8qIG91dHB1dCBzdGlsbCBwZW5kaW5nICovXG4gIHRoaXMucGVuZGluZ19idWZfc2l6ZSA9IDA7ICAvKiBzaXplIG9mIHBlbmRpbmdfYnVmICovXG4gIHRoaXMucGVuZGluZ19vdXQgPSAwOyAgICAgICAvKiBuZXh0IHBlbmRpbmcgYnl0ZSB0byBvdXRwdXQgdG8gdGhlIHN0cmVhbSAqL1xuICB0aGlzLnBlbmRpbmcgPSAwOyAgICAgICAgICAgLyogbmIgb2YgYnl0ZXMgaW4gdGhlIHBlbmRpbmcgYnVmZmVyICovXG4gIHRoaXMud3JhcCA9IDA7ICAgICAgICAgICAgICAvKiBiaXQgMCB0cnVlIGZvciB6bGliLCBiaXQgMSB0cnVlIGZvciBnemlwICovXG4gIHRoaXMuZ3poZWFkID0gbnVsbDsgICAgICAgICAvKiBnemlwIGhlYWRlciBpbmZvcm1hdGlvbiB0byB3cml0ZSAqL1xuICB0aGlzLmd6aW5kZXggPSAwOyAgICAgICAgICAgLyogd2hlcmUgaW4gZXh0cmEsIG5hbWUsIG9yIGNvbW1lbnQgKi9cbiAgdGhpcy5tZXRob2QgPSBaX0RFRkxBVEVEJDI7IC8qIGNhbiBvbmx5IGJlIERFRkxBVEVEICovXG4gIHRoaXMubGFzdF9mbHVzaCA9IC0xOyAgIC8qIHZhbHVlIG9mIGZsdXNoIHBhcmFtIGZvciBwcmV2aW91cyBkZWZsYXRlIGNhbGwgKi9cblxuICB0aGlzLndfc2l6ZSA9IDA7ICAvKiBMWjc3IHdpbmRvdyBzaXplICgzMksgYnkgZGVmYXVsdCkgKi9cbiAgdGhpcy53X2JpdHMgPSAwOyAgLyogbG9nMih3X3NpemUpICAoOC4uMTYpICovXG4gIHRoaXMud19tYXNrID0gMDsgIC8qIHdfc2l6ZSAtIDEgKi9cblxuICB0aGlzLndpbmRvdyA9IG51bGw7XG4gIC8qIFNsaWRpbmcgd2luZG93LiBJbnB1dCBieXRlcyBhcmUgcmVhZCBpbnRvIHRoZSBzZWNvbmQgaGFsZiBvZiB0aGUgd2luZG93LFxuICAgKiBhbmQgbW92ZSB0byB0aGUgZmlyc3QgaGFsZiBsYXRlciB0byBrZWVwIGEgZGljdGlvbmFyeSBvZiBhdCBsZWFzdCB3U2l6ZVxuICAgKiBieXRlcy4gV2l0aCB0aGlzIG9yZ2FuaXphdGlvbiwgbWF0Y2hlcyBhcmUgbGltaXRlZCB0byBhIGRpc3RhbmNlIG9mXG4gICAqIHdTaXplLU1BWF9NQVRDSCBieXRlcywgYnV0IHRoaXMgZW5zdXJlcyB0aGF0IElPIGlzIGFsd2F5c1xuICAgKiBwZXJmb3JtZWQgd2l0aCBhIGxlbmd0aCBtdWx0aXBsZSBvZiB0aGUgYmxvY2sgc2l6ZS5cbiAgICovXG5cbiAgdGhpcy53aW5kb3dfc2l6ZSA9IDA7XG4gIC8qIEFjdHVhbCBzaXplIG9mIHdpbmRvdzogMip3U2l6ZSwgZXhjZXB0IHdoZW4gdGhlIHVzZXIgaW5wdXQgYnVmZmVyXG4gICAqIGlzIGRpcmVjdGx5IHVzZWQgYXMgc2xpZGluZyB3aW5kb3cuXG4gICAqL1xuXG4gIHRoaXMucHJldiA9IG51bGw7XG4gIC8qIExpbmsgdG8gb2xkZXIgc3RyaW5nIHdpdGggc2FtZSBoYXNoIGluZGV4LiBUbyBsaW1pdCB0aGUgc2l6ZSBvZiB0aGlzXG4gICAqIGFycmF5IHRvIDY0SywgdGhpcyBsaW5rIGlzIG1haW50YWluZWQgb25seSBmb3IgdGhlIGxhc3QgMzJLIHN0cmluZ3MuXG4gICAqIEFuIGluZGV4IGluIHRoaXMgYXJyYXkgaXMgdGh1cyBhIHdpbmRvdyBpbmRleCBtb2R1bG8gMzJLLlxuICAgKi9cblxuICB0aGlzLmhlYWQgPSBudWxsOyAgIC8qIEhlYWRzIG9mIHRoZSBoYXNoIGNoYWlucyBvciBOSUwuICovXG5cbiAgdGhpcy5pbnNfaCA9IDA7ICAgICAgIC8qIGhhc2ggaW5kZXggb2Ygc3RyaW5nIHRvIGJlIGluc2VydGVkICovXG4gIHRoaXMuaGFzaF9zaXplID0gMDsgICAvKiBudW1iZXIgb2YgZWxlbWVudHMgaW4gaGFzaCB0YWJsZSAqL1xuICB0aGlzLmhhc2hfYml0cyA9IDA7ICAgLyogbG9nMihoYXNoX3NpemUpICovXG4gIHRoaXMuaGFzaF9tYXNrID0gMDsgICAvKiBoYXNoX3NpemUtMSAqL1xuXG4gIHRoaXMuaGFzaF9zaGlmdCA9IDA7XG4gIC8qIE51bWJlciBvZiBiaXRzIGJ5IHdoaWNoIGluc19oIG11c3QgYmUgc2hpZnRlZCBhdCBlYWNoIGlucHV0XG4gICAqIHN0ZXAuIEl0IG11c3QgYmUgc3VjaCB0aGF0IGFmdGVyIE1JTl9NQVRDSCBzdGVwcywgdGhlIG9sZGVzdFxuICAgKiBieXRlIG5vIGxvbmdlciB0YWtlcyBwYXJ0IGluIHRoZSBoYXNoIGtleSwgdGhhdCBpczpcbiAgICogICBoYXNoX3NoaWZ0ICogTUlOX01BVENIID49IGhhc2hfYml0c1xuICAgKi9cblxuICB0aGlzLmJsb2NrX3N0YXJ0ID0gMDtcbiAgLyogV2luZG93IHBvc2l0aW9uIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGN1cnJlbnQgb3V0cHV0IGJsb2NrLiBHZXRzXG4gICAqIG5lZ2F0aXZlIHdoZW4gdGhlIHdpbmRvdyBpcyBtb3ZlZCBiYWNrd2FyZHMuXG4gICAqL1xuXG4gIHRoaXMubWF0Y2hfbGVuZ3RoID0gMDsgICAgICAvKiBsZW5ndGggb2YgYmVzdCBtYXRjaCAqL1xuICB0aGlzLnByZXZfbWF0Y2ggPSAwOyAgICAgICAgLyogcHJldmlvdXMgbWF0Y2ggKi9cbiAgdGhpcy5tYXRjaF9hdmFpbGFibGUgPSAwOyAgIC8qIHNldCBpZiBwcmV2aW91cyBtYXRjaCBleGlzdHMgKi9cbiAgdGhpcy5zdHJzdGFydCA9IDA7ICAgICAgICAgIC8qIHN0YXJ0IG9mIHN0cmluZyB0byBpbnNlcnQgKi9cbiAgdGhpcy5tYXRjaF9zdGFydCA9IDA7ICAgICAgIC8qIHN0YXJ0IG9mIG1hdGNoaW5nIHN0cmluZyAqL1xuICB0aGlzLmxvb2thaGVhZCA9IDA7ICAgICAgICAgLyogbnVtYmVyIG9mIHZhbGlkIGJ5dGVzIGFoZWFkIGluIHdpbmRvdyAqL1xuXG4gIHRoaXMucHJldl9sZW5ndGggPSAwO1xuICAvKiBMZW5ndGggb2YgdGhlIGJlc3QgbWF0Y2ggYXQgcHJldmlvdXMgc3RlcC4gTWF0Y2hlcyBub3QgZ3JlYXRlciB0aGFuIHRoaXNcbiAgICogYXJlIGRpc2NhcmRlZC4gVGhpcyBpcyB1c2VkIGluIHRoZSBsYXp5IG1hdGNoIGV2YWx1YXRpb24uXG4gICAqL1xuXG4gIHRoaXMubWF4X2NoYWluX2xlbmd0aCA9IDA7XG4gIC8qIFRvIHNwZWVkIHVwIGRlZmxhdGlvbiwgaGFzaCBjaGFpbnMgYXJlIG5ldmVyIHNlYXJjaGVkIGJleW9uZCB0aGlzXG4gICAqIGxlbmd0aC4gIEEgaGlnaGVyIGxpbWl0IGltcHJvdmVzIGNvbXByZXNzaW9uIHJhdGlvIGJ1dCBkZWdyYWRlcyB0aGVcbiAgICogc3BlZWQuXG4gICAqL1xuXG4gIHRoaXMubWF4X2xhenlfbWF0Y2ggPSAwO1xuICAvKiBBdHRlbXB0IHRvIGZpbmQgYSBiZXR0ZXIgbWF0Y2ggb25seSB3aGVuIHRoZSBjdXJyZW50IG1hdGNoIGlzIHN0cmljdGx5XG4gICAqIHNtYWxsZXIgdGhhbiB0aGlzIHZhbHVlLiBUaGlzIG1lY2hhbmlzbSBpcyB1c2VkIG9ubHkgZm9yIGNvbXByZXNzaW9uXG4gICAqIGxldmVscyA+PSA0LlxuICAgKi9cbiAgLy8gVGhhdCdzIGFsaWFzIHRvIG1heF9sYXp5X21hdGNoLCBkb24ndCB1c2UgZGlyZWN0bHlcbiAgLy90aGlzLm1heF9pbnNlcnRfbGVuZ3RoID0gMDtcbiAgLyogSW5zZXJ0IG5ldyBzdHJpbmdzIGluIHRoZSBoYXNoIHRhYmxlIG9ubHkgaWYgdGhlIG1hdGNoIGxlbmd0aCBpcyBub3RcbiAgICogZ3JlYXRlciB0aGFuIHRoaXMgbGVuZ3RoLiBUaGlzIHNhdmVzIHRpbWUgYnV0IGRlZ3JhZGVzIGNvbXByZXNzaW9uLlxuICAgKiBtYXhfaW5zZXJ0X2xlbmd0aCBpcyB1c2VkIG9ubHkgZm9yIGNvbXByZXNzaW9uIGxldmVscyA8PSAzLlxuICAgKi9cblxuICB0aGlzLmxldmVsID0gMDsgICAgIC8qIGNvbXByZXNzaW9uIGxldmVsICgxLi45KSAqL1xuICB0aGlzLnN0cmF0ZWd5ID0gMDsgIC8qIGZhdm9yIG9yIGZvcmNlIEh1ZmZtYW4gY29kaW5nKi9cblxuICB0aGlzLmdvb2RfbWF0Y2ggPSAwO1xuICAvKiBVc2UgYSBmYXN0ZXIgc2VhcmNoIHdoZW4gdGhlIHByZXZpb3VzIG1hdGNoIGlzIGxvbmdlciB0aGFuIHRoaXMgKi9cblxuICB0aGlzLm5pY2VfbWF0Y2ggPSAwOyAvKiBTdG9wIHNlYXJjaGluZyB3aGVuIGN1cnJlbnQgbWF0Y2ggZXhjZWVkcyB0aGlzICovXG5cbiAgICAgICAgICAgICAgLyogdXNlZCBieSB0cmVlcy5jOiAqL1xuXG4gIC8qIERpZG4ndCB1c2UgY3RfZGF0YSB0eXBlZGVmIGJlbG93IHRvIHN1cHByZXNzIGNvbXBpbGVyIHdhcm5pbmcgKi9cblxuICAvLyBzdHJ1Y3QgY3RfZGF0YV9zIGR5bl9sdHJlZVtIRUFQX1NJWkVdOyAgIC8qIGxpdGVyYWwgYW5kIGxlbmd0aCB0cmVlICovXG4gIC8vIHN0cnVjdCBjdF9kYXRhX3MgZHluX2R0cmVlWzIqRF9DT0RFUysxXTsgLyogZGlzdGFuY2UgdHJlZSAqL1xuICAvLyBzdHJ1Y3QgY3RfZGF0YV9zIGJsX3RyZWVbMipCTF9DT0RFUysxXTsgIC8qIEh1ZmZtYW4gdHJlZSBmb3IgYml0IGxlbmd0aHMgKi9cblxuICAvLyBVc2UgZmxhdCBhcnJheSBvZiBET1VCTEUgc2l6ZSwgd2l0aCBpbnRlcmxlYXZlZCBmYXRhLFxuICAvLyBiZWNhdXNlIEpTIGRvZXMgbm90IHN1cHBvcnQgZWZmZWN0aXZlXG4gIHRoaXMuZHluX2x0cmVlICA9IG5ldyBVaW50MTZBcnJheShIRUFQX1NJWkUgKiAyKTtcbiAgdGhpcy5keW5fZHRyZWUgID0gbmV3IFVpbnQxNkFycmF5KCgyICogRF9DT0RFUyArIDEpICogMik7XG4gIHRoaXMuYmxfdHJlZSAgICA9IG5ldyBVaW50MTZBcnJheSgoMiAqIEJMX0NPREVTICsgMSkgKiAyKTtcbiAgemVybyh0aGlzLmR5bl9sdHJlZSk7XG4gIHplcm8odGhpcy5keW5fZHRyZWUpO1xuICB6ZXJvKHRoaXMuYmxfdHJlZSk7XG5cbiAgdGhpcy5sX2Rlc2MgICA9IG51bGw7ICAgICAgICAgLyogZGVzYy4gZm9yIGxpdGVyYWwgdHJlZSAqL1xuICB0aGlzLmRfZGVzYyAgID0gbnVsbDsgICAgICAgICAvKiBkZXNjLiBmb3IgZGlzdGFuY2UgdHJlZSAqL1xuICB0aGlzLmJsX2Rlc2MgID0gbnVsbDsgICAgICAgICAvKiBkZXNjLiBmb3IgYml0IGxlbmd0aCB0cmVlICovXG5cbiAgLy91c2ggYmxfY291bnRbTUFYX0JJVFMrMV07XG4gIHRoaXMuYmxfY291bnQgPSBuZXcgVWludDE2QXJyYXkoTUFYX0JJVFMgKyAxKTtcbiAgLyogbnVtYmVyIG9mIGNvZGVzIGF0IGVhY2ggYml0IGxlbmd0aCBmb3IgYW4gb3B0aW1hbCB0cmVlICovXG5cbiAgLy9pbnQgaGVhcFsyKkxfQ09ERVMrMV07ICAgICAgLyogaGVhcCB1c2VkIHRvIGJ1aWxkIHRoZSBIdWZmbWFuIHRyZWVzICovXG4gIHRoaXMuaGVhcCA9IG5ldyBVaW50MTZBcnJheSgyICogTF9DT0RFUyArIDEpOyAgLyogaGVhcCB1c2VkIHRvIGJ1aWxkIHRoZSBIdWZmbWFuIHRyZWVzICovXG4gIHplcm8odGhpcy5oZWFwKTtcblxuICB0aGlzLmhlYXBfbGVuID0gMDsgICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGhlYXAgKi9cbiAgdGhpcy5oZWFwX21heCA9IDA7ICAgICAgICAgICAgICAgLyogZWxlbWVudCBvZiBsYXJnZXN0IGZyZXF1ZW5jeSAqL1xuICAvKiBUaGUgc29ucyBvZiBoZWFwW25dIGFyZSBoZWFwWzIqbl0gYW5kIGhlYXBbMipuKzFdLiBoZWFwWzBdIGlzIG5vdCB1c2VkLlxuICAgKiBUaGUgc2FtZSBoZWFwIGFycmF5IGlzIHVzZWQgdG8gYnVpbGQgYWxsIHRyZWVzLlxuICAgKi9cblxuICB0aGlzLmRlcHRoID0gbmV3IFVpbnQxNkFycmF5KDIgKiBMX0NPREVTICsgMSk7IC8vdWNoIGRlcHRoWzIqTF9DT0RFUysxXTtcbiAgemVybyh0aGlzLmRlcHRoKTtcbiAgLyogRGVwdGggb2YgZWFjaCBzdWJ0cmVlIHVzZWQgYXMgdGllIGJyZWFrZXIgZm9yIHRyZWVzIG9mIGVxdWFsIGZyZXF1ZW5jeVxuICAgKi9cblxuICB0aGlzLnN5bV9idWYgPSAwOyAgICAgICAgLyogYnVmZmVyIGZvciBkaXN0YW5jZXMgYW5kIGxpdGVyYWxzL2xlbmd0aHMgKi9cblxuICB0aGlzLmxpdF9idWZzaXplID0gMDtcbiAgLyogU2l6ZSBvZiBtYXRjaCBidWZmZXIgZm9yIGxpdGVyYWxzL2xlbmd0aHMuICBUaGVyZSBhcmUgNCByZWFzb25zIGZvclxuICAgKiBsaW1pdGluZyBsaXRfYnVmc2l6ZSB0byA2NEs6XG4gICAqICAgLSBmcmVxdWVuY2llcyBjYW4gYmUga2VwdCBpbiAxNiBiaXQgY291bnRlcnNcbiAgICogICAtIGlmIGNvbXByZXNzaW9uIGlzIG5vdCBzdWNjZXNzZnVsIGZvciB0aGUgZmlyc3QgYmxvY2ssIGFsbCBpbnB1dFxuICAgKiAgICAgZGF0YSBpcyBzdGlsbCBpbiB0aGUgd2luZG93IHNvIHdlIGNhbiBzdGlsbCBlbWl0IGEgc3RvcmVkIGJsb2NrIGV2ZW5cbiAgICogICAgIHdoZW4gaW5wdXQgY29tZXMgZnJvbSBzdGFuZGFyZCBpbnB1dC4gIChUaGlzIGNhbiBhbHNvIGJlIGRvbmUgZm9yXG4gICAqICAgICBhbGwgYmxvY2tzIGlmIGxpdF9idWZzaXplIGlzIG5vdCBncmVhdGVyIHRoYW4gMzJLLilcbiAgICogICAtIGlmIGNvbXByZXNzaW9uIGlzIG5vdCBzdWNjZXNzZnVsIGZvciBhIGZpbGUgc21hbGxlciB0aGFuIDY0Sywgd2UgY2FuXG4gICAqICAgICBldmVuIGVtaXQgYSBzdG9yZWQgZmlsZSBpbnN0ZWFkIG9mIGEgc3RvcmVkIGJsb2NrIChzYXZpbmcgNSBieXRlcykuXG4gICAqICAgICBUaGlzIGlzIGFwcGxpY2FibGUgb25seSBmb3IgemlwIChub3QgZ3ppcCBvciB6bGliKS5cbiAgICogICAtIGNyZWF0aW5nIG5ldyBIdWZmbWFuIHRyZWVzIGxlc3MgZnJlcXVlbnRseSBtYXkgbm90IHByb3ZpZGUgZmFzdFxuICAgKiAgICAgYWRhcHRhdGlvbiB0byBjaGFuZ2VzIGluIHRoZSBpbnB1dCBkYXRhIHN0YXRpc3RpY3MuIChUYWtlIGZvclxuICAgKiAgICAgZXhhbXBsZSBhIGJpbmFyeSBmaWxlIHdpdGggcG9vcmx5IGNvbXByZXNzaWJsZSBjb2RlIGZvbGxvd2VkIGJ5XG4gICAqICAgICBhIGhpZ2hseSBjb21wcmVzc2libGUgc3RyaW5nIHRhYmxlLikgU21hbGxlciBidWZmZXIgc2l6ZXMgZ2l2ZVxuICAgKiAgICAgZmFzdCBhZGFwdGF0aW9uIGJ1dCBoYXZlIG9mIGNvdXJzZSB0aGUgb3ZlcmhlYWQgb2YgdHJhbnNtaXR0aW5nXG4gICAqICAgICB0cmVlcyBtb3JlIGZyZXF1ZW50bHkuXG4gICAqICAgLSBJIGNhbid0IGNvdW50IGFib3ZlIDRcbiAgICovXG5cbiAgdGhpcy5zeW1fbmV4dCA9IDA7ICAgICAgLyogcnVubmluZyBpbmRleCBpbiBzeW1fYnVmICovXG4gIHRoaXMuc3ltX2VuZCA9IDA7ICAgICAgIC8qIHN5bWJvbCB0YWJsZSBmdWxsIHdoZW4gc3ltX25leHQgcmVhY2hlcyB0aGlzICovXG5cbiAgdGhpcy5vcHRfbGVuID0gMDsgICAgICAgLyogYml0IGxlbmd0aCBvZiBjdXJyZW50IGJsb2NrIHdpdGggb3B0aW1hbCB0cmVlcyAqL1xuICB0aGlzLnN0YXRpY19sZW4gPSAwOyAgICAvKiBiaXQgbGVuZ3RoIG9mIGN1cnJlbnQgYmxvY2sgd2l0aCBzdGF0aWMgdHJlZXMgKi9cbiAgdGhpcy5tYXRjaGVzID0gMDsgICAgICAgLyogbnVtYmVyIG9mIHN0cmluZyBtYXRjaGVzIGluIGN1cnJlbnQgYmxvY2sgKi9cbiAgdGhpcy5pbnNlcnQgPSAwOyAgICAgICAgLyogYnl0ZXMgYXQgZW5kIG9mIHdpbmRvdyBsZWZ0IHRvIGluc2VydCAqL1xuXG5cbiAgdGhpcy5iaV9idWYgPSAwO1xuICAvKiBPdXRwdXQgYnVmZmVyLiBiaXRzIGFyZSBpbnNlcnRlZCBzdGFydGluZyBhdCB0aGUgYm90dG9tIChsZWFzdFxuICAgKiBzaWduaWZpY2FudCBiaXRzKS5cbiAgICovXG4gIHRoaXMuYmlfdmFsaWQgPSAwO1xuICAvKiBOdW1iZXIgb2YgdmFsaWQgYml0cyBpbiBiaV9idWYuICBBbGwgYml0cyBhYm92ZSB0aGUgbGFzdCB2YWxpZCBiaXRcbiAgICogYXJlIGFsd2F5cyB6ZXJvLlxuICAgKi9cblxuICAvLyBVc2VkIGZvciB3aW5kb3cgbWVtb3J5IGluaXQuIFdlIHNhZmVseSBpZ25vcmUgaXQgZm9yIEpTLiBUaGF0IG1ha2VzXG4gIC8vIHNlbnNlIG9ubHkgZm9yIHBvaW50ZXJzIGFuZCBtZW1vcnkgY2hlY2sgdG9vbHMuXG4gIC8vdGhpcy5oaWdoX3dhdGVyID0gMDtcbiAgLyogSGlnaCB3YXRlciBtYXJrIG9mZnNldCBpbiB3aW5kb3cgZm9yIGluaXRpYWxpemVkIGJ5dGVzIC0tIGJ5dGVzIGFib3ZlXG4gICAqIHRoaXMgYXJlIHNldCB0byB6ZXJvIGluIG9yZGVyIHRvIGF2b2lkIG1lbW9yeSBjaGVjayB3YXJuaW5ncyB3aGVuXG4gICAqIGxvbmdlc3QgbWF0Y2ggcm91dGluZXMgYWNjZXNzIGJ5dGVzIHBhc3QgdGhlIGlucHV0LiAgVGhpcyBpcyB0aGVuXG4gICAqIHVwZGF0ZWQgdG8gdGhlIG5ldyBoaWdoIHdhdGVyIG1hcmsuXG4gICAqL1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENoZWNrIGZvciBhIHZhbGlkIGRlZmxhdGUgc3RyZWFtIHN0YXRlLiBSZXR1cm4gMCBpZiBvaywgMSBpZiBub3QuXG4gKi9cbmNvbnN0IGRlZmxhdGVTdGF0ZUNoZWNrID0gKHN0cm0pID0+IHtcblxuICBpZiAoIXN0cm0pIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICBjb25zdCBzID0gc3RybS5zdGF0ZTtcbiAgaWYgKCFzIHx8IHMuc3RybSAhPT0gc3RybSB8fCAocy5zdGF0dXMgIT09IElOSVRfU1RBVEUgJiZcbi8vI2lmZGVmIEdaSVBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgIT09IEdaSVBfU1RBVEUgJiZcbi8vI2VuZGlmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc3RhdHVzICE9PSBFWFRSQV9TVEFURSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyAhPT0gTkFNRV9TVEFURSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyAhPT0gQ09NTUVOVF9TVEFURSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyAhPT0gSENSQ19TVEFURSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyAhPT0gQlVTWV9TVEFURSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyAhPT0gRklOSVNIX1NUQVRFKSkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuXG5jb25zdCBkZWZsYXRlUmVzZXRLZWVwID0gKHN0cm0pID0+IHtcblxuICBpZiAoZGVmbGF0ZVN0YXRlQ2hlY2soc3RybSkpIHtcbiAgICByZXR1cm4gZXJyKHN0cm0sIFpfU1RSRUFNX0VSUk9SJDIpO1xuICB9XG5cbiAgc3RybS50b3RhbF9pbiA9IHN0cm0udG90YWxfb3V0ID0gMDtcbiAgc3RybS5kYXRhX3R5cGUgPSBaX1VOS05PV047XG5cbiAgY29uc3QgcyA9IHN0cm0uc3RhdGU7XG4gIHMucGVuZGluZyA9IDA7XG4gIHMucGVuZGluZ19vdXQgPSAwO1xuXG4gIGlmIChzLndyYXAgPCAwKSB7XG4gICAgcy53cmFwID0gLXMud3JhcDtcbiAgICAvKiB3YXMgbWFkZSBuZWdhdGl2ZSBieSBkZWZsYXRlKC4uLiwgWl9GSU5JU0gpOyAqL1xuICB9XG4gIHMuc3RhdHVzID1cbi8vI2lmZGVmIEdaSVBcbiAgICBzLndyYXAgPT09IDIgPyBHWklQX1NUQVRFIDpcbi8vI2VuZGlmXG4gICAgcy53cmFwID8gSU5JVF9TVEFURSA6IEJVU1lfU1RBVEU7XG4gIHN0cm0uYWRsZXIgPSAocy53cmFwID09PSAyKSA/XG4gICAgMCAgLy8gY3JjMzIoMCwgWl9OVUxMLCAwKVxuICA6XG4gICAgMTsgLy8gYWRsZXIzMigwLCBaX05VTEwsIDApXG4gIHMubGFzdF9mbHVzaCA9IC0yO1xuICBfdHJfaW5pdChzKTtcbiAgcmV0dXJuIFpfT0skMztcbn07XG5cblxuY29uc3QgZGVmbGF0ZVJlc2V0ID0gKHN0cm0pID0+IHtcblxuICBjb25zdCByZXQgPSBkZWZsYXRlUmVzZXRLZWVwKHN0cm0pO1xuICBpZiAocmV0ID09PSBaX09LJDMpIHtcbiAgICBsbV9pbml0KHN0cm0uc3RhdGUpO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG5cbmNvbnN0IGRlZmxhdGVTZXRIZWFkZXIgPSAoc3RybSwgaGVhZCkgPT4ge1xuXG4gIGlmIChkZWZsYXRlU3RhdGVDaGVjayhzdHJtKSB8fCBzdHJtLnN0YXRlLndyYXAgIT09IDIpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1IkMjtcbiAgfVxuICBzdHJtLnN0YXRlLmd6aGVhZCA9IGhlYWQ7XG4gIHJldHVybiBaX09LJDM7XG59O1xuXG5cbmNvbnN0IGRlZmxhdGVJbml0MiA9IChzdHJtLCBsZXZlbCwgbWV0aG9kLCB3aW5kb3dCaXRzLCBtZW1MZXZlbCwgc3RyYXRlZ3kpID0+IHtcblxuICBpZiAoIXN0cm0pIHsgLy8gPT09IFpfTlVMTFxuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUiQyO1xuICB9XG4gIGxldCB3cmFwID0gMTtcblxuICBpZiAobGV2ZWwgPT09IFpfREVGQVVMVF9DT01QUkVTU0lPTiQxKSB7XG4gICAgbGV2ZWwgPSA2O1xuICB9XG5cbiAgaWYgKHdpbmRvd0JpdHMgPCAwKSB7IC8qIHN1cHByZXNzIHpsaWIgd3JhcHBlciAqL1xuICAgIHdyYXAgPSAwO1xuICAgIHdpbmRvd0JpdHMgPSAtd2luZG93Qml0cztcbiAgfVxuXG4gIGVsc2UgaWYgKHdpbmRvd0JpdHMgPiAxNSkge1xuICAgIHdyYXAgPSAyOyAgICAgICAgICAgLyogd3JpdGUgZ3ppcCB3cmFwcGVyIGluc3RlYWQgKi9cbiAgICB3aW5kb3dCaXRzIC09IDE2O1xuICB9XG5cblxuICBpZiAobWVtTGV2ZWwgPCAxIHx8IG1lbUxldmVsID4gTUFYX01FTV9MRVZFTCB8fCBtZXRob2QgIT09IFpfREVGTEFURUQkMiB8fFxuICAgIHdpbmRvd0JpdHMgPCA4IHx8IHdpbmRvd0JpdHMgPiAxNSB8fCBsZXZlbCA8IDAgfHwgbGV2ZWwgPiA5IHx8XG4gICAgc3RyYXRlZ3kgPCAwIHx8IHN0cmF0ZWd5ID4gWl9GSVhFRCB8fCAod2luZG93Qml0cyA9PT0gOCAmJiB3cmFwICE9PSAxKSkge1xuICAgIHJldHVybiBlcnIoc3RybSwgWl9TVFJFQU1fRVJST1IkMik7XG4gIH1cblxuXG4gIGlmICh3aW5kb3dCaXRzID09PSA4KSB7XG4gICAgd2luZG93Qml0cyA9IDk7XG4gIH1cbiAgLyogdW50aWwgMjU2LWJ5dGUgd2luZG93IGJ1ZyBmaXhlZCAqL1xuXG4gIGNvbnN0IHMgPSBuZXcgRGVmbGF0ZVN0YXRlKCk7XG5cbiAgc3RybS5zdGF0ZSA9IHM7XG4gIHMuc3RybSA9IHN0cm07XG4gIHMuc3RhdHVzID0gSU5JVF9TVEFURTsgICAgIC8qIHRvIHBhc3Mgc3RhdGUgdGVzdCBpbiBkZWZsYXRlUmVzZXQoKSAqL1xuXG4gIHMud3JhcCA9IHdyYXA7XG4gIHMuZ3poZWFkID0gbnVsbDtcbiAgcy53X2JpdHMgPSB3aW5kb3dCaXRzO1xuICBzLndfc2l6ZSA9IDEgPDwgcy53X2JpdHM7XG4gIHMud19tYXNrID0gcy53X3NpemUgLSAxO1xuXG4gIHMuaGFzaF9iaXRzID0gbWVtTGV2ZWwgKyA3O1xuICBzLmhhc2hfc2l6ZSA9IDEgPDwgcy5oYXNoX2JpdHM7XG4gIHMuaGFzaF9tYXNrID0gcy5oYXNoX3NpemUgLSAxO1xuICBzLmhhc2hfc2hpZnQgPSB+figocy5oYXNoX2JpdHMgKyBNSU5fTUFUQ0ggLSAxKSAvIE1JTl9NQVRDSCk7XG5cbiAgcy53aW5kb3cgPSBuZXcgVWludDhBcnJheShzLndfc2l6ZSAqIDIpO1xuICBzLmhlYWQgPSBuZXcgVWludDE2QXJyYXkocy5oYXNoX3NpemUpO1xuICBzLnByZXYgPSBuZXcgVWludDE2QXJyYXkocy53X3NpemUpO1xuXG4gIC8vIERvbid0IG5lZWQgbWVtIGluaXQgbWFnaWMgZm9yIEpTLlxuICAvL3MuaGlnaF93YXRlciA9IDA7ICAvKiBub3RoaW5nIHdyaXR0ZW4gdG8gcy0+d2luZG93IHlldCAqL1xuXG4gIHMubGl0X2J1ZnNpemUgPSAxIDw8IChtZW1MZXZlbCArIDYpOyAvKiAxNksgZWxlbWVudHMgYnkgZGVmYXVsdCAqL1xuXG4gIC8qIFdlIG92ZXJsYXkgcGVuZGluZ19idWYgYW5kIHN5bV9idWYuIFRoaXMgd29ya3Mgc2luY2UgdGhlIGF2ZXJhZ2Ugc2l6ZVxuICAgKiBmb3IgbGVuZ3RoL2Rpc3RhbmNlIHBhaXJzIG92ZXIgYW55IGNvbXByZXNzZWQgYmxvY2sgaXMgYXNzdXJlZCB0byBiZSAzMVxuICAgKiBiaXRzIG9yIGxlc3MuXG4gICAqXG4gICAqIEFuYWx5c2lzOiBUaGUgbG9uZ2VzdCBmaXhlZCBjb2RlcyBhcmUgYSBsZW5ndGggY29kZSBvZiA4IGJpdHMgcGx1cyA1XG4gICAqIGV4dHJhIGJpdHMsIGZvciBsZW5ndGhzIDEzMSB0byAyNTcuIFRoZSBsb25nZXN0IGZpeGVkIGRpc3RhbmNlIGNvZGVzIGFyZVxuICAgKiA1IGJpdHMgcGx1cyAxMyBleHRyYSBiaXRzLCBmb3IgZGlzdGFuY2VzIDE2Mzg1IHRvIDMyNzY4LiBUaGUgbG9uZ2VzdFxuICAgKiBwb3NzaWJsZSBmaXhlZC1jb2RlcyBsZW5ndGgvZGlzdGFuY2UgcGFpciBpcyB0aGVuIDMxIGJpdHMgdG90YWwuXG4gICAqXG4gICAqIHN5bV9idWYgc3RhcnRzIG9uZS1mb3VydGggb2YgdGhlIHdheSBpbnRvIHBlbmRpbmdfYnVmLiBTbyB0aGVyZSBhcmVcbiAgICogdGhyZWUgYnl0ZXMgaW4gc3ltX2J1ZiBmb3IgZXZlcnkgZm91ciBieXRlcyBpbiBwZW5kaW5nX2J1Zi4gRWFjaCBzeW1ib2xcbiAgICogaW4gc3ltX2J1ZiBpcyB0aHJlZSBieXRlcyAtLSB0d28gZm9yIHRoZSBkaXN0YW5jZSBhbmQgb25lIGZvciB0aGVcbiAgICogbGl0ZXJhbC9sZW5ndGguIEFzIGVhY2ggc3ltYm9sIGlzIGNvbnN1bWVkLCB0aGUgcG9pbnRlciB0byB0aGUgbmV4dFxuICAgKiBzeW1fYnVmIHZhbHVlIHRvIHJlYWQgbW92ZXMgZm9yd2FyZCB0aHJlZSBieXRlcy4gRnJvbSB0aGF0IHN5bWJvbCwgdXAgdG9cbiAgICogMzEgYml0cyBhcmUgd3JpdHRlbiB0byBwZW5kaW5nX2J1Zi4gVGhlIGNsb3Nlc3QgdGhlIHdyaXR0ZW4gcGVuZGluZ19idWZcbiAgICogYml0cyBnZXRzIHRvIHRoZSBuZXh0IHN5bV9idWYgc3ltYm9sIHRvIHJlYWQgaXMganVzdCBiZWZvcmUgdGhlIGxhc3RcbiAgICogY29kZSBpcyB3cml0dGVuLiBBdCB0aGF0IHRpbWUsIDMxKihuLTIpIGJpdHMgaGF2ZSBiZWVuIHdyaXR0ZW4sIGp1c3RcbiAgICogYWZ0ZXIgMjQqKG4tMikgYml0cyBoYXZlIGJlZW4gY29uc3VtZWQgZnJvbSBzeW1fYnVmLiBzeW1fYnVmIHN0YXJ0cyBhdFxuICAgKiA4Km4gYml0cyBpbnRvIHBlbmRpbmdfYnVmLiAoTm90ZSB0aGF0IHRoZSBzeW1ib2wgYnVmZmVyIGZpbGxzIHdoZW4gbi0xXG4gICAqIHN5bWJvbHMgYXJlIHdyaXR0ZW4uKSBUaGUgY2xvc2VzdCB0aGUgd3JpdGluZyBnZXRzIHRvIHdoYXQgaXMgdW5yZWFkIGlzXG4gICAqIHRoZW4gbisxNCBiaXRzLiBIZXJlIG4gaXMgbGl0X2J1ZnNpemUsIHdoaWNoIGlzIDE2Mzg0IGJ5IGRlZmF1bHQsIGFuZFxuICAgKiBjYW4gcmFuZ2UgZnJvbSAxMjggdG8gMzI3NjguXG4gICAqXG4gICAqIFRoZXJlZm9yZSwgYXQgYSBtaW5pbXVtLCB0aGVyZSBhcmUgMTQyIGJpdHMgb2Ygc3BhY2UgYmV0d2VlbiB3aGF0IGlzXG4gICAqIHdyaXR0ZW4gYW5kIHdoYXQgaXMgcmVhZCBpbiB0aGUgb3ZlcmxhaW4gYnVmZmVycywgc28gdGhlIHN5bWJvbHMgY2Fubm90XG4gICAqIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBjb21wcmVzc2VkIGRhdGEuIFRoYXQgc3BhY2UgaXMgYWN0dWFsbHkgMTM5IGJpdHMsXG4gICAqIGR1ZSB0byB0aGUgdGhyZWUtYml0IGZpeGVkLWNvZGUgYmxvY2sgaGVhZGVyLlxuICAgKlxuICAgKiBUaGF0IGNvdmVycyB0aGUgY2FzZSB3aGVyZSBlaXRoZXIgWl9GSVhFRCBpcyBzcGVjaWZpZWQsIGZvcmNpbmcgZml4ZWRcbiAgICogY29kZXMsIG9yIHdoZW4gdGhlIHVzZSBvZiBmaXhlZCBjb2RlcyBpcyBjaG9zZW4sIGJlY2F1c2UgdGhhdCBjaG9pY2VcbiAgICogcmVzdWx0cyBpbiBhIHNtYWxsZXIgY29tcHJlc3NlZCBibG9jayB0aGFuIGR5bmFtaWMgY29kZXMuIFRoYXQgbGF0dGVyXG4gICAqIGNvbmRpdGlvbiB0aGVuIGFzc3VyZXMgdGhhdCB0aGUgYWJvdmUgYW5hbHlzaXMgYWxzbyBjb3ZlcnMgYWxsIGR5bmFtaWNcbiAgICogYmxvY2tzLiBBIGR5bmFtaWMtY29kZSBibG9jayB3aWxsIG9ubHkgYmUgY2hvc2VuIHRvIGJlIGVtaXR0ZWQgaWYgaXQgaGFzXG4gICAqIGZld2VyIGJpdHMgdGhhbiBhIGZpeGVkLWNvZGUgYmxvY2sgd291bGQgZm9yIHRoZSBzYW1lIHNldCBvZiBzeW1ib2xzLlxuICAgKiBUaGVyZWZvcmUgaXRzIGF2ZXJhZ2Ugc3ltYm9sIGxlbmd0aCBpcyBhc3N1cmVkIHRvIGJlIGxlc3MgdGhhbiAzMS4gU29cbiAgICogdGhlIGNvbXByZXNzZWQgZGF0YSBmb3IgYSBkeW5hbWljIGJsb2NrIGFsc28gY2Fubm90IG92ZXJ3cml0ZSB0aGVcbiAgICogc3ltYm9scyBmcm9tIHdoaWNoIGl0IGlzIGJlaW5nIGNvbnN0cnVjdGVkLlxuICAgKi9cblxuICBzLnBlbmRpbmdfYnVmX3NpemUgPSBzLmxpdF9idWZzaXplICogNDtcbiAgcy5wZW5kaW5nX2J1ZiA9IG5ldyBVaW50OEFycmF5KHMucGVuZGluZ19idWZfc2l6ZSk7XG5cbiAgLy8gSXQgaXMgb2Zmc2V0IGZyb20gYHMucGVuZGluZ19idWZgIChzaXplIGlzIGBzLmxpdF9idWZzaXplICogMmApXG4gIC8vcy0+c3ltX2J1ZiA9IHMtPnBlbmRpbmdfYnVmICsgcy0+bGl0X2J1ZnNpemU7XG4gIHMuc3ltX2J1ZiA9IHMubGl0X2J1ZnNpemU7XG5cbiAgLy9zLT5zeW1fZW5kID0gKHMtPmxpdF9idWZzaXplIC0gMSkgKiAzO1xuICBzLnN5bV9lbmQgPSAocy5saXRfYnVmc2l6ZSAtIDEpICogMztcbiAgLyogV2UgYXZvaWQgZXF1YWxpdHkgd2l0aCBsaXRfYnVmc2l6ZSozIGJlY2F1c2Ugb2Ygd3JhcGFyb3VuZCBhdCA2NEtcbiAgICogb24gMTYgYml0IG1hY2hpbmVzIGFuZCBiZWNhdXNlIHN0b3JlZCBibG9ja3MgYXJlIHJlc3RyaWN0ZWQgdG9cbiAgICogNjRLLTEgYnl0ZXMuXG4gICAqL1xuXG4gIHMubGV2ZWwgPSBsZXZlbDtcbiAgcy5zdHJhdGVneSA9IHN0cmF0ZWd5O1xuICBzLm1ldGhvZCA9IG1ldGhvZDtcblxuICByZXR1cm4gZGVmbGF0ZVJlc2V0KHN0cm0pO1xufTtcblxuY29uc3QgZGVmbGF0ZUluaXQgPSAoc3RybSwgbGV2ZWwpID0+IHtcblxuICByZXR1cm4gZGVmbGF0ZUluaXQyKHN0cm0sIGxldmVsLCBaX0RFRkxBVEVEJDIsIE1BWF9XQklUUyQxLCBERUZfTUVNX0xFVkVMLCBaX0RFRkFVTFRfU1RSQVRFR1kkMSk7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbmNvbnN0IGRlZmxhdGUkMiA9IChzdHJtLCBmbHVzaCkgPT4ge1xuXG4gIGlmIChkZWZsYXRlU3RhdGVDaGVjayhzdHJtKSB8fCBmbHVzaCA+IFpfQkxPQ0skMSB8fCBmbHVzaCA8IDApIHtcbiAgICByZXR1cm4gc3RybSA/IGVycihzdHJtLCBaX1NUUkVBTV9FUlJPUiQyKSA6IFpfU1RSRUFNX0VSUk9SJDI7XG4gIH1cblxuICBjb25zdCBzID0gc3RybS5zdGF0ZTtcblxuICBpZiAoIXN0cm0ub3V0cHV0IHx8XG4gICAgICAoc3RybS5hdmFpbF9pbiAhPT0gMCAmJiAhc3RybS5pbnB1dCkgfHxcbiAgICAgIChzLnN0YXR1cyA9PT0gRklOSVNIX1NUQVRFICYmIGZsdXNoICE9PSBaX0ZJTklTSCQzKSkge1xuICAgIHJldHVybiBlcnIoc3RybSwgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSA/IFpfQlVGX0VSUk9SJDEgOiBaX1NUUkVBTV9FUlJPUiQyKTtcbiAgfVxuXG4gIGNvbnN0IG9sZF9mbHVzaCA9IHMubGFzdF9mbHVzaDtcbiAgcy5sYXN0X2ZsdXNoID0gZmx1c2g7XG5cbiAgLyogRmx1c2ggYXMgbXVjaCBwZW5kaW5nIG91dHB1dCBhcyBwb3NzaWJsZSAqL1xuICBpZiAocy5wZW5kaW5nICE9PSAwKSB7XG4gICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIC8qIFNpbmNlIGF2YWlsX291dCBpcyAwLCBkZWZsYXRlIHdpbGwgYmUgY2FsbGVkIGFnYWluIHdpdGhcbiAgICAgICAqIG1vcmUgb3V0cHV0IHNwYWNlLCBidXQgcG9zc2libHkgd2l0aCBib3RoIHBlbmRpbmcgYW5kXG4gICAgICAgKiBhdmFpbF9pbiBlcXVhbCB0byB6ZXJvLiBUaGVyZSB3b24ndCBiZSBhbnl0aGluZyB0byBkbyxcbiAgICAgICAqIGJ1dCB0aGlzIGlzIG5vdCBhbiBlcnJvciBzaXR1YXRpb24gc28gbWFrZSBzdXJlIHdlXG4gICAgICAgKiByZXR1cm4gT0sgaW5zdGVhZCBvZiBCVUZfRVJST1IgYXQgbmV4dCBjYWxsIG9mIGRlZmxhdGU6XG4gICAgICAgKi9cbiAgICAgIHMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgcmV0dXJuIFpfT0skMztcbiAgICB9XG5cbiAgICAvKiBNYWtlIHN1cmUgdGhlcmUgaXMgc29tZXRoaW5nIHRvIGRvIGFuZCBhdm9pZCBkdXBsaWNhdGUgY29uc2VjdXRpdmVcbiAgICAgKiBmbHVzaGVzLiBGb3IgcmVwZWF0ZWQgYW5kIHVzZWxlc3MgY2FsbHMgd2l0aCBaX0ZJTklTSCwgd2Uga2VlcFxuICAgICAqIHJldHVybmluZyBaX1NUUkVBTV9FTkQgaW5zdGVhZCBvZiBaX0JVRl9FUlJPUi5cbiAgICAgKi9cbiAgfSBlbHNlIGlmIChzdHJtLmF2YWlsX2luID09PSAwICYmIHJhbmsoZmx1c2gpIDw9IHJhbmsob2xkX2ZsdXNoKSAmJlxuICAgIGZsdXNoICE9PSBaX0ZJTklTSCQzKSB7XG4gICAgcmV0dXJuIGVycihzdHJtLCBaX0JVRl9FUlJPUiQxKTtcbiAgfVxuXG4gIC8qIFVzZXIgbXVzdCBub3QgcHJvdmlkZSBtb3JlIGlucHV0IGFmdGVyIHRoZSBmaXJzdCBGSU5JU0g6ICovXG4gIGlmIChzLnN0YXR1cyA9PT0gRklOSVNIX1NUQVRFICYmIHN0cm0uYXZhaWxfaW4gIT09IDApIHtcbiAgICByZXR1cm4gZXJyKHN0cm0sIFpfQlVGX0VSUk9SJDEpO1xuICB9XG5cbiAgLyogV3JpdGUgdGhlIGhlYWRlciAqL1xuICBpZiAocy5zdGF0dXMgPT09IElOSVRfU1RBVEUgJiYgcy53cmFwID09PSAwKSB7XG4gICAgcy5zdGF0dXMgPSBCVVNZX1NUQVRFO1xuICB9XG4gIGlmIChzLnN0YXR1cyA9PT0gSU5JVF9TVEFURSkge1xuICAgIC8qIHpsaWIgaGVhZGVyICovXG4gICAgbGV0IGhlYWRlciA9IChaX0RFRkxBVEVEJDIgKyAoKHMud19iaXRzIC0gOCkgPDwgNCkpIDw8IDg7XG4gICAgbGV0IGxldmVsX2ZsYWdzID0gLTE7XG5cbiAgICBpZiAocy5zdHJhdGVneSA+PSBaX0hVRkZNQU5fT05MWSB8fCBzLmxldmVsIDwgMikge1xuICAgICAgbGV2ZWxfZmxhZ3MgPSAwO1xuICAgIH0gZWxzZSBpZiAocy5sZXZlbCA8IDYpIHtcbiAgICAgIGxldmVsX2ZsYWdzID0gMTtcbiAgICB9IGVsc2UgaWYgKHMubGV2ZWwgPT09IDYpIHtcbiAgICAgIGxldmVsX2ZsYWdzID0gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV2ZWxfZmxhZ3MgPSAzO1xuICAgIH1cbiAgICBoZWFkZXIgfD0gKGxldmVsX2ZsYWdzIDw8IDYpO1xuICAgIGlmIChzLnN0cnN0YXJ0ICE9PSAwKSB7IGhlYWRlciB8PSBQUkVTRVRfRElDVDsgfVxuICAgIGhlYWRlciArPSAzMSAtIChoZWFkZXIgJSAzMSk7XG5cbiAgICBwdXRTaG9ydE1TQihzLCBoZWFkZXIpO1xuXG4gICAgLyogU2F2ZSB0aGUgYWRsZXIzMiBvZiB0aGUgcHJlc2V0IGRpY3Rpb25hcnk6ICovXG4gICAgaWYgKHMuc3Ryc3RhcnQgIT09IDApIHtcbiAgICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgPj4+IDE2KTtcbiAgICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgJiAweGZmZmYpO1xuICAgIH1cbiAgICBzdHJtLmFkbGVyID0gMTsgLy8gYWRsZXIzMigwTCwgWl9OVUxMLCAwKTtcbiAgICBzLnN0YXR1cyA9IEJVU1lfU1RBVEU7XG5cbiAgICAvKiBDb21wcmVzc2lvbiBtdXN0IHN0YXJ0IHdpdGggYW4gZW1wdHkgcGVuZGluZyBidWZmZXIgKi9cbiAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgIGlmIChzLnBlbmRpbmcgIT09IDApIHtcbiAgICAgIHMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgcmV0dXJuIFpfT0skMztcbiAgICB9XG4gIH1cbi8vI2lmZGVmIEdaSVBcbiAgaWYgKHMuc3RhdHVzID09PSBHWklQX1NUQVRFKSB7XG4gICAgLyogZ3ppcCBoZWFkZXIgKi9cbiAgICBzdHJtLmFkbGVyID0gMDsgIC8vY3JjMzIoMEwsIFpfTlVMTCwgMCk7XG4gICAgcHV0X2J5dGUocywgMzEpO1xuICAgIHB1dF9ieXRlKHMsIDEzOSk7XG4gICAgcHV0X2J5dGUocywgOCk7XG4gICAgaWYgKCFzLmd6aGVhZCkgeyAvLyBzLT5nemhlYWQgPT0gWl9OVUxMXG4gICAgICBwdXRfYnl0ZShzLCAwKTtcbiAgICAgIHB1dF9ieXRlKHMsIDApO1xuICAgICAgcHV0X2J5dGUocywgMCk7XG4gICAgICBwdXRfYnl0ZShzLCAwKTtcbiAgICAgIHB1dF9ieXRlKHMsIDApO1xuICAgICAgcHV0X2J5dGUocywgcy5sZXZlbCA9PT0gOSA/IDIgOlxuICAgICAgICAgICAgICAgICAgKHMuc3RyYXRlZ3kgPj0gWl9IVUZGTUFOX09OTFkgfHwgcy5sZXZlbCA8IDIgP1xuICAgICAgICAgICAgICAgICAgIDQgOiAwKSk7XG4gICAgICBwdXRfYnl0ZShzLCBPU19DT0RFKTtcbiAgICAgIHMuc3RhdHVzID0gQlVTWV9TVEFURTtcblxuICAgICAgLyogQ29tcHJlc3Npb24gbXVzdCBzdGFydCB3aXRoIGFuIGVtcHR5IHBlbmRpbmcgYnVmZmVyICovXG4gICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgaWYgKHMucGVuZGluZyAhPT0gMCkge1xuICAgICAgICBzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgICAgcmV0dXJuIFpfT0skMztcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQudGV4dCA/IDEgOiAwKSArXG4gICAgICAgICAgICAgICAgICAocy5nemhlYWQuaGNyYyA/IDIgOiAwKSArXG4gICAgICAgICAgICAgICAgICAoIXMuZ3poZWFkLmV4dHJhID8gMCA6IDQpICtcbiAgICAgICAgICAgICAgICAgICghcy5nemhlYWQubmFtZSA/IDAgOiA4KSArXG4gICAgICAgICAgICAgICAgICAoIXMuZ3poZWFkLmNvbW1lbnQgPyAwIDogMTYpXG4gICAgICApO1xuICAgICAgcHV0X2J5dGUocywgcy5nemhlYWQudGltZSAmIDB4ZmYpO1xuICAgICAgcHV0X2J5dGUocywgKHMuZ3poZWFkLnRpbWUgPj4gOCkgJiAweGZmKTtcbiAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC50aW1lID4+IDE2KSAmIDB4ZmYpO1xuICAgICAgcHV0X2J5dGUocywgKHMuZ3poZWFkLnRpbWUgPj4gMjQpICYgMHhmZik7XG4gICAgICBwdXRfYnl0ZShzLCBzLmxldmVsID09PSA5ID8gMiA6XG4gICAgICAgICAgICAgICAgICAocy5zdHJhdGVneSA+PSBaX0hVRkZNQU5fT05MWSB8fCBzLmxldmVsIDwgMiA/XG4gICAgICAgICAgICAgICAgICAgNCA6IDApKTtcbiAgICAgIHB1dF9ieXRlKHMsIHMuZ3poZWFkLm9zICYgMHhmZik7XG4gICAgICBpZiAocy5nemhlYWQuZXh0cmEgJiYgcy5nemhlYWQuZXh0cmEubGVuZ3RoKSB7XG4gICAgICAgIHB1dF9ieXRlKHMsIHMuZ3poZWFkLmV4dHJhLmxlbmd0aCAmIDB4ZmYpO1xuICAgICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQuZXh0cmEubGVuZ3RoID4+IDgpICYgMHhmZik7XG4gICAgICB9XG4gICAgICBpZiAocy5nemhlYWQuaGNyYykge1xuICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcsIDApO1xuICAgICAgfVxuICAgICAgcy5nemluZGV4ID0gMDtcbiAgICAgIHMuc3RhdHVzID0gRVhUUkFfU1RBVEU7XG4gICAgfVxuICB9XG4gIGlmIChzLnN0YXR1cyA9PT0gRVhUUkFfU1RBVEUpIHtcbiAgICBpZiAocy5nemhlYWQuZXh0cmEvKiAhPSBaX05VTEwqLykge1xuICAgICAgbGV0IGJlZyA9IHMucGVuZGluZzsgICAvKiBzdGFydCBvZiBieXRlcyB0byB1cGRhdGUgY3JjICovXG4gICAgICBsZXQgbGVmdCA9IChzLmd6aGVhZC5leHRyYS5sZW5ndGggJiAweGZmZmYpIC0gcy5nemluZGV4O1xuICAgICAgd2hpbGUgKHMucGVuZGluZyArIGxlZnQgPiBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgbGV0IGNvcHkgPSBzLnBlbmRpbmdfYnVmX3NpemUgLSBzLnBlbmRpbmc7XG4gICAgICAgIC8vIHptZW1jcHkocy5wZW5kaW5nX2J1ZiArIHMucGVuZGluZyxcbiAgICAgICAgLy8gICAgcy5nemhlYWQuZXh0cmEgKyBzLmd6aW5kZXgsIGNvcHkpO1xuICAgICAgICBzLnBlbmRpbmdfYnVmLnNldChzLmd6aGVhZC5leHRyYS5zdWJhcnJheShzLmd6aW5kZXgsIHMuZ3ppbmRleCArIGNvcHkpLCBzLnBlbmRpbmcpO1xuICAgICAgICBzLnBlbmRpbmcgPSBzLnBlbmRpbmdfYnVmX3NpemU7XG4gICAgICAgIC8vLS0tIEhDUkNfVVBEQVRFKGJlZykgLS0tLy9cbiAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgICB9XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgcy5nemluZGV4ICs9IGNvcHk7XG4gICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICAgIGlmIChzLnBlbmRpbmcgIT09IDApIHtcbiAgICAgICAgICBzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgICAgICByZXR1cm4gWl9PSyQzO1xuICAgICAgICB9XG4gICAgICAgIGJlZyA9IDA7XG4gICAgICAgIGxlZnQgLT0gY29weTtcbiAgICAgIH1cbiAgICAgIC8vIEpTIHNwZWNpZmljOiBzLmd6aGVhZC5leHRyYSBtYXkgYmUgVHlwZWRBcnJheSBvciBBcnJheSBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAgLy8gICAgICAgICAgICAgIFR5cGVkQXJyYXkuc2xpY2UgYW5kIFR5cGVkQXJyYXkuZnJvbSBkb24ndCBleGlzdCBpbiBJRTEwLUlFMTFcbiAgICAgIGxldCBnemhlYWRfZXh0cmEgPSBuZXcgVWludDhBcnJheShzLmd6aGVhZC5leHRyYSk7XG4gICAgICAvLyB6bWVtY3B5KHMtPnBlbmRpbmdfYnVmICsgcy0+cGVuZGluZyxcbiAgICAgIC8vICAgICBzLT5nemhlYWQtPmV4dHJhICsgcy0+Z3ppbmRleCwgbGVmdCk7XG4gICAgICBzLnBlbmRpbmdfYnVmLnNldChnemhlYWRfZXh0cmEuc3ViYXJyYXkocy5nemluZGV4LCBzLmd6aW5kZXggKyBsZWZ0KSwgcy5wZW5kaW5nKTtcbiAgICAgIHMucGVuZGluZyArPSBsZWZ0O1xuICAgICAgLy8tLS0gSENSQ19VUERBVEUoYmVnKSAtLS0vL1xuICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgIH1cbiAgICAgIC8vLS0tLy9cbiAgICAgIHMuZ3ppbmRleCA9IDA7XG4gICAgfVxuICAgIHMuc3RhdHVzID0gTkFNRV9TVEFURTtcbiAgfVxuICBpZiAocy5zdGF0dXMgPT09IE5BTUVfU1RBVEUpIHtcbiAgICBpZiAocy5nemhlYWQubmFtZS8qICE9IFpfTlVMTCovKSB7XG4gICAgICBsZXQgYmVnID0gcy5wZW5kaW5nOyAgIC8qIHN0YXJ0IG9mIGJ5dGVzIHRvIHVwZGF0ZSBjcmMgKi9cbiAgICAgIGxldCB2YWw7XG4gICAgICBkbyB7XG4gICAgICAgIGlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgIC8vLS0tIEhDUkNfVVBEQVRFKGJlZykgLS0tLy9cbiAgICAgICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICAgICAgaWYgKHMucGVuZGluZyAhPT0gMCkge1xuICAgICAgICAgICAgcy5sYXN0X2ZsdXNoID0gLTE7XG4gICAgICAgICAgICByZXR1cm4gWl9PSyQzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiZWcgPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIEpTIHNwZWNpZmljOiBsaXR0bGUgbWFnaWMgdG8gYWRkIHplcm8gdGVybWluYXRvciB0byBlbmQgb2Ygc3RyaW5nXG4gICAgICAgIGlmIChzLmd6aW5kZXggPCBzLmd6aGVhZC5uYW1lLmxlbmd0aCkge1xuICAgICAgICAgIHZhbCA9IHMuZ3poZWFkLm5hbWUuY2hhckNvZGVBdChzLmd6aW5kZXgrKykgJiAweGZmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcHV0X2J5dGUocywgdmFsKTtcbiAgICAgIH0gd2hpbGUgKHZhbCAhPT0gMCk7XG4gICAgICAvLy0tLSBIQ1JDX1VQREFURShiZWcpIC0tLS8vXG4gICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgfVxuICAgICAgLy8tLS0vL1xuICAgICAgcy5nemluZGV4ID0gMDtcbiAgICB9XG4gICAgcy5zdGF0dXMgPSBDT01NRU5UX1NUQVRFO1xuICB9XG4gIGlmIChzLnN0YXR1cyA9PT0gQ09NTUVOVF9TVEFURSkge1xuICAgIGlmIChzLmd6aGVhZC5jb21tZW50LyogIT0gWl9OVUxMKi8pIHtcbiAgICAgIGxldCBiZWcgPSBzLnBlbmRpbmc7ICAgLyogc3RhcnQgb2YgYnl0ZXMgdG8gdXBkYXRlIGNyYyAqL1xuICAgICAgbGV0IHZhbDtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgLy8tLS0gSENSQ19VUERBVEUoYmVnKSAtLS0vL1xuICAgICAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICAgICAgICBpZiAocy5wZW5kaW5nICE9PSAwKSB7XG4gICAgICAgICAgICBzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgICAgICAgIHJldHVybiBaX09LJDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJlZyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSlMgc3BlY2lmaWM6IGxpdHRsZSBtYWdpYyB0byBhZGQgemVybyB0ZXJtaW5hdG9yIHRvIGVuZCBvZiBzdHJpbmdcbiAgICAgICAgaWYgKHMuZ3ppbmRleCA8IHMuZ3poZWFkLmNvbW1lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgdmFsID0gcy5nemhlYWQuY29tbWVudC5jaGFyQ29kZUF0KHMuZ3ppbmRleCsrKSAmIDB4ZmY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsID0gMDtcbiAgICAgICAgfVxuICAgICAgICBwdXRfYnl0ZShzLCB2YWwpO1xuICAgICAgfSB3aGlsZSAodmFsICE9PSAwKTtcbiAgICAgIC8vLS0tIEhDUkNfVVBEQVRFKGJlZykgLS0tLy9cbiAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICB9XG4gICAgICAvLy0tLS8vXG4gICAgfVxuICAgIHMuc3RhdHVzID0gSENSQ19TVEFURTtcbiAgfVxuICBpZiAocy5zdGF0dXMgPT09IEhDUkNfU1RBVEUpIHtcbiAgICBpZiAocy5nemhlYWQuaGNyYykge1xuICAgICAgaWYgKHMucGVuZGluZyArIDIgPiBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICAgICAgaWYgKHMucGVuZGluZyAhPT0gMCkge1xuICAgICAgICAgIHMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgICAgIHJldHVybiBaX09LJDM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHB1dF9ieXRlKHMsIHN0cm0uYWRsZXIgJiAweGZmKTtcbiAgICAgIHB1dF9ieXRlKHMsIChzdHJtLmFkbGVyID4+IDgpICYgMHhmZik7XG4gICAgICBzdHJtLmFkbGVyID0gMDsgLy9jcmMzMigwTCwgWl9OVUxMLCAwKTtcbiAgICB9XG4gICAgcy5zdGF0dXMgPSBCVVNZX1NUQVRFO1xuXG4gICAgLyogQ29tcHJlc3Npb24gbXVzdCBzdGFydCB3aXRoIGFuIGVtcHR5IHBlbmRpbmcgYnVmZmVyICovXG4gICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICBpZiAocy5wZW5kaW5nICE9PSAwKSB7XG4gICAgICBzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgIHJldHVybiBaX09LJDM7XG4gICAgfVxuICB9XG4vLyNlbmRpZlxuXG4gIC8qIFN0YXJ0IGEgbmV3IGJsb2NrIG9yIGNvbnRpbnVlIHRoZSBjdXJyZW50IG9uZS5cbiAgICovXG4gIGlmIChzdHJtLmF2YWlsX2luICE9PSAwIHx8IHMubG9va2FoZWFkICE9PSAwIHx8XG4gICAgKGZsdXNoICE9PSBaX05PX0ZMVVNIJDIgJiYgcy5zdGF0dXMgIT09IEZJTklTSF9TVEFURSkpIHtcbiAgICBsZXQgYnN0YXRlID0gcy5sZXZlbCA9PT0gMCA/IGRlZmxhdGVfc3RvcmVkKHMsIGZsdXNoKSA6XG4gICAgICAgICAgICAgICAgIHMuc3RyYXRlZ3kgPT09IFpfSFVGRk1BTl9PTkxZID8gZGVmbGF0ZV9odWZmKHMsIGZsdXNoKSA6XG4gICAgICAgICAgICAgICAgIHMuc3RyYXRlZ3kgPT09IFpfUkxFID8gZGVmbGF0ZV9ybGUocywgZmx1c2gpIDpcbiAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5mdW5jKHMsIGZsdXNoKTtcblxuICAgIGlmIChic3RhdGUgPT09IEJTX0ZJTklTSF9TVEFSVEVEIHx8IGJzdGF0ZSA9PT0gQlNfRklOSVNIX0RPTkUpIHtcbiAgICAgIHMuc3RhdHVzID0gRklOSVNIX1NUQVRFO1xuICAgIH1cbiAgICBpZiAoYnN0YXRlID09PSBCU19ORUVEX01PUkUgfHwgYnN0YXRlID09PSBCU19GSU5JU0hfU1RBUlRFRCkge1xuICAgICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgICAvKiBhdm9pZCBCVUZfRVJST1IgbmV4dCBjYWxsLCBzZWUgYWJvdmUgKi9cbiAgICAgIH1cbiAgICAgIHJldHVybiBaX09LJDM7XG4gICAgICAvKiBJZiBmbHVzaCAhPSBaX05PX0ZMVVNIICYmIGF2YWlsX291dCA9PSAwLCB0aGUgbmV4dCBjYWxsXG4gICAgICAgKiBvZiBkZWZsYXRlIHNob3VsZCB1c2UgdGhlIHNhbWUgZmx1c2ggcGFyYW1ldGVyIHRvIG1ha2Ugc3VyZVxuICAgICAgICogdGhhdCB0aGUgZmx1c2ggaXMgY29tcGxldGUuIFNvIHdlIGRvbid0IGhhdmUgdG8gb3V0cHV0IGFuXG4gICAgICAgKiBlbXB0eSBibG9jayBoZXJlLCB0aGlzIHdpbGwgYmUgZG9uZSBhdCBuZXh0IGNhbGwuIFRoaXMgYWxzb1xuICAgICAgICogZW5zdXJlcyB0aGF0IGZvciBhIHZlcnkgc21hbGwgb3V0cHV0IGJ1ZmZlciwgd2UgZW1pdCBhdCBtb3N0XG4gICAgICAgKiBvbmUgZW1wdHkgYmxvY2suXG4gICAgICAgKi9cbiAgICB9XG4gICAgaWYgKGJzdGF0ZSA9PT0gQlNfQkxPQ0tfRE9ORSkge1xuICAgICAgaWYgKGZsdXNoID09PSBaX1BBUlRJQUxfRkxVU0gpIHtcbiAgICAgICAgX3RyX2FsaWduKHMpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZmx1c2ggIT09IFpfQkxPQ0skMSkgeyAvKiBGVUxMX0ZMVVNIIG9yIFNZTkNfRkxVU0ggKi9cblxuICAgICAgICBfdHJfc3RvcmVkX2Jsb2NrKHMsIDAsIDAsIGZhbHNlKTtcbiAgICAgICAgLyogRm9yIGEgZnVsbCBmbHVzaCwgdGhpcyBlbXB0eSBibG9jayB3aWxsIGJlIHJlY29nbml6ZWRcbiAgICAgICAgICogYXMgYSBzcGVjaWFsIG1hcmtlciBieSBpbmZsYXRlX3N5bmMoKS5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChmbHVzaCA9PT0gWl9GVUxMX0ZMVVNIJDEpIHtcbiAgICAgICAgICAvKioqIENMRUFSX0hBU0gocyk7ICoqKi8gICAgICAgICAgICAgLyogZm9yZ2V0IGhpc3RvcnkgKi9cbiAgICAgICAgICB6ZXJvKHMuaGVhZCk7IC8vIEZpbGwgd2l0aCBOSUwgKD0gMCk7XG5cbiAgICAgICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgICAgIHMuc3Ryc3RhcnQgPSAwO1xuICAgICAgICAgICAgcy5ibG9ja19zdGFydCA9IDA7XG4gICAgICAgICAgICBzLmluc2VydCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHMubGFzdF9mbHVzaCA9IC0xOyAvKiBhdm9pZCBCVUZfRVJST1IgYXQgbmV4dCBjYWxsLCBzZWUgYWJvdmUgKi9cbiAgICAgICAgcmV0dXJuIFpfT0skMztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoZmx1c2ggIT09IFpfRklOSVNIJDMpIHsgcmV0dXJuIFpfT0skMzsgfVxuICBpZiAocy53cmFwIDw9IDApIHsgcmV0dXJuIFpfU1RSRUFNX0VORCQzOyB9XG5cbiAgLyogV3JpdGUgdGhlIHRyYWlsZXIgKi9cbiAgaWYgKHMud3JhcCA9PT0gMikge1xuICAgIHB1dF9ieXRlKHMsIHN0cm0uYWRsZXIgJiAweGZmKTtcbiAgICBwdXRfYnl0ZShzLCAoc3RybS5hZGxlciA+PiA4KSAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIChzdHJtLmFkbGVyID4+IDE2KSAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIChzdHJtLmFkbGVyID4+IDI0KSAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIHN0cm0udG90YWxfaW4gJiAweGZmKTtcbiAgICBwdXRfYnl0ZShzLCAoc3RybS50b3RhbF9pbiA+PiA4KSAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIChzdHJtLnRvdGFsX2luID4+IDE2KSAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIChzdHJtLnRvdGFsX2luID4+IDI0KSAmIDB4ZmYpO1xuICB9XG4gIGVsc2VcbiAge1xuICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgPj4+IDE2KTtcbiAgICBwdXRTaG9ydE1TQihzLCBzdHJtLmFkbGVyICYgMHhmZmZmKTtcbiAgfVxuXG4gIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gIC8qIElmIGF2YWlsX291dCBpcyB6ZXJvLCB0aGUgYXBwbGljYXRpb24gd2lsbCBjYWxsIGRlZmxhdGUgYWdhaW5cbiAgICogdG8gZmx1c2ggdGhlIHJlc3QuXG4gICAqL1xuICBpZiAocy53cmFwID4gMCkgeyBzLndyYXAgPSAtcy53cmFwOyB9XG4gIC8qIHdyaXRlIHRoZSB0cmFpbGVyIG9ubHkgb25jZSEgKi9cbiAgcmV0dXJuIHMucGVuZGluZyAhPT0gMCA/IFpfT0skMyA6IFpfU1RSRUFNX0VORCQzO1xufTtcblxuXG5jb25zdCBkZWZsYXRlRW5kID0gKHN0cm0pID0+IHtcblxuICBpZiAoZGVmbGF0ZVN0YXRlQ2hlY2soc3RybSkpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1IkMjtcbiAgfVxuXG4gIGNvbnN0IHN0YXR1cyA9IHN0cm0uc3RhdGUuc3RhdHVzO1xuXG4gIHN0cm0uc3RhdGUgPSBudWxsO1xuXG4gIHJldHVybiBzdGF0dXMgPT09IEJVU1lfU1RBVEUgPyBlcnIoc3RybSwgWl9EQVRBX0VSUk9SJDIpIDogWl9PSyQzO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbml0aWFsaXplcyB0aGUgY29tcHJlc3Npb24gZGljdGlvbmFyeSBmcm9tIHRoZSBnaXZlbiBieXRlXG4gKiBzZXF1ZW5jZSB3aXRob3V0IHByb2R1Y2luZyBhbnkgY29tcHJlc3NlZCBvdXRwdXQuXG4gKi9cbmNvbnN0IGRlZmxhdGVTZXREaWN0aW9uYXJ5ID0gKHN0cm0sIGRpY3Rpb25hcnkpID0+IHtcblxuICBsZXQgZGljdExlbmd0aCA9IGRpY3Rpb25hcnkubGVuZ3RoO1xuXG4gIGlmIChkZWZsYXRlU3RhdGVDaGVjayhzdHJtKSkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUiQyO1xuICB9XG5cbiAgY29uc3QgcyA9IHN0cm0uc3RhdGU7XG4gIGNvbnN0IHdyYXAgPSBzLndyYXA7XG5cbiAgaWYgKHdyYXAgPT09IDIgfHwgKHdyYXAgPT09IDEgJiYgcy5zdGF0dXMgIT09IElOSVRfU1RBVEUpIHx8IHMubG9va2FoZWFkKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDI7XG4gIH1cblxuICAvKiB3aGVuIHVzaW5nIHpsaWIgd3JhcHBlcnMsIGNvbXB1dGUgQWRsZXItMzIgZm9yIHByb3ZpZGVkIGRpY3Rpb25hcnkgKi9cbiAgaWYgKHdyYXAgPT09IDEpIHtcbiAgICAvKiBhZGxlcjMyKHN0cm0tPmFkbGVyLCBkaWN0aW9uYXJ5LCBkaWN0TGVuZ3RoKTsgKi9cbiAgICBzdHJtLmFkbGVyID0gYWRsZXIzMl8xKHN0cm0uYWRsZXIsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgsIDApO1xuICB9XG5cbiAgcy53cmFwID0gMDsgICAvKiBhdm9pZCBjb21wdXRpbmcgQWRsZXItMzIgaW4gcmVhZF9idWYgKi9cblxuICAvKiBpZiBkaWN0aW9uYXJ5IHdvdWxkIGZpbGwgd2luZG93LCBqdXN0IHJlcGxhY2UgdGhlIGhpc3RvcnkgKi9cbiAgaWYgKGRpY3RMZW5ndGggPj0gcy53X3NpemUpIHtcbiAgICBpZiAod3JhcCA9PT0gMCkgeyAgICAgICAgICAgIC8qIGFscmVhZHkgZW1wdHkgb3RoZXJ3aXNlICovXG4gICAgICAvKioqIENMRUFSX0hBU0gocyk7ICoqKi9cbiAgICAgIHplcm8ocy5oZWFkKTsgLy8gRmlsbCB3aXRoIE5JTCAoPSAwKTtcbiAgICAgIHMuc3Ryc3RhcnQgPSAwO1xuICAgICAgcy5ibG9ja19zdGFydCA9IDA7XG4gICAgICBzLmluc2VydCA9IDA7XG4gICAgfVxuICAgIC8qIHVzZSB0aGUgdGFpbCAqL1xuICAgIC8vIGRpY3Rpb25hcnkgPSBkaWN0aW9uYXJ5LnNsaWNlKGRpY3RMZW5ndGggLSBzLndfc2l6ZSk7XG4gICAgbGV0IHRtcERpY3QgPSBuZXcgVWludDhBcnJheShzLndfc2l6ZSk7XG4gICAgdG1wRGljdC5zZXQoZGljdGlvbmFyeS5zdWJhcnJheShkaWN0TGVuZ3RoIC0gcy53X3NpemUsIGRpY3RMZW5ndGgpLCAwKTtcbiAgICBkaWN0aW9uYXJ5ID0gdG1wRGljdDtcbiAgICBkaWN0TGVuZ3RoID0gcy53X3NpemU7XG4gIH1cbiAgLyogaW5zZXJ0IGRpY3Rpb25hcnkgaW50byB3aW5kb3cgYW5kIGhhc2ggKi9cbiAgY29uc3QgYXZhaWwgPSBzdHJtLmF2YWlsX2luO1xuICBjb25zdCBuZXh0ID0gc3RybS5uZXh0X2luO1xuICBjb25zdCBpbnB1dCA9IHN0cm0uaW5wdXQ7XG4gIHN0cm0uYXZhaWxfaW4gPSBkaWN0TGVuZ3RoO1xuICBzdHJtLm5leHRfaW4gPSAwO1xuICBzdHJtLmlucHV0ID0gZGljdGlvbmFyeTtcbiAgZmlsbF93aW5kb3cocyk7XG4gIHdoaWxlIChzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0gpIHtcbiAgICBsZXQgc3RyID0gcy5zdHJzdGFydDtcbiAgICBsZXQgbiA9IHMubG9va2FoZWFkIC0gKE1JTl9NQVRDSCAtIDEpO1xuICAgIGRvIHtcbiAgICAgIC8qIFVQREFURV9IQVNIKHMsIHMtPmluc19oLCBzLT53aW5kb3dbc3RyICsgTUlOX01BVENILTFdKTsgKi9cbiAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3N0ciArIE1JTl9NQVRDSCAtIDFdKTtcblxuICAgICAgcy5wcmV2W3N0ciAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcblxuICAgICAgcy5oZWFkW3MuaW5zX2hdID0gc3RyO1xuICAgICAgc3RyKys7XG4gICAgfSB3aGlsZSAoLS1uKTtcbiAgICBzLnN0cnN0YXJ0ID0gc3RyO1xuICAgIHMubG9va2FoZWFkID0gTUlOX01BVENIIC0gMTtcbiAgICBmaWxsX3dpbmRvdyhzKTtcbiAgfVxuICBzLnN0cnN0YXJ0ICs9IHMubG9va2FoZWFkO1xuICBzLmJsb2NrX3N0YXJ0ID0gcy5zdHJzdGFydDtcbiAgcy5pbnNlcnQgPSBzLmxvb2thaGVhZDtcbiAgcy5sb29rYWhlYWQgPSAwO1xuICBzLm1hdGNoX2xlbmd0aCA9IHMucHJldl9sZW5ndGggPSBNSU5fTUFUQ0ggLSAxO1xuICBzLm1hdGNoX2F2YWlsYWJsZSA9IDA7XG4gIHN0cm0ubmV4dF9pbiA9IG5leHQ7XG4gIHN0cm0uaW5wdXQgPSBpbnB1dDtcbiAgc3RybS5hdmFpbF9pbiA9IGF2YWlsO1xuICBzLndyYXAgPSB3cmFwO1xuICByZXR1cm4gWl9PSyQzO1xufTtcblxuXG52YXIgZGVmbGF0ZUluaXRfMSA9IGRlZmxhdGVJbml0O1xudmFyIGRlZmxhdGVJbml0Ml8xID0gZGVmbGF0ZUluaXQyO1xudmFyIGRlZmxhdGVSZXNldF8xID0gZGVmbGF0ZVJlc2V0O1xudmFyIGRlZmxhdGVSZXNldEtlZXBfMSA9IGRlZmxhdGVSZXNldEtlZXA7XG52YXIgZGVmbGF0ZVNldEhlYWRlcl8xID0gZGVmbGF0ZVNldEhlYWRlcjtcbnZhciBkZWZsYXRlXzIkMSA9IGRlZmxhdGUkMjtcbnZhciBkZWZsYXRlRW5kXzEgPSBkZWZsYXRlRW5kO1xudmFyIGRlZmxhdGVTZXREaWN0aW9uYXJ5XzEgPSBkZWZsYXRlU2V0RGljdGlvbmFyeTtcbnZhciBkZWZsYXRlSW5mbyA9ICdwYWtvIGRlZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpJztcblxuLyogTm90IGltcGxlbWVudGVkXG5tb2R1bGUuZXhwb3J0cy5kZWZsYXRlQm91bmQgPSBkZWZsYXRlQm91bmQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZsYXRlQ29weSA9IGRlZmxhdGVDb3B5O1xubW9kdWxlLmV4cG9ydHMuZGVmbGF0ZUdldERpY3Rpb25hcnkgPSBkZWZsYXRlR2V0RGljdGlvbmFyeTtcbm1vZHVsZS5leHBvcnRzLmRlZmxhdGVQYXJhbXMgPSBkZWZsYXRlUGFyYW1zO1xubW9kdWxlLmV4cG9ydHMuZGVmbGF0ZVBlbmRpbmcgPSBkZWZsYXRlUGVuZGluZztcbm1vZHVsZS5leHBvcnRzLmRlZmxhdGVQcmltZSA9IGRlZmxhdGVQcmltZTtcbm1vZHVsZS5leHBvcnRzLmRlZmxhdGVUdW5lID0gZGVmbGF0ZVR1bmU7XG4qL1xuXG52YXIgZGVmbGF0ZV8xJDIgPSB7XG5cdGRlZmxhdGVJbml0OiBkZWZsYXRlSW5pdF8xLFxuXHRkZWZsYXRlSW5pdDI6IGRlZmxhdGVJbml0Ml8xLFxuXHRkZWZsYXRlUmVzZXQ6IGRlZmxhdGVSZXNldF8xLFxuXHRkZWZsYXRlUmVzZXRLZWVwOiBkZWZsYXRlUmVzZXRLZWVwXzEsXG5cdGRlZmxhdGVTZXRIZWFkZXI6IGRlZmxhdGVTZXRIZWFkZXJfMSxcblx0ZGVmbGF0ZTogZGVmbGF0ZV8yJDEsXG5cdGRlZmxhdGVFbmQ6IGRlZmxhdGVFbmRfMSxcblx0ZGVmbGF0ZVNldERpY3Rpb25hcnk6IGRlZmxhdGVTZXREaWN0aW9uYXJ5XzEsXG5cdGRlZmxhdGVJbmZvOiBkZWZsYXRlSW5mb1xufTtcblxuY29uc3QgX2hhcyA9IChvYmosIGtleSkgPT4ge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn07XG5cbnZhciBhc3NpZ24gPSBmdW5jdGlvbiAob2JqIC8qZnJvbTEsIGZyb20yLCBmcm9tMywgLi4uKi8pIHtcbiAgY29uc3Qgc291cmNlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gIHdoaWxlIChzb3VyY2VzLmxlbmd0aCkge1xuICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZXMuc2hpZnQoKTtcbiAgICBpZiAoIXNvdXJjZSkgeyBjb250aW51ZTsgfVxuXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHNvdXJjZSArICdtdXN0IGJlIG5vbi1vYmplY3QnKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHAgaW4gc291cmNlKSB7XG4gICAgICBpZiAoX2hhcyhzb3VyY2UsIHApKSB7XG4gICAgICAgIG9ialtwXSA9IHNvdXJjZVtwXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxuXG4vLyBKb2luIGFycmF5IG9mIGNodW5rcyB0byBzaW5nbGUgYXJyYXkuXG52YXIgZmxhdHRlbkNodW5rcyA9IChjaHVua3MpID0+IHtcbiAgLy8gY2FsY3VsYXRlIGRhdGEgbGVuZ3RoXG4gIGxldCBsZW4gPSAwO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gY2h1bmtzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGxlbiArPSBjaHVua3NbaV0ubGVuZ3RoO1xuICB9XG5cbiAgLy8gam9pbiBjaHVua3NcbiAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcblxuICBmb3IgKGxldCBpID0gMCwgcG9zID0gMCwgbCA9IGNodW5rcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBsZXQgY2h1bmsgPSBjaHVua3NbaV07XG4gICAgcmVzdWx0LnNldChjaHVuaywgcG9zKTtcbiAgICBwb3MgKz0gY2h1bmsubGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBjb21tb24gPSB7XG5cdGFzc2lnbjogYXNzaWduLFxuXHRmbGF0dGVuQ2h1bmtzOiBmbGF0dGVuQ2h1bmtzXG59O1xuXG4vLyBTdHJpbmcgZW5jb2RlL2RlY29kZSBoZWxwZXJzXG5cblxuLy8gUXVpY2sgY2hlY2sgaWYgd2UgY2FuIHVzZSBmYXN0IGFycmF5IHRvIGJpbiBzdHJpbmcgY29udmVyc2lvblxuLy9cbi8vIC0gYXBwbHkoQXJyYXkpIGNhbiBmYWlsIG9uIEFuZHJvaWQgMi4yXG4vLyAtIGFwcGx5KFVpbnQ4QXJyYXkpIGNhbiBmYWlsIG9uIGlPUyA1LjEgU2FmYXJpXG4vL1xubGV0IFNUUl9BUFBMWV9VSUFfT0sgPSB0cnVlO1xuXG50cnkgeyBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KDEpKTsgfSBjYXRjaCAoX18pIHsgU1RSX0FQUExZX1VJQV9PSyA9IGZhbHNlOyB9XG5cblxuLy8gVGFibGUgd2l0aCB1dGY4IGxlbmd0aHMgKGNhbGN1bGF0ZWQgYnkgZmlyc3QgYnl0ZSBvZiBzZXF1ZW5jZSlcbi8vIE5vdGUsIHRoYXQgNSAmIDYtYnl0ZSB2YWx1ZXMgYW5kIHNvbWUgNC1ieXRlIHZhbHVlcyBjYW4gbm90IGJlIHJlcHJlc2VudGVkIGluIEpTLFxuLy8gYmVjYXVzZSBtYXggcG9zc2libGUgY29kZXBvaW50IGlzIDB4MTBmZmZmXG5jb25zdCBfdXRmOGxlbiA9IG5ldyBVaW50OEFycmF5KDI1Nik7XG5mb3IgKGxldCBxID0gMDsgcSA8IDI1NjsgcSsrKSB7XG4gIF91dGY4bGVuW3FdID0gKHEgPj0gMjUyID8gNiA6IHEgPj0gMjQ4ID8gNSA6IHEgPj0gMjQwID8gNCA6IHEgPj0gMjI0ID8gMyA6IHEgPj0gMTkyID8gMiA6IDEpO1xufVxuX3V0ZjhsZW5bMjU0XSA9IF91dGY4bGVuWzI1NF0gPSAxOyAvLyBJbnZhbGlkIHNlcXVlbmNlIHN0YXJ0XG5cblxuLy8gY29udmVydCBzdHJpbmcgdG8gYXJyYXkgKHR5cGVkLCB3aGVuIHBvc3NpYmxlKVxudmFyIHN0cmluZzJidWYgPSAoc3RyKSA9PiB7XG4gIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICdmdW5jdGlvbicgJiYgVGV4dEVuY29kZXIucHJvdG90eXBlLmVuY29kZSkge1xuICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoc3RyKTtcbiAgfVxuXG4gIGxldCBidWYsIGMsIGMyLCBtX3BvcywgaSwgc3RyX2xlbiA9IHN0ci5sZW5ndGgsIGJ1Zl9sZW4gPSAwO1xuXG4gIC8vIGNvdW50IGJpbmFyeSBzaXplXG4gIGZvciAobV9wb3MgPSAwOyBtX3BvcyA8IHN0cl9sZW47IG1fcG9zKyspIHtcbiAgICBjID0gc3RyLmNoYXJDb2RlQXQobV9wb3MpO1xuICAgIGlmICgoYyAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJiAobV9wb3MgKyAxIDwgc3RyX2xlbikpIHtcbiAgICAgIGMyID0gc3RyLmNoYXJDb2RlQXQobV9wb3MgKyAxKTtcbiAgICAgIGlmICgoYzIgJiAweGZjMDApID09PSAweGRjMDApIHtcbiAgICAgICAgYyA9IDB4MTAwMDAgKyAoKGMgLSAweGQ4MDApIDw8IDEwKSArIChjMiAtIDB4ZGMwMCk7XG4gICAgICAgIG1fcG9zKys7XG4gICAgICB9XG4gICAgfVxuICAgIGJ1Zl9sZW4gKz0gYyA8IDB4ODAgPyAxIDogYyA8IDB4ODAwID8gMiA6IGMgPCAweDEwMDAwID8gMyA6IDQ7XG4gIH1cblxuICAvLyBhbGxvY2F0ZSBidWZmZXJcbiAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYnVmX2xlbik7XG5cbiAgLy8gY29udmVydFxuICBmb3IgKGkgPSAwLCBtX3BvcyA9IDA7IGkgPCBidWZfbGVuOyBtX3BvcysrKSB7XG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KG1fcG9zKTtcbiAgICBpZiAoKGMgJiAweGZjMDApID09PSAweGQ4MDAgJiYgKG1fcG9zICsgMSA8IHN0cl9sZW4pKSB7XG4gICAgICBjMiA9IHN0ci5jaGFyQ29kZUF0KG1fcG9zICsgMSk7XG4gICAgICBpZiAoKGMyICYgMHhmYzAwKSA9PT0gMHhkYzAwKSB7XG4gICAgICAgIGMgPSAweDEwMDAwICsgKChjIC0gMHhkODAwKSA8PCAxMCkgKyAoYzIgLSAweGRjMDApO1xuICAgICAgICBtX3BvcysrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYyA8IDB4ODApIHtcbiAgICAgIC8qIG9uZSBieXRlICovXG4gICAgICBidWZbaSsrXSA9IGM7XG4gICAgfSBlbHNlIGlmIChjIDwgMHg4MDApIHtcbiAgICAgIC8qIHR3byBieXRlcyAqL1xuICAgICAgYnVmW2krK10gPSAweEMwIHwgKGMgPj4+IDYpO1xuICAgICAgYnVmW2krK10gPSAweDgwIHwgKGMgJiAweDNmKTtcbiAgICB9IGVsc2UgaWYgKGMgPCAweDEwMDAwKSB7XG4gICAgICAvKiB0aHJlZSBieXRlcyAqL1xuICAgICAgYnVmW2krK10gPSAweEUwIHwgKGMgPj4+IDEyKTtcbiAgICAgIGJ1ZltpKytdID0gMHg4MCB8IChjID4+PiA2ICYgMHgzZik7XG4gICAgICBidWZbaSsrXSA9IDB4ODAgfCAoYyAmIDB4M2YpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBmb3VyIGJ5dGVzICovXG4gICAgICBidWZbaSsrXSA9IDB4ZjAgfCAoYyA+Pj4gMTgpO1xuICAgICAgYnVmW2krK10gPSAweDgwIHwgKGMgPj4+IDEyICYgMHgzZik7XG4gICAgICBidWZbaSsrXSA9IDB4ODAgfCAoYyA+Pj4gNiAmIDB4M2YpO1xuICAgICAgYnVmW2krK10gPSAweDgwIHwgKGMgJiAweDNmKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmO1xufTtcblxuLy8gSGVscGVyXG5jb25zdCBidWYyYmluc3RyaW5nID0gKGJ1ZiwgbGVuKSA9PiB7XG4gIC8vIE9uIENocm9tZSwgdGhlIGFyZ3VtZW50cyBpbiBhIGZ1bmN0aW9uIGNhbGwgdGhhdCBhcmUgYWxsb3dlZCBpcyBgNjU1MzRgLlxuICAvLyBJZiB0aGUgbGVuZ3RoIG9mIHRoZSBidWZmZXIgaXMgc21hbGxlciB0aGFuIHRoYXQsIHdlIGNhbiB1c2UgdGhpcyBvcHRpbWl6YXRpb24sXG4gIC8vIG90aGVyd2lzZSB3ZSB3aWxsIHRha2UgYSBzbG93ZXIgcGF0aC5cbiAgaWYgKGxlbiA8IDY1NTM0KSB7XG4gICAgaWYgKGJ1Zi5zdWJhcnJheSAmJiBTVFJfQVBQTFlfVUlBX09LKSB7XG4gICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBidWYubGVuZ3RoID09PSBsZW4gPyBidWYgOiBidWYuc3ViYXJyYXkoMCwgbGVuKSk7XG4gICAgfVxuICB9XG5cbiAgbGV0IHJlc3VsdCA9ICcnO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vLyBjb252ZXJ0IGFycmF5IHRvIHN0cmluZ1xudmFyIGJ1ZjJzdHJpbmcgPSAoYnVmLCBtYXgpID0+IHtcbiAgY29uc3QgbGVuID0gbWF4IHx8IGJ1Zi5sZW5ndGg7XG5cbiAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ2Z1bmN0aW9uJyAmJiBUZXh0RGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlKSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShidWYuc3ViYXJyYXkoMCwgbWF4KSk7XG4gIH1cblxuICBsZXQgaSwgb3V0O1xuXG4gIC8vIFJlc2VydmUgbWF4IHBvc3NpYmxlIGxlbmd0aCAoMiB3b3JkcyBwZXIgY2hhcilcbiAgLy8gTkI6IGJ5IHVua25vd24gcmVhc29ucywgQXJyYXkgaXMgc2lnbmlmaWNhbnRseSBmYXN0ZXIgZm9yXG4gIC8vICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5IHRoYW4gVWludDE2QXJyYXkuXG4gIGNvbnN0IHV0ZjE2YnVmID0gbmV3IEFycmF5KGxlbiAqIDIpO1xuXG4gIGZvciAob3V0ID0gMCwgaSA9IDA7IGkgPCBsZW47KSB7XG4gICAgbGV0IGMgPSBidWZbaSsrXTtcbiAgICAvLyBxdWljayBwcm9jZXNzIGFzY2lpXG4gICAgaWYgKGMgPCAweDgwKSB7IHV0ZjE2YnVmW291dCsrXSA9IGM7IGNvbnRpbnVlOyB9XG5cbiAgICBsZXQgY19sZW4gPSBfdXRmOGxlbltjXTtcbiAgICAvLyBza2lwIDUgJiA2IGJ5dGUgY29kZXNcbiAgICBpZiAoY19sZW4gPiA0KSB7IHV0ZjE2YnVmW291dCsrXSA9IDB4ZmZmZDsgaSArPSBjX2xlbiAtIDE7IGNvbnRpbnVlOyB9XG5cbiAgICAvLyBhcHBseSBtYXNrIG9uIGZpcnN0IGJ5dGVcbiAgICBjICY9IGNfbGVuID09PSAyID8gMHgxZiA6IGNfbGVuID09PSAzID8gMHgwZiA6IDB4MDc7XG4gICAgLy8gam9pbiB0aGUgcmVzdFxuICAgIHdoaWxlIChjX2xlbiA+IDEgJiYgaSA8IGxlbikge1xuICAgICAgYyA9IChjIDw8IDYpIHwgKGJ1ZltpKytdICYgMHgzZik7XG4gICAgICBjX2xlbi0tO1xuICAgIH1cblxuICAgIC8vIHRlcm1pbmF0ZWQgYnkgZW5kIG9mIHN0cmluZz9cbiAgICBpZiAoY19sZW4gPiAxKSB7IHV0ZjE2YnVmW291dCsrXSA9IDB4ZmZmZDsgY29udGludWU7IH1cblxuICAgIGlmIChjIDwgMHgxMDAwMCkge1xuICAgICAgdXRmMTZidWZbb3V0KytdID0gYztcbiAgICB9IGVsc2Uge1xuICAgICAgYyAtPSAweDEwMDAwO1xuICAgICAgdXRmMTZidWZbb3V0KytdID0gMHhkODAwIHwgKChjID4+IDEwKSAmIDB4M2ZmKTtcbiAgICAgIHV0ZjE2YnVmW291dCsrXSA9IDB4ZGMwMCB8IChjICYgMHgzZmYpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBidWYyYmluc3RyaW5nKHV0ZjE2YnVmLCBvdXQpO1xufTtcblxuXG4vLyBDYWxjdWxhdGUgbWF4IHBvc3NpYmxlIHBvc2l0aW9uIGluIHV0ZjggYnVmZmVyLFxuLy8gdGhhdCB3aWxsIG5vdCBicmVhayBzZXF1ZW5jZS4gSWYgdGhhdCdzIG5vdCBwb3NzaWJsZVxuLy8gLSAodmVyeSBzbWFsbCBsaW1pdHMpIHJldHVybiBtYXggc2l6ZSBhcyBpcy5cbi8vXG4vLyBidWZbXSAtIHV0ZjggYnl0ZXMgYXJyYXlcbi8vIG1heCAgIC0gbGVuZ3RoIGxpbWl0IChtYW5kYXRvcnkpO1xudmFyIHV0Zjhib3JkZXIgPSAoYnVmLCBtYXgpID0+IHtcblxuICBtYXggPSBtYXggfHwgYnVmLmxlbmd0aDtcbiAgaWYgKG1heCA+IGJ1Zi5sZW5ndGgpIHsgbWF4ID0gYnVmLmxlbmd0aDsgfVxuXG4gIC8vIGdvIGJhY2sgZnJvbSBsYXN0IHBvc2l0aW9uLCB1bnRpbCBzdGFydCBvZiBzZXF1ZW5jZSBmb3VuZFxuICBsZXQgcG9zID0gbWF4IC0gMTtcbiAgd2hpbGUgKHBvcyA+PSAwICYmIChidWZbcG9zXSAmIDB4QzApID09PSAweDgwKSB7IHBvcy0tOyB9XG5cbiAgLy8gVmVyeSBzbWFsbCBhbmQgYnJva2VuIHNlcXVlbmNlLFxuICAvLyByZXR1cm4gbWF4LCBiZWNhdXNlIHdlIHNob3VsZCByZXR1cm4gc29tZXRoaW5nIGFueXdheS5cbiAgaWYgKHBvcyA8IDApIHsgcmV0dXJuIG1heDsgfVxuXG4gIC8vIElmIHdlIGNhbWUgdG8gc3RhcnQgb2YgYnVmZmVyIC0gdGhhdCBtZWFucyBidWZmZXIgaXMgdG9vIHNtYWxsLFxuICAvLyByZXR1cm4gbWF4IHRvby5cbiAgaWYgKHBvcyA9PT0gMCkgeyByZXR1cm4gbWF4OyB9XG5cbiAgcmV0dXJuIChwb3MgKyBfdXRmOGxlbltidWZbcG9zXV0gPiBtYXgpID8gcG9zIDogbWF4O1xufTtcblxudmFyIHN0cmluZ3MgPSB7XG5cdHN0cmluZzJidWY6IHN0cmluZzJidWYsXG5cdGJ1ZjJzdHJpbmc6IGJ1ZjJzdHJpbmcsXG5cdHV0Zjhib3JkZXI6IHV0Zjhib3JkZXJcbn07XG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxuZnVuY3Rpb24gWlN0cmVhbSgpIHtcbiAgLyogbmV4dCBpbnB1dCBieXRlICovXG4gIHRoaXMuaW5wdXQgPSBudWxsOyAvLyBKUyBzcGVjaWZpYywgYmVjYXVzZSB3ZSBoYXZlIG5vIHBvaW50ZXJzXG4gIHRoaXMubmV4dF9pbiA9IDA7XG4gIC8qIG51bWJlciBvZiBieXRlcyBhdmFpbGFibGUgYXQgaW5wdXQgKi9cbiAgdGhpcy5hdmFpbF9pbiA9IDA7XG4gIC8qIHRvdGFsIG51bWJlciBvZiBpbnB1dCBieXRlcyByZWFkIHNvIGZhciAqL1xuICB0aGlzLnRvdGFsX2luID0gMDtcbiAgLyogbmV4dCBvdXRwdXQgYnl0ZSBzaG91bGQgYmUgcHV0IHRoZXJlICovXG4gIHRoaXMub3V0cHV0ID0gbnVsbDsgLy8gSlMgc3BlY2lmaWMsIGJlY2F1c2Ugd2UgaGF2ZSBubyBwb2ludGVyc1xuICB0aGlzLm5leHRfb3V0ID0gMDtcbiAgLyogcmVtYWluaW5nIGZyZWUgc3BhY2UgYXQgb3V0cHV0ICovXG4gIHRoaXMuYXZhaWxfb3V0ID0gMDtcbiAgLyogdG90YWwgbnVtYmVyIG9mIGJ5dGVzIG91dHB1dCBzbyBmYXIgKi9cbiAgdGhpcy50b3RhbF9vdXQgPSAwO1xuICAvKiBsYXN0IGVycm9yIG1lc3NhZ2UsIE5VTEwgaWYgbm8gZXJyb3IgKi9cbiAgdGhpcy5tc2cgPSAnJy8qWl9OVUxMKi87XG4gIC8qIG5vdCB2aXNpYmxlIGJ5IGFwcGxpY2F0aW9ucyAqL1xuICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgLyogYmVzdCBndWVzcyBhYm91dCB0aGUgZGF0YSB0eXBlOiBiaW5hcnkgb3IgdGV4dCAqL1xuICB0aGlzLmRhdGFfdHlwZSA9IDIvKlpfVU5LTk9XTiovO1xuICAvKiBhZGxlcjMyIHZhbHVlIG9mIHRoZSB1bmNvbXByZXNzZWQgZGF0YSAqL1xuICB0aGlzLmFkbGVyID0gMDtcbn1cblxudmFyIHpzdHJlYW0gPSBaU3RyZWFtO1xuXG5jb25zdCB0b1N0cmluZyQxID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyogUHVibGljIGNvbnN0YW50cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbmNvbnN0IHtcbiAgWl9OT19GTFVTSDogWl9OT19GTFVTSCQxLCBaX1NZTkNfRkxVU0gsIFpfRlVMTF9GTFVTSCwgWl9GSU5JU0g6IFpfRklOSVNIJDIsXG4gIFpfT0s6IFpfT0skMiwgWl9TVFJFQU1fRU5EOiBaX1NUUkVBTV9FTkQkMixcbiAgWl9ERUZBVUxUX0NPTVBSRVNTSU9OLFxuICBaX0RFRkFVTFRfU1RSQVRFR1ksXG4gIFpfREVGTEFURUQ6IFpfREVGTEFURUQkMVxufSA9IGNvbnN0YW50cyQyO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbi8qKlxuICogY2xhc3MgRGVmbGF0ZVxuICpcbiAqIEdlbmVyaWMgSlMtc3R5bGUgd3JhcHBlciBmb3IgemxpYiBjYWxscy4gSWYgeW91IGRvbid0IG5lZWRcbiAqIHN0cmVhbWluZyBiZWhhdmlvdXIgLSB1c2UgbW9yZSBzaW1wbGUgZnVuY3Rpb25zOiBbW2RlZmxhdGVdXSxcbiAqIFtbZGVmbGF0ZVJhd11dIGFuZCBbW2d6aXBdXS5cbiAqKi9cblxuLyogaW50ZXJuYWxcbiAqIERlZmxhdGUuY2h1bmtzIC0+IEFycmF5XG4gKlxuICogQ2h1bmtzIG9mIG91dHB1dCBkYXRhLCBpZiBbW0RlZmxhdGUjb25EYXRhXV0gbm90IG92ZXJyaWRkZW4uXG4gKiovXG5cbi8qKlxuICogRGVmbGF0ZS5yZXN1bHQgLT4gVWludDhBcnJheVxuICpcbiAqIENvbXByZXNzZWQgcmVzdWx0LCBnZW5lcmF0ZWQgYnkgZGVmYXVsdCBbW0RlZmxhdGUjb25EYXRhXV1cbiAqIGFuZCBbW0RlZmxhdGUjb25FbmRdXSBoYW5kbGVycy4gRmlsbGVkIGFmdGVyIHlvdSBwdXNoIGxhc3QgY2h1bmtcbiAqIChjYWxsIFtbRGVmbGF0ZSNwdXNoXV0gd2l0aCBgWl9GSU5JU0hgIC8gYHRydWVgIHBhcmFtKS5cbiAqKi9cblxuLyoqXG4gKiBEZWZsYXRlLmVyciAtPiBOdW1iZXJcbiAqXG4gKiBFcnJvciBjb2RlIGFmdGVyIGRlZmxhdGUgZmluaXNoZWQuIDAgKFpfT0spIG9uIHN1Y2Nlc3MuXG4gKiBZb3Ugd2lsbCBub3QgbmVlZCBpdCBpbiByZWFsIGxpZmUsIGJlY2F1c2UgZGVmbGF0ZSBlcnJvcnNcbiAqIGFyZSBwb3NzaWJsZSBvbmx5IG9uIHdyb25nIG9wdGlvbnMgb3IgYmFkIGBvbkRhdGFgIC8gYG9uRW5kYFxuICogY3VzdG9tIGhhbmRsZXJzLlxuICoqL1xuXG4vKipcbiAqIERlZmxhdGUubXNnIC0+IFN0cmluZ1xuICpcbiAqIEVycm9yIG1lc3NhZ2UsIGlmIFtbRGVmbGF0ZS5lcnJdXSAhPSAwXG4gKiovXG5cblxuLyoqXG4gKiBuZXcgRGVmbGF0ZShvcHRpb25zKVxuICogLSBvcHRpb25zIChPYmplY3QpOiB6bGliIGRlZmxhdGUgb3B0aW9ucy5cbiAqXG4gKiBDcmVhdGVzIG5ldyBkZWZsYXRvciBpbnN0YW5jZSB3aXRoIHNwZWNpZmllZCBwYXJhbXMuIFRocm93cyBleGNlcHRpb25cbiAqIG9uIGJhZCBwYXJhbXMuIFN1cHBvcnRlZCBvcHRpb25zOlxuICpcbiAqIC0gYGxldmVsYFxuICogLSBgd2luZG93Qml0c2BcbiAqIC0gYG1lbUxldmVsYFxuICogLSBgc3RyYXRlZ3lgXG4gKiAtIGBkaWN0aW9uYXJ5YFxuICpcbiAqIFtodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWRdKGh0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZClcbiAqIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHRoZXNlLlxuICpcbiAqIEFkZGl0aW9uYWwgb3B0aW9ucywgZm9yIGludGVybmFsIG5lZWRzOlxuICpcbiAqIC0gYGNodW5rU2l6ZWAgLSBzaXplIG9mIGdlbmVyYXRlZCBkYXRhIGNodW5rcyAoMTZLIGJ5IGRlZmF1bHQpXG4gKiAtIGByYXdgIChCb29sZWFuKSAtIGRvIHJhdyBkZWZsYXRlXG4gKiAtIGBnemlwYCAoQm9vbGVhbikgLSBjcmVhdGUgZ3ppcCB3cmFwcGVyXG4gKiAtIGBoZWFkZXJgIChPYmplY3QpIC0gY3VzdG9tIGhlYWRlciBmb3IgZ3ppcFxuICogICAtIGB0ZXh0YCAoQm9vbGVhbikgLSB0cnVlIGlmIGNvbXByZXNzZWQgZGF0YSBiZWxpZXZlZCB0byBiZSB0ZXh0XG4gKiAgIC0gYHRpbWVgIChOdW1iZXIpIC0gbW9kaWZpY2F0aW9uIHRpbWUsIHVuaXggdGltZXN0YW1wXG4gKiAgIC0gYG9zYCAoTnVtYmVyKSAtIG9wZXJhdGlvbiBzeXN0ZW0gY29kZVxuICogICAtIGBleHRyYWAgKEFycmF5KSAtIGFycmF5IG9mIGJ5dGVzIHdpdGggZXh0cmEgZGF0YSAobWF4IDY1NTM2KVxuICogICAtIGBuYW1lYCAoU3RyaW5nKSAtIGZpbGUgbmFtZSAoYmluYXJ5IHN0cmluZylcbiAqICAgLSBgY29tbWVudGAgKFN0cmluZykgLSBjb21tZW50IChiaW5hcnkgc3RyaW5nKVxuICogICAtIGBoY3JjYCAoQm9vbGVhbikgLSB0cnVlIGlmIGhlYWRlciBjcmMgc2hvdWxkIGJlIGFkZGVkXG4gKlxuICogIyMjIyMgRXhhbXBsZTpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBwYWtvID0gcmVxdWlyZSgncGFrbycpXG4gKiAgICwgY2h1bmsxID0gbmV3IFVpbnQ4QXJyYXkoWzEsMiwzLDQsNSw2LDcsOCw5XSlcbiAqICAgLCBjaHVuazIgPSBuZXcgVWludDhBcnJheShbMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTldKTtcbiAqXG4gKiBjb25zdCBkZWZsYXRlID0gbmV3IHBha28uRGVmbGF0ZSh7IGxldmVsOiAzfSk7XG4gKlxuICogZGVmbGF0ZS5wdXNoKGNodW5rMSwgZmFsc2UpO1xuICogZGVmbGF0ZS5wdXNoKGNodW5rMiwgdHJ1ZSk7ICAvLyB0cnVlIC0+IGxhc3QgY2h1bmtcbiAqXG4gKiBpZiAoZGVmbGF0ZS5lcnIpIHsgdGhyb3cgbmV3IEVycm9yKGRlZmxhdGUuZXJyKTsgfVxuICpcbiAqIGNvbnNvbGUubG9nKGRlZmxhdGUucmVzdWx0KTtcbiAqIGBgYFxuICoqL1xuZnVuY3Rpb24gRGVmbGF0ZSQxKG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gY29tbW9uLmFzc2lnbih7XG4gICAgbGV2ZWw6IFpfREVGQVVMVF9DT01QUkVTU0lPTixcbiAgICBtZXRob2Q6IFpfREVGTEFURUQkMSxcbiAgICBjaHVua1NpemU6IDE2Mzg0LFxuICAgIHdpbmRvd0JpdHM6IDE1LFxuICAgIG1lbUxldmVsOiA4LFxuICAgIHN0cmF0ZWd5OiBaX0RFRkFVTFRfU1RSQVRFR1lcbiAgfSwgb3B0aW9ucyB8fCB7fSk7XG5cbiAgbGV0IG9wdCA9IHRoaXMub3B0aW9ucztcblxuICBpZiAob3B0LnJhdyAmJiAob3B0LndpbmRvd0JpdHMgPiAwKSkge1xuICAgIG9wdC53aW5kb3dCaXRzID0gLW9wdC53aW5kb3dCaXRzO1xuICB9XG5cbiAgZWxzZSBpZiAob3B0Lmd6aXAgJiYgKG9wdC53aW5kb3dCaXRzID4gMCkgJiYgKG9wdC53aW5kb3dCaXRzIDwgMTYpKSB7XG4gICAgb3B0LndpbmRvd0JpdHMgKz0gMTY7XG4gIH1cblxuICB0aGlzLmVyciAgICA9IDA7ICAgICAgLy8gZXJyb3IgY29kZSwgaWYgaGFwcGVucyAoMCA9IFpfT0spXG4gIHRoaXMubXNnICAgID0gJyc7ICAgICAvLyBlcnJvciBtZXNzYWdlXG4gIHRoaXMuZW5kZWQgID0gZmFsc2U7ICAvLyB1c2VkIHRvIGF2b2lkIG11bHRpcGxlIG9uRW5kKCkgY2FsbHNcbiAgdGhpcy5jaHVua3MgPSBbXTsgICAgIC8vIGNodW5rcyBvZiBjb21wcmVzc2VkIGRhdGFcblxuICB0aGlzLnN0cm0gPSBuZXcgenN0cmVhbSgpO1xuICB0aGlzLnN0cm0uYXZhaWxfb3V0ID0gMDtcblxuICBsZXQgc3RhdHVzID0gZGVmbGF0ZV8xJDIuZGVmbGF0ZUluaXQyKFxuICAgIHRoaXMuc3RybSxcbiAgICBvcHQubGV2ZWwsXG4gICAgb3B0Lm1ldGhvZCxcbiAgICBvcHQud2luZG93Qml0cyxcbiAgICBvcHQubWVtTGV2ZWwsXG4gICAgb3B0LnN0cmF0ZWd5XG4gICk7XG5cbiAgaWYgKHN0YXR1cyAhPT0gWl9PSyQyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2VzW3N0YXR1c10pO1xuICB9XG5cbiAgaWYgKG9wdC5oZWFkZXIpIHtcbiAgICBkZWZsYXRlXzEkMi5kZWZsYXRlU2V0SGVhZGVyKHRoaXMuc3RybSwgb3B0LmhlYWRlcik7XG4gIH1cblxuICBpZiAob3B0LmRpY3Rpb25hcnkpIHtcbiAgICBsZXQgZGljdDtcbiAgICAvLyBDb252ZXJ0IGRhdGEgaWYgbmVlZGVkXG4gICAgaWYgKHR5cGVvZiBvcHQuZGljdGlvbmFyeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIElmIHdlIG5lZWQgdG8gY29tcHJlc3MgdGV4dCwgY2hhbmdlIGVuY29kaW5nIHRvIHV0ZjguXG4gICAgICBkaWN0ID0gc3RyaW5ncy5zdHJpbmcyYnVmKG9wdC5kaWN0aW9uYXJ5KTtcbiAgICB9IGVsc2UgaWYgKHRvU3RyaW5nJDEuY2FsbChvcHQuZGljdGlvbmFyeSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpIHtcbiAgICAgIGRpY3QgPSBuZXcgVWludDhBcnJheShvcHQuZGljdGlvbmFyeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpY3QgPSBvcHQuZGljdGlvbmFyeTtcbiAgICB9XG5cbiAgICBzdGF0dXMgPSBkZWZsYXRlXzEkMi5kZWZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sIGRpY3QpO1xuXG4gICAgaWYgKHN0YXR1cyAhPT0gWl9PSyQyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZXNbc3RhdHVzXSk7XG4gICAgfVxuXG4gICAgdGhpcy5fZGljdF9zZXQgPSB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogRGVmbGF0ZSNwdXNoKGRhdGFbLCBmbHVzaF9tb2RlXSkgLT4gQm9vbGVhblxuICogLSBkYXRhIChVaW50OEFycmF5fEFycmF5QnVmZmVyfFN0cmluZyk6IGlucHV0IGRhdGEuIFN0cmluZ3Mgd2lsbCBiZVxuICogICBjb252ZXJ0ZWQgdG8gdXRmOCBieXRlIHNlcXVlbmNlLlxuICogLSBmbHVzaF9tb2RlIChOdW1iZXJ8Qm9vbGVhbik6IDAuLjYgZm9yIGNvcnJlc3BvbmRpbmcgWl9OT19GTFVTSC4uWl9UUkVFIG1vZGVzLlxuICogICBTZWUgY29uc3RhbnRzLiBTa2lwcGVkIG9yIGBmYWxzZWAgbWVhbnMgWl9OT19GTFVTSCwgYHRydWVgIG1lYW5zIFpfRklOSVNILlxuICpcbiAqIFNlbmRzIGlucHV0IGRhdGEgdG8gZGVmbGF0ZSBwaXBlLCBnZW5lcmF0aW5nIFtbRGVmbGF0ZSNvbkRhdGFdXSBjYWxscyB3aXRoXG4gKiBuZXcgY29tcHJlc3NlZCBjaHVua3MuIFJldHVybnMgYHRydWVgIG9uIHN1Y2Nlc3MuIFRoZSBsYXN0IGRhdGEgYmxvY2sgbXVzdFxuICogaGF2ZSBgZmx1c2hfbW9kZWAgWl9GSU5JU0ggKG9yIGB0cnVlYCkuIFRoYXQgd2lsbCBmbHVzaCBpbnRlcm5hbCBwZW5kaW5nXG4gKiBidWZmZXJzIGFuZCBjYWxsIFtbRGVmbGF0ZSNvbkVuZF1dLlxuICpcbiAqIE9uIGZhaWwgY2FsbCBbW0RlZmxhdGUjb25FbmRdXSB3aXRoIGVycm9yIGNvZGUgYW5kIHJldHVybiBmYWxzZS5cbiAqXG4gKiAjIyMjIyBFeGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogcHVzaChjaHVuaywgZmFsc2UpOyAvLyBwdXNoIG9uZSBvZiBkYXRhIGNodW5rc1xuICogLi4uXG4gKiBwdXNoKGNodW5rLCB0cnVlKTsgIC8vIHB1c2ggbGFzdCBjaHVua1xuICogYGBgXG4gKiovXG5EZWZsYXRlJDEucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoZGF0YSwgZmx1c2hfbW9kZSkge1xuICBjb25zdCBzdHJtID0gdGhpcy5zdHJtO1xuICBjb25zdCBjaHVua1NpemUgPSB0aGlzLm9wdGlvbnMuY2h1bmtTaXplO1xuICBsZXQgc3RhdHVzLCBfZmx1c2hfbW9kZTtcblxuICBpZiAodGhpcy5lbmRlZCkgeyByZXR1cm4gZmFsc2U7IH1cblxuICBpZiAoZmx1c2hfbW9kZSA9PT0gfn5mbHVzaF9tb2RlKSBfZmx1c2hfbW9kZSA9IGZsdXNoX21vZGU7XG4gIGVsc2UgX2ZsdXNoX21vZGUgPSBmbHVzaF9tb2RlID09PSB0cnVlID8gWl9GSU5JU0gkMiA6IFpfTk9fRkxVU0gkMTtcblxuICAvLyBDb252ZXJ0IGRhdGEgaWYgbmVlZGVkXG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBJZiB3ZSBuZWVkIHRvIGNvbXByZXNzIHRleHQsIGNoYW5nZSBlbmNvZGluZyB0byB1dGY4LlxuICAgIHN0cm0uaW5wdXQgPSBzdHJpbmdzLnN0cmluZzJidWYoZGF0YSk7XG4gIH0gZWxzZSBpZiAodG9TdHJpbmckMS5jYWxsKGRhdGEpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKSB7XG4gICAgc3RybS5pbnB1dCA9IG5ldyBVaW50OEFycmF5KGRhdGEpO1xuICB9IGVsc2Uge1xuICAgIHN0cm0uaW5wdXQgPSBkYXRhO1xuICB9XG5cbiAgc3RybS5uZXh0X2luID0gMDtcbiAgc3RybS5hdmFpbF9pbiA9IHN0cm0uaW5wdXQubGVuZ3RoO1xuXG4gIGZvciAoOzspIHtcbiAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHN0cm0ub3V0cHV0ID0gbmV3IFVpbnQ4QXJyYXkoY2h1bmtTaXplKTtcbiAgICAgIHN0cm0ubmV4dF9vdXQgPSAwO1xuICAgICAgc3RybS5hdmFpbF9vdXQgPSBjaHVua1NpemU7XG4gICAgfVxuXG4gICAgLy8gTWFrZSBzdXJlIGF2YWlsX291dCA+IDYgdG8gYXZvaWQgcmVwZWF0aW5nIG1hcmtlcnNcbiAgICBpZiAoKF9mbHVzaF9tb2RlID09PSBaX1NZTkNfRkxVU0ggfHwgX2ZsdXNoX21vZGUgPT09IFpfRlVMTF9GTFVTSCkgJiYgc3RybS5hdmFpbF9vdXQgPD0gNikge1xuICAgICAgdGhpcy5vbkRhdGEoc3RybS5vdXRwdXQuc3ViYXJyYXkoMCwgc3RybS5uZXh0X291dCkpO1xuICAgICAgc3RybS5hdmFpbF9vdXQgPSAwO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgc3RhdHVzID0gZGVmbGF0ZV8xJDIuZGVmbGF0ZShzdHJtLCBfZmx1c2hfbW9kZSk7XG5cbiAgICAvLyBFbmRlZCA9PiBmbHVzaCBhbmQgZmluaXNoXG4gICAgaWYgKHN0YXR1cyA9PT0gWl9TVFJFQU1fRU5EJDIpIHtcbiAgICAgIGlmIChzdHJtLm5leHRfb3V0ID4gMCkge1xuICAgICAgICB0aGlzLm9uRGF0YShzdHJtLm91dHB1dC5zdWJhcnJheSgwLCBzdHJtLm5leHRfb3V0KSk7XG4gICAgICB9XG4gICAgICBzdGF0dXMgPSBkZWZsYXRlXzEkMi5kZWZsYXRlRW5kKHRoaXMuc3RybSk7XG4gICAgICB0aGlzLm9uRW5kKHN0YXR1cyk7XG4gICAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBzdGF0dXMgPT09IFpfT0skMjtcbiAgICB9XG5cbiAgICAvLyBGbHVzaCBpZiBvdXQgYnVmZmVyIGZ1bGxcbiAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHRoaXMub25EYXRhKHN0cm0ub3V0cHV0KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIEZsdXNoIGlmIHJlcXVlc3RlZCBhbmQgaGFzIGRhdGFcbiAgICBpZiAoX2ZsdXNoX21vZGUgPiAwICYmIHN0cm0ubmV4dF9vdXQgPiAwKSB7XG4gICAgICB0aGlzLm9uRGF0YShzdHJtLm91dHB1dC5zdWJhcnJheSgwLCBzdHJtLm5leHRfb3V0KSk7XG4gICAgICBzdHJtLmF2YWlsX291dCA9IDA7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoc3RybS5hdmFpbF9pbiA9PT0gMCkgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cblxuLyoqXG4gKiBEZWZsYXRlI29uRGF0YShjaHVuaykgLT4gVm9pZFxuICogLSBjaHVuayAoVWludDhBcnJheSk6IG91dHB1dCBkYXRhLlxuICpcbiAqIEJ5IGRlZmF1bHQsIHN0b3JlcyBkYXRhIGJsb2NrcyBpbiBgY2h1bmtzW11gIHByb3BlcnR5IGFuZCBnbHVlXG4gKiB0aG9zZSBpbiBgb25FbmRgLiBPdmVycmlkZSB0aGlzIGhhbmRsZXIsIGlmIHlvdSBuZWVkIGFub3RoZXIgYmVoYXZpb3VyLlxuICoqL1xuRGVmbGF0ZSQxLnByb3RvdHlwZS5vbkRhdGEgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgdGhpcy5jaHVua3MucHVzaChjaHVuayk7XG59O1xuXG5cbi8qKlxuICogRGVmbGF0ZSNvbkVuZChzdGF0dXMpIC0+IFZvaWRcbiAqIC0gc3RhdHVzIChOdW1iZXIpOiBkZWZsYXRlIHN0YXR1cy4gMCAoWl9PSykgb24gc3VjY2VzcyxcbiAqICAgb3RoZXIgaWYgbm90LlxuICpcbiAqIENhbGxlZCBvbmNlIGFmdGVyIHlvdSB0ZWxsIGRlZmxhdGUgdGhhdCB0aGUgaW5wdXQgc3RyZWFtIGlzXG4gKiBjb21wbGV0ZSAoWl9GSU5JU0gpLiBCeSBkZWZhdWx0IC0gam9pbiBjb2xsZWN0ZWQgY2h1bmtzLFxuICogZnJlZSBtZW1vcnkgYW5kIGZpbGwgYHJlc3VsdHNgIC8gYGVycmAgcHJvcGVydGllcy5cbiAqKi9cbkRlZmxhdGUkMS5wcm90b3R5cGUub25FbmQgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gIC8vIE9uIHN1Y2Nlc3MgLSBqb2luXG4gIGlmIChzdGF0dXMgPT09IFpfT0skMikge1xuICAgIHRoaXMucmVzdWx0ID0gY29tbW9uLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpO1xuICB9XG4gIHRoaXMuY2h1bmtzID0gW107XG4gIHRoaXMuZXJyID0gc3RhdHVzO1xuICB0aGlzLm1zZyA9IHRoaXMuc3RybS5tc2c7XG59O1xuXG5cbi8qKlxuICogZGVmbGF0ZShkYXRhWywgb3B0aW9uc10pIC0+IFVpbnQ4QXJyYXlcbiAqIC0gZGF0YSAoVWludDhBcnJheXxBcnJheUJ1ZmZlcnxTdHJpbmcpOiBpbnB1dCBkYXRhIHRvIGNvbXByZXNzLlxuICogLSBvcHRpb25zIChPYmplY3QpOiB6bGliIGRlZmxhdGUgb3B0aW9ucy5cbiAqXG4gKiBDb21wcmVzcyBgZGF0YWAgd2l0aCBkZWZsYXRlIGFsZ29yaXRobSBhbmQgYG9wdGlvbnNgLlxuICpcbiAqIFN1cHBvcnRlZCBvcHRpb25zIGFyZTpcbiAqXG4gKiAtIGxldmVsXG4gKiAtIHdpbmRvd0JpdHNcbiAqIC0gbWVtTGV2ZWxcbiAqIC0gc3RyYXRlZ3lcbiAqIC0gZGljdGlvbmFyeVxuICpcbiAqIFtodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWRdKGh0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZClcbiAqIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHRoZXNlLlxuICpcbiAqIFN1Z2FyIChvcHRpb25zKTpcbiAqXG4gKiAtIGByYXdgIChCb29sZWFuKSAtIHNheSB0aGF0IHdlIHdvcmsgd2l0aCByYXcgc3RyZWFtLCBpZiB5b3UgZG9uJ3Qgd2lzaCB0byBzcGVjaWZ5XG4gKiAgIG5lZ2F0aXZlIHdpbmRvd0JpdHMgaW1wbGljaXRseS5cbiAqXG4gKiAjIyMjIyBFeGFtcGxlOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IHBha28gPSByZXF1aXJlKCdwYWtvJylcbiAqIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShbMSwyLDMsNCw1LDYsNyw4LDldKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhwYWtvLmRlZmxhdGUoZGF0YSkpO1xuICogYGBgXG4gKiovXG5mdW5jdGlvbiBkZWZsYXRlJDEoaW5wdXQsIG9wdGlvbnMpIHtcbiAgY29uc3QgZGVmbGF0b3IgPSBuZXcgRGVmbGF0ZSQxKG9wdGlvbnMpO1xuXG4gIGRlZmxhdG9yLnB1c2goaW5wdXQsIHRydWUpO1xuXG4gIC8vIFRoYXQgd2lsbCBuZXZlciBoYXBwZW5zLCBpZiB5b3UgZG9uJ3QgY2hlYXQgd2l0aCBvcHRpb25zIDopXG4gIGlmIChkZWZsYXRvci5lcnIpIHsgdGhyb3cgZGVmbGF0b3IubXNnIHx8IG1lc3NhZ2VzW2RlZmxhdG9yLmVycl07IH1cblxuICByZXR1cm4gZGVmbGF0b3IucmVzdWx0O1xufVxuXG5cbi8qKlxuICogZGVmbGF0ZVJhdyhkYXRhWywgb3B0aW9uc10pIC0+IFVpbnQ4QXJyYXlcbiAqIC0gZGF0YSAoVWludDhBcnJheXxBcnJheUJ1ZmZlcnxTdHJpbmcpOiBpbnB1dCBkYXRhIHRvIGNvbXByZXNzLlxuICogLSBvcHRpb25zIChPYmplY3QpOiB6bGliIGRlZmxhdGUgb3B0aW9ucy5cbiAqXG4gKiBUaGUgc2FtZSBhcyBbW2RlZmxhdGVdXSwgYnV0IGNyZWF0ZXMgcmF3IGRhdGEsIHdpdGhvdXQgd3JhcHBlclxuICogKGhlYWRlciBhbmQgYWRsZXIzMiBjcmMpLlxuICoqL1xuZnVuY3Rpb24gZGVmbGF0ZVJhdyQxKGlucHV0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLnJhdyA9IHRydWU7XG4gIHJldHVybiBkZWZsYXRlJDEoaW5wdXQsIG9wdGlvbnMpO1xufVxuXG5cbi8qKlxuICogZ3ppcChkYXRhWywgb3B0aW9uc10pIC0+IFVpbnQ4QXJyYXlcbiAqIC0gZGF0YSAoVWludDhBcnJheXxBcnJheUJ1ZmZlcnxTdHJpbmcpOiBpbnB1dCBkYXRhIHRvIGNvbXByZXNzLlxuICogLSBvcHRpb25zIChPYmplY3QpOiB6bGliIGRlZmxhdGUgb3B0aW9ucy5cbiAqXG4gKiBUaGUgc2FtZSBhcyBbW2RlZmxhdGVdXSwgYnV0IGNyZWF0ZSBnemlwIHdyYXBwZXIgaW5zdGVhZCBvZlxuICogZGVmbGF0ZSBvbmUuXG4gKiovXG5mdW5jdGlvbiBnemlwJDEoaW5wdXQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIG9wdGlvbnMuZ3ppcCA9IHRydWU7XG4gIHJldHVybiBkZWZsYXRlJDEoaW5wdXQsIG9wdGlvbnMpO1xufVxuXG5cbnZhciBEZWZsYXRlXzEkMSA9IERlZmxhdGUkMTtcbnZhciBkZWZsYXRlXzIgPSBkZWZsYXRlJDE7XG52YXIgZGVmbGF0ZVJhd18xJDEgPSBkZWZsYXRlUmF3JDE7XG52YXIgZ3ppcF8xJDEgPSBnemlwJDE7XG52YXIgY29uc3RhbnRzJDEgPSBjb25zdGFudHMkMjtcblxudmFyIGRlZmxhdGVfMSQxID0ge1xuXHREZWZsYXRlOiBEZWZsYXRlXzEkMSxcblx0ZGVmbGF0ZTogZGVmbGF0ZV8yLFxuXHRkZWZsYXRlUmF3OiBkZWZsYXRlUmF3XzEkMSxcblx0Z3ppcDogZ3ppcF8xJDEsXG5cdGNvbnN0YW50czogY29uc3RhbnRzJDFcbn07XG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxuLy8gU2VlIHN0YXRlIGRlZnMgZnJvbSBpbmZsYXRlLmpzXG5jb25zdCBCQUQkMSA9IDE2MjA5OyAgICAgICAvKiBnb3QgYSBkYXRhIGVycm9yIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG5jb25zdCBUWVBFJDEgPSAxNjE5MTsgICAgICAvKiBpOiB3YWl0aW5nIGZvciB0eXBlIGJpdHMsIGluY2x1ZGluZyBsYXN0LWZsYWcgYml0ICovXG5cbi8qXG4gICBEZWNvZGUgbGl0ZXJhbCwgbGVuZ3RoLCBhbmQgZGlzdGFuY2UgY29kZXMgYW5kIHdyaXRlIG91dCB0aGUgcmVzdWx0aW5nXG4gICBsaXRlcmFsIGFuZCBtYXRjaCBieXRlcyB1bnRpbCBlaXRoZXIgbm90IGVub3VnaCBpbnB1dCBvciBvdXRwdXQgaXNcbiAgIGF2YWlsYWJsZSwgYW4gZW5kLW9mLWJsb2NrIGlzIGVuY291bnRlcmVkLCBvciBhIGRhdGEgZXJyb3IgaXMgZW5jb3VudGVyZWQuXG4gICBXaGVuIGxhcmdlIGVub3VnaCBpbnB1dCBhbmQgb3V0cHV0IGJ1ZmZlcnMgYXJlIHN1cHBsaWVkIHRvIGluZmxhdGUoKSwgZm9yXG4gICBleGFtcGxlLCBhIDE2SyBpbnB1dCBidWZmZXIgYW5kIGEgNjRLIG91dHB1dCBidWZmZXIsIG1vcmUgdGhhbiA5NSUgb2YgdGhlXG4gICBpbmZsYXRlIGV4ZWN1dGlvbiB0aW1lIGlzIHNwZW50IGluIHRoaXMgcm91dGluZS5cblxuICAgRW50cnkgYXNzdW1wdGlvbnM6XG5cbiAgICAgICAgc3RhdGUubW9kZSA9PT0gTEVOXG4gICAgICAgIHN0cm0uYXZhaWxfaW4gPj0gNlxuICAgICAgICBzdHJtLmF2YWlsX291dCA+PSAyNThcbiAgICAgICAgc3RhcnQgPj0gc3RybS5hdmFpbF9vdXRcbiAgICAgICAgc3RhdGUuYml0cyA8IDhcblxuICAgT24gcmV0dXJuLCBzdGF0ZS5tb2RlIGlzIG9uZSBvZjpcblxuICAgICAgICBMRU4gLS0gcmFuIG91dCBvZiBlbm91Z2ggb3V0cHV0IHNwYWNlIG9yIGVub3VnaCBhdmFpbGFibGUgaW5wdXRcbiAgICAgICAgVFlQRSAtLSByZWFjaGVkIGVuZCBvZiBibG9jayBjb2RlLCBpbmZsYXRlKCkgdG8gaW50ZXJwcmV0IG5leHQgYmxvY2tcbiAgICAgICAgQkFEIC0tIGVycm9yIGluIGJsb2NrIGRhdGFcblxuICAgTm90ZXM6XG5cbiAgICAtIFRoZSBtYXhpbXVtIGlucHV0IGJpdHMgdXNlZCBieSBhIGxlbmd0aC9kaXN0YW5jZSBwYWlyIGlzIDE1IGJpdHMgZm9yIHRoZVxuICAgICAgbGVuZ3RoIGNvZGUsIDUgYml0cyBmb3IgdGhlIGxlbmd0aCBleHRyYSwgMTUgYml0cyBmb3IgdGhlIGRpc3RhbmNlIGNvZGUsXG4gICAgICBhbmQgMTMgYml0cyBmb3IgdGhlIGRpc3RhbmNlIGV4dHJhLiAgVGhpcyB0b3RhbHMgNDggYml0cywgb3Igc2l4IGJ5dGVzLlxuICAgICAgVGhlcmVmb3JlIGlmIHN0cm0uYXZhaWxfaW4gPj0gNiwgdGhlbiB0aGVyZSBpcyBlbm91Z2ggaW5wdXQgdG8gYXZvaWRcbiAgICAgIGNoZWNraW5nIGZvciBhdmFpbGFibGUgaW5wdXQgd2hpbGUgZGVjb2RpbmcuXG5cbiAgICAtIFRoZSBtYXhpbXVtIGJ5dGVzIHRoYXQgYSBzaW5nbGUgbGVuZ3RoL2Rpc3RhbmNlIHBhaXIgY2FuIG91dHB1dCBpcyAyNThcbiAgICAgIGJ5dGVzLCB3aGljaCBpcyB0aGUgbWF4aW11bSBsZW5ndGggdGhhdCBjYW4gYmUgY29kZWQuICBpbmZsYXRlX2Zhc3QoKVxuICAgICAgcmVxdWlyZXMgc3RybS5hdmFpbF9vdXQgPj0gMjU4IGZvciBlYWNoIGxvb3AgdG8gYXZvaWQgY2hlY2tpbmcgZm9yXG4gICAgICBvdXRwdXQgc3BhY2UuXG4gKi9cbnZhciBpbmZmYXN0ID0gZnVuY3Rpb24gaW5mbGF0ZV9mYXN0KHN0cm0sIHN0YXJ0KSB7XG4gIGxldCBfaW47ICAgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLmlucHV0ICovXG4gIGxldCBsYXN0OyAgICAgICAgICAgICAgICAgICAvKiBoYXZlIGVub3VnaCBpbnB1dCB3aGlsZSBpbiA8IGxhc3QgKi9cbiAgbGV0IF9vdXQ7ICAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0ub3V0cHV0ICovXG4gIGxldCBiZWc7ICAgICAgICAgICAgICAgICAgICAvKiBpbmZsYXRlKCkncyBpbml0aWFsIHN0cm0ub3V0cHV0ICovXG4gIGxldCBlbmQ7ICAgICAgICAgICAgICAgICAgICAvKiB3aGlsZSBvdXQgPCBlbmQsIGVub3VnaCBzcGFjZSBhdmFpbGFibGUgKi9cbi8vI2lmZGVmIElORkxBVEVfU1RSSUNUXG4gIGxldCBkbWF4OyAgICAgICAgICAgICAgICAgICAvKiBtYXhpbXVtIGRpc3RhbmNlIGZyb20gemxpYiBoZWFkZXIgKi9cbi8vI2VuZGlmXG4gIGxldCB3c2l6ZTsgICAgICAgICAgICAgICAgICAvKiB3aW5kb3cgc2l6ZSBvciB6ZXJvIGlmIG5vdCB1c2luZyB3aW5kb3cgKi9cbiAgbGV0IHdoYXZlOyAgICAgICAgICAgICAgICAgIC8qIHZhbGlkIGJ5dGVzIGluIHRoZSB3aW5kb3cgKi9cbiAgbGV0IHduZXh0OyAgICAgICAgICAgICAgICAgIC8qIHdpbmRvdyB3cml0ZSBpbmRleCAqL1xuICAvLyBVc2UgYHNfd2luZG93YCBpbnN0ZWFkIGB3aW5kb3dgLCBhdm9pZCBjb25mbGljdCB3aXRoIGluc3RydW1lbnRhdGlvbiB0b29sc1xuICBsZXQgc193aW5kb3c7ICAgICAgICAgICAgICAgLyogYWxsb2NhdGVkIHNsaWRpbmcgd2luZG93LCBpZiB3c2l6ZSAhPSAwICovXG4gIGxldCBob2xkOyAgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLmhvbGQgKi9cbiAgbGV0IGJpdHM7ICAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0uYml0cyAqL1xuICBsZXQgbGNvZGU7ICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5sZW5jb2RlICovXG4gIGxldCBkY29kZTsgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLmRpc3Rjb2RlICovXG4gIGxldCBsbWFzazsgICAgICAgICAgICAgICAgICAvKiBtYXNrIGZvciBmaXJzdCBsZXZlbCBvZiBsZW5ndGggY29kZXMgKi9cbiAgbGV0IGRtYXNrOyAgICAgICAgICAgICAgICAgIC8qIG1hc2sgZm9yIGZpcnN0IGxldmVsIG9mIGRpc3RhbmNlIGNvZGVzICovXG4gIGxldCBoZXJlOyAgICAgICAgICAgICAgICAgICAvKiByZXRyaWV2ZWQgdGFibGUgZW50cnkgKi9cbiAgbGV0IG9wOyAgICAgICAgICAgICAgICAgICAgIC8qIGNvZGUgYml0cywgb3BlcmF0aW9uLCBleHRyYSBiaXRzLCBvciAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogIHdpbmRvdyBwb3NpdGlvbiwgd2luZG93IGJ5dGVzIHRvIGNvcHkgKi9cbiAgbGV0IGxlbjsgICAgICAgICAgICAgICAgICAgIC8qIG1hdGNoIGxlbmd0aCwgdW51c2VkIGJ5dGVzICovXG4gIGxldCBkaXN0OyAgICAgICAgICAgICAgICAgICAvKiBtYXRjaCBkaXN0YW5jZSAqL1xuICBsZXQgZnJvbTsgICAgICAgICAgICAgICAgICAgLyogd2hlcmUgdG8gY29weSBtYXRjaCBmcm9tICovXG4gIGxldCBmcm9tX3NvdXJjZTtcblxuXG4gIGxldCBpbnB1dCwgb3V0cHV0OyAvLyBKUyBzcGVjaWZpYywgYmVjYXVzZSB3ZSBoYXZlIG5vIHBvaW50ZXJzXG5cbiAgLyogY29weSBzdGF0ZSB0byBsb2NhbCB2YXJpYWJsZXMgKi9cbiAgY29uc3Qgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICAvL2hlcmUgPSBzdGF0ZS5oZXJlO1xuICBfaW4gPSBzdHJtLm5leHRfaW47XG4gIGlucHV0ID0gc3RybS5pbnB1dDtcbiAgbGFzdCA9IF9pbiArIChzdHJtLmF2YWlsX2luIC0gNSk7XG4gIF9vdXQgPSBzdHJtLm5leHRfb3V0O1xuICBvdXRwdXQgPSBzdHJtLm91dHB1dDtcbiAgYmVnID0gX291dCAtIChzdGFydCAtIHN0cm0uYXZhaWxfb3V0KTtcbiAgZW5kID0gX291dCArIChzdHJtLmF2YWlsX291dCAtIDI1Nyk7XG4vLyNpZmRlZiBJTkZMQVRFX1NUUklDVFxuICBkbWF4ID0gc3RhdGUuZG1heDtcbi8vI2VuZGlmXG4gIHdzaXplID0gc3RhdGUud3NpemU7XG4gIHdoYXZlID0gc3RhdGUud2hhdmU7XG4gIHduZXh0ID0gc3RhdGUud25leHQ7XG4gIHNfd2luZG93ID0gc3RhdGUud2luZG93O1xuICBob2xkID0gc3RhdGUuaG9sZDtcbiAgYml0cyA9IHN0YXRlLmJpdHM7XG4gIGxjb2RlID0gc3RhdGUubGVuY29kZTtcbiAgZGNvZGUgPSBzdGF0ZS5kaXN0Y29kZTtcbiAgbG1hc2sgPSAoMSA8PCBzdGF0ZS5sZW5iaXRzKSAtIDE7XG4gIGRtYXNrID0gKDEgPDwgc3RhdGUuZGlzdGJpdHMpIC0gMTtcblxuXG4gIC8qIGRlY29kZSBsaXRlcmFscyBhbmQgbGVuZ3RoL2Rpc3RhbmNlcyB1bnRpbCBlbmQtb2YtYmxvY2sgb3Igbm90IGVub3VnaFxuICAgICBpbnB1dCBkYXRhIG9yIG91dHB1dCBzcGFjZSAqL1xuXG4gIHRvcDpcbiAgZG8ge1xuICAgIGlmIChiaXRzIDwgMTUpIHtcbiAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICBiaXRzICs9IDg7XG4gICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgYml0cyArPSA4O1xuICAgIH1cblxuICAgIGhlcmUgPSBsY29kZVtob2xkICYgbG1hc2tdO1xuXG4gICAgZG9sZW46XG4gICAgZm9yICg7OykgeyAvLyBHb3RvIGVtdWxhdGlvblxuICAgICAgb3AgPSBoZXJlID4+PiAyNC8qaGVyZS5iaXRzKi87XG4gICAgICBob2xkID4+Pj0gb3A7XG4gICAgICBiaXRzIC09IG9wO1xuICAgICAgb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZi8qaGVyZS5vcCovO1xuICAgICAgaWYgKG9wID09PSAwKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBsaXRlcmFsICovXG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBoZXJlLnZhbCA+PSAweDIwICYmIGhlcmUudmFsIDwgMHg3ZiA/XG4gICAgICAgIC8vICAgICAgICBcImluZmxhdGU6ICAgICAgICAgbGl0ZXJhbCAnJWMnXFxuXCIgOlxuICAgICAgICAvLyAgICAgICAgXCJpbmZsYXRlOiAgICAgICAgIGxpdGVyYWwgMHglMDJ4XFxuXCIsIGhlcmUudmFsKSk7XG4gICAgICAgIG91dHB1dFtfb3V0KytdID0gaGVyZSAmIDB4ZmZmZi8qaGVyZS52YWwqLztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG9wICYgMTYpIHsgICAgICAgICAgICAgICAgICAgICAvKiBsZW5ndGggYmFzZSAqL1xuICAgICAgICBsZW4gPSBoZXJlICYgMHhmZmZmLypoZXJlLnZhbCovO1xuICAgICAgICBvcCAmPSAxNTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgZXh0cmEgYml0cyAqL1xuICAgICAgICBpZiAob3ApIHtcbiAgICAgICAgICBpZiAoYml0cyA8IG9wKSB7XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZW4gKz0gaG9sZCAmICgoMSA8PCBvcCkgLSAxKTtcbiAgICAgICAgICBob2xkID4+Pj0gb3A7XG4gICAgICAgICAgYml0cyAtPSBvcDtcbiAgICAgICAgfVxuICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGxlbmd0aCAldVxcblwiLCBsZW4pKTtcbiAgICAgICAgaWYgKGJpdHMgPCAxNSkge1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIGhlcmUgPSBkY29kZVtob2xkICYgZG1hc2tdO1xuXG4gICAgICAgIGRvZGlzdDpcbiAgICAgICAgZm9yICg7OykgeyAvLyBnb3RvIGVtdWxhdGlvblxuICAgICAgICAgIG9wID0gaGVyZSA+Pj4gMjQvKmhlcmUuYml0cyovO1xuICAgICAgICAgIGhvbGQgPj4+PSBvcDtcbiAgICAgICAgICBiaXRzIC09IG9wO1xuICAgICAgICAgIG9wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmYvKmhlcmUub3AqLztcblxuICAgICAgICAgIGlmIChvcCAmIDE2KSB7ICAgICAgICAgICAgICAgICAgICAgIC8qIGRpc3RhbmNlIGJhc2UgKi9cbiAgICAgICAgICAgIGRpc3QgPSBoZXJlICYgMHhmZmZmLypoZXJlLnZhbCovO1xuICAgICAgICAgICAgb3AgJj0gMTU7ICAgICAgICAgICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgZXh0cmEgYml0cyAqL1xuICAgICAgICAgICAgaWYgKGJpdHMgPCBvcCkge1xuICAgICAgICAgICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAgIGlmIChiaXRzIDwgb3ApIHtcbiAgICAgICAgICAgICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlzdCArPSBob2xkICYgKCgxIDw8IG9wKSAtIDEpO1xuLy8jaWZkZWYgSU5GTEFURV9TVFJJQ1RcbiAgICAgICAgICAgIGlmIChkaXN0ID4gZG1heCkge1xuICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayc7XG4gICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQkMTtcbiAgICAgICAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgICAgICAgfVxuLy8jZW5kaWZcbiAgICAgICAgICAgIGhvbGQgPj4+PSBvcDtcbiAgICAgICAgICAgIGJpdHMgLT0gb3A7XG4gICAgICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGRpc3RhbmNlICV1XFxuXCIsIGRpc3QpKTtcbiAgICAgICAgICAgIG9wID0gX291dCAtIGJlZzsgICAgICAgICAgICAgICAgLyogbWF4IGRpc3RhbmNlIGluIG91dHB1dCAqL1xuICAgICAgICAgICAgaWYgKGRpc3QgPiBvcCkgeyAgICAgICAgICAgICAgICAvKiBzZWUgaWYgY29weSBmcm9tIHdpbmRvdyAqL1xuICAgICAgICAgICAgICBvcCA9IGRpc3QgLSBvcDsgICAgICAgICAgICAgICAvKiBkaXN0YW5jZSBiYWNrIGluIHdpbmRvdyAqL1xuICAgICAgICAgICAgICBpZiAob3AgPiB3aGF2ZSkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zYW5lKSB7XG4gICAgICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayc7XG4gICAgICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEJDE7XG4gICAgICAgICAgICAgICAgICBicmVhayB0b3A7XG4gICAgICAgICAgICAgICAgfVxuXG4vLyAoISkgVGhpcyBibG9jayBpcyBkaXNhYmxlZCBpbiB6bGliIGRlZmF1bHRzLFxuLy8gZG9uJ3QgZW5hYmxlIGl0IGZvciBiaW5hcnkgY29tcGF0aWJpbGl0eVxuLy8jaWZkZWYgSU5GTEFURV9BTExPV19JTlZBTElEX0RJU1RBTkNFX1RPT0ZBUl9BUlJSXG4vLyAgICAgICAgICAgICAgICBpZiAobGVuIDw9IG9wIC0gd2hhdmUpIHtcbi8vICAgICAgICAgICAgICAgICAgZG8ge1xuLy8gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gMDtcbi8vICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1sZW4pO1xuLy8gICAgICAgICAgICAgICAgICBjb250aW51ZSB0b3A7XG4vLyAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICBsZW4gLT0gb3AgLSB3aGF2ZTtcbi8vICAgICAgICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSAwO1xuLy8gICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCA+IHdoYXZlKTtcbi8vICAgICAgICAgICAgICAgIGlmIChvcCA9PT0gMCkge1xuLy8gICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7XG4vLyAgICAgICAgICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuLy8gICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLWxlbik7XG4vLyAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHRvcDtcbi8vICAgICAgICAgICAgICAgIH1cbi8vI2VuZGlmXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZnJvbSA9IDA7IC8vIHdpbmRvdyBpbmRleFxuICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IHNfd2luZG93O1xuICAgICAgICAgICAgICBpZiAod25leHQgPT09IDApIHsgICAgICAgICAgIC8qIHZlcnkgY29tbW9uIGNhc2UgKi9cbiAgICAgICAgICAgICAgICBmcm9tICs9IHdzaXplIC0gb3A7XG4gICAgICAgICAgICAgICAgaWYgKG9wIDwgbGVuKSB7ICAgICAgICAgLyogc29tZSBmcm9tIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgICAgbGVuIC09IG9wO1xuICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IHNfd2luZG93W2Zyb20rK107XG4gICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW9wKTtcbiAgICAgICAgICAgICAgICAgIGZyb20gPSBfb3V0IC0gZGlzdDsgIC8qIHJlc3QgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICAgICAgICAgIGZyb21fc291cmNlID0gb3V0cHV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmICh3bmV4dCA8IG9wKSB7ICAgICAgLyogd3JhcCBhcm91bmQgd2luZG93ICovXG4gICAgICAgICAgICAgICAgZnJvbSArPSB3c2l6ZSArIHduZXh0IC0gb3A7XG4gICAgICAgICAgICAgICAgb3AgLT0gd25leHQ7XG4gICAgICAgICAgICAgICAgaWYgKG9wIDwgbGVuKSB7ICAgICAgICAgLyogc29tZSBmcm9tIGVuZCBvZiB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgIGxlbiAtPSBvcDtcbiAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCk7XG4gICAgICAgICAgICAgICAgICBmcm9tID0gMDtcbiAgICAgICAgICAgICAgICAgIGlmICh3bmV4dCA8IGxlbikgeyAgLyogc29tZSBmcm9tIHN0YXJ0IG9mIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgICAgICBvcCA9IHduZXh0O1xuICAgICAgICAgICAgICAgICAgICBsZW4gLT0gb3A7XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IHNfd2luZG93W2Zyb20rK107XG4gICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3ApO1xuICAgICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7ICAgICAgLyogcmVzdCBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgIC8qIGNvbnRpZ3VvdXMgaW4gd2luZG93ICovXG4gICAgICAgICAgICAgICAgZnJvbSArPSB3bmV4dCAtIG9wO1xuICAgICAgICAgICAgICAgIGlmIChvcCA8IGxlbikgeyAgICAgICAgIC8qIHNvbWUgZnJvbSB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgIGxlbiAtPSBvcDtcbiAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCk7XG4gICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7ICAvKiByZXN0IGZyb20gb3V0cHV0ICovXG4gICAgICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd2hpbGUgKGxlbiA+IDIpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBsZW4gLT0gMztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobGVuKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIGlmIChsZW4gPiAxKSB7XG4gICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0OyAgICAgICAgICAvKiBjb3B5IGRpcmVjdCBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgICAgICBkbyB7ICAgICAgICAgICAgICAgICAgICAgICAgLyogbWluaW11bSBsZW5ndGggaXMgdGhyZWUgKi9cbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBsZW4gLT0gMztcbiAgICAgICAgICAgICAgfSB3aGlsZSAobGVuID4gMik7XG4gICAgICAgICAgICAgIGlmIChsZW4pIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIGlmIChsZW4gPiAxKSB7XG4gICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICgob3AgJiA2NCkgPT09IDApIHsgICAgICAgICAgLyogMm5kIGxldmVsIGRpc3RhbmNlIGNvZGUgKi9cbiAgICAgICAgICAgIGhlcmUgPSBkY29kZVsoaGVyZSAmIDB4ZmZmZikvKmhlcmUudmFsKi8gKyAoaG9sZCAmICgoMSA8PCBvcCkgLSAxKSldO1xuICAgICAgICAgICAgY29udGludWUgZG9kaXN0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgY29kZSc7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEJDE7XG4gICAgICAgICAgICBicmVhayB0b3A7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7IC8vIG5lZWQgdG8gZW11bGF0ZSBnb3RvIHZpYSBcImNvbnRpbnVlXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoKG9wICYgNjQpID09PSAwKSB7ICAgICAgICAgICAgICAvKiAybmQgbGV2ZWwgbGVuZ3RoIGNvZGUgKi9cbiAgICAgICAgaGVyZSA9IGxjb2RlWyhoZXJlICYgMHhmZmZmKS8qaGVyZS52YWwqLyArIChob2xkICYgKCgxIDw8IG9wKSAtIDEpKV07XG4gICAgICAgIGNvbnRpbnVlIGRvbGVuO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAob3AgJiAzMikgeyAgICAgICAgICAgICAgICAgICAgIC8qIGVuZC1vZi1ibG9jayAqL1xuICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGVuZCBvZiBibG9ja1xcblwiKSk7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFJDE7XG4gICAgICAgIGJyZWFrIHRvcDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGUnO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQkFEJDE7XG4gICAgICAgIGJyZWFrIHRvcDtcbiAgICAgIH1cblxuICAgICAgYnJlYWs7IC8vIG5lZWQgdG8gZW11bGF0ZSBnb3RvIHZpYSBcImNvbnRpbnVlXCJcbiAgICB9XG4gIH0gd2hpbGUgKF9pbiA8IGxhc3QgJiYgX291dCA8IGVuZCk7XG5cbiAgLyogcmV0dXJuIHVudXNlZCBieXRlcyAob24gZW50cnksIGJpdHMgPCA4LCBzbyBpbiB3b24ndCBnbyB0b28gZmFyIGJhY2spICovXG4gIGxlbiA9IGJpdHMgPj4gMztcbiAgX2luIC09IGxlbjtcbiAgYml0cyAtPSBsZW4gPDwgMztcbiAgaG9sZCAmPSAoMSA8PCBiaXRzKSAtIDE7XG5cbiAgLyogdXBkYXRlIHN0YXRlIGFuZCByZXR1cm4gKi9cbiAgc3RybS5uZXh0X2luID0gX2luO1xuICBzdHJtLm5leHRfb3V0ID0gX291dDtcbiAgc3RybS5hdmFpbF9pbiA9IChfaW4gPCBsYXN0ID8gNSArIChsYXN0IC0gX2luKSA6IDUgLSAoX2luIC0gbGFzdCkpO1xuICBzdHJtLmF2YWlsX291dCA9IChfb3V0IDwgZW5kID8gMjU3ICsgKGVuZCAtIF9vdXQpIDogMjU3IC0gKF9vdXQgLSBlbmQpKTtcbiAgc3RhdGUuaG9sZCA9IGhvbGQ7XG4gIHN0YXRlLmJpdHMgPSBiaXRzO1xuICByZXR1cm47XG59O1xuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbmNvbnN0IE1BWEJJVFMgPSAxNTtcbmNvbnN0IEVOT1VHSF9MRU5TJDEgPSA4NTI7XG5jb25zdCBFTk9VR0hfRElTVFMkMSA9IDU5Mjtcbi8vY29uc3QgRU5PVUdIID0gKEVOT1VHSF9MRU5TK0VOT1VHSF9ESVNUUyk7XG5cbmNvbnN0IENPREVTJDEgPSAwO1xuY29uc3QgTEVOUyQxID0gMTtcbmNvbnN0IERJU1RTJDEgPSAyO1xuXG5jb25zdCBsYmFzZSA9IG5ldyBVaW50MTZBcnJheShbIC8qIExlbmd0aCBjb2RlcyAyNTcuLjI4NSBiYXNlICovXG4gIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTMsIDE1LCAxNywgMTksIDIzLCAyNywgMzEsXG4gIDM1LCA0MywgNTEsIDU5LCA2NywgODMsIDk5LCAxMTUsIDEzMSwgMTYzLCAxOTUsIDIyNywgMjU4LCAwLCAwXG5dKTtcblxuY29uc3QgbGV4dCA9IG5ldyBVaW50OEFycmF5KFsgLyogTGVuZ3RoIGNvZGVzIDI1Ny4uMjg1IGV4dHJhICovXG4gIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTcsIDE3LCAxNywgMTcsIDE4LCAxOCwgMTgsIDE4LFxuICAxOSwgMTksIDE5LCAxOSwgMjAsIDIwLCAyMCwgMjAsIDIxLCAyMSwgMjEsIDIxLCAxNiwgNzIsIDc4XG5dKTtcblxuY29uc3QgZGJhc2UgPSBuZXcgVWludDE2QXJyYXkoWyAvKiBEaXN0YW5jZSBjb2RlcyAwLi4yOSBiYXNlICovXG4gIDEsIDIsIDMsIDQsIDUsIDcsIDksIDEzLCAxNywgMjUsIDMzLCA0OSwgNjUsIDk3LCAxMjksIDE5MyxcbiAgMjU3LCAzODUsIDUxMywgNzY5LCAxMDI1LCAxNTM3LCAyMDQ5LCAzMDczLCA0MDk3LCA2MTQ1LFxuICA4MTkzLCAxMjI4OSwgMTYzODUsIDI0NTc3LCAwLCAwXG5dKTtcblxuY29uc3QgZGV4dCA9IG5ldyBVaW50OEFycmF5KFsgLyogRGlzdGFuY2UgY29kZXMgMC4uMjkgZXh0cmEgKi9cbiAgMTYsIDE2LCAxNiwgMTYsIDE3LCAxNywgMTgsIDE4LCAxOSwgMTksIDIwLCAyMCwgMjEsIDIxLCAyMiwgMjIsXG4gIDIzLCAyMywgMjQsIDI0LCAyNSwgMjUsIDI2LCAyNiwgMjcsIDI3LFxuICAyOCwgMjgsIDI5LCAyOSwgNjQsIDY0XG5dKTtcblxuY29uc3QgaW5mbGF0ZV90YWJsZSA9ICh0eXBlLCBsZW5zLCBsZW5zX2luZGV4LCBjb2RlcywgdGFibGUsIHRhYmxlX2luZGV4LCB3b3JrLCBvcHRzKSA9Plxue1xuICBjb25zdCBiaXRzID0gb3B0cy5iaXRzO1xuICAgICAgLy9oZXJlID0gb3B0cy5oZXJlOyAvKiB0YWJsZSBlbnRyeSBmb3IgZHVwbGljYXRpb24gKi9cblxuICBsZXQgbGVuID0gMDsgICAgICAgICAgICAgICAvKiBhIGNvZGUncyBsZW5ndGggaW4gYml0cyAqL1xuICBsZXQgc3ltID0gMDsgICAgICAgICAgICAgICAvKiBpbmRleCBvZiBjb2RlIHN5bWJvbHMgKi9cbiAgbGV0IG1pbiA9IDAsIG1heCA9IDA7ICAgICAgICAgIC8qIG1pbmltdW0gYW5kIG1heGltdW0gY29kZSBsZW5ndGhzICovXG4gIGxldCByb290ID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBpbmRleCBiaXRzIGZvciByb290IHRhYmxlICovXG4gIGxldCBjdXJyID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBpbmRleCBiaXRzIGZvciBjdXJyZW50IHRhYmxlICovXG4gIGxldCBkcm9wID0gMDsgICAgICAgICAgICAgIC8qIGNvZGUgYml0cyB0byBkcm9wIGZvciBzdWItdGFibGUgKi9cbiAgbGV0IGxlZnQgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgcHJlZml4IGNvZGVzIGF2YWlsYWJsZSAqL1xuICBsZXQgdXNlZCA9IDA7ICAgICAgICAgICAgICAvKiBjb2RlIGVudHJpZXMgaW4gdGFibGUgdXNlZCAqL1xuICBsZXQgaHVmZiA9IDA7ICAgICAgICAgICAgICAvKiBIdWZmbWFuIGNvZGUgKi9cbiAgbGV0IGluY3I7ICAgICAgICAgICAgICAvKiBmb3IgaW5jcmVtZW50aW5nIGNvZGUsIGluZGV4ICovXG4gIGxldCBmaWxsOyAgICAgICAgICAgICAgLyogaW5kZXggZm9yIHJlcGxpY2F0aW5nIGVudHJpZXMgKi9cbiAgbGV0IGxvdzsgICAgICAgICAgICAgICAvKiBsb3cgYml0cyBmb3IgY3VycmVudCByb290IGVudHJ5ICovXG4gIGxldCBtYXNrOyAgICAgICAgICAgICAgLyogbWFzayBmb3IgbG93IHJvb3QgYml0cyAqL1xuICBsZXQgbmV4dDsgICAgICAgICAgICAgLyogbmV4dCBhdmFpbGFibGUgc3BhY2UgaW4gdGFibGUgKi9cbiAgbGV0IGJhc2UgPSBudWxsOyAgICAgLyogYmFzZSB2YWx1ZSB0YWJsZSB0byB1c2UgKi9cbi8vICBsZXQgc2hvZXh0cmE7ICAgIC8qIGV4dHJhIGJpdHMgdGFibGUgdG8gdXNlICovXG4gIGxldCBtYXRjaDsgICAgICAgICAgICAgICAgICAvKiB1c2UgYmFzZSBhbmQgZXh0cmEgZm9yIHN5bWJvbCA+PSBtYXRjaCAqL1xuICBjb25zdCBjb3VudCA9IG5ldyBVaW50MTZBcnJheShNQVhCSVRTICsgMSk7IC8vW01BWEJJVFMrMV07ICAgIC8qIG51bWJlciBvZiBjb2RlcyBvZiBlYWNoIGxlbmd0aCAqL1xuICBjb25zdCBvZmZzID0gbmV3IFVpbnQxNkFycmF5KE1BWEJJVFMgKyAxKTsgLy9bTUFYQklUUysxXTsgICAgIC8qIG9mZnNldHMgaW4gdGFibGUgZm9yIGVhY2ggbGVuZ3RoICovXG4gIGxldCBleHRyYSA9IG51bGw7XG5cbiAgbGV0IGhlcmVfYml0cywgaGVyZV9vcCwgaGVyZV92YWw7XG5cbiAgLypcbiAgIFByb2Nlc3MgYSBzZXQgb2YgY29kZSBsZW5ndGhzIHRvIGNyZWF0ZSBhIGNhbm9uaWNhbCBIdWZmbWFuIGNvZGUuICBUaGVcbiAgIGNvZGUgbGVuZ3RocyBhcmUgbGVuc1swLi5jb2Rlcy0xXS4gIEVhY2ggbGVuZ3RoIGNvcnJlc3BvbmRzIHRvIHRoZVxuICAgc3ltYm9scyAwLi5jb2Rlcy0xLiAgVGhlIEh1ZmZtYW4gY29kZSBpcyBnZW5lcmF0ZWQgYnkgZmlyc3Qgc29ydGluZyB0aGVcbiAgIHN5bWJvbHMgYnkgbGVuZ3RoIGZyb20gc2hvcnQgdG8gbG9uZywgYW5kIHJldGFpbmluZyB0aGUgc3ltYm9sIG9yZGVyXG4gICBmb3IgY29kZXMgd2l0aCBlcXVhbCBsZW5ndGhzLiAgVGhlbiB0aGUgY29kZSBzdGFydHMgd2l0aCBhbGwgemVybyBiaXRzXG4gICBmb3IgdGhlIGZpcnN0IGNvZGUgb2YgdGhlIHNob3J0ZXN0IGxlbmd0aCwgYW5kIHRoZSBjb2RlcyBhcmUgaW50ZWdlclxuICAgaW5jcmVtZW50cyBmb3IgdGhlIHNhbWUgbGVuZ3RoLCBhbmQgemVyb3MgYXJlIGFwcGVuZGVkIGFzIHRoZSBsZW5ndGhcbiAgIGluY3JlYXNlcy4gIEZvciB0aGUgZGVmbGF0ZSBmb3JtYXQsIHRoZXNlIGJpdHMgYXJlIHN0b3JlZCBiYWNrd2FyZHNcbiAgIGZyb20gdGhlaXIgbW9yZSBuYXR1cmFsIGludGVnZXIgaW5jcmVtZW50IG9yZGVyaW5nLCBhbmQgc28gd2hlbiB0aGVcbiAgIGRlY29kaW5nIHRhYmxlcyBhcmUgYnVpbHQgaW4gdGhlIGxhcmdlIGxvb3AgYmVsb3csIHRoZSBpbnRlZ2VyIGNvZGVzXG4gICBhcmUgaW5jcmVtZW50ZWQgYmFja3dhcmRzLlxuXG4gICBUaGlzIHJvdXRpbmUgYXNzdW1lcywgYnV0IGRvZXMgbm90IGNoZWNrLCB0aGF0IGFsbCBvZiB0aGUgZW50cmllcyBpblxuICAgbGVuc1tdIGFyZSBpbiB0aGUgcmFuZ2UgMC4uTUFYQklUUy4gIFRoZSBjYWxsZXIgbXVzdCBhc3N1cmUgdGhpcy5cbiAgIDEuLk1BWEJJVFMgaXMgaW50ZXJwcmV0ZWQgYXMgdGhhdCBjb2RlIGxlbmd0aC4gIHplcm8gbWVhbnMgdGhhdCB0aGF0XG4gICBzeW1ib2wgZG9lcyBub3Qgb2NjdXIgaW4gdGhpcyBjb2RlLlxuXG4gICBUaGUgY29kZXMgYXJlIHNvcnRlZCBieSBjb21wdXRpbmcgYSBjb3VudCBvZiBjb2RlcyBmb3IgZWFjaCBsZW5ndGgsXG4gICBjcmVhdGluZyBmcm9tIHRoYXQgYSB0YWJsZSBvZiBzdGFydGluZyBpbmRpY2VzIGZvciBlYWNoIGxlbmd0aCBpbiB0aGVcbiAgIHNvcnRlZCB0YWJsZSwgYW5kIHRoZW4gZW50ZXJpbmcgdGhlIHN5bWJvbHMgaW4gb3JkZXIgaW4gdGhlIHNvcnRlZFxuICAgdGFibGUuICBUaGUgc29ydGVkIHRhYmxlIGlzIHdvcmtbXSwgd2l0aCB0aGF0IHNwYWNlIGJlaW5nIHByb3ZpZGVkIGJ5XG4gICB0aGUgY2FsbGVyLlxuXG4gICBUaGUgbGVuZ3RoIGNvdW50cyBhcmUgdXNlZCBmb3Igb3RoZXIgcHVycG9zZXMgYXMgd2VsbCwgaS5lLiBmaW5kaW5nXG4gICB0aGUgbWluaW11bSBhbmQgbWF4aW11bSBsZW5ndGggY29kZXMsIGRldGVybWluaW5nIGlmIHRoZXJlIGFyZSBhbnlcbiAgIGNvZGVzIGF0IGFsbCwgY2hlY2tpbmcgZm9yIGEgdmFsaWQgc2V0IG9mIGxlbmd0aHMsIGFuZCBsb29raW5nIGFoZWFkXG4gICBhdCBsZW5ndGggY291bnRzIHRvIGRldGVybWluZSBzdWItdGFibGUgc2l6ZXMgd2hlbiBidWlsZGluZyB0aGVcbiAgIGRlY29kaW5nIHRhYmxlcy5cbiAgICovXG5cbiAgLyogYWNjdW11bGF0ZSBsZW5ndGhzIGZvciBjb2RlcyAoYXNzdW1lcyBsZW5zW10gYWxsIGluIDAuLk1BWEJJVFMpICovXG4gIGZvciAobGVuID0gMDsgbGVuIDw9IE1BWEJJVFM7IGxlbisrKSB7XG4gICAgY291bnRbbGVuXSA9IDA7XG4gIH1cbiAgZm9yIChzeW0gPSAwOyBzeW0gPCBjb2Rlczsgc3ltKyspIHtcbiAgICBjb3VudFtsZW5zW2xlbnNfaW5kZXggKyBzeW1dXSsrO1xuICB9XG5cbiAgLyogYm91bmQgY29kZSBsZW5ndGhzLCBmb3JjZSByb290IHRvIGJlIHdpdGhpbiBjb2RlIGxlbmd0aHMgKi9cbiAgcm9vdCA9IGJpdHM7XG4gIGZvciAobWF4ID0gTUFYQklUUzsgbWF4ID49IDE7IG1heC0tKSB7XG4gICAgaWYgKGNvdW50W21heF0gIT09IDApIHsgYnJlYWs7IH1cbiAgfVxuICBpZiAocm9vdCA+IG1heCkge1xuICAgIHJvb3QgPSBtYXg7XG4gIH1cbiAgaWYgKG1heCA9PT0gMCkgeyAgICAgICAgICAgICAgICAgICAgIC8qIG5vIHN5bWJvbHMgdG8gY29kZSBhdCBhbGwgKi9cbiAgICAvL3RhYmxlLm9wW29wdHMudGFibGVfaW5kZXhdID0gNjQ7ICAvL2hlcmUub3AgPSAodmFyIGNoYXIpNjQ7ICAgIC8qIGludmFsaWQgY29kZSBtYXJrZXIgKi9cbiAgICAvL3RhYmxlLmJpdHNbb3B0cy50YWJsZV9pbmRleF0gPSAxOyAgIC8vaGVyZS5iaXRzID0gKHZhciBjaGFyKTE7XG4gICAgLy90YWJsZS52YWxbb3B0cy50YWJsZV9pbmRleCsrXSA9IDA7ICAgLy9oZXJlLnZhbCA9ICh2YXIgc2hvcnQpMDtcbiAgICB0YWJsZVt0YWJsZV9pbmRleCsrXSA9ICgxIDw8IDI0KSB8ICg2NCA8PCAxNikgfCAwO1xuXG5cbiAgICAvL3RhYmxlLm9wW29wdHMudGFibGVfaW5kZXhdID0gNjQ7XG4gICAgLy90YWJsZS5iaXRzW29wdHMudGFibGVfaW5kZXhdID0gMTtcbiAgICAvL3RhYmxlLnZhbFtvcHRzLnRhYmxlX2luZGV4KytdID0gMDtcbiAgICB0YWJsZVt0YWJsZV9pbmRleCsrXSA9ICgxIDw8IDI0KSB8ICg2NCA8PCAxNikgfCAwO1xuXG4gICAgb3B0cy5iaXRzID0gMTtcbiAgICByZXR1cm4gMDsgICAgIC8qIG5vIHN5bWJvbHMsIGJ1dCB3YWl0IGZvciBkZWNvZGluZyB0byByZXBvcnQgZXJyb3IgKi9cbiAgfVxuICBmb3IgKG1pbiA9IDE7IG1pbiA8IG1heDsgbWluKyspIHtcbiAgICBpZiAoY291bnRbbWluXSAhPT0gMCkgeyBicmVhazsgfVxuICB9XG4gIGlmIChyb290IDwgbWluKSB7XG4gICAgcm9vdCA9IG1pbjtcbiAgfVxuXG4gIC8qIGNoZWNrIGZvciBhbiBvdmVyLXN1YnNjcmliZWQgb3IgaW5jb21wbGV0ZSBzZXQgb2YgbGVuZ3RocyAqL1xuICBsZWZ0ID0gMTtcbiAgZm9yIChsZW4gPSAxOyBsZW4gPD0gTUFYQklUUzsgbGVuKyspIHtcbiAgICBsZWZ0IDw8PSAxO1xuICAgIGxlZnQgLT0gY291bnRbbGVuXTtcbiAgICBpZiAobGVmdCA8IDApIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9ICAgICAgICAvKiBvdmVyLXN1YnNjcmliZWQgKi9cbiAgfVxuICBpZiAobGVmdCA+IDAgJiYgKHR5cGUgPT09IENPREVTJDEgfHwgbWF4ICE9PSAxKSkge1xuICAgIHJldHVybiAtMTsgICAgICAgICAgICAgICAgICAgICAgLyogaW5jb21wbGV0ZSBzZXQgKi9cbiAgfVxuXG4gIC8qIGdlbmVyYXRlIG9mZnNldHMgaW50byBzeW1ib2wgdGFibGUgZm9yIGVhY2ggbGVuZ3RoIGZvciBzb3J0aW5nICovXG4gIG9mZnNbMV0gPSAwO1xuICBmb3IgKGxlbiA9IDE7IGxlbiA8IE1BWEJJVFM7IGxlbisrKSB7XG4gICAgb2Zmc1tsZW4gKyAxXSA9IG9mZnNbbGVuXSArIGNvdW50W2xlbl07XG4gIH1cblxuICAvKiBzb3J0IHN5bWJvbHMgYnkgbGVuZ3RoLCBieSBzeW1ib2wgb3JkZXIgd2l0aGluIGVhY2ggbGVuZ3RoICovXG4gIGZvciAoc3ltID0gMDsgc3ltIDwgY29kZXM7IHN5bSsrKSB7XG4gICAgaWYgKGxlbnNbbGVuc19pbmRleCArIHN5bV0gIT09IDApIHtcbiAgICAgIHdvcmtbb2Zmc1tsZW5zW2xlbnNfaW5kZXggKyBzeW1dXSsrXSA9IHN5bTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgQ3JlYXRlIGFuZCBmaWxsIGluIGRlY29kaW5nIHRhYmxlcy4gIEluIHRoaXMgbG9vcCwgdGhlIHRhYmxlIGJlaW5nXG4gICBmaWxsZWQgaXMgYXQgbmV4dCBhbmQgaGFzIGN1cnIgaW5kZXggYml0cy4gIFRoZSBjb2RlIGJlaW5nIHVzZWQgaXMgaHVmZlxuICAgd2l0aCBsZW5ndGggbGVuLiAgVGhhdCBjb2RlIGlzIGNvbnZlcnRlZCB0byBhbiBpbmRleCBieSBkcm9wcGluZyBkcm9wXG4gICBiaXRzIG9mZiBvZiB0aGUgYm90dG9tLiAgRm9yIGNvZGVzIHdoZXJlIGxlbiBpcyBsZXNzIHRoYW4gZHJvcCArIGN1cnIsXG4gICB0aG9zZSB0b3AgZHJvcCArIGN1cnIgLSBsZW4gYml0cyBhcmUgaW5jcmVtZW50ZWQgdGhyb3VnaCBhbGwgdmFsdWVzIHRvXG4gICBmaWxsIHRoZSB0YWJsZSB3aXRoIHJlcGxpY2F0ZWQgZW50cmllcy5cblxuICAgcm9vdCBpcyB0aGUgbnVtYmVyIG9mIGluZGV4IGJpdHMgZm9yIHRoZSByb290IHRhYmxlLiAgV2hlbiBsZW4gZXhjZWVkc1xuICAgcm9vdCwgc3ViLXRhYmxlcyBhcmUgY3JlYXRlZCBwb2ludGVkIHRvIGJ5IHRoZSByb290IGVudHJ5IHdpdGggYW4gaW5kZXhcbiAgIG9mIHRoZSBsb3cgcm9vdCBiaXRzIG9mIGh1ZmYuICBUaGlzIGlzIHNhdmVkIGluIGxvdyB0byBjaGVjayBmb3Igd2hlbiBhXG4gICBuZXcgc3ViLXRhYmxlIHNob3VsZCBiZSBzdGFydGVkLiAgZHJvcCBpcyB6ZXJvIHdoZW4gdGhlIHJvb3QgdGFibGUgaXNcbiAgIGJlaW5nIGZpbGxlZCwgYW5kIGRyb3AgaXMgcm9vdCB3aGVuIHN1Yi10YWJsZXMgYXJlIGJlaW5nIGZpbGxlZC5cblxuICAgV2hlbiBhIG5ldyBzdWItdGFibGUgaXMgbmVlZGVkLCBpdCBpcyBuZWNlc3NhcnkgdG8gbG9vayBhaGVhZCBpbiB0aGVcbiAgIGNvZGUgbGVuZ3RocyB0byBkZXRlcm1pbmUgd2hhdCBzaXplIHN1Yi10YWJsZSBpcyBuZWVkZWQuICBUaGUgbGVuZ3RoXG4gICBjb3VudHMgYXJlIHVzZWQgZm9yIHRoaXMsIGFuZCBzbyBjb3VudFtdIGlzIGRlY3JlbWVudGVkIGFzIGNvZGVzIGFyZVxuICAgZW50ZXJlZCBpbiB0aGUgdGFibGVzLlxuXG4gICB1c2VkIGtlZXBzIHRyYWNrIG9mIGhvdyBtYW55IHRhYmxlIGVudHJpZXMgaGF2ZSBiZWVuIGFsbG9jYXRlZCBmcm9tIHRoZVxuICAgcHJvdmlkZWQgKnRhYmxlIHNwYWNlLiAgSXQgaXMgY2hlY2tlZCBmb3IgTEVOUyBhbmQgRElTVCB0YWJsZXMgYWdhaW5zdFxuICAgdGhlIGNvbnN0YW50cyBFTk9VR0hfTEVOUyBhbmQgRU5PVUdIX0RJU1RTIHRvIGd1YXJkIGFnYWluc3QgY2hhbmdlcyBpblxuICAgdGhlIGluaXRpYWwgcm9vdCB0YWJsZSBzaXplIGNvbnN0YW50cy4gIFNlZSB0aGUgY29tbWVudHMgaW4gaW5mdHJlZXMuaFxuICAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cbiAgIHN5bSBpbmNyZW1lbnRzIHRocm91Z2ggYWxsIHN5bWJvbHMsIGFuZCB0aGUgbG9vcCB0ZXJtaW5hdGVzIHdoZW5cbiAgIGFsbCBjb2RlcyBvZiBsZW5ndGggbWF4LCBpLmUuIGFsbCBjb2RlcywgaGF2ZSBiZWVuIHByb2Nlc3NlZC4gIFRoaXNcbiAgIHJvdXRpbmUgcGVybWl0cyBpbmNvbXBsZXRlIGNvZGVzLCBzbyBhbm90aGVyIGxvb3AgYWZ0ZXIgdGhpcyBvbmUgZmlsbHNcbiAgIGluIHRoZSByZXN0IG9mIHRoZSBkZWNvZGluZyB0YWJsZXMgd2l0aCBpbnZhbGlkIGNvZGUgbWFya2Vycy5cbiAgICovXG5cbiAgLyogc2V0IHVwIGZvciBjb2RlIHR5cGUgKi9cbiAgLy8gcG9vciBtYW4gb3B0aW1pemF0aW9uIC0gdXNlIGlmLWVsc2UgaW5zdGVhZCBvZiBzd2l0Y2gsXG4gIC8vIHRvIGF2b2lkIGRlb3B0cyBpbiBvbGQgdjhcbiAgaWYgKHR5cGUgPT09IENPREVTJDEpIHtcbiAgICBiYXNlID0gZXh0cmEgPSB3b3JrOyAgICAvKiBkdW1teSB2YWx1ZS0tbm90IHVzZWQgKi9cbiAgICBtYXRjaCA9IDIwO1xuXG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gTEVOUyQxKSB7XG4gICAgYmFzZSA9IGxiYXNlO1xuICAgIGV4dHJhID0gbGV4dDtcbiAgICBtYXRjaCA9IDI1NztcblxuICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgLyogRElTVFMgKi9cbiAgICBiYXNlID0gZGJhc2U7XG4gICAgZXh0cmEgPSBkZXh0O1xuICAgIG1hdGNoID0gMDtcbiAgfVxuXG4gIC8qIGluaXRpYWxpemUgb3B0cyBmb3IgbG9vcCAqL1xuICBodWZmID0gMDsgICAgICAgICAgICAgICAgICAgLyogc3RhcnRpbmcgY29kZSAqL1xuICBzeW0gPSAwOyAgICAgICAgICAgICAgICAgICAgLyogc3RhcnRpbmcgY29kZSBzeW1ib2wgKi9cbiAgbGVuID0gbWluOyAgICAgICAgICAgICAgICAgIC8qIHN0YXJ0aW5nIGNvZGUgbGVuZ3RoICovXG4gIG5leHQgPSB0YWJsZV9pbmRleDsgICAgICAgICAgICAgIC8qIGN1cnJlbnQgdGFibGUgdG8gZmlsbCBpbiAqL1xuICBjdXJyID0gcm9vdDsgICAgICAgICAgICAgICAgLyogY3VycmVudCB0YWJsZSBpbmRleCBiaXRzICovXG4gIGRyb3AgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBjdXJyZW50IGJpdHMgdG8gZHJvcCBmcm9tIGNvZGUgZm9yIGluZGV4ICovXG4gIGxvdyA9IC0xOyAgICAgICAgICAgICAgICAgICAvKiB0cmlnZ2VyIG5ldyBzdWItdGFibGUgd2hlbiBsZW4gPiByb290ICovXG4gIHVzZWQgPSAxIDw8IHJvb3Q7ICAgICAgICAgIC8qIHVzZSByb290IHRhYmxlIGVudHJpZXMgKi9cbiAgbWFzayA9IHVzZWQgLSAxOyAgICAgICAgICAgIC8qIG1hc2sgZm9yIGNvbXBhcmluZyBsb3cgKi9cblxuICAvKiBjaGVjayBhdmFpbGFibGUgdGFibGUgc3BhY2UgKi9cbiAgaWYgKCh0eXBlID09PSBMRU5TJDEgJiYgdXNlZCA+IEVOT1VHSF9MRU5TJDEpIHx8XG4gICAgKHR5cGUgPT09IERJU1RTJDEgJiYgdXNlZCA+IEVOT1VHSF9ESVNUUyQxKSkge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgLyogcHJvY2VzcyBhbGwgY29kZXMgYW5kIG1ha2UgdGFibGUgZW50cmllcyAqL1xuICBmb3IgKDs7KSB7XG4gICAgLyogY3JlYXRlIHRhYmxlIGVudHJ5ICovXG4gICAgaGVyZV9iaXRzID0gbGVuIC0gZHJvcDtcbiAgICBpZiAod29ya1tzeW1dICsgMSA8IG1hdGNoKSB7XG4gICAgICBoZXJlX29wID0gMDtcbiAgICAgIGhlcmVfdmFsID0gd29ya1tzeW1dO1xuICAgIH1cbiAgICBlbHNlIGlmICh3b3JrW3N5bV0gPj0gbWF0Y2gpIHtcbiAgICAgIGhlcmVfb3AgPSBleHRyYVt3b3JrW3N5bV0gLSBtYXRjaF07XG4gICAgICBoZXJlX3ZhbCA9IGJhc2Vbd29ya1tzeW1dIC0gbWF0Y2hdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGhlcmVfb3AgPSAzMiArIDY0OyAgICAgICAgIC8qIGVuZCBvZiBibG9jayAqL1xuICAgICAgaGVyZV92YWwgPSAwO1xuICAgIH1cblxuICAgIC8qIHJlcGxpY2F0ZSBmb3IgdGhvc2UgaW5kaWNlcyB3aXRoIGxvdyBsZW4gYml0cyBlcXVhbCB0byBodWZmICovXG4gICAgaW5jciA9IDEgPDwgKGxlbiAtIGRyb3ApO1xuICAgIGZpbGwgPSAxIDw8IGN1cnI7XG4gICAgbWluID0gZmlsbDsgICAgICAgICAgICAgICAgIC8qIHNhdmUgb2Zmc2V0IHRvIG5leHQgdGFibGUgKi9cbiAgICBkbyB7XG4gICAgICBmaWxsIC09IGluY3I7XG4gICAgICB0YWJsZVtuZXh0ICsgKGh1ZmYgPj4gZHJvcCkgKyBmaWxsXSA9IChoZXJlX2JpdHMgPDwgMjQpIHwgKGhlcmVfb3AgPDwgMTYpIHwgaGVyZV92YWwgfDA7XG4gICAgfSB3aGlsZSAoZmlsbCAhPT0gMCk7XG5cbiAgICAvKiBiYWNrd2FyZHMgaW5jcmVtZW50IHRoZSBsZW4tYml0IGNvZGUgaHVmZiAqL1xuICAgIGluY3IgPSAxIDw8IChsZW4gLSAxKTtcbiAgICB3aGlsZSAoaHVmZiAmIGluY3IpIHtcbiAgICAgIGluY3IgPj49IDE7XG4gICAgfVxuICAgIGlmIChpbmNyICE9PSAwKSB7XG4gICAgICBodWZmICY9IGluY3IgLSAxO1xuICAgICAgaHVmZiArPSBpbmNyO1xuICAgIH0gZWxzZSB7XG4gICAgICBodWZmID0gMDtcbiAgICB9XG5cbiAgICAvKiBnbyB0byBuZXh0IHN5bWJvbCwgdXBkYXRlIGNvdW50LCBsZW4gKi9cbiAgICBzeW0rKztcbiAgICBpZiAoLS1jb3VudFtsZW5dID09PSAwKSB7XG4gICAgICBpZiAobGVuID09PSBtYXgpIHsgYnJlYWs7IH1cbiAgICAgIGxlbiA9IGxlbnNbbGVuc19pbmRleCArIHdvcmtbc3ltXV07XG4gICAgfVxuXG4gICAgLyogY3JlYXRlIG5ldyBzdWItdGFibGUgaWYgbmVlZGVkICovXG4gICAgaWYgKGxlbiA+IHJvb3QgJiYgKGh1ZmYgJiBtYXNrKSAhPT0gbG93KSB7XG4gICAgICAvKiBpZiBmaXJzdCB0aW1lLCB0cmFuc2l0aW9uIHRvIHN1Yi10YWJsZXMgKi9cbiAgICAgIGlmIChkcm9wID09PSAwKSB7XG4gICAgICAgIGRyb3AgPSByb290O1xuICAgICAgfVxuXG4gICAgICAvKiBpbmNyZW1lbnQgcGFzdCBsYXN0IHRhYmxlICovXG4gICAgICBuZXh0ICs9IG1pbjsgICAgICAgICAgICAvKiBoZXJlIG1pbiBpcyAxIDw8IGN1cnIgKi9cblxuICAgICAgLyogZGV0ZXJtaW5lIGxlbmd0aCBvZiBuZXh0IHRhYmxlICovXG4gICAgICBjdXJyID0gbGVuIC0gZHJvcDtcbiAgICAgIGxlZnQgPSAxIDw8IGN1cnI7XG4gICAgICB3aGlsZSAoY3VyciArIGRyb3AgPCBtYXgpIHtcbiAgICAgICAgbGVmdCAtPSBjb3VudFtjdXJyICsgZHJvcF07XG4gICAgICAgIGlmIChsZWZ0IDw9IDApIHsgYnJlYWs7IH1cbiAgICAgICAgY3VycisrO1xuICAgICAgICBsZWZ0IDw8PSAxO1xuICAgICAgfVxuXG4gICAgICAvKiBjaGVjayBmb3IgZW5vdWdoIHNwYWNlICovXG4gICAgICB1c2VkICs9IDEgPDwgY3VycjtcbiAgICAgIGlmICgodHlwZSA9PT0gTEVOUyQxICYmIHVzZWQgPiBFTk9VR0hfTEVOUyQxKSB8fFxuICAgICAgICAodHlwZSA9PT0gRElTVFMkMSAmJiB1c2VkID4gRU5PVUdIX0RJU1RTJDEpKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuXG4gICAgICAvKiBwb2ludCBlbnRyeSBpbiByb290IHRhYmxlIHRvIHN1Yi10YWJsZSAqL1xuICAgICAgbG93ID0gaHVmZiAmIG1hc2s7XG4gICAgICAvKnRhYmxlLm9wW2xvd10gPSBjdXJyO1xuICAgICAgdGFibGUuYml0c1tsb3ddID0gcm9vdDtcbiAgICAgIHRhYmxlLnZhbFtsb3ddID0gbmV4dCAtIG9wdHMudGFibGVfaW5kZXg7Ki9cbiAgICAgIHRhYmxlW2xvd10gPSAocm9vdCA8PCAyNCkgfCAoY3VyciA8PCAxNikgfCAobmV4dCAtIHRhYmxlX2luZGV4KSB8MDtcbiAgICB9XG4gIH1cblxuICAvKiBmaWxsIGluIHJlbWFpbmluZyB0YWJsZSBlbnRyeSBpZiBjb2RlIGlzIGluY29tcGxldGUgKGd1YXJhbnRlZWQgdG8gaGF2ZVxuICAgYXQgbW9zdCBvbmUgcmVtYWluaW5nIGVudHJ5LCBzaW5jZSBpZiB0aGUgY29kZSBpcyBpbmNvbXBsZXRlLCB0aGVcbiAgIG1heGltdW0gY29kZSBsZW5ndGggdGhhdCB3YXMgYWxsb3dlZCB0byBnZXQgdGhpcyBmYXIgaXMgb25lIGJpdCkgKi9cbiAgaWYgKGh1ZmYgIT09IDApIHtcbiAgICAvL3RhYmxlLm9wW25leHQgKyBodWZmXSA9IDY0OyAgICAgICAgICAgIC8qIGludmFsaWQgY29kZSBtYXJrZXIgKi9cbiAgICAvL3RhYmxlLmJpdHNbbmV4dCArIGh1ZmZdID0gbGVuIC0gZHJvcDtcbiAgICAvL3RhYmxlLnZhbFtuZXh0ICsgaHVmZl0gPSAwO1xuICAgIHRhYmxlW25leHQgKyBodWZmXSA9ICgobGVuIC0gZHJvcCkgPDwgMjQpIHwgKDY0IDw8IDE2KSB8MDtcbiAgfVxuXG4gIC8qIHNldCByZXR1cm4gcGFyYW1ldGVycyAqL1xuICAvL29wdHMudGFibGVfaW5kZXggKz0gdXNlZDtcbiAgb3B0cy5iaXRzID0gcm9vdDtcbiAgcmV0dXJuIDA7XG59O1xuXG5cbnZhciBpbmZ0cmVlcyA9IGluZmxhdGVfdGFibGU7XG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxuXG5cblxuXG5cbmNvbnN0IENPREVTID0gMDtcbmNvbnN0IExFTlMgPSAxO1xuY29uc3QgRElTVFMgPSAyO1xuXG4vKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuY29uc3Qge1xuICBaX0ZJTklTSDogWl9GSU5JU0gkMSwgWl9CTE9DSywgWl9UUkVFUyxcbiAgWl9PSzogWl9PSyQxLCBaX1NUUkVBTV9FTkQ6IFpfU1RSRUFNX0VORCQxLCBaX05FRURfRElDVDogWl9ORUVEX0RJQ1QkMSwgWl9TVFJFQU1fRVJST1I6IFpfU1RSRUFNX0VSUk9SJDEsIFpfREFUQV9FUlJPUjogWl9EQVRBX0VSUk9SJDEsIFpfTUVNX0VSUk9SOiBaX01FTV9FUlJPUiQxLCBaX0JVRl9FUlJPUixcbiAgWl9ERUZMQVRFRFxufSA9IGNvbnN0YW50cyQyO1xuXG5cbi8qIFNUQVRFUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbmNvbnN0ICAgIEhFQUQgPSAxNjE4MDsgICAgICAgLyogaTogd2FpdGluZyBmb3IgbWFnaWMgaGVhZGVyICovXG5jb25zdCAgICBGTEFHUyA9IDE2MTgxOyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIG1ldGhvZCBhbmQgZmxhZ3MgKGd6aXApICovXG5jb25zdCAgICBUSU1FID0gMTYxODI7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIG1vZGlmaWNhdGlvbiB0aW1lIChnemlwKSAqL1xuY29uc3QgICAgT1MgPSAxNjE4MzsgICAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBleHRyYSBmbGFncyBhbmQgb3BlcmF0aW5nIHN5c3RlbSAoZ3ppcCkgKi9cbmNvbnN0ICAgIEVYTEVOID0gMTYxODQ7ICAgICAgLyogaTogd2FpdGluZyBmb3IgZXh0cmEgbGVuZ3RoIChnemlwKSAqL1xuY29uc3QgICAgRVhUUkEgPSAxNjE4NTsgICAgICAvKiBpOiB3YWl0aW5nIGZvciBleHRyYSBieXRlcyAoZ3ppcCkgKi9cbmNvbnN0ICAgIE5BTUUgPSAxNjE4NjsgICAgICAgLyogaTogd2FpdGluZyBmb3IgZW5kIG9mIGZpbGUgbmFtZSAoZ3ppcCkgKi9cbmNvbnN0ICAgIENPTU1FTlQgPSAxNjE4NzsgICAgLyogaTogd2FpdGluZyBmb3IgZW5kIG9mIGNvbW1lbnQgKGd6aXApICovXG5jb25zdCAgICBIQ1JDID0gMTYxODg7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGhlYWRlciBjcmMgKGd6aXApICovXG5jb25zdCAgICBESUNUSUQgPSAxNjE4OTsgICAgLyogaTogd2FpdGluZyBmb3IgZGljdGlvbmFyeSBjaGVjayB2YWx1ZSAqL1xuY29uc3QgICAgRElDVCA9IDE2MTkwOyAgICAgIC8qIHdhaXRpbmcgZm9yIGluZmxhdGVTZXREaWN0aW9uYXJ5KCkgY2FsbCAqL1xuY29uc3QgICAgICAgIFRZUEUgPSAxNjE5MTsgICAgICAvKiBpOiB3YWl0aW5nIGZvciB0eXBlIGJpdHMsIGluY2x1ZGluZyBsYXN0LWZsYWcgYml0ICovXG5jb25zdCAgICAgICAgVFlQRURPID0gMTYxOTI7ICAgIC8qIGk6IHNhbWUsIGJ1dCBza2lwIGNoZWNrIHRvIGV4aXQgaW5mbGF0ZSBvbiBuZXcgYmxvY2sgKi9cbmNvbnN0ICAgICAgICBTVE9SRUQgPSAxNjE5MzsgICAgLyogaTogd2FpdGluZyBmb3Igc3RvcmVkIHNpemUgKGxlbmd0aCBhbmQgY29tcGxlbWVudCkgKi9cbmNvbnN0ICAgICAgICBDT1BZXyA9IDE2MTk0OyAgICAgLyogaS9vOiBzYW1lIGFzIENPUFkgYmVsb3csIGJ1dCBvbmx5IGZpcnN0IHRpbWUgaW4gKi9cbmNvbnN0ICAgICAgICBDT1BZID0gMTYxOTU7ICAgICAgLyogaS9vOiB3YWl0aW5nIGZvciBpbnB1dCBvciBvdXRwdXQgdG8gY29weSBzdG9yZWQgYmxvY2sgKi9cbmNvbnN0ICAgICAgICBUQUJMRSA9IDE2MTk2OyAgICAgLyogaTogd2FpdGluZyBmb3IgZHluYW1pYyBibG9jayB0YWJsZSBsZW5ndGhzICovXG5jb25zdCAgICAgICAgTEVOTEVOUyA9IDE2MTk3OyAgIC8qIGk6IHdhaXRpbmcgZm9yIGNvZGUgbGVuZ3RoIGNvZGUgbGVuZ3RocyAqL1xuY29uc3QgICAgICAgIENPREVMRU5TID0gMTYxOTg7ICAvKiBpOiB3YWl0aW5nIGZvciBsZW5ndGgvbGl0IGFuZCBkaXN0YW5jZSBjb2RlIGxlbmd0aHMgKi9cbmNvbnN0ICAgICAgICAgICAgTEVOXyA9IDE2MTk5OyAgICAgIC8qIGk6IHNhbWUgYXMgTEVOIGJlbG93LCBidXQgb25seSBmaXJzdCB0aW1lIGluICovXG5jb25zdCAgICAgICAgICAgIExFTiA9IDE2MjAwOyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBsZW5ndGgvbGl0L2VvYiBjb2RlICovXG5jb25zdCAgICAgICAgICAgIExFTkVYVCA9IDE2MjAxOyAgICAvKiBpOiB3YWl0aW5nIGZvciBsZW5ndGggZXh0cmEgYml0cyAqL1xuY29uc3QgICAgICAgICAgICBESVNUID0gMTYyMDI7ICAgICAgLyogaTogd2FpdGluZyBmb3IgZGlzdGFuY2UgY29kZSAqL1xuY29uc3QgICAgICAgICAgICBESVNURVhUID0gMTYyMDM7ICAgLyogaTogd2FpdGluZyBmb3IgZGlzdGFuY2UgZXh0cmEgYml0cyAqL1xuY29uc3QgICAgICAgICAgICBNQVRDSCA9IDE2MjA0OyAgICAgLyogbzogd2FpdGluZyBmb3Igb3V0cHV0IHNwYWNlIHRvIGNvcHkgc3RyaW5nICovXG5jb25zdCAgICAgICAgICAgIExJVCA9IDE2MjA1OyAgICAgICAvKiBvOiB3YWl0aW5nIGZvciBvdXRwdXQgc3BhY2UgdG8gd3JpdGUgbGl0ZXJhbCAqL1xuY29uc3QgICAgQ0hFQ0sgPSAxNjIwNjsgICAgIC8qIGk6IHdhaXRpbmcgZm9yIDMyLWJpdCBjaGVjayB2YWx1ZSAqL1xuY29uc3QgICAgTEVOR1RIID0gMTYyMDc7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIDMyLWJpdCBsZW5ndGggKGd6aXApICovXG5jb25zdCAgICBET05FID0gMTYyMDg7ICAgICAgLyogZmluaXNoZWQgY2hlY2ssIGRvbmUgLS0gcmVtYWluIGhlcmUgdW50aWwgcmVzZXQgKi9cbmNvbnN0ICAgIEJBRCA9IDE2MjA5OyAgICAgICAvKiBnb3QgYSBkYXRhIGVycm9yIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG5jb25zdCAgICBNRU0gPSAxNjIxMDsgICAgICAgLyogZ290IGFuIGluZmxhdGUoKSBtZW1vcnkgZXJyb3IgLS0gcmVtYWluIGhlcmUgdW50aWwgcmVzZXQgKi9cbmNvbnN0ICAgIFNZTkMgPSAxNjIxMTsgICAgICAvKiBsb29raW5nIGZvciBzeW5jaHJvbml6YXRpb24gYnl0ZXMgdG8gcmVzdGFydCBpbmZsYXRlKCkgKi9cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG5cbmNvbnN0IEVOT1VHSF9MRU5TID0gODUyO1xuY29uc3QgRU5PVUdIX0RJU1RTID0gNTkyO1xuLy9jb25zdCBFTk9VR0ggPSAgKEVOT1VHSF9MRU5TK0VOT1VHSF9ESVNUUyk7XG5cbmNvbnN0IE1BWF9XQklUUyA9IDE1O1xuLyogMzJLIExaNzcgd2luZG93ICovXG5jb25zdCBERUZfV0JJVFMgPSBNQVhfV0JJVFM7XG5cblxuY29uc3QgenN3YXAzMiA9IChxKSA9PiB7XG5cbiAgcmV0dXJuICAoKChxID4+PiAyNCkgJiAweGZmKSArXG4gICAgICAgICAgKChxID4+PiA4KSAmIDB4ZmYwMCkgK1xuICAgICAgICAgICgocSAmIDB4ZmYwMCkgPDwgOCkgK1xuICAgICAgICAgICgocSAmIDB4ZmYpIDw8IDI0KSk7XG59O1xuXG5cbmZ1bmN0aW9uIEluZmxhdGVTdGF0ZSgpIHtcbiAgdGhpcy5zdHJtID0gbnVsbDsgICAgICAgICAgIC8qIHBvaW50ZXIgYmFjayB0byB0aGlzIHpsaWIgc3RyZWFtICovXG4gIHRoaXMubW9kZSA9IDA7ICAgICAgICAgICAgICAvKiBjdXJyZW50IGluZmxhdGUgbW9kZSAqL1xuICB0aGlzLmxhc3QgPSBmYWxzZTsgICAgICAgICAgLyogdHJ1ZSBpZiBwcm9jZXNzaW5nIGxhc3QgYmxvY2sgKi9cbiAgdGhpcy53cmFwID0gMDsgICAgICAgICAgICAgIC8qIGJpdCAwIHRydWUgZm9yIHpsaWIsIGJpdCAxIHRydWUgZm9yIGd6aXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXQgMiB0cnVlIHRvIHZhbGlkYXRlIGNoZWNrIHZhbHVlICovXG4gIHRoaXMuaGF2ZWRpY3QgPSBmYWxzZTsgICAgICAvKiB0cnVlIGlmIGRpY3Rpb25hcnkgcHJvdmlkZWQgKi9cbiAgdGhpcy5mbGFncyA9IDA7ICAgICAgICAgICAgIC8qIGd6aXAgaGVhZGVyIG1ldGhvZCBhbmQgZmxhZ3MgKDAgaWYgemxpYiksIG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMSBpZiByYXcgb3Igbm8gaGVhZGVyIHlldCAqL1xuICB0aGlzLmRtYXggPSAwOyAgICAgICAgICAgICAgLyogemxpYiBoZWFkZXIgbWF4IGRpc3RhbmNlIChJTkZMQVRFX1NUUklDVCkgKi9cbiAgdGhpcy5jaGVjayA9IDA7ICAgICAgICAgICAgIC8qIHByb3RlY3RlZCBjb3B5IG9mIGNoZWNrIHZhbHVlICovXG4gIHRoaXMudG90YWwgPSAwOyAgICAgICAgICAgICAvKiBwcm90ZWN0ZWQgY29weSBvZiBvdXRwdXQgY291bnQgKi9cbiAgLy8gVE9ETzogbWF5IGJlIHt9XG4gIHRoaXMuaGVhZCA9IG51bGw7ICAgICAgICAgICAvKiB3aGVyZSB0byBzYXZlIGd6aXAgaGVhZGVyIGluZm9ybWF0aW9uICovXG5cbiAgLyogc2xpZGluZyB3aW5kb3cgKi9cbiAgdGhpcy53Yml0cyA9IDA7ICAgICAgICAgICAgIC8qIGxvZyBiYXNlIDIgb2YgcmVxdWVzdGVkIHdpbmRvdyBzaXplICovXG4gIHRoaXMud3NpemUgPSAwOyAgICAgICAgICAgICAvKiB3aW5kb3cgc2l6ZSBvciB6ZXJvIGlmIG5vdCB1c2luZyB3aW5kb3cgKi9cbiAgdGhpcy53aGF2ZSA9IDA7ICAgICAgICAgICAgIC8qIHZhbGlkIGJ5dGVzIGluIHRoZSB3aW5kb3cgKi9cbiAgdGhpcy53bmV4dCA9IDA7ICAgICAgICAgICAgIC8qIHdpbmRvdyB3cml0ZSBpbmRleCAqL1xuICB0aGlzLndpbmRvdyA9IG51bGw7ICAgICAgICAgLyogYWxsb2NhdGVkIHNsaWRpbmcgd2luZG93LCBpZiBuZWVkZWQgKi9cblxuICAvKiBiaXQgYWNjdW11bGF0b3IgKi9cbiAgdGhpcy5ob2xkID0gMDsgICAgICAgICAgICAgIC8qIGlucHV0IGJpdCBhY2N1bXVsYXRvciAqL1xuICB0aGlzLmJpdHMgPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGJpdHMgaW4gXCJpblwiICovXG5cbiAgLyogZm9yIHN0cmluZyBhbmQgc3RvcmVkIGJsb2NrIGNvcHlpbmcgKi9cbiAgdGhpcy5sZW5ndGggPSAwOyAgICAgICAgICAgIC8qIGxpdGVyYWwgb3IgbGVuZ3RoIG9mIGRhdGEgdG8gY29weSAqL1xuICB0aGlzLm9mZnNldCA9IDA7ICAgICAgICAgICAgLyogZGlzdGFuY2UgYmFjayB0byBjb3B5IHN0cmluZyBmcm9tICovXG5cbiAgLyogZm9yIHRhYmxlIGFuZCBjb2RlIGRlY29kaW5nICovXG4gIHRoaXMuZXh0cmEgPSAwOyAgICAgICAgICAgICAvKiBleHRyYSBiaXRzIG5lZWRlZCAqL1xuXG4gIC8qIGZpeGVkIGFuZCBkeW5hbWljIGNvZGUgdGFibGVzICovXG4gIHRoaXMubGVuY29kZSA9IG51bGw7ICAgICAgICAgIC8qIHN0YXJ0aW5nIHRhYmxlIGZvciBsZW5ndGgvbGl0ZXJhbCBjb2RlcyAqL1xuICB0aGlzLmRpc3Rjb2RlID0gbnVsbDsgICAgICAgICAvKiBzdGFydGluZyB0YWJsZSBmb3IgZGlzdGFuY2UgY29kZXMgKi9cbiAgdGhpcy5sZW5iaXRzID0gMDsgICAgICAgICAgIC8qIGluZGV4IGJpdHMgZm9yIGxlbmNvZGUgKi9cbiAgdGhpcy5kaXN0Yml0cyA9IDA7ICAgICAgICAgIC8qIGluZGV4IGJpdHMgZm9yIGRpc3Rjb2RlICovXG5cbiAgLyogZHluYW1pYyB0YWJsZSBidWlsZGluZyAqL1xuICB0aGlzLm5jb2RlID0gMDsgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGNvZGUgbGVuZ3RoIGNvZGUgbGVuZ3RocyAqL1xuICB0aGlzLm5sZW4gPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGxlbmd0aCBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy5uZGlzdCA9IDA7ICAgICAgICAgICAgIC8qIG51bWJlciBvZiBkaXN0YW5jZSBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy5oYXZlID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBjb2RlIGxlbmd0aHMgaW4gbGVuc1tdICovXG4gIHRoaXMubmV4dCA9IG51bGw7ICAgICAgICAgICAgICAvKiBuZXh0IGF2YWlsYWJsZSBzcGFjZSBpbiBjb2Rlc1tdICovXG5cbiAgdGhpcy5sZW5zID0gbmV3IFVpbnQxNkFycmF5KDMyMCk7IC8qIHRlbXBvcmFyeSBzdG9yYWdlIGZvciBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy53b3JrID0gbmV3IFVpbnQxNkFycmF5KDI4OCk7IC8qIHdvcmsgYXJlYSBmb3IgY29kZSB0YWJsZSBidWlsZGluZyAqL1xuXG4gIC8qXG4gICBiZWNhdXNlIHdlIGRvbid0IGhhdmUgcG9pbnRlcnMgaW4ganMsIHdlIHVzZSBsZW5jb2RlIGFuZCBkaXN0Y29kZSBkaXJlY3RseVxuICAgYXMgYnVmZmVycyBzbyB3ZSBkb24ndCBuZWVkIGNvZGVzXG4gICovXG4gIC8vdGhpcy5jb2RlcyA9IG5ldyBJbnQzMkFycmF5KEVOT1VHSCk7ICAgICAgIC8qIHNwYWNlIGZvciBjb2RlIHRhYmxlcyAqL1xuICB0aGlzLmxlbmR5biA9IG51bGw7ICAgICAgICAgICAgICAvKiBkeW5hbWljIHRhYmxlIGZvciBsZW5ndGgvbGl0ZXJhbCBjb2RlcyAoSlMgc3BlY2lmaWMpICovXG4gIHRoaXMuZGlzdGR5biA9IG51bGw7ICAgICAgICAgICAgIC8qIGR5bmFtaWMgdGFibGUgZm9yIGRpc3RhbmNlIGNvZGVzIChKUyBzcGVjaWZpYykgKi9cbiAgdGhpcy5zYW5lID0gMDsgICAgICAgICAgICAgICAgICAgLyogaWYgZmFsc2UsIGFsbG93IGludmFsaWQgZGlzdGFuY2UgdG9vIGZhciAqL1xuICB0aGlzLmJhY2sgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBiaXRzIGJhY2sgb2YgbGFzdCB1bnByb2Nlc3NlZCBsZW5ndGgvbGl0ICovXG4gIHRoaXMud2FzID0gMDsgICAgICAgICAgICAgICAgICAgIC8qIGluaXRpYWwgbGVuZ3RoIG9mIG1hdGNoICovXG59XG5cblxuY29uc3QgaW5mbGF0ZVN0YXRlQ2hlY2sgPSAoc3RybSkgPT4ge1xuXG4gIGlmICghc3RybSkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIGNvbnN0IHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgaWYgKCFzdGF0ZSB8fCBzdGF0ZS5zdHJtICE9PSBzdHJtIHx8XG4gICAgc3RhdGUubW9kZSA8IEhFQUQgfHwgc3RhdGUubW9kZSA+IFNZTkMpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICByZXR1cm4gMDtcbn07XG5cblxuY29uc3QgaW5mbGF0ZVJlc2V0S2VlcCA9IChzdHJtKSA9PiB7XG5cbiAgaWYgKGluZmxhdGVTdGF0ZUNoZWNrKHN0cm0pKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUiQxOyB9XG4gIGNvbnN0IHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgc3RybS50b3RhbF9pbiA9IHN0cm0udG90YWxfb3V0ID0gc3RhdGUudG90YWwgPSAwO1xuICBzdHJtLm1zZyA9ICcnOyAvKlpfTlVMTCovXG4gIGlmIChzdGF0ZS53cmFwKSB7ICAgICAgIC8qIHRvIHN1cHBvcnQgaWxsLWNvbmNlaXZlZCBKYXZhIHRlc3Qgc3VpdGUgKi9cbiAgICBzdHJtLmFkbGVyID0gc3RhdGUud3JhcCAmIDE7XG4gIH1cbiAgc3RhdGUubW9kZSA9IEhFQUQ7XG4gIHN0YXRlLmxhc3QgPSAwO1xuICBzdGF0ZS5oYXZlZGljdCA9IDA7XG4gIHN0YXRlLmZsYWdzID0gLTE7XG4gIHN0YXRlLmRtYXggPSAzMjc2ODtcbiAgc3RhdGUuaGVhZCA9IG51bGwvKlpfTlVMTCovO1xuICBzdGF0ZS5ob2xkID0gMDtcbiAgc3RhdGUuYml0cyA9IDA7XG4gIC8vc3RhdGUubGVuY29kZSA9IHN0YXRlLmRpc3Rjb2RlID0gc3RhdGUubmV4dCA9IHN0YXRlLmNvZGVzO1xuICBzdGF0ZS5sZW5jb2RlID0gc3RhdGUubGVuZHluID0gbmV3IEludDMyQXJyYXkoRU5PVUdIX0xFTlMpO1xuICBzdGF0ZS5kaXN0Y29kZSA9IHN0YXRlLmRpc3RkeW4gPSBuZXcgSW50MzJBcnJheShFTk9VR0hfRElTVFMpO1xuXG4gIHN0YXRlLnNhbmUgPSAxO1xuICBzdGF0ZS5iYWNrID0gLTE7XG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogcmVzZXRcXG5cIikpO1xuICByZXR1cm4gWl9PSyQxO1xufTtcblxuXG5jb25zdCBpbmZsYXRlUmVzZXQgPSAoc3RybSkgPT4ge1xuXG4gIGlmIChpbmZsYXRlU3RhdGVDaGVjayhzdHJtKSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1IkMTsgfVxuICBjb25zdCBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIHN0YXRlLndzaXplID0gMDtcbiAgc3RhdGUud2hhdmUgPSAwO1xuICBzdGF0ZS53bmV4dCA9IDA7XG4gIHJldHVybiBpbmZsYXRlUmVzZXRLZWVwKHN0cm0pO1xuXG59O1xuXG5cbmNvbnN0IGluZmxhdGVSZXNldDIgPSAoc3RybSwgd2luZG93Qml0cykgPT4ge1xuICBsZXQgd3JhcDtcblxuICAvKiBnZXQgdGhlIHN0YXRlICovXG4gIGlmIChpbmZsYXRlU3RhdGVDaGVjayhzdHJtKSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1IkMTsgfVxuICBjb25zdCBzdGF0ZSA9IHN0cm0uc3RhdGU7XG5cbiAgLyogZXh0cmFjdCB3cmFwIHJlcXVlc3QgZnJvbSB3aW5kb3dCaXRzIHBhcmFtZXRlciAqL1xuICBpZiAod2luZG93Qml0cyA8IDApIHtcbiAgICB3cmFwID0gMDtcbiAgICB3aW5kb3dCaXRzID0gLXdpbmRvd0JpdHM7XG4gIH1cbiAgZWxzZSB7XG4gICAgd3JhcCA9ICh3aW5kb3dCaXRzID4+IDQpICsgNTtcbiAgICBpZiAod2luZG93Qml0cyA8IDQ4KSB7XG4gICAgICB3aW5kb3dCaXRzICY9IDE1O1xuICAgIH1cbiAgfVxuXG4gIC8qIHNldCBudW1iZXIgb2Ygd2luZG93IGJpdHMsIGZyZWUgd2luZG93IGlmIGRpZmZlcmVudCAqL1xuICBpZiAod2luZG93Qml0cyAmJiAod2luZG93Qml0cyA8IDggfHwgd2luZG93Qml0cyA+IDE1KSkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUiQxO1xuICB9XG4gIGlmIChzdGF0ZS53aW5kb3cgIT09IG51bGwgJiYgc3RhdGUud2JpdHMgIT09IHdpbmRvd0JpdHMpIHtcbiAgICBzdGF0ZS53aW5kb3cgPSBudWxsO1xuICB9XG5cbiAgLyogdXBkYXRlIHN0YXRlIGFuZCByZXNldCB0aGUgcmVzdCBvZiBpdCAqL1xuICBzdGF0ZS53cmFwID0gd3JhcDtcbiAgc3RhdGUud2JpdHMgPSB3aW5kb3dCaXRzO1xuICByZXR1cm4gaW5mbGF0ZVJlc2V0KHN0cm0pO1xufTtcblxuXG5jb25zdCBpbmZsYXRlSW5pdDIgPSAoc3RybSwgd2luZG93Qml0cykgPT4ge1xuXG4gIGlmICghc3RybSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1IkMTsgfVxuICAvL3N0cm0ubXNnID0gWl9OVUxMOyAgICAgICAgICAgICAgICAgLyogaW4gY2FzZSB3ZSByZXR1cm4gYW4gZXJyb3IgKi9cblxuICBjb25zdCBzdGF0ZSA9IG5ldyBJbmZsYXRlU3RhdGUoKTtcblxuICAvL2lmIChzdGF0ZSA9PT0gWl9OVUxMKSByZXR1cm4gWl9NRU1fRVJST1I7XG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogYWxsb2NhdGVkXFxuXCIpKTtcbiAgc3RybS5zdGF0ZSA9IHN0YXRlO1xuICBzdGF0ZS5zdHJtID0gc3RybTtcbiAgc3RhdGUud2luZG93ID0gbnVsbC8qWl9OVUxMKi87XG4gIHN0YXRlLm1vZGUgPSBIRUFEOyAgICAgLyogdG8gcGFzcyBzdGF0ZSB0ZXN0IGluIGluZmxhdGVSZXNldDIoKSAqL1xuICBjb25zdCByZXQgPSBpbmZsYXRlUmVzZXQyKHN0cm0sIHdpbmRvd0JpdHMpO1xuICBpZiAocmV0ICE9PSBaX09LJDEpIHtcbiAgICBzdHJtLnN0YXRlID0gbnVsbC8qWl9OVUxMKi87XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG5cblxuY29uc3QgaW5mbGF0ZUluaXQgPSAoc3RybSkgPT4ge1xuXG4gIHJldHVybiBpbmZsYXRlSW5pdDIoc3RybSwgREVGX1dCSVRTKTtcbn07XG5cblxuLypcbiBSZXR1cm4gc3RhdGUgd2l0aCBsZW5ndGggYW5kIGRpc3RhbmNlIGRlY29kaW5nIHRhYmxlcyBhbmQgaW5kZXggc2l6ZXMgc2V0IHRvXG4gZml4ZWQgY29kZSBkZWNvZGluZy4gIE5vcm1hbGx5IHRoaXMgcmV0dXJucyBmaXhlZCB0YWJsZXMgZnJvbSBpbmZmaXhlZC5oLlxuIElmIEJVSUxERklYRUQgaXMgZGVmaW5lZCwgdGhlbiBpbnN0ZWFkIHRoaXMgcm91dGluZSBidWlsZHMgdGhlIHRhYmxlcyB0aGVcbiBmaXJzdCB0aW1lIGl0J3MgY2FsbGVkLCBhbmQgcmV0dXJucyB0aG9zZSB0YWJsZXMgdGhlIGZpcnN0IHRpbWUgYW5kXG4gdGhlcmVhZnRlci4gIFRoaXMgcmVkdWNlcyB0aGUgc2l6ZSBvZiB0aGUgY29kZSBieSBhYm91dCAySyBieXRlcywgaW5cbiBleGNoYW5nZSBmb3IgYSBsaXR0bGUgZXhlY3V0aW9uIHRpbWUuICBIb3dldmVyLCBCVUlMREZJWEVEIHNob3VsZCBub3QgYmVcbiB1c2VkIGZvciB0aHJlYWRlZCBhcHBsaWNhdGlvbnMsIHNpbmNlIHRoZSByZXdyaXRpbmcgb2YgdGhlIHRhYmxlcyBhbmQgdmlyZ2luXG4gbWF5IG5vdCBiZSB0aHJlYWQtc2FmZS5cbiAqL1xubGV0IHZpcmdpbiA9IHRydWU7XG5cbmxldCBsZW5maXgsIGRpc3RmaXg7IC8vIFdlIGhhdmUgbm8gcG9pbnRlcnMgaW4gSlMsIHNvIGtlZXAgdGFibGVzIHNlcGFyYXRlXG5cblxuY29uc3QgZml4ZWR0YWJsZXMgPSAoc3RhdGUpID0+IHtcblxuICAvKiBidWlsZCBmaXhlZCBodWZmbWFuIHRhYmxlcyBpZiBmaXJzdCBjYWxsIChtYXkgbm90IGJlIHRocmVhZCBzYWZlKSAqL1xuICBpZiAodmlyZ2luKSB7XG4gICAgbGVuZml4ID0gbmV3IEludDMyQXJyYXkoNTEyKTtcbiAgICBkaXN0Zml4ID0gbmV3IEludDMyQXJyYXkoMzIpO1xuXG4gICAgLyogbGl0ZXJhbC9sZW5ndGggdGFibGUgKi9cbiAgICBsZXQgc3ltID0gMDtcbiAgICB3aGlsZSAoc3ltIDwgMTQ0KSB7IHN0YXRlLmxlbnNbc3ltKytdID0gODsgfVxuICAgIHdoaWxlIChzeW0gPCAyNTYpIHsgc3RhdGUubGVuc1tzeW0rK10gPSA5OyB9XG4gICAgd2hpbGUgKHN5bSA8IDI4MCkgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDc7IH1cbiAgICB3aGlsZSAoc3ltIDwgMjg4KSB7IHN0YXRlLmxlbnNbc3ltKytdID0gODsgfVxuXG4gICAgaW5mdHJlZXMoTEVOUywgIHN0YXRlLmxlbnMsIDAsIDI4OCwgbGVuZml4LCAgIDAsIHN0YXRlLndvcmssIHsgYml0czogOSB9KTtcblxuICAgIC8qIGRpc3RhbmNlIHRhYmxlICovXG4gICAgc3ltID0gMDtcbiAgICB3aGlsZSAoc3ltIDwgMzIpIHsgc3RhdGUubGVuc1tzeW0rK10gPSA1OyB9XG5cbiAgICBpbmZ0cmVlcyhESVNUUywgc3RhdGUubGVucywgMCwgMzIsICAgZGlzdGZpeCwgMCwgc3RhdGUud29yaywgeyBiaXRzOiA1IH0pO1xuXG4gICAgLyogZG8gdGhpcyBqdXN0IG9uY2UgKi9cbiAgICB2aXJnaW4gPSBmYWxzZTtcbiAgfVxuXG4gIHN0YXRlLmxlbmNvZGUgPSBsZW5maXg7XG4gIHN0YXRlLmxlbmJpdHMgPSA5O1xuICBzdGF0ZS5kaXN0Y29kZSA9IGRpc3RmaXg7XG4gIHN0YXRlLmRpc3RiaXRzID0gNTtcbn07XG5cblxuLypcbiBVcGRhdGUgdGhlIHdpbmRvdyB3aXRoIHRoZSBsYXN0IHdzaXplIChub3JtYWxseSAzMkspIGJ5dGVzIHdyaXR0ZW4gYmVmb3JlXG4gcmV0dXJuaW5nLiAgSWYgd2luZG93IGRvZXMgbm90IGV4aXN0IHlldCwgY3JlYXRlIGl0LiAgVGhpcyBpcyBvbmx5IGNhbGxlZFxuIHdoZW4gYSB3aW5kb3cgaXMgYWxyZWFkeSBpbiB1c2UsIG9yIHdoZW4gb3V0cHV0IGhhcyBiZWVuIHdyaXR0ZW4gZHVyaW5nIHRoaXNcbiBpbmZsYXRlIGNhbGwsIGJ1dCB0aGUgZW5kIG9mIHRoZSBkZWZsYXRlIHN0cmVhbSBoYXMgbm90IGJlZW4gcmVhY2hlZCB5ZXQuXG4gSXQgaXMgYWxzbyBjYWxsZWQgdG8gY3JlYXRlIGEgd2luZG93IGZvciBkaWN0aW9uYXJ5IGRhdGEgd2hlbiBhIGRpY3Rpb25hcnlcbiBpcyBsb2FkZWQuXG5cbiBQcm92aWRpbmcgb3V0cHV0IGJ1ZmZlcnMgbGFyZ2VyIHRoYW4gMzJLIHRvIGluZmxhdGUoKSBzaG91bGQgcHJvdmlkZSBhIHNwZWVkXG4gYWR2YW50YWdlLCBzaW5jZSBvbmx5IHRoZSBsYXN0IDMySyBvZiBvdXRwdXQgaXMgY29waWVkIHRvIHRoZSBzbGlkaW5nIHdpbmRvd1xuIHVwb24gcmV0dXJuIGZyb20gaW5mbGF0ZSgpLCBhbmQgc2luY2UgYWxsIGRpc3RhbmNlcyBhZnRlciB0aGUgZmlyc3QgMzJLIG9mXG4gb3V0cHV0IHdpbGwgZmFsbCBpbiB0aGUgb3V0cHV0IGRhdGEsIG1ha2luZyBtYXRjaCBjb3BpZXMgc2ltcGxlciBhbmQgZmFzdGVyLlxuIFRoZSBhZHZhbnRhZ2UgbWF5IGJlIGRlcGVuZGVudCBvbiB0aGUgc2l6ZSBvZiB0aGUgcHJvY2Vzc29yJ3MgZGF0YSBjYWNoZXMuXG4gKi9cbmNvbnN0IHVwZGF0ZXdpbmRvdyA9IChzdHJtLCBzcmMsIGVuZCwgY29weSkgPT4ge1xuXG4gIGxldCBkaXN0O1xuICBjb25zdCBzdGF0ZSA9IHN0cm0uc3RhdGU7XG5cbiAgLyogaWYgaXQgaGFzbid0IGJlZW4gZG9uZSBhbHJlYWR5LCBhbGxvY2F0ZSBzcGFjZSBmb3IgdGhlIHdpbmRvdyAqL1xuICBpZiAoc3RhdGUud2luZG93ID09PSBudWxsKSB7XG4gICAgc3RhdGUud3NpemUgPSAxIDw8IHN0YXRlLndiaXRzO1xuICAgIHN0YXRlLnduZXh0ID0gMDtcbiAgICBzdGF0ZS53aGF2ZSA9IDA7XG5cbiAgICBzdGF0ZS53aW5kb3cgPSBuZXcgVWludDhBcnJheShzdGF0ZS53c2l6ZSk7XG4gIH1cblxuICAvKiBjb3B5IHN0YXRlLT53c2l6ZSBvciBsZXNzIG91dHB1dCBieXRlcyBpbnRvIHRoZSBjaXJjdWxhciB3aW5kb3cgKi9cbiAgaWYgKGNvcHkgPj0gc3RhdGUud3NpemUpIHtcbiAgICBzdGF0ZS53aW5kb3cuc2V0KHNyYy5zdWJhcnJheShlbmQgLSBzdGF0ZS53c2l6ZSwgZW5kKSwgMCk7XG4gICAgc3RhdGUud25leHQgPSAwO1xuICAgIHN0YXRlLndoYXZlID0gc3RhdGUud3NpemU7XG4gIH1cbiAgZWxzZSB7XG4gICAgZGlzdCA9IHN0YXRlLndzaXplIC0gc3RhdGUud25leHQ7XG4gICAgaWYgKGRpc3QgPiBjb3B5KSB7XG4gICAgICBkaXN0ID0gY29weTtcbiAgICB9XG4gICAgLy96bWVtY3B5KHN0YXRlLT53aW5kb3cgKyBzdGF0ZS0+d25leHQsIGVuZCAtIGNvcHksIGRpc3QpO1xuICAgIHN0YXRlLndpbmRvdy5zZXQoc3JjLnN1YmFycmF5KGVuZCAtIGNvcHksIGVuZCAtIGNvcHkgKyBkaXN0KSwgc3RhdGUud25leHQpO1xuICAgIGNvcHkgLT0gZGlzdDtcbiAgICBpZiAoY29weSkge1xuICAgICAgLy96bWVtY3B5KHN0YXRlLT53aW5kb3csIGVuZCAtIGNvcHksIGNvcHkpO1xuICAgICAgc3RhdGUud2luZG93LnNldChzcmMuc3ViYXJyYXkoZW5kIC0gY29weSwgZW5kKSwgMCk7XG4gICAgICBzdGF0ZS53bmV4dCA9IGNvcHk7XG4gICAgICBzdGF0ZS53aGF2ZSA9IHN0YXRlLndzaXplO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHN0YXRlLnduZXh0ICs9IGRpc3Q7XG4gICAgICBpZiAoc3RhdGUud25leHQgPT09IHN0YXRlLndzaXplKSB7IHN0YXRlLnduZXh0ID0gMDsgfVxuICAgICAgaWYgKHN0YXRlLndoYXZlIDwgc3RhdGUud3NpemUpIHsgc3RhdGUud2hhdmUgKz0gZGlzdDsgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gMDtcbn07XG5cblxuY29uc3QgaW5mbGF0ZSQyID0gKHN0cm0sIGZsdXNoKSA9PiB7XG5cbiAgbGV0IHN0YXRlO1xuICBsZXQgaW5wdXQsIG91dHB1dDsgICAgICAgICAgLy8gaW5wdXQvb3V0cHV0IGJ1ZmZlcnNcbiAgbGV0IG5leHQ7ICAgICAgICAgICAgICAgICAgIC8qIG5leHQgaW5wdXQgSU5ERVggKi9cbiAgbGV0IHB1dDsgICAgICAgICAgICAgICAgICAgIC8qIG5leHQgb3V0cHV0IElOREVYICovXG4gIGxldCBoYXZlLCBsZWZ0OyAgICAgICAgICAgICAvKiBhdmFpbGFibGUgaW5wdXQgYW5kIG91dHB1dCAqL1xuICBsZXQgaG9sZDsgICAgICAgICAgICAgICAgICAgLyogYml0IGJ1ZmZlciAqL1xuICBsZXQgYml0czsgICAgICAgICAgICAgICAgICAgLyogYml0cyBpbiBiaXQgYnVmZmVyICovXG4gIGxldCBfaW4sIF9vdXQ7ICAgICAgICAgICAgICAvKiBzYXZlIHN0YXJ0aW5nIGF2YWlsYWJsZSBpbnB1dCBhbmQgb3V0cHV0ICovXG4gIGxldCBjb3B5OyAgICAgICAgICAgICAgICAgICAvKiBudW1iZXIgb2Ygc3RvcmVkIG9yIG1hdGNoIGJ5dGVzIHRvIGNvcHkgKi9cbiAgbGV0IGZyb207ICAgICAgICAgICAgICAgICAgIC8qIHdoZXJlIHRvIGNvcHkgbWF0Y2ggYnl0ZXMgZnJvbSAqL1xuICBsZXQgZnJvbV9zb3VyY2U7XG4gIGxldCBoZXJlID0gMDsgICAgICAgICAgICAgICAvKiBjdXJyZW50IGRlY29kaW5nIHRhYmxlIGVudHJ5ICovXG4gIGxldCBoZXJlX2JpdHMsIGhlcmVfb3AsIGhlcmVfdmFsOyAvLyBwYWtlZCBcImhlcmVcIiBkZW5vcm1hbGl6ZWQgKEpTIHNwZWNpZmljKVxuICAvL2xldCBsYXN0OyAgICAgICAgICAgICAgICAgICAvKiBwYXJlbnQgdGFibGUgZW50cnkgKi9cbiAgbGV0IGxhc3RfYml0cywgbGFzdF9vcCwgbGFzdF92YWw7IC8vIHBha2VkIFwibGFzdFwiIGRlbm9ybWFsaXplZCAoSlMgc3BlY2lmaWMpXG4gIGxldCBsZW47ICAgICAgICAgICAgICAgICAgICAvKiBsZW5ndGggdG8gY29weSBmb3IgcmVwZWF0cywgYml0cyB0byBkcm9wICovXG4gIGxldCByZXQ7ICAgICAgICAgICAgICAgICAgICAvKiByZXR1cm4gY29kZSAqL1xuICBjb25zdCBoYnVmID0gbmV3IFVpbnQ4QXJyYXkoNCk7ICAgIC8qIGJ1ZmZlciBmb3IgZ3ppcCBoZWFkZXIgY3JjIGNhbGN1bGF0aW9uICovXG4gIGxldCBvcHRzO1xuXG4gIGxldCBuOyAvLyB0ZW1wb3JhcnkgdmFyaWFibGUgZm9yIE5FRURfQklUU1xuXG4gIGNvbnN0IG9yZGVyID0gLyogcGVybXV0YXRpb24gb2YgY29kZSBsZW5ndGhzICovXG4gICAgbmV3IFVpbnQ4QXJyYXkoWyAxNiwgMTcsIDE4LCAwLCA4LCA3LCA5LCA2LCAxMCwgNSwgMTEsIDQsIDEyLCAzLCAxMywgMiwgMTQsIDEsIDE1IF0pO1xuXG5cbiAgaWYgKGluZmxhdGVTdGF0ZUNoZWNrKHN0cm0pIHx8ICFzdHJtLm91dHB1dCB8fFxuICAgICAgKCFzdHJtLmlucHV0ICYmIHN0cm0uYXZhaWxfaW4gIT09IDApKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDE7XG4gIH1cblxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIGlmIChzdGF0ZS5tb2RlID09PSBUWVBFKSB7IHN0YXRlLm1vZGUgPSBUWVBFRE87IH0gICAgLyogc2tpcCBjaGVjayAqL1xuXG5cbiAgLy8tLS0gTE9BRCgpIC0tLVxuICBwdXQgPSBzdHJtLm5leHRfb3V0O1xuICBvdXRwdXQgPSBzdHJtLm91dHB1dDtcbiAgbGVmdCA9IHN0cm0uYXZhaWxfb3V0O1xuICBuZXh0ID0gc3RybS5uZXh0X2luO1xuICBpbnB1dCA9IHN0cm0uaW5wdXQ7XG4gIGhhdmUgPSBzdHJtLmF2YWlsX2luO1xuICBob2xkID0gc3RhdGUuaG9sZDtcbiAgYml0cyA9IHN0YXRlLmJpdHM7XG4gIC8vLS0tXG5cbiAgX2luID0gaGF2ZTtcbiAgX291dCA9IGxlZnQ7XG4gIHJldCA9IFpfT0skMTtcblxuICBpbmZfbGVhdmU6IC8vIGdvdG8gZW11bGF0aW9uXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKHN0YXRlLm1vZGUpIHtcbiAgICAgIGNhc2UgSEVBRDpcbiAgICAgICAgaWYgKHN0YXRlLndyYXAgPT09IDApIHtcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRURPO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTtcbiAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoKHN0YXRlLndyYXAgJiAyKSAmJiBob2xkID09PSAweDhiMWYpIHsgIC8qIGd6aXAgaGVhZGVyICovXG4gICAgICAgICAgaWYgKHN0YXRlLndiaXRzID09PSAwKSB7XG4gICAgICAgICAgICBzdGF0ZS53Yml0cyA9IDE1O1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IDAvKmNyYzMyKDBMLCBaX05VTEwsIDApKi87XG4gICAgICAgICAgLy89PT0gQ1JDMihzdGF0ZS5jaGVjaywgaG9sZCk7XG4gICAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzJfMShzdGF0ZS5jaGVjaywgaGJ1ZiwgMiwgMCk7XG4gICAgICAgICAgLy89PT0vL1xuXG4gICAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgICBob2xkID0gMDtcbiAgICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgc3RhdGUubW9kZSA9IEZMQUdTO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC5kb25lID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoc3RhdGUud3JhcCAmIDEpIHx8ICAgLyogY2hlY2sgaWYgemxpYiBoZWFkZXIgYWxsb3dlZCAqL1xuICAgICAgICAgICgoKGhvbGQgJiAweGZmKS8qQklUUyg4KSovIDw8IDgpICsgKGhvbGQgPj4gOCkpICUgMzEpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbmNvcnJlY3QgaGVhZGVyIGNoZWNrJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoaG9sZCAmIDB4MGYpLypCSVRTKDQpKi8gIT09IFpfREVGTEFURUQpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICd1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZCc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLy0tLSBEUk9QQklUUyg0KSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gNDtcbiAgICAgICAgYml0cyAtPSA0O1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIGxlbiA9IChob2xkICYgMHgwZikvKkJJVFMoNCkqLyArIDg7XG4gICAgICAgIGlmIChzdGF0ZS53Yml0cyA9PT0gMCkge1xuICAgICAgICAgIHN0YXRlLndiaXRzID0gbGVuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZW4gPiAxNSB8fCBsZW4gPiBzdGF0ZS53Yml0cykge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgd2luZG93IHNpemUnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAhISEgcGFrbyBwYXRjaC4gRm9yY2UgdXNlIGBvcHRpb25zLndpbmRvd0JpdHNgIGlmIHBhc3NlZC5cbiAgICAgICAgLy8gUmVxdWlyZWQgdG8gYWx3YXlzIHVzZSBtYXggd2luZG93IHNpemUgYnkgZGVmYXVsdC5cbiAgICAgICAgc3RhdGUuZG1heCA9IDEgPDwgc3RhdGUud2JpdHM7XG4gICAgICAgIC8vc3RhdGUuZG1heCA9IDEgPDwgbGVuO1xuXG4gICAgICAgIHN0YXRlLmZsYWdzID0gMDsgICAgICAgICAgICAgICAvKiBpbmRpY2F0ZSB6bGliIGhlYWRlciAqL1xuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgemxpYiBoZWFkZXIgb2tcXG5cIikpO1xuICAgICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSAxLyphZGxlcjMyKDBMLCBaX05VTEwsIDApKi87XG4gICAgICAgIHN0YXRlLm1vZGUgPSBob2xkICYgMHgyMDAgPyBESUNUSUQgOiBUWVBFO1xuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEZMQUdTOlxuICAgICAgICAvLz09PSBORUVEQklUUygxNik7ICovXG4gICAgICAgIHdoaWxlIChiaXRzIDwgMTYpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUuZmxhZ3MgPSBob2xkO1xuICAgICAgICBpZiAoKHN0YXRlLmZsYWdzICYgMHhmZikgIT09IFpfREVGTEFURUQpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICd1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZCc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweGUwMDApIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICd1bmtub3duIGhlYWRlciBmbGFncyBzZXQnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICBzdGF0ZS5oZWFkLnRleHQgPSAoKGhvbGQgPj4gOCkgJiAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHN0YXRlLmZsYWdzICYgMHgwMjAwKSAmJiAoc3RhdGUud3JhcCAmIDQpKSB7XG4gICAgICAgICAgLy89PT0gQ1JDMihzdGF0ZS5jaGVjaywgaG9sZCk7XG4gICAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzJfMShzdGF0ZS5jaGVjaywgaGJ1ZiwgMiwgMCk7XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICB9XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5tb2RlID0gVElNRTtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBUSU1FOlxuICAgICAgICAvLz09PSBORUVEQklUUygzMik7ICovXG4gICAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICBzdGF0ZS5oZWFkLnRpbWUgPSBob2xkO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoc3RhdGUuZmxhZ3MgJiAweDAyMDApICYmIChzdGF0ZS53cmFwICYgNCkpIHtcbiAgICAgICAgICAvLz09PSBDUkM0KHN0YXRlLmNoZWNrLCBob2xkKVxuICAgICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICBoYnVmWzJdID0gKGhvbGQgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgaGJ1ZlszXSA9IChob2xkID4+PiAyNCkgJiAweGZmO1xuICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzJfMShzdGF0ZS5jaGVjaywgaGJ1ZiwgNCwgMCk7XG4gICAgICAgICAgLy89PT1cbiAgICAgICAgfVxuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubW9kZSA9IE9TO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIE9TOlxuICAgICAgICAvLz09PSBORUVEQklUUygxNik7ICovXG4gICAgICAgIHdoaWxlIChiaXRzIDwgMTYpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICBzdGF0ZS5oZWFkLnhmbGFncyA9IChob2xkICYgMHhmZik7XG4gICAgICAgICAgc3RhdGUuaGVhZC5vcyA9IChob2xkID4+IDgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoc3RhdGUuZmxhZ3MgJiAweDAyMDApICYmIChzdGF0ZS53cmFwICYgNCkpIHtcbiAgICAgICAgICAvLz09PSBDUkMyKHN0YXRlLmNoZWNrLCBob2xkKTtcbiAgICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMl8xKHN0YXRlLmNoZWNrLCBoYnVmLCAyLCAwKTtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm1vZGUgPSBFWExFTjtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBFWExFTjpcbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwNDAwKSB7XG4gICAgICAgICAgLy89PT0gTkVFREJJVFMoMTYpOyAqL1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgMTYpIHtcbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBzdGF0ZS5sZW5ndGggPSBob2xkO1xuICAgICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhX2xlbiA9IGhvbGQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgoc3RhdGUuZmxhZ3MgJiAweDAyMDApICYmIChzdGF0ZS53cmFwICYgNCkpIHtcbiAgICAgICAgICAgIC8vPT09IENSQzIoc3RhdGUuY2hlY2ssIGhvbGQpO1xuICAgICAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyXzEoc3RhdGUuY2hlY2ssIGhidWYsIDIsIDApO1xuICAgICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICAgIGhvbGQgPSAwO1xuICAgICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC5leHRyYSA9IG51bGwvKlpfTlVMTCovO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm1vZGUgPSBFWFRSQTtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBFWFRSQTpcbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwNDAwKSB7XG4gICAgICAgICAgY29weSA9IHN0YXRlLmxlbmd0aDtcbiAgICAgICAgICBpZiAoY29weSA+IGhhdmUpIHsgY29weSA9IGhhdmU7IH1cbiAgICAgICAgICBpZiAoY29weSkge1xuICAgICAgICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICAgICAgbGVuID0gc3RhdGUuaGVhZC5leHRyYV9sZW4gLSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgICAgICAgIGlmICghc3RhdGUuaGVhZC5leHRyYSkge1xuICAgICAgICAgICAgICAgIC8vIFVzZSB1bnR5cGVkIGFycmF5IGZvciBtb3JlIGNvbnZlbmllbnQgcHJvY2Vzc2luZyBsYXRlclxuICAgICAgICAgICAgICAgIHN0YXRlLmhlYWQuZXh0cmEgPSBuZXcgVWludDhBcnJheShzdGF0ZS5oZWFkLmV4dHJhX2xlbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3RhdGUuaGVhZC5leHRyYS5zZXQoXG4gICAgICAgICAgICAgICAgaW5wdXQuc3ViYXJyYXkoXG4gICAgICAgICAgICAgICAgICBuZXh0LFxuICAgICAgICAgICAgICAgICAgLy8gZXh0cmEgZmllbGQgaXMgbGltaXRlZCB0byA2NTUzNiBieXRlc1xuICAgICAgICAgICAgICAgICAgLy8gLSBubyBuZWVkIGZvciBhZGRpdGlvbmFsIHNpemUgY2hlY2tcbiAgICAgICAgICAgICAgICAgIG5leHQgKyBjb3B5XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAvKmxlbiArIGNvcHkgPiBzdGF0ZS5oZWFkLmV4dHJhX21heCAtIGxlbiA/IHN0YXRlLmhlYWQuZXh0cmFfbWF4IDogY29weSwqL1xuICAgICAgICAgICAgICAgIGxlblxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAvL3ptZW1jcHkoc3RhdGUuaGVhZC5leHRyYSArIGxlbiwgbmV4dCxcbiAgICAgICAgICAgICAgLy8gICAgICAgIGxlbiArIGNvcHkgPiBzdGF0ZS5oZWFkLmV4dHJhX21heCA/XG4gICAgICAgICAgICAgIC8vICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhX21heCAtIGxlbiA6IGNvcHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChzdGF0ZS5mbGFncyAmIDB4MDIwMCkgJiYgKHN0YXRlLndyYXAgJiA0KSkge1xuICAgICAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyXzEoc3RhdGUuY2hlY2ssIGlucHV0LCBjb3B5LCBuZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgICAgIG5leHQgKz0gY29weTtcbiAgICAgICAgICAgIHN0YXRlLmxlbmd0aCAtPSBjb3B5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3RhdGUubGVuZ3RoKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmxlbmd0aCA9IDA7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBOQU1FO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIE5BTUU6XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDgwMCkge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGNvcHkgPSAwO1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8vIFRPRE86IDIgb3IgMSBieXRlcz9cbiAgICAgICAgICAgIGxlbiA9IGlucHV0W25leHQgKyBjb3B5KytdO1xuICAgICAgICAgICAgLyogdXNlIGNvbnN0YW50IGxpbWl0IGJlY2F1c2UgaW4ganMgd2Ugc2hvdWxkIG5vdCBwcmVhbGxvY2F0ZSBtZW1vcnkgKi9cbiAgICAgICAgICAgIGlmIChzdGF0ZS5oZWFkICYmIGxlbiAmJlxuICAgICAgICAgICAgICAgIChzdGF0ZS5sZW5ndGggPCA2NTUzNiAvKnN0YXRlLmhlYWQubmFtZV9tYXgqLykpIHtcbiAgICAgICAgICAgICAgc3RhdGUuaGVhZC5uYW1lICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IHdoaWxlIChsZW4gJiYgY29weSA8IGhhdmUpO1xuXG4gICAgICAgICAgaWYgKChzdGF0ZS5mbGFncyAmIDB4MDIwMCkgJiYgKHN0YXRlLndyYXAgJiA0KSkge1xuICAgICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMl8xKHN0YXRlLmNoZWNrLCBpbnB1dCwgY29weSwgbmV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgICAgaWYgKGxlbikgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC5uYW1lID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5sZW5ndGggPSAwO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQ09NTUVOVDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBDT01NRU5UOlxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDEwMDApIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBjb3B5ID0gMDtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBsZW4gPSBpbnB1dFtuZXh0ICsgY29weSsrXTtcbiAgICAgICAgICAgIC8qIHVzZSBjb25zdGFudCBsaW1pdCBiZWNhdXNlIGluIGpzIHdlIHNob3VsZCBub3QgcHJlYWxsb2NhdGUgbWVtb3J5ICovXG4gICAgICAgICAgICBpZiAoc3RhdGUuaGVhZCAmJiBsZW4gJiZcbiAgICAgICAgICAgICAgICAoc3RhdGUubGVuZ3RoIDwgNjU1MzYgLypzdGF0ZS5oZWFkLmNvbW1fbWF4Ki8pKSB7XG4gICAgICAgICAgICAgIHN0YXRlLmhlYWQuY29tbWVudCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGxlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSB3aGlsZSAobGVuICYmIGNvcHkgPCBoYXZlKTtcbiAgICAgICAgICBpZiAoKHN0YXRlLmZsYWdzICYgMHgwMjAwKSAmJiAoc3RhdGUud3JhcCAmIDQpKSB7XG4gICAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyXzEoc3RhdGUuY2hlY2ssIGlucHV0LCBjb3B5LCBuZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGF2ZSAtPSBjb3B5O1xuICAgICAgICAgIG5leHQgKz0gY29weTtcbiAgICAgICAgICBpZiAobGVuKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICBzdGF0ZS5oZWFkLmNvbW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm1vZGUgPSBIQ1JDO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIEhDUkM6XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgaWYgKChzdGF0ZS53cmFwICYgNCkgJiYgaG9sZCAhPT0gKHN0YXRlLmNoZWNrICYgMHhmZmZmKSkge1xuICAgICAgICAgICAgc3RybS5tc2cgPSAnaGVhZGVyIGNyYyBtaXNtYXRjaCc7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgICAgYml0cyA9IDA7XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC5oY3JjID0gKChzdGF0ZS5mbGFncyA+PiA5KSAmIDEpO1xuICAgICAgICAgIHN0YXRlLmhlYWQuZG9uZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0gMDtcbiAgICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESUNUSUQ6XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDMyKTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSB6c3dhcDMyKGhvbGQpO1xuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubW9kZSA9IERJQ1Q7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgRElDVDpcbiAgICAgICAgaWYgKHN0YXRlLmhhdmVkaWN0ID09PSAwKSB7XG4gICAgICAgICAgLy8tLS0gUkVTVE9SRSgpIC0tLVxuICAgICAgICAgIHN0cm0ubmV4dF9vdXQgPSBwdXQ7XG4gICAgICAgICAgc3RybS5hdmFpbF9vdXQgPSBsZWZ0O1xuICAgICAgICAgIHN0cm0ubmV4dF9pbiA9IG5leHQ7XG4gICAgICAgICAgc3RybS5hdmFpbF9pbiA9IGhhdmU7XG4gICAgICAgICAgc3RhdGUuaG9sZCA9IGhvbGQ7XG4gICAgICAgICAgc3RhdGUuYml0cyA9IGJpdHM7XG4gICAgICAgICAgLy8tLS1cbiAgICAgICAgICByZXR1cm4gWl9ORUVEX0RJQ1QkMTtcbiAgICAgICAgfVxuICAgICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSAxLyphZGxlcjMyKDBMLCBaX05VTEwsIDApKi87XG4gICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIFRZUEU6XG4gICAgICAgIGlmIChmbHVzaCA9PT0gWl9CTE9DSyB8fCBmbHVzaCA9PT0gWl9UUkVFUykgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBUWVBFRE86XG4gICAgICAgIGlmIChzdGF0ZS5sYXN0KSB7XG4gICAgICAgICAgLy8tLS0gQllURUJJVFMoKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSBiaXRzICYgNztcbiAgICAgICAgICBiaXRzIC09IGJpdHMgJiA3O1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQ0hFQ0s7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gTkVFREJJVFMoMyk7ICovXG4gICAgICAgIHdoaWxlIChiaXRzIDwgMykge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5sYXN0ID0gKGhvbGQgJiAweDAxKS8qQklUUygxKSovO1xuICAgICAgICAvLy0tLSBEUk9QQklUUygxKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gMTtcbiAgICAgICAgYml0cyAtPSAxO1xuICAgICAgICAvLy0tLS8vXG5cbiAgICAgICAgc3dpdGNoICgoaG9sZCAmIDB4MDMpLypCSVRTKDIpKi8pIHtcbiAgICAgICAgICBjYXNlIDA6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBzdG9yZWQgYmxvY2sgKi9cbiAgICAgICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgIHN0b3JlZCBibG9jayVzXFxuXCIsXG4gICAgICAgICAgICAvLyAgICAgICAgc3RhdGUubGFzdCA/IFwiIChsYXN0KVwiIDogXCJcIikpO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IFNUT1JFRDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTogICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGZpeGVkIGJsb2NrICovXG4gICAgICAgICAgICBmaXhlZHRhYmxlcyhzdGF0ZSk7XG4gICAgICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICBmaXhlZCBjb2RlcyBibG9jayVzXFxuXCIsXG4gICAgICAgICAgICAvLyAgICAgICAgc3RhdGUubGFzdCA/IFwiIChsYXN0KVwiIDogXCJcIikpO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IExFTl87ICAgICAgICAgICAgIC8qIGRlY29kZSBjb2RlcyAqL1xuICAgICAgICAgICAgaWYgKGZsdXNoID09PSBaX1RSRUVTKSB7XG4gICAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKDIpIC0tLS8vXG4gICAgICAgICAgICAgIGhvbGQgPj4+PSAyO1xuICAgICAgICAgICAgICBiaXRzIC09IDI7XG4gICAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZHluYW1pYyBibG9jayAqL1xuICAgICAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgZHluYW1pYyBjb2RlcyBibG9jayVzXFxuXCIsXG4gICAgICAgICAgICAvLyAgICAgICAgc3RhdGUubGFzdCA/IFwiIChsYXN0KVwiIDogXCJcIikpO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IFRBQkxFO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBibG9jayB0eXBlJztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoMikgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IDI7XG4gICAgICAgIGJpdHMgLT0gMjtcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU1RPUkVEOlxuICAgICAgICAvLy0tLSBCWVRFQklUUygpIC0tLS8vIC8qIGdvIHRvIGJ5dGUgYm91bmRhcnkgKi9cbiAgICAgICAgaG9sZCA+Pj49IGJpdHMgJiA3O1xuICAgICAgICBiaXRzIC09IGJpdHMgJiA3O1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIC8vPT09IE5FRURCSVRTKDMyKTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoKGhvbGQgJiAweGZmZmYpICE9PSAoKGhvbGQgPj4+IDE2KSBeIDB4ZmZmZikpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmxlbmd0aCA9IGhvbGQgJiAweGZmZmY7XG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgc3RvcmVkIGxlbmd0aCAldVxcblwiLFxuICAgICAgICAvLyAgICAgICAgc3RhdGUubGVuZ3RoKSk7XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5tb2RlID0gQ09QWV87XG4gICAgICAgIGlmIChmbHVzaCA9PT0gWl9UUkVFUykgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBDT1BZXzpcbiAgICAgICAgc3RhdGUubW9kZSA9IENPUFk7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgQ09QWTpcbiAgICAgICAgY29weSA9IHN0YXRlLmxlbmd0aDtcbiAgICAgICAgaWYgKGNvcHkpIHtcbiAgICAgICAgICBpZiAoY29weSA+IGhhdmUpIHsgY29weSA9IGhhdmU7IH1cbiAgICAgICAgICBpZiAoY29weSA+IGxlZnQpIHsgY29weSA9IGxlZnQ7IH1cbiAgICAgICAgICBpZiAoY29weSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAvLy0tLSB6bWVtY3B5KHB1dCwgbmV4dCwgY29weSk7IC0tLVxuICAgICAgICAgIG91dHB1dC5zZXQoaW5wdXQuc3ViYXJyYXkobmV4dCwgbmV4dCArIGNvcHkpLCBwdXQpO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBoYXZlIC09IGNvcHk7XG4gICAgICAgICAgbmV4dCArPSBjb3B5O1xuICAgICAgICAgIGxlZnQgLT0gY29weTtcbiAgICAgICAgICBwdXQgKz0gY29weTtcbiAgICAgICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgIHN0b3JlZCBlbmRcXG5cIikpO1xuICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRBQkxFOlxuICAgICAgICAvLz09PSBORUVEQklUUygxNCk7ICovXG4gICAgICAgIHdoaWxlIChiaXRzIDwgMTQpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubmxlbiA9IChob2xkICYgMHgxZikvKkJJVFMoNSkqLyArIDI1NztcbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoNSkgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IDU7XG4gICAgICAgIGJpdHMgLT0gNTtcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBzdGF0ZS5uZGlzdCA9IChob2xkICYgMHgxZikvKkJJVFMoNSkqLyArIDE7XG4gICAgICAgIC8vLS0tIERST1BCSVRTKDUpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSA1O1xuICAgICAgICBiaXRzIC09IDU7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUubmNvZGUgPSAoaG9sZCAmIDB4MGYpLypCSVRTKDQpKi8gKyA0O1xuICAgICAgICAvLy0tLSBEUk9QQklUUyg0KSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gNDtcbiAgICAgICAgYml0cyAtPSA0O1xuICAgICAgICAvLy0tLS8vXG4vLyNpZm5kZWYgUEtaSVBfQlVHX1dPUktBUk9VTkRcbiAgICAgICAgaWYgKHN0YXRlLm5sZW4gPiAyODYgfHwgc3RhdGUubmRpc3QgPiAzMCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ3RvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4vLyNlbmRpZlxuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgIHRhYmxlIHNpemVzIG9rXFxuXCIpKTtcbiAgICAgICAgc3RhdGUuaGF2ZSA9IDA7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMRU5MRU5TO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIExFTkxFTlM6XG4gICAgICAgIHdoaWxlIChzdGF0ZS5oYXZlIDwgc3RhdGUubmNvZGUpIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUygzKTtcbiAgICAgICAgICB3aGlsZSAoYml0cyA8IDMpIHtcbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBzdGF0ZS5sZW5zW29yZGVyW3N0YXRlLmhhdmUrK11dID0gKGhvbGQgJiAweDA3KTsvL0JJVFMoMyk7XG4gICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMykgLS0tLy9cbiAgICAgICAgICBob2xkID4+Pj0gMztcbiAgICAgICAgICBiaXRzIC09IDM7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChzdGF0ZS5oYXZlIDwgMTkpIHtcbiAgICAgICAgICBzdGF0ZS5sZW5zW29yZGVyW3N0YXRlLmhhdmUrK11dID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBoYXZlIHNlcGFyYXRlIHRhYmxlcyAmIG5vIHBvaW50ZXJzLiAyIGNvbW1lbnRlZCBsaW5lcyBiZWxvdyBub3QgbmVlZGVkLlxuICAgICAgICAvL3N0YXRlLm5leHQgPSBzdGF0ZS5jb2RlcztcbiAgICAgICAgLy9zdGF0ZS5sZW5jb2RlID0gc3RhdGUubmV4dDtcbiAgICAgICAgLy8gU3dpdGNoIHRvIHVzZSBkeW5hbWljIHRhYmxlXG4gICAgICAgIHN0YXRlLmxlbmNvZGUgPSBzdGF0ZS5sZW5keW47XG4gICAgICAgIHN0YXRlLmxlbmJpdHMgPSA3O1xuXG4gICAgICAgIG9wdHMgPSB7IGJpdHM6IHN0YXRlLmxlbmJpdHMgfTtcbiAgICAgICAgcmV0ID0gaW5mdHJlZXMoQ09ERVMsIHN0YXRlLmxlbnMsIDAsIDE5LCBzdGF0ZS5sZW5jb2RlLCAwLCBzdGF0ZS53b3JrLCBvcHRzKTtcbiAgICAgICAgc3RhdGUubGVuYml0cyA9IG9wdHMuYml0cztcblxuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBjb2RlIGxlbmd0aHMgc2V0JztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgY29kZSBsZW5ndGhzIG9rXFxuXCIpKTtcbiAgICAgICAgc3RhdGUuaGF2ZSA9IDA7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBDT0RFTEVOUztcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBDT0RFTEVOUzpcbiAgICAgICAgd2hpbGUgKHN0YXRlLmhhdmUgPCBzdGF0ZS5ubGVuICsgc3RhdGUubmRpc3QpIHtcbiAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBoZXJlID0gc3RhdGUubGVuY29kZVtob2xkICYgKCgxIDw8IHN0YXRlLmxlbmJpdHMpIC0gMSldOy8qQklUUyhzdGF0ZS5sZW5iaXRzKSovXG4gICAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICAgICAgaWYgKChoZXJlX2JpdHMpIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoZXJlX3ZhbCA8IDE2KSB7XG4gICAgICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICBzdGF0ZS5sZW5zW3N0YXRlLmhhdmUrK10gPSBoZXJlX3ZhbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoaGVyZV92YWwgPT09IDE2KSB7XG4gICAgICAgICAgICAgIC8vPT09IE5FRURCSVRTKGhlcmUuYml0cyArIDIpO1xuICAgICAgICAgICAgICBuID0gaGVyZV9iaXRzICsgMjtcbiAgICAgICAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgICAgaWYgKHN0YXRlLmhhdmUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0JztcbiAgICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxlbiA9IHN0YXRlLmxlbnNbc3RhdGUuaGF2ZSAtIDFdO1xuICAgICAgICAgICAgICBjb3B5ID0gMyArIChob2xkICYgMHgwMyk7Ly9CSVRTKDIpO1xuICAgICAgICAgICAgICAvLy0tLSBEUk9QQklUUygyKSAtLS0vL1xuICAgICAgICAgICAgICBob2xkID4+Pj0gMjtcbiAgICAgICAgICAgICAgYml0cyAtPSAyO1xuICAgICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZXJlX3ZhbCA9PT0gMTcpIHtcbiAgICAgICAgICAgICAgLy89PT0gTkVFREJJVFMoaGVyZS5iaXRzICsgMyk7XG4gICAgICAgICAgICAgIG4gPSBoZXJlX2JpdHMgKyAzO1xuICAgICAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgICBsZW4gPSAwO1xuICAgICAgICAgICAgICBjb3B5ID0gMyArIChob2xkICYgMHgwNyk7Ly9CSVRTKDMpO1xuICAgICAgICAgICAgICAvLy0tLSBEUk9QQklUUygzKSAtLS0vL1xuICAgICAgICAgICAgICBob2xkID4+Pj0gMztcbiAgICAgICAgICAgICAgYml0cyAtPSAzO1xuICAgICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgLy89PT0gTkVFREJJVFMoaGVyZS5iaXRzICsgNyk7XG4gICAgICAgICAgICAgIG4gPSBoZXJlX2JpdHMgKyA3O1xuICAgICAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgICBsZW4gPSAwO1xuICAgICAgICAgICAgICBjb3B5ID0gMTEgKyAoaG9sZCAmIDB4N2YpOy8vQklUUyg3KTtcbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoNykgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IDc7XG4gICAgICAgICAgICAgIGJpdHMgLT0gNztcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXRlLmhhdmUgKyBjb3B5ID4gc3RhdGUubmxlbiArIHN0YXRlLm5kaXN0KSB7XG4gICAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgYml0IGxlbmd0aCByZXBlYXQnO1xuICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChjb3B5LS0pIHtcbiAgICAgICAgICAgICAgc3RhdGUubGVuc1tzdGF0ZS5oYXZlKytdID0gbGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qIGhhbmRsZSBlcnJvciBicmVha3MgaW4gd2hpbGUgKi9cbiAgICAgICAgaWYgKHN0YXRlLm1vZGUgPT09IEJBRCkgeyBicmVhazsgfVxuXG4gICAgICAgIC8qIGNoZWNrIGZvciBlbmQtb2YtYmxvY2sgY29kZSAoYmV0dGVyIGhhdmUgb25lKSAqL1xuICAgICAgICBpZiAoc3RhdGUubGVuc1syNTZdID09PSAwKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBjb2RlIC0tIG1pc3NpbmcgZW5kLW9mLWJsb2NrJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogYnVpbGQgY29kZSB0YWJsZXMgLS0gbm90ZTogZG8gbm90IGNoYW5nZSB0aGUgbGVuYml0cyBvciBkaXN0Yml0c1xuICAgICAgICAgICB2YWx1ZXMgaGVyZSAoOSBhbmQgNikgd2l0aG91dCByZWFkaW5nIHRoZSBjb21tZW50cyBpbiBpbmZ0cmVlcy5oXG4gICAgICAgICAgIGNvbmNlcm5pbmcgdGhlIEVOT1VHSCBjb25zdGFudHMsIHdoaWNoIGRlcGVuZCBvbiB0aG9zZSB2YWx1ZXMgKi9cbiAgICAgICAgc3RhdGUubGVuYml0cyA9IDk7XG5cbiAgICAgICAgb3B0cyA9IHsgYml0czogc3RhdGUubGVuYml0cyB9O1xuICAgICAgICByZXQgPSBpbmZ0cmVlcyhMRU5TLCBzdGF0ZS5sZW5zLCAwLCBzdGF0ZS5ubGVuLCBzdGF0ZS5sZW5jb2RlLCAwLCBzdGF0ZS53b3JrLCBvcHRzKTtcbiAgICAgICAgLy8gV2UgaGF2ZSBzZXBhcmF0ZSB0YWJsZXMgJiBubyBwb2ludGVycy4gMiBjb21tZW50ZWQgbGluZXMgYmVsb3cgbm90IG5lZWRlZC5cbiAgICAgICAgLy8gc3RhdGUubmV4dF9pbmRleCA9IG9wdHMudGFibGVfaW5kZXg7XG4gICAgICAgIHN0YXRlLmxlbmJpdHMgPSBvcHRzLmJpdHM7XG4gICAgICAgIC8vIHN0YXRlLmxlbmNvZGUgPSBzdGF0ZS5uZXh0O1xuXG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGxpdGVyYWwvbGVuZ3RocyBzZXQnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZS5kaXN0Yml0cyA9IDY7XG4gICAgICAgIC8vc3RhdGUuZGlzdGNvZGUuY29weShzdGF0ZS5jb2Rlcyk7XG4gICAgICAgIC8vIFN3aXRjaCB0byB1c2UgZHluYW1pYyB0YWJsZVxuICAgICAgICBzdGF0ZS5kaXN0Y29kZSA9IHN0YXRlLmRpc3RkeW47XG4gICAgICAgIG9wdHMgPSB7IGJpdHM6IHN0YXRlLmRpc3RiaXRzIH07XG4gICAgICAgIHJldCA9IGluZnRyZWVzKERJU1RTLCBzdGF0ZS5sZW5zLCBzdGF0ZS5ubGVuLCBzdGF0ZS5uZGlzdCwgc3RhdGUuZGlzdGNvZGUsIDAsIHN0YXRlLndvcmssIG9wdHMpO1xuICAgICAgICAvLyBXZSBoYXZlIHNlcGFyYXRlIHRhYmxlcyAmIG5vIHBvaW50ZXJzLiAyIGNvbW1lbnRlZCBsaW5lcyBiZWxvdyBub3QgbmVlZGVkLlxuICAgICAgICAvLyBzdGF0ZS5uZXh0X2luZGV4ID0gb3B0cy50YWJsZV9pbmRleDtcbiAgICAgICAgc3RhdGUuZGlzdGJpdHMgPSBvcHRzLmJpdHM7XG4gICAgICAgIC8vIHN0YXRlLmRpc3Rjb2RlID0gc3RhdGUubmV4dDtcblxuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZXMgc2V0JztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsICdpbmZsYXRlOiAgICAgICBjb2RlcyBva1xcbicpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IExFTl87XG4gICAgICAgIGlmIChmbHVzaCA9PT0gWl9UUkVFUykgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBMRU5fOlxuICAgICAgICBzdGF0ZS5tb2RlID0gTEVOO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIExFTjpcbiAgICAgICAgaWYgKGhhdmUgPj0gNiAmJiBsZWZ0ID49IDI1OCkge1xuICAgICAgICAgIC8vLS0tIFJFU1RPUkUoKSAtLS1cbiAgICAgICAgICBzdHJtLm5leHRfb3V0ID0gcHV0O1xuICAgICAgICAgIHN0cm0uYXZhaWxfb3V0ID0gbGVmdDtcbiAgICAgICAgICBzdHJtLm5leHRfaW4gPSBuZXh0O1xuICAgICAgICAgIHN0cm0uYXZhaWxfaW4gPSBoYXZlO1xuICAgICAgICAgIHN0YXRlLmhvbGQgPSBob2xkO1xuICAgICAgICAgIHN0YXRlLmJpdHMgPSBiaXRzO1xuICAgICAgICAgIC8vLS0tXG4gICAgICAgICAgaW5mZmFzdChzdHJtLCBfb3V0KTtcbiAgICAgICAgICAvLy0tLSBMT0FEKCkgLS0tXG4gICAgICAgICAgcHV0ID0gc3RybS5uZXh0X291dDtcbiAgICAgICAgICBvdXRwdXQgPSBzdHJtLm91dHB1dDtcbiAgICAgICAgICBsZWZ0ID0gc3RybS5hdmFpbF9vdXQ7XG4gICAgICAgICAgbmV4dCA9IHN0cm0ubmV4dF9pbjtcbiAgICAgICAgICBpbnB1dCA9IHN0cm0uaW5wdXQ7XG4gICAgICAgICAgaGF2ZSA9IHN0cm0uYXZhaWxfaW47XG4gICAgICAgICAgaG9sZCA9IHN0YXRlLmhvbGQ7XG4gICAgICAgICAgYml0cyA9IHN0YXRlLmJpdHM7XG4gICAgICAgICAgLy8tLS1cblxuICAgICAgICAgIGlmIChzdGF0ZS5tb2RlID09PSBUWVBFKSB7XG4gICAgICAgICAgICBzdGF0ZS5iYWNrID0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmJhY2sgPSAwO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgaGVyZSA9IHN0YXRlLmxlbmNvZGVbaG9sZCAmICgoMSA8PCBzdGF0ZS5sZW5iaXRzKSAtIDEpXTsgIC8qQklUUyhzdGF0ZS5sZW5iaXRzKSovXG4gICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgaGVyZV9vcCA9IChoZXJlID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICAgIGlmIChoZXJlX2JpdHMgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVyZV9vcCAmJiAoaGVyZV9vcCAmIDB4ZjApID09PSAwKSB7XG4gICAgICAgICAgbGFzdF9iaXRzID0gaGVyZV9iaXRzO1xuICAgICAgICAgIGxhc3Rfb3AgPSBoZXJlX29wO1xuICAgICAgICAgIGxhc3RfdmFsID0gaGVyZV92YWw7XG4gICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaGVyZSA9IHN0YXRlLmxlbmNvZGVbbGFzdF92YWwgK1xuICAgICAgICAgICAgICAgICAgICAoKGhvbGQgJiAoKDEgPDwgKGxhc3RfYml0cyArIGxhc3Rfb3ApKSAtIDEpKS8qQklUUyhsYXN0LmJpdHMgKyBsYXN0Lm9wKSovID4+IGxhc3RfYml0cyldO1xuICAgICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICAgIGlmICgobGFzdF9iaXRzICsgaGVyZV9iaXRzKSA8PSBiaXRzKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLy0tLSBEUk9QQklUUyhsYXN0LmJpdHMpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IGxhc3RfYml0cztcbiAgICAgICAgICBiaXRzIC09IGxhc3RfYml0cztcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgc3RhdGUuYmFjayArPSBsYXN0X2JpdHM7XG4gICAgICAgIH1cbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBzdGF0ZS5iYWNrICs9IGhlcmVfYml0cztcbiAgICAgICAgc3RhdGUubGVuZ3RoID0gaGVyZV92YWw7XG4gICAgICAgIGlmIChoZXJlX29wID09PSAwKSB7XG4gICAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIGhlcmUudmFsID49IDB4MjAgJiYgaGVyZS52YWwgPCAweDdmID9cbiAgICAgICAgICAvLyAgICAgICAgXCJpbmZsYXRlOiAgICAgICAgIGxpdGVyYWwgJyVjJ1xcblwiIDpcbiAgICAgICAgICAvLyAgICAgICAgXCJpbmZsYXRlOiAgICAgICAgIGxpdGVyYWwgMHglMDJ4XFxuXCIsIGhlcmUudmFsKSk7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IExJVDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVyZV9vcCAmIDMyKSB7XG4gICAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBlbmQgb2YgYmxvY2tcXG5cIikpO1xuICAgICAgICAgIHN0YXRlLmJhY2sgPSAtMTtcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVyZV9vcCAmIDY0KSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmV4dHJhID0gaGVyZV9vcCAmIDE1O1xuICAgICAgICBzdGF0ZS5tb2RlID0gTEVORVhUO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIExFTkVYVDpcbiAgICAgICAgaWYgKHN0YXRlLmV4dHJhKSB7XG4gICAgICAgICAgLy89PT0gTkVFREJJVFMoc3RhdGUuZXh0cmEpO1xuICAgICAgICAgIG4gPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBzdGF0ZS5sZW5ndGggKz0gaG9sZCAmICgoMSA8PCBzdGF0ZS5leHRyYSkgLSAxKS8qQklUUyhzdGF0ZS5leHRyYSkqLztcbiAgICAgICAgICAvLy0tLSBEUk9QQklUUyhzdGF0ZS5leHRyYSkgLS0tLy9cbiAgICAgICAgICBob2xkID4+Pj0gc3RhdGUuZXh0cmE7XG4gICAgICAgICAgYml0cyAtPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgc3RhdGUuYmFjayArPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgfVxuICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGxlbmd0aCAldVxcblwiLCBzdGF0ZS5sZW5ndGgpKTtcbiAgICAgICAgc3RhdGUud2FzID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICBzdGF0ZS5tb2RlID0gRElTVDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBESVNUOlxuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgaGVyZSA9IHN0YXRlLmRpc3Rjb2RlW2hvbGQgJiAoKDEgPDwgc3RhdGUuZGlzdGJpdHMpIC0gMSldOy8qQklUUyhzdGF0ZS5kaXN0Yml0cykqL1xuICAgICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICBpZiAoKGhlcmVfYml0cykgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgfVxuICAgICAgICBpZiAoKGhlcmVfb3AgJiAweGYwKSA9PT0gMCkge1xuICAgICAgICAgIGxhc3RfYml0cyA9IGhlcmVfYml0cztcbiAgICAgICAgICBsYXN0X29wID0gaGVyZV9vcDtcbiAgICAgICAgICBsYXN0X3ZhbCA9IGhlcmVfdmFsO1xuICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGhlcmUgPSBzdGF0ZS5kaXN0Y29kZVtsYXN0X3ZhbCArXG4gICAgICAgICAgICAgICAgICAgICgoaG9sZCAmICgoMSA8PCAobGFzdF9iaXRzICsgbGFzdF9vcCkpIC0gMSkpLypCSVRTKGxhc3QuYml0cyArIGxhc3Qub3ApKi8gPj4gbGFzdF9iaXRzKV07XG4gICAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICAgICAgaWYgKChsYXN0X2JpdHMgKyBoZXJlX2JpdHMpIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgfVxuICAgICAgICAgIC8vLS0tIERST1BCSVRTKGxhc3QuYml0cykgLS0tLy9cbiAgICAgICAgICBob2xkID4+Pj0gbGFzdF9iaXRzO1xuICAgICAgICAgIGJpdHMgLT0gbGFzdF9iaXRzO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBzdGF0ZS5iYWNrICs9IGxhc3RfYml0cztcbiAgICAgICAgfVxuICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLmJhY2sgKz0gaGVyZV9iaXRzO1xuICAgICAgICBpZiAoaGVyZV9vcCAmIDY0KSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSBjb2RlJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm9mZnNldCA9IGhlcmVfdmFsO1xuICAgICAgICBzdGF0ZS5leHRyYSA9IChoZXJlX29wKSAmIDE1O1xuICAgICAgICBzdGF0ZS5tb2RlID0gRElTVEVYVDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBESVNURVhUOlxuICAgICAgICBpZiAoc3RhdGUuZXh0cmEpIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUyhzdGF0ZS5leHRyYSk7XG4gICAgICAgICAgbiA9IHN0YXRlLmV4dHJhO1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIHN0YXRlLm9mZnNldCArPSBob2xkICYgKCgxIDw8IHN0YXRlLmV4dHJhKSAtIDEpLypCSVRTKHN0YXRlLmV4dHJhKSovO1xuICAgICAgICAgIC8vLS0tIERST1BCSVRTKHN0YXRlLmV4dHJhKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSBzdGF0ZS5leHRyYTtcbiAgICAgICAgICBiaXRzIC09IHN0YXRlLmV4dHJhO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBzdGF0ZS5iYWNrICs9IHN0YXRlLmV4dHJhO1xuICAgICAgICB9XG4vLyNpZmRlZiBJTkZMQVRFX1NUUklDVFxuICAgICAgICBpZiAoc3RhdGUub2Zmc2V0ID4gc3RhdGUuZG1heCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4vLyNlbmRpZlxuICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGRpc3RhbmNlICV1XFxuXCIsIHN0YXRlLm9mZnNldCkpO1xuICAgICAgICBzdGF0ZS5tb2RlID0gTUFUQ0g7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTUFUQ0g6XG4gICAgICAgIGlmIChsZWZ0ID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBjb3B5ID0gX291dCAtIGxlZnQ7XG4gICAgICAgIGlmIChzdGF0ZS5vZmZzZXQgPiBjb3B5KSB7ICAgICAgICAgLyogY29weSBmcm9tIHdpbmRvdyAqL1xuICAgICAgICAgIGNvcHkgPSBzdGF0ZS5vZmZzZXQgLSBjb3B5O1xuICAgICAgICAgIGlmIChjb3B5ID4gc3RhdGUud2hhdmUpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5zYW5lKSB7XG4gICAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrJztcbiAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4vLyAoISkgVGhpcyBibG9jayBpcyBkaXNhYmxlZCBpbiB6bGliIGRlZmF1bHRzLFxuLy8gZG9uJ3QgZW5hYmxlIGl0IGZvciBiaW5hcnkgY29tcGF0aWJpbGl0eVxuLy8jaWZkZWYgSU5GTEFURV9BTExPV19JTlZBTElEX0RJU1RBTkNFX1RPT0ZBUl9BUlJSXG4vLyAgICAgICAgICBUcmFjZSgoc3RkZXJyLCBcImluZmxhdGUuYyB0b28gZmFyXFxuXCIpKTtcbi8vICAgICAgICAgIGNvcHkgLT0gc3RhdGUud2hhdmU7XG4vLyAgICAgICAgICBpZiAoY29weSA+IHN0YXRlLmxlbmd0aCkgeyBjb3B5ID0gc3RhdGUubGVuZ3RoOyB9XG4vLyAgICAgICAgICBpZiAoY29weSA+IGxlZnQpIHsgY29weSA9IGxlZnQ7IH1cbi8vICAgICAgICAgIGxlZnQgLT0gY29weTtcbi8vICAgICAgICAgIHN0YXRlLmxlbmd0aCAtPSBjb3B5O1xuLy8gICAgICAgICAgZG8ge1xuLy8gICAgICAgICAgICBvdXRwdXRbcHV0KytdID0gMDtcbi8vICAgICAgICAgIH0gd2hpbGUgKC0tY29weSk7XG4vLyAgICAgICAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSB7IHN0YXRlLm1vZGUgPSBMRU47IH1cbi8vICAgICAgICAgIGJyZWFrO1xuLy8jZW5kaWZcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS53bmV4dCkge1xuICAgICAgICAgICAgY29weSAtPSBzdGF0ZS53bmV4dDtcbiAgICAgICAgICAgIGZyb20gPSBzdGF0ZS53c2l6ZSAtIGNvcHk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnJvbSA9IHN0YXRlLnduZXh0IC0gY29weTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS5sZW5ndGgpIHsgY29weSA9IHN0YXRlLmxlbmd0aDsgfVxuICAgICAgICAgIGZyb21fc291cmNlID0gc3RhdGUud2luZG93O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGNvcHkgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICBmcm9tID0gcHV0IC0gc3RhdGUub2Zmc2V0O1xuICAgICAgICAgIGNvcHkgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvcHkgPiBsZWZ0KSB7IGNvcHkgPSBsZWZ0OyB9XG4gICAgICAgIGxlZnQgLT0gY29weTtcbiAgICAgICAgc3RhdGUubGVuZ3RoIC09IGNvcHk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBvdXRwdXRbcHV0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgfSB3aGlsZSAoLS1jb3B5KTtcbiAgICAgICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgeyBzdGF0ZS5tb2RlID0gTEVOOyB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBMSVQ6XG4gICAgICAgIGlmIChsZWZ0ID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICBvdXRwdXRbcHV0KytdID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICBsZWZ0LS07XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMRU47XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDSEVDSzpcbiAgICAgICAgaWYgKHN0YXRlLndyYXApIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUygzMik7XG4gICAgICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICAvLyBVc2UgJ3wnIGluc3RlYWQgb2YgJysnIHRvIG1ha2Ugc3VyZSB0aGF0IHJlc3VsdCBpcyBzaWduZWRcbiAgICAgICAgICAgIGhvbGQgfD0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgX291dCAtPSBsZWZ0O1xuICAgICAgICAgIHN0cm0udG90YWxfb3V0ICs9IF9vdXQ7XG4gICAgICAgICAgc3RhdGUudG90YWwgKz0gX291dDtcbiAgICAgICAgICBpZiAoKHN0YXRlLndyYXAgJiA0KSAmJiBfb3V0KSB7XG4gICAgICAgICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPVxuICAgICAgICAgICAgICAgIC8qVVBEQVRFX0NIRUNLKHN0YXRlLmNoZWNrLCBwdXQgLSBfb3V0LCBfb3V0KTsqL1xuICAgICAgICAgICAgICAgIChzdGF0ZS5mbGFncyA/IGNyYzMyXzEoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgcHV0IC0gX291dCkgOiBhZGxlcjMyXzEoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgcHV0IC0gX291dCkpO1xuXG4gICAgICAgICAgfVxuICAgICAgICAgIF9vdXQgPSBsZWZ0O1xuICAgICAgICAgIC8vIE5COiBjcmMzMiBzdG9yZWQgYXMgc2lnbmVkIDMyLWJpdCBpbnQsIHpzd2FwMzIgcmV0dXJucyBzaWduZWQgdG9vXG4gICAgICAgICAgaWYgKChzdGF0ZS53cmFwICYgNCkgJiYgKHN0YXRlLmZsYWdzID8gaG9sZCA6IHpzd2FwMzIoaG9sZCkpICE9PSBzdGF0ZS5jaGVjaykge1xuICAgICAgICAgICAgc3RybS5tc2cgPSAnaW5jb3JyZWN0IGRhdGEgY2hlY2snO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICAgIGhvbGQgPSAwO1xuICAgICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgY2hlY2sgbWF0Y2hlcyB0cmFpbGVyXFxuXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5tb2RlID0gTEVOR1RIO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIExFTkdUSDpcbiAgICAgICAgaWYgKHN0YXRlLndyYXAgJiYgc3RhdGUuZmxhZ3MpIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUygzMik7XG4gICAgICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIGlmICgoc3RhdGUud3JhcCAmIDQpICYmIGhvbGQgIT09IChzdGF0ZS50b3RhbCAmIDB4ZmZmZmZmZmYpKSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbmNvcnJlY3QgbGVuZ3RoIGNoZWNrJztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgICBob2xkID0gMDtcbiAgICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIGxlbmd0aCBtYXRjaGVzIHRyYWlsZXJcXG5cIikpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm1vZGUgPSBET05FO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIERPTkU6XG4gICAgICAgIHJldCA9IFpfU1RSRUFNX0VORCQxO1xuICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICBjYXNlIEJBRDpcbiAgICAgICAgcmV0ID0gWl9EQVRBX0VSUk9SJDE7XG4gICAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICAgIGNhc2UgTUVNOlxuICAgICAgICByZXR1cm4gWl9NRU1fRVJST1IkMTtcbiAgICAgIGNhc2UgU1lOQzpcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDE7XG4gICAgfVxuICB9XG5cbiAgLy8gaW5mX2xlYXZlIDwtIGhlcmUgaXMgcmVhbCBwbGFjZSBmb3IgXCJnb3RvIGluZl9sZWF2ZVwiLCBlbXVsYXRlZCB2aWEgXCJicmVhayBpbmZfbGVhdmVcIlxuXG4gIC8qXG4gICAgIFJldHVybiBmcm9tIGluZmxhdGUoKSwgdXBkYXRpbmcgdGhlIHRvdGFsIGNvdW50cyBhbmQgdGhlIGNoZWNrIHZhbHVlLlxuICAgICBJZiB0aGVyZSB3YXMgbm8gcHJvZ3Jlc3MgZHVyaW5nIHRoZSBpbmZsYXRlKCkgY2FsbCwgcmV0dXJuIGEgYnVmZmVyXG4gICAgIGVycm9yLiAgQ2FsbCB1cGRhdGV3aW5kb3coKSB0byBjcmVhdGUgYW5kL29yIHVwZGF0ZSB0aGUgd2luZG93IHN0YXRlLlxuICAgICBOb3RlOiBhIG1lbW9yeSBlcnJvciBmcm9tIGluZmxhdGUoKSBpcyBub24tcmVjb3ZlcmFibGUuXG4gICAqL1xuXG4gIC8vLS0tIFJFU1RPUkUoKSAtLS1cbiAgc3RybS5uZXh0X291dCA9IHB1dDtcbiAgc3RybS5hdmFpbF9vdXQgPSBsZWZ0O1xuICBzdHJtLm5leHRfaW4gPSBuZXh0O1xuICBzdHJtLmF2YWlsX2luID0gaGF2ZTtcbiAgc3RhdGUuaG9sZCA9IGhvbGQ7XG4gIHN0YXRlLmJpdHMgPSBiaXRzO1xuICAvLy0tLVxuXG4gIGlmIChzdGF0ZS53c2l6ZSB8fCAoX291dCAhPT0gc3RybS5hdmFpbF9vdXQgJiYgc3RhdGUubW9kZSA8IEJBRCAmJlxuICAgICAgICAgICAgICAgICAgICAgIChzdGF0ZS5tb2RlIDwgQ0hFQ0sgfHwgZmx1c2ggIT09IFpfRklOSVNIJDEpKSkge1xuICAgIGlmICh1cGRhdGV3aW5kb3coc3RybSwgc3RybS5vdXRwdXQsIHN0cm0ubmV4dF9vdXQsIF9vdXQgLSBzdHJtLmF2YWlsX291dCkpIDtcbiAgfVxuICBfaW4gLT0gc3RybS5hdmFpbF9pbjtcbiAgX291dCAtPSBzdHJtLmF2YWlsX291dDtcbiAgc3RybS50b3RhbF9pbiArPSBfaW47XG4gIHN0cm0udG90YWxfb3V0ICs9IF9vdXQ7XG4gIHN0YXRlLnRvdGFsICs9IF9vdXQ7XG4gIGlmICgoc3RhdGUud3JhcCAmIDQpICYmIF9vdXQpIHtcbiAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSAvKlVQREFURV9DSEVDSyhzdGF0ZS5jaGVjaywgc3RybS5uZXh0X291dCAtIF9vdXQsIF9vdXQpOyovXG4gICAgICAoc3RhdGUuZmxhZ3MgPyBjcmMzMl8xKHN0YXRlLmNoZWNrLCBvdXRwdXQsIF9vdXQsIHN0cm0ubmV4dF9vdXQgLSBfb3V0KSA6IGFkbGVyMzJfMShzdGF0ZS5jaGVjaywgb3V0cHV0LCBfb3V0LCBzdHJtLm5leHRfb3V0IC0gX291dCkpO1xuICB9XG4gIHN0cm0uZGF0YV90eXBlID0gc3RhdGUuYml0cyArIChzdGF0ZS5sYXN0ID8gNjQgOiAwKSArXG4gICAgICAgICAgICAgICAgICAgIChzdGF0ZS5tb2RlID09PSBUWVBFID8gMTI4IDogMCkgK1xuICAgICAgICAgICAgICAgICAgICAoc3RhdGUubW9kZSA9PT0gTEVOXyB8fCBzdGF0ZS5tb2RlID09PSBDT1BZXyA/IDI1NiA6IDApO1xuICBpZiAoKChfaW4gPT09IDAgJiYgX291dCA9PT0gMCkgfHwgZmx1c2ggPT09IFpfRklOSVNIJDEpICYmIHJldCA9PT0gWl9PSyQxKSB7XG4gICAgcmV0ID0gWl9CVUZfRVJST1I7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG5cblxuY29uc3QgaW5mbGF0ZUVuZCA9IChzdHJtKSA9PiB7XG5cbiAgaWYgKGluZmxhdGVTdGF0ZUNoZWNrKHN0cm0pKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDE7XG4gIH1cblxuICBsZXQgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBpZiAoc3RhdGUud2luZG93KSB7XG4gICAgc3RhdGUud2luZG93ID0gbnVsbDtcbiAgfVxuICBzdHJtLnN0YXRlID0gbnVsbDtcbiAgcmV0dXJuIFpfT0skMTtcbn07XG5cblxuY29uc3QgaW5mbGF0ZUdldEhlYWRlciA9IChzdHJtLCBoZWFkKSA9PiB7XG5cbiAgLyogY2hlY2sgc3RhdGUgKi9cbiAgaWYgKGluZmxhdGVTdGF0ZUNoZWNrKHN0cm0pKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUiQxOyB9XG4gIGNvbnN0IHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgaWYgKChzdGF0ZS53cmFwICYgMikgPT09IDApIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDE7IH1cblxuICAvKiBzYXZlIGhlYWRlciBzdHJ1Y3R1cmUgKi9cbiAgc3RhdGUuaGVhZCA9IGhlYWQ7XG4gIGhlYWQuZG9uZSA9IGZhbHNlO1xuICByZXR1cm4gWl9PSyQxO1xufTtcblxuXG5jb25zdCBpbmZsYXRlU2V0RGljdGlvbmFyeSA9IChzdHJtLCBkaWN0aW9uYXJ5KSA9PiB7XG4gIGNvbnN0IGRpY3RMZW5ndGggPSBkaWN0aW9uYXJ5Lmxlbmd0aDtcblxuICBsZXQgc3RhdGU7XG4gIGxldCBkaWN0aWQ7XG4gIGxldCByZXQ7XG5cbiAgLyogY2hlY2sgc3RhdGUgKi9cbiAgaWYgKGluZmxhdGVTdGF0ZUNoZWNrKHN0cm0pKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUiQxOyB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcblxuICBpZiAoc3RhdGUud3JhcCAhPT0gMCAmJiBzdGF0ZS5tb2RlICE9PSBESUNUKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDE7XG4gIH1cblxuICAvKiBjaGVjayBmb3IgY29ycmVjdCBkaWN0aW9uYXJ5IGlkZW50aWZpZXIgKi9cbiAgaWYgKHN0YXRlLm1vZGUgPT09IERJQ1QpIHtcbiAgICBkaWN0aWQgPSAxOyAvKiBhZGxlcjMyKDAsIG51bGwsIDApKi9cbiAgICAvKiBkaWN0aWQgPSBhZGxlcjMyKGRpY3RpZCwgZGljdGlvbmFyeSwgZGljdExlbmd0aCk7ICovXG4gICAgZGljdGlkID0gYWRsZXIzMl8xKGRpY3RpZCwgZGljdGlvbmFyeSwgZGljdExlbmd0aCwgMCk7XG4gICAgaWYgKGRpY3RpZCAhPT0gc3RhdGUuY2hlY2spIHtcbiAgICAgIHJldHVybiBaX0RBVEFfRVJST1IkMTtcbiAgICB9XG4gIH1cbiAgLyogY29weSBkaWN0aW9uYXJ5IHRvIHdpbmRvdyB1c2luZyB1cGRhdGV3aW5kb3coKSwgd2hpY2ggd2lsbCBhbWVuZCB0aGVcbiAgIGV4aXN0aW5nIGRpY3Rpb25hcnkgaWYgYXBwcm9wcmlhdGUgKi9cbiAgcmV0ID0gdXBkYXRld2luZG93KHN0cm0sIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgsIGRpY3RMZW5ndGgpO1xuICBpZiAocmV0KSB7XG4gICAgc3RhdGUubW9kZSA9IE1FTTtcbiAgICByZXR1cm4gWl9NRU1fRVJST1IkMTtcbiAgfVxuICBzdGF0ZS5oYXZlZGljdCA9IDE7XG4gIC8vIFRyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgZGljdGlvbmFyeSBzZXRcXG5cIikpO1xuICByZXR1cm4gWl9PSyQxO1xufTtcblxuXG52YXIgaW5mbGF0ZVJlc2V0XzEgPSBpbmZsYXRlUmVzZXQ7XG52YXIgaW5mbGF0ZVJlc2V0Ml8xID0gaW5mbGF0ZVJlc2V0MjtcbnZhciBpbmZsYXRlUmVzZXRLZWVwXzEgPSBpbmZsYXRlUmVzZXRLZWVwO1xudmFyIGluZmxhdGVJbml0XzEgPSBpbmZsYXRlSW5pdDtcbnZhciBpbmZsYXRlSW5pdDJfMSA9IGluZmxhdGVJbml0MjtcbnZhciBpbmZsYXRlXzIkMSA9IGluZmxhdGUkMjtcbnZhciBpbmZsYXRlRW5kXzEgPSBpbmZsYXRlRW5kO1xudmFyIGluZmxhdGVHZXRIZWFkZXJfMSA9IGluZmxhdGVHZXRIZWFkZXI7XG52YXIgaW5mbGF0ZVNldERpY3Rpb25hcnlfMSA9IGluZmxhdGVTZXREaWN0aW9uYXJ5O1xudmFyIGluZmxhdGVJbmZvID0gJ3Bha28gaW5mbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdCknO1xuXG4vKiBOb3QgaW1wbGVtZW50ZWRcbm1vZHVsZS5leHBvcnRzLmluZmxhdGVDb2Rlc1VzZWQgPSBpbmZsYXRlQ29kZXNVc2VkO1xubW9kdWxlLmV4cG9ydHMuaW5mbGF0ZUNvcHkgPSBpbmZsYXRlQ29weTtcbm1vZHVsZS5leHBvcnRzLmluZmxhdGVHZXREaWN0aW9uYXJ5ID0gaW5mbGF0ZUdldERpY3Rpb25hcnk7XG5tb2R1bGUuZXhwb3J0cy5pbmZsYXRlTWFyayA9IGluZmxhdGVNYXJrO1xubW9kdWxlLmV4cG9ydHMuaW5mbGF0ZVByaW1lID0gaW5mbGF0ZVByaW1lO1xubW9kdWxlLmV4cG9ydHMuaW5mbGF0ZVN5bmMgPSBpbmZsYXRlU3luYztcbm1vZHVsZS5leHBvcnRzLmluZmxhdGVTeW5jUG9pbnQgPSBpbmZsYXRlU3luY1BvaW50O1xubW9kdWxlLmV4cG9ydHMuaW5mbGF0ZVVuZGVybWluZSA9IGluZmxhdGVVbmRlcm1pbmU7XG5tb2R1bGUuZXhwb3J0cy5pbmZsYXRlVmFsaWRhdGUgPSBpbmZsYXRlVmFsaWRhdGU7XG4qL1xuXG52YXIgaW5mbGF0ZV8xJDIgPSB7XG5cdGluZmxhdGVSZXNldDogaW5mbGF0ZVJlc2V0XzEsXG5cdGluZmxhdGVSZXNldDI6IGluZmxhdGVSZXNldDJfMSxcblx0aW5mbGF0ZVJlc2V0S2VlcDogaW5mbGF0ZVJlc2V0S2VlcF8xLFxuXHRpbmZsYXRlSW5pdDogaW5mbGF0ZUluaXRfMSxcblx0aW5mbGF0ZUluaXQyOiBpbmZsYXRlSW5pdDJfMSxcblx0aW5mbGF0ZTogaW5mbGF0ZV8yJDEsXG5cdGluZmxhdGVFbmQ6IGluZmxhdGVFbmRfMSxcblx0aW5mbGF0ZUdldEhlYWRlcjogaW5mbGF0ZUdldEhlYWRlcl8xLFxuXHRpbmZsYXRlU2V0RGljdGlvbmFyeTogaW5mbGF0ZVNldERpY3Rpb25hcnlfMSxcblx0aW5mbGF0ZUluZm86IGluZmxhdGVJbmZvXG59O1xuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbmZ1bmN0aW9uIEdaaGVhZGVyKCkge1xuICAvKiB0cnVlIGlmIGNvbXByZXNzZWQgZGF0YSBiZWxpZXZlZCB0byBiZSB0ZXh0ICovXG4gIHRoaXMudGV4dCAgICAgICA9IDA7XG4gIC8qIG1vZGlmaWNhdGlvbiB0aW1lICovXG4gIHRoaXMudGltZSAgICAgICA9IDA7XG4gIC8qIGV4dHJhIGZsYWdzIChub3QgdXNlZCB3aGVuIHdyaXRpbmcgYSBnemlwIGZpbGUpICovXG4gIHRoaXMueGZsYWdzICAgICA9IDA7XG4gIC8qIG9wZXJhdGluZyBzeXN0ZW0gKi9cbiAgdGhpcy5vcyAgICAgICAgID0gMDtcbiAgLyogcG9pbnRlciB0byBleHRyYSBmaWVsZCBvciBaX05VTEwgaWYgbm9uZSAqL1xuICB0aGlzLmV4dHJhICAgICAgPSBudWxsO1xuICAvKiBleHRyYSBmaWVsZCBsZW5ndGggKHZhbGlkIGlmIGV4dHJhICE9IFpfTlVMTCkgKi9cbiAgdGhpcy5leHRyYV9sZW4gID0gMDsgLy8gQWN0dWFsbHksIHdlIGRvbid0IG5lZWQgaXQgaW4gSlMsXG4gICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBsZWF2ZSBmb3IgZmV3IGNvZGUgbW9kaWZpY2F0aW9uc1xuXG4gIC8vXG4gIC8vIFNldHVwIGxpbWl0cyBpcyBub3QgbmVjZXNzYXJ5IGJlY2F1c2UgaW4ganMgd2Ugc2hvdWxkIG5vdCBwcmVhbGxvY2F0ZSBtZW1vcnlcbiAgLy8gZm9yIGluZmxhdGUgdXNlIGNvbnN0YW50IGxpbWl0IGluIDY1NTM2IGJ5dGVzXG4gIC8vXG5cbiAgLyogc3BhY2UgYXQgZXh0cmEgKG9ubHkgd2hlbiByZWFkaW5nIGhlYWRlcikgKi9cbiAgLy8gdGhpcy5leHRyYV9tYXggID0gMDtcbiAgLyogcG9pbnRlciB0byB6ZXJvLXRlcm1pbmF0ZWQgZmlsZSBuYW1lIG9yIFpfTlVMTCAqL1xuICB0aGlzLm5hbWUgICAgICAgPSAnJztcbiAgLyogc3BhY2UgYXQgbmFtZSAob25seSB3aGVuIHJlYWRpbmcgaGVhZGVyKSAqL1xuICAvLyB0aGlzLm5hbWVfbWF4ICAgPSAwO1xuICAvKiBwb2ludGVyIHRvIHplcm8tdGVybWluYXRlZCBjb21tZW50IG9yIFpfTlVMTCAqL1xuICB0aGlzLmNvbW1lbnQgICAgPSAnJztcbiAgLyogc3BhY2UgYXQgY29tbWVudCAob25seSB3aGVuIHJlYWRpbmcgaGVhZGVyKSAqL1xuICAvLyB0aGlzLmNvbW1fbWF4ICAgPSAwO1xuICAvKiB0cnVlIGlmIHRoZXJlIHdhcyBvciB3aWxsIGJlIGEgaGVhZGVyIGNyYyAqL1xuICB0aGlzLmhjcmMgICAgICAgPSAwO1xuICAvKiB0cnVlIHdoZW4gZG9uZSByZWFkaW5nIGd6aXAgaGVhZGVyIChub3QgdXNlZCB3aGVuIHdyaXRpbmcgYSBnemlwIGZpbGUpICovXG4gIHRoaXMuZG9uZSAgICAgICA9IGZhbHNlO1xufVxuXG52YXIgZ3poZWFkZXIgPSBHWmhlYWRlcjtcblxuY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuY29uc3Qge1xuICBaX05PX0ZMVVNILCBaX0ZJTklTSCxcbiAgWl9PSywgWl9TVFJFQU1fRU5ELCBaX05FRURfRElDVCwgWl9TVFJFQU1fRVJST1IsIFpfREFUQV9FUlJPUiwgWl9NRU1fRVJST1Jcbn0gPSBjb25zdGFudHMkMjtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG4vKipcbiAqIGNsYXNzIEluZmxhdGVcbiAqXG4gKiBHZW5lcmljIEpTLXN0eWxlIHdyYXBwZXIgZm9yIHpsaWIgY2FsbHMuIElmIHlvdSBkb24ndCBuZWVkXG4gKiBzdHJlYW1pbmcgYmVoYXZpb3VyIC0gdXNlIG1vcmUgc2ltcGxlIGZ1bmN0aW9uczogW1tpbmZsYXRlXV1cbiAqIGFuZCBbW2luZmxhdGVSYXddXS5cbiAqKi9cblxuLyogaW50ZXJuYWxcbiAqIGluZmxhdGUuY2h1bmtzIC0+IEFycmF5XG4gKlxuICogQ2h1bmtzIG9mIG91dHB1dCBkYXRhLCBpZiBbW0luZmxhdGUjb25EYXRhXV0gbm90IG92ZXJyaWRkZW4uXG4gKiovXG5cbi8qKlxuICogSW5mbGF0ZS5yZXN1bHQgLT4gVWludDhBcnJheXxTdHJpbmdcbiAqXG4gKiBVbmNvbXByZXNzZWQgcmVzdWx0LCBnZW5lcmF0ZWQgYnkgZGVmYXVsdCBbW0luZmxhdGUjb25EYXRhXV1cbiAqIGFuZCBbW0luZmxhdGUjb25FbmRdXSBoYW5kbGVycy4gRmlsbGVkIGFmdGVyIHlvdSBwdXNoIGxhc3QgY2h1bmtcbiAqIChjYWxsIFtbSW5mbGF0ZSNwdXNoXV0gd2l0aCBgWl9GSU5JU0hgIC8gYHRydWVgIHBhcmFtKS5cbiAqKi9cblxuLyoqXG4gKiBJbmZsYXRlLmVyciAtPiBOdW1iZXJcbiAqXG4gKiBFcnJvciBjb2RlIGFmdGVyIGluZmxhdGUgZmluaXNoZWQuIDAgKFpfT0spIG9uIHN1Y2Nlc3MuXG4gKiBTaG91bGQgYmUgY2hlY2tlZCBpZiBicm9rZW4gZGF0YSBwb3NzaWJsZS5cbiAqKi9cblxuLyoqXG4gKiBJbmZsYXRlLm1zZyAtPiBTdHJpbmdcbiAqXG4gKiBFcnJvciBtZXNzYWdlLCBpZiBbW0luZmxhdGUuZXJyXV0gIT0gMFxuICoqL1xuXG5cbi8qKlxuICogbmV3IEluZmxhdGUob3B0aW9ucylcbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBpbmZsYXRlIG9wdGlvbnMuXG4gKlxuICogQ3JlYXRlcyBuZXcgaW5mbGF0b3IgaW5zdGFuY2Ugd2l0aCBzcGVjaWZpZWQgcGFyYW1zLiBUaHJvd3MgZXhjZXB0aW9uXG4gKiBvbiBiYWQgcGFyYW1zLiBTdXBwb3J0ZWQgb3B0aW9uczpcbiAqXG4gKiAtIGB3aW5kb3dCaXRzYFxuICogLSBgZGljdGlvbmFyeWBcbiAqXG4gKiBbaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkXShodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWQpXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiB0aGVzZS5cbiAqXG4gKiBBZGRpdGlvbmFsIG9wdGlvbnMsIGZvciBpbnRlcm5hbCBuZWVkczpcbiAqXG4gKiAtIGBjaHVua1NpemVgIC0gc2l6ZSBvZiBnZW5lcmF0ZWQgZGF0YSBjaHVua3MgKDE2SyBieSBkZWZhdWx0KVxuICogLSBgcmF3YCAoQm9vbGVhbikgLSBkbyByYXcgaW5mbGF0ZVxuICogLSBgdG9gIChTdHJpbmcpIC0gaWYgZXF1YWwgdG8gJ3N0cmluZycsIHRoZW4gcmVzdWx0IHdpbGwgYmUgY29udmVydGVkXG4gKiAgIGZyb20gdXRmOCB0byB1dGYxNiAoamF2YXNjcmlwdCkgc3RyaW5nLiBXaGVuIHN0cmluZyBvdXRwdXQgcmVxdWVzdGVkLFxuICogICBjaHVuayBsZW5ndGggY2FuIGRpZmZlciBmcm9tIGBjaHVua1NpemVgLCBkZXBlbmRpbmcgb24gY29udGVudC5cbiAqXG4gKiBCeSBkZWZhdWx0LCB3aGVuIG5vIG9wdGlvbnMgc2V0LCBhdXRvZGV0ZWN0IGRlZmxhdGUvZ3ppcCBkYXRhIGZvcm1hdCB2aWFcbiAqIHdyYXBwZXIgaGVhZGVyLlxuICpcbiAqICMjIyMjIEV4YW1wbGU6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgcGFrbyA9IHJlcXVpcmUoJ3Bha28nKVxuICogY29uc3QgY2h1bmsxID0gbmV3IFVpbnQ4QXJyYXkoWzEsMiwzLDQsNSw2LDcsOCw5XSlcbiAqIGNvbnN0IGNodW5rMiA9IG5ldyBVaW50OEFycmF5KFsxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOV0pO1xuICpcbiAqIGNvbnN0IGluZmxhdGUgPSBuZXcgcGFrby5JbmZsYXRlKHsgbGV2ZWw6IDN9KTtcbiAqXG4gKiBpbmZsYXRlLnB1c2goY2h1bmsxLCBmYWxzZSk7XG4gKiBpbmZsYXRlLnB1c2goY2h1bmsyLCB0cnVlKTsgIC8vIHRydWUgLT4gbGFzdCBjaHVua1xuICpcbiAqIGlmIChpbmZsYXRlLmVycikgeyB0aHJvdyBuZXcgRXJyb3IoaW5mbGF0ZS5lcnIpOyB9XG4gKlxuICogY29uc29sZS5sb2coaW5mbGF0ZS5yZXN1bHQpO1xuICogYGBgXG4gKiovXG5mdW5jdGlvbiBJbmZsYXRlJDEob3B0aW9ucykge1xuICB0aGlzLm9wdGlvbnMgPSBjb21tb24uYXNzaWduKHtcbiAgICBjaHVua1NpemU6IDEwMjQgKiA2NCxcbiAgICB3aW5kb3dCaXRzOiAxNSxcbiAgICB0bzogJydcbiAgfSwgb3B0aW9ucyB8fCB7fSk7XG5cbiAgY29uc3Qgb3B0ID0gdGhpcy5vcHRpb25zO1xuXG4gIC8vIEZvcmNlIHdpbmRvdyBzaXplIGZvciBgcmF3YCBkYXRhLCBpZiBub3Qgc2V0IGRpcmVjdGx5LFxuICAvLyBiZWNhdXNlIHdlIGhhdmUgbm8gaGVhZGVyIGZvciBhdXRvZGV0ZWN0LlxuICBpZiAob3B0LnJhdyAmJiAob3B0LndpbmRvd0JpdHMgPj0gMCkgJiYgKG9wdC53aW5kb3dCaXRzIDwgMTYpKSB7XG4gICAgb3B0LndpbmRvd0JpdHMgPSAtb3B0LndpbmRvd0JpdHM7XG4gICAgaWYgKG9wdC53aW5kb3dCaXRzID09PSAwKSB7IG9wdC53aW5kb3dCaXRzID0gLTE1OyB9XG4gIH1cblxuICAvLyBJZiBgd2luZG93Qml0c2Agbm90IGRlZmluZWQgKGFuZCBtb2RlIG5vdCByYXcpIC0gc2V0IGF1dG9kZXRlY3QgZmxhZyBmb3IgZ3ppcC9kZWZsYXRlXG4gIGlmICgob3B0LndpbmRvd0JpdHMgPj0gMCkgJiYgKG9wdC53aW5kb3dCaXRzIDwgMTYpICYmXG4gICAgICAhKG9wdGlvbnMgJiYgb3B0aW9ucy53aW5kb3dCaXRzKSkge1xuICAgIG9wdC53aW5kb3dCaXRzICs9IDMyO1xuICB9XG5cbiAgLy8gR3ppcCBoZWFkZXIgaGFzIG5vIGluZm8gYWJvdXQgd2luZG93cyBzaXplLCB3ZSBjYW4gZG8gYXV0b2RldGVjdCBvbmx5XG4gIC8vIGZvciBkZWZsYXRlLiBTbywgaWYgd2luZG93IHNpemUgbm90IHNldCwgZm9yY2UgaXQgdG8gbWF4IHdoZW4gZ3ppcCBwb3NzaWJsZVxuICBpZiAoKG9wdC53aW5kb3dCaXRzID4gMTUpICYmIChvcHQud2luZG93Qml0cyA8IDQ4KSkge1xuICAgIC8vIGJpdCAzICgxNikgLT4gZ3ppcHBlZCBkYXRhXG4gICAgLy8gYml0IDQgKDMyKSAtPiBhdXRvZGV0ZWN0IGd6aXAvZGVmbGF0ZVxuICAgIGlmICgob3B0LndpbmRvd0JpdHMgJiAxNSkgPT09IDApIHtcbiAgICAgIG9wdC53aW5kb3dCaXRzIHw9IDE1O1xuICAgIH1cbiAgfVxuXG4gIHRoaXMuZXJyICAgID0gMDsgICAgICAvLyBlcnJvciBjb2RlLCBpZiBoYXBwZW5zICgwID0gWl9PSylcbiAgdGhpcy5tc2cgICAgPSAnJzsgICAgIC8vIGVycm9yIG1lc3NhZ2VcbiAgdGhpcy5lbmRlZCAgPSBmYWxzZTsgIC8vIHVzZWQgdG8gYXZvaWQgbXVsdGlwbGUgb25FbmQoKSBjYWxsc1xuICB0aGlzLmNodW5rcyA9IFtdOyAgICAgLy8gY2h1bmtzIG9mIGNvbXByZXNzZWQgZGF0YVxuXG4gIHRoaXMuc3RybSAgID0gbmV3IHpzdHJlYW0oKTtcbiAgdGhpcy5zdHJtLmF2YWlsX291dCA9IDA7XG5cbiAgbGV0IHN0YXR1cyAgPSBpbmZsYXRlXzEkMi5pbmZsYXRlSW5pdDIoXG4gICAgdGhpcy5zdHJtLFxuICAgIG9wdC53aW5kb3dCaXRzXG4gICk7XG5cbiAgaWYgKHN0YXR1cyAhPT0gWl9PSykge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlc1tzdGF0dXNdKTtcbiAgfVxuXG4gIHRoaXMuaGVhZGVyID0gbmV3IGd6aGVhZGVyKCk7XG5cbiAgaW5mbGF0ZV8xJDIuaW5mbGF0ZUdldEhlYWRlcih0aGlzLnN0cm0sIHRoaXMuaGVhZGVyKTtcblxuICAvLyBTZXR1cCBkaWN0aW9uYXJ5XG4gIGlmIChvcHQuZGljdGlvbmFyeSkge1xuICAgIC8vIENvbnZlcnQgZGF0YSBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIG9wdC5kaWN0aW9uYXJ5ID09PSAnc3RyaW5nJykge1xuICAgICAgb3B0LmRpY3Rpb25hcnkgPSBzdHJpbmdzLnN0cmluZzJidWYob3B0LmRpY3Rpb25hcnkpO1xuICAgIH0gZWxzZSBpZiAodG9TdHJpbmcuY2FsbChvcHQuZGljdGlvbmFyeSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpIHtcbiAgICAgIG9wdC5kaWN0aW9uYXJ5ID0gbmV3IFVpbnQ4QXJyYXkob3B0LmRpY3Rpb25hcnkpO1xuICAgIH1cbiAgICBpZiAob3B0LnJhdykgeyAvL0luIHJhdyBtb2RlIHdlIG5lZWQgdG8gc2V0IHRoZSBkaWN0aW9uYXJ5IGVhcmx5XG4gICAgICBzdGF0dXMgPSBpbmZsYXRlXzEkMi5pbmZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sIG9wdC5kaWN0aW9uYXJ5KTtcbiAgICAgIGlmIChzdGF0dXMgIT09IFpfT0spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2VzW3N0YXR1c10pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEluZmxhdGUjcHVzaChkYXRhWywgZmx1c2hfbW9kZV0pIC0+IEJvb2xlYW5cbiAqIC0gZGF0YSAoVWludDhBcnJheXxBcnJheUJ1ZmZlcik6IGlucHV0IGRhdGFcbiAqIC0gZmx1c2hfbW9kZSAoTnVtYmVyfEJvb2xlYW4pOiAwLi42IGZvciBjb3JyZXNwb25kaW5nIFpfTk9fRkxVU0guLlpfVFJFRVxuICogICBmbHVzaCBtb2Rlcy4gU2VlIGNvbnN0YW50cy4gU2tpcHBlZCBvciBgZmFsc2VgIG1lYW5zIFpfTk9fRkxVU0gsXG4gKiAgIGB0cnVlYCBtZWFucyBaX0ZJTklTSC5cbiAqXG4gKiBTZW5kcyBpbnB1dCBkYXRhIHRvIGluZmxhdGUgcGlwZSwgZ2VuZXJhdGluZyBbW0luZmxhdGUjb25EYXRhXV0gY2FsbHMgd2l0aFxuICogbmV3IG91dHB1dCBjaHVua3MuIFJldHVybnMgYHRydWVgIG9uIHN1Y2Nlc3MuIElmIGVuZCBvZiBzdHJlYW0gZGV0ZWN0ZWQsXG4gKiBbW0luZmxhdGUjb25FbmRdXSB3aWxsIGJlIGNhbGxlZC5cbiAqXG4gKiBgZmx1c2hfbW9kZWAgaXMgbm90IG5lZWRlZCBmb3Igbm9ybWFsIG9wZXJhdGlvbiwgYmVjYXVzZSBlbmQgb2Ygc3RyZWFtXG4gKiBkZXRlY3RlZCBhdXRvbWF0aWNhbGx5LiBZb3UgbWF5IHRyeSB0byB1c2UgaXQgZm9yIGFkdmFuY2VkIHRoaW5ncywgYnV0XG4gKiB0aGlzIGZ1bmN0aW9uYWxpdHkgd2FzIG5vdCB0ZXN0ZWQuXG4gKlxuICogT24gZmFpbCBjYWxsIFtbSW5mbGF0ZSNvbkVuZF1dIHdpdGggZXJyb3IgY29kZSBhbmQgcmV0dXJuIGZhbHNlLlxuICpcbiAqICMjIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBwdXNoKGNodW5rLCBmYWxzZSk7IC8vIHB1c2ggb25lIG9mIGRhdGEgY2h1bmtzXG4gKiAuLi5cbiAqIHB1c2goY2h1bmssIHRydWUpOyAgLy8gcHVzaCBsYXN0IGNodW5rXG4gKiBgYGBcbiAqKi9cbkluZmxhdGUkMS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChkYXRhLCBmbHVzaF9tb2RlKSB7XG4gIGNvbnN0IHN0cm0gPSB0aGlzLnN0cm07XG4gIGNvbnN0IGNodW5rU2l6ZSA9IHRoaXMub3B0aW9ucy5jaHVua1NpemU7XG4gIGNvbnN0IGRpY3Rpb25hcnkgPSB0aGlzLm9wdGlvbnMuZGljdGlvbmFyeTtcbiAgbGV0IHN0YXR1cywgX2ZsdXNoX21vZGUsIGxhc3RfYXZhaWxfb3V0O1xuXG4gIGlmICh0aGlzLmVuZGVkKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGZsdXNoX21vZGUgPT09IH5+Zmx1c2hfbW9kZSkgX2ZsdXNoX21vZGUgPSBmbHVzaF9tb2RlO1xuICBlbHNlIF9mbHVzaF9tb2RlID0gZmx1c2hfbW9kZSA9PT0gdHJ1ZSA/IFpfRklOSVNIIDogWl9OT19GTFVTSDtcblxuICAvLyBDb252ZXJ0IGRhdGEgaWYgbmVlZGVkXG4gIGlmICh0b1N0cmluZy5jYWxsKGRhdGEpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKSB7XG4gICAgc3RybS5pbnB1dCA9IG5ldyBVaW50OEFycmF5KGRhdGEpO1xuICB9IGVsc2Uge1xuICAgIHN0cm0uaW5wdXQgPSBkYXRhO1xuICB9XG5cbiAgc3RybS5uZXh0X2luID0gMDtcbiAgc3RybS5hdmFpbF9pbiA9IHN0cm0uaW5wdXQubGVuZ3RoO1xuXG4gIGZvciAoOzspIHtcbiAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHN0cm0ub3V0cHV0ID0gbmV3IFVpbnQ4QXJyYXkoY2h1bmtTaXplKTtcbiAgICAgIHN0cm0ubmV4dF9vdXQgPSAwO1xuICAgICAgc3RybS5hdmFpbF9vdXQgPSBjaHVua1NpemU7XG4gICAgfVxuXG4gICAgc3RhdHVzID0gaW5mbGF0ZV8xJDIuaW5mbGF0ZShzdHJtLCBfZmx1c2hfbW9kZSk7XG5cbiAgICBpZiAoc3RhdHVzID09PSBaX05FRURfRElDVCAmJiBkaWN0aW9uYXJ5KSB7XG4gICAgICBzdGF0dXMgPSBpbmZsYXRlXzEkMi5pbmZsYXRlU2V0RGljdGlvbmFyeShzdHJtLCBkaWN0aW9uYXJ5KTtcblxuICAgICAgaWYgKHN0YXR1cyA9PT0gWl9PSykge1xuICAgICAgICBzdGF0dXMgPSBpbmZsYXRlXzEkMi5pbmZsYXRlKHN0cm0sIF9mbHVzaF9tb2RlKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSBaX0RBVEFfRVJST1IpIHtcbiAgICAgICAgLy8gUmVwbGFjZSBjb2RlIHdpdGggbW9yZSB2ZXJib3NlXG4gICAgICAgIHN0YXR1cyA9IFpfTkVFRF9ESUNUO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNraXAgc255YyBtYXJrZXJzIGlmIG1vcmUgZGF0YSBmb2xsb3dzIGFuZCBub3QgcmF3IG1vZGVcbiAgICB3aGlsZSAoc3RybS5hdmFpbF9pbiA+IDAgJiZcbiAgICAgICAgICAgc3RhdHVzID09PSBaX1NUUkVBTV9FTkQgJiZcbiAgICAgICAgICAgc3RybS5zdGF0ZS53cmFwID4gMCAmJlxuICAgICAgICAgICBkYXRhW3N0cm0ubmV4dF9pbl0gIT09IDApXG4gICAge1xuICAgICAgaW5mbGF0ZV8xJDIuaW5mbGF0ZVJlc2V0KHN0cm0pO1xuICAgICAgc3RhdHVzID0gaW5mbGF0ZV8xJDIuaW5mbGF0ZShzdHJtLCBfZmx1c2hfbW9kZSk7XG4gICAgfVxuXG4gICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgIGNhc2UgWl9TVFJFQU1fRVJST1I6XG4gICAgICBjYXNlIFpfREFUQV9FUlJPUjpcbiAgICAgIGNhc2UgWl9ORUVEX0RJQ1Q6XG4gICAgICBjYXNlIFpfTUVNX0VSUk9SOlxuICAgICAgICB0aGlzLm9uRW5kKHN0YXR1cyk7XG4gICAgICAgIHRoaXMuZW5kZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gUmVtZW1iZXIgcmVhbCBgYXZhaWxfb3V0YCB2YWx1ZSwgYmVjYXVzZSB3ZSBtYXkgcGF0Y2ggb3V0IGJ1ZmZlciBjb250ZW50XG4gICAgLy8gdG8gYWxpZ24gdXRmOCBzdHJpbmdzIGJvdW5kYXJpZXMuXG4gICAgbGFzdF9hdmFpbF9vdXQgPSBzdHJtLmF2YWlsX291dDtcblxuICAgIGlmIChzdHJtLm5leHRfb3V0KSB7XG4gICAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDAgfHwgc3RhdHVzID09PSBaX1NUUkVBTV9FTkQpIHtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRvID09PSAnc3RyaW5nJykge1xuXG4gICAgICAgICAgbGV0IG5leHRfb3V0X3V0ZjggPSBzdHJpbmdzLnV0Zjhib3JkZXIoc3RybS5vdXRwdXQsIHN0cm0ubmV4dF9vdXQpO1xuXG4gICAgICAgICAgbGV0IHRhaWwgPSBzdHJtLm5leHRfb3V0IC0gbmV4dF9vdXRfdXRmODtcbiAgICAgICAgICBsZXQgdXRmOHN0ciA9IHN0cmluZ3MuYnVmMnN0cmluZyhzdHJtLm91dHB1dCwgbmV4dF9vdXRfdXRmOCk7XG5cbiAgICAgICAgICAvLyBtb3ZlIHRhaWwgJiByZWFsaWduIGNvdW50ZXJzXG4gICAgICAgICAgc3RybS5uZXh0X291dCA9IHRhaWw7XG4gICAgICAgICAgc3RybS5hdmFpbF9vdXQgPSBjaHVua1NpemUgLSB0YWlsO1xuICAgICAgICAgIGlmICh0YWlsKSBzdHJtLm91dHB1dC5zZXQoc3RybS5vdXRwdXQuc3ViYXJyYXkobmV4dF9vdXRfdXRmOCwgbmV4dF9vdXRfdXRmOCArIHRhaWwpLCAwKTtcblxuICAgICAgICAgIHRoaXMub25EYXRhKHV0ZjhzdHIpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5vbkRhdGEoc3RybS5vdXRwdXQubGVuZ3RoID09PSBzdHJtLm5leHRfb3V0ID8gc3RybS5vdXRwdXQgOiBzdHJtLm91dHB1dC5zdWJhcnJheSgwLCBzdHJtLm5leHRfb3V0KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNdXN0IHJlcGVhdCBpdGVyYXRpb24gaWYgb3V0IGJ1ZmZlciBpcyBmdWxsXG4gICAgaWYgKHN0YXR1cyA9PT0gWl9PSyAmJiBsYXN0X2F2YWlsX291dCA9PT0gMCkgY29udGludWU7XG5cbiAgICAvLyBGaW5hbGl6ZSBpZiBlbmQgb2Ygc3RyZWFtIHJlYWNoZWQuXG4gICAgaWYgKHN0YXR1cyA9PT0gWl9TVFJFQU1fRU5EKSB7XG4gICAgICBzdGF0dXMgPSBpbmZsYXRlXzEkMi5pbmZsYXRlRW5kKHRoaXMuc3RybSk7XG4gICAgICB0aGlzLm9uRW5kKHN0YXR1cyk7XG4gICAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChzdHJtLmF2YWlsX2luID09PSAwKSBicmVhaztcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuXG4vKipcbiAqIEluZmxhdGUjb25EYXRhKGNodW5rKSAtPiBWb2lkXG4gKiAtIGNodW5rIChVaW50OEFycmF5fFN0cmluZyk6IG91dHB1dCBkYXRhLiBXaGVuIHN0cmluZyBvdXRwdXQgcmVxdWVzdGVkLFxuICogICBlYWNoIGNodW5rIHdpbGwgYmUgc3RyaW5nLlxuICpcbiAqIEJ5IGRlZmF1bHQsIHN0b3JlcyBkYXRhIGJsb2NrcyBpbiBgY2h1bmtzW11gIHByb3BlcnR5IGFuZCBnbHVlXG4gKiB0aG9zZSBpbiBgb25FbmRgLiBPdmVycmlkZSB0aGlzIGhhbmRsZXIsIGlmIHlvdSBuZWVkIGFub3RoZXIgYmVoYXZpb3VyLlxuICoqL1xuSW5mbGF0ZSQxLnByb3RvdHlwZS5vbkRhdGEgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgdGhpcy5jaHVua3MucHVzaChjaHVuayk7XG59O1xuXG5cbi8qKlxuICogSW5mbGF0ZSNvbkVuZChzdGF0dXMpIC0+IFZvaWRcbiAqIC0gc3RhdHVzIChOdW1iZXIpOiBpbmZsYXRlIHN0YXR1cy4gMCAoWl9PSykgb24gc3VjY2VzcyxcbiAqICAgb3RoZXIgaWYgbm90LlxuICpcbiAqIENhbGxlZCBlaXRoZXIgYWZ0ZXIgeW91IHRlbGwgaW5mbGF0ZSB0aGF0IHRoZSBpbnB1dCBzdHJlYW0gaXNcbiAqIGNvbXBsZXRlIChaX0ZJTklTSCkuIEJ5IGRlZmF1bHQgLSBqb2luIGNvbGxlY3RlZCBjaHVua3MsXG4gKiBmcmVlIG1lbW9yeSBhbmQgZmlsbCBgcmVzdWx0c2AgLyBgZXJyYCBwcm9wZXJ0aWVzLlxuICoqL1xuSW5mbGF0ZSQxLnByb3RvdHlwZS5vbkVuZCA9IGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgLy8gT24gc3VjY2VzcyAtIGpvaW5cbiAgaWYgKHN0YXR1cyA9PT0gWl9PSykge1xuICAgIGlmICh0aGlzLm9wdGlvbnMudG8gPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnJlc3VsdCA9IHRoaXMuY2h1bmtzLmpvaW4oJycpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlc3VsdCA9IGNvbW1vbi5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKTtcbiAgICB9XG4gIH1cbiAgdGhpcy5jaHVua3MgPSBbXTtcbiAgdGhpcy5lcnIgPSBzdGF0dXM7XG4gIHRoaXMubXNnID0gdGhpcy5zdHJtLm1zZztcbn07XG5cblxuLyoqXG4gKiBpbmZsYXRlKGRhdGFbLCBvcHRpb25zXSkgLT4gVWludDhBcnJheXxTdHJpbmdcbiAqIC0gZGF0YSAoVWludDhBcnJheXxBcnJheUJ1ZmZlcik6IGlucHV0IGRhdGEgdG8gZGVjb21wcmVzcy5cbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBpbmZsYXRlIG9wdGlvbnMuXG4gKlxuICogRGVjb21wcmVzcyBgZGF0YWAgd2l0aCBpbmZsYXRlL3VuZ3ppcCBhbmQgYG9wdGlvbnNgLiBBdXRvZGV0ZWN0XG4gKiBmb3JtYXQgdmlhIHdyYXBwZXIgaGVhZGVyIGJ5IGRlZmF1bHQuIFRoYXQncyB3aHkgd2UgZG9uJ3QgcHJvdmlkZVxuICogc2VwYXJhdGUgYHVuZ3ppcGAgbWV0aG9kLlxuICpcbiAqIFN1cHBvcnRlZCBvcHRpb25zIGFyZTpcbiAqXG4gKiAtIHdpbmRvd0JpdHNcbiAqXG4gKiBbaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkXShodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWQpXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBTdWdhciAob3B0aW9ucyk6XG4gKlxuICogLSBgcmF3YCAoQm9vbGVhbikgLSBzYXkgdGhhdCB3ZSB3b3JrIHdpdGggcmF3IHN0cmVhbSwgaWYgeW91IGRvbid0IHdpc2ggdG8gc3BlY2lmeVxuICogICBuZWdhdGl2ZSB3aW5kb3dCaXRzIGltcGxpY2l0bHkuXG4gKiAtIGB0b2AgKFN0cmluZykgLSBpZiBlcXVhbCB0byAnc3RyaW5nJywgdGhlbiByZXN1bHQgd2lsbCBiZSBjb252ZXJ0ZWRcbiAqICAgZnJvbSB1dGY4IHRvIHV0ZjE2IChqYXZhc2NyaXB0KSBzdHJpbmcuIFdoZW4gc3RyaW5nIG91dHB1dCByZXF1ZXN0ZWQsXG4gKiAgIGNodW5rIGxlbmd0aCBjYW4gZGlmZmVyIGZyb20gYGNodW5rU2l6ZWAsIGRlcGVuZGluZyBvbiBjb250ZW50LlxuICpcbiAqXG4gKiAjIyMjIyBFeGFtcGxlOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IHBha28gPSByZXF1aXJlKCdwYWtvJyk7XG4gKiBjb25zdCBpbnB1dCA9IHBha28uZGVmbGF0ZShuZXcgVWludDhBcnJheShbMSwyLDMsNCw1LDYsNyw4LDldKSk7XG4gKiBsZXQgb3V0cHV0O1xuICpcbiAqIHRyeSB7XG4gKiAgIG91dHB1dCA9IHBha28uaW5mbGF0ZShpbnB1dCk7XG4gKiB9IGNhdGNoIChlcnIpIHtcbiAqICAgY29uc29sZS5sb2coZXJyKTtcbiAqIH1cbiAqIGBgYFxuICoqL1xuZnVuY3Rpb24gaW5mbGF0ZSQxKGlucHV0LCBvcHRpb25zKSB7XG4gIGNvbnN0IGluZmxhdG9yID0gbmV3IEluZmxhdGUkMShvcHRpb25zKTtcblxuICBpbmZsYXRvci5wdXNoKGlucHV0KTtcblxuICAvLyBUaGF0IHdpbGwgbmV2ZXIgaGFwcGVucywgaWYgeW91IGRvbid0IGNoZWF0IHdpdGggb3B0aW9ucyA6KVxuICBpZiAoaW5mbGF0b3IuZXJyKSB0aHJvdyBpbmZsYXRvci5tc2cgfHwgbWVzc2FnZXNbaW5mbGF0b3IuZXJyXTtcblxuICByZXR1cm4gaW5mbGF0b3IucmVzdWx0O1xufVxuXG5cbi8qKlxuICogaW5mbGF0ZVJhdyhkYXRhWywgb3B0aW9uc10pIC0+IFVpbnQ4QXJyYXl8U3RyaW5nXG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXIpOiBpbnB1dCBkYXRhIHRvIGRlY29tcHJlc3MuXG4gKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgaW5mbGF0ZSBvcHRpb25zLlxuICpcbiAqIFRoZSBzYW1lIGFzIFtbaW5mbGF0ZV1dLCBidXQgY3JlYXRlcyByYXcgZGF0YSwgd2l0aG91dCB3cmFwcGVyXG4gKiAoaGVhZGVyIGFuZCBhZGxlcjMyIGNyYykuXG4gKiovXG5mdW5jdGlvbiBpbmZsYXRlUmF3JDEoaW5wdXQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIG9wdGlvbnMucmF3ID0gdHJ1ZTtcbiAgcmV0dXJuIGluZmxhdGUkMShpbnB1dCwgb3B0aW9ucyk7XG59XG5cblxuLyoqXG4gKiB1bmd6aXAoZGF0YVssIG9wdGlvbnNdKSAtPiBVaW50OEFycmF5fFN0cmluZ1xuICogLSBkYXRhIChVaW50OEFycmF5fEFycmF5QnVmZmVyKTogaW5wdXQgZGF0YSB0byBkZWNvbXByZXNzLlxuICogLSBvcHRpb25zIChPYmplY3QpOiB6bGliIGluZmxhdGUgb3B0aW9ucy5cbiAqXG4gKiBKdXN0IHNob3J0Y3V0IHRvIFtbaW5mbGF0ZV1dLCBiZWNhdXNlIGl0IGF1dG9kZXRlY3RzIGZvcm1hdFxuICogYnkgaGVhZGVyLmNvbnRlbnQuIERvbmUgZm9yIGNvbnZlbmllbmNlLlxuICoqL1xuXG5cbnZhciBJbmZsYXRlXzEkMSA9IEluZmxhdGUkMTtcbnZhciBpbmZsYXRlXzIgPSBpbmZsYXRlJDE7XG52YXIgaW5mbGF0ZVJhd18xJDEgPSBpbmZsYXRlUmF3JDE7XG52YXIgdW5nemlwJDEgPSBpbmZsYXRlJDE7XG52YXIgY29uc3RhbnRzID0gY29uc3RhbnRzJDI7XG5cbnZhciBpbmZsYXRlXzEkMSA9IHtcblx0SW5mbGF0ZTogSW5mbGF0ZV8xJDEsXG5cdGluZmxhdGU6IGluZmxhdGVfMixcblx0aW5mbGF0ZVJhdzogaW5mbGF0ZVJhd18xJDEsXG5cdHVuZ3ppcDogdW5nemlwJDEsXG5cdGNvbnN0YW50czogY29uc3RhbnRzXG59O1xuXG5jb25zdCB7IERlZmxhdGUsIGRlZmxhdGUsIGRlZmxhdGVSYXcsIGd6aXAgfSA9IGRlZmxhdGVfMSQxO1xuXG5jb25zdCB7IEluZmxhdGUsIGluZmxhdGUsIGluZmxhdGVSYXcsIHVuZ3ppcCB9ID0gaW5mbGF0ZV8xJDE7XG5cblxuXG52YXIgRGVmbGF0ZV8xID0gRGVmbGF0ZTtcbnZhciBkZWZsYXRlXzEgPSBkZWZsYXRlO1xudmFyIGRlZmxhdGVSYXdfMSA9IGRlZmxhdGVSYXc7XG52YXIgZ3ppcF8xID0gZ3ppcDtcbnZhciBJbmZsYXRlXzEgPSBJbmZsYXRlO1xudmFyIGluZmxhdGVfMSA9IGluZmxhdGU7XG52YXIgaW5mbGF0ZVJhd18xID0gaW5mbGF0ZVJhdztcbnZhciB1bmd6aXBfMSA9IHVuZ3ppcDtcbnZhciBjb25zdGFudHNfMSA9IGNvbnN0YW50cyQyO1xuXG52YXIgcGFrbyA9IHtcblx0RGVmbGF0ZTogRGVmbGF0ZV8xLFxuXHRkZWZsYXRlOiBkZWZsYXRlXzEsXG5cdGRlZmxhdGVSYXc6IGRlZmxhdGVSYXdfMSxcblx0Z3ppcDogZ3ppcF8xLFxuXHRJbmZsYXRlOiBJbmZsYXRlXzEsXG5cdGluZmxhdGU6IGluZmxhdGVfMSxcblx0aW5mbGF0ZVJhdzogaW5mbGF0ZVJhd18xLFxuXHR1bmd6aXA6IHVuZ3ppcF8xLFxuXHRjb25zdGFudHM6IGNvbnN0YW50c18xXG59O1xuXG5leHBvcnQgeyBEZWZsYXRlXzEgYXMgRGVmbGF0ZSwgSW5mbGF0ZV8xIGFzIEluZmxhdGUsIGNvbnN0YW50c18xIGFzIGNvbnN0YW50cywgcGFrbyBhcyBkZWZhdWx0LCBkZWZsYXRlXzEgYXMgZGVmbGF0ZSwgZGVmbGF0ZVJhd18xIGFzIGRlZmxhdGVSYXcsIGd6aXBfMSBhcyBnemlwLCBpbmZsYXRlXzEgYXMgaW5mbGF0ZSwgaW5mbGF0ZVJhd18xIGFzIGluZmxhdGVSYXcsIHVuZ3ppcF8xIGFzIHVuZ3ppcCB9O1xuIiwiLypcbioqIExJQ0VOU0UgZm9yIHRoZSBzcWxpdGUzIFdlYkFzc2VtYmx5L0phdmFTY3JpcHQgQVBJcy5cbioqXG4qKiBUaGlzIGJ1bmRsZSAodHlwaWNhbGx5IHJlbGVhc2VkIGFzIHNxbGl0ZTMuanMgb3Igc3FsaXRlMy5tanMpXG4qKiBpcyBhbiBhbWFsZ2FtYXRpb24gb2YgSmF2YVNjcmlwdCBzb3VyY2UgY29kZSBmcm9tIHR3byBwcm9qZWN0czpcbioqXG4qKiAxKSBodHRwczovL2Vtc2NyaXB0ZW4ub3JnOiB0aGUgRW1zY3JpcHRlbiBcImdsdWUgY29kZVwiIGlzIGNvdmVyZWQgYnlcbioqICAgIHRoZSB0ZXJtcyBvZiB0aGUgTUlUIGxpY2Vuc2UgYW5kIFVuaXZlcnNpdHkgb2YgSWxsaW5vaXMvTkNTQVxuKiogICAgT3BlbiBTb3VyY2UgTGljZW5zZSwgYXMgZGVzY3JpYmVkIGF0OlxuKipcbioqICAgIGh0dHBzOi8vZW1zY3JpcHRlbi5vcmcvZG9jcy9pbnRyb2R1Y2luZ19lbXNjcmlwdGVuL2Vtc2NyaXB0ZW5fbGljZW5zZS5odG1sXG4qKlxuKiogMikgaHR0cHM6Ly9zcWxpdGUub3JnOiBhbGwgY29kZSBhbmQgZG9jdW1lbnRhdGlvbiBsYWJlbGVkIGFzIGJlaW5nXG4qKiAgICBmcm9tIHRoaXMgc291cmNlIGFyZSByZWxlYXNlZCB1bmRlciB0aGUgc2FtZSB0ZXJtcyBhcyB0aGUgc3FsaXRlM1xuKiogICAgQyBsaWJyYXJ5OlxuKipcbioqIDIwMjItMTAtMTZcbioqXG4qKiBUaGUgYXV0aG9yIGRpc2NsYWltcyBjb3B5cmlnaHQgdG8gdGhpcyBzb3VyY2UgY29kZS4gIEluIHBsYWNlIG9mIGFcbioqIGxlZ2FsIG5vdGljZSwgaGVyZSBpcyBhIGJsZXNzaW5nOlxuKipcbioqICogICBNYXkgeW91IGRvIGdvb2QgYW5kIG5vdCBldmlsLlxuKiogKiAgIE1heSB5b3UgZmluZCBmb3JnaXZlbmVzcyBmb3IgeW91cnNlbGYgYW5kIGZvcmdpdmUgb3RoZXJzLlxuKiogKiAgIE1heSB5b3Ugc2hhcmUgZnJlZWx5LCBuZXZlciB0YWtpbmcgbW9yZSB0aGFuIHlvdSBnaXZlLlxuKi9cbi8qXG4qKiBUaGlzIGNvZGUgd2FzIGJ1aWx0IGZyb20gc3FsaXRlMyB2ZXJzaW9uLi4uXG4qKlxuKiogU1FMSVRFX1ZFUlNJT04gXCIzLjQyLjBcIlxuKiogU1FMSVRFX1ZFUlNJT05fTlVNQkVSIDMwNDIwMDBcbioqIFNRTElURV9TT1VSQ0VfSUQgXCIyMDIzLTAzLTA5IDE2OjExOjQzIDg3MGRlNjFmOGVmODc4MWYyZjk5NjliMDEyZjVjMWNiOTViNmJjZTFhOWE0ZGNhZjAyOTQ1Yjc4NDZjM2FhODNcIlxuKipcbioqIFVzaW5nIHRoZSBFbXNjcmlwdGVuIFNESyB2ZXJzaW9uIDMuMS4zMi5cbiovXG5cbnZhciBzcWxpdGUzSW5pdE1vZHVsZSA9ICgoKSA9PiB7XG4gIHZhciBfc2NyaXB0RGlyID0gaW1wb3J0Lm1ldGEudXJsO1xuICBcbiAgcmV0dXJuIChcbmZ1bmN0aW9uKHNxbGl0ZTNJbml0TW9kdWxlID0ge30pICB7XG5cbi8vIGluY2x1ZGU6IHNoZWxsLmpzXG4vLyBUaGUgTW9kdWxlIG9iamVjdDogT3VyIGludGVyZmFjZSB0byB0aGUgb3V0c2lkZSB3b3JsZC4gV2UgaW1wb3J0XG4vLyBhbmQgZXhwb3J0IHZhbHVlcyBvbiBpdC4gVGhlcmUgYXJlIHZhcmlvdXMgd2F5cyBNb2R1bGUgY2FuIGJlIHVzZWQ6XG4vLyAxLiBOb3QgZGVmaW5lZC4gV2UgY3JlYXRlIGl0IGhlcmVcbi8vIDIuIEEgZnVuY3Rpb24gcGFyYW1ldGVyLCBmdW5jdGlvbihNb2R1bGUpIHsgLi5nZW5lcmF0ZWQgY29kZS4uIH1cbi8vIDMuIHByZS1ydW4gYXBwZW5kZWQgaXQsIHZhciBNb2R1bGUgPSB7fTsgLi5nZW5lcmF0ZWQgY29kZS4uXG4vLyA0LiBFeHRlcm5hbCBzY3JpcHQgdGFnIGRlZmluZXMgdmFyIE1vZHVsZS5cbi8vIFdlIG5lZWQgdG8gY2hlY2sgaWYgTW9kdWxlIGFscmVhZHkgZXhpc3RzIChlLmcuIGNhc2UgMyBhYm92ZSkuXG4vLyBTdWJzdGl0dXRpb24gd2lsbCBiZSByZXBsYWNlZCB3aXRoIGFjdHVhbCBjb2RlIG9uIGxhdGVyIHN0YWdlIG9mIHRoZSBidWlsZCxcbi8vIHRoaXMgd2F5IENsb3N1cmUgQ29tcGlsZXIgd2lsbCBub3QgbWFuZ2xlIGl0IChlLmcuIGNhc2UgNC4gYWJvdmUpLlxuLy8gTm90ZSB0aGF0IGlmIHlvdSB3YW50IHRvIHJ1biBjbG9zdXJlLCBhbmQgYWxzbyB0byB1c2UgTW9kdWxlXG4vLyBhZnRlciB0aGUgZ2VuZXJhdGVkIGNvZGUsIHlvdSB3aWxsIG5lZWQgdG8gZGVmaW5lICAgdmFyIE1vZHVsZSA9IHt9O1xuLy8gYmVmb3JlIHRoZSBjb2RlLiBUaGVuIHRoYXQgb2JqZWN0IHdpbGwgYmUgdXNlZCBpbiB0aGUgY29kZSwgYW5kIHlvdVxuLy8gY2FuIGNvbnRpbnVlIHRvIHVzZSBNb2R1bGUgYWZ0ZXJ3YXJkcyBhcyB3ZWxsLlxudmFyIE1vZHVsZSA9IHR5cGVvZiBzcWxpdGUzSW5pdE1vZHVsZSAhPSAndW5kZWZpbmVkJyA/IHNxbGl0ZTNJbml0TW9kdWxlIDoge307XG5cbi8vIFNldCB1cCB0aGUgcHJvbWlzZSB0aGF0IGluZGljYXRlcyB0aGUgTW9kdWxlIGlzIGluaXRpYWxpemVkXG52YXIgcmVhZHlQcm9taXNlUmVzb2x2ZSwgcmVhZHlQcm9taXNlUmVqZWN0O1xuTW9kdWxlWydyZWFkeSddID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gIHJlYWR5UHJvbWlzZVJlc29sdmUgPSByZXNvbHZlO1xuICByZWFkeVByb21pc2VSZWplY3QgPSByZWplY3Q7XG59KTtcblxuLy8gLS1wcmUtanNlcyBhcmUgZW1pdHRlZCBhZnRlciB0aGUgTW9kdWxlIGludGVncmF0aW9uIGNvZGUsIHNvIHRoYXQgdGhleSBjYW5cbi8vIHJlZmVyIHRvIE1vZHVsZSAoaWYgdGhleSBjaG9vc2U7IHRoZXkgY2FuIGFsc28gZGVmaW5lIE1vZHVsZSlcbi8qKlxuICAgQkVHSU4gRklMRTogYXBpL3ByZS1qcy5qc1xuXG4gICBUaGlzIGZpbGUgaXMgaW50ZW5kZWQgdG8gYmUgcHJlcGVuZGVkIHRvIHRoZSBzcWxpdGUzLmpzIGJ1aWxkIHVzaW5nXG4gICBFbXNjcmlwdGVuJ3MgLS1wcmUtanM9VEhJU19GSUxFIGZsYWcgKG9yIGVxdWl2YWxlbnQpLlxuKi9cblxuLy8gU2VlIG5vdGVzIGluIGV4dGVybi1wb3N0LWpzLmpzXG5jb25zdCBzcWxpdGUzSW5pdE1vZHVsZVN0YXRlID0gZ2xvYmFsVGhpcy5zcWxpdGUzSW5pdE1vZHVsZVN0YXRlXG4gICAgICB8fCBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCkse1xuICAgICAgICBkZWJ1Z01vZHVsZTogKCk9Pnt9XG4gICAgICB9KTtcbmRlbGV0ZSBnbG9iYWxUaGlzLnNxbGl0ZTNJbml0TW9kdWxlU3RhdGU7XG5zcWxpdGUzSW5pdE1vZHVsZVN0YXRlLmRlYnVnTW9kdWxlKCdnbG9iYWxUaGlzLmxvY2F0aW9uID0nLGdsb2JhbFRoaXMubG9jYXRpb24pO1xuXG4vKipcbiAgIEJ1ZyB3YXJuaW5nOiBhIGN1c3RvbSBNb2R1bGUuaW5zdGFudGlhdGVXYXNtKCkgZG9lcyBub3Qgd29ya1xuICAgaW4gV0FTTUZTIGJ1aWxkczpcblxuICAgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL2lzc3Vlcy8xNzk1MVxuXG4gICBJbiBzdWNoIGJ1aWxkcyB3ZSBtdXN0IGRpc2FibGUgdGhpcy5cbiovXG5jb25zdCB4TmFtZU9mSW5zdGFudGlhdGVXYXNtID0gZmFsc2VcbiAgICAgID8gJ2luc3RhbnRpYXRlV2FzbSdcbiAgICAgIDogJ2Vtc2NyaXB0ZW4tYnVnLTE3OTUxJztcbk1vZHVsZVt4TmFtZU9mSW5zdGFudGlhdGVXYXNtXSA9IGZ1bmN0aW9uIGNhbGxlZShpbXBvcnRzLG9uU3VjY2Vzcyl7XG4gIGltcG9ydHMuZW52LmZvbyA9IGZ1bmN0aW9uKCl7fTtcbiAgY29uc3QgdXJpID0gTW9kdWxlLmxvY2F0ZUZpbGUoXG4gICAgY2FsbGVlLnVyaSwgKFxuICAgICAgKCd1bmRlZmluZWQnPT09dHlwZW9mIHNjcmlwdERpcmVjdG9yeS8qdmFyIGRlZmluZWQgYnkgRW1zY3JpcHRlbiBnbHVlKi8pXG4gICAgICAgID8gXCJcIiA6IHNjcmlwdERpcmVjdG9yeSlcbiAgKTtcbiAgc3FsaXRlM0luaXRNb2R1bGVTdGF0ZS5kZWJ1Z01vZHVsZShcbiAgICBcImluc3RhbnRpYXRlV2FzbSgpIHVyaSA9XCIsIHVyaVxuICApO1xuICBjb25zdCB3ZmV0Y2ggPSAoKT0+ZmV0Y2godXJpLCB7Y3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbid9KTtcbiAgY29uc3QgbG9hZFdhc20gPSBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZ1xuICAgICAgICA/IGFzeW5jICgpPT57XG4gICAgICAgICAgcmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKHdmZXRjaCgpLCBpbXBvcnRzKVxuICAgICAgICAgICAgLnRoZW4oKGFyZyk9Pm9uU3VjY2VzcyhhcmcuaW5zdGFuY2UsIGFyZy5tb2R1bGUpKTtcbiAgICAgICAgfVxuICAgICAgICA6IGFzeW5jICgpPT57IC8vIFNhZmFyaSA8IHYxNVxuICAgICAgICAgIHJldHVybiB3ZmV0Y2goKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSlcbiAgICAgICAgICAgIC50aGVuKGJ5dGVzID0+IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGJ5dGVzLCBpbXBvcnRzKSlcbiAgICAgICAgICAgIC50aGVuKChhcmcpPT5vblN1Y2Nlc3MoYXJnLmluc3RhbmNlLCBhcmcubW9kdWxlKSk7XG4gICAgICAgIH07XG4gIGxvYWRXYXNtKCk7XG4gIHJldHVybiB7fTtcbn07XG4vKlxuICBJdCBpcyBsaXRlcmFsbHkgaW1wb3NzaWJsZSB0byByZWxpYWJseSBnZXQgdGhlIG5hbWUgb2YgX3RoaXNfIHNjcmlwdFxuICBhdCBydW50aW1lLCBzbyBpbXBvc3NpYmxlIHRvIGRlcml2ZSBYLndhc20gZnJvbSBzY3JpcHQgbmFtZVxuICBYLmpzLiBUaHVzIHdlIG5lZWQsIGF0IGJ1aWxkLXRpbWUsIHRvIHJlZGVmaW5lXG4gIE1vZHVsZVt4TmFtZU9mSW5zdGFudGlhdGVXYXNtXS51cmkgYnkgYXBwZW5kaW5nIGl0IHRvIGEgYnVpbGQtc3BlY2lmaWNcbiAgY29weSBvZiB0aGlzIGZpbGUgd2l0aCB0aGUgbmFtZSBvZiB0aGUgd2FzbSBmaWxlLiBUaGlzIGlzIGFwcGFyZW50bHlcbiAgd2h5IEVtc2NyaXB0ZW4gaGFyZC1jb2RlcyB0aGUgbmFtZSBvZiB0aGUgd2FzbSBmaWxlIGludG8gdGhlaXIgZ2x1ZVxuICBzY3JpcHRzLlxuKi9cbk1vZHVsZVt4TmFtZU9mSW5zdGFudGlhdGVXYXNtXS51cmkgPSAnc3FsaXRlMy53YXNtJztcbi8qIEVORCBGSUxFOiBhcGkvcHJlLWpzLmpzLCBub3RpbmcgdGhhdCB0aGUgYnVpbGQgcHJvY2VzcyBtYXkgYWRkIGFcbiAgIGxpbmUgYWZ0ZXIgdGhpcyBvbmUgdG8gY2hhbmdlIHRoZSBhYm92ZSAudXJpIHRvIGEgYnVpbGQtc3BlY2lmaWNcbiAgIG9uZS4gKi9cblxuXG5cbi8vIFNvbWV0aW1lcyBhbiBleGlzdGluZyBNb2R1bGUgb2JqZWN0IGV4aXN0cyB3aXRoIHByb3BlcnRpZXNcbi8vIG1lYW50IHRvIG92ZXJ3cml0ZSB0aGUgZGVmYXVsdCBtb2R1bGUgZnVuY3Rpb25hbGl0eS4gSGVyZVxuLy8gd2UgY29sbGVjdCB0aG9zZSBwcm9wZXJ0aWVzIGFuZCByZWFwcGx5IF9hZnRlcl8gd2UgY29uZmlndXJlXG4vLyB0aGUgY3VycmVudCBlbnZpcm9ubWVudCdzIGRlZmF1bHRzIHRvIGF2b2lkIGhhdmluZyB0byBiZSBzb1xuLy8gZGVmZW5zaXZlIGR1cmluZyBpbml0aWFsaXphdGlvbi5cbnZhciBtb2R1bGVPdmVycmlkZXMgPSBPYmplY3QuYXNzaWduKHt9LCBNb2R1bGUpO1xuXG52YXIgYXJndW1lbnRzXyA9IFtdO1xudmFyIHRoaXNQcm9ncmFtID0gJy4vdGhpcy5wcm9ncmFtJztcbnZhciBxdWl0XyA9IChzdGF0dXMsIHRvVGhyb3cpID0+IHtcbiAgdGhyb3cgdG9UaHJvdztcbn07XG5cbi8vIERldGVybWluZSB0aGUgcnVudGltZSBlbnZpcm9ubWVudCB3ZSBhcmUgaW4uIFlvdSBjYW4gY3VzdG9taXplIHRoaXMgYnlcbi8vIHNldHRpbmcgdGhlIEVOVklST05NRU5UIHNldHRpbmcgYXQgY29tcGlsZSB0aW1lIChzZWUgc2V0dGluZ3MuanMpLlxuXG4vLyBBdHRlbXB0IHRvIGF1dG8tZGV0ZWN0IHRoZSBlbnZpcm9ubWVudFxudmFyIEVOVklST05NRU5UX0lTX1dFQiA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCc7XG52YXIgRU5WSVJPTk1FTlRfSVNfV09SS0VSID0gdHlwZW9mIGltcG9ydFNjcmlwdHMgPT0gJ2Z1bmN0aW9uJztcbi8vIE4uYi4gRWxlY3Ryb24uanMgZW52aXJvbm1lbnQgaXMgc2ltdWx0YW5lb3VzbHkgYSBOT0RFLWVudmlyb25tZW50LCBidXRcbi8vIGFsc28gYSB3ZWIgZW52aXJvbm1lbnQuXG52YXIgRU5WSVJPTk1FTlRfSVNfTk9ERSA9IHR5cGVvZiBwcm9jZXNzID09ICdvYmplY3QnICYmIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zID09ICdvYmplY3QnICYmIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGUgPT0gJ3N0cmluZyc7XG52YXIgRU5WSVJPTk1FTlRfSVNfU0hFTEwgPSAhRU5WSVJPTk1FTlRfSVNfV0VCICYmICFFTlZJUk9OTUVOVF9JU19OT0RFICYmICFFTlZJUk9OTUVOVF9JU19XT1JLRVI7XG5cbi8vIGAvYCBzaG91bGQgYmUgcHJlc2VudCBhdCB0aGUgZW5kIGlmIGBzY3JpcHREaXJlY3RvcnlgIGlzIG5vdCBlbXB0eVxudmFyIHNjcmlwdERpcmVjdG9yeSA9ICcnO1xuZnVuY3Rpb24gbG9jYXRlRmlsZShwYXRoKSB7XG4gIGlmIChNb2R1bGVbJ2xvY2F0ZUZpbGUnXSkge1xuICAgIHJldHVybiBNb2R1bGVbJ2xvY2F0ZUZpbGUnXShwYXRoLCBzY3JpcHREaXJlY3RvcnkpO1xuICB9XG4gIHJldHVybiBzY3JpcHREaXJlY3RvcnkgKyBwYXRoO1xufVxuXG4vLyBIb29rcyB0aGF0IGFyZSBpbXBsZW1lbnRlZCBkaWZmZXJlbnRseSBpbiBkaWZmZXJlbnQgcnVudGltZSBlbnZpcm9ubWVudHMuXG52YXIgcmVhZF8sXG4gICAgcmVhZEFzeW5jLFxuICAgIHJlYWRCaW5hcnksXG4gICAgc2V0V2luZG93VGl0bGU7XG5cbi8vIE5vdGUgdGhhdCB0aGlzIGluY2x1ZGVzIE5vZGUuanMgd29ya2VycyB3aGVuIHJlbGV2YW50IChwdGhyZWFkcyBpcyBlbmFibGVkKS5cbi8vIE5vZGUuanMgd29ya2VycyBhcmUgZGV0ZWN0ZWQgYXMgYSBjb21iaW5hdGlvbiBvZiBFTlZJUk9OTUVOVF9JU19XT1JLRVIgYW5kXG4vLyBFTlZJUk9OTUVOVF9JU19OT0RFLlxuaWYgKEVOVklST05NRU5UX0lTX1dFQiB8fCBFTlZJUk9OTUVOVF9JU19XT1JLRVIpIHtcbiAgaWYgKEVOVklST05NRU5UX0lTX1dPUktFUikgeyAvLyBDaGVjayB3b3JrZXIsIG5vdCB3ZWIsIHNpbmNlIHdpbmRvdyBjb3VsZCBiZSBwb2x5ZmlsbGVkXG4gICAgc2NyaXB0RGlyZWN0b3J5ID0gc2VsZi5sb2NhdGlvbi5ocmVmO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudCAhPSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0KSB7IC8vIHdlYlxuICAgIHNjcmlwdERpcmVjdG9yeSA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuICB9XG4gIC8vIFdoZW4gTU9EVUxBUklaRSwgdGhpcyBKUyBtYXkgYmUgZXhlY3V0ZWQgbGF0ZXIsIGFmdGVyIGRvY3VtZW50LmN1cnJlbnRTY3JpcHRcbiAgLy8gaXMgZ29uZSwgc28gd2Ugc2F2ZWQgaXQsIGFuZCB3ZSB1c2UgaXQgaGVyZSBpbnN0ZWFkIG9mIGFueSBvdGhlciBpbmZvLlxuICBpZiAoX3NjcmlwdERpcikge1xuICAgIHNjcmlwdERpcmVjdG9yeSA9IF9zY3JpcHREaXI7XG4gIH1cbiAgLy8gYmxvYiB1cmxzIGxvb2sgbGlrZSBibG9iOmh0dHA6Ly9zaXRlLmNvbS9ldGMvZXRjIGFuZCB3ZSBjYW5ub3QgaW5mZXIgYW55dGhpbmcgZnJvbSB0aGVtLlxuICAvLyBvdGhlcndpc2UsIHNsaWNlIG9mZiB0aGUgZmluYWwgcGFydCBvZiB0aGUgdXJsIHRvIGZpbmQgdGhlIHNjcmlwdCBkaXJlY3RvcnkuXG4gIC8vIGlmIHNjcmlwdERpcmVjdG9yeSBkb2VzIG5vdCBjb250YWluIGEgc2xhc2gsIGxhc3RJbmRleE9mIHdpbGwgcmV0dXJuIC0xLFxuICAvLyBhbmQgc2NyaXB0RGlyZWN0b3J5IHdpbGwgY29ycmVjdGx5IGJlIHJlcGxhY2VkIHdpdGggYW4gZW1wdHkgc3RyaW5nLlxuICAvLyBJZiBzY3JpcHREaXJlY3RvcnkgY29udGFpbnMgYSBxdWVyeSAoc3RhcnRpbmcgd2l0aCA/KSBvciBhIGZyYWdtZW50IChzdGFydGluZyB3aXRoICMpLFxuICAvLyB0aGV5IGFyZSByZW1vdmVkIGJlY2F1c2UgdGhleSBjb3VsZCBjb250YWluIGEgc2xhc2guXG4gIGlmIChzY3JpcHREaXJlY3RvcnkuaW5kZXhPZignYmxvYjonKSAhPT0gMCkge1xuICAgIHNjcmlwdERpcmVjdG9yeSA9IHNjcmlwdERpcmVjdG9yeS5zdWJzdHIoMCwgc2NyaXB0RGlyZWN0b3J5LnJlcGxhY2UoL1s/I10uKi8sIFwiXCIpLmxhc3RJbmRleE9mKCcvJykrMSk7XG4gIH0gZWxzZSB7XG4gICAgc2NyaXB0RGlyZWN0b3J5ID0gJyc7XG4gIH1cblxuICAvLyBEaWZmZXJlbnRpYXRlIHRoZSBXZWIgV29ya2VyIGZyb20gdGhlIE5vZGUgV29ya2VyIGNhc2UsIGFzIHJlYWRpbmcgbXVzdFxuICAvLyBiZSBkb25lIGRpZmZlcmVudGx5LlxuICB7XG4vLyBpbmNsdWRlOiB3ZWJfb3Jfd29ya2VyX3NoZWxsX3JlYWQuanNcbnJlYWRfID0gKHVybCkgPT4ge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgZmFsc2UpO1xuICAgICAgeGhyLnNlbmQobnVsbCk7XG4gICAgICByZXR1cm4geGhyLnJlc3BvbnNlVGV4dDtcbiAgfVxuXG4gIGlmIChFTlZJUk9OTUVOVF9JU19XT1JLRVIpIHtcbiAgICByZWFkQmluYXJ5ID0gKHVybCkgPT4ge1xuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIGZhbHNlKTtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgIHhoci5zZW5kKG51bGwpO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoLyoqIEB0eXBleyFBcnJheUJ1ZmZlcn0gKi8oeGhyLnJlc3BvbnNlKSk7XG4gICAgfTtcbiAgfVxuXG4gIHJlYWRBc3luYyA9ICh1cmwsIG9ubG9hZCwgb25lcnJvcikgPT4ge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub3BlbignR0VUJywgdXJsLCB0cnVlKTtcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICB4aHIub25sb2FkID0gKCkgPT4ge1xuICAgICAgaWYgKHhoci5zdGF0dXMgPT0gMjAwIHx8ICh4aHIuc3RhdHVzID09IDAgJiYgeGhyLnJlc3BvbnNlKSkgeyAvLyBmaWxlIFVSTHMgY2FuIHJldHVybiAwXG4gICAgICAgIG9ubG9hZCh4aHIucmVzcG9uc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvbmVycm9yKCk7XG4gICAgfTtcbiAgICB4aHIub25lcnJvciA9IG9uZXJyb3I7XG4gICAgeGhyLnNlbmQobnVsbCk7XG4gIH1cblxuLy8gZW5kIGluY2x1ZGU6IHdlYl9vcl93b3JrZXJfc2hlbGxfcmVhZC5qc1xuICB9XG5cbiAgc2V0V2luZG93VGl0bGUgPSAodGl0bGUpID0+IGRvY3VtZW50LnRpdGxlID0gdGl0bGU7XG59IGVsc2Vcbntcbn1cblxudmFyIG91dCA9IE1vZHVsZVsncHJpbnQnXSB8fCBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO1xudmFyIGVyciA9IE1vZHVsZVsncHJpbnRFcnInXSB8fCBjb25zb2xlLndhcm4uYmluZChjb25zb2xlKTtcblxuLy8gTWVyZ2UgYmFjayBpbiB0aGUgb3ZlcnJpZGVzXG5PYmplY3QuYXNzaWduKE1vZHVsZSwgbW9kdWxlT3ZlcnJpZGVzKTtcbi8vIEZyZWUgdGhlIG9iamVjdCBoaWVyYXJjaHkgY29udGFpbmVkIGluIHRoZSBvdmVycmlkZXMsIHRoaXMgbGV0cyB0aGUgR0Ncbi8vIHJlY2xhaW0gZGF0YSB1c2VkIGUuZy4gaW4gbWVtb3J5SW5pdGlhbGl6ZXJSZXF1ZXN0LCB3aGljaCBpcyBhIGxhcmdlIHR5cGVkIGFycmF5LlxubW9kdWxlT3ZlcnJpZGVzID0gbnVsbDtcblxuLy8gRW1pdCBjb2RlIHRvIGhhbmRsZSBleHBlY3RlZCB2YWx1ZXMgb24gdGhlIE1vZHVsZSBvYmplY3QuIFRoaXMgYXBwbGllcyBNb2R1bGUueFxuLy8gdG8gdGhlIHByb3BlciBsb2NhbCB4LiBUaGlzIGhhcyB0d28gYmVuZWZpdHM6IGZpcnN0LCB3ZSBvbmx5IGVtaXQgaXQgaWYgaXQgaXNcbi8vIGV4cGVjdGVkIHRvIGFycml2ZSwgYW5kIHNlY29uZCwgYnkgdXNpbmcgYSBsb2NhbCBldmVyeXdoZXJlIGVsc2UgdGhhdCBjYW4gYmVcbi8vIG1pbmlmaWVkLlxuXG5pZiAoTW9kdWxlWydhcmd1bWVudHMnXSkgYXJndW1lbnRzXyA9IE1vZHVsZVsnYXJndW1lbnRzJ107XG5cbmlmIChNb2R1bGVbJ3RoaXNQcm9ncmFtJ10pIHRoaXNQcm9ncmFtID0gTW9kdWxlWyd0aGlzUHJvZ3JhbSddO1xuXG5pZiAoTW9kdWxlWydxdWl0J10pIHF1aXRfID0gTW9kdWxlWydxdWl0J107XG5cbi8vIHBlcmZvcm0gYXNzZXJ0aW9ucyBpbiBzaGVsbC5qcyBhZnRlciB3ZSBzZXQgdXAgb3V0KCkgYW5kIGVycigpLCBhcyBvdGhlcndpc2UgaWYgYW4gYXNzZXJ0aW9uIGZhaWxzIGl0IGNhbm5vdCBwcmludCB0aGUgbWVzc2FnZVxuXG5cbi8vIGVuZCBpbmNsdWRlOiBzaGVsbC5qc1xuLy8gaW5jbHVkZTogcHJlYW1ibGUuanNcbi8vID09PSBQcmVhbWJsZSBsaWJyYXJ5IHN0dWZmID09PVxuXG4vLyBEb2N1bWVudGF0aW9uIGZvciB0aGUgcHVibGljIEFQSXMgZGVmaW5lZCBpbiB0aGlzIGZpbGUgbXVzdCBiZSB1cGRhdGVkIGluOlxuLy8gICAgc2l0ZS9zb3VyY2UvZG9jcy9hcGlfcmVmZXJlbmNlL3ByZWFtYmxlLmpzLnJzdFxuLy8gQSBwcmVidWlsdCBsb2NhbCB2ZXJzaW9uIG9mIHRoZSBkb2N1bWVudGF0aW9uIGlzIGF2YWlsYWJsZSBhdDpcbi8vICAgIHNpdGUvYnVpbGQvdGV4dC9kb2NzL2FwaV9yZWZlcmVuY2UvcHJlYW1ibGUuanMudHh0XG4vLyBZb3UgY2FuIGFsc28gYnVpbGQgZG9jcyBsb2NhbGx5IGFzIEhUTUwgb3Igb3RoZXIgZm9ybWF0cyBpbiBzaXRlL1xuLy8gQW4gb25saW5lIEhUTUwgdmVyc2lvbiAod2hpY2ggbWF5IGJlIG9mIGEgZGlmZmVyZW50IHZlcnNpb24gb2YgRW1zY3JpcHRlbilcbi8vICAgIGlzIHVwIGF0IGh0dHA6Ly9rcmlwa2VuLmdpdGh1Yi5pby9lbXNjcmlwdGVuLXNpdGUvZG9jcy9hcGlfcmVmZXJlbmNlL3ByZWFtYmxlLmpzLmh0bWxcblxudmFyIHdhc21CaW5hcnk7XG5pZiAoTW9kdWxlWyd3YXNtQmluYXJ5J10pIHdhc21CaW5hcnkgPSBNb2R1bGVbJ3dhc21CaW5hcnknXTtcbnZhciBub0V4aXRSdW50aW1lID0gTW9kdWxlWydub0V4aXRSdW50aW1lJ10gfHwgdHJ1ZTtcblxuaWYgKHR5cGVvZiBXZWJBc3NlbWJseSAhPSAnb2JqZWN0Jykge1xuICBhYm9ydCgnbm8gbmF0aXZlIHdhc20gc3VwcG9ydCBkZXRlY3RlZCcpO1xufVxuXG4vLyBXYXNtIGdsb2JhbHNcblxudmFyIHdhc21NZW1vcnk7XG5cbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUnVudGltZSBlc3NlbnRpYWxzXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gd2hldGhlciB3ZSBhcmUgcXVpdHRpbmcgdGhlIGFwcGxpY2F0aW9uLiBubyBjb2RlIHNob3VsZCBydW4gYWZ0ZXIgdGhpcy5cbi8vIHNldCBpbiBleGl0KCkgYW5kIGFib3J0KClcbnZhciBBQk9SVCA9IGZhbHNlO1xuXG4vLyBzZXQgYnkgZXhpdCgpIGFuZCBhYm9ydCgpLiAgUGFzc2VkIHRvICdvbkV4aXQnIGhhbmRsZXIuXG4vLyBOT1RFOiBUaGlzIGlzIGFsc28gdXNlZCBhcyB0aGUgcHJvY2VzcyByZXR1cm4gY29kZSBjb2RlIGluIHNoZWxsIGVudmlyb25tZW50c1xuLy8gYnV0IG9ubHkgd2hlbiBub0V4aXRSdW50aW1lIGlzIGZhbHNlLlxudmFyIEVYSVRTVEFUVVM7XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oKiwgc3RyaW5nPSl9ICovXG5mdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCB0ZXh0KSB7XG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgLy8gVGhpcyBidWlsZCB3YXMgY3JlYXRlZCB3aXRob3V0IEFTU0VSVElPTlMgZGVmaW5lZC4gIGBhc3NlcnQoKWAgc2hvdWxkIG5vdFxuICAgIC8vIGV2ZXIgYmUgY2FsbGVkIGluIHRoaXMgY29uZmlndXJhdGlvbiBidXQgaW4gY2FzZSB0aGVyZSBhcmUgY2FsbGVycyBpblxuICAgIC8vIHRoZSB3aWxkIGxlYXZlIHRoaXMgc2ltcGxlIGFib3J0KCkgaW1wbGVtZW5hdGlvbiBoZXJlIGZvciBub3cuXG4gICAgYWJvcnQodGV4dCk7XG4gIH1cbn1cblxuLy8gaW5jbHVkZTogcnVudGltZV9zdHJpbmdzLmpzXG4vLyBydW50aW1lX3N0cmluZ3MuanM6IFN0cmluZyByZWxhdGVkIHJ1bnRpbWUgZnVuY3Rpb25zIHRoYXQgYXJlIHBhcnQgb2YgYm90aFxuLy8gTUlOSU1BTF9SVU5USU1FIGFuZCByZWd1bGFyIHJ1bnRpbWUuXG5cbnZhciBVVEY4RGVjb2RlciA9IHR5cGVvZiBUZXh0RGVjb2RlciAhPSAndW5kZWZpbmVkJyA/IG5ldyBUZXh0RGVjb2RlcigndXRmOCcpIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIEdpdmVuIGEgcG9pbnRlciAnaWR4JyB0byBhIG51bGwtdGVybWluYXRlZCBVVEY4LWVuY29kZWQgc3RyaW5nIGluIHRoZSBnaXZlblxuICogYXJyYXkgdGhhdCBjb250YWlucyB1aW50OCB2YWx1ZXMsIHJldHVybnMgYSBjb3B5IG9mIHRoYXQgc3RyaW5nIGFzIGFcbiAqIEphdmFzY3JpcHQgU3RyaW5nIG9iamVjdC5cbiAqIGhlYXBPckFycmF5IGlzIGVpdGhlciBhIHJlZ3VsYXIgYXJyYXksIG9yIGEgSmF2YVNjcmlwdCB0eXBlZCBhcnJheSB2aWV3LlxuICogQHBhcmFtIHtudW1iZXJ9IGlkeFxuICogQHBhcmFtIHtudW1iZXI9fSBtYXhCeXRlc1RvUmVhZFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBVVEY4QXJyYXlUb1N0cmluZyhoZWFwT3JBcnJheSwgaWR4LCBtYXhCeXRlc1RvUmVhZCkge1xuICB2YXIgZW5kSWR4ID0gaWR4ICsgbWF4Qnl0ZXNUb1JlYWQ7XG4gIHZhciBlbmRQdHIgPSBpZHg7XG4gIC8vIFRleHREZWNvZGVyIG5lZWRzIHRvIGtub3cgdGhlIGJ5dGUgbGVuZ3RoIGluIGFkdmFuY2UsIGl0IGRvZXNuJ3Qgc3RvcCBvblxuICAvLyBudWxsIHRlcm1pbmF0b3IgYnkgaXRzZWxmLiAgQWxzbywgdXNlIHRoZSBsZW5ndGggaW5mbyB0byBhdm9pZCBydW5uaW5nIHRpbnlcbiAgLy8gc3RyaW5ncyB0aHJvdWdoIFRleHREZWNvZGVyLCBzaW5jZSAuc3ViYXJyYXkoKSBhbGxvY2F0ZXMgZ2FyYmFnZS5cbiAgLy8gKEFzIGEgdGlueSBjb2RlIHNhdmUgdHJpY2ssIGNvbXBhcmUgZW5kUHRyIGFnYWluc3QgZW5kSWR4IHVzaW5nIGEgbmVnYXRpb24sXG4gIC8vIHNvIHRoYXQgdW5kZWZpbmVkIG1lYW5zIEluZmluaXR5KVxuICB3aGlsZSAoaGVhcE9yQXJyYXlbZW5kUHRyXSAmJiAhKGVuZFB0ciA+PSBlbmRJZHgpKSArK2VuZFB0cjtcblxuICBpZiAoZW5kUHRyIC0gaWR4ID4gMTYgJiYgaGVhcE9yQXJyYXkuYnVmZmVyICYmIFVURjhEZWNvZGVyKSB7XG4gICAgcmV0dXJuIFVURjhEZWNvZGVyLmRlY29kZShoZWFwT3JBcnJheS5zdWJhcnJheShpZHgsIGVuZFB0cikpO1xuICB9XG4gIHZhciBzdHIgPSAnJztcbiAgLy8gSWYgYnVpbGRpbmcgd2l0aCBUZXh0RGVjb2Rlciwgd2UgaGF2ZSBhbHJlYWR5IGNvbXB1dGVkIHRoZSBzdHJpbmcgbGVuZ3RoXG4gIC8vIGFib3ZlLCBzbyB0ZXN0IGxvb3AgZW5kIGNvbmRpdGlvbiBhZ2FpbnN0IHRoYXRcbiAgd2hpbGUgKGlkeCA8IGVuZFB0cikge1xuICAgIC8vIEZvciBVVEY4IGJ5dGUgc3RydWN0dXJlLCBzZWU6XG4gICAgLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9VVEYtOCNEZXNjcmlwdGlvblxuICAgIC8vIGh0dHBzOi8vd3d3LmlldGYub3JnL3JmYy9yZmMyMjc5LnR4dFxuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNjI5XG4gICAgdmFyIHUwID0gaGVhcE9yQXJyYXlbaWR4KytdO1xuICAgIGlmICghKHUwICYgMHg4MCkpIHsgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodTApOyBjb250aW51ZTsgfVxuICAgIHZhciB1MSA9IGhlYXBPckFycmF5W2lkeCsrXSAmIDYzO1xuICAgIGlmICgodTAgJiAweEUwKSA9PSAweEMwKSB7IHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgodTAgJiAzMSkgPDwgNikgfCB1MSk7IGNvbnRpbnVlOyB9XG4gICAgdmFyIHUyID0gaGVhcE9yQXJyYXlbaWR4KytdICYgNjM7XG4gICAgaWYgKCh1MCAmIDB4RjApID09IDB4RTApIHtcbiAgICAgIHUwID0gKCh1MCAmIDE1KSA8PCAxMikgfCAodTEgPDwgNikgfCB1MjtcbiAgICB9IGVsc2Uge1xuICAgICAgdTAgPSAoKHUwICYgNykgPDwgMTgpIHwgKHUxIDw8IDEyKSB8ICh1MiA8PCA2KSB8IChoZWFwT3JBcnJheVtpZHgrK10gJiA2Myk7XG4gICAgfVxuXG4gICAgaWYgKHUwIDwgMHgxMDAwMCkge1xuICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodTApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY2ggPSB1MCAtIDB4MTAwMDA7XG4gICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgweEQ4MDAgfCAoY2ggPj4gMTApLCAweERDMDAgfCAoY2ggJiAweDNGRikpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufVxuXG4vKipcbiAqIEdpdmVuIGEgcG9pbnRlciAncHRyJyB0byBhIG51bGwtdGVybWluYXRlZCBVVEY4LWVuY29kZWQgc3RyaW5nIGluIHRoZVxuICogZW1zY3JpcHRlbiBIRUFQLCByZXR1cm5zIGEgY29weSBvZiB0aGF0IHN0cmluZyBhcyBhIEphdmFzY3JpcHQgU3RyaW5nIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gcHRyXG4gKiBAcGFyYW0ge251bWJlcj19IG1heEJ5dGVzVG9SZWFkIC0gQW4gb3B0aW9uYWwgbGVuZ3RoIHRoYXQgc3BlY2lmaWVzIHRoZVxuICogICBtYXhpbXVtIG51bWJlciBvZiBieXRlcyB0byByZWFkLiBZb3UgY2FuIG9taXQgdGhpcyBwYXJhbWV0ZXIgdG8gc2NhbiB0aGVcbiAqICAgc3RyaW5nIHVudGlsIHRoZSBmaXJzdCBcXDAgYnl0ZS4gSWYgbWF4Qnl0ZXNUb1JlYWQgaXMgcGFzc2VkLCBhbmQgdGhlIHN0cmluZ1xuICogICBhdCBbcHRyLCBwdHIrbWF4Qnl0ZXNUb1JlYWRyWyBjb250YWlucyBhIG51bGwgYnl0ZSBpbiB0aGUgbWlkZGxlLCB0aGVuIHRoZVxuICogICBzdHJpbmcgd2lsbCBjdXQgc2hvcnQgYXQgdGhhdCBieXRlIGluZGV4IChpLmUuIG1heEJ5dGVzVG9SZWFkIHdpbGwgbm90XG4gKiAgIHByb2R1Y2UgYSBzdHJpbmcgb2YgZXhhY3QgbGVuZ3RoIFtwdHIsIHB0cittYXhCeXRlc1RvUmVhZFspIE4uQi4gbWl4aW5nXG4gKiAgIGZyZXF1ZW50IHVzZXMgb2YgVVRGOFRvU3RyaW5nKCkgd2l0aCBhbmQgd2l0aG91dCBtYXhCeXRlc1RvUmVhZCBtYXkgdGhyb3dcbiAqICAgSlMgSklUIG9wdGltaXphdGlvbnMgb2ZmLCBzbyBpdCBpcyB3b3J0aCB0byBjb25zaWRlciBjb25zaXN0ZW50bHkgdXNpbmcgb25lXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIFVURjhUb1N0cmluZyhwdHIsIG1heEJ5dGVzVG9SZWFkKSB7XG4gIHJldHVybiBwdHIgPyBVVEY4QXJyYXlUb1N0cmluZyhIRUFQVTgsIHB0ciwgbWF4Qnl0ZXNUb1JlYWQpIDogJyc7XG59XG5cbi8qKlxuICogQ29waWVzIHRoZSBnaXZlbiBKYXZhc2NyaXB0IFN0cmluZyBvYmplY3QgJ3N0cicgdG8gdGhlIGdpdmVuIGJ5dGUgYXJyYXkgYXRcbiAqIGFkZHJlc3MgJ291dElkeCcsIGVuY29kZWQgaW4gVVRGOCBmb3JtIGFuZCBudWxsLXRlcm1pbmF0ZWQuIFRoZSBjb3B5IHdpbGxcbiAqIHJlcXVpcmUgYXQgbW9zdCBzdHIubGVuZ3RoKjQrMSBieXRlcyBvZiBzcGFjZSBpbiB0aGUgSEVBUC4gIFVzZSB0aGUgZnVuY3Rpb25cbiAqIGxlbmd0aEJ5dGVzVVRGOCB0byBjb21wdXRlIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXMgKGV4Y2x1ZGluZyBudWxsXG4gKiB0ZXJtaW5hdG9yKSB0aGF0IHRoaXMgZnVuY3Rpb24gd2lsbCB3cml0ZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIEphdmFzY3JpcHQgc3RyaW5nIHRvIGNvcHkuXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyVmlld3xBcnJheTxudW1iZXI+fSBoZWFwIC0gVGhlIGFycmF5IHRvIGNvcHkgdG8uIEVhY2hcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCBpbiB0aGlzIGFycmF5IGlzIGFzc3VtZWRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0byBiZSBvbmUgOC1ieXRlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gb3V0SWR4IC0gVGhlIHN0YXJ0aW5nIG9mZnNldCBpbiB0aGUgYXJyYXkgdG8gYmVnaW4gdGhlIGNvcHlpbmcuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4Qnl0ZXNUb1dyaXRlIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGJ5dGVzIHRoaXMgZnVuY3Rpb25cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW4gd3JpdGUgdG8gdGhlIGFycmF5LiAgVGhpcyBjb3VudCBzaG91bGRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlIHRoZSBudWxsIHRlcm1pbmF0b3IsIGkuZS4gaWZcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhCeXRlc1RvV3JpdGU9MSwgb25seSB0aGUgbnVsbCB0ZXJtaW5hdG9yXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lsbCBiZSB3cml0dGVuIGFuZCBub3RoaW5nIGVsc2UuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Qnl0ZXNUb1dyaXRlPTAgZG9lcyBub3Qgd3JpdGUgYW55IGJ5dGVzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8gdGhlIG91dHB1dCwgbm90IGV2ZW4gdGhlIG51bGxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hdG9yLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIGJ5dGVzIHdyaXR0ZW4sIEVYQ0xVRElORyB0aGUgbnVsbCB0ZXJtaW5hdG9yLlxuICovXG5mdW5jdGlvbiBzdHJpbmdUb1VURjhBcnJheShzdHIsIGhlYXAsIG91dElkeCwgbWF4Qnl0ZXNUb1dyaXRlKSB7XG4gIC8vIFBhcmFtZXRlciBtYXhCeXRlc1RvV3JpdGUgaXMgbm90IG9wdGlvbmFsLiBOZWdhdGl2ZSB2YWx1ZXMsIDAsIG51bGwsXG4gIC8vIHVuZGVmaW5lZCBhbmQgZmFsc2UgZWFjaCBkb24ndCB3cml0ZSBvdXQgYW55IGJ5dGVzLlxuICBpZiAoIShtYXhCeXRlc1RvV3JpdGUgPiAwKSlcbiAgICByZXR1cm4gMDtcblxuICB2YXIgc3RhcnRJZHggPSBvdXRJZHg7XG4gIHZhciBlbmRJZHggPSBvdXRJZHggKyBtYXhCeXRlc1RvV3JpdGUgLSAxOyAvLyAtMSBmb3Igc3RyaW5nIG51bGwgdGVybWluYXRvci5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBHb3RjaGE6IGNoYXJDb2RlQXQgcmV0dXJucyBhIDE2LWJpdCB3b3JkIHRoYXQgaXMgYSBVVEYtMTYgZW5jb2RlZCBjb2RlXG4gICAgLy8gdW5pdCwgbm90IGEgVW5pY29kZSBjb2RlIHBvaW50IG9mIHRoZSBjaGFyYWN0ZXIhIFNvIGRlY29kZVxuICAgIC8vIFVURjE2LT5VVEYzMi0+VVRGOC5cbiAgICAvLyBTZWUgaHR0cDovL3VuaWNvZGUub3JnL2ZhcS91dGZfYm9tLmh0bWwjdXRmMTYtM1xuICAgIC8vIEZvciBVVEY4IGJ5dGUgc3RydWN0dXJlLCBzZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9VVEYtOCNEZXNjcmlwdGlvblxuICAgIC8vIGFuZCBodHRwczovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMjI3OS50eHRcbiAgICAvLyBhbmQgaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM2MjlcbiAgICB2YXIgdSA9IHN0ci5jaGFyQ29kZUF0KGkpOyAvLyBwb3NzaWJseSBhIGxlYWQgc3Vycm9nYXRlXG4gICAgaWYgKHUgPj0gMHhEODAwICYmIHUgPD0gMHhERkZGKSB7XG4gICAgICB2YXIgdTEgPSBzdHIuY2hhckNvZGVBdCgrK2kpO1xuICAgICAgdSA9IDB4MTAwMDAgKyAoKHUgJiAweDNGRikgPDwgMTApIHwgKHUxICYgMHgzRkYpO1xuICAgIH1cbiAgICBpZiAodSA8PSAweDdGKSB7XG4gICAgICBpZiAob3V0SWR4ID49IGVuZElkeCkgYnJlYWs7XG4gICAgICBoZWFwW291dElkeCsrXSA9IHU7XG4gICAgfSBlbHNlIGlmICh1IDw9IDB4N0ZGKSB7XG4gICAgICBpZiAob3V0SWR4ICsgMSA+PSBlbmRJZHgpIGJyZWFrO1xuICAgICAgaGVhcFtvdXRJZHgrK10gPSAweEMwIHwgKHUgPj4gNik7XG4gICAgICBoZWFwW291dElkeCsrXSA9IDB4ODAgfCAodSAmIDYzKTtcbiAgICB9IGVsc2UgaWYgKHUgPD0gMHhGRkZGKSB7XG4gICAgICBpZiAob3V0SWR4ICsgMiA+PSBlbmRJZHgpIGJyZWFrO1xuICAgICAgaGVhcFtvdXRJZHgrK10gPSAweEUwIHwgKHUgPj4gMTIpO1xuICAgICAgaGVhcFtvdXRJZHgrK10gPSAweDgwIHwgKCh1ID4+IDYpICYgNjMpO1xuICAgICAgaGVhcFtvdXRJZHgrK10gPSAweDgwIHwgKHUgJiA2Myk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvdXRJZHggKyAzID49IGVuZElkeCkgYnJlYWs7XG4gICAgICBoZWFwW291dElkeCsrXSA9IDB4RjAgfCAodSA+PiAxOCk7XG4gICAgICBoZWFwW291dElkeCsrXSA9IDB4ODAgfCAoKHUgPj4gMTIpICYgNjMpO1xuICAgICAgaGVhcFtvdXRJZHgrK10gPSAweDgwIHwgKCh1ID4+IDYpICYgNjMpO1xuICAgICAgaGVhcFtvdXRJZHgrK10gPSAweDgwIHwgKHUgJiA2Myk7XG4gICAgfVxuICB9XG4gIC8vIE51bGwtdGVybWluYXRlIHRoZSBwb2ludGVyIHRvIHRoZSBidWZmZXIuXG4gIGhlYXBbb3V0SWR4XSA9IDA7XG4gIHJldHVybiBvdXRJZHggLSBzdGFydElkeDtcbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIGdpdmVuIEphdmFzY3JpcHQgU3RyaW5nIG9iamVjdCAnc3RyJyB0byB0aGUgZW1zY3JpcHRlbiBIRUFQIGF0XG4gKiBhZGRyZXNzICdvdXRQdHInLCBudWxsLXRlcm1pbmF0ZWQgYW5kIGVuY29kZWQgaW4gVVRGOCBmb3JtLiBUaGUgY29weSB3aWxsXG4gKiByZXF1aXJlIGF0IG1vc3Qgc3RyLmxlbmd0aCo0KzEgYnl0ZXMgb2Ygc3BhY2UgaW4gdGhlIEhFQVAuXG4gKiBVc2UgdGhlIGZ1bmN0aW9uIGxlbmd0aEJ5dGVzVVRGOCB0byBjb21wdXRlIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXNcbiAqIChleGNsdWRpbmcgbnVsbCB0ZXJtaW5hdG9yKSB0aGF0IHRoaXMgZnVuY3Rpb24gd2lsbCB3cml0ZS5cbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgYnl0ZXMgd3JpdHRlbiwgRVhDTFVESU5HIHRoZSBudWxsIHRlcm1pbmF0b3IuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ1RvVVRGOChzdHIsIG91dFB0ciwgbWF4Qnl0ZXNUb1dyaXRlKSB7XG4gIHJldHVybiBzdHJpbmdUb1VURjhBcnJheShzdHIsIEhFQVBVOCxvdXRQdHIsIG1heEJ5dGVzVG9Xcml0ZSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGJ5dGVzIHRoZSBnaXZlbiBKYXZhc2NyaXB0IHN0cmluZyB0YWtlcyBpZiBlbmNvZGVkIGFzIGFcbiAqIFVURjggYnl0ZSBhcnJheSwgRVhDTFVESU5HIHRoZSBudWxsIHRlcm1pbmF0b3IgYnl0ZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gSmF2YVNjcmlwdCBzdHJpbmcgdG8gb3BlcmF0b3Igb25cbiAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoLCBpbiBieXRlcywgb2YgdGhlIFVURjggZW5jb2RlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGxlbmd0aEJ5dGVzVVRGOChzdHIpIHtcbiAgdmFyIGxlbiA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gR290Y2hhOiBjaGFyQ29kZUF0IHJldHVybnMgYSAxNi1iaXQgd29yZCB0aGF0IGlzIGEgVVRGLTE2IGVuY29kZWQgY29kZVxuICAgIC8vIHVuaXQsIG5vdCBhIFVuaWNvZGUgY29kZSBwb2ludCBvZiB0aGUgY2hhcmFjdGVyISBTbyBkZWNvZGVcbiAgICAvLyBVVEYxNi0+VVRGMzItPlVURjguXG4gICAgLy8gU2VlIGh0dHA6Ly91bmljb2RlLm9yZy9mYXEvdXRmX2JvbS5odG1sI3V0ZjE2LTNcbiAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpOyAvLyBwb3NzaWJseSBhIGxlYWQgc3Vycm9nYXRlXG4gICAgaWYgKGMgPD0gMHg3Rikge1xuICAgICAgbGVuKys7XG4gICAgfSBlbHNlIGlmIChjIDw9IDB4N0ZGKSB7XG4gICAgICBsZW4gKz0gMjtcbiAgICB9IGVsc2UgaWYgKGMgPj0gMHhEODAwICYmIGMgPD0gMHhERkZGKSB7XG4gICAgICBsZW4gKz0gNDsgKytpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZW4gKz0gMztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxlbjtcbn1cblxuLy8gZW5kIGluY2x1ZGU6IHJ1bnRpbWVfc3RyaW5ncy5qc1xuLy8gTWVtb3J5IG1hbmFnZW1lbnRcblxudmFyIEhFQVAsXG4vKiogQHR5cGUgeyFJbnQ4QXJyYXl9ICovXG4gIEhFQVA4LFxuLyoqIEB0eXBlIHshVWludDhBcnJheX0gKi9cbiAgSEVBUFU4LFxuLyoqIEB0eXBlIHshSW50MTZBcnJheX0gKi9cbiAgSEVBUDE2LFxuLyoqIEB0eXBlIHshVWludDE2QXJyYXl9ICovXG4gIEhFQVBVMTYsXG4vKiogQHR5cGUgeyFJbnQzMkFycmF5fSAqL1xuICBIRUFQMzIsXG4vKiogQHR5cGUgeyFVaW50MzJBcnJheX0gKi9cbiAgSEVBUFUzMixcbi8qKiBAdHlwZSB7IUZsb2F0MzJBcnJheX0gKi9cbiAgSEVBUEYzMixcbi8qIEJpZ0ludDY0QXJyYXkgdHlwZSBpcyBub3QgY29ycmVjdGx5IGRlZmluZWQgaW4gY2xvc3VyZVxuLyoqIG5vdC1AdHlwZSB7IUJpZ0ludDY0QXJyYXl9ICovXG4gIEhFQVA2NCxcbi8qIEJpZ1VJbnQ2NEFycmF5IHR5cGUgaXMgbm90IGNvcnJlY3RseSBkZWZpbmVkIGluIGNsb3N1cmVcbi8qKiBub3QtdEB0eXBlIHshQmlnVWludDY0QXJyYXl9ICovXG4gIEhFQVBVNjQsXG4vKiogQHR5cGUgeyFGbG9hdDY0QXJyYXl9ICovXG4gIEhFQVBGNjQ7XG5cbmZ1bmN0aW9uIHVwZGF0ZU1lbW9yeVZpZXdzKCkge1xuICB2YXIgYiA9IHdhc21NZW1vcnkuYnVmZmVyO1xuICBNb2R1bGVbJ0hFQVA4J10gPSBIRUFQOCA9IG5ldyBJbnQ4QXJyYXkoYik7XG4gIE1vZHVsZVsnSEVBUDE2J10gPSBIRUFQMTYgPSBuZXcgSW50MTZBcnJheShiKTtcbiAgTW9kdWxlWydIRUFQMzInXSA9IEhFQVAzMiA9IG5ldyBJbnQzMkFycmF5KGIpO1xuICBNb2R1bGVbJ0hFQVBVOCddID0gSEVBUFU4ID0gbmV3IFVpbnQ4QXJyYXkoYik7XG4gIE1vZHVsZVsnSEVBUFUxNiddID0gSEVBUFUxNiA9IG5ldyBVaW50MTZBcnJheShiKTtcbiAgTW9kdWxlWydIRUFQVTMyJ10gPSBIRUFQVTMyID0gbmV3IFVpbnQzMkFycmF5KGIpO1xuICBNb2R1bGVbJ0hFQVBGMzInXSA9IEhFQVBGMzIgPSBuZXcgRmxvYXQzMkFycmF5KGIpO1xuICBNb2R1bGVbJ0hFQVBGNjQnXSA9IEhFQVBGNjQgPSBuZXcgRmxvYXQ2NEFycmF5KGIpO1xuICBNb2R1bGVbJ0hFQVA2NCddID0gSEVBUDY0ID0gbmV3IEJpZ0ludDY0QXJyYXkoYik7XG4gIE1vZHVsZVsnSEVBUFU2NCddID0gSEVBUFU2NCA9IG5ldyBCaWdVaW50NjRBcnJheShiKTtcbn1cblxuLy8gSW4gbm9uLXN0YW5kYWxvbmUvbm9ybWFsIG1vZGUsIHdlIGNyZWF0ZSB0aGUgbWVtb3J5IGhlcmUuXG4vLyBpbmNsdWRlOiBydW50aW1lX2luaXRfbWVtb3J5LmpzXG4vLyBDcmVhdGUgdGhlIHdhc20gbWVtb3J5LiAoTm90ZTogdGhpcyBvbmx5IGFwcGxpZXMgaWYgSU1QT1JURURfTUVNT1JZIGlzIGRlZmluZWQpXG5cbnZhciBJTklUSUFMX01FTU9SWSA9IE1vZHVsZVsnSU5JVElBTF9NRU1PUlknXSB8fCAxNjc3NzIxNjtcblxuYXNzZXJ0KElOSVRJQUxfTUVNT1JZID49IDUyNDI4OCwgJ0lOSVRJQUxfTUVNT1JZIHNob3VsZCBiZSBsYXJnZXIgdGhhbiBTVEFDS19TSVpFLCB3YXMgJyArIElOSVRJQUxfTUVNT1JZICsgJyEgKFNUQUNLX1NJWkU9JyArIDUyNDI4OCArICcpJyk7XG5cbi8vIGNoZWNrIGZvciBmdWxsIGVuZ2luZSBzdXBwb3J0ICh1c2Ugc3RyaW5nICdzdWJhcnJheScgdG8gYXZvaWQgY2xvc3VyZSBjb21waWxlciBjb25mdXNpb24pXG5cbiAgaWYgKE1vZHVsZVsnd2FzbU1lbW9yeSddKSB7XG4gICAgd2FzbU1lbW9yeSA9IE1vZHVsZVsnd2FzbU1lbW9yeSddO1xuICB9IGVsc2VcbiAge1xuICAgIHdhc21NZW1vcnkgPSBuZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtcbiAgICAgICdpbml0aWFsJzogSU5JVElBTF9NRU1PUlkgLyA2NTUzNixcbiAgICAgIC8vIEluIHRoZW9yeSB3ZSBzaG91bGQgbm90IG5lZWQgdG8gZW1pdCB0aGUgbWF4aW11bSBpZiB3ZSB3YW50IFwidW5saW1pdGVkXCJcbiAgICAgIC8vIG9yIDRHQiBvZiBtZW1vcnksIGJ1dCBWTXMgZXJyb3Igb24gdGhhdCBhdG0sIHNlZVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL2lzc3Vlcy8xNDEzMFxuICAgICAgLy8gQW5kIGluIHRoZSBwdGhyZWFkcyBjYXNlIHdlIGRlZmluaXRlbHkgbmVlZCB0byBlbWl0IGEgbWF4aW11bS4gU29cbiAgICAgIC8vIGFsd2F5cyBlbWl0IG9uZS5cbiAgICAgICdtYXhpbXVtJzogMjE0NzQ4MzY0OCAvIDY1NTM2XG4gICAgfSk7XG4gIH1cblxudXBkYXRlTWVtb3J5Vmlld3MoKTtcblxuLy8gSWYgdGhlIHVzZXIgcHJvdmlkZXMgYW4gaW5jb3JyZWN0IGxlbmd0aCwganVzdCB1c2UgdGhhdCBsZW5ndGggaW5zdGVhZCByYXRoZXIgdGhhbiBwcm92aWRpbmcgdGhlIHVzZXIgdG9cbi8vIHNwZWNpZmljYWxseSBwcm92aWRlIHRoZSBtZW1vcnkgbGVuZ3RoIHdpdGggTW9kdWxlWydJTklUSUFMX01FTU9SWSddLlxuSU5JVElBTF9NRU1PUlkgPSB3YXNtTWVtb3J5LmJ1ZmZlci5ieXRlTGVuZ3RoO1xuXG4vLyBlbmQgaW5jbHVkZTogcnVudGltZV9pbml0X21lbW9yeS5qc1xuXG4vLyBpbmNsdWRlOiBydW50aW1lX2luaXRfdGFibGUuanNcbi8vIEluIHJlZ3VsYXIgbm9uLVJFTE9DQVRBQkxFIG1vZGUgdGhlIHRhYmxlIGlzIGV4cG9ydGVkXG4vLyBmcm9tIHRoZSB3YXNtIG1vZHVsZSBhbmQgdGhpcyB3aWxsIGJlIGFzc2lnbmVkIG9uY2Vcbi8vIHRoZSBleHBvcnRzIGFyZSBhdmFpbGFibGUuXG52YXIgd2FzbVRhYmxlO1xuXG4vLyBlbmQgaW5jbHVkZTogcnVudGltZV9pbml0X3RhYmxlLmpzXG4vLyBpbmNsdWRlOiBydW50aW1lX3N0YWNrX2NoZWNrLmpzXG4vLyBlbmQgaW5jbHVkZTogcnVudGltZV9zdGFja19jaGVjay5qc1xuLy8gaW5jbHVkZTogcnVudGltZV9hc3NlcnRpb25zLmpzXG4vLyBlbmQgaW5jbHVkZTogcnVudGltZV9hc3NlcnRpb25zLmpzXG52YXIgX19BVFBSRVJVTl9fICA9IFtdOyAvLyBmdW5jdGlvbnMgY2FsbGVkIGJlZm9yZSB0aGUgcnVudGltZSBpcyBpbml0aWFsaXplZFxudmFyIF9fQVRJTklUX18gICAgPSBbXTsgLy8gZnVuY3Rpb25zIGNhbGxlZCBkdXJpbmcgc3RhcnR1cFxudmFyIF9fQVRFWElUX18gICAgPSBbXTsgLy8gZnVuY3Rpb25zIGNhbGxlZCBkdXJpbmcgc2h1dGRvd25cbnZhciBfX0FUUE9TVFJVTl9fID0gW107IC8vIGZ1bmN0aW9ucyBjYWxsZWQgYWZ0ZXIgdGhlIG1haW4oKSBpcyBjYWxsZWRcblxudmFyIHJ1bnRpbWVJbml0aWFsaXplZCA9IGZhbHNlO1xuXG5mdW5jdGlvbiBrZWVwUnVudGltZUFsaXZlKCkge1xuICByZXR1cm4gbm9FeGl0UnVudGltZTtcbn1cblxuZnVuY3Rpb24gcHJlUnVuKCkge1xuICBpZiAoTW9kdWxlWydwcmVSdW4nXSkge1xuICAgIGlmICh0eXBlb2YgTW9kdWxlWydwcmVSdW4nXSA9PSAnZnVuY3Rpb24nKSBNb2R1bGVbJ3ByZVJ1biddID0gW01vZHVsZVsncHJlUnVuJ11dO1xuICAgIHdoaWxlIChNb2R1bGVbJ3ByZVJ1biddLmxlbmd0aCkge1xuICAgICAgYWRkT25QcmVSdW4oTW9kdWxlWydwcmVSdW4nXS5zaGlmdCgpKTtcbiAgICB9XG4gIH1cbiAgY2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVFBSRVJVTl9fKTtcbn1cblxuZnVuY3Rpb24gaW5pdFJ1bnRpbWUoKSB7XG4gIHJ1bnRpbWVJbml0aWFsaXplZCA9IHRydWU7XG5cbiAgXG5pZiAoIU1vZHVsZVtcIm5vRlNJbml0XCJdICYmICFGUy5pbml0LmluaXRpYWxpemVkKVxuICBGUy5pbml0KCk7XG5GUy5pZ25vcmVQZXJtaXNzaW9ucyA9IGZhbHNlO1xuXG5UVFkuaW5pdCgpO1xuICBjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUSU5JVF9fKTtcbn1cblxuZnVuY3Rpb24gcG9zdFJ1bigpIHtcblxuICBpZiAoTW9kdWxlWydwb3N0UnVuJ10pIHtcbiAgICBpZiAodHlwZW9mIE1vZHVsZVsncG9zdFJ1biddID09ICdmdW5jdGlvbicpIE1vZHVsZVsncG9zdFJ1biddID0gW01vZHVsZVsncG9zdFJ1biddXTtcbiAgICB3aGlsZSAoTW9kdWxlWydwb3N0UnVuJ10ubGVuZ3RoKSB7XG4gICAgICBhZGRPblBvc3RSdW4oTW9kdWxlWydwb3N0UnVuJ10uc2hpZnQoKSk7XG4gICAgfVxuICB9XG5cbiAgY2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVFBPU1RSVU5fXyk7XG59XG5cbmZ1bmN0aW9uIGFkZE9uUHJlUnVuKGNiKSB7XG4gIF9fQVRQUkVSVU5fXy51bnNoaWZ0KGNiKTtcbn1cblxuZnVuY3Rpb24gYWRkT25Jbml0KGNiKSB7XG4gIF9fQVRJTklUX18udW5zaGlmdChjYik7XG59XG5cbmZ1bmN0aW9uIGFkZE9uRXhpdChjYikge1xufVxuXG5mdW5jdGlvbiBhZGRPblBvc3RSdW4oY2IpIHtcbiAgX19BVFBPU1RSVU5fXy51bnNoaWZ0KGNiKTtcbn1cblxuLy8gaW5jbHVkZTogcnVudGltZV9tYXRoLmpzXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2ltdWxcblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9mcm91bmRcblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9jbHozMlxuXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3RydW5jXG5cbi8vIGVuZCBpbmNsdWRlOiBydW50aW1lX21hdGguanNcbi8vIEEgY291bnRlciBvZiBkZXBlbmRlbmNpZXMgZm9yIGNhbGxpbmcgcnVuKCkuIElmIHdlIG5lZWQgdG9cbi8vIGRvIGFzeW5jaHJvbm91cyB3b3JrIGJlZm9yZSBydW5uaW5nLCBpbmNyZW1lbnQgdGhpcyBhbmRcbi8vIGRlY3JlbWVudCBpdC4gSW5jcmVtZW50aW5nIG11c3QgaGFwcGVuIGluIGEgcGxhY2UgbGlrZVxuLy8gTW9kdWxlLnByZVJ1biAodXNlZCBieSBlbWNjIHRvIGFkZCBmaWxlIHByZWxvYWRpbmcpLlxuLy8gTm90ZSB0aGF0IHlvdSBjYW4gYWRkIGRlcGVuZGVuY2llcyBpbiBwcmVSdW4sIGV2ZW4gdGhvdWdoXG4vLyBpdCBoYXBwZW5zIHJpZ2h0IGJlZm9yZSBydW4gLSBydW4gd2lsbCBiZSBwb3N0cG9uZWQgdW50aWxcbi8vIHRoZSBkZXBlbmRlbmNpZXMgYXJlIG1ldC5cbnZhciBydW5EZXBlbmRlbmNpZXMgPSAwO1xudmFyIHJ1bkRlcGVuZGVuY3lXYXRjaGVyID0gbnVsbDtcbnZhciBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBudWxsOyAvLyBvdmVycmlkZGVuIHRvIHRha2UgZGlmZmVyZW50IGFjdGlvbnMgd2hlbiBhbGwgcnVuIGRlcGVuZGVuY2llcyBhcmUgZnVsZmlsbGVkXG5cbmZ1bmN0aW9uIGdldFVuaXF1ZVJ1bkRlcGVuZGVuY3koaWQpIHtcbiAgcmV0dXJuIGlkO1xufVxuXG5mdW5jdGlvbiBhZGRSdW5EZXBlbmRlbmN5KGlkKSB7XG4gIHJ1bkRlcGVuZGVuY2llcysrO1xuXG4gIGlmIChNb2R1bGVbJ21vbml0b3JSdW5EZXBlbmRlbmNpZXMnXSkge1xuICAgIE1vZHVsZVsnbW9uaXRvclJ1bkRlcGVuZGVuY2llcyddKHJ1bkRlcGVuZGVuY2llcyk7XG4gIH1cblxufVxuXG5mdW5jdGlvbiByZW1vdmVSdW5EZXBlbmRlbmN5KGlkKSB7XG4gIHJ1bkRlcGVuZGVuY2llcy0tO1xuXG4gIGlmIChNb2R1bGVbJ21vbml0b3JSdW5EZXBlbmRlbmNpZXMnXSkge1xuICAgIE1vZHVsZVsnbW9uaXRvclJ1bkRlcGVuZGVuY2llcyddKHJ1bkRlcGVuZGVuY2llcyk7XG4gIH1cblxuICBpZiAocnVuRGVwZW5kZW5jaWVzID09IDApIHtcbiAgICBpZiAocnVuRGVwZW5kZW5jeVdhdGNoZXIgIT09IG51bGwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwocnVuRGVwZW5kZW5jeVdhdGNoZXIpO1xuICAgICAgcnVuRGVwZW5kZW5jeVdhdGNoZXIgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoZGVwZW5kZW5jaWVzRnVsZmlsbGVkKSB7XG4gICAgICB2YXIgY2FsbGJhY2sgPSBkZXBlbmRlbmNpZXNGdWxmaWxsZWQ7XG4gICAgICBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBudWxsO1xuICAgICAgY2FsbGJhY2soKTsgLy8gY2FuIGFkZCBhbm90aGVyIGRlcGVuZGVuY2llc0Z1bGZpbGxlZFxuICAgIH1cbiAgfVxufVxuXG4vKiogQHBhcmFtIHtzdHJpbmd8bnVtYmVyPX0gd2hhdCAqL1xuZnVuY3Rpb24gYWJvcnQod2hhdCkge1xuICBpZiAoTW9kdWxlWydvbkFib3J0J10pIHtcbiAgICBNb2R1bGVbJ29uQWJvcnQnXSh3aGF0KTtcbiAgfVxuXG4gIHdoYXQgPSAnQWJvcnRlZCgnICsgd2hhdCArICcpJztcbiAgLy8gVE9ETyhzYmMpOiBTaG91bGQgd2UgcmVtb3ZlIHByaW50aW5nIGFuZCBsZWF2ZSBpdCB1cCB0byB3aG9ldmVyXG4gIC8vIGNhdGNoZXMgdGhlIGV4Y2VwdGlvbj9cbiAgZXJyKHdoYXQpO1xuXG4gIEFCT1JUID0gdHJ1ZTtcbiAgRVhJVFNUQVRVUyA9IDE7XG5cbiAgd2hhdCArPSAnLiBCdWlsZCB3aXRoIC1zQVNTRVJUSU9OUyBmb3IgbW9yZSBpbmZvLic7XG5cbiAgLy8gVXNlIGEgd2FzbSBydW50aW1lIGVycm9yLCBiZWNhdXNlIGEgSlMgZXJyb3IgbWlnaHQgYmUgc2VlbiBhcyBhIGZvcmVpZ25cbiAgLy8gZXhjZXB0aW9uLCB3aGljaCBtZWFucyB3ZSdkIHJ1biBkZXN0cnVjdG9ycyBvbiBpdC4gV2UgbmVlZCB0aGUgZXJyb3IgdG9cbiAgLy8gc2ltcGx5IG1ha2UgdGhlIHByb2dyYW0gc3RvcC5cbiAgLy8gRklYTUUgVGhpcyBhcHByb2FjaCBkb2VzIG5vdCB3b3JrIGluIFdhc20gRUggYmVjYXVzZSBpdCBjdXJyZW50bHkgZG9lcyBub3QgYXNzdW1lXG4gIC8vIGFsbCBSdW50aW1lRXJyb3JzIGFyZSBmcm9tIHRyYXBzOyBpdCBkZWNpZGVzIHdoZXRoZXIgYSBSdW50aW1lRXJyb3IgaXMgZnJvbVxuICAvLyBhIHRyYXAgb3Igbm90IGJhc2VkIG9uIGEgaGlkZGVuIGZpZWxkIHdpdGhpbiB0aGUgb2JqZWN0LiBTbyBhdCB0aGUgbW9tZW50XG4gIC8vIHdlIGRvbid0IGhhdmUgYSB3YXkgb2YgdGhyb3dpbmcgYSB3YXNtIHRyYXAgZnJvbSBKUy4gVE9ETyBNYWtlIGEgSlMgQVBJIHRoYXRcbiAgLy8gYWxsb3dzIHRoaXMgaW4gdGhlIHdhc20gc3BlYy5cblxuICAvLyBTdXBwcmVzcyBjbG9zdXJlIGNvbXBpbGVyIHdhcm5pbmcgaGVyZS4gQ2xvc3VyZSBjb21waWxlcidzIGJ1aWx0aW4gZXh0ZXJuXG4gIC8vIGRlZmludGlvbiBmb3IgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yIGNsYWltcyBpdCB0YWtlcyBubyBhcmd1bWVudHMgZXZlblxuICAvLyB0aG91Z2ggaXQgY2FuLlxuICAvLyBUT0RPKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9wdWxsLzM5MTMpOiBSZW1vdmUgaWYvd2hlbiB1cHN0cmVhbSBjbG9zdXJlIGdldHMgZml4ZWQuXG4gIC8qKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9ICovXG4gIHZhciBlID0gbmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcih3aGF0KTtcblxuICByZWFkeVByb21pc2VSZWplY3QoZSk7XG4gIC8vIFRocm93IHRoZSBlcnJvciB3aGV0aGVyIG9yIG5vdCBNT0RVTEFSSVpFIGlzIHNldCBiZWNhdXNlIGFib3J0IGlzIHVzZWRcbiAgLy8gaW4gY29kZSBwYXRocyBhcGFydCBmcm9tIGluc3RhbnRpYXRpb24gd2hlcmUgYW4gZXhjZXB0aW9uIGlzIGV4cGVjdGVkXG4gIC8vIHRvIGJlIHRocm93biB3aGVuIGFib3J0IGlzIGNhbGxlZC5cbiAgdGhyb3cgZTtcbn1cblxuLy8gaW5jbHVkZTogbWVtb3J5cHJvZmlsZXIuanNcbi8vIGVuZCBpbmNsdWRlOiBtZW1vcnlwcm9maWxlci5qc1xuLy8gaW5jbHVkZTogVVJJVXRpbHMuanNcbi8vIFByZWZpeCBvZiBkYXRhIFVSSXMgZW1pdHRlZCBieSBTSU5HTEVfRklMRSBhbmQgcmVsYXRlZCBvcHRpb25zLlxudmFyIGRhdGFVUklQcmVmaXggPSAnZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCc7XG5cbi8vIEluZGljYXRlcyB3aGV0aGVyIGZpbGVuYW1lIGlzIGEgYmFzZTY0IGRhdGEgVVJJLlxuZnVuY3Rpb24gaXNEYXRhVVJJKGZpbGVuYW1lKSB7XG4gIC8vIFByZWZpeCBvZiBkYXRhIFVSSXMgZW1pdHRlZCBieSBTSU5HTEVfRklMRSBhbmQgcmVsYXRlZCBvcHRpb25zLlxuICByZXR1cm4gZmlsZW5hbWUuc3RhcnRzV2l0aChkYXRhVVJJUHJlZml4KTtcbn1cblxuLy8gSW5kaWNhdGVzIHdoZXRoZXIgZmlsZW5hbWUgaXMgZGVsaXZlcmVkIHZpYSBmaWxlIHByb3RvY29sIChhcyBvcHBvc2VkIHRvIGh0dHAvaHR0cHMpXG5mdW5jdGlvbiBpc0ZpbGVVUkkoZmlsZW5hbWUpIHtcbiAgcmV0dXJuIGZpbGVuYW1lLnN0YXJ0c1dpdGgoJ2ZpbGU6Ly8nKTtcbn1cblxuLy8gZW5kIGluY2x1ZGU6IFVSSVV0aWxzLmpzXG4vLyBpbmNsdWRlOiBydW50aW1lX2V4Y2VwdGlvbnMuanNcbi8vIGVuZCBpbmNsdWRlOiBydW50aW1lX2V4Y2VwdGlvbnMuanNcbnZhciB3YXNtQmluYXJ5RmlsZTtcbmlmIChNb2R1bGVbJ2xvY2F0ZUZpbGUnXSkge1xuICB3YXNtQmluYXJ5RmlsZSA9ICdzcWxpdGUzLndhc20nO1xuICBpZiAoIWlzRGF0YVVSSSh3YXNtQmluYXJ5RmlsZSkpIHtcbiAgICB3YXNtQmluYXJ5RmlsZSA9IGxvY2F0ZUZpbGUod2FzbUJpbmFyeUZpbGUpO1xuICB9XG59IGVsc2Uge1xuICAvLyBVc2UgYnVuZGxlci1mcmllbmRseSBgbmV3IFVSTCguLi4sIGltcG9ydC5tZXRhLnVybClgIHBhdHRlcm47IHdvcmtzIGluIGJyb3dzZXJzIHRvby5cbiAgd2FzbUJpbmFyeUZpbGUgPSBuZXcgVVJMKCdzcWxpdGUzLndhc20nLCBpbXBvcnQubWV0YS51cmwpLmhyZWY7XG59XG5cbmZ1bmN0aW9uIGdldEJpbmFyeShmaWxlKSB7XG4gIHRyeSB7XG4gICAgaWYgKGZpbGUgPT0gd2FzbUJpbmFyeUZpbGUgJiYgd2FzbUJpbmFyeSkge1xuICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHdhc21CaW5hcnkpO1xuICAgIH1cbiAgICBpZiAocmVhZEJpbmFyeSkge1xuICAgICAgcmV0dXJuIHJlYWRCaW5hcnkoZmlsZSk7XG4gICAgfVxuICAgIHRocm93IFwiYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWRcIjtcbiAgfVxuICBjYXRjaCAoZXJyKSB7XG4gICAgYWJvcnQoZXJyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRCaW5hcnlQcm9taXNlKGJpbmFyeUZpbGUpIHtcbiAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSB0aGUgYmluYXJ5IHlldCwgdHJ5IHRvIHRvIGxvYWQgaXQgYXN5bmNocm9ub3VzbHkuXG4gIC8vIEZldGNoIGhhcyBzb21lIGFkZGl0aW9uYWwgcmVzdHJpY3Rpb25zIG92ZXIgWEhSLCBsaWtlIGl0IGNhbid0IGJlIHVzZWQgb24gYSBmaWxlOi8vIHVybC5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9naXRodWIvZmV0Y2gvcHVsbC85MiNpc3N1ZWNvbW1lbnQtMTQwNjY1OTMyXG4gIC8vIENvcmRvdmEgb3IgRWxlY3Ryb24gYXBwcyBhcmUgdHlwaWNhbGx5IGxvYWRlZCBmcm9tIGEgZmlsZTovLyB1cmwuXG4gIC8vIFNvIHVzZSBmZXRjaCBpZiBpdCBpcyBhdmFpbGFibGUgYW5kIHRoZSB1cmwgaXMgbm90IGEgZmlsZSwgb3RoZXJ3aXNlIGZhbGwgYmFjayB0byBYSFIuXG4gIGlmICghd2FzbUJpbmFyeSAmJiAoRU5WSVJPTk1FTlRfSVNfV0VCIHx8IEVOVklST05NRU5UX0lTX1dPUktFUikpIHtcbiAgICBpZiAodHlwZW9mIGZldGNoID09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIHJldHVybiBmZXRjaChiaW5hcnlGaWxlLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKCFyZXNwb25zZVsnb2snXSkge1xuICAgICAgICAgIHRocm93IFwiZmFpbGVkIHRvIGxvYWQgd2FzbSBiaW5hcnkgZmlsZSBhdCAnXCIgKyBiaW5hcnlGaWxlICsgXCInXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlWydhcnJheUJ1ZmZlciddKCk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGdldEJpbmFyeShiaW5hcnlGaWxlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIE90aGVyd2lzZSwgZ2V0QmluYXJ5IHNob3VsZCBiZSBhYmxlIHRvIGdldCBpdCBzeW5jaHJvbm91c2x5XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0QmluYXJ5KGJpbmFyeUZpbGUpOyB9KTtcbn1cblxuZnVuY3Rpb24gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihiaW5hcnlGaWxlLCBpbXBvcnRzLCByZWNlaXZlcikge1xuICByZXR1cm4gZ2V0QmluYXJ5UHJvbWlzZShiaW5hcnlGaWxlKS50aGVuKGZ1bmN0aW9uKGJpbmFyeSkge1xuICAgIHJldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShiaW5hcnksIGltcG9ydHMpO1xuICB9KS50aGVuKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfSkudGhlbihyZWNlaXZlciwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgZXJyKCdmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAnICsgcmVhc29uKTtcblxuICAgIGFib3J0KHJlYXNvbik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBpbnN0YW50aWF0ZUFzeW5jKGJpbmFyeSwgYmluYXJ5RmlsZSwgaW1wb3J0cywgY2FsbGJhY2spIHtcbiAgaWYgKCFiaW5hcnkgJiZcbiAgICAgIHR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyA9PSAnZnVuY3Rpb24nICYmXG4gICAgICAhaXNEYXRhVVJJKGJpbmFyeUZpbGUpICYmXG4gICAgICB0eXBlb2YgZmV0Y2ggPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmZXRjaChiaW5hcnlGaWxlLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgIC8vIFN1cHByZXNzIGNsb3N1cmUgd2FybmluZyBoZXJlIHNpbmNlIHRoZSB1cHN0cmVhbSBkZWZpbml0aW9uIGZvclxuICAgICAgLy8gaW5zdGFudGlhdGVTdHJlYW1pbmcgb25seSBhbGxvd3MgUHJvbWlzZTxSZXBzcG9uc2U+IHJhdGhlciB0aGFuXG4gICAgICAvLyBhbiBhY3R1YWwgUmVzcG9uc2UuXG4gICAgICAvLyBUT0RPKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9wdWxsLzM5MTMpOiBSZW1vdmUgaWYvd2hlbiB1cHN0cmVhbSBjbG9zdXJlIGlzIGZpeGVkLlxuICAgICAgLyoqIEBzdXBwcmVzcyB7Y2hlY2tUeXBlc30gKi9cbiAgICAgIHZhciByZXN1bHQgPSBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhyZXNwb25zZSwgaW1wb3J0cyk7XG5cbiAgICAgIHJldHVybiByZXN1bHQudGhlbihcbiAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAgIC8vIFdlIGV4cGVjdCB0aGUgbW9zdCBjb21tb24gZmFpbHVyZSBjYXVzZSB0byBiZSBhIGJhZCBNSU1FIHR5cGUgZm9yIHRoZSBiaW5hcnksXG4gICAgICAgICAgLy8gaW4gd2hpY2ggY2FzZSBmYWxsaW5nIGJhY2sgdG8gQXJyYXlCdWZmZXIgaW5zdGFudGlhdGlvbiBzaG91bGQgd29yay5cbiAgICAgICAgICBlcnIoJ3dhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAnICsgcmVhc29uKTtcbiAgICAgICAgICBlcnIoJ2ZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uJyk7XG4gICAgICAgICAgcmV0dXJuIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIoYmluYXJ5RmlsZSwgaW1wb3J0cywgY2FsbGJhY2spO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihiaW5hcnlGaWxlLCBpbXBvcnRzLCBjYWxsYmFjayk7XG4gIH1cbn1cblxuLy8gQ3JlYXRlIHRoZSB3YXNtIGluc3RhbmNlLlxuLy8gUmVjZWl2ZXMgdGhlIHdhc20gaW1wb3J0cywgcmV0dXJucyB0aGUgZXhwb3J0cy5cbmZ1bmN0aW9uIGNyZWF0ZVdhc20oKSB7XG4gIC8vIHByZXBhcmUgaW1wb3J0c1xuICB2YXIgaW5mbyA9IHtcbiAgICAnZW52Jzogd2FzbUltcG9ydHMsXG4gICAgJ3dhc2lfc25hcHNob3RfcHJldmlldzEnOiB3YXNtSW1wb3J0cyxcbiAgfTtcbiAgLy8gTG9hZCB0aGUgd2FzbSBtb2R1bGUgYW5kIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiB1c2luZyBuYXRpdmUgc3VwcG9ydCBpbiB0aGUgSlMgZW5naW5lLlxuICAvLyBoYW5kbGUgYSBnZW5lcmF0ZWQgd2FzbSBpbnN0YW5jZSwgcmVjZWl2aW5nIGl0cyBleHBvcnRzIGFuZFxuICAvLyBwZXJmb3JtaW5nIG90aGVyIG5lY2Vzc2FyeSBzZXR1cFxuICAvKiogQHBhcmFtIHtXZWJBc3NlbWJseS5Nb2R1bGU9fSBtb2R1bGUqL1xuICBmdW5jdGlvbiByZWNlaXZlSW5zdGFuY2UoaW5zdGFuY2UsIG1vZHVsZSkge1xuICAgIHZhciBleHBvcnRzID0gaW5zdGFuY2UuZXhwb3J0cztcblxuICAgIE1vZHVsZVsnYXNtJ10gPSBleHBvcnRzO1xuXG4gICAgd2FzbVRhYmxlID0gTW9kdWxlWydhc20nXVsnX19pbmRpcmVjdF9mdW5jdGlvbl90YWJsZSddO1xuXG4gICAgYWRkT25Jbml0KE1vZHVsZVsnYXNtJ11bJ19fd2FzbV9jYWxsX2N0b3JzJ10pO1xuXG4gICAgcmVtb3ZlUnVuRGVwZW5kZW5jeSgnd2FzbS1pbnN0YW50aWF0ZScpO1xuXG4gICAgcmV0dXJuIGV4cG9ydHM7XG4gIH1cbiAgLy8gd2FpdCBmb3IgdGhlIHB0aHJlYWQgcG9vbCAoaWYgYW55KVxuICBhZGRSdW5EZXBlbmRlbmN5KCd3YXNtLWluc3RhbnRpYXRlJyk7XG5cbiAgLy8gUHJlZmVyIHN0cmVhbWluZyBpbnN0YW50aWF0aW9uIGlmIGF2YWlsYWJsZS5cbiAgZnVuY3Rpb24gcmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQocmVzdWx0KSB7XG4gICAgLy8gJ3Jlc3VsdCcgaXMgYSBSZXN1bHRPYmplY3Qgb2JqZWN0IHdoaWNoIGhhcyBib3RoIHRoZSBtb2R1bGUgYW5kIGluc3RhbmNlLlxuICAgIC8vIHJlY2VpdmVJbnN0YW5jZSgpIHdpbGwgc3dhcCBpbiB0aGUgZXhwb3J0cyAodG8gTW9kdWxlLmFzbSkgc28gdGhleSBjYW4gYmUgY2FsbGVkXG4gICAgLy8gVE9ETzogRHVlIHRvIENsb3N1cmUgcmVncmVzc2lvbiBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzMxOTMsIHRoZSBhYm92ZSBsaW5lIG5vIGxvbmdlciBvcHRpbWl6ZXMgb3V0IGRvd24gdG8gdGhlIGZvbGxvd2luZyBsaW5lLlxuICAgIC8vIFdoZW4gdGhlIHJlZ3Jlc3Npb24gaXMgZml4ZWQsIGNhbiByZXN0b3JlIHRoZSBhYm92ZSBVU0VfUFRIUkVBRFMtZW5hYmxlZCBwYXRoLlxuICAgIHJlY2VpdmVJbnN0YW5jZShyZXN1bHRbJ2luc3RhbmNlJ10pO1xuICB9XG5cbiAgLy8gVXNlciBzaGVsbCBwYWdlcyBjYW4gd3JpdGUgdGhlaXIgb3duIE1vZHVsZS5pbnN0YW50aWF0ZVdhc20gPSBmdW5jdGlvbihpbXBvcnRzLCBzdWNjZXNzQ2FsbGJhY2spIGNhbGxiYWNrXG4gIC8vIHRvIG1hbnVhbGx5IGluc3RhbnRpYXRlIHRoZSBXYXNtIG1vZHVsZSB0aGVtc2VsdmVzLiBUaGlzIGFsbG93cyBwYWdlcyB0byBydW4gdGhlIGluc3RhbnRpYXRpb24gcGFyYWxsZWxcbiAgLy8gdG8gYW55IG90aGVyIGFzeW5jIHN0YXJ0dXAgYWN0aW9ucyB0aGV5IGFyZSBwZXJmb3JtaW5nLlxuICAvLyBBbHNvIHB0aHJlYWRzIGFuZCB3YXNtIHdvcmtlcnMgaW5pdGlhbGl6ZSB0aGUgd2FzbSBpbnN0YW5jZSB0aHJvdWdoIHRoaXMgcGF0aC5cbiAgaWYgKE1vZHVsZVsnaW5zdGFudGlhdGVXYXNtJ10pIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIE1vZHVsZVsnaW5zdGFudGlhdGVXYXNtJ10oaW5mbywgcmVjZWl2ZUluc3RhbmNlKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIGVycignTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogJyArIGUpO1xuICAgICAgICAvLyBJZiBpbnN0YW50aWF0aW9uIGZhaWxzLCByZWplY3QgdGhlIG1vZHVsZSByZWFkeSBwcm9taXNlLlxuICAgICAgICByZWFkeVByb21pc2VSZWplY3QoZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgaW5zdGFudGlhdGlvbiBmYWlscywgcmVqZWN0IHRoZSBtb2R1bGUgcmVhZHkgcHJvbWlzZS5cbiAgaW5zdGFudGlhdGVBc3luYyh3YXNtQmluYXJ5LCB3YXNtQmluYXJ5RmlsZSwgaW5mbywgcmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQpLmNhdGNoKHJlYWR5UHJvbWlzZVJlamVjdCk7XG4gIHJldHVybiB7fTsgLy8gbm8gZXhwb3J0cyB5ZXQ7IHdlJ2xsIGZpbGwgdGhlbSBpbiBsYXRlclxufVxuXG4vLyBHbG9iYWxzIHVzZWQgYnkgSlMgaTY0IGNvbnZlcnNpb25zIChzZWUgbWFrZVNldFZhbHVlKVxudmFyIHRlbXBEb3VibGU7XG52YXIgdGVtcEk2NDtcblxuLy8gaW5jbHVkZTogcnVudGltZV9kZWJ1Zy5qc1xuLy8gZW5kIGluY2x1ZGU6IHJ1bnRpbWVfZGVidWcuanNcbi8vID09PSBCb2R5ID09PVxuXG5cbi8vIGVuZCBpbmNsdWRlOiBwcmVhbWJsZS5qc1xuXG4gIC8qKiBAY29uc3RydWN0b3IgKi9cbiAgZnVuY3Rpb24gRXhpdFN0YXR1cyhzdGF0dXMpIHtcbiAgICAgIHRoaXMubmFtZSA9ICdFeGl0U3RhdHVzJztcbiAgICAgIHRoaXMubWVzc2FnZSA9ICdQcm9ncmFtIHRlcm1pbmF0ZWQgd2l0aCBleGl0KCcgKyBzdGF0dXMgKyAnKSc7XG4gICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB9XG5cbiAgZnVuY3Rpb24gY2FsbFJ1bnRpbWVDYWxsYmFja3MoY2FsbGJhY2tzKSB7XG4gICAgICB3aGlsZSAoY2FsbGJhY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gUGFzcyB0aGUgbW9kdWxlIGFzIHRoZSBmaXJzdCBhcmd1bWVudC5cbiAgICAgICAgY2FsbGJhY2tzLnNoaWZ0KCkoTW9kdWxlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHB0clxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKHB0ciwgdHlwZSA9ICdpOCcpIHtcbiAgICBpZiAodHlwZS5lbmRzV2l0aCgnKicpKSB0eXBlID0gJyonO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnaTEnOiByZXR1cm4gSEVBUDhbKChwdHIpPj4wKV07XG4gICAgICBjYXNlICdpOCc6IHJldHVybiBIRUFQOFsoKHB0cik+PjApXTtcbiAgICAgIGNhc2UgJ2kxNic6IHJldHVybiBIRUFQMTZbKChwdHIpPj4xKV07XG4gICAgICBjYXNlICdpMzInOiByZXR1cm4gSEVBUDMyWygocHRyKT4+MildO1xuICAgICAgY2FzZSAnaTY0JzogcmV0dXJuIEhFQVA2NFsoKHB0cik+PjMpXTtcbiAgICAgIGNhc2UgJ2Zsb2F0JzogcmV0dXJuIEhFQVBGMzJbKChwdHIpPj4yKV07XG4gICAgICBjYXNlICdkb3VibGUnOiByZXR1cm4gSEVBUEY2NFsoKHB0cik+PjMpXTtcbiAgICAgIGNhc2UgJyonOiByZXR1cm4gSEVBUFUzMlsoKHB0cik+PjIpXTtcbiAgICAgIGRlZmF1bHQ6IGFib3J0KCdpbnZhbGlkIHR5cGUgZm9yIGdldFZhbHVlOiAnICsgdHlwZSk7XG4gICAgfVxuICB9XG5cbiAgXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHB0clxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICovXG4gIGZ1bmN0aW9uIHNldFZhbHVlKHB0ciwgdmFsdWUsIHR5cGUgPSAnaTgnKSB7XG4gICAgaWYgKHR5cGUuZW5kc1dpdGgoJyonKSkgdHlwZSA9ICcqJztcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2kxJzogSEVBUDhbKChwdHIpPj4wKV0gPSB2YWx1ZTsgYnJlYWs7XG4gICAgICBjYXNlICdpOCc6IEhFQVA4WygocHRyKT4+MCldID0gdmFsdWU7IGJyZWFrO1xuICAgICAgY2FzZSAnaTE2JzogSEVBUDE2WygocHRyKT4+MSldID0gdmFsdWU7IGJyZWFrO1xuICAgICAgY2FzZSAnaTMyJzogSEVBUDMyWygocHRyKT4+MildID0gdmFsdWU7IGJyZWFrO1xuICAgICAgY2FzZSAnaTY0JzogKHRlbXBJNjQgPSBbdmFsdWU+Pj4wLCh0ZW1wRG91YmxlPXZhbHVlLCgrKE1hdGguYWJzKHRlbXBEb3VibGUpKSkgPj0gMS4wID8gKHRlbXBEb3VibGUgPiAwLjAgPyAoKE1hdGgubWluKCgrKE1hdGguZmxvb3IoKHRlbXBEb3VibGUpLzQyOTQ5NjcyOTYuMCkpKSwgNDI5NDk2NzI5NS4wKSl8MCk+Pj4wIDogKH5+KCgrKE1hdGguY2VpbCgodGVtcERvdWJsZSAtICsoKCh+fih0ZW1wRG91YmxlKSkpPj4+MCkpLzQyOTQ5NjcyOTYuMCkpKSkpPj4+MCkgOiAwKV0sSEVBUDMyWygocHRyKT4+MildID0gdGVtcEk2NFswXSxIRUFQMzJbKCgocHRyKSsoNCkpPj4yKV0gPSB0ZW1wSTY0WzFdKTsgYnJlYWs7XG4gICAgICBjYXNlICdmbG9hdCc6IEhFQVBGMzJbKChwdHIpPj4yKV0gPSB2YWx1ZTsgYnJlYWs7XG4gICAgICBjYXNlICdkb3VibGUnOiBIRUFQRjY0WygocHRyKT4+MyldID0gdmFsdWU7IGJyZWFrO1xuICAgICAgY2FzZSAnKic6IEhFQVBVMzJbKChwdHIpPj4yKV0gPSB2YWx1ZTsgYnJlYWs7XG4gICAgICBkZWZhdWx0OiBhYm9ydCgnaW52YWxpZCB0eXBlIGZvciBzZXRWYWx1ZTogJyArIHR5cGUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBQQVRIID0ge2lzQWJzOihwYXRoKSA9PiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nLHNwbGl0UGF0aDooZmlsZW5hbWUpID0+IHtcbiAgICAgICAgdmFyIHNwbGl0UGF0aFJlID0gL14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC87XG4gICAgICAgIHJldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKTtcbiAgICAgIH0sbm9ybWFsaXplQXJyYXk6KHBhcnRzLCBhbGxvd0Fib3ZlUm9vdCkgPT4ge1xuICAgICAgICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICAgICAgICB2YXIgdXAgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gcGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICB2YXIgbGFzdCA9IHBhcnRzW2ldO1xuICAgICAgICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgICAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgICAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIHVwKys7XG4gICAgICAgICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgdXAtLTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICAgICAgICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICAgICAgICBmb3IgKDsgdXA7IHVwLS0pIHtcbiAgICAgICAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJ0cztcbiAgICAgIH0sbm9ybWFsaXplOihwYXRoKSA9PiB7XG4gICAgICAgIHZhciBpc0Fic29sdXRlID0gUEFUSC5pc0FicyhwYXRoKSxcbiAgICAgICAgICAgIHRyYWlsaW5nU2xhc2ggPSBwYXRoLnN1YnN0cigtMSkgPT09ICcvJztcbiAgICAgICAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gICAgICAgIHBhdGggPSBQQVRILm5vcm1hbGl6ZUFycmF5KHBhdGguc3BsaXQoJy8nKS5maWx0ZXIoKHApID0+ICEhcCksICFpc0Fic29sdXRlKS5qb2luKCcvJyk7XG4gICAgICAgIGlmICghcGF0aCAmJiAhaXNBYnNvbHV0ZSkge1xuICAgICAgICAgIHBhdGggPSAnLic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGggJiYgdHJhaWxpbmdTbGFzaCkge1xuICAgICAgICAgIHBhdGggKz0gJy8nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoaXNBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHBhdGg7XG4gICAgICB9LGRpcm5hbWU6KHBhdGgpID0+IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFBBVEguc3BsaXRQYXRoKHBhdGgpLFxuICAgICAgICAgICAgcm9vdCA9IHJlc3VsdFswXSxcbiAgICAgICAgICAgIGRpciA9IHJlc3VsdFsxXTtcbiAgICAgICAgaWYgKCFyb290ICYmICFkaXIpIHtcbiAgICAgICAgICAvLyBObyBkaXJuYW1lIHdoYXRzb2V2ZXJcbiAgICAgICAgICByZXR1cm4gJy4nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgICAvLyBJdCBoYXMgYSBkaXJuYW1lLCBzdHJpcCB0cmFpbGluZyBzbGFzaFxuICAgICAgICAgIGRpciA9IGRpci5zdWJzdHIoMCwgZGlyLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb290ICsgZGlyO1xuICAgICAgfSxiYXNlbmFtZToocGF0aCkgPT4ge1xuICAgICAgICAvLyBFTVNDUklQVEVOIHJldHVybiAnLycnIGZvciAnLycsIG5vdCBhbiBlbXB0eSBzdHJpbmdcbiAgICAgICAgaWYgKHBhdGggPT09ICcvJykgcmV0dXJuICcvJztcbiAgICAgICAgcGF0aCA9IFBBVEgubm9ybWFsaXplKHBhdGgpO1xuICAgICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9cXC8kLywgXCJcIik7XG4gICAgICAgIHZhciBsYXN0U2xhc2ggPSBwYXRoLmxhc3RJbmRleE9mKCcvJyk7XG4gICAgICAgIGlmIChsYXN0U2xhc2ggPT09IC0xKSByZXR1cm4gcGF0aDtcbiAgICAgICAgcmV0dXJuIHBhdGguc3Vic3RyKGxhc3RTbGFzaCsxKTtcbiAgICAgIH0sam9pbjpmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHBhdGhzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIFBBVEgubm9ybWFsaXplKHBhdGhzLmpvaW4oJy8nKSk7XG4gICAgICB9LGpvaW4yOihsLCByKSA9PiB7XG4gICAgICAgIHJldHVybiBQQVRILm5vcm1hbGl6ZShsICsgJy8nICsgcik7XG4gICAgICB9fTtcbiAgXG4gIGZ1bmN0aW9uIGdldFJhbmRvbURldmljZSgpIHtcbiAgICAgIGlmICh0eXBlb2YgY3J5cHRvID09ICdvYmplY3QnICYmIHR5cGVvZiBjcnlwdG9bJ2dldFJhbmRvbVZhbHVlcyddID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gZm9yIG1vZGVybiB3ZWIgYnJvd3NlcnNcbiAgICAgICAgdmFyIHJhbmRvbUJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDEpO1xuICAgICAgICByZXR1cm4gKCkgPT4geyBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHJhbmRvbUJ1ZmZlcik7IHJldHVybiByYW5kb21CdWZmZXJbMF07IH07XG4gICAgICB9IGVsc2VcbiAgICAgIC8vIHdlIGNvdWxkbid0IGZpbmQgYSBwcm9wZXIgaW1wbGVtZW50YXRpb24sIGFzIE1hdGgucmFuZG9tKCkgaXMgbm90IHN1aXRhYmxlIGZvciAvZGV2L3JhbmRvbSwgc2VlIGVtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3B1bGwvNzA5NlxuICAgICAgcmV0dXJuICgpID0+IGFib3J0KFwicmFuZG9tRGV2aWNlXCIpO1xuICAgIH1cbiAgXG4gIFxuICBcbiAgdmFyIFBBVEhfRlMgPSB7cmVzb2x2ZTpmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlc29sdmVkUGF0aCA9ICcnLFxuICAgICAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICAgICAgICB2YXIgcGF0aCA9IChpID49IDApID8gYXJndW1lbnRzW2ldIDogRlMuY3dkKCk7XG4gICAgICAgICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgICAgICAgaWYgKHR5cGVvZiBwYXRoICE9ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncycpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiAnJzsgLy8gYW4gaW52YWxpZCBwb3J0aW9uIGludmFsaWRhdGVzIHRoZSB3aG9sZSB0aGluZ1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgICAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBQQVRILmlzQWJzKHBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgICAgICAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG4gICAgICAgIHJlc29sdmVkUGF0aCA9IFBBVEgubm9ybWFsaXplQXJyYXkocmVzb2x2ZWRQYXRoLnNwbGl0KCcvJykuZmlsdGVyKChwKSA9PiAhIXApLCAhcmVzb2x2ZWRBYnNvbHV0ZSkuam9pbignLycpO1xuICAgICAgICByZXR1cm4gKChyZXNvbHZlZEFic29sdXRlID8gJy8nIDogJycpICsgcmVzb2x2ZWRQYXRoKSB8fCAnLic7XG4gICAgICB9LHJlbGF0aXZlOihmcm9tLCB0bykgPT4ge1xuICAgICAgICBmcm9tID0gUEFUSF9GUy5yZXNvbHZlKGZyb20pLnN1YnN0cigxKTtcbiAgICAgICAgdG8gPSBQQVRIX0ZTLnJlc29sdmUodG8pLnN1YnN0cigxKTtcbiAgICAgICAgZnVuY3Rpb24gdHJpbShhcnIpIHtcbiAgICAgICAgICB2YXIgc3RhcnQgPSAwO1xuICAgICAgICAgIGZvciAoOyBzdGFydCA8IGFyci5sZW5ndGg7IHN0YXJ0KyspIHtcbiAgICAgICAgICAgIGlmIChhcnJbc3RhcnRdICE9PSAnJykgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICAgICAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICAgICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0YXJ0ID4gZW5kKSByZXR1cm4gW107XG4gICAgICAgICAgcmV0dXJuIGFyci5zbGljZShzdGFydCwgZW5kIC0gc3RhcnQgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZnJvbVBhcnRzID0gdHJpbShmcm9tLnNwbGl0KCcvJykpO1xuICAgICAgICB2YXIgdG9QYXJ0cyA9IHRyaW0odG8uc3BsaXQoJy8nKSk7XG4gICAgICAgIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gICAgICAgIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICAgICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRwdXRQYXJ0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gc2FtZVBhcnRzTGVuZ3RoOyBpIDwgZnJvbVBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgb3V0cHV0UGFydHMucHVzaCgnLi4nKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXRQYXJ0cyA9IG91dHB1dFBhcnRzLmNvbmNhdCh0b1BhcnRzLnNsaWNlKHNhbWVQYXJ0c0xlbmd0aCkpO1xuICAgICAgICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xuICAgICAgfX07XG4gIFxuICBcbiAgLyoqIEB0eXBlIHtmdW5jdGlvbihzdHJpbmcsIGJvb2xlYW49LCBudW1iZXI9KX0gKi9cbiAgZnVuY3Rpb24gaW50QXJyYXlGcm9tU3RyaW5nKHN0cmluZ3ksIGRvbnRBZGROdWxsLCBsZW5ndGgpIHtcbiAgICB2YXIgbGVuID0gbGVuZ3RoID4gMCA/IGxlbmd0aCA6IGxlbmd0aEJ5dGVzVVRGOChzdHJpbmd5KSsxO1xuICAgIHZhciB1OGFycmF5ID0gbmV3IEFycmF5KGxlbik7XG4gICAgdmFyIG51bUJ5dGVzV3JpdHRlbiA9IHN0cmluZ1RvVVRGOEFycmF5KHN0cmluZ3ksIHU4YXJyYXksIDAsIHU4YXJyYXkubGVuZ3RoKTtcbiAgICBpZiAoZG9udEFkZE51bGwpIHU4YXJyYXkubGVuZ3RoID0gbnVtQnl0ZXNXcml0dGVuO1xuICAgIHJldHVybiB1OGFycmF5O1xuICB9XG4gIHZhciBUVFkgPSB7dHR5czpbXSxpbml0OmZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3B1bGwvMTU1NVxuICAgICAgICAvLyBpZiAoRU5WSVJPTk1FTlRfSVNfTk9ERSkge1xuICAgICAgICAvLyAgIC8vIGN1cnJlbnRseSwgRlMuaW5pdCBkb2VzIG5vdCBkaXN0aW5ndWlzaCBpZiBwcm9jZXNzLnN0ZGluIGlzIGEgZmlsZSBvciBUVFlcbiAgICAgICAgLy8gICAvLyBkZXZpY2UsIGl0IGFsd2F5cyBhc3N1bWVzIGl0J3MgYSBUVFkgZGV2aWNlLiBiZWNhdXNlIG9mIHRoaXMsIHdlJ3JlIGZvcmNpbmdcbiAgICAgICAgLy8gICAvLyBwcm9jZXNzLnN0ZGluIHRvIFVURjggZW5jb2RpbmcgdG8gYXQgbGVhc3QgbWFrZSBzdGRpbiByZWFkaW5nIGNvbXBhdGlibGVcbiAgICAgICAgLy8gICAvLyB3aXRoIHRleHQgZmlsZXMgdW50aWwgRlMuaW5pdCBjYW4gYmUgcmVmYWN0b3JlZC5cbiAgICAgICAgLy8gICBwcm9jZXNzLnN0ZGluLnNldEVuY29kaW5nKCd1dGY4Jyk7XG4gICAgICAgIC8vIH1cbiAgICAgIH0sc2h1dGRvd246ZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9lbXNjcmlwdGVuLWNvcmUvZW1zY3JpcHRlbi9wdWxsLzE1NTVcbiAgICAgICAgLy8gaWYgKEVOVklST05NRU5UX0lTX05PREUpIHtcbiAgICAgICAgLy8gICAvLyBpbm9sZW46IGFueSBpZGVhIGFzIHRvIHdoeSBub2RlIC1lICdwcm9jZXNzLnN0ZGluLnJlYWQoKScgd291bGRuJ3QgZXhpdCBpbW1lZGlhdGVseSAod2l0aCBwcm9jZXNzLnN0ZGluIGJlaW5nIGEgdHR5KT9cbiAgICAgICAgLy8gICAvLyBpc2FhY3M6IGJlY2F1c2Ugbm93IGl0J3MgcmVhZGluZyBmcm9tIHRoZSBzdHJlYW0sIHlvdSd2ZSBleHByZXNzZWQgaW50ZXJlc3QgaW4gaXQsIHNvIHRoYXQgcmVhZCgpIGtpY2tzIG9mZiBhIF9yZWFkKCkgd2hpY2ggY3JlYXRlcyBhIFJlYWRSZXEgb3BlcmF0aW9uXG4gICAgICAgIC8vICAgLy8gaW5vbGVuOiBJIHRob3VnaHQgcmVhZCgpIGluIHRoYXQgY2FzZSB3YXMgYSBzeW5jaHJvbm91cyBvcGVyYXRpb24gdGhhdCBqdXN0IGdyYWJiZWQgc29tZSBhbW91bnQgb2YgYnVmZmVyZWQgZGF0YSBpZiBpdCBleGlzdHM/XG4gICAgICAgIC8vICAgLy8gaXNhYWNzOiBpdCBpcy4gYnV0IGl0IGFsc28gdHJpZ2dlcnMgYSBfcmVhZCgpIGNhbGwsIHdoaWNoIGNhbGxzIHJlYWRTdGFydCgpIG9uIHRoZSBoYW5kbGVcbiAgICAgICAgLy8gICAvLyBpc2FhY3M6IGRvIHByb2Nlc3Muc3RkaW4ucGF1c2UoKSBhbmQgaSdkIHRoaW5rIGl0J2QgcHJvYmFibHkgY2xvc2UgdGhlIHBlbmRpbmcgY2FsbFxuICAgICAgICAvLyAgIHByb2Nlc3Muc3RkaW4ucGF1c2UoKTtcbiAgICAgICAgLy8gfVxuICAgICAgfSxyZWdpc3RlcjpmdW5jdGlvbihkZXYsIG9wcykge1xuICAgICAgICBUVFkudHR5c1tkZXZdID0geyBpbnB1dDogW10sIG91dHB1dDogW10sIG9wczogb3BzIH07XG4gICAgICAgIEZTLnJlZ2lzdGVyRGV2aWNlKGRldiwgVFRZLnN0cmVhbV9vcHMpO1xuICAgICAgfSxzdHJlYW1fb3BzOntvcGVuOmZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICAgIHZhciB0dHkgPSBUVFkudHR5c1tzdHJlYW0ubm9kZS5yZGV2XTtcbiAgICAgICAgICBpZiAoIXR0eSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdHJlYW0udHR5ID0gdHR5O1xuICAgICAgICAgIHN0cmVhbS5zZWVrYWJsZSA9IGZhbHNlO1xuICAgICAgICB9LGNsb3NlOmZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICAgIC8vIGZsdXNoIGFueSBwZW5kaW5nIGxpbmUgZGF0YVxuICAgICAgICAgIHN0cmVhbS50dHkub3BzLmZzeW5jKHN0cmVhbS50dHkpO1xuICAgICAgICB9LGZzeW5jOmZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICAgIHN0cmVhbS50dHkub3BzLmZzeW5jKHN0cmVhbS50dHkpO1xuICAgICAgICB9LHJlYWQ6ZnVuY3Rpb24oc3RyZWFtLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3MgLyogaWdub3JlZCAqLykge1xuICAgICAgICAgIGlmICghc3RyZWFtLnR0eSB8fCAhc3RyZWFtLnR0eS5vcHMuZ2V0X2NoYXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDYwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGJ5dGVzUmVhZCA9IDA7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IHN0cmVhbS50dHkub3BzLmdldF9jaGFyKHN0cmVhbS50dHkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQgJiYgYnl0ZXNSZWFkID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHVuZGVmaW5lZCkgYnJlYWs7XG4gICAgICAgICAgICBieXRlc1JlYWQrKztcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQraV0gPSByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChieXRlc1JlYWQpIHtcbiAgICAgICAgICAgIHN0cmVhbS5ub2RlLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBieXRlc1JlYWQ7XG4gICAgICAgIH0sd3JpdGU6ZnVuY3Rpb24oc3RyZWFtLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3MpIHtcbiAgICAgICAgICBpZiAoIXN0cmVhbS50dHkgfHwgIXN0cmVhbS50dHkub3BzLnB1dF9jaGFyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2MCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIHN0cmVhbS50dHkub3BzLnB1dF9jaGFyKHN0cmVhbS50dHksIGJ1ZmZlcltvZmZzZXQraV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDI5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICAgICAgc3RyZWFtLm5vZGUudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH19LGRlZmF1bHRfdHR5X29wczp7Z2V0X2NoYXI6ZnVuY3Rpb24odHR5KSB7XG4gICAgICAgICAgaWYgKCF0dHkuaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgIHR5cGVvZiB3aW5kb3cucHJvbXB0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgLy8gQnJvd3Nlci5cbiAgICAgICAgICAgICAgcmVzdWx0ID0gd2luZG93LnByb21wdCgnSW5wdXQ6ICcpOyAgLy8gcmV0dXJucyBudWxsIG9uIGNhbmNlbFxuICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXG4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZWFkbGluZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIC8vIENvbW1hbmQgbGluZS5cbiAgICAgICAgICAgICAgcmVzdWx0ID0gcmVhZGxpbmUoKTtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXFxuJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0dHkuaW5wdXQgPSBpbnRBcnJheUZyb21TdHJpbmcocmVzdWx0LCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHR0eS5pbnB1dC5zaGlmdCgpO1xuICAgICAgICB9LHB1dF9jaGFyOmZ1bmN0aW9uKHR0eSwgdmFsKSB7XG4gICAgICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IDEwKSB7XG4gICAgICAgICAgICBvdXQoVVRGOEFycmF5VG9TdHJpbmcodHR5Lm91dHB1dCwgMCkpO1xuICAgICAgICAgICAgdHR5Lm91dHB1dCA9IFtdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodmFsICE9IDApIHR0eS5vdXRwdXQucHVzaCh2YWwpOyAvLyB2YWwgPT0gMCB3b3VsZCBjdXQgdGV4dCBvdXRwdXQgb2ZmIGluIHRoZSBtaWRkbGUuXG4gICAgICAgICAgfVxuICAgICAgICB9LGZzeW5jOmZ1bmN0aW9uKHR0eSkge1xuICAgICAgICAgIGlmICh0dHkub3V0cHV0ICYmIHR0eS5vdXRwdXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgb3V0KFVURjhBcnJheVRvU3RyaW5nKHR0eS5vdXRwdXQsIDApKTtcbiAgICAgICAgICAgIHR0eS5vdXRwdXQgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH19LGRlZmF1bHRfdHR5MV9vcHM6e3B1dF9jaGFyOmZ1bmN0aW9uKHR0eSwgdmFsKSB7XG4gICAgICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IDEwKSB7XG4gICAgICAgICAgICBlcnIoVVRGOEFycmF5VG9TdHJpbmcodHR5Lm91dHB1dCwgMCkpO1xuICAgICAgICAgICAgdHR5Lm91dHB1dCA9IFtdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodmFsICE9IDApIHR0eS5vdXRwdXQucHVzaCh2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxmc3luYzpmdW5jdGlvbih0dHkpIHtcbiAgICAgICAgICBpZiAodHR5Lm91dHB1dCAmJiB0dHkub3V0cHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGVycihVVEY4QXJyYXlUb1N0cmluZyh0dHkub3V0cHV0LCAwKSk7XG4gICAgICAgICAgICB0dHkub3V0cHV0ID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9fX07XG4gIFxuICBcbiAgZnVuY3Rpb24gemVyb01lbW9yeShhZGRyZXNzLCBzaXplKSB7XG4gICAgICBIRUFQVTguZmlsbCgwLCBhZGRyZXNzLCBhZGRyZXNzICsgc2l6ZSk7XG4gICAgICByZXR1cm4gYWRkcmVzcztcbiAgICB9XG4gIFxuICBmdW5jdGlvbiBhbGlnbk1lbW9yeShzaXplLCBhbGlnbm1lbnQpIHtcbiAgICAgIHJldHVybiBNYXRoLmNlaWwoc2l6ZSAvIGFsaWdubWVudCkgKiBhbGlnbm1lbnQ7XG4gICAgfVxuICBmdW5jdGlvbiBtbWFwQWxsb2Moc2l6ZSkge1xuICAgICAgYWJvcnQoKTtcbiAgICB9XG4gIHZhciBNRU1GUyA9IHtvcHNfdGFibGU6bnVsbCxtb3VudDpmdW5jdGlvbihtb3VudCkge1xuICAgICAgICByZXR1cm4gTUVNRlMuY3JlYXRlTm9kZShudWxsLCAnLycsIDE2Mzg0IHwgNTExIC8qIDA3NzcgKi8sIDApO1xuICAgICAgfSxjcmVhdGVOb2RlOmZ1bmN0aW9uKHBhcmVudCwgbmFtZSwgbW9kZSwgZGV2KSB7XG4gICAgICAgIGlmIChGUy5pc0Jsa2Rldihtb2RlKSB8fCBGUy5pc0ZJRk8obW9kZSkpIHtcbiAgICAgICAgICAvLyBubyBzdXBwb3J0ZWRcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFNRU1GUy5vcHNfdGFibGUpIHtcbiAgICAgICAgICBNRU1GUy5vcHNfdGFibGUgPSB7XG4gICAgICAgICAgICBkaXI6IHtcbiAgICAgICAgICAgICAgbm9kZToge1xuICAgICAgICAgICAgICAgIGdldGF0dHI6IE1FTUZTLm5vZGVfb3BzLmdldGF0dHIsXG4gICAgICAgICAgICAgICAgc2V0YXR0cjogTUVNRlMubm9kZV9vcHMuc2V0YXR0cixcbiAgICAgICAgICAgICAgICBsb29rdXA6IE1FTUZTLm5vZGVfb3BzLmxvb2t1cCxcbiAgICAgICAgICAgICAgICBta25vZDogTUVNRlMubm9kZV9vcHMubWtub2QsXG4gICAgICAgICAgICAgICAgcmVuYW1lOiBNRU1GUy5ub2RlX29wcy5yZW5hbWUsXG4gICAgICAgICAgICAgICAgdW5saW5rOiBNRU1GUy5ub2RlX29wcy51bmxpbmssXG4gICAgICAgICAgICAgICAgcm1kaXI6IE1FTUZTLm5vZGVfb3BzLnJtZGlyLFxuICAgICAgICAgICAgICAgIHJlYWRkaXI6IE1FTUZTLm5vZGVfb3BzLnJlYWRkaXIsXG4gICAgICAgICAgICAgICAgc3ltbGluazogTUVNRlMubm9kZV9vcHMuc3ltbGlua1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzdHJlYW06IHtcbiAgICAgICAgICAgICAgICBsbHNlZWs6IE1FTUZTLnN0cmVhbV9vcHMubGxzZWVrXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICAgIG5vZGU6IHtcbiAgICAgICAgICAgICAgICBnZXRhdHRyOiBNRU1GUy5ub2RlX29wcy5nZXRhdHRyLFxuICAgICAgICAgICAgICAgIHNldGF0dHI6IE1FTUZTLm5vZGVfb3BzLnNldGF0dHJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc3RyZWFtOiB7XG4gICAgICAgICAgICAgICAgbGxzZWVrOiBNRU1GUy5zdHJlYW1fb3BzLmxsc2VlayxcbiAgICAgICAgICAgICAgICByZWFkOiBNRU1GUy5zdHJlYW1fb3BzLnJlYWQsXG4gICAgICAgICAgICAgICAgd3JpdGU6IE1FTUZTLnN0cmVhbV9vcHMud3JpdGUsXG4gICAgICAgICAgICAgICAgYWxsb2NhdGU6IE1FTUZTLnN0cmVhbV9vcHMuYWxsb2NhdGUsXG4gICAgICAgICAgICAgICAgbW1hcDogTUVNRlMuc3RyZWFtX29wcy5tbWFwLFxuICAgICAgICAgICAgICAgIG1zeW5jOiBNRU1GUy5zdHJlYW1fb3BzLm1zeW5jXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5rOiB7XG4gICAgICAgICAgICAgIG5vZGU6IHtcbiAgICAgICAgICAgICAgICBnZXRhdHRyOiBNRU1GUy5ub2RlX29wcy5nZXRhdHRyLFxuICAgICAgICAgICAgICAgIHNldGF0dHI6IE1FTUZTLm5vZGVfb3BzLnNldGF0dHIsXG4gICAgICAgICAgICAgICAgcmVhZGxpbms6IE1FTUZTLm5vZGVfb3BzLnJlYWRsaW5rXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHN0cmVhbToge31cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaHJkZXY6IHtcbiAgICAgICAgICAgICAgbm9kZToge1xuICAgICAgICAgICAgICAgIGdldGF0dHI6IE1FTUZTLm5vZGVfb3BzLmdldGF0dHIsXG4gICAgICAgICAgICAgICAgc2V0YXR0cjogTUVNRlMubm9kZV9vcHMuc2V0YXR0clxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzdHJlYW06IEZTLmNocmRldl9zdHJlYW1fb3BzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm9kZSA9IEZTLmNyZWF0ZU5vZGUocGFyZW50LCBuYW1lLCBtb2RlLCBkZXYpO1xuICAgICAgICBpZiAoRlMuaXNEaXIobm9kZS5tb2RlKSkge1xuICAgICAgICAgIG5vZGUubm9kZV9vcHMgPSBNRU1GUy5vcHNfdGFibGUuZGlyLm5vZGU7XG4gICAgICAgICAgbm9kZS5zdHJlYW1fb3BzID0gTUVNRlMub3BzX3RhYmxlLmRpci5zdHJlYW07XG4gICAgICAgICAgbm9kZS5jb250ZW50cyA9IHt9O1xuICAgICAgICB9IGVsc2UgaWYgKEZTLmlzRmlsZShub2RlLm1vZGUpKSB7XG4gICAgICAgICAgbm9kZS5ub2RlX29wcyA9IE1FTUZTLm9wc190YWJsZS5maWxlLm5vZGU7XG4gICAgICAgICAgbm9kZS5zdHJlYW1fb3BzID0gTUVNRlMub3BzX3RhYmxlLmZpbGUuc3RyZWFtO1xuICAgICAgICAgIG5vZGUudXNlZEJ5dGVzID0gMDsgLy8gVGhlIGFjdHVhbCBudW1iZXIgb2YgYnl0ZXMgdXNlZCBpbiB0aGUgdHlwZWQgYXJyYXksIGFzIG9wcG9zZWQgdG8gY29udGVudHMubGVuZ3RoIHdoaWNoIGdpdmVzIHRoZSB3aG9sZSBjYXBhY2l0eS5cbiAgICAgICAgICAvLyBXaGVuIHRoZSBieXRlIGRhdGEgb2YgdGhlIGZpbGUgaXMgcG9wdWxhdGVkLCB0aGlzIHdpbGwgcG9pbnQgdG8gZWl0aGVyIGEgdHlwZWQgYXJyYXksIG9yIGEgbm9ybWFsIEpTIGFycmF5LiBUeXBlZCBhcnJheXMgYXJlIHByZWZlcnJlZFxuICAgICAgICAgIC8vIGZvciBwZXJmb3JtYW5jZSwgYW5kIHVzZWQgYnkgZGVmYXVsdC4gSG93ZXZlciwgdHlwZWQgYXJyYXlzIGFyZSBub3QgcmVzaXphYmxlIGxpa2Ugbm9ybWFsIEpTIGFycmF5cyBhcmUsIHNvIHRoZXJlIGlzIGEgc21hbGwgZGlzayBzaXplXG4gICAgICAgICAgLy8gcGVuYWx0eSBpbnZvbHZlZCBmb3IgYXBwZW5kaW5nIGZpbGUgd3JpdGVzIHRoYXQgY29udGludW91c2x5IGdyb3cgYSBmaWxlIHNpbWlsYXIgdG8gc3RkOjp2ZWN0b3IgY2FwYWNpdHkgdnMgdXNlZCAtc2NoZW1lLlxuICAgICAgICAgIG5vZGUuY29udGVudHMgPSBudWxsOyBcbiAgICAgICAgfSBlbHNlIGlmIChGUy5pc0xpbmsobm9kZS5tb2RlKSkge1xuICAgICAgICAgIG5vZGUubm9kZV9vcHMgPSBNRU1GUy5vcHNfdGFibGUubGluay5ub2RlO1xuICAgICAgICAgIG5vZGUuc3RyZWFtX29wcyA9IE1FTUZTLm9wc190YWJsZS5saW5rLnN0cmVhbTtcbiAgICAgICAgfSBlbHNlIGlmIChGUy5pc0NocmRldihub2RlLm1vZGUpKSB7XG4gICAgICAgICAgbm9kZS5ub2RlX29wcyA9IE1FTUZTLm9wc190YWJsZS5jaHJkZXYubm9kZTtcbiAgICAgICAgICBub2RlLnN0cmVhbV9vcHMgPSBNRU1GUy5vcHNfdGFibGUuY2hyZGV2LnN0cmVhbTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgIC8vIGFkZCB0aGUgbmV3IG5vZGUgdG8gdGhlIHBhcmVudFxuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgcGFyZW50LmNvbnRlbnRzW25hbWVdID0gbm9kZTtcbiAgICAgICAgICBwYXJlbnQudGltZXN0YW1wID0gbm9kZS50aW1lc3RhbXA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9LGdldEZpbGVEYXRhQXNUeXBlZEFycmF5OmZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgaWYgKCFub2RlLmNvbnRlbnRzKSByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgICAgIGlmIChub2RlLmNvbnRlbnRzLnN1YmFycmF5KSByZXR1cm4gbm9kZS5jb250ZW50cy5zdWJhcnJheSgwLCBub2RlLnVzZWRCeXRlcyk7IC8vIE1ha2Ugc3VyZSB0byBub3QgcmV0dXJuIGV4Y2VzcyB1bnVzZWQgYnl0ZXMuXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShub2RlLmNvbnRlbnRzKTtcbiAgICAgIH0sZXhwYW5kRmlsZVN0b3JhZ2U6ZnVuY3Rpb24obm9kZSwgbmV3Q2FwYWNpdHkpIHtcbiAgICAgICAgdmFyIHByZXZDYXBhY2l0eSA9IG5vZGUuY29udGVudHMgPyBub2RlLmNvbnRlbnRzLmxlbmd0aCA6IDA7XG4gICAgICAgIGlmIChwcmV2Q2FwYWNpdHkgPj0gbmV3Q2FwYWNpdHkpIHJldHVybjsgLy8gTm8gbmVlZCB0byBleHBhbmQsIHRoZSBzdG9yYWdlIHdhcyBhbHJlYWR5IGxhcmdlIGVub3VnaC5cbiAgICAgICAgLy8gRG9uJ3QgZXhwYW5kIHN0cmljdGx5IHRvIHRoZSBnaXZlbiByZXF1ZXN0ZWQgbGltaXQgaWYgaXQncyBvbmx5IGEgdmVyeSBzbWFsbCBpbmNyZWFzZSwgYnV0IGluc3RlYWQgZ2VvbWV0cmljYWxseSBncm93IGNhcGFjaXR5LlxuICAgICAgICAvLyBGb3Igc21hbGwgZmlsZXNpemVzICg8MU1CKSwgcGVyZm9ybSBzaXplKjIgZ2VvbWV0cmljIGluY3JlYXNlLCBidXQgZm9yIGxhcmdlIHNpemVzLCBkbyBhIG11Y2ggbW9yZSBjb25zZXJ2YXRpdmUgc2l6ZSoxLjEyNSBpbmNyZWFzZSB0b1xuICAgICAgICAvLyBhdm9pZCBvdmVyc2hvb3RpbmcgdGhlIGFsbG9jYXRpb24gY2FwIGJ5IGEgdmVyeSBsYXJnZSBtYXJnaW4uXG4gICAgICAgIHZhciBDQVBBQ0lUWV9ET1VCTElOR19NQVggPSAxMDI0ICogMTAyNDtcbiAgICAgICAgbmV3Q2FwYWNpdHkgPSBNYXRoLm1heChuZXdDYXBhY2l0eSwgKHByZXZDYXBhY2l0eSAqIChwcmV2Q2FwYWNpdHkgPCBDQVBBQ0lUWV9ET1VCTElOR19NQVggPyAyLjAgOiAxLjEyNSkpID4+PiAwKTtcbiAgICAgICAgaWYgKHByZXZDYXBhY2l0eSAhPSAwKSBuZXdDYXBhY2l0eSA9IE1hdGgubWF4KG5ld0NhcGFjaXR5LCAyNTYpOyAvLyBBdCBtaW5pbXVtIGFsbG9jYXRlIDI1NmIgZm9yIGVhY2ggZmlsZSB3aGVuIGV4cGFuZGluZy5cbiAgICAgICAgdmFyIG9sZENvbnRlbnRzID0gbm9kZS5jb250ZW50cztcbiAgICAgICAgbm9kZS5jb250ZW50cyA9IG5ldyBVaW50OEFycmF5KG5ld0NhcGFjaXR5KTsgLy8gQWxsb2NhdGUgbmV3IHN0b3JhZ2UuXG4gICAgICAgIGlmIChub2RlLnVzZWRCeXRlcyA+IDApIG5vZGUuY29udGVudHMuc2V0KG9sZENvbnRlbnRzLnN1YmFycmF5KDAsIG5vZGUudXNlZEJ5dGVzKSwgMCk7IC8vIENvcHkgb2xkIGRhdGEgb3ZlciB0byB0aGUgbmV3IHN0b3JhZ2UuXG4gICAgICB9LHJlc2l6ZUZpbGVTdG9yYWdlOmZ1bmN0aW9uKG5vZGUsIG5ld1NpemUpIHtcbiAgICAgICAgaWYgKG5vZGUudXNlZEJ5dGVzID09IG5ld1NpemUpIHJldHVybjtcbiAgICAgICAgaWYgKG5ld1NpemUgPT0gMCkge1xuICAgICAgICAgIG5vZGUuY29udGVudHMgPSBudWxsOyAvLyBGdWxseSBkZWNvbW1pdCB3aGVuIHJlcXVlc3RpbmcgYSByZXNpemUgdG8gemVyby5cbiAgICAgICAgICBub2RlLnVzZWRCeXRlcyA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG9sZENvbnRlbnRzID0gbm9kZS5jb250ZW50cztcbiAgICAgICAgICBub2RlLmNvbnRlbnRzID0gbmV3IFVpbnQ4QXJyYXkobmV3U2l6ZSk7IC8vIEFsbG9jYXRlIG5ldyBzdG9yYWdlLlxuICAgICAgICAgIGlmIChvbGRDb250ZW50cykge1xuICAgICAgICAgICAgbm9kZS5jb250ZW50cy5zZXQob2xkQ29udGVudHMuc3ViYXJyYXkoMCwgTWF0aC5taW4obmV3U2l6ZSwgbm9kZS51c2VkQnl0ZXMpKSk7IC8vIENvcHkgb2xkIGRhdGEgb3ZlciB0byB0aGUgbmV3IHN0b3JhZ2UuXG4gICAgICAgICAgfVxuICAgICAgICAgIG5vZGUudXNlZEJ5dGVzID0gbmV3U2l6ZTtcbiAgICAgICAgfVxuICAgICAgfSxub2RlX29wczp7Z2V0YXR0cjpmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgdmFyIGF0dHIgPSB7fTtcbiAgICAgICAgICAvLyBkZXZpY2UgbnVtYmVycyByZXVzZSBpbm9kZSBudW1iZXJzLlxuICAgICAgICAgIGF0dHIuZGV2ID0gRlMuaXNDaHJkZXYobm9kZS5tb2RlKSA/IG5vZGUuaWQgOiAxO1xuICAgICAgICAgIGF0dHIuaW5vID0gbm9kZS5pZDtcbiAgICAgICAgICBhdHRyLm1vZGUgPSBub2RlLm1vZGU7XG4gICAgICAgICAgYXR0ci5ubGluayA9IDE7XG4gICAgICAgICAgYXR0ci51aWQgPSAwO1xuICAgICAgICAgIGF0dHIuZ2lkID0gMDtcbiAgICAgICAgICBhdHRyLnJkZXYgPSBub2RlLnJkZXY7XG4gICAgICAgICAgaWYgKEZTLmlzRGlyKG5vZGUubW9kZSkpIHtcbiAgICAgICAgICAgIGF0dHIuc2l6ZSA9IDQwOTY7XG4gICAgICAgICAgfSBlbHNlIGlmIChGUy5pc0ZpbGUobm9kZS5tb2RlKSkge1xuICAgICAgICAgICAgYXR0ci5zaXplID0gbm9kZS51c2VkQnl0ZXM7XG4gICAgICAgICAgfSBlbHNlIGlmIChGUy5pc0xpbmsobm9kZS5tb2RlKSkge1xuICAgICAgICAgICAgYXR0ci5zaXplID0gbm9kZS5saW5rLmxlbmd0aDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXR0ci5zaXplID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXR0ci5hdGltZSA9IG5ldyBEYXRlKG5vZGUudGltZXN0YW1wKTtcbiAgICAgICAgICBhdHRyLm10aW1lID0gbmV3IERhdGUobm9kZS50aW1lc3RhbXApO1xuICAgICAgICAgIGF0dHIuY3RpbWUgPSBuZXcgRGF0ZShub2RlLnRpbWVzdGFtcCk7XG4gICAgICAgICAgLy8gTk9URTogSW4gb3VyIGltcGxlbWVudGF0aW9uLCBzdF9ibG9ja3MgPSBNYXRoLmNlaWwoc3Rfc2l6ZS9zdF9ibGtzaXplKSxcbiAgICAgICAgICAvLyAgICAgICBidXQgdGhpcyBpcyBub3QgcmVxdWlyZWQgYnkgdGhlIHN0YW5kYXJkLlxuICAgICAgICAgIGF0dHIuYmxrc2l6ZSA9IDQwOTY7XG4gICAgICAgICAgYXR0ci5ibG9ja3MgPSBNYXRoLmNlaWwoYXR0ci5zaXplIC8gYXR0ci5ibGtzaXplKTtcbiAgICAgICAgICByZXR1cm4gYXR0cjtcbiAgICAgICAgfSxzZXRhdHRyOmZ1bmN0aW9uKG5vZGUsIGF0dHIpIHtcbiAgICAgICAgICBpZiAoYXR0ci5tb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5vZGUubW9kZSA9IGF0dHIubW9kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGF0dHIudGltZXN0YW1wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5vZGUudGltZXN0YW1wID0gYXR0ci50aW1lc3RhbXA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhdHRyLnNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgTUVNRlMucmVzaXplRmlsZVN0b3JhZ2Uobm9kZSwgYXR0ci5zaXplKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sbG9va3VwOmZ1bmN0aW9uKHBhcmVudCwgbmFtZSkge1xuICAgICAgICAgIHRocm93IEZTLmdlbmVyaWNFcnJvcnNbNDRdO1xuICAgICAgICB9LG1rbm9kOmZ1bmN0aW9uKHBhcmVudCwgbmFtZSwgbW9kZSwgZGV2KSB7XG4gICAgICAgICAgcmV0dXJuIE1FTUZTLmNyZWF0ZU5vZGUocGFyZW50LCBuYW1lLCBtb2RlLCBkZXYpO1xuICAgICAgICB9LHJlbmFtZTpmdW5jdGlvbihvbGRfbm9kZSwgbmV3X2RpciwgbmV3X25hbWUpIHtcbiAgICAgICAgICAvLyBpZiB3ZSdyZSBvdmVyd3JpdGluZyBhIGRpcmVjdG9yeSBhdCBuZXdfbmFtZSwgbWFrZSBzdXJlIGl0J3MgZW1wdHkuXG4gICAgICAgICAgaWYgKEZTLmlzRGlyKG9sZF9ub2RlLm1vZGUpKSB7XG4gICAgICAgICAgICB2YXIgbmV3X25vZGU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBuZXdfbm9kZSA9IEZTLmxvb2t1cE5vZGUobmV3X2RpciwgbmV3X25hbWUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld19ub2RlKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gbmV3X25vZGUuY29udGVudHMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gZG8gdGhlIGludGVybmFsIHJld2lyaW5nXG4gICAgICAgICAgZGVsZXRlIG9sZF9ub2RlLnBhcmVudC5jb250ZW50c1tvbGRfbm9kZS5uYW1lXTtcbiAgICAgICAgICBvbGRfbm9kZS5wYXJlbnQudGltZXN0YW1wID0gRGF0ZS5ub3coKVxuICAgICAgICAgIG9sZF9ub2RlLm5hbWUgPSBuZXdfbmFtZTtcbiAgICAgICAgICBuZXdfZGlyLmNvbnRlbnRzW25ld19uYW1lXSA9IG9sZF9ub2RlO1xuICAgICAgICAgIG5ld19kaXIudGltZXN0YW1wID0gb2xkX25vZGUucGFyZW50LnRpbWVzdGFtcDtcbiAgICAgICAgICBvbGRfbm9kZS5wYXJlbnQgPSBuZXdfZGlyO1xuICAgICAgICB9LHVubGluazpmdW5jdGlvbihwYXJlbnQsIG5hbWUpIHtcbiAgICAgICAgICBkZWxldGUgcGFyZW50LmNvbnRlbnRzW25hbWVdO1xuICAgICAgICAgIHBhcmVudC50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICB9LHJtZGlyOmZ1bmN0aW9uKHBhcmVudCwgbmFtZSkge1xuICAgICAgICAgIHZhciBub2RlID0gRlMubG9va3VwTm9kZShwYXJlbnQsIG5hbWUpO1xuICAgICAgICAgIGZvciAodmFyIGkgaW4gbm9kZS5jb250ZW50cykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNTUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgcGFyZW50LmNvbnRlbnRzW25hbWVdO1xuICAgICAgICAgIHBhcmVudC50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICB9LHJlYWRkaXI6ZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgIHZhciBlbnRyaWVzID0gWycuJywgJy4uJ107XG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIG5vZGUuY29udGVudHMpIHtcbiAgICAgICAgICAgIGlmICghbm9kZS5jb250ZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50cmllcy5wdXNoKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBlbnRyaWVzO1xuICAgICAgICB9LHN5bWxpbms6ZnVuY3Rpb24ocGFyZW50LCBuZXduYW1lLCBvbGRwYXRoKSB7XG4gICAgICAgICAgdmFyIG5vZGUgPSBNRU1GUy5jcmVhdGVOb2RlKHBhcmVudCwgbmV3bmFtZSwgNTExIC8qIDA3NzcgKi8gfCA0MDk2MCwgMCk7XG4gICAgICAgICAgbm9kZS5saW5rID0gb2xkcGF0aDtcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfSxyZWFkbGluazpmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgaWYgKCFGUy5pc0xpbmsobm9kZS5tb2RlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbm9kZS5saW5rO1xuICAgICAgICB9fSxzdHJlYW1fb3BzOntyZWFkOmZ1bmN0aW9uKHN0cmVhbSwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pIHtcbiAgICAgICAgICB2YXIgY29udGVudHMgPSBzdHJlYW0ubm9kZS5jb250ZW50cztcbiAgICAgICAgICBpZiAocG9zaXRpb24gPj0gc3RyZWFtLm5vZGUudXNlZEJ5dGVzKSByZXR1cm4gMDtcbiAgICAgICAgICB2YXIgc2l6ZSA9IE1hdGgubWluKHN0cmVhbS5ub2RlLnVzZWRCeXRlcyAtIHBvc2l0aW9uLCBsZW5ndGgpO1xuICAgICAgICAgIGlmIChzaXplID4gOCAmJiBjb250ZW50cy5zdWJhcnJheSkgeyAvLyBub24tdHJpdmlhbCwgYW5kIHR5cGVkIGFycmF5XG4gICAgICAgICAgICBidWZmZXIuc2V0KGNvbnRlbnRzLnN1YmFycmF5KHBvc2l0aW9uLCBwb3NpdGlvbiArIHNpemUpLCBvZmZzZXQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykgYnVmZmVyW29mZnNldCArIGldID0gY29udGVudHNbcG9zaXRpb24gKyBpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgICAgIH0sd3JpdGU6ZnVuY3Rpb24oc3RyZWFtLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbiwgY2FuT3duKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGJ1ZmZlciBpcyBsb2NhdGVkIGluIG1haW4gbWVtb3J5IChIRUFQKSwgYW5kIGlmXG4gICAgICAgICAgLy8gbWVtb3J5IGNhbiBncm93LCB3ZSBjYW4ndCBob2xkIG9uIHRvIHJlZmVyZW5jZXMgb2YgdGhlXG4gICAgICAgICAgLy8gbWVtb3J5IGJ1ZmZlciwgYXMgdGhleSBtYXkgZ2V0IGludmFsaWRhdGVkLiBUaGF0IG1lYW5zIHdlXG4gICAgICAgICAgLy8gbmVlZCB0byBkbyBjb3B5IGl0cyBjb250ZW50cy5cbiAgICAgICAgICBpZiAoYnVmZmVyLmJ1ZmZlciA9PT0gSEVBUDguYnVmZmVyKSB7XG4gICAgICAgICAgICBjYW5Pd24gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIGlmICghbGVuZ3RoKSByZXR1cm4gMDtcbiAgICAgICAgICB2YXIgbm9kZSA9IHN0cmVhbS5ub2RlO1xuICAgICAgICAgIG5vZGUudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgXG4gICAgICAgICAgaWYgKGJ1ZmZlci5zdWJhcnJheSAmJiAoIW5vZGUuY29udGVudHMgfHwgbm9kZS5jb250ZW50cy5zdWJhcnJheSkpIHsgLy8gVGhpcyB3cml0ZSBpcyBmcm9tIGEgdHlwZWQgYXJyYXkgdG8gYSB0eXBlZCBhcnJheT9cbiAgICAgICAgICAgIGlmIChjYW5Pd24pIHtcbiAgICAgICAgICAgICAgbm9kZS5jb250ZW50cyA9IGJ1ZmZlci5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIGxlbmd0aCk7XG4gICAgICAgICAgICAgIG5vZGUudXNlZEJ5dGVzID0gbGVuZ3RoO1xuICAgICAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlLnVzZWRCeXRlcyA9PT0gMCAmJiBwb3NpdGlvbiA9PT0gMCkgeyAvLyBJZiB0aGlzIGlzIGEgc2ltcGxlIGZpcnN0IHdyaXRlIHRvIGFuIGVtcHR5IGZpbGUsIGRvIGEgZmFzdCBzZXQgc2luY2Ugd2UgZG9uJ3QgbmVlZCB0byBjYXJlIGFib3V0IG9sZCBkYXRhLlxuICAgICAgICAgICAgICBub2RlLmNvbnRlbnRzID0gYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGVuZ3RoKTtcbiAgICAgICAgICAgICAgbm9kZS51c2VkQnl0ZXMgPSBsZW5ndGg7XG4gICAgICAgICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uICsgbGVuZ3RoIDw9IG5vZGUudXNlZEJ5dGVzKSB7IC8vIFdyaXRpbmcgdG8gYW4gYWxyZWFkeSBhbGxvY2F0ZWQgYW5kIHVzZWQgc3VicmFuZ2Ugb2YgdGhlIGZpbGU/XG4gICAgICAgICAgICAgIG5vZGUuY29udGVudHMuc2V0KGJ1ZmZlci5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIGxlbmd0aCksIHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIC8vIEFwcGVuZGluZyB0byBhbiBleGlzdGluZyBmaWxlIGFuZCB3ZSBuZWVkIHRvIHJlYWxsb2NhdGUsIG9yIHNvdXJjZSBkYXRhIGRpZCBub3QgY29tZSBhcyBhIHR5cGVkIGFycmF5LlxuICAgICAgICAgIE1FTUZTLmV4cGFuZEZpbGVTdG9yYWdlKG5vZGUsIHBvc2l0aW9uK2xlbmd0aCk7XG4gICAgICAgICAgaWYgKG5vZGUuY29udGVudHMuc3ViYXJyYXkgJiYgYnVmZmVyLnN1YmFycmF5KSB7XG4gICAgICAgICAgICAvLyBVc2UgdHlwZWQgYXJyYXkgd3JpdGUgd2hpY2ggaXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgbm9kZS5jb250ZW50cy5zZXQoYnVmZmVyLnN1YmFycmF5KG9mZnNldCwgb2Zmc2V0ICsgbGVuZ3RoKSwgcG9zaXRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgbm9kZS5jb250ZW50c1twb3NpdGlvbiArIGldID0gYnVmZmVyW29mZnNldCArIGldOyAvLyBPciBmYWxsIGJhY2sgdG8gbWFudWFsIHdyaXRlIGlmIG5vdC5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZS51c2VkQnl0ZXMgPSBNYXRoLm1heChub2RlLnVzZWRCeXRlcywgcG9zaXRpb24gKyBsZW5ndGgpO1xuICAgICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgICAgIH0sbGxzZWVrOmZ1bmN0aW9uKHN0cmVhbSwgb2Zmc2V0LCB3aGVuY2UpIHtcbiAgICAgICAgICB2YXIgcG9zaXRpb24gPSBvZmZzZXQ7XG4gICAgICAgICAgaWYgKHdoZW5jZSA9PT0gMSkge1xuICAgICAgICAgICAgcG9zaXRpb24gKz0gc3RyZWFtLnBvc2l0aW9uO1xuICAgICAgICAgIH0gZWxzZSBpZiAod2hlbmNlID09PSAyKSB7XG4gICAgICAgICAgICBpZiAoRlMuaXNGaWxlKHN0cmVhbS5ub2RlLm1vZGUpKSB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uICs9IHN0cmVhbS5ub2RlLnVzZWRCeXRlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcG9zaXRpb247XG4gICAgICAgIH0sYWxsb2NhdGU6ZnVuY3Rpb24oc3RyZWFtLCBvZmZzZXQsIGxlbmd0aCkge1xuICAgICAgICAgIE1FTUZTLmV4cGFuZEZpbGVTdG9yYWdlKHN0cmVhbS5ub2RlLCBvZmZzZXQgKyBsZW5ndGgpO1xuICAgICAgICAgIHN0cmVhbS5ub2RlLnVzZWRCeXRlcyA9IE1hdGgubWF4KHN0cmVhbS5ub2RlLnVzZWRCeXRlcywgb2Zmc2V0ICsgbGVuZ3RoKTtcbiAgICAgICAgfSxtbWFwOmZ1bmN0aW9uKHN0cmVhbSwgbGVuZ3RoLCBwb3NpdGlvbiwgcHJvdCwgZmxhZ3MpIHtcbiAgICAgICAgICBpZiAoIUZTLmlzRmlsZShzdHJlYW0ubm9kZS5tb2RlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcHRyO1xuICAgICAgICAgIHZhciBhbGxvY2F0ZWQ7XG4gICAgICAgICAgdmFyIGNvbnRlbnRzID0gc3RyZWFtLm5vZGUuY29udGVudHM7XG4gICAgICAgICAgLy8gT25seSBtYWtlIGEgbmV3IGNvcHkgd2hlbiBNQVBfUFJJVkFURSBpcyBzcGVjaWZpZWQuXG4gICAgICAgICAgaWYgKCEoZmxhZ3MgJiAyKSAmJiBjb250ZW50cy5idWZmZXIgPT09IEhFQVA4LmJ1ZmZlcikge1xuICAgICAgICAgICAgLy8gV2UgY2FuJ3QgZW11bGF0ZSBNQVBfU0hBUkVEIHdoZW4gdGhlIGZpbGUgaXMgbm90IGJhY2tlZCBieSB0aGVcbiAgICAgICAgICAgIC8vIGJ1ZmZlciB3ZSdyZSBtYXBwaW5nIHRvIChlLmcuIHRoZSBIRUFQIGJ1ZmZlcikuXG4gICAgICAgICAgICBhbGxvY2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHB0ciA9IGNvbnRlbnRzLmJ5dGVPZmZzZXQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRyeSB0byBhdm9pZCB1bm5lY2Vzc2FyeSBzbGljZXMuXG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPiAwIHx8IHBvc2l0aW9uICsgbGVuZ3RoIDwgY29udGVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGlmIChjb250ZW50cy5zdWJhcnJheSkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRzID0gY29udGVudHMuc3ViYXJyYXkocG9zaXRpb24sIHBvc2l0aW9uICsgbGVuZ3RoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGNvbnRlbnRzLCBwb3NpdGlvbiwgcG9zaXRpb24gKyBsZW5ndGgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbGxvY2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcHRyID0gbW1hcEFsbG9jKGxlbmd0aCk7XG4gICAgICAgICAgICBpZiAoIXB0cikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0OCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBIRUFQOC5zZXQoY29udGVudHMsIHB0cik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7IHB0cjogcHRyLCBhbGxvY2F0ZWQ6IGFsbG9jYXRlZCB9O1xuICAgICAgICB9LG1zeW5jOmZ1bmN0aW9uKHN0cmVhbSwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgbW1hcEZsYWdzKSB7XG4gICAgICAgICAgTUVNRlMuc3RyZWFtX29wcy53cml0ZShzdHJlYW0sIGJ1ZmZlciwgMCwgbGVuZ3RoLCBvZmZzZXQsIGZhbHNlKTtcbiAgICAgICAgICAvLyBzaG91bGQgd2UgY2hlY2sgaWYgYnl0ZXNXcml0dGVuIGFuZCBsZW5ndGggYXJlIHRoZSBzYW1lP1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9fX07XG4gIFxuICAvKiogQHBhcmFtIHtib29sZWFuPX0gbm9SdW5EZXAgKi9cbiAgZnVuY3Rpb24gYXN5bmNMb2FkKHVybCwgb25sb2FkLCBvbmVycm9yLCBub1J1bkRlcCkge1xuICAgICAgdmFyIGRlcCA9ICFub1J1bkRlcCA/IGdldFVuaXF1ZVJ1bkRlcGVuZGVuY3koJ2FsICcgKyB1cmwpIDogJyc7XG4gICAgICByZWFkQXN5bmModXJsLCAoYXJyYXlCdWZmZXIpID0+IHtcbiAgICAgICAgYXNzZXJ0KGFycmF5QnVmZmVyLCAnTG9hZGluZyBkYXRhIGZpbGUgXCInICsgdXJsICsgJ1wiIGZhaWxlZCAobm8gYXJyYXlCdWZmZXIpLicpO1xuICAgICAgICBvbmxvYWQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgICAgICAgaWYgKGRlcCkgcmVtb3ZlUnVuRGVwZW5kZW5jeShkZXApO1xuICAgICAgfSwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChvbmVycm9yKSB7XG4gICAgICAgICAgb25lcnJvcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93ICdMb2FkaW5nIGRhdGEgZmlsZSBcIicgKyB1cmwgKyAnXCIgZmFpbGVkLic7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGRlcCkgYWRkUnVuRGVwZW5kZW5jeShkZXApO1xuICAgIH1cbiAgXG4gIHZhciBGUyA9IHtyb290Om51bGwsbW91bnRzOltdLGRldmljZXM6e30sc3RyZWFtczpbXSxuZXh0SW5vZGU6MSxuYW1lVGFibGU6bnVsbCxjdXJyZW50UGF0aDpcIi9cIixpbml0aWFsaXplZDpmYWxzZSxpZ25vcmVQZXJtaXNzaW9uczp0cnVlLEVycm5vRXJyb3I6bnVsbCxnZW5lcmljRXJyb3JzOnt9LGZpbGVzeXN0ZW1zOm51bGwsc3luY0ZTUmVxdWVzdHM6MCxsb29rdXBQYXRoOihwYXRoLCBvcHRzID0ge30pID0+IHtcbiAgICAgICAgcGF0aCA9IFBBVEhfRlMucmVzb2x2ZShwYXRoKTtcbiAgXG4gICAgICAgIGlmICghcGF0aCkgcmV0dXJuIHsgcGF0aDogJycsIG5vZGU6IG51bGwgfTtcbiAgXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICBmb2xsb3dfbW91bnQ6IHRydWUsXG4gICAgICAgICAgcmVjdXJzZV9jb3VudDogMFxuICAgICAgICB9O1xuICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0cywgb3B0cylcbiAgXG4gICAgICAgIGlmIChvcHRzLnJlY3Vyc2VfY291bnQgPiA4KSB7ICAvLyBtYXggcmVjdXJzaXZlIGxvb2t1cCBvZiA4XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzIpO1xuICAgICAgICB9XG4gIFxuICAgICAgICAvLyBzcGxpdCB0aGUgYWJzb2x1dGUgcGF0aFxuICAgICAgICB2YXIgcGFydHMgPSBwYXRoLnNwbGl0KCcvJykuZmlsdGVyKChwKSA9PiAhIXApO1xuICBcbiAgICAgICAgLy8gc3RhcnQgYXQgdGhlIHJvb3RcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBGUy5yb290O1xuICAgICAgICB2YXIgY3VycmVudF9wYXRoID0gJy8nO1xuICBcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBpc2xhc3QgPSAoaSA9PT0gcGFydHMubGVuZ3RoLTEpO1xuICAgICAgICAgIGlmIChpc2xhc3QgJiYgb3B0cy5wYXJlbnQpIHtcbiAgICAgICAgICAgIC8vIHN0b3AgcmVzb2x2aW5nXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIGN1cnJlbnQgPSBGUy5sb29rdXBOb2RlKGN1cnJlbnQsIHBhcnRzW2ldKTtcbiAgICAgICAgICBjdXJyZW50X3BhdGggPSBQQVRILmpvaW4yKGN1cnJlbnRfcGF0aCwgcGFydHNbaV0pO1xuICBcbiAgICAgICAgICAvLyBqdW1wIHRvIHRoZSBtb3VudCdzIHJvb3Qgbm9kZSBpZiB0aGlzIGlzIGEgbW91bnRwb2ludFxuICAgICAgICAgIGlmIChGUy5pc01vdW50cG9pbnQoY3VycmVudCkpIHtcbiAgICAgICAgICAgIGlmICghaXNsYXN0IHx8IChpc2xhc3QgJiYgb3B0cy5mb2xsb3dfbW91bnQpKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm1vdW50ZWQucm9vdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIC8vIGJ5IGRlZmF1bHQsIGxvb2t1cFBhdGggd2lsbCBub3QgZm9sbG93IGEgc3ltbGluayBpZiBpdCBpcyB0aGUgZmluYWwgcGF0aCBjb21wb25lbnQuXG4gICAgICAgICAgLy8gc2V0dGluZyBvcHRzLmZvbGxvdyA9IHRydWUgd2lsbCBvdmVycmlkZSB0aGlzIGJlaGF2aW9yLlxuICAgICAgICAgIGlmICghaXNsYXN0IHx8IG9wdHMuZm9sbG93KSB7XG4gICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKEZTLmlzTGluayhjdXJyZW50Lm1vZGUpKSB7XG4gICAgICAgICAgICAgIHZhciBsaW5rID0gRlMucmVhZGxpbmsoY3VycmVudF9wYXRoKTtcbiAgICAgICAgICAgICAgY3VycmVudF9wYXRoID0gUEFUSF9GUy5yZXNvbHZlKFBBVEguZGlybmFtZShjdXJyZW50X3BhdGgpLCBsaW5rKTtcbiAgXG4gICAgICAgICAgICAgIHZhciBsb29rdXAgPSBGUy5sb29rdXBQYXRoKGN1cnJlbnRfcGF0aCwgeyByZWN1cnNlX2NvdW50OiBvcHRzLnJlY3Vyc2VfY291bnQgKyAxIH0pO1xuICAgICAgICAgICAgICBjdXJyZW50ID0gbG9va3VwLm5vZGU7XG4gIFxuICAgICAgICAgICAgICBpZiAoY291bnQrKyA+IDQwKSB7ICAvLyBsaW1pdCBtYXggY29uc2VjdXRpdmUgc3ltbGlua3MgdG8gNDAgKFNZTUxPT1BfTUFYKS5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigzMik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgXG4gICAgICAgIHJldHVybiB7IHBhdGg6IGN1cnJlbnRfcGF0aCwgbm9kZTogY3VycmVudCB9O1xuICAgICAgfSxnZXRQYXRoOihub2RlKSA9PiB7XG4gICAgICAgIHZhciBwYXRoO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGlmIChGUy5pc1Jvb3Qobm9kZSkpIHtcbiAgICAgICAgICAgIHZhciBtb3VudCA9IG5vZGUubW91bnQubW91bnRwb2ludDtcbiAgICAgICAgICAgIGlmICghcGF0aCkgcmV0dXJuIG1vdW50O1xuICAgICAgICAgICAgcmV0dXJuIG1vdW50W21vdW50Lmxlbmd0aC0xXSAhPT0gJy8nID8gbW91bnQgKyAnLycgKyBwYXRoIDogbW91bnQgKyBwYXRoO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXRoID0gcGF0aCA/IG5vZGUubmFtZSArICcvJyArIHBhdGggOiBub2RlLm5hbWU7XG4gICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgICAgICB9XG4gICAgICB9LGhhc2hOYW1lOihwYXJlbnRpZCwgbmFtZSkgPT4ge1xuICAgICAgICB2YXIgaGFzaCA9IDA7XG4gIFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCArIG5hbWUuY2hhckNvZGVBdChpKSkgfCAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKHBhcmVudGlkICsgaGFzaCkgPj4+IDApICUgRlMubmFtZVRhYmxlLmxlbmd0aDtcbiAgICAgIH0saGFzaEFkZE5vZGU6KG5vZGUpID0+IHtcbiAgICAgICAgdmFyIGhhc2ggPSBGUy5oYXNoTmFtZShub2RlLnBhcmVudC5pZCwgbm9kZS5uYW1lKTtcbiAgICAgICAgbm9kZS5uYW1lX25leHQgPSBGUy5uYW1lVGFibGVbaGFzaF07XG4gICAgICAgIEZTLm5hbWVUYWJsZVtoYXNoXSA9IG5vZGU7XG4gICAgICB9LGhhc2hSZW1vdmVOb2RlOihub2RlKSA9PiB7XG4gICAgICAgIHZhciBoYXNoID0gRlMuaGFzaE5hbWUobm9kZS5wYXJlbnQuaWQsIG5vZGUubmFtZSk7XG4gICAgICAgIGlmIChGUy5uYW1lVGFibGVbaGFzaF0gPT09IG5vZGUpIHtcbiAgICAgICAgICBGUy5uYW1lVGFibGVbaGFzaF0gPSBub2RlLm5hbWVfbmV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgY3VycmVudCA9IEZTLm5hbWVUYWJsZVtoYXNoXTtcbiAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQubmFtZV9uZXh0ID09PSBub2RlKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnQubmFtZV9uZXh0ID0gbm9kZS5uYW1lX25leHQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmFtZV9uZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxsb29rdXBOb2RlOihwYXJlbnQsIG5hbWUpID0+IHtcbiAgICAgICAgdmFyIGVyckNvZGUgPSBGUy5tYXlMb29rdXAocGFyZW50KTtcbiAgICAgICAgaWYgKGVyckNvZGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoYXNoID0gRlMuaGFzaE5hbWUocGFyZW50LmlkLCBuYW1lKTtcbiAgICAgICAgZm9yICh2YXIgbm9kZSA9IEZTLm5hbWVUYWJsZVtoYXNoXTsgbm9kZTsgbm9kZSA9IG5vZGUubmFtZV9uZXh0KSB7XG4gICAgICAgICAgdmFyIG5vZGVOYW1lID0gbm9kZS5uYW1lO1xuICAgICAgICAgIGlmIChub2RlLnBhcmVudC5pZCA9PT0gcGFyZW50LmlkICYmIG5vZGVOYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UgZmFpbGVkIHRvIGZpbmQgaXQgaW4gdGhlIGNhY2hlLCBjYWxsIGludG8gdGhlIFZGU1xuICAgICAgICByZXR1cm4gRlMubG9va3VwKHBhcmVudCwgbmFtZSk7XG4gICAgICB9LGNyZWF0ZU5vZGU6KHBhcmVudCwgbmFtZSwgbW9kZSwgcmRldikgPT4ge1xuICAgICAgICB2YXIgbm9kZSA9IG5ldyBGUy5GU05vZGUocGFyZW50LCBuYW1lLCBtb2RlLCByZGV2KTtcbiAgXG4gICAgICAgIEZTLmhhc2hBZGROb2RlKG5vZGUpO1xuICBcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9LGRlc3Ryb3lOb2RlOihub2RlKSA9PiB7XG4gICAgICAgIEZTLmhhc2hSZW1vdmVOb2RlKG5vZGUpO1xuICAgICAgfSxpc1Jvb3Q6KG5vZGUpID0+IHtcbiAgICAgICAgcmV0dXJuIG5vZGUgPT09IG5vZGUucGFyZW50O1xuICAgICAgfSxpc01vdW50cG9pbnQ6KG5vZGUpID0+IHtcbiAgICAgICAgcmV0dXJuICEhbm9kZS5tb3VudGVkO1xuICAgICAgfSxpc0ZpbGU6KG1vZGUpID0+IHtcbiAgICAgICAgcmV0dXJuIChtb2RlICYgNjE0NDApID09PSAzMjc2ODtcbiAgICAgIH0saXNEaXI6KG1vZGUpID0+IHtcbiAgICAgICAgcmV0dXJuIChtb2RlICYgNjE0NDApID09PSAxNjM4NDtcbiAgICAgIH0saXNMaW5rOihtb2RlKSA9PiB7XG4gICAgICAgIHJldHVybiAobW9kZSAmIDYxNDQwKSA9PT0gNDA5NjA7XG4gICAgICB9LGlzQ2hyZGV2Oihtb2RlKSA9PiB7XG4gICAgICAgIHJldHVybiAobW9kZSAmIDYxNDQwKSA9PT0gODE5MjtcbiAgICAgIH0saXNCbGtkZXY6KG1vZGUpID0+IHtcbiAgICAgICAgcmV0dXJuIChtb2RlICYgNjE0NDApID09PSAyNDU3NjtcbiAgICAgIH0saXNGSUZPOihtb2RlKSA9PiB7XG4gICAgICAgIHJldHVybiAobW9kZSAmIDYxNDQwKSA9PT0gNDA5NjtcbiAgICAgIH0saXNTb2NrZXQ6KG1vZGUpID0+IHtcbiAgICAgICAgcmV0dXJuIChtb2RlICYgNDkxNTIpID09PSA0OTE1MjtcbiAgICAgIH0sZmxhZ01vZGVzOntcInJcIjowLFwicitcIjoyLFwid1wiOjU3NyxcIncrXCI6NTc4LFwiYVwiOjEwODksXCJhK1wiOjEwOTB9LG1vZGVTdHJpbmdUb0ZsYWdzOihzdHIpID0+IHtcbiAgICAgICAgdmFyIGZsYWdzID0gRlMuZmxhZ01vZGVzW3N0cl07XG4gICAgICAgIGlmICh0eXBlb2YgZmxhZ3MgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZmlsZSBvcGVuIG1vZGU6ICcgKyBzdHIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbGFncztcbiAgICAgIH0sZmxhZ3NUb1Blcm1pc3Npb25TdHJpbmc6KGZsYWcpID0+IHtcbiAgICAgICAgdmFyIHBlcm1zID0gWydyJywgJ3cnLCAncncnXVtmbGFnICYgM107XG4gICAgICAgIGlmICgoZmxhZyAmIDUxMikpIHtcbiAgICAgICAgICBwZXJtcyArPSAndyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBlcm1zO1xuICAgICAgfSxub2RlUGVybWlzc2lvbnM6KG5vZGUsIHBlcm1zKSA9PiB7XG4gICAgICAgIGlmIChGUy5pZ25vcmVQZXJtaXNzaW9ucykge1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldHVybiAwIGlmIGFueSB1c2VyLCBncm91cCBvciBvd25lciBiaXRzIGFyZSBzZXQuXG4gICAgICAgIGlmIChwZXJtcy5pbmNsdWRlcygncicpICYmICEobm9kZS5tb2RlICYgMjkyKSkge1xuICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICB9IGVsc2UgaWYgKHBlcm1zLmluY2x1ZGVzKCd3JykgJiYgIShub2RlLm1vZGUgJiAxNDYpKSB7XG4gICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgIH0gZWxzZSBpZiAocGVybXMuaW5jbHVkZXMoJ3gnKSAmJiAhKG5vZGUubW9kZSAmIDczKSkge1xuICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSxtYXlMb29rdXA6KGRpcikgPT4ge1xuICAgICAgICB2YXIgZXJyQ29kZSA9IEZTLm5vZGVQZXJtaXNzaW9ucyhkaXIsICd4Jyk7XG4gICAgICAgIGlmIChlcnJDb2RlKSByZXR1cm4gZXJyQ29kZTtcbiAgICAgICAgaWYgKCFkaXIubm9kZV9vcHMubG9va3VwKSByZXR1cm4gMjtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9LG1heUNyZWF0ZTooZGlyLCBuYW1lKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIG5vZGUgPSBGUy5sb29rdXBOb2RlKGRpciwgbmFtZSk7XG4gICAgICAgICAgcmV0dXJuIDIwO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZTLm5vZGVQZXJtaXNzaW9ucyhkaXIsICd3eCcpO1xuICAgICAgfSxtYXlEZWxldGU6KGRpciwgbmFtZSwgaXNkaXIpID0+IHtcbiAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbm9kZSA9IEZTLmxvb2t1cE5vZGUoZGlyLCBuYW1lKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJldHVybiBlLmVycm5vO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJDb2RlID0gRlMubm9kZVBlcm1pc3Npb25zKGRpciwgJ3d4Jyk7XG4gICAgICAgIGlmIChlcnJDb2RlKSB7XG4gICAgICAgICAgcmV0dXJuIGVyckNvZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzZGlyKSB7XG4gICAgICAgICAgaWYgKCFGUy5pc0Rpcihub2RlLm1vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gNTQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChGUy5pc1Jvb3Qobm9kZSkgfHwgRlMuZ2V0UGF0aChub2RlKSA9PT0gRlMuY3dkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKEZTLmlzRGlyKG5vZGUubW9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybiAzMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9LG1heU9wZW46KG5vZGUsIGZsYWdzKSA9PiB7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgIHJldHVybiA0NDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoRlMuaXNMaW5rKG5vZGUubW9kZSkpIHtcbiAgICAgICAgICByZXR1cm4gMzI7XG4gICAgICAgIH0gZWxzZSBpZiAoRlMuaXNEaXIobm9kZS5tb2RlKSkge1xuICAgICAgICAgIGlmIChGUy5mbGFnc1RvUGVybWlzc2lvblN0cmluZyhmbGFncykgIT09ICdyJyB8fCAvLyBvcGVuaW5nIGZvciB3cml0ZVxuICAgICAgICAgICAgICAoZmxhZ3MgJiA1MTIpKSB7IC8vIFRPRE86IGNoZWNrIGZvciBPX1NFQVJDSD8gKD09IHNlYXJjaCBmb3IgZGlyIG9ubHkpXG4gICAgICAgICAgICByZXR1cm4gMzE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGUy5ub2RlUGVybWlzc2lvbnMobm9kZSwgRlMuZmxhZ3NUb1Blcm1pc3Npb25TdHJpbmcoZmxhZ3MpKTtcbiAgICAgIH0sTUFYX09QRU5fRkRTOjQwOTYsbmV4dGZkOihmZF9zdGFydCA9IDAsIGZkX2VuZCA9IEZTLk1BWF9PUEVOX0ZEUykgPT4ge1xuICAgICAgICBmb3IgKHZhciBmZCA9IGZkX3N0YXJ0OyBmZCA8PSBmZF9lbmQ7IGZkKyspIHtcbiAgICAgICAgICBpZiAoIUZTLnN0cmVhbXNbZmRdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDMzKTtcbiAgICAgIH0sZ2V0U3RyZWFtOihmZCkgPT4gRlMuc3RyZWFtc1tmZF0sY3JlYXRlU3RyZWFtOihzdHJlYW0sIGZkX3N0YXJ0LCBmZF9lbmQpID0+IHtcbiAgICAgICAgaWYgKCFGUy5GU1N0cmVhbSkge1xuICAgICAgICAgIEZTLkZTU3RyZWFtID0gLyoqIEBjb25zdHJ1Y3RvciAqLyBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhcmVkID0geyB9O1xuICAgICAgICAgIH07XG4gICAgICAgICAgRlMuRlNTdHJlYW0ucHJvdG90eXBlID0ge307XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRlMuRlNTdHJlYW0ucHJvdG90eXBlLCB7XG4gICAgICAgICAgICBvYmplY3Q6IHtcbiAgICAgICAgICAgICAgLyoqIEB0aGlzIHtGUy5GU1N0cmVhbX0gKi9cbiAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMubm9kZTsgfSxcbiAgICAgICAgICAgICAgLyoqIEB0aGlzIHtGUy5GU1N0cmVhbX0gKi9cbiAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHsgdGhpcy5ub2RlID0gdmFsOyB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNSZWFkOiB7XG4gICAgICAgICAgICAgIC8qKiBAdGhpcyB7RlMuRlNTdHJlYW19ICovXG4gICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiAodGhpcy5mbGFncyAmIDIwOTcxNTUpICE9PSAxOyB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNXcml0ZToge1xuICAgICAgICAgICAgICAvKiogQHRoaXMge0ZTLkZTU3RyZWFtfSAqL1xuICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gKHRoaXMuZmxhZ3MgJiAyMDk3MTU1KSAhPT0gMDsgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzQXBwZW5kOiB7XG4gICAgICAgICAgICAgIC8qKiBAdGhpcyB7RlMuRlNTdHJlYW19ICovXG4gICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiAodGhpcy5mbGFncyAmIDEwMjQpOyB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICAgICAgLyoqIEB0aGlzIHtGUy5GU1N0cmVhbX0gKi9cbiAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuc2hhcmVkLmZsYWdzOyB9LFxuICAgICAgICAgICAgICAvKiogQHRoaXMge0ZTLkZTU3RyZWFtfSAqL1xuICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkgeyB0aGlzLnNoYXJlZC5mbGFncyA9IHZhbDsgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwb3NpdGlvbiA6IHtcbiAgICAgICAgICAgICAgLyoqIEB0aGlzIHtGUy5GU1N0cmVhbX0gKi9cbiAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuc2hhcmVkLnBvc2l0aW9uOyB9LFxuICAgICAgICAgICAgICAvKiogQHRoaXMge0ZTLkZTU3RyZWFtfSAqL1xuICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkgeyB0aGlzLnNoYXJlZC5wb3NpdGlvbiA9IHZhbDsgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2xvbmUgaXQsIHNvIHdlIGNhbiByZXR1cm4gYW4gaW5zdGFuY2Ugb2YgRlNTdHJlYW1cbiAgICAgICAgc3RyZWFtID0gT2JqZWN0LmFzc2lnbihuZXcgRlMuRlNTdHJlYW0oKSwgc3RyZWFtKTtcbiAgICAgICAgdmFyIGZkID0gRlMubmV4dGZkKGZkX3N0YXJ0LCBmZF9lbmQpO1xuICAgICAgICBzdHJlYW0uZmQgPSBmZDtcbiAgICAgICAgRlMuc3RyZWFtc1tmZF0gPSBzdHJlYW07XG4gICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgICB9LGNsb3NlU3RyZWFtOihmZCkgPT4ge1xuICAgICAgICBGUy5zdHJlYW1zW2ZkXSA9IG51bGw7XG4gICAgICB9LGNocmRldl9zdHJlYW1fb3BzOntvcGVuOihzdHJlYW0pID0+IHtcbiAgICAgICAgICB2YXIgZGV2aWNlID0gRlMuZ2V0RGV2aWNlKHN0cmVhbS5ub2RlLnJkZXYpO1xuICAgICAgICAgIC8vIG92ZXJyaWRlIG5vZGUncyBzdHJlYW0gb3BzIHdpdGggdGhlIGRldmljZSdzXG4gICAgICAgICAgc3RyZWFtLnN0cmVhbV9vcHMgPSBkZXZpY2Uuc3RyZWFtX29wcztcbiAgICAgICAgICAvLyBmb3J3YXJkIHRoZSBvcGVuIGNhbGxcbiAgICAgICAgICBpZiAoc3RyZWFtLnN0cmVhbV9vcHMub3Blbikge1xuICAgICAgICAgICAgc3RyZWFtLnN0cmVhbV9vcHMub3BlbihzdHJlYW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxsbHNlZWs6KCkgPT4ge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDcwKTtcbiAgICAgICAgfX0sbWFqb3I6KGRldikgPT4gKChkZXYpID4+IDgpLG1pbm9yOihkZXYpID0+ICgoZGV2KSAmIDB4ZmYpLG1ha2VkZXY6KG1hLCBtaSkgPT4gKChtYSkgPDwgOCB8IChtaSkpLHJlZ2lzdGVyRGV2aWNlOihkZXYsIG9wcykgPT4ge1xuICAgICAgICBGUy5kZXZpY2VzW2Rldl0gPSB7IHN0cmVhbV9vcHM6IG9wcyB9O1xuICAgICAgfSxnZXREZXZpY2U6KGRldikgPT4gRlMuZGV2aWNlc1tkZXZdLGdldE1vdW50czoobW91bnQpID0+IHtcbiAgICAgICAgdmFyIG1vdW50cyA9IFtdO1xuICAgICAgICB2YXIgY2hlY2sgPSBbbW91bnRdO1xuICBcbiAgICAgICAgd2hpbGUgKGNoZWNrLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBtID0gY2hlY2sucG9wKCk7XG4gIFxuICAgICAgICAgIG1vdW50cy5wdXNoKG0pO1xuICBcbiAgICAgICAgICBjaGVjay5wdXNoLmFwcGx5KGNoZWNrLCBtLm1vdW50cyk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIHJldHVybiBtb3VudHM7XG4gICAgICB9LHN5bmNmczoocG9wdWxhdGUsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgcG9wdWxhdGUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNhbGxiYWNrID0gcG9wdWxhdGU7XG4gICAgICAgICAgcG9wdWxhdGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgRlMuc3luY0ZTUmVxdWVzdHMrKztcbiAgXG4gICAgICAgIGlmIChGUy5zeW5jRlNSZXF1ZXN0cyA+IDEpIHtcbiAgICAgICAgICBlcnIoJ3dhcm5pbmc6ICcgKyBGUy5zeW5jRlNSZXF1ZXN0cyArICcgRlMuc3luY2ZzIG9wZXJhdGlvbnMgaW4gZmxpZ2h0IGF0IG9uY2UsIHByb2JhYmx5IGp1c3QgZG9pbmcgZXh0cmEgd29yaycpO1xuICAgICAgICB9XG4gIFxuICAgICAgICB2YXIgbW91bnRzID0gRlMuZ2V0TW91bnRzKEZTLnJvb3QubW91bnQpO1xuICAgICAgICB2YXIgY29tcGxldGVkID0gMDtcbiAgXG4gICAgICAgIGZ1bmN0aW9uIGRvQ2FsbGJhY2soZXJyQ29kZSkge1xuICAgICAgICAgIEZTLnN5bmNGU1JlcXVlc3RzLS07XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyckNvZGUpO1xuICAgICAgICB9XG4gIFxuICAgICAgICBmdW5jdGlvbiBkb25lKGVyckNvZGUpIHtcbiAgICAgICAgICBpZiAoZXJyQ29kZSkge1xuICAgICAgICAgICAgaWYgKCFkb25lLmVycm9yZWQpIHtcbiAgICAgICAgICAgICAgZG9uZS5lcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIGRvQ2FsbGJhY2soZXJyQ29kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgrK2NvbXBsZXRlZCA+PSBtb3VudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBkb0NhbGxiYWNrKG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgXG4gICAgICAgIC8vIHN5bmMgYWxsIG1vdW50c1xuICAgICAgICBtb3VudHMuZm9yRWFjaCgobW91bnQpID0+IHtcbiAgICAgICAgICBpZiAoIW1vdW50LnR5cGUuc3luY2ZzKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9uZShudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW91bnQudHlwZS5zeW5jZnMobW91bnQsIHBvcHVsYXRlLCBkb25lKTtcbiAgICAgICAgfSk7XG4gICAgICB9LG1vdW50Oih0eXBlLCBvcHRzLCBtb3VudHBvaW50KSA9PiB7XG4gICAgICAgIHZhciByb290ID0gbW91bnRwb2ludCA9PT0gJy8nO1xuICAgICAgICB2YXIgcHNldWRvID0gIW1vdW50cG9pbnQ7XG4gICAgICAgIHZhciBub2RlO1xuICBcbiAgICAgICAgaWYgKHJvb3QgJiYgRlMucm9vdCkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDEwKTtcbiAgICAgICAgfSBlbHNlIGlmICghcm9vdCAmJiAhcHNldWRvKSB7XG4gICAgICAgICAgdmFyIGxvb2t1cCA9IEZTLmxvb2t1cFBhdGgobW91bnRwb2ludCwgeyBmb2xsb3dfbW91bnQ6IGZhbHNlIH0pO1xuICBcbiAgICAgICAgICBtb3VudHBvaW50ID0gbG9va3VwLnBhdGg7ICAvLyB1c2UgdGhlIGFic29sdXRlIHBhdGhcbiAgICAgICAgICBub2RlID0gbG9va3VwLm5vZGU7XG4gIFxuICAgICAgICAgIGlmIChGUy5pc01vdW50cG9pbnQobm9kZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDEwKTtcbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIGlmICghRlMuaXNEaXIobm9kZS5tb2RlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNTQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICBcbiAgICAgICAgdmFyIG1vdW50ID0ge1xuICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgb3B0czogb3B0cyxcbiAgICAgICAgICBtb3VudHBvaW50OiBtb3VudHBvaW50LFxuICAgICAgICAgIG1vdW50czogW11cbiAgICAgICAgfTtcbiAgXG4gICAgICAgIC8vIGNyZWF0ZSBhIHJvb3Qgbm9kZSBmb3IgdGhlIGZzXG4gICAgICAgIHZhciBtb3VudFJvb3QgPSB0eXBlLm1vdW50KG1vdW50KTtcbiAgICAgICAgbW91bnRSb290Lm1vdW50ID0gbW91bnQ7XG4gICAgICAgIG1vdW50LnJvb3QgPSBtb3VudFJvb3Q7XG4gIFxuICAgICAgICBpZiAocm9vdCkge1xuICAgICAgICAgIEZTLnJvb3QgPSBtb3VudFJvb3Q7XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZSkge1xuICAgICAgICAgIC8vIHNldCBhcyBhIG1vdW50cG9pbnRcbiAgICAgICAgICBub2RlLm1vdW50ZWQgPSBtb3VudDtcbiAgXG4gICAgICAgICAgLy8gYWRkIHRoZSBuZXcgbW91bnQgdG8gdGhlIGN1cnJlbnQgbW91bnQncyBjaGlsZHJlblxuICAgICAgICAgIGlmIChub2RlLm1vdW50KSB7XG4gICAgICAgICAgICBub2RlLm1vdW50Lm1vdW50cy5wdXNoKG1vdW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgXG4gICAgICAgIHJldHVybiBtb3VudFJvb3Q7XG4gICAgICB9LHVubW91bnQ6KG1vdW50cG9pbnQpID0+IHtcbiAgICAgICAgdmFyIGxvb2t1cCA9IEZTLmxvb2t1cFBhdGgobW91bnRwb2ludCwgeyBmb2xsb3dfbW91bnQ6IGZhbHNlIH0pO1xuICBcbiAgICAgICAgaWYgKCFGUy5pc01vdW50cG9pbnQobG9va3VwLm5vZGUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpO1xuICAgICAgICB9XG4gIFxuICAgICAgICAvLyBkZXN0cm95IHRoZSBub2RlcyBmb3IgdGhpcyBtb3VudCwgYW5kIGFsbCBpdHMgY2hpbGQgbW91bnRzXG4gICAgICAgIHZhciBub2RlID0gbG9va3VwLm5vZGU7XG4gICAgICAgIHZhciBtb3VudCA9IG5vZGUubW91bnRlZDtcbiAgICAgICAgdmFyIG1vdW50cyA9IEZTLmdldE1vdW50cyhtb3VudCk7XG4gIFxuICAgICAgICBPYmplY3Qua2V5cyhGUy5uYW1lVGFibGUpLmZvckVhY2goKGhhc2gpID0+IHtcbiAgICAgICAgICB2YXIgY3VycmVudCA9IEZTLm5hbWVUYWJsZVtoYXNoXTtcbiAgXG4gICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIHZhciBuZXh0ID0gY3VycmVudC5uYW1lX25leHQ7XG4gIFxuICAgICAgICAgICAgaWYgKG1vdW50cy5pbmNsdWRlcyhjdXJyZW50Lm1vdW50KSkge1xuICAgICAgICAgICAgICBGUy5kZXN0cm95Tm9kZShjdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgXG4gICAgICAgICAgICBjdXJyZW50ID0gbmV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICBcbiAgICAgICAgLy8gbm8gbG9uZ2VyIGEgbW91bnRwb2ludFxuICAgICAgICBub2RlLm1vdW50ZWQgPSBudWxsO1xuICBcbiAgICAgICAgLy8gcmVtb3ZlIHRoaXMgbW91bnQgZnJvbSB0aGUgY2hpbGQgbW91bnRzXG4gICAgICAgIHZhciBpZHggPSBub2RlLm1vdW50Lm1vdW50cy5pbmRleE9mKG1vdW50KTtcbiAgICAgICAgbm9kZS5tb3VudC5tb3VudHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICB9LGxvb2t1cDoocGFyZW50LCBuYW1lKSA9PiB7XG4gICAgICAgIHJldHVybiBwYXJlbnQubm9kZV9vcHMubG9va3VwKHBhcmVudCwgbmFtZSk7XG4gICAgICB9LG1rbm9kOihwYXRoLCBtb2RlLCBkZXYpID0+IHtcbiAgICAgICAgdmFyIGxvb2t1cCA9IEZTLmxvb2t1cFBhdGgocGF0aCwgeyBwYXJlbnQ6IHRydWUgfSk7XG4gICAgICAgIHZhciBwYXJlbnQgPSBsb29rdXAubm9kZTtcbiAgICAgICAgdmFyIG5hbWUgPSBQQVRILmJhc2VuYW1lKHBhdGgpO1xuICAgICAgICBpZiAoIW5hbWUgfHwgbmFtZSA9PT0gJy4nIHx8IG5hbWUgPT09ICcuLicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVyckNvZGUgPSBGUy5tYXlDcmVhdGUocGFyZW50LCBuYW1lKTtcbiAgICAgICAgaWYgKGVyckNvZGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhcmVudC5ub2RlX29wcy5ta25vZCkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDYzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyZW50Lm5vZGVfb3BzLm1rbm9kKHBhcmVudCwgbmFtZSwgbW9kZSwgZGV2KTtcbiAgICAgIH0sY3JlYXRlOihwYXRoLCBtb2RlKSA9PiB7XG4gICAgICAgIG1vZGUgPSBtb2RlICE9PSB1bmRlZmluZWQgPyBtb2RlIDogNDM4IC8qIDA2NjYgKi87XG4gICAgICAgIG1vZGUgJj0gNDA5NTtcbiAgICAgICAgbW9kZSB8PSAzMjc2ODtcbiAgICAgICAgcmV0dXJuIEZTLm1rbm9kKHBhdGgsIG1vZGUsIDApO1xuICAgICAgfSxta2RpcjoocGF0aCwgbW9kZSkgPT4ge1xuICAgICAgICBtb2RlID0gbW9kZSAhPT0gdW5kZWZpbmVkID8gbW9kZSA6IDUxMSAvKiAwNzc3ICovO1xuICAgICAgICBtb2RlICY9IDUxMSB8IDUxMjtcbiAgICAgICAgbW9kZSB8PSAxNjM4NDtcbiAgICAgICAgcmV0dXJuIEZTLm1rbm9kKHBhdGgsIG1vZGUsIDApO1xuICAgICAgfSxta2RpclRyZWU6KHBhdGgsIG1vZGUpID0+IHtcbiAgICAgICAgdmFyIGRpcnMgPSBwYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgIHZhciBkID0gJyc7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGlmICghZGlyc1tpXSkgY29udGludWU7XG4gICAgICAgICAgZCArPSAnLycgKyBkaXJzW2ldO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBGUy5ta2RpcihkLCBtb2RlKTtcbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmVycm5vICE9IDIwKSB0aHJvdyBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxta2RldjoocGF0aCwgbW9kZSwgZGV2KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgZGV2ID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgZGV2ID0gbW9kZTtcbiAgICAgICAgICBtb2RlID0gNDM4IC8qIDA2NjYgKi87XG4gICAgICAgIH1cbiAgICAgICAgbW9kZSB8PSA4MTkyO1xuICAgICAgICByZXR1cm4gRlMubWtub2QocGF0aCwgbW9kZSwgZGV2KTtcbiAgICAgIH0sc3ltbGluazoob2xkcGF0aCwgbmV3cGF0aCkgPT4ge1xuICAgICAgICBpZiAoIVBBVEhfRlMucmVzb2x2ZShvbGRwYXRoKSkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9va3VwID0gRlMubG9va3VwUGF0aChuZXdwYXRoLCB7IHBhcmVudDogdHJ1ZSB9KTtcbiAgICAgICAgdmFyIHBhcmVudCA9IGxvb2t1cC5ub2RlO1xuICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV3bmFtZSA9IFBBVEguYmFzZW5hbWUobmV3cGF0aCk7XG4gICAgICAgIHZhciBlcnJDb2RlID0gRlMubWF5Q3JlYXRlKHBhcmVudCwgbmV3bmFtZSk7XG4gICAgICAgIGlmIChlcnJDb2RlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXJlbnQubm9kZV9vcHMuc3ltbGluaykge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDYzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyZW50Lm5vZGVfb3BzLnN5bWxpbmsocGFyZW50LCBuZXduYW1lLCBvbGRwYXRoKTtcbiAgICAgIH0scmVuYW1lOihvbGRfcGF0aCwgbmV3X3BhdGgpID0+IHtcbiAgICAgICAgdmFyIG9sZF9kaXJuYW1lID0gUEFUSC5kaXJuYW1lKG9sZF9wYXRoKTtcbiAgICAgICAgdmFyIG5ld19kaXJuYW1lID0gUEFUSC5kaXJuYW1lKG5ld19wYXRoKTtcbiAgICAgICAgdmFyIG9sZF9uYW1lID0gUEFUSC5iYXNlbmFtZShvbGRfcGF0aCk7XG4gICAgICAgIHZhciBuZXdfbmFtZSA9IFBBVEguYmFzZW5hbWUobmV3X3BhdGgpO1xuICAgICAgICAvLyBwYXJlbnRzIG11c3QgZXhpc3RcbiAgICAgICAgdmFyIGxvb2t1cCwgb2xkX2RpciwgbmV3X2RpcjtcbiAgXG4gICAgICAgIC8vIGxldCB0aGUgZXJyb3JzIGZyb20gbm9uIGV4aXN0YW50IGRpcmVjdG9yaWVzIHBlcmNvbGF0ZSB1cFxuICAgICAgICBsb29rdXAgPSBGUy5sb29rdXBQYXRoKG9sZF9wYXRoLCB7IHBhcmVudDogdHJ1ZSB9KTtcbiAgICAgICAgb2xkX2RpciA9IGxvb2t1cC5ub2RlO1xuICAgICAgICBsb29rdXAgPSBGUy5sb29rdXBQYXRoKG5ld19wYXRoLCB7IHBhcmVudDogdHJ1ZSB9KTtcbiAgICAgICAgbmV3X2RpciA9IGxvb2t1cC5ub2RlO1xuICBcbiAgICAgICAgaWYgKCFvbGRfZGlyIHx8ICFuZXdfZGlyKSB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCk7XG4gICAgICAgIC8vIG5lZWQgdG8gYmUgcGFydCBvZiB0aGUgc2FtZSBtb3VudFxuICAgICAgICBpZiAob2xkX2Rpci5tb3VudCAhPT0gbmV3X2Rpci5tb3VudCkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDc1KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzb3VyY2UgbXVzdCBleGlzdFxuICAgICAgICB2YXIgb2xkX25vZGUgPSBGUy5sb29rdXBOb2RlKG9sZF9kaXIsIG9sZF9uYW1lKTtcbiAgICAgICAgLy8gb2xkIHBhdGggc2hvdWxkIG5vdCBiZSBhbiBhbmNlc3RvciBvZiB0aGUgbmV3IHBhdGhcbiAgICAgICAgdmFyIHJlbGF0aXZlID0gUEFUSF9GUy5yZWxhdGl2ZShvbGRfcGF0aCwgbmV3X2Rpcm5hbWUpO1xuICAgICAgICBpZiAocmVsYXRpdmUuY2hhckF0KDApICE9PSAnLicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmV3IHBhdGggc2hvdWxkIG5vdCBiZSBhbiBhbmNlc3RvciBvZiB0aGUgb2xkIHBhdGhcbiAgICAgICAgcmVsYXRpdmUgPSBQQVRIX0ZTLnJlbGF0aXZlKG5ld19wYXRoLCBvbGRfZGlybmFtZSk7XG4gICAgICAgIGlmIChyZWxhdGl2ZS5jaGFyQXQoMCkgIT09ICcuJykge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDU1KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZWUgaWYgdGhlIG5ldyBwYXRoIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIHZhciBuZXdfbm9kZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBuZXdfbm9kZSA9IEZTLmxvb2t1cE5vZGUobmV3X2RpciwgbmV3X25hbWUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gbm90IGZhdGFsXG4gICAgICAgIH1cbiAgICAgICAgLy8gZWFybHkgb3V0IGlmIG5vdGhpbmcgbmVlZHMgdG8gY2hhbmdlXG4gICAgICAgIGlmIChvbGRfbm9kZSA9PT0gbmV3X25vZGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UnbGwgbmVlZCB0byBkZWxldGUgdGhlIG9sZCBlbnRyeVxuICAgICAgICB2YXIgaXNkaXIgPSBGUy5pc0RpcihvbGRfbm9kZS5tb2RlKTtcbiAgICAgICAgdmFyIGVyckNvZGUgPSBGUy5tYXlEZWxldGUob2xkX2Rpciwgb2xkX25hbWUsIGlzZGlyKTtcbiAgICAgICAgaWYgKGVyckNvZGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBuZWVkIGRlbGV0ZSBwZXJtaXNzaW9ucyBpZiB3ZSdsbCBiZSBvdmVyd3JpdGluZy5cbiAgICAgICAgLy8gbmVlZCBjcmVhdGUgcGVybWlzc2lvbnMgaWYgbmV3IGRvZXNuJ3QgYWxyZWFkeSBleGlzdC5cbiAgICAgICAgZXJyQ29kZSA9IG5ld19ub2RlID9cbiAgICAgICAgICBGUy5tYXlEZWxldGUobmV3X2RpciwgbmV3X25hbWUsIGlzZGlyKSA6XG4gICAgICAgICAgRlMubWF5Q3JlYXRlKG5ld19kaXIsIG5ld19uYW1lKTtcbiAgICAgICAgaWYgKGVyckNvZGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9sZF9kaXIubm9kZV9vcHMucmVuYW1lKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChGUy5pc01vdW50cG9pbnQob2xkX25vZGUpIHx8IChuZXdfbm9kZSAmJiBGUy5pc01vdW50cG9pbnQobmV3X25vZGUpKSkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDEwKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBhcmUgZ29pbmcgdG8gY2hhbmdlIHRoZSBwYXJlbnQsIGNoZWNrIHdyaXRlIHBlcm1pc3Npb25zXG4gICAgICAgIGlmIChuZXdfZGlyICE9PSBvbGRfZGlyKSB7XG4gICAgICAgICAgZXJyQ29kZSA9IEZTLm5vZGVQZXJtaXNzaW9ucyhvbGRfZGlyLCAndycpO1xuICAgICAgICAgIGlmIChlcnJDb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBub2RlIGZyb20gdGhlIGxvb2t1cCBoYXNoXG4gICAgICAgIEZTLmhhc2hSZW1vdmVOb2RlKG9sZF9ub2RlKTtcbiAgICAgICAgLy8gZG8gdGhlIHVuZGVybHlpbmcgZnMgcmVuYW1lXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgb2xkX2Rpci5ub2RlX29wcy5yZW5hbWUob2xkX25vZGUsIG5ld19kaXIsIG5ld19uYW1lKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgLy8gYWRkIHRoZSBub2RlIGJhY2sgdG8gdGhlIGhhc2ggKGluIGNhc2Ugbm9kZV9vcHMucmVuYW1lXG4gICAgICAgICAgLy8gY2hhbmdlZCBpdHMgbmFtZSlcbiAgICAgICAgICBGUy5oYXNoQWRkTm9kZShvbGRfbm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0scm1kaXI6KHBhdGgpID0+IHtcbiAgICAgICAgdmFyIGxvb2t1cCA9IEZTLmxvb2t1cFBhdGgocGF0aCwgeyBwYXJlbnQ6IHRydWUgfSk7XG4gICAgICAgIHZhciBwYXJlbnQgPSBsb29rdXAubm9kZTtcbiAgICAgICAgdmFyIG5hbWUgPSBQQVRILmJhc2VuYW1lKHBhdGgpO1xuICAgICAgICB2YXIgbm9kZSA9IEZTLmxvb2t1cE5vZGUocGFyZW50LCBuYW1lKTtcbiAgICAgICAgdmFyIGVyckNvZGUgPSBGUy5tYXlEZWxldGUocGFyZW50LCBuYW1lLCB0cnVlKTtcbiAgICAgICAgaWYgKGVyckNvZGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhcmVudC5ub2RlX29wcy5ybWRpcikge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDYzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoRlMuaXNNb3VudHBvaW50KG5vZGUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMTApO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudC5ub2RlX29wcy5ybWRpcihwYXJlbnQsIG5hbWUpO1xuICAgICAgICBGUy5kZXN0cm95Tm9kZShub2RlKTtcbiAgICAgIH0scmVhZGRpcjoocGF0aCkgPT4ge1xuICAgICAgICB2YXIgbG9va3VwID0gRlMubG9va3VwUGF0aChwYXRoLCB7IGZvbGxvdzogdHJ1ZSB9KTtcbiAgICAgICAgdmFyIG5vZGUgPSBsb29rdXAubm9kZTtcbiAgICAgICAgaWYgKCFub2RlLm5vZGVfb3BzLnJlYWRkaXIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGUubm9kZV9vcHMucmVhZGRpcihub2RlKTtcbiAgICAgIH0sdW5saW5rOihwYXRoKSA9PiB7XG4gICAgICAgIHZhciBsb29rdXAgPSBGUy5sb29rdXBQYXRoKHBhdGgsIHsgcGFyZW50OiB0cnVlIH0pO1xuICAgICAgICB2YXIgcGFyZW50ID0gbG9va3VwLm5vZGU7XG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuYW1lID0gUEFUSC5iYXNlbmFtZShwYXRoKTtcbiAgICAgICAgdmFyIG5vZGUgPSBGUy5sb29rdXBOb2RlKHBhcmVudCwgbmFtZSk7XG4gICAgICAgIHZhciBlcnJDb2RlID0gRlMubWF5RGVsZXRlKHBhcmVudCwgbmFtZSwgZmFsc2UpO1xuICAgICAgICBpZiAoZXJyQ29kZSkge1xuICAgICAgICAgIC8vIEFjY29yZGluZyB0byBQT1NJWCwgd2Ugc2hvdWxkIG1hcCBFSVNESVIgdG8gRVBFUk0sIGJ1dFxuICAgICAgICAgIC8vIHdlIGluc3RlYWQgZG8gd2hhdCBMaW51eCBkb2VzIChhbmQgd2UgbXVzdCwgYXMgd2UgdXNlXG4gICAgICAgICAgLy8gdGhlIG11c2wgbGludXggbGliYykuXG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXJlbnQubm9kZV9vcHMudW5saW5rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChGUy5pc01vdW50cG9pbnQobm9kZSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigxMCk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50Lm5vZGVfb3BzLnVubGluayhwYXJlbnQsIG5hbWUpO1xuICAgICAgICBGUy5kZXN0cm95Tm9kZShub2RlKTtcbiAgICAgIH0scmVhZGxpbms6KHBhdGgpID0+IHtcbiAgICAgICAgdmFyIGxvb2t1cCA9IEZTLmxvb2t1cFBhdGgocGF0aCk7XG4gICAgICAgIHZhciBsaW5rID0gbG9va3VwLm5vZGU7XG4gICAgICAgIGlmICghbGluaykge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDQ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWxpbmsubm9kZV9vcHMucmVhZGxpbmspIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBBVEhfRlMucmVzb2x2ZShGUy5nZXRQYXRoKGxpbmsucGFyZW50KSwgbGluay5ub2RlX29wcy5yZWFkbGluayhsaW5rKSk7XG4gICAgICB9LHN0YXQ6KHBhdGgsIGRvbnRGb2xsb3cpID0+IHtcbiAgICAgICAgdmFyIGxvb2t1cCA9IEZTLmxvb2t1cFBhdGgocGF0aCwgeyBmb2xsb3c6ICFkb250Rm9sbG93IH0pO1xuICAgICAgICB2YXIgbm9kZSA9IGxvb2t1cC5ub2RlO1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFub2RlLm5vZGVfb3BzLmdldGF0dHIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGUubm9kZV9vcHMuZ2V0YXR0cihub2RlKTtcbiAgICAgIH0sbHN0YXQ6KHBhdGgpID0+IHtcbiAgICAgICAgcmV0dXJuIEZTLnN0YXQocGF0aCwgdHJ1ZSk7XG4gICAgICB9LGNobW9kOihwYXRoLCBtb2RlLCBkb250Rm9sbG93KSA9PiB7XG4gICAgICAgIHZhciBub2RlO1xuICAgICAgICBpZiAodHlwZW9mIHBhdGggPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB2YXIgbG9va3VwID0gRlMubG9va3VwUGF0aChwYXRoLCB7IGZvbGxvdzogIWRvbnRGb2xsb3cgfSk7XG4gICAgICAgICAgbm9kZSA9IGxvb2t1cC5ub2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUgPSBwYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbm9kZS5ub2RlX29wcy5zZXRhdHRyKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjMpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUubm9kZV9vcHMuc2V0YXR0cihub2RlLCB7XG4gICAgICAgICAgbW9kZTogKG1vZGUgJiA0MDk1KSB8IChub2RlLm1vZGUgJiB+NDA5NSksXG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgIH0pO1xuICAgICAgfSxsY2htb2Q6KHBhdGgsIG1vZGUpID0+IHtcbiAgICAgICAgRlMuY2htb2QocGF0aCwgbW9kZSwgdHJ1ZSk7XG4gICAgICB9LGZjaG1vZDooZmQsIG1vZGUpID0+IHtcbiAgICAgICAgdmFyIHN0cmVhbSA9IEZTLmdldFN0cmVhbShmZCk7XG4gICAgICAgIGlmICghc3RyZWFtKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCk7XG4gICAgICAgIH1cbiAgICAgICAgRlMuY2htb2Qoc3RyZWFtLm5vZGUsIG1vZGUpO1xuICAgICAgfSxjaG93bjoocGF0aCwgdWlkLCBnaWQsIGRvbnRGb2xsb3cpID0+IHtcbiAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHZhciBsb29rdXAgPSBGUy5sb29rdXBQYXRoKHBhdGgsIHsgZm9sbG93OiAhZG9udEZvbGxvdyB9KTtcbiAgICAgICAgICBub2RlID0gbG9va3VwLm5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZSA9IHBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFub2RlLm5vZGVfb3BzLnNldGF0dHIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2Myk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5ub2RlX29wcy5zZXRhdHRyKG5vZGUsIHtcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgICAvLyB3ZSBpZ25vcmUgdGhlIHVpZCAvIGdpZCBmb3Igbm93XG4gICAgICAgIH0pO1xuICAgICAgfSxsY2hvd246KHBhdGgsIHVpZCwgZ2lkKSA9PiB7XG4gICAgICAgIEZTLmNob3duKHBhdGgsIHVpZCwgZ2lkLCB0cnVlKTtcbiAgICAgIH0sZmNob3duOihmZCwgdWlkLCBnaWQpID0+IHtcbiAgICAgICAgdmFyIHN0cmVhbSA9IEZTLmdldFN0cmVhbShmZCk7XG4gICAgICAgIGlmICghc3RyZWFtKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCk7XG4gICAgICAgIH1cbiAgICAgICAgRlMuY2hvd24oc3RyZWFtLm5vZGUsIHVpZCwgZ2lkKTtcbiAgICAgIH0sdHJ1bmNhdGU6KHBhdGgsIGxlbikgPT4ge1xuICAgICAgICBpZiAobGVuIDwgMCkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXRoID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdmFyIGxvb2t1cCA9IEZTLmxvb2t1cFBhdGgocGF0aCwgeyBmb2xsb3c6IHRydWUgfSk7XG4gICAgICAgICAgbm9kZSA9IGxvb2t1cC5ub2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUgPSBwYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbm9kZS5ub2RlX29wcy5zZXRhdHRyKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNjMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChGUy5pc0Rpcihub2RlLm1vZGUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMzEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghRlMuaXNGaWxlKG5vZGUubW9kZSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVyckNvZGUgPSBGUy5ub2RlUGVybWlzc2lvbnMobm9kZSwgJ3cnKTtcbiAgICAgICAgaWYgKGVyckNvZGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcihlcnJDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLm5vZGVfb3BzLnNldGF0dHIobm9kZSwge1xuICAgICAgICAgIHNpemU6IGxlbixcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgfSk7XG4gICAgICB9LGZ0cnVuY2F0ZTooZmQsIGxlbikgPT4ge1xuICAgICAgICB2YXIgc3RyZWFtID0gRlMuZ2V0U3RyZWFtKGZkKTtcbiAgICAgICAgaWYgKCFzdHJlYW0pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHN0cmVhbS5mbGFncyAmIDIwOTcxNTUpID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpO1xuICAgICAgICB9XG4gICAgICAgIEZTLnRydW5jYXRlKHN0cmVhbS5ub2RlLCBsZW4pO1xuICAgICAgfSx1dGltZToocGF0aCwgYXRpbWUsIG10aW1lKSA9PiB7XG4gICAgICAgIHZhciBsb29rdXAgPSBGUy5sb29rdXBQYXRoKHBhdGgsIHsgZm9sbG93OiB0cnVlIH0pO1xuICAgICAgICB2YXIgbm9kZSA9IGxvb2t1cC5ub2RlO1xuICAgICAgICBub2RlLm5vZGVfb3BzLnNldGF0dHIobm9kZSwge1xuICAgICAgICAgIHRpbWVzdGFtcDogTWF0aC5tYXgoYXRpbWUsIG10aW1lKVxuICAgICAgICB9KTtcbiAgICAgIH0sb3BlbjoocGF0aCwgZmxhZ3MsIG1vZGUpID0+IHtcbiAgICAgICAgaWYgKHBhdGggPT09IFwiXCIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCk7XG4gICAgICAgIH1cbiAgICAgICAgZmxhZ3MgPSB0eXBlb2YgZmxhZ3MgPT0gJ3N0cmluZycgPyBGUy5tb2RlU3RyaW5nVG9GbGFncyhmbGFncykgOiBmbGFncztcbiAgICAgICAgbW9kZSA9IHR5cGVvZiBtb2RlID09ICd1bmRlZmluZWQnID8gNDM4IC8qIDA2NjYgKi8gOiBtb2RlO1xuICAgICAgICBpZiAoKGZsYWdzICYgNjQpKSB7XG4gICAgICAgICAgbW9kZSA9IChtb2RlICYgNDA5NSkgfCAzMjc2ODtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2RlID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXRoID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgbm9kZSA9IHBhdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGF0aCA9IFBBVEgubm9ybWFsaXplKHBhdGgpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgbG9va3VwID0gRlMubG9va3VwUGF0aChwYXRoLCB7XG4gICAgICAgICAgICAgIGZvbGxvdzogIShmbGFncyAmIDEzMTA3MilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbm9kZSA9IGxvb2t1cC5ub2RlO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGlnbm9yZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBwZXJoYXBzIHdlIG5lZWQgdG8gY3JlYXRlIHRoZSBub2RlXG4gICAgICAgIHZhciBjcmVhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmICgoZmxhZ3MgJiA2NCkpIHtcbiAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgLy8gaWYgT19DUkVBVCBhbmQgT19FWENMIGFyZSBzZXQsIGVycm9yIG91dCBpZiB0aGUgbm9kZSBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgICAgaWYgKChmbGFncyAmIDEyOCkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBub2RlIGRvZXNuJ3QgZXhpc3QsIHRyeSB0byBjcmVhdGUgaXRcbiAgICAgICAgICAgIG5vZGUgPSBGUy5ta25vZChwYXRoLCBtb2RlLCAwKTtcbiAgICAgICAgICAgIGNyZWF0ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig0NCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FuJ3QgdHJ1bmNhdGUgYSBkZXZpY2VcbiAgICAgICAgaWYgKEZTLmlzQ2hyZGV2KG5vZGUubW9kZSkpIHtcbiAgICAgICAgICBmbGFncyAmPSB+NTEyO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIGFza2VkIG9ubHkgZm9yIGEgZGlyZWN0b3J5LCB0aGVuIHRoaXMgbXVzdCBiZSBvbmVcbiAgICAgICAgaWYgKChmbGFncyAmIDY1NTM2KSAmJiAhRlMuaXNEaXIobm9kZS5tb2RlKSkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDU0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBwZXJtaXNzaW9ucywgaWYgdGhpcyBpcyBub3QgYSBmaWxlIHdlIGp1c3QgY3JlYXRlZCBub3cgKGl0IGlzIG9rIHRvXG4gICAgICAgIC8vIGNyZWF0ZSBhbmQgd3JpdGUgdG8gYSBmaWxlIHdpdGggcmVhZC1vbmx5IHBlcm1pc3Npb25zOyBpdCBpcyByZWFkLW9ubHlcbiAgICAgICAgLy8gZm9yIGxhdGVyIHVzZSlcbiAgICAgICAgaWYgKCFjcmVhdGVkKSB7XG4gICAgICAgICAgdmFyIGVyckNvZGUgPSBGUy5tYXlPcGVuKG5vZGUsIGZsYWdzKTtcbiAgICAgICAgICBpZiAoZXJyQ29kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGRvIHRydW5jYXRpb24gaWYgbmVjZXNzYXJ5XG4gICAgICAgIGlmICgoZmxhZ3MgJiA1MTIpICYmICFjcmVhdGVkKSB7XG4gICAgICAgICAgRlMudHJ1bmNhdGUobm9kZSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZXNlLCBkb24ndCBwYXNzIGRvd24gdG8gdGhlIHVuZGVybHlpbmcgdmZzXG4gICAgICAgIGZsYWdzICY9IH4oMTI4IHwgNTEyIHwgMTMxMDcyKTtcbiAgXG4gICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBzdHJlYW0gd2l0aCB0aGUgZmlsZXN5c3RlbVxuICAgICAgICB2YXIgc3RyZWFtID0gRlMuY3JlYXRlU3RyZWFtKHtcbiAgICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICAgIHBhdGg6IEZTLmdldFBhdGgobm9kZSksICAvLyB3ZSB3YW50IHRoZSBhYnNvbHV0ZSBwYXRoIHRvIHRoZSBub2RlXG4gICAgICAgICAgZmxhZ3M6IGZsYWdzLFxuICAgICAgICAgIHNlZWthYmxlOiB0cnVlLFxuICAgICAgICAgIHBvc2l0aW9uOiAwLFxuICAgICAgICAgIHN0cmVhbV9vcHM6IG5vZGUuc3RyZWFtX29wcyxcbiAgICAgICAgICAvLyB1c2VkIGJ5IHRoZSBmaWxlIGZhbWlseSBsaWJjIGNhbGxzIChmb3BlbiwgZndyaXRlLCBmZXJyb3IsIGV0Yy4pXG4gICAgICAgICAgdW5nb3R0ZW46IFtdLFxuICAgICAgICAgIGVycm9yOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gY2FsbCB0aGUgbmV3IHN0cmVhbSdzIG9wZW4gZnVuY3Rpb25cbiAgICAgICAgaWYgKHN0cmVhbS5zdHJlYW1fb3BzLm9wZW4pIHtcbiAgICAgICAgICBzdHJlYW0uc3RyZWFtX29wcy5vcGVuKHN0cmVhbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1vZHVsZVsnbG9nUmVhZEZpbGVzJ10gJiYgIShmbGFncyAmIDEpKSB7XG4gICAgICAgICAgaWYgKCFGUy5yZWFkRmlsZXMpIEZTLnJlYWRGaWxlcyA9IHt9O1xuICAgICAgICAgIGlmICghKHBhdGggaW4gRlMucmVhZEZpbGVzKSkge1xuICAgICAgICAgICAgRlMucmVhZEZpbGVzW3BhdGhdID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICAgIH0sY2xvc2U6KHN0cmVhbSkgPT4ge1xuICAgICAgICBpZiAoRlMuaXNDbG9zZWQoc3RyZWFtKSkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uZ2V0ZGVudHMpIHN0cmVhbS5nZXRkZW50cyA9IG51bGw7IC8vIGZyZWUgcmVhZGRpciBzdGF0ZVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChzdHJlYW0uc3RyZWFtX29wcy5jbG9zZSkge1xuICAgICAgICAgICAgc3RyZWFtLnN0cmVhbV9vcHMuY2xvc2Uoc3RyZWFtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIEZTLmNsb3NlU3RyZWFtKHN0cmVhbS5mZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RyZWFtLmZkID0gbnVsbDtcbiAgICAgIH0saXNDbG9zZWQ6KHN0cmVhbSkgPT4ge1xuICAgICAgICByZXR1cm4gc3RyZWFtLmZkID09PSBudWxsO1xuICAgICAgfSxsbHNlZWs6KHN0cmVhbSwgb2Zmc2V0LCB3aGVuY2UpID0+IHtcbiAgICAgICAgaWYgKEZTLmlzQ2xvc2VkKHN0cmVhbSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0cmVhbS5zZWVrYWJsZSB8fCAhc3RyZWFtLnN0cmVhbV9vcHMubGxzZWVrKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNzApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aGVuY2UgIT0gMCAmJiB3aGVuY2UgIT0gMSAmJiB3aGVuY2UgIT0gMikge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KTtcbiAgICAgICAgfVxuICAgICAgICBzdHJlYW0ucG9zaXRpb24gPSBzdHJlYW0uc3RyZWFtX29wcy5sbHNlZWsoc3RyZWFtLCBvZmZzZXQsIHdoZW5jZSk7XG4gICAgICAgIHN0cmVhbS51bmdvdHRlbiA9IFtdO1xuICAgICAgICByZXR1cm4gc3RyZWFtLnBvc2l0aW9uO1xuICAgICAgfSxyZWFkOihzdHJlYW0sIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSA9PiB7XG4gICAgICAgIGlmIChsZW5ndGggPCAwIHx8IHBvc2l0aW9uIDwgMCkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDI4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoRlMuaXNDbG9zZWQoc3RyZWFtKSkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoc3RyZWFtLmZsYWdzICYgMjA5NzE1NSkgPT09IDEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoRlMuaXNEaXIoc3RyZWFtLm5vZGUubW9kZSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigzMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdHJlYW0uc3RyZWFtX29wcy5yZWFkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWVraW5nID0gdHlwZW9mIHBvc2l0aW9uICE9ICd1bmRlZmluZWQnO1xuICAgICAgICBpZiAoIXNlZWtpbmcpIHtcbiAgICAgICAgICBwb3NpdGlvbiA9IHN0cmVhbS5wb3NpdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmICghc3RyZWFtLnNlZWthYmxlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNzApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBieXRlc1JlYWQgPSBzdHJlYW0uc3RyZWFtX29wcy5yZWFkKHN0cmVhbSwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pO1xuICAgICAgICBpZiAoIXNlZWtpbmcpIHN0cmVhbS5wb3NpdGlvbiArPSBieXRlc1JlYWQ7XG4gICAgICAgIHJldHVybiBieXRlc1JlYWQ7XG4gICAgICB9LHdyaXRlOihzdHJlYW0sIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uLCBjYW5Pd24pID0+IHtcbiAgICAgICAgaWYgKGxlbmd0aCA8IDAgfHwgcG9zaXRpb24gPCAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChGUy5pc0Nsb3NlZChzdHJlYW0pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzdHJlYW0uZmxhZ3MgJiAyMDk3MTU1KSA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChGUy5pc0RpcihzdHJlYW0ubm9kZS5tb2RlKSkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDMxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0cmVhbS5zdHJlYW1fb3BzLndyaXRlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uc2Vla2FibGUgJiYgc3RyZWFtLmZsYWdzICYgMTAyNCkge1xuICAgICAgICAgIC8vIHNlZWsgdG8gdGhlIGVuZCBiZWZvcmUgd3JpdGluZyBpbiBhcHBlbmQgbW9kZVxuICAgICAgICAgIEZTLmxsc2VlayhzdHJlYW0sIDAsIDIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWVraW5nID0gdHlwZW9mIHBvc2l0aW9uICE9ICd1bmRlZmluZWQnO1xuICAgICAgICBpZiAoIXNlZWtpbmcpIHtcbiAgICAgICAgICBwb3NpdGlvbiA9IHN0cmVhbS5wb3NpdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmICghc3RyZWFtLnNlZWthYmxlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNzApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBieXRlc1dyaXR0ZW4gPSBzdHJlYW0uc3RyZWFtX29wcy53cml0ZShzdHJlYW0sIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uLCBjYW5Pd24pO1xuICAgICAgICBpZiAoIXNlZWtpbmcpIHN0cmVhbS5wb3NpdGlvbiArPSBieXRlc1dyaXR0ZW47XG4gICAgICAgIHJldHVybiBieXRlc1dyaXR0ZW47XG4gICAgICB9LGFsbG9jYXRlOihzdHJlYW0sIG9mZnNldCwgbGVuZ3RoKSA9PiB7XG4gICAgICAgIGlmIChGUy5pc0Nsb3NlZChzdHJlYW0pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoOCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9mZnNldCA8IDAgfHwgbGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzdHJlYW0uZmxhZ3MgJiAyMDk3MTU1KSA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghRlMuaXNGaWxlKHN0cmVhbS5ub2RlLm1vZGUpICYmICFGUy5pc0RpcihzdHJlYW0ubm9kZS5tb2RlKSkge1xuICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDQzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0cmVhbS5zdHJlYW1fb3BzLmFsbG9jYXRlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMTM4KTtcbiAgICAgICAgfVxuICAgICAgICBzdHJlYW0uc3RyZWFtX29wcy5hbGxvY2F0ZShzdHJlYW0sIG9mZnNldCwgbGVuZ3RoKTtcbiAgICAgIH0sbW1hcDooc3RyZWFtLCBsZW5ndGgsIHBvc2l0aW9uLCBwcm90LCBmbGFncykgPT4ge1xuICAgICAgICAvLyBVc2VyIHJlcXVlc3RzIHdyaXRpbmcgdG8gZmlsZSAocHJvdCAmIFBST1RfV1JJVEUgIT0gMCkuXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHdlIGhhdmUgcGVybWlzc2lvbnMgdG8gd3JpdGUgdG8gdGhlIGZpbGUgdW5sZXNzXG4gICAgICAgIC8vIE1BUF9QUklWQVRFIGZsYWcgaXMgc2V0LiBBY2NvcmRpbmcgdG8gUE9TSVggc3BlYyBpdCBpcyBwb3NzaWJsZVxuICAgICAgICAvLyB0byB3cml0ZSB0byBmaWxlIG9wZW5lZCBpbiByZWFkLW9ubHkgbW9kZSB3aXRoIE1BUF9QUklWQVRFIGZsYWcsXG4gICAgICAgIC8vIGFzIGFsbCBtb2RpZmljYXRpb25zIHdpbGwgYmUgdmlzaWJsZSBvbmx5IGluIHRoZSBtZW1vcnkgb2ZcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgcHJvY2Vzcy5cbiAgICAgICAgaWYgKChwcm90ICYgMikgIT09IDBcbiAgICAgICAgICAgICYmIChmbGFncyAmIDIpID09PSAwXG4gICAgICAgICAgICAmJiAoc3RyZWFtLmZsYWdzICYgMjA5NzE1NSkgIT09IDIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHN0cmVhbS5mbGFncyAmIDIwOTcxNTUpID09PSAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdHJlYW0uc3RyZWFtX29wcy5tbWFwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJlYW0uc3RyZWFtX29wcy5tbWFwKHN0cmVhbSwgbGVuZ3RoLCBwb3NpdGlvbiwgcHJvdCwgZmxhZ3MpO1xuICAgICAgfSxtc3luYzooc3RyZWFtLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBtbWFwRmxhZ3MpID0+IHtcbiAgICAgICAgaWYgKCFzdHJlYW0uc3RyZWFtX29wcy5tc3luYykge1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJlYW0uc3RyZWFtX29wcy5tc3luYyhzdHJlYW0sIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIG1tYXBGbGFncyk7XG4gICAgICB9LG11bm1hcDooc3RyZWFtKSA9PiAwLGlvY3RsOihzdHJlYW0sIGNtZCwgYXJnKSA9PiB7XG4gICAgICAgIGlmICghc3RyZWFtLnN0cmVhbV9vcHMuaW9jdGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1OSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmVhbS5zdHJlYW1fb3BzLmlvY3RsKHN0cmVhbSwgY21kLCBhcmcpO1xuICAgICAgfSxyZWFkRmlsZToocGF0aCwgb3B0cyA9IHt9KSA9PiB7XG4gICAgICAgIG9wdHMuZmxhZ3MgPSBvcHRzLmZsYWdzIHx8IDA7XG4gICAgICAgIG9wdHMuZW5jb2RpbmcgPSBvcHRzLmVuY29kaW5nIHx8ICdiaW5hcnknO1xuICAgICAgICBpZiAob3B0cy5lbmNvZGluZyAhPT0gJ3V0ZjgnICYmIG9wdHMuZW5jb2RpbmcgIT09ICdiaW5hcnknKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGVuY29kaW5nIHR5cGUgXCInICsgb3B0cy5lbmNvZGluZyArICdcIicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXQ7XG4gICAgICAgIHZhciBzdHJlYW0gPSBGUy5vcGVuKHBhdGgsIG9wdHMuZmxhZ3MpO1xuICAgICAgICB2YXIgc3RhdCA9IEZTLnN0YXQocGF0aCk7XG4gICAgICAgIHZhciBsZW5ndGggPSBzdGF0LnNpemU7XG4gICAgICAgIHZhciBidWYgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICAgICAgICBGUy5yZWFkKHN0cmVhbSwgYnVmLCAwLCBsZW5ndGgsIDApO1xuICAgICAgICBpZiAob3B0cy5lbmNvZGluZyA9PT0gJ3V0ZjgnKSB7XG4gICAgICAgICAgcmV0ID0gVVRGOEFycmF5VG9TdHJpbmcoYnVmLCAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRzLmVuY29kaW5nID09PSAnYmluYXJ5Jykge1xuICAgICAgICAgIHJldCA9IGJ1ZjtcbiAgICAgICAgfVxuICAgICAgICBGUy5jbG9zZShzdHJlYW0pO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfSx3cml0ZUZpbGU6KHBhdGgsIGRhdGEsIG9wdHMgPSB7fSkgPT4ge1xuICAgICAgICBvcHRzLmZsYWdzID0gb3B0cy5mbGFncyB8fCA1Nzc7XG4gICAgICAgIHZhciBzdHJlYW0gPSBGUy5vcGVuKHBhdGgsIG9wdHMuZmxhZ3MsIG9wdHMubW9kZSk7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHZhciBidWYgPSBuZXcgVWludDhBcnJheShsZW5ndGhCeXRlc1VURjgoZGF0YSkrMSk7XG4gICAgICAgICAgdmFyIGFjdHVhbE51bUJ5dGVzID0gc3RyaW5nVG9VVEY4QXJyYXkoZGF0YSwgYnVmLCAwLCBidWYubGVuZ3RoKTtcbiAgICAgICAgICBGUy53cml0ZShzdHJlYW0sIGJ1ZiwgMCwgYWN0dWFsTnVtQnl0ZXMsIHVuZGVmaW5lZCwgb3B0cy5jYW5Pd24pO1xuICAgICAgICB9IGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhkYXRhKSkge1xuICAgICAgICAgIEZTLndyaXRlKHN0cmVhbSwgZGF0YSwgMCwgZGF0YS5ieXRlTGVuZ3RoLCB1bmRlZmluZWQsIG9wdHMuY2FuT3duKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGRhdGEgdHlwZScpO1xuICAgICAgICB9XG4gICAgICAgIEZTLmNsb3NlKHN0cmVhbSk7XG4gICAgICB9LGN3ZDooKSA9PiBGUy5jdXJyZW50UGF0aCxjaGRpcjoocGF0aCkgPT4ge1xuICAgICAgICB2YXIgbG9va3VwID0gRlMubG9va3VwUGF0aChwYXRoLCB7IGZvbGxvdzogdHJ1ZSB9KTtcbiAgICAgICAgaWYgKGxvb2t1cC5ub2RlID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghRlMuaXNEaXIobG9va3VwLm5vZGUubW9kZSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig1NCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVyckNvZGUgPSBGUy5ub2RlUGVybWlzc2lvbnMobG9va3VwLm5vZGUsICd4Jyk7XG4gICAgICAgIGlmIChlcnJDb2RlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoZXJyQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgRlMuY3VycmVudFBhdGggPSBsb29rdXAucGF0aDtcbiAgICAgIH0sY3JlYXRlRGVmYXVsdERpcmVjdG9yaWVzOigpID0+IHtcbiAgICAgICAgRlMubWtkaXIoJy90bXAnKTtcbiAgICAgICAgRlMubWtkaXIoJy9ob21lJyk7XG4gICAgICAgIEZTLm1rZGlyKCcvaG9tZS93ZWJfdXNlcicpO1xuICAgICAgfSxjcmVhdGVEZWZhdWx0RGV2aWNlczooKSA9PiB7XG4gICAgICAgIC8vIGNyZWF0ZSAvZGV2XG4gICAgICAgIEZTLm1rZGlyKCcvZGV2Jyk7XG4gICAgICAgIC8vIHNldHVwIC9kZXYvbnVsbFxuICAgICAgICBGUy5yZWdpc3RlckRldmljZShGUy5tYWtlZGV2KDEsIDMpLCB7XG4gICAgICAgICAgcmVhZDogKCkgPT4gMCxcbiAgICAgICAgICB3cml0ZTogKHN0cmVhbSwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zKSA9PiBsZW5ndGgsXG4gICAgICAgIH0pO1xuICAgICAgICBGUy5ta2RldignL2Rldi9udWxsJywgRlMubWFrZWRldigxLCAzKSk7XG4gICAgICAgIC8vIHNldHVwIC9kZXYvdHR5IGFuZCAvZGV2L3R0eTFcbiAgICAgICAgLy8gc3RkZXJyIG5lZWRzIHRvIHByaW50IG91dHB1dCB1c2luZyBlcnIoKSByYXRoZXIgdGhhbiBvdXQoKVxuICAgICAgICAvLyBzbyB3ZSByZWdpc3RlciBhIHNlY29uZCB0dHkganVzdCBmb3IgaXQuXG4gICAgICAgIFRUWS5yZWdpc3RlcihGUy5tYWtlZGV2KDUsIDApLCBUVFkuZGVmYXVsdF90dHlfb3BzKTtcbiAgICAgICAgVFRZLnJlZ2lzdGVyKEZTLm1ha2VkZXYoNiwgMCksIFRUWS5kZWZhdWx0X3R0eTFfb3BzKTtcbiAgICAgICAgRlMubWtkZXYoJy9kZXYvdHR5JywgRlMubWFrZWRldig1LCAwKSk7XG4gICAgICAgIEZTLm1rZGV2KCcvZGV2L3R0eTEnLCBGUy5tYWtlZGV2KDYsIDApKTtcbiAgICAgICAgLy8gc2V0dXAgL2Rldi9bdV1yYW5kb21cbiAgICAgICAgdmFyIHJhbmRvbV9kZXZpY2UgPSBnZXRSYW5kb21EZXZpY2UoKTtcbiAgICAgICAgRlMuY3JlYXRlRGV2aWNlKCcvZGV2JywgJ3JhbmRvbScsIHJhbmRvbV9kZXZpY2UpO1xuICAgICAgICBGUy5jcmVhdGVEZXZpY2UoJy9kZXYnLCAndXJhbmRvbScsIHJhbmRvbV9kZXZpY2UpO1xuICAgICAgICAvLyB3ZSdyZSBub3QgZ29pbmcgdG8gZW11bGF0ZSB0aGUgYWN0dWFsIHNobSBkZXZpY2UsXG4gICAgICAgIC8vIGp1c3QgY3JlYXRlIHRoZSB0bXAgZGlycyB0aGF0IHJlc2lkZSBpbiBpdCBjb21tb25seVxuICAgICAgICBGUy5ta2RpcignL2Rldi9zaG0nKTtcbiAgICAgICAgRlMubWtkaXIoJy9kZXYvc2htL3RtcCcpO1xuICAgICAgfSxjcmVhdGVTcGVjaWFsRGlyZWN0b3JpZXM6KCkgPT4ge1xuICAgICAgICAvLyBjcmVhdGUgL3Byb2Mvc2VsZi9mZCB3aGljaCBhbGxvd3MgL3Byb2Mvc2VsZi9mZC82ID0+IHJlYWRsaW5rIGdpdmVzIHRoZVxuICAgICAgICAvLyBuYW1lIG9mIHRoZSBzdHJlYW0gZm9yIGZkIDYgKHNlZSB0ZXN0X3VuaXN0ZF90dHluYW1lKVxuICAgICAgICBGUy5ta2RpcignL3Byb2MnKTtcbiAgICAgICAgdmFyIHByb2Nfc2VsZiA9IEZTLm1rZGlyKCcvcHJvYy9zZWxmJyk7XG4gICAgICAgIEZTLm1rZGlyKCcvcHJvYy9zZWxmL2ZkJyk7XG4gICAgICAgIEZTLm1vdW50KHtcbiAgICAgICAgICBtb3VudDogKCkgPT4ge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBGUy5jcmVhdGVOb2RlKHByb2Nfc2VsZiwgJ2ZkJywgMTYzODQgfCA1MTEgLyogMDc3NyAqLywgNzMpO1xuICAgICAgICAgICAgbm9kZS5ub2RlX29wcyA9IHtcbiAgICAgICAgICAgICAgbG9va3VwOiAocGFyZW50LCBuYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGZkID0gK25hbWU7XG4gICAgICAgICAgICAgICAgdmFyIHN0cmVhbSA9IEZTLmdldFN0cmVhbShmZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdHJlYW0pIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpO1xuICAgICAgICAgICAgICAgIHZhciByZXQgPSB7XG4gICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICBtb3VudDogeyBtb3VudHBvaW50OiAnZmFrZScgfSxcbiAgICAgICAgICAgICAgICAgIG5vZGVfb3BzOiB7IHJlYWRsaW5rOiAoKSA9PiBzdHJlYW0ucGF0aCB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0LnBhcmVudCA9IHJldDsgLy8gbWFrZSBpdCBsb29rIGxpa2UgYSBzaW1wbGUgcm9vdCBub2RlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwge30sICcvcHJvYy9zZWxmL2ZkJyk7XG4gICAgICB9LGNyZWF0ZVN0YW5kYXJkU3RyZWFtczooKSA9PiB7XG4gICAgICAgIC8vIFRPRE8gZGVwcmVjYXRlIHRoZSBvbGQgZnVuY3Rpb25hbGl0eSBvZiBhIHNpbmdsZVxuICAgICAgICAvLyBpbnB1dCAvIG91dHB1dCBjYWxsYmFjayBhbmQgdGhhdCB1dGlsaXplcyBGUy5jcmVhdGVEZXZpY2VcbiAgICAgICAgLy8gYW5kIGluc3RlYWQgcmVxdWlyZSBhIHVuaXF1ZSBzZXQgb2Ygc3RyZWFtIG9wc1xuICBcbiAgICAgICAgLy8gYnkgZGVmYXVsdCwgd2Ugc3ltbGluayB0aGUgc3RhbmRhcmQgc3RyZWFtcyB0byB0aGVcbiAgICAgICAgLy8gZGVmYXVsdCB0dHkgZGV2aWNlcy4gaG93ZXZlciwgaWYgdGhlIHN0YW5kYXJkIHN0cmVhbXNcbiAgICAgICAgLy8gaGF2ZSBiZWVuIG92ZXJ3cml0dGVuIHdlIGNyZWF0ZSBhIHVuaXF1ZSBkZXZpY2UgZm9yXG4gICAgICAgIC8vIHRoZW0gaW5zdGVhZC5cbiAgICAgICAgaWYgKE1vZHVsZVsnc3RkaW4nXSkge1xuICAgICAgICAgIEZTLmNyZWF0ZURldmljZSgnL2RldicsICdzdGRpbicsIE1vZHVsZVsnc3RkaW4nXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgRlMuc3ltbGluaygnL2Rldi90dHknLCAnL2Rldi9zdGRpbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNb2R1bGVbJ3N0ZG91dCddKSB7XG4gICAgICAgICAgRlMuY3JlYXRlRGV2aWNlKCcvZGV2JywgJ3N0ZG91dCcsIG51bGwsIE1vZHVsZVsnc3Rkb3V0J10pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIEZTLnN5bWxpbmsoJy9kZXYvdHR5JywgJy9kZXYvc3Rkb3V0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1vZHVsZVsnc3RkZXJyJ10pIHtcbiAgICAgICAgICBGUy5jcmVhdGVEZXZpY2UoJy9kZXYnLCAnc3RkZXJyJywgbnVsbCwgTW9kdWxlWydzdGRlcnInXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgRlMuc3ltbGluaygnL2Rldi90dHkxJywgJy9kZXYvc3RkZXJyJyk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC8vIG9wZW4gZGVmYXVsdCBzdHJlYW1zIGZvciB0aGUgc3RkaW4sIHN0ZG91dCBhbmQgc3RkZXJyIGRldmljZXNcbiAgICAgICAgdmFyIHN0ZGluID0gRlMub3BlbignL2Rldi9zdGRpbicsIDApO1xuICAgICAgICB2YXIgc3Rkb3V0ID0gRlMub3BlbignL2Rldi9zdGRvdXQnLCAxKTtcbiAgICAgICAgdmFyIHN0ZGVyciA9IEZTLm9wZW4oJy9kZXYvc3RkZXJyJywgMSk7XG4gICAgICB9LGVuc3VyZUVycm5vRXJyb3I6KCkgPT4ge1xuICAgICAgICBpZiAoRlMuRXJybm9FcnJvcikgcmV0dXJuO1xuICAgICAgICBGUy5FcnJub0Vycm9yID0gLyoqIEB0aGlze09iamVjdH0gKi8gZnVuY3Rpb24gRXJybm9FcnJvcihlcnJubywgbm9kZSkge1xuICAgICAgICAgIC8vIFdlIHNldCB0aGUgYG5hbWVgIHByb3BlcnR5IHRvIGJlIGFibGUgdG8gaWRlbnRpZnkgYEZTLkVycm5vRXJyb3JgXG4gICAgICAgICAgLy8gLSB0aGUgYG5hbWVgIGlzIGEgc3RhbmRhcmQgRUNNQS0yNjIgcHJvcGVydHkgb2YgZXJyb3Igb2JqZWN0cy4gS2luZCBvZiBnb29kIHRvIGhhdmUgaXQgYW55d2F5LlxuICAgICAgICAgIC8vIC0gd2hlbiB1c2luZyBQUk9YWUZTLCBhbiBlcnJvciBjYW4gY29tZSBmcm9tIGFuIHVuZGVybHlpbmcgRlNcbiAgICAgICAgICAvLyBhcyBkaWZmZXJlbnQgRlMgb2JqZWN0cyBoYXZlIHRoZWlyIG93biBGUy5FcnJub0Vycm9yIGVhY2gsXG4gICAgICAgICAgLy8gdGhlIHRlc3QgYGVyciBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3JgIHdvbid0IGRldGVjdCBhbiBlcnJvciBjb21pbmcgZnJvbSBhbm90aGVyIGZpbGVzeXN0ZW0sIGNhdXNpbmcgYnVncy5cbiAgICAgICAgICAvLyB3ZSdsbCB1c2UgdGhlIHJlbGlhYmxlIHRlc3QgYGVyci5uYW1lID09IFwiRXJybm9FcnJvclwiYCBpbnN0ZWFkXG4gICAgICAgICAgdGhpcy5uYW1lID0gJ0Vycm5vRXJyb3InO1xuICAgICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgICAgdGhpcy5zZXRFcnJubyA9IC8qKiBAdGhpc3tPYmplY3R9ICovIGZ1bmN0aW9uKGVycm5vKSB7XG4gICAgICAgICAgICB0aGlzLmVycm5vID0gZXJybm87XG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLnNldEVycm5vKGVycm5vKTtcbiAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnRlMgZXJyb3InO1xuICBcbiAgICAgICAgfTtcbiAgICAgICAgRlMuRXJybm9FcnJvci5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcbiAgICAgICAgRlMuRXJybm9FcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBGUy5FcnJub0Vycm9yO1xuICAgICAgICAvLyBTb21lIGVycm9ycyBtYXkgaGFwcGVuIHF1aXRlIGEgYml0LCB0byBhdm9pZCBvdmVyaGVhZCB3ZSByZXVzZSB0aGVtIChhbmQgc3VmZmVyIGEgbGFjayBvZiBzdGFjayBpbmZvKVxuICAgICAgICBbNDRdLmZvckVhY2goKGNvZGUpID0+IHtcbiAgICAgICAgICBGUy5nZW5lcmljRXJyb3JzW2NvZGVdID0gbmV3IEZTLkVycm5vRXJyb3IoY29kZSk7XG4gICAgICAgICAgRlMuZ2VuZXJpY0Vycm9yc1tjb2RlXS5zdGFjayA9ICc8Z2VuZXJpYyBlcnJvciwgbm8gc3RhY2s+JztcbiAgICAgICAgfSk7XG4gICAgICB9LHN0YXRpY0luaXQ6KCkgPT4ge1xuICAgICAgICBGUy5lbnN1cmVFcnJub0Vycm9yKCk7XG4gIFxuICAgICAgICBGUy5uYW1lVGFibGUgPSBuZXcgQXJyYXkoNDA5Nik7XG4gIFxuICAgICAgICBGUy5tb3VudChNRU1GUywge30sICcvJyk7XG4gIFxuICAgICAgICBGUy5jcmVhdGVEZWZhdWx0RGlyZWN0b3JpZXMoKTtcbiAgICAgICAgRlMuY3JlYXRlRGVmYXVsdERldmljZXMoKTtcbiAgICAgICAgRlMuY3JlYXRlU3BlY2lhbERpcmVjdG9yaWVzKCk7XG4gIFxuICAgICAgICBGUy5maWxlc3lzdGVtcyA9IHtcbiAgICAgICAgICAnTUVNRlMnOiBNRU1GUyxcbiAgICAgICAgfTtcbiAgICAgIH0saW5pdDooaW5wdXQsIG91dHB1dCwgZXJyb3IpID0+IHtcbiAgICAgICAgRlMuaW5pdC5pbml0aWFsaXplZCA9IHRydWU7XG4gIFxuICAgICAgICBGUy5lbnN1cmVFcnJub0Vycm9yKCk7XG4gIFxuICAgICAgICAvLyBBbGxvdyBNb2R1bGUuc3RkaW4gZXRjLiB0byBwcm92aWRlIGRlZmF1bHRzLCBpZiBub25lIGV4cGxpY2l0bHkgcGFzc2VkIHRvIHVzIGhlcmVcbiAgICAgICAgTW9kdWxlWydzdGRpbiddID0gaW5wdXQgfHwgTW9kdWxlWydzdGRpbiddO1xuICAgICAgICBNb2R1bGVbJ3N0ZG91dCddID0gb3V0cHV0IHx8IE1vZHVsZVsnc3Rkb3V0J107XG4gICAgICAgIE1vZHVsZVsnc3RkZXJyJ10gPSBlcnJvciB8fCBNb2R1bGVbJ3N0ZGVyciddO1xuICBcbiAgICAgICAgRlMuY3JlYXRlU3RhbmRhcmRTdHJlYW1zKCk7XG4gICAgICB9LHF1aXQ6KCkgPT4ge1xuICAgICAgICBGUy5pbml0LmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIC8vIGZvcmNlLWZsdXNoIGFsbCBzdHJlYW1zLCBzbyB3ZSBnZXQgbXVzbCBzdGQgc3RyZWFtcyBwcmludGVkIG91dFxuICAgICAgICAvLyBjbG9zZSBhbGwgb2Ygb3VyIHN0cmVhbXNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBGUy5zdHJlYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHN0cmVhbSA9IEZTLnN0cmVhbXNbaV07XG4gICAgICAgICAgaWYgKCFzdHJlYW0pIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBGUy5jbG9zZShzdHJlYW0pO1xuICAgICAgICB9XG4gICAgICB9LGdldE1vZGU6KGNhblJlYWQsIGNhbldyaXRlKSA9PiB7XG4gICAgICAgIHZhciBtb2RlID0gMDtcbiAgICAgICAgaWYgKGNhblJlYWQpIG1vZGUgfD0gMjkyIHwgNzM7XG4gICAgICAgIGlmIChjYW5Xcml0ZSkgbW9kZSB8PSAxNDY7XG4gICAgICAgIHJldHVybiBtb2RlO1xuICAgICAgfSxmaW5kT2JqZWN0OihwYXRoLCBkb250UmVzb2x2ZUxhc3RMaW5rKSA9PiB7XG4gICAgICAgIHZhciByZXQgPSBGUy5hbmFseXplUGF0aChwYXRoLCBkb250UmVzb2x2ZUxhc3RMaW5rKTtcbiAgICAgICAgaWYgKCFyZXQuZXhpc3RzKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldC5vYmplY3Q7XG4gICAgICB9LGFuYWx5emVQYXRoOihwYXRoLCBkb250UmVzb2x2ZUxhc3RMaW5rKSA9PiB7XG4gICAgICAgIC8vIG9wZXJhdGUgZnJvbSB3aXRoaW4gdGhlIGNvbnRleHQgb2YgdGhlIHN5bWxpbmsncyB0YXJnZXRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgbG9va3VwID0gRlMubG9va3VwUGF0aChwYXRoLCB7IGZvbGxvdzogIWRvbnRSZXNvbHZlTGFzdExpbmsgfSk7XG4gICAgICAgICAgcGF0aCA9IGxvb2t1cC5wYXRoO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJldCA9IHtcbiAgICAgICAgICBpc1Jvb3Q6IGZhbHNlLCBleGlzdHM6IGZhbHNlLCBlcnJvcjogMCwgbmFtZTogbnVsbCwgcGF0aDogbnVsbCwgb2JqZWN0OiBudWxsLFxuICAgICAgICAgIHBhcmVudEV4aXN0czogZmFsc2UsIHBhcmVudFBhdGg6IG51bGwsIHBhcmVudE9iamVjdDogbnVsbFxuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBsb29rdXAgPSBGUy5sb29rdXBQYXRoKHBhdGgsIHsgcGFyZW50OiB0cnVlIH0pO1xuICAgICAgICAgIHJldC5wYXJlbnRFeGlzdHMgPSB0cnVlO1xuICAgICAgICAgIHJldC5wYXJlbnRQYXRoID0gbG9va3VwLnBhdGg7XG4gICAgICAgICAgcmV0LnBhcmVudE9iamVjdCA9IGxvb2t1cC5ub2RlO1xuICAgICAgICAgIHJldC5uYW1lID0gUEFUSC5iYXNlbmFtZShwYXRoKTtcbiAgICAgICAgICBsb29rdXAgPSBGUy5sb29rdXBQYXRoKHBhdGgsIHsgZm9sbG93OiAhZG9udFJlc29sdmVMYXN0TGluayB9KTtcbiAgICAgICAgICByZXQuZXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgICByZXQucGF0aCA9IGxvb2t1cC5wYXRoO1xuICAgICAgICAgIHJldC5vYmplY3QgPSBsb29rdXAubm9kZTtcbiAgICAgICAgICByZXQubmFtZSA9IGxvb2t1cC5ub2RlLm5hbWU7XG4gICAgICAgICAgcmV0LmlzUm9vdCA9IGxvb2t1cC5wYXRoID09PSAnLyc7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXQuZXJyb3IgPSBlLmVycm5vO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfSxjcmVhdGVQYXRoOihwYXJlbnQsIHBhdGgsIGNhblJlYWQsIGNhbldyaXRlKSA9PiB7XG4gICAgICAgIHBhcmVudCA9IHR5cGVvZiBwYXJlbnQgPT0gJ3N0cmluZycgPyBwYXJlbnQgOiBGUy5nZXRQYXRoKHBhcmVudCk7XG4gICAgICAgIHZhciBwYXJ0cyA9IHBhdGguc3BsaXQoJy8nKS5yZXZlcnNlKCk7XG4gICAgICAgIHdoaWxlIChwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFydCA9IHBhcnRzLnBvcCgpO1xuICAgICAgICAgIGlmICghcGFydCkgY29udGludWU7XG4gICAgICAgICAgdmFyIGN1cnJlbnQgPSBQQVRILmpvaW4yKHBhcmVudCwgcGFydCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIEZTLm1rZGlyKGN1cnJlbnQpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGlnbm9yZSBFRVhJU1RcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyZW50ID0gY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgIH0sY3JlYXRlRmlsZToocGFyZW50LCBuYW1lLCBwcm9wZXJ0aWVzLCBjYW5SZWFkLCBjYW5Xcml0ZSkgPT4ge1xuICAgICAgICB2YXIgcGF0aCA9IFBBVEguam9pbjIodHlwZW9mIHBhcmVudCA9PSAnc3RyaW5nJyA/IHBhcmVudCA6IEZTLmdldFBhdGgocGFyZW50KSwgbmFtZSk7XG4gICAgICAgIHZhciBtb2RlID0gRlMuZ2V0TW9kZShjYW5SZWFkLCBjYW5Xcml0ZSk7XG4gICAgICAgIHJldHVybiBGUy5jcmVhdGUocGF0aCwgbW9kZSk7XG4gICAgICB9LGNyZWF0ZURhdGFGaWxlOihwYXJlbnQsIG5hbWUsIGRhdGEsIGNhblJlYWQsIGNhbldyaXRlLCBjYW5Pd24pID0+IHtcbiAgICAgICAgdmFyIHBhdGggPSBuYW1lO1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgcGFyZW50ID0gdHlwZW9mIHBhcmVudCA9PSAnc3RyaW5nJyA/IHBhcmVudCA6IEZTLmdldFBhdGgocGFyZW50KTtcbiAgICAgICAgICBwYXRoID0gbmFtZSA/IFBBVEguam9pbjIocGFyZW50LCBuYW1lKSA6IHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbW9kZSA9IEZTLmdldE1vZGUoY2FuUmVhZCwgY2FuV3JpdGUpO1xuICAgICAgICB2YXIgbm9kZSA9IEZTLmNyZWF0ZShwYXRoLCBtb2RlKTtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciBhcnIgPSBuZXcgQXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuOyArK2kpIGFycltpXSA9IGRhdGEuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGRhdGEgPSBhcnI7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBjYW4gd3JpdGUgdG8gdGhlIGZpbGVcbiAgICAgICAgICBGUy5jaG1vZChub2RlLCBtb2RlIHwgMTQ2KTtcbiAgICAgICAgICB2YXIgc3RyZWFtID0gRlMub3Blbihub2RlLCA1NzcpO1xuICAgICAgICAgIEZTLndyaXRlKHN0cmVhbSwgZGF0YSwgMCwgZGF0YS5sZW5ndGgsIDAsIGNhbk93bik7XG4gICAgICAgICAgRlMuY2xvc2Uoc3RyZWFtKTtcbiAgICAgICAgICBGUy5jaG1vZChub2RlLCBtb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH0sY3JlYXRlRGV2aWNlOihwYXJlbnQsIG5hbWUsIGlucHV0LCBvdXRwdXQpID0+IHtcbiAgICAgICAgdmFyIHBhdGggPSBQQVRILmpvaW4yKHR5cGVvZiBwYXJlbnQgPT0gJ3N0cmluZycgPyBwYXJlbnQgOiBGUy5nZXRQYXRoKHBhcmVudCksIG5hbWUpO1xuICAgICAgICB2YXIgbW9kZSA9IEZTLmdldE1vZGUoISFpbnB1dCwgISFvdXRwdXQpO1xuICAgICAgICBpZiAoIUZTLmNyZWF0ZURldmljZS5tYWpvcikgRlMuY3JlYXRlRGV2aWNlLm1ham9yID0gNjQ7XG4gICAgICAgIHZhciBkZXYgPSBGUy5tYWtlZGV2KEZTLmNyZWF0ZURldmljZS5tYWpvcisrLCAwKTtcbiAgICAgICAgLy8gQ3JlYXRlIGEgZmFrZSBkZXZpY2UgdGhhdCBhIHNldCBvZiBzdHJlYW0gb3BzIHRvIGVtdWxhdGVcbiAgICAgICAgLy8gdGhlIG9sZCBiZWhhdmlvci5cbiAgICAgICAgRlMucmVnaXN0ZXJEZXZpY2UoZGV2LCB7XG4gICAgICAgICAgb3BlbjogKHN0cmVhbSkgPT4ge1xuICAgICAgICAgICAgc3RyZWFtLnNlZWthYmxlID0gZmFsc2U7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjbG9zZTogKHN0cmVhbSkgPT4ge1xuICAgICAgICAgICAgLy8gZmx1c2ggYW55IHBlbmRpbmcgbGluZSBkYXRhXG4gICAgICAgICAgICBpZiAob3V0cHV0ICYmIG91dHB1dC5idWZmZXIgJiYgb3V0cHV0LmJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgb3V0cHV0KDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlYWQ6IChzdHJlYW0sIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvcyAvKiBpZ25vcmVkICovKSA9PiB7XG4gICAgICAgICAgICB2YXIgYnl0ZXNSZWFkID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBpbnB1dCgpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoMjkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCAmJiBieXRlc1JlYWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcig2KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdCA9PT0gdW5kZWZpbmVkKSBicmVhaztcbiAgICAgICAgICAgICAgYnl0ZXNSZWFkKys7XG4gICAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQraV0gPSByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnl0ZXNSZWFkKSB7XG4gICAgICAgICAgICAgIHN0cmVhbS5ub2RlLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYnl0ZXNSZWFkO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgd3JpdGU6IChzdHJlYW0sIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvcykgPT4ge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG91dHB1dChidWZmZXJbb2Zmc2V0K2ldKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDI5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICAgICAgICBzdHJlYW0ubm9kZS50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIEZTLm1rZGV2KHBhdGgsIG1vZGUsIGRldik7XG4gICAgICB9LGZvcmNlTG9hZEZpbGU6KG9iaikgPT4ge1xuICAgICAgICBpZiAob2JqLmlzRGV2aWNlIHx8IG9iai5pc0ZvbGRlciB8fCBvYmoubGluayB8fCBvYmouY29udGVudHMpIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGF6eSBsb2FkaW5nIHNob3VsZCBoYXZlIGJlZW4gcGVyZm9ybWVkIChjb250ZW50cyBzZXQpIGluIGNyZWF0ZUxhenlGaWxlLCBidXQgaXQgd2FzIG5vdC4gTGF6eSBsb2FkaW5nIG9ubHkgd29ya3MgaW4gd2ViIHdvcmtlcnMuIFVzZSAtLWVtYmVkLWZpbGUgb3IgLS1wcmVsb2FkLWZpbGUgaW4gZW1jYyBvbiB0aGUgbWFpbiB0aHJlYWQuXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlYWRfKSB7XG4gICAgICAgICAgLy8gQ29tbWFuZC1saW5lLlxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXQVJOSU5HOiBDYW4ndCByZWFkIGJpbmFyeSBmaWxlcyBpbiBWOCdzIGQ4IG9yIHRyYWNlbW9ua2V5J3MganMsIGFzXG4gICAgICAgICAgICAvLyAgICAgICAgICByZWFkKCkgd2lsbCB0cnkgdG8gcGFyc2UgVVRGOC5cbiAgICAgICAgICAgIG9iai5jb250ZW50cyA9IGludEFycmF5RnJvbVN0cmluZyhyZWFkXyhvYmoudXJsKSwgdHJ1ZSk7XG4gICAgICAgICAgICBvYmoudXNlZEJ5dGVzID0gb2JqLmNvbnRlbnRzLmxlbmd0aDtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRlMuRXJybm9FcnJvcigyOSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGxvYWQgd2l0aG91dCByZWFkKCkgb3IgWE1MSHR0cFJlcXVlc3QuJyk7XG4gICAgICAgIH1cbiAgICAgIH0sY3JlYXRlTGF6eUZpbGU6KHBhcmVudCwgbmFtZSwgdXJsLCBjYW5SZWFkLCBjYW5Xcml0ZSkgPT4ge1xuICAgICAgICAvLyBMYXp5IGNodW5rZWQgVWludDhBcnJheSAoaW1wbGVtZW50cyBnZXQgYW5kIGxlbmd0aCBmcm9tIFVpbnQ4QXJyYXkpLiBBY3R1YWwgZ2V0dGluZyBpcyBhYnN0cmFjdGVkIGF3YXkgZm9yIGV2ZW50dWFsIHJldXNlLlxuICAgICAgICAvKiogQGNvbnN0cnVjdG9yICovXG4gICAgICAgIGZ1bmN0aW9uIExhenlVaW50OEFycmF5KCkge1xuICAgICAgICAgIHRoaXMubGVuZ3RoS25vd24gPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLmNodW5rcyA9IFtdOyAvLyBMb2FkZWQgY2h1bmtzLiBJbmRleCBpcyB0aGUgY2h1bmsgbnVtYmVyXG4gICAgICAgIH1cbiAgICAgICAgTGF6eVVpbnQ4QXJyYXkucHJvdG90eXBlLmdldCA9IC8qKiBAdGhpc3tPYmplY3R9ICovIGZ1bmN0aW9uIExhenlVaW50OEFycmF5X2dldChpZHgpIHtcbiAgICAgICAgICBpZiAoaWR4ID4gdGhpcy5sZW5ndGgtMSB8fCBpZHggPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgY2h1bmtPZmZzZXQgPSBpZHggJSB0aGlzLmNodW5rU2l6ZTtcbiAgICAgICAgICB2YXIgY2h1bmtOdW0gPSAoaWR4IC8gdGhpcy5jaHVua1NpemUpfDA7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0dGVyKGNodW5rTnVtKVtjaHVua09mZnNldF07XG4gICAgICAgIH07XG4gICAgICAgIExhenlVaW50OEFycmF5LnByb3RvdHlwZS5zZXREYXRhR2V0dGVyID0gZnVuY3Rpb24gTGF6eVVpbnQ4QXJyYXlfc2V0RGF0YUdldHRlcihnZXR0ZXIpIHtcbiAgICAgICAgICB0aGlzLmdldHRlciA9IGdldHRlcjtcbiAgICAgICAgfTtcbiAgICAgICAgTGF6eVVpbnQ4QXJyYXkucHJvdG90eXBlLmNhY2hlTGVuZ3RoID0gZnVuY3Rpb24gTGF6eVVpbnQ4QXJyYXlfY2FjaGVMZW5ndGgoKSB7XG4gICAgICAgICAgLy8gRmluZCBsZW5ndGhcbiAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgeGhyLm9wZW4oJ0hFQUQnLCB1cmwsIGZhbHNlKTtcbiAgICAgICAgICB4aHIuc2VuZChudWxsKTtcbiAgICAgICAgICBpZiAoISh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwIHx8IHhoci5zdGF0dXMgPT09IDMwNCkpIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGxvYWQgXCIgKyB1cmwgKyBcIi4gU3RhdHVzOiBcIiArIHhoci5zdGF0dXMpO1xuICAgICAgICAgIHZhciBkYXRhbGVuZ3RoID0gTnVtYmVyKHhoci5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtbGVuZ3RoXCIpKTtcbiAgICAgICAgICB2YXIgaGVhZGVyO1xuICAgICAgICAgIHZhciBoYXNCeXRlU2VydmluZyA9IChoZWFkZXIgPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJBY2NlcHQtUmFuZ2VzXCIpKSAmJiBoZWFkZXIgPT09IFwiYnl0ZXNcIjtcbiAgICAgICAgICB2YXIgdXNlc0d6aXAgPSAoaGVhZGVyID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1FbmNvZGluZ1wiKSkgJiYgaGVhZGVyID09PSBcImd6aXBcIjtcbiAgXG4gICAgICAgICAgdmFyIGNodW5rU2l6ZSA9IDEwMjQqMTAyNDsgLy8gQ2h1bmsgc2l6ZSBpbiBieXRlc1xuICBcbiAgICAgICAgICBpZiAoIWhhc0J5dGVTZXJ2aW5nKSBjaHVua1NpemUgPSBkYXRhbGVuZ3RoO1xuICBcbiAgICAgICAgICAvLyBGdW5jdGlvbiB0byBnZXQgYSByYW5nZSBmcm9tIHRoZSByZW1vdGUgVVJMLlxuICAgICAgICAgIHZhciBkb1hIUiA9IChmcm9tLCB0bykgPT4ge1xuICAgICAgICAgICAgaWYgKGZyb20gPiB0bykgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCByYW5nZSAoXCIgKyBmcm9tICsgXCIsIFwiICsgdG8gKyBcIikgb3Igbm8gYnl0ZXMgcmVxdWVzdGVkIVwiKTtcbiAgICAgICAgICAgIGlmICh0byA+IGRhdGFsZW5ndGgtMSkgdGhyb3cgbmV3IEVycm9yKFwib25seSBcIiArIGRhdGFsZW5ndGggKyBcIiBieXRlcyBhdmFpbGFibGUhIHByb2dyYW1tZXIgZXJyb3IhXCIpO1xuICBcbiAgICAgICAgICAgIC8vIFRPRE86IFVzZSBtb3pSZXNwb25zZUFycmF5QnVmZmVyLCByZXNwb25zZVN0cmVhbSwgZXRjLiBpZiBhdmFpbGFibGUuXG4gICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIub3BlbignR0VUJywgdXJsLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoZGF0YWxlbmd0aCAhPT0gY2h1bmtTaXplKSB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIlJhbmdlXCIsIFwiYnl0ZXM9XCIgKyBmcm9tICsgXCItXCIgKyB0byk7XG4gIFxuICAgICAgICAgICAgLy8gU29tZSBoaW50cyB0byB0aGUgYnJvd3NlciB0aGF0IHdlIHdhbnQgYmluYXJ5IGRhdGEuXG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgICAgICAgIGlmICh4aHIub3ZlcnJpZGVNaW1lVHlwZSkge1xuICAgICAgICAgICAgICB4aHIub3ZlcnJpZGVNaW1lVHlwZSgndGV4dC9wbGFpbjsgY2hhcnNldD14LXVzZXItZGVmaW5lZCcpO1xuICAgICAgICAgICAgfVxuICBcbiAgICAgICAgICAgIHhoci5zZW5kKG51bGwpO1xuICAgICAgICAgICAgaWYgKCEoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCB8fCB4aHIuc3RhdHVzID09PSAzMDQpKSB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBsb2FkIFwiICsgdXJsICsgXCIuIFN0YXR1czogXCIgKyB4aHIuc3RhdHVzKTtcbiAgICAgICAgICAgIGlmICh4aHIucmVzcG9uc2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoLyoqIEB0eXBle0FycmF5PG51bWJlcj59ICovKHhoci5yZXNwb25zZSB8fCBbXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGludEFycmF5RnJvbVN0cmluZyh4aHIucmVzcG9uc2VUZXh0IHx8ICcnLCB0cnVlKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHZhciBsYXp5QXJyYXkgPSB0aGlzO1xuICAgICAgICAgIGxhenlBcnJheS5zZXREYXRhR2V0dGVyKChjaHVua051bSkgPT4ge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gY2h1bmtOdW0gKiBjaHVua1NpemU7XG4gICAgICAgICAgICB2YXIgZW5kID0gKGNodW5rTnVtKzEpICogY2h1bmtTaXplIC0gMTsgLy8gaW5jbHVkaW5nIHRoaXMgYnl0ZVxuICAgICAgICAgICAgZW5kID0gTWF0aC5taW4oZW5kLCBkYXRhbGVuZ3RoLTEpOyAvLyBpZiBkYXRhbGVuZ3RoLTEgaXMgc2VsZWN0ZWQsIHRoaXMgaXMgdGhlIGxhc3QgYmxvY2tcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbGF6eUFycmF5LmNodW5rc1tjaHVua051bV0gPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgbGF6eUFycmF5LmNodW5rc1tjaHVua051bV0gPSBkb1hIUihzdGFydCwgZW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgbGF6eUFycmF5LmNodW5rc1tjaHVua051bV0gPT0gJ3VuZGVmaW5lZCcpIHRocm93IG5ldyBFcnJvcignZG9YSFIgZmFpbGVkIScpO1xuICAgICAgICAgICAgcmV0dXJuIGxhenlBcnJheS5jaHVua3NbY2h1bmtOdW1dO1xuICAgICAgICAgIH0pO1xuICBcbiAgICAgICAgICBpZiAodXNlc0d6aXAgfHwgIWRhdGFsZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBzZXJ2ZXIgdXNlcyBnemlwIG9yIGRvZXNuJ3Qgc3VwcGx5IHRoZSBsZW5ndGgsIHdlIGhhdmUgdG8gZG93bmxvYWQgdGhlIHdob2xlIGZpbGUgdG8gZ2V0IHRoZSAodW5jb21wcmVzc2VkKSBsZW5ndGhcbiAgICAgICAgICAgIGNodW5rU2l6ZSA9IGRhdGFsZW5ndGggPSAxOyAvLyB0aGlzIHdpbGwgZm9yY2UgZ2V0dGVyKDApL2RvWEhSIGRvIGRvd25sb2FkIHRoZSB3aG9sZSBmaWxlXG4gICAgICAgICAgICBkYXRhbGVuZ3RoID0gdGhpcy5nZXR0ZXIoMCkubGVuZ3RoO1xuICAgICAgICAgICAgY2h1bmtTaXplID0gZGF0YWxlbmd0aDtcbiAgICAgICAgICAgIG91dChcIkxhenlGaWxlcyBvbiBnemlwIGZvcmNlcyBkb3dubG9hZCBvZiB0aGUgd2hvbGUgZmlsZSB3aGVuIGxlbmd0aCBpcyBhY2Nlc3NlZFwiKTtcbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIHRoaXMuX2xlbmd0aCA9IGRhdGFsZW5ndGg7XG4gICAgICAgICAgdGhpcy5fY2h1bmtTaXplID0gY2h1bmtTaXplO1xuICAgICAgICAgIHRoaXMubGVuZ3RoS25vd24gPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaWYgKCFFTlZJUk9OTUVOVF9JU19XT1JLRVIpIHRocm93ICdDYW5ub3QgZG8gc3luY2hyb25vdXMgYmluYXJ5IFhIUnMgb3V0c2lkZSB3ZWJ3b3JrZXJzIGluIG1vZGVybiBicm93c2Vycy4gVXNlIC0tZW1iZWQtZmlsZSBvciAtLXByZWxvYWQtZmlsZSBpbiBlbWNjJztcbiAgICAgICAgICB2YXIgbGF6eUFycmF5ID0gbmV3IExhenlVaW50OEFycmF5KCk7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobGF6eUFycmF5LCB7XG4gICAgICAgICAgICBsZW5ndGg6IHtcbiAgICAgICAgICAgICAgZ2V0OiAvKiogQHRoaXN7T2JqZWN0fSAqLyBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubGVuZ3RoS25vd24pIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVMZW5ndGgoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlbmd0aDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNodW5rU2l6ZToge1xuICAgICAgICAgICAgICBnZXQ6IC8qKiBAdGhpc3tPYmplY3R9ICovIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5sZW5ndGhLbm93bikge1xuICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZUxlbmd0aCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2h1bmtTaXplO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gIFxuICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0geyBpc0RldmljZTogZmFsc2UsIGNvbnRlbnRzOiBsYXp5QXJyYXkgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJvcGVydGllcyA9IHsgaXNEZXZpY2U6IGZhbHNlLCB1cmw6IHVybCB9O1xuICAgICAgICB9XG4gIFxuICAgICAgICB2YXIgbm9kZSA9IEZTLmNyZWF0ZUZpbGUocGFyZW50LCBuYW1lLCBwcm9wZXJ0aWVzLCBjYW5SZWFkLCBjYW5Xcml0ZSk7XG4gICAgICAgIC8vIFRoaXMgaXMgYSB0b3RhbCBoYWNrLCBidXQgSSB3YW50IHRvIGdldCB0aGlzIGxhenkgZmlsZSBjb2RlIG91dCBvZiB0aGVcbiAgICAgICAgLy8gY29yZSBvZiBNRU1GUy4gSWYgd2Ugd2FudCB0byBrZWVwIHRoaXMgbGF6eSBmaWxlIGNvbmNlcHQgSSBmZWVsIGl0IHNob3VsZFxuICAgICAgICAvLyBiZSBpdHMgb3duIHRoaW4gTEFaWUZTIHByb3h5aW5nIGNhbGxzIHRvIE1FTUZTLlxuICAgICAgICBpZiAocHJvcGVydGllcy5jb250ZW50cykge1xuICAgICAgICAgIG5vZGUuY29udGVudHMgPSBwcm9wZXJ0aWVzLmNvbnRlbnRzO1xuICAgICAgICB9IGVsc2UgaWYgKHByb3BlcnRpZXMudXJsKSB7XG4gICAgICAgICAgbm9kZS5jb250ZW50cyA9IG51bGw7XG4gICAgICAgICAgbm9kZS51cmwgPSBwcm9wZXJ0aWVzLnVybDtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgYSBmdW5jdGlvbiB0aGF0IGRlZmVycyBxdWVyeWluZyB0aGUgZmlsZSBzaXplIHVudGlsIGl0IGlzIGFza2VkIHRoZSBmaXJzdCB0aW1lLlxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhub2RlLCB7XG4gICAgICAgICAgdXNlZEJ5dGVzOiB7XG4gICAgICAgICAgICBnZXQ6IC8qKiBAdGhpcyB7RlNOb2RlfSAqLyBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuY29udGVudHMubGVuZ3RoOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gb3ZlcnJpZGUgZWFjaCBzdHJlYW0gb3Agd2l0aCBvbmUgdGhhdCB0cmllcyB0byBmb3JjZSBsb2FkIHRoZSBsYXp5IGZpbGUgZmlyc3RcbiAgICAgICAgdmFyIHN0cmVhbV9vcHMgPSB7fTtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhub2RlLnN0cmVhbV9vcHMpO1xuICAgICAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgIHZhciBmbiA9IG5vZGUuc3RyZWFtX29wc1trZXldO1xuICAgICAgICAgIHN0cmVhbV9vcHNba2V5XSA9IGZ1bmN0aW9uIGZvcmNlTG9hZExhenlGaWxlKCkge1xuICAgICAgICAgICAgRlMuZm9yY2VMb2FkRmlsZShub2RlKTtcbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiB3cml0ZUNodW5rcyhzdHJlYW0sIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnRzID0gc3RyZWFtLm5vZGUuY29udGVudHM7XG4gICAgICAgICAgaWYgKHBvc2l0aW9uID49IGNvbnRlbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIHZhciBzaXplID0gTWF0aC5taW4oY29udGVudHMubGVuZ3RoIC0gcG9zaXRpb24sIGxlbmd0aCk7XG4gICAgICAgICAgaWYgKGNvbnRlbnRzLnNsaWNlKSB7IC8vIG5vcm1hbCBhcnJheVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgYnVmZmVyW29mZnNldCArIGldID0gY29udGVudHNbcG9zaXRpb24gKyBpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsgLy8gTGF6eVVpbnQ4QXJyYXkgZnJvbSBzeW5jIGJpbmFyeSBYSFJcbiAgICAgICAgICAgICAgYnVmZmVyW29mZnNldCArIGldID0gY29udGVudHMuZ2V0KHBvc2l0aW9uICsgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzaXplO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVzZSBhIGN1c3RvbSByZWFkIGZ1bmN0aW9uXG4gICAgICAgIHN0cmVhbV9vcHMucmVhZCA9IChzdHJlYW0sIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgRlMuZm9yY2VMb2FkRmlsZShub2RlKTtcbiAgICAgICAgICByZXR1cm4gd3JpdGVDaHVua3Moc3RyZWFtLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbilcbiAgICAgICAgfTtcbiAgICAgICAgLy8gdXNlIGEgY3VzdG9tIG1tYXAgZnVuY3Rpb25cbiAgICAgICAgc3RyZWFtX29wcy5tbWFwID0gKHN0cmVhbSwgbGVuZ3RoLCBwb3NpdGlvbiwgcHJvdCwgZmxhZ3MpID0+IHtcbiAgICAgICAgICBGUy5mb3JjZUxvYWRGaWxlKG5vZGUpO1xuICAgICAgICAgIHZhciBwdHIgPSBtbWFwQWxsb2MobGVuZ3RoKTtcbiAgICAgICAgICBpZiAoIXB0cikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3cml0ZUNodW5rcyhzdHJlYW0sIEhFQVA4LCBwdHIsIGxlbmd0aCwgcG9zaXRpb24pO1xuICAgICAgICAgIHJldHVybiB7IHB0cjogcHRyLCBhbGxvY2F0ZWQ6IHRydWUgfTtcbiAgICAgICAgfTtcbiAgICAgICAgbm9kZS5zdHJlYW1fb3BzID0gc3RyZWFtX29wcztcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9LGNyZWF0ZVByZWxvYWRlZEZpbGU6KHBhcmVudCwgbmFtZSwgdXJsLCBjYW5SZWFkLCBjYW5Xcml0ZSwgb25sb2FkLCBvbmVycm9yLCBkb250Q3JlYXRlRmlsZSwgY2FuT3duLCBwcmVGaW5pc2gpID0+IHtcbiAgICAgICAgLy8gVE9ETyB3ZSBzaG91bGQgYWxsb3cgcGVvcGxlIHRvIGp1c3QgcGFzcyBpbiBhIGNvbXBsZXRlIGZpbGVuYW1lIGluc3RlYWRcbiAgICAgICAgLy8gb2YgcGFyZW50IGFuZCBuYW1lIGJlaW5nIHRoYXQgd2UganVzdCBqb2luIHRoZW0gYW55d2F5c1xuICAgICAgICB2YXIgZnVsbG5hbWUgPSBuYW1lID8gUEFUSF9GUy5yZXNvbHZlKFBBVEguam9pbjIocGFyZW50LCBuYW1lKSkgOiBwYXJlbnQ7XG4gICAgICAgIHZhciBkZXAgPSBnZXRVbmlxdWVSdW5EZXBlbmRlbmN5KCdjcCAnICsgZnVsbG5hbWUpOyAvLyBtaWdodCBoYXZlIHNldmVyYWwgYWN0aXZlIHJlcXVlc3RzIGZvciB0aGUgc2FtZSBmdWxsbmFtZVxuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzRGF0YShieXRlQXJyYXkpIHtcbiAgICAgICAgICBmdW5jdGlvbiBmaW5pc2goYnl0ZUFycmF5KSB7XG4gICAgICAgICAgICBpZiAocHJlRmluaXNoKSBwcmVGaW5pc2goKTtcbiAgICAgICAgICAgIGlmICghZG9udENyZWF0ZUZpbGUpIHtcbiAgICAgICAgICAgICAgRlMuY3JlYXRlRGF0YUZpbGUocGFyZW50LCBuYW1lLCBieXRlQXJyYXksIGNhblJlYWQsIGNhbldyaXRlLCBjYW5Pd24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9ubG9hZCkgb25sb2FkKCk7XG4gICAgICAgICAgICByZW1vdmVSdW5EZXBlbmRlbmN5KGRlcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChCcm93c2VyLmhhbmRsZWRCeVByZWxvYWRQbHVnaW4oYnl0ZUFycmF5LCBmdWxsbmFtZSwgZmluaXNoLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAob25lcnJvcikgb25lcnJvcigpO1xuICAgICAgICAgICAgcmVtb3ZlUnVuRGVwZW5kZW5jeShkZXApO1xuICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpbmlzaChieXRlQXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIGFkZFJ1bkRlcGVuZGVuY3koZGVwKTtcbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBhc3luY0xvYWQodXJsLCAoYnl0ZUFycmF5KSA9PiBwcm9jZXNzRGF0YShieXRlQXJyYXkpLCBvbmVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9jZXNzRGF0YSh1cmwpO1xuICAgICAgICB9XG4gICAgICB9LGluZGV4ZWREQjooKSA9PiB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuaW5kZXhlZERCIHx8IHdpbmRvdy5tb3pJbmRleGVkREIgfHwgd2luZG93LndlYmtpdEluZGV4ZWREQiB8fCB3aW5kb3cubXNJbmRleGVkREI7XG4gICAgICB9LERCX05BTUU6KCkgPT4ge1xuICAgICAgICByZXR1cm4gJ0VNX0ZTXycgKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG4gICAgICB9LERCX1ZFUlNJT046MjAsREJfU1RPUkVfTkFNRTpcIkZJTEVfREFUQVwiLHNhdmVGaWxlc1RvREI6KHBhdGhzLCBvbmxvYWQgPSAoKCkgPT4ge30pLCBvbmVycm9yID0gKCgpID0+IHt9KSkgPT4ge1xuICAgICAgICB2YXIgaW5kZXhlZERCID0gRlMuaW5kZXhlZERCKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIG9wZW5SZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4oRlMuREJfTkFNRSgpLCBGUy5EQl9WRVJTSU9OKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJldHVybiBvbmVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICAgIG9wZW5SZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9ICgpID0+IHtcbiAgICAgICAgICBvdXQoJ2NyZWF0aW5nIGRiJyk7XG4gICAgICAgICAgdmFyIGRiID0gb3BlblJlcXVlc3QucmVzdWx0O1xuICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKEZTLkRCX1NUT1JFX05BTUUpO1xuICAgICAgICB9O1xuICAgICAgICBvcGVuUmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgdmFyIGRiID0gb3BlblJlcXVlc3QucmVzdWx0O1xuICAgICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFtGUy5EQl9TVE9SRV9OQU1FXSwgJ3JlYWR3cml0ZScpO1xuICAgICAgICAgIHZhciBmaWxlcyA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKEZTLkRCX1NUT1JFX05BTUUpO1xuICAgICAgICAgIHZhciBvayA9IDAsIGZhaWwgPSAwLCB0b3RhbCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgICAgICBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgICAgICAgICBpZiAoZmFpbCA9PSAwKSBvbmxvYWQoKTsgZWxzZSBvbmVycm9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGhzLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICAgICAgICAgIHZhciBwdXRSZXF1ZXN0ID0gZmlsZXMucHV0KEZTLmFuYWx5emVQYXRoKHBhdGgpLm9iamVjdC5jb250ZW50cywgcGF0aCk7XG4gICAgICAgICAgICBwdXRSZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHsgb2srKzsgaWYgKG9rICsgZmFpbCA9PSB0b3RhbCkgZmluaXNoKCkgfTtcbiAgICAgICAgICAgIHB1dFJlcXVlc3Qub25lcnJvciA9ICgpID0+IHsgZmFpbCsrOyBpZiAob2sgKyBmYWlsID09IHRvdGFsKSBmaW5pc2goKSB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRyYW5zYWN0aW9uLm9uZXJyb3IgPSBvbmVycm9yO1xuICAgICAgICB9O1xuICAgICAgICBvcGVuUmVxdWVzdC5vbmVycm9yID0gb25lcnJvcjtcbiAgICAgIH0sbG9hZEZpbGVzRnJvbURCOihwYXRocywgb25sb2FkID0gKCgpID0+IHt9KSwgb25lcnJvciA9ICgoKSA9PiB7fSkpID0+IHtcbiAgICAgICAgdmFyIGluZGV4ZWREQiA9IEZTLmluZGV4ZWREQigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBvcGVuUmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKEZTLkRCX05BTUUoKSwgRlMuREJfVkVSU0lPTik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gb25lcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgICBvcGVuUmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSBvbmVycm9yOyAvLyBubyBkYXRhYmFzZSB0byBsb2FkIGZyb21cbiAgICAgICAgb3BlblJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgIHZhciBkYiA9IG9wZW5SZXF1ZXN0LnJlc3VsdDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oW0ZTLkRCX1NUT1JFX05BTUVdLCAncmVhZG9ubHknKTtcbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIG9uZXJyb3IoZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBmaWxlcyA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKEZTLkRCX1NUT1JFX05BTUUpO1xuICAgICAgICAgIHZhciBvayA9IDAsIGZhaWwgPSAwLCB0b3RhbCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgICAgICBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgICAgICAgICBpZiAoZmFpbCA9PSAwKSBvbmxvYWQoKTsgZWxzZSBvbmVycm9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGhzLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICAgICAgICAgIHZhciBnZXRSZXF1ZXN0ID0gZmlsZXMuZ2V0KHBhdGgpO1xuICAgICAgICAgICAgZ2V0UmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChGUy5hbmFseXplUGF0aChwYXRoKS5leGlzdHMpIHtcbiAgICAgICAgICAgICAgICBGUy51bmxpbmsocGF0aCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgRlMuY3JlYXRlRGF0YUZpbGUoUEFUSC5kaXJuYW1lKHBhdGgpLCBQQVRILmJhc2VuYW1lKHBhdGgpLCBnZXRSZXF1ZXN0LnJlc3VsdCwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIG9rKys7XG4gICAgICAgICAgICAgIGlmIChvayArIGZhaWwgPT0gdG90YWwpIGZpbmlzaCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdldFJlcXVlc3Qub25lcnJvciA9ICgpID0+IHsgZmFpbCsrOyBpZiAob2sgKyBmYWlsID09IHRvdGFsKSBmaW5pc2goKSB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRyYW5zYWN0aW9uLm9uZXJyb3IgPSBvbmVycm9yO1xuICAgICAgICB9O1xuICAgICAgICBvcGVuUmVxdWVzdC5vbmVycm9yID0gb25lcnJvcjtcbiAgICAgIH19O1xuICB2YXIgU1lTQ0FMTFMgPSB7REVGQVVMVF9QT0xMTUFTSzo1LGNhbGN1bGF0ZUF0OmZ1bmN0aW9uKGRpcmZkLCBwYXRoLCBhbGxvd0VtcHR5KSB7XG4gICAgICAgIGlmIChQQVRILmlzQWJzKHBhdGgpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVsYXRpdmUgcGF0aFxuICAgICAgICB2YXIgZGlyO1xuICAgICAgICBpZiAoZGlyZmQgPT09IC0xMDApIHtcbiAgICAgICAgICBkaXIgPSBGUy5jd2QoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZGlyc3RyZWFtID0gU1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGRpcmZkKTtcbiAgICAgICAgICBkaXIgPSBkaXJzdHJlYW0ucGF0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0aC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgIGlmICghYWxsb3dFbXB0eSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDQpOztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGRpcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUEFUSC5qb2luMihkaXIsIHBhdGgpO1xuICAgICAgfSxkb1N0YXQ6ZnVuY3Rpb24oZnVuYywgcGF0aCwgYnVmKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHN0YXQgPSBmdW5jKHBhdGgpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgaWYgKGUgJiYgZS5ub2RlICYmIFBBVEgubm9ybWFsaXplKHBhdGgpICE9PSBQQVRILm5vcm1hbGl6ZShGUy5nZXRQYXRoKGUubm9kZSkpKSB7XG4gICAgICAgICAgICAvLyBhbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB0cnlpbmcgdG8gbG9vayB1cCB0aGUgcGF0aDsgd2Ugc2hvdWxkIGp1c3QgcmVwb3J0IEVOT1RESVJcbiAgICAgICAgICAgIHJldHVybiAtNTQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgSEVBUDMyWygoYnVmKT4+MildID0gc3RhdC5kZXY7XG4gICAgICAgIEhFQVAzMlsoKChidWYpKyg4KSk+PjIpXSA9IHN0YXQuaW5vO1xuICAgICAgICBIRUFQMzJbKCgoYnVmKSsoMTIpKT4+MildID0gc3RhdC5tb2RlO1xuICAgICAgICBIRUFQVTMyWygoKGJ1ZikrKDE2KSk+PjIpXSA9IHN0YXQubmxpbms7XG4gICAgICAgIEhFQVAzMlsoKChidWYpKygyMCkpPj4yKV0gPSBzdGF0LnVpZDtcbiAgICAgICAgSEVBUDMyWygoKGJ1ZikrKDI0KSk+PjIpXSA9IHN0YXQuZ2lkO1xuICAgICAgICBIRUFQMzJbKCgoYnVmKSsoMjgpKT4+MildID0gc3RhdC5yZGV2O1xuICAgICAgICAodGVtcEk2NCA9IFtzdGF0LnNpemU+Pj4wLCh0ZW1wRG91YmxlPXN0YXQuc2l6ZSwoKyhNYXRoLmFicyh0ZW1wRG91YmxlKSkpID49IDEuMCA/ICh0ZW1wRG91YmxlID4gMC4wID8gKChNYXRoLm1pbigoKyhNYXRoLmZsb29yKCh0ZW1wRG91YmxlKS80Mjk0OTY3Mjk2LjApKSksIDQyOTQ5NjcyOTUuMCkpfDApPj4+MCA6ICh+figoKyhNYXRoLmNlaWwoKHRlbXBEb3VibGUgLSArKCgofn4odGVtcERvdWJsZSkpKT4+PjApKS80Mjk0OTY3Mjk2LjApKSkpKT4+PjApIDogMCldLEhFQVAzMlsoKChidWYpKyg0MCkpPj4yKV0gPSB0ZW1wSTY0WzBdLEhFQVAzMlsoKChidWYpKyg0NCkpPj4yKV0gPSB0ZW1wSTY0WzFdKTtcbiAgICAgICAgSEVBUDMyWygoKGJ1ZikrKDQ4KSk+PjIpXSA9IDQwOTY7XG4gICAgICAgIEhFQVAzMlsoKChidWYpKyg1MikpPj4yKV0gPSBzdGF0LmJsb2NrcztcbiAgICAgICAgdmFyIGF0aW1lID0gc3RhdC5hdGltZS5nZXRUaW1lKCk7XG4gICAgICAgIHZhciBtdGltZSA9IHN0YXQubXRpbWUuZ2V0VGltZSgpO1xuICAgICAgICB2YXIgY3RpbWUgPSBzdGF0LmN0aW1lLmdldFRpbWUoKTtcbiAgICAgICAgKHRlbXBJNjQgPSBbTWF0aC5mbG9vcihhdGltZSAvIDEwMDApPj4+MCwodGVtcERvdWJsZT1NYXRoLmZsb29yKGF0aW1lIC8gMTAwMCksKCsoTWF0aC5hYnModGVtcERvdWJsZSkpKSA+PSAxLjAgPyAodGVtcERvdWJsZSA+IDAuMCA/ICgoTWF0aC5taW4oKCsoTWF0aC5mbG9vcigodGVtcERvdWJsZSkvNDI5NDk2NzI5Ni4wKSkpLCA0Mjk0OTY3Mjk1LjApKXwwKT4+PjAgOiAofn4oKCsoTWF0aC5jZWlsKCh0ZW1wRG91YmxlIC0gKygoKH5+KHRlbXBEb3VibGUpKSk+Pj4wKSkvNDI5NDk2NzI5Ni4wKSkpKSk+Pj4wKSA6IDApXSxIRUFQMzJbKCgoYnVmKSsoNTYpKT4+MildID0gdGVtcEk2NFswXSxIRUFQMzJbKCgoYnVmKSsoNjApKT4+MildID0gdGVtcEk2NFsxXSk7XG4gICAgICAgIEhFQVBVMzJbKCgoYnVmKSsoNjQpKT4+MildID0gKGF0aW1lICUgMTAwMCkgKiAxMDAwO1xuICAgICAgICAodGVtcEk2NCA9IFtNYXRoLmZsb29yKG10aW1lIC8gMTAwMCk+Pj4wLCh0ZW1wRG91YmxlPU1hdGguZmxvb3IobXRpbWUgLyAxMDAwKSwoKyhNYXRoLmFicyh0ZW1wRG91YmxlKSkpID49IDEuMCA/ICh0ZW1wRG91YmxlID4gMC4wID8gKChNYXRoLm1pbigoKyhNYXRoLmZsb29yKCh0ZW1wRG91YmxlKS80Mjk0OTY3Mjk2LjApKSksIDQyOTQ5NjcyOTUuMCkpfDApPj4+MCA6ICh+figoKyhNYXRoLmNlaWwoKHRlbXBEb3VibGUgLSArKCgofn4odGVtcERvdWJsZSkpKT4+PjApKS80Mjk0OTY3Mjk2LjApKSkpKT4+PjApIDogMCldLEhFQVAzMlsoKChidWYpKyg3MikpPj4yKV0gPSB0ZW1wSTY0WzBdLEhFQVAzMlsoKChidWYpKyg3NikpPj4yKV0gPSB0ZW1wSTY0WzFdKTtcbiAgICAgICAgSEVBUFUzMlsoKChidWYpKyg4MCkpPj4yKV0gPSAobXRpbWUgJSAxMDAwKSAqIDEwMDA7XG4gICAgICAgICh0ZW1wSTY0ID0gW01hdGguZmxvb3IoY3RpbWUgLyAxMDAwKT4+PjAsKHRlbXBEb3VibGU9TWF0aC5mbG9vcihjdGltZSAvIDEwMDApLCgrKE1hdGguYWJzKHRlbXBEb3VibGUpKSkgPj0gMS4wID8gKHRlbXBEb3VibGUgPiAwLjAgPyAoKE1hdGgubWluKCgrKE1hdGguZmxvb3IoKHRlbXBEb3VibGUpLzQyOTQ5NjcyOTYuMCkpKSwgNDI5NDk2NzI5NS4wKSl8MCk+Pj4wIDogKH5+KCgrKE1hdGguY2VpbCgodGVtcERvdWJsZSAtICsoKCh+fih0ZW1wRG91YmxlKSkpPj4+MCkpLzQyOTQ5NjcyOTYuMCkpKSkpPj4+MCkgOiAwKV0sSEVBUDMyWygoKGJ1ZikrKDg4KSk+PjIpXSA9IHRlbXBJNjRbMF0sSEVBUDMyWygoKGJ1ZikrKDkyKSk+PjIpXSA9IHRlbXBJNjRbMV0pO1xuICAgICAgICBIRUFQVTMyWygoKGJ1ZikrKDk2KSk+PjIpXSA9IChjdGltZSAlIDEwMDApICogMTAwMDtcbiAgICAgICAgKHRlbXBJNjQgPSBbc3RhdC5pbm8+Pj4wLCh0ZW1wRG91YmxlPXN0YXQuaW5vLCgrKE1hdGguYWJzKHRlbXBEb3VibGUpKSkgPj0gMS4wID8gKHRlbXBEb3VibGUgPiAwLjAgPyAoKE1hdGgubWluKCgrKE1hdGguZmxvb3IoKHRlbXBEb3VibGUpLzQyOTQ5NjcyOTYuMCkpKSwgNDI5NDk2NzI5NS4wKSl8MCk+Pj4wIDogKH5+KCgrKE1hdGguY2VpbCgodGVtcERvdWJsZSAtICsoKCh+fih0ZW1wRG91YmxlKSkpPj4+MCkpLzQyOTQ5NjcyOTYuMCkpKSkpPj4+MCkgOiAwKV0sSEVBUDMyWygoKGJ1ZikrKDEwNCkpPj4yKV0gPSB0ZW1wSTY0WzBdLEhFQVAzMlsoKChidWYpKygxMDgpKT4+MildID0gdGVtcEk2NFsxXSk7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSxkb01zeW5jOmZ1bmN0aW9uKGFkZHIsIHN0cmVhbSwgbGVuLCBmbGFncywgb2Zmc2V0KSB7XG4gICAgICAgIGlmICghRlMuaXNGaWxlKHN0cmVhbS5ub2RlLm1vZGUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZTLkVycm5vRXJyb3IoNDMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmbGFncyAmIDIpIHtcbiAgICAgICAgICAvLyBNQVBfUFJJVkFURSBjYWxscyBuZWVkIG5vdCB0byBiZSBzeW5jZWQgYmFjayB0byB1bmRlcmx5aW5nIGZzXG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJ1ZmZlciA9IEhFQVBVOC5zbGljZShhZGRyLCBhZGRyICsgbGVuKTtcbiAgICAgICAgRlMubXN5bmMoc3RyZWFtLCBidWZmZXIsIG9mZnNldCwgbGVuLCBmbGFncyk7XG4gICAgICB9LHZhcmFyZ3M6dW5kZWZpbmVkLGdldDpmdW5jdGlvbigpIHtcbiAgICAgICAgU1lTQ0FMTFMudmFyYXJncyArPSA0O1xuICAgICAgICB2YXIgcmV0ID0gSEVBUDMyWygoKFNZU0NBTExTLnZhcmFyZ3MpLSg0KSk+PjIpXTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH0sZ2V0U3RyOmZ1bmN0aW9uKHB0cikge1xuICAgICAgICB2YXIgcmV0ID0gVVRGOFRvU3RyaW5nKHB0cik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9LGdldFN0cmVhbUZyb21GRDpmdW5jdGlvbihmZCkge1xuICAgICAgICB2YXIgc3RyZWFtID0gRlMuZ2V0U3RyZWFtKGZkKTtcbiAgICAgICAgaWYgKCFzdHJlYW0pIHRocm93IG5ldyBGUy5FcnJub0Vycm9yKDgpO1xuICAgICAgICByZXR1cm4gc3RyZWFtO1xuICAgICAgfX07XG4gIGZ1bmN0aW9uIF9fX3N5c2NhbGxfY2htb2QocGF0aCwgbW9kZSkge1xuICB0cnkge1xuICBcbiAgICAgIHBhdGggPSBTWVNDQUxMUy5nZXRTdHIocGF0aCk7XG4gICAgICBGUy5jaG1vZChwYXRoLCBtb2RlKTtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAodHlwZW9mIEZTID09ICd1bmRlZmluZWQnIHx8ICEoZS5uYW1lID09PSAnRXJybm9FcnJvcicpKSB0aHJvdyBlO1xuICAgIHJldHVybiAtZS5lcnJubztcbiAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX19fc3lzY2FsbF9mYWNjZXNzYXQoZGlyZmQsIHBhdGgsIGFtb2RlLCBmbGFncykge1xuICB0cnkge1xuICBcbiAgICAgIHBhdGggPSBTWVNDQUxMUy5nZXRTdHIocGF0aCk7XG4gICAgICBwYXRoID0gU1lTQ0FMTFMuY2FsY3VsYXRlQXQoZGlyZmQsIHBhdGgpO1xuICAgICAgaWYgKGFtb2RlICYgfjcpIHtcbiAgICAgICAgLy8gbmVlZCBhIHZhbGlkIG1vZGVcbiAgICAgICAgcmV0dXJuIC0yODtcbiAgICAgIH1cbiAgICAgIHZhciBsb29rdXAgPSBGUy5sb29rdXBQYXRoKHBhdGgsIHsgZm9sbG93OiB0cnVlIH0pO1xuICAgICAgdmFyIG5vZGUgPSBsb29rdXAubm9kZTtcbiAgICAgIGlmICghbm9kZSkge1xuICAgICAgICByZXR1cm4gLTQ0O1xuICAgICAgfVxuICAgICAgdmFyIHBlcm1zID0gJyc7XG4gICAgICBpZiAoYW1vZGUgJiA0KSBwZXJtcyArPSAncic7XG4gICAgICBpZiAoYW1vZGUgJiAyKSBwZXJtcyArPSAndyc7XG4gICAgICBpZiAoYW1vZGUgJiAxKSBwZXJtcyArPSAneCc7XG4gICAgICBpZiAocGVybXMgLyogb3RoZXJ3aXNlLCB0aGV5J3ZlIGp1c3QgcGFzc2VkIEZfT0sgKi8gJiYgRlMubm9kZVBlcm1pc3Npb25zKG5vZGUsIHBlcm1zKSkge1xuICAgICAgICByZXR1cm4gLTI7XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKHR5cGVvZiBGUyA9PSAndW5kZWZpbmVkJyB8fCAhKGUubmFtZSA9PT0gJ0Vycm5vRXJyb3InKSkgdGhyb3cgZTtcbiAgICByZXR1cm4gLWUuZXJybm87XG4gIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9fX3N5c2NhbGxfZmNobW9kKGZkLCBtb2RlKSB7XG4gIHRyeSB7XG4gIFxuICAgICAgRlMuZmNobW9kKGZkLCBtb2RlKTtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAodHlwZW9mIEZTID09ICd1bmRlZmluZWQnIHx8ICEoZS5uYW1lID09PSAnRXJybm9FcnJvcicpKSB0aHJvdyBlO1xuICAgIHJldHVybiAtZS5lcnJubztcbiAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX19fc3lzY2FsbF9mY2hvd24zMihmZCwgb3duZXIsIGdyb3VwKSB7XG4gIHRyeSB7XG4gIFxuICAgICAgRlMuZmNob3duKGZkLCBvd25lciwgZ3JvdXApO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIGlmICh0eXBlb2YgRlMgPT0gJ3VuZGVmaW5lZCcgfHwgIShlLm5hbWUgPT09ICdFcnJub0Vycm9yJykpIHRocm93IGU7XG4gICAgcmV0dXJuIC1lLmVycm5vO1xuICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRFcnJObyh2YWx1ZSkge1xuICAgICAgSEVBUDMyWygoX19fZXJybm9fbG9jYXRpb24oKSk+PjIpXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgXG4gIGZ1bmN0aW9uIF9fX3N5c2NhbGxfZmNudGw2NChmZCwgY21kLCB2YXJhcmdzKSB7XG4gIFNZU0NBTExTLnZhcmFyZ3MgPSB2YXJhcmdzO1xuICB0cnkge1xuICBcbiAgICAgIHZhciBzdHJlYW0gPSBTWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO1xuICAgICAgc3dpdGNoIChjbWQpIHtcbiAgICAgICAgY2FzZSAwOiB7XG4gICAgICAgICAgdmFyIGFyZyA9IFNZU0NBTExTLmdldCgpO1xuICAgICAgICAgIGlmIChhcmcgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gLTI4O1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbmV3U3RyZWFtO1xuICAgICAgICAgIG5ld1N0cmVhbSA9IEZTLmNyZWF0ZVN0cmVhbShzdHJlYW0sIGFyZyk7XG4gICAgICAgICAgcmV0dXJuIG5ld1N0cmVhbS5mZDtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDE6XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gMDsgIC8vIEZEX0NMT0VYRUMgbWFrZXMgbm8gc2Vuc2UgZm9yIGEgc2luZ2xlIHByb2Nlc3MuXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gc3RyZWFtLmZsYWdzO1xuICAgICAgICBjYXNlIDQ6IHtcbiAgICAgICAgICB2YXIgYXJnID0gU1lTQ0FMTFMuZ2V0KCk7XG4gICAgICAgICAgc3RyZWFtLmZsYWdzIHw9IGFyZztcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDU6XG4gICAgICAgIC8qIGNhc2UgNTogQ3VycmVudGx5IGluIG11c2wgRl9HRVRMSzY0IGhhcyBzYW1lIHZhbHVlIGFzIEZfR0VUTEssIHNvIG9taXR0ZWQgdG8gYXZvaWQgZHVwbGljYXRlIGNhc2UgYmxvY2tzLiBJZiB0aGF0IGNoYW5nZXMsIHVuY29tbWVudCB0aGlzICovIHtcbiAgICAgICAgICBcbiAgICAgICAgICB2YXIgYXJnID0gU1lTQ0FMTFMuZ2V0KCk7XG4gICAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgICAgLy8gV2UncmUgYWx3YXlzIHVubG9ja2VkLlxuICAgICAgICAgIEhFQVAxNlsoKChhcmcpKyhvZmZzZXQpKT4+MSldID0gMjtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDY6XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgLyogY2FzZSA2OiBDdXJyZW50bHkgaW4gbXVzbCBGX1NFVExLNjQgaGFzIHNhbWUgdmFsdWUgYXMgRl9TRVRMSywgc28gb21pdHRlZCB0byBhdm9pZCBkdXBsaWNhdGUgY2FzZSBibG9ja3MuIElmIHRoYXQgY2hhbmdlcywgdW5jb21tZW50IHRoaXMgKi9cbiAgICAgICAgLyogY2FzZSA3OiBDdXJyZW50bHkgaW4gbXVzbCBGX1NFVExLVzY0IGhhcyBzYW1lIHZhbHVlIGFzIEZfU0VUTEtXLCBzbyBvbWl0dGVkIHRvIGF2b2lkIGR1cGxpY2F0ZSBjYXNlIGJsb2Nrcy4gSWYgdGhhdCBjaGFuZ2VzLCB1bmNvbW1lbnQgdGhpcyAqL1xuICAgICAgICAgIFxuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiAwOyAvLyBQcmV0ZW5kIHRoYXQgdGhlIGxvY2tpbmcgaXMgc3VjY2Vzc2Z1bC5cbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIHJldHVybiAtMjg7IC8vIFRoZXNlIGFyZSBmb3Igc29ja2V0cy4gV2UgZG9uJ3QgaGF2ZSB0aGVtIGZ1bGx5IGltcGxlbWVudGVkIHlldC5cbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIC8vIG11c2wgdHJ1c3RzIGdldG93biByZXR1cm4gdmFsdWVzLCBkdWUgdG8gYSBidWcgd2hlcmUgdGhleSBtdXN0IGJlLCBhcyB0aGV5IG92ZXJsYXAgd2l0aCBlcnJvcnMuIGp1c3QgcmV0dXJuIC0xIGhlcmUsIHNvIGZjbnRsKCkgcmV0dXJucyB0aGF0LCBhbmQgd2Ugc2V0IGVycm5vIG91cnNlbHZlcy5cbiAgICAgICAgICBzZXRFcnJObygyOCk7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgcmV0dXJuIC0yODtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAodHlwZW9mIEZTID09ICd1bmRlZmluZWQnIHx8ICEoZS5uYW1lID09PSAnRXJybm9FcnJvcicpKSB0aHJvdyBlO1xuICAgIHJldHVybiAtZS5lcnJubztcbiAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX19fc3lzY2FsbF9mc3RhdDY0KGZkLCBidWYpIHtcbiAgdHJ5IHtcbiAgXG4gICAgICB2YXIgc3RyZWFtID0gU1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTtcbiAgICAgIHJldHVybiBTWVNDQUxMUy5kb1N0YXQoRlMuc3RhdCwgc3RyZWFtLnBhdGgsIGJ1Zik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIGlmICh0eXBlb2YgRlMgPT0gJ3VuZGVmaW5lZCcgfHwgIShlLm5hbWUgPT09ICdFcnJub0Vycm9yJykpIHRocm93IGU7XG4gICAgcmV0dXJuIC1lLmVycm5vO1xuICB9XG4gIH1cblxuICB2YXIgTUFYX0lOVDUzID0gOTAwNzE5OTI1NDc0MDk5MjtcbiAgXG4gIHZhciBNSU5fSU5UNTMgPSAtOTAwNzE5OTI1NDc0MDk5MjtcbiAgZnVuY3Rpb24gYmlnaW50VG9JNTNDaGVja2VkKG51bSkge1xuICAgICAgcmV0dXJuIChudW0gPCBNSU5fSU5UNTMgfHwgbnVtID4gTUFYX0lOVDUzKSA/IE5hTiA6IE51bWJlcihudW0pO1xuICAgIH1cbiAgXG4gIFxuICBcbiAgXG4gIGZ1bmN0aW9uIF9fX3N5c2NhbGxfZnRydW5jYXRlNjQoZmQsIC8qKiBAdHlwZSB7IUJpZ0ludH0gKi8gbGVuZ3RoKSB7XG4gIHRyeSB7XG4gIFxuICAgICAgbGVuZ3RoID0gYmlnaW50VG9JNTNDaGVja2VkKGxlbmd0aCk7IGlmIChpc05hTihsZW5ndGgpKSByZXR1cm4gLTYxO1xuICAgICAgRlMuZnRydW5jYXRlKGZkLCBsZW5ndGgpO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIGlmICh0eXBlb2YgRlMgPT0gJ3VuZGVmaW5lZCcgfHwgIShlLm5hbWUgPT09ICdFcnJub0Vycm9yJykpIHRocm93IGU7XG4gICAgcmV0dXJuIC1lLmVycm5vO1xuICB9XG4gIH1cblxuICBmdW5jdGlvbiBfX19zeXNjYWxsX2dldGN3ZChidWYsIHNpemUpIHtcbiAgdHJ5IHtcbiAgXG4gICAgICBpZiAoc2l6ZSA9PT0gMCkgcmV0dXJuIC0yODtcbiAgICAgIHZhciBjd2QgPSBGUy5jd2QoKTtcbiAgICAgIHZhciBjd2RMZW5ndGhJbkJ5dGVzID0gbGVuZ3RoQnl0ZXNVVEY4KGN3ZCkgKyAxO1xuICAgICAgaWYgKHNpemUgPCBjd2RMZW5ndGhJbkJ5dGVzKSByZXR1cm4gLTY4O1xuICAgICAgc3RyaW5nVG9VVEY4KGN3ZCwgYnVmLCBzaXplKTtcbiAgICAgIHJldHVybiBjd2RMZW5ndGhJbkJ5dGVzO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAodHlwZW9mIEZTID09ICd1bmRlZmluZWQnIHx8ICEoZS5uYW1lID09PSAnRXJybm9FcnJvcicpKSB0aHJvdyBlO1xuICAgIHJldHVybiAtZS5lcnJubztcbiAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX19fc3lzY2FsbF9pb2N0bChmZCwgb3AsIHZhcmFyZ3MpIHtcbiAgU1lTQ0FMTFMudmFyYXJncyA9IHZhcmFyZ3M7XG4gIHRyeSB7XG4gIFxuICAgICAgdmFyIHN0cmVhbSA9IFNZU0NBTExTLmdldFN0cmVhbUZyb21GRChmZCk7XG4gICAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICAgIGNhc2UgMjE1MDk6XG4gICAgICAgIGNhc2UgMjE1MDU6IHtcbiAgICAgICAgICBpZiAoIXN0cmVhbS50dHkpIHJldHVybiAtNTk7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyMTUxMDpcbiAgICAgICAgY2FzZSAyMTUxMTpcbiAgICAgICAgY2FzZSAyMTUxMjpcbiAgICAgICAgY2FzZSAyMTUwNjpcbiAgICAgICAgY2FzZSAyMTUwNzpcbiAgICAgICAgY2FzZSAyMTUwODoge1xuICAgICAgICAgIGlmICghc3RyZWFtLnR0eSkgcmV0dXJuIC01OTtcbiAgICAgICAgICByZXR1cm4gMDsgLy8gbm8tb3AsIG5vdCBhY3R1YWxseSBhZGp1c3RpbmcgdGVybWluYWwgc2V0dGluZ3NcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDIxNTE5OiB7XG4gICAgICAgICAgaWYgKCFzdHJlYW0udHR5KSByZXR1cm4gLTU5O1xuICAgICAgICAgIHZhciBhcmdwID0gU1lTQ0FMTFMuZ2V0KCk7XG4gICAgICAgICAgSEVBUDMyWygoYXJncCk+PjIpXSA9IDA7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyMTUyMDoge1xuICAgICAgICAgIGlmICghc3RyZWFtLnR0eSkgcmV0dXJuIC01OTtcbiAgICAgICAgICByZXR1cm4gLTI4OyAvLyBub3Qgc3VwcG9ydGVkXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyMTUzMToge1xuICAgICAgICAgIHZhciBhcmdwID0gU1lTQ0FMTFMuZ2V0KCk7XG4gICAgICAgICAgcmV0dXJuIEZTLmlvY3RsKHN0cmVhbSwgb3AsIGFyZ3ApO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMjE1MjM6IHtcbiAgICAgICAgICAvLyBUT0RPOiBpbiB0aGVvcnkgd2Ugc2hvdWxkIHdyaXRlIHRvIHRoZSB3aW5zaXplIHN0cnVjdCB0aGF0IGdldHNcbiAgICAgICAgICAvLyBwYXNzZWQgaW4sIGJ1dCBmb3Igbm93IG11c2wgZG9lc24ndCByZWFkIGFueXRoaW5nIG9uIGl0XG4gICAgICAgICAgaWYgKCFzdHJlYW0udHR5KSByZXR1cm4gLTU5O1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMjE1MjQ6IHtcbiAgICAgICAgICAvLyBUT0RPOiB0ZWNobmljYWxseSwgdGhpcyBpb2N0bCBjYWxsIHNob3VsZCBjaGFuZ2UgdGhlIHdpbmRvdyBzaXplLlxuICAgICAgICAgIC8vIGJ1dCwgc2luY2UgZW1zY3JpcHRlbiBkb2Vzbid0IGhhdmUgYW55IGNvbmNlcHQgb2YgYSB0ZXJtaW5hbCB3aW5kb3dcbiAgICAgICAgICAvLyB5ZXQsIHdlJ2xsIGp1c3Qgc2lsZW50bHkgdGhyb3cgaXQgYXdheSBhcyB3ZSBkbyBUSU9DR1dJTlNaXG4gICAgICAgICAgaWYgKCFzdHJlYW0udHR5KSByZXR1cm4gLTU5O1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiAtMjg7IC8vIG5vdCBzdXBwb3J0ZWRcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKHR5cGVvZiBGUyA9PSAndW5kZWZpbmVkJyB8fCAhKGUubmFtZSA9PT0gJ0Vycm5vRXJyb3InKSkgdGhyb3cgZTtcbiAgICByZXR1cm4gLWUuZXJybm87XG4gIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9fX3N5c2NhbGxfbHN0YXQ2NChwYXRoLCBidWYpIHtcbiAgdHJ5IHtcbiAgXG4gICAgICBwYXRoID0gU1lTQ0FMTFMuZ2V0U3RyKHBhdGgpO1xuICAgICAgcmV0dXJuIFNZU0NBTExTLmRvU3RhdChGUy5sc3RhdCwgcGF0aCwgYnVmKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKHR5cGVvZiBGUyA9PSAndW5kZWZpbmVkJyB8fCAhKGUubmFtZSA9PT0gJ0Vycm5vRXJyb3InKSkgdGhyb3cgZTtcbiAgICByZXR1cm4gLWUuZXJybm87XG4gIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9fX3N5c2NhbGxfbWtkaXJhdChkaXJmZCwgcGF0aCwgbW9kZSkge1xuICB0cnkge1xuICBcbiAgICAgIHBhdGggPSBTWVNDQUxMUy5nZXRTdHIocGF0aCk7XG4gICAgICBwYXRoID0gU1lTQ0FMTFMuY2FsY3VsYXRlQXQoZGlyZmQsIHBhdGgpO1xuICAgICAgLy8gcmVtb3ZlIGEgdHJhaWxpbmcgc2xhc2gsIGlmIG9uZSAtIC9hL2IvIGhhcyBiYXNlbmFtZSBvZiAnJywgYnV0XG4gICAgICAvLyB3ZSB3YW50IHRvIGNyZWF0ZSBiIGluIHRoZSBjb250ZXh0IG9mIHRoaXMgZnVuY3Rpb25cbiAgICAgIHBhdGggPSBQQVRILm5vcm1hbGl6ZShwYXRoKTtcbiAgICAgIGlmIChwYXRoW3BhdGgubGVuZ3RoLTFdID09PSAnLycpIHBhdGggPSBwYXRoLnN1YnN0cigwLCBwYXRoLmxlbmd0aC0xKTtcbiAgICAgIEZTLm1rZGlyKHBhdGgsIG1vZGUsIDApO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIGlmICh0eXBlb2YgRlMgPT0gJ3VuZGVmaW5lZCcgfHwgIShlLm5hbWUgPT09ICdFcnJub0Vycm9yJykpIHRocm93IGU7XG4gICAgcmV0dXJuIC1lLmVycm5vO1xuICB9XG4gIH1cblxuICBmdW5jdGlvbiBfX19zeXNjYWxsX25ld2ZzdGF0YXQoZGlyZmQsIHBhdGgsIGJ1ZiwgZmxhZ3MpIHtcbiAgdHJ5IHtcbiAgXG4gICAgICBwYXRoID0gU1lTQ0FMTFMuZ2V0U3RyKHBhdGgpO1xuICAgICAgdmFyIG5vZm9sbG93ID0gZmxhZ3MgJiAyNTY7XG4gICAgICB2YXIgYWxsb3dFbXB0eSA9IGZsYWdzICYgNDA5NjtcbiAgICAgIGZsYWdzID0gZmxhZ3MgJiAofjY0MDApO1xuICAgICAgcGF0aCA9IFNZU0NBTExTLmNhbGN1bGF0ZUF0KGRpcmZkLCBwYXRoLCBhbGxvd0VtcHR5KTtcbiAgICAgIHJldHVybiBTWVNDQUxMUy5kb1N0YXQobm9mb2xsb3cgPyBGUy5sc3RhdCA6IEZTLnN0YXQsIHBhdGgsIGJ1Zik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIGlmICh0eXBlb2YgRlMgPT0gJ3VuZGVmaW5lZCcgfHwgIShlLm5hbWUgPT09ICdFcnJub0Vycm9yJykpIHRocm93IGU7XG4gICAgcmV0dXJuIC1lLmVycm5vO1xuICB9XG4gIH1cblxuICBmdW5jdGlvbiBfX19zeXNjYWxsX29wZW5hdChkaXJmZCwgcGF0aCwgZmxhZ3MsIHZhcmFyZ3MpIHtcbiAgU1lTQ0FMTFMudmFyYXJncyA9IHZhcmFyZ3M7XG4gIHRyeSB7XG4gIFxuICAgICAgcGF0aCA9IFNZU0NBTExTLmdldFN0cihwYXRoKTtcbiAgICAgIHBhdGggPSBTWVNDQUxMUy5jYWxjdWxhdGVBdChkaXJmZCwgcGF0aCk7XG4gICAgICB2YXIgbW9kZSA9IHZhcmFyZ3MgPyBTWVNDQUxMUy5nZXQoKSA6IDA7XG4gICAgICByZXR1cm4gRlMub3BlbihwYXRoLCBmbGFncywgbW9kZSkuZmQ7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIGlmICh0eXBlb2YgRlMgPT0gJ3VuZGVmaW5lZCcgfHwgIShlLm5hbWUgPT09ICdFcnJub0Vycm9yJykpIHRocm93IGU7XG4gICAgcmV0dXJuIC1lLmVycm5vO1xuICB9XG4gIH1cblxuICBmdW5jdGlvbiBfX19zeXNjYWxsX3JlYWRsaW5rYXQoZGlyZmQsIHBhdGgsIGJ1ZiwgYnVmc2l6ZSkge1xuICB0cnkge1xuICBcbiAgICAgIHBhdGggPSBTWVNDQUxMUy5nZXRTdHIocGF0aCk7XG4gICAgICBwYXRoID0gU1lTQ0FMTFMuY2FsY3VsYXRlQXQoZGlyZmQsIHBhdGgpO1xuICAgICAgaWYgKGJ1ZnNpemUgPD0gMCkgcmV0dXJuIC0yODtcbiAgICAgIHZhciByZXQgPSBGUy5yZWFkbGluayhwYXRoKTtcbiAgXG4gICAgICB2YXIgbGVuID0gTWF0aC5taW4oYnVmc2l6ZSwgbGVuZ3RoQnl0ZXNVVEY4KHJldCkpO1xuICAgICAgdmFyIGVuZENoYXIgPSBIRUFQOFtidWYrbGVuXTtcbiAgICAgIHN0cmluZ1RvVVRGOChyZXQsIGJ1ZiwgYnVmc2l6ZSsxKTtcbiAgICAgIC8vIHJlYWRsaW5rIGlzIG9uZSBvZiB0aGUgcmFyZSBmdW5jdGlvbnMgdGhhdCB3cml0ZSBvdXQgYSBDIHN0cmluZywgYnV0IGRvZXMgbmV2ZXIgYXBwZW5kIGEgbnVsbCB0byB0aGUgb3V0cHV0IGJ1ZmZlcighKVxuICAgICAgLy8gc3RyaW5nVG9VVEY4KCkgYWx3YXlzIGFwcGVuZHMgYSBudWxsIGJ5dGUsIHNvIHJlc3RvcmUgdGhlIGNoYXJhY3RlciB1bmRlciB0aGUgbnVsbCBieXRlIGFmdGVyIHRoZSB3cml0ZS5cbiAgICAgIEhFQVA4W2J1ZitsZW5dID0gZW5kQ2hhcjtcbiAgICAgIHJldHVybiBsZW47XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIGlmICh0eXBlb2YgRlMgPT0gJ3VuZGVmaW5lZCcgfHwgIShlLm5hbWUgPT09ICdFcnJub0Vycm9yJykpIHRocm93IGU7XG4gICAgcmV0dXJuIC1lLmVycm5vO1xuICB9XG4gIH1cblxuICBmdW5jdGlvbiBfX19zeXNjYWxsX3JtZGlyKHBhdGgpIHtcbiAgdHJ5IHtcbiAgXG4gICAgICBwYXRoID0gU1lTQ0FMTFMuZ2V0U3RyKHBhdGgpO1xuICAgICAgRlMucm1kaXIocGF0aCk7XG4gICAgICByZXR1cm4gMDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKHR5cGVvZiBGUyA9PSAndW5kZWZpbmVkJyB8fCAhKGUubmFtZSA9PT0gJ0Vycm5vRXJyb3InKSkgdGhyb3cgZTtcbiAgICByZXR1cm4gLWUuZXJybm87XG4gIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9fX3N5c2NhbGxfc3RhdDY0KHBhdGgsIGJ1Zikge1xuICB0cnkge1xuICBcbiAgICAgIHBhdGggPSBTWVNDQUxMUy5nZXRTdHIocGF0aCk7XG4gICAgICByZXR1cm4gU1lTQ0FMTFMuZG9TdGF0KEZTLnN0YXQsIHBhdGgsIGJ1Zik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIGlmICh0eXBlb2YgRlMgPT0gJ3VuZGVmaW5lZCcgfHwgIShlLm5hbWUgPT09ICdFcnJub0Vycm9yJykpIHRocm93IGU7XG4gICAgcmV0dXJuIC1lLmVycm5vO1xuICB9XG4gIH1cblxuICBmdW5jdGlvbiBfX19zeXNjYWxsX3VubGlua2F0KGRpcmZkLCBwYXRoLCBmbGFncykge1xuICB0cnkge1xuICBcbiAgICAgIHBhdGggPSBTWVNDQUxMUy5nZXRTdHIocGF0aCk7XG4gICAgICBwYXRoID0gU1lTQ0FMTFMuY2FsY3VsYXRlQXQoZGlyZmQsIHBhdGgpO1xuICAgICAgaWYgKGZsYWdzID09PSAwKSB7XG4gICAgICAgIEZTLnVubGluayhwYXRoKTtcbiAgICAgIH0gZWxzZSBpZiAoZmxhZ3MgPT09IDUxMikge1xuICAgICAgICBGUy5ybWRpcihwYXRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFib3J0KCdJbnZhbGlkIGZsYWdzIHBhc3NlZCB0byB1bmxpbmthdCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIGlmICh0eXBlb2YgRlMgPT0gJ3VuZGVmaW5lZCcgfHwgIShlLm5hbWUgPT09ICdFcnJub0Vycm9yJykpIHRocm93IGU7XG4gICAgcmV0dXJuIC1lLmVycm5vO1xuICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkSTUzRnJvbUk2NChwdHIpIHtcbiAgICAgIHJldHVybiBIRUFQVTMyW3B0cj4+Ml0gKyBIRUFQMzJbcHRyKzQ+PjJdICogNDI5NDk2NzI5NjtcbiAgICB9XG4gIFxuICBmdW5jdGlvbiBfX19zeXNjYWxsX3V0aW1lbnNhdChkaXJmZCwgcGF0aCwgdGltZXMsIGZsYWdzKSB7XG4gIHRyeSB7XG4gIFxuICAgICAgcGF0aCA9IFNZU0NBTExTLmdldFN0cihwYXRoKTtcbiAgICAgIHBhdGggPSBTWVNDQUxMUy5jYWxjdWxhdGVBdChkaXJmZCwgcGF0aCwgdHJ1ZSk7XG4gICAgICBpZiAoIXRpbWVzKSB7XG4gICAgICAgIHZhciBhdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBtdGltZSA9IGF0aW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHNlY29uZHMgPSByZWFkSTUzRnJvbUk2NCh0aW1lcyk7XG4gICAgICAgIHZhciBuYW5vc2Vjb25kcyA9IEhFQVAzMlsoKCh0aW1lcykrKDgpKT4+MildO1xuICAgICAgICBhdGltZSA9IChzZWNvbmRzKjEwMDApICsgKG5hbm9zZWNvbmRzLygxMDAwKjEwMDApKTtcbiAgICAgICAgdGltZXMgKz0gMTY7XG4gICAgICAgIHNlY29uZHMgPSByZWFkSTUzRnJvbUk2NCh0aW1lcyk7XG4gICAgICAgIG5hbm9zZWNvbmRzID0gSEVBUDMyWygoKHRpbWVzKSsoOCkpPj4yKV07XG4gICAgICAgIG10aW1lID0gKHNlY29uZHMqMTAwMCkgKyAobmFub3NlY29uZHMvKDEwMDAqMTAwMCkpO1xuICAgICAgfVxuICAgICAgRlMudXRpbWUocGF0aCwgYXRpbWUsIG10aW1lKTtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAodHlwZW9mIEZTID09ICd1bmRlZmluZWQnIHx8ICEoZS5uYW1lID09PSAnRXJybm9FcnJvcicpKSB0aHJvdyBlO1xuICAgIHJldHVybiAtZS5lcnJubztcbiAgfVxuICB9XG5cbiAgdmFyIG5vd0lzTW9ub3RvbmljID0gdHJ1ZTs7XG4gIGZ1bmN0aW9uIF9fZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pYygpIHtcbiAgICAgIHJldHVybiBub3dJc01vbm90b25pYztcbiAgICB9XG5cbiAgXG4gIGZ1bmN0aW9uIF9faXNMZWFwWWVhcih5ZWFyKSB7XG4gICAgICAgIHJldHVybiB5ZWFyJTQgPT09IDAgJiYgKHllYXIlMTAwICE9PSAwIHx8IHllYXIlNDAwID09PSAwKTtcbiAgICB9XG4gIFxuICB2YXIgX19NT05USF9EQVlTX0xFQVBfQ1VNVUxBVElWRSA9IFswLDMxLDYwLDkxLDEyMSwxNTIsMTgyLDIxMywyNDQsMjc0LDMwNSwzMzVdO1xuICBcbiAgdmFyIF9fTU9OVEhfREFZU19SRUdVTEFSX0NVTVVMQVRJVkUgPSBbMCwzMSw1OSw5MCwxMjAsMTUxLDE4MSwyMTIsMjQzLDI3MywzMDQsMzM0XTtcbiAgZnVuY3Rpb24gX195ZGF5X2Zyb21fZGF0ZShkYXRlKSB7XG4gICAgICB2YXIgaXNMZWFwWWVhciA9IF9faXNMZWFwWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkpO1xuICAgICAgdmFyIG1vbnRoRGF5c0N1bXVsYXRpdmUgPSAoaXNMZWFwWWVhciA/IF9fTU9OVEhfREFZU19MRUFQX0NVTVVMQVRJVkUgOiBfX01PTlRIX0RBWVNfUkVHVUxBUl9DVU1VTEFUSVZFKTtcbiAgICAgIHZhciB5ZGF5ID0gbW9udGhEYXlzQ3VtdWxhdGl2ZVtkYXRlLmdldE1vbnRoKCldICsgZGF0ZS5nZXREYXRlKCkgLSAxOyAvLyAtMSBzaW5jZSBpdCdzIGRheXMgc2luY2UgSmFuIDFcbiAgXG4gICAgICByZXR1cm4geWRheTtcbiAgICB9XG4gIGZ1bmN0aW9uIF9fbG9jYWx0aW1lX2pzKHRpbWUsIHRtUHRyKSB7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHJlYWRJNTNGcm9tSTY0KHRpbWUpKjEwMDApO1xuICAgICAgSEVBUDMyWygodG1QdHIpPj4yKV0gPSBkYXRlLmdldFNlY29uZHMoKTtcbiAgICAgIEhFQVAzMlsoKCh0bVB0cikrKDQpKT4+MildID0gZGF0ZS5nZXRNaW51dGVzKCk7XG4gICAgICBIRUFQMzJbKCgodG1QdHIpKyg4KSk+PjIpXSA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgICAgIEhFQVAzMlsoKCh0bVB0cikrKDEyKSk+PjIpXSA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgICAgSEVBUDMyWygoKHRtUHRyKSsoMTYpKT4+MildID0gZGF0ZS5nZXRNb250aCgpO1xuICAgICAgSEVBUDMyWygoKHRtUHRyKSsoMjApKT4+MildID0gZGF0ZS5nZXRGdWxsWWVhcigpLTE5MDA7XG4gICAgICBIRUFQMzJbKCgodG1QdHIpKygyNCkpPj4yKV0gPSBkYXRlLmdldERheSgpO1xuICBcbiAgICAgIHZhciB5ZGF5ID0gX195ZGF5X2Zyb21fZGF0ZShkYXRlKXwwO1xuICAgICAgSEVBUDMyWygoKHRtUHRyKSsoMjgpKT4+MildID0geWRheTtcbiAgICAgIEhFQVAzMlsoKCh0bVB0cikrKDM2KSk+PjIpXSA9IC0oZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjApO1xuICBcbiAgICAgIC8vIEF0dGVudGlvbjogRFNUIGlzIGluIERlY2VtYmVyIGluIFNvdXRoLCBhbmQgc29tZSByZWdpb25zIGRvbid0IGhhdmUgRFNUIGF0IGFsbC5cbiAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgMCwgMSk7XG4gICAgICB2YXIgc3VtbWVyT2Zmc2V0ID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCA2LCAxKS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgICAgdmFyIHdpbnRlck9mZnNldCA9IHN0YXJ0LmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgICB2YXIgZHN0ID0gKHN1bW1lck9mZnNldCAhPSB3aW50ZXJPZmZzZXQgJiYgZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpID09IE1hdGgubWluKHdpbnRlck9mZnNldCwgc3VtbWVyT2Zmc2V0KSl8MDtcbiAgICAgIEhFQVAzMlsoKCh0bVB0cikrKDMyKSk+PjIpXSA9IGRzdDtcbiAgICB9XG5cbiAgZnVuY3Rpb24gYWxsb2NhdGVVVEY4KHN0cikge1xuICAgICAgdmFyIHNpemUgPSBsZW5ndGhCeXRlc1VURjgoc3RyKSArIDE7XG4gICAgICB2YXIgcmV0ID0gX21hbGxvYyhzaXplKTtcbiAgICAgIGlmIChyZXQpIHN0cmluZ1RvVVRGOEFycmF5KHN0ciwgSEVBUDgsIHJldCwgc2l6ZSk7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgZnVuY3Rpb24gX190enNldF9qcyh0aW1lem9uZSwgZGF5bGlnaHQsIHR6bmFtZSkge1xuICAgICAgLy8gVE9ETzogVXNlIChtYWxsZWFibGUpIGVudmlyb25tZW50IHZhcmlhYmxlcyBpbnN0ZWFkIG9mIHN5c3RlbSBzZXR0aW5ncy5cbiAgICAgIHZhciBjdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcbiAgICAgIHZhciB3aW50ZXIgPSBuZXcgRGF0ZShjdXJyZW50WWVhciwgMCwgMSk7XG4gICAgICB2YXIgc3VtbWVyID0gbmV3IERhdGUoY3VycmVudFllYXIsIDYsIDEpO1xuICAgICAgdmFyIHdpbnRlck9mZnNldCA9IHdpbnRlci5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgICAgdmFyIHN1bW1lck9mZnNldCA9IHN1bW1lci5nZXRUaW1lem9uZU9mZnNldCgpO1xuICBcbiAgICAgIC8vIExvY2FsIHN0YW5kYXJkIHRpbWV6b25lIG9mZnNldC4gTG9jYWwgc3RhbmRhcmQgdGltZSBpcyBub3QgYWRqdXN0ZWQgZm9yIGRheWxpZ2h0IHNhdmluZ3MuXG4gICAgICAvLyBUaGlzIGNvZGUgdXNlcyB0aGUgZmFjdCB0aGF0IGdldFRpbWV6b25lT2Zmc2V0IHJldHVybnMgYSBncmVhdGVyIHZhbHVlIGR1cmluZyBTdGFuZGFyZCBUaW1lIHZlcnN1cyBEYXlsaWdodCBTYXZpbmcgVGltZSAoRFNUKS5cbiAgICAgIC8vIFRodXMgaXQgZGV0ZXJtaW5lcyB0aGUgZXhwZWN0ZWQgb3V0cHV0IGR1cmluZyBTdGFuZGFyZCBUaW1lLCBhbmQgaXQgY29tcGFyZXMgd2hldGhlciB0aGUgb3V0cHV0IG9mIHRoZSBnaXZlbiBkYXRlIHRoZSBzYW1lIChTdGFuZGFyZCkgb3IgbGVzcyAoRFNUKS5cbiAgICAgIHZhciBzdGRUaW1lem9uZU9mZnNldCA9IE1hdGgubWF4KHdpbnRlck9mZnNldCwgc3VtbWVyT2Zmc2V0KTtcbiAgXG4gICAgICAvLyB0aW1lem9uZSBpcyBzcGVjaWZpZWQgYXMgc2Vjb25kcyB3ZXN0IG9mIFVUQyAoXCJUaGUgZXh0ZXJuYWwgdmFyaWFibGVcbiAgICAgIC8vIGB0aW1lem9uZWAgc2hhbGwgYmUgc2V0IHRvIHRoZSBkaWZmZXJlbmNlLCBpbiBzZWNvbmRzLCBiZXR3ZWVuXG4gICAgICAvLyBDb29yZGluYXRlZCBVbml2ZXJzYWwgVGltZSAoVVRDKSBhbmQgbG9jYWwgc3RhbmRhcmQgdGltZS5cIiksIHRoZSBzYW1lXG4gICAgICAvLyBhcyByZXR1cm5lZCBieSBzdGRUaW1lem9uZU9mZnNldC5cbiAgICAgIC8vIFNlZSBodHRwOi8vcHVicy5vcGVuZ3JvdXAub3JnL29ubGluZXB1YnMvMDA5Njk1Mzk5L2Z1bmN0aW9ucy90enNldC5odG1sXG4gICAgICBIRUFQVTMyWygodGltZXpvbmUpPj4yKV0gPSBzdGRUaW1lem9uZU9mZnNldCAqIDYwO1xuICBcbiAgICAgIEhFQVAzMlsoKGRheWxpZ2h0KT4+MildID0gTnVtYmVyKHdpbnRlck9mZnNldCAhPSBzdW1tZXJPZmZzZXQpO1xuICBcbiAgICAgIGZ1bmN0aW9uIGV4dHJhY3Rab25lKGRhdGUpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gZGF0ZS50b1RpbWVTdHJpbmcoKS5tYXRjaCgvXFwoKFtBLVphLXogXSspXFwpJC8pO1xuICAgICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6IFwiR01UXCI7XG4gICAgICB9O1xuICAgICAgdmFyIHdpbnRlck5hbWUgPSBleHRyYWN0Wm9uZSh3aW50ZXIpO1xuICAgICAgdmFyIHN1bW1lck5hbWUgPSBleHRyYWN0Wm9uZShzdW1tZXIpO1xuICAgICAgdmFyIHdpbnRlck5hbWVQdHIgPSBhbGxvY2F0ZVVURjgod2ludGVyTmFtZSk7XG4gICAgICB2YXIgc3VtbWVyTmFtZVB0ciA9IGFsbG9jYXRlVVRGOChzdW1tZXJOYW1lKTtcbiAgICAgIGlmIChzdW1tZXJPZmZzZXQgPCB3aW50ZXJPZmZzZXQpIHtcbiAgICAgICAgLy8gTm9ydGhlcm4gaGVtaXNwaGVyZVxuICAgICAgICBIRUFQVTMyWygodHpuYW1lKT4+MildID0gd2ludGVyTmFtZVB0cjtcbiAgICAgICAgSEVBUFUzMlsoKCh0em5hbWUpKyg0KSk+PjIpXSA9IHN1bW1lck5hbWVQdHI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBIRUFQVTMyWygodHpuYW1lKT4+MildID0gc3VtbWVyTmFtZVB0cjtcbiAgICAgICAgSEVBUFUzMlsoKCh0em5hbWUpKyg0KSk+PjIpXSA9IHdpbnRlck5hbWVQdHI7XG4gICAgICB9XG4gICAgfVxuXG4gIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX2RhdGVfbm93KCkge1xuICAgICAgcmV0dXJuIERhdGUubm93KCk7XG4gICAgfVxuXG4gIHZhciBfZW1zY3JpcHRlbl9nZXRfbm93O19lbXNjcmlwdGVuX2dldF9ub3cgPSAoKSA9PiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgO1xuXG4gIGZ1bmN0aW9uIGdldEhlYXBNYXgoKSB7XG4gICAgICAvLyBTdGF5IG9uZSBXYXNtIHBhZ2Ugc2hvcnQgb2YgNEdCOiB3aGlsZSBlLmcuIENocm9tZSBpcyBhYmxlIHRvIGFsbG9jYXRlXG4gICAgICAvLyBmdWxsIDRHQiBXYXNtIG1lbW9yaWVzLCB0aGUgc2l6ZSB3aWxsIHdyYXAgYmFjayB0byAwIGJ5dGVzIGluIFdhc20gc2lkZVxuICAgICAgLy8gZm9yIGFueSBjb2RlIHRoYXQgZGVhbHMgd2l0aCBoZWFwIHNpemVzLCB3aGljaCB3b3VsZCByZXF1aXJlIHNwZWNpYWxcbiAgICAgIC8vIGNhc2luZyBhbGwgaGVhcCBzaXplIHJlbGF0ZWQgY29kZSB0byB0cmVhdCAwIHNwZWNpYWxseS5cbiAgICAgIHJldHVybiAyMTQ3NDgzNjQ4O1xuICAgIH1cbiAgXG4gIGZ1bmN0aW9uIGVtc2NyaXB0ZW5fcmVhbGxvY19idWZmZXIoc2l6ZSkge1xuICAgICAgdmFyIGIgPSB3YXNtTWVtb3J5LmJ1ZmZlcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIHJvdW5kIHNpemUgZ3JvdyByZXF1ZXN0IHVwIHRvIHdhc20gcGFnZSBzaXplIChmaXhlZCA2NEtCIHBlciBzcGVjKVxuICAgICAgICB3YXNtTWVtb3J5Lmdyb3coKHNpemUgLSBiLmJ5dGVMZW5ndGggKyA2NTUzNSkgPj4+IDE2KTsgLy8gLmdyb3coKSB0YWtlcyBhIGRlbHRhIGNvbXBhcmVkIHRvIHRoZSBwcmV2aW91cyBzaXplXG4gICAgICAgIHVwZGF0ZU1lbW9yeVZpZXdzKCk7XG4gICAgICAgIHJldHVybiAxIC8qc3VjY2VzcyovO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICB9XG4gICAgICAvLyBpbXBsaWNpdCAwIHJldHVybiB0byBzYXZlIGNvZGUgc2l6ZSAoY2FsbGVyIHdpbGwgY2FzdCBcInVuZGVmaW5lZFwiIGludG8gMFxuICAgICAgLy8gYW55aG93KVxuICAgIH1cbiAgZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fcmVzaXplX2hlYXAocmVxdWVzdGVkU2l6ZSkge1xuICAgICAgdmFyIG9sZFNpemUgPSBIRUFQVTgubGVuZ3RoO1xuICAgICAgcmVxdWVzdGVkU2l6ZSA9IHJlcXVlc3RlZFNpemUgPj4+IDA7XG4gICAgICAvLyBXaXRoIG11bHRpdGhyZWFkZWQgYnVpbGRzLCByYWNlcyBjYW4gaGFwcGVuIChhbm90aGVyIHRocmVhZCBtaWdodCBpbmNyZWFzZSB0aGUgc2l6ZVxuICAgICAgLy8gaW4gYmV0d2VlbiksIHNvIHJldHVybiBhIGZhaWx1cmUsIGFuZCBsZXQgdGhlIGNhbGxlciByZXRyeS5cbiAgXG4gICAgICAvLyBNZW1vcnkgcmVzaXplIHJ1bGVzOlxuICAgICAgLy8gMS4gIEFsd2F5cyBpbmNyZWFzZSBoZWFwIHNpemUgdG8gYXQgbGVhc3QgdGhlIHJlcXVlc3RlZCBzaXplLCByb3VuZGVkIHVwXG4gICAgICAvLyAgICAgdG8gbmV4dCBwYWdlIG11bHRpcGxlLlxuICAgICAgLy8gMmEuIElmIE1FTU9SWV9HUk9XVEhfTElORUFSX1NURVAgPT0gLTEsIGV4Y2Vzc2l2ZWx5IHJlc2l6ZSB0aGUgaGVhcFxuICAgICAgLy8gICAgIGdlb21ldHJpY2FsbHk6IGluY3JlYXNlIHRoZSBoZWFwIHNpemUgYWNjb3JkaW5nIHRvXG4gICAgICAvLyAgICAgTUVNT1JZX0dST1dUSF9HRU9NRVRSSUNfU1RFUCBmYWN0b3IgKGRlZmF1bHQgKzIwJSksIEF0IG1vc3RcbiAgICAgIC8vICAgICBvdmVycmVzZXJ2ZSBieSBNRU1PUllfR1JPV1RIX0dFT01FVFJJQ19DQVAgYnl0ZXMgKGRlZmF1bHQgOTZNQikuXG4gICAgICAvLyAyYi4gSWYgTUVNT1JZX0dST1dUSF9MSU5FQVJfU1RFUCAhPSAtMSwgZXhjZXNzaXZlbHkgcmVzaXplIHRoZSBoZWFwXG4gICAgICAvLyAgICAgbGluZWFybHk6IGluY3JlYXNlIHRoZSBoZWFwIHNpemUgYnkgYXQgbGVhc3RcbiAgICAgIC8vICAgICBNRU1PUllfR1JPV1RIX0xJTkVBUl9TVEVQIGJ5dGVzLlxuICAgICAgLy8gMy4gIE1heCBzaXplIGZvciB0aGUgaGVhcCBpcyBjYXBwZWQgYXQgMjA0OE1CLVdBU01fUEFHRV9TSVpFLCBvciBieVxuICAgICAgLy8gICAgIE1BWElNVU1fTUVNT1JZLCBvciBieSBBU0FOIGxpbWl0LCBkZXBlbmRpbmcgb24gd2hpY2ggaXMgc21hbGxlc3RcbiAgICAgIC8vIDQuICBJZiB3ZSB3ZXJlIHVuYWJsZSB0byBhbGxvY2F0ZSBhcyBtdWNoIG1lbW9yeSwgaXQgbWF5IGJlIGR1ZSB0b1xuICAgICAgLy8gICAgIG92ZXItZWFnZXIgZGVjaXNpb24gdG8gZXhjZXNzaXZlbHkgcmVzZXJ2ZSBkdWUgdG8gKDMpIGFib3ZlLlxuICAgICAgLy8gICAgIEhlbmNlIGlmIGFuIGFsbG9jYXRpb24gZmFpbHMsIGN1dCBkb3duIG9uIHRoZSBhbW91bnQgb2YgZXhjZXNzXG4gICAgICAvLyAgICAgZ3Jvd3RoLCBpbiBhbiBhdHRlbXB0IHRvIHN1Y2NlZWQgdG8gcGVyZm9ybSBhIHNtYWxsZXIgYWxsb2NhdGlvbi5cbiAgXG4gICAgICAvLyBBIGxpbWl0IGlzIHNldCBmb3IgaG93IG11Y2ggd2UgY2FuIGdyb3cuIFdlIHNob3VsZCBub3QgZXhjZWVkIHRoYXRcbiAgICAgIC8vICh0aGUgd2FzbSBiaW5hcnkgc3BlY2lmaWVzIGl0LCBzbyBpZiB3ZSB0cmllZCwgd2UnZCBmYWlsIGFueWhvdykuXG4gICAgICB2YXIgbWF4SGVhcFNpemUgPSBnZXRIZWFwTWF4KCk7XG4gICAgICBpZiAocmVxdWVzdGVkU2l6ZSA+IG1heEhlYXBTaXplKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgXG4gICAgICBsZXQgYWxpZ25VcCA9ICh4LCBtdWx0aXBsZSkgPT4geCArIChtdWx0aXBsZSAtIHggJSBtdWx0aXBsZSkgJSBtdWx0aXBsZTtcbiAgXG4gICAgICAvLyBMb29wIHRocm91Z2ggcG90ZW50aWFsIGhlYXAgc2l6ZSBpbmNyZWFzZXMuIElmIHdlIGF0dGVtcHQgYSB0b28gZWFnZXJcbiAgICAgIC8vIHJlc2VydmF0aW9uIHRoYXQgZmFpbHMsIGN1dCBkb3duIG9uIHRoZSBhdHRlbXB0ZWQgc2l6ZSBhbmQgcmVzZXJ2ZSBhXG4gICAgICAvLyBzbWFsbGVyIGJ1bXAgaW5zdGVhZC4gKG1heCAzIHRpbWVzLCBjaG9zZW4gc29tZXdoYXQgYXJiaXRyYXJpbHkpXG4gICAgICBmb3IgKHZhciBjdXREb3duID0gMTsgY3V0RG93biA8PSA0OyBjdXREb3duICo9IDIpIHtcbiAgICAgICAgdmFyIG92ZXJHcm93bkhlYXBTaXplID0gb2xkU2l6ZSAqICgxICsgMC4yIC8gY3V0RG93bik7IC8vIGVuc3VyZSBnZW9tZXRyaWMgZ3Jvd3RoXG4gICAgICAgIC8vIGJ1dCBsaW1pdCBvdmVycmVzZXJ2aW5nIChkZWZhdWx0IHRvIGNhcHBpbmcgYXQgKzk2TUIgb3Zlcmdyb3d0aCBhdCBtb3N0KVxuICAgICAgICBvdmVyR3Jvd25IZWFwU2l6ZSA9IE1hdGgubWluKG92ZXJHcm93bkhlYXBTaXplLCByZXF1ZXN0ZWRTaXplICsgMTAwNjYzMjk2ICk7XG4gIFxuICAgICAgICB2YXIgbmV3U2l6ZSA9IE1hdGgubWluKG1heEhlYXBTaXplLCBhbGlnblVwKE1hdGgubWF4KHJlcXVlc3RlZFNpemUsIG92ZXJHcm93bkhlYXBTaXplKSwgNjU1MzYpKTtcbiAgXG4gICAgICAgIHZhciByZXBsYWNlbWVudCA9IGVtc2NyaXB0ZW5fcmVhbGxvY19idWZmZXIobmV3U2l6ZSk7XG4gICAgICAgIGlmIChyZXBsYWNlbWVudCkge1xuICBcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICB2YXIgRU5WID0ge307XG4gIFxuICBmdW5jdGlvbiBnZXRFeGVjdXRhYmxlTmFtZSgpIHtcbiAgICAgIHJldHVybiB0aGlzUHJvZ3JhbSB8fCAnLi90aGlzLnByb2dyYW0nO1xuICAgIH1cbiAgZnVuY3Rpb24gZ2V0RW52U3RyaW5ncygpIHtcbiAgICAgIGlmICghZ2V0RW52U3RyaW5ncy5zdHJpbmdzKSB7XG4gICAgICAgIC8vIERlZmF1bHQgdmFsdWVzLlxuICAgICAgICAvLyBCcm93c2VyIGxhbmd1YWdlIGRldGVjdGlvbiAjODc1MVxuICAgICAgICB2YXIgbGFuZyA9ICgodHlwZW9mIG5hdmlnYXRvciA9PSAnb2JqZWN0JyAmJiBuYXZpZ2F0b3IubGFuZ3VhZ2VzICYmIG5hdmlnYXRvci5sYW5ndWFnZXNbMF0pIHx8ICdDJykucmVwbGFjZSgnLScsICdfJykgKyAnLlVURi04JztcbiAgICAgICAgdmFyIGVudiA9IHtcbiAgICAgICAgICAnVVNFUic6ICd3ZWJfdXNlcicsXG4gICAgICAgICAgJ0xPR05BTUUnOiAnd2ViX3VzZXInLFxuICAgICAgICAgICdQQVRIJzogJy8nLFxuICAgICAgICAgICdQV0QnOiAnLycsXG4gICAgICAgICAgJ0hPTUUnOiAnL2hvbWUvd2ViX3VzZXInLFxuICAgICAgICAgICdMQU5HJzogbGFuZyxcbiAgICAgICAgICAnXyc6IGdldEV4ZWN1dGFibGVOYW1lKClcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQXBwbHkgdGhlIHVzZXItcHJvdmlkZWQgdmFsdWVzLCBpZiBhbnkuXG4gICAgICAgIGZvciAodmFyIHggaW4gRU5WKSB7XG4gICAgICAgICAgLy8geCBpcyBhIGtleSBpbiBFTlY7IGlmIEVOVlt4XSBpcyB1bmRlZmluZWQsIHRoYXQgbWVhbnMgaXQgd2FzXG4gICAgICAgICAgLy8gZXhwbGljaXRseSBzZXQgdG8gYmUgc28uIFdlIGFsbG93IHVzZXIgY29kZSB0byBkbyB0aGF0IHRvXG4gICAgICAgICAgLy8gZm9yY2UgdmFyaWFibGVzIHdpdGggZGVmYXVsdCB2YWx1ZXMgdG8gcmVtYWluIHVuc2V0LlxuICAgICAgICAgIGlmIChFTlZbeF0gPT09IHVuZGVmaW5lZCkgZGVsZXRlIGVudlt4XTtcbiAgICAgICAgICBlbHNlIGVudlt4XSA9IEVOVlt4XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RyaW5ncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciB4IGluIGVudikge1xuICAgICAgICAgIHN0cmluZ3MucHVzaCh4ICsgJz0nICsgZW52W3hdKTtcbiAgICAgICAgfVxuICAgICAgICBnZXRFbnZTdHJpbmdzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldEVudlN0cmluZ3Muc3RyaW5ncztcbiAgICB9XG4gIFxuICAvKiogQHBhcmFtIHtib29sZWFuPX0gZG9udEFkZE51bGwgKi9cbiAgZnVuY3Rpb24gd3JpdGVBc2NpaVRvTWVtb3J5KHN0ciwgYnVmZmVyLCBkb250QWRkTnVsbCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgSEVBUDhbKChidWZmZXIrKyk+PjApXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgfVxuICAgICAgLy8gTnVsbC10ZXJtaW5hdGUgdGhlIHBvaW50ZXIgdG8gdGhlIEhFQVAuXG4gICAgICBpZiAoIWRvbnRBZGROdWxsKSBIRUFQOFsoKGJ1ZmZlcik+PjApXSA9IDA7XG4gICAgfVxuICBcbiAgZnVuY3Rpb24gX2Vudmlyb25fZ2V0KF9fZW52aXJvbiwgZW52aXJvbl9idWYpIHtcbiAgICAgIHZhciBidWZTaXplID0gMDtcbiAgICAgIGdldEVudlN0cmluZ3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHN0cmluZywgaSkge1xuICAgICAgICB2YXIgcHRyID0gZW52aXJvbl9idWYgKyBidWZTaXplO1xuICAgICAgICBIRUFQVTMyWygoKF9fZW52aXJvbikrKGkqNCkpPj4yKV0gPSBwdHI7XG4gICAgICAgIHdyaXRlQXNjaWlUb01lbW9yeShzdHJpbmcsIHB0cik7XG4gICAgICAgIGJ1ZlNpemUgKz0gc3RyaW5nLmxlbmd0aCArIDE7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICBcbiAgZnVuY3Rpb24gX2Vudmlyb25fc2l6ZXNfZ2V0KHBlbnZpcm9uX2NvdW50LCBwZW52aXJvbl9idWZfc2l6ZSkge1xuICAgICAgdmFyIHN0cmluZ3MgPSBnZXRFbnZTdHJpbmdzKCk7XG4gICAgICBIRUFQVTMyWygocGVudmlyb25fY291bnQpPj4yKV0gPSBzdHJpbmdzLmxlbmd0aDtcbiAgICAgIHZhciBidWZTaXplID0gMDtcbiAgICAgIHN0cmluZ3MuZm9yRWFjaChmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgYnVmU2l6ZSArPSBzdHJpbmcubGVuZ3RoICsgMTtcbiAgICAgIH0pO1xuICAgICAgSEVBUFUzMlsoKHBlbnZpcm9uX2J1Zl9zaXplKT4+MildID0gYnVmU2l6ZTtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICBmdW5jdGlvbiBfZmRfY2xvc2UoZmQpIHtcbiAgdHJ5IHtcbiAgXG4gICAgICB2YXIgc3RyZWFtID0gU1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTtcbiAgICAgIEZTLmNsb3NlKHN0cmVhbSk7XG4gICAgICByZXR1cm4gMDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKHR5cGVvZiBGUyA9PSAndW5kZWZpbmVkJyB8fCAhKGUubmFtZSA9PT0gJ0Vycm5vRXJyb3InKSkgdGhyb3cgZTtcbiAgICByZXR1cm4gZS5lcnJubztcbiAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2ZkX2Zkc3RhdF9nZXQoZmQsIHBidWYpIHtcbiAgdHJ5IHtcbiAgXG4gICAgICB2YXIgc3RyZWFtID0gU1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTtcbiAgICAgIC8vIEFsbCBjaGFyYWN0ZXIgZGV2aWNlcyBhcmUgdGVybWluYWxzIChvdGhlciB0aGluZ3MgYSBMaW51eCBzeXN0ZW0gd291bGRcbiAgICAgIC8vIGFzc3VtZSBpcyBhIGNoYXJhY3RlciBkZXZpY2UsIGxpa2UgdGhlIG1vdXNlLCB3ZSBoYXZlIHNwZWNpYWwgQVBJcyBmb3IpLlxuICAgICAgdmFyIHR5cGUgPSBzdHJlYW0udHR5ID8gMiA6XG4gICAgICAgICAgICAgICAgIEZTLmlzRGlyKHN0cmVhbS5tb2RlKSA/IDMgOlxuICAgICAgICAgICAgICAgICBGUy5pc0xpbmsoc3RyZWFtLm1vZGUpID8gNyA6XG4gICAgICAgICAgICAgICAgIDQ7XG4gICAgICBIRUFQOFsoKHBidWYpPj4wKV0gPSB0eXBlO1xuICAgICAgLy8gVE9ETyBIRUFQMTZbKCgocGJ1ZikrKDIpKT4+MSldID0gPztcbiAgICAgIC8vIFRPRE8gKHRlbXBJNjQgPSBbPz4+PjAsKHRlbXBEb3VibGU9PywoKyhNYXRoLmFicyh0ZW1wRG91YmxlKSkpID49IDEuMCA/ICh0ZW1wRG91YmxlID4gMC4wID8gKChNYXRoLm1pbigoKyhNYXRoLmZsb29yKCh0ZW1wRG91YmxlKS80Mjk0OTY3Mjk2LjApKSksIDQyOTQ5NjcyOTUuMCkpfDApPj4+MCA6ICh+figoKyhNYXRoLmNlaWwoKHRlbXBEb3VibGUgLSArKCgofn4odGVtcERvdWJsZSkpKT4+PjApKS80Mjk0OTY3Mjk2LjApKSkpKT4+PjApIDogMCldLEhFQVAzMlsoKChwYnVmKSsoOCkpPj4yKV0gPSB0ZW1wSTY0WzBdLEhFQVAzMlsoKChwYnVmKSsoMTIpKT4+MildID0gdGVtcEk2NFsxXSk7XG4gICAgICAvLyBUT0RPICh0ZW1wSTY0ID0gWz8+Pj4wLCh0ZW1wRG91YmxlPT8sKCsoTWF0aC5hYnModGVtcERvdWJsZSkpKSA+PSAxLjAgPyAodGVtcERvdWJsZSA+IDAuMCA/ICgoTWF0aC5taW4oKCsoTWF0aC5mbG9vcigodGVtcERvdWJsZSkvNDI5NDk2NzI5Ni4wKSkpLCA0Mjk0OTY3Mjk1LjApKXwwKT4+PjAgOiAofn4oKCsoTWF0aC5jZWlsKCh0ZW1wRG91YmxlIC0gKygoKH5+KHRlbXBEb3VibGUpKSk+Pj4wKSkvNDI5NDk2NzI5Ni4wKSkpKSk+Pj4wKSA6IDApXSxIRUFQMzJbKCgocGJ1ZikrKDE2KSk+PjIpXSA9IHRlbXBJNjRbMF0sSEVBUDMyWygoKHBidWYpKygyMCkpPj4yKV0gPSB0ZW1wSTY0WzFdKTtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAodHlwZW9mIEZTID09ICd1bmRlZmluZWQnIHx8ICEoZS5uYW1lID09PSAnRXJybm9FcnJvcicpKSB0aHJvdyBlO1xuICAgIHJldHVybiBlLmVycm5vO1xuICB9XG4gIH1cblxuICAvKiogQHBhcmFtIHtudW1iZXI9fSBvZmZzZXQgKi9cbiAgZnVuY3Rpb24gZG9SZWFkdihzdHJlYW0sIGlvdiwgaW92Y250LCBvZmZzZXQpIHtcbiAgICAgIHZhciByZXQgPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpb3ZjbnQ7IGkrKykge1xuICAgICAgICB2YXIgcHRyID0gSEVBUFUzMlsoKGlvdik+PjIpXTtcbiAgICAgICAgdmFyIGxlbiA9IEhFQVBVMzJbKCgoaW92KSsoNCkpPj4yKV07XG4gICAgICAgIGlvdiArPSA4O1xuICAgICAgICB2YXIgY3VyciA9IEZTLnJlYWQoc3RyZWFtLCBIRUFQOCxwdHIsIGxlbiwgb2Zmc2V0KTtcbiAgICAgICAgaWYgKGN1cnIgPCAwKSByZXR1cm4gLTE7XG4gICAgICAgIHJldCArPSBjdXJyO1xuICAgICAgICBpZiAoY3VyciA8IGxlbikgYnJlYWs7IC8vIG5vdGhpbmcgbW9yZSB0byByZWFkXG4gICAgICAgIGlmICh0eXBlb2Ygb2Zmc2V0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIG9mZnNldCArPSBjdXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgXG4gIGZ1bmN0aW9uIF9mZF9yZWFkKGZkLCBpb3YsIGlvdmNudCwgcG51bSkge1xuICB0cnkge1xuICBcbiAgICAgIHZhciBzdHJlYW0gPSBTWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO1xuICAgICAgdmFyIG51bSA9IGRvUmVhZHYoc3RyZWFtLCBpb3YsIGlvdmNudCk7XG4gICAgICBIRUFQVTMyWygocG51bSk+PjIpXSA9IG51bTtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAodHlwZW9mIEZTID09ICd1bmRlZmluZWQnIHx8ICEoZS5uYW1lID09PSAnRXJybm9FcnJvcicpKSB0aHJvdyBlO1xuICAgIHJldHVybiBlLmVycm5vO1xuICB9XG4gIH1cblxuICBcbiAgXG4gIFxuICBcbiAgZnVuY3Rpb24gX2ZkX3NlZWsoZmQsIC8qKiBAdHlwZSB7IUJpZ0ludH0gKi8gb2Zmc2V0LCB3aGVuY2UsIG5ld09mZnNldCkge1xuICB0cnkge1xuICBcbiAgICAgIG9mZnNldCA9IGJpZ2ludFRvSTUzQ2hlY2tlZChvZmZzZXQpOyBpZiAoaXNOYU4ob2Zmc2V0KSkgcmV0dXJuIDYxO1xuICAgICAgdmFyIHN0cmVhbSA9IFNZU0NBTExTLmdldFN0cmVhbUZyb21GRChmZCk7XG4gICAgICBGUy5sbHNlZWsoc3RyZWFtLCBvZmZzZXQsIHdoZW5jZSk7XG4gICAgICAodGVtcEk2NCA9IFtzdHJlYW0ucG9zaXRpb24+Pj4wLCh0ZW1wRG91YmxlPXN0cmVhbS5wb3NpdGlvbiwoKyhNYXRoLmFicyh0ZW1wRG91YmxlKSkpID49IDEuMCA/ICh0ZW1wRG91YmxlID4gMC4wID8gKChNYXRoLm1pbigoKyhNYXRoLmZsb29yKCh0ZW1wRG91YmxlKS80Mjk0OTY3Mjk2LjApKSksIDQyOTQ5NjcyOTUuMCkpfDApPj4+MCA6ICh+figoKyhNYXRoLmNlaWwoKHRlbXBEb3VibGUgLSArKCgofn4odGVtcERvdWJsZSkpKT4+PjApKS80Mjk0OTY3Mjk2LjApKSkpKT4+PjApIDogMCldLEhFQVAzMlsoKG5ld09mZnNldCk+PjIpXSA9IHRlbXBJNjRbMF0sSEVBUDMyWygoKG5ld09mZnNldCkrKDQpKT4+MildID0gdGVtcEk2NFsxXSk7XG4gICAgICBpZiAoc3RyZWFtLmdldGRlbnRzICYmIG9mZnNldCA9PT0gMCAmJiB3aGVuY2UgPT09IDApIHN0cmVhbS5nZXRkZW50cyA9IG51bGw7IC8vIHJlc2V0IHJlYWRkaXIgc3RhdGVcbiAgICAgIHJldHVybiAwO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAodHlwZW9mIEZTID09ICd1bmRlZmluZWQnIHx8ICEoZS5uYW1lID09PSAnRXJybm9FcnJvcicpKSB0aHJvdyBlO1xuICAgIHJldHVybiBlLmVycm5vO1xuICB9XG4gIH1cblxuICBmdW5jdGlvbiBfZmRfc3luYyhmZCkge1xuICB0cnkge1xuICBcbiAgICAgIHZhciBzdHJlYW0gPSBTWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO1xuICAgICAgaWYgKHN0cmVhbS5zdHJlYW1fb3BzICYmIHN0cmVhbS5zdHJlYW1fb3BzLmZzeW5jKSB7XG4gICAgICAgIHJldHVybiBzdHJlYW0uc3RyZWFtX29wcy5mc3luYyhzdHJlYW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7IC8vIHdlIGNhbid0IGRvIGFueXRoaW5nIHN5bmNocm9ub3VzbHk7IHRoZSBpbi1tZW1vcnkgRlMgaXMgYWxyZWFkeSBzeW5jZWQgdG9cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKHR5cGVvZiBGUyA9PSAndW5kZWZpbmVkJyB8fCAhKGUubmFtZSA9PT0gJ0Vycm5vRXJyb3InKSkgdGhyb3cgZTtcbiAgICByZXR1cm4gZS5lcnJubztcbiAgfVxuICB9XG5cbiAgLyoqIEBwYXJhbSB7bnVtYmVyPX0gb2Zmc2V0ICovXG4gIGZ1bmN0aW9uIGRvV3JpdGV2KHN0cmVhbSwgaW92LCBpb3ZjbnQsIG9mZnNldCkge1xuICAgICAgdmFyIHJldCA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlvdmNudDsgaSsrKSB7XG4gICAgICAgIHZhciBwdHIgPSBIRUFQVTMyWygoaW92KT4+MildO1xuICAgICAgICB2YXIgbGVuID0gSEVBUFUzMlsoKChpb3YpKyg0KSk+PjIpXTtcbiAgICAgICAgaW92ICs9IDg7XG4gICAgICAgIHZhciBjdXJyID0gRlMud3JpdGUoc3RyZWFtLCBIRUFQOCxwdHIsIGxlbiwgb2Zmc2V0KTtcbiAgICAgICAgaWYgKGN1cnIgPCAwKSByZXR1cm4gLTE7XG4gICAgICAgIHJldCArPSBjdXJyO1xuICAgICAgICBpZiAodHlwZW9mIG9mZnNldCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBvZmZzZXQgKz0gY3VycjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIFxuICBmdW5jdGlvbiBfZmRfd3JpdGUoZmQsIGlvdiwgaW92Y250LCBwbnVtKSB7XG4gIHRyeSB7XG4gIFxuICAgICAgdmFyIHN0cmVhbSA9IFNZU0NBTExTLmdldFN0cmVhbUZyb21GRChmZCk7XG4gICAgICB2YXIgbnVtID0gZG9Xcml0ZXYoc3RyZWFtLCBpb3YsIGlvdmNudCk7XG4gICAgICBIRUFQVTMyWygocG51bSk+PjIpXSA9IG51bTtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAodHlwZW9mIEZTID09ICd1bmRlZmluZWQnIHx8ICEoZS5uYW1lID09PSAnRXJybm9FcnJvcicpKSB0aHJvdyBlO1xuICAgIHJldHVybiBlLmVycm5vO1xuICB9XG4gIH1cblxuICB2YXIgRlNOb2RlID0gLyoqIEBjb25zdHJ1Y3RvciAqLyBmdW5jdGlvbihwYXJlbnQsIG5hbWUsIG1vZGUsIHJkZXYpIHtcbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgcGFyZW50ID0gdGhpczsgIC8vIHJvb3Qgbm9kZSBzZXRzIHBhcmVudCB0byBpdHNlbGZcbiAgICB9XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5tb3VudCA9IHBhcmVudC5tb3VudDtcbiAgICB0aGlzLm1vdW50ZWQgPSBudWxsO1xuICAgIHRoaXMuaWQgPSBGUy5uZXh0SW5vZGUrKztcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgdGhpcy5ub2RlX29wcyA9IHt9O1xuICAgIHRoaXMuc3RyZWFtX29wcyA9IHt9O1xuICAgIHRoaXMucmRldiA9IHJkZXY7XG4gIH07XG4gIHZhciByZWFkTW9kZSA9IDI5Mi8qMjkyKi8gfCA3My8qNzMqLztcbiAgdmFyIHdyaXRlTW9kZSA9IDE0Ni8qMTQ2Ki87XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEZTTm9kZS5wcm90b3R5cGUsIHtcbiAgIHJlYWQ6IHtcbiAgICBnZXQ6IC8qKiBAdGhpc3tGU05vZGV9ICovZnVuY3Rpb24oKSB7XG4gICAgIHJldHVybiAodGhpcy5tb2RlICYgcmVhZE1vZGUpID09PSByZWFkTW9kZTtcbiAgICB9LFxuICAgIHNldDogLyoqIEB0aGlze0ZTTm9kZX0gKi9mdW5jdGlvbih2YWwpIHtcbiAgICAgdmFsID8gdGhpcy5tb2RlIHw9IHJlYWRNb2RlIDogdGhpcy5tb2RlICY9IH5yZWFkTW9kZTtcbiAgICB9XG4gICB9LFxuICAgd3JpdGU6IHtcbiAgICBnZXQ6IC8qKiBAdGhpc3tGU05vZGV9ICovZnVuY3Rpb24oKSB7XG4gICAgIHJldHVybiAodGhpcy5tb2RlICYgd3JpdGVNb2RlKSA9PT0gd3JpdGVNb2RlO1xuICAgIH0sXG4gICAgc2V0OiAvKiogQHRoaXN7RlNOb2RlfSAqL2Z1bmN0aW9uKHZhbCkge1xuICAgICB2YWwgPyB0aGlzLm1vZGUgfD0gd3JpdGVNb2RlIDogdGhpcy5tb2RlICY9IH53cml0ZU1vZGU7XG4gICAgfVxuICAgfSxcbiAgIGlzRm9sZGVyOiB7XG4gICAgZ2V0OiAvKiogQHRoaXN7RlNOb2RlfSAqL2Z1bmN0aW9uKCkge1xuICAgICByZXR1cm4gRlMuaXNEaXIodGhpcy5tb2RlKTtcbiAgICB9XG4gICB9LFxuICAgaXNEZXZpY2U6IHtcbiAgICBnZXQ6IC8qKiBAdGhpc3tGU05vZGV9ICovZnVuY3Rpb24oKSB7XG4gICAgIHJldHVybiBGUy5pc0NocmRldih0aGlzLm1vZGUpO1xuICAgIH1cbiAgIH1cbiAgfSk7XG4gIEZTLkZTTm9kZSA9IEZTTm9kZTtcbiAgRlMuc3RhdGljSW5pdCgpOztcbnZhciB3YXNtSW1wb3J0cyA9IHtcbiAgXCJfX3N5c2NhbGxfY2htb2RcIjogX19fc3lzY2FsbF9jaG1vZCxcbiAgXCJfX3N5c2NhbGxfZmFjY2Vzc2F0XCI6IF9fX3N5c2NhbGxfZmFjY2Vzc2F0LFxuICBcIl9fc3lzY2FsbF9mY2htb2RcIjogX19fc3lzY2FsbF9mY2htb2QsXG4gIFwiX19zeXNjYWxsX2ZjaG93bjMyXCI6IF9fX3N5c2NhbGxfZmNob3duMzIsXG4gIFwiX19zeXNjYWxsX2ZjbnRsNjRcIjogX19fc3lzY2FsbF9mY250bDY0LFxuICBcIl9fc3lzY2FsbF9mc3RhdDY0XCI6IF9fX3N5c2NhbGxfZnN0YXQ2NCxcbiAgXCJfX3N5c2NhbGxfZnRydW5jYXRlNjRcIjogX19fc3lzY2FsbF9mdHJ1bmNhdGU2NCxcbiAgXCJfX3N5c2NhbGxfZ2V0Y3dkXCI6IF9fX3N5c2NhbGxfZ2V0Y3dkLFxuICBcIl9fc3lzY2FsbF9pb2N0bFwiOiBfX19zeXNjYWxsX2lvY3RsLFxuICBcIl9fc3lzY2FsbF9sc3RhdDY0XCI6IF9fX3N5c2NhbGxfbHN0YXQ2NCxcbiAgXCJfX3N5c2NhbGxfbWtkaXJhdFwiOiBfX19zeXNjYWxsX21rZGlyYXQsXG4gIFwiX19zeXNjYWxsX25ld2ZzdGF0YXRcIjogX19fc3lzY2FsbF9uZXdmc3RhdGF0LFxuICBcIl9fc3lzY2FsbF9vcGVuYXRcIjogX19fc3lzY2FsbF9vcGVuYXQsXG4gIFwiX19zeXNjYWxsX3JlYWRsaW5rYXRcIjogX19fc3lzY2FsbF9yZWFkbGlua2F0LFxuICBcIl9fc3lzY2FsbF9ybWRpclwiOiBfX19zeXNjYWxsX3JtZGlyLFxuICBcIl9fc3lzY2FsbF9zdGF0NjRcIjogX19fc3lzY2FsbF9zdGF0NjQsXG4gIFwiX19zeXNjYWxsX3VubGlua2F0XCI6IF9fX3N5c2NhbGxfdW5saW5rYXQsXG4gIFwiX19zeXNjYWxsX3V0aW1lbnNhdFwiOiBfX19zeXNjYWxsX3V0aW1lbnNhdCxcbiAgXCJfZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pY1wiOiBfX2Vtc2NyaXB0ZW5fZ2V0X25vd19pc19tb25vdG9uaWMsXG4gIFwiX2xvY2FsdGltZV9qc1wiOiBfX2xvY2FsdGltZV9qcyxcbiAgXCJfdHpzZXRfanNcIjogX190enNldF9qcyxcbiAgXCJlbXNjcmlwdGVuX2RhdGVfbm93XCI6IF9lbXNjcmlwdGVuX2RhdGVfbm93LFxuICBcImVtc2NyaXB0ZW5fZ2V0X25vd1wiOiBfZW1zY3JpcHRlbl9nZXRfbm93LFxuICBcImVtc2NyaXB0ZW5fcmVzaXplX2hlYXBcIjogX2Vtc2NyaXB0ZW5fcmVzaXplX2hlYXAsXG4gIFwiZW52aXJvbl9nZXRcIjogX2Vudmlyb25fZ2V0LFxuICBcImVudmlyb25fc2l6ZXNfZ2V0XCI6IF9lbnZpcm9uX3NpemVzX2dldCxcbiAgXCJmZF9jbG9zZVwiOiBfZmRfY2xvc2UsXG4gIFwiZmRfZmRzdGF0X2dldFwiOiBfZmRfZmRzdGF0X2dldCxcbiAgXCJmZF9yZWFkXCI6IF9mZF9yZWFkLFxuICBcImZkX3NlZWtcIjogX2ZkX3NlZWssXG4gIFwiZmRfc3luY1wiOiBfZmRfc3luYyxcbiAgXCJmZF93cml0ZVwiOiBfZmRfd3JpdGUsXG4gIFwibWVtb3J5XCI6IHdhc21NZW1vcnlcbn07XG52YXIgYXNtID0gY3JlYXRlV2FzbSgpO1xuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9fX3dhc21fY2FsbF9jdG9ycyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9fX3dhc21fY2FsbF9jdG9ycyA9IE1vZHVsZVtcImFzbVwiXVtcIl9fd2FzbV9jYWxsX2N0b3JzXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3N0YXR1czY0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfc3RhdHVzNjRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19zdGF0dXM2NCA9IE1vZHVsZVtcIl9zcWxpdGUzX3N0YXR1czY0XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19zdGF0dXM2NFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19zdGF0dXMgPSBNb2R1bGVbXCJfc3FsaXRlM19zdGF0dXNcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19zdGF0dXMgPSBNb2R1bGVbXCJfc3FsaXRlM19zdGF0dXNcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3N0YXR1c1wiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19kYl9zdGF0dXMgPSBNb2R1bGVbXCJfc3FsaXRlM19kYl9zdGF0dXNcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19kYl9zdGF0dXMgPSBNb2R1bGVbXCJfc3FsaXRlM19kYl9zdGF0dXNcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2RiX3N0YXR1c1wiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19tc2l6ZSA9IE1vZHVsZVtcIl9zcWxpdGUzX21zaXplXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfbXNpemUgPSBNb2R1bGVbXCJfc3FsaXRlM19tc2l6ZVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfbXNpemVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfdmZzX2ZpbmQgPSBNb2R1bGVbXCJfc3FsaXRlM192ZnNfZmluZFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3Zmc19maW5kID0gTW9kdWxlW1wiX3NxbGl0ZTNfdmZzX2ZpbmRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3Zmc19maW5kXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2luaXRpYWxpemUgPSBNb2R1bGVbXCJfc3FsaXRlM19pbml0aWFsaXplXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfaW5pdGlhbGl6ZSA9IE1vZHVsZVtcIl9zcWxpdGUzX2luaXRpYWxpemVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2luaXRpYWxpemVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfbWFsbG9jID0gTW9kdWxlW1wiX3NxbGl0ZTNfbWFsbG9jXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfbWFsbG9jID0gTW9kdWxlW1wiX3NxbGl0ZTNfbWFsbG9jXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19tYWxsb2NcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfZnJlZSA9IE1vZHVsZVtcIl9zcWxpdGUzX2ZyZWVcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19mcmVlID0gTW9kdWxlW1wiX3NxbGl0ZTNfZnJlZVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfZnJlZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM192ZnNfcmVnaXN0ZXIgPSBNb2R1bGVbXCJfc3FsaXRlM192ZnNfcmVnaXN0ZXJcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM192ZnNfcmVnaXN0ZXIgPSBNb2R1bGVbXCJfc3FsaXRlM192ZnNfcmVnaXN0ZXJcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3Zmc19yZWdpc3RlclwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM192ZnNfdW5yZWdpc3RlciA9IE1vZHVsZVtcIl9zcWxpdGUzX3Zmc191bnJlZ2lzdGVyXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfdmZzX3VucmVnaXN0ZXIgPSBNb2R1bGVbXCJfc3FsaXRlM192ZnNfdW5yZWdpc3RlclwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfdmZzX3VucmVnaXN0ZXJcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfbWFsbG9jNjQgPSBNb2R1bGVbXCJfc3FsaXRlM19tYWxsb2M2NFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX21hbGxvYzY0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfbWFsbG9jNjRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX21hbGxvYzY0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3JlYWxsb2MgPSBNb2R1bGVbXCJfc3FsaXRlM19yZWFsbG9jXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfcmVhbGxvYyA9IE1vZHVsZVtcIl9zcWxpdGUzX3JlYWxsb2NcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3JlYWxsb2NcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfcmVhbGxvYzY0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmVhbGxvYzY0XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfcmVhbGxvYzY0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmVhbGxvYzY0XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19yZWFsbG9jNjRcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfdmFsdWVfdGV4dCA9IE1vZHVsZVtcIl9zcWxpdGUzX3ZhbHVlX3RleHRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM192YWx1ZV90ZXh0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfdmFsdWVfdGV4dFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfdmFsdWVfdGV4dFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19yYW5kb21uZXNzID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmFuZG9tbmVzc1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3JhbmRvbW5lc3MgPSBNb2R1bGVbXCJfc3FsaXRlM19yYW5kb21uZXNzXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19yYW5kb21uZXNzXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3N0cmljbXAgPSBNb2R1bGVbXCJfc3FsaXRlM19zdHJpY21wXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfc3RyaWNtcCA9IE1vZHVsZVtcIl9zcWxpdGUzX3N0cmljbXBcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3N0cmljbXBcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfc3RybmljbXAgPSBNb2R1bGVbXCJfc3FsaXRlM19zdHJuaWNtcFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3N0cm5pY21wID0gTW9kdWxlW1wiX3NxbGl0ZTNfc3RybmljbXBcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3N0cm5pY21wXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3VyaV9wYXJhbWV0ZXIgPSBNb2R1bGVbXCJfc3FsaXRlM191cmlfcGFyYW1ldGVyXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfdXJpX3BhcmFtZXRlciA9IE1vZHVsZVtcIl9zcWxpdGUzX3VyaV9wYXJhbWV0ZXJcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3VyaV9wYXJhbWV0ZXJcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX19fZXJybm9fbG9jYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfX19lcnJub19sb2NhdGlvbiA9IE1vZHVsZVtcImFzbVwiXVtcIl9fZXJybm9fbG9jYXRpb25cIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfdXJpX2Jvb2xlYW4gPSBNb2R1bGVbXCJfc3FsaXRlM191cmlfYm9vbGVhblwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3VyaV9ib29sZWFuID0gTW9kdWxlW1wiX3NxbGl0ZTNfdXJpX2Jvb2xlYW5cIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3VyaV9ib29sZWFuXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3NlcmlhbGl6ZSA9IE1vZHVsZVtcIl9zcWxpdGUzX3NlcmlhbGl6ZVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3NlcmlhbGl6ZSA9IE1vZHVsZVtcIl9zcWxpdGUzX3NlcmlhbGl6ZVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfc2VyaWFsaXplXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3ByZXBhcmVfdjIgPSBNb2R1bGVbXCJfc3FsaXRlM19wcmVwYXJlX3YyXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfcHJlcGFyZV92MiA9IE1vZHVsZVtcIl9zcWxpdGUzX3ByZXBhcmVfdjJcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3ByZXBhcmVfdjJcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfc3RlcCA9IE1vZHVsZVtcIl9zcWxpdGUzX3N0ZXBcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19zdGVwID0gTW9kdWxlW1wiX3NxbGl0ZTNfc3RlcFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfc3RlcFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19jb2x1bW5faW50NjQgPSBNb2R1bGVbXCJfc3FsaXRlM19jb2x1bW5faW50NjRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19jb2x1bW5faW50NjQgPSBNb2R1bGVbXCJfc3FsaXRlM19jb2x1bW5faW50NjRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2NvbHVtbl9pbnQ2NFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19jb2x1bW5faW50ID0gTW9kdWxlW1wiX3NxbGl0ZTNfY29sdW1uX2ludFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2NvbHVtbl9pbnQgPSBNb2R1bGVbXCJfc3FsaXRlM19jb2x1bW5faW50XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19jb2x1bW5faW50XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2ZpbmFsaXplID0gTW9kdWxlW1wiX3NxbGl0ZTNfZmluYWxpemVcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19maW5hbGl6ZSA9IE1vZHVsZVtcIl9zcWxpdGUzX2ZpbmFsaXplXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19maW5hbGl6ZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19maWxlX2NvbnRyb2wgPSBNb2R1bGVbXCJfc3FsaXRlM19maWxlX2NvbnRyb2xcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19maWxlX2NvbnRyb2wgPSBNb2R1bGVbXCJfc3FsaXRlM19maWxlX2NvbnRyb2xcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2ZpbGVfY29udHJvbFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19yZXNldCA9IE1vZHVsZVtcIl9zcWxpdGUzX3Jlc2V0XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfcmVzZXQgPSBNb2R1bGVbXCJfc3FsaXRlM19yZXNldFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfcmVzZXRcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfZGVzZXJpYWxpemUgPSBNb2R1bGVbXCJfc3FsaXRlM19kZXNlcmlhbGl6ZVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2Rlc2VyaWFsaXplID0gTW9kdWxlW1wiX3NxbGl0ZTNfZGVzZXJpYWxpemVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2Rlc2VyaWFsaXplXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2NsZWFyX2JpbmRpbmdzID0gTW9kdWxlW1wiX3NxbGl0ZTNfY2xlYXJfYmluZGluZ3NcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19jbGVhcl9iaW5kaW5ncyA9IE1vZHVsZVtcIl9zcWxpdGUzX2NsZWFyX2JpbmRpbmdzXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19jbGVhcl9iaW5kaW5nc1wiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM192YWx1ZV9ibG9iID0gTW9kdWxlW1wiX3NxbGl0ZTNfdmFsdWVfYmxvYlwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3ZhbHVlX2Jsb2IgPSBNb2R1bGVbXCJfc3FsaXRlM192YWx1ZV9ibG9iXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM192YWx1ZV9ibG9iXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3ZhbHVlX2J5dGVzID0gTW9kdWxlW1wiX3NxbGl0ZTNfdmFsdWVfYnl0ZXNcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM192YWx1ZV9ieXRlcyA9IE1vZHVsZVtcIl9zcWxpdGUzX3ZhbHVlX2J5dGVzXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM192YWx1ZV9ieXRlc1wiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM192YWx1ZV9kb3VibGUgPSBNb2R1bGVbXCJfc3FsaXRlM192YWx1ZV9kb3VibGVcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM192YWx1ZV9kb3VibGUgPSBNb2R1bGVbXCJfc3FsaXRlM192YWx1ZV9kb3VibGVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3ZhbHVlX2RvdWJsZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM192YWx1ZV9pbnQgPSBNb2R1bGVbXCJfc3FsaXRlM192YWx1ZV9pbnRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM192YWx1ZV9pbnQgPSBNb2R1bGVbXCJfc3FsaXRlM192YWx1ZV9pbnRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3ZhbHVlX2ludFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM192YWx1ZV9pbnQ2NCA9IE1vZHVsZVtcIl9zcWxpdGUzX3ZhbHVlX2ludDY0XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfdmFsdWVfaW50NjQgPSBNb2R1bGVbXCJfc3FsaXRlM192YWx1ZV9pbnQ2NFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfdmFsdWVfaW50NjRcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfdmFsdWVfc3VidHlwZSA9IE1vZHVsZVtcIl9zcWxpdGUzX3ZhbHVlX3N1YnR5cGVcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM192YWx1ZV9zdWJ0eXBlID0gTW9kdWxlW1wiX3NxbGl0ZTNfdmFsdWVfc3VidHlwZVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfdmFsdWVfc3VidHlwZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM192YWx1ZV9wb2ludGVyID0gTW9kdWxlW1wiX3NxbGl0ZTNfdmFsdWVfcG9pbnRlclwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3ZhbHVlX3BvaW50ZXIgPSBNb2R1bGVbXCJfc3FsaXRlM192YWx1ZV9wb2ludGVyXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM192YWx1ZV9wb2ludGVyXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3ZhbHVlX3R5cGUgPSBNb2R1bGVbXCJfc3FsaXRlM192YWx1ZV90eXBlXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfdmFsdWVfdHlwZSA9IE1vZHVsZVtcIl9zcWxpdGUzX3ZhbHVlX3R5cGVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3ZhbHVlX3R5cGVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfdmFsdWVfbm9jaGFuZ2UgPSBNb2R1bGVbXCJfc3FsaXRlM192YWx1ZV9ub2NoYW5nZVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3ZhbHVlX25vY2hhbmdlID0gTW9kdWxlW1wiX3NxbGl0ZTNfdmFsdWVfbm9jaGFuZ2VcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3ZhbHVlX25vY2hhbmdlXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3ZhbHVlX2Zyb21iaW5kID0gTW9kdWxlW1wiX3NxbGl0ZTNfdmFsdWVfZnJvbWJpbmRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM192YWx1ZV9mcm9tYmluZCA9IE1vZHVsZVtcIl9zcWxpdGUzX3ZhbHVlX2Zyb21iaW5kXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM192YWx1ZV9mcm9tYmluZFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM192YWx1ZV9kdXAgPSBNb2R1bGVbXCJfc3FsaXRlM192YWx1ZV9kdXBcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM192YWx1ZV9kdXAgPSBNb2R1bGVbXCJfc3FsaXRlM192YWx1ZV9kdXBcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3ZhbHVlX2R1cFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM192YWx1ZV9mcmVlID0gTW9kdWxlW1wiX3NxbGl0ZTNfdmFsdWVfZnJlZVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3ZhbHVlX2ZyZWUgPSBNb2R1bGVbXCJfc3FsaXRlM192YWx1ZV9mcmVlXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM192YWx1ZV9mcmVlXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3Jlc3VsdF9ibG9iID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmVzdWx0X2Jsb2JcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19yZXN1bHRfYmxvYiA9IE1vZHVsZVtcIl9zcWxpdGUzX3Jlc3VsdF9ibG9iXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19yZXN1bHRfYmxvYlwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19yZXN1bHRfZXJyb3Jfbm9tZW0gPSBNb2R1bGVbXCJfc3FsaXRlM19yZXN1bHRfZXJyb3Jfbm9tZW1cIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19yZXN1bHRfZXJyb3Jfbm9tZW0gPSBNb2R1bGVbXCJfc3FsaXRlM19yZXN1bHRfZXJyb3Jfbm9tZW1cIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3Jlc3VsdF9lcnJvcl9ub21lbVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19yZXN1bHRfZXJyb3JfdG9vYmlnID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmVzdWx0X2Vycm9yX3Rvb2JpZ1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3Jlc3VsdF9lcnJvcl90b29iaWcgPSBNb2R1bGVbXCJfc3FsaXRlM19yZXN1bHRfZXJyb3JfdG9vYmlnXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19yZXN1bHRfZXJyb3JfdG9vYmlnXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3Jlc3VsdF9kb3VibGUgPSBNb2R1bGVbXCJfc3FsaXRlM19yZXN1bHRfZG91YmxlXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfcmVzdWx0X2RvdWJsZSA9IE1vZHVsZVtcIl9zcWxpdGUzX3Jlc3VsdF9kb3VibGVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3Jlc3VsdF9kb3VibGVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfcmVzdWx0X2Vycm9yID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmVzdWx0X2Vycm9yXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfcmVzdWx0X2Vycm9yID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmVzdWx0X2Vycm9yXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19yZXN1bHRfZXJyb3JcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfcmVzdWx0X2ludCA9IE1vZHVsZVtcIl9zcWxpdGUzX3Jlc3VsdF9pbnRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19yZXN1bHRfaW50ID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmVzdWx0X2ludFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfcmVzdWx0X2ludFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19yZXN1bHRfaW50NjQgPSBNb2R1bGVbXCJfc3FsaXRlM19yZXN1bHRfaW50NjRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19yZXN1bHRfaW50NjQgPSBNb2R1bGVbXCJfc3FsaXRlM19yZXN1bHRfaW50NjRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3Jlc3VsdF9pbnQ2NFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19yZXN1bHRfbnVsbCA9IE1vZHVsZVtcIl9zcWxpdGUzX3Jlc3VsdF9udWxsXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfcmVzdWx0X251bGwgPSBNb2R1bGVbXCJfc3FsaXRlM19yZXN1bHRfbnVsbFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfcmVzdWx0X251bGxcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfcmVzdWx0X3BvaW50ZXIgPSBNb2R1bGVbXCJfc3FsaXRlM19yZXN1bHRfcG9pbnRlclwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3Jlc3VsdF9wb2ludGVyID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmVzdWx0X3BvaW50ZXJcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3Jlc3VsdF9wb2ludGVyXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3Jlc3VsdF9zdWJ0eXBlID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmVzdWx0X3N1YnR5cGVcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19yZXN1bHRfc3VidHlwZSA9IE1vZHVsZVtcIl9zcWxpdGUzX3Jlc3VsdF9zdWJ0eXBlXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19yZXN1bHRfc3VidHlwZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19yZXN1bHRfdGV4dCA9IE1vZHVsZVtcIl9zcWxpdGUzX3Jlc3VsdF90ZXh0XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfcmVzdWx0X3RleHQgPSBNb2R1bGVbXCJfc3FsaXRlM19yZXN1bHRfdGV4dFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfcmVzdWx0X3RleHRcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfcmVzdWx0X3plcm9ibG9iID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmVzdWx0X3plcm9ibG9iXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfcmVzdWx0X3plcm9ibG9iID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmVzdWx0X3plcm9ibG9iXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19yZXN1bHRfemVyb2Jsb2JcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfcmVzdWx0X3plcm9ibG9iNjQgPSBNb2R1bGVbXCJfc3FsaXRlM19yZXN1bHRfemVyb2Jsb2I2NFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3Jlc3VsdF96ZXJvYmxvYjY0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmVzdWx0X3plcm9ibG9iNjRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3Jlc3VsdF96ZXJvYmxvYjY0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3Jlc3VsdF9lcnJvcl9jb2RlID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmVzdWx0X2Vycm9yX2NvZGVcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19yZXN1bHRfZXJyb3JfY29kZSA9IE1vZHVsZVtcIl9zcWxpdGUzX3Jlc3VsdF9lcnJvcl9jb2RlXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19yZXN1bHRfZXJyb3JfY29kZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM191c2VyX2RhdGEgPSBNb2R1bGVbXCJfc3FsaXRlM191c2VyX2RhdGFcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM191c2VyX2RhdGEgPSBNb2R1bGVbXCJfc3FsaXRlM191c2VyX2RhdGFcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3VzZXJfZGF0YVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19jb250ZXh0X2RiX2hhbmRsZSA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbnRleHRfZGJfaGFuZGxlXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfY29udGV4dF9kYl9oYW5kbGUgPSBNb2R1bGVbXCJfc3FsaXRlM19jb250ZXh0X2RiX2hhbmRsZVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfY29udGV4dF9kYl9oYW5kbGVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfdnRhYl9ub2NoYW5nZSA9IE1vZHVsZVtcIl9zcWxpdGUzX3Z0YWJfbm9jaGFuZ2VcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM192dGFiX25vY2hhbmdlID0gTW9kdWxlW1wiX3NxbGl0ZTNfdnRhYl9ub2NoYW5nZVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfdnRhYl9ub2NoYW5nZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM192dGFiX2luX2ZpcnN0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfdnRhYl9pbl9maXJzdFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3Z0YWJfaW5fZmlyc3QgPSBNb2R1bGVbXCJfc3FsaXRlM192dGFiX2luX2ZpcnN0XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM192dGFiX2luX2ZpcnN0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3Z0YWJfaW5fbmV4dCA9IE1vZHVsZVtcIl9zcWxpdGUzX3Z0YWJfaW5fbmV4dFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3Z0YWJfaW5fbmV4dCA9IE1vZHVsZVtcIl9zcWxpdGUzX3Z0YWJfaW5fbmV4dFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfdnRhYl9pbl9uZXh0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2FnZ3JlZ2F0ZV9jb250ZXh0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfYWdncmVnYXRlX2NvbnRleHRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19hZ2dyZWdhdGVfY29udGV4dCA9IE1vZHVsZVtcIl9zcWxpdGUzX2FnZ3JlZ2F0ZV9jb250ZXh0XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19hZ2dyZWdhdGVfY29udGV4dFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19nZXRfYXV4ZGF0YSA9IE1vZHVsZVtcIl9zcWxpdGUzX2dldF9hdXhkYXRhXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfZ2V0X2F1eGRhdGEgPSBNb2R1bGVbXCJfc3FsaXRlM19nZXRfYXV4ZGF0YVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfZ2V0X2F1eGRhdGFcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfc2V0X2F1eGRhdGEgPSBNb2R1bGVbXCJfc3FsaXRlM19zZXRfYXV4ZGF0YVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3NldF9hdXhkYXRhID0gTW9kdWxlW1wiX3NxbGl0ZTNfc2V0X2F1eGRhdGFcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3NldF9hdXhkYXRhXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2NvbHVtbl9jb3VudCA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbHVtbl9jb3VudFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2NvbHVtbl9jb3VudCA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbHVtbl9jb3VudFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfY29sdW1uX2NvdW50XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2RhdGFfY291bnQgPSBNb2R1bGVbXCJfc3FsaXRlM19kYXRhX2NvdW50XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfZGF0YV9jb3VudCA9IE1vZHVsZVtcIl9zcWxpdGUzX2RhdGFfY291bnRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2RhdGFfY291bnRcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfY29sdW1uX2Jsb2IgPSBNb2R1bGVbXCJfc3FsaXRlM19jb2x1bW5fYmxvYlwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2NvbHVtbl9ibG9iID0gTW9kdWxlW1wiX3NxbGl0ZTNfY29sdW1uX2Jsb2JcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2NvbHVtbl9ibG9iXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2NvbHVtbl9ieXRlcyA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbHVtbl9ieXRlc1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2NvbHVtbl9ieXRlcyA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbHVtbl9ieXRlc1wiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfY29sdW1uX2J5dGVzXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2NvbHVtbl9kb3VibGUgPSBNb2R1bGVbXCJfc3FsaXRlM19jb2x1bW5fZG91YmxlXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfY29sdW1uX2RvdWJsZSA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbHVtbl9kb3VibGVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2NvbHVtbl9kb3VibGVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfY29sdW1uX3RleHQgPSBNb2R1bGVbXCJfc3FsaXRlM19jb2x1bW5fdGV4dFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2NvbHVtbl90ZXh0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfY29sdW1uX3RleHRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2NvbHVtbl90ZXh0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2NvbHVtbl92YWx1ZSA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbHVtbl92YWx1ZVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2NvbHVtbl92YWx1ZSA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbHVtbl92YWx1ZVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfY29sdW1uX3ZhbHVlXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2NvbHVtbl90eXBlID0gTW9kdWxlW1wiX3NxbGl0ZTNfY29sdW1uX3R5cGVcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19jb2x1bW5fdHlwZSA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbHVtbl90eXBlXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19jb2x1bW5fdHlwZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19jb2x1bW5fbmFtZSA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbHVtbl9uYW1lXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfY29sdW1uX25hbWUgPSBNb2R1bGVbXCJfc3FsaXRlM19jb2x1bW5fbmFtZVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfY29sdW1uX25hbWVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfYmluZF9ibG9iID0gTW9kdWxlW1wiX3NxbGl0ZTNfYmluZF9ibG9iXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfYmluZF9ibG9iID0gTW9kdWxlW1wiX3NxbGl0ZTNfYmluZF9ibG9iXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19iaW5kX2Jsb2JcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfYmluZF9kb3VibGUgPSBNb2R1bGVbXCJfc3FsaXRlM19iaW5kX2RvdWJsZVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2JpbmRfZG91YmxlID0gTW9kdWxlW1wiX3NxbGl0ZTNfYmluZF9kb3VibGVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2JpbmRfZG91YmxlXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2JpbmRfaW50ID0gTW9kdWxlW1wiX3NxbGl0ZTNfYmluZF9pbnRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19iaW5kX2ludCA9IE1vZHVsZVtcIl9zcWxpdGUzX2JpbmRfaW50XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19iaW5kX2ludFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19iaW5kX2ludDY0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfYmluZF9pbnQ2NFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2JpbmRfaW50NjQgPSBNb2R1bGVbXCJfc3FsaXRlM19iaW5kX2ludDY0XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19iaW5kX2ludDY0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2JpbmRfbnVsbCA9IE1vZHVsZVtcIl9zcWxpdGUzX2JpbmRfbnVsbFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2JpbmRfbnVsbCA9IE1vZHVsZVtcIl9zcWxpdGUzX2JpbmRfbnVsbFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfYmluZF9udWxsXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2JpbmRfcG9pbnRlciA9IE1vZHVsZVtcIl9zcWxpdGUzX2JpbmRfcG9pbnRlclwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2JpbmRfcG9pbnRlciA9IE1vZHVsZVtcIl9zcWxpdGUzX2JpbmRfcG9pbnRlclwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfYmluZF9wb2ludGVyXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2JpbmRfdGV4dCA9IE1vZHVsZVtcIl9zcWxpdGUzX2JpbmRfdGV4dFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2JpbmRfdGV4dCA9IE1vZHVsZVtcIl9zcWxpdGUzX2JpbmRfdGV4dFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfYmluZF90ZXh0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2JpbmRfcGFyYW1ldGVyX2NvdW50ID0gTW9kdWxlW1wiX3NxbGl0ZTNfYmluZF9wYXJhbWV0ZXJfY291bnRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19iaW5kX3BhcmFtZXRlcl9jb3VudCA9IE1vZHVsZVtcIl9zcWxpdGUzX2JpbmRfcGFyYW1ldGVyX2NvdW50XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19iaW5kX3BhcmFtZXRlcl9jb3VudFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19iaW5kX3BhcmFtZXRlcl9pbmRleCA9IE1vZHVsZVtcIl9zcWxpdGUzX2JpbmRfcGFyYW1ldGVyX2luZGV4XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfYmluZF9wYXJhbWV0ZXJfaW5kZXggPSBNb2R1bGVbXCJfc3FsaXRlM19iaW5kX3BhcmFtZXRlcl9pbmRleFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfYmluZF9wYXJhbWV0ZXJfaW5kZXhcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfZGJfaGFuZGxlID0gTW9kdWxlW1wiX3NxbGl0ZTNfZGJfaGFuZGxlXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfZGJfaGFuZGxlID0gTW9kdWxlW1wiX3NxbGl0ZTNfZGJfaGFuZGxlXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19kYl9oYW5kbGVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfc3RtdF9yZWFkb25seSA9IE1vZHVsZVtcIl9zcWxpdGUzX3N0bXRfcmVhZG9ubHlcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19zdG10X3JlYWRvbmx5ID0gTW9kdWxlW1wiX3NxbGl0ZTNfc3RtdF9yZWFkb25seVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfc3RtdF9yZWFkb25seVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19zdG10X2lzZXhwbGFpbiA9IE1vZHVsZVtcIl9zcWxpdGUzX3N0bXRfaXNleHBsYWluXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfc3RtdF9pc2V4cGxhaW4gPSBNb2R1bGVbXCJfc3FsaXRlM19zdG10X2lzZXhwbGFpblwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfc3RtdF9pc2V4cGxhaW5cIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfc3RtdF9zdGF0dXMgPSBNb2R1bGVbXCJfc3FsaXRlM19zdG10X3N0YXR1c1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3N0bXRfc3RhdHVzID0gTW9kdWxlW1wiX3NxbGl0ZTNfc3RtdF9zdGF0dXNcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3N0bXRfc3RhdHVzXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3NxbCA9IE1vZHVsZVtcIl9zcWxpdGUzX3NxbFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3NxbCA9IE1vZHVsZVtcIl9zcWxpdGUzX3NxbFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfc3FsXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2V4cGFuZGVkX3NxbCA9IE1vZHVsZVtcIl9zcWxpdGUzX2V4cGFuZGVkX3NxbFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2V4cGFuZGVkX3NxbCA9IE1vZHVsZVtcIl9zcWxpdGUzX2V4cGFuZGVkX3NxbFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfZXhwYW5kZWRfc3FsXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3ByZXVwZGF0ZV9vbGQgPSBNb2R1bGVbXCJfc3FsaXRlM19wcmV1cGRhdGVfb2xkXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfcHJldXBkYXRlX29sZCA9IE1vZHVsZVtcIl9zcWxpdGUzX3ByZXVwZGF0ZV9vbGRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3ByZXVwZGF0ZV9vbGRcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfcHJldXBkYXRlX2NvdW50ID0gTW9kdWxlW1wiX3NxbGl0ZTNfcHJldXBkYXRlX2NvdW50XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfcHJldXBkYXRlX2NvdW50ID0gTW9kdWxlW1wiX3NxbGl0ZTNfcHJldXBkYXRlX2NvdW50XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19wcmV1cGRhdGVfY291bnRcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfcHJldXBkYXRlX2RlcHRoID0gTW9kdWxlW1wiX3NxbGl0ZTNfcHJldXBkYXRlX2RlcHRoXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfcHJldXBkYXRlX2RlcHRoID0gTW9kdWxlW1wiX3NxbGl0ZTNfcHJldXBkYXRlX2RlcHRoXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19wcmV1cGRhdGVfZGVwdGhcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfcHJldXBkYXRlX2Jsb2J3cml0ZSA9IE1vZHVsZVtcIl9zcWxpdGUzX3ByZXVwZGF0ZV9ibG9id3JpdGVcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19wcmV1cGRhdGVfYmxvYndyaXRlID0gTW9kdWxlW1wiX3NxbGl0ZTNfcHJldXBkYXRlX2Jsb2J3cml0ZVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfcHJldXBkYXRlX2Jsb2J3cml0ZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19wcmV1cGRhdGVfbmV3ID0gTW9kdWxlW1wiX3NxbGl0ZTNfcHJldXBkYXRlX25ld1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3ByZXVwZGF0ZV9uZXcgPSBNb2R1bGVbXCJfc3FsaXRlM19wcmV1cGRhdGVfbmV3XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19wcmV1cGRhdGVfbmV3XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3ZhbHVlX251bWVyaWNfdHlwZSA9IE1vZHVsZVtcIl9zcWxpdGUzX3ZhbHVlX251bWVyaWNfdHlwZVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3ZhbHVlX251bWVyaWNfdHlwZSA9IE1vZHVsZVtcIl9zcWxpdGUzX3ZhbHVlX251bWVyaWNfdHlwZVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfdmFsdWVfbnVtZXJpY190eXBlXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2Vycm1zZyA9IE1vZHVsZVtcIl9zcWxpdGUzX2Vycm1zZ1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2Vycm1zZyA9IE1vZHVsZVtcIl9zcWxpdGUzX2Vycm1zZ1wiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfZXJybXNnXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3NldF9hdXRob3JpemVyID0gTW9kdWxlW1wiX3NxbGl0ZTNfc2V0X2F1dGhvcml6ZXJcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19zZXRfYXV0aG9yaXplciA9IE1vZHVsZVtcIl9zcWxpdGUzX3NldF9hdXRob3JpemVyXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19zZXRfYXV0aG9yaXplclwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19zdHJnbG9iID0gTW9kdWxlW1wiX3NxbGl0ZTNfc3RyZ2xvYlwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3N0cmdsb2IgPSBNb2R1bGVbXCJfc3FsaXRlM19zdHJnbG9iXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19zdHJnbG9iXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3N0cmxpa2UgPSBNb2R1bGVbXCJfc3FsaXRlM19zdHJsaWtlXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfc3RybGlrZSA9IE1vZHVsZVtcIl9zcWxpdGUzX3N0cmxpa2VcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3N0cmxpa2VcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfZXhlYyA9IE1vZHVsZVtcIl9zcWxpdGUzX2V4ZWNcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19leGVjID0gTW9kdWxlW1wiX3NxbGl0ZTNfZXhlY1wiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfZXhlY1wiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19hdXRvX2V4dGVuc2lvbiA9IE1vZHVsZVtcIl9zcWxpdGUzX2F1dG9fZXh0ZW5zaW9uXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfYXV0b19leHRlbnNpb24gPSBNb2R1bGVbXCJfc3FsaXRlM19hdXRvX2V4dGVuc2lvblwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfYXV0b19leHRlbnNpb25cIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfY2FuY2VsX2F1dG9fZXh0ZW5zaW9uID0gTW9kdWxlW1wiX3NxbGl0ZTNfY2FuY2VsX2F1dG9fZXh0ZW5zaW9uXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfY2FuY2VsX2F1dG9fZXh0ZW5zaW9uID0gTW9kdWxlW1wiX3NxbGl0ZTNfY2FuY2VsX2F1dG9fZXh0ZW5zaW9uXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19jYW5jZWxfYXV0b19leHRlbnNpb25cIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfcmVzZXRfYXV0b19leHRlbnNpb24gPSBNb2R1bGVbXCJfc3FsaXRlM19yZXNldF9hdXRvX2V4dGVuc2lvblwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3Jlc2V0X2F1dG9fZXh0ZW5zaW9uID0gTW9kdWxlW1wiX3NxbGl0ZTNfcmVzZXRfYXV0b19leHRlbnNpb25cIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3Jlc2V0X2F1dG9fZXh0ZW5zaW9uXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3ByZXBhcmVfdjMgPSBNb2R1bGVbXCJfc3FsaXRlM19wcmVwYXJlX3YzXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfcHJlcGFyZV92MyA9IE1vZHVsZVtcIl9zcWxpdGUzX3ByZXBhcmVfdjNcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3ByZXBhcmVfdjNcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfY3JlYXRlX21vZHVsZSA9IE1vZHVsZVtcIl9zcWxpdGUzX2NyZWF0ZV9tb2R1bGVcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19jcmVhdGVfbW9kdWxlID0gTW9kdWxlW1wiX3NxbGl0ZTNfY3JlYXRlX21vZHVsZVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfY3JlYXRlX21vZHVsZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19jcmVhdGVfbW9kdWxlX3YyID0gTW9kdWxlW1wiX3NxbGl0ZTNfY3JlYXRlX21vZHVsZV92MlwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2NyZWF0ZV9tb2R1bGVfdjIgPSBNb2R1bGVbXCJfc3FsaXRlM19jcmVhdGVfbW9kdWxlX3YyXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19jcmVhdGVfbW9kdWxlX3YyXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2Ryb3BfbW9kdWxlcyA9IE1vZHVsZVtcIl9zcWxpdGUzX2Ryb3BfbW9kdWxlc1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2Ryb3BfbW9kdWxlcyA9IE1vZHVsZVtcIl9zcWxpdGUzX2Ryb3BfbW9kdWxlc1wiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfZHJvcF9tb2R1bGVzXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2RlY2xhcmVfdnRhYiA9IE1vZHVsZVtcIl9zcWxpdGUzX2RlY2xhcmVfdnRhYlwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2RlY2xhcmVfdnRhYiA9IE1vZHVsZVtcIl9zcWxpdGUzX2RlY2xhcmVfdnRhYlwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfZGVjbGFyZV92dGFiXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3Z0YWJfb25fY29uZmxpY3QgPSBNb2R1bGVbXCJfc3FsaXRlM192dGFiX29uX2NvbmZsaWN0XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfdnRhYl9vbl9jb25mbGljdCA9IE1vZHVsZVtcIl9zcWxpdGUzX3Z0YWJfb25fY29uZmxpY3RcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3Z0YWJfb25fY29uZmxpY3RcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfdnRhYl9jb2xsYXRpb24gPSBNb2R1bGVbXCJfc3FsaXRlM192dGFiX2NvbGxhdGlvblwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3Z0YWJfY29sbGF0aW9uID0gTW9kdWxlW1wiX3NxbGl0ZTNfdnRhYl9jb2xsYXRpb25cIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3Z0YWJfY29sbGF0aW9uXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3Z0YWJfaW4gPSBNb2R1bGVbXCJfc3FsaXRlM192dGFiX2luXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfdnRhYl9pbiA9IE1vZHVsZVtcIl9zcWxpdGUzX3Z0YWJfaW5cIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3Z0YWJfaW5cIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfdnRhYl9yaHNfdmFsdWUgPSBNb2R1bGVbXCJfc3FsaXRlM192dGFiX3Joc192YWx1ZVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3Z0YWJfcmhzX3ZhbHVlID0gTW9kdWxlW1wiX3NxbGl0ZTNfdnRhYl9yaHNfdmFsdWVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3Z0YWJfcmhzX3ZhbHVlXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3Z0YWJfZGlzdGluY3QgPSBNb2R1bGVbXCJfc3FsaXRlM192dGFiX2Rpc3RpbmN0XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfdnRhYl9kaXN0aW5jdCA9IE1vZHVsZVtcIl9zcWxpdGUzX3Z0YWJfZGlzdGluY3RcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3Z0YWJfZGlzdGluY3RcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfa2V5d29yZF9uYW1lID0gTW9kdWxlW1wiX3NxbGl0ZTNfa2V5d29yZF9uYW1lXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfa2V5d29yZF9uYW1lID0gTW9kdWxlW1wiX3NxbGl0ZTNfa2V5d29yZF9uYW1lXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19rZXl3b3JkX25hbWVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfa2V5d29yZF9jb3VudCA9IE1vZHVsZVtcIl9zcWxpdGUzX2tleXdvcmRfY291bnRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19rZXl3b3JkX2NvdW50ID0gTW9kdWxlW1wiX3NxbGl0ZTNfa2V5d29yZF9jb3VudFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfa2V5d29yZF9jb3VudFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19rZXl3b3JkX2NoZWNrID0gTW9kdWxlW1wiX3NxbGl0ZTNfa2V5d29yZF9jaGVja1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2tleXdvcmRfY2hlY2sgPSBNb2R1bGVbXCJfc3FsaXRlM19rZXl3b3JkX2NoZWNrXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19rZXl3b3JkX2NoZWNrXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2NvbXBsZXRlID0gTW9kdWxlW1wiX3NxbGl0ZTNfY29tcGxldGVcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19jb21wbGV0ZSA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbXBsZXRlXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19jb21wbGV0ZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19saWJ2ZXJzaW9uID0gTW9kdWxlW1wiX3NxbGl0ZTNfbGlidmVyc2lvblwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2xpYnZlcnNpb24gPSBNb2R1bGVbXCJfc3FsaXRlM19saWJ2ZXJzaW9uXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19saWJ2ZXJzaW9uXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2xpYnZlcnNpb25fbnVtYmVyID0gTW9kdWxlW1wiX3NxbGl0ZTNfbGlidmVyc2lvbl9udW1iZXJcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19saWJ2ZXJzaW9uX251bWJlciA9IE1vZHVsZVtcIl9zcWxpdGUzX2xpYnZlcnNpb25fbnVtYmVyXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19saWJ2ZXJzaW9uX251bWJlclwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19zaHV0ZG93biA9IE1vZHVsZVtcIl9zcWxpdGUzX3NodXRkb3duXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfc2h1dGRvd24gPSBNb2R1bGVbXCJfc3FsaXRlM19zaHV0ZG93blwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfc2h1dGRvd25cIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfbGFzdF9pbnNlcnRfcm93aWQgPSBNb2R1bGVbXCJfc3FsaXRlM19sYXN0X2luc2VydF9yb3dpZFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2xhc3RfaW5zZXJ0X3Jvd2lkID0gTW9kdWxlW1wiX3NxbGl0ZTNfbGFzdF9pbnNlcnRfcm93aWRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2xhc3RfaW5zZXJ0X3Jvd2lkXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3NldF9sYXN0X2luc2VydF9yb3dpZCA9IE1vZHVsZVtcIl9zcWxpdGUzX3NldF9sYXN0X2luc2VydF9yb3dpZFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3NldF9sYXN0X2luc2VydF9yb3dpZCA9IE1vZHVsZVtcIl9zcWxpdGUzX3NldF9sYXN0X2luc2VydF9yb3dpZFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfc2V0X2xhc3RfaW5zZXJ0X3Jvd2lkXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2NoYW5nZXM2NCA9IE1vZHVsZVtcIl9zcWxpdGUzX2NoYW5nZXM2NFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2NoYW5nZXM2NCA9IE1vZHVsZVtcIl9zcWxpdGUzX2NoYW5nZXM2NFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfY2hhbmdlczY0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2NoYW5nZXMgPSBNb2R1bGVbXCJfc3FsaXRlM19jaGFuZ2VzXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfY2hhbmdlcyA9IE1vZHVsZVtcIl9zcWxpdGUzX2NoYW5nZXNcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2NoYW5nZXNcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfdG90YWxfY2hhbmdlczY0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfdG90YWxfY2hhbmdlczY0XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfdG90YWxfY2hhbmdlczY0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfdG90YWxfY2hhbmdlczY0XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM190b3RhbF9jaGFuZ2VzNjRcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfdG90YWxfY2hhbmdlcyA9IE1vZHVsZVtcIl9zcWxpdGUzX3RvdGFsX2NoYW5nZXNcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM190b3RhbF9jaGFuZ2VzID0gTW9kdWxlW1wiX3NxbGl0ZTNfdG90YWxfY2hhbmdlc1wiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfdG90YWxfY2hhbmdlc1wiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM190eG5fc3RhdGUgPSBNb2R1bGVbXCJfc3FsaXRlM190eG5fc3RhdGVcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM190eG5fc3RhdGUgPSBNb2R1bGVbXCJfc3FsaXRlM190eG5fc3RhdGVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3R4bl9zdGF0ZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19jbG9zZV92MiA9IE1vZHVsZVtcIl9zcWxpdGUzX2Nsb3NlX3YyXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfY2xvc2VfdjIgPSBNb2R1bGVbXCJfc3FsaXRlM19jbG9zZV92MlwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfY2xvc2VfdjJcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfYnVzeV9oYW5kbGVyID0gTW9kdWxlW1wiX3NxbGl0ZTNfYnVzeV9oYW5kbGVyXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfYnVzeV9oYW5kbGVyID0gTW9kdWxlW1wiX3NxbGl0ZTNfYnVzeV9oYW5kbGVyXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19idXN5X2hhbmRsZXJcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfcHJvZ3Jlc3NfaGFuZGxlciA9IE1vZHVsZVtcIl9zcWxpdGUzX3Byb2dyZXNzX2hhbmRsZXJcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19wcm9ncmVzc19oYW5kbGVyID0gTW9kdWxlW1wiX3NxbGl0ZTNfcHJvZ3Jlc3NfaGFuZGxlclwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfcHJvZ3Jlc3NfaGFuZGxlclwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19idXN5X3RpbWVvdXQgPSBNb2R1bGVbXCJfc3FsaXRlM19idXN5X3RpbWVvdXRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19idXN5X3RpbWVvdXQgPSBNb2R1bGVbXCJfc3FsaXRlM19idXN5X3RpbWVvdXRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2J1c3lfdGltZW91dFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19jcmVhdGVfZnVuY3Rpb24gPSBNb2R1bGVbXCJfc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25cIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19jcmVhdGVfZnVuY3Rpb24gPSBNb2R1bGVbXCJfc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25cIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2NyZWF0ZV9mdW5jdGlvblwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjIgPSBNb2R1bGVbXCJfc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjJcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjIgPSBNb2R1bGVbXCJfc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjJcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2NyZWF0ZV9mdW5jdGlvbl92MlwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19jcmVhdGVfd2luZG93X2Z1bmN0aW9uID0gTW9kdWxlW1wiX3NxbGl0ZTNfY3JlYXRlX3dpbmRvd19mdW5jdGlvblwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2NyZWF0ZV93aW5kb3dfZnVuY3Rpb24gPSBNb2R1bGVbXCJfc3FsaXRlM19jcmVhdGVfd2luZG93X2Z1bmN0aW9uXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19jcmVhdGVfd2luZG93X2Z1bmN0aW9uXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX292ZXJsb2FkX2Z1bmN0aW9uID0gTW9kdWxlW1wiX3NxbGl0ZTNfb3ZlcmxvYWRfZnVuY3Rpb25cIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19vdmVybG9hZF9mdW5jdGlvbiA9IE1vZHVsZVtcIl9zcWxpdGUzX292ZXJsb2FkX2Z1bmN0aW9uXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19vdmVybG9hZF9mdW5jdGlvblwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM190cmFjZV92MiA9IE1vZHVsZVtcIl9zcWxpdGUzX3RyYWNlX3YyXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfdHJhY2VfdjIgPSBNb2R1bGVbXCJfc3FsaXRlM190cmFjZV92MlwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfdHJhY2VfdjJcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfY29tbWl0X2hvb2sgPSBNb2R1bGVbXCJfc3FsaXRlM19jb21taXRfaG9va1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2NvbW1pdF9ob29rID0gTW9kdWxlW1wiX3NxbGl0ZTNfY29tbWl0X2hvb2tcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2NvbW1pdF9ob29rXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3VwZGF0ZV9ob29rID0gTW9kdWxlW1wiX3NxbGl0ZTNfdXBkYXRlX2hvb2tcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM191cGRhdGVfaG9vayA9IE1vZHVsZVtcIl9zcWxpdGUzX3VwZGF0ZV9ob29rXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM191cGRhdGVfaG9va1wiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19yb2xsYmFja19ob29rID0gTW9kdWxlW1wiX3NxbGl0ZTNfcm9sbGJhY2tfaG9va1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3JvbGxiYWNrX2hvb2sgPSBNb2R1bGVbXCJfc3FsaXRlM19yb2xsYmFja19ob29rXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19yb2xsYmFja19ob29rXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3ByZXVwZGF0ZV9ob29rID0gTW9kdWxlW1wiX3NxbGl0ZTNfcHJldXBkYXRlX2hvb2tcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19wcmV1cGRhdGVfaG9vayA9IE1vZHVsZVtcIl9zcWxpdGUzX3ByZXVwZGF0ZV9ob29rXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19wcmV1cGRhdGVfaG9va1wiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19lcnJvcl9vZmZzZXQgPSBNb2R1bGVbXCJfc3FsaXRlM19lcnJvcl9vZmZzZXRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19lcnJvcl9vZmZzZXQgPSBNb2R1bGVbXCJfc3FsaXRlM19lcnJvcl9vZmZzZXRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2Vycm9yX29mZnNldFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19lcnJjb2RlID0gTW9kdWxlW1wiX3NxbGl0ZTNfZXJyY29kZVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2VycmNvZGUgPSBNb2R1bGVbXCJfc3FsaXRlM19lcnJjb2RlXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19lcnJjb2RlXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2V4dGVuZGVkX2VycmNvZGUgPSBNb2R1bGVbXCJfc3FsaXRlM19leHRlbmRlZF9lcnJjb2RlXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfZXh0ZW5kZWRfZXJyY29kZSA9IE1vZHVsZVtcIl9zcWxpdGUzX2V4dGVuZGVkX2VycmNvZGVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2V4dGVuZGVkX2VycmNvZGVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfZXJyc3RyID0gTW9kdWxlW1wiX3NxbGl0ZTNfZXJyc3RyXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfZXJyc3RyID0gTW9kdWxlW1wiX3NxbGl0ZTNfZXJyc3RyXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19lcnJzdHJcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfbGltaXQgPSBNb2R1bGVbXCJfc3FsaXRlM19saW1pdFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2xpbWl0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfbGltaXRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2xpbWl0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX29wZW4gPSBNb2R1bGVbXCJfc3FsaXRlM19vcGVuXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfb3BlbiA9IE1vZHVsZVtcIl9zcWxpdGUzX29wZW5cIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX29wZW5cIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfb3Blbl92MiA9IE1vZHVsZVtcIl9zcWxpdGUzX29wZW5fdjJcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19vcGVuX3YyID0gTW9kdWxlW1wiX3NxbGl0ZTNfb3Blbl92MlwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfb3Blbl92MlwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19jcmVhdGVfY29sbGF0aW9uID0gTW9kdWxlW1wiX3NxbGl0ZTNfY3JlYXRlX2NvbGxhdGlvblwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2NyZWF0ZV9jb2xsYXRpb24gPSBNb2R1bGVbXCJfc3FsaXRlM19jcmVhdGVfY29sbGF0aW9uXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19jcmVhdGVfY29sbGF0aW9uXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2NyZWF0ZV9jb2xsYXRpb25fdjIgPSBNb2R1bGVbXCJfc3FsaXRlM19jcmVhdGVfY29sbGF0aW9uX3YyXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfY3JlYXRlX2NvbGxhdGlvbl92MiA9IE1vZHVsZVtcIl9zcWxpdGUzX2NyZWF0ZV9jb2xsYXRpb25fdjJcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2NyZWF0ZV9jb2xsYXRpb25fdjJcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfY29sbGF0aW9uX25lZWRlZCA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbGxhdGlvbl9uZWVkZWRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19jb2xsYXRpb25fbmVlZGVkID0gTW9kdWxlW1wiX3NxbGl0ZTNfY29sbGF0aW9uX25lZWRlZFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfY29sbGF0aW9uX25lZWRlZFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM190YWJsZV9jb2x1bW5fbWV0YWRhdGEgPSBNb2R1bGVbXCJfc3FsaXRlM190YWJsZV9jb2x1bW5fbWV0YWRhdGFcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM190YWJsZV9jb2x1bW5fbWV0YWRhdGEgPSBNb2R1bGVbXCJfc3FsaXRlM190YWJsZV9jb2x1bW5fbWV0YWRhdGFcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3RhYmxlX2NvbHVtbl9tZXRhZGF0YVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM19leHRlbmRlZF9yZXN1bHRfY29kZXMgPSBNb2R1bGVbXCJfc3FsaXRlM19leHRlbmRlZF9yZXN1bHRfY29kZXNcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19leHRlbmRlZF9yZXN1bHRfY29kZXMgPSBNb2R1bGVbXCJfc3FsaXRlM19leHRlbmRlZF9yZXN1bHRfY29kZXNcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2V4dGVuZGVkX3Jlc3VsdF9jb2Rlc1wiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM191cmlfa2V5ID0gTW9kdWxlW1wiX3NxbGl0ZTNfdXJpX2tleVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3VyaV9rZXkgPSBNb2R1bGVbXCJfc3FsaXRlM191cmlfa2V5XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM191cmlfa2V5XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3VyaV9pbnQ2NCA9IE1vZHVsZVtcIl9zcWxpdGUzX3VyaV9pbnQ2NFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3VyaV9pbnQ2NCA9IE1vZHVsZVtcIl9zcWxpdGUzX3VyaV9pbnQ2NFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfdXJpX2ludDY0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2RiX25hbWUgPSBNb2R1bGVbXCJfc3FsaXRlM19kYl9uYW1lXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfZGJfbmFtZSA9IE1vZHVsZVtcIl9zcWxpdGUzX2RiX25hbWVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2RiX25hbWVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfZGJfZmlsZW5hbWUgPSBNb2R1bGVbXCJfc3FsaXRlM19kYl9maWxlbmFtZVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2RiX2ZpbGVuYW1lID0gTW9kdWxlW1wiX3NxbGl0ZTNfZGJfZmlsZW5hbWVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX2RiX2ZpbGVuYW1lXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2NvbXBpbGVvcHRpb25fdXNlZCA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbXBpbGVvcHRpb25fdXNlZFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX2NvbXBpbGVvcHRpb25fdXNlZCA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbXBpbGVvcHRpb25fdXNlZFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfY29tcGlsZW9wdGlvbl91c2VkXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX2NvbXBpbGVvcHRpb25fZ2V0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfY29tcGlsZW9wdGlvbl9nZXRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM19jb21waWxlb3B0aW9uX2dldCA9IE1vZHVsZVtcIl9zcWxpdGUzX2NvbXBpbGVvcHRpb25fZ2V0XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM19jb21waWxlb3B0aW9uX2dldFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM3Nlc3Npb25fZGlmZiA9IE1vZHVsZVtcIl9zcWxpdGUzc2Vzc2lvbl9kaWZmXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNzZXNzaW9uX2RpZmYgPSBNb2R1bGVbXCJfc3FsaXRlM3Nlc3Npb25fZGlmZlwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNzZXNzaW9uX2RpZmZcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNzZXNzaW9uX2F0dGFjaCA9IE1vZHVsZVtcIl9zcWxpdGUzc2Vzc2lvbl9hdHRhY2hcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM3Nlc3Npb25fYXR0YWNoID0gTW9kdWxlW1wiX3NxbGl0ZTNzZXNzaW9uX2F0dGFjaFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNzZXNzaW9uX2F0dGFjaFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM3Nlc3Npb25fY3JlYXRlID0gTW9kdWxlW1wiX3NxbGl0ZTNzZXNzaW9uX2NyZWF0ZVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzc2Vzc2lvbl9jcmVhdGUgPSBNb2R1bGVbXCJfc3FsaXRlM3Nlc3Npb25fY3JlYXRlXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM3Nlc3Npb25fY3JlYXRlXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzc2Vzc2lvbl9kZWxldGUgPSBNb2R1bGVbXCJfc3FsaXRlM3Nlc3Npb25fZGVsZXRlXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNzZXNzaW9uX2RlbGV0ZSA9IE1vZHVsZVtcIl9zcWxpdGUzc2Vzc2lvbl9kZWxldGVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzc2Vzc2lvbl9kZWxldGVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNzZXNzaW9uX3RhYmxlX2ZpbHRlciA9IE1vZHVsZVtcIl9zcWxpdGUzc2Vzc2lvbl90YWJsZV9maWx0ZXJcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM3Nlc3Npb25fdGFibGVfZmlsdGVyID0gTW9kdWxlW1wiX3NxbGl0ZTNzZXNzaW9uX3RhYmxlX2ZpbHRlclwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNzZXNzaW9uX3RhYmxlX2ZpbHRlclwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM3Nlc3Npb25fY2hhbmdlc2V0ID0gTW9kdWxlW1wiX3NxbGl0ZTNzZXNzaW9uX2NoYW5nZXNldFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzc2Vzc2lvbl9jaGFuZ2VzZXQgPSBNb2R1bGVbXCJfc3FsaXRlM3Nlc3Npb25fY2hhbmdlc2V0XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM3Nlc3Npb25fY2hhbmdlc2V0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzc2Vzc2lvbl9jaGFuZ2VzZXRfc3RybSA9IE1vZHVsZVtcIl9zcWxpdGUzc2Vzc2lvbl9jaGFuZ2VzZXRfc3RybVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzc2Vzc2lvbl9jaGFuZ2VzZXRfc3RybSA9IE1vZHVsZVtcIl9zcWxpdGUzc2Vzc2lvbl9jaGFuZ2VzZXRfc3RybVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNzZXNzaW9uX2NoYW5nZXNldF9zdHJtXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzc2Vzc2lvbl9wYXRjaHNldF9zdHJtID0gTW9kdWxlW1wiX3NxbGl0ZTNzZXNzaW9uX3BhdGNoc2V0X3N0cm1cIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM3Nlc3Npb25fcGF0Y2hzZXRfc3RybSA9IE1vZHVsZVtcIl9zcWxpdGUzc2Vzc2lvbl9wYXRjaHNldF9zdHJtXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM3Nlc3Npb25fcGF0Y2hzZXRfc3RybVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM3Nlc3Npb25fcGF0Y2hzZXQgPSBNb2R1bGVbXCJfc3FsaXRlM3Nlc3Npb25fcGF0Y2hzZXRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM3Nlc3Npb25fcGF0Y2hzZXQgPSBNb2R1bGVbXCJfc3FsaXRlM3Nlc3Npb25fcGF0Y2hzZXRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzc2Vzc2lvbl9wYXRjaHNldFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM3Nlc3Npb25fZW5hYmxlID0gTW9kdWxlW1wiX3NxbGl0ZTNzZXNzaW9uX2VuYWJsZVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzc2Vzc2lvbl9lbmFibGUgPSBNb2R1bGVbXCJfc3FsaXRlM3Nlc3Npb25fZW5hYmxlXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM3Nlc3Npb25fZW5hYmxlXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzc2Vzc2lvbl9pbmRpcmVjdCA9IE1vZHVsZVtcIl9zcWxpdGUzc2Vzc2lvbl9pbmRpcmVjdFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzc2Vzc2lvbl9pbmRpcmVjdCA9IE1vZHVsZVtcIl9zcWxpdGUzc2Vzc2lvbl9pbmRpcmVjdFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNzZXNzaW9uX2luZGlyZWN0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzc2Vzc2lvbl9pc2VtcHR5ID0gTW9kdWxlW1wiX3NxbGl0ZTNzZXNzaW9uX2lzZW1wdHlcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM3Nlc3Npb25faXNlbXB0eSA9IE1vZHVsZVtcIl9zcWxpdGUzc2Vzc2lvbl9pc2VtcHR5XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM3Nlc3Npb25faXNlbXB0eVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM3Nlc3Npb25fbWVtb3J5X3VzZWQgPSBNb2R1bGVbXCJfc3FsaXRlM3Nlc3Npb25fbWVtb3J5X3VzZWRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM3Nlc3Npb25fbWVtb3J5X3VzZWQgPSBNb2R1bGVbXCJfc3FsaXRlM3Nlc3Npb25fbWVtb3J5X3VzZWRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzc2Vzc2lvbl9tZW1vcnlfdXNlZFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM3Nlc3Npb25fb2JqZWN0X2NvbmZpZyA9IE1vZHVsZVtcIl9zcWxpdGUzc2Vzc2lvbl9vYmplY3RfY29uZmlnXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNzZXNzaW9uX29iamVjdF9jb25maWcgPSBNb2R1bGVbXCJfc3FsaXRlM3Nlc3Npb25fb2JqZWN0X2NvbmZpZ1wiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNzZXNzaW9uX29iamVjdF9jb25maWdcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNzZXNzaW9uX2NoYW5nZXNldF9zaXplID0gTW9kdWxlW1wiX3NxbGl0ZTNzZXNzaW9uX2NoYW5nZXNldF9zaXplXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNzZXNzaW9uX2NoYW5nZXNldF9zaXplID0gTW9kdWxlW1wiX3NxbGl0ZTNzZXNzaW9uX2NoYW5nZXNldF9zaXplXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM3Nlc3Npb25fY2hhbmdlc2V0X3NpemVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNjaGFuZ2VzZXRfc3RhcnQgPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZXNldF9zdGFydFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzY2hhbmdlc2V0X3N0YXJ0ID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfc3RhcnRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzY2hhbmdlc2V0X3N0YXJ0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzY2hhbmdlc2V0X3N0YXJ0X3YyID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfc3RhcnRfdjJcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM2NoYW5nZXNldF9zdGFydF92MiA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlc2V0X3N0YXJ0X3YyXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM2NoYW5nZXNldF9zdGFydF92MlwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM2NoYW5nZXNldF9zdGFydF9zdHJtID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfc3RhcnRfc3RybVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzY2hhbmdlc2V0X3N0YXJ0X3N0cm0gPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZXNldF9zdGFydF9zdHJtXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM2NoYW5nZXNldF9zdGFydF9zdHJtXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzY2hhbmdlc2V0X3N0YXJ0X3YyX3N0cm0gPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZXNldF9zdGFydF92Ml9zdHJtXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNjaGFuZ2VzZXRfc3RhcnRfdjJfc3RybSA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlc2V0X3N0YXJ0X3YyX3N0cm1cIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzY2hhbmdlc2V0X3N0YXJ0X3YyX3N0cm1cIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNjaGFuZ2VzZXRfbmV4dCA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlc2V0X25leHRcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM2NoYW5nZXNldF9uZXh0ID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfbmV4dFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNjaGFuZ2VzZXRfbmV4dFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM2NoYW5nZXNldF9vcCA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlc2V0X29wXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNjaGFuZ2VzZXRfb3AgPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZXNldF9vcFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNjaGFuZ2VzZXRfb3BcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNjaGFuZ2VzZXRfcGsgPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZXNldF9wa1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzY2hhbmdlc2V0X3BrID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfcGtcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzY2hhbmdlc2V0X3BrXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzY2hhbmdlc2V0X29sZCA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlc2V0X29sZFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzY2hhbmdlc2V0X29sZCA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlc2V0X29sZFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNjaGFuZ2VzZXRfb2xkXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzY2hhbmdlc2V0X25ldyA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlc2V0X25ld1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzY2hhbmdlc2V0X25ldyA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlc2V0X25ld1wiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNjaGFuZ2VzZXRfbmV3XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzY2hhbmdlc2V0X2NvbmZsaWN0ID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfY29uZmxpY3RcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM2NoYW5nZXNldF9jb25mbGljdCA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlc2V0X2NvbmZsaWN0XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM2NoYW5nZXNldF9jb25mbGljdFwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM2NoYW5nZXNldF9ma19jb25mbGljdHMgPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZXNldF9ma19jb25mbGljdHNcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM2NoYW5nZXNldF9ma19jb25mbGljdHMgPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZXNldF9ma19jb25mbGljdHNcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzY2hhbmdlc2V0X2ZrX2NvbmZsaWN0c1wiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM2NoYW5nZXNldF9maW5hbGl6ZSA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlc2V0X2ZpbmFsaXplXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNjaGFuZ2VzZXRfZmluYWxpemUgPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZXNldF9maW5hbGl6ZVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNjaGFuZ2VzZXRfZmluYWxpemVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNjaGFuZ2VzZXRfaW52ZXJ0ID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfaW52ZXJ0XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNjaGFuZ2VzZXRfaW52ZXJ0ID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfaW52ZXJ0XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM2NoYW5nZXNldF9pbnZlcnRcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNjaGFuZ2VzZXRfaW52ZXJ0X3N0cm0gPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZXNldF9pbnZlcnRfc3RybVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzY2hhbmdlc2V0X2ludmVydF9zdHJtID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfaW52ZXJ0X3N0cm1cIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzY2hhbmdlc2V0X2ludmVydF9zdHJtXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzY2hhbmdlc2V0X2FwcGx5X3YyID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfYXBwbHlfdjJcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM2NoYW5nZXNldF9hcHBseV92MiA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlc2V0X2FwcGx5X3YyXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM2NoYW5nZXNldF9hcHBseV92MlwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM2NoYW5nZXNldF9hcHBseSA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlc2V0X2FwcGx5XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNjaGFuZ2VzZXRfYXBwbHkgPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZXNldF9hcHBseVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNjaGFuZ2VzZXRfYXBwbHlcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNjaGFuZ2VzZXRfYXBwbHlfdjJfc3RybSA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlc2V0X2FwcGx5X3YyX3N0cm1cIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM2NoYW5nZXNldF9hcHBseV92Ml9zdHJtID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfYXBwbHlfdjJfc3RybVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNjaGFuZ2VzZXRfYXBwbHlfdjJfc3RybVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM2NoYW5nZXNldF9hcHBseV9zdHJtID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfYXBwbHlfc3RybVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzY2hhbmdlc2V0X2FwcGx5X3N0cm0gPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZXNldF9hcHBseV9zdHJtXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM2NoYW5nZXNldF9hcHBseV9zdHJtXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzY2hhbmdlZ3JvdXBfbmV3ID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2Vncm91cF9uZXdcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM2NoYW5nZWdyb3VwX25ldyA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlZ3JvdXBfbmV3XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM2NoYW5nZWdyb3VwX25ld1wiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM2NoYW5nZWdyb3VwX2FkZCA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlZ3JvdXBfYWRkXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNjaGFuZ2Vncm91cF9hZGQgPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZWdyb3VwX2FkZFwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNjaGFuZ2Vncm91cF9hZGRcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNjaGFuZ2Vncm91cF9vdXRwdXQgPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZWdyb3VwX291dHB1dFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzY2hhbmdlZ3JvdXBfb3V0cHV0ID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2Vncm91cF9vdXRwdXRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzY2hhbmdlZ3JvdXBfb3V0cHV0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzY2hhbmdlZ3JvdXBfYWRkX3N0cm0gPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZWdyb3VwX2FkZF9zdHJtXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNjaGFuZ2Vncm91cF9hZGRfc3RybSA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlZ3JvdXBfYWRkX3N0cm1cIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzY2hhbmdlZ3JvdXBfYWRkX3N0cm1cIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNjaGFuZ2Vncm91cF9vdXRwdXRfc3RybSA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlZ3JvdXBfb3V0cHV0X3N0cm1cIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM2NoYW5nZWdyb3VwX291dHB1dF9zdHJtID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2Vncm91cF9vdXRwdXRfc3RybVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNjaGFuZ2Vncm91cF9vdXRwdXRfc3RybVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM2NoYW5nZWdyb3VwX2RlbGV0ZSA9IE1vZHVsZVtcIl9zcWxpdGUzY2hhbmdlZ3JvdXBfZGVsZXRlXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNjaGFuZ2Vncm91cF9kZWxldGUgPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZWdyb3VwX2RlbGV0ZVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNjaGFuZ2Vncm91cF9kZWxldGVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNjaGFuZ2VzZXRfY29uY2F0ID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfY29uY2F0XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNjaGFuZ2VzZXRfY29uY2F0ID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfY29uY2F0XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM2NoYW5nZXNldF9jb25jYXRcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNjaGFuZ2VzZXRfY29uY2F0X3N0cm0gPSBNb2R1bGVbXCJfc3FsaXRlM2NoYW5nZXNldF9jb25jYXRfc3RybVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzY2hhbmdlc2V0X2NvbmNhdF9zdHJtID0gTW9kdWxlW1wiX3NxbGl0ZTNjaGFuZ2VzZXRfY29uY2F0X3N0cm1cIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzY2hhbmdlc2V0X2NvbmNhdF9zdHJtXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzc2Vzc2lvbl9jb25maWcgPSBNb2R1bGVbXCJfc3FsaXRlM3Nlc3Npb25fY29uZmlnXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNzZXNzaW9uX2NvbmZpZyA9IE1vZHVsZVtcIl9zcWxpdGUzc2Vzc2lvbl9jb25maWdcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzc2Vzc2lvbl9jb25maWdcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfc291cmNlaWQgPSBNb2R1bGVbXCJfc3FsaXRlM19zb3VyY2VpZFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3NvdXJjZWlkID0gTW9kdWxlW1wiX3NxbGl0ZTNfc291cmNlaWRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3NvdXJjZWlkXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fcHN0YWNrX3B0ciA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fcHN0YWNrX3B0clwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21fcHN0YWNrX3B0ciA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fcHN0YWNrX3B0clwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfd2FzbV9wc3RhY2tfcHRyXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fcHN0YWNrX3Jlc3RvcmUgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX3BzdGFja19yZXN0b3JlXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfd2FzbV9wc3RhY2tfcmVzdG9yZSA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fcHN0YWNrX3Jlc3RvcmVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3dhc21fcHN0YWNrX3Jlc3RvcmVcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfd2FzbV9wc3RhY2tfYWxsb2MgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX3BzdGFja19hbGxvY1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21fcHN0YWNrX2FsbG9jID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV9wc3RhY2tfYWxsb2NcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3dhc21fcHN0YWNrX2FsbG9jXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fcHN0YWNrX3JlbWFpbmluZyA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fcHN0YWNrX3JlbWFpbmluZ1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21fcHN0YWNrX3JlbWFpbmluZyA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fcHN0YWNrX3JlbWFpbmluZ1wiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfd2FzbV9wc3RhY2tfcmVtYWluaW5nXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fcHN0YWNrX3F1b3RhID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV9wc3RhY2tfcXVvdGFcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM193YXNtX3BzdGFja19xdW90YSA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fcHN0YWNrX3F1b3RhXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM193YXNtX3BzdGFja19xdW90YVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM193YXNtX2RiX2Vycm9yID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV9kYl9lcnJvclwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21fZGJfZXJyb3IgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX2RiX2Vycm9yXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM193YXNtX2RiX2Vycm9yXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fdGVzdF9zdHJ1Y3QgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX3Rlc3Rfc3RydWN0XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfd2FzbV90ZXN0X3N0cnVjdCA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fdGVzdF9zdHJ1Y3RcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3dhc21fdGVzdF9zdHJ1Y3RcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfd2FzbV9lbnVtX2pzb24gPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX2VudW1fanNvblwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21fZW51bV9qc29uID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV9lbnVtX2pzb25cIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3dhc21fZW51bV9qc29uXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fdmZzX3VubGluayA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fdmZzX3VubGlua1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21fdmZzX3VubGluayA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fdmZzX3VubGlua1wiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfd2FzbV92ZnNfdW5saW5rXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fZGJfdmZzID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV9kYl92ZnNcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM193YXNtX2RiX3ZmcyA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fZGJfdmZzXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM193YXNtX2RiX3Zmc1wiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM193YXNtX2RiX3Jlc2V0ID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV9kYl9yZXNldFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21fZGJfcmVzZXQgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX2RiX3Jlc2V0XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM193YXNtX2RiX3Jlc2V0XCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fZGJfZXhwb3J0X2NodW5rZWQgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX2RiX2V4cG9ydF9jaHVua2VkXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfd2FzbV9kYl9leHBvcnRfY2h1bmtlZCA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fZGJfZXhwb3J0X2NodW5rZWRcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3dhc21fZGJfZXhwb3J0X2NodW5rZWRcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfd2FzbV9kYl9zZXJpYWxpemUgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX2RiX3NlcmlhbGl6ZVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21fZGJfc2VyaWFsaXplID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV9kYl9zZXJpYWxpemVcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3dhc21fZGJfc2VyaWFsaXplXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fdmZzX2NyZWF0ZV9maWxlID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV92ZnNfY3JlYXRlX2ZpbGVcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM193YXNtX3Zmc19jcmVhdGVfZmlsZSA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fdmZzX2NyZWF0ZV9maWxlXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM193YXNtX3Zmc19jcmVhdGVfZmlsZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM193YXNtX2t2dmZzTWFrZUtleU9uUHN0YWNrID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV9rdnZmc01ha2VLZXlPblBzdGFja1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21fa3Z2ZnNNYWtlS2V5T25Qc3RhY2sgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX2t2dmZzTWFrZUtleU9uUHN0YWNrXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM193YXNtX2t2dmZzTWFrZUtleU9uUHN0YWNrXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fa3Z2ZnNfbWV0aG9kcyA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fa3Z2ZnNfbWV0aG9kc1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21fa3Z2ZnNfbWV0aG9kcyA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fa3Z2ZnNfbWV0aG9kc1wiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfd2FzbV9rdnZmc19tZXRob2RzXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fdnRhYl9jb25maWcgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX3Z0YWJfY29uZmlnXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfd2FzbV92dGFiX2NvbmZpZyA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fdnRhYl9jb25maWdcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3dhc21fdnRhYl9jb25maWdcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfd2FzbV9kYl9jb25maWdfaXAgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX2RiX2NvbmZpZ19pcFwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21fZGJfY29uZmlnX2lwID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV9kYl9jb25maWdfaXBcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3dhc21fZGJfY29uZmlnX2lwXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fZGJfY29uZmlnX3BpaSA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fZGJfY29uZmlnX3BpaVwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21fZGJfY29uZmlnX3BpaSA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fZGJfY29uZmlnX3BpaVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfd2FzbV9kYl9jb25maWdfcGlpXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fZGJfY29uZmlnX3MgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX2RiX2NvbmZpZ19zXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfd2FzbV9kYl9jb25maWdfcyA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fZGJfY29uZmlnX3NcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3dhc21fZGJfY29uZmlnX3NcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfd2FzbV9jb25maWdfaSA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fY29uZmlnX2lcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM193YXNtX2NvbmZpZ19pID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV9jb25maWdfaVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfd2FzbV9jb25maWdfaVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM193YXNtX2NvbmZpZ19paSA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fY29uZmlnX2lpXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfd2FzbV9jb25maWdfaWkgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX2NvbmZpZ19paVwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfd2FzbV9jb25maWdfaWlcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfd2FzbV9jb25maWdfaiA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fY29uZmlnX2pcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM193YXNtX2NvbmZpZ19qID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV9jb25maWdfalwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfd2FzbV9jb25maWdfalwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM193YXNtX2luaXRfd2FzbWZzID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV9pbml0X3dhc21mc1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21faW5pdF93YXNtZnMgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX2luaXRfd2FzbWZzXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM193YXNtX2luaXRfd2FzbWZzXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fdGVzdF9pbnRwdHIgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX3Rlc3RfaW50cHRyXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfd2FzbV90ZXN0X2ludHB0ciA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fdGVzdF9pbnRwdHJcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3dhc21fdGVzdF9pbnRwdHJcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfd2FzbV90ZXN0X3ZvaWRwdHIgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX3Rlc3Rfdm9pZHB0clwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21fdGVzdF92b2lkcHRyID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV90ZXN0X3ZvaWRwdHJcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3dhc21fdGVzdF92b2lkcHRyXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fdGVzdF9pbnQ2NF9tYXggPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX3Rlc3RfaW50NjRfbWF4XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfd2FzbV90ZXN0X2ludDY0X21heCA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fdGVzdF9pbnQ2NF9tYXhcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3dhc21fdGVzdF9pbnQ2NF9tYXhcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfd2FzbV90ZXN0X2ludDY0X21pbiA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fdGVzdF9pbnQ2NF9taW5cIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM193YXNtX3Rlc3RfaW50NjRfbWluID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV90ZXN0X2ludDY0X21pblwiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfd2FzbV90ZXN0X2ludDY0X21pblwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfc3FsaXRlM193YXNtX3Rlc3RfaW50NjRfdGltZXMyID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV90ZXN0X2ludDY0X3RpbWVzMlwiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9zcWxpdGUzX3dhc21fdGVzdF9pbnQ2NF90aW1lczIgPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX3Rlc3RfaW50NjRfdGltZXMyXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM193YXNtX3Rlc3RfaW50NjRfdGltZXMyXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9zcWxpdGUzX3dhc21fdGVzdF9pbnQ2NF9taW5tYXggPSBNb2R1bGVbXCJfc3FsaXRlM193YXNtX3Rlc3RfaW50NjRfbWlubWF4XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfd2FzbV90ZXN0X2ludDY0X21pbm1heCA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fdGVzdF9pbnQ2NF9taW5tYXhcIl0gPSBNb2R1bGVbXCJhc21cIl1bXCJzcWxpdGUzX3dhc21fdGVzdF9pbnQ2NF9taW5tYXhcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfd2FzbV90ZXN0X2ludDY0cHRyID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV90ZXN0X2ludDY0cHRyXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfd2FzbV90ZXN0X2ludDY0cHRyID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV90ZXN0X2ludDY0cHRyXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM193YXNtX3Rlc3RfaW50NjRwdHJcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfd2FzbV90ZXN0X3N0YWNrX292ZXJmbG93ID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV90ZXN0X3N0YWNrX292ZXJmbG93XCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3NxbGl0ZTNfd2FzbV90ZXN0X3N0YWNrX292ZXJmbG93ID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV90ZXN0X3N0YWNrX292ZXJmbG93XCJdID0gTW9kdWxlW1wiYXNtXCJdW1wic3FsaXRlM193YXNtX3Rlc3Rfc3RhY2tfb3ZlcmZsb3dcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgX3NxbGl0ZTNfd2FzbV90ZXN0X3N0cl9oZWxsbyA9IE1vZHVsZVtcIl9zcWxpdGUzX3dhc21fdGVzdF9zdHJfaGVsbG9cIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfc3FsaXRlM193YXNtX3Rlc3Rfc3RyX2hlbGxvID0gTW9kdWxlW1wiX3NxbGl0ZTNfd2FzbV90ZXN0X3N0cl9oZWxsb1wiXSA9IE1vZHVsZVtcImFzbVwiXVtcInNxbGl0ZTNfd2FzbV90ZXN0X3N0cl9oZWxsb1wiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfbWFsbG9jID0gTW9kdWxlW1wiX21hbGxvY1wiXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKF9tYWxsb2MgPSBNb2R1bGVbXCJfbWFsbG9jXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wibWFsbG9jXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIF9mcmVlID0gTW9kdWxlW1wiX2ZyZWVcIl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChfZnJlZSA9IE1vZHVsZVtcIl9mcmVlXCJdID0gTW9kdWxlW1wiYXNtXCJdW1wiZnJlZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBfcmVhbGxvYyA9IE1vZHVsZVtcIl9yZWFsbG9jXCJdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoX3JlYWxsb2MgPSBNb2R1bGVbXCJfcmVhbGxvY1wiXSA9IE1vZHVsZVtcImFzbVwiXVtcInJlYWxsb2NcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG4vKiogQHR5cGUge2Z1bmN0aW9uKC4uLiopOj99ICovXG52YXIgc3RhY2tTYXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoc3RhY2tTYXZlID0gTW9kdWxlW1wiYXNtXCJdW1wic3RhY2tTYXZlXCJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbiguLi4qKTo/fSAqL1xudmFyIHN0YWNrUmVzdG9yZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKHN0YWNrUmVzdG9yZSA9IE1vZHVsZVtcImFzbVwiXVtcInN0YWNrUmVzdG9yZVwiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oLi4uKik6P30gKi9cbnZhciBzdGFja0FsbG9jID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoc3RhY2tBbGxvYyA9IE1vZHVsZVtcImFzbVwiXVtcInN0YWNrQWxsb2NcIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG5cblxuLy8gaW5jbHVkZTogcG9zdGFtYmxlLmpzXG4vLyA9PT0gQXV0by1nZW5lcmF0ZWQgcG9zdGFtYmxlIHNldHVwIGVudHJ5IHN0dWZmID09PVxuXG5Nb2R1bGVbXCJ3YXNtTWVtb3J5XCJdID0gd2FzbU1lbW9yeTtcblxuXG52YXIgY2FsbGVkUnVuO1xuXG5kZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBmdW5jdGlvbiBydW5DYWxsZXIoKSB7XG4gIC8vIElmIHJ1biBoYXMgbmV2ZXIgYmVlbiBjYWxsZWQsIGFuZCB3ZSBzaG91bGQgY2FsbCBydW4gKElOVk9LRV9SVU4gaXMgdHJ1ZSwgYW5kIE1vZHVsZS5ub0luaXRpYWxSdW4gaXMgbm90IGZhbHNlKVxuICBpZiAoIWNhbGxlZFJ1bikgcnVuKCk7XG4gIGlmICghY2FsbGVkUnVuKSBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBydW5DYWxsZXI7IC8vIHRyeSB0aGlzIGFnYWluIGxhdGVyLCBhZnRlciBuZXcgZGVwcyBhcmUgZnVsZmlsbGVkXG59O1xuXG5mdW5jdGlvbiBydW4oKSB7XG5cbiAgaWYgKHJ1bkRlcGVuZGVuY2llcyA+IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwcmVSdW4oKTtcblxuICAvLyBhIHByZVJ1biBhZGRlZCBhIGRlcGVuZGVuY3ksIHJ1biB3aWxsIGJlIGNhbGxlZCBsYXRlclxuICBpZiAocnVuRGVwZW5kZW5jaWVzID4gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvUnVuKCkge1xuICAgIC8vIHJ1biBtYXkgaGF2ZSBqdXN0IGJlZW4gY2FsbGVkIHRocm91Z2ggZGVwZW5kZW5jaWVzIGJlaW5nIGZ1bGZpbGxlZCBqdXN0IGluIHRoaXMgdmVyeSBmcmFtZSxcbiAgICAvLyBvciB3aGlsZSB0aGUgYXN5bmMgc2V0U3RhdHVzIHRpbWUgYmVsb3cgd2FzIGhhcHBlbmluZ1xuICAgIGlmIChjYWxsZWRSdW4pIHJldHVybjtcbiAgICBjYWxsZWRSdW4gPSB0cnVlO1xuICAgIE1vZHVsZVsnY2FsbGVkUnVuJ10gPSB0cnVlO1xuXG4gICAgaWYgKEFCT1JUKSByZXR1cm47XG5cbiAgICBpbml0UnVudGltZSgpO1xuXG4gICAgcmVhZHlQcm9taXNlUmVzb2x2ZShNb2R1bGUpO1xuICAgIGlmIChNb2R1bGVbJ29uUnVudGltZUluaXRpYWxpemVkJ10pIE1vZHVsZVsnb25SdW50aW1lSW5pdGlhbGl6ZWQnXSgpO1xuXG4gICAgcG9zdFJ1bigpO1xuICB9XG5cbiAgaWYgKE1vZHVsZVsnc2V0U3RhdHVzJ10pIHtcbiAgICBNb2R1bGVbJ3NldFN0YXR1cyddKCdSdW5uaW5nLi4uJyk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIE1vZHVsZVsnc2V0U3RhdHVzJ10oJycpO1xuICAgICAgfSwgMSk7XG4gICAgICBkb1J1bigpO1xuICAgIH0sIDEpO1xuICB9IGVsc2VcbiAge1xuICAgIGRvUnVuKCk7XG4gIH1cbn1cblxuaWYgKE1vZHVsZVsncHJlSW5pdCddKSB7XG4gIGlmICh0eXBlb2YgTW9kdWxlWydwcmVJbml0J10gPT0gJ2Z1bmN0aW9uJykgTW9kdWxlWydwcmVJbml0J10gPSBbTW9kdWxlWydwcmVJbml0J11dO1xuICB3aGlsZSAoTW9kdWxlWydwcmVJbml0J10ubGVuZ3RoID4gMCkge1xuICAgIE1vZHVsZVsncHJlSW5pdCddLnBvcCgpKCk7XG4gIH1cbn1cblxucnVuKCk7XG5cblxuLy8gZW5kIGluY2x1ZGU6IHBvc3RhbWJsZS5qc1xuLy8gaW5jbHVkZTogL2hvbWUvbW1vbS9zcmMvc3FsaXRlLXdhc20taHR0cC9kZXBzL3NxbGl0ZS9leHQvd2FzbS9ibGQvcG9zdC1qcy5idW5kbGVyLWZyaWVuZGx5LmpzXG4vKiBCRUdJTiBGSUxFOiBhcGkvcG9zdC1qcy1oZWFkZXIuanMgKi9cbi8qKlxuICAgcG9zdC1qcy1oZWFkZXIuanMgaXMgdG8gYmUgcHJlcGVuZGVkIHRvIG90aGVyIGNvZGUgdG8gY3JlYXRlXG4gICBwb3N0LWpzLmpzIGZvciB1c2Ugd2l0aCBFbXNjcmlwdGVuJ3MgLS1wb3N0LWpzIGZsYWcuIFRoaXMgY29kZVxuICAgcmVxdWlyZXMgdGhhdCBpdCBiZSBydW5uaW5nIGluIHRoYXQgY29udGV4dC4gVGhlIEVtc2NyaXB0ZW5cbiAgIGVudmlyb25tZW50IG11c3QgaGF2ZSBiZWVuIHNldCB1cCBhbHJlYWR5IGJ1dCBpdCB3aWxsIG5vdCBoYXZlXG4gICBsb2FkZWQgaXRzIFdBU00gd2hlbiB0aGUgY29kZSBpbiB0aGlzIGZpbGUgaXMgcnVuLiBUaGUgZnVuY3Rpb24gaXRcbiAgIGluc3RhbGxzIHdpbGwgYmUgcnVuIGFmdGVyIHRoZSBXQVNNIG1vZHVsZSBpcyBsb2FkZWQsIGF0IHdoaWNoXG4gICBwb2ludCB0aGUgc3FsaXRlMyBKUyBBUEkgYml0cyB3aWxsIGdldCBzZXQgdXAuXG4qL1xuaWYoIU1vZHVsZS5wb3N0UnVuKSBNb2R1bGUucG9zdFJ1biA9IFtdO1xuTW9kdWxlLnBvc3RSdW4ucHVzaChmdW5jdGlvbihNb2R1bGUvKnRoZSBFbXNjcmlwdGVuLXN0eWxlIG1vZHVsZSBvYmplY3QqLyl7XG4gICd1c2Ugc3RyaWN0JztcbiAgLyogVGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRhaW4gYXQgbGVhc3QgdGhlIGZvbGxvd2luZzpcblxuICAgICAtIHBvc3QtanMtaGVhZGVyLmpzICh0aGlzIGZpbGUpXG4gICAgIC0gc3FsaXRlMy1hcGktcHJvbG9ndWUuanMgID0+IEJvb3RzdHJhcHBpbmcgYml0cyB0byBhdHRhY2ggdGhlIHJlc3QgdG9cbiAgICAgLSBjb21tb24vd2h3YXNtdXRpbC5qcyAgICAgPT4gUmVwbGFjZW1lbnRzIGZvciBtdWNoIG9mIEVtc2NyaXB0ZW4ncyBnbHVlXG4gICAgIC0gamFjY3dhYnkvamFjY3dhYnl0LmpzICAgID0+IEphY2N3YWJ5dCAoQy9KUyBzdHJ1Y3QgYmluZGluZylcbiAgICAgLSBzcWxpdGUzLWFwaS1nbHVlLmpzICAgICAgPT4gZ2x1ZXMgcHJldmlvdXMgcGFydHMgdG9nZXRoZXJcbiAgICAgLSBzcWxpdGUzLWFwaS1vby5qcyAgICAgICAgPT4gU1FMaXRlMyBPTyBBUEkgIzFcbiAgICAgLSBzcWxpdGUzLWFwaS13b3JrZXIxLmpzICAgPT4gV29ya2VyLWJhc2VkIEFQSVxuICAgICAtIHNxbGl0ZTMtdmZzLWhlbHBlci5qcyAgICA9PiBJbnRlcm5hbC11c2UgdXRpbGl0aWVzIGZvci4uLlxuICAgICAtIHNxbGl0ZTMtdmZzLW9wZnMuanMgICAgICA9PiBPUEZTIFZGU1xuICAgICAtIHNxbGl0ZTMtYXBpLWNsZWFudXAuanMgICA9PiBmaW5hbCBBUEkgY2xlYW51cFxuICAgICAtIHBvc3QtanMtZm9vdGVyLmpzICAgICAgICA9PiBjbG9zZXMgdGhpcyBwb3N0UnVuKCkgZnVuY3Rpb25cbiAgKi9cbi8qIEVORCBGSUxFOiBhcGkvcG9zdC1qcy1oZWFkZXIuanMgKi9cbi8qIEJFR0lOIEZJTEU6IC4vYmxkL3NxbGl0ZTMtYXBpLmMtcHAuanMgKi9cbi8qIEJFR0lOIEZJTEU6IC4vYmxkL3NxbGl0ZTMtbGljZW5zZS12ZXJzaW9uLmpzICovXG4vKlxuKiogTElDRU5TRSBmb3IgdGhlIHNxbGl0ZTMgV2ViQXNzZW1ibHkvSmF2YVNjcmlwdCBBUElzLlxuKipcbioqIFRoaXMgYnVuZGxlICh0eXBpY2FsbHkgcmVsZWFzZWQgYXMgc3FsaXRlMy5qcyBvciBzcWxpdGUzLm1qcylcbioqIGlzIGFuIGFtYWxnYW1hdGlvbiBvZiBKYXZhU2NyaXB0IHNvdXJjZSBjb2RlIGZyb20gdHdvIHByb2plY3RzOlxuKipcbioqIDEpIGh0dHBzOi8vZW1zY3JpcHRlbi5vcmc6IHRoZSBFbXNjcmlwdGVuIFwiZ2x1ZSBjb2RlXCIgaXMgY292ZXJlZCBieVxuKiogICAgdGhlIHRlcm1zIG9mIHRoZSBNSVQgbGljZW5zZSBhbmQgVW5pdmVyc2l0eSBvZiBJbGxpbm9pcy9OQ1NBXG4qKiAgICBPcGVuIFNvdXJjZSBMaWNlbnNlLCBhcyBkZXNjcmliZWQgYXQ6XG4qKlxuKiogICAgaHR0cHM6Ly9lbXNjcmlwdGVuLm9yZy9kb2NzL2ludHJvZHVjaW5nX2Vtc2NyaXB0ZW4vZW1zY3JpcHRlbl9saWNlbnNlLmh0bWxcbioqXG4qKiAyKSBodHRwczovL3NxbGl0ZS5vcmc6IGFsbCBjb2RlIGFuZCBkb2N1bWVudGF0aW9uIGxhYmVsZWQgYXMgYmVpbmdcbioqICAgIGZyb20gdGhpcyBzb3VyY2UgYXJlIHJlbGVhc2VkIHVuZGVyIHRoZSBzYW1lIHRlcm1zIGFzIHRoZSBzcWxpdGUzXG4qKiAgICBDIGxpYnJhcnk6XG4qKlxuKiogMjAyMi0xMC0xNlxuKipcbioqIFRoZSBhdXRob3IgZGlzY2xhaW1zIGNvcHlyaWdodCB0byB0aGlzIHNvdXJjZSBjb2RlLiAgSW4gcGxhY2Ugb2YgYVxuKiogbGVnYWwgbm90aWNlLCBoZXJlIGlzIGEgYmxlc3Npbmc6XG4qKlxuKiogKiAgIE1heSB5b3UgZG8gZ29vZCBhbmQgbm90IGV2aWwuXG4qKiAqICAgTWF5IHlvdSBmaW5kIGZvcmdpdmVuZXNzIGZvciB5b3Vyc2VsZiBhbmQgZm9yZ2l2ZSBvdGhlcnMuXG4qKiAqICAgTWF5IHlvdSBzaGFyZSBmcmVlbHksIG5ldmVyIHRha2luZyBtb3JlIHRoYW4geW91IGdpdmUuXG4qL1xuLypcbioqIFRoaXMgY29kZSB3YXMgYnVpbHQgZnJvbSBzcWxpdGUzIHZlcnNpb24uLi5cbioqXG4qKiBTUUxJVEVfVkVSU0lPTiBcIjMuNDIuMFwiXG4qKiBTUUxJVEVfVkVSU0lPTl9OVU1CRVIgMzA0MjAwMFxuKiogU1FMSVRFX1NPVVJDRV9JRCBcIjIwMjMtMDMtMDkgMTY6MTE6NDMgODcwZGU2MWY4ZWY4NzgxZjJmOTk2OWIwMTJmNWMxY2I5NWI2YmNlMWE5YTRkY2FmMDI5NDViNzg0NmMzYWE4M1wiXG4qKlxuKiogVXNpbmcgdGhlIEVtc2NyaXB0ZW4gU0RLIHZlcnNpb24gMy4xLjMyLlxuKi9cbi8qIEVORCBGSUxFOiAuL2JsZC9zcWxpdGUzLWxpY2Vuc2UtdmVyc2lvbi5qcyAqL1xuLyogQkVHSU4gRklMRTogYXBpL3NxbGl0ZTMtYXBpLXByb2xvZ3VlLmpzICovXG4vKlxuICAyMDIyLTA1LTIyXG5cbiAgVGhlIGF1dGhvciBkaXNjbGFpbXMgY29weXJpZ2h0IHRvIHRoaXMgc291cmNlIGNvZGUuICBJbiBwbGFjZSBvZiBhXG4gIGxlZ2FsIG5vdGljZSwgaGVyZSBpcyBhIGJsZXNzaW5nOlxuXG4gICogICBNYXkgeW91IGRvIGdvb2QgYW5kIG5vdCBldmlsLlxuICAqICAgTWF5IHlvdSBmaW5kIGZvcmdpdmVuZXNzIGZvciB5b3Vyc2VsZiBhbmQgZm9yZ2l2ZSBvdGhlcnMuXG4gICogICBNYXkgeW91IHNoYXJlIGZyZWVseSwgbmV2ZXIgdGFraW5nIG1vcmUgdGhhbiB5b3UgZ2l2ZS5cblxuICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIFRoaXMgZmlsZSBpcyBpbnRlbmRlZCB0byBiZSBjb21iaW5lZCBhdCBidWlsZC10aW1lIHdpdGggb3RoZXJcbiAgcmVsYXRlZCBjb2RlLCBtb3N0IG5vdGFibHkgYSBoZWFkZXIgYW5kIGZvb3RlciB3aGljaCB3cmFwcyB0aGlzXG4gIHdob2xlIGZpbGUgaW50byBhbiBFbXNjcmlwdGVuIE1vZHVsZS5wb3N0UnVuKCkgaGFuZGxlci4gVGhlIHNxbGl0ZTNcbiAgSlMgQVBJIGhhcyBubyBoYXJkIHJlcXVpcmVtZW50cyBvbiBFbXNjcmlwdGVuIGFuZCBkb2VzIG5vdCBleHBvc2VcbiAgYW55IEVtc2NyaXB0ZW4gQVBJcyB0byBjbGllbnRzLiBJdCBpcyBzdHJ1Y3R1cmVkIHN1Y2ggdGhhdCBpdHMgYnVpbGRcbiAgY2FuIGJlIHR3ZWFrZWQgdG8gaW5jbHVkZSBpdCBpbiBhcmJpdHJhcnkgV0FTTSBlbnZpcm9ubWVudHMgd2hpY2hcbiAgY2FuIHN1cHBseSB0aGUgbmVjZXNzYXJ5IHVuZGVybHlpbmcgZmVhdHVyZXMgKGUuZy4gYSBQT1NJWCBmaWxlIEkvT1xuICBsYXllcikuXG5cbiAgTWFpbiBwcm9qZWN0IGhvbWUgcGFnZTogaHR0cHM6Ly9zcWxpdGUub3JnXG5cbiAgRG9jdW1lbnRhdGlvbiBob21lIHBhZ2U6IGh0dHBzOi8vc3FsaXRlLm9yZy93YXNtXG4qL1xuXG4vKipcbiAgIHNxbGl0ZTNBcGlCb290c3RyYXAoKSBpcyB0aGUgb25seSBnbG9iYWwgc3ltYm9sIHBlcnNpc3RlbnRseVxuICAgZXhwb3NlZCBieSB0aGlzIEFQSS4gSXQgaXMgaW50ZW5kZWQgdG8gYmUgY2FsbGVkIG9uZSB0aW1lIGF0IHRoZVxuICAgZW5kIG9mIHRoZSBBUEkgYW1hbGdhbWF0aW9uIHByb2Nlc3MsIHBhc3NlZCBjb25maWd1cmF0aW9uIGRldGFpbHNcbiAgIGZvciB0aGUgY3VycmVudCBlbnZpcm9ubWVudCwgYW5kIHRoZW4gb3B0aW9uYWxseSBiZSByZW1vdmVkIGZyb21cbiAgIHRoZSBnbG9iYWwgb2JqZWN0IHVzaW5nIGBkZWxldGUgZ2xvYmFsVGhpcy5zcWxpdGUzQXBpQm9vdHN0cmFwYC5cblxuICAgVGhpcyBmdW5jdGlvbiBpcyBub3QgaW50ZW5kZWQgZm9yIGNsaWVudC1sZXZlbCB1c2UuIEl0IGlzIGludGVuZGVkXG4gICBmb3IgdXNlIGluIGNyZWF0aW5nIGJ1bmRsZXMgY29uZmlndXJlZCBmb3Igc3BlY2lmaWMgV0FTTVxuICAgZW52aXJvbm1lbnRzLlxuXG4gICBUaGlzIGZ1bmN0aW9uIGV4cGVjdHMgYSBjb25maWd1cmF0aW9uIG9iamVjdCwgaW50ZW5kZWQgdG8gYWJzdHJhY3RcbiAgIGF3YXkgZGV0YWlscyBzcGVjaWZpYyB0byBhbnkgZ2l2ZW4gV0FTTSBlbnZpcm9ubWVudCwgcHJpbWFyaWx5IHNvXG4gICB0aGF0IGl0IGNhbiBiZSB1c2VkIHdpdGhvdXQgYW55IF9kaXJlY3RfIGRlcGVuZGVuY3kgb25cbiAgIEVtc2NyaXB0ZW4uIChOb3RlIHRoZSBkZWZhdWx0IHZhbHVlcyBmb3IgdGhlIGNvbmZpZyBvYmplY3QhKSBUaGVcbiAgIGNvbmZpZyBvYmplY3QgaXMgb25seSBob25vcmVkIHRoZSBmaXJzdCB0aW1lIHRoaXMgaXNcbiAgIGNhbGxlZC4gU3Vic2VxdWVudCBjYWxscyBpZ25vcmUgdGhlIGFyZ3VtZW50IGFuZCByZXR1cm4gdGhlIHNhbWVcbiAgIChjb25maWd1cmVkKSBvYmplY3Qgd2hpY2ggZ2V0cyBpbml0aWFsaXplZCBieSB0aGUgZmlyc3QgY2FsbC4gIFRoaXNcbiAgIGZ1bmN0aW9uIHdpbGwgdGhyb3cgaWYgYW55IG9mIHRoZSByZXF1aXJlZCBjb25maWcgb3B0aW9ucyBhcmVcbiAgIG1pc3NpbmcuXG5cbiAgIFRoZSBjb25maWcgb2JqZWN0IHByb3BlcnRpZXMgaW5jbHVkZTpcblxuICAgLSBgZXhwb3J0c2BbXjFdOiB0aGUgXCJleHBvcnRzXCIgb2JqZWN0IGZvciB0aGUgY3VycmVudCBXQVNNXG4gICAgIGVudmlyb25tZW50LiBJbiBhbiBFbXNjcmlwdGVuLWJhc2VkIGJ1aWxkLCB0aGlzIHNob3VsZCBiZSBzZXQgdG9cbiAgICAgYE1vZHVsZVsnYXNtJ11gLlxuXG4gICAtIGBtZW1vcnlgW14xXTogb3B0aW9uYWwgV2ViQXNzZW1ibHkuTWVtb3J5IG9iamVjdCwgZGVmYXVsdGluZyB0b1xuICAgICBgZXhwb3J0cy5tZW1vcnlgLiBJbiBFbXNjcmlwdGVuIGVudmlyb25tZW50cyB0aGlzIHNob3VsZCBiZSBzZXRcbiAgICAgdG8gYE1vZHVsZS53YXNtTWVtb3J5YCBpZiB0aGUgYnVpbGQgdXNlcyBgLXNJTVBPUlRfTUVNT1JZYCwgb3IgYmVcbiAgICAgbGVmdCB1bmRlZmluZWQvZmFsc3kgdG8gZGVmYXVsdCB0byBgZXhwb3J0cy5tZW1vcnlgIHdoZW4gdXNpbmdcbiAgICAgV0FTTS1leHBvcnRlZCBtZW1vcnkuXG5cbiAgIC0gYGJpZ0ludEVuYWJsZWRgOiB0cnVlIGlmIEJpZ0ludCBzdXBwb3J0IGlzIGVuYWJsZWQuIERlZmF1bHRzIHRvXG4gICAgIHRydWUgaWYgYGdsb2JhbFRoaXMuQmlnSW50NjRBcnJheWAgaXMgYXZhaWxhYmxlLCBlbHNlIGZhbHNlLiBTb21lIEFQSXNcbiAgICAgd2lsbCB0aHJvdyBleGNlcHRpb25zIGlmIGNhbGxlZCB3aXRob3V0IEJpZ0ludCBzdXBwb3J0LCBhcyBCaWdJbnRcbiAgICAgaXMgcmVxdWlyZWQgZm9yIG1hcnNoYWxsaW5nIEMtc2lkZSBpbnQ2NCBpbnRvIGFuZCBvdXQgb2YgSlMuXG4gICAgIChTaWRlYmFyOiBpdCBpcyB0ZWNobmljYWxseSBwb3NzaWJsZSB0byBhZGQgaW50NjQgc3VwcG9ydCB2aWFcbiAgICAgbWFyc2hhbGxpbmcgb2YgaW50MzIgcGFpcnMsIGJ1dCBkb2luZyBzbyBpcyB1bmR1bHkgaW52YXNpdmUuKVxuXG4gICAtIGBhbGxvY0V4cG9ydE5hbWVgOiB0aGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24sIGluIGBleHBvcnRzYCwgb2YgdGhlXG4gICAgIGBtYWxsb2MoMylgLWNvbXBhdGlibGUgcm91dGluZSBmb3IgdGhlIFdBU00gZW52aXJvbm1lbnQuIERlZmF1bHRzXG4gICAgIHRvIGBcInNxbGl0ZTNfbWFsbG9jXCJgLiBCZXdhcmUgdGhhdCB1c2luZyBhbnkgYWxsb2NhdG9yIG90aGVyIHRoYW5cbiAgICAgc3FsaXRlM19tYWxsb2MoKSBtYXkgcmVxdWlyZSBjYXJlIGluIGNlcnRhaW4gY2xpZW50LXNpZGUgY29kZVxuICAgICByZWdhcmRpbmcgd2hpY2ggYWxsb2NhdG9yIGlzIHVzZXMuIE5vdGFibHksIHNxbGl0ZTNfZGVzZXJpYWxpemUoKVxuICAgICBhbmQgc3FsaXRlM19zZXJpYWxpemUoKSBjYW4gb25seSBzYWZlbHkgdXNlIG1lbW9yeSBmcm9tIGRpZmZlcmVudFxuICAgICBhbGxvY2F0b3JzIHVuZGVyIHZlcnkgc3BlY2lmaWMgY29uZGl0aW9ucy4gVGhlIGNhbm9uaWNhbCBidWlsZHNcbiAgICAgb2YgdGhpcyBBUEkgZ3VhcmFudHkgdGhhdCBgc3FsaXRlM19tYWxsb2MoKWAgaXMgdGhlIEpTLXNpZGVcbiAgICAgYWxsb2NhdG9yIGltcGxlbWVudGF0aW9uLlxuXG4gICAtIGBkZWFsbG9jRXhwb3J0TmFtZWA6IHRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiwgaW4gYGV4cG9ydHNgLCBvZlxuICAgICB0aGUgYGZyZWUoMylgLWNvbXBhdGlibGUgcm91dGluZSBmb3IgdGhlIFdBU01cbiAgICAgZW52aXJvbm1lbnQuIERlZmF1bHRzIHRvIGBcInNxbGl0ZTNfZnJlZVwiYC5cblxuICAgLSBgcmVhbGxvY0V4cG9ydE5hbWVgOiB0aGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24sIGluIGBleHBvcnRzYCwgb2ZcbiAgICAgdGhlIGByZWFsbG9jKDMpYC1jb21wYXRpYmxlIHJvdXRpbmUgZm9yIHRoZSBXQVNNXG4gICAgIGVudmlyb25tZW50LiBEZWZhdWx0cyB0byBgXCJzcWxpdGUzX3JlYWxsb2NcImAuXG5cbiAgIC0gYGRlYnVnYCwgYGxvZ2AsIGB3YXJuYCwgYW5kIGBlcnJvcmAgbWF5IGJlIGZ1bmN0aW9ucyBlcXVpdmFsZW50XG4gICAgIHRvIHRoZSBsaWtlLW5hbWVkIG1ldGhvZHMgb2YgdGhlIGdsb2JhbCBgY29uc29sZWAgb2JqZWN0LiBCeVxuICAgICBkZWZhdWx0LCB0aGVzZSBtYXAgZGlyZWN0bHkgdG8gdGhlaXIgYGNvbnNvbGVgIGNvdW50ZXJwYXJ0cywgYnV0XG4gICAgIGNhbiBiZSByZXBsYWNlZCB3aXRoIChlLmcuKSBlbXB0eSBmdW5jdGlvbnMgdG8gc3F1ZWxjaCBhbGwgc3VjaFxuICAgICBvdXRwdXQuXG5cbiAgIC0gYHdhc21mc09wZnNEaXJgW14xXTogQXMgb2YgMjAyMi0xMi0xNywgdGhpcyBmZWF0dXJlIGRvZXMgbm90XG4gICAgIGN1cnJlbnRseSB3b3JrIGR1ZSB0byBpbmNvbXBhdGlibGUgRW1zY3JpcHRlbi1zaWRlIGNoYW5nZXMgbWFkZVxuICAgICBpbiB0aGUgV0FTTUZTK09QRlMgY29tYmluYXRpb24uIFRoaXMgb3B0aW9uIGlzIGN1cnJlbnRseSBpZ25vcmVkLlxuXG4gICBbXjFdID0gVGhpcyBwcm9wZXJ0eSBtYXkgb3B0aW9uYWxseSBiZSBhIGZ1bmN0aW9uLCBpbiB3aGljaCBjYXNlIHRoaXNcbiAgICAgICAgICBmdW5jdGlvbiByZS1hc3NpZ25zIGNhbGxzIHRoYXQgZnVuY3Rpb24gdG8gZmV0Y2ggdGhlIHZhbHVlLFxuICAgICAgICAgIGVuYWJsaW5nIGRlbGF5ZWQgZXZhbHVhdGlvbi5cblxuICAgVGhlIHJldHVybmVkIG9iamVjdCBpcyB0aGUgdG9wLWxldmVsIHNxbGl0ZTMgbmFtZXNwYWNlIG9iamVjdC5cblxuKi9cbid1c2Ugc3RyaWN0Jztcbmdsb2JhbFRoaXMuc3FsaXRlM0FwaUJvb3RzdHJhcCA9IGZ1bmN0aW9uIHNxbGl0ZTNBcGlCb290c3RyYXAoXG4gIGFwaUNvbmZpZyA9IChnbG9iYWxUaGlzLnNxbGl0ZTNBcGlDb25maWcgfHwgc3FsaXRlM0FwaUJvb3RzdHJhcC5kZWZhdWx0Q29uZmlnKVxuKXtcbiAgaWYoc3FsaXRlM0FwaUJvb3RzdHJhcC5zcWxpdGUzKXsgLyogYWxyZWFkeSBpbml0YWxpemVkICovXG4gICAgY29uc29sZS53YXJuKFwic3FsaXRlM0FwaUJvb3RzdHJhcCgpIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cIixcbiAgICAgICAgICAgICAgICAgXCJDb25maWcgYW5kIGV4dGVybmFsIGluaXRpYWxpemVycyBhcmUgaWdub3JlZCBvbiBjYWxscyBhZnRlciB0aGUgZmlyc3QuXCIpO1xuICAgIHJldHVybiBzcWxpdGUzQXBpQm9vdHN0cmFwLnNxbGl0ZTM7XG4gIH1cbiAgY29uc3QgY29uZmlnID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLHtcbiAgICBleHBvcnRzOiB1bmRlZmluZWQsXG4gICAgbWVtb3J5OiB1bmRlZmluZWQsXG4gICAgYmlnSW50RW5hYmxlZDogKCgpPT57XG4gICAgICBpZigndW5kZWZpbmVkJyE9PXR5cGVvZiBNb2R1bGUpe1xuICAgICAgICAvKiBFbXNjcmlwdGVuIG1vZHVsZSB3aWxsIGNvbnRhaW4gSEVBUFU2NCB3aGVuIGJ1aWx0IHdpdGhcbiAgICAgICAgICAgLXNXQVNNX0JJR0lOVD0xLCBlbHNlIGl0IHdpbGwgbm90LiAqL1xuICAgICAgICByZXR1cm4gISFNb2R1bGUuSEVBUFU2NDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhIWdsb2JhbFRoaXMuQmlnSW50NjRBcnJheTtcbiAgICB9KSgpLFxuICAgIGRlYnVnOiBjb25zb2xlLmRlYnVnLmJpbmQoY29uc29sZSksXG4gICAgd2FybjogY29uc29sZS53YXJuLmJpbmQoY29uc29sZSksXG4gICAgZXJyb3I6IGNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlKSxcbiAgICBsb2c6IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksXG4gICAgd2FzbWZzT3Bmc0RpcjogJy9vcGZzJyxcbiAgICAvKipcbiAgICAgICB1c2VTdGRBbGxvYyBpcyBqdXN0IGZvciB0ZXN0aW5nIGFuIGFsbG9jYXRvciBkaXNjcmVwYW5jeS4gVGhlXG4gICAgICAgZG9jcyBndWFyYW50ZWUgdGhhdCB0aGlzIGlzIGZhbHNlIGluIHRoZSBjYW5vbmljYWwgYnVpbGRzLiBGb3JcbiAgICAgICA5OSUgb2YgcHVycG9zZXMgaXQgZG9lc24ndCBtYXR0ZXIgd2hpY2ggYWxsb2NhdG9ycyB3ZSB1c2UsIGJ1dFxuICAgICAgIGl0IGJlY29tZXMgc2lnbmlmaWNhbnQgd2l0aCwgZS5nLiwgc3FsaXRlM19kZXNlcmlhbGl6ZSgpXG4gICAgICAgYW5kIGNlcnRhaW4gd2FzbS54V3JhcC5yZXN1bHRBZGFwdGVyKClzLlxuICAgICovXG4gICAgdXNlU3RkQWxsb2M6IGZhbHNlXG4gIH0sIGFwaUNvbmZpZyB8fCB7fSk7XG5cbiAgT2JqZWN0LmFzc2lnbihjb25maWcsIHtcbiAgICBhbGxvY0V4cG9ydE5hbWU6IGNvbmZpZy51c2VTdGRBbGxvYyA/ICdtYWxsb2MnIDogJ3NxbGl0ZTNfbWFsbG9jJyxcbiAgICBkZWFsbG9jRXhwb3J0TmFtZTogY29uZmlnLnVzZVN0ZEFsbG9jID8gJ2ZyZWUnIDogJ3NxbGl0ZTNfZnJlZScsXG4gICAgcmVhbGxvY0V4cG9ydE5hbWU6IGNvbmZpZy51c2VTdGRBbGxvYyA/ICdyZWFsbG9jJyA6ICdzcWxpdGUzX3JlYWxsb2MnXG4gIH0sIGNvbmZpZyk7XG5cbiAgW1xuICAgIC8vIElmIGFueSBvZiB0aGVzZSBjb25maWcgb3B0aW9ucyBhcmUgZnVuY3Rpb25zLCByZXBsYWNlIHRoZW0gd2l0aFxuICAgIC8vIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGF0IGZ1bmN0aW9uLi4uXG4gICAgJ2V4cG9ydHMnLCAnbWVtb3J5JywgJ3dhc21mc09wZnNEaXInXG4gIF0uZm9yRWFjaCgoayk9PntcbiAgICBpZignZnVuY3Rpb24nID09PSB0eXBlb2YgY29uZmlnW2tdKXtcbiAgICAgIGNvbmZpZ1trXSA9IGNvbmZpZ1trXSgpO1xuICAgIH1cbiAgfSk7XG4gIGNvbmZpZy53YXNtT3Bmc0RpciA9XG4gICAgLyogMjAyMi0xMi0xNzogV0FTTUZTK09QRlMgY2FuIG5vIGxvbmdlciBiZSBhY3RpdmF0ZWQgZnJvbSB0aGVcbiAgICAgICBtYWluIHRocmVhZCAoYWJvcnRzIHZpYSBhIGZhaWxlZCBhc3NlcnQoKSBpZiBpdCdzIGF0dGVtcHRlZCksXG4gICAgICAgd2hpY2ggZWxpbWluYXRlcyBhbnkoPykgYmVuZWZpdCB0byBzdXBwb3J0aW5nIGl0LiAqLyAgZmFsc2U7XG5cbiAgLyoqXG4gICAgICBUaGUgbWFpbiBzcWxpdGUzIGJpbmRpbmcgQVBJIGdldHMgaW5zdGFsbGVkIGludG8gdGhpcyBvYmplY3QsXG4gICAgICBtaW1pY2tpbmcgdGhlIEMgQVBJIGFzIGNsb3NlbHkgYXMgd2UgY2FuLiBUaGUgbnVtZXJvdXMgbWVtYmVyc1xuICAgICAgbmFtZXMgd2l0aCBwcmVmaXhlcyAnc3FsaXRlM18nIGFuZCAnU1FMSVRFXycgYmVoYXZlLCBpbnNvZmFyIGFzXG4gICAgICBwb3NzaWJsZSwgaWRlbnRpY2FsbHkgdG8gdGhlIEMtbmF0aXZlIGNvdW50ZXJwYXJ0cywgYXMgZG9jdW1lbnRlZCBhdDpcblxuICAgICAgaHR0cHM6Ly93d3cuc3FsaXRlLm9yZy9jM3JlZi9pbnRyby5odG1sXG5cbiAgICAgIEEgdmVyeSBmZXcgZXhjZXB0aW9ucyByZXF1aXJlIGFuIGFkZGl0aW9uYWwgbGV2ZWwgb2YgcHJveHlcbiAgICAgIGZ1bmN0aW9uIG9yIG1heSBvdGhlcndpc2UgcmVxdWlyZSBzcGVjaWFsIGF0dGVudGlvbiBpbiB0aGUgV0FTTVxuICAgICAgZW52aXJvbm1lbnQsIGFuZCBhbGwgc3VjaCBjYXNlcyBhcmUgZG9jdW1lbnRlZCBzb21ld2hlcmUgYmVsb3dcbiAgICAgIGluIHRoaXMgZmlsZSBvciBpbiBzcWxpdGUzLWFwaS1nbHVlLmpzLiBjYXBpIG1lbWJlcnMgd2hpY2ggYXJlXG4gICAgICBub3QgZG9jdW1lbnRlZCBhcmUgaW5zdGFsbGVkIGFzIDEtdG8tMSBwcm94aWVzIGZvciB0aGVpclxuICAgICAgQy1zaWRlIGNvdW50ZXJwYXJ0cy5cbiAgKi9cbiAgY29uc3QgY2FwaSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIC8qKlxuICAgICBIb2xkcyBzdGF0ZSB3aGljaCBhcmUgc3BlY2lmaWMgdG8gdGhlIFdBU00tcmVsYXRlZFxuICAgICBpbmZyYXN0cnVjdHVyZSBhbmQgZ2x1ZSBjb2RlLlxuXG4gICAgIE5vdGUgdGhhdCBhIG51bWJlciBvZiBtZW1iZXJzIG9mIHRoaXMgb2JqZWN0IGFyZSBpbmplY3RlZFxuICAgICBkeW5hbWljYWxseSBhZnRlciB0aGUgYXBpIG9iamVjdCBpcyBmdWxseSBjb25zdHJ1Y3RlZCwgc29cbiAgICAgbm90IGFsbCBhcmUgZG9jdW1lbnRlZCBpbiB0aGlzIGZpbGUuXG4gICovXG4gIGNvbnN0IHdhc20gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8qKiBJbnRlcm5hbCBoZWxwZXIgZm9yIFNRTGl0ZTNFcnJvciBjdG9yLiAqL1xuICBjb25zdCBfX3JjU3RyID0gKHJjKT0+e1xuICAgIHJldHVybiAoY2FwaS5zcWxpdGUzX2pzX3JjX3N0ciAmJiBjYXBpLnNxbGl0ZTNfanNfcmNfc3RyKHJjKSlcbiAgICAgICAgICAgfHwgKFwiVW5rbm93biByZXN1bHQgY29kZSAjXCIrcmMpO1xuICB9O1xuXG4gIC8qKiBJbnRlcm5hbCBoZWxwZXIgZm9yIFNRTGl0ZTNFcnJvciBjdG9yLiAqL1xuICBjb25zdCBfX2lzSW50ID0gKG4pPT4nbnVtYmVyJz09PXR5cGVvZiBuICYmIG49PT0obiB8IDApO1xuXG4gIC8qKlxuICAgICBBbiBFcnJvciBzdWJjbGFzcyBzcGVjaWZpY2FsbHkgZm9yIHJlcG9ydGluZyBEQi1sZXZlbCBlcnJvcnMgYW5kXG4gICAgIGVuYWJsaW5nIGNsaWVudHMgdG8gdW5hbWJpZ3VvdXNseSBpZGVudGlmeSBzdWNoIGV4Y2VwdGlvbnMuXG4gICAgIFRoZSBDLWxldmVsIEFQSXMgbmV2ZXIgdGhyb3csIGJ1dCBzb21lIG9mIHRoZSBoaWdoZXItbGV2ZWxcbiAgICAgQy1zdHlsZSBBUElzIGRvIGFuZCB0aGUgb2JqZWN0LW9yaWVudGVkIEFQSXMgdXNlIGV4Y2VwdGlvbnNcbiAgICAgZXhjbHVzaXZlbHkgdG8gcmVwb3J0IGVycm9ycy5cbiAgKi9cbiAgY2xhc3MgU1FMaXRlM0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIC8qKlxuICAgICAgIENvbnN0cnVjdHMgdGhpcyBvYmplY3Qgd2l0aCBhIG1lc3NhZ2UgZGVwZW5kaW5nIG9uIGl0cyBhcmd1bWVudHM6XG5cbiAgICAgICBJZiBpdHMgZmlyc3QgYXJndW1lbnQgaXMgYW4gaW50ZWdlciwgaXQgaXMgYXNzdW1lZCB0byBiZVxuICAgICAgIGFuIFNRTElURV8uLi4gcmVzdWx0IGNvZGUgYW5kIGl0IGlzIHBhc3NlZCB0b1xuICAgICAgIHNxbGl0ZTMuY2FwaS5zcWxpdGUzX2pzX3JjX3N0cigpIHRvIHN0cmluZ2lmeSBpdC5cblxuICAgICAgIElmIGNhbGxlZCB3aXRoIGV4YWN0bHkgMiBhcmd1bWVudHMgYW5kIHRoZSAybmQgaXMgYW4gb2JqZWN0LFxuICAgICAgIHRoYXQgb2JqZWN0IGlzIHRyZWF0ZWQgYXMgdGhlIDJuZCBhcmd1bWVudCB0byB0aGUgcGFyZW50XG4gICAgICAgY29uc3RydWN0b3IuXG5cbiAgICAgICBUaGUgZXhjZXB0aW9uJ3MgbWVzc2FnZSBpcyBjcmVhdGVkIGJ5IGNvbmNhdGVuYXRpbmcgaXRzXG4gICAgICAgYXJndW1lbnRzIHdpdGggYSBzcGFjZSBiZXR3ZWVuIGVhY2gsIGV4Y2VwdCBmb3IgdGhlXG4gICAgICAgdHdvLWFyZ3Mtd2l0aC1hbi1vYmplYyBmb3JtIGFuZCB0aGF0IHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsXG4gICAgICAgZ2V0IGNvZXJjZWQgdG8gYSBzdHJpbmcsIGFzIGRlc2NyaWJlZCBhYm92ZSwgaWYgaXQncyBhblxuICAgICAgIGludGVnZXIuXG5cbiAgICAgICBJZiBwYXNzZWQgYW4gaW50ZWdlciBmaXJzdCBhcmd1bWVudCwgdGhlIGVycm9yIG9iamVjdCdzXG4gICAgICAgYHJlc3VsdENvZGVgIG1lbWJlciB3aWxsIGJlIHNldCB0byB0aGUgZ2l2ZW4gaW50ZWdlciB2YWx1ZSxcbiAgICAgICBlbHNlIGl0IHdpbGwgYmUgc2V0IHRvIGNhcGkuU1FMSVRFX0VSUk9SLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoLi4uYXJncyl7XG4gICAgICBsZXQgcmM7XG4gICAgICBpZihhcmdzLmxlbmd0aCl7XG4gICAgICAgIGlmKF9faXNJbnQoYXJnc1swXSkpe1xuICAgICAgICAgIHJjID0gYXJnc1swXTtcbiAgICAgICAgICBpZigxPT09YXJncy5sZW5ndGgpe1xuICAgICAgICAgICAgc3VwZXIoX19yY1N0cihhcmdzWzBdKSk7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBjb25zdCByY1N0ciA9IF9fcmNTdHIocmMpO1xuICAgICAgICAgICAgaWYoJ29iamVjdCc9PT10eXBlb2YgYXJnc1sxXSl7XG4gICAgICAgICAgICAgIHN1cGVyKHJjU3RyLGFyZ3NbMV0pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIGFyZ3NbMF0gPSByY1N0cisnOic7XG4gICAgICAgICAgICAgIHN1cGVyKGFyZ3Muam9pbignICcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGlmKDI9PT1hcmdzLmxlbmd0aCAmJiAnb2JqZWN0Jz09PXR5cGVvZiBhcmdzWzFdKXtcbiAgICAgICAgICAgIHN1cGVyKC4uLmFyZ3MpO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgc3VwZXIoYXJncy5qb2luKCcgJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5yZXN1bHRDb2RlID0gcmMgfHwgY2FwaS5TUUxJVEVfRVJST1I7XG4gICAgICB0aGlzLm5hbWUgPSAnU1FMaXRlM0Vycm9yJztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAgIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIHRoZSBTUUxpdGUzRXJyb3IgY29uc3RydWN0b3IgYnV0IG1heVxuICAgICBiZSB1c2VkIGFzIHBhcnQgb2YgYW4gZXhwcmVzc2lvbiwgZS5nLjpcblxuICAgICBgYGBcbiAgICAgcmV0dXJuIHNvbWVGdW5jdGlvbih4KSB8fCBTUUxpdGUzRXJyb3IudG9zcyguLi4pO1xuICAgICBgYGBcbiAgKi9cbiAgU1FMaXRlM0Vycm9yLnRvc3MgPSAoLi4uYXJncyk9PntcbiAgICB0aHJvdyBuZXcgU1FMaXRlM0Vycm9yKC4uLmFyZ3MpO1xuICB9O1xuICBjb25zdCB0b3NzMyA9IFNRTGl0ZTNFcnJvci50b3NzO1xuXG4gIGlmKGNvbmZpZy53YXNtZnNPcGZzRGlyICYmICEvXlxcL1teL10rJC8udGVzdChjb25maWcud2FzbWZzT3Bmc0Rpcikpe1xuICAgIHRvc3MzKFwiY29uZmlnLndhc21mc09wZnNEaXIgbXVzdCBiZSBmYWxzeSBvciBpbiB0aGUgZm9ybSAnL2Rpci1uYW1lJy5cIik7XG4gIH1cblxuICAvKipcbiAgICAgUmV0dXJucyB0cnVlIGlmIG4gaXMgYSAzMi1iaXQgKHNpZ25lZCkgaW50ZWdlciwgZWxzZVxuICAgICBmYWxzZS4gVGhpcyBpcyB1c2VkIGZvciBkZXRlcm1pbmluZyB3aGVuIHdlIG5lZWQgdG8gc3dpdGNoIHRvXG4gICAgIGRvdWJsZS10eXBlIERCIG9wZXJhdGlvbnMgZm9yIGludGVnZXIgdmFsdWVzIGluIG9yZGVyIHRvIGtlZXBcbiAgICAgbW9yZSBwcmVjaXNpb24uXG4gICovXG4gIGNvbnN0IGlzSW50MzIgPSAobik9PntcbiAgICByZXR1cm4gKCdiaWdpbnQnIT09dHlwZW9mIG4gLypUeXBlRXJyb3I6IGNhbid0IGNvbnZlcnQgQmlnSW50IHRvIG51bWJlciovKVxuICAgICAgJiYgISEobj09PShufDApICYmIG48PTIxNDc0ODM2NDcgJiYgbj49LTIxNDc0ODM2NDgpO1xuICB9O1xuICAvKipcbiAgICAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBCaWdJbnQgdmFsdWUgaXMgc21hbGwgZW5vdWdoIHRvIGZpdFxuICAgICBpbnRvIGFuIGludDY0IHZhbHVlLCBlbHNlIGZhbHNlLlxuICAqL1xuICBjb25zdCBiaWdJbnRGaXRzNjQgPSBmdW5jdGlvbiBmKGIpe1xuICAgIGlmKCFmLl9tYXgpe1xuICAgICAgZi5fbWF4ID0gQmlnSW50KFwiMHg3ZmZmZmZmZmZmZmZmZmZmXCIpO1xuICAgICAgZi5fbWluID0gfmYuX21heDtcbiAgICB9XG4gICAgcmV0dXJuIGIgPj0gZi5fbWluICYmIGIgPD0gZi5fbWF4O1xuICB9O1xuXG4gIC8qKlxuICAgICBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIEJpZ0ludCB2YWx1ZSBpcyBzbWFsbCBlbm91Z2ggdG8gZml0XG4gICAgIGludG8gYW4gaW50MzIsIGVsc2UgZmFsc2UuXG4gICovXG4gIGNvbnN0IGJpZ0ludEZpdHMzMiA9IChiKT0+KGIgPj0gKC0weDdmZmZmZmZmbiAtIDFuKSAmJiBiIDw9IDB4N2ZmZmZmZmZuKTtcblxuICAvKipcbiAgICAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBCaWdJbnQgdmFsdWUgaXMgc21hbGwgZW5vdWdoIHRvIGZpdFxuICAgICBpbnRvIGEgZG91YmxlIHZhbHVlIHdpdGhvdXQgbG9zcyBvZiBwcmVjaXNpb24sIGVsc2UgZmFsc2UuXG4gICovXG4gIGNvbnN0IGJpZ0ludEZpdHNEb3VibGUgPSBmdW5jdGlvbiBmKGIpe1xuICAgIGlmKCFmLl9taW4pe1xuICAgICAgZi5fbWluID0gTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVI7XG4gICAgICBmLl9tYXggPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG4gICAgcmV0dXJuIGIgPj0gZi5fbWluICYmIGIgPD0gZi5fbWF4O1xuICB9O1xuXG4gIC8qKiBSZXR1cm5zIHYgaWYgdiBhcHBlYXJzIHRvIGJlIGEgVHlwZWRBcnJheSwgZWxzZSBmYWxzZS4gKi9cbiAgY29uc3QgaXNUeXBlZEFycmF5ID0gKHYpPT57XG4gICAgcmV0dXJuICh2ICYmIHYuY29uc3RydWN0b3IgJiYgaXNJbnQzMih2LmNvbnN0cnVjdG9yLkJZVEVTX1BFUl9FTEVNRU5UKSkgPyB2IDogZmFsc2U7XG4gIH07XG5cbiAgLyoqIEludGVybmFsIGhlbHBlciB0byB1c2UgaW4gb3BlcmF0aW9ucyB3aGljaCBuZWVkIHRvIGRpc3Rpbmd1aXNoXG4gICAgICBiZXR3ZWVuIFR5cGVkQXJyYXlzIHdoaWNoIGFyZSBiYWNrZWQgYnkgYSBTaGFyZWRBcnJheUJ1ZmZlclxuICAgICAgZnJvbSB0aG9zZSB3aGljaCBhcmUgbm90LiAqL1xuICBjb25zdCBfX1NBQiA9ICgndW5kZWZpbmVkJz09PXR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcilcbiAgICAgICAgPyBmdW5jdGlvbigpe30gOiBTaGFyZWRBcnJheUJ1ZmZlcjtcbiAgLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gVHlwZWRBcnJheSBvYmplY3QgaXMgYmFja2VkIGJ5IGFcbiAgICAgIFNoYXJlZEFycmF5QnVmZmVyLCBlbHNlIGZhbHNlLiAqL1xuICBjb25zdCBpc1NoYXJlZFR5cGVkQXJyYXkgPSAoYVR5cGVkQXJyYXkpPT4oYVR5cGVkQXJyYXkuYnVmZmVyIGluc3RhbmNlb2YgX19TQUIpO1xuXG4gIC8qKlxuICAgICBSZXR1cm5zIGVpdGhlciBhVHlwZWRBcnJheS5zbGljZShiZWdpbixlbmQpIChpZlxuICAgICBhVHlwZWRBcnJheS5idWZmZXIgaXMgYSBTaGFyZWRBcnJheUJ1ZmZlcikgb3JcbiAgICAgYVR5cGVkQXJyYXkuc3ViYXJyYXkoYmVnaW4sZW5kKSAoaWYgaXQncyBub3QpLlxuXG4gICAgIFRoaXMgZGlzdGluY3Rpb24gaXMgaW1wb3J0YW50IGZvciBBUElzIHdoaWNoIGRvbid0IGxpa2UgdG9cbiAgICAgd29yayBvbiBTQUJzLCBlLmcuIFRleHREZWNvZGVyLCBhbmQgcG9zc2libHkgZm9yIG91clxuICAgICBvd24gQVBJcyB3aGljaCB3b3JrIG9uIG1lbW9yeSByYW5nZXMgd2hpY2ggXCJtaWdodFwiIGJlXG4gICAgIG1vZGlmaWVkIGJ5IG90aGVyIHRocmVhZHMgd2hpbGUgdGhleSdyZSB3b3JraW5nLlxuICAqL1xuICBjb25zdCB0eXBlZEFycmF5UGFydCA9IChhVHlwZWRBcnJheSwgYmVnaW4sIGVuZCk9PntcbiAgICByZXR1cm4gaXNTaGFyZWRUeXBlZEFycmF5KGFUeXBlZEFycmF5KVxuICAgICAgPyBhVHlwZWRBcnJheS5zbGljZShiZWdpbiwgZW5kKVxuICAgICAgOiBhVHlwZWRBcnJheS5zdWJhcnJheShiZWdpbiwgZW5kKTtcbiAgfTtcblxuICAvKipcbiAgICAgUmV0dXJucyB0cnVlIGlmIHYgYXBwZWFycyB0byBiZSBvbmUgb2Ygb3VyIGJpbmQoKS1hYmxlIFR5cGVkQXJyYXlcbiAgICAgdHlwZXM6IFVpbnQ4QXJyYXkgb3IgSW50OEFycmF5IG9yIEFycmF5QnVmZmVyLiBTdXBwb3J0IGZvclxuICAgICBUeXBlZEFycmF5cyB3aXRoIGVsZW1lbnQgc2l6ZXMgPjEgaXMgYSBwb3RlbnRpYWwgVE9ETyBqdXN0XG4gICAgIHdhaXRpbmcgb24gYSB1c2UgY2FzZSB0byBqdXN0aWZ5IHRoZW0uIFVudGlsIHRoZW4sIHRoZWlyIGBidWZmZXJgXG4gICAgIHByb3BlcnR5IGNhbiBiZSB1c2VkIHRvIHBhc3MgdGhlbSBhcyBhbiBBcnJheUJ1ZmZlci4gSWYgaXQncyBub3RcbiAgICAgYSBiaW5kYWJsZSBhcnJheSB0eXBlLCBhIGZhbHN5IHZhbHVlIGlzIHJldHVybmVkLlxuICAqL1xuICBjb25zdCBpc0JpbmRhYmxlVHlwZWRBcnJheSA9ICh2KT0+e1xuICAgIHJldHVybiB2ICYmICh2IGluc3RhbmNlb2YgVWludDhBcnJheVxuICAgICAgICAgICAgICAgICB8fCB2IGluc3RhbmNlb2YgSW50OEFycmF5XG4gICAgICAgICAgICAgICAgIHx8IHYgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7XG4gIH07XG5cbiAgLyoqXG4gICAgIFJldHVybnMgdHJ1ZSBpZiB2IGFwcGVhcnMgdG8gYmUgb25lIG9mIHRoZSBUeXBlZEFycmF5IHR5cGVzXG4gICAgIHdoaWNoIGlzIGxlZ2FsIGZvciBob2xkaW5nIFNRTCBjb2RlIChhcyBvcHBvc2VkIHRvIGJpbmFyeSBibG9icykuXG5cbiAgICAgQ3VycmVudGx5IHRoaXMgaXMgdGhlIHNhbWUgYXMgaXNCaW5kYWJsZVR5cGVkQXJyYXkoKSBidXQgaXRcbiAgICAgc2VlbXMgbGlrZWx5IHRoYXQgd2UnbGwgZXZlbnR1YWxseSB3YW50IHRvIGFkZCBVaW50MzJBcnJheVxuICAgICBhbmQgZnJpZW5kcyB0byB0aGUgaXNCaW5kYWJsZVR5cGVkQXJyYXkoKSBsaXN0IGJ1dCBub3QgdG8gdGhlXG4gICAgIGlzU1FMYWJsZVR5cGVkQXJyYXkoKSBsaXN0LlxuICAqL1xuICBjb25zdCBpc1NRTGFibGVUeXBlZEFycmF5ID0gKHYpPT57XG4gICAgcmV0dXJuIHYgJiYgKHYgaW5zdGFuY2VvZiBVaW50OEFycmF5XG4gICAgICAgICAgICAgICAgIHx8IHYgaW5zdGFuY2VvZiBJbnQ4QXJyYXlcbiAgICAgICAgICAgICAgICAgfHwgdiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgfTtcblxuICAvKiogUmV0dXJucyB0cnVlIGlmIGlzQmluZGFibGVUeXBlZEFycmF5KHYpIGRvZXMsIGVsc2UgdGhyb3dzIHdpdGggYSBtZXNzYWdlXG4gICAgICB0aGF0IHYgaXMgbm90IGEgc3VwcG9ydGVkIFR5cGVkQXJyYXkgdmFsdWUuICovXG4gIGNvbnN0IGFmZmlybUJpbmRhYmxlVHlwZWRBcnJheSA9ICh2KT0+e1xuICAgIHJldHVybiBpc0JpbmRhYmxlVHlwZWRBcnJheSh2KVxuICAgICAgfHwgdG9zczMoXCJWYWx1ZSBpcyBub3Qgb2YgYSBzdXBwb3J0ZWQgVHlwZWRBcnJheSB0eXBlLlwiKTtcbiAgfTtcblxuICBjb25zdCB1dGY4RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnKTtcblxuICAvKipcbiAgICAgVXNlcyBUZXh0RGVjb2RlciB0byBkZWNvZGUgdGhlIGdpdmVuIGhhbGYtb3BlbiByYW5nZSBvZiB0aGVcbiAgICAgZ2l2ZW4gVHlwZWRBcnJheSB0byBhIHN0cmluZy4gVGhpcyBkaWZmZXJzIGZyb20gYSBzaW1wbGVcbiAgICAgY2FsbCB0byBUZXh0RGVjb2RlciBpbiB0aGF0IGl0IGFjY291bnRzIGZvciB3aGV0aGVyIHRoZVxuICAgICBmaXJzdCBhcmd1bWVudCBpcyBiYWNrZWQgYnkgYSBTaGFyZWRBcnJheUJ1ZmZlciBvciBub3QsXG4gICAgIGFuZCBjYW4gd29yayBtb3JlIGVmZmljaWVudGx5IGlmIGl0J3Mgbm90IChUZXh0RGVjb2RlclxuICAgICByZWZ1c2VzIHRvIGFjdCB1cG9uIGFuIFNBQikuXG4gICovXG4gIGNvbnN0IHR5cGVkQXJyYXlUb1N0cmluZyA9IGZ1bmN0aW9uKHR5cGVkQXJyYXksIGJlZ2luLCBlbmQpe1xuICAgIHJldHVybiB1dGY4RGVjb2Rlci5kZWNvZGUodHlwZWRBcnJheVBhcnQodHlwZWRBcnJheSwgYmVnaW4sZW5kKSk7XG4gIH07XG5cbiAgLyoqXG4gICAgIElmIHYgaXMtYSBBcnJheSwgaXRzIGpvaW4oXCJcIikgcmVzdWx0IGlzIHJldHVybmVkLiAgSWZcbiAgICAgaXNTUUxhYmxlVHlwZWRBcnJheSh2KSBpcyB0cnVlIHRoZW4gdHlwZWRBcnJheVRvU3RyaW5nKHYpIGlzXG4gICAgIHJldHVybmVkLiBJZiBpdCBsb29rcyBsaWtlIGEgV0FTTSBwb2ludGVyLCB3YXNtLmNzdHJUb0pzKHYpIGlzXG4gICAgIHJldHVybmVkLiBFbHNlIHYgaXMgcmV0dXJuZWQgYXMtaXMuXG4gICovXG4gIGNvbnN0IGZsZXhpYmxlU3RyaW5nID0gZnVuY3Rpb24odil7XG4gICAgaWYoaXNTUUxhYmxlVHlwZWRBcnJheSh2KSl7XG4gICAgICByZXR1cm4gdHlwZWRBcnJheVRvU3RyaW5nKFxuICAgICAgICAodiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSA/IG5ldyBVaW50OEFycmF5KHYpIDogdlxuICAgICAgKTtcbiAgICB9XG4gICAgZWxzZSBpZihBcnJheS5pc0FycmF5KHYpKSByZXR1cm4gdi5qb2luKFwiXCIpO1xuICAgIGVsc2UgaWYod2FzbS5pc1B0cih2KSkgdiA9IHdhc20uY3N0clRvSnModik7XG4gICAgcmV0dXJuIHY7XG4gIH07XG5cbiAgLyoqXG4gICAgIEFuIEVycm9yIHN1YmNsYXNzIHNwZWNpZmljYWxseSBmb3IgcmVwb3J0aW5nIFdhc20tbGV2ZWwgbWFsbG9jKClcbiAgICAgZmFpbHVyZSBhbmQgZW5hYmxpbmcgY2xpZW50cyB0byB1bmFtYmlndW91c2x5IGlkZW50aWZ5IHN1Y2hcbiAgICAgZXhjZXB0aW9ucy5cbiAgKi9cbiAgY2xhc3MgV2FzbUFsbG9jRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgLyoqXG4gICAgICAgSWYgY2FsbGVkIHdpdGggMiBhcmd1bWVudHMgYW5kIHRoZSAybmQgb25lIGlzIGFuIG9iamVjdCwgaXRcbiAgICAgICBiZWhhdmVzIGxpa2UgdGhlIEVycm9yIGNvbnN0cnVjdG9yLCBlbHNlIGl0IGNvbmNhdGVuYXRlcyBhbGxcbiAgICAgICBhcmd1bWVudHMgdG9nZXRoZXIgd2l0aCBhIHNpbmdsZSBzcGFjZSBiZXR3ZWVuIGVhY2ggdG9cbiAgICAgICBjb25zdHJ1Y3QgYW4gZXJyb3IgbWVzc2FnZSBzdHJpbmcuIEFzIGEgc3BlY2lhbCBjYXNlLCBpZlxuICAgICAgIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cyB0aGVuIGl0IHVzZXMgYSBkZWZhdWx0IGVycm9yXG4gICAgICAgbWVzc2FnZS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3Mpe1xuICAgICAgaWYoMj09PWFyZ3MubGVuZ3RoICYmICdvYmplY3QnPT09dHlwZW9mIGFyZ3NbMV0pe1xuICAgICAgICBzdXBlciguLi5hcmdzKTtcbiAgICAgIH1lbHNlIGlmKGFyZ3MubGVuZ3RoKXtcbiAgICAgICAgc3VwZXIoYXJncy5qb2luKCcgJykpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHN1cGVyKFwiQWxsb2NhdGlvbiBmYWlsZWQuXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZXN1bHRDb2RlID0gY2FwaS5TUUxJVEVfTk9NRU07XG4gICAgICB0aGlzLm5hbWUgPSAnV2FzbUFsbG9jRXJyb3InO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAgIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIHRoZSBXYXNtQWxsb2NFcnJvciBjb25zdHJ1Y3RvciBidXQgbWF5XG4gICAgIGJlIHVzZWQgYXMgcGFydCBvZiBhbiBleHByZXNzaW9uLCBlLmcuOlxuXG4gICAgIGBgYFxuICAgICByZXR1cm4gc29tZUFsbG9jYXRpbmdGdW5jdGlvbih4KSB8fCBXYXNtQWxsb2NFcnJvci50b3NzKC4uLik7XG4gICAgIGBgYFxuICAqL1xuICBXYXNtQWxsb2NFcnJvci50b3NzID0gKC4uLmFyZ3MpPT57XG4gICAgdGhyb3cgbmV3IFdhc21BbGxvY0Vycm9yKC4uLmFyZ3MpO1xuICB9O1xuXG4gIE9iamVjdC5hc3NpZ24oY2FwaSwge1xuICAgIC8qKlxuICAgICAgIHNxbGl0ZTNfYmluZF9ibG9iKCkgd29ya3MgZXhhY3RseSBsaWtlIGl0cyBDIGNvdW50ZXJwYXJ0IHVubGVzc1xuICAgICAgIGl0cyAzcmQgYXJndW1lbnQgaXMgb25lIG9mOlxuXG4gICAgICAgLSBKUyBzdHJpbmc6IHRoZSAzcmQgYXJndW1lbnQgaXMgY29udmVydGVkIHRvIGEgQyBzdHJpbmcsIHRoZVxuICAgICAgICAgNHRoIGFyZ3VtZW50IGlzIGlnbm9yZWQsIGFuZCB0aGUgQy1zdHJpbmcncyBsZW5ndGggaXMgdXNlZFxuICAgICAgICAgaW4gaXRzIHBsYWNlLlxuXG4gICAgICAgLSBBcnJheTogY29udmVydGVkIHRvIGEgc3RyaW5nIGFzIGRlZmluZWQgZm9yIFwiZmxleGlibGVcbiAgICAgICAgIHN0cmluZ3NcIiBhbmQgdGhlbiBpdCdzIHRyZWF0ZWQgYXMgYSBKUyBzdHJpbmcuXG5cbiAgICAgICAtIEludDhBcnJheSBvciBVaW50OEFycmF5OiB3YXNtLmFsbG9jRnJvbVR5cGVkQXJyYXkoKSBpcyB1c2VkIHRvXG4gICAgICAgICBjb252ZXIgdGhlIG1lbW9yeSB0byB0aGUgV0FTTSBoZWFwLiBJZiB0aGUgNHRoIGFyZ3VtZW50IGlzXG4gICAgICAgICAwIG9yIGdyZWF0ZXIsIGl0IGlzIHVzZWQgYXMtaXMsIG90aGVyd2lzZSB0aGUgYXJyYXkncyBieXRlTGVuZ3RoXG4gICAgICAgICB2YWx1ZSBpcyB1c2VkLiBUaGlzIGlzIGFuIGV4Y2VwdGlvbiB0byB0aGUgQyBBUEkncyB1bmRlZmluZWRcbiAgICAgICAgIGJlaGF2aW9yIGZvciBhIG5lZ2F0aXZlIDR0aCBhcmd1bWVudCwgYnV0IHJlc3VsdHMgYXJlIHVuZGVmaW5lZFxuICAgICAgICAgaWYgdGhlIGdpdmVuIDR0aCBhcmd1bWVudCB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gdGhlIGJ5dGVMZW5ndGhcbiAgICAgICAgIG9mIHRoZSBpbnB1dCBhcnJheS5cblxuICAgICAgIC0gSWYgaXQncyBhbiBBcnJheUJ1ZmZlciwgaXQgZ2V0cyB3cmFwcGVkIGluIGEgVWludDhBcnJheSBhbmRcbiAgICAgICAgIHRyZWF0ZWQgYXMgdGhhdCB0eXBlLlxuXG4gICAgICAgSW4gYWxsIG9mIHRob3NlIGNhc2VzLCB0aGUgZmluYWwgYXJndW1lbnQgKGRlc3RydWN0b3IpIGlzXG4gICAgICAgaWdub3JlZCBhbmQgY2FwaS5TUUxJVEVfV0FTTV9ERUFMTE9DIGlzIGFzc3VtZWQuXG5cbiAgICAgICBBIDNyZCBhcmd1bWVudCBvZiBgbnVsbGAgaXMgdHJlYXRlZCBhcyBpZiBpdCB3ZXJlIGEgV0FTTSBwb2ludGVyXG4gICAgICAgb2YgMC5cblxuICAgICAgIElmIHRoZSAzcmQgYXJndW1lbnQgaXMgbmVpdGhlciBhIFdBU00gcG9pbnRlciBub3Igb25lIG9mIHRoZVxuICAgICAgIGFib3ZlLWRlc2NyaWJlZCB0eXBlcywgY2FwaS5TUUxJVEVfTUlTVVNFIGlzIHJldHVybmVkLlxuXG4gICAgICAgVGhlIGZpcnN0IGFyZ3VtZW50IG1heSBiZSBlaXRoZXIgYW4gYHNxbGl0ZTNfc3RtdCpgIFdBU01cbiAgICAgICBwb2ludGVyIG9yIGFuIHNxbGl0ZTMub28xLlN0bXQgaW5zdGFuY2UuXG5cbiAgICAgICBGb3IgY29uc2lzdGVuY3kgd2l0aCB0aGUgQyBBUEksIGl0IHJlcXVpcmVzIHRoZSBzYW1lIG51bWJlciBvZlxuICAgICAgIGFyZ3VtZW50cy4gSXQgcmV0dXJucyBjYXBpLlNRTElURV9NSVNVU0UgaWYgcGFzc2VkIGFueSBvdGhlclxuICAgICAgIGFyZ3VtZW50IGNvdW50LlxuICAgICovXG4gICAgc3FsaXRlM19iaW5kX2Jsb2I6IHVuZGVmaW5lZC8qaW5zdGFsbGVkIGxhdGVyKi8sXG5cbiAgICAvKipcbiAgICAgICBzcWxpdGUzX2JpbmRfdGV4dCgpIHdvcmtzIGV4YWN0bHkgbGlrZSBpdHMgQyBjb3VudGVycGFydCB1bmxlc3NcbiAgICAgICBpdHMgM3JkIGFyZ3VtZW50IGlzIG9uZSBvZjpcblxuICAgICAgIC0gSlMgc3RyaW5nOiB0aGUgM3JkIGFyZ3VtZW50IGlzIGNvbnZlcnRlZCB0byBhIEMgc3RyaW5nLCB0aGVcbiAgICAgICAgIDR0aCBhcmd1bWVudCBpcyBpZ25vcmVkLCBhbmQgdGhlIEMtc3RyaW5nJ3MgbGVuZ3RoIGlzIHVzZWRcbiAgICAgICAgIGluIGl0cyBwbGFjZS5cblxuICAgICAgIC0gQXJyYXk6IGNvbnZlcnRlZCB0byBhIHN0cmluZyBhcyBkZWZpbmVkIGZvciBcImZsZXhpYmxlXG4gICAgICAgICBzdHJpbmdzXCIuIFRoZSA0dGggYXJndW1lbnQgaXMgaWdub3JlZCBhbmQgYSB2YWx1ZSBvZiAtMVxuICAgICAgICAgaXMgYXNzdW1lZC5cblxuICAgICAgIC0gSW50OEFycmF5IG9yIFVpbnQ4QXJyYXk6IGlzIGFzc3VtZWQgdG8gY29udGFpbiBVVEYtOCB0ZXh0LCBpc1xuICAgICAgICAgY29udmVydGVkIHRvIGEgc3RyaW5nLiBUaGUgNHRoIGFyZ3VtZW50IGlzIGlnbm9yZWQsIHJlcGxhY2VkXG4gICAgICAgICBieSB0aGUgYXJyYXkncyBieXRlTGVuZ3RoIHZhbHVlLlxuXG4gICAgICAgLSBJZiBpdCdzIGFuIEFycmF5QnVmZmVyLCBpdCBnZXRzIHdyYXBwZWQgaW4gYSBVaW50OEFycmF5IGFuZFxuICAgICAgICAgdHJlYXRlZCBhcyB0aGF0IHR5cGUuXG5cbiAgICAgICBJbiBlYWNoIG9mIHRob3NlIGNhc2VzLCB0aGUgZmluYWwgYXJndW1lbnQgKHRleHQgZGVzdHJ1Y3RvcikgaXNcbiAgICAgICBpZ25vcmVkIGFuZCBjYXBpLlNRTElURV9XQVNNX0RFQUxMT0MgaXMgYXNzdW1lZC5cblxuICAgICAgIEEgM3JkIGFyZ3VtZW50IG9mIGBudWxsYCBpcyB0cmVhdGVkIGFzIGlmIGl0IHdlcmUgYSBXQVNNIHBvaW50ZXJcbiAgICAgICBvZiAwLlxuXG4gICAgICAgSWYgdGhlIDNyZCBhcmd1bWVudCBpcyBuZWl0aGVyIGEgV0FTTSBwb2ludGVyIG5vciBvbmUgb2YgdGhlXG4gICAgICAgYWJvdmUtZGVzY3JpYmVkIHR5cGVzLCBjYXBpLlNRTElURV9NSVNVU0UgaXMgcmV0dXJuZWQuXG5cbiAgICAgICBUaGUgZmlyc3QgYXJndW1lbnQgbWF5IGJlIGVpdGhlciBhbiBgc3FsaXRlM19zdG10KmAgV0FTTVxuICAgICAgIHBvaW50ZXIgb3IgYW4gc3FsaXRlMy5vbzEuU3RtdCBpbnN0YW5jZS5cblxuICAgICAgIEZvciBjb25zaXN0ZW5jeSB3aXRoIHRoZSBDIEFQSSwgaXQgcmVxdWlyZXMgdGhlIHNhbWUgbnVtYmVyIG9mXG4gICAgICAgYXJndW1lbnRzLiBJdCByZXR1cm5zIGNhcGkuU1FMSVRFX01JU1VTRSBpZiBwYXNzZWQgYW55IG90aGVyXG4gICAgICAgYXJndW1lbnQgY291bnQuXG5cbiAgICAgICBJZiBjbGllbnQgY29kZSBuZWVkcyB0byBiaW5kIHBhcnRpYWwgc3RyaW5ncywgaXQgbmVlZHMgdG9cbiAgICAgICBlaXRoZXIgcGFyY2VsIHRoZSBzdHJpbmcgdXAgYmVmb3JlIHBhc3NpbmcgaXQgaW4gaGVyZSBvciBpdFxuICAgICAgIG11c3QgcGFzcyBpbiBhIFdBU00gcG9pbnRlciBmb3IgdGhlIDNyZCBhcmd1bWVudCBhbmQgYSB2YWxpZFxuICAgICAgIDR0aC1hcmd1bWVudCB2YWx1ZSwgdGFraW5nIGNhcmUgbm90IHRvIHBhc3MgYSB2YWx1ZSB3aGljaFxuICAgICAgIHRydW5jYXRlcyBhIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyLiBXaGVuIHBhc3NpbmdcbiAgICAgICBXQVNNLWZvcm1hdCBzdHJpbmdzLCBpdCBpcyBpbXBvcnRhbnQgdGhhdCB0aGUgZmluYWwgYXJndW1lbnQgYmVcbiAgICAgICB2YWxpZCBvciB1bmV4cGVjdGVkIGNvbnRlbnQgY2FuIHJlc3VsdCBjYW4gcmVzdWx0LCBvciBldmVuIGFcbiAgICAgICBjcmFzaCBpZiB0aGUgYXBwbGljYXRpb24gcmVhZHMgcGFzdCB0aGUgV0FTTSBoZWFwIGJvdW5kcy5cbiAgICAqL1xuICAgIHNxbGl0ZTNfYmluZF90ZXh0OiB1bmRlZmluZWQvKmluc3RhbGxlZCBsYXRlciovLFxuXG4gICAgLyoqXG4gICAgICAgc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjIoKSBkaWZmZXJzIGZyb20gaXRzIG5hdGl2ZVxuICAgICAgIGNvdW50ZXJwYXJ0IG9ubHkgaW4gdGhlIGZvbGxvd2luZyB3YXlzOlxuXG4gICAgICAgMSkgVGhlIGZvdXJ0aCBhcmd1bWVudCAoYGVUZXh0UmVwYCkgYXJndW1lbnQgbXVzdCBub3Qgc3BlY2lmeVxuICAgICAgIGFueSBlbmNvZGluZyBvdGhlciB0aGFuIHNxbGl0ZTMuU1FMSVRFX1VURjguIFRoZSBKUyBBUEkgZG9lcyBub3RcbiAgICAgICBjdXJyZW50bHkgc3VwcG9ydCBhbnkgb3RoZXIgZW5jb2RpbmcgYW5kIGxpa2VseSBuZXZlclxuICAgICAgIHdpbGwuIFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgcmVwbGFjZSB0aGF0IGFyZ3VtZW50IG9uIGl0cyBvd25cbiAgICAgICBiZWNhdXNlIGl0IG1heSBjb250YWluIG90aGVyIGZsYWdzLiBBcyBhIHNwZWNpYWwgY2FzZSwgaWZcbiAgICAgICB0aGUgYm90dG9tIDQgYml0cyBvZiB0aGF0IGFyZ3VtZW50IGFyZSAwLCBTUUxJVEVfVVRGOCBpc1xuICAgICAgIGFzc3VtZWQuXG5cbiAgICAgICAyKSBBbnkgb2YgdGhlIGZvdXIgZmluYWwgYXJndW1lbnRzIG1heSBiZSBlaXRoZXIgV0FTTSBwb2ludGVyc1xuICAgICAgIChhc3N1bWVkIHRvIGJlIGZ1bmN0aW9uIHBvaW50ZXJzKSBvciBKUyBGdW5jdGlvbnMuIEluIHRoZVxuICAgICAgIGxhdHRlciBjYXNlLCBlYWNoIGdldHMgYm91bmQgdG8gV0FTTSB1c2luZ1xuICAgICAgIHNxbGl0ZTMuY2FwaS53YXNtLmluc3RhbGxGdW5jdGlvbigpIGFuZCB0aGF0IHdyYXBwZXIgaXMgcGFzc2VkXG4gICAgICAgb24gdG8gdGhlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbi5cblxuICAgICAgIEZvciBjb25zaXN0ZW5jeSB3aXRoIHRoZSBDIEFQSSwgaXQgcmVxdWlyZXMgdGhlIHNhbWUgbnVtYmVyIG9mXG4gICAgICAgYXJndW1lbnRzLiBJdCByZXR1cm5zIGNhcGkuU1FMSVRFX01JU1VTRSBpZiBwYXNzZWQgYW55IG90aGVyXG4gICAgICAgYXJndW1lbnQgY291bnQuXG5cbiAgICAgICBUaGUgc2VtYW50aWNzIG9mIEpTIGZ1bmN0aW9ucyBhcmU6XG5cbiAgICAgICB4RnVuYzogaXMgcGFzc2VkIGAocEN0eCwgLi4udmFsdWVzKWAuIEl0cyByZXR1cm4gdmFsdWUgYmVjb21lc1xuICAgICAgIHRoZSBuZXcgU1FMIGZ1bmN0aW9uJ3MgcmVzdWx0LlxuXG4gICAgICAgeFN0ZXA6IGlzIHBhc3NlZCBgKHBDdHgsIC4uLnZhbHVlcylgLiBJdHMgcmV0dXJuIHZhbHVlIGlzXG4gICAgICAgaWdub3JlZC5cblxuICAgICAgIHhGaW5hbDogaXMgcGFzc2VkIGAocEN0eClgLiBJdHMgcmV0dXJuIHZhbHVlIGJlY29tZXMgdGhlIG5ld1xuICAgICAgIGFnZ3JlZ2F0ZSBTUUwgZnVuY3Rpb24ncyByZXN1bHQuXG5cbiAgICAgICB4RGVzdHJveTogaXMgcGFzc2VkIGAodm9pZCopYC4gSXRzIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLiBUaGVcbiAgICAgICBwb2ludGVyIHBhc3NlZCB0byBpdCBpcyB0aGUgb25lIGZyb20gdGhlIDV0aCBhcmd1bWVudCB0b1xuICAgICAgIHNxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uX3YyKCkuXG5cbiAgICAgICBOb3RlIHRoYXQ6XG5cbiAgICAgICAtIGBwQ3R4YCBpbiB0aGUgYWJvdmUgZGVzY3JpcHRpb25zIGlzIGEgYHNxbGl0ZTNfY29udGV4dCpgLiBBdFxuICAgICAgICAgbGVhc3QgOTkgdGltZXMgb3V0IG9mIGEgaHVuZHJlZCwgdGhhdCBpbml0aWFsIGFyZ3VtZW50IHdpbGxcbiAgICAgICAgIGJlIGlycmVsZXZhbnQgZm9yIEpTIFVERiBiaW5kaW5ncywgYnV0IGl0IG5lZWRzIHRvIGJlIHRoZXJlXG4gICAgICAgICBzbyB0aGF0IHRoZSBjYXNlcyB3aGVyZSBpdCBfaXNfIHJlbGV2YW50LCBpbiBwYXJ0aWN1bGFyIHdpdGhcbiAgICAgICAgIHdpbmRvdyBhbmQgYWdncmVnYXRlIGZ1bmN0aW9ucywgaGF2ZSBmdWxsIGFjY2VzcyB0byB0aGVcbiAgICAgICAgIGxvd2VyLWxldmVsIHNxbGl0ZTMgQVBJcy5cblxuICAgICAgIC0gV2hlbiB3cmFwcGluZyBKUyBmdW5jdGlvbnMsIHRoZSByZW1haW5pbmcgYXJndW1lbnRzIGFyZSBwYXNzZFxuICAgICAgICAgdG8gdGhlbSBhcyBwb3NpdGlvbmFsIGFyZ3VtZW50cywgbm90IGFzIGFuIGFycmF5IG9mXG4gICAgICAgICBhcmd1bWVudHMsIGJlY2F1c2UgdGhhdCBhbGxvd3MgY2FsbGJhY2sgZGVmaW5pdGlvbnMgdG8gYmVcbiAgICAgICAgIG1vcmUgSlMtaWRpb21hdGljIHRoYW4gQy1saWtlLiBGb3IgZXhhbXBsZSBgKHBDdHgsYSxiKT0+YStiYFxuICAgICAgICAgaXMgbW9yZSBpbnR1aXRpdmUgYW5kIGxlZ2libGUgdGhhblxuICAgICAgICAgYChwQ3R4LGFyZ3MpPT5hcmdzWzBdK2FyZ3NbMV1gLiBGb3IgY2FzZXMgd2hlcmUgYW4gYXJyYXkgb2ZcbiAgICAgICAgIGFyZ3VtZW50cyB3b3VsZCBiZSBtb3JlIGNvbnZlbmllbnQsIHRoZSBjYWxsYmFja3Mgc2ltcGx5IG5lZWRcbiAgICAgICAgIHRvIGJlIGRlY2xhcmVkIGxpa2UgYChwQ3R4LC4uLmFyZ3MpPT57Li4ufWAsIGluIHdoaWNoIGNhc2VcbiAgICAgICAgIGBhcmdzYCB3aWxsIGJlIGFuIGFycmF5LlxuXG4gICAgICAgLSBJZiBhIEpTIHdyYXBwZXIgdGhyb3dzLCBpdCBnZXRzIHRyYW5zbGF0ZWQgdG9cbiAgICAgICAgIHNxbGl0ZTNfcmVzdWx0X2Vycm9yKCkgb3Igc3FsaXRlM19yZXN1bHRfZXJyb3Jfbm9tZW0oKSxcbiAgICAgICAgIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSBleGNlcHRpb24gaXMgYW5cbiAgICAgICAgIHNxbGl0ZTMuV2FzbUFsbG9jRXJyb3Igb2JqZWN0IG9yIG5vdC5cblxuICAgICAgIC0gV2hlbiBwYXNzaW5nIG9uIFdBU00gZnVuY3Rpb24gcG9pbnRlcnMsIGFyZ3VtZW50cyBhcmUgX25vdF9cbiAgICAgICAgIGNvbnZlcnRlZCBvciByZWZvcm11bGF0ZWQuIFRoZXkgYXJlIHBhc3NlZCBvbiBhcy1pcyBpbiByYXdcbiAgICAgICAgIHBvaW50ZXIgZm9ybSB1c2luZyB0aGVpciBuYXRpdmUgQyBzaWduYXR1cmVzLiBPbmx5IEpTXG4gICAgICAgICBmdW5jdGlvbnMgcGFzc2VkIGluIHRvIHRoaXMgcm91dGluZSwgYW5kIHRodXMgd3JhcHBlZCBieSB0aGlzXG4gICAgICAgICByb3V0aW5lLCBnZXQgYXV0b21hdGljIGNvbnZlcnNpb25zIG9mIGFyZ3VtZW50cyBhbmQgcmVzdWx0XG4gICAgICAgICB2YWx1ZXMuIFRoZSByb3V0aW5lcyB3aGljaCBwZXJmb3JtIHRob3NlIGNvbnZlcnNpb25zIGFyZVxuICAgICAgICAgZXhwb3NlZCBmb3IgY2xpZW50LXNpZGUgdXNlIGFzXG4gICAgICAgICBzcWxpdGUzX2NyZWF0ZV9mdW5jdGlvbl92Mi5jb252ZXJ0VWRmQXJncygpIGFuZFxuICAgICAgICAgc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjIuc2V0VWRmUmVzdWx0KCkuIHNxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uKClcbiAgICAgICAgIGFuZCBzcWxpdGUzX2NyZWF0ZV93aW5kb3dfZnVuY3Rpb24oKSBoYXZlIHRob3NlIHNhbWUgbWV0aG9kcy5cblxuICAgICAgIEZvciB4RnVuYygpLCB4U3RlcCgpLCBhbmQgeEZpbmFsKCk6XG5cbiAgICAgICAtIFdoZW4gY2FsbGVkIGZyb20gU1FMLCBhcmd1bWVudHMgdG8gdGhlIFVERiwgYW5kIGl0cyByZXN1bHQsXG4gICAgICAgICB3aWxsIGJlIGNvbnZlcnRlZCBiZXR3ZWVuIEpTIGFuZCBTUUwgd2l0aCBhcyBtdWNoIGZpZGVsaXR5IGFzXG4gICAgICAgICBpcyBmZWFzaWJsZSwgdHJpZ2dlcmluZyBhbiBleGNlcHRpb24gaWYgYSB0eXBlIGNvbnZlcnNpb25cbiAgICAgICAgIGNhbm5vdCBiZSBkZXRlcm1pbmVkLiBTb21lIGZyZWVkb20gaXMgYWZmb3JkZWQgdG8gbnVtZXJpY1xuICAgICAgICAgY29udmVyc2lvbnMgZHVlIHRvIGZyaWN0aW9uIGJldHdlZW4gdGhlIEpTIGFuZCBDIHdvcmxkczpcbiAgICAgICAgIGludGVnZXJzIHdoaWNoIGFyZSBsYXJnZXIgdGhhbiAzMiBiaXRzIG1heSBiZSB0cmVhdGVkIGFzXG4gICAgICAgICBkb3VibGVzIG9yIEJpZ0ludHMuXG5cbiAgICAgICBJZiBhbnkgSlMtc2lkZSBib3VuZCBmdW5jdGlvbnMgdGhyb3csIHRob3NlIGV4Y2VwdGlvbnMgYXJlXG4gICAgICAgaW50ZXJjZXB0ZWQgYW5kIGNvbnZlcnRlZCB0byBkYXRhYmFzZS1zaWRlIGVycm9ycyB3aXRoIHRoZVxuICAgICAgIGV4Y2VwdGlvbiBvZiB4RGVzdHJveSgpOiBhbnkgZXhjZXB0aW9uIGZyb20gaXQgaXMgaWdub3JlZCxcbiAgICAgICBwb3NzaWJseSBnZW5lcmF0aW5nIGEgY29uc29sZS5lcnJvcigpIG1lc3NhZ2UuICBEZXN0cnVjdG9yc1xuICAgICAgIG11c3Qgbm90IHRocm93LlxuXG4gICAgICAgT25jZSBpbnN0YWxsZWQsIHRoZXJlIGlzIGN1cnJlbnRseSBubyB3YXkgdG8gdW5pbnN0YWxsIHRoZVxuICAgICAgIGF1dG9tYXRpY2FsbHktY29udmVydGVkIFdBU00tYm91bmQgSlMgZnVuY3Rpb25zIGZyb20gV0FTTS4gVGhleVxuICAgICAgIGNhbiBiZSB1bmluc3RhbGxlZCBmcm9tIHRoZSBkYXRhYmFzZSBhcyBkb2N1bWVudGVkIGluIHRoZSBDXG4gICAgICAgQVBJLCBidXQgdGhpcyB3cmFwcGVyIGN1cnJlbnRseSBoYXMgbm8gaW5mcmFzdHJ1Y3R1cmUgaW4gcGxhY2VcbiAgICAgICB0byBhbHNvIGZyZWUgdGhlIFdBU00tYm91bmQgSlMgd3JhcHBlcnMsIGVmZmVjdGl2ZWx5IHJlc3VsdGluZ1xuICAgICAgIGluIGEgbWVtb3J5IGxlYWsgaWYgdGhlIGNsaWVudCB1bmluc3RhbGxzIHRoZSBVREYuIEltcHJvdmluZyB0aGF0XG4gICAgICAgaXMgYSBwb3RlbnRpYWwgVE9ETywgYnV0IHJlbW92aW5nIGNsaWVudC1pbnN0YWxsZWQgVURGcyBpcyByYXJlXG4gICAgICAgaW4gcHJhY3RpY2UuIElmIHRoaXMgZmFjdG9yIGlzIHJlbGV2YW50IGZvciBhIGdpdmVuIGNsaWVudCxcbiAgICAgICB0aGV5IGNhbiBjcmVhdGUgV0FTTS1ib3VuZCBKUyBmdW5jdGlvbnMgdGhlbXNlbHZlcywgaG9sZCBvbiB0byB0aGVpclxuICAgICAgIHBvaW50ZXJzLCBhbmQgcGFzcyB0aGUgcG9pbnRlcnMgaW4gdG8gaGVyZS4gTGF0ZXIgb24sIHRoZXkgY2FuXG4gICAgICAgZnJlZSB0aG9zZSBwb2ludGVycyAodXNpbmcgYHdhc20udW5pbnN0YWxsRnVuY3Rpb24oKWAgb3JcbiAgICAgICBlcXVpdmFsZW50KS5cblxuICAgICAgIEMgcmVmZXJlbmNlOiBodHRwczovL3d3dy5zcWxpdGUub3JnL2MzcmVmL2NyZWF0ZV9mdW5jdGlvbi5odG1sXG5cbiAgICAgICBNYWludGVuYW5jZSByZW1pbmRlcjogdGhlIGFiaWxpdHkgdG8gYWRkIG5ld1xuICAgICAgIFdBU00tYWNjZXNzaWJsZSBmdW5jdGlvbnMgdG8gdGhlIHJ1bnRpbWUgcmVxdWlyZXMgdGhhdCB0aGVcbiAgICAgICBXQVNNIGJ1aWxkIGlzIGNvbXBpbGVkIHdpdGggZW1jYydzIGAtc0FMTE9XX1RBQkxFX0dST1dUSGBcbiAgICAgICBmbGFnLlxuICAgICovXG4gICAgc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjI6IChcbiAgICAgIHBEYiwgZnVuY05hbWUsIG5BcmcsIGVUZXh0UmVwLCBwQXBwLFxuICAgICAgeEZ1bmMsIHhTdGVwLCB4RmluYWwsIHhEZXN0cm95XG4gICAgKT0+ey8qaW5zdGFsbGVkIGxhdGVyKi99LFxuICAgIC8qKlxuICAgICAgIEVxdWl2YWxlbnQgdG8gcGFzc2luZyB0aGUgc2FtZSBhcmd1bWVudHMgdG9cbiAgICAgICBzcWxpdGUzX2NyZWF0ZV9mdW5jdGlvbl92MigpLCB3aXRoIDAgYXMgdGhlIGZpbmFsIGFyZ3VtZW50LlxuICAgICovXG4gICAgc3FsaXRlM19jcmVhdGVfZnVuY3Rpb246IChcbiAgICAgIHBEYiwgZnVuY05hbWUsIG5BcmcsIGVUZXh0UmVwLCBwQXBwLFxuICAgICAgeEZ1bmMsIHhTdGVwLCB4RmluYWxcbiAgICApPT57LyppbnN0YWxsZWQgbGF0ZXIqL30sXG4gICAgLyoqXG4gICAgICAgVGhlIHNxbGl0ZTNfY3JlYXRlX3dpbmRvd19mdW5jdGlvbigpIEpTIHdyYXBwZXIgZGlmZmVycyBmcm9tXG4gICAgICAgaXRzIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpbiB0aGUgZXhhY3Qgc2FtZSB3YXkgdGhhdFxuICAgICAgIHNxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uX3YyKCkgZG9lcy4gVGhlIGFkZGl0aW9uYWwgZnVuY3Rpb24sXG4gICAgICAgeEludmVyc2UoKSwgaXMgdHJlYXRlZCBpZGVudGljYWxseSB0byB4U3RlcCgpIGJ5IHRoZSB3cmFwcGluZ1xuICAgICAgIGxheWVyLlxuICAgICovXG4gICAgc3FsaXRlM19jcmVhdGVfd2luZG93X2Z1bmN0aW9uOiAoXG4gICAgICBwRGIsIGZ1bmNOYW1lLCBuQXJnLCBlVGV4dFJlcCwgcEFwcCxcbiAgICAgIHhTdGVwLCB4RmluYWwsIHhWYWx1ZSwgeEludmVyc2UsIHhEZXN0cm95XG4gICAgKT0+ey8qaW5zdGFsbGVkIGxhdGVyKi99LFxuICAgIC8qKlxuICAgICAgIFRoZSBzcWxpdGUzX3ByZXBhcmVfdjMoKSBiaW5kaW5nIGhhbmRsZXMgdHdvIGRpZmZlcmVudCB1c2VzXG4gICAgICAgd2l0aCBkaWZmZXJpbmcgSlMvV0FTTSBzZW1hbnRpY3M6XG5cbiAgICAgICAxKSBzcWxpdGUzX3ByZXBhcmVfdjMocERiLCBzcWxTdHJpbmcsIC0xLCBwcmVwRmxhZ3MsIHBwU3RtdCAsIG51bGwpXG5cbiAgICAgICAyKSBzcWxpdGUzX3ByZXBhcmVfdjMocERiLCBzcWxQb2ludGVyLCBzcWxCeXRlTGVuLCBwcmVwRmxhZ3MsIHBwU3RtdCwgc3FsUG9pbnRlclRvUG9pbnRlcilcblxuICAgICAgIE5vdGUgdGhhdCB0aGUgU1FMIGxlbmd0aCBhcmd1bWVudCAodGhlIDNyZCBhcmd1bWVudCkgbXVzdCwgZm9yXG4gICAgICAgdXNhZ2UgKDEpLCBhbHdheXMgYmUgbmVnYXRpdmUgYmVjYXVzZSBpdCBtdXN0IGJlIGEgYnl0ZSBsZW5ndGhcbiAgICAgICBhbmQgdGhhdCB2YWx1ZSBpcyBleHBlbnNpdmUgdG8gY2FsY3VsYXRlIGZyb20gSlMgKHdoZXJlIG9ubHlcbiAgICAgICB0aGUgY2hhcmFjdGVyIGxlbmd0aCBvZiBzdHJpbmdzIGlzIHJlYWRpbHkgYXZhaWxhYmxlKS4gSXQgaXNcbiAgICAgICByZXRhaW5lZCBpbiB0aGlzIEFQSSdzIGludGVyZmFjZSBmb3IgY29kZS9kb2N1bWVudGF0aW9uXG4gICAgICAgY29tcGF0aWJpbGl0eSByZWFzb25zIGJ1dCBpcyBjdXJyZW50bHkgX2Fsd2F5c18gaWdub3JlZC4gV2l0aFxuICAgICAgIHVzYWdlICgyKSwgdGhlIDNyZCBhcmd1bWVudCBpcyB1c2VkIGFzLWlzIGJ1dCBpcyBpcyBzdGlsbFxuICAgICAgIGNyaXRpY2FsIHRoYXQgdGhlIEMtc3R5bGUgaW5wdXQgc3RyaW5nICgybmQgYXJndW1lbnQpIGJlXG4gICAgICAgdGVybWluYXRlZCB3aXRoIGEgMCBieXRlLlxuXG4gICAgICAgSW4gdXNhZ2UgKDEpLCB0aGUgMm5kIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBzdHJpbmcsXG4gICAgICAgVWludDhBcnJheSwgSW50OEFycmF5LCBvciBBcnJheUJ1ZmZlciAoYWxsIG9mIHdoaWNoIGFyZSBhc3N1bWVkXG4gICAgICAgdG8gaG9sZCBTUUwpLiBJZiBpdCBpcywgdGhpcyBmdW5jdGlvbiBhc3N1bWVzIGNhc2UgKDEpIGFuZFxuICAgICAgIGNhbGxzIHRoZSB1bmRlcnlsaW5nIEMgZnVuY3Rpb24gd2l0aCB0aGUgZXF1aXZhbGVudCBvZjpcblxuICAgICAgIChwRGIsIHNxbEFzU3RyaW5nLCAtMSwgcHJlcEZsYWdzLCBwcFN0bXQsIG51bGwpXG5cbiAgICAgICBUaGUgYHB6VGFpbGAgYXJndW1lbnQgaXMgaWdub3JlZCBpbiB0aGlzIGNhc2UgYmVjYXVzZSBpdHNcbiAgICAgICByZXN1bHQgaXMgbWVhbmluZ2xlc3Mgd2hlbiBhIHN0cmluZy10eXBlIHZhbHVlIGlzIHBhc3NlZFxuICAgICAgIHRocm91Z2g6IHRoZSBzdHJpbmcgZ29lcyB0aHJvdWdoIGFub3RoZXIgbGV2ZWwgb2YgaW50ZXJuYWxcbiAgICAgICBjb252ZXJzaW9uIGZvciBXQVNNJ3Mgc2FrZSBhbmQgdGhlIHJlc3VsdCBwb2ludGVyIHdvdWxkIHJlZmVyXG4gICAgICAgdG8gdGhhdCB0cmFuc2llbnQgY29udmVyc2lvbidzIG1lbW9yeSwgbm90IHRoZSBwYXNzZWQtaW5cbiAgICAgICBzdHJpbmcuXG5cbiAgICAgICBJZiB0aGUgc3FsIGFyZ3VtZW50IGlzIG5vdCBhIHN0cmluZywgaXQgbXVzdCBiZSBhIF9wb2ludGVyXyB0b1xuICAgICAgIGEgTlVMLXRlcm1pbmF0ZWQgc3RyaW5nIHdoaWNoIHdhcyBhbGxvY2F0ZWQgaW4gdGhlIFdBU00gbWVtb3J5XG4gICAgICAgKGUuZy4gdXNpbmcgY2FwaS53YXNtLmFsbG9jKCkgb3IgZXF1aXZhbGVudCkuIEluIHRoYXQgY2FzZSxcbiAgICAgICB0aGUgZmluYWwgYXJndW1lbnQgbWF5IGJlIDAvbnVsbC91bmRlZmluZWQgb3IgbXVzdCBiZSBhIHBvaW50ZXJcbiAgICAgICB0byB3aGljaCB0aGUgXCJ0YWlsXCIgb2YgdGhlIGNvbXBpbGVkIFNRTCBpcyB3cml0dGVuLCBhc1xuICAgICAgIGRvY3VtZW50ZWQgZm9yIHRoZSBDLXNpZGUgc3FsaXRlM19wcmVwYXJlX3YzKCkuIEluIGNhc2UgKDIpLFxuICAgICAgIHRoZSB1bmRlcmx5aW5nIEMgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhlIGVxdWl2YWxlbnQgb2Y6XG5cbiAgICAgICAocERiLCBzcWxBc1BvaW50ZXIsIHNxbEJ5dGVMZW4sIHByZXBGbGFncywgcHBTdG10LCBwelRhaWwpXG5cbiAgICAgICBJdCByZXR1cm5zIGl0cyByZXN1bHQgYW5kIGNvbXBpbGVkIHN0YXRlbWVudCBhcyBkb2N1bWVudGVkIGluXG4gICAgICAgdGhlIEMgQVBJLiBGZXRjaGluZyB0aGUgb3V0cHV0IHBvaW50ZXJzICg1dGggYW5kIDZ0aFxuICAgICAgIHBhcmFtZXRlcnMpIHJlcXVpcmVzIHVzaW5nIGBjYXBpLndhc20ucGVlaygpYCAob3JcbiAgICAgICBlcXVpdmFsZW50KSBhbmQgdGhlIGBwelRhaWxgIHdpbGwgcG9pbnQgdG8gYW4gYWRkcmVzcyByZWxhdGl2ZSB0b1xuICAgICAgIHRoZSBgc3FsQXNQb2ludGVyYCB2YWx1ZS5cblxuICAgICAgIElmIHBhc3NlZCBhbiBpbnZhbGlkIDJuZCBhcmd1bWVudCB0eXBlLCB0aGlzIGZ1bmN0aW9uIHdpbGxcbiAgICAgICByZXR1cm4gU1FMSVRFX01JU1VTRSBhbmQgc3FsaXRlM19lcnJtc2coKSB3aWxsIGNvbnRhaW4gYSBzdHJpbmdcbiAgICAgICBkZXNjcmliaW5nIHRoZSBwcm9ibGVtLlxuXG4gICAgICAgU2lkZS1ub3RlOiBpZiBnaXZlbiBhbiBlbXB0eSBzdHJpbmcsIG9yIG9uZSB3aGljaCBjb250YWlucyBvbmx5XG4gICAgICAgY29tbWVudHMgb3IgYW4gZW1wdHkgU1FMIGV4cHJlc3Npb24sIDAgaXMgcmV0dXJuZWQgYnV0IHRoZSByZXN1bHRcbiAgICAgICBvdXRwdXQgcG9pbnRlciB3aWxsIGJlIE5VTEwuXG4gICAgKi9cbiAgICBzcWxpdGUzX3ByZXBhcmVfdjM6IChkYlB0ciwgc3FsLCBzcWxCeXRlTGVuLCBwcmVwRmxhZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3RtdFB0clB0ciwgc3RyUHRyUHRyKT0+e30vKmluc3RhbGxlZCBsYXRlciovLFxuXG4gICAgLyoqXG4gICAgICAgRXF1aXZhbGVudCB0byBjYWxsaW5nIHNxbGl0ZTNfcHJhcGFyZV92MygpIHdpdGggMCBhcyBpdHMgNHRoIGFyZ3VtZW50LlxuICAgICovXG4gICAgc3FsaXRlM19wcmVwYXJlX3YyOiAoZGJQdHIsIHNxbCwgc3FsQnl0ZUxlbixcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdG10UHRyUHRyLHN0clB0clB0cik9Pnt9LyppbnN0YWxsZWQgbGF0ZXIqLyxcblxuICAgIC8qKlxuICAgICAgIFRoaXMgYmluZGluZyBlbmFibGVzIHRoZSBjYWxsYmFjayBhcmd1bWVudCB0byBiZSBhIEphdmFTY3JpcHQuXG5cbiAgICAgICBJZiB0aGUgY2FsbGJhY2sgaXMgYSBmdW5jdGlvbiwgdGhlbiBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZVxuICAgICAgIHNxbGl0ZTNfZXhlYygpIGNhbGwsIGl0IGluc3RhbGxzIGEgV0FTTS1ib3VuZCBmdW5jdGlvbiB3aGljaFxuICAgICAgIGFjdHMgYXMgYSBwcm94eSBmb3IgdGhlIGdpdmVuIGNhbGxiYWNrLiBUaGF0IHByb3h5IHdpbGwgYWxzb1xuICAgICAgIHBlcmZvcm0gYSBjb252ZXJzaW9uIG9mIHRoZSBjYWxsYmFjaydzIGFyZ3VtZW50cyBmcm9tXG4gICAgICAgYChjaGFyKiopYCB0byBKUyBhcnJheXMgb2Ygc3RyaW5ncy4gSG93ZXZlciwgZm9yIEFQSVxuICAgICAgIGNvbnNpc3RlbmN5J3Mgc2FrZSBpdCB3aWxsIHN0aWxsIGhvbm9yIHRoZSBDLWxldmVsIGNhbGxiYWNrXG4gICAgICAgcGFyYW1ldGVyIG9yZGVyIGFuZCB3aWxsIGNhbGwgaXQgbGlrZTpcblxuICAgICAgIGBjYWxsYmFjayhwVm9pZCwgY29sQ291bnQsIGxpc3RPZlZhbHVlcywgbGlzdE9mQ29sTmFtZXMpYFxuXG4gICAgICAgSWYgdGhlIGNhbGxiYWNrIGlzIG5vdCBhIEpTIGZ1bmN0aW9uIHRoZW4gdGhpcyBiaW5kaW5nIHBlcmZvcm1zXG4gICAgICAgbm8gdHJhbnNsYXRpb24gb2YgdGhlIGNhbGxiYWNrLCBidXQgdGhlIHNxbCBhcmd1bWVudCBpcyBzdGlsbFxuICAgICAgIGNvbnZlcnRlZCB0byBhIFdBU00gc3RyaW5nIGZvciB0aGUgY2FsbCB1c2luZyB0aGVcbiAgICAgICBcInN0cmluZzpmbGV4aWJsZVwiIGFyZ3VtZW50IGNvbnZlcnRlci5cbiAgICAqL1xuICAgIHNxbGl0ZTNfZXhlYzogKHBEYiwgc3FsLCBjYWxsYmFjaywgcFZvaWQsIHBFcnJNc2cpPT57fS8qaW5zdGFsbGVkIGxhdGVyKi8sXG5cbiAgICAvKipcbiAgICAgICBJZiBwYXNzZWQgYSBzaW5nbGUgYXJndW1lbnQgd2hpY2ggYXBwZWFycyB0byBiZSBhIGJ5dGUtb3JpZW50ZWRcbiAgICAgICBUeXBlZEFycmF5IChJbnQ4QXJyYXkgb3IgVWludDhBcnJheSksIHRoaXMgZnVuY3Rpb24gdHJlYXRzIHRoYXRcbiAgICAgICBUeXBlZEFycmF5IGFzIGFuIG91dHB1dCB0YXJnZXQsIGZldGNoZXMgYHRoZUFycmF5LmJ5dGVMZW5ndGhgXG4gICAgICAgYnl0ZXMgb2YgcmFuZG9tbmVzcywgYW5kIHBvcHVsYXRlcyB0aGUgd2hvbGUgYXJyYXkgd2l0aCBpdC4gQXNcbiAgICAgICBhIHNwZWNpYWwgY2FzZSwgaWYgdGhlIGFycmF5J3MgbGVuZ3RoIGlzIDAsIHRoaXMgZnVuY3Rpb25cbiAgICAgICBiZWhhdmVzIGFzIGlmIGl0IHdlcmUgcGFzc2VkICgwLDApLiBXaGVuIGNhbGxlZCB0aGlzIHdheSwgaXRcbiAgICAgICByZXR1cm5zIGl0cyBhcmd1bWVudCwgZWxzZSBpdCByZXR1cm5zIHRoZSBgdW5kZWZpbmVkYCB2YWx1ZS5cblxuICAgICAgIElmIGNhbGxlZCB3aXRoIGFueSBvdGhlciBhcmd1bWVudHMsIHRoZXkgYXJlIHBhc3NlZCBvbiBhcy1pc1xuICAgICAgIHRvIHRoZSBDIEFQSS4gUmVzdWx0cyBhcmUgdW5kZWZpbmVkIGlmIHBhc3NlZCBhbnkgaW5jb21wYXRpYmxlXG4gICAgICAgdmFsdWVzLlxuICAgICAqL1xuICAgIHNxbGl0ZTNfcmFuZG9tbmVzczogKG4sIG91dFB0cik9PnsvKmluc3RhbGxlZCBsYXRlciovfSxcbiAgfS8qY2FwaSovKTtcblxuICAvKipcbiAgICAgVmFyaW91cyBpbnRlcm5hbC11c2UgdXRpbGl0aWVzIGFyZSBhZGRlZCBoZXJlIGFzIG5lZWRlZC4gVGhleVxuICAgICBhcmUgYm91bmQgdG8gYW4gb2JqZWN0IG9ubHkgc28gdGhhdCB3ZSBoYXZlIGFjY2VzcyB0byB0aGVtIGluXG4gICAgIHRoZSBkaWZmZXJlbnRseS1zY29wZWQgc3RlcHMgb2YgdGhlIEFQSSBib290c3RyYXBwaW5nXG4gICAgIHByb2Nlc3MuIEF0IHRoZSBlbmQgb2YgdGhlIEFQSSBzZXR1cCBwcm9jZXNzLCB0aGlzIG9iamVjdCBnZXRzXG4gICAgIHJlbW92ZWQuIFRoZXNlIGFyZSBOT1QgcGFydCBvZiB0aGUgcHVibGljIEFQSS5cbiAgKi9cbiAgY29uc3QgdXRpbCA9IHtcbiAgICBhZmZpcm1CaW5kYWJsZVR5cGVkQXJyYXksIGZsZXhpYmxlU3RyaW5nLFxuICAgIGJpZ0ludEZpdHMzMiwgYmlnSW50Rml0czY0LCBiaWdJbnRGaXRzRG91YmxlLFxuICAgIGlzQmluZGFibGVUeXBlZEFycmF5LFxuICAgIGlzSW50MzIsIGlzU1FMYWJsZVR5cGVkQXJyYXksIGlzVHlwZWRBcnJheSxcbiAgICB0eXBlZEFycmF5VG9TdHJpbmcsXG4gICAgaXNVSVRocmVhZDogKCk9PihnbG9iYWxUaGlzLndpbmRvdz09PWdsb2JhbFRoaXMgJiYgISFnbG9iYWxUaGlzLmRvY3VtZW50KSxcbiAgICAvLyBpcyB0aGlzIHRydWUgZm9yIEVTTT86ICd1bmRlZmluZWQnPT09dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlXG4gICAgaXNTaGFyZWRUeXBlZEFycmF5LFxuICAgIHRvc3M6IGZ1bmN0aW9uKC4uLmFyZ3Mpe3Rocm93IG5ldyBFcnJvcihhcmdzLmpvaW4oJyAnKSl9LFxuICAgIHRvc3MzLFxuICAgIHR5cGVkQXJyYXlQYXJ0XG4gIH07XG5cbiAgT2JqZWN0LmFzc2lnbih3YXNtLCB7XG4gICAgLyoqXG4gICAgICAgRW1zY3JpcHRlbiBBUElzIGhhdmUgYSBkZWVwLXNlYXRlZCBhc3N1bXB0aW9uIHRoYXQgYWxsIHBvaW50ZXJzXG4gICAgICAgYXJlIDMyIGJpdHMuIFdlJ2xsIHJlbWFpbiBvcHRpbWlzdGljIHRoYXQgdGhhdCB3b24ndCBhbHdheXMgYmVcbiAgICAgICB0aGUgY2FzZSBhbmQgd2lsbCB1c2UgdGhpcyBjb25zdGFudCBpbiBwbGFjZXMgd2hlcmUgd2UgbWlnaHRcbiAgICAgICBvdGhlcndpc2UgdXNlIGEgaGFyZC1jb2RlZCA0LlxuICAgICovXG4gICAgcHRyU2l6ZW9mOiBjb25maWcud2FzbVB0clNpemVvZiB8fCA0LFxuICAgIC8qKlxuICAgICAgIFRoZSBXQVNNIElSIChJbnRlcm1lZGlhdGUgUmVwcmVzZW50YXRpb24pIHZhbHVlIGZvclxuICAgICAgIHBvaW50ZXItdHlwZSB2YWx1ZXMuIEl0IE1VU1QgcmVmZXIgdG8gYSB2YWx1ZSB0eXBlIG9mIHRoZVxuICAgICAgIHNpemUgZGVzY3JpYmVkIGJ5IHRoaXMucHRyU2l6ZW9mLlxuICAgICovXG4gICAgcHRySVI6IGNvbmZpZy53YXNtUHRySVIgfHwgXCJpMzJcIixcbiAgICAvKipcbiAgICAgICBUcnVlIGlmIEJpZ0ludCBzdXBwb3J0IHdhcyBlbmFibGVkIHZpYSAoZS5nLikgdGhlXG4gICAgICAgRW1zY3JpcHRlbiAtc1dBU01fQklHSU5UIGZsYWcsIGVsc2UgZmFsc2UuIFdoZW5cbiAgICAgICBlbmFibGVkLCBjZXJ0YWluIDY0LWJpdCBzcWxpdGUzIEFQSXMgYXJlIGVuYWJsZWQgd2hpY2hcbiAgICAgICBhcmUgbm90IG90aGVyd2lzZSBlbmFibGVkIGR1ZSB0byBKUy9XQVNNIGludDY0XG4gICAgICAgaW1wZWRlbmNlIG1pc21hdGNoZXMuXG4gICAgKi9cbiAgICBiaWdJbnRFbmFibGVkOiAhIWNvbmZpZy5iaWdJbnRFbmFibGVkLFxuICAgIC8qKlxuICAgICAgIFRoZSBzeW1ib2xzIGV4cG9ydGVkIGJ5IHRoZSBXQVNNIGVudmlyb25tZW50LlxuICAgICovXG4gICAgZXhwb3J0czogY29uZmlnLmV4cG9ydHNcbiAgICAgIHx8IHRvc3MzKFwiTWlzc2luZyBBUEkgY29uZmlnLmV4cG9ydHMgKFdBU00gbW9kdWxlIGV4cG9ydHMpLlwiKSxcblxuICAgIC8qKlxuICAgICAgIFdoZW4gRW1zY3JpcHRlbiBjb21waWxlcyB3aXRoIGAtc0lNUE9SVF9NRU1PUllgLCBpdFxuICAgICAgIGluaXRhbGl6ZXMgdGhlIGhlYXAgYW5kIGltcG9ydHMgaXQgaW50byB3YXNtLCBhcyBvcHBvc2VkIHRvXG4gICAgICAgdGhlIG90aGVyIHdheSBhcm91bmQuIEluIHRoaXMgY2FzZSwgdGhlIG1lbW9yeSBpcyBub3RcbiAgICAgICBhdmFpbGFibGUgdmlhIHRoaXMuZXhwb3J0cy5tZW1vcnkuXG4gICAgKi9cbiAgICBtZW1vcnk6IGNvbmZpZy5tZW1vcnkgfHwgY29uZmlnLmV4cG9ydHNbJ21lbW9yeSddXG4gICAgICB8fCB0b3NzMyhcIkFQSSBjb25maWcgb2JqZWN0IHJlcXVpcmVzIGEgV2ViQXNzZW1ibHkuTWVtb3J5IG9iamVjdFwiLFxuICAgICAgICAgICAgICBcImluIGVpdGhlciBjb25maWcuZXhwb3J0cy5tZW1vcnkgKGV4cG9ydGVkKVwiLFxuICAgICAgICAgICAgICBcIm9yIGNvbmZpZy5tZW1vcnkgKGltcG9ydGVkKS5cIiksXG5cbiAgICAvKipcbiAgICAgICBUaGUgQVBJJ3MgcHJpbWFyeSBwb2ludCBvZiBhY2Nlc3MgdG8gdGhlIFdBU00tc2lkZSBtZW1vcnlcbiAgICAgICBhbGxvY2F0b3IuICBXb3JrcyBsaWtlIHNxbGl0ZTNfbWFsbG9jKCkgYnV0IHRocm93cyBhXG4gICAgICAgV2FzbUFsbG9jRXJyb3IgaWYgYWxsb2NhdGlvbiBmYWlscy4gSXQgaXMgaW1wb3J0YW50IHRoYXQgYW55XG4gICAgICAgY29kZSB3aGljaCBtaWdodCBwYXNzIHRocm91Z2ggdGhlIHNxbGl0ZTMgQyBBUEkgTk9UIHRocm93IGFuZFxuICAgICAgIG11c3QgaW5zdGVhZCByZXR1cm4gU1FMSVRFX05PTUVNIChvciBlcXVpdmFsZW50LCBkZXBlbmRpbmcgb25cbiAgICAgICB0aGUgY29udGV4dCkuXG5cbiAgICAgICBWZXJ5IGZldyBjYXNlcyBpbiB0aGUgc3FsaXRlMyBKUyBBUElzIGNhbiByZXN1bHQgaW5cbiAgICAgICBjbGllbnQtZGVmaW5lZCBmdW5jdGlvbnMgcHJvcGFnYXRpbmcgZXhjZXB0aW9ucyB2aWEgdGhlIEMtc3R5bGVcbiAgICAgICBBUEkuIE1vc3Qgbm90YWJseSwgdGhpcyBhcHBsaWVzIHRvIFdBU00tYm91bmQgSlMgZnVuY3Rpb25zXG4gICAgICAgd2hpY2ggYXJlIGNyZWF0ZWQgZGlyZWN0bHkgYnkgY2xpZW50cyBhbmQgcGFzc2VkIG9uIF9hcyBXQVNNXG4gICAgICAgZnVuY3Rpb24gcG9pbnRlcnNfIHRvIGZ1bmN0aW9ucyBzdWNoIGFzXG4gICAgICAgc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjIoKS4gU3VjaCBiaW5kaW5ncyBjcmVhdGVkXG4gICAgICAgdHJhbnNwYXJlbnRseSBieSB0aGlzIEFQSSB3aWxsIGF1dG9tYXRpY2FsbHkgdXNlIHdyYXBwZXJzIHdoaWNoXG4gICAgICAgY2F0Y2ggZXhjZXB0aW9ucyBhbmQgY29udmVydCB0aGVtIHRvIGFwcHJvcHJpYXRlIGVycm9yIGNvZGVzLlxuXG4gICAgICAgRm9yIGNhc2VzIHdoZXJlIG5vbi10aHJvd2luZyBhbGxvY2F0aW9uIGlzIHJlcXVpcmVkLCB1c2VcbiAgICAgICB0aGlzLmFsbG9jLmltcGwoKSwgd2hpY2ggaXMgZGlyZWN0IGJpbmRpbmcgb2YgdGhlXG4gICAgICAgdW5kZXJseWluZyBDLWxldmVsIGFsbG9jYXRvci5cblxuICAgICAgIERlc2lnbiBub3RlOiB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBuYW1lZCBcIm1hbGxvY1wiIHByaW1hcmlseVxuICAgICAgIGJlY2F1c2UgRW1zY3JpcHRlbiB1c2VzIHRoYXQgbmFtZSBhbmQgd2Ugd2FudGVkIHRvIGF2b2lkIGFueVxuICAgICAgIGNvbmZ1c2lvbiBlYXJseSBvbiBpbiB0aGlzIGNvZGUncyBkZXZlbG9wbWVudCwgd2hlbiBpdCBzdGlsbFxuICAgICAgIGhhZCBjbG9zZSB0aWVzIHRvIEVtc2NyaXB0ZW4ncyBnbHVlIGNvZGUuXG4gICAgKi9cbiAgICBhbGxvYzogdW5kZWZpbmVkLyppbnN0YWxsZWQgbGF0ZXIqLyxcblxuICAgIC8qKlxuICAgICAgIFJhcmVseSBuZWNlc3NhcnkgaW4gSlMgY29kZSwgdGhpcyByb3V0aW5lIHdvcmtzIGxpa2VcbiAgICAgICBzcWxpdGUzX3JlYWxsb2MoTSxOKSwgd2hlcmUgTSBpcyBlaXRoZXIgTlVMTCBvciBhIHBvaW50ZXJcbiAgICAgICBvYnRhaW5lZCBmcm9tIHRoaXMgZnVuY3Rpb24gb3IgdGhpcy5hbGxvYygpIGFuZCBOIGlzIHRoZSBudW1iZXJcbiAgICAgICBvZiBieXRlcyB0byByZWFsbG9jYXRlIHRoZSBibG9jayB0by4gUmV0dXJucyBhIHBvaW50ZXIgdG8gdGhlXG4gICAgICAgcmVhbGxvY2F0ZWQgYmxvY2sgb3IgMCBpZiBhbGxvY2F0aW9uIGZhaWxzLlxuXG4gICAgICAgSWYgTSBpcyBOVUxMIGFuZCBOIGlzIHBvc2l0aXZlLCB0aGlzIGJlaGF2ZXMgbGlrZVxuICAgICAgIHRoaXMuYWxsb2MoTikuIElmIE4gaXMgMCwgaXQgYmVoYXZlcyBsaWtlIHRoaXMuZGVhbGxvYygpLlxuICAgICAgIFJlc3VsdHMgYXJlIHVuZGVmaW5lZCBpZiBOIGlzIG5lZ2F0aXZlIChzcWxpdGUzX3JlYWxsb2MoKVxuICAgICAgIHRyZWF0cyB0aGF0IGFzIDAsIGJ1dCBpZiB0aGlzIGNvZGUgaXMgYnVpbHQgd2l0aCBhIGRpZmZlcmVudFxuICAgICAgIGFsbG9jYXRvciBpdCBtYXkgbWlzYmVoYXZlIHdpdGggbmVnYXRpdmUgdmFsdWVzKS5cblxuICAgICAgIExpa2UgdGhpcy5hbGxvYy5pbXBsKCksIHRoaXMucmVhbGxvYy5pbXBsKCkgaXMgYSBkaXJlY3QgYmluZGluZ1xuICAgICAgIHRvIHRoZSB1bmRlcmx5aW5nIHJlYWxsb2MoKSBpbXBsZW1lbnRhdGlvbiB3aGljaCBkb2VzIG5vdCB0aHJvd1xuICAgICAgIGV4Y2VwdGlvbnMsIGluc3RlYWQgcmV0dXJuaW5nIDAgb24gYWxsb2NhdGlvbiBlcnJvci5cbiAgICAqL1xuICAgIHJlYWxsb2M6IHVuZGVmaW5lZC8qaW5zdGFsbGVkIGxhdGVyKi8sXG5cbiAgICAvKipcbiAgICAgICBUaGUgQVBJJ3MgcHJpbWFyeSBwb2ludCBvZiBhY2Nlc3MgdG8gdGhlIFdBU00tc2lkZSBtZW1vcnlcbiAgICAgICBkZWFsbG9jYXRvci4gV29ya3MgbGlrZSBzcWxpdGUzX2ZyZWUoKS5cblxuICAgICAgIERlc2lnbiBub3RlOiB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBuYW1lZCBcImZyZWVcIiBmb3IgdGhlIHNhbWVcbiAgICAgICByZWFzb24gdGhhdCB0aGlzLmFsbG9jKCkgaXMgbm90IGNhbGxlZCB0aGlzLm1hbGxvYygpLlxuICAgICovXG4gICAgZGVhbGxvYzogdW5kZWZpbmVkLyppbnN0YWxsZWQgbGF0ZXIqL1xuXG4gICAgLyogTWFueSBtb3JlIHdhc20tcmVsYXRlZCBBUElzIGdldCBpbnN0YWxsZWQgbGF0ZXIgb24uICovXG4gIH0vKndhc20qLyk7XG5cbiAgLyoqXG4gICAgIHdhc20uYWxsb2MoKSdzIHNyY1R5cGVkQXJyYXkuYnl0ZUxlbmd0aCBieXRlcyxcbiAgICAgcG9wdWxhdGVzIHRoZW0gd2l0aCB0aGUgdmFsdWVzIGZyb20gdGhlIHNvdXJjZVxuICAgICBUeXBlZEFycmF5LCBhbmQgcmV0dXJucyB0aGUgcG9pbnRlciB0byB0aGF0IG1lbW9yeS4gVGhlXG4gICAgIHJldHVybmVkIHBvaW50ZXIgbXVzdCBldmVudHVhbGx5IGJlIHBhc3NlZCB0b1xuICAgICB3YXNtLmRlYWxsb2MoKSB0byBjbGVhbiBpdCB1cC5cblxuICAgICBUaGUgYXJndW1lbnQgbWF5IGJlIGEgVWludDhBcnJheSwgSW50OEFycmF5LCBvciBBcnJheUJ1ZmZlcixcbiAgICAgYW5kIGl0IHRocm93cyBpZiBwYXNzZWQgYW55IG90aGVyIHR5cGUuXG5cbiAgICAgQXMgYSBzcGVjaWFsIGNhc2UsIHRvIGF2b2lkIGZ1cnRoZXIgc3BlY2lhbCBjYXNlcyB3aGVyZVxuICAgICB0aGlzIGlzIHVzZWQsIGlmIHNyY1R5cGVkQXJyYXkuYnl0ZUxlbmd0aCBpcyAwLCBpdFxuICAgICBhbGxvY2F0ZXMgYSBzaW5nbGUgYnl0ZSBhbmQgc2V0cyBpdCB0byB0aGUgdmFsdWVcbiAgICAgMC4gRXZlbiBpbiBzdWNoIGNhc2VzLCBjYWxscyBtdXN0IGJlaGF2ZSBhcyBpZiB0aGVcbiAgICAgYWxsb2NhdGVkIG1lbW9yeSBoYXMgZXhhY3RseSBzcmNUeXBlZEFycmF5LmJ5dGVMZW5ndGhcbiAgICAgYnl0ZXMuXG4gICovXG4gIHdhc20uYWxsb2NGcm9tVHlwZWRBcnJheSA9IGZ1bmN0aW9uKHNyY1R5cGVkQXJyYXkpe1xuICAgIGlmKHNyY1R5cGVkQXJyYXkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7XG4gICAgICBzcmNUeXBlZEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoc3JjVHlwZWRBcnJheSk7XG4gICAgfVxuICAgIGFmZmlybUJpbmRhYmxlVHlwZWRBcnJheShzcmNUeXBlZEFycmF5KTtcbiAgICBjb25zdCBwUmV0ID0gd2FzbS5hbGxvYyhzcmNUeXBlZEFycmF5LmJ5dGVMZW5ndGggfHwgMSk7XG4gICAgd2FzbS5oZWFwRm9yU2l6ZShzcmNUeXBlZEFycmF5LmNvbnN0cnVjdG9yKS5zZXQoXG4gICAgICBzcmNUeXBlZEFycmF5LmJ5dGVMZW5ndGggPyBzcmNUeXBlZEFycmF5IDogWzBdLCBwUmV0XG4gICAgKTtcbiAgICByZXR1cm4gcFJldDtcbiAgfTtcblxuICB7XG4gICAgLy8gU2V0IHVwIGFsbG9jYXRvcnMuLi5cbiAgICBjb25zdCBrZXlBbGxvYyA9IGNvbmZpZy5hbGxvY0V4cG9ydE5hbWUsXG4gICAgICAgICAga2V5RGVhbGxvYyA9IGNvbmZpZy5kZWFsbG9jRXhwb3J0TmFtZSxcbiAgICAgICAgICBrZXlSZWFsbG9jID0gY29uZmlnLnJlYWxsb2NFeHBvcnROYW1lO1xuICAgIGZvcihjb25zdCBrZXkgb2YgW2tleUFsbG9jLCBrZXlEZWFsbG9jLCBrZXlSZWFsbG9jXSl7XG4gICAgICBjb25zdCBmID0gd2FzbS5leHBvcnRzW2tleV07XG4gICAgICBpZighKGYgaW5zdGFuY2VvZiBGdW5jdGlvbikpIHRvc3MzKFwiTWlzc2luZyByZXF1aXJlZCBleHBvcnRzW1wiLGtleSxcIl0gZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHdhc20uYWxsb2MgPSBmdW5jdGlvbiBmKG4pe1xuICAgICAgcmV0dXJuIGYuaW1wbChuKSB8fCBXYXNtQWxsb2NFcnJvci50b3NzKFwiRmFpbGVkIHRvIGFsbG9jYXRlXCIsbixcIiBieXRlcy5cIik7XG4gICAgfTtcbiAgICB3YXNtLmFsbG9jLmltcGwgPSB3YXNtLmV4cG9ydHNba2V5QWxsb2NdO1xuICAgIHdhc20ucmVhbGxvYyA9IGZ1bmN0aW9uIGYobSxuKXtcbiAgICAgIGNvbnN0IG0yID0gZi5pbXBsKG0sbik7XG4gICAgICByZXR1cm4gbiA/IChtMiB8fCBXYXNtQWxsb2NFcnJvci50b3NzKFwiRmFpbGVkIHRvIHJlYWxsb2NhdGVcIixuLFwiIGJ5dGVzLlwiKSkgOiAwO1xuICAgIH07XG4gICAgd2FzbS5yZWFsbG9jLmltcGwgPSB3YXNtLmV4cG9ydHNba2V5UmVhbGxvY107XG4gICAgd2FzbS5kZWFsbG9jID0gd2FzbS5leHBvcnRzW2tleURlYWxsb2NdO1xuICB9XG5cbiAgLyoqXG4gICAgIFJlcG9ydHMgaW5mbyBhYm91dCBjb21waWxlLXRpbWUgb3B0aW9ucyB1c2luZ1xuICAgICBzcWxpdGUzX2NvbXBpbGVvcHRpb25fZ2V0KCkgYW5kIHNxbGl0ZTNfY29tcGlsZW9wdGlvbl91c2VkKCkuIEl0XG4gICAgIGhhcyBzZXZlcmFsIGRpc3RpbmN0IHVzZXM6XG5cbiAgICAgSWYgb3B0TmFtZSBpcyBhbiBhcnJheSB0aGVuIGl0IGlzIGV4cGVjdGVkIHRvIGJlIGEgbGlzdCBvZlxuICAgICBjb21waWxhdGlvbiBvcHRpb25zIGFuZCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgYW4gb2JqZWN0XG4gICAgIHdoaWNoIG1hcHMgZWFjaCBzdWNoIG9wdGlvbiB0byB0cnVlIG9yIGZhbHNlLCBpbmRpY2F0aW5nXG4gICAgIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBvcHRpb24gd2FzIGluY2x1ZGVkIGluIHRoaXNcbiAgICAgYnVpbGQuIFRoYXQgb2JqZWN0IGlzIHJldHVybmVkLlxuXG4gICAgIElmIG9wdE5hbWUgaXMgYW4gb2JqZWN0LCBpdHMga2V5cyBhcmUgZXhwZWN0ZWQgdG8gYmUgY29tcGlsYXRpb25cbiAgICAgb3B0aW9ucyBhbmQgdGhpcyBmdW5jdGlvbiBzZXRzIGVhY2ggZW50cnkgdG8gdHJ1ZSBvciBmYWxzZSxcbiAgICAgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBjb21waWxhdGlvbiBvcHRpb24gd2FzIHVzZWQgb3Igbm90LiBUaGF0XG4gICAgIG9iamVjdCBpcyByZXR1cm5lZC5cblxuICAgICBJZiBwYXNzZWQgbm8gYXJndW1lbnRzIHRoZW4gaXQgcmV0dXJucyBhbiBvYmplY3QgbWFwcGluZ1xuICAgICBhbGwga25vd24gY29tcGlsYXRpb24gb3B0aW9ucyB0byB0aGVpciBjb21waWxlLXRpbWUgdmFsdWVzLFxuICAgICBvciBib29sZWFuIHRydWUgaWYgdGhleSBhcmUgZGVmaW5lZCB3aXRoIG5vIHZhbHVlLiBUaGlzXG4gICAgIHJlc3VsdCwgd2hpY2ggaXMgcmVsYXRpdmVseSBleHBlbnNpdmUgdG8gY29tcHV0ZSwgaXMgY2FjaGVkXG4gICAgIGFuZCByZXR1cm5lZCBmb3IgZnV0dXJlIG5vLWFyZ3VtZW50IGNhbGxzLlxuXG4gICAgIEluIGFsbCBvdGhlciBjYXNlcyBpdCByZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG9wdGlvbiB3YXNcbiAgICAgYWN0aXZlIHdoZW4gd2hlbiBjb21waWxpbmcgdGhlIHNxbGl0ZTMgbW9kdWxlLCBlbHNlIGZhbHNlLlxuXG4gICAgIENvbXBpbGUtdGltZSBvcHRpb24gbmFtZXMgbWF5IG9wdGlvbmFsbHkgaW5jbHVkZSB0aGVpclxuICAgICBcIlNRTElURV9cIiBwcmVmaXguIFdoZW4gaXQgcmV0dXJucyBhbiBvYmplY3Qgb2YgYWxsIG9wdGlvbnMsXG4gICAgIHRoZSBwcmVmaXggaXMgZWxpZGVkLlxuICAqL1xuICB3YXNtLmNvbXBpbGVPcHRpb25Vc2VkID0gZnVuY3Rpb24gZihvcHROYW1lKXtcbiAgICBpZighYXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICBpZihmLl9yZXN1bHQpIHJldHVybiBmLl9yZXN1bHQ7XG4gICAgICBlbHNlIGlmKCFmLl9vcHQpe1xuICAgICAgICBmLl9yeCA9IC9eKFtePV0rKT0oLispLztcbiAgICAgICAgZi5fcnhJbnQgPSAvXi0/XFxkKyQvO1xuICAgICAgICBmLl9vcHQgPSBmdW5jdGlvbihvcHQsIHJ2KXtcbiAgICAgICAgICBjb25zdCBtID0gZi5fcnguZXhlYyhvcHQpO1xuICAgICAgICAgIHJ2WzBdID0gKG0gPyBtWzFdIDogb3B0KTtcbiAgICAgICAgICBydlsxXSA9IG0gPyAoZi5fcnhJbnQudGVzdChtWzJdKSA/ICttWzJdIDogbVsyXSkgOiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3QgcmMgPSB7fSwgb3YgPSBbMCwwXTtcbiAgICAgIGxldCBpID0gMCwgaztcbiAgICAgIHdoaWxlKChrID0gY2FwaS5zcWxpdGUzX2NvbXBpbGVvcHRpb25fZ2V0KGkrKykpKXtcbiAgICAgICAgZi5fb3B0KGssb3YpO1xuICAgICAgICByY1tvdlswXV0gPSBvdlsxXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmLl9yZXN1bHQgPSByYztcbiAgICB9ZWxzZSBpZihBcnJheS5pc0FycmF5KG9wdE5hbWUpKXtcbiAgICAgIGNvbnN0IHJjID0ge307XG4gICAgICBvcHROYW1lLmZvckVhY2goKHYpPT57XG4gICAgICAgIHJjW3ZdID0gY2FwaS5zcWxpdGUzX2NvbXBpbGVvcHRpb25fdXNlZCh2KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJjO1xuICAgIH1lbHNlIGlmKCdvYmplY3QnID09PSB0eXBlb2Ygb3B0TmFtZSl7XG4gICAgICBPYmplY3Qua2V5cyhvcHROYW1lKS5mb3JFYWNoKChrKT0+IHtcbiAgICAgICAgb3B0TmFtZVtrXSA9IGNhcGkuc3FsaXRlM19jb21waWxlb3B0aW9uX3VzZWQoayk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvcHROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgJ3N0cmluZyc9PT10eXBlb2Ygb3B0TmFtZVxuICAgICkgPyAhIWNhcGkuc3FsaXRlM19jb21waWxlb3B0aW9uX3VzZWQob3B0TmFtZSkgOiBmYWxzZTtcbiAgfS8qY29tcGlsZU9wdGlvblVzZWQoKSovO1xuXG4gIC8qKlxuICAgICBzcWxpdGUzLndhc20ucHN0YWNrIChwc2V1ZG8tc3RhY2spIGhvbGRzIGEgc3BlY2lhbC1jYXNlXG4gICAgIHN0YWNrLXN0eWxlIGFsbG9jYXRvciBpbnRlbmRlZCBvbmx5IGZvciB1c2Ugd2l0aCBfc21hbGxfIGRhdGEgb2ZcbiAgICAgbm90IG1vcmUgdGhhbiAoaW4gdG90YWwpIGEgZmV3IGtiIGluIHNpemUsIG1hbmFnZWQgYXMgaWYgaXQgd2VyZVxuICAgICBzdGFjay1iYXNlZC5cblxuICAgICBJdCBoYXMgb25seSBhIHNpbmdsZSBpbnRlbmRlZCB1c2FnZTpcblxuICAgICBgYGBcbiAgICAgY29uc3Qgc3RhY2tQb3MgPSBwc3RhY2sucG9pbnRlcjtcbiAgICAgdHJ5e1xuICAgICAgIGNvbnN0IHB0ciA9IHBzdGFjay5hbGxvYyg4KTtcbiAgICAgICAvLyA9PT4gcHN0YWNrLnBvaW50ZXIgPT09IHB0clxuICAgICAgIGNvbnN0IG90aGVyUHRyID0gcHN0YWNrLmFsbG9jKDgpO1xuICAgICAgIC8vID09PiBwc3RhY2sucG9pbnRlciA9PT0gb3RoZXJQdHJcbiAgICAgICAuLi5cbiAgICAgfWZpbmFsbHl7XG4gICAgICAgcHN0YWNrLnJlc3RvcmUoc3RhY2tQb3MpO1xuICAgICAgIC8vID09PiBwc3RhY2sucG9pbnRlciA9PT0gc3RhY2tQb3NcbiAgICAgfVxuICAgICBgYGBcblxuICAgICBUaGlzIGFsbG9jYXRvciBpcyBtdWNoIGZhc3RlciB0aGFuIGEgZ2VuZXJhbC1wdXJwb3NlIG9uZSBidXQgaXNcbiAgICAgbGltaXRlZCB0byB1c2FnZSBwYXR0ZXJucyBsaWtlIHRoZSBvbmUgc2hvd24gYWJvdmUuXG5cbiAgICAgSXQgb3BlcmF0ZXMgZnJvbSBhIHN0YXRpYyByYW5nZSBvZiBtZW1vcnkgd2hpY2ggbGl2ZXMgb3V0c2lkZSBvZlxuICAgICBzcGFjZSBtYW5hZ2VkIGJ5IEVtc2NyaXB0ZW4ncyBzdGFjay1tYW5hZ2VtZW50LCBzbyBkb2VzIG5vdFxuICAgICBjb2xsaWRlIHdpdGggRW1zY3JpcHRlbi1wcm92aWRlZCBzdGFjayBhbGxvY2F0aW9uIEFQSXMuIFRoZVxuICAgICBtZW1vcnkgbGl2ZXMgaW4gdGhlIFdBU00gaGVhcCBhbmQgY2FuIGJlIHVzZWQgd2l0aCByb3V0aW5lcyBzdWNoXG4gICAgIGFzIHdhc20ucG9rZSgpIGFuZCB3YXNtLmhlYXA4dSgpLnNsaWNlKCkuXG4gICovXG4gIHdhc20ucHN0YWNrID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLHtcbiAgICAvKipcbiAgICAgICBTZXRzIHRoZSBjdXJyZW50IHBzdGFjayBwb3NpdGlvbiB0byB0aGUgZ2l2ZW4gcG9pbnRlci4gUmVzdWx0c1xuICAgICAgIGFyZSB1bmRlZmluZWQgaWYgdGhlIHBhc3NlZC1pbiB2YWx1ZSBkaWQgbm90IGNvbWUgZnJvbVxuICAgICAgIHRoaXMucG9pbnRlci5cbiAgICAqL1xuICAgIHJlc3RvcmU6IHdhc20uZXhwb3J0cy5zcWxpdGUzX3dhc21fcHN0YWNrX3Jlc3RvcmUsXG4gICAgLyoqXG4gICAgICAgQXR0ZW1wdHMgdG8gYWxsb2NhdGUgdGhlIGdpdmVuIG51bWJlciBvZiBieXRlcyBmcm9tIHRoZVxuICAgICAgIHBzdGFjay4gT24gc3VjY2VzcywgaXQgemVyb2VzIG91dCBhIGJsb2NrIG9mIG1lbW9yeSBvZiB0aGVcbiAgICAgICBnaXZlbiBzaXplLCBhZGp1c3RzIHRoZSBwc3RhY2sgcG9pbnRlciwgYW5kIHJldHVybnMgYSBwb2ludGVyXG4gICAgICAgdG8gdGhlIG1lbW9yeS4gT24gZXJyb3IsIHRocm93cyBhIFdhc21BbGxvY0Vycm9yLiBUaGVcbiAgICAgICBtZW1vcnkgbXVzdCBldmVudHVhbGx5IGJlIHJlbGVhc2VkIHVzaW5nIHJlc3RvcmUoKS5cblxuICAgICAgIElmIG4gaXMgYSBzdHJpbmcsIGl0IG11c3QgYmUgYSBXQVNNIFwiSVJcIiB2YWx1ZSBpbiB0aGUgc2V0XG4gICAgICAgYWNjZXB0ZWQgYnkgd2FzbS5zaXplb2ZJUigpLCB3aGljaCBpcyBtYXBwZWQgdG8gdGhlIHNpemUgb2ZcbiAgICAgICB0aGF0IGRhdGEgdHlwZS4gSWYgcGFzc2VkIGEgc3RyaW5nIG5vdCBpbiB0aGF0IHNldCwgaXQgdGhyb3dzIGFcbiAgICAgICBXYXNtQWxsb2NFcnJvci5cblxuICAgICAgIFRoaXMgbWV0aG9kIGFsd2F5cyBhZGp1c3RzIHRoZSBnaXZlbiB2YWx1ZSB0byBiZSBhIG11bHRpcGxlXG4gICAgICAgb2YgOCBieXRlcyBiZWNhdXNlIGZhaWxpbmcgdG8gZG8gc28gY2FuIGxlYWQgdG8gaW5jb3JyZWN0XG4gICAgICAgcmVzdWx0cyB3aGVuIHJlYWRpbmcgYW5kIHdyaXRpbmcgNjQtYml0IHZhbHVlcyBmcm9tL3RvIHRoZSBXQVNNXG4gICAgICAgaGVhcC4gU2ltaWxhcmx5LCB0aGUgcmV0dXJuZWQgYWRkcmVzcyBpcyBhbHdheXMgOC1ieXRlIGFsaWduZWQuXG4gICAgKi9cbiAgICBhbGxvYzogZnVuY3Rpb24obil7XG4gICAgICBpZignc3RyaW5nJz09PXR5cGVvZiBuICYmICEobiA9IHdhc20uc2l6ZW9mSVIobikpKXtcbiAgICAgICAgV2FzbUFsbG9jRXJyb3IudG9zcyhcIkludmFsaWQgdmFsdWUgZm9yIHBzdGFjay5hbGxvYyhcIixhcmd1bWVudHNbMF0sXCIpXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdhc20uZXhwb3J0cy5zcWxpdGUzX3dhc21fcHN0YWNrX2FsbG9jKG4pXG4gICAgICAgIHx8IFdhc21BbGxvY0Vycm9yLnRvc3MoXCJDb3VsZCBub3QgYWxsb2NhdGVcIixuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYnl0ZXMgZnJvbSB0aGUgcHN0YWNrLlwiKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAgIGFsbG9jKCkncyBuIGNodW5rcywgZWFjaCBzeiBieXRlcywgYXMgYSBzaW5nbGUgbWVtb3J5IGJsb2NrIGFuZFxuICAgICAgIHJldHVybnMgdGhlIGFkZHJlc3NlcyBhcyBhbiBhcnJheSBvZiBuIGVsZW1lbnQsIGVhY2ggaG9sZGluZ1xuICAgICAgIHRoZSBhZGRyZXNzIG9mIG9uZSBjaHVuay5cblxuICAgICAgIHN6IG1heSBvcHRpb25hbGx5IGJlIGFuIElSIHN0cmluZyBhY2NlcHRlZCBieSB3YXNtLnNpemVvZklSKCkuXG5cbiAgICAgICBUaHJvd3MgYSBXYXNtQWxsb2NFcnJvciBpZiBhbGxvY2F0aW9uIGZhaWxzLlxuXG4gICAgICAgRXhhbXBsZTpcblxuICAgICAgIGBgYFxuICAgICAgIGNvbnN0IFtwMSwgcDIsIHAzXSA9IHdhc20ucHN0YWNrLmFsbG9jQ2h1bmtzKDMsNCk7XG4gICAgICAgYGBgXG4gICAgKi9cbiAgICBhbGxvY0NodW5rczogZnVuY3Rpb24obixzeil7XG4gICAgICBpZignc3RyaW5nJz09PXR5cGVvZiBzeiAmJiAhKHN6ID0gd2FzbS5zaXplb2ZJUihzeikpKXtcbiAgICAgICAgV2FzbUFsbG9jRXJyb3IudG9zcyhcIkludmFsaWQgc2l6ZSB2YWx1ZSBmb3IgYWxsb2NDaHVua3MoXCIsYXJndW1lbnRzWzFdLFwiKVwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1lbSA9IHdhc20ucHN0YWNrLmFsbG9jKG4gKiBzeik7XG4gICAgICBjb25zdCByYyA9IFtdO1xuICAgICAgbGV0IGkgPSAwLCBvZmZzZXQgPSAwO1xuICAgICAgZm9yKDsgaSA8IG47ICsraSwgb2Zmc2V0ICs9IHN6KSByYy5wdXNoKG1lbSArIG9mZnNldCk7XG4gICAgICByZXR1cm4gcmM7XG4gICAgfSxcbiAgICAvKipcbiAgICAgICBBIGNvbnZlbmllbmNlIHdyYXBwZXIgZm9yIGFsbG9jQ2h1bmtzKCkgd2hpY2ggc2l6ZXMgZWFjaCBjaHVua1xuICAgICAgIGFzIGVpdGhlciA4IGJ5dGVzIChzYWZlUHRyU2l6ZSBpcyB0cnV0aHkpIG9yIHdhc20ucHRyU2l6ZW9mIChpZlxuICAgICAgIHNhZmVQdHJTaXplIGlzIGZhbHN5KS5cblxuICAgICAgIEhvdyBpdCByZXR1cm5zIGl0cyByZXN1bHQgZGlmZmVycyBkZXBlbmRpbmcgb24gaXRzIGZpcnN0XG4gICAgICAgYXJndW1lbnQ6IGlmIGl0J3MgMSwgaXQgcmV0dXJucyBhIHNpbmdsZSBwb2ludGVyIHZhbHVlLiBJZiBpdCdzXG4gICAgICAgbW9yZSB0aGFuIDEsIGl0IHJldHVybnMgdGhlIHNhbWUgYXMgYWxsb2NDaHVua3MoKS5cblxuICAgICAgIFdoZW4gYSByZXR1cm5lZCBwb2ludGVycyB3aWxsIHJlZmVyIHRvIGEgNjQtYml0IHZhbHVlLCBlLmcuIGFcbiAgICAgICBkb3VibGUgb3IgaW50NjQsIGFuZCB0aGF0IHZhbHVlIG11c3QgYmUgd3JpdHRlbiBvciBmZXRjaGVkLFxuICAgICAgIGUuZy4gdXNpbmcgd2FzbS5wb2tlKCkgb3Igd2FzbS5wZWVrKCksIGl0IGlzXG4gICAgICAgaW1wb3J0YW50IHRoYXQgdGhlIHBvaW50ZXIgaW4gcXVlc3Rpb24gYmUgYWxpZ25lZCB0byBhbiA4LWJ5dGVcbiAgICAgICBib3VuZGFyeSBvciBlbHNlIGl0IHdpbGwgbm90IGJlIGZldGNoZWQgb3Igd3JpdHRlbiBwcm9wZXJseSBhbmRcbiAgICAgICB3aWxsIGNvcnJ1cHQgb3IgcmVhZCBuZWlnaGJvcmluZyBtZW1vcnkuXG5cbiAgICAgICBIb3dldmVyLCB3aGVuIGFsbCBwb2ludGVycyBpbnZvbHZlZCBwb2ludCB0byBcInNtYWxsXCIgZGF0YSwgaXRcbiAgICAgICBpcyBzYWZlIHRvIHBhc3MgYSBmYWxzeSB2YWx1ZSB0byBzYXZlIGEgdGlueSBiaXQgb2YgbWVtb3J5LlxuICAgICovXG4gICAgYWxsb2NQdHI6IChuPTEsc2FmZVB0clNpemU9dHJ1ZSk9PntcbiAgICAgIHJldHVybiAxPT09blxuICAgICAgICA/IHdhc20ucHN0YWNrLmFsbG9jKHNhZmVQdHJTaXplID8gOCA6IHdhc20ucHRyU2l6ZW9mKVxuICAgICAgICA6IHdhc20ucHN0YWNrLmFsbG9jQ2h1bmtzKG4sIHNhZmVQdHJTaXplID8gOCA6IHdhc20ucHRyU2l6ZW9mKTtcbiAgICB9XG4gIH0pLyp3YXNtLnBzdGFjayovO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3YXNtLnBzdGFjaywge1xuICAgIC8qKlxuICAgICAgIHNxbGl0ZTMud2FzbS5wc3RhY2sucG9pbnRlciByZXNvbHZlcyB0byB0aGUgY3VycmVudCBwc3RhY2tcbiAgICAgICBwb3NpdGlvbiBwb2ludGVyLiBUaGlzIHZhbHVlIGlzIGludGVuZGVkIF9vbmx5XyB0byBiZSBzYXZlZFxuICAgICAgIGZvciBwYXNzaW5nIHRvIHJlc3RvcmUoKS4gV3JpdGluZyB0byB0aGlzIG1lbW9yeSwgd2l0aG91dFxuICAgICAgIGZpcnN0IHJlc2VydmluZyBpdCB2aWEgd2FzbS5wc3RhY2suYWxsb2MoKSBhbmQgZnJpZW5kcywgbGVhZHNcbiAgICAgICB0byB1bmRlZmluZWQgcmVzdWx0cy5cbiAgICAqL1xuICAgIHBvaW50ZXI6IHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGl0ZXJhYmxlOiB0cnVlLCB3cml0ZWFibGU6IGZhbHNlLFxuICAgICAgZ2V0OiB3YXNtLmV4cG9ydHMuc3FsaXRlM193YXNtX3BzdGFja19wdHJcbiAgICAgIC8vV2hldGhlciBvciBub3QgYSBzZXR0ZXIgYXMgYW4gYWx0ZXJuYXRpdmUgdG8gcmVzdG9yZSgpIGlzXG4gICAgICAvL2NsZWFyZXIgb3Igd291bGQganVzdCBsZWFkIHRvIGNvbmZ1c2lvbiBpcyB1bmNsZWFyLlxuICAgICAgLy9zZXQ6IHdhc20uZXhwb3J0cy5zcWxpdGUzX3dhc21fcHN0YWNrX3Jlc3RvcmVcbiAgICB9LFxuICAgIC8qKlxuICAgICAgIHNxbGl0ZTMud2FzbS5wc3RhY2sucXVvdGEgdG8gdGhlIHRvdGFsIG51bWJlciBvZiBieXRlc1xuICAgICAgIGF2YWlsYWJsZSBpbiB0aGUgcHN0YWNrLCBpbmNsdWRpbmcgYW55IHNwYWNlIHdoaWNoIGlzIGN1cnJlbnRseVxuICAgICAgIGFsbG9jYXRlZC4gVGhpcyB2YWx1ZSBpcyBhIGNvbXBpbGUtdGltZSBjb25zdGFudC5cbiAgICAqL1xuICAgIHF1b3RhOiB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLCBpdGVyYWJsZTogdHJ1ZSwgd3JpdGVhYmxlOiBmYWxzZSxcbiAgICAgIGdldDogd2FzbS5leHBvcnRzLnNxbGl0ZTNfd2FzbV9wc3RhY2tfcXVvdGFcbiAgICB9LFxuICAgIC8qKlxuICAgICAgIHNxbGl0ZTMud2FzbS5wc3RhY2sucmVtYWluaW5nIHJlc29sdmVzIHRvIHRoZSBhbW91bnQgb2Ygc3BhY2VcbiAgICAgICByZW1haW5pbmcgaW4gdGhlIHBzdGFjay5cbiAgICAqL1xuICAgIHJlbWFpbmluZzoge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSwgaXRlcmFibGU6IHRydWUsIHdyaXRlYWJsZTogZmFsc2UsXG4gICAgICBnZXQ6IHdhc20uZXhwb3J0cy5zcWxpdGUzX3dhc21fcHN0YWNrX3JlbWFpbmluZ1xuICAgIH1cbiAgfSkvKndhc20ucHN0YWNrIHByb3BlcnRpZXMqLztcblxuICBjYXBpLnNxbGl0ZTNfcmFuZG9tbmVzcyA9ICguLi5hcmdzKT0+e1xuICAgIGlmKDE9PT1hcmdzLmxlbmd0aCAmJiB1dGlsLmlzVHlwZWRBcnJheShhcmdzWzBdKVxuICAgICAgJiYgMT09PWFyZ3NbMF0uQllURVNfUEVSX0VMRU1FTlQpe1xuICAgICAgY29uc3QgdGEgPSBhcmdzWzBdO1xuICAgICAgaWYoMD09PXRhLmJ5dGVMZW5ndGgpe1xuICAgICAgICB3YXNtLmV4cG9ydHMuc3FsaXRlM19yYW5kb21uZXNzKDAsMCk7XG4gICAgICAgIHJldHVybiB0YTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0YWNrID0gd2FzbS5wc3RhY2sucG9pbnRlcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBuID0gdGEuYnl0ZUxlbmd0aCwgb2Zmc2V0ID0gMDtcbiAgICAgICAgY29uc3QgciA9IHdhc20uZXhwb3J0cy5zcWxpdGUzX3JhbmRvbW5lc3M7XG4gICAgICAgIGNvbnN0IGhlYXAgPSB3YXNtLmhlYXA4dSgpO1xuICAgICAgICBjb25zdCBuQWxsb2MgPSBuIDwgNTEyID8gbiA6IDUxMjtcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5wc3RhY2suYWxsb2MobkFsbG9jKTtcbiAgICAgICAgZG97XG4gICAgICAgICAgY29uc3QgaiA9IChuPm5BbGxvYyA/IG5BbGxvYyA6IG4pO1xuICAgICAgICAgIHIoaiwgcHRyKTtcbiAgICAgICAgICB0YS5zZXQodHlwZWRBcnJheVBhcnQoaGVhcCwgcHRyLCBwdHIraiksIG9mZnNldCk7XG4gICAgICAgICAgbiAtPSBqO1xuICAgICAgICAgIG9mZnNldCArPSBqO1xuICAgICAgICB9IHdoaWxlKG4gPiAwKTtcbiAgICAgIH1jYXRjaChlKXtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkhpZ2hseSB1bmV4cGVjdGVkIChhbmQgaWdub3JlZCEpIFwiK1xuICAgICAgICAgICAgICAgICAgICAgIFwiZXhjZXB0aW9uIGluIHNxbGl0ZTNfcmFuZG9tbmVzcygpOlwiLGUpO1xuICAgICAgfWZpbmFsbHl7XG4gICAgICAgIHdhc20ucHN0YWNrLnJlc3RvcmUoc3RhY2spO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRhO1xuICAgIH1cbiAgICB3YXNtLmV4cG9ydHMuc3FsaXRlM19yYW5kb21uZXNzKC4uLmFyZ3MpO1xuICB9O1xuXG4gIC8qKiBTdGF0ZSBmb3Igc3FsaXRlM193YXNtZnNfb3Bmc19kaXIoKS4gKi9cbiAgbGV0IF9fd2FzbWZzT3Bmc0RpciA9IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAgIDIwMjItMTItMTc6IGluY29tcGF0aWJsZSBXQVNNRlMgY2hhbmdlcyBoYXZlIG1hZGUgV0FTTUZTK09QRlNcbiAgICAgdW5hdmFpbGFibGUgZnJvbSB0aGUgbWFpbiB0aHJlYWQsIHdoaWNoIGVsaW1pbmF0ZXMgdGhlIG1vc3RcbiAgICAgc2lnbmlmaWNhbnQgYmVuZWZpdCBvZiBzdXBwb3J0aW5nIFdBU01GUy4gVGhpcyBmdW5jdGlvbiBpcyBub3cgYVxuICAgICBuby1vcCB3aGljaCBhbHdheXMgcmV0dXJucyBhIGZhbHN5IHZhbHVlLiBCZWZvcmUgdGhhdCBjaGFuZ2UsXG4gICAgIHRoaXMgZnVuY3Rpb24gYmVoYXZlZCBhcyBkb2N1bWVudGVkIGJlbG93IChhbmQgaG93IGl0IHdpbGwgYWdhaW5cbiAgICAgaWYgd2UgY2FuIGZpbmQgYSBjb21wZWxsaW5nIHJlYXNvbiB0byBzdXBwb3J0IGl0KS5cblxuICAgICBJZiB0aGUgd2FzbSBlbnZpcm9ubWVudCBoYXMgYSBXQVNNRlMvT1BGUy1iYWNrZWQgcGVyc2lzdGVudFxuICAgICBzdG9yYWdlIGRpcmVjdG9yeSwgaXRzIHBhdGggaXMgcmV0dXJuZWQgYnkgdGhpcyBmdW5jdGlvbi4gSWYgaXRcbiAgICAgZG9lcyBub3QgdGhlbiBpdCByZXR1cm5zIFwiXCIgKG5vdGluZyB0aGF0IFwiXCIgaXMgYSBmYWxzeSB2YWx1ZSkuXG5cbiAgICAgVGhlIGZpcnN0IHRpbWUgdGhpcyBpcyBjYWxsZWQsIHRoaXMgZnVuY3Rpb24gaW5zcGVjdHMgdGhlIGN1cnJlbnRcbiAgICAgZW52aXJvbm1lbnQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgcGVyc2lzdGVuY2Ugc3VwcG9ydCBpcyBhdmFpbGFibGVcbiAgICAgYW5kLCBpZiBpdCBpcywgZW5hYmxlcyBpdCAoaWYgbmVlZGVkKS5cblxuICAgICBUaGlzIGZ1bmN0aW9uIGN1cnJlbnRseSBvbmx5IHJlY29nbml6ZXMgdGhlIFdBU01GUy9PUEZTIHN0b3JhZ2VcbiAgICAgY29tYmluYXRpb24gYW5kIGl0cyBwYXRoIHJlZmVycyB0byBzdG9yYWdlIHJvb3RlZCBpbiB0aGVcbiAgICAgRW1zY3JpcHRlbi1tYW5hZ2VkIHZpcnR1YWwgZmlsZXN5c3RlbS5cbiAgKi9cbiAgY2FwaS5zcWxpdGUzX3dhc21mc19vcGZzX2RpciA9IGZ1bmN0aW9uKCl7XG4gICAgaWYodW5kZWZpbmVkICE9PSBfX3dhc21mc09wZnNEaXIpIHJldHVybiBfX3dhc21mc09wZnNEaXI7XG4gICAgLy8gSWYgd2UgaGF2ZSBubyBPUEZTLCB0aGVyZSBpcyBubyBwZXJzaXN0ZW50IGRpclxuICAgIGNvbnN0IHBkaXIgPSBjb25maWcud2FzbWZzT3Bmc0RpcjtcbiAgICBjb25zb2xlLmVycm9yKFwic3FsaXRlM193YXNtZnNfb3Bmc19kaXIoKSBjYW4gbm8gbG9uZ2VyIHdvcmsgZHVlIFwiK1xuICAgICAgICAgICAgICAgICAgXCJ0byBpbmNvbXBhdGlibGUgV0FTTUZTIGNoYW5nZXMuIEl0IHdpbGwgYmUgcmVtb3ZlZC5cIik7XG4gICAgaWYoIXBkaXJcbiAgICAgICB8fCAhZ2xvYmFsVGhpcy5GaWxlU3lzdGVtSGFuZGxlXG4gICAgICAgfHwgIWdsb2JhbFRoaXMuRmlsZVN5c3RlbURpcmVjdG9yeUhhbmRsZVxuICAgICAgIHx8ICFnbG9iYWxUaGlzLkZpbGVTeXN0ZW1GaWxlSGFuZGxlKXtcbiAgICAgIHJldHVybiBfX3dhc21mc09wZnNEaXIgPSBcIlwiO1xuICAgIH1cbiAgICB0cnl7XG4gICAgICBpZihwZGlyICYmIDA9PT13YXNtLnhDYWxsV3JhcHBlZChcbiAgICAgICAgJ3NxbGl0ZTNfd2FzbV9pbml0X3dhc21mcycsICdpMzInLCBbJ3N0cmluZyddLCBwZGlyXG4gICAgICApKXtcbiAgICAgICAgcmV0dXJuIF9fd2FzbWZzT3Bmc0RpciA9IHBkaXI7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIF9fd2FzbWZzT3Bmc0RpciA9IFwiXCI7XG4gICAgICB9XG4gICAgfWNhdGNoKGUpe1xuICAgICAgLy8gc3FsaXRlM193YXNtX2luaXRfd2FzbWZzKCkgaXMgbm90IGF2YWlsYWJsZVxuICAgICAgcmV0dXJuIF9fd2FzbWZzT3Bmc0RpciA9IFwiXCI7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgICBFeHBlcmltZW50YWwgYW5kIHN1YmplY3QgdG8gY2hhbmdlIG9yIHJlbW92YWwuXG5cbiAgICAgUmV0dXJucyB0cnVlIGlmIHNxbGl0ZTMuY2FwaS5zcWxpdGUzX3dhc21mc19vcGZzX2RpcigpIGlzIGFcbiAgICAgbm9uLWVtcHR5IHN0cmluZyBhbmQgdGhlIGdpdmVuIG5hbWUgc3RhcnRzIHdpdGggKHRoYXQgc3RyaW5nICtcbiAgICAgJy8nKSwgZWxzZSByZXR1cm5zIGZhbHNlLlxuICAqL1xuICBjYXBpLnNxbGl0ZTNfd2FzbWZzX2ZpbGVuYW1lX2lzX3BlcnNpc3RlbnQgPSBmdW5jdGlvbihuYW1lKXtcbiAgICBjb25zdCBwID0gY2FwaS5zcWxpdGUzX3dhc21mc19vcGZzX2RpcigpO1xuICAgIHJldHVybiAocCAmJiBuYW1lKSA/IG5hbWUuc3RhcnRzV2l0aChwKycvJykgOiBmYWxzZTtcbiAgfTtcblxuICAvLyBUaGlzIGJpdCBpcyBoaWdobHkgYXJndWFibGUgYW5kIGlzIGluY29tcGF0aWJsZSB3aXRoIHRoZSBmaWRkbGUgc2hlbGwuXG4gIGlmKGZhbHNlICYmIDA9PT13YXNtLmV4cG9ydHMuc3FsaXRlM192ZnNfZmluZCgwKSl7XG4gICAgLyogQXNzdW1lIHRoYXQgc3FsaXRlM19pbml0aWFsaXplKCkgaGFzIG5vdCB5ZXQgYmVlbiBjYWxsZWQuXG4gICAgICAgVGhpcyB3aWxsIGJlIHRoZSBjYXNlIGluIGFuIFNRTElURV9PU19LViBidWlsZC4gKi9cbiAgICB3YXNtLmV4cG9ydHMuc3FsaXRlM19pbml0aWFsaXplKCk7XG4gIH1cblxuICAvKipcbiAgICAgR2l2ZW4gYW4gYHNxbGl0ZTMqYCwgYW4gc3FsaXRlM192ZnMgbmFtZSwgYW5kIGFuIG9wdGlvbmFsIGRiIG5hbWVcbiAgICAgKGRlZmF1bHRpbmcgdG8gXCJtYWluXCIpLCByZXR1cm5zIGEgdHJ1dGh5IHZhbHVlIChzZWUgYmVsb3cpIGlmXG4gICAgIHRoYXQgZGIgdXNlcyB0aGF0IFZGUywgZWxzZSByZXR1cm5zIGZhbHNlLiBJZiBwRGIgaXMgZmFsc3kgdGhlblxuICAgICB0aGUgM3JkIGFyZ3VtZW50IGlzIGlnbm9yZWQgYW5kIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIHRydXRoeVxuICAgICB2YWx1ZSBpZiB0aGUgZGVmYXVsdCBWRlMgbmFtZSBtYXRjaGVzIHRoYXQgb2YgdGhlIDJuZFxuICAgICBhcmd1bWVudC4gUmVzdWx0cyBhcmUgdW5kZWZpbmVkIGlmIHBEYiBpcyB0cnV0aHkgYnV0IHJlZmVycyB0byBhblxuICAgICBpbnZhbGlkIHBvaW50ZXIuIFRoZSAzcmQgYXJndW1lbnQgc3BlY2lmaWVzIHRoZSBkYXRhYmFzZSBuYW1lIG9mXG4gICAgIHRoZSBnaXZlbiBkYXRhYmFzZSBjb25uZWN0aW9uIHRvIGNoZWNrLCBkZWZhdWx0aW5nIHRvIHRoZSBtYWluXG4gICAgIGRiLlxuXG4gICAgIFRoZSAybmQgYW5kIDNyZCBhcmd1bWVudHMgbWF5IGVpdGhlciBiZSBhIEpTIHN0cmluZyBvciBhIFdBU01cbiAgICAgQy1zdHJpbmcuIElmIHRoZSAybmQgYXJndW1lbnQgaXMgYSBOVUxMIFdBU00gcG9pbnRlciwgdGhlIGRlZmF1bHRcbiAgICAgVkZTIGlzIGFzc3VtZWQuIElmIHRoZSAzcmQgaXMgYSBOVUxMIFdBU00gcG9pbnRlciwgXCJtYWluXCIgaXNcbiAgICAgYXNzdW1lZC5cblxuICAgICBUaGUgdHJ1dGh5IHZhbHVlIGl0IHJldHVybnMgaXMgYSBwb2ludGVyIHRvIHRoZSBgc3FsaXRlM192ZnNgXG4gICAgIG9iamVjdC5cblxuICAgICBUbyBwZXJtaXQgc2FmZSB1c2Ugb2YgdGhpcyBmdW5jdGlvbiBmcm9tIEFQSXMgd2hpY2ggbWF5IGJlIGNhbGxlZFxuICAgICB2aWEgdGhlIEMgc3RhY2sgKGxpa2UgU1FMIFVERnMpLCB0aGlzIGZ1bmN0aW9uIGRvZXMgbm90IHRocm93OiBpZlxuICAgICBiYWQgYXJndW1lbnRzIGNhdXNlIGEgY29udmVyc2lvbiBlcnJvciB3aGVuIHBhc3NpbmcgaW50b1xuICAgICB3YXNtLXNwYWNlLCBmYWxzZSBpcyByZXR1cm5lZC5cbiAgKi9cbiAgY2FwaS5zcWxpdGUzX2pzX2RiX3VzZXNfdmZzID0gZnVuY3Rpb24ocERiLHZmc05hbWUsZGJOYW1lPTApe1xuICAgIHRyeXtcbiAgICAgIGNvbnN0IHBLID0gY2FwaS5zcWxpdGUzX3Zmc19maW5kKHZmc05hbWUpO1xuICAgICAgaWYoIXBLKSByZXR1cm4gZmFsc2U7XG4gICAgICBlbHNlIGlmKCFwRGIpe1xuICAgICAgICByZXR1cm4gcEs9PT1jYXBpLnNxbGl0ZTNfdmZzX2ZpbmQoMCkgPyBwSyA6IGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiBwSz09PWNhcGkuc3FsaXRlM19qc19kYl92ZnMocERiLGRiTmFtZSkgPyBwSyA6IGZhbHNlO1xuICAgICAgfVxuICAgIH1jYXRjaChlKXtcbiAgICAgIC8qIElnbm9yZSAtIHByb2JhYmx5IGJhZCBhcmdzIHRvIGEgd2FzbS1ib3VuZCBmdW5jdGlvbi4gKi9cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAgIFJldHVybnMgYW4gYXJyYXkgb2YgdGhlIG5hbWVzIG9mIGFsbCBjdXJyZW50bHktcmVnaXN0ZXJlZCBzcWxpdGUzXG4gICAgIFZGU2VzLlxuICAqL1xuICBjYXBpLnNxbGl0ZTNfanNfdmZzX2xpc3QgPSBmdW5jdGlvbigpe1xuICAgIGNvbnN0IHJjID0gW107XG4gICAgbGV0IHBWZnMgPSBjYXBpLnNxbGl0ZTNfdmZzX2ZpbmQoMCk7XG4gICAgd2hpbGUocFZmcyl7XG4gICAgICBjb25zdCBvVmZzID0gbmV3IGNhcGkuc3FsaXRlM192ZnMocFZmcyk7XG4gICAgICByYy5wdXNoKHdhc20uY3N0clRvSnMob1Zmcy4kek5hbWUpKTtcbiAgICAgIHBWZnMgPSBvVmZzLiRwTmV4dDtcbiAgICAgIG9WZnMuZGlzcG9zZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcmM7XG4gIH07XG5cbiAgLyoqXG4gICAgIEEgY29udmVuaWVuY2Ugd3JhcHBlciBhcm91bmQgc3FsaXRlM19zZXJpYWxpemUoKSB3aGljaCBzZXJpYWxpemVzXG4gICAgIHRoZSBnaXZlbiBgc3FsaXRlMypgIHBvaW50ZXIgdG8gYSBVaW50OEFycmF5LiBUaGUgZmlyc3QgYXJndW1lbnRcbiAgICAgbWF5IGJlIGVpdGhlciBhbiBgc3FsaXRlMypgIG9yIGFuIHNxbGl0ZTMub28xLkRCIGluc3RhbmNlLlxuXG4gICAgIE9uIHN1Y2Nlc3MgaXQgcmV0dXJucyBhIFVpbnQ4QXJyYXkuIElmIHRoZSBzY2hlbWEgaXMgZW1wdHksIGFuXG4gICAgIGVtcHR5IGFycmF5IGlzIHJldHVybmVkLlxuXG4gICAgIGBzY2hlbWFgIGlzIHRoZSBzY2hlbWEgdG8gc2VyaWFsaXplLiBJdCBtYXkgYmUgYSBXQVNNIEMtc3RyaW5nXG4gICAgIHBvaW50ZXIgb3IgYSBKUyBzdHJpbmcuIElmIGl0IGlzIGZhbHN5LCBpdCBkZWZhdWx0cyB0byBgXCJtYWluXCJgLlxuXG4gICAgIE9uIGVycm9yIGl0IHRocm93cyB3aXRoIGEgZGVzY3JpcHRpb24gb2YgdGhlIHByb2JsZW0uXG4gICovXG4gIGNhcGkuc3FsaXRlM19qc19kYl9leHBvcnQgPSBmdW5jdGlvbihwRGIsIHNjaGVtYT0wKXtcbiAgICBwRGIgPSB3YXNtLnhXcmFwLnRlc3RDb252ZXJ0QXJnKCdzcWxpdGUzKicsIHBEYik7XG4gICAgaWYoIXBEYikgdG9zczMoJ0ludmFsaWQgc3FsaXRlMyogYXJndW1lbnQuJyk7XG4gICAgaWYoIXdhc20uYmlnSW50RW5hYmxlZCkgdG9zczMoJ0JpZ0ludDY0IHN1cHBvcnQgaXMgbm90IGVuYWJsZWQuJyk7XG4gICAgY29uc3Qgc2NvcGUgPSB3YXNtLnNjb3BlZEFsbG9jUHVzaCgpO1xuICAgIGxldCBwT3V0O1xuICAgIHRyeXtcbiAgICAgIGNvbnN0IHBTaXplID0gd2FzbS5zY29wZWRBbGxvYyg4LyppNjQqLyArIHdhc20ucHRyU2l6ZW9mKTtcbiAgICAgIGNvbnN0IHBwT3V0ID0gcFNpemUgKyA4O1xuICAgICAgLyoqXG4gICAgICAgICBNYWludGVuYW5jZSByZW1pbmRlciwgc2luY2UgdGhpcyBjb3N0IGEgZnVsbCBob3VyIG9mIGdyaWVmXG4gICAgICAgICBhbmQgY29uZnVzaW9uOiBpZiB0aGUgb3JkZXIgb2YgcFNpemUvcHBPdXQgYXJlIHJldmVyc2VkIGluXG4gICAgICAgICB0aGF0IG1lbW9yeSBibG9jaywgZmV0Y2hpbmcgdGhlIHZhbHVlIG9mIHBTaXplIGFmdGVyIHRoZVxuICAgICAgICAgZXhwb3J0IHJlYWRzIGEgZ2FyYmFnZSBzaXplIGJlY2F1c2UgaXQncyBub3Qgb24gYW4gOC1ieXRlXG4gICAgICAgICBtZW1vcnkgYm91bmRhcnkhXG4gICAgICAqL1xuICAgICAgY29uc3QgelNjaGVtYSA9IHNjaGVtYVxuICAgICAgICAgICAgPyAod2FzbS5pc1B0cihzY2hlbWEpID8gc2NoZW1hIDogd2FzbS5zY29wZWRBbGxvY0NTdHJpbmcoJycrc2NoZW1hKSlcbiAgICAgICAgICAgIDogMDtcbiAgICAgIGxldCByYyA9IHdhc20uZXhwb3J0cy5zcWxpdGUzX3dhc21fZGJfc2VyaWFsaXplKFxuICAgICAgICBwRGIsIHpTY2hlbWEsIHBwT3V0LCBwU2l6ZSwgMFxuICAgICAgKTtcbiAgICAgIGlmKHJjKXtcbiAgICAgICAgdG9zczMoXCJEYXRhYmFzZSBzZXJpYWxpemF0aW9uIGZhaWxlZCB3aXRoIGNvZGVcIixcbiAgICAgICAgICAgICBzcWxpdGUzLmNhcGkuc3FsaXRlM19qc19yY19zdHIocmMpKTtcbiAgICAgIH1cbiAgICAgIHBPdXQgPSB3YXNtLnBlZWtQdHIocHBPdXQpO1xuICAgICAgY29uc3Qgbk91dCA9IHdhc20ucGVlayhwU2l6ZSwgJ2k2NCcpO1xuICAgICAgcmMgPSBuT3V0XG4gICAgICAgID8gd2FzbS5oZWFwOHUoKS5zbGljZShwT3V0LCBwT3V0ICsgTnVtYmVyKG5PdXQpKVxuICAgICAgICA6IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICByZXR1cm4gcmM7XG4gICAgfWZpbmFsbHl7XG4gICAgICBpZihwT3V0KSB3YXNtLmV4cG9ydHMuc3FsaXRlM19mcmVlKHBPdXQpO1xuICAgICAgd2FzbS5zY29wZWRBbGxvY1BvcChzY29wZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgICBHaXZlbiBhIGBzcWxpdGUzKmAgYW5kIGEgZGF0YWJhc2UgbmFtZSAoSlMgc3RyaW5nIG9yIFdBU01cbiAgICAgQy1zdHJpbmcgcG9pbnRlciwgd2hpY2ggbWF5IGJlIDApLCByZXR1cm5zIGEgcG9pbnRlciB0byB0aGVcbiAgICAgc3FsaXRlM192ZnMgcmVzcG9uc2libGUgZm9yIGl0LiBJZiB0aGUgZ2l2ZW4gZGIgbmFtZSBpcyBudWxsLzAsXG4gICAgIG9yIG5vdCBwcm92aWRlZCwgdGhlbiBcIm1haW5cIiBpcyBhc3N1bWVkLlxuICAqL1xuICBjYXBpLnNxbGl0ZTNfanNfZGJfdmZzID1cbiAgICAoZGJQb2ludGVyLCBkYk5hbWU9MCk9Pndhc20uc3FsaXRlM193YXNtX2RiX3ZmcyhkYlBvaW50ZXIsIGRiTmFtZSk7XG5cbiAgLyoqXG4gICAgIEEgdGhpbiB3cmFwcGVyIGFyb3VuZCBjYXBpLnNxbGl0ZTNfYWdncmVnYXRlX2NvbnRleHQoKSB3aGljaFxuICAgICBiZWhhdmVzIHRoZSBzYW1lIGV4Y2VwdCB0aGF0IGl0IHRocm93cyBhIFdhc21BbGxvY0Vycm9yIGlmIHRoYXRcbiAgICAgZnVuY3Rpb24gcmV0dXJucyAwLiBBcyBhIHNwZWNpYWwgY2FzZSwgaWYgbiBpcyBmYWxzeSBpdCBkb2VzXG4gICAgIF9ub3RfIHRocm93IGlmIHRoYXQgZnVuY3Rpb24gcmV0dXJucyAwLiBUaGF0IHNwZWNpYWwgY2FzZSBpc1xuICAgICBpbnRlbmRlZCBmb3IgdXNlIHdpdGggeEZpbmFsKCkgaW1wbGVtZW50YXRpb25zLlxuICAqL1xuICBjYXBpLnNxbGl0ZTNfanNfYWdncmVnYXRlX2NvbnRleHQgPSAocEN0eCwgbik9PntcbiAgICByZXR1cm4gY2FwaS5zcWxpdGUzX2FnZ3JlZ2F0ZV9jb250ZXh0KHBDdHgsIG4pXG4gICAgICB8fCAobiA/IFdhc21BbGxvY0Vycm9yLnRvc3MoXCJDYW5ub3QgYWxsb2NhdGVcIixuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYnl0ZXMgZm9yIHNxbGl0ZTNfYWdncmVnYXRlX2NvbnRleHQoKVwiKVxuICAgICAgICAgIDogMCk7XG4gIH07XG5cbiAgLyoqXG4gICAgIENyZWF0ZXMgYSBmaWxlIHVzaW5nIHRoZSBzdG9yYWdlIGFwcHJvcHJpYXRlIGZvciB0aGUgZ2l2ZW5cbiAgICAgc3FsaXRlM192ZnMuICBUaGUgZmlyc3QgYXJndW1lbnQgbWF5IGJlIGEgVkZTIG5hbWUgKEpTIHN0cmluZ1xuICAgICBvbmx5LCBOT1QgYSBXQVNNIEMtc3RyaW5nKSwgV0FTTS1tYW5hZ2VkIGBzcWxpdGUzX3ZmcypgLCBvclxuICAgICBhIGNhcGkuc3FsaXRlM192ZnMgaW5zdGFuY2UuIFBhc3MgMCAoYSBOVUxMIHBvaW50ZXIpIHRvIHVzZSB0aGVcbiAgICAgZGVmYXVsdCBWRlMuIElmIHBhc3NlZCBhIHN0cmluZyB3aGljaCBkb2VzIG5vdCByZXNvbHZlIHVzaW5nXG4gICAgIHNxbGl0ZTNfdmZzX2ZpbmQoKSwgYW4gZXhjZXB0aW9uIGlzIHRocm93bi4gKE5vdGUgdGhhdCBhIFdBU01cbiAgICAgQy1zdHJpbmcgaXMgbm90IGFjY2VwdGVkIGJlY2F1c2UgaXQgaXMgaW1wb3NzaWJsZSB0b1xuICAgICBkaXN0aW5ndWlzaCBmcm9tIGEgQy1sZXZlbCBgc3FsaXRlM192ZnMqYC4pXG5cbiAgICAgVGhlIHNlY29uZCBhcmd1bWVudCwgdGhlIGZpbGVuYW1lLCBtdXN0IGJlIGEgSlMgb3IgV0FTTSBDLXN0cmluZy5cblxuICAgICBUaGUgM3JkIG1heSBlaXRoZXIgYmUgZmFsc3ksIGEgdmFsaWQgV0FTTSBtZW1vcnkgcG9pbnRlciwgYW5cbiAgICAgQXJyYXlCdWZmZXIsIG9yIGEgVWludDhBcnJheS4gVGhlIDR0aCBtdXN0IGJlIHRoZSBsZW5ndGgsIGluXG4gICAgIGJ5dGVzLCBvZiB0aGUgZGF0YSBhcnJheSB0byBjb3B5LiBJZiB0aGUgM3JkIGFyZ3VtZW50IGlzIGFuXG4gICAgIEFycmF5QnVmZmVyIG9yIFVpbnQ4QXJyYXkgYW5kIHRoZSA0dGggaXMgbm90IGEgcG9zaXRpdmUgaW50ZWdlclxuICAgICB0aGVuIHRoZSA0dGggZGVmYXVsdHMgdG8gdGhlIGFycmF5J3MgYnl0ZUxlbmd0aCB2YWx1ZS5cblxuICAgICBJZiBkYXRhIGlzIGZhbHN5IHRoZW4gYSBmaWxlIGlzIGNyZWF0ZWQgd2l0aCBkYXRhTGVuIGJ5dGVzIGZpbGxlZFxuICAgICB3aXRoIHVuaW5pdGlhbGl6ZWQgZGF0YSAod2hhdGV2ZXIgdHJ1bmNhdGUoKSBsZWF2ZXMgdGhlcmUpLiBJZlxuICAgICBkYXRhIGlzIG5vdCBmYWxzeSB0aGVuIGEgZmlsZSBpcyBjcmVhdGVkIG9yIHRydW5jYXRlZCBhbmQgaXQgaXNcbiAgICAgZmlsbGVkIHdpdGggdGhlIGZpcnN0IGRhdGFMZW4gYnl0ZXMgb2YgdGhlIGRhdGEgc291cmNlLlxuXG4gICAgIFRocm93cyBpZiBhbnkgYXJndW1lbnRzIGFyZSBpbnZhbGlkIG9yIGlmIGNyZWF0aW5nIG9yIHdyaXRpbmcgdG9cbiAgICAgdGhlIGZpbGUgZmFpbHMuXG5cbiAgICAgTm90ZSB0aGF0IG1vc3QgVkZTZXMgZG8gX25vdF8gYXV0b21hdGljYWxseSBjcmVhdGUgZGlyZWN0b3J5XG4gICAgIHBhcnRzIG9mIGZpbGVuYW1lcywgbm9yIGRvIGFsbCBWRlNlcyBoYXZlIGEgY29uY2VwdCBvZlxuICAgICBkaXJlY3Rvcmllcy4gIElmIHRoZSBnaXZlbiBmaWxlbmFtZSBpcyBub3QgdmFsaWQgZm9yIHRoZSBnaXZlblxuICAgICBWRlMsIGFuIGV4Y2VwdGlvbiB3aWxsIGJlIHRocm93bi4gVGhpcyBmdW5jdGlvbiBleGlzdHMgcHJpbWFyaWx5XG4gICAgIHRvIGFzc2lzdCBpbiBpbXBsZW1lbnRpbmcgZmlsZS11cGxvYWQgY2FwYWJpbGl0eSwgd2l0aCB0aGUgY2F2ZWF0XG4gICAgIHRoYXQgY2xpZW50cyBtdXN0IGhhdmUgc29tZSBpZGVhIG9mIHRoZSBWRlMgaW50byB3aGljaCB0aGV5IHdhbnRcbiAgICAgdG8gdXBsb2FkIGFuZCB0aGF0IFZGUyBtdXN0IHN1cHBvcnQgdGhlIG9wZXJhdGlvbi5cblxuICAgICBWRlMtc3BlY2lmaWMgbm90ZXM6XG5cbiAgICAgLSBcIm1lbWRiXCI6IHJlc3VsdHMgYXJlIHVuZGVmaW5lZC5cblxuICAgICAtIFwia3Z2ZnNcIjogd2lsbCBmYWlsIHdpdGggYW4gSS9PIGVycm9yIGR1ZSB0byBzdHJpY3QgaW50ZXJuYWxcbiAgICAgICByZXF1aXJtZW50cyBvZiB0aGF0IFZGUydzIHhUcnVuY2F0ZSgpLlxuXG4gICAgIC0gXCJ1bml4XCIgYW5kIHJlbGF0ZWQ6IHdpbGwgdXNlIHRoZSBXQVNNIGJ1aWxkJ3MgZXF1aXZhbGVudCBvZiB0aGVcbiAgICAgICBQT1NJWCBJL08gQVBJcy4gVGhpcyB3aWxsIHdvcmsgc28gbG9uZyBhcyBuZWl0aGVyIGEgc3BlY2lmaWNcbiAgICAgICBWRlMgbm9yIHRoZSBXQVNNIGVudmlyb25tZW50IGltcG9zZXMgcmVxdWlyZW1lbnRzIHdoaWNoIGJyZWFrIGl0LlxuXG4gICAgIC0gXCJvcGZzXCI6IHVzZXMgT1BGUyBzdG9yYWdlIGFuZCBjcmVhdGVzIGRpcmVjdG9yeSBwYXJ0cyBvZiB0aGVcbiAgICAgICBmaWxlbmFtZS5cbiAgKi9cbiAgY2FwaS5zcWxpdGUzX2pzX3Zmc19jcmVhdGVfZmlsZSA9IGZ1bmN0aW9uKHZmcywgZmlsZW5hbWUsIGRhdGEsIGRhdGFMZW4pe1xuICAgIGxldCBwRGF0YTtcbiAgICBpZihkYXRhKXtcbiAgICAgIGlmKHdhc20uaXNQdHIoZGF0YSkpe1xuICAgICAgICBwRGF0YSA9IGRhdGE7XG4gICAgICB9ZWxzZSBpZihkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe1xuICAgICAgICBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gICAgICB9XG4gICAgICBpZihkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSl7XG4gICAgICAgIHBEYXRhID0gd2FzbS5hbGxvY0Zyb21UeXBlZEFycmF5KGRhdGEpO1xuICAgICAgICBpZihhcmd1bWVudHMubGVuZ3RoPDQgfHwgIXV0aWwuaXNJbnQzMihkYXRhTGVuKSB8fCBkYXRhTGVuPDApe1xuICAgICAgICAgIGRhdGFMZW4gPSBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICBTUUxpdGUzRXJyb3IudG9zcyhcIkludmFsaWQgM3JkIGFyZ3VtZW50IHR5cGUgZm9yIHNxbGl0ZTNfanNfdmZzX2NyZWF0ZV9maWxlKCkuXCIpO1xuICAgICAgfVxuICAgIH1lbHNle1xuICAgICAgIHBEYXRhID0gMDtcbiAgICB9XG4gICAgaWYoIXV0aWwuaXNJbnQzMihkYXRhTGVuKSB8fCBkYXRhTGVuPDApe1xuICAgICAgd2FzbS5kZWFsbG9jKHBEYXRhKTtcbiAgICAgIFNRTGl0ZTNFcnJvci50b3NzKFwiSW52YWxpZCA0dGggYXJndW1lbnQgZm9yIHNxbGl0ZTNfanNfdmZzX2NyZWF0ZV9maWxlKCkuXCIpO1xuICAgIH1cbiAgICB0cnl7XG4gICAgICBjb25zdCByYyA9IHdhc20uc3FsaXRlM193YXNtX3Zmc19jcmVhdGVfZmlsZSh2ZnMsIGZpbGVuYW1lLCBwRGF0YSwgZGF0YUxlbik7XG4gICAgICBpZihyYykgU1FMaXRlM0Vycm9yLnRvc3MoXCJDcmVhdGlvbiBvZiBmaWxlIGZhaWxlZCB3aXRoIHNxbGl0ZTMgcmVzdWx0IGNvZGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXBpLnNxbGl0ZTNfanNfcmNfc3RyKHJjKSk7XG4gICAgfWZpbmFsbHl7XG4gICAgICB3YXNtLmRlYWxsb2MocERhdGEpO1xuICAgIH1cbiAgfTtcblxuICBpZiggdXRpbC5pc1VJVGhyZWFkKCkgKXtcbiAgICAvKiBGZWF0dXJlcyBzcGVjaWZpYyB0byB0aGUgbWFpbiB3aW5kb3cgdGhyZWFkLi4uICovXG5cbiAgICAvKipcbiAgICAgICBJbnRlcm5hbCBoZWxwZXIgZm9yIHNxbGl0ZTNfanNfa3Z2ZnNfY2xlYXIoKSBhbmQgZnJpZW5kcy5cbiAgICAgICBJdHMgYXJndW1lbnQgc2hvdWxkIGJlIG9uZSBvZiAoJ2xvY2FsJywnc2Vzc2lvbicsXCJcIikuXG4gICAgKi9cbiAgICBjb25zdCBfX2t2dmZzSW5mbyA9IGZ1bmN0aW9uKHdoaWNoKXtcbiAgICAgIGNvbnN0IHJjID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIHJjLnByZWZpeCA9ICdrdnZmcy0nK3doaWNoO1xuICAgICAgcmMuc3RvcmVzID0gW107XG4gICAgICBpZignc2Vzc2lvbic9PT13aGljaCB8fCBcIlwiPT09d2hpY2gpIHJjLnN0b3Jlcy5wdXNoKGdsb2JhbFRoaXMuc2Vzc2lvblN0b3JhZ2UpO1xuICAgICAgaWYoJ2xvY2FsJz09PXdoaWNoIHx8IFwiXCI9PT13aGljaCkgcmMuc3RvcmVzLnB1c2goZ2xvYmFsVGhpcy5sb2NhbFN0b3JhZ2UpO1xuICAgICAgcmV0dXJuIHJjO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgICBDbGVhcnMgYWxsIHN0b3JhZ2UgdXNlZCBieSB0aGUga3Z2ZnMgREIgYmFja2VuZCwgZGVsZXRpbmcgYW55XG4gICAgICAgREIocykgc3RvcmVkIHRoZXJlLiBJdHMgYXJndW1lbnQgbXVzdCBiZSBlaXRoZXIgJ3Nlc3Npb24nLFxuICAgICAgICdsb2NhbCcsIG9yIFwiXCIuIEluIHRoZSBmaXJzdCB0d28gY2FzZXMsIG9ubHkgc2Vzc2lvblN0b3JhZ2VcbiAgICAgICByZXNwLiBsb2NhbFN0b3JhZ2UgaXMgY2xlYXJlZC4gSWYgaXQncyBhbiBlbXB0eSBzdHJpbmcgKHRoZVxuICAgICAgIGRlZmF1bHQpIHRoZW4gYm90aCBhcmUgY2xlYXJlZC4gT25seSBzdG9yYWdlIGtleXMgd2hpY2ggbWF0Y2hcbiAgICAgICB0aGUgcGF0dGVybiB1c2VkIGJ5IGt2dmZzIGFyZSBjbGVhcmVkOiBhbnkgb3RoZXIgY2xpZW50LXNpZGVcbiAgICAgICBkYXRhIGFyZSByZXRhaW5lZC5cblxuICAgICAgIFRoaXMgZnVuY3Rpb24gaXMgb25seSBhdmFpbGFibGUgaW4gdGhlIG1haW4gd2luZG93IHRocmVhZC5cblxuICAgICAgIFJldHVybnMgdGhlIG51bWJlciBvZiBlbnRyaWVzIGNsZWFyZWQuXG4gICAgKi9cbiAgICBjYXBpLnNxbGl0ZTNfanNfa3Z2ZnNfY2xlYXIgPSBmdW5jdGlvbih3aGljaD1cIlwiKXtcbiAgICAgIGxldCByYyA9IDA7XG4gICAgICBjb25zdCBrdmluZm8gPSBfX2t2dmZzSW5mbyh3aGljaCk7XG4gICAgICBrdmluZm8uc3RvcmVzLmZvckVhY2goKHMpPT57XG4gICAgICAgIGNvbnN0IHRvUm0gPSBbXSAvKiBrZXlzIHRvIHJlbW92ZSAqLztcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGZvciggaSA9IDA7IGkgPCBzLmxlbmd0aDsgKytpICl7XG4gICAgICAgICAgY29uc3QgayA9IHMua2V5KGkpO1xuICAgICAgICAgIGlmKGsuc3RhcnRzV2l0aChrdmluZm8ucHJlZml4KSkgdG9SbS5wdXNoKGspO1xuICAgICAgICB9XG4gICAgICAgIHRvUm0uZm9yRWFjaCgoa2spPT5zLnJlbW92ZUl0ZW0oa2spKTtcbiAgICAgICAgcmMgKz0gdG9SbS5sZW5ndGg7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByYztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICAgVGhpcyByb3V0aW5lIGd1ZXNzZXMgdGhlIGFwcHJveGltYXRlIGFtb3VudCBvZlxuICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UgYW5kL29yIHdpbmRvdy5zZXNzaW9uU3RvcmFnZSBpbiB1c2UgYnkgdGhlXG4gICAgICAga3Z2ZnMgZGF0YWJhc2UgYmFja2VuZC4gSXRzIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mXG4gICAgICAgKCdzZXNzaW9uJywgJ2xvY2FsJywgXCJcIikuIEluIHRoZSBmaXJzdCB0d28gY2FzZXMsIG9ubHlcbiAgICAgICBzZXNzaW9uU3RvcmFnZSByZXNwLiBsb2NhbFN0b3JhZ2UgaXMgY291bnRlZC4gSWYgaXQncyBhbiBlbXB0eVxuICAgICAgIHN0cmluZyAodGhlIGRlZmF1bHQpIHRoZW4gYm90aCBhcmUgY291bnRlZC4gT25seSBzdG9yYWdlIGtleXNcbiAgICAgICB3aGljaCBtYXRjaCB0aGUgcGF0dGVybiB1c2VkIGJ5IGt2dmZzIGFyZSBjb3VudGVkLiBUaGUgcmV0dXJuZWRcbiAgICAgICB2YWx1ZSBpcyB0aGUgXCJsZW5ndGhcIiB2YWx1ZSBvZiBldmVyeSBtYXRjaGluZyBrZXkgYW5kIHZhbHVlLFxuICAgICAgIG5vdGluZyB0aGF0IEphdmFTY3JpcHQgc3RvcmVzIGVhY2ggY2hhcmFjdGVyIGluIDIgYnl0ZXMuXG5cbiAgICAgICBOb3RlIHRoYXQgdGhlIHJldHVybmVkIHNpemUgaXMgbm90IGF1dGhvcml0YXRpdmUgZnJvbSB0aGVcbiAgICAgICBwZXJzcGVjdGl2ZSBvZiBob3cgbXVjaCBkYXRhIGNhbiBmaXQgaW50byBsb2NhbFN0b3JhZ2UgYW5kXG4gICAgICAgc2Vzc2lvblN0b3JhZ2UsIGFzIHRoZSBwcmVjaXNlIGFsZ29yaXRobXMgZm9yIGRldGVybWluaW5nXG4gICAgICAgdGhvc2UgbGltaXRzIGFyZSB1bnNwZWNpZmllZCBhbmQgbWF5IGluY2x1ZGUgcGVyLWVudHJ5XG4gICAgICAgb3ZlcmhlYWQgaW52aXNpYmxlIHRvIGNsaWVudHMuXG4gICAgKi9cbiAgICBjYXBpLnNxbGl0ZTNfanNfa3Z2ZnNfc2l6ZSA9IGZ1bmN0aW9uKHdoaWNoPVwiXCIpe1xuICAgICAgbGV0IHN6ID0gMDtcbiAgICAgIGNvbnN0IGt2aW5mbyA9IF9fa3Z2ZnNJbmZvKHdoaWNoKTtcbiAgICAgIGt2aW5mby5zdG9yZXMuZm9yRWFjaCgocyk9PntcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGZvcihpID0gMDsgaSA8IHMubGVuZ3RoOyArK2kpe1xuICAgICAgICAgIGNvbnN0IGsgPSBzLmtleShpKTtcbiAgICAgICAgICBpZihrLnN0YXJ0c1dpdGgoa3ZpbmZvLnByZWZpeCkpe1xuICAgICAgICAgICAgc3ogKz0gay5sZW5ndGg7XG4gICAgICAgICAgICBzeiArPSBzLmdldEl0ZW0oaykubGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc3ogKiAyIC8qIGJlY2F1c2UgSlMgdXNlcyAyLWJ5dGUgY2hhciBlbmNvZGluZyAqLztcbiAgICB9O1xuXG4gIH0vKiBtYWluLXdpbmRvdy1vbmx5IGJpdHMgKi9cblxuICAvKipcbiAgICAgV3JhcHMgYWxsIGtub3duIHZhcmlhbnRzIG9mIHRoZSBDLXNpZGUgdmFyaWFkaWNcbiAgICAgc3FsaXRlM19kYl9jb25maWcoKS5cblxuICAgICBGdWxsIGRvY3M6IGh0dHBzOi8vc3FsaXRlLm9yZy9jM3JlZi9kYl9jb25maWcuaHRtbFxuXG4gICAgIFJldHVybnMgY2FwaS5TUUxJVEVfTUlTVVNFIGlmIG9wIGlzIG5vdCBhIHZhbGlkIG9wZXJhdGlvbiBJRC5cbiAgKi9cbiAgY2FwaS5zcWxpdGUzX2RiX2NvbmZpZyA9IGZ1bmN0aW9uIGYocERiLCBvcCwgLi4uYXJncyl7XG4gICAgaWYoIXRoaXMucyl7XG4gICAgICB0aGlzLnMgPSB3YXNtLnhXcmFwKCdzcWxpdGUzX3dhc21fZGJfY29uZmlnX3MnLCdpbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBbJ3NxbGl0ZTMqJywgJ2ludCcsICdzdHJpbmc6c3RhdGljJ11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLyogTUFJTkRCTkFNRSByZXF1aXJlcyBhIHN0YXRpYyBzdHJpbmcgKi8pO1xuICAgICAgdGhpcy5waWkgPSB3YXNtLnhXcmFwKCdzcWxpdGUzX3dhc21fZGJfY29uZmlnX3BpaScsICdpbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnc3FsaXRlMyonLCAnaW50JywgJyonLCdpbnQnLCAnaW50J10pO1xuICAgICAgdGhpcy5pcCA9IHdhc20ueFdyYXAoJ3NxbGl0ZTNfd2FzbV9kYl9jb25maWdfaXAnLCdpbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgWydzcWxpdGUzKicsICdpbnQnLCAnaW50JywnKiddKTtcbiAgICB9XG4gICAgY29uc3QgYyA9IGNhcGk7XG4gICAgc3dpdGNoKG9wKXtcbiAgICAgICAgY2FzZSBjLlNRTElURV9EQkNPTkZJR19FTkFCTEVfRktFWTpcbiAgICAgICAgY2FzZSBjLlNRTElURV9EQkNPTkZJR19FTkFCTEVfVFJJR0dFUjpcbiAgICAgICAgY2FzZSBjLlNRTElURV9EQkNPTkZJR19FTkFCTEVfRlRTM19UT0tFTklaRVI6XG4gICAgICAgIGNhc2UgYy5TUUxJVEVfREJDT05GSUdfRU5BQkxFX0xPQURfRVhURU5TSU9OOlxuICAgICAgICBjYXNlIGMuU1FMSVRFX0RCQ09ORklHX05PX0NLUFRfT05fQ0xPU0U6XG4gICAgICAgIGNhc2UgYy5TUUxJVEVfREJDT05GSUdfRU5BQkxFX1FQU0c6XG4gICAgICAgIGNhc2UgYy5TUUxJVEVfREJDT05GSUdfVFJJR0dFUl9FUVA6XG4gICAgICAgIGNhc2UgYy5TUUxJVEVfREJDT05GSUdfUkVTRVRfREFUQUJBU0U6XG4gICAgICAgIGNhc2UgYy5TUUxJVEVfREJDT05GSUdfREVGRU5TSVZFOlxuICAgICAgICBjYXNlIGMuU1FMSVRFX0RCQ09ORklHX1dSSVRBQkxFX1NDSEVNQTpcbiAgICAgICAgY2FzZSBjLlNRTElURV9EQkNPTkZJR19MRUdBQ1lfQUxURVJfVEFCTEU6XG4gICAgICAgIGNhc2UgYy5TUUxJVEVfREJDT05GSUdfRFFTX0RNTDpcbiAgICAgICAgY2FzZSBjLlNRTElURV9EQkNPTkZJR19EUVNfRERMOlxuICAgICAgICBjYXNlIGMuU1FMSVRFX0RCQ09ORklHX0VOQUJMRV9WSUVXOlxuICAgICAgICBjYXNlIGMuU1FMSVRFX0RCQ09ORklHX0xFR0FDWV9GSUxFX0ZPUk1BVDpcbiAgICAgICAgY2FzZSBjLlNRTElURV9EQkNPTkZJR19UUlVTVEVEX1NDSEVNQTpcbiAgICAgICAgICByZXR1cm4gdGhpcy5pcChwRGIsIG9wLCBhcmdzWzBdLCBhcmdzWzFdIHx8IDApO1xuICAgICAgICBjYXNlIGMuU1FMSVRFX0RCQ09ORklHX0xPT0tBU0lERTpcbiAgICAgICAgICByZXR1cm4gdGhpcy5waWkocERiLCBvcCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIGNhc2UgYy5TUUxJVEVfREJDT05GSUdfTUFJTkRCTkFNRTpcbiAgICAgICAgICByZXR1cm4gdGhpcy5zKHBEYiwgb3AsIGFyZ3NbMF0pO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBjLlNRTElURV9NSVNVU0U7XG4gICAgfVxuICB9LmJpbmQoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cbiAgLyoqXG4gICAgIEdpdmVuIGEgKHNxbGl0ZTNfdmFsdWUqKSwgdGhpcyBmdW5jdGlvbiBhdHRlbXB0cyB0byBjb252ZXJ0IGl0XG4gICAgIHRvIGFuIGVxdWl2YWxlbnQgSlMgdmFsdWUgd2l0aCBhcyBtdWNoIGZpZGVsaXR5IGFzIGZlYXNpYmxlIGFuZFxuICAgICByZXR1cm4gaXQuXG5cbiAgICAgQnkgZGVmYXVsdCBpdCB0aHJvd3MgaWYgaXQgY2Fubm90IGRldGVybWluZSBhbnkgc2Vuc2libGVcbiAgICAgY29udmVyc2lvbi4gSWYgcGFzc2VkIGEgZmFsc3kgc2Vjb25kIGFyZ3VtZW50LCBpdCBpbnN0ZWFkIHJldHVybnNcbiAgICAgYHVuZGVmaW5lZGAgaWYgbm8gc3VpdGFibGUgY29udmVyc2lvbiBpcyBmb3VuZC4gIE5vdGUgdGhhdCB0aGVyZVxuICAgICBpcyBubyBjb252ZXJzaW9uIGZyb20gU1FMIHRvIEpTIHdoaWNoIHJlc3VsdHMgaW4gdGhlIGB1bmRlZmluZWRgXG4gICAgIHZhbHVlLCBzbyBgdW5kZWZpbmVkYCBoYXMgYW4gdW5hbWJpZ3VvdXMgbWVhbmluZyBoZXJlLiAgSXQgd2lsbFxuICAgICBhbHdheXMgdGhyb3cgYSBXYXNtQWxsb2NFcnJvciBpZiBhbGxvY2F0aW5nIG1lbW9yeSBmb3IgYVxuICAgICBjb252ZXJzaW9uIGZhaWxzLlxuXG4gICAgIENhdmVhdHM6XG5cbiAgICAgLSBJdCBkb2VzIG5vdCBzdXBwb3J0IHNxbGl0ZTNfdmFsdWVfdG9fcG9pbnRlcigpIGNvbnZlcnNpb25zXG4gICAgICAgYmVjYXVzZSB0aG9zZSByZXF1aXJlIGEgdHlwZSBuYW1lIHN0cmluZyB3aGljaCB0aGlzIGZ1bmN0aW9uXG4gICAgICAgZG9lcyBub3QgaGF2ZSBhbmQgY2Fubm90IHNlbnNpYmx5IGJlIGdpdmVuIGF0IHRoZSBsZXZlbCBvZiB0aGVcbiAgICAgICBBUEkgd2hlcmUgdGhpcyBpcyB1c2VkIChlLmcuIGF1dG9tYXRpY2FsbHkgY29udmVydGluZyBVREZcbiAgICAgICBhcmd1bWVudHMpLiBDbGllbnRzIHVzaW5nIHNxbGl0ZTNfdmFsdWVfdG9fcG9pbnRlcigpLCBhbmQgaXRzXG4gICAgICAgcmVsYXRlZCBBUElzLCB3aWxsIG5lZWQgdG8gbWFuYWdlIHRob3NlIHRoZW1zZWx2ZXMuXG4gICovXG4gIGNhcGkuc3FsaXRlM192YWx1ZV90b19qcyA9IGZ1bmN0aW9uKHBWYWwsdGhyb3dJZkNhbm5vdENvbnZlcnQ9dHJ1ZSl7XG4gICAgbGV0IGFyZztcbiAgICBjb25zdCB2YWxUeXBlID0gY2FwaS5zcWxpdGUzX3ZhbHVlX3R5cGUocFZhbCk7XG4gICAgc3dpdGNoKHZhbFR5cGUpe1xuICAgICAgICBjYXNlIGNhcGkuU1FMSVRFX0lOVEVHRVI6XG4gICAgICAgICAgaWYod2FzbS5iaWdJbnRFbmFibGVkKXtcbiAgICAgICAgICAgIGFyZyA9IGNhcGkuc3FsaXRlM192YWx1ZV9pbnQ2NChwVmFsKTtcbiAgICAgICAgICAgIGlmKHV0aWwuYmlnSW50Rml0c0RvdWJsZShhcmcpKSBhcmcgPSBOdW1iZXIoYXJnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBhcmcgPSBjYXBpLnNxbGl0ZTNfdmFsdWVfZG91YmxlKHBWYWwpLyp5ZXMsIGRvdWJsZSwgZm9yIGxhcmdlciBpbnRlZ2VycyovO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGNhcGkuU1FMSVRFX0ZMT0FUOlxuICAgICAgICAgIGFyZyA9IGNhcGkuc3FsaXRlM192YWx1ZV9kb3VibGUocFZhbCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgY2FwaS5TUUxJVEVfVEVYVDpcbiAgICAgICAgICBhcmcgPSBjYXBpLnNxbGl0ZTNfdmFsdWVfdGV4dChwVmFsKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBjYXBpLlNRTElURV9CTE9COntcbiAgICAgICAgICBjb25zdCBuID0gY2FwaS5zcWxpdGUzX3ZhbHVlX2J5dGVzKHBWYWwpO1xuICAgICAgICAgIGNvbnN0IHBCbG9iID0gY2FwaS5zcWxpdGUzX3ZhbHVlX2Jsb2IocFZhbCk7XG4gICAgICAgICAgaWYobiAmJiAhcEJsb2IpIHNxbGl0ZTMuV2FzbUFsbG9jRXJyb3IudG9zcyhcbiAgICAgICAgICAgIFwiQ2Fubm90IGFsbG9jYXRlIG1lbW9yeSBmb3IgYmxvYiBhcmd1bWVudCBvZlwiLG4sXCJieXRlKHMpXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGFyZyA9IG4gPyB3YXNtLmhlYXA4dSgpLnNsaWNlKHBCbG9iLCBwQmxvYiArIE51bWJlcihuKSkgOiBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgY2FwaS5TUUxJVEVfTlVMTDpcbiAgICAgICAgICBhcmcgPSBudWxsOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZih0aHJvd0lmQ2Fubm90Q29udmVydCl7XG4gICAgICAgICAgICB0b3NzMyhjYXBpLlNRTElURV9NSVNNQVRDSCxcbiAgICAgICAgICAgICAgICAgIFwiVW5oYW5kbGVkIHNxbGl0ZTNfdmFsdWVfdHlwZSgpOlwiLHZhbFR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBhcmc7XG4gIH07XG5cbiAgLyoqXG4gICAgIFJlcXVpcmVzIGEgQy1zdHlsZSBhcnJheSBvZiBgc3FsaXRlM192YWx1ZSpgIG9iamVjdHMgYW5kIHRoZVxuICAgICBudW1iZXIgb2YgZW50cmllcyBpbiB0aGF0IGFycmF5LiBSZXR1cm5zIGEgSlMgYXJyYXkgY29udGFpbmluZ1xuICAgICB0aGUgcmVzdWx0cyBvZiBwYXNzaW5nIGVhY2ggQyBhcnJheSBlbnRyeSB0b1xuICAgICBzcWxpdGUzX3ZhbHVlX3RvX2pzKCkuIFRoZSAzcmQgYXJndW1lbnQgdG8gdGhpcyBmdW5jdGlvbiBpc1xuICAgICBwYXNzZWQgb24gYXMgdGhlIDJuZCBhcmd1bWVudCB0byB0aGF0IG9uZS5cbiAgKi9cbiAgY2FwaS5zcWxpdGUzX3ZhbHVlc190b19qcyA9IGZ1bmN0aW9uKGFyZ2MscEFyZ3YsdGhyb3dJZkNhbm5vdENvbnZlcnQ9dHJ1ZSl7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgdGd0ID0gW107XG4gICAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgKytpKXtcbiAgICAgIC8qKlxuICAgICAgICAgQ3VyaW91c2x5OiBkZXNwaXRlIG9zdGVuc2libHkgcmVxdWlyaW5nIDgtYnl0ZVxuICAgICAgICAgYWxpZ25tZW50LCB0aGUgcEFyZ3YgYXJyYXkgaXMgcGFyY2VsbGVkIGludG8gY2h1bmtzIG9mXG4gICAgICAgICA0IGJ5dGVzICgxIHBvaW50ZXIgZWFjaCkuIFRoZSB2YWx1ZXMgdGhvc2UgcG9pbnQgdG9cbiAgICAgICAgIGhhdmUgOC1ieXRlIGFsaWdubWVudCBidXQgdGhlIGluZGl2aWR1YWwgYXJndiBlbnRyaWVzXG4gICAgICAgICBkbyBub3QuXG4gICAgICAqL1xuICAgICAgdGd0LnB1c2goY2FwaS5zcWxpdGUzX3ZhbHVlX3RvX2pzKFxuICAgICAgICB3YXNtLnBlZWtQdHIocEFyZ3YgKyAod2FzbS5wdHJTaXplb2YgKiBpKSlcbiAgICAgICkpO1xuICAgIH1cbiAgICByZXR1cm4gdGd0O1xuICB9O1xuXG4gIC8qKlxuICAgICBDYWxscyBlaXRoZXIgc3FsaXRlM19yZXN1bHRfZXJyb3Jfbm9tZW0oKSwgaWYgZSBpcy1hXG4gICAgIFdhc21BbGxvY0Vycm9yLCBvciBzcWxpdGUzX3Jlc3VsdF9lcnJvcigpLiBJbiB0aGUgbGF0dGVyIGNhc2UsXG4gICAgIHRoZSBzZWNvbmQgYXJ1Z21lbnQgaXMgY29lcmNlZCB0byBhIHN0cmluZyB0byBjcmVhdGUgdGhlIGVycm9yXG4gICAgIG1lc3NhZ2UuXG5cbiAgICAgVGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgKHNxbGl0ZTNfY29udGV4dCopLiBSZXR1cm5zIHZvaWQuXG4gICAgIERvZXMgbm90IHRocm93LlxuICAqL1xuICBjYXBpLnNxbGl0ZTNfcmVzdWx0X2Vycm9yX2pzID0gZnVuY3Rpb24ocEN0eCxlKXtcbiAgICBpZihlIGluc3RhbmNlb2YgV2FzbUFsbG9jRXJyb3Ipe1xuICAgICAgY2FwaS5zcWxpdGUzX3Jlc3VsdF9lcnJvcl9ub21lbShwQ3R4KTtcbiAgICB9ZWxzZXtcbiAgICAgIC8qIE1haW50ZW5hbmNlIHJlbWluZGVyOiAnJytlLCByYXRoZXIgdGhhbiBlLm1lc3NhZ2UsXG4gICAgICAgICB3aWxsIHByZWZpeCBlLm1lc3NhZ2Ugd2l0aCBlLm5hbWUsIHNvIGl0IGluY2x1ZGVzXG4gICAgICAgICB0aGUgZXhjZXB0aW9uJ3MgdHlwZSBuYW1lIGluIHRoZSByZXN1bHQuICovO1xuICAgICAgY2FwaS5zcWxpdGUzX3Jlc3VsdF9lcnJvcihwQ3R4LCAnJytlLCAtMSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgICBUaGlzIGZ1bmN0aW9uIHBhc3NlcyBpdHMgMm5kIGFyZ3VtZW50IHRvIG9uZSBvZiB0aGVcbiAgICAgc3FsaXRlM19yZXN1bHRfeHl6KCkgcm91dGluZXMsIGRlcGVuZGluZyBvbiB0aGUgdHlwZSBvZiB0aGF0XG4gICAgIGFyZ3VtZW50OlxuXG4gICAgIC0gSWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSwgdGhpcyBmdW5jdGlvbiBwYXNzZXMgaXQgdG9cbiAgICAgICBzcWxpdGUzX3Jlc3VsdF9lcnJvcl9qcygpLlxuICAgICAtIGBudWxsYDogYHNxbGl0ZTNfcmVzdWx0X251bGwoKWBcbiAgICAgLSBgYm9vbGVhbmA6IGBzcWxpdGUzX3Jlc3VsdF9pbnQoKWAgd2l0aCBhIHZhbHVlIG9mIDAgb3IgMS5cbiAgICAgLSBgbnVtYmVyYDogYHNxbGl0ZTNfcmVzdWx0X2ludCgpYCwgYHNxbGl0ZTNfcmVzdWx0X2ludDY0KClgLCBvclxuICAgICAgIGBzcWxpdGUzX3Jlc3VsdF9kb3VibGUoKWAsIGRlcGVuZGluZyBvbiB0aGUgcmFuZ2Ugb2YgdGhlIG51bWJlclxuICAgICAgIGFuZCB3aGV0aGVyIG9yIG5vdCBpbnQ2NCBzdXBwb3J0IGlzIGVuYWJsZWQuXG4gICAgIC0gYGJpZ2ludGA6IHNpbWlsYXIgdG8gYG51bWJlcmAgYnV0IHdpbGwgdHJpZ2dlciBhbiBlcnJvciBpZiB0aGVcbiAgICAgICB2YWx1ZSBpcyB0b28gYmlnIHRvIHN0b3JlIGluIGFuIGludDY0LlxuICAgICAtIGBzdHJpbmdgOiBgc3FsaXRlM19yZXN1bHRfdGV4dCgpYFxuICAgICAtIFVpbnQ4QXJyYXkgb3IgSW50OEFycmF5IG9yIEFycmF5QnVmZmVyOiBgc3FsaXRlM19yZXN1bHRfYmxvYigpYFxuICAgICAtIGB1bmRlZmluZWRgOiBpcyBhIG5vLW9wIHByb3ZpZGVkIHRvIHNpbXBsaWZ5IGNlcnRhaW4gdXNlIGNhc2VzLlxuXG4gICAgIEFueXRoaW5nIGVsc2UgdHJpZ2dlcnMgYHNxbGl0ZTNfcmVzdWx0X2Vycm9yKClgIHdpdGggYVxuICAgICBkZXNjcmlwdGlvbiBvZiB0aGUgcHJvYmxlbS5cblxuICAgICBUaGUgZmlyc3QgYXJndW1lbnQgdG8gdGhpcyBmdW5jdGlvbiBpcyBhIGAoc3FsaXRlM19jb250ZXh0KilgLlxuICAgICBSZXR1cm5zIHZvaWQuIERvZXMgbm90IHRocm93LlxuICAqL1xuICBjYXBpLnNxbGl0ZTNfcmVzdWx0X2pzID0gZnVuY3Rpb24ocEN0eCx2YWwpe1xuICAgIGlmKHZhbCBpbnN0YW5jZW9mIEVycm9yKXtcbiAgICAgIGNhcGkuc3FsaXRlM19yZXN1bHRfZXJyb3JfanMocEN0eCwgdmFsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5e1xuICAgICAgc3dpdGNoKHR5cGVvZiB2YWwpIHtcbiAgICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgICAgLyogVGhpcyBpcyBhIG5vLW9wLiBUaGlzIHJvdXRpbmUgb3JpZ2luYXRlZCBpbiB0aGUgY3JlYXRlX2Z1bmN0aW9uKClcbiAgICAgICAgICAgICAgIGZhbWlseSBvZiBBUElzIGFuZCBpbiB0aGF0IGNvbnRleHQsIHBhc3NpbmcgaW4gdW5kZWZpbmVkIGluZGljYXRlZFxuICAgICAgICAgICAgICAgdGhhdCB0aGUgY2FsbGVyIHdhcyByZXNwb25zaWJsZSBmb3IgY2FsbGluZyBzcWxpdGUzX3Jlc3VsdF94eHgoKVxuICAgICAgICAgICAgICAgKGlmIG5lZWRlZCkuICovXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgIGNhcGkuc3FsaXRlM19yZXN1bHRfaW50KHBDdHgsIHZhbCA/IDEgOiAwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2JpZ2ludCc6XG4gICAgICAgICAgICBpZih1dGlsLmJpZ0ludEZpdHMzMih2YWwpKXtcbiAgICAgICAgICAgICAgY2FwaS5zcWxpdGUzX3Jlc3VsdF9pbnQocEN0eCwgTnVtYmVyKHZhbCkpO1xuICAgICAgICAgICAgfWVsc2UgaWYodXRpbC5iaWdJbnRGaXRzRG91YmxlKHZhbCkpe1xuICAgICAgICAgICAgICBjYXBpLnNxbGl0ZTNfcmVzdWx0X2RvdWJsZShwQ3R4LCBOdW1iZXIodmFsKSk7XG4gICAgICAgICAgICB9ZWxzZSBpZih3YXNtLmJpZ0ludEVuYWJsZWQpe1xuICAgICAgICAgICAgICBpZih1dGlsLmJpZ0ludEZpdHM2NCh2YWwpKSBjYXBpLnNxbGl0ZTNfcmVzdWx0X2ludDY0KHBDdHgsIHZhbCk7XG4gICAgICAgICAgICAgIGVsc2UgdG9zczMoXCJCaWdJbnQgdmFsdWVcIix2YWwudG9TdHJpbmcoKSxcImlzIHRvbyBCaWdJbnQgZm9yIGludDY0LlwiKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICB0b3NzMyhcIkJpZ0ludCB2YWx1ZVwiLHZhbC50b1N0cmluZygpLFwiaXMgdG9vIEJpZ0ludC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdudW1iZXInOiB7XG4gICAgICAgICAgICBsZXQgZjtcbiAgICAgICAgICAgIGlmKHV0aWwuaXNJbnQzMih2YWwpKXtcbiAgICAgICAgICAgICAgZiA9IGNhcGkuc3FsaXRlM19yZXN1bHRfaW50O1xuICAgICAgICAgICAgfWVsc2UgaWYod2FzbS5iaWdJbnRFbmFibGVkXG4gICAgICAgICAgICAgICAgICAgICAmJiBOdW1iZXIuaXNJbnRlZ2VyKHZhbClcbiAgICAgICAgICAgICAgICAgICAgICYmIHV0aWwuYmlnSW50Rml0czY0KEJpZ0ludCh2YWwpKSl7XG4gICAgICAgICAgICAgIGYgPSBjYXBpLnNxbGl0ZTNfcmVzdWx0X2ludDY0O1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIGYgPSBjYXBpLnNxbGl0ZTNfcmVzdWx0X2RvdWJsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGYocEN0eCwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdzdHJpbmcnOiB7XG4gICAgICAgICAgICBjb25zdCBbcCwgbl0gPSB3YXNtLmFsbG9jQ1N0cmluZyh2YWwsdHJ1ZSk7XG4gICAgICAgICAgICBjYXBpLnNxbGl0ZTNfcmVzdWx0X3RleHQocEN0eCwgcCwgbiwgY2FwaS5TUUxJVEVfV0FTTV9ERUFMTE9DKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgaWYobnVsbD09PXZhbC8qeWVzLCB0eXBlb2YgbnVsbCA9PT0gJ29iamVjdCcqLykge1xuICAgICAgICAgICAgICBjYXBpLnNxbGl0ZTNfcmVzdWx0X251bGwocEN0eCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfWVsc2UgaWYodXRpbC5pc0JpbmRhYmxlVHlwZWRBcnJheSh2YWwpKXtcbiAgICAgICAgICAgICAgY29uc3QgcEJsb2IgPSB3YXNtLmFsbG9jRnJvbVR5cGVkQXJyYXkodmFsKTtcbiAgICAgICAgICAgICAgY2FwaS5zcWxpdGUzX3Jlc3VsdF9ibG9iKFxuICAgICAgICAgICAgICAgIHBDdHgsIHBCbG9iLCB2YWwuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgICAgICBjYXBpLlNRTElURV9XQVNNX0RFQUxMT0NcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbHNlIGZhbGwgdGhyb3VnaFxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0b3NzMyhcIkRvbid0IG5vdCBob3cgdG8gaGFuZGxlIHRoaXMgVURGIHJlc3VsdCB2YWx1ZTpcIiwodHlwZW9mIHZhbCksIHZhbCk7XG4gICAgICB9XG4gICAgfWNhdGNoKGUpe1xuICAgICAgY2FwaS5zcWxpdGUzX3Jlc3VsdF9lcnJvcl9qcyhwQ3R4LCBlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAgIFJldHVybnMgdGhlIHJlc3VsdCBzcWxpdGUzX2NvbHVtbl92YWx1ZShwU3RtdCxpQ29sKSBwYXNzZWQgdG9cbiAgICAgc3FsaXRlM192YWx1ZV90b19qcygpLiBUaGUgM3JkIGFyZ3VtZW50IG9mIHRoaXMgZnVuY3Rpb24gaXNcbiAgICAgaWdub3JlZCBieSB0aGlzIGZ1bmN0aW9uIGV4Y2VwdCB0byBwYXNzIGl0IG9uIGFzIHRoZSBzZWNvbmRcbiAgICAgYXJndW1lbnQgb2Ygc3FsaXRlM192YWx1ZV90b19qcygpLiBJZiB0aGUgc3FsaXRlM19jb2x1bW5fdmFsdWUoKVxuICAgICByZXR1cm5zIE5VTEwgKGUuZy4gYmVjYXVzZSB0aGUgY29sdW1uIGluZGV4IGlzIG91dCBvZiByYW5nZSksXG4gICAgIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBgdW5kZWZpbmVkYCwgcmVnYXJkbGVzcyBvZiB0aGUgM3JkXG4gICAgIGFyZ3VtZW50LiBJZiB0aGUgM3JkIGFyZ3VtZW50IGlzIGZhbHN5IGFuZCBjb252ZXJzaW9uIGZhaWxzLFxuICAgICBgdW5kZWZpbmVkYCB3aWxsIGJlIHJldHVybmVkLlxuXG4gICAgIE5vdGUgdGhhdCBzcWxpdGUzX2NvbHVtbl92YWx1ZSgpIHJldHVybnMgYW4gXCJ1bnByb3RlY3RlZFwiIHZhbHVlXG4gICAgIG9iamVjdCwgYnV0IGluIGEgc2luZ2xlLXRocmVhZGVkIGVudmlyb25tZW50IChsaWtlIHRoaXMgb25lKVxuICAgICB0aGVyZSBpcyBubyBkaXN0aW5jdGlvbiBiZXR3ZWVuIHByb3RlY3RlZCBhbmQgdW5wcm90ZWN0ZWQgdmFsdWVzLlxuICAqL1xuICBjYXBpLnNxbGl0ZTNfY29sdW1uX2pzID0gZnVuY3Rpb24ocFN0bXQsIGlDb2wsIHRocm93SWZDYW5ub3RDb252ZXJ0PXRydWUpe1xuICAgIGNvbnN0IHYgPSBjYXBpLnNxbGl0ZTNfY29sdW1uX3ZhbHVlKHBTdG10LCBpQ29sKTtcbiAgICByZXR1cm4gKDA9PT12KSA/IHVuZGVmaW5lZCA6IGNhcGkuc3FsaXRlM192YWx1ZV90b19qcyh2LCB0aHJvd0lmQ2Fubm90Q29udmVydCk7XG4gIH07XG5cbiAgLyoqXG4gICAgIEludGVybmFsIGltcGwgb2Ygc3FsaXRlM19wcmV1cGRhdGVfbmV3L29sZF9qcygpIGFuZFxuICAgICBzcWxpdGUzY2hhbmdlc2V0X25ldy9vbGRfanMoKS5cbiAgKi9cbiAgY29uc3QgX19uZXdPbGRWYWx1ZSA9IGZ1bmN0aW9uKHBPYmosIGlDb2wsIGltcGwpe1xuICAgIGltcGwgPSBjYXBpW2ltcGxdO1xuICAgIGlmKCF0aGlzLnB0cikgdGhpcy5wdHIgPSB3YXNtLmFsbG9jUHRyKCk7XG4gICAgZWxzZSB3YXNtLnBva2VQdHIodGhpcy5wdHIsIDApO1xuICAgIGNvbnN0IHJjID0gaW1wbChwT2JqLCBpQ29sLCB0aGlzLnB0cik7XG4gICAgaWYocmMpIHJldHVybiBTUUxpdGUzRXJyb3IudG9zcyhyYyxhcmd1bWVudHNbMl0rXCIoKSBmYWlsZWQgd2l0aCBjb2RlIFwiK3JjKTtcbiAgICBjb25zdCBwdiA9IHdhc20ucGVla1B0cih0aGlzLnB0cik7XG4gICAgcmV0dXJuIHB2ID8gY2FwaS5zcWxpdGUzX3ZhbHVlX3RvX2pzKCBwdiwgdHJ1ZSApIDogdW5kZWZpbmVkO1xuICB9LmJpbmQoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cbiAgLyoqXG4gICAgIEEgd3JhcHBlciBhcm91bmQgc3FsaXRlM19wcmV1cGRhdGVfbmV3KCkgd2hpY2ggZmV0Y2hlcyB0aGVcbiAgICAgc3FsaXRlM192YWx1ZSBhdCB0aGUgZ2l2ZW4gaW5kZXggYW5kIHJldHVybnMgdGhlIHJlc3VsdCBvZlxuICAgICBwYXNzaW5nIGl0IHRvIHNxbGl0ZTNfdmFsdWVfdG9fanMoKS4gVGhyb3dzIG9uIGVycm9yLlxuICAqL1xuICBjYXBpLnNxbGl0ZTNfcHJldXBkYXRlX25ld19qcyA9XG4gICAgKHBEYiwgaUNvbCk9Pl9fbmV3T2xkVmFsdWUocERiLCBpQ29sLCAnc3FsaXRlM19wcmV1cGRhdGVfbmV3Jyk7XG5cbiAgLyoqXG4gICAgIFRoZSBzcWxpdGUzX3ByZXVwZGF0ZV9vbGQoKSBjb3VudGVycGFydCBvZlxuICAgICBzcWxpdGUzX3ByZXVwZGF0ZV9uZXdfanMoKSwgd2l0aCBhbiBpZGVudGljYWwgaW50ZXJmYWNlLlxuICAqL1xuICBjYXBpLnNxbGl0ZTNfcHJldXBkYXRlX29sZF9qcyA9XG4gICAgKHBEYiwgaUNvbCk9Pl9fbmV3T2xkVmFsdWUocERiLCBpQ29sLCAnc3FsaXRlM19wcmV1cGRhdGVfb2xkJyk7XG5cbiAgLyoqXG4gICAgIEEgd3JhcHBlciBhcm91bmQgc3FsaXRlM2NoYW5nZXNldF9uZXcoKSB3aGljaCBmZXRjaGVzIHRoZVxuICAgICBzcWxpdGUzX3ZhbHVlIGF0IHRoZSBnaXZlbiBpbmRleCBhbmQgcmV0dXJucyB0aGUgcmVzdWx0IG9mXG4gICAgIHBhc3NpbmcgaXQgdG8gc3FsaXRlM192YWx1ZV90b19qcygpLiBUaHJvd3Mgb24gZXJyb3IuXG5cbiAgICAgSWYgc3FsaXRlM2NoYW5nZXNldF9uZXcoKSBzdWNjZWVkcyBidXQgaGFzIG5vIHZhbHVlIHRvIHJlcG9ydCxcbiAgICAgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSB1bmRlZmluZWQgdmFsdWUsIG5vdGluZyB0aGF0IHVuZGVmaW5lZFxuICAgICBpcyBhIHZhbGlkIGNvbnZlcnNpb24gZnJvbSBhbiBgc3FsaXRlM192YWx1ZWAsIHNvIGlzIHVuYW1iaWd1b3VzLlxuICAqL1xuICBjYXBpLnNxbGl0ZTNjaGFuZ2VzZXRfbmV3X2pzID1cbiAgICAocENoYW5nZXNldEl0ZXIsIGlDb2wpID0+IF9fbmV3T2xkVmFsdWUocENoYW5nZXNldEl0ZXIsIGlDb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcWxpdGUzY2hhbmdlc2V0X25ldycpO1xuXG4gIC8qKlxuICAgICBUaGUgc3FsaXRlM2NoYW5nZXNldF9vbGQoKSBjb3VudGVycGFydCBvZlxuICAgICBzcWxpdGUzY2hhbmdlc2V0X25ld19qcygpLCB3aXRoIGFuIGlkZW50aWNhbCBpbnRlcmZhY2UuXG4gICovXG4gIGNhcGkuc3FsaXRlM2NoYW5nZXNldF9vbGRfanMgPVxuICAgIChwQ2hhbmdlc2V0SXRlciwgaUNvbCk9Pl9fbmV3T2xkVmFsdWUocENoYW5nZXNldEl0ZXIsIGlDb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3FsaXRlM2NoYW5nZXNldF9vbGQnKTtcblxuICAvKiBUaGUgcmVtYWluZGVyIG9mIHRoZSBBUEkgd2lsbCBiZSBzZXQgdXAgaW4gbGF0ZXIgc3RlcHMuICovXG4gIGNvbnN0IHNxbGl0ZTMgPSB7XG4gICAgV2FzbUFsbG9jRXJyb3I6IFdhc21BbGxvY0Vycm9yLFxuICAgIFNRTGl0ZTNFcnJvcjogU1FMaXRlM0Vycm9yLFxuICAgIGNhcGksXG4gICAgdXRpbCxcbiAgICB3YXNtLFxuICAgIGNvbmZpZyxcbiAgICAvKipcbiAgICAgICBIb2xkcyB0aGUgdmVyc2lvbiBpbmZvIG9mIHRoZSBzcWxpdGUzIHNvdXJjZSB0cmVlIGZyb20gd2hpY2hcbiAgICAgICB0aGUgZ2VuZXJhdGVkIHNxbGl0ZTMtYXBpLmpzIGdldHMgYnVpbHQuIE5vdGUgdGhhdCBpdHMgdmVyc2lvblxuICAgICAgIG1heSB3ZWxsIGRpZmZlciBmcm9tIHRoYXQgcmVwb3J0ZWQgYnkgc3FsaXRlM19saWJ2ZXJzaW9uKCksIGJ1dFxuICAgICAgIHRoYXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBzb3VyY2UgZmlsZSBtaXNtYXRjaCwgYXMgdGhlIEpTIGFuZFxuICAgICAgIFdBU00gZmlsZXMgYXJlIGludGVuZGVkIHRvIGJlIGJ1aWx0IGFuZCBkaXN0cmlidXRlZCB0b2dldGhlci5cblxuICAgICAgIFRoaXMgb2JqZWN0IGlzIGluaXRpYWxseSBhIHBsYWNlaG9sZGVyIHdoaWNoIGdldHMgcmVwbGFjZWQgYnkgYVxuICAgICAgIGJ1aWxkLWdlbmVyYXRlZCBvYmplY3QuXG4gICAgKi9cbiAgICB2ZXJzaW9uOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuXG4gICAgLyoqXG4gICAgICAgVGhlIGxpYnJhcnkgcmVzZXJ2ZXMgdGhlICdjbGllbnQnIHByb3BlcnR5IGZvciBjbGllbnQtc2lkZSB1c2VcbiAgICAgICBhbmQgcHJvbWlzZXMgdG8gbmV2ZXIgZGVmaW5lIGEgcHJvcGVydHkgd2l0aCB0aGlzIG5hbWUgbm9yIHRvXG4gICAgICAgZXZlciByZWx5IG9uIHNwZWNpZmljIGNvbnRlbnRzIG9mIGl0LiBJdCBtYWtlcyBubyBzdWNoIGd1YXJhbnRlZXNcbiAgICAgICBmb3Igb3RoZXIgcHJvcGVydGllcy5cbiAgICAqL1xuICAgIGNsaWVudDogdW5kZWZpbmVkLFxuXG4gICAgLyoqXG4gICAgICAgUGVyZm9ybXMgYW55IG9wdGlvbmFsIGFzeW5jaHJvbm91cyBsaWJyYXJ5LWxldmVsIGluaXRpYWxpemF0aW9uXG4gICAgICAgd2hpY2ggbWlnaHQgYmUgcmVxdWlyZWQuIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIFByb21pc2Ugd2hpY2hcbiAgICAgICByZXNvbHZlcyB0byB0aGUgc3FsaXRlMyBuYW1lc3BhY2Ugb2JqZWN0LiBBbnkgZXJyb3IgaW4gdGhlXG4gICAgICAgYXN5bmMgaW5pdCB3aWxsIGJlIGZhdGFsIHRvIHRoZSBpbml0IGFzIGEgd2hvbGUsIGJ1dCBpbml0XG4gICAgICAgcm91dGluZXMgYXJlIHRoZW1zZWx2ZXMgd2VsY29tZSB0byBpbnN0YWxsIGR1bW15IGNhdGNoKClcbiAgICAgICBoYW5kbGVycyB3aGljaCBhcmUgbm90IGZhdGFsIGlmIHRoZWlyIGZhaWx1cmUgc2hvdWxkIGJlXG4gICAgICAgY29uc2lkZXJlZCBub24tZmF0YWwuIElmIGNhbGxlZCBtb3JlIHRoYW4gb25jZSwgdGhlIHNlY29uZCBhbmRcbiAgICAgICBzdWJzZXF1ZW50IGNhbGxzIGFyZSBuby1vcHMgd2hpY2ggcmV0dXJuIGEgcHJlLXJlc29sdmVkXG4gICAgICAgUHJvbWlzZS5cblxuICAgICAgIElkZWFsbHkgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYXMgcGFydCBvZiB0aGUgUHJvbWlzZSBjaGFpblxuICAgICAgIHdoaWNoIGhhbmRsZXMgdGhlIGxvYWRpbmcgYW5kIGJvb3RzdHJhcHBpbmcgb2YgdGhlIEFQSS4gIElmIG5vdFxuICAgICAgIHRoZW4gaXQgbXVzdCBiZSBjYWxsZWQgYnkgY2xpZW50LWxldmVsIGNvZGUsIHdoaWNoIG11c3Qgbm90IHVzZVxuICAgICAgIHRoZSBsaWJyYXJ5IHVudGlsIHRoZSByZXR1cm5lZCBwcm9taXNlIHJlc29sdmVzLlxuXG4gICAgICAgQnVnOiBpZiBjYWxsZWQgd2hpbGUgYSBwcmlvciBjYWxsIGlzIHN0aWxsIHJlc29sdmluZywgdGhlIDJuZFxuICAgICAgIGNhbGwgd2lsbCByZXNvbHZlIHByZW1hdHVyZWx5LCBiZWZvcmUgdGhlIDFzdCBjYWxsIGhhcyBmaW5pc2hlZFxuICAgICAgIHJlc29sdmluZy4gVGhlIGN1cnJlbnQgYnVpbGQgc2V0dXAgcHJlY2x1ZGVzIHRoYXQgcG9zc2liaWxpdHksXG4gICAgICAgc28gaXQncyBvbmx5IGEgaHlwb3RoZXRpY2FsIHByb2JsZW0gaWYvd2hlbiB0aGlzIGZ1bmN0aW9uXG4gICAgICAgZXZlciBuZWVkcyB0byBiZSBpbnZva2VkIGJ5IGNsaWVudHMuXG5cbiAgICAgICBJbiBFbXNjcmlwdGVuLWJhc2VkIGJ1aWxkcywgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWRcbiAgICAgICBhdXRvbWF0aWNhbGx5IGFuZCBkZWxldGVkIGZyb20gdGhpcyBvYmplY3QuXG4gICAgKi9cbiAgICBhc3luY1Bvc3RJbml0OiBhc3luYyBmdW5jdGlvbigpe1xuICAgICAgbGV0IGxpcCA9IHNxbGl0ZTNBcGlCb290c3RyYXAuaW5pdGlhbGl6ZXJzQXN5bmM7XG4gICAgICBkZWxldGUgc3FsaXRlM0FwaUJvb3RzdHJhcC5pbml0aWFsaXplcnNBc3luYztcbiAgICAgIGlmKCFsaXAgfHwgIWxpcC5sZW5ndGgpIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3FsaXRlMyk7XG4gICAgICBsaXAgPSBsaXAubWFwKChmKT0+e1xuICAgICAgICBjb25zdCBwID0gKGYgaW5zdGFuY2VvZiBQcm9taXNlKSA/IGYgOiBmKHNxbGl0ZTMpO1xuICAgICAgICByZXR1cm4gcC5jYXRjaCgoZSk9PntcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiYW4gYXN5bmMgc3FsaXRlMyBpbml0aWFsaXplciBmYWlsZWQ6XCIsZSk7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHBvc3RJbml0ID0gKCk9PntcbiAgICAgICAgaWYoIXNxbGl0ZTMuX19pc1VuZGVyVGVzdCl7XG4gICAgICAgICAgLyogRGVsZXRlIHJlZmVyZW5jZXMgdG8gaW50ZXJuYWwtb25seSBBUElzIHdoaWNoIGFyZSB1c2VkIGJ5XG4gICAgICAgICAgICAgc29tZSBpbml0aWFsaXplcnMuIFJldGFpbiB0aGVtIHdoZW4gcnVubmluZyBpbiB0ZXN0IG1vZGVcbiAgICAgICAgICAgICBzbyB0aGF0IHdlIGNhbiBhZGQgdGVzdHMgZm9yIHRoZW0uICovXG4gICAgICAgICAgZGVsZXRlIHNxbGl0ZTMudXRpbDtcbiAgICAgICAgICAvKiBJdCdzIGNvbmNlaXZhYmxlIHRoYXQgd2UgbWlnaHQgd2FudCB0byBleHBvc2VcbiAgICAgICAgICAgICBTdHJ1Y3RCaW5kZXIgdG8gY2xpZW50LXNpZGUgY29kZSwgYnV0IGl0J3Mgb25seSB1c2VmdWwgaWZcbiAgICAgICAgICAgICBjbGllbnRzIGJ1aWxkIHRoZWlyIG93biBzcWxpdGUzLndhc20gd2hpY2ggY29udGFpbnMgdGhlaXJcbiAgICAgICAgICAgICBvbmUgQyBzdHJ1Y3QgdHlwZXMuICovXG4gICAgICAgICAgZGVsZXRlIHNxbGl0ZTMuU3RydWN0QmluZGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzcWxpdGUzO1xuICAgICAgfTtcbiAgICAgIGlmKDEpe1xuICAgICAgICAvKiBSdW4gYWxsIGluaXRpYWxpemVycyBpbiBzZXF1ZW5jZS4gVGhlIGFkdmFudGFnZSBpcyB0aGF0IGl0XG4gICAgICAgICAgIGFsbG93cyB1cyB0byBoYXZlIHBvc3QtaW5pdCBjbGVhbnVwIGRlZmluZWQgb3V0c2lkZSBvZiB0aGlzXG4gICAgICAgICAgIHJvdXRpbmUgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCBhbmQgaGF2ZSBpdCBydW4gYXQgYVxuICAgICAgICAgICB3ZWxsLWRlZmluZWQgdGltZS4gKi9cbiAgICAgICAgbGV0IHAgPSBsaXAuc2hpZnQoKTtcbiAgICAgICAgd2hpbGUobGlwLmxlbmd0aCkgcCA9IHAudGhlbihsaXAuc2hpZnQoKSk7XG4gICAgICAgIHJldHVybiBwLnRoZW4ocG9zdEluaXQpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8qIFJ1biB0aGVtIGluIGFuIGFyYml0cmFyeSBvcmRlci4gKi9cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGxpcCkudGhlbihwb3N0SW5pdCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgICBzY3JpcHRJbmZvIGlkZWFsbHkgZ2V0cyBpbmplY3RlZCBpbnRvIHRoaXMgb2JqZWN0IGJ5IHRoZVxuICAgICAgIGluZnJhc3RydWN0dXJlIHdoaWNoIGFzc2VtYmxlcyB0aGUgSlMvV0FTTSBtb2R1bGUuIEl0IGNvbnRhaW5zXG4gICAgICAgc3RhdGUgd2hpY2ggbXVzdCBiZSBjb2xsZWN0ZWQgYmVmb3JlIHNxbGl0ZTNBcGlCb290c3RyYXAoKSBjYW5cbiAgICAgICBiZSBkZWNsYXJlZC4gSXQgaXMgbm90IG5lY2Vzc2FyaWx5IGF2YWlsYWJsZSB0byBhbnlcbiAgICAgICBzcWxpdGUzQXBpQm9vdHN0cmFwLmluaXRpYWxpemVycyBidXQgXCJzaG91bGRcIiBiZSBpbiBwbGFjZSAoaWZcbiAgICAgICBpdCdzIGFkZGVkIGF0IGFsbCkgYnkgdGhlIHRpbWUgdGhhdFxuICAgICAgIHNxbGl0ZTNBcGlCb290c3RyYXAuaW5pdGlhbGl6ZXJzQXN5bmMgaXMgcHJvY2Vzc2VkLlxuXG4gICAgICAgVGhpcyBzdGF0ZSBpcyBub3QgcGFydCBvZiB0aGUgcHVibGljIEFQSSwgb25seSBpbnRlbmRlZCBmb3IgdXNlXG4gICAgICAgd2l0aCB0aGUgc3FsaXRlMyBBUEkgYm9vdHN0cmFwcGluZyBhbmQgd2FzbS1sb2FkaW5nIHByb2Nlc3MuXG4gICAgKi9cbiAgICBzY3JpcHRJbmZvOiB1bmRlZmluZWRcbiAgfTtcbiAgdHJ5e1xuICAgIHNxbGl0ZTNBcGlCb290c3RyYXAuaW5pdGlhbGl6ZXJzLmZvckVhY2goKGYpPT57XG4gICAgICBmKHNxbGl0ZTMpO1xuICAgIH0pO1xuICB9Y2F0Y2goZSl7XG4gICAgLyogSWYgd2UgZG9uJ3QgcmVwb3J0IHRoaXMgaGVyZSwgaXQgY2FuIGdldCBjb21wbGV0ZWx5IHN3YWxsb3dlZFxuICAgICAgIHVwIGFuZCBkaXNhcHBlYXIgaW50byB0aGUgYWJ5c3Mgb2YgUHJvbWlzZXMgYW5kIFdvcmtlcnMuICovXG4gICAgY29uc29sZS5lcnJvcihcInNxbGl0ZTMgYm9vdHN0cmFwIGluaXRpYWxpemVyIHRocmV3OlwiLGUpO1xuICAgIHRocm93IGU7XG4gIH1cbiAgZGVsZXRlIHNxbGl0ZTNBcGlCb290c3RyYXAuaW5pdGlhbGl6ZXJzO1xuICBzcWxpdGUzQXBpQm9vdHN0cmFwLnNxbGl0ZTMgPSBzcWxpdGUzO1xuICByZXR1cm4gc3FsaXRlMztcbn0vKnNxbGl0ZTNBcGlCb290c3RyYXAoKSovO1xuLyoqXG4gIGdsb2JhbFRoaXMuc3FsaXRlM0FwaUJvb3RzdHJhcC5pbml0aWFsaXplcnMgaXMgYW4gaW50ZXJuYWwgZGV0YWlsIHVzZWQgYnlcbiAgdGhlIHZhcmlvdXMgcGllY2VzIG9mIHRoZSBzcWxpdGUzIEFQSSdzIGFtYWxnYW1hdGlvbiBwcm9jZXNzLiBJdFxuICBtdXN0IG5vdCBiZSBtb2RpZmllZCBieSBjbGllbnQgY29kZSBleGNlcHQgd2hlbiBwbHVnZ2luZyBzdWNoIGNvZGVcbiAgaW50byB0aGUgYW1hbGdhbWF0aW9uIHByb2Nlc3MuXG5cbiAgRWFjaCBjb21wb25lbnQgb2YgdGhlIGFtYWxnYW1hdGlvbiBpcyBleHBlY3RlZCB0byBhcHBlbmQgYSBmdW5jdGlvblxuICB0byB0aGlzIGFycmF5LiBXaGVuIHNxbGl0ZTNBcGlCb290c3RyYXAoKSBpcyBjYWxsZWQgZm9yIHRoZSBmaXJzdFxuICB0aW1lLCBlYWNoIHN1Y2ggZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgKGluIHRoZWlyIGFwcGVuZGVkIG9yZGVyKVxuICBhbmQgcGFzc2VkIHRoZSBzcWxpdGUzIG5hbWVzcGFjZSBvYmplY3QsIGludG8gd2hpY2ggdGhleSBjYW4gaW5zdGFsbFxuICB0aGVpciBmZWF0dXJlcyAobm90aW5nIHRoYXQgbW9zdCB3aWxsIGFsc28gcmVxdWlyZSB0aGF0IGNlcnRhaW5cbiAgZmVhdHVyZXMgYWxyZWFkIGhhdmUgYmVlbiBpbnN0YWxsZWQpLiAgQXQgdGhlIGVuZCBvZiB0aGF0IHByb2Nlc3MsXG4gIHRoaXMgYXJyYXkgaXMgZGVsZXRlZC5cblxuICBOb3RlIHRoYXQgdGhlIG9yZGVyIG9mIGluc2VydGlvbiBpbnRvIHRoaXMgYXJyYXkgaXMgc2lnbmlmaWNhbnQgZm9yXG4gIHNvbWUgcGllY2VzLiBlLmcuIHNxbGl0ZTMuY2FwaSBhbmQgc3FsaXRlMy53YXNtIGNhbm5vdCBiZSBmdWxseVxuICB1dGlsaXplZCB1bnRpbCB0aGUgd2h3YXNtdXRpbC5qcyBwYXJ0IGlzIHBsdWdnZWQgaW4gdmlhXG4gIHNxbGl0ZTMtYXBpLWdsdWUuanMuXG4qL1xuZ2xvYmFsVGhpcy5zcWxpdGUzQXBpQm9vdHN0cmFwLmluaXRpYWxpemVycyA9IFtdO1xuLyoqXG4gIGdsb2JhbFRoaXMuc3FsaXRlM0FwaUJvb3RzdHJhcC5pbml0aWFsaXplcnNBc3luYyBpcyBhbiBpbnRlcm5hbCBkZXRhaWxcbiAgdXNlZCBieSB0aGUgc3FsaXRlMyBBUEkncyBhbWFsZ2FtYXRpb24gcHJvY2Vzcy4gSXQgbXVzdCBub3QgYmVcbiAgbW9kaWZpZWQgYnkgY2xpZW50IGNvZGUgZXhjZXB0IHdoZW4gcGx1Z2dpbmcgc3VjaCBjb2RlIGludG8gdGhlXG4gIGFtYWxnYW1hdGlvbiBwcm9jZXNzLlxuXG4gIFRoZSBjb3VudGVycGFydCBvZiBnbG9iYWxUaGlzLnNxbGl0ZTNBcGlCb290c3RyYXAuaW5pdGlhbGl6ZXJzLFxuICBzcGVjaWZpY2FsbHkgZm9yIGluaXRpYWxpemVycyB3aGljaCBhcmUgYXN5bmNocm9ub3VzLiBBbGwgZW50cmllcyBpblxuICB0aGlzIGxpc3QgbXVzdCBiZSBlaXRoZXIgYXN5bmMgZnVuY3Rpb25zLCBub24tYXN5bmMgZnVuY3Rpb25zIHdoaWNoXG4gIHJldHVybiBhIFByb21pc2UsIG9yIGEgUHJvbWlzZS4gRWFjaCBmdW5jdGlvbiBpbiB0aGUgbGlzdCBpcyBjYWxsZWRcbiAgd2l0aCB0aGUgc3FsaXRlMyBvamJlY3QgYXMgaXRzIG9ubHkgYXJndW1lbnQuXG5cbiAgVGhlIHJlc29sdmVkIHZhbHVlIG9mIGFueSBQcm9taXNlIGlzIGlnbm9yZWQgYW5kIHJlamVjdGlvbiB3aWxsIGtpbGxcbiAgdGhlIGFzeW5jUG9zdEluaXQoKSBwcm9jZXNzIChhdCBhbiBpbmRldGVybWluYXRlIHBvaW50IGJlY2F1c2UgYWxsXG4gIG9mIHRoZW0gYXJlIHJ1biBhc3luY2hyb25vdXNseSBpbiBwYXJhbGxlbCkuXG5cbiAgVGhpcyBsaXN0IGlzIG5vdCBwcm9jZXNzZWQgdW50aWwgdGhlIGNsaWVudCBjYWxsc1xuICBzcWxpdGUzLmFzeW5jUG9zdEluaXQoKS4gVGhpcyBtZWFucywgZm9yIGV4YW1wbGUsIHRoYXQgaW50aWFsaXplcnNcbiAgYWRkZWQgdG8gZ2xvYmFsVGhpcy5zcWxpdGUzQXBpQm9vdHN0cmFwLmluaXRpYWxpemVycyBtYXkgcHVzaCBlbnRyaWVzIHRvXG4gIHRoaXMgbGlzdC5cbiovXG5nbG9iYWxUaGlzLnNxbGl0ZTNBcGlCb290c3RyYXAuaW5pdGlhbGl6ZXJzQXN5bmMgPSBbXTtcbi8qKlxuICAgQ2xpZW50IGNvZGUgbWF5IGFzc2lnbiBzcWxpdGUzQXBpQm9vdHN0cmFwLmRlZmF1bHRDb25maWcgYW5cbiAgIG9iamVjdC10eXBlIHZhbHVlIGJlZm9yZSBjYWxsaW5nIHNxbGl0ZTNBcGlCb290c3RyYXAoKSAod2l0aG91dFxuICAgYXJndW1lbnRzKSBpbiBvcmRlciB0byB0ZWxsIHRoYXQgY2FsbCB0byB1c2UgdGhpcyBvYmplY3QgYXMgaXRzXG4gICBkZWZhdWx0IGNvbmZpZyB2YWx1ZS4gVGhlIGludGVudGlvbiBvZiB0aGlzIGlzIHRvIHByb3ZpZGVcbiAgIGRvd25zdHJlYW0gY2xpZW50cyB3aXRoIGEgcmVhc29uYWJseSBmbGV4aWJsZSBhcHByb2FjaCBmb3IgcGx1Z2dpbmcgaW5cbiAgIGFuIGVudmlyb25tZW50LXN1aXRhYmxlIGNvbmZpZ3VyYXRpb24gd2l0aG91dCBoYXZpbmcgdG8gZGVmaW5lIGEgbmV3XG4gICBnbG9iYWwtc2NvcGUgc3ltYm9sLlxuKi9cbmdsb2JhbFRoaXMuc3FsaXRlM0FwaUJvb3RzdHJhcC5kZWZhdWx0Q29uZmlnID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKlxuICAgUGxhY2Vob2xkZXI6IGdldHMgaW5zdGFsbGVkIGJ5IHRoZSBmaXJzdCBjYWxsIHRvXG4gICBnbG9iYWxUaGlzLnNxbGl0ZTNBcGlCb290c3RyYXAoKS4gSG93ZXZlciwgaXQgaXMgcmVjb21tZW5kZWQgdGhhdCB0aGVcbiAgIGNhbGxlciBvZiBzcWxpdGUzQXBpQm9vdHN0cmFwKCkgY2FwdHVyZSBpdHMgcmV0dXJuIHZhbHVlIGFuZCBkZWxldGVcbiAgIGdsb2JhbFRoaXMuc3FsaXRlM0FwaUJvb3RzdHJhcCBhZnRlciBjYWxsaW5nIGl0LiBJdCByZXR1cm5zIHRoZSBzYW1lXG4gICB2YWx1ZSB3aGljaCB3aWxsIGJlIHN0b3JlZCBoZXJlLlxuKi9cbmdsb2JhbFRoaXMuc3FsaXRlM0FwaUJvb3RzdHJhcC5zcWxpdGUzID0gdW5kZWZpbmVkO1xuLyogRU5EIEZJTEU6IGFwaS9zcWxpdGUzLWFwaS1wcm9sb2d1ZS5qcyAqL1xuLyogQkVHSU4gRklMRTogY29tbW9uL3dod2FzbXV0aWwuanMgKi9cbi8qKlxuICAyMDIyLTA3LTA4XG5cbiAgVGhlIGF1dGhvciBkaXNjbGFpbXMgY29weXJpZ2h0IHRvIHRoaXMgc291cmNlIGNvZGUuICBJbiBwbGFjZSBvZiBhXG4gIGxlZ2FsIG5vdGljZSwgaGVyZSBpcyBhIGJsZXNzaW5nOlxuXG4gICogICBNYXkgeW91IGRvIGdvb2QgYW5kIG5vdCBldmlsLlxuICAqICAgTWF5IHlvdSBmaW5kIGZvcmdpdmVuZXNzIGZvciB5b3Vyc2VsZiBhbmQgZm9yZ2l2ZSBvdGhlcnMuXG4gICogICBNYXkgeW91IHNoYXJlIGZyZWVseSwgbmV2ZXIgdGFraW5nIG1vcmUgdGhhbiB5b3UgZ2l2ZS5cblxuICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIFRoZSB3aHdhc211dGlsIGlzIGRldmVsb3BlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZSBKYWNjd2FieXRcbiAgcHJvamVjdDpcblxuICBodHRwczovL2Zvc3NpbC53YW5kZXJpbmdob3JzZS5uZXQvci9qYWNjd2FieXRcblxuICBhbmQgc3FsaXRlMzpcblxuICBodHRwczovL3NxbGl0ZS5vcmdcblxuICBUaGlzIGZpbGUgaXMga2VwdCBpbiBzeW5jIGJldHdlZW4gYm90aCBvZiB0aG9zZSB0cmVlcy5cblxuICBNYWludGVuYW5jZSByZW1pbmRlcjogSWYgeW91J3JlIHJlYWRpbmcgdGhpcyBpbiBhIHRyZWUgb3RoZXIgdGhhblxuICBvbmUgb2YgdGhvc2UgbGlzdGVkIGFib3ZlLCBub3RlIHRoYXQgdGhpcyBjb3B5IG1heSBiZSByZXBsYWNlZCB3aXRoXG4gIHVwc3RyZWFtIGNvcGllcyBvZiB0aGF0IG9uZSBmcm9tIHRpbWUgdG8gdGltZS4gVGh1cyB0aGUgY29kZVxuICBpbnN0YWxsZWQgYnkgdGhpcyBmdW5jdGlvbiBcInNob3VsZCBub3RcIiBiZSBlZGl0ZWQgb3V0c2lkZSBvZiB0aG9zZVxuICBwcm9qZWN0cywgZWxzZSBpdCByaXNrcyBnZXR0aW5nIG92ZXJ3cml0dGVuLlxuKi9cbi8qKlxuICAgVGhpcyBmdW5jdGlvbiBpcyBpbnRlbmRlZCB0byBzaW1wbGlmeSBwb3J0aW5nIGFyb3VuZCB2YXJpb3VzIGJpdHNcbiAgIG9mIFdBU00tcmVsYXRlZCB1dGlsaXR5IGNvZGUgZnJvbSBwcm9qZWN0IHRvIHByb2plY3QuXG5cbiAgIFRoZSBwcmltYXJ5IGdvYWwgb2YgdGhpcyBjb2RlIGlzIHRvIHJlcGxhY2UsIHdoZXJlIHBvc3NpYmxlLFxuICAgRW1zY3JpcHRlbi1nZW5lcmF0ZWQgZ2x1ZSBjb2RlIHdpdGggZXF1aXZhbGVudCB1dGlsaXR5IGNvZGUgd2hpY2hcbiAgIGNhbiBiZSB1c2VkIGluIGFyYml0cmFyeSBXQVNNIGVudmlyb25tZW50cyBidWlsdCB3aXRoIHRvb2xjaGFpbnNcbiAgIG90aGVyIHRoYW4gRW1zY3JpcHRlbi4gQXMgb2YgdGhpcyB3cml0aW5nLCB0aGlzIGNvZGUgaXMgY2FwYWJsZSBvZlxuICAgYWN0aW5nIGFzIGEgcmVwbGFjZW1lbnQgZm9yIEVtc2NyaXB0ZW4ncyBnZW5lcmF0ZWQgZ2x1ZSBjb2RlXG4gICBfZXhjZXB0XyB0aGF0IHRoZSBsYXR0ZXIgaW5zdGFsbHMgaGFuZGxlcnMgZm9yIEVtc2NyaXB0ZW4tcHJvdmlkZWRcbiAgIEFQSXMgc3VjaCBhcyBpdHMgXCJGU1wiICh2aXJ0dWFsIGZpbGVzeXN0ZW0pIEFQSS4gTG9hZGluZyBvZiBzdWNoXG4gICB0aGluZ3Mgc3RpbGwgcmVxdWlyZXMgdXNpbmcgRW1zY3JpcHRlbidzIGdsdWUsIGJ1dCB0aGUgcG9zdC1sb2FkXG4gICB1dGlsaXR5IEFQSXMgcHJvdmlkZWQgYnkgdGhpcyBjb2RlIGFyZSBzdGlsbCB1c2FibGUgYXMgcmVwbGFjZW1lbnRzXG4gICBmb3IgdGhlaXIgc3ViLW9wdGltYWxseS1kb2N1bWVudGVkIEVtc2NyaXB0ZW4gY291bnRlcnBhcnRzLlxuXG4gICBJbnRlbmRlZCB1c2FnZTpcblxuICAgYGBgXG4gICBnbG9iYWxUaGlzLldoV2FzbVV0aWxJbnN0YWxsZXIoYXBwT2JqZWN0KTtcbiAgIGRlbGV0ZSBnbG9iYWxUaGlzLldoV2FzbVV0aWxJbnN0YWxsZXI7XG4gICBgYGBcblxuICAgSXRzIGdsb2JhbC1zY29wZSBzeW1ib2wgaXMgaW50ZW5kZWQgb25seSB0byBwcm92aWRlIGFuIGVhc3kgd2F5IHRvXG4gICBtYWtlIGl0IGF2YWlsYWJsZSB0byAzcmQtcGFydHkgc2NyaXB0cyBhbmQgXCJzaG91bGRcIiBiZSBkZWxldGVkXG4gICBhZnRlciBjYWxsaW5nIGl0LiBUaGF0IHN5bWJvbHMgaXMgX25vdF8gdXNlZCB3aXRoaW4gdGhlIGxpYnJhcnkuXG5cbiAgIEZvcmV3YXJuaW5nOiB0aGlzIEFQSSBleHBsaWNpdGx5IHRhcmdldHMgb25seSBicm93c2VyXG4gICBlbnZpcm9ubWVudHMuIElmIGEgZ2l2ZW4gbm9uLWJyb3dzZXIgZW52aXJvbm1lbnQgaGFzIHRoZVxuICAgY2FwYWJpbGl0aWVzIG5lZWRlZCBmb3IgYSBnaXZlbiBmZWF0dXJlIChlLmcuIFRleHRFbmNvZGVyKSwgZ3JlYXQsXG4gICBidXQgaXQgZG9lcyBub3QgZ28gb3V0IG9mIGl0cyB3YXkgdG8gYWNjb3VudCBmb3IgdGhlbSBhbmQgZG9lcyBub3RcbiAgIHByb3ZpZGUgY29tcGF0aWJpbGl0eSBjcnV0Y2hlcyBmb3IgdGhlbS5cblxuICAgSXQgY3VycmVudGx5IG9mZmVycyBhbHRlcm5hdGl2ZXMgdG8gdGhlIGZvbGxvd2luZ1xuICAgRW1zY3JpcHRlbi1nZW5lcmF0ZWQgQVBJczpcblxuICAgLSBPUFRJT05BTExZIG1lbW9yeSBhbGxvY2F0aW9uLCBidXQgaG93IHRoaXMgZ2V0cyBpbXBvcnRlZCBpc1xuICAgICBlbnZpcm9ubWVudC1zcGVjaWZpYy4gIE1vc3Qgb2YgdGhlIGZvbGxvd2luZyBmZWF0dXJlcyBvbmx5IHdvcmtcbiAgICAgaWYgYWxsb2NhdGlvbiBpcyBhdmFpbGFibGUuXG5cbiAgIC0gV0FTTS1leHBvcnRlZCBcImluZGlyZWN0IGZ1bmN0aW9uIHRhYmxlXCIgYWNjZXNzIGFuZFxuICAgICBtYW5pcHVsYXRpb24uIGUuZy4gIGNyZWF0aW5nIG5ldyBXQVNNLXNpZGUgZnVuY3Rpb25zIHVzaW5nIEpTXG4gICAgIGZ1bmN0aW9ucywgYW5hbG9nIHRvIEVtc2NyaXB0ZW4ncyBhZGRGdW5jdGlvbigpIGFuZFxuICAgICB1bmluc3RhbGxGdW5jdGlvbigpIGJ1dCBzbGlnaHRseSBkaWZmZXJlbnQuXG5cbiAgIC0gR2V0L3NldCBzcGVjaWZpYyBoZWFwIG1lbW9yeSB2YWx1ZXMsIGFuYWxvZyB0byBFbXNjcmlwdGVuJ3NcbiAgICAgZ2V0VmFsdWUoKSBhbmQgc2V0VmFsdWUoKS5cblxuICAgLSBTdHJpbmcgbGVuZ3RoIGNvdW50aW5nIGluIFVURi04IGJ5dGVzIChDLXN0eWxlIGFuZCBKUyBzdHJpbmdzKS5cblxuICAgLSBKUyBzdHJpbmcgdG8gQy1zdHJpbmcgY29udmVyc2lvbiBhbmQgdmljZSB2ZXJzYSwgYW5hbG9nIHRvXG4gICAgIEVtc2NyaXB0ZW4ncyBzdHJpbmdUb1VURjhBcnJheSgpIGFuZCBmcmllbmRzLCBidXQgd2l0aCBzbGlnaHRlclxuICAgICBkaWZmZXJlbnQgaW50ZXJmYWNlcy5cblxuICAgLSBKUyBzdHJpbmcgdG8gVWludDhBcnJheSBjb252ZXJzaW9uLCBub3RpbmcgdGhhdCBicm93c2VycyBhY3R1YWxseVxuICAgICBhbHJlYWR5IGhhdmUgdGhpcyBidWlsdCBpbiB2aWEgVGV4dEVuY29kZXIuXG5cbiAgIC0gXCJTY29wZWRcIiBhbGxvY2F0aW9uLCBzdWNoIHRoYXQgYWxsb2NhdGlvbnMgbWFkZSBpbnNpZGUgb2YgYSBnaXZlblxuICAgICBleHBsaWNpdCBzY29wZSB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgY2xlYW5lZCB1cCB3aGVuIHRoZSBzY29wZSBpc1xuICAgICBjbG9zZWQuIFRoaXMgaXMgZnVuZGFtZW50YWxseSBzaW1pbGFyIHRvIEVtc2NyaXB0ZW4nc1xuICAgICBzdGFja0FsbG9jKCkgYW5kIGZyaWVuZHMgYnV0IHVzZXMgdGhlIGhlYXAgaW5zdGVhZCBvZiB0aGUgc3RhY2tcbiAgICAgYmVjYXVzZSBhY2Nlc3MgdG8gdGhlIHN0YWNrIHJlcXVpcmVzIEMgY29kZS5cblxuICAgLSBDcmVhdGUgSlMgd3JhcHBlcnMgZm9yIFdBU00gZnVuY3Rpb25zLCBhbmFsb2cgdG8gRW1zY3JpcHRlbidzXG4gICAgIGNjYWxsKCkgYW5kIGN3cmFwKCkgZnVuY3Rpb25zLCBleGNlcHQgdGhhdCB0aGUgYXV0b21hdGljXG4gICAgIGNvbnZlcnNpb25zIGZvciBmdW5jdGlvbiBhcmd1bWVudHMgYW5kIHJldHVybiB2YWx1ZXMgY2FuIGJlXG4gICAgIGVhc2lseSBjdXN0b21pemVkIGJ5IHRoZSBjbGllbnQgYnkgYXNzaWduaW5nIGN1c3RvbSBmdW5jdGlvblxuICAgICBzaWduYXR1cmUgdHlwZSBuYW1lcyB0byBjb252ZXJzaW9uIGZ1bmN0aW9ucy4gRXNzZW50aWFsbHksXG4gICAgIGl0J3MgY2NhbGwoKSBhbmQgY3dyYXAoKSBvbiBzdGVyb2lkcy5cblxuICAgSG93IHRvIGluc3RhbGwuLi5cblxuICAgUGFzc2luZyBhbiBvYmplY3QgdG8gdGhpcyBmdW5jdGlvbiB3aWxsIGluc3RhbGwgdGhlIGZ1bmN0aW9uYWxpdHlcbiAgIGludG8gdGhhdCBvYmplY3QuIEFmdGVyd2FyZHMsIGNsaWVudCBjb2RlIFwic2hvdWxkXCIgZGVsZXRlIHRoZSBnbG9iYWxcbiAgIHN5bWJvbC5cblxuICAgVGhpcyBjb2RlIHJlcXVpcmVzIHRoYXQgdGhlIHRhcmdldCBvYmplY3QgaGF2ZSB0aGUgZm9sbG93aW5nXG4gICBwcm9wZXJ0aWVzLCBub3RpbmcgdGhhdCB0aGV5IG5lZWRuJ3QgYmUgYXZhaWxhYmxlIHVudGlsIHRoZSBmaXJzdFxuICAgdGltZSBvbmUgb2YgdGhlIGluc3RhbGxlZCBBUElzIGlzIHVzZWQgKGFzIG9wcG9zZWQgdG8gd2hlbiB0aGlzXG4gICBmdW5jdGlvbiBpcyBjYWxsZWQpIGV4Y2VwdCB3aGVyZSBleHBsaWNpdGx5IG5vdGVkOlxuXG4gICAtIGBleHBvcnRzYCBtdXN0IGJlIGEgcHJvcGVydHkgb2YgdGhlIHRhcmdldCBvYmplY3QgT1IgYSBwcm9wZXJ0eVxuICAgICBvZiBgdGFyZ2V0Lmluc3RhbmNlYCAoYSBXZWJBc3NlbWJseS5Nb2R1bGUgaW5zdGFuY2UpIGFuZCBpdCBtdXN0XG4gICAgIGNvbnRhaW4gdGhlIHN5bWJvbHMgZXhwb3J0ZWQgYnkgdGhlIFdBU00gbW9kdWxlIGFzc29jaWF0ZWQgd2l0aFxuICAgICB0aGlzIGNvZGUuIEluIGFuIEVuc2NyaXB0ZW4gZW52aXJvbm1lbnQgaXQgbXVzdCBiZSBzZXQgdG9cbiAgICAgYE1vZHVsZVsnYXNtJ11gLiBUaGUgZXhwb3J0cyBvYmplY3QgbXVzdCBjb250YWluIGEgbWluaW11bSBvZiB0aGVcbiAgICAgZm9sbG93aW5nIHN5bWJvbHM6XG5cbiAgICAgLSBgbWVtb3J5YDogYSBXZWJBc3NlbWJseS5NZW1vcnkgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgV0FTTVxuICAgICAgIG1lbW9yeS4gX0FsdGVybmF0ZWx5XywgdGhlIGBtZW1vcnlgIHByb3BlcnR5IGNhbiBiZSBzZXQgYXNcbiAgICAgICBgdGFyZ2V0Lm1lbW9yeWAsIGluIHBhcnRpY3VsYXIgaWYgdGhlIFdBU00gaGVhcCBtZW1vcnkgaXNcbiAgICAgICBpbml0aWFsaXplZCBpbiBKUyBhbiBfaW1wb3J0ZWRfIGludG8gV0FTTSwgYXMgb3Bwb3NlZCB0byBiZWluZ1xuICAgICAgIGluaXRpYWxpemVkIGluIFdBU00gYW5kIGV4cG9ydGVkIHRvIEpTLlxuXG4gICAgIC0gYF9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGVgOiB0aGUgV2ViQXNzZW1ibHkuVGFibGUgb2JqZWN0IHdoaWNoXG4gICAgICAgaG9sZHMgV0FTTS1leHBvcnRlZCBmdW5jdGlvbnMuIFRoaXMgQVBJIGRvZXMgbm90IHN0cmljdGx5XG4gICAgICAgcmVxdWlyZSB0aGF0IHRoZSB0YWJsZSBiZSBhYmxlIHRvIGdyb3cgYnV0IGl0IHdpbGwgdGhyb3cgaWYgaXRzXG4gICAgICAgYGluc3RhbGxGdW5jdGlvbigpYCBpcyBjYWxsZWQgYW5kIHRoZSB0YWJsZSBjYW5ub3QgZ3Jvdy5cblxuICAgSW4gb3JkZXIgdG8gc2ltcGxpZnkgZG93bnN0cmVhbSB1c2FnZSwgaWYgYHRhcmdldC5leHBvcnRzYCBpcyBub3RcbiAgIHNldCB3aGVuIHRoaXMgaXMgY2FsbGVkIHRoZW4gYSBwcm9wZXJ0eSBhY2Nlc3MgaW50ZXJjZXB0b3JcbiAgIChyZWFkLW9ubHksIGNvbmZpZ3VyYWJsZSwgZW51bWVyYWJsZSkgZ2V0cyBpbnN0YWxsZWQgYXMgYGV4cG9ydHNgXG4gICB3aGljaCByZXNvbHZlcyB0byBgdGFyZ2V0Lmluc3RhbmNlLmV4cG9ydHNgLCBub3RpbmcgdGhhdCB0aGUgbGF0dGVyXG4gICBwcm9wZXJ0eSBuZWVkIG5vdCBleGlzdCB1bnRpbCB0aGUgZmlyc3QgdGltZSBgdGFyZ2V0LmV4cG9ydHNgIGlzXG4gICBhY2Nlc3NlZC5cblxuICAgU29tZSBBUElzIF9vcHRpb25hbGx5XyBtYWtlIHVzZSBvZiB0aGUgYGJpZ0ludEVuYWJsZWRgIHByb3BlcnR5IG9mXG4gICB0aGUgdGFyZ2V0IG9iamVjdC4gSXQgXCJzaG91bGRcIiBiZSBzZXQgdG8gdHJ1ZSBpZiB0aGUgV0FTTVxuICAgZW52aXJvbm1lbnQgaXMgY29tcGlsZWQgd2l0aCBCaWdJbnQgc3VwcG9ydCwgZWxzZSBpdCBtdXN0IGJlXG4gICBmYWxzZS4gSWYgaXQgaXMgZmFsc2UsIGNlcnRhaW4gQmlnSW50LXJlbGF0ZWQgZmVhdHVyZXMgd2lsbCB0cmlnZ2VyXG4gICBhbiBleGNlcHRpb24gaWYgaW52b2tlZC4gVGhpcyBwcm9wZXJ0eSwgaWYgbm90IHNldCB3aGVuIHRoaXMgaXNcbiAgIGNhbGxlZCwgd2lsbCBnZXQgYSBkZWZhdWx0IHZhbHVlIG9mIHRydWUgb25seSBpZiB0aGUgQmlnSW50NjRBcnJheVxuICAgY29uc3RydWN0b3IgaXMgYXZhaWxhYmxlLCBlbHNlIGl0IHdpbGwgZGVmYXVsdCB0byBmYWxzZS4gTm90ZSB0aGF0XG4gICBoYXZpbmcgdGhlIEJpZ0ludCB0eXBlIGlzIG5vdCBzdWZmaWNpZW50IGZvciBmdWxsIGludDY0IGludGVncmF0aW9uXG4gICB3aXRoIFdBU006IHRoZSB0YXJnZXQgV0FTTSBmaWxlIG11c3QgYWxzbyBoYXZlIGJlZW4gYnVpbHQgd2l0aFxuICAgdGhhdCBzdXBwb3J0LiBJbiBFbXNjcmlwdGVuIHRoYXQncyBkb25lIHVzaW5nIHRoZSBgLXNXQVNNX0JJR0lOVGBcbiAgIGZsYWcuXG5cbiAgIFNvbWUgb3B0aW9uYWwgQVBJcyByZXF1aXJlIHRoYXQgdGhlIHRhcmdldCBoYXZlIHRoZSBmb2xsb3dpbmdcbiAgIG1ldGhvZHM6XG5cbiAgIC0gJ2FsbG9jKClgIG11c3QgYmVoYXZlIGxpa2UgQydzIGBtYWxsb2MoKWAsIGFsbG9jYXRpbmcgTiBieXRlcyBvZlxuICAgICBtZW1vcnkgYW5kIHJldHVybmluZyBpdHMgcG9pbnRlci4gSW4gRW1zY3JpcHRlbiB0aGlzIGlzXG4gICAgIGNvbnZlbnRpb25hbGx5IG1hZGUgYXZhaWxhYmxlIHZpYSBgTW9kdWxlWydfbWFsbG9jJ11gLiBUaGlzIEFQSVxuICAgICByZXF1aXJlcyB0aGF0IHRoZSBhbGxvYyByb3V0aW5lIHRocm93IG9uIGFsbG9jYXRpb24gZXJyb3IsIGFzXG4gICAgIG9wcG9zZWQgdG8gcmV0dXJuaW5nIG51bGwgb3IgMC5cblxuICAgLSAnZGVhbGxvYygpYCBtdXN0IGJlaGF2ZSBsaWtlIEMncyBgZnJlZSgpYCwgYWNjZXB0aW5nIGVpdGhlciBhXG4gICAgIHBvaW50ZXIgcmV0dXJuZWQgZnJvbSBpdHMgYWxsb2NhdGlvbiBjb3VudGVycGFydCBvciB0aGUgdmFsdWVzXG4gICAgIG51bGwvMCAoZm9yIHdoaWNoIGl0IG11c3QgYmUgYSBuby1vcCkuIGFsbG9jYXRpbmcgTiBieXRlcyBvZlxuICAgICBtZW1vcnkgYW5kIHJldHVybmluZyBpdHMgcG9pbnRlci4gSW4gRW1zY3JpcHRlbiB0aGlzIGlzXG4gICAgIGNvbnZlbnRpb25hbGx5IG1hZGUgYXZhaWxhYmxlIHZpYSBgTW9kdWxlWydfZnJlZSddYC5cblxuICAgQVBJcyB3aGljaCByZXF1aXJlIGFsbG9jYXRpb24gcm91dGluZXMgYXJlIGV4cGxpY2l0bHkgZG9jdW1lbnRlZCBhc1xuICAgc3VjaCBhbmQvb3IgaGF2ZSBcImFsbG9jXCIgaW4gdGhlaXIgbmFtZXMuXG5cbiAgIFRoaXMgY29kZSBpcyBkZXZlbG9wZWQgYW5kIG1haW50YWluZWQgaW4gY29uanVuY3Rpb24gd2l0aCB0aGVcbiAgIEphY2N3YWJ5dCBwcm9qZWN0OlxuXG4gICBodHRwczovL2Zvc3NpbC53YW5kZXJpbmdob3JzZS5uZXQvci9qYWNjd2FiYnl0XG5cbiAgIE1vcmUgc3BlY2lmaWNhbGx5OlxuXG4gICBodHRwczovL2Zvc3NpbC53YW5kZXJpbmdob3JzZS5uZXQvci9qYWNjd2FiYnl0L2ZpbGUvY29tbW9uL3dod2FzbXV0aWwuanNcbiovXG5nbG9iYWxUaGlzLldoV2FzbVV0aWxJbnN0YWxsZXIgPSBmdW5jdGlvbih0YXJnZXQpe1xuICAndXNlIHN0cmljdCc7XG4gIGlmKHVuZGVmaW5lZD09PXRhcmdldC5iaWdJbnRFbmFibGVkKXtcbiAgICB0YXJnZXQuYmlnSW50RW5hYmxlZCA9ICEhc2VsZlsnQmlnSW50NjRBcnJheSddO1xuICB9XG5cbiAgLyoqIFRocm93cyBhIG5ldyBFcnJvciwgdGhlIG1lc3NhZ2Ugb2Ygd2hpY2ggaXMgdGhlIGNvbmNhdGVuYXRpb24gb2ZcbiAgICAgIGFsbCBhcmdzIHdpdGggYSBzcGFjZSBiZXR3ZWVuIGVhY2guICovXG4gIGNvbnN0IHRvc3MgPSAoLi4uYXJncyk9Pnt0aHJvdyBuZXcgRXJyb3IoYXJncy5qb2luKCcgJykpfTtcblxuICBpZighdGFyZ2V0LmV4cG9ydHMpe1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsICdleHBvcnRzJywge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiAoKT0+KHRhcmdldC5pbnN0YW5jZSAmJiB0YXJnZXQuaW5zdGFuY2UuZXhwb3J0cylcbiAgICB9KTtcbiAgfVxuXG4gIC8qKioqKioqKipcbiAgICBhbGxvYygpL2RlYWxsb2MoKSBhdXRvLWluc3RhbGwuLi5cblxuICAgIFRoaXMgd291bGQgYmUgY29udmVuaWVudCBidXQgaXQgY2FuIGFsc28gY2F1c2UgdXMgdG8gcGljayB1cFxuICAgIG1hbGxvYygpIGV2ZW4gd2hlbiB0aGUgY2xpZW50IGNvZGUgaXMgdXNpbmcgYSBkaWZmZXJlbnQgZXhwb3J0ZWRcbiAgICBhbGxvY2F0b3IgKHdobywgbWU/KSwgd2hpY2ggaXMgYmFkLiBtYWxsb2MoKSBtYXkgYmUgZXhwb3J0ZWQgZXZlblxuICAgIGlmIHdlJ3JlIG5vdCBleHBsaWNpdGx5IHVzaW5nIGl0IGFuZCBvdmVycmlkaW5nIHRoZSBtYWxsb2MoKVxuICAgIGZ1bmN0aW9uLCBsaW5raW5nIG91cnMgZmlyc3QsIGlzIG5vdCBhbHdheXMgZmVhc2libGUgd2hlbiB1c2luZyBhXG4gICAgbWFsbG9jKCkgcHJveHksIGFzIGl0IGNhbiBsZWFkIHRvIHJlY3Vyc2lvbiBhbmQgc3RhY2sgb3ZlcmZsb3dcbiAgICAod2hvLCBtZT8pLiBTby4uLiB3ZSByZWFsbHkgbmVlZCB0aGUgZG93bnN0cmVhbSBjb2RlIHRvIHNldCB1cFxuICAgIHRhcmdldC5hbGxvYy9kZWFsbG9jKCkgaXRzZWxmLlxuICAqKioqKiovXG4gIC8qKioqKipcbiAgaWYodGFyZ2V0LmV4cG9ydHMpe1xuICAgIC8vTWF5YmUgYXV0by1pbnN0YWxsIGFsbG9jKCkvZGVhbGxvYygpLi4uXG4gICAgaWYoIXRhcmdldC5hbGxvYyAmJiB0YXJnZXQuZXhwb3J0cy5tYWxsb2Mpe1xuICAgICAgdGFyZ2V0LmFsbG9jID0gZnVuY3Rpb24obil7XG4gICAgICAgIGNvbnN0IG0gPSB0aGlzKG4pO1xuICAgICAgICByZXR1cm4gbSB8fCB0b3NzKFwiQWxsb2NhdGlvbiBvZlwiLG4sXCJieXRlKHMpIGZhaWxlZC5cIik7XG4gICAgICB9LmJpbmQodGFyZ2V0LmV4cG9ydHMubWFsbG9jKTtcbiAgICB9XG5cbiAgICBpZighdGFyZ2V0LmRlYWxsb2MgJiYgdGFyZ2V0LmV4cG9ydHMuZnJlZSl7XG4gICAgICB0YXJnZXQuZGVhbGxvYyA9IGZ1bmN0aW9uKHB0cil7XG4gICAgICAgIGlmKHB0cikgdGhpcyhwdHIpO1xuICAgICAgfS5iaW5kKHRhcmdldC5leHBvcnRzLmZyZWUpO1xuICAgIH1cbiAgfSoqKioqKiovXG5cbiAgLyoqXG4gICAgIFBvaW50ZXJzIGluIFdBU00gYXJlIGN1cnJlbnRseSBhc3N1bWVkIHRvIGJlIDMyLWJpdCwgYnV0IHNvbWVkYXlcbiAgICAgdGhhdCB3aWxsIGNlcnRhaW5seSBjaGFuZ2UuXG4gICovXG4gIGNvbnN0IHB0cklSID0gdGFyZ2V0LnBvaW50ZXJJUiB8fCAnaTMyJztcbiAgY29uc3QgcHRyU2l6ZW9mID0gdGFyZ2V0LnB0clNpemVvZiA9XG4gICAgICAgICgnaTMyJz09PXB0cklSID8gNFxuICAgICAgICAgOiAoJ2k2NCc9PT1wdHJJUlxuICAgICAgICAgICAgPyA4IDogdG9zcyhcIlVuaGFuZGxlZCBwdHJTaXplb2Y6XCIscHRySVIpKSk7XG4gIC8qKiBTdG9yZXMgdmFyaW91cyBjYWNoZWQgc3RhdGUuICovXG4gIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgLyoqIFByZXZpb3VzbHktcmVjb3JkZWQgc2l6ZSBvZiBjYWNoZS5tZW1vcnkuYnVmZmVyLCBub3RlZCBzbyB0aGF0XG4gICAgICB3ZSBjYW4gcmVjcmVhdGUgdGhlIHZpZXcgb2JqZWN0cyBpZiB0aGUgaGVhcCBncm93cy4gKi9cbiAgY2FjaGUuaGVhcFNpemUgPSAwO1xuICAvKiogV2ViQXNzZW1ibHkuTWVtb3J5IG9iamVjdCBleHRyYWN0ZWQgZnJvbSB0YXJnZXQubWVtb3J5IG9yXG4gICAgICB0YXJnZXQuZXhwb3J0cy5tZW1vcnkgdGhlIGZpcnN0IHRpbWUgaGVhcFdyYXBwZXJzKCkgaXNcbiAgICAgIGNhbGxlZC4gKi9cbiAgY2FjaGUubWVtb3J5ID0gbnVsbDtcbiAgLyoqIHVuaW5zdGFsbEZ1bmN0aW9uKCkgcHV0cyB0YWJsZSBpbmRleGVzIGluIGhlcmUgZm9yIHJldXNlIGFuZFxuICAgICAgaW5zdGFsbEZ1bmN0aW9uKCkgZXh0cmFjdHMgdGhlbS4gKi9cbiAgY2FjaGUuZnJlZUZ1bmNJbmRleGVzID0gW107XG4gIC8qKlxuICAgICBVc2VkIGJ5IHNjb3BlZEFsbG9jKCkgYW5kIGZyaWVuZHMuXG4gICovXG4gIGNhY2hlLnNjb3BlZEFsbG9jID0gW107XG5cbiAgY2FjaGUudXRmOERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgY2FjaGUudXRmOEVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoJ3V0Zi04Jyk7XG5cbiAgLyoqXG4gICAgIEZvciB0aGUgZ2l2ZW4gSVItbGlrZSBzdHJpbmcgaW4gdGhlIHNldCAoJ2k4JywgJ2kxNicsICdpMzInLFxuICAgICAnZjMyJywgJ2Zsb2F0JywgJ2k2NCcsICdmNjQnLCAnZG91YmxlJywgJyonKSwgb3IgYW55IHN0cmluZyB2YWx1ZVxuICAgICBlbmRpbmcgaW4gJyonLCByZXR1cm5zIHRoZSBzaXplb2YgZm9yIHRoYXQgdmFsdWVcbiAgICAgKHRhcmdldC5wdHJTaXplb2YgaW4gdGhlIGxhdHRlciBjYXNlKS4gRm9yIGFueSBvdGhlciB2YWx1ZSwgaXRcbiAgICAgcmV0dXJucyB0aGUgdW5kZWZpbmVkIHZhbHVlLlxuICAqL1xuICB0YXJnZXQuc2l6ZW9mSVIgPSAobik9PntcbiAgICBzd2l0Y2gobil7XG4gICAgICAgIGNhc2UgJ2k4JzogcmV0dXJuIDE7XG4gICAgICAgIGNhc2UgJ2kxNic6IHJldHVybiAyO1xuICAgICAgICBjYXNlICdpMzInOiBjYXNlICdmMzInOiBjYXNlICdmbG9hdCc6IHJldHVybiA0O1xuICAgICAgICBjYXNlICdpNjQnOiBjYXNlICdmNjQnOiBjYXNlICdkb3VibGUnOiByZXR1cm4gODtcbiAgICAgICAgY2FzZSAnKic6IHJldHVybiBwdHJTaXplb2Y7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICgnJytuKS5lbmRzV2l0aCgnKicpID8gcHRyU2l6ZW9mIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICAgSWYgKGNhY2hlLmhlYXBTaXplICE9PSBjYWNoZS5tZW1vcnkuYnVmZmVyLmJ5dGVMZW5ndGgpLCBpLmUuIGlmXG4gICAgIHRoZSBoZWFwIGhhcyBncm93biBzaW5jZSB0aGUgbGFzdCBjYWxsLCB1cGRhdGVzIGNhY2hlLkhFQVB4eXouXG4gICAgIFJldHVybnMgdGhlIGNhY2hlIG9iamVjdC5cbiAgKi9cbiAgY29uc3QgaGVhcFdyYXBwZXJzID0gZnVuY3Rpb24oKXtcbiAgICBpZighY2FjaGUubWVtb3J5KXtcbiAgICAgIGNhY2hlLm1lbW9yeSA9ICh0YXJnZXQubWVtb3J5IGluc3RhbmNlb2YgV2ViQXNzZW1ibHkuTWVtb3J5KVxuICAgICAgICA/IHRhcmdldC5tZW1vcnkgOiB0YXJnZXQuZXhwb3J0cy5tZW1vcnk7XG4gICAgfWVsc2UgaWYoY2FjaGUuaGVhcFNpemUgPT09IGNhY2hlLm1lbW9yeS5idWZmZXIuYnl0ZUxlbmd0aCl7XG4gICAgICByZXR1cm4gY2FjaGU7XG4gICAgfVxuICAgIC8vIGhlYXAgaXMgbmV3bHktYWNxdWlyZWQgb3IgaGFzIGJlZW4gcmVzaXplZC4uLi5cbiAgICBjb25zdCBiID0gY2FjaGUubWVtb3J5LmJ1ZmZlcjtcbiAgICBjYWNoZS5IRUFQOCA9IG5ldyBJbnQ4QXJyYXkoYik7IGNhY2hlLkhFQVA4VSA9IG5ldyBVaW50OEFycmF5KGIpO1xuICAgIGNhY2hlLkhFQVAxNiA9IG5ldyBJbnQxNkFycmF5KGIpOyBjYWNoZS5IRUFQMTZVID0gbmV3IFVpbnQxNkFycmF5KGIpO1xuICAgIGNhY2hlLkhFQVAzMiA9IG5ldyBJbnQzMkFycmF5KGIpOyBjYWNoZS5IRUFQMzJVID0gbmV3IFVpbnQzMkFycmF5KGIpO1xuICAgIGlmKHRhcmdldC5iaWdJbnRFbmFibGVkKXtcbiAgICAgIGNhY2hlLkhFQVA2NCA9IG5ldyBCaWdJbnQ2NEFycmF5KGIpOyBjYWNoZS5IRUFQNjRVID0gbmV3IEJpZ1VpbnQ2NEFycmF5KGIpO1xuICAgIH1cbiAgICBjYWNoZS5IRUFQMzJGID0gbmV3IEZsb2F0MzJBcnJheShiKTsgY2FjaGUuSEVBUDY0RiA9IG5ldyBGbG9hdDY0QXJyYXkoYik7XG4gICAgY2FjaGUuaGVhcFNpemUgPSBiLmJ5dGVMZW5ndGg7XG4gICAgcmV0dXJuIGNhY2hlO1xuICB9O1xuXG4gIC8qKiBDb252ZW5pZW5jZSBlcXVpdmFsZW50IG9mIHRoaXMuaGVhcEZvclNpemUoOCxmYWxzZSkuICovXG4gIHRhcmdldC5oZWFwOCA9ICgpPT5oZWFwV3JhcHBlcnMoKS5IRUFQODtcblxuICAvKiogQ29udmVuaWVuY2UgZXF1aXZhbGVudCBvZiB0aGlzLmhlYXBGb3JTaXplKDgsdHJ1ZSkuICovXG4gIHRhcmdldC5oZWFwOHUgPSAoKT0+aGVhcFdyYXBwZXJzKCkuSEVBUDhVO1xuXG4gIC8qKiBDb252ZW5pZW5jZSBlcXVpdmFsZW50IG9mIHRoaXMuaGVhcEZvclNpemUoMTYsZmFsc2UpLiAqL1xuICB0YXJnZXQuaGVhcDE2ID0gKCk9PmhlYXBXcmFwcGVycygpLkhFQVAxNjtcblxuICAvKiogQ29udmVuaWVuY2UgZXF1aXZhbGVudCBvZiB0aGlzLmhlYXBGb3JTaXplKDE2LHRydWUpLiAqL1xuICB0YXJnZXQuaGVhcDE2dSA9ICgpPT5oZWFwV3JhcHBlcnMoKS5IRUFQMTZVO1xuXG4gIC8qKiBDb252ZW5pZW5jZSBlcXVpdmFsZW50IG9mIHRoaXMuaGVhcEZvclNpemUoMzIsZmFsc2UpLiAqL1xuICB0YXJnZXQuaGVhcDMyID0gKCk9PmhlYXBXcmFwcGVycygpLkhFQVAzMjtcblxuICAvKiogQ29udmVuaWVuY2UgZXF1aXZhbGVudCBvZiB0aGlzLmhlYXBGb3JTaXplKDMyLHRydWUpLiAqL1xuICB0YXJnZXQuaGVhcDMydSA9ICgpPT5oZWFwV3JhcHBlcnMoKS5IRUFQMzJVO1xuXG4gIC8qKlxuICAgICBSZXF1aXJlcyBuIHRvIGJlIG9uZSBvZjpcblxuICAgICAtIGludGVnZXIgOCwgMTYsIG9yIDMyLlxuICAgICAtIEEgaW50ZWdlci10eXBlIFR5cGVkQXJyYXkgY29uc3RydWN0b3I6IEludDhBcnJheSwgSW50MTZBcnJheSxcbiAgICAgSW50MzJBcnJheSwgb3IgdGhlaXIgVWludCBjb3VudGVycGFydHMuXG5cbiAgICAgSWYgdGhpcy5iaWdJbnRFbmFibGVkIGlzIHRydWUsIGl0IGFsc28gYWNjZXB0cyB0aGUgdmFsdWUgNjQgb3IgYVxuICAgICBCaWdJbnQ2NEFycmF5L0JpZ1VpbnQ2NEFycmF5LCBlbHNlIGl0IHRocm93cyBpZiBwYXNzZWQgNjQgb3Igb25lXG4gICAgIG9mIHRob3NlIGNvbnN0cnVjdG9ycy5cblxuICAgICBSZXR1cm5zIGFuIGludGVnZXItYmFzZWQgVHlwZWRBcnJheSB2aWV3IG9mIHRoZSBXQVNNIGhlYXBcbiAgICAgbWVtb3J5IGJ1ZmZlciBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIGJsb2NrIHNpemUuIElmIHBhc3NlZFxuICAgICBhbiBpbnRlZ2VyIGFzIHRoZSBmaXJzdCBhcmd1bWVudCBhbmQgdW5zaWduZWQgaXMgdHJ1dGh5IHRoZW5cbiAgICAgdGhlIFwiVVwiICh1bnNpZ25lZCkgdmFyaWFudCBvZiB0aGF0IHZpZXcgaXMgcmV0dXJuZWQsIGVsc2UgdGhlXG4gICAgIHNpZ25lZCB2YXJpYW50IGlzIHJldHVybmVkLiBJZiBwYXNzZWQgYSBUeXBlZEFycmF5IHZhbHVlLCB0aGVcbiAgICAgMm5kIGFyZ3VtZW50IGlzIGlnbm9yZWQuIE5vdGUgdGhhdCBGbG9hdDMyQXJyYXkgYW5kXG4gICAgIEZsb2F0NjRBcnJheSB2aWV3cyBhcmUgbm90IHN1cHBvcnRlZCBieSB0aGlzIGZ1bmN0aW9uLlxuXG4gICAgIE5vdGUgdGhhdCBncm93dGggb2YgdGhlIGhlYXAgd2lsbCBpbnZhbGlkYXRlIGFueSByZWZlcmVuY2VzIHRvXG4gICAgIHRoaXMgaGVhcCwgc28gZG8gbm90IGhvbGQgYSByZWZlcmVuY2UgbG9uZ2VyIHRoYW4gbmVlZGVkIGFuZCBkb1xuICAgICBub3QgdXNlIGEgcmVmZXJlbmNlIGFmdGVyIGFueSBvcGVyYXRpb24gd2hpY2ggbWF5XG4gICAgIGFsbG9jYXRlLiBJbnN0ZWFkLCByZS1mZXRjaCB0aGUgcmVmZXJlbmNlIGJ5IGNhbGxpbmcgdGhpc1xuICAgICBmdW5jdGlvbiBhZ2Fpbi5cblxuICAgICBUaHJvd3MgaWYgcGFzc2VkIGFuIGludmFsaWQgbi5cblxuICAgICBQZWRhbnRpYyBzaWRlIG5vdGU6IHRoZSBuYW1lIFwiaGVhcFwiIGlzIGEgYml0IG9mIGEgbWlzbm9tZXIuIEluIGFcbiAgICAgV0FTTSBlbnZpcm9ubWVudCwgdGhlIHN0YWNrIGFuZCBoZWFwIG1lbW9yeSBhcmUgYWxsIGFjY2Vzc2VkIHZpYVxuICAgICB0aGUgc2FtZSB2aWV3KHMpIG9mIHRoZSBtZW1vcnkuXG4gICovXG4gIHRhcmdldC5oZWFwRm9yU2l6ZSA9IGZ1bmN0aW9uKG4sdW5zaWduZWQgPSB0cnVlKXtcbiAgICBsZXQgY3RvcjtcbiAgICBjb25zdCBjID0gKGNhY2hlLm1lbW9yeSAmJiBjYWNoZS5oZWFwU2l6ZSA9PT0gY2FjaGUubWVtb3J5LmJ1ZmZlci5ieXRlTGVuZ3RoKVxuICAgICAgICAgID8gY2FjaGUgOiBoZWFwV3JhcHBlcnMoKTtcbiAgICBzd2l0Y2gobil7XG4gICAgICAgIGNhc2UgSW50OEFycmF5OiByZXR1cm4gYy5IRUFQODsgY2FzZSBVaW50OEFycmF5OiByZXR1cm4gYy5IRUFQOFU7XG4gICAgICAgIGNhc2UgSW50MTZBcnJheTogcmV0dXJuIGMuSEVBUDE2OyBjYXNlIFVpbnQxNkFycmF5OiByZXR1cm4gYy5IRUFQMTZVO1xuICAgICAgICBjYXNlIEludDMyQXJyYXk6IHJldHVybiBjLkhFQVAzMjsgY2FzZSBVaW50MzJBcnJheTogcmV0dXJuIGMuSEVBUDMyVTtcbiAgICAgICAgY2FzZSA4OiAgcmV0dXJuIHVuc2lnbmVkID8gYy5IRUFQOFUgOiBjLkhFQVA4O1xuICAgICAgICBjYXNlIDE2OiByZXR1cm4gdW5zaWduZWQgPyBjLkhFQVAxNlUgOiBjLkhFQVAxNjtcbiAgICAgICAgY2FzZSAzMjogcmV0dXJuIHVuc2lnbmVkID8gYy5IRUFQMzJVIDogYy5IRUFQMzI7XG4gICAgICAgIGNhc2UgNjQ6XG4gICAgICAgICAgaWYoYy5IRUFQNjQpIHJldHVybiB1bnNpZ25lZCA/IGMuSEVBUDY0VSA6IGMuSEVBUDY0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmKHRhcmdldC5iaWdJbnRFbmFibGVkKXtcbiAgICAgICAgICAgIGlmKG49PT1zZWxmWydCaWdVaW50NjRBcnJheSddKSByZXR1cm4gYy5IRUFQNjRVO1xuICAgICAgICAgICAgZWxzZSBpZihuPT09c2VsZlsnQmlnSW50NjRBcnJheSddKSByZXR1cm4gYy5IRUFQNjQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgfVxuICAgIHRvc3MoXCJJbnZhbGlkIGhlYXBGb3JTaXplKCkgc2l6ZTogZXhwZWN0aW5nIDgsIDE2LCAzMixcIixcbiAgICAgICAgIFwib3IgKGlmIEJpZ0ludCBpcyBlbmFibGVkKSA2NC5cIik7XG4gIH07XG5cbiAgLyoqXG4gICAgIFJldHVybnMgdGhlIFdBU00tZXhwb3J0ZWQgXCJpbmRpcmVjdCBmdW5jdGlvbiB0YWJsZS5cIlxuICAqL1xuICB0YXJnZXQuZnVuY3Rpb25UYWJsZSA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRhcmdldC5leHBvcnRzLl9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGU7XG4gICAgLyoqIC0tLS0tLS0tLS0tLS0tLS0tXl5eXl4gXCJzZWVtc1wiIHRvIGJlIGEgc3RhbmRhcmRpemVkIGV4cG9ydCBuYW1lLlxuICAgICAgICBGcm9tIEVtc2NyaXB0ZW4gcmVsZWFzZSBub3RlcyBmcm9tIDIwMjAtMDktMTA6XG4gICAgICAgIC0gVXNlIGBfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlYCBhcyB0aGUgaW1wb3J0IG5hbWUgZm9yIHRoZVxuICAgICAgICB0YWJsZSwgd2hpY2ggaXMgd2hhdCBMTFZNIGRvZXMuXG4gICAgKi9cbiAgfTtcblxuICAvKipcbiAgICAgR2l2ZW4gYSBmdW5jdGlvbiBwb2ludGVyLCByZXR1cm5zIHRoZSBXQVNNIGZ1bmN0aW9uIHRhYmxlIGVudHJ5XG4gICAgIGlmIGZvdW5kLCBlbHNlIHJldHVybnMgYSBmYWxzeSB2YWx1ZTogdW5kZWZpbmVkIGlmIGZwdHIgaXMgb3V0IG9mXG4gICAgIHJhbmdlIG9yIG51bGwgaWYgaXQncyBpbiByYW5nZSBidXQgdGhlIHRhYmxlIGVudHJ5IGlzIGVtcHR5LlxuICAqL1xuICB0YXJnZXQuZnVuY3Rpb25FbnRyeSA9IGZ1bmN0aW9uKGZwdHIpe1xuICAgIGNvbnN0IGZ0ID0gdGFyZ2V0LmZ1bmN0aW9uVGFibGUoKTtcbiAgICByZXR1cm4gZnB0ciA8IGZ0Lmxlbmd0aCA/IGZ0LmdldChmcHRyKSA6IHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICAgQ3JlYXRlcyBhIFdBU00gZnVuY3Rpb24gd2hpY2ggd3JhcHMgdGhlIGdpdmVuIEpTIGZ1bmN0aW9uIGFuZFxuICAgICByZXR1cm5zIHRoZSBKUyBiaW5kaW5nIG9mIHRoYXQgV0FTTSBmdW5jdGlvbi4gVGhlIHNpZ25hdHVyZVxuICAgICBzdHJpbmcgbXVzdCBiZSB0aGUgSmFjY3dhYnl0LWZvcm1hdCBvciBFbXNjcmlwdGVuXG4gICAgIGFkZEZ1bmN0aW9uKCktZm9ybWF0IGZ1bmN0aW9uIHNpZ25hdHVyZSBzdHJpbmcuIEluIHNob3J0OiBpbiBtYXlcbiAgICAgaGF2ZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBmb3JtYXRzOlxuXG4gICAgIC0gRW1zY3JpcHRlbjogYFwieC4uLlwiYCwgd2hlcmUgdGhlIGZpcnN0IHggaXMgYSBsZXR0ZXIgcmVwcmVzZW50aW5nXG4gICAgICAgdGhlIHJlc3VsdCB0eXBlIGFuZCBzdWJzZXF1ZW50IGxldHRlcnMgcmVwcmVzZW50IHRoZSBhcmd1bWVudFxuICAgICAgIHR5cGVzLiBGdW5jdGlvbnMgd2l0aCBubyBhcmd1bWVudHMgaGF2ZSBvbmx5IGEgc2luZ2xlXG4gICAgICAgbGV0dGVyLiBTZWUgYmVsb3cuXG5cbiAgICAgLSBKYWNjd2FieXQ6IGBcIngoLi4uKVwiYCB3aGVyZSBgeGAgaXMgdGhlIGxldHRlciByZXByZXNlbnRpbmcgdGhlXG4gICAgICAgcmVzdWx0IHR5cGUgYW5kIGxldHRlcnMgaW4gdGhlIHBhcmVucyAoaWYgYW55KSByZXByZXNlbnQgdGhlXG4gICAgICAgYXJndW1lbnQgdHlwZXMuIEZ1bmN0aW9ucyB3aXRoIG5vIGFyZ3VtZW50cyB1c2UgYHgoKWAuIFNlZVxuICAgICAgIGJlbG93LlxuXG4gICAgIFN1cHBvcnRlZCBsZXR0ZXJzOlxuXG4gICAgIC0gYGlgID0gaW50MzJcbiAgICAgLSBgcGAgPSBpbnQzMiAoXCJwb2ludGVyXCIpXG4gICAgIC0gYGpgID0gaW50NjRcbiAgICAgLSBgZmAgPSBmbG9hdDMyXG4gICAgIC0gYGRgID0gZmxvYXQ2NFxuICAgICAtIGB2YCA9IHZvaWQsIG9ubHkgbGVnYWwgZm9yIHVzZSBhcyB0aGUgcmVzdWx0IHR5cGVcblxuICAgICBJdCB0aHJvd3MgaWYgYW4gaW52YWxpZCBzaWduYXR1cmUgbGV0dGVyIGlzIHVzZWQuXG5cbiAgICAgSmFjY3dhYnl0LWZvcm1hdCBzaWduYXR1cmVzIHN1cHBvcnQgc29tZSBhZGRpdGlvbmFsIGxldHRlcnMgd2hpY2hcbiAgICAgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmcgaGVyZSBidXQgKGluIHRoaXMgY29udGV4dCkgYWN0IGFzIGFsaWFzZXNcbiAgICAgZm9yIG90aGVyIGxldHRlcnM6XG5cbiAgICAgLSBgc2AsIGBQYDogc2FtZSBhcyBgcGBcblxuICAgICBTaWRlYmFyOiB0aGlzIGNvZGUgaXMgZGV2ZWxvcGVkIHRvZ2V0aGVyIHdpdGggSmFjY3dhYnl0LCB0aHVzIHRoZVxuICAgICBzdXBwb3J0IGZvciBpdHMgc2lnbmF0dXJlIGZvcm1hdC5cblxuICAgICBUaGUgYXJndW1lbnRzIG1heSBiZSBzdXBwbGllZCBpbiBlaXRoZXIgb3JkZXI6IChmdW5jLHNpZykgb3JcbiAgICAgKHNpZyxmdW5jKS5cbiAgKi9cbiAgdGFyZ2V0LmpzRnVuY1RvV2FzbSA9IGZ1bmN0aW9uIGYoZnVuYywgc2lnKXtcbiAgICAvKiogQXR0cmlidXRpb246IGFkYXB0ZWQgdXAgZnJvbSBFbXNjcmlwdGVuLWdlbmVyYXRlZCBnbHVlIGNvZGUsXG4gICAgICAgIHJlZmFjdG9yZWQgcHJpbWFyaWx5IGZvciBlZmZpY2llbmN5J3Mgc2FrZSwgZWxpbWluYXRpbmdcbiAgICAgICAgY2FsbC1sb2NhbCBmdW5jdGlvbnMgYW5kIHN1cGVyZmx1b3VzIHRlbXBvcmFyeSBhcnJheXMuICovXG4gICAgaWYoIWYuXyl7LypzdGF0aWMgaW5pdC4uLiovXG4gICAgICBmLl8gPSB7XG4gICAgICAgIC8vIE1hcCBvZiBzaWduYXR1cmUgbGV0dGVycyB0byB0eXBlIElSIHZhbHVlc1xuICAgICAgICBzaWdUeXBlczogT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLHtcbiAgICAgICAgICBpOiAnaTMyJywgcDogJ2kzMicsIFA6ICdpMzInLCBzOiAnaTMyJyxcbiAgICAgICAgICBqOiAnaTY0JywgZjogJ2YzMicsIGQ6ICdmNjQnXG4gICAgICAgIH0pLFxuICAgICAgICAvLyBNYXAgb2YgdHlwZSBJUiB2YWx1ZXMgdG8gV0FTTSB0eXBlIGNvZGUgdmFsdWVzXG4gICAgICAgIHR5cGVDb2RlczogT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLHtcbiAgICAgICAgICBmNjQ6IDB4N2MsIGYzMjogMHg3ZCwgaTY0OiAweDdlLCBpMzI6IDB4N2ZcbiAgICAgICAgfSksXG4gICAgICAgIC8qKiBFbmNvZGVzIG4sIHdoaWNoIG11c3QgYmUgPDJeMTQgKDE2Mzg0KSwgaW50byB0YXJnZXQgYXJyYXlcbiAgICAgICAgICAgIHRndCwgYXMgYSBsaXR0bGUtZW5kaWFuIHZhbHVlLCB1c2luZyB0aGUgZ2l2ZW4gbWV0aG9kXG4gICAgICAgICAgICAoJ3B1c2gnIG9yICd1bnNoaWZ0JykuICovXG4gICAgICAgIHVsZWIxMjhFbmNvZGU6IGZ1bmN0aW9uKHRndCwgbWV0aG9kLCBuKXtcbiAgICAgICAgICBpZihuPDEyOCkgdGd0W21ldGhvZF0obik7XG4gICAgICAgICAgZWxzZSB0Z3RbbWV0aG9kXSggKG4gJSAxMjgpIHwgMTI4LCBuPj43KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqIEludGVudGlvbmFsbHktbGF4IHBhdHRlcm4gZm9yIEphY2N3YWJ5dC1mb3JtYXQgZnVuY3Rpb25cbiAgICAgICAgICAgIHBvaW50ZXIgc2lnbmF0dXJlcywgdGhlIGludGVudCBvZiB3aGljaCBpcyBzaW1wbHkgdG9cbiAgICAgICAgICAgIGRpc3Rpbmd1aXNoIHRoZW0gZnJvbSBFbXNjcmlwdGVuLWZvcm1hdCBzaWduYXR1cmVzLiBUaGVcbiAgICAgICAgICAgIGRvd25zdHJlYW0gY2hlY2tzIGFyZSBsZXNzIGxheC4gKi9cbiAgICAgICAgcnhKU2lnOiAvXihcXHcpXFwoKFxcdyopXFwpJC8sXG4gICAgICAgIC8qKiBSZXR1cm5zIHRoZSBwYXJhbWV0ZXItdmFsdWUgcGFydCBvZiB0aGUgZ2l2ZW4gc2lnbmF0dXJlXG4gICAgICAgICAgICBzdHJpbmcuICovXG4gICAgICAgIHNpZ1BhcmFtczogZnVuY3Rpb24oc2lnKXtcbiAgICAgICAgICBjb25zdCBtID0gZi5fLnJ4SlNpZy5leGVjKHNpZyk7XG4gICAgICAgICAgcmV0dXJuIG0gPyBtWzJdIDogc2lnLnN1YnN0cigxKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqIFJldHVybnMgdGhlIElSIHZhbHVlIGZvciB0aGUgZ2l2ZW4gbGV0dGVyIG9yIHRocm93c1xuICAgICAgICAgICAgaWYgdGhlIGxldHRlciBpcyBpbnZhbGlkLiAqL1xuICAgICAgICBsZXR0ZXJUeXBlOiAoeCk9PmYuXy5zaWdUeXBlc1t4XSB8fCB0b3NzKFwiSW52YWxpZCBzaWduYXR1cmUgbGV0dGVyOlwiLHgpLFxuICAgICAgICAvKiogUmV0dXJucyBhbiBvYmplY3QgZGVzY3JpYmluZyB0aGUgcmVzdWx0IHR5cGUgYW5kIHBhcmFtZXRlclxuICAgICAgICAgICAgdHlwZShzKSBvZiB0aGUgZ2l2ZW4gZnVuY3Rpb24gc2lnbmF0dXJlLCBvciB0aHJvd3MgaWYgdGhlXG4gICAgICAgICAgICBzaWduYXR1cmUgaXMgaW52YWxpZC4gKi9cbiAgICAgICAgLyoqKioqKioqIC8vIG9ubHkgdmFsaWQgZm9yIHVzZSB3aXRoIHRoZSBXZWJBc3NlbWJseS5GdW5jdGlvbiBjdG9yLCB3aGljaFxuICAgICAgICAgICAgICAgICAgLy8gaXMgbm90IHlldCBkb2N1bWVudGVkIG9uIE1ETi5cbiAgICAgICAgc2lnVG9XYXNtOiBmdW5jdGlvbihzaWcpe1xuICAgICAgICAgIGNvbnN0IHJjID0ge3BhcmFtZXRlcnM6W10sIHJlc3VsdHM6IFtdfTtcbiAgICAgICAgICBpZigndichPT1zaWdbMF0pIHJjLnJlc3VsdHMucHVzaChmLnNpZ1R5cGVzKHNpZ1swXSkpO1xuICAgICAgICAgIGZvcihjb25zdCB4IG9mIGYuXy5zaWdQYXJhbXMoc2lnKSl7XG4gICAgICAgICAgICByYy5wYXJhbWV0ZXJzLnB1c2goZi5fLnR5cGVDb2Rlcyh4KSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByYztcbiAgICAgICAgfSwqKioqKioqKioqKiovXG4gICAgICAgIC8qKiBQdXNoZXMgdGhlIFdBU00gZGF0YSB0eXBlIGNvZGUgZm9yIHRoZSBnaXZlbiBzaWduYXR1cmVcbiAgICAgICAgICAgIGxldHRlciB0byB0aGUgZ2l2ZW4gdGFyZ2V0IGFycmF5LiBUaHJvd3MgaWYgbGV0dGVyIGlzXG4gICAgICAgICAgICBpbnZhbGlkLiAqL1xuICAgICAgICBwdXNoU2lnVHlwZTogKGRlc3QsIGxldHRlcik9PmRlc3QucHVzaChmLl8udHlwZUNvZGVzW2YuXy5sZXR0ZXJUeXBlKGxldHRlcildKVxuICAgICAgfTtcbiAgICB9LypzdGF0aWMgaW5pdCovXG4gICAgaWYoJ3N0cmluZyc9PT10eXBlb2YgZnVuYyl7XG4gICAgICBjb25zdCB4ID0gc2lnO1xuICAgICAgc2lnID0gZnVuYztcbiAgICAgIGZ1bmMgPSB4O1xuICAgIH1cbiAgICBjb25zdCBzaWdQYXJhbXMgPSBmLl8uc2lnUGFyYW1zKHNpZyk7XG4gICAgY29uc3Qgd2FzbUNvZGUgPSBbMHgwMS8qY291bnQ6IDEqLywgMHg2MC8qZnVuY3Rpb24qL107XG4gICAgZi5fLnVsZWIxMjhFbmNvZGUod2FzbUNvZGUsICdwdXNoJywgc2lnUGFyYW1zLmxlbmd0aCk7XG4gICAgZm9yKGNvbnN0IHggb2Ygc2lnUGFyYW1zKSBmLl8ucHVzaFNpZ1R5cGUod2FzbUNvZGUsIHgpO1xuICAgIGlmKCd2Jz09PXNpZ1swXSkgd2FzbUNvZGUucHVzaCgwKTtcbiAgICBlbHNle1xuICAgICAgd2FzbUNvZGUucHVzaCgxKTtcbiAgICAgIGYuXy5wdXNoU2lnVHlwZSh3YXNtQ29kZSwgc2lnWzBdKTtcbiAgICB9XG4gICAgZi5fLnVsZWIxMjhFbmNvZGUod2FzbUNvZGUsICd1bnNoaWZ0Jywgd2FzbUNvZGUubGVuZ3RoKS8qIHR5cGUgc2VjdGlvbiBsZW5ndGggKi87XG4gICAgd2FzbUNvZGUudW5zaGlmdChcbiAgICAgIDB4MDAsIDB4NjEsIDB4NzMsIDB4NmQsIC8qIG1hZ2ljOiBcIlxcMGFzbVwiICovXG4gICAgICAweDAxLCAweDAwLCAweDAwLCAweDAwLCAvKiB2ZXJzaW9uOiAxICovXG4gICAgICAweDAxIC8qIHR5cGUgc2VjdGlvbiBjb2RlICovXG4gICAgKTtcbiAgICB3YXNtQ29kZS5wdXNoKFxuICAgICAgLyogaW1wb3J0IHNlY3Rpb246ICovIDB4MDIsIDB4MDcsXG4gICAgICAvKiAoaW1wb3J0IFwiZVwiIFwiZlwiIChmdW5jIDAgKHR5cGUgMCkpKTogKi9cbiAgICAgIDB4MDEsIDB4MDEsIDB4NjUsIDB4MDEsIDB4NjYsIDB4MDAsIDB4MDAsXG4gICAgICAvKiBleHBvcnQgc2VjdGlvbjogKi8gMHgwNywgMHgwNSxcbiAgICAgIC8qIChleHBvcnQgXCJmXCIgKGZ1bmMgMCAodHlwZSAwKSkpOiAqL1xuICAgICAgMHgwMSwgMHgwMSwgMHg2NiwgMHgwMCwgMHgwMFxuICAgICk7XG4gICAgcmV0dXJuIChuZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UoXG4gICAgICBuZXcgV2ViQXNzZW1ibHkuTW9kdWxlKG5ldyBVaW50OEFycmF5KHdhc21Db2RlKSksIHtcbiAgICAgICAgZTogeyBmOiBmdW5jIH1cbiAgICAgIH0pKS5leHBvcnRzWydmJ107XG4gIH0vKmpzRnVuY1RvV2FzbSgpKi87XG5cbiAgLyoqXG4gICAgIERvY3VtZW50ZWQgYXMgdGFyZ2V0Lmluc3RhbGxGdW5jdGlvbigpIGV4Y2VwdCBmb3IgdGhlIDNyZFxuICAgICBhcmd1bWVudDogaWYgdHJ1dGh5LCB0aGUgbmV3bHktY3JlYXRlZCBmdW5jdGlvbiBwb2ludGVyXG4gICAgIGlzIHN0YXNoZWQgaW4gdGhlIGN1cnJlbnQgc2NvcGVkLWFsbG9jIHNjb3BlIGFuZCB3aWxsIGJlXG4gICAgIGNsZWFuZWQgdXAgYXQgdGhlIG1hdGNoaW5nIHNjb3BlZEFsbG9jUG9wKCksIGVsc2UgaXRcbiAgICAgaXMgbm90IHN0YXNoZWQgdGhlcmUuXG4gICAqL1xuICBjb25zdCBfX2luc3RhbGxGdW5jdGlvbiA9IGZ1bmN0aW9uIGYoZnVuYywgc2lnLCBzY29wZWQpe1xuICAgIGlmKHNjb3BlZCAmJiAhY2FjaGUuc2NvcGVkQWxsb2MubGVuZ3RoKXtcbiAgICAgIHRvc3MoXCJObyBzY29wZWRBbGxvY1B1c2goKSBzY29wZSBpcyBhY3RpdmUuXCIpO1xuICAgIH1cbiAgICBpZignc3RyaW5nJz09PXR5cGVvZiBmdW5jKXtcbiAgICAgIGNvbnN0IHggPSBzaWc7XG4gICAgICBzaWcgPSBmdW5jO1xuICAgICAgZnVuYyA9IHg7XG4gICAgfVxuICAgIGlmKCdzdHJpbmcnIT09dHlwZW9mIHNpZyB8fCAhKGZ1bmMgaW5zdGFuY2VvZiBGdW5jdGlvbikpe1xuICAgICAgdG9zcyhcIkludmFsaWQgYXJndW1lbnRzOiBleHBlY3RpbmcgKGZ1bmN0aW9uLHNpZ25hdHVyZSkgXCIrXG4gICAgICAgICAgIFwib3IgKHNpZ25hdHVyZSxmdW5jdGlvbikuXCIpO1xuICAgIH1cbiAgICBjb25zdCBmdCA9IHRhcmdldC5mdW5jdGlvblRhYmxlKCk7XG4gICAgY29uc3Qgb2xkTGVuID0gZnQubGVuZ3RoO1xuICAgIGxldCBwdHI7XG4gICAgd2hpbGUoY2FjaGUuZnJlZUZ1bmNJbmRleGVzLmxlbmd0aCl7XG4gICAgICBwdHIgPSBjYWNoZS5mcmVlRnVuY0luZGV4ZXMucG9wKCk7XG4gICAgICBpZihmdC5nZXQocHRyKSl7IC8qIFRhYmxlIHdhcyBtb2RpZmllZCB2aWEgYSBkaWZmZXJlbnQgQVBJICovXG4gICAgICAgIHB0ciA9IG51bGw7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZighcHRyKXtcbiAgICAgIHB0ciA9IG9sZExlbjtcbiAgICAgIGZ0Lmdyb3coMSk7XG4gICAgfVxuICAgIHRyeXtcbiAgICAgIC8qdGhpcyB3aWxsIG9ubHkgd29yayBpZiBmdW5jIGlzIGEgV0FTTS1leHBvcnRlZCBmdW5jdGlvbiovXG4gICAgICBmdC5zZXQocHRyLCBmdW5jKTtcbiAgICAgIGlmKHNjb3BlZCl7XG4gICAgICAgIGNhY2hlLnNjb3BlZEFsbG9jW2NhY2hlLnNjb3BlZEFsbG9jLmxlbmd0aC0xXS5wdXNoKHB0cik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHRyO1xuICAgIH1jYXRjaChlKXtcbiAgICAgIGlmKCEoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikpe1xuICAgICAgICBpZihwdHI9PT1vbGRMZW4pIGNhY2hlLmZyZWVGdW5jSW5kZXhlcy5wdXNoKG9sZExlbik7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEl0J3Mgbm90IGEgV0FTTS1leHBvcnRlZCBmdW5jdGlvbiwgc28gY29tcGlsZSBvbmUuLi5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZnB0ciA9IHRhcmdldC5qc0Z1bmNUb1dhc20oZnVuYywgc2lnKTtcbiAgICAgIGZ0LnNldChwdHIsIGZwdHIpO1xuICAgICAgaWYoc2NvcGVkKXtcbiAgICAgICAgY2FjaGUuc2NvcGVkQWxsb2NbY2FjaGUuc2NvcGVkQWxsb2MubGVuZ3RoLTFdLnB1c2gocHRyKTtcbiAgICAgIH1cbiAgICB9Y2F0Y2goZSl7XG4gICAgICBpZihwdHI9PT1vbGRMZW4pIGNhY2hlLmZyZWVGdW5jSW5kZXhlcy5wdXNoKG9sZExlbik7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICByZXR1cm4gcHRyO1xuICB9O1xuXG4gIC8qKlxuICAgICBFeHBlY3RzIGEgSlMgZnVuY3Rpb24gYW5kIHNpZ25hdHVyZSwgZXhhY3RseSBhcyBmb3JcbiAgICAgdGhpcy5qc0Z1bmNUb1dhc20oKS4gSXQgdXNlcyB0aGF0IGZ1bmN0aW9uIHRvIGNyZWF0ZSBhXG4gICAgIFdBU00tZXhwb3J0ZWQgZnVuY3Rpb24sIGluc3RhbGxzIHRoYXQgZnVuY3Rpb24gdG8gdGhlIG5leHRcbiAgICAgYXZhaWxhYmxlIHNsb3Qgb2YgdGhpcy5mdW5jdGlvblRhYmxlKCksIGFuZCByZXR1cm5zIHRoZVxuICAgICBmdW5jdGlvbidzIGluZGV4IGluIHRoYXQgdGFibGUgKHdoaWNoIGFjdHMgYXMgYSBwb2ludGVyIHRvIHRoYXRcbiAgICAgZnVuY3Rpb24pLiBUaGUgcmV0dXJuZWQgcG9pbnRlciBjYW4gYmUgcGFzc2VkIHRvXG4gICAgIHVuaW5zdGFsbEZ1bmN0aW9uKCkgdG8gdW5pbnN0YWxsIGl0IGFuZCBmcmVlIHVwIHRoZSB0YWJsZSBzbG90IGZvclxuICAgICByZXVzZS5cblxuICAgICBJZiBwYXNzZWQgKHN0cmluZyxmdW5jdGlvbikgYXJndW1lbnRzIHRoZW4gaXQgdHJlYXRzIHRoZSBmaXJzdFxuICAgICBhcmd1bWVudCBhcyB0aGUgc2lnbmF0dXJlIGFuZCBzZWNvbmQgYXMgdGhlIGZ1bmN0aW9uLlxuXG4gICAgIEFzIGEgc3BlY2lhbCBjYXNlLCBpZiB0aGUgcGFzc2VkLWluIGZ1bmN0aW9uIGlzIGEgV0FTTS1leHBvcnRlZFxuICAgICBmdW5jdGlvbiB0aGVuIHRoZSBzaWduYXR1cmUgYXJndW1lbnQgaXMgaWdub3JlZCBhbmQgZnVuYyBpc1xuICAgICBpbnN0YWxsZWQgYXMtaXMsIHdpdGhvdXQgcmVxdWlyaW5nIHJlLWNvbXBpbGF0aW9uL3JlLXdyYXBwaW5nLlxuXG4gICAgIFRoaXMgZnVuY3Rpb24gd2lsbCBwcm9wYWdhdGUgYW4gZXhjZXB0aW9uIGlmXG4gICAgIFdlYkFzc2VtYmx5LlRhYmxlLmdyb3coKSB0aHJvd3Mgb3IgdGhpcy5qc0Z1bmNUb1dhc20oKSB0aHJvd3MuXG4gICAgIFRoZSBmb3JtZXIgY2FzZSBjYW4gaGFwcGVuIGluIGFuIEVtc2NyaXB0ZW4tY29tcGlsZWRcbiAgICAgZW52aXJvbm1lbnQgd2hlbiBidWlsZGluZyB3aXRob3V0IEVtc2NyaXB0ZW4nc1xuICAgICBgLXNBTExPV19UQUJMRV9HUk9XVEhgIGZsYWcuXG5cbiAgICAgU2lkZWJhcjogdGhpcyBmdW5jdGlvbiBkaWZmZXJzIGZyb20gRW1zY3JpcHRlbidzIGFkZEZ1bmN0aW9uKClcbiAgICAgX3ByaW1hcmlseV8gaW4gdGhhdCBpdCBkb2VzIG5vdCBzaGFyZSB0aGF0IGZ1bmN0aW9uJ3NcbiAgICAgdW5kb2N1bWVudGVkIGJlaGF2aW9yIG9mIHJldXNpbmcgYSBmdW5jdGlvbiBpZiBpdCdzIHBhc3NlZCB0b1xuICAgICBhZGRGdW5jdGlvbigpIG1vcmUgdGhhbiBvbmNlLCB3aGljaCBsZWFkcyB0byB1bmluc3RhbGxGdW5jdGlvbigpXG4gICAgIGJyZWFraW5nIGNsaWVudHMgd2hpY2ggZG8gbm90IHRha2UgY2FyZSB0byBhdm9pZCB0aGF0IGNhc2U6XG5cbiAgICAgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL2lzc3Vlcy8xNzMyM1xuICAqL1xuICB0YXJnZXQuaW5zdGFsbEZ1bmN0aW9uID0gKGZ1bmMsIHNpZyk9Pl9faW5zdGFsbEZ1bmN0aW9uKGZ1bmMsIHNpZywgZmFsc2UpO1xuXG4gIC8qKlxuICAgICBFWFBFUklNRU5UQUwhIERPIE5PVCBVU0UgSU4gQ0xJRU5UIENPREUhXG5cbiAgICAgV29ya3MgZXhhY3RseSBsaWtlIGluc3RhbGxGdW5jdGlvbigpIGJ1dCByZXF1aXJlcyB0aGF0IGFcbiAgICAgc2NvcGVkQWxsb2NQdXNoKCkgaXMgYWN0aXZlIGFuZCB1bmluc3RhbGxzIHRoZSBnaXZlbiBmdW5jdGlvblxuICAgICB3aGVuIHRoYXQgYWxsb2Mgc2NvcGUgaXMgcG9wcGVkIHZpYSBzY29wZWRBbGxvY1BvcCgpLlxuICAgICBUaGlzIGlzIHVzZWQgZm9yIGltcGxlbWVudGluZyBKUy9XQVNNIGZ1bmN0aW9uIGJpbmRpbmdzIHdoaWNoXG4gICAgIHNob3VsZCBvbmx5IHBlcnNpc3QgZm9yIHRoZSBsaWZlIG9mIGEgY2FsbCBpbnRvIGEgc2luZ2xlXG4gICAgIEMtc2lkZSBmdW5jdGlvbi5cbiAgKi9cbiAgdGFyZ2V0LnNjb3BlZEluc3RhbGxGdW5jdGlvbiA9IChmdW5jLCBzaWcpPT5fX2luc3RhbGxGdW5jdGlvbihmdW5jLCBzaWcsIHRydWUpO1xuXG4gIC8qKlxuICAgICBSZXF1aXJlcyBhIHBvaW50ZXIgdmFsdWUgcHJldmlvdXNseSByZXR1cm5lZCBmcm9tXG4gICAgIHRoaXMuaW5zdGFsbEZ1bmN0aW9uKCkuIFJlbW92ZXMgdGhhdCBmdW5jdGlvbiBmcm9tIHRoZSBXQVNNXG4gICAgIGZ1bmN0aW9uIHRhYmxlLCBtYXJrcyBpdHMgdGFibGUgc2xvdCBhcyBmcmVlIGZvciByZS11c2UsIGFuZFxuICAgICByZXR1cm5zIHRoYXQgZnVuY3Rpb24uIEl0IGlzIGlsbGVnYWwgdG8gY2FsbCB0aGlzIGJlZm9yZVxuICAgICBpbnN0YWxsRnVuY3Rpb24oKSBoYXMgYmVlbiBjYWxsZWQgYW5kIHJlc3VsdHMgYXJlIHVuZGVmaW5lZCBpZlxuICAgICBwdHIgd2FzIG5vdCByZXR1cm5lZCBieSB0aGF0IGZ1bmN0aW9uLiBUaGUgcmV0dXJuZWQgZnVuY3Rpb25cbiAgICAgbWF5IGJlIHBhc3NlZCBiYWNrIHRvIGluc3RhbGxGdW5jdGlvbigpIHRvIHJlaW5zdGFsbCBpdC5cblxuICAgICBUbyBzaW1wbGlmeSBjZXJ0YWluIHVzZSBjYXNlcywgaWYgcGFzc2VkIGEgZmFsc3kgbm9uLTAgdmFsdWVcbiAgICAgKG5vdGluZyB0aGF0IDAgaXMgYSB2YWxpZCBmdW5jdGlvbiB0YWJsZSBpbmRleCksIHRoaXMgZnVuY3Rpb25cbiAgICAgaGFzIG5vIHNpZGUgZWZmZWN0cyBhbmQgcmV0dXJucyB1bmRlZmluZWQuXG4gICovXG4gIHRhcmdldC51bmluc3RhbGxGdW5jdGlvbiA9IGZ1bmN0aW9uKHB0cil7XG4gICAgaWYoIXB0ciAmJiAwIT09cHRyKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGZpID0gY2FjaGUuZnJlZUZ1bmNJbmRleGVzO1xuICAgIGNvbnN0IGZ0ID0gdGFyZ2V0LmZ1bmN0aW9uVGFibGUoKTtcbiAgICBmaS5wdXNoKHB0cik7XG4gICAgY29uc3QgcmMgPSBmdC5nZXQocHRyKTtcbiAgICBmdC5zZXQocHRyLCBudWxsKTtcbiAgICByZXR1cm4gcmM7XG4gIH07XG5cbiAgLyoqXG4gICAgIEdpdmVuIGEgV0FTTSBoZWFwIG1lbW9yeSBhZGRyZXNzIGFuZCBhIGRhdGEgdHlwZSBuYW1lIGluIHRoZSBmb3JtXG4gICAgIChpOCwgaTE2LCBpMzIsIGk2NCwgZmxvYXQgKG9yIGYzMiksIGRvdWJsZSAob3IgZjY0KSksIHRoaXNcbiAgICAgZmV0Y2hlcyB0aGUgbnVtZXJpYyB2YWx1ZSBmcm9tIHRoYXQgYWRkcmVzcyBhbmQgcmV0dXJucyBpdCBhcyBhXG4gICAgIG51bWJlciBvciwgZm9yIHRoZSBjYXNlIG9mIHR5cGU9J2k2NCcsIGEgQmlnSW50IChub3RpbmcgdGhhdCB0aGF0XG4gICAgIHR5cGUgdHJpZ2dlcnMgYW4gZXhjZXB0aW9uIGlmIHRoaXMuYmlnSW50RW5hYmxlZCBpc1xuICAgICBmYWxzeSkuIFRocm93cyBpZiBnaXZlbiBhbiBpbnZhbGlkIHR5cGUuXG5cbiAgICAgSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGFuIGFycmF5LCBpdCBpcyB0cmVhdGVkIGFzIGFuIGFycmF5IG9mXG4gICAgIGFkZHJlc3NlcyBhbmQgdGhlIHJlc3VsdCBpcyBhbiBhcnJheSBvZiB0aGUgdmFsdWVzIGZyb20gZWFjaCBvZlxuICAgICB0aG9zZSBhZGRyZXNzLCB1c2luZyB0aGUgc2FtZSAybmQgYXJndW1lbnQgZm9yIGRldGVybWluaW5nIHRoZVxuICAgICB2YWx1ZSB0eXBlIHRvIGZldGNoLlxuXG4gICAgIEFzIGEgc3BlY2lhbCBjYXNlLCBpZiB0eXBlIGVuZHMgd2l0aCBhIGAqYCwgaXQgaXMgY29uc2lkZXJlZCB0b1xuICAgICBiZSBhIHBvaW50ZXIgdHlwZSBhbmQgaXMgdHJlYXRlZCBhcyB0aGUgV0FTTSBudW1lcmljIHR5cGVcbiAgICAgYXBwcm9wcmlhdGUgZm9yIHRoZSBwb2ludGVyIHNpemUgKGBpMzJgKS5cblxuICAgICBXaGlsZSBsaWtlbHkgbm90IG9idmlvdXMsIHRoaXMgcm91dGluZSBhbmQgaXRzIHBva2UoKVxuICAgICBjb3VudGVycGFydCBhcmUgaG93IHBvaW50ZXItdG8tdmFsdWUgX291dHB1dF8gcGFyYW1ldGVyc1xuICAgICBpbiBXQVNNLWNvbXBpbGVkIEMgY29kZSBjYW4gYmUgaW50ZXJhY3RlZCB3aXRoOlxuXG4gICAgIGBgYFxuICAgICBjb25zdCBwdHIgPSBhbGxvYyg0KTtcbiAgICAgcG9rZShwdHIsIDAsICdpMzInKTsgLy8gY2xlYXIgdGhlIHB0cidzIHZhbHVlXG4gICAgIGFDRnVuY1dpdGhPdXRwdXRQdHJUb0ludDMyQXJnKCBwdHIgKTsgLy8gZS5nLiB2b2lkIGZvbyhpbnQgKngpO1xuICAgICBjb25zdCByZXN1bHQgPSBwZWVrKHB0ciwgJ2kzMicpOyAvLyBmZXRjaCBwdHIncyB2YWx1ZVxuICAgICBkZWFsbG9jKHB0cik7XG4gICAgIGBgYFxuXG4gICAgIHNjb3BlZEFsbG9jKCkgYW5kIGZyaWVuZHMgY2FuIGJlIHVzZWQgdG8gbWFrZSBoYW5kbGluZyBvZlxuICAgICBgcHRyYCBzYWZlIGFnYWluc3QgbGVha3MgaW4gdGhlIGNhc2Ugb2YgYW4gZXhjZXB0aW9uOlxuXG4gICAgIGBgYFxuICAgICBsZXQgcmVzdWx0O1xuICAgICBjb25zdCBzY29wZSA9IHNjb3BlZEFsbG9jUHVzaCgpO1xuICAgICB0cnl7XG4gICAgICAgY29uc3QgcHRyID0gc2NvcGVkQWxsb2MoNCk7XG4gICAgICAgcG9rZShwdHIsIDAsICdpMzInKTtcbiAgICAgICBhQ0Z1bmNXaXRoT3V0cHV0UHRyQXJnKCBwdHIgKTtcbiAgICAgICByZXN1bHQgPSBwZWVrKHB0ciwgJ2kzMicpO1xuICAgICB9ZmluYWxseXtcbiAgICAgICBzY29wZWRBbGxvY1BvcChzY29wZSk7XG4gICAgIH1cbiAgICAgYGBgXG5cbiAgICAgQXMgYSBydWxlIHBva2UoKSBtdXN0IGJlIGNhbGxlZCB0byBzZXQgKHR5cGljYWxseSB6ZXJvXG4gICAgIG91dCkgdGhlIHBvaW50ZXIncyB2YWx1ZSwgZWxzZSBpdCB3aWxsIGNvbnRhaW4gYW4gZXNzZW50aWFsbHlcbiAgICAgcmFuZG9tIHZhbHVlLlxuXG4gICAgIEFDSFRVTkc6IGNhbGxpbmcgdGhpcyBvZnRlbiwgZS5nLiBpbiBhIGxvb3AsIGNhbiBoYXZlIGEgbm90aWNhYmx5XG4gICAgIHBhaW5mdWwgaW1wYWN0IG9uIHBlcmZvcm1hbmNlLiBSYXRoZXIgdGhhbiBkb2luZyBzbywgdXNlXG4gICAgIGhlYXBGb3JTaXplKCkgdG8gZmV0Y2ggdGhlIGhlYXAgb2JqZWN0IGFuZCByZWFkIGRpcmVjdGx5IGZyb20gaXQuXG5cbiAgICAgU2VlOiBwb2tlKClcbiAgKi9cbiAgdGFyZ2V0LnBlZWsgPSBmdW5jdGlvbiBmKHB0ciwgdHlwZT0naTgnKXtcbiAgICBpZih0eXBlLmVuZHNXaXRoKCcqJykpIHR5cGUgPSBwdHJJUjtcbiAgICBjb25zdCBjID0gKGNhY2hlLm1lbW9yeSAmJiBjYWNoZS5oZWFwU2l6ZSA9PT0gY2FjaGUubWVtb3J5LmJ1ZmZlci5ieXRlTGVuZ3RoKVxuICAgICAgICAgID8gY2FjaGUgOiBoZWFwV3JhcHBlcnMoKTtcbiAgICBjb25zdCBsaXN0ID0gQXJyYXkuaXNBcnJheShwdHIpID8gW10gOiB1bmRlZmluZWQ7XG4gICAgbGV0IHJjO1xuICAgIGRve1xuICAgICAgaWYobGlzdCkgcHRyID0gYXJndW1lbnRzWzBdLnNoaWZ0KCk7XG4gICAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgICAgY2FzZSAnaTEnOlxuICAgICAgICAgIGNhc2UgJ2k4JzogcmMgPSBjLkhFQVA4W3B0cj4+MF07IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2kxNic6IHJjID0gYy5IRUFQMTZbcHRyPj4xXTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnaTMyJzogcmMgPSBjLkhFQVAzMltwdHI+PjJdOyBicmVhaztcbiAgICAgICAgICBjYXNlICdmbG9hdCc6IGNhc2UgJ2YzMic6IHJjID0gYy5IRUFQMzJGW3B0cj4+Ml07IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2RvdWJsZSc6IGNhc2UgJ2Y2NCc6IHJjID0gTnVtYmVyKGMuSEVBUDY0RltwdHI+PjNdKTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnaTY0JzpcbiAgICAgICAgICAgIGlmKHRhcmdldC5iaWdJbnRFbmFibGVkKXtcbiAgICAgICAgICAgICAgcmMgPSBCaWdJbnQoYy5IRUFQNjRbcHRyPj4zXSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogZmFsbHRocnUgKi9cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdG9zcygnSW52YWxpZCB0eXBlIGZvciBwZWVrKCk6Jyx0eXBlKTtcbiAgICAgIH1cbiAgICAgIGlmKGxpc3QpIGxpc3QucHVzaChyYyk7XG4gICAgfXdoaWxlKGxpc3QgJiYgYXJndW1lbnRzWzBdLmxlbmd0aCk7XG4gICAgcmV0dXJuIGxpc3QgfHwgcmM7XG4gIH07XG5cbiAgLyoqXG4gICAgIFRoZSBjb3VudGVycGFydCBvZiBwZWVrKCksIHRoaXMgc2V0cyBhIG51bWVyaWMgdmFsdWUgYXRcbiAgICAgdGhlIGdpdmVuIFdBU00gaGVhcCBhZGRyZXNzLCB1c2luZyB0aGUgdHlwZSB0byBkZWZpbmUgaG93IG1hbnlcbiAgICAgYnl0ZXMgYXJlIHdyaXR0ZW4uIFRocm93cyBpZiBnaXZlbiBhbiBpbnZhbGlkIHR5cGUuIFNlZVxuICAgICBwZWVrKCkgZm9yIGRldGFpbHMgYWJvdXQgdGhlIHR5cGUgYXJndW1lbnQuIElmIHRoZSAzcmRcbiAgICAgYXJndW1lbnQgZW5kcyB3aXRoIGAqYCB0aGVuIGl0IGlzIHRyZWF0ZWQgYXMgYSBwb2ludGVyIHR5cGUgYW5kXG4gICAgIHRoaXMgZnVuY3Rpb24gYmVoYXZlcyBhcyBpZiB0aGUgM3JkIGFyZ3VtZW50IHdlcmUgYGkzMmAuXG5cbiAgICAgSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGFuIGFycmF5LCBpdCBpcyB0cmVhdGVkIGxpa2UgYSBsaXN0XG4gICAgIG9mIHBvaW50ZXJzIGFuZCB0aGUgZ2l2ZW4gdmFsdWUgaXMgd3JpdHRlbiB0byBlYWNoIG9uZS5cblxuICAgICBSZXR1cm5zIGB0aGlzYC4gKFByaW9yIHRvIDIwMjItMTItMDkgaXQgcmV0dXJucyB0aGlzIGZ1bmN0aW9uLilcblxuICAgICBBQ0hUVU5HOiBjYWxsaW5nIHRoaXMgb2Z0ZW4sIGUuZy4gaW4gYSBsb29wLCBjYW4gaGF2ZSBhIG5vdGljYWJseVxuICAgICBwYWluZnVsIGltcGFjdCBvbiBwZXJmb3JtYW5jZS4gUmF0aGVyIHRoYW4gZG9pbmcgc28sIHVzZVxuICAgICBoZWFwRm9yU2l6ZSgpIHRvIGZldGNoIHRoZSBoZWFwIG9iamVjdCBhbmQgYXNzaWduIGRpcmVjdGx5IHRvIGl0XG4gICAgIG9yIHVzZSB0aGUgaGVhcCdzIHNldCgpIG1ldGhvZC5cbiAgKi9cbiAgdGFyZ2V0LnBva2UgPSBmdW5jdGlvbihwdHIsIHZhbHVlLCB0eXBlPSdpOCcpe1xuICAgIGlmICh0eXBlLmVuZHNXaXRoKCcqJykpIHR5cGUgPSBwdHJJUjtcbiAgICBjb25zdCBjID0gKGNhY2hlLm1lbW9yeSAmJiBjYWNoZS5oZWFwU2l6ZSA9PT0gY2FjaGUubWVtb3J5LmJ1ZmZlci5ieXRlTGVuZ3RoKVxuICAgICAgICAgID8gY2FjaGUgOiBoZWFwV3JhcHBlcnMoKTtcbiAgICBmb3IoY29uc3QgcCBvZiAoQXJyYXkuaXNBcnJheShwdHIpID8gcHRyIDogW3B0cl0pKXtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2kxJzpcbiAgICAgICAgICBjYXNlICdpOCc6IGMuSEVBUDhbcD4+MF0gPSB2YWx1ZTsgY29udGludWU7XG4gICAgICAgICAgY2FzZSAnaTE2JzogYy5IRUFQMTZbcD4+MV0gPSB2YWx1ZTsgY29udGludWU7XG4gICAgICAgICAgY2FzZSAnaTMyJzogYy5IRUFQMzJbcD4+Ml0gPSB2YWx1ZTsgY29udGludWU7XG4gICAgICAgICAgY2FzZSAnZmxvYXQnOiBjYXNlICdmMzInOiBjLkhFQVAzMkZbcD4+Ml0gPSB2YWx1ZTsgY29udGludWU7XG4gICAgICAgICAgY2FzZSAnZG91YmxlJzogY2FzZSAnZjY0JzogYy5IRUFQNjRGW3A+PjNdID0gdmFsdWU7IGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgJ2k2NCc6XG4gICAgICAgICAgICBpZihjLkhFQVA2NCl7XG4gICAgICAgICAgICAgIGMuSEVBUDY0W3A+PjNdID0gQmlnSW50KHZhbHVlKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBmYWxsdGhydSAqL1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0b3NzKCdJbnZhbGlkIHR5cGUgZm9yIHBva2UoKTogJyArIHR5cGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICAgQ29udmVuaWVuY2UgZm9ybSBvZiBwZWVrKCkgaW50ZW5kZWQgZm9yIGZldGNoaW5nXG4gICAgIHBvaW50ZXItdG8tcG9pbnRlciB2YWx1ZXMuIElmIHBhc3NlZCBhIHNpbmdsZSBub24tYXJyYXkgYXJndW1lbnRcbiAgICAgaXQgcmV0dXJucyB0aGUgdmFsdWUgb2YgdGhhdCBvbmUgcG9pbnRlciBhZGRyZXNzLiBJZiBwYXNzZWRcbiAgICAgbXVsdGlwbGUgYXJndW1lbnRzLCBvciBhIHNpbmdsZSBhcnJheSBvZiBhcmd1bWVudHMsIGl0IHJldHVybnMgYW5cbiAgICAgYXJyYXkgb2YgdGhlaXIgdmFsdWVzLlxuICAqL1xuICB0YXJnZXQucGVla1B0ciA9ICguLi5wdHIpPT50YXJnZXQucGVlayggKDE9PT1wdHIubGVuZ3RoID8gcHRyWzBdIDogcHRyKSwgcHRySVIgKTtcblxuICAvKipcbiAgICAgQSB2YXJpYW50IG9mIHBva2UoKSBpbnRlbmRlZCBmb3Igc2V0dGluZyBwb2ludGVyLXRvLXBvaW50ZXJcbiAgICAgdmFsdWVzLiBJdHMgZGlmZmVyZW5jZXMgZnJvbSBwb2tlKCkgYXJlIHRoYXQgKDEpIGl0IGRlZmF1bHRzIHRvIGFcbiAgICAgdmFsdWUgb2YgMCBhbmQgKDIpIGl0IGFsd2F5cyB3cml0ZXMgdG8gdGhlIHBvaW50ZXItc2l6ZWQgaGVhcFxuICAgICB2aWV3LlxuICAqL1xuICB0YXJnZXQucG9rZVB0ciA9IChwdHIsIHZhbHVlPTApPT50YXJnZXQucG9rZShwdHIsIHZhbHVlLCBwdHJJUik7XG5cbiAgLyoqXG4gICAgIENvbnZlbmllbmNlIGZvcm0gb2YgcGVlaygpIGludGVuZGVkIGZvciBmZXRjaGluZyBpOCB2YWx1ZXMuIElmXG4gICAgIHBhc3NlZCBhIHNpbmdsZSBub24tYXJyYXkgYXJndW1lbnQgaXQgcmV0dXJucyB0aGUgdmFsdWUgb2YgdGhhdFxuICAgICBvbmUgcG9pbnRlciBhZGRyZXNzLiBJZiBwYXNzZWQgbXVsdGlwbGUgYXJndW1lbnRzLCBvciBhIHNpbmdsZVxuICAgICBhcnJheSBvZiBhcmd1bWVudHMsIGl0IHJldHVybnMgYW4gYXJyYXkgb2YgdGhlaXIgdmFsdWVzLlxuICAqL1xuICB0YXJnZXQucGVlazggPSAoLi4ucHRyKT0+dGFyZ2V0LnBlZWsoICgxPT09cHRyLmxlbmd0aCA/IHB0clswXSA6IHB0ciksICdpOCcgKTtcbiAgLyoqXG4gICAgIENvbnZpZW5jZSBmb3JtIG9mIHBva2UoKSBpbnRlbmRlZCBmb3Igc2V0dGluZyBpbmRpdmlkdWFsIGJ5dGVzLlxuICAgICBJdHMgZGlmZmVyZW5jZSBmcm9tIHBva2UoKSBpcyB0aGF0IGl0IGFsd2F5cyB3cml0ZXMgdG8gdGhlXG4gICAgIGk4LXNpemVkIGhlYXAgdmlldy5cbiAgKi9cbiAgdGFyZ2V0LnBva2U4ID0gKHB0ciwgdmFsdWUpPT50YXJnZXQucG9rZShwdHIsIHZhbHVlLCAnaTgnKTtcbiAgLyoqIGkxNiB2YXJpYW50IG9mIHBlZWs4KCkuICovXG4gIHRhcmdldC5wZWVrMTYgPSAoLi4ucHRyKT0+dGFyZ2V0LnBlZWsoICgxPT09cHRyLmxlbmd0aCA/IHB0clswXSA6IHB0ciksICdpMTYnICk7XG4gIC8qKiBpMTYgdmFyaWFudCBvZiBwb2tlOCgpLiAqL1xuICB0YXJnZXQucG9rZTE2ID0gKHB0ciwgdmFsdWUpPT50YXJnZXQucG9rZShwdHIsIHZhbHVlLCAnaTE2Jyk7XG4gIC8qKiBpMzIgdmFyaWFudCBvZiBwZWVrOCgpLiAqL1xuICB0YXJnZXQucGVlazMyID0gKC4uLnB0cik9PnRhcmdldC5wZWVrKCAoMT09PXB0ci5sZW5ndGggPyBwdHJbMF0gOiBwdHIpLCAnaTMyJyApO1xuICAvKiogaTMyIHZhcmlhbnQgb2YgcG9rZTgoKS4gKi9cbiAgdGFyZ2V0LnBva2UzMiA9IChwdHIsIHZhbHVlKT0+dGFyZ2V0LnBva2UocHRyLCB2YWx1ZSwgJ2kzMicpO1xuICAvKiogaTY0IHZhcmlhbnQgb2YgcGVlazgoKS4gV2lsbCB0aHJvdyBpZiB0aGlzIGJ1aWxkIGlzIG5vdFxuICAgICAgY29uZmlndXJlZCBmb3IgQmlnSW50IHN1cHBvcnQuICovXG4gIHRhcmdldC5wZWVrNjQgPSAoLi4ucHRyKT0+dGFyZ2V0LnBlZWsoICgxPT09cHRyLmxlbmd0aCA/IHB0clswXSA6IHB0ciksICdpNjQnICk7XG4gIC8qKiBpNjQgdmFyaWFudCBvZiBwb2tlOCgpLiBXaWxsIHRocm93IGlmIHRoaXMgYnVpbGQgaXMgbm90XG4gICAgICBjb25maWd1cmVkIGZvciBCaWdJbnQgc3VwcG9ydC4gTm90ZSB0aGF0IHRoaXMgcmV0dXJuc1xuICAgICAgYSBCaWdJbnQtdHlwZSB2YWx1ZSwgbm90IGEgTnVtYmVyLXR5cGUgdmFsdWUuICovXG4gIHRhcmdldC5wb2tlNjQgPSAocHRyLCB2YWx1ZSk9PnRhcmdldC5wb2tlKHB0ciwgdmFsdWUsICdpNjQnKTtcbiAgLyoqIGYzMiB2YXJpYW50IG9mIHBlZWs4KCkuICovXG4gIHRhcmdldC5wZWVrMzJmID0gKC4uLnB0cik9PnRhcmdldC5wZWVrKCAoMT09PXB0ci5sZW5ndGggPyBwdHJbMF0gOiBwdHIpLCAnZjMyJyApO1xuICAvKiogZjMyIHZhcmlhbnQgb2YgcG9rZTgoKS4gKi9cbiAgdGFyZ2V0LnBva2UzMmYgPSAocHRyLCB2YWx1ZSk9PnRhcmdldC5wb2tlKHB0ciwgdmFsdWUsICdmMzInKTtcbiAgLyoqIGY2NCB2YXJpYW50IG9mIHBlZWs4KCkuICovXG4gIHRhcmdldC5wZWVrNjRmID0gKC4uLnB0cik9PnRhcmdldC5wZWVrKCAoMT09PXB0ci5sZW5ndGggPyBwdHJbMF0gOiBwdHIpLCAnZjY0JyApO1xuICAvKiogZjY0IHZhcmlhbnQgb2YgcG9rZTgoKS4gKi9cbiAgdGFyZ2V0LnBva2U2NGYgPSAocHRyLCB2YWx1ZSk9PnRhcmdldC5wb2tlKHB0ciwgdmFsdWUsICdmNjQnKTtcblxuICAvKiogRGVwcmVjYXRlZCBhbGlhcyBmb3IgZ2V0TWVtVmFsdWUoKSAqL1xuICB0YXJnZXQuZ2V0TWVtVmFsdWUgPSB0YXJnZXQucGVlaztcbiAgLyoqIERlcHJlY2F0ZWQgYWxpYXMgZm9yIHBlZWtQdHIoKSAqL1xuICB0YXJnZXQuZ2V0UHRyVmFsdWUgPSB0YXJnZXQucGVla1B0cjtcbiAgLyoqIERlcHJlY2F0ZWQgYWxpYXMgZm9yIHBva2UoKSAqL1xuICB0YXJnZXQuc2V0TWVtVmFsdWUgPSB0YXJnZXQucG9rZTtcbiAgLyoqIERlcHJlY2F0ZWQgYWxpYXMgZm9yIHBva2VQdHIoKSAqL1xuICB0YXJnZXQuc2V0UHRyVmFsdWUgPSB0YXJnZXQucG9rZVB0cjtcblxuICAvKipcbiAgICAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBhcHBlYXJzIHRvIGJlIGxlZ2FsIGZvciB1c2UgYXNcbiAgICAgYSBXQVNNIHBvaW50ZXIgdmFsdWUuIEl0cyBfcmFuZ2VfIG9mIHZhbHVlcyBpcyBub3QgKGNhbm5vdCBiZSlcbiAgICAgdmFsaWRhdGVkIGV4Y2VwdCB0byBlbnN1cmUgdGhhdCBpdCBpcyBhIDMyLWJpdCBpbnRlZ2VyIHdpdGggYVxuICAgICB2YWx1ZSBvZiAwIG9yIGdyZWF0ZXIuIExpa2V3aXNlLCBpdCBjYW5ub3QgdmVyaWZ5IHdoZXRoZXIgdGhlXG4gICAgIHZhbHVlIGFjdHVhbGx5IHJlZmVycyB0byBhbGxvY2F0ZWQgbWVtb3J5IGluIHRoZSBXQVNNIGhlYXAuXG4gICovXG4gIHRhcmdldC5pc1B0cjMyID0gKHB0cik9PignbnVtYmVyJz09PXR5cGVvZiBwdHIgJiYgKHB0cj09PShwdHJ8MCkpICYmIHB0cj49MCk7XG5cbiAgLyoqXG4gICAgIGlzUHRyKCkgaXMgYW4gYWxpYXMgZm9yIGlzUHRyMzIoKS4gSWYvd2hlbiA2NC1iaXQgV0FTTSBwb2ludGVyXG4gICAgIHN1cHBvcnQgYmVjb21lcyB3aWRlc3ByZWFkLCBpdCB3aWxsIGJlY29tZSBhbiBhbGlhcyBmb3IgZWl0aGVyXG4gICAgIGlzUHRyMzIoKSBvciB0aGUgYXMteWV0LWh5cG90aGV0aWNhbCBpc1B0cjY0KCksIGRlcGVuZGluZyBvbiBhXG4gICAgIGNvbmZpZ3VyYXRpb24gb3B0aW9uLlxuICAqL1xuICB0YXJnZXQuaXNQdHIgPSB0YXJnZXQuaXNQdHIzMjtcblxuICAvKipcbiAgICAgRXhwZWN0cyBwdHIgdG8gYmUgYSBwb2ludGVyIGludG8gdGhlIFdBU00gaGVhcCBtZW1vcnkgd2hpY2hcbiAgICAgcmVmZXJzIHRvIGEgTlVMLXRlcm1pbmF0ZWQgQy1zdHlsZSBzdHJpbmcgZW5jb2RlZCBhcyBVVEYtOC5cbiAgICAgUmV0dXJucyB0aGUgbGVuZ3RoLCBpbiBieXRlcywgb2YgdGhlIHN0cmluZywgYXMgZm9yIGBzdHJsZW4oMylgLlxuICAgICBBcyBhIHNwZWNpYWwgY2FzZSwgaWYgIXB0ciBvciBpZiBpdCdzIG5vdCBhIHBvaW50ZXIgdGhlbiBpdFxuICAgICByZXR1cm5zIGBudWxsYC4gVGhyb3dzIGlmIHB0ciBpcyBvdXQgb2YgcmFuZ2UgZm9yXG4gICAgIHRhcmdldC5oZWFwOHUoKS5cbiAgKi9cbiAgdGFyZ2V0LmNzdHJsZW4gPSBmdW5jdGlvbihwdHIpe1xuICAgIGlmKCFwdHIgfHwgIXRhcmdldC5pc1B0cihwdHIpKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBoID0gaGVhcFdyYXBwZXJzKCkuSEVBUDhVO1xuICAgIGxldCBwb3MgPSBwdHI7XG4gICAgZm9yKCA7IGhbcG9zXSAhPT0gMDsgKytwb3MgKXt9XG4gICAgcmV0dXJuIHBvcyAtIHB0cjtcbiAgfTtcblxuICAvKiogSW50ZXJuYWwgaGVscGVyIHRvIHVzZSBpbiBvcGVyYXRpb25zIHdoaWNoIG5lZWQgdG8gZGlzdGluZ3Vpc2hcbiAgICAgIGJldHdlZW4gU2hhcmVkQXJyYXlCdWZmZXIgaGVhcCBtZW1vcnkgYW5kIG5vbi1zaGFyZWQgaGVhcC4gKi9cbiAgY29uc3QgX19TQUIgPSAoJ3VuZGVmaW5lZCc9PT10eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIpXG4gICAgICAgID8gZnVuY3Rpb24oKXt9IDogU2hhcmVkQXJyYXlCdWZmZXI7XG4gIGNvbnN0IF9fdXRmOERlY29kZSA9IGZ1bmN0aW9uKGFycmF5QnVmZmVyLCBiZWdpbiwgZW5kKXtcbiAgICByZXR1cm4gY2FjaGUudXRmOERlY29kZXIuZGVjb2RlKFxuICAgICAgKGFycmF5QnVmZmVyLmJ1ZmZlciBpbnN0YW5jZW9mIF9fU0FCKVxuICAgICAgICA/IGFycmF5QnVmZmVyLnNsaWNlKGJlZ2luLCBlbmQpXG4gICAgICAgIDogYXJyYXlCdWZmZXIuc3ViYXJyYXkoYmVnaW4sIGVuZClcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgICBFeHBlY3RzIHB0ciB0byBiZSBhIHBvaW50ZXIgaW50byB0aGUgV0FTTSBoZWFwIG1lbW9yeSB3aGljaFxuICAgICByZWZlcnMgdG8gYSBOVUwtdGVybWluYXRlZCBDLXN0eWxlIHN0cmluZyBlbmNvZGVkIGFzIFVURi04LiBUaGlzXG4gICAgIGZ1bmN0aW9uIGNvdW50cyBpdHMgYnl0ZSBsZW5ndGggdXNpbmcgY3N0cmxlbigpIHRoZW4gcmV0dXJucyBhXG4gICAgIEpTLWZvcm1hdCBzdHJpbmcgcmVwcmVzZW50aW5nIGl0cyBjb250ZW50cy4gQXMgYSBzcGVjaWFsIGNhc2UsIGlmXG4gICAgIHB0ciBpcyBmYWxzeSBvciBub3QgYSBwb2ludGVyLCBgbnVsbGAgaXMgcmV0dXJuZWQuXG4gICovXG4gIHRhcmdldC5jc3RyVG9KcyA9IGZ1bmN0aW9uKHB0cil7XG4gICAgY29uc3QgbiA9IHRhcmdldC5jc3RybGVuKHB0cik7XG4gICAgcmV0dXJuIG4gPyBfX3V0ZjhEZWNvZGUoaGVhcFdyYXBwZXJzKCkuSEVBUDhVLCBwdHIsIHB0cituKSA6IChudWxsPT09biA/IG4gOiBcIlwiKTtcbiAgfTtcblxuICAvKipcbiAgICAgR2l2ZW4gYSBKUyBzdHJpbmcsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHMgVVRGLTggbGVuZ3RoIGluXG4gICAgIGJ5dGVzLiBSZXR1cm5zIG51bGwgaWYgc3RyIGlzIG5vdCBhIHN0cmluZy5cbiAgKi9cbiAgdGFyZ2V0LmpzdHJsZW4gPSBmdW5jdGlvbihzdHIpe1xuICAgIC8qKiBBdHRyaWJ1dGlvbjogZGVyaXZlZCBmcm9tIEVtc2NyaXB0ZW4ncyBsZW5ndGhCeXRlc1VURjgoKSAqL1xuICAgIGlmKCdzdHJpbmcnIT09dHlwZW9mIHN0cikgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgbiA9IHN0ci5sZW5ndGg7XG4gICAgbGV0IGxlbiA9IDA7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG47ICsraSl7XG4gICAgICBsZXQgdSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgaWYodT49MHhkODAwICYmIHU8PTB4ZGZmZil7XG4gICAgICAgIHUgPSAweDEwMDAwICsgKCh1ICYgMHgzRkYpIDw8IDEwKSB8IChzdHIuY2hhckNvZGVBdCgrK2kpICYgMHgzRkYpO1xuICAgICAgfVxuICAgICAgaWYodTw9MHg3ZikgKytsZW47XG4gICAgICBlbHNlIGlmKHU8PTB4N2ZmKSBsZW4gKz0gMjtcbiAgICAgIGVsc2UgaWYodTw9MHhmZmZmKSBsZW4gKz0gMztcbiAgICAgIGVsc2UgbGVuICs9IDQ7XG4gICAgfVxuICAgIHJldHVybiBsZW47XG4gIH07XG5cbiAgLyoqXG4gICAgIEVuY29kZXMgdGhlIGdpdmVuIEpTIHN0cmluZyBhcyBVVEY4IGludG8gdGhlIGdpdmVuIFR5cGVkQXJyYXlcbiAgICAgdGd0LCBzdGFydGluZyBhdCB0aGUgZ2l2ZW4gb2Zmc2V0IGFuZCB3cml0aW5nLCBhdCBtb3N0LCBtYXhCeXRlc1xuICAgICBieXRlcyAoaW5jbHVkaW5nIHRoZSBOVUwgdGVybWluYXRvciBpZiBhZGROdWwgaXMgdHJ1ZSwgZWxzZSBub1xuICAgICBOVUwgaXMgYWRkZWQpLiBJZiBpdCB3cml0ZXMgYW55IGJ5dGVzIGF0IGFsbCBhbmQgYWRkTnVsIGlzIHRydWUsXG4gICAgIGl0IGFsd2F5cyBOVUwtdGVybWluYXRlcyB0aGUgb3V0cHV0LCBldmVuIGlmIGRvaW5nIHNvIG1lYW5zIHRoYXRcbiAgICAgdGhlIE5VTCBieXRlIGlzIGFsbCB0aGF0IGl0IHdyaXRlcy5cblxuICAgICBJZiBtYXhCeXRlcyBpcyBuZWdhdGl2ZSAodGhlIGRlZmF1bHQpIHRoZW4gaXQgaXMgdHJlYXRlZCBhcyB0aGVcbiAgICAgcmVtYWluaW5nIGxlbmd0aCBvZiB0Z3QsIHN0YXJ0aW5nIGF0IHRoZSBnaXZlbiBvZmZzZXQuXG5cbiAgICAgSWYgd3JpdGluZyB0aGUgbGFzdCBjaGFyYWN0ZXIgd291bGQgc3VycGFzcyB0aGUgbWF4Qnl0ZXMgY291bnRcbiAgICAgYmVjYXVzZSB0aGUgY2hhcmFjdGVyIGlzIG11bHRpLWJ5dGUsIHRoYXQgY2hhcmFjdGVyIHdpbGwgbm90IGJlXG4gICAgIHdyaXR0ZW4gKGFzIG9wcG9zZWQgdG8gd3JpdGluZyBhIHRydW5jYXRlZCBtdWx0aS1ieXRlIGNoYXJhY3RlcikuXG4gICAgIFRoaXMgY2FuIGxlYWQgdG8gaXQgd3JpdGluZyBhcyBtYW55IGFzIDMgZmV3ZXIgYnl0ZXMgdGhhblxuICAgICBtYXhCeXRlcyBzcGVjaWZpZXMuXG5cbiAgICAgUmV0dXJucyB0aGUgbnVtYmVyIG9mIGJ5dGVzIHdyaXR0ZW4gdG8gdGhlIHRhcmdldCwgX2luY2x1ZGluZ19cbiAgICAgdGhlIE5VTCB0ZXJtaW5hdG9yIChpZiBhbnkpLiBJZiBpdCByZXR1cm5zIDAsIGl0IHdyb3RlIG5vdGhpbmcgYXRcbiAgICAgYWxsLCB3aGljaCBjYW4gaGFwcGVuIGlmOlxuXG4gICAgIC0gc3RyIGlzIGVtcHR5IGFuZCBhZGROdWwgaXMgZmFsc2UuXG4gICAgIC0gb2Zmc2V0IDwgMC5cbiAgICAgLSBtYXhCeXRlcyA9PSAwLlxuICAgICAtIG1heEJ5dGVzIGlzIGxlc3MgdGhhbiB0aGUgYnl0ZSBsZW5ndGggb2YgYSBtdWx0aS1ieXRlIHN0clswXS5cblxuICAgICBUaHJvd3MgaWYgdGd0IGlzIG5vdCBhbiBJbnQ4QXJyYXkgb3IgVWludDhBcnJheS5cblxuICAgICBEZXNpZ24gbm90ZXM6XG5cbiAgICAgLSBJbiBDJ3Mgc3RyY3B5KCksIHRoZSBkZXN0aW5hdGlvbiBwb2ludGVyIGlzIHRoZSBmaXJzdFxuICAgICAgIGFyZ3VtZW50LiBUaGF0IGlzIG5vdCB0aGUgY2FzZSBoZXJlIHByaW1hcmlseSBiZWNhdXNlIHRoZSAzcmQrXG4gICAgICAgYXJndW1lbnRzIGFyZSBhbGwgcmVmZXJyaW5nIHRvIHRoZSBkZXN0aW5hdGlvbiwgc28gaXQgc2VlbXMgdG9cbiAgICAgICBtYWtlIHNlbnNlIHRvIGhhdmUgdGhlbSBncm91cGVkIHdpdGggaXQuXG5cbiAgICAgLSBFbXNjcmlwdGVuJ3MgY291bnRlcnBhcnQgb2YgdGhpcyBmdW5jdGlvbiAoc3RyaW5nVG9VVEY4QXJyYXkoKSlcbiAgICAgICByZXR1cm5zIHRoZSBudW1iZXIgb2YgYnl0ZXMgd3JpdHRlbiBzYW5zIE5VTCB0ZXJtaW5hdG9yLiBUaGF0XG4gICAgICAgaXMsIGhvd2V2ZXIsIGFtYmlndW91czogc3RyLmxlbmd0aD09PTAgb3IgbWF4Qnl0ZXM9PT0oMCBvciAxKVxuICAgICAgIGFsbCBjYXVzZSAwIHRvIGJlIHJldHVybmVkLlxuICAqL1xuICB0YXJnZXQuanN0cmNweSA9IGZ1bmN0aW9uKGpzdHIsIHRndCwgb2Zmc2V0ID0gMCwgbWF4Qnl0ZXMgPSAtMSwgYWRkTnVsID0gdHJ1ZSl7XG4gICAgLyoqIEF0dHJpYnV0aW9uOiB0aGUgZW5jb2RpbmcgYml0cyBhcmUgdGFrZW4gZnJvbSBFbXNjcmlwdGVuJ3NcbiAgICAgICAgc3RyaW5nVG9VVEY4QXJyYXkoKS4gKi9cbiAgICBpZighdGd0IHx8ICghKHRndCBpbnN0YW5jZW9mIEludDhBcnJheSkgJiYgISh0Z3QgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkpe1xuICAgICAgdG9zcyhcImpzdHJjcHkoKSB0YXJnZXQgbXVzdCBiZSBhbiBJbnQ4QXJyYXkgb3IgVWludDhBcnJheS5cIik7XG4gICAgfVxuICAgIGlmKG1heEJ5dGVzPDApIG1heEJ5dGVzID0gdGd0Lmxlbmd0aCAtIG9mZnNldDtcbiAgICBpZighKG1heEJ5dGVzPjApIHx8ICEob2Zmc2V0Pj0wKSkgcmV0dXJuIDA7XG4gICAgbGV0IGkgPSAwLCBtYXggPSBqc3RyLmxlbmd0aDtcbiAgICBjb25zdCBiZWdpbiA9IG9mZnNldCwgZW5kID0gb2Zmc2V0ICsgbWF4Qnl0ZXMgLSAoYWRkTnVsID8gMSA6IDApO1xuICAgIGZvcig7IGkgPCBtYXggJiYgb2Zmc2V0IDwgZW5kOyArK2kpe1xuICAgICAgbGV0IHUgPSBqc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICBpZih1Pj0weGQ4MDAgJiYgdTw9MHhkZmZmKXtcbiAgICAgICAgdSA9IDB4MTAwMDAgKyAoKHUgJiAweDNGRikgPDwgMTApIHwgKGpzdHIuY2hhckNvZGVBdCgrK2kpICYgMHgzRkYpO1xuICAgICAgfVxuICAgICAgaWYodTw9MHg3Zil7XG4gICAgICAgIGlmKG9mZnNldCA+PSBlbmQpIGJyZWFrO1xuICAgICAgICB0Z3Rbb2Zmc2V0KytdID0gdTtcbiAgICAgIH1lbHNlIGlmKHU8PTB4N2ZmKXtcbiAgICAgICAgaWYob2Zmc2V0ICsgMSA+PSBlbmQpIGJyZWFrO1xuICAgICAgICB0Z3Rbb2Zmc2V0KytdID0gMHhDMCB8ICh1ID4+IDYpO1xuICAgICAgICB0Z3Rbb2Zmc2V0KytdID0gMHg4MCB8ICh1ICYgMHgzZik7XG4gICAgICB9ZWxzZSBpZih1PD0weGZmZmYpe1xuICAgICAgICBpZihvZmZzZXQgKyAyID49IGVuZCkgYnJlYWs7XG4gICAgICAgIHRndFtvZmZzZXQrK10gPSAweGUwIHwgKHUgPj4gMTIpO1xuICAgICAgICB0Z3Rbb2Zmc2V0KytdID0gMHg4MCB8ICgodSA+PiA2KSAmIDB4M2YpO1xuICAgICAgICB0Z3Rbb2Zmc2V0KytdID0gMHg4MCB8ICh1ICYgMHgzZik7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgaWYob2Zmc2V0ICsgMyA+PSBlbmQpIGJyZWFrO1xuICAgICAgICB0Z3Rbb2Zmc2V0KytdID0gMHhmMCB8ICh1ID4+IDE4KTtcbiAgICAgICAgdGd0W29mZnNldCsrXSA9IDB4ODAgfCAoKHUgPj4gMTIpICYgMHgzZik7XG4gICAgICAgIHRndFtvZmZzZXQrK10gPSAweDgwIHwgKCh1ID4+IDYpICYgMHgzZik7XG4gICAgICAgIHRndFtvZmZzZXQrK10gPSAweDgwIHwgKHUgJiAweDNmKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYoYWRkTnVsKSB0Z3Rbb2Zmc2V0KytdID0gMDtcbiAgICByZXR1cm4gb2Zmc2V0IC0gYmVnaW47XG4gIH07XG5cbiAgLyoqXG4gICAgIFdvcmtzIHNpbWlsYXJseSB0byBDJ3Mgc3RybmNweSgpLCBjb3B5aW5nLCBhdCBtb3N0LCBuIGJ5dGVzIChub3RcbiAgICAgY2hhcmFjdGVycykgZnJvbSBzcmNQdHIgdG8gdGd0UHRyLiBJdCBjb3BpZXMgdW50aWwgbiBieXRlcyBoYXZlXG4gICAgIGJlZW4gY29waWVkIG9yIGEgMCBieXRlIGlzIHJlYWNoZWQgaW4gc3JjLiBfVW5saWtlXyBzdHJuY3B5KCksIGl0XG4gICAgIHJldHVybnMgdGhlIG51bWJlciBvZiBieXRlcyBpdCBhc3NpZ25zIGluIHRndFB0ciwgX2luY2x1ZGluZ18gdGhlXG4gICAgIE5VTCBieXRlIChpZiBhbnkpLiBJZiBuIGlzIHJlYWNoZWQgYmVmb3JlIGEgTlVMIGJ5dGUgaW4gc3JjUHRyLFxuICAgICB0Z3RQdHIgd2lsbCBfbm90XyBiZSBOVUxMLXRlcm1pbmF0ZWQuIElmIGEgTlVMIGJ5dGUgaXMgcmVhY2hlZFxuICAgICBiZWZvcmUgbiBieXRlcyBhcmUgY29waWVkLCB0Z3RQdHIgd2lsbCBiZSBOVUwtdGVybWluYXRlZC5cblxuICAgICBJZiBuIGlzIG5lZ2F0aXZlLCBjc3RybGVuKHNyY1B0cikrMSBpcyB1c2VkIHRvIGNhbGN1bGF0ZSBpdCwgdGhlXG4gICAgICsxIGJlaW5nIGZvciB0aGUgTlVMIGJ5dGUuXG5cbiAgICAgVGhyb3dzIGlmIHRndFB0ciBvciBzcmNQdHIgYXJlIGZhbHN5LiBSZXN1bHRzIGFyZSB1bmRlZmluZWQgaWY6XG5cbiAgICAgLSBlaXRoZXIgaXMgbm90IGEgcG9pbnRlciBpbnRvIHRoZSBXQVNNIGhlYXAgb3JcblxuICAgICAtIHNyY1B0ciBpcyBub3QgTlVMLXRlcm1pbmF0ZWQgQU5EIG4gaXMgbGVzcyB0aGFuIHNyY1B0cidzXG4gICAgICAgbG9naWNhbCBsZW5ndGguXG5cbiAgICAgQUNIVFVORzogaXQgaXMgcG9zc2libGUgdG8gY29weSBwYXJ0aWFsIG11bHRpLWJ5dGUgY2hhcmFjdGVyc1xuICAgICB0aGlzIHdheSwgYW5kIGNvbnZlcnRpbmcgc3VjaCBzdHJpbmdzIGJhY2sgdG8gSlMgc3RyaW5ncyB3aWxsXG4gICAgIGhhdmUgdW5kZWZpbmVkIHJlc3VsdHMuXG4gICovXG4gIHRhcmdldC5jc3RybmNweSA9IGZ1bmN0aW9uKHRndFB0ciwgc3JjUHRyLCBuKXtcbiAgICBpZighdGd0UHRyIHx8ICFzcmNQdHIpIHRvc3MoXCJjc3RybmNweSgpIGRvZXMgbm90IGFjY2VwdCBOVUxMIHN0cmluZ3MuXCIpO1xuICAgIGlmKG48MCkgbiA9IHRhcmdldC5jc3RybGVuKHN0clB0cikrMTtcbiAgICBlbHNlIGlmKCEobj4wKSkgcmV0dXJuIDA7XG4gICAgY29uc3QgaGVhcCA9IHRhcmdldC5oZWFwOHUoKTtcbiAgICBsZXQgaSA9IDAsIGNoO1xuICAgIGZvcig7IGkgPCBuICYmIChjaCA9IGhlYXBbc3JjUHRyK2ldKTsgKytpKXtcbiAgICAgIGhlYXBbdGd0UHRyK2ldID0gY2g7XG4gICAgfVxuICAgIGlmKGk8bikgaGVhcFt0Z3RQdHIgKyBpKytdID0gMDtcbiAgICByZXR1cm4gaTtcbiAgfTtcblxuICAvKipcbiAgICAgRm9yIHRoZSBnaXZlbiBKUyBzdHJpbmcsIHJldHVybnMgYSBVaW50OEFycmF5IG9mIGl0cyBjb250ZW50c1xuICAgICBlbmNvZGVkIGFzIFVURi04LiBJZiBhZGROdWwgaXMgdHJ1ZSwgdGhlIHJldHVybmVkIGFycmF5IHdpbGwgaGF2ZVxuICAgICBhIHRyYWlsaW5nIDAgZW50cnksIGVsc2UgaXQgd2lsbCBub3QuXG4gICovXG4gIHRhcmdldC5qc3RyVG9VaW50QXJyYXkgPSAoc3RyLCBhZGROdWw9ZmFsc2UpPT57XG4gICAgcmV0dXJuIGNhY2hlLnV0ZjhFbmNvZGVyLmVuY29kZShhZGROdWwgPyAoc3RyK1wiXFwwXCIpIDogc3RyKTtcbiAgICAvLyBPciB0aGUgaGFyZCB3YXkuLi5cbiAgICAvKiogQXR0cmlidXRpb246IGRlcml2ZWQgZnJvbSBFbXNjcmlwdGVuJ3Mgc3RyaW5nVG9VVEY4QXJyYXkoKSAqL1xuICAgIC8vY29uc3QgYSA9IFtdLCBtYXggPSBzdHIubGVuZ3RoO1xuICAgIC8vbGV0IGkgPSAwLCBwb3MgPSAwO1xuICAgIC8vZm9yKDsgaSA8IG1heDsgKytpKXtcbiAgICAvLyAgbGV0IHUgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAvLyAgaWYodT49MHhkODAwICYmIHU8PTB4ZGZmZil7XG4gICAgLy8gICAgdSA9IDB4MTAwMDAgKyAoKHUgJiAweDNGRikgPDwgMTApIHwgKHN0ci5jaGFyQ29kZUF0KCsraSkgJiAweDNGRik7XG4gICAgLy8gIH1cbiAgICAvLyAgaWYodTw9MHg3ZikgYVtwb3MrK10gPSB1O1xuICAgIC8vICBlbHNlIGlmKHU8PTB4N2ZmKXtcbiAgICAvLyAgICBhW3BvcysrXSA9IDB4QzAgfCAodSA+PiA2KTtcbiAgICAvLyAgICBhW3BvcysrXSA9IDB4ODAgfCAodSAmIDYzKTtcbiAgICAvLyAgfWVsc2UgaWYodTw9MHhmZmZmKXtcbiAgICAvLyAgICBhW3BvcysrXSA9IDB4ZTAgfCAodSA+PiAxMik7XG4gICAgLy8gICAgYVtwb3MrK10gPSAweDgwIHwgKCh1ID4+IDYpICYgNjMpO1xuICAgIC8vICAgIGFbcG9zKytdID0gMHg4MCB8ICh1ICYgNjMpO1xuICAgIC8vICB9ZWxzZXtcbiAgICAvLyAgICBhW3BvcysrXSA9IDB4ZjAgfCAodSA+PiAxOCk7XG4gICAgLy8gICAgYVtwb3MrK10gPSAweDgwIHwgKCh1ID4+IDEyKSAmIDYzKTtcbiAgICAvLyAgICBhW3BvcysrXSA9IDB4ODAgfCAoKHUgPj4gNikgJiA2Myk7XG4gICAgLy8gICAgYVtwb3MrK10gPSAweDgwIHwgKHUgJiA2Myk7XG4gICAgLy8gIH1cbiAgICAvLyB9XG4gICAgLy8gcmV0dXJuIG5ldyBVaW50OEFycmF5KGEpO1xuICB9O1xuXG4gIGNvbnN0IF9fYWZmaXJtQWxsb2MgPSAob2JqLGZ1bmNOYW1lKT0+e1xuICAgIGlmKCEob2JqLmFsbG9jIGluc3RhbmNlb2YgRnVuY3Rpb24pIHx8XG4gICAgICAgIShvYmouZGVhbGxvYyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSl7XG4gICAgICB0b3NzKFwiT2JqZWN0IGlzIG1pc3NpbmcgYWxsb2MoKSBhbmQvb3IgZGVhbGxvYygpIGZ1bmN0aW9uKHMpXCIsXG4gICAgICAgICAgIFwicmVxdWlyZWQgYnlcIixmdW5jTmFtZStcIigpLlwiKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgX19hbGxvY0NTdHIgPSBmdW5jdGlvbihqc3RyLCByZXR1cm5XaXRoTGVuZ3RoLCBhbGxvY2F0b3IsIGZ1bmNOYW1lKXtcbiAgICBfX2FmZmlybUFsbG9jKHRhcmdldCwgZnVuY05hbWUpO1xuICAgIGlmKCdzdHJpbmcnIT09dHlwZW9mIGpzdHIpIHJldHVybiBudWxsO1xuICAgIGlmKDApey8qIG9sZGVyIGltcGwsIHBvc3NpYmx5IG1vcmUgd2lkZWx5IGNvbXBhdGlibGU/ICovXG4gICAgICBjb25zdCBuID0gdGFyZ2V0LmpzdHJsZW4oanN0ciksXG4gICAgICAgICAgICBwdHIgPSBhbGxvY2F0b3IobisxKTtcbiAgICAgIHRhcmdldC5qc3RyY3B5KGpzdHIsIHRhcmdldC5oZWFwOHUoKSwgcHRyLCBuKzEsIHRydWUpO1xuICAgICAgcmV0dXJuIHJldHVybldpdGhMZW5ndGggPyBbcHRyLCBuXSA6IHB0cjtcbiAgICB9ZWxzZXsvKiBuZXdlciwgKHByb2JhYmx5KSBmYXN0ZXIgYW5kIChjZXJ0YWlubHkpIHNpbXBsZXIgaW1wbCAqL1xuICAgICAgY29uc3QgdSA9IGNhY2hlLnV0ZjhFbmNvZGVyLmVuY29kZShqc3RyKSxcbiAgICAgICAgICAgIHB0ciA9IGFsbG9jYXRvcih1Lmxlbmd0aCsxKSxcbiAgICAgICAgICAgIGhlYXAgPSBoZWFwV3JhcHBlcnMoKS5IRUFQOFU7XG4gICAgICBoZWFwLnNldCh1LCBwdHIpO1xuICAgICAgaGVhcFtwdHIgKyB1Lmxlbmd0aF0gPSAwO1xuICAgICAgcmV0dXJuIHJldHVybldpdGhMZW5ndGggPyBbcHRyLCB1Lmxlbmd0aF0gOiBwdHI7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgICBVc2VzIHRhcmdldC5hbGxvYygpIHRvIGFsbG9jYXRlIGVub3VnaCBtZW1vcnkgZm9yIGpzdHJsZW4oanN0cikrMVxuICAgICBieXRlcyBvZiBtZW1vcnksIGNvcGllcyBqc3RyIHRvIHRoYXQgbWVtb3J5IHVzaW5nIGpzdHJjcHkoKSxcbiAgICAgTlVMLXRlcm1pbmF0ZXMgaXQsIGFuZCByZXR1cm5zIHRoZSBwb2ludGVyIHRvIHRoYXQgQy1zdHJpbmcuXG4gICAgIE93bmVyc2hpcCBvZiB0aGUgcG9pbnRlciBpcyB0cmFuc2ZlcmVkIHRvIHRoZSBjYWxsZXIsIHdobyBtdXN0XG4gICAgIGV2ZW50dWFsbHkgcGFzcyB0aGUgcG9pbnRlciB0byBkZWFsbG9jKCkgdG8gZnJlZSBpdC5cblxuICAgICBJZiBwYXNzZWQgYSB0cnV0aHkgMm5kIGFyZ3VtZW50IHRoZW4gaXRzIHJldHVybiBzZW1hbnRpY3MgY2hhbmdlOlxuICAgICBpdCByZXR1cm5zIFtwdHIsbl0sIHdoZXJlIHB0ciBpcyB0aGUgQy1zdHJpbmcncyBwb2ludGVyIGFuZCBuIGlzXG4gICAgIGl0cyBjc3RybGVuKCkuXG5cbiAgICAgVGhyb3dzIGlmIGB0YXJnZXQuYWxsb2NgIG9yIGB0YXJnZXQuZGVhbGxvY2AgYXJlIG5vdCBmdW5jdGlvbnMuXG4gICovXG4gIHRhcmdldC5hbGxvY0NTdHJpbmcgPVxuICAgIChqc3RyLCByZXR1cm5XaXRoTGVuZ3RoPWZhbHNlKT0+X19hbGxvY0NTdHIoanN0ciwgcmV0dXJuV2l0aExlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5hbGxvYywgJ2FsbG9jQ1N0cmluZygpJyk7XG5cbiAgLyoqXG4gICAgIFN0YXJ0cyBhbiBcImFsbG9jYXRpb24gc2NvcGUuXCIgQWxsIGFsbG9jYXRpb25zIG1hZGUgdXNpbmdcbiAgICAgc2NvcGVkQWxsb2MoKSBhcmUgcmVjb3JkZWQgaW4gdGhpcyBzY29wZSBhbmQgYXJlIGZyZWVkIHdoZW4gdGhlXG4gICAgIHZhbHVlIHJldHVybmVkIGZyb20gdGhpcyBmdW5jdGlvbiBpcyBwYXNzZWQgdG9cbiAgICAgc2NvcGVkQWxsb2NQb3AoKS5cblxuICAgICBUaGlzIGZhbWlseSBvZiBmdW5jdGlvbnMgcmVxdWlyZXMgdGhhdCB0aGUgQVBJJ3Mgb2JqZWN0IGhhdmUgYm90aFxuICAgICBgYWxsb2MoKWAgYW5kIGBkZWFsbG9jKClgIG1ldGhvZHMsIGVsc2UgdGhpcyBmdW5jdGlvbiB3aWxsIHRocm93LlxuXG4gICAgIEludGVuZGVkIHVzYWdlOlxuXG4gICAgIGBgYFxuICAgICBjb25zdCBzY29wZSA9IHNjb3BlZEFsbG9jUHVzaCgpO1xuICAgICB0cnkge1xuICAgICAgIGNvbnN0IHB0cjEgPSBzY29wZWRBbGxvYygxMDApO1xuICAgICAgIGNvbnN0IHB0cjIgPSBzY29wZWRBbGxvYygyMDApO1xuICAgICAgIGNvbnN0IHB0cjMgPSBzY29wZWRBbGxvYygzMDApO1xuICAgICAgIC4uLlxuICAgICAgIC8vIE5vdGUgdGhhdCBvbmx5IGFsbG9jYXRpb25zIG1hZGUgdmlhIHNjb3BlZEFsbG9jKClcbiAgICAgICAvLyBhcmUgbWFuYWdlZCBieSB0aGlzIGFsbG9jYXRpb24gc2NvcGUuXG4gICAgIH1maW5hbGx5e1xuICAgICAgIHNjb3BlZEFsbG9jUG9wKHNjb3BlKTtcbiAgICAgfVxuICAgICBgYGBcblxuICAgICBUaGUgdmFsdWUgcmV0dXJuZWQgYnkgdGhpcyBmdW5jdGlvbiBtdXN0IGJlIHRyZWF0ZWQgYXMgb3BhcXVlIGJ5XG4gICAgIHRoZSBjYWxsZXIsIHN1aXRhYmxlIF9vbmx5XyBmb3IgcGFzc2luZyB0byBzY29wZWRBbGxvY1BvcCgpLlxuICAgICBJdHMgdHlwZSBhbmQgdmFsdWUgYXJlIG5vdCBwYXJ0IG9mIHRoaXMgZnVuY3Rpb24ncyBBUEkgYW5kIG1heVxuICAgICBjaGFuZ2UgaW4gYW55IGdpdmVuIHZlcnNpb24gb2YgdGhpcyBjb2RlLlxuXG4gICAgIGBzY29wZWRBbGxvYy5sZXZlbGAgY2FuIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGhvdyBtYW55IHNjb3BlZFxuICAgICBhbGxvYyBsZXZlbHMgYXJlIGN1cnJlbnRseSBhY3RpdmUuXG4gICAqL1xuICB0YXJnZXQuc2NvcGVkQWxsb2NQdXNoID0gZnVuY3Rpb24oKXtcbiAgICBfX2FmZmlybUFsbG9jKHRhcmdldCwgJ3Njb3BlZEFsbG9jUHVzaCcpO1xuICAgIGNvbnN0IGEgPSBbXTtcbiAgICBjYWNoZS5zY29wZWRBbGxvYy5wdXNoKGEpO1xuICAgIHJldHVybiBhO1xuICB9O1xuXG4gIC8qKlxuICAgICBDbGVhbnMgdXAgYWxsIGFsbG9jYXRpb25zIG1hZGUgdXNpbmcgc2NvcGVkQWxsb2MoKSBpbiB0aGUgY29udGV4dFxuICAgICBvZiB0aGUgZ2l2ZW4gb3BhcXVlIHN0YXRlIG9iamVjdCwgd2hpY2ggbXVzdCBiZSBhIHZhbHVlIHJldHVybmVkXG4gICAgIGJ5IHNjb3BlZEFsbG9jUHVzaCgpLiBTZWUgdGhhdCBmdW5jdGlvbiBmb3IgYW4gZXhhbXBsZSBvZiBob3cgdG9cbiAgICAgdXNlIHRoaXMgZnVuY3Rpb24uXG5cbiAgICAgVGhvdWdoIHNjb3BlZCBhbGxvY2F0aW9ucyBhcmUgbWFuYWdlZCBsaWtlIGEgc3RhY2ssIHRoaXMgQVBJXG4gICAgIGJlaGF2ZXMgcHJvcGVybHkgaWYgYWxsb2NhdGlvbiBzY29wZXMgYXJlIHBvcHBlZCBpbiBhbiBvcmRlclxuICAgICBvdGhlciB0aGFuIHRoZSBvcmRlciB0aGV5IHdlcmUgcHVzaGVkLlxuXG4gICAgIElmIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cywgaXQgcG9wcyB0aGUgbW9zdCByZWNlbnRcbiAgICAgc2NvcGVkQWxsb2NQdXNoKCkgcmVzdWx0OlxuXG4gICAgIGBgYFxuICAgICBzY29wZWRBbGxvY1B1c2goKTtcbiAgICAgdHJ5eyAuLi4gfSBmaW5hbGx5IHsgc2NvcGVkQWxsb2NQb3AoKTsgfVxuICAgICBgYGBcblxuICAgICBJdCdzIGdlbmVyYWxseSByZWNvbW1lbmRlZCB0aGF0IGl0IGJlIHBhc3NlZCBhbiBleHBsaWNpdCBhcmd1bWVudFxuICAgICB0byBoZWxwIGVuc3VyZSB0aGF0IHB1c2gvcHVzaCBhcmUgdXNlZCBpbiBtYXRjaGluZyBwYWlycywgYnV0IGluXG4gICAgIHRyaXZpYWwgY29kZSB0aGF0IG1heSBiZSBhIG5vbi1pc3N1ZS5cbiAgKi9cbiAgdGFyZ2V0LnNjb3BlZEFsbG9jUG9wID0gZnVuY3Rpb24oc3RhdGUpe1xuICAgIF9fYWZmaXJtQWxsb2ModGFyZ2V0LCAnc2NvcGVkQWxsb2NQb3AnKTtcbiAgICBjb25zdCBuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgICAgID8gY2FjaGUuc2NvcGVkQWxsb2MuaW5kZXhPZihzdGF0ZSlcbiAgICAgICAgICA6IGNhY2hlLnNjb3BlZEFsbG9jLmxlbmd0aC0xO1xuICAgIGlmKG48MCkgdG9zcyhcIkludmFsaWQgc3RhdGUgb2JqZWN0IGZvciBzY29wZWRBbGxvY1BvcCgpLlwiKTtcbiAgICBpZigwPT09YXJndW1lbnRzLmxlbmd0aCkgc3RhdGUgPSBjYWNoZS5zY29wZWRBbGxvY1tuXTtcbiAgICBjYWNoZS5zY29wZWRBbGxvYy5zcGxpY2UobiwxKTtcbiAgICBmb3IobGV0IHA7IChwID0gc3RhdGUucG9wKCkpOyApe1xuICAgICAgaWYodGFyZ2V0LmZ1bmN0aW9uRW50cnkocCkpe1xuICAgICAgICAvL2NvbnNvbGUud2FybihcInNjb3BlZEFsbG9jUG9wKCkgdW5pbnN0YWxsaW5nIHRyYW5zaWVudCBmdW5jdGlvblwiLHApO1xuICAgICAgICB0YXJnZXQudW5pbnN0YWxsRnVuY3Rpb24ocCk7XG4gICAgICB9XG4gICAgICBlbHNlIHRhcmdldC5kZWFsbG9jKHApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICAgQWxsb2NhdGVzIG4gYnl0ZXMgb2YgbWVtb3J5IHVzaW5nIHRoaXMuYWxsb2MoKSBhbmQgcmVjb3JkcyB0aGF0XG4gICAgIGZhY3QgaW4gdGhlIHN0YXRlIGZvciB0aGUgbW9zdCByZWNlbnQgY2FsbCBvZiBzY29wZWRBbGxvY1B1c2goKS5cbiAgICAgT3duZXJzaGlwIG9mIHRoZSBtZW1vcnkgaXMgZ2l2ZW4gdG8gc2NvcGVkQWxsb2NQb3AoKSwgd2hpY2hcbiAgICAgd2lsbCBjbGVhbiBpdCB1cCB3aGVuIGl0IGlzIGNhbGxlZC4gVGhlIG1lbW9yeSBfbXVzdCBub3RfIGJlXG4gICAgIHBhc3NlZCB0byB0aGlzLmRlYWxsb2MoKS4gVGhyb3dzIGlmIHRoaXMgQVBJIG9iamVjdCBpcyBtaXNzaW5nXG4gICAgIHRoZSByZXF1aXJlZCBgYWxsb2MoKWAgb3IgYGRlYWxsb2MoKWAgZnVuY3Rpb25zIG9yIG5vIHNjb3BlZFxuICAgICBhbGxvYyBpcyBhY3RpdmUuXG5cbiAgICAgU2VlIHNjb3BlZEFsbG9jUHVzaCgpIGZvciBhbiBleGFtcGxlIG9mIGhvdyB0byB1c2UgdGhpcyBmdW5jdGlvbi5cblxuICAgICBUaGUgYGxldmVsYCBwcm9wZXJ0eSBvZiB0aGlzIGZ1bmN0aW9uIGNhbiBiZSBxdWVyaWVkIHRvIHF1ZXJ5IGhvd1xuICAgICBtYW55IHNjb3BlZCBhbGxvY2F0aW9uIGxldmVscyBhcmUgY3VycmVudGx5IGFjdGl2ZS5cblxuICAgICBTZWUgYWxzbzogc2NvcGVkQWxsb2NQdHIoKSwgc2NvcGVkQWxsb2NDU3RyaW5nKClcbiAgKi9cbiAgdGFyZ2V0LnNjb3BlZEFsbG9jID0gZnVuY3Rpb24obil7XG4gICAgaWYoIWNhY2hlLnNjb3BlZEFsbG9jLmxlbmd0aCl7XG4gICAgICB0b3NzKFwiTm8gc2NvcGVkQWxsb2NQdXNoKCkgc2NvcGUgaXMgYWN0aXZlLlwiKTtcbiAgICB9XG4gICAgY29uc3QgcCA9IHRhcmdldC5hbGxvYyhuKTtcbiAgICBjYWNoZS5zY29wZWRBbGxvY1tjYWNoZS5zY29wZWRBbGxvYy5sZW5ndGgtMV0ucHVzaChwKTtcbiAgICByZXR1cm4gcDtcbiAgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LnNjb3BlZEFsbG9jLCAnbGV2ZWwnLCB7XG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiAoKT0+Y2FjaGUuc2NvcGVkQWxsb2MubGVuZ3RoLFxuICAgIHNldDogKCk9PnRvc3MoXCJUaGUgJ2FjdGl2ZScgcHJvcGVydHkgaXMgcmVhZC1vbmx5LlwiKVxuICB9KTtcblxuICAvKipcbiAgICAgV29ya3MgaWRlbnRpY2FsbHkgdG8gYWxsb2NDU3RyaW5nKCkgZXhjZXB0IHRoYXQgaXQgYWxsb2NhdGVzIHRoZVxuICAgICBtZW1vcnkgdXNpbmcgc2NvcGVkQWxsb2MoKS5cblxuICAgICBXaWxsIHRocm93IGlmIG5vIHNjb3BlZEFsbG9jUHVzaCgpIGNhbGwgaXMgYWN0aXZlLlxuICAqL1xuICB0YXJnZXQuc2NvcGVkQWxsb2NDU3RyaW5nID1cbiAgICAoanN0ciwgcmV0dXJuV2l0aExlbmd0aD1mYWxzZSk9Pl9fYWxsb2NDU3RyKGpzdHIsIHJldHVybldpdGhMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc2NvcGVkQWxsb2MsICdzY29wZWRBbGxvY0NTdHJpbmcoKScpO1xuXG4gIC8vIGltcGwgZm9yIGFsbG9jTWFpbkFyZ3YoKSBhbmQgc2NvcGVkQWxsb2NNYWluQXJndigpLlxuICBjb25zdCBfX2FsbG9jTWFpbkFyZ3YgPSBmdW5jdGlvbihpc1Njb3BlZCwgbGlzdCl7XG4gICAgY29uc3QgcExpc3QgPSB0YXJnZXRbXG4gICAgICBpc1Njb3BlZCA/ICdzY29wZWRBbGxvYycgOiAnYWxsb2MnXG4gICAgXSgobGlzdC5sZW5ndGggKyAxKSAqIHRhcmdldC5wdHJTaXplb2YpO1xuICAgIGxldCBpID0gMDtcbiAgICBsaXN0LmZvckVhY2goKGUpPT57XG4gICAgICB0YXJnZXQucG9rZVB0cihwTGlzdCArICh0YXJnZXQucHRyU2l6ZW9mICogaSsrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Njb3BlZCA/ICdzY29wZWRBbGxvY0NTdHJpbmcnIDogJ2FsbG9jQ1N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgICAgICBdKFwiXCIrZSkpO1xuICAgIH0pO1xuICAgIHRhcmdldC5wb2tlUHRyKHBMaXN0ICsgKHRhcmdldC5wdHJTaXplb2YgKiBpKSwgMCk7XG4gICAgcmV0dXJuIHBMaXN0O1xuICB9O1xuXG4gIC8qKlxuICAgICBDcmVhdGVzIGFuIGFycmF5LCB1c2luZyBzY29wZWRBbGxvYygpLCBzdWl0YWJsZSBmb3IgcGFzc2luZyB0byBhXG4gICAgIEMtbGV2ZWwgbWFpbigpIHJvdXRpbmUuIFRoZSBpbnB1dCBpcyBhIGNvbGxlY3Rpb24gd2l0aCBhIGxlbmd0aFxuICAgICBwcm9wZXJ0eSBhbmQgYSBmb3JFYWNoKCkgbWV0aG9kLiBBIGJsb2NrIG9mIG1lbW9yeVxuICAgICAobGlzdC5sZW5ndGgrMSkgZW50cmllcyBsb25nIGlzIGFsbG9jYXRlZCBhbmQgZWFjaCBwb2ludGVyLXNpemVkXG4gICAgIGJsb2NrIG9mIHRoYXQgbWVtb3J5IGlzIHBvcHVsYXRlZCB3aXRoIGEgc2NvcGVkQWxsb2NDU3RyaW5nKClcbiAgICAgY29udmVyc2lvbiBvZiB0aGUgKFwiXCIrdmFsdWUpIG9mIGVhY2ggZWxlbWVudCwgd2l0aCB0aGUgZXhjZXB0aW9uXG4gICAgIHRoYXQgdGhlIGZpbmFsIGVudHJ5IGlzIGEgTlVMTCBwb2ludGVyLiBSZXR1cm5zIGEgcG9pbnRlciB0byB0aGVcbiAgICAgc3RhcnQgb2YgdGhlIGxpc3QsIHN1aXRhYmxlIGZvciBwYXNzaW5nIGFzIHRoZSAybmQgYXJndW1lbnQgdG8gYVxuICAgICBDLXN0eWxlIG1haW4oKSBmdW5jdGlvbi5cblxuICAgICBUaHJvd3MgaWYgc2NvcGVkQWxsb2NQdXNoKCkgaXMgbm90IGFjdGl2ZS5cblxuICAgICBEZXNpZ24gbm90ZTogdGhlIHJldHVybmVkIGFycmF5IGlzIGFsbG9jYXRlZCB3aXRoIGFuIGV4dHJhIE5VTExcbiAgICAgcG9pbnRlciBlbnRyeSB0byBhY2NvbW1vZGF0ZSBjZXJ0YWluIEFQSXMsIGJ1dCBjbGllbnQgY29kZSB3aGljaFxuICAgICBkb2VzIG5vdCBuZWVkIHRoYXQgZnVuY3Rpb25hbGl0eSBzaG91bGQgdHJlYXQgdGhlIHJldHVybmVkIGFycmF5XG4gICAgIGFzIGxpc3QubGVuZ3RoIGVudHJpZXMgbG9uZy5cbiAgKi9cbiAgdGFyZ2V0LnNjb3BlZEFsbG9jTWFpbkFyZ3YgPSAobGlzdCk9Pl9fYWxsb2NNYWluQXJndih0cnVlLCBsaXN0KTtcblxuICAvKipcbiAgICAgSWRlbnRpY2FsIHRvIHNjb3BlZEFsbG9jTWFpbkFyZ3YoKSBidXQgdXNlcyBhbGxvYygpIGluc3RlYWQgb2ZcbiAgICAgc2NvcGVkQWxsb2MoKS5cbiAgKi9cbiAgdGFyZ2V0LmFsbG9jTWFpbkFyZ3YgPSAobGlzdCk9Pl9fYWxsb2NNYWluQXJndihmYWxzZSwgbGlzdCk7XG5cbiAgLyoqXG4gICAgIEV4cGVjdHMgdG8gYmUgZ2l2ZW4gYSBDLXN0eWxlIHN0cmluZyBhcnJheSBhbmQgaXRzIGxlbmd0aC4gSXRcbiAgICAgcmV0dXJucyBhIEpTIGFycmF5IG9mIHN0cmluZ3MgYW5kL29yIG51bGxzOiBhbnkgZW50cnkgaW4gdGhlXG4gICAgIHBBcmd2IGFycmF5IHdoaWNoIGlzIE5VTEwgcmVzdWx0cyBpbiBhIG51bGwgZW50cnkgaW4gdGhlIHJlc3VsdFxuICAgICBhcnJheS4gSWYgYXJnYyBpcyAwIHRoZW4gYW4gZW1wdHkgYXJyYXkgaXMgcmV0dXJuZWQuXG5cbiAgICAgUmVzdWx0cyBhcmUgdW5kZWZpbmVkIGlmIGFueSBlbnRyeSBpbiB0aGUgZmlyc3QgYXJnYyBlbnRyaWVzIG9mXG4gICAgIHBBcmd2IGFyZSBuZWl0aGVyIDAgKE5VTEwpIG5vciBsZWdhbCBVVEYtZm9ybWF0IEMgc3RyaW5ncy5cblxuICAgICBUbyBiZSBjbGVhciwgdGhlIGV4cGVjdGVkIEMtc3R5bGUgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGlzXG4gICAgIGZ1bmN0aW9uIGFyZSBgKGludCwgY2hhciAqKilgIChvcHRpb25hbGx5IGNvbnN0LXF1YWxpZmllZCkuXG4gICovXG4gIHRhcmdldC5jQXJndlRvSnMgPSAoYXJnYywgcEFyZ3YpPT57XG4gICAgY29uc3QgbGlzdCA9IFtdO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhcmdjOyArK2kpe1xuICAgICAgY29uc3QgYXJnID0gdGFyZ2V0LnBlZWtQdHIocEFyZ3YgKyAodGFyZ2V0LnB0clNpemVvZiAqIGkpKTtcbiAgICAgIGxpc3QucHVzaCggYXJnID8gdGFyZ2V0LmNzdHJUb0pzKGFyZykgOiBudWxsICk7XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xuICB9O1xuXG4gIC8qKlxuICAgICBXcmFwcyBmdW5jdGlvbiBjYWxsIGZ1bmMoKSBpbiBhIHNjb3BlZEFsbG9jUHVzaCgpIGFuZFxuICAgICBzY29wZWRBbGxvY1BvcCgpIGJsb2NrLCBzdWNoIHRoYXQgYWxsIGNhbGxzIHRvIHNjb3BlZEFsbG9jKCkgYW5kXG4gICAgIGZyaWVuZHMgZnJvbSB3aXRoaW4gdGhhdCBjYWxsIHdpbGwgaGF2ZSB0aGVpciBtZW1vcnkgZnJlZWRcbiAgICAgYXV0b21hdGljYWxseSB3aGVuIGZ1bmMoKSByZXR1cm5zLiBJZiBmdW5jIHRocm93cyBvciBwcm9wYWdhdGVzXG4gICAgIGFuIGV4Y2VwdGlvbiwgdGhlIHNjb3BlIGlzIHN0aWxsIHBvcHBlZCwgb3RoZXJ3aXNlIGl0IHJldHVybnMgdGhlXG4gICAgIHJlc3VsdCBvZiBjYWxsaW5nIGZ1bmMoKS5cbiAgKi9cbiAgdGFyZ2V0LnNjb3BlZEFsbG9jQ2FsbCA9IGZ1bmN0aW9uKGZ1bmMpe1xuICAgIHRhcmdldC5zY29wZWRBbGxvY1B1c2goKTtcbiAgICB0cnl7IHJldHVybiBmdW5jKCkgfSBmaW5hbGx5eyB0YXJnZXQuc2NvcGVkQWxsb2NQb3AoKSB9XG4gIH07XG5cbiAgLyoqIEludGVybmFsIGltcGwgZm9yIGFsbG9jUHRyKCkgYW5kIHNjb3BlZEFsbG9jUHRyKCkuICovXG4gIGNvbnN0IF9fYWxsb2NQdHIgPSBmdW5jdGlvbihob3dNYW55LCBzYWZlUHRyU2l6ZSwgbWV0aG9kKXtcbiAgICBfX2FmZmlybUFsbG9jKHRhcmdldCwgbWV0aG9kKTtcbiAgICBjb25zdCBwSXIgPSBzYWZlUHRyU2l6ZSA/ICdpNjQnIDogcHRySVI7XG4gICAgbGV0IG0gPSB0YXJnZXRbbWV0aG9kXShob3dNYW55ICogKHNhZmVQdHJTaXplID8gOCA6IHB0clNpemVvZikpO1xuICAgIHRhcmdldC5wb2tlKG0sIDAsIHBJcilcbiAgICBpZigxPT09aG93TWFueSl7XG4gICAgICByZXR1cm4gbTtcbiAgICB9XG4gICAgY29uc3QgYSA9IFttXTtcbiAgICBmb3IobGV0IGkgPSAxOyBpIDwgaG93TWFueTsgKytpKXtcbiAgICAgIG0gKz0gKHNhZmVQdHJTaXplID8gOCA6IHB0clNpemVvZik7XG4gICAgICBhW2ldID0gbTtcbiAgICAgIHRhcmdldC5wb2tlKG0sIDAsIHBJcik7XG4gICAgfVxuICAgIHJldHVybiBhO1xuICB9O1xuXG4gIC8qKlxuICAgICBBbGxvY2F0ZXMgb25lIG9yIG1vcmUgcG9pbnRlcnMgYXMgYSBzaW5nbGUgY2h1bmsgb2YgbWVtb3J5IGFuZFxuICAgICB6ZXJvZXMgdGhlbSBvdXQuXG5cbiAgICAgVGhlIGZpcnN0IGFyZ3VtZW50IGlzIHRoZSBudW1iZXIgb2YgcG9pbnRlcnMgdG8gYWxsb2NhdGUuIFRoZVxuICAgICBzZWNvbmQgc3BlY2lmaWVzIHdoZXRoZXIgdGhleSBzaG91bGQgdXNlIGEgXCJzYWZlXCIgcG9pbnRlciBzaXplICg4XG4gICAgIGJ5dGVzKSBvciB3aGV0aGVyIHRoZXkgbWF5IHVzZSB0aGUgZGVmYXVsdCBwb2ludGVyIHNpemVcbiAgICAgKHR5cGljYWxseSA0IGJ1dCBhbHNvIHBvc3NpYmx5IDgpLlxuXG4gICAgIEhvdyB0aGUgcmVzdWx0IGlzIHJldHVybmVkIGRlcGVuZHMgb24gaXRzIGZpcnN0IGFyZ3VtZW50OiBpZlxuICAgICBwYXNzZWQgMSwgaXQgcmV0dXJucyB0aGUgYWxsb2NhdGVkIG1lbW9yeSBhZGRyZXNzLiBJZiBwYXNzZWQgbW9yZVxuICAgICB0aGFuIG9uZSB0aGVuIGFuIGFycmF5IG9mIHBvaW50ZXIgYWRkcmVzc2VzIGlzIHJldHVybmVkLCB3aGljaFxuICAgICBjYW4gb3B0aW9uYWxseSBiZSB1c2VkIHdpdGggXCJkZXN0cnVjdHVyaW5nIGFzc2lnbm1lbnRcIiBsaWtlIHRoaXM6XG5cbiAgICAgYGBgXG4gICAgIGNvbnN0IFtwMSwgcDIsIHAzXSA9IGFsbG9jUHRyKDMpO1xuICAgICBgYGBcblxuICAgICBBQ0hUVU5HOiB3aGVuIGZyZWVpbmcgdGhlIG1lbW9yeSwgcGFzcyBvbmx5IHRoZSBfZmlyc3RfIHJlc3VsdFxuICAgICB2YWx1ZSB0byBkZWFsbG9jKCkuIFRoZSBvdGhlcnMgYXJlIHBhcnQgb2YgdGhlIHNhbWUgbWVtb3J5IGNodW5rXG4gICAgIGFuZCBtdXN0IG5vdCBiZSBmcmVlZCBzZXBhcmF0ZWx5LlxuXG4gICAgIFRoZSByZWFzb24gZm9yIHRoZSAybmQgYXJndW1lbnQgaXMuLlxuXG4gICAgIFdoZW4gb25lIG9mIHRoZSByZXR1cm5lZCBwb2ludGVycyB3aWxsIHJlZmVyIHRvIGEgNjQtYml0IHZhbHVlLFxuICAgICBlLmcuIGEgZG91YmxlIG9yIGludDY0LCBhbiB0aGF0IHZhbHVlIG11c3QgYmUgd3JpdHRlbiBvciBmZXRjaGVkLFxuICAgICBlLmcuIHVzaW5nIHBva2UoKSBvciBwZWVrKCksIGl0IGlzIGltcG9ydGFudCB0aGF0XG4gICAgIHRoZSBwb2ludGVyIGluIHF1ZXN0aW9uIGJlIGFsaWduZWQgdG8gYW4gOC1ieXRlIGJvdW5kYXJ5IG9yIGVsc2VcbiAgICAgaXQgd2lsbCBub3QgYmUgZmV0Y2hlZCBvciB3cml0dGVuIHByb3Blcmx5IGFuZCB3aWxsIGNvcnJ1cHQgb3JcbiAgICAgcmVhZCBuZWlnaGJvcmluZyBtZW1vcnkuIEl0IGlzIG9ubHkgc2FmZSB0byBwYXNzIGZhbHNlIHdoZW4gdGhlXG4gICAgIGNsaWVudCBjb2RlIGlzIGNlcnRhaW4gdGhhdCBpdCB3aWxsIG9ubHkgZ2V0L2ZldGNoIDQtYnl0ZSB2YWx1ZXNcbiAgICAgKG9yIHNtYWxsZXIpLlxuICAqL1xuICB0YXJnZXQuYWxsb2NQdHIgPVxuICAgIChob3dNYW55PTEsIHNhZmVQdHJTaXplPXRydWUpPT5fX2FsbG9jUHRyKGhvd01hbnksIHNhZmVQdHJTaXplLCAnYWxsb2MnKTtcblxuICAvKipcbiAgICAgSWRlbnRpY2FsIHRvIGFsbG9jUHRyKCkgZXhjZXB0IHRoYXQgaXQgYWxsb2NhdGVzIHVzaW5nIHNjb3BlZEFsbG9jKClcbiAgICAgaW5zdGVhZCBvZiBhbGxvYygpLlxuICAqL1xuICB0YXJnZXQuc2NvcGVkQWxsb2NQdHIgPVxuICAgIChob3dNYW55PTEsIHNhZmVQdHJTaXplPXRydWUpPT5fX2FsbG9jUHRyKGhvd01hbnksIHNhZmVQdHJTaXplLCAnc2NvcGVkQWxsb2MnKTtcblxuICAvKipcbiAgICAgSWYgdGFyZ2V0LmV4cG9ydHNbbmFtZV0gZXhpc3RzLCBpdCBpcyByZXR1cm5lZCwgZWxzZSBhblxuICAgICBleGNlcHRpb24gaXMgdGhyb3duLlxuICAqL1xuICB0YXJnZXQueEdldCA9IGZ1bmN0aW9uKG5hbWUpe1xuICAgIHJldHVybiB0YXJnZXQuZXhwb3J0c1tuYW1lXSB8fCB0b3NzKFwiQ2Fubm90IGZpbmQgZXhwb3J0ZWQgc3ltYm9sOlwiLG5hbWUpO1xuICB9O1xuXG4gIGNvbnN0IF9fYXJnY01pc21hdGNoID1cbiAgICAgICAgKGYsbik9PnRvc3MoZitcIigpIHJlcXVpcmVzXCIsbixcImFyZ3VtZW50KHMpLlwiKTtcblxuICAvKipcbiAgICAgTG9va3MgdXAgYSBXQVNNLWV4cG9ydGVkIGZ1bmN0aW9uIG5hbWVkIGZuYW1lIGZyb21cbiAgICAgdGFyZ2V0LmV4cG9ydHMuIElmIGZvdW5kLCBpdCBpcyBjYWxsZWQsIHBhc3NlZCBhbGwgcmVtYWluaW5nXG4gICAgIGFyZ3VtZW50cywgYW5kIGl0cyByZXR1cm4gdmFsdWUgaXMgcmV0dXJuZWQgdG8geENhbGwncyBjYWxsZXIuIElmXG4gICAgIG5vdCBmb3VuZCwgYW4gZXhjZXB0aW9uIGlzIHRocm93bi4gVGhpcyBmdW5jdGlvbiBkb2VzIG5vXG4gICAgIGNvbnZlcnNpb24gb2YgYXJndW1lbnQgb3IgcmV0dXJuIHR5cGVzLCBidXQgc2VlIHhXcmFwKCkgYW5kXG4gICAgIHhDYWxsV3JhcHBlZCgpIGZvciB2YXJpYW50cyB3aGljaCBkby5cblxuICAgICBBcyBhIHNwZWNpYWwgY2FzZSwgaWYgcGFzc2VkIG9ubHkgMSBhcmd1bWVudCBhZnRlciB0aGUgbmFtZSBhbmRcbiAgICAgdGhhdCBhcmd1bWVudCBpbiBhbiBBcnJheSwgdGhhdCBhcnJheSdzIGVudHJpZXMgYmVjb21lIHRoZVxuICAgICBmdW5jdGlvbiBhcmd1bWVudHMuIChUaGlzIGlzIG5vdCBhbiBhbWJpZ3VvdXMgY2FzZSBiZWNhdXNlIGl0J3NcbiAgICAgbm90IGxlZ2FsIHRvIHBhc3MgYW4gQXJyYXkgb2JqZWN0IHRvIGEgV0FTTSBmdW5jdGlvbi4pXG4gICovXG4gIHRhcmdldC54Q2FsbCA9IGZ1bmN0aW9uKGZuYW1lLCAuLi5hcmdzKXtcbiAgICBjb25zdCBmID0gdGFyZ2V0LnhHZXQoZm5hbWUpO1xuICAgIGlmKCEoZiBpbnN0YW5jZW9mIEZ1bmN0aW9uKSkgdG9zcyhcIkV4cG9ydGVkIHN5bWJvbFwiLGZuYW1lLFwiaXMgbm90IGEgZnVuY3Rpb24uXCIpO1xuICAgIGlmKGYubGVuZ3RoIT09YXJncy5sZW5ndGgpIF9fYXJnY01pc21hdGNoKGZuYW1lLGYubGVuZ3RoKVxuICAgIC8qIFRoaXMgaXMgYXJndWFibHkgb3Zlci1wZWRhbnRpYyBidXQgd2Ugd2FudCB0byBoZWxwIGNsaWVudHMga2VlcFxuICAgICAgIGZyb20gc2hvb3RpbmcgdGhlbXNlbHZlcyBpbiB0aGUgZm9vdCB3aGVuIGNhbGxpbmcgQyBBUElzLiAqLztcbiAgICByZXR1cm4gKDI9PT1hcmd1bWVudHMubGVuZ3RoICYmIEFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzFdKSlcbiAgICAgID8gZi5hcHBseShudWxsLCBhcmd1bWVudHNbMV0pXG4gICAgICA6IGYuYXBwbHkobnVsbCwgYXJncyk7XG4gIH07XG5cbiAgLyoqXG4gICAgIFN0YXRlIGZvciB1c2Ugd2l0aCB4V3JhcCgpXG4gICovXG4gIGNhY2hlLnhXcmFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY2FjaGUueFdyYXAuY29udmVydCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIC8qKiBNYXAgb2YgdHlwZSBuYW1lcyB0byBhcmd1bWVudCBjb252ZXJzaW9uIGZ1bmN0aW9ucy4gKi9cbiAgY2FjaGUueFdyYXAuY29udmVydC5hcmcgPSBuZXcgTWFwO1xuICAvKiogTWFwIG9mIHR5cGUgbmFtZXMgdG8gcmV0dXJuIHJlc3VsdCBjb252ZXJzaW9uIGZ1bmN0aW9ucy4gKi9cbiAgY2FjaGUueFdyYXAuY29udmVydC5yZXN1bHQgPSBuZXcgTWFwO1xuICBjb25zdCB4QXJnID0gY2FjaGUueFdyYXAuY29udmVydC5hcmcsIHhSZXN1bHQgPSBjYWNoZS54V3JhcC5jb252ZXJ0LnJlc3VsdDtcblxuICBpZih0YXJnZXQuYmlnSW50RW5hYmxlZCl7XG4gICAgeEFyZy5zZXQoJ2k2NCcsIChpKT0+QmlnSW50KGkpKTtcbiAgfVxuICBjb25zdCBfX3hBcmdQdHIgPSAnaTMyJyA9PT0gcHRySVJcbiAgICAgICAgPyAoKGkpPT4oaSB8IDApKSA6ICgoaSk9PihCaWdJbnQoaSkgfCBCaWdJbnQoMCkpKTtcbiAgeEFyZy5zZXQoJ2kzMicsIF9feEFyZ1B0ciApXG4gICAgLnNldCgnaTE2JywgKGkpPT4oKGkgfCAwKSAmIDB4RkZGRikpXG4gICAgLnNldCgnaTgnLCAoaSk9PigoaSB8IDApICYgMHhGRikpXG4gICAgLnNldCgnZjMyJywgKGkpPT5OdW1iZXIoaSkudmFsdWVPZigpKVxuICAgIC5zZXQoJ2Zsb2F0JywgeEFyZy5nZXQoJ2YzMicpKVxuICAgIC5zZXQoJ2Y2NCcsIHhBcmcuZ2V0KCdmMzInKSlcbiAgICAuc2V0KCdkb3VibGUnLCB4QXJnLmdldCgnZjY0JykpXG4gICAgLnNldCgnaW50JywgeEFyZy5nZXQoJ2kzMicpKVxuICAgIC5zZXQoJ251bGwnLCAoaSk9PmkpXG4gICAgLnNldChudWxsLCB4QXJnLmdldCgnbnVsbCcpKVxuICAgIC5zZXQoJyoqJywgX194QXJnUHRyKVxuICAgIC5zZXQoJyonLCBfX3hBcmdQdHIpO1xuICB4UmVzdWx0LnNldCgnKicsIF9feEFyZ1B0cilcbiAgICAuc2V0KCdwb2ludGVyJywgX194QXJnUHRyKVxuICAgIC5zZXQoJ251bWJlcicsICh2KT0+TnVtYmVyKHYpKVxuICAgIC5zZXQoJ3ZvaWQnLCAodik9PnVuZGVmaW5lZClcbiAgICAuc2V0KCdudWxsJywgKHYpPT52KVxuICAgIC5zZXQobnVsbCwgeFJlc3VsdC5nZXQoJ251bGwnKSk7XG5cbiAgeyAvKiBDb3B5IGNlcnRhaW4geEFyZ1suLi5dIGhhbmRsZXJzIHRvIHhSZXN1bHRbLi4uXSBhbmRcbiAgICAgICBhZGQgcG9pbnRlci1zdHlsZSB2YXJpYW50cyBvZiB0aGVtLiAqL1xuICAgIGNvbnN0IGNvcHlUb1Jlc3VsdCA9IFsnaTgnLCAnaTE2JywgJ2kzMicsICdpbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnZjMyJywgJ2Zsb2F0JywgJ2Y2NCcsICdkb3VibGUnXTtcbiAgICBpZih0YXJnZXQuYmlnSW50RW5hYmxlZCkgY29weVRvUmVzdWx0LnB1c2goJ2k2NCcpO1xuICAgIGNvbnN0IGFkYXB0UHRyID0geEFyZy5nZXQocHRySVIpO1xuICAgIGZvcihjb25zdCB0IG9mIGNvcHlUb1Jlc3VsdCl7XG4gICAgICB4QXJnLnNldCh0KycqJywgYWRhcHRQdHIpO1xuICAgICAgeFJlc3VsdC5zZXQodCsnKicsIGFkYXB0UHRyKTtcbiAgICAgIHhSZXN1bHQuc2V0KHQsICh4QXJnLmdldCh0KSB8fCB0b3NzKFwiTWlzc2luZyBhcmcgY29udmVydGVyOlwiLHQpKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAgIEluIG9yZGVyIGZvciBhcmdzIG9mIHR5cGUgc3RyaW5nIHRvIHdvcmsgaW4gdmFyaW91cyBjb250ZXh0cyBpblxuICAgICB0aGUgc3FsaXRlMyBBUEksIHdlIG5lZWQgdG8gcGFzcyB0aGVtIG9uIGFzLCB2YXJpYWJseSwgYSBDLXN0cmluZ1xuICAgICBvciBhIHBvaW50ZXIgdmFsdWUuIFRodXMgZm9yIEFSR3Mgb2YgdHlwZSAnc3RyaW5nJyBhbmRcbiAgICAgJyonLydwb2ludGVyJyB3ZSBiZWhhdmUgZGlmZmVyZW50bHkgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlXG4gICAgIGFyZ3VtZW50IGlzIGEgc3RyaW5nIG9yIG5vdDpcblxuICAgICAtIElmIHYgaXMgYSBzdHJpbmcsIHNjb3BlQWxsb2MoKSBhIG5ldyBDLXN0cmluZyBmcm9tIGl0IGFuZCByZXR1cm5cbiAgICAgICB0aGF0IHRlbXAgc3RyaW5nJ3MgcG9pbnRlci5cblxuICAgICAtIEVsc2UgcmV0dXJuIHRoZSB2YWx1ZSBmcm9tIHRoZSBhcmcgYWRhcHRlciBkZWZpbmVkIGZvciBwdHJJUi5cblxuICAgICBUT0RPPyBQZXJtaXQgYW4gSW50OEFycmF5L1VpbnQ4QXJyYXkgYW5kIGNvbnZlcnQgaXQgdG8gYSBzdHJpbmc/XG4gICAgIFdvdWxkIHRoYXQgYmUgdG9vIG11Y2ggbWFnaWMgY29uY2VudHJhdGVkIGluIG9uZSBwbGFjZSwgcmVhZHkgdG9cbiAgICAgYmFja2ZpcmU/IFdlIGhhbmRsZSB0aGF0IGF0IHRoZSBjbGllbnQgbGV2ZWwgaW4gc3FsaXRlMyB3aXRoIGFcbiAgICAgY3VzdG9tIGFyZ3VtZW50IGNvbnZlcnRlci5cbiAgKi9cbiAgY29uc3QgX194QXJnU3RyaW5nID0gZnVuY3Rpb24odil7XG4gICAgaWYoJ3N0cmluZyc9PT10eXBlb2YgdikgcmV0dXJuIHRhcmdldC5zY29wZWRBbGxvY0NTdHJpbmcodik7XG4gICAgcmV0dXJuIHYgPyBfX3hBcmdQdHIodikgOiBudWxsO1xuICB9O1xuICB4QXJnLnNldCgnc3RyaW5nJywgX194QXJnU3RyaW5nKVxuICAgIC5zZXQoJ3V0ZjgnLCBfX3hBcmdTdHJpbmcpXG4gICAgLnNldCgncG9pbnRlcicsIF9feEFyZ1N0cmluZyk7XG4gIC8veEFyZy5zZXQoJyonLCBfX3hBcmdTdHJpbmcpO1xuXG4gIHhSZXN1bHQuc2V0KCdzdHJpbmcnLCAoaSk9PnRhcmdldC5jc3RyVG9KcyhpKSlcbiAgICAuc2V0KCd1dGY4JywgeFJlc3VsdC5nZXQoJ3N0cmluZycpKVxuICAgIC5zZXQoJ3N0cmluZzpkZWFsbG9jJywgKGkpPT57XG4gICAgICB0cnkgeyByZXR1cm4gaSA/IHRhcmdldC5jc3RyVG9KcyhpKSA6IG51bGwgfVxuICAgICAgZmluYWxseXsgdGFyZ2V0LmRlYWxsb2MoaSkgfVxuICAgIH0pXG4gICAgLnNldCgndXRmODpkZWFsbG9jJywgeFJlc3VsdC5nZXQoJ3N0cmluZzpkZWFsbG9jJykpXG4gICAgLnNldCgnanNvbicsIChpKT0+SlNPTi5wYXJzZSh0YXJnZXQuY3N0clRvSnMoaSkpKVxuICAgIC5zZXQoJ2pzb246ZGVhbGxvYycsIChpKT0+e1xuICAgICAgdHJ5eyByZXR1cm4gaSA/IEpTT04ucGFyc2UodGFyZ2V0LmNzdHJUb0pzKGkpKSA6IG51bGwgfVxuICAgICAgZmluYWxseXsgdGFyZ2V0LmRlYWxsb2MoaSkgfVxuICAgIH0pO1xuXG4gIC8qKlxuICAgICBJbnRlcm5hbC11c2Utb25seSBiYXNlIGNsYXNzIGZvciBGdW5jUHRyQWRhcHRlciBhbmQgcG90ZW50aWFsbHlcbiAgICAgYWRkaXRpb25hbCBzdGF0ZWZ1bCBhcmd1bWVudCBhZGFwdGVyIGNsYXNzZXMuXG5cbiAgICAgTm90ZSB0aGF0IGl0cyBtYWluIGludGVyZmFjZSAoY29udmVydEFyZygpKSBpcyBzdHJpY3RseVxuICAgICBpbnRlcm5hbCwgbm90IHRvIGJlIGV4cG9zZWQgdG8gY2xpZW50IGNvZGUsIGFzIGl0IG1heSBzdGlsbFxuICAgICBuZWVkIHJlLXNoYXBpbmcuIE9ubHkgdGhlIGNvbnN0cnVjdG9ycyBvZiBjb25jcmV0ZSBzdWJjbGFzc2VzXG4gICAgIHNob3VsZCBiZSBleHBvc2VkIHRvIGNsaWVudHMsIGFuZCB0aG9zZSBpbiBzdWNoIGEgd2F5IHRoYXRcbiAgICAgZG9lcyBub3QgaGluZGVyIGludGVybmFsIHJlZGVzaWduIG9mIHRoZSBjb252ZXJ0QXJnKClcbiAgICAgaW50ZXJmYWNlLlxuICAqL1xuICBjb25zdCBBYnN0cmFjdEFyZ0FkYXB0ZXIgPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3Iob3B0KXtcbiAgICAgIHRoaXMubmFtZSA9IG9wdC5uYW1lIHx8ICd1bm5hbWVkIGFkYXB0ZXInO1xuICAgIH1cbiAgICAvKipcbiAgICAgICBHZXRzIGNhbGxlZCB2aWEgeFdyYXAoKSB0byBcImNvbnZlcnRcIiB2IHRvIHdoYXRldmVyIHR5cGVcbiAgICAgICB0aGlzIHNwZWNpZmljIGNsYXNzIHN1cHBvcnRzLlxuXG4gICAgICAgYXJnSW5kZXggaXMgdGhlIGFyZ3YgaW5kZXggb2YgX3RoaXNfIGFyZ3VtZW50IGluIHRoZVxuICAgICAgIGJlaW5nLXhXcmFwKCknZCBjYWxsLiBhcmd2IGlzIHRoZSBjdXJyZW50IGFyZ3VtZW50IGxpc3RcbiAgICAgICB1bmRlcmdvaW5nIHhXcmFwKCkgYXJndW1lbnQgY29udmVyc2lvbi4gYXJndiBlbnRyaWVzIHRvIHRoZVxuICAgICAgIGxlZnQgb2YgYXJnSW5kZXggd2lsbCBoYXZlIGFscmVhZHkgdW5kZXJnb25lIHRyYW5zZm9ybWF0aW9uIGFuZFxuICAgICAgIHRob3NlIHRvIHRoZSByaWdodCB3aWxsIG5vdCBoYXZlICh0aGV5IHdpbGwgaGF2ZSB0aGUgdmFsdWVzIHRoZVxuICAgICAgIGNsaWVudC1sZXZlbCBjb2RlIHBhc3NlZCBpbiwgYXdhaXRpbmcgY29udmVyc2lvbikuIFRoZSBSSFNcbiAgICAgICBpbmRleGVzIG11c3QgbmV2ZXIgYmUgcmVsaWVkIHVwb24gZm9yIGFueXRoaW5nIGJlY2F1c2UgdGhlaXJcbiAgICAgICB0eXBlcyBhcmUgaW5kZXRlcm1pbmF0ZSwgd2hlcmVhcyB0aGUgTEhTIHZhbHVlcyB3aWxsIGJlXG4gICAgICAgV0FTTS1jb21wYXRpYmxlIHZhbHVlcyBieSB0aGUgdGltZSB0aGlzIGlzIGNhbGxlZC5cbiAgICAqL1xuICAgIGNvbnZlcnRBcmcodixhcmd2LGFyZ0luZGV4KXtcbiAgICAgIHRvc3MoXCJBYnN0cmFjdEFyZ0FkYXB0ZXIgbXVzdCBiZSBzdWJjbGFzc2VkLlwiKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAgIEFuIGF0dGVtcHQgYXQgYWRkaW5nIGZ1bmN0aW9uIHBvaW50ZXIgY29udmVyc2lvbiBzdXBwb3J0IHRvXG4gICAgIHhXcmFwKCkuIFRoaXMgdHlwZSBpcyByZWNvZ25pemVkIGJ5IHhXcmFwKCkgYXMgYSBwcm94eSBmb3JcbiAgICAgY29udmVydGluZyBhIEpTIGZ1bmN0aW9uIHRvIGEgQy1zaWRlIGZ1bmN0aW9uLCBlaXRoZXJcbiAgICAgcGVybWFuZW50bHksIGZvciB0aGUgZHVyYXRpb24gb2YgYSBzaW5nbGUgY2FsbCBpbnRvIHRoZSBDIGxheWVyLFxuICAgICBvciBzZW1pLWNvbnRleHR1YWwsIHdoZXJlIGl0IG1heSBrZWVwIHRyYWNrIG9mIGEgc2luZ2xlIGJpbmRpbmdcbiAgICAgZm9yIGEgZ2l2ZW4gY29udGV4dCBhbmQgdW5pbnN0YWxsIHRoZSBiaW5kaW5nIGlmIGl0J3MgcmVwbGFjZWQuXG5cbiAgICAgVGhlIGNvbnN0cnVjdG9yIHJlcXVpcmVzIGFuIG9wdGlvbnMgb2JqZWN0IHdpdGggdGhlc2UgcHJvcGVydGllczpcblxuICAgICAtIG5hbWUgKG9wdGlvbmFsKTogc3RyaW5nIGRlc2NyaWJpbmcgdGhlIGZ1bmN0aW9uIGJpbmRpbmcuIFRoaXNcbiAgICAgICBpcyBzb2xlbHkgZm9yIGRlYnVnZ2luZyBhbmQgZXJyb3ItcmVwb3J0aW5nIHB1cnBvc2VzLiBJZiBub3RcbiAgICAgICBwcm92aWRlZCwgYW4gZW1wdHkgc3RyaW5nIGlzIGFzc3VtZWQuXG5cbiAgICAgLSBzaWduYXR1cmU6IGEgZnVuY3Rpb24gc2lnbmF0dXJlIHN0cmluZyBjb21wYXRpYmxlIHdpdGhcbiAgICAgICBqc0Z1bmNUb1dhc20oKS5cblxuICAgICAtIGJpbmRTY29wZSAoc3RyaW5nKTogb25lIG9mICgndHJhbnNpZW50JywgJ2NvbnRleHQnLFxuICAgICAgICdzaW5nbGV0b24nKS4gQmluZCBzY29wZXMgYXJlOlxuXG4gICAgICAgLSAndHJhbnNpZW50JzogaXQgd2lsbCBjb252ZXJ0IEpTIGZ1bmN0aW9ucyB0byBXQVNNIG9ubHkgZm9yXG4gICAgICAgICB0aGUgZHVyYXRpb24gb2YgdGhlIHhXcmFwKCknZCBmdW5jdGlvbiBjYWxsLCB1c2luZ1xuICAgICAgICAgc2NvcGVkSW5zdGFsbEZ1bmN0aW9uKCkuIEJlZm9yZSB0aGF0IGNhbGwgcmV0dXJucywgdGhlXG4gICAgICAgICBXQVNNLXNpZGUgYmluZGluZyB3aWxsIGJlIHVuaW5zdGFsbGVkLlxuXG4gICAgICAgLSAnc2luZ2xldG9uJzogaG9sZHMgb25lIGZ1bmN0aW9uLXBvaW50ZXIgYmluZGluZyBmb3IgdGhpc1xuICAgICAgICAgaW5zdGFuY2UuIElmIGl0J3MgY2FsbGVkIHdpdGggYSBkaWZmZXJlbnQgZnVuY3Rpb24gcG9pbnRlcixcbiAgICAgICAgIGl0IHVuaW5zdGFsbHMgdGhlIHByZXZpb3VzIG9uZSBhZnRlciBjb252ZXJ0aW5nIHRoZSBuZXdcbiAgICAgICAgIHZhbHVlLiBUaGlzIGlzIG9ubHkgdXNlZnVsIGZvciB1c2Ugd2l0aCBcImdsb2JhbFwiIGZ1bmN0aW9uc1xuICAgICAgICAgd2hpY2ggZG8gbm90IHJlbHkgb24gYW55IHN0YXRlIG90aGVyIHRoYW4gdGhpcyBmdW5jdGlvblxuICAgICAgICAgcG9pbnRlci4gSWYgdGhlIGJlaW5nLWNvbnZlcnRlZCBmdW5jdGlvbiBwb2ludGVyIGlzIGludGVuZGVkXG4gICAgICAgICB0byBiZSBtYXBwZWQgdG8gc29tZSBzb3J0IG9mIHN0YXRlIG9iamVjdCAoZS5nLiBhblxuICAgICAgICAgYHNxbGl0ZTMqYCkgdGhlbiBcImNvbnRleHRcIiAoc2VlIGJlbG93KSBpcyB0aGUgcHJvcGVyIG1vZGUuXG5cbiAgICAgICAtICdjb250ZXh0Jzogc2ltaWxhciB0byBzaW5nbGV0b24gbW9kZSBidXQgZm9yIGEgZ2l2ZW5cbiAgICAgICAgIFwiY29udGV4dFwiLCB3aGVyZSB0aGUgY29udGV4dCBpcyBhIGtleSBwcm92aWRlZCBieSB0aGUgdXNlclxuICAgICAgICAgYW5kIHBvc3NpYmx5IGRlcGVuZGVudCBvbiBhIHNtYWxsIGFtb3VudCBvZiBjYWxsLXRpbWVcbiAgICAgICAgIGNvbnRleHQuIFRoaXMgbW9kZSBpcyB0aGUgZGVmYXVsdCBpZiBiaW5kU2NvcGUgaXMgX25vdF8gc2V0XG4gICAgICAgICBidXQgYSBwcm9wZXJ0eSBuYW1lZCBjb250ZXh0S2V5IChkZXNjcmliZWQgYmVsb3cpIGlzLlxuXG4gICAgICAgLSAncGVybWFuZW50JzogdGhlIGZ1bmN0aW9uIGlzIGluc3RhbGxlZCBhbmQgbGVmdCB0aGVyZVxuICAgICAgICAgZm9yZXZlci4gVGhlcmUgaXMgbm8gd2F5IHRvIHJlY292ZXIgaXRzIHBvaW50ZXIgYWRkcmVzc1xuICAgICAgICAgbGF0ZXIgb24uXG5cbiAgICAgLSBjYWxsUHJveHkgKGZ1bmN0aW9uKTogaWYgc2V0LCB0aGlzIG11c3QgYmUgYSBmdW5jdGlvbiB3aGljaFxuICAgICAgIHdpbGwgYWN0IGFzIGEgcHJveHkgZm9yIGFueSBcImNvbnZlcnRlZFwiIEpTIGZ1bmN0aW9uLiBJdCBpc1xuICAgICAgIHBhc3NlZCB0aGUgYmVpbmctY29udmVydGVkIGZ1bmN0aW9uIHZhbHVlIGFuZCBtdXN0IHJldHVyblxuICAgICAgIGVpdGhlciB0aGF0IGZ1bmN0aW9uIG9yIGEgZnVuY3Rpb24gd2hpY2ggYWN0cyBvbiBpdHNcbiAgICAgICBiZWhhbGYuIFRoZSByZXR1cm5lZCBmdW5jdGlvbiB3aWxsIGJlIHRoZSBvbmUgd2hpY2ggZ2V0c1xuICAgICAgIGluc3RhbGxlZCBpbnRvIHRoZSBXQVNNIGZ1bmN0aW9uIHRhYmxlLiBUaGUgcHJveHkgbXVzdCBwZXJmb3JtXG4gICAgICAgYW55IHJlcXVpcmVkIGFyZ3VtZW50IGNvbnZlcnNpb24gKG5vdGluZyB0aGF0IGl0IHdpbGwgYmUgY2FsbGVkXG4gICAgICAgZnJvbSBDIGNvZGUsIHNvIHdpbGwgcmVjZWl2ZSBDLWZvcm1hdCBhcmd1bWVudHMpIGJlZm9yZSBwYXNzaW5nXG4gICAgICAgdGhlbSBvbiB0byB0aGUgYmVpbmctY29udmVydGVkIGZ1bmN0aW9uLiBXaGV0aGVyIG9yIG5vdCB0aGVcbiAgICAgICBwcm94eSBpdHNlbGYgbXVzdCByZXR1cm4gYSB2YWx1ZSBkZXBlbmRzIG9uIHRoZSBjb250ZXh0LiBJZiBpdFxuICAgICAgIGRvZXMsIGl0IG11c3QgYmUgYSBXQVNNLWZyaWVuZGx5IHZhbHVlLCBhcyBpdCB3aWxsIGJlIHJldHVybmluZ1xuICAgICAgIGZyb20gYSBjYWxsIG1hZGUgZnJvbSBuYXRpdmUgY29kZS5cblxuICAgICAtIGNvbnRleHRLZXkgKGZ1bmN0aW9uKTogaXMgb25seSB1c2VkIGlmIGJpbmRTY29wZSBpcyAnY29udGV4dCdcbiAgICAgICBvciBpZiBiaW5kU2NvcGUgaXMgbm90IHNldCBhbmQgdGhpcyBmdW5jdGlvbiBpcywgaW4gd2hpY2ggY2FzZVxuICAgICAgICdjb250ZXh0JyBpcyBhc3N1bWVkLiBUaGlzIGZ1bmN0aW9uIGdldHMgYm91bmQgdG8gdGhpcyBvYmplY3QsXG4gICAgICAgc28gaXRzIFwidGhpc1wiIGlzIHRoaXMgb2JqZWN0LiBJdCBnZXRzIHBhc3NlZCAoYXJndixhcmdJbmRleCksXG4gICAgICAgd2hlcmUgYXJnSW5kZXggaXMgdGhlIGluZGV4IG9mIF90aGlzXyBmdW5jdGlvbiBwb2ludGVyIGluIGl0c1xuICAgICAgIF93cmFwcGluZ18gZnVuY3Rpb24ncyBhcmd1bWVudHMgYW5kIGFyZ3YgaXMgdGhlIF9jdXJyZW50X1xuICAgICAgIHN0aWxsLWJlaW5nLXhXcmFwKCktcHJvY2Vzc2VkIGFyZ3MgYXJyYXkuIEFsbCBhcmd1bWVudHMgdG8gdGhlXG4gICAgICAgbGVmdCBvZiBhcmdJbmRleCB3aWxsIGhhdmUgYmVlbiBwcm9jZXNzZWQgYnkgeFdyYXAoKSBieSB0aGVcbiAgICAgICB0aW1lIHRoaXMgaXMgY2FsbGVkLiBhcmd2W2FyZ0luZGV4XSB3aWxsIGJlIHRoZSB2YWx1ZSB0aGUgdXNlclxuICAgICAgIHBhc3NlZCBpbiB0byB0aGUgeFdyYXAoKSdkIGZ1bmN0aW9uIGZvciB0aGUgYXJndW1lbnQgdGhpc1xuICAgICAgIEZ1bmNQdHJBZGFwdGVyIGlzIG1hcHBlZCB0by4gQXJndW1lbnRzIHRvIHRoZSByaWdodCBvZlxuICAgICAgIGFyZ3ZbYXJnSW5kZXhdIHdpbGwgbm90IHlldCBoYXZlIGJlZW4gY29udmVydGVkIGJlZm9yZSB0aGlzIGlzXG4gICAgICAgY2FsbGVkLiBUaGUgZnVuY3Rpb24gbXVzdCByZXR1cm4gYSBrZXkgd2hpY2ggdW5pcXVlbHlcbiAgICAgICBpZGVudGlmaWVzIHRoaXMgZnVuY3Rpb24gbWFwcGluZyBjb250ZXh0IGZvciBfdGhpc19cbiAgICAgICBGdW5jUHRyQWRhcHRlciBpbnN0YW5jZSAob3RoZXIgaW5zdGFuY2VzIGFyZSBub3QgY29uc2lkZXJlZCksXG4gICAgICAgdGFraW5nIGludG8gYWNjb3VudCB0aGF0IEMgZnVuY3Rpb25zIG9mdGVuIHRha2Ugc29tZSBzb3J0IG9mXG4gICAgICAgc3RhdGUgb2JqZWN0IGFzIG9uZSBvciBtb3JlIG9mIHRoZWlyIGFyZ3VtZW50cy4gQXMgYW4gZXhhbXBsZSxcbiAgICAgICBpZiB0aGUgeFdyYXAoKSdkIGZ1bmN0aW9uIHRha2VzIGAoaW50LFQqLGZ1bmN0aW9uUHRyLFgqKWAgYW5kXG4gICAgICAgdGhpcyBGdW5jUHRyQWRhcHRlciBpcyB0aGUgYXJndlsyXW5kIGFyZywgY29udGV4dEtleShhcmd2LDIpXG4gICAgICAgbWlnaHQgcmV0dXJuICdUQCcrYXJndlsxXSwgb3IgZXZlbiBqdXN0IGFyZ3ZbMV0uICBOb3RlLFxuICAgICAgIGhvd2V2ZXIsIHRoYXQgdGhlIChYKikgYXJndW1lbnQgd2lsbCBub3QgeWV0IGhhdmUgYmVlblxuICAgICAgIHByb2Nlc3NlZCBieSB0aGUgdGltZSB0aGlzIGlzIGNhbGxlZCBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIGFzXG4gICAgICAgcGFydCBvZiB0aGF0IGtleSBiZWNhdXNlIGl0cyBwcmUtY29udmVyc2lvbiBkYXRhIHR5cGUgbWlnaHQgYmVcbiAgICAgICB1bnByZWRpY3RhYmxlLiBTaW1pbGFybHksIGNhcmUgbXVzdCBiZSB0YWtlbiB3aXRoIEMtc3RyaW5nLXR5cGVcbiAgICAgICBhcmd1bWVudHM6IHRob3NlIHRvIHRoZSBsZWZ0IGluIGFyZ3Ygd2lsbCwgd2hlbiB0aGlzIGlzIGNhbGxlZCxcbiAgICAgICBiZSBXQVNNIHBvaW50ZXJzLCB3aGVyZWFzIHRob3NlIHRvIHRoZSByaWdodCBtaWdodCAoYW5kIGxpa2VseVxuICAgICAgIGRvKSBoYXZlIGFub3RoZXIgZGF0YSB0eXBlLiBXaGVuIHVzaW5nIEMtc3RyaW5ncyBpbiBrZXlzLCBuZXZlclxuICAgICAgIHVzZSB0aGVpciBwb2ludGVycyBpbiB0aGUga2V5IGJlY2F1c2UgbW9zdCBDLXN0cmluZ3MgaW4gdGhpc1xuICAgICAgIGNvbnN0ZWxsYXRpb24gYXJlIHRyYW5zaWVudC5cblxuICAgICBZZXMsIHRoYXQgXl5eIGlzIHF1aXRlIGF3a3dhcmQsIGJ1dCBpdCdzIHdoYXQgd2UgaGF2ZS5cblxuICAgICBUaGUgY29uc3RydWN0b3Igb25seSBzYXZlcyB0aGUgYWJvdmUgc3RhdGUgZm9yIGxhdGVyLCBhbmQgZG9lc1xuICAgICBub3QgYWN0dWFsbHkgYmluZCBhbnkgZnVuY3Rpb25zLiBJdHMgY29udmVydEFyZygpIG1ldGhvZCBpc1xuICAgICBjYWxsZWQgdmlhIHhXcmFwKCkgdG8gcGVyZm9ybSBhbnkgYmluZGluZ3MuXG5cbiAgICAgU2hvcnRjb21pbmdzOlxuXG4gICAgIC0gVGhlc2UgXCJyZXZlcnNlXCIgYmluZGluZ3MsIGkuZS4gY2FsbGluZyBpbnRvIGEgSlMtZGVmaW5lZFxuICAgICAgIGZ1bmN0aW9uIGZyb20gYSBXQVNNLWRlZmluZWQgZnVuY3Rpb24gKHRoZSBnZW5lcmF0ZWQgcHJveHlcbiAgICAgICB3cmFwcGVyKSwgbGFjayBhbGwgdHlwZSBjb252ZXJzaW9uIHN1cHBvcnQuIFRoYXQgbWVhbnMsIGZvclxuICAgICAgIGV4YW1wbGUsIHRoYXQuLi5cblxuICAgICAtIEZ1bmN0aW9uIHBvaW50ZXJzIHdoaWNoIGluY2x1ZGUgQy1zdHJpbmcgYXJndW1lbnRzIG1heSBzdGlsbFxuICAgICAgIG5lZWQgYSBsZXZlbCBvZiBoYW5kLXdyaXR0ZW4gd3JhcHBlcnMgYXJvdW5kIHRoZW0sIGRlcGVuZGluZyBvblxuICAgICAgIGhvdyB0aGV5J3JlIHVzZWQsIGluIG9yZGVyIHRvIHByb3ZpZGUgdGhlIGNsaWVudCB3aXRoIEpTXG4gICAgICAgc3RyaW5ncy4gQWx0ZXJuYXRlbHksIGNsaWVudHMgd2lsbCBuZWVkIHRvIHBlcmZvcm0gc3VjaCBjb252ZXJzaW9uc1xuICAgICAgIG9uIHRoZWlyIG93biwgZS5nLiB1c2luZyBjc3RydG9qcygpLiBPciBtYXliZSB3ZSBjYW4gZmluZCBhIHdheVxuICAgICAgIHRvIHBlcmZvcm0gc3VjaCBjb252ZXJzaW9ucyBoZXJlLCB2aWEgYWRkaXRpb24gb2YgYW4geFdyYXAoKS1zdHlsZVxuICAgICAgIGZ1bmN0aW9uIHNpZ25hdHVyZSB0byB0aGUgb3B0aW9ucyBhcmd1bWVudC5cbiAgKi9cbiAgeEFyZy5GdW5jUHRyQWRhcHRlciA9IGNsYXNzIEZ1bmNQdHJBZGFwdGVyIGV4dGVuZHMgQWJzdHJhY3RBcmdBZGFwdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHQpIHtcbiAgICAgIHN1cGVyKG9wdCk7XG4gICAgICBpZih4QXJnLkZ1bmNQdHJBZGFwdGVyLndhcm5PblVzZSl7XG4gICAgICAgIGNvbnNvbGUud2FybigneEFyZy5GdW5jUHRyQWRhcHRlciBpcyBhbiBpbnRlcm5hbC1vbmx5IEFQSScsXG4gICAgICAgICAgICAgICAgICAgICAnYW5kIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnZva2VkIGZyb20nLFxuICAgICAgICAgICAgICAgICAgICAgJ2NsaWVudC1sZXZlbCBjb2RlLiBJbnZva2VkIHdpdGg6JyxvcHQpO1xuICAgICAgfVxuICAgICAgdGhpcy5zaWduYXR1cmUgPSBvcHQuc2lnbmF0dXJlO1xuICAgICAgaWYob3B0LmNvbnRleHRLZXkgaW5zdGFuY2VvZiBGdW5jdGlvbil7XG4gICAgICAgIHRoaXMuY29udGV4dEtleSA9IG9wdC5jb250ZXh0S2V5O1xuICAgICAgICBpZighb3B0LmJpbmRTY29wZSkgb3B0LmJpbmRTY29wZSA9ICdjb250ZXh0JztcbiAgICAgIH1cbiAgICAgIHRoaXMuYmluZFNjb3BlID0gb3B0LmJpbmRTY29wZVxuICAgICAgICB8fCB0b3NzKFwiRnVuY1B0ckFkYXB0ZXIgb3B0aW9ucyByZXF1aXJlcyBhIGJpbmRTY29wZSAoZXhwbGljaXQgb3IgaW1wbGllZCkuXCIpO1xuICAgICAgaWYoRnVuY1B0ckFkYXB0ZXIuYmluZFNjb3Blcy5pbmRleE9mKG9wdC5iaW5kU2NvcGUpPDApe1xuICAgICAgICB0b3NzKFwiSW52YWxpZCBvcHRpb25zLmJpbmRTY29wZSAoXCIrb3B0LmJpbmRNb2QrXCIpIGZvciBGdW5jUHRyQWRhcHRlci4gXCIrXG4gICAgICAgICAgICAgXCJFeHBlY3Rpbmcgb25lIG9mOiAoXCIrRnVuY1B0ckFkYXB0ZXIuYmluZFNjb3Blcy5qb2luKCcsICcpKycpJyk7XG4gICAgICB9XG4gICAgICB0aGlzLmlzVHJhbnNpZW50ID0gJ3RyYW5zaWVudCc9PT10aGlzLmJpbmRTY29wZTtcbiAgICAgIHRoaXMuaXNDb250ZXh0ID0gJ2NvbnRleHQnPT09dGhpcy5iaW5kU2NvcGU7XG4gICAgICB0aGlzLmlzUGVybWFuZW50ID0gJ3Blcm1hbmVudCc9PT10aGlzLmJpbmRTY29wZTtcbiAgICAgIHRoaXMuc2luZ2xldG9uID0gKCdzaW5nbGV0b24nPT09dGhpcy5iaW5kU2NvcGUpID8gW10gOiB1bmRlZmluZWQ7XG4gICAgICAvL2NvbnNvbGUud2FybihcIkZ1bmNQdHJBZGFwdGVyKClcIixvcHQsdGhpcyk7XG4gICAgICB0aGlzLmNhbGxQcm94eSA9IChvcHQuY2FsbFByb3h5IGluc3RhbmNlb2YgRnVuY3Rpb24pXG4gICAgICAgID8gb3B0LmNhbGxQcm94eSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKiogSWYgdHJ1ZSwgdGhlIGNvbnN0cnVjdG9yIGVtaXRzIGEgd2FybmluZy4gVGhlIGludGVudCBpcyB0aGF0XG4gICAgICAgIHRoaXMgYmUgc2V0IHRvIHRydWUgYWZ0ZXIgYm9vdHN0cmFwcGluZyBvZiB0aGUgaGlnaGVyLWxldmVsXG4gICAgICAgIGNsaWVudCBsaWJyYXJ5IGlzIGNvbXBsZXRlLCB0byB3YXJuIGRvd25zdHJlYW0gY2xpZW50cyB0aGF0XG4gICAgICAgIHRoZXkgc2hvdWxkbid0IGJlIHJlbHlpbmcgb24gdGhpcyBpbXBsZW1lbmF0aW9uIGRldGFpbCB3aGljaFxuICAgICAgICBkb2VzIG5vdCBoYXZlIGEgc3RhYmxlIGludGVyZmFjZS4gKi9cbiAgICBzdGF0aWMgd2Fybk9uVXNlID0gZmFsc2U7XG5cbiAgICAvKiogSWYgdHJ1ZSwgY29udmVydEFyZygpIHdpbGwgRnVuY1B0ckFkYXB0ZXIuZGVidWdPdXQoKSB3aGVuIGl0XG4gICAgICAgICh1bilpbnN0YWxscyBhIGZ1bmN0aW9uIGJpbmRpbmcgdG8vZnJvbSBXQVNNLiBOb3RlIHRoYXRcbiAgICAgICAgZGVpbnN0YWxsYXRpb24gb2YgYmluZFNjb3BlPXRyYW5zaWVudCBiaW5kaW5ncyBoYXBwZW5zXG4gICAgICAgIHZpYSBzY29wZWRBbGxvY1BvcCgpIHNvIHdpbGwgbm90IGJlIG91dHB1dC4gKi9cbiAgICBzdGF0aWMgZGVidWdGdW5jSW5zdGFsbCA9IGZhbHNlO1xuXG4gICAgLyoqIEZ1bmN0aW9uIHVzZWQgZm9yIGRlYnVnIG91dHB1dC4gKi9cbiAgICBzdGF0aWMgZGVidWdPdXQgPSBjb25zb2xlLmRlYnVnLmJpbmQoY29uc29sZSk7XG5cbiAgICBzdGF0aWMgYmluZFNjb3BlcyA9IFtcbiAgICAgICd0cmFuc2llbnQnLCAnY29udGV4dCcsICdzaW5nbGV0b24nLCAncGVybWFuZW50J1xuICAgIF07XG5cbiAgICAvKiBEdW1teSBpbXBsLiBPdmVyd3JpdHRlbiBwZXItaW5zdGFuY2UgYXMgbmVlZGVkLiAqL1xuICAgIGNvbnRleHRLZXkoYXJndixhcmdJbmRleCl7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKiBSZXR1cm5zIHRoaXMgb2JqZWN0cyBtYXBwaW5nIGZvciB0aGUgZ2l2ZW4gY29udGV4dCBrZXksIGluIHRoZVxuICAgICAgIGZvcm0gb2YgYW4gYW4gYXJyYXksIGNyZWF0aW5nIHRoZSBtYXBwaW5nIGlmIG5lZWRlZC4gVGhlIGtleVxuICAgICAgIG1heSBiZSBhbnl0aGluZyBzdWl0YWJsZSBmb3IgdXNlIGluIGEgTWFwLiAqL1xuICAgIGNvbnRleHRNYXAoa2V5KXtcbiAgICAgIGNvbnN0IGNtID0gKHRoaXMuX19jbWFwIHx8ICh0aGlzLl9fY21hcCA9IG5ldyBNYXApKTtcbiAgICAgIGxldCByYyA9IGNtLmdldChrZXkpO1xuICAgICAgaWYodW5kZWZpbmVkPT09cmMpIGNtLnNldChrZXksIChyYyA9IFtdKSk7XG4gICAgICByZXR1cm4gcmM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICAgR2V0cyBjYWxsZWQgdmlhIHhXcmFwKCkgdG8gXCJjb252ZXJ0XCIgdiB0byBhIFdBU00tYm91bmQgZnVuY3Rpb25cbiAgICAgICBwb2ludGVyLiBJZiB2IGlzIG9uZSBvZiAoYSBwb2ludGVyLCBudWxsLCB1bmRlZmluZWQpIHRoZW5cbiAgICAgICAodnx8MCkgaXMgcmV0dXJuZWQgYW5kIGFueSBlYXJsaWVyIGZ1bmN0aW9uIGluc3RhbGxlZCBieSB0aGlzXG4gICAgICAgbWFwcGluZyBfbWlnaHRfLCBkZXBlbmRpbmcgb24gaG93IGl0J3MgYm91bmQsIGJlIHVuaW5zdGFsbGVkLlxuICAgICAgIElmIHYgaXMgbm90IG9uZSBvZiB0aG9zZSB0eXBlcywgaXQgbXVzdCBiZSBhIEZ1bmN0aW9uLCBmb3JcbiAgICAgICB3aGljaCBpdCBjcmVhdGVzIChpZiBuZWVkZWQpIGEgV0FTTSBmdW5jdGlvbiBiaW5kaW5nIGFuZFxuICAgICAgIHJldHVybnMgdGhlIFdBU00gcG9pbnRlciB0byB0aGF0IGJpbmRpbmcuIElmIHRoaXMgaW5zdGFuY2UgaXNcbiAgICAgICBub3QgaW4gJ3RyYW5zaWVudCcgbW9kZSwgaXQgd2lsbCByZW1lbWJlciB0aGUgYmluZGluZyBmb3IgYXRcbiAgICAgICBsZWFzdCB0aGUgbmV4dCBjYWxsLCB0byBhdm9pZCByZWNyZWF0aW5nIHRoZSBmdW5jdGlvbiBiaW5kaW5nXG4gICAgICAgdW5uZWNlc3NhcmlseS5cblxuICAgICAgIElmIGl0J3MgcGFzc2VkIGEgcG9pbnRlcihpc2gpIHZhbHVlIGZvciB2LCBpdCBkb2VzIF9ub3RfXG4gICAgICAgcGVyZm9ybSBhbnkgZnVuY3Rpb24gYmluZGluZywgc28gdGhpcyBvYmplY3QncyBiaW5kTW9kZSBpc1xuICAgICAgIGlycmVsZXZhbnQgZm9yIHN1Y2ggY2FzZXMuXG5cbiAgICAgICBTZWUgdGhlIHBhcmVudCBjbGFzcydzIGNvbnZlcnRBcmcoKSBkb2NzIGZvciBkZXRhaWxzIG9uIHdoYXRcbiAgICAgICBleGFjdGx5IHRoZSAybmQgYW5kIDNyZCBhcmd1bWVudHMgYXJlLlxuICAgICovXG4gICAgY29udmVydEFyZyh2LGFyZ3YsYXJnSW5kZXgpe1xuICAgICAgLy9GdW5jUHRyQWRhcHRlci5kZWJ1Z091dChcIkZ1bmNQdHJBZGFwdGVyLmNvbnZlcnRBcmcoKVwiLHRoaXMuc2lnbmF0dXJlLHRoaXMudHJhbnNpZW50LHYpO1xuICAgICAgbGV0IHBhaXIgPSB0aGlzLnNpbmdsZXRvbjtcbiAgICAgIGlmKCFwYWlyICYmIHRoaXMuaXNDb250ZXh0KXtcbiAgICAgICAgcGFpciA9IHRoaXMuY29udGV4dE1hcCh0aGlzLmNvbnRleHRLZXkoYXJndixhcmdJbmRleCkpO1xuICAgICAgfVxuICAgICAgaWYocGFpciAmJiBwYWlyWzBdPT09dikgcmV0dXJuIHBhaXJbMV07XG4gICAgICBpZih2IGluc3RhbmNlb2YgRnVuY3Rpb24pe1xuICAgICAgICAvKiBJbnN0YWxsIGEgV0FTTSBiaW5kaW5nIGFuZCByZXR1cm4gaXRzIHBvaW50ZXIuICovXG4gICAgICAgIGlmKHRoaXMuY2FsbFByb3h5KSB2ID0gdGhpcy5jYWxsUHJveHkodik7XG4gICAgICAgIGNvbnN0IGZwID0gX19pbnN0YWxsRnVuY3Rpb24odiwgdGhpcy5zaWduYXR1cmUsIHRoaXMuaXNUcmFuc2llbnQpO1xuICAgICAgICBpZihGdW5jUHRyQWRhcHRlci5kZWJ1Z0Z1bmNJbnN0YWxsKXtcbiAgICAgICAgICBGdW5jUHRyQWRhcHRlci5kZWJ1Z091dChcIkZ1bmNQdHJBZGFwdGVyIGluc3RhbGxlZFwiLCB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dEtleShhcmd2LGFyZ0luZGV4KSwgJ0AnK2ZwLCB2KTtcbiAgICAgICAgfVxuICAgICAgICBpZihwYWlyKXtcbiAgICAgICAgICAvKiBSZXBsYWNlIGV4aXN0aW5nIHN0YXNoZWQgbWFwcGluZyAqL1xuICAgICAgICAgIGlmKHBhaXJbMV0pe1xuICAgICAgICAgICAgaWYoRnVuY1B0ckFkYXB0ZXIuZGVidWdGdW5jSW5zdGFsbCl7XG4gICAgICAgICAgICAgIEZ1bmNQdHJBZGFwdGVyLmRlYnVnT3V0KFwiRnVuY1B0ckFkYXB0ZXIgdW5pbnN0YWxsaW5nXCIsIHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dEtleShhcmd2LGFyZ0luZGV4KSwgJ0AnK3BhaXJbMV0sIHYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5e3RhcmdldC51bmluc3RhbGxGdW5jdGlvbihwYWlyWzFdKX1cbiAgICAgICAgICAgIGNhdGNoKGUpey8qaWdub3JlZCovfVxuICAgICAgICAgIH1cbiAgICAgICAgICBwYWlyWzBdID0gdjtcbiAgICAgICAgICBwYWlyWzFdID0gZnA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZwO1xuICAgICAgfWVsc2UgaWYodGFyZ2V0LmlzUHRyKHYpIHx8IG51bGw9PT12IHx8IHVuZGVmaW5lZD09PXYpe1xuICAgICAgICBpZihwYWlyICYmIHBhaXJbMV0gJiYgcGFpclsxXSE9PXYpe1xuICAgICAgICAgIC8qIHVuaW5zdGFsbCBzdGFzaGVkIG1hcHBpbmcgYW5kIHJlcGxhY2Ugc3Rhc2hlZCBtYXBwaW5nIHdpdGggdi4gKi9cbiAgICAgICAgICBpZihGdW5jUHRyQWRhcHRlci5kZWJ1Z0Z1bmNJbnN0YWxsKXtcbiAgICAgICAgICAgIEZ1bmNQdHJBZGFwdGVyLmRlYnVnT3V0KFwiRnVuY1B0ckFkYXB0ZXIgdW5pbnN0YWxsaW5nXCIsIHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHRLZXkoYXJndixhcmdJbmRleCksICdAJytwYWlyWzFdLCB2KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdHJ5e3RhcmdldC51bmluc3RhbGxGdW5jdGlvbihwYWlyWzFdKX1cbiAgICAgICAgICBjYXRjaChlKXsvKmlnbm9yZWQqL31cbiAgICAgICAgICBwYWlyWzBdID0gcGFpclsxXSA9ICh2IHwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHYgfHwgMDtcbiAgICAgIH1lbHNle1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBGdW5jUHRyQWRhcHRlciBhcmd1bWVudCB0eXBlLiBcIitcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGluZyBhIGZ1bmN0aW9uIHBvaW50ZXIgb3IgYSBcIitcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5uYW1lID8gdGhpcy5uYW1lKycgJyA6ICcnKStcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uIG1hdGNoaW5nIHNpZ25hdHVyZSBcIitcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZ25hdHVyZStcIi5cIik7XG4gICAgICB9XG4gICAgfS8qY29udmVydEFyZygpKi9cbiAgfS8qRnVuY1B0ckFkYXB0ZXIqLztcblxuICBjb25zdCBfX3hBcmdBZGFwdGVyQ2hlY2sgPVxuICAgICAgICAodCk9PnhBcmcuZ2V0KHQpIHx8IHRvc3MoXCJBcmd1bWVudCBhZGFwdGVyIG5vdCBmb3VuZDpcIix0KTtcblxuICBjb25zdCBfX3hSZXN1bHRBZGFwdGVyQ2hlY2sgPVxuICAgICAgICAodCk9PnhSZXN1bHQuZ2V0KHQpIHx8IHRvc3MoXCJSZXN1bHQgYWRhcHRlciBub3QgZm91bmQ6XCIsdCk7XG5cbiAgY2FjaGUueFdyYXAuY29udmVydEFyZyA9ICh0LC4uLmFyZ3MpPT5fX3hBcmdBZGFwdGVyQ2hlY2sodCkoLi4uYXJncyk7XG4gIGNhY2hlLnhXcmFwLmNvbnZlcnRBcmdOb0NoZWNrID0gKHQsLi4uYXJncyk9PnhBcmcuZ2V0KHQpKC4uLmFyZ3MpO1xuXG4gIGNhY2hlLnhXcmFwLmNvbnZlcnRSZXN1bHQgPVxuICAgICh0LHYpPT4obnVsbD09PXQgPyB2IDogKHQgPyBfX3hSZXN1bHRBZGFwdGVyQ2hlY2sodCkodikgOiB1bmRlZmluZWQpKTtcbiAgY2FjaGUueFdyYXAuY29udmVydFJlc3VsdE5vQ2hlY2sgPVxuICAgICh0LHYpPT4obnVsbD09PXQgPyB2IDogKHQgPyB4UmVzdWx0LmdldCh0KSh2KSA6IHVuZGVmaW5lZCkpO1xuXG4gIC8qKlxuICAgICBDcmVhdGVzIGEgd3JhcHBlciBmb3IgYW5vdGhlciBmdW5jdGlvbiB3aGljaCBjb252ZXJ0cyB0aGUgYXJndW1lbnRzXG4gICAgIG9mIHRoZSB3cmFwcGVyIHRvIGFyZ3VtZW50IHR5cGVzIGFjY2VwdGVkIGJ5IHRoZSB3cmFwcGVkIGZ1bmN0aW9uLFxuICAgICB0aGVuIGNvbnZlcnRzIHRoZSB3cmFwcGVkIGZ1bmN0aW9uJ3MgcmVzdWx0IHRvIGFub3RoZXIgZm9ybVxuICAgICBmb3IgdGhlIHdyYXBwZXIuXG5cbiAgICAgVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mOlxuXG4gICAgIC0gQSBKYXZhU2NyaXB0IGZ1bmN0aW9uLlxuICAgICAtIFRoZSBuYW1lIG9mIGEgV0FTTS1leHBvcnRlZCBmdW5jdGlvbi4gSW4gdGhlIGxhdHRlciBjYXNlIHhHZXQoKVxuICAgICAgIGlzIHVzZWQgdG8gZmV0Y2ggdGhlIGV4cG9ydGVkIGZ1bmN0aW9uLCB3aGljaCB0aHJvd3MgaWYgaXQncyBub3RcbiAgICAgICBmb3VuZC5cbiAgICAgLSBBIHBvaW50ZXIgaW50byB0aGUgaW5kaXJlY3QgZnVuY3Rpb24gdGFibGUuIGUuZy4gYSBwb2ludGVyXG4gICAgICAgcmV0dXJuZWQgZnJvbSB0YXJnZXQuaW5zdGFsbEZ1bmN0aW9uKCkuXG5cbiAgICAgSXQgcmV0dXJucyBlaXRoZXIgdGhlIHBhc3NlZC1pbiBmdW5jdGlvbiBvciBhIHdyYXBwZXIgZm9yIHRoYXRcbiAgICAgZnVuY3Rpb24gd2hpY2ggY29udmVydHMgdGhlIEpTLXNpZGUgYXJndW1lbnQgdHlwZXMgaW50byBXQVNNLXNpZGVcbiAgICAgdHlwZXMgYW5kIGNvbnZlcnRzIHRoZSByZXN1bHQgdHlwZS5cblxuICAgICBUaGUgc2Vjb25kIGFyZ3VtZW50LCBgcmVzdWx0VHlwZWAsIGRlc2NyaWJlcyB0aGUgY29udmVyc2lvbiBmb3JcbiAgICAgdGhlIHdyYXBwZWQgZnVuY3Rpb25zIHJlc3VsdC4gQSBsaXRlcmFsIGBudWxsYCBvciB0aGUgc3RyaW5nXG4gICAgIGAnbnVsbCdgIGJvdGggbWVhbiB0byByZXR1cm4gdGhlIG9yaWdpbmFsIGZ1bmN0aW9uJ3MgdmFsdWUgYXMtaXNcbiAgICAgKG1uZW1vbmljOiB0aGVyZSBpcyBcIm51bGxcIiBjb252ZXJzaW9uIGdvaW5nIG9uKS4gTGl0ZXJhbFxuICAgICBgdW5kZWZpbmVkYCBvciB0aGUgc3RyaW5nIGBcInZvaWRcImAgYm90aCBtZWFuIHRvIGlnbm9yZSB0aGVcbiAgICAgZnVuY3Rpb24ncyByZXN1bHQgYW5kIHJldHVybiBgdW5kZWZpbmVkYC4gQXNpZGUgZnJvbSB0aG9zZSB0d29cbiAgICAgc3BlY2lhbCBjYXNlcywgdGhlIGByZXN1bHRUeXBlYCB2YWx1ZSBtYXkgYmUgb25lIG9mIHRoZSB2YWx1ZXNcbiAgICAgZGVzY3JpYmVkIGJlbG93IG9yIGFueSBtYXBwaW5nIGluc3RhbGxlZCBieSB0aGUgY2xpZW50IHVzaW5nXG4gICAgIHhXcmFwLnJlc3VsdEFkYXB0ZXIoKS5cblxuICAgICBJZiBwYXNzZWQgMyBhcmd1bWVudHMgYW5kIHRoZSBmaW5hbCBvbmUgaXMgYW4gYXJyYXksIHRoYXQgYXJyYXlcbiAgICAgbXVzdCBjb250YWluIGEgbGlzdCBvZiB0eXBlIG5hbWVzIChzZWUgYmVsb3cpIGZvciBhZGFwdGluZyB0aGVcbiAgICAgYXJndW1lbnRzIGZyb20gSlMgdG8gV0FTTS4gIElmIHBhc3NlZCAyIGFyZ3VtZW50cywgbW9yZSB0aGFuIDMsXG4gICAgIG9yIHRoZSAzcmQgaXMgbm90IGFuIGFycmF5LCBhbGwgYXJndW1lbnRzIGFmdGVyIHRoZSAybmQgKGlmIGFueSlcbiAgICAgYXJlIHRyZWF0ZWQgYXMgdHlwZSBuYW1lcy4gaS5lLjpcblxuICAgICBgYGBcbiAgICAgeFdyYXAoJ2Z1bmNuYW1lJywgJ2kzMicsICdzdHJpbmcnLCAnZjY0Jyk7XG4gICAgIC8vIGlzIGVxdWl2YWxlbnQgdG86XG4gICAgIHhXcmFwKCdmdW5jbmFtZScsICdpMzInLCBbJ3N0cmluZycsICdmNjQnXSk7XG4gICAgIGBgYFxuXG4gICAgIFRoaXMgZnVuY3Rpb24gZW5mb3JjZXMgdGhhdCB0aGUgZ2l2ZW4gbGlzdCBvZiBhcmd1bWVudHMgaGFzIHRoZVxuICAgICBzYW1lIGFyaXR5IGFzIHRoZSBiZWluZy13cmFwcGVkIGZ1bmN0aW9uIChhcyBkZWZpbmVkIGJ5IGl0c1xuICAgICBgbGVuZ3RoYCBwcm9wZXJ0eSkgYW5kIGl0IHdpbGwgdGhyb3cgaWYgdGhhdCBpcyBub3QgdGhlIGNhc2UuXG4gICAgIFNpbWlsYXJseSwgdGhlIGNyZWF0ZWQgd3JhcHBlciB3aWxsIHRocm93IGlmIHBhc3NlZCBhIGRpZmZlcmluZ1xuICAgICBhcmd1bWVudCBjb3VudC5cblxuICAgICBUeXBlIG5hbWVzIGFyZSBzeW1ib2xpYyBuYW1lcyB3aGljaCBtYXAgdGhlIGFyZ3VtZW50cyB0byBhblxuICAgICBhZGFwdGVyIGZ1bmN0aW9uIHRvIGNvbnZlcnQsIGlmIG5lZWRlZCwgdGhlIHZhbHVlIGJlZm9yZSBwYXNzaW5nXG4gICAgIGl0IG9uIHRvIFdBU00gb3IgdG8gY29udmVydCBhIHJldHVybiByZXN1bHQgZnJvbSBXQVNNLiBUaGUgbGlzdFxuICAgICBvZiBidWlsdC1pbiBuYW1lczpcblxuICAgICAtIGBpOGAsIGBpMTZgLCBgaTMyYCAoYXJncyBhbmQgcmVzdWx0cyk6IGFsbCBpbnRlZ2VyIGNvbnZlcnNpb25zXG4gICAgICAgd2hpY2ggY29udmVydCB0aGVpciBhcmd1bWVudCB0byBhbiBpbnRlZ2VyIGFuZCB0cnVuY2F0ZSBpdCB0b1xuICAgICAgIHRoZSBnaXZlbiBiaXQgbGVuZ3RoLlxuXG4gICAgIC0gYE4qYCAoYXJncyk6IGEgdHlwZSBuYW1lIGluIHRoZSBmb3JtIGBOKmAsIHdoZXJlIE4gaXMgYSBudW1lcmljXG4gICAgICAgdHlwZSBuYW1lLCBpcyB0cmVhdGVkIHRoZSBzYW1lIGFzIFdBU00gcG9pbnRlci5cblxuICAgICAtIGAqYCBhbmQgYHBvaW50ZXJgIChhcmdzKTogYXJlIGFzc3VtZWQgdG8gYmUgV0FTTSBwb2ludGVyIHZhbHVlc1xuICAgICAgIGFuZCBhcmUgcmV0dXJuZWQgY29lcmNlZCB0byBhbiBhcHByb3ByaWF0ZWx5LXNpemVkIHBvaW50ZXJcbiAgICAgICB2YWx1ZSAoaTMyIG9yIGk2NCkuIE5vbi1udW1lcmljIHZhbHVlcyB3aWxsIGNvZXJjZSB0byAwIGFuZFxuICAgICAgIG91dC1vZi1yYW5nZSB2YWx1ZXMgd2lsbCBoYXZlIHVuZGVmaW5lZCByZXN1bHRzIChqdXN0IGFzIHdpdGhcbiAgICAgICBhbnkgcG9pbnRlciBtaXN1c2UpLlxuXG4gICAgIC0gYCpgIGFuZCBgcG9pbnRlcmAgKHJlc3VsdHMpOiBhbGlhc2VzIGZvciB0aGUgY3VycmVudFxuICAgICAgIFdBU00gcG9pbnRlciBudW1lcmljIHR5cGUuXG5cbiAgICAgLSBgKipgIChhcmdzKTogaXMgc2ltcGx5IGEgZGVzY3JpcHRpdmUgYWxpYXMgZm9yIHRoZSBXQVNNIHBvaW50ZXJcbiAgICAgICB0eXBlLiBJdCdzIHByaW1hcmlseSBpbnRlbmRlZCB0byBtYXJrIG91dHB1dC1wb2ludGVyIGFyZ3VtZW50cy5cblxuICAgICAtIGBpNjRgIChhcmdzIGFuZCByZXN1bHRzKTogcGFzc2VzIHRoZSB2YWx1ZSB0byBCaWdJbnQoKSB0b1xuICAgICAgIGNvbnZlcnQgaXQgdG8gYW4gaW50NjQuIE9ubHkgYXZhaWxhYmxlIGlmIGJpZ0ludEVuYWJsZWQgaXNcbiAgICAgICB0cnVlLlxuXG4gICAgIC0gYGYzMmAgKGBmbG9hdGApLCBgZjY0YCAoYGRvdWJsZWApIChhcmdzIGFuZCByZXN1bHRzKTogcGFzc1xuICAgICAgIHRoZWlyIGFyZ3VtZW50IHRvIE51bWJlcigpLiBpLmUuIHRoZSBhZGFwdGVyIGRvZXMgbm90IGN1cnJlbnRseVxuICAgICAgIGRpc3Rpbmd1aXNoIGJldHdlZW4gdGhlIHR3byB0eXBlcyBvZiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuXG4gICAgIC0gYG51bWJlcmAgKHJlc3VsdHMpOiBjb252ZXJ0cyB0aGUgcmVzdWx0IHRvIGEgSlMgTnVtYmVyIHVzaW5nXG4gICAgICAgTnVtYmVyKHRoZVZhbHVlKS52YWx1ZU9mKCkuIE5vdGUgdGhhdCB0aGlzIGlzIGZvciByZXN1bHRcbiAgICAgICBjb252ZXJzaW9ucyBvbmx5LCBhcyBpdCdzIG5vdCBwb3NzaWJsZSB0byBnZW5lcmljYWxseSBrbm93XG4gICAgICAgd2hpY2ggdHlwZSBvZiBudW1iZXIgdG8gY29udmVydCBhcmd1bWVudHMgdG8uXG5cbiAgICAgTm9uLW51bWVyaWMgY29udmVyc2lvbnMgaW5jbHVkZTpcblxuICAgICAtIGBudWxsYCBsaXRlcmFsIG9yIGBcIm51bGxcImAgc3RyaW5nIChhcmdzIGFuZCByZXN1bHRzKTogcGVyZm9ybVxuICAgICAgIG5vIHRyYW5zbGF0aW9uIGFuZCBwYXNzIHRoZSBhcmcgb24gYXMtaXMuIFRoaXMgaXMgcHJpbWFyaWx5XG4gICAgICAgdXNlZnVsIGZvciByZXN1bHRzIGJ1dCBtYXkgaGF2ZSBhIHVzZSBvciB0d28gZm9yIGFyZ3VtZW50cy5cblxuICAgICAtIGBzdHJpbmdgIG9yIGB1dGY4YCAoYXJncyk6IGhhcyB0d28gZGlmZmVyZW50IHNlbWFudGljcyBpbiBvcmRlclxuICAgICAgIHRvIGFjY29tbW9kYXRlIHZhcmlvdXMgdXNlcyBvZiBjZXJ0YWluIEMgQVBJc1xuICAgICAgIChlLmcuIG91dHB1dC1zdHlsZSBzdHJpbmdzKS4uLlxuXG4gICAgICAgLSBJZiB0aGUgYXJnIGlzIGEgc3RyaW5nLCBpdCBjcmVhdGVzIGEgX3RlbXBvcmFyeV9cbiAgICAgICAgIFVURi04LWVuY29kZWQgQy1zdHJpbmcgdG8gcGFzcyB0byB0aGUgZXhwb3J0ZWQgZnVuY3Rpb24sXG4gICAgICAgICBjbGVhbmluZyBpdCB1cCBiZWZvcmUgdGhlIHdyYXBwZXIgcmV0dXJucy4gSWYgYSBsb25nLWxpdmVkXG4gICAgICAgICBDLXN0cmluZyBwb2ludGVyIGlzIHJlcXVpcmVkLCB0aGF0IHJlcXVpcmVzIGNsaWVudC1zaWRlIGNvZGVcbiAgICAgICAgIHRvIGNyZWF0ZSB0aGUgc3RyaW5nLCB0aGVuIHBhc3MgaXRzIHBvaW50ZXIgdG8gdGhlIGZ1bmN0aW9uLlxuXG4gICAgICAgLSBFbHNlIHRoZSBhcmcgaXMgYXNzdW1lZCB0byBiZSBhIHBvaW50ZXIgdG8gYSBzdHJpbmcgdGhlXG4gICAgICAgICBjbGllbnQgaGFzIGFscmVhZHkgYWxsb2NhdGVkIGFuZCBpdCdzIHBhc3NlZCBvbiBhc1xuICAgICAgICAgYSBXQVNNIHBvaW50ZXIuXG5cbiAgICAgLSBgc3RyaW5nYCBvciBgdXRmOGAgKHJlc3VsdHMpOiB0cmVhdHMgdGhlIHJlc3VsdCB2YWx1ZSBhcyBhXG4gICAgICAgY29uc3QgQy1zdHJpbmcsIGVuY29kZWQgYXMgVVRGLTgsIGNvcGllcyBpdCB0byBhIEpTIHN0cmluZyxcbiAgICAgICBhbmQgcmV0dXJucyB0aGF0IEpTIHN0cmluZy5cblxuICAgICAtIGBzdHJpbmc6ZGVhbGxvY2Agb3IgYHV0Zjg6ZGVhbGxvYykgKHJlc3VsdHMpOiB0cmVhdHMgdGhlIHJlc3VsdCB2YWx1ZVxuICAgICAgIGFzIGEgbm9uLWNvbnN0IFVURi04IEMtc3RyaW5nLCBvd25lcnNoaXAgb2Ygd2hpY2ggaGFzIGp1c3QgYmVlblxuICAgICAgIHRyYW5zZmVyZWQgdG8gdGhlIGNhbGxlci4gSXQgY29waWVzIHRoZSBDLXN0cmluZyB0byBhIEpTXG4gICAgICAgc3RyaW5nLCBmcmVlcyB0aGUgQy1zdHJpbmcsIGFuZCByZXR1cm5zIHRoZSBKUyBzdHJpbmcuIElmIHN1Y2hcbiAgICAgICBhIHJlc3VsdCB2YWx1ZSBpcyBOVUxMLCB0aGUgSlMgcmVzdWx0IGlzIGBudWxsYC4gQWNodHVuZzogd2hlblxuICAgICAgIHVzaW5nIGFuIEFQSSB3aGljaCByZXR1cm5zIHJlc3VsdHMgZnJvbSBhIHNwZWNpZmljIGFsbG9jYXRvcixcbiAgICAgICBlLmcuIGBteV9tYWxsb2MoKWAsIHRoaXMgY29udmVyc2lvbiBfaXMgbm90IGxlZ2FsXy4gSW5zdGVhZCwgYW5cbiAgICAgICBlcXVpdmFsZW50IGNvbnZlcnNpb24gd2hpY2ggdXNlcyB0aGUgYXBwcm9wcmlhdGUgZGVhbGxvY2F0b3IgaXNcbiAgICAgICByZXF1aXJlZC4gRm9yIGV4YW1wbGU6XG5cbmBgYGpzXG4gICB0YXJnZXQueFdyYXAucmVzdWx0QWRhcHRlcignc3RyaW5nOm15X2ZyZWUnLChpKT0+e1xuICAgICAgdHJ5IHsgcmV0dXJuIGkgPyB0YXJnZXQuY3N0clRvSnMoaSkgOiBudWxsIH1cbiAgICAgIGZpbmFsbHl7IHRhcmdldC5leHBvcnRzLm15X2ZyZWUoaSkgfVxuICAgfTtcbmBgYFxuXG4gICAgIC0gYGpzb25gIChyZXN1bHRzKTogdHJlYXRzIHRoZSByZXN1bHQgYXMgYSBjb25zdCBDLXN0cmluZyBhbmRcbiAgICAgICByZXR1cm5zIHRoZSByZXN1bHQgb2YgcGFzc2luZyB0aGUgY29udmVydGVkLXRvLUpTIHN0cmluZyB0b1xuICAgICAgIEpTT04ucGFyc2UoKS4gUmV0dXJucyBgbnVsbGAgaWYgdGhlIEMtc3RyaW5nIGlzIGEgTlVMTCBwb2ludGVyLlxuXG4gICAgIC0gYGpzb246ZGVhbGxvY2AgKHJlc3VsdHMpOiB3b3JrcyBleGFjdGx5IGxpa2UgYHN0cmluZzpkZWFsbG9jYCBidXRcbiAgICAgICByZXR1cm5zIHRoZSBzYW1lIHRoaW5nIGFzIHRoZSBganNvbmAgYWRhcHRlci4gTm90ZSB0aGVcbiAgICAgICB3YXJuaW5nIGluIGBzdHJpbmc6ZGVhbGxvY2AgcmVnYXJkaW5nIG1hY2hpbmcgYWxsb2NhdG9ycyBhbmRcbiAgICAgICBkZWFsbG9jYXRvcnMuXG5cbiAgICAgVGhlIHR5cGUgbmFtZXMgZm9yIHJlc3VsdHMgYW5kIGFyZ3VtZW50cyBhcmUgdmFsaWRhdGVkIHdoZW5cbiAgICAgeFdyYXAoKSBpcyBjYWxsZWQgYW5kIGFueSB1bmtub3duIG5hbWVzIHdpbGwgdHJpZ2dlciBhblxuICAgICBleGNlcHRpb24uXG5cbiAgICAgQ2xpZW50cyBtYXkgbWFwIHRoZWlyIG93biByZXN1bHQgYW5kIGFyZ3VtZW50IGFkYXB0ZXJzIHVzaW5nXG4gICAgIHhXcmFwLnJlc3VsdEFkYXB0ZXIoKSBhbmQgeFdyYXAuYXJnQWRhcHRlcigpLCBub3RpbmcgdGhhdCBub3QgYWxsXG4gICAgIHR5cGUgY29udmVyc2lvbnMgYXJlIHZhbGlkIGZvciBib3RoIGFyZ3VtZW50cyBfYW5kXyByZXN1bHQgdHlwZXNcbiAgICAgYXMgdGhleSBvZnRlbiBoYXZlIGRpZmZlcmVudCBtZW1vcnkgb3duZXJzaGlwIHJlcXVpcmVtZW50cy5cblxuICAgICBEZXNpZ24gbm90ZTogdGhlIGFiaWxpdHkgdG8gcGFzcyBpbiBhIEpTIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdFxuICAgICBhcmd1bWVudCBpcyBvZiByZWxhdGl2ZWx5IGxpbWl0ZWQgdXNlLCBwcmltYXJpbHkgZm9yIHRlc3RpbmdcbiAgICAgYXJndW1lbnQgYW5kIHJlc3VsdCBjb252ZXJ0ZXJzLiBKUyBmdW5jdGlvbnMsIGJ5IGFuZCBsYXJnZSwgd2lsbFxuICAgICBub3Qgd2FudCB0byBkZWFsIHdpdGggQy10eXBlIGFyZ3VtZW50cy5cblxuICAgICBUT0RPczpcblxuICAgICAtIEZpZ3VyZSBvdXQgaG93L3doZXRoZXIgd2UgY2FuIChzZW1pLSl0cmFuc3BhcmVudGx5IGhhbmRsZVxuICAgICAgIHBvaW50ZXItdHlwZSBfb3V0cHV0XyBhcmd1bWVudHMuIFRob3NlIGN1cnJlbnRseSByZXF1aXJlXG4gICAgICAgZXhwbGljaXQgaGFuZGxpbmcgYnkgYWxsb2NhdGluZyBwb2ludGVycywgYXNzaWduaW5nIHRoZW0gYmVmb3JlXG4gICAgICAgdGhlIGNhbGwgdXNpbmcgcG9rZSgpLCBhbmQgZmV0Y2hpbmcgdGhlbSB3aXRoXG4gICAgICAgcGVlaygpIGFmdGVyIHRoZSBjYWxsLiBXZSBtYXkgYmUgYWJsZSB0byBhdXRvbWF0ZSBzb21lXG4gICAgICAgb3IgYWxsIG9mIHRoYXQuXG5cbiAgICAgLSBGaWd1cmUgb3V0IHdoZXRoZXIgaXQgbWFrZXMgc2Vuc2UgdG8gZXh0ZW5kIHRoZSBhcmcgYWRhcHRlclxuICAgICAgIGludGVyZmFjZSBzdWNoIHRoYXQgZWFjaCBhcmcgYWRhcHRlciBnZXRzIGFuIGFycmF5IGNvbnRhaW5pbmdcbiAgICAgICB0aGUgcmVzdWx0cyBvZiB0aGUgcHJldmlvdXMgYXJndW1lbnRzIGluIHRoZSBjdXJyZW50IGNhbGwuIFRoYXRcbiAgICAgICBtaWdodCBhbGxvdyBzb21lIGludGVyZXN0aW5nIHR5cGUtY29udmVyc2lvbiBmZWF0dXJlLiBVc2UgY2FzZTpcbiAgICAgICBoYW5kbGluZyBvZiB0aGUgZmluYWwgYXJndW1lbnQgdG8gc3FsaXRlM19wcmVwYXJlX3YyKCkgZGVwZW5kc1xuICAgICAgIG9uIHRoZSB0eXBlIChwb2ludGVyIHZzIEpTIHN0cmluZykgb2YgaXRzIDJuZFxuICAgICAgIGFyZ3VtZW50LiBDdXJyZW50bHkgdGhhdCBkaXN0aW5jdGlvbiByZXF1aXJlcyBoYW5kLXdyaXRpbmcgYVxuICAgICAgIHdyYXBwZXIgZm9yIHRoYXQgZnVuY3Rpb24uIFRoYXQgY2FzZSBpcyB1bnVzdWFsIGVub3VnaCB0aGF0XG4gICAgICAgYWJzdHJhY3RpbmcgaXQgaW50byB0aGlzIEFQSSAoYW5kIHRha2luZyBvbiB0aGUgYXNzb2NpYXRlZFxuICAgICAgIGNvc3RzKSBtYXkgd2VsbCBub3QgbWFrZSBnb29kIHNlbnNlLlxuICAqL1xuICB0YXJnZXQueFdyYXAgPSBmdW5jdGlvbihmQXJnLCByZXN1bHRUeXBlLCAuLi5hcmdUeXBlcyl7XG4gICAgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGggJiYgQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMl0pKXtcbiAgICAgIGFyZ1R5cGVzID0gYXJndW1lbnRzWzJdO1xuICAgIH1cbiAgICBpZih0YXJnZXQuaXNQdHIoZkFyZykpe1xuICAgICAgZkFyZyA9IHRhcmdldC5mdW5jdGlvbkVudHJ5KGZBcmcpXG4gICAgICAgIHx8IHRvc3MoXCJGdW5jdGlvbiBwb2ludGVyIG5vdCBmb3VuZCBpbiBXQVNNIGZ1bmN0aW9uIHRhYmxlLlwiKTtcbiAgICB9XG4gICAgY29uc3QgZklzRnVuYyA9IChmQXJnIGluc3RhbmNlb2YgRnVuY3Rpb24pO1xuICAgIGNvbnN0IHhmID0gZklzRnVuYyA/IGZBcmcgOiB0YXJnZXQueEdldChmQXJnKTtcbiAgICBpZihmSXNGdW5jKSBmQXJnID0geGYubmFtZSB8fCAndW5uYW1lZCBmdW5jdGlvbic7XG4gICAgaWYoYXJnVHlwZXMubGVuZ3RoIT09eGYubGVuZ3RoKSBfX2FyZ2NNaXNtYXRjaChmQXJnLCB4Zi5sZW5ndGgpO1xuICAgIGlmKChudWxsPT09cmVzdWx0VHlwZSkgJiYgMD09PXhmLmxlbmd0aCl7XG4gICAgICAvKiBGdW5jIHRha2luZyBubyBhcmdzIHdpdGggYW4gYXMtaXMgcmV0dXJuLiBXZSBkb24ndCBuZWVkIGEgd3JhcHBlci5cbiAgICAgICAgIFdlIGZvcmVnbyB0aGUgYXJnYyBjaGVjayBoZXJlLCB0aG91Z2guICovXG4gICAgICByZXR1cm4geGY7XG4gICAgfVxuICAgIC8qVmVyaWZ5IHRoZSBhcmcgdHlwZSBjb252ZXJzaW9ucyBhcmUgdmFsaWQuLi4qLztcbiAgICBpZih1bmRlZmluZWQhPT1yZXN1bHRUeXBlICYmIG51bGwhPT1yZXN1bHRUeXBlKSBfX3hSZXN1bHRBZGFwdGVyQ2hlY2socmVzdWx0VHlwZSk7XG4gICAgZm9yKGNvbnN0IHQgb2YgYXJnVHlwZXMpe1xuICAgICAgaWYodCBpbnN0YW5jZW9mIEFic3RyYWN0QXJnQWRhcHRlcikgeEFyZy5zZXQodCwgKC4uLmFyZ3MpPT50LmNvbnZlcnRBcmcoLi4uYXJncykpO1xuICAgICAgZWxzZSBfX3hBcmdBZGFwdGVyQ2hlY2sodCk7XG4gICAgfVxuICAgIGNvbnN0IGN4dyA9IGNhY2hlLnhXcmFwO1xuICAgIGlmKDA9PT14Zi5sZW5ndGgpe1xuICAgICAgLy8gTm8gYXJncyB0byBjb252ZXJ0LCBzbyB3ZSBjYW4gY3JlYXRlIGEgc2ltcGxlciB3cmFwcGVyLi4uXG4gICAgICByZXR1cm4gKC4uLmFyZ3MpPT4oYXJncy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgICA/IF9fYXJnY01pc21hdGNoKGZBcmcsIHhmLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICA6IGN4dy5jb252ZXJ0UmVzdWx0KHJlc3VsdFR5cGUsIHhmLmNhbGwobnVsbCkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3Mpe1xuICAgICAgaWYoYXJncy5sZW5ndGghPT14Zi5sZW5ndGgpIF9fYXJnY01pc21hdGNoKGZBcmcsIHhmLmxlbmd0aCk7XG4gICAgICBjb25zdCBzY29wZSA9IHRhcmdldC5zY29wZWRBbGxvY1B1c2goKTtcbiAgICAgIHRyeXtcbiAgICAgICAgLypcbiAgICAgICAgICBNYWludGVuYW5jZSByZW1pbmRlciByZS4gYXJndW1lbnRzIHBhc3NlZCB0byBjb252ZXJ0QXJnKCk6XG4gICAgICAgICAgVGhlIHB1YmxpYyBpbnRlcmZhY2Ugb2YgYXJndW1lbnQgYWRhcHRlcnMgaXMgdGhhdCB0aGV5IHRha2VcbiAgICAgICAgICBPTkUgYXJndW1lbnQgYW5kIHJldHVybiBhIChwb3NzaWJseSkgY29udmVydGVkIHJlc3VsdCBmb3JcbiAgICAgICAgICBpdC4gVGhlIHBhc3Npbmctb24gb2YgYXJndW1lbnRzIGFmdGVyIHRoZSBmaXJzdCBpcyBhblxuICAgICAgICAgIGludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCBmb3IgdGhlIHNha2Ugb2ZcbiAgICAgICAgICBBYnN0cmFjdEFyZ0FkYXB0ZXIsIGFuZCBub3QgdG8gYmUgcmVsaWVkIG9uIG9yIGRvY3VtZW50ZWRcbiAgICAgICAgICBmb3Igb3RoZXIgY2FzZXMuIFRoZSBmYWN0IHRoYXQgdGhpcyBpcyBob3dcbiAgICAgICAgICBBYnN0cmFjdEFyZ0FkYXB0ZXIuY29udmVydEFyZ3MoKSBnZXRzIGl0cyAybmQrIGFyZ3VtZW50cyxcbiAgICAgICAgICBhbmQgaG93IEZ1bmNQdHJBZGFwdGVyLmNvbnRleHRLZXkoKSBnZXRzIGl0cyBhcmdzLCBpcyBhbHNvXG4gICAgICAgICAgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlsIGFuZCBzdWJqZWN0IHRvIGNoYW5nZS4gaS5lLiB0aGVcbiAgICAgICAgICBwdWJsaWMgaW50ZXJmYWNlIG9mIDEgYXJndW1lbnQgaXMgc3RhYmxlLiAgVGhlIGZhY3QgdGhhdCBhbnlcbiAgICAgICAgICBhcmd1bWVudHMgbWF5IGJlIHBhc3NlZCBpbiBhZnRlciB0aGF0IG9uZSwgYW5kIHdoYXQgdGhvc2VcbiAgICAgICAgICBhcmd1bWVudHMgYXJlLCBpcyBfbm90XyBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlIGFuZCBpc1xuICAgICAgICAgIF9ub3RfIHN0YWJsZS5cbiAgICAgICAgKi9cbiAgICAgICAgZm9yKGNvbnN0IGkgaW4gYXJncykgYXJnc1tpXSA9IGN4dy5jb252ZXJ0QXJnTm9DaGVjayhcbiAgICAgICAgICBhcmdUeXBlc1tpXSwgYXJnc1tpXSwgYXJncywgaVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gY3h3LmNvbnZlcnRSZXN1bHROb0NoZWNrKHJlc3VsdFR5cGUsIHhmLmFwcGx5KG51bGwsYXJncykpO1xuICAgICAgfWZpbmFsbHl7XG4gICAgICAgIHRhcmdldC5zY29wZWRBbGxvY1BvcChzY29wZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfS8qeFdyYXAoKSovO1xuXG4gIC8qKiBJbnRlcm5hbCBpbXBsIGZvciB4V3JhcC5yZXN1bHRBZGFwdGVyKCkgYW5kIGFyZ0FkYXB0ZXIoKS4gKi9cbiAgY29uc3QgX194QWRhcHRlciA9IGZ1bmN0aW9uKGZ1bmMsIGFyZ2MsIHR5cGVOYW1lLCBhZGFwdGVyLCBtb2RlTmFtZSwgeGN2UGFydCl7XG4gICAgaWYoJ3N0cmluZyc9PT10eXBlb2YgdHlwZU5hbWUpe1xuICAgICAgaWYoMT09PWFyZ2MpIHJldHVybiB4Y3ZQYXJ0LmdldCh0eXBlTmFtZSk7XG4gICAgICBlbHNlIGlmKDI9PT1hcmdjKXtcbiAgICAgICAgaWYoIWFkYXB0ZXIpe1xuICAgICAgICAgIGRlbGV0ZSB4Y3ZQYXJ0LmdldCh0eXBlTmFtZSk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICAgIH1lbHNlIGlmKCEoYWRhcHRlciBpbnN0YW5jZW9mIEZ1bmN0aW9uKSl7XG4gICAgICAgICAgdG9zcyhtb2RlTmFtZSxcInJlcXVpcmVzIGEgZnVuY3Rpb24gYXJndW1lbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHhjdlBhcnQuc2V0KHR5cGVOYW1lLCBhZGFwdGVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICB9XG4gICAgfVxuICAgIHRvc3MoXCJJbnZhbGlkIGFyZ3VtZW50cyB0b1wiLG1vZGVOYW1lKTtcbiAgfTtcblxuICAvKipcbiAgICAgR2V0cywgc2V0cywgb3IgcmVtb3ZlcyBhIHJlc3VsdCB2YWx1ZSBhZGFwdGVyIGZvciB1c2Ugd2l0aFxuICAgICB4V3JhcCgpLiBJZiBwYXNzZWQgb25seSAxIGFyZ3VtZW50LCB0aGUgYWRhcHRlciBmdW5jdGlvbiBmb3IgdGhlXG4gICAgIGdpdmVuIHR5cGUgbmFtZSBpcyByZXR1cm5lZC4gIElmIHRoZSBzZWNvbmQgYXJndW1lbnQgaXMgZXhwbGljaXRcbiAgICAgZmFsc3kgKGFzIG9wcG9zZWQgdG8gZGVmYXVsdGVkKSwgdGhlIGFkYXB0ZXIgbmFtZWQgYnkgdGhlIGZpcnN0XG4gICAgIGFyZ3VtZW50IGlzIHJlbW92ZWQuIElmIHRoZSAybmQgYXJndW1lbnQgaXMgbm90IGZhbHN5LCBpdCBtdXN0IGJlXG4gICAgIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgb25lIHZhbHVlIGFuZCByZXR1cm5zIGEgdmFsdWUgYXBwcm9wcmlhdGVcbiAgICAgZm9yIHRoZSBnaXZlbiB0eXBlIG5hbWUuIFRoZSBhZGFwdGVyIG1heSB0aHJvdyBpZiBpdHMgYXJndW1lbnQgaXNcbiAgICAgbm90IG9mIGEgdHlwZSBpdCBjYW4gd29yayB3aXRoLiBUaGlzIGZ1bmN0aW9uIHRocm93cyBmb3IgaW52YWxpZFxuICAgICBhcmd1bWVudHMuXG5cbiAgICAgRXhhbXBsZTpcblxuICAgICBgYGBcbiAgICAgeFdyYXAucmVzdWx0QWRhcHRlcigndHdpY2UnLCh2KT0+dit2KTtcbiAgICAgYGBgXG5cbiAgICAgeFdyYXAucmVzdWx0QWRhcHRlcigpIE1VU1QgTk9UIHVzZSB0aGUgc2NvcGVkQWxsb2MoKSBmYW1pbHkgb2ZcbiAgICAgQVBJcyB0byBhbGxvY2F0ZSBhIHJlc3VsdCB2YWx1ZS4geFdyYXAoKS1nZW5lcmF0ZWQgd3JhcHBlcnMgcnVuXG4gICAgIGluIHRoZSBjb250ZXh0IG9mIHNjb3BlZEFsbG9jUHVzaCgpIHNvIHRoYXQgYXJndW1lbnQgYWRhcHRlcnMgY2FuXG4gICAgIGVhc2lseSBjb252ZXJ0LCBlLmcuLCB0byBDLXN0cmluZ3MsIGFuZCBoYXZlIHRoZW0gY2xlYW5lZCB1cFxuICAgICBhdXRvbWF0aWNhbGx5IGJlZm9yZSB0aGUgd3JhcHBlciByZXR1cm5zIHRvIHRoZSBjYWxsZXIuIExpa2V3aXNlLFxuICAgICBpZiBhIF9yZXN1bHRfIGFkYXB0ZXIgdXNlcyBzY29wZWQgYWxsb2NhdGlvbiwgdGhlIHJlc3VsdCB3aWxsIGJlXG4gICAgIGZyZWVkIGJlZm9yZSBiZWNhdXNlIHRoZXkgd291bGQgYmUgZnJlZWQgYmVmb3JlIHRoZSB3cmFwcGVyXG4gICAgIHJldHVybnMsIGxlYWRpbmcgdG8gY2hhb3MgYW5kIHVuZGVmaW5lZCBiZWhhdmlvci5cblxuICAgICBFeGNlcHQgd2hlbiBjYWxsZWQgYXMgYSBnZXR0ZXIsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBpdHNlbGYuXG4gICovXG4gIHRhcmdldC54V3JhcC5yZXN1bHRBZGFwdGVyID0gZnVuY3Rpb24gZih0eXBlTmFtZSwgYWRhcHRlcil7XG4gICAgcmV0dXJuIF9feEFkYXB0ZXIoZiwgYXJndW1lbnRzLmxlbmd0aCwgdHlwZU5hbWUsIGFkYXB0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgJ3Jlc3VsdEFkYXB0ZXIoKScsIHhSZXN1bHQpO1xuICB9O1xuXG4gIC8qKlxuICAgICBGdW5jdGlvbnMgaWRlbnRpY2FsbHkgdG8geFdyYXAucmVzdWx0QWRhcHRlcigpIGJ1dCBhcHBsaWVzIHRvXG4gICAgIGNhbGwgYXJndW1lbnQgY29udmVyc2lvbnMgaW5zdGVhZCBvZiByZXN1bHQgdmFsdWUgY29udmVyc2lvbnMuXG5cbiAgICAgeFdyYXAoKS1nZW5lcmF0ZWQgd3JhcHBlcnMgcGVyZm9ybSBhcmd1bWVudCBjb252ZXJzaW9uIGluIHRoZVxuICAgICBjb250ZXh0IG9mIGEgc2NvcGVkQWxsb2NQdXNoKCksIHNvIGFueSBtZW1vcnkgYWxsb2NhdGlvblxuICAgICBwZXJmb3JtZWQgYnkgYXJndW1lbnQgYWRhcHRlcnMgcmVhbGx5LCByZWFsbHksIHJlYWxseSBzaG91bGQgYmVcbiAgICAgbWFkZSB1c2luZyB0aGUgc2NvcGVkQWxsb2MoKSBmYW1pbHkgb2YgZnVuY3Rpb25zIHVubGVzc1xuICAgICBzcGVjaWZpY2FsbHkgbmVjZXNzYXJ5LiBGb3IgZXhhbXBsZTpcblxuICAgICBgYGBcbiAgICAgeFdyYXAuYXJnQWRhcHRlcignbXktc3RyaW5nJywgZnVuY3Rpb24odil7XG4gICAgICAgcmV0dXJuICgnc3RyaW5nJz09PXR5cGVvZiB2KVxuICAgICAgICAgPyBteVdhc21PYmouc2NvcGVkQWxsb2NDU3RyaW5nKHYpIDogbnVsbDtcbiAgICAgfTtcbiAgICAgYGBgXG5cbiAgICAgQ29udHJhcml3aXNlLCB4V3JhcC5yZXN1bHRBZGFwdGVyKCkgbXVzdCBfbm90XyB1c2Ugc2NvcGVkQWxsb2MoKVxuICAgICB0byBhbGxvY2F0ZSBpdHMgcmVzdWx0cyBiZWNhdXNlIHRoZXkgd291bGQgYmUgZnJlZWQgYmVmb3JlIHRoZVxuICAgICB4V3JhcCgpLWNyZWF0ZWQgd3JhcHBlciByZXR1cm5zLlxuXG4gICAgIE5vdGUgdGhhdCBpdCBpcyBwZXJmZWN0bHkgbGVnaXRpbWF0ZSB0byB1c2UgdGhlc2UgYWRhcHRlcnMgdG9cbiAgICAgcGVyZm9ybSBhcmd1bWVudCB2YWxpZGF0aW9uLCBhcyBvcHBvc2VkIChvciBpbiBhZGRpdGlvbikgdG9cbiAgICAgY29udmVyc2lvbi5cbiAgKi9cbiAgdGFyZ2V0LnhXcmFwLmFyZ0FkYXB0ZXIgPSBmdW5jdGlvbiBmKHR5cGVOYW1lLCBhZGFwdGVyKXtcbiAgICByZXR1cm4gX194QWRhcHRlcihmLCBhcmd1bWVudHMubGVuZ3RoLCB0eXBlTmFtZSwgYWRhcHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAnYXJnQWRhcHRlcigpJywgeEFyZyk7XG4gIH07XG5cbiAgdGFyZ2V0LnhXcmFwLkZ1bmNQdHJBZGFwdGVyID0geEFyZy5GdW5jUHRyQWRhcHRlcjtcblxuICAvKipcbiAgICAgRnVuY3Rpb25zIGxpa2UgeENhbGwoKSBidXQgcGVyZm9ybXMgYXJndW1lbnQgYW5kIHJlc3VsdCB0eXBlXG4gICAgIGNvbnZlcnNpb25zIGFzIGZvciB4V3JhcCgpLiBUaGUgZmlyc3QsIHNlY29uZCwgYW5kIHRoaXJkXG4gICAgIGFyZ3VtZW50cyBhcmUgYXMgZG9jdW1lbnRlZCBmb3IgeFdyYXAoKSwgZXhjZXB0IHRoYXQgdGhlIDNyZFxuICAgICBhcmd1bWVudCBtYXkgYmUgZWl0aGVyIGEgZmFsc3kgdmFsdWUgb3IgZW1wdHkgYXJyYXkgdG8gcmVwcmVzZW50XG4gICAgIG51bGxhcnkgZnVuY3Rpb25zLiBUaGUgNHRoKyBhcmd1bWVudHMgYXJlIGFyZ3VtZW50cyBmb3IgdGhlIGNhbGwsXG4gICAgIHdpdGggdGhlIHNwZWNpYWwgY2FzZSB0aGF0IGlmIHRoZSA0dGggYXJndW1lbnQgaXMgYW4gYXJyYXksIGl0IGlzXG4gICAgIHVzZWQgYXMgdGhlIGFyZ3VtZW50cyBmb3IgdGhlIGNhbGwuIFJldHVybnMgdGhlIGNvbnZlcnRlZCByZXN1bHRcbiAgICAgb2YgdGhlIGNhbGwuXG5cbiAgICAgVGhpcyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIGFyb3VuZCB4V3JhcCgpLiBJZiB0aGUgZ2l2ZW4gZnVuY3Rpb25cbiAgICAgaXMgdG8gYmUgY2FsbGVkIG1vcmUgdGhhbiBvbmNlLCBpdCdzIG1vcmUgZWZmaWNpZW50IHRvIHVzZVxuICAgICB4V3JhcCgpIHRvIGNyZWF0ZSBhIHdyYXBwZXIsIHRoZW4gdG8gY2FsbCB0aGF0IHdyYXBwZXIgYXMgbWFueVxuICAgICB0aW1lcyBhcyBuZWVkZWQuIEZvciBvbmUtc2hvdCBjYWxscywgaG93ZXZlciwgdGhpcyB2YXJpYW50IGlzXG4gICAgIGFyZ3VhYmx5IG1vcmUgZWZmaWNpZW50IGJlY2F1c2UgaXQgd2lsbCBoeXBvdGhldGljYWxseSBmcmVlIHRoZVxuICAgICB3cmFwcGVyIGZ1bmN0aW9uIHF1aWNrbHkuXG4gICovXG4gIHRhcmdldC54Q2FsbFdyYXBwZWQgPSBmdW5jdGlvbihmQXJnLCByZXN1bHRUeXBlLCBhcmdUeXBlcywgLi4uYXJncyl7XG4gICAgaWYoQXJyYXkuaXNBcnJheShhcmd1bWVudHNbM10pKSBhcmdzID0gYXJndW1lbnRzWzNdO1xuICAgIHJldHVybiB0YXJnZXQueFdyYXAoZkFyZywgcmVzdWx0VHlwZSwgYXJnVHlwZXN8fFtdKS5hcHBseShudWxsLCBhcmdzfHxbXSk7XG4gIH07XG5cbiAgLyoqXG4gICAgIFRoaXMgZnVuY3Rpb24gaXMgT05MWSBleHBvc2VkIGluIHRoZSBwdWJsaWMgQVBJIHRvIGZhY2lsaXRhdGVcbiAgICAgdGVzdGluZy4gSXQgc2hvdWxkIG5vdCBiZSB1c2VkIGluIGFwcGxpY2F0aW9uLWxldmVsIGNvZGUsIG9ubHlcbiAgICAgaW4gdGVzdCBjb2RlLlxuXG4gICAgIEV4cGVjdHMgdG8gYmUgZ2l2ZW4gKHR5cGVOYW1lLCB2YWx1ZSkgYW5kIHJldHVybnMgYSBjb252ZXJzaW9uXG4gICAgIG9mIHRoYXQgdmFsdWUgYXMgaGFzIGJlZW4gcmVnaXN0ZXJlZCB1c2luZyBhcmdBZGFwdGVyKCkuXG4gICAgIEl0IHRocm93cyBpZiBubyBhZGFwdGVyIGlzIGZvdW5kLlxuXG4gICAgIEFDSFRVTkc6IHRoZSBhZGFwdGVyIG1heSByZXF1aXJlIHRoYXQgYSBzY29wZWRBbGxvY1B1c2goKSBpc1xuICAgICBhY3RpdmUgYW5kIGl0IG1heSBhbGxvY2F0ZSBtZW1vcnkgd2l0aGluIHRoYXQgc2NvcGUuIEl0IG1heSBhbHNvXG4gICAgIHJlcXVpcmUgYWRkaXRpb25hbCBhcmd1bWVudHMsIGRlcGVuZGluZyBvbiB0aGUgdHlwZSBvZlxuICAgICBjb252ZXJzaW9uLlxuICAqL1xuICB0YXJnZXQueFdyYXAudGVzdENvbnZlcnRBcmcgPSBjYWNoZS54V3JhcC5jb252ZXJ0QXJnO1xuXG4gIC8qKlxuICAgICBUaGlzIGZ1bmN0aW9uIGlzIE9OTFkgZXhwb3NlZCBpbiB0aGUgcHVibGljIEFQSSB0byBmYWNpbGl0YXRlXG4gICAgIHRlc3RpbmcuIEl0IHNob3VsZCBub3QgYmUgdXNlZCBpbiBhcHBsaWNhdGlvbi1sZXZlbCBjb2RlLCBvbmx5XG4gICAgIGluIHRlc3QgY29kZS5cblxuICAgICBFeHBlY3RzIHRvIGJlIGdpdmVuICh0eXBlTmFtZSwgdmFsdWUpIGFuZCByZXR1cm5zIGEgY29udmVyc2lvblxuICAgICBvZiB0aGF0IHZhbHVlIGFzIGhhcyBiZWVuIHJlZ2lzdGVyZWQgdXNpbmcgcmVzdWx0QWRhcHRlcigpLlxuICAgICBJdCB0aHJvd3MgaWYgbm8gYWRhcHRlciBpcyBmb3VuZC5cblxuICAgICBBQ0hUVU5HOiB0aGUgYWRhcHRlciBtYXkgYWxsb2NhdGUgbWVtb3J5IHdoaWNoIHRoZSBjYWxsZXIgbWF5IG5lZWRcbiAgICAgdG8ga25vdyBob3cgdG8gZnJlZS5cbiAgKi9cbiAgdGFyZ2V0LnhXcmFwLnRlc3RDb252ZXJ0UmVzdWx0ID0gY2FjaGUueFdyYXAuY29udmVydFJlc3VsdDtcblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuLyoqXG4gICB5YXdsIChZZXQgQW5vdGhlciBXYXNtIExvYWRlcikgcHJvdmlkZXMgdmVyeSBiYXNpYyB3YXNtIGxvYWRlci5cbiAgIEl0IHJlcXVpcmVzIGEgY29uZmlnIG9iamVjdDpcblxuICAgLSBgdXJpYDogcmVxdWlyZWQgVVJJIG9mIHRoZSBXQVNNIGZpbGUgdG8gbG9hZC5cblxuICAgLSBgb25sb2FkKGxvYWRSZXN1bHQsY29uZmlnKWA6IG9wdGlvbmFsIGNhbGxiYWNrLiBUaGUgZmlyc3RcbiAgICAgYXJndW1lbnQgaXMgdGhlIHJlc3VsdCBvYmplY3QgZnJvbVxuICAgICBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVtTdHJlYW1pbmddKCkuIFRoZSAybmQgaXMgdGhlIGNvbmZpZ1xuICAgICBvYmplY3QgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24uIERlc2NyaWJlZCBpbiBtb3JlIGRldGFpbCBiZWxvdy5cblxuICAgLSBgaW1wb3J0c2A6IG9wdGlvbmFsIGltcG9ydHMgb2JqZWN0IGZvclxuICAgICBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVtTdHJlYW1pbmddKCkuIFRoZSBkZWZhdWx0IGlzIGFuIGVtcHR5IHNldFxuICAgICBvZiBpbXBvcnRzLiBJZiB0aGUgbW9kdWxlIHJlcXVpcmVzIGFueSBpbXBvcnRzLCB0aGlzIG9iamVjdFxuICAgICBtdXN0IGluY2x1ZGUgdGhlbS5cblxuICAgLSBgd2FzbVV0aWxUYXJnZXRgOiBvcHRpb25hbCBvYmplY3Qgc3VpdGFibGUgZm9yIHBhc3NpbmcgdG9cbiAgICAgV2hXYXNtVXRpbEluc3RhbGxlcigpLiBJZiBzZXQsIGl0IGdldHMgcGFzc2VkIHRvIHRoYXQgZnVuY3Rpb25cbiAgICAgYWZ0ZXIgdGhlIHByb21pc2UgcmVzb2x2ZXMuIFRoaXMgZnVuY3Rpb24gc2V0cyBzZXZlcmFsIHByb3BlcnRpZXNcbiAgICAgb24gaXQgYmVmb3JlIHBhc3NpbmcgaXQgb24gdG8gdGhhdCBmdW5jdGlvbiAod2hpY2ggc2V0cyBtYW55XG4gICAgIG1vcmUpOlxuXG4gICAgIC0gYG1vZHVsZWAsIGBpbnN0YW5jZWA6IHRoZSBwcm9wZXJ0aWVzIGZyb20gdGhlXG4gICAgICAgaW5zdGFudGlhdGVbU3RyZWFtaW5nXSgpIHJlc3VsdC5cblxuICAgICAtIElmIGBpbnN0YW5jZS5leHBvcnRzLm1lbW9yeWAgaXMgX25vdF8gc2V0IHRoZW4gaXQgcmVxdWlyZXMgdGhhdFxuICAgICAgIGBjb25maWcuaW1wb3J0cy5lbnYubWVtb3J5YCBiZSBzZXQgKGVsc2UgaXQgdGhyb3dzKSwgYW5kXG4gICAgICAgYXNzaWducyB0aGF0IHRvIGB0YXJnZXQubWVtb3J5YC5cblxuICAgICAtIElmIGB3YXNtVXRpbFRhcmdldC5hbGxvY2AgaXMgbm90IHNldCBhbmRcbiAgICAgICBgaW5zdGFuY2UuZXhwb3J0cy5tYWxsb2NgIGlzLCBpdCBpbnN0YWxsc1xuICAgICAgIGB3YXNtVXRpbFRhcmdldC5hbGxvYygpYCBhbmQgYHdhc21VdGlsVGFyZ2V0LmRlYWxsb2MoKWBcbiAgICAgICB3cmFwcGVycyBmb3IgdGhlIGV4cG9ydHMgYG1hbGxvY2AgYW5kIGBmcmVlYCBmdW5jdGlvbnMuXG5cbiAgIEl0IHJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBjYWxsZWQsIGluaXRpYXRlcyBsb2FkaW5nIG9mIHRoZVxuICAgbW9kdWxlIGFuZCByZXR1cm5zIGEgUHJvbWlzZS4gV2hlbiB0aGF0IFByb21pc2UgcmVzb2x2ZXMsIGl0IGNhbGxzXG4gICB0aGUgYGNvbmZpZy5vbmxvYWRgIGNhbGxiYWNrIChpZiBzZXQpIGFuZCBwYXNzZXMgaXRcbiAgIGAobG9hZFJlc3VsdCxjb25maWcpYCwgd2hlcmUgYGxvYWRSZXN1bHRgIGlzIHRoZSByZXN1bHQgb2ZcbiAgIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlW1N0cmVhbWluZ10oKTogYW4gb2JqZWN0IGluIHRoZSBmb3JtOlxuXG4gICBgYGBcbiAgIHtcbiAgICAgbW9kdWxlOiBhIFdlYkFzc2VtYmx5Lk1vZHVsZSxcbiAgICAgaW5zdGFuY2U6IGEgV2ViQXNzZW1ibHkuSW5zdGFuY2VcbiAgIH1cbiAgIGBgYFxuXG4gICAoTm90ZSB0aGF0IHRoZSBpbml0aWFsIGB0aGVuKClgIGF0dGFjaGVkIHRvIHRoZSBwcm9taXNlIGdldHMgb25seVxuICAgdGhhdCBvYmplY3QsIGFuZCBub3QgdGhlIGBjb25maWdgIG9uZS4pXG5cbiAgIEVycm9yIGhhbmRsaW5nIGlzIHVwIHRvIHRoZSBjYWxsZXIsIHdobyBtYXkgYXR0YWNoIGEgYGNhdGNoKClgIGNhbGxcbiAgIHRvIHRoZSBwcm9taXNlLlxuKi9cbmdsb2JhbFRoaXMuV2hXYXNtVXRpbEluc3RhbGxlci55YXdsID0gZnVuY3Rpb24oY29uZmlnKXtcbiAgY29uc3Qgd2ZldGNoID0gKCk9PmZldGNoKGNvbmZpZy51cmksIHtjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ30pO1xuICBjb25zdCB3dWkgPSB0aGlzO1xuICBjb25zdCBmaW5hbFRoZW4gPSBmdW5jdGlvbihhcmcpe1xuICAgIC8vbG9nKFwiZmluYWxUaGVuKClcIixhcmcpO1xuICAgIGlmKGNvbmZpZy53YXNtVXRpbFRhcmdldCl7XG4gICAgICBjb25zdCB0b3NzID0gKC4uLmFyZ3MpPT57dGhyb3cgbmV3IEVycm9yKGFyZ3Muam9pbignICcpKX07XG4gICAgICBjb25zdCB0Z3QgPSBjb25maWcud2FzbVV0aWxUYXJnZXQ7XG4gICAgICB0Z3QubW9kdWxlID0gYXJnLm1vZHVsZTtcbiAgICAgIHRndC5pbnN0YW5jZSA9IGFyZy5pbnN0YW5jZTtcbiAgICAgIC8vdGd0LmV4cG9ydHMgPSB0Z3QuaW5zdGFuY2UuZXhwb3J0cztcbiAgICAgIGlmKCF0Z3QuaW5zdGFuY2UuZXhwb3J0cy5tZW1vcnkpe1xuICAgICAgICAvKipcbiAgICAgICAgICAgV2hXYXNtVXRpbEluc3RhbGxlciByZXF1aXJlcyBlaXRoZXIgdGd0LmV4cG9ydHMubWVtb3J5XG4gICAgICAgICAgIChleHBvcnRlZCBmcm9tIFdBU00pIG9yIHRndC5tZW1vcnkgKEpTLXByb3ZpZGVkIG1lbW9yeVxuICAgICAgICAgICBpbXBvcnRlZCBpbnRvIFdBU00pLlxuICAgICAgICAqL1xuICAgICAgICB0Z3QubWVtb3J5ID0gKGNvbmZpZy5pbXBvcnRzICYmIGNvbmZpZy5pbXBvcnRzLmVudlxuICAgICAgICAgICAgICAgICAgICAgICYmIGNvbmZpZy5pbXBvcnRzLmVudi5tZW1vcnkpXG4gICAgICAgICAgfHwgdG9zcyhcIk1pc3NpbmcgJ21lbW9yeScgb2JqZWN0IVwiKTtcbiAgICAgIH1cbiAgICAgIGlmKCF0Z3QuYWxsb2MgJiYgYXJnLmluc3RhbmNlLmV4cG9ydHMubWFsbG9jKXtcbiAgICAgICAgY29uc3QgZXhwb3J0cyA9IGFyZy5pbnN0YW5jZS5leHBvcnRzO1xuICAgICAgICB0Z3QuYWxsb2MgPSBmdW5jdGlvbihuKXtcbiAgICAgICAgICByZXR1cm4gZXhwb3J0cy5tYWxsb2MobikgfHwgdG9zcyhcIkFsbG9jYXRpb24gb2ZcIixuLFwiYnl0ZXMgZmFpbGVkLlwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGd0LmRlYWxsb2MgPSBmdW5jdGlvbihtKXtleHBvcnRzLmZyZWUobSl9O1xuICAgICAgfVxuICAgICAgd3VpKHRndCk7XG4gICAgfVxuICAgIGlmKGNvbmZpZy5vbmxvYWQpIGNvbmZpZy5vbmxvYWQoYXJnLGNvbmZpZyk7XG4gICAgcmV0dXJuIGFyZyAvKiBmb3IgYW55IHRoZW4oKSBoYW5kbGVyIGF0dGFjaGVkIHRvXG4gICAgICAgICAgICAgICAgICB5ZXRBbm90aGVyV2FzbUxvYWRlcigpJ3MgcmV0dXJuIHZhbHVlICovO1xuICB9O1xuICBjb25zdCBsb2FkV2FzbSA9IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nXG4gICAgICAgID8gZnVuY3Rpb24gbG9hZFdhc21TdHJlYW1pbmcoKXtcbiAgICAgICAgICByZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcod2ZldGNoKCksIGNvbmZpZy5pbXBvcnRzfHx7fSlcbiAgICAgICAgICAgIC50aGVuKGZpbmFsVGhlbik7XG4gICAgICAgIH1cbiAgICAgICAgOiBmdW5jdGlvbiBsb2FkV2FzbU9sZFNjaG9vbCgpeyAvLyBTYWZhcmkgPCB2MTVcbiAgICAgICAgICByZXR1cm4gd2ZldGNoKClcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpXG4gICAgICAgICAgICAudGhlbihieXRlcyA9PiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShieXRlcywgY29uZmlnLmltcG9ydHN8fHt9KSlcbiAgICAgICAgICAgIC50aGVuKGZpbmFsVGhlbik7XG4gICAgICAgIH07XG4gIHJldHVybiBsb2FkV2FzbTtcbn0uYmluZChnbG9iYWxUaGlzLldoV2FzbVV0aWxJbnN0YWxsZXIpLyp5YXdsKCkqLztcbi8qIEVORCBGSUxFOiBjb21tb24vd2h3YXNtdXRpbC5qcyAqL1xuLyogQkVHSU4gRklMRTogamFjY3dhYnl0L2phY2N3YWJ5dC5qcyAqL1xuLyoqXG4gIDIwMjItMDYtMzBcblxuICBUaGUgYXV0aG9yIGRpc2NsYWltcyBjb3B5cmlnaHQgdG8gdGhpcyBzb3VyY2UgY29kZS4gIEluIHBsYWNlIG9mIGFcbiAgbGVnYWwgbm90aWNlLCBoZXJlIGlzIGEgYmxlc3Npbmc6XG5cbiAgKiAgIE1heSB5b3UgZG8gZ29vZCBhbmQgbm90IGV2aWwuXG4gICogICBNYXkgeW91IGZpbmQgZm9yZ2l2ZW5lc3MgZm9yIHlvdXJzZWxmIGFuZCBmb3JnaXZlIG90aGVycy5cbiAgKiAgIE1heSB5b3Ugc2hhcmUgZnJlZWx5LCBuZXZlciB0YWtpbmcgbW9yZSB0aGFuIHlvdSBnaXZlLlxuXG4gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgVGhlIEphY2N3YWJ5dCBBUEkgaXMgZG9jdW1lbnRlZCBpbiBkZXRhaWwgaW4gYW4gZXh0ZXJuYWwgZmlsZSxcbiAgX3Bvc3NpYmx5XyBjYWxsZWQgamFjY3dhYnl0Lm1kIGluIHRoZSBzYW1lIGRpcmVjdG9yeSBhcyB0aGlzIGZpbGUuXG5cbiAgUHJvamVjdCBob21lczpcbiAgLSBodHRwczovL2Zvc3NpbC53YW5kZXJpbmdob3JzZS5uZXQvci9qYWNjd2FieXRcbiAgLSBodHRwczovL3NxbGl0ZS5vcmcvc3JjL2Rpci9leHQvd2FzbS9qYWNjd2FieXRcblxuKi9cbid1c2Ugc3RyaWN0Jztcbmdsb2JhbFRoaXMuSmFjY3dhYnl0ID0gZnVuY3Rpb24gU3RydWN0QmluZGVyRmFjdG9yeShjb25maWcpe1xuLyogXl5eXiBpdCBpcyByZWNvbW1lbmRlZCB0aGF0IGNsaWVudHMgbW92ZSB0aGF0IG9iamVjdCBpbnRvIHdoZXJldmVyXG4gICB0aGV5J2QgbGlrZSB0byBoYXZlIGl0IGFuZCBkZWxldGUgdGhlIHNlbGYtaGVsZCBjb3B5IChcInNlbGZcIiBiZWluZ1xuICAgdGhlIGdsb2JhbCB3aW5kb3cgb3Igd29ya2VyIG9iamVjdCkuICBUaGlzIEFQSSBkb2VzIG5vdCByZXF1aXJlIHRoZVxuICAgZ2xvYmFsIHJlZmVyZW5jZSAtIGl0IGlzIHNpbXBseSBpbnN0YWxsZWQgYXMgYSBjb252ZW5pZW5jZSBmb3JcbiAgIGNvbm5lY3RpbmcgdGhlc2UgYml0cyB0byBvdGhlciBjby1kZXZlbG9wZWQgY29kZSBiZWZvcmUgaXQgZ2V0c1xuICAgcmVtb3ZlZCBmcm9tIHRoZSBnbG9iYWwgbmFtZXNwYWNlLlxuKi9cblxuICAvKiogVGhyb3dzIGEgbmV3IEVycm9yLCB0aGUgbWVzc2FnZSBvZiB3aGljaCBpcyB0aGUgY29uY2F0ZW5hdGlvblxuICAgICAgYWxsIGFyZ3Mgd2l0aCBhIHNwYWNlIGJldHdlZW4gZWFjaC4gKi9cbiAgY29uc3QgdG9zcyA9ICguLi5hcmdzKT0+e3Rocm93IG5ldyBFcnJvcihhcmdzLmpvaW4oJyAnKSl9O1xuXG4gIC8qKlxuICAgICBJbXBsZW1lbnRpbmcgZnVuY3Rpb24gYmluZGluZ3MgcmV2ZWFsZWQgc2lnbmlmaWNhbnRcbiAgICAgc2hvcnRjb21pbmdzIGluIEVtc2NyaXB0ZW4ncyBhZGRGdW5jdGlvbigpL3JlbW92ZUZ1bmN0aW9uKClcbiAgICAgaW50ZXJmYWNlczpcblxuICAgICBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vaXNzdWVzLzE3MzIzXG5cbiAgICAgVW50aWwgdGhvc2UgYXJlIHJlc29sdmVkLCBvciBhIHN1aXRhYmxlIHJlcGxhY2VtZW50IGNhbiBiZVxuICAgICBpbXBsZW1lbnRlZCwgb3VyIGZ1bmN0aW9uLWJpbmRpbmcgQVBJIHdpbGwgYmUgbW9yZSBsaW1pdGVkXG4gICAgIGFuZC9vciBjbHVtc2llciB0byB1c2UgdGhhbiBpbml0aWFsbHkgaG9wZWQuXG4gICovXG4gIGlmKCEoY29uZmlnLmhlYXAgaW5zdGFuY2VvZiBXZWJBc3NlbWJseS5NZW1vcnkpXG4gICAgICYmICEoY29uZmlnLmhlYXAgaW5zdGFuY2VvZiBGdW5jdGlvbikpe1xuICAgIHRvc3MoXCJjb25maWcuaGVhcCBtdXN0IGJlIFdlYkFzc2VtYmx5Lk1lbW9yeSBpbnN0YW5jZSBvciBhIGZ1bmN0aW9uLlwiKTtcbiAgfVxuICBbJ2FsbG9jJywnZGVhbGxvYyddLmZvckVhY2goZnVuY3Rpb24oayl7XG4gICAgKGNvbmZpZ1trXSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB8fFxuICAgICAgdG9zcyhcIkNvbmZpZyBvcHRpb24gJ1wiK2srXCInIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7XG4gIH0pO1xuICBjb25zdCBTQkYgPSBTdHJ1Y3RCaW5kZXJGYWN0b3J5O1xuICBjb25zdCBoZWFwID0gKGNvbmZpZy5oZWFwIGluc3RhbmNlb2YgRnVuY3Rpb24pXG4gICAgICAgID8gY29uZmlnLmhlYXAgOiAoKCk9Pm5ldyBVaW50OEFycmF5KGNvbmZpZy5oZWFwLmJ1ZmZlcikpLFxuICAgICAgICBhbGxvYyA9IGNvbmZpZy5hbGxvYyxcbiAgICAgICAgZGVhbGxvYyA9IGNvbmZpZy5kZWFsbG9jLFxuICAgICAgICBsb2cgPSBjb25maWcubG9nIHx8IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksXG4gICAgICAgIG1lbWJlclByZWZpeCA9IChjb25maWcubWVtYmVyUHJlZml4IHx8IFwiXCIpLFxuICAgICAgICBtZW1iZXJTdWZmaXggPSAoY29uZmlnLm1lbWJlclN1ZmZpeCB8fCBcIlwiKSxcbiAgICAgICAgYmlnSW50RW5hYmxlZCA9ICh1bmRlZmluZWQ9PT1jb25maWcuYmlnSW50RW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgID8gISFzZWxmWydCaWdJbnQ2NEFycmF5J10gOiAhIWNvbmZpZy5iaWdJbnRFbmFibGVkKSxcbiAgICAgICAgQmlnSW50ID0gc2VsZlsnQmlnSW50J10sXG4gICAgICAgIEJpZ0ludDY0QXJyYXkgPSBzZWxmWydCaWdJbnQ2NEFycmF5J10sXG4gICAgICAgIC8qIFVuZG9jdW1lbnRlZCAob24gcHVycG9zZSkgY29uZmlnIG9wdGlvbnM6ICovXG4gICAgICAgIHB0clNpemVvZiA9IGNvbmZpZy5wdHJTaXplb2YgfHwgNCxcbiAgICAgICAgcHRySVIgPSBjb25maWcucHRySVIgfHwgJ2kzMidcbiAgO1xuXG4gIGlmKCFTQkYuZGVidWdGbGFncyl7XG4gICAgU0JGLl9fbWFrZURlYnVnRmxhZ3MgPSBmdW5jdGlvbihkZXJpdmVGcm9tPW51bGwpe1xuICAgICAgLyogVGhpcyBpcyBkaXNndXN0aW5nbHkgb3ZlcmVuZ2luZWVyZWQuIDovICovXG4gICAgICBpZihkZXJpdmVGcm9tICYmIGRlcml2ZUZyb20uX19mbGFncykgZGVyaXZlRnJvbSA9IGRlcml2ZUZyb20uX19mbGFncztcbiAgICAgIGNvbnN0IGYgPSBmdW5jdGlvbiBmKGZsYWdzKXtcbiAgICAgICAgaWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe1xuICAgICAgICAgIHJldHVybiBmLl9fZmxhZ3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmxhZ3M8MCl7XG4gICAgICAgICAgZGVsZXRlIGYuX19mbGFncy5nZXR0ZXI7IGRlbGV0ZSBmLl9fZmxhZ3Muc2V0dGVyO1xuICAgICAgICAgIGRlbGV0ZSBmLl9fZmxhZ3MuYWxsb2M7IGRlbGV0ZSBmLl9fZmxhZ3MuZGVhbGxvYztcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgZi5fX2ZsYWdzLmdldHRlciAgPSAwIT09KDB4MDEgJiBmbGFncyk7XG4gICAgICAgICAgZi5fX2ZsYWdzLnNldHRlciAgPSAwIT09KDB4MDIgJiBmbGFncyk7XG4gICAgICAgICAgZi5fX2ZsYWdzLmFsbG9jICAgPSAwIT09KDB4MDQgJiBmbGFncyk7XG4gICAgICAgICAgZi5fX2ZsYWdzLmRlYWxsb2MgPSAwIT09KDB4MDggJiBmbGFncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGYuX2ZsYWdzO1xuICAgICAgfTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCdfX2ZsYWdzJywge1xuICAgICAgICBpdGVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUoZGVyaXZlRnJvbSlcbiAgICAgIH0pO1xuICAgICAgaWYoIWRlcml2ZUZyb20pIGYoMCk7XG4gICAgICByZXR1cm4gZjtcbiAgICB9O1xuICAgIFNCRi5kZWJ1Z0ZsYWdzID0gU0JGLl9fbWFrZURlYnVnRmxhZ3MoKTtcbiAgfS8qc3RhdGljIGluaXQqL1xuXG4gIGNvbnN0IGlzTGl0dGxlRW5kaWFuID0gKGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcigyKTtcbiAgICBuZXcgRGF0YVZpZXcoYnVmZmVyKS5zZXRJbnQxNigwLCAyNTYsIHRydWUgLyogbGl0dGxlRW5kaWFuICovKTtcbiAgICAvLyBJbnQxNkFycmF5IHVzZXMgdGhlIHBsYXRmb3JtJ3MgZW5kaWFubmVzcy5cbiAgICByZXR1cm4gbmV3IEludDE2QXJyYXkoYnVmZmVyKVswXSA9PT0gMjU2O1xuICB9KSgpO1xuICAvKipcbiAgICAgU29tZSB0ZXJtcyB1c2VkIGluIHRoZSBpbnRlcm5hbCBkb2NzOlxuXG4gICAgIFN0cnVjdFR5cGU6IGEgc3RydWN0LXdyYXBwaW5nIGNsYXNzIGdlbmVyYXRlZCBieSB0aGlzXG4gICAgIGZyYW1ld29yay5cbiAgICAgREVGOiBzdHJ1Y3QgZGVzY3JpcHRpb24gb2JqZWN0LlxuICAgICBTSUc6IHN0cnVjdCBtZW1iZXIgc2lnbmF0dXJlIHN0cmluZy5cbiAgKi9cblxuICAvKiogVHJ1ZSBpZiBTSUcgcyBsb29rcyBsaWtlIGEgZnVuY3Rpb24gc2lnbmF0dXJlLCBlbHNlXG4gICAgICBmYWxzZS4gKi9cbiAgY29uc3QgaXNGdW5jU2lnID0gKHMpPT4nKCc9PT1zWzFdO1xuICAvKiogVHJ1ZSBpZiBTSUcgcyBpcy1hIHBvaW50ZXIgc2lnbmF0dXJlLiAqL1xuICBjb25zdCBpc1B0clNpZyA9IChzKT0+J3AnPT09cyB8fCAnUCc9PT1zO1xuICBjb25zdCBpc0F1dG9QdHJTaWcgPSAocyk9PidQJz09PXMgLypFWFBFUklNRU5UQUwqLztcbiAgY29uc3Qgc2lnTGV0dGVyID0gKHMpPT5pc0Z1bmNTaWcocykgPyAncCcgOiBzWzBdO1xuICAvKiogUmV0dXJucyB0aGUgV0FTTSBJUiBmb3JtIG9mIHRoZSBFbXNjcmlwdGVuLWNvbnZlbnRpb25hbCBsZXR0ZXJcbiAgICAgIGF0IFNJRyBzWzBdLiBUaHJvd3MgZm9yIGFuIHVua25vd24gU0lHLiAqL1xuICBjb25zdCBzaWdJUiA9IGZ1bmN0aW9uKHMpe1xuICAgIHN3aXRjaChzaWdMZXR0ZXIocykpe1xuICAgICAgICBjYXNlICdjJzogY2FzZSAnQyc6IHJldHVybiAnaTgnO1xuICAgICAgICBjYXNlICdpJzogcmV0dXJuICdpMzInO1xuICAgICAgICBjYXNlICdwJzogY2FzZSAnUCc6IGNhc2UgJ3MnOiByZXR1cm4gcHRySVI7XG4gICAgICAgIGNhc2UgJ2onOiByZXR1cm4gJ2k2NCc7XG4gICAgICAgIGNhc2UgJ2YnOiByZXR1cm4gJ2Zsb2F0JztcbiAgICAgICAgY2FzZSAnZCc6IHJldHVybiAnZG91YmxlJztcbiAgICB9XG4gICAgdG9zcyhcIlVuaGFuZGxlZCBzaWduYXR1cmUgSVI6XCIscyk7XG4gIH07XG5cbiAgY29uc3QgYWZmaXJtQmlnSW50QXJyYXkgPSBCaWdJbnQ2NEFycmF5XG4gICAgICAgID8gKCk9PnRydWUgOiAoKT0+dG9zcygnQmlnSW50NjRBcnJheSBpcyBub3QgYXZhaWxhYmxlLicpO1xuICAvKiogUmV0dXJucyB0aGUgbmFtZSBvZiBhIERhdGFWaWV3IGdldHRlciBtZXRob2QgY29ycmVzcG9uZGluZ1xuICAgICAgdG8gdGhlIGdpdmVuIFNJRy4gKi9cbiAgY29uc3Qgc2lnRFZHZXR0ZXIgPSBmdW5jdGlvbihzKXtcbiAgICBzd2l0Y2goc2lnTGV0dGVyKHMpKSB7XG4gICAgICAgIGNhc2UgJ3AnOiBjYXNlICdQJzogY2FzZSAncyc6IHtcbiAgICAgICAgICBzd2l0Y2gocHRyU2l6ZW9mKXtcbiAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gJ2dldEludDMyJztcbiAgICAgICAgICAgICAgY2FzZSA4OiByZXR1cm4gYWZmaXJtQmlnSW50QXJyYXkoKSAmJiAnZ2V0QmlnSW50NjQnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdpJzogcmV0dXJuICdnZXRJbnQzMic7XG4gICAgICAgIGNhc2UgJ2MnOiByZXR1cm4gJ2dldEludDgnO1xuICAgICAgICBjYXNlICdDJzogcmV0dXJuICdnZXRVaW50OCc7XG4gICAgICAgIGNhc2UgJ2onOiByZXR1cm4gYWZmaXJtQmlnSW50QXJyYXkoKSAmJiAnZ2V0QmlnSW50NjQnO1xuICAgICAgICBjYXNlICdmJzogcmV0dXJuICdnZXRGbG9hdDMyJztcbiAgICAgICAgY2FzZSAnZCc6IHJldHVybiAnZ2V0RmxvYXQ2NCc7XG4gICAgfVxuICAgIHRvc3MoXCJVbmhhbmRsZWQgRGF0YVZpZXcgZ2V0dGVyIGZvciBzaWduYXR1cmU6XCIscyk7XG4gIH07XG4gIC8qKiBSZXR1cm5zIHRoZSBuYW1lIG9mIGEgRGF0YVZpZXcgc2V0dGVyIG1ldGhvZCBjb3JyZXNwb25kaW5nXG4gICAgICB0byB0aGUgZ2l2ZW4gU0lHLiAqL1xuICBjb25zdCBzaWdEVlNldHRlciA9IGZ1bmN0aW9uKHMpe1xuICAgIHN3aXRjaChzaWdMZXR0ZXIocykpe1xuICAgICAgICBjYXNlICdwJzogY2FzZSAnUCc6IGNhc2UgJ3MnOiB7XG4gICAgICAgICAgc3dpdGNoKHB0clNpemVvZil7XG4gICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuICdzZXRJbnQzMic7XG4gICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIGFmZmlybUJpZ0ludEFycmF5KCkgJiYgJ3NldEJpZ0ludDY0JztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnaSc6IHJldHVybiAnc2V0SW50MzInO1xuICAgICAgICBjYXNlICdjJzogcmV0dXJuICdzZXRJbnQ4JztcbiAgICAgICAgY2FzZSAnQyc6IHJldHVybiAnc2V0VWludDgnO1xuICAgICAgICBjYXNlICdqJzogcmV0dXJuIGFmZmlybUJpZ0ludEFycmF5KCkgJiYgJ3NldEJpZ0ludDY0JztcbiAgICAgICAgY2FzZSAnZic6IHJldHVybiAnc2V0RmxvYXQzMic7XG4gICAgICAgIGNhc2UgJ2QnOiByZXR1cm4gJ3NldEZsb2F0NjQnO1xuICAgIH1cbiAgICB0b3NzKFwiVW5oYW5kbGVkIERhdGFWaWV3IHNldHRlciBmb3Igc2lnbmF0dXJlOlwiLHMpO1xuICB9O1xuICAvKipcbiAgICAgUmV0dXJucyBlaXRoZXIgTnVtYmVyIG9mIEJpZ0ludCwgZGVwZW5kaW5nIG9uIHRoZSBnaXZlblxuICAgICBTSUcuIFRoaXMgY29uc3RydWN0b3IgaXMgdXNlZCBpbiBwcm9wZXJ0eSBzZXR0ZXJzIHRvIGNvZXJjZVxuICAgICB0aGUgYmVpbmctc2V0IHZhbHVlIHRvIHRoZSBjb3JyZWN0IHNpemUuXG4gICovXG4gIGNvbnN0IHNpZ0RWU2V0V3JhcHBlciA9IGZ1bmN0aW9uKHMpe1xuICAgIHN3aXRjaChzaWdMZXR0ZXIocykpIHtcbiAgICAgICAgY2FzZSAnaSc6IGNhc2UgJ2YnOiBjYXNlICdjJzogY2FzZSAnQyc6IGNhc2UgJ2QnOiByZXR1cm4gTnVtYmVyO1xuICAgICAgICBjYXNlICdqJzogcmV0dXJuIGFmZmlybUJpZ0ludEFycmF5KCkgJiYgQmlnSW50O1xuICAgICAgICBjYXNlICdwJzogY2FzZSAnUCc6IGNhc2UgJ3MnOlxuICAgICAgICAgIHN3aXRjaChwdHJTaXplb2Ype1xuICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBOdW1iZXI7XG4gICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIGFmZmlybUJpZ0ludEFycmF5KCkgJiYgQmlnSW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdG9zcyhcIlVuaGFuZGxlZCBEYXRhVmlldyBzZXQgd3JhcHBlciBmb3Igc2lnbmF0dXJlOlwiLHMpO1xuICB9O1xuXG4gIC8qKiBSZXR1cm5zIHRoZSBnaXZlbiBzdHJ1Y3QgYW5kIG1lbWJlciBuYW1lIGluIGEgZm9ybSBzdWl0YWJsZSBmb3JcbiAgICAgIGRlYnVnZ2luZyBhbmQgZXJyb3Igb3V0cHV0LiAqL1xuICBjb25zdCBzUHJvcE5hbWUgPSAocyxrKT0+cysnOjonK2s7XG5cbiAgY29uc3QgX19wcm9wVGhyb3dPblNldCA9IGZ1bmN0aW9uKHN0cnVjdE5hbWUscHJvcE5hbWUpe1xuICAgIHJldHVybiAoKT0+dG9zcyhzUHJvcE5hbWUoc3RydWN0TmFtZSxwcm9wTmFtZSksXCJpcyByZWFkLW9ubHkuXCIpO1xuICB9O1xuXG4gIC8qKlxuICAgICBJbiBvcmRlciB0byBjb21wbGV0ZWx5IGhpZGUgU3RydWN0QmluZGVyLWJvdW5kIHN0cnVjdFxuICAgICBwb2ludGVycyBmcm9tIEpTIGNvZGUsIHdlIHN0b3JlIHRoZW0gaW4gYSBzY29wZS1sb2NhbFxuICAgICBXZWFrTWFwIHdoaWNoIG1hcHMgdGhlIHN0cnVjdC1ib3VuZCBvYmplY3RzIHRvIHRoZWlyIFdBU01cbiAgICAgcG9pbnRlcnMuIFRoZSBwb2ludGVycyBhcmUgYWNjZXNzaWJsZSB2aWFcbiAgICAgYm91bmRPYmplY3QucG9pbnRlciwgd2hpY2ggaXMgZ2F0ZWQgYmVoaW5kIGFuIGFjY2Vzc29yXG4gICAgIGZ1bmN0aW9uLCBidXQgYXJlIG5vdCBleHBvc2VkIGFueXdoZXJlIGVsc2UgaW4gdGhlXG4gICAgIG9iamVjdC4gVGhlIG1haW4gaW50ZW50aW9uIG9mIHRoYXQgaXMgdG8gbWFrZSBpdCBpbXBvc3NpYmxlXG4gICAgIGZvciBzdGFsZSBjb3BpZXMgdG8gYmUgbWFkZS5cbiAgKi9cbiAgY29uc3QgX19pbnN0YW5jZVBvaW50ZXJNYXAgPSBuZXcgV2Vha01hcCgpO1xuXG4gIC8qKiBQcm9wZXJ0eSBuYW1lIGZvciB0aGUgcG9pbnRlci1pcy1leHRlcm5hbCBtYXJrZXIuICovXG4gIGNvbnN0IHhQdHJQcm9wTmFtZSA9ICcocG9pbnRlci1pcy1leHRlcm5hbCknO1xuXG4gIC8qKiBGcmVlcyB0aGUgb2JqLnBvaW50ZXIgbWVtb3J5IGFuZCBjbGVhcnMgdGhlIHBvaW50ZXJcbiAgICAgIHByb3BlcnR5LiAqL1xuICBjb25zdCBfX2ZyZWVTdHJ1Y3QgPSBmdW5jdGlvbihjdG9yLCBvYmosIG0pe1xuICAgIGlmKCFtKSBtID0gX19pbnN0YW5jZVBvaW50ZXJNYXAuZ2V0KG9iaik7XG4gICAgaWYobSkge1xuICAgICAgX19pbnN0YW5jZVBvaW50ZXJNYXAuZGVsZXRlKG9iaik7XG4gICAgICBpZihBcnJheS5pc0FycmF5KG9iai5vbmRpc3Bvc2UpKXtcbiAgICAgICAgbGV0IHg7XG4gICAgICAgIHdoaWxlKCh4ID0gb2JqLm9uZGlzcG9zZS5zaGlmdCgpKSl7XG4gICAgICAgICAgdHJ5e1xuICAgICAgICAgICAgaWYoeCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB4LmNhbGwob2JqKTtcbiAgICAgICAgICAgIGVsc2UgaWYoeCBpbnN0YW5jZW9mIFN0cnVjdFR5cGUpIHguZGlzcG9zZSgpO1xuICAgICAgICAgICAgZWxzZSBpZignbnVtYmVyJyA9PT0gdHlwZW9mIHgpIGRlYWxsb2MoeCk7XG4gICAgICAgICAgICAvLyBlbHNlIGlnbm9yZS4gU3RyaW5ncyBhcmUgcGVybWl0dGVkIHRvIGFubm90YXRlIGVudHJpZXNcbiAgICAgICAgICAgIC8vIHRvIGFzc2lzdCBpbiBkZWJ1Z2dpbmcuXG4gICAgICAgICAgfWNhdGNoKGUpe1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwib25kaXNwb3NlKCkgZm9yXCIsY3Rvci5zdHJ1Y3ROYW1lLCdAJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICBtLCd0aHJldy4gTk9UIHByb3BhZ2F0aW5nIGl0LicsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9ZWxzZSBpZihvYmoub25kaXNwb3NlIGluc3RhbmNlb2YgRnVuY3Rpb24pe1xuICAgICAgICB0cnl7b2JqLm9uZGlzcG9zZSgpfVxuICAgICAgICBjYXRjaChlKXtcbiAgICAgICAgICAvKmRvIG5vdCByZXRocm93OiBkZXN0cnVjdG9ycyBtdXN0IG5vdCB0aHJvdyovXG4gICAgICAgICAgY29uc29sZS53YXJuKFwib25kaXNwb3NlKCkgZm9yXCIsY3Rvci5zdHJ1Y3ROYW1lLCdAJyxcbiAgICAgICAgICAgICAgICAgICAgICAgbSwndGhyZXcuIE5PVCBwcm9wYWdhdGluZyBpdC4nLGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkZWxldGUgb2JqLm9uZGlzcG9zZTtcbiAgICAgIGlmKGN0b3IuZGVidWdGbGFncy5fX2ZsYWdzLmRlYWxsb2Mpe1xuICAgICAgICBsb2coXCJkZWJ1Zy5kZWFsbG9jOlwiLChvYmpbeFB0clByb3BOYW1lXT9cIkVYVEVSTkFMXCI6XCJcIiksXG4gICAgICAgICAgICBjdG9yLnN0cnVjdE5hbWUsXCJpbnN0YW5jZTpcIixcbiAgICAgICAgICAgIGN0b3Iuc3RydWN0SW5mby5zaXplb2YsXCJieXRlcyBAXCIrbSk7XG4gICAgICB9XG4gICAgICBpZighb2JqW3hQdHJQcm9wTmFtZV0pIGRlYWxsb2MobSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKiBSZXR1cm5zIGEgc2tlbGV0b24gZm9yIGEgcmVhZC1vbmx5IHByb3BlcnR5IGFjY2Vzc29yIHdyYXBwaW5nXG4gICAgICB2YWx1ZSB2LiAqL1xuICBjb25zdCByb3AgPSAodik9PntyZXR1cm4ge2NvbmZpZ3VyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVyYWJsZTogZmFsc2UsIHZhbHVlOiB2fX07XG5cbiAgLyoqIEFsbG9jYXRlcyBvYmoncyBtZW1vcnkgYnVmZmVyIGJhc2VkIG9uIHRoZSBzaXplIGRlZmluZWQgaW5cbiAgICAgIGN0b3Iuc3RydWN0SW5mby5zaXplb2YuICovXG4gIGNvbnN0IF9fYWxsb2NTdHJ1Y3QgPSBmdW5jdGlvbihjdG9yLCBvYmosIG0pe1xuICAgIGxldCBmaWxsID0gIW07XG4gICAgaWYobSkgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgeFB0clByb3BOYW1lLCByb3AobSkpO1xuICAgIGVsc2V7XG4gICAgICBtID0gYWxsb2MoY3Rvci5zdHJ1Y3RJbmZvLnNpemVvZik7XG4gICAgICBpZighbSkgdG9zcyhcIkFsbG9jYXRpb24gb2ZcIixjdG9yLnN0cnVjdE5hbWUsXCJzdHJ1Y3R1cmUgZmFpbGVkLlwiKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGlmKGN0b3IuZGVidWdGbGFncy5fX2ZsYWdzLmFsbG9jKXtcbiAgICAgICAgbG9nKFwiZGVidWcuYWxsb2M6XCIsKGZpbGw/XCJcIjpcIkVYVEVSTkFMXCIpLFxuICAgICAgICAgICAgY3Rvci5zdHJ1Y3ROYW1lLFwiaW5zdGFuY2U6XCIsXG4gICAgICAgICAgICBjdG9yLnN0cnVjdEluZm8uc2l6ZW9mLFwiYnl0ZXMgQFwiK20pO1xuICAgICAgfVxuICAgICAgaWYoZmlsbCkgaGVhcCgpLmZpbGwoMCwgbSwgbSArIGN0b3Iuc3RydWN0SW5mby5zaXplb2YpO1xuICAgICAgX19pbnN0YW5jZVBvaW50ZXJNYXAuc2V0KG9iaiwgbSk7XG4gICAgfWNhdGNoKGUpe1xuICAgICAgX19mcmVlU3RydWN0KGN0b3IsIG9iaiwgbSk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfTtcbiAgLyoqIEdldHMgaW5zdGFsbGVkIGFzIHRoZSBtZW1vcnlEdW1wKCkgbWV0aG9kIG9mIGFsbCBzdHJ1Y3RzLiAqL1xuICBjb25zdCBfX21lbW9yeUR1bXAgPSBmdW5jdGlvbigpe1xuICAgIGNvbnN0IHAgPSB0aGlzLnBvaW50ZXI7XG4gICAgcmV0dXJuIHBcbiAgICAgID8gbmV3IFVpbnQ4QXJyYXkoaGVhcCgpLnNsaWNlKHAsIHArdGhpcy5zdHJ1Y3RJbmZvLnNpemVvZikpXG4gICAgICA6IG51bGw7XG4gIH07XG5cbiAgY29uc3QgX19tZW1iZXJLZXkgPSAoayk9Pm1lbWJlclByZWZpeCArIGsgKyBtZW1iZXJTdWZmaXg7XG4gIGNvbnN0IF9fbWVtYmVyS2V5UHJvcCA9IHJvcChfX21lbWJlcktleSk7XG5cbiAgLyoqXG4gICAgIExvb2tzIHVwIGEgc3RydWN0IG1lbWJlciBpbiBzdHJ1Y3RJbmZvLm1lbWJlcnMuIFRocm93cyBpZiBmb3VuZFxuICAgICBpZiB0b3NzSWZOb3RGb3VuZCBpcyB0cnVlLCBlbHNlIHJldHVybnMgdW5kZWZpbmVkIGlmIG5vdFxuICAgICBmb3VuZC4gVGhlIGdpdmVuIG5hbWUgbWF5IGJlIGVpdGhlciB0aGUgbmFtZSBvZiB0aGVcbiAgICAgc3RydWN0SW5mby5tZW1iZXJzIGtleSAoZmFzdGVyKSBvciB0aGUga2V5IGFzIG1vZGlmaWVkIGJ5IHRoZVxuICAgICBtZW1iZXJQcmVmaXggYW5kIG1lbWJlclN1ZmZpeCBzZXR0aW5ncy5cbiAgKi9cbiAgY29uc3QgX19sb29rdXBNZW1iZXIgPSBmdW5jdGlvbihzdHJ1Y3RJbmZvLCBtZW1iZXJOYW1lLCB0b3NzSWZOb3RGb3VuZD10cnVlKXtcbiAgICBsZXQgbSA9IHN0cnVjdEluZm8ubWVtYmVyc1ttZW1iZXJOYW1lXTtcbiAgICBpZighbSAmJiAobWVtYmVyUHJlZml4IHx8IG1lbWJlclN1ZmZpeCkpe1xuICAgICAgLy8gQ2hlY2sgZm9yIGEgbWF0Y2ggb24gbWVtYmVyc1tYXS5rZXlcbiAgICAgIGZvcihjb25zdCB2IG9mIE9iamVjdC52YWx1ZXMoc3RydWN0SW5mby5tZW1iZXJzKSl7XG4gICAgICAgIGlmKHYua2V5PT09bWVtYmVyTmFtZSl7IG0gPSB2OyBicmVhazsgfVxuICAgICAgfVxuICAgICAgaWYoIW0gJiYgdG9zc0lmTm90Rm91bmQpe1xuICAgICAgICB0b3NzKHNQcm9wTmFtZShzdHJ1Y3RJbmZvLm5hbWUsbWVtYmVyTmFtZSksJ2lzIG5vdCBhIG1hcHBlZCBzdHJ1Y3QgbWVtYmVyLicpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbTtcbiAgfTtcblxuICAvKipcbiAgICAgVXNlcyBfX2xvb2t1cE1lbWJlcihvYmouc3RydWN0SW5mbyxtZW1iZXJOYW1lKSB0byBmaW5kIGEgbWVtYmVyLFxuICAgICB0aHJvd2luZyBpZiBub3QgZm91bmQuIFJldHVybnMgaXRzIHNpZ25hdHVyZSwgZWl0aGVyIGluIHRoaXNcbiAgICAgZnJhbWV3b3JrJ3MgbmF0aXZlIGZvcm1hdCBvciBpbiBFbXNjcmlwdGVuIGZvcm1hdC5cbiAgKi9cbiAgY29uc3QgX19tZW1iZXJTaWduYXR1cmUgPSBmdW5jdGlvbiBmKG9iaixtZW1iZXJOYW1lLGVtc2NyaXB0ZW5Gb3JtYXQ9ZmFsc2Upe1xuICAgIGlmKCFmLl8pIGYuXyA9ICh4KT0+eC5yZXBsYWNlKC9bXnZpcFBzanJkY0NdL2csXCJcIikucmVwbGFjZSgvW3BQc2NDXS9nLCdpJyk7XG4gICAgY29uc3QgbSA9IF9fbG9va3VwTWVtYmVyKG9iai5zdHJ1Y3RJbmZvLCBtZW1iZXJOYW1lLCB0cnVlKTtcbiAgICByZXR1cm4gZW1zY3JpcHRlbkZvcm1hdCA/IGYuXyhtLnNpZ25hdHVyZSkgOiBtLnNpZ25hdHVyZTtcbiAgfTtcblxuICBjb25zdCBfX3B0clByb3BEZXNjcmlwdG9yID0ge1xuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGdldDogZnVuY3Rpb24oKXtyZXR1cm4gX19pbnN0YW5jZVBvaW50ZXJNYXAuZ2V0KHRoaXMpfSxcbiAgICBzZXQ6ICgpPT50b3NzKFwiQ2Fubm90IGFzc2lnbiB0aGUgJ3BvaW50ZXInIHByb3BlcnR5IG9mIGEgc3RydWN0LlwiKVxuICAgIC8vIFJlbWluZGVyOiBsZWF2aW5nIGBzZXRgIHVuZGVmaW5lZCBtYWtlcyBhc3NpZ25tZW50c1xuICAgIC8vIHRvIHRoZSBwcm9wZXJ0eSBfc2lsZW50bHlfIGRvIG5vdGhpbmcuIEN1cnJlbnQgdW5pdCB0ZXN0c1xuICAgIC8vIHJlbHkgb24gaXQgdGhyb3dpbmcsIHRob3VnaC5cbiAgfTtcblxuICAvKiogSW1wbCBvZiBYLm1lbWJlcktleXMoKSBmb3IgU3RydWN0VHlwZSBhbmQgc3RydWN0IGN0b3JzLiAqL1xuICBjb25zdCBfX3N0cnVjdE1lbWJlcktleXMgPSByb3AoZnVuY3Rpb24oKXtcbiAgICBjb25zdCBhID0gW107XG4gICAgZm9yKGNvbnN0IGsgb2YgT2JqZWN0LmtleXModGhpcy5zdHJ1Y3RJbmZvLm1lbWJlcnMpKXtcbiAgICAgIGEucHVzaCh0aGlzLm1lbWJlcktleShrKSk7XG4gICAgfVxuICAgIHJldHVybiBhO1xuICB9KTtcblxuICBjb25zdCBfX3V0ZjhEZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGYtOCcpO1xuICBjb25zdCBfX3V0ZjhFbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gIC8qKiBJbnRlcm5hbCBoZWxwZXIgdG8gdXNlIGluIG9wZXJhdGlvbnMgd2hpY2ggbmVlZCB0byBkaXN0aW5ndWlzaFxuICAgICAgYmV0d2VlbiBTaGFyZWRBcnJheUJ1ZmZlciBoZWFwIG1lbW9yeSBhbmQgbm9uLXNoYXJlZCBoZWFwLiAqL1xuICBjb25zdCBfX1NBQiA9ICgndW5kZWZpbmVkJz09PXR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcilcbiAgICAgICAgPyBmdW5jdGlvbigpe30gOiBTaGFyZWRBcnJheUJ1ZmZlcjtcbiAgY29uc3QgX191dGY4RGVjb2RlID0gZnVuY3Rpb24oYXJyYXlCdWZmZXIsIGJlZ2luLCBlbmQpe1xuICAgIHJldHVybiBfX3V0ZjhEZWNvZGVyLmRlY29kZShcbiAgICAgIChhcnJheUJ1ZmZlci5idWZmZXIgaW5zdGFuY2VvZiBfX1NBQilcbiAgICAgICAgPyBhcnJheUJ1ZmZlci5zbGljZShiZWdpbiwgZW5kKVxuICAgICAgICA6IGFycmF5QnVmZmVyLnN1YmFycmF5KGJlZ2luLCBlbmQpXG4gICAgKTtcbiAgfTtcbiAgLyoqXG4gICAgIFVzZXMgX19sb29rdXBNZW1iZXIoKSB0byBmaW5kIHRoZSBnaXZlbiBvYmouc3RydWN0SW5mbyBrZXkuXG4gICAgIFJldHVybnMgdGhhdCBtZW1iZXIgaWYgaXQgaXMgYSBzdHJpbmcsIGVsc2UgcmV0dXJucyBmYWxzZS4gSWYgdGhlXG4gICAgIG1lbWJlciBpcyBub3QgZm91bmQsIHRocm93cyBpZiB0b3NzSWZOb3RGb3VuZCBpcyB0cnVlLCBlbHNlXG4gICAgIHJldHVybnMgZmFsc2UuXG4gICAqL1xuICBjb25zdCBfX21lbWJlcklzU3RyaW5nID0gZnVuY3Rpb24ob2JqLG1lbWJlck5hbWUsIHRvc3NJZk5vdEZvdW5kPWZhbHNlKXtcbiAgICBjb25zdCBtID0gX19sb29rdXBNZW1iZXIob2JqLnN0cnVjdEluZm8sIG1lbWJlck5hbWUsIHRvc3NJZk5vdEZvdW5kKTtcbiAgICByZXR1cm4gKG0gJiYgMT09PW0uc2lnbmF0dXJlLmxlbmd0aCAmJiAncyc9PT1tLnNpZ25hdHVyZVswXSkgPyBtIDogZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAgIEdpdmVuIGEgbWVtYmVyIGRlc2NyaXB0aW9uIG9iamVjdCwgdGhyb3dzIGlmIG1lbWJlci5zaWduYXR1cmUgaXNcbiAgICAgbm90IHZhbGlkIGZvciBhc3NpZ25pbmcgdG8gb3IgaW50ZXJwcmV0YXRpb24gYXMgYSBDLXN0eWxlIHN0cmluZy5cbiAgICAgSXQgb3B0aW1pc3RpY2FsbHkgYXNzdW1lcyB0aGF0IGFueSBzaWduYXR1cmUgb2YgKGkscCxzKSBpc1xuICAgICBDLXN0cmluZyBjb21wYXRpYmxlLlxuICAqL1xuICBjb25zdCBfX2FmZmlybUNTdHJpbmdTaWduYXR1cmUgPSBmdW5jdGlvbihtZW1iZXIpe1xuICAgIGlmKCdzJz09PW1lbWJlci5zaWduYXR1cmUpIHJldHVybjtcbiAgICB0b3NzKFwiSW52YWxpZCBtZW1iZXIgdHlwZSBzaWduYXR1cmUgZm9yIEMtc3RyaW5nIHZhbHVlOlwiLFxuICAgICAgICAgSlNPTi5zdHJpbmdpZnkobWVtYmVyKSk7XG4gIH07XG5cbiAgLyoqXG4gICAgIExvb2tzIHVwIHRoZSBnaXZlbiBtZW1iZXIgaW4gb2JqLnN0cnVjdEluZm8uIElmIGl0IGhhcyBhXG4gICAgIHNpZ25hdHVyZSBvZiAncycgdGhlbiBpdCBpcyBhc3N1bWVkIHRvIGJlIGEgQy1zdHlsZSBVVEYtOCBzdHJpbmdcbiAgICAgYW5kIGEgZGVjb2RlZCBjb3B5IG9mIHRoZSBzdHJpbmcgYXQgaXRzIGFkZHJlc3MgaXMgcmV0dXJuZWQuIElmXG4gICAgIHRoZSBzaWduYXR1cmUgaXMgb2YgYW55IG90aGVyIHR5cGUsIGl0IHRocm93cy4gSWYgYW4gcy10eXBlXG4gICAgIG1lbWJlcidzIGFkZHJlc3MgaXMgMCwgYG51bGxgIGlzIHJldHVybmVkLlxuICAqL1xuICBjb25zdCBfX21lbWJlclRvSnNTdHJpbmcgPSBmdW5jdGlvbiBmKG9iaixtZW1iZXJOYW1lKXtcbiAgICBjb25zdCBtID0gX19sb29rdXBNZW1iZXIob2JqLnN0cnVjdEluZm8sIG1lbWJlck5hbWUsIHRydWUpO1xuICAgIF9fYWZmaXJtQ1N0cmluZ1NpZ25hdHVyZShtKTtcbiAgICBjb25zdCBhZGRyID0gb2JqW20ua2V5XTtcbiAgICAvL2xvZyhcImFkZHIgPVwiLGFkZHIsbWVtYmVyTmFtZSxcIm0gPVwiLG0pO1xuICAgIGlmKCFhZGRyKSByZXR1cm4gbnVsbDtcbiAgICBsZXQgcG9zID0gYWRkcjtcbiAgICBjb25zdCBtZW0gPSBoZWFwKCk7XG4gICAgZm9yKCA7IG1lbVtwb3NdIT09MDsgKytwb3MgKSB7XG4gICAgICAvL2xvZyhcIm1lbVtcIixwb3MsXCJdXCIsbWVtW3Bvc10pO1xuICAgIH07XG4gICAgLy9sb2coXCJhZGRyID1cIixhZGRyLFwicG9zID1cIixwb3MpO1xuICAgIHJldHVybiAoYWRkcj09PXBvcykgPyBcIlwiIDogX191dGY4RGVjb2RlKG1lbSwgYWRkciwgcG9zKTtcbiAgfTtcblxuICAvKipcbiAgICAgQWRkcyB2YWx1ZSB2IHRvIG9iai5vbmRpc3Bvc2UsIGNyZWF0aW5nIG9uZGlzcG9zZSxcbiAgICAgb3IgY29udmVydGluZyBpdCB0byBhbiBhcnJheSwgaWYgbmVlZGVkLlxuICAqL1xuICBjb25zdCBfX2FkZE9uRGlzcG9zZSA9IGZ1bmN0aW9uKG9iaiwgLi4udil7XG4gICAgaWYob2JqLm9uZGlzcG9zZSl7XG4gICAgICBpZighQXJyYXkuaXNBcnJheShvYmoub25kaXNwb3NlKSl7XG4gICAgICAgIG9iai5vbmRpc3Bvc2UgPSBbb2JqLm9uZGlzcG9zZV07XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICBvYmoub25kaXNwb3NlID0gW107XG4gICAgfVxuICAgIG9iai5vbmRpc3Bvc2UucHVzaCguLi52KTtcbiAgfTtcblxuICAvKipcbiAgICAgQWxsb2NhdGVzIGEgbmV3IFVURi04LWVuY29kZWQsIE5VTC10ZXJtaW5hdGVkIGNvcHkgb2YgdGhlIGdpdmVuXG4gICAgIEpTIHN0cmluZyBhbmQgcmV0dXJucyBpdHMgYWRkcmVzcyByZWxhdGl2ZSB0byBoZWFwKCkuIElmXG4gICAgIGFsbG9jYXRpb24gcmV0dXJucyAwIHRoaXMgZnVuY3Rpb24gdGhyb3dzLiBPd25lcnNoaXAgb2YgdGhlXG4gICAgIG1lbW9yeSBpcyB0cmFuc2ZlcmVkIHRvIHRoZSBjYWxsZXIsIHdobyBtdXN0IGV2ZW50dWFsbHkgcGFzcyBpdFxuICAgICB0byB0aGUgY29uZmlndXJlZCBkZWFsbG9jKCkgZnVuY3Rpb24uXG4gICovXG4gIGNvbnN0IF9fYWxsb2NDU3RyaW5nID0gZnVuY3Rpb24oc3RyKXtcbiAgICBjb25zdCB1ID0gX191dGY4RW5jb2Rlci5lbmNvZGUoc3RyKTtcbiAgICBjb25zdCBtZW0gPSBhbGxvYyh1Lmxlbmd0aCsxKTtcbiAgICBpZighbWVtKSB0b3NzKFwiQWxsb2NhdGlvbiBlcnJvciB3aGlsZSBkdXBsaWNhdGluZyBzdHJpbmc6XCIsc3RyKTtcbiAgICBjb25zdCBoID0gaGVhcCgpO1xuICAgIC8vbGV0IGkgPSAwO1xuICAgIC8vZm9yKCA7IGkgPCB1Lmxlbmd0aDsgKytpICkgaFttZW0gKyBpXSA9IHVbaV07XG4gICAgaC5zZXQodSwgbWVtKTtcbiAgICBoW21lbSArIHUubGVuZ3RoXSA9IDA7XG4gICAgLy9sb2coXCJhbGxvY0NTdHJpbmcgQFwiLG1lbSxcIiA9XCIsdSk7XG4gICAgcmV0dXJuIG1lbTtcbiAgfTtcblxuICAvKipcbiAgICAgU2V0cyB0aGUgZ2l2ZW4gc3RydWN0IG1lbWJlciBvZiBvYmogdG8gYSBkeW5hbWljYWxseS1hbGxvY2F0ZWQsXG4gICAgIFVURi04LWVuY29kZWQsIE5VTC10ZXJtaW5hdGVkIGNvcHkgb2Ygc3RyLiBJdCBpcyB1cCB0byB0aGUgY2FsbGVyXG4gICAgIHRvIGZyZWUgYW55IHByaW9yIG1lbW9yeSwgaWYgYXBwcm9wcmlhdGUuIFRoZSBuZXdseS1hbGxvY2F0ZWRcbiAgICAgc3RyaW5nIGlzIGFkZGVkIHRvIG9iai5vbmRpc3Bvc2Ugc28gd2lsbCBiZSBmcmVlZCB3aGVuIHRoZSBvYmplY3RcbiAgICAgaXMgZGlzcG9zZWQuXG5cbiAgICAgVGhlIGdpdmVuIG5hbWUgbWF5IGJlIGVpdGhlciB0aGUgbmFtZSBvZiB0aGUgc3RydWN0SW5mby5tZW1iZXJzXG4gICAgIGtleSAoZmFzdGVyKSBvciB0aGUga2V5IGFzIG1vZGlmaWVkIGJ5IHRoZSBtZW1iZXJQcmVmaXggYW5kXG4gICAgIG1lbWJlclN1ZmZpeCBzZXR0aW5ncy5cbiAgKi9cbiAgY29uc3QgX19zZXRNZW1iZXJDU3RyaW5nID0gZnVuY3Rpb24ob2JqLCBtZW1iZXJOYW1lLCBzdHIpe1xuICAgIGNvbnN0IG0gPSBfX2xvb2t1cE1lbWJlcihvYmouc3RydWN0SW5mbywgbWVtYmVyTmFtZSwgdHJ1ZSk7XG4gICAgX19hZmZpcm1DU3RyaW5nU2lnbmF0dXJlKG0pO1xuICAgIC8qIFBvdGVudGlhbCBUT0RPOiBpZiBvYmoub25kaXNwb3NlIGNvbnRhaW5zIG9ialttLmtleV0gdGhlblxuICAgICAgIGRlYWxsb2MgdGhhdCB2YWx1ZSBhbmQgY2xlYXIgdGhhdCBvbmRpc3Bvc2UgZW50cnkgKi9cbiAgICBjb25zdCBtZW0gPSBfX2FsbG9jQ1N0cmluZyhzdHIpO1xuICAgIG9ialttLmtleV0gPSBtZW07XG4gICAgX19hZGRPbkRpc3Bvc2Uob2JqLCBtZW0pO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLyoqXG4gICAgIFByb3RvdHlwZSBmb3IgYWxsIFN0cnVjdEZhY3RvcnkgaW5zdGFuY2VzICh0aGUgY29uc3RydWN0b3JzXG4gICAgIHJldHVybmVkIGZyb20gU3RydWN0QmluZGVyKS5cbiAgKi9cbiAgY29uc3QgU3RydWN0VHlwZSA9IGZ1bmN0aW9uIGN0b3Ioc3RydWN0TmFtZSwgc3RydWN0SW5mbyl7XG4gICAgaWYoYXJndW1lbnRzWzJdIT09cm9wKXtcbiAgICAgIHRvc3MoXCJEbyBub3QgY2FsbCB0aGUgU3RydWN0VHlwZSBjb25zdHJ1Y3RvclwiLFxuICAgICAgICAgICBcImZyb20gY2xpZW50LWxldmVsIGNvZGUuXCIpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtcbiAgICAgIC8vaXNBOiByb3AoKHYpPT52IGluc3RhbmNlb2YgY3RvciksXG4gICAgICBzdHJ1Y3ROYW1lOiByb3Aoc3RydWN0TmFtZSksXG4gICAgICBzdHJ1Y3RJbmZvOiByb3Aoc3RydWN0SW5mbylcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICAgUHJvcGVydGllcyBpbmhlcml0ZWQgYnkgc3RydWN0LXR5cGUtc3BlY2lmaWMgU3RydWN0VHlwZSBpbnN0YW5jZXNcbiAgICAgYW5kIChpbmRpcmVjdGx5KSBjb25jcmV0ZSBzdHJ1Y3QtdHlwZSBpbnN0YW5jZXMuXG4gICovXG4gIFN0cnVjdFR5cGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsLCB7XG4gICAgZGlzcG9zZTogcm9wKGZ1bmN0aW9uKCl7X19mcmVlU3RydWN0KHRoaXMuY29uc3RydWN0b3IsIHRoaXMpfSksXG4gICAgbG9va3VwTWVtYmVyOiByb3AoZnVuY3Rpb24obWVtYmVyTmFtZSwgdG9zc0lmTm90Rm91bmQ9dHJ1ZSl7XG4gICAgICByZXR1cm4gX19sb29rdXBNZW1iZXIodGhpcy5zdHJ1Y3RJbmZvLCBtZW1iZXJOYW1lLCB0b3NzSWZOb3RGb3VuZCk7XG4gICAgfSksXG4gICAgbWVtYmVyVG9Kc1N0cmluZzogcm9wKGZ1bmN0aW9uKG1lbWJlck5hbWUpe1xuICAgICAgcmV0dXJuIF9fbWVtYmVyVG9Kc1N0cmluZyh0aGlzLCBtZW1iZXJOYW1lKTtcbiAgICB9KSxcbiAgICBtZW1iZXJJc1N0cmluZzogcm9wKGZ1bmN0aW9uKG1lbWJlck5hbWUsIHRvc3NJZk5vdEZvdW5kPXRydWUpe1xuICAgICAgcmV0dXJuIF9fbWVtYmVySXNTdHJpbmcodGhpcywgbWVtYmVyTmFtZSwgdG9zc0lmTm90Rm91bmQpO1xuICAgIH0pLFxuICAgIG1lbWJlcktleTogX19tZW1iZXJLZXlQcm9wLFxuICAgIG1lbWJlcktleXM6IF9fc3RydWN0TWVtYmVyS2V5cyxcbiAgICBtZW1iZXJTaWduYXR1cmU6IHJvcChmdW5jdGlvbihtZW1iZXJOYW1lLCBlbXNjcmlwdGVuRm9ybWF0PWZhbHNlKXtcbiAgICAgIHJldHVybiBfX21lbWJlclNpZ25hdHVyZSh0aGlzLCBtZW1iZXJOYW1lLCBlbXNjcmlwdGVuRm9ybWF0KTtcbiAgICB9KSxcbiAgICBtZW1vcnlEdW1wOiByb3AoX19tZW1vcnlEdW1wKSxcbiAgICBwb2ludGVyOiBfX3B0clByb3BEZXNjcmlwdG9yLFxuICAgIHNldE1lbWJlckNTdHJpbmc6IHJvcChmdW5jdGlvbihtZW1iZXJOYW1lLCBzdHIpe1xuICAgICAgcmV0dXJuIF9fc2V0TWVtYmVyQ1N0cmluZyh0aGlzLCBtZW1iZXJOYW1lLCBzdHIpO1xuICAgIH0pXG4gIH0pO1xuICAvLyBGdW5jdGlvbi10eXBlIG5vbi1Qcm9wZXJ0eSBpbmhlcml0ZWQgbWVtYmVycyBcbiAgT2JqZWN0LmFzc2lnbihTdHJ1Y3RUeXBlLnByb3RvdHlwZSx7XG4gICAgYWRkT25EaXNwb3NlOiBmdW5jdGlvbiguLi52KXtcbiAgICAgIF9fYWRkT25EaXNwb3NlKHRoaXMsLi4udik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgICBcIlN0YXRpY1wiIHByb3BlcnRpZXMgZm9yIFN0cnVjdFR5cGUuXG4gICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFN0cnVjdFR5cGUsIHtcbiAgICBhbGxvY0NTdHJpbmc6IHJvcChfX2FsbG9jQ1N0cmluZyksXG4gICAgaXNBOiByb3AoKHYpPT52IGluc3RhbmNlb2YgU3RydWN0VHlwZSksXG4gICAgaGFzRXh0ZXJuYWxQb2ludGVyOiByb3AoKHYpPT4odiBpbnN0YW5jZW9mIFN0cnVjdFR5cGUpICYmICEhdlt4UHRyUHJvcE5hbWVdKSxcbiAgICBtZW1iZXJLZXk6IF9fbWVtYmVyS2V5UHJvcFxuICB9KTtcblxuICBjb25zdCBpc051bWVyaWNWYWx1ZSA9ICh2KT0+TnVtYmVyLmlzRmluaXRlKHYpIHx8ICh2IGluc3RhbmNlb2YgKEJpZ0ludCB8fCBOdW1iZXIpKTtcblxuICAvKipcbiAgICAgUGFzcyB0aGlzIGEgU3RydWN0QmluZGVyLWdlbmVyYXRlZCBwcm90b3R5cGUsIGFuZCB0aGUgc3RydWN0XG4gICAgIG1lbWJlciBkZXNjcmlwdGlvbiBvYmplY3QuIEl0IHdpbGwgZGVmaW5lIHByb3BlcnR5IGFjY2Vzc29ycyBmb3JcbiAgICAgcHJvdG9bbWVtYmVyS2V5XSB3aGljaCByZWFkIGZyb20vd3JpdGUgdG8gbWVtb3J5IGluXG4gICAgIHRoaXMucG9pbnRlci4gSXQgbW9kaWZpZXMgZGVzY3IgdG8gbWFrZSBjZXJ0YWluIGRvd25zdHJlYW1cbiAgICAgb3BlcmF0aW9ucyBtdWNoIHNpbXBsZXIuXG4gICovXG4gIGNvbnN0IG1ha2VNZW1iZXJXcmFwcGVyID0gZnVuY3Rpb24gZihjdG9yLG5hbWUsIGRlc2NyKXtcbiAgICBpZighZi5fKXtcbiAgICAgIC8qY2FjaGUgYWxsIGF2YWlsYWJsZSBnZXR0ZXJzL3NldHRlcnMvc2V0LXdyYXBwZXJzIGZvclxuICAgICAgICBkaXJlY3QgcmV1c2UgaW4gZWFjaCBhY2Nlc3NvciBmdW5jdGlvbi4gKi9cbiAgICAgIGYuXyA9IHtnZXR0ZXJzOiB7fSwgc2V0dGVyczoge30sIHN3Ont9fTtcbiAgICAgIGNvbnN0IGEgPSBbJ2knLCdjJywnQycsJ3AnLCdQJywncycsJ2YnLCdkJywndigpJ107XG4gICAgICBpZihiaWdJbnRFbmFibGVkKSBhLnB1c2goJ2onKTtcbiAgICAgIGEuZm9yRWFjaChmdW5jdGlvbih2KXtcbiAgICAgICAgLy9jb25zdCBpciA9IHNpZ0lSKHYpO1xuICAgICAgICBmLl8uZ2V0dGVyc1t2XSA9IHNpZ0RWR2V0dGVyKHYpIC8qIERhdGFWaWV3W01ldGhvZE5hbWVdIHZhbHVlcyBmb3IgR0VUVEVSUyAqLztcbiAgICAgICAgZi5fLnNldHRlcnNbdl0gPSBzaWdEVlNldHRlcih2KSAvKiBEYXRhVmlld1tNZXRob2ROYW1lXSB2YWx1ZXMgZm9yIFNFVFRFUlMgKi87XG4gICAgICAgIGYuXy5zd1t2XSA9IHNpZ0RWU2V0V3JhcHBlcih2KSAgLyogQmlnSW50IG9yIE51bWJlciBjdG9yIHRvIHdyYXAgYXJvdW5kIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBjb252ZXJzaW9uICovO1xuICAgICAgfSk7XG4gICAgICBjb25zdCByeFNpZzEgPSAvXltpcFBzamZkY0NdJC8sXG4gICAgICAgICAgICByeFNpZzIgPSAvXlt2aXBQc2pmZGNDXVxcKFtpcFBzamZkY0NdKlxcKSQvO1xuICAgICAgZi5zaWdDaGVjayA9IGZ1bmN0aW9uKG9iaiwgbmFtZSwga2V5LHNpZyl7XG4gICAgICAgIGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpe1xuICAgICAgICAgIHRvc3Mob2JqLnN0cnVjdE5hbWUsJ2FscmVhZHkgaGFzIGEgcHJvcGVydHkgbmFtZWQnLGtleSsnLicpO1xuICAgICAgICB9XG4gICAgICAgIHJ4U2lnMS50ZXN0KHNpZykgfHwgcnhTaWcyLnRlc3Qoc2lnKVxuICAgICAgICAgIHx8IHRvc3MoXCJNYWxmb3JtZWQgc2lnbmF0dXJlIGZvclwiLFxuICAgICAgICAgICAgICAgICAgc1Byb3BOYW1lKG9iai5zdHJ1Y3ROYW1lLG5hbWUpK1wiOlwiLHNpZyk7XG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSBjdG9yLm1lbWJlcktleShuYW1lKTtcbiAgICBmLnNpZ0NoZWNrKGN0b3IucHJvdG90eXBlLCBuYW1lLCBrZXksIGRlc2NyLnNpZ25hdHVyZSk7XG4gICAgZGVzY3Iua2V5ID0ga2V5O1xuICAgIGRlc2NyLm5hbWUgPSBuYW1lO1xuICAgIGNvbnN0IHNpZ0dseXBoID0gc2lnTGV0dGVyKGRlc2NyLnNpZ25hdHVyZSk7XG4gICAgY29uc3QgeFByb3BOYW1lID0gc1Byb3BOYW1lKGN0b3IucHJvdG90eXBlLnN0cnVjdE5hbWUsa2V5KTtcbiAgICBjb25zdCBkYmcgPSBjdG9yLnByb3RvdHlwZS5kZWJ1Z0ZsYWdzLl9fZmxhZ3M7XG4gICAgLypcbiAgICAgIFRPRE8/OiBzZXQgcHJvdG90eXBlIG9mIGRlc2NyIHRvIGFuIG9iamVjdCB3aGljaCBjYW4gc2V0L2ZldGNoXG4gICAgICBpdHMgcHJlZmVyZWQgcmVwcmVzZW50YXRpb24sIGUuZy4gY29udmVyc2lvbiB0byBzdHJpbmcgb3IgbWFwcGVkXG4gICAgICBmdW5jdGlvbi4gQWR2YW50YWdlOiB3ZSBjYW4gYXZvaWQgZG9pbmcgdGhhdCB2aWEgaWYvZWxzZSBpZi9lbHNlXG4gICAgICBpbiB0aGUgZ2V0L3NldCBtZXRob2RzLlxuICAgICovXG4gICAgY29uc3QgcHJvcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgcHJvcC5jb25maWd1cmFibGUgPSBmYWxzZTtcbiAgICBwcm9wLmVudW1lcmFibGUgPSBmYWxzZTtcbiAgICBwcm9wLmdldCA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZihkYmcuZ2V0dGVyKXtcbiAgICAgICAgbG9nKFwiZGVidWcuZ2V0dGVyOlwiLGYuXy5nZXR0ZXJzW3NpZ0dseXBoXSxcImZvclwiLCBzaWdJUihzaWdHbHlwaCksXG4gICAgICAgICAgICB4UHJvcE5hbWUsJ0AnLCB0aGlzLnBvaW50ZXIsJysnLGRlc2NyLm9mZnNldCwnc3onLGRlc2NyLnNpemVvZik7XG4gICAgICB9XG4gICAgICBsZXQgcmMgPSAoXG4gICAgICAgIG5ldyBEYXRhVmlldyhoZWFwKCkuYnVmZmVyLCB0aGlzLnBvaW50ZXIgKyBkZXNjci5vZmZzZXQsIGRlc2NyLnNpemVvZilcbiAgICAgIClbZi5fLmdldHRlcnNbc2lnR2x5cGhdXSgwLCBpc0xpdHRsZUVuZGlhbik7XG4gICAgICBpZihkYmcuZ2V0dGVyKSBsb2coXCJkZWJ1Zy5nZXR0ZXI6XCIseFByb3BOYW1lLFwicmVzdWx0ID1cIixyYyk7XG4gICAgICByZXR1cm4gcmM7XG4gICAgfTtcbiAgICBpZihkZXNjci5yZWFkT25seSl7XG4gICAgICBwcm9wLnNldCA9IF9fcHJvcFRocm93T25TZXQoY3Rvci5wcm90b3R5cGUuc3RydWN0TmFtZSxrZXkpO1xuICAgIH1lbHNle1xuICAgICAgcHJvcC5zZXQgPSBmdW5jdGlvbih2KXtcbiAgICAgICAgaWYoZGJnLnNldHRlcil7XG4gICAgICAgICAgbG9nKFwiZGVidWcuc2V0dGVyOlwiLGYuXy5zZXR0ZXJzW3NpZ0dseXBoXSxcImZvclwiLCBzaWdJUihzaWdHbHlwaCksXG4gICAgICAgICAgICAgIHhQcm9wTmFtZSwnQCcsIHRoaXMucG9pbnRlciwnKycsZGVzY3Iub2Zmc2V0LCdzeicsZGVzY3Iuc2l6ZW9mLCB2KTtcbiAgICAgICAgfVxuICAgICAgICBpZighdGhpcy5wb2ludGVyKXtcbiAgICAgICAgICB0b3NzKFwiQ2Fubm90IHNldCBzdHJ1Y3QgcHJvcGVydHkgb24gZGlzcG9zZWQgaW5zdGFuY2UuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmKG51bGw9PT12KSB2ID0gMDtcbiAgICAgICAgZWxzZSB3aGlsZSghaXNOdW1lcmljVmFsdWUodikpe1xuICAgICAgICAgIGlmKGlzQXV0b1B0clNpZyhkZXNjci5zaWduYXR1cmUpICYmICh2IGluc3RhbmNlb2YgU3RydWN0VHlwZSkpe1xuICAgICAgICAgICAgLy8gSXQncyBhIHN0cnVjdCBpbnN0YW5jZTogbGV0J3Mgc3RvcmUgaXRzIHBvaW50ZXIgdmFsdWUhXG4gICAgICAgICAgICB2ID0gdi5wb2ludGVyIHx8IDA7XG4gICAgICAgICAgICBpZihkYmcuc2V0dGVyKSBsb2coXCJkZWJ1Zy5zZXR0ZXI6XCIseFByb3BOYW1lLFwicmVzb2x2ZWQgdG9cIix2KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b3NzKFwiSW52YWxpZCB2YWx1ZSBmb3IgcG9pbnRlci10eXBlXCIseFByb3BOYW1lKycuJyk7XG4gICAgICAgIH1cbiAgICAgICAgKFxuICAgICAgICAgIG5ldyBEYXRhVmlldyhoZWFwKCkuYnVmZmVyLCB0aGlzLnBvaW50ZXIgKyBkZXNjci5vZmZzZXQsIGRlc2NyLnNpemVvZilcbiAgICAgICAgKVtmLl8uc2V0dGVyc1tzaWdHbHlwaF1dKDAsIGYuXy5zd1tzaWdHbHlwaF0odiksIGlzTGl0dGxlRW5kaWFuKTtcbiAgICAgIH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdG9yLnByb3RvdHlwZSwga2V5LCBwcm9wKTtcbiAgfS8qbWFrZU1lbWJlcldyYXBwZXIqLztcbiAgXG4gIC8qKlxuICAgICBUaGUgbWFpbiBmYWN0b3J5IGZ1bmN0aW9uIHdoaWNoIHdpbGwgYmUgcmV0dXJuZWQgdG8gdGhlXG4gICAgIGNhbGxlci5cbiAgKi9cbiAgY29uc3QgU3RydWN0QmluZGVyID0gZnVuY3Rpb24gU3RydWN0QmluZGVyKHN0cnVjdE5hbWUsIHN0cnVjdEluZm8pe1xuICAgIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtcbiAgICAgIHN0cnVjdEluZm8gPSBzdHJ1Y3ROYW1lO1xuICAgICAgc3RydWN0TmFtZSA9IHN0cnVjdEluZm8ubmFtZTtcbiAgICB9ZWxzZSBpZighc3RydWN0SW5mby5uYW1lKXtcbiAgICAgIHN0cnVjdEluZm8ubmFtZSA9IHN0cnVjdE5hbWU7XG4gICAgfVxuICAgIGlmKCFzdHJ1Y3ROYW1lKSB0b3NzKFwiU3RydWN0IG5hbWUgaXMgcmVxdWlyZWQuXCIpO1xuICAgIGxldCBsYXN0TWVtYmVyID0gZmFsc2U7XG4gICAgT2JqZWN0LmtleXMoc3RydWN0SW5mby5tZW1iZXJzKS5mb3JFYWNoKChrKT0+e1xuICAgICAgLy8gU2FuaXR5IGNoZWNrcyBvZiBzaXplb2Yvb2Zmc2V0IGluZm8uLi5cbiAgICAgIGNvbnN0IG0gPSBzdHJ1Y3RJbmZvLm1lbWJlcnNba107XG4gICAgICBpZighbS5zaXplb2YpIHRvc3Moc3RydWN0TmFtZSxcIm1lbWJlclwiLGssXCJpcyBtaXNzaW5nIHNpemVvZi5cIik7XG4gICAgICBlbHNlIGlmKG0uc2l6ZW9mPT09MSl7XG4gICAgICAgIChtLnNpZ25hdHVyZSA9PT0gJ2MnIHx8IG0uc2lnbmF0dXJlID09PSAnQycpIHx8XG4gICAgICAgICAgdG9zcyhcIlVuZXhwZWN0ZWQgc2l6ZW9mPT0xIG1lbWJlclwiLFxuICAgICAgICAgICAgICAgc1Byb3BOYW1lKHN0cnVjdEluZm8ubmFtZSxrKSxcbiAgICAgICAgICAgICAgIFwid2l0aCBzaWduYXR1cmVcIixtLnNpZ25hdHVyZSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy8gc2l6ZXMgYW5kIG9mZnNldHMgb2Ygc2l6ZS0xIG1lbWJlcnMgbWF5IGJlIG9kZCB2YWx1ZXMsIGJ1dFxuICAgICAgICAvLyBvdGhlcnMgbWF5IG5vdC5cbiAgICAgICAgaWYoMCE9PShtLnNpemVvZiU0KSl7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBzdHJ1Y3QgbWVtYmVyIGRlc2NyaXB0aW9uID1cIixtLFwiZnJvbVwiLHN0cnVjdEluZm8pO1xuICAgICAgICAgIHRvc3Moc3RydWN0TmFtZSxcIm1lbWJlclwiLGssXCJzaXplb2YgaXMgbm90IGFsaWduZWQuIHNpemVvZj1cIittLnNpemVvZik7XG4gICAgICAgIH1cbiAgICAgICAgaWYoMCE9PShtLm9mZnNldCU0KSl7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBzdHJ1Y3QgbWVtYmVyIGRlc2NyaXB0aW9uID1cIixtLFwiZnJvbVwiLHN0cnVjdEluZm8pO1xuICAgICAgICAgIHRvc3Moc3RydWN0TmFtZSxcIm1lbWJlclwiLGssXCJvZmZzZXQgaXMgbm90IGFsaWduZWQuIG9mZnNldD1cIittLm9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmKCFsYXN0TWVtYmVyIHx8IGxhc3RNZW1iZXIub2Zmc2V0IDwgbS5vZmZzZXQpIGxhc3RNZW1iZXIgPSBtO1xuICAgIH0pO1xuICAgIGlmKCFsYXN0TWVtYmVyKSB0b3NzKFwiTm8gbWVtYmVyIHByb3BlcnR5IGRlc2NyaXB0aW9ucyBmb3VuZC5cIik7XG4gICAgZWxzZSBpZihzdHJ1Y3RJbmZvLnNpemVvZiA8IGxhc3RNZW1iZXIub2Zmc2V0K2xhc3RNZW1iZXIuc2l6ZW9mKXtcbiAgICAgIHRvc3MoXCJJbnZhbGlkIHN0cnVjdCBjb25maWc6XCIsc3RydWN0TmFtZSxcbiAgICAgICAgICAgXCJtYXggbWVtYmVyIG9mZnNldCAoXCIrbGFzdE1lbWJlci5vZmZzZXQrXCIpIFwiLFxuICAgICAgICAgICBcImV4dGVuZHMgcGFzdCBlbmQgb2Ygc3RydWN0IChzaXplb2Y9XCIrc3RydWN0SW5mby5zaXplb2YrXCIpLlwiKTtcbiAgICB9XG4gICAgY29uc3QgZGVidWdGbGFncyA9IHJvcChTQkYuX19tYWtlRGVidWdGbGFncyhTdHJ1Y3RCaW5kZXIuZGVidWdGbGFncykpO1xuICAgIC8qKiBDb25zdHJ1Y3RvciBmb3IgdGhlIFN0cnVjdEN0b3IuICovXG4gICAgY29uc3QgU3RydWN0Q3RvciA9IGZ1bmN0aW9uIFN0cnVjdEN0b3IoZXh0ZXJuYWxNZW1vcnkpe1xuICAgICAgaWYoISh0aGlzIGluc3RhbmNlb2YgU3RydWN0Q3Rvcikpe1xuICAgICAgICB0b3NzKFwiVGhlXCIsc3RydWN0TmFtZSxcImNvbnN0cnVjdG9yIG1heSBvbmx5IGJlIGNhbGxlZCB2aWEgJ25ldycuXCIpO1xuICAgICAgfWVsc2UgaWYoYXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICAgIGlmKGV4dGVybmFsTWVtb3J5IT09KGV4dGVybmFsTWVtb3J5fDApIHx8IGV4dGVybmFsTWVtb3J5PD0wKXtcbiAgICAgICAgICB0b3NzKFwiSW52YWxpZCBwb2ludGVyIHZhbHVlIGZvclwiLHN0cnVjdE5hbWUsXCJjb25zdHJ1Y3Rvci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgX19hbGxvY1N0cnVjdChTdHJ1Y3RDdG9yLCB0aGlzLCBleHRlcm5hbE1lbW9yeSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgX19hbGxvY1N0cnVjdChTdHJ1Y3RDdG9yLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFN0cnVjdEN0b3Ise1xuICAgICAgZGVidWdGbGFnczogZGVidWdGbGFncyxcbiAgICAgIGlzQTogcm9wKCh2KT0+diBpbnN0YW5jZW9mIFN0cnVjdEN0b3IpLFxuICAgICAgbWVtYmVyS2V5OiBfX21lbWJlcktleVByb3AsXG4gICAgICBtZW1iZXJLZXlzOiBfX3N0cnVjdE1lbWJlcktleXMsXG4gICAgICBtZXRob2RJbmZvRm9yS2V5OiByb3AoZnVuY3Rpb24obUtleSl7XG4gICAgICB9KSxcbiAgICAgIHN0cnVjdEluZm86IHJvcChzdHJ1Y3RJbmZvKSxcbiAgICAgIHN0cnVjdE5hbWU6IHJvcChzdHJ1Y3ROYW1lKVxuICAgIH0pO1xuICAgIFN0cnVjdEN0b3IucHJvdG90eXBlID0gbmV3IFN0cnVjdFR5cGUoc3RydWN0TmFtZSwgc3RydWN0SW5mbywgcm9wKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhTdHJ1Y3RDdG9yLnByb3RvdHlwZSx7XG4gICAgICBkZWJ1Z0ZsYWdzOiBkZWJ1Z0ZsYWdzLFxuICAgICAgY29uc3RydWN0b3I6IHJvcChTdHJ1Y3RDdG9yKVxuICAgICAgLyppZiB3ZSBhc3NpZ24gU3RydWN0Q3Rvci5wcm90b3R5cGUgYW5kIGRvbid0IGRvXG4gICAgICAgIHRoaXMgdGhlbiBTdHJ1Y3RDdG9yIT09aW5zdGFuY2UuY29uc3RydWN0b3IhKi9cbiAgICB9KTtcbiAgICBPYmplY3Qua2V5cyhzdHJ1Y3RJbmZvLm1lbWJlcnMpLmZvckVhY2goXG4gICAgICAobmFtZSk9Pm1ha2VNZW1iZXJXcmFwcGVyKFN0cnVjdEN0b3IsIG5hbWUsIHN0cnVjdEluZm8ubWVtYmVyc1tuYW1lXSlcbiAgICApO1xuICAgIHJldHVybiBTdHJ1Y3RDdG9yO1xuICB9O1xuICBTdHJ1Y3RCaW5kZXIuU3RydWN0VHlwZSA9IFN0cnVjdFR5cGU7XG4gIFN0cnVjdEJpbmRlci5jb25maWcgPSBjb25maWc7XG4gIFN0cnVjdEJpbmRlci5hbGxvY0NTdHJpbmcgPSBfX2FsbG9jQ1N0cmluZztcbiAgaWYoIVN0cnVjdEJpbmRlci5kZWJ1Z0ZsYWdzKXtcbiAgICBTdHJ1Y3RCaW5kZXIuZGVidWdGbGFncyA9IFNCRi5fX21ha2VEZWJ1Z0ZsYWdzKFNCRi5kZWJ1Z0ZsYWdzKTtcbiAgfVxuICByZXR1cm4gU3RydWN0QmluZGVyO1xufS8qU3RydWN0QmluZGVyRmFjdG9yeSovO1xuLyogRU5EIEZJTEU6IGphY2N3YWJ5dC9qYWNjd2FieXQuanMgKi9cbi8qIEJFR0lOIEZJTEU6IGFwaS9zcWxpdGUzLWFwaS1nbHVlLmpzICovXG4vKlxuICAyMDIyLTA3LTIyXG5cbiAgVGhlIGF1dGhvciBkaXNjbGFpbXMgY29weXJpZ2h0IHRvIHRoaXMgc291cmNlIGNvZGUuICBJbiBwbGFjZSBvZiBhXG4gIGxlZ2FsIG5vdGljZSwgaGVyZSBpcyBhIGJsZXNzaW5nOlxuXG4gICogICBNYXkgeW91IGRvIGdvb2QgYW5kIG5vdCBldmlsLlxuICAqICAgTWF5IHlvdSBmaW5kIGZvcmdpdmVuZXNzIGZvciB5b3Vyc2VsZiBhbmQgZm9yZ2l2ZSBvdGhlcnMuXG4gICogICBNYXkgeW91IHNoYXJlIGZyZWVseSwgbmV2ZXIgdGFraW5nIG1vcmUgdGhhbiB5b3UgZ2l2ZS5cblxuICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIFRoaXMgZmlsZSBnbHVlcyB0b2dldGhlciBkaXNwYXJhdGUgcGllY2VzIG9mIEpTIHdoaWNoIGFyZSBsb2FkZWQgaW5cbiAgcHJldmlvdXMgc3RlcHMgb2YgdGhlIHNxbGl0ZTMtYXBpLmpzIGJvb3RzdHJhcHBpbmcgcHJvY2VzczpcbiAgc3FsaXRlMy1hcGktcHJvbG9ndWUuanMsIHdod2FzbXV0aWwuanMsIGFuZCBqYWNjd2FieXQuanMuIEl0XG4gIGluaXRpYWxpemVzIHRoZSBtYWluIEFQSSBwaWVjZXMgc28gdGhhdCB0aGUgZG93bnN0cmVhbSBjb21wb25lbnRzXG4gIChlLmcuIHNxbGl0ZTMtYXBpLW9vMS5qcykgaGF2ZSBhbGwgdGhhdCB0aGV5IG5lZWQuXG4qL1xuZ2xvYmFsVGhpcy5zcWxpdGUzQXBpQm9vdHN0cmFwLmluaXRpYWxpemVycy5wdXNoKGZ1bmN0aW9uKHNxbGl0ZTMpe1xuICAndXNlIHN0cmljdCc7XG4gIGNvbnN0IHRvc3MgPSAoLi4uYXJncyk9Pnt0aHJvdyBuZXcgRXJyb3IoYXJncy5qb2luKCcgJykpfTtcbiAgY29uc3QgdG9zczMgPSBzcWxpdGUzLlNRTGl0ZTNFcnJvci50b3NzO1xuICBjb25zdCBjYXBpID0gc3FsaXRlMy5jYXBpLCB3YXNtID0gc3FsaXRlMy53YXNtLCB1dGlsID0gc3FsaXRlMy51dGlsO1xuICBnbG9iYWxUaGlzLldoV2FzbVV0aWxJbnN0YWxsZXIod2FzbSk7XG4gIGRlbGV0ZSBnbG9iYWxUaGlzLldoV2FzbVV0aWxJbnN0YWxsZXI7XG5cbiAgaWYoMCl7XG4gICAgLyoqXG4gICAgICAgUGxlYXNlIGtlZXAgdGhpcyBibG9jayBhcm91bmQgYXMgYSBtYWludGVuYW5jZSByZW1pbmRlclxuICAgICAgIHRoYXQgd2UgY2Fubm90IHJlbHkgb24gdGhpcyB0eXBlIG9mIGNoZWNrLlxuXG4gICAgICAgVGhpcyBibG9jayBmYWlscyBvbiBTYWZhcmksIHBlciBhIHJlcG9ydCBhdFxuICAgICAgIGh0dHBzOi8vc3FsaXRlLm9yZy9mb3J1bS9mb3J1bXBvc3QvZTViMjBlMWZlYi5cblxuICAgICAgIEl0IHR1cm5zIG91dCB0aGF0IHdoYXQgU2FmYXJpIHNlcnZlcyBmcm9tIHRoZSBpbmRpcmVjdCBmdW5jdGlvblxuICAgICAgIHRhYmxlIChlLmcuIHdhc20uZnVuY3Rpb25FbnRyeShYKSkgaXMgYW5vbnltb3VzIGZ1bmN0aW9ucyB3aGljaFxuICAgICAgIHdyYXAgdGhlIFdBU00gZnVuY3Rpb25zLCByYXRoZXIgdGhhbiByZXR1cm5pbmcgdGhlIFdBU01cbiAgICAgICBmdW5jdGlvbnMgdGhlbXNlbHZlcy4gVGhhdCBtZWFucyBjb21wYXJpc29uIG9mIHN1Y2ggZnVuY3Rpb25zXG4gICAgICAgaXMgdXNlbGVzcyBmb3IgZGV0ZXJtaW5pbmcgd2hldGhlciBvciBub3Qgd2UgaGF2ZSBhIHNwZWNpZmljXG4gICAgICAgZnVuY3Rpb24gZnJvbSB3YXNtLmV4cG9ydHMuIGkuZS4gaWYgZnVuY3Rpb24gWCBpcyBpbmRpcmVjdGlvblxuICAgICAgIGZ1bmN0aW9uIHRhYmxlIGVudHJ5IE4gdGhlbiB3YXNtLmV4cG9ydHMuWCBpcyBub3QgZXF1YWwgdG9cbiAgICAgICB3YXNtLmZ1bmN0aW9uRW50cnkoTikgaW4gU2FmYXJpLCBkZXNwaXRlIGJlaW5nIHNvIGluIHRoZSBvdGhlclxuICAgICAgIGJyb3dzZXJzLlxuICAgICovXG4gICAgLyoqXG4gICAgICAgRmluZCBhIG1hcHBpbmcgZm9yIFNRTElURV9XQVNNX0RFQUxMT0MsIHdoaWNoIHRoZSBBUElcbiAgICAgICBndWFyYW50ZWVzIGlzIGEgV0FTTSBwb2ludGVyIHRvIHRoZSBzYW1lIHVuZGVybHlpbmcgZnVuY3Rpb24gYXNcbiAgICAgICB3YXNtLmRlYWxsb2MoKSAobm90aW5nIHRoYXQgd2FzbS5kZWFsbG9jKCkgaXMgcGVybWl0dGVkIHRvIGJlIGFcbiAgICAgICBKUyB3cmFwcGVyIGFyb3VuZCB0aGUgV0FTTSBmdW5jdGlvbikuIFRoZXJlIGlzIHVuZm9ydHVuYXRlbHkgbm9cbiAgICAgICBPKDEpIGFsZ29yaXRobSBmb3IgZmluZGluZyB0aGlzIHBvaW50ZXI6IHdlIGhhdmUgdG8gd2FsayB0aGVcbiAgICAgICBXQVNNIGluZGlyZWN0IGZ1bmN0aW9uIHRhYmxlIHRvIGZpbmQgaXQuIEhvd2V2ZXIsIGV4cGVyaWVuY2VcbiAgICAgICBpbmRpY2F0ZXMgdGhhdCB0aGF0IHBhcnRpY3VsYXIgZnVuY3Rpb24gaXMgYWx3YXlzIHZlcnkgY2xvc2UgdG9cbiAgICAgICB0aGUgZnJvbnQgb2YgdGhlIHRhYmxlIChpdCdzIGJlZW4gZW50cnkgIzMgaW4gYWxsIHJlbGV2YW50XG4gICAgICAgdGVzdHMpLlxuICAgICovXG4gICAgY29uc3QgZGVhbGxvYyA9IHdhc20uZXhwb3J0c1tzcWxpdGUzLmNvbmZpZy5kZWFsbG9jRXhwb3J0TmFtZV07XG4gICAgY29uc3QgbkZ1bmMgPSB3YXNtLmZ1bmN0aW9uVGFibGUoKS5sZW5ndGg7XG4gICAgbGV0IGk7XG4gICAgZm9yKGkgPSAwOyBpIDwgbkZ1bmM7ICsraSl7XG4gICAgICBjb25zdCBlID0gd2FzbS5mdW5jdGlvbkVudHJ5KGkpO1xuICAgICAgaWYoZGVhbGxvYyA9PT0gZSl7XG4gICAgICAgIGNhcGkuU1FMSVRFX1dBU01fREVBTExPQyA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZihkZWFsbG9jICE9PSB3YXNtLmZ1bmN0aW9uRW50cnkoY2FwaS5TUUxJVEVfV0FTTV9ERUFMTE9DKSl7XG4gICAgICB0b3NzKFwiSW50ZXJuYWwgZXJyb3I6IGNhbm5vdCBmaW5kIGZ1bmN0aW9uIHBvaW50ZXIgZm9yIFNRTElURV9XQVNNX0RFQUxMT0MuXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgICBTaWduYXR1cmVzIGZvciB0aGUgV0FTTS1leHBvcnRlZCBDLXNpZGUgZnVuY3Rpb25zLiBFYWNoIGVudHJ5XG4gICAgIGlzIGFuIGFycmF5IHdpdGggMisgZWxlbWVudHM6XG5cbiAgICAgWyBcImMtc2lkZSBuYW1lXCIsXG4gICAgICAgXCJyZXN1bHQgdHlwZVwiICh3YXNtLnhXcmFwKCkgc3ludGF4KSxcbiAgICAgICBbYXJnIHR5cGVzIGluIHhXcmFwKCkgc3ludGF4XVxuICAgICAgIC8vIF5eXiB0aGlzIG5lZWRuJ3Qgc3RyaWN0bHkgYmUgYW4gYXJyYXk6IGl0IGNhbiBiZSBzdWJzZXF1ZW50XG4gICAgICAgLy8gZWxlbWVudHMgaW5zdGVhZDogW3gseSx6XSBpcyBlcXVpdmFsZW50IHRvIHgseSx6XG4gICAgIF1cblxuICAgICBOb3RlIHRoYXQgc3VwcG9ydCBmb3IgdGhlIEFQSS1zcGVjaWZpYyBkYXRhIHR5cGVzIGluIHRoZVxuICAgICByZXN1bHQvYXJndW1lbnQgdHlwZSBzdHJpbmdzIGdldHMgcGx1Z2dlZCBpbiBhdCBhIGxhdGVyIHBoYXNlIGluXG4gICAgIHRoZSBBUEkgaW5pdGlhbGl6YXRpb24gcHJvY2Vzcy5cbiAgKi9cbiAgd2FzbS5iaW5kaW5nU2lnbmF0dXJlcyA9IFtcbiAgICAvLyBQbGVhc2Uga2VlcCB0aGVzZSBzb3J0ZWQgYnkgZnVuY3Rpb24gbmFtZSFcbiAgICBbXCJzcWxpdGUzX2FnZ3JlZ2F0ZV9jb250ZXh0XCIsXCJ2b2lkKlwiLCBcInNxbGl0ZTNfY29udGV4dCpcIiwgXCJpbnRcIl0sXG4gICAgLyogc3FsaXRlM19hdXRvX2V4dGVuc2lvbigpIGhhcyBhIGhhbmQtd3JpdHRlbiBiaW5kaW5nLiAqL1xuICAgIC8qIHNxbGl0ZTNfYmluZF9ibG9iKCkgYW5kIHNxbGl0ZTNfYmluZF90ZXh0KCkgaGF2ZSBoYW5kLXdyaXR0ZW5cbiAgICAgICBiaW5kaW5ncyB0byBwZXJtaXQgbW9yZSBmbGV4aWJsZSBpbnB1dHMuICovXG4gICAgW1wic3FsaXRlM19iaW5kX2RvdWJsZVwiLFwiaW50XCIsIFwic3FsaXRlM19zdG10KlwiLCBcImludFwiLCBcImY2NFwiXSxcbiAgICBbXCJzcWxpdGUzX2JpbmRfaW50XCIsXCJpbnRcIiwgXCJzcWxpdGUzX3N0bXQqXCIsIFwiaW50XCIsIFwiaW50XCJdLFxuICAgIFtcInNxbGl0ZTNfYmluZF9udWxsXCIsdW5kZWZpbmVkLCBcInNxbGl0ZTNfc3RtdCpcIiwgXCJpbnRcIl0sXG4gICAgW1wic3FsaXRlM19iaW5kX3BhcmFtZXRlcl9jb3VudFwiLCBcImludFwiLCBcInNxbGl0ZTNfc3RtdCpcIl0sXG4gICAgW1wic3FsaXRlM19iaW5kX3BhcmFtZXRlcl9pbmRleFwiLFwiaW50XCIsIFwic3FsaXRlM19zdG10KlwiLCBcInN0cmluZ1wiXSxcbiAgICBbXCJzcWxpdGUzX2JpbmRfcG9pbnRlclwiLCBcImludFwiLFxuICAgICBcInNxbGl0ZTNfc3RtdCpcIiwgXCJpbnRcIiwgXCIqXCIsIFwic3RyaW5nOnN0YXRpY1wiLCBcIipcIl0sXG4gICAgW1wic3FsaXRlM19idXN5X2hhbmRsZXJcIixcImludFwiLCBbXG4gICAgICBcInNxbGl0ZTMqXCIsXG4gICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7XG4gICAgICAgIHNpZ25hdHVyZTogJ2kocGkpJyxcbiAgICAgICAgY29udGV4dEtleTogKGFyZ3YsYXJnSW5kZXgpPT5hcmd2WzAvKiBzcWxpdGUzKiAqL11cbiAgICAgIH0pLFxuICAgICAgXCIqXCJcbiAgICBdXSxcbiAgICBbXCJzcWxpdGUzX2J1c3lfdGltZW91dFwiLFwiaW50XCIsIFwic3FsaXRlMypcIiwgXCJpbnRcIl0sXG4gICAgLyogc3FsaXRlM19jYW5jZWxfYXV0b19leHRlbnNpb24oKSBoYXMgYSBoYW5kLXdyaXR0ZW4gYmluZGluZy4gKi9cbiAgICAvKiBzcWxpdGUzX2Nsb3NlX3YyKCkgaXMgaW1wbGVtZW50ZWQgYnkgaGFuZCB0byBwZXJmb3JtIHNvbWVcbiAgICAgICBleHRyYSB3b3JrLiAqL1xuICAgIFtcInNxbGl0ZTNfY2hhbmdlc1wiLCBcImludFwiLCBcInNxbGl0ZTMqXCJdLFxuICAgIFtcInNxbGl0ZTNfY2xlYXJfYmluZGluZ3NcIixcImludFwiLCBcInNxbGl0ZTNfc3RtdCpcIl0sXG4gICAgW1wic3FsaXRlM19jb2xsYXRpb25fbmVlZGVkXCIsIFwiaW50XCIsIFwic3FsaXRlMypcIiwgXCIqXCIsIFwiKlwiLyo9PnYocHBpcykqL10sXG4gICAgW1wic3FsaXRlM19jb2x1bW5fYmxvYlwiLFwiKlwiLCBcInNxbGl0ZTNfc3RtdCpcIiwgXCJpbnRcIl0sXG4gICAgW1wic3FsaXRlM19jb2x1bW5fYnl0ZXNcIixcImludFwiLCBcInNxbGl0ZTNfc3RtdCpcIiwgXCJpbnRcIl0sXG4gICAgW1wic3FsaXRlM19jb2x1bW5fY291bnRcIiwgXCJpbnRcIiwgXCJzcWxpdGUzX3N0bXQqXCJdLFxuICAgIFtcInNxbGl0ZTNfY29sdW1uX2RvdWJsZVwiLFwiZjY0XCIsIFwic3FsaXRlM19zdG10KlwiLCBcImludFwiXSxcbiAgICBbXCJzcWxpdGUzX2NvbHVtbl9pbnRcIixcImludFwiLCBcInNxbGl0ZTNfc3RtdCpcIiwgXCJpbnRcIl0sXG4gICAgW1wic3FsaXRlM19jb2x1bW5fbmFtZVwiLFwic3RyaW5nXCIsIFwic3FsaXRlM19zdG10KlwiLCBcImludFwiXSxcbiAgICBbXCJzcWxpdGUzX2NvbHVtbl90ZXh0XCIsXCJzdHJpbmdcIiwgXCJzcWxpdGUzX3N0bXQqXCIsIFwiaW50XCJdLFxuICAgIFtcInNxbGl0ZTNfY29sdW1uX3R5cGVcIixcImludFwiLCBcInNxbGl0ZTNfc3RtdCpcIiwgXCJpbnRcIl0sXG4gICAgW1wic3FsaXRlM19jb2x1bW5fdmFsdWVcIixcInNxbGl0ZTNfdmFsdWUqXCIsIFwic3FsaXRlM19zdG10KlwiLCBcImludFwiXSxcbiAgICBbXCJzcWxpdGUzX2NvbW1pdF9ob29rXCIsIFwidm9pZCpcIiwgW1xuICAgICAgXCJzcWxpdGUzKlwiLFxuICAgICAgbmV3IHdhc20ueFdyYXAuRnVuY1B0ckFkYXB0ZXIoe1xuICAgICAgICBuYW1lOiAnc3FsaXRlM19jb21taXRfaG9vaycsXG4gICAgICAgIHNpZ25hdHVyZTogJ2kocCknLFxuICAgICAgICBjb250ZXh0S2V5OiAoYXJndik9PmFyZ3ZbMC8qIHNxbGl0ZTMqICovXVxuICAgICAgfSksXG4gICAgICAnKidcbiAgICBdXSxcbiAgICBbXCJzcWxpdGUzX2NvbXBpbGVvcHRpb25fZ2V0XCIsIFwic3RyaW5nXCIsIFwiaW50XCJdLFxuICAgIFtcInNxbGl0ZTNfY29tcGlsZW9wdGlvbl91c2VkXCIsIFwiaW50XCIsIFwic3RyaW5nXCJdLFxuICAgIFtcInNxbGl0ZTNfY29tcGxldGVcIiwgXCJpbnRcIiwgXCJzdHJpbmc6ZmxleGlibGVcIl0sXG4gICAgW1wic3FsaXRlM19jb250ZXh0X2RiX2hhbmRsZVwiLCBcInNxbGl0ZTMqXCIsIFwic3FsaXRlM19jb250ZXh0KlwiXSxcblxuICAgIC8qIHNxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uKCksIHNxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uX3YyKCksIGFuZFxuICAgICAgIHNxbGl0ZTNfY3JlYXRlX3dpbmRvd19mdW5jdGlvbigpIHVzZSBoYW5kLXdyaXR0ZW4gYmluZGluZ3MgdG9cbiAgICAgICBzaW1wbGlmeSBoYW5kbGluZyBvZiB0aGVpciBmdW5jdGlvbi10eXBlIGFyZ3VtZW50cy4gKi9cbiAgICAvKiBzcWxpdGUzX2NyZWF0ZV9jb2xsYXRpb24oKSBhbmQgc3FsaXRlM19jcmVhdGVfY29sbGF0aW9uX3YyKClcbiAgICAgICB1c2UgaGFuZC13cml0dGVuIGJpbmRpbmdzIHRvIHNpbXBsaWZ5IHBhc3Npbmcgb2YgdGhlIGNhbGxiYWNrXG4gICAgICAgZnVuY3Rpb24uXG4gICAgICBbXCJzcWxpdGUzX2NyZWF0ZV9jb2xsYXRpb25cIiwgXCJpbnRcIixcbiAgICAgXCJzcWxpdGUzKlwiLCBcInN0cmluZ1wiLCBcImludFwiLC8vU1FMSVRFX1VURjggaXMgdGhlIG9ubHkgbGVnYWwgdmFsdWVcbiAgICAgXCIqXCIsIFwiKlwiXSxcbiAgICBbXCJzcWxpdGUzX2NyZWF0ZV9jb2xsYXRpb25fdjJcIiwgXCJpbnRcIixcbiAgICAgXCJzcWxpdGUzKlwiLCBcInN0cmluZ1wiLCBcImludFwiLC8vU1FMSVRFX1VURjggaXMgdGhlIG9ubHkgbGVnYWwgdmFsdWVcbiAgICAgXCIqXCIsIFwiKlwiLCBcIipcIl0sXG4gICAgKi9cbiAgICBbXCJzcWxpdGUzX2RhdGFfY291bnRcIiwgXCJpbnRcIiwgXCJzcWxpdGUzX3N0bXQqXCJdLFxuICAgIFtcInNxbGl0ZTNfZGJfZmlsZW5hbWVcIiwgXCJzdHJpbmdcIiwgXCJzcWxpdGUzKlwiLCBcInN0cmluZ1wiXSxcbiAgICBbXCJzcWxpdGUzX2RiX2hhbmRsZVwiLCBcInNxbGl0ZTMqXCIsIFwic3FsaXRlM19zdG10KlwiXSxcbiAgICBbXCJzcWxpdGUzX2RiX25hbWVcIiwgXCJzdHJpbmdcIiwgXCJzcWxpdGUzKlwiLCBcImludFwiXSxcbiAgICBbXCJzcWxpdGUzX2RiX3N0YXR1c1wiLCBcImludFwiLCBcInNxbGl0ZTMqXCIsIFwiaW50XCIsIFwiKlwiLCBcIipcIiwgXCJpbnRcIl0sXG4gICAgW1wic3FsaXRlM19lcnJjb2RlXCIsIFwiaW50XCIsIFwic3FsaXRlMypcIl0sXG4gICAgW1wic3FsaXRlM19lcnJtc2dcIiwgXCJzdHJpbmdcIiwgXCJzcWxpdGUzKlwiXSxcbiAgICBbXCJzcWxpdGUzX2Vycm9yX29mZnNldFwiLCBcImludFwiLCBcInNxbGl0ZTMqXCJdLFxuICAgIFtcInNxbGl0ZTNfZXJyc3RyXCIsIFwic3RyaW5nXCIsIFwiaW50XCJdLFxuICAgIFtcInNxbGl0ZTNfZXhlY1wiLCBcImludFwiLCBbXG4gICAgICBcInNxbGl0ZTMqXCIsIFwic3RyaW5nOmZsZXhpYmxlXCIsXG4gICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7XG4gICAgICAgIHNpZ25hdHVyZTogJ2kocGlwcCknLFxuICAgICAgICBiaW5kU2NvcGU6ICd0cmFuc2llbnQnLFxuICAgICAgICBjYWxsUHJveHk6IChjYWxsYmFjayk9PntcbiAgICAgICAgICBsZXQgYU5hbWVzO1xuICAgICAgICAgIHJldHVybiAocFZvaWQsIG5Db2xzLCBwQ29sVmFscywgcENvbE5hbWVzKT0+e1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgYVZhbHMgPSB3YXNtLmNBcmd2VG9KcyhuQ29scywgcENvbFZhbHMpO1xuICAgICAgICAgICAgICBpZighYU5hbWVzKSBhTmFtZXMgPSB3YXNtLmNBcmd2VG9KcyhuQ29scywgcENvbE5hbWVzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGFWYWxzLCBhTmFtZXMpIHwgMDtcbiAgICAgICAgICAgIH1jYXRjaChlKXtcbiAgICAgICAgICAgICAgLyogSWYgd2Ugc2V0IHRoZSBkYiBlcnJvciBzdGF0ZSBoZXJlLCB0aGUgaGlnaGVyLWxldmVsXG4gICAgICAgICAgICAgICAgIGV4ZWMoKSBjYWxsIHJlcGxhY2VzIGl0IHdpdGggaXRzIG93biwgc28gd2UgaGF2ZSBubyB3YXlcbiAgICAgICAgICAgICAgICAgb2YgcmVwb3J0aW5nIHRoZSBleGNlcHRpb24gbWVzc2FnZSBleGNlcHQgdGhlIGNvbnNvbGUuIFdlXG4gICAgICAgICAgICAgICAgIG11c3Qgbm90IHByb3BhZ2F0ZSBleGNlcHRpb25zIHRocm91Z2ggdGhlIEMgQVBJLiBUaG91Z2hcbiAgICAgICAgICAgICAgICAgd2UgbWFrZSBhbiBlZmZvcnQgdG8gcmVwb3J0IE9PTSBoZXJlLCBzcWxpdGUzX2V4ZWMoKVxuICAgICAgICAgICAgICAgICB0cmFuc2xhdGVzIHRoYXQgaW50byBTUUxJVEVfQUJPUlQgYXMgd2VsbC4gKi9cbiAgICAgICAgICAgICAgcmV0dXJuIGUucmVzdWx0Q29kZSB8fCBjYXBpLlNRTElURV9FUlJPUjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgXCIqXCIsIFwiKipcIlxuICAgIF1dLFxuICAgIFtcInNxbGl0ZTNfZXhwYW5kZWRfc3FsXCIsIFwic3RyaW5nXCIsIFwic3FsaXRlM19zdG10KlwiXSxcbiAgICBbXCJzcWxpdGUzX2V4dGVuZGVkX2VycmNvZGVcIiwgXCJpbnRcIiwgXCJzcWxpdGUzKlwiXSxcbiAgICBbXCJzcWxpdGUzX2V4dGVuZGVkX3Jlc3VsdF9jb2Rlc1wiLCBcImludFwiLCBcInNxbGl0ZTMqXCIsIFwiaW50XCJdLFxuICAgIFtcInNxbGl0ZTNfZmlsZV9jb250cm9sXCIsIFwiaW50XCIsIFwic3FsaXRlMypcIiwgXCJzdHJpbmdcIiwgXCJpbnRcIiwgXCIqXCJdLFxuICAgIFtcInNxbGl0ZTNfZmluYWxpemVcIiwgXCJpbnRcIiwgXCJzcWxpdGUzX3N0bXQqXCJdLFxuICAgIFtcInNxbGl0ZTNfZnJlZVwiLCB1bmRlZmluZWQsXCIqXCJdLFxuICAgIFtcInNxbGl0ZTNfZ2V0X2F1eGRhdGFcIiwgXCIqXCIsIFwic3FsaXRlM19jb250ZXh0KlwiLCBcImludFwiXSxcbiAgICBbXCJzcWxpdGUzX2luaXRpYWxpemVcIiwgdW5kZWZpbmVkXSxcbiAgICAvKltcInNxbGl0ZTNfaW50ZXJydXB0XCIsIHVuZGVmaW5lZCwgXCJzcWxpdGUzKlwiXG4gICAgICAgXl5eIHdlIGNhbm5vdCBhY3R1YWxseSBjdXJyZW50bHkgc3VwcG9ydCB0aGlzIGJlY2F1c2UgSlMgaXNcbiAgICAgICAgc2luZ2xlLXRocmVhZGVkIGFuZCB3ZSBkb24ndCBoYXZlIGEgcG9ydGFibGUgd2F5IHRvIGFjY2VzcyBhIERCXG4gICAgICAgIGZyb20gMiBTaGFyZWRXb3JrZXJzIGNvbmN1cnJlbnRseS4gXSwqL1xuICAgIFtcInNxbGl0ZTNfa2V5d29yZF9jb3VudFwiLCBcImludFwiXSxcbiAgICBbXCJzcWxpdGUzX2tleXdvcmRfbmFtZVwiLCBcImludFwiLCBbXCJpbnRcIiwgXCIqKlwiLCBcIipcIl1dLFxuICAgIFtcInNxbGl0ZTNfa2V5d29yZF9jaGVja1wiLCBcImludFwiLCBbXCJzdHJpbmdcIiwgXCJpbnRcIl1dLFxuICAgIFtcInNxbGl0ZTNfbGlidmVyc2lvblwiLCBcInN0cmluZ1wiXSxcbiAgICBbXCJzcWxpdGUzX2xpYnZlcnNpb25fbnVtYmVyXCIsIFwiaW50XCJdLFxuICAgIFtcInNxbGl0ZTNfbGltaXRcIiwgXCJpbnRcIiwgW1wic3FsaXRlMypcIiwgXCJpbnRcIiwgXCJpbnRcIl1dLFxuICAgIFtcInNxbGl0ZTNfbWFsbG9jXCIsIFwiKlwiLFwiaW50XCJdLFxuICAgIFtcInNxbGl0ZTNfb3BlblwiLCBcImludFwiLCBcInN0cmluZ1wiLCBcIipcIl0sXG4gICAgW1wic3FsaXRlM19vcGVuX3YyXCIsIFwiaW50XCIsIFwic3RyaW5nXCIsIFwiKlwiLCBcImludFwiLCBcInN0cmluZ1wiXSxcbiAgICAvKiBzcWxpdGUzX3ByZXBhcmVfdjIoKSBhbmQgc3FsaXRlM19wcmVwYXJlX3YzKCkgYXJlIGhhbmRsZWRcbiAgICAgICBzZXBhcmF0ZWx5IGR1ZSB0byB1cyByZXF1aXJpbmcgdHdvIGRpZmZlcmVudCBzZXRzIG9mIHNlbWFudGljc1xuICAgICAgIGZvciB0aG9zZSwgZGVwZW5kaW5nIG9uIGhvdyB0aGVpciBTUUwgYXJndW1lbnQgaXMgcHJvdmlkZWQuICovXG4gICAgLyogc3FsaXRlM19yYW5kb21uZXNzKCkgdXNlcyBhIGhhbmQtd3JpdHRlbiB3cmFwcGVyIHRvIGV4dGVuZFxuICAgICAgIHRoZSByYW5nZSBvZiBzdXBwb3J0ZWQgYXJndW1lbnQgdHlwZXMuICovXG4gICAgW1wic3FsaXRlM19wcm9ncmVzc19oYW5kbGVyXCIsIHVuZGVmaW5lZCwgW1xuICAgICAgXCJzcWxpdGUzKlwiLCBcImludFwiLCBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7XG4gICAgICAgIG5hbWU6ICd4UHJvZ3Jlc3NIYW5kbGVyJyxcbiAgICAgICAgc2lnbmF0dXJlOiAnaShwKScsXG4gICAgICAgIGJpbmRTY29wZTogJ2NvbnRleHQnLFxuICAgICAgICBjb250ZXh0S2V5OiAoYXJndixhcmdJbmRleCk9PmFyZ3ZbMC8qIHNxbGl0ZTMqICovXVxuICAgICAgfSksIFwiKlwiXG4gICAgXV0sXG4gICAgW1wic3FsaXRlM19yZWFsbG9jXCIsIFwiKlwiLFwiKlwiLFwiaW50XCJdLFxuICAgIFtcInNxbGl0ZTNfcmVzZXRcIiwgXCJpbnRcIiwgXCJzcWxpdGUzX3N0bXQqXCJdLFxuICAgIC8qIHNxbGl0ZTNfcmVzZXRfYXV0b19leHRlbnNpb24oKSBoYXMgYSBoYW5kLXdyaXR0ZW4gYmluZGluZy4gKi9cbiAgICBbXCJzcWxpdGUzX3Jlc3VsdF9ibG9iXCIsIHVuZGVmaW5lZCwgXCJzcWxpdGUzX2NvbnRleHQqXCIsIFwiKlwiLCBcImludFwiLCBcIipcIl0sXG4gICAgW1wic3FsaXRlM19yZXN1bHRfZG91YmxlXCIsIHVuZGVmaW5lZCwgXCJzcWxpdGUzX2NvbnRleHQqXCIsIFwiZjY0XCJdLFxuICAgIFtcInNxbGl0ZTNfcmVzdWx0X2Vycm9yXCIsIHVuZGVmaW5lZCwgXCJzcWxpdGUzX2NvbnRleHQqXCIsIFwic3RyaW5nXCIsIFwiaW50XCJdLFxuICAgIFtcInNxbGl0ZTNfcmVzdWx0X2Vycm9yX2NvZGVcIiwgdW5kZWZpbmVkLCBcInNxbGl0ZTNfY29udGV4dCpcIiwgXCJpbnRcIl0sXG4gICAgW1wic3FsaXRlM19yZXN1bHRfZXJyb3Jfbm9tZW1cIiwgdW5kZWZpbmVkLCBcInNxbGl0ZTNfY29udGV4dCpcIl0sXG4gICAgW1wic3FsaXRlM19yZXN1bHRfZXJyb3JfdG9vYmlnXCIsIHVuZGVmaW5lZCwgXCJzcWxpdGUzX2NvbnRleHQqXCJdLFxuICAgIFtcInNxbGl0ZTNfcmVzdWx0X2ludFwiLCB1bmRlZmluZWQsIFwic3FsaXRlM19jb250ZXh0KlwiLCBcImludFwiXSxcbiAgICBbXCJzcWxpdGUzX3Jlc3VsdF9udWxsXCIsIHVuZGVmaW5lZCwgXCJzcWxpdGUzX2NvbnRleHQqXCJdLFxuICAgIFtcInNxbGl0ZTNfcmVzdWx0X3BvaW50ZXJcIiwgdW5kZWZpbmVkLFxuICAgICBcInNxbGl0ZTNfY29udGV4dCpcIiwgXCIqXCIsIFwic3RyaW5nOnN0YXRpY1wiLCBcIipcIl0sXG4gICAgW1wic3FsaXRlM19yZXN1bHRfc3VidHlwZVwiLCB1bmRlZmluZWQsIFwic3FsaXRlM192YWx1ZSpcIiwgXCJpbnRcIl0sXG4gICAgW1wic3FsaXRlM19yZXN1bHRfdGV4dFwiLCB1bmRlZmluZWQsIFwic3FsaXRlM19jb250ZXh0KlwiLCBcInN0cmluZ1wiLCBcImludFwiLCBcIipcIl0sXG4gICAgW1wic3FsaXRlM19yZXN1bHRfemVyb2Jsb2JcIiwgdW5kZWZpbmVkLCBcInNxbGl0ZTNfY29udGV4dCpcIiwgXCJpbnRcIl0sXG4gICAgW1wic3FsaXRlM19yb2xsYmFja19ob29rXCIsIFwidm9pZCpcIiwgW1xuICAgICAgXCJzcWxpdGUzKlwiLFxuICAgICAgbmV3IHdhc20ueFdyYXAuRnVuY1B0ckFkYXB0ZXIoe1xuICAgICAgICBuYW1lOiAnc3FsaXRlM19yb2xsYmFja19ob29rJyxcbiAgICAgICAgc2lnbmF0dXJlOiAndihwKScsXG4gICAgICAgIGNvbnRleHRLZXk6IChhcmd2KT0+YXJndlswLyogc3FsaXRlMyogKi9dXG4gICAgICB9KSxcbiAgICAgICcqJ1xuICAgIF1dLFxuICAgIFtcInNxbGl0ZTNfc2V0X2F1dGhvcml6ZXJcIiwgXCJpbnRcIiwgW1xuICAgICAgXCJzcWxpdGUzKlwiLFxuICAgICAgbmV3IHdhc20ueFdyYXAuRnVuY1B0ckFkYXB0ZXIoe1xuICAgICAgICBuYW1lOiBcInNxbGl0ZTNfc2V0X2F1dGhvcml6ZXI6OnhBdXRoXCIsXG4gICAgICAgIHNpZ25hdHVyZTogXCJpKHBpXCIrXCJzc3NzKVwiLFxuICAgICAgICBjb250ZXh0S2V5OiAoYXJndiwgYXJnSW5kZXgpPT5hcmd2WzAvKihzcWxpdGUzKikqL10sXG4gICAgICAgIGNhbGxQcm94eTogKGNhbGxiYWNrKT0+e1xuICAgICAgICAgIHJldHVybiAocFYsIGlDb2RlLCBzMCwgczEsIHMyLCBzMyk9PntcbiAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgczAgPSBzMCAmJiB3YXNtLmNzdHJUb0pzKHMwKTsgczEgPSBzMSAmJiB3YXNtLmNzdHJUb0pzKHMxKTtcbiAgICAgICAgICAgICAgczIgPSBzMiAmJiB3YXNtLmNzdHJUb0pzKHMyKTsgczMgPSBzMyAmJiB3YXNtLmNzdHJUb0pzKHMzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHBWLCBpQ29kZSwgczAsIHMxLCBzMiwgczMpIHx8IDA7XG4gICAgICAgICAgICB9Y2F0Y2goZSl7XG4gICAgICAgICAgICAgIHJldHVybiBlLnJlc3VsdENvZGUgfHwgY2FwaS5TUUxJVEVfRVJST1I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFwiKlwiLypwVXNlckRhdGEqL1xuICAgIF1dLFxuICAgIFtcInNxbGl0ZTNfc2V0X2F1eGRhdGFcIiwgdW5kZWZpbmVkLCBbXG4gICAgICBcInNxbGl0ZTNfY29udGV4dCpcIiwgXCJpbnRcIiwgXCIqXCIsXG4gICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7XG4gICAgICAgIG5hbWU6ICd4RGVzdHJveUF1eERhdGEnLFxuICAgICAgICBzaWduYXR1cmU6ICd2KCopJyxcbiAgICAgICAgY29udGV4dEtleTogKGFyZ3YsIGFyZ0luZGV4KT0+YXJndlswLyogc3FsaXRlM19jb250ZXh0KiAqL11cbiAgICAgIH0pXG4gICAgXV0sXG4gICAgW1wic3FsaXRlM19zaHV0ZG93blwiLCB1bmRlZmluZWRdLFxuICAgIFtcInNxbGl0ZTNfc291cmNlaWRcIiwgXCJzdHJpbmdcIl0sXG4gICAgW1wic3FsaXRlM19zcWxcIiwgXCJzdHJpbmdcIiwgXCJzcWxpdGUzX3N0bXQqXCJdLFxuICAgIFtcInNxbGl0ZTNfc3RhdHVzXCIsIFwiaW50XCIsIFwiaW50XCIsIFwiKlwiLCBcIipcIiwgXCJpbnRcIl0sXG4gICAgW1wic3FsaXRlM19zdGVwXCIsIFwiaW50XCIsIFwic3FsaXRlM19zdG10KlwiXSxcbiAgICBbXCJzcWxpdGUzX3N0bXRfaXNleHBsYWluXCIsIFwiaW50XCIsIFtcInNxbGl0ZTNfc3RtdCpcIl1dLFxuICAgIFtcInNxbGl0ZTNfc3RtdF9yZWFkb25seVwiLCBcImludFwiLCBbXCJzcWxpdGUzX3N0bXQqXCJdXSxcbiAgICBbXCJzcWxpdGUzX3N0bXRfc3RhdHVzXCIsIFwiaW50XCIsIFwic3FsaXRlM19zdG10KlwiLCBcImludFwiLCBcImludFwiXSxcbiAgICBbXCJzcWxpdGUzX3N0cmdsb2JcIiwgXCJpbnRcIiwgXCJzdHJpbmdcIixcInN0cmluZ1wiXSxcbiAgICBbXCJzcWxpdGUzX3N0cmljbXBcIiwgXCJpbnRcIiwgXCJzdHJpbmdcIiwgXCJzdHJpbmdcIl0sXG4gICAgW1wic3FsaXRlM19zdHJsaWtlXCIsIFwiaW50XCIsIFwic3RyaW5nXCIsIFwic3RyaW5nXCIsXCJpbnRcIl0sXG4gICAgW1wic3FsaXRlM19zdHJuaWNtcFwiLCBcImludFwiLCBcInN0cmluZ1wiLCBcInN0cmluZ1wiLCBcImludFwiXSxcbiAgICBbXCJzcWxpdGUzX3RhYmxlX2NvbHVtbl9tZXRhZGF0YVwiLCBcImludFwiLFxuICAgICBcInNxbGl0ZTMqXCIsIFwic3RyaW5nXCIsIFwic3RyaW5nXCIsIFwic3RyaW5nXCIsXG4gICAgIFwiKipcIiwgXCIqKlwiLCBcIipcIiwgXCIqXCIsIFwiKlwiXSxcbiAgICBbXCJzcWxpdGUzX3RvdGFsX2NoYW5nZXNcIiwgXCJpbnRcIiwgXCJzcWxpdGUzKlwiXSxcbiAgICBbXCJzcWxpdGUzX3RyYWNlX3YyXCIsIFwiaW50XCIsIFtcbiAgICAgIFwic3FsaXRlMypcIiwgXCJpbnRcIixcbiAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtcbiAgICAgICAgbmFtZTogJ3NxbGl0ZTNfdHJhY2VfdjI6OmNhbGxiYWNrJyxcbiAgICAgICAgc2lnbmF0dXJlOiAnaShpcHBwKScsXG4gICAgICAgIGNvbnRleHRLZXk6IChhcmd2LGFyZ0luZGV4KT0+YXJndlswLyogc3FsaXRlMyogKi9dXG4gICAgICB9KSxcbiAgICAgIFwiKlwiXG4gICAgXV0sXG4gICAgW1wic3FsaXRlM190eG5fc3RhdGVcIiwgXCJpbnRcIiwgW1wic3FsaXRlMypcIixcInN0cmluZ1wiXV0sXG4gICAgLyogTm90ZSB0aGF0IHNxbGl0ZTNfdXJpXy4uLigpIGhhdmUgdmVyeSBzcGVjaWZpYyByZXF1aXJlbWVudHMgZm9yXG4gICAgICAgdGhlaXIgZmlyc3QgQy1zdHJpbmcgYXJndW1lbnRzLCBzbyB3ZSBjYW5ub3QgcGVyZm9ybSBhbnkgdmFsdWVcbiAgICAgICBjb252ZXJzaW9uIG9uIHRob3NlLiAqL1xuICAgIFtcInNxbGl0ZTNfdXJpX2Jvb2xlYW5cIiwgXCJpbnRcIiwgXCJzcWxpdGUzX2ZpbGVuYW1lXCIsIFwic3RyaW5nXCIsIFwiaW50XCJdLFxuICAgIFtcInNxbGl0ZTNfdXJpX2tleVwiLCBcInN0cmluZ1wiLCBcInNxbGl0ZTNfZmlsZW5hbWVcIiwgXCJpbnRcIl0sXG4gICAgW1wic3FsaXRlM191cmlfcGFyYW1ldGVyXCIsIFwic3RyaW5nXCIsIFwic3FsaXRlM19maWxlbmFtZVwiLCBcInN0cmluZ1wiXSxcbiAgICBbXCJzcWxpdGUzX3VzZXJfZGF0YVwiLFwidm9pZCpcIiwgXCJzcWxpdGUzX2NvbnRleHQqXCJdLFxuICAgIFtcInNxbGl0ZTNfdmFsdWVfYmxvYlwiLCBcIipcIiwgXCJzcWxpdGUzX3ZhbHVlKlwiXSxcbiAgICBbXCJzcWxpdGUzX3ZhbHVlX2J5dGVzXCIsXCJpbnRcIiwgXCJzcWxpdGUzX3ZhbHVlKlwiXSxcbiAgICBbXCJzcWxpdGUzX3ZhbHVlX2RvdWJsZVwiLFwiZjY0XCIsIFwic3FsaXRlM192YWx1ZSpcIl0sXG4gICAgW1wic3FsaXRlM192YWx1ZV9kdXBcIiwgXCJzcWxpdGUzX3ZhbHVlKlwiLCBcInNxbGl0ZTNfdmFsdWUqXCJdLFxuICAgIFtcInNxbGl0ZTNfdmFsdWVfZnJlZVwiLCB1bmRlZmluZWQsIFwic3FsaXRlM192YWx1ZSpcIl0sXG4gICAgW1wic3FsaXRlM192YWx1ZV9mcm9tYmluZFwiLCBcImludFwiLCBcInNxbGl0ZTNfdmFsdWUqXCJdLFxuICAgIFtcInNxbGl0ZTNfdmFsdWVfaW50XCIsXCJpbnRcIiwgXCJzcWxpdGUzX3ZhbHVlKlwiXSxcbiAgICBbXCJzcWxpdGUzX3ZhbHVlX25vY2hhbmdlXCIsIFwiaW50XCIsIFwic3FsaXRlM192YWx1ZSpcIl0sXG4gICAgW1wic3FsaXRlM192YWx1ZV9udW1lcmljX3R5cGVcIiwgXCJpbnRcIiwgXCJzcWxpdGUzX3ZhbHVlKlwiXSxcbiAgICBbXCJzcWxpdGUzX3ZhbHVlX3BvaW50ZXJcIiwgXCIqXCIsIFwic3FsaXRlM192YWx1ZSpcIiwgXCJzdHJpbmc6c3RhdGljXCJdLFxuICAgIFtcInNxbGl0ZTNfdmFsdWVfc3VidHlwZVwiLCBcImludFwiLCBcInNxbGl0ZTNfdmFsdWUqXCJdLFxuICAgIFtcInNxbGl0ZTNfdmFsdWVfdGV4dFwiLCBcInN0cmluZ1wiLCBcInNxbGl0ZTNfdmFsdWUqXCJdLFxuICAgIFtcInNxbGl0ZTNfdmFsdWVfdHlwZVwiLCBcImludFwiLCBcInNxbGl0ZTNfdmFsdWUqXCJdLFxuICAgIFtcInNxbGl0ZTNfdmZzX2ZpbmRcIiwgXCIqXCIsIFwic3RyaW5nXCJdLFxuICAgIFtcInNxbGl0ZTNfdmZzX3JlZ2lzdGVyXCIsIFwiaW50XCIsIFwic3FsaXRlM192ZnMqXCIsIFwiaW50XCJdLFxuICAgIFtcInNxbGl0ZTNfdmZzX3VucmVnaXN0ZXJcIiwgXCJpbnRcIiwgXCJzcWxpdGUzX3ZmcypcIl1cbiAgXS8qd2FzbS5iaW5kaW5nU2lnbmF0dXJlcyovO1xuXG4gIGlmKGZhbHNlICYmIHdhc20uY29tcGlsZU9wdGlvblVzZWQoJ1NRTElURV9FTkFCTEVfTk9STUFMSVpFJykpe1xuICAgIC8qIF5eXiBcInRoZSBwcm9ibGVtXCIgaXMgdGhhdCB0aGlzIGlzIGFuIG9wdGlvbiBmZWF0dXJlIGFuZCB0aGVcbiAgICAgICBidWlsZC10aW1lIGZ1bmN0aW9uLWV4cG9ydCBsaXN0IGRvZXMgbm90IGN1cnJlbnRseSB0YWtlXG4gICAgICAgb3B0aW9uYWwgZmVhdHVyZXMgaW50byBhY2NvdW50LiAqL1xuICAgIHdhc20uYmluZGluZ1NpZ25hdHVyZXMucHVzaChbXCJzcWxpdGUzX25vcm1hbGl6ZWRfc3FsXCIsIFwic3RyaW5nXCIsIFwic3FsaXRlM19zdG10KlwiXSk7XG4gIH1cblxuICBpZih3YXNtLmV4cG9ydHMuc3FsaXRlM19hY3RpdmF0ZV9zZWUgaW5zdGFuY2VvZiBGdW5jdGlvbil7XG4gICAgd2FzbS5iaW5kaW5nU2lnbmF0dXJlcy5wdXNoKFxuICAgICAgW1wic3FsaXRlM19rZXlcIiwgXCJpbnRcIiwgXCJzcWxpdGUzKlwiLCBcInN0cmluZ1wiLCBcImludFwiXSxcbiAgICAgIFtcInNxbGl0ZTNfa2V5X3YyXCIsXCJpbnRcIixcInNxbGl0ZTMqXCIsXCJzdHJpbmdcIixcIipcIixcImludFwiXSxcbiAgICAgIFtcInNxbGl0ZTNfcmVrZXlcIiwgXCJpbnRcIiwgXCJzcWxpdGUzKlwiLCBcInN0cmluZ1wiLCBcImludFwiXSxcbiAgICAgIFtcInNxbGl0ZTNfcmVrZXlfdjJcIiwgXCJpbnRcIiwgXCJzcWxpdGUzKlwiLCBcInN0cmluZ1wiLCBcIipcIiwgXCJpbnRcIl0sXG4gICAgICBbXCJzcWxpdGUzX2FjdGl2YXRlX3NlZVwiLCB1bmRlZmluZWQsIFwic3RyaW5nXCJdXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICAgRnVuY3Rpb25zIHdoaWNoIHJlcXVpcmUgQmlnSW50IChpbnQ2NCkgc3VwcG9ydCBhcmUgc2VwYXJhdGVkIGZyb21cbiAgICAgdGhlIG90aGVycyBiZWNhdXNlIHdlIG5lZWQgdG8gY29uZGl0aW9uYWxseSBiaW5kIHRoZW0gb3IgYXBwbHlcbiAgICAgZHVtbXkgaW1wbHMsIGRlcGVuZGluZyBvbiB0aGUgY2FwYWJpbGl0aWVzIG9mIHRoZSBlbnZpcm9ubWVudC5cblxuICAgICBOb3RlIHRoYXQgbm90IGFsbCBvZiB0aGVzZSBmdW5jdGlvbnMgZGlyZWN0bHkgcmVxdWlyZSBpbnQ2NFxuICAgICBidXQgYXJlIG9ubHkgZm9yIHVzZSB3aXRoIEFQSXMgd2hpY2ggcmVxdWlyZSBpbnQ2NC4gRm9yIGV4YW1wbGUsXG4gICAgIHRoZSB2dGFiLXJlbGF0ZWQgZnVuY3Rpb25zLlxuICAqL1xuICB3YXNtLmJpbmRpbmdTaWduYXR1cmVzLmludDY0ID0gW1xuICAgIFtcInNxbGl0ZTNfYmluZF9pbnQ2NFwiLFwiaW50XCIsIFtcInNxbGl0ZTNfc3RtdCpcIiwgXCJpbnRcIiwgXCJpNjRcIl1dLFxuICAgIFtcInNxbGl0ZTNfY2hhbmdlczY0XCIsXCJpNjRcIiwgW1wic3FsaXRlMypcIl1dLFxuICAgIFtcInNxbGl0ZTNfY29sdW1uX2ludDY0XCIsXCJpNjRcIiwgW1wic3FsaXRlM19zdG10KlwiLCBcImludFwiXV0sXG4gICAgW1wic3FsaXRlM19jcmVhdGVfbW9kdWxlXCIsIFwiaW50XCIsXG4gICAgIFtcInNxbGl0ZTMqXCIsXCJzdHJpbmdcIixcInNxbGl0ZTNfbW9kdWxlKlwiLFwiKlwiXV0sXG4gICAgW1wic3FsaXRlM19jcmVhdGVfbW9kdWxlX3YyXCIsIFwiaW50XCIsXG4gICAgIFtcInNxbGl0ZTMqXCIsXCJzdHJpbmdcIixcInNxbGl0ZTNfbW9kdWxlKlwiLFwiKlwiLFwiKlwiXV0sXG4gICAgW1wic3FsaXRlM19kZWNsYXJlX3Z0YWJcIiwgXCJpbnRcIiwgW1wic3FsaXRlMypcIiwgXCJzdHJpbmc6ZmxleGlibGVcIl1dLFxuICAgIFtcInNxbGl0ZTNfZGVzZXJpYWxpemVcIiwgXCJpbnRcIiwgXCJzcWxpdGUzKlwiLCBcInN0cmluZ1wiLCBcIipcIiwgXCJpNjRcIiwgXCJpNjRcIiwgXCJpbnRcIl1cbiAgICAvKiBDYXJlZnVsISBTaG9ydCB2ZXJzaW9uOiBkZS9zZXJpYWxpemUoKSBhcmUgcHJvYmxlbWF0aWMgYmVjYXVzZSB0aGV5XG4gICAgICAgbWlnaHQgdXNlIGEgZGlmZmVyZW50IGFsbG9jYXRvciB0aGFuIHRoZSB1c2VyIGZvciBtYW5hZ2luZyB0aGVcbiAgICAgICBkZXNlcmlhbGl6ZWQgYmxvY2suIGRlL3NlcmlhbGl6ZSgpIGFyZSBPTkxZIHNhZmUgdG8gdXNlIHdpdGhcbiAgICAgICBzcWxpdGUzX21hbGxvYygpLCBzcWxpdGUzX2ZyZWUoKSwgYW5kIGl0cyA2NC1iaXQgdmFyaWFudHMuICovLFxuICAgIFtcInNxbGl0ZTNfZHJvcF9tb2R1bGVzXCIsIFwiaW50XCIsIFtcInNxbGl0ZTMqXCIsIFwiKipcIl1dLFxuICAgIFtcInNxbGl0ZTNfbGFzdF9pbnNlcnRfcm93aWRcIiwgXCJpNjRcIiwgW1wic3FsaXRlMypcIl1dLFxuICAgIFtcInNxbGl0ZTNfbWFsbG9jNjRcIiwgXCIqXCIsXCJpNjRcIl0sXG4gICAgW1wic3FsaXRlM19tc2l6ZVwiLCBcImk2NFwiLCBcIipcIl0sXG4gICAgW1wic3FsaXRlM19vdmVybG9hZF9mdW5jdGlvblwiLCBcImludFwiLCBbXCJzcWxpdGUzKlwiLFwic3RyaW5nXCIsXCJpbnRcIl1dLFxuICAgIFtcInNxbGl0ZTNfcHJldXBkYXRlX2Jsb2J3cml0ZVwiLCBcImludFwiLCBcInNxbGl0ZTMqXCJdLFxuICAgIFtcInNxbGl0ZTNfcHJldXBkYXRlX2NvdW50XCIsIFwiaW50XCIsIFwic3FsaXRlMypcIl0sXG4gICAgW1wic3FsaXRlM19wcmV1cGRhdGVfZGVwdGhcIiwgXCJpbnRcIiwgXCJzcWxpdGUzKlwiXSxcbiAgICBbXCJzcWxpdGUzX3ByZXVwZGF0ZV9ob29rXCIsIFwiKlwiLCBbXG4gICAgICBcInNxbGl0ZTMqXCIsXG4gICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7XG4gICAgICAgIG5hbWU6ICdzcWxpdGUzX3ByZXVwZGF0ZV9ob29rJyxcbiAgICAgICAgc2lnbmF0dXJlOiBcInYocHBpcHBqailcIixcbiAgICAgICAgY29udGV4dEtleTogKGFyZ3YpPT5hcmd2WzAvKiBzcWxpdGUzKiAqL10sXG4gICAgICAgIGNhbGxQcm94eTogKGNhbGxiYWNrKT0+e1xuICAgICAgICAgIHJldHVybiAocCxkYixvcCx6RGIselRibCxpS2V5MSxpS2V5Mik9PntcbiAgICAgICAgICAgIGNhbGxiYWNrKHAsIGRiLCBvcCwgd2FzbS5jc3RyVG9Kcyh6RGIpLCB3YXNtLmNzdHJUb0pzKHpUYmwpLFxuICAgICAgICAgICAgICAgICAgICAgaUtleTEsIGlLZXkyKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFwiKlwiXG4gICAgXV0sXG4gICAgW1wic3FsaXRlM19wcmV1cGRhdGVfbmV3XCIsIFwiaW50XCIsIFtcInNxbGl0ZTMqXCIsIFwiaW50XCIsIFwiKipcIl1dLFxuICAgIFtcInNxbGl0ZTNfcHJldXBkYXRlX29sZFwiLCBcImludFwiLCBbXCJzcWxpdGUzKlwiLCBcImludFwiLCBcIioqXCJdXSxcbiAgICBbXCJzcWxpdGUzX3JlYWxsb2M2NFwiLCBcIipcIixcIipcIiwgXCJpNjRcIl0sXG4gICAgW1wic3FsaXRlM19yZXN1bHRfaW50NjRcIiwgdW5kZWZpbmVkLCBcIipcIiwgXCJpNjRcIl0sXG4gICAgW1wic3FsaXRlM19yZXN1bHRfemVyb2Jsb2I2NFwiLCBcImludFwiLCBcIipcIiwgXCJpNjRcIl0sXG4gICAgW1wic3FsaXRlM19zZXJpYWxpemVcIixcIipcIiwgXCJzcWxpdGUzKlwiLCBcInN0cmluZ1wiLCBcIipcIiwgXCJpbnRcIl0sXG4gICAgW1wic3FsaXRlM19zZXRfbGFzdF9pbnNlcnRfcm93aWRcIiwgdW5kZWZpbmVkLCBbXCJzcWxpdGUzKlwiLCBcImk2NFwiXV0sXG4gICAgW1wic3FsaXRlM19zdGF0dXM2NFwiLCBcImludFwiLCBcImludFwiLCBcIipcIiwgXCIqXCIsIFwiaW50XCJdLFxuICAgIFtcInNxbGl0ZTNfdG90YWxfY2hhbmdlczY0XCIsIFwiaTY0XCIsIFtcInNxbGl0ZTMqXCJdXSxcbiAgICBbXCJzcWxpdGUzX3VwZGF0ZV9ob29rXCIsIFwiKlwiLCBbXG4gICAgICBcInNxbGl0ZTMqXCIsXG4gICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7XG4gICAgICAgIG5hbWU6ICdzcWxpdGUzX3VwZGF0ZV9ob29rJyxcbiAgICAgICAgc2lnbmF0dXJlOiBcInYoaWlwcGopXCIsXG4gICAgICAgIGNvbnRleHRLZXk6IChhcmd2KT0+YXJndlswLyogc3FsaXRlMyogKi9dLFxuICAgICAgICBjYWxsUHJveHk6IChjYWxsYmFjayk9PntcbiAgICAgICAgICByZXR1cm4gKHAsb3AsejAsejEscm93aWQpPT57XG4gICAgICAgICAgICBjYWxsYmFjayhwLCBvcCwgd2FzbS5jc3RyVG9Kcyh6MCksIHdhc20uY3N0clRvSnMoejEpLCByb3dpZCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBcIipcIlxuICAgIF1dLFxuICAgIFtcInNxbGl0ZTNfdXJpX2ludDY0XCIsIFwiaTY0XCIsIFtcInNxbGl0ZTNfZmlsZW5hbWVcIiwgXCJzdHJpbmdcIiwgXCJpNjRcIl1dLFxuICAgIFtcInNxbGl0ZTNfdmFsdWVfaW50NjRcIixcImk2NFwiLCBcInNxbGl0ZTNfdmFsdWUqXCJdLFxuICAgIFtcInNxbGl0ZTNfdnRhYl9jb2xsYXRpb25cIixcInN0cmluZ1wiLFwic3FsaXRlM19pbmRleF9pbmZvKlwiLFwiaW50XCJdLFxuICAgIFtcInNxbGl0ZTNfdnRhYl9kaXN0aW5jdFwiLFwiaW50XCIsIFwic3FsaXRlM19pbmRleF9pbmZvKlwiXSxcbiAgICBbXCJzcWxpdGUzX3Z0YWJfaW5cIixcImludFwiLCBcInNxbGl0ZTNfaW5kZXhfaW5mbypcIiwgXCJpbnRcIiwgXCJpbnRcIl0sXG4gICAgW1wic3FsaXRlM192dGFiX2luX2ZpcnN0XCIsIFwiaW50XCIsIFwic3FsaXRlM192YWx1ZSpcIiwgXCIqKlwiXSxcbiAgICBbXCJzcWxpdGUzX3Z0YWJfaW5fbmV4dFwiLCBcImludFwiLCBcInNxbGl0ZTNfdmFsdWUqXCIsIFwiKipcIl0sXG4gICAgLypbXCJzcWxpdGUzX3Z0YWJfY29uZmlnXCIgaXMgdmFyaWFkaWMgYW5kIHJlcXVpcmVzIGEgaGFuZC13cml0dGVuXG4gICAgICBwcm94eS5dICovXG4gICAgW1wic3FsaXRlM192dGFiX25vY2hhbmdlXCIsXCJpbnRcIiwgXCJzcWxpdGUzX2NvbnRleHQqXCJdLFxuICAgIFtcInNxbGl0ZTNfdnRhYl9vbl9jb25mbGljdFwiLFwiaW50XCIsIFwic3FsaXRlMypcIl0sXG4gICAgW1wic3FsaXRlM192dGFiX3Joc192YWx1ZVwiLFwiaW50XCIsIFwic3FsaXRlM19pbmRleF9pbmZvKlwiLCBcImludFwiLCBcIioqXCJdXG4gIF07XG5cbiAgLy8gQWRkIHNlc3Npb24vY2hhbmdlc2V0IEFQSXMuLi5cbiAgaWYod2FzbS5iaWdJbnRFbmFibGVkICYmICEhd2FzbS5leHBvcnRzLnNxbGl0ZTNjaGFuZ2Vncm91cF9hZGQpe1xuICAgIC8qIEFDSFRVTkc6IDIwMjItMTItMjM6IHRoZSBzZXNzaW9uL2NoYW5nZXNldCBBUEkgYmluZGluZ3MgYXJlXG4gICAgICAgQ09NUExFVEVMWSBVTlRFU1RFRC4gKi9cbiAgICAvKipcbiAgICAgICBGdW5jUHRyQWRhcHRlciBvcHRpb25zIGZvciBzZXNzaW9uLXJlbGF0ZWQgY2FsbGJhY2tzIHdpdGggdGhlXG4gICAgICAgbmF0aXZlIHNpZ25hdHVyZSBcImkocHMpXCIuIFRoaXMgcHJveHkgY29udmVydHMgdGhlIDJuZCBhcmd1bWVudFxuICAgICAgIGZyb20gYSBDIHN0cmluZyB0byBhIEpTIHN0cmluZyBiZWZvcmUgcGFzc2luZyB0aGUgYXJndW1lbnRzIG9uXG4gICAgICAgdG8gdGhlIGNsaWVudC1wcm92aWRlZCBKUyBjYWxsYmFjay5cbiAgICAqL1xuICAgIGNvbnN0IF9faXBzUHJveHkgPSB7XG4gICAgICBzaWduYXR1cmU6ICdpKHBzKScsXG4gICAgICBjYWxsUHJveHk6KGNhbGxiYWNrKT0+e1xuICAgICAgICByZXR1cm4gKHAscyk9PntcbiAgICAgICAgICB0cnl7cmV0dXJuIGNhbGxiYWNrKHAsIHdhc20uY3N0clRvSnMocykpIHwgMH1cbiAgICAgICAgICBjYXRjaChlKXtyZXR1cm4gZS5yZXN1bHRDb2RlIHx8IGNhcGkuU1FMSVRFX0VSUk9SfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdhc20uYmluZGluZ1NpZ25hdHVyZXMuaW50NjQucHVzaCguLi5bXG4gICAgICBbJ3NxbGl0ZTNjaGFuZ2Vncm91cF9hZGQnLCAnaW50JywgWydzcWxpdGUzX2NoYW5nZWdyb3VwKicsICdpbnQnLCAndm9pZConXV0sXG4gICAgICBbJ3NxbGl0ZTNjaGFuZ2Vncm91cF9hZGRfc3RybScsICdpbnQnLCBbXG4gICAgICAgICdzcWxpdGUzX2NoYW5nZWdyb3VwKicsXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtcbiAgICAgICAgICBuYW1lOiAneElucHV0Jywgc2lnbmF0dXJlOiAnaShwcHApJywgYmluZFNjb3BlOiAndHJhbnNpZW50J1xuICAgICAgICB9KSxcbiAgICAgICAgJ3ZvaWQqJ1xuICAgICAgXV0sXG4gICAgICBbJ3NxbGl0ZTNjaGFuZ2Vncm91cF9kZWxldGUnLCB1bmRlZmluZWQsIFsnc3FsaXRlM19jaGFuZ2Vncm91cConXV0sXG4gICAgICBbJ3NxbGl0ZTNjaGFuZ2Vncm91cF9uZXcnLCAnaW50JywgWycqKiddXSxcbiAgICAgIFsnc3FsaXRlM2NoYW5nZWdyb3VwX291dHB1dCcsICdpbnQnLCBbJ3NxbGl0ZTNfY2hhbmdlZ3JvdXAqJywgJ2ludConLCAnKionXV0sXG4gICAgICBbJ3NxbGl0ZTNjaGFuZ2Vncm91cF9vdXRwdXRfc3RybScsICdpbnQnLCBbXG4gICAgICAgICdzcWxpdGUzX2NoYW5nZWdyb3VwKicsXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtcbiAgICAgICAgICBuYW1lOiAneE91dHB1dCcsIHNpZ25hdHVyZTogJ2kocHBpKScsIGJpbmRTY29wZTogJ3RyYW5zaWVudCdcbiAgICAgICAgfSksXG4gICAgICAgICd2b2lkKidcbiAgICAgIF1dLFxuICAgICAgWydzcWxpdGUzY2hhbmdlc2V0X2FwcGx5JywgJ2ludCcsIFtcbiAgICAgICAgJ3NxbGl0ZTMqJywgJ2ludCcsICd2b2lkKicsXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtcbiAgICAgICAgICBuYW1lOiAneEZpbHRlcicsIGJpbmRTY29wZTogJ3RyYW5zaWVudCcsIC4uLl9faXBzUHJveHlcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtcbiAgICAgICAgICBuYW1lOiAneENvbmZsaWN0Jywgc2lnbmF0dXJlOiAnaShwaXApJywgYmluZFNjb3BlOiAndHJhbnNpZW50J1xuICAgICAgICB9KSxcbiAgICAgICAgJ3ZvaWQqJ1xuICAgICAgXV0sXG4gICAgICBbJ3NxbGl0ZTNjaGFuZ2VzZXRfYXBwbHlfc3RybScsICdpbnQnLCBbXG4gICAgICAgICdzcWxpdGUzKicsXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtcbiAgICAgICAgICBuYW1lOiAneElucHV0Jywgc2lnbmF0dXJlOiAnaShwcHApJywgYmluZFNjb3BlOiAndHJhbnNpZW50J1xuICAgICAgICB9KSxcbiAgICAgICAgJ3ZvaWQqJyxcbiAgICAgICAgbmV3IHdhc20ueFdyYXAuRnVuY1B0ckFkYXB0ZXIoe1xuICAgICAgICAgIG5hbWU6ICd4RmlsdGVyJywgYmluZFNjb3BlOiAndHJhbnNpZW50JywgLi4uX19pcHNQcm94eVxuICAgICAgICB9KSxcbiAgICAgICAgbmV3IHdhc20ueFdyYXAuRnVuY1B0ckFkYXB0ZXIoe1xuICAgICAgICAgIG5hbWU6ICd4Q29uZmxpY3QnLCBzaWduYXR1cmU6ICdpKHBpcCknLCBiaW5kU2NvcGU6ICd0cmFuc2llbnQnXG4gICAgICAgIH0pLFxuICAgICAgICAndm9pZConXG4gICAgICBdXSxcbiAgICAgIFsnc3FsaXRlM2NoYW5nZXNldF9hcHBseV92MicsICdpbnQnLCBbXG4gICAgICAgICdzcWxpdGUzKicsICdpbnQnLCAndm9pZConLFxuICAgICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7XG4gICAgICAgICAgbmFtZTogJ3hGaWx0ZXInLCBiaW5kU2NvcGU6ICd0cmFuc2llbnQnLCAuLi5fX2lwc1Byb3h5XG4gICAgICAgIH0pLFxuICAgICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7XG4gICAgICAgICAgbmFtZTogJ3hDb25mbGljdCcsIHNpZ25hdHVyZTogJ2kocGlwKScsIGJpbmRTY29wZTogJ3RyYW5zaWVudCdcbiAgICAgICAgfSksXG4gICAgICAgICd2b2lkKicsICcqKicsICdpbnQqJywgJ2ludCdcblxuICAgICAgXV0sXG4gICAgICBbJ3NxbGl0ZTNjaGFuZ2VzZXRfYXBwbHlfdjJfc3RybScsICdpbnQnLCBbXG4gICAgICAgICdzcWxpdGUzKicsXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtcbiAgICAgICAgICBuYW1lOiAneElucHV0Jywgc2lnbmF0dXJlOiAnaShwcHApJywgYmluZFNjb3BlOiAndHJhbnNpZW50J1xuICAgICAgICB9KSxcbiAgICAgICAgJ3ZvaWQqJyxcbiAgICAgICAgbmV3IHdhc20ueFdyYXAuRnVuY1B0ckFkYXB0ZXIoe1xuICAgICAgICAgIG5hbWU6ICd4RmlsdGVyJywgYmluZFNjb3BlOiAndHJhbnNpZW50JywgLi4uX19pcHNQcm94eVxuICAgICAgICB9KSxcbiAgICAgICAgbmV3IHdhc20ueFdyYXAuRnVuY1B0ckFkYXB0ZXIoe1xuICAgICAgICAgIG5hbWU6ICd4Q29uZmxpY3QnLCBzaWduYXR1cmU6ICdpKHBpcCknLCBiaW5kU2NvcGU6ICd0cmFuc2llbnQnXG4gICAgICAgIH0pLFxuICAgICAgICAndm9pZConLCAnKionLCAnaW50KicsICdpbnQnXG4gICAgICBdXSxcbiAgICAgIFsnc3FsaXRlM2NoYW5nZXNldF9jb25jYXQnLCAnaW50JywgWydpbnQnLCd2b2lkKicsICdpbnQnLCAndm9pZConLCAnaW50KicsICcqKiddXSxcbiAgICAgIFsnc3FsaXRlM2NoYW5nZXNldF9jb25jYXRfc3RybScsICdpbnQnLCBbXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtcbiAgICAgICAgICBuYW1lOiAneElucHV0QScsIHNpZ25hdHVyZTogJ2kocHBwKScsIGJpbmRTY29wZTogJ3RyYW5zaWVudCdcbiAgICAgICAgfSksXG4gICAgICAgICd2b2lkKicsXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtcbiAgICAgICAgICBuYW1lOiAneElucHV0QicsIHNpZ25hdHVyZTogJ2kocHBwKScsIGJpbmRTY29wZTogJ3RyYW5zaWVudCdcbiAgICAgICAgfSksXG4gICAgICAgICd2b2lkKicsXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtcbiAgICAgICAgICBuYW1lOiAneE91dHB1dCcsIHNpZ25hdHVyZTogJ2kocHBpKScsIGJpbmRTY29wZTogJ3RyYW5zaWVudCdcbiAgICAgICAgfSksXG4gICAgICAgICd2b2lkKidcbiAgICAgIF1dLFxuICAgICAgWydzcWxpdGUzY2hhbmdlc2V0X2NvbmZsaWN0JywgJ2ludCcsIFsnc3FsaXRlM19jaGFuZ2VzZXRfaXRlcionLCAnaW50JywgJyoqJ11dLFxuICAgICAgWydzcWxpdGUzY2hhbmdlc2V0X2ZpbmFsaXplJywgJ2ludCcsIFsnc3FsaXRlM19jaGFuZ2VzZXRfaXRlcionXV0sXG4gICAgICBbJ3NxbGl0ZTNjaGFuZ2VzZXRfZmtfY29uZmxpY3RzJywgJ2ludCcsIFsnc3FsaXRlM19jaGFuZ2VzZXRfaXRlcionLCAnaW50KiddXSxcbiAgICAgIFsnc3FsaXRlM2NoYW5nZXNldF9pbnZlcnQnLCAnaW50JywgWydpbnQnLCAndm9pZConLCAnaW50KicsICcqKiddXSxcbiAgICAgIFsnc3FsaXRlM2NoYW5nZXNldF9pbnZlcnRfc3RybScsICdpbnQnLCBbXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtcbiAgICAgICAgICBuYW1lOiAneElucHV0Jywgc2lnbmF0dXJlOiAnaShwcHApJywgYmluZFNjb3BlOiAndHJhbnNpZW50J1xuICAgICAgICB9KSxcbiAgICAgICAgJ3ZvaWQqJyxcbiAgICAgICAgbmV3IHdhc20ueFdyYXAuRnVuY1B0ckFkYXB0ZXIoe1xuICAgICAgICAgIG5hbWU6ICd4T3V0cHV0Jywgc2lnbmF0dXJlOiAnaShwcGkpJywgYmluZFNjb3BlOiAndHJhbnNpZW50J1xuICAgICAgICB9KSxcbiAgICAgICAgJ3ZvaWQqJ1xuICAgICAgXV0sXG4gICAgICBbJ3NxbGl0ZTNjaGFuZ2VzZXRfbmV3JywgJ2ludCcsIFsnc3FsaXRlM19jaGFuZ2VzZXRfaXRlcionLCAnaW50JywgJyoqJ11dLFxuICAgICAgWydzcWxpdGUzY2hhbmdlc2V0X25leHQnLCAnaW50JywgWydzcWxpdGUzX2NoYW5nZXNldF9pdGVyKiddXSxcbiAgICAgIFsnc3FsaXRlM2NoYW5nZXNldF9vbGQnLCAnaW50JywgWydzcWxpdGUzX2NoYW5nZXNldF9pdGVyKicsICdpbnQnLCAnKionXV0sXG4gICAgICBbJ3NxbGl0ZTNjaGFuZ2VzZXRfb3AnLCAnaW50JywgW1xuICAgICAgICAnc3FsaXRlM19jaGFuZ2VzZXRfaXRlcionLCAnKionLCAnaW50KicsICdpbnQqJywnaW50KidcbiAgICAgIF1dLFxuICAgICAgWydzcWxpdGUzY2hhbmdlc2V0X3BrJywgJ2ludCcsIFsnc3FsaXRlM19jaGFuZ2VzZXRfaXRlcionLCAnKionLCAnaW50KiddXSxcbiAgICAgIFsnc3FsaXRlM2NoYW5nZXNldF9zdGFydCcsICdpbnQnLCBbJyoqJywgJ2ludCcsICcqJ11dLFxuICAgICAgWydzcWxpdGUzY2hhbmdlc2V0X3N0YXJ0X3N0cm0nLCAnaW50JywgW1xuICAgICAgICAnKionLFxuICAgICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7XG4gICAgICAgICAgbmFtZTogJ3hJbnB1dCcsIHNpZ25hdHVyZTogJ2kocHBwKScsIGJpbmRTY29wZTogJ3RyYW5zaWVudCdcbiAgICAgICAgfSksXG4gICAgICAgICd2b2lkKidcbiAgICAgIF1dLFxuICAgICAgWydzcWxpdGUzY2hhbmdlc2V0X3N0YXJ0X3YyJywgJ2ludCcsIFsnKionLCAnaW50JywgJyonLCAnaW50J11dLFxuICAgICAgWydzcWxpdGUzY2hhbmdlc2V0X3N0YXJ0X3YyX3N0cm0nLCAnaW50JywgW1xuICAgICAgICAnKionLFxuICAgICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7XG4gICAgICAgICAgbmFtZTogJ3hJbnB1dCcsIHNpZ25hdHVyZTogJ2kocHBwKScsIGJpbmRTY29wZTogJ3RyYW5zaWVudCdcbiAgICAgICAgfSksXG4gICAgICAgICd2b2lkKicsICdpbnQnXG4gICAgICBdXSxcbiAgICAgIFsnc3FsaXRlM3Nlc3Npb25fYXR0YWNoJywgJ2ludCcsIFsnc3FsaXRlM19zZXNzaW9uKicsICdzdHJpbmcnXV0sXG4gICAgICBbJ3NxbGl0ZTNzZXNzaW9uX2NoYW5nZXNldCcsICdpbnQnLCBbJ3NxbGl0ZTNfc2Vzc2lvbionLCAnaW50KicsICcqKiddXSxcbiAgICAgIFsnc3FsaXRlM3Nlc3Npb25fY2hhbmdlc2V0X3NpemUnLCAnaTY0JywgWydzcWxpdGUzX3Nlc3Npb24qJ11dLFxuICAgICAgWydzcWxpdGUzc2Vzc2lvbl9jaGFuZ2VzZXRfc3RybScsICdpbnQnLCBbXG4gICAgICAgICdzcWxpdGUzX3Nlc3Npb24qJyxcbiAgICAgICAgbmV3IHdhc20ueFdyYXAuRnVuY1B0ckFkYXB0ZXIoe1xuICAgICAgICAgIG5hbWU6ICd4T3V0cHV0Jywgc2lnbmF0dXJlOiAnaShwcHApJywgYmluZFNjb3BlOiAndHJhbnNpZW50J1xuICAgICAgICB9KSxcbiAgICAgICAgJ3ZvaWQqJ1xuICAgICAgXV0sXG4gICAgICBbJ3NxbGl0ZTNzZXNzaW9uX2NvbmZpZycsICdpbnQnLCBbJ2ludCcsICd2b2lkKiddXSxcbiAgICAgIFsnc3FsaXRlM3Nlc3Npb25fY3JlYXRlJywgJ2ludCcsIFsnc3FsaXRlMyonLCAnc3RyaW5nJywgJyoqJ11dLFxuICAgICAgLy9zcWxpdGUzc2Vzc2lvbl9kZWxldGUoKSBpcyBib3VuZCBtYW51YWxseVxuICAgICAgWydzcWxpdGUzc2Vzc2lvbl9kaWZmJywgJ2ludCcsIFsnc3FsaXRlM19zZXNzaW9uKicsICdzdHJpbmcnLCAnc3RyaW5nJywgJyoqJ11dLFxuICAgICAgWydzcWxpdGUzc2Vzc2lvbl9lbmFibGUnLCAnaW50JywgWydzcWxpdGUzX3Nlc3Npb24qJywgJ2ludCddXSxcbiAgICAgIFsnc3FsaXRlM3Nlc3Npb25faW5kaXJlY3QnLCAnaW50JywgWydzcWxpdGUzX3Nlc3Npb24qJywgJ2ludCddXSxcbiAgICAgIFsnc3FsaXRlM3Nlc3Npb25faXNlbXB0eScsICdpbnQnLCBbJ3NxbGl0ZTNfc2Vzc2lvbionXV0sXG4gICAgICBbJ3NxbGl0ZTNzZXNzaW9uX21lbW9yeV91c2VkJywgJ2k2NCcsIFsnc3FsaXRlM19zZXNzaW9uKiddXSxcbiAgICAgIFsnc3FsaXRlM3Nlc3Npb25fb2JqZWN0X2NvbmZpZycsICdpbnQnLCBbJ3NxbGl0ZTNfc2Vzc2lvbionLCAnaW50JywgJ3ZvaWQqJ11dLFxuICAgICAgWydzcWxpdGUzc2Vzc2lvbl9wYXRjaHNldCcsICdpbnQnLCBbJ3NxbGl0ZTNfc2Vzc2lvbionLCAnKicsICcqKiddXSxcbiAgICAgIFsnc3FsaXRlM3Nlc3Npb25fcGF0Y2hzZXRfc3RybScsICdpbnQnLCBbXG4gICAgICAgICdzcWxpdGUzX3Nlc3Npb24qJyxcbiAgICAgICAgbmV3IHdhc20ueFdyYXAuRnVuY1B0ckFkYXB0ZXIoe1xuICAgICAgICAgIG5hbWU6ICd4T3V0cHV0Jywgc2lnbmF0dXJlOiAnaShwcHApJywgYmluZFNjb3BlOiAndHJhbnNpZW50J1xuICAgICAgICB9KSxcbiAgICAgICAgJ3ZvaWQqJ1xuICAgICAgXV0sXG4gICAgICBbJ3NxbGl0ZTNzZXNzaW9uX3RhYmxlX2ZpbHRlcicsIHVuZGVmaW5lZCwgW1xuICAgICAgICAnc3FsaXRlM19zZXNzaW9uKicsXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtcbiAgICAgICAgICBuYW1lOiAneEZpbHRlcicsIC4uLl9faXBzUHJveHksXG4gICAgICAgICAgY29udGV4dEtleTogKGFyZ3YsYXJnSW5kZXgpPT5hcmd2WzAvKiAoc3FsaXRlM19zZXNzaW9uKikgKi9dXG4gICAgICAgIH0pLFxuICAgICAgICAnKidcbiAgICAgIF1dXG4gICAgXSk7XG4gIH0vKnNlc3Npb24vY2hhbmdlc2V0IEFQSXMqL1xuXG4gIC8qKlxuICAgICBGdW5jdGlvbnMgd2hpY2ggYXJlIGludGVuZGVkIHNvbGVseSBmb3IgQVBJLWludGVybmFsIHVzZSBieSB0aGVcbiAgICAgV0FTTSBjb21wb25lbnRzLCBub3QgY2xpZW50IGNvZGUuIFRoZXNlIGdldCBpbnN0YWxsZWQgaW50b1xuICAgICBzcWxpdGUzLndhc20uIFNvbWUgb2YgdGhlbSBnZXQgZXhwb3NlZCB0byBjbGllbnRzIHZpYSB2YXJpYW50c1xuICAgICBuYW1lZCBzcWxpdGUzX2pzXy4uLigpLlxuICAqL1xuICB3YXNtLmJpbmRpbmdTaWduYXR1cmVzLndhc20gPSBbXG4gICAgW1wic3FsaXRlM193YXNtX2RiX3Jlc2V0XCIsIFwiaW50XCIsIFwic3FsaXRlMypcIl0sXG4gICAgW1wic3FsaXRlM193YXNtX2RiX3Zmc1wiLCBcInNxbGl0ZTNfdmZzKlwiLCBcInNxbGl0ZTMqXCIsXCJzdHJpbmdcIl0sXG4gICAgW1wic3FsaXRlM193YXNtX3Zmc19jcmVhdGVfZmlsZVwiLCBcImludFwiLFxuICAgICBcInNxbGl0ZTNfdmZzKlwiLFwic3RyaW5nXCIsXCIqXCIsIFwiaW50XCJdLFxuICAgIFtcInNxbGl0ZTNfd2FzbV92ZnNfdW5saW5rXCIsIFwiaW50XCIsIFwic3FsaXRlM192ZnMqXCIsXCJzdHJpbmdcIl1cbiAgXTtcblxuICAvKipcbiAgICAgSW5zdGFsbCBKUzwtPkMgc3RydWN0IGJpbmRpbmdzIGZvciB0aGUgbm9uLW9wYXF1ZSBzdHJ1Y3QgdHlwZXMgd2VcbiAgICAgbmVlZC4uLiAqL1xuICBzcWxpdGUzLlN0cnVjdEJpbmRlciA9IGdsb2JhbFRoaXMuSmFjY3dhYnl0KHtcbiAgICBoZWFwOiAwID8gd2FzbS5tZW1vcnkgOiB3YXNtLmhlYXA4dSxcbiAgICBhbGxvYzogd2FzbS5hbGxvYyxcbiAgICBkZWFsbG9jOiB3YXNtLmRlYWxsb2MsXG4gICAgYmlnSW50RW5hYmxlZDogd2FzbS5iaWdJbnRFbmFibGVkLFxuICAgIG1lbWJlclByZWZpeDogLyogTmV2ZXIgY2hhbmdlIHRoaXM6IHRoaXMgcHJlZml4IGlzIGJha2VkIGludG8gYW55XG4gICAgICAgICAgICAgICAgICAgICBhbW91bnQgb2YgY29kZSBhbmQgY2xpZW50LWZhY2luZyBkb2NzLiAqLyAnJCdcbiAgfSk7XG4gIGRlbGV0ZSBnbG9iYWxUaGlzLkphY2N3YWJ5dDtcblxuICB7Ly8gd2FzbS54V3JhcCgpIGJpbmRpbmdzLi4uXG5cbiAgICAvKiBDb252ZXJ0IEFycmF5cyBhbmQgY2VydGFpbiBUeXBlZEFycmF5cyB0byBzdHJpbmdzIGZvclxuICAgICAgICdzdHJpbmc6ZmxleGlibGUnLXR5cGUgYXJndW1lbnRzICovXG4gICAgY29uc3QgX194U3RyaW5nID0gd2FzbS54V3JhcC5hcmdBZGFwdGVyKCdzdHJpbmcnKTtcbiAgICB3YXNtLnhXcmFwLmFyZ0FkYXB0ZXIoXG4gICAgICAnc3RyaW5nOmZsZXhpYmxlJywgKHYpPT5fX3hTdHJpbmcodXRpbC5mbGV4aWJsZVN0cmluZyh2KSlcbiAgICApO1xuXG4gICAgLyoqXG4gICAgICAgVGhlICdzdHJpbmc6c3RhdGljJyBhcmd1bWVudCBhZGFwdGVyIHRyZWF0cyBpdHMgYXJndW1lbnQgYXNcbiAgICAgICBlaXRoZXIuLi5cblxuICAgICAgIC0gV0FTTSBwb2ludGVyOiBhc3N1bWVkIHRvIGJlIGEgbG9uZy1saXZlZCBDLXN0cmluZyB3aGljaCBnZXRzXG4gICAgICAgICByZXR1cm5lZCBhcy1pcy5cblxuICAgICAgIC0gQW55dGhpbmcgZWxzZTogZ2V0cyBjb2VyY2VkIHRvIGEgSlMgc3RyaW5nIGZvciB1c2UgYXMgYSBtYXBcbiAgICAgICAgIGtleS4gSWYgYSBtYXRjaGluZyBlbnRyeSBpcyBmb3VuZCAoYXMgZGVzY3JpYmVkIG5leHQpLCBpdCBpc1xuICAgICAgICAgcmV0dXJuZWQsIGVsc2Ugd2FzbS5hbGxvY0NTdHJpbmcoKSBpcyB1c2VkIHRvIGNyZWF0ZSBhIGEgbmV3XG4gICAgICAgICBzdHJpbmcsIG1hcCBpdHMgcG9pbnRlciB0byAoJycrdikgZm9yIHRoZSByZW1haW5kZXIgb2YgdGhlXG4gICAgICAgICBhcHBsaWNhdGlvbidzIGxpZmUsIGFuZCByZXR1cm5zIHRoYXQgcG9pbnRlciB2YWx1ZSBmb3IgdGhpc1xuICAgICAgICAgY2FsbCBhbmQgYWxsIGZ1dHVyZSBjYWxscyB3aGljaCBhcmUgcGFzc2VkIGFcbiAgICAgICAgIHN0cmluZy1lcXVpdmFsZW50IGFyZ3VtZW50LlxuXG4gICAgICAgVXNlIGNhc2U6IHNxbGl0ZTNfYmluZF9wb2ludGVyKCkgYW5kIHNxbGl0ZTNfcmVzdWx0X3BvaW50ZXIoKVxuICAgICAgIGNhbGwgZm9yIFwiYSBzdGF0aWMgc3RyaW5nIGFuZCBwcmVmZXJhYmx5IGEgc3RyaW5nXG4gICAgICAgbGl0ZXJhbFwiLiBUaGlzIGNvbnZlcnRlciBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IHRoZSBzdHJpbmdcbiAgICAgICB2YWx1ZSBzZWVuIGJ5IHRob3NlIGZ1bmN0aW9ucyBpcyBsb25nLWxpdmVkIGFuZCBiZWhhdmVzIGFzIHRoZXlcbiAgICAgICBuZWVkIGl0IHRvLlxuICAgICovXG4gICAgd2FzbS54V3JhcC5hcmdBZGFwdGVyKFxuICAgICAgJ3N0cmluZzpzdGF0aWMnLFxuICAgICAgZnVuY3Rpb24odil7XG4gICAgICAgIGlmKHdhc20uaXNQdHIodikpIHJldHVybiB2O1xuICAgICAgICB2ID0gJycrdjtcbiAgICAgICAgbGV0IHJjID0gdGhpc1t2XTtcbiAgICAgICAgcmV0dXJuIHJjIHx8ICh0aGlzW3ZdID0gd2FzbS5hbGxvY0NTdHJpbmcodikpO1xuICAgICAgfS5iaW5kKE9iamVjdC5jcmVhdGUobnVsbCkpXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAgIEFkZCBzb21lIGRlc2NyaXB0aXZlIHhXcmFwKCkgYWxpYXNlcyBmb3IgJyonIGludGVuZGVkIHRvIChBKVxuICAgICAgIGluaXRpYWxseSBpbXByb3ZlIHJlYWRhYmlsaXR5L2NvcnJlY3RuZXNzIG9mXG4gICAgICAgd2FzbS5iaW5kaW5nU2lnbmF0dXJlcyBhbmQgKEIpIHByb3ZpZGUgYXV0b21hdGljIGNvbnZlcnNpb25cbiAgICAgICBmcm9tIGhpZ2hlci1sZXZlbCByZXByZXNlbnRhdGlvbnMsIGUuZy4gY2FwaS5zcWxpdGUzX3ZmcyB0b1xuICAgICAgIGBzcWxpdGUzX3ZmcypgIHZpYSBjYXBpLnNxbGl0ZTNfdmZzLnBvaW50ZXIuXG4gICAgKi9cbiAgICBjb25zdCBfX3hBcmdQdHIgPSB3YXNtLnhXcmFwLmFyZ0FkYXB0ZXIoJyonKTtcbiAgICBjb25zdCBuaWxUeXBlID0gZnVuY3Rpb24oKXt9LyphIGNsYXNzIG5vIHZhbHVlIGNhbiBldmVyIGJlIGFuIGluc3RhbmNlIG9mKi87XG4gICAgd2FzbS54V3JhcC5hcmdBZGFwdGVyKCdzcWxpdGUzX2ZpbGVuYW1lJywgX194QXJnUHRyKVxuICAgICgnc3FsaXRlM19jb250ZXh0KicsIF9feEFyZ1B0cilcbiAgICAoJ3NxbGl0ZTNfdmFsdWUqJywgX194QXJnUHRyKVxuICAgICgndm9pZConLCBfX3hBcmdQdHIpXG4gICAgKCdzcWxpdGUzX2NoYW5nZWdyb3VwKicsIF9feEFyZ1B0cilcbiAgICAoJ3NxbGl0ZTNfY2hhbmdlc2V0X2l0ZXIqJywgX194QXJnUHRyKVxuICAgIC8vKCdzcWxpdGUzX3JlYmFzZXIqJywgX194QXJnUHRyKVxuICAgICgnc3FsaXRlM19zZXNzaW9uKicsIF9feEFyZ1B0cilcbiAgICAoJ3NxbGl0ZTNfc3RtdConLCAodik9PlxuICAgICAgX194QXJnUHRyKCh2IGluc3RhbmNlb2YgKHNxbGl0ZTM/Lm9vMT8uU3RtdCB8fCBuaWxUeXBlKSlcbiAgICAgICAgICAgPyB2LnBvaW50ZXIgOiB2KSlcbiAgICAoJ3NxbGl0ZTMqJywgKHYpPT5cbiAgICAgIF9feEFyZ1B0cigodiBpbnN0YW5jZW9mIChzcWxpdGUzPy5vbzE/LkRCIHx8IG5pbFR5cGUpKVxuICAgICAgICAgICA/IHYucG9pbnRlciA6IHYpKVxuICAgICgnc3FsaXRlM19pbmRleF9pbmZvKicsICh2KT0+XG4gICAgICBfX3hBcmdQdHIoKHYgaW5zdGFuY2VvZiAoY2FwaS5zcWxpdGUzX2luZGV4X2luZm8gfHwgbmlsVHlwZSkpXG4gICAgICAgICAgID8gdi5wb2ludGVyIDogdikpXG4gICAgKCdzcWxpdGUzX21vZHVsZSonLCAodik9PlxuICAgICAgX194QXJnUHRyKCh2IGluc3RhbmNlb2YgKGNhcGkuc3FsaXRlM19tb2R1bGUgfHwgbmlsVHlwZSkpXG4gICAgICAgICAgID8gdi5wb2ludGVyIDogdikpXG4gICAgLyoqXG4gICAgICAgYHNxbGl0ZTNfdmZzKmA6XG5cbiAgICAgICAtIHYgaXMtYSBzdHJpbmc6IHVzZSB0aGUgcmVzdWx0IG9mIHNxbGl0ZTNfdmZzX2ZpbmQodikgYnV0XG4gICAgICAgICB0aHJvdyBpZiBpdCByZXR1cm5zIDAuXG4gICAgICAgLSB2IGlzLWEgY2FwaS5zcWxpdGUzX3ZmczogdXNlIHYucG9pbnRlci5cbiAgICAgICAtIEVsc2UgcmV0dXJuIHRoZSBzYW1lIGFzIHRoZSBgJyonYCBhcmd1bWVudCBjb252ZXJzaW9uLlxuICAgICovXG4gICAgKCdzcWxpdGUzX3ZmcyonLCAodik9PntcbiAgICAgIGlmKCdzdHJpbmcnPT09dHlwZW9mIHYpe1xuICAgICAgICAvKiBBIE5VTEwgc3FsaXRlM192ZnMgcG9pbnRlciB3aWxsIGJlIHRyZWF0ZWQgYXMgdGhlIGRlZmF1bHRcbiAgICAgICAgICAgVkZTIGluIG1hbnkgY29udGV4dHMuIFdlIHNwZWNpZmljYWxseSBkbyBub3Qgd2FudCB0aGF0XG4gICAgICAgICAgIGJlaGF2aW9yIGhlcmUuICovXG4gICAgICAgIHJldHVybiBjYXBpLnNxbGl0ZTNfdmZzX2ZpbmQodilcbiAgICAgICAgICB8fCBzcWxpdGUzLlNRTGl0ZTNFcnJvci50b3NzKFxuICAgICAgICAgICAgY2FwaS5TUUxJVEVfTk9URk9VTkQsXG4gICAgICAgICAgICBcIlVua25vd24gc3FsaXRlM192ZnMgbmFtZTpcIiwgdlxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX194QXJnUHRyKCh2IGluc3RhbmNlb2YgKGNhcGkuc3FsaXRlM192ZnMgfHwgbmlsVHlwZSkpXG4gICAgICAgICAgICAgICAgICAgICAgID8gdi5wb2ludGVyIDogdik7XG4gICAgfSk7XG5cbiAgICBjb25zdCBfX3hSY1B0ciA9IHdhc20ueFdyYXAucmVzdWx0QWRhcHRlcignKicpO1xuICAgIHdhc20ueFdyYXAucmVzdWx0QWRhcHRlcignc3FsaXRlMyonLCBfX3hSY1B0cilcbiAgICAoJ3NxbGl0ZTNfY29udGV4dConLCBfX3hSY1B0cilcbiAgICAoJ3NxbGl0ZTNfc3RtdConLCBfX3hSY1B0cilcbiAgICAoJ3NxbGl0ZTNfdmFsdWUqJywgX194UmNQdHIpXG4gICAgKCdzcWxpdGUzX3ZmcyonLCBfX3hSY1B0cilcbiAgICAoJ3ZvaWQqJywgX194UmNQdHIpO1xuXG4gICAgLyoqXG4gICAgICAgUG9wdWxhdGUgYXBpIG9iamVjdCB3aXRoIHNxbGl0ZTNfLi4uKCkgYnkgYmluZGluZyB0aGUgXCJyYXdcIiB3YXNtXG4gICAgICAgZXhwb3J0cyBpbnRvIHR5cGUtY29udmVydGluZyBwcm94aWVzIHVzaW5nIHdhc20ueFdyYXAoKS5cbiAgICAqL1xuICAgIGZvcihjb25zdCBlIG9mIHdhc20uYmluZGluZ1NpZ25hdHVyZXMpe1xuICAgICAgY2FwaVtlWzBdXSA9IHdhc20ueFdyYXAuYXBwbHkobnVsbCwgZSk7XG4gICAgfVxuICAgIGZvcihjb25zdCBlIG9mIHdhc20uYmluZGluZ1NpZ25hdHVyZXMud2FzbSl7XG4gICAgICB3YXNtW2VbMF1dID0gd2FzbS54V3JhcC5hcHBseShudWxsLCBlKTtcbiAgICB9XG5cbiAgICAvKiBGb3IgQyBBUEkgZnVuY3Rpb25zIHdoaWNoIGNhbm5vdCB3b3JrIHByb3Blcmx5IHVubGVzc1xuICAgICAgIHdhc20uYmlnSW50RW5hYmxlZCBpcyB0cnVlLCBpbnN0YWxsIGEgYm9ndXMgaW1wbCB3aGljaCB0aHJvd3NcbiAgICAgICBpZiBjYWxsZWQgd2hlbiBiaWdJbnRFbmFibGVkIGlzIGZhbHNlLiBUaGUgYWx0ZXJuYXRpdmUgd291bGQgYmVcbiAgICAgICB0byBlbGlkZSB0aGVzZSBmdW5jdGlvbnMgYWx0b2dldGhlciwgd2hpY2ggc2VlbXMgbGlrZWx5IHRvXG4gICAgICAgY2F1c2UgbW9yZSBjb25mdXNpb24uICovXG4gICAgY29uc3QgZkk2NERpc2FibGVkID0gZnVuY3Rpb24oZm5hbWUpe1xuICAgICAgcmV0dXJuICgpPT50b3NzKGZuYW1lK1wiKCkgaXMgdW5hdmFpbGFibGUgZHVlIHRvIGxhY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICBcIm9mIEJpZ0ludCBzdXBwb3J0IGluIHRoaXMgYnVpbGQuXCIpO1xuICAgIH07XG4gICAgZm9yKGNvbnN0IGUgb2Ygd2FzbS5iaW5kaW5nU2lnbmF0dXJlcy5pbnQ2NCl7XG4gICAgICBjYXBpW2VbMF1dID0gd2FzbS5iaWdJbnRFbmFibGVkXG4gICAgICAgID8gd2FzbS54V3JhcC5hcHBseShudWxsLCBlKVxuICAgICAgICA6IGZJNjREaXNhYmxlZChlWzBdKTtcbiAgICB9XG5cbiAgICAvKiBUaGVyZSdzIG5vIG5lZWQgdG8gZXhwb3NlIGJpbmRpbmdTaWduYXR1cmVzIHRvIGNsaWVudHMsXG4gICAgICAgaW1wbGljaXRseSBtYWtpbmcgaXQgcGFydCBvZiB0aGUgcHVibGljIGludGVyZmFjZS4gKi9cbiAgICBkZWxldGUgd2FzbS5iaW5kaW5nU2lnbmF0dXJlcztcblxuICAgIGlmKHdhc20uZXhwb3J0cy5zcWxpdGUzX3dhc21fZGJfZXJyb3Ipe1xuICAgICAgY29uc3QgX19kYl9lcnIgPSB3YXNtLnhXcmFwKFxuICAgICAgICAnc3FsaXRlM193YXNtX2RiX2Vycm9yJywgJ2ludCcsICdzcWxpdGUzKicsICdpbnQnLCAnc3RyaW5nJ1xuICAgICAgKTtcbiAgICAgIC8qKlxuICAgICAgICAgU2V0cyB0aGUgZ2l2ZW4gZGIncyBlcnJvciBzdGF0ZS4gQWNjZXB0czpcblxuICAgICAgICAgLSAoc3FsaXRlMyosIGludCBjb2RlLCBzdHJpbmcgbXNnKVxuICAgICAgICAgLSAoc3FsaXRlMyosIEVycm9yIGUgWyxzdHJpbmcgbXNnID0gJycrZV0pXG5cbiAgICAgICAgIElmIHBhc3NlZCBhIFdhc21BbGxvY0Vycm9yLCB0aGUgbWVzc2FnZSBpcyBpZ25vcmVkIGFuZCB0aGVcbiAgICAgICAgIHJlc3VsdCBjb2RlIGlzIFNRTElURV9OT01FTS4gSWYgcGFzc2VkIGFueSBvdGhlciBFcnJvciB0eXBlLFxuICAgICAgICAgdGhlIHJlc3VsdCBjb2RlIGRlZmF1bHRzIHRvIFNRTElURV9FUlJPUiB1bmxlc3MgdGhlIEVycm9yXG4gICAgICAgICBvYmplY3QgaGFzIGEgcmVzdWx0Q29kZSBwcm9wZXJ0eSwgaW4gd2hpY2ggY2FzZSB0aGF0IGlzIHVzZWRcbiAgICAgICAgIChlLmcuIFNRTGl0ZTNFcnJvciBoYXMgdGhhdCkuIElmIHBhc3NlZCBhIG5vbi1XYXNtQWxsb2NFcnJvclxuICAgICAgICAgZXhjZXB0aW9uLCB0aGUgbWVzc2FnZSBzdHJpbmcgZGVmYXVsdHMgdG8gdGhlRXJyb3IubWVzc2FnZS5cblxuICAgICAgICAgUmV0dXJucyB0aGUgcmVzdWx0aW5nIGNvZGUuIFBhc3MgKHBEYiwwLDApIHRvIGNsZWFyIHRoZSBlcnJvclxuICAgICAgICAgc3RhdGUuXG4gICAgICAgKi9cbiAgICAgIHV0aWwuc3FsaXRlM193YXNtX2RiX2Vycm9yID0gZnVuY3Rpb24ocERiLCByZXN1bHRDb2RlLCBtZXNzYWdlKXtcbiAgICAgICAgaWYocmVzdWx0Q29kZSBpbnN0YW5jZW9mIHNxbGl0ZTMuV2FzbUFsbG9jRXJyb3Ipe1xuICAgICAgICAgIHJlc3VsdENvZGUgPSBjYXBpLlNRTElURV9OT01FTTtcbiAgICAgICAgICBtZXNzYWdlID0gMCAvKmF2b2lkIGFsbG9jYXRpbmcgbWVzc2FnZSBzdHJpbmcqLztcbiAgICAgICAgfWVsc2UgaWYocmVzdWx0Q29kZSBpbnN0YW5jZW9mIEVycm9yKXtcbiAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZSB8fCAnJytyZXN1bHRDb2RlO1xuICAgICAgICAgIHJlc3VsdENvZGUgPSAocmVzdWx0Q29kZS5yZXN1bHRDb2RlIHx8IGNhcGkuU1FMSVRFX0VSUk9SKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcERiID8gX19kYl9lcnIocERiLCByZXN1bHRDb2RlLCBtZXNzYWdlKSA6IHJlc3VsdENvZGU7XG4gICAgICB9O1xuICAgIH1lbHNle1xuICAgICAgdXRpbC5zcWxpdGUzX3dhc21fZGJfZXJyb3IgPSBmdW5jdGlvbihwRGIsZXJyQ29kZSxtc2cpe1xuICAgICAgICBjb25zb2xlLndhcm4oXCJzcWxpdGUzX3dhc21fZGJfZXJyb3IoKSBpcyBub3QgZXhwb3J0ZWQuXCIsYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIGVyckNvZGU7XG4gICAgICB9O1xuICAgIH1cbiAgfS8qeFdyYXAoKSBiaW5kaW5ncyovXG5cbiAgey8qIEltcG9ydCBDLWxldmVsIGNvbnN0YW50cyBhbmQgc3RydWN0cy4uLiAqL1xuICAgIGNvbnN0IGNKc29uID0gd2FzbS54Q2FsbCgnc3FsaXRlM193YXNtX2VudW1fanNvbicpO1xuICAgIGlmKCFjSnNvbil7XG4gICAgICB0b3NzKFwiTWFpbnRlbmFuY2UgcmVxdWlyZWQ6IGluY3JlYXNlIHNxbGl0ZTNfd2FzbV9lbnVtX2pzb24oKSdzXCIsXG4gICAgICAgICAgIFwic3RhdGljIGJ1ZmZlciBzaXplIVwiKTtcbiAgICB9XG4gICAgLy9jb25zb2xlLmRlYnVnKCd3YXNtLmN0eXBlIGxlbmd0aCA9Jyx3YXNtLmNzdHJsZW4oY0pzb24pKTtcbiAgICB3YXNtLmN0eXBlID0gSlNPTi5wYXJzZSh3YXNtLmNzdHJUb0pzKGNKc29uKSk7XG4gICAgLy8gR3JvdXBzIG9mIFNRTElURV94eXogbWFjcm9zLi4uXG4gICAgY29uc3QgZGVmaW5lR3JvdXBzID0gWydhY2Nlc3MnLCAnYXV0aG9yaXplcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdibG9iRmluYWxpemVycycsICdjaGFuZ2VzZXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnY29uZmlnJywgJ2RhdGFUeXBlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdkYkNvbmZpZycsICdkYlN0YXR1cycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdlbmNvZGluZ3MnLCAnZmNudGwnLCAnZmxvY2snLCAnaW9DYXAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnbGltaXRzJywgJ29wZW5GbGFncycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdwcmVwYXJlRmxhZ3MnLCAncmVzdWx0Q29kZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnc3FsaXRlM1N0YXR1cycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdzdG10U3RhdHVzJywgJ3N5bmNGbGFncycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFjZScsICd0eG5TdGF0ZScsICd1ZGZGbGFncycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICd2ZXJzaW9uJyBdO1xuICAgIGlmKHdhc20uYmlnSW50RW5hYmxlZCl7XG4gICAgICBkZWZpbmVHcm91cHMucHVzaCgnc2VyaWFsaXplJywgJ3Nlc3Npb24nLCAndnRhYicpO1xuICAgIH1cbiAgICBmb3IoY29uc3QgdCBvZiBkZWZpbmVHcm91cHMpe1xuICAgICAgZm9yKGNvbnN0IGUgb2YgT2JqZWN0LmVudHJpZXMod2FzbS5jdHlwZVt0XSkpe1xuICAgICAgICAvLyBeXl4gW2ssdl0gdGhlcmUgdHJpZ2dlcnMgYSBidWdneSBjb2RlIHRyYW5zZm9ybWF0aW9uIHZpYVxuICAgICAgICAvLyBvbmUgb2YgdGhlIEVtc2NyaXB0ZW4tZHJpdmVuIG9wdGltaXplcnMuXG4gICAgICAgIGNhcGlbZVswXV0gPSBlWzFdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZighd2FzbS5mdW5jdGlvbkVudHJ5KGNhcGkuU1FMSVRFX1dBU01fREVBTExPQykpe1xuICAgICAgdG9zcyhcIkludGVybmFsIGVycm9yOiBjYW5ub3QgcmVzb2x2ZSBleHBvcnRlZCBmdW5jdGlvblwiLFxuICAgICAgICAgICBcImVudHJ5IFNRTElURV9XQVNNX0RFQUxMT0MgKD09XCIrY2FwaS5TUUxJVEVfV0FTTV9ERUFMTE9DK1wiKS5cIik7XG4gICAgfVxuICAgIGNvbnN0IF9fcmNNYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvcihjb25zdCB0IG9mIFsncmVzdWx0Q29kZXMnXSl7XG4gICAgICBmb3IoY29uc3QgZSBvZiBPYmplY3QuZW50cmllcyh3YXNtLmN0eXBlW3RdKSl7XG4gICAgICAgIF9fcmNNYXBbZVsxXV0gPSBlWzBdO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgICBGb3IgdGhlIGdpdmVuIGludGVnZXIsIHJldHVybnMgdGhlIFNRTElURV94eHggcmVzdWx0IGNvZGUgYXMgYVxuICAgICAgIHN0cmluZywgb3IgdW5kZWZpbmVkIGlmIG5vIHN1Y2ggbWFwcGluZyBpcyBmb3VuZC5cbiAgICAqL1xuICAgIGNhcGkuc3FsaXRlM19qc19yY19zdHIgPSAocmMpPT5fX3JjTWFwW3JjXTtcbiAgICAvKiBCaW5kIGFsbCByZWdpc3RlcmVkIEMtc2lkZSBzdHJ1Y3RzLi4uICovXG4gICAgY29uc3Qgbm90VGhlc2UgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCkse1xuICAgICAgLy8gRm9yIGVhY2ggc3RydWN0IHRvIE5PVCByZWdpc3RlciwgbWFwIGl0cyBuYW1lIHRvIHRydWU6XG4gICAgICBXYXNtVGVzdFN0cnVjdDogdHJ1ZSxcbiAgICAgIC8qIFdlIHVucmVnaXN0ZXIgdGhlIGt2dmZzIFZGUyBmcm9tIFdvcmtlciB0aHJlYWRzIGJlbG93LiAqL1xuICAgICAgc3FsaXRlM19rdnZmc19tZXRob2RzOiAhdXRpbC5pc1VJVGhyZWFkKCksXG4gICAgICAvKiBzcWxpdGUzX2luZGV4X2luZm8gYW5kIGZyaWVuZHMgcmVxdWlyZSBpbnQ2NDogKi9cbiAgICAgIHNxbGl0ZTNfaW5kZXhfaW5mbzogIXdhc20uYmlnSW50RW5hYmxlZCxcbiAgICAgIHNxbGl0ZTNfaW5kZXhfY29uc3RyYWludDogIXdhc20uYmlnSW50RW5hYmxlZCxcbiAgICAgIHNxbGl0ZTNfaW5kZXhfb3JkZXJieTogIXdhc20uYmlnSW50RW5hYmxlZCxcbiAgICAgIHNxbGl0ZTNfaW5kZXhfY29uc3RyYWludF91c2FnZTogIXdhc20uYmlnSW50RW5hYmxlZFxuICAgIH0pO1xuICAgIGZvcihjb25zdCBzIG9mIHdhc20uY3R5cGUuc3RydWN0cyl7XG4gICAgICBpZighbm90VGhlc2Vbcy5uYW1lXSl7XG4gICAgICAgIGNhcGlbcy5uYW1lXSA9IHNxbGl0ZTMuU3RydWN0QmluZGVyKHMpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZihjYXBpLnNxbGl0ZTNfaW5kZXhfaW5mbyl7XG4gICAgICAvKiBNb3ZlIHRoZXNlIGlubmVyIHN0cnVjdHMgaW50byBzcWxpdGUzX2luZGV4X2luZm8uICBCaW5kaW5nXG4gICAgICAqKiB0aGVtIHRvIFdBU00gcmVxdWlyZXMgdGhhdCB3ZSBjcmVhdGUgZ2xvYmFsLXNjb3BlIHN0cnVjdHMgdG9cbiAgICAgICoqIG1vZGVsIHRoZW0gd2l0aCwgYnV0IHRob3NlIGFyZSBubyBsb25nZXIgbmVlZGVkIGFmdGVyIHdlJ3ZlXG4gICAgICAqKiBwYXNzZWQgdGhlbSB0byBTdHJ1Y3RCaW5kZXIuICovXG4gICAgICBmb3IoY29uc3QgayBvZiBbJ3NxbGl0ZTNfaW5kZXhfY29uc3RyYWludCcsXG4gICAgICAgICAgICAgICAgICAgICAgJ3NxbGl0ZTNfaW5kZXhfb3JkZXJieScsXG4gICAgICAgICAgICAgICAgICAgICAgJ3NxbGl0ZTNfaW5kZXhfY29uc3RyYWludF91c2FnZSddKXtcbiAgICAgICAgY2FwaS5zcWxpdGUzX2luZGV4X2luZm9ba10gPSBjYXBpW2tdO1xuICAgICAgICBkZWxldGUgY2FwaVtrXTtcbiAgICAgIH1cbiAgICAgIGNhcGkuc3FsaXRlM192dGFiX2NvbmZpZyA9IHdhc20ueFdyYXAoXG4gICAgICAgICdzcWxpdGUzX3dhc21fdnRhYl9jb25maWcnLCdpbnQnLFtcbiAgICAgICAgICAnc3FsaXRlMyonLCAnaW50JywgJ2ludCddXG4gICAgICApO1xuICAgIH0vKiBlbmQgdnRhYi1yZWxhdGVkIHNldHVwICovXG4gIH0vKmVuZCBDIGNvbnN0YW50IGFuZCBzdHJ1Y3QgaW1wb3J0cyovXG5cbiAgLyoqXG4gICAgIEludGVybmFsIGhlbHBlciB0byBhc3Npc3QgaW4gdmFsaWRhdGluZyBjYWxsIGFyZ3VtZW50IGNvdW50cyBpblxuICAgICB0aGUgaGFuZC13cml0dGVuIHNxbGl0ZTNfeHl6KCkgd3JhcHBlcnMuIFdlIGRvIHRoaXMgb25seSBmb3JcbiAgICAgY29uc2lzdGVuY3kgd2l0aCBub24tc3BlY2lhbC1jYXNlIHdyYXBwaW5ncy5cbiAgKi9cbiAgY29uc3QgX19kYkFyZ2NNaXNtYXRjaCA9IChwRGIsZixuKT0+e1xuICAgIHJldHVybiBzcWxpdGUzLnV0aWwuc3FsaXRlM193YXNtX2RiX2Vycm9yKHBEYiwgY2FwaS5TUUxJVEVfTUlTVVNFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYrXCIoKSByZXF1aXJlcyBcIituK1wiIGFyZ3VtZW50XCIrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDE9PT1uP1wiXCI6J3MnKStcIi5cIik7XG4gIH07XG5cbiAgLyoqIENvZGUgZHVwbGljYXRpb24gcmVkdWNlciBmb3IgZnVuY3Rpb25zIHdoaWNoIHRha2UgYW4gZW5jb2RpbmdcbiAgICAgIGFyZ3VtZW50IGFuZCByZXF1aXJlIFNRTElURV9VVEY4LiAgU2V0cyB0aGUgZGIgZXJyb3IgY29kZSB0b1xuICAgICAgU1FMSVRFX0ZPUk1BVCBhbmQgcmV0dXJucyB0aGF0IGNvZGUuICovXG4gIGNvbnN0IF9fZXJyRW5jb2RpbmcgPSAocERiKT0+e1xuICAgIHJldHVybiB1dGlsLnNxbGl0ZTNfd2FzbV9kYl9lcnJvcihcbiAgICAgIHBEYiwgY2FwaS5TUUxJVEVfRk9STUFULCBcIlNRTElURV9VVEY4IGlzIHRoZSBvbmx5IHN1cHBvcnRlZCBlbmNvZGluZy5cIlxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAgIF9fZGJDbGVhbnVwTWFwIGlzIGluZnJhc3RydWN0dXJlIGZvciByZWNvcmRpbmcgcmVnaXN0cmF0aW9uIG9mXG4gICAgIFVERnMgYW5kIGNvbGxhdGlvbnMgc28gdGhhdCBzcWxpdGUzX2Nsb3NlX3YyKCkgY2FuIGNsZWFuIHVwIGFueVxuICAgICBhdXRvbWF0ZWQgSlMtdG8tV0FTTSBmdW5jdGlvbiBjb252ZXJzaW9ucyBpbnN0YWxsZWQgYnkgdGhvc2UuXG4gICovXG4gIGNvbnN0IF9fYXJnUERiID0gKHBEYik9Pndhc20ueFdyYXAuYXJnQWRhcHRlcignc3FsaXRlMyonKShwRGIpO1xuICBjb25zdCBfX2FyZ1N0ciA9IChzdHIpPT53YXNtLmlzUHRyKHN0cikgPyB3YXNtLmNzdHJUb0pzKHN0cikgOiBzdHI7XG4gIGNvbnN0IF9fZGJDbGVhbnVwTWFwID0gZnVuY3Rpb24oXG4gICAgcERiLCBtb2RlLyowPXJlbW92ZSwgPjA9Y3JlYXRlIGlmIG5lZWRlZCwgPDA9ZG8gbm90IGNyZWF0ZSBpZiBtaXNzaW5nKi9cbiAgKXtcbiAgICBwRGIgPSBfX2FyZ1BEYihwRGIpO1xuICAgIGxldCBtID0gdGhpcy5kYk1hcC5nZXQocERiKTtcbiAgICBpZighbW9kZSl7XG4gICAgICB0aGlzLmRiTWFwLmRlbGV0ZShwRGIpO1xuICAgICAgcmV0dXJuIG07XG4gICAgfWVsc2UgaWYoIW0gJiYgbW9kZT4wKXtcbiAgICAgIHRoaXMuZGJNYXAuc2V0KHBEYiwgKG0gPSBPYmplY3QuY3JlYXRlKG51bGwpKSk7XG4gICAgfVxuICAgIHJldHVybiBtO1xuICB9LmJpbmQoT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLHtcbiAgICBkYk1hcDogbmV3IE1hcFxuICB9KSk7XG5cbiAgX19kYkNsZWFudXBNYXAuYWRkQ29sbGF0aW9uID0gZnVuY3Rpb24ocERiLCBuYW1lKXtcbiAgICBjb25zdCBtID0gX19kYkNsZWFudXBNYXAocERiLCAxKTtcbiAgICBpZighbS5jb2xsYXRpb24pIG0uY29sbGF0aW9uID0gbmV3IFNldDtcbiAgICBtLmNvbGxhdGlvbi5hZGQoX19hcmdTdHIobmFtZSkudG9Mb3dlckNhc2UoKSk7XG4gIH07XG5cbiAgX19kYkNsZWFudXBNYXAuX2FkZFVERiA9IGZ1bmN0aW9uKHBEYiwgbmFtZSwgYXJpdHksIG1hcCl7XG4gICAgLyogTWFwIFVERiBuYW1lIHRvIGEgU2V0IG9mIGFyaXR5IHZhbHVlcyAqL1xuICAgIG5hbWUgPSBfX2FyZ1N0cihuYW1lKS50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCB1ID0gbWFwLmdldChuYW1lKTtcbiAgICBpZighdSkgbWFwLnNldChuYW1lLCAodSA9IG5ldyBTZXQpKTtcbiAgICB1LmFkZCgoYXJpdHk8MCkgPyAtMSA6IGFyaXR5KTtcbiAgfTtcblxuICBfX2RiQ2xlYW51cE1hcC5hZGRGdW5jdGlvbiA9IGZ1bmN0aW9uKHBEYiwgbmFtZSwgYXJpdHkpe1xuICAgIGNvbnN0IG0gPSBfX2RiQ2xlYW51cE1hcChwRGIsIDEpO1xuICAgIGlmKCFtLnVkZikgbS51ZGYgPSBuZXcgTWFwO1xuICAgIHRoaXMuX2FkZFVERihwRGIsIG5hbWUsIGFyaXR5LCBtLnVkZik7XG4gIH07XG5cbiAgX19kYkNsZWFudXBNYXAuYWRkV2luZG93RnVuYyA9IGZ1bmN0aW9uKHBEYiwgbmFtZSwgYXJpdHkpe1xuICAgIGNvbnN0IG0gPSBfX2RiQ2xlYW51cE1hcChwRGIsIDEpO1xuICAgIGlmKCFtLnd1ZGYpIG0ud3VkZiA9IG5ldyBNYXA7XG4gICAgdGhpcy5fYWRkVURGKHBEYiwgbmFtZSwgYXJpdHksIG0ud3VkZik7XG4gIH07XG5cbiAgLyoqXG4gICAgIEludGVuZGVkIHRvIGJlIGNhbGxlZCBfb25seV8gZnJvbSBzcWxpdGUzX2Nsb3NlX3YyKCksXG4gICAgIHBhc3NlZCBpdHMgbm9uLTAgZGIgYXJndW1lbnQuXG5cbiAgICAgVGhpcyBmdW5jdGlvbiBmcmVlcyB1cCBjZXJ0YWluIGF1dG9tYXRpY2FsbHktaW5zdGFsbGVkIFdBU01cbiAgICAgZnVuY3Rpb24gYmluZGluZ3Mgd2hpY2ggd2VyZSBpbnN0YWxsZWQgb24gYmVoYWxmIG9mIHRoZSBnaXZlbiBkYixcbiAgICAgYXMgdGhvc2UgbWF5IG90aGVyd2lzZSBsZWFrLlxuXG4gICAgIE5vdGFibGUgY2F2ZWF0OiB0aGlzIGlzIG9ubHkgZXZlciBydW4gdmlhXG4gICAgIHNxbGl0ZTMuY2FwaS5zcWxpdGUzX2Nsb3NlX3YyKCkuIElmIGEgY2xpZW50LCBmb3Igd2hhdGV2ZXJcbiAgICAgcmVhc29uLCB1c2VzIHNxbGl0ZTMud2FzbS5leHBvcnRzLnNxbGl0ZTNfY2xvc2VfdjIoKSAodGhlXG4gICAgIGZ1bmN0aW9uIGRpcmVjdGx5IGV4cG9ydGVkIGZyb20gV0FTTSksIHRoaXMgY2xlYW51cCB3aWxsIG5vdFxuICAgICBoYXBwZW4uXG5cbiAgICAgVGhpcyBpcyBub3QgYSBzaWx2ZXIgYnVsbGV0IGZvciBhdm9pZGluZyBhdXRvbWF0aW9uLXJlbGF0ZWRcbiAgICAgbGVha3MgYnV0IHJlcHJlc2VudHMgXCJhbiBob25lc3QgZWZmb3J0LlwiXG5cbiAgICAgVGhlIGlzc3VlIGJlaW5nIGFkZHJlc3NlZCBoZXJlIGlzIGNvdmVyZWQgYXQ6XG5cbiAgICAgaHR0cHM6Ly9zcWxpdGUub3JnL3dhc20vZG9jL3RydW5rL2FwaS1jLXN0eWxlLm1kI2NvbnZlcnQtZnVuYy1wdHJcbiAgKi9cbiAgX19kYkNsZWFudXBNYXAuY2xlYW51cCA9IGZ1bmN0aW9uKHBEYil7XG4gICAgcERiID0gX19hcmdQRGIocERiKTtcbiAgICAvL3dhc20ueFdyYXAuRnVuY1B0ckFkYXB0ZXIuZGVidWdGdW5jSW5zdGFsbCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAgIEluc3RhbGxpbmcgTlVMTCBmdW5jdGlvbnMgaW4gdGhlIEMgQVBJIHdpbGwgcmVtb3ZlIHRob3NlXG4gICAgICAgYmluZGluZ3MuIFRoZSBGdW5jUHRyQWRhcHRlciB3aGljaCBzaXRzIGJldHdlZW4gdXMgYW5kIHRoZSBDXG4gICAgICAgQVBJIHdpbGwgYWxzbyB0cmVhdCB0aGF0IGFzIGFuIG9wcG9ydHVuaXR5IHRvXG4gICAgICAgd2FzbS51bmluc3RhbGxGdW5jdGlvbigpIGFueSBXQVNNIGZ1bmN0aW9uIGJpbmRpbmdzIGl0IGhhc1xuICAgICAgIGluc3RhbGxlZCBmb3IgcERiLlxuICAgICovXG4gICAgY29uc3QgY2xvc2VBcmdzID0gW3BEYl07XG4gICAgZm9yKGNvbnN0IG5hbWUgb2YgW1xuICAgICAgJ3NxbGl0ZTNfYnVzeV9oYW5kbGVyJyxcbiAgICAgICdzcWxpdGUzX2NvbW1pdF9ob29rJyxcbiAgICAgICdzcWxpdGUzX3ByZXVwZGF0ZV9ob29rJyxcbiAgICAgICdzcWxpdGUzX3Byb2dyZXNzX2hhbmRsZXInLFxuICAgICAgJ3NxbGl0ZTNfcm9sbGJhY2tfaG9vaycsXG4gICAgICAnc3FsaXRlM19zZXRfYXV0aG9yaXplcicsXG4gICAgICAnc3FsaXRlM190cmFjZV92MicsXG4gICAgICAnc3FsaXRlM191cGRhdGVfaG9vaydcbiAgICBdKSB7XG4gICAgICBjb25zdCB4ID0gd2FzbS5leHBvcnRzW25hbWVdO1xuICAgICAgY2xvc2VBcmdzLmxlbmd0aCA9IHgubGVuZ3RoLyo9PWFyZ3VtZW50IGNvdW50Ki9cbiAgICAgIC8qIHJlY2FsbCB0aGF0IHVuZGVmaW5lZCBlbnRyaWVzIHRyYW5zbGF0ZSB0byAwIHdoZW4gcGFzc2VkIHRvXG4gICAgICAgICBXQVNNLiAqLztcbiAgICAgIHRyeXsgY2FwaVtuYW1lXSguLi5jbG9zZUFyZ3MpIH1cbiAgICAgIGNhdGNoKGUpe1xuICAgICAgICBjb25zb2xlLndhcm4oXCJjbG9zZS10aW1lIGNhbGwgb2ZcIixuYW1lK1wiKFwiLGNsb3NlQXJncyxcIikgdGhyZXc6XCIsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG0gPSBfX2RiQ2xlYW51cE1hcChwRGIsIDApO1xuICAgIGlmKCFtKSByZXR1cm47XG4gICAgaWYobS5jb2xsYXRpb24pe1xuICAgICAgZm9yKGNvbnN0IG5hbWUgb2YgbS5jb2xsYXRpb24pe1xuICAgICAgICB0cnl7XG4gICAgICAgICAgY2FwaS5zcWxpdGUzX2NyZWF0ZV9jb2xsYXRpb25fdjIoXG4gICAgICAgICAgICBwRGIsIG5hbWUsIGNhcGkuU1FMSVRFX1VURjgsIDAsIDAsIDBcbiAgICAgICAgICApO1xuICAgICAgICB9Y2F0Y2goZSl7XG4gICAgICAgICAgLyppZ25vcmVkKi9cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGVsZXRlIG0uY29sbGF0aW9uO1xuICAgIH1cbiAgICBsZXQgaTtcbiAgICBmb3IoaSA9IDA7IGkgPCAyOyArK2kpeyAvKiBDbGVhbiB1cCBVREZzLi4uICovXG4gICAgICBjb25zdCBmbWFwID0gaSA/IG0ud3VkZiA6IG0udWRmO1xuICAgICAgaWYoIWZtYXApIGNvbnRpbnVlO1xuICAgICAgY29uc3QgZnVuYyA9IGlcbiAgICAgICAgICAgID8gY2FwaS5zcWxpdGUzX2NyZWF0ZV93aW5kb3dfZnVuY3Rpb25cbiAgICAgICAgICAgIDogY2FwaS5zcWxpdGUzX2NyZWF0ZV9mdW5jdGlvbl92MjtcbiAgICAgIGZvcihjb25zdCBlIG9mIGZtYXApe1xuICAgICAgICBjb25zdCBuYW1lID0gZVswXSwgYXJpdGllcyA9IGVbMV07XG4gICAgICAgIGNvbnN0IGZhcmdzID0gW3BEYiwgbmFtZSwgMC8qYXJpdHkqLywgY2FwaS5TUUxJVEVfVVRGOCwgMCwgMCwgMCwgMCwgMF07XG4gICAgICAgIGlmKGkpIGZhcmdzLnB1c2goMCk7XG4gICAgICAgIGZvcihjb25zdCBhcml0eSBvZiBhcml0aWVzKXtcbiAgICAgICAgICB0cnl7IGZhcmdzWzJdID0gYXJpdHk7IGZ1bmMuYXBwbHkobnVsbCwgZmFyZ3MpOyB9XG4gICAgICAgICAgY2F0Y2goZSl7LyppZ25vcmVkKi99XG4gICAgICAgIH1cbiAgICAgICAgYXJpdGllcy5jbGVhcigpO1xuICAgICAgfVxuICAgICAgZm1hcC5jbGVhcigpO1xuICAgIH1cbiAgICBkZWxldGUgbS51ZGY7XG4gICAgZGVsZXRlIG0ud3VkZjtcbiAgfS8qX19kYkNsZWFudXBNYXAuY2xlYW51cCgpKi87XG5cbiAgey8qIEJpbmRpbmcgb2Ygc3FsaXRlM19jbG9zZV92MigpICovXG4gICAgY29uc3QgX19zcWxpdGUzQ2xvc2VWMiA9IHdhc20ueFdyYXAoXCJzcWxpdGUzX2Nsb3NlX3YyXCIsIFwiaW50XCIsIFwic3FsaXRlMypcIik7XG4gICAgY2FwaS5zcWxpdGUzX2Nsb3NlX3YyID0gZnVuY3Rpb24ocERiKXtcbiAgICAgIGlmKDEhPT1hcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gX19kYkFyZ2NNaXNtYXRjaChwRGIsICdzcWxpdGUzX2Nsb3NlX3YyJywgMSk7XG4gICAgICBpZihwRGIpe1xuICAgICAgICB0cnl7X19kYkNsZWFudXBNYXAuY2xlYW51cChwRGIpfSBjYXRjaChlKXsvKmlnbm9yZWQqL31cbiAgICAgIH1cbiAgICAgIHJldHVybiBfX3NxbGl0ZTNDbG9zZVYyKHBEYik7XG4gICAgfTtcbiAgfS8qc3FsaXRlM19jbG9zZV92MigpKi9cblxuICBpZihjYXBpLnNxbGl0ZTNzZXNzaW9uX3RhYmxlX2ZpbHRlcil7XG4gICAgY29uc3QgX19zcWxpdGUzU2Vzc2lvbkRlbGV0ZSA9IHdhc20ueFdyYXAoXG4gICAgICAnc3FsaXRlM3Nlc3Npb25fZGVsZXRlJywgdW5kZWZpbmVkLCBbJ3NxbGl0ZTNfc2Vzc2lvbionXVxuICAgICk7XG4gICAgY2FwaS5zcWxpdGUzc2Vzc2lvbl9kZWxldGUgPSBmdW5jdGlvbihwU2Vzc2lvbil7XG4gICAgICBpZigxIT09YXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICAgIHJldHVybiBfX2RiQXJnY01pc21hdGNoKHBEYiwgJ3NxbGl0ZTNzZXNzaW9uX2RlbGV0ZScsIDEpO1xuICAgICAgICAvKiBZZXMsIHdlJ3JlIHJldHVybmluZyBhIHZhbHVlIGZyb20gYSB2b2lkIGZ1bmN0aW9uLiBUaGF0IHNlZW1zXG4gICAgICAgICAgIGxpa2UgdGhlIGxlc3NlciBldmlsIGNvbXBhcmVkIHRvIG5vdCBtYWludGFpbmluZyBhcmctY291bnRcbiAgICAgICAgICAgY29uc2lzdGVuY3kgYXMgd2UgZG8gd2l0aCBvdGhlciBzaW1pbGFyIGJpbmRpbmdzLiAqL1xuICAgICAgfVxuICAgICAgZWxzZSBpZihwU2Vzc2lvbil7XG4gICAgICAgIC8vd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlci5kZWJ1Z0Z1bmNJbnN0YWxsID0gdHJ1ZTtcbiAgICAgICAgY2FwaS5zcWxpdGUzc2Vzc2lvbl90YWJsZV9maWx0ZXIocFNlc3Npb24sIDAsIDApO1xuICAgICAgfVxuICAgICAgX19zcWxpdGUzU2Vzc2lvbkRlbGV0ZShwU2Vzc2lvbik7XG4gICAgfTtcbiAgfVxuXG4gIHsvKiBCaW5kaW5ncyBmb3Igc3FsaXRlM19jcmVhdGVfY29sbGF0aW9uW192Ml0oKSAqL1xuICAgIC8vIGNvbnRleHRLZXkoKSBpbXBsIGZvciB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyXG4gICAgY29uc3QgY29udGV4dEtleSA9IChhcmd2LGFyZ0luZGV4KT0+e1xuICAgICAgcmV0dXJuICdhcmd2WycrYXJnSW5kZXgrJ106Jythcmd2WzAvKiBzcWxpdGUzKiAqL10rXG4gICAgICAgICc6Jyt3YXNtLmNzdHJUb0pzKGFyZ3ZbMS8qIGNvbGxhdGlvbiBuYW1lICovXSkudG9Mb3dlckNhc2UoKVxuICAgIH07XG4gICAgY29uc3QgX19zcWxpdGUzQ3JlYXRlQ29sbGF0aW9uVjIgPSB3YXNtLnhXcmFwKFxuICAgICAgJ3NxbGl0ZTNfY3JlYXRlX2NvbGxhdGlvbl92MicsICdpbnQnLCBbXG4gICAgICAgICdzcWxpdGUzKicsICdzdHJpbmcnLCAnaW50JywgJyonLFxuICAgICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7XG4gICAgICAgICAgLyogaW50KCp4Q29tcGFyZSkodm9pZCosaW50LGNvbnN0IHZvaWQqLGludCxjb25zdCB2b2lkKikgKi9cbiAgICAgICAgICBuYW1lOiAneENvbXBhcmUnLCBzaWduYXR1cmU6ICdpKHBpcGlwKScsIGNvbnRleHRLZXlcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtcbiAgICAgICAgICAvKiB2b2lkKCp4RGVzdHJveSh2b2lkKikgKi9cbiAgICAgICAgICBuYW1lOiAneERlc3Ryb3knLCBzaWduYXR1cmU6ICd2KHApJywgY29udGV4dEtleVxuICAgICAgICB9KVxuICAgICAgXVxuICAgICk7XG5cbiAgICAvKipcbiAgICAgICBXb3JrcyBleGFjdGx5IGxpa2UgQydzIHNxbGl0ZTNfY3JlYXRlX2NvbGxhdGlvbl92MigpIGV4Y2VwdCB0aGF0OlxuXG4gICAgICAgMSkgSXQgcmV0dXJucyBjYXBpLlNRTElURV9GT1JNQVQgaWYgdGhlIDNyZCBhcmd1bWVudCBjb250YWluc1xuICAgICAgICAgIGFueSBlbmNvZGluZy1yZWxhdGVkIHZhbHVlIG90aGVyIHRoYW4gY2FwaS5TUUxJVEVfVVRGOC4gIE5vXG4gICAgICAgICAgb3RoZXIgZW5jb2RpbmdzIGFyZSBzdXBwb3J0ZWQuIEFzIGEgc3BlY2lhbCBjYXNlLCBpZiB0aGVcbiAgICAgICAgICBib3R0b20gNCBiaXRzIG9mIHRoYXQgYXJndW1lbnQgYXJlIDAsIFNRTElURV9VVEY4IGlzXG4gICAgICAgICAgYXNzdW1lZC5cblxuICAgICAgIDIpIEl0IGFjY2VwdHMgSlMgZnVuY3Rpb25zIGZvciBpdHMgZnVuY3Rpb24tcG9pbnRlciBhcmd1bWVudHMsXG4gICAgICAgICAgZm9yIHdoaWNoIGl0IHdpbGwgaW5zdGFsbCBXQVNNLWJvdW5kIHByb3hpZXMuIFRoZSBiaW5kaW5nc1xuICAgICAgICAgIGFyZSBcInBlcm1hbmVudCxcIiBpbiB0aGF0IHRoZXkgd2lsbCBzdGF5IGluIHRoZSBXQVNNIGVudmlyb25tZW50XG4gICAgICAgICAgdW50aWwgaXQgc2h1dHMgZG93biB1bmxlc3MgdGhlIGNsaWVudCBjYWxscyB0aGlzIGFnYWluIHdpdGggdGhlXG4gICAgICAgICAgc2FtZSBjb2xsYXRpb24gbmFtZSBhbmQgYSB2YWx1ZSBvZiAwIG9yIG51bGwgZm9yIHRoZVxuICAgICAgICAgIHRoZSBmdW5jdGlvbiBwb2ludGVyKHMpLlxuXG4gICAgICAgRm9yIGNvbnNpc3RlbmN5IHdpdGggdGhlIEMgQVBJLCBpdCByZXF1aXJlcyB0aGUgc2FtZSBudW1iZXIgb2ZcbiAgICAgICBhcmd1bWVudHMuIEl0IHJldHVybnMgY2FwaS5TUUxJVEVfTUlTVVNFIGlmIHBhc3NlZCBhbnkgb3RoZXJcbiAgICAgICBhcmd1bWVudCBjb3VudC5cblxuICAgICAgIFJldHVybnMgMCBvbiBzdWNjZXNzLCBub24tMCBvbiBlcnJvciwgaW4gd2hpY2ggY2FzZSB0aGUgZXJyb3JcbiAgICAgICBzdGF0ZSBvZiBwRGIgKG9mIHR5cGUgYHNxbGl0ZTMqYCBvciBhcmd1bWVudC1jb252ZXJ0aWJsZSB0byBpdClcbiAgICAgICBtYXkgY29udGFpbiBtb3JlIGluZm9ybWF0aW9uLlxuICAgICovXG4gICAgY2FwaS5zcWxpdGUzX2NyZWF0ZV9jb2xsYXRpb25fdjIgPSBmdW5jdGlvbihwRGIsek5hbWUsZVRleHRSZXAscEFyZyx4Q29tcGFyZSx4RGVzdHJveSl7XG4gICAgICBpZig2IT09YXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIF9fZGJBcmdjTWlzbWF0Y2gocERiLCAnc3FsaXRlM19jcmVhdGVfY29sbGF0aW9uX3YyJywgNik7XG4gICAgICBlbHNlIGlmKCAwID09PSAoZVRleHRSZXAgJiAweGYpICl7XG4gICAgICAgIGVUZXh0UmVwIHw9IGNhcGkuU1FMSVRFX1VURjg7XG4gICAgICB9ZWxzZSBpZiggY2FwaS5TUUxJVEVfVVRGOCAhPT0gKGVUZXh0UmVwICYgMHhmKSApe1xuICAgICAgICByZXR1cm4gX19lcnJFbmNvZGluZyhwRGIpO1xuICAgICAgfVxuICAgICAgdHJ5e1xuICAgICAgICBjb25zdCByYyA9IF9fc3FsaXRlM0NyZWF0ZUNvbGxhdGlvblYyKHBEYiwgek5hbWUsIGVUZXh0UmVwLCBwQXJnLCB4Q29tcGFyZSwgeERlc3Ryb3kpO1xuICAgICAgICBpZigwPT09cmMgJiYgeENvbXBhcmUgaW5zdGFuY2VvZiBGdW5jdGlvbil7XG4gICAgICAgICAgX19kYkNsZWFudXBNYXAuYWRkQ29sbGF0aW9uKHBEYiwgek5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByYztcbiAgICAgIH1jYXRjaChlKXtcbiAgICAgICAgcmV0dXJuIHV0aWwuc3FsaXRlM193YXNtX2RiX2Vycm9yKHBEYiwgZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNhcGkuc3FsaXRlM19jcmVhdGVfY29sbGF0aW9uID0gKHBEYix6TmFtZSxlVGV4dFJlcCxwQXJnLHhDb21wYXJlKT0+e1xuICAgICAgcmV0dXJuICg1PT09YXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgPyBjYXBpLnNxbGl0ZTNfY3JlYXRlX2NvbGxhdGlvbl92MihwRGIsek5hbWUsZVRleHRSZXAscEFyZyx4Q29tcGFyZSwwKVxuICAgICAgICA6IF9fZGJBcmdjTWlzbWF0Y2gocERiLCAnc3FsaXRlM19jcmVhdGVfY29sbGF0aW9uJywgNSk7XG4gICAgfTtcblxuICB9LypzcWxpdGUzX2NyZWF0ZV9jb2xsYXRpb24oKSBhbmQgZnJpZW5kcyovXG5cbiAgey8qIFNwZWNpYWwtY2FzZSBoYW5kbGluZyBvZiBzcWxpdGUzX2NyZWF0ZV9mdW5jdGlvbl92MigpXG4gICAgICBhbmQgc3FsaXRlM19jcmVhdGVfd2luZG93X2Z1bmN0aW9uKCkuICovXG4gICAgLyoqIEZ1bmNQdHJBZGFwdGVyIGZvciBjb250ZXh0S2V5KCkgZm9yIHNxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uKClcbiAgICAgICAgYW5kIGZyaWVuZHMuICovXG4gICAgY29uc3QgY29udGV4dEtleSA9IGZ1bmN0aW9uKGFyZ3YsYXJnSW5kZXgpe1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgYXJndlswLyogc3FsaXRlMyogKi9dXG4gICAgICAgICAgKyc6JysoYXJndlsyLypudW1iZXIgb2YgVURGIGFyZ3MqL10gPCAwID8gLTEgOiBhcmd2WzJdKVxuICAgICAgICAgICsnOicrYXJnSW5kZXgvKmRpc3RpbmN0IGZvciBlYWNoIHhBYmMgY2FsbGJhY2sgdHlwZSovXG4gICAgICAgICAgKyc6Jyt3YXNtLmNzdHJUb0pzKGFyZ3ZbMV0pLnRvTG93ZXJDYXNlKClcbiAgICAgIClcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICAgSlMgcHJveGllcyBmb3IgdGhlIHZhcmlvdXMgc3FsaXRlM19jcmVhdGVbX3dpbmRvd11fZnVuY3Rpb24oKVxuICAgICAgIGNhbGxiYWNrcywgc3RydWN0dXJlZCBpbiBhIGZvcm0gdXNhYmxlIGJ5IHdhc20ueFdyYXAuRnVuY1B0ckFkYXB0ZXIuXG4gICAgKi9cbiAgICBjb25zdCBfX2NmUHJveHkgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIHtcbiAgICAgIHhJbnZlcnNlQW5kU3RlcDoge1xuICAgICAgICBzaWduYXR1cmU6J3YocGlwKScsIGNvbnRleHRLZXksXG4gICAgICAgIGNhbGxQcm94eTogKGNhbGxiYWNrKT0+e1xuICAgICAgICAgIHJldHVybiAocEN0eCwgYXJnYywgcEFyZ3YpPT57XG4gICAgICAgICAgICB0cnl7IGNhbGxiYWNrKHBDdHgsIC4uLmNhcGkuc3FsaXRlM192YWx1ZXNfdG9fanMoYXJnYywgcEFyZ3YpKSB9XG4gICAgICAgICAgICBjYXRjaChlKXsgY2FwaS5zcWxpdGUzX3Jlc3VsdF9lcnJvcl9qcyhwQ3R4LCBlKSB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHhGaW5hbEFuZFZhbHVlOiB7XG4gICAgICAgIHNpZ25hdHVyZTondihwKScsIGNvbnRleHRLZXksXG4gICAgICAgIGNhbGxQcm94eTogKGNhbGxiYWNrKT0+e1xuICAgICAgICAgIHJldHVybiAocEN0eCk9PntcbiAgICAgICAgICAgIHRyeXsgY2FwaS5zcWxpdGUzX3Jlc3VsdF9qcyhwQ3R4LCBjYWxsYmFjayhwQ3R4KSkgfVxuICAgICAgICAgICAgY2F0Y2goZSl7IGNhcGkuc3FsaXRlM19yZXN1bHRfZXJyb3JfanMocEN0eCwgZSkgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB4RnVuYzoge1xuICAgICAgICBzaWduYXR1cmU6J3YocGlwKScsIGNvbnRleHRLZXksXG4gICAgICAgIGNhbGxQcm94eTogKGNhbGxiYWNrKT0+e1xuICAgICAgICAgIHJldHVybiAocEN0eCwgYXJnYywgcEFyZ3YpPT57XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgIGNhcGkuc3FsaXRlM19yZXN1bHRfanMoXG4gICAgICAgICAgICAgICAgcEN0eCxcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhwQ3R4LCAuLi5jYXBpLnNxbGl0ZTNfdmFsdWVzX3RvX2pzKGFyZ2MsIHBBcmd2KSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1jYXRjaChlKXtcbiAgICAgICAgICAgICAgLy9jb25zb2xlLmVycm9yKCd4RnVuYygpIGNhdWdodDonLGUpO1xuICAgICAgICAgICAgICBjYXBpLnNxbGl0ZTNfcmVzdWx0X2Vycm9yX2pzKHBDdHgsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB4RGVzdHJveToge1xuICAgICAgICBzaWduYXR1cmU6J3YocCknLCBjb250ZXh0S2V5LFxuICAgICAgICAvL0FyZ3VhYmxlOiBhIHdlbGwtYmVoYXZlZCBkZXN0cnVjdG9yIGRvZXNuJ3QgcmVxdWlyZSBhIHByb3h5LlxuICAgICAgICBjYWxsUHJveHk6IChjYWxsYmFjayk9PntcbiAgICAgICAgICByZXR1cm4gKHBWb2lkKT0+e1xuICAgICAgICAgICAgdHJ5eyBjYWxsYmFjayhwVm9pZCkgfVxuICAgICAgICAgICAgY2F0Y2goZSl7IGNvbnNvbGUuZXJyb3IoXCJVREYgeERlc3Ryb3kgbWV0aG9kIHRocmV3OlwiLGUpIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkvKl9fY2ZQcm94eSovO1xuXG4gICAgY29uc3QgX19zcWxpdGUzQ3JlYXRlRnVuY3Rpb24gPSB3YXNtLnhXcmFwKFxuICAgICAgXCJzcWxpdGUzX2NyZWF0ZV9mdW5jdGlvbl92MlwiLCBcImludFwiLCBbXG4gICAgICAgIFwic3FsaXRlMypcIiwgXCJzdHJpbmdcIi8qZnVuY05hbWUqLywgXCJpbnRcIi8qbkFyZyovLFxuICAgICAgICBcImludFwiLyplVGV4dFJlcCovLCBcIipcIi8qcEFwcCovLFxuICAgICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7bmFtZTogJ3hGdW5jJywgLi4uX19jZlByb3h5LnhGdW5jfSksXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtuYW1lOiAneFN0ZXAnLCAuLi5fX2NmUHJveHkueEludmVyc2VBbmRTdGVwfSksXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtuYW1lOiAneEZpbmFsJywgLi4uX19jZlByb3h5LnhGaW5hbEFuZFZhbHVlfSksXG4gICAgICAgIG5ldyB3YXNtLnhXcmFwLkZ1bmNQdHJBZGFwdGVyKHtuYW1lOiAneERlc3Ryb3knLCAuLi5fX2NmUHJveHkueERlc3Ryb3l9KVxuICAgICAgXVxuICAgICk7XG5cbiAgICBjb25zdCBfX3NxbGl0ZTNDcmVhdGVXaW5kb3dGdW5jdGlvbiA9IHdhc20ueFdyYXAoXG4gICAgICBcInNxbGl0ZTNfY3JlYXRlX3dpbmRvd19mdW5jdGlvblwiLCBcImludFwiLCBbXG4gICAgICAgIFwic3FsaXRlMypcIiwgXCJzdHJpbmdcIi8qZnVuY05hbWUqLywgXCJpbnRcIi8qbkFyZyovLFxuICAgICAgICBcImludFwiLyplVGV4dFJlcCovLCBcIipcIi8qcEFwcCovLFxuICAgICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7bmFtZTogJ3hTdGVwJywgLi4uX19jZlByb3h5LnhJbnZlcnNlQW5kU3RlcH0pLFxuICAgICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7bmFtZTogJ3hGaW5hbCcsIC4uLl9fY2ZQcm94eS54RmluYWxBbmRWYWx1ZX0pLFxuICAgICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7bmFtZTogJ3hWYWx1ZScsIC4uLl9fY2ZQcm94eS54RmluYWxBbmRWYWx1ZX0pLFxuICAgICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7bmFtZTogJ3hJbnZlcnNlJywgLi4uX19jZlByb3h5LnhJbnZlcnNlQW5kU3RlcH0pLFxuICAgICAgICBuZXcgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlcih7bmFtZTogJ3hEZXN0cm95JywgLi4uX19jZlByb3h5LnhEZXN0cm95fSlcbiAgICAgIF1cbiAgICApO1xuXG4gICAgLyogRG9jdW1lbnRlZCBpbiB0aGUgYXBpIG9iamVjdCdzIGluaXRpYWxpemVyLiAqL1xuICAgIGNhcGkuc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjIgPSBmdW5jdGlvbiBmKFxuICAgICAgcERiLCBmdW5jTmFtZSwgbkFyZywgZVRleHRSZXAsIHBBcHAsXG4gICAgICB4RnVuYywgICAvL3ZvaWQgKCp4RnVuYykoc3FsaXRlM19jb250ZXh0KixpbnQsc3FsaXRlM192YWx1ZSoqKVxuICAgICAgeFN0ZXAsICAgLy92b2lkICgqeFN0ZXApKHNxbGl0ZTNfY29udGV4dCosaW50LHNxbGl0ZTNfdmFsdWUqKilcbiAgICAgIHhGaW5hbCwgIC8vdm9pZCAoKnhGaW5hbCkoc3FsaXRlM19jb250ZXh0KilcbiAgICAgIHhEZXN0cm95IC8vdm9pZCAoKnhEZXN0cm95KSh2b2lkKilcbiAgICApe1xuICAgICAgaWYoIGYubGVuZ3RoIT09YXJndW1lbnRzLmxlbmd0aCApe1xuICAgICAgICByZXR1cm4gX19kYkFyZ2NNaXNtYXRjaChwRGIsXCJzcWxpdGUzX2NyZWF0ZV9mdW5jdGlvbl92MlwiLGYubGVuZ3RoKTtcbiAgICAgIH1lbHNlIGlmKCAwID09PSAoZVRleHRSZXAgJiAweGYpICl7XG4gICAgICAgIGVUZXh0UmVwIHw9IGNhcGkuU1FMSVRFX1VURjg7XG4gICAgICB9ZWxzZSBpZiggY2FwaS5TUUxJVEVfVVRGOCAhPT0gKGVUZXh0UmVwICYgMHhmKSApe1xuICAgICAgICByZXR1cm4gX19lcnJFbmNvZGluZyhwRGIpO1xuICAgICAgfVxuICAgICAgdHJ5e1xuICAgICAgICBjb25zdCByYyA9IF9fc3FsaXRlM0NyZWF0ZUZ1bmN0aW9uKHBEYiwgZnVuY05hbWUsIG5BcmcsIGVUZXh0UmVwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBBcHAsIHhGdW5jLCB4U3RlcCwgeEZpbmFsLCB4RGVzdHJveSk7XG4gICAgICAgIGlmKDA9PT1yYyAmJiAoeEZ1bmMgaW5zdGFuY2VvZiBGdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICAgIHx8IHhTdGVwIGluc3RhbmNlb2YgRnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICB8fCB4RmluYWwgaW5zdGFuY2VvZiBGdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICAgIHx8IHhEZXN0cm95IGluc3RhbmNlb2YgRnVuY3Rpb24pKXtcbiAgICAgICAgICBfX2RiQ2xlYW51cE1hcC5hZGRGdW5jdGlvbihwRGIsIGZ1bmNOYW1lLCBuQXJnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmM7XG4gICAgICB9Y2F0Y2goZSl7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJzcWxpdGUzX2NyZWF0ZV9mdW5jdGlvbl92MigpIHNldHVwIHRocmV3OlwiLGUpO1xuICAgICAgICByZXR1cm4gdXRpbC5zcWxpdGUzX3dhc21fZGJfZXJyb3IocERiLCBlLCBcIkNyZWF0aW9uIG9mIFVERiB0aHJldzogXCIrZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qIERvY3VtZW50ZWQgaW4gdGhlIGFwaSBvYmplY3QncyBpbml0aWFsaXplci4gKi9cbiAgICBjYXBpLnNxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uID0gZnVuY3Rpb24gZihcbiAgICAgIHBEYiwgZnVuY05hbWUsIG5BcmcsIGVUZXh0UmVwLCBwQXBwLFxuICAgICAgeEZ1bmMsIHhTdGVwLCB4RmluYWxcbiAgICApe1xuICAgICAgcmV0dXJuIChmLmxlbmd0aD09PWFyZ3VtZW50cy5sZW5ndGgpXG4gICAgICAgID8gY2FwaS5zcWxpdGUzX2NyZWF0ZV9mdW5jdGlvbl92MihwRGIsIGZ1bmNOYW1lLCBuQXJnLCBlVGV4dFJlcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBBcHAsIHhGdW5jLCB4U3RlcCwgeEZpbmFsLCAwKVxuICAgICAgICA6IF9fZGJBcmdjTWlzbWF0Y2gocERiLFwic3FsaXRlM19jcmVhdGVfZnVuY3Rpb25cIixmLmxlbmd0aCk7XG4gICAgfTtcblxuICAgIC8qIERvY3VtZW50ZWQgaW4gdGhlIGFwaSBvYmplY3QncyBpbml0aWFsaXplci4gKi9cbiAgICBjYXBpLnNxbGl0ZTNfY3JlYXRlX3dpbmRvd19mdW5jdGlvbiA9IGZ1bmN0aW9uIGYoXG4gICAgICBwRGIsIGZ1bmNOYW1lLCBuQXJnLCBlVGV4dFJlcCwgcEFwcCxcbiAgICAgIHhTdGVwLCAgIC8vdm9pZCAoKnhTdGVwKShzcWxpdGUzX2NvbnRleHQqLGludCxzcWxpdGUzX3ZhbHVlKiopXG4gICAgICB4RmluYWwsICAvL3ZvaWQgKCp4RmluYWwpKHNxbGl0ZTNfY29udGV4dCopXG4gICAgICB4VmFsdWUsICAvL3ZvaWQgKCp4VmFsdWUpKHNxbGl0ZTNfY29udGV4dCopXG4gICAgICB4SW52ZXJzZSwvL3ZvaWQgKCp4SW52ZXJzZSkoc3FsaXRlM19jb250ZXh0KixpbnQsc3FsaXRlM192YWx1ZSoqKVxuICAgICAgeERlc3Ryb3kgLy92b2lkICgqeERlc3Ryb3kpKHZvaWQqKVxuICAgICl7XG4gICAgICBpZiggZi5sZW5ndGghPT1hcmd1bWVudHMubGVuZ3RoICl7XG4gICAgICAgIHJldHVybiBfX2RiQXJnY01pc21hdGNoKHBEYixcInNxbGl0ZTNfY3JlYXRlX3dpbmRvd19mdW5jdGlvblwiLGYubGVuZ3RoKTtcbiAgICAgIH1lbHNlIGlmKCAwID09PSAoZVRleHRSZXAgJiAweGYpICl7XG4gICAgICAgIGVUZXh0UmVwIHw9IGNhcGkuU1FMSVRFX1VURjg7XG4gICAgICB9ZWxzZSBpZiggY2FwaS5TUUxJVEVfVVRGOCAhPT0gKGVUZXh0UmVwICYgMHhmKSApe1xuICAgICAgICByZXR1cm4gX19lcnJFbmNvZGluZyhwRGIpO1xuICAgICAgfVxuICAgICAgdHJ5e1xuICAgICAgICBjb25zdCByYyA9IF9fc3FsaXRlM0NyZWF0ZVdpbmRvd0Z1bmN0aW9uKHBEYiwgZnVuY05hbWUsIG5BcmcsIGVUZXh0UmVwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBBcHAsIHhTdGVwLCB4RmluYWwsIHhWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4SW52ZXJzZSwgeERlc3Ryb3kpO1xuICAgICAgICBpZigwPT09cmMgJiYgKHhTdGVwIGluc3RhbmNlb2YgRnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICB8fCB4RmluYWwgaW5zdGFuY2VvZiBGdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICAgIHx8IHhWYWx1ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgfHwgeEludmVyc2UgaW5zdGFuY2VvZiBGdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICAgIHx8IHhEZXN0cm95IGluc3RhbmNlb2YgRnVuY3Rpb24pKXtcbiAgICAgICAgICBfX2RiQ2xlYW51cE1hcC5hZGRXaW5kb3dGdW5jKHBEYiwgZnVuY05hbWUsIG5BcmcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByYztcbiAgICAgIH1jYXRjaChlKXtcbiAgICAgICAgY29uc29sZS5lcnJvcihcInNxbGl0ZTNfY3JlYXRlX3dpbmRvd19mdW5jdGlvbigpIHNldHVwIHRocmV3OlwiLGUpO1xuICAgICAgICByZXR1cm4gdXRpbC5zcWxpdGUzX3dhc21fZGJfZXJyb3IocERiLCBlLCBcIkNyZWF0aW9uIG9mIFVERiB0aHJldzogXCIrZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgICBBIF9kZXByZWNhdGVkXyBhbGlhcyBmb3IgY2FwaS5zcWxpdGUzX3Jlc3VsdF9qcygpIHdoaWNoXG4gICAgICAgcHJlZGF0ZXMgdGhlIGFkZGl0aW9uIG9mIHRoYXQgZnVuY3Rpb24gaW4gdGhlIHB1YmxpYyBBUEkuXG4gICAgKi9cbiAgICBjYXBpLnNxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uX3YyLnVkZlNldFJlc3VsdCA9XG4gICAgICBjYXBpLnNxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uLnVkZlNldFJlc3VsdCA9XG4gICAgICBjYXBpLnNxbGl0ZTNfY3JlYXRlX3dpbmRvd19mdW5jdGlvbi51ZGZTZXRSZXN1bHQgPSBjYXBpLnNxbGl0ZTNfcmVzdWx0X2pzO1xuXG4gICAgLyoqXG4gICAgICAgQSBfZGVwcmVjYXRlZF8gYWxpYXMgZm9yIGNhcGkuc3FsaXRlM192YWx1ZXNfdG9fanMoKSB3aGljaFxuICAgICAgIHByZWRhdGVzIHRoZSBhZGRpdGlvbiBvZiB0aGF0IGZ1bmN0aW9uIGluIHRoZSBwdWJsaWMgQVBJLlxuICAgICovXG4gICAgY2FwaS5zcWxpdGUzX2NyZWF0ZV9mdW5jdGlvbl92Mi51ZGZDb252ZXJ0QXJncyA9XG4gICAgICBjYXBpLnNxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uLnVkZkNvbnZlcnRBcmdzID1cbiAgICAgIGNhcGkuc3FsaXRlM19jcmVhdGVfd2luZG93X2Z1bmN0aW9uLnVkZkNvbnZlcnRBcmdzID0gY2FwaS5zcWxpdGUzX3ZhbHVlc190b19qcztcblxuICAgIC8qKlxuICAgICAgIEEgX2RlcHJlY2F0ZWRfIGFsaWFzIGZvciBjYXBpLnNxbGl0ZTNfcmVzdWx0X2Vycm9yX2pzKCkgd2hpY2hcbiAgICAgICBwcmVkYXRlcyB0aGUgYWRkaXRpb24gb2YgdGhhdCBmdW5jdGlvbiBpbiB0aGUgcHVibGljIEFQSS5cbiAgICAqL1xuICAgIGNhcGkuc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjIudWRmU2V0RXJyb3IgPVxuICAgICAgY2FwaS5zcWxpdGUzX2NyZWF0ZV9mdW5jdGlvbi51ZGZTZXRFcnJvciA9XG4gICAgICBjYXBpLnNxbGl0ZTNfY3JlYXRlX3dpbmRvd19mdW5jdGlvbi51ZGZTZXRFcnJvciA9IGNhcGkuc3FsaXRlM19yZXN1bHRfZXJyb3JfanM7XG5cbiAgfS8qc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjIoKSBhbmQgc3FsaXRlM19jcmVhdGVfd2luZG93X2Z1bmN0aW9uKCkgcHJveGllcyovO1xuXG4gIHsvKiBTcGVjaWFsLWNhc2UgaGFuZGxpbmcgb2Ygc3FsaXRlM19wcmVwYXJlX3YyKCkgYW5kXG4gICAgICBzcWxpdGUzX3ByZXBhcmVfdjMoKSAqL1xuXG4gICAgLyoqXG4gICAgICAgSGVscGVyIGZvciBzdHJpbmc6ZmxleGlibGUgY29udmVyc2lvbnMgd2hpY2ggcmVxdWlyZSBhXG4gICAgICAgYnl0ZS1sZW5ndGggY291bnRlcnBhcnQgYXJndW1lbnQuIFBhc3NlZCBhIHZhbHVlIGFuZCBpdHNcbiAgICAgICBvc3RlbnNpYmxlIGxlbmd0aCwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIFtWLE5dLCB3aGVyZSBWIGlzXG4gICAgICAgZWl0aGVyIHYgb3IgYSB0cmFuc2Zvcm1lZCBjb3B5IG9mIHYgYW5kIE4gaXMgZWl0aGVyIG4sIC0xLCBvclxuICAgICAgIHRoZSBieXRlIGxlbmd0aCBvZiB2IChpZiBpdCdzIGEgYnl0ZSBhcnJheSBvciBBcnJheUJ1ZmZlcikuXG4gICAgKi9cbiAgICBjb25zdCBfX2ZsZXhpU3RyaW5nID0gKHYsbik9PntcbiAgICAgIGlmKCdzdHJpbmcnPT09dHlwZW9mIHYpe1xuICAgICAgICBuID0gLTE7XG4gICAgICB9ZWxzZSBpZih1dGlsLmlzU1FMYWJsZVR5cGVkQXJyYXkodikpe1xuICAgICAgICBuID0gdi5ieXRlTGVuZ3RoO1xuICAgICAgICB2ID0gdXRpbC50eXBlZEFycmF5VG9TdHJpbmcoXG4gICAgICAgICAgKHYgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgPyBuZXcgVWludDhBcnJheSh2KSA6IHZcbiAgICAgICAgKTtcbiAgICAgIH1lbHNlIGlmKEFycmF5LmlzQXJyYXkodikpe1xuICAgICAgICB2ID0gdi5qb2luKFwiXCIpO1xuICAgICAgICBuID0gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gW3YsIG5dO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgICBTY29wZS1sb2NhbCBob2xkZXIgb2YgdGhlIHR3byBpbXBscyBvZiBzcWxpdGUzX3ByZXBhcmVfdjIvdjMoKS5cbiAgICAqL1xuICAgIGNvbnN0IF9fcHJlcGFyZSA9IHtcbiAgICAgIC8qKlxuICAgICAgICAgVGhpcyBiaW5kaW5nIGV4cGVjdHMgYSBKUyBzdHJpbmcgYXMgaXRzIDJuZCBhcmd1bWVudCBhbmRcbiAgICAgICAgIG51bGwgYXMgaXRzIGZpbmFsIGFyZ3VtZW50LiBJbiBvcmRlciB0byBjb21waWxlIG11bHRpcGxlXG4gICAgICAgICBzdGF0ZW1lbnRzIGZyb20gYSBzaW5nbGUgc3RyaW5nLCB0aGUgXCJmdWxsXCIgaW1wbCAoc2VlXG4gICAgICAgICBiZWxvdykgbXVzdCBiZSB1c2VkLlxuICAgICAgKi9cbiAgICAgIGJhc2ljOiB3YXNtLnhXcmFwKCdzcWxpdGUzX3ByZXBhcmVfdjMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbnRcIiwgW1wic3FsaXRlMypcIiwgXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbnRcIi8qaWdub3JlZCBmb3IgdGhpcyBpbXBsISovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImludFwiLCBcIioqXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiKipcIi8qTVVTVCBiZSAwIG9yIG51bGwgb3IgdW5kZWZpbmVkISovXSksXG4gICAgICAvKipcbiAgICAgICAgIEltcGwgd2hpY2ggcmVxdWlyZXMgdGhhdCB0aGUgMm5kIGFyZ3VtZW50IGJlIGEgcG9pbnRlclxuICAgICAgICAgdG8gdGhlIFNRTCBzdHJpbmcsIGluc3RlYWQgb2YgYmVpbmcgY29udmVydGVkIHRvIGFcbiAgICAgICAgIHN0cmluZy4gVGhpcyB2YXJpYW50IGlzIG5lY2Vzc2FyeSBmb3IgY2FzZXMgd2hlcmUgd2VcbiAgICAgICAgIHJlcXVpcmUgYSBub24tTlVMTCB2YWx1ZSBmb3IgdGhlIGZpbmFsIGFyZ3VtZW50XG4gICAgICAgICAoZXhlYygpJ2luZyBtdWx0aXBsZSBzdGF0ZW1lbnRzIGZyb20gb25lIGlucHV0XG4gICAgICAgICBzdHJpbmcpLiBGb3Igc2ltcGxlciBjYXNlcywgd2hlcmUgb25seSB0aGUgZmlyc3RcbiAgICAgICAgIHN0YXRlbWVudCBpbiB0aGUgU1FMIHN0cmluZyBpcyByZXF1aXJlZCwgdGhlIHdyYXBwZXJcbiAgICAgICAgIG5hbWVkIHNxbGl0ZTNfcHJlcGFyZV92MigpIGlzIHN1ZmZpY2llbnQgYW5kIGVhc2llciB0b1xuICAgICAgICAgdXNlIGJlY2F1c2UgaXQgZG9lc24ndCByZXF1aXJlIGRlYWxpbmcgd2l0aCBwb2ludGVycy5cbiAgICAgICovXG4gICAgICBmdWxsOiB3YXNtLnhXcmFwKCdzcWxpdGUzX3ByZXBhcmVfdjMnLFxuICAgICAgICAgICAgICAgICAgICAgICBcImludFwiLCBbXCJzcWxpdGUzKlwiLCBcIipcIiwgXCJpbnRcIiwgXCJpbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIioqXCIsIFwiKipcIl0pXG4gICAgfTtcblxuICAgIC8qIERvY3VtZW50ZWQgaW4gdGhlIGNhcGkgb2JqZWN0J3MgaW5pdGlhbGl6ZXIuICovXG4gICAgY2FwaS5zcWxpdGUzX3ByZXBhcmVfdjMgPSBmdW5jdGlvbiBmKHBEYiwgc3FsLCBzcWxMZW4sIHByZXBGbGFncywgcHBTdG10LCBwelRhaWwpe1xuICAgICAgaWYoZi5sZW5ndGghPT1hcmd1bWVudHMubGVuZ3RoKXtcbiAgICAgICAgcmV0dXJuIF9fZGJBcmdjTWlzbWF0Y2gocERiLFwic3FsaXRlM19wcmVwYXJlX3YzXCIsZi5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgY29uc3QgW3hTcWwsIHhTcWxMZW5dID0gX19mbGV4aVN0cmluZyhzcWwsIHNxbExlbik7XG4gICAgICBzd2l0Y2godHlwZW9mIHhTcWwpe1xuICAgICAgICAgIGNhc2UgJ3N0cmluZyc6IHJldHVybiBfX3ByZXBhcmUuYmFzaWMocERiLCB4U3FsLCB4U3FsTGVuLCBwcmVwRmxhZ3MsIHBwU3RtdCwgbnVsbCk7XG4gICAgICAgICAgY2FzZSAnbnVtYmVyJzogcmV0dXJuIF9fcHJlcGFyZS5mdWxsKHBEYiwgeFNxbCwgeFNxbExlbiwgcHJlcEZsYWdzLCBwcFN0bXQsIHB6VGFpbCk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB1dGlsLnNxbGl0ZTNfd2FzbV9kYl9lcnJvcihcbiAgICAgICAgICAgICAgcERiLCBjYXBpLlNRTElURV9NSVNVU0UsXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBTUUwgYXJndW1lbnQgdHlwZSBmb3Igc3FsaXRlM19wcmVwYXJlX3YyL3YzKCkuXCJcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qIERvY3VtZW50ZWQgaW4gdGhlIGNhcGkgb2JqZWN0J3MgaW5pdGlhbGl6ZXIuICovXG4gICAgY2FwaS5zcWxpdGUzX3ByZXBhcmVfdjIgPSBmdW5jdGlvbiBmKHBEYiwgc3FsLCBzcWxMZW4sIHBwU3RtdCwgcHpUYWlsKXtcbiAgICAgIHJldHVybiAoZi5sZW5ndGg9PT1hcmd1bWVudHMubGVuZ3RoKVxuICAgICAgICA/IGNhcGkuc3FsaXRlM19wcmVwYXJlX3YzKHBEYiwgc3FsLCBzcWxMZW4sIDAsIHBwU3RtdCwgcHpUYWlsKVxuICAgICAgICA6IF9fZGJBcmdjTWlzbWF0Y2gocERiLFwic3FsaXRlM19wcmVwYXJlX3YyXCIsZi5sZW5ndGgpO1xuICAgIH07XG5cbiAgfS8qc3FsaXRlM19wcmVwYXJlX3YyL3YzKCkqL1xuXG4gIHsvKnNxbGl0ZTNfYmluZF90ZXh0L2Jsb2IoKSovXG4gICAgY29uc3QgX19iaW5kVGV4dCA9IHdhc20ueFdyYXAoXCJzcWxpdGUzX2JpbmRfdGV4dFwiLCBcImludFwiLCBbXG4gICAgICBcInNxbGl0ZTNfc3RtdCpcIiwgXCJpbnRcIiwgXCJzdHJpbmdcIiwgXCJpbnRcIiwgXCIqXCJcbiAgICBdKTtcbiAgICBjb25zdCBfX2JpbmRCbG9iID0gd2FzbS54V3JhcChcInNxbGl0ZTNfYmluZF9ibG9iXCIsIFwiaW50XCIsIFtcbiAgICAgIFwic3FsaXRlM19zdG10KlwiLCBcImludFwiLCBcIipcIiwgXCJpbnRcIiwgXCIqXCJcbiAgICBdKTtcblxuICAgIC8qKiBEb2N1bWVudGVkIGluIHRoZSBjYXBpIG9iamVjdCdzIGluaXRpYWxpemVyLiAqL1xuICAgIGNhcGkuc3FsaXRlM19iaW5kX3RleHQgPSBmdW5jdGlvbiBmKHBTdG10LCBpQ29sLCB0ZXh0LCBuVGV4dCwgeERlc3Ryb3kpe1xuICAgICAgaWYoZi5sZW5ndGghPT1hcmd1bWVudHMubGVuZ3RoKXtcbiAgICAgICAgcmV0dXJuIF9fZGJBcmdjTWlzbWF0Y2goY2FwaS5zcWxpdGUzX2RiX2hhbmRsZShwU3RtdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3FsaXRlM19iaW5kX3RleHRcIiwgZi5sZW5ndGgpO1xuICAgICAgfWVsc2UgaWYod2FzbS5pc1B0cih0ZXh0KSB8fCBudWxsPT09dGV4dCl7XG4gICAgICAgIHJldHVybiBfX2JpbmRUZXh0KHBTdG10LCBpQ29sLCB0ZXh0LCBuVGV4dCwgeERlc3Ryb3kpO1xuICAgICAgfWVsc2UgaWYodGV4dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXtcbiAgICAgICAgdGV4dCA9IG5ldyBVaW50OEFycmF5KHRleHQpO1xuICAgICAgfWVsc2UgaWYoQXJyYXkuaXNBcnJheShwTWVtKSl7XG4gICAgICAgIHRleHQgPSBwTWVtLmpvaW4oJycpO1xuICAgICAgfVxuICAgICAgbGV0IHAsIG47XG4gICAgICB0cnl7XG4gICAgICAgIGlmKHV0aWwuaXNTUUxhYmxlVHlwZWRBcnJheSh0ZXh0KSl7XG4gICAgICAgICAgcCA9IHdhc20uYWxsb2NGcm9tVHlwZWRBcnJheSh0ZXh0KTtcbiAgICAgICAgICBuID0gdGV4dC5ieXRlTGVuZ3RoO1xuICAgICAgICB9ZWxzZSBpZignc3RyaW5nJz09PXR5cGVvZiB0ZXh0KXtcbiAgICAgICAgICBbcCwgbl0gPSB3YXNtLmFsbG9jQ1N0cmluZyh0ZXh0KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIHV0aWwuc3FsaXRlM193YXNtX2RiX2Vycm9yKFxuICAgICAgICAgICAgY2FwaS5zcWxpdGUzX2RiX2hhbmRsZShwU3RtdCksIGNhcGkuU1FMSVRFX01JU1VTRSxcbiAgICAgICAgICAgIFwiSW52YWxpZCAzcmQgYXJndW1lbnQgdHlwZSBmb3Igc3FsaXRlM19iaW5kX3RleHQoKS5cIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9fYmluZFRleHQocFN0bXQsIGlDb2wsIHAsIG4sIGNhcGkuU1FMSVRFX1dBU01fREVBTExPQyk7XG4gICAgICB9Y2F0Y2goZSl7XG4gICAgICAgIHdhc20uZGVhbGxvYyhwKTtcbiAgICAgICAgcmV0dXJuIHV0aWwuc3FsaXRlM193YXNtX2RiX2Vycm9yKFxuICAgICAgICAgIGNhcGkuc3FsaXRlM19kYl9oYW5kbGUocFN0bXQpLCBlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfS8qc3FsaXRlM19iaW5kX3RleHQoKSovO1xuXG4gICAgLyoqIERvY3VtZW50ZWQgaW4gdGhlIGNhcGkgb2JqZWN0J3MgaW5pdGlhbGl6ZXIuICovXG4gICAgY2FwaS5zcWxpdGUzX2JpbmRfYmxvYiA9IGZ1bmN0aW9uIGYocFN0bXQsIGlDb2wsIHBNZW0sIG5NZW0sIHhEZXN0cm95KXtcbiAgICAgIGlmKGYubGVuZ3RoIT09YXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICAgIHJldHVybiBfX2RiQXJnY01pc21hdGNoKGNhcGkuc3FsaXRlM19kYl9oYW5kbGUocFN0bXQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNxbGl0ZTNfYmluZF9ibG9iXCIsIGYubGVuZ3RoKTtcbiAgICAgIH1lbHNlIGlmKHdhc20uaXNQdHIocE1lbSkgfHwgbnVsbD09PXBNZW0pe1xuICAgICAgICByZXR1cm4gX19iaW5kQmxvYihwU3RtdCwgaUNvbCwgcE1lbSwgbk1lbSwgeERlc3Ryb3kpO1xuICAgICAgfWVsc2UgaWYocE1lbSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXtcbiAgICAgICAgcE1lbSA9IG5ldyBVaW50OEFycmF5KHBNZW0pO1xuICAgICAgfWVsc2UgaWYoQXJyYXkuaXNBcnJheShwTWVtKSl7XG4gICAgICAgIHBNZW0gPSBwTWVtLmpvaW4oJycpO1xuICAgICAgfVxuICAgICAgbGV0IHAsIG47XG4gICAgICB0cnl7XG4gICAgICAgIGlmKHV0aWwuaXNCaW5kYWJsZVR5cGVkQXJyYXkocE1lbSkpe1xuICAgICAgICAgIHAgPSB3YXNtLmFsbG9jRnJvbVR5cGVkQXJyYXkocE1lbSk7XG4gICAgICAgICAgbiA9IG5NZW0+PTAgPyBuTWVtIDogcE1lbS5ieXRlTGVuZ3RoO1xuICAgICAgICB9ZWxzZSBpZignc3RyaW5nJz09PXR5cGVvZiBwTWVtKXtcbiAgICAgICAgICBbcCwgbl0gPSB3YXNtLmFsbG9jQ1N0cmluZyhwTWVtKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIHV0aWwuc3FsaXRlM193YXNtX2RiX2Vycm9yKFxuICAgICAgICAgICAgY2FwaS5zcWxpdGUzX2RiX2hhbmRsZShwU3RtdCksIGNhcGkuU1FMSVRFX01JU1VTRSxcbiAgICAgICAgICAgIFwiSW52YWxpZCAzcmQgYXJndW1lbnQgdHlwZSBmb3Igc3FsaXRlM19iaW5kX2Jsb2IoKS5cIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9fYmluZEJsb2IocFN0bXQsIGlDb2wsIHAsIG4sIGNhcGkuU1FMSVRFX1dBU01fREVBTExPQyk7XG4gICAgICB9Y2F0Y2goZSl7XG4gICAgICAgIHdhc20uZGVhbGxvYyhwKTtcbiAgICAgICAgcmV0dXJuIHV0aWwuc3FsaXRlM193YXNtX2RiX2Vycm9yKFxuICAgICAgICAgIGNhcGkuc3FsaXRlM19kYl9oYW5kbGUocFN0bXQpLCBlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfS8qc3FsaXRlM19iaW5kX2Jsb2IoKSovO1xuXG4gIH0vKnNxbGl0ZTNfYmluZF90ZXh0L2Jsb2IoKSovXG5cbiAgey8qIHNxbGl0ZTNfY29uZmlnKCkgKi9cbiAgICAvKipcbiAgICAgICBXcmFwcyBhIHNtYWxsIHN1YnNldCBvZiB0aGUgQyBBUEkncyBzcWxpdGUzX2NvbmZpZygpIG9wdGlvbnMuXG4gICAgICAgVW5zdXBwb3J0ZWQgb3B0aW9ucyB0cmlnZ2VyIHRoZSByZXR1cm4gb2YgY2FwaS5TUUxJVEVfTk9URk9VTkQuXG4gICAgICAgUGFzc2luZyBmZXdlciB0aGFuIDIgYXJndW1lbnRzIHRyaWdnZXJzIHJldHVybiBvZlxuICAgICAgIGNhcGkuU1FMSVRFX01JU1VTRS5cbiAgICAqL1xuICAgIGNhcGkuc3FsaXRlM19jb25maWcgPSBmdW5jdGlvbihvcCwgLi4uYXJncyl7XG4gICAgICBpZihhcmd1bWVudHMubGVuZ3RoPDIpIHJldHVybiBjYXBpLlNRTElURV9NSVNVU0U7XG4gICAgICBzd2l0Y2gob3Ape1xuICAgICAgICAgIGNhc2UgY2FwaS5TUUxJVEVfQ09ORklHX0NPVkVSSU5HX0lOREVYX1NDQU46IC8vIDIwICAvKiBpbnQgKi9cbiAgICAgICAgICBjYXNlIGNhcGkuU1FMSVRFX0NPTkZJR19NRU1TVEFUVVM6Ly8gOSAgLyogYm9vbGVhbiAqL1xuICAgICAgICAgIGNhc2UgY2FwaS5TUUxJVEVfQ09ORklHX1NNQUxMX01BTExPQzogLy8gMjcgIC8qIGJvb2xlYW4gKi9cbiAgICAgICAgICBjYXNlIGNhcGkuU1FMSVRFX0NPTkZJR19TT1JURVJSRUZfU0laRTogLy8gMjggIC8qIGludCBuQnl0ZSAqL1xuICAgICAgICAgIGNhc2UgY2FwaS5TUUxJVEVfQ09ORklHX1NUTVRKUk5MX1NQSUxMOiAvLyAyNiAgLyogaW50IG5CeXRlICovXG4gICAgICAgICAgY2FzZSBjYXBpLlNRTElURV9DT05GSUdfVVJJOi8vIDE3ICAvKiBpbnQgKi9cbiAgICAgICAgICAgIHJldHVybiB3YXNtLmV4cG9ydHMuc3FsaXRlM193YXNtX2NvbmZpZ19pKG9wLCBhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIGNhcGkuU1FMSVRFX0NPTkZJR19MT09LQVNJREU6IC8vIDEzICAvKiBpbnQgaW50ICovXG4gICAgICAgICAgICByZXR1cm4gd2FzbS5leHBvcnRzLnNxbGl0ZTNfd2FzbV9jb25maWdfaWkob3AsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgY2FwaS5TUUxJVEVfQ09ORklHX01FTURCX01BWFNJWkU6IC8vIDI5ICAvKiBzcWxpdGUzX2ludDY0ICovXG4gICAgICAgICAgICByZXR1cm4gd2FzbS5leHBvcnRzLnNxbGl0ZTNfd2FzbV9jb25maWdfaihvcCwgYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSBjYXBpLlNRTElURV9DT05GSUdfR0VUTUFMTE9DOiAvLyA1IC8qIHNxbGl0ZTNfbWVtX21ldGhvZHMqICovXG4gICAgICAgICAgY2FzZSBjYXBpLlNRTElURV9DT05GSUdfR0VUTVVURVg6IC8vIDExICAvKiBzcWxpdGUzX211dGV4X21ldGhvZHMqICovXG4gICAgICAgICAgY2FzZSBjYXBpLlNRTElURV9DT05GSUdfR0VUUENBQ0hFMjogLy8gMTkgIC8qIHNxbGl0ZTNfcGNhY2hlX21ldGhvZHMyKiAqL1xuICAgICAgICAgIGNhc2UgY2FwaS5TUUxJVEVfQ09ORklHX0dFVFBDQUNIRTogLy8gMTUgIC8qIG5vLW9wICovXG4gICAgICAgICAgY2FzZSBjYXBpLlNRTElURV9DT05GSUdfSEVBUDogLy8gOCAgLyogdm9pZCosIGludCBuQnl0ZSwgaW50IG1pbiAqL1xuICAgICAgICAgIGNhc2UgY2FwaS5TUUxJVEVfQ09ORklHX0xPRzogLy8gMTYgIC8qIHhGdW5jLCB2b2lkKiAqL1xuICAgICAgICAgIGNhc2UgY2FwaS5TUUxJVEVfQ09ORklHX01BTExPQzovLyA0ICAvKiBzcWxpdGUzX21lbV9tZXRob2RzKiAqL1xuICAgICAgICAgIGNhc2UgY2FwaS5TUUxJVEVfQ09ORklHX01NQVBfU0laRTogLy8gMjIgIC8qIHNxbGl0ZTNfaW50NjQsIHNxbGl0ZTNfaW50NjQgKi9cbiAgICAgICAgICBjYXNlIGNhcGkuU1FMSVRFX0NPTkZJR19NVUxUSVRIUkVBRDogLy8gMiAvKiBuaWwgKi9cbiAgICAgICAgICBjYXNlIGNhcGkuU1FMSVRFX0NPTkZJR19NVVRFWDogLy8gMTAgIC8qIHNxbGl0ZTNfbXV0ZXhfbWV0aG9kcyogKi9cbiAgICAgICAgICBjYXNlIGNhcGkuU1FMSVRFX0NPTkZJR19QQUdFQ0FDSEU6IC8vIDcgIC8qIHZvaWQqLCBpbnQgc3osIGludCBOICovXG4gICAgICAgICAgY2FzZSBjYXBpLlNRTElURV9DT05GSUdfUENBQ0hFMjogLy8gMTggIC8qIHNxbGl0ZTNfcGNhY2hlX21ldGhvZHMyKiAqL1xuICAgICAgICAgIGNhc2UgY2FwaS5TUUxJVEVfQ09ORklHX1BDQUNIRTogLy8gMTQgIC8qIG5vLW9wICovXG4gICAgICAgICAgY2FzZSBjYXBpLlNRTElURV9DT05GSUdfUENBQ0hFX0hEUlNaOiAvLyAyNCAgLyogaW50ICpwc3ogKi9cbiAgICAgICAgICBjYXNlIGNhcGkuU1FMSVRFX0NPTkZJR19QTUFTWjogLy8gMjUgIC8qIHVuc2lnbmVkIGludCBzelBtYSAqL1xuICAgICAgICAgIGNhc2UgY2FwaS5TUUxJVEVfQ09ORklHX1NFUklBTElaRUQ6IC8vIDMgLyogbmlsICovXG4gICAgICAgICAgY2FzZSBjYXBpLlNRTElURV9DT05GSUdfU0lOR0xFVEhSRUFEOiAvLyAxIC8qIG5pbCAqLzpcbiAgICAgICAgICBjYXNlIGNhcGkuU1FMSVRFX0NPTkZJR19TUUxMT0c6IC8vIDIxICAvKiB4U3FsbG9nLCB2b2lkKiAqL1xuICAgICAgICAgIGNhc2UgY2FwaS5TUUxJVEVfQ09ORklHX1dJTjMyX0hFQVBTSVpFOiAvLyAyMyAgLyogaW50IG5CeXRlICovXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBjYXBpLlNRTElURV9OT1RGT1VORDtcbiAgICAgIH1cbiAgICB9O1xuICB9Lyogc3FsaXRlM19jb25maWcoKSAqL1xuXG4gIHsvKmF1dG8tZXh0ZW5zaW9uIGJpbmRpbmdzLiovXG4gICAgY29uc3QgX19hdXRvRXh0RnB0ciA9IG5ldyBTZXQ7XG5cbiAgICBjYXBpLnNxbGl0ZTNfYXV0b19leHRlbnNpb24gPSBmdW5jdGlvbihmUHRyKXtcbiAgICAgIGlmKCBmUHRyIGluc3RhbmNlb2YgRnVuY3Rpb24gKXtcbiAgICAgICAgZlB0ciA9IHdhc20uaW5zdGFsbEZ1bmN0aW9uKCdpKHBwcCknLCBmUHRyKTtcbiAgICAgIH1lbHNlIGlmKCAxIT09YXJndW1lbnRzLmxlbmd0aCB8fCAhd2FzbS5pc1B0cihmUHRyKSApe1xuICAgICAgICByZXR1cm4gY2FwaS5TUUxJVEVfTUlTVVNFO1xuICAgICAgfVxuICAgICAgY29uc3QgcmMgPSB3YXNtLmV4cG9ydHMuc3FsaXRlM19hdXRvX2V4dGVuc2lvbihmUHRyKTtcbiAgICAgIGlmKCBmUHRyIT09YXJndW1lbnRzWzBdICl7XG4gICAgICAgIGlmKDA9PT1yYykgX19hdXRvRXh0RnB0ci5hZGQoZlB0cik7XG4gICAgICAgIGVsc2Ugd2FzbS51bmluc3RhbGxGdW5jdGlvbihmUHRyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByYztcbiAgICB9O1xuXG4gICAgY2FwaS5zcWxpdGUzX2NhbmNlbF9hdXRvX2V4dGVuc2lvbiA9IGZ1bmN0aW9uKGZQdHIpe1xuICAgICAvKiBXZSBkbyBub3QgZG8gYW4gYXV0b21hdGljIEpTLXRvLVdBU00gZnVuY3Rpb24gY29udmVyc2lvbiBoZXJlXG4gICAgICAgIGJlY2F1c2UgaXQgd291bGQgYmUgc2Vuc2VsZXNzOiB0aGUgY29udmVydGVkIHBvaW50ZXIgd291bGRcbiAgICAgICAgbmV2ZXIgcG9zc2libHkgbWF0Y2ggYW4gYWxyZWFkeS1pbnN0YWxsZWQgb25lLiAqLztcbiAgICAgIGlmKCFmUHRyIHx8IDEhPT1hcmd1bWVudHMubGVuZ3RoIHx8ICF3YXNtLmlzUHRyKGZQdHIpKSByZXR1cm4gMDtcbiAgICAgIHJldHVybiB3YXNtLmV4cG9ydHMuc3FsaXRlM19jYW5jZWxfYXV0b19leHRlbnNpb24oZlB0cik7XG4gICAgICAvKiBOb3RlIHRoYXQgaXQgXCJjYW5ub3QgaGFwcGVuXCIgdGhhdCBhIGNsaWVudCBwYXNzZXMgYSBwb2ludGVyIHdoaWNoXG4gICAgICAgICBpcyBpbiBfX2F1dG9FeHRGcHRyIGJlY2F1c2UgX19hdXRvRXh0RnB0ciBvbmx5IGNvbnRhaW5zIGF1dG9tYXRpY1xuICAgICAgICAgY29udmVyc2lvbnMgY3JlYXRlZCBpbnNpZGUgc3FsaXRlM19hdXRvX2V4dGVuc2lvbigpIGFuZFxuICAgICAgICAgbmV2ZXIgZXhwb3NlZCB0byB0aGUgY2xpZW50LiAqL1xuICAgIH07XG5cbiAgICBjYXBpLnNxbGl0ZTNfcmVzZXRfYXV0b19leHRlbnNpb24gPSBmdW5jdGlvbigpe1xuICAgICAgd2FzbS5leHBvcnRzLnNxbGl0ZTNfcmVzZXRfYXV0b19leHRlbnNpb24oKTtcbiAgICAgIGZvcihjb25zdCBmcCBvZiBfX2F1dG9FeHRGcHRyKSB3YXNtLnVuaW5zdGFsbEZ1bmN0aW9uKGZwKTtcbiAgICAgIF9fYXV0b0V4dEZwdHIuY2xlYXIoKTtcbiAgICB9O1xuICB9LyogYXV0by1leHRlbnNpb24gKi9cblxuICBjb25zdCBwS3Z2ZnMgPSBjYXBpLnNxbGl0ZTNfdmZzX2ZpbmQoXCJrdnZmc1wiKTtcbiAgaWYoIHBLdnZmcyApey8qIGt2dmZzLXNwZWNpZmljIGdsdWUgKi9cbiAgICBpZih1dGlsLmlzVUlUaHJlYWQoKSl7XG4gICAgICBjb25zdCBrdnZmc01ldGhvZHMgPSBuZXcgY2FwaS5zcWxpdGUzX2t2dmZzX21ldGhvZHMoXG4gICAgICAgIHdhc20uZXhwb3J0cy5zcWxpdGUzX3dhc21fa3Z2ZnNfbWV0aG9kcygpXG4gICAgICApO1xuICAgICAgZGVsZXRlIGNhcGkuc3FsaXRlM19rdnZmc19tZXRob2RzO1xuXG4gICAgICBjb25zdCBrdnZmc01ha2VLZXkgPSB3YXNtLmV4cG9ydHMuc3FsaXRlM193YXNtX2t2dmZzTWFrZUtleU9uUHN0YWNrLFxuICAgICAgICAgICAgcHN0YWNrID0gd2FzbS5wc3RhY2s7XG5cbiAgICAgIGNvbnN0IGt2dmZzU3RvcmFnZSA9ICh6Q2xhc3MpPT5cbiAgICAgICAgICAgICgoMTE1Lyo9PSdzJyovPT09d2FzbS5wZWVrKHpDbGFzcykpXG4gICAgICAgICAgICAgPyBzZXNzaW9uU3RvcmFnZSA6IGxvY2FsU3RvcmFnZSk7XG5cbiAgICAgIC8qKlxuICAgICAgICAgSW1wbGVtZW50YXRpb25zIGZvciBtZW1iZXJzIG9mIHRoZSBvYmplY3QgcmVmZXJyZWQgdG8gYnlcbiAgICAgICAgIHNxbGl0ZTNfd2FzbV9rdnZmc19tZXRob2RzKCkuIFdlIHN3YXAgb3V0IHRoZSBuYXRpdmVcbiAgICAgICAgIGltcGxlbWVudGF0aW9ucyB3aXRoIHRoZXNlLCB3aGljaCB1c2UgbG9jYWxTdG9yYWdlIG9yXG4gICAgICAgICBzZXNzaW9uU3RvcmFnZSBmb3IgdGhlaXIgYmFja2luZyBzdG9yZS5cbiAgICAgICovXG4gICAgICBjb25zdCBrdnZmc0ltcGxzID0ge1xuICAgICAgICB4UmVhZDogKHpDbGFzcywgektleSwgekJ1ZiwgbkJ1Zik9PntcbiAgICAgICAgICBjb25zdCBzdGFjayA9IHBzdGFjay5wb2ludGVyLFxuICAgICAgICAgICAgICAgIGFzdGFjayA9IHdhc20uc2NvcGVkQWxsb2NQdXNoKCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHpYS2V5ID0ga3Z2ZnNNYWtlS2V5KHpDbGFzcyx6S2V5KTtcbiAgICAgICAgICAgIGlmKCF6WEtleSkgcmV0dXJuIC0zLypPT00qLztcbiAgICAgICAgICAgIGNvbnN0IGpLZXkgPSB3YXNtLmNzdHJUb0pzKHpYS2V5KTtcbiAgICAgICAgICAgIGNvbnN0IGpWID0ga3Z2ZnNTdG9yYWdlKHpDbGFzcykuZ2V0SXRlbShqS2V5KTtcbiAgICAgICAgICAgIGlmKCFqVikgcmV0dXJuIC0xO1xuICAgICAgICAgICAgY29uc3QgblYgPSBqVi5sZW5ndGggLyogTm90ZSB0aGF0IHdlIGFyZSByZWx5aW5nIDEwMCUgb24gdiBiZWluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVNDSUkgc28gdGhhdCBqVi5sZW5ndGggaXMgZXF1YWwgdG8gdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDLXN0cmluZydzIGJ5dGUgbGVuZ3RoLiAqLztcbiAgICAgICAgICAgIGlmKG5CdWY8PTApIHJldHVybiBuVjtcbiAgICAgICAgICAgIGVsc2UgaWYoMT09PW5CdWYpe1xuICAgICAgICAgICAgICB3YXNtLnBva2UoekJ1ZiwgMCk7XG4gICAgICAgICAgICAgIHJldHVybiBuVjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHpWID0gd2FzbS5zY29wZWRBbGxvY0NTdHJpbmcoalYpO1xuICAgICAgICAgICAgaWYobkJ1ZiA+IG5WICsgMSkgbkJ1ZiA9IG5WICsgMTtcbiAgICAgICAgICAgIHdhc20uaGVhcDh1KCkuY29weVdpdGhpbih6QnVmLCB6ViwgelYgKyBuQnVmIC0gMSk7XG4gICAgICAgICAgICB3YXNtLnBva2UoekJ1ZiArIG5CdWYgLSAxLCAwKTtcbiAgICAgICAgICAgIHJldHVybiBuQnVmIC0gMTtcbiAgICAgICAgICB9Y2F0Y2goZSl7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwia3ZzdG9yYWdlUmVhZCgpXCIsZSk7XG4gICAgICAgICAgICByZXR1cm4gLTI7XG4gICAgICAgICAgfWZpbmFsbHl7XG4gICAgICAgICAgICBwc3RhY2sucmVzdG9yZShzdGFjayk7XG4gICAgICAgICAgICB3YXNtLnNjb3BlZEFsbG9jUG9wKGFzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB4V3JpdGU6ICh6Q2xhc3MsIHpLZXksIHpEYXRhKT0+e1xuICAgICAgICAgIGNvbnN0IHN0YWNrID0gcHN0YWNrLnBvaW50ZXI7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHpYS2V5ID0ga3Z2ZnNNYWtlS2V5KHpDbGFzcyx6S2V5KTtcbiAgICAgICAgICAgIGlmKCF6WEtleSkgcmV0dXJuIDEvKk9PTSovO1xuICAgICAgICAgICAgY29uc3QgaktleSA9IHdhc20uY3N0clRvSnMoelhLZXkpO1xuICAgICAgICAgICAga3Z2ZnNTdG9yYWdlKHpDbGFzcykuc2V0SXRlbShqS2V5LCB3YXNtLmNzdHJUb0pzKHpEYXRhKSk7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICB9Y2F0Y2goZSl7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwia3ZzdG9yYWdlV3JpdGUoKVwiLGUpO1xuICAgICAgICAgICAgcmV0dXJuIGNhcGkuU1FMSVRFX0lPRVJSO1xuICAgICAgICAgIH1maW5hbGx5e1xuICAgICAgICAgICAgcHN0YWNrLnJlc3RvcmUoc3RhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgeERlbGV0ZTogKHpDbGFzcywgektleSk9PntcbiAgICAgICAgICBjb25zdCBzdGFjayA9IHBzdGFjay5wb2ludGVyO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB6WEtleSA9IGt2dmZzTWFrZUtleSh6Q2xhc3MsektleSk7XG4gICAgICAgICAgICBpZighelhLZXkpIHJldHVybiAxLypPT00qLztcbiAgICAgICAgICAgIGt2dmZzU3RvcmFnZSh6Q2xhc3MpLnJlbW92ZUl0ZW0od2FzbS5jc3RyVG9Kcyh6WEtleSkpO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgfWNhdGNoKGUpe1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImt2c3RvcmFnZURlbGV0ZSgpXCIsZSk7XG4gICAgICAgICAgICByZXR1cm4gY2FwaS5TUUxJVEVfSU9FUlI7XG4gICAgICAgICAgfWZpbmFsbHl7XG4gICAgICAgICAgICBwc3RhY2sucmVzdG9yZShzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LyprdnZmc0ltcGxzKi87XG4gICAgICBmb3IoY29uc3QgayBvZiBPYmplY3Qua2V5cyhrdnZmc0ltcGxzKSl7XG4gICAgICAgIGt2dmZzTWV0aG9kc1trdnZmc01ldGhvZHMubWVtYmVyS2V5KGspXSA9XG4gICAgICAgICAgd2FzbS5pbnN0YWxsRnVuY3Rpb24oXG4gICAgICAgICAgICBrdnZmc01ldGhvZHMubWVtYmVyU2lnbmF0dXJlKGspLFxuICAgICAgICAgICAga3Z2ZnNJbXBsc1trXVxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICAvKiBXb3JrZXIgdGhyZWFkOiB1bnJlZ2lzdGVyIGt2dmZzIHRvIGF2b2lkIGl0IGJlaW5nIHVzZWRcbiAgICAgICAgIGZvciBhbnl0aGluZyBvdGhlciB0aGFuIGxvY2FsL3Nlc3Npb25TdG9yYWdlLiBJdCBcImNhblwiXG4gICAgICAgICBiZSB1c2VkIHRoYXQgd2F5IGJ1dCBpdCdzIG5vdCByZWFsbHkgaW50ZW5kZWQgdG8gYmUuICovXG4gICAgICBjYXBpLnNxbGl0ZTNfdmZzX3VucmVnaXN0ZXIocEt2dmZzKTtcbiAgICB9XG4gIH0vKnBLdnZmcyovXG5cbiAgd2FzbS54V3JhcC5GdW5jUHRyQWRhcHRlci53YXJuT25Vc2UgPSB0cnVlO1xufSk7XG4vKiBFTkQgRklMRTogYXBpL3NxbGl0ZTMtYXBpLWdsdWUuanMgKi9cbi8qIEJFR0lOIEZJTEU6IC4vYmxkL3NxbGl0ZTMtYXBpLWJ1aWxkLXZlcnNpb24uanMgKi9cbmdsb2JhbFRoaXMuc3FsaXRlM0FwaUJvb3RzdHJhcC5pbml0aWFsaXplcnMucHVzaChmdW5jdGlvbihzcWxpdGUzKXtcbiAgc3FsaXRlMy52ZXJzaW9uID0ge1wibGliVmVyc2lvblwiOiBcIjMuNDIuMFwiLCBcImxpYlZlcnNpb25OdW1iZXJcIjogMzA0MjAwMCwgXCJzb3VyY2VJZFwiOiBcIjIwMjMtMDMtMDkgMTY6MTE6NDMgODcwZGU2MWY4ZWY4NzgxZjJmOTk2OWIwMTJmNWMxY2I5NWI2YmNlMWE5YTRkY2FmMDI5NDViNzg0NmMzYWE4M1wiLFwiZG93bmxvYWRWZXJzaW9uXCI6IDM0MjAwMDB9O1xufSk7XG4vKiBFTkQgRklMRTogLi9ibGQvc3FsaXRlMy1hcGktYnVpbGQtdmVyc2lvbi5qcyAqL1xuLyogQkVHSU4gRklMRTogYXBpL3NxbGl0ZTMtYXBpLW9vMS5qcyAqL1xuLypcbiAgMjAyMi0wNy0yMlxuXG4gIFRoZSBhdXRob3IgZGlzY2xhaW1zIGNvcHlyaWdodCB0byB0aGlzIHNvdXJjZSBjb2RlLiAgSW4gcGxhY2Ugb2YgYVxuICBsZWdhbCBub3RpY2UsIGhlcmUgaXMgYSBibGVzc2luZzpcblxuICAqICAgTWF5IHlvdSBkbyBnb29kIGFuZCBub3QgZXZpbC5cbiAgKiAgIE1heSB5b3UgZmluZCBmb3JnaXZlbmVzcyBmb3IgeW91cnNlbGYgYW5kIGZvcmdpdmUgb3RoZXJzLlxuICAqICAgTWF5IHlvdSBzaGFyZSBmcmVlbHksIG5ldmVyIHRha2luZyBtb3JlIHRoYW4geW91IGdpdmUuXG5cbiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBUaGlzIGZpbGUgY29udGFpbnMgdGhlIHNvLWNhbGxlZCBPTyAjMSBBUEkgd3JhcHBlciBmb3IgdGhlIHNxbGl0ZTNcbiAgV0FTTSBidWlsZC4gSXQgcmVxdWlyZXMgdGhhdCBzcWxpdGUzLWFwaS1nbHVlLmpzIGhhcyBhbHJlYWR5IHJ1blxuICBhbmQgaXQgaW5zdGFsbHMgaXRzIGRlbGl2ZXJhYmxlIGFzIGdsb2JhbFRoaXMuc3FsaXRlMy5vbzEuXG4qL1xuZ2xvYmFsVGhpcy5zcWxpdGUzQXBpQm9vdHN0cmFwLmluaXRpYWxpemVycy5wdXNoKGZ1bmN0aW9uKHNxbGl0ZTMpe1xuICBjb25zdCB0b3NzID0gKC4uLmFyZ3MpPT57dGhyb3cgbmV3IEVycm9yKGFyZ3Muam9pbignICcpKX07XG4gIGNvbnN0IHRvc3MzID0gKC4uLmFyZ3MpPT57dGhyb3cgbmV3IHNxbGl0ZTMuU1FMaXRlM0Vycm9yKC4uLmFyZ3MpfTtcblxuICBjb25zdCBjYXBpID0gc3FsaXRlMy5jYXBpLCB3YXNtID0gc3FsaXRlMy53YXNtLCB1dGlsID0gc3FsaXRlMy51dGlsO1xuICAvKiBXaGF0IGZvbGxvd3MgaXMgY29sbG9xdWlhbGx5IGtub3duIGFzIFwiT08gQVBJICMxXCIuIEl0IGlzIGFcbiAgICAgYmluZGluZyBvZiB0aGUgc3FsaXRlMyBBUEkgd2hpY2ggaXMgZGVzaWduZWQgdG8gYmUgcnVuIHdpdGhpblxuICAgICB0aGUgc2FtZSB0aHJlYWQgKG1haW4gb3Igd29ya2VyKSBhcyB0aGUgb25lIGluIHdoaWNoIHRoZVxuICAgICBzcWxpdGUzIFdBU00gYmluZGluZyB3YXMgaW5pdGlhbGl6ZWQuIFRoaXMgd3JhcHBlciBjYW5ub3QgdXNlXG4gICAgIHRoZSBzcWxpdGUzIGJpbmRpbmcgaWYsIGUuZy4sIHRoZSB3cmFwcGVyIGlzIGluIHRoZSBtYWluIHRocmVhZFxuICAgICBhbmQgdGhlIHNxbGl0ZTMgQVBJIGlzIGluIGEgd29ya2VyLiAqL1xuXG4gIC8qKlxuICAgICBJbiBvcmRlciB0byBrZWVwIGNsaWVudHMgZnJvbSBtYW5pcHVsYXRpbmcsIHBlcmhhcHNcbiAgICAgaW5hZHZlcnRlbnRseSwgdGhlIHVuZGVybHlpbmcgcG9pbnRlciB2YWx1ZXMgb2YgREIgYW5kIFN0bXRcbiAgICAgaW5zdGFuY2VzLCB3ZSdsbCBnYXRlIGFjY2VzcyB0byB0aGVtIHZpYSB0aGUgYHBvaW50ZXJgIHByb3BlcnR5XG4gICAgIGFjY2Vzc29yIGFuZCBzdG9yZSB0aGVpciByZWFsIHZhbHVlcyBpbiB0aGlzIG1hcC4gS2V5cyA9IERCL1N0bXRcbiAgICAgb2JqZWN0cywgdmFsdWVzID0gcG9pbnRlciB2YWx1ZXMuIFRoaXMgYWxzbyB1bmlmaWVzIGhvdyB0aG9zZSBhcmVcbiAgICAgYWNjZXNzZWQsIGZvciBwb3RlbnRpYWwgdXNlIGRvd25zdHJlYW0gdmlhIGN1c3RvbVxuICAgICB3YXNtLnhXcmFwKCkgZnVuY3Rpb24gc2lnbmF0dXJlcyB3aGljaCBrbm93IGhvdyB0byBleHRyYWN0XG4gICAgIGl0LlxuICAqL1xuICBjb25zdCBfX3B0ck1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gIC8qKlxuICAgICBNYXAgb2YgREIgaW5zdGFuY2VzIHRvIG9iamVjdHMsIGVhY2ggb2JqZWN0IGJlaW5nIGEgbWFwIG9mIFN0bXRcbiAgICAgd2FzbSBwb2ludGVycyB0byBTdG10IG9iamVjdHMuXG4gICovXG4gIGNvbnN0IF9fc3RtdE1hcCA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgLyoqIElmIG9iamVjdCBvcHRzIGhhcyBfaXRzIG93bl8gcHJvcGVydHkgbmFtZWQgcCB0aGVuIHRoYXRcbiAgICAgIHByb3BlcnR5J3MgdmFsdWUgaXMgcmV0dXJuZWQsIGVsc2UgZGZsdCBpcyByZXR1cm5lZC4gKi9cbiAgY29uc3QgZ2V0T3duT3B0aW9uID0gKG9wdHMsIHAsIGRmbHQpPT57XG4gICAgY29uc3QgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob3B0cyxwKTtcbiAgICByZXR1cm4gZCA/IGQudmFsdWUgOiBkZmx0O1xuICB9O1xuXG4gIC8vIERvY3VtZW50ZWQgaW4gREIuY2hlY2tSYygpXG4gIGNvbnN0IGNoZWNrU3FsaXRlM1JjID0gZnVuY3Rpb24oZGJQdHIsIHNxbGl0ZVJlc3VsdENvZGUpe1xuICAgIGlmKHNxbGl0ZVJlc3VsdENvZGUpe1xuICAgICAgaWYoZGJQdHIgaW5zdGFuY2VvZiBEQikgZGJQdHIgPSBkYlB0ci5wb2ludGVyO1xuICAgICAgdG9zczMoXG4gICAgICAgIFwic3FsaXRlMyByZXN1bHQgY29kZVwiLHNxbGl0ZVJlc3VsdENvZGUrXCI6XCIsXG4gICAgICAgIChkYlB0clxuICAgICAgICAgPyBjYXBpLnNxbGl0ZTNfZXJybXNnKGRiUHRyKVxuICAgICAgICAgOiBjYXBpLnNxbGl0ZTNfZXJyc3RyKHNxbGl0ZVJlc3VsdENvZGUpKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgfTtcblxuICAvKipcbiAgICAgc3FsaXRlM190cmFjZV92MigpIGNhbGxiYWNrIHdoaWNoIGdldHMgaW5zdGFsbGVkIGJ5IHRoZSBEQiBjdG9yXG4gICAgIGlmIGl0cyBvcGVuLWZsYWdzIGNvbnRhaW4gXCJ0XCIuXG4gICovXG4gIGNvbnN0IF9fZGJUcmFjZVRvQ29uc29sZSA9XG4gICAgICAgIHdhc20uaW5zdGFsbEZ1bmN0aW9uKCdpKGlwcHApJywgZnVuY3Rpb24odCxjLHAseCl7XG4gICAgICAgICAgaWYoY2FwaS5TUUxJVEVfVFJBQ0VfU1RNVD09PXQpe1xuICAgICAgICAgICAgLy8geCA9PSBTUUwsIHAgPT0gc3FsaXRlM19zdG10KlxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTUUwgVFJBQ0UgI1wiKygrK3RoaXMuY291bnRlcikrJyB2aWEgc3FsaXRlM0AnK2MrJzonLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2FzbS5jc3RyVG9Kcyh4KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LmJpbmQoe2NvdW50ZXI6IDB9KSk7XG5cbiAgLyoqXG4gICAgIEEgbWFwIG9mIHNxbGl0ZTNfdmZzIHBvaW50ZXJzIHRvIFNRTCBjb2RlIG9yIGEgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgdG8gcnVuIHdoZW4gdGhlIERCIGNvbnN0cnVjdG9yIG9wZW5zIGEgZGF0YWJhc2Ugd2l0aCB0aGUgZ2l2ZW5cbiAgICAgVkZTLiBJbiB0aGUgbGF0dGVyIGNhc2UsIHRoZSBjYWxsIHNpZ25hdHVyZSBpcyAodGhlRGJPYmplY3Qsc3FsaXRlM05hbWVzcGFjZSlcbiAgICAgYW5kIHRoZSBjYWxsYmFjayBpcyBleHBlY3RlZCB0byB0aHJvdyBvbiBlcnJvci5cbiAgKi9cbiAgY29uc3QgX192ZnNQb3N0T3BlblNxbCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLyoqXG4gICAgIEEgcHJveHkgZm9yIERCIGNsYXNzIGNvbnN0cnVjdG9ycy4gSXQgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGVcbiAgICAgYmVpbmctY29uc3RydWN0IERCIG9iamVjdCBhcyBpdHMgXCJ0aGlzXCIuIFNlZSB0aGUgREIgY29uc3RydWN0b3JcbiAgICAgZm9yIHRoZSBhcmd1bWVudCBkb2NzLiBUaGlzIGlzIHNwbGl0IGludG8gYSBzZXBhcmF0ZSBmdW5jdGlvblxuICAgICBpbiBvcmRlciB0byBlbmFibGUgc2ltcGxlIGNyZWF0aW9uIG9mIHNwZWNpYWwtY2FzZSBEQiBjb25zdHJ1Y3RvcnMsXG4gICAgIGUuZy4gSnNTdG9yYWdlRGIgYW5kIE9wZnNEYi5cblxuICAgICBFeHBlY3RzIHRvIGJlIHBhc3NlZCBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZ1xuICAgICBwcm9wZXJ0aWVzOlxuXG4gICAgIC0gYC5maWxlbmFtZWA6IHRoZSBkYiBmaWxlbmFtZS4gSXQgbWF5IGJlIGEgc3BlY2lhbCBuYW1lIGxpa2UgXCI6bWVtb3J5OlwiXG4gICAgICAgb3IgXCJcIi5cblxuICAgICAtIGAuZmxhZ3NgOiBhcyBkb2N1bWVudGVkIGluIHRoZSBEQiBjb25zdHJ1Y3Rvci5cblxuICAgICAtIGAudmZzYDogYXMgZG9jdW1lbnRlZCBpbiB0aGUgREIgY29uc3RydWN0b3IuXG5cbiAgICAgSXQgYWxzbyBhY2NlcHRzIHRob3NlIGFzIHRoZSBmaXJzdCAzIGFyZ3VtZW50cy5cbiAgKi9cbiAgY29uc3QgZGJDdG9ySGVscGVyID0gZnVuY3Rpb24gY3RvciguLi5hcmdzKXtcbiAgICBpZighY3Rvci5fbmFtZTJ2ZnMpe1xuICAgICAgLyoqXG4gICAgICAgICBNYXAgc3BlY2lhbCBmaWxlbmFtZXMgd2hpY2ggd2UgaGFuZGxlIGhlcmUgKGluc3RlYWQgb2YgaW4gQylcbiAgICAgICAgIHRvIHNvbWUgaGVscGZ1bCBtZXRhZGF0YS4uLlxuXG4gICAgICAgICBBcyBvZiAyMDIyLTA5LTIwLCB0aGUgQyBBUEkgc3VwcG9ydHMgdGhlIG5hbWVzIDpsb2NhbFN0b3JhZ2U6XG4gICAgICAgICBhbmQgOnNlc3Npb25TdG9yYWdlOiBmb3Iga3Z2ZnMuIEhvd2V2ZXIsIEMgY29kZSBjYW5ub3RcbiAgICAgICAgIGRldGVybWluZSAod2l0aG91dCBlbWJlZGRlZCBKUyBjb2RlLCBlLmcuIHZpYSBFbXNjcmlwdGVuJ3NcbiAgICAgICAgIEVNX0pTKCkpIHdoZXRoZXIgdGhlIGt2dmZzIGlzIGxlZ2FsIGluIHRoZSBjdXJyZW50IGJyb3dzZXJcbiAgICAgICAgIGNvbnRleHQgKG5hbWVseSB0aGUgbWFpbiBVSSB0aHJlYWQpLiBJbiBvcmRlciB0byBoZWxwIGNsaWVudFxuICAgICAgICAgY29kZSBmYWlsIGVhcmx5IG9uLCBpbnN0ZWFkIG9mIGl0IGJlaW5nIGRlbGF5ZWQgdW50aWwgdGhleVxuICAgICAgICAgdHJ5IHRvIHJlYWQgb3Igd3JpdGUgYSBrdnZmcy1iYWNrZWQgZGIsIHdlJ2xsIGNoZWNrIGZvciB0aG9zZVxuICAgICAgICAgbmFtZXMgaGVyZSBhbmQgdGhyb3cgaWYgdGhleSdyZSBub3QgbGVnYWwgaW4gdGhlIGN1cnJlbnRcbiAgICAgICAgIGNvbnRleHQuXG4gICAgICAqL1xuICAgICAgY3Rvci5fbmFtZTJ2ZnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgY29uc3QgaXNXb3JrZXJUaHJlYWQgPSAoJ2Z1bmN0aW9uJz09PXR5cGVvZiBpbXBvcnRTY3JpcHRzLyo9PT1ydW5uaW5nIGluIHdvcmtlciB0aHJlYWQqLylcbiAgICAgICAgICAgID8gKG4pPT50b3NzMyhcIlRoZSBWRlMgZm9yXCIsbixcImlzIG9ubHkgYXZhaWxhYmxlIGluIHRoZSBtYWluIHdpbmRvdyB0aHJlYWQuXCIpXG4gICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgY3Rvci5fbmFtZTJ2ZnNbJzpsb2NhbFN0b3JhZ2U6J10gPSB7XG4gICAgICAgIHZmczogJ2t2dmZzJywgZmlsZW5hbWU6IGlzV29ya2VyVGhyZWFkIHx8ICgoKT0+J2xvY2FsJylcbiAgICAgIH07XG4gICAgICBjdG9yLl9uYW1lMnZmc1snOnNlc3Npb25TdG9yYWdlOiddID0ge1xuICAgICAgICB2ZnM6ICdrdnZmcycsIGZpbGVuYW1lOiBpc1dvcmtlclRocmVhZCB8fCAoKCk9PidzZXNzaW9uJylcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IG9wdCA9IGN0b3Iubm9ybWFsaXplQXJncyguLi5hcmdzKTtcbiAgICBsZXQgZm4gPSBvcHQuZmlsZW5hbWUsIHZmc05hbWUgPSBvcHQudmZzLCBmbGFnc1N0ciA9IG9wdC5mbGFncztcbiAgICBpZigoJ3N0cmluZychPT10eXBlb2YgZm4gJiYgJ251bWJlcichPT10eXBlb2YgZm4pXG4gICAgICAgfHwgJ3N0cmluZychPT10eXBlb2YgZmxhZ3NTdHJcbiAgICAgICB8fCAodmZzTmFtZSAmJiAoJ3N0cmluZychPT10eXBlb2YgdmZzTmFtZSAmJiAnbnVtYmVyJyE9PXR5cGVvZiB2ZnNOYW1lKSkpe1xuICAgICAgc3FsaXRlMy5jb25maWcuZXJyb3IoXCJJbnZhbGlkIERCIGN0b3IgYXJnc1wiLG9wdCxhcmd1bWVudHMpO1xuICAgICAgdG9zczMoXCJJbnZhbGlkIGFyZ3VtZW50cyBmb3IgREIgY29uc3RydWN0b3IuXCIpO1xuICAgIH1cbiAgICBsZXQgZm5KcyA9ICgnbnVtYmVyJz09PXR5cGVvZiBmbikgPyB3YXNtLmNzdHJUb0pzKGZuKSA6IGZuO1xuICAgIGNvbnN0IHZmc0NoZWNrID0gY3Rvci5fbmFtZTJ2ZnNbZm5Kc107XG4gICAgaWYodmZzQ2hlY2spe1xuICAgICAgdmZzTmFtZSA9IHZmc0NoZWNrLnZmcztcbiAgICAgIGZuID0gZm5KcyA9IHZmc0NoZWNrLmZpbGVuYW1lKGZuSnMpO1xuICAgIH1cbiAgICBsZXQgcERiLCBvZmxhZ3MgPSAwO1xuICAgIGlmKCBmbGFnc1N0ci5pbmRleE9mKCdjJyk+PTAgKXtcbiAgICAgIG9mbGFncyB8PSBjYXBpLlNRTElURV9PUEVOX0NSRUFURSB8IGNhcGkuU1FMSVRFX09QRU5fUkVBRFdSSVRFO1xuICAgIH1cbiAgICBpZiggZmxhZ3NTdHIuaW5kZXhPZigndycpPj0wICkgb2ZsYWdzIHw9IGNhcGkuU1FMSVRFX09QRU5fUkVBRFdSSVRFO1xuICAgIGlmKCAwPT09b2ZsYWdzICkgb2ZsYWdzIHw9IGNhcGkuU1FMSVRFX09QRU5fUkVBRE9OTFk7XG4gICAgb2ZsYWdzIHw9IGNhcGkuU1FMSVRFX09QRU5fRVhSRVNDT0RFO1xuICAgIGNvbnN0IHN0YWNrID0gd2FzbS5wc3RhY2sucG9pbnRlcjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcFB0ciA9IHdhc20ucHN0YWNrLmFsbG9jUHRyKCkgLyogb3V0cHV0IChzcWxpdGUzKiopIGFyZyAqLztcbiAgICAgIGxldCByYyA9IGNhcGkuc3FsaXRlM19vcGVuX3YyKGZuLCBwUHRyLCBvZmxhZ3MsIHZmc05hbWUgfHwgMCk7XG4gICAgICBwRGIgPSB3YXNtLnBlZWtQdHIocFB0cik7XG4gICAgICBjaGVja1NxbGl0ZTNSYyhwRGIsIHJjKTtcbiAgICAgIGNhcGkuc3FsaXRlM19leHRlbmRlZF9yZXN1bHRfY29kZXMocERiLCAxKTtcbiAgICAgIGlmKGZsYWdzU3RyLmluZGV4T2YoJ3QnKT49MCl7XG4gICAgICAgIGNhcGkuc3FsaXRlM190cmFjZV92MihwRGIsIGNhcGkuU1FMSVRFX1RSQUNFX1NUTVQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX2RiVHJhY2VUb0NvbnNvbGUsIHBEYik7XG4gICAgICB9XG4gICAgfWNhdGNoKCBlICl7XG4gICAgICBpZiggcERiICkgY2FwaS5zcWxpdGUzX2Nsb3NlX3YyKHBEYik7XG4gICAgICB0aHJvdyBlO1xuICAgIH1maW5hbGx5e1xuICAgICAgd2FzbS5wc3RhY2sucmVzdG9yZShzdGFjayk7XG4gICAgfVxuICAgIHRoaXMuZmlsZW5hbWUgPSBmbkpzO1xuICAgIF9fcHRyTWFwLnNldCh0aGlzLCBwRGIpO1xuICAgIF9fc3RtdE1hcC5zZXQodGhpcywgT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgdHJ5e1xuICAgICAgLy8gQ2hlY2sgZm9yIHBlci1WRlMgcG9zdC1vcGVuIFNRTC9jYWxsYmFjay4uLlxuICAgICAgY29uc3QgcFZmcyA9IGNhcGkuc3FsaXRlM19qc19kYl92ZnMocERiKTtcbiAgICAgIGlmKCFwVmZzKSB0b3NzMyhcIkludGVybmFsIGVycm9yOiBjYW5ub3QgZ2V0IFZGUyBmb3IgbmV3IGRiIGhhbmRsZS5cIik7XG4gICAgICBjb25zdCBwb3N0SW5pdFNxbCA9IF9fdmZzUG9zdE9wZW5TcWxbcFZmc107XG4gICAgICBpZihwb3N0SW5pdFNxbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKXtcbiAgICAgICAgcG9zdEluaXRTcWwodGhpcywgc3FsaXRlMyk7XG4gICAgICB9ZWxzZSBpZihwb3N0SW5pdFNxbCl7XG4gICAgICAgIGNoZWNrU3FsaXRlM1JjKFxuICAgICAgICAgIHBEYiwgY2FwaS5zcWxpdGUzX2V4ZWMocERiLCBwb3N0SW5pdFNxbCwgMCwgMCwgMClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9Y2F0Y2goZSl7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICAgU2V0cyBTUUwgd2hpY2ggc2hvdWxkIGJlIGV4ZWMoKSdkIG9uIGEgREIgaW5zdGFuY2UgYWZ0ZXIgaXQgaXNcbiAgICAgb3BlbmVkIHdpdGggdGhlIGdpdmVuIFZGUyBwb2ludGVyLiBUaGUgU1FMIG1heSBiZSBhbnkgdHlwZVxuICAgICBzdXBwb3J0ZWQgYnkgdGhlIFwic3RyaW5nOmZsZXhpYmxlXCIgZnVuY3Rpb24gYXJndW1lbnQgY29udmVyc2lvbi5cbiAgICAgQWx0ZXJuYXRlbHksIHRoZSAybmQgYXJndW1lbnQgbWF5IGJlIGEgZnVuY3Rpb24sIGluIHdoaWNoIGNhc2UgaXRcbiAgICAgaXMgY2FsbGVkIHdpdGggKHRoZU9vMURiT2JqZWN0LHNxbGl0ZTNOYW1lc3BhY2UpIGF0IHRoZSBlbmQgb2ZcbiAgICAgdGhlIERCKCkgY29uc3RydWN0b3IuIFRoZSBmdW5jdGlvbiBtdXN0IHRocm93IG9uIGVycm9yLCBpbiB3aGljaFxuICAgICBjYXNlIHRoZSBkYiBpcyBjbG9zZWQgYW5kIHRoZSBleGNlcHRpb24gaXMgcHJvcGFnYXRlZC4gIFRoaXNcbiAgICAgZnVuY3Rpb24gaXMgaW50ZW5kZWQgb25seSBmb3IgdXNlIGJ5IERCIHN1YmNsYXNzZXMgb3Igc3FsaXRlM192ZnNcbiAgICAgaW1wbGVtZW50YXRpb25zLlxuICAqL1xuICBkYkN0b3JIZWxwZXIuc2V0VmZzUG9zdE9wZW5TcWwgPSBmdW5jdGlvbihwVmZzLCBzcWwpe1xuICAgIF9fdmZzUG9zdE9wZW5TcWxbcFZmc10gPSBzcWw7XG4gIH07XG5cbiAgLyoqXG4gICAgIEEgaGVscGVyIGZvciBEQiBjb25zdHJ1Y3RvcnMuIEl0IGFjY2VwdHMgZWl0aGVyIGEgc2luZ2xlXG4gICAgIGNvbmZpZy1zdHlsZSBvYmplY3Qgb3IgdXAgdG8gMyBhcmd1bWVudHMgKGZpbGVuYW1lLCBkYk9wZW5GbGFncyxcbiAgICAgZGJWZnNOYW1lKS4gSXQgcmV0dXJucyBhIG5ldyBvYmplY3QgY29udGFpbmluZzpcblxuICAgICB7IGZpbGVuYW1lOiAuLi4sIGZsYWdzOiAuLi4sIHZmczogLi4uIH1cblxuICAgICBJZiBwYXNzZWQgYW4gb2JqZWN0LCBhbnkgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGl0IGhhcyBhcmUgY29waWVkXG4gICAgIGFzLWlzIGludG8gdGhlIG5ldyBvYmplY3QuXG4gICovXG4gIGRiQ3RvckhlbHBlci5ub3JtYWxpemVBcmdzID0gZnVuY3Rpb24oZmlsZW5hbWU9JzptZW1vcnk6JyxmbGFncyA9ICdjJyx2ZnMgPSBudWxsKXtcbiAgICBjb25zdCBhcmcgPSB7fTtcbiAgICBpZigxPT09YXJndW1lbnRzLmxlbmd0aCAmJiBhcmd1bWVudHNbMF0gJiYgJ29iamVjdCc9PT10eXBlb2YgYXJndW1lbnRzWzBdKXtcbiAgICAgIE9iamVjdC5hc3NpZ24oYXJnLCBhcmd1bWVudHNbMF0pO1xuICAgICAgaWYodW5kZWZpbmVkPT09YXJnLmZsYWdzKSBhcmcuZmxhZ3MgPSAnYyc7XG4gICAgICBpZih1bmRlZmluZWQ9PT1hcmcudmZzKSBhcmcudmZzID0gbnVsbDtcbiAgICAgIGlmKHVuZGVmaW5lZD09PWFyZy5maWxlbmFtZSkgYXJnLmZpbGVuYW1lID0gJzptZW1vcnk6JztcbiAgICB9ZWxzZXtcbiAgICAgIGFyZy5maWxlbmFtZSA9IGZpbGVuYW1lO1xuICAgICAgYXJnLmZsYWdzID0gZmxhZ3M7XG4gICAgICBhcmcudmZzID0gdmZzO1xuICAgIH1cbiAgICByZXR1cm4gYXJnO1xuICB9O1xuICAvKipcbiAgICAgVGhlIERCIGNsYXNzIHByb3ZpZGVzIGEgaGlnaC1sZXZlbCBPTyB3cmFwcGVyIGFyb3VuZCBhbiBzcWxpdGUzXG4gICAgIGRiIGhhbmRsZS5cblxuICAgICBUaGUgZ2l2ZW4gZGIgZmlsZW5hbWUgbXVzdCBiZSByZXNvbHZhYmxlIHVzaW5nIHdoYXRldmVyXG4gICAgIGZpbGVzeXN0ZW0gbGF5ZXIgKHZpcnR1YWwgb3Igb3RoZXJ3aXNlKSBpcyBzZXQgdXAgZm9yIHRoZSBkZWZhdWx0XG4gICAgIHNxbGl0ZTMgVkZTLlxuXG4gICAgIE5vdGUgdGhhdCB0aGUgc3BlY2lhbCBzcWxpdGUzIGRiIG5hbWVzIFwiOm1lbW9yeTpcIiBhbmQgXCJcIlxuICAgICAodGVtcG9yYXJ5IGRiKSBoYXZlIHRoZWlyIG5vcm1hbCBzcGVjaWFsIG1lYW5pbmdzIGhlcmUgYW5kIG5lZWRcbiAgICAgbm90IHJlc29sdmUgdG8gcmVhbCBmaWxlbmFtZXMsIGJ1dCBcIlwiIHVzZXMgYW4gb24tc3RvcmFnZVxuICAgICB0ZW1wb3JhcnkgZGF0YWJhc2UgYW5kIHJlcXVpcmVzIHRoYXQgdGhlIFZGUyBzdXBwb3J0IHRoYXQuXG5cbiAgICAgVGhlIHNlY29uZCBhcmd1bWVudCBzcGVjaWZpZXMgdGhlIG9wZW4vY3JlYXRlIG1vZGUgZm9yIHRoZVxuICAgICBkYXRhYmFzZS4gSXQgbXVzdCBiZSBzdHJpbmcgY29udGFpbmluZyBhIHNlcXVlbmNlIG9mIGxldHRlcnMgKGluXG4gICAgIGFueSBvcmRlciwgYnV0IGNhc2Ugc2Vuc2l0aXZlKSBzcGVjaWZ5aW5nIHRoZSBtb2RlOlxuXG4gICAgIC0gXCJjXCI6IGNyZWF0ZSBpZiBpdCBkb2VzIG5vdCBleGlzdCwgZWxzZSBmYWlsIGlmIGl0IGRvZXMgbm90XG4gICAgICAgZXhpc3QuIEltcGxpZXMgdGhlIFwid1wiIGZsYWcuXG5cbiAgICAgLSBcIndcIjogd3JpdGUuIEltcGxpZXMgXCJyXCI6IGEgZGIgY2Fubm90IGJlIHdyaXRlLW9ubHkuXG5cbiAgICAgLSBcInJcIjogcmVhZC1vbmx5IGlmIG5laXRoZXIgXCJ3XCIgbm9yIFwiY1wiIGFyZSBwcm92aWRlZCwgZWxzZSBpdFxuICAgICAgIGlzIGlnbm9yZWQuXG5cbiAgICAgLSBcInRcIjogZW5hYmxlIHRyYWNpbmcgb2YgU1FMIGV4ZWN1dGVkIG9uIHRoaXMgZGF0YWJhc2UgaGFuZGxlLFxuICAgICAgIHNlbmRpbmcgaXQgdG8gYGNvbnNvbGUubG9nKClgLiBUbyBkaXNhYmxlIGl0IGxhdGVyLCBjYWxsXG4gICAgICAgYHNxbGl0ZTMuY2FwaS5zcWxpdGUzX3RyYWNlX3YyKHRoaXNEYi5wb2ludGVyLCAwLCAwLCAwKWAuXG5cbiAgICAgSWYgXCJ3XCIgaXMgbm90IHByb3ZpZGVkLCB0aGUgZGIgaXMgaW1wbGljaXRseSByZWFkLW9ubHksIG5vdGluZ1xuICAgICB0aGF0IFwicmNcIiBpcyBtZWFuaW5nbGVzc1xuXG4gICAgIEFueSBvdGhlciBsZXR0ZXJzIGFyZSBjdXJyZW50bHkgaWdub3JlZC4gVGhlIGRlZmF1bHQgaXNcbiAgICAgXCJjXCIuIFRoZXNlIG1vZGVzIGFyZSBpZ25vcmVkIGZvciB0aGUgc3BlY2lhbCBcIjptZW1vcnk6XCIgYW5kIFwiXCJcbiAgICAgbmFtZXMgYW5kIF9tYXlfIGJlIGlnbm9yZWQgYWx0b2dldGhlciBmb3IgY2VydGFpbiBWRlNlcy5cblxuICAgICBUaGUgZmluYWwgYXJndW1lbnQgaXMgYW5hbG9nb3VzIHRvIHRoZSBmaW5hbCBhcmd1bWVudCBvZlxuICAgICBzcWxpdGUzX29wZW5fdjIoKTogdGhlIG5hbWUgb2YgYW4gc3FsaXRlMyBWRlMuIFBhc3MgYSBmYWxzeSB2YWx1ZSxcbiAgICAgb3Igbm9uZSBhdCBhbGwsIHRvIHVzZSB0aGUgZGVmYXVsdC4gSWYgcGFzc2VkIGEgdmFsdWUsIGl0IG11c3RcbiAgICAgYmUgdGhlIHN0cmluZyBuYW1lIG9mIGEgVkZTLlxuXG4gICAgIFRoZSBjb25zdHJ1Y3RvciBvcHRpb25hbGx5IChhbmQgcHJlZmVyYWJseSkgdGFrZXMgaXRzIGFyZ3VtZW50c1xuICAgICBpbiB0aGUgZm9ybSBvZiBhIHNpbmdsZSBjb25maWd1cmF0aW9uIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICAgcHJvcGVydGllczpcblxuICAgICAtIGBmaWxlbmFtZWA6IGRhdGFiYXNlIGZpbGUgbmFtZVxuICAgICAtIGBmbGFnc2A6IG9wZW4tbW9kZSBmbGFnc1xuICAgICAtIGB2ZnNgOiB0aGUgVkZTIGZuYW1lXG5cbiAgICAgVGhlIGBmaWxlbmFtZWAgYW5kIGB2ZnNgIGFyZ3VtZW50cyBtYXkgYmUgZWl0aGVyIEpTIHN0cmluZ3Mgb3JcbiAgICAgQy1zdHJpbmdzIGFsbG9jYXRlZCB2aWEgV0FTTS4gYGZsYWdzYCBpcyByZXF1aXJlZCB0byBiZSBhIEpTXG4gICAgIHN0cmluZyAoYmVjYXVzZSBpdCdzIHNwZWNpZmljIHRvIHRoaXMgQVBJLCB3aGljaCBpcyBzcGVjaWZpY1xuICAgICB0byBKUykuXG5cbiAgICAgRm9yIHB1cnBvc2VzIG9mIHBhc3NpbmcgYSBEQiBpbnN0YW5jZSB0byBDLXN0eWxlIHNxbGl0ZTNcbiAgICAgZnVuY3Rpb25zLCB0aGUgREIgb2JqZWN0J3MgcmVhZC1vbmx5IGBwb2ludGVyYCBwcm9wZXJ0eSBob2xkcyBpdHNcbiAgICAgYHNxbGl0ZTMqYCBwb2ludGVyIHZhbHVlLiBUaGF0IHByb3BlcnR5IGNhbiBhbHNvIGJlIHVzZWQgdG8gY2hlY2tcbiAgICAgd2hldGhlciB0aGlzIERCIGluc3RhbmNlIGlzIHN0aWxsIG9wZW4uXG5cbiAgICAgSW4gdGhlIG1haW4gd2luZG93IHRocmVhZCwgdGhlIGZpbGVuYW1lcyBgXCI6bG9jYWxTdG9yYWdlOlwiYCBhbmRcbiAgICAgYFwiOnNlc3Npb25TdG9yYWdlOlwiYCBhcmUgc3BlY2lhbDogdGhleSBjYXVzZSB0aGUgZGIgdG8gdXNlIGVpdGhlclxuICAgICBsb2NhbFN0b3JhZ2Ugb3Igc2Vzc2lvblN0b3JhZ2UgZm9yIHN0b3JpbmcgdGhlIGRhdGFiYXNlIHVzaW5nXG4gICAgIHRoZSBrdnZmcy4gSWYgb25lIG9mIHRoZXNlIG5hbWVzIGFyZSB1c2VkLCB0aGV5IHRydW1wXG4gICAgIGFueSB2ZnMgbmFtZSBzZXQgaW4gdGhlIGFyZ3VtZW50cy5cbiAgKi9cbiAgY29uc3QgREIgPSBmdW5jdGlvbiguLi5hcmdzKXtcbiAgICBkYkN0b3JIZWxwZXIuYXBwbHkodGhpcywgYXJncyk7XG4gIH07XG4gIERCLmRiQ3RvckhlbHBlciA9IGRiQ3RvckhlbHBlcjtcblxuICAvKipcbiAgICAgSW50ZXJuYWwtdXNlIGVudW0gZm9yIG1hcHBpbmcgSlMgdHlwZXMgdG8gREItYmluZGFibGUgdHlwZXMuXG4gICAgIFRoZXNlIGRvIG5vdCAoYW5kIG5lZWQgbm90KSBsaW5lIHVwIHdpdGggdGhlIFNRTElURV90eXBlXG4gICAgIHZhbHVlcy4gQWxsIHZhbHVlcyBpbiB0aGlzIGVudW0gbXVzdCBiZSB0cnV0aHkgYW5kIGRpc3RpbmN0XG4gICAgIGJ1dCB0aGV5IG5lZWQgbm90IGJlIG51bWJlcnMuXG4gICovXG4gIGNvbnN0IEJpbmRUeXBlcyA9IHtcbiAgICBudWxsOiAxLFxuICAgIG51bWJlcjogMixcbiAgICBzdHJpbmc6IDMsXG4gICAgYm9vbGVhbjogNCxcbiAgICBibG9iOiA1XG4gIH07XG4gIEJpbmRUeXBlc1sndW5kZWZpbmVkJ10gPT0gQmluZFR5cGVzLm51bGw7XG4gIGlmKHdhc20uYmlnSW50RW5hYmxlZCl7XG4gICAgQmluZFR5cGVzLmJpZ2ludCA9IEJpbmRUeXBlcy5udW1iZXI7XG4gIH1cblxuICAvKipcbiAgICAgVGhpcyBjbGFzcyB3cmFwcyBzcWxpdGUzX3N0bXQuIENhbGxpbmcgdGhpcyBjb25zdHJ1Y3RvclxuICAgICBkaXJlY3RseSB3aWxsIHRyaWdnZXIgYW4gZXhjZXB0aW9uLiBVc2UgREIucHJlcGFyZSgpIHRvIGNyZWF0ZVxuICAgICBuZXcgaW5zdGFuY2VzLlxuXG4gICAgIEZvciBwdXJwb3NlcyBvZiBwYXNzaW5nIGEgU3RtdCBpbnN0YW5jZSB0byBDLXN0eWxlIHNxbGl0ZTNcbiAgICAgZnVuY3Rpb25zLCBpdHMgcmVhZC1vbmx5IGBwb2ludGVyYCBwcm9wZXJ0eSBob2xkcyBpdHMgYHNxbGl0ZTNfc3RtdCpgXG4gICAgIHBvaW50ZXIgdmFsdWUuXG5cbiAgICAgT3RoZXIgbm9uLWZ1bmN0aW9uIHByb3BlcnRpZXMgaW5jbHVkZTpcblxuICAgICAtIGBkYmA6IHRoZSBEQiBvYmplY3Qgd2hpY2ggY3JlYXRlZCB0aGUgc3RhdGVtZW50LlxuXG4gICAgIC0gYGNvbHVtbkNvdW50YDogdGhlIG51bWJlciBvZiByZXN1bHQgY29sdW1ucyBpbiB0aGUgcXVlcnksIG9yIDAgZm9yXG4gICAgIHF1ZXJpZXMgd2hpY2ggY2Fubm90IHJldHVybiByZXN1bHRzLlxuXG4gICAgIC0gYHBhcmFtZXRlckNvdW50YDogdGhlIG51bWJlciBvZiBiaW5kYWJsZSBwYXJhbXRlcnMgaW4gdGhlIHF1ZXJ5LlxuICAqL1xuICBjb25zdCBTdG10ID0gZnVuY3Rpb24oKXtcbiAgICBpZihCaW5kVHlwZXMhPT1hcmd1bWVudHNbMl0pe1xuICAgICAgdG9zczMoY2FwaS5TUUxJVEVfTUlTVVNFLCBcIkRvIG5vdCBjYWxsIHRoZSBTdG10IGNvbnN0cnVjdG9yIGRpcmVjdGx5LiBVc2UgREIucHJlcGFyZSgpLlwiKTtcbiAgICB9XG4gICAgdGhpcy5kYiA9IGFyZ3VtZW50c1swXTtcbiAgICBfX3B0ck1hcC5zZXQodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICB0aGlzLmNvbHVtbkNvdW50ID0gY2FwaS5zcWxpdGUzX2NvbHVtbl9jb3VudCh0aGlzLnBvaW50ZXIpO1xuICAgIHRoaXMucGFyYW1ldGVyQ291bnQgPSBjYXBpLnNxbGl0ZTNfYmluZF9wYXJhbWV0ZXJfY291bnQodGhpcy5wb2ludGVyKTtcbiAgfTtcblxuICAvKiogVGhyb3dzIGlmIHRoZSBnaXZlbiBEQiBoYXMgYmVlbiBjbG9zZWQsIGVsc2UgaXQgaXMgcmV0dXJuZWQuICovXG4gIGNvbnN0IGFmZmlybURiT3BlbiA9IGZ1bmN0aW9uKGRiKXtcbiAgICBpZighZGIucG9pbnRlcikgdG9zczMoXCJEQiBoYXMgYmVlbiBjbG9zZWQuXCIpO1xuICAgIHJldHVybiBkYjtcbiAgfTtcblxuICAvKiogVGhyb3dzIGlmIG5keCBpcyBub3QgYW4gaW50ZWdlciBvciBpZiBpdCBpcyBvdXQgb2YgcmFuZ2VcbiAgICAgIGZvciBzdG10LmNvbHVtbkNvdW50LCBlbHNlIHJldHVybnMgc3RtdC5cblxuICAgICAgUmVtaW5kZXI6IHRoaXMgd2lsbCBhbHNvIGZhaWwgYWZ0ZXIgdGhlIHN0YXRlbWVudCBpcyBmaW5hbGl6ZWRcbiAgICAgIGJ1dCB0aGUgcmVzdWx0aW5nIGVycm9yIHdpbGwgYmUgYWJvdXQgYW4gb3V0LW9mLWJvdW5kcyBjb2x1bW5cbiAgICAgIGluZGV4IHJhdGhlciB0aGFuIGEgc3RhdGVtZW50LWlzLWZpbmFsaXplZCBlcnJvci5cbiAgKi9cbiAgY29uc3QgYWZmaXJtQ29sSW5kZXggPSBmdW5jdGlvbihzdG10LG5keCl7XG4gICAgaWYoKG5keCAhPT0gKG5keHwwKSkgfHwgbmR4PDAgfHwgbmR4Pj1zdG10LmNvbHVtbkNvdW50KXtcbiAgICAgIHRvc3MzKFwiQ29sdW1uIGluZGV4XCIsbmR4LFwiaXMgb3V0IG9mIHJhbmdlLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0bXQ7XG4gIH07XG5cbiAgLyoqXG4gICAgIEV4cGVjdHMgdG8gYmUgcGFzc2VkIHRoZSBgYXJndW1lbnRzYCBvYmplY3QgZnJvbSBEQi5leGVjKCkuIERvZXNcbiAgICAgdGhlIGFyZ3VtZW50IHByb2Nlc3NpbmcvdmFsaWRhdGlvbiwgdGhyb3dzIG9uIGVycm9yLCBhbmQgcmV0dXJuc1xuICAgICBhIG5ldyBvYmplY3Qgb24gc3VjY2VzczpcblxuICAgICB7IHNxbDogdGhlIFNRTCwgb3B0OiBvcHRpb25zT2JqLCBjYkFyZzogZnVuY3Rpb259XG5cbiAgICAgVGhlIG9wdCBvYmplY3QgaXMgYSBub3JtYWxpemVkIGNvcHkgb2YgYW55IHBhc3NlZCB0byB0aGlzXG4gICAgIGZ1bmN0aW9uLiBUaGUgc3FsIHdpbGwgYmUgY29udmVydGVkIHRvIGEgc3RyaW5nIGlmIGl0IGlzIHByb3ZpZGVkXG4gICAgIGluIG9uZSBvZiB0aGUgc3VwcG9ydGVkIG5vbi1zdHJpbmcgZm9ybWF0cy5cblxuICAgICBjYkFyZyBpcyBvbmx5IHNldCBpZiB0aGUgb3B0LmNhbGxiYWNrIG9yIG9wdC5yZXN1bHRSb3dzIGFyZSBzZXQsXG4gICAgIGluIHdoaWNoIGNhc2UgaXQncyBhIGZ1bmN0aW9uIHdoaWNoIGV4cGVjdHMgdG8gYmUgcGFzc2VkIHRoZVxuICAgICBjdXJyZW50IFN0bXQgYW5kIHJldHVybnMgdGhlIGNhbGxiYWNrIGFyZ3VtZW50IG9mIHRoZSB0eXBlXG4gICAgIGluZGljYXRlZCBieSB0aGUgaW5wdXQgYXJndW1lbnRzLlxuICAqL1xuICBjb25zdCBwYXJzZUV4ZWNBcmdzID0gZnVuY3Rpb24oZGIsIGFyZ3Mpe1xuICAgIGNvbnN0IG91dCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgb3V0Lm9wdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgc3dpdGNoKGFyZ3MubGVuZ3RoKXtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmKCdzdHJpbmcnPT09dHlwZW9mIGFyZ3NbMF0gfHwgdXRpbC5pc1NRTGFibGVUeXBlZEFycmF5KGFyZ3NbMF0pKXtcbiAgICAgICAgICAgIG91dC5zcWwgPSBhcmdzWzBdO1xuICAgICAgICAgIH1lbHNlIGlmKEFycmF5LmlzQXJyYXkoYXJnc1swXSkpe1xuICAgICAgICAgICAgb3V0LnNxbCA9IGFyZ3NbMF07XG4gICAgICAgICAgfWVsc2UgaWYoYXJnc1swXSAmJiAnb2JqZWN0Jz09PXR5cGVvZiBhcmdzWzBdKXtcbiAgICAgICAgICAgIG91dC5vcHQgPSBhcmdzWzBdO1xuICAgICAgICAgICAgb3V0LnNxbCA9IG91dC5vcHQuc3FsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG91dC5zcWwgPSBhcmdzWzBdO1xuICAgICAgICAgIG91dC5vcHQgPSBhcmdzWzFdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiB0b3NzMyhcIkludmFsaWQgYXJndW1lbnQgY291bnQgZm9yIGV4ZWMoKS5cIik7XG4gICAgfTtcbiAgICBvdXQuc3FsID0gdXRpbC5mbGV4aWJsZVN0cmluZyhvdXQuc3FsKTtcbiAgICBpZignc3RyaW5nJyE9PXR5cGVvZiBvdXQuc3FsKXtcbiAgICAgIHRvc3MzKFwiTWlzc2luZyBTUUwgYXJndW1lbnQgb3IgdW5zdXBwb3J0ZWQgU1FMIHZhbHVlIHR5cGUuXCIpO1xuICAgIH1cbiAgICBjb25zdCBvcHQgPSBvdXQub3B0O1xuICAgIHN3aXRjaChvcHQucmV0dXJuVmFsdWUpe1xuICAgICAgICBjYXNlICdyZXN1bHRSb3dzJzpcbiAgICAgICAgICBpZighb3B0LnJlc3VsdFJvd3MpIG9wdC5yZXN1bHRSb3dzID0gW107XG4gICAgICAgICAgb3V0LnJldHVyblZhbCA9ICgpPT5vcHQucmVzdWx0Um93cztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2F2ZVNxbCc6XG4gICAgICAgICAgaWYoIW9wdC5zYXZlU3FsKSBvcHQuc2F2ZVNxbCA9IFtdO1xuICAgICAgICAgIG91dC5yZXR1cm5WYWwgPSAoKT0+b3B0LnNhdmVTcWw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICBjYXNlICd0aGlzJzpcbiAgICAgICAgICBvdXQucmV0dXJuVmFsID0gKCk9PmRiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRvc3MzKFwiSW52YWxpZCByZXR1cm5WYWx1ZSB2YWx1ZTpcIixvcHQucmV0dXJuVmFsdWUpO1xuICAgIH1cbiAgICBpZighb3B0LmNhbGxiYWNrICYmICFvcHQucmV0dXJuVmFsdWUgJiYgdW5kZWZpbmVkIT09b3B0LnJvd01vZGUpe1xuICAgICAgaWYoIW9wdC5yZXN1bHRSb3dzKSBvcHQucmVzdWx0Um93cyA9IFtdO1xuICAgICAgb3V0LnJldHVyblZhbCA9ICgpPT5vcHQucmVzdWx0Um93cztcbiAgICB9XG4gICAgaWYob3B0LmNhbGxiYWNrIHx8IG9wdC5yZXN1bHRSb3dzKXtcbiAgICAgIHN3aXRjaCgodW5kZWZpbmVkPT09b3B0LnJvd01vZGUpXG4gICAgICAgICAgICAgPyAnYXJyYXknIDogb3B0LnJvd01vZGUpIHtcbiAgICAgICAgICBjYXNlICdvYmplY3QnOiBvdXQuY2JBcmcgPSAoc3RtdCk9PnN0bXQuZ2V0KE9iamVjdC5jcmVhdGUobnVsbCkpOyBicmVhaztcbiAgICAgICAgICBjYXNlICdhcnJheSc6IG91dC5jYkFyZyA9IChzdG10KT0+c3RtdC5nZXQoW10pOyBicmVhaztcbiAgICAgICAgICBjYXNlICdzdG10JzpcbiAgICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkob3B0LnJlc3VsdFJvd3MpKXtcbiAgICAgICAgICAgICAgdG9zczMoXCJleGVjKCk6IGludmFsaWQgcm93TW9kZSBmb3IgYSByZXN1bHRSb3dzIGFycmF5OiBtdXN0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYmUgb25lIG9mICdhcnJheScsICdvYmplY3QnLFwiLFxuICAgICAgICAgICAgICAgICAgICBcImEgcmVzdWx0IGNvbHVtbiBudW1iZXIsIG9yIGNvbHVtbiBuYW1lIHJlZmVyZW5jZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQuY2JBcmcgPSAoc3RtdCk9PnN0bXQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYodXRpbC5pc0ludDMyKG9wdC5yb3dNb2RlKSl7XG4gICAgICAgICAgICAgIG91dC5jYkFyZyA9IChzdG10KT0+c3RtdC5nZXQob3B0LnJvd01vZGUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1lbHNlIGlmKCdzdHJpbmcnPT09dHlwZW9mIG9wdC5yb3dNb2RlXG4gICAgICAgICAgICAgICAgICAgICAmJiBvcHQucm93TW9kZS5sZW5ndGg+MVxuICAgICAgICAgICAgICAgICAgICAgJiYgJyQnPT09b3B0LnJvd01vZGVbMF0pe1xuICAgICAgICAgICAgICAvKiBcIiRYXCI6IGZldGNoIGNvbHVtbiBuYW1lZCBcIlhcIiAoY2FzZS1zZW5zaXRpdmUhKS4gUHJpb3JcbiAgICAgICAgICAgICAgICAgdG8gMjAyMi0xMi0xNCBcIjpYXCIgYW5kIFwiQFhcIiB3ZXJlIGFsc28gcGVybWl0dGVkLCBidXRcbiAgICAgICAgICAgICAgICAgaGF2aW5nIHNvIG1hbnkgb3B0aW9ucyBpcyB1bm5lY2Vzc2FyeSBhbmQgbGlrZWx5IHRvXG4gICAgICAgICAgICAgICAgIGNhdXNlIGNvbmZ1c2lvbi4gKi9cbiAgICAgICAgICAgICAgY29uc3QgJGNvbE5hbWUgPSBvcHQucm93TW9kZS5zdWJzdHIoMSk7XG4gICAgICAgICAgICAgIG91dC5jYkFyZyA9IChzdG10KT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IHJjID0gc3RtdC5nZXQoT2JqZWN0LmNyZWF0ZShudWxsKSlbJGNvbE5hbWVdO1xuICAgICAgICAgICAgICAgIHJldHVybiAodW5kZWZpbmVkPT09cmMpXG4gICAgICAgICAgICAgICAgICA/IHRvc3MzKGNhcGkuU1FMSVRFX05PVEZPVU5ELFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImV4ZWMoKTogdW5rbm93biByZXN1bHQgY29sdW1uOlwiLCRjb2xOYW1lKVxuICAgICAgICAgICAgICAgICAgOiByYztcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b3NzMyhcIkludmFsaWQgcm93TW9kZTpcIixvcHQucm93TW9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH07XG5cbiAgLyoqXG4gICAgIEludGVybmFsIGltcGwgb2YgdGhlIERCLnNlbGVjdFZhbHVlKCksIHNlbGVjdEFycmF5KCksIGFuZFxuICAgICBzZWxlY3RPYmplY3QoKSBtZXRob2RzLlxuICAqL1xuICBjb25zdCBfX3NlbGVjdEZpcnN0Um93ID0gKGRiLCBzcWwsIGJpbmQsIC4uLmdldEFyZ3MpPT57XG4gICAgY29uc3Qgc3RtdCA9IGRiLnByZXBhcmUoc3FsKTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHN0bXQuYmluZChiaW5kKS5zdGVwKCkgPyBzdG10LmdldCguLi5nZXRBcmdzKSA6IHVuZGVmaW5lZDtcbiAgICB9ZmluYWxseXtcbiAgICAgIHN0bXQuZmluYWxpemUoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAgIEludGVybmFsIGltcGwgb2YgdGhlIERCLnNlbGVjdEFycmF5cygpIGFuZCBzZWxlY3RPYmplY3RzKClcbiAgICAgbWV0aG9kcy5cbiAgKi9cbiAgY29uc3QgX19zZWxlY3RBbGwgPVxuICAgICAgICAoZGIsIHNxbCwgYmluZCwgcm93TW9kZSk9PmRiLmV4ZWMoe1xuICAgICAgICAgIHNxbCwgYmluZCwgcm93TW9kZSwgcmV0dXJuVmFsdWU6ICdyZXN1bHRSb3dzJ1xuICAgICAgICB9KTtcblxuICAvKipcbiAgICAgRXhwZWN0cyB0byBiZSBnaXZlbiBhIERCIGluc3RhbmNlIG9yIGFuIGBzcWxpdGUzKmAgcG9pbnRlciAobWF5XG4gICAgIGJlIG51bGwpIGFuZCBhbiBzcWxpdGUzIEFQSSByZXN1bHQgY29kZS4gSWYgdGhlIHJlc3VsdCBjb2RlIGlzXG4gICAgIG5vdCBmYWxzeSwgdGhpcyBmdW5jdGlvbiB0aHJvd3MgYW4gU1FMaXRlM0Vycm9yIHdpdGggYW4gZXJyb3JcbiAgICAgbWVzc2FnZSBmcm9tIHNxbGl0ZTNfZXJybXNnKCksIHVzaW5nIGRiIChvciwgaWYgZGIgaXMtYSBEQixcbiAgICAgZGIucG9pbnRlcikgYXMgdGhlIGRiIGhhbmRsZSwgb3Igc3FsaXRlM19lcnJzdHIoKSBpZiBkYiBpc1xuICAgICBmYWxzeS4gTm90ZSB0aGF0IGlmIGl0J3MgcGFzc2VkIGEgbm9uLWVycm9yIGNvZGUgbGlrZSBTUUxJVEVfUk9XXG4gICAgIG9yIFNRTElURV9ET05FLCBpdCB3aWxsIHN0aWxsIHRocm93IGJ1dCB0aGUgZXJyb3Igc3RyaW5nIG1pZ2h0IGJlXG4gICAgIFwiTm90IGFuIGVycm9yLlwiICBUaGUgdmFyaW91cyBub24tMCBub24tZXJyb3IgY29kZXMgbmVlZCB0byBiZVxuICAgICBjaGVja2VkIGZvciBpbiBjbGllbnQgY29kZSB3aGVyZSB0aGV5IGFyZSBleHBlY3RlZC5cblxuICAgICBJZiBpdCBkb2VzIG5vdCB0aHJvdywgaXQgcmV0dXJucyBpdHMgZmlyc3QgYXJndW1lbnQuXG4gICovXG4gIERCLmNoZWNrUmMgPSAoZGIscmVzdWx0Q29kZSk9PmNoZWNrU3FsaXRlM1JjKGRiLHJlc3VsdENvZGUpO1xuXG4gIERCLnByb3RvdHlwZSA9IHtcbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgZGIgaGFuZGxlIGlzIG9wZW4sIGVsc2UgZmFsc2UuICovXG4gICAgaXNPcGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuICEhdGhpcy5wb2ludGVyO1xuICAgIH0sXG4gICAgLyoqIFRocm93cyBpZiB0aGlzIGdpdmVuIERCIGhhcyBiZWVuIGNsb3NlZCwgZWxzZSByZXR1cm5zIGB0aGlzYC4gKi9cbiAgICBhZmZpcm1PcGVuOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIGFmZmlybURiT3Blbih0aGlzKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAgIEZpbmFsaXplcyBhbGwgb3BlbiBzdGF0ZW1lbnRzIGFuZCBjbG9zZXMgdGhpcyBkYXRhYmFzZVxuICAgICAgIGNvbm5lY3Rpb24uIFRoaXMgaXMgYSBuby1vcCBpZiB0aGUgZGIgaGFzIGFscmVhZHkgYmVlblxuICAgICAgIGNsb3NlZC4gQWZ0ZXIgY2FsbGluZyBjbG9zZSgpLCBgdGhpcy5wb2ludGVyYCB3aWxsIHJlc29sdmUgdG9cbiAgICAgICBgdW5kZWZpbmVkYCwgc28gdGhhdCBjYW4gYmUgdXNlZCB0byBjaGVjayB3aGV0aGVyIHRoZSBkYlxuICAgICAgIGluc3RhbmNlIGlzIHN0aWxsIG9wZW5lZC5cblxuICAgICAgIElmIHRoaXMub25jbG9zZS5iZWZvcmUgaXMgYSBmdW5jdGlvbiB0aGVuIGl0IGlzIGNhbGxlZCBiZWZvcmVcbiAgICAgICBhbnkgY2xvc2UtcmVsYXRlZCBjbGVhbnVwLlxuXG4gICAgICAgSWYgdGhpcy5vbmNsb3NlLmFmdGVyIGlzIGEgZnVuY3Rpb24gdGhlbiBpdCBpcyBjYWxsZWQgYWZ0ZXIgdGhlXG4gICAgICAgZGIgaXMgY2xvc2VkIGJ1dCBiZWZvcmUgYXV4aWxpYXJ5IHN0YXRlIGxpa2UgdGhpcy5maWxlbmFtZSBpc1xuICAgICAgIGNsZWFyZWQuXG5cbiAgICAgICBCb3RoIG9uY2xvc2UgaGFuZGxlcnMgYXJlIHBhc3NlZCB0aGlzIG9iamVjdCwgd2l0aCB0aGUgb25jbG9zZVxuICAgICAgIG9iamVjdCBhcyB0aGVpciBcInRoaXMsXCIgbm90aW5nIHRoYXQgdGhlIGRiIHdpbGwgaGF2ZSBiZWVuXG4gICAgICAgY2xvc2VkIHdoZW4gb25jbG9zZS5hZnRlciBpcyBjYWxsZWQuIElmIHRoaXMgZGIgaXMgbm90IG9wZW5lZFxuICAgICAgIHdoZW4gY2xvc2UoKSBpcyBjYWxsZWQsIG5laXRoZXIgb2YgdGhlIGhhbmRsZXJzIGFyZSBjYWxsZWQuIEFueVxuICAgICAgIGV4Y2VwdGlvbnMgdGhlIGhhbmRsZXJzIHRocm93IGFyZSBpZ25vcmVkIGJlY2F1c2UgXCJkZXN0cnVjdG9yc1xuICAgICAgIG11c3Qgbm90IHRocm93LlwiXG5cbiAgICAgICBOb3RlIHRoYXQgZ2FyYmFnZSBjb2xsZWN0aW9uIG9mIGEgZGIgaGFuZGxlLCBpZiBpdCBoYXBwZW5zIGF0XG4gICAgICAgYWxsLCB3aWxsIG5ldmVyIHRyaWdnZXIgY2xvc2UoKSwgc28gb25jbG9zZSBoYW5kbGVycyBhcmUgbm90IGFcbiAgICAgICByZWxpYWJsZSB3YXkgdG8gaW1wbGVtZW50IGNsb3NlLXRpbWUgY2xlYW51cCBvciBtYWludGVuYW5jZSBvZlxuICAgICAgIGEgZGIuXG4gICAgKi9cbiAgICBjbG9zZTogZnVuY3Rpb24oKXtcbiAgICAgIGlmKHRoaXMucG9pbnRlcil7XG4gICAgICAgIGlmKHRoaXMub25jbG9zZSAmJiAodGhpcy5vbmNsb3NlLmJlZm9yZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSl7XG4gICAgICAgICAgdHJ5e3RoaXMub25jbG9zZS5iZWZvcmUodGhpcyl9XG4gICAgICAgICAgY2F0Y2goZSl7LyppZ25vcmUqL31cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwRGIgPSB0aGlzLnBvaW50ZXI7XG4gICAgICAgIE9iamVjdC5rZXlzKF9fc3RtdE1hcC5nZXQodGhpcykpLmZvckVhY2goKGsscyk9PntcbiAgICAgICAgICBpZihzICYmIHMucG9pbnRlcikgcy5maW5hbGl6ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgX19wdHJNYXAuZGVsZXRlKHRoaXMpO1xuICAgICAgICBfX3N0bXRNYXAuZGVsZXRlKHRoaXMpO1xuICAgICAgICBjYXBpLnNxbGl0ZTNfY2xvc2VfdjIocERiKTtcbiAgICAgICAgaWYodGhpcy5vbmNsb3NlICYmICh0aGlzLm9uY2xvc2UuYWZ0ZXIgaW5zdGFuY2VvZiBGdW5jdGlvbikpe1xuICAgICAgICAgIHRyeXt0aGlzLm9uY2xvc2UuYWZ0ZXIodGhpcyl9XG4gICAgICAgICAgY2F0Y2goZSl7LyppZ25vcmUqL31cbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5maWxlbmFtZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAgIFJldHVybnMgdGhlIG51bWJlciBvZiBjaGFuZ2VzLCBhcyBwZXIgc3FsaXRlM19jaGFuZ2VzKClcbiAgICAgICAoaWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGZhbHNlKSBvciBzcWxpdGUzX3RvdGFsX2NoYW5nZXMoKVxuICAgICAgIChpZiBpdCdzIHRydWUpLiBJZiB0aGUgMm5kIGFyZ3VtZW50IGlzIHRydWUsIGl0IHVzZXNcbiAgICAgICBzcWxpdGUzX2NoYW5nZXM2NCgpIG9yIHNxbGl0ZTNfdG90YWxfY2hhbmdlczY0KCksIHdoaWNoXG4gICAgICAgd2lsbCB0cmlnZ2VyIGFuIGV4Y2VwdGlvbiBpZiB0aGlzIGJ1aWxkIGRvZXMgbm90IGhhdmVcbiAgICAgICBCaWdJbnQgc3VwcG9ydCBlbmFibGVkLlxuICAgICovXG4gICAgY2hhbmdlczogZnVuY3Rpb24odG90YWw9ZmFsc2Usc2l4dHlGb3VyPWZhbHNlKXtcbiAgICAgIGNvbnN0IHAgPSBhZmZpcm1EYk9wZW4odGhpcykucG9pbnRlcjtcbiAgICAgIGlmKHRvdGFsKXtcbiAgICAgICAgcmV0dXJuIHNpeHR5Rm91clxuICAgICAgICAgID8gY2FwaS5zcWxpdGUzX3RvdGFsX2NoYW5nZXM2NChwKVxuICAgICAgICAgIDogY2FwaS5zcWxpdGUzX3RvdGFsX2NoYW5nZXMocCk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHNpeHR5Rm91clxuICAgICAgICAgID8gY2FwaS5zcWxpdGUzX2NoYW5nZXM2NChwKVxuICAgICAgICAgIDogY2FwaS5zcWxpdGUzX2NoYW5nZXMocCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgICBTaW1pbGFyIHRvIHRoZSB0aGlzLmZpbGVuYW1lIGJ1dCByZXR1cm5zIHRoZVxuICAgICAgIHNxbGl0ZTNfZGJfZmlsZW5hbWUoKSB2YWx1ZSBmb3IgdGhlIGdpdmVuIGRhdGFiYXNlIG5hbWUsXG4gICAgICAgZGVmYXVsdGluZyB0byBcIm1haW5cIi4gIFRoZSBhcmd1bWVudCBtYXkgYmUgZWl0aGVyIGEgSlMgc3RyaW5nXG4gICAgICAgb3IgYSBwb2ludGVyIHRvIGEgV0FTTS1hbGxvY2F0ZWQgQy1zdHJpbmcuXG4gICAgKi9cbiAgICBkYkZpbGVuYW1lOiBmdW5jdGlvbihkYk5hbWU9J21haW4nKXtcbiAgICAgIHJldHVybiBjYXBpLnNxbGl0ZTNfZGJfZmlsZW5hbWUoYWZmaXJtRGJPcGVuKHRoaXMpLnBvaW50ZXIsIGRiTmFtZSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgICBSZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSBnaXZlbiAwLWJhc2VkIGRiIG51bWJlciwgYXMgZG9jdW1lbnRlZFxuICAgICAgIGZvciBzcWxpdGUzX2RiX25hbWUoKS5cbiAgICAqL1xuICAgIGRiTmFtZTogZnVuY3Rpb24oZGJOdW1iZXI9MCl7XG4gICAgICByZXR1cm4gY2FwaS5zcWxpdGUzX2RiX25hbWUoYWZmaXJtRGJPcGVuKHRoaXMpLnBvaW50ZXIsIGRiTnVtYmVyKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAgIFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIHNxbGl0ZTNfdmZzIHVzZWQgYnkgdGhlIGdpdmVuIGRhdGFiYXNlXG4gICAgICAgb2YgdGhpcyBjb25uZWN0aW9uIChkZWZhdWx0aW5nIHRvICdtYWluJykuIFRoZSBhcmd1bWVudCBtYXkgYmVcbiAgICAgICBlaXRoZXIgYSBKUyBzdHJpbmcgb3IgYSBXQVNNIEMtc3RyaW5nLiBSZXR1cm5zIHVuZGVmaW5lZCBpZiB0aGVcbiAgICAgICBnaXZlbiBkYiBuYW1lIGlzIGludmFsaWQuIFRocm93cyBpZiB0aGlzIG9iamVjdCBoYXMgYmVlblxuICAgICAgIGNsb3NlKClkLlxuICAgICovXG4gICAgZGJWZnNOYW1lOiBmdW5jdGlvbihkYk5hbWU9MCl7XG4gICAgICBsZXQgcmM7XG4gICAgICBjb25zdCBwVmZzID0gY2FwaS5zcWxpdGUzX2pzX2RiX3ZmcyhcbiAgICAgICAgYWZmaXJtRGJPcGVuKHRoaXMpLnBvaW50ZXIsIGRiTmFtZVxuICAgICAgKTtcbiAgICAgIGlmKHBWZnMpe1xuICAgICAgICBjb25zdCB2ID0gbmV3IGNhcGkuc3FsaXRlM192ZnMocFZmcyk7XG4gICAgICAgIHRyeXsgcmMgPSB3YXNtLmNzdHJUb0pzKHYuJHpOYW1lKSB9XG4gICAgICAgIGZpbmFsbHkgeyB2LmRpc3Bvc2UoKSB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmM7XG4gICAgfSxcbiAgICAvKipcbiAgICAgICBDb21waWxlcyB0aGUgZ2l2ZW4gU1FMIGFuZCByZXR1cm5zIGEgcHJlcGFyZWQgU3RtdC4gVGhpcyBpc1xuICAgICAgIHRoZSBvbmx5IHdheSB0byBjcmVhdGUgbmV3IFN0bXQgb2JqZWN0cy4gVGhyb3dzIG9uIGVycm9yLlxuXG4gICAgICAgVGhlIGdpdmVuIFNRTCBtdXN0IGJlIGEgc3RyaW5nLCBhIFVpbnQ4QXJyYXkgaG9sZGluZyBTUUwsIGFcbiAgICAgICBXQVNNIHBvaW50ZXIgdG8gbWVtb3J5IGhvbGRpbmcgdGhlIE5VTC10ZXJtaW5hdGVkIFNRTCBzdHJpbmcsXG4gICAgICAgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncy4gSW4gdGhlIGxhdHRlciBjYXNlLCB0aGUgYXJyYXkgaXNcbiAgICAgICBjb25jYXRlbmF0ZWQgdG9nZXRoZXIsIHdpdGggbm8gc2VwYXJhdG9ycywgdG8gZm9ybSB0aGUgU1FMXG4gICAgICAgc3RyaW5nIChhcnJheXMgYXJlIG9mdGVuIGEgY29udmVuaWVudCB3YXkgdG8gZm9ybXVsYXRlIGxvbmdcbiAgICAgICBzdGF0ZW1lbnRzKS4gIElmIHRoZSBTUUwgY29udGFpbnMgbm8gc3RhdGVtZW50cywgYW5cbiAgICAgICBTUUxpdGUzRXJyb3IgaXMgdGhyb3duLlxuXG4gICAgICAgRGVzaWduIG5vdGU6IHRoZSBDIEFQSSBwZXJtaXRzIGVtcHR5IFNRTCwgcmVwb3J0aW5nIGl0IGFzIGEgMFxuICAgICAgIHJlc3VsdCBjb2RlIGFuZCBhIE5VTEwgc3RtdCBwb2ludGVyLiBTdXBwb3J0aW5nIHRoYXQgY2FzZSBoZXJlXG4gICAgICAgd291bGQgY2F1c2UgZXh0cmEgd29yayBmb3IgYWxsIGNsaWVudHM6IGFueSB1c2Ugb2YgdGhlIFN0bXQgQVBJXG4gICAgICAgb24gc3VjaCBhIHN0YXRlbWVudCB3aWxsIG5lY2Vzc2FyaWx5IHRocm93LCBzbyBjbGllbnRzIHdvdWxkIGJlXG4gICAgICAgcmVxdWlyZWQgdG8gY2hlY2sgYHN0bXQucG9pbnRlcmAgYWZ0ZXIgY2FsbGluZyBgcHJlcGFyZSgpYCBpblxuICAgICAgIG9yZGVyIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBTdG10IGluc3RhbmNlIGlzIGVtcHR5IG9yIG5vdC5cbiAgICAgICBMb25nLXRpbWUgcHJhY3RpY2UgKHdpdGggb3RoZXIgc3FsaXRlMyBzY3JpcHQgYmluZGluZ3MpXG4gICAgICAgc3VnZ2VzdHMgdGhhdCB0aGUgZW1wdHktcHJlcGFyZSBjYXNlIGlzIHN1ZmZpY2llbnRseSByYXJlIHRoYXRcbiAgICAgICBzdXBwb3J0aW5nIGl0IGhlcmUgd291bGQgc2ltcGx5IGh1cnQgb3ZlcmFsbCB1c2FiaWxpdHkuXG4gICAgKi9cbiAgICBwcmVwYXJlOiBmdW5jdGlvbihzcWwpe1xuICAgICAgYWZmaXJtRGJPcGVuKHRoaXMpO1xuICAgICAgY29uc3Qgc3RhY2sgPSB3YXNtLnBzdGFjay5wb2ludGVyO1xuICAgICAgbGV0IHBwU3RtdCwgcFN0bXQ7XG4gICAgICB0cnl7XG4gICAgICAgIHBwU3RtdCA9IHdhc20ucHN0YWNrLmFsbG9jKDgpLyogb3V0cHV0IChzcWxpdGUzX3N0bXQqKikgYXJnICovO1xuICAgICAgICBEQi5jaGVja1JjKHRoaXMsIGNhcGkuc3FsaXRlM19wcmVwYXJlX3YyKHRoaXMucG9pbnRlciwgc3FsLCAtMSwgcHBTdG10LCBudWxsKSk7XG4gICAgICAgIHBTdG10ID0gd2FzbS5wZWVrUHRyKHBwU3RtdCk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHtcbiAgICAgICAgd2FzbS5wc3RhY2sucmVzdG9yZShzdGFjayk7XG4gICAgICB9XG4gICAgICBpZighcFN0bXQpIHRvc3MzKFwiQ2Fubm90IHByZXBhcmUgZW1wdHkgU1FMLlwiKTtcbiAgICAgIGNvbnN0IHN0bXQgPSBuZXcgU3RtdCh0aGlzLCBwU3RtdCwgQmluZFR5cGVzKTtcbiAgICAgIF9fc3RtdE1hcC5nZXQodGhpcylbcFN0bXRdID0gc3RtdDtcbiAgICAgIHJldHVybiBzdG10O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICAgRXhlY3V0ZXMgb25lIG9yIG1vcmUgU1FMIHN0YXRlbWVudHMgaW4gdGhlIGZvcm0gb2YgYSBzaW5nbGVcbiAgICAgICBzdHJpbmcuIEl0cyBhcmd1bWVudHMgbXVzdCBiZSBlaXRoZXIgKHNxbCxvcHRpb25zT2JqZWN0KSBvclxuICAgICAgIChvcHRpb25zT2JqZWN0KS4gSW4gdGhlIGxhdHRlciBjYXNlLCBvcHRpb25zT2JqZWN0LnNxbCBtdXN0XG4gICAgICAgY29udGFpbiB0aGUgU1FMIHRvIGV4ZWN1dGUuIEJ5IGRlZmF1bHQgaXQgcmV0dXJucyB0aGlzIG9iamVjdFxuICAgICAgIGJ1dCB0aGF0IGNhbiBiZSBjaGFuZ2VkIHZpYSB0aGUgYHJldHVyblZhbHVlYCBvcHRpb24gYXNcbiAgICAgICBkZXNjcmliZWQgYmVsb3cuIFRocm93cyBvbiBlcnJvci5cblxuICAgICAgIElmIG5vIFNRTCBpcyBwcm92aWRlZCwgb3IgYSBub24tc3RyaW5nIGlzIHByb3ZpZGVkLCBhblxuICAgICAgIGV4Y2VwdGlvbiBpcyB0cmlnZ2VyZWQuIEVtcHR5IFNRTCwgb24gdGhlIG90aGVyIGhhbmQsIGlzXG4gICAgICAgc2ltcGx5IGEgbm8tb3AuXG5cbiAgICAgICBUaGUgb3B0aW9uYWwgb3B0aW9ucyBvYmplY3QgbWF5IGNvbnRhaW4gYW55IG9mIHRoZSBmb2xsb3dpbmdcbiAgICAgICBwcm9wZXJ0aWVzOlxuXG4gICAgICAgLSBgc3FsYCA9IHRoZSBTUUwgdG8gcnVuICh1bmxlc3MgaXQncyBwcm92aWRlZCBhcyB0aGUgZmlyc3RcbiAgICAgICBhcmd1bWVudCkuIFRoaXMgbXVzdCBiZSBvZiB0eXBlIHN0cmluZywgVWludDhBcnJheSwgb3IgYW4gYXJyYXlcbiAgICAgICBvZiBzdHJpbmdzLiBJbiB0aGUgbGF0dGVyIGNhc2UgdGhleSdyZSBjb25jYXRlbmF0ZWQgdG9nZXRoZXJcbiAgICAgICBhcy1pcywgX3dpdGggbm8gc2VwYXJhdG9yXyBiZXR3ZWVuIGVsZW1lbnRzLCBiZWZvcmUgZXZhbHVhdGlvbi5cbiAgICAgICBUaGUgYXJyYXkgZm9ybSBpcyBvZnRlbiBzaW1wbGVyIGZvciBsb25nIGhhbmQtd3JpdHRlbiBxdWVyaWVzLlxuXG4gICAgICAgLSBgYmluZGAgPSBhIHNpbmdsZSB2YWx1ZSB2YWxpZCBhcyBhbiBhcmd1bWVudCBmb3JcbiAgICAgICBTdG10LmJpbmQoKS4gVGhpcyBpcyBfb25seV8gYXBwbGllZCB0byB0aGUgX2ZpcnN0XyBub24tZW1wdHlcbiAgICAgICBzdGF0ZW1lbnQgaW4gdGhlIFNRTCB3aGljaCBoYXMgYW55IGJpbmRhYmxlIHBhcmFtZXRlcnMuIChFbXB0eVxuICAgICAgIHN0YXRlbWVudHMgYXJlIHNraXBwZWQgZW50aXJlbHkuKVxuXG4gICAgICAgLSBgc2F2ZVNxbGAgPSBhbiBvcHRpb25hbCBhcnJheS4gSWYgc2V0LCB0aGUgU1FMIG9mIGVhY2hcbiAgICAgICBleGVjdXRlZCBzdGF0ZW1lbnQgaXMgYXBwZW5kZWQgdG8gdGhpcyBhcnJheSBiZWZvcmUgdGhlXG4gICAgICAgc3RhdGVtZW50IGlzIGV4ZWN1dGVkIChidXQgYWZ0ZXIgaXQgaXMgcHJlcGFyZWQgLSB3ZSBkb24ndCBoYXZlXG4gICAgICAgdGhlIHN0cmluZyB1bnRpbCBhZnRlciB0aGF0KS4gRW1wdHkgU1FMIHN0YXRlbWVudHMgYXJlIGVsaWRlZFxuICAgICAgIGJ1dCBjYW4gaGF2ZSBvZGQgZWZmZWN0cyBpbiB0aGUgb3V0cHV0LiBlLmcuIFNRTCBvZjogYFwic2VsZWN0XG4gICAgICAgMTsgLS0gZW1wdHlcXG47IHNlbGVjdCAyXCJgIHdpbGwgcmVzdWx0IGluIGFuIGFycmF5IGNvbnRhaW5pbmdcbiAgICAgICBgW1wic2VsZWN0IDE7XCIsIFwiLS1lbXB0eSBcXG47IHNlbGVjdCAyXCJdYC4gVGhhdCdzIHNpbXBseSBob3dcbiAgICAgICBzcWxpdGUzIHJlY29yZHMgdGhlIFNRTCBmb3IgdGhlIDJuZCBzdGF0ZW1lbnQuXG5cbiAgICAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICBUaGUgZm9sbG93aW5nIG9wdGlvbnMgYXBwbHkgX29ubHlfIHRvIHRoZSBfZmlyc3RfIHN0YXRlbWVudFxuICAgICAgIHdoaWNoIGhhcyBhIG5vbi16ZXJvIHJlc3VsdCBjb2x1bW4gY291bnQsIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlclxuICAgICAgIHRoZSBzdGF0ZW1lbnQgYWN0dWFsbHkgcHJvZHVjZXMgYW55IHJlc3VsdCByb3dzLlxuICAgICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgICAgLSBgY29sdW1uTmFtZXNgOiBpZiB0aGlzIGlzIGFuIGFycmF5LCB0aGUgY29sdW1uIG5hbWVzIG9mIHRoZVxuICAgICAgIHJlc3VsdCBzZXQgYXJlIHN0b3JlZCBpbiB0aGlzIGFycmF5IGJlZm9yZSB0aGUgY2FsbGJhY2sgKGlmXG4gICAgICAgYW55KSBpcyB0cmlnZ2VyZWQgKHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgcXVlcnkgcHJvZHVjZXMgYW55XG4gICAgICAgcmVzdWx0IHJvd3MpLiBJZiBubyBzdGF0ZW1lbnQgaGFzIHJlc3VsdCBjb2x1bW5zLCB0aGlzIHZhbHVlIGlzXG4gICAgICAgdW5jaGFuZ2VkLiBBY2h0dW5nOiBhbiBTUUwgcmVzdWx0IG1heSBoYXZlIG11bHRpcGxlIGNvbHVtbnNcbiAgICAgICB3aXRoIGlkZW50aWNhbCBuYW1lcy5cblxuICAgICAgIC0gYGNhbGxiYWNrYCA9IGEgZnVuY3Rpb24gd2hpY2ggZ2V0cyBjYWxsZWQgZm9yIGVhY2ggcm93IG9mIHRoZVxuICAgICAgIHJlc3VsdCBzZXQsIGJ1dCBvbmx5IGlmIHRoYXQgc3RhdGVtZW50IGhhcyBhbnkgcmVzdWx0XG4gICAgICAgX3Jvd3NfLiBUaGUgY2FsbGJhY2sncyBcInRoaXNcIiBpcyB0aGUgb3B0aW9ucyBvYmplY3QsIG5vdGluZ1xuICAgICAgIHRoYXQgdGhpcyBmdW5jdGlvbiBzeW50aGVzaXplcyBvbmUgaWYgdGhlIGNhbGxlciBkb2VzIG5vdCBwYXNzXG4gICAgICAgb25lIHRvIGV4ZWMoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrIGlzXG4gICAgICAgYWx3YXlzIHRoZSBjdXJyZW50IFN0bXQgb2JqZWN0LCBhcyBpdCdzIG5lZWRlZCBpZiB0aGUgY2FsbGVyXG4gICAgICAgd2FudHMgdG8gZmV0Y2ggdGhlIGNvbHVtbiBuYW1lcyBvciBzb21lIHN1Y2ggKG5vdGluZyB0aGF0IHRoZXlcbiAgICAgICBjb3VsZCBhbHNvIGJlIGZldGNoZWQgdmlhIGB0aGlzLmNvbHVtbk5hbWVzYCwgaWYgdGhlIGNsaWVudFxuICAgICAgIHByb3ZpZGVzIHRoZSBgY29sdW1uTmFtZXNgIG9wdGlvbikuIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGFcbiAgICAgICBsaXRlcmFsIGBmYWxzZWAgKGFzIG9wcG9zZWQgdG8gYW55IG90aGVyIGZhbHN5IHZhbHVlLCBlLmcuICBhblxuICAgICAgIGltcGxpY2l0IGB1bmRlZmluZWRgIHJldHVybiksIGFueSBvbmdvaW5nIHN0YXRlbWVudC1gc3RlcCgpYFxuICAgICAgIGl0ZXJhdGlvbiBzdG9wcyB3aXRob3V0IGFuIGVycm9yLiBUaGUgcmV0dXJuIHZhbHVlIG9mIHRoZVxuICAgICAgIGNhbGxiYWNrIGlzIG90aGVyd2lzZSBpZ25vcmVkLlxuXG4gICAgICAgQUNIVFVORzogVGhlIGNhbGxiYWNrIE1VU1QgTk9UIG1vZGlmeSB0aGUgU3RtdCBvYmplY3QuIENhbGxpbmdcbiAgICAgICBhbnkgb2YgdGhlIFN0bXQuZ2V0KCkgdmFyaWFudHMsIFN0bXQuZ2V0Q29sdW1uTmFtZSgpLCBvclxuICAgICAgIHNpbWlsYXIsIGlzIGxlZ2FsLCBidXQgY2FsbGluZyBzdGVwKCkgb3IgZmluYWxpemUoKSBpc1xuICAgICAgIG5vdC4gTWVtYmVyIG1ldGhvZHMgd2hpY2ggYXJlIGlsbGVnYWwgaW4gdGhpcyBjb250ZXh0IHdpbGxcbiAgICAgICB0cmlnZ2VyIGFuIGV4Y2VwdGlvbiwgYnV0IGNsaWVudHMgbXVzdCBhbHNvIHJlZnJhaW4gZnJvbSB1c2luZ1xuICAgICAgIGFueSBsb3dlci1sZXZlbCAoQy1zdHlsZSkgQVBJcyB3aGljaCBtaWdodCBtb2RpZnkgdGhlXG4gICAgICAgc3RhdGVtZW50LlxuXG4gICAgICAgVGhlIGZpcnN0IGFyZ3VtZW50IHBhc3NlZCB0byB0aGUgY2FsbGJhY2sgZGVmYXVsdHMgdG8gYW4gYXJyYXkgb2ZcbiAgICAgICB2YWx1ZXMgZnJvbSB0aGUgY3VycmVudCByZXN1bHQgcm93IGJ1dCBtYXkgYmUgY2hhbmdlZCB3aXRoIC4uLlxuXG4gICAgICAgLSBgcm93TW9kZWAgPSBzcGVjaWZpZXMgdGhlIHR5cGUgb2YgaGUgY2FsbGJhY2sncyBmaXJzdCBhcmd1bWVudC5cbiAgICAgICBJdCBtYXkgYmUgYW55IG9mLi4uXG5cbiAgICAgICBBKSBBIHN0cmluZyBkZXNjcmliaW5nIHdoYXQgdHlwZSBvZiBhcmd1bWVudCBzaG91bGQgYmUgcGFzc2VkXG4gICAgICAgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBjYWxsYmFjazpcblxuICAgICAgICAgQS4xKSBgJ2FycmF5J2AgKHRoZSBkZWZhdWx0KSBjYXVzZXMgdGhlIHJlc3VsdHMgb2ZcbiAgICAgICAgIGBzdG10LmdldChbXSlgIHRvIGJlIHBhc3NlZCB0byB0aGUgYGNhbGxiYWNrYCBhbmQvb3IgYXBwZW5kZWRcbiAgICAgICAgIHRvIGByZXN1bHRSb3dzYFxuXG4gICAgICAgICBBLjIpIGAnb2JqZWN0J2AgY2F1c2VzIHRoZSByZXN1bHRzIG9mXG4gICAgICAgICBgc3RtdC5nZXQoT2JqZWN0LmNyZWF0ZShudWxsKSlgIHRvIGJlIHBhc3NlZCB0byB0aGVcbiAgICAgICAgIGBjYWxsYmFja2AgYW5kL29yIGFwcGVuZGVkIHRvIGByZXN1bHRSb3dzYC4gIEFjaHR1bmc6IGFuIFNRTFxuICAgICAgICAgcmVzdWx0IG1heSBoYXZlIG11bHRpcGxlIGNvbHVtbnMgd2l0aCBpZGVudGljYWwgbmFtZXMuIEluXG4gICAgICAgICB0aGF0IGNhc2UsIHRoZSByaWdodC1tb3N0IGNvbHVtbiB3aWxsIGJlIHRoZSBvbmUgc2V0IGluIHRoaXNcbiAgICAgICAgIG9iamVjdCFcblxuICAgICAgICAgQS4zKSBgJ3N0bXQnYCBjYXVzZXMgdGhlIGN1cnJlbnQgU3RtdCB0byBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICAgICBjYWxsYmFjaywgYnV0IHRoaXMgbW9kZSB3aWxsIHRyaWdnZXIgYW4gZXhjZXB0aW9uIGlmXG4gICAgICAgICBgcmVzdWx0Um93c2AgaXMgYW4gYXJyYXkgYmVjYXVzZSBhcHBlbmRpbmcgdGhlIHN0YXRlbWVudCB0b1xuICAgICAgICAgdGhlIGFycmF5IHdvdWxkIGJlIGRvd25yaWdodCB1bmhlbHBmdWwuXG5cbiAgICAgICBCKSBBbiBpbnRlZ2VyLCBpbmRpY2F0aW5nIGEgemVyby1iYXNlZCBjb2x1bW4gaW4gdGhlIHJlc3VsdFxuICAgICAgIHJvdy4gT25seSB0aGF0IG9uZSBzaW5nbGUgdmFsdWUgd2lsbCBiZSBwYXNzZWQgb24uXG5cbiAgICAgICBDKSBBIHN0cmluZyB3aXRoIGEgbWluaW11bSBsZW5ndGggb2YgMiBhbmQgbGVhZGluZyBjaGFyYWN0ZXIgb2ZcbiAgICAgICAnJCcgd2lsbCBmZXRjaCB0aGUgcm93IGFzIGFuIG9iamVjdCwgZXh0cmFjdCB0aGF0IG9uZSBmaWVsZCxcbiAgICAgICBhbmQgcGFzcyB0aGF0IGZpZWxkJ3MgdmFsdWUgdG8gdGhlIGNhbGxiYWNrLiBOb3RlIHRoYXQgdGhlc2VcbiAgICAgICBrZXlzIGFyZSBjYXNlLXNlbnNpdGl2ZSBzbyBtdXN0IG1hdGNoIHRoZSBjYXNlIHVzZWQgaW4gdGhlXG4gICAgICAgU1FMLiBlLmcuIGBcInNlbGVjdCBhIEEgZnJvbSB0XCJgIHdpdGggYSBgcm93TW9kZWAgb2YgYCckQSdgXG4gICAgICAgd291bGQgd29yayBidXQgYCckYSdgIHdvdWxkIG5vdC4gQSByZWZlcmVuY2UgdG8gYSBjb2x1bW4gbm90IGluXG4gICAgICAgdGhlIHJlc3VsdCBzZXQgd2lsbCB0cmlnZ2VyIGFuIGV4Y2VwdGlvbiBvbiB0aGUgZmlyc3Qgcm93IChhc1xuICAgICAgIHRoZSBjaGVjayBpcyBub3QgcGVyZm9ybWVkIHVudGlsIHJvd3MgYXJlIGZldGNoZWQpLiAgTm90ZSBhbHNvXG4gICAgICAgdGhhdCBgJGAgaXMgYSBsZWdhbCBpZGVudGlmaWVyIGNoYXJhY3RlciBpbiBKUyBzbyBuZWVkIG5vdCBiZVxuICAgICAgIHF1b3RlZC5cblxuICAgICAgIEFueSBvdGhlciBgcm93TW9kZWAgdmFsdWUgdHJpZ2dlcnMgYW4gZXhjZXB0aW9uLlxuXG4gICAgICAgLSBgcmVzdWx0Um93c2A6IGlmIHRoaXMgaXMgYW4gYXJyYXksIGl0IGZ1bmN0aW9ucyBzaW1pbGFybHkgdG9cbiAgICAgICB0aGUgYGNhbGxiYWNrYCBvcHRpb246IGVhY2ggcm93IG9mIHRoZSByZXN1bHQgc2V0IChpZiBhbnkpLFxuICAgICAgIHdpdGggdGhlIGV4Y2VwdGlvbiB0aGF0IHRoZSBgcm93TW9kZWAgJ3N0bXQnIGlzIG5vdCBsZWdhbC4gSXRcbiAgICAgICBpcyBsZWdhbCB0byB1c2UgYm90aCBgcmVzdWx0Um93c2AgYW5kIGBjYWxsYmFja2AsIGJ1dFxuICAgICAgIGByZXN1bHRSb3dzYCBpcyBsaWtlbHkgbXVjaCBzaW1wbGVyIHRvIHVzZSBmb3Igc21hbGwgZGF0YSBzZXRzXG4gICAgICAgYW5kIGNhbiBiZSB1c2VkIG92ZXIgYSBXZWJXb3JrZXItc3R5bGUgbWVzc2FnZSBpbnRlcmZhY2UuXG4gICAgICAgZXhlYygpIHRocm93cyBpZiBgcmVzdWx0Um93c2AgaXMgc2V0IGFuZCBgcm93TW9kZWAgaXMgJ3N0bXQnLlxuXG4gICAgICAgLSBgcmV0dXJuVmFsdWVgOiBpcyBhIHN0cmluZyBzcGVjaWZ5aW5nIHdoYXQgdGhpcyBmdW5jdGlvblxuICAgICAgIHNob3VsZCByZXR1cm46XG5cbiAgICAgICAgIEEpIFRoZSBkZWZhdWx0IHZhbHVlIGlzICh1c3VhbGx5KSBgXCJ0aGlzXCJgLCBtZWFuaW5nIHRoYXQgdGhlXG4gICAgICAgICAgICBEQiBvYmplY3QgaXRzZWxmIHNob3VsZCBiZSByZXR1cm5lZC4gVGhlIGV4Y2VwdGlvbnMgaXMgaWZcbiAgICAgICAgICAgIHRoZSBjYWxsZXIgcGFzc2VzIG5laXRoZXIgb2YgYGNhbGxiYWNrYCBub3IgYHJldHVyblZhbHVlYFxuICAgICAgICAgICAgYnV0IGRvZXMgcGFzcyBhbiBleHBsaWNpdCBgcm93TW9kZWAgdGhlbiB0aGUgZGVmYXVsdFxuICAgICAgICAgICAgYHJldHVyblZhbHVlYCBpcyBgXCJyZXN1bHRSb3dzXCJgLCBkZXNjcmliZWQgYmVsb3cuXG5cbiAgICAgICAgIEIpIGBcInJlc3VsdFJvd3NcImAgbWVhbnMgdG8gcmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGVcbiAgICAgICAgICAgIGByZXN1bHRSb3dzYCBvcHRpb24uIElmIGByZXN1bHRSb3dzYCBpcyBub3Qgc2V0LCB0aGlzXG4gICAgICAgICAgICBmdW5jdGlvbiBiZWhhdmVzIGFzIGlmIGl0IHdlcmUgc2V0IHRvIGFuIGVtcHR5IGFycmF5LlxuXG4gICAgICAgICBDKSBgXCJzYXZlU3FsXCJgIG1lYW5zIHRvIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlXG4gICAgICAgICAgICBgc2F2ZVNxbGAgb3B0aW9uLiBJZiBgc2F2ZVNxbGAgaXMgbm90IHNldCwgdGhpc1xuICAgICAgICAgICAgZnVuY3Rpb24gYmVoYXZlcyBhcyBpZiBpdCB3ZXJlIHNldCB0byBhbiBlbXB0eSBhcnJheS5cblxuICAgICAgIFBvdGVudGlhbCBUT0RPczpcblxuICAgICAgIC0gYGJpbmRgOiBwZXJtaXQgYW4gYXJyYXkgb2YgYXJyYXlzL29iamVjdHMgdG8gYmluZC4gVGhlIGZpcnN0XG4gICAgICAgc3ViLWFycmF5IHdvdWxkIGFjdCBvbiB0aGUgZmlyc3Qgc3RhdGVtZW50IHdoaWNoIGhhcyBiaW5kYWJsZVxuICAgICAgIHBhcmFtZXRlcnMgKGFzIGl0IGRvZXMgbm93KS4gVGhlIDJuZCB3b3VsZCBhY3Qgb24gdGhlIG5leHQgc3VjaFxuICAgICAgIHN0YXRlbWVudCwgZXRjLlxuXG4gICAgICAgLSBgY2FsbGJhY2tgIGFuZCBgcmVzdWx0Um93c2A6IHBlcm1pdCBhbiBhcnJheSBlbnRyaWVzIHdpdGhcbiAgICAgICBzZW1hbnRpY3Mgc2ltaWxhciB0byB0aG9zZSBkZXNjcmliZWQgZm9yIGBiaW5kYCBhYm92ZS5cblxuICAgICovXG4gICAgZXhlYzogZnVuY3Rpb24oLyooc3FsIFssb2JqXSkgfHwgKG9iaikqLyl7XG4gICAgICBhZmZpcm1EYk9wZW4odGhpcyk7XG4gICAgICBjb25zdCBhcmcgPSBwYXJzZUV4ZWNBcmdzKHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBpZighYXJnLnNxbCl7XG4gICAgICAgIHJldHVybiB0b3NzMyhcImV4ZWMoKSByZXF1aXJlcyBhbiBTUUwgc3RyaW5nLlwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9wdCA9IGFyZy5vcHQ7XG4gICAgICBjb25zdCBjYWxsYmFjayA9IG9wdC5jYWxsYmFjaztcbiAgICAgIGNvbnN0IHJlc3VsdFJvd3MgPVxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheShvcHQucmVzdWx0Um93cykgPyBvcHQucmVzdWx0Um93cyA6IHVuZGVmaW5lZDtcbiAgICAgIGxldCBzdG10O1xuICAgICAgbGV0IGJpbmQgPSBvcHQuYmluZDtcbiAgICAgIGxldCBldmFsRmlyc3RSZXN1bHQgPSAhIShcbiAgICAgICAgYXJnLmNiQXJnIHx8IG9wdC5jb2x1bW5OYW1lcyB8fCByZXN1bHRSb3dzXG4gICAgICApIC8qIHRydWUgdG8gc3RlcCB0aHJvdWdoIHRoZSBmaXJzdCByZXN1bHQtcmV0dXJuaW5nIHN0YXRlbWVudCAqLztcbiAgICAgIGNvbnN0IHN0YWNrID0gd2FzbS5zY29wZWRBbGxvY1B1c2goKTtcbiAgICAgIGNvbnN0IHNhdmVTcWwgPSBBcnJheS5pc0FycmF5KG9wdC5zYXZlU3FsKSA/IG9wdC5zYXZlU3FsIDogdW5kZWZpbmVkO1xuICAgICAgdHJ5e1xuICAgICAgICBjb25zdCBpc1RBID0gdXRpbC5pc1NRTGFibGVUeXBlZEFycmF5KGFyZy5zcWwpXG4gICAgICAgIC8qIE9wdGltaXphdGlvbjogaWYgdGhlIFNRTCBpcyBhIFR5cGVkQXJyYXkgd2UgY2FuIHNhdmUgc29tZSBzdHJpbmdcbiAgICAgICAgICAgY29udmVyc2lvbiBjb3N0cy4gKi87XG4gICAgICAgIC8qIEFsbG9jYXRlIHRoZSB0d28gb3V0cHV0IHBvaW50ZXJzIChwcFN0bXQsIHB6VGFpbCkgYW5kIGhlYXBcbiAgICAgICAgICAgc3BhY2UgZm9yIHRoZSBTUUwgKHBTcWwpLiBXaGVuIHByZXBhcmVfdjIoKSByZXR1cm5zLCBwelRhaWxcbiAgICAgICAgICAgd2lsbCBwb2ludCB0byBzb21ld2hlcmUgaW4gcFNxbC4gKi9cbiAgICAgICAgbGV0IHNxbEJ5dGVMZW4gPSBpc1RBID8gYXJnLnNxbC5ieXRlTGVuZ3RoIDogd2FzbS5qc3RybGVuKGFyZy5zcWwpO1xuICAgICAgICBjb25zdCBwcFN0bXQgID0gd2FzbS5zY29wZWRBbGxvYyhcbiAgICAgICAgICAvKiBvdXRwdXQgKHNxbGl0ZTNfc3RtdCoqKSBhcmcgYW5kIHB6VGFpbCAqL1xuICAgICAgICAgICgyICogd2FzbS5wdHJTaXplb2YpICsgKHNxbEJ5dGVMZW4gKyAxLyogU1FMICsgTlVMICovKVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBwelRhaWwgPSBwcFN0bXQgKyB3YXNtLnB0clNpemVvZiAvKiBmaW5hbCBhcmcgdG8gc3FsaXRlM19wcmVwYXJlX3YyKCkgKi87XG4gICAgICAgIGxldCBwU3FsID0gcHpUYWlsICsgd2FzbS5wdHJTaXplb2Y7XG4gICAgICAgIGNvbnN0IHBTcWxFbmQgPSBwU3FsICsgc3FsQnl0ZUxlbjtcbiAgICAgICAgaWYoaXNUQSkgd2FzbS5oZWFwOCgpLnNldChhcmcuc3FsLCBwU3FsKTtcbiAgICAgICAgZWxzZSB3YXNtLmpzdHJjcHkoYXJnLnNxbCwgd2FzbS5oZWFwOCgpLCBwU3FsLCBzcWxCeXRlTGVuLCBmYWxzZSk7XG4gICAgICAgIHdhc20ucG9rZShwU3FsICsgc3FsQnl0ZUxlbiwgMC8qTlVMIHRlcm1pbmF0b3IqLyk7XG4gICAgICAgIHdoaWxlKHBTcWwgJiYgd2FzbS5wZWVrKHBTcWwsICdpOCcpXG4gICAgICAgICAgICAgIC8qIE1haW50ZW5hbmNlIHJlbWluZGVyOl5eXiBfbXVzdF8gYmUgJ2k4JyBvciBlbHNlIHdlXG4gICAgICAgICAgICAgICAgIHdpbGwgdmVyeSBsaWtlbHkgY2F1c2UgYW4gZW5kbGVzcyBsb29wLiBXaGF0IHRoYXQnc1xuICAgICAgICAgICAgICAgICBkb2luZyBpcyBjaGVja2luZyBmb3IgYSB0ZXJtaW5hdGluZyBOVUwgYnl0ZS4gSWYgd2VcbiAgICAgICAgICAgICAgICAgdXNlIGkzMiBvciBzaW1pbGFyIHRoZW4gd2UgcmVhZCA0IGJ5dGVzLCByZWFkIHN0dWZmXG4gICAgICAgICAgICAgICAgIGFyb3VuZCB0aGUgTlVMIHRlcm1pbmF0b3IsIGFuZCBnZXQgc3R1Y2sgaW4gYW5kXG4gICAgICAgICAgICAgICAgIGVuZGxlc3MgbG9vcCBhdCB0aGUgZW5kIG9mIHRoZSBTUUwsIGVuZGxlc3NseVxuICAgICAgICAgICAgICAgICByZS1wcmVwYXJpbmcgYW4gZW1wdHkgc3RhdGVtZW50LiAqLyApe1xuICAgICAgICAgIHdhc20ucG9rZVB0cihbcHBTdG10LCBwelRhaWxdLCAwKTtcbiAgICAgICAgICBEQi5jaGVja1JjKHRoaXMsIGNhcGkuc3FsaXRlM19wcmVwYXJlX3YzKFxuICAgICAgICAgICAgdGhpcy5wb2ludGVyLCBwU3FsLCBzcWxCeXRlTGVuLCAwLCBwcFN0bXQsIHB6VGFpbFxuICAgICAgICAgICkpO1xuICAgICAgICAgIGNvbnN0IHBTdG10ID0gd2FzbS5wZWVrUHRyKHBwU3RtdCk7XG4gICAgICAgICAgcFNxbCA9IHdhc20ucGVla1B0cihwelRhaWwpO1xuICAgICAgICAgIHNxbEJ5dGVMZW4gPSBwU3FsRW5kIC0gcFNxbDtcbiAgICAgICAgICBpZighcFN0bXQpIGNvbnRpbnVlO1xuICAgICAgICAgIGlmKHNhdmVTcWwpIHNhdmVTcWwucHVzaChjYXBpLnNxbGl0ZTNfc3FsKHBTdG10KS50cmltKCkpO1xuICAgICAgICAgIHN0bXQgPSBuZXcgU3RtdCh0aGlzLCBwU3RtdCwgQmluZFR5cGVzKTtcbiAgICAgICAgICBpZihiaW5kICYmIHN0bXQucGFyYW1ldGVyQ291bnQpe1xuICAgICAgICAgICAgc3RtdC5iaW5kKGJpbmQpO1xuICAgICAgICAgICAgYmluZCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKGV2YWxGaXJzdFJlc3VsdCAmJiBzdG10LmNvbHVtbkNvdW50KXtcbiAgICAgICAgICAgIC8qIE9ubHkgZm9yd2FyZCBTRUxFQ1QgcmVzdWx0cyBmb3IgdGhlIEZJUlNUIHF1ZXJ5XG4gICAgICAgICAgICAgICBpbiB0aGUgU1FMIHdoaWNoIHBvdGVudGlhbGx5IGhhcyB0aGVtLiAqL1xuICAgICAgICAgICAgZXZhbEZpcnN0UmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICBpZihBcnJheS5pc0FycmF5KG9wdC5jb2x1bW5OYW1lcykpe1xuICAgICAgICAgICAgICBzdG10LmdldENvbHVtbk5hbWVzKG9wdC5jb2x1bW5OYW1lcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihhcmcuY2JBcmcgfHwgcmVzdWx0Um93cyl7XG4gICAgICAgICAgICAgIGZvcig7IHN0bXQuc3RlcCgpOyBzdG10Ll9pc0xvY2tlZCA9IGZhbHNlKXtcbiAgICAgICAgICAgICAgICBzdG10Ll9pc0xvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gYXJnLmNiQXJnKHN0bXQpO1xuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFJvd3MpIHJlc3VsdFJvd3MucHVzaChyb3cpO1xuICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrICYmIGZhbHNlID09PSBjYWxsYmFjay5jYWxsKG9wdCwgcm93LCBzdG10KSl7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3RtdC5faXNMb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHN0bXQuc3RlcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdG10LmZpbmFsaXplKCk7XG4gICAgICAgICAgc3RtdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0vKmNhdGNoKGUpe1xuICAgICAgICBzcWxpdGUzLmNvbmZpZy53YXJuKFwiREIuZXhlYygpIGlzIHByb3BhZ2F0aW5nIGV4Y2VwdGlvblwiLG9wdCxlKTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH0qL2ZpbmFsbHl7XG4gICAgICAgIGlmKHN0bXQpe1xuICAgICAgICAgIGRlbGV0ZSBzdG10Ll9pc0xvY2tlZDtcbiAgICAgICAgICBzdG10LmZpbmFsaXplKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2FzbS5zY29wZWRBbGxvY1BvcChzdGFjayk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJnLnJldHVyblZhbCgpO1xuICAgIH0vKmV4ZWMoKSovLFxuXG4gICAgLyoqXG4gICAgICAgQ3JlYXRlcyBhIG5ldyBVREYgKFVzZXItRGVmaW5lZCBGdW5jdGlvbikgd2hpY2ggaXMgYWNjZXNzaWJsZVxuICAgICAgIHZpYSBTUUwgY29kZS4gVGhpcyBmdW5jdGlvbiBtYXkgYmUgY2FsbGVkIGluIGFueSBvZiB0aGVcbiAgICAgICBmb2xsb3dpbmcgZm9ybXM6XG5cbiAgICAgICAtIChuYW1lLCBmdW5jdGlvbilcbiAgICAgICAtIChuYW1lLCBmdW5jdGlvbiwgb3B0aW9uc09iamVjdClcbiAgICAgICAtIChuYW1lLCBvcHRpb25zT2JqZWN0KVxuICAgICAgIC0gKG9wdGlvbnNPYmplY3QpXG5cbiAgICAgICBJbiB0aGUgZmluYWwgdHdvIGNhc2VzLCB0aGUgZnVuY3Rpb24gbXVzdCBiZSBkZWZpbmVkIGFzIHRoZVxuICAgICAgIGBjYWxsYmFja2AgcHJvcGVydHkgb2YgdGhlIG9wdGlvbnMgb2JqZWN0IChvcHRpb25hbGx5IGNhbGxlZFxuICAgICAgIGB4RnVuY2AgdG8gYWxpZ24gd2l0aCB0aGUgQyBBUEkgZG9jdW1lbnRhdGlvbikuIEluIHRoZSBmaW5hbFxuICAgICAgIGNhc2UsIHRoZSBmdW5jdGlvbidzIG5hbWUgbXVzdCBiZSB0aGUgJ25hbWUnIHByb3BlcnR5LlxuXG4gICAgICAgVGhlIGZpcnN0IHR3byBjYWxsIGZvcm1zIGNhbiBvbmx5IGJlIHVzZWQgZm9yIGNyZWF0aW5nIHNjYWxhclxuICAgICAgIGZ1bmN0aW9ucy4gQ3JlYXRpbmcgYW4gYWdncmVnYXRlIG9yIHdpbmRvdyBmdW5jdGlvbiByZXF1aXJlc1xuICAgICAgIHRoZSBvcHRpb25zLW9iamVjdCBmb3JtIChzZWUgYmVsb3cgZm9yIGRldGFpbHMpLlxuXG4gICAgICAgVURGcyBjYW4gYmUgcmVtb3ZlZCBhcyBkb2N1bWVudGVkIGZvclxuICAgICAgIHNxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uX3YyKCkgYW5kXG4gICAgICAgc3FsaXRlM19jcmVhdGVfd2luZG93X2Z1bmN0aW9uKCksIGJ1dCBkb2luZyBzbyB3aWxsIFwibGVha1wiIHRoZVxuICAgICAgIEpTLWNyZWF0ZWQgV0FTTSBiaW5kaW5nIG9mIHRob3NlIGZ1bmN0aW9ucyAobWVhbmluZyB0aGF0IHRoZWlyXG4gICAgICAgZW50cmllcyBpbiB0aGUgV0FTTSBpbmRpcmVjdCBmdW5jdGlvbiB0YWJsZSBzdGlsbFxuICAgICAgIGV4aXN0KS4gRWxpbWluYXRpbmcgdGhhdCBwb3RlbnRpYWwgbGVhayBpcyBhIHBlbmRpbmcgVE9ETy5cblxuICAgICAgIE9uIHN1Y2Nlc3MsIHJldHVybnMgdGhpcyBvYmplY3QuIFRocm93cyBvbiBlcnJvci5cblxuICAgICAgIFdoZW4gY2FsbGVkIGZyb20gU1FMIGFyZ3VtZW50cyB0byB0aGUgVURGLCBhbmQgaXRzIHJlc3VsdCxcbiAgICAgICB3aWxsIGJlIGNvbnZlcnRlZCBiZXR3ZWVuIEpTIGFuZCBTUUwgd2l0aCBhcyBtdWNoIGZpZGVsaXR5IGFzXG4gICAgICAgaXMgZmVhc2libGUsIHRyaWdnZXJpbmcgYW4gZXhjZXB0aW9uIGlmIGEgdHlwZSBjb252ZXJzaW9uXG4gICAgICAgY2Fubm90IGJlIGRldGVybWluZWQuIFRoZSBkb2NzIGZvciBzcWxpdGUzX2NyZWF0ZV9mdW5jdGlvbl92MigpXG4gICAgICAgZGVzY3JpYmUgdGhlIGNvbnZlcnNpb25zIGluIG1vcmUgZGV0YWlsLlxuXG4gICAgICAgVGhlIHZhbHVlcyBzZXQgaW4gdGhlIG9wdGlvbnMgb2JqZWN0IGRpZmZlciBmb3Igc2NhbGFyIGFuZFxuICAgICAgIGFnZ3JlZ2F0ZSBmdW5jdGlvbnM6XG5cbiAgICAgICAtIFNjYWxhcjogc2V0IHRoZSBgeEZ1bmNgIGZ1bmN0aW9uLXR5cGUgcHJvcGVydHkgdG8gdGhlIFVERlxuICAgICAgICAgZnVuY3Rpb24uXG5cbiAgICAgICAtIEFnZ3JlZ2F0ZTogc2V0IHRoZSBgeFN0ZXBgIGFuZCBgeEZpbmFsYCBmdW5jdGlvbi10eXBlXG4gICAgICAgICBwcm9wZXJ0aWVzIHRvIHRoZSBcInN0ZXBcIiBhbmQgXCJmaW5hbFwiIGNhbGxiYWNrcyBmb3IgdGhlXG4gICAgICAgICBhZ2dyZWdhdGUuIERvIG5vdCBzZXQgdGhlIGB4RnVuY2AgcHJvcGVydHkuXG5cbiAgICAgICAtIFdpbmRvdzogc2V0IHRoZSBgeFN0ZXBgLCBgeEZpbmFsYCwgYHhWYWx1ZWAsIGFuZCBgeEludmVyc2VgXG4gICAgICAgICBmdW5jdGlvbi10eXBlIHByb3BlcnRpZXMuIERvIG5vdCBzZXQgdGhlIGB4RnVuY2AgcHJvcGVydHkuXG5cbiAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QgbWF5IG9wdGlvbmFsbHkgaGF2ZSBhbiBgeERlc3Ryb3lgXG4gICAgICAgZnVuY3Rpb24tdHlwZSBwcm9wZXJ0eSwgYXMgcGVyIHNxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uX3YyKCkuXG4gICAgICAgSXRzIGFyZ3VtZW50IHdpbGwgYmUgdGhlIFdBU00tcG9pbnRlci10eXBlIHZhbHVlIG9mIHRoZSBgcEFwcGBcbiAgICAgICBwcm9wZXJ0eSwgYW5kIHRoaXMgZnVuY3Rpb24gd2lsbCB0aHJvdyBpZiBgcEFwcGAgaXMgZGVmaW5lZCBidXRcbiAgICAgICBpcyBub3QgbnVsbCwgdW5kZWZpbmVkLCBvciBhIG51bWVyaWMgKFdBU00gcG9pbnRlcilcbiAgICAgICB2YWx1ZS4gaS5lLiBgcEFwcGAsIGlmIHNldCwgbXVzdCBiZSB2YWx1ZSBzdWl0YWJsZSBmb3IgdXNlIGFzIGFcbiAgICAgICBXQVNNIHBvaW50ZXIgYXJndW1lbnQsIG5vdGluZyB0aGF0IGBudWxsYCBvciBgdW5kZWZpbmVkYCB3aWxsXG4gICAgICAgdHJhbnNsYXRlIHRvIDAgZm9yIHRoYXQgcHVycG9zZS5cblxuICAgICAgIFRoZSBvcHRpb25zIG9iamVjdCBtYXkgY29udGFpbiBmbGFncyB0byBtb2RpZnkgaG93XG4gICAgICAgdGhlIGZ1bmN0aW9uIGlzIGRlZmluZWQ6XG5cbiAgICAgICAtIGBhcml0eWA6IHRoZSBudW1iZXIgb2YgYXJndW1lbnRzIHdoaWNoIFNRTCBjYWxscyB0byB0aGlzXG4gICAgICAgZnVuY3Rpb24gZXhwZWN0IG9yIHJlcXVpcmUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGB4RnVuYy5sZW5ndGhgXG4gICAgICAgb3IgYHhTdGVwLmxlbmd0aGAgKGkuZS4gdGhlIG51bWJlciBvZiBkZWNsYXJlZCBwYXJhbWV0ZXJzIGl0XG4gICAgICAgaGFzKSAqKk1JTlVTIDEqKiAoc2VlIGJlbG93IGZvciB3aHkpLiBBcyBhIHNwZWNpYWwgY2FzZSwgaWYgdGhlXG4gICAgICAgYGxlbmd0aGAgaXMgMCwgaXRzIGFyaXR5IGlzIGFsc28gMCBpbnN0ZWFkIG9mIC0xLiBBIG5lZ2F0aXZlXG4gICAgICAgYXJpdHkgdmFsdWUgbWVhbnMgdGhhdCB0aGUgZnVuY3Rpb24gaXMgdmFyaWFkaWMgYW5kIG1heSBhY2NlcHRcbiAgICAgICBhbnkgbnVtYmVyIG9mIGFyZ3VtZW50cywgdXAgdG8gc3FsaXRlMydzIGNvbXBpbGUtdGltZVxuICAgICAgIGxpbWl0cy4gc3FsaXRlMyB3aWxsIGVuZm9yY2UgdGhlIGFyZ3VtZW50IGNvdW50IGlmIGlzIHplcm8gb3JcbiAgICAgICBncmVhdGVyLiBUaGUgY2FsbGJhY2sgYWx3YXlzIHJlY2VpdmVzIGEgcG9pbnRlciB0byBhblxuICAgICAgIGBzcWxpdGUzX2NvbnRleHRgIG9iamVjdCBhcyBpdHMgZmlyc3QgYXJndW1lbnQuIEFueSBhcmd1bWVudHNcbiAgICAgICBhZnRlciB0aGF0IGFyZSBmcm9tIFNRTCBjb2RlLiBUaGUgbGVhZGluZyBjb250ZXh0IGFyZ3VtZW50IGRvZXNcbiAgICAgICBfbm90XyBjb3VudCB0b3dhcmRzIHRoZSBmdW5jdGlvbidzIGFyaXR5LiBTZWUgdGhlIGRvY3MgZm9yXG4gICAgICAgc3FsaXRlMy5jYXBpLnNxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uX3YyKCkgZm9yIHdoeSB0aGF0IGFyZ3VtZW50XG4gICAgICAgaXMgbmVlZGVkIGluIHRoZSBpbnRlcmZhY2UuXG5cbiAgICAgICBUaGUgZm9sbG93aW5nIG9wdGlvbnMtb2JqZWN0IHByb3BlcnRpZXMgY29ycmVzcG9uZCB0byBmbGFnc1xuICAgICAgIGRvY3VtZW50ZWQgYXQ6XG5cbiAgICAgICBodHRwczovL3NxbGl0ZS5vcmcvYzNyZWYvY3JlYXRlX2Z1bmN0aW9uLmh0bWxcblxuICAgICAgIC0gYGRldGVybWluaXN0aWNgID0gc3FsaXRlMy5jYXBpLlNRTElURV9ERVRFUk1JTklTVElDXG4gICAgICAgLSBgZGlyZWN0T25seWAgPSBzcWxpdGUzLmNhcGkuU1FMSVRFX0RJUkVDVE9OTFlcbiAgICAgICAtIGBpbm5vY3VvdXNgID0gc3FsaXRlMy5jYXBpLlNRTElURV9JTk5PQ1VPVVNcblxuICAgICAgIFNpZGViYXI6IHRoZSBhYmlsaXR5IHRvIGFkZCBuZXcgV0FTTS1hY2Nlc3NpYmxlIGZ1bmN0aW9ucyB0b1xuICAgICAgIHRoZSBydW50aW1lIHJlcXVpcmVzIHRoYXQgdGhlIFdBU00gYnVpbGQgaXMgY29tcGlsZWQgd2l0aCB0aGVcbiAgICAgICBlcXVpdmFsZW50IGZ1bmN0aW9uYWxpdHkgYXMgdGhhdCBwcm92aWRlZCBieSBFbXNjcmlwdGVuJ3NcbiAgICAgICBgLXNBTExPV19UQUJMRV9HUk9XVEhgIGZsYWcuXG4gICAgKi9cbiAgICBjcmVhdGVGdW5jdGlvbjogZnVuY3Rpb24gZihuYW1lLCB4RnVuYywgb3B0KXtcbiAgICAgIGNvbnN0IGlzRnVuYyA9IChmKT0+KGYgaW5zdGFuY2VvZiBGdW5jdGlvbik7XG4gICAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICAgICAgY2FzZSAxOiAvKiAob3B0aW9uc09iamVjdCkgKi9cbiAgICAgICAgICAgIG9wdCA9IG5hbWU7XG4gICAgICAgICAgICBuYW1lID0gb3B0Lm5hbWU7XG4gICAgICAgICAgICB4RnVuYyA9IG9wdC54RnVuYyB8fCAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyOiAvKiAobmFtZSwgY2FsbGJhY2t8b3B0aW9uc09iamVjdCkgKi9cbiAgICAgICAgICAgIGlmKCFpc0Z1bmMoeEZ1bmMpKXtcbiAgICAgICAgICAgICAgb3B0ID0geEZ1bmM7XG4gICAgICAgICAgICAgIHhGdW5jID0gb3B0LnhGdW5jIHx8IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDM6IC8qIG5hbWUsIHhGdW5jLCBvcHQgKi9cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6IGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYoIW9wdCkgb3B0ID0ge307XG4gICAgICBpZignc3RyaW5nJyAhPT0gdHlwZW9mIG5hbWUpe1xuICAgICAgICB0b3NzMyhcIkludmFsaWQgYXJndW1lbnRzOiBtaXNzaW5nIGZ1bmN0aW9uIG5hbWUuXCIpO1xuICAgICAgfVxuICAgICAgbGV0IHhTdGVwID0gb3B0LnhTdGVwIHx8IDA7XG4gICAgICBsZXQgeEZpbmFsID0gb3B0LnhGaW5hbCB8fCAwO1xuICAgICAgY29uc3QgeFZhbHVlID0gb3B0LnhWYWx1ZSB8fCAwO1xuICAgICAgY29uc3QgeEludmVyc2UgPSBvcHQueEludmVyc2UgfHwgMDtcbiAgICAgIGxldCBpc1dpbmRvdyA9IHVuZGVmaW5lZDtcbiAgICAgIGlmKGlzRnVuYyh4RnVuYykpe1xuICAgICAgICBpc1dpbmRvdyA9IGZhbHNlO1xuICAgICAgICBpZihpc0Z1bmMoeFN0ZXApIHx8IGlzRnVuYyh4RmluYWwpKXtcbiAgICAgICAgICB0b3NzMyhcIkFtYmlndW91cyBhcmd1bWVudHM6IHNjYWxhciBvciBhZ2dyZWdhdGU/XCIpO1xuICAgICAgICB9XG4gICAgICAgIHhTdGVwID0geEZpbmFsID0gbnVsbDtcbiAgICAgIH1lbHNlIGlmKGlzRnVuYyh4U3RlcCkpe1xuICAgICAgICBpZighaXNGdW5jKHhGaW5hbCkpe1xuICAgICAgICAgIHRvc3MzKFwiTWlzc2luZyB4RmluYWwoKSBjYWxsYmFjayBmb3IgYWdncmVnYXRlIG9yIHdpbmRvdyBVREYuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHhGdW5jID0gbnVsbDtcbiAgICAgIH1lbHNlIGlmKGlzRnVuYyh4RmluYWwpKXtcbiAgICAgICAgdG9zczMoXCJNaXNzaW5nIHhTdGVwKCkgY2FsbGJhY2sgZm9yIGFnZ3JlZ2F0ZSBvciB3aW5kb3cgVURGLlwiKTtcbiAgICAgIH1lbHNle1xuICAgICAgICB0b3NzMyhcIk1pc3NpbmcgZnVuY3Rpb24tdHlwZSBwcm9wZXJ0aWVzLlwiKTtcbiAgICAgIH1cbiAgICAgIGlmKGZhbHNlID09PSBpc1dpbmRvdyl7XG4gICAgICAgIGlmKGlzRnVuYyh4VmFsdWUpIHx8IGlzRnVuYyh4SW52ZXJzZSkpe1xuICAgICAgICAgIHRvc3MzKFwieFZhbHVlIGFuZCB4SW52ZXJzZSBhcmUgbm90IHBlcm1pdHRlZCBmb3Igbm9uLXdpbmRvdyBVREZzLlwiKTtcbiAgICAgICAgfVxuICAgICAgfWVsc2UgaWYoaXNGdW5jKHhWYWx1ZSkpe1xuICAgICAgICBpZighaXNGdW5jKHhJbnZlcnNlKSl7XG4gICAgICAgICAgdG9zczMoXCJ4SW52ZXJzZSBtdXN0IGJlIHByb3ZpZGVkIGlmIHhWYWx1ZSBpcy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaXNXaW5kb3cgPSB0cnVlO1xuICAgICAgfWVsc2UgaWYoaXNGdW5jKHhJbnZlcnNlKSl7XG4gICAgICAgIHRvc3MzKFwieFZhbHVlIG11c3QgYmUgcHJvdmlkZWQgaWYgeEludmVyc2UgaXMuXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgcEFwcCA9IG9wdC5wQXBwO1xuICAgICAgaWYodW5kZWZpbmVkIT09cEFwcCAmJlxuICAgICAgICAgbnVsbCE9PXBBcHAgJiZcbiAgICAgICAgICgoJ251bWJlcichPT10eXBlb2YgcEFwcCkgfHwgIXV0aWwuaXNJbnQzMihwQXBwKSkpe1xuICAgICAgICB0b3NzMyhcIkludmFsaWQgdmFsdWUgZm9yIHBBcHAgcHJvcGVydHkuIE11c3QgYmUgYSBsZWdhbCBXQVNNIHBvaW50ZXIgdmFsdWUuXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgeERlc3Ryb3kgPSBvcHQueERlc3Ryb3kgfHwgMDtcbiAgICAgIGlmKHhEZXN0cm95ICYmICFpc0Z1bmMoeERlc3Ryb3kpKXtcbiAgICAgICAgdG9zczMoXCJ4RGVzdHJveSBwcm9wZXJ0eSBtdXN0IGJlIGEgZnVuY3Rpb24uXCIpO1xuICAgICAgfVxuICAgICAgbGV0IGZGbGFncyA9IDAgLypmbGFncyBmb3Igc3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjIoKSovO1xuICAgICAgaWYoZ2V0T3duT3B0aW9uKG9wdCwgJ2RldGVybWluaXN0aWMnKSkgZkZsYWdzIHw9IGNhcGkuU1FMSVRFX0RFVEVSTUlOSVNUSUM7XG4gICAgICBpZihnZXRPd25PcHRpb24ob3B0LCAnZGlyZWN0T25seScpKSBmRmxhZ3MgfD0gY2FwaS5TUUxJVEVfRElSRUNUT05MWTtcbiAgICAgIGlmKGdldE93bk9wdGlvbihvcHQsICdpbm5vY3VvdXMnKSkgZkZsYWdzIHw9IGNhcGkuU1FMSVRFX0lOTk9DVU9VUztcbiAgICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCB4QXJpdHkgPSB4RnVuYyB8fCB4U3RlcDtcbiAgICAgIGNvbnN0IGFyaXR5ID0gZ2V0T3duT3B0aW9uKG9wdCwgJ2FyaXR5Jyk7XG4gICAgICBjb25zdCBhcml0eUFyZyA9ICgnbnVtYmVyJz09PXR5cGVvZiBhcml0eVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBhcml0eVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAoeEFyaXR5Lmxlbmd0aCA/IHhBcml0eS5sZW5ndGgtMS8qZm9yIHBDdHggYXJnKi8gOiAwKSk7XG4gICAgICBsZXQgcmM7XG4gICAgICBpZiggaXNXaW5kb3cgKXtcbiAgICAgICAgcmMgPSBjYXBpLnNxbGl0ZTNfY3JlYXRlX3dpbmRvd19mdW5jdGlvbihcbiAgICAgICAgICB0aGlzLnBvaW50ZXIsIG5hbWUsIGFyaXR5QXJnLFxuICAgICAgICAgIGNhcGkuU1FMSVRFX1VURjggfCBmRmxhZ3MsIHBBcHAgfHwgMCxcbiAgICAgICAgICB4U3RlcCwgeEZpbmFsLCB4VmFsdWUsIHhJbnZlcnNlLCB4RGVzdHJveSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmMgPSBjYXBpLnNxbGl0ZTNfY3JlYXRlX2Z1bmN0aW9uX3YyKFxuICAgICAgICAgIHRoaXMucG9pbnRlciwgbmFtZSwgYXJpdHlBcmcsXG4gICAgICAgICAgY2FwaS5TUUxJVEVfVVRGOCB8IGZGbGFncywgcEFwcCB8fCAwLFxuICAgICAgICAgIHhGdW5jLCB4U3RlcCwgeEZpbmFsLCB4RGVzdHJveSk7XG4gICAgICB9XG4gICAgICBEQi5jaGVja1JjKHRoaXMsIHJjKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0vKmNyZWF0ZUZ1bmN0aW9uKCkqLyxcbiAgICAvKipcbiAgICAgICBQcmVwYXJlcyB0aGUgZ2l2ZW4gU1FMLCBzdGVwKClzIGl0IG9uZSB0aW1lLCBhbmQgcmV0dXJuc1xuICAgICAgIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgcmVzdWx0IGNvbHVtbi4gSWYgaXQgaGFzIG5vIHJlc3VsdHMsXG4gICAgICAgdW5kZWZpbmVkIGlzIHJldHVybmVkLlxuXG4gICAgICAgSWYgcGFzc2VkIGEgc2Vjb25kIGFyZ3VtZW50LCBpdCBpcyB0cmVhdGVkIGxpa2UgYW4gYXJndW1lbnRcbiAgICAgICB0byBTdG10LmJpbmQoKSwgc28gbWF5IGJlIGFueSB0eXBlIHN1cHBvcnRlZCBieSB0aGF0XG4gICAgICAgZnVuY3Rpb24uIFBhc3NpbmcgdGhlIHVuZGVmaW5lZCB2YWx1ZSBpcyB0aGUgc2FtZSBhcyBwYXNzaW5nXG4gICAgICAgbm8gdmFsdWUsIHdoaWNoIGlzIHVzZWZ1bCB3aGVuLi4uXG5cbiAgICAgICBJZiBwYXNzZWQgYSAzcmQgYXJndW1lbnQsIGl0IGlzIGV4cGVjdGVkIHRvIGJlIG9uZSBvZiB0aGVcbiAgICAgICBTUUxJVEVfe3R5cGVuYW1lfSBjb25zdGFudHMuIFBhc3NpbmcgdGhlIHVuZGVmaW5lZCB2YWx1ZSBpc1xuICAgICAgIHRoZSBzYW1lIGFzIG5vdCBwYXNzaW5nIGEgdmFsdWUuXG5cbiAgICAgICBUaHJvd3Mgb24gZXJyb3IgKGUuZy4gbWFsZm9ybWVkIFNRTCkuXG4gICAgKi9cbiAgICBzZWxlY3RWYWx1ZTogZnVuY3Rpb24oc3FsLGJpbmQsYXNUeXBlKXtcbiAgICAgIHJldHVybiBfX3NlbGVjdEZpcnN0Um93KHRoaXMsIHNxbCwgYmluZCwgMCwgYXNUeXBlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICAgUnVucyB0aGUgZ2l2ZW4gcXVlcnkgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHZhbHVlcyBmcm9tXG4gICAgICAgdGhlIGZpcnN0IHJlc3VsdCBjb2x1bW4gb2YgZWFjaCByb3cgb2YgdGhlIHJlc3VsdCBzZXQuIFRoZSAybmRcbiAgICAgICBhcmd1bWVudCBpcyBhbiBvcHRpb25hbCB2YWx1ZSBmb3IgdXNlIGluIGEgc2luZ2xlLWFyZ3VtZW50IGNhbGxcbiAgICAgICB0byBTdG10LmJpbmQoKS4gVGhlIDNyZCBhcmd1bWVudCBtYXkgYmUgYW55IHZhbHVlIHN1aXRhYmxlIGZvclxuICAgICAgIHVzZSBhcyB0aGUgMm5kIGFyZ3VtZW50IHRvIFN0bXQuZ2V0KCkuIElmIGEgM3JkIGFyZ3VtZW50IGlzXG4gICAgICAgZGVzaXJlZCBidXQgbm8gYmluZCBkYXRhIGFyZSBuZWVkZWQsIHBhc3MgYHVuZGVmaW5lZGAgZm9yIHRoZSAybmRcbiAgICAgICBhcmd1bWVudC5cblxuICAgICAgIElmIHRoZXJlIGFyZSBubyByZXN1bHQgcm93cywgYW4gZW1wdHkgYXJyYXkgaXMgcmV0dXJuZWQuXG4gICAgKi9cbiAgICBzZWxlY3RWYWx1ZXM6IGZ1bmN0aW9uKHNxbCxiaW5kLGFzVHlwZSl7XG4gICAgICBjb25zdCBzdG10ID0gdGhpcy5wcmVwYXJlKHNxbCksIHJjID0gW107XG4gICAgICB0cnkge1xuICAgICAgICBzdG10LmJpbmQoYmluZCk7XG4gICAgICAgIHdoaWxlKHN0bXQuc3RlcCgpKSByYy5wdXNoKHN0bXQuZ2V0KDAsYXNUeXBlKSk7XG4gICAgICB9ZmluYWxseXtcbiAgICAgICAgc3RtdC5maW5hbGl6ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJjO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgICBQcmVwYXJlcyB0aGUgZ2l2ZW4gU1FMLCBzdGVwKClzIGl0IG9uZSB0aW1lLCBhbmQgcmV0dXJucyBhblxuICAgICAgIGFycmF5IGNvbnRhaW5pbmcgdGhlIHZhbHVlcyBvZiB0aGUgZmlyc3QgcmVzdWx0IHJvdy4gSWYgaXQgaGFzXG4gICAgICAgbm8gcmVzdWx0cywgYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG5cbiAgICAgICBJZiBwYXNzZWQgYSBzZWNvbmQgYXJndW1lbnQgb3RoZXIgdGhhbiBgdW5kZWZpbmVkYCwgaXQgaXNcbiAgICAgICB0cmVhdGVkIGxpa2UgYW4gYXJndW1lbnQgdG8gU3RtdC5iaW5kKCksIHNvIG1heSBiZSBhbnkgdHlwZVxuICAgICAgIHN1cHBvcnRlZCBieSB0aGF0IGZ1bmN0aW9uLlxuXG4gICAgICAgVGhyb3dzIG9uIGVycm9yIChlLmcuIG1hbGZvcm1lZCBTUUwpLlxuICAgICovXG4gICAgc2VsZWN0QXJyYXk6IGZ1bmN0aW9uKHNxbCxiaW5kKXtcbiAgICAgIHJldHVybiBfX3NlbGVjdEZpcnN0Um93KHRoaXMsIHNxbCwgYmluZCwgW10pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgICBQcmVwYXJlcyB0aGUgZ2l2ZW4gU1FMLCBzdGVwKClzIGl0IG9uZSB0aW1lLCBhbmQgcmV0dXJucyBhblxuICAgICAgIG9iamVjdCBjb250YWluaW5nIHRoZSBrZXkvdmFsdWUgcGFpcnMgb2YgdGhlIGZpcnN0IHJlc3VsdFxuICAgICAgIHJvdy4gSWYgaXQgaGFzIG5vIHJlc3VsdHMsIGB1bmRlZmluZWRgIGlzIHJldHVybmVkLlxuXG4gICAgICAgTm90ZSB0aGF0IHRoZSBvcmRlciBvZiByZXR1cm5lZCBvYmplY3QncyBrZXlzIGlzIG5vdCBndWFyYW50ZWVkXG4gICAgICAgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIG9yZGVyIG9mIHRoZSBmaWVsZHMgaW4gdGhlIHF1ZXJ5IHN0cmluZy5cblxuICAgICAgIElmIHBhc3NlZCBhIHNlY29uZCBhcmd1bWVudCBvdGhlciB0aGFuIGB1bmRlZmluZWRgLCBpdCBpc1xuICAgICAgIHRyZWF0ZWQgbGlrZSBhbiBhcmd1bWVudCB0byBTdG10LmJpbmQoKSwgc28gbWF5IGJlIGFueSB0eXBlXG4gICAgICAgc3VwcG9ydGVkIGJ5IHRoYXQgZnVuY3Rpb24uXG5cbiAgICAgICBUaHJvd3Mgb24gZXJyb3IgKGUuZy4gbWFsZm9ybWVkIFNRTCkuXG4gICAgKi9cbiAgICBzZWxlY3RPYmplY3Q6IGZ1bmN0aW9uKHNxbCxiaW5kKXtcbiAgICAgIHJldHVybiBfX3NlbGVjdEZpcnN0Um93KHRoaXMsIHNxbCwgYmluZCwge30pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgICBSdW5zIHRoZSBnaXZlbiBTUUwgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHJlc3VsdHMsIHdpdGhcbiAgICAgICBlYWNoIHJvdyByZXByZXNlbnRlZCBhcyBhbiBhcnJheSwgYXMgcGVyIHRoZSAnYXJyYXknIGByb3dNb2RlYFxuICAgICAgIG9wdGlvbiB0byBgZXhlYygpYC4gQW4gZW1wdHkgcmVzdWx0IHNldCByZXNvbHZlc1xuICAgICAgIHRvIGFuIGVtcHR5IGFycmF5LiBUaGUgc2Vjb25kIGFyZ3VtZW50LCBpZiBhbnksIGlzIHRyZWF0ZWQgYXNcbiAgICAgICB0aGUgJ2JpbmQnIG9wdGlvbiB0byBhIGNhbGwgdG8gZXhlYygpLlxuICAgICovXG4gICAgc2VsZWN0QXJyYXlzOiBmdW5jdGlvbihzcWwsYmluZCl7XG4gICAgICByZXR1cm4gX19zZWxlY3RBbGwodGhpcywgc3FsLCBiaW5kLCAnYXJyYXknKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICAgV29ya3MgaWRlbnRpY2FsbHkgdG8gc2VsZWN0QXJyYXlzKCkgZXhjZXB0IHRoYXQgZWFjaCB2YWx1ZVxuICAgICAgIGluIHRoZSByZXR1cm5lZCBhcnJheSBpcyBhbiBvYmplY3QsIGFzIHBlciB0aGUgJ29iamVjdCcgYHJvd01vZGVgXG4gICAgICAgb3B0aW9uIHRvIGBleGVjKClgLlxuICAgICovXG4gICAgc2VsZWN0T2JqZWN0czogZnVuY3Rpb24oc3FsLGJpbmQpe1xuICAgICAgcmV0dXJuIF9fc2VsZWN0QWxsKHRoaXMsIHNxbCwgYmluZCwgJ29iamVjdCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgICBSZXR1cm5zIHRoZSBudW1iZXIgb2YgY3VycmVudGx5LW9wZW5lZCBTdG10IGhhbmRsZXMgZm9yIHRoaXMgZGJcbiAgICAgICBoYW5kbGUsIG9yIDAgaWYgdGhpcyBEQiBpbnN0YW5jZSBpcyBjbG9zZWQuIE5vdGUgdGhhdCBvbmx5XG4gICAgICAgaGFuZGxlcyBwcmVwYXJlZCB2aWEgdGhpcy5wcmVwYXJlKCkgYXJlIGNvdW50ZWQsIGFuZCBub3RcbiAgICAgICBoYW5kbGVzIHByZXBhcmVkIHVzaW5nIGNhcGkuc3FsaXRlM19wcmVwYXJlX3YzKCkgKG9yXG4gICAgICAgZXF1aXZhbGVudCkuXG4gICAgKi9cbiAgICBvcGVuU3RhdGVtZW50Q291bnQ6IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gdGhpcy5wb2ludGVyID8gT2JqZWN0LmtleXMoX19zdG10TWFwLmdldCh0aGlzKSkubGVuZ3RoIDogMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICAgU3RhcnRzIGEgdHJhbnNhY3Rpb24sIGNhbGxzIHRoZSBnaXZlbiBjYWxsYmFjaywgYW5kIHRoZW4gZWl0aGVyXG4gICAgICAgcm9sbHMgYmFjayBvciBjb21taXRzIHRoZSBzYXZlcG9pbnQsIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZVxuICAgICAgIGNhbGxiYWNrIHRocm93cy4gVGhlIGNhbGxiYWNrIGlzIHBhc3NlZCB0aGlzIGRiIG9iamVjdCBhcyBpdHNcbiAgICAgICBvbmx5IGFyZ3VtZW50LiBPbiBzdWNjZXNzLCByZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlXG4gICAgICAgY2FsbGJhY2suIFRocm93cyBvbiBlcnJvci5cblxuICAgICAgIE5vdGUgdGhhdCB0cmFuc2FjdGlvbnMgbWF5IG5vdCBiZSBuZXN0ZWQsIHNvIHRoaXMgd2lsbCB0aHJvdyBpZlxuICAgICAgIGl0IGlzIGNhbGxlZCByZWN1cnNpdmVseS4gRm9yIG5lc3RlZCB0cmFuc2FjdGlvbnMsIHVzZSB0aGVcbiAgICAgICBzYXZlcG9pbnQoKSBtZXRob2Qgb3IgbWFudWFsbHkgbWFuYWdlIFNBVkVQT0lOVHMgdXNpbmcgZXhlYygpLlxuXG4gICAgICAgSWYgY2FsbGVkIHdpdGggMiBhcmd1bWVudHMsIHRoZSBmaXJzdCBtdXN0IGJlIGEga2V5d29yZCB3aGljaFxuICAgICAgIGlzIGxlZ2FsIGltbWVkaWF0ZWx5IGFmdGVyIGEgQkVHSU4gc3RhdGVtZW50LCBlLmcuIG9uZSBvZlxuICAgICAgIFwiREVGRVJSRURcIiwgXCJJTU1FRElBVEVcIiwgb3IgXCJFWENMVVNJVkVcIi4gVGhvdWdoIHRoZSBleGFjdCBsaXN0XG4gICAgICAgb2Ygc3VwcG9ydGVkIGtleXdvcmRzIGlzIG5vdCBoYXJkLWNvZGVkIGhlcmUsIGluIG9yZGVyIHRvIGJlXG4gICAgICAgZnV0dXJlLWNvbXBhdGlibGUsIGlmIHRoZSBhcmd1bWVudCBkb2VzIG5vdCBsb29rIGxpa2UgYSBzaW5nbGVcbiAgICAgICBrZXl3b3JkIHRoZW4gYW4gZXhjZXB0aW9uIGlzIHRyaWdnZXJlZCB3aXRoIGEgZGVzY3JpcHRpb24gb2ZcbiAgICAgICB0aGUgcHJvYmxlbS5cbiAgICAgKi9cbiAgICB0cmFuc2FjdGlvbjogZnVuY3Rpb24oLyogW2JlZ2luUXVhbGlmaWVyLF0gKi9jYWxsYmFjayl7XG4gICAgICBsZXQgb3BlbmVyID0gJ0JFR0lOJztcbiAgICAgIGlmKGFyZ3VtZW50cy5sZW5ndGg+MSl7XG4gICAgICAgIGlmKC9bXmEtekEtWl0vLnRlc3QoYXJndW1lbnRzWzBdKSl7XG4gICAgICAgICAgdG9zczMoY2FwaS5TUUxJVEVfTUlTVVNFLCBcIkludmFsaWQgYXJndW1lbnQgZm9yIEJFR0lOIHF1YWxpZmllci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgb3BlbmVyICs9ICcgJythcmd1bWVudHNbMF07XG4gICAgICAgIGNhbGxiYWNrID0gYXJndW1lbnRzWzFdO1xuICAgICAgfVxuICAgICAgYWZmaXJtRGJPcGVuKHRoaXMpLmV4ZWMob3BlbmVyKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJjID0gY2FsbGJhY2sodGhpcyk7XG4gICAgICAgIHRoaXMuZXhlYyhcIkNPTU1JVFwiKTtcbiAgICAgICAgcmV0dXJuIHJjO1xuICAgICAgfWNhdGNoKGUpe1xuICAgICAgICB0aGlzLmV4ZWMoXCJST0xMQkFDS1wiKTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICAgVGhpcyB3b3JrcyBzaW1pbGFybHkgdG8gdHJhbnNhY3Rpb24oKSBidXQgdXNlcyBzcWxpdGUzJ3MgU0FWRVBPSU5UXG4gICAgICAgZmVhdHVyZS4gVGhpcyBmdW5jdGlvbiBzdGFydHMgYSBzYXZlcG9pbnQgKHdpdGggYW4gdW5zcGVjaWZpZWQgbmFtZSlcbiAgICAgICBhbmQgY2FsbHMgdGhlIGdpdmVuIGNhbGxiYWNrIGZ1bmN0aW9uLCBwYXNzaW5nIGl0IHRoaXMgZGIgb2JqZWN0LlxuICAgICAgIElmIHRoZSBjYWxsYmFjayByZXR1cm5zLCB0aGUgc2F2ZXBvaW50IGlzIHJlbGVhc2VkIChjb21taXR0ZWQpLiBJZlxuICAgICAgIHRoZSBjYWxsYmFjayB0aHJvd3MsIHRoZSBzYXZlcG9pbnQgaXMgcm9sbGVkIGJhY2suIElmIGl0IGRvZXMgbm90XG4gICAgICAgdGhyb3csIGl0IHJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgY2FsbGJhY2suXG4gICAgKi9cbiAgICBzYXZlcG9pbnQ6IGZ1bmN0aW9uKGNhbGxiYWNrKXtcbiAgICAgIGFmZmlybURiT3Blbih0aGlzKS5leGVjKFwiU0FWRVBPSU5UIG9vMVwiKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJjID0gY2FsbGJhY2sodGhpcyk7XG4gICAgICAgIHRoaXMuZXhlYyhcIlJFTEVBU0Ugb28xXCIpO1xuICAgICAgICByZXR1cm4gcmM7XG4gICAgICB9Y2F0Y2goZSl7XG4gICAgICAgIHRoaXMuZXhlYyhcIlJPTExCQUNLIHRvIFNBVkVQT0lOVCBvbzE7IFJFTEVBU0UgU0FWRVBPSU5UIG9vMVwiKTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICAgQSBjb252ZW5pZW5jZSBmb3JtIG9mIERCLmNoZWNrUmModGhpcyxyZXN1bHRDb2RlKS4gSWYgaXQgZG9lc1xuICAgICAgIG5vdCB0aHJvdywgaXQgcmV0dXJucyB0aGlzIG9iamVjdC5cbiAgICAqL1xuICAgIGNoZWNrUmM6IGZ1bmN0aW9uKHJlc3VsdENvZGUpe1xuICAgICAgcmV0dXJuIERCLmNoZWNrUmModGhpcywgcmVzdWx0Q29kZSk7XG4gICAgfVxuICB9LypEQi5wcm90b3R5cGUqLztcblxuICAvKiogVGhyb3dzIGlmIHRoZSBnaXZlbiBTdG10IGhhcyBiZWVuIGZpbmFsaXplZCwgZWxzZSBzdG10IGlzXG4gICAgICByZXR1cm5lZC4gKi9cbiAgY29uc3QgYWZmaXJtU3RtdE9wZW4gPSBmdW5jdGlvbihzdG10KXtcbiAgICBpZighc3RtdC5wb2ludGVyKSB0b3NzMyhcIlN0bXQgaGFzIGJlZW4gY2xvc2VkLlwiKTtcbiAgICByZXR1cm4gc3RtdDtcbiAgfTtcblxuICAvKiogUmV0dXJucyBhbiBvcGFxdWUgdHJ1dGh5IHZhbHVlIGZyb20gdGhlIEJpbmRUeXBlc1xuICAgICAgZW51bSBpZiB2J3MgdHlwZSBpcyBhIHZhbGlkIGJpbmRhYmxlIHR5cGUsIGVsc2VcbiAgICAgIHJldHVybnMgYSBmYWxzeSB2YWx1ZS4gQXMgYSBzcGVjaWFsIGNhc2UsIGEgdmFsdWUgb2ZcbiAgICAgIHVuZGVmaW5lZCBpcyB0cmVhdGVkIGFzIGEgYmluZCB0eXBlIG9mIG51bGwuICovXG4gIGNvbnN0IGlzU3VwcG9ydGVkQmluZFR5cGUgPSBmdW5jdGlvbih2KXtcbiAgICBsZXQgdCA9IEJpbmRUeXBlc1sobnVsbD09PXZ8fHVuZGVmaW5lZD09PXYpID8gJ251bGwnIDogdHlwZW9mIHZdO1xuICAgIHN3aXRjaCh0KXtcbiAgICAgICAgY2FzZSBCaW5kVHlwZXMuYm9vbGVhbjpcbiAgICAgICAgY2FzZSBCaW5kVHlwZXMubnVsbDpcbiAgICAgICAgY2FzZSBCaW5kVHlwZXMubnVtYmVyOlxuICAgICAgICBjYXNlIEJpbmRUeXBlcy5zdHJpbmc6XG4gICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIGNhc2UgQmluZFR5cGVzLmJpZ2ludDpcbiAgICAgICAgICBpZih3YXNtLmJpZ0ludEVuYWJsZWQpIHJldHVybiB0O1xuICAgICAgICAgIC8qIGVsc2UgZmFsbCB0aHJvdWdoICovXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHV0aWwuaXNCaW5kYWJsZVR5cGVkQXJyYXkodikgPyBCaW5kVHlwZXMuYmxvYiA6IHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAgIElmIGlzU3VwcG9ydGVkQmluZFR5cGUodikgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSwgdGhpc1xuICAgICBmdW5jdGlvbiByZXR1cm5zIHRoYXQgdmFsdWUsIGVsc2UgaXQgdGhyb3dzLlxuICAqL1xuICBjb25zdCBhZmZpcm1TdXBwb3J0ZWRCaW5kVHlwZSA9IGZ1bmN0aW9uKHYpe1xuICAgIC8vc3FsaXRlMy5jb25maWcubG9nKCdhZmZpcm1TdXBwb3J0ZWRCaW5kVHlwZScsdik7XG4gICAgcmV0dXJuIGlzU3VwcG9ydGVkQmluZFR5cGUodikgfHwgdG9zczMoXCJVbnN1cHBvcnRlZCBiaW5kKCkgYXJndW1lbnQgdHlwZTpcIix0eXBlb2Ygdik7XG4gIH07XG5cbiAgLyoqXG4gICAgIElmIGtleSBpcyBhIG51bWJlciBhbmQgd2l0aGluIHJhbmdlIG9mIHN0bXQncyBib3VuZCBwYXJhbWV0ZXJcbiAgICAgY291bnQsIGtleSBpcyByZXR1cm5lZC5cblxuICAgICBJZiBrZXkgaXMgbm90IGEgbnVtYmVyIHRoZW4gaXQgaXMgY2hlY2tlZCBhZ2FpbnN0IG5hbWVkXG4gICAgIHBhcmFtZXRlcnMuIElmIGEgbWF0Y2ggaXMgZm91bmQsIGl0cyBpbmRleCBpcyByZXR1cm5lZC5cblxuICAgICBFbHNlIGl0IHRocm93cy5cbiAgKi9cbiAgY29uc3QgYWZmaXJtUGFyYW1JbmRleCA9IGZ1bmN0aW9uKHN0bXQsa2V5KXtcbiAgICBjb25zdCBuID0gKCdudW1iZXInPT09dHlwZW9mIGtleSlcbiAgICAgICAgICA/IGtleSA6IGNhcGkuc3FsaXRlM19iaW5kX3BhcmFtZXRlcl9pbmRleChzdG10LnBvaW50ZXIsIGtleSk7XG4gICAgaWYoMD09PW4gfHwgIXV0aWwuaXNJbnQzMihuKSl7XG4gICAgICB0b3NzMyhcIkludmFsaWQgYmluZCgpIHBhcmFtZXRlciBuYW1lOiBcIitrZXkpO1xuICAgIH1cbiAgICBlbHNlIGlmKG48MSB8fCBuPnN0bXQucGFyYW1ldGVyQ291bnQpIHRvc3MzKFwiQmluZCBpbmRleFwiLGtleSxcImlzIG91dCBvZiByYW5nZS5cIik7XG4gICAgcmV0dXJuIG47XG4gIH07XG5cbiAgLyoqXG4gICAgIElmIHN0bXQuX2lzTG9ja2VkIGlzIHRydXRoeSwgdGhpcyB0aHJvd3MgYW4gZXhjZXB0aW9uXG4gICAgIGNvbXBsYWluaW5nIHRoYXQgdGhlIDJuZCBhcmd1bWVudCAoYW4gb3BlcmF0aW9uIG5hbWUsXG4gICAgIGUuZy4gXCJiaW5kKClcIikgaXMgbm90IGxlZ2FsIHdoaWxlIHRoZSBzdGF0ZW1lbnQgaXMgXCJsb2NrZWRcIi5cbiAgICAgTG9ja2luZyBoYXBwZW5zIGJlZm9yZSBhbiBleGVjKCktbGlrZSBjYWxsYmFjayBpcyBwYXNzZWQgYVxuICAgICBzdGF0ZW1lbnQsIHRvIGVuc3VyZSB0aGF0IHRoZSBjYWxsYmFjayBkb2VzIG5vdCBtdXRhdGUgb3JcbiAgICAgZmluYWxpemUgdGhlIHN0YXRlbWVudC4gSWYgaXQgZG9lcyBub3QgdGhyb3csIGl0IHJldHVybnMgc3RtdC5cbiAgKi9cbiAgY29uc3QgYWZmaXJtVW5sb2NrZWQgPSBmdW5jdGlvbihzdG10LGN1cnJlbnRPcE5hbWUpe1xuICAgIGlmKHN0bXQuX2lzTG9ja2VkKXtcbiAgICAgIHRvc3MzKFwiT3BlcmF0aW9uIGlzIGlsbGVnYWwgd2hlbiBzdGF0ZW1lbnQgaXMgbG9ja2VkOlwiLGN1cnJlbnRPcE5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gc3RtdDtcbiAgfTtcblxuICAvKipcbiAgICAgQmluZHMgYSBzaW5nbGUgYm91bmQgcGFyYW1ldGVyIHZhbHVlIG9uIHRoZSBnaXZlbiBzdG10IGF0IHRoZVxuICAgICBnaXZlbiBpbmRleCAobnVtZXJpYyBvciBuYW1lZCkgdXNpbmcgdGhlIGdpdmVuIGJpbmRUeXBlIChzZWVcbiAgICAgdGhlIEJpbmRUeXBlcyBlbnVtKSBhbmQgdmFsdWUuIFRocm93cyBvbiBlcnJvci4gUmV0dXJucyBzdG10IG9uXG4gICAgIHN1Y2Nlc3MuXG4gICovXG4gIGNvbnN0IGJpbmRPbmUgPSBmdW5jdGlvbiBmKHN0bXQsbmR4LGJpbmRUeXBlLHZhbCl7XG4gICAgYWZmaXJtVW5sb2NrZWQoYWZmaXJtU3RtdE9wZW4oc3RtdCksICdiaW5kKCknKTtcbiAgICBpZighZi5fKXtcbiAgICAgIGYuX3Rvb0JpZ0ludCA9ICh2KT0+dG9zczMoXG4gICAgICAgIFwiQmlnSW50IHZhbHVlIGlzIHRvbyBiaWcgdG8gc3RvcmUgd2l0aG91dCBwcmVjaXNpb24gbG9zczpcIiwgdlxuICAgICAgKTtcbiAgICAgIC8qIFJlbWluZGVyOiB3aGVuIG5vdCBpbiBCaWdJbnQgbW9kZSwgaXQncyBpbXBvc3NpYmxlIGZvclxuICAgICAgICAgSlMgdG8gcmVwcmVzZW50IGEgbnVtYmVyIG91dCBvZiB0aGUgcmFuZ2Ugd2UgY2FuIGJpbmQsXG4gICAgICAgICBzbyB3ZSBoYXZlIG5vIHJhbmdlIGNoZWNraW5nLiAqL1xuICAgICAgZi5fID0ge1xuICAgICAgICBzdHJpbmc6IGZ1bmN0aW9uKHN0bXQsIG5keCwgdmFsLCBhc0Jsb2Ipe1xuICAgICAgICAgIGNvbnN0IFtwU3RyLCBuXSA9IHdhc20uYWxsb2NDU3RyaW5nKHZhbCwgdHJ1ZSk7XG4gICAgICAgICAgY29uc3QgZiA9IGFzQmxvYiA/IGNhcGkuc3FsaXRlM19iaW5kX2Jsb2IgOiBjYXBpLnNxbGl0ZTNfYmluZF90ZXh0O1xuICAgICAgICAgIHJldHVybiBmKHN0bXQucG9pbnRlciwgbmR4LCBwU3RyLCBuLCBjYXBpLlNRTElURV9XQVNNX0RFQUxMT0MpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0vKiBzdGF0aWMgaW5pdCAqL1xuICAgIGFmZmlybVN1cHBvcnRlZEJpbmRUeXBlKHZhbCk7XG4gICAgbmR4ID0gYWZmaXJtUGFyYW1JbmRleChzdG10LG5keCk7XG4gICAgbGV0IHJjID0gMDtcbiAgICBzd2l0Y2goKG51bGw9PT12YWwgfHwgdW5kZWZpbmVkPT09dmFsKSA/IEJpbmRUeXBlcy5udWxsIDogYmluZFR5cGUpe1xuICAgICAgICBjYXNlIEJpbmRUeXBlcy5udWxsOlxuICAgICAgICAgIHJjID0gY2FwaS5zcWxpdGUzX2JpbmRfbnVsbChzdG10LnBvaW50ZXIsIG5keCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQmluZFR5cGVzLnN0cmluZzpcbiAgICAgICAgICByYyA9IGYuXy5zdHJpbmcoc3RtdCwgbmR4LCB2YWwsIGZhbHNlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBCaW5kVHlwZXMubnVtYmVyOiB7XG4gICAgICAgICAgbGV0IG07XG4gICAgICAgICAgaWYodXRpbC5pc0ludDMyKHZhbCkpIG0gPSBjYXBpLnNxbGl0ZTNfYmluZF9pbnQ7XG4gICAgICAgICAgZWxzZSBpZignYmlnaW50Jz09PXR5cGVvZiB2YWwpe1xuICAgICAgICAgICAgaWYoIXV0aWwuYmlnSW50Rml0czY0KHZhbCkpe1xuICAgICAgICAgICAgICBmLl90b29CaWdJbnQodmFsKTtcbiAgICAgICAgICAgIH1lbHNlIGlmKHdhc20uYmlnSW50RW5hYmxlZCl7XG4gICAgICAgICAgICAgIG0gPSBjYXBpLnNxbGl0ZTNfYmluZF9pbnQ2NDtcbiAgICAgICAgICAgIH1lbHNlIGlmKHV0aWwuYmlnSW50Rml0c0RvdWJsZSh2YWwpKXtcbiAgICAgICAgICAgICAgdmFsID0gTnVtYmVyKHZhbCk7XG4gICAgICAgICAgICAgIG0gPSBjYXBpLnNxbGl0ZTNfYmluZF9kb3VibGU7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgZi5fdG9vQmlnSW50KHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfWVsc2V7IC8vICFpbnQzMiwgIWJpZ2ludFxuICAgICAgICAgICAgdmFsID0gTnVtYmVyKHZhbCk7XG4gICAgICAgICAgICBpZih3YXNtLmJpZ0ludEVuYWJsZWQgJiYgTnVtYmVyLmlzSW50ZWdlcih2YWwpKXtcbiAgICAgICAgICAgICAgbSA9IGNhcGkuc3FsaXRlM19iaW5kX2ludDY0O1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIG0gPSBjYXBpLnNxbGl0ZTNfYmluZF9kb3VibGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJjID0gbShzdG10LnBvaW50ZXIsIG5keCwgdmFsKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEJpbmRUeXBlcy5ib29sZWFuOlxuICAgICAgICAgIHJjID0gY2FwaS5zcWxpdGUzX2JpbmRfaW50KHN0bXQucG9pbnRlciwgbmR4LCB2YWwgPyAxIDogMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQmluZFR5cGVzLmJsb2I6IHtcbiAgICAgICAgICBpZignc3RyaW5nJz09PXR5cGVvZiB2YWwpe1xuICAgICAgICAgICAgcmMgPSBmLl8uc3RyaW5nKHN0bXQsIG5keCwgdmFsLCB0cnVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1lbHNlIGlmKHZhbCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXtcbiAgICAgICAgICAgIHZhbCA9IG5ldyBVaW50OEFycmF5KHZhbCk7XG4gICAgICAgICAgfWVsc2UgaWYoIXV0aWwuaXNCaW5kYWJsZVR5cGVkQXJyYXkodmFsKSl7XG4gICAgICAgICAgICB0b3NzMyhcIkJpbmRpbmcgYSB2YWx1ZSBhcyBhIGJsb2IgcmVxdWlyZXNcIixcbiAgICAgICAgICAgICAgICAgIFwidGhhdCBpdCBiZSBhIHN0cmluZywgVWludDhBcnJheSwgSW50OEFycmF5LCBvciBBcnJheUJ1ZmZlci5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHBCbG9iID0gd2FzbS5hbGxvYyh2YWwuYnl0ZUxlbmd0aCB8fCAxKTtcbiAgICAgICAgICB3YXNtLmhlYXA4KCkuc2V0KHZhbC5ieXRlTGVuZ3RoID8gdmFsIDogWzBdLCBwQmxvYilcbiAgICAgICAgICByYyA9IGNhcGkuc3FsaXRlM19iaW5kX2Jsb2Ioc3RtdC5wb2ludGVyLCBuZHgsIHBCbG9iLCB2YWwuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FwaS5TUUxJVEVfV0FTTV9ERUFMTE9DKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHNxbGl0ZTMuY29uZmlnLndhcm4oXCJVbnN1cHBvcnRlZCBiaW5kKCkgYXJndW1lbnQgdHlwZTpcIix2YWwpO1xuICAgICAgICAgIHRvc3MzKFwiVW5zdXBwb3J0ZWQgYmluZCgpIGFyZ3VtZW50IHR5cGU6IFwiKyh0eXBlb2YgdmFsKSk7XG4gICAgfVxuICAgIGlmKHJjKSBEQi5jaGVja1JjKHN0bXQuZGIucG9pbnRlciwgcmMpO1xuICAgIHN0bXQuX21heUdldCA9IGZhbHNlO1xuICAgIHJldHVybiBzdG10O1xuICB9O1xuXG4gIFN0bXQucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAgIFwiRmluYWxpemVzXCIgdGhpcyBzdGF0ZW1lbnQuIFRoaXMgaXMgYSBuby1vcCBpZiB0aGVcbiAgICAgICBzdGF0ZW1lbnQgaGFzIGFscmVhZHkgYmVlbiBmaW5hbGl6ZXMuIFJldHVybnNcbiAgICAgICB1bmRlZmluZWQuIE1vc3QgbWV0aG9kcyBpbiB0aGlzIGNsYXNzIHdpbGwgdGhyb3cgaWYgY2FsbGVkXG4gICAgICAgYWZ0ZXIgdGhpcyBpcy5cbiAgICAqL1xuICAgIGZpbmFsaXplOiBmdW5jdGlvbigpe1xuICAgICAgaWYodGhpcy5wb2ludGVyKXtcbiAgICAgICAgYWZmaXJtVW5sb2NrZWQodGhpcywnZmluYWxpemUoKScpO1xuICAgICAgICBkZWxldGUgX19zdG10TWFwLmdldCh0aGlzLmRiKVt0aGlzLnBvaW50ZXJdO1xuICAgICAgICBjYXBpLnNxbGl0ZTNfZmluYWxpemUodGhpcy5wb2ludGVyKTtcbiAgICAgICAgX19wdHJNYXAuZGVsZXRlKHRoaXMpO1xuICAgICAgICBkZWxldGUgdGhpcy5fbWF5R2V0O1xuICAgICAgICBkZWxldGUgdGhpcy5jb2x1bW5Db3VudDtcbiAgICAgICAgZGVsZXRlIHRoaXMucGFyYW1ldGVyQ291bnQ7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmRiO1xuICAgICAgICBkZWxldGUgdGhpcy5faXNMb2NrZWQ7XG4gICAgICB9XG4gICAgfSxcbiAgICAvKiogQ2xlYXJzIGFsbCBib3VuZCB2YWx1ZXMuIFJldHVybnMgdGhpcyBvYmplY3QuXG4gICAgICAgIFRocm93cyBpZiB0aGlzIHN0YXRlbWVudCBoYXMgYmVlbiBmaW5hbGl6ZWQuICovXG4gICAgY2xlYXJCaW5kaW5nczogZnVuY3Rpb24oKXtcbiAgICAgIGFmZmlybVVubG9ja2VkKGFmZmlybVN0bXRPcGVuKHRoaXMpLCAnY2xlYXJCaW5kaW5ncygpJylcbiAgICAgIGNhcGkuc3FsaXRlM19jbGVhcl9iaW5kaW5ncyh0aGlzLnBvaW50ZXIpO1xuICAgICAgdGhpcy5fbWF5R2V0ID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIC8qKlxuICAgICAgIFJlc2V0cyB0aGlzIHN0YXRlbWVudCBzbyB0aGF0IGl0IG1heSBiZSBzdGVwKCllZCBhZ2FpblxuICAgICAgIGZyb20gdGhlIGJlZ2lubmluZy4gUmV0dXJucyB0aGlzIG9iamVjdC4gVGhyb3dzIGlmIHRoaXNcbiAgICAgICBzdGF0ZW1lbnQgaGFzIGJlZW4gZmluYWxpemVkLlxuXG4gICAgICAgSWYgcGFzc2VkIGEgdHJ1dGh5IGFyZ3VtZW50IHRoZW4gdGhpcy5jbGVhckJpbmRpbmdzKCkgaXNcbiAgICAgICBhbHNvIGNhbGxlZCwgb3RoZXJ3aXNlIGFueSBleGlzdGluZyBiaW5kaW5ncywgYWxvbmcgd2l0aFxuICAgICAgIGFueSBtZW1vcnkgYWxsb2NhdGVkIGZvciB0aGVtLCBhcmUgcmV0YWluZWQuXG4gICAgKi9cbiAgICByZXNldDogZnVuY3Rpb24oYWxzb0NsZWFyQmluZHMpe1xuICAgICAgYWZmaXJtVW5sb2NrZWQodGhpcywncmVzZXQoKScpO1xuICAgICAgaWYoYWxzb0NsZWFyQmluZHMpIHRoaXMuY2xlYXJCaW5kaW5ncygpO1xuICAgICAgY2FwaS5zcWxpdGUzX3Jlc2V0KGFmZmlybVN0bXRPcGVuKHRoaXMpLnBvaW50ZXIpO1xuICAgICAgdGhpcy5fbWF5R2V0ID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIC8qKlxuICAgICAgIEJpbmRzIG9uZSBvciBtb3JlIHZhbHVlcyB0byBpdHMgYmluZGFibGUgcGFyYW1ldGVycy4gSXRcbiAgICAgICBhY2NlcHRzIDEgb3IgMiBhcmd1bWVudHM6XG5cbiAgICAgICBJZiBwYXNzZWQgYSBzaW5nbGUgYXJndW1lbnQsIGl0IG11c3QgYmUgZWl0aGVyIGFuIGFycmF5LCBhblxuICAgICAgIG9iamVjdCwgb3IgYSB2YWx1ZSBvZiBhIGJpbmRhYmxlIHR5cGUgKHNlZSBiZWxvdykuXG5cbiAgICAgICBJZiBwYXNzZWQgMiBhcmd1bWVudHMsIHRoZSBmaXJzdCBvbmUgaXMgdGhlIDEtYmFzZWQgYmluZFxuICAgICAgIGluZGV4IG9yIGJpbmRhYmxlIHBhcmFtZXRlciBuYW1lIGFuZCB0aGUgc2Vjb25kIG9uZSBtdXN0IGJlXG4gICAgICAgYSB2YWx1ZSBvZiBhIGJpbmRhYmxlIHR5cGUuXG5cbiAgICAgICBCaW5kYWJsZSB2YWx1ZSB0eXBlczpcblxuICAgICAgIC0gbnVsbCBpcyBib3VuZCBhcyBOVUxMLlxuXG4gICAgICAgLSB1bmRlZmluZWQgYXMgYSBzdGFuZGFsb25lIHZhbHVlIGlzIGEgbm8tb3AgaW50ZW5kZWQgdG9cbiAgICAgICAgIHNpbXBsaWZ5IGNlcnRhaW4gY2xpZW50LXNpZGUgdXNlIGNhc2VzOiBwYXNzaW5nIHVuZGVmaW5lZCBhc1xuICAgICAgICAgYSB2YWx1ZSB0byB0aGlzIGZ1bmN0aW9uIHdpbGwgbm90IGFjdHVhbGx5IGJpbmQgYW55dGhpbmcgYW5kXG4gICAgICAgICB0aGlzIGZ1bmN0aW9uIHdpbGwgc2tpcCBjb25maXJtYXRpb24gdGhhdCBiaW5kaW5nIGlzIGV2ZW5cbiAgICAgICAgIGxlZ2FsLiAoVGhvc2Ugc2VtYW50aWNzIHNpbXBsaWZ5IGNlcnRhaW4gY2xpZW50LXNpZGUgdXNlcy4pXG4gICAgICAgICBDb252ZXJzZWx5LCBhIHZhbHVlIG9mIHVuZGVmaW5lZCBhcyBhbiBhcnJheSBvciBvYmplY3RcbiAgICAgICAgIHByb3BlcnR5IHdoZW4gYmluZGluZyBhbiBhcnJheS9vYmplY3QgKHNlZSBiZWxvdykgaXMgdHJlYXRlZFxuICAgICAgICAgdGhlIHNhbWUgYXMgbnVsbC5cblxuICAgICAgIC0gTnVtYmVycyBhcmUgYm91bmQgYXMgZWl0aGVyIGRvdWJsZXMgb3IgaW50ZWdlcnM6IGRvdWJsZXMgaWZcbiAgICAgICAgIHRoZXkgYXJlIGxhcmdlciB0aGFuIDMyIGJpdHMsIGVsc2UgZG91YmxlIG9yIGludDMyLCBkZXBlbmRpbmdcbiAgICAgICAgIG9uIHdoZXRoZXIgdGhleSBoYXZlIGEgZnJhY3Rpb25hbCBwYXJ0LiBCb29sZWFucyBhcmUgYm91bmQgYXNcbiAgICAgICAgIGludGVnZXIgMCBvciAxLiBJdCBpcyBub3QgZXhwZWN0ZWQgdGhlIGRpc3RpbmN0aW9uIG9mIGJpbmRpbmdcbiAgICAgICAgIGRvdWJsZXMgd2hpY2ggaGF2ZSBubyBmcmFjdGlvbmFsIHBhcnRzIGlzIGludGVnZXJzIGlzXG4gICAgICAgICBzaWduaWZpY2FudCBmb3IgdGhlIG1ham9yaXR5IG9mIGNsaWVudHMgZHVlIHRvIHNxbGl0ZTMncyBkYXRhXG4gICAgICAgICB0eXBpbmcgbW9kZWwuIElmIFtCaWdJbnRdIHN1cHBvcnQgaXMgZW5hYmxlZCB0aGVuIHRoaXNcbiAgICAgICAgIHJvdXRpbmUgd2lsbCBiaW5kIEJpZ0ludCB2YWx1ZXMgYXMgNjQtYml0IGludGVnZXJzIGlmIHRoZXknbGxcbiAgICAgICAgIGZpdCBpbiA2NCBiaXRzLiBJZiB0aGF0IHN1cHBvcnQgZGlzYWJsZWQsIGl0IHdpbGwgc3RvcmUgdGhlXG4gICAgICAgICBCaWdJbnQgYXMgYW4gaW50MzIgb3IgYSBkb3VibGUgaWYgaXQgY2FuIGRvIHNvIHdpdGhvdXQgbG9zc1xuICAgICAgICAgb2YgcHJlY2lzaW9uLiBJZiB0aGUgQmlnSW50IGlzIF90b28gQmlnSW50XyB0aGVuIGl0IHdpbGxcbiAgICAgICAgIHRocm93LlxuXG4gICAgICAgLSBTdHJpbmdzIGFyZSBib3VuZCBhcyBzdHJpbmdzICh1c2UgYmluZEFzQmxvYigpIHRvIGZvcmNlXG4gICAgICAgICBibG9iIGJpbmRpbmcpLlxuXG4gICAgICAgLSBVaW50OEFycmF5LCBJbnQ4QXJyYXksIGFuZCBBcnJheUJ1ZmZlciBpbnN0YW5jZXMgYXJlIGJvdW5kIGFzXG4gICAgICAgICBibG9icy5cblxuICAgICAgIElmIHBhc3NlZCBhbiBhcnJheSwgZWFjaCBlbGVtZW50IG9mIHRoZSBhcnJheSBpcyBib3VuZCBhdFxuICAgICAgIHRoZSBwYXJhbWV0ZXIgaW5kZXggZXF1YWwgdG8gdGhlIGFycmF5IGluZGV4IHBsdXMgMVxuICAgICAgIChiZWNhdXNlIGFycmF5cyBhcmUgMC1iYXNlZCBidXQgYmluZGluZyBpcyAxLWJhc2VkKS5cblxuICAgICAgIElmIHBhc3NlZCBhbiBvYmplY3QsIGVhY2ggb2JqZWN0IGtleSBpcyB0cmVhdGVkIGFzIGFcbiAgICAgICBiaW5kYWJsZSBwYXJhbWV0ZXIgbmFtZS4gVGhlIG9iamVjdCBrZXlzIF9tdXN0XyBtYXRjaCBhbnlcbiAgICAgICBiaW5kYWJsZSBwYXJhbWV0ZXIgbmFtZXMsIGluY2x1ZGluZyBhbnkgYCRgLCBgQGAsIG9yIGA6YFxuICAgICAgIHByZWZpeC4gQmVjYXVzZSBgJGAgaXMgYSBsZWdhbCBpZGVudGlmaWVyIGNoYXJhcmFjdGVyIGluXG4gICAgICAgSmF2YVNjcmlwdCwgdGhhdCBpcyB0aGUgc3VnZ2VzdGVkIHByZWZpeCBmb3IgYmluZGFibGVcbiAgICAgICBwYXJhbWV0ZXJzOiBgc3RtdC5iaW5kKHskYTogMSwgJGI6IDJ9KWAuXG5cbiAgICAgICBJdCByZXR1cm5zIHRoaXMgb2JqZWN0IG9uIHN1Y2Nlc3MgYW5kIHRocm93cyBvblxuICAgICAgIGVycm9yLiBFcnJvcnMgaW5jbHVkZTpcblxuICAgICAgIC0gQW55IGJpbmQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLCBhIG5hbWVkIGJpbmQgcGFyYW1ldGVyXG4gICAgICAgZG9lcyBub3QgbWF0Y2gsIG9yIHRoaXMgc3RhdGVtZW50IGhhcyBubyBiaW5kYWJsZVxuICAgICAgIHBhcmFtZXRlcnMuXG5cbiAgICAgICAtIEFueSB2YWx1ZSB0byBiaW5kIGlzIG9mIGFuIHVuc3VwcG9ydGVkIHR5cGUuXG5cbiAgICAgICAtIFBhc3NlZCBubyBhcmd1bWVudHMgb3IgbW9yZSB0aGFuIHR3by5cblxuICAgICAgIC0gVGhlIHN0YXRlbWVudCBoYXMgYmVlbiBmaW5hbGl6ZWQuXG4gICAgKi9cbiAgICBiaW5kOiBmdW5jdGlvbigvKltuZHgsXSBhcmcqLyl7XG4gICAgICBhZmZpcm1TdG10T3Blbih0aGlzKTtcbiAgICAgIGxldCBuZHgsIGFyZztcbiAgICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtcbiAgICAgICAgICBjYXNlIDE6IG5keCA9IDE7IGFyZyA9IGFyZ3VtZW50c1swXTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyOiBuZHggPSBhcmd1bWVudHNbMF07IGFyZyA9IGFyZ3VtZW50c1sxXTsgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDogdG9zczMoXCJJbnZhbGlkIGJpbmQoKSBhcmd1bWVudHMuXCIpO1xuICAgICAgfVxuICAgICAgaWYodW5kZWZpbmVkPT09YXJnKXtcbiAgICAgICAgLyogSXQgbWlnaHQgc2VlbSBpbnR1aXRpdmUgdG8gYmluZCB1bmRlZmluZWQgYXMgTlVMTFxuICAgICAgICAgICBidXQgdGhpcyBhcHByb2FjaCBzaW1wbGlmaWVzIGNlcnRhaW4gY2xpZW50LXNpZGVcbiAgICAgICAgICAgdXNlcyB3aGVuIHBhc3Npbmcgb24gYXJndW1lbnRzIGJldHdlZW4gMisgbGV2ZWxzIG9mXG4gICAgICAgICAgIGZ1bmN0aW9ucy4gKi9cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9ZWxzZSBpZighdGhpcy5wYXJhbWV0ZXJDb3VudCl7XG4gICAgICAgIHRvc3MzKFwiVGhpcyBzdGF0ZW1lbnQgaGFzIG5vIGJpbmRhYmxlIHBhcmFtZXRlcnMuXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5fbWF5R2V0ID0gZmFsc2U7XG4gICAgICBpZihudWxsPT09YXJnKXtcbiAgICAgICAgLyogYmluZCBOVUxMICovXG4gICAgICAgIHJldHVybiBiaW5kT25lKHRoaXMsIG5keCwgQmluZFR5cGVzLm51bGwsIGFyZyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKEFycmF5LmlzQXJyYXkoYXJnKSl7XG4gICAgICAgIC8qIGJpbmQgZWFjaCBlbnRyeSBieSBpbmRleCAqL1xuICAgICAgICBpZigxIT09YXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICAgICAgdG9zczMoXCJXaGVuIGJpbmRpbmcgYW4gYXJyYXksIGFuIGluZGV4IGFyZ3VtZW50IGlzIG5vdCBwZXJtaXR0ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGFyZy5mb3JFYWNoKCh2LGkpPT5iaW5kT25lKHRoaXMsIGkrMSwgYWZmaXJtU3VwcG9ydGVkQmluZFR5cGUodiksIHYpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9ZWxzZSBpZihhcmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7XG4gICAgICAgIGFyZyA9IG5ldyBVaW50OEFycmF5KGFyZyk7XG4gICAgICB9XG4gICAgICBpZignb2JqZWN0Jz09PXR5cGVvZiBhcmcvKm51bGwgd2FzIGNoZWNrZWQgYWJvdmUqL1xuICAgICAgICAgICAgICAmJiAhdXRpbC5pc0JpbmRhYmxlVHlwZWRBcnJheShhcmcpKXtcbiAgICAgICAgLyogVHJlYXQgZWFjaCBwcm9wZXJ0eSBvZiBhcmcgYXMgYSBuYW1lZCBib3VuZCBwYXJhbWV0ZXIuICovXG4gICAgICAgIGlmKDEhPT1hcmd1bWVudHMubGVuZ3RoKXtcbiAgICAgICAgICB0b3NzMyhcIldoZW4gYmluZGluZyBhbiBvYmplY3QsIGFuIGluZGV4IGFyZ3VtZW50IGlzIG5vdCBwZXJtaXR0ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5rZXlzKGFyZylcbiAgICAgICAgICAuZm9yRWFjaChrPT5iaW5kT25lKHRoaXMsIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZmZpcm1TdXBwb3J0ZWRCaW5kVHlwZShhcmdba10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnW2tdKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiBiaW5kT25lKHRoaXMsIG5keCwgYWZmaXJtU3VwcG9ydGVkQmluZFR5cGUoYXJnKSwgYXJnKTtcbiAgICAgIH1cbiAgICAgIHRvc3MzKFwiU2hvdWxkIG5vdCByZWFjaCB0aGlzIHBvaW50LlwiKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAgIFNwZWNpYWwgY2FzZSBvZiBiaW5kKCkgd2hpY2ggYmluZHMgdGhlIGdpdmVuIHZhbHVlIHVzaW5nIHRoZVxuICAgICAgIEJMT0IgYmluZGluZyBtZWNoYW5pc20gaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCBzZWxlY3RlZCBvbmUgZm9yXG4gICAgICAgdGhlIHZhbHVlLiBUaGUgbmR4IG1heSBiZSBhIG51bWJlcmVkIG9yIG5hbWVkIGJpbmQgaW5kZXguIFRoZVxuICAgICAgIHZhbHVlIG11c3QgYmUgb2YgdHlwZSBzdHJpbmcsIG51bGwvdW5kZWZpbmVkIChib3RoIGdldCB0cmVhdGVkXG4gICAgICAgYXMgbnVsbCksIG9yIGEgVHlwZWRBcnJheSBvZiBhIHR5cGUgc3VwcG9ydGVkIGJ5IHRoZSBiaW5kKClcbiAgICAgICBBUEkuIFRoaXMgQVBJIGNhbm5vdCBiaW5kIG51bWJlcnMgYXMgYmxvYnMuXG5cbiAgICAgICBJZiBwYXNzZWQgYSBzaW5nbGUgYXJndW1lbnQsIGEgYmluZCBpbmRleCBvZiAxIGlzIGFzc3VtZWQgYW5kXG4gICAgICAgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIHRoZSB2YWx1ZS5cbiAgICAqL1xuICAgIGJpbmRBc0Jsb2I6IGZ1bmN0aW9uKG5keCxhcmcpe1xuICAgICAgYWZmaXJtU3RtdE9wZW4odGhpcyk7XG4gICAgICBpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICAgIGFyZyA9IG5keDtcbiAgICAgICAgbmR4ID0gMTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHQgPSBhZmZpcm1TdXBwb3J0ZWRCaW5kVHlwZShhcmcpO1xuICAgICAgaWYoQmluZFR5cGVzLnN0cmluZyAhPT0gdCAmJiBCaW5kVHlwZXMuYmxvYiAhPT0gdFxuICAgICAgICAgJiYgQmluZFR5cGVzLm51bGwgIT09IHQpe1xuICAgICAgICB0b3NzMyhcIkludmFsaWQgdmFsdWUgdHlwZSBmb3IgYmluZEFzQmxvYigpXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJpbmRPbmUodGhpcywgbmR4LCBCaW5kVHlwZXMuYmxvYiwgYXJnKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAgIFN0ZXBzIHRoZSBzdGF0ZW1lbnQgb25lIHRpbWUuIElmIHRoZSByZXN1bHQgaW5kaWNhdGVzIHRoYXQgYVxuICAgICAgIHJvdyBvZiBkYXRhIGlzIGF2YWlsYWJsZSwgYSB0cnV0aHkgdmFsdWUgaXMgcmV0dXJuZWQuXG4gICAgICAgSWYgbm8gcm93IG9mIGRhdGEgaXMgYXZhaWxhYmxlLCBhIGZhbHN5XG4gICAgICAgdmFsdWUgaXMgcmV0dXJuZWQuICBUaHJvd3Mgb24gZXJyb3IuXG4gICAgKi9cbiAgICBzdGVwOiBmdW5jdGlvbigpe1xuICAgICAgYWZmaXJtVW5sb2NrZWQodGhpcywgJ3N0ZXAoKScpO1xuICAgICAgY29uc3QgcmMgPSBjYXBpLnNxbGl0ZTNfc3RlcChhZmZpcm1TdG10T3Blbih0aGlzKS5wb2ludGVyKTtcbiAgICAgIHN3aXRjaChyYyl7XG4gICAgICAgICAgY2FzZSBjYXBpLlNRTElURV9ET05FOiByZXR1cm4gdGhpcy5fbWF5R2V0ID0gZmFsc2U7XG4gICAgICAgICAgY2FzZSBjYXBpLlNRTElURV9ST1c6IHJldHVybiB0aGlzLl9tYXlHZXQgPSB0cnVlO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aGlzLl9tYXlHZXQgPSBmYWxzZTtcbiAgICAgICAgICAgIHNxbGl0ZTMuY29uZmlnLndhcm4oXCJzcWxpdGUzX3N0ZXAoKSByYz1cIixyYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICBjYXBpLnNxbGl0ZTNfanNfcmNfc3RyKHJjKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBcIlNRTCA9XCIsIGNhcGkuc3FsaXRlM19zcWwodGhpcy5wb2ludGVyKSk7XG4gICAgICAgICAgICBEQi5jaGVja1JjKHRoaXMuZGIucG9pbnRlciwgcmMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICAgRnVuY3Rpb25zIGV4YWN0bHkgbGlrZSBzdGVwKCkgZXhjZXB0IHRoYXQuLi5cblxuICAgICAgIDEpIE9uIHN1Y2Nlc3MsIGl0IGNhbGxzIHRoaXMucmVzZXQoKSBhbmQgcmV0dXJucyB0aGlzIG9iamVjdC5cbiAgICAgICAyKSBPbiBlcnJvciwgaXQgdGhyb3dzIGFuZCBkb2VzIG5vdCBjYWxsIHJlc2V0KCkuXG5cbiAgICAgICBUaGlzIGlzIGludGVuZGVkIHRvIHNpbXBsaWZ5IGNvbnN0cnVjdHMgbGlrZTpcblxuICAgICAgIGBgYFxuICAgICAgIGZvciguLi4pIHtcbiAgICAgICAgIHN0bXQuYmluZCguLi4pLnN0ZXBSZXNldCgpO1xuICAgICAgIH1cbiAgICAgICBgYGBcblxuICAgICAgIE5vdGUgdGhhdCB0aGUgcmVzZXQoKSBjYWxsIG1ha2VzIGl0IGlsbGVnYWwgdG8gY2FsbCB0aGlzLmdldCgpXG4gICAgICAgYWZ0ZXIgdGhlIHN0ZXAuXG4gICAgKi9cbiAgICBzdGVwUmVzZXQ6IGZ1bmN0aW9uKCl7XG4gICAgICB0aGlzLnN0ZXAoKTtcbiAgICAgIHJldHVybiB0aGlzLnJlc2V0KCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgICBGdW5jdGlvbnMgbGlrZSBzdGVwKCkgZXhjZXB0IHRoYXQgaXQgZmluYWxpemVzIHRoaXMgc3RhdGVtZW50XG4gICAgICAgaW1tZWRpYXRlbHkgYWZ0ZXIgc3RlcHBpbmcgdW5sZXNzIHRoZSBzdGVwIGNhbm5vdCBiZSBwZXJmb3JtZWRcbiAgICAgICBiZWNhdXNlIHRoZSBzdGF0ZW1lbnQgaXMgbG9ja2VkLiBUaHJvd3Mgb24gZXJyb3IsIGJ1dCBhbnkgZXJyb3JcbiAgICAgICBvdGhlciB0aGFuIHRoZSBzdGF0ZW1lbnQtaXMtbG9ja2VkIGNhc2Ugd2lsbCBhbHNvIHRyaWdnZXJcbiAgICAgICBmaW5hbGl6YXRpb24gb2YgdGhpcyBzdGF0ZW1lbnQuXG5cbiAgICAgICBPbiBzdWNjZXNzLCBpdCByZXR1cm5zIHRydWUgaWYgdGhlIHN0ZXAgaW5kaWNhdGVkIHRoYXQgYSByb3cgb2ZcbiAgICAgICBkYXRhIHdhcyBhdmFpbGFibGUsIGVsc2UgaXQgcmV0dXJucyBmYWxzZS5cblxuICAgICAgIFRoaXMgaXMgaW50ZW5kZWQgdG8gc2ltcGxpZnkgdXNlIGNhc2VzIHN1Y2ggYXM6XG5cbiAgICAgICBgYGBcbiAgICAgICBhRGIucHJlcGFyZShcImluc2VydCBpbnRvIGZvbyhhKSB2YWx1ZXMoPylcIikuYmluZCgxMjMpLnN0ZXBGaW5hbGl6ZSgpO1xuICAgICAgIGBgYFxuICAgICovXG4gICAgc3RlcEZpbmFsaXplOiBmdW5jdGlvbigpe1xuICAgICAgY29uc3QgcmMgPSB0aGlzLnN0ZXAoKTtcbiAgICAgIHRoaXMuZmluYWxpemUoKTtcbiAgICAgIHJldHVybiByYztcbiAgICB9LFxuICAgIC8qKlxuICAgICAgIEZldGNoZXMgdGhlIHZhbHVlIGZyb20gdGhlIGdpdmVuIDAtYmFzZWQgY29sdW1uIGluZGV4IG9mXG4gICAgICAgdGhlIGN1cnJlbnQgZGF0YSByb3csIHRocm93aW5nIGlmIGluZGV4IGlzIG91dCBvZiByYW5nZS5cblxuICAgICAgIFJlcXVpcmVzIHRoYXQgc3RlcCgpIGhhcyBqdXN0IHJldHVybmVkIGEgdHJ1dGh5IHZhbHVlLCBlbHNlXG4gICAgICAgYW4gZXhjZXB0aW9uIGlzIHRocm93bi5cblxuICAgICAgIEJ5IGRlZmF1bHQgaXQgd2lsbCBkZXRlcm1pbmUgdGhlIGRhdGEgdHlwZSBvZiB0aGUgcmVzdWx0XG4gICAgICAgYXV0b21hdGljYWxseS4gSWYgcGFzc2VkIGEgc2Vjb25kIGFydWdtZW50LCBpdCBtdXN0IGJlIG9uZVxuICAgICAgIG9mIHRoZSBlbnVtZXJhdGlvbiB2YWx1ZXMgZm9yIHNxbGl0ZTMgdHlwZXMsIHdoaWNoIGFyZVxuICAgICAgIGRlZmluZWQgYXMgbWVtYmVycyBvZiB0aGUgc3FsaXRlMyBtb2R1bGU6IFNRTElURV9JTlRFR0VSLFxuICAgICAgIFNRTElURV9GTE9BVCwgU1FMSVRFX1RFWFQsIFNRTElURV9CTE9CLiBBbnkgb3RoZXIgdmFsdWUsXG4gICAgICAgZXhjZXB0IGZvciB1bmRlZmluZWQsIHdpbGwgdHJpZ2dlciBhbiBleGNlcHRpb24uIFBhc3NpbmdcbiAgICAgICB1bmRlZmluZWQgaXMgdGhlIHNhbWUgYXMgbm90IHBhc3NpbmcgYSB2YWx1ZS4gSXQgaXMgbGVnYWxcbiAgICAgICB0bywgZS5nLiwgZmV0Y2ggYW4gaW50ZWdlciB2YWx1ZSBhcyBhIHN0cmluZywgaW4gd2hpY2ggY2FzZVxuICAgICAgIHNxbGl0ZTMgd2lsbCBjb252ZXJ0IHRoZSB2YWx1ZSB0byBhIHN0cmluZy5cblxuICAgICAgIElmIG5keCBpcyBhbiBhcnJheSwgdGhpcyBmdW5jdGlvbiBiZWhhdmVzIGEgZGlmZmVyZW50bHk6IGl0XG4gICAgICAgYXNzaWducyB0aGUgaW5kZXhlcyBvZiB0aGUgYXJyYXksIGZyb20gMCB0byB0aGUgbnVtYmVyIG9mXG4gICAgICAgcmVzdWx0IGNvbHVtbnMsIHRvIHRoZSB2YWx1ZXMgb2YgdGhlIGNvcnJlc3BvbmRpbmcgY29sdW1uLFxuICAgICAgIGFuZCByZXR1cm5zIHRoYXQgYXJyYXkuXG5cbiAgICAgICBJZiBuZHggaXMgYSBwbGFpbiBvYmplY3QsIHRoaXMgZnVuY3Rpb24gYmVoYXZlcyBldmVuXG4gICAgICAgZGlmZmVyZW50bGllcjogaXQgYXNzaWducyB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IHRvXG4gICAgICAgdGhlIHZhbHVlcyBvZiB0aGVpciBjb3JyZXNwb25kaW5nIHJlc3VsdCBjb2x1bW5zLlxuXG4gICAgICAgQmxvYnMgYXJlIHJldHVybmVkIGFzIFVpbnQ4QXJyYXkgaW5zdGFuY2VzLlxuXG4gICAgICAgUG90ZW50aWFsIFRPRE86IGFkZCB0eXBlIElEIFNRTElURV9KU09OLCB3aGljaCBmZXRjaGVzIHRoZVxuICAgICAgIHJlc3VsdCBhcyBhIHN0cmluZyBhbmQgcGFzc2VzIGl0IChpZiBpdCdzIG5vdCBudWxsKSB0b1xuICAgICAgIEpTT04ucGFyc2UoKSwgcmV0dXJuaW5nIHRoZSByZXN1bHQgb2YgdGhhdC4gVW50aWwgdGhlbixcbiAgICAgICBnZXRKU09OKCkgY2FuIGJlIHVzZWQgZm9yIHRoYXQuXG4gICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKG5keCxhc1R5cGUpe1xuICAgICAgaWYoIWFmZmlybVN0bXRPcGVuKHRoaXMpLl9tYXlHZXQpe1xuICAgICAgICB0b3NzMyhcIlN0bXQuc3RlcCgpIGhhcyBub3QgKHJlY2VudGx5KSByZXR1cm5lZCB0cnVlLlwiKTtcbiAgICAgIH1cbiAgICAgIGlmKEFycmF5LmlzQXJyYXkobmR4KSl7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgd2hpbGUoaTx0aGlzLmNvbHVtbkNvdW50KXtcbiAgICAgICAgICBuZHhbaV0gPSB0aGlzLmdldChpKyspO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZHg7XG4gICAgICB9ZWxzZSBpZihuZHggJiYgJ29iamVjdCc9PT10eXBlb2YgbmR4KXtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICB3aGlsZShpPHRoaXMuY29sdW1uQ291bnQpe1xuICAgICAgICAgIG5keFtjYXBpLnNxbGl0ZTNfY29sdW1uX25hbWUodGhpcy5wb2ludGVyLGkpXSA9IHRoaXMuZ2V0KGkrKyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5keDtcbiAgICAgIH1cbiAgICAgIGFmZmlybUNvbEluZGV4KHRoaXMsIG5keCk7XG4gICAgICBzd2l0Y2godW5kZWZpbmVkPT09YXNUeXBlXG4gICAgICAgICAgICAgPyBjYXBpLnNxbGl0ZTNfY29sdW1uX3R5cGUodGhpcy5wb2ludGVyLCBuZHgpXG4gICAgICAgICAgICAgOiBhc1R5cGUpe1xuICAgICAgICAgIGNhc2UgY2FwaS5TUUxJVEVfTlVMTDogcmV0dXJuIG51bGw7XG4gICAgICAgICAgY2FzZSBjYXBpLlNRTElURV9JTlRFR0VSOntcbiAgICAgICAgICAgIGlmKHdhc20uYmlnSW50RW5hYmxlZCl7XG4gICAgICAgICAgICAgIGNvbnN0IHJjID0gY2FwaS5zcWxpdGUzX2NvbHVtbl9pbnQ2NCh0aGlzLnBvaW50ZXIsIG5keCk7XG4gICAgICAgICAgICAgIGlmKHJjPj1OdW1iZXIuTUlOX1NBRkVfSU5URUdFUiAmJiByYzw9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpe1xuICAgICAgICAgICAgICAgIC8qIENvZXJjZSBcIm5vcm1hbFwiIG51bWJlciByYW5nZXMgdG8gbm9ybWFsIG51bWJlciB2YWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgYW5kIG9ubHkgcmV0dXJuIEJpZ0ludC10eXBlIHZhbHVlcyBmb3IgbnVtYmVycyBvdXQgb2YgdGhpc1xuICAgICAgICAgICAgICAgICAgIHJhbmdlLiAqL1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIocmMpLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcmM7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgY29uc3QgcmMgPSBjYXBpLnNxbGl0ZTNfY29sdW1uX2RvdWJsZSh0aGlzLnBvaW50ZXIsIG5keCk7XG4gICAgICAgICAgICAgIGlmKHJjPk51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8IHJjPE51bWJlci5NSU5fU0FGRV9JTlRFR0VSKXtcbiAgICAgICAgICAgICAgICAvKiBUaHJvd2luZyBoZXJlIGlzIGFyZ3VhYmxlIGJ1dCwgc2luY2Ugd2UncmUgZXhwbGljaXRseVxuICAgICAgICAgICAgICAgICAgIGV4dHJhY3RpbmcgYW4gU1FMSVRFX0lOVEVHRVItdHlwZSB2YWx1ZSwgaXQgc2VlbXMgZmFpciB0byB0aHJvd1xuICAgICAgICAgICAgICAgICAgIGlmIHRoZSBleHRyYWN0ZWQgbnVtYmVyIGlzIG91dCBvZiByYW5nZSBmb3IgdGhhdCB0eXBlLlxuICAgICAgICAgICAgICAgICAgIFRoaXMgcG9saWN5IG1heSBiZSBsYXhlbmVkIHRvIHNpbXBseSBwYXNzIG9uIHRoZSBudW1iZXIgYW5kXG4gICAgICAgICAgICAgICAgICAgaG9wZSBmb3IgdGhlIGJlc3QsIGFzIHRoZSBDIEFQSSB3b3VsZCBkby4gKi9cbiAgICAgICAgICAgICAgICB0b3NzMyhcIkludGVnZXIgaXMgb3V0IG9mIHJhbmdlIGZvciBKUyBpbnRlZ2VyIHJhbmdlOiBcIityYyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy9zcWxpdGUzLmNvbmZpZy5sb2coXCJnZXQgaW50ZWdlciByYz1cIixyYyxpc0ludDMyKHJjKSk7XG4gICAgICAgICAgICAgIHJldHVybiB1dGlsLmlzSW50MzIocmMpID8gKHJjIHwgMCkgOiByYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBjYXBpLlNRTElURV9GTE9BVDpcbiAgICAgICAgICAgIHJldHVybiBjYXBpLnNxbGl0ZTNfY29sdW1uX2RvdWJsZSh0aGlzLnBvaW50ZXIsIG5keCk7XG4gICAgICAgICAgY2FzZSBjYXBpLlNRTElURV9URVhUOlxuICAgICAgICAgICAgcmV0dXJuIGNhcGkuc3FsaXRlM19jb2x1bW5fdGV4dCh0aGlzLnBvaW50ZXIsIG5keCk7XG4gICAgICAgICAgY2FzZSBjYXBpLlNRTElURV9CTE9COiB7XG4gICAgICAgICAgICBjb25zdCBuID0gY2FwaS5zcWxpdGUzX2NvbHVtbl9ieXRlcyh0aGlzLnBvaW50ZXIsIG5keCksXG4gICAgICAgICAgICAgICAgICBwdHIgPSBjYXBpLnNxbGl0ZTNfY29sdW1uX2Jsb2IodGhpcy5wb2ludGVyLCBuZHgpLFxuICAgICAgICAgICAgICAgICAgcmMgPSBuZXcgVWludDhBcnJheShuKTtcbiAgICAgICAgICAgIC8vaGVhcCA9IG4gPyB3YXNtLmhlYXA4KCkgOiBmYWxzZTtcbiAgICAgICAgICAgIGlmKG4pIHJjLnNldCh3YXNtLmhlYXA4dSgpLnNsaWNlKHB0ciwgcHRyK24pLCAwKTtcbiAgICAgICAgICAgIC8vZm9yKGxldCBpID0gMDsgaSA8IG47ICsraSkgcmNbaV0gPSBoZWFwW3B0ciArIGldO1xuICAgICAgICAgICAgaWYobiAmJiB0aGlzLmRiLl9ibG9iWGZlciBpbnN0YW5jZW9mIEFycmF5KXtcbiAgICAgICAgICAgICAgLyogVGhpcyBpcyBhbiBvcHRpbWl6YXRpb24gc29sZXkgZm9yIHRoZVxuICAgICAgICAgICAgICAgICBXb3JrZXItYmFzZWQgQVBJLiBUaGVzZSB2YWx1ZXMgd2lsbCBiZVxuICAgICAgICAgICAgICAgICB0cmFuc2ZlcmVkIHRvIHRoZSBtYWluIHRocmVhZCBkaXJlY3RseVxuICAgICAgICAgICAgICAgICBpbnN0ZWFkIG9mIGJlaW5nIGNvcGllZC4gKi9cbiAgICAgICAgICAgICAgdGhpcy5kYi5fYmxvYlhmZXIucHVzaChyYy5idWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJjO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB0b3NzMyhcIkRvbid0IGtub3cgaG93IHRvIHRyYW5zbGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZSBvZiByZXN1bHQgY29sdW1uICNcIituZHgrXCIuXCIpO1xuICAgICAgfVxuICAgICAgdG9zczMoXCJOb3QgcmVhY2hlZC5cIik7XG4gICAgfSxcbiAgICAvKiogRXF1aXZhbGVudCB0byBnZXQobmR4KSBidXQgY29lcmNlcyB0aGUgcmVzdWx0IHRvIGFuXG4gICAgICAgIGludGVnZXIuICovXG4gICAgZ2V0SW50OiBmdW5jdGlvbihuZHgpe3JldHVybiB0aGlzLmdldChuZHgsY2FwaS5TUUxJVEVfSU5URUdFUil9LFxuICAgIC8qKiBFcXVpdmFsZW50IHRvIGdldChuZHgpIGJ1dCBjb2VyY2VzIHRoZSByZXN1bHQgdG8gYVxuICAgICAgICBmbG9hdC4gKi9cbiAgICBnZXRGbG9hdDogZnVuY3Rpb24obmR4KXtyZXR1cm4gdGhpcy5nZXQobmR4LGNhcGkuU1FMSVRFX0ZMT0FUKX0sXG4gICAgLyoqIEVxdWl2YWxlbnQgdG8gZ2V0KG5keCkgYnV0IGNvZXJjZXMgdGhlIHJlc3VsdCB0byBhXG4gICAgICAgIHN0cmluZy4gKi9cbiAgICBnZXRTdHJpbmc6IGZ1bmN0aW9uKG5keCl7cmV0dXJuIHRoaXMuZ2V0KG5keCxjYXBpLlNRTElURV9URVhUKX0sXG4gICAgLyoqIEVxdWl2YWxlbnQgdG8gZ2V0KG5keCkgYnV0IGNvZXJjZXMgdGhlIHJlc3VsdCB0byBhXG4gICAgICAgIFVpbnQ4QXJyYXkuICovXG4gICAgZ2V0QmxvYjogZnVuY3Rpb24obmR4KXtyZXR1cm4gdGhpcy5nZXQobmR4LGNhcGkuU1FMSVRFX0JMT0IpfSxcbiAgICAvKipcbiAgICAgICBBIGNvbnZlbmllbmNlIHdyYXBwZXIgYXJvdW5kIGdldCgpIHdoaWNoIGZldGNoZXMgdGhlIHZhbHVlXG4gICAgICAgYXMgYSBzdHJpbmcgYW5kIHRoZW4sIGlmIGl0IGlzIG5vdCBudWxsLCBwYXNzZXMgaXQgdG9cbiAgICAgICBKU09OLnBhcnNlKCksIHJldHVybmluZyB0aGF0IHJlc3VsdC4gVGhyb3dzIGlmIHBhcnNpbmdcbiAgICAgICBmYWlscy4gSWYgdGhlIHJlc3VsdCBpcyBudWxsLCBudWxsIGlzIHJldHVybmVkLiBBbiBlbXB0eVxuICAgICAgIHN0cmluZywgb24gdGhlIG90aGVyIGhhbmQsIHdpbGwgdHJpZ2dlciBhbiBleGNlcHRpb24uXG4gICAgKi9cbiAgICBnZXRKU09OOiBmdW5jdGlvbihuZHgpe1xuICAgICAgY29uc3QgcyA9IHRoaXMuZ2V0KG5keCwgY2FwaS5TUUxJVEVfU1RSSU5HKTtcbiAgICAgIHJldHVybiBudWxsPT09cyA/IHMgOiBKU09OLnBhcnNlKHMpO1xuICAgIH0sXG4gICAgLy8gRGVzaWduIG5vdGU6IHRoZSBvbmx5IHJlYXNvbiBtb3N0IG9mIHRoZXNlIGdldHRlcnMgaGF2ZSBhICdnZXQnXG4gICAgLy8gcHJlZml4IGlzIGZvciBjb25zaXN0ZW5jeSB3aXRoIGdldFZBTFVFX1RZUEUoKS4gIFRoZSBsYXR0ZXJcbiAgICAvLyBhcmd1YWJseSByZWFsbHkgbmVlZCB0aGF0IHByZWZpeCBmb3IgQVBJIHJlYWRhYmlsaXR5IGFuZCB0aGVcbiAgICAvLyByZXN0IGFyZ3VhYmx5IGRvbid0LCBidXQgY29uc2lzdGVuY3kgaXMgYSBwb3dlcmZ1bCB0aGluZy5cbiAgICAvKipcbiAgICAgICBSZXR1cm5zIHRoZSByZXN1bHQgY29sdW1uIG5hbWUgb2YgdGhlIGdpdmVuIGluZGV4LCBvclxuICAgICAgIHRocm93cyBpZiBpbmRleCBpcyBvdXQgb2YgYm91bmRzIG9yIHRoaXMgc3RhdGVtZW50IGhhcyBiZWVuXG4gICAgICAgZmluYWxpemVkLiBUaGlzIGNhbiBiZSB1c2VkIHdpdGhvdXQgaGF2aW5nIHJ1biBzdGVwKClcbiAgICAgICBmaXJzdC5cbiAgICAqL1xuICAgIGdldENvbHVtbk5hbWU6IGZ1bmN0aW9uKG5keCl7XG4gICAgICByZXR1cm4gY2FwaS5zcWxpdGUzX2NvbHVtbl9uYW1lKFxuICAgICAgICBhZmZpcm1Db2xJbmRleChhZmZpcm1TdG10T3Blbih0aGlzKSxuZHgpLnBvaW50ZXIsIG5keFxuICAgICAgKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAgIElmIHRoaXMgc3RhdGVtZW50IHBvdGVudGlhbGx5IGhhcyByZXN1bHQgY29sdW1ucywgdGhpc1xuICAgICAgIGZ1bmN0aW9uIHJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHN1Y2ggbmFtZXMuIElmIHBhc3NlZCBhblxuICAgICAgIGFycmF5LCBpdCBpcyB1c2VkIGFzIHRoZSB0YXJnZXQgYW5kIGFsbCBuYW1lcyBhcmUgYXBwZW5kZWRcbiAgICAgICB0byBpdC4gUmV0dXJucyB0aGUgdGFyZ2V0IGFycmF5LiBUaHJvd3MgaWYgdGhpcyBzdGF0ZW1lbnRcbiAgICAgICBjYW5ub3QgaGF2ZSByZXN1bHQgY29sdW1ucy4gVGhpcyBvYmplY3QncyBjb2x1bW5Db3VudCBtZW1iZXJcbiAgICAgICBob2xkcyB0aGUgbnVtYmVyIG9mIGNvbHVtbnMuXG4gICAgKi9cbiAgICBnZXRDb2x1bW5OYW1lczogZnVuY3Rpb24odGd0PVtdKXtcbiAgICAgIGFmZmlybUNvbEluZGV4KGFmZmlybVN0bXRPcGVuKHRoaXMpLDApO1xuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuY29sdW1uQ291bnQ7ICsraSl7XG4gICAgICAgIHRndC5wdXNoKGNhcGkuc3FsaXRlM19jb2x1bW5fbmFtZSh0aGlzLnBvaW50ZXIsIGkpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0Z3Q7XG4gICAgfSxcbiAgICAvKipcbiAgICAgICBJZiB0aGlzIHN0YXRlbWVudCBoYXMgbmFtZWQgYmluZGFibGUgcGFyYW1ldGVycyBhbmQgdGhlXG4gICAgICAgZ2l2ZW4gbmFtZSBtYXRjaGVzIG9uZSwgaXRzIDEtYmFzZWQgYmluZCBpbmRleCBpc1xuICAgICAgIHJldHVybmVkLiBJZiBubyBtYXRjaCBpcyBmb3VuZCwgMCBpcyByZXR1cm5lZC4gSWYgaXQgaGFzIG5vXG4gICAgICAgYmluZGFibGUgcGFyYW1ldGVycywgdGhlIHVuZGVmaW5lZCB2YWx1ZSBpcyByZXR1cm5lZC5cbiAgICAqL1xuICAgIGdldFBhcmFtSW5kZXg6IGZ1bmN0aW9uKG5hbWUpe1xuICAgICAgcmV0dXJuIChhZmZpcm1TdG10T3Blbih0aGlzKS5wYXJhbWV0ZXJDb3VudFxuICAgICAgICAgICAgICA/IGNhcGkuc3FsaXRlM19iaW5kX3BhcmFtZXRlcl9pbmRleCh0aGlzLnBvaW50ZXIsIG5hbWUpXG4gICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gIH0vKlN0bXQucHJvdG90eXBlKi87XG5cbiAgey8qIEFkZCB0aGUgYHBvaW50ZXJgIHByb3BlcnR5IHRvIERCIGFuZCBTdG10LiAqL1xuICAgIGNvbnN0IHByb3AgPSB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbigpe3JldHVybiBfX3B0ck1hcC5nZXQodGhpcyl9LFxuICAgICAgc2V0OiAoKT0+dG9zczMoXCJUaGUgcG9pbnRlciBwcm9wZXJ0eSBpcyByZWFkLW9ubHkuXCIpXG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdG10LnByb3RvdHlwZSwgJ3BvaW50ZXInLCBwcm9wKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoREIucHJvdG90eXBlLCAncG9pbnRlcicsIHByb3ApO1xuICB9XG5cbiAgLyoqIFRoZSBPTyBBUEkncyBwdWJsaWMgbmFtZXNwYWNlLiAqL1xuICBzcWxpdGUzLm9vMSA9IHtcbiAgICBEQixcbiAgICBTdG10XG4gIH0vKm9vMSBvYmplY3QqLztcblxuICBpZih1dGlsLmlzVUlUaHJlYWQoKSl7XG4gICAgLyoqXG4gICAgICAgRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gREIoc3RvcmFnZU5hbWUsJ2MnLCdrdnZmcycpIGV4Y2VwdFxuICAgICAgIHRoYXQgaXQgdGhyb3dzIGlmIHRoZSBnaXZlbiBzdG9yYWdlIG5hbWUgaXMgbm90IG9uZSBvZiAnbG9jYWwnXG4gICAgICAgb3IgJ3Nlc3Npb24nLlxuICAgICovXG4gICAgc3FsaXRlMy5vbzEuSnNTdG9yYWdlRGIgPSBmdW5jdGlvbihzdG9yYWdlTmFtZT0nc2Vzc2lvbicpe1xuICAgICAgaWYoJ3Nlc3Npb24nIT09c3RvcmFnZU5hbWUgJiYgJ2xvY2FsJyE9PXN0b3JhZ2VOYW1lKXtcbiAgICAgICAgdG9zczMoXCJKc1N0b3JhZ2VEYiBkYiBuYW1lIG11c3QgYmUgb25lIG9mICdzZXNzaW9uJyBvciAnbG9jYWwnLlwiKTtcbiAgICAgIH1cbiAgICAgIGRiQ3RvckhlbHBlci5jYWxsKHRoaXMsIHtcbiAgICAgICAgZmlsZW5hbWU6IHN0b3JhZ2VOYW1lLFxuICAgICAgICBmbGFnczogJ2MnLFxuICAgICAgICB2ZnM6IFwia3Z2ZnNcIlxuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBqZGIgPSBzcWxpdGUzLm9vMS5Kc1N0b3JhZ2VEYjtcbiAgICBqZGIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShEQi5wcm90b3R5cGUpO1xuICAgIC8qKiBFcXVpdmFsZW50IHRvIHNxbGl0ZTNfanNfa3Z2ZnNfY2xlYXIoKS4gKi9cbiAgICBqZGIuY2xlYXJTdG9yYWdlID0gY2FwaS5zcWxpdGUzX2pzX2t2dmZzX2NsZWFyO1xuICAgIC8qKlxuICAgICAgIENsZWFycyB0aGlzIGRhdGFiYXNlIGluc3RhbmNlJ3Mgc3RvcmFnZSBvciB0aHJvd3MgaWYgdGhpc1xuICAgICAgIGluc3RhbmNlIGhhcyBiZWVuIGNsb3NlZC4gUmV0dXJucyB0aGUgbnVtYmVyIG9mXG4gICAgICAgZGF0YWJhc2UgYmxvY2tzIHdoaWNoIHdlcmUgY2xlYW5lZCB1cC5cbiAgICAqL1xuICAgIGpkYi5wcm90b3R5cGUuY2xlYXJTdG9yYWdlID0gZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBqZGIuY2xlYXJTdG9yYWdlKGFmZmlybURiT3Blbih0aGlzKS5maWxlbmFtZSk7XG4gICAgfTtcbiAgICAvKiogRXF1aXZhbGVudCB0byBzcWxpdGUzX2pzX2t2dmZzX3NpemUoKS4gKi9cbiAgICBqZGIuc3RvcmFnZVNpemUgPSBjYXBpLnNxbGl0ZTNfanNfa3Z2ZnNfc2l6ZTtcbiAgICAvKipcbiAgICAgICBSZXR1cm5zIHRoZSBfYXBwcm94aW1hdGVfIG51bWJlciBvZiBieXRlcyB0aGlzIGRhdGFiYXNlIHRha2VzXG4gICAgICAgdXAgaW4gaXRzIHN0b3JhZ2Ugb3IgdGhyb3dzIGlmIHRoaXMgaW5zdGFuY2UgaGFzIGJlZW4gY2xvc2VkLlxuICAgICovXG4gICAgamRiLnByb3RvdHlwZS5zdG9yYWdlU2l6ZSA9IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gamRiLnN0b3JhZ2VTaXplKGFmZmlybURiT3Blbih0aGlzKS5maWxlbmFtZSk7XG4gICAgfTtcbiAgfS8qbWFpbi13aW5kb3ctb25seSBiaXRzKi9cblxufSk7XG5cbi8qIEVORCBGSUxFOiBhcGkvc3FsaXRlMy1hcGktb28xLmpzICovXG4vKiBCRUdJTiBGSUxFOiBhcGkvc3FsaXRlMy1hcGktd29ya2VyMS5qcyAqL1xuLyoqXG4gIDIwMjItMDctMjJcblxuICBUaGUgYXV0aG9yIGRpc2NsYWltcyBjb3B5cmlnaHQgdG8gdGhpcyBzb3VyY2UgY29kZS4gIEluIHBsYWNlIG9mIGFcbiAgbGVnYWwgbm90aWNlLCBoZXJlIGlzIGEgYmxlc3Npbmc6XG5cbiAgKiAgIE1heSB5b3UgZG8gZ29vZCBhbmQgbm90IGV2aWwuXG4gICogICBNYXkgeW91IGZpbmQgZm9yZ2l2ZW5lc3MgZm9yIHlvdXJzZWxmIGFuZCBmb3JnaXZlIG90aGVycy5cbiAgKiAgIE1heSB5b3Ugc2hhcmUgZnJlZWx5LCBuZXZlciB0YWtpbmcgbW9yZSB0aGFuIHlvdSBnaXZlLlxuXG4gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgVGhpcyBmaWxlIGltcGxlbWVudHMgdGhlIGluaXRpYWxpemVyIGZvciBTUUxpdGUncyBcIldvcmtlciBBUEkgIzFcIiwgYVxuICB2ZXJ5IGJhc2ljIERCIGFjY2VzcyBBUEkgaW50ZW5kZWQgdG8gYmUgc2NyaXB0ZWQgZnJvbSBhIG1haW4gd2luZG93XG4gIHRocmVhZCB2aWEgV29ya2VyLXN0eWxlIG1lc3NhZ2VzLiBCZWNhdXNlIG9mIGxpbWl0YXRpb25zIGluIHRoYXRcbiAgdHlwZSBvZiBjb21tdW5pY2F0aW9uLCB0aGlzIEFQSSBpcyBtaW5pbWFsaXN0aWMgYW5kIG9ubHkgY2FwYWJsZSBvZlxuICBzZXJ2aW5nIHJlbGF0aXZlbHkgYmFzaWMgREIgcmVxdWVzdHMgKGUuZy4gaXQgY2Fubm90IHByb2Nlc3MgbmVzdGVkXG4gIHF1ZXJ5IGxvb3BzIGNvbmN1cnJlbnRseSkuXG5cbiAgVGhpcyBmaWxlIHJlcXVpcmVzIHRoYXQgdGhlIGNvcmUgQy1zdHlsZSBzcWxpdGUzIEFQSSBhbmQgT08gQVBJICMxXG4gIGhhdmUgYmVlbiBsb2FkZWQuXG4qL1xuXG4vKipcbiAgc3FsaXRlMy5pbml0V29ya2VyMUFQSSgpIGltcGxlbWVudHMgYSBXb3JrZXItYmFzZWQgd3JhcHBlciBhcm91bmRcbiAgU1FMaXRlMyBPTyBBUEkgIzEsIGNvbGxvcXVpYWxseSBrbm93biBhcyBcIldvcmtlciBBUEkgIzFcIi5cblxuICBJbiBvcmRlciB0byBwZXJtaXQgdGhpcyBBUEkgdG8gYmUgbG9hZGVkIGluIHdvcmtlciB0aHJlYWRzIHdpdGhvdXRcbiAgYXV0b21hdGljYWxseSByZWdpc3RlcmluZyBvbm1lc3NhZ2UgaGFuZGxlcnMsIGluaXRpYWxpemluZyB0aGVcbiAgd29ya2VyIEFQSSByZXF1aXJlcyBjYWxsaW5nIGluaXRXb3JrZXIxQVBJKCkuIElmIHRoaXMgZnVuY3Rpb24gaXNcbiAgY2FsbGVkIGZyb20gYSBub24td29ya2VyIHRocmVhZCB0aGVuIGl0IHRocm93cyBhbiBleGNlcHRpb24uICBJdFxuICBtdXN0IG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIFdvcmtlci5cblxuICBXaGVuIGluaXRpYWxpemVkLCBpdCBpbnN0YWxscyBtZXNzYWdlIGxpc3RlbmVycyB0byByZWNlaXZlIFdvcmtlclxuICBtZXNzYWdlcyBhbmQgdGhlbiBpdCBwb3N0cyBhIG1lc3NhZ2UgaW4gdGhlIGZvcm06XG5cbiAgYGBgXG4gIHt0eXBlOidzcWxpdGUzLWFwaScsIHJlc3VsdDond29ya2VyMS1yZWFkeSd9XG4gIGBgYFxuXG4gIHRvIGxldCB0aGUgY2xpZW50IGtub3cgdGhhdCBpdCBoYXMgYmVlbiBpbml0aWFsaXplZC4gQ2xpZW50cyBtYXlcbiAgb3B0aW9uYWxseSBkZXBlbmQgb24gdGhpcyBmdW5jdGlvbiBub3QgcmV0dXJuaW5nIHVudGlsXG4gIGluaXRpYWxpemF0aW9uIGlzIGNvbXBsZXRlLCBhcyB0aGUgaW5pdGlhbGl6YXRpb24gaXMgc3luY2hyb25vdXMuXG4gIEluIHNvbWUgY29udGV4dHMsIGhvd2V2ZXIsIGxpc3RlbmluZyBmb3IgdGhlIGFib3ZlIG1lc3NhZ2UgaXNcbiAgYSBiZXR0ZXIgZml0LlxuXG4gIE5vdGUgdGhhdCB0aGUgd29ya2VyLWJhc2VkIGludGVyZmFjZSBjYW4gYmUgc2xpZ2h0bHkgcXVpcmt5IGJlY2F1c2VcbiAgb2YgaXRzIGFzeW5jIG5hdHVyZS4gSW4gcGFydGljdWxhciwgYW55IG51bWJlciBvZiBtZXNzYWdlcyBtYXkgYmUgcG9zdGVkXG4gIHRvIHRoZSB3b3JrZXIgYmVmb3JlIGl0IHN0YXJ0cyBoYW5kbGluZyBhbnkgb2YgdGhlbS4gSWYsIGUuZy4sIGFuXG4gIFwib3BlblwiIG9wZXJhdGlvbiBmYWlscywgYW55IHN1YnNlcXVlbnQgbWVzc2FnZXMgd2lsbCBmYWlsLiBUaGVcbiAgUHJvbWlzZS1iYXNlZCB3cmFwcGVyIGZvciB0aGlzIEFQSSAoYHNxbGl0ZTMtd29ya2VyMS1wcm9taXNlci5qc2ApXG4gIGlzIG1vcmUgY29tZm9ydGFibGUgdG8gdXNlIGluIHRoYXQgcmVnYXJkLlxuXG4gIFRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgaW5wdXQgYW5kIG91dHB1dCB3b3JrZXIgbWVzc2FnZXMgZm9yXG4gIHRoaXMgQVBJIGZvbGxvd3MuLi5cblxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBDb21tb24gbWVzc2FnZSBmb3JtYXQuLi5cblxuICBFYWNoIG1lc3NhZ2UgcG9zdGVkIHRvIHRoZSB3b3JrZXIgaGFzIGFuIG9wZXJhdGlvbi1pbmRlcGVuZGVudFxuICBlbnZlbG9wZSBhbmQgb3BlcmF0aW9uLWRlcGVuZGVudCBhcmd1bWVudHM6XG5cbiAgYGBgXG4gIHtcbiAgICB0eXBlOiBzdHJpbmcsIC8vIG9uZSBvZjogJ29wZW4nLCAnY2xvc2UnLCAnZXhlYycsICdjb25maWctZ2V0J1xuXG4gICAgbWVzc2FnZUlkOiBPUFRJT05BTCBhcmJpdHJhcnkgdmFsdWUuIFRoZSB3b3JrZXIgd2lsbCBjb3B5IGl0IGFzLWlzXG4gICAgaW50byByZXNwb25zZSBtZXNzYWdlcyB0byBhc3Npc3QgaW4gY2xpZW50LXNpZGUgZGlzcGF0Y2hpbmcuXG5cbiAgICBkYklkOiBhIGRiIGlkZW50aWZpZXIgc3RyaW5nIChyZXR1cm5lZCBieSAnb3BlbicpIHdoaWNoIHRlbGxzIHRoZVxuICAgIG9wZXJhdGlvbiB3aGljaCBkYXRhYmFzZSBpbnN0YW5jZSB0byB3b3JrIG9uLiBJZiBub3QgcHJvdmlkZWQsIHRoZVxuICAgIGZpcnN0LW9wZW5lZCBkYiBpcyB1c2VkLiBUaGlzIGlzIGFuIFwib3BhcXVlXCIgdmFsdWUsIHdpdGggbm9cbiAgICBpbmhlcmVudGx5IHVzZWZ1bCBzeW50YXggb3IgaW5mb3JtYXRpb24uIEl0cyB2YWx1ZSBpcyBzdWJqZWN0IHRvXG4gICAgY2hhbmdlIHdpdGggYW55IGdpdmVuIGJ1aWxkIG9mIHRoaXMgQVBJIGFuZCBjYW5ub3QgYmUgdXNlZCBhcyBhXG4gICAgYmFzaXMgZm9yIGFueXRoaW5nIHVzZWZ1bCBiZXlvbmQgaXRzIG9uZSBpbnRlbmRlZCBwdXJwb3NlLlxuXG4gICAgYXJnczogLi4ub3BlcmF0aW9uLWRlcGVuZGVudCBhcmd1bWVudHMuLi5cblxuICAgIC8vIHRoZSBmcmFtZXdvcmsgbWF5IGFkZCBvdGhlciBwcm9wZXJ0aWVzIGZvciB0ZXN0aW5nIG9yIGRlYnVnZ2luZ1xuICAgIC8vIHB1cnBvc2VzLlxuXG4gIH1cbiAgYGBgXG5cbiAgUmVzcG9uc2UgbWVzc2FnZXMsIHBvc3RlZCBiYWNrIHRvIHRoZSBtYWluIHRocmVhZCwgbG9vayBsaWtlOlxuXG4gIGBgYFxuICB7XG4gICAgdHlwZTogc3RyaW5nLiBTYW1lIGFzIGFib3ZlIGV4Y2VwdCBmb3IgZXJyb3IgcmVzcG9uc2VzLCB3aGljaCBoYXZlIHRoZSB0eXBlXG4gICAgJ2Vycm9yJyxcblxuICAgIG1lc3NhZ2VJZDogc2FtZSB2YWx1ZSwgaWYgYW55LCBwcm92aWRlZCBieSB0aGUgaW5ib3VuZCBtZXNzYWdlXG5cbiAgICBkYklkOiB0aGUgaWQgb2YgdGhlIGRiIHdoaWNoIHdhcyBvcGVyYXRlZCBvbiwgaWYgYW55LCBhcyByZXR1cm5lZFxuICAgIGJ5IHRoZSBjb3JyZXNwb25kaW5nICdvcGVuJyBvcGVyYXRpb24uXG5cbiAgICByZXN1bHQ6IC4uLm9wZXJhdGlvbi1kZXBlbmRlbnQgcmVzdWx0Li4uXG5cbiAgfVxuICBgYGBcblxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBFcnJvciByZXNwb25zZXNcblxuICBFcnJvcnMgYXJlIHJlcG9ydGVkIG1lc3NhZ2VzIGluIGFuIG9wZXJhdGlvbi1pbmRlcGVuZGVudCBmb3JtYXQ6XG5cbiAgYGBgXG4gIHtcbiAgICB0eXBlOiBcImVycm9yXCIsXG5cbiAgICBtZXNzYWdlSWQ6IC4uLmFzIGFib3ZlLi4uLFxuXG4gICAgZGJJZDogLi4uYXMgYWJvdmUuLi5cblxuICAgIHJlc3VsdDoge1xuXG4gICAgICBvcGVyYXRpb246IHR5cGUgb2YgdGhlIHRyaWdnZXJpbmcgb3BlcmF0aW9uOiAnb3BlbicsICdjbG9zZScsIC4uLlxuXG4gICAgICBtZXNzYWdlOiAuLi5lcnJvciBtZXNzYWdlIHRleHQuLi5cblxuICAgICAgZXJyb3JDbGFzczogc3RyaW5nLiBUaGUgRXJyb3JDbGFzcy5uYW1lIHByb3BlcnR5IGZyb20gdGhlIHRocm93biBleGNlcHRpb24uXG5cbiAgICAgIGlucHV0OiB0aGUgbWVzc2FnZSBvYmplY3Qgd2hpY2ggdHJpZ2dlcmVkIHRoZSBlcnJvci5cblxuICAgICAgc3RhY2s6IF9pZiBhdmFpbGFibGVfLCBhIHN0YWNrIHRyYWNlIGFycmF5LlxuXG4gICAgfVxuXG4gIH1cbiAgYGBgXG5cbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXCJjb25maWctZ2V0XCJcblxuICBUaGlzIG9wZXJhdGlvbiBmZXRjaGVzIHRoZSBzZXJpYWxpemFibGUgcGFydHMgb2YgdGhlIHNxbGl0ZTMgQVBJXG4gIGNvbmZpZ3VyYXRpb24uXG5cbiAgTWVzc2FnZSBmb3JtYXQ6XG5cbiAgYGBgXG4gIHtcbiAgICB0eXBlOiBcImNvbmZpZy1nZXRcIixcbiAgICBtZXNzYWdlSWQ6IC4uLmFzIGFib3ZlLi4uLFxuICAgIGFyZ3M6IGN1cnJlbnRseSBpZ25vcmVkIGFuZCBtYXkgYmUgZWxpZGVkLlxuICB9XG4gIGBgYFxuXG4gIFJlc3BvbnNlOlxuXG4gIGBgYFxuICB7XG4gICAgdHlwZTogXCJjb25maWctZ2V0XCIsXG4gICAgbWVzc2FnZUlkOiAuLi5hcyBhYm92ZS4uLixcbiAgICByZXN1bHQ6IHtcblxuICAgICAgdmVyc2lvbjogc3FsaXRlMy52ZXJzaW9uIG9iamVjdFxuXG4gICAgICBiaWdJbnRFbmFibGVkOiBib29sLiBUcnVlIGlmIEJpZ0ludCBzdXBwb3J0IGlzIGVuYWJsZWQuXG5cbiAgICAgIHZmc0xpc3Q6IHJlc3VsdCBvZiBzcWxpdGUzLmNhcGkuc3FsaXRlM19qc192ZnNfbGlzdCgpXG4gICB9XG4gIH1cbiAgYGBgXG5cbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXCJvcGVuXCIgYSBkYXRhYmFzZVxuXG4gIE1lc3NhZ2UgZm9ybWF0OlxuXG4gIGBgYFxuICB7XG4gICAgdHlwZTogXCJvcGVuXCIsXG4gICAgbWVzc2FnZUlkOiAuLi5hcyBhYm92ZS4uLixcbiAgICBhcmdzOntcblxuICAgICAgZmlsZW5hbWUgWz1cIjptZW1vcnk6XCIgb3IgXCJcIiAodW5zcGVjaWZpZWQpXTogdGhlIGRiIGZpbGVuYW1lLlxuICAgICAgU2VlIHRoZSBzcWxpdGUzLm9vMS5EQiBjb25zdHJ1Y3RvciBmb3IgcGVjdWxpYXJpdGllcyBhbmRcbiAgICAgIHRyYW5zZm9ybWF0aW9ucyxcblxuICAgICAgdmZzOiBzcWxpdGUzX3ZmcyBuYW1lLiBJZ25vcmVkIGlmIGZpbGVuYW1lIGlzIFwiOm1lbW9yeTpcIiBvciBcIlwiLlxuICAgICAgICAgICBUaGlzIG1heSBjaGFuZ2UgaG93IHRoZSBnaXZlbiBmaWxlbmFtZSBpcyByZXNvbHZlZC5cbiAgICB9XG4gIH1cbiAgYGBgXG5cbiAgUmVzcG9uc2U6XG5cbiAgYGBgXG4gIHtcbiAgICB0eXBlOiBcIm9wZW5cIixcbiAgICBtZXNzYWdlSWQ6IC4uLmFzIGFib3ZlLi4uLFxuICAgIHJlc3VsdDoge1xuICAgICAgZmlsZW5hbWU6IGRiIGZpbGVuYW1lLCBwb3NzaWJseSBkaWZmZXJpbmcgZnJvbSB0aGUgaW5wdXQuXG5cbiAgICAgIGRiSWQ6IGFuIG9wYXF1ZSBJRCB2YWx1ZSB3aGljaCBtdXN0IGJlIHBhc3NlZCBpbiB0aGUgbWVzc2FnZVxuICAgICAgZW52ZWxvcGUgdG8gb3RoZXIgY2FsbHMgaW4gdGhpcyBBUEkgdG8gdGVsbCB0aGVtIHdoaWNoIGRiIHRvXG4gICAgICB1c2UuIElmIGl0IGlzIG5vdCBwcm92aWRlZCB0byBmdXR1cmUgY2FsbHMsIHRoZXkgd2lsbCBkZWZhdWx0IHRvXG4gICAgICBvcGVyYXRpbmcgb24gdGhlIGxlYXN0LXJlY2VudGx5LW9wZW5lZCBkYi4gVGhpcyBwcm9wZXJ0eSBpcywgZm9yXG4gICAgICBBUEkgY29uc2lzdGVuY3kncyBzYWtlLCBhbHNvIHBhcnQgb2YgdGhlIGNvbnRhaW5pbmcgbWVzc2FnZVxuICAgICAgZW52ZWxvcGUuICBPbmx5IHRoZSBgb3BlbmAgb3BlcmF0aW9uIGluY2x1ZGVzIGl0IGluIHRoZSBgcmVzdWx0YFxuICAgICAgcHJvcGVydHkuXG5cbiAgICAgIHBlcnNpc3RlbnQ6IHRydWUgaWYgdGhlIGdpdmVuIGZpbGVuYW1lIHJlc2lkZXMgaW4gdGhlXG4gICAgICBrbm93bi1wZXJzaXN0ZW50IHN0b3JhZ2UsIGVsc2UgZmFsc2UuXG5cbiAgICAgIHZmczogbmFtZSBvZiB0aGUgVkZTIHRoZSBcIm1haW5cIiBkYiBpcyB1c2luZy5cbiAgIH1cbiAgfVxuICBgYGBcblxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcImNsb3NlXCIgYSBkYXRhYmFzZVxuXG4gIE1lc3NhZ2UgZm9ybWF0OlxuXG4gIGBgYFxuICB7XG4gICAgdHlwZTogXCJjbG9zZVwiLFxuICAgIG1lc3NhZ2VJZDogLi4uYXMgYWJvdmUuLi5cbiAgICBkYklkOiAuLi5hcyBhYm92ZS4uLlxuICAgIGFyZ3M6IE9QVElPTkFMIHt1bmxpbms6IGJvb2xlYW59XG4gIH1cbiAgYGBgXG5cbiAgSWYgdGhlIGBkYklkYCBkb2VzIG5vdCByZWZlciB0byBhbiBvcGVuZWQgSUQsIHRoaXMgaXMgYSBuby1vcC4gSWZcbiAgdGhlIGBhcmdzYCBvYmplY3QgY29udGFpbnMgYSB0cnV0aHkgYHVubGlua2AgdmFsdWUgdGhlbiB0aGUgZGF0YWJhc2VcbiAgd2lsbCBiZSB1bmxpbmtlZCAoZGVsZXRlZCkgYWZ0ZXIgY2xvc2luZyBpdC4gVGhlIGluYWJpbGl0eSB0byBjbG9zZSBhXG4gIGRiIChiZWNhdXNlIGl0J3Mgbm90IG9wZW5lZCkgb3IgZGVsZXRlIGl0cyBmaWxlIGRvZXMgbm90IHRyaWdnZXIgYW5cbiAgZXJyb3IuXG5cbiAgUmVzcG9uc2U6XG5cbiAgYGBgXG4gIHtcbiAgICB0eXBlOiBcImNsb3NlXCIsXG4gICAgbWVzc2FnZUlkOiAuLi5hcyBhYm92ZS4uLixcbiAgICByZXN1bHQ6IHtcblxuICAgICAgZmlsZW5hbWU6IGZpbGVuYW1lIG9mIGNsb3NlZCBkYiwgb3IgdW5kZWZpbmVkIGlmIG5vIGRiIHdhcyBjbG9zZWRcblxuICAgIH1cbiAgfVxuICBgYGBcblxuICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBcImV4ZWNcIiBTUUxcblxuICBBbGwgU1FMIGV4ZWN1dGlvbiBpcyBwcm9jZXNzZWQgdGhyb3VnaCB0aGUgZXhlYyBvcGVyYXRpb24uIEl0IG9mZmVyc1xuICBtb3N0IG9mIHRoZSBmZWF0dXJlcyBvZiB0aGUgb28xLkRCLmV4ZWMoKSBtZXRob2QsIHdpdGggYSBmZXcgbGltaXRhdGlvbnNcbiAgaW1wb3NlZCBieSB0aGUgc3RhdGUgaGF2aW5nIHRvIGNyb3NzIHRocmVhZCBib3VuZGFyaWVzLlxuXG4gIE1lc3NhZ2UgZm9ybWF0OlxuXG4gIGBgYFxuICB7XG4gICAgdHlwZTogXCJleGVjXCIsXG4gICAgbWVzc2FnZUlkOiAuLi5hcyBhYm92ZS4uLlxuICAgIGRiSWQ6IC4uLmFzIGFib3ZlLi4uXG4gICAgYXJnczogc3RyaW5nIChTUUwpIG9yIHsuLi4gc2VlIGJlbG93IC4uLn1cbiAgfVxuICBgYGBcblxuICBSZXNwb25zZTpcblxuICBgYGBcbiAge1xuICAgIHR5cGU6IFwiZXhlY1wiLFxuICAgIG1lc3NhZ2VJZDogLi4uYXMgYWJvdmUuLi4sXG4gICAgZGJJZDogLi4uYXMgYWJvdmUuLi5cbiAgICByZXN1bHQ6IHtcbiAgICAgIGlucHV0IGFyZ3VtZW50cywgcG9zc2libHkgbW9kaWZpZWQuIFNlZSBiZWxvdy5cbiAgICB9XG4gIH1cbiAgYGBgXG5cbiAgVGhlIGFyZ3VtZW50cyBhcmUgaW4gdGhlIHNhbWUgZm9ybSBhY2NlcHRlZCBieSBvbzEuREIuZXhlYygpLCB3aXRoXG4gIHRoZSBleGNlcHRpb25zIG5vdGVkIGJlbG93LlxuXG4gIEEgZnVuY3Rpb24tdHlwZSBhcmdzLmNhbGxiYWNrIHByb3BlcnR5IGNhbm5vdCBjcm9zc1xuICB0aGUgd2luZG93L1dvcmtlciBib3VuZGFyeSwgc28gaXMgbm90IHVzZWZ1bCBoZXJlLiBJZlxuICBhcmdzLmNhbGxiYWNrIGlzIGEgc3RyaW5nIHRoZW4gaXQgaXMgYXNzdW1lZCB0byBiZSBhXG4gIG1lc3NhZ2UgdHlwZSBrZXksIGluIHdoaWNoIGNhc2UgYSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIGJlXG4gIGFwcGxpZWQgd2hpY2ggcG9zdHMgZWFjaCByb3cgcmVzdWx0IHZpYTpcblxuICBwb3N0TWVzc2FnZSh7dHlwZTogdGhhdEtleVR5cGUsXG4gICAgICAgICAgICAgICByb3dOdW1iZXI6IDEtYmFzZWQtIyxcbiAgICAgICAgICAgICAgIHJvdzogdGhlUm93LFxuICAgICAgICAgICAgICAgY29sdW1uTmFtZXM6IGFuQXJyYXlcbiAgICAgICAgICAgICAgIH0pXG5cbiAgQW5kLCBhdCB0aGUgZW5kIG9mIHRoZSByZXN1bHQgc2V0ICh3aGV0aGVyIG9yIG5vdCBhbnkgcmVzdWx0IHJvd3NcbiAgd2VyZSBwcm9kdWNlZCksIGl0IHdpbGwgcG9zdCBhbiBpZGVudGljYWwgbWVzc2FnZSB3aXRoXG4gIChyb3c9dW5kZWZpbmVkLCByb3dOdW1iZXI9bnVsbCkgdG8gYWxlcnQgdGhlIGNhbGxlciB0aGFuIHRoZSByZXN1bHRcbiAgc2V0IGlzIGNvbXBsZXRlZC4gTm90ZSB0aGF0IGEgcm93IHZhbHVlIG9mIGBudWxsYCBpcyBhIGxlZ2FsIHJvd1xuICByZXN1bHQgZm9yIGNlcnRhaW4gYXJnLnJvd01vZGUgdmFsdWVzLlxuXG4gICAgKERlc2lnbiBub3RlOiB3ZSBkb24ndCB1c2UgKHJvdz11bmRlZmluZWQsIHJvd051bWJlcj11bmRlZmluZWQpIHRvXG4gICAgaW5kaWNhdGUgZW5kLW9mLXJlc3VsdHMgYmVjYXVzZSBmZXRjaGluZyB0aG9zZSB3b3VsZCBiZVxuICAgIGluZGlzdGluZ3Vpc2hhYmxlIGZyb20gZmV0Y2hpbmcgZnJvbSBhbiBlbXB0eSBvYmplY3QgdW5sZXNzIHRoZVxuICAgIGNsaWVudCB1c2VkIGhhc093blByb3BlcnR5KCkgKG9yIHNpbWlsYXIpIHRvIGRpc3Rpbmd1aXNoIFwibWlzc2luZ1xuICAgIHByb3BlcnR5XCIgZnJvbSBcInByb3BlcnR5IHdpdGggdGhlIHVuZGVmaW5lZCB2YWx1ZVwiLiAgU2ltaWxhcmx5LFxuICAgIGBudWxsYCBpcyBhIGxlZ2FsIHZhbHVlIGZvciBgcm93YCBpbiBzb21lIGNhc2UgLCB3aGVyZWFzIHRoZSBkYlxuICAgIGxheWVyIHdvbid0IGVtaXQgYSByZXN1bHQgdmFsdWUgb2YgYHVuZGVmaW5lZGAuKVxuXG4gIFRoZSBjYWxsYmFjayBwcm94eSBtdXN0IG5vdCByZWN1cnNlIGludG8gdGhpcyBpbnRlcmZhY2UuIEFuIGV4ZWMoKVxuICBjYWxsIHdpbGwgdGllIHVwIHRoZSBXb3JrZXIgdGhyZWFkLCBjYXVzaW5nIGFueSByZWN1cnNpb24gYXR0ZW1wdFxuICB0byB3YWl0IHVudGlsIHRoZSBmaXJzdCBleGVjKCkgaXMgY29tcGxldGVkLlxuXG4gIFRoZSByZXNwb25zZSBpcyB0aGUgaW5wdXQgb3B0aW9ucyBvYmplY3QgKG9yIGEgc3ludGhlc2l6ZWQgb25lIGlmXG4gIHBhc3NlZCBvbmx5IGEgc3RyaW5nKSwgbm90aW5nIHRoYXQgb3B0aW9ucy5yZXN1bHRSb3dzIGFuZFxuICBvcHRpb25zLmNvbHVtbk5hbWVzIG1heSBiZSBwb3B1bGF0ZWQgYnkgdGhlIGNhbGwgdG8gZGIuZXhlYygpLlxuXG4qL1xuZ2xvYmFsVGhpcy5zcWxpdGUzQXBpQm9vdHN0cmFwLmluaXRpYWxpemVycy5wdXNoKGZ1bmN0aW9uKHNxbGl0ZTMpe1xuc3FsaXRlMy5pbml0V29ya2VyMUFQSSA9IGZ1bmN0aW9uKCl7XG4gICd1c2Ugc3RyaWN0JztcbiAgY29uc3QgdG9zcyA9ICguLi5hcmdzKT0+e3Rocm93IG5ldyBFcnJvcihhcmdzLmpvaW4oJyAnKSl9O1xuICBpZighKGdsb2JhbFRoaXMuV29ya2VyR2xvYmFsU2NvcGUgaW5zdGFuY2VvZiBGdW5jdGlvbikpe1xuICAgIHRvc3MoXCJpbml0V29ya2VyMUFQSSgpIG11c3QgYmUgcnVuIGZyb20gYSBXb3JrZXIgdGhyZWFkLlwiKTtcbiAgfVxuICBjb25zdCBzZWxmID0gdGhpcy5zZWxmO1xuICBjb25zdCBzcWxpdGUzID0gdGhpcy5zcWxpdGUzIHx8IHRvc3MoXCJNaXNzaW5nIHRoaXMuc3FsaXRlMyBvYmplY3QuXCIpO1xuICBjb25zdCBEQiA9IHNxbGl0ZTMub28xLkRCO1xuXG4gIC8qKlxuICAgICBSZXR1cm5zIHRoZSBhcHAtd2lkZSB1bmlxdWUgSUQgZm9yIHRoZSBnaXZlbiBkYiwgY3JlYXRpbmcgb25lIGlmXG4gICAgIG5lZWRlZC5cbiAgKi9cbiAgY29uc3QgZ2V0RGJJZCA9IGZ1bmN0aW9uKGRiKXtcbiAgICBsZXQgaWQgPSB3U3RhdGUuaWRNYXAuZ2V0KGRiKTtcbiAgICBpZihpZCkgcmV0dXJuIGlkO1xuICAgIGlkID0gJ2RiIycrKCsrd1N0YXRlLmlkU2VxKSsnQCcrZGIucG9pbnRlcjtcbiAgICAvKiogXl5eIGNhbid0IHNpbXBseSB1c2UgZGIucG9pbnRlciBiL2MgY2xvc2luZy9vcGVuaW5nIG1heSByZS11c2VcbiAgICAgICAgdGhlIHNhbWUgYWRkcmVzcywgd2hpY2ggY291bGQgbWFwIHBlbmRpbmcgbWVzc2FnZXMgdG8gYSB3cm9uZ1xuICAgICAgICBpbnN0YW5jZS4gKi9cbiAgICB3U3RhdGUuaWRNYXAuc2V0KGRiLCBpZCk7XG4gICAgcmV0dXJuIGlkO1xuICB9O1xuXG4gIC8qKlxuICAgICBJbnRlcm5hbCBoZWxwZXIgZm9yIG1hbmFnaW5nIFdvcmtlci1sZXZlbCBzdGF0ZS5cbiAgKi9cbiAgY29uc3Qgd1N0YXRlID0ge1xuICAgIC8qKlxuICAgICAgIEVhY2ggb3BlbmVkIERCIGlzIGFkZGVkIHRvIHRoaXMuZGJMaXN0LCBhbmQgdGhlIGZpcnN0IGVudHJ5IGluXG4gICAgICAgdGhhdCBsaXN0IGlzIHRoZSBkZWZhdWx0IGRiLiBBcyBlYWNoIGRiIGlzIGNsb3NlZCwgaXRzIGVudHJ5IGlzXG4gICAgICAgcmVtb3ZlZCBmcm9tIHRoZSBsaXN0LlxuICAgICovXG4gICAgZGJMaXN0OiBbXSxcbiAgICAvKiogU2VxdWVuY2UgbnVtYmVyIG9mIGRiSWQgZ2VuZXJhdGlvbi4gKi9cbiAgICBpZFNlcTogMCxcbiAgICAvKiogTWFwIG9mIERCIGluc3RhbmNlcyB0byBkYklkLiAqL1xuICAgIGlkTWFwOiBuZXcgV2Vha01hcCxcbiAgICAvKiogVGVtcCBob2xkZXIgZm9yIFwidHJhbnNmZXJhYmxlXCIgcG9zdE1lc3NhZ2UoKSBzdGF0ZS4gKi9cbiAgICB4ZmVyOiBbXSxcbiAgICBvcGVuOiBmdW5jdGlvbihvcHQpe1xuICAgICAgY29uc3QgZGIgPSBuZXcgREIob3B0KTtcbiAgICAgIHRoaXMuZGJzW2dldERiSWQoZGIpXSA9IGRiO1xuICAgICAgaWYodGhpcy5kYkxpc3QuaW5kZXhPZihkYik8MCkgdGhpcy5kYkxpc3QucHVzaChkYik7XG4gICAgICByZXR1cm4gZGI7XG4gICAgfSxcbiAgICBjbG9zZTogZnVuY3Rpb24oZGIsYWxzb1VubGluayl7XG4gICAgICBpZihkYil7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmRic1tnZXREYklkKGRiKV07XG4gICAgICAgIGNvbnN0IGZpbGVuYW1lID0gZGIuZmlsZW5hbWU7XG4gICAgICAgIGNvbnN0IHBWZnMgPSBzcWxpdGUzLndhc20uc3FsaXRlM193YXNtX2RiX3ZmcyhkYi5wb2ludGVyLCAwKTtcbiAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgY29uc3QgZGROZHggPSB0aGlzLmRiTGlzdC5pbmRleE9mKGRiKTtcbiAgICAgICAgaWYoZGROZHg+PTApIHRoaXMuZGJMaXN0LnNwbGljZShkZE5keCwgMSk7XG4gICAgICAgIGlmKGFsc29VbmxpbmsgJiYgZmlsZW5hbWUgJiYgcFZmcyl7XG4gICAgICAgICAgc3FsaXRlMy53YXNtLnNxbGl0ZTNfd2FzbV92ZnNfdW5saW5rKHBWZnMsIGZpbGVuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICAgUG9zdHMgdGhlIGdpdmVuIHdvcmtlciBtZXNzYWdlIHZhbHVlLiBJZiB4ZmVyTGlzdCBpcyBwcm92aWRlZCxcbiAgICAgICBpdCBtdXN0IGJlIGFuIGFycmF5LCBpbiB3aGljaCBjYXNlIGEgY29weSBvZiBpdCBwYXNzZWQgYXNcbiAgICAgICBwb3N0TWVzc2FnZSgpJ3Mgc2Vjb25kIGFyZ3VtZW50IGFuZCB4ZmVyTGlzdC5sZW5ndGggaXMgc2V0IHRvXG4gICAgICAgMC5cbiAgICAqL1xuICAgIHBvc3Q6IGZ1bmN0aW9uKG1zZyx4ZmVyTGlzdCl7XG4gICAgICBpZih4ZmVyTGlzdCAmJiB4ZmVyTGlzdC5sZW5ndGgpe1xuICAgICAgICBnbG9iYWxUaGlzLnBvc3RNZXNzYWdlKCBtc2csIEFycmF5LmZyb20oeGZlckxpc3QpICk7XG4gICAgICAgIHhmZXJMaXN0Lmxlbmd0aCA9IDA7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgZ2xvYmFsVGhpcy5wb3N0TWVzc2FnZShtc2cpO1xuICAgICAgfVxuICAgIH0sXG4gICAgLyoqIE1hcCBvZiBEQiBJRHMgdG8gREJzLiAqL1xuICAgIGRiczogT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAvKiogRmV0Y2ggdGhlIERCIGZvciB0aGUgZ2l2ZW4gaWQuIFRocm93IGlmIHJlcXVpcmU9dHJ1ZSBhbmQgdGhlXG4gICAgICAgIGlkIGlzIG5vdCB2YWxpZCwgZWxzZSByZXR1cm4gdGhlIGRiIG9yIHVuZGVmaW5lZC4gKi9cbiAgICBnZXREYjogZnVuY3Rpb24oaWQscmVxdWlyZT10cnVlKXtcbiAgICAgIHJldHVybiB0aGlzLmRic1tpZF1cbiAgICAgICAgfHwgKHJlcXVpcmUgPyB0b3NzKFwiVW5rbm93biAob3IgY2xvc2VkKSBEQiBJRDpcIixpZCkgOiB1bmRlZmluZWQpO1xuICAgIH1cbiAgfTtcblxuICAvKiogVGhyb3dzIGlmIHRoZSBnaXZlbiBkYiBpcyBmYWxzeSBvciBub3Qgb3BlbmVkLCBlbHNlIHJldHVybnMgaXRzXG4gICAgICBhcmd1bWVudC4gKi9cbiAgY29uc3QgYWZmaXJtRGJPcGVuID0gZnVuY3Rpb24oZGIgPSB3U3RhdGUuZGJMaXN0WzBdKXtcbiAgICByZXR1cm4gKGRiICYmIGRiLnBvaW50ZXIpID8gZGIgOiB0b3NzKFwiREIgaXMgbm90IG9wZW5lZC5cIik7XG4gIH07XG5cbiAgLyoqIEV4dHJhY3QgZGJJZCBmcm9tIHRoZSBnaXZlbiBtZXNzYWdlIHBheWxvYWQuICovXG4gIGNvbnN0IGdldE1zZ0RiID0gZnVuY3Rpb24obXNnRGF0YSxhZmZpcm1FeGlzdHM9dHJ1ZSl7XG4gICAgY29uc3QgZGIgPSB3U3RhdGUuZ2V0RGIobXNnRGF0YS5kYklkLGZhbHNlKSB8fCB3U3RhdGUuZGJMaXN0WzBdO1xuICAgIHJldHVybiBhZmZpcm1FeGlzdHMgPyBhZmZpcm1EYk9wZW4oZGIpIDogZGI7XG4gIH07XG5cbiAgY29uc3QgZ2V0RGVmYXVsdERiSWQgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiB3U3RhdGUuZGJMaXN0WzBdICYmIGdldERiSWQod1N0YXRlLmRiTGlzdFswXSk7XG4gIH07XG5cbiAgY29uc3QgZ3Vlc3NWZnMgPSBmdW5jdGlvbihmaWxlbmFtZSl7XG4gICAgY29uc3QgbSA9IC9eZmlsZTouKyh2ZnM9KFxcdyspKS8uZXhlYyhmaWxlbmFtZSk7XG4gICAgcmV0dXJuIHNxbGl0ZTMuY2FwaS5zcWxpdGUzX3Zmc19maW5kKG0gPyBtWzJdIDogMCk7XG4gIH07XG5cbiAgY29uc3QgaXNTcGVjaWFsRGJGaWxlbmFtZSA9IChuKT0+e1xuICAgIHJldHVybiBcIlwiPT09biB8fCAnOic9PT1uWzBdO1xuICB9O1xuXG4gIC8qKlxuICAgICBBIGxldmVsIG9mIFwib3JnYW5pemF0aW9uYWwgYWJzdHJhY3Rpb25cIiBmb3IgdGhlIFdvcmtlcjFcbiAgICAgQVBJLiBFYWNoIG1ldGhvZCBpbiB0aGlzIG9iamVjdCBtdXN0IG1hcCBkaXJlY3RseSB0byBhIFdvcmtlcjFcbiAgICAgbWVzc2FnZSB0eXBlIGtleS4gVGhlIG9ubWVzc2FnZSgpIGRpc3BhdGNoZXIgYXR0ZW1wdHMgdG9cbiAgICAgZGlzcGF0Y2ggYWxsIGluYm91bmQgbWVzc2FnZXMgdG8gYSBtZXRob2Qgb2YgdGhpcyBvYmplY3QsXG4gICAgIHBhc3NpbmcgaXQgdGhlIGV2ZW50LmRhdGEgcGFydCBvZiB0aGUgaW5ib3VuZCBldmVudCBvYmplY3QuIEFsbFxuICAgICBtZXRob2RzIG11c3QgcmV0dXJuIGEgcGxhaW4gT2JqZWN0IGNvbnRhaW5pbmcgYW55IHJlc3VsdFxuICAgICBzdGF0ZSwgd2hpY2ggdGhlIGRpc3BhdGNoZXIgbWF5IGFtZW5kLiBBbGwgbWV0aG9kcyBtdXN0IHRocm93XG4gICAgIG9uIGVycm9yLlxuICAqL1xuICBjb25zdCB3TXNnSGFuZGxlciA9IHtcbiAgICBvcGVuOiBmdW5jdGlvbihldil7XG4gICAgICBjb25zdCBvYXJncyA9IE9iamVjdC5jcmVhdGUobnVsbCksIGFyZ3MgPSAoZXYuYXJncyB8fCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgIGlmKGFyZ3Muc2ltdWxhdGVFcnJvcil7IC8vIHVuZG9jdW1lbnRlZCBpbnRlcm5hbCB0ZXN0aW5nIG9wdGlvblxuICAgICAgICB0b3NzKFwiVGhyb3dpbmcgYmVjYXVzZSBvZiBzaW11bGF0ZUVycm9yIGZsYWcuXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgbGV0IGJ5dGVBcnJheSwgcFZmcztcbiAgICAgIG9hcmdzLnZmcyA9IGFyZ3MudmZzO1xuICAgICAgaWYoaXNTcGVjaWFsRGJGaWxlbmFtZShhcmdzLmZpbGVuYW1lKSl7XG4gICAgICAgIG9hcmdzLmZpbGVuYW1lID0gYXJncy5maWxlbmFtZSB8fCBcIlwiO1xuICAgICAgfWVsc2V7XG4gICAgICAgIG9hcmdzLmZpbGVuYW1lID0gYXJncy5maWxlbmFtZTtcbiAgICAgICAgYnl0ZUFycmF5ID0gYXJncy5ieXRlQXJyYXk7XG4gICAgICAgIGlmKGJ5dGVBcnJheSkgcFZmcyA9IGd1ZXNzVmZzKGFyZ3MuZmlsZW5hbWUpO1xuICAgICAgfVxuICAgICAgaWYocFZmcyl7XG4gICAgICAgIC8qIDIwMjItMTEtMDI6IHRoaXMgZmVhdHVyZSBpcyBhcy15ZXQgdW50ZXN0ZWQgZXhjZXB0IHRoYXRcbiAgICAgICAgICAgc3FsaXRlM193YXNtX3Zmc19jcmVhdGVfZmlsZSgpIGhhcyBiZWVuIHRlc3RlZCBmcm9tIHRoZVxuICAgICAgICAgICBicm93c2VyIGRldiBjb25zb2xlLiAqL1xuICAgICAgICBsZXQgcE1lbTtcbiAgICAgICAgdHJ5e1xuICAgICAgICAgIHBNZW0gPSBzcWxpdGUzLndhc20uYWxsb2NGcm9tVHlwZWRBcnJheShieXRlQXJyYXkpO1xuICAgICAgICAgIGNvbnN0IHJjID0gc3FsaXRlMy53YXNtLnNxbGl0ZTNfd2FzbV92ZnNfY3JlYXRlX2ZpbGUoXG4gICAgICAgICAgICBwVmZzLCBvYXJncy5maWxlbmFtZSwgcE1lbSwgYnl0ZUFycmF5LmJ5dGVMZW5ndGhcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmKHJjKSBzcWxpdGUzLlNRTGl0ZTNFcnJvci50b3NzKHJjKTtcbiAgICAgICAgfWNhdGNoKGUpe1xuICAgICAgICAgIHRocm93IG5ldyBzcWxpdGUzLlNRTGl0ZTNFcnJvcihcbiAgICAgICAgICAgIGUubmFtZSsnIGNyZWF0aW5nICcrYXJncy5maWxlbmFtZStcIjogXCIrZS5tZXNzYWdlLCB7XG4gICAgICAgICAgICAgIGNhdXNlOiBlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfWZpbmFsbHl7XG4gICAgICAgICAgaWYocE1lbSkgc3FsaXRlMy53YXNtLmRlYWxsb2MocE1lbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGRiID0gd1N0YXRlLm9wZW4ob2FyZ3MpO1xuICAgICAgcmMuZmlsZW5hbWUgPSBkYi5maWxlbmFtZTtcbiAgICAgIHJjLnBlcnNpc3RlbnQgPSAhIXNxbGl0ZTMuY2FwaS5zcWxpdGUzX2pzX2RiX3VzZXNfdmZzKGRiLnBvaW50ZXIsIFwib3Bmc1wiKTtcbiAgICAgIHJjLmRiSWQgPSBnZXREYklkKGRiKTtcbiAgICAgIHJjLnZmcyA9IGRiLmRiVmZzTmFtZSgpO1xuICAgICAgcmV0dXJuIHJjO1xuICAgIH0sXG5cbiAgICBjbG9zZTogZnVuY3Rpb24oZXYpe1xuICAgICAgY29uc3QgZGIgPSBnZXRNc2dEYihldixmYWxzZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgZmlsZW5hbWU6IGRiICYmIGRiLmZpbGVuYW1lXG4gICAgICB9O1xuICAgICAgaWYoZGIpe1xuICAgICAgICBjb25zdCBkb1VubGluayA9ICgoZXYuYXJncyAmJiAnb2JqZWN0Jz09PXR5cGVvZiBldi5hcmdzKVxuICAgICAgICAgICAgICAgICAgICAgICAgID8gISFldi5hcmdzLnVubGluayA6IGZhbHNlKTtcbiAgICAgICAgd1N0YXRlLmNsb3NlKGRiLCBkb1VubGluayk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSxcblxuICAgIGV4ZWM6IGZ1bmN0aW9uKGV2KXtcbiAgICAgIGNvbnN0IHJjID0gKFxuICAgICAgICAnc3RyaW5nJz09PXR5cGVvZiBldi5hcmdzXG4gICAgICApID8ge3NxbDogZXYuYXJnc30gOiAoZXYuYXJncyB8fCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgIGlmKCdzdG10Jz09PXJjLnJvd01vZGUpe1xuICAgICAgICB0b3NzKFwiSW52YWxpZCByb3dNb2RlIGZvciAnZXhlYyc6IHN0bXQgbW9kZVwiLFxuICAgICAgICAgICAgIFwiZG9lcyBub3Qgd29yayBpbiB0aGUgV29ya2VyIEFQSS5cIik7XG4gICAgICB9ZWxzZSBpZighcmMuc3FsKXtcbiAgICAgICAgdG9zcyhcIidleGVjJyByZXF1aXJlcyBpbnB1dCBTUUwuXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgZGIgPSBnZXRNc2dEYihldik7XG4gICAgICBpZihyYy5jYWxsYmFjayB8fCBBcnJheS5pc0FycmF5KHJjLnJlc3VsdFJvd3MpKXtcbiAgICAgICAgLy8gUGFydCBvZiBhIGNvcHktYXZvaWRhbmNlIG9wdGltaXphdGlvbiBmb3IgYmxvYnNcbiAgICAgICAgZGIuX2Jsb2JYZmVyID0gd1N0YXRlLnhmZXI7XG4gICAgICB9XG4gICAgICBjb25zdCB0aGVDYWxsYmFjayA9IHJjLmNhbGxiYWNrO1xuICAgICAgbGV0IHJvd051bWJlciA9IDA7XG4gICAgICBjb25zdCBoYWRDb2xOYW1lcyA9ICEhcmMuY29sdW1uTmFtZXM7XG4gICAgICBpZignc3RyaW5nJyA9PT0gdHlwZW9mIHRoZUNhbGxiYWNrKXtcbiAgICAgICAgaWYoIWhhZENvbE5hbWVzKSByYy5jb2x1bW5OYW1lcyA9IFtdO1xuICAgICAgICAvKiBUcmVhdCB0aGlzIGFzIGEgd29ya2VyIG1lc3NhZ2UgdHlwZSBhbmQgcG9zdCBlYWNoXG4gICAgICAgICAgIHJvdyBhcyBhIG1lc3NhZ2Ugb2YgdGhhdCB0eXBlLiAqL1xuICAgICAgICByYy5jYWxsYmFjayA9IGZ1bmN0aW9uKHJvdyxzdG10KXtcbiAgICAgICAgICB3U3RhdGUucG9zdCh7XG4gICAgICAgICAgICB0eXBlOiB0aGVDYWxsYmFjayxcbiAgICAgICAgICAgIGNvbHVtbk5hbWVzOiByYy5jb2x1bW5OYW1lcyxcbiAgICAgICAgICAgIHJvd051bWJlcjogKytyb3dOdW1iZXIsXG4gICAgICAgICAgICByb3c6IHJvd1xuICAgICAgICAgIH0sIHdTdGF0ZS54ZmVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgZGIuZXhlYyhyYyk7XG4gICAgICAgIGlmKHJjLmNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24pe1xuICAgICAgICAgIHJjLmNhbGxiYWNrID0gdGhlQ2FsbGJhY2s7XG4gICAgICAgICAgLyogUG9zdCBhIHNlbnRpbmVsIG1lc3NhZ2UgdG8gdGVsbCB0aGUgY2xpZW50IHRoYXQgdGhlIGVuZFxuICAgICAgICAgICAgIG9mIHRoZSByZXN1bHQgc2V0IGhhcyBiZWVuIHJlYWNoZWQgKHBvc3NpYmx5IHdpdGggemVyb1xuICAgICAgICAgICAgIHJvd3MpLiAqL1xuICAgICAgICAgIHdTdGF0ZS5wb3N0KHtcbiAgICAgICAgICAgIHR5cGU6IHRoZUNhbGxiYWNrLFxuICAgICAgICAgICAgY29sdW1uTmFtZXM6IHJjLmNvbHVtbk5hbWVzLFxuICAgICAgICAgICAgcm93TnVtYmVyOiBudWxsIC8qbnVsbCB0byBkaXN0aW5ndWlzaCBmcm9tIFwicHJvcGVydHkgbm90IHNldFwiKi8sXG4gICAgICAgICAgICByb3c6IHVuZGVmaW5lZCAvKnVuZGVmaW5lZCBiZWNhdXNlIG51bGwgaXMgYSBsZWdhbCByb3cgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHNvbWUgcm93VHlwZSB2YWx1ZXMsIGJ1dCB1bmRlZmluZWQgaXMgbm90Ki9cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfWZpbmFsbHl7XG4gICAgICAgIGRlbGV0ZSBkYi5fYmxvYlhmZXI7XG4gICAgICAgIGlmKHJjLmNhbGxiYWNrKSByYy5jYWxsYmFjayA9IHRoZUNhbGxiYWNrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJjO1xuICAgIH0vKmV4ZWMoKSovLFxuXG4gICAgJ2NvbmZpZy1nZXQnOiBmdW5jdGlvbigpe1xuICAgICAgY29uc3QgcmMgPSBPYmplY3QuY3JlYXRlKG51bGwpLCBzcmMgPSBzcWxpdGUzLmNvbmZpZztcbiAgICAgIFtcbiAgICAgICAgJ2JpZ0ludEVuYWJsZWQnXG4gICAgICBdLmZvckVhY2goZnVuY3Rpb24oayl7XG4gICAgICAgIGlmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc3JjLCBrKSkgcmNba10gPSBzcmNba107XG4gICAgICB9KTtcbiAgICAgIHJjLnZlcnNpb24gPSBzcWxpdGUzLnZlcnNpb247XG4gICAgICByYy52ZnNMaXN0ID0gc3FsaXRlMy5jYXBpLnNxbGl0ZTNfanNfdmZzX2xpc3QoKTtcbiAgICAgIHJjLm9wZnNFbmFibGVkID0gISFzcWxpdGUzLm9wZnM7XG4gICAgICByZXR1cm4gcmM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAgIEV4cG9ydHMgdGhlIGRhdGFiYXNlIHRvIGEgYnl0ZSBhcnJheSwgYXMgcGVyXG4gICAgICAgc3FsaXRlM19zZXJpYWxpemUoKS4gUmVzcG9uc2UgaXMgYW4gb2JqZWN0OlxuXG4gICAgICAge1xuICAgICAgICAgYnl0ZUFycmF5OiAgVWludDhBcnJheSAoZGIgZmlsZSBjb250ZW50cyksXG4gICAgICAgICBmaWxlbmFtZTogdGhlIGN1cnJlbnQgZGIgZmlsZW5hbWUsXG4gICAgICAgICBtaW1ldHlwZTogJ2FwcGxpY2F0aW9uL3gtc3FsaXRlMydcbiAgICAgICB9XG4gICAgKi9cbiAgICBleHBvcnQ6IGZ1bmN0aW9uKGV2KXtcbiAgICAgIGNvbnN0IGRiID0gZ2V0TXNnRGIoZXYpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIGJ5dGVBcnJheTogc3FsaXRlMy5jYXBpLnNxbGl0ZTNfanNfZGJfZXhwb3J0KGRiLnBvaW50ZXIpLFxuICAgICAgICBmaWxlbmFtZTogZGIuZmlsZW5hbWUsXG4gICAgICAgIG1pbWV0eXBlOiAnYXBwbGljYXRpb24veC1zcWxpdGUzJ1xuICAgICAgfTtcbiAgICAgIHdTdGF0ZS54ZmVyLnB1c2gocmVzcG9uc2UuYnl0ZUFycmF5LmJ1ZmZlcik7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfS8qZXhwb3J0KCkqLyxcblxuICAgIHRvc3M6IGZ1bmN0aW9uKGV2KXtcbiAgICAgIHRvc3MoXCJUZXN0aW5nIHdvcmtlciBleGNlcHRpb25cIik7XG4gICAgfSxcblxuICAgICdvcGZzLXRyZWUnOiBhc3luYyBmdW5jdGlvbihldil7XG4gICAgICBpZighc3FsaXRlMy5vcGZzKSB0b3NzKFwiT1BGUyBzdXBwb3J0IGlzIHVuYXZhaWxhYmxlLlwiKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3FsaXRlMy5vcGZzLnRyZWVMaXN0KCk7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICB9Lyp3TXNnSGFuZGxlciovO1xuXG4gIGdsb2JhbFRoaXMub25tZXNzYWdlID0gYXN5bmMgZnVuY3Rpb24oZXYpe1xuICAgIGV2ID0gZXYuZGF0YTtcbiAgICBsZXQgcmVzdWx0LCBkYklkID0gZXYuZGJJZCwgZXZUeXBlID0gZXYudHlwZTtcbiAgICBjb25zdCBhcnJpdmFsVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRyeSB7XG4gICAgICBpZih3TXNnSGFuZGxlci5oYXNPd25Qcm9wZXJ0eShldlR5cGUpICYmXG4gICAgICAgICB3TXNnSGFuZGxlcltldlR5cGVdIGluc3RhbmNlb2YgRnVuY3Rpb24pe1xuICAgICAgICByZXN1bHQgPSBhd2FpdCB3TXNnSGFuZGxlcltldlR5cGVdKGV2KTtcbiAgICAgIH1lbHNle1xuICAgICAgICB0b3NzKFwiVW5rbm93biBkYiB3b3JrZXIgbWVzc2FnZSB0eXBlOlwiLGV2LnR5cGUpO1xuICAgICAgfVxuICAgIH1jYXRjaChlcnIpe1xuICAgICAgZXZUeXBlID0gJ2Vycm9yJztcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgb3BlcmF0aW9uOiBldi50eXBlLFxuICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcbiAgICAgICAgZXJyb3JDbGFzczogZXJyLm5hbWUsXG4gICAgICAgIGlucHV0OiBldlxuICAgICAgfTtcbiAgICAgIGlmKGVyci5zdGFjayl7XG4gICAgICAgIHJlc3VsdC5zdGFjayA9ICgnc3RyaW5nJz09PXR5cGVvZiBlcnIuc3RhY2spXG4gICAgICAgICAgPyBlcnIuc3RhY2suc3BsaXQoL1xcblxccyovKSA6IGVyci5zdGFjaztcbiAgICAgIH1cbiAgICAgIGlmKDApIHNxbGl0ZTMuY29uZmlnLndhcm4oXCJXb3JrZXIgaXMgcHJvcGFnYXRpbmcgYW4gZXhjZXB0aW9uIHRvIG1haW4gdGhyZWFkLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlJlcG9ydGluZyBpdCBfaGVyZV8gZm9yIHRoZSBzdGFjayB0cmFjZTpcIixlcnIscmVzdWx0KTtcbiAgICB9XG4gICAgaWYoIWRiSWQpe1xuICAgICAgZGJJZCA9IHJlc3VsdC5kYklkLypmcm9tICdvcGVuJyBjbWQqL1xuICAgICAgICB8fCBnZXREZWZhdWx0RGJJZCgpO1xuICAgIH1cbiAgICAvLyBUaW1pbmcgaW5mbyBpcyBwcmltYXJpbHkgZm9yIHVzZSBpbiB0ZXN0aW5nIHRoaXMgQVBJLiBJdCdzIG5vdCBwYXJ0IG9mXG4gICAgLy8gdGhlIHB1YmxpYyBBUEkuIGFycml2YWxUaW1lID0gd2hlbiB0aGUgd29ya2VyIGdvdCB0aGUgbWVzc2FnZS5cbiAgICB3U3RhdGUucG9zdCh7XG4gICAgICB0eXBlOiBldlR5cGUsXG4gICAgICBkYklkOiBkYklkLFxuICAgICAgbWVzc2FnZUlkOiBldi5tZXNzYWdlSWQsXG4gICAgICB3b3JrZXJSZWNlaXZlZFRpbWU6IGFycml2YWxUaW1lLFxuICAgICAgd29ya2VyUmVzcG9uZFRpbWU6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgZGVwYXJ0dXJlVGltZTogZXYuZGVwYXJ0dXJlVGltZSxcbiAgICAgIC8vIFRPRE86IG1vdmUgdGhlIHRpbWluZyBiaXRzIGludG8uLi5cbiAgICAgIC8vdGltaW5nOntcbiAgICAgIC8vICBkZXBhcnR1cmU6IGV2LmRlcGFydHVyZVRpbWUsXG4gICAgICAvLyAgd29ya2VyUmVjZWl2ZWQ6IGFycml2YWxUaW1lLFxuICAgICAgLy8gIHdvcmtlclJlc3BvbnNlOiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIC8vfSxcbiAgICAgIHJlc3VsdDogcmVzdWx0XG4gICAgfSwgd1N0YXRlLnhmZXIpO1xuICB9O1xuICBnbG9iYWxUaGlzLnBvc3RNZXNzYWdlKHt0eXBlOidzcWxpdGUzLWFwaScscmVzdWx0Oid3b3JrZXIxLXJlYWR5J30pO1xufS5iaW5kKHtzZWxmLCBzcWxpdGUzfSk7XG59KTtcbi8qIEVORCBGSUxFOiBhcGkvc3FsaXRlMy1hcGktd29ya2VyMS5qcyAqL1xuLyogQkVHSU4gRklMRTogYXBpL3NxbGl0ZTMtdi1oZWxwZXIuanMgKi9cbi8qXG4qKiAyMDIyLTExLTMwXG4qKlxuKiogVGhlIGF1dGhvciBkaXNjbGFpbXMgY29weXJpZ2h0IHRvIHRoaXMgc291cmNlIGNvZGUuICBJbiBwbGFjZSBvZiBhXG4qKiBsZWdhbCBub3RpY2UsIGhlcmUgaXMgYSBibGVzc2luZzpcbioqXG4qKiAqICAgTWF5IHlvdSBkbyBnb29kIGFuZCBub3QgZXZpbC5cbioqICogICBNYXkgeW91IGZpbmQgZm9yZ2l2ZW5lc3MgZm9yIHlvdXJzZWxmIGFuZCBmb3JnaXZlIG90aGVycy5cbioqICogICBNYXkgeW91IHNoYXJlIGZyZWVseSwgbmV2ZXIgdGFraW5nIG1vcmUgdGhhbiB5b3UgZ2l2ZS5cbiovXG5cbi8qKlxuICAgVGhpcyBmaWxlIGluc3RhbGxzIHNxbGl0ZTMudmZzLCBhbmQgb2JqZWN0IHdoaWNoIGV4aXN0cyB0byBhc3Npc3RcbiAgIGluIHRoZSBjcmVhdGlvbiBvZiBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9ucyBvZiBzcWxpdGUzX3ZmcywgYWxvbmdcbiAgIHdpdGggaXRzIHZpcnR1YWwgdGFibGUgY291bnRlcnBhcnQsIHNxbGl0ZTMudnRhYi5cbiovXG4ndXNlIHN0cmljdCc7XG5nbG9iYWxUaGlzLnNxbGl0ZTNBcGlCb290c3RyYXAuaW5pdGlhbGl6ZXJzLnB1c2goZnVuY3Rpb24oc3FsaXRlMyl7XG4gIGNvbnN0IHdhc20gPSBzcWxpdGUzLndhc20sIGNhcGkgPSBzcWxpdGUzLmNhcGksIHRvc3MgPSBzcWxpdGUzLnV0aWwudG9zczM7XG4gIGNvbnN0IHZmcyA9IE9iamVjdC5jcmVhdGUobnVsbCksIHZ0YWIgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIGNvbnN0IFN0cnVjdEJpbmRlciA9IHNxbGl0ZTMuU3RydWN0QmluZGVyXG4gIC8qIHdlIHJlcXVpcmUgYSBsb2NhbCBhbGlhcyBiL2MgU3RydWN0QmluZGVyIGlzIHJlbW92ZWQgZnJvbSB0aGUgc3FsaXRlM1xuICAgICBvYmplY3QgZHVyaW5nIHRoZSBmaW5hbCBzdGVwcyBvZiB0aGUgQVBJIGNsZWFudXAuICovO1xuICBzcWxpdGUzLnZmcyA9IHZmcztcbiAgc3FsaXRlMy52dGFiID0gdnRhYjtcblxuICBjb25zdCBzaWkgPSBjYXBpLnNxbGl0ZTNfaW5kZXhfaW5mbztcbiAgLyoqXG4gICAgIElmIG4gaXMgPj0wIGFuZCBsZXNzIHRoYW4gdGhpcy4kbkNvbnN0cmFpbnQsIHRoaXMgZnVuY3Rpb25cbiAgICAgcmV0dXJucyBlaXRoZXIgYSBXQVNNIHBvaW50ZXIgdG8gdGhlIDAtYmFzZWQgbnRoIGVudHJ5IG9mXG4gICAgIHRoaXMuJGFDb25zdHJhaW50IChpZiBwYXNzZWQgYSB0cnV0aHkgMm5kIGFyZ3VtZW50KSBvciBhblxuICAgICBzcWxpdGUzX2luZGV4X2luZm8uc3FsaXRlM19pbmRleF9jb25zdHJhaW50IG9iamVjdCB3cmFwcGluZyB0aGF0XG4gICAgIGFkZHJlc3MgKGlmIHBhc3NlZCBhIGZhbHN5IHZhbHVlIG9yIG5vIDJuZCBhcmd1bWVudCkuIFJldHVybnMgYVxuICAgICBmYWxzeSB2YWx1ZSBpZiBuIGlzIG91dCBvZiByYW5nZS5cbiAgKi9cbiAgc2lpLnByb3RvdHlwZS5udGhDb25zdHJhaW50ID0gZnVuY3Rpb24obiwgYXNQdHI9ZmFsc2Upe1xuICAgIGlmKG48MCB8fCBuPj10aGlzLiRuQ29uc3RyYWludCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IHB0ciA9IHRoaXMuJGFDb25zdHJhaW50ICsgKFxuICAgICAgc2lpLnNxbGl0ZTNfaW5kZXhfY29uc3RyYWludC5zdHJ1Y3RJbmZvLnNpemVvZiAqIG5cbiAgICApO1xuICAgIHJldHVybiBhc1B0ciA/IHB0ciA6IG5ldyBzaWkuc3FsaXRlM19pbmRleF9jb25zdHJhaW50KHB0cik7XG4gIH07XG5cbiAgLyoqXG4gICAgIFdvcmtzIGlkZW50aWNhbGx5IHRvIG50aENvbnN0cmFpbnQoKSBidXQgcmV0dXJucyBzdGF0ZSBmcm9tXG4gICAgIHRoaXMuJGFDb25zdHJhaW50VXNhZ2UsIHNvIHJldHVybnMgYW5cbiAgICAgc3FsaXRlM19pbmRleF9pbmZvLnNxbGl0ZTNfaW5kZXhfY29uc3RyYWludF91c2FnZSBpbnN0YW5jZVxuICAgICBpZiBwYXNzZWQgbm8gMm5kIGFyZ3VtZW50IG9yIGEgZmFsc3kgMm5kIGFyZ3VtZW50LlxuICAqL1xuICBzaWkucHJvdG90eXBlLm50aENvbnN0cmFpbnRVc2FnZSA9IGZ1bmN0aW9uKG4sIGFzUHRyPWZhbHNlKXtcbiAgICBpZihuPDAgfHwgbj49dGhpcy4kbkNvbnN0cmFpbnQpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBwdHIgPSB0aGlzLiRhQ29uc3RyYWludFVzYWdlICsgKFxuICAgICAgc2lpLnNxbGl0ZTNfaW5kZXhfY29uc3RyYWludF91c2FnZS5zdHJ1Y3RJbmZvLnNpemVvZiAqIG5cbiAgICApO1xuICAgIHJldHVybiBhc1B0ciA/IHB0ciA6IG5ldyBzaWkuc3FsaXRlM19pbmRleF9jb25zdHJhaW50X3VzYWdlKHB0cik7XG4gIH07XG5cbiAgLyoqXG4gICAgIElmIG4gaXMgPj0wIGFuZCBsZXNzIHRoYW4gdGhpcy4kbk9yZGVyQnksIHRoaXMgZnVuY3Rpb25cbiAgICAgcmV0dXJucyBlaXRoZXIgYSBXQVNNIHBvaW50ZXIgdG8gdGhlIDAtYmFzZWQgbnRoIGVudHJ5IG9mXG4gICAgIHRoaXMuJGFPcmRlckJ5IChpZiBwYXNzZWQgYSB0cnV0aHkgMm5kIGFyZ3VtZW50KSBvciBhblxuICAgICBzcWxpdGUzX2luZGV4X2luZm8uc3FsaXRlM19pbmRleF9vcmRlcmJ5IG9iamVjdCB3cmFwcGluZyB0aGF0XG4gICAgIGFkZHJlc3MgKGlmIHBhc3NlZCBhIGZhbHN5IHZhbHVlIG9yIG5vIDJuZCBhcmd1bWVudCkuIFJldHVybnMgYVxuICAgICBmYWxzeSB2YWx1ZSBpZiBuIGlzIG91dCBvZiByYW5nZS5cbiAgKi9cbiAgc2lpLnByb3RvdHlwZS5udGhPcmRlckJ5ID0gZnVuY3Rpb24obiwgYXNQdHI9ZmFsc2Upe1xuICAgIGlmKG48MCB8fCBuPj10aGlzLiRuT3JkZXJCeSkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IHB0ciA9IHRoaXMuJGFPcmRlckJ5ICsgKFxuICAgICAgc2lpLnNxbGl0ZTNfaW5kZXhfb3JkZXJieS5zdHJ1Y3RJbmZvLnNpemVvZiAqIG5cbiAgICApO1xuICAgIHJldHVybiBhc1B0ciA/IHB0ciA6IG5ldyBzaWkuc3FsaXRlM19pbmRleF9vcmRlcmJ5KHB0cik7XG4gIH07XG5cbiAgLyoqXG4gICAgIEluc3RhbGxzIGEgU3RydWN0QmluZGVyLWJvdW5kIGZ1bmN0aW9uIHBvaW50ZXIgbWVtYmVyIG9mIHRoZVxuICAgICBnaXZlbiBuYW1lIGFuZCBmdW5jdGlvbiBpbiB0aGUgZ2l2ZW4gU3RydWN0VHlwZSB0YXJnZXQgb2JqZWN0LlxuXG4gICAgIEl0IGNyZWF0ZXMgYSBXQVNNIHByb3h5IGZvciB0aGUgZ2l2ZW4gZnVuY3Rpb24gYW5kIGFycmFuZ2VzIGZvclxuICAgICB0aGF0IHByb3h5IHRvIGJlIGNsZWFuZWQgdXAgd2hlbiB0Z3QuZGlzcG9zZSgpIGlzIGNhbGxlZC4gVGhyb3dzXG4gICAgIG9uIHRoZSBzbGlnaHRlc3QgaGludCBvZiBlcnJvciwgZS5nLiB0Z3QgaXMtbm90LWEgU3RydWN0VHlwZSxcbiAgICAgbmFtZSBkb2VzIG5vdCBtYXAgdG8gYSBzdHJ1Y3QtYm91bmQgbWVtYmVyLCBldGMuXG5cbiAgICAgQXMgYSBzcGVjaWFsIGNhc2UsIGlmIHRoZSBnaXZlbiBmdW5jdGlvbiBpcyBhIHBvaW50ZXIsIHRoZW5cbiAgICAgYHdhc20uZnVuY3Rpb25FbnRyeSgpYCBpcyB1c2VkIHRvIHZhbGlkYXRlIHRoYXQgaXQgaXMgYSBrbm93blxuICAgICBmdW5jdGlvbi4gSWYgc28sIGl0IGlzIHVzZWQgYXMtaXMgd2l0aCBubyBleHRyYSBsZXZlbCBvZiBwcm94eWluZ1xuICAgICBvciBjbGVhbnVwLCBlbHNlIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24uIEl0IGlzIGxlZ2FsIHRvIHBhc3MgYVxuICAgICB2YWx1ZSBvZiAwLCBpbmRpY2F0aW5nIGEgTlVMTCBwb2ludGVyLCB3aXRoIHRoZSBjYXZlYXQgdGhhdCAwXG4gICAgIF9pc18gYSBsZWdhbCBmdW5jdGlvbiBwb2ludGVyIGluIFdBU00gYnV0IGl0IHdpbGwgbm90IGJlIGFjY2VwdGVkXG4gICAgIGFzIHN1Y2ggX2hlcmVfLiAoSnVzdGlmaWNhdGlvbjogdGhlIGZ1bmN0aW9uIGF0IGFkZHJlc3MgemVybyBtdXN0XG4gICAgIGJlIG9uZSB3aGljaCBpbml0aWFsbHkgY2FtZSBmcm9tIHRoZSBXQVNNIG1vZHVsZSwgbm90IGEgbWV0aG9kIHdlXG4gICAgIHdhbnQgdG8gYmluZCB0byBhIHZpcnR1YWwgdGFibGUgb3IgVkZTLilcblxuICAgICBUaGlzIGZ1bmN0aW9uIHJldHVybnMgYSBwcm94eSBmb3IgaXRzZWxmIHdoaWNoIGlzIGJvdW5kIHRvIHRndFxuICAgICBhbmQgdGFrZXMgMiBhcmdzIChuYW1lLGZ1bmMpLiBUaGF0IGZ1bmN0aW9uIHJldHVybnMgdGhlIHNhbWVcbiAgICAgdGhpbmcgYXMgdGhpcyBvbmUsIHBlcm1pdHRpbmcgY2FsbHMgdG8gYmUgY2hhaW5lZC5cblxuICAgICBJZiBjYWxsZWQgd2l0aCBvbmx5IDEgYXJnLCBpdCBoYXMgbm8gc2lkZSBlZmZlY3RzIGJ1dCByZXR1cm5zIGFcbiAgICAgZnVuYyB3aXRoIHRoZSBzYW1lIHNpZ25hdHVyZSBhcyBkZXNjcmliZWQgYWJvdmUuXG5cbiAgICAgQUNIVFVORzogYmVjYXVzZSB3ZSBjYW5ub3QgZ2VuZXJpY2FsbHkga25vdyBob3cgdG8gdHJhbnNmb3JtIEpTXG4gICAgIGV4Y2VwdGlvbnMgaW50byByZXN1bHQgY29kZXMsIHRoZSBpbnN0YWxsZWQgZnVuY3Rpb25zIGRvIG5vXG4gICAgIGF1dG9tYXRpYyBjYXRjaGluZyBvZiBleGNlcHRpb25zLiBJdCBpcyBjcml0aWNhbCwgdG8gYXZvaWQgXG4gICAgIHVuZGVmaW5lZCBiZWhhdmlvciBpbiB0aGUgQyBsYXllciwgdGhhdCBtZXRob2RzIG1hcHBlZCB2aWFcbiAgICAgdGhpcyBmdW5jdGlvbiBkbyBub3QgdGhyb3cuIFRoZSBleGNlcHRpb24sIGFzIGl0IHdlcmUsIHRvIHRoYXRcbiAgICAgcnVsZSBpcy4uLlxuXG4gICAgIElmIGFwcGx5QXJnY0NoZWNrIGlzIHRydWUgdGhlbiBlYWNoIEpTIGZ1bmN0aW9uIChhcyBvcHBvc2VkIHRvXG4gICAgIGZ1bmN0aW9uIHBvaW50ZXJzKSBnZXRzIHdyYXBwZWQgaW4gYSBwcm94eSB3aGljaCBhc3NlcnRzIHRoYXQgaXRcbiAgICAgaXMgcGFzc2VkIHRoZSBleHBlY3RlZCBudW1iZXIgb2YgYXJndW1lbnRzLCB0aHJvd2luZyBpZiB0aGVcbiAgICAgYXJndW1lbnQgY291bnQgZG9lcyBub3QgbWF0Y2ggZXhwZWN0YXRpb25zLiBUaGF0IGlzIG9ubHkgaW50ZW5kZWRcbiAgICAgZm9yIGRldi10aW1lIHVzYWdlIGZvciBzYW5pdHkgY2hlY2tpbmcsIGFuZCB3aWxsIGxlYXZlIHRoZSBDXG4gICAgIGVudmlyb25tZW50IGluIGFuIHVuZGVmaW5lZCBzdGF0ZS5cbiAgKi9cbiAgY29uc3QgaW5zdGFsbE1ldGhvZCA9IGZ1bmN0aW9uIGNhbGxlZShcbiAgICB0Z3QsIG5hbWUsIGZ1bmMsIGFwcGx5QXJnY0NoZWNrID0gY2FsbGVlLmluc3RhbGxNZXRob2RBcmdjQ2hlY2tcbiAgKXtcbiAgICBpZighKHRndCBpbnN0YW5jZW9mIFN0cnVjdEJpbmRlci5TdHJ1Y3RUeXBlKSl7XG4gICAgICB0b3NzKFwiVXNhZ2UgZXJyb3I6IHRhcmdldCBvYmplY3QgaXMtbm90LWEgU3RydWN0VHlwZS5cIik7XG4gICAgfWVsc2UgaWYoIShmdW5jIGluc3RhbmNlb2YgRnVuY3Rpb24pICYmICF3YXNtLmlzUHRyKGZ1bmMpKXtcbiAgICAgIHRvc3MoXCJVc2FnZSBlcnJyb3I6IGV4cGVjdGluZyBhIEZ1bmN0aW9uIG9yIFdBU00gcG9pbnRlciB0byBvbmUuXCIpO1xuICAgIH1cbiAgICBpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICByZXR1cm4gKG4sZik9PmNhbGxlZSh0Z3QsIG4sIGYsIGFwcGx5QXJnY0NoZWNrKTtcbiAgICB9XG4gICAgaWYoIWNhbGxlZS5hcmdjUHJveHkpe1xuICAgICAgY2FsbGVlLmFyZ2NQcm94eSA9IGZ1bmN0aW9uKHRndCwgZnVuY05hbWUsIGZ1bmMsc2lnKXtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3Mpe1xuICAgICAgICAgIGlmKGZ1bmMubGVuZ3RoIT09YXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICAgICAgICB0b3NzKFwiQXJndW1lbnQgbWlzbWF0Y2ggZm9yXCIsXG4gICAgICAgICAgICAgICAgIHRndC5zdHJ1Y3RJbmZvLm5hbWUrXCI6OlwiK2Z1bmNOYW1lXG4gICAgICAgICAgICAgICAgICtcIjogTmF0aXZlIHNpZ25hdHVyZSBpczpcIixzaWcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIC8qIEFuIG9uZGlzcG9zZSgpIGNhbGxiYWNrIGZvciB1c2Ugd2l0aFxuICAgICAgICAgU3RydWN0QmluZGVyLWNyZWF0ZWQgdHlwZXMuICovXG4gICAgICBjYWxsZWUucmVtb3ZlRnVuY0xpc3QgPSBmdW5jdGlvbigpe1xuICAgICAgICBpZih0aGlzLm9uZGlzcG9zZS5fX3JlbW92ZUZ1bmNMaXN0KXtcbiAgICAgICAgICB0aGlzLm9uZGlzcG9zZS5fX3JlbW92ZUZ1bmNMaXN0LmZvckVhY2goXG4gICAgICAgICAgICAodixuZHgpPT57XG4gICAgICAgICAgICAgIGlmKCdudW1iZXInPT09dHlwZW9mIHYpe1xuICAgICAgICAgICAgICAgIHRyeXt3YXNtLnVuaW5zdGFsbEZ1bmN0aW9uKHYpfVxuICAgICAgICAgICAgICAgIGNhdGNoKGUpey8qaWdub3JlKi99XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLyogZWxzZSBpdCdzIGEgZGVzY3JpcHRpdmUgbGFiZWwgZm9yIHRoZSBuZXh0IG51bWJlciBpblxuICAgICAgICAgICAgICAgICB0aGUgbGlzdC4gKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLm9uZGlzcG9zZS5fX3JlbW92ZUZ1bmNMaXN0O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0vKnN0YXRpYyBpbml0Ki9cbiAgICBjb25zdCBzaWdOID0gdGd0Lm1lbWJlclNpZ25hdHVyZShuYW1lKTtcbiAgICBpZihzaWdOLmxlbmd0aDwyKXtcbiAgICAgIHRvc3MoXCJNZW1iZXJcIixuYW1lLFwiZG9lcyBub3QgaGF2ZSBhIGZ1bmN0aW9uIHBvaW50ZXIgc2lnbmF0dXJlOlwiLHNpZ04pO1xuICAgIH1cbiAgICBjb25zdCBtZW1LZXkgPSB0Z3QubWVtYmVyS2V5KG5hbWUpO1xuICAgIGNvbnN0IGZQcm94eSA9IChhcHBseUFyZ2NDaGVjayAmJiAhd2FzbS5pc1B0cihmdW5jKSlcbiAgICAvKiogVGhpcyBtaWRkbGUtbWFuIHByb3h5IGlzIG9ubHkgZm9yIHVzZSBkdXJpbmcgZGV2ZWxvcG1lbnQsIHRvXG4gICAgICAgIGNvbmZpcm0gdGhhdCB3ZSBhbHdheXMgcGFzcyB0aGUgcHJvcGVyIG51bWJlciBvZlxuICAgICAgICBhcmd1bWVudHMuIFdlIGtub3cgdGhhdCB0aGUgQy1sZXZlbCBjb2RlIHdpbGwgYWx3YXlzIHVzZSB0aGVcbiAgICAgICAgY29ycmVjdCBhcmd1bWVudCBjb3VudC4gKi9cbiAgICAgICAgICA/IGNhbGxlZS5hcmdjUHJveHkodGd0LCBtZW1LZXksIGZ1bmMsIHNpZ04pXG4gICAgICAgICAgOiBmdW5jO1xuICAgIGlmKHdhc20uaXNQdHIoZlByb3h5KSl7XG4gICAgICBpZihmUHJveHkgJiYgIXdhc20uZnVuY3Rpb25FbnRyeShmUHJveHkpKXtcbiAgICAgICAgdG9zcyhcIlBvaW50ZXJcIixmUHJveHksXCJpcyBub3QgYSBXQVNNIGZ1bmN0aW9uIHRhYmxlIGVudHJ5LlwiKTtcbiAgICAgIH1cbiAgICAgIHRndFttZW1LZXldID0gZlByb3h5O1xuICAgIH1lbHNle1xuICAgICAgY29uc3QgcEZ1bmMgPSB3YXNtLmluc3RhbGxGdW5jdGlvbihmUHJveHksIHRndC5tZW1iZXJTaWduYXR1cmUobmFtZSwgdHJ1ZSkpO1xuICAgICAgdGd0W21lbUtleV0gPSBwRnVuYztcbiAgICAgIGlmKCF0Z3Qub25kaXNwb3NlIHx8ICF0Z3Qub25kaXNwb3NlLl9fcmVtb3ZlRnVuY0xpc3Qpe1xuICAgICAgICB0Z3QuYWRkT25EaXNwb3NlKCdvbmRpc3Bvc2UuX19yZW1vdmVGdW5jTGlzdCBoYW5kbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZWUucmVtb3ZlRnVuY0xpc3QpO1xuICAgICAgICB0Z3Qub25kaXNwb3NlLl9fcmVtb3ZlRnVuY0xpc3QgPSBbXTtcbiAgICAgIH1cbiAgICAgIHRndC5vbmRpc3Bvc2UuX19yZW1vdmVGdW5jTGlzdC5wdXNoKG1lbUtleSwgcEZ1bmMpO1xuICAgIH1cbiAgICByZXR1cm4gKG4sZik9PmNhbGxlZSh0Z3QsIG4sIGYsIGFwcGx5QXJnY0NoZWNrKTtcbiAgfS8qaW5zdGFsbE1ldGhvZCovO1xuICBpbnN0YWxsTWV0aG9kLmluc3RhbGxNZXRob2RBcmdjQ2hlY2sgPSBmYWxzZTtcblxuICAvKipcbiAgICAgSW5zdGFsbHMgbWV0aG9kcyBpbnRvIHRoZSBnaXZlbiBTdHJ1Y3RUeXBlLXR5cGUgaW5zdGFuY2UuIEVhY2hcbiAgICAgZW50cnkgaW4gdGhlIGdpdmVuIG1ldGhvZHMgb2JqZWN0IG11c3QgbWFwIHRvIGEga25vd24gbWVtYmVyIG9mXG4gICAgIHRoZSBnaXZlbiBTdHJ1Y3RUeXBlLCBlbHNlIGFuIGV4Y2VwdGlvbiB3aWxsIGJlIHRyaWdnZXJlZC4gIFNlZVxuICAgICBpbnN0YWxsTWV0aG9kKCkgZm9yIG1vcmUgZGV0YWlscywgaW5jbHVkaW5nIHRoZSBzZW1hbnRpY3Mgb2YgdGhlXG4gICAgIDNyZCBhcmd1bWVudC5cblxuICAgICBBcyBhbiBleGNlcHRpb24gdG8gdGhlIGFib3ZlLCBpZiBhbnkgdHdvIG9yIG1vcmUgbWV0aG9kcyBpbiB0aGVcbiAgICAgMm5kIGFyZ3VtZW50IGFyZSB0aGUgZXhhY3Qgc2FtZSBmdW5jdGlvbiwgaW5zdGFsbE1ldGhvZCgpIGlzXG4gICAgIF9ub3RfIGNhbGxlZCBmb3IgdGhlIDJuZCBhbmQgc3Vic2VxdWVudCBpbnN0YW5jZXMsIGFuZCBpbnN0ZWFkXG4gICAgIHRob3NlIGluc3RhbmNlcyBnZXQgYXNzaWduZWQgdGhlIHNhbWUgbWV0aG9kIHBvaW50ZXIgd2hpY2ggaXNcbiAgICAgY3JlYXRlZCBmb3IgdGhlIGZpcnN0IGluc3RhbmNlLiBUaGlzIG9wdGltaXphdGlvbiBpcyBwcmltYXJpbHkgdG9cbiAgICAgYWNjb21tb2RhdGUgc3BlY2lhbCBoYW5kbGluZyBvZiBzcWxpdGUzX21vZHVsZTo6eENvbm5lY3QgYW5kXG4gICAgIHhDcmVhdGUgbWV0aG9kcy5cblxuICAgICBPbiBzdWNjZXNzLCByZXR1cm5zIGl0cyBmaXJzdCBhcmd1bWVudC4gVGhyb3dzIG9uIGVycm9yLlxuICAqL1xuICBjb25zdCBpbnN0YWxsTWV0aG9kcyA9IGZ1bmN0aW9uKFxuICAgIHN0cnVjdEluc3RhbmNlLCBtZXRob2RzLCBhcHBseUFyZ2NDaGVjayA9IGluc3RhbGxNZXRob2QuaW5zdGFsbE1ldGhvZEFyZ2NDaGVja1xuICApe1xuICAgIGNvbnN0IHNlZW4gPSBuZXcgTWFwIC8qIG1hcCBvZiA8RnVuY3Rpb24sIG1lbWJlck5hbWU+ICovO1xuICAgIGZvcihjb25zdCBrIG9mIE9iamVjdC5rZXlzKG1ldGhvZHMpKXtcbiAgICAgIGNvbnN0IG0gPSBtZXRob2RzW2tdO1xuICAgICAgY29uc3QgcHJpb3IgPSBzZWVuLmdldChtKTtcbiAgICAgIGlmKHByaW9yKXtcbiAgICAgICAgY29uc3QgbWtleSA9IHN0cnVjdEluc3RhbmNlLm1lbWJlcktleShrKTtcbiAgICAgICAgc3RydWN0SW5zdGFuY2VbbWtleV0gPSBzdHJ1Y3RJbnN0YW5jZVtzdHJ1Y3RJbnN0YW5jZS5tZW1iZXJLZXkocHJpb3IpXTtcbiAgICAgIH1lbHNle1xuICAgICAgICBpbnN0YWxsTWV0aG9kKHN0cnVjdEluc3RhbmNlLCBrLCBtLCBhcHBseUFyZ2NDaGVjayk7XG4gICAgICAgIHNlZW4uc2V0KG0sIGspO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RydWN0SW5zdGFuY2U7XG4gIH07XG5cbiAgLyoqXG4gICAgIEVxdWl2YWxlbnQgdG8gY2FsbGluZyBpbnN0YWxsTWV0aG9kKHRoaXMsLi4uYXJndW1lbnRzKSB3aXRoIGFcbiAgICAgZmlyc3QgYXJndW1lbnQgb2YgdGhpcyBvYmplY3QuIElmIGNhbGxlZCB3aXRoIDEgb3IgMiBhcmd1bWVudHNcbiAgICAgYW5kIHRoZSBmaXJzdCBpcyBhbiBvYmplY3QsIGl0J3MgaW5zdGVhZCBlcXVpdmFsZW50IHRvIGNhbGxpbmdcbiAgICAgaW5zdGFsbE1ldGhvZHModGhpcywuLi5hcmd1bWVudHMpLlxuICAqL1xuICBTdHJ1Y3RCaW5kZXIuU3RydWN0VHlwZS5wcm90b3R5cGUuaW5zdGFsbE1ldGhvZCA9IGZ1bmN0aW9uIGNhbGxlZShcbiAgICBuYW1lLCBmdW5jLCBhcHBseUFyZ2NDaGVjayA9IGluc3RhbGxNZXRob2QuaW5zdGFsbE1ldGhvZEFyZ2NDaGVja1xuICApe1xuICAgIHJldHVybiAoYXJndW1lbnRzLmxlbmd0aCA8IDMgJiYgbmFtZSAmJiAnb2JqZWN0Jz09PXR5cGVvZiBuYW1lKVxuICAgICAgPyBpbnN0YWxsTWV0aG9kcyh0aGlzLCAuLi5hcmd1bWVudHMpXG4gICAgICA6IGluc3RhbGxNZXRob2QodGhpcywgLi4uYXJndW1lbnRzKTtcbiAgfTtcblxuICAvKipcbiAgICAgRXF1aXZhbGVudCB0byBjYWxsaW5nIGluc3RhbGxNZXRob2RzKCkgd2l0aCBhIGZpcnN0IGFyZ3VtZW50XG4gICAgIG9mIHRoaXMgb2JqZWN0LlxuICAqL1xuICBTdHJ1Y3RCaW5kZXIuU3RydWN0VHlwZS5wcm90b3R5cGUuaW5zdGFsbE1ldGhvZHMgPSBmdW5jdGlvbihcbiAgICBtZXRob2RzLCBhcHBseUFyZ2NDaGVjayA9IGluc3RhbGxNZXRob2QuaW5zdGFsbE1ldGhvZEFyZ2NDaGVja1xuICApe1xuICAgIHJldHVybiBpbnN0YWxsTWV0aG9kcyh0aGlzLCBtZXRob2RzLCBhcHBseUFyZ2NDaGVjayk7XG4gIH07XG5cbiAgLyoqXG4gICAgIFVzZXMgc3FsaXRlM192ZnNfcmVnaXN0ZXIoKSB0byByZWdpc3RlciB0aGlzXG4gICAgIHNxbGl0ZTMuY2FwaS5zcWxpdGUzX3Zmcy4gVGhpcyBvYmplY3QgbXVzdCBoYXZlIGFscmVhZHkgYmVlblxuICAgICBmaWxsZWQgb3V0IHByb3Blcmx5LiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgdHJ1dGh5LCB0aGUgVkZTIGlzXG4gICAgIHJlZ2lzdGVyZWQgYXMgdGhlIGRlZmF1bHQgVkZTLCBlbHNlIGl0IGlzIG5vdC5cblxuICAgICBPbiBzdWNjZXNzLCByZXR1cm5zIHRoaXMgb2JqZWN0LiBUaHJvd3Mgb24gZXJyb3IuXG4gICovXG4gIGNhcGkuc3FsaXRlM192ZnMucHJvdG90eXBlLnJlZ2lzdGVyVmZzID0gZnVuY3Rpb24oYXNEZWZhdWx0PWZhbHNlKXtcbiAgICBpZighKHRoaXMgaW5zdGFuY2VvZiBzcWxpdGUzLmNhcGkuc3FsaXRlM192ZnMpKXtcbiAgICAgIHRvc3MoXCJFeHBlY3RpbmcgYSBzcWxpdGUzX3Zmcy10eXBlIGFyZ3VtZW50LlwiKTtcbiAgICB9XG4gICAgY29uc3QgcmMgPSBjYXBpLnNxbGl0ZTNfdmZzX3JlZ2lzdGVyKHRoaXMsIGFzRGVmYXVsdCA/IDEgOiAwKTtcbiAgICBpZihyYyl7XG4gICAgICB0b3NzKFwic3FsaXRlM192ZnNfcmVnaXN0ZXIoXCIsdGhpcyxcIikgZmFpbGVkIHdpdGggcmNcIixyYyk7XG4gICAgfVxuICAgIGlmKHRoaXMucG9pbnRlciAhPT0gY2FwaS5zcWxpdGUzX3Zmc19maW5kKHRoaXMuJHpOYW1lKSl7XG4gICAgICB0b3NzKFwiQlVHOiBzcWxpdGUzX3Zmc19maW5kKHZmcy4kek5hbWUpIGZhaWxlZCBmb3IganVzdC1pbnN0YWxsZWQgVkZTXCIsXG4gICAgICAgICAgIHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICAgQSB3cmFwcGVyIGZvciBpbnN0YWxsTWV0aG9kcygpIG9yIHJlZ2lzdGVyVmZzKCkgdG8gcmVkdWNlXG4gICAgIGluc3RhbGxhdGlvbiBvZiBhIFZGUyBhbmQvb3IgaXRzIEkvTyBtZXRob2RzIHRvIGEgc2luZ2xlXG4gICAgIGNhbGwuXG5cbiAgICAgQWNjZXB0cyBhbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIHByb3BlcnRpZXMgXCJpb1wiIGFuZC9vclxuICAgICBcInZmc1wiLCBlYWNoIG9mIHdoaWNoIGlzIGl0c2VsZiBhbiBvYmplY3Qgd2l0aCBmb2xsb3dpbmcgcHJvcGVydGllczpcblxuICAgICAtIGBzdHJ1Y3RgOiBhbiBzcWxpdGUzLlN0cnVjdFR5cGUtdHlwZSBzdHJ1Y3QuIFRoaXMgbXVzdCBiZSBhXG4gICAgICAgcG9wdWxhdGVkIChleGNlcHQgZm9yIHRoZSBtZXRob2RzKSBvYmplY3Qgb2YgdHlwZVxuICAgICAgIHNxbGl0ZTNfaW9fbWV0aG9kcyAoZm9yIHRoZSBcImlvXCIgZW50cnkpIG9yIHNxbGl0ZTNfdmZzIChmb3IgdGhlXG4gICAgICAgXCJ2ZnNcIiBlbnRyeSkuXG5cbiAgICAgLSBgbWV0aG9kc2A6IGFuIG9iamVjdCBtYXBwaW5nIHNxbGl0ZTNfaW9fbWV0aG9kcyBtZXRob2QgbmFtZXNcbiAgICAgICAoZS5nLiAneENsb3NlJykgdG8gSlMgaW1wbGVtZW50YXRpb25zIG9mIHRob3NlIG1ldGhvZHMuIFRoZSBKU1xuICAgICAgIGltcGxlbWVudGF0aW9ucyBtdXN0IGJlIGNhbGwtY29tcGF0aWJsZSB3aXRoIHRoZWlyIG5hdGl2ZVxuICAgICAgIGNvdW50ZXJwYXJ0cy5cblxuICAgICBGb3IgZWFjaCBvZiB0aG9zZSBvYmplY3QsIHRoaXMgZnVuY3Rpb24gcGFzc2VzIGl0cyAoYHN0cnVjdGAsXG4gICAgIGBtZXRob2RzYCwgKG9wdGlvbmFsKSBgYXBwbHlBcmdjQ2hlY2tgKSBwcm9wZXJ0aWVzIHRvXG4gICAgIGluc3RhbGxNZXRob2RzKCkuXG5cbiAgICAgSWYgdGhlIGB2ZnNgIGVudHJ5IGlzIHNldCB0aGVuOlxuXG4gICAgIC0gSXRzIGBzdHJ1Y3RgIHByb3BlcnR5J3MgcmVnaXN0ZXJWZnMoKSBpcyBjYWxsZWQuIFRoZVxuICAgICAgIGB2ZnNgIGVudHJ5IG1heSBvcHRpb25hbGx5IGhhdmUgYW4gYGFzRGVmYXVsdGAgcHJvcGVydHksIHdoaWNoXG4gICAgICAgZ2V0cyBwYXNzZWQgYXMgdGhlIGFyZ3VtZW50IHRvIHJlZ2lzdGVyVmZzKCkuXG5cbiAgICAgLSBJZiBgc3RydWN0LiR6TmFtZWAgaXMgZmFsc3kgYW5kIHRoZSBlbnRyeSBoYXMgYSBzdHJpbmctdHlwZVxuICAgICAgIGBuYW1lYCBwcm9wZXJ0eSwgYHN0cnVjdC4kek5hbWVgIGlzIHNldCB0byB0aGUgQy1zdHJpbmcgZm9ybSBvZlxuICAgICAgIHRoYXQgYG5hbWVgIHZhbHVlIGJlZm9yZSByZWdpc3RlclZmcygpIGlzIGNhbGxlZC5cblxuICAgICBPbiBzdWNjZXNzIHJldHVybnMgdGhpcyBvYmplY3QuIFRocm93cyBvbiBlcnJvci5cbiAgKi9cbiAgdmZzLmluc3RhbGxWZnMgPSBmdW5jdGlvbihvcHQpe1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgY29uc3QgcHJvcExpc3QgPSBbJ2lvJywndmZzJ107XG4gICAgZm9yKGNvbnN0IGtleSBvZiBwcm9wTGlzdCl7XG4gICAgICBjb25zdCBvID0gb3B0W2tleV07XG4gICAgICBpZihvKXtcbiAgICAgICAgKytjb3VudDtcbiAgICAgICAgaW5zdGFsbE1ldGhvZHMoby5zdHJ1Y3QsIG8ubWV0aG9kcywgISFvLmFwcGx5QXJnY0NoZWNrKTtcbiAgICAgICAgaWYoJ3Zmcyc9PT1rZXkpe1xuICAgICAgICAgIGlmKCFvLnN0cnVjdC4kek5hbWUgJiYgJ3N0cmluZyc9PT10eXBlb2Ygby5uYW1lKXtcbiAgICAgICAgICAgIG8uc3RydWN0LmFkZE9uRGlzcG9zZShcbiAgICAgICAgICAgICAgby5zdHJ1Y3QuJHpOYW1lID0gd2FzbS5hbGxvY0NTdHJpbmcoby5uYW1lKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgby5zdHJ1Y3QucmVnaXN0ZXJWZnMoISFvLmFzRGVmYXVsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYoIWNvdW50KSB0b3NzKFwiTWlzdXNlOiBpbnN0YWxsVmZzKCkgb3B0aW9ucyBvYmplY3QgcmVxdWlyZXMgYXQgbGVhc3RcIixcbiAgICAgICAgICAgICAgICAgICAgXCJvbmUgb2Y6XCIsIHByb3BMaXN0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICAgSW50ZXJuYWwgZmFjdG9yeSBmdW5jdGlvbiBmb3IgeFZ0YWIgYW5kIHhDdXJzb3IgaW1wbHMuXG4gICovXG4gIGNvbnN0IF9feFdyYXBGYWN0b3J5ID0gZnVuY3Rpb24obWV0aG9kTmFtZSxTdHJ1Y3RUeXBlKXtcbiAgICByZXR1cm4gZnVuY3Rpb24ocHRyLHJlbW92ZU1hcHBpbmc9ZmFsc2Upe1xuICAgICAgaWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpIHB0ciA9IG5ldyBTdHJ1Y3RUeXBlO1xuICAgICAgaWYocHRyIGluc3RhbmNlb2YgU3RydWN0VHlwZSl7XG4gICAgICAgIC8vVC5hc3NlcnQoIXRoaXMuaGFzKHB0ci5wb2ludGVyKSk7XG4gICAgICAgIHRoaXMuc2V0KHB0ci5wb2ludGVyLCBwdHIpO1xuICAgICAgICByZXR1cm4gcHRyO1xuICAgICAgfWVsc2UgaWYoIXdhc20uaXNQdHIocHRyKSl7XG4gICAgICAgIHNxbGl0ZTMuU1FMaXRlM0Vycm9yLnRvc3MoXCJJbnZhbGlkIGFyZ3VtZW50IHRvXCIsbWV0aG9kTmFtZStcIigpXCIpO1xuICAgICAgfVxuICAgICAgbGV0IHJjID0gdGhpcy5nZXQocHRyKTtcbiAgICAgIGlmKHJlbW92ZU1hcHBpbmcpIHRoaXMuZGVsZXRlKHB0cik7XG4gICAgICByZXR1cm4gcmM7XG4gICAgfS5iaW5kKG5ldyBNYXApO1xuICB9O1xuXG4gIC8qKlxuICAgICBBIGZhY3RvcnkgZnVuY3Rpb24gd2hpY2ggaW1wbGVtZW50cyBhIHNpbXBsZSBsaWZldGltZSBtYW5hZ2VyIGZvclxuICAgICBtYXBwaW5ncyBiZXR3ZWVuIEMgc3RydWN0IHBvaW50ZXJzIGFuZCB0aGVpciBKUy1sZXZlbCB3cmFwcGVycy5cbiAgICAgVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgdGhlIGxvZ2ljYWwgbmFtZSBvZiB0aGUgbWFuYWdlclxuICAgICAoZS5nLiAneFZ0YWInIG9yICd4Q3Vyc29yJyksIHdoaWNoIGlzIG9ubHkgdXNlZCBmb3IgZXJyb3JcbiAgICAgcmVwb3J0aW5nLiBUaGUgc2Vjb25kIG11c3QgYmUgdGhlIGNhcGkuWFlaIHN0cnVjdC10eXBlIHZhbHVlLFxuICAgICBlLmcuIGNhcGkuc3FsaXRlM192dGFiIG9yIGNhcGkuc3FsaXRlM192dGFiX2N1cnNvci5cblxuICAgICBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIDQgbWV0aG9kczogY3JlYXRlKCksIGdldCgpLCB1bmdldCgpLCBhbmRcbiAgICAgZGlzcG9zZSgpLCBwbHVzIGEgU3RydWN0VHlwZSBtZW1iZXIgd2l0aCB0aGUgdmFsdWUgb2YgdGhlIDJuZFxuICAgICBhcmd1bWVudC4gVGhlIG1ldGhvZHMgYXJlIGRvY3VtZW50ZWQgaW4gdGhlIGJvZHkgb2YgdGhpc1xuICAgICBmdW5jdGlvbi5cbiAgKi9cbiAgY29uc3QgU3RydWN0UHRyTWFwcGVyID0gZnVuY3Rpb24obmFtZSwgU3RydWN0VHlwZSl7XG4gICAgY29uc3QgX194V3JhcCA9IF9feFdyYXBGYWN0b3J5KG5hbWUsU3RydWN0VHlwZSk7XG4gICAgLyoqXG4gICAgICAgVGhpcyBvYmplY3QgaG91c2VzIGEgc21hbGwgQVBJIGZvciBtYW5hZ2luZyBtYXBwaW5ncyBvZiAoYFQqYClcbiAgICAgICB0byBTdHJ1Y3RUeXBlPFQ+IG9iamVjdHMsIHNwZWNpZmljYWxseSB3aXRoaW4gdGhlIGxpZmV0aW1lXG4gICAgICAgcmVxdWlyZW1lbnRzIG9mIHNxbGl0ZTNfbW9kdWxlIG1ldGhvZHMuXG4gICAgKi9cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLHtcbiAgICAgIC8qKiBUaGUgU3RydWN0VHlwZSBvYmplY3QgZm9yIHRoaXMgb2JqZWN0J3MgQVBJLiAqL1xuICAgICAgU3RydWN0VHlwZSxcbiAgICAgIC8qKlxuICAgICAgICAgQ3JlYXRlcyBhIG5ldyBTdHJ1Y3RUeXBlIG9iamVjdCwgd3JpdGVzIGl0cyBgcG9pbnRlcmBcbiAgICAgICAgIHZhbHVlIHRvIHRoZSBnaXZlbiBvdXRwdXQgcG9pbnRlciwgYW5kIHJldHVybnMgdGhhdFxuICAgICAgICAgb2JqZWN0LiBJdHMgaW50ZW5kZWQgdXNhZ2UgZGVwZW5kcyBvbiBTdHJ1Y3RUeXBlOlxuXG4gICAgICAgICBzcWxpdGUzX3Z0YWI6IHRvIGJlIGNhbGxlZCBmcm9tIHNxbGl0ZTNfbW9kdWxlOjp4Q29ubmVjdCgpXG4gICAgICAgICBvciB4Q3JlYXRlKCkgaW1wbGVtZW50YXRpb25zLlxuXG4gICAgICAgICBzcWxpdGUzX3Z0YWJfY3Vyc29yOiB0byBiZSBjYWxsZWQgZnJvbSB4T3BlbigpLlxuXG4gICAgICAgICBUaGlzIHdpbGwgdGhyb3cgaWYgYWxsb2NhdGlvbiBvZiB0aGUgU3RydWN0VHlwZSBpbnN0YW5jZVxuICAgICAgICAgZmFpbHMgb3IgaWYgcHBPdXQgaXMgbm90IGEgcG9pbnRlci10eXBlIHZhbHVlLlxuICAgICAgKi9cbiAgICAgIGNyZWF0ZTogKHBwT3V0KT0+e1xuICAgICAgICBjb25zdCByYyA9IF9feFdyYXAoKTtcbiAgICAgICAgd2FzbS5wb2tlUHRyKHBwT3V0LCByYy5wb2ludGVyKTtcbiAgICAgICAgcmV0dXJuIHJjO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICAgUmV0dXJucyB0aGUgU3RydWN0VHlwZSBvYmplY3QgcHJldmlvdXNseSBtYXBwZWQgdG8gdGhlXG4gICAgICAgICBnaXZlbiBwb2ludGVyIHVzaW5nIGNyZWF0ZSgpLiBJdHMgaW50ZW5kZWQgdXNhZ2UgZGVwZW5kc1xuICAgICAgICAgb24gU3RydWN0VHlwZTpcblxuICAgICAgICAgc3FsaXRlM192dGFiOiB0byBiZSBjYWxsZWQgZnJvbSBzcWxpdGUzX21vZHVsZSBtZXRob2RzIHdoaWNoXG4gICAgICAgICB0YWtlIGEgKHNxbGl0ZTNfdnRhYiopIHBvaW50ZXIgX2V4Y2VwdF8gZm9yXG4gICAgICAgICB4RGVzdHJveSgpL3hEaXNjb25uZWN0KCksIGluIHdoaWNoIGNhc2UgdW5nZXQoKSBvciBkaXNwb3NlKCkuXG5cbiAgICAgICAgIHNxbGl0ZTNfdnRhYl9jdXJzb3I6IHRvIGJlIGNhbGxlZCBmcm9tIGFueSBzcWxpdGUzX21vZHVsZSBtZXRob2RzXG4gICAgICAgICB3aGljaCB0YWtlIGEgYHNxbGl0ZTNfdnRhYl9jdXJzb3IqYCBhcmd1bWVudCBleGNlcHQgeENsb3NlKCksXG4gICAgICAgICBpbiB3aGljaCBjYXNlIHVzZSB1bmdldCgpIG9yIGRpc3Bvc2UoKS5cblxuICAgICAgICAgUnVsZSB0byByZW1lbWJlcjogX25ldmVyXyBjYWxsIGRpc3Bvc2UoKSBvbiBhbiBpbnN0YW5jZVxuICAgICAgICAgcmV0dXJuZWQgYnkgdGhpcyBmdW5jdGlvbi5cbiAgICAgICovXG4gICAgICBnZXQ6IChwQ09iaik9Pl9feFdyYXAocENPYmopLFxuICAgICAgLyoqXG4gICAgICAgICBJZGVudGljYWwgdG8gZ2V0KCkgYnV0IGFsc28gZGlzY29ubmVjdHMgdGhlIG1hcHBpbmcgYmV0d2VlbiB0aGVcbiAgICAgICAgIGdpdmVuIHBvaW50ZXIgYW5kIHRoZSByZXR1cm5lZCBTdHJ1Y3RUeXBlIG9iamVjdCwgc3VjaCB0aGF0XG4gICAgICAgICBmdXR1cmUgY2FsbHMgdG8gdGhpcyBmdW5jdGlvbiBvciBnZXQoKSB3aXRoIHRoZSBzYW1lIHBvaW50ZXJcbiAgICAgICAgIHdpbGwgcmV0dXJuIHRoZSB1bmRlZmluZWQgdmFsdWUuIEl0cyBpbnRlbmRlZCB1c2FnZSBkZXBlbmRzXG4gICAgICAgICBvbiBTdHJ1Y3RUeXBlOlxuXG4gICAgICAgICBzcWxpdGUzX3Z0YWI6IHRvIGJlIGNhbGxlZCBmcm9tIHNxbGl0ZTNfbW9kdWxlOjp4RGlzY29ubmVjdCgpIG9yXG4gICAgICAgICB4RGVzdHJveSgpIGltcGxlbWVudGF0aW9ucyBvciBpbiBlcnJvciBoYW5kbGluZyBvZiBhIGZhaWxlZFxuICAgICAgICAgeENyZWF0ZSgpIG9yIHhDb25uZWN0KCkuXG5cbiAgICAgICAgIHNxbGl0ZTNfdnRhYl9jdXJzb3I6IHRvIGJlIGNhbGxlZCBmcm9tIHhDbG9zZSgpIG9yIGR1cmluZ1xuICAgICAgICAgY2xlYW51cCBpbiBhIGZhaWxlZCB4T3BlbigpLlxuXG4gICAgICAgICBDYWxsaW5nIHRoaXMgbWV0aG9kIG9ibGlnYXRlcyB0aGUgY2FsbGVyIHRvIGNhbGwgZGlzcG9zZSgpIG9uXG4gICAgICAgICB0aGUgcmV0dXJuZWQgb2JqZWN0IHdoZW4gdGhleSdyZSBkb25lIHdpdGggaXQuXG4gICAgICAqL1xuICAgICAgdW5nZXQ6IChwQ09iaik9Pl9feFdyYXAocENPYmosdHJ1ZSksXG4gICAgICAvKipcbiAgICAgICAgIFdvcmtzIGxpa2UgdW5nZXQoKSBwbHVzIGl0IGNhbGxzIGRpc3Bvc2UoKSBvbiB0aGVcbiAgICAgICAgIFN0cnVjdFR5cGUgb2JqZWN0LlxuICAgICAgKi9cbiAgICAgIGRpc3Bvc2U6IChwQ09iaik9PntcbiAgICAgICAgY29uc3QgbyA9IF9feFdyYXAocENPYmosdHJ1ZSk7XG4gICAgICAgIGlmKG8pIG8uZGlzcG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgICBBIGxpZmV0aW1lLW1hbmFnZW1lbnQgb2JqZWN0IGZvciBtYXBwaW5nIGBzcWxpdGUzX3Z0YWIqYFxuICAgICBpbnN0YW5jZXMgaW4gc3FsaXRlM19tb2R1bGUgbWV0aG9kcyB0byBjYXBpLnNxbGl0ZTNfdnRhYlxuICAgICBvYmplY3RzLlxuXG4gICAgIFRoZSBBUEkgZG9jcyBhcmUgaW4gdGhlIEFQSS1pbnRlcm5hbCBTdHJ1Y3RQdHJNYXBwZXIoKS5cbiAgKi9cbiAgdnRhYi54VnRhYiA9IFN0cnVjdFB0ck1hcHBlcigneFZ0YWInLCBjYXBpLnNxbGl0ZTNfdnRhYik7XG5cbiAgLyoqXG4gICAgIEEgbGlmZXRpbWUtbWFuYWdlbWVudCBvYmplY3QgZm9yIG1hcHBpbmcgYHNxbGl0ZTNfdnRhYl9jdXJzb3IqYFxuICAgICBpbnN0YW5jZXMgaW4gc3FsaXRlM19tb2R1bGUgbWV0aG9kcyB0byBjYXBpLnNxbGl0ZTNfdnRhYl9jdXJzb3JcbiAgICAgb2JqZWN0cy5cblxuICAgICBUaGUgQVBJIGRvY3MgYXJlIGluIHRoZSBBUEktaW50ZXJuYWwgU3RydWN0UHRyTWFwcGVyKCkuXG4gICovXG4gIHZ0YWIueEN1cnNvciA9IFN0cnVjdFB0ck1hcHBlcigneEN1cnNvcicsIGNhcGkuc3FsaXRlM192dGFiX2N1cnNvcik7XG5cbiAgLyoqXG4gICAgIENvbnZlbmllbmNlIGZvcm0gb2YgY3JlYXRpbmcgYW4gc3FsaXRlM19pbmRleF9pbmZvIHdyYXBwZXIsXG4gICAgIGludGVuZGVkIGZvciB1c2UgaW4geEJlc3RJbmRleCBpbXBsZW1lbnRhdGlvbnMuIE5vdGUgdGhhdCB0aGVcbiAgICAgY2FsbGVyIGlzIGV4cGVjdGVkIHRvIGNhbGwgZGlzcG9zZSgpIG9uIHRoZSByZXR1cm5lZCBvYmplY3RcbiAgICAgYmVmb3JlIHJldHVybmluZy4gVGhvdWdoIG5vdCBfc3RyaWN0bHlfIHJlcXVpcmVkLCBhcyB0aGF0IG9iamVjdFxuICAgICBkb2VzIG5vdCBvd24gdGhlIHBJZHhJbmZvIG1lbW9yeSwgaXQgaXMgbm9uZXRoZWxlc3MgZ29vZCBmb3JtLlxuICAqL1xuICB2dGFiLnhJbmRleEluZm8gPSAocElkeEluZm8pPT5uZXcgY2FwaS5zcWxpdGUzX2luZGV4X2luZm8ocElkeEluZm8pO1xuXG4gIC8qKlxuICAgICBHaXZlbiBhbiBlcnJvciBvYmplY3QsIHRoaXMgZnVuY3Rpb24gcmV0dXJuc1xuICAgICBzcWxpdGUzLmNhcGkuU1FMSVRFX05PTUVNIGlmIChlIGluc3RhbmNlb2ZcbiAgICAgc3FsaXRlMy5XYXNtQWxsb2NFcnJvciksIGVsc2UgaXQgcmV0dXJucyBpdHNcbiAgICAgc2Vjb25kIGFyZ3VtZW50LiBJdHMgaW50ZW5kZWQgdXNhZ2UgaXMgaW4gdGhlIG1ldGhvZHNcbiAgICAgb2YgYSBzcWxpdGUzX3ZmcyBvciBzcWxpdGUzX21vZHVsZTpcblxuICAgICBgYGBcbiAgICAgdHJ5e1xuICAgICAgbGV0IHJjID0gLi4uXG4gICAgICByZXR1cm4gcmM7XG4gICAgIH1jYXRjaChlKXtcbiAgICAgICByZXR1cm4gc3FsaXRlMy52dGFiLmV4Y2VwdGlvblRvUmMoZSwgc3FsaXRlMy5jYXBpLlNRTElURV9YWVopO1xuICAgICAgIC8vIHdoZXJlIFNRTElURV9YWVogaXMgc29tZSBjYWxsLWFwcHJvcHJpYXRlIHJlc3VsdCBjb2RlLlxuICAgICB9XG4gICAgIGBgYFxuICAqL1xuICAvKip2ZnMuZXhjZXB0aW9uVG9SYyA9IHZ0YWIuZXhjZXB0aW9uVG9SYyA9XG4gICAgKGUsIGRlZmF1bHRSYz1jYXBpLlNRTElURV9FUlJPUik9PihcbiAgICAgIChlIGluc3RhbmNlb2Ygc3FsaXRlMy5XYXNtQWxsb2NFcnJvcilcbiAgICAgICAgPyBjYXBpLlNRTElURV9OT01FTVxuICAgICAgICA6IGRlZmF1bHRSY1xuICAgICk7Ki9cblxuICAvKipcbiAgICAgR2l2ZW4gYW4gc3FsaXRlM19tb2R1bGUgbWV0aG9kIG5hbWUgYW5kIGVycm9yIG9iamVjdCwgdGhpc1xuICAgICBmdW5jdGlvbiByZXR1cm5zIHNxbGl0ZTMuY2FwaS5TUUxJVEVfTk9NRU0gaWYgKGUgaW5zdGFuY2VvZlxuICAgICBzcWxpdGUzLldhc21BbGxvY0Vycm9yKSwgZWxzZSBpdCByZXR1cm5zIGl0cyBzZWNvbmQgYXJndW1lbnQuIEl0c1xuICAgICBpbnRlbmRlZCB1c2FnZSBpcyBpbiB0aGUgbWV0aG9kcyBvZiBhIHNxbGl0ZTNfdmZzIG9yXG4gICAgIHNxbGl0ZTNfbW9kdWxlOlxuXG4gICAgIGBgYFxuICAgICB0cnl7XG4gICAgICBsZXQgcmMgPSAuLi5cbiAgICAgIHJldHVybiByYztcbiAgICAgfWNhdGNoKGUpe1xuICAgICAgIHJldHVybiBzcWxpdGUzLnZ0YWIueEVycm9yKFxuICAgICAgICAgICAgICAgICd4Q29sdW1uJywgZSwgc3FsaXRlMy5jYXBpLlNRTElURV9YWVopO1xuICAgICAgIC8vIHdoZXJlIFNRTElURV9YWVogaXMgc29tZSBjYWxsLWFwcHJvcHJpYXRlIHJlc3VsdCBjb2RlLlxuICAgICB9XG4gICAgIGBgYFxuXG4gICAgIElmIG5vIDNyZCBhcmd1bWVudCBpcyBwcm92aWRlZCwgaXRzIGRlZmF1bHQgZGVwZW5kcyBvblxuICAgICB0aGUgZXJyb3IgdHlwZTpcblxuICAgICAtIEFuIHNxbGl0ZTMuV2FzbUFsbG9jRXJyb3IgYWx3YXlzIHJlc29sdmVzIHRvIGNhcGkuU1FMSVRFX05PTUVNLlxuXG4gICAgIC0gSWYgZXJyIGlzIGFuIFNRTGl0ZTNFcnJvciB0aGVuIGl0cyBgcmVzdWx0Q29kZWAgcHJvcGVydHlcbiAgICAgICBpcyB1c2VkLlxuXG4gICAgIC0gSWYgYWxsIGVsc2UgZmFpbHMsIGNhcGkuU1FMSVRFX0VSUk9SIGlzIHVzZWQuXG5cbiAgICAgSWYgeEVycm9yLmVycm9yUmVwb3J0ZXIgaXMgYSBmdW5jdGlvbiwgaXQgaXMgY2FsbGVkIGluXG4gICAgIG9yZGVyIHRvIHJlcG9ydCB0aGUgZXJyb3IsIGVsc2UgdGhlIGVycm9yIGlzIG5vdCByZXBvcnRlZC5cbiAgICAgSWYgdGhhdCBmdW5jdGlvbiB0aHJvd3MsIHRoYXQgZXhjZXB0aW9uIGlzIGlnbm9yZWQuXG4gICovXG4gIHZ0YWIueEVycm9yID0gZnVuY3Rpb24gZihtZXRob2ROYW1lLCBlcnIsIGRlZmF1bHRSYyl7XG4gICAgaWYoZi5lcnJvclJlcG9ydGVyIGluc3RhbmNlb2YgRnVuY3Rpb24pe1xuICAgICAgdHJ5e2YuZXJyb3JSZXBvcnRlcihcInNxbGl0ZTNfbW9kdWxlOjpcIittZXRob2ROYW1lK1wiKCk6IFwiK2Vyci5tZXNzYWdlKTt9XG4gICAgICBjYXRjaChlKXsvKmlnbm9yZWQqL31cbiAgICB9XG4gICAgbGV0IHJjO1xuICAgIGlmKGVyciBpbnN0YW5jZW9mIHNxbGl0ZTMuV2FzbUFsbG9jRXJyb3IpIHJjID0gY2FwaS5TUUxJVEVfTk9NRU07XG4gICAgZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoPjIpIHJjID0gZGVmYXVsdFJjO1xuICAgIGVsc2UgaWYoZXJyIGluc3RhbmNlb2Ygc3FsaXRlMy5TUUxpdGUzRXJyb3IpIHJjID0gZXJyLnJlc3VsdENvZGU7XG4gICAgcmV0dXJuIHJjIHx8IGNhcGkuU1FMSVRFX0VSUk9SO1xuICB9O1xuICB2dGFiLnhFcnJvci5lcnJvclJlcG9ydGVyID0gMSA/IGNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlKSA6IGZhbHNlO1xuXG4gIC8qKlxuICAgICBcIlRoZSBwcm9ibGVtXCIgd2l0aCB0aGlzIGlzIHRoYXQgaXQgaW50cm9kdWNlcyBhbiBvdXRlciBmdW5jdGlvbiB3aXRoXG4gICAgIGEgZGlmZmVyZW50IGFyaXR5IHRoYW4gdGhlIHBhc3NlZC1pbiBtZXRob2QgY2FsbGJhY2suIFRoYXQgbWVhbnMgd2VcbiAgICAgY2Fubm90IGRvIGFyZ2MgdmFsaWRhdGlvbiBvbiB0aGVzZS4gQWRkaXRpb25hbGx5LCBzb21lIG1ldGhvZHMgKG5hbWVseVxuICAgICB4Q29ubmVjdCkgbWF5IGhhdmUgY2FsbC1zcGVjaWZpYyBlcnJvciBoYW5kbGluZy4gSXQgd291bGQgYmUgYSBzaGFtZSB0b1xuICAgICBoYXJkLWNvZGVkIHRoYXQgcGVyLW1ldGhvZCBzdXBwb3J0IGluIHRoaXMgZnVuY3Rpb24uXG4gICovXG4gIC8qKiB2dGFiLm1ldGhvZENhdGNoZXIgPSBmdW5jdGlvbihtZXRob2ROYW1lLCBtZXRob2QsIGRlZmF1bHRFcnJSYz1jYXBpLlNRTElURV9FUlJPUil7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3Mpe1xuICAgICAgdHJ5IHsgbWV0aG9kKC4uLmFyZ3MpOyB9XG4gICAgICB9Y2F0Y2goZSl7IHJldHVybiB2dGFiLnhFcnJvcihtZXRob2ROYW1lLCBlLCBkZWZhdWx0UmMpIH1cbiAgfTtcbiAgKi9cblxuICAvKipcbiAgICAgQSBoZWxwZXIgZm9yIHNxbGl0ZTNfdnRhYjo6eFJvd2lkKCkgYW5kIHhVcGRhdGUoKVxuICAgICBpbXBsZW1lbnRhdGlvbnMuIEl0IG11c3QgYmUgcGFzc2VkIHRoZSBmaW5hbCBhcmd1bWVudCB0byBvbmUgb2ZcbiAgICAgdGhvc2UgbWV0aG9kcyAoYW4gb3V0cHV0IHBvaW50ZXIgdG8gYW4gaW50NjQgcm93IElEKSBhbmQgdGhlXG4gICAgIHZhbHVlIHRvIHN0b3JlIGF0IHRoZSBvdXRwdXQgcG9pbnRlcidzIGFkZHJlc3MuIFJldHVybnMgdGhlIHNhbWVcbiAgICAgYXMgd2FzbS5wb2tlKCkgYW5kIHdpbGwgdGhyb3cgaWYgdGhlIDFzdCBvciAybmQgYXJndW1lbnRzXG4gICAgIGFyZSBpbnZhbGlkIGZvciB0aGF0IGZ1bmN0aW9uLlxuXG4gICAgIEV4YW1wbGUgeFJvd2lkIGltcGw6XG5cbiAgICAgYGBgXG4gICAgIGNvbnN0IHhSb3dpZCA9IChwQ3Vyc29yLCBwcFJvd2lkNjQpPT57XG4gICAgICAgY29uc3QgYyA9IHZ0YWIueEN1cnNvcihwQ3Vyc29yKTtcbiAgICAgICB2dGFiLnhSb3dpZChwcFJvd2lkNjQsIGMubXlSb3dJZCk7XG4gICAgICAgcmV0dXJuIDA7XG4gICAgIH07XG4gICAgIGBgYFxuICAqL1xuICB2dGFiLnhSb3dpZCA9IChwcFJvd2lkNjQsIHZhbHVlKT0+d2FzbS5wb2tlKHBwUm93aWQ2NCwgdmFsdWUsICdpNjQnKTtcblxuICAvKipcbiAgICAgQSBoZWxwZXIgdG8gaW5pdGlhbGl6ZSBhbmQgc2V0IHVwIGFuIHNxbGl0ZTNfbW9kdWxlIG9iamVjdCBmb3JcbiAgICAgbGF0ZXIgaW5zdGFsbGF0aW9uIGludG8gaW5kaXZpZHVhbCBkYXRhYmFzZXMgdXNpbmdcbiAgICAgc3FsaXRlM19jcmVhdGVfbW9kdWxlKCkuIFJlcXVpcmVzIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICAgcHJvcGVydGllczpcblxuICAgICAtIGBtZXRob2RzYDogYW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBtYXBwaW5nIG9mIHByb3BlcnRpZXMgd2l0aFxuICAgICAgIHRoZSBDLXNpZGUgbmFtZXMgb2YgdGhlIHNxbGl0ZTNfbW9kdWxlIG1ldGhvZHMsIGUuZy4geENyZWF0ZSxcbiAgICAgICB4QmVzdEluZGV4LCBldGMuLCB0byBKUyBpbXBsZW1lbnRhdGlvbnMgZm9yIHRob3NlIGZ1bmN0aW9ucy5cbiAgICAgICBDZXJ0YWluIHNwZWNpYWwtY2FzZSBoYW5kbGluZyBpcyBwZXJmb3JtZWQsIGFzIGRlc2NyaWJlZCBiZWxvdy5cblxuICAgICAtIGBjYXRjaEV4Y2VwdGlvbnNgIChkZWZhdWx0PWZhbHNlKTogaWYgdHJ1dGh5LCB0aGUgZ2l2ZW4gbWV0aG9kc1xuICAgICAgIGFyZSBub3QgbWFwcGVkIGFzLWlzLCBidXQgYXJlIGluc3RlYWQgd3JhcHBlZCBpbnNpZGUgd3JhcHBlcnNcbiAgICAgICB3aGljaCB0cmFuc2xhdGUgZXhjZXB0aW9ucyBpbnRvIHJlc3VsdCBjb2RlcyBvZiBTUUxJVEVfRVJST1Igb3JcbiAgICAgICBTUUxJVEVfTk9NRU0sIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSBleGNlcHRpb24gaXMgYW5cbiAgICAgICBzcWxpdGUzLldhc21BbGxvY0Vycm9yLiBJbiB0aGUgY2FzZSBvZiB0aGUgeENvbm5lY3QgYW5kIHhDcmVhdGVcbiAgICAgICBtZXRob2RzLCB0aGUgZXhjZXB0aW9uIGhhbmRsZXIgYWxzbyBzZXRzIHRoZSBvdXRwdXQgZXJyb3JcbiAgICAgICBzdHJpbmcgdG8gdGhlIGV4Y2VwdGlvbidzIGVycm9yIHN0cmluZy5cblxuICAgICAtIE9QVElPTkFMIGBzdHJ1Y3RgOiBhIHNxbGl0ZTMuY2FwaS5zcWxpdGUzX21vZHVsZSgpIGluc3RhbmNlLiBJZlxuICAgICAgIG5vdCBzZXQsIG9uZSB3aWxsIGJlIGNyZWF0ZWQgYXV0b21hdGljYWxseS4gSWYgdGhlIGN1cnJlbnRcbiAgICAgICBcInRoaXNcIiBpcy1hIHNxbGl0ZTNfbW9kdWxlIHRoZW4gaXQgaXMgdW5jb25kaXRpb25hbGx5IHVzZWQgaW5cbiAgICAgICBwbGFjZSBvZiBgc3RydWN0YC5cblxuICAgICAtIE9QVElPTkFMIGBpVmVyc2lvbmA6IGlmIHNldCwgaXQgbXVzdCBiZSBhbiBpbnRlZ2VyIHZhbHVlIGFuZCBpdFxuICAgICAgIGdldHMgYXNzaWduZWQgdG8gdGhlIGAkaVZlcnNpb25gIG1lbWJlciBvZiB0aGUgc3RydWN0IG9iamVjdC5cbiAgICAgICBJZiBpdCdzIF9ub3RfIHNldCwgYW5kIHRoZSBwYXNzZWQtaW4gYHN0cnVjdGAgb2JqZWN0J3MgYCRpVmVyc2lvbmBcbiAgICAgICBpcyAwICh0aGUgZGVmYXVsdCkgdGhlbiB0aGlzIGZ1bmN0aW9uIGF0dGVtcHRzIHRvIGRlZmluZSBhIHZhbHVlXG4gICAgICAgZm9yIHRoYXQgcHJvcGVydHkgYmFzZWQgb24gdGhlIGxpc3Qgb2YgbWV0aG9kcyBpdCBoYXMuXG5cbiAgICAgSWYgYGNhdGNoRXhjZXB0aW9uc2AgaXMgZmFsc2UsIGl0IGlzIHVwIHRvIHRoZSBjbGllbnQgdG8gZW5zdXJlXG4gICAgIHRoYXQgbm8gZXhjZXB0aW9ucyBlc2NhcGUgdGhlIG1ldGhvZHMsIGFzIGRvaW5nIHNvIHdvdWxkIG1vdmVcbiAgICAgdGhlbSB0aHJvdWdoIHRoZSBDIEFQSSwgbGVhZGluZyB0byB1bmRlZmluZWRcbiAgICAgYmVoYXZpb3IuICh2dGFiLnhFcnJvcigpIGlzIGludGVuZGVkIHRvIGFzc2lzdCBpbiByZXBvcnRpbmdcbiAgICAgc3VjaCBleGNlcHRpb25zLilcblxuICAgICBDZXJ0YWluIG1ldGhvZHMgbWF5IHJlZmVyIHRvIHRoZSBzYW1lIGltcGxlbWVudGF0aW9uLiBUbyBzaW1wbGlmeVxuICAgICB0aGUgZGVmaW5pdGlvbiBvZiBzdWNoIG1ldGhvZHM6XG5cbiAgICAgLSBJZiBgbWV0aG9kcy54Q29ubmVjdGAgaXMgYHRydWVgIHRoZW4gdGhlIHZhbHVlIG9mXG4gICAgICAgYG1ldGhvZHMueENyZWF0ZWAgaXMgdXNlZCBpbiBpdHMgcGxhY2UsIGFuZCB2aWNlIHZlcnNhLiBzcWxpdGVcbiAgICAgICB0cmVhdHMgeENvbm5lY3QveENyZWF0ZSBmdW5jdGlvbnMgc3BlY2lhbGx5IGlmIHRoZXkgYXJlIGV4YWN0bHlcbiAgICAgICB0aGUgc2FtZSBmdW5jdGlvbiAoc2FtZSBwb2ludGVyIHZhbHVlKS5cblxuICAgICAtIElmIGBtZXRob2RzLnhEaXNjb25uZWN0YCBpcyB0cnVlIHRoZW4gdGhlIHZhbHVlIG9mXG4gICAgICAgYG1ldGhvZHMueERlc3Ryb3lgIGlzIHVzZWQgaW4gaXRzIHBsYWNlLCBhbmQgdmljZSB2ZXJzYS5cblxuICAgICBUaGlzIGlzIHRvIGZhY2lsaXRhdGUgY3JlYXRpb24gb2YgdGhvc2UgbWV0aG9kcyBpbmxpbmUgaW4gdGhlXG4gICAgIHBhc3NlZC1pbiBvYmplY3Qgd2l0aG91dCByZXF1aXJpbmcgdGhlIGNsaWVudCB0byBleHBsaWNpdGx5IGdldCBhXG4gICAgIHJlZmVyZW5jZSB0byBvbmUgb2YgdGhlbSBpbiBvcmRlciB0byBhc3NpZ24gaXQgdG8gdGhlIG90aGVyXG4gICAgIG9uZS4gXG5cbiAgICAgVGhlIGBjYXRjaEV4Y2VwdGlvbnNgLWluc3RhbGxlZCBoYW5kbGVycyB3aWxsIGFjY291bnQgZm9yXG4gICAgIGlkZW50aWNhbCByZWZlcmVuY2VzIHRvIHRoZSBhYm92ZSBmdW5jdGlvbnMgYW5kIHdpbGwgaW5zdGFsbCB0aGVcbiAgICAgc2FtZSB3cmFwcGVyIGZ1bmN0aW9uIGZvciBib3RoLlxuXG4gICAgIFRoZSBnaXZlbiBtZXRob2RzIGFyZSBleHBlY3RlZCB0byByZXR1cm4gaW50ZWdlciB2YWx1ZXMsIGFzXG4gICAgIGV4cGVjdGVkIGJ5IHRoZSBDIEFQSS4gSWYgYGNhdGNoRXhjZXB0aW9uc2AgaXMgdHJ1dGh5LCB0aGUgcmV0dXJuXG4gICAgIHZhbHVlIG9mIHRoZSB3cmFwcGVkIGZ1bmN0aW9uIHdpbGwgYmUgdXNlZCBhcy1pcyBhbmQgd2lsbCBiZVxuICAgICB0cmFuc2xhdGVkIHRvIDAgaWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSAoZS5nLiBpZiBpdFxuICAgICBkb2VzIG5vdCBoYXZlIGFuIGV4cGxpY2l0IHJldHVybikuIElmIGBjYXRjaEV4Y2VwdGlvbnNgIGlzIF9ub3RfXG4gICAgIGFjdGl2ZSwgdGhlIG1ldGhvZCBpbXBsZW1lbnRhdGlvbnMgbXVzdCBleHBsaWNpdGx5IHJldHVybiBpbnRlZ2VyXG4gICAgIHZhbHVlcy5cblxuICAgICBUaHJvd3Mgb24gZXJyb3IuIE9uIHN1Y2Nlc3MsIHJldHVybnMgdGhlIHNxbGl0ZTNfbW9kdWxlIG9iamVjdFxuICAgICAoYHRoaXNgIG9yIGBvcHQuc3RydWN0YCBvciBhIG5ldyBzcWxpdGUzX21vZHVsZSBpbnN0YW5jZSxcbiAgICAgZGVwZW5kaW5nIG9uIGhvdyBpdCdzIGNhbGxlZCkuXG4gICovXG4gIHZ0YWIuc2V0dXBNb2R1bGUgPSBmdW5jdGlvbihvcHQpe1xuICAgIGxldCBjcmVhdGVkTW9kID0gZmFsc2U7XG4gICAgY29uc3QgbW9kID0gKHRoaXMgaW5zdGFuY2VvZiBjYXBpLnNxbGl0ZTNfbW9kdWxlKVxuICAgICAgICAgID8gdGhpcyA6IChvcHQuc3RydWN0IHx8IChjcmVhdGVkTW9kID0gbmV3IGNhcGkuc3FsaXRlM19tb2R1bGUoKSkpO1xuICAgIHRyeXtcbiAgICAgIGNvbnN0IG1ldGhvZHMgPSBvcHQubWV0aG9kcyB8fCB0b3NzKFwiTWlzc2luZyAnbWV0aG9kcycgb2JqZWN0LlwiKTtcbiAgICAgIGZvcihjb25zdCBlIG9mIE9iamVjdC5lbnRyaWVzKHtcbiAgICAgICAgLy8gLS0tLS1eID09PiBbayx2XSB0cmlnZ2VycyBhIGJyb2tlbiBjb2RlIHRyYW5zZm9ybWF0aW9uIGluXG4gICAgICAgIC8vIHNvbWUgdmVyc2lvbnMgb2YgdGhlIGVtc2RrIHRvb2xjaGFpbi5cbiAgICAgICAgeENvbm5lY3Q6ICd4Q3JlYXRlJywgeERpc2Nvbm5lY3Q6ICd4RGVzdHJveSdcbiAgICAgIH0pKXtcbiAgICAgICAgLy8gUmVtYXAgWD10cnVlIHRvIFg9WSBmb3IgY2VydGFpbiBYL1kgY29tYmluYXRpb25zXG4gICAgICAgIGNvbnN0IGsgPSBlWzBdLCB2ID0gZVsxXTtcbiAgICAgICAgaWYodHJ1ZSA9PT0gbWV0aG9kc1trXSkgbWV0aG9kc1trXSA9IG1ldGhvZHNbdl07XG4gICAgICAgIGVsc2UgaWYodHJ1ZSA9PT0gbWV0aG9kc1t2XSkgbWV0aG9kc1t2XSA9IG1ldGhvZHNba107XG4gICAgICB9XG4gICAgICBpZihvcHQuY2F0Y2hFeGNlcHRpb25zKXtcbiAgICAgICAgY29uc3QgZndyYXAgPSBmdW5jdGlvbihtZXRob2ROYW1lLCBmdW5jKXtcbiAgICAgICAgICBpZihbJ3hDb25uZWN0JywneENyZWF0ZSddLmluZGV4T2YobWV0aG9kTmFtZSkgPj0gMCl7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24ocERiLCBwQXV4LCBhcmdjLCBhcmd2LCBwcFZ0YWIsIHB6RXJyKXtcbiAgICAgICAgICAgICAgdHJ5e3JldHVybiBmdW5jKC4uLmFyZ3VtZW50cykgfHwgMH1cbiAgICAgICAgICAgICAgY2F0Y2goZSl7XG4gICAgICAgICAgICAgICAgaWYoIShlIGluc3RhbmNlb2Ygc3FsaXRlMy5XYXNtQWxsb2NFcnJvcikpe1xuICAgICAgICAgICAgICAgICAgd2FzbS5kZWFsbG9jKHdhc20ucGVla1B0cihwekVycikpO1xuICAgICAgICAgICAgICAgICAgd2FzbS5wb2tlUHRyKHB6RXJyLCB3YXNtLmFsbG9jQ1N0cmluZyhlLm1lc3NhZ2UpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZ0YWIueEVycm9yKG1ldGhvZE5hbWUsIGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3Mpe1xuICAgICAgICAgICAgICB0cnl7cmV0dXJuIGZ1bmMoLi4uYXJncykgfHwgMH1cbiAgICAgICAgICAgICAgY2F0Y2goZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZ0YWIueEVycm9yKG1ldGhvZE5hbWUsIGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbW5hbWVzID0gW1xuICAgICAgICAgICd4Q3JlYXRlJywgJ3hDb25uZWN0JywgJ3hCZXN0SW5kZXgnLCAneERpc2Nvbm5lY3QnLFxuICAgICAgICAgICd4RGVzdHJveScsICd4T3BlbicsICd4Q2xvc2UnLCAneEZpbHRlcicsICd4TmV4dCcsXG4gICAgICAgICAgJ3hFb2YnLCAneENvbHVtbicsICd4Um93aWQnLCAneFVwZGF0ZScsXG4gICAgICAgICAgJ3hCZWdpbicsICd4U3luYycsICd4Q29tbWl0JywgJ3hSb2xsYmFjaycsXG4gICAgICAgICAgJ3hGaW5kRnVuY3Rpb24nLCAneFJlbmFtZScsICd4U2F2ZXBvaW50JywgJ3hSZWxlYXNlJyxcbiAgICAgICAgICAneFJvbGxiYWNrVG8nLCAneFNoYWRvd05hbWUnXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IHJlbWV0aG9kcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGZvcihjb25zdCBrIG9mIG1uYW1lcyl7XG4gICAgICAgICAgY29uc3QgbSA9IG1ldGhvZHNba107XG4gICAgICAgICAgaWYoIShtIGluc3RhbmNlb2YgRnVuY3Rpb24pKSBjb250aW51ZTtcbiAgICAgICAgICBlbHNlIGlmKCd4Q29ubmVjdCc9PT1rICYmIG1ldGhvZHMueENyZWF0ZT09PW0pe1xuICAgICAgICAgICAgcmVtZXRob2RzW2tdID0gbWV0aG9kcy54Q3JlYXRlO1xuICAgICAgICAgIH1lbHNlIGlmKCd4Q3JlYXRlJz09PWsgJiYgbWV0aG9kcy54Q29ubmVjdD09PW0pe1xuICAgICAgICAgICAgcmVtZXRob2RzW2tdID0gbWV0aG9kcy54Q29ubmVjdDtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJlbWV0aG9kc1trXSA9IGZ3cmFwKGssIG0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnN0YWxsTWV0aG9kcyhtb2QsIHJlbWV0aG9kcywgZmFsc2UpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vIE5vIGF1dG9tYXRpYyBleGNlcHRpb24gaGFuZGxpbmcuIFRydXN0IHRoZSBjbGllbnRcbiAgICAgICAgLy8gdG8gbm90IHRocm93LlxuICAgICAgICBpbnN0YWxsTWV0aG9kcyhcbiAgICAgICAgICBtb2QsIG1ldGhvZHMsICEhb3B0LmFwcGx5QXJnY0NoZWNrLyp1bmRvY3VtZW50ZWQgb3B0aW9uKi9cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmKDA9PT1tb2QuJGlWZXJzaW9uKXtcbiAgICAgICAgbGV0IHY7XG4gICAgICAgIGlmKCdudW1iZXInPT09dHlwZW9mIG9wdC5pVmVyc2lvbikgdiA9IG9wdC5pVmVyc2lvbjtcbiAgICAgICAgZWxzZSBpZihtb2QuJHhTaGFkb3dOYW1lKSB2ID0gMztcbiAgICAgICAgZWxzZSBpZihtb2QuJHhTYXZlUG9pbnQgfHwgbW9kLiR4UmVsZWFzZSB8fCBtb2QuJHhSb2xsYmFja1RvKSB2ID0gMjtcbiAgICAgICAgZWxzZSB2ID0gMTtcbiAgICAgICAgbW9kLiRpVmVyc2lvbiA9IHY7XG4gICAgICB9XG4gICAgfWNhdGNoKGUpe1xuICAgICAgaWYoY3JlYXRlZE1vZCkgY3JlYXRlZE1vZC5kaXNwb3NlKCk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICByZXR1cm4gbW9kO1xuICB9LypzZXR1cE1vZHVsZSgpKi87XG5cbiAgLyoqXG4gICAgIEVxdWl2YWxlbnQgdG8gY2FsbGluZyB2dGFiLnNldHVwTW9kdWxlKCkgd2l0aCB0aGlzIHNxbGl0ZTNfbW9kdWxlXG4gICAgIG9iamVjdCBhcyB0aGUgY2FsbCdzIGB0aGlzYC5cbiAgKi9cbiAgY2FwaS5zcWxpdGUzX21vZHVsZS5wcm90b3R5cGUuc2V0dXBNb2R1bGUgPSBmdW5jdGlvbihvcHQpe1xuICAgIHJldHVybiB2dGFiLnNldHVwTW9kdWxlLmNhbGwodGhpcywgb3B0KTtcbiAgfTtcbn0vKnNxbGl0ZTNBcGlCb290c3RyYXAuaW5pdGlhbGl6ZXJzLnB1c2goKSovKTtcbi8qIEVORCBGSUxFOiBhcGkvc3FsaXRlMy12LWhlbHBlci5qcyAqL1xuLyogQkVHSU4gRklMRTogYXBpL3NxbGl0ZTMtdmZzLW9wZnMuYy1wcC5qcyAqL1xuLypcbiAgMjAyMi0wOS0xOFxuXG4gIFRoZSBhdXRob3IgZGlzY2xhaW1zIGNvcHlyaWdodCB0byB0aGlzIHNvdXJjZSBjb2RlLiAgSW4gcGxhY2Ugb2YgYVxuICBsZWdhbCBub3RpY2UsIGhlcmUgaXMgYSBibGVzc2luZzpcblxuICAqICAgTWF5IHlvdSBkbyBnb29kIGFuZCBub3QgZXZpbC5cbiAgKiAgIE1heSB5b3UgZmluZCBmb3JnaXZlbmVzcyBmb3IgeW91cnNlbGYgYW5kIGZvcmdpdmUgb3RoZXJzLlxuICAqICAgTWF5IHlvdSBzaGFyZSBmcmVlbHksIG5ldmVyIHRha2luZyBtb3JlIHRoYW4geW91IGdpdmUuXG5cbiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBUaGlzIGZpbGUgaG9sZHMgdGhlIHN5bmNocm9ub3VzIGhhbGYgb2YgYW4gc3FsaXRlM192ZnNcbiAgaW1wbGVtZW50YXRpb24gd2hpY2ggcHJveGllcywgaW4gYSBzeW5jaHJvbm91cyBmYXNoaW9uLCB0aGVcbiAgYXN5bmNocm9ub3VzIE9yaWdpbi1Qcml2YXRlIEZpbGVTeXN0ZW0gKE9QRlMpIEFQSXMgdXNpbmcgYSBzZWNvbmRcbiAgV29ya2VyLCBpbXBsZW1lbnRlZCBpbiBzcWxpdGUzLW9wZnMtYXN5bmMtcHJveHkuanMuICBUaGlzIGZpbGUgaXNcbiAgaW50ZW5kZWQgdG8gYmUgYXBwZW5kZWQgdG8gdGhlIG1haW4gc3FsaXRlMyBKUyBkZWxpdmVyYWJsZSBzb21ld2hlcmVcbiAgYWZ0ZXIgc3FsaXRlMy1hcGktb28xLmpzIGFuZCBiZWZvcmUgc3FsaXRlMy1hcGktY2xlYW51cC5qcy5cbiovXG4ndXNlIHN0cmljdCc7XG5nbG9iYWxUaGlzLnNxbGl0ZTNBcGlCb290c3RyYXAuaW5pdGlhbGl6ZXJzLnB1c2goZnVuY3Rpb24oc3FsaXRlMyl7XG4vKipcbiAgIGluc3RhbGxPcGZzVmZzKCkgcmV0dXJucyBhIFByb21pc2Ugd2hpY2gsIG9uIHN1Y2Nlc3MsIGluc3RhbGxzIGFuXG4gICBzcWxpdGUzX3ZmcyBuYW1lZCBcIm9wZnNcIiwgc3VpdGFibGUgZm9yIHVzZSB3aXRoIGFsbCBzcWxpdGUzIEFQSXNcbiAgIHdoaWNoIGFjY2VwdCBhIFZGUy4gSXQgaXMgaW50ZW5kZWQgdG8gYmUgY2FsbGVkIHZpYVxuICAgc3FsaXRlM0FwaUJvb3RzdHJhcC5pbml0aWFsaXplcnNBc3luYyBvciBhbiBlcXVpdmFsZW50IG1lY2hhbmlzbS5cblxuICAgVGhlIGluc3RhbGxlZCBWRlMgdXNlcyB0aGUgT3JpZ2luLVByaXZhdGUgRmlsZVN5c3RlbSBBUEkgZm9yXG4gICBhbGwgZmlsZSBzdG9yYWdlLiBPbiBlcnJvciBpdCBpcyByZWplY3RlZCB3aXRoIGFuIGV4Y2VwdGlvblxuICAgZXhwbGFpbmluZyB0aGUgcHJvYmxlbS4gUmVhc29ucyBmb3IgcmVqZWN0aW9uIGluY2x1ZGUsIGJ1dCBhcmVcbiAgIG5vdCBsaW1pdGVkIHRvOlxuXG4gICAtIFRoZSBjb3VudGVycGFydCBXb3JrZXIgKHNlZSBiZWxvdykgY291bGQgbm90IGJlIGxvYWRlZC5cblxuICAgLSBUaGUgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBPUEZTLiBUaGF0IGluY2x1ZGVzIHdoZW5cbiAgICAgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgZnJvbSB0aGUgbWFpbiB3aW5kb3cgdGhyZWFkLlxuXG4gIFNpZ25pZmljYW50IG5vdGVzIGFuZCBsaW1pdGF0aW9uczpcblxuICAtIEFzIG9mIHRoaXMgd3JpdGluZywgT1BGUyBpcyBzdGlsbCB2ZXJ5IG11Y2ggaW4gZmx1eCBhbmQgb25seVxuICAgIGF2YWlsYWJsZSBpbiBibGVlZGluZy1lZGdlIHZlcnNpb25zIG9mIENocm9tZSAodjEwMissIG5vdGluZyB0aGF0XG4gICAgdGhhdCBudW1iZXIgd2lsbCBpbmNyZWFzZSBhcyB0aGUgT1BGUyBBUEkgbWF0dXJlcykuXG5cbiAgLSBUaGUgT1BGUyBmZWF0dXJlcyB1c2VkIGhlcmUgYXJlIG9ubHkgYXZhaWxhYmxlIGluIGRlZGljYXRlZCBXb3JrZXJcbiAgICB0aHJlYWRzLiBUaGlzIGZpbGUgdHJpZXMgdG8gZGV0ZWN0IHRoYXQgY2FzZSwgcmVzdWx0aW5nIGluIGFcbiAgICByZWplY3RlZCBQcm9taXNlIGlmIHRob3NlIGZlYXR1cmVzIGRvIG5vdCBzZWVtIHRvIGJlIGF2YWlsYWJsZS5cblxuICAtIEl0IHJlcXVpcmVzIHRoZSBTaGFyZWRBcnJheUJ1ZmZlciBhbmQgQXRvbWljcyBjbGFzc2VzLCBhbmQgdGhlXG4gICAgZm9ybWVyIGlzIG9ubHkgYXZhaWxhYmxlIGlmIHRoZSBIVFRQIHNlcnZlciBlbWl0cyB0aGUgc28tY2FsbGVkXG4gICAgQ09PUCBhbmQgQ09FUCByZXNwb25zZSBoZWFkZXJzLiBUaGVzZSBmZWF0dXJlcyBhcmUgcmVxdWlyZWQgZm9yXG4gICAgcHJveHlpbmcgT1BGUydzIHN5bmNocm9ub3VzIEFQSSB2aWEgdGhlIHN5bmNocm9ub3VzIGludGVyZmFjZVxuICAgIHJlcXVpcmVkIGJ5IHRoZSBzcWxpdGUzX3ZmcyBBUEkuXG5cbiAgLSBUaGlzIGZ1bmN0aW9uIG1heSBvbmx5IGJlIGNhbGxlZCBhIHNpbmdsZSB0aW1lLiBXaGVuIGNhbGxlZCwgdGhpc1xuICAgIGZ1bmN0aW9uIHJlbW92ZXMgaXRzZWxmIGZyb20gdGhlIHNxbGl0ZTMgb2JqZWN0LlxuXG4gIEFsbCBhcmd1bWVudHMgdG8gdGhpcyBmdW5jdGlvbiBhcmUgZm9yIGludGVybmFsL2RldmVsb3BtZW50IHB1cnBvc2VzXG4gIG9ubHkuIFRoZXkgZG8gbm90IGNvbnN0aXR1dGUgYSBwdWJsaWMgQVBJIGFuZCBtYXkgY2hhbmdlIGF0IGFueVxuICB0aW1lLlxuXG4gIFRoZSBhcmd1bWVudCBtYXkgb3B0aW9uYWxseSBiZSBhIHBsYWluIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgY29uZmlndXJhdGlvbiBvcHRpb25zOlxuXG4gIC0gcHJveHlVcmk6IGFzIGRlc2NyaWJlZCBhYm92ZVxuXG4gIC0gdmVyYm9zZSAoPTIpOiBhbiBpbnRlZ2VyIDAtMy4gMCBkaXNhYmxlcyBhbGwgbG9nZ2luZywgMSBlbmFibGVzXG4gICAgbG9nZ2luZyBvZiBlcnJvcnMuIDIgZW5hYmxlcyBsb2dnaW5nIG9mIHdhcm5pbmdzIGFuZCBlcnJvcnMuIDNcbiAgICBhZGRpdGlvbmFsbHkgZW5hYmxlcyBkZWJ1Z2dpbmcgaW5mby5cblxuICAtIHNhbml0eUNoZWNrcyAoPWZhbHNlKTogaWYgdHJ1ZSwgc29tZSBiYXNpYyBzYW5pdHkgdGVzdHMgYXJlXG4gICAgcnVuIG9uIHRoZSBPUEZTIFZGUyBBUEkgYWZ0ZXIgaXQncyBpbml0aWFsaXplZCwgYmVmb3JlIHRoZVxuICAgIHJldHVybmVkIFByb21pc2UgcmVzb2x2ZXMuXG5cbiAgT24gc3VjY2VzcywgdGhlIFByb21pc2UgcmVzb2x2ZXMgdG8gdGhlIHRvcC1tb3N0IHNxbGl0ZTMgbmFtZXNwYWNlXG4gIG9iamVjdCBhbmQgdGhhdCBvYmplY3QgZ2V0cyBhIG5ldyBvYmplY3QgaW5zdGFsbGVkIGluIGl0c1xuICBgb3Bmc2AgcHJvcGVydHksIGNvbnRhaW5pbmcgc2V2ZXJhbCBPUEZTLXNwZWNpZmljIHV0aWxpdGllcy5cbiovXG5jb25zdCBpbnN0YWxsT3Bmc1ZmcyA9IGZ1bmN0aW9uIGNhbGxlZShvcHRpb25zKXtcbiAgaWYoIWdsb2JhbFRoaXMuU2hhcmVkQXJyYXlCdWZmZXJcbiAgICB8fCAhZ2xvYmFsVGhpcy5BdG9taWNzKXtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBuZXcgRXJyb3IoXCJDYW5ub3QgaW5zdGFsbCBPUEZTOiBNaXNzaW5nIFNoYXJlZEFycmF5QnVmZmVyIGFuZC9vciBBdG9taWNzLiBcIitcbiAgICAgICAgICAgICAgICBcIlRoZSBzZXJ2ZXIgbXVzdCBlbWl0IHRoZSBDT09QL0NPRVAgcmVzcG9uc2UgaGVhZGVycyB0byBlbmFibGUgdGhvc2UuIFwiK1xuICAgICAgICAgICAgICAgIFwiU2VlIGh0dHBzOi8vc3FsaXRlLm9yZy93YXNtL2RvYy90cnVuay9wZXJzaXN0ZW5jZS5tZCNjb29wLWNvZXBcIilcbiAgICApO1xuICB9ZWxzZSBpZigndW5kZWZpbmVkJz09PXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSl7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgbmV3IEVycm9yKFwiVGhlIE9QRlMgc3FsaXRlM192ZnMgY2Fubm90IHJ1biBpbiB0aGUgbWFpbiB0aHJlYWQgXCIrXG4gICAgICAgICAgICAgICAgXCJiZWNhdXNlIGl0IHJlcXVpcmVzIEF0b21pY3Mud2FpdCgpLlwiKVxuICAgICk7XG4gIH1lbHNlIGlmKCFnbG9iYWxUaGlzLkZpbGVTeXN0ZW1IYW5kbGUgfHxcbiAgICAgICAgICAgIWdsb2JhbFRoaXMuRmlsZVN5c3RlbURpcmVjdG9yeUhhbmRsZSB8fFxuICAgICAgICAgICAhZ2xvYmFsVGhpcy5GaWxlU3lzdGVtRmlsZUhhbmRsZSB8fFxuICAgICAgICAgICAhZ2xvYmFsVGhpcy5GaWxlU3lzdGVtRmlsZUhhbmRsZS5wcm90b3R5cGUuY3JlYXRlU3luY0FjY2Vzc0hhbmRsZSB8fFxuICAgICAgICAgICAhbmF2aWdhdG9yPy5zdG9yYWdlPy5nZXREaXJlY3Rvcnkpe1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgT1BGUyBBUElzLlwiKVxuICAgICk7XG4gIH1cbiAgaWYoIW9wdGlvbnMgfHwgJ29iamVjdCchPT10eXBlb2Ygb3B0aW9ucyl7XG4gICAgb3B0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH1cbiAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTChnbG9iYWxUaGlzLmxvY2F0aW9uLmhyZWYpLnNlYXJjaFBhcmFtcztcbiAgaWYodW5kZWZpbmVkPT09b3B0aW9ucy52ZXJib3NlKXtcbiAgICBvcHRpb25zLnZlcmJvc2UgPSB1cmxQYXJhbXMuaGFzKCdvcGZzLXZlcmJvc2UnKVxuICAgICAgPyAoK3VybFBhcmFtcy5nZXQoJ29wZnMtdmVyYm9zZScpIHx8IDIpIDogMTtcbiAgfVxuICBpZih1bmRlZmluZWQ9PT1vcHRpb25zLnNhbml0eUNoZWNrcyl7XG4gICAgb3B0aW9ucy5zYW5pdHlDaGVja3MgPSB1cmxQYXJhbXMuaGFzKCdvcGZzLXNhbml0eS1jaGVjaycpO1xuICB9XG4gIGlmKHVuZGVmaW5lZD09PW9wdGlvbnMucHJveHlVcmkpe1xuICAgIG9wdGlvbnMucHJveHlVcmkgPSBjYWxsZWUuZGVmYXVsdFByb3h5VXJpO1xuICB9XG5cbiAgLy9zcWxpdGUzLmNvbmZpZy53YXJuKFwiT1BGUyBvcHRpb25zID1cIixvcHRpb25zLGdsb2JhbFRoaXMubG9jYXRpb24pO1xuXG4gIGlmKCdmdW5jdGlvbicgPT09IHR5cGVvZiBvcHRpb25zLnByb3h5VXJpKXtcbiAgICBvcHRpb25zLnByb3h5VXJpID0gb3B0aW9ucy5wcm94eVVyaSgpO1xuICB9XG4gIGNvbnN0IHRoZVByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihwcm9taXNlUmVzb2x2ZSwgcHJvbWlzZVJlamVjdF8pe1xuICAgIGNvbnN0IGxvZ2dlcnMgPSB7XG4gICAgICAwOnNxbGl0ZTMuY29uZmlnLmVycm9yLFxuICAgICAgMTpzcWxpdGUzLmNvbmZpZy53YXJuLFxuICAgICAgMjpzcWxpdGUzLmNvbmZpZy5sb2dcbiAgICB9O1xuICAgIGNvbnN0IGxvZ0ltcGwgPSAobGV2ZWwsLi4uYXJncyk9PntcbiAgICAgIGlmKG9wdGlvbnMudmVyYm9zZT5sZXZlbCkgbG9nZ2Vyc1tsZXZlbF0oXCJPUEZTIHN5bmNlcjpcIiwuLi5hcmdzKTtcbiAgICB9O1xuICAgIGNvbnN0IGxvZyA9ICAgICguLi5hcmdzKT0+bG9nSW1wbCgyLCAuLi5hcmdzKTtcbiAgICBjb25zdCB3YXJuID0gICAoLi4uYXJncyk9PmxvZ0ltcGwoMSwgLi4uYXJncyk7XG4gICAgY29uc3QgZXJyb3IgPSAgKC4uLmFyZ3MpPT5sb2dJbXBsKDAsIC4uLmFyZ3MpO1xuICAgIGNvbnN0IHRvc3MgPSBzcWxpdGUzLnV0aWwudG9zcztcbiAgICBjb25zdCBjYXBpID0gc3FsaXRlMy5jYXBpO1xuICAgIGNvbnN0IHdhc20gPSBzcWxpdGUzLndhc207XG4gICAgY29uc3Qgc3FsaXRlM192ZnMgPSBjYXBpLnNxbGl0ZTNfdmZzO1xuICAgIGNvbnN0IHNxbGl0ZTNfZmlsZSA9IGNhcGkuc3FsaXRlM19maWxlO1xuICAgIGNvbnN0IHNxbGl0ZTNfaW9fbWV0aG9kcyA9IGNhcGkuc3FsaXRlM19pb19tZXRob2RzO1xuICAgIC8qKlxuICAgICAgIEdlbmVyaWMgdXRpbGl0aWVzIGZvciB3b3JraW5nIHdpdGggT1BGUy4gVGhpcyB3aWxsIGdldCBmaWxsZWQgb3V0XG4gICAgICAgYnkgdGhlIFByb21pc2Ugc2V0dXAgYW5kLCBvbiBzdWNjZXNzLCBpbnN0YWxsZWQgYXMgc3FsaXRlMy5vcGZzLlxuXG4gICAgICAgQUNIVFVORzogZG8gbm90IHJlbHkgb24gdGhlc2UgQVBJcyBpbiBjbGllbnQgY29kZS4gVGhleSBhcmVcbiAgICAgICBleHBlcmltZW50YWwgYW5kIHN1YmplY3QgdG8gY2hhbmdlIG9yIHJlbW92YWwgYXMgdGhlXG4gICAgICAgT1BGUy1zcGVjaWZpYyBzcWxpdGUzX3ZmcyBldm9sdmVzLlxuICAgICovXG4gICAgY29uc3Qgb3Bmc1V0aWwgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgLyoqXG4gICAgICAgUmV0dXJucyB0cnVlIGlmIF90aGlzXyB0aHJlYWQgaGFzIGFjY2VzcyB0byB0aGUgT1BGUyBBUElzLlxuICAgICovXG4gICAgY29uc3QgdGhpc1RocmVhZEhhc09QRlMgPSAoKT0+e1xuICAgICAgcmV0dXJuIGdsb2JhbFRoaXMuRmlsZVN5c3RlbUhhbmRsZSAmJlxuICAgICAgICBnbG9iYWxUaGlzLkZpbGVTeXN0ZW1EaXJlY3RvcnlIYW5kbGUgJiZcbiAgICAgICAgZ2xvYmFsVGhpcy5GaWxlU3lzdGVtRmlsZUhhbmRsZSAmJlxuICAgICAgICBnbG9iYWxUaGlzLkZpbGVTeXN0ZW1GaWxlSGFuZGxlLnByb3RvdHlwZS5jcmVhdGVTeW5jQWNjZXNzSGFuZGxlICYmXG4gICAgICAgIG5hdmlnYXRvcj8uc3RvcmFnZT8uZ2V0RGlyZWN0b3J5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgICBOb3QgcGFydCBvZiB0aGUgcHVibGljIEFQSS4gU29sZWx5IGZvciBpbnRlcm5hbC9kZXZlbG9wbWVudFxuICAgICAgIHVzZS5cbiAgICAqL1xuICAgIG9wZnNVdGlsLm1ldHJpY3MgPSB7XG4gICAgICBkdW1wOiBmdW5jdGlvbigpe1xuICAgICAgICBsZXQgaywgbiA9IDAsIHQgPSAwLCB3ID0gMDtcbiAgICAgICAgZm9yKGsgaW4gc3RhdGUub3BJZHMpe1xuICAgICAgICAgIGNvbnN0IG0gPSBtZXRyaWNzW2tdO1xuICAgICAgICAgIG4gKz0gbS5jb3VudDtcbiAgICAgICAgICB0ICs9IG0udGltZTtcbiAgICAgICAgICB3ICs9IG0ud2FpdDtcbiAgICAgICAgICBtLmF2Z1RpbWUgPSAobS5jb3VudCAmJiBtLnRpbWUpID8gKG0udGltZSAvIG0uY291bnQpIDogMDtcbiAgICAgICAgICBtLmF2Z1dhaXQgPSAobS5jb3VudCAmJiBtLndhaXQpID8gKG0ud2FpdCAvIG0uY291bnQpIDogMDtcbiAgICAgICAgfVxuICAgICAgICBzcWxpdGUzLmNvbmZpZy5sb2coZ2xvYmFsVGhpcy5sb2NhdGlvbi5ocmVmLFxuICAgICAgICAgICAgICAgICAgICBcIm1ldHJpY3MgZm9yXCIsZ2xvYmFsVGhpcy5sb2NhdGlvbi5ocmVmLFwiOlwiLG1ldHJpY3MsXG4gICAgICAgICAgICAgICAgICAgIFwiXFxuVG90YWwgb2ZcIixuLFwib3AocykgZm9yXCIsdCxcbiAgICAgICAgICAgICAgICAgICAgXCJtcyAoaW5jbC4gXCIrdytcIiBtcyBvZiB3YWl0aW5nIG9uIHRoZSBhc3luYyBzaWRlKVwiKTtcbiAgICAgICAgc3FsaXRlMy5jb25maWcubG9nKFwiU2VyaWFsaXphdGlvbiBtZXRyaWNzOlwiLG1ldHJpY3MuczExbik7XG4gICAgICAgIFcucG9zdE1lc3NhZ2Uoe3R5cGU6J29wZnMtYXN5bmMtbWV0cmljcyd9KTtcbiAgICAgIH0sXG4gICAgICByZXNldDogZnVuY3Rpb24oKXtcbiAgICAgICAgbGV0IGs7XG4gICAgICAgIGNvbnN0IHIgPSAobSk9PihtLmNvdW50ID0gbS50aW1lID0gbS53YWl0ID0gMCk7XG4gICAgICAgIGZvcihrIGluIHN0YXRlLm9wSWRzKXtcbiAgICAgICAgICByKG1ldHJpY3Nba10gPSBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcyA9IG1ldHJpY3MuczExbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHMgPSBzLnNlcmlhbGl6ZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHMuY291bnQgPSBzLnRpbWUgPSAwO1xuICAgICAgICBzID0gbWV0cmljcy5zMTFuLmRlc2VyaWFsaXplID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgcy5jb3VudCA9IHMudGltZSA9IDA7XG4gICAgICB9XG4gICAgfS8qbWV0cmljcyovO1xuICAgIGNvbnN0IG9wZnNWZnMgPSBuZXcgc3FsaXRlM192ZnMoKTtcbiAgICBjb25zdCBvcGZzSW9NZXRob2RzID0gbmV3IHNxbGl0ZTNfaW9fbWV0aG9kcygpO1xuICAgIGNvbnN0IHByb21pc2VSZWplY3QgPSBmdW5jdGlvbihlcnIpe1xuICAgICAgb3Bmc1Zmcy5kaXNwb3NlKCk7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdF8oZXJyKTtcbiAgICB9O1xuICAgIGNvbnN0IFcgPVxuICAgIG5ldyBXb3JrZXIobmV3IFVSTChcInNxbGl0ZTMtb3Bmcy1hc3luYy1wcm94eS5qc1wiLCBpbXBvcnQubWV0YS51cmwpKTtcbiAgICBXLl9vcmlnaW5hbE9uRXJyb3IgPSBXLm9uZXJyb3IgLyogd2lsbCBiZSByZXN0b3JlZCBsYXRlciAqLztcbiAgICBXLm9uZXJyb3IgPSBmdW5jdGlvbihlcnIpe1xuICAgICAgLy8gVGhlIGVycm9yIG9iamVjdCBkb2Vzbid0IGNvbnRhaW4gYW55IHVzZWZ1bCBpbmZvIHdoZW4gdGhlXG4gICAgICAvLyBmYWlsdXJlIGlzLCBlLmcuLCB0aGF0IHRoZSByZW1vdGUgc2NyaXB0IGlzIDQwNC5cbiAgICAgIGVycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIE9QRlMgYXN5bmNlcjpcIixlcnIpO1xuICAgICAgcHJvbWlzZVJlamVjdChuZXcgRXJyb3IoXCJMb2FkaW5nIE9QRlMgYXN5bmMgV29ya2VyIGZhaWxlZCBmb3IgdW5rbm93biByZWFzb25zLlwiKSk7XG4gICAgfTtcbiAgICBjb25zdCBwRFZmcyA9IGNhcGkuc3FsaXRlM192ZnNfZmluZChudWxsKS8qcG9pbnRlciB0byBkZWZhdWx0IFZGUyovO1xuICAgIGNvbnN0IGRWZnMgPSBwRFZmc1xuICAgICAgICAgID8gbmV3IHNxbGl0ZTNfdmZzKHBEVmZzKVxuICAgICAgICAgIDogbnVsbCAvKiBkVmZzIHdpbGwgYmUgbnVsbCB3aGVuIHNxbGl0ZTMgaXMgYnVpbHQgd2l0aFxuICAgICAgICAgICAgICAgICAgICBTUUxJVEVfT1NfT1RIRVIuICovO1xuICAgIG9wZnNWZnMuJGlWZXJzaW9uID0gMi8qeWVzLCB0d28qLztcbiAgICBvcGZzVmZzLiRzek9zRmlsZSA9IGNhcGkuc3FsaXRlM19maWxlLnN0cnVjdEluZm8uc2l6ZW9mO1xuICAgIG9wZnNWZnMuJG14UGF0aG5hbWUgPSAxMDI0LypzdXJlLCB3aHkgbm90PyovO1xuICAgIG9wZnNWZnMuJHpOYW1lID0gd2FzbS5hbGxvY0NTdHJpbmcoXCJvcGZzXCIpO1xuICAgIC8vIEFsbCBDLXNpZGUgbWVtb3J5IG9mIG9wZnNWZnMgaXMgemVyb2VkIG91dCwgYnV0IGp1c3QgdG8gYmUgZXhwbGljaXQ6XG4gICAgb3Bmc1Zmcy4keERsT3BlbiA9IG9wZnNWZnMuJHhEbEVycm9yID0gb3Bmc1Zmcy4keERsU3ltID0gb3Bmc1Zmcy4keERsQ2xvc2UgPSBudWxsO1xuICAgIG9wZnNWZnMub25kaXNwb3NlID0gW1xuICAgICAgJyR6TmFtZScsIG9wZnNWZnMuJHpOYW1lLFxuICAgICAgJ2NsZWFudXAgZGVmYXVsdCBWRlMgd3JhcHBlcicsICgpPT4oZFZmcyA/IGRWZnMuZGlzcG9zZSgpIDogbnVsbCksXG4gICAgICAnY2xlYW51cCBvcGZzSW9NZXRob2RzJywgKCk9Pm9wZnNJb01ldGhvZHMuZGlzcG9zZSgpXG4gICAgXTtcbiAgICAvKipcbiAgICAgICBQZWRhbnRpYyBzaWRlYmFyIGFib3V0IG9wZnNWZnMub25kaXNwb3NlOiB0aGUgZW50cmllcyBpbiB0aGF0IGFycmF5XG4gICAgICAgYXJlIGl0ZW1zIHRvIGNsZWFuIHVwIHdoZW4gb3Bmc1Zmcy5kaXNwb3NlKCkgaXMgY2FsbGVkLCBidXQgaW4gdGhpc1xuICAgICAgIGVudmlyb25tZW50IGl0IHdpbGwgbmV2ZXIgYmUgY2FsbGVkLiBUaGUgVkZTIGluc3RhbmNlIHNpbXBseVxuICAgICAgIGhhbmdzIGFyb3VuZCB1bnRpbCB0aGUgV0FTTSBtb2R1bGUgaW5zdGFuY2UgaXMgY2xlYW5lZCB1cC4gV2VcbiAgICAgICBcImNvdWxkXCIgX2h5cG90aGV0aWNhbGx5XyBjbGVhbiBpdCB1cCBieSBcImltcG9ydGluZ1wiIGFuXG4gICAgICAgc3FsaXRlM19vc19lbmQoKSBpbXBsIGludG8gdGhlIHdhc20gYnVpbGQsIGJ1dCB0aGUgc2h1dGRvd24gb3JkZXJcbiAgICAgICBvZiB0aGUgd2FzbSBlbmdpbmUgYW5kIHRoZSBKUyBvbmUgYXJlIHVuZGVmaW5lZCBzbyB0aGVyZSBpcyBub1xuICAgICAgIGd1YXJhbnR5IHRoYXQgdGhlIG9wZnNWZnMgaW5zdGFuY2Ugd291bGQgYmUgYXZhaWxhYmxlIGluIG9uZVxuICAgICAgIGVudmlyb25tZW50IG9yIHRoZSBvdGhlciB3aGVuIHNxbGl0ZTNfb3NfZW5kKCkgaXMgY2FsbGVkIChfaWZfIGl0XG4gICAgICAgZ2V0cyBjYWxsZWQgYXQgYWxsIGluIGEgd2FzbSBidWlsZCwgd2hpY2ggaXMgdW5kZWZpbmVkKS5cbiAgICAqL1xuICAgIC8qKlxuICAgICAgIFN0YXRlIHdoaWNoIHdlIHNlbmQgdG8gdGhlIGFzeW5jLWFwaSBXb3JrZXIgb3Igc2hhcmUgd2l0aCBpdC5cbiAgICAgICBUaGlzIG9iamVjdCBtdXN0IGluaXRpYWxseSBjb250YWluIG9ubHkgY2xvbmVhYmxlIG9yIHNoYXJhYmxlXG4gICAgICAgb2JqZWN0cy4gQWZ0ZXIgdGhlIHdvcmtlcidzIFwiaW5pdGVkXCIgbWVzc2FnZSBhcnJpdmVzLCBvdGhlciB0eXBlc1xuICAgICAgIG9mIGRhdGEgbWF5IGJlIGFkZGVkIHRvIGl0LlxuXG4gICAgICAgRm9yIHB1cnBvc2VzIG9mIEF0b21pY3Mud2FpdCgpIGFuZCBBdG9taWNzLm5vdGlmeSgpLCB3ZSB1c2UgYVxuICAgICAgIFNoYXJlZEFycmF5QnVmZmVyIHdpdGggb25lIHNsb3QgcmVzZXJ2ZWQgZm9yIGVhY2ggb2YgdGhlIEFQSVxuICAgICAgIHByb3h5J3MgbWV0aG9kcy4gVGhlIHN5bmMgc2lkZSBvZiB0aGUgQVBJIHVzZXMgQXRvbWljcy53YWl0KClcbiAgICAgICBvbiB0aGUgY29ycmVzcG9uZGluZyBzbG90IGFuZCB0aGUgYXN5bmMgc2lkZSB1c2VzXG4gICAgICAgQXRvbWljcy5ub3RpZnkoKSBvbiB0aGF0IHNsb3QuXG5cbiAgICAgICBUaGUgYXBwcm9hY2ggb2YgdXNpbmcgYSBzaW5nbGUgU0FCIHRvIHNlcmlhbGl6ZSBjb21tcyBmb3IgYWxsXG4gICAgICAgaW5zdGFuY2VzIG1pZ2h0KD8pIGxlYWQgdG8gZGVhZGxvY2sgc2l0dWF0aW9ucyBpbiBtdWx0aS1kYlxuICAgICAgIGNhc2VzLiBXZSBzaG91bGQgcHJvYmFibHkgaGF2ZSBvbmUgU0FCIGhlcmUgd2l0aCBhIHNpbmdsZSBzbG90XG4gICAgICAgZm9yIGxvY2tpbmcgYSBwZXItZmlsZSBpbml0aWFsaXphdGlvbiBzdGVwIGFuZCB0aGVuIGFsbG9jYXRlIGFcbiAgICAgICBzZXBhcmF0ZSBTQUIgbGlrZSB0aGUgYWJvdmUgb25lIGZvciBlYWNoIGZpbGUuIFRoYXQgd2lsbFxuICAgICAgIHJlcXVpcmUgYSBiaXQgb2YgYWNyb2JhdGljcyBidXQgc2hvdWxkIGJlIGZlYXNpYmxlLiBUaGUgbW9zdFxuICAgICAgIHByb2JsZW1hdGljIHBhcnQgaXMgdGhhdCB4T3BlbigpIHdvdWxkIGhhdmUgdG8gdXNlXG4gICAgICAgcG9zdE1lc3NhZ2UoKSB0byBjb21tdW5pY2F0ZSBpdHMgU2hhcmVkQXJyYXlCdWZmZXIsIGFuZCBtaXhpbmdcbiAgICAgICB0aGF0IGFwcHJvYWNoIHdpdGggQXRvbWljcy53YWl0L25vdGlmeSgpIGdldHMgYSBiaXQgbWVzc3kuXG4gICAgKi9cbiAgICBjb25zdCBzdGF0ZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgc3RhdGUudmVyYm9zZSA9IG9wdGlvbnMudmVyYm9zZTtcbiAgICBzdGF0ZS5saXR0bGVFbmRpYW4gPSAoKCk9PntcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcigyKTtcbiAgICAgIG5ldyBEYXRhVmlldyhidWZmZXIpLnNldEludDE2KDAsIDI1NiwgdHJ1ZSAvKiA9PT5saXR0bGVFbmRpYW4gKi8pO1xuICAgICAgLy8gSW50MTZBcnJheSB1c2VzIHRoZSBwbGF0Zm9ybSdzIGVuZGlhbm5lc3MuXG4gICAgICByZXR1cm4gbmV3IEludDE2QXJyYXkoYnVmZmVyKVswXSA9PT0gMjU2O1xuICAgIH0pKCk7XG4gICAgLyoqXG4gICAgICAgYXN5bmNJZGxlV2FpdFRpbWUgaXMgaG93IGxvbmcgKG1zKSB0byB3YWl0LCBpbiB0aGUgYXN5bmMgcHJveHksXG4gICAgICAgZm9yIGVhY2ggQXRvbWljcy53YWl0KCkgd2hlbiB3YWl0aW5nIG9uIGluYm91bmQgVkZTIEFQSSBjYWxscy5cbiAgICAgICBXZSBuZWVkIHRvIHdha2UgdXAgcGVyaW9kaWNhbGx5IHRvIGdpdmUgdGhlIHRocmVhZCBhIGNoYW5jZSB0b1xuICAgICAgIGRvIG90aGVyIHRoaW5ncy4gSWYgdGhpcyBpcyB0b28gaGlnaCAoZS5nLiA1MDBtcykgdGhlbiBldmVuIHR3b1xuICAgICAgIHdvcmtlcnMvdGFicyBjYW4gZWFzaWx5IHJ1biBpbnRvIGxvY2tpbmcgZXJyb3JzLiBTb21lIG11bHRpcGxlXG4gICAgICAgb2YgdGhpcyB2YWx1ZSBpcyBhbHNvIHVzZWQgZm9yIGRldGVybWluaW5nIGhvdyBsb25nIHRvIHdhaXQgb25cbiAgICAgICBsb2NrIGNvbnRlbnRpb24gdG8gZnJlZSB1cC5cbiAgICAqL1xuICAgIHN0YXRlLmFzeW5jSWRsZVdhaXRUaW1lID0gMTUwO1xuICAgIC8qKlxuICAgICAgIFdoZXRoZXIgdGhlIGFzeW5jIGNvdW50ZXJwYXJ0IHNob3VsZCBsb2cgZXhjZXB0aW9ucyB0b1xuICAgICAgIHRoZSBzZXJpYWxpemF0aW9uIGNoYW5uZWwuIFRoYXQgcHJvZHVjZXMgYSBncmVhdCBkZWFsIG9mXG4gICAgICAgbm9pc2UgZm9yIHNlZW1pbmdseSBpbm5vY3VvdXMgdGhpbmdzIGxpa2UgeEFjY2VzcygpIGNoZWNrc1xuICAgICAgIGZvciBtaXNzaW5nIGZpbGVzLCBzbyB0aGlzIG9wdGlvbiBtYXkgaGF2ZSBvbmUgb2YgMyB2YWx1ZXM6XG5cbiAgICAgICAwID0gbm8gZXhjZXB0aW9uIGxvZ2dpbmcuXG5cbiAgICAgICAxID0gb25seSBsb2cgZXhjZXB0aW9ucyBmb3IgXCJzaWduaWZpY2FudFwiIG9wcyBsaWtlIHhPcGVuKCksXG4gICAgICAgeFJlYWQoKSwgYW5kIHhXcml0ZSgpLlxuXG4gICAgICAgMiA9IGxvZyBhbGwgZXhjZXB0aW9ucy5cbiAgICAqL1xuICAgIHN0YXRlLmFzeW5jUzExbkV4Y2VwdGlvbnMgPSAxO1xuICAgIC8qIFNpemUgb2YgZmlsZSBJL08gYnVmZmVyIGJsb2NrLiA2NGsgPSBtYXggc3FsaXRlMyBwYWdlIHNpemUsIGFuZFxuICAgICAgIHhSZWFkL3hXcml0ZSgpIHdpbGwgbmV2ZXIgZGVhbCBpbiBibG9ja3MgbGFyZ2VyIHRoYW4gdGhhdC4gKi9cbiAgICBzdGF0ZS5maWxlQnVmZmVyU2l6ZSA9IDEwMjQgKiA2NDtcbiAgICBzdGF0ZS5zYWJTMTFuT2Zmc2V0ID0gc3RhdGUuZmlsZUJ1ZmZlclNpemU7XG4gICAgLyoqXG4gICAgICAgVGhlIHNpemUgb2YgdGhlIGJsb2NrIGluIG91ciBTQUIgZm9yIHNlcmlhbGl6aW5nIGFyZ3VtZW50cyBhbmRcbiAgICAgICByZXN1bHQgdmFsdWVzLiBOZWVkcyB0byBiZSBsYXJnZSBlbm91Z2ggdG8gaG9sZCBzZXJpYWxpemVkXG4gICAgICAgdmFsdWVzIG9mIGFueSBvZiB0aGUgcHJveGllZCBBUElzLiBGaWxlbmFtZXMgYXJlIHRoZSBsYXJnZXN0XG4gICAgICAgcGFydCBidXQgYXJlIGxpbWl0ZWQgdG8gb3Bmc1Zmcy4kbXhQYXRobmFtZSBieXRlcy4gV2UgYWxzb1xuICAgICAgIHN0b3JlIGV4Y2VwdGlvbnMgdGhlcmUsIHNvIGl0IG5lZWRzIHRvIGJlIGxvbmcgZW5vdWdoIHRvIGhvbGRcbiAgICAgICBhIHJlYXNvbmFibHkgbG9uZyBleGNlcHRpb24gc3RyaW5nLlxuICAgICovXG4gICAgc3RhdGUuc2FiUzExblNpemUgPSBvcGZzVmZzLiRteFBhdGhuYW1lICogMjtcbiAgICAvKipcbiAgICAgICBUaGUgU0FCIHVzZWQgZm9yIGFsbCBkYXRhIEkvTyBiZXR3ZWVuIHRoZSBzeW5jaHJvbm91cyBhbmRcbiAgICAgICBhc3luYyBoYWx2ZXMgKGZpbGUgaS9vIGFuZCBhcmcvcmVzdWx0IHMxMW4pLlxuICAgICovXG4gICAgc3RhdGUuc2FiSU8gPSBuZXcgU2hhcmVkQXJyYXlCdWZmZXIoXG4gICAgICBzdGF0ZS5maWxlQnVmZmVyU2l6ZS8qIGZpbGUgaS9vIGJsb2NrICovXG4gICAgICArIHN0YXRlLnNhYlMxMW5TaXplLyogYXJndW1lbnQvcmVzdWx0IHNlcmlhbGl6YXRpb24gYmxvY2sgKi9cbiAgICApO1xuICAgIHN0YXRlLm9wSWRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBjb25zdCBtZXRyaWNzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB7XG4gICAgICAvKiBJbmRleGVzIGZvciB1c2UgaW4gb3VyIFNoYXJlZEFycmF5QnVmZmVyLi4uICovXG4gICAgICBsZXQgaSA9IDA7XG4gICAgICAvKiBTQUIgc2xvdCB1c2VkIHRvIGNvbW11bmljYXRlIHdoaWNoIG9wZXJhdGlvbiBpcyBkZXNpcmVkXG4gICAgICAgICBiZXR3ZWVuIGJvdGggd29ya2Vycy4gVGhpcyB3b3JrZXIgd3JpdGVzIHRvIGl0IGFuZCB0aGUgb3RoZXJcbiAgICAgICAgIGxpc3RlbnMgZm9yIGNoYW5nZXMuICovXG4gICAgICBzdGF0ZS5vcElkcy53aGljaE9wID0gaSsrO1xuICAgICAgLyogU2xvdCBmb3Igc3RvcmluZyByZXR1cm4gdmFsdWVzLiBUaGlzIHdvcmtlciBsaXN0ZW5zIHRvIHRoYXRcbiAgICAgICAgIHNsb3QgYW5kIHRoZSBvdGhlciB3b3JrZXIgd3JpdGVzIHRvIGl0LiAqL1xuICAgICAgc3RhdGUub3BJZHMucmMgPSBpKys7XG4gICAgICAvKiBFYWNoIGZ1bmN0aW9uIGdldHMgYW4gSUQgd2hpY2ggdGhpcyB3b3JrZXIgd3JpdGVzIHRvXG4gICAgICAgICB0aGUgd2hpY2hPcCBzbG90LiBUaGUgYXN5bmMtYXBpIHdvcmtlciB1c2VzIEF0b21pYy53YWl0KClcbiAgICAgICAgIG9uIHRoZSB3aGljaE9wIHNsb3QgdG8gZmlndXJlIG91dCB3aGljaCBvcGVyYXRpb24gdG8gcnVuXG4gICAgICAgICBuZXh0LiAqL1xuICAgICAgc3RhdGUub3BJZHMueEFjY2VzcyA9IGkrKztcbiAgICAgIHN0YXRlLm9wSWRzLnhDbG9zZSA9IGkrKztcbiAgICAgIHN0YXRlLm9wSWRzLnhEZWxldGUgPSBpKys7XG4gICAgICBzdGF0ZS5vcElkcy54RGVsZXRlTm9XYWl0ID0gaSsrO1xuICAgICAgc3RhdGUub3BJZHMueEZpbGVDb250cm9sID0gaSsrO1xuICAgICAgc3RhdGUub3BJZHMueEZpbGVTaXplID0gaSsrO1xuICAgICAgc3RhdGUub3BJZHMueExvY2sgPSBpKys7XG4gICAgICBzdGF0ZS5vcElkcy54T3BlbiA9IGkrKztcbiAgICAgIHN0YXRlLm9wSWRzLnhSZWFkID0gaSsrO1xuICAgICAgc3RhdGUub3BJZHMueFNsZWVwID0gaSsrO1xuICAgICAgc3RhdGUub3BJZHMueFN5bmMgPSBpKys7XG4gICAgICBzdGF0ZS5vcElkcy54VHJ1bmNhdGUgPSBpKys7XG4gICAgICBzdGF0ZS5vcElkcy54VW5sb2NrID0gaSsrO1xuICAgICAgc3RhdGUub3BJZHMueFdyaXRlID0gaSsrO1xuICAgICAgc3RhdGUub3BJZHMubWtkaXIgPSBpKys7XG4gICAgICBzdGF0ZS5vcElkc1snb3Bmcy1hc3luYy1tZXRyaWNzJ10gPSBpKys7XG4gICAgICBzdGF0ZS5vcElkc1snb3Bmcy1hc3luYy1zaHV0ZG93biddID0gaSsrO1xuICAgICAgLyogVGhlIHJldHJ5IHNsb3QgaXMgdXNlZCBieSB0aGUgYXN5bmMgcGFydCBmb3Igd2FpdC1hbmQtcmV0cnlcbiAgICAgICAgIHNlbWFudGljcy4gVGhvdWdoIHdlIGNvdWxkIGh5cG90aGV0aWNhbGx5IHVzZSB0aGUgeFNsZWVwIHNsb3RcbiAgICAgICAgIGZvciB0aGF0LCBkb2luZyBzbyBtaWdodCBsZWFkIHRvIHVuZGVzaXJlZCBzaWRlIGVmZmVjdHMuICovXG4gICAgICBzdGF0ZS5vcElkcy5yZXRyeSA9IGkrKztcbiAgICAgIHN0YXRlLnNhYk9QID0gbmV3IFNoYXJlZEFycmF5QnVmZmVyKFxuICAgICAgICBpICogNC8qID09c2l6ZW9mIGludDMyLCBub3RpbmcgdGhhdCBBdG9taWNzLndhaXQoKSBhbmQgZnJpZW5kc1xuICAgICAgICAgICAgICAgIGNhbiBvbmx5IGZ1bmN0aW9uIG9uIEludDMyQXJyYXkgdmlld3Mgb2YgYW4gU0FCLiAqLyk7XG4gICAgICBvcGZzVXRpbC5tZXRyaWNzLnJlc2V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgIFNRTElURV94eHggY29uc3RhbnRzIHRvIGV4cG9ydCB0byB0aGUgYXN5bmMgd29ya2VyXG4gICAgICAgY291bnRlcnBhcnQuLi5cbiAgICAqL1xuICAgIHN0YXRlLnNxM0NvZGVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBbXG4gICAgICAnU1FMSVRFX0FDQ0VTU19FWElTVFMnLFxuICAgICAgJ1NRTElURV9BQ0NFU1NfUkVBRFdSSVRFJyxcbiAgICAgICdTUUxJVEVfQlVTWScsXG4gICAgICAnU1FMSVRFX0VSUk9SJyxcbiAgICAgICdTUUxJVEVfSU9FUlInLFxuICAgICAgJ1NRTElURV9JT0VSUl9BQ0NFU1MnLFxuICAgICAgJ1NRTElURV9JT0VSUl9DTE9TRScsXG4gICAgICAnU1FMSVRFX0lPRVJSX0RFTEVURScsXG4gICAgICAnU1FMSVRFX0lPRVJSX0ZTWU5DJyxcbiAgICAgICdTUUxJVEVfSU9FUlJfTE9DSycsXG4gICAgICAnU1FMSVRFX0lPRVJSX1JFQUQnLFxuICAgICAgJ1NRTElURV9JT0VSUl9TSE9SVF9SRUFEJyxcbiAgICAgICdTUUxJVEVfSU9FUlJfVFJVTkNBVEUnLFxuICAgICAgJ1NRTElURV9JT0VSUl9VTkxPQ0snLFxuICAgICAgJ1NRTElURV9JT0VSUl9XUklURScsXG4gICAgICAnU1FMSVRFX0xPQ0tfRVhDTFVTSVZFJyxcbiAgICAgICdTUUxJVEVfTE9DS19OT05FJyxcbiAgICAgICdTUUxJVEVfTE9DS19QRU5ESU5HJyxcbiAgICAgICdTUUxJVEVfTE9DS19SRVNFUlZFRCcsXG4gICAgICAnU1FMSVRFX0xPQ0tfU0hBUkVEJyxcbiAgICAgICdTUUxJVEVfTE9DS0VEJyxcbiAgICAgICdTUUxJVEVfTUlTVVNFJyxcbiAgICAgICdTUUxJVEVfTk9URk9VTkQnLFxuICAgICAgJ1NRTElURV9PUEVOX0NSRUFURScsXG4gICAgICAnU1FMSVRFX09QRU5fREVMRVRFT05DTE9TRScsXG4gICAgICAnU1FMSVRFX09QRU5fTUFJTl9EQicsXG4gICAgICAnU1FMSVRFX09QRU5fUkVBRE9OTFknXG4gICAgXS5mb3JFYWNoKChrKT0+e1xuICAgICAgaWYodW5kZWZpbmVkID09PSAoc3RhdGUuc3EzQ29kZXNba10gPSBjYXBpW2tdKSl7XG4gICAgICAgIHRvc3MoXCJNYWludGVuYW5jZSByZXF1aXJlZDogbm90IGZvdW5kOlwiLGspO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN0YXRlLm9wZnNGbGFncyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShudWxsKSx7XG4gICAgICAvKipcbiAgICAgICAgIEZsYWcgZm9yIHVzZSB3aXRoIHhPcGVuKCkuIFwib3Bmcy11bmxvY2stYXNhcD0xXCIgZW5hYmxlc1xuICAgICAgICAgdGhpcy4gU2VlIGRlZmF1bHRVbmxvY2tBc2FwLCBiZWxvdy5cbiAgICAgICAqL1xuICAgICAgT1BGU19VTkxPQ0tfQVNBUDogMHgwMSxcbiAgICAgIC8qKlxuICAgICAgICAgSWYgdHJ1ZSwgYW55IGFzeW5jIHJvdXRpbmUgd2hpY2ggaW1wbGljaXRseSBhY3F1aXJlcyBhIHN5bmNcbiAgICAgICAgIGFjY2VzcyBoYW5kbGUgKGkuZS4gYW4gT1BGUyBsb2NrKSB3aWxsIHJlbGVhc2UgdGhhdCBsb2NrcyBhdFxuICAgICAgICAgdGhlIGVuZCBvZiB0aGUgY2FsbCB3aGljaCBhY3F1aXJlcyBpdC4gSWYgZmFsc2UsIHN1Y2hcbiAgICAgICAgIFwiYXV0b2xvY2tzXCIgYXJlIG5vdCByZWxlYXNlZCB1bnRpbCB0aGUgVkZTIGlzIGlkbGUgZm9yIHNvbWVcbiAgICAgICAgIGJyaWVmIGFtb3VudCBvZiB0aW1lLlxuXG4gICAgICAgICBUaGUgYmVuZWZpdCBvZiBlbmFibGluZyB0aGlzIGlzIG11Y2ggaGlnaGVyIGNvbmN1cnJlbmN5LiBUaGVcbiAgICAgICAgIGRvd24tc2lkZSBpcyBtdWNoLXJlZHVjZWQgcGVyZm9ybWFuY2UgKGFzIG11Y2ggYXMgYSA0eCBkZWNyZWFzZVxuICAgICAgICAgaW4gc3BlZWR0ZXN0MSkuXG4gICAgICAqL1xuICAgICAgZGVmYXVsdFVubG9ja0FzYXA6IGZhbHNlXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgICBSdW5zIHRoZSBnaXZlbiBvcGVyYXRpb24gKGJ5IG5hbWUpIGluIHRoZSBhc3luYyB3b3JrZXJcbiAgICAgICBjb3VudGVycGFydCwgd2FpdHMgZm9yIGl0cyByZXNwb25zZSwgYW5kIHJldHVybnMgdGhlIHJlc3VsdFxuICAgICAgIHdoaWNoIHRoZSBhc3luYyB3b3JrZXIgd3JpdGVzIHRvIFNBQltzdGF0ZS5vcElkcy5yY10uIFRoZVxuICAgICAgIDJuZCBhbmQgc3Vic2VxdWVudCBhcmd1bWVudHMgbXVzdCBiZSB0aGUgYXJ1Z3VtZW50cyBmb3IgdGhlXG4gICAgICAgYXN5bmMgb3AuXG4gICAgKi9cbiAgICBjb25zdCBvcFJ1biA9IChvcCwuLi5hcmdzKT0+e1xuICAgICAgY29uc3Qgb3BOZHggPSBzdGF0ZS5vcElkc1tvcF0gfHwgdG9zcyhcIkludmFsaWQgb3AgSUQ6XCIsb3ApO1xuICAgICAgc3RhdGUuczExbi5zZXJpYWxpemUoLi4uYXJncyk7XG4gICAgICBBdG9taWNzLnN0b3JlKHN0YXRlLnNhYk9QVmlldywgc3RhdGUub3BJZHMucmMsIC0xKTtcbiAgICAgIEF0b21pY3Muc3RvcmUoc3RhdGUuc2FiT1BWaWV3LCBzdGF0ZS5vcElkcy53aGljaE9wLCBvcE5keCk7XG4gICAgICBBdG9taWNzLm5vdGlmeShzdGF0ZS5zYWJPUFZpZXcsIHN0YXRlLm9wSWRzLndoaWNoT3ApXG4gICAgICAvKiBhc3luYyB0aHJlYWQgd2lsbCB0YWtlIG92ZXIgaGVyZSAqLztcbiAgICAgIGNvbnN0IHQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIEF0b21pY3Mud2FpdChzdGF0ZS5zYWJPUFZpZXcsIHN0YXRlLm9wSWRzLnJjLCAtMSlcbiAgICAgIC8qIFdoZW4gdGhpcyB3YWl0KCkgY2FsbCByZXR1cm5zLCB0aGUgYXN5bmMgaGFsZiB3aWxsIGhhdmVcbiAgICAgICAgIGNvbXBsZXRlZCB0aGUgb3BlcmF0aW9uIGFuZCByZXBvcnRlZCBpdHMgcmVzdWx0cy4gKi87XG4gICAgICBjb25zdCByYyA9IEF0b21pY3MubG9hZChzdGF0ZS5zYWJPUFZpZXcsIHN0YXRlLm9wSWRzLnJjKTtcbiAgICAgIG1ldHJpY3Nbb3BdLndhaXQgKz0gcGVyZm9ybWFuY2Uubm93KCkgLSB0O1xuICAgICAgaWYocmMgJiYgc3RhdGUuYXN5bmNTMTFuRXhjZXB0aW9ucyl7XG4gICAgICAgIGNvbnN0IGVyciA9IHN0YXRlLnMxMW4uZGVzZXJpYWxpemUoKTtcbiAgICAgICAgaWYoZXJyKSBlcnJvcihvcCtcIigpIGFzeW5jIGVycm9yOlwiLC4uLmVycik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAgIE5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJLiBPbmx5IGZvciB0ZXN0L2RldmVsb3BtZW50IHVzZS5cbiAgICAqL1xuICAgIG9wZnNVdGlsLmRlYnVnID0ge1xuICAgICAgYXN5bmNTaHV0ZG93bjogKCk9PntcbiAgICAgICAgd2FybihcIlNodXR0aW5nIGRvd24gT1BGUyBhc3luYyBsaXN0ZW5lci4gVGhlIE9QRlMgVkZTIHdpbGwgbm8gbG9uZ2VyIHdvcmsuXCIpO1xuICAgICAgICBvcFJ1bignb3Bmcy1hc3luYy1zaHV0ZG93bicpO1xuICAgICAgfSxcbiAgICAgIGFzeW5jUmVzdGFydDogKCk9PntcbiAgICAgICAgd2FybihcIkF0dGVtcHRpbmcgdG8gcmVzdGFydCBPUEZTIFZGUyBhc3luYyBsaXN0ZW5lci4gTWlnaHQgd29yaywgbWlnaHQgbm90LlwiKTtcbiAgICAgICAgVy5wb3N0TWVzc2FnZSh7dHlwZTogJ29wZnMtYXN5bmMtcmVzdGFydCd9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaW5pdFMxMW4gPSAoKT0+e1xuICAgICAgLyoqXG4gICAgICAgICAhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISFcbiAgICAgICAgIEFDSFRVTkc6IHRoaXMgY29kZSBpcyAxMDAlIGR1cGxpY2F0ZWQgaW4gdGhlIG90aGVyIGhhbGYgb2ZcbiAgICAgICAgIHRoaXMgcHJveHkhIFRoZSBkb2N1bWVudGF0aW9uIGlzIG1haW50YWluZWQgaW4gdGhlXG4gICAgICAgICBcInN5bmNocm9ub3VzIGhhbGZcIi5cbiAgICAgICAgICEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhIVxuXG4gICAgICAgICBUaGlzIHByb3h5IGRlL3NlcmlhbGl6ZXMgY3Jvc3MtdGhyZWFkIGZ1bmN0aW9uIGFyZ3VtZW50cyBhbmRcbiAgICAgICAgIG91dHB1dC1wb2ludGVyIHZhbHVlcyB2aWEgdGhlIHN0YXRlLnNhYklPIFNoYXJlZEFycmF5QnVmZmVyLFxuICAgICAgICAgdXNpbmcgdGhlIHJlZ2lvbiBkZWZpbmVkIGJ5IChzdGF0ZS5zYWJTMTFuT2Zmc2V0LFxuICAgICAgICAgc3RhdGUuc2FiUzExbk9mZnNldF0uIE9ubHkgb25lIGRhdGFzZXQgaXMgcmVjb3JkZWQgYXQgYSB0aW1lLlxuXG4gICAgICAgICBUaGlzIGlzIG5vdCBhIGdlbmVyYWwtcHVycG9zZSBmb3JtYXQuIEl0IG9ubHkgc3VwcG9ydHMgdGhlXG4gICAgICAgICByYW5nZSBvZiBvcGVyYXRpb25zLCBhbmQgZGF0YSBzaXplcywgbmVlZGVkIGJ5IHRoZVxuICAgICAgICAgc3FsaXRlM192ZnMgYW5kIHNxbGl0ZTNfaW9fbWV0aG9kcyBvcGVyYXRpb25zLiBTZXJpYWxpemVkXG4gICAgICAgICBkYXRhIGFyZSB0cmFuc2llbnQgYW5kIHRoaXMgc2VyaWFsaXphdGlvbiBhbGdvcml0aG0gbWF5XG4gICAgICAgICBjaGFuZ2UgYXQgYW55IHRpbWUuXG5cbiAgICAgICAgIFRoZSBkYXRhIGZvcm1hdCBjYW4gYmUgc3VjY2luY3RseSBzdW1tYXJpemVkIGFzOlxuXG4gICAgICAgICBOdC4uLlRkLi4uRFxuXG4gICAgICAgICBXaGVyZTpcblxuICAgICAgICAgLSBOID0gbnVtYmVyIG9mIGVudHJpZXMgKDEgYnl0ZSlcblxuICAgICAgICAgLSB0ID0gdHlwZSBJRCBvZiBmaXJzdCBhcmd1bWVudCAoMSBieXRlKVxuXG4gICAgICAgICAtIC4uLlQgPSB0eXBlIElEcyBvZiB0aGUgMm5kIGFuZCBzdWJzZXF1ZW50IGFyZ3VtZW50cyAoMSBieXRlXG4gICAgICAgICBlYWNoKS5cblxuICAgICAgICAgLSBkID0gcmF3IGJ5dGVzIG9mIGZpcnN0IGFyZ3VtZW50IChwZXItdHlwZSBzaXplKS5cblxuICAgICAgICAgLSAuLi5EID0gcmF3IGJ5dGVzIG9mIHRoZSAybmQgYW5kIHN1YnNlcXVlbnQgYXJndW1lbnRzIChwZXItdHlwZVxuICAgICAgICAgc2l6ZSkuXG5cbiAgICAgICAgIEFsbCB0eXBlcyBleGNlcHQgc3RyaW5ncyBoYXZlIGZpeGVkIHNpemVzLiBTdHJpbmdzIGFyZSBzdG9yZWRcbiAgICAgICAgIHVzaW5nIHRoZWlyIFRleHRFbmNvZGVyL1RleHREZWNvZGVyIHJlcHJlc2VudGF0aW9ucy4gSXQgd291bGRcbiAgICAgICAgIGFyZ3VhYmx5IG1ha2UgbW9yZSBzZW5zZSB0byBzdG9yZSB0aGVtIGFzIEludDE2QXJyYXlzIG9mXG4gICAgICAgICB0aGVpciBKUyBjaGFyYWN0ZXIgdmFsdWVzLCBidXQgaG93IGJlc3QvZmFzdGVzdCB0byBnZXQgdGhhdFxuICAgICAgICAgaW4gYW5kIG91dCBvZiBzdHJpbmcgZm9ybSBpcyBhbiBvcGVuIHBvaW50LiBJbml0aWFsXG4gICAgICAgICBleHBlcmltZW50YXRpb24gd2l0aCB0aGF0IGFwcHJvYWNoIGRpZCBub3QgZ2FpbiB1cyBhbnkgc3BlZWQuXG5cbiAgICAgICAgIEhpc3RvcmljYWwgbm90ZTogdGhpcyBpbXBsIHdhcyBpbml0aWFsbHkgYWJvdXQgMSUgdGhpcyBzaXplIGJ5XG4gICAgICAgICB1c2luZyB1c2luZyBKU09OLnN0cmluZ2lmeS9wYXJzZSgpLCBidXQgdXNpbmcgZml0LXRvLXB1cnBvc2VcbiAgICAgICAgIHNlcmlhbGl6YXRpb24gc2F2ZXMgY29uc2lkZXJhYmxlIHJ1bnRpbWUuXG4gICAgICAqL1xuICAgICAgaWYoc3RhdGUuczExbikgcmV0dXJuIHN0YXRlLnMxMW47XG4gICAgICBjb25zdCB0ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpLFxuICAgICAgICAgICAgdGV4dEVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoJ3V0Zi04JyksXG4gICAgICAgICAgICB2aWV3VTggPSBuZXcgVWludDhBcnJheShzdGF0ZS5zYWJJTywgc3RhdGUuc2FiUzExbk9mZnNldCwgc3RhdGUuc2FiUzExblNpemUpLFxuICAgICAgICAgICAgdmlld0RWID0gbmV3IERhdGFWaWV3KHN0YXRlLnNhYklPLCBzdGF0ZS5zYWJTMTFuT2Zmc2V0LCBzdGF0ZS5zYWJTMTFuU2l6ZSk7XG4gICAgICBzdGF0ZS5zMTFuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIC8qIE9ubHkgYXJndW1lbnRzIGFuZCByZXR1cm4gdmFsdWVzIG9mIHRoZXNlIHR5cGVzIG1heSBiZVxuICAgICAgICAgc2VyaWFsaXplZC4gVGhpcyBjb3ZlcnMgdGhlIHdob2xlIHJhbmdlIG9mIHR5cGVzIG5lZWRlZCBieSB0aGVcbiAgICAgICAgIHNxbGl0ZTNfdmZzIEFQSS4gKi9cbiAgICAgIGNvbnN0IFR5cGVJZHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgVHlwZUlkcy5udW1iZXIgID0geyBpZDogMSwgc2l6ZTogOCwgZ2V0dGVyOiAnZ2V0RmxvYXQ2NCcsIHNldHRlcjogJ3NldEZsb2F0NjQnIH07XG4gICAgICBUeXBlSWRzLmJpZ2ludCAgPSB7IGlkOiAyLCBzaXplOiA4LCBnZXR0ZXI6ICdnZXRCaWdJbnQ2NCcsIHNldHRlcjogJ3NldEJpZ0ludDY0JyB9O1xuICAgICAgVHlwZUlkcy5ib29sZWFuID0geyBpZDogMywgc2l6ZTogNCwgZ2V0dGVyOiAnZ2V0SW50MzInLCBzZXR0ZXI6ICdzZXRJbnQzMicgfTtcbiAgICAgIFR5cGVJZHMuc3RyaW5nID0gIHsgaWQ6IDQgfTtcblxuICAgICAgY29uc3QgZ2V0VHlwZUlkID0gKHYpPT4oXG4gICAgICAgIFR5cGVJZHNbdHlwZW9mIHZdXG4gICAgICAgICAgfHwgdG9zcyhcIk1haW50ZW5hbmNlIHJlcXVpcmVkOiB0aGlzIHZhbHVlIHR5cGUgY2Fubm90IGJlIHNlcmlhbGl6ZWQuXCIsdilcbiAgICAgICk7XG4gICAgICBjb25zdCBnZXRUeXBlSWRCeUlkID0gKHRpZCk9PntcbiAgICAgICAgc3dpdGNoKHRpZCl7XG4gICAgICAgICAgICBjYXNlIFR5cGVJZHMubnVtYmVyLmlkOiByZXR1cm4gVHlwZUlkcy5udW1iZXI7XG4gICAgICAgICAgICBjYXNlIFR5cGVJZHMuYmlnaW50LmlkOiByZXR1cm4gVHlwZUlkcy5iaWdpbnQ7XG4gICAgICAgICAgICBjYXNlIFR5cGVJZHMuYm9vbGVhbi5pZDogcmV0dXJuIFR5cGVJZHMuYm9vbGVhbjtcbiAgICAgICAgICAgIGNhc2UgVHlwZUlkcy5zdHJpbmcuaWQ6IHJldHVybiBUeXBlSWRzLnN0cmluZztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRvc3MoXCJJbnZhbGlkIHR5cGUgSUQ6XCIsdGlkKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgICBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSBkZXNlcmlhbGl6ZWQgc3RhdGUgc3RvcmVkIGJ5IHRoZSBtb3N0XG4gICAgICAgICByZWNlbnQgc2VyaWFsaXplKCkgb3BlcmF0aW9uIChmcm9tIGZyb20gdGhpcyB0aHJlYWQgb3IgdGhlXG4gICAgICAgICBjb3VudGVycGFydCB0aHJlYWQpLCBvciBudWxsIGlmIHRoZSBzZXJpYWxpemF0aW9uIGJ1ZmZlciBpc1xuICAgICAgICAgZW1wdHkuICBJZiBwYXNzZWQgYSB0cnV0aHkgYXJndW1lbnQsIHRoZSBzZXJpYWxpemF0aW9uIGJ1ZmZlclxuICAgICAgICAgaXMgY2xlYXJlZCBhZnRlciBkZXNlcmlhbGl6YXRpb24uXG4gICAgICAqL1xuICAgICAgc3RhdGUuczExbi5kZXNlcmlhbGl6ZSA9IGZ1bmN0aW9uKGNsZWFyPWZhbHNlKXtcbiAgICAgICAgKyttZXRyaWNzLnMxMW4uZGVzZXJpYWxpemUuY291bnQ7XG4gICAgICAgIGNvbnN0IHQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgY29uc3QgYXJnYyA9IHZpZXdVOFswXTtcbiAgICAgICAgY29uc3QgcmMgPSBhcmdjID8gW10gOiBudWxsO1xuICAgICAgICBpZihhcmdjKXtcbiAgICAgICAgICBjb25zdCB0eXBlSWRzID0gW107XG4gICAgICAgICAgbGV0IG9mZnNldCA9IDEsIGksIG4sIHY7XG4gICAgICAgICAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgKytpLCArK29mZnNldCl7XG4gICAgICAgICAgICB0eXBlSWRzLnB1c2goZ2V0VHlwZUlkQnlJZCh2aWV3VThbb2Zmc2V0XSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IoaSA9IDA7IGkgPCBhcmdjOyArK2kpe1xuICAgICAgICAgICAgY29uc3QgdCA9IHR5cGVJZHNbaV07XG4gICAgICAgICAgICBpZih0LmdldHRlcil7XG4gICAgICAgICAgICAgIHYgPSB2aWV3RFZbdC5nZXR0ZXJdKG9mZnNldCwgc3RhdGUubGl0dGxlRW5kaWFuKTtcbiAgICAgICAgICAgICAgb2Zmc2V0ICs9IHQuc2l6ZTtcbiAgICAgICAgICAgIH1lbHNley8qU3RyaW5nKi9cbiAgICAgICAgICAgICAgbiA9IHZpZXdEVi5nZXRJbnQzMihvZmZzZXQsIHN0YXRlLmxpdHRsZUVuZGlhbik7XG4gICAgICAgICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICAgICAgICB2ID0gdGV4dERlY29kZXIuZGVjb2RlKHZpZXdVOC5zbGljZShvZmZzZXQsIG9mZnNldCtuKSk7XG4gICAgICAgICAgICAgIG9mZnNldCArPSBuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmMucHVzaCh2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoY2xlYXIpIHZpZXdVOFswXSA9IDA7XG4gICAgICAgIC8vbG9nKFwiZGVzZXJpYWxpemU6XCIsYXJnYywgcmMpO1xuICAgICAgICBtZXRyaWNzLnMxMW4uZGVzZXJpYWxpemUudGltZSArPSBwZXJmb3JtYW5jZS5ub3coKSAtIHQ7XG4gICAgICAgIHJldHVybiByYztcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICAgU2VyaWFsaXplcyBhbGwgYXJndW1lbnRzIHRvIHRoZSBzaGFyZWQgYnVmZmVyIGZvciBjb25zdW1wdGlvblxuICAgICAgICAgYnkgdGhlIGNvdW50ZXJwYXJ0IHRocmVhZC5cblxuICAgICAgICAgVGhpcyByb3V0aW5lIGlzIG9ubHkgaW50ZW5kZWQgZm9yIHNlcmlhbGl6aW5nIE9QRlMgVkZTXG4gICAgICAgICBhcmd1bWVudHMgYW5kIChpbiBhdCBsZWFzdCBvbmUgc3BlY2lhbCBjYXNlKSByZXN1bHQgdmFsdWVzLFxuICAgICAgICAgYW5kIHRoZSBidWZmZXIgaXMgc2l6ZWQgdG8gYmUgYWJsZSB0byBjb21mb3J0YWJseSBoYW5kbGVcbiAgICAgICAgIHRob3NlLlxuXG4gICAgICAgICBJZiBwYXNzZWQgbm8gYXJndW1lbnRzIHRoZW4gaXQgemVyb2VzIG91dCB0aGUgc2VyaWFsaXphdGlvblxuICAgICAgICAgc3RhdGUuXG4gICAgICAqL1xuICAgICAgc3RhdGUuczExbi5zZXJpYWxpemUgPSBmdW5jdGlvbiguLi5hcmdzKXtcbiAgICAgICAgY29uc3QgdCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICArK21ldHJpY3MuczExbi5zZXJpYWxpemUuY291bnQ7XG4gICAgICAgIGlmKGFyZ3MubGVuZ3RoKXtcbiAgICAgICAgICAvL2xvZyhcInNlcmlhbGl6ZSgpOlwiLGFyZ3MpO1xuICAgICAgICAgIGNvbnN0IHR5cGVJZHMgPSBbXTtcbiAgICAgICAgICBsZXQgaSA9IDAsIG9mZnNldCA9IDE7XG4gICAgICAgICAgdmlld1U4WzBdID0gYXJncy5sZW5ndGggJiAweGZmIC8qIGhlYWRlciA9ICMgb2YgYXJncyAqLztcbiAgICAgICAgICBmb3IoOyBpIDwgYXJncy5sZW5ndGg7ICsraSwgKytvZmZzZXQpe1xuICAgICAgICAgICAgLyogV3JpdGUgdGhlIFR5cGVJZHMuaWQgdmFsdWUgaW50byB0aGUgbmV4dCBhcmdzLmxlbmd0aFxuICAgICAgICAgICAgICAgYnl0ZXMuICovXG4gICAgICAgICAgICB0eXBlSWRzLnB1c2goZ2V0VHlwZUlkKGFyZ3NbaV0pKTtcbiAgICAgICAgICAgIHZpZXdVOFtvZmZzZXRdID0gdHlwZUlkc1tpXS5pZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yKGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgLyogRGVzZXJpYWxpemUgdGhlIGZvbGxvd2luZyBieXRlcyBiYXNlZCBvbiB0aGVpclxuICAgICAgICAgICAgICAgY29ycmVzcG9uZGluZyBUeXBlSWRzLmlkIGZyb20gdGhlIGhlYWRlci4gKi9cbiAgICAgICAgICAgIGNvbnN0IHQgPSB0eXBlSWRzW2ldO1xuICAgICAgICAgICAgaWYodC5zZXR0ZXIpe1xuICAgICAgICAgICAgICB2aWV3RFZbdC5zZXR0ZXJdKG9mZnNldCwgYXJnc1tpXSwgc3RhdGUubGl0dGxlRW5kaWFuKTtcbiAgICAgICAgICAgICAgb2Zmc2V0ICs9IHQuc2l6ZTtcbiAgICAgICAgICAgIH1lbHNley8qU3RyaW5nKi9cbiAgICAgICAgICAgICAgY29uc3QgcyA9IHRleHRFbmNvZGVyLmVuY29kZShhcmdzW2ldKTtcbiAgICAgICAgICAgICAgdmlld0RWLnNldEludDMyKG9mZnNldCwgcy5ieXRlTGVuZ3RoLCBzdGF0ZS5saXR0bGVFbmRpYW4pO1xuICAgICAgICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgICAgICAgdmlld1U4LnNldChzLCBvZmZzZXQpO1xuICAgICAgICAgICAgICBvZmZzZXQgKz0gcy5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvL2xvZyhcInNlcmlhbGl6ZSgpIHJlc3VsdDpcIix2aWV3VTguc2xpY2UoMCxvZmZzZXQpKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgdmlld1U4WzBdID0gMDtcbiAgICAgICAgfVxuICAgICAgICBtZXRyaWNzLnMxMW4uc2VyaWFsaXplLnRpbWUgKz0gcGVyZm9ybWFuY2Uubm93KCkgLSB0O1xuICAgICAgfTtcbiAgICAgIHJldHVybiBzdGF0ZS5zMTFuO1xuICAgIH0vKmluaXRTMTFuKCkqLztcblxuICAgIC8qKlxuICAgICAgIEdlbmVyYXRlcyBhIHJhbmRvbSBBU0NJSSBzdHJpbmcgbGVuIGNoYXJhY3RlcnMgbG9uZywgaW50ZW5kZWQgZm9yXG4gICAgICAgdXNlIGFzIGEgdGVtcG9yYXJ5IGZpbGUgbmFtZS5cbiAgICAqL1xuICAgIGNvbnN0IHJhbmRvbUZpbGVuYW1lID0gZnVuY3Rpb24gZihsZW49MTYpe1xuICAgICAgaWYoIWYuX2NoYXJzKXtcbiAgICAgICAgZi5fY2hhcnMgPSBcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIrXG4gICAgICAgICAgXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiK1xuICAgICAgICAgIFwiMDEyMzQ2Nzg5XCI7XG4gICAgICAgIGYuX24gPSBmLl9jaGFycy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBjb25zdCBhID0gW107XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICBmb3IoIDsgaSA8IGxlbjsgKytpKXtcbiAgICAgICAgY29uc3QgbmR4ID0gTWF0aC5yYW5kb20oKSAqIChmLl9uICogNjQpICUgZi5fbiB8IDA7XG4gICAgICAgIGFbaV0gPSBmLl9jaGFyc1tuZHhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGEuam9pbihcIlwiKTtcbiAgICAgIC8qXG4gICAgICAgIEFuIGFsdGVybmF0aXZlIGltcGwuIHdpdGggYW4gdW5wcmVkaWN0YWJsZSBsZW5ndGhcbiAgICAgICAgYnV0IG11Y2ggc2ltcGxlcjpcblxuICAgICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikudG9TdHJpbmcoMzYpXG4gICAgICAqL1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgICBNYXAgb2Ygc3FsaXRlM19maWxlIHBvaW50ZXJzIHRvIG9iamVjdHMgY29uc3RydWN0ZWQgYnkgeE9wZW4oKS5cbiAgICAqL1xuICAgIGNvbnN0IF9fb3BlbkZpbGVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIGNvbnN0IG9wVGltZXIgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIG9wVGltZXIub3AgPSB1bmRlZmluZWQ7XG4gICAgb3BUaW1lci5zdGFydCA9IHVuZGVmaW5lZDtcbiAgICBjb25zdCBtVGltZVN0YXJ0ID0gKG9wKT0+e1xuICAgICAgb3BUaW1lci5zdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgb3BUaW1lci5vcCA9IG9wO1xuICAgICAgKyttZXRyaWNzW29wXS5jb3VudDtcbiAgICB9O1xuICAgIGNvbnN0IG1UaW1lRW5kID0gKCk9PihcbiAgICAgIG1ldHJpY3Nbb3BUaW1lci5vcF0udGltZSArPSBwZXJmb3JtYW5jZS5ub3coKSAtIG9wVGltZXIuc3RhcnRcbiAgICApO1xuXG4gICAgLyoqXG4gICAgICAgSW1wbHMgZm9yIHRoZSBzcWxpdGUzX2lvX21ldGhvZHMgbWV0aG9kcy4gTWFpbnRlbmFuY2UgcmVtaW5kZXI6XG4gICAgICAgbWVtYmVycyBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyIHRvIHNpbXBsaWZ5IGZpbmRpbmcgdGhlbS5cbiAgICAqL1xuICAgIGNvbnN0IGlvU3luY1dyYXBwZXJzID0ge1xuICAgICAgeENoZWNrUmVzZXJ2ZWRMb2NrOiBmdW5jdGlvbihwRmlsZSxwT3V0KXtcbiAgICAgICAgLyoqXG4gICAgICAgICAgIEFzIG9mIGxhdGUgMjAyMiwgb25seSBhIHNpbmdsZSBsb2NrIGNhbiBiZSBoZWxkIG9uIGFuIE9QRlNcbiAgICAgICAgICAgZmlsZS4gV2UgaGF2ZSBubyB3YXkgb2YgY2hlY2tpbmcgd2hldGhlciBhbnkgX290aGVyXyBkYlxuICAgICAgICAgICBjb25uZWN0aW9uIGhhcyBhIGxvY2sgZXhjZXB0IGJ5IHRyeWluZyB0byBvYnRhaW4gYW5kIChvblxuICAgICAgICAgICBzdWNjZXNzKSByZWxlYXNlIGEgc3luYy1oYW5kbGUgZm9yIGl0LCBidXQgZG9pbmcgc28gd291bGRcbiAgICAgICAgICAgaW52b2x2ZSBhbiBpbmhlcmVudCByYWNlIGNvbmRpdGlvbi4gRm9yIHRoZSB0aW1lIGJlaW5nLFxuICAgICAgICAgICBwZW5kaW5nIGEgYmV0dGVyIHNvbHV0aW9uLCB3ZSBzaW1wbHkgcmVwb3J0IHdoZXRoZXIgdGhlXG4gICAgICAgICAgIGdpdmVuIHBGaWxlIGlzIG9wZW4uXG4gICAgICAgICovXG4gICAgICAgIGNvbnN0IGYgPSBfX29wZW5GaWxlc1twRmlsZV07XG4gICAgICAgIHdhc20ucG9rZShwT3V0LCBmLmxvY2tUeXBlID8gMSA6IDAsICdpMzInKTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9LFxuICAgICAgeENsb3NlOiBmdW5jdGlvbihwRmlsZSl7XG4gICAgICAgIG1UaW1lU3RhcnQoJ3hDbG9zZScpO1xuICAgICAgICBsZXQgcmMgPSAwO1xuICAgICAgICBjb25zdCBmID0gX19vcGVuRmlsZXNbcEZpbGVdO1xuICAgICAgICBpZihmKXtcbiAgICAgICAgICBkZWxldGUgX19vcGVuRmlsZXNbcEZpbGVdO1xuICAgICAgICAgIHJjID0gb3BSdW4oJ3hDbG9zZScsIHBGaWxlKTtcbiAgICAgICAgICBpZihmLnNxM0ZpbGUpIGYuc3EzRmlsZS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgbVRpbWVFbmQoKTtcbiAgICAgICAgcmV0dXJuIHJjO1xuICAgICAgfSxcbiAgICAgIHhEZXZpY2VDaGFyYWN0ZXJpc3RpY3M6IGZ1bmN0aW9uKHBGaWxlKXtcbiAgICAgICAgLy9kZWJ1ZyhcInhEZXZpY2VDaGFyYWN0ZXJpc3RpY3MoXCIscEZpbGUsXCIpXCIpO1xuICAgICAgICByZXR1cm4gY2FwaS5TUUxJVEVfSU9DQVBfVU5ERUxFVEFCTEVfV0hFTl9PUEVOO1xuICAgICAgfSxcbiAgICAgIHhGaWxlQ29udHJvbDogZnVuY3Rpb24ocEZpbGUsIG9wSWQsIHBBcmcpe1xuICAgICAgICBtVGltZVN0YXJ0KCd4RmlsZUNvbnRyb2wnKTtcbiAgICAgICAgY29uc3QgcmMgPSAoY2FwaS5TUUxJVEVfRkNOVExfU1lOQz09PW9wSWQpXG4gICAgICAgICAgICAgID8gb3BSdW4oJ3hTeW5jJywgcEZpbGUsIDApXG4gICAgICAgICAgICAgIDogY2FwaS5TUUxJVEVfTk9URk9VTkQ7XG4gICAgICAgIG1UaW1lRW5kKCk7XG4gICAgICAgIHJldHVybiByYztcbiAgICAgIH0sXG4gICAgICB4RmlsZVNpemU6IGZ1bmN0aW9uKHBGaWxlLHBTejY0KXtcbiAgICAgICAgbVRpbWVTdGFydCgneEZpbGVTaXplJyk7XG4gICAgICAgIGxldCByYyA9IG9wUnVuKCd4RmlsZVNpemUnLCBwRmlsZSk7XG4gICAgICAgIGlmKDA9PXJjKXtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3ogPSBzdGF0ZS5zMTFuLmRlc2VyaWFsaXplKClbMF07XG4gICAgICAgICAgICB3YXNtLnBva2UocFN6NjQsIHN6LCAnaTY0Jyk7XG4gICAgICAgICAgfWNhdGNoKGUpe1xuICAgICAgICAgICAgZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yIHJlYWRpbmcgeEZpbGVTaXplKCkgcmVzdWx0OlwiLGUpO1xuICAgICAgICAgICAgcmMgPSBzdGF0ZS5zcTNDb2Rlcy5TUUxJVEVfSU9FUlI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1UaW1lRW5kKCk7XG4gICAgICAgIHJldHVybiByYztcbiAgICAgIH0sXG4gICAgICB4TG9jazogZnVuY3Rpb24ocEZpbGUsbG9ja1R5cGUpe1xuICAgICAgICBtVGltZVN0YXJ0KCd4TG9jaycpO1xuICAgICAgICBjb25zdCBmID0gX19vcGVuRmlsZXNbcEZpbGVdO1xuICAgICAgICBsZXQgcmMgPSAwO1xuICAgICAgICAvKiBBbGwgT1BGUyBsb2NrcyBhcmUgZXhjbHVzaXZlIGxvY2tzLiBJZiB4TG9jaygpIGhhc1xuICAgICAgICAgICBwcmV2aW91c2x5IHN1Y2NlZWRlZCwgZG8gbm90aGluZyBleGNlcHQgcmVjb3JkIHRoZSBsb2NrXG4gICAgICAgICAgIHR5cGUuIElmIG5vIGxvY2sgaXMgYWN0aXZlLCBoYXZlIHRoZSBhc3luYyBjb3VudGVycGFydFxuICAgICAgICAgICBsb2NrIHRoZSBmaWxlLiAqL1xuICAgICAgICBpZiggIWYubG9ja1R5cGUgKSB7XG4gICAgICAgICAgcmMgPSBvcFJ1bigneExvY2snLCBwRmlsZSwgbG9ja1R5cGUpO1xuICAgICAgICAgIGlmKCAwPT09cmMgKSBmLmxvY2tUeXBlID0gbG9ja1R5cGU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGYubG9ja1R5cGUgPSBsb2NrVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBtVGltZUVuZCgpO1xuICAgICAgICByZXR1cm4gcmM7XG4gICAgICB9LFxuICAgICAgeFJlYWQ6IGZ1bmN0aW9uKHBGaWxlLHBEZXN0LG4sb2Zmc2V0NjQpe1xuICAgICAgICBtVGltZVN0YXJ0KCd4UmVhZCcpO1xuICAgICAgICBjb25zdCBmID0gX19vcGVuRmlsZXNbcEZpbGVdO1xuICAgICAgICBsZXQgcmM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmMgPSBvcFJ1bigneFJlYWQnLHBGaWxlLCBuLCBOdW1iZXIob2Zmc2V0NjQpKTtcbiAgICAgICAgICBpZigwPT09cmMgfHwgY2FwaS5TUUxJVEVfSU9FUlJfU0hPUlRfUkVBRD09PXJjKXtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgUmVzdWx0cyBnZXQgd3JpdHRlbiB0byB0aGUgU2hhcmVkQXJyYXlCdWZmZXIgZi5zYWJWaWV3LlxuICAgICAgICAgICAgICAgQmVjYXVzZSB0aGUgaGVhcCBpcyBfbm90XyBhIFNoYXJlZEFycmF5QnVmZmVyLCB3ZSBoYXZlXG4gICAgICAgICAgICAgICB0byBjb3B5IHRoZSByZXN1bHRzLiBUeXBlZEFycmF5LnNldCgpIHNlZW1zIHRvIGJlIHRoZVxuICAgICAgICAgICAgICAgZmFzdGVzdCB3YXkgdG8gY29weSB0aGlzLiAqL1xuICAgICAgICAgICAgd2FzbS5oZWFwOHUoKS5zZXQoZi5zYWJWaWV3LnN1YmFycmF5KDAsIG4pLCBwRGVzdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9Y2F0Y2goZSl7XG4gICAgICAgICAgZXJyb3IoXCJ4UmVhZChcIixhcmd1bWVudHMsXCIpIGZhaWxlZDpcIixlLGYpO1xuICAgICAgICAgIHJjID0gY2FwaS5TUUxJVEVfSU9FUlJfUkVBRDtcbiAgICAgICAgfVxuICAgICAgICBtVGltZUVuZCgpO1xuICAgICAgICByZXR1cm4gcmM7XG4gICAgICB9LFxuICAgICAgeFN5bmM6IGZ1bmN0aW9uKHBGaWxlLGZsYWdzKXtcbiAgICAgICAgKyttZXRyaWNzLnhTeW5jLmNvdW50O1xuICAgICAgICByZXR1cm4gMDsgLy8gaW1wbCdkIGluIHhGaWxlQ29udHJvbCgpXG4gICAgICB9LFxuICAgICAgeFRydW5jYXRlOiBmdW5jdGlvbihwRmlsZSxzejY0KXtcbiAgICAgICAgbVRpbWVTdGFydCgneFRydW5jYXRlJyk7XG4gICAgICAgIGNvbnN0IHJjID0gb3BSdW4oJ3hUcnVuY2F0ZScsIHBGaWxlLCBOdW1iZXIoc3o2NCkpO1xuICAgICAgICBtVGltZUVuZCgpO1xuICAgICAgICByZXR1cm4gcmM7XG4gICAgICB9LFxuICAgICAgeFVubG9jazogZnVuY3Rpb24ocEZpbGUsbG9ja1R5cGUpe1xuICAgICAgICBtVGltZVN0YXJ0KCd4VW5sb2NrJyk7XG4gICAgICAgIGNvbnN0IGYgPSBfX29wZW5GaWxlc1twRmlsZV07XG4gICAgICAgIGxldCByYyA9IDA7XG4gICAgICAgIGlmKCBjYXBpLlNRTElURV9MT0NLX05PTkUgPT09IGxvY2tUeXBlXG4gICAgICAgICAgJiYgZi5sb2NrVHlwZSApe1xuICAgICAgICAgIHJjID0gb3BSdW4oJ3hVbmxvY2snLCBwRmlsZSwgbG9ja1R5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmKCAwPT09cmMgKSBmLmxvY2tUeXBlID0gbG9ja1R5cGU7XG4gICAgICAgIG1UaW1lRW5kKCk7XG4gICAgICAgIHJldHVybiByYztcbiAgICAgIH0sXG4gICAgICB4V3JpdGU6IGZ1bmN0aW9uKHBGaWxlLHBTcmMsbixvZmZzZXQ2NCl7XG4gICAgICAgIG1UaW1lU3RhcnQoJ3hXcml0ZScpO1xuICAgICAgICBjb25zdCBmID0gX19vcGVuRmlsZXNbcEZpbGVdO1xuICAgICAgICBsZXQgcmM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZi5zYWJWaWV3LnNldCh3YXNtLmhlYXA4dSgpLnN1YmFycmF5KHBTcmMsIHBTcmMrbikpO1xuICAgICAgICAgIHJjID0gb3BSdW4oJ3hXcml0ZScsIHBGaWxlLCBuLCBOdW1iZXIob2Zmc2V0NjQpKTtcbiAgICAgICAgfWNhdGNoKGUpe1xuICAgICAgICAgIGVycm9yKFwieFdyaXRlKFwiLGFyZ3VtZW50cyxcIikgZmFpbGVkOlwiLGUsZik7XG4gICAgICAgICAgcmMgPSBjYXBpLlNRTElURV9JT0VSUl9XUklURTtcbiAgICAgICAgfVxuICAgICAgICBtVGltZUVuZCgpO1xuICAgICAgICByZXR1cm4gcmM7XG4gICAgICB9XG4gICAgfS8qaW9TeW5jV3JhcHBlcnMqLztcblxuICAgIC8qKlxuICAgICAgIEltcGxzIGZvciB0aGUgc3FsaXRlM192ZnMgbWV0aG9kcy4gTWFpbnRlbmFuY2UgcmVtaW5kZXI6IG1lbWJlcnNcbiAgICAgICBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyIHRvIHNpbXBsaWZ5IGZpbmRpbmcgdGhlbS5cbiAgICAqL1xuICAgIGNvbnN0IHZmc1N5bmNXcmFwcGVycyA9IHtcbiAgICAgIHhBY2Nlc3M6IGZ1bmN0aW9uKHBWZnMsek5hbWUsZmxhZ3MscE91dCl7XG4gICAgICAgIG1UaW1lU3RhcnQoJ3hBY2Nlc3MnKTtcbiAgICAgICAgY29uc3QgcmMgPSBvcFJ1bigneEFjY2VzcycsIHdhc20uY3N0clRvSnMoek5hbWUpKTtcbiAgICAgICAgd2FzbS5wb2tlKCBwT3V0LCAocmMgPyAwIDogMSksICdpMzInICk7XG4gICAgICAgIG1UaW1lRW5kKCk7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSxcbiAgICAgIHhDdXJyZW50VGltZTogZnVuY3Rpb24ocFZmcyxwT3V0KXtcbiAgICAgICAgLyogSWYgaXQgdHVybnMgb3V0IHRoYXQgd2UgbmVlZCB0byBhZGp1c3QgZm9yIHRpbWV6b25lLCBzZWU6XG4gICAgICAgICAgIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMTc2MDEyMS8xNDU4NTIxICovXG4gICAgICAgIHdhc20ucG9rZShwT3V0LCAyNDQwNTg3LjUgKyAobmV3IERhdGUoKS5nZXRUaW1lKCkvODY0MDAwMDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICdkb3VibGUnKTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9LFxuICAgICAgeEN1cnJlbnRUaW1lSW50NjQ6IGZ1bmN0aW9uKHBWZnMscE91dCl7XG4gICAgICAgIC8vIFRPRE86IGNvbmZpcm0gdGhhdCB0aGlzIGNhbGN1bGF0aW9uIGlzIGNvcnJlY3RcbiAgICAgICAgd2FzbS5wb2tlKHBPdXQsICgyNDQwNTg3LjUgKiA4NjQwMDAwMCkgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAnaTY0Jyk7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSxcbiAgICAgIHhEZWxldGU6IGZ1bmN0aW9uKHBWZnMsIHpOYW1lLCBkb1N5bmNEaXIpe1xuICAgICAgICBtVGltZVN0YXJ0KCd4RGVsZXRlJyk7XG4gICAgICAgIG9wUnVuKCd4RGVsZXRlJywgd2FzbS5jc3RyVG9Kcyh6TmFtZSksIGRvU3luY0RpciwgZmFsc2UpO1xuICAgICAgICAvKiBXZSdyZSBpZ25vcmluZyBlcnJvcnMgYmVjYXVzZSB3ZSBjYW5ub3QgeWV0IGRpZmZlcmVudGlhdGVcbiAgICAgICAgICAgYmV0d2VlbiBoYXJtbGVzcyBhbmQgbm9uLWhhcm1sZXNzIGZhaWx1cmVzLiAqL1xuICAgICAgICBtVGltZUVuZCgpO1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0sXG4gICAgICB4RnVsbFBhdGhuYW1lOiBmdW5jdGlvbihwVmZzLHpOYW1lLG5PdXQscE91dCl7XG4gICAgICAgIC8qIFVudGlsL3VubGVzcyB3ZSBoYXZlIHNvbWUgbm90aW9uIG9mIFwiY3VycmVudCBkaXJcIlxuICAgICAgICAgICBpbiBPUEZTLCBzaW1wbHkgY29weSB6TmFtZSB0byBwT3V0Li4uICovXG4gICAgICAgIGNvbnN0IGkgPSB3YXNtLmNzdHJuY3B5KHBPdXQsIHpOYW1lLCBuT3V0KTtcbiAgICAgICAgcmV0dXJuIGk8bk91dCA/IDAgOiBjYXBpLlNRTElURV9DQU5UT1BFTlxuICAgICAgICAvKkNBTlRPUEVOIGlzIHJlcXVpcmVkIGJ5IHRoZSBkb2NzIGJ1dCBTUUxJVEVfUkFOR0Ugd291bGQgYmUgYSBjbG9zZXIgbWF0Y2gqLztcbiAgICAgIH0sXG4gICAgICB4R2V0TGFzdEVycm9yOiBmdW5jdGlvbihwVmZzLG5PdXQscE91dCl7XG4gICAgICAgIC8qIFRPRE86IHN0b3JlIGV4Y2VwdGlvbi5tZXNzYWdlIHZhbHVlcyBmcm9tIHRoZSBhc3luY1xuICAgICAgICAgICBwYXJ0bmVyIGluIGEgZGVkaWNhdGVkIFNoYXJlZEFycmF5QnVmZmVyLCBub3RpbmcgdGhhdCB3ZSdkIGhhdmVcbiAgICAgICAgICAgdG8gZW5jb2RlIHRoZW0uLi4gVGV4dEVuY29kZXIgY2FuIGRvIHRoYXQgZm9yIHVzLiAqL1xuICAgICAgICB3YXJuKFwiT1BGUyB4R2V0TGFzdEVycm9yKCkgaGFzIG5vdGhpbmcgc2Vuc2libGUgdG8gcmV0dXJuLlwiKTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9LFxuICAgICAgLy94U2xlZXAgaXMgb3B0aW9uYWxseSBkZWZpbmVkIGJlbG93XG4gICAgICB4T3BlbjogZnVuY3Rpb24gZihwVmZzLCB6TmFtZSwgcEZpbGUsIGZsYWdzLCBwT3V0RmxhZ3Mpe1xuICAgICAgICBtVGltZVN0YXJ0KCd4T3BlbicpO1xuICAgICAgICBsZXQgb3Bmc0ZsYWdzID0gMDtcbiAgICAgICAgaWYoMD09PXpOYW1lKXtcbiAgICAgICAgICB6TmFtZSA9IHJhbmRvbUZpbGVuYW1lKCk7XG4gICAgICAgIH1lbHNlIGlmKCdudW1iZXInPT09dHlwZW9mIHpOYW1lKXtcbiAgICAgICAgICBpZihjYXBpLnNxbGl0ZTNfdXJpX2Jvb2xlYW4oek5hbWUsIFwib3Bmcy11bmxvY2stYXNhcFwiLCAwKSl7XG4gICAgICAgICAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLV5eXl5eIE1VU1QgcGFzcyB0aGUgdW50cmFuc2xhdGVkXG4gICAgICAgICAgICAgICBDLXN0cmluZyBoZXJlLiAqL1xuICAgICAgICAgICAgb3Bmc0ZsYWdzIHw9IHN0YXRlLm9wZnNGbGFncy5PUEZTX1VOTE9DS19BU0FQO1xuICAgICAgICAgIH1cbiAgICAgICAgICB6TmFtZSA9IHdhc20uY3N0clRvSnMoek5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZoID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZmguZmlkID0gcEZpbGU7XG4gICAgICAgIGZoLmZpbGVuYW1lID0gek5hbWU7XG4gICAgICAgIGZoLnNhYiA9IG5ldyBTaGFyZWRBcnJheUJ1ZmZlcihzdGF0ZS5maWxlQnVmZmVyU2l6ZSk7XG4gICAgICAgIGZoLmZsYWdzID0gZmxhZ3M7XG4gICAgICAgIGNvbnN0IHJjID0gb3BSdW4oJ3hPcGVuJywgcEZpbGUsIHpOYW1lLCBmbGFncywgb3Bmc0ZsYWdzKTtcbiAgICAgICAgaWYoIXJjKXtcbiAgICAgICAgICAvKiBSZWNhbGwgdGhhdCBzcWxpdGUzX3Zmczo6eENsb3NlKCkgd2lsbCBiZSBjYWxsZWQsIGV2ZW4gb25cbiAgICAgICAgICAgICBlcnJvciwgdW5sZXNzIHBGaWxlLT5wTWV0aG9kcyBpcyBOVUxMLiAqL1xuICAgICAgICAgIGlmKGZoLnJlYWRPbmx5KXtcbiAgICAgICAgICAgIHdhc20ucG9rZShwT3V0RmxhZ3MsIGNhcGkuU1FMSVRFX09QRU5fUkVBRE9OTFksICdpMzInKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX19vcGVuRmlsZXNbcEZpbGVdID0gZmg7XG4gICAgICAgICAgZmguc2FiVmlldyA9IHN0YXRlLnNhYkZpbGVCdWZWaWV3O1xuICAgICAgICAgIGZoLnNxM0ZpbGUgPSBuZXcgc3FsaXRlM19maWxlKHBGaWxlKTtcbiAgICAgICAgICBmaC5zcTNGaWxlLiRwTWV0aG9kcyA9IG9wZnNJb01ldGhvZHMucG9pbnRlcjtcbiAgICAgICAgICBmaC5sb2NrVHlwZSA9IGNhcGkuU1FMSVRFX0xPQ0tfTk9ORTtcbiAgICAgICAgfVxuICAgICAgICBtVGltZUVuZCgpO1xuICAgICAgICByZXR1cm4gcmM7XG4gICAgICB9Lyp4T3BlbigpKi9cbiAgICB9Lyp2ZnNTeW5jV3JhcHBlcnMqLztcblxuICAgIGlmKGRWZnMpe1xuICAgICAgb3Bmc1Zmcy4keFJhbmRvbW5lc3MgPSBkVmZzLiR4UmFuZG9tbmVzcztcbiAgICAgIG9wZnNWZnMuJHhTbGVlcCA9IGRWZnMuJHhTbGVlcDtcbiAgICB9XG4gICAgaWYoIW9wZnNWZnMuJHhSYW5kb21uZXNzKXtcbiAgICAgIC8qIElmIHRoZSBkZWZhdWx0IFZGUyBoYXMgbm8geFJhbmRvbW5lc3MoKSwgYWRkIGEgYmFzaWMgSlMgaW1wbC4uLiAqL1xuICAgICAgdmZzU3luY1dyYXBwZXJzLnhSYW5kb21uZXNzID0gZnVuY3Rpb24ocFZmcywgbk91dCwgcE91dCl7XG4gICAgICAgIGNvbnN0IGhlYXAgPSB3YXNtLmhlYXA4dSgpO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvcig7IGkgPCBuT3V0OyArK2kpIGhlYXBbcE91dCArIGldID0gKE1hdGgucmFuZG9tKCkqMjU1MDAwKSAmIDB4RkY7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYoIW9wZnNWZnMuJHhTbGVlcCl7XG4gICAgICAvKiBJZiB3ZSBjYW4gaW5oZXJpdCBhbiB4U2xlZXAoKSBpbXBsIGZyb20gdGhlIGRlZmF1bHQgVkZTIHRoZW5cbiAgICAgICAgIGFzc3VtZSBpdCdzIHNhbmUgYW5kIHVzZSBpdCwgb3RoZXJ3aXNlIGluc3RhbGwgYSBKUy1iYXNlZFxuICAgICAgICAgb25lLiAqL1xuICAgICAgdmZzU3luY1dyYXBwZXJzLnhTbGVlcCA9IGZ1bmN0aW9uKHBWZnMsbXMpe1xuICAgICAgICBBdG9taWNzLndhaXQoc3RhdGUuc2FiT1BWaWV3LCBzdGF0ZS5vcElkcy54U2xlZXAsIDAsIG1zKTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAgIEV4cGVjdHMgYW4gT1BGUyBmaWxlIHBhdGguIEl0IGdldHMgcmVzb2x2ZWQsIHN1Y2ggdGhhdCBcIi4uXCJcbiAgICAgICBjb21wb25lbnRzIGFyZSBwcm9wZXJseSBleHBhbmRlZCwgYW5kIHJldHVybmVkLiBJZiB0aGUgMm5kIGFyZ1xuICAgICAgIGlzIHRydWUsIHRoZSByZXN1bHQgaXMgcmV0dXJuZWQgYXMgYW4gYXJyYXkgb2YgcGF0aCBlbGVtZW50cyxcbiAgICAgICBlbHNlIGFuIGFic29sdXRlIHBhdGggc3RyaW5nIGlzIHJldHVybmVkLlxuICAgICovXG4gICAgb3Bmc1V0aWwuZ2V0UmVzb2x2ZWRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUsc3BsaXRJdCl7XG4gICAgICBjb25zdCBwID0gbmV3IFVSTChmaWxlbmFtZSwgXCJmaWxlOi8vaXJyZWxldmFudFwiKS5wYXRobmFtZTtcbiAgICAgIHJldHVybiBzcGxpdEl0ID8gcC5zcGxpdCgnLycpLmZpbHRlcigodik9PiEhdikgOiBwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgICBUYWtlcyB0aGUgYWJzb2x1dGUgcGF0aCB0byBhIGZpbGVzeXN0ZW0gZWxlbWVudC4gUmV0dXJucyBhblxuICAgICAgIGFycmF5IG9mIFtoYW5kbGVPZkNvbnRhaW5pbmdEaXIsIGZpbGVuYW1lXS4gSWYgdGhlIDJuZCBhcmd1bWVudFxuICAgICAgIGlzIHRydXRoeSB0aGVuIGVhY2ggZGlyZWN0b3J5IGVsZW1lbnQgbGVhZGluZyB0byB0aGUgZmlsZSBpc1xuICAgICAgIGNyZWF0ZWQgYWxvbmcgdGhlIHdheS4gVGhyb3dzIGlmIGFueSBjcmVhdGlvbiBvciByZXNvbHV0aW9uXG4gICAgICAgZmFpbHMuXG4gICAgKi9cbiAgICBvcGZzVXRpbC5nZXREaXJGb3JGaWxlbmFtZSA9IGFzeW5jIGZ1bmN0aW9uIGYoYWJzRmlsZW5hbWUsIGNyZWF0ZURpcnMgPSBmYWxzZSl7XG4gICAgICBjb25zdCBwYXRoID0gb3Bmc1V0aWwuZ2V0UmVzb2x2ZWRQYXRoKGFic0ZpbGVuYW1lLCB0cnVlKTtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gcGF0aC5wb3AoKTtcbiAgICAgIGxldCBkaCA9IG9wZnNVdGlsLnJvb3REaXJlY3Rvcnk7XG4gICAgICBmb3IoY29uc3QgZGlyTmFtZSBvZiBwYXRoKXtcbiAgICAgICAgaWYoZGlyTmFtZSl7XG4gICAgICAgICAgZGggPSBhd2FpdCBkaC5nZXREaXJlY3RvcnlIYW5kbGUoZGlyTmFtZSwge2NyZWF0ZTogISFjcmVhdGVEaXJzfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBbZGgsIGZpbGVuYW1lXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICAgQ3JlYXRlcyB0aGUgZ2l2ZW4gZGlyZWN0b3J5IG5hbWUsIHJlY3Vyc2l2ZWx5LCBpblxuICAgICAgIHRoZSBPUEZTIGZpbGVzeXN0ZW0uIFJldHVybnMgdHJ1ZSBpZiBpdCBzdWNjZWVkcyBvciB0aGVcbiAgICAgICBkaXJlY3RvcnkgYWxyZWFkeSBleGlzdHMsIGVsc2UgZmFsc2UuXG4gICAgKi9cbiAgICBvcGZzVXRpbC5ta2RpciA9IGFzeW5jIGZ1bmN0aW9uKGFic0Rpck5hbWUpe1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgb3Bmc1V0aWwuZ2V0RGlyRm9yRmlsZW5hbWUoYWJzRGlyTmFtZStcIi9maWxlcGFydFwiLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9Y2F0Y2goZSl7XG4gICAgICAgIC8vc3FsaXRlMy5jb25maWcud2FybihcIm1rZGlyKFwiLGFic0Rpck5hbWUsXCIpIGZhaWxlZDpcIixlKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICAgQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIE9QRlMgZmlsZXN5c3RlbSBlbnRyeSBleGlzdHMsXG4gICAgICAgcmV0dXJuaW5nIHRydWUgaWYgaXQgZG9lcywgZmFsc2UgaWYgaXQgZG9lc24ndC5cbiAgICAqL1xuICAgIG9wZnNVdGlsLmVudHJ5RXhpc3RzID0gYXN5bmMgZnVuY3Rpb24oZnNFbnRyeU5hbWUpe1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgW2RoLCBmbl0gPSBhd2FpdCBvcGZzVXRpbC5nZXREaXJGb3JGaWxlbmFtZShmc0VudHJ5TmFtZSk7XG4gICAgICAgIGF3YWl0IGRoLmdldEZpbGVIYW5kbGUoZm4pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1jYXRjaChlKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgICBHZW5lcmF0ZXMgYSByYW5kb20gQVNDSUkgc3RyaW5nLCBpbnRlbmRlZCBmb3IgdXNlIGFzIGFcbiAgICAgICB0ZW1wb3JhcnkgZmlsZSBuYW1lLiBJdHMgYXJndW1lbnQgaXMgdGhlIGxlbmd0aCBvZiB0aGUgc3RyaW5nLFxuICAgICAgIGRlZmF1bHRpbmcgdG8gMTYuXG4gICAgKi9cbiAgICBvcGZzVXRpbC5yYW5kb21GaWxlbmFtZSA9IHJhbmRvbUZpbGVuYW1lO1xuXG4gICAgLyoqXG4gICAgICAgUmUtcmVnaXN0ZXJzIHRoZSBPUEZTIFZGUy4gVGhpcyBpcyBpbnRlbmRlZCBvbmx5IGZvciBvZGQgdXNlXG4gICAgICAgY2FzZXMgd2hpY2ggaGF2ZSB0byBjYWxsIHNxbGl0ZTNfc2h1dGRvd24oKSBhcyBwYXJ0IG9mIHRoZWlyXG4gICAgICAgaW5pdGlhbGl6YXRpb24gcHJvY2Vzcywgd2hpY2ggd2lsbCB1bnJlZ2lzdGVyIHRoZSBWRlNcbiAgICAgICByZWdpc3RlcmVkIGJ5IGluc3RhbGxPcGZzVmZzKCkuIElmIHBhc3NlZCBhIHRydXRoeSB2YWx1ZSwgdGhlXG4gICAgICAgT1BGUyBWRlMgaXMgcmVnaXN0ZXJlZCBhcyB0aGUgZGVmYXVsdCBWRlMsIGVsc2UgaXQgaXMgbm90IG1hZGVcbiAgICAgICB0aGUgZGVmYXVsdC4gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSB0aGVcbiAgICAgICBzcWxpdGUzX3Zmc19yZWdpc3RlcigpIGNhbGwuXG5cbiAgICAgICBEZXNpZ24gbm90ZTogdGhlIHByb2JsZW0gb2YgaGF2aW5nIHRvIHJlLXJlZ2lzdGVyIHRoaW5ncyBhZnRlclxuICAgICAgIGEgc2h1dGRvd24vaW5pdGlhbGl6ZSBwYWlyIGlzIG1vcmUgZ2VuZXJhbC4gSG93IHRvIGJlc3QgcGx1Z1xuICAgICAgIHRoYXQgaW4gdG8gdGhlIGxpYnJhcnkgaXMgdW5jbGVhci4gSW4gcGFydGljdWxhciwgd2UgY2Fubm90XG4gICAgICAgaG9vayBpbiB0byBhbnkgQy1zaWRlIGNhbGxzIHRvIHNxbGl0ZTNfaW5pdGlhbGl6ZSgpLCBzbyB3ZVxuICAgICAgIGNhbm5vdCBhZGQgYW4gYWZ0ZXItaW5pdGlhbGl6ZSBjYWxsYmFjayBtZWNoYW5pc20uXG4gICAgKi9cbiAgICBvcGZzVXRpbC5yZWdpc3RlclZmcyA9IChhc0RlZmF1bHQ9ZmFsc2UpPT57XG4gICAgICByZXR1cm4gd2FzbS5leHBvcnRzLnNxbGl0ZTNfdmZzX3JlZ2lzdGVyKFxuICAgICAgICBvcGZzVmZzLnBvaW50ZXIsIGFzRGVmYXVsdCA/IDEgOiAwXG4gICAgICApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgICBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB0byBhbiBvYmplY3Qgd2hpY2ggcmVwcmVzZW50c1xuICAgICAgIGFsbCBmaWxlcyBhbmQgZGlyZWN0b3JpZXMgaW4gdGhlIE9QRlMgdHJlZS4gVGhlIHRvcC1tb3N0IG9iamVjdFxuICAgICAgIGhhcyB0d28gcHJvcGVydGllczogYGRpcnNgIGlzIGFuIGFycmF5IG9mIGRpcmVjdG9yeSBlbnRyaWVzXG4gICAgICAgKGRlc2NyaWJlZCBiZWxvdykgYW5kIGBmaWxlc2AgaXMgYSBsaXN0IG9mIGZpbGUgbmFtZXMgZm9yIGFsbFxuICAgICAgIGZpbGVzIGluIHRoYXQgZGlyZWN0b3J5LlxuXG4gICAgICAgVHJhdmVyc2FsIHN0YXJ0cyBhdCBzcWxpdGUzLm9wZnMucm9vdERpcmVjdG9yeS5cblxuICAgICAgIEVhY2ggYGRpcnNgIGVudHJ5IGlzIGFuIG9iamVjdCBpbiB0aGlzIGZvcm06XG5cbiAgICAgICBgYGBcbiAgICAgICB7IG5hbWU6IGRpcmVjdG9yeU5hbWUsXG4gICAgICAgICBkaXJzOiBbLi4uc3ViZGlyc10sXG4gICAgICAgICBmaWxlczogWy4uLmZpbGUgbmFtZXNdXG4gICAgICAgfVxuICAgICAgIGBgYFxuXG4gICAgICAgVGhlIGBmaWxlc2AgYW5kIGBzdWJkaXJzYCBlbnRyaWVzIGFyZSBhbHdheXMgc2V0IGJ1dCBtYXkgYmVcbiAgICAgICBlbXB0eSBhcnJheXMuXG5cbiAgICAgICBUaGUgcmV0dXJuZWQgb2JqZWN0IGhhcyB0aGUgc2FtZSBzdHJ1Y3R1cmUgYnV0IGl0cyBgbmFtZWAgaXNcbiAgICAgICBhbiBlbXB0eSBzdHJpbmcuIEFsbCByZXR1cm5lZCBvYmplY3RzIGFyZSBjcmVhdGVkIHdpdGhcbiAgICAgICBPYmplY3QuY3JlYXRlKG51bGwpLCBzbyBoYXZlIG5vIHByb3RvdHlwZS5cblxuICAgICAgIERlc2lnbiBub3RlOiB0aGUgZW50cmllcyBkbyBub3QgY29udGFpbiBtb3JlIGluZm9ybWF0aW9uLFxuICAgICAgIGUuZy4gZmlsZSBzaXplcywgYmVjYXVzZSBnZXR0aW5nIHN1Y2ggaW5mbyBpcyBub3Qgb25seVxuICAgICAgIGV4cGVuc2l2ZSBidXQgaXMgc3ViamVjdCB0byBsb2NraW5nLXJlbGF0ZWQgZXJyb3JzLlxuICAgICovXG4gICAgb3Bmc1V0aWwudHJlZUxpc3QgPSBhc3luYyBmdW5jdGlvbigpe1xuICAgICAgY29uc3QgZG9EaXIgPSBhc3luYyBmdW5jdGlvbiBjYWxsZWUoZGlySGFuZGxlLHRndCl7XG4gICAgICAgIHRndC5uYW1lID0gZGlySGFuZGxlLm5hbWU7XG4gICAgICAgIHRndC5kaXJzID0gW107XG4gICAgICAgIHRndC5maWxlcyA9IFtdO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGhhbmRsZSBvZiBkaXJIYW5kbGUudmFsdWVzKCkpe1xuICAgICAgICAgIGlmKCdkaXJlY3RvcnknID09PSBoYW5kbGUua2luZCl7XG4gICAgICAgICAgICBjb25zdCBzdWJEaXIgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgICAgdGd0LmRpcnMucHVzaChzdWJEaXIpO1xuICAgICAgICAgICAgYXdhaXQgY2FsbGVlKGhhbmRsZSwgc3ViRGlyKTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRndC5maWxlcy5wdXNoKGhhbmRsZS5uYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCByb290ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIGF3YWl0IGRvRGlyKG9wZnNVdGlsLnJvb3REaXJlY3RvcnksIHJvb3QpO1xuICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAgIElycmV2b2NhYmx5IGRlbGV0ZXMgX2FsbF8gZmlsZXMgaW4gdGhlIGN1cnJlbnQgb3JpZ2luJ3MgT1BGUy5cbiAgICAgICBPYnZpb3VzbHksIHRoaXMgbXVzdCBiZSB1c2VkIHdpdGggZ3JlYXQgY2F1dGlvbi4gSXQgbWF5IHRocm93XG4gICAgICAgYW4gZXhjZXB0aW9uIGlmIHJlbW92YWwgb2YgYW55dGhpbmcgZmFpbHMgKGUuZy4gYSBmaWxlIGlzXG4gICAgICAgbG9ja2VkKSwgYnV0IHRoZSBwcmVjaXNlIGNvbmRpdGlvbnMgdW5kZXIgd2hpY2ggdGhlIHVuZGVybHlpbmdcbiAgICAgICBBUElzIHdpbGwgdGhyb3cgYXJlIG5vdCBkb2N1bWVudGVkIChzbyB3ZSBjYW5ub3QgdGVsbCB5b3Ugd2hhdFxuICAgICAgIHRoZXkgYXJlKS5cbiAgICAqL1xuICAgIG9wZnNVdGlsLnJtZnIgPSBhc3luYyBmdW5jdGlvbigpe1xuICAgICAgY29uc3QgZGlyID0gb3Bmc1V0aWwucm9vdERpcmVjdG9yeSwgb3B0ID0ge3JlY3Vyc2U6IHRydWV9O1xuICAgICAgZm9yIGF3YWl0IChjb25zdCBoYW5kbGUgb2YgZGlyLnZhbHVlcygpKXtcbiAgICAgICAgZGlyLnJlbW92ZUVudHJ5KGhhbmRsZS5uYW1lLCBvcHQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgICBEZWxldGVzIHRoZSBnaXZlbiBPUEZTIGZpbGVzeXN0ZW0gZW50cnkuICBBcyB0aGlzIGVudmlyb25tZW50XG4gICAgICAgaGFzIG5vIG5vdGlvbiBvZiBcImN1cnJlbnQgZGlyZWN0b3J5XCIsIHRoZSBnaXZlbiBuYW1lIG11c3QgYmUgYW5cbiAgICAgICBhYnNvbHV0ZSBwYXRoLiBJZiB0aGUgMm5kIGFyZ3VtZW50IGlzIHRydXRoeSwgZGVsZXRpb24gaXNcbiAgICAgICByZWN1cnNpdmUgKHVzZSB3aXRoIGNhdXRpb24hKS5cblxuICAgICAgIFRoZSByZXR1cm5lZCBQcm9taXNlIHJlc29sdmVzIHRvIHRydWUgaWYgdGhlIGRlbGV0aW9uIHdhc1xuICAgICAgIHN1Y2Nlc3NmdWwsIGVsc2UgZmFsc2UgKGJ1dC4uLikuIFRoZSBPUEZTIEFQSSByZXBvcnRzIHRoZVxuICAgICAgIHJlYXNvbiBmb3IgdGhlIGZhaWx1cmUgb25seSBpbiBodW1hbi1yZWFkYWJsZSBmb3JtLCBub3RcbiAgICAgICBleGNlcHRpb25zIHdoaWNoIGNhbiBiZSB0eXBlLWNoZWNrZWQgdG8gZGV0ZXJtaW5lIHRoZVxuICAgICAgIGZhaWx1cmUuIEJlY2F1c2Ugb2YgdGhhdC4uLlxuXG4gICAgICAgSWYgdGhlIGZpbmFsIGFyZ3VtZW50IGlzIHRydXRoeSB0aGVuIHRoaXMgZnVuY3Rpb24gd2lsbFxuICAgICAgIHByb3BhZ2F0ZSBhbnkgZXhjZXB0aW9uIG9uIGVycm9yLCByYXRoZXIgdGhhbiByZXR1cm5pbmcgZmFsc2UuXG4gICAgKi9cbiAgICBvcGZzVXRpbC51bmxpbmsgPSBhc3luYyBmdW5jdGlvbihmc0VudHJ5TmFtZSwgcmVjdXJzaXZlID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvd09uRXJyb3IgPSBmYWxzZSl7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBbaERpciwgZmlsZW5hbWVQYXJ0XSA9XG4gICAgICAgICAgICAgIGF3YWl0IG9wZnNVdGlsLmdldERpckZvckZpbGVuYW1lKGZzRW50cnlOYW1lLCBmYWxzZSk7XG4gICAgICAgIGF3YWl0IGhEaXIucmVtb3ZlRW50cnkoZmlsZW5hbWVQYXJ0LCB7cmVjdXJzaXZlfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfWNhdGNoKGUpe1xuICAgICAgICBpZih0aHJvd09uRXJyb3Ipe1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInVubGluayhcIixhcmd1bWVudHNbMF0sXCIpIGZhaWxlZDogXCIrZS5tZXNzYWdlLHtcbiAgICAgICAgICAgIGNhdXNlOiBlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgICBUcmF2ZXJzZXMgdGhlIE9QRlMgZmlsZXN5c3RlbSwgY2FsbGluZyBhIGNhbGxiYWNrIGZvciBlYWNoIG9uZS5cbiAgICAgICBUaGUgYXJndW1lbnQgbWF5IGJlIGVpdGhlciBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9yIGFuIG9wdGlvbnMgb2JqZWN0XG4gICAgICAgd2l0aCBhbnkgb2YgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuXG4gICAgICAgLSBgY2FsbGJhY2tgOiBmdW5jdGlvbiB3aGljaCBnZXRzIGNhbGxlZCBmb3IgZWFjaCBmaWxlc3lzdGVtXG4gICAgICAgICBlbnRyeS4gIEl0IGdldHMgcGFzc2VkIDMgYXJndW1lbnRzOiAxKSB0aGVcbiAgICAgICAgIEZpbGVTeXN0ZW1GaWxlSGFuZGxlIG9yIEZpbGVTeXN0ZW1EaXJlY3RvcnlIYW5kbGUgb2YgZWFjaFxuICAgICAgICAgZW50cnkgKG5vdGluZyB0aGF0IGJvdGggYXJlIGluc3RhbmNlb2YgRmlsZVN5c3RlbUhhbmRsZSkuIDIpXG4gICAgICAgICB0aGUgRmlsZVN5c3RlbURpcmVjdG9yeUhhbmRsZSBvZiB0aGUgcGFyZW50IGRpcmVjdG9yeS4gMykgdGhlXG4gICAgICAgICBjdXJyZW50IGRlcHRoIGxldmVsLCB3aXRoIDAgYmVpbmcgYXQgdGhlIHRvcCBvZiB0aGUgdHJlZVxuICAgICAgICAgcmVsYXRpdmUgdG8gdGhlIHN0YXJ0aW5nIGRpcmVjdG9yeS4gSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYVxuICAgICAgICAgbGl0ZXJhbCBmYWxzZSwgYXMgb3Bwb3NlZCB0byBhbnkgb3RoZXIgZmFsc3kgdmFsdWUsIHRyYXZlcnNhbFxuICAgICAgICAgc3RvcHMgd2l0aG91dCBhbiBlcnJvci4gQW55IGV4Y2VwdGlvbnMgaXQgdGhyb3dzIGFyZVxuICAgICAgICAgcHJvcGFnYXRlZC4gUmVzdWx0cyBhcmUgdW5kZWZpbmVkIGlmIHRoZSBjYWxsYmFjayBtYW5pcHVsYXRlXG4gICAgICAgICB0aGUgZmlsZXN5c3RlbSAoZS5nLiByZW1vdmluZyBvciBhZGRpbmcgZW50cmllcykgYmVjYXVzZSB0aGVcbiAgICAgICAgIGhvdyBPUEZTIGl0ZXJhdG9ycyBiZWhhdmUgaW4gdGhlIGZhY2Ugb2Ygc3VjaCBjaGFuZ2VzIGlzXG4gICAgICAgICB1bmRvY3VtZW50ZWQuXG5cbiAgICAgICAtIGByZWN1cnNpdmVgIFtib29sPXRydWVdOiBzcGVjaWZpZXMgd2hldGhlciB0byByZWN1cnNlIGludG9cbiAgICAgICAgIHN1YmRpcmVjdG9yaWVzIG9yIG5vdC4gV2hldGhlciByZWN1cnNpb24gaXMgZGVwdGgtZmlyc3Qgb3JcbiAgICAgICAgIGJyZWFkdGgtZmlyc3QgaXMgdW5zcGVjaWZpZWQhXG5cbiAgICAgICAtIGBkaXJlY3RvcnlgIFtGaWxlU3lzdGVtRGlyZWN0b3J5RW50cnk9c3FsaXRlMy5vcGZzLnJvb3REaXJlY3RvcnldXG4gICAgICAgICBzcGVjaWZpZXMgdGhlIHN0YXJ0aW5nIGRpcmVjdG9yeS5cblxuICAgICAgIElmIHRoaXMgZnVuY3Rpb24gaXMgcGFzc2VkIGEgZnVuY3Rpb24sIGl0IGlzIGFzc3VtZWQgdG8gYmUgdGhlXG4gICAgICAgY2FsbGJhY2suXG5cbiAgICAgICBSZXR1cm5zIGEgcHJvbWlzZSBiZWNhdXNlIGl0IGhhcyB0byAoYnkgdmlydHVlIG9mIGJlaW5nIGFzeW5jKVxuICAgICAgIGJ1dCB0aGF0IHByb21pc2UgaGFzIG5vIHNwZWNpZmljIG1lYW5pbmc6IHRoZSB0cmF2ZXJzYWwgaXRcbiAgICAgICBwZXJmb3JtcyBpcyBzeW5jaHJvbm91cy4gVGhlIHByb21pc2UgbXVzdCBiZSB1c2VkIHRvIGNhdGNoIGFueVxuICAgICAgIGV4Y2VwdGlvbnMgcHJvcGFnYXRlZCBieSB0aGUgY2FsbGJhY2ssIGhvd2V2ZXIuXG5cbiAgICAgICBUT0RPOiBhZGQgYW4gb3B0aW9uIHdoaWNoIHNwZWNpZmllcyB3aGV0aGVyIHRvIHRyYXZlcnNlXG4gICAgICAgZGVwdGgtZmlyc3Qgb3IgYnJlYWR0aC1maXJzdC4gV2UgY3VycmVudGx5IGRvIGRlcHRoLWZpcnN0IGJ1dFxuICAgICAgIGFuIGluY3JlbWVudGFsIGZpbGUgYnJvd3Npbmcgd2lkZ2V0IHdvdWxkIGJlbmVmaXQgbW9yZSBmcm9tXG4gICAgICAgYnJlYWR0aC1maXJzdC5cbiAgICAqL1xuICAgIG9wZnNVdGlsLnRyYXZlcnNlID0gYXN5bmMgZnVuY3Rpb24ob3B0KXtcbiAgICAgIGNvbnN0IGRlZmF1bHRPcHQgPSB7XG4gICAgICAgIHJlY3Vyc2l2ZTogdHJ1ZSxcbiAgICAgICAgZGlyZWN0b3J5OiBvcGZzVXRpbC5yb290RGlyZWN0b3J5XG4gICAgICB9O1xuICAgICAgaWYoJ2Z1bmN0aW9uJz09PXR5cGVvZiBvcHQpe1xuICAgICAgICBvcHQgPSB7Y2FsbGJhY2s6b3B0fTtcbiAgICAgIH1cbiAgICAgIG9wdCA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdE9wdCwgb3B0fHx7fSk7XG4gICAgICBjb25zdCBkb0RpciA9IGFzeW5jIGZ1bmN0aW9uIGNhbGxlZShkaXJIYW5kbGUsIGRlcHRoKXtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBoYW5kbGUgb2YgZGlySGFuZGxlLnZhbHVlcygpKXtcbiAgICAgICAgICBpZihmYWxzZSA9PT0gb3B0LmNhbGxiYWNrKGhhbmRsZSwgZGlySGFuZGxlLCBkZXB0aCkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBlbHNlIGlmKG9wdC5yZWN1cnNpdmUgJiYgJ2RpcmVjdG9yeScgPT09IGhhbmRsZS5raW5kKXtcbiAgICAgICAgICAgIGlmKGZhbHNlID09PSBhd2FpdCBjYWxsZWUoaGFuZGxlLCBkZXB0aCArIDEpKSBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBkb0RpcihvcHQuZGlyZWN0b3J5LCAwKTtcbiAgICB9O1xuXG4gICAgLy9UT0RPIHRvIHN1cHBvcnQgZmlkZGxlIGFuZCB3b3JrZXIxIGRiIHVwbG9hZDpcbiAgICAvL29wZnNVdGlsLmNyZWF0ZUZpbGUgPSBmdW5jdGlvbihhYnNOYW1lLCBjb250ZW50PXVuZGVmaW5lZCl7Li4ufVxuICAgIC8vV2UgaGF2ZSBzcWxpdGUzLndhc20uc3FsaXRlM193YXNtX3Zmc19jcmVhdGVfZmlsZSgpIGZvciB0aGlzXG4gICAgLy9wdXJwb3NlIGJ1dCBpdHMgaW50ZXJmYWNlIGFuZCBuYW1lIGFyZSBzdGlsbCB1bmRlclxuICAgIC8vY29uc2lkZXJhdGlvbi5cblxuICAgIGlmKHNxbGl0ZTMub28xKXtcbiAgICAgIGNvbnN0IE9wZnNEYiA9IGZ1bmN0aW9uKC4uLmFyZ3Mpe1xuICAgICAgICBjb25zdCBvcHQgPSBzcWxpdGUzLm9vMS5EQi5kYkN0b3JIZWxwZXIubm9ybWFsaXplQXJncyguLi5hcmdzKTtcbiAgICAgICAgb3B0LnZmcyA9IG9wZnNWZnMuJHpOYW1lO1xuICAgICAgICBzcWxpdGUzLm9vMS5EQi5kYkN0b3JIZWxwZXIuY2FsbCh0aGlzLCBvcHQpO1xuICAgICAgfTtcbiAgICAgIE9wZnNEYi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHNxbGl0ZTMub28xLkRCLnByb3RvdHlwZSk7XG4gICAgICBzcWxpdGUzLm9vMS5PcGZzRGIgPSBPcGZzRGI7XG4gICAgICBzcWxpdGUzLm9vMS5EQi5kYkN0b3JIZWxwZXIuc2V0VmZzUG9zdE9wZW5TcWwoXG4gICAgICAgIG9wZnNWZnMucG9pbnRlcixcbiAgICAgICAgZnVuY3Rpb24ob28xRGIsIHNxbGl0ZTMpe1xuICAgICAgICAgIC8qIFNldCBhIHJlbGF0aXZlbHkgaGlnaCBkZWZhdWx0IGJ1c3ktdGltZW91dCBoYW5kbGVyIHRvXG4gICAgICAgICAgICAgaGVscCBPUEZTIGRicyBkZWFsIHdpdGggbXVsdGktdGFiL211bHRpLXdvcmtlclxuICAgICAgICAgICAgIGNvbnRlbnRpb24uICovXG4gICAgICAgICAgc3FsaXRlMy5jYXBpLnNxbGl0ZTNfYnVzeV90aW1lb3V0KG9vMURiLCAxMDAwMCk7XG4gICAgICAgICAgc3FsaXRlMy5jYXBpLnNxbGl0ZTNfZXhlYyhvbzFEYiwgW1xuICAgICAgICAgICAgLyogVHJ1bmNhdGUgam91cm5hbCBtb2RlIGlzIGZhc3RlciB0aGFuIGRlbGV0ZSBmb3JcbiAgICAgICAgICAgICAgIHRoaXMgdmZzLCBwZXIgc3BlZWR0ZXN0MS4gVGhhdCBnYXAgc2VlbXMgdG8gaGF2ZSBjbG9zZWQgd2l0aFxuICAgICAgICAgICAgICAgQ2hyb21lIHZlcnNpb24gMTA4IG9yIDEwOSwgYnV0IFwicGVyc2lzdFwiIGlzIHZlcnkgcm91Z2hseSA1LTYlXG4gICAgICAgICAgICAgICBmYXN0ZXIgdGhhbiB0cnVuY2F0ZSBpbiBpbml0aWFsIHRlc3RzLiAqL1xuICAgICAgICAgICAgXCJwcmFnbWEgam91cm5hbF9tb2RlPXBlcnNpc3Q7XCIsXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICBUaGlzIHZmcyBiZW5lZml0cyBodWdlbHkgZnJvbSBjYWNoZSBvbiBtb2RlcmF0ZS9sYXJnZVxuICAgICAgICAgICAgICBzcGVlZHRlc3QxIC0tc2l6ZSA1MCBhbmQgLS1zaXplIDEwMCB3b3JrbG9hZHMuIFdlXG4gICAgICAgICAgICAgIGN1cnJlbnRseSByZWx5IG9uIHNldHRpbmcgYSBub24tZGVmYXVsdCBjYWNoZSBzaXplIHdoZW5cbiAgICAgICAgICAgICAgYnVpbGRpbmcgc3FsaXRlMy53YXNtLiBJZiB0aGF0IHBvbGljeSBjaGFuZ2VzLCB0aGUgY2FjaGVcbiAgICAgICAgICAgICAgY2FuIGJlIHNldCBoZXJlLlxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIFwicHJhZ21hIGNhY2hlX3NpemU9LTE2Mzg0O1wiXG4gICAgICAgICAgXSwgMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfS8qZXh0ZW5kIHNxbGl0ZTMub28xKi9cblxuICAgIGNvbnN0IHNhbml0eUNoZWNrID0gZnVuY3Rpb24oKXtcbiAgICAgIGNvbnN0IHNjb3BlID0gd2FzbS5zY29wZWRBbGxvY1B1c2goKTtcbiAgICAgIGNvbnN0IHNxM0ZpbGUgPSBuZXcgc3FsaXRlM19maWxlKCk7XG4gICAgICB0cnl7XG4gICAgICAgIGNvbnN0IGZpZCA9IHNxM0ZpbGUucG9pbnRlcjtcbiAgICAgICAgY29uc3Qgb3BlbkZsYWdzID0gY2FwaS5TUUxJVEVfT1BFTl9DUkVBVEVcbiAgICAgICAgICAgICAgfCBjYXBpLlNRTElURV9PUEVOX1JFQURXUklURVxuICAgICAgICAvL3wgY2FwaS5TUUxJVEVfT1BFTl9ERUxFVEVPTkNMT1NFXG4gICAgICAgICAgICAgIHwgY2FwaS5TUUxJVEVfT1BFTl9NQUlOX0RCO1xuICAgICAgICBjb25zdCBwT3V0ID0gd2FzbS5zY29wZWRBbGxvYyg4KTtcbiAgICAgICAgY29uc3QgZGJGaWxlID0gXCIvc2FuaXR5L2NoZWNrL2ZpbGVcIityYW5kb21GaWxlbmFtZSg4KTtcbiAgICAgICAgY29uc3QgekRiRmlsZSA9IHdhc20uc2NvcGVkQWxsb2NDU3RyaW5nKGRiRmlsZSk7XG4gICAgICAgIGxldCByYztcbiAgICAgICAgc3RhdGUuczExbi5zZXJpYWxpemUoXCJUaGlzIGlzIMOkIHN0cmluZy5cIik7XG4gICAgICAgIHJjID0gc3RhdGUuczExbi5kZXNlcmlhbGl6ZSgpO1xuICAgICAgICBsb2coXCJkZXNlcmlhbGl6ZSgpIHNheXM6XCIscmMpO1xuICAgICAgICBpZihcIlRoaXMgaXMgw6Qgc3RyaW5nLlwiIT09cmNbMF0pIHRvc3MoXCJTdHJpbmcgZDEzbiBlcnJvci5cIik7XG4gICAgICAgIHZmc1N5bmNXcmFwcGVycy54QWNjZXNzKG9wZnNWZnMucG9pbnRlciwgekRiRmlsZSwgMCwgcE91dCk7XG4gICAgICAgIHJjID0gd2FzbS5wZWVrKHBPdXQsJ2kzMicpO1xuICAgICAgICBsb2coXCJ4QWNjZXNzKFwiLGRiRmlsZSxcIikgZXhpc3RzID89XCIscmMpO1xuICAgICAgICByYyA9IHZmc1N5bmNXcmFwcGVycy54T3BlbihvcGZzVmZzLnBvaW50ZXIsIHpEYkZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZCwgb3BlbkZsYWdzLCBwT3V0KTtcbiAgICAgICAgbG9nKFwib3BlbiByYyA9XCIscmMsXCJzdGF0ZS5zYWJPUFZpZXdbeE9wZW5dID1cIixcbiAgICAgICAgICAgIHN0YXRlLnNhYk9QVmlld1tzdGF0ZS5vcElkcy54T3Blbl0pO1xuICAgICAgICBpZigwIT09cmMpe1xuICAgICAgICAgIGVycm9yKFwib3BlbiBmYWlsZWQgd2l0aCBjb2RlXCIscmMpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2ZnNTeW5jV3JhcHBlcnMueEFjY2VzcyhvcGZzVmZzLnBvaW50ZXIsIHpEYkZpbGUsIDAsIHBPdXQpO1xuICAgICAgICByYyA9IHdhc20ucGVlayhwT3V0LCdpMzInKTtcbiAgICAgICAgaWYoIXJjKSB0b3NzKFwieEFjY2VzcygpIGZhaWxlZCB0byBkZXRlY3QgZmlsZS5cIik7XG4gICAgICAgIHJjID0gaW9TeW5jV3JhcHBlcnMueFN5bmMoc3EzRmlsZS5wb2ludGVyLCAwKTtcbiAgICAgICAgaWYocmMpIHRvc3MoJ3N5bmMgZmFpbGVkIHcvIHJjJyxyYyk7XG4gICAgICAgIHJjID0gaW9TeW5jV3JhcHBlcnMueFRydW5jYXRlKHNxM0ZpbGUucG9pbnRlciwgMTAyNCk7XG4gICAgICAgIGlmKHJjKSB0b3NzKCd0cnVuY2F0ZSBmYWlsZWQgdy8gcmMnLHJjKTtcbiAgICAgICAgd2FzbS5wb2tlKHBPdXQsMCwnaTY0Jyk7XG4gICAgICAgIHJjID0gaW9TeW5jV3JhcHBlcnMueEZpbGVTaXplKHNxM0ZpbGUucG9pbnRlciwgcE91dCk7XG4gICAgICAgIGlmKHJjKSB0b3NzKCd4RmlsZVNpemUgZmFpbGVkIHcvIHJjJyxyYyk7XG4gICAgICAgIGxvZyhcInhGaWxlU2l6ZSBzYXlzOlwiLHdhc20ucGVlayhwT3V0LCAnaTY0JykpO1xuICAgICAgICByYyA9IGlvU3luY1dyYXBwZXJzLnhXcml0ZShzcTNGaWxlLnBvaW50ZXIsIHpEYkZpbGUsIDEwLCAxKTtcbiAgICAgICAgaWYocmMpIHRvc3MoXCJ4V3JpdGUoKSBmYWlsZWQhXCIpO1xuICAgICAgICBjb25zdCByZWFkQnVmID0gd2FzbS5zY29wZWRBbGxvYygxNik7XG4gICAgICAgIHJjID0gaW9TeW5jV3JhcHBlcnMueFJlYWQoc3EzRmlsZS5wb2ludGVyLCByZWFkQnVmLCA2LCAyKTtcbiAgICAgICAgd2FzbS5wb2tlKHJlYWRCdWYrNiwwKTtcbiAgICAgICAgbGV0IGpSZWFkID0gd2FzbS5jc3RyVG9KcyhyZWFkQnVmKTtcbiAgICAgICAgbG9nKFwieFJlYWQoKSBnb3Q6XCIsalJlYWQpO1xuICAgICAgICBpZihcInNhbml0eVwiIT09alJlYWQpIHRvc3MoXCJVbmV4cGVjdGVkIHhSZWFkKCkgdmFsdWUuXCIpO1xuICAgICAgICBpZih2ZnNTeW5jV3JhcHBlcnMueFNsZWVwKXtcbiAgICAgICAgICBsb2coXCJ4U2xlZXAoKWluZyBiZWZvcmUgY2xvc2UoKWluZy4uLlwiKTtcbiAgICAgICAgICB2ZnNTeW5jV3JhcHBlcnMueFNsZWVwKG9wZnNWZnMucG9pbnRlciwyMDAwKTtcbiAgICAgICAgICBsb2coXCJ3YWtpbmcgdXAgZnJvbSB4U2xlZXAoKVwiKTtcbiAgICAgICAgfVxuICAgICAgICByYyA9IGlvU3luY1dyYXBwZXJzLnhDbG9zZShmaWQpO1xuICAgICAgICBsb2coXCJ4Q2xvc2UgcmMgPVwiLHJjLFwic2FiT1BWaWV3ID1cIixzdGF0ZS5zYWJPUFZpZXcpO1xuICAgICAgICBsb2coXCJEZWxldGluZyBmaWxlOlwiLGRiRmlsZSk7XG4gICAgICAgIHZmc1N5bmNXcmFwcGVycy54RGVsZXRlKG9wZnNWZnMucG9pbnRlciwgekRiRmlsZSwgMHgxMjM0KTtcbiAgICAgICAgdmZzU3luY1dyYXBwZXJzLnhBY2Nlc3Mob3Bmc1Zmcy5wb2ludGVyLCB6RGJGaWxlLCAwLCBwT3V0KTtcbiAgICAgICAgcmMgPSB3YXNtLnBlZWsocE91dCwnaTMyJyk7XG4gICAgICAgIGlmKHJjKSB0b3NzKFwiRXhwZWN0aW5nIDAgZnJvbSB4QWNjZXNzKFwiLGRiRmlsZSxcIikgYWZ0ZXIgeERlbGV0ZSgpLlwiKTtcbiAgICAgICAgd2FybihcIkVuZCBvZiBPUEZTIHNhbml0eSBjaGVja3MuXCIpO1xuICAgICAgfWZpbmFsbHl7XG4gICAgICAgIHNxM0ZpbGUuZGlzcG9zZSgpO1xuICAgICAgICB3YXNtLnNjb3BlZEFsbG9jUG9wKHNjb3BlKTtcbiAgICAgIH1cbiAgICB9LypzYW5pdHlDaGVjaygpKi87XG5cbiAgICBXLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKHtkYXRhfSl7XG4gICAgICAvL2xvZyhcIldvcmtlci5vbm1lc3NhZ2U6XCIsZGF0YSk7XG4gICAgICBzd2l0Y2goZGF0YS50eXBlKXtcbiAgICAgICAgICBjYXNlICdvcGZzLXVuYXZhaWxhYmxlJzpcbiAgICAgICAgICAgIC8qIEFzeW5jIHByb3h5IGhhcyBkZXRlcm1pbmVkIHRoYXQgT1BGUyBpcyB1bmF2YWlsYWJsZS4gVGhlcmUnc1xuICAgICAgICAgICAgICAgbm90aGluZyBtb3JlIGZvciB1cyB0byBkbyBoZXJlLiAqL1xuICAgICAgICAgICAgcHJvbWlzZVJlamVjdChuZXcgRXJyb3IoZGF0YS5wYXlsb2FkLmpvaW4oJyAnKSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnb3Bmcy1hc3luYy1sb2FkZWQnOlxuICAgICAgICAgICAgLypBcnJpdmVzIGFzIHNvb24gYXMgdGhlIGFzeWMgcHJveHkgZmluaXNoZXMgbG9hZGluZy5cbiAgICAgICAgICAgICAgUGFzcyBvdXIgY29uZmlnIGFuZCBzaGFyZWQgc3RhdGUgb24gdG8gdGhlIGFzeW5jIHdvcmtlci4qL1xuICAgICAgICAgICAgVy5wb3N0TWVzc2FnZSh7dHlwZTogJ29wZnMtYXN5bmMtaW5pdCcsYXJnczogc3RhdGV9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ29wZnMtYXN5bmMtaW5pdGVkJzp7XG4gICAgICAgICAgICAvKkluZGljYXRlcyB0aGF0IHRoZSBhc3luYyBwYXJ0bmVyIGhhcyByZWNlaXZlZCB0aGUgJ2luaXQnXG4gICAgICAgICAgICAgIGFuZCBoYXMgZmluaXNoZWQgaW5pdGlhbGl6aW5nLCBzbyB0aGUgcmVhbCB3b3JrIGNhblxuICAgICAgICAgICAgICBiZWdpbi4uLiovXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzcWxpdGUzLnZmcy5pbnN0YWxsVmZzKHtcbiAgICAgICAgICAgICAgICBpbzoge3N0cnVjdDogb3Bmc0lvTWV0aG9kcywgbWV0aG9kczogaW9TeW5jV3JhcHBlcnN9LFxuICAgICAgICAgICAgICAgIHZmczoge3N0cnVjdDogb3Bmc1ZmcywgbWV0aG9kczogdmZzU3luY1dyYXBwZXJzfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc3RhdGUuc2FiT1BWaWV3ID0gbmV3IEludDMyQXJyYXkoc3RhdGUuc2FiT1ApO1xuICAgICAgICAgICAgICBzdGF0ZS5zYWJGaWxlQnVmVmlldyA9IG5ldyBVaW50OEFycmF5KHN0YXRlLnNhYklPLCAwLCBzdGF0ZS5maWxlQnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICAgIHN0YXRlLnNhYlMxMW5WaWV3ID0gbmV3IFVpbnQ4QXJyYXkoc3RhdGUuc2FiSU8sIHN0YXRlLnNhYlMxMW5PZmZzZXQsIHN0YXRlLnNhYlMxMW5TaXplKTtcbiAgICAgICAgICAgICAgaW5pdFMxMW4oKTtcbiAgICAgICAgICAgICAgaWYob3B0aW9ucy5zYW5pdHlDaGVja3Mpe1xuICAgICAgICAgICAgICAgIHdhcm4oXCJSdW5uaW5nIHNhbml0eSBjaGVja3MgYmVjYXVzZSBvZiBvcGZzLXNhbml0eS1jaGVjayBVUkwgYXJnLi4uXCIpO1xuICAgICAgICAgICAgICAgIHNhbml0eUNoZWNrKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYodGhpc1RocmVhZEhhc09QRlMoKSl7XG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLnN0b3JhZ2UuZ2V0RGlyZWN0b3J5KCkudGhlbigoZCk9PntcbiAgICAgICAgICAgICAgICAgIFcub25lcnJvciA9IFcuX29yaWdpbmFsT25FcnJvcjtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBXLl9vcmlnaW5hbE9uRXJyb3I7XG4gICAgICAgICAgICAgICAgICBzcWxpdGUzLm9wZnMgPSBvcGZzVXRpbDtcbiAgICAgICAgICAgICAgICAgIG9wZnNVdGlsLnJvb3REaXJlY3RvcnkgPSBkO1xuICAgICAgICAgICAgICAgICAgbG9nKFwiRW5kIG9mIE9QRlMgc3FsaXRlM192ZnMgc2V0dXAuXCIsIG9wZnNWZnMpO1xuICAgICAgICAgICAgICAgICAgcHJvbWlzZVJlc29sdmUoc3FsaXRlMyk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2gocHJvbWlzZVJlamVjdCk7XG4gICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHByb21pc2VSZXNvbHZlKHNxbGl0ZTMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9Y2F0Y2goZSl7XG4gICAgICAgICAgICAgIGVycm9yKGUpO1xuICAgICAgICAgICAgICBwcm9taXNlUmVqZWN0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBwcm9taXNlUmVqZWN0KGUpO1xuICAgICAgICAgICAgZXJyb3IoXCJVbmV4cGVjdGVkIG1lc3NhZ2UgZnJvbSB0aGUgYXN5bmMgd29ya2VyOlwiLGRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICB9Lypzd2l0Y2goZGF0YS50eXBlKSovXG4gICAgfS8qVy5vbm1lc3NhZ2UoKSovO1xuICB9KS8qdGhlUHJvbWlzZSovO1xuICByZXR1cm4gdGhlUHJvbWlzZTtcbn0vKmluc3RhbGxPcGZzVmZzKCkqLztcbmluc3RhbGxPcGZzVmZzLmRlZmF1bHRQcm94eVVyaSA9XG4gIFwic3FsaXRlMy1vcGZzLWFzeW5jLXByb3h5LmpzXCI7XG5nbG9iYWxUaGlzLnNxbGl0ZTNBcGlCb290c3RyYXAuaW5pdGlhbGl6ZXJzQXN5bmMucHVzaChhc3luYyAoc3FsaXRlMyk9PntcbiAgdHJ5e1xuICAgIGxldCBwcm94eUpzID0gaW5zdGFsbE9wZnNWZnMuZGVmYXVsdFByb3h5VXJpO1xuICAgIGlmKHNxbGl0ZTMuc2NyaXB0SW5mby5zcWxpdGUzRGlyKXtcbiAgICAgIGluc3RhbGxPcGZzVmZzLmRlZmF1bHRQcm94eVVyaSA9XG4gICAgICAgIHNxbGl0ZTMuc2NyaXB0SW5mby5zcWxpdGUzRGlyICsgcHJveHlKcztcbiAgICAgIC8vc3FsaXRlMy5jb25maWcud2FybihcImluc3RhbGxPcGZzVmZzLmRlZmF1bHRQcm94eVVyaSA9XCIsaW5zdGFsbE9wZnNWZnMuZGVmYXVsdFByb3h5VXJpKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbGxPcGZzVmZzKCkuY2F0Y2goKGUpPT57XG4gICAgICBzcWxpdGUzLmNvbmZpZy53YXJuKFwiSWdub3JpbmcgaW5hYmlsaXR5IHRvIGluc3RhbGwgT1BGUyBzcWxpdGUzX3ZmczpcIixlLm1lc3NhZ2UpO1xuICAgIH0pO1xuICB9Y2F0Y2goZSl7XG4gICAgc3FsaXRlMy5jb25maWcuZXJyb3IoXCJpbnN0YWxsT3Bmc1ZmcygpIGV4Y2VwdGlvbjpcIixlKTtcbiAgICB0aHJvdyBlO1xuICB9XG59KTtcbn0vKnNxbGl0ZTNBcGlCb290c3RyYXAuaW5pdGlhbGl6ZXJzLnB1c2goKSovKTtcbi8qIEVORCBGSUxFOiBhcGkvc3FsaXRlMy12ZnMtb3Bmcy5jLXBwLmpzICovXG4vKiBCRUdJTiBGSUxFOiBhcGkvc3FsaXRlMy1hcGktY2xlYW51cC5qcyAqL1xuLypcbiAgMjAyMi0wNy0yMlxuXG4gIFRoZSBhdXRob3IgZGlzY2xhaW1zIGNvcHlyaWdodCB0byB0aGlzIHNvdXJjZSBjb2RlLiAgSW4gcGxhY2Ugb2YgYVxuICBsZWdhbCBub3RpY2UsIGhlcmUgaXMgYSBibGVzc2luZzpcblxuICAqICAgTWF5IHlvdSBkbyBnb29kIGFuZCBub3QgZXZpbC5cbiAgKiAgIE1heSB5b3UgZmluZCBmb3JnaXZlbmVzcyBmb3IgeW91cnNlbGYgYW5kIGZvcmdpdmUgb3RoZXJzLlxuICAqICAgTWF5IHlvdSBzaGFyZSBmcmVlbHksIG5ldmVyIHRha2luZyBtb3JlIHRoYW4geW91IGdpdmUuXG5cbiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBUaGlzIGZpbGUgaXMgdGhlIHRhaWwgZW5kIG9mIHRoZSBzcWxpdGUzLWFwaS5qcyBjb25zdGVsbGF0aW9uLFxuICBpbnRlbmRlZCB0byBiZSBhcHBlbmRlZCBhZnRlciBhbGwgb3RoZXIgc3FsaXRlMy1hcGktKi5qcyBmaWxlcyBzb1xuICB0aGF0IGl0IGNhbiBmaW5hbGl6ZSBhbnkgc2V0dXAgYW5kIGNsZWFuIHVwIGFueSBnbG9iYWwgc3ltYm9sc1xuICB0ZW1wb3JhcmlseSB1c2VkIGZvciBzZXR0aW5nIHVwIHRoZSBBUEkncyB2YXJpb3VzIHN1YnN5c3RlbXMuXG4qL1xuJ3VzZSBzdHJpY3QnO1xuaWYoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBNb2R1bGUpeyAvLyBwcmVzdW1hYmx5IGFuIEVtc2NyaXB0ZW4gYnVpbGRcbiAgLyoqXG4gICAgIEluc3RhbGwgYSBzdWl0YWJsZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gZm9yIHNxbGl0ZTNBcGlCb290c3RyYXAoKS5cbiAgKi9cbiAgY29uc3QgU0FCQyA9IE9iamVjdC5hc3NpZ24oXG4gICAgT2JqZWN0LmNyZWF0ZShudWxsKSwge1xuICAgICAgZXhwb3J0czogTW9kdWxlWydhc20nXSxcbiAgICAgIG1lbW9yeTogTW9kdWxlLndhc21NZW1vcnkgLyogZ2V0cyBzZXQgaWYgYnVpbHQgd2l0aCAtc0lNUE9SVF9NRU1PUlkgKi9cbiAgICB9LFxuICAgIGdsb2JhbFRoaXMuc3FsaXRlM0FwaUNvbmZpZyB8fCB7fVxuICApO1xuXG4gIC8qKlxuICAgICBGb3IgY3VycmVudCAoMjAyMi0wOC0yMikgcHVycG9zZXMsIGF1dG9tYXRpY2FsbHkgY2FsbFxuICAgICBzcWxpdGUzQXBpQm9vdHN0cmFwKCkuICBUaGF0IGRlY2lzaW9uIHdpbGwgYmUgcmV2aXNpdGVkIGF0IHNvbWVcbiAgICAgcG9pbnQsIGFzIHdlIHJlYWxseSB3YW50IGNsaWVudCBjb2RlIHRvIGJlIGFibGUgdG8gY2FsbCB0aGlzIHRvXG4gICAgIGNvbmZpZ3VyZSBjZXJ0YWluIHBhcnRzLiBDbGllbnRzIG1heSBtb2RpZnlcbiAgICAgZ2xvYmFsVGhpcy5zcWxpdGUzQXBpQm9vdHN0cmFwLmRlZmF1bHRDb25maWcgdG8gdHdlYWsgdGhlIGRlZmF1bHRcbiAgICAgY29uZmlndXJhdGlvbiB1c2VkIGJ5IGEgbm8tYXJncyBjYWxsIHRvIHNxbGl0ZTNBcGlCb290c3RyYXAoKSxcbiAgICAgYnV0IG11c3QgaGF2ZSBmaXJzdCBsb2FkZWQgdGhlaXIgV0FTTSBtb2R1bGUgaW4gb3JkZXIgdG8gYmVcbiAgICAgYWJsZSB0byBwcm92aWRlIHRoZSBuZWNlc3NhcnkgY29uZmlndXJhdGlvbiBzdGF0ZS5cbiAgKi9cbiAgLy9jb25zb2xlLndhcm4oXCJnbG9iYWxUaGlzLnNxbGl0ZTNBcGlDb25maWcgPSBcIixnbG9iYWxUaGlzLnNxbGl0ZTNBcGlDb25maWcpO1xuICBnbG9iYWxUaGlzLnNxbGl0ZTNBcGlDb25maWcgPSBTQUJDO1xuICBsZXQgc3FsaXRlMztcbiAgdHJ5e1xuICAgIHNxbGl0ZTMgPSBnbG9iYWxUaGlzLnNxbGl0ZTNBcGlCb290c3RyYXAoKTtcbiAgfWNhdGNoKGUpe1xuICAgIGNvbnNvbGUuZXJyb3IoXCJzcWxpdGUzQXBpQm9vdHN0cmFwKCkgZXJyb3I6XCIsZSk7XG4gICAgdGhyb3cgZTtcbiAgfWZpbmFsbHl7XG4gICAgZGVsZXRlIGdsb2JhbFRoaXMuc3FsaXRlM0FwaUJvb3RzdHJhcDtcbiAgICBkZWxldGUgZ2xvYmFsVGhpcy5zcWxpdGUzQXBpQ29uZmlnO1xuICB9XG5cbiAgTW9kdWxlLnNxbGl0ZTMgPSBzcWxpdGUzIC8qIE5lZWRlZCBmb3IgY3VzdG9taXplZCBzcWxpdGUzSW5pdE1vZHVsZSgpIHRvIGJlIGFibGUgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MgdGhlIHNxbGl0ZTMgb2JqZWN0IG9mZiB0byB0aGUgY2xpZW50LiAqLztcbn1lbHNle1xuICBjb25zb2xlLndhcm4oXCJUaGlzIGlzIG5vdCBydW5uaW5nIGluIGFuIEVtc2NyaXB0ZW4gbW9kdWxlIGNvbnRleHQsIHNvXCIsXG4gICAgICAgICAgICAgICBcImdsb2JhbFRoaXMuc3FsaXRlM0FwaUJvb3RzdHJhcCgpIGlzIF9ub3RfIGJlaW5nIGNhbGxlZCBkdWUgdG8gbGFja1wiLFxuICAgICAgICAgICAgICAgXCJvZiBjb25maWcgaW5mbyBmb3IgdGhlIFdBU00gZW52aXJvbm1lbnQuXCIsXG4gICAgICAgICAgICAgICBcIkl0IG11c3QgYmUgY2FsbGVkIG1hbnVhbGx5LlwiKTtcbn1cbi8qIEVORCBGSUxFOiBhcGkvc3FsaXRlMy1hcGktY2xlYW51cC5qcyAqL1xuLyogRU5EIEZJTEU6IC4vYmxkL3NxbGl0ZTMtYXBpLmMtcHAuanMgKi9cbi8qIEJFR0lOIEZJTEU6IGFwaS9wb3N0LWpzLWZvb3Rlci5qcyAqL1xuLyogVGhlIGN1cnJlbnQgZnVuY3Rpb24gc2NvcGUgd2FzIG9wZW5lZCB2aWEgcG9zdC1qcy1oZWFkZXIuanMsIHdoaWNoXG4gICBnZXRzIHByZXBlbmRlZCB0byB0aGlzIGF0IGJ1aWxkLXRpbWUuIFRoaXMgZmlsZSBjbG9zZXMgdGhhdFxuICAgc2NvcGUuICovXG59KS8qcG9zdFJ1bi5wdXNoKC4uLikqLztcbi8qIEVORCBGSUxFOiBhcGkvcG9zdC1qcy1mb290ZXIuanMgKi9cblxuXG4vLyBlbmQgaW5jbHVkZTogL2hvbWUvbW1vbS9zcmMvc3FsaXRlLXdhc20taHR0cC9kZXBzL3NxbGl0ZS9leHQvd2FzbS9ibGQvcG9zdC1qcy5idW5kbGVyLWZyaWVuZGx5LmpzXG5cblxuICByZXR1cm4gc3FsaXRlM0luaXRNb2R1bGUucmVhZHlcbn1cblxuKTtcbn0pKCk7XG4vKiBeXl5eIEFDSFRVTkc6IGJsYW5rIGxpbmUgYXQgdGhlIHN0YXJ0IGlzIG5lY2Vzc2FyeSBiZWNhdXNlXG4gICBFbXNjcmlwdGVuIHdpbGwgbm90IGFkZCBhIG5ld2xpbmUgaW4gc29tZSBjYXNlcyBhbmQgd2UgbmVlZFxuICAgYSBibGFuayBsaW5lIGZvciBhIHNlZC1iYXNlZCBrbHVkZ2UgZm9yIHRoZSBFUzYgYnVpbGQuICovXG4vKiBleHRlcm4tcG9zdC1qcy5qcyBtdXN0IGJlIGFwcGVuZGVkIHRvIHRoZSByZXN1bHRpbmcgc3FsaXRlMy5qc1xuICAgZmlsZS4gSXQgZ2V0cyBpdHMgbmFtZSBmcm9tIGJlaW5nIHVzZWQgYXMgdGhlIHZhbHVlIGZvciB0aGVcbiAgIC0tZXh0ZXJuLXBvc3QtanM9Li4uIEVtc2NyaXB0ZW4gZmxhZy4gTm90ZSB0aGF0IHRoaXMgY29kZSwgdW5saWtlXG4gICBtb3N0IG9mIHRoZSBhc3NvY2lhdGVkIEpTIGNvZGUsIHJ1bnMgb3V0c2lkZSBvZiB0aGVcbiAgIEVtc2NyaXB0ZW4tZ2VuZXJhdGVkIG1vZHVsZSBpbml0IHNjb3BlLCBpbiB0aGUgY3VycmVudFxuICAgZ2xvYmFsIHNjb3BlLiAqL1xuY29uc3QgdG9FeHBvcnRGb3JFU00gPVxuKGZ1bmN0aW9uKCl7XG4gIC8qKlxuICAgICBJbiBvcmRlciB0byBoaWRlIHRoZSBzcWxpdGUzSW5pdE1vZHVsZSgpJ3MgcmVzdWx0aW5nXG4gICAgIEVtc2NyaXB0ZW4gbW9kdWxlIGZyb20gZG93bnN0cmVhbSBjbGllbnRzIChhbmQgc2ltcGxpZnkgb3VyXG4gICAgIGRvY3VtZW50YXRpb24gYnkgYmVpbmcgYWJsZSB0byBlbGlkZSB0aG9zZSBkZXRhaWxzKSwgd2UgaGlkZSB0aGF0XG4gICAgIGZ1bmN0aW9uIGFuZCBleHBvc2UgYSBoYW5kLXdyaXR0ZW4gc3FsaXRlM0luaXRNb2R1bGUoKSB0byByZXR1cm5cbiAgICAgdGhlIHNxbGl0ZTMgb2JqZWN0IChtb3N0IG9mIHRoZSB0aW1lKS5cblxuICAgICBVbmZvcnR1bmF0ZWx5LCB3ZSBjYW5ub3QgbW9kaWZ5IHRoZSBtb2R1bGUtbG9hZGVyL2V4cG9ydGVyLWJhc2VkXG4gICAgIGltcGxzIHdoaWNoIEVtc2NyaXB0ZW4gaW5zdGFsbHMgYXQgc29tZSBwb2ludCBpbiB0aGUgZmlsZSBhYm92ZVxuICAgICB0aGlzLlxuICAqL1xuICBjb25zdCBvcmlnaW5hbEluaXQgPVxuICAgICAgICAvKiBNYWludGVuYW5jZSByZW1pbmRlcjogRE8gTk9UIHVzZSBgc2VsZi5gIGhlcmUuIEl0J3MgY29ycmVjdFxuICAgICAgICAgICBmb3Igbm9uLUVTNiBNb2R1bGUgY2FzZXMgYnV0IHdyb25nIGZvciBFUzYgbW9kdWxlcyBiZWNhdXNlIHRob3NlXG4gICAgICAgICAgIHJlc29sdmUgdGhpcyBzeW1ib2wgZGlmZmVyZW50bHkuICovIHNxbGl0ZTNJbml0TW9kdWxlO1xuICBpZighb3JpZ2luYWxJbml0KXtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RpbmcgZ2xvYmFsVGhpcy5zcWxpdGUzSW5pdE1vZHVsZSB0byBiZSBkZWZpbmVkIGJ5IHRoZSBFbXNjcmlwdGVuIGJ1aWxkLlwiKTtcbiAgfVxuICAvKipcbiAgICAgV2UgbmVlZCB0byBhZGQgc29tZSBzdGF0ZSB3aGljaCBvdXIgY3VzdG9tIE1vZHVsZS5sb2NhdGVGaWxlKClcbiAgICAgY2FuIHNlZSwgYnV0IGFuIEVtc2NyaXB0ZW4gbGltaXRhdGlvbiBjdXJyZW50bHkgcHJldmVudHMgdXMgZnJvbVxuICAgICBhdHRhY2hpbmcgaXQgdG8gdGhlIHNxbGl0ZTNJbml0TW9kdWxlIGZ1bmN0aW9uIG9iamVjdDpcblxuICAgICBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vaXNzdWVzLzE4MDcxXG5cbiAgICAgVGhlIG9ubHkoPykgY3VycmVudCB3b3JrYXJvdW5kIGlzIHRvIHRlbXBvcmFyaWx5IHN0YXNoIHRoaXMgc3RhdGVcbiAgICAgaW50byB0aGUgZ2xvYmFsIHNjb3BlIGFuZCBkZWxldGUgaXQgd2hlbiBzcWxpdGUzSW5pdE1vZHVsZSgpXG4gICAgIGlzIGNhbGxlZC5cbiAgKi9cbiAgY29uc3QgaW5pdE1vZHVsZVN0YXRlID0gZ2xvYmFsVGhpcy5zcWxpdGUzSW5pdE1vZHVsZVN0YXRlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLHtcbiAgICBtb2R1bGVTY3JpcHQ6IGdsb2JhbFRoaXM/LmRvY3VtZW50Py5jdXJyZW50U2NyaXB0LFxuICAgIGlzV29ya2VyOiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSksXG4gICAgbG9jYXRpb246IGdsb2JhbFRoaXMubG9jYXRpb24sXG4gICAgdXJsUGFyYW1zOiAgZ2xvYmFsVGhpcz8ubG9jYXRpb24/LmhyZWZcbiAgICAgID8gbmV3IFVSTChnbG9iYWxUaGlzLmxvY2F0aW9uLmhyZWYpLnNlYXJjaFBhcmFtc1xuICAgICAgOiBuZXcgVVJMU2VhcmNoUGFyYW1zKClcbiAgfSk7XG4gIGluaXRNb2R1bGVTdGF0ZS5kZWJ1Z01vZHVsZSA9XG4gICAgaW5pdE1vZHVsZVN0YXRlLnVybFBhcmFtcy5oYXMoJ3NxbGl0ZTMuZGVidWdNb2R1bGUnKVxuICAgID8gKC4uLmFyZ3MpPT5jb25zb2xlLndhcm4oJ3NxbGl0ZTMuZGVidWdNb2R1bGU6JywuLi5hcmdzKVxuICAgIDogKCk9Pnt9O1xuXG4gIGlmKGluaXRNb2R1bGVTdGF0ZS51cmxQYXJhbXMuaGFzKCdzcWxpdGUzLmRpcicpKXtcbiAgICBpbml0TW9kdWxlU3RhdGUuc3FsaXRlM0RpciA9IGluaXRNb2R1bGVTdGF0ZS51cmxQYXJhbXMuZ2V0KCdzcWxpdGUzLmRpcicpICsnLyc7XG4gIH1lbHNlIGlmKGluaXRNb2R1bGVTdGF0ZS5tb2R1bGVTY3JpcHQpe1xuICAgIGNvbnN0IGxpID0gaW5pdE1vZHVsZVN0YXRlLm1vZHVsZVNjcmlwdC5zcmMuc3BsaXQoJy8nKTtcbiAgICBsaS5wb3AoKTtcbiAgICBpbml0TW9kdWxlU3RhdGUuc3FsaXRlM0RpciA9IGxpLmpvaW4oJy8nKSArICcvJztcbiAgfVxuXG4gIGdsb2JhbFRoaXMuc3FsaXRlM0luaXRNb2R1bGUgPSBmdW5jdGlvbiBmZiguLi5hcmdzKXtcbiAgICAvL2NvbnNvbGUud2FybihcIlVzaW5nIHJlcGxhY2VkIHNxbGl0ZTNJbml0TW9kdWxlKClcIixzZWxmLmxvY2F0aW9uKTtcbiAgICByZXR1cm4gb3JpZ2luYWxJbml0KC4uLmFyZ3MpLnRoZW4oKEVtc2NyaXB0ZW5Nb2R1bGUpPT57XG4gICAgICBpZigndW5kZWZpbmVkJyE9PXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAmJlxuICAgICAgICAgKEVtc2NyaXB0ZW5Nb2R1bGVbJ0VOVklST05NRU5UX0lTX1BUSFJFQUQnXVxuICAgICAgICAgIHx8IEVtc2NyaXB0ZW5Nb2R1bGVbJ19wdGhyZWFkX3NlbGYnXVxuICAgICAgICAgIHx8ICdmdW5jdGlvbic9PT10eXBlb2YgdGhyZWFkQWxlcnRcbiAgICAgICAgICB8fCBnbG9iYWxUaGlzPy5sb2NhdGlvbj8ucGF0aG5hbWU/LmVuZHNXaXRoPy4oJy53b3JrZXIuanMnKVxuICAgICAgICAgKSl7XG4gICAgICAgIC8qKiBXb3JrYXJvdW5kIGZvciB3YXNtZnMtZ2VuZXJhdGVkIHdvcmtlciwgd2hpY2ggY2FsbHMgdGhpc1xuICAgICAgICAgICAgcm91dGluZSBmcm9tIGVhY2ggaW5kaXZpZHVhbCB0aHJlYWQgYW5kIHJlcXVpcmVzIHRoYXQgaXRzXG4gICAgICAgICAgICBhcmd1bWVudCBiZSByZXR1cm5lZC4gQWxsIG9mIHRoZSBjcml0ZXJpYSBhYm92ZSBhcmUgZnJhZ2lsZSxcbiAgICAgICAgICAgIGJhc2VkIHNvbGVseSBvbiBpbnNwZWN0aW9uIG9mIHRoZSBvZmZlbmRpbmcgY29kZSwgbm90IHB1YmxpY1xuICAgICAgICAgICAgRW1zY3JpcHRlbiBkZXRhaWxzLiAqL1xuICAgICAgICByZXR1cm4gRW1zY3JpcHRlbk1vZHVsZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHMgPSBFbXNjcmlwdGVuTW9kdWxlLnNxbGl0ZTM7XG4gICAgICBzLnNjcmlwdEluZm8gPSBpbml0TW9kdWxlU3RhdGU7XG4gICAgICAvL2NvbnNvbGUud2FybihcInNxbGl0ZTMuc2NyaXB0SW5mbyA9XCIscy5zY3JpcHRJbmZvKTtcbiAgICAgIGlmKGZmLl9faXNVbmRlclRlc3QpIHMuX19pc1VuZGVyVGVzdCA9IHRydWU7XG4gICAgICBjb25zdCBmID0gcy5hc3luY1Bvc3RJbml0O1xuICAgICAgZGVsZXRlIHMuYXN5bmNQb3N0SW5pdDtcbiAgICAgIHJldHVybiBmKCk7XG4gICAgfSkuY2F0Y2goKGUpPT57XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXhjZXB0aW9uIGxvYWRpbmcgc3FsaXRlMyBtb2R1bGU6XCIsZSk7XG4gICAgICB0aHJvdyBlO1xuICAgIH0pO1xuICB9O1xuICBnbG9iYWxUaGlzLnNxbGl0ZTNJbml0TW9kdWxlLnJlYWR5ID0gb3JpZ2luYWxJbml0LnJlYWR5O1xuXG4gIGlmKGdsb2JhbFRoaXMuc3FsaXRlM0luaXRNb2R1bGVTdGF0ZS5tb2R1bGVTY3JpcHQpe1xuICAgIGNvbnN0IHNpbSA9IGdsb2JhbFRoaXMuc3FsaXRlM0luaXRNb2R1bGVTdGF0ZTtcbiAgICBsZXQgc3JjID0gc2ltLm1vZHVsZVNjcmlwdC5zcmMuc3BsaXQoJy8nKTtcbiAgICBzcmMucG9wKCk7XG4gICAgc2ltLnNjcmlwdERpciA9IHNyYy5qb2luKCcvJykgKyAnLyc7XG4gIH1cbiAgaW5pdE1vZHVsZVN0YXRlLmRlYnVnTW9kdWxlKCdzcWxpdGUzSW5pdE1vZHVsZVN0YXRlID0nLGluaXRNb2R1bGVTdGF0ZSk7XG4gIGlmKDApe1xuICAgIGNvbnNvbGUud2FybihcIlJlcGxhY2VkIHNxbGl0ZTNJbml0TW9kdWxlKClcIik7XG4gICAgY29uc29sZS53YXJuKFwiZ2xvYmFsVGhpcy5sb2NhdGlvbi5ocmVmID1cIixnbG9iYWxUaGlzLmxvY2F0aW9uLmhyZWYpO1xuICAgIGlmKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgZG9jdW1lbnQpe1xuICAgICAgY29uc29sZS53YXJuKFwiZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMgPVwiLFxuICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Py5jdXJyZW50U2NyaXB0Py5zcmMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZ2xvYmFsVGhpcy5zcWxpdGUzSW5pdE1vZHVsZSAvKiByZXF1aXJlZCBmb3IgRVNNICovO1xufSkoKTtcbmV4cG9ydCBkZWZhdWx0IHRvRXhwb3J0Rm9yRVNNO1xuIiwidmFyIF9hO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGltZW91dDogKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRpbWVvdXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDIwMDAwLFxuICAgICAgICBtYXhQYWdlU2l6ZTogKF9iID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1heFBhZ2VTaXplKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiA0MDk2LFxuICAgICAgICBjYWNoZVNpemU6IChfYyA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5jYWNoZVNpemUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IDEwMjQsXG4gICAgICAgIGhlYWRlcnM6IChfZCA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5oZWFkZXJzKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiB7fVxuICAgIH07XG59XG5jb25zdCBkZWJ1Z09wdGlvbnMgPSAodHlwZW9mIFNRTElURV9ERUJVRyAhPT0gJ3VuZGVmaW5lZCcgJiYgU1FMSVRFX0RFQlVHKSB8fFxuICAgICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mICgoX2EgPSBwcm9jZXNzID09PSBudWxsIHx8IHByb2Nlc3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb2Nlc3MuZW52KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuU1FMSVRFX0RFQlVHKSAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5lbnYuU1FMSVRFX0RFQlVHKSB8fFxuICAgICcnO1xuZXhwb3J0IGNvbnN0IGRlYnVnU3lzID0gWyd0aHJlYWRzJywgJ3ZmcycsICdjYWNoZScsICdodHRwJ107XG5leHBvcnQgY29uc3QgZGVidWcgPSB7fTtcbmZvciAoY29uc3QgZCBvZiBkZWJ1Z1N5cykge1xuICAgIGRlYnVnW2RdID0gZGVidWdPcHRpb25zLmluY2x1ZGVzKGQpID9cbiAgICAgICAgY29uc29sZS5kZWJ1Zy5iaW5kKGNvbnNvbGUpIDpcbiAgICAgICAgKCkgPT4gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmZzLWh0dHAtdHlwZXMuanMubWFwIiwiLypcbiAgMjAyMi0wOC0yNFxuXG4gIFRoZSBhdXRob3IgZGlzY2xhaW1zIGNvcHlyaWdodCB0byB0aGlzIHNvdXJjZSBjb2RlLiAgSW4gcGxhY2Ugb2YgYVxuICBsZWdhbCBub3RpY2UsIGhlcmUgaXMgYSBibGVzc2luZzpcblxuICAqICAgTWF5IHlvdSBkbyBnb29kIGFuZCBub3QgZXZpbC5cbiAgKiAgIE1heSB5b3UgZmluZCBmb3JnaXZlbmVzcyBmb3IgeW91cnNlbGYgYW5kIGZvcmdpdmUgb3RoZXJzLlxuICAqICAgTWF5IHlvdSBzaGFyZSBmcmVlbHksIG5ldmVyIHRha2luZyBtb3JlIHRoYW4geW91IGdpdmUuXG5cbiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICBUaGlzIGZpbGUgaW1wbGVtZW50cyBhIFByb21pc2UtYmFzZWQgcHJveHkgZm9yIHRoZSBzcWxpdGUzIFdvcmtlclxuICBBUEkgIzEuIEl0IGlzIGludGVuZGVkIHRvIGJlIGluY2x1ZGVkIGVpdGhlciBmcm9tIHRoZSBtYWluIHRocmVhZCBvclxuICBhIFdvcmtlciwgYnV0IG9ubHkgaWYgKEEpIHRoZSBlbnZpcm9ubWVudCBzdXBwb3J0cyBuZXN0ZWQgV29ya2Vyc1xuICBhbmQgKEIpIGl0J3MgX25vdF8gYSBXb3JrZXIgd2hpY2ggbG9hZHMgdGhlIHNxbGl0ZTMgV0FTTS9KU1xuICBtb2R1bGUuIFRoaXMgZmlsZSdzIGZlYXR1cmVzIHdpbGwgbG9hZCB0aGF0IG1vZHVsZSBhbmQgcHJvdmlkZSBhXG4gIHNsaWdodGx5IHNpbXBsZXIgY2xpZW50LXNpZGUgaW50ZXJmYWNlIHRoYW4gdGhlIHNsaWdodGx5LWxvd2VyLWxldmVsXG4gIFdvcmtlciBBUEkgZG9lcy5cblxuICBUaGlzIHNjcmlwdCBuZWNlc3NhcmlseSBleHBvc2VzIG9uZSBnbG9iYWwgc3ltYm9sLCBidXQgY2xpZW50cyBtYXlcbiAgZnJlZWx5IGBkZWxldGVgIHRoYXQgc3ltYm9sIGFmdGVyIGNhbGxpbmcgaXQuXG4qL1xuJ3VzZSBzdHJpY3QnO1xuLyoqXG4gICBDb25maWd1cmVzIGFuIHNxbGl0ZTMgV29ya2VyIEFQSSAjMSBXb3JrZXIgc3VjaCB0aGF0IGl0IGNhbiBiZVxuICAgbWFuaXB1bGF0ZWQgdmlhIGEgUHJvbWlzZS1iYXNlZCBpbnRlcmZhY2UgYW5kIHJldHVybnMgYSBmYWN0b3J5XG4gICBmdW5jdGlvbiB3aGljaCByZXR1cm5zIFByb21pc2VzIGZvciBjb21tdW5pY2F0aW5nIHdpdGggdGhlIHdvcmtlci5cbiAgIFRoaXMgcHJveHkgaGFzIGFuIF9hbG1vc3RfIGlkZW50aWNhbCBpbnRlcmZhY2UgdG8gdGhlIG5vcm1hbFxuICAgd29ya2VyIEFQSSwgd2l0aCBhbnkgZXhjZXB0aW9ucyBkb2N1bWVudGVkIGJlbG93LlxuXG4gICBJdCByZXF1aXJlcyBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuXG4gICAtIGB3b3JrZXJgIChyZXF1aXJlZCk6IGEgV29ya2VyIGluc3RhbmNlIHdoaWNoIGxvYWRzXG4gICBgc3FsaXRlMy13b3JrZXIxLmpzYCBvciBhIGZ1bmN0aW9uYWwgZXF1aXZhbGVudC4gTm90ZSB0aGF0IHRoZVxuICAgcHJvbWlzZXIgZmFjdG9yeSByZXBsYWNlcyB0aGUgd29ya2VyLm9ubWVzc2FnZSBwcm9wZXJ0eS4gVGhpc1xuICAgY29uZmlnIG9wdGlvbiBtYXkgYWx0ZXJuYXRlbHkgYmUgYSBmdW5jdGlvbiwgaW4gd2hpY2ggY2FzZSB0aGlzXG4gICBmdW5jdGlvbiByZS1hc3NpZ25zIHRoaXMgcHJvcGVydHkgd2l0aCB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgdGhhdFxuICAgZnVuY3Rpb24sIGVuYWJsaW5nIGRlbGF5ZWQgaW5zdGFudGlhdGlvbiBvZiBhIFdvcmtlci5cblxuICAgLSBgb25yZWFkeWAgKG9wdGlvbmFsLCBidXQuLi4pOiB0aGlzIGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIG5vXG4gICBhcmd1bWVudHMgd2hlbiB0aGUgd29ya2VyIGZpcmVzIGl0cyBpbml0aWFsXG4gICAnc3FsaXRlMy1hcGknLyd3b3JrZXIxLXJlYWR5JyBtZXNzYWdlLCB3aGljaCBpdCBkb2VzIHdoZW5cbiAgIHNxbGl0ZTMuaW5pdFdvcmtlcjFBUEkoKSBjb21wbGV0ZXMgaXRzIGluaXRpYWxpemF0aW9uLiBUaGlzIGlzXG4gICB0aGUgc2ltcGxlc3Qgd2F5IHRvIHRlbGwgdGhlIHdvcmtlciB0byBraWNrIG9mZiB3b3JrIGF0IHRoZVxuICAgZWFybGllc3Qgb3Bwb3J0dW5pdHkuXG5cbiAgIC0gYG9udW5oYW5kbGVkYCAob3B0aW9uYWwpOiBhIGNhbGxiYWNrIHdoaWNoIGdldHMgcGFzc2VkIHRoZVxuICAgbWVzc2FnZSBldmVudCBvYmplY3QgZm9yIGFueSB3b3JrZXIub25tZXNzYWdlKCkgZXZlbnRzIHdoaWNoXG4gICBhcmUgbm90IGhhbmRsZWQgYnkgdGhpcyBwcm94eS4gSWRlYWxseSB0aGF0IFwic2hvdWxkXCIgbmV2ZXJcbiAgIGhhcHBlbiwgYXMgdGhpcyBwcm94eSBhaW1zIHRvIGhhbmRsZSBhbGwga25vd24gbWVzc2FnZSB0eXBlcy5cblxuICAgLSBgZ2VuZXJhdGVNZXNzYWdlSWRgIChvcHRpb25hbCk6IGEgZnVuY3Rpb24gd2hpY2gsIHdoZW4gcGFzc2VkIGFuXG4gICBhYm91dC10by1iZS1wb3N0ZWQgbWVzc2FnZSBvYmplY3QsIGdlbmVyYXRlcyBhIF91bmlxdWVfIG1lc3NhZ2UgSURcbiAgIGZvciB0aGUgbWVzc2FnZSwgd2hpY2ggdGhpcyBBUEkgdGhlbiBhc3NpZ25zIGFzIHRoZSBtZXNzYWdlSWRcbiAgIHByb3BlcnR5IG9mIHRoZSBtZXNzYWdlLiBJdCBfbXVzdF8gZ2VuZXJhdGUgdW5pcXVlIElEcyBvbiBlYWNoIGNhbGxcbiAgIHNvIHRoYXQgZGlzcGF0Y2hpbmcgY2FuIHdvcmsuIElmIG5vdCBkZWZpbmVkLCBhIGRlZmF1bHQgZ2VuZXJhdG9yXG4gICBpcyB1c2VkICh3aGljaCBzaG91bGQgYmUgc3VmZmljaWVudCBmb3IgbW9zdCBvciBhbGwgY2FzZXMpLlxuXG4gICAtIGBkZWJ1Z2AgKG9wdGlvbmFsKTogYSBjb25zb2xlLmRlYnVnKCktc3R5bGUgZnVuY3Rpb24gZm9yIGxvZ2dpbmdcbiAgIGluZm9ybWF0aW9uIGFib3V0IG1lc3NhZ2VzLlxuXG4gICBUaGlzIGZ1bmN0aW9uIHJldHVybnMgYSBzdGF0ZWZ1bCBmYWN0b3J5IGZ1bmN0aW9uIHdpdGggdGhlXG4gICBmb2xsb3dpbmcgaW50ZXJmYWNlczpcblxuICAgLSBQcm9taXNlIGZ1bmN0aW9uKG1lc3NhZ2VUeXBlLCBtZXNzYWdlQXJncylcbiAgIC0gUHJvbWlzZSBmdW5jdGlvbih7bWVzc2FnZSBvYmplY3R9KVxuXG4gICBUaGUgZmlyc3QgZm9ybSBleHBlY3RzIHRoZSBcInR5cGVcIiBhbmQgXCJhcmdzXCIgdmFsdWVzIGZvciBhIFdvcmtlclxuICAgbWVzc2FnZS4gVGhlIHNlY29uZCBleHBlY3RzIGFuIG9iamVjdCBpbiB0aGUgZm9ybSB7dHlwZTouLi4sXG4gICBhcmdzOi4uLn0gIHBsdXMgYW55IG90aGVyIHByb3BlcnRpZXMgdGhlIGNsaWVudCBjYXJlcyB0byBzZXQuIFRoaXNcbiAgIGZ1bmN0aW9uIHdpbGwgYWx3YXlzIHNldCB0aGUgYG1lc3NhZ2VJZGAgcHJvcGVydHkgb24gdGhlIG9iamVjdCxcbiAgIGV2ZW4gaWYgaXQncyBhbHJlYWR5IHNldCwgYW5kIHdpbGwgc2V0IHRoZSBgZGJJZGAgcHJvcGVydHkgdG8gdGhlXG4gICBjdXJyZW50IGRhdGFiYXNlIElEIGlmIGl0IGlzIF9ub3RfIHNldCBpbiB0aGUgbWVzc2FnZSBvYmplY3QuXG5cbiAgIFRoZSBmdW5jdGlvbiB0aHJvd3Mgb24gZXJyb3IuXG5cbiAgIFRoZSBmdW5jdGlvbiBpbnN0YWxscyBhIHRlbXBvcmFyeSBtZXNzYWdlIGxpc3RlbmVyLCBwb3N0cyBhXG4gICBtZXNzYWdlIHRvIHRoZSBjb25maWd1cmVkIFdvcmtlciwgYW5kIGhhbmRsZXMgdGhlIG1lc3NhZ2Unc1xuICAgcmVzcG9uc2UgdmlhIHRoZSB0ZW1wb3JhcnkgbWVzc2FnZSBsaXN0ZW5lci4gVGhlIHRoZW4oKSBjYWxsYmFja1xuICAgb2YgdGhlIHJldHVybmVkIFByb21pc2UgaXMgcGFzc2VkIHRoZSBgbWVzc2FnZS5kYXRhYCBwcm9wZXJ0eSBmcm9tXG4gICB0aGUgcmVzdWx0aW5nIG1lc3NhZ2UsIGkuZS4gdGhlIHBheWxvYWQgZnJvbSB0aGUgd29ya2VyLCBzdHJpcHBlZFxuICAgb2YgdGhlIGxvd2VyLWxldmVsIGV2ZW50IHN0YXRlIHdoaWNoIHRoZSBvbm1lc3NhZ2UoKSBoYW5kbGVyXG4gICByZWNlaXZlcy5cblxuICAgRXhhbXBsZSB1c2FnZTpcblxuICAgYGBgXG4gICBjb25zdCBjb25maWcgPSB7Li4ufTtcbiAgIGNvbnN0IHNxM1Byb21pc2VyID0gc3FsaXRlM1dvcmtlcjFQcm9taXNlcihjb25maWcpO1xuICAgc3EzUHJvbWlzZXIoJ29wZW4nLCB7ZmlsZW5hbWU6XCIvZm9vLmRiXCJ9KS50aGVuKGZ1bmN0aW9uKG1zZyl7XG4gICAgIGNvbnNvbGUubG9nKFwib3BlbiByZXNwb25zZVwiLG1zZyk7IC8vID0+IHt0eXBlOidvcGVuJywgcmVzdWx0OiB7ZmlsZW5hbWU6Jy9mb28uZGInfSwgLi4ufVxuICAgfSk7XG4gICBzcTNQcm9taXNlcih7dHlwZTonY2xvc2UnfSkudGhlbigobXNnKT0+e1xuICAgICBjb25zb2xlLmxvZyhcImNsb3NlIHJlc3BvbnNlXCIsbXNnKTsgLy8gPT4ge3R5cGU6J2Nsb3NlJywgcmVzdWx0OiB7ZmlsZW5hbWU6Jy9mb28uZGInfSwgLi4ufVxuICAgfSk7XG4gICBgYGBcblxuICAgRGlmZmVyZW5jZXMgZnJvbSBXb3JrZXIgQVBJICMxOlxuXG4gICAtIGV4ZWMncyB7Y2FsbGJhY2s6IFNUUklOR30gb3B0aW9uIGRvZXMgbm90IHdvcmsgdmlhIHRoaXNcbiAgIGludGVyZmFjZSAoaXQgdHJpZ2dlcnMgYW4gZXhjZXB0aW9uKSwgYnV0IHtjYWxsYmFjazogZnVuY3Rpb259XG4gICBkb2VzIGFuZCB3b3JrcyBleGFjdGx5IGxpa2UgdGhlIFNUUklORyBmb3JtIGRvZXMgaW4gdGhlIFdvcmtlcjpcbiAgIHRoZSBjYWxsYmFjayBpcyBjYWxsZWQgb25lIHRpbWUgZm9yIGVhY2ggcm93IG9mIHRoZSByZXN1bHQgc2V0LFxuICAgcGFzc2VkIHRoZSBzYW1lIHdvcmtlciBtZXNzYWdlIGZvcm1hdCBhcyB0aGUgd29ya2VyIEFQSSBlbWl0czpcblxuICAgICB7dHlwZTp0eXBlU3RyaW5nLFxuICAgICAgcm93OlZBTFVFLFxuICAgICAgcm93TnVtYmVyOjEtYmFzZWQtIyxcbiAgICAgIGNvbHVtbk5hbWVzOiBhcnJheX1cblxuICAgV2hlcmUgYHR5cGVTdHJpbmdgIGlzIGFuIGludGVybmFsbHktc3ludGhlc2l6ZWQgbWVzc2FnZSB0eXBlIHN0cmluZ1xuICAgdXNlZCB0ZW1wb3JhcmlseSBmb3Igd29ya2VyIG1lc3NhZ2UgZGlzcGF0Y2hpbmcuIEl0IGNhbiBiZSBpZ25vcmVkXG4gICBieSBhbGwgY2xpZW50IGNvZGUgZXhjZXB0IHRoYXQgd2hpY2ggdGVzdHMgdGhpcyBBUEkuIFRoZSBgcm93YFxuICAgcHJvcGVydHkgY29udGFpbnMgdGhlIHJvdyByZXN1bHQgaW4gdGhlIGZvcm0gaW1wbGllZCBieSB0aGVcbiAgIGByb3dNb2RlYCBvcHRpb24gKGRlZmF1bHRpbmcgdG8gYCdhcnJheSdgKS4gVGhlIGByb3dOdW1iZXJgIGlzIGFcbiAgIDEtYmFzZWQgaW50ZWdlciB2YWx1ZSBpbmNyZW1lbnRlZCBieSAxIG9uIGVhY2ggY2FsbCBpbnRvIHRoZVxuICAgY2FsbGJhY2suXG5cbiAgIEF0IHRoZSBlbmQgb2YgdGhlIHJlc3VsdCBzZXQsIHRoZSBzYW1lIGV2ZW50IGlzIGZpcmVkIHdpdGhcbiAgIChyb3c9dW5kZWZpbmVkLCByb3dOdW1iZXI9bnVsbCkgdG8gaW5kaWNhdGUgdGhhdFxuICAgdGhlIGVuZCBvZiB0aGUgcmVzdWx0IHNldCBoYXMgYmVlbiByZWFjaGVkLiBOb3RlIHRoYXQgdGhlIHJvd3NcbiAgIGFycml2ZSB2aWEgd29ya2VyLXBvc3RlZCBtZXNzYWdlcywgd2l0aCBhbGwgdGhlIGltcGxpY2F0aW9uc1xuICAgb2YgdGhhdC5cblxuICAgTm90YWJsZSBzaG9ydGNvbWluZ3M6XG5cbiAgIC0gVGhpcyBBUEkgd2FzIG5vdCBkZXNpZ25lZCB3aXRoIEVTNiBtb2R1bGVzIGluIG1pbmQuIE5laXRoZXIgRmlyZWZveFxuICAgICBub3IgU2FmYXJpIHN1cHBvcnQsIGFzIG9mIE1hcmNoIDIwMjMsIHRoZSB7dHlwZTpcIm1vZHVsZVwifSBmbGFnIHRvIHRoZVxuICAgICBXb3JrZXIgY29uc3RydWN0b3IsIHNvIHRoYXQgcGFydGljdWxhciB1c2FnZSBpcyBub3Qgc29tZXRoaW5nIHdlJ3JlIGdvaW5nXG4gICAgIHRvIHRhcmdldCBmb3IgdGhlIHRpbWUgYmVpbmc6XG5cbiAgICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dvcmtlci9Xb3JrZXJcbiovXG5nbG9iYWxUaGlzLnNxbGl0ZTNXb3JrZXIxUHJvbWlzZXIgPSBmdW5jdGlvbiBjYWxsZWUoY29uZmlnID0gY2FsbGVlLmRlZmF1bHRDb25maWcpe1xuICAvLyBJbnNwaXJlZCBieTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzUyNDM5NTMwXG4gIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoICYmICdmdW5jdGlvbic9PT10eXBlb2YgYXJndW1lbnRzWzBdKXtcbiAgICBjb25zdCBmID0gY29uZmlnO1xuICAgIGNvbmZpZyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShudWxsKSwgY2FsbGVlLmRlZmF1bHRDb25maWcpO1xuICAgIGNvbmZpZy5vbnJlYWR5ID0gZjtcbiAgfWVsc2V7XG4gICAgY29uZmlnID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBjYWxsZWUuZGVmYXVsdENvbmZpZywgY29uZmlnKTtcbiAgfVxuICBjb25zdCBoYW5kbGVyTWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY29uc3Qgbm9vcCA9IGZ1bmN0aW9uKCl7fTtcbiAgY29uc3QgZXJyID0gY29uZmlnLm9uZXJyb3JcbiAgICAgICAgfHwgbm9vcCAvKiBjb25maWcub25lcnJvciBpcyBpbnRlbnRpb25hbGx5IHVuZG9jdW1lbnRlZFxuICAgICAgICAgICAgICAgICAgIHBlbmRpbmcgZmluZGluZyBhIGxlc3MgYW1iaWd1b3VzIG5hbWUgKi87XG4gIGNvbnN0IGRlYnVnID0gY29uZmlnLmRlYnVnIHx8IG5vb3A7XG4gIGNvbnN0IGlkVHlwZU1hcCA9IGNvbmZpZy5nZW5lcmF0ZU1lc3NhZ2VJZCA/IHVuZGVmaW5lZCA6IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGNvbnN0IGdlbk1zZ0lkID0gY29uZmlnLmdlbmVyYXRlTWVzc2FnZUlkIHx8IGZ1bmN0aW9uKG1zZyl7XG4gICAgcmV0dXJuIG1zZy50eXBlKycjJysoaWRUeXBlTWFwW21zZy50eXBlXSA9IChpZFR5cGVNYXBbbXNnLnR5cGVdfHwwKSArIDEpO1xuICB9O1xuICBjb25zdCB0b3NzID0gKC4uLmFyZ3MpPT57dGhyb3cgbmV3IEVycm9yKGFyZ3Muam9pbignICcpKX07XG4gIGlmKCFjb25maWcud29ya2VyKSBjb25maWcud29ya2VyID0gY2FsbGVlLmRlZmF1bHRDb25maWcud29ya2VyO1xuICBpZignZnVuY3Rpb24nPT09dHlwZW9mIGNvbmZpZy53b3JrZXIpIGNvbmZpZy53b3JrZXIgPSBjb25maWcud29ya2VyKCk7XG4gIGxldCBkYklkO1xuICBjb25maWcud29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2KXtcbiAgICBldiA9IGV2LmRhdGE7XG4gICAgZGVidWcoJ3dvcmtlcjEub25tZXNzYWdlJyxldik7XG4gICAgbGV0IG1zZ0hhbmRsZXIgPSBoYW5kbGVyTWFwW2V2Lm1lc3NhZ2VJZF07XG4gICAgaWYoIW1zZ0hhbmRsZXIpe1xuICAgICAgaWYoZXYgJiYgJ3NxbGl0ZTMtYXBpJz09PWV2LnR5cGUgJiYgJ3dvcmtlcjEtcmVhZHknPT09ZXYucmVzdWx0KSB7XG4gICAgICAgIC8qZmlyZWQgb25lIHRpbWUgd2hlbiB0aGUgV29ya2VyMSBBUEkgaW5pdGlhbGl6ZXMqL1xuICAgICAgICBpZihjb25maWcub25yZWFkeSkgY29uZmlnLm9ucmVhZHkoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbXNnSGFuZGxlciA9IGhhbmRsZXJNYXBbZXYudHlwZV0gLyogY2hlY2sgZm9yIGV4ZWMgcGVyLXJvdyBjYWxsYmFjayAqLztcbiAgICAgIGlmKG1zZ0hhbmRsZXIgJiYgbXNnSGFuZGxlci5vbnJvdyl7XG4gICAgICAgIG1zZ0hhbmRsZXIub25yb3coZXYpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZihjb25maWcub251bmhhbmRsZWQpIGNvbmZpZy5vbnVuaGFuZGxlZChhcmd1bWVudHNbMF0pO1xuICAgICAgZWxzZSBlcnIoXCJzcWxpdGUzV29ya2VyMVByb21pc2VyKCkgdW5oYW5kbGVkIHdvcmtlciBtZXNzYWdlOlwiLGV2KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVsZXRlIGhhbmRsZXJNYXBbZXYubWVzc2FnZUlkXTtcbiAgICBzd2l0Y2goZXYudHlwZSl7XG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICBtc2dIYW5kbGVyLnJlamVjdChldik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlICdvcGVuJzpcbiAgICAgICAgICBpZighZGJJZCkgZGJJZCA9IGV2LmRiSWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Nsb3NlJzpcbiAgICAgICAgICBpZihldi5kYklkPT09ZGJJZCkgZGJJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdHJ5IHttc2dIYW5kbGVyLnJlc29sdmUoZXYpfVxuICAgIGNhdGNoKGUpe21zZ0hhbmRsZXIucmVqZWN0KGUpfVxuICB9Lyp3b3JrZXIub25tZXNzYWdlKCkqLztcbiAgcmV0dXJuIGZ1bmN0aW9uKC8qKG1zZ1R5cGUsIG1zZ0FyZ3MpIHx8IChtc2dFbnZlbG9wZSkqLyl7XG4gICAgbGV0IG1zZztcbiAgICBpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICBtc2cgPSBhcmd1bWVudHNbMF07XG4gICAgfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe1xuICAgICAgbXNnID0ge1xuICAgICAgICB0eXBlOiBhcmd1bWVudHNbMF0sXG4gICAgICAgIGFyZ3M6IGFyZ3VtZW50c1sxXVxuICAgICAgfTtcbiAgICB9ZWxzZXtcbiAgICAgIHRvc3MoXCJJbnZhbGlkIGFydWdtZW50cyBmb3Igc3FsaXRlM1dvcmtlcjFQcm9taXNlcigpLWNyZWF0ZWQgZmFjdG9yeS5cIik7XG4gICAgfVxuICAgIGlmKCFtc2cuZGJJZCkgbXNnLmRiSWQgPSBkYklkO1xuICAgIG1zZy5tZXNzYWdlSWQgPSBnZW5Nc2dJZChtc2cpO1xuICAgIG1zZy5kZXBhcnR1cmVUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgcHJveHkgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHByb3h5Lm1lc3NhZ2UgPSBtc2c7XG4gICAgbGV0IHJvd0NhbGxiYWNrSWQgLyogbWVzc2FnZSBoYW5kbGVyIElEIGZvciBleGVjIG9uLXJvdyBjYWxsYmFjayBwcm94eSAqLztcbiAgICBpZignZXhlYyc9PT1tc2cudHlwZSAmJiBtc2cuYXJncyl7XG4gICAgICBpZignZnVuY3Rpb24nPT09dHlwZW9mIG1zZy5hcmdzLmNhbGxiYWNrKXtcbiAgICAgICAgcm93Q2FsbGJhY2tJZCA9IG1zZy5tZXNzYWdlSWQrJzpyb3cnO1xuICAgICAgICBwcm94eS5vbnJvdyA9IG1zZy5hcmdzLmNhbGxiYWNrO1xuICAgICAgICBtc2cuYXJncy5jYWxsYmFjayA9IHJvd0NhbGxiYWNrSWQ7XG4gICAgICAgIGhhbmRsZXJNYXBbcm93Q2FsbGJhY2tJZF0gPSBwcm94eTtcbiAgICAgIH1lbHNlIGlmKCdzdHJpbmcnID09PSB0eXBlb2YgbXNnLmFyZ3MuY2FsbGJhY2spe1xuICAgICAgICB0b3NzKFwiZXhlYyBjYWxsYmFjayBtYXkgbm90IGJlIGEgc3RyaW5nIHdoZW4gdXNpbmcgdGhlIFByb21pc2UgaW50ZXJmYWNlLlwiKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAgIERlc2lnbiBub3RlOiB0aGUgcmVhc29uIGZvciB0aGlzIGxpbWl0YXRpb24gaXMgdGhhdCB0aGlzXG4gICAgICAgICAgIEFQSSB0YWtlcyBvdmVyIHdvcmtlci5vbm1lc3NhZ2UoKSBhbmQgdGhlIGNsaWVudCBoYXMgbm8gd2F5XG4gICAgICAgICAgIG9mIGFkZGluZyB0aGVpciBvd24gbWVzc2FnZS10eXBlIGhhbmRsZXJzIHRvIGl0LiBQZXItcm93XG4gICAgICAgICAgIGNhbGxiYWNrcyBhcmUgaW1wbGVtZW50ZWQgYXMgc2hvcnQtbGl2ZWQgbWVzc2FnZS50eXBlXG4gICAgICAgICAgIG1hcHBpbmdzIGZvciB3b3JrZXIub25tZXNzYWdlKCkuXG5cbiAgICAgICAgICAgV2UgXCJjb3VsZFwiIHdvcmsgYXJvdW5kIHRoaXMgYnkgcHJvdmlkaW5nIGEgbmV3XG4gICAgICAgICAgIGNvbmZpZy5mYWxsYmFja01lc3NhZ2VIYW5kbGVyIChvciBzb21lIHN1Y2gpIHdoaWNoIGNvbnRhaW5zXG4gICAgICAgICAgIGEgbWFwIG9mIGV2ZW50IHR5cGUgbmFtZXMgdG8gY2FsbGJhY2tzLiBTZWVtcyBsaWtlIG92ZXJraWxsXG4gICAgICAgICAgIGZvciBub3csIHNlZWluZyBhcyB0aGUgY2xpZW50IGNhbiBwYXNzIGNhbGxiYWNrIGZ1bmN0aW9uc1xuICAgICAgICAgICB0byB0aGlzIGludGVyZmFjZSAod2hlcmVhcyB0aGUgc3RyaW5nLWZvcm0gXCJjYWxsYmFja1wiIGlzXG4gICAgICAgICAgIG5lZWRlZCBmb3IgdGhlIG92ZXItdGhlLVdvcmtlciBpbnRlcmZhY2UpLlxuICAgICAgICAqL1xuICAgICAgfVxuICAgIH1cbiAgICAvL2RlYnVnKFwicmVxdWVzdFdvcmtcIiwgbXNnKTtcbiAgICBsZXQgcCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICBwcm94eS5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIHByb3h5LnJlamVjdCA9IHJlamVjdDtcbiAgICAgIGhhbmRsZXJNYXBbbXNnLm1lc3NhZ2VJZF0gPSBwcm94eTtcbiAgICAgIGRlYnVnKFwiUG9zdGluZ1wiLG1zZy50eXBlLFwibWVzc2FnZSB0byBXb3JrZXIgZGJJZD1cIisoZGJJZHx8J2RlZmF1bHQnKSsnOicsbXNnKTtcbiAgICAgIGNvbmZpZy53b3JrZXIucG9zdE1lc3NhZ2UobXNnKTtcbiAgICB9KTtcbiAgICBpZihyb3dDYWxsYmFja0lkKSBwID0gcC5maW5hbGx5KCgpPT5kZWxldGUgaGFuZGxlck1hcFtyb3dDYWxsYmFja0lkXSk7XG4gICAgcmV0dXJuIHA7XG4gIH07XG59LypzcWxpdGUzV29ya2VyMVByb21pc2VyKCkqLztcbmdsb2JhbFRoaXMuc3FsaXRlM1dvcmtlcjFQcm9taXNlci5kZWZhdWx0Q29uZmlnID0ge1xuICB3b3JrZXI6IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIG5ldyBXb3JrZXIoXCJzcWxpdGUzLXdvcmtlcjEtYnVuZGxlci1mcmllbmRseS5tanNcIix7XG4gICAgICB0eXBlOiAnbW9kdWxlJyAvKiBOb3RpbmcgdGhhdCBuZWl0aGVyIEZpcmVmb3ggbm9yIFNhZmFyaSBzdXBwb3IgdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzIG9mIHRoaXMgd3JpdGluZy4gKi9cbiAgICB9KTtcbiAgfS5iaW5kKHtcbiAgICBjdXJyZW50U2NyaXB0OiBnbG9iYWxUaGlzPy5kb2N1bWVudD8uY3VycmVudFNjcmlwdFxuICB9KSxcbiAgb25lcnJvcjogKC4uLmFyZ3MpPT5jb25zb2xlLmVycm9yKCd3b3JrZXIxIHByb21pc2VyIGVycm9yJywuLi5hcmdzKVxufTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuLy8gVGhpcyBpcyB0aGUgdXNlci1mYWNpbmcgQVBJXG4vLyBJdCBydW5zIGluIHRoZSB1c2VyLXRocmVhZCAod2hpY2ggaXMgcHJvYmFibHkgdGhlIG1haW4gVUkgdGhyZWFkKVxuaW1wb3J0ICcjc3FsaXRlMy5qcyc7XG5pbXBvcnQgJyNzcWxpdGUzLXdvcmtlcjEtcHJvbWlzZXIuanMnO1xuaW1wb3J0IHsgZGVidWcgfSBmcm9tICcuL3Zmcy1odHRwLXR5cGVzLmpzJztcbmltcG9ydCAqIGFzIFZGU0hUVFAgZnJvbSAnLi92ZnMtaHR0cC10eXBlcy5qcyc7XG5leHBvcnQgKiBhcyBWRlNIVFRQIGZyb20gJy4vdmZzLWh0dHAtdHlwZXMuanMnO1xuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFNRTGl0ZSB3b3JrZXIgdGhyZWFkLCBjYW4gYWNjZXB0IGFuIG9wdGlvbmFsIEhUVFAgYmFja2VuZCBmb3IgSFRUUCBzdXBwb3J0LlxuICpcbiAqIFRoZSBzeW5jIGJhY2tlbmQgaXMgcGFydGljdWxhcmx5IGluZWZmaWNpZW50IGluIE5vZGUuanMgYW5kIHNob3VsZCBuZXZlciBiZSB1c2VkIGV4Y2VwdCBmb3IgdW5pdC10ZXN0aW5nIGJyb3dzZXJcbiAqIGNvZGUuXG4gKlxuICogQHBhcmFtIHtTUUxpdGVPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAqIEBwYXJhbSB7VkZTSFRUUC5CYWNrZW5kIHwgdHJ1ZX0gW29wdGlvbnMuaHR0cF0gT3B0aW9uYWwgSFRUUCBiYWNrZW5kLCBlaXRoZXIgYSBzaGFyZWQgb25lIG9yIGEgZGVkaWNhdGVkIHN5bmMgb25lXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxTUUxpdGUuUHJvbWlzZXI+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU1FMaXRlVGhyZWFkKG9wdGlvbnMpIHtcbiAgICBkZWJ1Z1sndGhyZWFkcyddKCdDcmVhdGluZyBuZXcgU1FMaXRlIHRocmVhZCcsIG9wdGlvbnMpO1xuICAgIGxldCB3b3JrZXI7XG4gICAgY29uc3QgciA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcHJvbWlzZXIgPSBzcWxpdGUzV29ya2VyMVByb21pc2VyKHtcbiAgICAgICAgICAgIG9ucmVhZHk6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHByb21pc2VyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3b3JrZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB3b3JrZXIgPSBuZXcgV29ya2VyKG5ldyBVUkwoJy4vc3FsaXRlLXdvcmtlci5qcycsIGltcG9ydC5tZXRhLnVybCkpO1xuICAgICAgICAgICAgICAgICAgICB3b3JrZXIub25lcnJvciA9IChldmVudCkgPT4gY29uc29sZS5lcnJvcignV29ya2VyIGJvb3RzdHJhcCBmYWlsZWQnLCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tlbmQgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaHR0cDtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgU1FMaXRlIHdvcmtlciBncmVlbiBsaWdodFxuICAgICAgICAgICAgICAgICAgICBpZiAoKGJhY2tlbmQgPT09IG51bGwgfHwgYmFja2VuZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYmFja2VuZC50eXBlKSA9PT0gJ3NoYXJlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tlbmQuY3JlYXRlTmV3Q2hhbm5lbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGNoYW5uZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoeyBodHRwQ2hhbm5lbDogY2hhbm5lbCwgaHR0cE9wdGlvbnM6IGJhY2tlbmQub3B0aW9ucyB9LCBbY2hhbm5lbC5wb3J0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgoYmFja2VuZCA9PT0gbnVsbCB8fCBiYWNrZW5kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBiYWNrZW5kLnR5cGUpID09PSAnc3luYycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7IGh0dHBDaGFubmVsOiB0cnVlLCBodHRwT3B0aW9uczogYmFja2VuZC5vcHRpb25zIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHt9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIFNRTGl0ZSB3b3JrZXInLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSkudGhlbigocCkgPT4ge1xuICAgICAgICBwLmNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9KTtcbiAgICByZXR1cm4gcjtcbn1cbmNvbnN0IG5vU2hhcmVkQnVmZmVyTXNnID0gJ1NoYXJlZEFycmF5QnVmZmVyIGlzIG5vdCBhdmFpbGFibGUuICcgK1xuICAgICdJZiB5b3VyIGJyb3dzZXIgc3VwcG9ydHMgaXQsIHRoZSB3ZWJzZXJ2ZXIgbXVzdCBzZW5kICcgK1xuICAgICdcIkNyb3NzLU9yaWdpbi1PcGVuZXItUG9saWN5OiBzYW1lLW9yaWdpbiBcIicgK1xuICAgICdhbmQgXCJDcm9zcy1PcmlnaW4tRW1iZWRkZXItUG9saWN5OiByZXF1aXJlLWNvcnBcIiBoZWFkZXJzLic7XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgSFRUUCBiYWNrZW5kIHdvcmtlciB0aGF0IGNhbiBzdXBwb3J0IG11bHRpcGxlIFNRTGl0ZSB0aHJlYWRzLlxuICogVGhlIGNhY2hlIGlzIHNoYXJlZCBvbmx5IGlmIHRoZSBlbnZpcm9ubWVudCBzdXBwb3J0cyBTaGFyZWRBcnJheUJ1ZmZlci5cbiAqXG4gKiBUaGlzIGlzIGFsd2F5cyB0aGUgY2FzZSBpbiBOb2RlLmpzLCBidXQgaXQgcmVxdWlyZXMgYSBjcm9zcy1vcmlnaW4gaXNvbGF0ZWRcbiAqIGVudmlyb25tZW50IGluIHRoZSBicm93c2VyLlxuICpcbiAqIEBwYXJhbSB7VkZTSFRUUC5PcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAqIEByZXR1cm5zIHtWRlNIVFRQLkJhY2tlbmR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIdHRwQmFja2VuZChvcHRpb25zKSB7XG4gICAgZGVidWdbJ3RocmVhZHMnXSgnQ3JlYXRpbmcgbmV3IEhUVFAgVkZTIGJhY2tlbmQgdGhyZWFkJyk7XG4gICAgaWYgKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciA9PT0gJ3VuZGVmaW5lZCcgfHwgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5iYWNrZW5kVHlwZSkgPT09ICdzeW5jJykge1xuICAgICAgICBpZiAoKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5iYWNrZW5kVHlwZSkgPT09ICdzaGFyZWQnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG5vU2hhcmVkQnVmZmVyTXNnKTtcbiAgICAgICAgaWYgKChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuYmFja2VuZFR5cGUpICE9PSAnc3luYycpXG4gICAgICAgICAgICBjb25zb2xlLndhcm4obm9TaGFyZWRCdWZmZXJNc2cgKyAnIEZhbGxpbmcgYmFjayB0byB0aGUgbGVnYWN5IEhUVFAgYmFja2VuZC4nKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdzeW5jJyxcbiAgICAgICAgICAgIHdvcmtlcjogbnVsbCxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBjcmVhdGVOZXdDaGFubmVsOiAoKSA9PiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjbG9zZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCksXG4gICAgICAgICAgICB0ZXJtaW5hdGU6ICgpID0+IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgIH1cbiAgICBsZXQgbmV4dElkID0gMTtcbiAgICBjb25zdCB3b3JrZXIgPSBuZXcgV29ya2VyKG5ldyBVUkwoJy4vdmZzLWh0dHAtd29ya2VyLmpzJywgaW1wb3J0Lm1ldGEudXJsKSk7XG4gICAgb3B0aW9ucyA9IFZGU0hUVFAuZGVmYXVsdE9wdGlvbnMob3B0aW9ucyk7XG4gICAgd29ya2VyLnBvc3RNZXNzYWdlKHsgbXNnOiAnaW5pdCcsIG9wdGlvbnMgfSk7XG4gICAgY29uc3QgY29uc3VtZXJzID0ge307XG4gICAgd29ya2VyLm9ubWVzc2FnZSA9ICh7IGRhdGEgfSkgPT4ge1xuICAgICAgICBkZWJ1Z1sndGhyZWFkcyddKCdSZWNlaXZlZCBjb250cm9sIG1lc3NhZ2UgcmVwbHknLCBkYXRhKTtcbiAgICAgICAgc3dpdGNoIChkYXRhLm1zZykge1xuICAgICAgICAgICAgY2FzZSAnYWNrJzpcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnN1bWVyc1tkYXRhLmlkXSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIHJlY2VpdmVkIGZyb20gYmFja2VuZCcsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlYnVnWyd0aHJlYWRzJ10oJ05ldyBIVFRQIFZGUyBjaGFubmVsIGNyZWF0ZWQnLCBjb25zdW1lcnMpO1xuICAgICAgICAgICAgICAgIGNvbnN1bWVyc1tkYXRhLmlkXS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgcG9ydDogY29uc3VtZXJzW2RhdGEuaWRdLmNoYW5uZWwucG9ydDIsXG4gICAgICAgICAgICAgICAgICAgIHNobTogZGF0YS5zaG1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29uc3VtZXJzW2RhdGEuaWRdLnRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBjb25zdW1lcnNbZGF0YS5pZF0ucmVzb2x2ZTtcbiAgICAgICAgICAgICAgICBkZWxldGUgY29uc3VtZXJzW2RhdGEuaWRdLnRpbWVvdXQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnc2hhcmVkJyxcbiAgICAgICAgd29ya2VyLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBjcmVhdGVOZXdDaGFubmVsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZWJ1Z1sndGhyZWFkcyddKCdDcmVhdGluZyBhIG5ldyBIVFRQIFZGUyBjaGFubmVsJyk7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgICAgICBjb25zdCBpZCA9IG5leHRJZCsrO1xuICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHsgbXNnOiAnaGFuZHNoYWtlJywgcG9ydDogY2hhbm5lbC5wb3J0MSwgaWQgfSwgW2NoYW5uZWwucG9ydDFdKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgY29uc3VtZXJzW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCdUaW1lb3V0IHdoaWxlIHdhaXRpbmcgb24gYmFja2VuZCcpO1xuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMudGltZW91dCk7XG4gICAgICAgICAgICAgICAgY29uc3VtZXJzW2lkXSA9IHsgaWQsIGNoYW5uZWwsIHJlc29sdmUsIHRpbWVvdXQgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0ZXJtaW5hdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlYnVnWyd0aHJlYWRzJ10oJ0Nsb3NpbmcgdGhlIEhUVFAgVkZTIGNoYW5uZWwnKTtcbiAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7IG1zZzogJ2Nsb3NlJyB9KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoJ1RpbWVvdXQgd2hpbGUgd2FpdGluZyBvbiBiYWNrZW5kJyk7XG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucy50aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB3b3JrZXIub25tZXNzYWdlID0gKHsgZGF0YSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnWyd0aHJlYWRzJ10oJ1JlY2VpdmVkIGNsb3NlIHJlc3BvbnNlJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLm1zZyA9PT0gJ2FjaycgJiYgZGF0YS5pZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogSGlnaGVyLWxldmVsIEFQSSBmb3Igd29ya2luZyB3aXRoIGEgcG9vbFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLndvcmtlcnNdIE51bWJlciBvZiBjb25jdXJyZW50IHdvcmtlcnMgdG8gc3Bhd24sIEBkZWZhdWx0IDFcbiAqIEBwYXJhbSB7VkZTSFRUUC5PcHRpb25zfSBbb3B0cy5odHRwT3B0aW9uc10gT3B0aW9ucyB0byBwYXNzIHRvIHRoZSBIVFRQIGJhY2tlbmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNRTGl0ZUhUVFBQb29sKG9wdHMpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3QgYmFja2VuZCA9IGNyZWF0ZUh0dHBCYWNrZW5kKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5odHRwT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHdvcmtlcnMgPSBbXTtcbiAgICAgICAgY29uc3Qgc3RhcnRxID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKChfYSA9IG9wdHMud29ya2VycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMSk7IGkrKykge1xuICAgICAgICAgICAgc3RhcnRxLnB1c2goY3JlYXRlU1FMaXRlVGhyZWFkKHsgaHR0cDogYmFja2VuZCB9KVxuICAgICAgICAgICAgICAgIC50aGVuKCh3b3JrZXIpID0+IHdvcmtlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgd29ya2VyLFxuICAgICAgICAgICAgICAgIGJ1c3k6IG51bGxcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHVuZGVmaW5lZCkpO1xuICAgICAgICB9XG4gICAgICAgIHlpZWxkIFByb21pc2UuYWxsKHN0YXJ0cSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcGVuOiAodXJsKSA9PiBQcm9taXNlLmFsbCh3b3JrZXJzLm1hcCgodykgPT4gdy53b3JrZXIoJ29wZW4nLCB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6ICdmaWxlOicgKyBlbmNvZGVVUkkodXJsKSxcbiAgICAgICAgICAgICAgICB2ZnM6ICdodHRwJ1xuICAgICAgICAgICAgfSkpKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHVuZGVmaW5lZCksXG4gICAgICAgICAgICBjbG9zZTogKCkgPT4gUHJvbWlzZS5hbGwod29ya2Vycy5tYXAoKHcpID0+IHcud29ya2VyLmNsb3NlKCkpKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IGJhY2tlbmQuY2xvc2UoKSksXG4gICAgICAgICAgICBleGVjOiBmdW5jdGlvbiAoc3FsLCBiaW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHc7XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHcgPSB3b3JrZXJzLmZpbmQoKHcpID0+ICF3LmJ1c3kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIFByb21pc2UucmFjZSh3b3JrZXJzLm1hcCgodykgPT4gdy5idXN5KSkuY2F0Y2goKCkgPT4gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoIXcpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHcuYnVzeSA9IHcud29ya2VyKCdleGVjJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3FsLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmluZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAocm93KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvdy5yb3cpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChyb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdy5idXN5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIHcuYnVzeTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOlsiUG9pbnQiLCJ4IiwieSIsInRoaXMiLCJtb2R1bGUiLCJleHBvcnRzIiwicHJvdG90eXBlIiwiY2xvbmUiLCJhZGQiLCJwIiwiX2FkZCIsInN1YiIsIl9zdWIiLCJtdWx0QnlQb2ludCIsIl9tdWx0QnlQb2ludCIsImRpdkJ5UG9pbnQiLCJfZGl2QnlQb2ludCIsIm11bHQiLCJrIiwiX211bHQiLCJkaXYiLCJfZGl2Iiwicm90YXRlIiwiYSIsIl9yb3RhdGUiLCJyb3RhdGVBcm91bmQiLCJfcm90YXRlQXJvdW5kIiwibWF0TXVsdCIsIm0iLCJfbWF0TXVsdCIsInVuaXQiLCJfdW5pdCIsInBlcnAiLCJfcGVycCIsInJvdW5kIiwiX3JvdW5kIiwibWFnIiwiTWF0aCIsInNxcnQiLCJlcXVhbHMiLCJvdGhlciIsImRpc3QiLCJkaXN0U3FyIiwiZHgiLCJkeSIsImFuZ2xlIiwiYXRhbjIiLCJhbmdsZVRvIiwiYiIsImFuZ2xlV2l0aCIsImFuZ2xlV2l0aFNlcCIsImNvcyIsInNpbiIsImNvbnZlcnQiLCJBcnJheSIsImlzQXJyYXkiLCJWZWN0b3JUaWxlIiwiVmVjdG9yVGlsZUxheWVyIiwicmVhZFRpbGUiLCJ0YWciLCJsYXllcnMiLCJwYmYiLCJsYXllciIsInJlYWRWYXJpbnQiLCJwb3MiLCJsZW5ndGgiLCJuYW1lIiwiZW5kIiwicmVhZEZpZWxkcyIsIlZlY3RvclRpbGVGZWF0dXJlIiwiZXh0ZW50Iiwia2V5cyIsInZhbHVlcyIsInByb3BlcnRpZXMiLCJ0eXBlIiwiX3BiZiIsIl9nZW9tZXRyeSIsIl9rZXlzIiwiX3ZhbHVlcyIsInJlYWRGZWF0dXJlIiwiZmVhdHVyZSIsImlkIiwia2V5IiwidmFsdWUiLCJyZWFkVGFnIiwic2lnbmVkQXJlYSIsInJpbmciLCJwMSIsInAyIiwic3VtIiwiaSIsImxlbiIsImoiLCJ0eXBlcyIsImxvYWRHZW9tZXRyeSIsImxpbmUiLCJjbWQiLCJsaW5lcyIsImNtZExlbiIsInJlYWRTVmFyaW50IiwicHVzaCIsIkVycm9yIiwiYmJveCIsIngxIiwiSW5maW5pdHkiLCJ4MiIsInkxIiwieTIiLCJ0b0dlb0pTT04iLCJ6Iiwic2l6ZSIsInBvdyIsIngwIiwieTAiLCJjb29yZHMiLCJwcm9qZWN0IiwiUEkiLCJhdGFuIiwiZXhwIiwicG9pbnRzIiwicmluZ3MiLCJwb2x5Z29uIiwiY2N3IiwicG9seWdvbnMiLCJhcmVhIiwidW5kZWZpbmVkIiwiY2xhc3NpZnlSaW5ncyIsInJlc3VsdCIsImdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCJ2ZXJzaW9uIiwiX2ZlYXR1cmVzIiwicmVhZExheWVyIiwicmVhZFN0cmluZyIsInJlYWRGbG9hdCIsInJlYWREb3VibGUiLCJyZWFkVmFyaW50NjQiLCJyZWFkQm9vbGVhbiIsInJlYWRWYWx1ZU1lc3NhZ2UiLCJyZWFkIiwiYnVmZmVyIiwib2Zmc2V0IiwiaXNMRSIsIm1MZW4iLCJuQnl0ZXMiLCJlIiwiZUxlbiIsImVNYXgiLCJlQmlhcyIsIm5CaXRzIiwiZCIsInMiLCJOYU4iLCJ3cml0ZSIsImMiLCJydCIsImFicyIsImlzTmFOIiwiZmxvb3IiLCJsb2ciLCJMTjIiLCJQYmYiLCJpZWVlNzU0IiwiYnVmIiwiQXJyYXlCdWZmZXIiLCJpc1ZpZXciLCJVaW50OEFycmF5IiwiVmFyaW50IiwiRml4ZWQ2NCIsIkJ5dGVzIiwiRml4ZWQzMiIsIlNISUZUX0xFRlRfMzIiLCJTSElGVF9SSUdIVF8zMiIsInV0ZjhUZXh0RGVjb2RlciIsIlRleHREZWNvZGVyIiwicmVhZFBhY2tlZEVuZCIsInRvTnVtIiwibG93IiwiaGlnaCIsImlzU2lnbmVkIiwibWFrZVJvb21Gb3JFeHRyYUxlbmd0aCIsInN0YXJ0UG9zIiwiZXh0cmFMZW4iLCJyZWFsbG9jIiwid3JpdGVQYWNrZWRWYXJpbnQiLCJhcnIiLCJ3cml0ZVZhcmludCIsIndyaXRlUGFja2VkU1ZhcmludCIsIndyaXRlU1ZhcmludCIsIndyaXRlUGFja2VkRmxvYXQiLCJ3cml0ZUZsb2F0Iiwid3JpdGVQYWNrZWREb3VibGUiLCJ3cml0ZURvdWJsZSIsIndyaXRlUGFja2VkQm9vbGVhbiIsIndyaXRlQm9vbGVhbiIsIndyaXRlUGFja2VkRml4ZWQzMiIsIndyaXRlRml4ZWQzMiIsIndyaXRlUGFja2VkU0ZpeGVkMzIiLCJ3cml0ZVNGaXhlZDMyIiwid3JpdGVQYWNrZWRGaXhlZDY0Iiwid3JpdGVGaXhlZDY0Iiwid3JpdGVQYWNrZWRTRml4ZWQ2NCIsIndyaXRlU0ZpeGVkNjQiLCJyZWFkVUludDMyIiwid3JpdGVJbnQzMiIsInZhbCIsInJlYWRJbnQzMiIsImRlc3Ryb3kiLCJyZWFkRmllbGQiLCJza2lwIiwicmVhZE1lc3NhZ2UiLCJyZWFkRml4ZWQzMiIsInJlYWRTRml4ZWQzMiIsInJlYWRGaXhlZDY0IiwicmVhZFNGaXhlZDY0IiwibCIsImgiLCJyZWFkVmFyaW50UmVtYWluZGVyIiwibnVtIiwiQm9vbGVhbiIsImRlY29kZSIsInN1YmFycmF5IiwicmVhZFV0ZjhUZXh0RGVjb2RlciIsInN0ciIsImIxIiwiYjIiLCJiMyIsImIwIiwiYnl0ZXNQZXJTZXF1ZW5jZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInJlYWRVdGY4IiwicmVhZEJ5dGVzIiwicmVhZFBhY2tlZFZhcmludCIsInJlYWRQYWNrZWRTVmFyaW50IiwicmVhZFBhY2tlZEJvb2xlYW4iLCJyZWFkUGFja2VkRmxvYXQiLCJyZWFkUGFja2VkRG91YmxlIiwicmVhZFBhY2tlZEZpeGVkMzIiLCJyZWFkUGFja2VkU0ZpeGVkMzIiLCJyZWFkUGFja2VkRml4ZWQ2NCIsInJlYWRQYWNrZWRTRml4ZWQ2NCIsIndyaXRlVGFnIiwibWluIiwic2V0IiwiZmluaXNoIiwid3JpdGVCaWdWYXJpbnRMb3ciLCJsc2IiLCJ3cml0ZUJpZ1ZhcmludEhpZ2giLCJ3cml0ZUJpZ1ZhcmludCIsIndyaXRlU3RyaW5nIiwibGVhZCIsImNoYXJDb2RlQXQiLCJ3cml0ZVV0ZjgiLCJ3cml0ZUJ5dGVzIiwid3JpdGVSYXdNZXNzYWdlIiwiZm4iLCJvYmoiLCJ3cml0ZU1lc3NhZ2UiLCJ3cml0ZUJ5dGVzRmllbGQiLCJ3cml0ZUZpeGVkMzJGaWVsZCIsIndyaXRlU0ZpeGVkMzJGaWVsZCIsIndyaXRlRml4ZWQ2NEZpZWxkIiwid3JpdGVTRml4ZWQ2NEZpZWxkIiwid3JpdGVWYXJpbnRGaWVsZCIsIndyaXRlU1ZhcmludEZpZWxkIiwid3JpdGVTdHJpbmdGaWVsZCIsIndyaXRlRmxvYXRGaWVsZCIsIndyaXRlRG91YmxlRmllbGQiLCJ3cml0ZUJvb2xlYW5GaWVsZCIsIm1lc3NhZ2VzIiwiQXNzZXJ0aW9uRXJyb3IiLCJjb25zdHJ1Y3RvciIsImNvZGUiLCJtZXNzYWdlIiwic3VwZXIiLCJkaXNwb3NlZCIsImRpc3Bvc2UiLCJkaXNwb3NlSW50ZXJuYWwiLCJsaXN0ZW5JbWFnZSIsImltYWdlIiwibG9hZEhhbmRsZXIiLCJlcnJvckhhbmRsZXIiLCJpbWciLCJsaXN0ZW5pbmciLCJkZWNvZGluZyIsImxvYWRlZCIsImxpc3RlbmVyS2V5cyIsInNyYyIsInRoZW4iLCJjYXRjaCIsImVycm9yIiwiZm9yRWFjaCIsIklETEUiLCJMT0FESU5HIiwiTE9BREVEIiwiRVJST1IiLCJFTVBUWSIsIkltYWdlVGlsZSIsInRpbGVDb29yZCIsInN0YXRlIiwiY3Jvc3NPcmlnaW4iLCJ0aWxlTG9hZEZ1bmN0aW9uIiwib3B0aW9ucyIsImNyb3NzT3JpZ2luXyIsInNyY18iLCJpbWFnZV8iLCJJbWFnZSIsInVubGlzdGVuXyIsInRpbGVMb2FkRnVuY3Rpb25fIiwiZ2V0SW1hZ2UiLCJzZXRJbWFnZSIsImVsZW1lbnQiLCJ1bmxpc3RlbkltYWdlXyIsImNoYW5nZWQiLCJoYW5kbGVJbWFnZUVycm9yXyIsImN0eCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiY2FudmFzIiwiZ2V0QmxhbmtJbWFnZSIsImhhbmRsZUltYWdlTG9hZF8iLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwibG9hZCIsImJpbmQiLCJQcm9wZXJ0eSIsIkNvbGxlY3Rpb25FdmVudCIsIkV2ZW50IiwiaW5kZXgiLCJDb2xsZWN0aW9uIiwiYXJyYXkiLCJvbiIsIm9uY2UiLCJ1biIsInVuaXF1ZV8iLCJ1bmlxdWUiLCJhcnJheV8iLCJpaSIsImFzc2VydFVuaXF1ZV8iLCJ1cGRhdGVMZW5ndGhfIiwiY2xlYXIiLCJnZXRMZW5ndGgiLCJwb3AiLCJleHRlbmQiLCJmIiwiZ2V0QXJyYXkiLCJpdGVtIiwiZ2V0IiwiaW5zZXJ0QXQiLCJlbGVtIiwic3BsaWNlIiwiZGlzcGF0Y2hFdmVudCIsIkNvbGxlY3Rpb25FdmVudFR5cGUiLCJyZW1vdmVBdCIsIm4iLCJyZW1vdmUiLCJwcmV2Iiwic2V0QXQiLCJleGNlcHQiLCJNYXBSZW5kZXJlciIsIkRpc3Bvc2FibGUiLCJtYXAiLCJtYXBfIiwiZGlzcGF0Y2hSZW5kZXJFdmVudCIsImZyYW1lU3RhdGUiLCJjYWxjdWxhdGVNYXRyaWNlczJEIiwidmlld1N0YXRlIiwiY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0iLCJwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSIsInJlc29sdXRpb24iLCJyb3RhdGlvbiIsImNlbnRlciIsImZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlIiwiY29vcmRpbmF0ZSIsImhpdFRvbGVyYW5jZSIsImNoZWNrV3JhcHBlZCIsImNhbGxiYWNrIiwidGhpc0FyZyIsImxheWVyRmlsdGVyIiwidGhpc0FyZzIiLCJtYW5hZ2VkIiwiY2FsbCIsInByb2plY3Rpb24iLCJ0cmFuc2xhdGVkQ29vcmRpbmF0ZSIsInNsaWNlIiwib2Zmc2V0cyIsImNhbldyYXBYIiwicHJvamVjdGlvbkV4dGVudCIsImdldEV4dGVudCIsIndvcmxkV2lkdGgiLCJsYXllclN0YXRlcyIsImxheWVyU3RhdGVzQXJyYXkiLCJudW1MYXllcnMiLCJtYXRjaGVzIiwidG1wQ29vcmQiLCJsYXllclN0YXRlIiwiaGFzUmVuZGVyZXIiLCJsYXllclJlbmRlcmVyIiwiZ2V0UmVuZGVyZXIiLCJzb3VyY2UiLCJnZXRTb3VyY2UiLCJnZXRXcmFwWCIsIm9yZGVyIiwiZGlzdGFuY2VTcSIsInNvcnQiLCJzb21lIiwiaGFzRmVhdHVyZUF0Q29vcmRpbmF0ZSIsImdldE1hcCIsInJlbmRlckZyYW1lIiwic2NoZWR1bGVFeHBpcmVJY29uQ2FjaGUiLCJwb3N0UmVuZGVyRnVuY3Rpb25zIiwiZXhwaXJlSWNvbkNhY2hlIiwiTWFwIiwiZm9udENoYW5nZUxpc3RlbmVyS2V5XyIsIk9iamVjdEV2ZW50VHlwZSIsInJlZHJhd1RleHQiLCJlbGVtZW50XyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwicG9zaXRpb24iLCJ3aWR0aCIsImhlaWdodCIsInpJbmRleCIsImNsYXNzTmFtZSIsImNvbnRhaW5lciIsImdldFZpZXdwb3J0IiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsImNoaWxkcmVuXyIsInJlbmRlcmVkVmlzaWJsZV8iLCJoYXNMaXN0ZW5lciIsImV2ZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZGlzcGxheSIsImRlY2x1dHRlckxheWVycyIsInByZXZpb3VzRWxlbWVudCIsImxheWVySW5kZXgiLCJzb3VyY2VTdGF0ZSIsImdldFNvdXJjZVN0YXRlIiwidW5yZW5kZXIiLCJyZW5kZXIiLCJyZW5kZXJEZWNsdXR0ZXIiLCJHcm91cEV2ZW50IiwiTGF5ZXJHcm91cCIsIkJhc2UiLCJiYXNlT3B0aW9ucyIsIk9iamVjdCIsImFzc2lnbiIsImxheWVyc0xpc3RlbmVyS2V5c18iLCJsaXN0ZW5lcktleXNfIiwiYWRkQ2hhbmdlTGlzdGVuZXIiLCJoYW5kbGVMYXllcnNDaGFuZ2VkXyIsInNldExheWVycyIsImhhbmRsZUxheWVyQ2hhbmdlXyIsImdldExheWVycyIsImhhbmRsZUxheWVyc0FkZF8iLCJoYW5kbGVMYXllcnNSZW1vdmVfIiwibGF5ZXJzQXJyYXkiLCJyZWdpc3RlckxheWVyTGlzdGVuZXJzXyIsImhhbmRsZUxheWVyR3JvdXBBZGRfIiwiaGFuZGxlTGF5ZXJHcm91cFJlbW92ZV8iLCJjb2xsZWN0aW9uRXZlbnQiLCJjb2xsZWN0aW9uIiwiY3VycmVudExheWVycyIsImdldExheWVyc0FycmF5IiwiZ2V0TGF5ZXJTdGF0ZXNBcnJheSIsImRlc3QiLCJzdGF0ZXMiLCJvd25MYXllclN0YXRlIiwiZ2V0TGF5ZXJTdGF0ZSIsImRlZmF1bHRaSW5kZXgiLCJvcGFjaXR5IiwidmlzaWJsZSIsIm1heFJlc29sdXRpb24iLCJtaW5SZXNvbHV0aW9uIiwibWF4IiwibWluWm9vbSIsIm1heFpvb20iLCJNYXBFdmVudCIsIm9yaWdpbmFsRXZlbnQiLCJkcmFnZ2luZyIsImFjdGl2ZVBvaW50ZXJzIiwicGl4ZWxfIiwiY29vcmRpbmF0ZV8iLCJwaXhlbCIsImdldEV2ZW50UGl4ZWwiLCJnZXRDb29yZGluYXRlRnJvbVBpeGVsIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJTSU5HTEVDTElDSyIsIkNMSUNLIiwiREJMQ0xJQ0siLCJQT0lOVEVSRFJBRyIsIlBPSU5URVJNT1ZFIiwiUE9JTlRFUkRPV04iLCJQT0lOVEVSVVAiLCJQT0lOVEVST1ZFUiIsIlBPSU5URVJPVVQiLCJQT0lOVEVSRU5URVIiLCJQT0lOVEVSTEVBVkUiLCJQT0lOVEVSQ0FOQ0VMIiwiTWFwQnJvd3NlckV2ZW50SGFuZGxlciIsIlRhcmdldCIsIm1vdmVUb2xlcmFuY2UiLCJjbGlja1RpbWVvdXRJZF8iLCJlbXVsYXRlQ2xpY2tzXyIsImRyYWdnaW5nXyIsImRyYWdMaXN0ZW5lcktleXNfIiwibW92ZVRvbGVyYW5jZV8iLCJkb3duXyIsImFjdGl2ZVBvaW50ZXJzXyIsInRyYWNrZWRUb3VjaGVzXyIsInBvaW50ZXJkb3duTGlzdGVuZXJLZXlfIiwiaGFuZGxlUG9pbnRlckRvd25fIiwib3JpZ2luYWxQb2ludGVyTW92ZUV2ZW50XyIsInJlbGF5ZWRMaXN0ZW5lcktleV8iLCJyZWxheU1vdmVFdmVudF8iLCJib3VuZEhhbmRsZVRvdWNoTW92ZV8iLCJoYW5kbGVUb3VjaE1vdmVfIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhc3NpdmUiLCJlbXVsYXRlQ2xpY2tfIiwicG9pbnRlckV2ZW50IiwibmV3RXZlbnQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidXBkYXRlQWN0aXZlUG9pbnRlcnNfIiwicG9pbnRlcklkIiwidGFyZ2V0IiwiaGFuZGxlUG9pbnRlclVwXyIsImRlZmF1bHRQcmV2ZW50ZWQiLCJpc01vdXNlQWN0aW9uQnV0dG9uXyIsImJ1dHRvbiIsInByb3BlcnR5IiwiZG9jIiwiZ2V0T3duZXJEb2N1bWVudCIsImhhbmRsZVBvaW50ZXJNb3ZlXyIsImdldFJvb3ROb2RlIiwiaXNNb3ZpbmdfIiwiY2FuY2VsYWJsZSIsImNsaWVudFgiLCJjbGllbnRZIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkRST1AiLCJwcmlvcml0eUZ1bmN0aW9uIiwia2V5RnVuY3Rpb24iLCJwcmlvcml0eUZ1bmN0aW9uXyIsImtleUZ1bmN0aW9uXyIsImVsZW1lbnRzXyIsInByaW9yaXRpZXNfIiwicXVldWVkRWxlbWVudHNfIiwiZGVxdWV1ZSIsImVsZW1lbnRzIiwicHJpb3JpdGllcyIsInNpZnRVcF8iLCJlbGVtZW50S2V5IiwiZW5xdWV1ZSIsInByaW9yaXR5Iiwic2lmdERvd25fIiwiZ2V0Q291bnQiLCJnZXRMZWZ0Q2hpbGRJbmRleF8iLCJnZXRSaWdodENoaWxkSW5kZXhfIiwiZ2V0UGFyZW50SW5kZXhfIiwiaGVhcGlmeV8iLCJpc0VtcHR5IiwiaXNLZXlRdWV1ZWQiLCJpc1F1ZXVlZCIsImNvdW50Iiwic3RhcnRJbmRleCIsImxJbmRleCIsInJJbmRleCIsInNtYWxsZXJDaGlsZEluZGV4IiwicGFyZW50SW5kZXgiLCJyZXByaW9yaXRpemUiLCJ0aWxlUHJpb3JpdHlGdW5jdGlvbiIsInRpbGVDaGFuZ2VDYWxsYmFjayIsImFwcGx5IiwiZ2V0S2V5IiwiYm91bmRIYW5kbGVUaWxlQ2hhbmdlXyIsImhhbmRsZVRpbGVDaGFuZ2UiLCJ0aWxlQ2hhbmdlQ2FsbGJhY2tfIiwidGlsZXNMb2FkaW5nXyIsInRpbGVzTG9hZGluZ0tleXNfIiwiYWRkZWQiLCJnZXRUaWxlc0xvYWRpbmciLCJ0aWxlIiwiZ2V0U3RhdGUiLCJUaWxlU3RhdGUiLCJ0aWxlS2V5IiwibG9hZE1vcmVUaWxlcyIsIm1heFRvdGFsTG9hZGluZyIsIm1heE5ld0xvYWRzIiwibmV3TG9hZHMiLCJDb250cm9sIiwicG9pbnRlckV2ZW50cyIsInRhcmdldF8iLCJzZXRUYXJnZXQiLCJzZXRNYXAiLCJnZXRPdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50IiwiYXBwZW5kQ2hpbGQiLCJNYXBFdmVudFR5cGUiLCJtYXBFdmVudCIsImdldEVsZW1lbnRCeUlkIiwidWxFbGVtZW50XyIsImNvbGxhcHNlZF8iLCJjb2xsYXBzZWQiLCJ1c2VyQ29sbGFwc2VkXyIsIm92ZXJyaWRlQ29sbGFwc2libGVfIiwiY29sbGFwc2libGUiLCJjb2xsYXBzaWJsZV8iLCJ0aXBMYWJlbCIsImV4cGFuZENsYXNzTmFtZSIsImNvbGxhcHNlTGFiZWwiLCJjb2xsYXBzZUNsYXNzTmFtZSIsImNvbGxhcHNlTGFiZWxfIiwidGV4dENvbnRlbnQiLCJsYWJlbCIsImxhYmVsXyIsImFjdGl2ZUxhYmVsIiwidG9nZ2xlQnV0dG9uXyIsInNldEF0dHJpYnV0ZSIsInRpdGxlIiwiaGFuZGxlQ2xpY2tfIiwiY3NzQ2xhc3NlcyIsInJlbmRlcmVkQXR0cmlidXRpb25zXyIsImNvbGxlY3RTb3VyY2VBdHRyaWJ1dGlvbnNfIiwibG9va3VwIiwidmlzaWJsZUF0dHJpYnV0aW9ucyIsImF0dHJpYnV0aW9uR2V0dGVyIiwiZ2V0QXR0cmlidXRpb25zIiwiYXR0cmlidXRpb25zIiwiZ2V0QXR0cmlidXRpb25zQ29sbGFwc2libGUiLCJqaiIsInNldENvbGxhcHNpYmxlIiwidXBkYXRlRWxlbWVudF8iLCJpbm5lckhUTUwiLCJoYW5kbGVUb2dnbGVfIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiZ2V0Q29sbGFwc2libGUiLCJzZXRDb2xsYXBzZWQiLCJnZXRDb2xsYXBzZWQiLCJjb21wYXNzQ2xhc3NOYW1lIiwiY2FsbFJlc2V0Tm9ydGhfIiwicmVzZXROb3J0aCIsImR1cmF0aW9uXyIsImR1cmF0aW9uIiwiYXV0b0hpZGVfIiwiYXV0b0hpZGUiLCJyb3RhdGlvbl8iLCJyZXNldE5vcnRoXyIsInZpZXciLCJnZXRWaWV3IiwiZ2V0Um90YXRpb24iLCJhbmltYXRlIiwiZWFzaW5nIiwic2V0Um90YXRpb24iLCJ0cmFuc2Zvcm0iLCJjb250YWlucyIsImRlbHRhIiwiem9vbUluQ2xhc3NOYW1lIiwiem9vbU91dENsYXNzTmFtZSIsInpvb21JbkxhYmVsIiwiem9vbU91dExhYmVsIiwiem9vbUluVGlwTGFiZWwiLCJ6b29tT3V0VGlwTGFiZWwiLCJpbkVsZW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsIm91dEVsZW1lbnQiLCJ6b29tQnlEZWx0YV8iLCJjdXJyZW50Wm9vbSIsImdldFpvb20iLCJuZXdab29tIiwiZ2V0Q29uc3RyYWluZWRab29tIiwiZ2V0QW5pbWF0aW5nIiwiY2FuY2VsQW5pbWF0aW9ucyIsInpvb20iLCJzZXRab29tIiwiSW50ZXJhY3Rpb24iLCJoYW5kbGVFdmVudCIsInNldEFjdGl2ZSIsImdldEFjdGl2ZSIsIm1hcEJyb3dzZXJFdmVudCIsImFjdGl2ZSIsInpvb21CeURlbHRhIiwiYW5jaG9yIiwibmV3UmVzb2x1dGlvbiIsImdldFJlc29sdXRpb25Gb3Jab29tIiwiZGVsdGFfIiwic3RvcEV2ZW50IiwiYnJvd3NlckV2ZW50Iiwic2hpZnRLZXkiLCJoYW5kbGVEb3duRXZlbnQiLCJoYW5kbGVEcmFnRXZlbnQiLCJoYW5kbGVNb3ZlRXZlbnQiLCJoYW5kbGVVcEV2ZW50Iiwic3RvcERvd24iLCJoYW5kbGluZ0Rvd25VcFNlcXVlbmNlIiwidGFyZ2V0UG9pbnRlcnMiLCJnZXRQb2ludGVyQ291bnQiLCJ1cGRhdGVUcmFja2VkUG9pbnRlcnNfIiwiaGFuZGxlZFVwIiwiaGFuZGxlZCIsInZhcl9hcmdzIiwiY29uZGl0aW9ucyIsImFyZ3VtZW50cyIsInBhc3MiLCJhbHRTaGlmdEtleXNPbmx5IiwiYWx0S2V5IiwibWV0YUtleSIsImN0cmxLZXkiLCJmb2N1c1dpdGhUYWJpbmRleCIsImdldFRhcmdldEVsZW1lbnQiLCJoYXNBdHRyaWJ1dGUiLCJ0YXJnZXRFbGVtZW50IiwiYWN0aXZlRWxlbWVudCIsImFsd2F5cyIsIm1vdXNlQWN0aW9uQnV0dG9uIiwibm9Nb2RpZmllcktleXMiLCJzaGlmdEtleU9ubHkiLCJ0YXJnZXROb3RFZGl0YWJsZSIsInRhZ05hbWUiLCJpc0NvbnRlbnRFZGl0YWJsZSIsIm1vdXNlT25seSIsInBvaW50ZXJUeXBlIiwicHJpbWFyeUFjdGlvbiIsImlzUHJpbWFyeSIsIlBvaW50ZXIiLCJraW5ldGljXyIsImtpbmV0aWMiLCJsYXN0Q2VudHJvaWQiLCJsYXN0UG9pbnRlcnNDb3VudF8iLCJwYW5uaW5nXyIsImNvbmRpdGlvbiIsImNvbmRpdGlvbl8iLCJvbkZvY3VzT25seSIsIm5vS2luZXRpY18iLCJiZWdpbkludGVyYWN0aW9uIiwiY2VudHJvaWQiLCJ1cGRhdGUiLCJnZXRSZXNvbHV0aW9uIiwiYWRqdXN0Q2VudGVySW50ZXJuYWwiLCJiZWdpbiIsImRpc3RhbmNlIiwiZ2V0RGlzdGFuY2UiLCJnZXRBbmdsZSIsImdldENlbnRlckludGVybmFsIiwiY2VudGVycHgiLCJnZXRQaXhlbEZyb21Db29yZGluYXRlSW50ZXJuYWwiLCJnZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwiLCJhbmltYXRlSW50ZXJuYWwiLCJnZXRDb25zdHJhaW5lZENlbnRlciIsImVuZEludGVyYWN0aW9uIiwibGFzdEFuZ2xlXyIsImdldENvbnN0cmFpbnRzIiwiZ2V0U2l6ZSIsInRoZXRhIiwiYWRqdXN0Um90YXRpb25JbnRlcm5hbCIsIlJlbmRlckJveCIsImdlb21ldHJ5XyIsInN0YXJ0UGl4ZWxfIiwiZW5kUGl4ZWxfIiwicmVuZGVyXyIsInN0YXJ0UGl4ZWwiLCJlbmRQaXhlbCIsInB4IiwibGVmdCIsInRvcCIsImdldE92ZXJsYXlDb250YWluZXIiLCJzZXRQaXhlbHMiLCJjcmVhdGVPclVwZGF0ZUdlb21ldHJ5Iiwic2V0Q29vcmRpbmF0ZXMiLCJQb2x5Z29uIiwiZ2V0R2VvbWV0cnkiLCJEcmFnQm94RXZlbnQiLCJib3hfIiwibWluQXJlYV8iLCJtaW5BcmVhIiwib25Cb3hFbmQiLCJib3hFbmRDb25kaXRpb25fIiwiYm94RW5kQ29uZGl0aW9uIiwiZGVmYXVsdEJveEVuZENvbmRpdGlvbiIsImNvbXBsZXRlQm94Iiwib3V0XyIsIm91dCIsInJvdGF0ZWRFeHRlbnQiLCJyb3RhdGVkRXh0ZW50Rm9yR2VvbWV0cnkiLCJnZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwiLCJmYWN0b3IiLCJzY2FsZSIsImZpdEludGVybmFsIiwiZGVmYXVsdENvbmRpdGlvbl8iLCJwaXhlbERlbHRhXyIsInBpeGVsRGVsdGEiLCJrZXlFdmVudCIsImtleUNvZGUiLCJtYXBVbml0c0RlbHRhIiwiZGVsdGFYIiwiZGVsdGFZIiwiY3VycmVudENlbnRlciIsInBhbiIsImNoYXJDb2RlIiwidG90YWxEZWx0YV8iLCJsYXN0RGVsdGFfIiwibWF4RGVsdGFfIiwibWF4RGVsdGEiLCJ0aW1lb3V0XyIsInRpbWVvdXQiLCJ1c2VBbmNob3JfIiwidXNlQW5jaG9yIiwiY29uc3RyYWluUmVzb2x1dGlvbl8iLCJjb25zdHJhaW5SZXNvbHV0aW9uIiwibGFzdEFuY2hvcl8iLCJzdGFydFRpbWVfIiwidGltZW91dElkXyIsIm1vZGVfIiwidHJhY2twYWRFdmVudEdhcF8iLCJ0cmFja3BhZFRpbWVvdXRJZF8iLCJkZWx0YVBlclpvb21fIiwiZW5kSW50ZXJhY3Rpb25fIiwid2hlZWxFdmVudCIsImRlbHRhTW9kZSIsIldoZWVsRXZlbnQiLCJET01fREVMVEFfUElYRUwiLCJET01fREVMVEFfTElORSIsIm5vdyIsIkRhdGUiLCJnZXRDb25zdHJhaW5SZXNvbHV0aW9uIiwiYWRqdXN0Wm9vbSIsInRpbWVMZWZ0IiwiaGFuZGxlV2hlZWxab29tXyIsInNldE1vdXNlQW5jaG9yIiwicG9pbnRlck9wdGlvbnMiLCJhbmNob3JfIiwicm90YXRpbmdfIiwicm90YXRpb25EZWx0YV8iLCJ0aHJlc2hvbGRfIiwidGhyZXNob2xkIiwicm90YXRpb25EZWx0YSIsInRvdWNoMCIsInRvdWNoMSIsImxhc3REaXN0YW5jZV8iLCJsYXN0U2NhbGVEZWx0YV8iLCJzY2FsZURlbHRhIiwiYWRqdXN0UmVzb2x1dGlvbkludGVybmFsIiwiZGlyZWN0aW9uIiwicmVtb3ZlTGF5ZXJNYXBQcm9wZXJ0eSIsIkxheWVyIiwic2V0TWFwSW50ZXJuYWwiLCJzZXRMYXllck1hcFByb3BlcnR5Iiwib3B0aW9uc0ludGVybmFsIiwia2V5Ym9hcmRFdmVudFRhcmdldCIsImxheWVyR3JvdXAiLCJjb250cm9scyIsImludGVyYWN0aW9ucyIsIm92ZXJsYXlzIiwiTWFwUHJvcGVydHkiLCJWaWV3IiwiY3JlYXRlT3B0aW9uc0ludGVybmFsIiwicmVuZGVyQ29tcGxldGVfIiwibG9hZGVkXyIsImJvdW5kSGFuZGxlQnJvd3NlckV2ZW50XyIsImhhbmRsZUJyb3dzZXJFdmVudCIsIm1heFRpbGVzTG9hZGluZ18iLCJtYXhUaWxlc0xvYWRpbmciLCJwaXhlbFJhdGlvXyIsInBpeGVsUmF0aW8iLCJwb3N0UmVuZGVyVGltZW91dEhhbmRsZV8iLCJhbmltYXRpb25EZWxheUtleV8iLCJhbmltYXRpb25EZWxheV8iLCJjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybV8iLCJwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybV8iLCJmcmFtZUluZGV4XyIsImZyYW1lU3RhdGVfIiwicHJldmlvdXNFeHRlbnRfIiwidmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfIiwidmlld0NoYW5nZUxpc3RlbmVyS2V5XyIsImxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18iLCJ2aWV3cG9ydF8iLCJ3aW5kb3ciLCJvdmVyZmxvdyIsIm92ZXJsYXlDb250YWluZXJfIiwib3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8iLCJtYXBCcm93c2VyRXZlbnRIYW5kbGVyXyIsImtleWJvYXJkRXZlbnRUYXJnZXRfIiwidGFyZ2V0Q2hhbmdlSGFuZGxlcktleXNfIiwidGFyZ2V0RWxlbWVudF8iLCJyZXNpemVPYnNlcnZlcl8iLCJSZXNpemVPYnNlcnZlciIsInVwZGF0ZVNpemUiLCJ6b29tT3B0aW9ucyIsInJvdGF0ZU9wdGlvbnMiLCJhdHRyaWJ1dGlvbiIsImF0dHJpYnV0aW9uT3B0aW9ucyIsImRlY2F5IiwibWluVmVsb2NpdHkiLCJkZWxheSIsImRlY2F5XyIsIm1pblZlbG9jaXR5XyIsImRlbGF5XyIsInBvaW50c18iLCJhbmdsZV8iLCJpbml0aWFsVmVsb2NpdHlfIiwibGFzdEluZGV4IiwiZmlyc3RJbmRleCIsImFsdFNoaWZ0RHJhZ1JvdGF0ZSIsImRvdWJsZUNsaWNrWm9vbSIsInpvb21EZWx0YSIsInpvb21EdXJhdGlvbiIsImRyYWdQYW4iLCJwaW5jaFJvdGF0ZSIsInBpbmNoWm9vbSIsImtleWJvYXJkIiwibW91c2VXaGVlbFpvb20iLCJzaGlmdERyYWdab29tIiwib3ZlcmxheXNfIiwib3ZlcmxheUlkSW5kZXhfIiwicmVuZGVyZXJfIiwicG9zdFJlbmRlckZ1bmN0aW9uc18iLCJ0aWxlUXVldWVfIiwiZ2V0VGlsZVByaW9yaXR5IiwiaGFuZGxlVGlsZUNoYW5nZV8iLCJoYW5kbGVMYXllckdyb3VwQ2hhbmdlZF8iLCJoYW5kbGVWaWV3Q2hhbmdlZF8iLCJoYW5kbGVTaXplQ2hhbmdlZF8iLCJoYW5kbGVUYXJnZXRDaGFuZ2VkXyIsInNldFByb3BlcnRpZXMiLCJ2aWV3T3B0aW9ucyIsInNldFZpZXciLCJhZGRPdmVybGF5SW50ZXJuYWxfIiwiZ2V0SWQiLCJ0b1N0cmluZyIsImNvbnRyb2wiLCJpbnRlcmFjdGlvbiIsImFkZENvbnRyb2wiLCJnZXRDb250cm9scyIsImFkZEludGVyYWN0aW9uIiwiZ2V0SW50ZXJhY3Rpb25zIiwiYWRkTGF5ZXIiLCJnZXRMYXllckdyb3VwIiwiaGFuZGxlTGF5ZXJBZGRfIiwiYWRkT3ZlcmxheSIsIm92ZXJsYXkiLCJnZXRPdmVybGF5cyIsImRpc2Nvbm5lY3QiLCJmb3JFYWNoRmVhdHVyZUF0UGl4ZWwiLCJnZXRGZWF0dXJlc0F0UGl4ZWwiLCJmZWF0dXJlcyIsImdldEFsbExheWVycyIsImFkZExheWVyc0Zyb20iLCJoYXNGZWF0dXJlQXRQaXhlbCIsImdldEV2ZW50Q29vcmRpbmF0ZSIsImdldEV2ZW50Q29vcmRpbmF0ZUludGVybmFsIiwidmlld3BvcnRQb3NpdGlvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInZpZXdwb3J0U2l6ZSIsInNjYWxlWCIsInNjYWxlWSIsImV2ZW50UG9zaXRpb24iLCJjaGFuZ2VkVG91Y2hlcyIsImdldFRhcmdldCIsImdldFByb2plY3Rpb24iLCJnZXRPdmVybGF5QnlJZCIsImdyb3VwIiwiZ2V0TG9hZGluZ09yTm90UmVhZHkiLCJyZW5kZXJlciIsInJlYWR5IiwibG9hZGluZyIsImdldFBpeGVsRnJvbUNvb3JkaW5hdGUiLCJ2aWV3Q29vcmRpbmF0ZSIsIm93bmVyRG9jdW1lbnQiLCJ0aWxlU291cmNlS2V5IiwidGlsZUNlbnRlciIsInRpbGVSZXNvbHV0aW9uIiwid2FudGVkVGlsZXMiLCJoYW5kbGVNYXBCcm93c2VyRXZlbnQiLCJldmVudFR5cGUiLCJyb290Tm9kZSIsImRvY3VtZW50RWxlbWVudCIsImludGVyYWN0aW9uc0FycmF5IiwicHJvcGFnYXRpb25TdG9wcGVkIiwiaGFuZGxlUG9zdFJlbmRlciIsInRpbGVRdWV1ZSIsImhpbnRzIiwidmlld0hpbnRzIiwiVmlld0hpbnQiLCJsb3dPbkZyYW1lQnVkZ2V0IiwidGltZSIsInJlc29sdmVDb25zdHJhaW50cyIsInVub2JzZXJ2ZSIsIlNoYWRvd1Jvb3QiLCJob3N0IiwiQ29tcG9zaXRlIiwib2JzZXJ2ZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiaGFuZGxlVmlld1Byb3BlcnR5Q2hhbmdlZF8iLCJ1cGRhdGVWaWV3cG9ydFNpemVfIiwiaGFuZGxlTGF5ZXJSZW1vdmVfIiwiaXNSZW5kZXJlZCIsInJlbmRlckZyYW1lXyIsInJlbmRlclN5bmMiLCJoYW5kbGVGb250c0NoYW5nZWQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW1vdmVDb250cm9sIiwicmVtb3ZlSW50ZXJhY3Rpb24iLCJyZW1vdmVMYXllciIsInJlbW92ZU92ZXJsYXkiLCJwcmV2aW91c0ZyYW1lU3RhdGUiLCJpc0RlZiIsImdldEhpbnRzIiwiZGVjbHV0dGVyVHJlZSIsInVzZWRUaWxlcyIsIm1hcElkIiwicmVuZGVyVGFyZ2V0cyIsIm5leHRDZW50ZXIiLCJuZXh0UmVzb2x1dGlvbiIsIm5leHRSb3RhdGlvbiIsIm5leHRFeHRlbnQiLCJzZXRMYXllckdyb3VwIiwib2xkTGF5ZXJHcm91cCIsInNldFNpemUiLCJjb21wdXRlZFN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIm9mZnNldFdpZHRoIiwicGFyc2VGbG9hdCIsIm9mZnNldEhlaWdodCIsImdldENsaWVudFJlY3RzIiwib2xkU2l6ZSIsInBhcnNlSW50Iiwic2V0Vmlld3BvcnRTaXplIiwiT2JqZWN0RXZlbnQiLCJvbGRWYWx1ZSIsIkJhc2VPYmplY3QiLCJ2YWx1ZXNfIiwiaGFzT3duUHJvcGVydHkiLCJnZXRLZXlzIiwiZ2V0UHJvcGVydGllcyIsImhhc1Byb3BlcnRpZXMiLCJub3RpZnkiLCJsaXN0ZW5lciIsInJlbW92ZUNoYW5nZUxpc3RlbmVyIiwic2lsZW50IiwiYXBwbHlQcm9wZXJ0aWVzIiwidW5zZXQiLCJQUk9QRVJUWUNIQU5HRSIsIk9ic2VydmFibGUiLCJyZXZpc2lvbl8iLCJnZXRSZXZpc2lvbiIsIm9uSW50ZXJuYWwiLCJvbmNlSW50ZXJuYWwiLCJvbF9rZXkiLCJ1bkludGVybmFsIiwidW5CeUtleSIsIlRpbGUiLCJpbnRlcmltVGlsZSIsInRyYW5zaXRpb25fIiwidHJhbnNpdGlvbiIsInRyYW5zaXRpb25TdGFydHNfIiwiaW50ZXJwb2xhdGUiLCJyZWxlYXNlIiwic2V0U3RhdGUiLCJnZXRJbnRlcmltVGlsZSIsInJlZnJlc2hJbnRlcmltQ2hhaW4iLCJnZXRUaWxlQ29vcmQiLCJnZXRBbHBoYSIsInN0YXJ0IiwiaW5UcmFuc2l0aW9uIiwiZW5kVHJhbnNpdGlvbiIsImhpZ2hXYXRlck1hcmsiLCJjb3VudF8iLCJlbnRyaWVzXyIsIm9sZGVzdF8iLCJuZXdlc3RfIiwiY2FuRXhwaXJlQ2FjaGUiLCJleHBpcmVDYWNoZSIsImtlZXAiLCJjb250YWluc0tleSIsImVudHJ5IiwidmFsdWVfIiwia2V5XyIsIm5ld2VyIiwib2xkZXIiLCJnZXRWYWx1ZXMiLCJwZWVrTGFzdCIsInBlZWtMYXN0S2V5IiwicGVla0ZpcnN0S2V5IiwicGVlayIsInJlcGxhY2UiLCJwcnVuZUV4Y2VwdE5ld2VzdFoiLCJUaWxlUmFuZ2UiLCJtaW5YIiwibWF4WCIsIm1pblkiLCJtYXhZIiwiY29udGFpbnNYWSIsImNvbnRhaW5zVGlsZVJhbmdlIiwidGlsZVJhbmdlIiwiZ2V0SGVpZ2h0IiwiZ2V0V2lkdGgiLCJpbnRlcnNlY3RzIiwiY3JlYXRlT3JVcGRhdGUiLCJDRU5URVIiLCJSRVNPTFVUSU9OIiwiUk9UQVRJT04iLCJjcmVhdGVFeHRlbnQiLCJvbmx5Q2VudGVyIiwic21vb3RoIiwiaXNNb3ZpbmciLCJjZW50ZXJTaGlmdCIsInZpZXdXaWR0aCIsInZpZXdIZWlnaHQiLCJzaGlmdFgiLCJzaGlmdFkiLCJyYXRpbyIsIm5vbmUiLCJnZXRWaWV3cG9ydENsYW1wZWRSZXNvbHV0aW9uIiwibWF4RXh0ZW50Iiwic2hvd0Z1bGxFeHRlbnQiLCJ4UmVzb2x1dGlvbiIsInlSZXNvbHV0aW9uIiwiZ2V0U21vb3RoQ2xhbXBlZFJlc29sdXRpb24iLCJjcmVhdGVNaW5NYXhSZXNvbHV0aW9uIiwiY2FwcGVkTWF4UmVzIiwiaGludHNfIiwiYW5pbWF0aW9uc18iLCJ1cGRhdGVBbmltYXRpb25LZXlfIiwicHJvamVjdGlvbl8iLCJ2aWV3cG9ydFNpemVfIiwidGFyZ2V0Q2VudGVyXyIsInRhcmdldFJlc29sdXRpb25fIiwidGFyZ2V0Um90YXRpb25fIiwibmV4dENlbnRlcl8iLCJuZXh0UmVzb2x1dGlvbl8iLCJuZXh0Um90YXRpb25fIiwiY2FuY2VsQW5jaG9yXyIsImFwcGx5T3B0aW9uc18iLCJWaWV3UHJvcGVydHkiLCJyZXNvbHV0aW9uQ29uc3RyYWludEluZm8iLCJyZXNvbHV0aW9uQ29uc3RyYWludCIsInpvb21GYWN0b3IiLCJtdWx0aVdvcmxkIiwic21vb3RoUmVzb2x1dGlvbkNvbnN0cmFpbnQiLCJwcm9qRXh0ZW50IiwiY29uc3RyYWluT25seUNlbnRlciIsImlzR2xvYmFsIiwicmVzb2x1dGlvbnMiLCJjYXBwZWQiLCJjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucyIsImRlZmF1bHRNYXhSZXNvbHV0aW9uIiwiZ2V0TWV0ZXJzUGVyVW5pdCIsImRlZmF1bHRNaW5SZXNvbHV0aW9uIiwiZGVmYXVsdE1heFpvb20iLCJwb3dlciIsInRvbGVyYW5jZSIsIm1pblpvb21MZXZlbCIsImNlaWwiLCJjYXBwZWRab29tTGV2ZWwiLCJ6b29tTGV2ZWwiLCJjcmVhdGVTbmFwVG9Qb3dlciIsImNvbnN0cmFpbnQiLCJjcmVhdGVSZXNvbHV0aW9uQ29uc3RyYWludCIsIm1heFJlc29sdXRpb25fIiwibWluUmVzb2x1dGlvbl8iLCJ6b29tRmFjdG9yXyIsInJlc29sdXRpb25zXyIsInBhZGRpbmdfIiwicGFkZGluZyIsIm1pblpvb21fIiwiY2VudGVyQ29uc3RyYWludCIsInNtb290aEV4dGVudENvbnN0cmFpbnQiLCJjcmVhdGVDZW50ZXJDb25zdHJhaW50Iiwicm90YXRpb25Db25zdHJhaW50IiwiZW5hYmxlUm90YXRpb24iLCJjb25zdHJhaW5Sb3RhdGlvbiIsImNyZWF0ZVJvdGF0aW9uQ29uc3RyYWludCIsImNvbnN0cmFpbnRzXyIsInNldENlbnRlckludGVybmFsIiwic2V0UmVzb2x1dGlvbiIsIm9sZFBhZGRpbmciLCJnZXRDZW50ZXIiLCJuZXdQYWRkaW5nIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJnZXRVcGRhdGVkT3B0aW9uc18iLCJuZXdPcHRpb25zIiwiYXJncyIsImFuaW1hdGlvbkNvdW50IiwiYW5pbWF0aW9uQ2FsbGJhY2siLCJzZXJpZXMiLCJhbmltYXRpb24iLCJjb21wbGV0ZSIsInNvdXJjZUNlbnRlciIsInRhcmdldENlbnRlciIsInNvdXJjZVJlc29sdXRpb24iLCJ0YXJnZXRSZXNvbHV0aW9uIiwic291cmNlUm90YXRpb24iLCJ0YXJnZXRSb3RhdGlvbiIsImlzTm9vcEFuaW1hdGlvbiIsInNldEhpbnQiLCJ1cGRhdGVBbmltYXRpb25zXyIsImdldEludGVyYWN0aW5nIiwibW9yZSIsInNlcmllc0NvbXBsZXRlIiwiZWxhcHNlZCIsImZyYWN0aW9uIiwicHJvZ3Jlc3MiLCJnZXRWaWV3cG9ydFNpemVfIiwiY29uc3RyYWluZWRSZXNvbHV0aW9uIiwiY2FsY3VsYXRlQ2VudGVyWm9vbSIsImFwcGx5VGFyZ2V0U3RhdGVfIiwiY29uc3RyYWluZWRSb3RhdGlvbiIsImNhbGN1bGF0ZUNlbnRlclJvdGF0ZSIsImZpbHRlciIsImN1cnJlbnRSZXNvbHV0aW9uIiwidyIsImNhbGN1bGF0ZUV4dGVudCIsImNhbGN1bGF0ZUV4dGVudEludGVybmFsIiwiZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXyIsImdldE1heFJlc29sdXRpb24iLCJnZXRNaW5SZXNvbHV0aW9uIiwiZ2V0TWF4Wm9vbSIsImdldFpvb21Gb3JSZXNvbHV0aW9uIiwic2V0TWF4Wm9vbSIsImdldE1pblpvb20iLCJzZXRNaW5ab29tIiwic2V0Q29uc3RyYWluUmVzb2x1dGlvbiIsImVuYWJsZWQiLCJnZXRSZXNvbHV0aW9ucyIsImdldFJlc29sdXRpb25Gb3JFeHRlbnQiLCJnZXRSZXNvbHV0aW9uRm9yVmFsdWVGdW5jdGlvbiIsImdldENvbnN0cmFpbmVkUmVzb2x1dGlvbiIsImdldFZhbHVlRm9yUmVzb2x1dGlvbkZ1bmN0aW9uIiwibG9nUG93ZXIiLCJyZWR1Y2VkU2l6ZSIsImNhbGN1bGF0ZUNlbnRlck9uIiwibmVhcmVzdCIsImJhc2VMZXZlbCIsImZpdCIsImdlb21ldHJ5T3JFeHRlbnQiLCJnZXRUeXBlIiwidXNlclByb2plY3Rpb24iLCJjb3NBbmdsZSIsInNpbkFuZ2xlIiwiZ2V0RmxhdENvb3JkaW5hdGVzIiwic3RyaWRlIiwiZ2V0U3RyaWRlIiwibWluUm90WCIsIm1pblJvdFkiLCJtYXhSb3RYIiwibWF4Um90WSIsInJvdFgiLCJyb3RZIiwiY2VudGVyUm90IiwiY2VudGVyWCIsImNlbnRlclkiLCJjZW50ZXJPbiIsImNlbnRlck9uSW50ZXJuYWwiLCJjYWxjdWxhdGVDZW50ZXJTaGlmdCIsInNoaWZ0ZWRDZW50ZXIiLCJhZGp1c3RDZW50ZXIiLCJkZWx0YUNvb3JkaW5hdGVzIiwic2V0Q2VudGVyIiwiYWRqdXN0UmVzb2x1dGlvbiIsImFkanVzdFJvdGF0aW9uIiwibmV3Um90YXRpb24iLCJoaW50IiwiZG9Ob3RDYW5jZWxBbmltcyIsImZvcmNlTW92aW5nIiwibmV3Q2VudGVyIiwicmVzb2x1dGlvbkRpcmVjdGlvbiIsImVuZEludGVyYWN0aW9uSW50ZXJuYWwiLCJ0YXJnZXRab29tIiwidGFyZ2V0UmVzIiwicmV0dXJuVmFsdWUiLCJBTklNQVRJTkciLCJJTlRFUkFDVElORyIsImJpbmFyeVNlYXJjaCIsImhheXN0YWNrIiwibmVlZGxlIiwiY29tcGFyYXRvciIsIm1pZCIsImNtcCIsImFzY2VuZGluZyIsImZvdW5kIiwibGluZWFyRmluZE5lYXJlc3QiLCJyZXZlcnNlU3ViQXJyYXkiLCJ0bXAiLCJkYXRhIiwiZXh0ZW5zaW9uIiwiYXJyMSIsImFycjIiLCJsZW4xIiwiaXNTb3J0ZWQiLCJmdW5jIiwic3RyaWN0IiwiY29tcGFyZSIsImV2ZXJ5IiwiY3VycmVudFZhbCIsInJlcyIsImFzc2VydCIsImFzc2VydGlvbiIsImVycm9yQ29kZSIsIkhFWF9DT0xPUl9SRV8iLCJOQU1FRF9DT0xPUl9SRV8iLCJhc1N0cmluZyIsImNvbG9yIiwiZnJvbVN0cmluZyIsImNhY2hlIiwiY2FjaGVTaXplIiwiciIsImciLCJleGVjIiwiZWwiLCJib2R5IiwicmdiIiwiZnJvbU5hbWVkIiwiaGFzQWxwaGEiLCJzdWJzdHIiLCJzdGFydHNXaXRoIiwic3BsaXQiLCJOdW1iZXIiLCJub3JtYWxpemUiLCJmcm9tU3RyaW5nSW50ZXJuYWxfIiwiYXNBcnJheSIsImxldmVscyIsImluZm8iLCJ3YXJuIiwibGV2ZWwiLCJjb25zb2xlIiwiY29vcmRpbmF0ZTEiLCJjb29yZGluYXRlMiIsIndyYXBYIiwid29ybGRzQXdheSIsInNvdXJjZUV4dGVudFdpZHRoIiwiZ2V0V29ybGRzQXdheSIsIkNMQVNTX0hJRERFTiIsIkNMQVNTX1VOU0VMRUNUQUJMRSIsIkNMQVNTX0NPTlRST0wiLCJDTEFTU19DT0xMQVBTRUQiLCJmb250UmVnRXgiLCJSZWdFeHAiLCJqb2luIiwiZm9udFJlZ0V4TWF0Y2hJbmRleCIsImdldEZvbnRQYXJhbWV0ZXJzIiwiZm9udFNwZWMiLCJtYXRjaCIsImxpbmVIZWlnaHQiLCJ3ZWlnaHQiLCJ2YXJpYW50IiwiZmFtaWxpZXMiLCJmYW1pbHkiLCJjcmVhdGVDYW52YXNDb250ZXh0MkQiLCJjYW52YXNQb29sIiwic2V0dGluZ3MiLCJzaGlmdCIsIk9mZnNjcmVlbkNhbnZhcyIsImdldENvbnRleHQiLCJyZWxlYXNlQ2FudmFzIiwiY29udGV4dCIsImNsZWFyUmVjdCIsInJlcGxhY2VOb2RlIiwibmV3Tm9kZSIsIm9sZE5vZGUiLCJwYXJlbnQiLCJyZXBsYWNlQ2hpbGQiLCJyZW1vdmVOb2RlIiwibm9kZSIsInJlbW92ZUNoaWxkcmVuIiwibGFzdENoaWxkIiwicmVwbGFjZUNoaWxkcmVuIiwiY2hpbGRyZW4iLCJvbGRDaGlsZHJlbiIsImNoaWxkTm9kZXMiLCJvbGRDaGlsZCIsIm5ld0NoaWxkIiwiZWFzZUluIiwidCIsImVhc2VPdXQiLCJpbkFuZE91dCIsImxpbmVhciIsImxpc3RlbiIsIm9yaWdpbmFsTGlzdGVuZXIiLCJldmVudHNLZXkiLCJsaXN0ZW5PbmNlIiwidW5saXN0ZW5CeUtleSIsIkNIQU5HRSIsIkJMVVIiLCJDTEVBUiIsIkNPTlRFWFRNRU5VIiwiRFJBR0VOVEVSIiwiRFJBR09WRVIiLCJGT0NVUyIsIktFWURPV04iLCJLRVlQUkVTUyIsIkxPQUQiLCJSRVNJWkUiLCJUT1VDSE1PVkUiLCJXSEVFTCIsImV2ZW50VGFyZ2V0XyIsInBlbmRpbmdSZW1vdmFsc18iLCJkaXNwYXRjaGluZ18iLCJsaXN0ZW5lcnNfIiwibGlzdGVuZXJzIiwibGlzdGVuZXJzRm9yVHlwZSIsImluY2x1ZGVzIiwiaXNTdHJpbmciLCJldnQiLCJkaXNwYXRjaGluZyIsInBlbmRpbmdSZW1vdmFscyIsInByb3BhZ2F0ZSIsInByIiwiZ2V0TGlzdGVuZXJzIiwiaW5kZXhPZiIsImJvdW5kaW5nRXh0ZW50IiwiZXh0ZW5kQ29vcmRpbmF0ZSIsImNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWSIsImNvbnRhaW5zQ29vcmRpbmF0ZSIsImNvbnRhaW5zRXh0ZW50IiwiZXh0ZW50MSIsImV4dGVudDIiLCJjb29yZGluYXRlUmVsYXRpb25zaGlwIiwicmVsYXRpb25zaGlwIiwiY3JlYXRlRW1wdHkiLCJjcmVhdGVPclVwZGF0ZUVtcHR5IiwiY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZSIsImNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcyIsImZsYXRDb29yZGluYXRlcyIsImV4dGVuZEZsYXRDb29yZGluYXRlcyIsImV4dGVuZFhZIiwiZm9yRWFjaENvcm5lciIsImdldEJvdHRvbUxlZnQiLCJnZXRCb3R0b21SaWdodCIsImdldFRvcFJpZ2h0IiwiZ2V0VG9wTGVmdCIsImdldEFyZWEiLCJnZXRDb3JuZXIiLCJjb3JuZXIiLCJnZXRGb3JWaWV3QW5kU2l6ZSIsIngzIiwieTMiLCJnZXRSb3RhdGVkVmlld3BvcnQiLCJjb3NSb3RhdGlvbiIsInNpblJvdGF0aW9uIiwieENvcyIsInhTaW4iLCJ5Q29zIiwieVNpbiIsImdldEludGVyc2VjdGlvbiIsImludGVyc2VjdGlvbiIsInJldHVybk9yVXBkYXRlIiwiaW50ZXJzZWN0c1NlZ21lbnQiLCJzdGFydFJlbCIsImVuZFJlbCIsInN0YXJ0WCIsInN0YXJ0WSIsImVuZFgiLCJlbmRZIiwic2xvcGUiLCJhcHBseVRyYW5zZm9ybSIsInRyYW5zZm9ybUZuIiwic3RvcHMiLCJ4cyIsInlzIiwiX2JvdW5kaW5nRXh0ZW50WFlzIiwiVU5LTk9XTiIsIklOVEVSU0VDVElORyIsIkFCT1ZFIiwiUklHSFQiLCJCRUxPVyIsIkxFRlQiLCJkYXRhUHJvamVjdGlvbiIsImRlZmF1bHRGZWF0dXJlUHJvamVjdGlvbiIsInN1cHBvcnRlZE1lZGlhVHlwZXMiLCJnZXRSZWFkT3B0aW9ucyIsInJlYWRQcm9qZWN0aW9uIiwiZ2V0VW5pdHMiLCJzZXRXb3JsZEV4dGVudCIsImZlYXR1cmVQcm9qZWN0aW9uIiwiYWRhcHRPcHRpb25zIiwicmVhZEZlYXR1cmVzIiwicmVhZEdlb21ldHJ5Iiwid3JpdGVGZWF0dXJlIiwid3JpdGVGZWF0dXJlcyIsIndyaXRlR2VvbWV0cnkiLCJUUlVFIiwiRkFMU0UiLCJWT0lEIiwibWVtb2l6ZU9uZSIsImxhc3RSZXN1bHQiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwiY2FsbGVkIiwibmV4dEFyZ3MiLCJhc3NpZ25DbG9zZXN0Iiwib2Zmc2V0MSIsIm9mZnNldDIiLCJjbG9zZXN0UG9pbnQiLCJtYXhTcXVhcmVkRGVsdGEiLCJzcXVhcmVkRGVsdGEiLCJhc3NpZ25DbG9zZXN0UG9pbnQiLCJpc1JpbmciLCJtaW5TcXVhcmVkRGlzdGFuY2UiLCJ0bXBQb2ludCIsInNxdWFyZWREaXN0YW5jZSIsImRlZmxhdGVDb29yZGluYXRlcyIsImxpbmVhclJpbmciLCJ0d2ljZUFyZWEiLCJMaW5lYXJSaW5nIiwiU2ltcGxlR2VvbWV0cnkiLCJsYXlvdXQiLCJtYXhEZWx0YVJldmlzaW9uXyIsInNldEZsYXRDb29yZGluYXRlcyIsImNsb3Nlc3RQb2ludFhZIiwiZ2V0Q29vcmRpbmF0ZXMiLCJpbmZsYXRlIiwiZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwiLCJzcXVhcmVkVG9sZXJhbmNlIiwic2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyIsImludGVyc2VjdHNFeHRlbnQiLCJzZXRMYXlvdXQiLCJwb2ludCIsImNvbXB1dGVFeHRlbnQiLCJkZWZsYXRlQ29vcmRpbmF0ZSIsImxpbmVhclJpbmdJc0Nsb2Nrd2lzZSIsImVkZ2UiLCJvcmllbnRMaW5lYXJSaW5ncyIsImVuZHMiLCJyaWdodCIsImlzQ2xvY2t3aXNlIiwiZW5kc18iLCJmbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyIsImZsYXRJbnRlcmlvclBvaW50XyIsIm9yaWVudGVkUmV2aXNpb25fIiwib3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfIiwiYXBwZW5kTGluZWFyUmluZyIsImFycmF5TWF4U3F1YXJlZERlbHRhIiwiYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQiLCJnZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcyIsImxpbmVhclJpbmdzIiwiZ2V0RW5kcyIsImdldEZsYXRJbnRlcmlvclBvaW50IiwiZmxhdENlbnRlciIsImdldEludGVyaW9yUG9pbnQiLCJnZXRMaW5lYXJSaW5nQ291bnQiLCJnZXRMaW5lYXJSaW5nIiwiZ2V0TGluZWFyUmluZ3MiLCJsaW5lYXJSaW5nc0FyZU9yaWVudGVkIiwic2ltcGxpZmllZEVuZHMiLCJjb29yZGluYXRlc3MiLCJkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheSIsImZyb21FeHRlbnQiLCJ0bXBUcmFuc2Zvcm0iLCJHZW9tZXRyeSIsImV4dGVudF8iLCJleHRlbnRSZXZpc2lvbl8iLCJzaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlIiwic2ltcGxpZmllZEdlb21ldHJ5UmV2aXNpb24iLCJzaW1wbGlmeVRyYW5zZm9ybWVkSW50ZXJuYWwiLCJyZXZpc2lvbiIsImdldFNpbXBsaWZpZWRHZW9tZXRyeSIsInNpbXBsaWZ5VHJhbnNmb3JtZWQiLCJjb29yZCIsImdldENsb3Nlc3RQb2ludCIsImludGVyc2VjdHNDb29yZGluYXRlIiwic3giLCJzeSIsInNpbXBsaWZ5IiwidHJhbnNsYXRlIiwiZGVzdGluYXRpb24iLCJzb3VyY2VQcm9qIiwiaW5Db29yZGluYXRlcyIsIm91dENvb3JkaW5hdGVzIiwicGl4ZWxFeHRlbnQiLCJwcm9qZWN0ZWRFeHRlbnQiLCJnZXRXb3JsZEV4dGVudCIsImdldFN0cmlkZUZvckxheW91dCIsInRyYW5zZm9ybUdlb20yRCIsInNpbXBsZUdlb21ldHJ5IiwiZ2V0Rmlyc3RDb29yZGluYXRlIiwiZ2V0TGFzdENvb3JkaW5hdGUiLCJnZXRMYXlvdXQiLCJzaW1wbGlmaWVkR2VvbWV0cnkiLCJuZXN0aW5nIiwiZ2V0TGF5b3V0Rm9yU3RyaWRlIiwibGluZWFyUmluZ0NvbnRhaW5zRXh0ZW50IiwibGluZWFyUmluZ0NvbnRhaW5zWFkiLCJ3biIsImxpbmVhclJpbmdzQ29udGFpbnNYWSIsImluZmxhdGVDb29yZGluYXRlcyIsImluZmxhdGVDb29yZGluYXRlc0FycmF5IiwiaW5mbGF0ZU11bHRpQ29vcmRpbmF0ZXNBcnJheSIsImVuZHNzIiwiY29vcmRpbmF0ZXNzcyIsImdldEludGVyaW9yUG9pbnRPZkFycmF5IiwiZmxhdENlbnRlcnMiLCJmbGF0Q2VudGVyc09mZnNldCIsImludGVyc2VjdGlvbnMiLCJyciIsInBvaW50WCIsIm1heFNlZ21lbnRMZW5ndGgiLCJzZWdtZW50TGVuZ3RoIiwiZ2V0SW50ZXJpb3JQb2ludHNPZk11bHRpQXJyYXkiLCJpbnRlcmlvclBvaW50cyIsImludGVyc2VjdHNMaW5lU3RyaW5nIiwiY29vcmRpbmF0ZXNFeHRlbnQiLCJyZXQiLCJwb2ludDEiLCJwb2ludDIiLCJpbnRlcnNlY3RzTGluZWFyUmluZyIsImludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkiLCJkb3VnbGFzUGV1Y2tlciIsInNpbXBsaWZpZWRPZmZzZXQiLCJtYXJrZXJzIiwic3RhY2siLCJsYXN0IiwiZmlyc3QiLCJtYXhTcXVhcmVkRGlzdGFuY2UiLCJzbmFwIiwicXVhbnRpemUiLCJkeDEiLCJkeTEiLCJkeDIiLCJkeTIiLCJxdWFudGl6ZUFycmF5IiwidHJhbnNmb3JtMkQiLCJhbmNob3JYIiwiYW5jaG9yWSIsInVhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJGSVJFRk9YIiwiV0VCS0lUIiwidGVzdCIsIk1BQyIsIkRFVklDRV9QSVhFTF9SQVRJTyIsImRldmljZVBpeGVsUmF0aW8iLCJXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBUyIsIldvcmtlckdsb2JhbFNjb3BlIiwic2VsZiIsIklNQUdFX0RFQ09ERSIsIlBBU1NJVkVfRVZFTlRfTElTVEVORVJTIiwiZGVmaW5lUHJvcGVydHkiLCJCYXNlTGF5ZXIiLCJiYWNrZ3JvdW5kXyIsImJhY2tncm91bmQiLCJjbGFzc05hbWVfIiwic3RhdGVfIiwiZ2V0QmFja2dyb3VuZCIsImdldENsYXNzTmFtZSIsImdldFpJbmRleCIsImdldE9wYWNpdHkiLCJnZXRWaXNpYmxlIiwic2V0QmFja2dyb3VuZCIsInNldEV4dGVudCIsInNldE1heFJlc29sdXRpb24iLCJzZXRNaW5SZXNvbHV0aW9uIiwic2V0T3BhY2l0eSIsInNldFZpc2libGUiLCJzZXRaSW5kZXgiLCJ6aW5kZXgiLCJtYXBQcmVjb21wb3NlS2V5XyIsIm1hcFJlbmRlcktleV8iLCJzb3VyY2VDaGFuZ2VLZXlfIiwic291cmNlUmVhZHlfIiwicmVuZGVyZWQiLCJoYW5kbGVTb3VyY2VQcm9wZXJ0eUNoYW5nZV8iLCJzZXRTb3VyY2UiLCJnZXRSZW5kZXJTb3VyY2UiLCJoYW5kbGVTb3VyY2VDaGFuZ2VfIiwiZ2V0RmVhdHVyZXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsImdldERhdGEiLCJwcmVwYXJlRnJhbWUiLCJnZXRNYXBJbnRlcm5hbCIsImFycmF5TGF5ZXJTdGF0ZSIsImNyZWF0ZVJlbmRlcmVyIiwiaW5WaWV3IiwiT1BBQ0lUWSIsIlZJU0lCTEUiLCJFWFRFTlQiLCJaX0lOREVYIiwiTUFYX1JFU09MVVRJT04iLCJNSU5fUkVTT0xVVElPTiIsIk1BWF9aT09NIiwiTUlOX1pPT00iLCJTT1VSQ0UiLCJNQVAiLCJCYXNlVGlsZUxheWVyIiwicHJlbG9hZCIsInVzZUludGVyaW1UaWxlc09uRXJyb3IiLCJzZXRQcmVsb2FkIiwic2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvciIsImdldFByZWxvYWQiLCJUaWxlUHJvcGVydHkiLCJnZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yIiwiQmFzZVRpbGUiLCJQUkVMT0FEIiwiVVNFX0lOVEVSSU1fVElMRVNfT05fRVJST1IiLCJjbGFtcCIsInNxdWFyZWRTZWdtZW50RGlzdGFuY2UiLCJzb2x2ZUxpbmVhclN5c3RlbSIsIm1hdCIsIm1heFJvdyIsIm1heEVsIiwiYWJzVmFsdWUiLCJjb2VmIiwidG9SYWRpYW5zIiwiYW5nbGVJbkRlZ3JlZXMiLCJtb2R1bG8iLCJsZXJwIiwidG9GaXhlZCIsImRlY2ltYWxzIiwib2JqZWN0IiwiUkFESVVTIiwiSEFMRl9TSVpFIiwiV09STERfRVhURU5UIiwiTUFYX1NBRkVfWSIsInRhbiIsIkVQU0czODU3UHJvamVjdGlvbiIsIlByb2plY3Rpb24iLCJ1bml0cyIsImdsb2JhbCIsIndvcmxkRXh0ZW50IiwiZ2V0UG9pbnRSZXNvbHV0aW9uIiwiY29zaCIsIlBST0pFQ1RJT05TIiwiRVBTRzQzMjZQcm9qZWN0aW9uIiwiYXhpc09yaWVudGF0aW9uIiwibWV0ZXJzUGVyVW5pdCIsInRyYW5zZm9ybXMiLCJzb3VyY2VDb2RlIiwiZ2V0Q29kZSIsImRlc3RpbmF0aW9uQ29kZSIsIkRFRkFVTFRfUkFESVVTIiwiYzEiLCJjMiIsInJhZGl1cyIsImxhdDEiLCJsYXQyIiwiZGVsdGFMYXRCeTIiLCJkZWx0YUxvbkJ5MiIsInNob3dDb29yZGluYXRlV2FybmluZyIsImRpc2FibGVDb29yZGluYXRlV2FybmluZyIsImRpc2FibGUiLCJjbG9uZVRyYW5zZm9ybSIsImlucHV0Iiwib3V0cHV0IiwiaWRlbnRpdHlUcmFuc2Zvcm0iLCJhZGRQcm9qZWN0aW9uIiwicHJvamVjdGlvbkxpa2UiLCJwb2ludFJlc29sdXRpb24iLCJnZXR0ZXIiLCJnZXRQb2ludFJlc29sdXRpb25GdW5jIiwicHJvalVuaXRzIiwidG9FUFNHNDMyNiIsImdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyIsInZlcnRpY2VzIiwiYWRkRXF1aXZhbGVudFByb2plY3Rpb25zIiwicHJvamVjdGlvbnMiLCJhZGRQcm9qZWN0aW9ucyIsImNyZWF0ZVByb2plY3Rpb24iLCJkZWZhdWx0Q29kZSIsImZyb21Mb25MYXQiLCJlcXVpdmFsZW50IiwicHJvamVjdGlvbjEiLCJwcm9qZWN0aW9uMiIsImVxdWFsVW5pdHMiLCJzb3VyY2VQcm9qZWN0aW9uIiwiZGVzdGluYXRpb25Qcm9qZWN0aW9uIiwidHJhbnNmb3JtRnVuYyIsImdldFRyYW5zZm9ybSIsInRyYW5zZm9ybUV4dGVudCIsImdldFVzZXJQcm9qZWN0aW9uIiwidG9Vc2VyQ29vcmRpbmF0ZSIsImZyb21Vc2VyQ29vcmRpbmF0ZSIsImRlc3RQcm9qZWN0aW9uIiwidG9Vc2VyRXh0ZW50IiwiZnJvbVVzZXJFeHRlbnQiLCJwcm9qZWN0aW9uczIiLCJmb3J3YXJkVHJhbnNmb3JtIiwiaW52ZXJzZVRyYW5zZm9ybSIsImRpbWVuc2lvbiIsImNvZGVfIiwidW5pdHNfIiwid29ybGRFeHRlbnRfIiwiYXhpc09yaWVudGF0aW9uXyIsImdsb2JhbF8iLCJjYW5XcmFwWF8iLCJnZXRQb2ludFJlc29sdXRpb25GdW5jXyIsImRlZmF1bHRUaWxlR3JpZF8iLCJtZXRlcnNQZXJVbml0XyIsImdldEF4aXNPcmllbnRhdGlvbiIsInNldEdsb2JhbCIsImdldERlZmF1bHRUaWxlR3JpZCIsInNldERlZmF1bHRUaWxlR3JpZCIsInRpbGVHcmlkIiwic2V0R2V0UG9pbnRSZXNvbHV0aW9uIiwiTUVURVJTX1BFUl9VTklUIiwiUmVuZGVyRXZlbnQiLCJpbnZlcnNlUGl4ZWxUcmFuc2Zvcm0iLCJQUkVSRU5ERVIiLCJQT1NUUkVOREVSIiwiUFJFQ09NUE9TRSIsIlBPU1RDT01QT1NFIiwiUkVOREVSQ09NUExFVEUiLCJpbnRlcnBvbGF0ZVBvaW50IiwibyIsImN1bXVsYXRpdmVMZW5ndGhzIiwiUmVuZGVyRmVhdHVyZSIsInN0eWxlRnVuY3Rpb24iLCJpZF8iLCJ0eXBlXyIsImZsYXRDb29yZGluYXRlc18iLCJmbGF0SW50ZXJpb3JQb2ludHNfIiwiZmxhdE1pZHBvaW50c18iLCJwcm9wZXJ0aWVzXyIsImdldEZsYXRJbnRlcmlvclBvaW50cyIsImxpbmVhclJpbmdzcyIsImdldEZsYXRNaWRwb2ludCIsImdldEZsYXRNaWRwb2ludHMiLCJtaWRwb2ludCIsImdldFN0eWxlRnVuY3Rpb24iLCJnZXRFbmRzcyIsImRlZmF1bHRGb250IiwiZGVmYXVsdEZpbGxTdHlsZSIsImRlZmF1bHRMaW5lQ2FwIiwiZGVmYXVsdExpbmVEYXNoIiwiZGVmYXVsdExpbmVEYXNoT2Zmc2V0IiwiZGVmYXVsdExpbmVKb2luIiwiZGVmYXVsdE1pdGVyTGltaXQiLCJkZWZhdWx0U3Ryb2tlU3R5bGUiLCJkZWZhdWx0VGV4dEFsaWduIiwiZGVmYXVsdFRleHRCYXNlbGluZSIsImRlZmF1bHRQYWRkaW5nIiwiZGVmYXVsdExpbmVXaWR0aCIsImNoZWNrZWRGb250cyIsIm1lYXN1cmVGb250IiwibWVhc3VyZUNvbnRleHQiLCJ0ZXh0SGVpZ2h0cyIsInJlZ2lzdGVyRm9udCIsInJldHJpZXMiLCJyZWZlcmVuY2VGb250cyIsInRleHQiLCJpbnRlcnZhbCIsInJlZmVyZW5jZVdpZHRoIiwiaXNBdmFpbGFibGUiLCJmb250U3R5bGUiLCJmb250V2VpZ2h0IiwiZm9udEZhbWlseSIsImF2YWlsYWJsZSIsInJlZmVyZW5jZUZvbnQiLCJtZWFzdXJlVGV4dFdpZHRoIiwiY2hlY2siLCJkb25lIiwiZm9udHMiLCJmb250IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwibWVhc3VyZVRleHRIZWlnaHQiLCJtZWFzdXJlRWxlbWVudCIsIm1ldHJpY3MiLCJtZWFzdXJlVGV4dCIsImFjdHVhbEJvdW5kaW5nQm94QXNjZW50IiwiYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50IiwibWluSGVpZ2h0IiwibWF4SGVpZ2h0IiwiYm9yZGVyIiwibWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoIiwicmVkdWNlIiwiY3VyciIsImdldFRleHREaW1lbnNpb25zIiwiYmFzZVN0eWxlIiwiY2h1bmtzIiwid2lkdGhzIiwiaGVpZ2h0cyIsImxpbmVXaWR0aHMiLCJsaW5lV2lkdGgiLCJjdXJyZW50V2lkdGgiLCJjdXJyZW50SGVpZ2h0IiwiZHJhd0ltYWdlT3JMYWJlbCIsImxhYmVsT3JJbWFnZSIsIm9yaWdpblgiLCJvcmlnaW5ZIiwic2F2ZSIsImdsb2JhbEFscGhhIiwic2V0VHJhbnNmb3JtIiwiY29udGV4dEluc3RydWN0aW9ucyIsImV4ZWN1dGVMYWJlbEluc3RydWN0aW9ucyIsImRyYXdJbWFnZSIsInJlc3RvcmUiLCJMYXllclJlbmRlcmVyIiwiYm91bmRIYW5kbGVJbWFnZUNoYW5nZV8iLCJoYW5kbGVJbWFnZUNoYW5nZV8iLCJsYXllcl8iLCJkZWNsdXR0ZXJFeGVjdXRvckdyb3VwIiwibG9hZGVkVGlsZUNhbGxiYWNrIiwidGlsZXMiLCJjcmVhdGVMb2FkZWRUaWxlRmluZGVyIiwiZm9yRWFjaExvYWRlZFRpbGUiLCJnZXRMYXllciIsIkltYWdlU3RhdGUiLCJyZW5kZXJJZlJlYWR5QW5kVmlzaWJsZSIsImxvYWRJbWFnZSIsImltYWdlU3RhdGUiLCJFdmVudFR5cGUiLCJwaXhlbENvbnRleHQiLCJyZW5kZXJlZFJlc29sdXRpb24iLCJ0ZW1wVHJhbnNmb3JtIiwicGl4ZWxUcmFuc2Zvcm0iLCJjb250YWluZXJSZXVzZWQiLCJwaXhlbENvbnRleHRfIiwiZ2V0SW1hZ2VEYXRhIiwiY29sIiwicm93Iiwid2lsbFJlYWRGcmVxdWVudGx5IiwiZXJyIiwidXNlQ29udGFpbmVyIiwiYmFja2dyb3VuZENvbG9yIiwibGF5ZXJDbGFzc05hbWUiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIkhUTUxDYW52YXNFbGVtZW50IiwidHJhbnNmb3JtT3JpZ2luIiwiY2xpcFVucm90YXRlZCIsInRvcExlZnQiLCJ0b3BSaWdodCIsImJvdHRvbVJpZ2h0IiwiYm90dG9tTGVmdCIsImludmVydGVkIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiY2xpcCIsImRpc3BhdGNoUmVuZGVyRXZlbnRfIiwicHJlUmVuZGVyIiwicG9zdFJlbmRlciIsImdldFJlbmRlclRyYW5zZm9ybSIsInRpbGVMYXllciIsImV4dGVudENoYW5nZWQiLCJyZW5kZXJlZEV4dGVudF8iLCJyZW5kZXJlZFBpeGVsUmF0aW8iLCJyZW5kZXJlZFByb2plY3Rpb24iLCJyZW5kZXJlZFJldmlzaW9uIiwicmVuZGVyZWRUaWxlcyIsIm5ld1RpbGVzXyIsInRtcEV4dGVudCIsInRtcFRpbGVSYW5nZV8iLCJpc0RyYXdhYmxlVGlsZSIsInRpbGVTdGF0ZSIsImdldFRpbGUiLCJsYXllckV4dGVudCIsImdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiIsInRpbGVQaXhlbFJhdGlvIiwiZ2V0VGlsZVBpeGVsUmF0aW8iLCJnZXRaRm9yUmVzb2x1dGlvbiIsImdldFRpbGVDb29yZEZvckNvb3JkQW5kWiIsInRpbGVPcmlnaW4iLCJnZXRPcmlnaW4iLCJ0aWxlU2l6ZSIsImdldFRpbGVTaXplIiwiZ3V0dGVyIiwiZ2V0R3V0dGVyRm9yUHJvamVjdGlvbiIsInZpZXdSZXNvbHV0aW9uIiwidmlld0NlbnRlciIsInRpbGVTb3VyY2UiLCJzb3VyY2VSZXZpc2lvbiIsInpEaXJlY3Rpb24iLCJjYW52YXNFeHRlbnQiLCJnZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaIiwidGlsZXNUb0RyYXdCeVoiLCJmaW5kTG9hZGVkVGlsZXMiLCJ0bXBUaWxlUmFuZ2UiLCJ2aWV3cG9ydCIsInRpbGVDb29yZEludGVyc2VjdHNWaWV3cG9ydCIsInVpZCIsImNoaWxkVGlsZVJhbmdlIiwiZ2V0VGlsZUNvb3JkQ2hpbGRUaWxlUmFuZ2UiLCJjb3ZlcmVkIiwiZm9yRWFjaFRpbGVDb29yZFBhcmVudFRpbGVSYW5nZSIsImNhbnZhc1NjYWxlIiwiY2FudmFzVHJhbnNmb3JtIiwiZ2V0SW50ZXJwb2xhdGUiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJjbGlwcyIsImNsaXBacyIsImN1cnJlbnRDbGlwIiwienMiLCJnZXRPcGFxdWUiLCJyZXZlcnNlIiwiY3VycmVudFoiLCJjdXJyZW50VGlsZVBpeGVsU2l6ZSIsImdldFRpbGVQaXhlbFNpemUiLCJjdXJyZW50U2NhbGUiLCJvcmlnaW5UaWxlQ29vcmQiLCJvcmlnaW5UaWxlRXh0ZW50IiwiZ2V0VGlsZUNvb3JkRXh0ZW50Iiwib3JpZ2luIiwidGlsZUd1dHRlciIsInRpbGVzVG9EcmF3IiwidGlsZUNvb3JkS2V5IiwieEluZGV4IiwibmV4dFgiLCJ5SW5kZXgiLCJuZXh0WSIsImNvbnRleHRTYXZlZCIsImRyYXdUaWxlSW1hZ2UiLCJ1bnNoaWZ0IiwidXBkYXRlVXNlZFRpbGVzIiwibWFuYWdlVGlsZVB5cmFtaWQiLCJzY2hlZHVsZUV4cGlyZUNhY2hlIiwiZ2V0VGlsZUltYWdlIiwiYWxwaGEiLCJhbHBoYUNoYW5nZWQiLCJwb3N0UmVuZGVyRnVuY3Rpb24iLCJ0aWxlQ2FsbGJhY2siLCJ0aWxlQ291bnQiLCJnZXRUaWxlQ29vcmRDZW50ZXIiLCJ1c2VUaWxlIiwidXBkYXRlQ2FjaGVTaXplIiwiYnJva2VuRGlhZ29uYWxSZW5kZXJpbmdfIiwiZHJhd1Rlc3RUcmlhbmdsZSIsInUxIiwidjEiLCJ1MiIsInYyIiwiY2xvc2VQYXRoIiwidmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmciLCJjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uIiwidGFyZ2V0UHJvaiIsInRhcmdldE1ldGVyc1BlclVuaXQiLCJzb3VyY2VNZXRlcnNQZXJVbml0Iiwic291cmNlRXh0ZW50IiwiY29tcGVuc2F0aW9uRmFjdG9yIiwiaXNGaW5pdGUiLCJSZXByb2pUaWxlIiwic291cmNlVGlsZUdyaWQiLCJ0YXJnZXRUaWxlR3JpZCIsIndyYXBwZWRUaWxlQ29vcmQiLCJnZXRUaWxlRnVuY3Rpb24iLCJlcnJvclRocmVzaG9sZCIsInJlbmRlckVkZ2VzIiwicmVuZGVyRWRnZXNfIiwiZ3V0dGVyXyIsImNhbnZhc18iLCJzb3VyY2VUaWxlR3JpZF8iLCJ0YXJnZXRUaWxlR3JpZF8iLCJ3cmFwcGVkVGlsZUNvb3JkXyIsInNvdXJjZVRpbGVzXyIsInNvdXJjZXNMaXN0ZW5lcktleXNfIiwic291cmNlWl8iLCJ0YXJnZXRFeHRlbnQiLCJtYXhUYXJnZXRFeHRlbnQiLCJtYXhTb3VyY2VFeHRlbnQiLCJsaW1pdGVkVGFyZ2V0RXh0ZW50Iiwic291cmNlUHJvakV4dGVudCIsImNhbGN1bGF0ZVNvdXJjZUV4dGVudFJlc29sdXRpb24iLCJlcnJvclRocmVzaG9sZEluUGl4ZWxzIiwidHJpYW5ndWxhdGlvbl8iLCJkZXN0aW5hdGlvblJlc29sdXRpb24iLCJzb3VyY2VQcm9qXyIsInRhcmdldFByb2pfIiwidHJhbnNmb3JtSW52Q2FjaGUiLCJ0cmFuc2Zvcm1JbnYiLCJ0cmFuc2Zvcm1JbnZfIiwibWF4U291cmNlRXh0ZW50XyIsImVycm9yVGhyZXNob2xkU3F1YXJlZF8iLCJ0cmlhbmdsZXNfIiwid3JhcHNYSW5Tb3VyY2VfIiwiY2FuV3JhcFhJblNvdXJjZV8iLCJzb3VyY2VXb3JsZFdpZHRoXyIsInRhcmdldFdvcmxkV2lkdGhfIiwiZGVzdGluYXRpb25Ub3BMZWZ0IiwiZGVzdGluYXRpb25Ub3BSaWdodCIsImRlc3RpbmF0aW9uQm90dG9tUmlnaHQiLCJkZXN0aW5hdGlvbkJvdHRvbUxlZnQiLCJzb3VyY2VUb3BMZWZ0Iiwic291cmNlVG9wUmlnaHQiLCJzb3VyY2VCb3R0b21SaWdodCIsInNvdXJjZUJvdHRvbUxlZnQiLCJtYXhTdWJkaXZpc2lvbiIsImxvZzIiLCJhZGRRdWFkXyIsImxlZnRCb3VuZCIsInRyaWFuZ2xlIiwibmV3VHJpYW5nbGUiLCJhZGRUcmlhbmdsZV8iLCJhU3JjIiwiYlNyYyIsImNTcmMiLCJkU3JjIiwic291cmNlUXVhZEV4dGVudCIsInNvdXJjZUNvdmVyYWdlWCIsInNvdXJjZVdvcmxkV2lkdGgiLCJ3cmFwc1giLCJuZWVkc1N1YmRpdmlzaW9uIiwidGFyZ2V0UXVhZEV4dGVudCIsImlzTm90RmluaXRlIiwiY2VudGVyU3JjIiwiYmMiLCJiY1NyYyIsImRhIiwiZGFTcmMiLCJhYiIsImFiU3JjIiwiY2QiLCJjZFNyYyIsImNhbGN1bGF0ZVNvdXJjZUV4dGVudCIsImdldFRyaWFuZ2xlcyIsInNvdXJjZVJhbmdlIiwic3JjWCIsInNyY1kiLCJyZXByb2plY3RfIiwic291cmNlcyIsInRyaWFuZ3VsYXRpb24iLCJwaXhlbFJvdW5kIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwic291cmNlRGF0YUV4dGVudCIsImNhbnZhc1dpZHRoSW5Vbml0cyIsImNhbnZhc0hlaWdodEluVW5pdHMiLCJzdGl0Y2hDb250ZXh0Iiwic3RpdGNoU2NhbGUiLCJ4UG9zIiwieVBvcyIsInNyY1dpZHRoIiwic3JjSGVpZ2h0IiwidGFyZ2V0VG9wTGVmdCIsInUwIiwidjAiLCJzb3VyY2VOdW1lcmljYWxTaGlmdFgiLCJzb3VyY2VOdW1lcmljYWxTaGlmdFkiLCJhdWdtZW50ZWRNYXRyaXgiLCJhZmZpbmVDb2VmcyIsImlzQnJva2VuRGlhZ29uYWxSZW5kZXJpbmciLCJzdGVwcyIsInVkIiwidmQiLCJzdGVwIiwic3Ryb2tlU3R5bGUiLCJzdHJva2UiLCJsZWZ0VG9Mb2FkIiwic291cmNlTGlzdGVuS2V5IiwidW5saXN0ZW5Tb3VyY2VzXyIsImNyZWF0ZVNuYXBUb04iLCJjcmVhdGVTbmFwVG9aZXJvIiwiaGFzQXJlYSIsInRvU2l6ZSIsIlRpbGVEZWJ1ZyIsIm9wYXF1ZSIsInVybCIsInRlbXBsYXRlIiwic3Ryb2tlUmVjdCIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsInN0cm9rZVRleHQiLCJmaWxsVGV4dCIsIlRpbGVJbWFnZSIsImRlZmF1bHRUaWxlTG9hZEZ1bmN0aW9uIiwidGlsZVVybEZ1bmN0aW9uIiwidXJscyIsImF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlIiwidGlsZUNsYXNzIiwidGlsZUNhY2hlRm9yUHJvamVjdGlvbiIsInRpbGVHcmlkRm9yUHJvamVjdGlvbiIsInJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkXyIsInJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkIiwicmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfIiwidGlsZUNhY2hlIiwidXNlZFRpbGVDYWNoZSIsImdldFRpbGVDYWNoZUZvclByb2plY3Rpb24iLCJnZXRHdXR0ZXIiLCJ0aGlzUHJvaiIsInByb2pLZXkiLCJjcmVhdGVUaWxlXyIsInVybFRpbGVDb29yZCIsImdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbiIsInRpbGVVcmwiLCJ0aWxlT3B0aW9ucyIsImdldFRpbGVJbnRlcm5hbCIsIm5ld1RpbGUiLCJzZXRSZW5kZXJSZXByb2plY3Rpb25FZGdlcyIsInNldFRpbGVHcmlkRm9yUHJvamVjdGlvbiIsInRpbGVncmlkIiwicHJvaiIsImltYWdlVGlsZSIsIlNvdXJjZSIsImF0dHJpYnV0aW9uc18iLCJhZGFwdEF0dHJpYnV0aW9ucyIsImF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXyIsIndyYXBYXyIsImludGVycG9sYXRlXyIsInZpZXdSZXNvbHZlciIsInZpZXdSZWplY3RvciIsInZpZXdQcm9taXNlXyIsInJlamVjdCIsInJlZnJlc2giLCJzZXRBdHRyaWJ1dGlvbnMiLCJhdHRyaWJ1dGlvbkxpa2UiLCJUaWxlU291cmNlRXZlbnQiLCJvcGFxdWVfIiwidGlsZVBpeGVsUmF0aW9fIiwiVGlsZUNhY2hlIiwidG1wU2l6ZSIsInNldEtleSIsImdldFRpbGVHcmlkIiwiY3JlYXRlRnJvbVRlbXBsYXRlIiwielJlZ0V4IiwieFJlZ0V4IiwieVJlZ0V4IiwiZGFzaFlSZWdFeCIsInJhbmdlIiwiZ2V0RnVsbFRpbGVSYW5nZSIsIlVybFRpbGUiLCJnZW5lcmF0ZVRpbGVVcmxGdW5jdGlvbl8iLCJzZXRVcmxzIiwic2V0VXJsIiwidGlsZUxvYWRpbmdLZXlzXyIsImdldFRpbGVMb2FkRnVuY3Rpb24iLCJnZXRUaWxlVXJsRnVuY3Rpb24iLCJnZXRQcm90b3R5cGVPZiIsImdldFVybHMiLCJzZXRUaWxlTG9hZEZ1bmN0aW9uIiwic2V0VGlsZVVybEZ1bmN0aW9uIiwic3RhcnRDaGFyQ29kZSIsInN0b3BDaGFyQ29kZSIsInN0b3AiLCJleHBhbmRVcmwiLCJ0ZW1wbGF0ZXMiLCJ0aWxlVXJsRnVuY3Rpb25zIiwiY3JlYXRlRnJvbVRpbGVVcmxGdW5jdGlvbnMiLCJjcmVhdGVGcm9tVGVtcGxhdGVzIiwiZm9ybWF0IiwiZm9ybWF0XyIsImZlYXR1cmVzXyIsImxvYWRlcl8iLCJ1cmxfIiwiZ2V0Rm9ybWF0Iiwib25Mb2FkIiwic2V0RmVhdHVyZXMiLCJvbkVycm9yIiwic2V0TG9hZGVyIiwibG9hZGVyIiwiVmVjdG9yUmVuZGVyVGlsZSIsImdldFNvdXJjZVRpbGVzIiwiY29udGV4dF8iLCJleGVjdXRvckdyb3VwcyIsImRlY2x1dHRlckV4ZWN1dG9yR3JvdXBzIiwibG9hZGluZ1NvdXJjZVRpbGVzIiwiaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhIiwicmVwbGF5U3RhdGVfIiwic291cmNlVGlsZXMiLCJlcnJvclRpbGVLZXlzIiwid2FudGVkUmVzb2x1dGlvbiIsImhhc0NvbnRleHQiLCJnZXRSZXBsYXlTdGF0ZSIsImRpcnR5IiwicmVuZGVyZWRSZW5kZXJPcmRlciIsInJlbmRlcmVkVGlsZVJlc29sdXRpb24iLCJyZW5kZXJlZFRpbGVSZXZpc2lvbiIsInJlbmRlcmVkVGlsZVoiLCJ3aXRoQ3JlZGVudGlhbHMiLCJkZWZhdWx0TG9hZEZ1bmN0aW9uIiwic291cmNlVGlsZUNhY2hlIiwib3ZlcmxhcHNfIiwib3ZlcmxhcHMiLCJ0aWxlR3JpZHNfIiwiZ2V0RmVhdHVyZXNJbkV4dGVudCIsInNvdXJjZVRpbGUiLCJ0aWxlRmVhdHVyZXMiLCJjYW5kaWRhdGUiLCJnZXRPdmVybGFwcyIsInVzZWRTb3VyY2VUaWxlcyIsImFjYyIsImNhY2hlS2V5Iiwic291cmNlWiIsImZvckVhY2hUaWxlQ29vcmQiLCJzb3VyY2VUaWxlQ29vcmQiLCJzb3VyY2VUaWxlU3RhdGUiLCJsaXN0ZW5DaGFuZ2UiLCJzb3VyY2VUaWxlS2V5IiwiY29vcmRLZXkiLCJ0aWxlRXh0ZW50IiwiZW1wdHkiLCJvcmlnaW5zIiwidGlsZVNpemVzIiwiVGlsZUdyaWQiLCJzdWNjZXNzIiwiZmFpbHVyZSIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInJlc3BvbnNlVHlwZSIsIm9ubG9hZCIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsInJlc3BvbnNlWE1MIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwib25lcnJvciIsInNlbmQiLCJsb2FkRmVhdHVyZXNYaHIiLCJYWVoiLCJzaGFyZWQiLCJjYWNoZV8iLCJjYWNoZVNpemVfIiwibWF4Q2FjaGVTaXplXyIsImV4cGlyZSIsImljb25JbWFnZSIsIm1heENhY2hlU2l6ZSIsImdldEtleVpYWSIsImdldENhY2hlS2V5Rm9yVGlsZUtleSIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwiZnJvbUtleSIsImhhc2giLCJ3aXRoaW5FeHRlbnRBbmRaIiwiZ2V0Rm9yUHJvamVjdGlvbiIsInJlc29sdXRpb25zRnJvbUV4dGVudCIsImNyZWF0ZUZvckV4dGVudCIsImV4dGVudEZyb21Qcm9qZWN0aW9uIiwiY3JlYXRlRm9yUHJvamVjdGlvbiIsImNyZWF0ZVhZWiIsInh5ek9wdGlvbnMiLCJncmlkT3B0aW9ucyIsImhhbGYiLCJ0bXBUaWxlQ29vcmQiLCJvcmlnaW5fIiwib3JpZ2luc18iLCJ0aWxlU2l6ZXNfIiwidGlsZVNpemVfIiwiZnVsbFRpbGVSYW5nZXNfIiwidG1wU2l6ZV8iLCJ0bXBFeHRlbnRfIiwic2l6ZXMiLCJyZXN0cmljdGVkVGlsZVJhbmdlIiwiY2FsY3VsYXRlVGlsZVJhbmdlc18iLCJ0ZW1wVGlsZVJhbmdlIiwidGVtcEV4dGVudCIsInRpbGVDb29yZEV4dGVudCIsImdldFRpbGVSYW5nZUZvclRpbGVDb29yZEFuZFoiLCJ0aWxlQ29vcmRaIiwidGlsZUNvb3JkWCIsInRpbGVDb29yZFkiLCJnZXRUaWxlUmFuZ2VFeHRlbnQiLCJnZXRUaWxlQ29vcmRGb3JYWUFuZFpfIiwiZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRSZXNvbHV0aW9uIiwib3B0X3RpbGVDb29yZCIsImdldFRpbGVDb29yZEZvclhZQW5kUmVzb2x1dGlvbl8iLCJyZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5IiwiZ2V0VGlsZUNvb3JkUmVzb2x1dGlvbiIsIm9wdF9kaXJlY3Rpb24iLCJmdWxsVGlsZVJhbmdlcyIsIkRFRkFVTFRfTUFYX1pPT00iLCJERUZBVUxUX1RJTEVfU0laRSIsInRtcF8iLCJjcmVhdGUiLCJyZXNldCIsIm11bHRpcGx5IiwidHJhbnNmb3JtMSIsInRyYW5zZm9ybTIiLCJhMSIsImQxIiwiZTEiLCJmMSIsImEyIiwiZDIiLCJlMiIsImYyIiwic2V0RnJvbUFycmF5IiwiY29tcG9zZSIsIm1ha2VJbnZlcnNlIiwiZGV0IiwidHJhbnNmb3JtU3RyaW5nRGl2IiwidHJhbnNmb3JtU3RyaW5nIiwiYWJzdHJhY3QiLCJ1aWRDb3VudGVyXyIsImdldFVpZCIsIm9sX3VpZCIsInplcm8kMSIsImV4dHJhX2xiaXRzIiwiZXh0cmFfZGJpdHMiLCJleHRyYV9ibGJpdHMiLCJibF9vcmRlciIsInN0YXRpY19sdHJlZSIsInN0YXRpY19kdHJlZSIsIkRfQ09ERVMkMSIsIl9kaXN0X2NvZGUiLCJfbGVuZ3RoX2NvZGUiLCJNQVhfTUFUQ0gkMSIsImJhc2VfbGVuZ3RoIiwiYmFzZV9kaXN0IiwiU3RhdGljVHJlZURlc2MiLCJzdGF0aWNfdHJlZSIsImV4dHJhX2JpdHMiLCJleHRyYV9iYXNlIiwiZWxlbXMiLCJtYXhfbGVuZ3RoIiwiaGFzX3N0cmVlIiwic3RhdGljX2xfZGVzYyIsInN0YXRpY19kX2Rlc2MiLCJzdGF0aWNfYmxfZGVzYyIsIlRyZWVEZXNjIiwiZHluX3RyZWUiLCJzdGF0X2Rlc2MiLCJtYXhfY29kZSIsImRfY29kZSIsInB1dF9zaG9ydCIsInBlbmRpbmdfYnVmIiwicGVuZGluZyIsInNlbmRfYml0cyIsImJpX3ZhbGlkIiwiYmlfYnVmIiwic2VuZF9jb2RlIiwidHJlZSIsImJpX3JldmVyc2UiLCJnZW5fY29kZXMiLCJibF9jb3VudCIsIm5leHRfY29kZSIsIk1BWF9CSVRTJDEiLCJiaXRzIiwiaW5pdF9ibG9jayIsIkxJVEVSQUxTJDEiLCJkeW5fbHRyZWUiLCJkeW5fZHRyZWUiLCJibF90cmVlIiwiRU5EX0JMT0NLIiwib3B0X2xlbiIsInN0YXRpY19sZW4iLCJzeW1fbmV4dCIsImJpX3dpbmR1cCIsInNtYWxsZXIiLCJkZXB0aCIsIl9uMiIsIl9tMiIsInBxZG93bmhlYXAiLCJ2IiwiaGVhcCIsImhlYXBfbGVuIiwiY29tcHJlc3NfYmxvY2siLCJsdHJlZSIsImR0cmVlIiwibGMiLCJleHRyYSIsInN5bV9idWYiLCJidWlsZF90cmVlIiwiZGVzYyIsInN0cmVlIiwiaGVhcF9tYXgiLCJiYXNlIiwieGJpdHMiLCJnZW5fYml0bGVuIiwic2Nhbl90cmVlIiwiY3VybGVuIiwicHJldmxlbiIsIm5leHRsZW4iLCJtYXhfY291bnQiLCJtaW5fY291bnQiLCJSRVBfM182IiwiUkVQWl8zXzEwIiwiUkVQWl8xMV8xMzgiLCJzZW5kX3RyZWUiLCJzdGF0aWNfaW5pdF9kb25lIiwiX3RyX3N0b3JlZF9ibG9jayQxIiwic3RvcmVkX2xlbiIsInRyZWVzIiwiX3RyX2luaXQiLCJMRU5HVEhfQ09ERVMkMSIsIkxfQ09ERVMkMSIsInRyX3N0YXRpY19pbml0IiwibF9kZXNjIiwiZF9kZXNjIiwiYmxfZGVzYyIsIl90cl9zdG9yZWRfYmxvY2siLCJfdHJfZmx1c2hfYmxvY2siLCJvcHRfbGVuYiIsInN0YXRpY19sZW5iIiwibWF4X2JsaW5kZXgiLCJzdHJtIiwiZGF0YV90eXBlIiwiYmxvY2tfbWFzayIsImRldGVjdF9kYXRhX3R5cGUiLCJCTF9DT0RFUyQxIiwiYnVpbGRfYmxfdHJlZSIsInN0cmF0ZWd5IiwibGNvZGVzIiwiZGNvZGVzIiwiYmxjb2RlcyIsInJhbmsiLCJzZW5kX2FsbF90cmVlcyIsIl90cl90YWxseSIsInN5bV9lbmQiLCJfdHJfYWxpZ24iLCJTVEFUSUNfVFJFRVMiLCJiaV9mbHVzaCIsImFkbGVyMzJfMSIsImFkbGVyIiwiczEiLCJzMiIsImNyY1RhYmxlIiwiVWludDMyQXJyYXkiLCJ0YWJsZSIsIm1ha2VUYWJsZSIsImNyYzMyXzEiLCJjcmMiLCJjb25zdGFudHMkMiIsIlpfTk9fRkxVU0giLCJaX1BBUlRJQUxfRkxVU0giLCJaX1NZTkNfRkxVU0giLCJaX0ZVTExfRkxVU0giLCJaX0ZJTklTSCIsIlpfQkxPQ0siLCJaX1RSRUVTIiwiWl9PSyIsIlpfU1RSRUFNX0VORCIsIlpfTkVFRF9ESUNUIiwiWl9FUlJOTyIsIlpfU1RSRUFNX0VSUk9SIiwiWl9EQVRBX0VSUk9SIiwiWl9NRU1fRVJST1IiLCJaX0JVRl9FUlJPUiIsIlpfTk9fQ09NUFJFU1NJT04iLCJaX0JFU1RfU1BFRUQiLCJaX0JFU1RfQ09NUFJFU1NJT04iLCJaX0RFRkFVTFRfQ09NUFJFU1NJT04iLCJaX0ZJTFRFUkVEIiwiWl9IVUZGTUFOX09OTFkiLCJaX1JMRSIsIlpfRklYRUQiLCJaX0RFRkFVTFRfU1RSQVRFR1kiLCJaX0JJTkFSWSIsIlpfVEVYVCIsIlpfVU5LTk9XTiIsIlpfREVGTEFURUQiLCJaX05PX0ZMVVNIJDIiLCJaX0ZVTExfRkxVU0gkMSIsIlpfRklOSVNIJDMiLCJaX0JMT0NLJDEiLCJaX09LJDMiLCJaX1NUUkVBTV9FTkQkMyIsIlpfU1RSRUFNX0VSUk9SJDIiLCJaX0RBVEFfRVJST1IkMiIsIlpfQlVGX0VSUk9SJDEiLCJaX0RFRkFVTFRfQ09NUFJFU1NJT04kMSIsIlpfREVGQVVMVF9TVFJBVEVHWSQxIiwiWl9ERUZMQVRFRCQyIiwiTF9DT0RFUyIsIkxJVEVSQUxTIiwiRF9DT0RFUyIsIkJMX0NPREVTIiwiSEVBUF9TSVpFIiwiTUFYX0JJVFMiLCJNQVhfTUFUQ0giLCJNSU5fTE9PS0FIRUFEIiwiSU5JVF9TVEFURSIsIkJVU1lfU1RBVEUiLCJGSU5JU0hfU1RBVEUiLCJtc2ciLCJ6ZXJvIiwic2xpZGVfaGFzaCIsIndzaXplIiwid19zaXplIiwiaGFzaF9zaXplIiwiaGVhZCIsIkhBU0giLCJoYXNoX3NoaWZ0IiwiaGFzaF9tYXNrIiwiZmx1c2hfcGVuZGluZyIsImF2YWlsX291dCIsInBlbmRpbmdfb3V0IiwibmV4dF9vdXQiLCJ0b3RhbF9vdXQiLCJmbHVzaF9ibG9ja19vbmx5IiwiYmxvY2tfc3RhcnQiLCJzdHJzdGFydCIsInB1dF9ieXRlIiwicHV0U2hvcnRNU0IiLCJyZWFkX2J1ZiIsImF2YWlsX2luIiwibmV4dF9pbiIsIndyYXAiLCJ0b3RhbF9pbiIsImxvbmdlc3RfbWF0Y2giLCJjdXJfbWF0Y2giLCJjaGFpbl9sZW5ndGgiLCJtYXhfY2hhaW5fbGVuZ3RoIiwic2NhbiIsImJlc3RfbGVuIiwicHJldl9sZW5ndGgiLCJuaWNlX21hdGNoIiwibGltaXQiLCJfd2luIiwid21hc2siLCJ3X21hc2siLCJzdHJlbmQiLCJzY2FuX2VuZDEiLCJzY2FuX2VuZCIsImdvb2RfbWF0Y2giLCJsb29rYWhlYWQiLCJtYXRjaF9zdGFydCIsImZpbGxfd2luZG93IiwiX3dfc2l6ZSIsIndpbmRvd19zaXplIiwiaW5zZXJ0IiwiaW5zX2giLCJkZWZsYXRlX3N0b3JlZCIsImZsdXNoIiwiaGF2ZSIsIm1pbl9ibG9jayIsInBlbmRpbmdfYnVmX3NpemUiLCJ1c2VkIiwiaGlnaF93YXRlciIsImRlZmxhdGVfZmFzdCIsImhhc2hfaGVhZCIsImJmbHVzaCIsIm1hdGNoX2xlbmd0aCIsIm1heF9sYXp5X21hdGNoIiwiTUlOX01BVENIIiwiZGVmbGF0ZV9zbG93IiwibWF4X2luc2VydCIsInByZXZfbWF0Y2giLCJtYXRjaF9hdmFpbGFibGUiLCJDb25maWciLCJnb29kX2xlbmd0aCIsIm1heF9sYXp5IiwibmljZV9sZW5ndGgiLCJtYXhfY2hhaW4iLCJjb25maWd1cmF0aW9uX3RhYmxlIiwiRGVmbGF0ZVN0YXRlIiwiZ3poZWFkIiwiZ3ppbmRleCIsIm1ldGhvZCIsImxhc3RfZmx1c2giLCJ3X2JpdHMiLCJoYXNoX2JpdHMiLCJVaW50MTZBcnJheSIsImxpdF9idWZzaXplIiwiZGVmbGF0ZVN0YXRlQ2hlY2siLCJkZWZsYXRlUmVzZXRLZWVwIiwiZGVmbGF0ZVJlc2V0IiwiZGVmbGF0ZUluaXQyIiwid2luZG93Qml0cyIsIm1lbUxldmVsIiwiZGVmbGF0ZV8xJDIiLCJkZWZsYXRlSW5pdCIsImRlZmxhdGVTZXRIZWFkZXIiLCJkZWZsYXRlIiwib2xkX2ZsdXNoIiwiaGVhZGVyIiwibGV2ZWxfZmxhZ3MiLCJoY3JjIiwiY29tbWVudCIsIm9zIiwiYmVnIiwiY29weSIsImd6aGVhZF9leHRyYSIsImJzdGF0ZSIsImRlZmxhdGVfaHVmZiIsImRlZmxhdGVfcmxlIiwiZGVmbGF0ZUVuZCIsImRlZmxhdGVTZXREaWN0aW9uYXJ5IiwiZGljdGlvbmFyeSIsImRpY3RMZW5ndGgiLCJ0bXBEaWN0IiwiYXZhaWwiLCJuZXh0IiwiZGVmbGF0ZUluZm8iLCJfaGFzIiwiY29tbW9uIiwiVHlwZUVycm9yIiwiZmxhdHRlbkNodW5rcyIsImNodW5rIiwiU1RSX0FQUExZX1VJQV9PSyIsIl9fIiwiX3V0ZjhsZW4iLCJxIiwic3RyaW5ncyIsInN0cmluZzJidWYiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsIm1fcG9zIiwic3RyX2xlbiIsImJ1Zl9sZW4iLCJidWYyc3RyaW5nIiwidXRmMTZidWYiLCJjX2xlbiIsImJ1ZjJiaW5zdHJpbmciLCJ1dGY4Ym9yZGVyIiwienN0cmVhbSIsInRvU3RyaW5nJDEiLCJaX05PX0ZMVVNIJDEiLCJaX0ZJTklTSCQyIiwiWl9PSyQyIiwiWl9TVFJFQU1fRU5EJDIiLCJaX0RFRkxBVEVEJDEiLCJEZWZsYXRlJDEiLCJjaHVua1NpemUiLCJvcHQiLCJyYXciLCJnemlwIiwiZW5kZWQiLCJkaWN0IiwiX2RpY3Rfc2V0IiwiZGVmbGF0ZSQxIiwiZGVmbGF0b3IiLCJmbHVzaF9tb2RlIiwiX2ZsdXNoX21vZGUiLCJvbkRhdGEiLCJvbkVuZCIsImRlZmxhdGVfMSQxIiwiRGVmbGF0ZSIsImRlZmxhdGVSYXciLCJjb25zdGFudHMiLCJCQUQkMSIsImluZmZhc3QiLCJfaW4iLCJfb3V0IiwiZG1heCIsIndoYXZlIiwid25leHQiLCJzX3dpbmRvdyIsImhvbGQiLCJsY29kZSIsImRjb2RlIiwibG1hc2siLCJkbWFzayIsImhlcmUiLCJvcCIsImZyb20iLCJmcm9tX3NvdXJjZSIsImxlbmNvZGUiLCJkaXN0Y29kZSIsImxlbmJpdHMiLCJkaXN0Yml0cyIsImRvbGVuIiwibW9kZSIsImRvZGlzdCIsInNhbmUiLCJsYmFzZSIsImxleHQiLCJkYmFzZSIsImRleHQiLCJpbmZ0cmVlcyIsImxlbnMiLCJsZW5zX2luZGV4IiwiY29kZXMiLCJ0YWJsZV9pbmRleCIsIndvcmsiLCJvcHRzIiwiaW5jciIsImZpbGwiLCJtYXNrIiwic3ltIiwicm9vdCIsImRyb3AiLCJodWZmIiwiTUFYQklUUyIsIm9mZnMiLCJoZXJlX2JpdHMiLCJoZXJlX29wIiwiaGVyZV92YWwiLCJaX0ZJTklTSCQxIiwiWl9PSyQxIiwiWl9TVFJFQU1fRU5EJDEiLCJaX05FRURfRElDVCQxIiwiWl9TVFJFQU1fRVJST1IkMSIsIlpfREFUQV9FUlJPUiQxIiwiWl9NRU1fRVJST1IkMSIsIkhFQUQiLCJESUNUIiwiVFlQRSIsIlRZUEVETyIsIkNPUFlfIiwiTEVOXyIsIkxFTiIsIkNIRUNLIiwiQkFEIiwienN3YXAzMiIsIkluZmxhdGVTdGF0ZSIsImhhdmVkaWN0IiwiZmxhZ3MiLCJ0b3RhbCIsIndiaXRzIiwibmNvZGUiLCJubGVuIiwibmRpc3QiLCJsZW5keW4iLCJkaXN0ZHluIiwiYmFjayIsIndhcyIsImluZmxhdGVTdGF0ZUNoZWNrIiwiaW5mbGF0ZVJlc2V0S2VlcCIsIkludDMyQXJyYXkiLCJpbmZsYXRlUmVzZXQiLCJpbmZsYXRlUmVzZXQyIiwiaW5mbGF0ZUluaXQyIiwibGVuZml4IiwiZGlzdGZpeCIsInZpcmdpbiIsImZpeGVkdGFibGVzIiwidXBkYXRld2luZG93IiwiaW5mbGF0ZV8xJDIiLCJpbmZsYXRlSW5pdCIsInB1dCIsImxhc3RfYml0cyIsImxhc3Rfb3AiLCJsYXN0X3ZhbCIsImhidWYiLCJpbmZfbGVhdmUiLCJ4ZmxhZ3MiLCJleHRyYV9sZW4iLCJpbmZsYXRlRW5kIiwiaW5mbGF0ZUdldEhlYWRlciIsImluZmxhdGVTZXREaWN0aW9uYXJ5IiwiZGljdGlkIiwiaW5mbGF0ZUluZm8iLCJnemhlYWRlciIsIkluZmxhdGUkMSIsInRvIiwiaW5mbGF0ZSQxIiwiaW5mbGF0b3IiLCJsYXN0X2F2YWlsX291dCIsIm5leHRfb3V0X3V0ZjgiLCJ0YWlsIiwidXRmOHN0ciIsImluZmxhdGVfMSQxIiwiSW5mbGF0ZSIsImluZmxhdGVSYXciLCJ1bmd6aXAiLCJwYWtvIiwiX3NjcmlwdERpciIsIl9hIiwic3FsaXRlM0luaXRNb2R1bGUiLCJyZWFkeVByb21pc2VSZXNvbHZlIiwicmVhZHlQcm9taXNlUmVqZWN0IiwiTW9kdWxlIiwic3FsaXRlM0luaXRNb2R1bGVTdGF0ZSIsImdsb2JhbFRoaXMiLCJkZWJ1Z01vZHVsZSIsImxvY2F0aW9uIiwieE5hbWVPZkluc3RhbnRpYXRlV2FzbSIsImNhbGxlZSIsImltcG9ydHMiLCJvblN1Y2Nlc3MiLCJlbnYiLCJmb28iLCJ1cmkiLCJsb2NhdGVGaWxlIiwic2NyaXB0RGlyZWN0b3J5Iiwid2ZldGNoIiwiZmV0Y2giLCJjcmVkZW50aWFscyIsIldlYkFzc2VtYmx5IiwiaW5zdGFudGlhdGVTdHJlYW1pbmciLCJhc3luYyIsImFyZyIsImluc3RhbmNlIiwicmVzcG9uc2UiLCJhcnJheUJ1ZmZlciIsImJ5dGVzIiwiaW5zdGFudGlhdGUiLCJyZWFkXyIsInJlYWRBc3luYyIsInJlYWRCaW5hcnkiLCJtb2R1bGVPdmVycmlkZXMiLCJ0aGlzUHJvZ3JhbSIsIkVOVklST05NRU5UX0lTX1dFQiIsIkVOVklST05NRU5UX0lTX1dPUktFUiIsImltcG9ydFNjcmlwdHMiLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJocmVmIiwiY3VycmVudFNjcmlwdCIsIndhc21CaW5hcnkiLCJ3YXNtTWVtb3J5IiwiYWJvcnQiLCJBQk9SVCIsIkhFQVA4IiwiSEVBUFU4IiwiSEVBUDE2IiwiSEVBUDMyIiwiSEVBUFUzMiIsIlVURjhEZWNvZGVyIiwiVVRGOEFycmF5VG9TdHJpbmciLCJoZWFwT3JBcnJheSIsImlkeCIsIm1heEJ5dGVzVG9SZWFkIiwiZW5kSWR4IiwiZW5kUHRyIiwiY2giLCJzdHJpbmdUb1VURjhBcnJheSIsIm91dElkeCIsIm1heEJ5dGVzVG9Xcml0ZSIsInN0YXJ0SWR4IiwidSIsInN0cmluZ1RvVVRGOCIsIm91dFB0ciIsImxlbmd0aEJ5dGVzVVRGOCIsInVwZGF0ZU1lbW9yeVZpZXdzIiwiSW50OEFycmF5IiwiSW50MTZBcnJheSIsIkZsb2F0MzJBcnJheSIsIkZsb2F0NjRBcnJheSIsIkJpZ0ludDY0QXJyYXkiLCJCaWdVaW50NjRBcnJheSIsIklOSVRJQUxfTUVNT1JZIiwiTWVtb3J5IiwiYnl0ZUxlbmd0aCIsIl9fQVRQUkVSVU5fXyIsIl9fQVRJTklUX18iLCJfX0FUUE9TVFJVTl9fIiwicnVuRGVwZW5kZW5jaWVzIiwicnVuRGVwZW5kZW5jeVdhdGNoZXIiLCJkZXBlbmRlbmNpZXNGdWxmaWxsZWQiLCJhZGRSdW5EZXBlbmRlbmN5IiwicmVtb3ZlUnVuRGVwZW5kZW5jeSIsIndoYXQiLCJSdW50aW1lRXJyb3IiLCJ3YXNtQmluYXJ5RmlsZSIsInBhdGgiLCJ0ZW1wRG91YmxlIiwidGVtcEk2NCIsImRhdGFVUklQcmVmaXgiLCJpc0RhdGFVUkkiLCJmaWxlbmFtZSIsImdldEJpbmFyeSIsImZpbGUiLCJpbnN0YW50aWF0ZUFycmF5QnVmZmVyIiwiYmluYXJ5RmlsZSIsInJlY2VpdmVyIiwiZ2V0QmluYXJ5UHJvbWlzZSIsImJpbmFyeSIsInJlYXNvbiIsImNhbGxSdW50aW1lQ2FsbGJhY2tzIiwiY2FsbGJhY2tzIiwiVVJMIiwiUEFUSCIsImlzQWJzIiwiY2hhckF0Iiwic3BsaXRQYXRoIiwibm9ybWFsaXplQXJyYXkiLCJwYXJ0cyIsImFsbG93QWJvdmVSb290IiwidXAiLCJpc0Fic29sdXRlIiwidHJhaWxpbmdTbGFzaCIsImRpcm5hbWUiLCJkaXIiLCJiYXNlbmFtZSIsImxhc3RTbGFzaCIsInBhdGhzIiwiam9pbjIiLCJQQVRIX0ZTIiwicmVzb2x2ZWRQYXRoIiwicmVzb2x2ZWRBYnNvbHV0ZSIsIkZTIiwiY3dkIiwicmVsYXRpdmUiLCJ0cmltIiwiZnJvbVBhcnRzIiwidG9QYXJ0cyIsInNhbWVQYXJ0c0xlbmd0aCIsIm91dHB1dFBhcnRzIiwiY29uY2F0IiwiaW50QXJyYXlGcm9tU3RyaW5nIiwic3RyaW5neSIsImRvbnRBZGROdWxsIiwidThhcnJheSIsIm51bUJ5dGVzV3JpdHRlbiIsIlRUWSIsInR0eXMiLCJpbml0Iiwic2h1dGRvd24iLCJyZWdpc3RlciIsImRldiIsIm9wcyIsInJlZ2lzdGVyRGV2aWNlIiwic3RyZWFtX29wcyIsInN0cmVhbSIsInR0eSIsInJkZXYiLCJFcnJub0Vycm9yIiwic2Vla2FibGUiLCJjbG9zZSIsImZzeW5jIiwiZ2V0X2NoYXIiLCJieXRlc1JlYWQiLCJ0aW1lc3RhbXAiLCJwdXRfY2hhciIsImRlZmF1bHRfdHR5X29wcyIsInByb21wdCIsInJlYWRsaW5lIiwiZGVmYXVsdF90dHkxX29wcyIsIm1tYXBBbGxvYyIsIk1FTUZTIiwib3BzX3RhYmxlIiwibW91bnQiLCJjcmVhdGVOb2RlIiwiaXNCbGtkZXYiLCJpc0ZJRk8iLCJnZXRhdHRyIiwibm9kZV9vcHMiLCJzZXRhdHRyIiwibWtub2QiLCJyZW5hbWUiLCJ1bmxpbmsiLCJybWRpciIsInJlYWRkaXIiLCJzeW1saW5rIiwibGxzZWVrIiwiYWxsb2NhdGUiLCJtbWFwIiwibXN5bmMiLCJsaW5rIiwicmVhZGxpbmsiLCJjaHJkZXYiLCJjaHJkZXZfc3RyZWFtX29wcyIsImlzRGlyIiwiY29udGVudHMiLCJpc0ZpbGUiLCJ1c2VkQnl0ZXMiLCJpc0xpbmsiLCJpc0NocmRldiIsImdldEZpbGVEYXRhQXNUeXBlZEFycmF5IiwiZXhwYW5kRmlsZVN0b3JhZ2UiLCJuZXdDYXBhY2l0eSIsInByZXZDYXBhY2l0eSIsIm9sZENvbnRlbnRzIiwicmVzaXplRmlsZVN0b3JhZ2UiLCJuZXdTaXplIiwiYXR0ciIsImlubyIsIm5saW5rIiwiZ2lkIiwiYXRpbWUiLCJtdGltZSIsImN0aW1lIiwiYmxrc2l6ZSIsImJsb2NrcyIsImdlbmVyaWNFcnJvcnMiLCJvbGRfbm9kZSIsIm5ld19kaXIiLCJuZXdfbmFtZSIsIm5ld19ub2RlIiwibG9va3VwTm9kZSIsImVudHJpZXMiLCJuZXduYW1lIiwib2xkcGF0aCIsImNhbk93biIsIndoZW5jZSIsInByb3QiLCJwdHIiLCJhbGxvY2F0ZWQiLCJieXRlT2Zmc2V0IiwibW1hcEZsYWdzIiwibW91bnRzIiwiZGV2aWNlcyIsInN0cmVhbXMiLCJuZXh0SW5vZGUiLCJuYW1lVGFibGUiLCJjdXJyZW50UGF0aCIsImluaXRpYWxpemVkIiwiaWdub3JlUGVybWlzc2lvbnMiLCJmaWxlc3lzdGVtcyIsInN5bmNGU1JlcXVlc3RzIiwibG9va3VwUGF0aCIsImZvbGxvd19tb3VudCIsInJlY3Vyc2VfY291bnQiLCJjdXJyZW50IiwiY3VycmVudF9wYXRoIiwiaXNsYXN0IiwiaXNNb3VudHBvaW50IiwibW91bnRlZCIsImZvbGxvdyIsImdldFBhdGgiLCJpc1Jvb3QiLCJtb3VudHBvaW50IiwiaGFzaE5hbWUiLCJwYXJlbnRpZCIsImhhc2hBZGROb2RlIiwibmFtZV9uZXh0IiwiaGFzaFJlbW92ZU5vZGUiLCJlcnJDb2RlIiwibWF5TG9va3VwIiwibm9kZU5hbWUiLCJGU05vZGUiLCJkZXN0cm95Tm9kZSIsImlzU29ja2V0IiwiZmxhZ01vZGVzIiwibW9kZVN0cmluZ1RvRmxhZ3MiLCJmbGFnc1RvUGVybWlzc2lvblN0cmluZyIsImZsYWciLCJwZXJtcyIsIm5vZGVQZXJtaXNzaW9ucyIsIm1heUNyZWF0ZSIsIm1heURlbGV0ZSIsImlzZGlyIiwiZXJybm8iLCJtYXlPcGVuIiwiTUFYX09QRU5fRkRTIiwibmV4dGZkIiwiZmRfc3RhcnQiLCJmZF9lbmQiLCJmZCIsImdldFN0cmVhbSIsImNyZWF0ZVN0cmVhbSIsIkZTU3RyZWFtIiwiZGVmaW5lUHJvcGVydGllcyIsImlzUmVhZCIsImlzV3JpdGUiLCJpc0FwcGVuZCIsImNsb3NlU3RyZWFtIiwiZGV2aWNlIiwiZ2V0RGV2aWNlIiwibWFqb3IiLCJtaW5vciIsIm1ha2VkZXYiLCJtYSIsIm1pIiwiZ2V0TW91bnRzIiwic3luY2ZzIiwicG9wdWxhdGUiLCJjb21wbGV0ZWQiLCJkb0NhbGxiYWNrIiwiZXJyb3JlZCIsInBzZXVkbyIsIm1vdW50Um9vdCIsInVubW91bnQiLCJta2RpciIsIm1rZGlyVHJlZSIsImRpcnMiLCJta2RldiIsIm5ld3BhdGgiLCJvbGRfcGF0aCIsIm5ld19wYXRoIiwib2xkX2RpciIsIm9sZF9kaXJuYW1lIiwibmV3X2Rpcm5hbWUiLCJvbGRfbmFtZSIsInN0YXQiLCJkb250Rm9sbG93IiwibHN0YXQiLCJjaG1vZCIsImxjaG1vZCIsImZjaG1vZCIsImNob3duIiwibGNob3duIiwiZmNob3duIiwidHJ1bmNhdGUiLCJmdHJ1bmNhdGUiLCJ1dGltZSIsImNyZWF0ZWQiLCJ1bmdvdHRlbiIsInJlYWRGaWxlcyIsImlzQ2xvc2VkIiwiZ2V0ZGVudHMiLCJzZWVraW5nIiwiYnl0ZXNXcml0dGVuIiwibXVubWFwIiwiaW9jdGwiLCJyZWFkRmlsZSIsImVuY29kaW5nIiwid3JpdGVGaWxlIiwiYWN0dWFsTnVtQnl0ZXMiLCJjaGRpciIsImNyZWF0ZURlZmF1bHREaXJlY3RvcmllcyIsImNyZWF0ZURlZmF1bHREZXZpY2VzIiwicmFuZG9tX2RldmljZSIsImNyeXB0byIsInJhbmRvbUJ1ZmZlciIsImdldFJhbmRvbVZhbHVlcyIsImdldFJhbmRvbURldmljZSIsImNyZWF0ZURldmljZSIsImNyZWF0ZVNwZWNpYWxEaXJlY3RvcmllcyIsInByb2Nfc2VsZiIsImNyZWF0ZVN0YW5kYXJkU3RyZWFtcyIsImVuc3VyZUVycm5vRXJyb3IiLCJzZXRFcnJubyIsInN0YXRpY0luaXQiLCJxdWl0IiwiZ2V0TW9kZSIsImNhblJlYWQiLCJjYW5Xcml0ZSIsImZpbmRPYmplY3QiLCJkb250UmVzb2x2ZUxhc3RMaW5rIiwiYW5hbHl6ZVBhdGgiLCJleGlzdHMiLCJwYXJlbnRFeGlzdHMiLCJwYXJlbnRQYXRoIiwicGFyZW50T2JqZWN0IiwiY3JlYXRlUGF0aCIsInBhcnQiLCJjcmVhdGVGaWxlIiwiY3JlYXRlRGF0YUZpbGUiLCJmb3JjZUxvYWRGaWxlIiwiaXNEZXZpY2UiLCJpc0ZvbGRlciIsImNyZWF0ZUxhenlGaWxlIiwiTGF6eVVpbnQ4QXJyYXkiLCJsZW5ndGhLbm93biIsImNodW5rT2Zmc2V0IiwiY2h1bmtOdW0iLCJzZXREYXRhR2V0dGVyIiwiY2FjaGVMZW5ndGgiLCJkYXRhbGVuZ3RoIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJoYXNCeXRlU2VydmluZyIsInVzZXNHemlwIiwibGF6eUFycmF5Iiwic2V0UmVxdWVzdEhlYWRlciIsIm92ZXJyaWRlTWltZVR5cGUiLCJkb1hIUiIsIl9sZW5ndGgiLCJfY2h1bmtTaXplIiwid3JpdGVDaHVua3MiLCJjcmVhdGVQcmVsb2FkZWRGaWxlIiwiZG9udENyZWF0ZUZpbGUiLCJwcmVGaW5pc2giLCJmdWxsbmFtZSIsInByb2Nlc3NEYXRhIiwiYnl0ZUFycmF5IiwiQnJvd3NlciIsImhhbmRsZWRCeVByZWxvYWRQbHVnaW4iLCJub1J1bkRlcCIsImRlcCIsImFzeW5jTG9hZCIsImluZGV4ZWREQiIsIm1vekluZGV4ZWREQiIsIndlYmtpdEluZGV4ZWREQiIsIm1zSW5kZXhlZERCIiwiREJfTkFNRSIsInBhdGhuYW1lIiwiREJfVkVSU0lPTiIsIkRCX1NUT1JFX05BTUUiLCJzYXZlRmlsZXNUb0RCIiwib3BlblJlcXVlc3QiLCJvbnVwZ3JhZGVuZWVkZWQiLCJjcmVhdGVPYmplY3RTdG9yZSIsIm9uc3VjY2VzcyIsInRyYW5zYWN0aW9uIiwiZmlsZXMiLCJvYmplY3RTdG9yZSIsIm9rIiwiZmFpbCIsInB1dFJlcXVlc3QiLCJsb2FkRmlsZXNGcm9tREIiLCJkYiIsImdldFJlcXVlc3QiLCJTWVNDQUxMUyIsIkRFRkFVTFRfUE9MTE1BU0siLCJjYWxjdWxhdGVBdCIsImRpcmZkIiwiYWxsb3dFbXB0eSIsImdldFN0cmVhbUZyb21GRCIsImRvU3RhdCIsImdldFRpbWUiLCJkb01zeW5jIiwiYWRkciIsInZhcmFyZ3MiLCJnZXRTdHIiLCJVVEY4VG9TdHJpbmciLCJNQVhfSU5UNTMiLCJNSU5fSU5UNTMiLCJiaWdpbnRUb0k1M0NoZWNrZWQiLCJyZWFkSTUzRnJvbUk2NCIsIl9lbXNjcmlwdGVuX2dldF9ub3ciLCJfX01PTlRIX0RBWVNfTEVBUF9DVU1VTEFUSVZFIiwiX19NT05USF9EQVlTX1JFR1VMQVJfQ1VNVUxBVElWRSIsImFsbG9jYXRlVVRGOCIsIl9tYWxsb2MiLCJlbXNjcmlwdGVuX3JlYWxsb2NfYnVmZmVyIiwiZ3JvdyIsInBlcmZvcm1hbmNlIiwiRU5WIiwiZ2V0RW52U3RyaW5ncyIsImxhbmd1YWdlcyIsImNhbGxlZFJ1biIsIndhc21JbXBvcnRzIiwiYW1vZGUiLCJvd25lciIsIl9fX2Vycm5vX2xvY2F0aW9uIiwiY3dkTGVuZ3RoSW5CeXRlcyIsImFyZ3AiLCJub2ZvbGxvdyIsImJ1ZnNpemUiLCJlbmRDaGFyIiwidGltZXMiLCJzZWNvbmRzIiwibmFub3NlY29uZHMiLCJ0bVB0ciIsImRhdGUiLCJnZXRTZWNvbmRzIiwiZ2V0TWludXRlcyIsImdldEhvdXJzIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJnZXREYXkiLCJ5ZGF5IiwieWVhciIsIl9feWRheV9mcm9tX2RhdGUiLCJnZXRUaW1lem9uZU9mZnNldCIsInN1bW1lck9mZnNldCIsIndpbnRlck9mZnNldCIsImRzdCIsInRpbWV6b25lIiwiZGF5bGlnaHQiLCJ0em5hbWUiLCJjdXJyZW50WWVhciIsIndpbnRlciIsInN1bW1lciIsInN0ZFRpbWV6b25lT2Zmc2V0IiwiZXh0cmFjdFpvbmUiLCJ0b1RpbWVTdHJpbmciLCJ3aW50ZXJOYW1lIiwic3VtbWVyTmFtZSIsIndpbnRlck5hbWVQdHIiLCJzdW1tZXJOYW1lUHRyIiwicmVxdWVzdGVkU2l6ZSIsIm1heEhlYXBTaXplIiwiY3V0RG93biIsIm92ZXJHcm93bkhlYXBTaXplIiwiX19lbnZpcm9uIiwiZW52aXJvbl9idWYiLCJidWZTaXplIiwic3RyaW5nIiwid3JpdGVBc2NpaVRvTWVtb3J5IiwicGVudmlyb25fY291bnQiLCJwZW52aXJvbl9idWZfc2l6ZSIsInBidWYiLCJpb3YiLCJpb3ZjbnQiLCJwbnVtIiwiZG9SZWFkdiIsIm5ld09mZnNldCIsImRvV3JpdGV2IiwicmVjZWl2ZUluc3RhbmNlIiwiY2IiLCJjcmVhdGVXYXNtIiwicnVuIiwiZG9SdW4iLCJwb3N0UnVuIiwicHJlUnVuIiwicnVuQ2FsbGVyIiwic3FsaXRlM0FwaUJvb3RzdHJhcCIsImFwaUNvbmZpZyIsInNxbGl0ZTNBcGlDb25maWciLCJkZWZhdWx0Q29uZmlnIiwic3FsaXRlMyIsImNvbmZpZyIsIm1lbW9yeSIsImJpZ0ludEVuYWJsZWQiLCJIRUFQVTY0IiwiZGVidWciLCJ3YXNtZnNPcGZzRGlyIiwidXNlU3RkQWxsb2MiLCJhbGxvY0V4cG9ydE5hbWUiLCJkZWFsbG9jRXhwb3J0TmFtZSIsInJlYWxsb2NFeHBvcnROYW1lIiwid2FzbU9wZnNEaXIiLCJjYXBpIiwid2FzbSIsIl9fcmNTdHIiLCJyYyIsInNxbGl0ZTNfanNfcmNfc3RyIiwiU1FMaXRlM0Vycm9yIiwicmNTdHIiLCJyZXN1bHRDb2RlIiwiU1FMSVRFX0VSUk9SIiwidG9zcyIsInRvc3MzIiwiaXNJbnQzMiIsIl9fU0FCIiwiU2hhcmVkQXJyYXlCdWZmZXIiLCJpc1NoYXJlZFR5cGVkQXJyYXkiLCJhVHlwZWRBcnJheSIsInR5cGVkQXJyYXlQYXJ0IiwiaXNCaW5kYWJsZVR5cGVkQXJyYXkiLCJpc1NRTGFibGVUeXBlZEFycmF5IiwiYWZmaXJtQmluZGFibGVUeXBlZEFycmF5IiwidXRmOERlY29kZXIiLCJ0eXBlZEFycmF5VG9TdHJpbmciLCJ0eXBlZEFycmF5IiwiV2FzbUFsbG9jRXJyb3IiLCJTUUxJVEVfTk9NRU0iLCJzcWxpdGUzX2JpbmRfYmxvYiIsInNxbGl0ZTNfYmluZF90ZXh0Iiwic3FsaXRlM19jcmVhdGVfZnVuY3Rpb25fdjIiLCJwRGIiLCJmdW5jTmFtZSIsIm5BcmciLCJlVGV4dFJlcCIsInBBcHAiLCJ4RnVuYyIsInhTdGVwIiwieEZpbmFsIiwieERlc3Ryb3kiLCJzcWxpdGUzX2NyZWF0ZV9mdW5jdGlvbiIsInNxbGl0ZTNfY3JlYXRlX3dpbmRvd19mdW5jdGlvbiIsInhWYWx1ZSIsInhJbnZlcnNlIiwic3FsaXRlM19wcmVwYXJlX3YzIiwiZGJQdHIiLCJzcWwiLCJzcWxCeXRlTGVuIiwicHJlcEZsYWdzIiwic3RtdFB0clB0ciIsInN0clB0clB0ciIsInNxbGl0ZTNfcHJlcGFyZV92MiIsInNxbGl0ZTNfZXhlYyIsInBWb2lkIiwicEVyck1zZyIsInNxbGl0ZTNfcmFuZG9tbmVzcyIsInV0aWwiLCJmbGV4aWJsZVN0cmluZyIsImlzUHRyIiwiY3N0clRvSnMiLCJiaWdJbnRGaXRzMzIiLCJiaWdJbnRGaXRzNjQiLCJfbWF4IiwiQmlnSW50IiwiX21pbiIsImJpZ0ludEZpdHNEb3VibGUiLCJNSU5fU0FGRV9JTlRFR0VSIiwiTUFYX1NBRkVfSU5URUdFUiIsImlzVHlwZWRBcnJheSIsIkJZVEVTX1BFUl9FTEVNRU5UIiwiaXNVSVRocmVhZCIsInB0clNpemVvZiIsIndhc21QdHJTaXplb2YiLCJwdHJJUiIsIndhc21QdHJJUiIsImFsbG9jIiwiZGVhbGxvYyIsImFsbG9jRnJvbVR5cGVkQXJyYXkiLCJzcmNUeXBlZEFycmF5IiwicFJldCIsImhlYXBGb3JTaXplIiwia2V5QWxsb2MiLCJrZXlEZWFsbG9jIiwia2V5UmVhbGxvYyIsIkZ1bmN0aW9uIiwiaW1wbCIsIm0yIiwiX193YXNtZnNPcGZzRGlyIiwiY29tcGlsZU9wdGlvblVzZWQiLCJvcHROYW1lIiwiX3Jlc3VsdCIsIl9vcHQiLCJfcngiLCJfcnhJbnQiLCJydiIsIm92Iiwic3FsaXRlM19jb21waWxlb3B0aW9uX2dldCIsInNxbGl0ZTNfY29tcGlsZW9wdGlvbl91c2VkIiwicHN0YWNrIiwic3FsaXRlM193YXNtX3BzdGFja19yZXN0b3JlIiwic2l6ZW9mSVIiLCJzcWxpdGUzX3dhc21fcHN0YWNrX2FsbG9jIiwiYWxsb2NDaHVua3MiLCJzeiIsIm1lbSIsImFsbG9jUHRyIiwic2FmZVB0clNpemUiLCJwb2ludGVyIiwiY29uZmlndXJhYmxlIiwiaXRlcmFibGUiLCJ3cml0ZWFibGUiLCJzcWxpdGUzX3dhc21fcHN0YWNrX3B0ciIsInF1b3RhIiwic3FsaXRlM193YXNtX3BzdGFja19xdW90YSIsInJlbWFpbmluZyIsInNxbGl0ZTNfd2FzbV9wc3RhY2tfcmVtYWluaW5nIiwidGEiLCJoZWFwOHUiLCJuQWxsb2MiLCJzcWxpdGUzX3dhc21mc19vcGZzX2RpciIsInBkaXIiLCJGaWxlU3lzdGVtSGFuZGxlIiwiRmlsZVN5c3RlbURpcmVjdG9yeUhhbmRsZSIsIkZpbGVTeXN0ZW1GaWxlSGFuZGxlIiwieENhbGxXcmFwcGVkIiwic3FsaXRlM193YXNtZnNfZmlsZW5hbWVfaXNfcGVyc2lzdGVudCIsInNxbGl0ZTNfanNfZGJfdXNlc192ZnMiLCJ2ZnNOYW1lIiwiZGJOYW1lIiwicEsiLCJzcWxpdGUzX3Zmc19maW5kIiwic3FsaXRlM19qc19kYl92ZnMiLCJzcWxpdGUzX2pzX3Zmc19saXN0IiwicFZmcyIsIm9WZnMiLCJzcWxpdGUzX3ZmcyIsIiR6TmFtZSIsIiRwTmV4dCIsInNxbGl0ZTNfanNfZGJfZXhwb3J0Iiwic2NoZW1hIiwieFdyYXAiLCJ0ZXN0Q29udmVydEFyZyIsInNjb3BlIiwic2NvcGVkQWxsb2NQdXNoIiwicE91dCIsInBTaXplIiwic2NvcGVkQWxsb2MiLCJwcE91dCIsInpTY2hlbWEiLCJzY29wZWRBbGxvY0NTdHJpbmciLCJzcWxpdGUzX3dhc21fZGJfc2VyaWFsaXplIiwicGVla1B0ciIsIm5PdXQiLCJzcWxpdGUzX2ZyZWUiLCJzY29wZWRBbGxvY1BvcCIsImRiUG9pbnRlciIsInNxbGl0ZTNfd2FzbV9kYl92ZnMiLCJzcWxpdGUzX2pzX2FnZ3JlZ2F0ZV9jb250ZXh0IiwicEN0eCIsInNxbGl0ZTNfYWdncmVnYXRlX2NvbnRleHQiLCJzcWxpdGUzX2pzX3Zmc19jcmVhdGVfZmlsZSIsInZmcyIsImRhdGFMZW4iLCJwRGF0YSIsInNxbGl0ZTNfd2FzbV92ZnNfY3JlYXRlX2ZpbGUiLCJfX2t2dmZzSW5mbyIsIndoaWNoIiwicHJlZml4Iiwic3RvcmVzIiwic2Vzc2lvblN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2UiLCJzcWxpdGUzX2pzX2t2dmZzX2NsZWFyIiwia3ZpbmZvIiwidG9SbSIsImtrIiwicmVtb3ZlSXRlbSIsInNxbGl0ZTNfanNfa3Z2ZnNfc2l6ZSIsImdldEl0ZW0iLCJzcWxpdGUzX2RiX2NvbmZpZyIsInBpaSIsImlwIiwiU1FMSVRFX0RCQ09ORklHX0VOQUJMRV9GS0VZIiwiU1FMSVRFX0RCQ09ORklHX0VOQUJMRV9UUklHR0VSIiwiU1FMSVRFX0RCQ09ORklHX0VOQUJMRV9GVFMzX1RPS0VOSVpFUiIsIlNRTElURV9EQkNPTkZJR19FTkFCTEVfTE9BRF9FWFRFTlNJT04iLCJTUUxJVEVfREJDT05GSUdfTk9fQ0tQVF9PTl9DTE9TRSIsIlNRTElURV9EQkNPTkZJR19FTkFCTEVfUVBTRyIsIlNRTElURV9EQkNPTkZJR19UUklHR0VSX0VRUCIsIlNRTElURV9EQkNPTkZJR19SRVNFVF9EQVRBQkFTRSIsIlNRTElURV9EQkNPTkZJR19ERUZFTlNJVkUiLCJTUUxJVEVfREJDT05GSUdfV1JJVEFCTEVfU0NIRU1BIiwiU1FMSVRFX0RCQ09ORklHX0xFR0FDWV9BTFRFUl9UQUJMRSIsIlNRTElURV9EQkNPTkZJR19EUVNfRE1MIiwiU1FMSVRFX0RCQ09ORklHX0RRU19EREwiLCJTUUxJVEVfREJDT05GSUdfRU5BQkxFX1ZJRVciLCJTUUxJVEVfREJDT05GSUdfTEVHQUNZX0ZJTEVfRk9STUFUIiwiU1FMSVRFX0RCQ09ORklHX1RSVVNURURfU0NIRU1BIiwiU1FMSVRFX0RCQ09ORklHX0xPT0tBU0lERSIsIlNRTElURV9EQkNPTkZJR19NQUlOREJOQU1FIiwiU1FMSVRFX01JU1VTRSIsInNxbGl0ZTNfdmFsdWVfdG9fanMiLCJwVmFsIiwidGhyb3dJZkNhbm5vdENvbnZlcnQiLCJ2YWxUeXBlIiwic3FsaXRlM192YWx1ZV90eXBlIiwiU1FMSVRFX0lOVEVHRVIiLCJzcWxpdGUzX3ZhbHVlX2ludDY0Iiwic3FsaXRlM192YWx1ZV9kb3VibGUiLCJTUUxJVEVfRkxPQVQiLCJTUUxJVEVfVEVYVCIsInNxbGl0ZTNfdmFsdWVfdGV4dCIsIlNRTElURV9CTE9CIiwic3FsaXRlM192YWx1ZV9ieXRlcyIsInBCbG9iIiwic3FsaXRlM192YWx1ZV9ibG9iIiwiU1FMSVRFX05VTEwiLCJTUUxJVEVfTUlTTUFUQ0giLCJzcWxpdGUzX3ZhbHVlc190b19qcyIsImFyZ2MiLCJwQXJndiIsInRndCIsInNxbGl0ZTNfcmVzdWx0X2Vycm9yX2pzIiwic3FsaXRlM19yZXN1bHRfZXJyb3Jfbm9tZW0iLCJzcWxpdGUzX3Jlc3VsdF9lcnJvciIsInNxbGl0ZTNfcmVzdWx0X2pzIiwic3FsaXRlM19yZXN1bHRfaW50Iiwic3FsaXRlM19yZXN1bHRfZG91YmxlIiwic3FsaXRlM19yZXN1bHRfaW50NjQiLCJpc0ludGVnZXIiLCJhbGxvY0NTdHJpbmciLCJzcWxpdGUzX3Jlc3VsdF90ZXh0IiwiU1FMSVRFX1dBU01fREVBTExPQyIsInNxbGl0ZTNfcmVzdWx0X251bGwiLCJzcWxpdGUzX3Jlc3VsdF9ibG9iIiwic3FsaXRlM19jb2x1bW5fanMiLCJwU3RtdCIsImlDb2wiLCJzcWxpdGUzX2NvbHVtbl92YWx1ZSIsIl9fbmV3T2xkVmFsdWUiLCJwT2JqIiwicG9rZVB0ciIsInB2Iiwic3FsaXRlM19wcmV1cGRhdGVfbmV3X2pzIiwic3FsaXRlM19wcmV1cGRhdGVfb2xkX2pzIiwic3FsaXRlM2NoYW5nZXNldF9uZXdfanMiLCJwQ2hhbmdlc2V0SXRlciIsInNxbGl0ZTNjaGFuZ2VzZXRfb2xkX2pzIiwiY2xpZW50IiwiYXN5bmNQb3N0SW5pdCIsImxpcCIsImluaXRpYWxpemVyc0FzeW5jIiwicG9zdEluaXQiLCJfX2lzVW5kZXJUZXN0IiwiU3RydWN0QmluZGVyIiwic2NyaXB0SW5mbyIsImluaXRpYWxpemVycyIsIldoV2FzbVV0aWxJbnN0YWxsZXIiLCJlbnVtZXJhYmxlIiwicG9pbnRlcklSIiwiaGVhcFNpemUiLCJmcmVlRnVuY0luZGV4ZXMiLCJ1dGY4RW5jb2RlciIsImVuZHNXaXRoIiwiaGVhcFdyYXBwZXJzIiwiSEVBUDhVIiwiSEVBUDE2VSIsIkhFQVAzMlUiLCJIRUFQNjQiLCJIRUFQNjRVIiwiSEVBUDMyRiIsIkhFQVA2NEYiLCJoZWFwOCIsImhlYXAxNiIsImhlYXAxNnUiLCJoZWFwMzIiLCJoZWFwMzJ1IiwidW5zaWduZWQiLCJmdW5jdGlvblRhYmxlIiwiX19pbmRpcmVjdF9mdW5jdGlvbl90YWJsZSIsImZ1bmN0aW9uRW50cnkiLCJmcHRyIiwiZnQiLCJqc0Z1bmNUb1dhc20iLCJzaWciLCJfIiwic2lnVHlwZXMiLCJQIiwidHlwZUNvZGVzIiwiZjY0IiwiZjMyIiwiaTY0IiwiaTMyIiwidWxlYjEyOEVuY29kZSIsInJ4SlNpZyIsInNpZ1BhcmFtcyIsImxldHRlclR5cGUiLCJwdXNoU2lnVHlwZSIsImxldHRlciIsIndhc21Db2RlIiwiSW5zdGFuY2UiLCJfX2luc3RhbGxGdW5jdGlvbiIsInNjb3BlZCIsIm9sZExlbiIsImluc3RhbGxGdW5jdGlvbiIsInNjb3BlZEluc3RhbGxGdW5jdGlvbiIsInVuaW5zdGFsbEZ1bmN0aW9uIiwiZmkiLCJsaXN0IiwicG9rZSIsInBlZWs4IiwicG9rZTgiLCJwZWVrMTYiLCJwb2tlMTYiLCJwZWVrMzIiLCJwb2tlMzIiLCJwZWVrNjQiLCJwb2tlNjQiLCJwZWVrMzJmIiwicG9rZTMyZiIsInBlZWs2NGYiLCJwb2tlNjRmIiwiZ2V0TWVtVmFsdWUiLCJnZXRQdHJWYWx1ZSIsInNldE1lbVZhbHVlIiwic2V0UHRyVmFsdWUiLCJpc1B0cjMyIiwiY3N0cmxlbiIsImpzdHJsZW4iLCJqc3RyY3B5IiwianN0ciIsIm1heEJ5dGVzIiwiYWRkTnVsIiwiY3N0cm5jcHkiLCJ0Z3RQdHIiLCJzcmNQdHIiLCJzdHJQdHIiLCJqc3RyVG9VaW50QXJyYXkiLCJfX2FmZmlybUFsbG9jIiwiX19hbGxvY0NTdHIiLCJyZXR1cm5XaXRoTGVuZ3RoIiwiYWxsb2NhdG9yIiwiX19hbGxvY01haW5Bcmd2IiwiaXNTY29wZWQiLCJwTGlzdCIsInNjb3BlZEFsbG9jTWFpbkFyZ3YiLCJhbGxvY01haW5Bcmd2IiwiY0FyZ3ZUb0pzIiwic2NvcGVkQWxsb2NDYWxsIiwiX19hbGxvY1B0ciIsImhvd01hbnkiLCJwSXIiLCJzY29wZWRBbGxvY1B0ciIsInhHZXQiLCJfX2FyZ2NNaXNtYXRjaCIsInhDYWxsIiwiZm5hbWUiLCJ4QXJnIiwieFJlc3VsdCIsIl9feEFyZ1B0ciIsInZhbHVlT2YiLCJjb3B5VG9SZXN1bHQiLCJhZGFwdFB0ciIsIl9feEFyZ1N0cmluZyIsIkpTT04iLCJwYXJzZSIsIkFic3RyYWN0QXJnQWRhcHRlciIsImNvbnZlcnRBcmciLCJhcmd2IiwiYXJnSW5kZXgiLCJGdW5jUHRyQWRhcHRlciIsIndhcm5PblVzZSIsInNpZ25hdHVyZSIsImNvbnRleHRLZXkiLCJiaW5kU2NvcGUiLCJiaW5kU2NvcGVzIiwiYmluZE1vZCIsImlzVHJhbnNpZW50IiwiaXNDb250ZXh0IiwiaXNQZXJtYW5lbnQiLCJzaW5nbGV0b24iLCJjYWxsUHJveHkiLCJzdGF0aWMiLCJjb250ZXh0TWFwIiwiY20iLCJfX2NtYXAiLCJwYWlyIiwiZnAiLCJkZWJ1Z0Z1bmNJbnN0YWxsIiwiZGVidWdPdXQiLCJfX3hBcmdBZGFwdGVyQ2hlY2siLCJfX3hSZXN1bHRBZGFwdGVyQ2hlY2siLCJjb252ZXJ0QXJnTm9DaGVjayIsImNvbnZlcnRSZXN1bHQiLCJjb252ZXJ0UmVzdWx0Tm9DaGVjayIsImZBcmciLCJyZXN1bHRUeXBlIiwiYXJnVHlwZXMiLCJmSXNGdW5jIiwieGYiLCJjeHciLCJfX3hBZGFwdGVyIiwidHlwZU5hbWUiLCJhZGFwdGVyIiwibW9kZU5hbWUiLCJ4Y3ZQYXJ0IiwicmVzdWx0QWRhcHRlciIsImFyZ0FkYXB0ZXIiLCJ0ZXN0Q29udmVydFJlc3VsdCIsInlhd2wiLCJ3dWkiLCJmaW5hbFRoZW4iLCJ3YXNtVXRpbFRhcmdldCIsIm1hbGxvYyIsImZyZWUiLCJKYWNjd2FieXQiLCJTdHJ1Y3RCaW5kZXJGYWN0b3J5IiwiU0JGIiwibWVtYmVyUHJlZml4IiwibWVtYmVyU3VmZml4IiwiZGVidWdGbGFncyIsIl9fbWFrZURlYnVnRmxhZ3MiLCJkZXJpdmVGcm9tIiwiX19mbGFncyIsInNldHRlciIsIl9mbGFncyIsIndyaXRhYmxlIiwiaXNMaXR0bGVFbmRpYW4iLCJEYXRhVmlldyIsInNldEludDE2Iiwic2lnTGV0dGVyIiwiaXNGdW5jU2lnIiwic2lnSVIiLCJhZmZpcm1CaWdJbnRBcnJheSIsInNQcm9wTmFtZSIsIl9faW5zdGFuY2VQb2ludGVyTWFwIiwiV2Vha01hcCIsInhQdHJQcm9wTmFtZSIsIl9fZnJlZVN0cnVjdCIsImN0b3IiLCJkZWxldGUiLCJvbmRpc3Bvc2UiLCJTdHJ1Y3RUeXBlIiwic3RydWN0TmFtZSIsInN0cnVjdEluZm8iLCJzaXplb2YiLCJyb3AiLCJfX2FsbG9jU3RydWN0IiwiX19tZW1iZXJLZXlQcm9wIiwiX19sb29rdXBNZW1iZXIiLCJtZW1iZXJOYW1lIiwidG9zc0lmTm90Rm91bmQiLCJtZW1iZXJzIiwiX19tZW1iZXJTaWduYXR1cmUiLCJlbXNjcmlwdGVuRm9ybWF0IiwiX19wdHJQcm9wRGVzY3JpcHRvciIsIl9fc3RydWN0TWVtYmVyS2V5cyIsIm1lbWJlcktleSIsIl9fdXRmOERlY29kZXIiLCJfX3V0ZjhFbmNvZGVyIiwiX19hZmZpcm1DU3RyaW5nU2lnbmF0dXJlIiwibWVtYmVyIiwic3RyaW5naWZ5IiwiX19hZGRPbkRpc3Bvc2UiLCJfX2FsbG9jQ1N0cmluZyIsImxvb2t1cE1lbWJlciIsIm1lbWJlclRvSnNTdHJpbmciLCJfX21lbWJlclRvSnNTdHJpbmciLCJtZW1iZXJJc1N0cmluZyIsIl9fbWVtYmVySXNTdHJpbmciLCJtZW1iZXJLZXlzIiwibWVtYmVyU2lnbmF0dXJlIiwibWVtb3J5RHVtcCIsInNldE1lbWJlckNTdHJpbmciLCJfX3NldE1lbWJlckNTdHJpbmciLCJhZGRPbkRpc3Bvc2UiLCJpc0EiLCJoYXNFeHRlcm5hbFBvaW50ZXIiLCJpc051bWVyaWNWYWx1ZSIsIm1ha2VNZW1iZXJXcmFwcGVyIiwiZGVzY3IiLCJnZXR0ZXJzIiwic2V0dGVycyIsInN3Iiwic2lnRFZHZXR0ZXIiLCJzaWdEVlNldHRlciIsInNpZ0RWU2V0V3JhcHBlciIsInJ4U2lnMSIsInJ4U2lnMiIsInNpZ0NoZWNrIiwic2lnR2x5cGgiLCJ4UHJvcE5hbWUiLCJkYmciLCJwcm9wIiwicHJvcE5hbWUiLCJyZWFkT25seSIsImxhc3RNZW1iZXIiLCJTdHJ1Y3RDdG9yIiwiZXh0ZXJuYWxNZW1vcnkiLCJtZXRob2RJbmZvRm9yS2V5IiwibUtleSIsImJpbmRpbmdTaWduYXR1cmVzIiwiYU5hbWVzIiwibkNvbHMiLCJwQ29sVmFscyIsInBDb2xOYW1lcyIsImFWYWxzIiwicFYiLCJpQ29kZSIsInMwIiwiczMiLCJzcWxpdGUzX2FjdGl2YXRlX3NlZSIsImludDY0IiwiekRiIiwielRibCIsImlLZXkxIiwiaUtleTIiLCJ6MCIsInoxIiwicm93aWQiLCJzcWxpdGUzY2hhbmdlZ3JvdXBfYWRkIiwiX19pcHNQcm94eSIsIl9feFN0cmluZyIsIm5pbFR5cGUiLCJvbzEiLCJTdG10IiwiREIiLCJzcWxpdGUzX2luZGV4X2luZm8iLCJzcWxpdGUzX21vZHVsZSIsIlNRTElURV9OT1RGT1VORCIsIl9feFJjUHRyIiwiZkk2NERpc2FibGVkIiwic3FsaXRlM193YXNtX2RiX2Vycm9yIiwiX19kYl9lcnIiLCJjSnNvbiIsImN0eXBlIiwiZGVmaW5lR3JvdXBzIiwiX19yY01hcCIsIm5vdFRoZXNlIiwiV2FzbVRlc3RTdHJ1Y3QiLCJzcWxpdGUzX2t2dmZzX21ldGhvZHMiLCJzcWxpdGUzX2luZGV4X2NvbnN0cmFpbnQiLCJzcWxpdGUzX2luZGV4X29yZGVyYnkiLCJzcWxpdGUzX2luZGV4X2NvbnN0cmFpbnRfdXNhZ2UiLCJzdHJ1Y3RzIiwic3FsaXRlM192dGFiX2NvbmZpZyIsIl9fZGJBcmdjTWlzbWF0Y2giLCJfX2VyckVuY29kaW5nIiwiU1FMSVRFX0ZPUk1BVCIsIl9fYXJnUERiIiwiX19hcmdTdHIiLCJfX2RiQ2xlYW51cE1hcCIsImRiTWFwIiwiYWRkQ29sbGF0aW9uIiwiY29sbGF0aW9uIiwiU2V0IiwiX2FkZFVERiIsImFyaXR5IiwiYWRkRnVuY3Rpb24iLCJ1ZGYiLCJhZGRXaW5kb3dGdW5jIiwid3VkZiIsImNsZWFudXAiLCJjbG9zZUFyZ3MiLCJzcWxpdGUzX2NyZWF0ZV9jb2xsYXRpb25fdjIiLCJTUUxJVEVfVVRGOCIsImZtYXAiLCJhcml0aWVzIiwiZmFyZ3MiLCJfX3NxbGl0ZTNDbG9zZVYyIiwic3FsaXRlM19jbG9zZV92MiIsInNxbGl0ZTNzZXNzaW9uX3RhYmxlX2ZpbHRlciIsIl9fc3FsaXRlM1Nlc3Npb25EZWxldGUiLCJzcWxpdGUzc2Vzc2lvbl9kZWxldGUiLCJwU2Vzc2lvbiIsIl9fc3FsaXRlM0NyZWF0ZUNvbGxhdGlvblYyIiwiek5hbWUiLCJwQXJnIiwieENvbXBhcmUiLCJzcWxpdGUzX2NyZWF0ZV9jb2xsYXRpb24iLCJfX2NmUHJveHkiLCJ4SW52ZXJzZUFuZFN0ZXAiLCJ4RmluYWxBbmRWYWx1ZSIsIl9fc3FsaXRlM0NyZWF0ZUZ1bmN0aW9uIiwiX19zcWxpdGUzQ3JlYXRlV2luZG93RnVuY3Rpb24iLCJ1ZGZTZXRSZXN1bHQiLCJ1ZGZDb252ZXJ0QXJncyIsInVkZlNldEVycm9yIiwiX19mbGV4aVN0cmluZyIsIl9fcHJlcGFyZSIsImJhc2ljIiwiZnVsbCIsInNxbExlbiIsInBwU3RtdCIsInB6VGFpbCIsInhTcWwiLCJ4U3FsTGVuIiwiX19iaW5kVGV4dCIsIl9fYmluZEJsb2IiLCJuVGV4dCIsInNxbGl0ZTNfZGJfaGFuZGxlIiwicE1lbSIsIm5NZW0iLCJzcWxpdGUzX2NvbmZpZyIsIlNRTElURV9DT05GSUdfQ09WRVJJTkdfSU5ERVhfU0NBTiIsIlNRTElURV9DT05GSUdfTUVNU1RBVFVTIiwiU1FMSVRFX0NPTkZJR19TTUFMTF9NQUxMT0MiLCJTUUxJVEVfQ09ORklHX1NPUlRFUlJFRl9TSVpFIiwiU1FMSVRFX0NPTkZJR19TVE1USlJOTF9TUElMTCIsIlNRTElURV9DT05GSUdfVVJJIiwic3FsaXRlM193YXNtX2NvbmZpZ19pIiwiU1FMSVRFX0NPTkZJR19MT09LQVNJREUiLCJzcWxpdGUzX3dhc21fY29uZmlnX2lpIiwiU1FMSVRFX0NPTkZJR19NRU1EQl9NQVhTSVpFIiwic3FsaXRlM193YXNtX2NvbmZpZ19qIiwiU1FMSVRFX0NPTkZJR19HRVRNQUxMT0MiLCJTUUxJVEVfQ09ORklHX0dFVE1VVEVYIiwiU1FMSVRFX0NPTkZJR19HRVRQQ0FDSEUyIiwiU1FMSVRFX0NPTkZJR19HRVRQQ0FDSEUiLCJTUUxJVEVfQ09ORklHX0hFQVAiLCJTUUxJVEVfQ09ORklHX0xPRyIsIlNRTElURV9DT05GSUdfTUFMTE9DIiwiU1FMSVRFX0NPTkZJR19NTUFQX1NJWkUiLCJTUUxJVEVfQ09ORklHX01VTFRJVEhSRUFEIiwiU1FMSVRFX0NPTkZJR19NVVRFWCIsIlNRTElURV9DT05GSUdfUEFHRUNBQ0hFIiwiU1FMSVRFX0NPTkZJR19QQ0FDSEUyIiwiU1FMSVRFX0NPTkZJR19QQ0FDSEUiLCJTUUxJVEVfQ09ORklHX1BDQUNIRV9IRFJTWiIsIlNRTElURV9DT05GSUdfUE1BU1oiLCJTUUxJVEVfQ09ORklHX1NFUklBTElaRUQiLCJTUUxJVEVfQ09ORklHX1NJTkdMRVRIUkVBRCIsIlNRTElURV9DT05GSUdfU1FMTE9HIiwiU1FMSVRFX0NPTkZJR19XSU4zMl9IRUFQU0laRSIsIl9fYXV0b0V4dEZwdHIiLCJzcWxpdGUzX2F1dG9fZXh0ZW5zaW9uIiwiZlB0ciIsInNxbGl0ZTNfY2FuY2VsX2F1dG9fZXh0ZW5zaW9uIiwic3FsaXRlM19yZXNldF9hdXRvX2V4dGVuc2lvbiIsInBLdnZmcyIsImt2dmZzTWV0aG9kcyIsInNxbGl0ZTNfd2FzbV9rdnZmc19tZXRob2RzIiwia3Z2ZnNNYWtlS2V5Iiwic3FsaXRlM193YXNtX2t2dmZzTWFrZUtleU9uUHN0YWNrIiwia3Z2ZnNTdG9yYWdlIiwiekNsYXNzIiwia3Z2ZnNJbXBscyIsInhSZWFkIiwiektleSIsInpCdWYiLCJuQnVmIiwiYXN0YWNrIiwielhLZXkiLCJqS2V5IiwialYiLCJuViIsInpWIiwiY29weVdpdGhpbiIsInhXcml0ZSIsInpEYXRhIiwic2V0SXRlbSIsIlNRTElURV9JT0VSUiIsInhEZWxldGUiLCJzcWxpdGUzX3Zmc191bnJlZ2lzdGVyIiwiX19wdHJNYXAiLCJfX3N0bXRNYXAiLCJnZXRPd25PcHRpb24iLCJkZmx0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiY2hlY2tTcWxpdGUzUmMiLCJzcWxpdGVSZXN1bHRDb2RlIiwic3FsaXRlM19lcnJtc2ciLCJzcWxpdGUzX2VycnN0ciIsIl9fZGJUcmFjZVRvQ29uc29sZSIsIlNRTElURV9UUkFDRV9TVE1UIiwiY291bnRlciIsIl9fdmZzUG9zdE9wZW5TcWwiLCJkYkN0b3JIZWxwZXIiLCJfbmFtZTJ2ZnMiLCJpc1dvcmtlclRocmVhZCIsIm5vcm1hbGl6ZUFyZ3MiLCJmbGFnc1N0ciIsImZuSnMiLCJ2ZnNDaGVjayIsIm9mbGFncyIsIlNRTElURV9PUEVOX0NSRUFURSIsIlNRTElURV9PUEVOX1JFQURXUklURSIsIlNRTElURV9PUEVOX1JFQURPTkxZIiwiU1FMSVRFX09QRU5fRVhSRVNDT0RFIiwicFB0ciIsInNxbGl0ZTNfb3Blbl92MiIsInNxbGl0ZTNfZXh0ZW5kZWRfcmVzdWx0X2NvZGVzIiwic3FsaXRlM190cmFjZV92MiIsInBvc3RJbml0U3FsIiwic2V0VmZzUG9zdE9wZW5TcWwiLCJCaW5kVHlwZXMiLCJudWxsIiwibnVtYmVyIiwiYm9vbGVhbiIsImJsb2IiLCJiaWdpbnQiLCJjb2x1bW5Db3VudCIsInNxbGl0ZTNfY29sdW1uX2NvdW50IiwicGFyYW1ldGVyQ291bnQiLCJzcWxpdGUzX2JpbmRfcGFyYW1ldGVyX2NvdW50IiwiYWZmaXJtRGJPcGVuIiwiYWZmaXJtQ29sSW5kZXgiLCJzdG10IiwibmR4IiwicGFyc2VFeGVjQXJncyIsInJlc3VsdFJvd3MiLCJyZXR1cm5WYWwiLCJzYXZlU3FsIiwicm93TW9kZSIsImNiQXJnIiwiJGNvbE5hbWUiLCJfX3NlbGVjdEZpcnN0Um93IiwiZ2V0QXJncyIsInByZXBhcmUiLCJmaW5hbGl6ZSIsIl9fc2VsZWN0QWxsIiwiY2hlY2tSYyIsImlzT3BlbiIsImFmZmlybU9wZW4iLCJvbmNsb3NlIiwiYmVmb3JlIiwiYWZ0ZXIiLCJjaGFuZ2VzIiwic2l4dHlGb3VyIiwic3FsaXRlM190b3RhbF9jaGFuZ2VzNjQiLCJzcWxpdGUzX3RvdGFsX2NoYW5nZXMiLCJzcWxpdGUzX2NoYW5nZXM2NCIsInNxbGl0ZTNfY2hhbmdlcyIsImRiRmlsZW5hbWUiLCJzcWxpdGUzX2RiX2ZpbGVuYW1lIiwiZGJOdW1iZXIiLCJzcWxpdGUzX2RiX25hbWUiLCJkYlZmc05hbWUiLCJldmFsRmlyc3RSZXN1bHQiLCJjb2x1bW5OYW1lcyIsImlzVEEiLCJwU3FsIiwicFNxbEVuZCIsInNxbGl0ZTNfc3FsIiwiZ2V0Q29sdW1uTmFtZXMiLCJfaXNMb2NrZWQiLCJjcmVhdGVGdW5jdGlvbiIsImlzRnVuYyIsImlzV2luZG93IiwiZkZsYWdzIiwiU1FMSVRFX0RFVEVSTUlOSVNUSUMiLCJTUUxJVEVfRElSRUNUT05MWSIsIlNRTElURV9JTk5PQ1VPVVMiLCJ4QXJpdHkiLCJhcml0eUFyZyIsInNlbGVjdFZhbHVlIiwiYXNUeXBlIiwic2VsZWN0VmFsdWVzIiwic2VsZWN0QXJyYXkiLCJzZWxlY3RPYmplY3QiLCJzZWxlY3RBcnJheXMiLCJzZWxlY3RPYmplY3RzIiwib3BlblN0YXRlbWVudENvdW50Iiwib3BlbmVyIiwic2F2ZXBvaW50IiwiYWZmaXJtU3RtdE9wZW4iLCJhZmZpcm1TdXBwb3J0ZWRCaW5kVHlwZSIsImlzU3VwcG9ydGVkQmluZFR5cGUiLCJhZmZpcm1VbmxvY2tlZCIsImN1cnJlbnRPcE5hbWUiLCJiaW5kT25lIiwiYmluZFR5cGUiLCJfdG9vQmlnSW50IiwiYXNCbG9iIiwicFN0ciIsInNxbGl0ZTNfYmluZF9wYXJhbWV0ZXJfaW5kZXgiLCJhZmZpcm1QYXJhbUluZGV4Iiwic3FsaXRlM19iaW5kX251bGwiLCJzcWxpdGUzX2JpbmRfaW50Iiwic3FsaXRlM19iaW5kX2ludDY0Iiwic3FsaXRlM19iaW5kX2RvdWJsZSIsIl9tYXlHZXQiLCJzcWxpdGUzX2ZpbmFsaXplIiwiY2xlYXJCaW5kaW5ncyIsInNxbGl0ZTNfY2xlYXJfYmluZGluZ3MiLCJhbHNvQ2xlYXJCaW5kcyIsInNxbGl0ZTNfcmVzZXQiLCJiaW5kQXNCbG9iIiwic3FsaXRlM19zdGVwIiwiU1FMSVRFX0RPTkUiLCJTUUxJVEVfUk9XIiwic3RlcFJlc2V0Iiwic3RlcEZpbmFsaXplIiwic3FsaXRlM19jb2x1bW5fbmFtZSIsInNxbGl0ZTNfY29sdW1uX3R5cGUiLCJzcWxpdGUzX2NvbHVtbl9pbnQ2NCIsInNxbGl0ZTNfY29sdW1uX2RvdWJsZSIsInNxbGl0ZTNfY29sdW1uX3RleHQiLCJzcWxpdGUzX2NvbHVtbl9ieXRlcyIsInNxbGl0ZTNfY29sdW1uX2Jsb2IiLCJfYmxvYlhmZXIiLCJnZXRJbnQiLCJnZXRGbG9hdCIsImdldFN0cmluZyIsImdldEJsb2IiLCJnZXRKU09OIiwiU1FMSVRFX1NUUklORyIsImdldENvbHVtbk5hbWUiLCJnZXRQYXJhbUluZGV4IiwiSnNTdG9yYWdlRGIiLCJzdG9yYWdlTmFtZSIsImpkYiIsImNsZWFyU3RvcmFnZSIsInN0b3JhZ2VTaXplIiwiaW5pdFdvcmtlcjFBUEkiLCJnZXREYklkIiwid1N0YXRlIiwiaWRNYXAiLCJpZFNlcSIsImRiTGlzdCIsInhmZXIiLCJkYnMiLCJhbHNvVW5saW5rIiwiZGROZHgiLCJzcWxpdGUzX3dhc21fdmZzX3VubGluayIsInBvc3QiLCJ4ZmVyTGlzdCIsInBvc3RNZXNzYWdlIiwiZ2V0RGIiLCJyZXF1aXJlIiwiZ2V0TXNnRGIiLCJtc2dEYXRhIiwiYWZmaXJtRXhpc3RzIiwiZGJJZCIsIndNc2dIYW5kbGVyIiwiZXYiLCJvYXJncyIsInNpbXVsYXRlRXJyb3IiLCJndWVzc1ZmcyIsImNhdXNlIiwicGVyc2lzdGVudCIsImRvVW5saW5rIiwidGhlQ2FsbGJhY2siLCJyb3dOdW1iZXIiLCJoYWRDb2xOYW1lcyIsInZmc0xpc3QiLCJvcGZzRW5hYmxlZCIsIm9wZnMiLCJleHBvcnQiLCJtaW1ldHlwZSIsInRyZWVMaXN0Iiwib25tZXNzYWdlIiwiZXZUeXBlIiwiYXJyaXZhbFRpbWUiLCJvcGVyYXRpb24iLCJlcnJvckNsYXNzIiwibWVzc2FnZUlkIiwid29ya2VyUmVjZWl2ZWRUaW1lIiwid29ya2VyUmVzcG9uZFRpbWUiLCJkZXBhcnR1cmVUaW1lIiwidnRhYiIsInNpaSIsIm50aENvbnN0cmFpbnQiLCJhc1B0ciIsIiRuQ29uc3RyYWludCIsIiRhQ29uc3RyYWludCIsIm50aENvbnN0cmFpbnRVc2FnZSIsIiRhQ29uc3RyYWludFVzYWdlIiwibnRoT3JkZXJCeSIsIiRuT3JkZXJCeSIsIiRhT3JkZXJCeSIsImluc3RhbGxNZXRob2QiLCJhcHBseUFyZ2NDaGVjayIsImluc3RhbGxNZXRob2RBcmdjQ2hlY2siLCJhcmdjUHJveHkiLCJyZW1vdmVGdW5jTGlzdCIsIl9fcmVtb3ZlRnVuY0xpc3QiLCJzaWdOIiwibWVtS2V5IiwiZlByb3h5IiwicEZ1bmMiLCJpbnN0YWxsTWV0aG9kcyIsInN0cnVjdEluc3RhbmNlIiwibWV0aG9kcyIsInNlZW4iLCJwcmlvciIsIm1rZXkiLCJyZWdpc3RlclZmcyIsImFzRGVmYXVsdCIsInNxbGl0ZTNfdmZzX3JlZ2lzdGVyIiwiaW5zdGFsbFZmcyIsInByb3BMaXN0Iiwic3RydWN0IiwiU3RydWN0UHRyTWFwcGVyIiwiX194V3JhcCIsIm1ldGhvZE5hbWUiLCJyZW1vdmVNYXBwaW5nIiwiX194V3JhcEZhY3RvcnkiLCJwQ09iaiIsInVuZ2V0IiwieFZ0YWIiLCJzcWxpdGUzX3Z0YWIiLCJ4Q3Vyc29yIiwic3FsaXRlM192dGFiX2N1cnNvciIsInhJbmRleEluZm8iLCJwSWR4SW5mbyIsInhFcnJvciIsImRlZmF1bHRSYyIsImVycm9yUmVwb3J0ZXIiLCJ4Um93aWQiLCJwcFJvd2lkNjQiLCJzZXR1cE1vZHVsZSIsImNyZWF0ZWRNb2QiLCJtb2QiLCJ4Q29ubmVjdCIsInhEaXNjb25uZWN0IiwiY2F0Y2hFeGNlcHRpb25zIiwiZndyYXAiLCJwQXV4IiwicHBWdGFiIiwicHpFcnIiLCJtbmFtZXMiLCJyZW1ldGhvZHMiLCJ4Q3JlYXRlIiwiJGlWZXJzaW9uIiwiaVZlcnNpb24iLCIkeFNoYWRvd05hbWUiLCIkeFNhdmVQb2ludCIsIiR4UmVsZWFzZSIsIiR4Um9sbGJhY2tUbyIsImluc3RhbGxPcGZzVmZzIiwiQXRvbWljcyIsImNyZWF0ZVN5bmNBY2Nlc3NIYW5kbGUiLCJzdG9yYWdlIiwiZ2V0RGlyZWN0b3J5IiwidXJsUGFyYW1zIiwic2VhcmNoUGFyYW1zIiwidmVyYm9zZSIsImhhcyIsInNhbml0eUNoZWNrcyIsInByb3h5VXJpIiwiZGVmYXVsdFByb3h5VXJpIiwidGhlUHJvbWlzZSIsInByb21pc2VSZXNvbHZlIiwicHJvbWlzZVJlamVjdF8iLCJsb2dnZXJzIiwibG9nSW1wbCIsInNxbGl0ZTNfZmlsZSIsInNxbGl0ZTNfaW9fbWV0aG9kcyIsIm9wZnNVdGlsIiwiZHVtcCIsIm9wSWRzIiwid2FpdCIsImF2Z1RpbWUiLCJhdmdXYWl0IiwiczExbiIsIlciLCJzZXJpYWxpemUiLCJkZXNlcmlhbGl6ZSIsIm9wZnNWZnMiLCJvcGZzSW9NZXRob2RzIiwicHJvbWlzZVJlamVjdCIsIldvcmtlciIsIl9vcmlnaW5hbE9uRXJyb3IiLCJwRFZmcyIsImRWZnMiLCIkc3pPc0ZpbGUiLCIkbXhQYXRobmFtZSIsIiR4RGxPcGVuIiwiJHhEbEVycm9yIiwiJHhEbFN5bSIsIiR4RGxDbG9zZSIsImxpdHRsZUVuZGlhbiIsImFzeW5jSWRsZVdhaXRUaW1lIiwiYXN5bmNTMTFuRXhjZXB0aW9ucyIsImZpbGVCdWZmZXJTaXplIiwic2FiUzExbk9mZnNldCIsInNhYlMxMW5TaXplIiwic2FiSU8iLCJ3aGljaE9wIiwieEFjY2VzcyIsInhDbG9zZSIsInhEZWxldGVOb1dhaXQiLCJ4RmlsZUNvbnRyb2wiLCJ4RmlsZVNpemUiLCJ4TG9jayIsInhPcGVuIiwieFNsZWVwIiwieFN5bmMiLCJ4VHJ1bmNhdGUiLCJ4VW5sb2NrIiwicmV0cnkiLCJzYWJPUCIsInNxM0NvZGVzIiwib3Bmc0ZsYWdzIiwiT1BGU19VTkxPQ0tfQVNBUCIsImRlZmF1bHRVbmxvY2tBc2FwIiwib3BSdW4iLCJvcE5keCIsInN0b3JlIiwic2FiT1BWaWV3IiwiYXN5bmNTaHV0ZG93biIsImFzeW5jUmVzdGFydCIsInJhbmRvbUZpbGVuYW1lIiwiX2NoYXJzIiwiX24iLCJyYW5kb20iLCJfX29wZW5GaWxlcyIsIm9wVGltZXIiLCJtVGltZVN0YXJ0IiwibVRpbWVFbmQiLCJpb1N5bmNXcmFwcGVycyIsInhDaGVja1Jlc2VydmVkTG9jayIsInBGaWxlIiwibG9ja1R5cGUiLCJzcTNGaWxlIiwieERldmljZUNoYXJhY3RlcmlzdGljcyIsIlNRTElURV9JT0NBUF9VTkRFTEVUQUJMRV9XSEVOX09QRU4iLCJvcElkIiwiU1FMSVRFX0ZDTlRMX1NZTkMiLCJwU3o2NCIsInBEZXN0Iiwib2Zmc2V0NjQiLCJTUUxJVEVfSU9FUlJfU0hPUlRfUkVBRCIsInNhYlZpZXciLCJTUUxJVEVfSU9FUlJfUkVBRCIsInN6NjQiLCJTUUxJVEVfTE9DS19OT05FIiwicFNyYyIsIlNRTElURV9JT0VSUl9XUklURSIsInZmc1N5bmNXcmFwcGVycyIsInhDdXJyZW50VGltZSIsInhDdXJyZW50VGltZUludDY0IiwiZG9TeW5jRGlyIiwieEZ1bGxQYXRobmFtZSIsIlNRTElURV9DQU5UT1BFTiIsInhHZXRMYXN0RXJyb3IiLCJwT3V0RmxhZ3MiLCJzcWxpdGUzX3VyaV9ib29sZWFuIiwiZmgiLCJmaWQiLCJzYWIiLCJzYWJGaWxlQnVmVmlldyIsIiRwTWV0aG9kcyIsIiR4UmFuZG9tbmVzcyIsIiR4U2xlZXAiLCJ4UmFuZG9tbmVzcyIsIm1zIiwiZ2V0UmVzb2x2ZWRQYXRoIiwic3BsaXRJdCIsImdldERpckZvckZpbGVuYW1lIiwiYWJzRmlsZW5hbWUiLCJjcmVhdGVEaXJzIiwiZGgiLCJyb290RGlyZWN0b3J5IiwiZGlyTmFtZSIsImdldERpcmVjdG9yeUhhbmRsZSIsImFic0Rpck5hbWUiLCJlbnRyeUV4aXN0cyIsImZzRW50cnlOYW1lIiwiZ2V0RmlsZUhhbmRsZSIsImRpckhhbmRsZSIsImhhbmRsZSIsImtpbmQiLCJzdWJEaXIiLCJkb0RpciIsInJtZnIiLCJyZWN1cnNlIiwicmVtb3ZlRW50cnkiLCJyZWN1cnNpdmUiLCJ0aHJvd09uRXJyb3IiLCJoRGlyIiwiZmlsZW5hbWVQYXJ0IiwidHJhdmVyc2UiLCJkZWZhdWx0T3B0IiwiZGlyZWN0b3J5IiwiT3Bmc0RiIiwib28xRGIiLCJzcWxpdGUzX2J1c3lfdGltZW91dCIsInBheWxvYWQiLCJpbyIsInNhYlMxMW5WaWV3IiwidGV4dERlY29kZXIiLCJ0ZXh0RW5jb2RlciIsInZpZXdVOCIsInZpZXdEViIsIlR5cGVJZHMiLCJnZXRUeXBlSWRCeUlkIiwidGlkIiwidHlwZUlkcyIsImdldEludDMyIiwic2V0SW50MzIiLCJpbml0UzExbiIsIm9wZW5GbGFncyIsIlNRTElURV9PUEVOX01BSU5fREIiLCJkYkZpbGUiLCJ6RGJGaWxlIiwicmVhZEJ1ZiIsImpSZWFkIiwic2FuaXR5Q2hlY2siLCJwcm94eUpzIiwic3FsaXRlM0RpciIsIlNBQkMiLCJvcmlnaW5hbEluaXQiLCJpbml0TW9kdWxlU3RhdGUiLCJtb2R1bGVTY3JpcHQiLCJpc1dvcmtlciIsIlVSTFNlYXJjaFBhcmFtcyIsImxpIiwiZmYiLCJFbXNjcmlwdGVuTW9kdWxlIiwidGhyZWFkQWxlcnQiLCJzaW0iLCJzY3JpcHREaXIiLCJzcWxpdGUzV29ya2VyMVByb21pc2VyIiwib25yZWFkeSIsImhhbmRsZXJNYXAiLCJub29wIiwiaWRUeXBlTWFwIiwiZ2VuZXJhdGVNZXNzYWdlSWQiLCJnZW5Nc2dJZCIsIndvcmtlciIsIm1zZ0hhbmRsZXIiLCJvbnJvdyIsIm9udW5oYW5kbGVkIiwicHJveHkiLCJyb3dDYWxsYmFja0lkIiwiZmluYWxseSIsImRlYnVnT3B0aW9ucyIsIlNRTElURV9ERUJVRyIsImRlYnVnU3lzIiwiX19hd2FpdGVyIiwiX2FyZ3VtZW50cyIsImdlbmVyYXRvciIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwiY3JlYXRlU1FMaXRlVGhyZWFkIiwicHJvbWlzZXIiLCJiYWNrZW5kIiwiaHR0cCIsImNyZWF0ZU5ld0NoYW5uZWwiLCJjaGFubmVsIiwiaHR0cENoYW5uZWwiLCJodHRwT3B0aW9ucyIsInBvcnQiLCJ0ZXJtaW5hdGUiLCJub1NoYXJlZEJ1ZmZlck1zZyIsImNyZWF0ZVNRTGl0ZUhUVFBQb29sIiwiYmFja2VuZFR5cGUiLCJuZXh0SWQiLCJfYiIsIl9jIiwiX2QiLCJtYXhQYWdlU2l6ZSIsImhlYWRlcnMiLCJjb25zdW1lcnMiLCJwb3J0MiIsInNobSIsIk1lc3NhZ2VDaGFubmVsIiwicG9ydDEiLCJjcmVhdGVIdHRwQmFja2VuZCIsIndvcmtlcnMiLCJzdGFydHEiLCJidXN5IiwiYWxsIiwiZW5jb2RlVVJJIiwiZmluZCIsInJhY2UiLCJyZXN1bHRzIl0sInNvdXJjZVJvb3QiOiIifQ==