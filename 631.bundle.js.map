{"version":3,"file":"631.bundle.js","mappings":"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","sources":["webpack://ol-mbtiles/webpack/runtime/chunk loaded","webpack://ol-mbtiles/webpack/runtime/startup chunk dependencies","webpack://ol-mbtiles/./node_modules/sqlite-wasm-http/dist/vfs-http.js","webpack://ol-mbtiles/./node_modules/sqlite-wasm-http/dist/vfs-sync-http.js","webpack://ol-mbtiles/./node_modules/sqlite-wasm-http/dist/sqlite-worker.js","webpack://ol-mbtiles/./node_modules/sqlite-wasm-http/deps/XMLHttpRequest-stub.js","webpack://ol-mbtiles/webpack/bootstrap","webpack://ol-mbtiles/webpack/runtime/define property getters","webpack://ol-mbtiles/webpack/runtime/ensure chunk","webpack://ol-mbtiles/webpack/runtime/get javascript chunk filename","webpack://ol-mbtiles/webpack/runtime/global","webpack://ol-mbtiles/webpack/runtime/hasOwnProperty shorthand","webpack://ol-mbtiles/webpack/runtime/make namespace object","webpack://ol-mbtiles/webpack/runtime/publicPath","webpack://ol-mbtiles/webpack/runtime/importScripts chunk loading","webpack://ol-mbtiles/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn __webpack_require__.e(906).then(next);\n};","// This is the VFS layer for the shared backend\n// It run in each SQLite worker thread that uses it\n// and it is fully synchronous\nimport * as VFSHTTP from './vfs-http-types.js';\nimport { debug } from './vfs-http-types.js';\nconst openFiles = {};\nexport function installHttpVfs(sqlite3, backend, options) {\n    if (typeof SharedArrayBuffer === 'undefined') {\n        throw new Error('SharedArrayBuffer is not available. ' +\n            'If your browser supports it, the webserver must send ' +\n            '\"Cross-Origin-Opener-Policy: same-origin \"' +\n            'and \"Cross-Origin-Embedder-Policy: require-corp\" headers.');\n    }\n    if (!backend ||\n        !(backend.port instanceof MessagePort) ||\n        !(backend.shm instanceof SharedArrayBuffer))\n        throw new Error('No backend message channel in options');\n    const lock = new Int32Array(backend.shm, backend.shm.byteLength - Int32Array.BYTES_PER_ELEMENT);\n    const shm = new Uint8Array(backend.shm, 0, backend.shm.byteLength - Int32Array.BYTES_PER_ELEMENT);\n    const capi = sqlite3.capi;\n    const wasm = sqlite3.wasm;\n    const sqlite3_vfs = capi.sqlite3_vfs;\n    const sqlite3_file = capi.sqlite3_file;\n    const sqlite3_io_methods = capi.sqlite3_io_methods;\n    const httpVfs = new sqlite3_vfs();\n    const httpIoMethods = new sqlite3_io_methods();\n    httpVfs.$iVersion = 1;\n    httpVfs.$szOsFile = capi.sqlite3_file.structInfo.sizeof;\n    httpVfs.$mxPathname = 1024;\n    httpVfs.$zName = wasm.allocCString('http');\n    httpVfs.$xDlOpen = httpVfs.$xDlError = httpVfs.$xDlSym = httpVfs.$xDlClose = null;\n    // This the sync/async wait mechanism\n    // We send messages to the async backend that manages multiple consumers\n    // Then we wait synchronously on a SharedArrayBuffer\n    const sendAndWait = (msg) => {\n        var _a;\n        Atomics.store(lock, 0, VFSHTTP.SYNC.WORKMSG);\n        backend.port.postMessage(msg);\n        let r, rc;\n        do {\n            r = Atomics.wait(lock, 0, VFSHTTP.SYNC.WORKMSG, (_a = options === null || options === void 0 ? void 0 : options.timeout) !== null && _a !== void 0 ? _a : VFSHTTP.defaultOptions.timeout);\n            rc = Atomics.load(lock, 0);\n            // If the backend manages to complete the operation before the wait\n            // on the next iteration will be having a pending notify that must\n            // be consumed\n        } while (r === 'ok' && rc === VFSHTTP.SYNC.WORKMSG);\n        if (r === 'timed-out') {\n            console.error('Backend timeout', r, lock, msg);\n            return -1;\n        }\n        return rc;\n    };\n    const ioSyncWrappers = {\n        xCheckReservedLock: function (fid, out) {\n            debug['vfs']('xCheckReservedLock', fid, out);\n            wasm.poke(out, 0, 'i32');\n            return 0;\n        },\n        xClose: function (fid) {\n            debug['vfs']('xClose', fid);\n            if (!openFiles[fid]) {\n                return capi.SQLITE_NOTFOUND;\n            }\n            delete openFiles[fid];\n            return 0;\n        },\n        xDeviceCharacteristics: function (fid) {\n            debug['vfs']('xDeviceCharacteristics', fid);\n            return capi.SQLITE_IOCAP_IMMUTABLE;\n        },\n        xFileControl: function (fid, op, arg) {\n            debug['vfs']('xFileControl', fid, op, arg);\n            if (op === capi.SQLITE_FCNTL_SYNC)\n                return capi.SQLITE_OK;\n            return capi.SQLITE_NOTFOUND;\n        },\n        xFileSize: function (fid, size) {\n            debug['vfs']('xFileSize', fid, size);\n            if (!openFiles[fid]) {\n                return capi.SQLITE_NOTFOUND;\n            }\n            const r = sendAndWait({ msg: 'xFilesize', url: openFiles[fid].url });\n            if (r !== 0) {\n                return capi.SQLITE_IOERR;\n            }\n            const sz = new BigUint64Array(backend.shm, 0, 1)[0];\n            debug['vfs']('file size is ', sz);\n            wasm.poke(size, sz, 'i64');\n            return 0;\n        },\n        xLock: function (fid, lock) {\n            debug['vfs']('xLock', fid, lock);\n            return 0;\n        },\n        xRead: function (fid, dest, n, offset) {\n            debug['vfs']('xRead', fid, dest, n, offset);\n            if (Number(offset) > Number.MAX_SAFE_INTEGER) {\n                // CampToCamp are not supported\n                return capi.SQLITE_TOOBIG;\n            }\n            if (!openFiles[fid]) {\n                return capi.SQLITE_NOTFOUND;\n            }\n            const r = sendAndWait({ msg: 'xRead', url: openFiles[fid].url, n, offset });\n            if (r !== 0) {\n                console.error('xRead', r);\n                return capi.SQLITE_IOERR;\n            }\n            wasm.heap8u().set(shm.subarray(0, n), dest);\n            return capi.SQLITE_OK;\n        },\n        xSync: function (fid, flags) {\n            debug['vfs']('xSync', fid, flags);\n            return 0;\n        },\n        xTruncate: function (fid, size) {\n            debug['vfs']('xTruncate', fid, size);\n            return 0;\n        },\n        xUnlock: function (fid, lock) {\n            debug['vfs']('xUnlock', fid, lock);\n            return 0;\n        },\n        xWrite: function (fid, src, n, offset) {\n            debug['vfs']('xWrite', fid, src, n, offset);\n            return capi.SQLITE_READONLY;\n        }\n    };\n    const vfsSyncWrappers = {\n        xAccess: function (vfs, name, flags, out) {\n            debug['vfs']('xAccess', vfs, name, flags, out);\n            if ((flags & capi.SQLITE_OPEN_READONLY) === 0) {\n                wasm.poke(out, 0, 'i32');\n                return capi.SQLITE_OK;\n            }\n            const url = wasm.cstrToJs(name);\n            const r = sendAndWait({ msg: 'xAccess', url });\n            if (r !== 0) {\n                console.error('xAccess', r);\n                return capi.SQLITE_IOERR;\n            }\n            const result = new Uint32Array(backend.shm, 0, 1)[0];\n            wasm.poke(out, result, 'i32');\n            return capi.SQLITE_OK;\n        },\n        xCurrentTime: function (vfs, out) {\n            debug['vfs']('xCurrentTime', vfs, out);\n            wasm.poke(out, 2440587.5 + (new Date().getTime() / 86400000), 'double');\n            return 0;\n        },\n        xCurrentTimeInt64: function (vfs, out) {\n            debug['vfs']('xCurrentTimeInt64', vfs, out);\n            wasm.poke(out, (BigInt(2440587.5) * BigInt(86400000)) + BigInt(new Date().getTime()), 'i64');\n            return 0;\n        },\n        xDelete: function (vfs, name, doSyncDir) {\n            debug['vfs']('xDelete', vfs, name, doSyncDir);\n            return capi.SQLITE_READONLY;\n        },\n        xFullPathname: function (vfs, name, nOut, pOut) {\n            debug['vfs']('xFullPathname', vfs, name, nOut, pOut);\n            const i = wasm.cstrncpy(pOut, name, nOut);\n            return i < nOut ? 0 : capi.SQLITE_CANTOPEN;\n        },\n        xGetLastError: function (vfs, nOut, pout) {\n            debug['vfs']('xGetLastError', vfs, nOut, pout);\n            return 0;\n        },\n        xOpen: function (vfs, name, fid, flags, pOutFlags) {\n            debug['vfs']('xOpen', vfs, name, fid, flags, pOutFlags);\n            if (name === 0) {\n                console.error('HTTP VFS does not support anonymous files');\n                return capi.SQLITE_CANTOPEN;\n            }\n            if (typeof name !== 'number') {\n                return capi.SQLITE_ERROR;\n            }\n            wasm.poke(pOutFlags, capi.SQLITE_OPEN_READONLY, 'i32');\n            const url = wasm.cstrToJs(name);\n            const fh = Object.create(null);\n            fh.fid = fid;\n            fh.url = url;\n            fh.sq3File = new sqlite3_file(fid);\n            fh.sq3File.$pMethods = httpIoMethods.pointer;\n            openFiles[fid] = fh;\n            const r = sendAndWait({ msg: 'xOpen', url });\n            if (r < 0) {\n                console.error('xOpen', r);\n                return capi.SQLITE_IOERR;\n            }\n            if (r !== 0) {\n                debug['vfs']('xOpen', r);\n                return capi.SQLITE_CANTOPEN;\n            }\n            return capi.SQLITE_OK;\n        }\n    };\n    sqlite3.vfs.installVfs({\n        io: { struct: httpIoMethods, methods: ioSyncWrappers },\n        vfs: { struct: httpVfs, methods: vfsSyncWrappers }\n    });\n    sqlite3.oo1.DB.dbCtorHelper.setVfsPostOpenSql(httpVfs.pointer, function (oo1Db, sqlite3) {\n        var _a;\n        sqlite3.capi.sqlite3_busy_timeout(oo1Db, (_a = options === null || options === void 0 ? void 0 : options.timeout) !== null && _a !== void 0 ? _a : VFSHTTP.defaultOptions.timeout);\n        sqlite3.capi.sqlite3_exec(oo1Db, [\n            'PRAGMA journal_mode=DELETE;',\n            'PRAGMA cache_size=0;'\n        ], 0, 0, 0);\n    });\n}\n//# sourceMappingURL=vfs-http.js.map","// This is the ersatz HTTP backend\n// It does not require SharedArrayBuffer and does not share its cache\n// It runs in the SQLite worker thread\nimport LRUCache from 'lru-cache';\nimport { ntoh16 } from './endianness.js';\nimport * as VFSHTTP from './vfs-http-types.js';\nimport { debug } from './vfs-http-types.js';\nconst openFiles = {};\nexport function installSyncHttpVfs(sqlite3, options) {\n    const capi = sqlite3.capi;\n    const wasm = sqlite3.wasm;\n    const sqlite3_vfs = capi.sqlite3_vfs;\n    const sqlite3_file = capi.sqlite3_file;\n    const sqlite3_io_methods = capi.sqlite3_io_methods;\n    const httpVfs = new sqlite3_vfs();\n    const httpIoMethods = new sqlite3_io_methods();\n    httpVfs.$iVersion = 1;\n    httpVfs.$szOsFile = capi.sqlite3_file.structInfo.sizeof;\n    httpVfs.$mxPathname = 1024;\n    httpVfs.$zName = wasm.allocCString('http');\n    httpVfs.$xDlOpen = httpVfs.$xDlError = httpVfs.$xDlSym = httpVfs.$xDlClose = null;\n    const ioSyncWrappers = {\n        xCheckReservedLock: function (fid, out) {\n            debug['vfs']('xCheckReservedLock', fid, out);\n            wasm.poke(out, 0, 'i32');\n            return 0;\n        },\n        xClose: function (fid) {\n            debug['vfs']('xClose', fid);\n            if (!openFiles[fid]) {\n                return capi.SQLITE_NOTFOUND;\n            }\n            delete openFiles[fid];\n            return 0;\n        },\n        xDeviceCharacteristics: function (fid) {\n            debug['vfs']('xDeviceCharacteristics', fid);\n            return capi.SQLITE_IOCAP_IMMUTABLE;\n        },\n        xFileControl: function (fid, op, arg) {\n            debug['vfs']('xFileControl', fid, op, arg);\n            if (op === capi.SQLITE_FCNTL_SYNC)\n                return capi.SQLITE_OK;\n            return capi.SQLITE_NOTFOUND;\n        },\n        xFileSize: function (fid, size) {\n            debug['vfs']('xFileSize', fid, size);\n            if (!openFiles[fid]) {\n                return capi.SQLITE_NOTFOUND;\n            }\n            debug['vfs']('file size is ', openFiles[fid].size);\n            wasm.poke(size, openFiles[fid].size, 'i64');\n            return 0;\n        },\n        xLock: function (fid, lock) {\n            debug['vfs']('xLock', fid, lock);\n            return 0;\n        },\n        xRead: function (fid, dest, n, offset) {\n            var _a, _b, _c, _d;\n            debug['vfs']('xRead (sync)', fid, dest, n, offset);\n            if (Number(offset) > Number.MAX_SAFE_INTEGER) {\n                // CampToCamp are not supported\n                return capi.SQLITE_TOOBIG;\n            }\n            if (!openFiles[fid]) {\n                return capi.SQLITE_NOTFOUND;\n            }\n            const entry = openFiles[fid];\n            if (!entry.pageSize) {\n                // Determine the page size if we don't know it\n                // It is in two big-endian bytes at offset 16 in what is always the first page\n                entry.pageSize = 1024;\n                const pageDataBuffer = new Uint8Array(2);\n                const r = ioSyncWrappers.xRead(fid, pageDataBuffer, 2, BigInt(16));\n                const pageData = new Uint16Array(pageDataBuffer.buffer);\n                if (r !== 0)\n                    return capi.SQLITE_IOERR;\n                ntoh16(pageData);\n                entry.pageSize = pageData[0];\n                debug['vfs'](`page size is ${entry.pageSize}`);\n                if (entry.pageSize != 1024) {\n                    // If the page size is not 1024 we can't keep this \"page\" in the cache\n                    console.warn(`Page size for ${entry.url} is ${entry.pageSize}, recommended size is 1024`);\n                    entry.pageCache.delete(0);\n                }\n                if (entry.pageSize > ((_a = options === null || options === void 0 ? void 0 : options.maxPageSize) !== null && _a !== void 0 ? _a : VFSHTTP.defaultOptions.maxPageSize))\n                    throw new Error(`${entry.pageSize} is over the maximum configured ` +\n                        `${(_b = options === null || options === void 0 ? void 0 : options.maxPageSize) !== null && _b !== void 0 ? _b : VFSHTTP.defaultOptions.maxPageSize}`);\n            }\n            try {\n                const pageSize = BigInt(entry.pageSize);\n                const len = BigInt(n);\n                const page = offset / pageSize;\n                if (page * pageSize !== offset)\n                    debug['vfs'](`Read chunk ${offset} is not page-aligned`);\n                let pageStart = page * pageSize;\n                if (pageStart + pageSize < offset + len)\n                    throw new Error(`Read chunk ${offset}:${n} spans across a page-boundary`);\n                let data = entry.pageCache.get(Number(page));\n                if (typeof data === 'number') {\n                    debug['cache'](`[sync] cache hit (multi-page segment) for ${entry.url}:${page}`);\n                    // This page is present as a segment of a super-page\n                    const newPageStart = BigInt(data) * pageSize;\n                    data = entry.pageCache.get(data);\n                    if (data instanceof Uint8Array) {\n                        // Not all subpages are valid, there are two possible cases\n                        // where a non-valid superpage can be referenced:\n                        // * the superpage was too big to fit in the cache\n                        // * the superpage was evicted before the subsegments\n                        pageStart = newPageStart;\n                    }\n                    else {\n                        data = undefined;\n                    }\n                }\n                if (typeof data === 'undefined') {\n                    debug['cache'](`[sync] cache miss for ${entry.url}:${page}`);\n                    let chunkSize = entry.pageSize;\n                    // If the previous page is in the cache, we double the page size\n                    // This was the original page merging algorithm implemented by @phiresky\n                    let prev = page > 0 && entry.pageCache.get((Number(page) - 1));\n                    if (prev) {\n                        if (typeof prev === 'number')\n                            prev = entry.pageCache.get(prev);\n                        if (prev instanceof Uint8Array) {\n                            // Valid superpage\n                            chunkSize = prev.byteLength * 2;\n                            debug['cache'](`[sync] downloading super page of size ${chunkSize}`);\n                        }\n                    }\n                    const pages = chunkSize / entry.pageSize;\n                    // Downloading a new segment\n                    debug['http'](`downloading page ${page} of size ${chunkSize} starting at ${pageStart}`);\n                    const xhr = new XMLHttpRequest();\n                    xhr.open('GET', entry.url, false);\n                    for (const h of Object.keys((_c = options === null || options === void 0 ? void 0 : options.headers) !== null && _c !== void 0 ? _c : VFSHTTP.defaultOptions.headers))\n                        xhr.setRequestHeader(h, ((_d = options === null || options === void 0 ? void 0 : options.headers) !== null && _d !== void 0 ? _d : VFSHTTP.defaultOptions.headers)[h]);\n                    xhr.setRequestHeader('Range', `bytes=${pageStart}-${pageStart + BigInt(chunkSize - 1)}`);\n                    xhr.responseType = 'arraybuffer';\n                    xhr.onload = () => {\n                        if (xhr.response instanceof ArrayBuffer)\n                            data = new Uint8Array(xhr.response);\n                    };\n                    xhr.send();\n                    if (!data) {\n                        return capi.SQLITE_IOERR;\n                    }\n                    // TypeScript does not recognize the sync XMLHttpRequest\n                    data = data;\n                    if (!(data instanceof Uint8Array) || data.length === 0)\n                        throw new Error(`Invalid HTTP response received: ${JSON.stringify(xhr.response)}`);\n                    // In case of a multiple-page segment, this is the parent super-page\n                    entry.pageCache.set(Number(page), data);\n                    // These point to the parent super-page\n                    for (let i = Number(page) + 1; i < Number(page) + pages; i++) {\n                        entry.pageCache.set(i, Number(page));\n                    }\n                }\n                else {\n                    debug['cache'](`[sync] cache hit for ${entry.url}:${page}`);\n                }\n                const pageOffset = Number(offset - pageStart);\n                if (dest instanceof Uint8Array)\n                    dest.set(data.subarray(pageOffset, pageOffset + n));\n                else\n                    wasm.heap8u().set(data.subarray(pageOffset, pageOffset + n), dest);\n                return capi.SQLITE_OK;\n            }\n            catch (e) {\n                console.error(e);\n                return capi.SQLITE_ERROR;\n            }\n        },\n        xSync: function (fid, flags) {\n            debug['vfs']('xSync', fid, flags);\n            return 0;\n        },\n        xTruncate: function (fid, size) {\n            debug['vfs']('xTruncate', fid, size);\n            return 0;\n        },\n        xUnlock: function (fid, lock) {\n            debug['vfs']('xUnlock', fid, lock);\n            return 0;\n        },\n        xWrite: function (fid, src, n, offset) {\n            debug['vfs']('xWrite', fid, src, n, offset);\n            return capi.SQLITE_READONLY;\n        }\n    };\n    const vfsSyncWrappers = {\n        xAccess: function (vfs, name, flags, out) {\n            debug['vfs']('xAccess', vfs, name, flags, out);\n            if ((flags & capi.SQLITE_OPEN_READONLY) === 0) {\n                wasm.poke(out, 0, 'i32');\n                return capi.SQLITE_OK;\n            }\n            const fid = Symbol();\n            const r = vfsSyncWrappers.xOpen(vfs, name, fid, flags, out);\n            if (r === capi.SQLITE_OK) {\n                ioSyncWrappers.xClose(fid);\n                wasm.poke(out, 1, 'i32');\n            }\n            else {\n                wasm.poke(out, 0, 'i32');\n            }\n            return capi.SQLITE_OK;\n        },\n        xCurrentTime: function (vfs, out) {\n            debug['vfs']('xCurrentTime', vfs, out);\n            wasm.poke(out, 2440587.5 + (new Date().getTime() / 86400000), 'double');\n            return 0;\n        },\n        xCurrentTimeInt64: function (vfs, out) {\n            debug['vfs']('xCurrentTimeInt64', vfs, out);\n            wasm.poke(out, (BigInt(2440587.5) * BigInt(86400000)) + BigInt(new Date().getTime()), 'i64');\n            return 0;\n        },\n        xDelete: function (vfs, name, doSyncDir) {\n            debug['vfs']('xDelete', vfs, name, doSyncDir);\n            return capi.SQLITE_READONLY;\n        },\n        xFullPathname: function (vfs, name, nOut, pOut) {\n            debug['vfs']('xFullPathname', vfs, name, nOut, pOut);\n            const i = wasm.cstrncpy(pOut, name, nOut);\n            return i < nOut ? 0 : capi.SQLITE_CANTOPEN;\n        },\n        xGetLastError: function (vfs, nOut, pout) {\n            debug['vfs']('xGetLastError', vfs, nOut, pout);\n            return 0;\n        },\n        xOpen: function (vfs, name, fid, flags, pOutFlags) {\n            var _a, _b;\n            debug['vfs']('xOpen (sync)', vfs, name, fid, flags, pOutFlags);\n            if (name === 0) {\n                console.error('HTTP VFS does not support anonymous files');\n                return capi.SQLITE_CANTOPEN;\n            }\n            if (typeof name !== 'number') {\n                return capi.SQLITE_ERROR;\n            }\n            const url = wasm.cstrToJs(name);\n            let valid = false;\n            try {\n                const xhr = new XMLHttpRequest();\n                xhr.open('HEAD', url, false);\n                for (const h of Object.keys((_a = options === null || options === void 0 ? void 0 : options.headers) !== null && _a !== void 0 ? _a : VFSHTTP.defaultOptions.headers))\n                    xhr.setRequestHeader(h, ((_b = options === null || options === void 0 ? void 0 : options.headers) !== null && _b !== void 0 ? _b : VFSHTTP.defaultOptions.headers)[h]);\n                xhr.onload = () => {\n                    var _a, _b;\n                    const fh = Object.create(null);\n                    fh.fid = fid;\n                    fh.url = url;\n                    fh.sq3File = new sqlite3_file(fid);\n                    fh.sq3File.$pMethods = httpIoMethods.pointer;\n                    fh.size = BigInt((_a = xhr.getResponseHeader('Content-Length')) !== null && _a !== void 0 ? _a : 0);\n                    fh.pageCache = new LRUCache({\n                        maxSize: ((_b = options === null || options === void 0 ? void 0 : options.cacheSize) !== null && _b !== void 0 ? _b : VFSHTTP.defaultOptions.cacheSize) * 1024,\n                        sizeCalculation: (value) => { var _a; return (_a = value.byteLength) !== null && _a !== void 0 ? _a : 4; }\n                    });\n                    if (xhr.getResponseHeader('Accept-Ranges') !== 'bytes') {\n                        console.warn(`Server for ${url} does not advertise 'Accept-Ranges'. ` +\n                            'If the server supports it, in order to remove this message, add \"Accept-Ranges: bytes\". ' +\n                            'Additionally, if using CORS, add \"Access-Control-Expose-Headers: *\".');\n                    }\n                    openFiles[fid] = fh;\n                    valid = true;\n                };\n                xhr.send();\n            }\n            catch (e) {\n                console.error('xOpen', e);\n            }\n            if (!valid) {\n                console.error('xOpen');\n                return capi.SQLITE_CANTOPEN;\n            }\n            wasm.poke(pOutFlags, capi.SQLITE_OPEN_READONLY, 'i32');\n            return capi.SQLITE_OK;\n        }\n    };\n    sqlite3.vfs.installVfs({\n        io: { struct: httpIoMethods, methods: ioSyncWrappers },\n        vfs: { struct: httpVfs, methods: vfsSyncWrappers }\n    });\n    sqlite3.oo1.DB.dbCtorHelper.setVfsPostOpenSql(httpVfs.pointer, function (oo1Db, sqlite3) {\n        var _a;\n        sqlite3.capi.sqlite3_busy_timeout(oo1Db, (_a = options === null || options === void 0 ? void 0 : options.timeout) !== null && _a !== void 0 ? _a : VFSHTTP.defaultOptions.timeout);\n        sqlite3.capi.sqlite3_exec(oo1Db, [\n            'PRAGMA journal_mode=DELETE;',\n            'PRAGMA cache_size=0;'\n        ], 0, 0, 0);\n    });\n}\n//# sourceMappingURL=vfs-sync-http.js.map","// This is the entry point for an SQLite worker thread\nimport { installHttpVfs } from './vfs-http.js';\nimport { installSyncHttpVfs } from './vfs-sync-http.js';\nimport { debug } from './vfs-http-types.js';\n// Binary version of the classic xmlhttprequest (for Node.js)\nimport { XMLHttpRequest as _XMLHttpRequest } from '#XMLHttpRequest.cjs';\ndebug['threads']('SQLite worker started');\nglobalThis.onmessage = ({ data }) => {\n    debug['threads']('SQLite received green light', data);\n    const msg = data;\n    import('#sqlite3.js')\n        .then((mod) => mod.default())\n        .then((sqlite3) => {\n        debug['threads']('SQLite init');\n        sqlite3.initWorker1API();\n        if (typeof msg.httpChannel === 'object') {\n            installHttpVfs(sqlite3, msg.httpChannel, msg.httpOptions);\n        }\n        else if (msg.httpChannel === true) {\n            if (typeof globalThis.XMLHttpRequest === 'undefined') {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                globalThis.XMLHttpRequest = class XMLHttpRequest extends _XMLHttpRequest {\n                    get response() {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        const r = Uint8Array.from(this.responseText.split('')\n                            .map((x) => x.charCodeAt(0))).buffer;\n                        return r;\n                    }\n                };\n            }\n            installSyncHttpVfs(sqlite3, msg.httpOptions);\n        }\n    });\n};\n//# sourceMappingURL=sqlite-worker.js.map","export const XMLHttpRequest = null;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [906], () => (__webpack_require__(4631)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".bundle.js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = self.location + \"\";\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t631: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkol_mbtiles\"] = self[\"webpackChunkol_mbtiles\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["deferred","next","openFiles","globalThis","onmessage","data","msg","then","mod","default","sqlite3","initWorker1API","httpChannel","backend","options","SharedArrayBuffer","Error","port","MessagePort","shm","lock","Int32Array","byteLength","BYTES_PER_ELEMENT","Uint8Array","capi","wasm","sqlite3_vfs","sqlite3_file","sqlite3_io_methods","httpVfs","httpIoMethods","$iVersion","$szOsFile","structInfo","sizeof","$mxPathname","$zName","allocCString","$xDlOpen","$xDlError","$xDlSym","$xDlClose","sendAndWait","_a","r","rc","Atomics","store","WORKMSG","postMessage","wait","timeout","load","console","error","ioSyncWrappers","xCheckReservedLock","fid","out","poke","xClose","SQLITE_NOTFOUND","xDeviceCharacteristics","SQLITE_IOCAP_IMMUTABLE","xFileControl","op","arg","SQLITE_FCNTL_SYNC","SQLITE_OK","xFileSize","size","url","SQLITE_IOERR","sz","BigUint64Array","xLock","xRead","dest","n","offset","Number","MAX_SAFE_INTEGER","SQLITE_TOOBIG","heap8u","set","subarray","xSync","flags","xTruncate","xUnlock","xWrite","src","SQLITE_READONLY","vfsSyncWrappers","xAccess","vfs","name","SQLITE_OPEN_READONLY","cstrToJs","result","Uint32Array","xCurrentTime","Date","getTime","xCurrentTimeInt64","BigInt","xDelete","doSyncDir","xFullPathname","nOut","pOut","cstrncpy","SQLITE_CANTOPEN","xGetLastError","pout","xOpen","pOutFlags","SQLITE_ERROR","fh","Object","create","sq3File","$pMethods","pointer","installVfs","io","struct","methods","oo1","DB","dbCtorHelper","setVfsPostOpenSql","oo1Db","sqlite3_busy_timeout","sqlite3_exec","installHttpVfs","httpOptions","XMLHttpRequest","response","from","this","responseText","split","map","x","charCodeAt","buffer","_b","_c","_d","entry","pageSize","pageDataBuffer","pageData","Uint16Array","warn","pageCache","delete","maxPageSize","len","page","pageStart","get","newPageStart","undefined","chunkSize","prev","pages","xhr","open","h","keys","headers","setRequestHeader","responseType","onload","ArrayBuffer","send","length","JSON","stringify","i","pageOffset","e","Symbol","valid","getResponseHeader","maxSize","cacheSize","sizeCalculation","value","installSyncHttpVfs","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","__webpack_exports__","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","key","splice","d","definition","o","defineProperty","enumerable","f","chunkId","Promise","all","reduce","promises","u","g","Function","window","obj","prop","prototype","hasOwnProperty","call","toStringTag","scriptUrl","importScripts","location","document","currentScript","scripts","getElementsByTagName","replace","p","b","self","installedChunks","chunkLoadingGlobal","parentChunkLoadingFunction","push","bind","moreModules","runtime","pop"],"sourceRoot":""}