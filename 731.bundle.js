(self.webpackChunkol_mbtiles=self.webpackChunkol_mbtiles||[]).push([[731],{2582:function(t){t.exports=function(){"use strict";function t(t,s,n,o,r){!function t(i,s,n,o,r){for(;o>n;){if(o-n>600){var a=o-n+1,h=s-n+1,l=Math.log(a),c=.5*Math.exp(2*l/3),g=.5*Math.sqrt(l*c*(a-c)/a)*(h-a/2<0?-1:1);t(i,s,Math.max(n,Math.floor(s-h*c/a+g)),Math.min(o,Math.floor(s+(a-h)*c/a+g)),r)}var d=i[s],u=n,_=o;for(e(i,n,s),r(i[o],d)>0&&e(i,n,o);u<_;){for(e(i,u,_),u++,_--;r(i[u],d)<0;)u++;for(;r(i[_],d)>0;)_--}0===r(i[n],d)?e(i,n,_):e(i,++_,o),_<=s&&(n=_+1),s<=_&&(o=_-1)}}(t,s,n||0,o||t.length-1,r||i)}function e(t,e,i){var s=t[e];t[e]=t[i],t[i]=s}function i(t,e){return t<e?-1:t>e?1:0}var s=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function n(t,e,i){if(!i)return e.indexOf(t);for(var s=0;s<e.length;s++)if(i(t,e[s]))return s;return-1}function o(t,e){r(t,0,t.children.length,e,t)}function r(t,e,i,s,n){n||(n=_(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o=e;o<i;o++){var r=t.children[o];a(n,t.leaf?s(r):r)}return n}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function g(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function u(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function _(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function f(e,i,s,n,o){for(var r=[i,s];r.length;)if(!((s=r.pop())-(i=r.pop())<=n)){var a=i+Math.ceil((s-i)/n/2)*n;t(e,a,i,s,o),r.push(i,a,a,s)}}return s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(t){var e=this.data,i=[];if(!u(t,e))return i;for(var s=this.toBBox,n=[];e;){for(var o=0;o<e.children.length;o++){var r=e.children[o],a=e.leaf?s(r):r;u(t,a)&&(e.leaf?i.push(r):d(t,a)?this._all(r,i):n.push(r))}e=n.pop()}return i},s.prototype.collides=function(t){var e=this.data;if(!u(t,e))return!1;for(var i=[];e;){for(var s=0;s<e.children.length;s++){var n=e.children[s],o=e.leaf?this.toBBox(n):n;if(u(t,o)){if(e.leaf||d(t,o))return!0;i.push(n)}}e=i.pop()}return!1},s.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var s=this.data;this.data=i,i=s}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},s.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},s.prototype.clear=function(){return this.data=_([]),this},s.prototype.remove=function(t,e){if(!t)return this;for(var i,s,o,r=this.data,a=this.toBBox(t),h=[],l=[];r||h.length;){if(r||(r=h.pop(),s=h[h.length-1],i=l.pop(),o=!0),r.leaf){var c=n(t,r.children,e);if(-1!==c)return r.children.splice(c,1),h.push(r),this._condense(h),this}o||r.leaf||!d(r,a)?s?(i++,r=s.children[i],o=!1):r=null:(h.push(r),l.push(i),i=0,s=r,r=r.children[0])}return this},s.prototype.toBBox=function(t){return t},s.prototype.compareMinX=function(t,e){return t.minX-e.minX},s.prototype.compareMinY=function(t,e){return t.minY-e.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(t){return this.data=t,this},s.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},s.prototype._build=function(t,e,i,s){var n,r=i-e+1,a=this._maxEntries;if(r<=a)return o(n=_(t.slice(e,i+1)),this.toBBox),n;s||(s=Math.ceil(Math.log(r)/Math.log(a)),a=Math.ceil(r/Math.pow(a,s-1))),(n=_([])).leaf=!1,n.height=s;var h=Math.ceil(r/a),l=h*Math.ceil(Math.sqrt(a));f(t,e,i,l,this.compareMinX);for(var c=e;c<=i;c+=l){var g=Math.min(c+l-1,i);f(t,c,g,h,this.compareMinY);for(var d=c;d<=g;d+=h){var u=Math.min(d+h-1,g);n.children.push(this._build(t,d,u,s-1))}}return o(n,this.toBBox),n},s.prototype._chooseSubtree=function(t,e,i,s){for(;s.push(e),!e.leaf&&s.length-1!==i;){for(var n=1/0,o=1/0,r=void 0,a=0;a<e.children.length;a++){var h=e.children[a],l=c(h),g=(d=t,u=h,(Math.max(u.maxX,d.maxX)-Math.min(u.minX,d.minX))*(Math.max(u.maxY,d.maxY)-Math.min(u.minY,d.minY))-l);g<o?(o=g,n=l<n?l:n,r=h):g===o&&l<n&&(n=l,r=h)}e=r||e.children[0]}var d,u;return e},s.prototype._insert=function(t,e,i){var s=i?t:this.toBBox(t),n=[],o=this._chooseSubtree(s,this.data,e,n);for(o.children.push(t),a(o,s);e>=0&&n[e].children.length>this._maxEntries;)this._split(n,e),e--;this._adjustParentBBoxes(s,n,e)},s.prototype._split=function(t,e){var i=t[e],s=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,s);var r=this._chooseSplitIndex(i,n,s),a=_(i.children.splice(r,i.children.length-r));a.height=i.height,a.leaf=i.leaf,o(i,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},s.prototype._splitRoot=function(t,e){this.data=_([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(t,e,i){for(var s,n,o,a,h,l,g,d=1/0,u=1/0,_=e;_<=i-e;_++){var f=r(t,0,_,this.toBBox),m=r(t,_,i,this.toBBox),x=(n=f,o=m,void 0,void 0,void 0,void 0,a=Math.max(n.minX,o.minX),h=Math.max(n.minY,o.minY),l=Math.min(n.maxX,o.maxX),g=Math.min(n.maxY,o.maxY),Math.max(0,l-a)*Math.max(0,g-h)),p=c(f)+c(m);x<d?(d=x,s=_,u=p<u?p:u):x===d&&p<u&&(u=p,s=_)}return s||i-e},s.prototype._chooseSplitAxis=function(t,e,i){var s=t.leaf?this.compareMinX:h,n=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,i,s)<this._allDistMargin(t,e,i,n)&&t.children.sort(s)},s.prototype._allDistMargin=function(t,e,i,s){t.children.sort(s);for(var n=this.toBBox,o=r(t,0,e,n),h=r(t,i-e,i,n),l=g(o)+g(h),c=e;c<i-e;c++){var d=t.children[c];a(o,t.leaf?n(d):d),l+=g(o)}for(var u=i-e-1;u>=e;u--){var _=t.children[u];a(h,t.leaf?n(_):_),l+=g(h)}return l},s.prototype._adjustParentBBoxes=function(t,e,i){for(var s=i;s>=0;s--)a(e[s],t)},s.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},s}()},6620:(t,e,i)=>{"use strict";i.d(e,{y:()=>n});var s=i(9706);function n(t){return Array.isArray(t)?(0,s.BB)(t):t}},9731:(t,e,i)=>{"use strict";i.d(e,{Z:()=>Wt});var s=i(1295),n=i(2582),o=i(7539),r=i(283),a=i(1345),h=i(5487),l=i(553),c=i(8443),g=i(9706),d=i(9515),u=i(208),_=i(8326),f=i(2710),m=i(8096);let x=null;class p extends u.Z{constructor(t,e,i,s,n,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=s,this.canvas_={},this.color_=o,this.unlisten_=null,this.imageState_=n,this.size_=i,this.src_=e,this.tainted_}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===l.Z.LOADED){x||(x=(0,_.E4)(1,1,void 0,{willReadFrequently:!0})),x.drawImage(this.image_,0,0);try{x.getImageData(0,0,1,1),this.tainted_=!1}catch(t){x=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(h.Z.CHANGE)}handleImageError_(){this.imageState_=l.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=l.Z.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],i=(0,_.E4)(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===l.Z.IDLE){this.image_||this.initializeImage_(),this.imageState_=l.Z.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=(0,m.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==l.Z.LOADED)return;const e=this.image_,i=document.createElement("canvas");i.width=Math.ceil(e.width*t),i.height=Math.ceil(e.height*t);const s=i.getContext("2d");s.scale(t,t),s.drawImage(e,0,0),s.globalCompositeOperation="multiply",s.fillStyle=(0,g.XC)(this.color_),s.fillRect(0,0,i.width/t,i.height/t),s.globalCompositeOperation="destination-in",s.drawImage(e,0,0),this.canvas_[t]=i}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}var S=i(4187);class y extends c.Z{constructor(t){const e=void 0!==(t=t||{}).opacity?t.opacity:1,i=void 0!==t.rotation?t.rotation:0,s=void 0!==t.scale?t.scale:1,n=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:i,scale:s,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:n,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const o=void 0!==t.img?t.img:null;this.imgSize_=t.imgSize;let r=t.src;(0,d.h)(!(void 0!==r&&o),4),(0,d.h)(!o||o&&this.imgSize_,5),void 0!==r&&0!==r.length||!o||(r=o.src||(0,S.sq)(o)),(0,d.h)(void 0!==r&&r.length>0,6),(0,d.h)(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),69);const a=void 0!==t.src?l.Z.IDLE:l.Z.LOADED;if(this.color_=void 0!==t.color?(0,g._2)(t.color):null,this.iconImage_=function(t,e,i,s,n,o){let r=f.c.get(e,s,o);return r||(r=new p(t,e,i,s,n,o),f.c.set(e,s,o,r)),r}(o,r,void 0!==this.imgSize_?this.imgSize_:null,this.crossOrigin_,a,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,this.width_=t.width,this.height_=t.height,void 0!==this.width_||void 0!==this.height_){const t=this.getImage(1),e=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};t.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):t.addEventListener("load",e)}}clone(){const t=this.getScale();return new y({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(t,e){const i=this.getImage(1);void 0!==t&&void 0!==e?super.setScale([t/i.width,e/i.height]):void 0!==t?super.setScale([t/i.width,t/i.width]):void 0!==e?super.setScale([e/i.height,e/i.height]):super.setScale([1,1])}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),i=this.getScaleArray();return[t[0]-e[0]/i[0],t[1]+e[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=i[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(t){this.width_=t,this.updateScaleFromWidthAndHeight(t,this.height_)}setHeight(t){this.height_=t,this.updateScaleFromWidthAndHeight(this.width_,t)}setScale(t){super.setScale(t);const e=this.getImage(1);if(e){const i=Array.isArray(t)?t[0]:t;void 0!==i&&(this.width_=i*e.width);const s=Array.isArray(t)?t[1]:t;void 0!==s&&(this.height_=s*e.height)}}listenImageChange(t){this.iconImage_.addEventListener(h.Z.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(h.Z.CHANGE,t)}}const v=y;var T=i(5393),k=i(8958),I=i(1280);function w(t){return new o.ZP({fill:C(t,""),stroke:R(t,""),text:D(t),image:O(t)})}function C(t,e){const i=t[e+"fill-color"];if(i)return new a.Z({color:i})}function R(t,e){const i=t[e+"stroke-width"],s=t[e+"stroke-color"];if(i||s)return new k.Z({width:i,color:s,lineCap:t[e+"stroke-line-cap"],lineJoin:t[e+"stroke-line-join"],lineDash:t[e+"stroke-line-dash"],lineDashOffset:t[e+"stroke-line-dash-offset"],miterLimit:t[e+"stroke-miter-limit"]})}function D(t){const e=t["text-value"];if(e)return new I.Z({text:e,font:t["text-font"],maxAngle:t["text-max-angle"],offsetX:t["text-offset-x"],offsetY:t["text-offset-y"],overflow:t["text-overflow"],placement:t["text-placement"],scale:t["text-scale"],rotateWithView:t["text-rotate-with-view"],rotation:t["text-rotation"],textAlign:t["text-align"],justify:t["text-justify"],textBaseline:t["text-baseline"],padding:t["text-padding"],fill:C(t,"text-"),backgroundFill:C(t,"text-background-"),stroke:R(t,"text-"),backgroundStroke:R(t,"text-background-")})}function O(t){const e=t["icon-src"],i=t["icon-img"];if(e||i)return new v({src:e,img:i,imgSize:t["icon-img-size"],anchor:t["icon-anchor"],anchorOrigin:t["icon-anchor-origin"],anchorXUnits:t["icon-anchor-x-units"],anchorYUnits:t["icon-anchor-y-units"],color:t["icon-color"],crossOrigin:t["icon-cross-origin"],offset:t["icon-offset"],displacement:t["icon-displacement"],opacity:t["icon-opacity"],scale:t["icon-scale"],rotation:t["icon-rotation"],rotateWithView:t["icon-rotate-with-view"],size:t["icon-size"],declutterMode:t["icon-declutter-mode"]});const s=t["shape-points"];if(s){const e="shape-";return new T.Z({points:s,fill:C(t,e),stroke:R(t,e),radius:t["shape-radius"],radius1:t["shape-radius1"],radius2:t["shape-radius2"],angle:t["shape-angle"],displacement:t["shape-displacement"],rotation:t["shape-rotation"],rotateWithView:t["shape-rotate-with-view"],scale:t["shape-scale"],declutterMode:t["shape-declutter-mode"]})}const n=t["circle-radius"];if(n){const e="circle-";return new r.Z({radius:n,fill:C(t,e),stroke:R(t,e),displacement:t["circle-displacement"],scale:t["circle-scale"],rotation:t["circle-rotation"],rotateWithView:t["circle-rotate-with-view"],declutterMode:t["circle-declutter-mode"]})}}const L="renderOrder";class M extends s.Z{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=void 0!==t.declutter&&t.declutter,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(L)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t){t.declutterTree||(t.declutterTree=new n(9)),this.getRenderer().renderDeclutter(t)}setRenderOrder(t){this.set(L,t)}setStyle(t){let e;if(void 0===t)e=o.yF;else if(null===t)e=null;else if("function"==typeof t)e=t;else if(t instanceof o.ZP)e=t;else if(Array.isArray(t)){const i=t.length,s=new Array(i);for(let e=0;e<i;++e){const i=t[e];i instanceof o.ZP?s[e]=i:s[e]=w(i)}e=s}else e=w(t);this.style_=e,this.styleFunction_=null===t?void 0:(0,o.J$)(this.style_),this.changed()}}const E=M,A={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},b=[A.FILL],F=[A.STROKE],W=[A.BEGIN_PATH],P=[A.CLOSE_PATH],B=A;var Y=i(8716);const G=class{drawCustom(t,e,i,s){}drawGeometry(t){}setStyle(t){}drawCircle(t,e){}drawFeature(t,e){}drawGeometryCollection(t,e){}drawLineString(t,e){}drawMultiLineString(t,e){}drawMultiPoint(t,e){}drawMultiPolygon(t,e){}drawPoint(t,e){}drawPolygon(t,e){}drawText(t,e){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}};var X=i(6620),Z=i(8641),z=i(147),V=i(5537),N=i(9241);const H=class extends G{constructor(t,e,i,s){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=s,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))}appendFlatPointCoordinates(t,e){const i=this.getBufferedMaxExtent(),s=this.tmpCoordinate_,n=this.coordinates;let o=n.length;for(let r=0,a=t.length;r<a;r+=e)s[0]=t[r],s[1]=t[r+1],(0,Z.b8)(i,s)&&(n[o++]=s[0],n[o++]=s[1]);return o}appendFlatLineCoordinates(t,e,i,s,n,o){const r=this.coordinates;let a=r.length;const h=this.getBufferedMaxExtent();o&&(e+=s);let l=t[e],c=t[e+1];const g=this.tmpCoordinate_;let d,u,_,f=!0;for(d=e+s;d<i;d+=s)g[0]=t[d],g[1]=t[d+1],_=(0,Z.pX)(h,g),_!==u?(f&&(r[a++]=l,r[a++]=c,f=!1),r[a++]=g[0],r[a++]=g[1]):_===Y.Z.INTERSECTING?(r[a++]=g[0],r[a++]=g[1],f=!1):f=!0,l=g[0],c=g[1],u=_;return(n&&f||d===e+s)&&(r[a++]=l,r[a++]=c),a}drawCustomCoordinates_(t,e,i,s,n){for(let o=0,r=i.length;o<r;++o){const r=i[o],a=this.appendFlatLineCoordinates(t,e,r,s,!1,!1);n.push(a),e=r}return e}drawCustom(t,e,i,s){this.beginGeometry(t,e);const n=t.getType(),o=t.getStride(),r=this.coordinates.length;let a,h,l,c,g;switch(n){case"MultiPolygon":a=t.getOrientedFlatCoordinates(),c=[];const e=t.getEndss();g=0;for(let t=0,i=e.length;t<i;++t){const i=[];g=this.drawCustomCoordinates_(a,g,e[t],o,i),c.push(i)}this.instructions.push([B.CUSTOM,r,c,t,i,N.ug]),this.hitDetectionInstructions.push([B.CUSTOM,r,c,t,s||i,N.ug]);break;case"Polygon":case"MultiLineString":l=[],a="Polygon"==n?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),g=this.drawCustomCoordinates_(a,0,t.getEnds(),o,l),this.instructions.push([B.CUSTOM,r,l,t,i,N.o1]),this.hitDetectionInstructions.push([B.CUSTOM,r,l,t,s||i,N.o1]);break;case"LineString":case"Circle":a=t.getFlatCoordinates(),h=this.appendFlatLineCoordinates(a,0,a.length,o,!1,!1),this.instructions.push([B.CUSTOM,r,h,t,i,N.Ml]),this.hitDetectionInstructions.push([B.CUSTOM,r,h,t,s||i,N.Ml]);break;case"MultiPoint":a=t.getFlatCoordinates(),h=this.appendFlatPointCoordinates(a,o),h>r&&(this.instructions.push([B.CUSTOM,r,h,t,i,N.Ml]),this.hitDetectionInstructions.push([B.CUSTOM,r,h,t,s||i,N.Ml]));break;case"Point":a=t.getFlatCoordinates(),this.coordinates.push(a[0],a[1]),h=this.coordinates.length,this.instructions.push([B.CUSTOM,r,h,t,i]),this.hitDetectionInstructions.push([B.CUSTOM,r,h,t,s||i])}this.endGeometry(e)}beginGeometry(t,e){this.beginGeometryInstruction1_=[B.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[B.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let e;t.reverse();const i=t.length;let s,n,o=-1;for(e=0;e<i;++e)s=t[e],n=s[0],n==B.END_GEOMETRY?o=e:n==B.BEGIN_GEOMETRY&&(s[2]=e,(0,V.FZ)(this.hitDetectionInstructions,o,e),o=-1)}setFillStrokeStyle(t,e){const i=this.state;if(t){const e=t.getColor();i.fillStyle=(0,X.y)(e||z.bL)}else i.fillStyle=void 0;if(e){const t=e.getColor();i.strokeStyle=(0,X.y)(t||z.Tx);const s=e.getLineCap();i.lineCap=void 0!==s?s:z.mb;const n=e.getLineDash();i.lineDash=n?n.slice():z.X9;const o=e.getLineDashOffset();i.lineDashOffset=o||z.He;const r=e.getLineJoin();i.lineJoin=void 0!==r?r:z.rc;const a=e.getWidth();i.lineWidth=void 0!==a?a:z.yC;const h=e.getMiterLimit();i.miterLimit=void 0!==h?h:z.V4,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(t){const e=t.fillStyle,i=[B.SET_FILL_STYLE,e];return"string"!=typeof e&&i.push(!0),i}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[B.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)}updateStrokeStyle(t,e){const i=t.strokeStyle,s=t.lineCap,n=t.lineDash,o=t.lineDashOffset,r=t.lineJoin,a=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=s||n!=t.currentLineDash&&!(0,V.fS)(t.currentLineDash,n)||t.currentLineDashOffset!=o||t.currentLineJoin!=r||t.currentLineWidth!=a||t.currentMiterLimit!=h)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=s,t.currentLineDash=n,t.currentLineDashOffset=o,t.currentLineJoin=r,t.currentLineWidth=a,t.currentMiterLimit=h)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[B.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,Z.d9)(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;(0,Z.f3)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}};var J=i(226);const q=class extends H{constructor(t,e,i,s){super(t,e,i,s)}drawFlatCoordinatess_(t,e,i,s){const n=this.state,o=void 0!==n.fillStyle,r=void 0!==n.strokeStyle,a=i.length;this.instructions.push(W),this.hitDetectionInstructions.push(W);for(let n=0;n<a;++n){const o=i[n],a=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,o,s,!0,!r),l=[B.MOVE_TO_LINE_TO,a,h];this.instructions.push(l),this.hitDetectionInstructions.push(l),r&&(this.instructions.push(P),this.hitDetectionInstructions.push(P)),e=o}return o&&(this.instructions.push(b),this.hitDetectionInstructions.push(b)),r&&(this.instructions.push(F),this.hitDetectionInstructions.push(F)),e}drawCircle(t,e){const i=this.state,s=i.fillStyle,n=i.strokeStyle;if(void 0===s&&void 0===n)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([B.SET_FILL_STYLE,z.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([B.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const o=t.getFlatCoordinates(),r=t.getStride(),a=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,r,!1,!1);const h=[B.CIRCLE,a];this.instructions.push(W,h),this.hitDetectionInstructions.push(W,h),void 0!==i.fillStyle&&(this.instructions.push(b),this.hitDetectionInstructions.push(b)),void 0!==i.strokeStyle&&(this.instructions.push(F),this.hitDetectionInstructions.push(F)),this.endGeometry(e)}drawPolygon(t,e){const i=this.state,s=i.fillStyle,n=i.strokeStyle;if(void 0===s&&void 0===n)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([B.SET_FILL_STYLE,z.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([B.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const o=t.getEnds(),r=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(r,0,o,a),this.endGeometry(e)}drawMultiPolygon(t,e){const i=this.state,s=i.fillStyle,n=i.strokeStyle;if(void 0===s&&void 0===n)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([B.SET_FILL_STYLE,z.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([B.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const o=t.getEndss(),r=t.getOrientedFlatCoordinates(),a=t.getStride();let h=0;for(let t=0,e=o.length;t<e;++t)h=this.drawFlatCoordinatess_(r,h,o[t],a);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let i=0,s=e.length;i<s;++i)e[i]=(0,J.uZ)(e[i],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}};function K(t,e,i,s,n){let o,r,a,h,l,c,g,d,u,_,f=i,m=i,x=0,p=0,S=i;for(r=i;r<s;r+=n){const i=e[r],s=e[r+1];void 0!==l&&(u=i-l,_=s-c,h=Math.sqrt(u*u+_*_),void 0!==g&&(p+=a,o=Math.acos((g*u+d*_)/(a*h)),o>t&&(p>x&&(x=p,f=S,m=r),p=0,S=r-n)),a=h,g=u,d=_),l=i,c=s}return p+=h,p>x?[S,r]:[f,m]}const U={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},j={Circle:q,Default:H,Image:class extends H{constructor(t,e,i,s){super(t,e,i,s),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const i=t.getFlatCoordinates(),s=t.getStride(),n=this.coordinates.length,o=this.appendFlatPointCoordinates(i,s);this.instructions.push([B.DRAW_IMAGE,n,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([B.DRAW_IMAGE,n,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const i=t.getFlatCoordinates(),s=t.getStride(),n=this.coordinates.length,o=this.appendFlatPointCoordinates(i,s);this.instructions.push([B.DRAW_IMAGE,n,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([B.DRAW_IMAGE,n,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const i=t.getAnchor(),s=t.getSize(),n=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=s[1],this.opacity_=t.getOpacity(),this.originX_=n[0],this.originY_=n[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=s[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}},LineString:class extends H{constructor(t,e,i,s){super(t,e,i,s)}drawFlatCoordinates_(t,e,i,s){const n=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,i,s,!1,!1),r=[B.MOVE_TO_LINE_TO,n,o];return this.instructions.push(r),this.hitDetectionInstructions.push(r),i}drawLineString(t,e){const i=this.state,s=i.strokeStyle,n=i.lineWidth;if(void 0===s||void 0===n)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([B.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,z.X9,z.He],W);const o=t.getFlatCoordinates(),r=t.getStride();this.drawFlatCoordinates_(o,0,o.length,r),this.hitDetectionInstructions.push(F),this.endGeometry(e)}drawMultiLineString(t,e){const i=this.state,s=i.strokeStyle,n=i.lineWidth;if(void 0===s||void 0===n)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([B.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],W);const o=t.getEnds(),r=t.getFlatCoordinates(),a=t.getStride();let h=0;for(let t=0,e=o.length;t<e;++t)h=this.drawFlatCoordinates_(r,h,o[t],a);this.hitDetectionInstructions.push(F),this.endGeometry(e)}finish(){const t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(F),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(F),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(W)}},Polygon:q,Text:class extends H{constructor(t,e,i,s){super(t,e,i,s),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e){const i=this.textFillState_,s=this.textStrokeState_,n=this.textState_;if(""===this.text_||!n||!i&&!s)return;const o=this.coordinates;let r=o.length;const a=t.getType();let h=null,l=t.getStride();if("line"!==n.placement||"LineString"!=a&&"MultiLineString"!=a&&"Polygon"!=a&&"MultiPolygon"!=a){let i=n.overflow?null:[];switch(a){case"Point":case"MultiPoint":h=t.getFlatCoordinates();break;case"LineString":h=t.getFlatMidpoint();break;case"Circle":h=t.getCenter();break;case"MultiLineString":h=t.getFlatMidpoints(),l=2;break;case"Polygon":h=t.getFlatInteriorPoint(),n.overflow||i.push(h[2]/this.resolution),l=3;break;case"MultiPolygon":const e=t.getFlatInteriorPoints();h=[];for(let t=0,s=e.length;t<s;t+=3)n.overflow||i.push(e[t+2]/this.resolution),h.push(e[t],e[t+1]);if(0===h.length)return;l=2}const s=this.appendFlatPointCoordinates(h,l);if(s===r)return;if(i&&(s-r)/2!=h.length/l){let t=r/2;i=i.filter(((e,i)=>{const s=o[2*(t+i)]===h[i*l]&&o[2*(t+i)+1]===h[i*l+1];return s||--t,s}))}this.saveTextStates_(),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);let c=n.padding;if(c!=z.oB&&(n.scale[0]<0||n.scale[1]<0)){let t=n.padding[0],e=n.padding[1],i=n.padding[2],s=n.padding[3];n.scale[0]<0&&(e=-e,s=-s),n.scale[1]<0&&(t=-t,i=-i),c=[t,e,i,s]}const g=this.pixelRatio;this.instructions.push([B.DRAW_IMAGE,r,s,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,c==z.oB?z.oB:c.map((function(t){return t*g})),!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]);const d=1/g;this.hitDetectionInstructions.push([B.DRAW_IMAGE,r,s,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[d,d],NaN,void 0,this.declutterImageWithText_,c,!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]),this.endGeometry(e)}else{if(!(0,Z.kK)(this.getBufferedMaxExtent(),t.getExtent()))return;let i;if(h=t.getFlatCoordinates(),"LineString"==a)i=[h.length];else if("MultiLineString"==a)i=t.getEnds();else if("Polygon"==a)i=t.getEnds().slice(0,1);else if("MultiPolygon"==a){const e=t.getEndss();i=[];for(let t=0,s=e.length;t<s;++t)i.push(e[t][0])}this.beginGeometry(t,e);const s=n.textAlign;let c,g=0;for(let t=0,e=i.length;t<e;++t){if(null==s){const e=K(n.maxAngle,h,g,i[t],l);g=e[0],c=e[1]}else c=i[t];for(let t=g;t<c;t+=l)o.push(h[t],h[t+1]);const e=o.length;g=i[t],this.drawChars_(r,e),r=e}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,s=this.strokeKey_;t&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const n=this.textKey_;n in this.textStates||(this.textStates[n]={font:e.font,textAlign:e.textAlign||z.PH,justify:e.justify,textBaseline:e.textBaseline||z.ru,scale:e.scale});const o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))}drawChars_(t,e){const i=this.textStrokeState_,s=this.textState_,n=this.strokeKey_,o=this.textKey_,r=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,h=U[s.textBaseline],l=this.textOffsetY_*a,c=this.text_,g=i?i.lineWidth*Math.abs(s.scale[0])/2:0;this.instructions.push([B.DRAW_CHARS,t,e,h,s.overflow,r,s.maxAngle,a,l,n,g*a,c,o,1]),this.hitDetectionInstructions.push([B.DRAW_CHARS,t,e,h,s.overflow,r,s.maxAngle,1,l,n,g,c,o,1/a])}setTextStyle(t,e){let i,s,n;if(t){const e=t.getFill();e?(s=this.textFillState_,s||(s={},this.textFillState_=s),s.fillStyle=(0,X.y)(e.getColor()||z.bL)):(s=null,this.textFillState_=s);const o=t.getStroke();if(o){n=this.textStrokeState_,n||(n={},this.textStrokeState_=n);const t=o.getLineDash(),e=o.getLineDashOffset(),i=o.getWidth(),s=o.getMiterLimit();n.lineCap=o.getLineCap()||z.mb,n.lineDash=t?t.slice():z.X9,n.lineDashOffset=void 0===e?z.He:e,n.lineJoin=o.getLineJoin()||z.rc,n.lineWidth=void 0===i?z.yC:i,n.miterLimit=void 0===s?z.V4:s,n.strokeStyle=(0,X.y)(o.getColor()||z.Tx)}else n=null,this.textStrokeState_=n;i=this.textState_;const r=t.getFont()||z.Df;(0,z.Qx)(r);const a=t.getScaleArray();i.overflow=t.getOverflow(),i.font=r,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||z.ru,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||z.oB,i.scale=void 0===a?[1,1]:a;const h=t.getOffsetX(),l=t.getOffsetY(),c=t.getRotateWithView(),g=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===h?0:h,this.textOffsetY_=void 0===l?0:l,this.textRotateWithView_=void 0!==c&&c,this.textRotation_=void 0===g?0:g,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:(0,S.sq)(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=s?"string"==typeof s.fillStyle?s.fillStyle:"|"+(0,S.sq)(s.fillStyle):""}else this.text_="";this.declutterImageWithText_=e}}},$=class{constructor(t,e,i,s){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=s,this.resolution_=i,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const i=this.buildersByZIndex_[e];for(const s in i){const n=i[s].finish();t[e][s]=n}}return t}getBuilder(t,e){const i=void 0!==t?t.toString():"0";let s=this.buildersByZIndex_[i];void 0===s&&(s={},this.buildersByZIndex_[i]=s);let n=s[e];return void 0===n&&(n=new(0,j[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),s[e]=n),n}};var Q=i(6101),tt=i(3983),et=i(6442);function it(t,e,i,s,n,o,r,a,h,l,c,g){let d=t[e],u=t[e+1],_=0,f=0,m=0,x=0;function p(){_=d,f=u,d=t[e+=s],u=t[e+1],x+=m,m=Math.sqrt((d-_)*(d-_)+(u-f)*(u-f))}do{p()}while(e<i-s&&x+m<o);let S=0===m?0:(o-x)/m;const y=(0,tt.t7)(_,d,S),v=(0,tt.t7)(f,u,S),T=e-s,k=x,I=o+a*h(l,n,c);for(;e<i-s&&x+m<I;)p();S=0===m?0:(I-x)/m;const w=(0,tt.t7)(_,d,S),C=(0,tt.t7)(f,u,S);let R;if(g){const t=[y,v,w,C];(0,et.U1)(t,0,4,2,g,t,t),R=t[0]>t[2]}else R=y>w;const D=Math.PI,O=[],L=T+s===e;let M;if(m=0,x=k,d=t[e=T],u=t[e+1],L){p(),M=Math.atan2(u-f,d-_),R&&(M+=M>0?-D:D);const t=(w+y)/2,e=(C+v)/2;return O[0]=[t,e,(I-o)/2,M,n],O}for(let t=0,g=(n=n.replace(/\n/g," ")).length;t<g;){p();let y=Math.atan2(u-f,d-_);if(R&&(y+=y>0?-D:D),void 0!==M){let t=y-M;if(t+=t>D?-2*D:t<-D?2*D:0,Math.abs(t)>r)return null}M=y;const v=t;let T=0;for(;t<g;++t){const r=a*h(l,n[R?g-t-1:t],c);if(e+s<i&&x+m<o+T+r/2)break;T+=r}if(t===v)continue;const k=R?n.substring(g-v,g-t):n.substring(v,t);S=0===m?0:(o+T/2-x)/m;const I=(0,tt.t7)(_,d,S),w=(0,tt.t7)(f,u,S);O.push([I,w,T/2,y,k]),o+=T}return O}function st(t,e,i,s){let n=t[e],o=t[e+1],r=0;for(let a=e+s;a<i;a+=s){const e=t[a],i=t[a+1];r+=Math.sqrt((e-n)*(e-n)+(i-o)*(i-o)),n=e,o=i}return r}const nt=(0,Z.lJ)(),ot=[],rt=[],at=[],ht=[];function lt(t){return t[3].declutterBox}const ct=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function gt(t,e){return"start"!==e&&"end"!==e||ct.test(t)||(e="start"===e?"left":"right"),U[e]}function dt(t,e,i){return i>0&&t.push("\n",""),t.push(e,""),t}const ut=class{constructor(t,e,i,s){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=s.instructions,this.coordinates=s.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,Q.Ue)(),this.hitDetectionInstructions=s.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=s.fillStates||{},this.strokeStates=s.strokeStates||{},this.textStates=s.textStates||{},this.widths_={},this.labels_={}}createLabel(t,e,i,s){const n=t+e+i+s;if(this.labels_[n])return this.labels_[n];const o=s?this.strokeStates[s]:null,r=i?this.fillStates[i]:null,a=this.textStates[e],h=this.pixelRatio,l=[a.scale[0]*h,a.scale[1]*h],c=Array.isArray(t),g=a.justify?U[a.justify]:gt(Array.isArray(t)?t[0]:t,a.textAlign||z.PH),d=s&&o.lineWidth?o.lineWidth:0,u=c?t:t.split("\n").reduce(dt,[]),{width:_,height:f,widths:m,heights:x,lineWidths:p}=(0,z.Zw)(a,u),S=_+d,y=[],v=(S+2)*l[0],T=(f+d)*l[1],k={width:v<0?Math.floor(v):Math.ceil(v),height:T<0?Math.floor(T):Math.ceil(T),contextInstructions:y};1==l[0]&&1==l[1]||y.push("scale",l),s&&(y.push("strokeStyle",o.strokeStyle),y.push("lineWidth",d),y.push("lineCap",o.lineCap),y.push("lineJoin",o.lineJoin),y.push("miterLimit",o.miterLimit),y.push("setLineDash",[o.lineDash]),y.push("lineDashOffset",o.lineDashOffset)),i&&y.push("fillStyle",r.fillStyle),y.push("textBaseline","middle"),y.push("textAlign","center");const I=.5-g;let w=g*S+I*d;const C=[],R=[];let D,O=0,L=0,M=0,E=0;for(let t=0,e=u.length;t<e;t+=2){const e=u[t];if("\n"===e){L+=O,O=0,w=g*S+I*d,++E;continue}const n=u[t+1]||a.font;n!==D&&(s&&C.push("font",n),i&&R.push("font",n),D=n),O=Math.max(O,x[M]);const o=[e,w+I*m[M]+g*(m[M]-p[E]),.5*(d+O)+L];w+=m[M],s&&C.push("strokeText",o),i&&R.push("fillText",o),++M}return Array.prototype.push.apply(y,C),Array.prototype.push.apply(y,R),this.labels_[n]=k,k}replayTextBackground_(t,e,i,s,n,o,r){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,s),t.lineTo.apply(t,n),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),r&&(this.setStrokeStyle_(t,r),t.stroke())}calculateImageOrLabelDimensions_(t,e,i,s,n,o,r,a,h,l,c,g,d,u,_,f){let m=i-(r*=g[0]),x=s-(a*=g[1]);const p=n+h>t?t-h:n,S=o+l>e?e-l:o,y=u[3]+p*g[0]+u[1],v=u[0]+S*g[1]+u[2],T=m-u[3],k=x-u[0];let I;return(_||0!==c)&&(ot[0]=T,ht[0]=T,ot[1]=k,rt[1]=k,rt[0]=T+y,at[0]=rt[0],at[1]=k+v,ht[1]=at[1]),0!==c?(I=(0,Q.qC)((0,Q.Ue)(),i,s,1,1,c,-i,-s),(0,Q.nn)(I,ot),(0,Q.nn)(I,rt),(0,Q.nn)(I,at),(0,Q.nn)(I,ht),(0,Z.T9)(Math.min(ot[0],rt[0],at[0],ht[0]),Math.min(ot[1],rt[1],at[1],ht[1]),Math.max(ot[0],rt[0],at[0],ht[0]),Math.max(ot[1],rt[1],at[1],ht[1]),nt)):(0,Z.T9)(Math.min(T,T+y),Math.min(k,k+v),Math.max(T,T+y),Math.max(k,k+v),nt),d&&(m=Math.round(m),x=Math.round(x)),{drawImageX:m,drawImageY:x,drawImageW:p,drawImageH:S,originX:h,originY:l,declutterBox:{minX:nt[0],minY:nt[1],maxX:nt[2],maxY:nt[3],value:f},canvasTransform:I,scale:g}}replayImageOrLabel_(t,e,i,s,n,o,r){const a=!(!o&&!r),h=s.declutterBox,l=t.canvas,c=r?r[2]*s.scale[0]/2:0;return h.minX-c<=l.width/e&&h.maxX+c>=0&&h.minY-c<=l.height/e&&h.maxY+c>=0&&(a&&this.replayTextBackground_(t,ot,rt,at,ht,o,r),(0,z._f)(t,s.canvasTransform,n,i,s.originX,s.originY,s.drawImageW,s.drawImageH,s.drawImageX,s.drawImageY,s.scale)),!0}fill_(t){if(this.alignFill_){const e=(0,Q.nn)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,i,s){const n=this.textStates[e],o=this.createLabel(t,e,s,i),r=this.strokeStates[i],a=this.pixelRatio,h=gt(Array.isArray(t)?t[0]:t,n.textAlign||z.PH),l=U[n.textBaseline||z.ru],c=r&&r.lineWidth?r.lineWidth:0;return{label:o,anchorX:h*(o.width/a-2*n.scale[0])+2*(.5-h)*c,anchorY:l*o.height/a+2*(.5-l)*c}}execute_(t,e,i,s,n,o,r,a){let h;this.pixelCoordinates_&&(0,V.fS)(i,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=(0,et.vT)(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),(0,Q.lk)(this.renderedTransform_,i));let l=0;const c=s.length;let g,d,u,_,f,m,x,p,S,y,v,T,k=0,I=0,w=0,C=null,R=null;const D=this.coordinateCache_,O=this.viewRotation_,L=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,M={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:O},E=this.instructions!=s||this.overlaps?0:200;let A,b,F,W;for(;l<c;){const i=s[l];switch(i[0]){case B.BEGIN_GEOMETRY:A=i[1],W=i[3],A.getGeometry()?void 0===r||(0,Z.kK)(r,W.getExtent())?++l:l=i[2]+1:l=i[2];break;case B.BEGIN_PATH:I>E&&(this.fill_(t),I=0),w>E&&(t.stroke(),w=0),I||w||(t.beginPath(),_=NaN,f=NaN),++l;break;case B.CIRCLE:k=i[1];const s=h[k],c=h[k+1],P=h[k+2]-s,Y=h[k+3]-c,G=Math.sqrt(P*P+Y*Y);t.moveTo(s+G,c),t.arc(s,c,G,0,2*Math.PI,!0),++l;break;case B.CLOSE_PATH:t.closePath(),++l;break;case B.CUSTOM:k=i[1],g=i[2];const X=i[3],V=i[4],N=6==i.length?i[5]:void 0;M.geometry=X,M.feature=A,l in D||(D[l]=[]);const H=D[l];N?N(h,k,g,2,H):(H[0]=h[k],H[1]=h[k+1],H.length=2),V(H,M),++l;break;case B.DRAW_IMAGE:k=i[1],g=i[2],p=i[3],d=i[4],u=i[5];let J=i[6];const q=i[7],K=i[8],j=i[9],$=i[10];let Q=i[11];const tt=i[12];let et=i[13];const nt=i[14],ot=i[15];if(!p&&i.length>=20){S=i[19],y=i[20],v=i[21],T=i[22];const t=this.drawLabelWithPointPlacement_(S,y,v,T);p=t.label,i[3]=p;const e=i[23];d=(t.anchorX-e)*this.pixelRatio,i[4]=d;const s=i[24];u=(t.anchorY-s)*this.pixelRatio,i[5]=u,J=p.height,i[6]=J,et=p.width,i[13]=et}let rt,at,ht,ct;i.length>25&&(rt=i[25]),i.length>17?(at=i[16],ht=i[17],ct=i[18]):(at=z.oB,ht=!1,ct=!1),$&&L?Q+=O:$||L||(Q-=O);let gt=0;for(;k<g;k+=2){if(rt&&rt[gt++]<et/this.pixelRatio)continue;const i=this.calculateImageOrLabelDimensions_(p.width,p.height,h[k],h[k+1],et,J,d,u,K,j,Q,tt,n,at,ht||ct,A),s=[t,e,p,i,q,ht?C:null,ct?R:null];if(a){if("none"===nt)continue;if("obstacle"===nt){a.insert(i.declutterBox);continue}{let t,e;if(ot){const i=g-k;if(!ot[i]){ot[i]=s;continue}if(t=ot[i],delete ot[i],e=lt(t),a.collides(e))continue}if(a.collides(i.declutterBox))continue;t&&(a.insert(e),this.replayImageOrLabel_.apply(this,t)),a.insert(i.declutterBox)}}this.replayImageOrLabel_.apply(this,s)}++l;break;case B.DRAW_CHARS:const dt=i[1],ut=i[2],_t=i[3],ft=i[4];T=i[5];const mt=i[6],xt=i[7],pt=i[8];v=i[9];const St=i[10];S=i[11],y=i[12];const yt=[i[13],i[13]],vt=this.textStates[y],Tt=vt.font,kt=[vt.scale[0]*xt,vt.scale[1]*xt];let It;Tt in this.widths_?It=this.widths_[Tt]:(It={},this.widths_[Tt]=It);const wt=st(h,dt,ut,2),Ct=Math.abs(kt[0])*(0,z.Kd)(Tt,S,It);if(ft||Ct<=wt){const i=this.textStates[y].textAlign,s=it(h,dt,ut,2,S,(wt-Ct)*U[i],mt,Math.abs(kt[0]),z.Kd,Tt,It,L?0:this.viewRotation_);t:if(s){const i=[];let n,o,r,h,l;if(v)for(n=0,o=s.length;n<o;++n){l=s[n],r=l[4],h=this.createLabel(r,y,"",v),d=l[2]+(kt[0]<0?-St:St),u=_t*h.height+2*(.5-_t)*St*kt[1]/kt[0]-pt;const o=this.calculateImageOrLabelDimensions_(h.width,h.height,l[0],l[1],h.width,h.height,d,u,0,0,l[3],yt,!1,z.oB,!1,A);if(a&&a.collides(o.declutterBox))break t;i.push([t,e,h,o,1,null,null])}if(T)for(n=0,o=s.length;n<o;++n){l=s[n],r=l[4],h=this.createLabel(r,y,T,""),d=l[2],u=_t*h.height-pt;const o=this.calculateImageOrLabelDimensions_(h.width,h.height,l[0],l[1],h.width,h.height,d,u,0,0,l[3],yt,!1,z.oB,!1,A);if(a&&a.collides(o.declutterBox))break t;i.push([t,e,h,o,1,null,null])}a&&a.load(i.map(lt));for(let t=0,e=i.length;t<e;++t)this.replayImageOrLabel_.apply(this,i[t])}}++l;break;case B.END_GEOMETRY:if(void 0!==o){A=i[1];const t=o(A,W);if(t)return t}++l;break;case B.FILL:E?I++:this.fill_(t),++l;break;case B.MOVE_TO_LINE_TO:for(k=i[1],g=i[2],b=h[k],F=h[k+1],m=b+.5|0,x=F+.5|0,m===_&&x===f||(t.moveTo(b,F),_=m,f=x),k+=2;k<g;k+=2)b=h[k],F=h[k+1],m=b+.5|0,x=F+.5|0,k!=g-2&&m===_&&x===f||(t.lineTo(b,F),_=m,f=x);++l;break;case B.SET_FILL_STYLE:C=i,this.alignFill_=i[2],I&&(this.fill_(t),I=0,w&&(t.stroke(),w=0)),t.fillStyle=i[1],++l;break;case B.SET_STROKE_STYLE:R=i,w&&(t.stroke(),w=0),this.setStrokeStyle_(t,i),++l;break;case B.STROKE:E?w++:t.stroke(),++l;break;default:++l}}I&&this.fill_(t),w&&t.stroke()}execute(t,e,i,s,n,o){this.viewRotation_=s,this.execute_(t,e,i,this.instructions,n,void 0,void 0,o)}executeHitDetection(t,e,i,s,n){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,s,n)}};var _t=i(9374);const ft=["Polygon","Circle","LineString","Image","Text","Default"],mt={},xt=class{constructor(t,e,i,s,n,o){this.maxExtent_=t,this.overlaps_=s,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,Q.Ue)(),this.createExecutors_(n)}clip(t,e){const i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()}createExecutors_(t){for(const e in t){let i=this.executorsByZIndex_[e];void 0===i&&(i={},this.executorsByZIndex_[e]=i);const s=t[e];for(const t in s){const e=s[t];i[t]=new ut(this.resolution_,this.pixelRatio_,this.overlaps_,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const i=this.executorsByZIndex_[e];for(let e=0,s=t.length;e<s;++e)if(t[e]in i)return!0}return!1}forEachFeatureAtCoordinate(t,e,i,s,n,o){const r=2*(s=Math.round(s))+1,a=(0,Q.qC)(this.hitDetectionTransform_,s+.5,s+.5,1/e,-1/e,-i,-t[0],-t[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=(0,_.E4)(r,r,void 0,{willReadFrequently:!0}));const l=this.hitDetectionContext_;let c;l.canvas.width!==r||l.canvas.height!==r?(l.canvas.width=r,l.canvas.height=r):h||l.clearRect(0,0,r,r),void 0!==this.renderBuffer_&&(c=(0,Z.lJ)(),(0,Z.Wj)(c,t),(0,Z.f3)(c,e*(this.renderBuffer_+s),c));const g=function(t){if(void 0!==mt[t])return mt[t];const e=2*t+1,i=t*t,s=new Array(i+1);for(let n=0;n<=t;++n)for(let o=0;o<=t;++o){const r=n*n+o*o;if(r>i)break;let a=s[r];a||(a=[],s[r]=a),a.push(4*((t+n)*e+(t+o))+3),n>0&&a.push(4*((t-n)*e+(t+o))+3),o>0&&(a.push(4*((t+n)*e+(t-o))+3),n>0&&a.push(4*((t-n)*e+(t-o))+3))}const n=[];for(let t=0,e=s.length;t<e;++t)s[t]&&n.push(...s[t]);return mt[t]=n,n}(s);let d;function u(t,e){const i=l.getImageData(0,0,r,r).data;for(let a=0,h=g.length;a<h;a++)if(i[g[a]]>0){if(!o||"Image"!==d&&"Text"!==d||o.includes(t)){const i=(g[a]-3)/4,o=s-i%r,h=s-(i/r|0),l=n(t,e,o*o+h*h);if(l)return l}l.clearRect(0,0,r,r);break}}const f=Object.keys(this.executorsByZIndex_).map(Number);let m,x,p,S,y;for(f.sort(V.j2),m=f.length-1;m>=0;--m){const t=f[m].toString();for(p=this.executorsByZIndex_[t],x=ft.length-1;x>=0;--x)if(d=ft[x],S=p[d],void 0!==S&&(y=S.executeHitDetection(l,a,i,u,c),y))return y}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const i=e[0],s=e[1],n=e[2],o=e[3],r=[i,s,i,o,n,o,n,s];return(0,et.vT)(r,0,8,2,t,r),r}isEmpty(){return(0,_t.x)(this.executorsByZIndex_)}execute(t,e,i,s,n,o,r){const a=Object.keys(this.executorsByZIndex_).map(Number);let h,l,c,g,d,u;for(a.sort(V.j2),this.maxExtent_&&(t.save(),this.clip(t,i)),o=o||ft,r&&a.reverse(),h=0,l=a.length;h<l;++h){const l=a[h].toString();for(d=this.executorsByZIndex_[l],c=0,g=o.length;c<g;++c)u=d[o[c]],void 0!==u&&u.execute(t,e,i,s,n,r)}this.maxExtent_&&t.restore()}};var pt=i(4708),St=i(7195),yt=i(7755),vt=i(6762);const Tt=class extends G{constructor(t,e,i,s,n,o,r){super(),this.context_=t,this.pixelRatio_=e,this.extent_=i,this.transform_=s,this.transformRotation_=s?(0,tt.FH)(Math.atan2(s[1],s[0]),10):0,this.viewRotation_=n,this.squaredTolerance_=o,this.userTransform_=r,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,Q.Ue)()}drawImages_(t,e,i,s){if(!this.image_)return;const n=(0,et.vT)(t,e,i,s,this.transform_,this.pixelCoordinates_),o=this.context_,r=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);let h=this.imageRotation_;0===this.transformRotation_&&(h-=this.viewRotation_),this.imageRotateWithView_&&(h+=this.viewRotation_);for(let t=0,e=n.length;t<e;t+=2){const e=n[t]-this.imageAnchorX_,i=n[t+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const t=e+this.imageAnchorX_,s=i+this.imageAnchorY_;(0,Q.qC)(r,t,s,1,1,h,-t,-s),o.setTransform.apply(o,r),o.translate(t,s),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,e,i,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}drawText_(t,e,i,s){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const n=(0,et.vT)(t,e,i,s,this.transform_,this.pixelCoordinates_),o=this.context_;let r=this.textRotation_;for(0===this.transformRotation_&&(r-=this.viewRotation_),this.textRotateWithView_&&(r+=this.viewRotation_);e<i;e+=s){const t=n[e]+this.textOffsetX_,i=n[e+1]+this.textOffsetY_;0!==r||1!=this.textScale_[0]||1!=this.textScale_[1]?(o.translate(t-this.textOffsetX_,i-this.textOffsetY_),o.rotate(r),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&o.strokeText(this.text_,t,i),this.textFillState_&&o.fillText(this.text_,t,i))}}moveToLineTo_(t,e,i,s,n){const o=this.context_,r=(0,et.vT)(t,e,i,s,this.transform_,this.pixelCoordinates_);o.moveTo(r[0],r[1]);let a=r.length;n&&(a-=2);for(let t=2;t<a;t+=2)o.lineTo(r[t],r[t+1]);return n&&o.closePath(),i}drawRings_(t,e,i,s){for(let n=0,o=i.length;n<o;++n)e=this.moveToLineTo_(t,e,i[n],s,!0);return e}drawCircle(t){if((0,Z.kK)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=(0,vt.Kr)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],s=e[3]-e[1],n=Math.sqrt(i*i+s*s),o=this.context_;o.beginPath(),o.arc(e[0],e[1],n,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}}drawFeature(t,e){const i=e.getGeometryFunction()(t);i&&(0,Z.kK)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let t=0,i=e.length;t<i;++t)this.drawGeometry(e[t])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,Z.kK)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if((0,Z.kK)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getFlatCoordinates();let s=0;const n=t.getEnds(),o=t.getStride();e.beginPath();for(let t=0,e=n.length;t<e;++t)s=this.moveToLineTo_(i,s,n[t],o,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,Z.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,Z.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getOrientedFlatCoordinates();let s=0;const n=t.getEndss(),o=t.getStride();e.beginPath();for(let t=0,e=n.length;t<e;++t){const e=n[t];s=this.drawRings_(i,s,e,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),(0,V.fS)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,i=this.contextTextState_,s=t.textAlign?t.textAlign:z.PH;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=s&&(i.textAlign=s,e.textAlign=s),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=s,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:s,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:(0,X.y)(e||z.bL)}}else this.fillState_=null;if(e){const t=e.getColor(),i=e.getLineCap(),s=e.getLineDash(),n=e.getLineDashOffset(),o=e.getLineJoin(),r=e.getWidth(),a=e.getMiterLimit(),h=s||z.X9;this.strokeState_={lineCap:void 0!==i?i:z.mb,lineDash:1===this.pixelRatio_?h:h.map((t=>t*this.pixelRatio_)),lineDashOffset:(n||z.He)*this.pixelRatio_,lineJoin:void 0!==o?o:z.rc,lineWidth:(void 0!==r?r:z.yC)*this.pixelRatio_,miterLimit:void 0!==a?a:z.V4,strokeStyle:(0,X.y)(t||z.Tx)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize()))return void(this.image_=null);const i=t.getPixelRatio(this.pixelRatio_),s=t.getAnchor(),n=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=s[0]*i,this.imageAnchorY_=s[1]*i,this.imageHeight_=e[1]*i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const o=t.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/i,o[1]*this.pixelRatio_/i],this.imageWidth_=e[0]*i}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:(0,X.y)(t||z.bL)}}else this.textFillState_=null;const i=t.getStroke();if(i){const t=i.getColor(),e=i.getLineCap(),s=i.getLineDash(),n=i.getLineDashOffset(),o=i.getLineJoin(),r=i.getWidth(),a=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:z.mb,lineDash:s||z.X9,lineDashOffset:n||z.He,lineJoin:void 0!==o?o:z.rc,lineWidth:void 0!==r?r:z.yC,miterLimit:void 0!==a?a:z.V4,strokeStyle:(0,X.y)(t||z.Tx)}}else this.textStrokeState_=null;const s=t.getFont(),n=t.getOffsetX(),o=t.getOffsetY(),r=t.getRotateWithView(),a=t.getRotation(),h=t.getScaleArray(),l=t.getText(),c=t.getTextAlign(),g=t.getTextBaseline();this.textState_={font:void 0!==s?s:z.Df,textAlign:void 0!==c?c:z.PH,textBaseline:void 0!==g?g:z.ru},this.text_=void 0!==l?Array.isArray(l)?l.reduce(((t,e,i)=>t+(i%2?" ":e)),""):l:"",this.textOffsetX_=void 0!==n?this.pixelRatio_*n:0,this.textOffsetY_=void 0!==o?this.pixelRatio_*o:0,this.textRotateWithView_=void 0!==r&&r,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*h[0],this.pixelRatio_*h[1]]}else this.text_=""}},kt=.5,It=.5,wt={Point:function(t,e,i,s,n){const o=i.getImage(),r=i.getText();let a;if(o){if(o.getImageState()!=l.Z.LOADED)return;let h=t;if(n){const l=o.getDeclutterMode();if("none"!==l)if(h=n,"obstacle"===l){const n=t.getBuilder(i.getZIndex(),"Image");n.setImageStyle(o,a),n.drawPoint(e,s)}else r&&r.getText()&&(a={})}const c=h.getBuilder(i.getZIndex(),"Image");c.setImageStyle(o,a),c.drawPoint(e,s)}if(r&&r.getText()){let o=t;n&&(o=n);const h=o.getBuilder(i.getZIndex(),"Text");h.setTextStyle(r,a),h.drawText(e,s)}},LineString:function(t,e,i,s,n){const o=i.getStroke();if(o){const n=t.getBuilder(i.getZIndex(),"LineString");n.setFillStrokeStyle(null,o),n.drawLineString(e,s)}const r=i.getText();if(r&&r.getText()){const o=(n||t).getBuilder(i.getZIndex(),"Text");o.setTextStyle(r),o.drawText(e,s)}},Polygon:function(t,e,i,s,n){const o=i.getFill(),r=i.getStroke();if(o||r){const n=t.getBuilder(i.getZIndex(),"Polygon");n.setFillStrokeStyle(o,r),n.drawPolygon(e,s)}const a=i.getText();if(a&&a.getText()){const o=(n||t).getBuilder(i.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,s)}},MultiPoint:function(t,e,i,s,n){const o=i.getImage(),r=i.getText();let a;if(o){if(o.getImageState()!=l.Z.LOADED)return;let h=t;if(n){const l=o.getDeclutterMode();if("none"!==l)if(h=n,"obstacle"===l){const n=t.getBuilder(i.getZIndex(),"Image");n.setImageStyle(o,a),n.drawMultiPoint(e,s)}else r&&r.getText()&&(a={})}const c=h.getBuilder(i.getZIndex(),"Image");c.setImageStyle(o,a),c.drawMultiPoint(e,s)}if(r&&r.getText()){let o=t;n&&(o=n);const h=o.getBuilder(i.getZIndex(),"Text");h.setTextStyle(r,a),h.drawText(e,s)}},MultiLineString:function(t,e,i,s,n){const o=i.getStroke();if(o){const n=t.getBuilder(i.getZIndex(),"LineString");n.setFillStrokeStyle(null,o),n.drawMultiLineString(e,s)}const r=i.getText();if(r&&r.getText()){const o=(n||t).getBuilder(i.getZIndex(),"Text");o.setTextStyle(r),o.drawText(e,s)}},MultiPolygon:function(t,e,i,s,n){const o=i.getFill(),r=i.getStroke();if(r||o){const n=t.getBuilder(i.getZIndex(),"Polygon");n.setFillStrokeStyle(o,r),n.drawMultiPolygon(e,s)}const a=i.getText();if(a&&a.getText()){const o=(n||t).getBuilder(i.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,s)}},GeometryCollection:function(t,e,i,s,n){const o=e.getGeometriesArray();let r,a;for(r=0,a=o.length;r<a;++r)(0,wt[o[r].getType()])(t,o[r],i,s,n)},Circle:function(t,e,i,s,n){const o=i.getFill(),r=i.getStroke();if(o||r){const n=t.getBuilder(i.getZIndex(),"Circle");n.setFillStrokeStyle(o,r),n.drawCircle(e,s)}const a=i.getText();if(a&&a.getText()){const o=(n||t).getBuilder(i.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,s)}}};function Ct(t,e){const i=function(t,e){return It*t/e}(t,e);return i*i}function Rt(t,e,i,s,n,o,r){let a=!1;const h=i.getImage();if(h){const t=h.getImageState();t==l.Z.LOADED||t==l.Z.ERROR?h.unlistenImageChange(n):(t==l.Z.IDLE&&h.load(),h.listenImageChange(n),a=!0)}return function(t,e,i,s,n,o){const r=i.getGeometryFunction()(e);if(!r)return;const a=r.simplifyTransformed(s,n);i.getRenderer()?Dt(t,a,i,e):(0,wt[a.getType()])(t,a,i,e,o)}(t,e,i,s,o,r),a}function Dt(t,e,i,s){if("GeometryCollection"!=e.getType())t.getBuilder(i.getZIndex(),"Default").drawCustom(e,s,i.getRenderer(),i.getHitDetectionRenderer());else{const n=e.getGeometries();for(let e=0,o=n.length;e<o;++e)Dt(t,n[e],i,s)}}var Ot=i(4307),Lt=i(1900);const Mt={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},Et={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class At extends pt.Z{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.tmpTransform_=(0,Q.Ue)()}prepareTile(t,e,i){let s;const n=t.getState();return n!==St.Z.LOADED&&n!==St.Z.ERROR||(this.updateExecutorGroup_(t,e,i),this.tileImageNeedsRender_(t)&&(s=!0)),s}getTile(t,e,i,s){const n=s.pixelRatio,o=s.viewState,r=o.resolution,a=o.projection,h=this.getLayer(),l=h.getSource().getTile(t,e,i,n,a),c=s.viewHints,g=!(c[yt.Z.ANIMATING]||c[yt.Z.INTERACTING]);return!g&&l.wantedResolution||(l.wantedResolution=r),this.prepareTile(l,n,a)&&(g||Date.now()-s.time<8)&&"vector"!==h.getRenderMode()&&this.renderTileImage_(l,s),super.getTile(t,e,i,s)}isDrawableTile(t){const e=this.getLayer();return super.isDrawableTile(t)&&("vector"===e.getRenderMode()?(0,S.sq)(e)in t.executorGroups:t.hasContext(e))}getTileImage(t){return t.getImage(this.getLayer())}prepareFrame(t){const e=this.getLayer().getRevision();return this.renderedLayerRevision_!==e&&(this.renderedLayerRevision_=e,this.renderedTiles.length=0),super.prepareFrame(t)}updateExecutorGroup_(t,e,i){const s=this.getLayer(),n=s.getRevision(),o=s.getRenderOrder()||null,r=t.wantedResolution,a=t.getReplayState(s);if(!a.dirty&&a.renderedResolution===r&&a.renderedRevision==n&&a.renderedRenderOrder==o)return;const h=s.getSource(),l=s.getDeclutter(),c=h.getTileGrid(),g=h.getTileGridForProjection(i).getTileCoordExtent(t.wrappedTileCoord),d=h.getSourceTiles(e,i,t),u=(0,S.sq)(s);delete t.hitDetectionImageData[u],t.executorGroups[u]=[],l&&(t.declutterExecutorGroups[u]=[]),a.dirty=!1;for(let i=0,n=d.length;i<n;++i){const n=d[i];if(n.getState()!=St.Z.LOADED)continue;const _=n.tileCoord,f=c.getTileCoordExtent(_),m=(0,Z.Ed)(g,f),x=(0,Z.f3)(m,s.getRenderBuffer()*r,this.tmpExtent),p=(0,Z.fS)(f,m)?null:x,S=new $(0,x,r,e),y=l?new $(0,m,r,e):void 0,v=Ct(r,e),T=function(t){let e;const i=t.getStyleFunction()||s.getStyleFunction();if(i&&(e=i(t,r)),e){const i=this.renderFeature(t,v,e,S,y);a.dirty=a.dirty||i}},k=n.getFeatures();o&&o!==a.renderedRenderOrder&&k.sort(o);for(let t=0,e=k.length;t<e;++t){const e=k[t];p&&!(0,Z.kK)(p,e.getGeometry().getExtent())||T.call(this,e)}const I=S.finish(),w="vector"!==s.getRenderMode()&&l&&1===d.length?null:m,C=new xt(w,r,e,h.getOverlaps(),I,s.getRenderBuffer());if(t.executorGroups[u].push(C),y){const i=new xt(null,r,e,h.getOverlaps(),y.finish(),s.getRenderBuffer());t.declutterExecutorGroups[u].push(i)}}a.renderedRevision=n,a.renderedRenderOrder=o,a.renderedResolution=r}forEachFeatureAtCoordinate(t,e,i,s,n){const o=e.viewState.resolution,r=e.viewState.rotation;i=null==i?0:i;const a=this.getLayer(),h=a.getSource().getTileGridForProjection(e.viewState.projection),l=(0,Z.hI)([t]);(0,Z.f3)(l,o*i,l);const c={},g=function(t,e,i){let o=t.getId();void 0===o&&(o=(0,S.sq)(t));const r=c[o];if(r){if(!0!==r&&i<r.distanceSq){if(0===i)return c[o]=!0,n.splice(n.lastIndexOf(r),1),s(t,a,e);r.geometry=e,r.distanceSq=i}}else{if(0===i)return c[o]=!0,s(t,a,e);n.push(c[o]={feature:t,layer:a,geometry:e,distanceSq:i,callback:s})}},d=this.renderedTiles;let u;for(let s=0,n=d.length;!u&&s<n;++s){const n=d[s],c=h.getTileCoordExtent(n.wrappedTileCoord);if(!(0,Z.kK)(c,l))continue;const _=(0,S.sq)(a),f=[n.executorGroups[_]],m=n.declutterExecutorGroups[_];m&&f.push(m),f.some((s=>{const n=s===m?e.declutterTree.all().map((t=>t.value)):null;for(let e=0,a=s.length;e<a;++e){const a=s[e];if(u=a.forEachFeatureAtCoordinate(t,o,r,i,g,n),u)return!0}}))}return u}getFeatures(t){return new Promise(((e,i)=>{const s=this.getLayer(),n=(0,S.sq)(s),o=s.getSource(),r=this.renderedProjection,a=r.getExtent(),h=this.renderedResolution,l=o.getTileGridForProjection(r),c=(0,Q.nn)(this.renderedPixelToCoordinateTransform_,t.slice()),g=l.getTileCoordForCoordAndResolution(c,h);let d;for(let t=0,e=this.renderedTiles.length;t<e;++t)if(g.toString()===this.renderedTiles[t].tileCoord.toString()){if(d=this.renderedTiles[t],d.getState()===St.Z.LOADED){const t=l.getTileCoordExtent(d.tileCoord);o.getWrapX()&&r.canWrapX()&&!(0,Z.r4)(a,t)&&(0,Lt.Cf)(c,r);break}d=void 0}if(!d||d.loadingSourceTiles>0)return void e([]);const u=l.getTileCoordExtent(d.wrappedTileCoord),f=(0,Z.rL)(u),m=[(c[0]-f[0])/h,(f[1]-c[1])/h],x=d.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]);let p=d.hitDetectionImageData[n];if(!p){const t=(0,Ot.Pq)(l.getTileSize(l.getZForResolution(h,o.zDirection))),e=this.renderedRotation_;p=function(t,e,i,s,n,o,r){const a=t[0]*kt,h=t[1]*kt,l=(0,_.E4)(a,h);l.imageSmoothingEnabled=!1;const c=l.canvas,g=new Tt(l,kt,n,null,r),d=i.length,u=Math.floor(16777215/d),f={};for(let t=1;t<=d;++t){const e=i[t-1],r=e.getStyleFunction()||s;if(!s)continue;let a=r(e,o);if(!a)continue;Array.isArray(a)||(a=[a]);const h=(t*u).toString(16).padStart(7,"#00000");for(let t=0,i=a.length;t<i;++t){const i=a[t],s=i.getGeometryFunction()(e);if(!s||!(0,Z.kK)(n,s.getExtent()))continue;const o=i.clone(),r=o.getFill();r&&r.setColor(h);const l=o.getStroke();l&&(l.setColor(h),l.setLineDash(null)),o.setText(void 0);const c=i.getImage();if(c&&0!==c.getOpacity()){const t=c.getImageSize();if(!t)continue;const e=(0,_.E4)(t[0],t[1],void 0,{alpha:!1}),i=e.canvas;e.fillStyle=h,e.fillRect(0,0,i.width,i.height),o.setImage(new v({img:i,imgSize:t,anchor:c.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:c.getOrigin(),opacity:1,size:c.getSize(),scale:c.getScale(),rotation:c.getRotation(),rotateWithView:c.getRotateWithView()}))}const g=o.getZIndex()||0;let d=f[g];d||(d={},f[g]=d,d.Polygon=[],d.Circle=[],d.LineString=[],d.Point=[]);const u=s.getType();if("GeometryCollection"===u){const t=s.getGeometriesArrayRecursive();for(let e=0,i=t.length;e<i;++e){const i=t[e];d[i.getType().replace("Multi","")].push(i,o)}}else d[u.replace("Multi","")].push(s,o)}}const m=Object.keys(f).map(Number).sort(V.j2);for(let t=0,i=m.length;t<i;++t){const i=f[m[t]];for(const t in i){const s=i[t];for(let t=0,i=s.length;t<i;t+=2){g.setStyle(s[t+1]);for(let i=0,n=e.length;i<n;++i)g.setTransform(e[i]),g.drawGeometry(s[t])}}}return l.getImageData(0,0,c.width,c.height)}(t,[this.getRenderTransform(l.getTileCoordCenter(d.wrappedTileCoord),h,0,kt,t[0]*kt,t[1]*kt,0)],x,s.getStyleFunction(),l.getTileCoordExtent(d.wrappedTileCoord),d.getReplayState(s).renderedResolution,e),d.hitDetectionImageData[n]=p}e(function(t,e,i){const s=[];if(i){const n=Math.floor(Math.round(t[0])*kt),o=Math.floor(Math.round(t[1])*kt),r=4*((0,tt.uZ)(n,0,i.width-1)+(0,tt.uZ)(o,0,i.height-1)*i.width),a=i.data[r],h=i.data[r+1],l=i.data[r+2]+256*(h+256*a),c=Math.floor(16777215/e.length);l&&l%c==0&&s.push(e[l/c-1])}return s}(m,x,p))}))}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}renderDeclutter(t){const e=this.context,i=e.globalAlpha;e.globalAlpha=this.getLayer().getOpacity();const s=t.viewHints,n=!(s[yt.Z.ANIMATING]||s[yt.Z.INTERACTING]),o=this.renderedTiles;for(let e=0,i=o.length;e<i;++e){const i=o[e],s=i.declutterExecutorGroups[(0,S.sq)(this.getLayer())];if(s)for(let e=s.length-1;e>=0;--e)s[e].execute(this.context,1,this.getTileRenderTransform(i,t),t.viewState.rotation,n,void 0,t.declutterTree)}e.globalAlpha=i}getTileRenderTransform(t,e){const i=e.pixelRatio,s=e.viewState,n=s.center,o=s.resolution,r=s.rotation,a=e.size,h=Math.round(a[0]*i),l=Math.round(a[1]*i),c=this.getLayer().getSource().getTileGridForProjection(e.viewState.projection),g=t.tileCoord,d=c.getTileCoordExtent(t.wrappedTileCoord),u=c.getTileCoordExtent(g,this.tmpExtent)[0]-d[0];return(0,Q.Jp)((0,Q.bA)(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(n,o,r,i,h,l,u))}postRender(t,e){const i=e.viewHints,s=!(i[yt.Z.ANIMATING]||i[yt.Z.INTERACTING]);this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;const n=this.getLayer(),o=n.getRenderMode(),r=t.globalAlpha;t.globalAlpha=n.getOpacity();const a=Et[o],h=e.viewState,l=h.rotation,c=n.getSource(),g=c.getTileGridForProjection(h.projection).getZForResolution(h.resolution,c.zDirection),d=this.renderedTiles,u=[],_=[];let f=!0;for(let i=d.length-1;i>=0;--i){const o=d[i];f=f&&!o.getReplayState(n).dirty;const r=o.executorGroups[(0,S.sq)(n)].filter((t=>t.hasExecutors(a)));if(0===r.length)continue;const h=this.getTileRenderTransform(o,e),c=o.tileCoord[0];let m=!1;const x=r[0].getClipCoords(h);if(x){for(let e=0,i=u.length;e<i;++e)if(g!==c&&c<_[e]){const i=u[e];(0,Z.kK)([x[0],x[3],x[4],x[7]],[i[0],i[3],i[4],i[7]])&&(m||(t.save(),m=!0),t.beginPath(),t.moveTo(x[0],x[1]),t.lineTo(x[2],x[3]),t.lineTo(x[4],x[5]),t.lineTo(x[6],x[7]),t.moveTo(i[6],i[7]),t.lineTo(i[4],i[5]),t.lineTo(i[2],i[3]),t.lineTo(i[0],i[1]),t.clip())}u.push(x),_.push(c)}for(let e=0,i=r.length;e<i;++e)r[e].execute(t,1,h,l,s,a);m&&t.restore()}t.globalAlpha=r,this.ready=f,super.postRender(t,e)}renderFeature(t,e,i,s,n){if(!i)return!1;let o=!1;if(Array.isArray(i))for(let r=0,a=i.length;r<a;++r)o=Rt(s,t,i[r],e,this.boundHandleStyleImageChange_,void 0,n)||o;else o=Rt(s,t,i,e,this.boundHandleStyleImageChange_,void 0,n);return o}tileImageNeedsRender_(t){const e=this.getLayer();if("vector"===e.getRenderMode())return!1;const i=t.getReplayState(e),s=e.getRevision(),n=t.wantedResolution;return i.renderedTileResolution!==n||i.renderedTileRevision!==s}renderTileImage_(t,e){const i=this.getLayer(),s=t.getReplayState(i),n=i.getRevision(),o=t.executorGroups[(0,S.sq)(i)];s.renderedTileRevision=n;const r=t.wrappedTileCoord,a=r[0],h=i.getSource();let l=e.pixelRatio;const c=e.viewState.projection,g=h.getTileGridForProjection(c),d=g.getResolution(t.tileCoord[0]),u=e.pixelRatio/t.wantedResolution*d,_=g.getResolution(a),f=t.getContext(i);l=Math.round(Math.max(l,u/l));const m=h.getTilePixelSize(a,l,c);f.canvas.width=m[0],f.canvas.height=m[1];const x=l/u;if(1!==x){const t=(0,Q.mc)(this.tmpTransform_);(0,Q.bA)(t,x,x),f.setTransform.apply(f,t)}const p=g.getTileCoordExtent(r,this.tmpExtent),y=u/_,v=(0,Q.mc)(this.tmpTransform_);(0,Q.bA)(v,y,-y),(0,Q.Iu)(v,-p[0],-p[3]);for(let t=0,e=o.length;t<e;++t)o[t].execute(f,x,v,0,!0,Mt[i.getRenderMode()]);s.renderedTileResolution=t.wantedResolution}}const bt=At;var Ft=i(8280);const Wt=class extends E{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un;const i=t.renderMode||"hybrid";(0,d.h)("hybrid"==i||"vector"==i,28),this.renderMode_=i,this.setPreload(t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError),this.getBackground,this.setBackground}createRenderer(){return new bt(this)}getFeatures(t){return super.getFeatures(t)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(Ft.Z.PRELOAD)}getUseInterimTilesOnError(){return this.get(Ft.Z.USE_INTERIM_TILES_ON_ERROR)}setPreload(t){this.set(Ft.Z.PRELOAD,t)}setUseInterimTilesOnError(t){this.set(Ft.Z.USE_INTERIM_TILES_ON_ERROR,t)}}},283:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(5393);class n extends s.Z{constructor(t){super({points:1/0,fill:(t=t||{radius:5}).fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius_=t,this.render()}}const o=n},1345:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});class s{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null}clone(){const t=this.getColor();return new s({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){this.color_=t}}const n=s},8443:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(4187),n=i(4307);class o{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=(0,n.Pq)(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new o({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return(0,s.O3)()}getImage(t){return(0,s.O3)()}getHitDetectionImage(){return(0,s.O3)()}getPixelRatio(t){return 1}getImageState(){return(0,s.O3)()}getImageSize(){return(0,s.O3)()}getOrigin(){return(0,s.O3)()}getSize(){return(0,s.O3)()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,n.Pq)(t)}listenImageChange(t){(0,s.O3)()}load(){(0,s.O3)()}unlistenImageChange(t){(0,s.O3)()}}const r=o},5393:(t,e,i)=>{"use strict";i.d(e,{Z:()=>c});var s=i(553),n=i(8443),o=i(9706),r=i(6620),a=i(8326),h=i(147);class l extends n.Z{constructor(t){super({opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const t=this.getScale(),e=new l({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_;if(!t)return null;const e=this.getDisplacement(),i=this.getScaleArray();return[t[0]/2-e[0]/i[0],t[1]/2+e[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(t){let e=this.canvas_[t];if(!e){const i=this.renderOptions_,s=(0,a.E4)(i.size*t,i.size*t);this.draw_(i,s,t),e=s.canvas,this.canvas_[t]=e}return e}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return s.Z.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,i){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let s=this.radius_,n=void 0===this.radius2_?s:this.radius2_;if(s<n){const t=s;s=n,n=t}const o=void 0===this.radius2_?this.points_:2*this.points_,r=2*Math.PI/o,a=n*Math.sin(r),h=s-Math.sqrt(n*n-a*a),l=Math.sqrt(a*a+h*h),c=l/a;if("miter"===t&&c<=i)return c*e;const g=e/2/c,d=e/2*(h/l),u=Math.sqrt((s+g)*(s+g)+d*d)-s;if(void 0===this.radius2_||"bevel"===t)return 2*u;const _=s*Math.sin(r),f=n-Math.sqrt(s*s-_*_),m=Math.sqrt(_*_+f*f)/_;if(m<=i){const t=m*e/2-n-s;return 2*Math.max(u,t)}return 2*u}createRenderOptions(){let t,e=h.rc,i=0,s=null,n=0,o=0;this.stroke_&&(t=this.stroke_.getColor(),null===t&&(t=h.Tx),t=(0,r.y)(t),o=this.stroke_.getWidth(),void 0===o&&(o=h.yC),s=this.stroke_.getLineDash(),n=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),void 0===e&&(e=h.rc),i=this.stroke_.getMiterLimit(),void 0===i&&(i=h.V4));const a=this.calculateLineJoinSize_(e,o,i),l=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:o,size:Math.ceil(2*l+a),lineDash:s,lineDashOffset:n,lineJoin:e,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]}draw_(t,e,i){if(e.scale(i,i),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let t=this.fill_.getColor();null===t&&(t=h.bL),e.fillStyle=(0,r.y)(t),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){if(this.fill_){let e=this.fill_.getColor(),i=0;if("string"==typeof e&&(e=(0,o._2)(e)),null===e?i=1:Array.isArray(e)&&(i=4===e.length?e[3]:1),0===i){const e=(0,a.E4)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(t){let e=this.points_;const i=this.radius_;if(e===1/0)t.arc(0,0,i,0,2*Math.PI);else{const s=void 0===this.radius2_?i:this.radius2_;void 0!==this.radius2_&&(e*=2);const n=this.angle_-Math.PI/2,o=2*Math.PI/e;for(let r=0;r<e;r++){const e=n+r*o,a=r%2==0?i:s;t.lineTo(a*Math.cos(e),a*Math.sin(e))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=h.bL,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}}const c=l},8958:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});class s{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new s({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}const n=s},7539:(t,e,i)=>{"use strict";i.d(e,{J$:()=>h,ZP:()=>d,yF:()=>c});var s=i(283),n=i(1345),o=i(8958),r=i(9515);class a{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=g,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new a({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=g,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function h(t){let e;if("function"==typeof t)e=t;else{let i;Array.isArray(t)?i=t:((0,r.h)("function"==typeof t.getZIndex,41),i=[t]),e=function(){return i}}return e}let l=null;function c(t,e){if(!l){const t=new n.Z({color:"rgba(255,255,255,0.4)"}),e=new o.Z({color:"#3399CC",width:1.25});l=[new a({image:new s.Z({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return l}function g(t){return t.getGeometry()}const d=a},1280:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(1345),n=i(4307);class o{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=(0,n.Pq)(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new s.Z({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}clone(){const t=this.getScale();return new o({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,n.Pq)(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const r=o}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZXMvcmJ1c2gvcmJ1c2gubWluLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY29sb3JsaWtlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSWNvbkltYWdlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSWNvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL2ZsYXQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9CYXNlVmVjdG9yLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9JbnN0cnVjdGlvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9WZWN0b3JDb250ZXh0LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9CdWlsZGVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9Qb2x5Z29uQnVpbGRlci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9zdHJhaWdodGNodW5rLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9UZXh0QnVpbGRlci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9JbWFnZUJ1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0xpbmVTdHJpbmdCdWlsZGVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3RleHRwYXRoLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2xlbmd0aC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvRXhlY3V0b3IuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXAuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0ltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvaGl0ZGV0ZWN0LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvdmVjdG9yLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL1ZlY3RvclRpbGVMYXllci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1ZlY3RvclRpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9DaXJjbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9GaWxsLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9SZWd1bGFyU2hhcGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9TdHJva2UuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9TdHlsZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL1RleHQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKHQsaSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9aSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoaSk6KHQ9dHx8c2VsZikuUkJ1c2g9aSgpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0LHIsZSxhLGgpeyFmdW5jdGlvbiB0KG4scixlLGEsaCl7Zm9yKDthPmU7KXtpZihhLWU+NjAwKXt2YXIgbz1hLWUrMSxzPXItZSsxLGw9TWF0aC5sb2cobyksZj0uNSpNYXRoLmV4cCgyKmwvMyksdT0uNSpNYXRoLnNxcnQobCpmKihvLWYpL28pKihzLW8vMjwwPy0xOjEpLG09TWF0aC5tYXgoZSxNYXRoLmZsb29yKHItcypmL28rdSkpLGM9TWF0aC5taW4oYSxNYXRoLmZsb29yKHIrKG8tcykqZi9vK3UpKTt0KG4scixtLGMsaCl9dmFyIHA9bltyXSxkPWUseD1hO2ZvcihpKG4sZSxyKSxoKG5bYV0scCk+MCYmaShuLGUsYSk7ZDx4Oyl7Zm9yKGkobixkLHgpLGQrKyx4LS07aChuW2RdLHApPDA7KWQrKztmb3IoO2goblt4XSxwKT4wOyl4LS19MD09PWgobltlXSxwKT9pKG4sZSx4KTppKG4sKyt4LGEpLHg8PXImJihlPXgrMSkscjw9eCYmKGE9eC0xKX19KHQscixlfHwwLGF8fHQubGVuZ3RoLTEsaHx8bil9ZnVuY3Rpb24gaSh0LGksbil7dmFyIHI9dFtpXTt0W2ldPXRbbl0sdFtuXT1yfWZ1bmN0aW9uIG4odCxpKXtyZXR1cm4gdDxpPy0xOnQ+aT8xOjB9dmFyIHI9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9OSksdGhpcy5fbWF4RW50cmllcz1NYXRoLm1heCg0LHQpLHRoaXMuX21pbkVudHJpZXM9TWF0aC5tYXgoMixNYXRoLmNlaWwoLjQqdGhpcy5fbWF4RW50cmllcykpLHRoaXMuY2xlYXIoKX07ZnVuY3Rpb24gZSh0LGksbil7aWYoIW4pcmV0dXJuIGkuaW5kZXhPZih0KTtmb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKylpZihuKHQsaVtyXSkpcmV0dXJuIHI7cmV0dXJuLTF9ZnVuY3Rpb24gYSh0LGkpe2godCwwLHQuY2hpbGRyZW4ubGVuZ3RoLGksdCl9ZnVuY3Rpb24gaCh0LGksbixyLGUpe2V8fChlPXAobnVsbCkpLGUubWluWD0xLzAsZS5taW5ZPTEvMCxlLm1heFg9LTEvMCxlLm1heFk9LTEvMDtmb3IodmFyIGE9aTthPG47YSsrKXt2YXIgaD10LmNoaWxkcmVuW2FdO28oZSx0LmxlYWY/cihoKTpoKX1yZXR1cm4gZX1mdW5jdGlvbiBvKHQsaSl7cmV0dXJuIHQubWluWD1NYXRoLm1pbih0Lm1pblgsaS5taW5YKSx0Lm1pblk9TWF0aC5taW4odC5taW5ZLGkubWluWSksdC5tYXhYPU1hdGgubWF4KHQubWF4WCxpLm1heFgpLHQubWF4WT1NYXRoLm1heCh0Lm1heFksaS5tYXhZKSx0fWZ1bmN0aW9uIHModCxpKXtyZXR1cm4gdC5taW5YLWkubWluWH1mdW5jdGlvbiBsKHQsaSl7cmV0dXJuIHQubWluWS1pLm1pbll9ZnVuY3Rpb24gZih0KXtyZXR1cm4odC5tYXhYLXQubWluWCkqKHQubWF4WS10Lm1pblkpfWZ1bmN0aW9uIHUodCl7cmV0dXJuIHQubWF4WC10Lm1pblgrKHQubWF4WS10Lm1pblkpfWZ1bmN0aW9uIG0odCxpKXtyZXR1cm4gdC5taW5YPD1pLm1pblgmJnQubWluWTw9aS5taW5ZJiZpLm1heFg8PXQubWF4WCYmaS5tYXhZPD10Lm1heFl9ZnVuY3Rpb24gYyh0LGkpe3JldHVybiBpLm1pblg8PXQubWF4WCYmaS5taW5ZPD10Lm1heFkmJmkubWF4WD49dC5taW5YJiZpLm1heFk+PXQubWluWX1mdW5jdGlvbiBwKHQpe3JldHVybntjaGlsZHJlbjp0LGhlaWdodDoxLGxlYWY6ITAsbWluWDoxLzAsbWluWToxLzAsbWF4WDotMS8wLG1heFk6LTEvMH19ZnVuY3Rpb24gZChpLG4scixlLGEpe2Zvcih2YXIgaD1bbixyXTtoLmxlbmd0aDspaWYoISgocj1oLnBvcCgpKS0obj1oLnBvcCgpKTw9ZSkpe3ZhciBvPW4rTWF0aC5jZWlsKChyLW4pL2UvMikqZTt0KGksbyxuLHIsYSksaC5wdXNoKG4sbyxvLHIpfX1yZXR1cm4gci5wcm90b3R5cGUuYWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FsbCh0aGlzLmRhdGEsW10pfSxyLnByb3RvdHlwZS5zZWFyY2g9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5kYXRhLG49W107aWYoIWModCxpKSlyZXR1cm4gbjtmb3IodmFyIHI9dGhpcy50b0JCb3gsZT1bXTtpOyl7Zm9yKHZhciBhPTA7YTxpLmNoaWxkcmVuLmxlbmd0aDthKyspe3ZhciBoPWkuY2hpbGRyZW5bYV0sbz1pLmxlYWY/cihoKTpoO2ModCxvKSYmKGkubGVhZj9uLnB1c2goaCk6bSh0LG8pP3RoaXMuX2FsbChoLG4pOmUucHVzaChoKSl9aT1lLnBvcCgpfXJldHVybiBufSxyLnByb3RvdHlwZS5jb2xsaWRlcz1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmRhdGE7aWYoIWModCxpKSlyZXR1cm4hMTtmb3IodmFyIG49W107aTspe2Zvcih2YXIgcj0wO3I8aS5jaGlsZHJlbi5sZW5ndGg7cisrKXt2YXIgZT1pLmNoaWxkcmVuW3JdLGE9aS5sZWFmP3RoaXMudG9CQm94KGUpOmU7aWYoYyh0LGEpKXtpZihpLmxlYWZ8fG0odCxhKSlyZXR1cm4hMDtuLnB1c2goZSl9fWk9bi5wb3AoKX1yZXR1cm4hMX0sci5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0KXtpZighdHx8IXQubGVuZ3RoKXJldHVybiB0aGlzO2lmKHQubGVuZ3RoPHRoaXMuX21pbkVudHJpZXMpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRoaXMuaW5zZXJ0KHRbaV0pO3JldHVybiB0aGlzfXZhciBuPXRoaXMuX2J1aWxkKHQuc2xpY2UoKSwwLHQubGVuZ3RoLTEsMCk7aWYodGhpcy5kYXRhLmNoaWxkcmVuLmxlbmd0aClpZih0aGlzLmRhdGEuaGVpZ2h0PT09bi5oZWlnaHQpdGhpcy5fc3BsaXRSb290KHRoaXMuZGF0YSxuKTtlbHNle2lmKHRoaXMuZGF0YS5oZWlnaHQ8bi5oZWlnaHQpe3ZhciByPXRoaXMuZGF0YTt0aGlzLmRhdGE9bixuPXJ9dGhpcy5faW5zZXJ0KG4sdGhpcy5kYXRhLmhlaWdodC1uLmhlaWdodC0xLCEwKX1lbHNlIHRoaXMuZGF0YT1uO3JldHVybiB0aGlzfSxyLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuX2luc2VydCh0LHRoaXMuZGF0YS5oZWlnaHQtMSksdGhpc30sci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhPXAoW10pLHRoaXN9LHIucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGkpe2lmKCF0KXJldHVybiB0aGlzO2Zvcih2YXIgbixyLGEsaD10aGlzLmRhdGEsbz10aGlzLnRvQkJveCh0KSxzPVtdLGw9W107aHx8cy5sZW5ndGg7KXtpZihofHwoaD1zLnBvcCgpLHI9c1tzLmxlbmd0aC0xXSxuPWwucG9wKCksYT0hMCksaC5sZWFmKXt2YXIgZj1lKHQsaC5jaGlsZHJlbixpKTtpZigtMSE9PWYpcmV0dXJuIGguY2hpbGRyZW4uc3BsaWNlKGYsMSkscy5wdXNoKGgpLHRoaXMuX2NvbmRlbnNlKHMpLHRoaXN9YXx8aC5sZWFmfHwhbShoLG8pP3I/KG4rKyxoPXIuY2hpbGRyZW5bbl0sYT0hMSk6aD1udWxsOihzLnB1c2goaCksbC5wdXNoKG4pLG49MCxyPWgsaD1oLmNoaWxkcmVuWzBdKX1yZXR1cm4gdGhpc30sci5wcm90b3R5cGUudG9CQm94PWZ1bmN0aW9uKHQpe3JldHVybiB0fSxyLnByb3RvdHlwZS5jb21wYXJlTWluWD1mdW5jdGlvbih0LGkpe3JldHVybiB0Lm1pblgtaS5taW5YfSxyLnByb3RvdHlwZS5jb21wYXJlTWluWT1mdW5jdGlvbih0LGkpe3JldHVybiB0Lm1pblktaS5taW5ZfSxyLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhfSxyLnByb3RvdHlwZS5mcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhPXQsdGhpc30sci5wcm90b3R5cGUuX2FsbD1mdW5jdGlvbih0LGkpe2Zvcih2YXIgbj1bXTt0Oyl0LmxlYWY/aS5wdXNoLmFwcGx5KGksdC5jaGlsZHJlbik6bi5wdXNoLmFwcGx5KG4sdC5jaGlsZHJlbiksdD1uLnBvcCgpO3JldHVybiBpfSxyLnByb3RvdHlwZS5fYnVpbGQ9ZnVuY3Rpb24odCxpLG4scil7dmFyIGUsaD1uLWkrMSxvPXRoaXMuX21heEVudHJpZXM7aWYoaDw9bylyZXR1cm4gYShlPXAodC5zbGljZShpLG4rMSkpLHRoaXMudG9CQm94KSxlO3J8fChyPU1hdGguY2VpbChNYXRoLmxvZyhoKS9NYXRoLmxvZyhvKSksbz1NYXRoLmNlaWwoaC9NYXRoLnBvdyhvLHItMSkpKSwoZT1wKFtdKSkubGVhZj0hMSxlLmhlaWdodD1yO3ZhciBzPU1hdGguY2VpbChoL28pLGw9cypNYXRoLmNlaWwoTWF0aC5zcXJ0KG8pKTtkKHQsaSxuLGwsdGhpcy5jb21wYXJlTWluWCk7Zm9yKHZhciBmPWk7Zjw9bjtmKz1sKXt2YXIgdT1NYXRoLm1pbihmK2wtMSxuKTtkKHQsZix1LHMsdGhpcy5jb21wYXJlTWluWSk7Zm9yKHZhciBtPWY7bTw9dTttKz1zKXt2YXIgYz1NYXRoLm1pbihtK3MtMSx1KTtlLmNoaWxkcmVuLnB1c2godGhpcy5fYnVpbGQodCxtLGMsci0xKSl9fXJldHVybiBhKGUsdGhpcy50b0JCb3gpLGV9LHIucHJvdG90eXBlLl9jaG9vc2VTdWJ0cmVlPWZ1bmN0aW9uKHQsaSxuLHIpe2Zvcig7ci5wdXNoKGkpLCFpLmxlYWYmJnIubGVuZ3RoLTEhPT1uOyl7Zm9yKHZhciBlPTEvMCxhPTEvMCxoPXZvaWQgMCxvPTA7bzxpLmNoaWxkcmVuLmxlbmd0aDtvKyspe3ZhciBzPWkuY2hpbGRyZW5bb10sbD1mKHMpLHU9KG09dCxjPXMsKE1hdGgubWF4KGMubWF4WCxtLm1heFgpLU1hdGgubWluKGMubWluWCxtLm1pblgpKSooTWF0aC5tYXgoYy5tYXhZLG0ubWF4WSktTWF0aC5taW4oYy5taW5ZLG0ubWluWSkpLWwpO3U8YT8oYT11LGU9bDxlP2w6ZSxoPXMpOnU9PT1hJiZsPGUmJihlPWwsaD1zKX1pPWh8fGkuY2hpbGRyZW5bMF19dmFyIG0sYztyZXR1cm4gaX0sci5wcm90b3R5cGUuX2luc2VydD1mdW5jdGlvbih0LGksbil7dmFyIHI9bj90OnRoaXMudG9CQm94KHQpLGU9W10sYT10aGlzLl9jaG9vc2VTdWJ0cmVlKHIsdGhpcy5kYXRhLGksZSk7Zm9yKGEuY2hpbGRyZW4ucHVzaCh0KSxvKGEscik7aT49MCYmZVtpXS5jaGlsZHJlbi5sZW5ndGg+dGhpcy5fbWF4RW50cmllczspdGhpcy5fc3BsaXQoZSxpKSxpLS07dGhpcy5fYWRqdXN0UGFyZW50QkJveGVzKHIsZSxpKX0sci5wcm90b3R5cGUuX3NwbGl0PWZ1bmN0aW9uKHQsaSl7dmFyIG49dFtpXSxyPW4uY2hpbGRyZW4ubGVuZ3RoLGU9dGhpcy5fbWluRW50cmllczt0aGlzLl9jaG9vc2VTcGxpdEF4aXMobixlLHIpO3ZhciBoPXRoaXMuX2Nob29zZVNwbGl0SW5kZXgobixlLHIpLG89cChuLmNoaWxkcmVuLnNwbGljZShoLG4uY2hpbGRyZW4ubGVuZ3RoLWgpKTtvLmhlaWdodD1uLmhlaWdodCxvLmxlYWY9bi5sZWFmLGEobix0aGlzLnRvQkJveCksYShvLHRoaXMudG9CQm94KSxpP3RbaS0xXS5jaGlsZHJlbi5wdXNoKG8pOnRoaXMuX3NwbGl0Um9vdChuLG8pfSxyLnByb3RvdHlwZS5fc3BsaXRSb290PWZ1bmN0aW9uKHQsaSl7dGhpcy5kYXRhPXAoW3QsaV0pLHRoaXMuZGF0YS5oZWlnaHQ9dC5oZWlnaHQrMSx0aGlzLmRhdGEubGVhZj0hMSxhKHRoaXMuZGF0YSx0aGlzLnRvQkJveCl9LHIucHJvdG90eXBlLl9jaG9vc2VTcGxpdEluZGV4PWZ1bmN0aW9uKHQsaSxuKXtmb3IodmFyIHIsZSxhLG8scyxsLHUsbT0xLzAsYz0xLzAscD1pO3A8PW4taTtwKyspe3ZhciBkPWgodCwwLHAsdGhpcy50b0JCb3gpLHg9aCh0LHAsbix0aGlzLnRvQkJveCksdj0oZT1kLGE9eCxvPXZvaWQgMCxzPXZvaWQgMCxsPXZvaWQgMCx1PXZvaWQgMCxvPU1hdGgubWF4KGUubWluWCxhLm1pblgpLHM9TWF0aC5tYXgoZS5taW5ZLGEubWluWSksbD1NYXRoLm1pbihlLm1heFgsYS5tYXhYKSx1PU1hdGgubWluKGUubWF4WSxhLm1heFkpLE1hdGgubWF4KDAsbC1vKSpNYXRoLm1heCgwLHUtcykpLE09ZihkKStmKHgpO3Y8bT8obT12LHI9cCxjPU08Yz9NOmMpOnY9PT1tJiZNPGMmJihjPU0scj1wKX1yZXR1cm4gcnx8bi1pfSxyLnByb3RvdHlwZS5fY2hvb3NlU3BsaXRBeGlzPWZ1bmN0aW9uKHQsaSxuKXt2YXIgcj10LmxlYWY/dGhpcy5jb21wYXJlTWluWDpzLGU9dC5sZWFmP3RoaXMuY29tcGFyZU1pblk6bDt0aGlzLl9hbGxEaXN0TWFyZ2luKHQsaSxuLHIpPHRoaXMuX2FsbERpc3RNYXJnaW4odCxpLG4sZSkmJnQuY2hpbGRyZW4uc29ydChyKX0sci5wcm90b3R5cGUuX2FsbERpc3RNYXJnaW49ZnVuY3Rpb24odCxpLG4scil7dC5jaGlsZHJlbi5zb3J0KHIpO2Zvcih2YXIgZT10aGlzLnRvQkJveCxhPWgodCwwLGksZSkscz1oKHQsbi1pLG4sZSksbD11KGEpK3UocyksZj1pO2Y8bi1pO2YrKyl7dmFyIG09dC5jaGlsZHJlbltmXTtvKGEsdC5sZWFmP2UobSk6bSksbCs9dShhKX1mb3IodmFyIGM9bi1pLTE7Yz49aTtjLS0pe3ZhciBwPXQuY2hpbGRyZW5bY107byhzLHQubGVhZj9lKHApOnApLGwrPXUocyl9cmV0dXJuIGx9LHIucHJvdG90eXBlLl9hZGp1c3RQYXJlbnRCQm94ZXM9ZnVuY3Rpb24odCxpLG4pe2Zvcih2YXIgcj1uO3I+PTA7ci0tKW8oaVtyXSx0KX0sci5wcm90b3R5cGUuX2NvbmRlbnNlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT10Lmxlbmd0aC0xLG49dm9pZCAwO2k+PTA7aS0tKTA9PT10W2ldLmNoaWxkcmVuLmxlbmd0aD9pPjA/KG49dFtpLTFdLmNoaWxkcmVuKS5zcGxpY2Uobi5pbmRleE9mKHRbaV0pLDEpOnRoaXMuY2xlYXIoKTphKHRbaV0sdGhpcy50b0JCb3gpfSxyfSk7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvY29sb3JsaWtlXG4gKi9cbmltcG9ydCB7dG9TdHJpbmd9IGZyb20gJy4vY29sb3IuanMnO1xuXG4vKipcbiAqIEEgdHlwZSBhY2NlcHRlZCBieSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuZmlsbFN0eWxlXG4gKiBvciBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuc3Ryb2tlU3R5bGUuXG4gKiBSZXByZXNlbnRzIGEgY29sb3IsIHBhdHRlcm4sIG9yIGdyYWRpZW50LiBUaGUgb3JpZ2luIGZvciBwYXR0ZXJucyBhbmRcbiAqIGdyYWRpZW50cyBhcyBmaWxsIHN0eWxlIGlzIGFuIGluY3JlbWVudCBvZiA1MTIgY3NzIHBpeGVscyBmcm9tIG1hcCBjb29yZGluYXRlXG4gKiBgWzAsIDBdYC4gRm9yIHNlYW1sZXNzIHJlcGVhdCBwYXR0ZXJucywgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgcGF0dGVybiBpbWFnZVxuICogbXVzdCBiZSBhIGZhY3RvciBvZiB0d28gKDIsIDQsIDgsIC4uLiwgNTEyKS5cbiAqXG4gKiBAdHlwZWRlZiB7c3RyaW5nfENhbnZhc1BhdHRlcm58Q2FudmFzR3JhZGllbnR9IENvbG9yTGlrZVxuICogQGFwaVxuICovXG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2NvbG9yLmpzXCIpLkNvbG9yfENvbG9yTGlrZX0gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtDb2xvckxpa2V9IFRoZSBjb2xvciBhcyBhbiB7QGxpbmsgb2wvY29sb3JsaWtlfkNvbG9yTGlrZX0uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc0NvbG9yTGlrZShjb2xvcikge1xuICBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICByZXR1cm4gdG9TdHJpbmcoY29sb3IpO1xuICB9XG4gIHJldHVybiBjb2xvcjtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uSW1hZ2VcbiAqL1xuXG5pbXBvcnQgRXZlbnRUYXJnZXQgZnJvbSAnLi4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQge2FzU3RyaW5nfSBmcm9tICcuLi9jb2xvci5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vZG9tLmpzJztcbmltcG9ydCB7c2hhcmVkIGFzIGljb25JbWFnZUNhY2hlfSBmcm9tICcuL0ljb25JbWFnZUNhY2hlLmpzJztcbmltcG9ydCB7bGlzdGVuSW1hZ2V9IGZyb20gJy4uL0ltYWdlLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICovXG5sZXQgdGFpbnRlZFRlc3RDb250ZXh0ID0gbnVsbDtcblxuY2xhc3MgSWNvbkltYWdlIGV4dGVuZHMgRXZlbnRUYXJnZXQge1xuICAvKipcbiAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBpbWFnZSBJbWFnZS5cbiAgICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBzcmMgU3JjLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IGltYWdlU3RhdGUgSW1hZ2Ugc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICAgKi9cbiAgY29uc3RydWN0b3IoaW1hZ2UsIHNyYywgc2l6ZSwgY3Jvc3NPcmlnaW4sIGltYWdlU3RhdGUsIGNvbG9yKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlXyA9IGltYWdlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5jcm9zc09yaWdpbl8gPSBjcm9zc09yaWdpbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxudW1iZXIsIEhUTUxDYW52YXNFbGVtZW50Pn1cbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhc18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfVxuICAgICAqL1xuICAgIHRoaXMuY29sb3JfID0gY29sb3I7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/ZnVuY3Rpb24oKTp2b2lkfVxuICAgICAqL1xuICAgIHRoaXMudW5saXN0ZW5fID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlU3RhdGVfID0gaW1hZ2VTdGF0ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLnNpemVfID0gc2l6ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5zcmNfID0gc3JjO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRhaW50ZWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpbml0aWFsaXplSW1hZ2VfKCkge1xuICAgIHRoaXMuaW1hZ2VfID0gbmV3IEltYWdlKCk7XG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW5fICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmltYWdlXy5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW5fO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgaW1hZ2UgY2FudmFzIGlzIHRhaW50ZWQuXG4gICAqL1xuICBpc1RhaW50ZWRfKCkge1xuICAgIGlmICh0aGlzLnRhaW50ZWRfID09PSB1bmRlZmluZWQgJiYgdGhpcy5pbWFnZVN0YXRlXyA9PT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgIGlmICghdGFpbnRlZFRlc3RDb250ZXh0KSB7XG4gICAgICAgIHRhaW50ZWRUZXN0Q29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICB3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGFpbnRlZFRlc3RDb250ZXh0LmRyYXdJbWFnZSh0aGlzLmltYWdlXywgMCwgMCk7XG4gICAgICB0cnkge1xuICAgICAgICB0YWludGVkVGVzdENvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIDEsIDEpO1xuICAgICAgICB0aGlzLnRhaW50ZWRfID0gZmFsc2U7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRhaW50ZWRUZXN0Q29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMudGFpbnRlZF8gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy50YWludGVkXyA9PT0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGlzcGF0Y2hDaGFuZ2VFdmVudF8oKSB7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5DSEFOR0UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVJbWFnZUVycm9yXygpIHtcbiAgICB0aGlzLmltYWdlU3RhdGVfID0gSW1hZ2VTdGF0ZS5FUlJPUjtcbiAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgdGhpcy5kaXNwYXRjaENoYW5nZUV2ZW50XygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVJbWFnZUxvYWRfKCkge1xuICAgIHRoaXMuaW1hZ2VTdGF0ZV8gPSBJbWFnZVN0YXRlLkxPQURFRDtcbiAgICBpZiAodGhpcy5zaXplXykge1xuICAgICAgdGhpcy5pbWFnZV8ud2lkdGggPSB0aGlzLnNpemVfWzBdO1xuICAgICAgdGhpcy5pbWFnZV8uaGVpZ2h0ID0gdGhpcy5zaXplX1sxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaXplXyA9IFt0aGlzLmltYWdlXy53aWR0aCwgdGhpcy5pbWFnZV8uaGVpZ2h0XTtcbiAgICB9XG4gICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgIHRoaXMuZGlzcGF0Y2hDaGFuZ2VFdmVudF8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2Ugb3IgQ2FudmFzIGVsZW1lbnQuXG4gICAqL1xuICBnZXRJbWFnZShwaXhlbFJhdGlvKSB7XG4gICAgaWYgKCF0aGlzLmltYWdlXykge1xuICAgICAgdGhpcy5pbml0aWFsaXplSW1hZ2VfKCk7XG4gICAgfVxuICAgIHRoaXMucmVwbGFjZUNvbG9yXyhwaXhlbFJhdGlvKTtcbiAgICByZXR1cm4gdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dID8gdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dIDogdGhpcy5pbWFnZV87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEByZXR1cm4ge251bWJlcn0gSW1hZ2Ugb3IgQ2FudmFzIGVsZW1lbnQuXG4gICAqL1xuICBnZXRQaXhlbFJhdGlvKHBpeGVsUmF0aW8pIHtcbiAgICB0aGlzLnJlcGxhY2VDb2xvcl8ocGl4ZWxSYXRpbyk7XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzX1twaXhlbFJhdGlvXSA/IHBpeGVsUmF0aW8gOiAxO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gSW1hZ2Ugc3RhdGUuXG4gICAqL1xuICBnZXRJbWFnZVN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLmltYWdlU3RhdGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIGVsZW1lbnQuXG4gICAqL1xuICBnZXRIaXREZXRlY3Rpb25JbWFnZSgpIHtcbiAgICBpZiAoIXRoaXMuaW1hZ2VfKSB7XG4gICAgICB0aGlzLmluaXRpYWxpemVJbWFnZV8oKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmhpdERldGVjdGlvbkltYWdlXykge1xuICAgICAgaWYgKHRoaXMuaXNUYWludGVkXygpKSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zaXplX1swXTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5zaXplX1sxXTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8gPSBjb250ZXh0LmNhbnZhcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gdGhpcy5pbWFnZV87XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhpdERldGVjdGlvbkltYWdlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIGljb24gKGluIHBpeGVscykuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gSW1hZ2Ugc2l6ZS5cbiAgICovXG4gIGdldFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2l6ZV87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gSW1hZ2Ugc3JjLlxuICAgKi9cbiAgZ2V0U3JjKCkge1xuICAgIHJldHVybiB0aGlzLnNyY187XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBub3QgeWV0IGxvYWRlZCBVUkkuXG4gICAqL1xuICBsb2FkKCkge1xuICAgIGlmICh0aGlzLmltYWdlU3RhdGVfICE9PSBJbWFnZVN0YXRlLklETEUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmltYWdlXykge1xuICAgICAgdGhpcy5pbml0aWFsaXplSW1hZ2VfKCk7XG4gICAgfVxuXG4gICAgdGhpcy5pbWFnZVN0YXRlXyA9IEltYWdlU3RhdGUuTE9BRElORztcbiAgICB0cnkge1xuICAgICAgLyoqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fSAqLyAodGhpcy5pbWFnZV8pLnNyYyA9IHRoaXMuc3JjXztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmhhbmRsZUltYWdlRXJyb3JfKCk7XG4gICAgfVxuICAgIHRoaXMudW5saXN0ZW5fID0gbGlzdGVuSW1hZ2UoXG4gICAgICB0aGlzLmltYWdlXyxcbiAgICAgIHRoaXMuaGFuZGxlSW1hZ2VMb2FkXy5iaW5kKHRoaXMpLFxuICAgICAgdGhpcy5oYW5kbGVJbWFnZUVycm9yXy5iaW5kKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlcGxhY2VDb2xvcl8ocGl4ZWxSYXRpbykge1xuICAgIGlmIChcbiAgICAgICF0aGlzLmNvbG9yXyB8fFxuICAgICAgdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dIHx8XG4gICAgICB0aGlzLmltYWdlU3RhdGVfICE9PSBJbWFnZVN0YXRlLkxPQURFRFxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGltYWdlID0gdGhpcy5pbWFnZV87XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKGltYWdlLndpZHRoICogcGl4ZWxSYXRpbyk7XG4gICAgY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbChpbWFnZS5oZWlnaHQgKiBwaXhlbFJhdGlvKTtcblxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5zY2FsZShwaXhlbFJhdGlvLCBwaXhlbFJhdGlvKTtcbiAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcblxuICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbXVsdGlwbHknO1xuICAgIGN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyh0aGlzLmNvbG9yXyk7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCAvIHBpeGVsUmF0aW8sIGNhbnZhcy5oZWlnaHQgLyBwaXhlbFJhdGlvKTtcblxuICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24taW4nO1xuICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuXG4gICAgdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dID0gY2FudmFzO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2NhcmRzIGV2ZW50IGhhbmRsZXJzIHdoaWNoIGxpc3RlbiBmb3IgbG9hZCBjb21wbGV0aW9uIG9yIGVycm9ycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHVubGlzdGVuSW1hZ2VfKCkge1xuICAgIGlmICh0aGlzLnVubGlzdGVuXykge1xuICAgICAgdGhpcy51bmxpc3Rlbl8oKTtcbiAgICAgIHRoaXMudW5saXN0ZW5fID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTcmMuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gaW1hZ2VTdGF0ZSBJbWFnZSBzdGF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7SWNvbkltYWdlfSBJY29uIGltYWdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGltYWdlLCBzcmMsIHNpemUsIGNyb3NzT3JpZ2luLCBpbWFnZVN0YXRlLCBjb2xvcikge1xuICBsZXQgaWNvbkltYWdlID0gaWNvbkltYWdlQ2FjaGUuZ2V0KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKTtcbiAgaWYgKCFpY29uSW1hZ2UpIHtcbiAgICBpY29uSW1hZ2UgPSBuZXcgSWNvbkltYWdlKGltYWdlLCBzcmMsIHNpemUsIGNyb3NzT3JpZ2luLCBpbWFnZVN0YXRlLCBjb2xvcik7XG4gICAgaWNvbkltYWdlQ2FjaGUuc2V0KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yLCBpY29uSW1hZ2UpO1xuICB9XG4gIHJldHVybiBpY29uSW1hZ2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEljb25JbWFnZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuLi9JbWFnZVN0YXRlLmpzJztcbmltcG9ydCBJbWFnZVN0eWxlIGZyb20gJy4vSW1hZ2UuanMnO1xuaW1wb3J0IHthc0FycmF5fSBmcm9tICcuLi9jb2xvci5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge2dldCBhcyBnZXRJY29uSW1hZ2V9IGZyb20gJy4vSWNvbkltYWdlLmpzJztcbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi91dGlsLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7J2ZyYWN0aW9uJyB8ICdwaXhlbHMnfSBJY29uQW5jaG9yVW5pdHNcbiAqIEFuY2hvciB1bml0IGNhbiBiZSBlaXRoZXIgYSBmcmFjdGlvbiBvZiB0aGUgaWNvbiBzaXplIG9yIGluIHBpeGVscy5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsnYm90dG9tLWxlZnQnIHwgJ2JvdHRvbS1yaWdodCcgfCAndG9wLWxlZnQnIHwgJ3RvcC1yaWdodCd9IEljb25PcmlnaW5cbiAqIEljb24gb3JpZ2luLiBPbmUgb2YgJ2JvdHRvbS1sZWZ0JywgJ2JvdHRvbS1yaWdodCcsICd0b3AtbGVmdCcsICd0b3AtcmlnaHQnLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbYW5jaG9yPVswLjUsIDAuNV1dIEFuY2hvci4gRGVmYXVsdCB2YWx1ZSBpcyB0aGUgaWNvbiBjZW50ZXIuXG4gKiBAcHJvcGVydHkge0ljb25PcmlnaW59IFthbmNob3JPcmlnaW49J3RvcC1sZWZ0J10gT3JpZ2luIG9mIHRoZSBhbmNob3I6IGBib3R0b20tbGVmdGAsIGBib3R0b20tcmlnaHRgLFxuICogYHRvcC1sZWZ0YCBvciBgdG9wLXJpZ2h0YC5cbiAqIEBwcm9wZXJ0eSB7SWNvbkFuY2hvclVuaXRzfSBbYW5jaG9yWFVuaXRzPSdmcmFjdGlvbiddIFVuaXRzIGluIHdoaWNoIHRoZSBhbmNob3IgeCB2YWx1ZSBpc1xuICogc3BlY2lmaWVkLiBBIHZhbHVlIG9mIGAnZnJhY3Rpb24nYCBpbmRpY2F0ZXMgdGhlIHggdmFsdWUgaXMgYSBmcmFjdGlvbiBvZiB0aGUgaWNvbi4gQSB2YWx1ZSBvZiBgJ3BpeGVscydgIGluZGljYXRlc1xuICogdGhlIHggdmFsdWUgaW4gcGl4ZWxzLlxuICogQHByb3BlcnR5IHtJY29uQW5jaG9yVW5pdHN9IFthbmNob3JZVW5pdHM9J2ZyYWN0aW9uJ10gVW5pdHMgaW4gd2hpY2ggdGhlIGFuY2hvciB5IHZhbHVlIGlzXG4gKiBzcGVjaWZpZWQuIEEgdmFsdWUgb2YgYCdmcmFjdGlvbidgIGluZGljYXRlcyB0aGUgeSB2YWx1ZSBpcyBhIGZyYWN0aW9uIG9mIHRoZSBpY29uLiBBIHZhbHVlIG9mIGAncGl4ZWxzJ2AgaW5kaWNhdGVzXG4gKiB0aGUgeSB2YWx1ZSBpbiBwaXhlbHMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfHN0cmluZ30gW2NvbG9yXSBDb2xvciB0byB0aW50IHRoZSBpY29uLiBJZiBub3Qgc3BlY2lmaWVkLFxuICogdGhlIGljb24gd2lsbCBiZSBsZWZ0IGFzIGlzLlxuICogQHByb3BlcnR5IHtudWxsfHN0cmluZ30gW2Nyb3NzT3JpZ2luXSBUaGUgYGNyb3NzT3JpZ2luYCBhdHRyaWJ1dGUgZm9yIGxvYWRlZCBpbWFnZXMuIE5vdGUgdGhhdCB5b3UgbXVzdCBwcm92aWRlIGFcbiAqIGBjcm9zc09yaWdpbmAgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gW2ltZ10gSW1hZ2Ugb2JqZWN0IGZvciB0aGUgaWNvbi4gSWYgdGhlIGBzcmNgIG9wdGlvbiBpcyBub3QgcHJvdmlkZWQgdGhlbiB0aGVcbiAqIHByb3ZpZGVkIGltYWdlIG11c3QgYWxyZWFkeSBiZSBsb2FkZWQuIEFuZCBpbiB0aGF0IGNhc2UsIGl0IGlzIHJlcXVpcmVkXG4gKiB0byBwcm92aWRlIHRoZSBzaXplIG9mIHRoZSBpbWFnZSwgd2l0aCB0aGUgYGltZ1NpemVgIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbaW1nU2l6ZV0gSW1hZ2Ugc2l6ZSBpbiBwaXhlbHMuIE9ubHkgcmVxdWlyZWQgaWYgYGltZ2AgaXMgc2V0IGFuZCBgc3JjYCBpcyBub3QuXG4gKiBUaGUgcHJvdmlkZWQgYGltZ1NpemVgIG5lZWRzIHRvIG1hdGNoIHRoZSBhY3R1YWwgc2l6ZSBvZiB0aGUgaW1hZ2UuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtkaXNwbGFjZW1lbnQ9WzAsIDBdXSBEaXNwbGFjZW1lbnQgb2YgdGhlIGljb24gaW4gcGl4ZWxzLlxuICogUG9zaXRpdmUgdmFsdWVzIHdpbGwgc2hpZnQgdGhlIGljb24gcmlnaHQgYW5kIHVwLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgb2YgdGhlIGljb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3dpZHRoXSBUaGUgd2lkdGggb2YgdGhlIGljb24gaW4gcGl4ZWxzLiBUaGlzIGNhbid0IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBgc2NhbGVgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtoZWlnaHRdIFRoZSBoZWlnaHQgb2YgdGhlIGljb24gaW4gcGl4ZWxzLiBUaGlzIGNhbid0IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBgc2NhbGVgLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2NhbGU9MV0gU2NhbGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyb3RhdGVXaXRoVmlldz1mYWxzZV0gV2hldGhlciB0byByb3RhdGUgdGhlIGljb24gd2l0aCB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb249MF0gUm90YXRpb24gaW4gcmFkaWFucyAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlKS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW29mZnNldD1bMCwgMF1dIE9mZnNldCB3aGljaCwgdG9nZXRoZXIgd2l0aCBgc2l6ZWAgYW5kIGBvZmZzZXRPcmlnaW5gLCBkZWZpbmVzIHRoZVxuICogc3ViLXJlY3RhbmdsZSB0byB1c2UgZnJvbSB0aGUgb3JpZ2luYWwgKHNwcml0ZSkgaW1hZ2UuXG4gKiBAcHJvcGVydHkge0ljb25PcmlnaW59IFtvZmZzZXRPcmlnaW49J3RvcC1sZWZ0J10gT3JpZ2luIG9mIHRoZSBvZmZzZXQ6IGBib3R0b20tbGVmdGAsIGBib3R0b20tcmlnaHRgLFxuICogYHRvcC1sZWZ0YCBvciBgdG9wLXJpZ2h0YC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2l6ZV0gSWNvbiBzaXplIGluIHBpeGVscy4gVXNlZCB0b2dldGhlciB3aXRoIGBvZmZzZXRgIHRvIGRlZmluZSB0aGVcbiAqIHN1Yi1yZWN0YW5nbGUgdG8gdXNlIGZyb20gdGhlIG9yaWdpbmFsIChzcHJpdGUpIGltYWdlLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzcmNdIEltYWdlIHNvdXJjZSBVUkkuXG4gKiBAcHJvcGVydHkge1wiZGVjbHV0dGVyXCJ8XCJvYnN0YWNsZVwifFwibm9uZVwifHVuZGVmaW5lZH0gW2RlY2x1dHRlck1vZGVdIERlY2x1dHRlciBtb2RlLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IGljb24gc3R5bGUgZm9yIHZlY3RvciBmZWF0dXJlcy5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgSWNvbiBleHRlbmRzIEltYWdlU3R5bGUge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgY29uc3Qgb3BhY2l0eSA9IG9wdGlvbnMub3BhY2l0eSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vcGFjaXR5IDogMTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgY29uc3Qgcm90YXRpb24gPSBvcHRpb25zLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0aW9uIDogMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIGNvbnN0IHNjYWxlID0gb3B0aW9ucy5zY2FsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zY2FsZSA6IDE7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjb25zdCByb3RhdGVXaXRoVmlldyA9XG4gICAgICBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3IDogZmFsc2U7XG5cbiAgICBzdXBlcih7XG4gICAgICBvcGFjaXR5OiBvcGFjaXR5LFxuICAgICAgcm90YXRpb246IHJvdGF0aW9uLFxuICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgZGlzcGxhY2VtZW50OlxuICAgICAgICBvcHRpb25zLmRpc3BsYWNlbWVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kaXNwbGFjZW1lbnQgOiBbMCwgMF0sXG4gICAgICByb3RhdGVXaXRoVmlldzogcm90YXRlV2l0aFZpZXcsXG4gICAgICBkZWNsdXR0ZXJNb2RlOiBvcHRpb25zLmRlY2x1dHRlck1vZGUsXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuYW5jaG9yXyA9IG9wdGlvbnMuYW5jaG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmFuY2hvciA6IFswLjUsIDAuNV07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMubm9ybWFsaXplZEFuY2hvcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SWNvbk9yaWdpbn1cbiAgICAgKi9cbiAgICB0aGlzLmFuY2hvck9yaWdpbl8gPVxuICAgICAgb3B0aW9ucy5hbmNob3JPcmlnaW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5jaG9yT3JpZ2luIDogJ3RvcC1sZWZ0JztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0ljb25BbmNob3JVbml0c31cbiAgICAgKi9cbiAgICB0aGlzLmFuY2hvclhVbml0c18gPVxuICAgICAgb3B0aW9ucy5hbmNob3JYVW5pdHMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5jaG9yWFVuaXRzIDogJ2ZyYWN0aW9uJztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0ljb25BbmNob3JVbml0c31cbiAgICAgKi9cbiAgICB0aGlzLmFuY2hvcllVbml0c18gPVxuICAgICAgb3B0aW9ucy5hbmNob3JZVW5pdHMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5jaG9yWVVuaXRzIDogJ2ZyYWN0aW9uJztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9zdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5jcm9zc09yaWdpbl8gPVxuICAgICAgb3B0aW9ucy5jcm9zc09yaWdpbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jcm9zc09yaWdpbiA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICBjb25zdCBpbWFnZSA9IG9wdGlvbnMuaW1nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmltZyA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuaW1nU2l6ZV8gPSBvcHRpb25zLmltZ1NpemU7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICBsZXQgc3JjID0gb3B0aW9ucy5zcmM7XG5cbiAgICBhc3NlcnQoIShzcmMgIT09IHVuZGVmaW5lZCAmJiBpbWFnZSksIDQpOyAvLyBgaW1hZ2VgIGFuZCBgc3JjYCBjYW5ub3QgYmUgcHJvdmlkZWQgYXQgdGhlIHNhbWUgdGltZVxuICAgIGFzc2VydCghaW1hZ2UgfHwgKGltYWdlICYmIHRoaXMuaW1nU2l6ZV8pLCA1KTsgLy8gYGltZ1NpemVgIG11c3QgYmUgc2V0IHdoZW4gYGltYWdlYCBpcyBwcm92aWRlZFxuXG4gICAgaWYgKChzcmMgPT09IHVuZGVmaW5lZCB8fCBzcmMubGVuZ3RoID09PSAwKSAmJiBpbWFnZSkge1xuICAgICAgc3JjID0gLyoqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fSAqLyAoaW1hZ2UpLnNyYyB8fCBnZXRVaWQoaW1hZ2UpO1xuICAgIH1cbiAgICBhc3NlcnQoc3JjICE9PSB1bmRlZmluZWQgJiYgc3JjLmxlbmd0aCA+IDAsIDYpOyAvLyBBIGRlZmluZWQgYW5kIG5vbi1lbXB0eSBgc3JjYCBvciBgaW1hZ2VgIG11c3QgYmUgcHJvdmlkZWRcblxuICAgIC8vIGB3aWR0aGAgb3IgYGhlaWdodGAgY2Fubm90IGJlIHByb3ZpZGVkIHRvZ2V0aGVyIHdpdGggYHNjYWxlYFxuICAgIGFzc2VydChcbiAgICAgICEoXG4gICAgICAgIChvcHRpb25zLndpZHRoICE9PSB1bmRlZmluZWQgfHwgb3B0aW9ucy5oZWlnaHQgIT09IHVuZGVmaW5lZCkgJiZcbiAgICAgICAgb3B0aW9ucy5zY2FsZSAhPT0gdW5kZWZpbmVkXG4gICAgICApLFxuICAgICAgNjlcbiAgICApO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICBjb25zdCBpbWFnZVN0YXRlID1cbiAgICAgIG9wdGlvbnMuc3JjICE9PSB1bmRlZmluZWQgPyBJbWFnZVN0YXRlLklETEUgOiBJbWFnZVN0YXRlLkxPQURFRDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfVxuICAgICAqL1xuICAgIHRoaXMuY29sb3JfID0gb3B0aW9ucy5jb2xvciAhPT0gdW5kZWZpbmVkID8gYXNBcnJheShvcHRpb25zLmNvbG9yKSA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ljb25JbWFnZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuaWNvbkltYWdlXyA9IGdldEljb25JbWFnZShcbiAgICAgIGltYWdlLFxuICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovIChzcmMpLFxuICAgICAgdGhpcy5pbWdTaXplXyAhPT0gdW5kZWZpbmVkID8gdGhpcy5pbWdTaXplXyA6IG51bGwsXG4gICAgICB0aGlzLmNyb3NzT3JpZ2luXyxcbiAgICAgIGltYWdlU3RhdGUsXG4gICAgICB0aGlzLmNvbG9yX1xuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMub2Zmc2V0XyA9IG9wdGlvbnMub2Zmc2V0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9mZnNldCA6IFswLCAwXTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtJY29uT3JpZ2lufVxuICAgICAqL1xuICAgIHRoaXMub2Zmc2V0T3JpZ2luXyA9XG4gICAgICBvcHRpb25zLm9mZnNldE9yaWdpbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vZmZzZXRPcmlnaW4gOiAndG9wLWxlZnQnO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWdpbl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMuc2l6ZV8gPSBvcHRpb25zLnNpemUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2l6ZSA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLndpZHRoXyA9IG9wdGlvbnMud2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodF8gPSBvcHRpb25zLmhlaWdodDtcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlIHRoZSBzY2FsZSBpZiB3aWR0aCBvciBoZWlnaHQgd2hlcmUgZ2l2ZW4uXG4gICAgICovXG4gICAgaWYgKHRoaXMud2lkdGhfICE9PSB1bmRlZmluZWQgfHwgdGhpcy5oZWlnaHRfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5nZXRJbWFnZSgxKTtcbiAgICAgIGNvbnN0IHNldFNjYWxlID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZVNjYWxlRnJvbVdpZHRoQW5kSGVpZ2h0KHRoaXMud2lkdGhfLCB0aGlzLmhlaWdodF8pO1xuICAgICAgfTtcbiAgICAgIGlmIChpbWFnZS53aWR0aCA+IDApIHtcbiAgICAgICAgdGhpcy51cGRhdGVTY2FsZUZyb21XaWR0aEFuZEhlaWdodCh0aGlzLndpZHRoXywgdGhpcy5oZWlnaHRfKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBzZXRTY2FsZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgc3R5bGUuIFRoZSB1bmRlcmx5aW5nIEltYWdlL0hUTUxDYW52YXNFbGVtZW50IGlzIG5vdCBjbG9uZWQuXG4gICAqIEByZXR1cm4ge0ljb259IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGNsb25lKCkge1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgIHJldHVybiBuZXcgSWNvbih7XG4gICAgICBhbmNob3I6IHRoaXMuYW5jaG9yXy5zbGljZSgpLFxuICAgICAgYW5jaG9yT3JpZ2luOiB0aGlzLmFuY2hvck9yaWdpbl8sXG4gICAgICBhbmNob3JYVW5pdHM6IHRoaXMuYW5jaG9yWFVuaXRzXyxcbiAgICAgIGFuY2hvcllVbml0czogdGhpcy5hbmNob3JZVW5pdHNfLFxuICAgICAgY29sb3I6XG4gICAgICAgIHRoaXMuY29sb3JfICYmIHRoaXMuY29sb3JfLnNsaWNlXG4gICAgICAgICAgPyB0aGlzLmNvbG9yXy5zbGljZSgpXG4gICAgICAgICAgOiB0aGlzLmNvbG9yXyB8fCB1bmRlZmluZWQsXG4gICAgICBjcm9zc09yaWdpbjogdGhpcy5jcm9zc09yaWdpbl8sXG4gICAgICBpbWdTaXplOiB0aGlzLmltZ1NpemVfLFxuICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldF8uc2xpY2UoKSxcbiAgICAgIG9mZnNldE9yaWdpbjogdGhpcy5vZmZzZXRPcmlnaW5fLFxuICAgICAgb3BhY2l0eTogdGhpcy5nZXRPcGFjaXR5KCksXG4gICAgICByb3RhdGVXaXRoVmlldzogdGhpcy5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKSxcbiAgICAgIHNjYWxlOiBBcnJheS5pc0FycmF5KHNjYWxlKSA/IHNjYWxlLnNsaWNlKCkgOiBzY2FsZSxcbiAgICAgIHNpemU6IHRoaXMuc2l6ZV8gIT09IG51bGwgPyB0aGlzLnNpemVfLnNsaWNlKCkgOiB1bmRlZmluZWQsXG4gICAgICBzcmM6IHRoaXMuZ2V0U3JjKCksXG4gICAgICBkaXNwbGFjZW1lbnQ6IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCkuc2xpY2UoKSxcbiAgICAgIGRlY2x1dHRlck1vZGU6IHRoaXMuZ2V0RGVjbHV0dGVyTW9kZSgpLFxuICAgICAgd2lkdGg6IHRoaXMud2lkdGhfLFxuICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodF8sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzY2FsZSBvZiB0aGUgSWNvbiBieSBjYWxjdWxhdGluZyBpdCBmcm9tIGdpdmVuIHdpZHRoIGFuZCBoZWlnaHQgYW5kIHRoZVxuICAgKiB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBpbWFnZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFRoZSB3aWR0aC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBUaGUgaGVpZ2h0LlxuICAgKi9cbiAgdXBkYXRlU2NhbGVGcm9tV2lkdGhBbmRIZWlnaHQod2lkdGgsIGhlaWdodCkge1xuICAgIGNvbnN0IGltYWdlID0gdGhpcy5nZXRJbWFnZSgxKTtcbiAgICBpZiAod2lkdGggIT09IHVuZGVmaW5lZCAmJiBoZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3VwZXIuc2V0U2NhbGUoW3dpZHRoIC8gaW1hZ2Uud2lkdGgsIGhlaWdodCAvIGltYWdlLmhlaWdodF0pO1xuICAgIH0gZWxzZSBpZiAod2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3VwZXIuc2V0U2NhbGUoW3dpZHRoIC8gaW1hZ2Uud2lkdGgsIHdpZHRoIC8gaW1hZ2Uud2lkdGhdKTtcbiAgICB9IGVsc2UgaWYgKGhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdXBlci5zZXRTY2FsZShbaGVpZ2h0IC8gaW1hZ2UuaGVpZ2h0LCBoZWlnaHQgLyBpbWFnZS5oZWlnaHRdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VwZXIuc2V0U2NhbGUoWzEsIDFdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhbmNob3IgcG9pbnQgaW4gcGl4ZWxzLiBUaGUgYW5jaG9yIGRldGVybWluZXMgdGhlIGNlbnRlciBwb2ludCBmb3IgdGhlXG4gICAqIHN5bWJvbGl6ZXIuXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEFuY2hvci5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0QW5jaG9yKCkge1xuICAgIGxldCBhbmNob3IgPSB0aGlzLm5vcm1hbGl6ZWRBbmNob3JfO1xuICAgIGlmICghYW5jaG9yKSB7XG4gICAgICBhbmNob3IgPSB0aGlzLmFuY2hvcl87XG4gICAgICBjb25zdCBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuYW5jaG9yWFVuaXRzXyA9PSAnZnJhY3Rpb24nIHx8XG4gICAgICAgIHRoaXMuYW5jaG9yWVVuaXRzXyA9PSAnZnJhY3Rpb24nXG4gICAgICApIHtcbiAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgYW5jaG9yID0gdGhpcy5hbmNob3JfLnNsaWNlKCk7XG4gICAgICAgIGlmICh0aGlzLmFuY2hvclhVbml0c18gPT0gJ2ZyYWN0aW9uJykge1xuICAgICAgICAgIGFuY2hvclswXSAqPSBzaXplWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFuY2hvcllVbml0c18gPT0gJ2ZyYWN0aW9uJykge1xuICAgICAgICAgIGFuY2hvclsxXSAqPSBzaXplWzFdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmFuY2hvck9yaWdpbl8gIT0gJ3RvcC1sZWZ0Jykge1xuICAgICAgICBpZiAoIXNpemUpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5jaG9yID09PSB0aGlzLmFuY2hvcl8pIHtcbiAgICAgICAgICBhbmNob3IgPSB0aGlzLmFuY2hvcl8uc2xpY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5hbmNob3JPcmlnaW5fID09ICd0b3AtcmlnaHQnIHx8XG4gICAgICAgICAgdGhpcy5hbmNob3JPcmlnaW5fID09ICdib3R0b20tcmlnaHQnXG4gICAgICAgICkge1xuICAgICAgICAgIGFuY2hvclswXSA9IC1hbmNob3JbMF0gKyBzaXplWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLmFuY2hvck9yaWdpbl8gPT0gJ2JvdHRvbS1sZWZ0JyB8fFxuICAgICAgICAgIHRoaXMuYW5jaG9yT3JpZ2luXyA9PSAnYm90dG9tLXJpZ2h0J1xuICAgICAgICApIHtcbiAgICAgICAgICBhbmNob3JbMV0gPSAtYW5jaG9yWzFdICsgc2l6ZVsxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5ub3JtYWxpemVkQW5jaG9yXyA9IGFuY2hvcjtcbiAgICB9XG4gICAgY29uc3QgZGlzcGxhY2VtZW50ID0gdGhpcy5nZXREaXNwbGFjZW1lbnQoKTtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZ2V0U2NhbGVBcnJheSgpO1xuICAgIC8vIGFuY2hvciBpcyBzY2FsZWQgYnkgcmVuZGVyZXIgYnV0IGRpc3BsYWNlbWVudCBzaG91bGQgbm90IGJlIHNjYWxlZFxuICAgIC8vIHNvIGRpdmlkZSBieSBzY2FsZSBoZXJlXG4gICAgcmV0dXJuIFtcbiAgICAgIGFuY2hvclswXSAtIGRpc3BsYWNlbWVudFswXSAvIHNjYWxlWzBdLFxuICAgICAgYW5jaG9yWzFdICsgZGlzcGxhY2VtZW50WzFdIC8gc2NhbGVbMV0sXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludC4gVGhlIGFuY2hvciBkZXRlcm1pbmVzIHRoZSBjZW50ZXIgcG9pbnQgZm9yIHRoZVxuICAgKiBzeW1ib2xpemVyLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGFuY2hvciBBbmNob3IuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEFuY2hvcihhbmNob3IpIHtcbiAgICB0aGlzLmFuY2hvcl8gPSBhbmNob3I7XG4gICAgdGhpcy5ub3JtYWxpemVkQW5jaG9yXyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBpY29uIGNvbG9yLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn0gQ29sb3IuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLmNvbG9yXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGltYWdlIGljb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBJbWFnZSBvciBDYW52YXMgZWxlbWVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0SW1hZ2UocGl4ZWxSYXRpbykge1xuICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0SW1hZ2UocGl4ZWxSYXRpbyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHBpeGVsIHJhdGlvIG9mIHRoZSBpbWFnZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UGl4ZWxSYXRpbyhwaXhlbFJhdGlvKSB7XG4gICAgcmV0dXJuIHRoaXMuaWNvbkltYWdlXy5nZXRQaXhlbFJhdGlvKHBpeGVsUmF0aW8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gSW1hZ2Ugc2l6ZS5cbiAgICovXG4gIGdldEltYWdlU2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pY29uSW1hZ2VfLmdldFNpemUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0YXRlLlxuICAgKi9cbiAgZ2V0SW1hZ2VTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pY29uSW1hZ2VfLmdldEltYWdlU3RhdGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBJbWFnZSBlbGVtZW50LlxuICAgKi9cbiAgZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWNvbkltYWdlXy5nZXRIaXREZXRlY3Rpb25JbWFnZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgb3JpZ2luIG9mIHRoZSBzeW1ib2xpemVyLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPcmlnaW4uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE9yaWdpbigpIHtcbiAgICBpZiAodGhpcy5vcmlnaW5fKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcmlnaW5fO1xuICAgIH1cbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5vZmZzZXRfO1xuXG4gICAgaWYgKHRoaXMub2Zmc2V0T3JpZ2luXyAhPSAndG9wLWxlZnQnKSB7XG4gICAgICBjb25zdCBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgICBjb25zdCBpY29uSW1hZ2VTaXplID0gdGhpcy5pY29uSW1hZ2VfLmdldFNpemUoKTtcbiAgICAgIGlmICghc2l6ZSB8fCAhaWNvbkltYWdlU2l6ZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIG9mZnNldCA9IG9mZnNldC5zbGljZSgpO1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLm9mZnNldE9yaWdpbl8gPT0gJ3RvcC1yaWdodCcgfHxcbiAgICAgICAgdGhpcy5vZmZzZXRPcmlnaW5fID09ICdib3R0b20tcmlnaHQnXG4gICAgICApIHtcbiAgICAgICAgb2Zmc2V0WzBdID0gaWNvbkltYWdlU2l6ZVswXSAtIHNpemVbMF0gLSBvZmZzZXRbMF07XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMub2Zmc2V0T3JpZ2luXyA9PSAnYm90dG9tLWxlZnQnIHx8XG4gICAgICAgIHRoaXMub2Zmc2V0T3JpZ2luXyA9PSAnYm90dG9tLXJpZ2h0J1xuICAgICAgKSB7XG4gICAgICAgIG9mZnNldFsxXSA9IGljb25JbWFnZVNpemVbMV0gLSBzaXplWzFdIC0gb2Zmc2V0WzFdO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm9yaWdpbl8gPSBvZmZzZXQ7XG4gICAgcmV0dXJuIHRoaXMub3JpZ2luXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGltYWdlIFVSTC5cbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gSW1hZ2Ugc3JjLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRTcmMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWNvbkltYWdlXy5nZXRTcmMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIGljb24gKGluIHBpeGVscykuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gSW1hZ2Ugc2l6ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0U2l6ZSgpIHtcbiAgICByZXR1cm4gIXRoaXMuc2l6ZV8gPyB0aGlzLmljb25JbWFnZV8uZ2V0U2l6ZSgpIDogdGhpcy5zaXplXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHdpZHRoIG9mIHRoZSBpY29uIChpbiBwaXhlbHMpLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEljb24gd2lkdGggKGluIHBpeGVscykuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLndpZHRoXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGhlaWdodCBvZiB0aGUgaWNvbiAoaW4gcGl4ZWxzKS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBJY29uIGhlaWdodCAoaW4gcGl4ZWxzKS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0SGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLmhlaWdodF87XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB3aWR0aCBvZiB0aGUgaWNvbiBpbiBwaXhlbHMuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBUaGUgd2lkdGggdG8gc2V0LlxuICAgKi9cbiAgc2V0V2lkdGgod2lkdGgpIHtcbiAgICB0aGlzLndpZHRoXyA9IHdpZHRoO1xuICAgIHRoaXMudXBkYXRlU2NhbGVGcm9tV2lkdGhBbmRIZWlnaHQod2lkdGgsIHRoaXMuaGVpZ2h0Xyk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBoZWlnaHQgb2YgdGhlIGljb24gaW4gcGl4ZWxzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IFRoZSBoZWlnaHQgdG8gc2V0LlxuICAgKi9cbiAgc2V0SGVpZ2h0KGhlaWdodCkge1xuICAgIHRoaXMuaGVpZ2h0XyA9IGhlaWdodDtcbiAgICB0aGlzLnVwZGF0ZVNjYWxlRnJvbVdpZHRoQW5kSGVpZ2h0KHRoaXMud2lkdGhfLCBoZWlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc2NhbGUgYW5kIHVwZGF0ZXMgdGhlIHdpZHRoIGFuZCBoZWlnaHQgY29ycmVzcG9uZGluZ2x5LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNjYWxlIFNjYWxlLlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U2NhbGUoc2NhbGUpIHtcbiAgICBzdXBlci5zZXRTY2FsZShzY2FsZSk7XG4gICAgY29uc3QgaW1hZ2UgPSB0aGlzLmdldEltYWdlKDEpO1xuICAgIGlmIChpbWFnZSkge1xuICAgICAgY29uc3Qgd2lkdGhTY2FsZSA9IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGVbMF0gOiBzY2FsZTtcbiAgICAgIGlmICh3aWR0aFNjYWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy53aWR0aF8gPSB3aWR0aFNjYWxlICogaW1hZ2Uud2lkdGg7XG4gICAgICB9XG4gICAgICBjb25zdCBoZWlnaHRTY2FsZSA9IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGVbMV0gOiBzY2FsZTtcbiAgICAgIGlmIChoZWlnaHRTY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuaGVpZ2h0XyA9IGhlaWdodFNjYWxlICogaW1hZ2UuaGVpZ2h0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0KTogdm9pZH0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqL1xuICBsaXN0ZW5JbWFnZUNoYW5nZShsaXN0ZW5lcikge1xuICAgIHRoaXMuaWNvbkltYWdlXy5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICogV2hlbiByZW5kZXJpbmcgYSBmZWF0dXJlIHdpdGggYW4gaWNvbiBzdHlsZSwgdGhlIHZlY3RvciByZW5kZXJlciB3aWxsXG4gICAqIGF1dG9tYXRpY2FsbHkgY2FsbCB0aGlzIG1ldGhvZC4gSG93ZXZlciwgeW91IG1pZ2h0IHdhbnQgdG8gY2FsbCB0aGlzXG4gICAqIG1ldGhvZCB5b3Vyc2VsZiBmb3IgcHJlbG9hZGluZyBvciBvdGhlciBwdXJwb3Nlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgbG9hZCgpIHtcbiAgICB0aGlzLmljb25JbWFnZV8ubG9hZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICovXG4gIHVubGlzdGVuSW1hZ2VDaGFuZ2UobGlzdGVuZXIpIHtcbiAgICB0aGlzLmljb25JbWFnZV8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCBsaXN0ZW5lcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSWNvbjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9mbGF0XG4gKi9cblxuaW1wb3J0IENpcmNsZSBmcm9tICcuLi9zdHlsZS9DaXJjbGUuanMnO1xuaW1wb3J0IEZpbGwgZnJvbSAnLi9GaWxsLmpzJztcbmltcG9ydCBJY29uIGZyb20gJy4vSWNvbi5qcyc7XG5pbXBvcnQgUmVndWxhclNoYXBlIGZyb20gJy4vUmVndWxhclNoYXBlLmpzJztcbmltcG9ydCBTdHJva2UgZnJvbSAnLi9TdHJva2UuanMnO1xuaW1wb3J0IFN0eWxlIGZyb20gJy4vU3R5bGUuanMnO1xuaW1wb3J0IFRleHQgZnJvbSAnLi9UZXh0LmpzJztcblxuLyoqXG4gKiBGb3Igc3RhdGljIHN0eWxpbmcsIHRoZSBbbGF5ZXIuc2V0U3R5bGUoKV17QGxpbmsgbW9kdWxlOm9sL2xheWVyL1ZlY3Rvcn5WZWN0b3JMYXllciNzZXRTdHlsZX0gbWV0aG9kXG4gKiBjYW4gYmUgY2FsbGVkIHdpdGggYW4gb2JqZWN0IGxpdGVyYWwgdGhhdCBoYXMgZmlsbCwgc3Ryb2tlLCB0ZXh0LCBpY29uLCByZWd1bGFyIHNoYXBlLCBhbmQvb3IgY2lyY2xlIHByb3BlcnRpZXMuXG4gKiBAYXBpXG4gKlxuICogQHR5cGVkZWYge0ZsYXRGaWxsICYgRmxhdFN0cm9rZSAmIEZsYXRUZXh0ICYgRmxhdEljb24gJiBGbGF0U2hhcGUgJiBGbGF0Q2lyY2xlfSBGbGF0U3R5bGVcbiAqL1xuXG4vKipcbiAqIEEgZmxhdCBzdHlsZSBsaXRlcmFsIG9yIGFuIGFycmF5IG9mIHRoZSBzYW1lLlxuICpcbiAqIEB0eXBlZGVmIHtGbGF0U3R5bGV8QXJyYXk8RmxhdFN0eWxlPn0gRmxhdFN0eWxlTGlrZVxuICovXG5cbi8qKlxuICogRmlsbCBzdHlsZSBwcm9wZXJ0aWVzIGFwcGxpZWQgdG8gcG9seWdvbiBmZWF0dXJlcy5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGbGF0RmlsbFxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbZmlsbC1jb2xvcl0gVGhlIGZpbGwgY29sb3IuXG4gKi9cblxuLyoqXG4gKiBTdHJva2Ugc3R5bGUgcHJvcGVydGllcyBhcHBsaWVkIHRvIGxpbmUgc3RyaW5ncyBhbmQgcG9seWdvbiBib3VuZGFyaWVzLiAgVG8gYXBwbHkgYSBzdHJva2UsIGF0IGxlYXN0IG9uZSBvZlxuICogYHN0cm9rZS1jb2xvcmAgb3IgYHN0cm9rZS13aWR0aGAgbXVzdCBiZSBwcm92aWRlZC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGbGF0U3Ryb2tlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtzdHJva2UtY29sb3JdIFRoZSBzdHJva2UgY29sb3IuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3N0cm9rZS13aWR0aF0gU3Ryb2tlIHBpeGVsIHdpZHRoLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBbc3Ryb2tlLWxpbmUtY2FwPSdyb3VuZCddIExpbmUgY2FwIHN0eWxlOiBgYnV0dGAsIGByb3VuZGAsIG9yIGBzcXVhcmVgLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gW3N0cm9rZS1saW5lLWpvaW49J3JvdW5kJ10gTGluZSBqb2luIHN0eWxlOiBgYmV2ZWxgLCBgcm91bmRgLCBvciBgbWl0ZXJgLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbc3Ryb2tlLWxpbmUtZGFzaF0gTGluZSBkYXNoIHBhdHRlcm4uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3N0cm9rZS1saW5lLWRhc2gtb2Zmc2V0PTBdIExpbmUgZGFzaCBvZmZzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3N0cm9rZS1taXRlci1saW1pdD0xMF0gTWl0ZXIgbGltaXQuXG4gKi9cblxuLyoqXG4gKiBMYWJlbCBzdHlsZSBwcm9wZXJ0aWVzIGFwcGxpZWQgdG8gYWxsIGZlYXR1cmVzLiAgQXQgYSBtaW5pbXVtLCBhIGB0ZXh0LXZhbHVlYCBtdXN0IGJlIHByb3ZpZGVkLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZsYXRUZXh0XG4gKiBAcHJvcGVydHkge3N0cmluZ3xBcnJheTxzdHJpbmc+fSBbdGV4dC12YWx1ZV0gVGV4dCBjb250ZW50IG9yIHJpY2ggdGV4dCBjb250ZW50LiBGb3IgcGxhaW4gdGV4dCBwcm92aWRlIGEgc3RyaW5nLCB3aGljaCBjYW5cbiAqIGNvbnRhaW4gbGluZSBicmVha3MgKGBcXG5gKS4gRm9yIHJpY2ggdGV4dCBwcm92aWRlIGFuIGFycmF5IG9mIHRleHQvZm9udCB0dXBsZXMuIEEgdHVwbGUgY29uc2lzdHMgb2YgdGhlIHRleHQgdG9cbiAqIHJlbmRlciBhbmQgdGhlIGZvbnQgdG8gdXNlIChvciBgJydgIHRvIHVzZSB0aGUgdGV4dCBzdHlsZSdzIGZvbnQpLiBBIGxpbmUgYnJlYWsgaGFzIHRvIGJlIGEgc2VwYXJhdGUgdHVwbGUgKGkuZS4gYCdcXG4nLCAnJ2ApLlxuICogKipFeGFtcGxlOioqIGBbJ2ZvbycsICdib2xkIDEwcHggc2Fucy1zZXJpZicsICcgYmFyJywgJ2l0YWxpYyAxMHB4IHNhbnMtc2VyaWYnLCAnIGJheicsICcnXWAgd2lsbCB5aWVsZCBcIioqZm9vKiogKmJhciogYmF6XCIuXG4gKiAqKk5vdGU6KiogUmljaCB0ZXh0IGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHRoZSBpbW1lZGlhdGUgcmVuZGVyaW5nIEFQSS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdGV4dC1mb250XSBGb250IHN0eWxlIGFzIENTUyBgZm9udGAgdmFsdWUsIHNlZTpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZm9udC4gRGVmYXVsdCBpcyBgJzEwcHggc2Fucy1zZXJpZidgXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RleHQtbWF4LWFuZ2xlPU1hdGguUEkvNF0gV2hlbiBgdGV4dC1wbGFjZW1lbnRgIGlzIHNldCB0byBgJ2xpbmUnYCwgYWxsb3cgYSBtYXhpbXVtIGFuZ2xlIGJldHdlZW4gYWRqYWNlbnQgY2hhcmFjdGVycy5cbiAqIFRoZSBleHBlY3RlZCB2YWx1ZSBpcyBpbiByYWRpYW5zLCBhbmQgdGhlIGRlZmF1bHQgaXMgNDXCsCAoYE1hdGguUEkgLyA0YCkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RleHQtb2Zmc2V0LXg9MF0gSG9yaXpvbnRhbCB0ZXh0IG9mZnNldCBpbiBwaXhlbHMuIEEgcG9zaXRpdmUgd2lsbCBzaGlmdCB0aGUgdGV4dCByaWdodC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dC1vZmZzZXQteT0wXSBWZXJ0aWNhbCB0ZXh0IG9mZnNldCBpbiBwaXhlbHMuIEEgcG9zaXRpdmUgd2lsbCBzaGlmdCB0aGUgdGV4dCBkb3duLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdGV4dC1vdmVyZmxvdz1mYWxzZV0gRm9yIHBvbHlnb24gbGFiZWxzIG9yIHdoZW4gYHBsYWNlbWVudGAgaXMgc2V0IHRvIGAnbGluZSdgLCBhbGxvdyB0ZXh0IHRvIGV4Y2VlZFxuICogdGhlIHdpZHRoIG9mIHRoZSBwb2x5Z29uIGF0IHRoZSBsYWJlbCBwb3NpdGlvbiBvciB0aGUgbGVuZ3RoIG9mIHRoZSBwYXRoIHRoYXQgaXQgZm9sbG93cy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9UZXh0LmpzXCIpLlRleHRQbGFjZW1lbnR9IFt0ZXh0LXBsYWNlbWVudD0ncG9pbnQnXSBUZXh0IHBsYWNlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3RleHQtc2NhbGVdIFNjYWxlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdGV4dC1yb3RhdGUtd2l0aC12aWV3PWZhbHNlXSBXaGV0aGVyIHRvIHJvdGF0ZSB0aGUgdGV4dCB3aXRoIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0LXJvdGF0aW9uPTBdIFJvdGF0aW9uIGluIHJhZGlhbnMgKHBvc2l0aXZlIHJvdGF0aW9uIGNsb2Nrd2lzZSkuXG4gKiBAcHJvcGVydHkge0NhbnZhc1RleHRBbGlnbn0gW3RleHQtYWxpZ25dIFRleHQgYWxpZ25tZW50LiBQb3NzaWJsZSB2YWx1ZXM6IGAnbGVmdCdgLCBgJ3JpZ2h0J2AsIGAnY2VudGVyJ2AsIGAnZW5kJ2Agb3IgYCdzdGFydCdgLlxuICogRGVmYXVsdCBpcyBgJ2NlbnRlcidgIGZvciBgdGV4dC1wbGFjZW1lbnQ6ICdwb2ludCdgLiBGb3IgYHRleHQtcGxhY2VtZW50OiAnbGluZSdgLCB0aGUgZGVmYXVsdCBpcyB0byBsZXQgdGhlIHJlbmRlcmVyIGNob29zZSBhXG4gKiBwbGFjZW1lbnQgd2hlcmUgYHRleHQtbWF4LWFuZ2xlYCBpcyBub3QgZXhjZWVkZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydCgnLi9UZXh0LmpzJykuVGV4dEp1c3RpZnl9IFt0ZXh0LWp1c3RpZnldIFRleHQganVzdGlmaWNhdGlvbiB3aXRoaW4gdGhlIHRleHQgYm94LlxuICogSWYgbm90IHNldCwgdGV4dCBpcyBqdXN0aWZpZWQgdG93YXJkcyB0aGUgYHRleHRBbGlnbmAgYW5jaG9yLlxuICogT3RoZXJ3aXNlLCB1c2Ugb3B0aW9ucyBgJ2xlZnQnYCwgYCdjZW50ZXInYCwgb3IgYCdyaWdodCdgIHRvIGp1c3RpZnkgdGhlIHRleHQgd2l0aGluIHRoZSB0ZXh0IGJveC5cbiAqICoqTm90ZToqKiBgdGV4dC1qdXN0aWZ5YCBpcyBpZ25vcmVkIGZvciBpbW1lZGlhdGUgcmVuZGVyaW5nIGFuZCBhbHNvIGZvciBgdGV4dC1wbGFjZW1lbnQ6ICdsaW5lJ2AuXG4gKiBAcHJvcGVydHkge0NhbnZhc1RleHRCYXNlbGluZX0gW3RleHQtYmFzZWxpbmU9J21pZGRsZSddIFRleHQgYmFzZSBsaW5lLiBQb3NzaWJsZSB2YWx1ZXM6IGAnYm90dG9tJ2AsIGAndG9wJ2AsIGAnbWlkZGxlJ2AsIGAnYWxwaGFiZXRpYydgLFxuICogYCdoYW5naW5nJ2AsIGAnaWRlb2dyYXBoaWMnYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3RleHQtcGFkZGluZz1bMCwgMCwgMCwgMF1dIFBhZGRpbmcgaW4gcGl4ZWxzIGFyb3VuZCB0aGUgdGV4dCBmb3IgZGVjbHV0dGVyaW5nIGFuZCBiYWNrZ3JvdW5kLiBUaGUgb3JkZXIgb2ZcbiAqIHZhbHVlcyBpbiB0aGUgYXJyYXkgaXMgYFt0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnRdYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW3RleHQtZmlsbC1jb2xvcl0gVGhlIGZpbGwgY29sb3IuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFt0ZXh0LWJhY2tncm91bmQtZmlsbC1jb2xvcl0gVGhlIGZpbGwgY29sb3IuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFt0ZXh0LXN0cm9rZS1jb2xvcl0gVGhlIHN0cm9rZSBjb2xvci5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUNhcH0gW3RleHQtc3Ryb2tlLWxpbmUtY2FwPSdyb3VuZCddIExpbmUgY2FwIHN0eWxlOiBgYnV0dGAsIGByb3VuZGAsIG9yIGBzcXVhcmVgLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gW3RleHQtc3Ryb2tlLWxpbmUtam9pbj0ncm91bmQnXSBMaW5lIGpvaW4gc3R5bGU6IGBiZXZlbGAsIGByb3VuZGAsIG9yIGBtaXRlcmAuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFt0ZXh0LXN0cm9rZS1saW5lLWRhc2hdIExpbmUgZGFzaCBwYXR0ZXJuLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0LXN0cm9rZS1saW5lLWRhc2gtb2Zmc2V0PTBdIExpbmUgZGFzaCBvZmZzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RleHQtc3Ryb2tlLW1pdGVyLWxpbWl0PTEwXSBNaXRlciBsaW1pdC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dC1zdHJva2Utd2lkdGhdIFN0cm9rZSBwaXhlbCB3aWR0aC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW3RleHQtYmFja2dyb3VuZC1zdHJva2UtY29sb3JdIFRoZSBzdHJva2UgY29sb3IuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IFt0ZXh0LWJhY2tncm91bmQtc3Ryb2tlLWxpbmUtY2FwPSdyb3VuZCddIExpbmUgY2FwIHN0eWxlOiBgYnV0dGAsIGByb3VuZGAsIG9yIGBzcXVhcmVgLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gW3RleHQtYmFja2dyb3VuZC1zdHJva2UtbGluZS1qb2luPSdyb3VuZCddIExpbmUgam9pbiBzdHlsZTogYGJldmVsYCwgYHJvdW5kYCwgb3IgYG1pdGVyYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3RleHQtYmFja2dyb3VuZC1zdHJva2UtbGluZS1kYXNoXSBMaW5lIGRhc2ggcGF0dGVybi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dC1iYWNrZ3JvdW5kLXN0cm9rZS1saW5lLWRhc2gtb2Zmc2V0PTBdIExpbmUgZGFzaCBvZmZzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RleHQtYmFja2dyb3VuZC1zdHJva2UtbWl0ZXItbGltaXQ9MTBdIE1pdGVyIGxpbWl0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0LWJhY2tncm91bmQtc3Ryb2tlLXdpZHRoXSBTdHJva2UgcGl4ZWwgd2lkdGguXG4gKi9cblxuLyoqXG4gKiBJY29uIHN0eWxlIHByb3BlcnRpZXMgYXBwbGllZCB0byBwb2ludCBmZWF0dXJlcy4gIE9uZSBvZiBgaWNvbi1zcmNgIG9yIGBpY29uLWltZ2AgbXVzdCBiZSBwcm92aWRlZCB0byByZW5kZXJcbiAqIHBvaW50cyB3aXRoIGFuIGljb24uXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gRmxhdEljb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbaWNvbi1zcmNdIEltYWdlIHNvdXJjZSBVUkkuXG4gKiBAcHJvcGVydHkge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IFtpY29uLWltZ10gSW1hZ2Ugb2JqZWN0IGZvciB0aGUgaWNvbi4gSWYgdGhlIGBpY29uLXNyY2Agb3B0aW9uIGlzIG5vdCBwcm92aWRlZCB0aGVuIHRoZVxuICogcHJvdmlkZWQgaW1hZ2UgbXVzdCBhbHJlYWR5IGJlIGxvYWRlZC4gQW5kIGluIHRoYXQgY2FzZSwgaXQgaXMgcmVxdWlyZWRcbiAqIHRvIHByb3ZpZGUgdGhlIHNpemUgb2YgdGhlIGltYWdlLCB3aXRoIHRoZSBgaWNvbi1pbWctc2l6ZWAgb3B0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtpY29uLWltZy1zaXplXSBJbWFnZSBzaXplIGluIHBpeGVscy4gT25seSByZXF1aXJlZCBpZiBgaWNvbi1pbWdgIGlzIHNldCBhbmQgYGljb24tc3JjYCBpcyBub3QuXG4gKiBUaGUgcHJvdmlkZWQgc2l6ZSBuZWVkcyB0byBtYXRjaCB0aGUgYWN0dWFsIHNpemUgb2YgdGhlIGltYWdlLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbaWNvbi1hbmNob3I9WzAuNSwgMC41XV0gQW5jaG9yLiBEZWZhdWx0IHZhbHVlIGlzIHRoZSBpY29uIGNlbnRlci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9JY29uLmpzXCIpLkljb25PcmlnaW59IFtpY29uLWFuY2hvci1vcmlnaW49J3RvcC1sZWZ0J10gT3JpZ2luIG9mIHRoZSBhbmNob3I6IGBib3R0b20tbGVmdGAsIGBib3R0b20tcmlnaHRgLFxuICogYHRvcC1sZWZ0YCBvciBgdG9wLXJpZ2h0YC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9JY29uLmpzXCIpLkljb25BbmNob3JVbml0c30gW2ljb24tYW5jaG9yLXgtdW5pdHM9J2ZyYWN0aW9uJ10gVW5pdHMgaW4gd2hpY2ggdGhlIGFuY2hvciB4IHZhbHVlIGlzXG4gKiBzcGVjaWZpZWQuIEEgdmFsdWUgb2YgYCdmcmFjdGlvbidgIGluZGljYXRlcyB0aGUgeCB2YWx1ZSBpcyBhIGZyYWN0aW9uIG9mIHRoZSBpY29uLiBBIHZhbHVlIG9mIGAncGl4ZWxzJ2AgaW5kaWNhdGVzXG4gKiB0aGUgeCB2YWx1ZSBpbiBwaXhlbHMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vSWNvbi5qc1wiKS5JY29uQW5jaG9yVW5pdHN9IFtpY29uLWFuY2hvci15LXVuaXRzPSdmcmFjdGlvbiddIFVuaXRzIGluIHdoaWNoIHRoZSBhbmNob3IgeSB2YWx1ZSBpc1xuICogc3BlY2lmaWVkLiBBIHZhbHVlIG9mIGAnZnJhY3Rpb24nYCBpbmRpY2F0ZXMgdGhlIHkgdmFsdWUgaXMgYSBmcmFjdGlvbiBvZiB0aGUgaWNvbi4gQSB2YWx1ZSBvZiBgJ3BpeGVscydgIGluZGljYXRlc1xuICogdGhlIHkgdmFsdWUgaW4gcGl4ZWxzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxzdHJpbmd9IFtpY29uLWNvbG9yXSBDb2xvciB0byB0aW50IHRoZSBpY29uLiBJZiBub3Qgc3BlY2lmaWVkLFxuICogdGhlIGljb24gd2lsbCBiZSBsZWZ0IGFzIGlzLlxuICogQHByb3BlcnR5IHtudWxsfHN0cmluZ30gW2ljb24tY3Jvc3Mtb3JpZ2luXSBUaGUgYGNyb3NzT3JpZ2luYCBhdHRyaWJ1dGUgZm9yIGxvYWRlZCBpbWFnZXMuIE5vdGUgdGhhdCB5b3UgbXVzdCBwcm92aWRlIGFcbiAqIGBpY29uLWNyb3NzLW9yaWdpbmAgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2ljb24tb2Zmc2V0PVswLCAwXV0gT2Zmc2V0LCB3aGljaCwgdG9nZXRoZXIgd2l0aCB0aGUgc2l6ZSBhbmQgdGhlIG9mZnNldCBvcmlnaW4sIGRlZmluZSB0aGVcbiAqIHN1Yi1yZWN0YW5nbGUgdG8gdXNlIGZyb20gdGhlIG9yaWdpbmFsIGljb24gaW1hZ2UuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtpY29uLWRpc3BsYWNlbWVudD1bMCwwXV0gRGlzcGxhY2VtZW50IG9mIHRoZSBpY29uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ljb24uanNcIikuSWNvbk9yaWdpbn0gW2ljb24tb2Zmc2V0LW9yaWdpbj0ndG9wLWxlZnQnXSBPcmlnaW4gb2YgdGhlIG9mZnNldDogYGJvdHRvbS1sZWZ0YCwgYGJvdHRvbS1yaWdodGAsXG4gKiBgdG9wLWxlZnRgIG9yIGB0b3AtcmlnaHRgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtpY29uLW9wYWNpdHk9MV0gT3BhY2l0eSBvZiB0aGUgaWNvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW2ljb24tc2NhbGU9MV0gU2NhbGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2ljb24tcm90YXRpb249MF0gUm90YXRpb24gaW4gcmFkaWFucyAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ljb24tcm90YXRlLXdpdGgtdmlldz1mYWxzZV0gV2hldGhlciB0byByb3RhdGUgdGhlIGljb24gd2l0aCB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbaWNvbi1zaXplXSBJY29uIHNpemUgaW4gcGl4ZWwuIENhbiBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggYGljb24tb2Zmc2V0YCB0byBkZWZpbmUgdGhlXG4gKiBzdWItcmVjdGFuZ2xlIHRvIHVzZSBmcm9tIHRoZSBvcmlnaW4gKHNwcml0ZSkgaWNvbiBpbWFnZS5cbiAqIEBwcm9wZXJ0eSB7XCJkZWNsdXR0ZXJcInxcIm9ic3RhY2xlXCJ8XCJub25lXCJ8dW5kZWZpbmVkfSBbaWNvbi1kZWNsdXR0ZXItbW9kZV0gRGVjbHV0dGVyIG1vZGVcbiAqL1xuXG4vKipcbiAqIFJlZ3VsYXIgc2hhcGUgc3R5bGUgcHJvcGVydGllcyBmb3IgcmVuZGVyaW5nIHBvaW50IGZlYXR1cmVzLiAgQXQgbGVhc3QgYHNoYXBlLXBvaW50c2AgbXVzdCBiZSBwcm92aWRlZC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGbGF0U2hhcGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc2hhcGUtcG9pbnRzXSBOdW1iZXIgb2YgcG9pbnRzIGZvciBzdGFycyBhbmQgcmVndWxhciBwb2x5Z29ucy4gSW4gY2FzZSBvZiBhIHBvbHlnb24sIHRoZSBudW1iZXIgb2YgcG9pbnRzXG4gKiBpcyB0aGUgbnVtYmVyIG9mIHNpZGVzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbc2hhcGUtZmlsbC1jb2xvcl0gVGhlIGZpbGwgY29sb3IuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtzaGFwZS1zdHJva2UtY29sb3JdIFRoZSBzdHJva2UgY29sb3IuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NoYXBlLXN0cm9rZS13aWR0aF0gU3Ryb2tlIHBpeGVsIHdpZHRoLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBbc2hhcGUtc3Ryb2tlLWxpbmUtY2FwPSdyb3VuZCddIExpbmUgY2FwIHN0eWxlOiBgYnV0dGAsIGByb3VuZGAsIG9yIGBzcXVhcmVgLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gW3NoYXBlLXN0cm9rZS1saW5lLWpvaW49J3JvdW5kJ10gTGluZSBqb2luIHN0eWxlOiBgYmV2ZWxgLCBgcm91bmRgLCBvciBgbWl0ZXJgLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbc2hhcGUtc3Ryb2tlLWxpbmUtZGFzaF0gTGluZSBkYXNoIHBhdHRlcm4uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NoYXBlLXN0cm9rZS1saW5lLWRhc2gtb2Zmc2V0PTBdIExpbmUgZGFzaCBvZmZzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NoYXBlLXN0cm9rZS1taXRlci1saW1pdD0xMF0gTWl0ZXIgbGltaXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NoYXBlLXJhZGl1c10gUmFkaXVzIG9mIGEgcmVndWxhciBwb2x5Z29uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzaGFwZS1yYWRpdXMxXSBGaXJzdCByYWRpdXMgb2YgYSBzdGFyLiBJZ25vcmVkIGlmIHJhZGl1cyBpcyBzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NoYXBlLXJhZGl1czJdIFNlY29uZCByYWRpdXMgb2YgYSBzdGFyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzaGFwZS1hbmdsZT0wXSBTaGFwZSdzIGFuZ2xlIGluIHJhZGlhbnMuIEEgdmFsdWUgb2YgMCB3aWxsIGhhdmUgb25lIG9mIHRoZSBzaGFwZSdzIHBvaW50IGZhY2luZyB1cC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3NoYXBlLWRpc3BsYWNlbWVudD1bMCwwXV0gRGlzcGxhY2VtZW50IG9mIHRoZSBzaGFwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzaGFwZS1yb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc2hhcGUtcm90YXRlLXdpdGgtdmlldz1mYWxzZV0gV2hldGhlciB0byByb3RhdGUgdGhlIHNoYXBlIHdpdGggdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzaGFwZS1zY2FsZT0xXSBTY2FsZS4gVW5sZXNzIHR3byBkaW1lbnNpb25hbCBzY2FsaW5nIGlzIHJlcXVpcmVkIGEgYmV0dGVyXG4gKiByZXN1bHQgbWF5IGJlIG9idGFpbmVkIHdpdGggYXBwcm9wcmlhdGUgc2V0dGluZ3MgZm9yIGBzaGFwZS1yYWRpdXNgLCBgc2hhcGUtcmFkaXVzMWAgYW5kIGBzaGFwZS1yYWRpdXMyYC5cbiAqIEBwcm9wZXJ0eSB7XCJkZWNsdXR0ZXJcInxcIm9ic3RhY2xlXCJ8XCJub25lXCJ8dW5kZWZpbmVkfSBbc2hhcGUtZGVjbHV0dGVyLW1vZGVdIERlY2x1dHRlciBtb2RlLlxuICovXG5cbi8qKlxuICogQ2lyY2xlIHN0eWxlIHByb3BlcnRpZXMgZm9yIHJlbmRlcmluZyBwb2ludCBmZWF0dXJlcy4gIEF0IGxlYXN0IGBjaXJjbGUtcmFkaXVzYCBtdXN0IGJlIHByb3ZpZGVkLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZsYXRDaXJjbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2lyY2xlLXJhZGl1c10gQ2lyY2xlIHJhZGl1cy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2NpcmNsZS1maWxsLWNvbG9yXSBUaGUgZmlsbCBjb2xvci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2NpcmNsZS1zdHJva2UtY29sb3JdIFRoZSBzdHJva2UgY29sb3IuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NpcmNsZS1zdHJva2Utd2lkdGhdIFN0cm9rZSBwaXhlbCB3aWR0aC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUNhcH0gW2NpcmNsZS1zdHJva2UtbGluZS1jYXA9J3JvdW5kJ10gTGluZSBjYXAgc3R5bGU6IGBidXR0YCwgYHJvdW5kYCwgb3IgYHNxdWFyZWAuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVKb2lufSBbY2lyY2xlLXN0cm9rZS1saW5lLWpvaW49J3JvdW5kJ10gTGluZSBqb2luIHN0eWxlOiBgYmV2ZWxgLCBgcm91bmRgLCBvciBgbWl0ZXJgLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbY2lyY2xlLXN0cm9rZS1saW5lLWRhc2hdIExpbmUgZGFzaCBwYXR0ZXJuLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjaXJjbGUtc3Ryb2tlLWxpbmUtZGFzaC1vZmZzZXQ9MF0gTGluZSBkYXNoIG9mZnNldC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2lyY2xlLXN0cm9rZS1taXRlci1saW1pdD0xMF0gTWl0ZXIgbGltaXQuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtjaXJjbGUtZGlzcGxhY2VtZW50PVswLDBdXSBkaXNwbGFjZW1lbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW2NpcmNsZS1zY2FsZT0xXSBTY2FsZS4gQSB0d28gZGltZW5zaW9uYWwgc2NhbGUgd2lsbCBwcm9kdWNlIGFuIGVsbGlwc2UuXG4gKiBVbmxlc3MgdHdvIGRpbWVuc2lvbmFsIHNjYWxpbmcgaXMgcmVxdWlyZWQgYSBiZXR0ZXIgcmVzdWx0IG1heSBiZSBvYnRhaW5lZCB3aXRoIGFuIGFwcHJvcHJpYXRlIHNldHRpbmcgZm9yIGBjaXJjbGUtcmFkaXVzYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2lyY2xlLXJvdGF0aW9uPTBdIFJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UsIG1lYW5pbmdmdWwgb25seSB3aGVuIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBhIHR3byBkaW1lbnNpb25hbCBzY2FsZSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjaXJjbGUtcm90YXRlLXdpdGgtdmlldz1mYWxzZV0gV2hldGhlciB0byByb3RhdGUgdGhlIHNoYXBlIHdpdGggdGhlIHZpZXdcbiAqIChtZWFuaW5nZnVsIG9ubHkgd2hlbiB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYSB0d28gZGltZW5zaW9uYWwgc2NhbGUpLlxuICogQHByb3BlcnR5IHtcImRlY2x1dHRlclwifFwib2JzdGFjbGVcInxcIm5vbmVcInx1bmRlZmluZWR9IFtjaXJjbGUtZGVjbHV0dGVyLW1vZGVdIERlY2x1dHRlciBtb2RlXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0ZsYXRTdHlsZX0gZmxhdFN0eWxlIEEgZmxhdCBzdHlsZSBsaXRlcmFsLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9TdHlsZS5qc1wiKS5kZWZhdWx0fSBBIHN0eWxlIGluc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHlsZShmbGF0U3R5bGUpIHtcbiAgY29uc3Qgc3R5bGUgPSBuZXcgU3R5bGUoe1xuICAgIGZpbGw6IGdldEZpbGwoZmxhdFN0eWxlLCAnJyksXG4gICAgc3Ryb2tlOiBnZXRTdHJva2UoZmxhdFN0eWxlLCAnJyksXG4gICAgdGV4dDogZ2V0VGV4dChmbGF0U3R5bGUpLFxuICAgIGltYWdlOiBnZXRJbWFnZShmbGF0U3R5bGUpLFxuICB9KTtcblxuICByZXR1cm4gc3R5bGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtGbGF0U3R5bGV9IGZsYXRTdHlsZSBUaGUgZmxhdCBzdHlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggVGhlIHByb3BlcnR5IHByZWZpeC5cbiAqIEByZXR1cm4ge0ZpbGx8dW5kZWZpbmVkfSBUaGUgZmlsbCAoaWYgYW55KS5cbiAqL1xuZnVuY3Rpb24gZ2V0RmlsbChmbGF0U3R5bGUsIHByZWZpeCkge1xuICBjb25zdCBjb2xvciA9IGZsYXRTdHlsZVtwcmVmaXggKyAnZmlsbC1jb2xvciddO1xuICBpZiAoIWNvbG9yKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBGaWxsKHtjb2xvcjogY29sb3J9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0ZsYXRTdHlsZX0gZmxhdFN0eWxlIFRoZSBmbGF0IHN0eWxlLlxuICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCBUaGUgcHJvcGVydHkgcHJlZml4LlxuICogQHJldHVybiB7U3Ryb2tlfHVuZGVmaW5lZH0gVGhlIHN0cm9rZSAoaWYgYW55KS5cbiAqL1xuZnVuY3Rpb24gZ2V0U3Ryb2tlKGZsYXRTdHlsZSwgcHJlZml4KSB7XG4gIGNvbnN0IHdpZHRoID0gZmxhdFN0eWxlW3ByZWZpeCArICdzdHJva2Utd2lkdGgnXTtcbiAgY29uc3QgY29sb3IgPSBmbGF0U3R5bGVbcHJlZml4ICsgJ3N0cm9rZS1jb2xvciddO1xuICBpZiAoIXdpZHRoICYmICFjb2xvcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiBuZXcgU3Ryb2tlKHtcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgY29sb3I6IGNvbG9yLFxuICAgIGxpbmVDYXA6IGZsYXRTdHlsZVtwcmVmaXggKyAnc3Ryb2tlLWxpbmUtY2FwJ10sXG4gICAgbGluZUpvaW46IGZsYXRTdHlsZVtwcmVmaXggKyAnc3Ryb2tlLWxpbmUtam9pbiddLFxuICAgIGxpbmVEYXNoOiBmbGF0U3R5bGVbcHJlZml4ICsgJ3N0cm9rZS1saW5lLWRhc2gnXSxcbiAgICBsaW5lRGFzaE9mZnNldDogZmxhdFN0eWxlW3ByZWZpeCArICdzdHJva2UtbGluZS1kYXNoLW9mZnNldCddLFxuICAgIG1pdGVyTGltaXQ6IGZsYXRTdHlsZVtwcmVmaXggKyAnc3Ryb2tlLW1pdGVyLWxpbWl0J10sXG4gIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RmxhdFN0eWxlfSBmbGF0U3R5bGUgVGhlIGZsYXQgc3R5bGUuXG4gKiBAcmV0dXJuIHtUZXh0fHVuZGVmaW5lZH0gVGhlIHRleHQgKGlmIGFueSkuXG4gKi9cbmZ1bmN0aW9uIGdldFRleHQoZmxhdFN0eWxlKSB7XG4gIGNvbnN0IHZhbHVlID0gZmxhdFN0eWxlWyd0ZXh0LXZhbHVlJ107XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB0ZXh0ID0gbmV3IFRleHQoe1xuICAgIHRleHQ6IHZhbHVlLFxuICAgIGZvbnQ6IGZsYXRTdHlsZVsndGV4dC1mb250J10sXG4gICAgbWF4QW5nbGU6IGZsYXRTdHlsZVsndGV4dC1tYXgtYW5nbGUnXSxcbiAgICBvZmZzZXRYOiBmbGF0U3R5bGVbJ3RleHQtb2Zmc2V0LXgnXSxcbiAgICBvZmZzZXRZOiBmbGF0U3R5bGVbJ3RleHQtb2Zmc2V0LXknXSxcbiAgICBvdmVyZmxvdzogZmxhdFN0eWxlWyd0ZXh0LW92ZXJmbG93J10sXG4gICAgcGxhY2VtZW50OiBmbGF0U3R5bGVbJ3RleHQtcGxhY2VtZW50J10sXG4gICAgc2NhbGU6IGZsYXRTdHlsZVsndGV4dC1zY2FsZSddLFxuICAgIHJvdGF0ZVdpdGhWaWV3OiBmbGF0U3R5bGVbJ3RleHQtcm90YXRlLXdpdGgtdmlldyddLFxuICAgIHJvdGF0aW9uOiBmbGF0U3R5bGVbJ3RleHQtcm90YXRpb24nXSxcbiAgICB0ZXh0QWxpZ246IGZsYXRTdHlsZVsndGV4dC1hbGlnbiddLFxuICAgIGp1c3RpZnk6IGZsYXRTdHlsZVsndGV4dC1qdXN0aWZ5J10sXG4gICAgdGV4dEJhc2VsaW5lOiBmbGF0U3R5bGVbJ3RleHQtYmFzZWxpbmUnXSxcbiAgICBwYWRkaW5nOiBmbGF0U3R5bGVbJ3RleHQtcGFkZGluZyddLFxuICAgIGZpbGw6IGdldEZpbGwoZmxhdFN0eWxlLCAndGV4dC0nKSxcbiAgICBiYWNrZ3JvdW5kRmlsbDogZ2V0RmlsbChmbGF0U3R5bGUsICd0ZXh0LWJhY2tncm91bmQtJyksXG4gICAgc3Ryb2tlOiBnZXRTdHJva2UoZmxhdFN0eWxlLCAndGV4dC0nKSxcbiAgICBiYWNrZ3JvdW5kU3Ryb2tlOiBnZXRTdHJva2UoZmxhdFN0eWxlLCAndGV4dC1iYWNrZ3JvdW5kLScpLFxuICB9KTtcblxuICByZXR1cm4gdGV4dDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0ZsYXRTdHlsZX0gZmxhdFN0eWxlIFRoZSBmbGF0IHN0eWxlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIGltYWdlIChpZiBhbnkpLlxuICovXG5mdW5jdGlvbiBnZXRJbWFnZShmbGF0U3R5bGUpIHtcbiAgY29uc3QgaWNvblNyYyA9IGZsYXRTdHlsZVsnaWNvbi1zcmMnXTtcbiAgY29uc3QgaWNvbkltZyA9IGZsYXRTdHlsZVsnaWNvbi1pbWcnXTtcbiAgaWYgKGljb25TcmMgfHwgaWNvbkltZykge1xuICAgIGNvbnN0IGljb24gPSBuZXcgSWNvbih7XG4gICAgICBzcmM6IGljb25TcmMsXG4gICAgICBpbWc6IGljb25JbWcsXG4gICAgICBpbWdTaXplOiBmbGF0U3R5bGVbJ2ljb24taW1nLXNpemUnXSxcbiAgICAgIGFuY2hvcjogZmxhdFN0eWxlWydpY29uLWFuY2hvciddLFxuICAgICAgYW5jaG9yT3JpZ2luOiBmbGF0U3R5bGVbJ2ljb24tYW5jaG9yLW9yaWdpbiddLFxuICAgICAgYW5jaG9yWFVuaXRzOiBmbGF0U3R5bGVbJ2ljb24tYW5jaG9yLXgtdW5pdHMnXSxcbiAgICAgIGFuY2hvcllVbml0czogZmxhdFN0eWxlWydpY29uLWFuY2hvci15LXVuaXRzJ10sXG4gICAgICBjb2xvcjogZmxhdFN0eWxlWydpY29uLWNvbG9yJ10sXG4gICAgICBjcm9zc09yaWdpbjogZmxhdFN0eWxlWydpY29uLWNyb3NzLW9yaWdpbiddLFxuICAgICAgb2Zmc2V0OiBmbGF0U3R5bGVbJ2ljb24tb2Zmc2V0J10sXG4gICAgICBkaXNwbGFjZW1lbnQ6IGZsYXRTdHlsZVsnaWNvbi1kaXNwbGFjZW1lbnQnXSxcbiAgICAgIG9wYWNpdHk6IGZsYXRTdHlsZVsnaWNvbi1vcGFjaXR5J10sXG4gICAgICBzY2FsZTogZmxhdFN0eWxlWydpY29uLXNjYWxlJ10sXG4gICAgICByb3RhdGlvbjogZmxhdFN0eWxlWydpY29uLXJvdGF0aW9uJ10sXG4gICAgICByb3RhdGVXaXRoVmlldzogZmxhdFN0eWxlWydpY29uLXJvdGF0ZS13aXRoLXZpZXcnXSxcbiAgICAgIHNpemU6IGZsYXRTdHlsZVsnaWNvbi1zaXplJ10sXG4gICAgICBkZWNsdXR0ZXJNb2RlOiBmbGF0U3R5bGVbJ2ljb24tZGVjbHV0dGVyLW1vZGUnXSxcbiAgICB9KTtcbiAgICByZXR1cm4gaWNvbjtcbiAgfVxuXG4gIGNvbnN0IHNoYXBlUG9pbnRzID0gZmxhdFN0eWxlWydzaGFwZS1wb2ludHMnXTtcbiAgaWYgKHNoYXBlUG9pbnRzKSB7XG4gICAgY29uc3QgcHJlZml4ID0gJ3NoYXBlLSc7XG4gICAgY29uc3Qgc2hhcGUgPSBuZXcgUmVndWxhclNoYXBlKHtcbiAgICAgIHBvaW50czogc2hhcGVQb2ludHMsXG4gICAgICBmaWxsOiBnZXRGaWxsKGZsYXRTdHlsZSwgcHJlZml4KSxcbiAgICAgIHN0cm9rZTogZ2V0U3Ryb2tlKGZsYXRTdHlsZSwgcHJlZml4KSxcbiAgICAgIHJhZGl1czogZmxhdFN0eWxlWydzaGFwZS1yYWRpdXMnXSxcbiAgICAgIHJhZGl1czE6IGZsYXRTdHlsZVsnc2hhcGUtcmFkaXVzMSddLFxuICAgICAgcmFkaXVzMjogZmxhdFN0eWxlWydzaGFwZS1yYWRpdXMyJ10sXG4gICAgICBhbmdsZTogZmxhdFN0eWxlWydzaGFwZS1hbmdsZSddLFxuICAgICAgZGlzcGxhY2VtZW50OiBmbGF0U3R5bGVbJ3NoYXBlLWRpc3BsYWNlbWVudCddLFxuICAgICAgcm90YXRpb246IGZsYXRTdHlsZVsnc2hhcGUtcm90YXRpb24nXSxcbiAgICAgIHJvdGF0ZVdpdGhWaWV3OiBmbGF0U3R5bGVbJ3NoYXBlLXJvdGF0ZS13aXRoLXZpZXcnXSxcbiAgICAgIHNjYWxlOiBmbGF0U3R5bGVbJ3NoYXBlLXNjYWxlJ10sXG4gICAgICBkZWNsdXR0ZXJNb2RlOiBmbGF0U3R5bGVbJ3NoYXBlLWRlY2x1dHRlci1tb2RlJ10sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2hhcGU7XG4gIH1cblxuICBjb25zdCBjaXJjbGVSYWRpdXMgPSBmbGF0U3R5bGVbJ2NpcmNsZS1yYWRpdXMnXTtcbiAgaWYgKGNpcmNsZVJhZGl1cykge1xuICAgIGNvbnN0IHByZWZpeCA9ICdjaXJjbGUtJztcbiAgICBjb25zdCBjaXJjbGUgPSBuZXcgQ2lyY2xlKHtcbiAgICAgIHJhZGl1czogY2lyY2xlUmFkaXVzLFxuICAgICAgZmlsbDogZ2V0RmlsbChmbGF0U3R5bGUsIHByZWZpeCksXG4gICAgICBzdHJva2U6IGdldFN0cm9rZShmbGF0U3R5bGUsIHByZWZpeCksXG4gICAgICBkaXNwbGFjZW1lbnQ6IGZsYXRTdHlsZVsnY2lyY2xlLWRpc3BsYWNlbWVudCddLFxuICAgICAgc2NhbGU6IGZsYXRTdHlsZVsnY2lyY2xlLXNjYWxlJ10sXG4gICAgICByb3RhdGlvbjogZmxhdFN0eWxlWydjaXJjbGUtcm90YXRpb24nXSxcbiAgICAgIHJvdGF0ZVdpdGhWaWV3OiBmbGF0U3R5bGVbJ2NpcmNsZS1yb3RhdGUtd2l0aC12aWV3J10sXG4gICAgICBkZWNsdXR0ZXJNb2RlOiBmbGF0U3R5bGVbJ2NpcmNsZS1kZWNsdXR0ZXItbW9kZSddLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNpcmNsZTtcbiAgfVxuXG4gIHJldHVybjtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9CYXNlVmVjdG9yXG4gKi9cbmltcG9ydCBMYXllciBmcm9tICcuL0xheWVyLmpzJztcbmltcG9ydCBSQnVzaCBmcm9tICdyYnVzaCc7XG5pbXBvcnQgU3R5bGUsIHtcbiAgY3JlYXRlRGVmYXVsdFN0eWxlLFxuICB0b0Z1bmN0aW9uIGFzIHRvU3R5bGVGdW5jdGlvbixcbn0gZnJvbSAnLi4vc3R5bGUvU3R5bGUuanMnO1xuaW1wb3J0IHt0b1N0eWxlfSBmcm9tICcuLi9zdHlsZS9mbGF0LmpzJztcblxuLyoqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSBWZWN0b3JTb3VyY2VUeXBlXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtbGF5ZXInXSBBIENTUyBjbGFzcyBuYW1lIHRvIHNldCB0byB0aGUgbGF5ZXIgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBUaGUgbWluaW11bSB2aWV3IHpvb20gbGV2ZWwgKGV4Y2x1c2l2ZSkgYWJvdmUgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBUaGUgbWF4aW11bSB2aWV3IHpvb20gbGV2ZWwgKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9yZW5kZXIuanNcIikuT3JkZXJGdW5jdGlvbn0gW3JlbmRlck9yZGVyXSBSZW5kZXIgb3JkZXIuIEZ1bmN0aW9uIHRvIGJlIHVzZWQgd2hlbiBzb3J0aW5nXG4gKiBmZWF0dXJlcyBiZWZvcmUgcmVuZGVyaW5nLiBCeSBkZWZhdWx0IGZlYXR1cmVzIGFyZSBkcmF3biBpbiB0aGUgb3JkZXIgdGhhdCB0aGV5IGFyZSBjcmVhdGVkLiBVc2VcbiAqIGBudWxsYCB0byBhdm9pZCB0aGUgc29ydCwgYnV0IGdldCBhbiB1bmRlZmluZWQgZHJhdyBvcmRlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVuZGVyQnVmZmVyPTEwMF0gVGhlIGJ1ZmZlciBpbiBwaXhlbHMgYXJvdW5kIHRoZSB2aWV3cG9ydCBleHRlbnQgdXNlZCBieSB0aGVcbiAqIHJlbmRlcmVyIHdoZW4gZ2V0dGluZyBmZWF0dXJlcyBmcm9tIHRoZSB2ZWN0b3Igc291cmNlIGZvciB0aGUgcmVuZGVyaW5nIG9yIGhpdC1kZXRlY3Rpb24uXG4gKiBSZWNvbW1lbmRlZCB2YWx1ZTogdGhlIHNpemUgb2YgdGhlIGxhcmdlc3Qgc3ltYm9sLCBsaW5lIHdpZHRoIG9yIGxhYmVsLlxuICogQHByb3BlcnR5IHtWZWN0b3JTb3VyY2VUeXBlfSBbc291cmNlXSBTb3VyY2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fSBbbWFwXSBTZXRzIHRoZSBsYXllciBhcyBvdmVybGF5IG9uIGEgbWFwLiBUaGUgbWFwIHdpbGwgbm90IG1hbmFnZVxuICogdGhpcyBsYXllciBpbiBpdHMgbGF5ZXJzIGNvbGxlY3Rpb24sIGFuZCB0aGUgbGF5ZXIgd2lsbCBiZSByZW5kZXJlZCBvbiB0b3AuIFRoaXMgaXMgdXNlZnVsIGZvclxuICogdGVtcG9yYXJ5IGxheWVycy4gVGhlIHN0YW5kYXJkIHdheSB0byBhZGQgYSBsYXllciB0byBhIG1hcCBhbmQgaGF2ZSBpdCBtYW5hZ2VkIGJ5IHRoZSBtYXAgaXMgdG9cbiAqIHVzZSBbbWFwLmFkZExheWVyKClde0BsaW5rIGltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0I2FkZExheWVyfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RlY2x1dHRlcj1mYWxzZV0gRGVjbHV0dGVyIGltYWdlcyBhbmQgdGV4dC4gRGVjbHV0dGVyaW5nIGlzIGFwcGxpZWQgdG8gYWxsXG4gKiBpbWFnZSBhbmQgdGV4dCBzdHlsZXMgb2YgYWxsIFZlY3RvciBhbmQgVmVjdG9yVGlsZSBsYXllcnMgdGhhdCBoYXZlIHNldCB0aGlzIHRvIGB0cnVlYC4gVGhlIHByaW9yaXR5XG4gKiBpcyBkZWZpbmVkIGJ5IHRoZSB6LWluZGV4IG9mIHRoZSBsYXllciwgdGhlIGB6SW5kZXhgIG9mIHRoZSBzdHlsZSBhbmQgdGhlIHJlbmRlciBvcmRlciBvZiBmZWF0dXJlcy5cbiAqIEhpZ2hlciB6LWluZGV4IG1lYW5zIGhpZ2hlciBwcmlvcml0eS4gV2l0aGluIHRoZSBzYW1lIHotaW5kZXgsIGEgZmVhdHVyZSByZW5kZXJlZCBiZWZvcmUgYW5vdGhlciBoYXNcbiAqIGhpZ2hlciBwcmlvcml0eS5cbiAqXG4gKiBBcyBhbiBvcHRpbWl6YXRpb24gZGVjbHV0dGVyZWQgZmVhdHVyZXMgZnJvbSBsYXllcnMgd2l0aCB0aGUgc2FtZSBgY2xhc3NOYW1lYCBhcmUgcmVuZGVyZWQgYWJvdmVcbiAqIHRoZSBmaWxsIGFuZCBzdHJva2Ugc3R5bGVzIG9mIGFsbCBvZiB0aG9zZSBsYXllcnMgcmVnYXJkbGVzcyBvZiB6LWluZGV4LiAgVG8gb3B0IG91dCBvZiB0aGlzXG4gKiBiZWhhdmlvciBhbmQgcGxhY2UgZGVjbHV0dGVyZCBmZWF0dXJlcyB3aXRoIHRoZWlyIG93biBsYXllciBjb25maWd1cmUgdGhlIGxheWVyIHdpdGggYSBgY2xhc3NOYW1lYFxuICogb3RoZXIgdGhhbiBgb2wtbGF5ZXJgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V8aW1wb3J0KFwiLi4vc3R5bGUvZmxhdC5qc1wiKS5GbGF0U3R5bGVMaWtlfG51bGx9IFtzdHlsZV0gTGF5ZXIgc3R5bGUuIFdoZW4gc2V0IHRvIGBudWxsYCwgb25seVxuICogZmVhdHVyZXMgdGhhdCBoYXZlIHRoZWlyIG93biBzdHlsZSB3aWxsIGJlIHJlbmRlcmVkLiBTZWUge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9TdHlsZX5TdHlsZX0gZm9yIHRoZSBkZWZhdWx0IHN0eWxlXG4gKiB3aGljaCB3aWxsIGJlIHVzZWQgaWYgdGhpcyBpcyBub3Qgc2V0LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0Jhc2UuanNcIikuQmFja2dyb3VuZENvbG9yfSBbYmFja2dyb3VuZF0gQmFja2dyb3VuZCBjb2xvciBmb3IgdGhlIGxheWVyLiBJZiBub3Qgc3BlY2lmaWVkLCBubyBiYWNrZ3JvdW5kXG4gKiB3aWxsIGJlIHJlbmRlcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXBkYXRlV2hpbGVBbmltYXRpbmc9ZmFsc2VdIFdoZW4gc2V0IHRvIGB0cnVlYCwgZmVhdHVyZSBiYXRjaGVzIHdpbGxcbiAqIGJlIHJlY3JlYXRlZCBkdXJpbmcgYW5pbWF0aW9ucy4gVGhpcyBtZWFucyB0aGF0IG5vIHZlY3RvcnMgd2lsbCBiZSBzaG93biBjbGlwcGVkLCBidXQgdGhlXG4gKiBzZXR0aW5nIHdpbGwgaGF2ZSBhIHBlcmZvcm1hbmNlIGltcGFjdCBmb3IgbGFyZ2UgYW1vdW50cyBvZiB2ZWN0b3IgZGF0YS4gV2hlbiBzZXQgdG8gYGZhbHNlYCxcbiAqIGJhdGNoZXMgd2lsbCBiZSByZWNyZWF0ZWQgd2hlbiBubyBhbmltYXRpb24gaXMgYWN0aXZlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXBkYXRlV2hpbGVJbnRlcmFjdGluZz1mYWxzZV0gV2hlbiBzZXQgdG8gYHRydWVgLCBmZWF0dXJlIGJhdGNoZXMgd2lsbFxuICogYmUgcmVjcmVhdGVkIGR1cmluZyBpbnRlcmFjdGlvbnMuIFNlZSBhbHNvIGB1cGRhdGVXaGlsZUFuaW1hdGluZ2AuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsICo+fSBbcHJvcGVydGllc10gQXJiaXRyYXJ5IG9ic2VydmFibGUgcHJvcGVydGllcy4gQ2FuIGJlIGFjY2Vzc2VkIHdpdGggYCNnZXQoKWAgYW5kIGAjc2V0KClgLlxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IFByb3BlcnR5ID0ge1xuICBSRU5ERVJfT1JERVI6ICdyZW5kZXJPcmRlcicsXG59O1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFZlY3RvciBkYXRhIHRoYXQgaXMgcmVuZGVyZWQgY2xpZW50LXNpZGUuXG4gKiBOb3RlIHRoYXQgYW55IHByb3BlcnR5IHNldCBpbiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fVxuICogcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdDsgZm9yIGV4YW1wbGUsIHNldHRpbmcgYHRpdGxlOiAnTXkgVGl0bGUnYCBpbiB0aGVcbiAqIG9wdGlvbnMgbWVhbnMgdGhhdCBgdGl0bGVgIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vc291cmNlL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gVmVjdG9yU291cmNlVHlwZVxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9yZW5kZXJlci9jYW52YXMvVmVjdG9yTGF5ZXIuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXJlci9jYW52YXMvVmVjdG9yVGlsZUxheWVyLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyZXIvY2FudmFzL1ZlY3RvckltYWdlTGF5ZXIuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXJlci93ZWJnbC9Qb2ludHNMYXllci5qc1wiKS5kZWZhdWx0fSBSZW5kZXJlclR5cGVcbiAqIEBleHRlbmRzIHtMYXllcjxWZWN0b3JTb3VyY2VUeXBlLCBSZW5kZXJlclR5cGU+fVxuICogQGFwaVxuICovXG5jbGFzcyBCYXNlVmVjdG9yTGF5ZXIgZXh0ZW5kcyBMYXllciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnM8VmVjdG9yU291cmNlVHlwZT59IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gICAgY29uc3QgYmFzZU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcblxuICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy5zdHlsZTtcbiAgICBkZWxldGUgYmFzZU9wdGlvbnMucmVuZGVyQnVmZmVyO1xuICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy51cGRhdGVXaGlsZUFuaW1hdGluZztcbiAgICBkZWxldGUgYmFzZU9wdGlvbnMudXBkYXRlV2hpbGVJbnRlcmFjdGluZztcbiAgICBzdXBlcihiYXNlT3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZGVjbHV0dGVyXyA9XG4gICAgICBvcHRpb25zLmRlY2x1dHRlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kZWNsdXR0ZXIgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlckJ1ZmZlcl8gPVxuICAgICAgb3B0aW9ucy5yZW5kZXJCdWZmZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucmVuZGVyQnVmZmVyIDogMTAwO1xuXG4gICAgLyoqXG4gICAgICogVXNlciBwcm92aWRlZCBzdHlsZS5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zdHlsZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogU3R5bGUgZnVuY3Rpb24gZm9yIHVzZSB3aXRoaW4gdGhlIGxpYnJhcnkuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zdHlsZUZ1bmN0aW9uXyA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuc2V0U3R5bGUob3B0aW9ucy5zdHlsZSk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudXBkYXRlV2hpbGVBbmltYXRpbmdfID1cbiAgICAgIG9wdGlvbnMudXBkYXRlV2hpbGVBbmltYXRpbmcgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMudXBkYXRlV2hpbGVBbmltYXRpbmdcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy51cGRhdGVXaGlsZUludGVyYWN0aW5nXyA9XG4gICAgICBvcHRpb25zLnVwZGF0ZVdoaWxlSW50ZXJhY3RpbmcgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMudXBkYXRlV2hpbGVJbnRlcmFjdGluZ1xuICAgICAgICA6IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IERlY2x1dHRlci5cbiAgICovXG4gIGdldERlY2x1dHRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNsdXR0ZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdG9wbW9zdCBmZWF0dXJlIHRoYXQgaW50ZXJzZWN0cyB0aGUgZ2l2ZW4gcGl4ZWwgb24gdGhlIHZpZXdwb3J0LiBSZXR1cm5zIGEgcHJvbWlzZVxuICAgKiB0aGF0IHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgZmVhdHVyZXMuIFRoZSBhcnJheSB3aWxsIGVpdGhlciBjb250YWluIHRoZSB0b3Btb3N0IGZlYXR1cmVcbiAgICogd2hlbiBhIGhpdCB3YXMgZGV0ZWN0ZWQsIG9yIGl0IHdpbGwgYmUgZW1wdHkuXG4gICAqXG4gICAqIFRoZSBoaXQgZGV0ZWN0aW9uIGFsZ29yaXRobSB1c2VkIGZvciB0aGlzIG1ldGhvZCBpcyBvcHRpbWl6ZWQgZm9yIHBlcmZvcm1hbmNlLCBidXQgaXMgbGVzc1xuICAgKiBhY2N1cmF0ZSB0aGFuIHRoZSBvbmUgdXNlZCBpbiBbbWFwLmdldEZlYXR1cmVzQXRQaXhlbCgpXXtAbGluayBpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdCNnZXRGZWF0dXJlc0F0UGl4ZWx9LlxuICAgKiBUZXh0IGlzIG5vdCBjb25zaWRlcmVkLCBhbmQgaWNvbnMgYXJlIG9ubHkgcmVwcmVzZW50ZWQgYnkgdGhlaXIgYm91bmRpbmcgYm94IGluc3RlYWQgb2YgdGhlIGV4YWN0XG4gICAqIGltYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlXCIpLkZlYXR1cmVMaWtlPj59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGFuIGFycmF5IG9mIGZlYXR1cmVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRGZWF0dXJlcyhwaXhlbCkge1xuICAgIHJldHVybiBzdXBlci5nZXRGZWF0dXJlcyhwaXhlbCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmVuZGVyIGJ1ZmZlci5cbiAgICovXG4gIGdldFJlbmRlckJ1ZmZlcigpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJCdWZmZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0KTogbnVtYmVyfG51bGx8dW5kZWZpbmVkfSBSZW5kZXJcbiAgICogICAgIG9yZGVyLlxuICAgKi9cbiAgZ2V0UmVuZGVyT3JkZXIoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyLmpzXCIpLk9yZGVyRnVuY3Rpb258bnVsbHx1bmRlZmluZWR9ICovIChcbiAgICAgIHRoaXMuZ2V0KFByb3BlcnR5LlJFTkRFUl9PUkRFUilcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3R5bGUgZm9yIGZlYXR1cmVzLiAgVGhpcyByZXR1cm5zIHdoYXRldmVyIHdhcyBwYXNzZWQgdG8gdGhlIGBzdHlsZWBcbiAgICogb3B0aW9uIGF0IGNvbnN0cnVjdGlvbiBvciB0byB0aGUgYHNldFN0eWxlYCBtZXRob2QuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZXxudWxsfHVuZGVmaW5lZH0gTGF5ZXIgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFN0eWxlKCkge1xuICAgIHJldHVybiB0aGlzLnN0eWxlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0eWxlIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH0gTGF5ZXIgc3R5bGUgZnVuY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFN0eWxlRnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuc3R5bGVGdW5jdGlvbl87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcmVuZGVyZWQgbGF5ZXIgc2hvdWxkIGJlIHVwZGF0ZWQgd2hpbGVcbiAgICogICAgIGFuaW1hdGluZy5cbiAgICovXG4gIGdldFVwZGF0ZVdoaWxlQW5pbWF0aW5nKCkge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZVdoaWxlQW5pbWF0aW5nXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSByZW5kZXJlZCBsYXllciBzaG91bGQgYmUgdXBkYXRlZCB3aGlsZVxuICAgKiAgICAgaW50ZXJhY3RpbmcuXG4gICAqL1xuICBnZXRVcGRhdGVXaGlsZUludGVyYWN0aW5nKCkge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZVdoaWxlSW50ZXJhY3RpbmdfO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBkZWNsdXR0ZXIgaXRlbXMgZm9yIHRoaXMgbGF5ZXJcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICovXG4gIHJlbmRlckRlY2x1dHRlcihmcmFtZVN0YXRlKSB7XG4gICAgaWYgKCFmcmFtZVN0YXRlLmRlY2x1dHRlclRyZWUpIHtcbiAgICAgIGZyYW1lU3RhdGUuZGVjbHV0dGVyVHJlZSA9IG5ldyBSQnVzaCg5KTtcbiAgICB9XG4gICAgLyoqIEB0eXBlIHsqfSAqLyAodGhpcy5nZXRSZW5kZXJlcigpKS5yZW5kZXJEZWNsdXR0ZXIoZnJhbWVTdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIuanNcIikuT3JkZXJGdW5jdGlvbnxudWxsfHVuZGVmaW5lZH0gcmVuZGVyT3JkZXJcbiAgICogICAgIFJlbmRlciBvcmRlci5cbiAgICovXG4gIHNldFJlbmRlck9yZGVyKHJlbmRlck9yZGVyKSB7XG4gICAgdGhpcy5zZXQoUHJvcGVydHkuUkVOREVSX09SREVSLCByZW5kZXJPcmRlcik7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzdHlsZSBmb3IgZmVhdHVyZXMuICBUaGlzIGNhbiBiZSBhIHNpbmdsZSBzdHlsZSBvYmplY3QsIGFuIGFycmF5XG4gICAqIG9mIHN0eWxlcywgb3IgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgZmVhdHVyZSBhbmQgcmVzb2x1dGlvbiBhbmQgcmV0dXJuc1xuICAgKiBhbiBhcnJheSBvZiBzdHlsZXMuIElmIHNldCB0byBgbnVsbGAsIHRoZSBsYXllciBoYXMgbm8gc3R5bGUgKGEgYG51bGxgIHN0eWxlKSxcbiAgICogc28gb25seSBmZWF0dXJlcyB0aGF0IGhhdmUgdGhlaXIgb3duIHN0eWxlcyB3aWxsIGJlIHJlbmRlcmVkIGluIHRoZSBsYXllci4gQ2FsbFxuICAgKiBgc2V0U3R5bGUoKWAgd2l0aG91dCBhcmd1bWVudHMgdG8gcmVzZXQgdG8gdGhlIGRlZmF1bHQgc3R5bGUuIFNlZVxuICAgKiBbdGhlIG9sL3N0eWxlL1N0eWxlIG1vZHVsZV17QGxpbmsgbW9kdWxlOm9sL3N0eWxlL1N0eWxlflN0eWxlfSBmb3IgaW5mb3JtYXRpb24gb24gdGhlIGRlZmF1bHQgc3R5bGUuXG4gICAqXG4gICAqIElmIHlvdXIgbGF5ZXIgaGFzIGEgc3RhdGljIHN0eWxlLCB5b3UgY2FuIHVzZSBcImZsYXRcIiBzdHlsZSBvYmplY3QgbGl0ZXJhbHMgaW5zdGVhZCBvZlxuICAgKiB1c2luZyB0aGUgYFN0eWxlYCBhbmQgc3ltYm9saXplciBjb25zdHJ1Y3RvcnMgKGBGaWxsYCwgYFN0cm9rZWAsIGV0Yy4pLiAgU2VlIHRoZSBkb2N1bWVudGF0aW9uXG4gICAqIGZvciB0aGUgW2ZsYXQgc3R5bGUgdHlwZXNde0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9mbGF0fkZsYXRTdHlsZX0gdG8gc2VlIHdoYXQgcHJvcGVydGllcyBhcmUgc3VwcG9ydGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZXxpbXBvcnQoXCIuLi9zdHlsZS9mbGF0LmpzXCIpLkZsYXRTdHlsZUxpa2V8bnVsbH0gW3N0eWxlXSBMYXllciBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U3R5bGUoc3R5bGUpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfG51bGx9XG4gICAgICovXG4gICAgbGV0IHN0eWxlTGlrZTtcblxuICAgIGlmIChzdHlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdHlsZUxpa2UgPSBjcmVhdGVEZWZhdWx0U3R5bGU7XG4gICAgfSBlbHNlIGlmIChzdHlsZSA9PT0gbnVsbCkge1xuICAgICAgc3R5bGVMaWtlID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdHlsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgc3R5bGVMaWtlID0gc3R5bGU7XG4gICAgfSBlbHNlIGlmIChzdHlsZSBpbnN0YW5jZW9mIFN0eWxlKSB7XG4gICAgICBzdHlsZUxpa2UgPSBzdHlsZTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGUpKSB7XG4gICAgICBjb25zdCBsZW4gPSBzdHlsZS5sZW5ndGg7XG5cbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge0FycmF5PFN0eWxlPn1cbiAgICAgICAqL1xuICAgICAgY29uc3Qgc3R5bGVzID0gbmV3IEFycmF5KGxlbik7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgY29uc3QgcyA9IHN0eWxlW2ldO1xuICAgICAgICBpZiAocyBpbnN0YW5jZW9mIFN0eWxlKSB7XG4gICAgICAgICAgc3R5bGVzW2ldID0gcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHlsZXNbaV0gPSB0b1N0eWxlKHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdHlsZUxpa2UgPSBzdHlsZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlTGlrZSA9IHRvU3R5bGUoc3R5bGUpO1xuICAgIH1cblxuICAgIHRoaXMuc3R5bGVfID0gc3R5bGVMaWtlO1xuICAgIHRoaXMuc3R5bGVGdW5jdGlvbl8gPVxuICAgICAgc3R5bGUgPT09IG51bGwgPyB1bmRlZmluZWQgOiB0b1N0eWxlRnVuY3Rpb24odGhpcy5zdHlsZV8pO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VWZWN0b3JMYXllcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0luc3RydWN0aW9uXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5jb25zdCBJbnN0cnVjdGlvbiA9IHtcbiAgQkVHSU5fR0VPTUVUUlk6IDAsXG4gIEJFR0lOX1BBVEg6IDEsXG4gIENJUkNMRTogMixcbiAgQ0xPU0VfUEFUSDogMyxcbiAgQ1VTVE9NOiA0LFxuICBEUkFXX0NIQVJTOiA1LFxuICBEUkFXX0lNQUdFOiA2LFxuICBFTkRfR0VPTUVUUlk6IDcsXG4gIEZJTEw6IDgsXG4gIE1PVkVfVE9fTElORV9UTzogOSxcbiAgU0VUX0ZJTExfU1RZTEU6IDEwLFxuICBTRVRfU1RST0tFX1NUWUxFOiAxMSxcbiAgU1RST0tFOiAxMixcbn07XG5cbi8qKlxuICogQHR5cGUge0FycmF5PEluc3RydWN0aW9uPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGZpbGxJbnN0cnVjdGlvbiA9IFtJbnN0cnVjdGlvbi5GSUxMXTtcblxuLyoqXG4gKiBAdHlwZSB7QXJyYXk8SW5zdHJ1Y3Rpb24+fVxuICovXG5leHBvcnQgY29uc3Qgc3Ryb2tlSW5zdHJ1Y3Rpb24gPSBbSW5zdHJ1Y3Rpb24uU1RST0tFXTtcblxuLyoqXG4gKiBAdHlwZSB7QXJyYXk8SW5zdHJ1Y3Rpb24+fVxuICovXG5leHBvcnQgY29uc3QgYmVnaW5QYXRoSW5zdHJ1Y3Rpb24gPSBbSW5zdHJ1Y3Rpb24uQkVHSU5fUEFUSF07XG5cbi8qKlxuICogQHR5cGUge0FycmF5PEluc3RydWN0aW9uPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGNsb3NlUGF0aEluc3RydWN0aW9uID0gW0luc3RydWN0aW9uLkNMT1NFX1BBVEhdO1xuXG5leHBvcnQgZGVmYXVsdCBJbnN0cnVjdGlvbjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvVmVjdG9yQ29udGV4dFxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ29udGV4dCBmb3IgZHJhd2luZyBnZW9tZXRyaWVzLiAgQSB2ZWN0b3IgY29udGV4dCBpcyBhdmFpbGFibGUgb24gcmVuZGVyXG4gKiBldmVudHMgYW5kIGRvZXMgbm90IG5lZWQgdG8gYmUgY29uc3RydWN0ZWQgZGlyZWN0bHkuXG4gKiBAYXBpXG4gKi9cbmNsYXNzIFZlY3RvckNvbnRleHQge1xuICAvKipcbiAgICogUmVuZGVyIGEgZ2VvbWV0cnkgd2l0aCBhIGN1c3RvbSByZW5kZXJlci5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVuZGVyZXIgUmVuZGVyZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhpdERldGVjdGlvblJlbmRlcmVyIFJlbmRlcmVyLlxuICAgKi9cbiAgZHJhd0N1c3RvbShnZW9tZXRyeSwgZmVhdHVyZSwgcmVuZGVyZXIsIGhpdERldGVjdGlvblJlbmRlcmVyKSB7fVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBnZW9tZXRyeS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFRoZSBnZW9tZXRyeSB0byByZW5kZXIuXG4gICAqL1xuICBkcmF3R2VvbWV0cnkoZ2VvbWV0cnkpIHt9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcmVuZGVyaW5nIHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFRoZSByZW5kZXJpbmcgc3R5bGUuXG4gICAqL1xuICBzZXRTdHlsZShzdHlsZSkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBjaXJjbGVHZW9tZXRyeSBDaXJjbGUgZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3Q2lyY2xlKGNpcmNsZUdlb21ldHJ5LCBmZWF0dXJlKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICAgKi9cbiAgZHJhd0ZlYXR1cmUoZmVhdHVyZSwgc3R5bGUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnkgR2VvbWV0cnkgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdHZW9tZXRyeUNvbGxlY3Rpb24oZ2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnksIGZlYXR1cmUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGxpbmVTdHJpbmdHZW9tZXRyeSBMaW5lIHN0cmluZyBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3TGluZVN0cmluZyhsaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gbXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkgTXVsdGlMaW5lU3RyaW5nIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdNdWx0aUxpbmVTdHJpbmcobXVsdGlMaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IG11bHRpUG9pbnRHZW9tZXRyeSBNdWx0aVBvaW50IGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdNdWx0aVBvaW50KG11bHRpUG9pbnRHZW9tZXRyeSwgZmVhdHVyZSkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBtdWx0aVBvbHlnb25HZW9tZXRyeSBNdWx0aVBvbHlnb24gZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgZHJhd011bHRpUG9seWdvbihtdWx0aVBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IHBvaW50R2VvbWV0cnkgUG9pbnQgZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgZHJhd1BvaW50KHBvaW50R2VvbWV0cnksIGZlYXR1cmUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IHBvbHlnb25HZW9tZXRyeSBQb2x5Z29uIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdQb2x5Z29uKHBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL0ZpbGwuanNcIikuZGVmYXVsdH0gZmlsbFN0eWxlIEZpbGwgc3R5bGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZVN0eWxlIFN0cm9rZSBzdHlsZS5cbiAgICovXG4gIHNldEZpbGxTdHJva2VTdHlsZShmaWxsU3R5bGUsIHN0cm9rZVN0eWxlKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL0ltYWdlLmpzXCIpLmRlZmF1bHR9IGltYWdlU3R5bGUgSW1hZ2Ugc3R5bGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fSBbZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF0gU2hhcmVkIGRhdGEgZm9yIGNvbWJpbmVkIGRlY2x1dHRlcmluZyB3aXRoIGEgdGV4dCBzdHlsZS5cbiAgICovXG4gIHNldEltYWdlU3R5bGUoaW1hZ2VTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9UZXh0LmpzXCIpLmRlZmF1bHR9IHRleHRTdHlsZSBUZXh0IHN0eWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH0gW2RlY2x1dHRlckltYWdlV2l0aFRleHRdIFNoYXJlZCBkYXRhIGZvciBjb21iaW5lZCBkZWNsdXR0ZXJpbmcgd2l0aCBhbiBpbWFnZSBzdHlsZS5cbiAgICovXG4gIHNldFRleHRTdHlsZSh0ZXh0U3R5bGUsIGRlY2x1dHRlckltYWdlV2l0aFRleHQpIHt9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZlY3RvckNvbnRleHQ7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9CdWlsZGVyXG4gKi9cbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbmltcG9ydCBSZWxhdGlvbnNoaXAgZnJvbSAnLi4vLi4vZXh0ZW50L1JlbGF0aW9uc2hpcC5qcyc7XG5pbXBvcnQgVmVjdG9yQ29udGV4dCBmcm9tICcuLi9WZWN0b3JDb250ZXh0LmpzJztcbmltcG9ydCB7YXNDb2xvckxpa2V9IGZyb20gJy4uLy4uL2NvbG9ybGlrZS5qcyc7XG5pbXBvcnQge1xuICBidWZmZXIsXG4gIGNsb25lLFxuICBjb250YWluc0Nvb3JkaW5hdGUsXG4gIGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAsXG59IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge1xuICBkZWZhdWx0RmlsbFN0eWxlLFxuICBkZWZhdWx0TGluZUNhcCxcbiAgZGVmYXVsdExpbmVEYXNoLFxuICBkZWZhdWx0TGluZURhc2hPZmZzZXQsXG4gIGRlZmF1bHRMaW5lSm9pbixcbiAgZGVmYXVsdExpbmVXaWR0aCxcbiAgZGVmYXVsdE1pdGVyTGltaXQsXG4gIGRlZmF1bHRTdHJva2VTdHlsZSxcbn0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7ZXF1YWxzLCByZXZlcnNlU3ViQXJyYXl9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7XG4gIGluZmxhdGVDb29yZGluYXRlcyxcbiAgaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXksXG4gIGluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXksXG59IGZyb20gJy4uLy4uL2dlb20vZmxhdC9pbmZsYXRlLmpzJztcblxuY2xhc3MgQ2FudmFzQnVpbGRlciBleHRlbmRzIFZlY3RvckNvbnRleHQge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudG9sZXJhbmNlID0gdG9sZXJhbmNlO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMubWF4RXh0ZW50ID0gbWF4RXh0ZW50O1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5waXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4TGluZVdpZHRoID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgKi9cbiAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAqL1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAqL1xuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5jb29yZGluYXRlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqL1xuICAgIHRoaXMudG1wQ29vcmRpbmF0ZV8gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICovXG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSAqLyAoe30pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBkYXNoQXJyYXkgRGFzaCBhcnJheS5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRGFzaCBhcnJheSB3aXRoIHBpeGVsIHJhdGlvIGFwcGxpZWRcbiAgICovXG4gIGFwcGx5UGl4ZWxSYXRpbyhkYXNoQXJyYXkpIHtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgIHJldHVybiBwaXhlbFJhdGlvID09IDFcbiAgICAgID8gZGFzaEFycmF5XG4gICAgICA6IGRhc2hBcnJheS5tYXAoZnVuY3Rpb24gKGRhc2gpIHtcbiAgICAgICAgICByZXR1cm4gZGFzaCAqIHBpeGVsUmF0aW87XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEByZXR1cm4ge251bWJlcn0gTXkgZW5kXG4gICAqL1xuICBhcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSkge1xuICAgIGNvbnN0IGV4dGVudCA9IHRoaXMuZ2V0QnVmZmVyZWRNYXhFeHRlbnQoKTtcbiAgICBjb25zdCB0bXBDb29yZCA9IHRoaXMudG1wQ29vcmRpbmF0ZV87XG4gICAgY29uc3QgY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzO1xuICAgIGxldCBteUVuZCA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB0bXBDb29yZFswXSA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgIHRtcENvb3JkWzFdID0gZmxhdENvb3JkaW5hdGVzW2kgKyAxXTtcbiAgICAgIGlmIChjb250YWluc0Nvb3JkaW5hdGUoZXh0ZW50LCB0bXBDb29yZCkpIHtcbiAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSB0bXBDb29yZFswXTtcbiAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSB0bXBDb29yZFsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG15RW5kO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvc2VkIExhc3QgaW5wdXQgY29vcmRpbmF0ZSBlcXVhbHMgZmlyc3QuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2tpcEZpcnN0IFNraXAgZmlyc3QgY29vcmRpbmF0ZS5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE15IGVuZC5cbiAgICovXG4gIGFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoXG4gICAgZmxhdENvb3JkaW5hdGVzLFxuICAgIG9mZnNldCxcbiAgICBlbmQsXG4gICAgc3RyaWRlLFxuICAgIGNsb3NlZCxcbiAgICBza2lwRmlyc3RcbiAgKSB7XG4gICAgY29uc3QgY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzO1xuICAgIGxldCBteUVuZCA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICBjb25zdCBleHRlbnQgPSB0aGlzLmdldEJ1ZmZlcmVkTWF4RXh0ZW50KCk7XG4gICAgaWYgKHNraXBGaXJzdCkge1xuICAgICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICB9XG4gICAgbGV0IGxhc3RYQ29vcmQgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICBsZXQgbGFzdFlDb29yZCA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICBjb25zdCBuZXh0Q29vcmQgPSB0aGlzLnRtcENvb3JkaW5hdGVfO1xuICAgIGxldCBza2lwcGVkID0gdHJ1ZTtcblxuICAgIGxldCBpLCBsYXN0UmVsLCBuZXh0UmVsO1xuICAgIGZvciAoaSA9IG9mZnNldCArIHN0cmlkZTsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIG5leHRDb29yZFswXSA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgIG5leHRDb29yZFsxXSA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICBuZXh0UmVsID0gY29vcmRpbmF0ZVJlbGF0aW9uc2hpcChleHRlbnQsIG5leHRDb29yZCk7XG4gICAgICBpZiAobmV4dFJlbCAhPT0gbGFzdFJlbCkge1xuICAgICAgICBpZiAoc2tpcHBlZCkge1xuICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbGFzdFhDb29yZDtcbiAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IGxhc3RZQ29vcmQ7XG4gICAgICAgICAgc2tpcHBlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbmV4dENvb3JkWzBdO1xuICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFsxXTtcbiAgICAgIH0gZWxzZSBpZiAobmV4dFJlbCA9PT0gUmVsYXRpb25zaGlwLklOVEVSU0VDVElORykge1xuICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFswXTtcbiAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSBuZXh0Q29vcmRbMV07XG4gICAgICAgIHNraXBwZWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNraXBwZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgbGFzdFhDb29yZCA9IG5leHRDb29yZFswXTtcbiAgICAgIGxhc3RZQ29vcmQgPSBuZXh0Q29vcmRbMV07XG4gICAgICBsYXN0UmVsID0gbmV4dFJlbDtcbiAgICB9XG5cbiAgICAvLyBMYXN0IGNvb3JkaW5hdGUgZXF1YWxzIGZpcnN0IG9yIG9ubHkgb25lIHBvaW50IHRvIGFwcGVuZDpcbiAgICBpZiAoKGNsb3NlZCAmJiBza2lwcGVkKSB8fCBpID09PSBvZmZzZXQgKyBzdHJpZGUpIHtcbiAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbGFzdFhDb29yZDtcbiAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbGFzdFlDb29yZDtcbiAgICB9XG4gICAgcmV0dXJuIG15RW5kO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYnVpbGRlckVuZHMgQnVpbGRlciBlbmRzLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE9mZnNldC5cbiAgICovXG4gIGRyYXdDdXN0b21Db29yZGluYXRlc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgYnVpbGRlckVuZHMpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGNvbnN0IGVuZCA9IGVuZHNbaV07XG4gICAgICBjb25zdCBidWlsZGVyRW5kID0gdGhpcy5hcHBlbmRGbGF0TGluZUNvb3JkaW5hdGVzKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgZW5kLFxuICAgICAgICBzdHJpZGUsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIGJ1aWxkZXJFbmRzLnB1c2goYnVpbGRlckVuZCk7XG4gICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVuZGVyZXIgUmVuZGVyZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhpdERldGVjdGlvblJlbmRlcmVyIFJlbmRlcmVyLlxuICAgKi9cbiAgZHJhd0N1c3RvbShnZW9tZXRyeSwgZmVhdHVyZSwgcmVuZGVyZXIsIGhpdERldGVjdGlvblJlbmRlcmVyKSB7XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5KGdlb21ldHJ5LCBmZWF0dXJlKTtcblxuICAgIGNvbnN0IHR5cGUgPSBnZW9tZXRyeS5nZXRUeXBlKCk7XG4gICAgY29uc3Qgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgY29uc3QgYnVpbGRlckJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG5cbiAgICBsZXQgZmxhdENvb3JkaW5hdGVzLCBidWlsZGVyRW5kLCBidWlsZGVyRW5kcywgYnVpbGRlckVuZHNzO1xuICAgIGxldCBvZmZzZXQ7XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ011bHRpUG9seWdvbic6XG4gICAgICAgIGZsYXRDb29yZGluYXRlcyA9XG4gICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgICkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgYnVpbGRlckVuZHNzID0gW107XG4gICAgICAgIGNvbnN0IGVuZHNzID1cbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICAgKS5nZXRFbmRzcygpO1xuICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgY29uc3QgbXlFbmRzID0gW107XG4gICAgICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3Q3VzdG9tQ29vcmRpbmF0ZXNfKFxuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgZW5kc3NbaV0sXG4gICAgICAgICAgICBzdHJpZGUsXG4gICAgICAgICAgICBteUVuZHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGJ1aWxkZXJFbmRzcy5wdXNoKG15RW5kcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICBidWlsZGVyRW5kc3MsXG4gICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgcmVuZGVyZXIsXG4gICAgICAgICAgaW5mbGF0ZU11bHRpQ29vcmRpbmF0ZXNBcnJheSxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgYnVpbGRlckVuZHNzLFxuICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgIGhpdERldGVjdGlvblJlbmRlcmVyIHx8IHJlbmRlcmVyLFxuICAgICAgICAgIGluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXksXG4gICAgICAgIF0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1BvbHlnb24nOlxuICAgICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcbiAgICAgICAgYnVpbGRlckVuZHMgPSBbXTtcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzID1cbiAgICAgICAgICB0eXBlID09ICdQb2x5Z29uJ1xuICAgICAgICAgICAgPyAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgICAgICAgKS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpXG4gICAgICAgICAgICA6IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICBvZmZzZXQgPSB0aGlzLmRyYXdDdXN0b21Db29yZGluYXRlc18oXG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgICkuZ2V0RW5kcygpLFxuICAgICAgICAgIHN0cmlkZSxcbiAgICAgICAgICBidWlsZGVyRW5kc1xuICAgICAgICApO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgIGJ1aWxkZXJFbmRzLFxuICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgIGluZmxhdGVDb29yZGluYXRlc0FycmF5LFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICBidWlsZGVyRW5kcyxcbiAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICBoaXREZXRlY3Rpb25SZW5kZXJlciB8fCByZW5kZXJlcixcbiAgICAgICAgICBpbmZsYXRlQ29vcmRpbmF0ZXNBcnJheSxcbiAgICAgICAgXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnTGluZVN0cmluZyc6XG4gICAgICBjYXNlICdDaXJjbGUnOlxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgYnVpbGRlckVuZCA9IHRoaXMuYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyhcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgICAgMCxcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgICAgIHN0cmlkZSxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgIGJ1aWxkZXJFbmQsXG4gICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgcmVuZGVyZXIsXG4gICAgICAgICAgaW5mbGF0ZUNvb3JkaW5hdGVzLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICBidWlsZGVyRW5kLFxuICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgIGhpdERldGVjdGlvblJlbmRlcmVyIHx8IHJlbmRlcmVyLFxuICAgICAgICAgIGluZmxhdGVDb29yZGluYXRlcyxcbiAgICAgICAgXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnTXVsdGlQb2ludCc6XG4gICAgICAgIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICBidWlsZGVyRW5kID0gdGhpcy5hcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG5cbiAgICAgICAgaWYgKGJ1aWxkZXJFbmQgPiBidWlsZGVyQmVnaW4pIHtcbiAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICAgIGJ1aWxkZXJFbmQsXG4gICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgICAgaW5mbGF0ZUNvb3JkaW5hdGVzLFxuICAgICAgICAgIF0pO1xuICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgICAgYnVpbGRlckVuZCxcbiAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgaGl0RGV0ZWN0aW9uUmVuZGVyZXIgfHwgcmVuZGVyZXIsXG4gICAgICAgICAgICBpbmZsYXRlQ29vcmRpbmF0ZXMsXG4gICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdQb2ludCc6XG4gICAgICAgIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzLnB1c2goZmxhdENvb3JkaW5hdGVzWzBdLCBmbGF0Q29vcmRpbmF0ZXNbMV0pO1xuICAgICAgICBidWlsZGVyRW5kID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG5cbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICBidWlsZGVyRW5kLFxuICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICBidWlsZGVyRW5kLFxuICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgIGhpdERldGVjdGlvblJlbmRlcmVyIHx8IHJlbmRlcmVyLFxuICAgICAgICBdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgIH1cbiAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0dlb21ldHJ5XCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBUaGUgZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgYmVnaW5HZW9tZXRyeShnZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8gPSBbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5CRUdJTl9HRU9NRVRSWSxcbiAgICAgIGZlYXR1cmUsXG4gICAgICAwLFxuICAgICAgZ2VvbWV0cnksXG4gICAgXTtcbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8pO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8gPSBbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5CRUdJTl9HRU9NRVRSWSxcbiAgICAgIGZlYXR1cmUsXG4gICAgICAwLFxuICAgICAgZ2VvbWV0cnksXG4gICAgXTtcbiAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnN9IHRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zLlxuICAgKi9cbiAgZmluaXNoKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbnN0cnVjdGlvbnM6IHRoaXMuaW5zdHJ1Y3Rpb25zLFxuICAgICAgaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zOiB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucyxcbiAgICAgIGNvb3JkaW5hdGVzOiB0aGlzLmNvb3JkaW5hdGVzLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV2ZXJzZSB0aGUgaGl0IGRldGVjdGlvbiBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICByZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zKCkge1xuICAgIGNvbnN0IGhpdERldGVjdGlvbkluc3RydWN0aW9ucyA9IHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zO1xuICAgIC8vIHN0ZXAgMSAtIHJldmVyc2UgYXJyYXlcbiAgICBoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucmV2ZXJzZSgpO1xuICAgIC8vIHN0ZXAgMiAtIHJldmVyc2UgaW5zdHJ1Y3Rpb25zIHdpdGhpbiBnZW9tZXRyeSBibG9ja3NcbiAgICBsZXQgaTtcbiAgICBjb25zdCBuID0gaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLmxlbmd0aDtcbiAgICBsZXQgaW5zdHJ1Y3Rpb247XG4gICAgbGV0IHR5cGU7XG4gICAgbGV0IGJlZ2luID0gLTE7XG4gICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaW5zdHJ1Y3Rpb24gPSBoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnNbaV07XG4gICAgICB0eXBlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0luc3RydWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChpbnN0cnVjdGlvblswXSk7XG4gICAgICBpZiAodHlwZSA9PSBDYW52YXNJbnN0cnVjdGlvbi5FTkRfR0VPTUVUUlkpIHtcbiAgICAgICAgYmVnaW4gPSBpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09IENhbnZhc0luc3RydWN0aW9uLkJFR0lOX0dFT01FVFJZKSB7XG4gICAgICAgIGluc3RydWN0aW9uWzJdID0gaTtcbiAgICAgICAgcmV2ZXJzZVN1YkFycmF5KHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLCBiZWdpbiwgaSk7XG4gICAgICAgIGJlZ2luID0gLTE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsU3R5bGUgRmlsbCBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlU3R5bGUgU3Ryb2tlIHN0eWxlLlxuICAgKi9cbiAgc2V0RmlsbFN0cm9rZVN0eWxlKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKGZpbGxTdHlsZSkge1xuICAgICAgY29uc3QgZmlsbFN0eWxlQ29sb3IgPSBmaWxsU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgIHN0YXRlLmZpbGxTdHlsZSA9IGFzQ29sb3JMaWtlKFxuICAgICAgICBmaWxsU3R5bGVDb2xvciA/IGZpbGxTdHlsZUNvbG9yIDogZGVmYXVsdEZpbGxTdHlsZVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuZmlsbFN0eWxlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoc3Ryb2tlU3R5bGUpIHtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlQ29sb3IgPSBzdHJva2VTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUgPSBhc0NvbG9yTGlrZShcbiAgICAgICAgc3Ryb2tlU3R5bGVDb2xvciA/IHN0cm9rZVN0eWxlQ29sb3IgOiBkZWZhdWx0U3Ryb2tlU3R5bGVcbiAgICAgICk7XG4gICAgICBjb25zdCBzdHJva2VTdHlsZUxpbmVDYXAgPSBzdHJva2VTdHlsZS5nZXRMaW5lQ2FwKCk7XG4gICAgICBzdGF0ZS5saW5lQ2FwID1cbiAgICAgICAgc3Ryb2tlU3R5bGVMaW5lQ2FwICE9PSB1bmRlZmluZWQgPyBzdHJva2VTdHlsZUxpbmVDYXAgOiBkZWZhdWx0TGluZUNhcDtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlTGluZURhc2ggPSBzdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgc3RhdGUubGluZURhc2ggPSBzdHJva2VTdHlsZUxpbmVEYXNoXG4gICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lRGFzaC5zbGljZSgpXG4gICAgICAgIDogZGVmYXVsdExpbmVEYXNoO1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0eWxlLmdldExpbmVEYXNoT2Zmc2V0KCk7XG4gICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgPyBzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0XG4gICAgICAgIDogZGVmYXVsdExpbmVEYXNoT2Zmc2V0O1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGVMaW5lSm9pbiA9IHN0cm9rZVN0eWxlLmdldExpbmVKb2luKCk7XG4gICAgICBzdGF0ZS5saW5lSm9pbiA9XG4gICAgICAgIHN0cm9rZVN0eWxlTGluZUpvaW4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lSm9pblxuICAgICAgICAgIDogZGVmYXVsdExpbmVKb2luO1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGVXaWR0aCA9IHN0cm9rZVN0eWxlLmdldFdpZHRoKCk7XG4gICAgICBzdGF0ZS5saW5lV2lkdGggPVxuICAgICAgICBzdHJva2VTdHlsZVdpZHRoICE9PSB1bmRlZmluZWQgPyBzdHJva2VTdHlsZVdpZHRoIDogZGVmYXVsdExpbmVXaWR0aDtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlTWl0ZXJMaW1pdCA9IHN0cm9rZVN0eWxlLmdldE1pdGVyTGltaXQoKTtcbiAgICAgIHN0YXRlLm1pdGVyTGltaXQgPVxuICAgICAgICBzdHJva2VTdHlsZU1pdGVyTGltaXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gc3Ryb2tlU3R5bGVNaXRlckxpbWl0XG4gICAgICAgICAgOiBkZWZhdWx0TWl0ZXJMaW1pdDtcblxuICAgICAgaWYgKHN0YXRlLmxpbmVXaWR0aCA+IHRoaXMubWF4TGluZVdpZHRoKSB7XG4gICAgICAgIHRoaXMubWF4TGluZVdpZHRoID0gc3RhdGUubGluZVdpZHRoO1xuICAgICAgICAvLyBpbnZhbGlkYXRlIHRoZSBidWZmZXJlZCBtYXggZXh0ZW50IGNhY2hlXG4gICAgICAgIHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUgPSB1bmRlZmluZWQ7XG4gICAgICBzdGF0ZS5saW5lQ2FwID0gdW5kZWZpbmVkO1xuICAgICAgc3RhdGUubGluZURhc2ggPSBudWxsO1xuICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQgPSB1bmRlZmluZWQ7XG4gICAgICBzdGF0ZS5saW5lSm9pbiA9IHVuZGVmaW5lZDtcbiAgICAgIHN0YXRlLmxpbmVXaWR0aCA9IHVuZGVmaW5lZDtcbiAgICAgIHN0YXRlLm1pdGVyTGltaXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAqIEByZXR1cm4ge0FycmF5PCo+fSBGaWxsIGluc3RydWN0aW9uLlxuICAgKi9cbiAgY3JlYXRlRmlsbChzdGF0ZSkge1xuICAgIGNvbnN0IGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICAvKiogQHR5cGUge0FycmF5PCo+fSAqL1xuICAgIGNvbnN0IGZpbGxJbnN0cnVjdGlvbiA9IFtDYW52YXNJbnN0cnVjdGlvbi5TRVRfRklMTF9TVFlMRSwgZmlsbFN0eWxlXTtcbiAgICBpZiAodHlwZW9mIGZpbGxTdHlsZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIEZpbGwgaXMgYSBwYXR0ZXJuIG9yIGdyYWRpZW50IC0gYWxpZ24gaXQhXG4gICAgICBmaWxsSW5zdHJ1Y3Rpb24ucHVzaCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbGxJbnN0cnVjdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgKi9cbiAgYXBwbHlTdHJva2Uoc3RhdGUpIHtcbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHRoaXMuY3JlYXRlU3Ryb2tlKHN0YXRlKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICogQHJldHVybiB7QXJyYXk8Kj59IFN0cm9rZSBpbnN0cnVjdGlvbi5cbiAgICovXG4gIGNyZWF0ZVN0cm9rZShzdGF0ZSkge1xuICAgIHJldHVybiBbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICBzdGF0ZS5saW5lV2lkdGggKiB0aGlzLnBpeGVsUmF0aW8sXG4gICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICBzdGF0ZS5taXRlckxpbWl0LFxuICAgICAgdGhpcy5hcHBseVBpeGVsUmF0aW8oc3RhdGUubGluZURhc2gpLFxuICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQgKiB0aGlzLnBpeGVsUmF0aW8sXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6Q2FudmFzQnVpbGRlciwgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZSk6QXJyYXk8Kj59IGNyZWF0ZUZpbGwgQ3JlYXRlIGZpbGwuXG4gICAqL1xuICB1cGRhdGVGaWxsU3R5bGUoc3RhdGUsIGNyZWF0ZUZpbGwpIHtcbiAgICBjb25zdCBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgaWYgKHR5cGVvZiBmaWxsU3R5bGUgIT09ICdzdHJpbmcnIHx8IHN0YXRlLmN1cnJlbnRGaWxsU3R5bGUgIT0gZmlsbFN0eWxlKSB7XG4gICAgICBpZiAoZmlsbFN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChjcmVhdGVGaWxsLmNhbGwodGhpcywgc3RhdGUpKTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmN1cnJlbnRGaWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczpDYW52YXNCdWlsZGVyLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlKTogdm9pZH0gYXBwbHlTdHJva2UgQXBwbHkgc3Ryb2tlLlxuICAgKi9cbiAgdXBkYXRlU3Ryb2tlU3R5bGUoc3RhdGUsIGFwcGx5U3Ryb2tlKSB7XG4gICAgY29uc3Qgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICBjb25zdCBsaW5lQ2FwID0gc3RhdGUubGluZUNhcDtcbiAgICBjb25zdCBsaW5lRGFzaCA9IHN0YXRlLmxpbmVEYXNoO1xuICAgIGNvbnN0IGxpbmVEYXNoT2Zmc2V0ID0gc3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgY29uc3QgbGluZUpvaW4gPSBzdGF0ZS5saW5lSm9pbjtcbiAgICBjb25zdCBsaW5lV2lkdGggPSBzdGF0ZS5saW5lV2lkdGg7XG4gICAgY29uc3QgbWl0ZXJMaW1pdCA9IHN0YXRlLm1pdGVyTGltaXQ7XG4gICAgaWYgKFxuICAgICAgc3RhdGUuY3VycmVudFN0cm9rZVN0eWxlICE9IHN0cm9rZVN0eWxlIHx8XG4gICAgICBzdGF0ZS5jdXJyZW50TGluZUNhcCAhPSBsaW5lQ2FwIHx8XG4gICAgICAobGluZURhc2ggIT0gc3RhdGUuY3VycmVudExpbmVEYXNoICYmXG4gICAgICAgICFlcXVhbHMoc3RhdGUuY3VycmVudExpbmVEYXNoLCBsaW5lRGFzaCkpIHx8XG4gICAgICBzdGF0ZS5jdXJyZW50TGluZURhc2hPZmZzZXQgIT0gbGluZURhc2hPZmZzZXQgfHxcbiAgICAgIHN0YXRlLmN1cnJlbnRMaW5lSm9pbiAhPSBsaW5lSm9pbiB8fFxuICAgICAgc3RhdGUuY3VycmVudExpbmVXaWR0aCAhPSBsaW5lV2lkdGggfHxcbiAgICAgIHN0YXRlLmN1cnJlbnRNaXRlckxpbWl0ICE9IG1pdGVyTGltaXRcbiAgICApIHtcbiAgICAgIGlmIChzdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFwcGx5U3Ryb2tlLmNhbGwodGhpcywgc3RhdGUpO1xuICAgICAgfVxuICAgICAgc3RhdGUuY3VycmVudFN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XG4gICAgICBzdGF0ZS5jdXJyZW50TGluZUNhcCA9IGxpbmVDYXA7XG4gICAgICBzdGF0ZS5jdXJyZW50TGluZURhc2ggPSBsaW5lRGFzaDtcbiAgICAgIHN0YXRlLmN1cnJlbnRMaW5lRGFzaE9mZnNldCA9IGxpbmVEYXNoT2Zmc2V0O1xuICAgICAgc3RhdGUuY3VycmVudExpbmVKb2luID0gbGluZUpvaW47XG4gICAgICBzdGF0ZS5jdXJyZW50TGluZVdpZHRoID0gbGluZVdpZHRoO1xuICAgICAgc3RhdGUuY3VycmVudE1pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGVuZEdlb21ldHJ5KGZlYXR1cmUpIHtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfWzJdID0gdGhpcy5pbnN0cnVjdGlvbnMubGVuZ3RoO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8gPSBudWxsO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl9bMl0gPSB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5sZW5ndGg7XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yXyA9IG51bGw7XG4gICAgY29uc3QgZW5kR2VvbWV0cnlJbnN0cnVjdGlvbiA9IFtDYW52YXNJbnN0cnVjdGlvbi5FTkRfR0VPTUVUUlksIGZlYXR1cmVdO1xuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goZW5kR2VvbWV0cnlJbnN0cnVjdGlvbik7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChlbmRHZW9tZXRyeUluc3RydWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGJ1ZmZlcmVkIHJlbmRlcmluZyBleHRlbnQuICBSZW5kZXJpbmcgd2lsbCBiZSBjbGlwcGVkIHRvIHRoZSBleHRlbnRcbiAgICogcHJvdmlkZWQgdG8gdGhlIGNvbnN0cnVjdG9yLiAgVG8gYWNjb3VudCBmb3Igc3ltYm9saXplcnMgdGhhdCBtYXkgaW50ZXJzZWN0XG4gICAqIHRoaXMgZXh0ZW50LCB3ZSBjYWxjdWxhdGUgYSBidWZmZXJlZCBleHRlbnQgKGUuZy4gYmFzZWQgb24gc3Ryb2tlIHdpZHRoKS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIGJ1ZmZlcmVkIHJlbmRlcmluZyBleHRlbnQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGdldEJ1ZmZlcmVkTWF4RXh0ZW50KCkge1xuICAgIGlmICghdGhpcy5idWZmZXJlZE1heEV4dGVudF8pIHtcbiAgICAgIHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfID0gY2xvbmUodGhpcy5tYXhFeHRlbnQpO1xuICAgICAgaWYgKHRoaXMubWF4TGluZVdpZHRoID4gMCkge1xuICAgICAgICBjb25zdCB3aWR0aCA9ICh0aGlzLnJlc29sdXRpb24gKiAodGhpcy5tYXhMaW5lV2lkdGggKyAxKSkgLyAyO1xuICAgICAgICBidWZmZXIodGhpcy5idWZmZXJlZE1heEV4dGVudF8sIHdpZHRoLCB0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50Xyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50XztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNCdWlsZGVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvUG9seWdvbkJ1aWxkZXJcbiAqL1xuaW1wb3J0IENhbnZhc0J1aWxkZXIgZnJvbSAnLi9CdWlsZGVyLmpzJztcbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiwge1xuICBiZWdpblBhdGhJbnN0cnVjdGlvbixcbiAgY2xvc2VQYXRoSW5zdHJ1Y3Rpb24sXG4gIGZpbGxJbnN0cnVjdGlvbixcbiAgc3Ryb2tlSW5zdHJ1Y3Rpb24sXG59IGZyb20gJy4vSW5zdHJ1Y3Rpb24uanMnO1xuaW1wb3J0IHtkZWZhdWx0RmlsbFN0eWxlfSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHtzbmFwfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvc2ltcGxpZnkuanMnO1xuXG5jbGFzcyBDYW52YXNQb2x5Z29uQnVpbGRlciBleHRlbmRzIENhbnZhc0J1aWxkZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgc3VwZXIodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge251bWJlcn0gRW5kLlxuICAgKi9cbiAgZHJhd0ZsYXRDb29yZGluYXRlc3NfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgZmlsbCA9IHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IHN0cm9rZSA9IHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQ7XG4gICAgY29uc3QgbnVtRW5kcyA9IGVuZHMubGVuZ3RoO1xuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24pO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRW5kczsgKytpKSB7XG4gICAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgICAgY29uc3QgbXlCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgY29uc3QgbXlFbmQgPSB0aGlzLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoXG4gICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBlbmQsXG4gICAgICAgIHN0cmlkZSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgIXN0cm9rZVxuICAgICAgKTtcbiAgICAgIGNvbnN0IG1vdmVUb0xpbmVUb0luc3RydWN0aW9uID0gW1xuICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5NT1ZFX1RPX0xJTkVfVE8sXG4gICAgICAgIG15QmVnaW4sXG4gICAgICAgIG15RW5kLFxuICAgICAgXTtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2gobW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24pO1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbik7XG4gICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgIC8vIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogb25seSBjYWxsIGNsb3NlUGF0aCgpIHdoZW4gd2UgaGF2ZSBhIHN0cm9rZS5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZSByaW5nIGlzIGNsb3NlZCBhbHJlYWR5IChzZWUgYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyBhYm92ZSkuXG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goY2xvc2VQYXRoSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGNsb3NlUGF0aEluc3RydWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgaWYgKGZpbGwpIHtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICB9XG4gICAgaWYgKHN0cm9rZSkge1xuICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGNpcmNsZUdlb21ldHJ5IENpcmNsZSBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdDaXJjbGUoY2lyY2xlR2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgZmlsbFN0eWxlID0gc3RhdGUuZmlsbFN0eWxlO1xuICAgIGNvbnN0IHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgaWYgKGZpbGxTdHlsZSA9PT0gdW5kZWZpbmVkICYmIHN0cm9rZVN0eWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRGaWxsU3Ryb2tlU3R5bGVzXygpO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeShjaXJjbGVHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgaWYgKHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX0ZJTExfU1RZTEUsXG4gICAgICAgIGRlZmF1bHRGaWxsU3R5bGUsXG4gICAgICBdKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICBzdGF0ZS5saW5lSm9pbixcbiAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgc3RhdGUubGluZURhc2gsXG4gICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgXSk7XG4gICAgfVxuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IGNpcmNsZUdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGNvbnN0IHN0cmlkZSA9IGNpcmNsZUdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgIGNvbnN0IG15QmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICB0aGlzLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwLFxuICAgICAgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIGZhbHNlLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIGNvbnN0IGNpcmNsZUluc3RydWN0aW9uID0gW0NhbnZhc0luc3RydWN0aW9uLkNJUkNMRSwgbXlCZWdpbl07XG4gICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChiZWdpblBhdGhJbnN0cnVjdGlvbiwgY2lyY2xlSW5zdHJ1Y3Rpb24pO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24sIGNpcmNsZUluc3RydWN0aW9uKTtcbiAgICBpZiAoc3RhdGUuZmlsbFN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgfVxuICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IHBvbHlnb25HZW9tZXRyeSBQb2x5Z29uIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdQb2x5Z29uKHBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgY29uc3Qgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICBpZiAoZmlsbFN0eWxlID09PSB1bmRlZmluZWQgJiYgc3Ryb2tlU3R5bGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZXNfKCk7XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5KHBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgaWYgKHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX0ZJTExfU1RZTEUsXG4gICAgICAgIGRlZmF1bHRGaWxsU3R5bGUsXG4gICAgICBdKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICBzdGF0ZS5saW5lSm9pbixcbiAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgc3RhdGUubGluZURhc2gsXG4gICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgXSk7XG4gICAgfVxuICAgIGNvbnN0IGVuZHMgPSBwb2x5Z29uR2VvbWV0cnkuZ2V0RW5kcygpO1xuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHBvbHlnb25HZW9tZXRyeS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpO1xuICAgIGNvbnN0IHN0cmlkZSA9IHBvbHlnb25HZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICB0aGlzLmRyYXdGbGF0Q29vcmRpbmF0ZXNzXyhcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIDAsXG4gICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChlbmRzKSxcbiAgICAgIHN0cmlkZVxuICAgICk7XG4gICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9IG11bHRpUG9seWdvbkdlb21ldHJ5IE11bHRpUG9seWdvbiBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3TXVsdGlQb2x5Z29uKG11bHRpUG9seWdvbkdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICBjb25zdCBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgIGlmIChmaWxsU3R5bGUgPT09IHVuZGVmaW5lZCAmJiBzdHJva2VTdHlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0RmlsbFN0cm9rZVN0eWxlc18oKTtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnkobXVsdGlQb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIGlmIChzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFLFxuICAgICAgICBkZWZhdWx0RmlsbFN0eWxlLFxuICAgICAgXSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgIHN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICAgIHN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgIHN0YXRlLmxpbmVEYXNoLFxuICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgIF0pO1xuICAgIH1cbiAgICBjb25zdCBlbmRzcyA9IG11bHRpUG9seWdvbkdlb21ldHJ5LmdldEVuZHNzKCk7XG4gICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gbXVsdGlQb2x5Z29uR2VvbWV0cnkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBjb25zdCBzdHJpZGUgPSBtdWx0aVBvbHlnb25HZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBvZmZzZXQgPSB0aGlzLmRyYXdGbGF0Q29vcmRpbmF0ZXNzXyhcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGVuZHNzW2ldLFxuICAgICAgICBzdHJpZGVcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9uc30gdGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICBmaW5pc2goKSB7XG4gICAgdGhpcy5yZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zKCk7XG4gICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgLy8gV2Ugd2FudCB0byBwcmVzZXJ2ZSB0b3BvbG9neSB3aGVuIGRyYXdpbmcgcG9seWdvbnMuICBQb2x5Z29ucyBhcmVcbiAgICAvLyBzaW1wbGlmaWVkIHVzaW5nIHF1YW50aXphdGlvbiBhbmQgcG9pbnQgZWxpbWluYXRpb24uIEhvd2V2ZXIsIHdlIG1pZ2h0XG4gICAgLy8gaGF2ZSByZWNlaXZlZCBhIG1peCBvZiBxdWFudGl6ZWQgYW5kIG5vbi1xdWFudGl6ZWQgZ2VvbWV0cmllcywgc28gZW5zdXJlXG4gICAgLy8gdGhhdCBhbGwgYXJlIHF1YW50aXplZCBieSBxdWFudGl6aW5nIGFsbCBjb29yZGluYXRlcyBpbiB0aGUgYmF0Y2guXG4gICAgY29uc3QgdG9sZXJhbmNlID0gdGhpcy50b2xlcmFuY2U7XG4gICAgaWYgKHRvbGVyYW5jZSAhPT0gMCkge1xuICAgICAgY29uc3QgY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBjb29yZGluYXRlc1tpXSA9IHNuYXAoY29vcmRpbmF0ZXNbaV0sIHRvbGVyYW5jZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5maW5pc2goKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2V0RmlsbFN0cm9rZVN0eWxlc18oKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICBpZiAoZmlsbFN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlRmlsbFN0eWxlKHN0YXRlLCB0aGlzLmNyZWF0ZUZpbGwpO1xuICAgIH1cbiAgICBpZiAoc3RhdGUuc3Ryb2tlU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy51cGRhdGVTdHJva2VTdHlsZShzdGF0ZSwgdGhpcy5hcHBseVN0cm9rZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1BvbHlnb25CdWlsZGVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9zdHJhaWdodGNodW5rXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4QW5nbGUgTWF4aW11bSBhY2NlcHRhYmxlIGFuZ2xlIGRlbHRhIGJldHdlZW4gc2VnbWVudHMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gU3RhcnQgYW5kIGVuZCBvZiB0aGUgZmlyc3Qgc3VpdGFibGUgY2h1bmsgb2YgdGhlXG4gKiBnaXZlbiBgZmxhdENvb3JkaW5hdGVzYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoaW5nQ2h1bmsobWF4QW5nbGUsIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICBsZXQgY2h1bmtTdGFydCA9IG9mZnNldDtcbiAgbGV0IGNodW5rRW5kID0gb2Zmc2V0O1xuICBsZXQgY2h1bmtNID0gMDtcbiAgbGV0IG0gPSAwO1xuICBsZXQgc3RhcnQgPSBvZmZzZXQ7XG4gIGxldCBhY29zLCBpLCBtMTIsIG0yMywgeDEsIHkxLCB4MTIsIHkxMiwgeDIzLCB5MjM7XG4gIGZvciAoaSA9IG9mZnNldDsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICBjb25zdCB4MiA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICBjb25zdCB5MiA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgaWYgKHgxICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHgyMyA9IHgyIC0geDE7XG4gICAgICB5MjMgPSB5MiAtIHkxO1xuICAgICAgbTIzID0gTWF0aC5zcXJ0KHgyMyAqIHgyMyArIHkyMyAqIHkyMyk7XG4gICAgICBpZiAoeDEyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbSArPSBtMTI7XG4gICAgICAgIGFjb3MgPSBNYXRoLmFjb3MoKHgxMiAqIHgyMyArIHkxMiAqIHkyMykgLyAobTEyICogbTIzKSk7XG4gICAgICAgIGlmIChhY29zID4gbWF4QW5nbGUpIHtcbiAgICAgICAgICBpZiAobSA+IGNodW5rTSkge1xuICAgICAgICAgICAgY2h1bmtNID0gbTtcbiAgICAgICAgICAgIGNodW5rU3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgIGNodW5rRW5kID0gaTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbSA9IDA7XG4gICAgICAgICAgc3RhcnQgPSBpIC0gc3RyaWRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtMTIgPSBtMjM7XG4gICAgICB4MTIgPSB4MjM7XG4gICAgICB5MTIgPSB5MjM7XG4gICAgfVxuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICBtICs9IG0yMztcbiAgcmV0dXJuIG0gPiBjaHVua00gPyBbc3RhcnQsIGldIDogW2NodW5rU3RhcnQsIGNodW5rRW5kXTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL1RleHRCdWlsZGVyXG4gKi9cbmltcG9ydCBDYW52YXNCdWlsZGVyIGZyb20gJy4vQnVpbGRlci5qcyc7XG5pbXBvcnQgQ2FudmFzSW5zdHJ1Y3Rpb24gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG5pbXBvcnQge2FzQ29sb3JMaWtlfSBmcm9tICcuLi8uLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEZpbGxTdHlsZSxcbiAgZGVmYXVsdEZvbnQsXG4gIGRlZmF1bHRMaW5lQ2FwLFxuICBkZWZhdWx0TGluZURhc2gsXG4gIGRlZmF1bHRMaW5lRGFzaE9mZnNldCxcbiAgZGVmYXVsdExpbmVKb2luLFxuICBkZWZhdWx0TGluZVdpZHRoLFxuICBkZWZhdWx0TWl0ZXJMaW1pdCxcbiAgZGVmYXVsdFBhZGRpbmcsXG4gIGRlZmF1bHRTdHJva2VTdHlsZSxcbiAgZGVmYXVsdFRleHRBbGlnbixcbiAgZGVmYXVsdFRleHRCYXNlbGluZSxcbiAgcmVnaXN0ZXJGb250LFxufSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4uLy4uL3V0aWwuanMnO1xuaW1wb3J0IHtpbnRlcnNlY3RzfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHttYXRjaGluZ0NodW5rfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvc3RyYWlnaHRjaHVuay5qcyc7XG4vKipcbiAqIEBjb25zdFxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IFRFWFRfQUxJR04gPSB7XG4gICdsZWZ0JzogMCxcbiAgJ2VuZCc6IDAsXG4gICdjZW50ZXInOiAwLjUsXG4gICdyaWdodCc6IDEsXG4gICdzdGFydCc6IDEsXG4gICd0b3AnOiAwLFxuICAnbWlkZGxlJzogMC41LFxuICAnaGFuZ2luZyc6IDAuMixcbiAgJ2FscGhhYmV0aWMnOiAwLjgsXG4gICdpZGVvZ3JhcGhpYyc6IDAuOCxcbiAgJ2JvdHRvbSc6IDEsXG59O1xuXG5jbGFzcyBDYW52YXNUZXh0QnVpbGRlciBleHRlbmRzIENhbnZhc0J1aWxkZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgc3VwZXIodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8SFRNTENhbnZhc0VsZW1lbnQ+fVxuICAgICAqL1xuICAgIHRoaXMubGFiZWxzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRfID0gJyc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50ZXh0T2Zmc2V0WF8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGV4dE9mZnNldFlfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRSb3RhdGlvbl8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGU+fVxuICAgICAqL1xuICAgIHRoaXMuZmlsbFN0YXRlcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGU+fVxuICAgICAqL1xuICAgIHRoaXMuc3Ryb2tlU3RhdGVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dFN0YXRlXyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX0gKi8gKHt9KTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZT59XG4gICAgICovXG4gICAgdGhpcy50ZXh0U3RhdGVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy50ZXh0S2V5XyA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuZmlsbEtleV8gPSAnJztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnN0cm9rZUtleV8gPSAnJztcblxuICAgIC8qKlxuICAgICAqIERhdGEgc2hhcmVkIHdpdGggYW4gaW1hZ2UgYnVpbGRlciBmb3IgY29tYmluZWQgZGVjbHV0dGVyaW5nLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fVxuICAgICAqL1xuICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8gPSB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9uc30gdGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICBmaW5pc2goKSB7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gc3VwZXIuZmluaXNoKCk7XG4gICAgaW5zdHJ1Y3Rpb25zLnRleHRTdGF0ZXMgPSB0aGlzLnRleHRTdGF0ZXM7XG4gICAgaW5zdHJ1Y3Rpb25zLmZpbGxTdGF0ZXMgPSB0aGlzLmZpbGxTdGF0ZXM7XG4gICAgaW5zdHJ1Y3Rpb25zLnN0cm9rZVN0YXRlcyA9IHRoaXMuc3Ryb2tlU3RhdGVzO1xuICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIGNvbnN0IGZpbGxTdGF0ZSA9IHRoaXMudGV4dEZpbGxTdGF0ZV87XG4gICAgY29uc3Qgc3Ryb2tlU3RhdGUgPSB0aGlzLnRleHRTdHJva2VTdGF0ZV87XG4gICAgY29uc3QgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVfO1xuICAgIGlmICh0aGlzLnRleHRfID09PSAnJyB8fCAhdGV4dFN0YXRlIHx8ICghZmlsbFN0YXRlICYmICFzdHJva2VTdGF0ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXM7XG4gICAgbGV0IGJlZ2luID0gY29vcmRpbmF0ZXMubGVuZ3RoO1xuXG4gICAgY29uc3QgZ2VvbWV0cnlUeXBlID0gZ2VvbWV0cnkuZ2V0VHlwZSgpO1xuICAgIGxldCBmbGF0Q29vcmRpbmF0ZXMgPSBudWxsO1xuICAgIGxldCBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcblxuICAgIGlmIChcbiAgICAgIHRleHRTdGF0ZS5wbGFjZW1lbnQgPT09ICdsaW5lJyAmJlxuICAgICAgKGdlb21ldHJ5VHlwZSA9PSAnTGluZVN0cmluZycgfHxcbiAgICAgICAgZ2VvbWV0cnlUeXBlID09ICdNdWx0aUxpbmVTdHJpbmcnIHx8XG4gICAgICAgIGdlb21ldHJ5VHlwZSA9PSAnUG9seWdvbicgfHxcbiAgICAgICAgZ2VvbWV0cnlUeXBlID09ICdNdWx0aVBvbHlnb24nKVxuICAgICkge1xuICAgICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZ2V0QnVmZmVyZWRNYXhFeHRlbnQoKSwgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBlbmRzO1xuICAgICAgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICBpZiAoZ2VvbWV0cnlUeXBlID09ICdMaW5lU3RyaW5nJykge1xuICAgICAgICBlbmRzID0gW2ZsYXRDb29yZGluYXRlcy5sZW5ndGhdO1xuICAgICAgfSBlbHNlIGlmIChnZW9tZXRyeVR5cGUgPT0gJ011bHRpTGluZVN0cmluZycpIHtcbiAgICAgICAgZW5kcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICkuZ2V0RW5kcygpO1xuICAgICAgfSBlbHNlIGlmIChnZW9tZXRyeVR5cGUgPT0gJ1BvbHlnb24nKSB7XG4gICAgICAgIGVuZHMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpXG4gICAgICAgICAgLmdldEVuZHMoKVxuICAgICAgICAgIC5zbGljZSgwLCAxKTtcbiAgICAgIH0gZWxzZSBpZiAoZ2VvbWV0cnlUeXBlID09ICdNdWx0aVBvbHlnb24nKSB7XG4gICAgICAgIGNvbnN0IGVuZHNzID1cbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICAgKS5nZXRFbmRzcygpO1xuICAgICAgICBlbmRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICBlbmRzLnB1c2goZW5kc3NbaV1bMF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmJlZ2luR2VvbWV0cnkoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgICAgY29uc3QgdGV4dEFsaWduID0gdGV4dFN0YXRlLnRleHRBbGlnbjtcbiAgICAgIC8vIE5vIGBqdXN0aWZ5YCBzdXBwb3J0IGZvciBsaW5lIHBsYWNlbWVudC5cbiAgICAgIGxldCBmbGF0T2Zmc2V0ID0gMDtcbiAgICAgIGxldCBmbGF0RW5kO1xuICAgICAgZm9yIChsZXQgbyA9IDAsIG9vID0gZW5kcy5sZW5ndGg7IG8gPCBvbzsgKytvKSB7XG4gICAgICAgIGlmICh0ZXh0QWxpZ24gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29uc3QgcmFuZ2UgPSBtYXRjaGluZ0NodW5rKFxuICAgICAgICAgICAgdGV4dFN0YXRlLm1heEFuZ2xlLFxuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAgICAgZmxhdE9mZnNldCxcbiAgICAgICAgICAgIGVuZHNbb10sXG4gICAgICAgICAgICBzdHJpZGVcbiAgICAgICAgICApO1xuICAgICAgICAgIGZsYXRPZmZzZXQgPSByYW5nZVswXTtcbiAgICAgICAgICBmbGF0RW5kID0gcmFuZ2VbMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmxhdEVuZCA9IGVuZHNbb107XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IGZsYXRPZmZzZXQ7IGkgPCBmbGF0RW5kOyBpICs9IHN0cmlkZSkge1xuICAgICAgICAgIGNvb3JkaW5hdGVzLnB1c2goZmxhdENvb3JkaW5hdGVzW2ldLCBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbmQgPSBjb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgIGZsYXRPZmZzZXQgPSBlbmRzW29dO1xuICAgICAgICB0aGlzLmRyYXdDaGFyc18oYmVnaW4sIGVuZCk7XG4gICAgICAgIGJlZ2luID0gZW5kO1xuICAgICAgfVxuICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGdlb21ldHJ5V2lkdGhzID0gdGV4dFN0YXRlLm92ZXJmbG93ID8gbnVsbCA6IFtdO1xuICAgICAgc3dpdGNoIChnZW9tZXRyeVR5cGUpIHtcbiAgICAgICAgY2FzZSAnUG9pbnQnOlxuICAgICAgICBjYXNlICdNdWx0aVBvaW50JzpcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgICAgKS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGluZVN0cmluZyc6XG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgICAgICkuZ2V0RmxhdE1pZHBvaW50KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0NpcmNsZSc6XG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgICAgKS5nZXRDZW50ZXIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICAgICApLmdldEZsYXRNaWRwb2ludHMoKTtcbiAgICAgICAgICBzdHJpZGUgPSAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdQb2x5Z29uJzpcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgICAgKS5nZXRGbGF0SW50ZXJpb3JQb2ludCgpO1xuICAgICAgICAgIGlmICghdGV4dFN0YXRlLm92ZXJmbG93KSB7XG4gICAgICAgICAgICBnZW9tZXRyeVdpZHRocy5wdXNoKGZsYXRDb29yZGluYXRlc1syXSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0cmlkZSA9IDM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ011bHRpUG9seWdvbic6XG4gICAgICAgICAgY29uc3QgaW50ZXJpb3JQb2ludHMgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICAgICApLmdldEZsYXRJbnRlcmlvclBvaW50cygpO1xuICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGludGVyaW9yUG9pbnRzLmxlbmd0aDsgaSA8IGlpOyBpICs9IDMpIHtcbiAgICAgICAgICAgIGlmICghdGV4dFN0YXRlLm92ZXJmbG93KSB7XG4gICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzLnB1c2goaW50ZXJpb3JQb2ludHNbaSArIDJdIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcy5wdXNoKGludGVyaW9yUG9pbnRzW2ldLCBpbnRlcmlvclBvaW50c1tpICsgMV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdHJpZGUgPSAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgfVxuICAgICAgY29uc3QgZW5kID0gdGhpcy5hcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG4gICAgICBpZiAoZW5kID09PSBiZWdpbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGdlb21ldHJ5V2lkdGhzICYmXG4gICAgICAgIChlbmQgLSBiZWdpbikgLyAyICE9PSBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoIC8gc3RyaWRlXG4gICAgICApIHtcbiAgICAgICAgbGV0IGJlZyA9IGJlZ2luIC8gMjtcbiAgICAgICAgZ2VvbWV0cnlXaWR0aHMgPSBnZW9tZXRyeVdpZHRocy5maWx0ZXIoKHcsIGkpID0+IHtcbiAgICAgICAgICBjb25zdCBrZWVwID1cbiAgICAgICAgICAgIGNvb3JkaW5hdGVzWyhiZWcgKyBpKSAqIDJdID09PSBmbGF0Q29vcmRpbmF0ZXNbaSAqIHN0cmlkZV0gJiZcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzWyhiZWcgKyBpKSAqIDIgKyAxXSA9PT0gZmxhdENvb3JkaW5hdGVzW2kgKiBzdHJpZGUgKyAxXTtcbiAgICAgICAgICBpZiAoIWtlZXApIHtcbiAgICAgICAgICAgIC0tYmVnO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4ga2VlcDtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2F2ZVRleHRTdGF0ZXNfKCk7XG5cbiAgICAgIGlmICh0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwgfHwgdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UpIHtcbiAgICAgICAgdGhpcy5zZXRGaWxsU3Ryb2tlU3R5bGUoXG4gICAgICAgICAgdGV4dFN0YXRlLmJhY2tncm91bmRGaWxsLFxuICAgICAgICAgIHRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUZpbGxTdHlsZSh0aGlzLnN0YXRlLCB0aGlzLmNyZWF0ZUZpbGwpO1xuICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2godGhpcy5jcmVhdGVGaWxsKHRoaXMuc3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVN0cm9rZVN0eWxlKHRoaXMuc3RhdGUsIHRoaXMuYXBwbHlTdHJva2UpO1xuICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2godGhpcy5jcmVhdGVTdHJva2UodGhpcy5zdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeShnZW9tZXRyeSwgZmVhdHVyZSk7XG5cbiAgICAgIC8vIGFkanVzdCBwYWRkaW5nIGZvciBuZWdhdGl2ZSBzY2FsZVxuICAgICAgbGV0IHBhZGRpbmcgPSB0ZXh0U3RhdGUucGFkZGluZztcbiAgICAgIGlmIChcbiAgICAgICAgcGFkZGluZyAhPSBkZWZhdWx0UGFkZGluZyAmJlxuICAgICAgICAodGV4dFN0YXRlLnNjYWxlWzBdIDwgMCB8fCB0ZXh0U3RhdGUuc2NhbGVbMV0gPCAwKVxuICAgICAgKSB7XG4gICAgICAgIGxldCBwMCA9IHRleHRTdGF0ZS5wYWRkaW5nWzBdO1xuICAgICAgICBsZXQgcDEgPSB0ZXh0U3RhdGUucGFkZGluZ1sxXTtcbiAgICAgICAgbGV0IHAyID0gdGV4dFN0YXRlLnBhZGRpbmdbMl07XG4gICAgICAgIGxldCBwMyA9IHRleHRTdGF0ZS5wYWRkaW5nWzNdO1xuICAgICAgICBpZiAodGV4dFN0YXRlLnNjYWxlWzBdIDwgMCkge1xuICAgICAgICAgIHAxID0gLXAxO1xuICAgICAgICAgIHAzID0gLXAzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXh0U3RhdGUuc2NhbGVbMV0gPCAwKSB7XG4gICAgICAgICAgcDAgPSAtcDA7XG4gICAgICAgICAgcDIgPSAtcDI7XG4gICAgICAgIH1cbiAgICAgICAgcGFkZGluZyA9IFtwMCwgcDEsIHAyLCBwM107XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBpbWFnZSBpcyB1bmtub3duIGF0IHRoaXMgc3RhZ2Ugc28gd2UgcGFzcyBudWxsOyBpdCB3aWxsIGJlIGNvbXB1dGVkIGF0IHJlbmRlciB0aW1lLlxuICAgICAgLy8gRm9yIGNsYXJpdHksIHdlIHBhc3MgTmFOIGZvciBvZmZzZXRYLCBvZmZzZXRZLCB3aWR0aCBhbmQgaGVpZ2h0LCB3aGljaCB3aWxsIGJlIGNvbXB1dGVkIGF0XG4gICAgICAvLyByZW5kZXIgdGltZS5cbiAgICAgIGNvbnN0IHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW87XG4gICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgICAgYmVnaW4sXG4gICAgICAgIGVuZCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgTmFOLFxuICAgICAgICBOYU4sXG4gICAgICAgIE5hTixcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfLFxuICAgICAgICB0aGlzLnRleHRSb3RhdGlvbl8sXG4gICAgICAgIFsxLCAxXSxcbiAgICAgICAgTmFOLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8sXG4gICAgICAgIHBhZGRpbmcgPT0gZGVmYXVsdFBhZGRpbmdcbiAgICAgICAgICA/IGRlZmF1bHRQYWRkaW5nXG4gICAgICAgICAgOiBwYWRkaW5nLm1hcChmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgICByZXR1cm4gcCAqIHBpeGVsUmF0aW87XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgISF0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwsXG4gICAgICAgICEhdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UsXG4gICAgICAgIHRoaXMudGV4dF8sXG4gICAgICAgIHRoaXMudGV4dEtleV8sXG4gICAgICAgIHRoaXMuc3Ryb2tlS2V5XyxcbiAgICAgICAgdGhpcy5maWxsS2V5XyxcbiAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WF8sXG4gICAgICAgIHRoaXMudGV4dE9mZnNldFlfLFxuICAgICAgICBnZW9tZXRyeVdpZHRocyxcbiAgICAgIF0pO1xuICAgICAgY29uc3Qgc2NhbGUgPSAxIC8gcGl4ZWxSYXRpbztcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLFxuICAgICAgICBiZWdpbixcbiAgICAgICAgZW5kLFxuICAgICAgICBudWxsLFxuICAgICAgICBOYU4sXG4gICAgICAgIE5hTixcbiAgICAgICAgTmFOLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18sXG4gICAgICAgIHRoaXMudGV4dFJvdGF0aW9uXyxcbiAgICAgICAgW3NjYWxlLCBzY2FsZV0sXG4gICAgICAgIE5hTixcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICAhIXRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCxcbiAgICAgICAgISF0ZXh0U3RhdGUuYmFja2dyb3VuZFN0cm9rZSxcbiAgICAgICAgdGhpcy50ZXh0XyxcbiAgICAgICAgdGhpcy50ZXh0S2V5XyxcbiAgICAgICAgdGhpcy5zdHJva2VLZXlfLFxuICAgICAgICB0aGlzLmZpbGxLZXlfLFxuICAgICAgICB0aGlzLnRleHRPZmZzZXRYXyxcbiAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WV8sXG4gICAgICAgIGdlb21ldHJ5V2lkdGhzLFxuICAgICAgXSk7XG5cbiAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzYXZlVGV4dFN0YXRlc18oKSB7XG4gICAgY29uc3Qgc3Ryb2tlU3RhdGUgPSB0aGlzLnRleHRTdHJva2VTdGF0ZV87XG4gICAgY29uc3QgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVfO1xuICAgIGNvbnN0IGZpbGxTdGF0ZSA9IHRoaXMudGV4dEZpbGxTdGF0ZV87XG5cbiAgICBjb25zdCBzdHJva2VLZXkgPSB0aGlzLnN0cm9rZUtleV87XG4gICAgaWYgKHN0cm9rZVN0YXRlKSB7XG4gICAgICBpZiAoIShzdHJva2VLZXkgaW4gdGhpcy5zdHJva2VTdGF0ZXMpKSB7XG4gICAgICAgIHRoaXMuc3Ryb2tlU3RhdGVzW3N0cm9rZUtleV0gPSB7XG4gICAgICAgICAgc3Ryb2tlU3R5bGU6IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgIGxpbmVDYXA6IHN0cm9rZVN0YXRlLmxpbmVDYXAsXG4gICAgICAgICAgbGluZURhc2hPZmZzZXQ6IHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgICAgIGxpbmVXaWR0aDogc3Ryb2tlU3RhdGUubGluZVdpZHRoLFxuICAgICAgICAgIGxpbmVKb2luOiBzdHJva2VTdGF0ZS5saW5lSm9pbixcbiAgICAgICAgICBtaXRlckxpbWl0OiBzdHJva2VTdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICAgIGxpbmVEYXNoOiBzdHJva2VTdGF0ZS5saW5lRGFzaCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdGV4dEtleSA9IHRoaXMudGV4dEtleV87XG4gICAgaWYgKCEodGV4dEtleSBpbiB0aGlzLnRleHRTdGF0ZXMpKSB7XG4gICAgICB0aGlzLnRleHRTdGF0ZXNbdGV4dEtleV0gPSB7XG4gICAgICAgIGZvbnQ6IHRleHRTdGF0ZS5mb250LFxuICAgICAgICB0ZXh0QWxpZ246IHRleHRTdGF0ZS50ZXh0QWxpZ24gfHwgZGVmYXVsdFRleHRBbGlnbixcbiAgICAgICAganVzdGlmeTogdGV4dFN0YXRlLmp1c3RpZnksXG4gICAgICAgIHRleHRCYXNlbGluZTogdGV4dFN0YXRlLnRleHRCYXNlbGluZSB8fCBkZWZhdWx0VGV4dEJhc2VsaW5lLFxuICAgICAgICBzY2FsZTogdGV4dFN0YXRlLnNjYWxlLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZmlsbEtleSA9IHRoaXMuZmlsbEtleV87XG4gICAgaWYgKGZpbGxTdGF0ZSkge1xuICAgICAgaWYgKCEoZmlsbEtleSBpbiB0aGlzLmZpbGxTdGF0ZXMpKSB7XG4gICAgICAgIHRoaXMuZmlsbFN0YXRlc1tmaWxsS2V5XSA9IHtcbiAgICAgICAgICBmaWxsU3R5bGU6IGZpbGxTdGF0ZS5maWxsU3R5bGUsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbiBCZWdpbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAqL1xuICBkcmF3Q2hhcnNfKGJlZ2luLCBlbmQpIHtcbiAgICBjb25zdCBzdHJva2VTdGF0ZSA9IHRoaXMudGV4dFN0cm9rZVN0YXRlXztcbiAgICBjb25zdCB0ZXh0U3RhdGUgPSB0aGlzLnRleHRTdGF0ZV87XG5cbiAgICBjb25zdCBzdHJva2VLZXkgPSB0aGlzLnN0cm9rZUtleV87XG4gICAgY29uc3QgdGV4dEtleSA9IHRoaXMudGV4dEtleV87XG4gICAgY29uc3QgZmlsbEtleSA9IHRoaXMuZmlsbEtleV87XG4gICAgdGhpcy5zYXZlVGV4dFN0YXRlc18oKTtcblxuICAgIGNvbnN0IHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW87XG4gICAgY29uc3QgYmFzZWxpbmUgPSBURVhUX0FMSUdOW3RleHRTdGF0ZS50ZXh0QmFzZWxpbmVdO1xuXG4gICAgY29uc3Qgb2Zmc2V0WSA9IHRoaXMudGV4dE9mZnNldFlfICogcGl4ZWxSYXRpbztcbiAgICBjb25zdCB0ZXh0ID0gdGhpcy50ZXh0XztcbiAgICBjb25zdCBzdHJva2VXaWR0aCA9IHN0cm9rZVN0YXRlXG4gICAgICA/IChzdHJva2VTdGF0ZS5saW5lV2lkdGggKiBNYXRoLmFicyh0ZXh0U3RhdGUuc2NhbGVbMF0pKSAvIDJcbiAgICAgIDogMDtcblxuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19DSEFSUyxcbiAgICAgIGJlZ2luLFxuICAgICAgZW5kLFxuICAgICAgYmFzZWxpbmUsXG4gICAgICB0ZXh0U3RhdGUub3ZlcmZsb3csXG4gICAgICBmaWxsS2V5LFxuICAgICAgdGV4dFN0YXRlLm1heEFuZ2xlLFxuICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgIG9mZnNldFksXG4gICAgICBzdHJva2VLZXksXG4gICAgICBzdHJva2VXaWR0aCAqIHBpeGVsUmF0aW8sXG4gICAgICB0ZXh0LFxuICAgICAgdGV4dEtleSxcbiAgICAgIDEsXG4gICAgXSk7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0NIQVJTLFxuICAgICAgYmVnaW4sXG4gICAgICBlbmQsXG4gICAgICBiYXNlbGluZSxcbiAgICAgIHRleHRTdGF0ZS5vdmVyZmxvdyxcbiAgICAgIGZpbGxLZXksXG4gICAgICB0ZXh0U3RhdGUubWF4QW5nbGUsXG4gICAgICAxLFxuICAgICAgb2Zmc2V0WSxcbiAgICAgIHN0cm9rZUtleSxcbiAgICAgIHN0cm9rZVdpZHRoLFxuICAgICAgdGV4dCxcbiAgICAgIHRleHRLZXksXG4gICAgICAxIC8gcGl4ZWxSYXRpbyxcbiAgICBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1RleHQuanNcIikuZGVmYXVsdH0gdGV4dFN0eWxlIFRleHQgc3R5bGUuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbc2hhcmVkRGF0YV0gU2hhcmVkIGRhdGEuXG4gICAqL1xuICBzZXRUZXh0U3R5bGUodGV4dFN0eWxlLCBzaGFyZWREYXRhKSB7XG4gICAgbGV0IHRleHRTdGF0ZSwgZmlsbFN0YXRlLCBzdHJva2VTdGF0ZTtcbiAgICBpZiAoIXRleHRTdHlsZSkge1xuICAgICAgdGhpcy50ZXh0XyA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0ZXh0RmlsbFN0eWxlID0gdGV4dFN0eWxlLmdldEZpbGwoKTtcbiAgICAgIGlmICghdGV4dEZpbGxTdHlsZSkge1xuICAgICAgICBmaWxsU3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHRGaWxsU3RhdGVfID0gZmlsbFN0YXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsbFN0YXRlID0gdGhpcy50ZXh0RmlsbFN0YXRlXztcbiAgICAgICAgaWYgKCFmaWxsU3RhdGUpIHtcbiAgICAgICAgICBmaWxsU3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9ICovICh7fSk7XG4gICAgICAgICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IGZpbGxTdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBmaWxsU3RhdGUuZmlsbFN0eWxlID0gYXNDb2xvckxpa2UoXG4gICAgICAgICAgdGV4dEZpbGxTdHlsZS5nZXRDb2xvcigpIHx8IGRlZmF1bHRGaWxsU3R5bGVcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGV4dFN0cm9rZVN0eWxlID0gdGV4dFN0eWxlLmdldFN0cm9rZSgpO1xuICAgICAgaWYgKCF0ZXh0U3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgc3Ryb2tlU3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBzdHJva2VTdGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0cm9rZVN0YXRlID0gdGhpcy50ZXh0U3Ryb2tlU3RhdGVfO1xuICAgICAgICBpZiAoIXN0cm9rZVN0YXRlKSB7XG4gICAgICAgICAgc3Ryb2tlU3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX0gKi8gKHt9KTtcbiAgICAgICAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBzdHJva2VTdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaW5lRGFzaCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgICBjb25zdCBsaW5lRGFzaE9mZnNldCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgICBjb25zdCBsaW5lV2lkdGggPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0V2lkdGgoKTtcbiAgICAgICAgY29uc3QgbWl0ZXJMaW1pdCA9IHRleHRTdHJva2VTdHlsZS5nZXRNaXRlckxpbWl0KCk7XG4gICAgICAgIHN0cm9rZVN0YXRlLmxpbmVDYXAgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZUNhcCgpIHx8IGRlZmF1bHRMaW5lQ2FwO1xuICAgICAgICBzdHJva2VTdGF0ZS5saW5lRGFzaCA9IGxpbmVEYXNoID8gbGluZURhc2guc2xpY2UoKSA6IGRlZmF1bHRMaW5lRGFzaDtcbiAgICAgICAgc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQgPVxuICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TGluZURhc2hPZmZzZXQgOiBsaW5lRGFzaE9mZnNldDtcbiAgICAgICAgc3Ryb2tlU3RhdGUubGluZUpvaW4gPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZUpvaW4oKSB8fCBkZWZhdWx0TGluZUpvaW47XG4gICAgICAgIHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA9XG4gICAgICAgICAgbGluZVdpZHRoID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TGluZVdpZHRoIDogbGluZVdpZHRoO1xuICAgICAgICBzdHJva2VTdGF0ZS5taXRlckxpbWl0ID1cbiAgICAgICAgICBtaXRlckxpbWl0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TWl0ZXJMaW1pdCA6IG1pdGVyTGltaXQ7XG4gICAgICAgIHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlID0gYXNDb2xvckxpa2UoXG4gICAgICAgICAgdGV4dFN0cm9rZVN0eWxlLmdldENvbG9yKCkgfHwgZGVmYXVsdFN0cm9rZVN0eWxlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlXztcbiAgICAgIGNvbnN0IGZvbnQgPSB0ZXh0U3R5bGUuZ2V0Rm9udCgpIHx8IGRlZmF1bHRGb250O1xuICAgICAgcmVnaXN0ZXJGb250KGZvbnQpO1xuICAgICAgY29uc3QgdGV4dFNjYWxlID0gdGV4dFN0eWxlLmdldFNjYWxlQXJyYXkoKTtcbiAgICAgIHRleHRTdGF0ZS5vdmVyZmxvdyA9IHRleHRTdHlsZS5nZXRPdmVyZmxvdygpO1xuICAgICAgdGV4dFN0YXRlLmZvbnQgPSBmb250O1xuICAgICAgdGV4dFN0YXRlLm1heEFuZ2xlID0gdGV4dFN0eWxlLmdldE1heEFuZ2xlKCk7XG4gICAgICB0ZXh0U3RhdGUucGxhY2VtZW50ID0gdGV4dFN0eWxlLmdldFBsYWNlbWVudCgpO1xuICAgICAgdGV4dFN0YXRlLnRleHRBbGlnbiA9IHRleHRTdHlsZS5nZXRUZXh0QWxpZ24oKTtcbiAgICAgIHRleHRTdGF0ZS5qdXN0aWZ5ID0gdGV4dFN0eWxlLmdldEp1c3RpZnkoKTtcbiAgICAgIHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUgPVxuICAgICAgICB0ZXh0U3R5bGUuZ2V0VGV4dEJhc2VsaW5lKCkgfHwgZGVmYXVsdFRleHRCYXNlbGluZTtcbiAgICAgIHRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCA9IHRleHRTdHlsZS5nZXRCYWNrZ3JvdW5kRmlsbCgpO1xuICAgICAgdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UgPSB0ZXh0U3R5bGUuZ2V0QmFja2dyb3VuZFN0cm9rZSgpO1xuICAgICAgdGV4dFN0YXRlLnBhZGRpbmcgPSB0ZXh0U3R5bGUuZ2V0UGFkZGluZygpIHx8IGRlZmF1bHRQYWRkaW5nO1xuICAgICAgdGV4dFN0YXRlLnNjYWxlID0gdGV4dFNjYWxlID09PSB1bmRlZmluZWQgPyBbMSwgMV0gOiB0ZXh0U2NhbGU7XG5cbiAgICAgIGNvbnN0IHRleHRPZmZzZXRYID0gdGV4dFN0eWxlLmdldE9mZnNldFgoKTtcbiAgICAgIGNvbnN0IHRleHRPZmZzZXRZID0gdGV4dFN0eWxlLmdldE9mZnNldFkoKTtcbiAgICAgIGNvbnN0IHRleHRSb3RhdGVXaXRoVmlldyA9IHRleHRTdHlsZS5nZXRSb3RhdGVXaXRoVmlldygpO1xuICAgICAgY29uc3QgdGV4dFJvdGF0aW9uID0gdGV4dFN0eWxlLmdldFJvdGF0aW9uKCk7XG4gICAgICB0aGlzLnRleHRfID0gdGV4dFN0eWxlLmdldFRleHQoKSB8fCAnJztcbiAgICAgIHRoaXMudGV4dE9mZnNldFhfID0gdGV4dE9mZnNldFggPT09IHVuZGVmaW5lZCA/IDAgOiB0ZXh0T2Zmc2V0WDtcbiAgICAgIHRoaXMudGV4dE9mZnNldFlfID0gdGV4dE9mZnNldFkgPT09IHVuZGVmaW5lZCA/IDAgOiB0ZXh0T2Zmc2V0WTtcbiAgICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9XG4gICAgICAgIHRleHRSb3RhdGVXaXRoVmlldyA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiB0ZXh0Um90YXRlV2l0aFZpZXc7XG4gICAgICB0aGlzLnRleHRSb3RhdGlvbl8gPSB0ZXh0Um90YXRpb24gPT09IHVuZGVmaW5lZCA/IDAgOiB0ZXh0Um90YXRpb247XG5cbiAgICAgIHRoaXMuc3Ryb2tlS2V5XyA9IHN0cm9rZVN0YXRlXG4gICAgICAgID8gKHR5cGVvZiBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSA9PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZVxuICAgICAgICAgICAgOiBnZXRVaWQoc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUpKSArXG4gICAgICAgICAgc3Ryb2tlU3RhdGUubGluZUNhcCArXG4gICAgICAgICAgc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQgK1xuICAgICAgICAgICd8JyArXG4gICAgICAgICAgc3Ryb2tlU3RhdGUubGluZVdpZHRoICtcbiAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lSm9pbiArXG4gICAgICAgICAgc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCArXG4gICAgICAgICAgJ1snICtcbiAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lRGFzaC5qb2luKCkgK1xuICAgICAgICAgICddJ1xuICAgICAgICA6ICcnO1xuICAgICAgdGhpcy50ZXh0S2V5XyA9XG4gICAgICAgIHRleHRTdGF0ZS5mb250ICtcbiAgICAgICAgdGV4dFN0YXRlLnNjYWxlICtcbiAgICAgICAgKHRleHRTdGF0ZS50ZXh0QWxpZ24gfHwgJz8nKSArXG4gICAgICAgICh0ZXh0U3RhdGUuanVzdGlmeSB8fCAnPycpICtcbiAgICAgICAgKHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUgfHwgJz8nKTtcbiAgICAgIHRoaXMuZmlsbEtleV8gPSBmaWxsU3RhdGVcbiAgICAgICAgPyB0eXBlb2YgZmlsbFN0YXRlLmZpbGxTdHlsZSA9PSAnc3RyaW5nJ1xuICAgICAgICAgID8gZmlsbFN0YXRlLmZpbGxTdHlsZVxuICAgICAgICAgIDogJ3wnICsgZ2V0VWlkKGZpbGxTdGF0ZS5maWxsU3R5bGUpXG4gICAgICAgIDogJyc7XG4gICAgfVxuICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8gPSBzaGFyZWREYXRhO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1RleHRCdWlsZGVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwXG4gKi9cblxuaW1wb3J0IEJ1aWxkZXIgZnJvbSAnLi9CdWlsZGVyLmpzJztcbmltcG9ydCBJbWFnZUJ1aWxkZXIgZnJvbSAnLi9JbWFnZUJ1aWxkZXIuanMnO1xuaW1wb3J0IExpbmVTdHJpbmdCdWlsZGVyIGZyb20gJy4vTGluZVN0cmluZ0J1aWxkZXIuanMnO1xuaW1wb3J0IFBvbHlnb25CdWlsZGVyIGZyb20gJy4vUG9seWdvbkJ1aWxkZXIuanMnO1xuaW1wb3J0IFRleHRCdWlsZGVyIGZyb20gJy4vVGV4dEJ1aWxkZXIuanMnO1xuXG4vKipcbiAqIEB0eXBlIHtPYmplY3Q8aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkJ1aWxkZXJUeXBlLCB0eXBlb2YgQnVpbGRlcj59XG4gKi9cbmNvbnN0IEJBVENIX0NPTlNUUlVDVE9SUyA9IHtcbiAgJ0NpcmNsZSc6IFBvbHlnb25CdWlsZGVyLFxuICAnRGVmYXVsdCc6IEJ1aWxkZXIsXG4gICdJbWFnZSc6IEltYWdlQnVpbGRlcixcbiAgJ0xpbmVTdHJpbmcnOiBMaW5lU3RyaW5nQnVpbGRlcixcbiAgJ1BvbHlnb24nOiBQb2x5Z29uQnVpbGRlcixcbiAgJ1RleHQnOiBUZXh0QnVpbGRlcixcbn07XG5cbmNsYXNzIEJ1aWxkZXJHcm91cCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4IGV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRvbGVyYW5jZV8gPSB0b2xlcmFuY2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMubWF4RXh0ZW50XyA9IG1heEV4dGVudDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsUmF0aW9fID0gcGl4ZWxSYXRpbztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb25fID0gcmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5CdWlsZGVyVHlwZSwgQnVpbGRlcj4+fVxuICAgICAqL1xuICAgIHRoaXMuYnVpbGRlcnNCeVpJbmRleF8gPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuQnVpbGRlclR5cGUsIGltcG9ydChcIi4vQnVpbGRlci5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnM+Pn0gVGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnNcbiAgICovXG4gIGZpbmlzaCgpIHtcbiAgICBjb25zdCBidWlsZGVySW5zdHJ1Y3Rpb25zID0ge307XG4gICAgZm9yIChjb25zdCB6S2V5IGluIHRoaXMuYnVpbGRlcnNCeVpJbmRleF8pIHtcbiAgICAgIGJ1aWxkZXJJbnN0cnVjdGlvbnNbektleV0gPSBidWlsZGVySW5zdHJ1Y3Rpb25zW3pLZXldIHx8IHt9O1xuICAgICAgY29uc3QgYnVpbGRlcnMgPSB0aGlzLmJ1aWxkZXJzQnlaSW5kZXhfW3pLZXldO1xuICAgICAgZm9yIChjb25zdCBidWlsZGVyS2V5IGluIGJ1aWxkZXJzKSB7XG4gICAgICAgIGNvbnN0IGJ1aWxkZXJJbnN0cnVjdGlvbiA9IGJ1aWxkZXJzW2J1aWxkZXJLZXldLmZpbmlzaCgpO1xuICAgICAgICBidWlsZGVySW5zdHJ1Y3Rpb25zW3pLZXldW2J1aWxkZXJLZXldID0gYnVpbGRlckluc3RydWN0aW9uO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYnVpbGRlckluc3RydWN0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHpJbmRleCBaIGluZGV4LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5CdWlsZGVyVHlwZX0gYnVpbGRlclR5cGUgUmVwbGF5IHR5cGUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1ZlY3RvckNvbnRleHQuanNcIikuZGVmYXVsdH0gUmVwbGF5LlxuICAgKi9cbiAgZ2V0QnVpbGRlcih6SW5kZXgsIGJ1aWxkZXJUeXBlKSB7XG4gICAgY29uc3QgekluZGV4S2V5ID0gekluZGV4ICE9PSB1bmRlZmluZWQgPyB6SW5kZXgudG9TdHJpbmcoKSA6ICcwJztcbiAgICBsZXQgcmVwbGF5cyA9IHRoaXMuYnVpbGRlcnNCeVpJbmRleF9bekluZGV4S2V5XTtcbiAgICBpZiAocmVwbGF5cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXBsYXlzID0ge307XG4gICAgICB0aGlzLmJ1aWxkZXJzQnlaSW5kZXhfW3pJbmRleEtleV0gPSByZXBsYXlzO1xuICAgIH1cbiAgICBsZXQgcmVwbGF5ID0gcmVwbGF5c1tidWlsZGVyVHlwZV07XG4gICAgaWYgKHJlcGxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBDb25zdHJ1Y3RvciA9IEJBVENIX0NPTlNUUlVDVE9SU1tidWlsZGVyVHlwZV07XG4gICAgICByZXBsYXkgPSBuZXcgQ29uc3RydWN0b3IoXG4gICAgICAgIHRoaXMudG9sZXJhbmNlXyxcbiAgICAgICAgdGhpcy5tYXhFeHRlbnRfLFxuICAgICAgICB0aGlzLnJlc29sdXRpb25fLFxuICAgICAgICB0aGlzLnBpeGVsUmF0aW9fXG4gICAgICApO1xuICAgICAgcmVwbGF5c1tidWlsZGVyVHlwZV0gPSByZXBsYXk7XG4gICAgfVxuICAgIHJldHVybiByZXBsYXk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnVpbGRlckdyb3VwO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvSW1hZ2VCdWlsZGVyXG4gKi9cbmltcG9ydCBDYW52YXNCdWlsZGVyIGZyb20gJy4vQnVpbGRlci5qcyc7XG5pbXBvcnQgQ2FudmFzSW5zdHJ1Y3Rpb24gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG5cbmNsYXNzIENhbnZhc0ltYWdlQnVpbGRlciBleHRlbmRzIENhbnZhc0J1aWxkZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgc3VwZXIodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5hbmNob3JYXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5hbmNob3JZXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5oZWlnaHRfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLm9wYWNpdHlfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWdpblhfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWdpbllfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucm90YXRpb25fID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnNjYWxlXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy53aWR0aF8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtcImRlY2x1dHRlclwifFwib2JzdGFjbGVcInxcIm5vbmVcInx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5kZWNsdXR0ZXJNb2RlXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIERhdGEgc2hhcmVkIHdpdGggYSB0ZXh0IGJ1aWxkZXIgZm9yIGNvbWJpbmVkIGRlY2x1dHRlcmluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH1cbiAgICAgKi9cbiAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gcG9pbnRHZW9tZXRyeSBQb2ludCBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3UG9pbnQocG9pbnRHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIGlmICghdGhpcy5pbWFnZV8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5KHBvaW50R2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHBvaW50R2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgY29uc3Qgc3RyaWRlID0gcG9pbnRHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBjb25zdCBteUJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgY29uc3QgbXlFbmQgPSB0aGlzLmFwcGVuZEZsYXRQb2ludENvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgc3RyaWRlKTtcbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsXG4gICAgICBteUJlZ2luLFxuICAgICAgbXlFbmQsXG4gICAgICB0aGlzLmltYWdlXyxcbiAgICAgIC8vIFJlbWFpbmluZyBhcmd1bWVudHMgdG8gRFJBV19JTUFHRSBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICB0aGlzLmFuY2hvclhfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgdGhpcy5hbmNob3JZXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgIE1hdGguY2VpbCh0aGlzLmhlaWdodF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18pLFxuICAgICAgdGhpcy5vcGFjaXR5XyxcbiAgICAgIHRoaXMub3JpZ2luWF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICB0aGlzLm9yaWdpbllfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18sXG4gICAgICB0aGlzLnJvdGF0aW9uXyxcbiAgICAgIFtcbiAgICAgICAgKHRoaXMuc2NhbGVfWzBdICogdGhpcy5waXhlbFJhdGlvKSAvIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgICAgKHRoaXMuc2NhbGVfWzFdICogdGhpcy5waXhlbFJhdGlvKSAvIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgIF0sXG4gICAgICBNYXRoLmNlaWwodGhpcy53aWR0aF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18pLFxuICAgICAgdGhpcy5kZWNsdXR0ZXJNb2RlXyxcbiAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8sXG4gICAgXSk7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLFxuICAgICAgbXlCZWdpbixcbiAgICAgIG15RW5kLFxuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8sXG4gICAgICAvLyBSZW1haW5pbmcgYXJndW1lbnRzIHRvIERSQVdfSU1BR0UgYXJlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuICAgICAgdGhpcy5hbmNob3JYXyxcbiAgICAgIHRoaXMuYW5jaG9yWV8sXG4gICAgICB0aGlzLmhlaWdodF8sXG4gICAgICB0aGlzLm9wYWNpdHlfLFxuICAgICAgdGhpcy5vcmlnaW5YXyxcbiAgICAgIHRoaXMub3JpZ2luWV8sXG4gICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyxcbiAgICAgIHRoaXMucm90YXRpb25fLFxuICAgICAgdGhpcy5zY2FsZV8sXG4gICAgICB0aGlzLndpZHRoXyxcbiAgICAgIHRoaXMuZGVjbHV0dGVyTW9kZV8sXG4gICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgIF0pO1xuICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IG11bHRpUG9pbnRHZW9tZXRyeSBNdWx0aVBvaW50IGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdNdWx0aVBvaW50KG11bHRpUG9pbnRHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIGlmICghdGhpcy5pbWFnZV8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5KG11bHRpUG9pbnRHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gbXVsdGlQb2ludEdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGNvbnN0IHN0cmlkZSA9IG11bHRpUG9pbnRHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBjb25zdCBteUJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgY29uc3QgbXlFbmQgPSB0aGlzLmFwcGVuZEZsYXRQb2ludENvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgc3RyaWRlKTtcbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsXG4gICAgICBteUJlZ2luLFxuICAgICAgbXlFbmQsXG4gICAgICB0aGlzLmltYWdlXyxcbiAgICAgIC8vIFJlbWFpbmluZyBhcmd1bWVudHMgdG8gRFJBV19JTUFHRSBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICB0aGlzLmFuY2hvclhfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgdGhpcy5hbmNob3JZXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgIE1hdGguY2VpbCh0aGlzLmhlaWdodF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18pLFxuICAgICAgdGhpcy5vcGFjaXR5XyxcbiAgICAgIHRoaXMub3JpZ2luWF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICB0aGlzLm9yaWdpbllfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18sXG4gICAgICB0aGlzLnJvdGF0aW9uXyxcbiAgICAgIFtcbiAgICAgICAgKHRoaXMuc2NhbGVfWzBdICogdGhpcy5waXhlbFJhdGlvKSAvIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgICAgKHRoaXMuc2NhbGVfWzFdICogdGhpcy5waXhlbFJhdGlvKSAvIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgIF0sXG4gICAgICBNYXRoLmNlaWwodGhpcy53aWR0aF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18pLFxuICAgICAgdGhpcy5kZWNsdXR0ZXJNb2RlXyxcbiAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8sXG4gICAgXSk7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLFxuICAgICAgbXlCZWdpbixcbiAgICAgIG15RW5kLFxuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8sXG4gICAgICAvLyBSZW1haW5pbmcgYXJndW1lbnRzIHRvIERSQVdfSU1BR0UgYXJlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuICAgICAgdGhpcy5hbmNob3JYXyxcbiAgICAgIHRoaXMuYW5jaG9yWV8sXG4gICAgICB0aGlzLmhlaWdodF8sXG4gICAgICB0aGlzLm9wYWNpdHlfLFxuICAgICAgdGhpcy5vcmlnaW5YXyxcbiAgICAgIHRoaXMub3JpZ2luWV8sXG4gICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyxcbiAgICAgIHRoaXMucm90YXRpb25fLFxuICAgICAgdGhpcy5zY2FsZV8sXG4gICAgICB0aGlzLndpZHRoXyxcbiAgICAgIHRoaXMuZGVjbHV0dGVyTW9kZV8sXG4gICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgIF0pO1xuICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9uc30gdGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICBmaW5pc2goKSB7XG4gICAgdGhpcy5yZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zKCk7XG4gICAgLy8gRklYTUUgdGhpcyBkb2Vzbid0IHJlYWxseSBwcm90ZWN0IHVzIGFnYWluc3QgZnVydGhlciBjYWxscyB0byBkcmF3Kkdlb21ldHJ5XG4gICAgdGhpcy5hbmNob3JYXyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmFuY2hvcllfID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gbnVsbDtcbiAgICB0aGlzLmltYWdlXyA9IG51bGw7XG4gICAgdGhpcy5pbWFnZVBpeGVsUmF0aW9fID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaGVpZ2h0XyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnNjYWxlXyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm9wYWNpdHlfID0gdW5kZWZpbmVkO1xuICAgIHRoaXMub3JpZ2luWF8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5vcmlnaW5ZXyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJvdGF0aW9uXyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLndpZHRoXyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3VwZXIuZmluaXNoKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9JbWFnZS5qc1wiKS5kZWZhdWx0fSBpbWFnZVN0eWxlIEltYWdlIHN0eWxlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW3NoYXJlZERhdGFdIFNoYXJlZCBkYXRhLlxuICAgKi9cbiAgc2V0SW1hZ2VTdHlsZShpbWFnZVN0eWxlLCBzaGFyZWREYXRhKSB7XG4gICAgY29uc3QgYW5jaG9yID0gaW1hZ2VTdHlsZS5nZXRBbmNob3IoKTtcbiAgICBjb25zdCBzaXplID0gaW1hZ2VTdHlsZS5nZXRTaXplKCk7XG4gICAgY29uc3Qgb3JpZ2luID0gaW1hZ2VTdHlsZS5nZXRPcmlnaW4oKTtcbiAgICB0aGlzLmltYWdlUGl4ZWxSYXRpb18gPSBpbWFnZVN0eWxlLmdldFBpeGVsUmF0aW8odGhpcy5waXhlbFJhdGlvKTtcbiAgICB0aGlzLmFuY2hvclhfID0gYW5jaG9yWzBdO1xuICAgIHRoaXMuYW5jaG9yWV8gPSBhbmNob3JbMV07XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8gPSBpbWFnZVN0eWxlLmdldEhpdERldGVjdGlvbkltYWdlKCk7XG4gICAgdGhpcy5pbWFnZV8gPSBpbWFnZVN0eWxlLmdldEltYWdlKHRoaXMucGl4ZWxSYXRpbyk7XG4gICAgdGhpcy5oZWlnaHRfID0gc2l6ZVsxXTtcbiAgICB0aGlzLm9wYWNpdHlfID0gaW1hZ2VTdHlsZS5nZXRPcGFjaXR5KCk7XG4gICAgdGhpcy5vcmlnaW5YXyA9IG9yaWdpblswXTtcbiAgICB0aGlzLm9yaWdpbllfID0gb3JpZ2luWzFdO1xuICAgIHRoaXMucm90YXRlV2l0aFZpZXdfID0gaW1hZ2VTdHlsZS5nZXRSb3RhdGVXaXRoVmlldygpO1xuICAgIHRoaXMucm90YXRpb25fID0gaW1hZ2VTdHlsZS5nZXRSb3RhdGlvbigpO1xuICAgIHRoaXMuc2NhbGVfID0gaW1hZ2VTdHlsZS5nZXRTY2FsZUFycmF5KCk7XG4gICAgdGhpcy53aWR0aF8gPSBzaXplWzBdO1xuICAgIHRoaXMuZGVjbHV0dGVyTW9kZV8gPSBpbWFnZVN0eWxlLmdldERlY2x1dHRlck1vZGUoKTtcbiAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfID0gc2hhcmVkRGF0YTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNJbWFnZUJ1aWxkZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9MaW5lU3RyaW5nQnVpbGRlclxuICovXG5pbXBvcnQgQ2FudmFzQnVpbGRlciBmcm9tICcuL0J1aWxkZXIuanMnO1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uLCB7XG4gIGJlZ2luUGF0aEluc3RydWN0aW9uLFxuICBzdHJva2VJbnN0cnVjdGlvbixcbn0gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG5pbXBvcnQge2RlZmF1bHRMaW5lRGFzaCwgZGVmYXVsdExpbmVEYXNoT2Zmc2V0fSBmcm9tICcuLi9jYW52YXMuanMnO1xuXG5jbGFzcyBDYW52YXNMaW5lU3RyaW5nQnVpbGRlciBleHRlbmRzIENhbnZhc0J1aWxkZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgc3VwZXIodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge251bWJlcn0gZW5kLlxuICAgKi9cbiAgZHJhd0ZsYXRDb29yZGluYXRlc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgY29uc3QgbXlCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgIGNvbnN0IG15RW5kID0gdGhpcy5hcHBlbmRGbGF0TGluZUNvb3JkaW5hdGVzKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgZmFsc2UsXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgY29uc3QgbW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24gPSBbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5NT1ZFX1RPX0xJTkVfVE8sXG4gICAgICBteUJlZ2luLFxuICAgICAgbXlFbmQsXG4gICAgXTtcbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKG1vdmVUb0xpbmVUb0luc3RydWN0aW9uKTtcbiAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKG1vdmVUb0xpbmVUb0luc3RydWN0aW9uKTtcbiAgICByZXR1cm4gZW5kO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBsaW5lU3RyaW5nR2VvbWV0cnkgTGluZSBzdHJpbmcgZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgZHJhd0xpbmVTdHJpbmcobGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgY29uc3QgbGluZVdpZHRoID0gc3RhdGUubGluZVdpZHRoO1xuICAgIGlmIChzdHJva2VTdHlsZSA9PT0gdW5kZWZpbmVkIHx8IGxpbmVXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudXBkYXRlU3Ryb2tlU3R5bGUoc3RhdGUsIHRoaXMuYXBwbHlTdHJva2UpO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeShsaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goXG4gICAgICBbXG4gICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9TVFJPS0VfU1RZTEUsXG4gICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICBzdGF0ZS5saW5lV2lkdGgsXG4gICAgICAgIHN0YXRlLmxpbmVDYXAsXG4gICAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgICBzdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICBkZWZhdWx0TGluZURhc2gsXG4gICAgICAgIGRlZmF1bHRMaW5lRGFzaE9mZnNldCxcbiAgICAgIF0sXG4gICAgICBiZWdpblBhdGhJbnN0cnVjdGlvblxuICAgICk7XG4gICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gbGluZVN0cmluZ0dlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGNvbnN0IHN0cmlkZSA9IGxpbmVTdHJpbmdHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICB0aGlzLmRyYXdGbGF0Q29vcmRpbmF0ZXNfKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgMCxcbiAgICAgIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgICBzdHJpZGVcbiAgICApO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gbXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkgTXVsdGlMaW5lU3RyaW5nIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdNdWx0aUxpbmVTdHJpbmcobXVsdGlMaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3Qgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICBjb25zdCBsaW5lV2lkdGggPSBzdGF0ZS5saW5lV2lkdGg7XG4gICAgaWYgKHN0cm9rZVN0eWxlID09PSB1bmRlZmluZWQgfHwgbGluZVdpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVTdHJva2VTdHlsZShzdGF0ZSwgdGhpcy5hcHBseVN0cm9rZSk7XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5KG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFxuICAgICAgW1xuICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICBzdGF0ZS5saW5lSm9pbixcbiAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgc3RhdGUubGluZURhc2gsXG4gICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgXSxcbiAgICAgIGJlZ2luUGF0aEluc3RydWN0aW9uXG4gICAgKTtcbiAgICBjb25zdCBlbmRzID0gbXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkuZ2V0RW5kcygpO1xuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGNvbnN0IHN0cmlkZSA9IG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3RmxhdENvb3JkaW5hdGVzXyhcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoZW5kc1tpXSksXG4gICAgICAgIHN0cmlkZVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSB0aGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9ucy5cbiAgICovXG4gIGZpbmlzaCgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKFxuICAgICAgc3RhdGUubGFzdFN0cm9rZSAhPSB1bmRlZmluZWQgJiZcbiAgICAgIHN0YXRlLmxhc3RTdHJva2UgIT0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGhcbiAgICApIHtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgIH1cbiAgICB0aGlzLnJldmVyc2VIaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMoKTtcbiAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICByZXR1cm4gc3VwZXIuZmluaXNoKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICovXG4gIGFwcGx5U3Ryb2tlKHN0YXRlKSB7XG4gICAgaWYgKFxuICAgICAgc3RhdGUubGFzdFN0cm9rZSAhPSB1bmRlZmluZWQgJiZcbiAgICAgIHN0YXRlLmxhc3RTdHJva2UgIT0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGhcbiAgICApIHtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgc3RhdGUubGFzdFN0cm9rZSA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgIH1cbiAgICBzdGF0ZS5sYXN0U3Ryb2tlID0gMDtcbiAgICBzdXBlci5hcHBseVN0cm9rZShzdGF0ZSk7XG4gICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChiZWdpblBhdGhJbnN0cnVjdGlvbik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3RleHRwYXRoXG4gKi9cbmltcG9ydCB7bGVycH0gZnJvbSAnLi4vLi4vbWF0aC5qcyc7XG5pbXBvcnQge3JvdGF0ZX0gZnJvbSAnLi90cmFuc2Zvcm0uanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIFBhdGggdG8gcHV0IHRleHQgb24uXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IFN0YXJ0IG9mZnNldCBvZiB0aGUgYGZsYXRDb29yZGluYXRlc2AuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZCBvZmZzZXQgb2YgdGhlIGBmbGF0Q29vcmRpbmF0ZXNgLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0IHRvIHBsYWNlIG9uIHRoZSBwYXRoLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0TSBtIGFsb25nIHRoZSBwYXRoIHdoZXJlIHRoZSB0ZXh0IHN0YXJ0cy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBbmdsZSBNYXggYW5nbGUgYmV0d2VlbiBhZGphY2VudCBjaGFycyBpbiByYWRpYW5zLlxuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIFRoZSBwcm9kdWN0IG9mIHRoZSB0ZXh0IHNjYWxlIGFuZCB0aGUgZGV2aWNlIHBpeGVsIHJhdGlvLlxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcsIHN0cmluZywgT2JqZWN0PHN0cmluZywgbnVtYmVyPik6bnVtYmVyfSBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGggTWVhc3VyZSBhbmQgY2FjaGUgdGV4dCB3aWR0aC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250IFRoZSBmb250LlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fSBjYWNoZSBBIGNhY2hlIG9mIG1lYXN1cmVkIHdpZHRocy5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbiB0byBhcHBseSB0byB0aGUgZmxhdENvb3JkaW5hdGVzIHRvIGRldGVybWluZSB3aGV0aGVyIHRleHQgbmVlZHMgdG8gYmUgcmV2ZXJzZWQuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTwqPj58bnVsbH0gVGhlIHJlc3VsdCBhcnJheSAob3IgbnVsbCBpZiBgbWF4QW5nbGVgIHdhc1xuICogZXhjZWVkZWQpLiBFbnRyaWVzIG9mIHRoZSBhcnJheSBhcmUgeCwgeSwgYW5jaG9yWCwgYW5nbGUsIGNodW5rLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZHJhd1RleHRPblBhdGgoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgdGV4dCxcbiAgc3RhcnRNLFxuICBtYXhBbmdsZSxcbiAgc2NhbGUsXG4gIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aCxcbiAgZm9udCxcbiAgY2FjaGUsXG4gIHJvdGF0aW9uXG4pIHtcbiAgbGV0IHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gIGxldCB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgbGV0IHgxID0gMDtcbiAgbGV0IHkxID0gMDtcbiAgbGV0IHNlZ21lbnRMZW5ndGggPSAwO1xuICBsZXQgc2VnbWVudE0gPSAwO1xuXG4gIGZ1bmN0aW9uIGFkdmFuY2UoKSB7XG4gICAgeDEgPSB4MjtcbiAgICB5MSA9IHkyO1xuICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICBzZWdtZW50TSArPSBzZWdtZW50TGVuZ3RoO1xuICAgIHNlZ21lbnRMZW5ndGggPSBNYXRoLnNxcnQoKHgyIC0geDEpICogKHgyIC0geDEpICsgKHkyIC0geTEpICogKHkyIC0geTEpKTtcbiAgfVxuICBkbyB7XG4gICAgYWR2YW5jZSgpO1xuICB9IHdoaWxlIChvZmZzZXQgPCBlbmQgLSBzdHJpZGUgJiYgc2VnbWVudE0gKyBzZWdtZW50TGVuZ3RoIDwgc3RhcnRNKTtcblxuICBsZXQgaW50ZXJwb2xhdGUgPVxuICAgIHNlZ21lbnRMZW5ndGggPT09IDAgPyAwIDogKHN0YXJ0TSAtIHNlZ21lbnRNKSAvIHNlZ21lbnRMZW5ndGg7XG4gIGNvbnN0IGJlZ2luWCA9IGxlcnAoeDEsIHgyLCBpbnRlcnBvbGF0ZSk7XG4gIGNvbnN0IGJlZ2luWSA9IGxlcnAoeTEsIHkyLCBpbnRlcnBvbGF0ZSk7XG5cbiAgY29uc3Qgc3RhcnRPZmZzZXQgPSBvZmZzZXQgLSBzdHJpZGU7XG4gIGNvbnN0IHN0YXJ0TGVuZ3RoID0gc2VnbWVudE07XG4gIGNvbnN0IGVuZE0gPSBzdGFydE0gKyBzY2FsZSAqIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aChmb250LCB0ZXh0LCBjYWNoZSk7XG4gIHdoaWxlIChvZmZzZXQgPCBlbmQgLSBzdHJpZGUgJiYgc2VnbWVudE0gKyBzZWdtZW50TGVuZ3RoIDwgZW5kTSkge1xuICAgIGFkdmFuY2UoKTtcbiAgfVxuICBpbnRlcnBvbGF0ZSA9IHNlZ21lbnRMZW5ndGggPT09IDAgPyAwIDogKGVuZE0gLSBzZWdtZW50TSkgLyBzZWdtZW50TGVuZ3RoO1xuICBjb25zdCBlbmRYID0gbGVycCh4MSwgeDIsIGludGVycG9sYXRlKTtcbiAgY29uc3QgZW5kWSA9IGxlcnAoeTEsIHkyLCBpbnRlcnBvbGF0ZSk7XG5cbiAgLy8gS2VlcCB0ZXh0IHVwcmlnaHRcbiAgbGV0IHJldmVyc2U7XG4gIGlmIChyb3RhdGlvbikge1xuICAgIGNvbnN0IGZsYXQgPSBbYmVnaW5YLCBiZWdpblksIGVuZFgsIGVuZFldO1xuICAgIHJvdGF0ZShmbGF0LCAwLCA0LCAyLCByb3RhdGlvbiwgZmxhdCwgZmxhdCk7XG4gICAgcmV2ZXJzZSA9IGZsYXRbMF0gPiBmbGF0WzJdO1xuICB9IGVsc2Uge1xuICAgIHJldmVyc2UgPSBiZWdpblggPiBlbmRYO1xuICB9XG5cbiAgY29uc3QgUEkgPSBNYXRoLlBJO1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgY29uc3Qgc2luZ2xlU2VnbWVudCA9IHN0YXJ0T2Zmc2V0ICsgc3RyaWRlID09PSBvZmZzZXQ7XG5cbiAgb2Zmc2V0ID0gc3RhcnRPZmZzZXQ7XG4gIHNlZ21lbnRMZW5ndGggPSAwO1xuICBzZWdtZW50TSA9IHN0YXJ0TGVuZ3RoO1xuICB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcblxuICBsZXQgcHJldmlvdXNBbmdsZTtcbiAgLy8gQWxsIG9uIHRoZSBzYW1lIHNlZ21lbnRcbiAgaWYgKHNpbmdsZVNlZ21lbnQpIHtcbiAgICBhZHZhbmNlKCk7XG5cbiAgICBwcmV2aW91c0FuZ2xlID0gTWF0aC5hdGFuMih5MiAtIHkxLCB4MiAtIHgxKTtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcHJldmlvdXNBbmdsZSArPSBwcmV2aW91c0FuZ2xlID4gMCA/IC1QSSA6IFBJO1xuICAgIH1cbiAgICBjb25zdCB4ID0gKGVuZFggKyBiZWdpblgpIC8gMjtcbiAgICBjb25zdCB5ID0gKGVuZFkgKyBiZWdpblkpIC8gMjtcbiAgICByZXN1bHRbMF0gPSBbeCwgeSwgKGVuZE0gLSBzdGFydE0pIC8gMiwgcHJldmlvdXNBbmdsZSwgdGV4dF07XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIHJlbmRlcmluZyBhY3Jvc3MgbGluZSBzZWdtZW50c1xuICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXG4vZywgJyAnKTsgLy8gZW5zdXJlIHJlbmRlcmluZyBpbiBzaW5nbGUtbGluZSBhcyBhbGwgY2FsY3VsYXRpb25zIGJlbG93IGRvbid0IGhhbmRsZSBtdWx0aS1saW5lc1xuXG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IHRleHQubGVuZ3RoOyBpIDwgaWk7ICkge1xuICAgIGFkdmFuY2UoKTtcbiAgICBsZXQgYW5nbGUgPSBNYXRoLmF0YW4yKHkyIC0geTEsIHgyIC0geDEpO1xuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICBhbmdsZSArPSBhbmdsZSA+IDAgPyAtUEkgOiBQSTtcbiAgICB9XG4gICAgaWYgKHByZXZpb3VzQW5nbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IGRlbHRhID0gYW5nbGUgLSBwcmV2aW91c0FuZ2xlO1xuICAgICAgZGVsdGEgKz0gZGVsdGEgPiBQSSA/IC0yICogUEkgOiBkZWx0YSA8IC1QSSA/IDIgKiBQSSA6IDA7XG4gICAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gbWF4QW5nbGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHByZXZpb3VzQW5nbGUgPSBhbmdsZTtcblxuICAgIGNvbnN0IGlTdGFydCA9IGk7XG4gICAgbGV0IGNoYXJMZW5ndGggPSAwO1xuICAgIGZvciAoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgaW5kZXggPSByZXZlcnNlID8gaWkgLSBpIC0gMSA6IGk7XG4gICAgICBjb25zdCBsZW4gPSBzY2FsZSAqIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aChmb250LCB0ZXh0W2luZGV4XSwgY2FjaGUpO1xuICAgICAgaWYgKFxuICAgICAgICBvZmZzZXQgKyBzdHJpZGUgPCBlbmQgJiZcbiAgICAgICAgc2VnbWVudE0gKyBzZWdtZW50TGVuZ3RoIDwgc3RhcnRNICsgY2hhckxlbmd0aCArIGxlbiAvIDJcbiAgICAgICkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNoYXJMZW5ndGggKz0gbGVuO1xuICAgIH1cbiAgICBpZiAoaSA9PT0gaVN0YXJ0KSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgY2hhcnMgPSByZXZlcnNlXG4gICAgICA/IHRleHQuc3Vic3RyaW5nKGlpIC0gaVN0YXJ0LCBpaSAtIGkpXG4gICAgICA6IHRleHQuc3Vic3RyaW5nKGlTdGFydCwgaSk7XG4gICAgaW50ZXJwb2xhdGUgPVxuICAgICAgc2VnbWVudExlbmd0aCA9PT0gMFxuICAgICAgICA/IDBcbiAgICAgICAgOiAoc3RhcnRNICsgY2hhckxlbmd0aCAvIDIgLSBzZWdtZW50TSkgLyBzZWdtZW50TGVuZ3RoO1xuICAgIGNvbnN0IHggPSBsZXJwKHgxLCB4MiwgaW50ZXJwb2xhdGUpO1xuICAgIGNvbnN0IHkgPSBsZXJwKHkxLCB5MiwgaW50ZXJwb2xhdGUpO1xuICAgIHJlc3VsdC5wdXNoKFt4LCB5LCBjaGFyTGVuZ3RoIC8gMiwgYW5nbGUsIGNoYXJzXSk7XG4gICAgc3RhcnRNICs9IGNoYXJMZW5ndGg7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvbGVuZ3RoXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBMZW5ndGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lU3RyaW5nTGVuZ3RoKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICBsZXQgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgbGV0IHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICBsZXQgbGVuZ3RoID0gMDtcbiAgZm9yIChsZXQgaSA9IG9mZnNldCArIHN0cmlkZTsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICBjb25zdCB4MiA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICBjb25zdCB5MiA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgbGVuZ3RoICs9IE1hdGguc3FydCgoeDIgLSB4MSkgKiAoeDIgLSB4MSkgKyAoeTIgLSB5MSkgKiAoeTIgLSB5MSkpO1xuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICByZXR1cm4gbGVuZ3RoO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFBlcmltZXRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdMZW5ndGgoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gIGxldCBwZXJpbWV0ZXIgPSBsaW5lU3RyaW5nTGVuZ3RoKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG4gIGNvbnN0IGR4ID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZV0gLSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgY29uc3QgZHkgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV0gLSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gIHBlcmltZXRlciArPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICByZXR1cm4gcGVyaW1ldGVyO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvRXhlY3V0b3JcbiAqL1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uIGZyb20gJy4vSW5zdHJ1Y3Rpb24uanMnO1xuaW1wb3J0IHtURVhUX0FMSUdOfSBmcm9tICcuL1RleHRCdWlsZGVyLmpzJztcbmltcG9ydCB7XG4gIGFwcGx5IGFzIGFwcGx5VHJhbnNmb3JtLFxuICBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sXG4gIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sXG4gIHNldEZyb21BcnJheSBhcyB0cmFuc2Zvcm1TZXRGcm9tQXJyYXksXG59IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQge2NyZWF0ZUVtcHR5LCBjcmVhdGVPclVwZGF0ZSwgaW50ZXJzZWN0c30gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7XG4gIGRlZmF1bHRQYWRkaW5nLFxuICBkZWZhdWx0VGV4dEFsaWduLFxuICBkZWZhdWx0VGV4dEJhc2VsaW5lLFxuICBkcmF3SW1hZ2VPckxhYmVsLFxuICBnZXRUZXh0RGltZW5zaW9ucyxcbiAgbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoLFxufSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHtkcmF3VGV4dE9uUGF0aH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3RleHRwYXRoLmpzJztcbmltcG9ydCB7ZXF1YWxzfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQge2xpbmVTdHJpbmdMZW5ndGh9IGZyb20gJy4uLy4uL2dlb20vZmxhdC9sZW5ndGguanMnO1xuaW1wb3J0IHt0cmFuc2Zvcm0yRH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3RyYW5zZm9ybS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQkJveFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblggTWluaW1hbCB4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblkgTWluaW1hbCB5LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFggTWF4aW1hbCB4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFkgTWF4aW1hbCB5XG4gKiBAcHJvcGVydHkgeyp9IHZhbHVlIFZhbHVlLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gSW1hZ2VPckxhYmVsRGltZW5zaW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYXdJbWFnZVggRHJhd0ltYWdlWC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkcmF3SW1hZ2VZIERyYXdJbWFnZVkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHJhd0ltYWdlVyBEcmF3SW1hZ2VXLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYXdJbWFnZUggRHJhd0ltYWdlSC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvcmlnaW5YIE9yaWdpblguXG4gKiBAcHJvcGVydHkge251bWJlcn0gb3JpZ2luWSBPcmlnaW5ZLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBzY2FsZSBTY2FsZS5cbiAqIEBwcm9wZXJ0eSB7QkJveH0gZGVjbHV0dGVyQm94IERlY2x1dHRlckJveC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gY2FudmFzVHJhbnNmb3JtIENhbnZhc1RyYW5zZm9ybS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7MDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCAxOiBudW1iZXIsIDI6IGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5MYWJlbHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnQsIDM6IEltYWdlT3JMYWJlbERpbWVuc2lvbnMsIDQ6IG51bWJlciwgNTogQXJyYXk8Kj4sIDY6IEFycmF5PCo+fX0gUmVwbGF5SW1hZ2VPckxhYmVsQXJnc1xuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQpOiBUfSBGZWF0dXJlQ2FsbGJhY2tcbiAqL1xuXG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICovXG5jb25zdCB0bXBFeHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuXG4vKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbmNvbnN0IHAxID0gW107XG4vKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbmNvbnN0IHAyID0gW107XG4vKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbmNvbnN0IHAzID0gW107XG4vKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbmNvbnN0IHA0ID0gW107XG5cbi8qKlxuICogQHBhcmFtIHtSZXBsYXlJbWFnZU9yTGFiZWxBcmdzfSByZXBsYXlJbWFnZU9yTGFiZWxBcmdzIEFyZ3VtZW50cyB0byByZXBsYXlJbWFnZU9yTGFiZWxcbiAqIEByZXR1cm4ge0JCb3h9IERlY2x1dHRlciBiYm94LlxuICovXG5mdW5jdGlvbiBnZXREZWNsdXR0ZXJCb3gocmVwbGF5SW1hZ2VPckxhYmVsQXJncykge1xuICByZXR1cm4gcmVwbGF5SW1hZ2VPckxhYmVsQXJnc1szXS5kZWNsdXR0ZXJCb3g7XG59XG5cbmNvbnN0IHJ0bFJlZ0V4ID0gbmV3IFJlZ0V4cChcbiAgLyogZXNsaW50LWRpc2FibGUgcHJldHRpZXIvcHJldHRpZXIgKi9cbiAgJ1snICtcbiAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MDA1OTEpICsgJy0nICsgU3RyaW5nLmZyb21DaGFyQ29kZSgweDAwOGZmKSArXG4gICAgU3RyaW5nLmZyb21DaGFyQ29kZSgweDBmYjFkKSArICctJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwZmRmZikgK1xuICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwZmU3MCkgKyAnLScgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MGZlZmMpICtcbiAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MTA4MDApICsgJy0nICsgU3RyaW5nLmZyb21DaGFyQ29kZSgweDEwZmZmKSArXG4gICAgU3RyaW5nLmZyb21DaGFyQ29kZSgweDFlODAwKSArICctJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxZWZmZikgK1xuICAnXSdcbiAgLyogZXNsaW50LWVuYWJsZSBwcmV0dGllci9wcmV0dGllciAqL1xuKTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0LlxuICogQHBhcmFtIHtDYW52YXNUZXh0QWxpZ259IGFsaWduIEFsaWdubWVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGV4dCBhbGlnbm1lbnQuXG4gKi9cbmZ1bmN0aW9uIGhvcml6b250YWxUZXh0QWxpZ24odGV4dCwgYWxpZ24pIHtcbiAgaWYgKChhbGlnbiA9PT0gJ3N0YXJ0JyB8fCBhbGlnbiA9PT0gJ2VuZCcpICYmICFydGxSZWdFeC50ZXN0KHRleHQpKSB7XG4gICAgYWxpZ24gPSBhbGlnbiA9PT0gJ3N0YXJ0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gIH1cbiAgcmV0dXJuIFRFWFRfQUxJR05bYWxpZ25dO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gYWNjIEFjY3VtdWxhdG9yLlxuICogQHBhcmFtIHtzdHJpbmd9IGxpbmUgTGluZSBvZiB0ZXh0LlxuICogQHBhcmFtIHtudW1iZXJ9IGkgSW5kZXhcbiAqIEByZXR1cm4ge0FycmF5PHN0cmluZz59IEFjY3VtdWxhdG9yLlxuICovXG5mdW5jdGlvbiBjcmVhdGVUZXh0Q2h1bmtzKGFjYywgbGluZSwgaSkge1xuICBpZiAoaSA+IDApIHtcbiAgICBhY2MucHVzaCgnXFxuJywgJycpO1xuICB9XG4gIGFjYy5wdXNoKGxpbmUsICcnKTtcbiAgcmV0dXJuIGFjYztcbn1cblxuY2xhc3MgRXhlY3V0b3Ige1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3ZlcmxhcHMgVGhlIHJlcGxheSBjYW4gaGF2ZSBvdmVybGFwcGluZyBnZW9tZXRyaWVzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnN9IGluc3RydWN0aW9ucyBUaGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3IocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgb3ZlcmxhcHMsIGluc3RydWN0aW9ucykge1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm92ZXJsYXBzID0gb3ZlcmxhcHM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5hbGlnbkZpbGxfO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgKi9cbiAgICB0aGlzLmluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucy5pbnN0cnVjdGlvbnM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5jb29yZGluYXRlcyA9IGluc3RydWN0aW9ucy5jb29yZGluYXRlcztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8bnVtYmVyLGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fEFycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmNvb3JkaW5hdGVDYWNoZV8gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRUcmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAqL1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zLmhpdERldGVjdGlvbkluc3RydWN0aW9ucztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5waXhlbENvb3JkaW5hdGVzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy52aWV3Um90YXRpb25fID0gMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZT59XG4gICAgICovXG4gICAgdGhpcy5maWxsU3RhdGVzID0gaW5zdHJ1Y3Rpb25zLmZpbGxTdGF0ZXMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZT59XG4gICAgICovXG4gICAgdGhpcy5zdHJva2VTdGF0ZXMgPSBpbnN0cnVjdGlvbnMuc3Ryb2tlU3RhdGVzIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlPn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRTdGF0ZXMgPSBpbnN0cnVjdGlvbnMudGV4dFN0YXRlcyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIG51bWJlcj4+fVxuICAgICAqL1xuICAgIHRoaXMud2lkdGhzXyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsPn1cbiAgICAgKi9cbiAgICB0aGlzLmxhYmVsc18gPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSB0ZXh0IFRleHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0S2V5IFRleHQgc3R5bGUga2V5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsbEtleSBGaWxsIHN0eWxlIGtleS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cm9rZUtleSBTdHJva2Ugc3R5bGUga2V5LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuTGFiZWx9IExhYmVsLlxuICAgKi9cbiAgY3JlYXRlTGFiZWwodGV4dCwgdGV4dEtleSwgZmlsbEtleSwgc3Ryb2tlS2V5KSB7XG4gICAgY29uc3Qga2V5ID0gdGV4dCArIHRleHRLZXkgKyBmaWxsS2V5ICsgc3Ryb2tlS2V5O1xuICAgIGlmICh0aGlzLmxhYmVsc19ba2V5XSkge1xuICAgICAgcmV0dXJuIHRoaXMubGFiZWxzX1trZXldO1xuICAgIH1cbiAgICBjb25zdCBzdHJva2VTdGF0ZSA9IHN0cm9rZUtleSA/IHRoaXMuc3Ryb2tlU3RhdGVzW3N0cm9rZUtleV0gOiBudWxsO1xuICAgIGNvbnN0IGZpbGxTdGF0ZSA9IGZpbGxLZXkgPyB0aGlzLmZpbGxTdGF0ZXNbZmlsbEtleV0gOiBudWxsO1xuICAgIGNvbnN0IHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlc1t0ZXh0S2V5XTtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgIGNvbnN0IHNjYWxlID0gW1xuICAgICAgdGV4dFN0YXRlLnNjYWxlWzBdICogcGl4ZWxSYXRpbyxcbiAgICAgIHRleHRTdGF0ZS5zY2FsZVsxXSAqIHBpeGVsUmF0aW8sXG4gICAgXTtcbiAgICBjb25zdCB0ZXh0SXNBcnJheSA9IEFycmF5LmlzQXJyYXkodGV4dCk7XG4gICAgY29uc3QgYWxpZ24gPSB0ZXh0U3RhdGUuanVzdGlmeVxuICAgICAgPyBURVhUX0FMSUdOW3RleHRTdGF0ZS5qdXN0aWZ5XVxuICAgICAgOiBob3Jpem9udGFsVGV4dEFsaWduKFxuICAgICAgICAgIEFycmF5LmlzQXJyYXkodGV4dCkgPyB0ZXh0WzBdIDogdGV4dCxcbiAgICAgICAgICB0ZXh0U3RhdGUudGV4dEFsaWduIHx8IGRlZmF1bHRUZXh0QWxpZ25cbiAgICAgICAgKTtcbiAgICBjb25zdCBzdHJva2VXaWR0aCA9XG4gICAgICBzdHJva2VLZXkgJiYgc3Ryb2tlU3RhdGUubGluZVdpZHRoID8gc3Ryb2tlU3RhdGUubGluZVdpZHRoIDogMDtcblxuICAgIGNvbnN0IGNodW5rcyA9IHRleHRJc0FycmF5XG4gICAgICA/IHRleHRcbiAgICAgIDogdGV4dC5zcGxpdCgnXFxuJykucmVkdWNlKGNyZWF0ZVRleHRDaHVua3MsIFtdKTtcblxuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0LCB3aWR0aHMsIGhlaWdodHMsIGxpbmVXaWR0aHN9ID0gZ2V0VGV4dERpbWVuc2lvbnMoXG4gICAgICB0ZXh0U3RhdGUsXG4gICAgICBjaHVua3NcbiAgICApO1xuICAgIGNvbnN0IHJlbmRlcldpZHRoID0gd2lkdGggKyBzdHJva2VXaWR0aDtcbiAgICBjb25zdCBjb250ZXh0SW5zdHJ1Y3Rpb25zID0gW107XG4gICAgLy8gbWFrZSBjYW52YXMgMiBwaXhlbHMgd2lkZXIgdG8gYWNjb3VudCBmb3IgaXRhbGljIHRleHQgd2lkdGggbWVhc3VyZW1lbnQgZXJyb3JzXG4gICAgY29uc3QgdyA9IChyZW5kZXJXaWR0aCArIDIpICogc2NhbGVbMF07XG4gICAgY29uc3QgaCA9IChoZWlnaHQgKyBzdHJva2VXaWR0aCkgKiBzY2FsZVsxXTtcbiAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5MYWJlbH0gKi9cbiAgICBjb25zdCBsYWJlbCA9IHtcbiAgICAgIHdpZHRoOiB3IDwgMCA/IE1hdGguZmxvb3IodykgOiBNYXRoLmNlaWwodyksXG4gICAgICBoZWlnaHQ6IGggPCAwID8gTWF0aC5mbG9vcihoKSA6IE1hdGguY2VpbChoKSxcbiAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnM6IGNvbnRleHRJbnN0cnVjdGlvbnMsXG4gICAgfTtcbiAgICBpZiAoc2NhbGVbMF0gIT0gMSB8fCBzY2FsZVsxXSAhPSAxKSB7XG4gICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3NjYWxlJywgc2NhbGUpO1xuICAgIH1cbiAgICBpZiAoc3Ryb2tlS2V5KSB7XG4gICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3N0cm9rZVN0eWxlJywgc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUpO1xuICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdsaW5lV2lkdGgnLCBzdHJva2VXaWR0aCk7XG4gICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ2xpbmVDYXAnLCBzdHJva2VTdGF0ZS5saW5lQ2FwKTtcbiAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnbGluZUpvaW4nLCBzdHJva2VTdGF0ZS5saW5lSm9pbik7XG4gICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ21pdGVyTGltaXQnLCBzdHJva2VTdGF0ZS5taXRlckxpbWl0KTtcbiAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnc2V0TGluZURhc2gnLCBbc3Ryb2tlU3RhdGUubGluZURhc2hdKTtcbiAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnbGluZURhc2hPZmZzZXQnLCBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCk7XG4gICAgfVxuICAgIGlmIChmaWxsS2V5KSB7XG4gICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ2ZpbGxTdHlsZScsIGZpbGxTdGF0ZS5maWxsU3R5bGUpO1xuICAgIH1cbiAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3RleHRCYXNlbGluZScsICdtaWRkbGUnKTtcbiAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3RleHRBbGlnbicsICdjZW50ZXInKTtcbiAgICBjb25zdCBsZWZ0UmlnaHQgPSAwLjUgLSBhbGlnbjtcbiAgICBsZXQgeCA9IGFsaWduICogcmVuZGVyV2lkdGggKyBsZWZ0UmlnaHQgKiBzdHJva2VXaWR0aDtcbiAgICBjb25zdCBzdHJva2VJbnN0cnVjdGlvbnMgPSBbXTtcbiAgICBjb25zdCBmaWxsSW5zdHJ1Y3Rpb25zID0gW107XG4gICAgbGV0IGxpbmVIZWlnaHQgPSAwO1xuICAgIGxldCBsaW5lT2Zmc2V0ID0gMDtcbiAgICBsZXQgd2lkdGhIZWlnaHRJbmRleCA9IDA7XG4gICAgbGV0IGxpbmVXaWR0aEluZGV4ID0gMDtcbiAgICBsZXQgcHJldmlvdXNGb250O1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGNodW5rcy5sZW5ndGg7IGkgPCBpaTsgaSArPSAyKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gY2h1bmtzW2ldO1xuICAgICAgaWYgKHRleHQgPT09ICdcXG4nKSB7XG4gICAgICAgIGxpbmVPZmZzZXQgKz0gbGluZUhlaWdodDtcbiAgICAgICAgbGluZUhlaWdodCA9IDA7XG4gICAgICAgIHggPSBhbGlnbiAqIHJlbmRlcldpZHRoICsgbGVmdFJpZ2h0ICogc3Ryb2tlV2lkdGg7XG4gICAgICAgICsrbGluZVdpZHRoSW5kZXg7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgZm9udCA9IGNodW5rc1tpICsgMV0gfHwgdGV4dFN0YXRlLmZvbnQ7XG4gICAgICBpZiAoZm9udCAhPT0gcHJldmlvdXNGb250KSB7XG4gICAgICAgIGlmIChzdHJva2VLZXkpIHtcbiAgICAgICAgICBzdHJva2VJbnN0cnVjdGlvbnMucHVzaCgnZm9udCcsIGZvbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWxsS2V5KSB7XG4gICAgICAgICAgZmlsbEluc3RydWN0aW9ucy5wdXNoKCdmb250JywgZm9udCk7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNGb250ID0gZm9udDtcbiAgICAgIH1cbiAgICAgIGxpbmVIZWlnaHQgPSBNYXRoLm1heChsaW5lSGVpZ2h0LCBoZWlnaHRzW3dpZHRoSGVpZ2h0SW5kZXhdKTtcbiAgICAgIGNvbnN0IGZpbGxTdHJva2VBcmdzID0gW1xuICAgICAgICB0ZXh0LFxuICAgICAgICB4ICtcbiAgICAgICAgICBsZWZ0UmlnaHQgKiB3aWR0aHNbd2lkdGhIZWlnaHRJbmRleF0gK1xuICAgICAgICAgIGFsaWduICogKHdpZHRoc1t3aWR0aEhlaWdodEluZGV4XSAtIGxpbmVXaWR0aHNbbGluZVdpZHRoSW5kZXhdKSxcbiAgICAgICAgMC41ICogKHN0cm9rZVdpZHRoICsgbGluZUhlaWdodCkgKyBsaW5lT2Zmc2V0LFxuICAgICAgXTtcbiAgICAgIHggKz0gd2lkdGhzW3dpZHRoSGVpZ2h0SW5kZXhdO1xuICAgICAgaWYgKHN0cm9rZUtleSkge1xuICAgICAgICBzdHJva2VJbnN0cnVjdGlvbnMucHVzaCgnc3Ryb2tlVGV4dCcsIGZpbGxTdHJva2VBcmdzKTtcbiAgICAgIH1cbiAgICAgIGlmIChmaWxsS2V5KSB7XG4gICAgICAgIGZpbGxJbnN0cnVjdGlvbnMucHVzaCgnZmlsbFRleHQnLCBmaWxsU3Ryb2tlQXJncyk7XG4gICAgICB9XG4gICAgICArK3dpZHRoSGVpZ2h0SW5kZXg7XG4gICAgfVxuICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGNvbnRleHRJbnN0cnVjdGlvbnMsIHN0cm9rZUluc3RydWN0aW9ucyk7XG4gICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoY29udGV4dEluc3RydWN0aW9ucywgZmlsbEluc3RydWN0aW9ucyk7XG4gICAgdGhpcy5sYWJlbHNfW2tleV0gPSBsYWJlbDtcbiAgICByZXR1cm4gbGFiZWw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHAxIDFzdCBwb2ludCBvZiB0aGUgYmFja2dyb3VuZCBib3guXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwMiAybmQgcG9pbnQgb2YgdGhlIGJhY2tncm91bmQgYm94LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcDMgM3JkIHBvaW50IG9mIHRoZSBiYWNrZ3JvdW5kIGJveC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHA0IDR0aCBwb2ludCBvZiB0aGUgYmFja2dyb3VuZCBib3guXG4gICAqIEBwYXJhbSB7QXJyYXk8Kj59IGZpbGxJbnN0cnVjdGlvbiBGaWxsIGluc3RydWN0aW9uLlxuICAgKiBAcGFyYW0ge0FycmF5PCo+fSBzdHJva2VJbnN0cnVjdGlvbiBTdHJva2UgaW5zdHJ1Y3Rpb24uXG4gICAqL1xuICByZXBsYXlUZXh0QmFja2dyb3VuZF8oXG4gICAgY29udGV4dCxcbiAgICBwMSxcbiAgICBwMixcbiAgICBwMyxcbiAgICBwNCxcbiAgICBmaWxsSW5zdHJ1Y3Rpb24sXG4gICAgc3Ryb2tlSW5zdHJ1Y3Rpb25cbiAgKSB7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0Lm1vdmVUby5hcHBseShjb250ZXh0LCBwMSk7XG4gICAgY29udGV4dC5saW5lVG8uYXBwbHkoY29udGV4dCwgcDIpO1xuICAgIGNvbnRleHQubGluZVRvLmFwcGx5KGNvbnRleHQsIHAzKTtcbiAgICBjb250ZXh0LmxpbmVUby5hcHBseShjb250ZXh0LCBwNCk7XG4gICAgY29udGV4dC5saW5lVG8uYXBwbHkoY29udGV4dCwgcDEpO1xuICAgIGlmIChmaWxsSW5zdHJ1Y3Rpb24pIHtcbiAgICAgIHRoaXMuYWxpZ25GaWxsXyA9IC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKGZpbGxJbnN0cnVjdGlvblsyXSk7XG4gICAgICB0aGlzLmZpbGxfKGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAoc3Ryb2tlSW5zdHJ1Y3Rpb24pIHtcbiAgICAgIHRoaXMuc2V0U3Ryb2tlU3R5bGVfKFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAoc3Ryb2tlSW5zdHJ1Y3Rpb24pXG4gICAgICApO1xuICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNoZWV0V2lkdGggV2lkdGggb2YgdGhlIHNwcml0ZSBzaGVldC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNoZWV0SGVpZ2h0IEhlaWdodCBvZiB0aGUgc3ByaXRlIHNoZWV0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gY2VudGVyWCBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0gY2VudGVyWSBZLlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggV2lkdGguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gYW5jaG9yWCBBbmNob3IgWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGFuY2hvclkgQW5jaG9yIFkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvcmlnaW5YIE9yaWdpbiBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWSBPcmlnaW4gWS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZX0gc2NhbGUgU2NhbGUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc25hcFRvUGl4ZWwgU25hcCB0byBwaXhlbC5cbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBwYWRkaW5nIFBhZGRpbmcuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmlsbFN0cm9rZSBCYWNrZ3JvdW5kIGZpbGwgb3Igc3Ryb2tlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHJldHVybiB7SW1hZ2VPckxhYmVsRGltZW5zaW9uc30gRGltZW5zaW9ucyBmb3IgcG9zaXRpb25pbmcgYW5kIGRlY2x1dHRlcmluZyB0aGUgaW1hZ2Ugb3IgbGFiZWwuXG4gICAqL1xuICBjYWxjdWxhdGVJbWFnZU9yTGFiZWxEaW1lbnNpb25zXyhcbiAgICBzaGVldFdpZHRoLFxuICAgIHNoZWV0SGVpZ2h0LFxuICAgIGNlbnRlclgsXG4gICAgY2VudGVyWSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgYW5jaG9yWCxcbiAgICBhbmNob3JZLFxuICAgIG9yaWdpblgsXG4gICAgb3JpZ2luWSxcbiAgICByb3RhdGlvbixcbiAgICBzY2FsZSxcbiAgICBzbmFwVG9QaXhlbCxcbiAgICBwYWRkaW5nLFxuICAgIGZpbGxTdHJva2UsXG4gICAgZmVhdHVyZVxuICApIHtcbiAgICBhbmNob3JYICo9IHNjYWxlWzBdO1xuICAgIGFuY2hvclkgKj0gc2NhbGVbMV07XG4gICAgbGV0IHggPSBjZW50ZXJYIC0gYW5jaG9yWDtcbiAgICBsZXQgeSA9IGNlbnRlclkgLSBhbmNob3JZO1xuXG4gICAgY29uc3QgdyA9IHdpZHRoICsgb3JpZ2luWCA+IHNoZWV0V2lkdGggPyBzaGVldFdpZHRoIC0gb3JpZ2luWCA6IHdpZHRoO1xuICAgIGNvbnN0IGggPSBoZWlnaHQgKyBvcmlnaW5ZID4gc2hlZXRIZWlnaHQgPyBzaGVldEhlaWdodCAtIG9yaWdpblkgOiBoZWlnaHQ7XG4gICAgY29uc3QgYm94VyA9IHBhZGRpbmdbM10gKyB3ICogc2NhbGVbMF0gKyBwYWRkaW5nWzFdO1xuICAgIGNvbnN0IGJveEggPSBwYWRkaW5nWzBdICsgaCAqIHNjYWxlWzFdICsgcGFkZGluZ1syXTtcbiAgICBjb25zdCBib3hYID0geCAtIHBhZGRpbmdbM107XG4gICAgY29uc3QgYm94WSA9IHkgLSBwYWRkaW5nWzBdO1xuXG4gICAgaWYgKGZpbGxTdHJva2UgfHwgcm90YXRpb24gIT09IDApIHtcbiAgICAgIHAxWzBdID0gYm94WDtcbiAgICAgIHA0WzBdID0gYm94WDtcbiAgICAgIHAxWzFdID0gYm94WTtcbiAgICAgIHAyWzFdID0gYm94WTtcbiAgICAgIHAyWzBdID0gYm94WCArIGJveFc7XG4gICAgICBwM1swXSA9IHAyWzBdO1xuICAgICAgcDNbMV0gPSBib3hZICsgYm94SDtcbiAgICAgIHA0WzFdID0gcDNbMV07XG4gICAgfVxuXG4gICAgbGV0IHRyYW5zZm9ybTtcbiAgICBpZiAocm90YXRpb24gIT09IDApIHtcbiAgICAgIHRyYW5zZm9ybSA9IGNvbXBvc2VUcmFuc2Zvcm0oXG4gICAgICAgIGNyZWF0ZVRyYW5zZm9ybSgpLFxuICAgICAgICBjZW50ZXJYLFxuICAgICAgICBjZW50ZXJZLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICByb3RhdGlvbixcbiAgICAgICAgLWNlbnRlclgsXG4gICAgICAgIC1jZW50ZXJZXG4gICAgICApO1xuXG4gICAgICBhcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm0sIHAxKTtcbiAgICAgIGFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybSwgcDIpO1xuICAgICAgYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtLCBwMyk7XG4gICAgICBhcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm0sIHA0KTtcbiAgICAgIGNyZWF0ZU9yVXBkYXRlKFxuICAgICAgICBNYXRoLm1pbihwMVswXSwgcDJbMF0sIHAzWzBdLCBwNFswXSksXG4gICAgICAgIE1hdGgubWluKHAxWzFdLCBwMlsxXSwgcDNbMV0sIHA0WzFdKSxcbiAgICAgICAgTWF0aC5tYXgocDFbMF0sIHAyWzBdLCBwM1swXSwgcDRbMF0pLFxuICAgICAgICBNYXRoLm1heChwMVsxXSwgcDJbMV0sIHAzWzFdLCBwNFsxXSksXG4gICAgICAgIHRtcEV4dGVudFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3JlYXRlT3JVcGRhdGUoXG4gICAgICAgIE1hdGgubWluKGJveFgsIGJveFggKyBib3hXKSxcbiAgICAgICAgTWF0aC5taW4oYm94WSwgYm94WSArIGJveEgpLFxuICAgICAgICBNYXRoLm1heChib3hYLCBib3hYICsgYm94VyksXG4gICAgICAgIE1hdGgubWF4KGJveFksIGJveFkgKyBib3hIKSxcbiAgICAgICAgdG1wRXh0ZW50XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoc25hcFRvUGl4ZWwpIHtcbiAgICAgIHggPSBNYXRoLnJvdW5kKHgpO1xuICAgICAgeSA9IE1hdGgucm91bmQoeSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBkcmF3SW1hZ2VYOiB4LFxuICAgICAgZHJhd0ltYWdlWTogeSxcbiAgICAgIGRyYXdJbWFnZVc6IHcsXG4gICAgICBkcmF3SW1hZ2VIOiBoLFxuICAgICAgb3JpZ2luWDogb3JpZ2luWCxcbiAgICAgIG9yaWdpblk6IG9yaWdpblksXG4gICAgICBkZWNsdXR0ZXJCb3g6IHtcbiAgICAgICAgbWluWDogdG1wRXh0ZW50WzBdLFxuICAgICAgICBtaW5ZOiB0bXBFeHRlbnRbMV0sXG4gICAgICAgIG1heFg6IHRtcEV4dGVudFsyXSxcbiAgICAgICAgbWF4WTogdG1wRXh0ZW50WzNdLFxuICAgICAgICB2YWx1ZTogZmVhdHVyZSxcbiAgICAgIH0sXG4gICAgICBjYW52YXNUcmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZXh0U2NhbGUgU2NhbGUgb2YgdGhlIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gaW1hZ2VPckxhYmVsIEltYWdlLlxuICAgKiBAcGFyYW0ge0ltYWdlT3JMYWJlbERpbWVuc2lvbnN9IGRpbWVuc2lvbnMgRGltZW5zaW9ucy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eS5cbiAgICogQHBhcmFtIHtBcnJheTwqPn0gZmlsbEluc3RydWN0aW9uIEZpbGwgaW5zdHJ1Y3Rpb24uXG4gICAqIEBwYXJhbSB7QXJyYXk8Kj59IHN0cm9rZUluc3RydWN0aW9uIFN0cm9rZSBpbnN0cnVjdGlvbi5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGltYWdlIG9yIGxhYmVsIHdhcyByZW5kZXJlZC5cbiAgICovXG4gIHJlcGxheUltYWdlT3JMYWJlbF8oXG4gICAgY29udGV4dCxcbiAgICBjb250ZXh0U2NhbGUsXG4gICAgaW1hZ2VPckxhYmVsLFxuICAgIGRpbWVuc2lvbnMsXG4gICAgb3BhY2l0eSxcbiAgICBmaWxsSW5zdHJ1Y3Rpb24sXG4gICAgc3Ryb2tlSW5zdHJ1Y3Rpb25cbiAgKSB7XG4gICAgY29uc3QgZmlsbFN0cm9rZSA9ICEhKGZpbGxJbnN0cnVjdGlvbiB8fCBzdHJva2VJbnN0cnVjdGlvbik7XG5cbiAgICBjb25zdCBib3ggPSBkaW1lbnNpb25zLmRlY2x1dHRlckJveDtcbiAgICBjb25zdCBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICBjb25zdCBzdHJva2VQYWRkaW5nID0gc3Ryb2tlSW5zdHJ1Y3Rpb25cbiAgICAgID8gKHN0cm9rZUluc3RydWN0aW9uWzJdICogZGltZW5zaW9ucy5zY2FsZVswXSkgLyAyXG4gICAgICA6IDA7XG4gICAgY29uc3QgaW50ZXJzZWN0cyA9XG4gICAgICBib3gubWluWCAtIHN0cm9rZVBhZGRpbmcgPD0gY2FudmFzLndpZHRoIC8gY29udGV4dFNjYWxlICYmXG4gICAgICBib3gubWF4WCArIHN0cm9rZVBhZGRpbmcgPj0gMCAmJlxuICAgICAgYm94Lm1pblkgLSBzdHJva2VQYWRkaW5nIDw9IGNhbnZhcy5oZWlnaHQgLyBjb250ZXh0U2NhbGUgJiZcbiAgICAgIGJveC5tYXhZICsgc3Ryb2tlUGFkZGluZyA+PSAwO1xuXG4gICAgaWYgKGludGVyc2VjdHMpIHtcbiAgICAgIGlmIChmaWxsU3Ryb2tlKSB7XG4gICAgICAgIHRoaXMucmVwbGF5VGV4dEJhY2tncm91bmRfKFxuICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgcDEsXG4gICAgICAgICAgcDIsXG4gICAgICAgICAgcDMsXG4gICAgICAgICAgcDQsXG4gICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKGZpbGxJbnN0cnVjdGlvbiksXG4gICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKHN0cm9rZUluc3RydWN0aW9uKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZHJhd0ltYWdlT3JMYWJlbChcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgZGltZW5zaW9ucy5jYW52YXNUcmFuc2Zvcm0sXG4gICAgICAgIG9wYWNpdHksXG4gICAgICAgIGltYWdlT3JMYWJlbCxcbiAgICAgICAgZGltZW5zaW9ucy5vcmlnaW5YLFxuICAgICAgICBkaW1lbnNpb25zLm9yaWdpblksXG4gICAgICAgIGRpbWVuc2lvbnMuZHJhd0ltYWdlVyxcbiAgICAgICAgZGltZW5zaW9ucy5kcmF3SW1hZ2VILFxuICAgICAgICBkaW1lbnNpb25zLmRyYXdJbWFnZVgsXG4gICAgICAgIGRpbWVuc2lvbnMuZHJhd0ltYWdlWSxcbiAgICAgICAgZGltZW5zaW9ucy5zY2FsZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICovXG4gIGZpbGxfKGNvbnRleHQpIHtcbiAgICBpZiAodGhpcy5hbGlnbkZpbGxfKSB7XG4gICAgICBjb25zdCBvcmlnaW4gPSBhcHBseVRyYW5zZm9ybSh0aGlzLnJlbmRlcmVkVHJhbnNmb3JtXywgWzAsIDBdKTtcbiAgICAgIGNvbnN0IHJlcGVhdFNpemUgPSA1MTIgKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgIGNvbnRleHQudHJhbnNsYXRlKG9yaWdpblswXSAlIHJlcGVhdFNpemUsIG9yaWdpblsxXSAlIHJlcGVhdFNpemUpO1xuICAgICAgY29udGV4dC5yb3RhdGUodGhpcy52aWV3Um90YXRpb25fKTtcbiAgICB9XG4gICAgY29udGV4dC5maWxsKCk7XG4gICAgaWYgKHRoaXMuYWxpZ25GaWxsXykge1xuICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7QXJyYXk8Kj59IGluc3RydWN0aW9uIEluc3RydWN0aW9uLlxuICAgKi9cbiAgc2V0U3Ryb2tlU3R5bGVfKGNvbnRleHQsIGluc3RydWN0aW9uKSB7XG4gICAgY29udGV4dFsnc3Ryb2tlU3R5bGUnXSA9XG4gICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgY29udGV4dC5saW5lV2lkdGggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICBjb250ZXh0LmxpbmVDYXAgPSAvKiogQHR5cGUge0NhbnZhc0xpbmVDYXB9ICovIChpbnN0cnVjdGlvblszXSk7XG4gICAgY29udGV4dC5saW5lSm9pbiA9IC8qKiBAdHlwZSB7Q2FudmFzTGluZUpvaW59ICovIChpbnN0cnVjdGlvbls0XSk7XG4gICAgY29udGV4dC5taXRlckxpbWl0ID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls1XSk7XG4gICAgY29udGV4dC5saW5lRGFzaE9mZnNldCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bN10pO1xuICAgIGNvbnRleHQuc2V0TGluZURhc2goLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoaW5zdHJ1Y3Rpb25bNl0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSB0ZXh0IFRoZSB0ZXh0IHRvIGRyYXcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0S2V5IFRoZSBrZXkgb2YgdGhlIHRleHQgc3RhdGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJva2VLZXkgVGhlIGtleSBmb3IgdGhlIHN0cm9rZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGxLZXkgVGhlIGtleSBmb3IgdGhlIGZpbGwgc3RhdGUuXG4gICAqIEByZXR1cm4ge3tsYWJlbDogaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsLCBhbmNob3JYOiBudW1iZXIsIGFuY2hvclk6IG51bWJlcn19IFRoZSB0ZXh0IGltYWdlIGFuZCBpdHMgYW5jaG9yLlxuICAgKi9cbiAgZHJhd0xhYmVsV2l0aFBvaW50UGxhY2VtZW50Xyh0ZXh0LCB0ZXh0S2V5LCBzdHJva2VLZXksIGZpbGxLZXkpIHtcbiAgICBjb25zdCB0ZXh0U3RhdGUgPSB0aGlzLnRleHRTdGF0ZXNbdGV4dEtleV07XG5cbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuY3JlYXRlTGFiZWwodGV4dCwgdGV4dEtleSwgZmlsbEtleSwgc3Ryb2tlS2V5KTtcblxuICAgIGNvbnN0IHN0cm9rZVN0YXRlID0gdGhpcy5zdHJva2VTdGF0ZXNbc3Ryb2tlS2V5XTtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgIGNvbnN0IGFsaWduID0gaG9yaXpvbnRhbFRleHRBbGlnbihcbiAgICAgIEFycmF5LmlzQXJyYXkodGV4dCkgPyB0ZXh0WzBdIDogdGV4dCxcbiAgICAgIHRleHRTdGF0ZS50ZXh0QWxpZ24gfHwgZGVmYXVsdFRleHRBbGlnblxuICAgICk7XG4gICAgY29uc3QgYmFzZWxpbmUgPSBURVhUX0FMSUdOW3RleHRTdGF0ZS50ZXh0QmFzZWxpbmUgfHwgZGVmYXVsdFRleHRCYXNlbGluZV07XG4gICAgY29uc3Qgc3Ryb2tlV2lkdGggPVxuICAgICAgc3Ryb2tlU3RhdGUgJiYgc3Ryb2tlU3RhdGUubGluZVdpZHRoID8gc3Ryb2tlU3RhdGUubGluZVdpZHRoIDogMDtcblxuICAgIC8vIFJlbW92ZSB0aGUgMiBwaXhlbHMgd2UgYWRkZWQgaW4gY3JlYXRlTGFiZWwoKSBmb3IgdGhlIGFuY2hvclxuICAgIGNvbnN0IHdpZHRoID0gbGFiZWwud2lkdGggLyBwaXhlbFJhdGlvIC0gMiAqIHRleHRTdGF0ZS5zY2FsZVswXTtcbiAgICBjb25zdCBhbmNob3JYID0gYWxpZ24gKiB3aWR0aCArIDIgKiAoMC41IC0gYWxpZ24pICogc3Ryb2tlV2lkdGg7XG4gICAgY29uc3QgYW5jaG9yWSA9XG4gICAgICAoYmFzZWxpbmUgKiBsYWJlbC5oZWlnaHQpIC8gcGl4ZWxSYXRpbyArXG4gICAgICAyICogKDAuNSAtIGJhc2VsaW5lKSAqIHN0cm9rZVdpZHRoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgIGFuY2hvclg6IGFuY2hvclgsXG4gICAgICBhbmNob3JZOiBhbmNob3JZLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvbnRleHRTY2FsZSBTY2FsZSBvZiB0aGUgY29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKiBAcGFyYW0ge0FycmF5PCo+fSBpbnN0cnVjdGlvbnMgSW5zdHJ1Y3Rpb25zIGFycmF5LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNuYXBUb1BpeGVsIFNuYXAgcG9pbnQgc3ltYm9scyBhbmQgdGV4dCB0byBpbnRlZ2VyIHBpeGVscy5cbiAgICogQHBhcmFtIHtGZWF0dXJlQ2FsbGJhY2s8VD59IFtmZWF0dXJlQ2FsbGJhY2tdIEZlYXR1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2hpdEV4dGVudF0gT25seSBjaGVja1xuICAgKiAgICAgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3QgdGhpcyBleHRlbnQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwicmJ1c2hcIikuZGVmYXVsdH0gW2RlY2x1dHRlclRyZWVdIERlY2x1dHRlciB0cmVlLlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKi9cbiAgZXhlY3V0ZV8oXG4gICAgY29udGV4dCxcbiAgICBjb250ZXh0U2NhbGUsXG4gICAgdHJhbnNmb3JtLFxuICAgIGluc3RydWN0aW9ucyxcbiAgICBzbmFwVG9QaXhlbCxcbiAgICBmZWF0dXJlQ2FsbGJhY2ssXG4gICAgaGl0RXh0ZW50LFxuICAgIGRlY2x1dHRlclRyZWVcbiAgKSB7XG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIGxldCBwaXhlbENvb3JkaW5hdGVzO1xuICAgIGlmICh0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfICYmIGVxdWFscyh0cmFuc2Zvcm0sIHRoaXMucmVuZGVyZWRUcmFuc2Zvcm1fKSkge1xuICAgICAgcGl4ZWxDb29yZGluYXRlcyA9IHRoaXMucGl4ZWxDb29yZGluYXRlc187XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5waXhlbENvb3JkaW5hdGVzXykge1xuICAgICAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfID0gW107XG4gICAgICB9XG4gICAgICBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtMkQoXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMsXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgICAyLFxuICAgICAgICB0cmFuc2Zvcm0sXG4gICAgICAgIHRoaXMucGl4ZWxDb29yZGluYXRlc19cbiAgICAgICk7XG4gICAgICB0cmFuc2Zvcm1TZXRGcm9tQXJyYXkodGhpcy5yZW5kZXJlZFRyYW5zZm9ybV8sIHRyYW5zZm9ybSk7XG4gICAgfVxuICAgIGxldCBpID0gMDsgLy8gaW5zdHJ1Y3Rpb24gaW5kZXhcbiAgICBjb25zdCBpaSA9IGluc3RydWN0aW9ucy5sZW5ndGg7IC8vIGVuZCBvZiBpbnN0cnVjdGlvbnNcbiAgICBsZXQgZCA9IDA7IC8vIGRhdGEgaW5kZXhcbiAgICBsZXQgZGQ7IC8vIGVuZCBvZiBwZXItaW5zdHJ1Y3Rpb24gZGF0YVxuICAgIGxldCBhbmNob3JYLFxuICAgICAgYW5jaG9yWSxcbiAgICAgIHByZXZYLFxuICAgICAgcHJldlksXG4gICAgICByb3VuZFgsXG4gICAgICByb3VuZFksXG4gICAgICBpbWFnZSxcbiAgICAgIHRleHQsXG4gICAgICB0ZXh0S2V5LFxuICAgICAgc3Ryb2tlS2V5LFxuICAgICAgZmlsbEtleTtcbiAgICBsZXQgcGVuZGluZ0ZpbGwgPSAwO1xuICAgIGxldCBwZW5kaW5nU3Ryb2tlID0gMDtcbiAgICBsZXQgbGFzdEZpbGxJbnN0cnVjdGlvbiA9IG51bGw7XG4gICAgbGV0IGxhc3RTdHJva2VJbnN0cnVjdGlvbiA9IG51bGw7XG4gICAgY29uc3QgY29vcmRpbmF0ZUNhY2hlID0gdGhpcy5jb29yZGluYXRlQ2FjaGVfO1xuICAgIGNvbnN0IHZpZXdSb3RhdGlvbiA9IHRoaXMudmlld1JvdGF0aW9uXztcbiAgICBjb25zdCB2aWV3Um90YXRpb25Gcm9tVHJhbnNmb3JtID1cbiAgICAgIE1hdGgucm91bmQoTWF0aC5hdGFuMigtdHJhbnNmb3JtWzFdLCB0cmFuc2Zvcm1bMF0pICogMWUxMikgLyAxZTEyO1xuXG4gICAgY29uc3Qgc3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL3JlbmRlci5qc1wiKS5TdGF0ZX0gKi8gKHtcbiAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICBwaXhlbFJhdGlvOiB0aGlzLnBpeGVsUmF0aW8sXG4gICAgICByZXNvbHV0aW9uOiB0aGlzLnJlc29sdXRpb24sXG4gICAgICByb3RhdGlvbjogdmlld1JvdGF0aW9uLFxuICAgIH0pO1xuXG4gICAgLy8gV2hlbiB0aGUgYmF0Y2ggc2l6ZSBnZXRzIHRvbyBiaWcsIHBlcmZvcm1hbmNlIGRlY3JlYXNlcy4gMjAwIGlzIGEgZ29vZFxuICAgIC8vIGJhbGFuY2UgYmV0d2VlbiBiYXRjaCBzaXplIGFuZCBudW1iZXIgb2YgZmlsbC9zdHJva2UgaW5zdHJ1Y3Rpb25zLlxuICAgIGNvbnN0IGJhdGNoU2l6ZSA9XG4gICAgICB0aGlzLmluc3RydWN0aW9ucyAhPSBpbnN0cnVjdGlvbnMgfHwgdGhpcy5vdmVybGFwcyA/IDAgOiAyMDA7XG4gICAgbGV0IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gKi8gZmVhdHVyZTtcbiAgICBsZXQgeCwgeSwgY3VycmVudEdlb21ldHJ5O1xuICAgIHdoaWxlIChpIDwgaWkpIHtcbiAgICAgIGNvbnN0IGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb25zW2ldO1xuICAgICAgY29uc3QgdHlwZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9JbnN0cnVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGluc3RydWN0aW9uWzBdXG4gICAgICApO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fR0VPTUVUUlk6XG4gICAgICAgICAgZmVhdHVyZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gKi8gKFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bMV1cbiAgICAgICAgICApO1xuICAgICAgICAgIGN1cnJlbnRHZW9tZXRyeSA9IGluc3RydWN0aW9uWzNdO1xuICAgICAgICAgIGlmICghZmVhdHVyZS5nZXRHZW9tZXRyeSgpKSB7XG4gICAgICAgICAgICBpID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGhpdEV4dGVudCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAhaW50ZXJzZWN0cyhoaXRFeHRlbnQsIGN1cnJlbnRHZW9tZXRyeS5nZXRFeHRlbnQoKSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKSArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICsraTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fUEFUSDpcbiAgICAgICAgICBpZiAocGVuZGluZ0ZpbGwgPiBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgICAgICBwZW5kaW5nRmlsbCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwZW5kaW5nU3Ryb2tlID4gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgcGVuZGluZ1N0cm9rZSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghcGVuZGluZ0ZpbGwgJiYgIXBlbmRpbmdTdHJva2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBwcmV2WCA9IE5hTjtcbiAgICAgICAgICAgIHByZXZZID0gTmFOO1xuICAgICAgICAgIH1cbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQ0lSQ0xFOlxuICAgICAgICAgIGQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICBjb25zdCB4MSA9IHBpeGVsQ29vcmRpbmF0ZXNbZF07XG4gICAgICAgICAgY29uc3QgeTEgPSBwaXhlbENvb3JkaW5hdGVzW2QgKyAxXTtcbiAgICAgICAgICBjb25zdCB4MiA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDJdO1xuICAgICAgICAgIGNvbnN0IHkyID0gcGl4ZWxDb29yZGluYXRlc1tkICsgM107XG4gICAgICAgICAgY29uc3QgZHggPSB4MiAtIHgxO1xuICAgICAgICAgIGNvbnN0IGR5ID0geTIgLSB5MTtcbiAgICAgICAgICBjb25zdCByID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4MSArIHIsIHkxKTtcbiAgICAgICAgICBjb250ZXh0LmFyYyh4MSwgeTEsIHIsIDAsIDIgKiBNYXRoLlBJLCB0cnVlKTtcbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQ0xPU0VfUEFUSDpcbiAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT006XG4gICAgICAgICAgZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgIGRkID0gaW5zdHJ1Y3Rpb25bMl07XG4gICAgICAgICAgY29uc3QgZ2VvbWV0cnkgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bM11cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgcmVuZGVyZXIgPSBpbnN0cnVjdGlvbls0XTtcbiAgICAgICAgICBjb25zdCBmbiA9IGluc3RydWN0aW9uLmxlbmd0aCA9PSA2ID8gaW5zdHJ1Y3Rpb25bNV0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgc3RhdGUuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgICBzdGF0ZS5mZWF0dXJlID0gZmVhdHVyZTtcbiAgICAgICAgICBpZiAoIShpIGluIGNvb3JkaW5hdGVDYWNoZSkpIHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVDYWNoZVtpXSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjb29yZHMgPSBjb29yZGluYXRlQ2FjaGVbaV07XG4gICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICBmbihwaXhlbENvb3JkaW5hdGVzLCBkLCBkZCwgMiwgY29vcmRzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29vcmRzWzBdID0gcGl4ZWxDb29yZGluYXRlc1tkXTtcbiAgICAgICAgICAgIGNvb3Jkc1sxXSA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdO1xuICAgICAgICAgICAgY29vcmRzLmxlbmd0aCA9IDI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbmRlcmVyKGNvb3Jkcywgc3RhdGUpO1xuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFOlxuICAgICAgICAgIGQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICBkZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMl0pO1xuICAgICAgICAgIGltYWdlID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fSAqLyAoXG4gICAgICAgICAgICAgIGluc3RydWN0aW9uWzNdXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gUmVtYWluaW5nIGFyZ3VtZW50cyBpbiBEUkFXX0lNQUdFIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICAgICAgICBhbmNob3JYID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls0XSk7XG4gICAgICAgICAgYW5jaG9yWSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNV0pO1xuICAgICAgICAgIGxldCBoZWlnaHQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzZdKTtcbiAgICAgICAgICBjb25zdCBvcGFjaXR5ID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls3XSk7XG4gICAgICAgICAgY29uc3Qgb3JpZ2luWCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bOF0pO1xuICAgICAgICAgIGNvbnN0IG9yaWdpblkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzldKTtcbiAgICAgICAgICBjb25zdCByb3RhdGVXaXRoVmlldyA9IC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKGluc3RydWN0aW9uWzEwXSk7XG4gICAgICAgICAgbGV0IHJvdGF0aW9uID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxMV0pO1xuICAgICAgICAgIGNvbnN0IHNjYWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV9ICovIChcbiAgICAgICAgICAgIGluc3RydWN0aW9uWzEyXVxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IHdpZHRoID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxM10pO1xuICAgICAgICAgIGNvbnN0IGRlY2x1dHRlck1vZGUgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtcImRlY2x1dHRlclwifFwib2JzdGFjbGVcInxcIm5vbmVcInx1bmRlZmluZWR9ICovIChcbiAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bMTRdXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGRlY2x1dHRlckltYWdlV2l0aFRleHQgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH0gKi8gKFxuICAgICAgICAgICAgICBpbnN0cnVjdGlvblsxNV1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAoIWltYWdlICYmIGluc3RydWN0aW9uLmxlbmd0aCA+PSAyMCkge1xuICAgICAgICAgICAgLy8gY3JlYXRlIGxhYmVsIGltYWdlc1xuICAgICAgICAgICAgdGV4dCA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMTldKTtcbiAgICAgICAgICAgIHRleHRLZXkgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzIwXSk7XG4gICAgICAgICAgICBzdHJva2VLZXkgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzIxXSk7XG4gICAgICAgICAgICBmaWxsS2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvblsyMl0pO1xuICAgICAgICAgICAgY29uc3QgbGFiZWxXaXRoQW5jaG9yID0gdGhpcy5kcmF3TGFiZWxXaXRoUG9pbnRQbGFjZW1lbnRfKFxuICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICB0ZXh0S2V5LFxuICAgICAgICAgICAgICBzdHJva2VLZXksXG4gICAgICAgICAgICAgIGZpbGxLZXlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpbWFnZSA9IGxhYmVsV2l0aEFuY2hvci5sYWJlbDtcbiAgICAgICAgICAgIGluc3RydWN0aW9uWzNdID0gaW1hZ2U7XG4gICAgICAgICAgICBjb25zdCB0ZXh0T2Zmc2V0WCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMjNdKTtcbiAgICAgICAgICAgIGFuY2hvclggPSAobGFiZWxXaXRoQW5jaG9yLmFuY2hvclggLSB0ZXh0T2Zmc2V0WCkgKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgICAgICBpbnN0cnVjdGlvbls0XSA9IGFuY2hvclg7XG4gICAgICAgICAgICBjb25zdCB0ZXh0T2Zmc2V0WSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMjRdKTtcbiAgICAgICAgICAgIGFuY2hvclkgPSAobGFiZWxXaXRoQW5jaG9yLmFuY2hvclkgLSB0ZXh0T2Zmc2V0WSkgKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgICAgICBpbnN0cnVjdGlvbls1XSA9IGFuY2hvclk7XG4gICAgICAgICAgICBoZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbls2XSA9IGhlaWdodDtcbiAgICAgICAgICAgIHdpZHRoID0gaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICBpbnN0cnVjdGlvblsxM10gPSB3aWR0aDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgZ2VvbWV0cnlXaWR0aHM7XG4gICAgICAgICAgaWYgKGluc3RydWN0aW9uLmxlbmd0aCA+IDI1KSB7XG4gICAgICAgICAgICBnZW9tZXRyeVdpZHRocyA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMjVdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgcGFkZGluZywgYmFja2dyb3VuZEZpbGwsIGJhY2tncm91bmRTdHJva2U7XG4gICAgICAgICAgaWYgKGluc3RydWN0aW9uLmxlbmd0aCA+IDE3KSB7XG4gICAgICAgICAgICBwYWRkaW5nID0gLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoaW5zdHJ1Y3Rpb25bMTZdKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRGaWxsID0gLyoqIEB0eXBlIHtib29sZWFufSAqLyAoaW5zdHJ1Y3Rpb25bMTddKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRTdHJva2UgPSAvKiogQHR5cGUge2Jvb2xlYW59ICovIChpbnN0cnVjdGlvblsxOF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWRkaW5nID0gZGVmYXVsdFBhZGRpbmc7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kRmlsbCA9IGZhbHNlO1xuICAgICAgICAgICAgYmFja2dyb3VuZFN0cm9rZSA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyb3RhdGVXaXRoVmlldyAmJiB2aWV3Um90YXRpb25Gcm9tVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyBDYW52YXMgaXMgZXhwZWN0ZWQgdG8gYmUgcm90YXRlZCB0byByZXZlcnNlIHZpZXcgcm90YXRpb24uXG4gICAgICAgICAgICByb3RhdGlvbiArPSB2aWV3Um90YXRpb247XG4gICAgICAgICAgfSBlbHNlIGlmICghcm90YXRlV2l0aFZpZXcgJiYgIXZpZXdSb3RhdGlvbkZyb21UcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIC8vIENhbnZhcyBpcyBub3Qgcm90YXRlZCwgaW1hZ2VzIG5lZWQgdG8gYmUgcm90YXRlZCBiYWNrIHRvIGJlIG5vcnRoLXVwLlxuICAgICAgICAgICAgcm90YXRpb24gLT0gdmlld1JvdGF0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgd2lkdGhJbmRleCA9IDA7XG4gICAgICAgICAgZm9yICg7IGQgPCBkZDsgZCArPSAyKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzICYmXG4gICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzW3dpZHRoSW5kZXgrK10gPCB3aWR0aCAvIHRoaXMucGl4ZWxSYXRpb1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMuY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18oXG4gICAgICAgICAgICAgIGltYWdlLndpZHRoLFxuICAgICAgICAgICAgICBpbWFnZS5oZWlnaHQsXG4gICAgICAgICAgICAgIHBpeGVsQ29vcmRpbmF0ZXNbZF0sXG4gICAgICAgICAgICAgIHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdLFxuICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICBhbmNob3JYLFxuICAgICAgICAgICAgICBhbmNob3JZLFxuICAgICAgICAgICAgICBvcmlnaW5YLFxuICAgICAgICAgICAgICBvcmlnaW5ZLFxuICAgICAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICAgICAgc2NhbGUsXG4gICAgICAgICAgICAgIHNuYXBUb1BpeGVsLFxuICAgICAgICAgICAgICBwYWRkaW5nLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kRmlsbCB8fCBiYWNrZ3JvdW5kU3Ryb2tlLFxuICAgICAgICAgICAgICBmZWF0dXJlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgLyoqIEB0eXBlIHtSZXBsYXlJbWFnZU9yTGFiZWxBcmdzfSAqL1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IFtcbiAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgY29udGV4dFNjYWxlLFxuICAgICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgICAgZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEZpbGxcbiAgICAgICAgICAgICAgICA/IC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChsYXN0RmlsbEluc3RydWN0aW9uKVxuICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZFN0cm9rZVxuICAgICAgICAgICAgICAgID8gLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKGxhc3RTdHJva2VJbnN0cnVjdGlvbilcbiAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKGRlY2x1dHRlclRyZWUpIHtcbiAgICAgICAgICAgICAgaWYgKGRlY2x1dHRlck1vZGUgPT09ICdub25lJykge1xuICAgICAgICAgICAgICAgIC8vIG5vdCByZW5kZXJlZCBpbiBkZWNsdXR0ZXIgZ3JvdXBcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZWNsdXR0ZXJNb2RlID09PSAnb2JzdGFjbGUnKSB7XG4gICAgICAgICAgICAgICAgLy8gd2lsbCBhbHdheXMgYmUgZHJhd24sIHRodXMgbm8gY29sbGlzaW9uIGRldGVjdGlvbiwgYnV0IGluc2VydCBhcyBvYnN0YWNsZVxuICAgICAgICAgICAgICAgIGRlY2x1dHRlclRyZWUuaW5zZXJ0KGRpbWVuc2lvbnMuZGVjbHV0dGVyQm94KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgaW1hZ2VBcmdzO1xuICAgICAgICAgICAgICAgIGxldCBpbWFnZURlY2x1dHRlckJveDtcbiAgICAgICAgICAgICAgICBpZiAoZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBkZCAtIGQ7XG4gICAgICAgICAgICAgICAgICBpZiAoIWRlY2x1dHRlckltYWdlV2l0aFRleHRbaW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG5vdyBoYXZlIHRoZSBpbWFnZSBmb3IgYW4gaW1hZ2UrdGV4dCBjb21iaW5hdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dFtpbmRleF0gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCByZW5kZXIgYW55dGhpbmcgZm9yIG5vdywgd2FpdCBmb3IgdGhlIHRleHQuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaW1hZ2VBcmdzID0gZGVjbHV0dGVySW1hZ2VXaXRoVGV4dFtpbmRleF07XG4gICAgICAgICAgICAgICAgICBkZWxldGUgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dFtpbmRleF07XG4gICAgICAgICAgICAgICAgICBpbWFnZURlY2x1dHRlckJveCA9IGdldERlY2x1dHRlckJveChpbWFnZUFyZ3MpO1xuICAgICAgICAgICAgICAgICAgaWYgKGRlY2x1dHRlclRyZWUuY29sbGlkZXMoaW1hZ2VEZWNsdXR0ZXJCb3gpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGVjbHV0dGVyVHJlZS5jb2xsaWRlcyhkaW1lbnNpb25zLmRlY2x1dHRlckJveCkpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VBcmdzKSB7XG4gICAgICAgICAgICAgICAgICAvLyBXZSBub3cgaGF2ZSBpbWFnZSBhbmQgdGV4dCBmb3IgYW4gaW1hZ2UrdGV4dCBjb21iaW5hdGlvbi5cbiAgICAgICAgICAgICAgICAgIGRlY2x1dHRlclRyZWUuaW5zZXJ0KGltYWdlRGVjbHV0dGVyQm94KTtcbiAgICAgICAgICAgICAgICAgIC8vIFJlbmRlciB0aGUgaW1hZ2UgYmVmb3JlIHdlIHJlbmRlciB0aGUgdGV4dC5cbiAgICAgICAgICAgICAgICAgIHRoaXMucmVwbGF5SW1hZ2VPckxhYmVsXy5hcHBseSh0aGlzLCBpbWFnZUFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNsdXR0ZXJUcmVlLmluc2VydChkaW1lbnNpb25zLmRlY2x1dHRlckJveCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVwbGF5SW1hZ2VPckxhYmVsXy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgKytpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkRSQVdfQ0hBUlM6XG4gICAgICAgICAgY29uc3QgYmVnaW4gPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICBjb25zdCBlbmQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgICBjb25zdCBiYXNlbGluZSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bM10pO1xuICAgICAgICAgIGNvbnN0IG92ZXJmbG93ID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls0XSk7XG4gICAgICAgICAgZmlsbEtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bNV0pO1xuICAgICAgICAgIGNvbnN0IG1heEFuZ2xlID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls2XSk7XG4gICAgICAgICAgY29uc3QgbWVhc3VyZVBpeGVsUmF0aW8gPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzddKTtcbiAgICAgICAgICBjb25zdCBvZmZzZXRZID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls4XSk7XG4gICAgICAgICAgc3Ryb2tlS2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvbls5XSk7XG4gICAgICAgICAgY29uc3Qgc3Ryb2tlV2lkdGggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzEwXSk7XG4gICAgICAgICAgdGV4dCA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMTFdKTtcbiAgICAgICAgICB0ZXh0S2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvblsxMl0pO1xuICAgICAgICAgIGNvbnN0IHBpeGVsUmF0aW9TY2FsZSA9IFtcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTNdKSxcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTNdKSxcbiAgICAgICAgICBdO1xuXG4gICAgICAgICAgY29uc3QgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVzW3RleHRLZXldO1xuICAgICAgICAgIGNvbnN0IGZvbnQgPSB0ZXh0U3RhdGUuZm9udDtcbiAgICAgICAgICBjb25zdCB0ZXh0U2NhbGUgPSBbXG4gICAgICAgICAgICB0ZXh0U3RhdGUuc2NhbGVbMF0gKiBtZWFzdXJlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIHRleHRTdGF0ZS5zY2FsZVsxXSAqIG1lYXN1cmVQaXhlbFJhdGlvLFxuICAgICAgICAgIF07XG5cbiAgICAgICAgICBsZXQgY2FjaGVkV2lkdGhzO1xuICAgICAgICAgIGlmIChmb250IGluIHRoaXMud2lkdGhzXykge1xuICAgICAgICAgICAgY2FjaGVkV2lkdGhzID0gdGhpcy53aWR0aHNfW2ZvbnRdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRXaWR0aHMgPSB7fTtcbiAgICAgICAgICAgIHRoaXMud2lkdGhzX1tmb250XSA9IGNhY2hlZFdpZHRocztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBwYXRoTGVuZ3RoID0gbGluZVN0cmluZ0xlbmd0aChwaXhlbENvb3JkaW5hdGVzLCBiZWdpbiwgZW5kLCAyKTtcbiAgICAgICAgICBjb25zdCB0ZXh0TGVuZ3RoID1cbiAgICAgICAgICAgIE1hdGguYWJzKHRleHRTY2FsZVswXSkgKlxuICAgICAgICAgICAgbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoKGZvbnQsIHRleHQsIGNhY2hlZFdpZHRocyk7XG4gICAgICAgICAgaWYgKG92ZXJmbG93IHx8IHRleHRMZW5ndGggPD0gcGF0aExlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdGV4dEFsaWduID0gdGhpcy50ZXh0U3RhdGVzW3RleHRLZXldLnRleHRBbGlnbjtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0TSA9IChwYXRoTGVuZ3RoIC0gdGV4dExlbmd0aCkgKiBURVhUX0FMSUdOW3RleHRBbGlnbl07XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IGRyYXdUZXh0T25QYXRoKFxuICAgICAgICAgICAgICBwaXhlbENvb3JkaW5hdGVzLFxuICAgICAgICAgICAgICBiZWdpbixcbiAgICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgICAyLFxuICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICBzdGFydE0sXG4gICAgICAgICAgICAgIG1heEFuZ2xlLFxuICAgICAgICAgICAgICBNYXRoLmFicyh0ZXh0U2NhbGVbMF0pLFxuICAgICAgICAgICAgICBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgsXG4gICAgICAgICAgICAgIGZvbnQsXG4gICAgICAgICAgICAgIGNhY2hlZFdpZHRocyxcbiAgICAgICAgICAgICAgdmlld1JvdGF0aW9uRnJvbVRyYW5zZm9ybSA/IDAgOiB0aGlzLnZpZXdSb3RhdGlvbl9cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkcmF3Q2hhcnM6IGlmIChwYXJ0cykge1xuICAgICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PFJlcGxheUltYWdlT3JMYWJlbEFyZ3M+fSAqL1xuICAgICAgICAgICAgICBjb25zdCByZXBsYXlJbWFnZU9yTGFiZWxBcmdzID0gW107XG4gICAgICAgICAgICAgIGxldCBjLCBjYywgY2hhcnMsIGxhYmVsLCBwYXJ0O1xuICAgICAgICAgICAgICBpZiAoc3Ryb2tlS2V5KSB7XG4gICAgICAgICAgICAgICAgZm9yIChjID0gMCwgY2MgPSBwYXJ0cy5sZW5ndGg7IGMgPCBjYzsgKytjKSB7XG4gICAgICAgICAgICAgICAgICBwYXJ0ID0gcGFydHNbY107IC8vIHgsIHksIGFuY2hvclgsIHJvdGF0aW9uLCBjaHVua1xuICAgICAgICAgICAgICAgICAgY2hhcnMgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHBhcnRbNF0pO1xuICAgICAgICAgICAgICAgICAgbGFiZWwgPSB0aGlzLmNyZWF0ZUxhYmVsKGNoYXJzLCB0ZXh0S2V5LCAnJywgc3Ryb2tlS2V5KTtcbiAgICAgICAgICAgICAgICAgIGFuY2hvclggPVxuICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi8gKHBhcnRbMl0pICtcbiAgICAgICAgICAgICAgICAgICAgKHRleHRTY2FsZVswXSA8IDAgPyAtc3Ryb2tlV2lkdGggOiBzdHJva2VXaWR0aCk7XG4gICAgICAgICAgICAgICAgICBhbmNob3JZID1cbiAgICAgICAgICAgICAgICAgICAgYmFzZWxpbmUgKiBsYWJlbC5oZWlnaHQgK1xuICAgICAgICAgICAgICAgICAgICAoKDAuNSAtIGJhc2VsaW5lKSAqIDIgKiBzdHJva2VXaWR0aCAqIHRleHRTY2FsZVsxXSkgL1xuICAgICAgICAgICAgICAgICAgICAgIHRleHRTY2FsZVswXSAtXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gdGhpcy5jYWxjdWxhdGVJbWFnZU9yTGFiZWxEaW1lbnNpb25zXyhcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgcGFydFswXSxcbiAgICAgICAgICAgICAgICAgICAgcGFydFsxXSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yWCxcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yWSxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgcGFydFszXSxcbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpb1NjYWxlLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBhZGRpbmcsXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBkZWNsdXR0ZXJUcmVlICYmXG4gICAgICAgICAgICAgICAgICAgIGRlY2x1dHRlclRyZWUuY29sbGlkZXMoZGltZW5zaW9ucy5kZWNsdXR0ZXJCb3gpXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgZHJhd0NoYXJzO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmVwbGF5SW1hZ2VPckxhYmVsQXJncy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dFNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoZmlsbEtleSkge1xuICAgICAgICAgICAgICAgIGZvciAoYyA9IDAsIGNjID0gcGFydHMubGVuZ3RoOyBjIDwgY2M7ICsrYykge1xuICAgICAgICAgICAgICAgICAgcGFydCA9IHBhcnRzW2NdOyAvLyB4LCB5LCBhbmNob3JYLCByb3RhdGlvbiwgY2h1bmtcbiAgICAgICAgICAgICAgICAgIGNoYXJzID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChwYXJ0WzRdKTtcbiAgICAgICAgICAgICAgICAgIGxhYmVsID0gdGhpcy5jcmVhdGVMYWJlbChjaGFycywgdGV4dEtleSwgZmlsbEtleSwgJycpO1xuICAgICAgICAgICAgICAgICAgYW5jaG9yWCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAocGFydFsyXSk7XG4gICAgICAgICAgICAgICAgICBhbmNob3JZID0gYmFzZWxpbmUgKiBsYWJlbC5oZWlnaHQgLSBvZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMuY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18oXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRbMF0sXG4gICAgICAgICAgICAgICAgICAgIHBhcnRbMV0sXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclgsXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclksXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRbM10sXG4gICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW9TY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgZGVjbHV0dGVyVHJlZSAmJlxuICAgICAgICAgICAgICAgICAgICBkZWNsdXR0ZXJUcmVlLmNvbGxpZGVzKGRpbWVuc2lvbnMuZGVjbHV0dGVyQm94KVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGRyYXdDaGFycztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJlcGxheUltYWdlT3JMYWJlbEFyZ3MucHVzaChbXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRTY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbnMsXG4gICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGRlY2x1dHRlclRyZWUpIHtcbiAgICAgICAgICAgICAgICBkZWNsdXR0ZXJUcmVlLmxvYWQocmVwbGF5SW1hZ2VPckxhYmVsQXJncy5tYXAoZ2V0RGVjbHV0dGVyQm94KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gcmVwbGF5SW1hZ2VPckxhYmVsQXJncy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXBsYXlJbWFnZU9yTGFiZWxfLmFwcGx5KHRoaXMsIHJlcGxheUltYWdlT3JMYWJlbEFyZ3NbaV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5FTkRfR0VPTUVUUlk6XG4gICAgICAgICAgaWYgKGZlYXR1cmVDYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmZWF0dXJlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSAqLyAoXG4gICAgICAgICAgICAgIGluc3RydWN0aW9uWzFdXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZmVhdHVyZUNhbGxiYWNrKGZlYXR1cmUsIGN1cnJlbnRHZW9tZXRyeSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5GSUxMOlxuICAgICAgICAgIGlmIChiYXRjaFNpemUpIHtcbiAgICAgICAgICAgIHBlbmRpbmdGaWxsKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5NT1ZFX1RPX0xJTkVfVE86XG4gICAgICAgICAgZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgIGRkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgICAgeCA9IHBpeGVsQ29vcmRpbmF0ZXNbZF07XG4gICAgICAgICAgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdO1xuICAgICAgICAgIHJvdW5kWCA9ICh4ICsgMC41KSB8IDA7XG4gICAgICAgICAgcm91bmRZID0gKHkgKyAwLjUpIHwgMDtcbiAgICAgICAgICBpZiAocm91bmRYICE9PSBwcmV2WCB8fCByb3VuZFkgIT09IHByZXZZKSB7XG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4LCB5KTtcbiAgICAgICAgICAgIHByZXZYID0gcm91bmRYO1xuICAgICAgICAgICAgcHJldlkgPSByb3VuZFk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoZCArPSAyOyBkIDwgZGQ7IGQgKz0gMikge1xuICAgICAgICAgICAgeCA9IHBpeGVsQ29vcmRpbmF0ZXNbZF07XG4gICAgICAgICAgICB5ID0gcGl4ZWxDb29yZGluYXRlc1tkICsgMV07XG4gICAgICAgICAgICByb3VuZFggPSAoeCArIDAuNSkgfCAwO1xuICAgICAgICAgICAgcm91bmRZID0gKHkgKyAwLjUpIHwgMDtcbiAgICAgICAgICAgIGlmIChkID09IGRkIC0gMiB8fCByb3VuZFggIT09IHByZXZYIHx8IHJvdW5kWSAhPT0gcHJldlkpIHtcbiAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgICAgIHByZXZYID0gcm91bmRYO1xuICAgICAgICAgICAgICBwcmV2WSA9IHJvdW5kWTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgKytpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFOlxuICAgICAgICAgIGxhc3RGaWxsSW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbjtcbiAgICAgICAgICB0aGlzLmFsaWduRmlsbF8gPSBpbnN0cnVjdGlvblsyXTtcblxuICAgICAgICAgIGlmIChwZW5kaW5nRmlsbCkge1xuICAgICAgICAgICAgdGhpcy5maWxsXyhjb250ZXh0KTtcbiAgICAgICAgICAgIHBlbmRpbmdGaWxsID0gMDtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nU3Ryb2tlKSB7XG4gICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgIHBlbmRpbmdTdHJva2UgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gKi8gKFxuICAgICAgICAgICAgICBpbnN0cnVjdGlvblsxXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRTpcbiAgICAgICAgICBsYXN0U3Ryb2tlSW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbjtcbiAgICAgICAgICBpZiAocGVuZGluZ1N0cm9rZSkge1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIHBlbmRpbmdTdHJva2UgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnNldFN0cm9rZVN0eWxlXyhjb250ZXh0LCAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAoaW5zdHJ1Y3Rpb24pKTtcbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uU1RST0tFOlxuICAgICAgICAgIGlmIChiYXRjaFNpemUpIHtcbiAgICAgICAgICAgIHBlbmRpbmdTdHJva2UrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgKytpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiAvLyBjb25zdW1lIHRoZSBpbnN0cnVjdGlvbiBhbnl3YXksIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwZW5kaW5nRmlsbCkge1xuICAgICAgdGhpcy5maWxsXyhjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKHBlbmRpbmdTdHJva2UpIHtcbiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvbnRleHRTY2FsZSBTY2FsZSBvZiB0aGUgY29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKiBAcGFyYW0ge251bWJlcn0gdmlld1JvdGF0aW9uIFZpZXcgcm90YXRpb24uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc25hcFRvUGl4ZWwgU25hcCBwb2ludCBzeW1ib2xzIGFuZCB0ZXh0IHRvIGludGVnZXIgcGl4ZWxzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcInJidXNoXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJUcmVlXSBEZWNsdXR0ZXIgdHJlZS5cbiAgICovXG4gIGV4ZWN1dGUoXG4gICAgY29udGV4dCxcbiAgICBjb250ZXh0U2NhbGUsXG4gICAgdHJhbnNmb3JtLFxuICAgIHZpZXdSb3RhdGlvbixcbiAgICBzbmFwVG9QaXhlbCxcbiAgICBkZWNsdXR0ZXJUcmVlXG4gICkge1xuICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IHZpZXdSb3RhdGlvbjtcbiAgICB0aGlzLmV4ZWN1dGVfKFxuICAgICAgY29udGV4dCxcbiAgICAgIGNvbnRleHRTY2FsZSxcbiAgICAgIHRyYW5zZm9ybSxcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLFxuICAgICAgc25hcFRvUGl4ZWwsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBkZWNsdXR0ZXJUcmVlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2aWV3Um90YXRpb24gVmlldyByb3RhdGlvbi5cbiAgICogQHBhcmFtIHtGZWF0dXJlQ2FsbGJhY2s8VD59IFtmZWF0dXJlQ2FsbGJhY2tdIEZlYXR1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2hpdEV4dGVudF0gT25seSBjaGVja1xuICAgKiAgICAgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3QgdGhpcyBleHRlbnQuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqL1xuICBleGVjdXRlSGl0RGV0ZWN0aW9uKFxuICAgIGNvbnRleHQsXG4gICAgdHJhbnNmb3JtLFxuICAgIHZpZXdSb3RhdGlvbixcbiAgICBmZWF0dXJlQ2FsbGJhY2ssXG4gICAgaGl0RXh0ZW50XG4gICkge1xuICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IHZpZXdSb3RhdGlvbjtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlXyhcbiAgICAgIGNvbnRleHQsXG4gICAgICAxLFxuICAgICAgdHJhbnNmb3JtLFxuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMsXG4gICAgICB0cnVlLFxuICAgICAgZmVhdHVyZUNhbGxiYWNrLFxuICAgICAgaGl0RXh0ZW50XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFeGVjdXRvcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXBcbiAqL1xuXG5pbXBvcnQgRXhlY3V0b3IgZnJvbSAnLi9FeGVjdXRvci5qcyc7XG5pbXBvcnQge2FzY2VuZGluZ30gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtidWZmZXIsIGNyZWF0ZUVtcHR5LCBleHRlbmRDb29yZGluYXRlfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHtcbiAgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLFxuICBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLFxufSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkR9IGZyb20gJy4uLy4uL2RvbS5qcyc7XG5pbXBvcnQge2lzRW1wdHl9IGZyb20gJy4uLy4uL29iai5qcyc7XG5pbXBvcnQge3RyYW5zZm9ybTJEfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzJztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuQnVpbGRlclR5cGU+fVxuICovXG5jb25zdCBPUkRFUiA9IFsnUG9seWdvbicsICdDaXJjbGUnLCAnTGluZVN0cmluZycsICdJbWFnZScsICdUZXh0JywgJ0RlZmF1bHQnXTtcblxuY2xhc3MgRXhlY3V0b3JHcm91cCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXggZXh0ZW50IGZvciBjbGlwcGluZy4gV2hlbiBhXG4gICAqIGBtYXhFeHRlbnRgIHdhcyBzZXQgb24gdGhlIEJ1aWxkZXIgZm9yIHRoaXMgZXhlY3V0b3IgZ3JvdXAsIHRoZSBzYW1lIGBtYXhFeHRlbnRgXG4gICAqIHNob3VsZCBiZSBzZXQgaGVyZSwgdW5sZXNzIHRoZSB0YXJnZXQgY29udGV4dCBkb2VzIG5vdCBleGNlZWQgdGhhdCBleHRlbnQgKHdoaWNoXG4gICAqIGNhbiBiZSB0aGUgY2FzZSB3aGVuIHJlbmRlcmluZyB0byB0aWxlcykuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG92ZXJsYXBzIFRoZSBleGVjdXRvciBncm91cCBjYW4gaGF2ZSBvdmVybGFwcGluZyBnZW9tZXRyaWVzLlxuICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5CdWlsZGVyVHlwZSwgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9ucz4+fSBhbGxJbnN0cnVjdGlvbnNcbiAgICogVGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVuZGVyQnVmZmVyXSBPcHRpb25hbCByZW5kZXJpbmcgYnVmZmVyLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgbWF4RXh0ZW50LFxuICAgIHJlc29sdXRpb24sXG4gICAgcGl4ZWxSYXRpbyxcbiAgICBvdmVybGFwcyxcbiAgICBhbGxJbnN0cnVjdGlvbnMsXG4gICAgcmVuZGVyQnVmZmVyXG4gICkge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy5tYXhFeHRlbnRfID0gbWF4RXh0ZW50O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm92ZXJsYXBzXyA9IG92ZXJsYXBzO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxSYXRpb18gPSBwaXhlbFJhdGlvO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlckJ1ZmZlcl8gPSByZW5kZXJCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuQnVpbGRlclR5cGUsIGltcG9ydChcIi4vRXhlY3V0b3JcIikuZGVmYXVsdD4+fVxuICAgICAqL1xuICAgIHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5oaXREZXRlY3Rpb25Db250ZXh0XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgdGhpcy5jcmVhdGVFeGVjdXRvcnNfKGFsbEluc3RydWN0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKi9cbiAgY2xpcChjb250ZXh0LCB0cmFuc2Zvcm0pIHtcbiAgICBjb25zdCBmbGF0Q2xpcENvb3JkcyA9IHRoaXMuZ2V0Q2xpcENvb3Jkcyh0cmFuc2Zvcm0pO1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5tb3ZlVG8oZmxhdENsaXBDb29yZHNbMF0sIGZsYXRDbGlwQ29vcmRzWzFdKTtcbiAgICBjb250ZXh0LmxpbmVUbyhmbGF0Q2xpcENvb3Jkc1syXSwgZmxhdENsaXBDb29yZHNbM10pO1xuICAgIGNvbnRleHQubGluZVRvKGZsYXRDbGlwQ29vcmRzWzRdLCBmbGF0Q2xpcENvb3Jkc1s1XSk7XG4gICAgY29udGV4dC5saW5lVG8oZmxhdENsaXBDb29yZHNbNl0sIGZsYXRDbGlwQ29vcmRzWzddKTtcbiAgICBjb250ZXh0LmNsaXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgZXhlY3V0b3JzIGFuZCBwb3B1bGF0ZSB0aGVtIHVzaW5nIHRoZSBwcm92aWRlZCBpbnN0cnVjdGlvbnMuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsICFPYmplY3Q8aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkJ1aWxkZXJUeXBlLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zPj59IGFsbEluc3RydWN0aW9ucyBUaGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9uc1xuICAgKi9cbiAgY3JlYXRlRXhlY3V0b3JzXyhhbGxJbnN0cnVjdGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IHpJbmRleCBpbiBhbGxJbnN0cnVjdGlvbnMpIHtcbiAgICAgIGxldCBleGVjdXRvcnMgPSB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhdO1xuICAgICAgaWYgKGV4ZWN1dG9ycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGV4ZWN1dG9ycyA9IHt9O1xuICAgICAgICB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhdID0gZXhlY3V0b3JzO1xuICAgICAgfVxuICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25CeVppbmRleCA9IGFsbEluc3RydWN0aW9uc1t6SW5kZXhdO1xuICAgICAgZm9yIChjb25zdCBidWlsZGVyVHlwZSBpbiBpbnN0cnVjdGlvbkJ5WmluZGV4KSB7XG4gICAgICAgIGNvbnN0IGluc3RydWN0aW9ucyA9IGluc3RydWN0aW9uQnlaaW5kZXhbYnVpbGRlclR5cGVdO1xuICAgICAgICBleGVjdXRvcnNbYnVpbGRlclR5cGVdID0gbmV3IEV4ZWN1dG9yKFxuICAgICAgICAgIHRoaXMucmVzb2x1dGlvbl8sXG4gICAgICAgICAgdGhpcy5waXhlbFJhdGlvXyxcbiAgICAgICAgICB0aGlzLm92ZXJsYXBzXyxcbiAgICAgICAgICBpbnN0cnVjdGlvbnNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuQnVpbGRlclR5cGU+fSBleGVjdXRvcnMgRXhlY3V0b3JzLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBIYXMgZXhlY3V0b3JzIG9mIHRoZSBwcm92aWRlZCB0eXBlcy5cbiAgICovXG4gIGhhc0V4ZWN1dG9ycyhleGVjdXRvcnMpIHtcbiAgICBmb3IgKGNvbnN0IHpJbmRleCBpbiB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4Xykge1xuICAgICAgY29uc3QgY2FuZGlkYXRlcyA9IHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfW3pJbmRleF07XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBleGVjdXRvcnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBpZiAoZXhlY3V0b3JzW2ldIGluIGNhbmRpZGF0ZXMpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UsIGltcG9ydChcIi4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdCwgbnVtYmVyKTogVH0gY2FsbGJhY2sgRmVhdHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlPn0gZGVjbHV0dGVyZWRGZWF0dXJlcyBEZWNsdXR0ZXJlZCBmZWF0dXJlcy5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICogQHRlbXBsYXRlIFRcbiAgICovXG4gIGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKFxuICAgIGNvb3JkaW5hdGUsXG4gICAgcmVzb2x1dGlvbixcbiAgICByb3RhdGlvbixcbiAgICBoaXRUb2xlcmFuY2UsXG4gICAgY2FsbGJhY2ssXG4gICAgZGVjbHV0dGVyZWRGZWF0dXJlc1xuICApIHtcbiAgICBoaXRUb2xlcmFuY2UgPSBNYXRoLnJvdW5kKGhpdFRvbGVyYW5jZSk7XG4gICAgY29uc3QgY29udGV4dFNpemUgPSBoaXRUb2xlcmFuY2UgKiAyICsgMTtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBjb21wb3NlVHJhbnNmb3JtKFxuICAgICAgdGhpcy5oaXREZXRlY3Rpb25UcmFuc2Zvcm1fLFxuICAgICAgaGl0VG9sZXJhbmNlICsgMC41LFxuICAgICAgaGl0VG9sZXJhbmNlICsgMC41LFxuICAgICAgMSAvIHJlc29sdXRpb24sXG4gICAgICAtMSAvIHJlc29sdXRpb24sXG4gICAgICAtcm90YXRpb24sXG4gICAgICAtY29vcmRpbmF0ZVswXSxcbiAgICAgIC1jb29yZGluYXRlWzFdXG4gICAgKTtcblxuICAgIGNvbnN0IG5ld0NvbnRleHQgPSAhdGhpcy5oaXREZXRlY3Rpb25Db250ZXh0XztcbiAgICBpZiAobmV3Q29udGV4dCkge1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25Db250ZXh0XyA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChcbiAgICAgICAgY29udGV4dFNpemUsXG4gICAgICAgIGNvbnRleHRTaXplLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHt3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWV9XG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5oaXREZXRlY3Rpb25Db250ZXh0XztcblxuICAgIGlmIChcbiAgICAgIGNvbnRleHQuY2FudmFzLndpZHRoICE9PSBjb250ZXh0U2l6ZSB8fFxuICAgICAgY29udGV4dC5jYW52YXMuaGVpZ2h0ICE9PSBjb250ZXh0U2l6ZVxuICAgICkge1xuICAgICAgY29udGV4dC5jYW52YXMud2lkdGggPSBjb250ZXh0U2l6ZTtcbiAgICAgIGNvbnRleHQuY2FudmFzLmhlaWdodCA9IGNvbnRleHRTaXplO1xuICAgIH0gZWxzZSBpZiAoIW5ld0NvbnRleHQpIHtcbiAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNvbnRleHRTaXplLCBjb250ZXh0U2l6ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgbGV0IGhpdEV4dGVudDtcbiAgICBpZiAodGhpcy5yZW5kZXJCdWZmZXJfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGhpdEV4dGVudCA9IGNyZWF0ZUVtcHR5KCk7XG4gICAgICBleHRlbmRDb29yZGluYXRlKGhpdEV4dGVudCwgY29vcmRpbmF0ZSk7XG4gICAgICBidWZmZXIoXG4gICAgICAgIGhpdEV4dGVudCxcbiAgICAgICAgcmVzb2x1dGlvbiAqICh0aGlzLnJlbmRlckJ1ZmZlcl8gKyBoaXRUb2xlcmFuY2UpLFxuICAgICAgICBoaXRFeHRlbnRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgaW5kZXhlcyA9IGdldFBpeGVsSW5kZXhBcnJheShoaXRUb2xlcmFuY2UpO1xuXG4gICAgbGV0IGJ1aWxkZXJUeXBlO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmVhdHVyZUNhbGxiYWNrKGZlYXR1cmUsIGdlb21ldHJ5KSB7XG4gICAgICBjb25zdCBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YShcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgY29udGV4dFNpemUsXG4gICAgICAgIGNvbnRleHRTaXplXG4gICAgICApLmRhdGE7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBpbmRleGVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgaWYgKGltYWdlRGF0YVtpbmRleGVzW2ldXSA+IDApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhZGVjbHV0dGVyZWRGZWF0dXJlcyB8fFxuICAgICAgICAgICAgKGJ1aWxkZXJUeXBlICE9PSAnSW1hZ2UnICYmIGJ1aWxkZXJUeXBlICE9PSAnVGV4dCcpIHx8XG4gICAgICAgICAgICBkZWNsdXR0ZXJlZEZlYXR1cmVzLmluY2x1ZGVzKGZlYXR1cmUpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBpZHggPSAoaW5kZXhlc1tpXSAtIDMpIC8gNDtcbiAgICAgICAgICAgIGNvbnN0IHggPSBoaXRUb2xlcmFuY2UgLSAoaWR4ICUgY29udGV4dFNpemUpO1xuICAgICAgICAgICAgY29uc3QgeSA9IGhpdFRvbGVyYW5jZSAtICgoaWR4IC8gY29udGV4dFNpemUpIHwgMCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjYWxsYmFjayhmZWF0dXJlLCBnZW9tZXRyeSwgeCAqIHggKyB5ICogeSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNvbnRleHRTaXplLCBjb250ZXh0U2l6ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIGNvbnN0IHpzID0gT2JqZWN0LmtleXModGhpcy5leGVjdXRvcnNCeVpJbmRleF8pLm1hcChOdW1iZXIpO1xuICAgIHpzLnNvcnQoYXNjZW5kaW5nKTtcblxuICAgIGxldCBpLCBqLCBleGVjdXRvcnMsIGV4ZWN1dG9yLCByZXN1bHQ7XG4gICAgZm9yIChpID0genMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGNvbnN0IHpJbmRleEtleSA9IHpzW2ldLnRvU3RyaW5nKCk7XG4gICAgICBleGVjdXRvcnMgPSB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhLZXldO1xuICAgICAgZm9yIChqID0gT1JERVIubGVuZ3RoIC0gMTsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgYnVpbGRlclR5cGUgPSBPUkRFUltqXTtcbiAgICAgICAgZXhlY3V0b3IgPSBleGVjdXRvcnNbYnVpbGRlclR5cGVdO1xuICAgICAgICBpZiAoZXhlY3V0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3VsdCA9IGV4ZWN1dG9yLmV4ZWN1dGVIaXREZXRlY3Rpb24oXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgICBmZWF0dXJlQ2FsbGJhY2ssXG4gICAgICAgICAgICBoaXRFeHRlbnRcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fG51bGx9IENsaXAgY29vcmRpbmF0ZXMuXG4gICAqL1xuICBnZXRDbGlwQ29vcmRzKHRyYW5zZm9ybSkge1xuICAgIGNvbnN0IG1heEV4dGVudCA9IHRoaXMubWF4RXh0ZW50XztcbiAgICBpZiAoIW1heEV4dGVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG1pblggPSBtYXhFeHRlbnRbMF07XG4gICAgY29uc3QgbWluWSA9IG1heEV4dGVudFsxXTtcbiAgICBjb25zdCBtYXhYID0gbWF4RXh0ZW50WzJdO1xuICAgIGNvbnN0IG1heFkgPSBtYXhFeHRlbnRbM107XG4gICAgY29uc3QgZmxhdENsaXBDb29yZHMgPSBbbWluWCwgbWluWSwgbWluWCwgbWF4WSwgbWF4WCwgbWF4WSwgbWF4WCwgbWluWV07XG4gICAgdHJhbnNmb3JtMkQoZmxhdENsaXBDb29yZHMsIDAsIDgsIDIsIHRyYW5zZm9ybSwgZmxhdENsaXBDb29yZHMpO1xuICAgIHJldHVybiBmbGF0Q2xpcENvb3JkcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAgICovXG4gIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIGlzRW1wdHkodGhpcy5leGVjdXRvcnNCeVpJbmRleF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZXh0U2NhbGUgU2NhbGUgb2YgdGhlIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHZpZXdSb3RhdGlvbiBWaWV3IHJvdGF0aW9uLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNuYXBUb1BpeGVsIFNuYXAgcG9pbnQgc3ltYm9scyBhbmQgdGVzdCB0byBpbnRlZ2VyIHBpeGVsLlxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5CdWlsZGVyVHlwZT59IFtidWlsZGVyVHlwZXNdIE9yZGVyZWQgcmVwbGF5IHR5cGVzIHRvIHJlcGxheS5cbiAgICogICAgIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvcmVwbGF5fk9SREVSfVxuICAgKiBAcGFyYW0ge2ltcG9ydChcInJidXNoXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJUcmVlXSBEZWNsdXR0ZXIgdHJlZS5cbiAgICovXG4gIGV4ZWN1dGUoXG4gICAgY29udGV4dCxcbiAgICBjb250ZXh0U2NhbGUsXG4gICAgdHJhbnNmb3JtLFxuICAgIHZpZXdSb3RhdGlvbixcbiAgICBzbmFwVG9QaXhlbCxcbiAgICBidWlsZGVyVHlwZXMsXG4gICAgZGVjbHV0dGVyVHJlZVxuICApIHtcbiAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgY29uc3QgenMgPSBPYmplY3Qua2V5cyh0aGlzLmV4ZWN1dG9yc0J5WkluZGV4XykubWFwKE51bWJlcik7XG4gICAgenMuc29ydChhc2NlbmRpbmcpO1xuXG4gICAgLy8gc2V0dXAgY2xpcHBpbmcgc28gdGhhdCB0aGUgcGFydHMgb2Ygb3Zlci1zaW1wbGlmaWVkIGdlb21ldHJpZXMgYXJlIG5vdFxuICAgIC8vIHZpc2libGUgb3V0c2lkZSB0aGUgY3VycmVudCBleHRlbnQgd2hlbiBwYW5uaW5nXG4gICAgaWYgKHRoaXMubWF4RXh0ZW50Xykge1xuICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICB0aGlzLmNsaXAoY29udGV4dCwgdHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICBidWlsZGVyVHlwZXMgPSBidWlsZGVyVHlwZXMgPyBidWlsZGVyVHlwZXMgOiBPUkRFUjtcbiAgICBsZXQgaSwgaWksIGosIGpqLCByZXBsYXlzLCByZXBsYXk7XG4gICAgaWYgKGRlY2x1dHRlclRyZWUpIHtcbiAgICAgIHpzLnJldmVyc2UoKTtcbiAgICB9XG4gICAgZm9yIChpID0gMCwgaWkgPSB6cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBjb25zdCB6SW5kZXhLZXkgPSB6c1tpXS50b1N0cmluZygpO1xuICAgICAgcmVwbGF5cyA9IHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfW3pJbmRleEtleV07XG4gICAgICBmb3IgKGogPSAwLCBqaiA9IGJ1aWxkZXJUeXBlcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgIGNvbnN0IGJ1aWxkZXJUeXBlID0gYnVpbGRlclR5cGVzW2pdO1xuICAgICAgICByZXBsYXkgPSByZXBsYXlzW2J1aWxkZXJUeXBlXTtcbiAgICAgICAgaWYgKHJlcGxheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVwbGF5LmV4ZWN1dGUoXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgY29udGV4dFNjYWxlLFxuICAgICAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICAgICAgdmlld1JvdGF0aW9uLFxuICAgICAgICAgICAgc25hcFRvUGl4ZWwsXG4gICAgICAgICAgICBkZWNsdXR0ZXJUcmVlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm1heEV4dGVudF8pIHtcbiAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgY2FjaGUgaXMgdXNlZCB0byBzdG9yZSBhcnJheXMgb2YgaW5kZXhlcyBmb3IgY2FsY3VsYXRlZCBwaXhlbCBjaXJjbGVzXG4gKiB0byBpbmNyZWFzZSBwZXJmb3JtYW5jZS5cbiAqIEl0IGlzIGEgc3RhdGljIHByb3BlcnR5IHRvIGFsbG93IGVhY2ggUmVwbGF5Z3JvdXAgdG8gYWNjZXNzIGl0LlxuICogQHR5cGUge09iamVjdDxudW1iZXIsIEFycmF5PG51bWJlcj4+fVxuICovXG5jb25zdCBjaXJjbGVQaXhlbEluZGV4QXJyYXlDYWNoZSA9IHt9O1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kcyBjcmVhdGVzIGFuIGFycmF5IHdpdGggaW5kZXhlcyBvZiBhbGwgcGl4ZWxzIHdpdGhpbiBhIGNpcmNsZSxcbiAqIG9yZGVyZWQgYnkgaG93IGNsb3NlIHRoZXkgYXJlIHRvIHRoZSBjZW50ZXIuXG4gKiBBIGNhY2hlIGlzIHVzZWQgdG8gaW5jcmVhc2UgcGVyZm9ybWFuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFJhZGl1cy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEFuIGFycmF5IHdpdGggaW5kZXhlcyB3aXRoaW4gYSBjaXJjbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaXhlbEluZGV4QXJyYXkocmFkaXVzKSB7XG4gIGlmIChjaXJjbGVQaXhlbEluZGV4QXJyYXlDYWNoZVtyYWRpdXNdICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGVbcmFkaXVzXTtcbiAgfVxuXG4gIGNvbnN0IHNpemUgPSByYWRpdXMgKiAyICsgMTtcbiAgY29uc3QgbWF4RGlzdGFuY2VTcSA9IHJhZGl1cyAqIHJhZGl1cztcbiAgY29uc3QgZGlzdGFuY2VzID0gbmV3IEFycmF5KG1heERpc3RhbmNlU3EgKyAxKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPD0gcmFkaXVzOyArK2kpIHtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8PSByYWRpdXM7ICsraikge1xuICAgICAgY29uc3QgZGlzdGFuY2VTcSA9IGkgKiBpICsgaiAqIGo7XG4gICAgICBpZiAoZGlzdGFuY2VTcSA+IG1heERpc3RhbmNlU3EpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsZXQgZGlzdGFuY2UgPSBkaXN0YW5jZXNbZGlzdGFuY2VTcV07XG4gICAgICBpZiAoIWRpc3RhbmNlKSB7XG4gICAgICAgIGRpc3RhbmNlID0gW107XG4gICAgICAgIGRpc3RhbmNlc1tkaXN0YW5jZVNxXSA9IGRpc3RhbmNlO1xuICAgICAgfVxuICAgICAgZGlzdGFuY2UucHVzaCgoKHJhZGl1cyArIGkpICogc2l6ZSArIChyYWRpdXMgKyBqKSkgKiA0ICsgMyk7XG4gICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgZGlzdGFuY2UucHVzaCgoKHJhZGl1cyAtIGkpICogc2l6ZSArIChyYWRpdXMgKyBqKSkgKiA0ICsgMyk7XG4gICAgICB9XG4gICAgICBpZiAoaiA+IDApIHtcbiAgICAgICAgZGlzdGFuY2UucHVzaCgoKHJhZGl1cyArIGkpICogc2l6ZSArIChyYWRpdXMgLSBqKSkgKiA0ICsgMyk7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgIGRpc3RhbmNlLnB1c2goKChyYWRpdXMgLSBpKSAqIHNpemUgKyAocmFkaXVzIC0gaikpICogNCArIDMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcGl4ZWxJbmRleCA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBkaXN0YW5jZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGlmIChkaXN0YW5jZXNbaV0pIHtcbiAgICAgIHBpeGVsSW5kZXgucHVzaCguLi5kaXN0YW5jZXNbaV0pO1xuICAgIH1cbiAgfVxuXG4gIGNpcmNsZVBpeGVsSW5kZXhBcnJheUNhY2hlW3JhZGl1c10gPSBwaXhlbEluZGV4O1xuICByZXR1cm4gcGl4ZWxJbmRleDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRXhlY3V0b3JHcm91cDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0ltbWVkaWF0ZVxuICovXG4vLyBGSVhNRSB0ZXN0LCBlc3BlY2lhbGx5IHBvbHlnb25zIHdpdGggaG9sZXMgYW5kIG11bHRpcG9seWdvbnNcbi8vIEZJWE1FIG5lZWQgdG8gaGFuZGxlIGxhcmdlIHRoaWNrIGZlYXR1cmVzICh3aGVyZSBwaXhlbCBzaXplIG1hdHRlcnMpXG4vLyBGSVhNRSBhZGQgb2Zmc2V0IGFuZCBlbmQgdG8gb2wvZ2VvbS9mbGF0L3RyYW5zZm9ybX50cmFuc2Zvcm0yRD9cblxuaW1wb3J0IFZlY3RvckNvbnRleHQgZnJvbSAnLi4vVmVjdG9yQ29udGV4dC5qcyc7XG5pbXBvcnQge2FzQ29sb3JMaWtlfSBmcm9tICcuLi8uLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHtcbiAgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLFxuICBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLFxufSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEZpbGxTdHlsZSxcbiAgZGVmYXVsdEZvbnQsXG4gIGRlZmF1bHRMaW5lQ2FwLFxuICBkZWZhdWx0TGluZURhc2gsXG4gIGRlZmF1bHRMaW5lRGFzaE9mZnNldCxcbiAgZGVmYXVsdExpbmVKb2luLFxuICBkZWZhdWx0TGluZVdpZHRoLFxuICBkZWZhdWx0TWl0ZXJMaW1pdCxcbiAgZGVmYXVsdFN0cm9rZVN0eWxlLFxuICBkZWZhdWx0VGV4dEFsaWduLFxuICBkZWZhdWx0VGV4dEJhc2VsaW5lLFxufSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHtlcXVhbHN9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7aW50ZXJzZWN0c30gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7dG9GaXhlZH0gZnJvbSAnLi4vLi4vbWF0aC5qcyc7XG5pbXBvcnQge3RyYW5zZm9ybTJEfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7dHJhbnNmb3JtR2VvbTJEfSBmcm9tICcuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGNvbmNyZXRlIHN1YmNsYXNzIG9mIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL1ZlY3RvckNvbnRleHR+VmVjdG9yQ29udGV4dH0gdGhhdCBpbXBsZW1lbnRzXG4gKiBkaXJlY3QgcmVuZGVyaW5nIG9mIGZlYXR1cmVzIGFuZCBnZW9tZXRyaWVzIHRvIGFuIEhUTUw1IENhbnZhcyBjb250ZXh0LlxuICogSW5zdGFuY2VzIG9mIHRoaXMgY2xhc3MgYXJlIGNyZWF0ZWQgaW50ZXJuYWxseSBieSB0aGUgbGlicmFyeSBhbmRcbiAqIHByb3ZpZGVkIHRvIGFwcGxpY2F0aW9uIGNvZGUgYXMgdmVjdG9yQ29udGV4dCBtZW1iZXIgb2YgdGhlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudH0gb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCBwb3N0Y29tcG9zZSwgcHJlY29tcG9zZSBhbmRcbiAqIHJlbmRlciBldmVudHMgZW1pdHRlZCBieSBsYXllcnMgYW5kIG1hcHMuXG4gKi9cbmNsYXNzIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyIGV4dGVuZHMgVmVjdG9yQ29udGV4dCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2aWV3Um90YXRpb24gVmlldyByb3RhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzcXVhcmVkVG9sZXJhbmNlXSBPcHRpb25hbCBzcXVhcmVkIHRvbGVyYW5jZSBmb3Igc2ltcGxpZmljYXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gW3VzZXJUcmFuc2Zvcm1dIFRyYW5zZm9ybSBmcm9tIHVzZXIgdG8gdmlldyBwcm9qZWN0aW9uLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgY29udGV4dCxcbiAgICBwaXhlbFJhdGlvLFxuICAgIGV4dGVudCxcbiAgICB0cmFuc2Zvcm0sXG4gICAgdmlld1JvdGF0aW9uLFxuICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgdXNlclRyYW5zZm9ybVxuICApIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dF8gPSBjb250ZXh0O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxSYXRpb18gPSBwaXhlbFJhdGlvO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudF8gPSBleHRlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMudHJhbnNmb3JtXyA9IHRyYW5zZm9ybTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRyYW5zZm9ybVJvdGF0aW9uXyA9IHRyYW5zZm9ybVxuICAgICAgPyB0b0ZpeGVkKE1hdGguYXRhbjIodHJhbnNmb3JtWzFdLCB0cmFuc2Zvcm1bMF0pLCAxMClcbiAgICAgIDogMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXdSb3RhdGlvbl8gPSB2aWV3Um90YXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zcXVhcmVkVG9sZXJhbmNlXyA9IHNxdWFyZWRUb2xlcmFuY2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMudXNlclRyYW5zZm9ybV8gPSB1c2VyVHJhbnNmb3JtO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0RmlsbFN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dFN0cm9rZVN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHRUZXh0U3RhdGVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMuZmlsbFN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMuc3Ryb2tlU3RhdGVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZUFuY2hvclhfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlQW5jaG9yWV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VIZWlnaHRfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlT3BhY2l0eV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VPcmlnaW5YXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZU9yaWdpbllfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pbWFnZVJvdGF0ZVdpdGhWaWV3XyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VSb3RhdGlvbl8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VTY2FsZV8gPSBbMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZVdpZHRoXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy50ZXh0XyA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGV4dE9mZnNldFhfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRPZmZzZXRZXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGV4dFJvdGF0aW9uXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0U2NhbGVfID0gWzAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dFN0cm9rZVN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMudG1wTG9jYWxUcmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRyYXdJbWFnZXNfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAgIGlmICghdGhpcy5pbWFnZV8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybTJEKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgdGhpcy50cmFuc2Zvcm1fLFxuICAgICAgdGhpcy5waXhlbENvb3JkaW5hdGVzX1xuICAgICk7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgY29uc3QgbG9jYWxUcmFuc2Zvcm0gPSB0aGlzLnRtcExvY2FsVHJhbnNmb3JtXztcbiAgICBjb25zdCBhbHBoYSA9IGNvbnRleHQuZ2xvYmFsQWxwaGE7XG4gICAgaWYgKHRoaXMuaW1hZ2VPcGFjaXR5XyAhPSAxKSB7XG4gICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGEgKiB0aGlzLmltYWdlT3BhY2l0eV87XG4gICAgfVxuICAgIGxldCByb3RhdGlvbiA9IHRoaXMuaW1hZ2VSb3RhdGlvbl87XG4gICAgaWYgKHRoaXMudHJhbnNmb3JtUm90YXRpb25fID09PSAwKSB7XG4gICAgICByb3RhdGlvbiAtPSB0aGlzLnZpZXdSb3RhdGlvbl87XG4gICAgfVxuICAgIGlmICh0aGlzLmltYWdlUm90YXRlV2l0aFZpZXdfKSB7XG4gICAgICByb3RhdGlvbiArPSB0aGlzLnZpZXdSb3RhdGlvbl87XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHBpeGVsQ29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gMikge1xuICAgICAgY29uc3QgeCA9IHBpeGVsQ29vcmRpbmF0ZXNbaV0gLSB0aGlzLmltYWdlQW5jaG9yWF87XG4gICAgICBjb25zdCB5ID0gcGl4ZWxDb29yZGluYXRlc1tpICsgMV0gLSB0aGlzLmltYWdlQW5jaG9yWV87XG4gICAgICBpZiAoXG4gICAgICAgIHJvdGF0aW9uICE9PSAwIHx8XG4gICAgICAgIHRoaXMuaW1hZ2VTY2FsZV9bMF0gIT0gMSB8fFxuICAgICAgICB0aGlzLmltYWdlU2NhbGVfWzFdICE9IDFcbiAgICAgICkge1xuICAgICAgICBjb25zdCBjZW50ZXJYID0geCArIHRoaXMuaW1hZ2VBbmNob3JYXztcbiAgICAgICAgY29uc3QgY2VudGVyWSA9IHkgKyB0aGlzLmltYWdlQW5jaG9yWV87XG4gICAgICAgIGNvbXBvc2VUcmFuc2Zvcm0oXG4gICAgICAgICAgbG9jYWxUcmFuc2Zvcm0sXG4gICAgICAgICAgY2VudGVyWCxcbiAgICAgICAgICBjZW50ZXJZLFxuICAgICAgICAgIDEsXG4gICAgICAgICAgMSxcbiAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICAtY2VudGVyWCxcbiAgICAgICAgICAtY2VudGVyWVxuICAgICAgICApO1xuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybS5hcHBseShjb250ZXh0LCBsb2NhbFRyYW5zZm9ybSk7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKGNlbnRlclgsIGNlbnRlclkpO1xuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMuaW1hZ2VTY2FsZV9bMF0sIHRoaXMuaW1hZ2VTY2FsZV9bMV0pO1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgICB0aGlzLmltYWdlXyxcbiAgICAgICAgICB0aGlzLmltYWdlT3JpZ2luWF8sXG4gICAgICAgICAgdGhpcy5pbWFnZU9yaWdpbllfLFxuICAgICAgICAgIHRoaXMuaW1hZ2VXaWR0aF8sXG4gICAgICAgICAgdGhpcy5pbWFnZUhlaWdodF8sXG4gICAgICAgICAgLXRoaXMuaW1hZ2VBbmNob3JYXyxcbiAgICAgICAgICAtdGhpcy5pbWFnZUFuY2hvcllfLFxuICAgICAgICAgIHRoaXMuaW1hZ2VXaWR0aF8sXG4gICAgICAgICAgdGhpcy5pbWFnZUhlaWdodF9cbiAgICAgICAgKTtcbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgICB0aGlzLmltYWdlXyxcbiAgICAgICAgICB0aGlzLmltYWdlT3JpZ2luWF8sXG4gICAgICAgICAgdGhpcy5pbWFnZU9yaWdpbllfLFxuICAgICAgICAgIHRoaXMuaW1hZ2VXaWR0aF8sXG4gICAgICAgICAgdGhpcy5pbWFnZUhlaWdodF8sXG4gICAgICAgICAgeCxcbiAgICAgICAgICB5LFxuICAgICAgICAgIHRoaXMuaW1hZ2VXaWR0aF8sXG4gICAgICAgICAgdGhpcy5pbWFnZUhlaWdodF9cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuaW1hZ2VPcGFjaXR5XyAhPSAxKSB7XG4gICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGE7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkcmF3VGV4dF8oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgaWYgKCF0aGlzLnRleHRTdGF0ZV8gfHwgdGhpcy50ZXh0XyA9PT0gJycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dEZpbGxTdGF0ZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy50ZXh0RmlsbFN0YXRlXyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRTdHJva2VTdGF0ZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnRleHRTdHJva2VTdGF0ZV8pO1xuICAgIH1cbiAgICB0aGlzLnNldENvbnRleHRUZXh0U3RhdGVfKHRoaXMudGV4dFN0YXRlXyk7XG4gICAgY29uc3QgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybTJEKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgdGhpcy50cmFuc2Zvcm1fLFxuICAgICAgdGhpcy5waXhlbENvb3JkaW5hdGVzX1xuICAgICk7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgbGV0IHJvdGF0aW9uID0gdGhpcy50ZXh0Um90YXRpb25fO1xuICAgIGlmICh0aGlzLnRyYW5zZm9ybVJvdGF0aW9uXyA9PT0gMCkge1xuICAgICAgcm90YXRpb24gLT0gdGhpcy52aWV3Um90YXRpb25fO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfKSB7XG4gICAgICByb3RhdGlvbiArPSB0aGlzLnZpZXdSb3RhdGlvbl87XG4gICAgfVxuICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgIGNvbnN0IHggPSBwaXhlbENvb3JkaW5hdGVzW29mZnNldF0gKyB0aGlzLnRleHRPZmZzZXRYXztcbiAgICAgIGNvbnN0IHkgPSBwaXhlbENvb3JkaW5hdGVzW29mZnNldCArIDFdICsgdGhpcy50ZXh0T2Zmc2V0WV87XG4gICAgICBpZiAoXG4gICAgICAgIHJvdGF0aW9uICE9PSAwIHx8XG4gICAgICAgIHRoaXMudGV4dFNjYWxlX1swXSAhPSAxIHx8XG4gICAgICAgIHRoaXMudGV4dFNjYWxlX1sxXSAhPSAxXG4gICAgICApIHtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoeCAtIHRoaXMudGV4dE9mZnNldFhfLCB5IC0gdGhpcy50ZXh0T2Zmc2V0WV8pO1xuICAgICAgICBjb250ZXh0LnJvdGF0ZShyb3RhdGlvbik7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHRoaXMudGV4dE9mZnNldFhfLCB0aGlzLnRleHRPZmZzZXRZXyk7XG4gICAgICAgIGNvbnRleHQuc2NhbGUodGhpcy50ZXh0U2NhbGVfWzBdLCB0aGlzLnRleHRTY2FsZV9bMV0pO1xuICAgICAgICBpZiAodGhpcy50ZXh0U3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KHRoaXMudGV4dF8sIDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRleHRGaWxsU3RhdGVfKSB7XG4gICAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLnRleHRfLCAwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnRleHRTdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGhpcy50ZXh0XywgeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dEZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMudGV4dF8sIHgsIHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvc2UgQ2xvc2UuXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge251bWJlcn0gZW5kIEVuZC5cbiAgICovXG4gIG1vdmVUb0xpbmVUb18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjbG9zZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIGNvbnN0IHBpeGVsQ29vcmRpbmF0ZXMgPSB0cmFuc2Zvcm0yRChcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIHRoaXMudHJhbnNmb3JtXyxcbiAgICAgIHRoaXMucGl4ZWxDb29yZGluYXRlc19cbiAgICApO1xuICAgIGNvbnRleHQubW92ZVRvKHBpeGVsQ29vcmRpbmF0ZXNbMF0sIHBpeGVsQ29vcmRpbmF0ZXNbMV0pO1xuICAgIGxldCBsZW5ndGggPSBwaXhlbENvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICBpZiAoY2xvc2UpIHtcbiAgICAgIGxlbmd0aCAtPSAyO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMjsgaSA8IGxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBjb250ZXh0LmxpbmVUbyhwaXhlbENvb3JkaW5hdGVzW2ldLCBwaXhlbENvb3JkaW5hdGVzW2kgKyAxXSk7XG4gICAgfVxuICAgIGlmIChjbG9zZSkge1xuICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEVuZC5cbiAgICovXG4gIGRyYXdSaW5nc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgb2Zmc2V0ID0gdGhpcy5tb3ZlVG9MaW5lVG9fKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgZW5kc1tpXSxcbiAgICAgICAgc3RyaWRlLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIGNpcmNsZSBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZCB1c2VzXG4gICAqIHRoZSBjdXJyZW50IGZpbGwgYW5kIHN0cm9rZSBzdHlsZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgQ2lyY2xlIGdlb21ldHJ5LlxuICAgKiBAYXBpXG4gICAqL1xuICBkcmF3Q2lyY2xlKGdlb21ldHJ5KSB7XG4gICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8gfHwgdGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgdGhpcy5zZXRDb250ZXh0RmlsbFN0YXRlXyh0aGlzLmZpbGxTdGF0ZV8pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICB9XG4gICAgICBjb25zdCBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtR2VvbTJEKFxuICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1fLFxuICAgICAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfXG4gICAgICApO1xuICAgICAgY29uc3QgZHggPSBwaXhlbENvb3JkaW5hdGVzWzJdIC0gcGl4ZWxDb29yZGluYXRlc1swXTtcbiAgICAgIGNvbnN0IGR5ID0gcGl4ZWxDb29yZGluYXRlc1szXSAtIHBpeGVsQ29vcmRpbmF0ZXNbMV07XG4gICAgICBjb25zdCByYWRpdXMgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgY29udGV4dC5hcmMoXG4gICAgICAgIHBpeGVsQ29vcmRpbmF0ZXNbMF0sXG4gICAgICAgIHBpeGVsQ29vcmRpbmF0ZXNbMV0sXG4gICAgICAgIHJhZGl1cyxcbiAgICAgICAgMCxcbiAgICAgICAgMiAqIE1hdGguUElcbiAgICAgICk7XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgdGhpcy5kcmF3VGV4dF8oZ2VvbWV0cnkuZ2V0Q2VudGVyKCksIDAsIDIsIDIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHJlbmRlcmluZyBzdHlsZS4gIE5vdGUgdGhhdCBzaW5jZSB0aGlzIGlzIGFuIGltbWVkaWF0ZSByZW5kZXJpbmcgQVBJLFxuICAgKiBhbnkgYHpJbmRleGAgb24gdGhlIHByb3ZpZGVkIHN0eWxlIHdpbGwgYmUgaWdub3JlZC5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBUaGUgcmVuZGVyaW5nIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRTdHlsZShzdHlsZSkge1xuICAgIHRoaXMuc2V0RmlsbFN0cm9rZVN0eWxlKHN0eWxlLmdldEZpbGwoKSwgc3R5bGUuZ2V0U3Ryb2tlKCkpO1xuICAgIHRoaXMuc2V0SW1hZ2VTdHlsZShzdHlsZS5nZXRJbWFnZSgpKTtcbiAgICB0aGlzLnNldFRleHRTdHlsZShzdHlsZS5nZXRUZXh0KCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICovXG4gIHNldFRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcbiAgICB0aGlzLnRyYW5zZm9ybV8gPSB0cmFuc2Zvcm07XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgQ2FsbFxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9jYW52YXMvSW1tZWRpYXRlfkNhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyI3NldFN0eWxlIHJlbmRlcmVyLnNldFN0eWxlKCl9IGZpcnN0IHRvIHNldCB0aGUgcmVuZGVyaW5nIHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFRoZSBnZW9tZXRyeSB0byByZW5kZXIuXG4gICAqIEBhcGlcbiAgICovXG4gIGRyYXdHZW9tZXRyeShnZW9tZXRyeSkge1xuICAgIGNvbnN0IHR5cGUgPSBnZW9tZXRyeS5nZXRUeXBlKCk7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdQb2ludCc6XG4gICAgICAgIHRoaXMuZHJhd1BvaW50KFxuICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnTGluZVN0cmluZyc6XG4gICAgICAgIHRoaXMuZHJhd0xpbmVTdHJpbmcoXG4gICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1BvbHlnb24nOlxuICAgICAgICB0aGlzLmRyYXdQb2x5Z29uKFxuICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSlcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdNdWx0aVBvaW50JzpcbiAgICAgICAgdGhpcy5kcmF3TXVsdGlQb2ludChcbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcbiAgICAgICAgdGhpcy5kcmF3TXVsdGlMaW5lU3RyaW5nKFxuICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnTXVsdGlQb2x5Z29uJzpcbiAgICAgICAgdGhpcy5kcmF3TXVsdGlQb2x5Z29uKFxuICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0dlb21ldHJ5Q29sbGVjdGlvbic6XG4gICAgICAgIHRoaXMuZHJhd0dlb21ldHJ5Q29sbGVjdGlvbihcbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0NpcmNsZSc6XG4gICAgICAgIHRoaXMuZHJhd0NpcmNsZShcbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSlcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBmZWF0dXJlIGludG8gdGhlIGNhbnZhcy4gIE5vdGUgdGhhdCBhbnkgYHpJbmRleGAgb24gdGhlIHByb3ZpZGVkXG4gICAqIHN0eWxlIHdpbGwgYmUgaWdub3JlZCAtIGZlYXR1cmVzIGFyZSByZW5kZXJlZCBpbW1lZGlhdGVseSBpbiB0aGUgb3JkZXIgdGhhdFxuICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQuICBJZiB5b3UgbmVlZCBgekluZGV4YCBzdXBwb3J0LCB5b3Ugc2hvdWxkIGJlIHVzaW5nIGFuXG4gICAqIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvVmVjdG9yflZlY3RvckxheWVyfSBpbnN0ZWFkLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBkcmF3RmVhdHVyZShmZWF0dXJlLCBzdHlsZSkge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gc3R5bGUuZ2V0R2VvbWV0cnlGdW5jdGlvbigpKGZlYXR1cmUpO1xuICAgIGlmICghZ2VvbWV0cnkgfHwgIWludGVyc2VjdHModGhpcy5leHRlbnRfLCBnZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRTdHlsZShzdHlsZSk7XG4gICAgdGhpcy5kcmF3R2VvbWV0cnkoZ2VvbWV0cnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIEdlb21ldHJ5Q29sbGVjdGlvbiB0byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmRcbiAgICogdXNlcyB0aGUgY3VycmVudCBzdHlsZXMgYXBwcm9wcmlhdGUgZm9yIGVhY2ggZ2VvbWV0cnkgaW4gdGhlIGNvbGxlY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkgY29sbGVjdGlvbi5cbiAgICovXG4gIGRyYXdHZW9tZXRyeUNvbGxlY3Rpb24oZ2VvbWV0cnkpIHtcbiAgICBjb25zdCBnZW9tZXRyaWVzID0gZ2VvbWV0cnkuZ2V0R2VvbWV0cmllc0FycmF5KCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB0aGlzLmRyYXdHZW9tZXRyeShnZW9tZXRyaWVzW2ldKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgUG9pbnQgZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmQgdXNlc1xuICAgKiB0aGUgY3VycmVudCBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBQb2ludCBnZW9tZXRyeS5cbiAgICovXG4gIGRyYXdQb2ludChnZW9tZXRyeSkge1xuICAgIGlmICh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfKSB7XG4gICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQoXG4gICAgICAgICAgdGhpcy5zcXVhcmVkVG9sZXJhbmNlXyxcbiAgICAgICAgICB0aGlzLnVzZXJUcmFuc2Zvcm1fXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGNvbnN0IHN0cmlkZSA9IGdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgIGlmICh0aGlzLmltYWdlXykge1xuICAgICAgdGhpcy5kcmF3SW1hZ2VzXyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBNdWx0aVBvaW50IGdlb21ldHJ5ICBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZFxuICAgKiB1c2VzIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgTXVsdGlQb2ludCBnZW9tZXRyeS5cbiAgICovXG4gIGRyYXdNdWx0aVBvaW50KGdlb21ldHJ5KSB7XG4gICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKFxuICAgICAgICAgIHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sXG4gICAgICAgICAgdGhpcy51c2VyVHJhbnNmb3JtX1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBjb25zdCBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBpZiAodGhpcy5pbWFnZV8pIHtcbiAgICAgIHRoaXMuZHJhd0ltYWdlc18oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUpO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgTGluZVN0cmluZyBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZCB1c2VzXG4gICAqIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgTGluZVN0cmluZyBnZW9tZXRyeS5cbiAgICovXG4gIGRyYXdMaW5lU3RyaW5nKGdlb21ldHJ5KSB7XG4gICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKFxuICAgICAgICAgIHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sXG4gICAgICAgICAgdGhpcy51c2VyVHJhbnNmb3JtX1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIWludGVyc2VjdHModGhpcy5leHRlbnRfLCBnZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICB0aGlzLm1vdmVUb0xpbmVUb18oXG4gICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgMCxcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgICAgZ2VvbWV0cnkuZ2V0U3RyaWRlKCksXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICBjb25zdCBmbGF0TWlkcG9pbnQgPSBnZW9tZXRyeS5nZXRGbGF0TWlkcG9pbnQoKTtcbiAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRNaWRwb2ludCwgMCwgMiwgMik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIE11bHRpTGluZVN0cmluZyBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlXG4gICAqIGFuZCB1c2VzIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBNdWx0aUxpbmVTdHJpbmcgZ2VvbWV0cnkuXG4gICAqL1xuICBkcmF3TXVsdGlMaW5lU3RyaW5nKGdlb21ldHJ5KSB7XG4gICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgIGdlb21ldHJ5ID1cbiAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgZ2VvbWV0cnkuc2ltcGxpZnlUcmFuc2Zvcm1lZChcbiAgICAgICAgICAgIHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sXG4gICAgICAgICAgICB0aGlzLnVzZXJUcmFuc2Zvcm1fXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH1cbiAgICBjb25zdCBnZW9tZXRyeUV4dGVudCA9IGdlb21ldHJ5LmdldEV4dGVudCgpO1xuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5RXh0ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICBjb25zdCBlbmRzID0gLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoZ2VvbWV0cnkuZ2V0RW5kcygpKTtcbiAgICAgIGNvbnN0IHN0cmlkZSA9IGdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBvZmZzZXQgPSB0aGlzLm1vdmVUb0xpbmVUb18oXG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICBlbmRzW2ldLFxuICAgICAgICAgIHN0cmlkZSxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICBjb25zdCBmbGF0TWlkcG9pbnRzID0gZ2VvbWV0cnkuZ2V0RmxhdE1pZHBvaW50cygpO1xuICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdE1pZHBvaW50cywgMCwgZmxhdE1pZHBvaW50cy5sZW5ndGgsIDIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBQb2x5Z29uIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICogdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBQb2x5Z29uIGdlb21ldHJ5LlxuICAgKi9cbiAgZHJhd1BvbHlnb24oZ2VvbWV0cnkpIHtcbiAgICBpZiAodGhpcy5zcXVhcmVkVG9sZXJhbmNlXykge1xuICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQoXG4gICAgICAgICAgdGhpcy5zcXVhcmVkVG9sZXJhbmNlXyxcbiAgICAgICAgICB0aGlzLnVzZXJUcmFuc2Zvcm1fXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8gfHwgdGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy5maWxsU3RhdGVfKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgdGhpcy5kcmF3UmluZ3NfKFxuICAgICAgICBnZW9tZXRyeS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLFxuICAgICAgICAwLFxuICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChnZW9tZXRyeS5nZXRFbmRzKCkpLFxuICAgICAgICBnZW9tZXRyeS5nZXRTdHJpZGUoKVxuICAgICAgKTtcbiAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICBjb25zdCBmbGF0SW50ZXJpb3JQb2ludCA9IGdlb21ldHJ5LmdldEZsYXRJbnRlcmlvclBvaW50KCk7XG4gICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0SW50ZXJpb3JQb2ludCwgMCwgMiwgMik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBNdWx0aVBvbHlnb24gZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmRcbiAgICogdXNlcyB0aGUgY3VycmVudCBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBNdWx0aVBvbHlnb24gZ2VvbWV0cnkuXG4gICAqL1xuICBkcmF3TXVsdGlQb2x5Z29uKGdlb21ldHJ5KSB7XG4gICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQoXG4gICAgICAgICAgdGhpcy5zcXVhcmVkVG9sZXJhbmNlXyxcbiAgICAgICAgICB0aGlzLnVzZXJUcmFuc2Zvcm1fXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8gfHwgdGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy5maWxsU3RhdGVfKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICBjb25zdCBlbmRzcyA9IGdlb21ldHJ5LmdldEVuZHNzKCk7XG4gICAgICBjb25zdCBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3UmluZ3NfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgIGNvbnN0IGZsYXRJbnRlcmlvclBvaW50cyA9IGdlb21ldHJ5LmdldEZsYXRJbnRlcmlvclBvaW50cygpO1xuICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdEludGVyaW9yUG9pbnRzLCAwLCBmbGF0SW50ZXJpb3JQb2ludHMubGVuZ3RoLCAyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfSBmaWxsU3RhdGUgRmlsbCBzdGF0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldENvbnRleHRGaWxsU3RhdGVfKGZpbGxTdGF0ZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIGNvbnN0IGNvbnRleHRGaWxsU3RhdGUgPSB0aGlzLmNvbnRleHRGaWxsU3RhdGVfO1xuICAgIGlmICghY29udGV4dEZpbGxTdGF0ZSkge1xuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsU3RhdGUuZmlsbFN0eWxlO1xuICAgICAgdGhpcy5jb250ZXh0RmlsbFN0YXRlXyA9IHtcbiAgICAgICAgZmlsbFN0eWxlOiBmaWxsU3RhdGUuZmlsbFN0eWxlLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNvbnRleHRGaWxsU3RhdGUuZmlsbFN0eWxlICE9IGZpbGxTdGF0ZS5maWxsU3R5bGUpIHtcbiAgICAgICAgY29udGV4dEZpbGxTdGF0ZS5maWxsU3R5bGUgPSBmaWxsU3RhdGUuZmlsbFN0eWxlO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxTdGF0ZS5maWxsU3R5bGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfSBzdHJva2VTdGF0ZSBTdHJva2Ugc3RhdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXRDb250ZXh0U3Ryb2tlU3RhdGVfKHN0cm9rZVN0YXRlKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgY29uc3QgY29udGV4dFN0cm9rZVN0YXRlID0gdGhpcy5jb250ZXh0U3Ryb2tlU3RhdGVfO1xuICAgIGlmICghY29udGV4dFN0cm9rZVN0YXRlKSB7XG4gICAgICBjb250ZXh0LmxpbmVDYXAgPSBzdHJva2VTdGF0ZS5saW5lQ2FwO1xuICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdGF0ZS5saW5lRGFzaCk7XG4gICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgICBjb250ZXh0LmxpbmVKb2luID0gc3Ryb2tlU3RhdGUubGluZUpvaW47XG4gICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aDtcbiAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQ7XG4gICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICB0aGlzLmNvbnRleHRTdHJva2VTdGF0ZV8gPSB7XG4gICAgICAgIGxpbmVDYXA6IHN0cm9rZVN0YXRlLmxpbmVDYXAsXG4gICAgICAgIGxpbmVEYXNoOiBzdHJva2VTdGF0ZS5saW5lRGFzaCxcbiAgICAgICAgbGluZURhc2hPZmZzZXQ6IHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgICBsaW5lSm9pbjogc3Ryb2tlU3RhdGUubGluZUpvaW4sXG4gICAgICAgIGxpbmVXaWR0aDogc3Ryb2tlU3RhdGUubGluZVdpZHRoLFxuICAgICAgICBtaXRlckxpbWl0OiBzdHJva2VTdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICBzdHJva2VTdHlsZTogc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLmxpbmVDYXAgIT0gc3Ryb2tlU3RhdGUubGluZUNhcCkge1xuICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubGluZUNhcCA9IHN0cm9rZVN0YXRlLmxpbmVDYXA7XG4gICAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0cm9rZVN0YXRlLmxpbmVDYXA7XG4gICAgICB9XG4gICAgICBpZiAoIWVxdWFscyhjb250ZXh0U3Ryb2tlU3RhdGUubGluZURhc2gsIHN0cm9rZVN0YXRlLmxpbmVEYXNoKSkge1xuICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKFxuICAgICAgICAgIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZURhc2ggPSBzdHJva2VTdGF0ZS5saW5lRGFzaClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQgIT0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQpIHtcbiAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldDtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZUpvaW4gIT0gc3Ryb2tlU3RhdGUubGluZUpvaW4pIHtcbiAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVKb2luID0gc3Ryb2tlU3RhdGUubGluZUpvaW47XG4gICAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHJva2VTdGF0ZS5saW5lSm9pbjtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZVdpZHRoICE9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCkge1xuICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubGluZVdpZHRoID0gc3Ryb2tlU3RhdGUubGluZVdpZHRoO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aDtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCAhPSBzdHJva2VTdGF0ZS5taXRlckxpbWl0KSB7XG4gICAgICAgIGNvbnRleHRTdHJva2VTdGF0ZS5taXRlckxpbWl0ID0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdDtcbiAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdDtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUgIT0gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlID0gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlfSB0ZXh0U3RhdGUgVGV4dCBzdGF0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldENvbnRleHRUZXh0U3RhdGVfKHRleHRTdGF0ZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIGNvbnN0IGNvbnRleHRUZXh0U3RhdGUgPSB0aGlzLmNvbnRleHRUZXh0U3RhdGVfO1xuICAgIGNvbnN0IHRleHRBbGlnbiA9IHRleHRTdGF0ZS50ZXh0QWxpZ25cbiAgICAgID8gdGV4dFN0YXRlLnRleHRBbGlnblxuICAgICAgOiBkZWZhdWx0VGV4dEFsaWduO1xuICAgIGlmICghY29udGV4dFRleHRTdGF0ZSkge1xuICAgICAgY29udGV4dC5mb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICBjb250ZXh0LnRleHRBbGlnbiA9IHRleHRBbGlnbjtcbiAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gdGV4dFN0YXRlLnRleHRCYXNlbGluZTtcbiAgICAgIHRoaXMuY29udGV4dFRleHRTdGF0ZV8gPSB7XG4gICAgICAgIGZvbnQ6IHRleHRTdGF0ZS5mb250LFxuICAgICAgICB0ZXh0QWxpZ246IHRleHRBbGlnbixcbiAgICAgICAgdGV4dEJhc2VsaW5lOiB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNvbnRleHRUZXh0U3RhdGUuZm9udCAhPSB0ZXh0U3RhdGUuZm9udCkge1xuICAgICAgICBjb250ZXh0VGV4dFN0YXRlLmZvbnQgPSB0ZXh0U3RhdGUuZm9udDtcbiAgICAgICAgY29udGV4dC5mb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dFRleHRTdGF0ZS50ZXh0QWxpZ24gIT0gdGV4dEFsaWduKSB7XG4gICAgICAgIGNvbnRleHRUZXh0U3RhdGUudGV4dEFsaWduID0gdGV4dEFsaWduO1xuICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9IHRleHRBbGlnbjtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0VGV4dFN0YXRlLnRleHRCYXNlbGluZSAhPSB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lKSB7XG4gICAgICAgIGNvbnRleHRUZXh0U3RhdGUudGV4dEJhc2VsaW5lID0gdGV4dFN0YXRlLnRleHRCYXNlbGluZTtcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGZpbGwgYW5kIHN0cm9rZSBzdHlsZSBmb3Igc3Vic2VxdWVudCBkcmF3IG9wZXJhdGlvbnMuICBUbyBjbGVhclxuICAgKiBlaXRoZXIgZmlsbCBvciBzdHJva2Ugc3R5bGVzLCBwYXNzIG51bGwgZm9yIHRoZSBhcHByb3ByaWF0ZSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsU3R5bGUgRmlsbCBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlU3R5bGUgU3Ryb2tlIHN0eWxlLlxuICAgKi9cbiAgc2V0RmlsbFN0cm9rZVN0eWxlKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpIHtcbiAgICBpZiAoIWZpbGxTdHlsZSkge1xuICAgICAgdGhpcy5maWxsU3RhdGVfID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZmlsbFN0eWxlQ29sb3IgPSBmaWxsU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgIHRoaXMuZmlsbFN0YXRlXyA9IHtcbiAgICAgICAgZmlsbFN0eWxlOiBhc0NvbG9yTGlrZShcbiAgICAgICAgICBmaWxsU3R5bGVDb2xvciA/IGZpbGxTdHlsZUNvbG9yIDogZGVmYXVsdEZpbGxTdHlsZVxuICAgICAgICApLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCFzdHJva2VTdHlsZSkge1xuICAgICAgdGhpcy5zdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdHJva2VTdHlsZUNvbG9yID0gc3Ryb2tlU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlTGluZUNhcCA9IHN0cm9rZVN0eWxlLmdldExpbmVDYXAoKTtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlTGluZURhc2ggPSBzdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0eWxlLmdldExpbmVEYXNoT2Zmc2V0KCk7XG4gICAgICBjb25zdCBzdHJva2VTdHlsZUxpbmVKb2luID0gc3Ryb2tlU3R5bGUuZ2V0TGluZUpvaW4oKTtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlV2lkdGggPSBzdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGVNaXRlckxpbWl0ID0gc3Ryb2tlU3R5bGUuZ2V0TWl0ZXJMaW1pdCgpO1xuICAgICAgY29uc3QgbGluZURhc2ggPSBzdHJva2VTdHlsZUxpbmVEYXNoXG4gICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lRGFzaFxuICAgICAgICA6IGRlZmF1bHRMaW5lRGFzaDtcbiAgICAgIHRoaXMuc3Ryb2tlU3RhdGVfID0ge1xuICAgICAgICBsaW5lQ2FwOlxuICAgICAgICAgIHN0cm9rZVN0eWxlTGluZUNhcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZUNhcFxuICAgICAgICAgICAgOiBkZWZhdWx0TGluZUNhcCxcbiAgICAgICAgbGluZURhc2g6XG4gICAgICAgICAgdGhpcy5waXhlbFJhdGlvXyA9PT0gMVxuICAgICAgICAgICAgPyBsaW5lRGFzaFxuICAgICAgICAgICAgOiBsaW5lRGFzaC5tYXAoKG4pID0+IG4gKiB0aGlzLnBpeGVsUmF0aW9fKSxcbiAgICAgICAgbGluZURhc2hPZmZzZXQ6XG4gICAgICAgICAgKHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldFxuICAgICAgICAgICAgOiBkZWZhdWx0TGluZURhc2hPZmZzZXQpICogdGhpcy5waXhlbFJhdGlvXyxcbiAgICAgICAgbGluZUpvaW46XG4gICAgICAgICAgc3Ryb2tlU3R5bGVMaW5lSm9pbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZUpvaW5cbiAgICAgICAgICAgIDogZGVmYXVsdExpbmVKb2luLFxuICAgICAgICBsaW5lV2lkdGg6XG4gICAgICAgICAgKHN0cm9rZVN0eWxlV2lkdGggIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBzdHJva2VTdHlsZVdpZHRoXG4gICAgICAgICAgICA6IGRlZmF1bHRMaW5lV2lkdGgpICogdGhpcy5waXhlbFJhdGlvXyxcbiAgICAgICAgbWl0ZXJMaW1pdDpcbiAgICAgICAgICBzdHJva2VTdHlsZU1pdGVyTGltaXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBzdHJva2VTdHlsZU1pdGVyTGltaXRcbiAgICAgICAgICAgIDogZGVmYXVsdE1pdGVyTGltaXQsXG4gICAgICAgIHN0cm9rZVN0eWxlOiBhc0NvbG9yTGlrZShcbiAgICAgICAgICBzdHJva2VTdHlsZUNvbG9yID8gc3Ryb2tlU3R5bGVDb2xvciA6IGRlZmF1bHRTdHJva2VTdHlsZVxuICAgICAgICApLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBpbWFnZSBzdHlsZSBmb3Igc3Vic2VxdWVudCBkcmF3IG9wZXJhdGlvbnMuICBQYXNzIG51bGwgdG8gcmVtb3ZlXG4gICAqIHRoZSBpbWFnZSBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9JbWFnZS5qc1wiKS5kZWZhdWx0fSBpbWFnZVN0eWxlIEltYWdlIHN0eWxlLlxuICAgKi9cbiAgc2V0SW1hZ2VTdHlsZShpbWFnZVN0eWxlKSB7XG4gICAgbGV0IGltYWdlU2l6ZTtcbiAgICBpZiAoIWltYWdlU3R5bGUgfHwgIShpbWFnZVNpemUgPSBpbWFnZVN0eWxlLmdldFNpemUoKSkpIHtcbiAgICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW1hZ2VQaXhlbFJhdGlvID0gaW1hZ2VTdHlsZS5nZXRQaXhlbFJhdGlvKHRoaXMucGl4ZWxSYXRpb18pO1xuICAgIGNvbnN0IGltYWdlQW5jaG9yID0gaW1hZ2VTdHlsZS5nZXRBbmNob3IoKTtcbiAgICBjb25zdCBpbWFnZU9yaWdpbiA9IGltYWdlU3R5bGUuZ2V0T3JpZ2luKCk7XG4gICAgdGhpcy5pbWFnZV8gPSBpbWFnZVN0eWxlLmdldEltYWdlKHRoaXMucGl4ZWxSYXRpb18pO1xuICAgIHRoaXMuaW1hZ2VBbmNob3JYXyA9IGltYWdlQW5jaG9yWzBdICogaW1hZ2VQaXhlbFJhdGlvO1xuICAgIHRoaXMuaW1hZ2VBbmNob3JZXyA9IGltYWdlQW5jaG9yWzFdICogaW1hZ2VQaXhlbFJhdGlvO1xuICAgIHRoaXMuaW1hZ2VIZWlnaHRfID0gaW1hZ2VTaXplWzFdICogaW1hZ2VQaXhlbFJhdGlvO1xuICAgIHRoaXMuaW1hZ2VPcGFjaXR5XyA9IGltYWdlU3R5bGUuZ2V0T3BhY2l0eSgpO1xuICAgIHRoaXMuaW1hZ2VPcmlnaW5YXyA9IGltYWdlT3JpZ2luWzBdO1xuICAgIHRoaXMuaW1hZ2VPcmlnaW5ZXyA9IGltYWdlT3JpZ2luWzFdO1xuICAgIHRoaXMuaW1hZ2VSb3RhdGVXaXRoVmlld18gPSBpbWFnZVN0eWxlLmdldFJvdGF0ZVdpdGhWaWV3KCk7XG4gICAgdGhpcy5pbWFnZVJvdGF0aW9uXyA9IGltYWdlU3R5bGUuZ2V0Um90YXRpb24oKTtcbiAgICBjb25zdCBpbWFnZVNjYWxlID0gaW1hZ2VTdHlsZS5nZXRTY2FsZUFycmF5KCk7XG4gICAgdGhpcy5pbWFnZVNjYWxlXyA9IFtcbiAgICAgIChpbWFnZVNjYWxlWzBdICogdGhpcy5waXhlbFJhdGlvXykgLyBpbWFnZVBpeGVsUmF0aW8sXG4gICAgICAoaW1hZ2VTY2FsZVsxXSAqIHRoaXMucGl4ZWxSYXRpb18pIC8gaW1hZ2VQaXhlbFJhdGlvLFxuICAgIF07XG4gICAgdGhpcy5pbWFnZVdpZHRoXyA9IGltYWdlU2l6ZVswXSAqIGltYWdlUGl4ZWxSYXRpbztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRleHQgc3R5bGUgZm9yIHN1YnNlcXVlbnQgZHJhdyBvcGVyYXRpb25zLiAgUGFzcyBudWxsIHRvXG4gICAqIHJlbW92ZSB0aGUgdGV4dCBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9UZXh0LmpzXCIpLmRlZmF1bHR9IHRleHRTdHlsZSBUZXh0IHN0eWxlLlxuICAgKi9cbiAgc2V0VGV4dFN0eWxlKHRleHRTdHlsZSkge1xuICAgIGlmICghdGV4dFN0eWxlKSB7XG4gICAgICB0aGlzLnRleHRfID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRleHRGaWxsU3R5bGUgPSB0ZXh0U3R5bGUuZ2V0RmlsbCgpO1xuICAgICAgaWYgKCF0ZXh0RmlsbFN0eWxlKSB7XG4gICAgICAgIHRoaXMudGV4dEZpbGxTdGF0ZV8gPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGV4dEZpbGxTdHlsZUNvbG9yID0gdGV4dEZpbGxTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgICB0aGlzLnRleHRGaWxsU3RhdGVfID0ge1xuICAgICAgICAgIGZpbGxTdHlsZTogYXNDb2xvckxpa2UoXG4gICAgICAgICAgICB0ZXh0RmlsbFN0eWxlQ29sb3IgPyB0ZXh0RmlsbFN0eWxlQ29sb3IgOiBkZWZhdWx0RmlsbFN0eWxlXG4gICAgICAgICAgKSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRleHRTdHJva2VTdHlsZSA9IHRleHRTdHlsZS5nZXRTdHJva2UoKTtcbiAgICAgIGlmICghdGV4dFN0cm9rZVN0eWxlKSB7XG4gICAgICAgIHRoaXMudGV4dFN0cm9rZVN0YXRlXyA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0ZXh0U3Ryb2tlU3R5bGVDb2xvciA9IHRleHRTdHJva2VTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgICBjb25zdCB0ZXh0U3Ryb2tlU3R5bGVMaW5lQ2FwID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVDYXAoKTtcbiAgICAgICAgY29uc3QgdGV4dFN0cm9rZVN0eWxlTGluZURhc2ggPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZURhc2goKTtcbiAgICAgICAgY29uc3QgdGV4dFN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQgPVxuICAgICAgICAgIHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgICBjb25zdCB0ZXh0U3Ryb2tlU3R5bGVMaW5lSm9pbiA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lSm9pbigpO1xuICAgICAgICBjb25zdCB0ZXh0U3Ryb2tlU3R5bGVXaWR0aCA9IHRleHRTdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuICAgICAgICBjb25zdCB0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0ID0gdGV4dFN0cm9rZVN0eWxlLmdldE1pdGVyTGltaXQoKTtcbiAgICAgICAgdGhpcy50ZXh0U3Ryb2tlU3RhdGVfID0ge1xuICAgICAgICAgIGxpbmVDYXA6XG4gICAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGVMaW5lQ2FwICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVMaW5lQ2FwXG4gICAgICAgICAgICAgIDogZGVmYXVsdExpbmVDYXAsXG4gICAgICAgICAgbGluZURhc2g6IHRleHRTdHJva2VTdHlsZUxpbmVEYXNoXG4gICAgICAgICAgICA/IHRleHRTdHJva2VTdHlsZUxpbmVEYXNoXG4gICAgICAgICAgICA6IGRlZmF1bHRMaW5lRGFzaCxcbiAgICAgICAgICBsaW5lRGFzaE9mZnNldDogdGV4dFN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgID8gdGV4dFN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgIDogZGVmYXVsdExpbmVEYXNoT2Zmc2V0LFxuICAgICAgICAgIGxpbmVKb2luOlxuICAgICAgICAgICAgdGV4dFN0cm9rZVN0eWxlTGluZUpvaW4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IHRleHRTdHJva2VTdHlsZUxpbmVKb2luXG4gICAgICAgICAgICAgIDogZGVmYXVsdExpbmVKb2luLFxuICAgICAgICAgIGxpbmVXaWR0aDpcbiAgICAgICAgICAgIHRleHRTdHJva2VTdHlsZVdpZHRoICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVXaWR0aFxuICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lV2lkdGgsXG4gICAgICAgICAgbWl0ZXJMaW1pdDpcbiAgICAgICAgICAgIHRleHRTdHJva2VTdHlsZU1pdGVyTGltaXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IHRleHRTdHJva2VTdHlsZU1pdGVyTGltaXRcbiAgICAgICAgICAgICAgOiBkZWZhdWx0TWl0ZXJMaW1pdCxcbiAgICAgICAgICBzdHJva2VTdHlsZTogYXNDb2xvckxpa2UoXG4gICAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGVDb2xvciA/IHRleHRTdHJva2VTdHlsZUNvbG9yIDogZGVmYXVsdFN0cm9rZVN0eWxlXG4gICAgICAgICAgKSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRleHRGb250ID0gdGV4dFN0eWxlLmdldEZvbnQoKTtcbiAgICAgIGNvbnN0IHRleHRPZmZzZXRYID0gdGV4dFN0eWxlLmdldE9mZnNldFgoKTtcbiAgICAgIGNvbnN0IHRleHRPZmZzZXRZID0gdGV4dFN0eWxlLmdldE9mZnNldFkoKTtcbiAgICAgIGNvbnN0IHRleHRSb3RhdGVXaXRoVmlldyA9IHRleHRTdHlsZS5nZXRSb3RhdGVXaXRoVmlldygpO1xuICAgICAgY29uc3QgdGV4dFJvdGF0aW9uID0gdGV4dFN0eWxlLmdldFJvdGF0aW9uKCk7XG4gICAgICBjb25zdCB0ZXh0U2NhbGUgPSB0ZXh0U3R5bGUuZ2V0U2NhbGVBcnJheSgpO1xuICAgICAgY29uc3QgdGV4dFRleHQgPSB0ZXh0U3R5bGUuZ2V0VGV4dCgpO1xuICAgICAgY29uc3QgdGV4dFRleHRBbGlnbiA9IHRleHRTdHlsZS5nZXRUZXh0QWxpZ24oKTtcbiAgICAgIGNvbnN0IHRleHRUZXh0QmFzZWxpbmUgPSB0ZXh0U3R5bGUuZ2V0VGV4dEJhc2VsaW5lKCk7XG4gICAgICB0aGlzLnRleHRTdGF0ZV8gPSB7XG4gICAgICAgIGZvbnQ6IHRleHRGb250ICE9PSB1bmRlZmluZWQgPyB0ZXh0Rm9udCA6IGRlZmF1bHRGb250LFxuICAgICAgICB0ZXh0QWxpZ246XG4gICAgICAgICAgdGV4dFRleHRBbGlnbiAhPT0gdW5kZWZpbmVkID8gdGV4dFRleHRBbGlnbiA6IGRlZmF1bHRUZXh0QWxpZ24sXG4gICAgICAgIHRleHRCYXNlbGluZTpcbiAgICAgICAgICB0ZXh0VGV4dEJhc2VsaW5lICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gdGV4dFRleHRCYXNlbGluZVxuICAgICAgICAgICAgOiBkZWZhdWx0VGV4dEJhc2VsaW5lLFxuICAgICAgfTtcbiAgICAgIHRoaXMudGV4dF8gPVxuICAgICAgICB0ZXh0VGV4dCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBBcnJheS5pc0FycmF5KHRleHRUZXh0KVxuICAgICAgICAgICAgPyB0ZXh0VGV4dC5yZWR1Y2UoKGFjYywgdCwgaSkgPT4gKGFjYyArPSBpICUgMiA/ICcgJyA6IHQpLCAnJylcbiAgICAgICAgICAgIDogdGV4dFRleHRcbiAgICAgICAgICA6ICcnO1xuICAgICAgdGhpcy50ZXh0T2Zmc2V0WF8gPVxuICAgICAgICB0ZXh0T2Zmc2V0WCAhPT0gdW5kZWZpbmVkID8gdGhpcy5waXhlbFJhdGlvXyAqIHRleHRPZmZzZXRYIDogMDtcbiAgICAgIHRoaXMudGV4dE9mZnNldFlfID1cbiAgICAgICAgdGV4dE9mZnNldFkgIT09IHVuZGVmaW5lZCA/IHRoaXMucGl4ZWxSYXRpb18gKiB0ZXh0T2Zmc2V0WSA6IDA7XG4gICAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18gPVxuICAgICAgICB0ZXh0Um90YXRlV2l0aFZpZXcgIT09IHVuZGVmaW5lZCA/IHRleHRSb3RhdGVXaXRoVmlldyA6IGZhbHNlO1xuICAgICAgdGhpcy50ZXh0Um90YXRpb25fID0gdGV4dFJvdGF0aW9uICE9PSB1bmRlZmluZWQgPyB0ZXh0Um90YXRpb24gOiAwO1xuICAgICAgdGhpcy50ZXh0U2NhbGVfID0gW1xuICAgICAgICB0aGlzLnBpeGVsUmF0aW9fICogdGV4dFNjYWxlWzBdLFxuICAgICAgICB0aGlzLnBpeGVsUmF0aW9fICogdGV4dFNjYWxlWzFdLFxuICAgICAgXTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9oaXRkZXRlY3RcbiAqL1xuXG5pbXBvcnQgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIgZnJvbSAnLi9JbW1lZGlhdGUuanMnO1xuaW1wb3J0IHtJY29ufSBmcm9tICcuLi8uLi9zdHlsZS5qcyc7XG5pbXBvcnQge2FzY2VuZGluZ30gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtjbGFtcH0gZnJvbSAnLi4vLi4vbWF0aC5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7aW50ZXJzZWN0c30gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcblxuZXhwb3J0IGNvbnN0IEhJVF9ERVRFQ1RfUkVTT0xVVElPTiA9IDAuNTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBDYW52YXMgc2l6ZSBpbiBjc3MgcGl4ZWxzLlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtPn0gdHJhbnNmb3JtcyBUcmFuc2Zvcm1zXG4gKiBmb3IgcmVuZGVyaW5nIGZlYXR1cmVzIHRvIGFsbCB3b3JsZHMgb2YgdGhlIHZpZXdwb3J0LCBmcm9tIGNvb3JkaW5hdGVzIHRvIGNzc1xuICogcGl4ZWxzLlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlPn0gZmVhdHVyZXNcbiAqIEZlYXR1cmVzIHRvIGNvbnNpZGVyIGZvciBoaXQgZGV0ZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH0gc3R5bGVGdW5jdGlvblxuICogTGF5ZXIgc3R5bGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHJldHVybiB7SW1hZ2VEYXRhfSBIaXQgZGV0ZWN0aW9uIGltYWdlIGRhdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEoXG4gIHNpemUsXG4gIHRyYW5zZm9ybXMsXG4gIGZlYXR1cmVzLFxuICBzdHlsZUZ1bmN0aW9uLFxuICBleHRlbnQsXG4gIHJlc29sdXRpb24sXG4gIHJvdGF0aW9uXG4pIHtcbiAgY29uc3Qgd2lkdGggPSBzaXplWzBdICogSElUX0RFVEVDVF9SRVNPTFVUSU9OO1xuICBjb25zdCBoZWlnaHQgPSBzaXplWzFdICogSElUX0RFVEVDVF9SRVNPTFVUSU9OO1xuICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKHdpZHRoLCBoZWlnaHQpO1xuICBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICBjb25zdCBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgY29uc3QgcmVuZGVyZXIgPSBuZXcgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIoXG4gICAgY29udGV4dCxcbiAgICBISVRfREVURUNUX1JFU09MVVRJT04sXG4gICAgZXh0ZW50LFxuICAgIG51bGwsXG4gICAgcm90YXRpb25cbiAgKTtcbiAgY29uc3QgZmVhdHVyZUNvdW50ID0gZmVhdHVyZXMubGVuZ3RoO1xuICAvLyBTdHJldGNoIGhpdCBkZXRlY3Rpb24gaW5kZXggdG8gdXNlIHRoZSB3aG9sZSBhdmFpbGFibGUgY29sb3IgcmFuZ2VcbiAgY29uc3QgaW5kZXhGYWN0b3IgPSBNYXRoLmZsb29yKCgyNTYgKiAyNTYgKiAyNTYgLSAxKSAvIGZlYXR1cmVDb3VudCk7XG4gIGNvbnN0IGZlYXR1cmVzQnlaSW5kZXggPSB7fTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gZmVhdHVyZUNvdW50OyArK2kpIHtcbiAgICBjb25zdCBmZWF0dXJlID0gZmVhdHVyZXNbaSAtIDFdO1xuICAgIGNvbnN0IGZlYXR1cmVTdHlsZUZ1bmN0aW9uID0gZmVhdHVyZS5nZXRTdHlsZUZ1bmN0aW9uKCkgfHwgc3R5bGVGdW5jdGlvbjtcbiAgICBpZiAoIXN0eWxlRnVuY3Rpb24pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBsZXQgc3R5bGVzID0gZmVhdHVyZVN0eWxlRnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbik7XG4gICAgaWYgKCFzdHlsZXMpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGVzKSkge1xuICAgICAgc3R5bGVzID0gW3N0eWxlc107XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gaSAqIGluZGV4RmFjdG9yO1xuICAgIGNvbnN0IGNvbG9yID0gaW5kZXgudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDcsICcjMDAwMDAnKTtcbiAgICBmb3IgKGxldCBqID0gMCwgamogPSBzdHlsZXMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgY29uc3Qgb3JpZ2luYWxTdHlsZSA9IHN0eWxlc1tqXTtcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gb3JpZ2luYWxTdHlsZS5nZXRHZW9tZXRyeUZ1bmN0aW9uKCkoZmVhdHVyZSk7XG4gICAgICBpZiAoIWdlb21ldHJ5IHx8ICFpbnRlcnNlY3RzKGV4dGVudCwgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3R5bGUgPSBvcmlnaW5hbFN0eWxlLmNsb25lKCk7XG4gICAgICBjb25zdCBmaWxsID0gc3R5bGUuZ2V0RmlsbCgpO1xuICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgZmlsbC5zZXRDb2xvcihjb2xvcik7XG4gICAgICB9XG4gICAgICBjb25zdCBzdHJva2UgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgICAgIGlmIChzdHJva2UpIHtcbiAgICAgICAgc3Ryb2tlLnNldENvbG9yKGNvbG9yKTtcbiAgICAgICAgc3Ryb2tlLnNldExpbmVEYXNoKG51bGwpO1xuICAgICAgfVxuICAgICAgc3R5bGUuc2V0VGV4dCh1bmRlZmluZWQpO1xuICAgICAgY29uc3QgaW1hZ2UgPSBvcmlnaW5hbFN0eWxlLmdldEltYWdlKCk7XG4gICAgICBpZiAoaW1hZ2UgJiYgaW1hZ2UuZ2V0T3BhY2l0eSgpICE9PSAwKSB7XG4gICAgICAgIGNvbnN0IGltZ1NpemUgPSBpbWFnZS5nZXRJbWFnZVNpemUoKTtcbiAgICAgICAgaWYgKCFpbWdTaXplKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbWdDb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKFxuICAgICAgICAgIGltZ1NpemVbMF0sXG4gICAgICAgICAgaW1nU2l6ZVsxXSxcbiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAge2FscGhhOiBmYWxzZX1cbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgaW1nID0gaW1nQ29udGV4dC5jYW52YXM7XG4gICAgICAgIGltZ0NvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICAgIGltZ0NvbnRleHQuZmlsbFJlY3QoMCwgMCwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0KTtcbiAgICAgICAgc3R5bGUuc2V0SW1hZ2UoXG4gICAgICAgICAgbmV3IEljb24oe1xuICAgICAgICAgICAgaW1nOiBpbWcsXG4gICAgICAgICAgICBpbWdTaXplOiBpbWdTaXplLFxuICAgICAgICAgICAgYW5jaG9yOiBpbWFnZS5nZXRBbmNob3IoKSxcbiAgICAgICAgICAgIGFuY2hvclhVbml0czogJ3BpeGVscycsXG4gICAgICAgICAgICBhbmNob3JZVW5pdHM6ICdwaXhlbHMnLFxuICAgICAgICAgICAgb2Zmc2V0OiBpbWFnZS5nZXRPcmlnaW4oKSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICBzaXplOiBpbWFnZS5nZXRTaXplKCksXG4gICAgICAgICAgICBzY2FsZTogaW1hZ2UuZ2V0U2NhbGUoKSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBpbWFnZS5nZXRSb3RhdGlvbigpLFxuICAgICAgICAgICAgcm90YXRlV2l0aFZpZXc6IGltYWdlLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHpJbmRleCA9IHN0eWxlLmdldFpJbmRleCgpIHx8IDA7XG4gICAgICBsZXQgYnlHZW9tZXRyeVR5cGUgPSBmZWF0dXJlc0J5WkluZGV4W3pJbmRleF07XG4gICAgICBpZiAoIWJ5R2VvbWV0cnlUeXBlKSB7XG4gICAgICAgIGJ5R2VvbWV0cnlUeXBlID0ge307XG4gICAgICAgIGZlYXR1cmVzQnlaSW5kZXhbekluZGV4XSA9IGJ5R2VvbWV0cnlUeXBlO1xuICAgICAgICBieUdlb21ldHJ5VHlwZVsnUG9seWdvbiddID0gW107XG4gICAgICAgIGJ5R2VvbWV0cnlUeXBlWydDaXJjbGUnXSA9IFtdO1xuICAgICAgICBieUdlb21ldHJ5VHlwZVsnTGluZVN0cmluZyddID0gW107XG4gICAgICAgIGJ5R2VvbWV0cnlUeXBlWydQb2ludCddID0gW107XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlID0gZ2VvbWV0cnkuZ2V0VHlwZSgpO1xuICAgICAgaWYgKHR5cGUgPT09ICdHZW9tZXRyeUNvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJpZXMgPVxuICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgICApLmdldEdlb21ldHJpZXNBcnJheVJlY3Vyc2l2ZSgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICBjb25zdCBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XG4gICAgICAgICAgYnlHZW9tZXRyeVR5cGVbZ2VvbWV0cnkuZ2V0VHlwZSgpLnJlcGxhY2UoJ011bHRpJywgJycpXS5wdXNoKFxuICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICBzdHlsZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJ5R2VvbWV0cnlUeXBlW3R5cGUucmVwbGFjZSgnTXVsdGknLCAnJyldLnB1c2goZ2VvbWV0cnksIHN0eWxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCB6SW5kZXhLZXlzID0gT2JqZWN0LmtleXMoZmVhdHVyZXNCeVpJbmRleCkubWFwKE51bWJlcikuc29ydChhc2NlbmRpbmcpO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSB6SW5kZXhLZXlzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBieUdlb21ldHJ5VHlwZSA9IGZlYXR1cmVzQnlaSW5kZXhbekluZGV4S2V5c1tpXV07XG4gICAgZm9yIChjb25zdCB0eXBlIGluIGJ5R2VvbWV0cnlUeXBlKSB7XG4gICAgICBjb25zdCBnZW9tQW5kU3R5bGUgPSBieUdlb21ldHJ5VHlwZVt0eXBlXTtcbiAgICAgIGZvciAobGV0IGogPSAwLCBqaiA9IGdlb21BbmRTdHlsZS5sZW5ndGg7IGogPCBqajsgaiArPSAyKSB7XG4gICAgICAgIHJlbmRlcmVyLnNldFN0eWxlKGdlb21BbmRTdHlsZVtqICsgMV0pO1xuICAgICAgICBmb3IgKGxldCBrID0gMCwga2sgPSB0cmFuc2Zvcm1zLmxlbmd0aDsgayA8IGtrOyArK2spIHtcbiAgICAgICAgICByZW5kZXJlci5zZXRUcmFuc2Zvcm0odHJhbnNmb3Jtc1trXSk7XG4gICAgICAgICAgcmVuZGVyZXIuZHJhd0dlb21ldHJ5KGdlb21BbmRTdHlsZVtqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9waXhlbFwiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwgY29vcmRpbmF0ZSBvbiB0aGUgaGl0XG4gKiBkZXRlY3Rpb24gY2FudmFzIGluIGNzcyBwaXhlbHMuXG4gKiBAcGFyYW0ge0FycmF5PEY+fSBmZWF0dXJlcyBGZWF0dXJlcy4gSGFzIHRvXG4gKiBtYXRjaCB0aGUgYGZlYXR1cmVzYCBhcnJheSB0aGF0IHdhcyBwYXNzZWQgdG8gYGNyZWF0ZUhpdERldGVjdGlvbkltYWdlRGF0YSgpYC5cbiAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBpbWFnZURhdGEgSGl0IGRldGVjdGlvbiBpbWFnZSBkYXRhIGdlbmVyYXRlZCBieVxuICogYGNyZWF0ZUhpdERldGVjdGlvbkltYWdlRGF0YSgpYC5cbiAqIEByZXR1cm4ge0FycmF5PEY+fSBGZWF0dXJlcy5cbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gRlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGl0RGV0ZWN0KHBpeGVsLCBmZWF0dXJlcywgaW1hZ2VEYXRhKSB7XG4gIGNvbnN0IHJlc3VsdEZlYXR1cmVzID0gW107XG4gIGlmIChpbWFnZURhdGEpIHtcbiAgICBjb25zdCB4ID0gTWF0aC5mbG9vcihNYXRoLnJvdW5kKHBpeGVsWzBdKSAqIEhJVF9ERVRFQ1RfUkVTT0xVVElPTik7XG4gICAgY29uc3QgeSA9IE1hdGguZmxvb3IoTWF0aC5yb3VuZChwaXhlbFsxXSkgKiBISVRfREVURUNUX1JFU09MVVRJT04pO1xuICAgIC8vIFRoZSBwaXhlbCBjb29yZGluYXRlIGlzIGNsYW1wZWQgZG93biB0byB0aGUgaGl0LWRldGVjdCBjYW52YXMnIHNpemUgdG8gYWNjb3VudFxuICAgIC8vIGZvciBicm93c2VycyByZXR1cm5pbmcgY29vcmRpbmF0ZXMgc2xpZ2h0bHkgbGFyZ2VyIHRoYW4gdGhlIGFjdHVhbCBjYW52YXMgc2l6ZVxuICAgIC8vIGR1ZSB0byBhIG5vbi1pbnRlZ2VyIHBpeGVsIHJhdGlvLlxuICAgIGNvbnN0IGluZGV4ID1cbiAgICAgIChjbGFtcCh4LCAwLCBpbWFnZURhdGEud2lkdGggLSAxKSArXG4gICAgICAgIGNsYW1wKHksIDAsIGltYWdlRGF0YS5oZWlnaHQgLSAxKSAqIGltYWdlRGF0YS53aWR0aCkgKlxuICAgICAgNDtcbiAgICBjb25zdCByID0gaW1hZ2VEYXRhLmRhdGFbaW5kZXhdO1xuICAgIGNvbnN0IGcgPSBpbWFnZURhdGEuZGF0YVtpbmRleCArIDFdO1xuICAgIGNvbnN0IGIgPSBpbWFnZURhdGEuZGF0YVtpbmRleCArIDJdO1xuICAgIGNvbnN0IGkgPSBiICsgMjU2ICogKGcgKyAyNTYgKiByKTtcbiAgICBjb25zdCBpbmRleEZhY3RvciA9IE1hdGguZmxvb3IoKDI1NiAqIDI1NiAqIDI1NiAtIDEpIC8gZmVhdHVyZXMubGVuZ3RoKTtcbiAgICBpZiAoaSAmJiBpICUgaW5kZXhGYWN0b3IgPT09IDApIHtcbiAgICAgIHJlc3VsdEZlYXR1cmVzLnB1c2goZmVhdHVyZXNbaSAvIGluZGV4RmFjdG9yIC0gMV0pO1xuICAgIH1cbiAgfVxuICAvLyBAdHMtaWdub3JlIEZlYXR1cmVzIGFyZSBjb3BpZWQgZnJvbSBgZmVhdHVyZXNgIHRvIGByZXN1bHRGZWF0dXJlc2Agc28gdGhlIHR5cGUgc2hvdWxkIGJlIHRoZSBzYW1lXG4gIHJldHVybiByZXN1bHRGZWF0dXJlcztcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci92ZWN0b3JcbiAqL1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5cbi8qKlxuICogRmVhdHVyZSBjYWxsYmFjay4gVGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhyZWUgYXJndW1lbnRzLiBUaGUgZmlyc3RcbiAqIGFyZ3VtZW50IGlzIG9uZSB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZSBmZWF0dXJlfSBvciB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9GZWF0dXJlflJlbmRlckZlYXR1cmUgcmVuZGVyIGZlYXR1cmV9XG4gKiBhdCB0aGUgcGl4ZWwsIHRoZSBzZWNvbmQgaXMgdGhlIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIgbGF5ZXJ9IG9mIHRoZSBmZWF0dXJlIGFuZCB3aWxsIGJlIG51bGwgZm9yXG4gKiB1bm1hbmFnZWQgbGF5ZXJzLiBUaGUgdGhpcmQgaXMgdGhlIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9TaW1wbGVHZW9tZXRyeX5TaW1wbGVHZW9tZXRyeX0gb2YgdGhlIGZlYXR1cmUuIEZvciBmZWF0dXJlc1xuICogd2l0aCBhIEdlb21ldHJ5Q29sbGVjdGlvbiBnZW9tZXRyeSwgaXQgd2lsbCBiZSB0aGUgZmlyc3QgZGV0ZWN0ZWQgZ2VvbWV0cnkgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSwgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlXCIpLmRlZmF1bHQ+LCBpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQpOiBUfSBGZWF0dXJlQ2FsbGJhY2tcbiAqL1xuXG4vKipcbiAqIFRvbGVyYW5jZSBmb3IgZ2VvbWV0cnkgc2ltcGxpZmljYXRpb24gaW4gZGV2aWNlIHBpeGVscy5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmNvbnN0IFNJTVBMSUZZX1RPTEVSQU5DRSA9IDAuNTtcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtPYmplY3Q8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5UeXBlLFxuICogICAgICAgICAgICAgICAgZnVuY3Rpb24oaW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdCwgT2JqZWN0KTogdm9pZD59XG4gKi9cbmNvbnN0IEdFT01FVFJZX1JFTkRFUkVSUyA9IHtcbiAgJ1BvaW50JzogcmVuZGVyUG9pbnRHZW9tZXRyeSxcbiAgJ0xpbmVTdHJpbmcnOiByZW5kZXJMaW5lU3RyaW5nR2VvbWV0cnksXG4gICdQb2x5Z29uJzogcmVuZGVyUG9seWdvbkdlb21ldHJ5LFxuICAnTXVsdGlQb2ludCc6IHJlbmRlck11bHRpUG9pbnRHZW9tZXRyeSxcbiAgJ011bHRpTGluZVN0cmluZyc6IHJlbmRlck11bHRpTGluZVN0cmluZ0dlb21ldHJ5LFxuICAnTXVsdGlQb2x5Z29uJzogcmVuZGVyTXVsdGlQb2x5Z29uR2VvbWV0cnksXG4gICdHZW9tZXRyeUNvbGxlY3Rpb24nOiByZW5kZXJHZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSxcbiAgJ0NpcmNsZSc6IHJlbmRlckNpcmNsZUdlb21ldHJ5LFxufTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUxIEZlYXR1cmUgMS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZTIgRmVhdHVyZSAyLlxuICogQHJldHVybiB7bnVtYmVyfSBPcmRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRPcmRlcihmZWF0dXJlMSwgZmVhdHVyZTIpIHtcbiAgcmV0dXJuIHBhcnNlSW50KGdldFVpZChmZWF0dXJlMSksIDEwKSAtIHBhcnNlSW50KGdldFVpZChmZWF0dXJlMiksIDEwKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgcGl4ZWwgdG9sZXJhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3F1YXJlZFRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gIGNvbnN0IHRvbGVyYW5jZSA9IGdldFRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKTtcbiAgcmV0dXJuIHRvbGVyYW5jZSAqIHRvbGVyYW5jZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFBpeGVsIHRvbGVyYW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gIHJldHVybiAoU0lNUExJRllfVE9MRVJBTkNFICogcmVzb2x1dGlvbikgLyBwaXhlbFJhdGlvO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIEJ1aWxkZXIgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyQ2lyY2xlR2VvbWV0cnkoXG4gIGJ1aWxkZXJHcm91cCxcbiAgZ2VvbWV0cnksXG4gIHN0eWxlLFxuICBmZWF0dXJlLFxuICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbikge1xuICBjb25zdCBmaWxsU3R5bGUgPSBzdHlsZS5nZXRGaWxsKCk7XG4gIGNvbnN0IHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gIGlmIChmaWxsU3R5bGUgfHwgc3Ryb2tlU3R5bGUpIHtcbiAgICBjb25zdCBjaXJjbGVSZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgJ0NpcmNsZScpO1xuICAgIGNpcmNsZVJlcGxheS5zZXRGaWxsU3Ryb2tlU3R5bGUoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSk7XG4gICAgY2lyY2xlUmVwbGF5LmRyYXdDaXJjbGUoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG4gIGNvbnN0IHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgY29uc3QgdGV4dFJlcGxheSA9IChkZWNsdXR0ZXJCdWlsZGVyR3JvdXAgfHwgYnVpbGRlckdyb3VwKS5nZXRCdWlsZGVyKFxuICAgICAgc3R5bGUuZ2V0WkluZGV4KCksXG4gICAgICAnVGV4dCdcbiAgICApO1xuICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IHJlcGxheUdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbdHJhbnNmb3JtXSBUcmFuc2Zvcm0gZnJvbSB1c2VyIHRvIHZpZXcgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHN0eWxlIGlzIGxvYWRpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJGZWF0dXJlKFxuICByZXBsYXlHcm91cCxcbiAgZmVhdHVyZSxcbiAgc3R5bGUsXG4gIHNxdWFyZWRUb2xlcmFuY2UsXG4gIGxpc3RlbmVyLFxuICB0cmFuc2Zvcm0sXG4gIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuKSB7XG4gIGxldCBsb2FkaW5nID0gZmFsc2U7XG4gIGNvbnN0IGltYWdlU3R5bGUgPSBzdHlsZS5nZXRJbWFnZSgpO1xuICBpZiAoaW1hZ2VTdHlsZSkge1xuICAgIGNvbnN0IGltYWdlU3RhdGUgPSBpbWFnZVN0eWxlLmdldEltYWdlU3RhdGUoKTtcbiAgICBpZiAoaW1hZ2VTdGF0ZSA9PSBJbWFnZVN0YXRlLkxPQURFRCB8fCBpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgIGltYWdlU3R5bGUudW5saXN0ZW5JbWFnZUNoYW5nZShsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuSURMRSkge1xuICAgICAgICBpbWFnZVN0eWxlLmxvYWQoKTtcbiAgICAgIH1cbiAgICAgIGltYWdlU3R5bGUubGlzdGVuSW1hZ2VDaGFuZ2UobGlzdGVuZXIpO1xuICAgICAgbG9hZGluZyA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJlbmRlckZlYXR1cmVJbnRlcm5hbChcbiAgICByZXBsYXlHcm91cCxcbiAgICBmZWF0dXJlLFxuICAgIHN0eWxlLFxuICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgdHJhbnNmb3JtLFxuICAgIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuICApO1xuXG4gIHJldHVybiBsb2FkaW5nO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gcmVwbGF5R3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IFt0cmFuc2Zvcm1dIE9wdGlvbmFsIHRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJGZWF0dXJlSW50ZXJuYWwoXG4gIHJlcGxheUdyb3VwLFxuICBmZWF0dXJlLFxuICBzdHlsZSxcbiAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgdHJhbnNmb3JtLFxuICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbikge1xuICBjb25zdCBnZW9tZXRyeSA9IHN0eWxlLmdldEdlb21ldHJ5RnVuY3Rpb24oKShmZWF0dXJlKTtcbiAgaWYgKCFnZW9tZXRyeSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBzaW1wbGlmaWVkR2VvbWV0cnkgPSBnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKFxuICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgdHJhbnNmb3JtXG4gICk7XG4gIGNvbnN0IHJlbmRlcmVyID0gc3R5bGUuZ2V0UmVuZGVyZXIoKTtcbiAgaWYgKHJlbmRlcmVyKSB7XG4gICAgcmVuZGVyR2VvbWV0cnkocmVwbGF5R3JvdXAsIHNpbXBsaWZpZWRHZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGdlb21ldHJ5UmVuZGVyZXIgPSBHRU9NRVRSWV9SRU5ERVJFUlNbc2ltcGxpZmllZEdlb21ldHJ5LmdldFR5cGUoKV07XG4gICAgZ2VvbWV0cnlSZW5kZXJlcihcbiAgICAgIHJlcGxheUdyb3VwLFxuICAgICAgc2ltcGxpZmllZEdlb21ldHJ5LFxuICAgICAgc3R5bGUsXG4gICAgICBmZWF0dXJlLFxuICAgICAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gcmVwbGF5R3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckdlb21ldHJ5KHJlcGxheUdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUpIHtcbiAgaWYgKGdlb21ldHJ5LmdldFR5cGUoKSA9PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuICAgIGNvbnN0IGdlb21ldHJpZXMgPVxuICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGdlb21ldHJ5XG4gICAgICApLmdldEdlb21ldHJpZXMoKTtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHJlbmRlckdlb21ldHJ5KHJlcGxheUdyb3VwLCBnZW9tZXRyaWVzW2ldLCBzdHlsZSwgZmVhdHVyZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCByZXBsYXkgPSByZXBsYXlHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCAnRGVmYXVsdCcpO1xuICByZXBsYXkuZHJhd0N1c3RvbShcbiAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSxcbiAgICBmZWF0dXJlLFxuICAgIHN0eWxlLmdldFJlbmRlcmVyKCksXG4gICAgc3R5bGUuZ2V0SGl0RGV0ZWN0aW9uUmVuZGVyZXIoKVxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gcmVwbGF5R3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5KFxuICByZXBsYXlHcm91cCxcbiAgZ2VvbWV0cnksXG4gIHN0eWxlLFxuICBmZWF0dXJlLFxuICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbikge1xuICBjb25zdCBnZW9tZXRyaWVzID0gZ2VvbWV0cnkuZ2V0R2VvbWV0cmllc0FycmF5KCk7XG4gIGxldCBpLCBpaTtcbiAgZm9yIChpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBnZW9tZXRyeVJlbmRlcmVyID0gR0VPTUVUUllfUkVOREVSRVJTW2dlb21ldHJpZXNbaV0uZ2V0VHlwZSgpXTtcbiAgICBnZW9tZXRyeVJlbmRlcmVyKFxuICAgICAgcmVwbGF5R3JvdXAsXG4gICAgICBnZW9tZXRyaWVzW2ldLFxuICAgICAgc3R5bGUsXG4gICAgICBmZWF0dXJlLFxuICAgICAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyTGluZVN0cmluZ0dlb21ldHJ5KFxuICBidWlsZGVyR3JvdXAsXG4gIGdlb21ldHJ5LFxuICBzdHlsZSxcbiAgZmVhdHVyZSxcbiAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4pIHtcbiAgY29uc3Qgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgaWYgKHN0cm9rZVN0eWxlKSB7XG4gICAgY29uc3QgbGluZVN0cmluZ1JlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKFxuICAgICAgc3R5bGUuZ2V0WkluZGV4KCksXG4gICAgICAnTGluZVN0cmluZydcbiAgICApO1xuICAgIGxpbmVTdHJpbmdSZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKG51bGwsIHN0cm9rZVN0eWxlKTtcbiAgICBsaW5lU3RyaW5nUmVwbGF5LmRyYXdMaW5lU3RyaW5nKGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxuICBjb25zdCB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgIGNvbnN0IHRleHRSZXBsYXkgPSAoZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihcbiAgICAgIHN0eWxlLmdldFpJbmRleCgpLFxuICAgICAgJ1RleHQnXG4gICAgKTtcbiAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlck11bHRpTGluZVN0cmluZ0dlb21ldHJ5KFxuICBidWlsZGVyR3JvdXAsXG4gIGdlb21ldHJ5LFxuICBzdHlsZSxcbiAgZmVhdHVyZSxcbiAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4pIHtcbiAgY29uc3Qgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgaWYgKHN0cm9rZVN0eWxlKSB7XG4gICAgY29uc3QgbGluZVN0cmluZ1JlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKFxuICAgICAgc3R5bGUuZ2V0WkluZGV4KCksXG4gICAgICAnTGluZVN0cmluZydcbiAgICApO1xuICAgIGxpbmVTdHJpbmdSZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKG51bGwsIHN0cm9rZVN0eWxlKTtcbiAgICBsaW5lU3RyaW5nUmVwbGF5LmRyYXdNdWx0aUxpbmVTdHJpbmcoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG4gIGNvbnN0IHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgY29uc3QgdGV4dFJlcGxheSA9IChkZWNsdXR0ZXJCdWlsZGVyR3JvdXAgfHwgYnVpbGRlckdyb3VwKS5nZXRCdWlsZGVyKFxuICAgICAgc3R5bGUuZ2V0WkluZGV4KCksXG4gICAgICAnVGV4dCdcbiAgICApO1xuICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyTXVsdGlQb2x5Z29uR2VvbWV0cnkoXG4gIGJ1aWxkZXJHcm91cCxcbiAgZ2VvbWV0cnksXG4gIHN0eWxlLFxuICBmZWF0dXJlLFxuICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbikge1xuICBjb25zdCBmaWxsU3R5bGUgPSBzdHlsZS5nZXRGaWxsKCk7XG4gIGNvbnN0IHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gIGlmIChzdHJva2VTdHlsZSB8fCBmaWxsU3R5bGUpIHtcbiAgICBjb25zdCBwb2x5Z29uUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksICdQb2x5Z29uJyk7XG4gICAgcG9seWdvblJlcGxheS5zZXRGaWxsU3Ryb2tlU3R5bGUoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSk7XG4gICAgcG9seWdvblJlcGxheS5kcmF3TXVsdGlQb2x5Z29uKGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxuICBjb25zdCB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgIGNvbnN0IHRleHRSZXBsYXkgPSAoZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihcbiAgICAgIHN0eWxlLmdldFpJbmRleCgpLFxuICAgICAgJ1RleHQnXG4gICAgKTtcbiAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyUG9pbnRHZW9tZXRyeShcbiAgYnVpbGRlckdyb3VwLFxuICBnZW9tZXRyeSxcbiAgc3R5bGUsXG4gIGZlYXR1cmUsXG4gIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuKSB7XG4gIGNvbnN0IGltYWdlU3R5bGUgPSBzdHlsZS5nZXRJbWFnZSgpO1xuICBjb25zdCB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fSAqL1xuICBsZXQgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dDtcbiAgaWYgKGltYWdlU3R5bGUpIHtcbiAgICBpZiAoaW1hZ2VTdHlsZS5nZXRJbWFnZVN0YXRlKCkgIT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGltYWdlQnVpbGRlckdyb3VwID0gYnVpbGRlckdyb3VwO1xuICAgIGlmIChkZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICAgIGNvbnN0IGRlY2x1dHRlck1vZGUgPSBpbWFnZVN0eWxlLmdldERlY2x1dHRlck1vZGUoKTtcbiAgICAgIGlmIChkZWNsdXR0ZXJNb2RlICE9PSAnbm9uZScpIHtcbiAgICAgICAgaW1hZ2VCdWlsZGVyR3JvdXAgPSBkZWNsdXR0ZXJCdWlsZGVyR3JvdXA7XG4gICAgICAgIGlmIChkZWNsdXR0ZXJNb2RlID09PSAnb2JzdGFjbGUnKSB7XG4gICAgICAgICAgLy8gZHJhdyBpbiBub24tZGVjbHV0dGVyIGdyb3VwOlxuICAgICAgICAgIGNvbnN0IGltYWdlUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoXG4gICAgICAgICAgICBzdHlsZS5nZXRaSW5kZXgoKSxcbiAgICAgICAgICAgICdJbWFnZSdcbiAgICAgICAgICApO1xuICAgICAgICAgIGltYWdlUmVwbGF5LnNldEltYWdlU3R5bGUoaW1hZ2VTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgICAgICAgaW1hZ2VSZXBsYXkuZHJhd1BvaW50KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgICAgICAgIGRlY2x1dHRlckltYWdlV2l0aFRleHQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpbWFnZVJlcGxheSA9IGltYWdlQnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoXG4gICAgICBzdHlsZS5nZXRaSW5kZXgoKSxcbiAgICAgICdJbWFnZSdcbiAgICApO1xuICAgIGltYWdlUmVwbGF5LnNldEltYWdlU3R5bGUoaW1hZ2VTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgaW1hZ2VSZXBsYXkuZHJhd1BvaW50KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxuICBpZiAodGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkpIHtcbiAgICBsZXQgdGV4dEJ1aWxkZXJHcm91cCA9IGJ1aWxkZXJHcm91cDtcbiAgICBpZiAoZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgICB0ZXh0QnVpbGRlckdyb3VwID0gZGVjbHV0dGVyQnVpbGRlckdyb3VwO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0UmVwbGF5ID0gdGV4dEJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCAnVGV4dCcpO1xuICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlck11bHRpUG9pbnRHZW9tZXRyeShcbiAgYnVpbGRlckdyb3VwLFxuICBnZW9tZXRyeSxcbiAgc3R5bGUsXG4gIGZlYXR1cmUsXG4gIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuKSB7XG4gIGNvbnN0IGltYWdlU3R5bGUgPSBzdHlsZS5nZXRJbWFnZSgpO1xuICBjb25zdCB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fSAqL1xuICBsZXQgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dDtcbiAgaWYgKGltYWdlU3R5bGUpIHtcbiAgICBpZiAoaW1hZ2VTdHlsZS5nZXRJbWFnZVN0YXRlKCkgIT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGltYWdlQnVpbGRlckdyb3VwID0gYnVpbGRlckdyb3VwO1xuICAgIGlmIChkZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICAgIGNvbnN0IGRlY2x1dHRlck1vZGUgPSBpbWFnZVN0eWxlLmdldERlY2x1dHRlck1vZGUoKTtcbiAgICAgIGlmIChkZWNsdXR0ZXJNb2RlICE9PSAnbm9uZScpIHtcbiAgICAgICAgaW1hZ2VCdWlsZGVyR3JvdXAgPSBkZWNsdXR0ZXJCdWlsZGVyR3JvdXA7XG4gICAgICAgIGlmIChkZWNsdXR0ZXJNb2RlID09PSAnb2JzdGFjbGUnKSB7XG4gICAgICAgICAgLy8gZHJhdyBpbiBub24tZGVjbHV0dGVyIGdyb3VwOlxuICAgICAgICAgIGNvbnN0IGltYWdlUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoXG4gICAgICAgICAgICBzdHlsZS5nZXRaSW5kZXgoKSxcbiAgICAgICAgICAgICdJbWFnZSdcbiAgICAgICAgICApO1xuICAgICAgICAgIGltYWdlUmVwbGF5LnNldEltYWdlU3R5bGUoaW1hZ2VTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgICAgICAgaW1hZ2VSZXBsYXkuZHJhd011bHRpUG9pbnQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgICAgICB9IGVsc2UgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgICAgICAgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCA9IHt9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGltYWdlUmVwbGF5ID0gaW1hZ2VCdWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihcbiAgICAgIHN0eWxlLmdldFpJbmRleCgpLFxuICAgICAgJ0ltYWdlJ1xuICAgICk7XG4gICAgaW1hZ2VSZXBsYXkuc2V0SW1hZ2VTdHlsZShpbWFnZVN0eWxlLCBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0KTtcbiAgICBpbWFnZVJlcGxheS5kcmF3TXVsdGlQb2ludChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbiAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgbGV0IHRleHRCdWlsZGVyR3JvdXAgPSBidWlsZGVyR3JvdXA7XG4gICAgaWYgKGRlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgICAgdGV4dEJ1aWxkZXJHcm91cCA9IGRlY2x1dHRlckJ1aWxkZXJHcm91cDtcbiAgICB9XG4gICAgY29uc3QgdGV4dFJlcGxheSA9IHRleHRCdWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgJ1RleHQnKTtcbiAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUsIGRlY2x1dHRlckltYWdlV2l0aFRleHQpO1xuICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJQb2x5Z29uR2VvbWV0cnkoXG4gIGJ1aWxkZXJHcm91cCxcbiAgZ2VvbWV0cnksXG4gIHN0eWxlLFxuICBmZWF0dXJlLFxuICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbikge1xuICBjb25zdCBmaWxsU3R5bGUgPSBzdHlsZS5nZXRGaWxsKCk7XG4gIGNvbnN0IHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gIGlmIChmaWxsU3R5bGUgfHwgc3Ryb2tlU3R5bGUpIHtcbiAgICBjb25zdCBwb2x5Z29uUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksICdQb2x5Z29uJyk7XG4gICAgcG9seWdvblJlcGxheS5zZXRGaWxsU3Ryb2tlU3R5bGUoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSk7XG4gICAgcG9seWdvblJlcGxheS5kcmF3UG9seWdvbihnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbiAgY29uc3QgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICBpZiAodGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkpIHtcbiAgICBjb25zdCB0ZXh0UmVwbGF5ID0gKGRlY2x1dHRlckJ1aWxkZXJHcm91cCB8fCBidWlsZGVyR3JvdXApLmdldEJ1aWxkZXIoXG4gICAgICBzdHlsZS5nZXRaSW5kZXgoKSxcbiAgICAgICdUZXh0J1xuICAgICk7XG4gICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICB0ZXh0UmVwbGF5LmRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL2NhbnZhcy9WZWN0b3JUaWxlTGF5ZXJcbiAqL1xuaW1wb3J0IENhbnZhc0J1aWxkZXJHcm91cCBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qcyc7XG5pbXBvcnQgQ2FudmFzRXhlY3V0b3JHcm91cCBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXAuanMnO1xuaW1wb3J0IENhbnZhc1RpbGVMYXllclJlbmRlcmVyIGZyb20gJy4vVGlsZUxheWVyLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCBWaWV3SGludCBmcm9tICcuLi8uLi9WaWV3SGludC5qcyc7XG5pbXBvcnQge1xuICBISVRfREVURUNUX1JFU09MVVRJT04sXG4gIGNyZWF0ZUhpdERldGVjdGlvbkltYWdlRGF0YSxcbiAgaGl0RGV0ZWN0LFxufSBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzL2hpdGRldGVjdC5qcyc7XG5pbXBvcnQge1xuICBhcHBseSBhcyBhcHBseVRyYW5zZm9ybSxcbiAgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSxcbiAgbXVsdGlwbHksXG4gIHJlc2V0IGFzIHJlc2V0VHJhbnNmb3JtLFxuICBzY2FsZSxcbiAgc2NhbGUgYXMgc2NhbGVUcmFuc2Zvcm0sXG4gIHRyYW5zbGF0ZSBhcyB0cmFuc2xhdGVUcmFuc2Zvcm0sXG59IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQge1xuICBib3VuZGluZ0V4dGVudCxcbiAgYnVmZmVyLFxuICBjb250YWluc0V4dGVudCxcbiAgZXF1YWxzLFxuICBnZXRJbnRlcnNlY3Rpb24sXG4gIGdldFRvcExlZnQsXG4gIGludGVyc2VjdHMsXG59IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge1xuICBnZXRTcXVhcmVkVG9sZXJhbmNlIGFzIGdldFNxdWFyZWRSZW5kZXJUb2xlcmFuY2UsXG4gIHJlbmRlckZlYXR1cmUsXG59IGZyb20gJy4uL3ZlY3Rvci5qcyc7XG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vLi4vdXRpbC5qcyc7XG5pbXBvcnQge3RvU2l6ZX0gZnJvbSAnLi4vLi4vc2l6ZS5qcyc7XG5pbXBvcnQge3dyYXBYfSBmcm9tICcuLi8uLi9jb29yZGluYXRlLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIEFycmF5PGltcG9ydChcIi4uLy4uL3JlbmRlci9jYW52YXMuanNcIikuQnVpbGRlclR5cGU+Pn1cbiAqL1xuY29uc3QgSU1BR0VfUkVQTEFZUyA9IHtcbiAgJ2ltYWdlJzogWydQb2x5Z29uJywgJ0NpcmNsZScsICdMaW5lU3RyaW5nJywgJ0ltYWdlJywgJ1RleHQnXSxcbiAgJ2h5YnJpZCc6IFsnUG9seWdvbicsICdMaW5lU3RyaW5nJ10sXG4gICd2ZWN0b3InOiBbXSxcbn07XG5cbi8qKlxuICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBBcnJheTxpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzLmpzXCIpLkJ1aWxkZXJUeXBlPj59XG4gKi9cbmNvbnN0IFZFQ1RPUl9SRVBMQVlTID0ge1xuICAnaHlicmlkJzogWydJbWFnZScsICdUZXh0JywgJ0RlZmF1bHQnXSxcbiAgJ3ZlY3Rvcic6IFsnUG9seWdvbicsICdDaXJjbGUnLCAnTGluZVN0cmluZycsICdJbWFnZScsICdUZXh0JywgJ0RlZmF1bHQnXSxcbn07XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2FudmFzIHJlbmRlcmVyIGZvciB2ZWN0b3IgdGlsZSBsYXllcnMuXG4gKiBAYXBpXG4gKiBAZXh0ZW5kcyB7Q2FudmFzVGlsZUxheWVyUmVuZGVyZXI8aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0Pn1cbiAqL1xuY2xhc3MgQ2FudmFzVmVjdG9yVGlsZUxheWVyUmVuZGVyZXIgZXh0ZW5kcyBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gbGF5ZXIgVmVjdG9yVGlsZSBsYXllci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGxheWVyKSB7XG4gICAgc3VwZXIobGF5ZXIpO1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy5ib3VuZEhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfID0gdGhpcy5oYW5kbGVTdHlsZUltYWdlQ2hhbmdlXy5iaW5kKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRMYXllclJldmlzaW9uXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybVwiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFJvdGF0aW9uXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy50bXBUcmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9WZWN0b3JSZW5kZXJUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai9Qcm9qZWN0aW9uXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9IFRpbGUgbmVlZHMgdG8gYmUgcmVuZGVyZWQuXG4gICAqL1xuICBwcmVwYXJlVGlsZSh0aWxlLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgbGV0IHJlbmRlcjtcbiAgICBjb25zdCBzdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICBpZiAoc3RhdGUgPT09IFRpbGVTdGF0ZS5MT0FERUQgfHwgc3RhdGUgPT09IFRpbGVTdGF0ZS5FUlJPUikge1xuICAgICAgdGhpcy51cGRhdGVFeGVjdXRvckdyb3VwXyh0aWxlLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgIGlmICh0aGlzLnRpbGVJbWFnZU5lZWRzUmVuZGVyXyh0aWxlKSkge1xuICAgICAgICByZW5kZXIgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGUuXG4gICAqL1xuICBnZXRUaWxlKHosIHgsIHksIGZyYW1lU3RhdGUpIHtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgIGNvbnN0IHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSB2aWV3U3RhdGUucmVzb2x1dGlvbjtcbiAgICBjb25zdCBwcm9qZWN0aW9uID0gdmlld1N0YXRlLnByb2plY3Rpb247XG4gICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgY29uc3QgdGlsZSA9IGxheWVyLmdldFNvdXJjZSgpLmdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgY29uc3Qgdmlld0hpbnRzID0gZnJhbWVTdGF0ZS52aWV3SGludHM7XG4gICAgY29uc3QgaGlmaSA9ICEoXG4gICAgICB2aWV3SGludHNbVmlld0hpbnQuQU5JTUFUSU5HXSB8fCB2aWV3SGludHNbVmlld0hpbnQuSU5URVJBQ1RJTkddXG4gICAgKTtcbiAgICBpZiAoaGlmaSB8fCAhdGlsZS53YW50ZWRSZXNvbHV0aW9uKSB7XG4gICAgICB0aWxlLndhbnRlZFJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXIgPSB0aGlzLnByZXBhcmVUaWxlKHRpbGUsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgIGlmIChcbiAgICAgIHJlbmRlciAmJlxuICAgICAgKGhpZmkgfHwgRGF0ZS5ub3coKSAtIGZyYW1lU3RhdGUudGltZSA8IDgpICYmXG4gICAgICBsYXllci5nZXRSZW5kZXJNb2RlKCkgIT09ICd2ZWN0b3InXG4gICAgKSB7XG4gICAgICB0aGlzLnJlbmRlclRpbGVJbWFnZV8odGlsZSwgZnJhbWVTdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5nZXRUaWxlKHosIHgsIHksIGZyYW1lU3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9yUmVuZGVyVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRpbGUgaXMgZHJhd2FibGUuXG4gICAqL1xuICBpc0RyYXdhYmxlVGlsZSh0aWxlKSB7XG4gICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgcmV0dXJuIChcbiAgICAgIHN1cGVyLmlzRHJhd2FibGVUaWxlKHRpbGUpICYmXG4gICAgICAobGF5ZXIuZ2V0UmVuZGVyTW9kZSgpID09PSAndmVjdG9yJ1xuICAgICAgICA/IGdldFVpZChsYXllcikgaW4gdGlsZS5leGVjdXRvckdyb3Vwc1xuICAgICAgICA6IHRpbGUuaGFzQ29udGV4dChsYXllcikpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgZ2V0VGlsZUltYWdlKHRpbGUpIHtcbiAgICByZXR1cm4gdGlsZS5nZXRJbWFnZSh0aGlzLmdldExheWVyKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB3aGV0aGVyIHJlbmRlciBzaG91bGQgYmUgY2FsbGVkLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBMYXllciBpcyByZWFkeSB0byBiZSByZW5kZXJlZC5cbiAgICovXG4gIHByZXBhcmVGcmFtZShmcmFtZVN0YXRlKSB7XG4gICAgY29uc3QgbGF5ZXJSZXZpc2lvbiA9IHRoaXMuZ2V0TGF5ZXIoKS5nZXRSZXZpc2lvbigpO1xuICAgIGlmICh0aGlzLnJlbmRlcmVkTGF5ZXJSZXZpc2lvbl8gIT09IGxheWVyUmV2aXNpb24pIHtcbiAgICAgIHRoaXMucmVuZGVyZWRMYXllclJldmlzaW9uXyA9IGxheWVyUmV2aXNpb247XG4gICAgICB0aGlzLnJlbmRlcmVkVGlsZXMubGVuZ3RoID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLnByZXBhcmVGcmFtZShmcmFtZVN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1ZlY3RvclJlbmRlclRpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdXBkYXRlRXhlY3V0b3JHcm91cF8odGlsZSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIGNvbnN0IGxheWVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgIHRoaXMuZ2V0TGF5ZXIoKVxuICAgICk7XG4gICAgY29uc3QgcmV2aXNpb24gPSBsYXllci5nZXRSZXZpc2lvbigpO1xuICAgIGNvbnN0IHJlbmRlck9yZGVyID0gbGF5ZXIuZ2V0UmVuZGVyT3JkZXIoKSB8fCBudWxsO1xuXG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHRpbGUud2FudGVkUmVzb2x1dGlvbjtcbiAgICBjb25zdCBidWlsZGVyU3RhdGUgPSB0aWxlLmdldFJlcGxheVN0YXRlKGxheWVyKTtcbiAgICBpZiAoXG4gICAgICAhYnVpbGRlclN0YXRlLmRpcnR5ICYmXG4gICAgICBidWlsZGVyU3RhdGUucmVuZGVyZWRSZXNvbHV0aW9uID09PSByZXNvbHV0aW9uICYmXG4gICAgICBidWlsZGVyU3RhdGUucmVuZGVyZWRSZXZpc2lvbiA9PSByZXZpc2lvbiAmJlxuICAgICAgYnVpbGRlclN0YXRlLnJlbmRlcmVkUmVuZGVyT3JkZXIgPT0gcmVuZGVyT3JkZXJcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzb3VyY2UgPSBsYXllci5nZXRTb3VyY2UoKTtcbiAgICBjb25zdCBkZWNsdXR0ZXIgPSBsYXllci5nZXREZWNsdXR0ZXIoKTtcbiAgICBjb25zdCBzb3VyY2VUaWxlR3JpZCA9IHNvdXJjZS5nZXRUaWxlR3JpZCgpO1xuICAgIGNvbnN0IHRpbGVHcmlkID0gc291cmNlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBjb25zdCB0aWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGUud3JhcHBlZFRpbGVDb29yZCk7XG5cbiAgICBjb25zdCBzb3VyY2VUaWxlcyA9IHNvdXJjZS5nZXRTb3VyY2VUaWxlcyhwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCB0aWxlKTtcbiAgICBjb25zdCBsYXllclVpZCA9IGdldFVpZChsYXllcik7XG4gICAgZGVsZXRlIHRpbGUuaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhW2xheWVyVWlkXTtcbiAgICB0aWxlLmV4ZWN1dG9yR3JvdXBzW2xheWVyVWlkXSA9IFtdO1xuICAgIGlmIChkZWNsdXR0ZXIpIHtcbiAgICAgIHRpbGUuZGVjbHV0dGVyRXhlY3V0b3JHcm91cHNbbGF5ZXJVaWRdID0gW107XG4gICAgfVxuICAgIGJ1aWxkZXJTdGF0ZS5kaXJ0eSA9IGZhbHNlO1xuICAgIGZvciAobGV0IHQgPSAwLCB0dCA9IHNvdXJjZVRpbGVzLmxlbmd0aDsgdCA8IHR0OyArK3QpIHtcbiAgICAgIGNvbnN0IHNvdXJjZVRpbGUgPSBzb3VyY2VUaWxlc1t0XTtcbiAgICAgIGlmIChzb3VyY2VUaWxlLmdldFN0YXRlKCkgIT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNvdXJjZVRpbGVDb29yZCA9IHNvdXJjZVRpbGUudGlsZUNvb3JkO1xuICAgICAgY29uc3Qgc291cmNlVGlsZUV4dGVudCA9XG4gICAgICAgIHNvdXJjZVRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudChzb3VyY2VUaWxlQ29vcmQpO1xuICAgICAgY29uc3Qgc2hhcmVkRXh0ZW50ID0gZ2V0SW50ZXJzZWN0aW9uKHRpbGVFeHRlbnQsIHNvdXJjZVRpbGVFeHRlbnQpO1xuICAgICAgY29uc3QgYnVpbGRlckV4dGVudCA9IGJ1ZmZlcihcbiAgICAgICAgc2hhcmVkRXh0ZW50LFxuICAgICAgICBsYXllci5nZXRSZW5kZXJCdWZmZXIoKSAqIHJlc29sdXRpb24sXG4gICAgICAgIHRoaXMudG1wRXh0ZW50XG4gICAgICApO1xuICAgICAgY29uc3QgYnVmZmVyZWRFeHRlbnQgPSBlcXVhbHMoc291cmNlVGlsZUV4dGVudCwgc2hhcmVkRXh0ZW50KVxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBidWlsZGVyRXh0ZW50O1xuICAgICAgY29uc3QgYnVpbGRlckdyb3VwID0gbmV3IENhbnZhc0J1aWxkZXJHcm91cChcbiAgICAgICAgMCxcbiAgICAgICAgYnVpbGRlckV4dGVudCxcbiAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgcGl4ZWxSYXRpb1xuICAgICAgKTtcbiAgICAgIGNvbnN0IGRlY2x1dHRlckJ1aWxkZXJHcm91cCA9IGRlY2x1dHRlclxuICAgICAgICA/IG5ldyBDYW52YXNCdWlsZGVyR3JvdXAoMCwgc2hhcmVkRXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IHNxdWFyZWRUb2xlcmFuY2UgPSBnZXRTcXVhcmVkUmVuZGVyVG9sZXJhbmNlKFxuICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICBwaXhlbFJhdGlvXG4gICAgICApO1xuXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICogQHRoaXMge0NhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyfVxuICAgICAgICovXG4gICAgICBjb25zdCByZW5kZXIgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICBsZXQgc3R5bGVzO1xuICAgICAgICBjb25zdCBzdHlsZUZ1bmN0aW9uID1cbiAgICAgICAgICBmZWF0dXJlLmdldFN0eWxlRnVuY3Rpb24oKSB8fCBsYXllci5nZXRTdHlsZUZ1bmN0aW9uKCk7XG4gICAgICAgIGlmIChzdHlsZUZ1bmN0aW9uKSB7XG4gICAgICAgICAgc3R5bGVzID0gc3R5bGVGdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGVzKSB7XG4gICAgICAgICAgY29uc3QgZGlydHkgPSB0aGlzLnJlbmRlckZlYXR1cmUoXG4gICAgICAgICAgICBmZWF0dXJlLFxuICAgICAgICAgICAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICAgICAgICAgIHN0eWxlcyxcbiAgICAgICAgICAgIGJ1aWxkZXJHcm91cCxcbiAgICAgICAgICAgIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnVpbGRlclN0YXRlLmRpcnR5ID0gYnVpbGRlclN0YXRlLmRpcnR5IHx8IGRpcnR5O1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBmZWF0dXJlcyA9IHNvdXJjZVRpbGUuZ2V0RmVhdHVyZXMoKTtcbiAgICAgIGlmIChyZW5kZXJPcmRlciAmJiByZW5kZXJPcmRlciAhPT0gYnVpbGRlclN0YXRlLnJlbmRlcmVkUmVuZGVyT3JkZXIpIHtcbiAgICAgICAgZmVhdHVyZXMuc29ydChyZW5kZXJPcmRlcik7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBmZWF0dXJlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGZlYXR1cmUgPSBmZWF0dXJlc1tpXTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFidWZmZXJlZEV4dGVudCB8fFxuICAgICAgICAgIGludGVyc2VjdHMoYnVmZmVyZWRFeHRlbnQsIGZlYXR1cmUuZ2V0R2VvbWV0cnkoKS5nZXRFeHRlbnQoKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmVuZGVyLmNhbGwodGhpcywgZmVhdHVyZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGV4ZWN1dG9yR3JvdXBJbnN0cnVjdGlvbnMgPSBidWlsZGVyR3JvdXAuZmluaXNoKCk7XG4gICAgICAvLyBubyBuZWVkIHRvIGNsaXAgd2hlbiB0aGUgcmVuZGVyIHRpbGUgaXMgY292ZXJlZCBieSBhIHNpbmdsZSBzb3VyY2UgdGlsZVxuICAgICAgY29uc3QgcmVwbGF5RXh0ZW50ID1cbiAgICAgICAgbGF5ZXIuZ2V0UmVuZGVyTW9kZSgpICE9PSAndmVjdG9yJyAmJlxuICAgICAgICBkZWNsdXR0ZXIgJiZcbiAgICAgICAgc291cmNlVGlsZXMubGVuZ3RoID09PSAxXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiBzaGFyZWRFeHRlbnQ7XG4gICAgICBjb25zdCByZW5kZXJpbmdSZXBsYXlHcm91cCA9IG5ldyBDYW52YXNFeGVjdXRvckdyb3VwKFxuICAgICAgICByZXBsYXlFeHRlbnQsXG4gICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgIHBpeGVsUmF0aW8sXG4gICAgICAgIHNvdXJjZS5nZXRPdmVybGFwcygpLFxuICAgICAgICBleGVjdXRvckdyb3VwSW5zdHJ1Y3Rpb25zLFxuICAgICAgICBsYXllci5nZXRSZW5kZXJCdWZmZXIoKVxuICAgICAgKTtcbiAgICAgIHRpbGUuZXhlY3V0b3JHcm91cHNbbGF5ZXJVaWRdLnB1c2gocmVuZGVyaW5nUmVwbGF5R3JvdXApO1xuICAgICAgaWYgKGRlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgICAgICBjb25zdCBkZWNsdXR0ZXJFeGVjdXRvckdyb3VwID0gbmV3IENhbnZhc0V4ZWN1dG9yR3JvdXAoXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICAgIHBpeGVsUmF0aW8sXG4gICAgICAgICAgc291cmNlLmdldE92ZXJsYXBzKCksXG4gICAgICAgICAgZGVjbHV0dGVyQnVpbGRlckdyb3VwLmZpbmlzaCgpLFxuICAgICAgICAgIGxheWVyLmdldFJlbmRlckJ1ZmZlcigpXG4gICAgICAgICk7XG4gICAgICAgIHRpbGUuZGVjbHV0dGVyRXhlY3V0b3JHcm91cHNbbGF5ZXJVaWRdLnB1c2goZGVjbHV0dGVyRXhlY3V0b3JHcm91cCk7XG4gICAgICB9XG4gICAgfVxuICAgIGJ1aWxkZXJTdGF0ZS5yZW5kZXJlZFJldmlzaW9uID0gcmV2aXNpb247XG4gICAgYnVpbGRlclN0YXRlLnJlbmRlcmVkUmVuZGVyT3JkZXIgPSByZW5kZXJPcmRlcjtcbiAgICBidWlsZGVyU3RhdGUucmVuZGVyZWRSZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3ZlY3Rvci5qc1wiKS5GZWF0dXJlQ2FsbGJhY2s8VD59IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkhpdE1hdGNoPFQ+Pn0gbWF0Y2hlcyBUaGUgaGl0IGRldGVjdGVkIG1hdGNoZXMgd2l0aCB0b2xlcmFuY2UuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqL1xuICBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShcbiAgICBjb29yZGluYXRlLFxuICAgIGZyYW1lU3RhdGUsXG4gICAgaGl0VG9sZXJhbmNlLFxuICAgIGNhbGxiYWNrLFxuICAgIG1hdGNoZXNcbiAgKSB7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgY29uc3Qgcm90YXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yb3RhdGlvbjtcbiAgICBoaXRUb2xlcmFuY2UgPSBoaXRUb2xlcmFuY2UgPT0gdW5kZWZpbmVkID8gMCA6IGhpdFRvbGVyYW5jZTtcbiAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICBjb25zdCBzb3VyY2UgPSBsYXllci5nZXRTb3VyY2UoKTtcbiAgICBjb25zdCB0aWxlR3JpZCA9IHNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24oXG4gICAgICBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5wcm9qZWN0aW9uXG4gICAgKTtcblxuICAgIGNvbnN0IGhpdEV4dGVudCA9IGJvdW5kaW5nRXh0ZW50KFtjb29yZGluYXRlXSk7XG4gICAgYnVmZmVyKGhpdEV4dGVudCwgcmVzb2x1dGlvbiAqIGhpdFRvbGVyYW5jZSwgaGl0RXh0ZW50KTtcblxuICAgIC8qKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL01hcC5qc1wiKS5IaXRNYXRjaDxUPnx0cnVlPn0gKi9cbiAgICBjb25zdCBmZWF0dXJlcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZVNxIFRoZSBzcXVhcmVkIGRpc3RhbmNlIHRvIHRoZSBjbGljayBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqL1xuICAgIGNvbnN0IGZlYXR1cmVDYWxsYmFjayA9IGZ1bmN0aW9uIChmZWF0dXJlLCBnZW9tZXRyeSwgZGlzdGFuY2VTcSkge1xuICAgICAgbGV0IGtleSA9IGZlYXR1cmUuZ2V0SWQoKTtcbiAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBtYXRjaCA9IGZlYXR1cmVzW2tleV07XG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIGlmIChkaXN0YW5jZVNxID09PSAwKSB7XG4gICAgICAgICAgZmVhdHVyZXNba2V5XSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGZlYXR1cmUsIGxheWVyLCBnZW9tZXRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF0Y2hlcy5wdXNoKFxuICAgICAgICAgIChmZWF0dXJlc1trZXldID0ge1xuICAgICAgICAgICAgZmVhdHVyZTogZmVhdHVyZSxcbiAgICAgICAgICAgIGxheWVyOiBsYXllcixcbiAgICAgICAgICAgIGdlb21ldHJ5OiBnZW9tZXRyeSxcbiAgICAgICAgICAgIGRpc3RhbmNlU3E6IGRpc3RhbmNlU3EsXG4gICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2ggIT09IHRydWUgJiYgZGlzdGFuY2VTcSA8IG1hdGNoLmRpc3RhbmNlU3EpIHtcbiAgICAgICAgaWYgKGRpc3RhbmNlU3EgPT09IDApIHtcbiAgICAgICAgICBmZWF0dXJlc1trZXldID0gdHJ1ZTtcbiAgICAgICAgICBtYXRjaGVzLnNwbGljZShtYXRjaGVzLmxhc3RJbmRleE9mKG1hdGNoKSwgMSk7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGZlYXR1cmUsIGxheWVyLCBnZW9tZXRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF0Y2guZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgbWF0Y2guZGlzdGFuY2VTcSA9IGRpc3RhbmNlU3E7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJlZFRpbGVzID1cbiAgICAgIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vVmVjdG9yUmVuZGVyVGlsZS5qc1wiKS5kZWZhdWx0Pn0gKi8gKFxuICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXNcbiAgICAgICk7XG5cbiAgICBsZXQgZm91bmQ7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gcmVuZGVyZWRUaWxlcy5sZW5ndGg7ICFmb3VuZCAmJiBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgdGlsZSA9IHJlbmRlcmVkVGlsZXNbaV07XG4gICAgICBjb25zdCB0aWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGUud3JhcHBlZFRpbGVDb29yZCk7XG4gICAgICBpZiAoIWludGVyc2VjdHModGlsZUV4dGVudCwgaGl0RXh0ZW50KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbGF5ZXJVaWQgPSBnZXRVaWQobGF5ZXIpO1xuICAgICAgY29uc3QgZXhlY3V0b3JHcm91cHMgPSBbdGlsZS5leGVjdXRvckdyb3Vwc1tsYXllclVpZF1dO1xuICAgICAgY29uc3QgZGVjbHV0dGVyRXhlY3V0b3JHcm91cHMgPSB0aWxlLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXBzW2xheWVyVWlkXTtcbiAgICAgIGlmIChkZWNsdXR0ZXJFeGVjdXRvckdyb3Vwcykge1xuICAgICAgICBleGVjdXRvckdyb3Vwcy5wdXNoKGRlY2x1dHRlckV4ZWN1dG9yR3JvdXBzKTtcbiAgICAgIH1cbiAgICAgIGV4ZWN1dG9yR3JvdXBzLnNvbWUoKGV4ZWN1dG9yR3JvdXBzKSA9PiB7XG4gICAgICAgIGNvbnN0IGRlY2x1dHRlcmVkRmVhdHVyZXMgPVxuICAgICAgICAgIGV4ZWN1dG9yR3JvdXBzID09PSBkZWNsdXR0ZXJFeGVjdXRvckdyb3Vwc1xuICAgICAgICAgICAgPyBmcmFtZVN0YXRlLmRlY2x1dHRlclRyZWUuYWxsKCkubWFwKChpdGVtKSA9PiBpdGVtLnZhbHVlKVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBmb3IgKGxldCB0ID0gMCwgdHQgPSBleGVjdXRvckdyb3Vwcy5sZW5ndGg7IHQgPCB0dDsgKyt0KSB7XG4gICAgICAgICAgY29uc3QgZXhlY3V0b3JHcm91cCA9IGV4ZWN1dG9yR3JvdXBzW3RdO1xuICAgICAgICAgIGZvdW5kID0gZXhlY3V0b3JHcm91cC5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShcbiAgICAgICAgICAgIGNvb3JkaW5hdGUsXG4gICAgICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgICBoaXRUb2xlcmFuY2UsXG4gICAgICAgICAgICBmZWF0dXJlQ2FsbGJhY2ssXG4gICAgICAgICAgICBkZWNsdXR0ZXJlZEZlYXR1cmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBc3luY2hyb25vdXMgbGF5ZXIgbGV2ZWwgaGl0IGRldGVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT4+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhbiBhcnJheSBvZiBmZWF0dXJlcy5cbiAgICovXG4gIGdldEZlYXR1cmVzKHBpeGVsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgY29uc3QgbGF5ZXJVaWQgPSBnZXRVaWQobGF5ZXIpO1xuICAgICAgY29uc3Qgc291cmNlID0gbGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgICBjb25zdCBwcm9qZWN0aW9uID0gdGhpcy5yZW5kZXJlZFByb2plY3Rpb247XG4gICAgICBjb25zdCBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbjtcbiAgICAgIGNvbnN0IHRpbGVHcmlkID0gc291cmNlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBhcHBseVRyYW5zZm9ybShcbiAgICAgICAgdGhpcy5yZW5kZXJlZFBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyxcbiAgICAgICAgcGl4ZWwuc2xpY2UoKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRpbGVDb29yZCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEZvckNvb3JkQW5kUmVzb2x1dGlvbihcbiAgICAgICAgY29vcmRpbmF0ZSxcbiAgICAgICAgcmVzb2x1dGlvblxuICAgICAgKTtcbiAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9yUmVuZGVyVGlsZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gKi9cbiAgICAgIGxldCB0aWxlO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdGhpcy5yZW5kZXJlZFRpbGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRpbGVDb29yZC50b1N0cmluZygpID09PSB0aGlzLnJlbmRlcmVkVGlsZXNbaV0udGlsZUNvb3JkLnRvU3RyaW5nKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGlsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9yUmVuZGVyVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXNbaV1cbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlLnRpbGVDb29yZCk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNvdXJjZS5nZXRXcmFwWCgpICYmXG4gICAgICAgICAgICAgIHByb2plY3Rpb24uY2FuV3JhcFgoKSAmJlxuICAgICAgICAgICAgICAhY29udGFpbnNFeHRlbnQocHJvamVjdGlvbkV4dGVudCwgZXh0ZW50KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHdyYXBYKGNvb3JkaW5hdGUsIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRpbGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghdGlsZSB8fCB0aWxlLmxvYWRpbmdTb3VyY2VUaWxlcyA+IDApIHtcbiAgICAgICAgcmVzb2x2ZShbXSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlLndyYXBwZWRUaWxlQ29vcmQpO1xuICAgICAgY29uc3QgY29ybmVyID0gZ2V0VG9wTGVmdChleHRlbnQpO1xuICAgICAgY29uc3QgdGlsZVBpeGVsID0gW1xuICAgICAgICAoY29vcmRpbmF0ZVswXSAtIGNvcm5lclswXSkgLyByZXNvbHV0aW9uLFxuICAgICAgICAoY29ybmVyWzFdIC0gY29vcmRpbmF0ZVsxXSkgLyByZXNvbHV0aW9uLFxuICAgICAgXTtcbiAgICAgIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59ICovXG4gICAgICBjb25zdCBmZWF0dXJlcyA9IHRpbGVcbiAgICAgICAgLmdldFNvdXJjZVRpbGVzKClcbiAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoYWNjdW11bGF0b3IsIHNvdXJjZVRpbGUpIHtcbiAgICAgICAgICByZXR1cm4gYWNjdW11bGF0b3IuY29uY2F0KHNvdXJjZVRpbGUuZ2V0RmVhdHVyZXMoKSk7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgIC8qKiBAdHlwZSB7SW1hZ2VEYXRhfHVuZGVmaW5lZH0gKi9cbiAgICAgIGxldCBoaXREZXRlY3Rpb25JbWFnZURhdGEgPSB0aWxlLmhpdERldGVjdGlvbkltYWdlRGF0YVtsYXllclVpZF07XG4gICAgICBpZiAoIWhpdERldGVjdGlvbkltYWdlRGF0YSkge1xuICAgICAgICBjb25zdCB0aWxlU2l6ZSA9IHRvU2l6ZShcbiAgICAgICAgICB0aWxlR3JpZC5nZXRUaWxlU2l6ZShcbiAgICAgICAgICAgIHRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKHJlc29sdXRpb24sIHNvdXJjZS56RGlyZWN0aW9uKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgcm90YXRpb24gPSB0aGlzLnJlbmRlcmVkUm90YXRpb25fO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1zID0gW1xuICAgICAgICAgIHRoaXMuZ2V0UmVuZGVyVHJhbnNmb3JtKFxuICAgICAgICAgICAgdGlsZUdyaWQuZ2V0VGlsZUNvb3JkQ2VudGVyKHRpbGUud3JhcHBlZFRpbGVDb29yZCksXG4gICAgICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIEhJVF9ERVRFQ1RfUkVTT0xVVElPTixcbiAgICAgICAgICAgIHRpbGVTaXplWzBdICogSElUX0RFVEVDVF9SRVNPTFVUSU9OLFxuICAgICAgICAgICAgdGlsZVNpemVbMV0gKiBISVRfREVURUNUX1JFU09MVVRJT04sXG4gICAgICAgICAgICAwXG4gICAgICAgICAgKSxcbiAgICAgICAgXTtcbiAgICAgICAgaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhID0gY3JlYXRlSGl0RGV0ZWN0aW9uSW1hZ2VEYXRhKFxuICAgICAgICAgIHRpbGVTaXplLFxuICAgICAgICAgIHRyYW5zZm9ybXMsXG4gICAgICAgICAgZmVhdHVyZXMsXG4gICAgICAgICAgbGF5ZXIuZ2V0U3R5bGVGdW5jdGlvbigpLFxuICAgICAgICAgIHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlLndyYXBwZWRUaWxlQ29vcmQpLFxuICAgICAgICAgIHRpbGUuZ2V0UmVwbGF5U3RhdGUobGF5ZXIpLnJlbmRlcmVkUmVzb2x1dGlvbixcbiAgICAgICAgICByb3RhdGlvblxuICAgICAgICApO1xuICAgICAgICB0aWxlLmhpdERldGVjdGlvbkltYWdlRGF0YVtsYXllclVpZF0gPSBoaXREZXRlY3Rpb25JbWFnZURhdGE7XG4gICAgICB9XG4gICAgICByZXNvbHZlKGhpdERldGVjdCh0aWxlUGl4ZWwsIGZlYXR1cmVzLCBoaXREZXRlY3Rpb25JbWFnZURhdGEpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtIGFjdGlvbiBuZWNlc3NhcnkgdG8gZ2V0IHRoZSBsYXllciByZW5kZXJlZCBhZnRlciBuZXcgZm9udHMgaGF2ZSBsb2FkZWRcbiAgICovXG4gIGhhbmRsZUZvbnRzQ2hhbmdlZCgpIHtcbiAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICBpZiAobGF5ZXIuZ2V0VmlzaWJsZSgpICYmIHRoaXMucmVuZGVyZWRMYXllclJldmlzaW9uXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsYXllci5jaGFuZ2VkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBjaGFuZ2VzIGluIGltYWdlIHN0eWxlIHN0YXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBJbWFnZSBzdHlsZSBjaGFuZ2UgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVTdHlsZUltYWdlQ2hhbmdlXyhldmVudCkge1xuICAgIHRoaXMucmVuZGVySWZSZWFkeUFuZFZpc2libGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgZGVjbHV0dGVyIGl0ZW1zIGZvciB0aGlzIGxheWVyXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqL1xuICByZW5kZXJEZWNsdXR0ZXIoZnJhbWVTdGF0ZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgY29uc3QgYWxwaGEgPSBjb250ZXh0Lmdsb2JhbEFscGhhO1xuICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLmdldExheWVyKCkuZ2V0T3BhY2l0eSgpO1xuICAgIGNvbnN0IHZpZXdIaW50cyA9IGZyYW1lU3RhdGUudmlld0hpbnRzO1xuICAgIGNvbnN0IGhpZmkgPSAhKFxuICAgICAgdmlld0hpbnRzW1ZpZXdIaW50LkFOSU1BVElOR10gfHwgdmlld0hpbnRzW1ZpZXdIaW50LklOVEVSQUNUSU5HXVxuICAgICk7XG4gICAgY29uc3QgdGlsZXMgPVxuICAgICAgLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9WZWN0b3JSZW5kZXJUaWxlLmpzXCIpLmRlZmF1bHQ+fSAqLyAoXG4gICAgICAgIHRoaXMucmVuZGVyZWRUaWxlc1xuICAgICAgKTtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSB0aWxlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBjb25zdCB0aWxlID0gdGlsZXNbaV07XG4gICAgICBjb25zdCBkZWNsdXR0ZXJFeGVjdXRvckdyb3VwcyA9XG4gICAgICAgIHRpbGUuZGVjbHV0dGVyRXhlY3V0b3JHcm91cHNbZ2V0VWlkKHRoaXMuZ2V0TGF5ZXIoKSldO1xuICAgICAgaWYgKGRlY2x1dHRlckV4ZWN1dG9yR3JvdXBzKSB7XG4gICAgICAgIGZvciAobGV0IGogPSBkZWNsdXR0ZXJFeGVjdXRvckdyb3Vwcy5sZW5ndGggLSAxOyBqID49IDA7IC0taikge1xuICAgICAgICAgIGRlY2x1dHRlckV4ZWN1dG9yR3JvdXBzW2pdLmV4ZWN1dGUoXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgdGhpcy5nZXRUaWxlUmVuZGVyVHJhbnNmb3JtKHRpbGUsIGZyYW1lU3RhdGUpLFxuICAgICAgICAgICAgZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb24sXG4gICAgICAgICAgICBoaWZpLFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgZnJhbWVTdGF0ZS5kZWNsdXR0ZXJUcmVlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGE7XG4gIH1cblxuICBnZXRUaWxlUmVuZGVyVHJhbnNmb3JtKHRpbGUsIGZyYW1lU3RhdGUpIHtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgIGNvbnN0IHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIGNvbnN0IGNlbnRlciA9IHZpZXdTdGF0ZS5jZW50ZXI7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgIGNvbnN0IHJvdGF0aW9uID0gdmlld1N0YXRlLnJvdGF0aW9uO1xuICAgIGNvbnN0IHNpemUgPSBmcmFtZVN0YXRlLnNpemU7XG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLnJvdW5kKHNpemVbMF0gKiBwaXhlbFJhdGlvKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLnJvdW5kKHNpemVbMV0gKiBwaXhlbFJhdGlvKTtcblxuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0TGF5ZXIoKS5nZXRTb3VyY2UoKTtcbiAgICBjb25zdCB0aWxlR3JpZCA9IHNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24oXG4gICAgICBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5wcm9qZWN0aW9uXG4gICAgKTtcbiAgICBjb25zdCB0aWxlQ29vcmQgPSB0aWxlLnRpbGVDb29yZDtcbiAgICBjb25zdCB0aWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGUud3JhcHBlZFRpbGVDb29yZCk7XG4gICAgY29uc3Qgd29ybGRPZmZzZXQgPVxuICAgICAgdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGVDb29yZCwgdGhpcy50bXBFeHRlbnQpWzBdIC0gdGlsZUV4dGVudFswXTtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBtdWx0aXBseShcbiAgICAgIHNjYWxlKHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtLnNsaWNlKCksIDEgLyBwaXhlbFJhdGlvLCAxIC8gcGl4ZWxSYXRpbyksXG4gICAgICB0aGlzLmdldFJlbmRlclRyYW5zZm9ybShcbiAgICAgICAgY2VudGVyLFxuICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICByb3RhdGlvbixcbiAgICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgd29ybGRPZmZzZXRcbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiB0cmFuc2Zvcm07XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIHRoZSB2ZWN0b3JzIGZvciB0aGlzIGxheWVyLlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBUYXJnZXQgY29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICovXG4gIHBvc3RSZW5kZXIoY29udGV4dCwgZnJhbWVTdGF0ZSkge1xuICAgIGNvbnN0IHZpZXdIaW50cyA9IGZyYW1lU3RhdGUudmlld0hpbnRzO1xuICAgIGNvbnN0IGhpZmkgPSAhKFxuICAgICAgdmlld0hpbnRzW1ZpZXdIaW50LkFOSU1BVElOR10gfHwgdmlld0hpbnRzW1ZpZXdIaW50LklOVEVSQUNUSU5HXVxuICAgICk7XG5cbiAgICB0aGlzLnJlbmRlcmVkUGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm1fID1cbiAgICAgIGZyYW1lU3RhdGUucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0uc2xpY2UoKTtcbiAgICB0aGlzLnJlbmRlcmVkUm90YXRpb25fID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb247XG5cbiAgICBjb25zdCBsYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICB0aGlzLmdldExheWVyKClcbiAgICApO1xuICAgIGNvbnN0IHJlbmRlck1vZGUgPSBsYXllci5nZXRSZW5kZXJNb2RlKCk7XG4gICAgY29uc3QgYWxwaGEgPSBjb250ZXh0Lmdsb2JhbEFscGhhO1xuICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBsYXllci5nZXRPcGFjaXR5KCk7XG4gICAgY29uc3QgcmVwbGF5VHlwZXMgPSBWRUNUT1JfUkVQTEFZU1tyZW5kZXJNb2RlXTtcbiAgICBjb25zdCB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICBjb25zdCByb3RhdGlvbiA9IHZpZXdTdGF0ZS5yb3RhdGlvbjtcbiAgICBjb25zdCB0aWxlU291cmNlID0gbGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgY29uc3QgdGlsZUdyaWQgPSB0aWxlU291cmNlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbih2aWV3U3RhdGUucHJvamVjdGlvbik7XG4gICAgY29uc3QgeiA9IHRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKFxuICAgICAgdmlld1N0YXRlLnJlc29sdXRpb24sXG4gICAgICB0aWxlU291cmNlLnpEaXJlY3Rpb25cbiAgICApO1xuXG4gICAgY29uc3QgdGlsZXMgPSB0aGlzLnJlbmRlcmVkVGlsZXM7XG4gICAgY29uc3QgY2xpcHMgPSBbXTtcbiAgICBjb25zdCBjbGlwWnMgPSBbXTtcbiAgICBsZXQgcmVhZHkgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSB0aWxlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgY29uc3QgdGlsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9yUmVuZGVyVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIHRpbGVzW2ldXG4gICAgICApO1xuICAgICAgcmVhZHkgPSByZWFkeSAmJiAhdGlsZS5nZXRSZXBsYXlTdGF0ZShsYXllcikuZGlydHk7XG4gICAgICBjb25zdCBleGVjdXRvckdyb3VwcyA9IHRpbGUuZXhlY3V0b3JHcm91cHNbZ2V0VWlkKGxheWVyKV0uZmlsdGVyKFxuICAgICAgICAoZ3JvdXApID0+IGdyb3VwLmhhc0V4ZWN1dG9ycyhyZXBsYXlUeXBlcylcbiAgICAgICk7XG4gICAgICBpZiAoZXhlY3V0b3JHcm91cHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy5nZXRUaWxlUmVuZGVyVHJhbnNmb3JtKHRpbGUsIGZyYW1lU3RhdGUpO1xuICAgICAgY29uc3QgY3VycmVudFogPSB0aWxlLnRpbGVDb29yZFswXTtcbiAgICAgIGxldCBjb250ZXh0U2F2ZWQgPSBmYWxzZTtcbiAgICAgIC8vIENsaXAgbWFzayBmb3IgcmVnaW9ucyBpbiB0aGlzIHRpbGUgdGhhdCBhbHJlYWR5IGZpbGxlZCBieSBhIGhpZ2hlciB6IHRpbGVcbiAgICAgIGNvbnN0IGN1cnJlbnRDbGlwID0gZXhlY3V0b3JHcm91cHNbMF0uZ2V0Q2xpcENvb3Jkcyh0cmFuc2Zvcm0pO1xuICAgICAgaWYgKGN1cnJlbnRDbGlwKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwLCBqaiA9IGNsaXBzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICBpZiAoeiAhPT0gY3VycmVudFogJiYgY3VycmVudFogPCBjbGlwWnNbal0pIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaXAgPSBjbGlwc1tqXTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgaW50ZXJzZWN0cyhcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Q2xpcFswXSxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRDbGlwWzNdLFxuICAgICAgICAgICAgICAgICAgY3VycmVudENsaXBbNF0sXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Q2xpcFs3XSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFtjbGlwWzBdLCBjbGlwWzNdLCBjbGlwWzRdLCBjbGlwWzddXVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYgKCFjb250ZXh0U2F2ZWQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0U2F2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgIC8vIGNvdW50ZXItY2xvY2t3aXNlIChvdXRlciByaW5nKSBmb3IgY3VycmVudCB0aWxlXG4gICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKGN1cnJlbnRDbGlwWzBdLCBjdXJyZW50Q2xpcFsxXSk7XG4gICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzJdLCBjdXJyZW50Q2xpcFszXSk7XG4gICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzRdLCBjdXJyZW50Q2xpcFs1XSk7XG4gICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzZdLCBjdXJyZW50Q2xpcFs3XSk7XG4gICAgICAgICAgICAgIC8vIGNsb2Nrd2lzZSAoaW5uZXIgcmluZykgZm9yIGhpZ2hlciB6IHRpbGVcbiAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oY2xpcFs2XSwgY2xpcFs3XSk7XG4gICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGNsaXBbNF0sIGNsaXBbNV0pO1xuICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjbGlwWzJdLCBjbGlwWzNdKTtcbiAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY2xpcFswXSwgY2xpcFsxXSk7XG4gICAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjbGlwcy5wdXNoKGN1cnJlbnRDbGlwKTtcbiAgICAgICAgY2xpcFpzLnB1c2goY3VycmVudFopO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgdCA9IDAsIHR0ID0gZXhlY3V0b3JHcm91cHMubGVuZ3RoOyB0IDwgdHQ7ICsrdCkge1xuICAgICAgICBjb25zdCBleGVjdXRvckdyb3VwID0gZXhlY3V0b3JHcm91cHNbdF07XG4gICAgICAgIGV4ZWN1dG9yR3JvdXAuZXhlY3V0ZShcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIDEsXG4gICAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICAgIHJvdGF0aW9uLFxuICAgICAgICAgIGhpZmksXG4gICAgICAgICAgcmVwbGF5VHlwZXNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0U2F2ZWQpIHtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYTtcbiAgICB0aGlzLnJlYWR5ID0gcmVhZHk7XG5cbiAgICBzdXBlci5wb3N0UmVuZGVyKGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fEFycmF5PGltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHQ+fSBzdHlsZXMgVGhlIHN0eWxlIG9yIGFycmF5IG9mIHN0eWxlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZ3JvdXAgZm9yIGRlY2x1dHRlcmluZy5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIGFuIGltYWdlIGlzIGxvYWRpbmcuXG4gICAqL1xuICByZW5kZXJGZWF0dXJlKFxuICAgIGZlYXR1cmUsXG4gICAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICBzdHlsZXMsXG4gICAgYnVpbGRlckdyb3VwLFxuICAgIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuICApIHtcbiAgICBpZiAoIXN0eWxlcykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgbG9hZGluZyA9IGZhbHNlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN0eWxlcykpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHN0eWxlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGxvYWRpbmcgPVxuICAgICAgICAgIHJlbmRlckZlYXR1cmUoXG4gICAgICAgICAgICBidWlsZGVyR3JvdXAsXG4gICAgICAgICAgICBmZWF0dXJlLFxuICAgICAgICAgICAgc3R5bGVzW2ldLFxuICAgICAgICAgICAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICAgICAgICAgIHRoaXMuYm91bmRIYW5kbGVTdHlsZUltYWdlQ2hhbmdlXyxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuICAgICAgICAgICkgfHwgbG9hZGluZztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9hZGluZyA9IHJlbmRlckZlYXR1cmUoXG4gICAgICAgIGJ1aWxkZXJHcm91cCxcbiAgICAgICAgZmVhdHVyZSxcbiAgICAgICAgc3R5bGVzLFxuICAgICAgICBzcXVhcmVkVG9sZXJhbmNlLFxuICAgICAgICB0aGlzLmJvdW5kSGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8sXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbG9hZGluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1ZlY3RvclJlbmRlclRpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBBIG5ldyB0aWxlIGltYWdlIHdhcyByZW5kZXJlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRpbGVJbWFnZU5lZWRzUmVuZGVyXyh0aWxlKSB7XG4gICAgY29uc3QgbGF5ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2xheWVyL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgdGhpcy5nZXRMYXllcigpXG4gICAgKTtcbiAgICBpZiAobGF5ZXIuZ2V0UmVuZGVyTW9kZSgpID09PSAndmVjdG9yJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCByZXBsYXlTdGF0ZSA9IHRpbGUuZ2V0UmVwbGF5U3RhdGUobGF5ZXIpO1xuICAgIGNvbnN0IHJldmlzaW9uID0gbGF5ZXIuZ2V0UmV2aXNpb24oKTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gdGlsZS53YW50ZWRSZXNvbHV0aW9uO1xuICAgIHJldHVybiAoXG4gICAgICByZXBsYXlTdGF0ZS5yZW5kZXJlZFRpbGVSZXNvbHV0aW9uICE9PSByZXNvbHV0aW9uIHx8XG4gICAgICByZXBsYXlTdGF0ZS5yZW5kZXJlZFRpbGVSZXZpc2lvbiAhPT0gcmV2aXNpb25cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9yUmVuZGVyVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZW5kZXJUaWxlSW1hZ2VfKHRpbGUsIGZyYW1lU3RhdGUpIHtcbiAgICBjb25zdCBsYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICB0aGlzLmdldExheWVyKClcbiAgICApO1xuICAgIGNvbnN0IHJlcGxheVN0YXRlID0gdGlsZS5nZXRSZXBsYXlTdGF0ZShsYXllcik7XG4gICAgY29uc3QgcmV2aXNpb24gPSBsYXllci5nZXRSZXZpc2lvbigpO1xuICAgIGNvbnN0IGV4ZWN1dG9yR3JvdXBzID0gdGlsZS5leGVjdXRvckdyb3Vwc1tnZXRVaWQobGF5ZXIpXTtcbiAgICByZXBsYXlTdGF0ZS5yZW5kZXJlZFRpbGVSZXZpc2lvbiA9IHJldmlzaW9uO1xuXG4gICAgY29uc3QgdGlsZUNvb3JkID0gdGlsZS53cmFwcGVkVGlsZUNvb3JkO1xuICAgIGNvbnN0IHogPSB0aWxlQ29vcmRbMF07XG4gICAgY29uc3Qgc291cmNlID0gbGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgbGV0IHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgY29uc3Qgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgIGNvbnN0IHRpbGVHcmlkID0gc291cmNlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBjb25zdCB0aWxlUmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24odGlsZS50aWxlQ29vcmRbMF0pO1xuICAgIGNvbnN0IHJlbmRlclBpeGVsUmF0aW8gPVxuICAgICAgKGZyYW1lU3RhdGUucGl4ZWxSYXRpbyAvIHRpbGUud2FudGVkUmVzb2x1dGlvbikgKiB0aWxlUmVzb2x1dGlvbjtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICBjb25zdCBjb250ZXh0ID0gdGlsZS5nZXRDb250ZXh0KGxheWVyKTtcblxuICAgIC8vIEluY3JlYXNlIHRpbGUgc2l6ZSB3aGVuIG92ZXJ6b29taW5nIGZvciBsb3cgcGl4ZWwgcmF0aW8sIHRvIGF2b2lkIGJsdXJyeSB0aWxlc1xuICAgIHBpeGVsUmF0aW8gPSBNYXRoLnJvdW5kKFxuICAgICAgTWF0aC5tYXgocGl4ZWxSYXRpbywgcmVuZGVyUGl4ZWxSYXRpbyAvIHBpeGVsUmF0aW8pXG4gICAgKTtcbiAgICBjb25zdCBzaXplID0gc291cmNlLmdldFRpbGVQaXhlbFNpemUoeiwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgY29udGV4dC5jYW52YXMud2lkdGggPSBzaXplWzBdO1xuICAgIGNvbnRleHQuY2FudmFzLmhlaWdodCA9IHNpemVbMV07XG4gICAgY29uc3QgcmVuZGVyU2NhbGUgPSBwaXhlbFJhdGlvIC8gcmVuZGVyUGl4ZWxSYXRpbztcbiAgICBpZiAocmVuZGVyU2NhbGUgIT09IDEpIHtcbiAgICAgIGNvbnN0IGNhbnZhc1RyYW5zZm9ybSA9IHJlc2V0VHJhbnNmb3JtKHRoaXMudG1wVHJhbnNmb3JtXyk7XG4gICAgICBzY2FsZVRyYW5zZm9ybShjYW52YXNUcmFuc2Zvcm0sIHJlbmRlclNjYWxlLCByZW5kZXJTY2FsZSk7XG4gICAgICBjb250ZXh0LnNldFRyYW5zZm9ybS5hcHBseShjb250ZXh0LCBjYW52YXNUcmFuc2Zvcm0pO1xuICAgIH1cbiAgICBjb25zdCB0aWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGVDb29yZCwgdGhpcy50bXBFeHRlbnQpO1xuICAgIGNvbnN0IHBpeGVsU2NhbGUgPSByZW5kZXJQaXhlbFJhdGlvIC8gcmVzb2x1dGlvbjtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSByZXNldFRyYW5zZm9ybSh0aGlzLnRtcFRyYW5zZm9ybV8pO1xuICAgIHNjYWxlVHJhbnNmb3JtKHRyYW5zZm9ybSwgcGl4ZWxTY2FsZSwgLXBpeGVsU2NhbGUpO1xuICAgIHRyYW5zbGF0ZVRyYW5zZm9ybSh0cmFuc2Zvcm0sIC10aWxlRXh0ZW50WzBdLCAtdGlsZUV4dGVudFszXSk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZXhlY3V0b3JHcm91cHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgZXhlY3V0b3JHcm91cCA9IGV4ZWN1dG9yR3JvdXBzW2ldO1xuICAgICAgZXhlY3V0b3JHcm91cC5leGVjdXRlKFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICByZW5kZXJTY2FsZSxcbiAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICAwLFxuICAgICAgICB0cnVlLFxuICAgICAgICBJTUFHRV9SRVBMQVlTW2xheWVyLmdldFJlbmRlck1vZGUoKV1cbiAgICAgICk7XG4gICAgfVxuICAgIHJlcGxheVN0YXRlLnJlbmRlcmVkVGlsZVJlc29sdXRpb24gPSB0aWxlLndhbnRlZFJlc29sdXRpb247XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzVmVjdG9yVGlsZUxheWVyUmVuZGVyZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvVmVjdG9yVGlsZVxuICovXG5pbXBvcnQgQmFzZVZlY3RvckxheWVyIGZyb20gJy4vQmFzZVZlY3Rvci5qcyc7XG5pbXBvcnQgQ2FudmFzVmVjdG9yVGlsZUxheWVyUmVuZGVyZXIgZnJvbSAnLi4vcmVuZGVyZXIvY2FudmFzL1ZlY3RvclRpbGVMYXllci5qcyc7XG5pbXBvcnQgVGlsZVByb3BlcnR5IGZyb20gJy4vVGlsZVByb3BlcnR5LmpzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi9hc3NlcnRzLmpzJztcblxuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9CYXNlXCIpLkJhc2VMYXllck9iamVjdEV2ZW50VHlwZXN8XG4gKiAgICAgaW1wb3J0KFwiLi9MYXllci5qc1wiKS5MYXllckV2ZW50VHlwZXwnY2hhbmdlOnByZWxvYWQnfCdjaGFuZ2U6dXNlSW50ZXJpbVRpbGVzT25FcnJvcicsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5MYXllclJlbmRlckV2ZW50VHlwZXMsIGltcG9ydChcIi4uL3JlbmRlci9FdmVudFwiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3xcbiAqICAgICBpbXBvcnQoXCIuL0xheWVyLmpzXCIpLkxheWVyRXZlbnRUeXBlfCdjaGFuZ2U6cHJlbG9hZCd8J2NoYW5nZTp1c2VJbnRlcmltVGlsZXNPbkVycm9yJ3xpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRUeXBlXCIpLkxheWVyUmVuZGVyRXZlbnRUeXBlcywgUmV0dXJuPn0gVmVjdG9yVGlsZUxheWVyT25TaWduYXR1cmVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsnaHlicmlkJyB8ICd2ZWN0b3InfSBWZWN0b3JUaWxlUmVuZGVyVHlwZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWxheWVyJ10gQSBDU1MgY2xhc3MgbmFtZSB0byBzZXQgdG8gdGhlIGxheWVyIGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcmVuZGVyLmpzXCIpLk9yZGVyRnVuY3Rpb259IFtyZW5kZXJPcmRlcl0gUmVuZGVyIG9yZGVyLiBGdW5jdGlvbiB0byBiZSB1c2VkIHdoZW4gc29ydGluZ1xuICogZmVhdHVyZXMgYmVmb3JlIHJlbmRlcmluZy4gQnkgZGVmYXVsdCBmZWF0dXJlcyBhcmUgZHJhd24gaW4gdGhlIG9yZGVyIHRoYXQgdGhleSBhcmUgY3JlYXRlZC4gVXNlXG4gKiBgbnVsbGAgdG8gYXZvaWQgdGhlIHNvcnQsIGJ1dCBnZXQgYW4gdW5kZWZpbmVkIGRyYXcgb3JkZXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JlbmRlckJ1ZmZlcj0xMDBdIFRoZSBidWZmZXIgaW4gcGl4ZWxzIGFyb3VuZCB0aGUgdGlsZSBleHRlbnQgdXNlZCBieSB0aGVcbiAqIHJlbmRlcmVyIHdoZW4gZ2V0dGluZyBmZWF0dXJlcyBmcm9tIHRoZSB2ZWN0b3IgdGlsZSBmb3IgdGhlIHJlbmRlcmluZyBvciBoaXQtZGV0ZWN0aW9uLlxuICogUmVjb21tZW5kZWQgdmFsdWU6IFZlY3RvciB0aWxlcyBhcmUgdXN1YWxseSBnZW5lcmF0ZWQgd2l0aCBhIGJ1ZmZlciwgc28gdGhpcyB2YWx1ZSBzaG91bGQgbWF0Y2hcbiAqIHRoZSBsYXJnZXN0IHBvc3NpYmxlIGJ1ZmZlciBvZiB0aGUgdXNlZCB0aWxlcy4gSXQgc2hvdWxkIGJlIGF0IGxlYXN0IHRoZSBzaXplIG9mIHRoZSBsYXJnZXN0XG4gKiBwb2ludCBzeW1ib2wgb3IgbGluZSB3aWR0aC5cbiAqIEBwcm9wZXJ0eSB7VmVjdG9yVGlsZVJlbmRlclR5cGV9IFtyZW5kZXJNb2RlPSdoeWJyaWQnXSBSZW5kZXIgbW9kZSBmb3IgdmVjdG9yIHRpbGVzOlxuICogICogYCdoeWJyaWQnYDogUG9seWdvbiBhbmQgbGluZSBlbGVtZW50cyBhcmUgcmVuZGVyZWQgYXMgaW1hZ2VzLCBzbyBwaXhlbHMgYXJlIHNjYWxlZCBkdXJpbmcgem9vbVxuICogICAgYW5pbWF0aW9ucy4gUG9pbnQgc3ltYm9scyBhbmQgdGV4dHMgYXJlIGFjY3VyYXRlbHkgcmVuZGVyZWQgYXMgdmVjdG9ycyBhbmQgY2FuIHN0YXkgdXByaWdodCBvblxuICogICAgcm90YXRlZCB2aWV3cy5cbiAqICAqIGAndmVjdG9yJ2A6IEV2ZXJ5dGhpbmcgaXMgcmVuZGVyZWQgYXMgdmVjdG9ycy4gVXNlIHRoaXMgbW9kZSBmb3IgaW1wcm92ZWQgcGVyZm9ybWFuY2Ugb24gdmVjdG9yXG4gKiAgICB0aWxlIGxheWVycyB3aXRoIG9ubHkgYSBmZXcgcmVuZGVyZWQgZmVhdHVyZXMgKGUuZy4gZm9yIGhpZ2hsaWdodGluZyBhIHN1YnNldCBvZiBmZWF0dXJlcyBvZlxuICogICAgYW5vdGhlciBsYXllciB3aXRoIHRoZSBzYW1lIHNvdXJjZSkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9IFtzb3VyY2VdIFNvdXJjZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR9IFttYXBdIFNldHMgdGhlIGxheWVyIGFzIG92ZXJsYXkgb24gYSBtYXAuIFRoZSBtYXAgd2lsbCBub3QgbWFuYWdlXG4gKiB0aGlzIGxheWVyIGluIGl0cyBsYXllcnMgY29sbGVjdGlvbiwgYW5kIHRoZSBsYXllciB3aWxsIGJlIHJlbmRlcmVkIG9uIHRvcC4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gKiB0ZW1wb3JhcnkgbGF5ZXJzLiBUaGUgc3RhbmRhcmQgd2F5IHRvIGFkZCBhIGxheWVyIHRvIGEgbWFwIGFuZCBoYXZlIGl0IG1hbmFnZWQgYnkgdGhlIG1hcCBpcyB0b1xuICogdXNlIFttYXAuYWRkTGF5ZXIoKV17QGxpbmsgaW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHQjYWRkTGF5ZXJ9LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZGVjbHV0dGVyPWZhbHNlXSBEZWNsdXR0ZXIgaW1hZ2VzIGFuZCB0ZXh0LiBEZWNsdXR0ZXJpbmcgaXMgYXBwbGllZCB0byBhbGxcbiAqIGltYWdlIGFuZCB0ZXh0IHN0eWxlcyBvZiBhbGwgVmVjdG9yIGFuZCBWZWN0b3JUaWxlIGxheWVycyB0aGF0IGhhdmUgc2V0IHRoaXMgdG8gYHRydWVgLiBUaGUgcHJpb3JpdHlcbiAqIGlzIGRlZmluZWQgYnkgdGhlIHotaW5kZXggb2YgdGhlIGxheWVyLCB0aGUgYHpJbmRleGAgb2YgdGhlIHN0eWxlIGFuZCB0aGUgcmVuZGVyIG9yZGVyIG9mIGZlYXR1cmVzLlxuICogSGlnaGVyIHotaW5kZXggbWVhbnMgaGlnaGVyIHByaW9yaXR5LiBXaXRoaW4gdGhlIHNhbWUgei1pbmRleCwgYSBmZWF0dXJlIHJlbmRlcmVkIGJlZm9yZSBhbm90aGVyIGhhc1xuICogaGlnaGVyIHByaW9yaXR5LlxuICpcbiAqIEFzIGFuIG9wdGltaXphdGlvbiBkZWNsdXR0ZXJlZCBmZWF0dXJlcyBmcm9tIGxheWVycyB3aXRoIHRoZSBzYW1lIGBjbGFzc05hbWVgIGFyZSByZW5kZXJlZCBhYm92ZVxuICogdGhlIGZpbGwgYW5kIHN0cm9rZSBzdHlsZXMgb2YgYWxsIG9mIHRob3NlIGxheWVycyByZWdhcmRsZXNzIG9mIHotaW5kZXguICBUbyBvcHQgb3V0IG9mIHRoaXNcbiAqIGJlaGF2aW9yIGFuZCBwbGFjZSBkZWNsdXR0ZXJkIGZlYXR1cmVzIHdpdGggdGhlaXIgb3duIGxheWVyIGNvbmZpZ3VyZSB0aGUgbGF5ZXIgd2l0aCBhIGBjbGFzc05hbWVgXG4gKiBvdGhlciB0aGFuIGBvbC1sYXllcmAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZXxudWxsfSBbc3R5bGVdIExheWVyIHN0eWxlLiBXaGVuIHNldCB0byBgbnVsbGAsIG9ubHlcbiAqIGZlYXR1cmVzIHRoYXQgaGF2ZSB0aGVpciBvd24gc3R5bGUgd2lsbCBiZSByZW5kZXJlZC4gU2VlIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvU3R5bGV+U3R5bGV9IGZvciB0aGUgZGVmYXVsdCBzdHlsZVxuICogd2hpY2ggd2lsbCBiZSB1c2VkIGlmIHRoaXMgaXMgbm90IHNldC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9CYXNlLmpzXCIpLkJhY2tncm91bmRDb2xvcnxmYWxzZX0gW2JhY2tncm91bmRdIEJhY2tncm91bmQgY29sb3IgZm9yIHRoZSBsYXllci4gSWYgbm90IHNwZWNpZmllZCwgbm9cbiAqIGJhY2tncm91bmQgd2lsbCBiZSByZW5kZXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VwZGF0ZVdoaWxlQW5pbWF0aW5nPWZhbHNlXSBXaGVuIHNldCB0byBgdHJ1ZWAsIGZlYXR1cmUgYmF0Y2hlcyB3aWxsIGJlXG4gKiByZWNyZWF0ZWQgZHVyaW5nIGFuaW1hdGlvbnMuIFRoaXMgbWVhbnMgdGhhdCBubyB2ZWN0b3JzIHdpbGwgYmUgc2hvd24gY2xpcHBlZCwgYnV0IHRoZSBzZXR0aW5nXG4gKiB3aWxsIGhhdmUgYSBwZXJmb3JtYW5jZSBpbXBhY3QgZm9yIGxhcmdlIGFtb3VudHMgb2YgdmVjdG9yIGRhdGEuIFdoZW4gc2V0IHRvIGBmYWxzZWAsIGJhdGNoZXNcbiAqIHdpbGwgYmUgcmVjcmVhdGVkIHdoZW4gbm8gYW5pbWF0aW9uIGlzIGFjdGl2ZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VwZGF0ZVdoaWxlSW50ZXJhY3Rpbmc9ZmFsc2VdIFdoZW4gc2V0IHRvIGB0cnVlYCwgZmVhdHVyZSBiYXRjaGVzIHdpbGwgYmVcbiAqIHJlY3JlYXRlZCBkdXJpbmcgaW50ZXJhY3Rpb25zLiBTZWUgYWxzbyBgdXBkYXRlV2hpbGVBbmltYXRpbmdgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtwcmVsb2FkPTBdIFByZWxvYWQuIExvYWQgbG93LXJlc29sdXRpb24gdGlsZXMgdXAgdG8gYHByZWxvYWRgIGxldmVscy4gYDBgXG4gKiBtZWFucyBubyBwcmVsb2FkaW5nLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXNlSW50ZXJpbVRpbGVzT25FcnJvcj10cnVlXSBVc2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgKj59IFtwcm9wZXJ0aWVzXSBBcmJpdHJhcnkgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzLiBDYW4gYmUgYWNjZXNzZWQgd2l0aCBgI2dldCgpYCBhbmQgYCNzZXQoKWAuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBMYXllciBmb3IgdmVjdG9yIHRpbGUgZGF0YSB0aGF0IGlzIHJlbmRlcmVkIGNsaWVudC1zaWRlLlxuICogTm90ZSB0aGF0IGFueSBwcm9wZXJ0eSBzZXQgaW4gdGhlIG9wdGlvbnMgaXMgc2V0IGFzIGEge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdH1cbiAqIHByb3BlcnR5IG9uIHRoZSBsYXllciBvYmplY3Q7IGZvciBleGFtcGxlLCBzZXR0aW5nIGB0aXRsZTogJ015IFRpdGxlJ2AgaW4gdGhlXG4gKiBvcHRpb25zIG1lYW5zIHRoYXQgYHRpdGxlYCBpcyBvYnNlcnZhYmxlLCBhbmQgaGFzIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gKiBAZXh0ZW5kcyB7QmFzZVZlY3RvckxheWVyPGltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHQsIENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyPn1cbiAqIEBhcGlcbiAqL1xuY2xhc3MgVmVjdG9yVGlsZUxheWVyIGV4dGVuZHMgQmFzZVZlY3RvckxheWVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICBjb25zdCBiYXNlT3B0aW9ucyA9IC8qKiBAdHlwZSB7T2JqZWN0fSAqLyAoT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucykpO1xuICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy5wcmVsb2FkO1xuICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy51c2VJbnRlcmltVGlsZXNPbkVycm9yO1xuXG4gICAgc3VwZXIoXG4gICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vQmFzZVZlY3Rvci5qc1wiKS5PcHRpb25zPGltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHQ+fSAqLyAoXG4gICAgICAgIGJhc2VPcHRpb25zXG4gICAgICApXG4gICAgKTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7VmVjdG9yVGlsZUxheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7VmVjdG9yVGlsZUxheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbmNlO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtWZWN0b3JUaWxlTGF5ZXJPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgKi9cbiAgICB0aGlzLnVuO1xuXG4gICAgY29uc3QgcmVuZGVyTW9kZSA9IG9wdGlvbnMucmVuZGVyTW9kZSB8fCAnaHlicmlkJztcbiAgICAvLyBgcmVuZGVyTW9kZWAgbXVzdCBiZSBgJ2h5YnJpZCdgIG9yIGAndmVjdG9yJ2AuXG4gICAgYXNzZXJ0KHJlbmRlck1vZGUgPT0gJ2h5YnJpZCcgfHwgcmVuZGVyTW9kZSA9PSAndmVjdG9yJywgMjgpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7VmVjdG9yVGlsZVJlbmRlclR5cGV9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJNb2RlXyA9IHJlbmRlck1vZGU7XG5cbiAgICB0aGlzLnNldFByZWxvYWQob3B0aW9ucy5wcmVsb2FkID8gb3B0aW9ucy5wcmVsb2FkIDogMCk7XG4gICAgdGhpcy5zZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKFxuICAgICAgb3B0aW9ucy51c2VJbnRlcmltVGlsZXNPbkVycm9yICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLnVzZUludGVyaW1UaWxlc09uRXJyb3JcbiAgICAgICAgOiB0cnVlXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vQmFzZS5qc1wiKS5CYWNrZ3JvdW5kQ29sb3J9IEJhY2tncm91bmQgY29sb3IuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZ2V0QmFja2dyb3VuZDtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9CYXNlLmpzXCIpLkJhY2tncm91bmRDb2xvcn0gYmFja2dyb3VuZCBCYWNrZ3JvdW5kIGNvbG9yLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLnNldEJhY2tncm91bmQ7XG4gIH1cblxuICBjcmVhdGVSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gbmV3IENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdG9wbW9zdCBmZWF0dXJlIHRoYXQgaW50ZXJzZWN0cyB0aGUgZ2l2ZW4gcGl4ZWwgb24gdGhlIHZpZXdwb3J0LiBSZXR1cm5zIGEgcHJvbWlzZVxuICAgKiB0aGF0IHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgZmVhdHVyZXMuIFRoZSBhcnJheSB3aWxsIGVpdGhlciBjb250YWluIHRoZSB0b3Btb3N0IGZlYXR1cmVcbiAgICogd2hlbiBhIGhpdCB3YXMgZGV0ZWN0ZWQsIG9yIGl0IHdpbGwgYmUgZW1wdHkuXG4gICAqXG4gICAqIFRoZSBoaXQgZGV0ZWN0aW9uIGFsZ29yaXRobSB1c2VkIGZvciB0aGlzIG1ldGhvZCBpcyBvcHRpbWl6ZWQgZm9yIHBlcmZvcm1hbmNlLCBidXQgaXMgbGVzc1xuICAgKiBhY2N1cmF0ZSB0aGFuIHRoZSBvbmUgdXNlZCBpbiBbbWFwLmdldEZlYXR1cmVzQXRQaXhlbCgpXXtAbGluayBpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdCNnZXRGZWF0dXJlc0F0UGl4ZWx9LlxuICAgKiBUZXh0IGlzIG5vdCBjb25zaWRlcmVkLCBhbmQgaWNvbnMgYXJlIG9ubHkgcmVwcmVzZW50ZWQgYnkgdGhlaXIgYm91bmRpbmcgYm94IGluc3RlYWQgb2YgdGhlIGV4YWN0XG4gICAqIGltYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlXCIpLkZlYXR1cmVMaWtlPj59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGFuIGFycmF5IG9mIGZlYXR1cmVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRGZWF0dXJlcyhwaXhlbCkge1xuICAgIHJldHVybiBzdXBlci5nZXRGZWF0dXJlcyhwaXhlbCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7VmVjdG9yVGlsZVJlbmRlclR5cGV9IFRoZSByZW5kZXIgbW9kZS5cbiAgICovXG4gIGdldFJlbmRlck1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyTW9kZV87XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBsZXZlbCBhcyBudW1iZXIgdG8gd2hpY2ggd2Ugd2lsbCBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBsZXZlbCB0byBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRQcmVsb2FkKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KFRpbGVQcm9wZXJ0eS5QUkVMT0FEKSk7XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciB3ZSB1c2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFVzZUludGVyaW1UaWxlc09uRXJyb3IoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKFxuICAgICAgdGhpcy5nZXQoVGlsZVByb3BlcnR5LlVTRV9JTlRFUklNX1RJTEVTX09OX0VSUk9SKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBsZXZlbCBhcyBudW1iZXIgdG8gd2hpY2ggd2Ugd2lsbCBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcHJlbG9hZCBUaGUgbGV2ZWwgdG8gcHJlbG9hZCB0aWxlcyB1cCB0by5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0UHJlbG9hZChwcmVsb2FkKSB7XG4gICAgdGhpcy5zZXQoVGlsZVByb3BlcnR5LlBSRUxPQUQsIHByZWxvYWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB3aGV0aGVyIHdlIHVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUludGVyaW1UaWxlc09uRXJyb3IgVXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFVzZUludGVyaW1UaWxlc09uRXJyb3IodXNlSW50ZXJpbVRpbGVzT25FcnJvcikge1xuICAgIHRoaXMuc2V0KFRpbGVQcm9wZXJ0eS5VU0VfSU5URVJJTV9USUxFU19PTl9FUlJPUiwgdXNlSW50ZXJpbVRpbGVzT25FcnJvcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmVjdG9yVGlsZUxheWVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL0NpcmNsZVxuICovXG5cbmltcG9ydCBSZWd1bGFyU2hhcGUgZnJvbSAnLi9SZWd1bGFyU2hhcGUuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IFtmaWxsXSBGaWxsIHN0eWxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJhZGl1cyBDaXJjbGUgcmFkaXVzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBbc3Ryb2tlXSBTdHJva2Ugc3R5bGUuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtkaXNwbGFjZW1lbnQ9WzAsMF1dIGRpc3BsYWNlbWVudFxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2NhbGU9MV0gU2NhbGUuIEEgdHdvIGRpbWVuc2lvbmFsIHNjYWxlIHdpbGwgcHJvZHVjZSBhbiBlbGxpcHNlLlxuICogVW5sZXNzIHR3byBkaW1lbnNpb25hbCBzY2FsaW5nIGlzIHJlcXVpcmVkIGEgYmV0dGVyIHJlc3VsdCBtYXkgYmUgb2J0YWluZWQgd2l0aCBhbiBhcHByb3ByaWF0ZSBzZXR0aW5nIGZvciBgcmFkaXVzYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb249MF0gUm90YXRpb24gaW4gcmFkaWFuc1xuICogKHBvc2l0aXZlIHJvdGF0aW9uIGNsb2Nrd2lzZSwgbWVhbmluZ2Z1bCBvbmx5IHdoZW4gdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgdHdvIGRpbWVuc2lvbmFsIHNjYWxlKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JvdGF0ZVdpdGhWaWV3PWZhbHNlXSBXaGV0aGVyIHRvIHJvdGF0ZSB0aGUgc2hhcGUgd2l0aCB0aGUgdmlld1xuICogKG1lYW5pbmdmdWwgb25seSB3aGVuIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBhIHR3byBkaW1lbnNpb25hbCBzY2FsZSkuXG4gKiBAcHJvcGVydHkge1wiZGVjbHV0dGVyXCJ8XCJvYnN0YWNsZVwifFwibm9uZVwifHVuZGVmaW5lZH0gW2RlY2x1dHRlck1vZGVdIERlY2x1dHRlciBtb2RlXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgY2lyY2xlIHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuXG4gKiBAYXBpXG4gKi9cbmNsYXNzIENpcmNsZVN0eWxlIGV4dGVuZHMgUmVndWxhclNoYXBlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge3JhZGl1czogNX07XG5cbiAgICBzdXBlcih7XG4gICAgICBwb2ludHM6IEluZmluaXR5LFxuICAgICAgZmlsbDogb3B0aW9ucy5maWxsLFxuICAgICAgcmFkaXVzOiBvcHRpb25zLnJhZGl1cyxcbiAgICAgIHN0cm9rZTogb3B0aW9ucy5zdHJva2UsXG4gICAgICBzY2FsZTogb3B0aW9ucy5zY2FsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zY2FsZSA6IDEsXG4gICAgICByb3RhdGlvbjogb3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGlvbiA6IDAsXG4gICAgICByb3RhdGVXaXRoVmlldzpcbiAgICAgICAgb3B0aW9ucy5yb3RhdGVXaXRoVmlldyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGVXaXRoVmlldyA6IGZhbHNlLFxuICAgICAgZGlzcGxhY2VtZW50OlxuICAgICAgICBvcHRpb25zLmRpc3BsYWNlbWVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kaXNwbGFjZW1lbnQgOiBbMCwgMF0sXG4gICAgICBkZWNsdXR0ZXJNb2RlOiBvcHRpb25zLmRlY2x1dHRlck1vZGUsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBzdHlsZS5cbiAgICogQHJldHVybiB7Q2lyY2xlU3R5bGV9IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGNsb25lKCkge1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgIGNvbnN0IHN0eWxlID0gbmV3IENpcmNsZVN0eWxlKHtcbiAgICAgIGZpbGw6IHRoaXMuZ2V0RmlsbCgpID8gdGhpcy5nZXRGaWxsKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgIHN0cm9rZTogdGhpcy5nZXRTdHJva2UoKSA/IHRoaXMuZ2V0U3Ryb2tlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgIHJhZGl1czogdGhpcy5nZXRSYWRpdXMoKSxcbiAgICAgIHNjYWxlOiBBcnJheS5pc0FycmF5KHNjYWxlKSA/IHNjYWxlLnNsaWNlKCkgOiBzY2FsZSxcbiAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICByb3RhdGVXaXRoVmlldzogdGhpcy5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgZGlzcGxhY2VtZW50OiB0aGlzLmdldERpc3BsYWNlbWVudCgpLnNsaWNlKCksXG4gICAgICBkZWNsdXR0ZXJNb2RlOiB0aGlzLmdldERlY2x1dHRlck1vZGUoKSxcbiAgICB9KTtcbiAgICBzdHlsZS5zZXRPcGFjaXR5KHRoaXMuZ2V0T3BhY2l0eSgpKTtcbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjaXJjbGUgcmFkaXVzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIENpcmNsZSByYWRpdXMuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFJhZGl1cyhyYWRpdXMpIHtcbiAgICB0aGlzLnJhZGl1c18gPSByYWRpdXM7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaXJjbGVTdHlsZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9GaWxsXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V8bnVsbH0gW2NvbG9yPW51bGxdIEEgY29sb3IsIGdyYWRpZW50IG9yIHBhdHRlcm4uXG4gKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9jb2xvcn5Db2xvcn0gYW5kIHtAbGluayBtb2R1bGU6b2wvY29sb3JsaWtlfkNvbG9yTGlrZX0gZm9yIHBvc3NpYmxlIGZvcm1hdHMuXG4gKiBEZWZhdWx0IG51bGw7IGlmIG51bGwsIHRoZSBDYW52YXMvcmVuZGVyZXIgZGVmYXVsdCBibGFjayB3aWxsIGJlIHVzZWQuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgZmlsbCBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLlxuICogQGFwaVxuICovXG5jbGFzcyBGaWxsIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5jb2xvcl8gPSBvcHRpb25zLmNvbG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbG9yIDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHN0eWxlLiBUaGUgY29sb3IgaXMgbm90IGNsb25lZCBpZiBpdCBpcyBhbiB7QGxpbmsgbW9kdWxlOm9sL2NvbG9ybGlrZX5Db2xvckxpa2V9LlxuICAgKiBAcmV0dXJuIHtGaWxsfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBjb25zdCBjb2xvciA9IHRoaXMuZ2V0Q29sb3IoKTtcbiAgICByZXR1cm4gbmV3IEZpbGwoe1xuICAgICAgY29sb3I6IEFycmF5LmlzQXJyYXkoY29sb3IpID8gY29sb3Iuc2xpY2UoKSA6IGNvbG9yIHx8IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZpbGwgY29sb3IuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V8bnVsbH0gQ29sb3IuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLmNvbG9yXztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvbG9yLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V8bnVsbH0gY29sb3IgQ29sb3IuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldENvbG9yKGNvbG9yKSB7XG4gICAgdGhpcy5jb2xvcl8gPSBjb2xvcjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGaWxsO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL0ltYWdlXG4gKi9cbmltcG9ydCB7YWJzdHJhY3R9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHt0b1NpemV9IGZyb20gJy4uL3NpemUuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHJvdGF0ZVdpdGhWaWV3IElmIHRoZSBpbWFnZSBzaG91bGQgZ2V0IHJvdGF0ZWQgd2l0aCB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2NhbGUgU2NhbGUuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IGRpc3BsYWNlbWVudCBEaXNwbGFjZW1lbnQuXG4gKiBAcHJvcGVydHkge1wiZGVjbHV0dGVyXCJ8XCJvYnN0YWNsZVwifFwibm9uZVwifHVuZGVmaW5lZH0gZGVjbHV0dGVyTW9kZSBEZWNsdXR0ZXIgbW9kZTogYGRlY2x1dHRlcmAsIGBvYnN0YWNsZWAsICdub25lICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBiYXNlIGNsYXNzIHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdCBpbnN0YW50aWF0ZWQgaW5cbiAqIGFwcHMuIEJhc2UgY2xhc3MgZm9yIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvSWNvbn5JY29ufSwge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9DaXJjbGV+Q2lyY2xlU3R5bGV9IGFuZFxuICoge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9SZWd1bGFyU2hhcGV+UmVndWxhclNoYXBlfS5cbiAqIEBhYnN0cmFjdFxuICogQGFwaVxuICovXG5jbGFzcyBJbWFnZVN0eWxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm9wYWNpdHlfID0gb3B0aW9ucy5vcGFjaXR5O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IG9wdGlvbnMucm90YXRlV2l0aFZpZXc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yb3RhdGlvbl8gPSBvcHRpb25zLnJvdGF0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLnNjYWxlXyA9IG9wdGlvbnMuc2NhbGU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy5zY2FsZUFycmF5XyA9IHRvU2l6ZShvcHRpb25zLnNjYWxlKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5kaXNwbGFjZW1lbnRfID0gb3B0aW9ucy5kaXNwbGFjZW1lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtcImRlY2x1dHRlclwifFwib2JzdGFjbGVcInxcIm5vbmVcInx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5kZWNsdXR0ZXJNb2RlXyA9IG9wdGlvbnMuZGVjbHV0dGVyTW9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHN0eWxlLlxuICAgKiBAcmV0dXJuIHtJbWFnZVN0eWxlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICByZXR1cm4gbmV3IEltYWdlU3R5bGUoe1xuICAgICAgb3BhY2l0eTogdGhpcy5nZXRPcGFjaXR5KCksXG4gICAgICBzY2FsZTogQXJyYXkuaXNBcnJheShzY2FsZSkgPyBzY2FsZS5zbGljZSgpIDogc2NhbGUsXG4gICAgICByb3RhdGlvbjogdGhpcy5nZXRSb3RhdGlvbigpLFxuICAgICAgcm90YXRlV2l0aFZpZXc6IHRoaXMuZ2V0Um90YXRlV2l0aFZpZXcoKSxcbiAgICAgIGRpc3BsYWNlbWVudDogdGhpcy5nZXREaXNwbGFjZW1lbnQoKS5zbGljZSgpLFxuICAgICAgZGVjbHV0dGVyTW9kZTogdGhpcy5nZXREZWNsdXR0ZXJNb2RlKCksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzeW1ib2xpemVyIG9wYWNpdHkuXG4gICAqIEByZXR1cm4ge251bWJlcn0gT3BhY2l0eS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0T3BhY2l0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5vcGFjaXR5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgc3ltYm9saXplciByb3RhdGVzIHdpdGggdGhlIG1hcC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gUm90YXRlIHdpdGggbWFwLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRSb3RhdGVXaXRoVmlldygpIHtcbiAgICByZXR1cm4gdGhpcy5yb3RhdGVXaXRoVmlld187XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzeW1vYmxpemVyIHJvdGF0aW9uLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJvdGF0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRSb3RhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5yb3RhdGlvbl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzeW1ib2xpemVyIHNjYWxlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTY2FsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0U2NhbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2NhbGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3ltYm9saXplciBzY2FsZSBhcnJheS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTY2FsZSBhcnJheS5cbiAgICovXG4gIGdldFNjYWxlQXJyYXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2NhbGVBcnJheV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBkaXNwbGFjZW1lbnQgb2YgdGhlIHNoYXBlXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFNoYXBlJ3MgY2VudGVyIGRpc3BsYWNlbWVudFxuICAgKiBAYXBpXG4gICAqL1xuICBnZXREaXNwbGFjZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGxhY2VtZW50XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGRlY2x1dHRlciBtb2RlIG9mIHRoZSBzaGFwZVxuICAgKiBAcmV0dXJuIHtcImRlY2x1dHRlclwifFwib2JzdGFjbGVcInxcIm5vbmVcInx1bmRlZmluZWR9IFNoYXBlJ3MgZGVjbHV0dGVyIG1vZGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RGVjbHV0dGVyTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNsdXR0ZXJNb2RlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBpbiBwaXhlbHMuIFRoZSBhbmNob3IgZGV0ZXJtaW5lcyB0aGUgY2VudGVyIHBvaW50IGZvciB0aGVcbiAgICogc3ltYm9saXplci5cbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEFuY2hvci5cbiAgICovXG4gIGdldEFuY2hvcigpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGltYWdlIGVsZW1lbnQgZm9yIHRoZSBzeW1ib2xpemVyLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH0gSW1hZ2UgZWxlbWVudC5cbiAgICovXG4gIGdldEltYWdlKHBpeGVsUmF0aW8pIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fSBJbWFnZSBlbGVtZW50LlxuICAgKi9cbiAgZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UoKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBpbWFnZSBwaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEByZXR1cm4ge251bWJlcn0gUGl4ZWwgcmF0aW8uXG4gICAqL1xuICBnZXRQaXhlbFJhdGlvKHBpeGVsUmF0aW8pIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fSBJbWFnZSBzdGF0ZS5cbiAgICovXG4gIGdldEltYWdlU3RhdGUoKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gSW1hZ2Ugc2l6ZS5cbiAgICovXG4gIGdldEltYWdlU2l6ZSgpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG9yaWdpbiBvZiB0aGUgc3ltYm9saXplci5cbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE9yaWdpbi5cbiAgICovXG4gIGdldE9yaWdpbigpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIHN5bWJvbGl6ZXIgKGluIHBpeGVscykuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFNpemUuXG4gICAqL1xuICBnZXRTaXplKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZGlzcGxhY2VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGRpc3BsYWNlbWVudCBEaXNwbGFjZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldERpc3BsYWNlbWVudChkaXNwbGFjZW1lbnQpIHtcbiAgICB0aGlzLmRpc3BsYWNlbWVudF8gPSBkaXNwbGFjZW1lbnQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBvcGFjaXR5LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gb3BhY2l0eSBPcGFjaXR5LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRPcGFjaXR5KG9wYWNpdHkpIHtcbiAgICB0aGlzLm9wYWNpdHlfID0gb3BhY2l0eTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB0byByb3RhdGUgdGhlIHN0eWxlIHdpdGggdGhlIHZpZXcuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm90YXRlV2l0aFZpZXcgUm90YXRlIHdpdGggbWFwLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRSb3RhdGVXaXRoVmlldyhyb3RhdGVXaXRoVmlldykge1xuICAgIHRoaXMucm90YXRlV2l0aFZpZXdfID0gcm90YXRlV2l0aFZpZXc7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSByb3RhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRSb3RhdGlvbihyb3RhdGlvbikge1xuICAgIHRoaXMucm90YXRpb25fID0gcm90YXRpb247XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzY2FsZS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBzY2FsZSBTY2FsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U2NhbGUoc2NhbGUpIHtcbiAgICB0aGlzLnNjYWxlXyA9IHNjYWxlO1xuICAgIHRoaXMuc2NhbGVBcnJheV8gPSB0b1NpemUoc2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0KTogdm9pZH0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqL1xuICBsaXN0ZW5JbWFnZUNoYW5nZShsaXN0ZW5lcikge1xuICAgIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBub3QgeWV0IGxvYWRlZCBVUkkuXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgbG9hZCgpIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0KTogdm9pZH0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqL1xuICB1bmxpc3RlbkltYWdlQ2hhbmdlKGxpc3RlbmVyKSB7XG4gICAgYWJzdHJhY3QoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbWFnZVN0eWxlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL1JlZ3VsYXJTaGFwZVxuICovXG5cbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4uL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IEltYWdlU3R5bGUgZnJvbSAnLi9JbWFnZS5qcyc7XG5pbXBvcnQge2FzQXJyYXl9IGZyb20gJy4uL2NvbG9yLmpzJztcbmltcG9ydCB7YXNDb2xvckxpa2V9IGZyb20gJy4uL2NvbG9ybGlrZS5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vZG9tLmpzJztcbmltcG9ydCB7XG4gIGRlZmF1bHRGaWxsU3R5bGUsXG4gIGRlZmF1bHRMaW5lSm9pbixcbiAgZGVmYXVsdExpbmVXaWR0aCxcbiAgZGVmYXVsdE1pdGVyTGltaXQsXG4gIGRlZmF1bHRTdHJva2VTdHlsZSxcbn0gZnJvbSAnLi4vcmVuZGVyL2NhbnZhcy5qcyc7XG5cbi8qKlxuICogU3BlY2lmeSByYWRpdXMgZm9yIHJlZ3VsYXIgcG9seWdvbnMsIG9yIHJhZGl1czEgYW5kIHJhZGl1czIgZm9yIHN0YXJzLlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gW2ZpbGxdIEZpbGwgc3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcG9pbnRzIE51bWJlciBvZiBwb2ludHMgZm9yIHN0YXJzIGFuZCByZWd1bGFyIHBvbHlnb25zLiBJbiBjYXNlIG9mIGEgcG9seWdvbiwgdGhlIG51bWJlciBvZiBwb2ludHNcbiAqIGlzIHRoZSBudW1iZXIgb2Ygc2lkZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JhZGl1c10gUmFkaXVzIG9mIGEgcmVndWxhciBwb2x5Z29uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyYWRpdXMxXSBGaXJzdCByYWRpdXMgb2YgYSBzdGFyLiBJZ25vcmVkIGlmIHJhZGl1cyBpcyBzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JhZGl1czJdIFNlY29uZCByYWRpdXMgb2YgYSBzdGFyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFthbmdsZT0wXSBTaGFwZSdzIGFuZ2xlIGluIHJhZGlhbnMuIEEgdmFsdWUgb2YgMCB3aWxsIGhhdmUgb25lIG9mIHRoZSBzaGFwZSdzIHBvaW50cyBmYWNpbmcgdXAuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtkaXNwbGFjZW1lbnQ9WzAsIDBdXSBEaXNwbGFjZW1lbnQgb2YgdGhlIHNoYXBlIGluIHBpeGVscy5cbiAqIFBvc2l0aXZlIHZhbHVlcyB3aWxsIHNoaWZ0IHRoZSBzaGFwZSByaWdodCBhbmQgdXAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtzdHJva2VdIFN0cm9rZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb249MF0gUm90YXRpb24gaW4gcmFkaWFucyAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JvdGF0ZVdpdGhWaWV3PWZhbHNlXSBXaGV0aGVyIHRvIHJvdGF0ZSB0aGUgc2hhcGUgd2l0aCB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3NjYWxlPTFdIFNjYWxlLiBVbmxlc3MgdHdvIGRpbWVuc2lvbmFsIHNjYWxpbmcgaXMgcmVxdWlyZWQgYSBiZXR0ZXJcbiAqIHJlc3VsdCBtYXkgYmUgb2J0YWluZWQgd2l0aCBhcHByb3ByaWF0ZSBzZXR0aW5ncyBmb3IgYHJhZGl1c2AsIGByYWRpdXMxYCBhbmQgYHJhZGl1czJgLlxuICogQHByb3BlcnR5IHtcImRlY2x1dHRlclwifFwib2JzdGFjbGVcInxcIm5vbmVcInx1bmRlZmluZWR9IFtkZWNsdXR0ZXJNb2RlXSBEZWNsdXR0ZXIgbW9kZS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlbmRlck9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW3N0cm9rZVN0eWxlXSBTdHJva2VTdHlsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdHJva2VXaWR0aCBTdHJva2VXaWR0aC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaXplIFNpemUuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj58bnVsbH0gbGluZURhc2ggTGluZURhc2guXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZURhc2hPZmZzZXQgTGluZURhc2hPZmZzZXQuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVKb2lufSBsaW5lSm9pbiBMaW5lSm9pbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaXRlckxpbWl0IE1pdGVyTGltaXQuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgcmVndWxhciBzaGFwZSBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLiBUaGUgcmVzdWx0aW5nIHNoYXBlIHdpbGwgYmVcbiAqIGEgcmVndWxhciBwb2x5Z29uIHdoZW4gYHJhZGl1c2AgaXMgcHJvdmlkZWQsIG9yIGEgc3RhciB3aGVuIGByYWRpdXMxYCBhbmRcbiAqIGByYWRpdXMyYCBhcmUgcHJvdmlkZWQuXG4gKiBAYXBpXG4gKi9cbmNsYXNzIFJlZ3VsYXJTaGFwZSBleHRlbmRzIEltYWdlU3R5bGUge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgY29uc3Qgcm90YXRlV2l0aFZpZXcgPVxuICAgICAgb3B0aW9ucy5yb3RhdGVXaXRoVmlldyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGVXaXRoVmlldyA6IGZhbHNlO1xuXG4gICAgc3VwZXIoe1xuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIHJvdGF0ZVdpdGhWaWV3OiByb3RhdGVXaXRoVmlldyxcbiAgICAgIHJvdGF0aW9uOiBvcHRpb25zLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0aW9uIDogMCxcbiAgICAgIHNjYWxlOiBvcHRpb25zLnNjYWxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNjYWxlIDogMSxcbiAgICAgIGRpc3BsYWNlbWVudDpcbiAgICAgICAgb3B0aW9ucy5kaXNwbGFjZW1lbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZGlzcGxhY2VtZW50IDogWzAsIDBdLFxuICAgICAgZGVjbHV0dGVyTW9kZTogb3B0aW9ucy5kZWNsdXR0ZXJNb2RlLFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0PG51bWJlciwgSFRNTENhbnZhc0VsZW1lbnQ+fVxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxfID0gb3B0aW9ucy5maWxsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmZpbGwgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWdpbl8gPSBbMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wb2ludHNfID0gb3B0aW9ucy5wb2ludHM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJhZGl1c18gPVxuICAgICAgb3B0aW9ucy5yYWRpdXMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucmFkaXVzIDogb3B0aW9ucy5yYWRpdXMxO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJhZGl1czJfID0gb3B0aW9ucy5yYWRpdXMyO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYW5nbGVfID0gb3B0aW9ucy5hbmdsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hbmdsZSA6IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuc3Ryb2tlXyA9IG9wdGlvbnMuc3Ryb2tlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0cm9rZSA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy5zaXplXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtSZW5kZXJPcHRpb25zfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyT3B0aW9uc18gPSBudWxsO1xuXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHN0eWxlLlxuICAgKiBAcmV0dXJuIHtSZWd1bGFyU2hhcGV9IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGNsb25lKCkge1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgIGNvbnN0IHN0eWxlID0gbmV3IFJlZ3VsYXJTaGFwZSh7XG4gICAgICBmaWxsOiB0aGlzLmdldEZpbGwoKSA/IHRoaXMuZ2V0RmlsbCgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICBwb2ludHM6IHRoaXMuZ2V0UG9pbnRzKCksXG4gICAgICByYWRpdXM6IHRoaXMuZ2V0UmFkaXVzKCksXG4gICAgICByYWRpdXMyOiB0aGlzLmdldFJhZGl1czIoKSxcbiAgICAgIGFuZ2xlOiB0aGlzLmdldEFuZ2xlKCksXG4gICAgICBzdHJva2U6IHRoaXMuZ2V0U3Ryb2tlKCkgPyB0aGlzLmdldFN0cm9rZSgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICByb3RhdGlvbjogdGhpcy5nZXRSb3RhdGlvbigpLFxuICAgICAgcm90YXRlV2l0aFZpZXc6IHRoaXMuZ2V0Um90YXRlV2l0aFZpZXcoKSxcbiAgICAgIHNjYWxlOiBBcnJheS5pc0FycmF5KHNjYWxlKSA/IHNjYWxlLnNsaWNlKCkgOiBzY2FsZSxcbiAgICAgIGRpc3BsYWNlbWVudDogdGhpcy5nZXREaXNwbGFjZW1lbnQoKS5zbGljZSgpLFxuICAgICAgZGVjbHV0dGVyTW9kZTogdGhpcy5nZXREZWNsdXR0ZXJNb2RlKCksXG4gICAgfSk7XG4gICAgc3R5bGUuc2V0T3BhY2l0eSh0aGlzLmdldE9wYWNpdHkoKSk7XG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IGluIHBpeGVscy4gVGhlIGFuY2hvciBkZXRlcm1pbmVzIHRoZSBjZW50ZXIgcG9pbnQgZm9yIHRoZVxuICAgKiBzeW1ib2xpemVyLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBBbmNob3IuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEFuY2hvcigpIHtcbiAgICBjb25zdCBzaXplID0gdGhpcy5zaXplXztcbiAgICBpZiAoIXNpemUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBkaXNwbGFjZW1lbnQgPSB0aGlzLmdldERpc3BsYWNlbWVudCgpO1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5nZXRTY2FsZUFycmF5KCk7XG4gICAgLy8gYW5jaG9yIGlzIHNjYWxlZCBieSByZW5kZXJlciBidXQgZGlzcGxhY2VtZW50IHNob3VsZCBub3QgYmUgc2NhbGVkXG4gICAgLy8gc28gZGl2aWRlIGJ5IHNjYWxlIGhlcmVcbiAgICByZXR1cm4gW1xuICAgICAgc2l6ZVswXSAvIDIgLSBkaXNwbGFjZW1lbnRbMF0gLyBzY2FsZVswXSxcbiAgICAgIHNpemVbMV0gLyAyICsgZGlzcGxhY2VtZW50WzFdIC8gc2NhbGVbMV0sXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGFuZ2xlIHVzZWQgaW4gZ2VuZXJhdGluZyB0aGUgc2hhcGUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gU2hhcGUncyByb3RhdGlvbiBpbiByYWRpYW5zLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRBbmdsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5hbmdsZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBmaWxsIHN0eWxlIGZvciB0aGUgc2hhcGUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBGaWxsIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRGaWxsKCkge1xuICAgIHJldHVybiB0aGlzLmZpbGxfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZmlsbCBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gZmlsbCBGaWxsIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRGaWxsKGZpbGwpIHtcbiAgICB0aGlzLmZpbGxfID0gZmlsbDtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBJbWFnZSBlbGVtZW50LlxuICAgKi9cbiAgZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UoKSB7XG4gICAgaWYgKCF0aGlzLmhpdERldGVjdGlvbkNhbnZhc18pIHtcbiAgICAgIHRoaXMuY3JlYXRlSGl0RGV0ZWN0aW9uQ2FudmFzXyh0aGlzLnJlbmRlck9wdGlvbnNfKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGltYWdlIGljb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2Ugb3IgQ2FudmFzIGVsZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEltYWdlKHBpeGVsUmF0aW8pIHtcbiAgICBsZXQgaW1hZ2UgPSB0aGlzLmNhbnZhc19bcGl4ZWxSYXRpb107XG4gICAgaWYgKCFpbWFnZSkge1xuICAgICAgY29uc3QgcmVuZGVyT3B0aW9ucyA9IHRoaXMucmVuZGVyT3B0aW9uc187XG4gICAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKFxuICAgICAgICByZW5kZXJPcHRpb25zLnNpemUgKiBwaXhlbFJhdGlvLFxuICAgICAgICByZW5kZXJPcHRpb25zLnNpemUgKiBwaXhlbFJhdGlvXG4gICAgICApO1xuICAgICAgdGhpcy5kcmF3XyhyZW5kZXJPcHRpb25zLCBjb250ZXh0LCBwaXhlbFJhdGlvKTtcblxuICAgICAgaW1hZ2UgPSBjb250ZXh0LmNhbnZhcztcbiAgICAgIHRoaXMuY2FudmFzX1twaXhlbFJhdGlvXSA9IGltYWdlO1xuICAgIH1cbiAgICByZXR1cm4gaW1hZ2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBpbWFnZSBwaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEByZXR1cm4ge251bWJlcn0gUGl4ZWwgcmF0aW8uXG4gICAqL1xuICBnZXRQaXhlbFJhdGlvKHBpeGVsUmF0aW8pIHtcbiAgICByZXR1cm4gcGl4ZWxSYXRpbztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IEltYWdlIHNpemUuXG4gICAqL1xuICBnZXRJbWFnZVNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2l6ZV87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fSBJbWFnZSBzdGF0ZS5cbiAgICovXG4gIGdldEltYWdlU3RhdGUoKSB7XG4gICAgcmV0dXJuIEltYWdlU3RhdGUuTE9BREVEO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgb3JpZ2luIG9mIHRoZSBzeW1ib2xpemVyLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPcmlnaW4uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE9yaWdpbigpIHtcbiAgICByZXR1cm4gdGhpcy5vcmlnaW5fO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbnVtYmVyIG9mIHBvaW50cyBmb3IgZ2VuZXJhdGluZyB0aGUgc2hhcGUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIG9mIHBvaW50cyBmb3Igc3RhcnMgYW5kIHJlZ3VsYXIgcG9seWdvbnMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFBvaW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5wb2ludHNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgKHByaW1hcnkpIHJhZGl1cyBmb3IgdGhlIHNoYXBlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJhZGl1cy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UmFkaXVzKCkge1xuICAgIHJldHVybiB0aGlzLnJhZGl1c187XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzZWNvbmRhcnkgcmFkaXVzIGZvciB0aGUgc2hhcGUuXG4gICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJhZGl1czIuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJhZGl1czIoKSB7XG4gICAgcmV0dXJuIHRoaXMucmFkaXVzMl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzaXplIG9mIHRoZSBzeW1ib2xpemVyIChpbiBwaXhlbHMpLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFNpemUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2l6ZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzdHJva2Ugc3R5bGUgZm9yIHRoZSBzaGFwZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gU3Ryb2tlIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRTdHJva2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3Ryb2tlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN0cm9rZSBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBzdHJva2UgU3Ryb2tlIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRTdHJva2Uoc3Ryb2tlKSB7XG4gICAgdGhpcy5zdHJva2VfID0gc3Ryb2tlO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgKi9cbiAgbGlzdGVuSW1hZ2VDaGFuZ2UobGlzdGVuZXIpIHt9XG5cbiAgLyoqXG4gICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgKi9cbiAgbG9hZCgpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICovXG4gIHVubGlzdGVuSW1hZ2VDaGFuZ2UobGlzdGVuZXIpIHt9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBhZGRpdGlvbmFsIGNhbnZhcyBzaXplIG5lZWRlZCBmb3IgdGhlIG1pdGVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGluZUpvaW4gTGluZSBqb2luXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJva2VXaWR0aCBTdHJva2Ugd2lkdGhcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pdGVyTGltaXQgTWl0ZXIgbGltaXRcbiAgICogQHJldHVybiB7bnVtYmVyfSBBZGRpdGlvbmFsIGNhbnZhcyBzaXplIG5lZWRlZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY2FsY3VsYXRlTGluZUpvaW5TaXplXyhsaW5lSm9pbiwgc3Ryb2tlV2lkdGgsIG1pdGVyTGltaXQpIHtcbiAgICBpZiAoXG4gICAgICBzdHJva2VXaWR0aCA9PT0gMCB8fFxuICAgICAgdGhpcy5wb2ludHNfID09PSBJbmZpbml0eSB8fFxuICAgICAgKGxpbmVKb2luICE9PSAnYmV2ZWwnICYmIGxpbmVKb2luICE9PSAnbWl0ZXInKVxuICAgICkge1xuICAgICAgcmV0dXJuIHN0cm9rZVdpZHRoO1xuICAgIH1cbiAgICAvLyBtICB8IF5cbiAgICAvLyBpICB8IHxcXCAgICAgICAgICAgICAgICAgIC5cbiAgICAvLyB0ID58ICAjXFxcbiAgICAvLyBlICB8IHxcXCBcXCAgICAgICAgICAgICAgLlxuICAgIC8vIHIgICAgICBcXHNcXFxuICAgIC8vICAgICAgfCAgXFx0XFwgICAgICAgICAgLiAgICAgICAgICAgICAgICAgLlxuICAgIC8vICAgICAgICAgIFxcclxcICAgICAgICAgICAgICAgICAgICAgIC4gICAuXG4gICAgLy8gICAgICB8ICAgIFxcb1xcICAgICAgLiAgICAgICAgICAuICAuIC4gLlxuICAgIC8vICAgICAgICAgIGUgXFxrXFwgICAgICAgICAgICAuICAuICAgIC4gLlxuICAgIC8vICAgICAgfCAgICAgIFxcZVxcICAuICAgIC4gIC4gICAgICAgLiAuXG4gICAgLy8gICAgICAgZCAgICAgIFxcIFxcICAuICAuICAgICAgICAgIC4gLlxuICAgIC8vICAgICAgfCBfIF9hXyBfXFwjICAuICAgICAgICAgICAgLiAuXG4gICAgLy8gICByMSAgICAgICAgICAvIGAgICAgICAgICAgICAgLiAuXG4gICAgLy8gICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAuIC5cbiAgICAvLyAgICAgICBiICAgICAvICAgICAgICAgICAgICAgLiAuXG4gICAgLy8gICAgICB8ICAgICAgICAgICAgICAgICAgICAgLiAuXG4gICAgLy8gICAgICAgICAgIC8gcjIgICAgICAgICAgICAuIC5cbiAgICAvLyAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAuICAgLlxuICAgIC8vICAgICAgICAgLyAgICAgICAgICAgICAgICAgICAgICAgICAgIC4gICAuXG4gICAgLy8gICAgICB8zrEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4gICAuXG4gICAgLy8gICAgICAgLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLiAgIC5cbiAgICAvLyAgICAgIMKwIGNlbnRlclxuICAgIGxldCByMSA9IHRoaXMucmFkaXVzXztcbiAgICBsZXQgcjIgPSB0aGlzLnJhZGl1czJfID09PSB1bmRlZmluZWQgPyByMSA6IHRoaXMucmFkaXVzMl87XG4gICAgaWYgKHIxIDwgcjIpIHtcbiAgICAgIGNvbnN0IHRtcCA9IHIxO1xuICAgICAgcjEgPSByMjtcbiAgICAgIHIyID0gdG1wO1xuICAgIH1cbiAgICBjb25zdCBwb2ludHMgPVxuICAgICAgdGhpcy5yYWRpdXMyXyA9PT0gdW5kZWZpbmVkID8gdGhpcy5wb2ludHNfIDogdGhpcy5wb2ludHNfICogMjtcbiAgICBjb25zdCBhbHBoYSA9ICgyICogTWF0aC5QSSkgLyBwb2ludHM7XG4gICAgY29uc3QgYSA9IHIyICogTWF0aC5zaW4oYWxwaGEpO1xuICAgIGNvbnN0IGIgPSBNYXRoLnNxcnQocjIgKiByMiAtIGEgKiBhKTtcbiAgICBjb25zdCBkID0gcjEgLSBiO1xuICAgIGNvbnN0IGUgPSBNYXRoLnNxcnQoYSAqIGEgKyBkICogZCk7XG4gICAgY29uc3QgbWl0ZXJSYXRpbyA9IGUgLyBhO1xuICAgIGlmIChsaW5lSm9pbiA9PT0gJ21pdGVyJyAmJiBtaXRlclJhdGlvIDw9IG1pdGVyTGltaXQpIHtcbiAgICAgIHJldHVybiBtaXRlclJhdGlvICogc3Ryb2tlV2lkdGg7XG4gICAgfVxuICAgIC8vIENhbGN1bGF0ZSB0aGUgZGlzdG5jZSBmcm9tIGNlbnRlciB0byB0aGUgc3Ryb2tlIGNvcm5lciB3aGVyZVxuICAgIC8vIGl0IHdhcyBjdXQgc2hvcnQgYmVjYXVzZSBvZiB0aGUgbWl0ZXIgbGltaXQuXG4gICAgLy8gICAgICAgICAgICAgIGxcbiAgICAvLyAgICAgICAgLS0tLSstLS0tIDw9IGRpc3RhbmNlIGZyb20gY2VudGVyIHRvIGhlcmUgaXMgbWF4clxuICAgIC8vICAgICAgIC8jIyMjfGsgIyNcXFxuICAgIC8vICAgICAgLyMjIyMjXiMjIyMjXFxcbiAgICAvLyAgICAgLyMjIyMgLytcXCMgcyAjXFxcbiAgICAvLyAgICAvIyMjIGgvKysrXFwjIHQgI1xcXG4gICAgLy8gICAvIyMjIHQvKysrKytcXCMgciAjXFxcbiAgICAvLyAgLyMjIyBhLysrKysrKytcXCMgbyAjXFxcbiAgICAvLyAvIyMjIHAvKysgZmlsbCArXFwjIGsgI1xcXG4gICAgLy8vIyMjIyAvKysrKyteKysrKytcXCMgZSAjXFxcbiAgICAvLyMjIyMjLysrKysrLytcXCsrKysrXFwjIyMjI1xcXG4gICAgY29uc3QgayA9IHN0cm9rZVdpZHRoIC8gMiAvIG1pdGVyUmF0aW87XG4gICAgY29uc3QgbCA9IChzdHJva2VXaWR0aCAvIDIpICogKGQgLyBlKTtcbiAgICBjb25zdCBtYXhyID0gTWF0aC5zcXJ0KChyMSArIGspICogKHIxICsgaykgKyBsICogbCk7XG4gICAgY29uc3QgYmV2ZWxBZGQgPSBtYXhyIC0gcjE7XG4gICAgaWYgKHRoaXMucmFkaXVzMl8gPT09IHVuZGVmaW5lZCB8fCBsaW5lSm9pbiA9PT0gJ2JldmVsJykge1xuICAgICAgcmV0dXJuIGJldmVsQWRkICogMjtcbiAgICB9XG4gICAgLy8gSWYgb3V0ZXIgbWl0ZXIgaXMgb3ZlciB0aGUgbWl0ZXIgbGltaXQgdGhlIGlubmVyIG1pdGVyIG1heSByZWFjaCB0aHJvdWdoIHRoZVxuICAgIC8vIGNlbnRlciBhbmQgYmUgbG9uZ2VyIHRoYW4gdGhlIGJldmVsLCBzYW1lIGNhbGN1bGF0aW9uIGFzIGFib3ZlIGJ1dCBzd2FwIHIxIC8gcjIuXG4gICAgY29uc3QgYWEgPSByMSAqIE1hdGguc2luKGFscGhhKTtcbiAgICBjb25zdCBiYiA9IE1hdGguc3FydChyMSAqIHIxIC0gYWEgKiBhYSk7XG4gICAgY29uc3QgZGQgPSByMiAtIGJiO1xuICAgIGNvbnN0IGVlID0gTWF0aC5zcXJ0KGFhICogYWEgKyBkZCAqIGRkKTtcbiAgICBjb25zdCBpbm5lck1pdGVyUmF0aW8gPSBlZSAvIGFhO1xuICAgIGlmIChpbm5lck1pdGVyUmF0aW8gPD0gbWl0ZXJMaW1pdCkge1xuICAgICAgY29uc3QgaW5uZXJMZW5ndGggPSAoaW5uZXJNaXRlclJhdGlvICogc3Ryb2tlV2lkdGgpIC8gMiAtIHIyIC0gcjE7XG4gICAgICByZXR1cm4gMiAqIE1hdGgubWF4KGJldmVsQWRkLCBpbm5lckxlbmd0aCk7XG4gICAgfVxuICAgIHJldHVybiBiZXZlbEFkZCAqIDI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7UmVuZGVyT3B0aW9uc30gIFRoZSByZW5kZXIgb3B0aW9uc1xuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBjcmVhdGVSZW5kZXJPcHRpb25zKCkge1xuICAgIGxldCBsaW5lSm9pbiA9IGRlZmF1bHRMaW5lSm9pbjtcbiAgICBsZXQgbWl0ZXJMaW1pdCA9IDA7XG4gICAgbGV0IGxpbmVEYXNoID0gbnVsbDtcbiAgICBsZXQgbGluZURhc2hPZmZzZXQgPSAwO1xuICAgIGxldCBzdHJva2VTdHlsZTtcbiAgICBsZXQgc3Ryb2tlV2lkdGggPSAwO1xuXG4gICAgaWYgKHRoaXMuc3Ryb2tlXykge1xuICAgICAgc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZV8uZ2V0Q29sb3IoKTtcbiAgICAgIGlmIChzdHJva2VTdHlsZSA9PT0gbnVsbCkge1xuICAgICAgICBzdHJva2VTdHlsZSA9IGRlZmF1bHRTdHJva2VTdHlsZTtcbiAgICAgIH1cbiAgICAgIHN0cm9rZVN0eWxlID0gYXNDb2xvckxpa2Uoc3Ryb2tlU3R5bGUpO1xuICAgICAgc3Ryb2tlV2lkdGggPSB0aGlzLnN0cm9rZV8uZ2V0V2lkdGgoKTtcbiAgICAgIGlmIChzdHJva2VXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN0cm9rZVdpZHRoID0gZGVmYXVsdExpbmVXaWR0aDtcbiAgICAgIH1cbiAgICAgIGxpbmVEYXNoID0gdGhpcy5zdHJva2VfLmdldExpbmVEYXNoKCk7XG4gICAgICBsaW5lRGFzaE9mZnNldCA9IHRoaXMuc3Ryb2tlXy5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgbGluZUpvaW4gPSB0aGlzLnN0cm9rZV8uZ2V0TGluZUpvaW4oKTtcbiAgICAgIGlmIChsaW5lSm9pbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxpbmVKb2luID0gZGVmYXVsdExpbmVKb2luO1xuICAgICAgfVxuICAgICAgbWl0ZXJMaW1pdCA9IHRoaXMuc3Ryb2tlXy5nZXRNaXRlckxpbWl0KCk7XG4gICAgICBpZiAobWl0ZXJMaW1pdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1pdGVyTGltaXQgPSBkZWZhdWx0TWl0ZXJMaW1pdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhZGQgPSB0aGlzLmNhbGN1bGF0ZUxpbmVKb2luU2l6ZV8obGluZUpvaW4sIHN0cm9rZVdpZHRoLCBtaXRlckxpbWl0KTtcbiAgICBjb25zdCBtYXhSYWRpdXMgPSBNYXRoLm1heCh0aGlzLnJhZGl1c18sIHRoaXMucmFkaXVzMl8gfHwgMCk7XG4gICAgY29uc3Qgc2l6ZSA9IE1hdGguY2VpbCgyICogbWF4UmFkaXVzICsgYWRkKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzdHJva2VTdHlsZTogc3Ryb2tlU3R5bGUsXG4gICAgICBzdHJva2VXaWR0aDogc3Ryb2tlV2lkdGgsXG4gICAgICBzaXplOiBzaXplLFxuICAgICAgbGluZURhc2g6IGxpbmVEYXNoLFxuICAgICAgbGluZURhc2hPZmZzZXQ6IGxpbmVEYXNoT2Zmc2V0LFxuICAgICAgbGluZUpvaW46IGxpbmVKb2luLFxuICAgICAgbWl0ZXJMaW1pdDogbWl0ZXJMaW1pdCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICB0aGlzLnJlbmRlck9wdGlvbnNfID0gdGhpcy5jcmVhdGVSZW5kZXJPcHRpb25zKCk7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMucmVuZGVyT3B0aW9uc18uc2l6ZTtcbiAgICB0aGlzLmNhbnZhc18gPSB7fTtcbiAgICB0aGlzLnNpemVfID0gW3NpemUsIHNpemVdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVuZGVyT3B0aW9uc30gcmVuZGVyT3B0aW9ucyBSZW5kZXIgb3B0aW9ucy5cbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBUaGUgcGl4ZWwgcmF0aW8uXG4gICAqL1xuICBkcmF3XyhyZW5kZXJPcHRpb25zLCBjb250ZXh0LCBwaXhlbFJhdGlvKSB7XG4gICAgY29udGV4dC5zY2FsZShwaXhlbFJhdGlvLCBwaXhlbFJhdGlvKTtcbiAgICAvLyBzZXQgb3JpZ2luIHRvIGNhbnZhcyBjZW50ZXJcbiAgICBjb250ZXh0LnRyYW5zbGF0ZShyZW5kZXJPcHRpb25zLnNpemUgLyAyLCByZW5kZXJPcHRpb25zLnNpemUgLyAyKTtcblxuICAgIHRoaXMuY3JlYXRlUGF0aF8oY29udGV4dCk7XG5cbiAgICBpZiAodGhpcy5maWxsXykge1xuICAgICAgbGV0IGNvbG9yID0gdGhpcy5maWxsXy5nZXRDb2xvcigpO1xuICAgICAgaWYgKGNvbG9yID09PSBudWxsKSB7XG4gICAgICAgIGNvbG9yID0gZGVmYXVsdEZpbGxTdHlsZTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gYXNDb2xvckxpa2UoY29sb3IpO1xuICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0cm9rZV8pIHtcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSByZW5kZXJPcHRpb25zLnN0cm9rZVN0eWxlO1xuICAgICAgY29udGV4dC5saW5lV2lkdGggPSByZW5kZXJPcHRpb25zLnN0cm9rZVdpZHRoO1xuICAgICAgaWYgKHJlbmRlck9wdGlvbnMubGluZURhc2gpIHtcbiAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChyZW5kZXJPcHRpb25zLmxpbmVEYXNoKTtcbiAgICAgICAgY29udGV4dC5saW5lRGFzaE9mZnNldCA9IHJlbmRlck9wdGlvbnMubGluZURhc2hPZmZzZXQ7XG4gICAgICB9XG4gICAgICBjb250ZXh0LmxpbmVKb2luID0gcmVuZGVyT3B0aW9ucy5saW5lSm9pbjtcbiAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHJlbmRlck9wdGlvbnMubWl0ZXJMaW1pdDtcbiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVuZGVyT3B0aW9uc30gcmVuZGVyT3B0aW9ucyBSZW5kZXIgb3B0aW9ucy5cbiAgICovXG4gIGNyZWF0ZUhpdERldGVjdGlvbkNhbnZhc18ocmVuZGVyT3B0aW9ucykge1xuICAgIGlmICh0aGlzLmZpbGxfKSB7XG4gICAgICBsZXQgY29sb3IgPSB0aGlzLmZpbGxfLmdldENvbG9yKCk7XG5cbiAgICAgIC8vIGRldGVybWluZSBpZiBmaWxsIGlzIHRyYW5zcGFyZW50IChvciBwYXR0ZXJuIG9yIGdyYWRpZW50KVxuICAgICAgbGV0IG9wYWNpdHkgPSAwO1xuICAgICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29sb3IgPSBhc0FycmF5KGNvbG9yKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb2xvciA9PT0gbnVsbCkge1xuICAgICAgICBvcGFjaXR5ID0gMTtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICAgICAgb3BhY2l0eSA9IGNvbG9yLmxlbmd0aCA9PT0gNCA/IGNvbG9yWzNdIDogMTtcbiAgICAgIH1cbiAgICAgIGlmIChvcGFjaXR5ID09PSAwKSB7XG4gICAgICAgIC8vIGlmIGEgdHJhbnNwYXJlbnQgZmlsbCBzdHlsZSBpcyBzZXQsIGNyZWF0ZSBhbiBleHRyYSBoaXQtZGV0ZWN0aW9uIGltYWdlXG4gICAgICAgIC8vIHdpdGggYSBkZWZhdWx0IGZpbGwgc3R5bGVcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChcbiAgICAgICAgICByZW5kZXJPcHRpb25zLnNpemUsXG4gICAgICAgICAgcmVuZGVyT3B0aW9ucy5zaXplXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXyA9IGNvbnRleHQuY2FudmFzO1xuXG4gICAgICAgIHRoaXMuZHJhd0hpdERldGVjdGlvbkNhbnZhc18ocmVuZGVyT3B0aW9ucywgY29udGV4dCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5oaXREZXRlY3Rpb25DYW52YXNfKSB7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkNhbnZhc18gPSB0aGlzLmdldEltYWdlKDEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBUaGUgY29udGV4dCB0byBkcmF3IGluLlxuICAgKi9cbiAgY3JlYXRlUGF0aF8oY29udGV4dCkge1xuICAgIGxldCBwb2ludHMgPSB0aGlzLnBvaW50c187XG4gICAgY29uc3QgcmFkaXVzID0gdGhpcy5yYWRpdXNfO1xuICAgIGlmIChwb2ludHMgPT09IEluZmluaXR5KSB7XG4gICAgICBjb250ZXh0LmFyYygwLCAwLCByYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmFkaXVzMiA9IHRoaXMucmFkaXVzMl8gPT09IHVuZGVmaW5lZCA/IHJhZGl1cyA6IHRoaXMucmFkaXVzMl87XG4gICAgICBpZiAodGhpcy5yYWRpdXMyXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBvaW50cyAqPSAyO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IHRoaXMuYW5nbGVfIC0gTWF0aC5QSSAvIDI7XG4gICAgICBjb25zdCBzdGVwID0gKDIgKiBNYXRoLlBJKSAvIHBvaW50cztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzOyBpKyspIHtcbiAgICAgICAgY29uc3QgYW5nbGUwID0gc3RhcnRBbmdsZSArIGkgKiBzdGVwO1xuICAgICAgICBjb25zdCByYWRpdXNDID0gaSAlIDIgPT09IDAgPyByYWRpdXMgOiByYWRpdXMyO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhyYWRpdXNDICogTWF0aC5jb3MoYW5nbGUwKSwgcmFkaXVzQyAqIE1hdGguc2luKGFuZ2xlMCkpO1xuICAgICAgfVxuICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtSZW5kZXJPcHRpb25zfSByZW5kZXJPcHRpb25zIFJlbmRlciBvcHRpb25zLlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBUaGUgY29udGV4dC5cbiAgICovXG4gIGRyYXdIaXREZXRlY3Rpb25DYW52YXNfKHJlbmRlck9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICAvLyBzZXQgb3JpZ2luIHRvIGNhbnZhcyBjZW50ZXJcbiAgICBjb250ZXh0LnRyYW5zbGF0ZShyZW5kZXJPcHRpb25zLnNpemUgLyAyLCByZW5kZXJPcHRpb25zLnNpemUgLyAyKTtcblxuICAgIHRoaXMuY3JlYXRlUGF0aF8oY29udGV4dCk7XG5cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGRlZmF1bHRGaWxsU3R5bGU7XG4gICAgY29udGV4dC5maWxsKCk7XG4gICAgaWYgKHRoaXMuc3Ryb2tlXykge1xuICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHJlbmRlck9wdGlvbnMuc3Ryb2tlU3R5bGU7XG4gICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHJlbmRlck9wdGlvbnMuc3Ryb2tlV2lkdGg7XG4gICAgICBpZiAocmVuZGVyT3B0aW9ucy5saW5lRGFzaCkge1xuICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHJlbmRlck9wdGlvbnMubGluZURhc2gpO1xuICAgICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gcmVuZGVyT3B0aW9ucy5saW5lRGFzaE9mZnNldDtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQubGluZUpvaW4gPSByZW5kZXJPcHRpb25zLmxpbmVKb2luO1xuICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gcmVuZGVyT3B0aW9ucy5taXRlckxpbWl0O1xuICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVndWxhclNoYXBlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL1N0cm9rZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbY29sb3JdIEEgY29sb3IsIGdyYWRpZW50IG9yIHBhdHRlcm4uXG4gKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9jb2xvcn5Db2xvcn0gYW5kIHtAbGluayBtb2R1bGU6b2wvY29sb3JsaWtlfkNvbG9yTGlrZX0gZm9yIHBvc3NpYmxlIGZvcm1hdHMuXG4gKiBEZWZhdWx0IG51bGw7IGlmIG51bGwsIHRoZSBDYW52YXMvcmVuZGVyZXIgZGVmYXVsdCBibGFjayB3aWxsIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IFtsaW5lQ2FwPSdyb3VuZCddIExpbmUgY2FwIHN0eWxlOiBgYnV0dGAsIGByb3VuZGAsIG9yIGBzcXVhcmVgLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gW2xpbmVKb2luPSdyb3VuZCddIExpbmUgam9pbiBzdHlsZTogYGJldmVsYCwgYHJvdW5kYCwgb3IgYG1pdGVyYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2xpbmVEYXNoXSBMaW5lIGRhc2ggcGF0dGVybi4gRGVmYXVsdCBpcyBgbnVsbGAgKG5vIGRhc2gpLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtsaW5lRGFzaE9mZnNldD0wXSBMaW5lIGRhc2ggb2Zmc2V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaXRlckxpbWl0PTEwXSBNaXRlciBsaW1pdC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbd2lkdGhdIFdpZHRoLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IHN0cm9rZSBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLlxuICogTm90ZSB0aGF0IHRoZSBkZWZhdWx0cyBnaXZlbiBhcmUgdGhlIENhbnZhcyBkZWZhdWx0cywgd2hpY2ggd2lsbCBiZSB1c2VkIGlmXG4gKiBvcHRpb24gaXMgbm90IGRlZmluZWQuIFRoZSBgZ2V0YCBmdW5jdGlvbnMgcmV0dXJuIHdoYXRldmVyIHdhcyBlbnRlcmVkIGluXG4gKiB0aGUgb3B0aW9uczsgdGhleSB3aWxsIG5vdCByZXR1cm4gdGhlIGRlZmF1bHQuXG4gKiBAYXBpXG4gKi9cbmNsYXNzIFN0cm9rZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX1cbiAgICAgKi9cbiAgICB0aGlzLmNvbG9yXyA9IG9wdGlvbnMuY29sb3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sb3IgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Q2FudmFzTGluZUNhcHx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5saW5lQ2FwXyA9IG9wdGlvbnMubGluZUNhcDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj58bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVEYXNoXyA9IG9wdGlvbnMubGluZURhc2ggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubGluZURhc2ggOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVEYXNoT2Zmc2V0XyA9IG9wdGlvbnMubGluZURhc2hPZmZzZXQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDYW52YXNMaW5lSm9pbnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5saW5lSm9pbl8gPSBvcHRpb25zLmxpbmVKb2luO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLm1pdGVyTGltaXRfID0gb3B0aW9ucy5taXRlckxpbWl0O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLndpZHRoXyA9IG9wdGlvbnMud2lkdGg7XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBzdHlsZS5cbiAgICogQHJldHVybiB7U3Ryb2tlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBjb25zdCBjb2xvciA9IHRoaXMuZ2V0Q29sb3IoKTtcbiAgICByZXR1cm4gbmV3IFN0cm9rZSh7XG4gICAgICBjb2xvcjogQXJyYXkuaXNBcnJheShjb2xvcikgPyBjb2xvci5zbGljZSgpIDogY29sb3IgfHwgdW5kZWZpbmVkLFxuICAgICAgbGluZUNhcDogdGhpcy5nZXRMaW5lQ2FwKCksXG4gICAgICBsaW5lRGFzaDogdGhpcy5nZXRMaW5lRGFzaCgpID8gdGhpcy5nZXRMaW5lRGFzaCgpLnNsaWNlKCkgOiB1bmRlZmluZWQsXG4gICAgICBsaW5lRGFzaE9mZnNldDogdGhpcy5nZXRMaW5lRGFzaE9mZnNldCgpLFxuICAgICAgbGluZUpvaW46IHRoaXMuZ2V0TGluZUpvaW4oKSxcbiAgICAgIG1pdGVyTGltaXQ6IHRoaXMuZ2V0TWl0ZXJMaW1pdCgpLFxuICAgICAgd2lkdGg6IHRoaXMuZ2V0V2lkdGgoKSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0cm9rZSBjb2xvci5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gQ29sb3IuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLmNvbG9yXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxpbmUgY2FwIHR5cGUgZm9yIHRoZSBzdHJva2UuXG4gICAqIEByZXR1cm4ge0NhbnZhc0xpbmVDYXB8dW5kZWZpbmVkfSBMaW5lIGNhcC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TGluZUNhcCgpIHtcbiAgICByZXR1cm4gdGhpcy5saW5lQ2FwXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxpbmUgZGFzaCBzdHlsZSBmb3IgdGhlIHN0cm9rZS5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnxudWxsfSBMaW5lIGRhc2guXG4gICAqIEBhcGlcbiAgICovXG4gIGdldExpbmVEYXNoKCkge1xuICAgIHJldHVybiB0aGlzLmxpbmVEYXNoXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxpbmUgZGFzaCBvZmZzZXQgZm9yIHRoZSBzdHJva2UuXG4gICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IExpbmUgZGFzaCBvZmZzZXQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldExpbmVEYXNoT2Zmc2V0KCkge1xuICAgIHJldHVybiB0aGlzLmxpbmVEYXNoT2Zmc2V0XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxpbmUgam9pbiB0eXBlIGZvciB0aGUgc3Ryb2tlLlxuICAgKiBAcmV0dXJuIHtDYW52YXNMaW5lSm9pbnx1bmRlZmluZWR9IExpbmUgam9pbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TGluZUpvaW4oKSB7XG4gICAgcmV0dXJuIHRoaXMubGluZUpvaW5fO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWl0ZXIgbGltaXQgZm9yIHRoZSBzdHJva2UuXG4gICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IE1pdGVyIGxpbWl0LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNaXRlckxpbWl0KCkge1xuICAgIHJldHVybiB0aGlzLm1pdGVyTGltaXRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3Ryb2tlIHdpZHRoLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBXaWR0aC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0V2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMud2lkdGhfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY29sb3IuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gY29sb3IgQ29sb3IuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldENvbG9yKGNvbG9yKSB7XG4gICAgdGhpcy5jb2xvcl8gPSBjb2xvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGxpbmUgY2FwLlxuICAgKlxuICAgKiBAcGFyYW0ge0NhbnZhc0xpbmVDYXB8dW5kZWZpbmVkfSBsaW5lQ2FwIExpbmUgY2FwLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRMaW5lQ2FwKGxpbmVDYXApIHtcbiAgICB0aGlzLmxpbmVDYXBfID0gbGluZUNhcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGxpbmUgZGFzaC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fG51bGx9IGxpbmVEYXNoIExpbmUgZGFzaC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TGluZURhc2gobGluZURhc2gpIHtcbiAgICB0aGlzLmxpbmVEYXNoXyA9IGxpbmVEYXNoO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbGluZSBkYXNoIG9mZnNldC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSBsaW5lRGFzaE9mZnNldCBMaW5lIGRhc2ggb2Zmc2V0LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRMaW5lRGFzaE9mZnNldChsaW5lRGFzaE9mZnNldCkge1xuICAgIHRoaXMubGluZURhc2hPZmZzZXRfID0gbGluZURhc2hPZmZzZXQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBsaW5lIGpvaW4uXG4gICAqXG4gICAqIEBwYXJhbSB7Q2FudmFzTGluZUpvaW58dW5kZWZpbmVkfSBsaW5lSm9pbiBMaW5lIGpvaW4uXG4gICAqIEBhcGlcbiAgICovXG4gIHNldExpbmVKb2luKGxpbmVKb2luKSB7XG4gICAgdGhpcy5saW5lSm9pbl8gPSBsaW5lSm9pbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG1pdGVyIGxpbWl0LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IG1pdGVyTGltaXQgTWl0ZXIgbGltaXQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE1pdGVyTGltaXQobWl0ZXJMaW1pdCkge1xuICAgIHRoaXMubWl0ZXJMaW1pdF8gPSBtaXRlckxpbWl0O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgd2lkdGguXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gd2lkdGggV2lkdGguXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFdpZHRoKHdpZHRoKSB7XG4gICAgdGhpcy53aWR0aF8gPSB3aWR0aDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdHJva2U7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvU3R5bGVcbiAqL1xuXG5pbXBvcnQgQ2lyY2xlU3R5bGUgZnJvbSAnLi9DaXJjbGUuanMnO1xuaW1wb3J0IEZpbGwgZnJvbSAnLi9GaWxsLmpzJztcbmltcG9ydCBTdHJva2UgZnJvbSAnLi9TdHJva2UuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZX0gYW5kIGEgYHtudW1iZXJ9YFxuICogcmVwcmVzZW50aW5nIHRoZSB2aWV3J3MgcmVzb2x1dGlvbi4gVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYVxuICoge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9TdHlsZX5TdHlsZX0gb3IgYW4gYXJyYXkgb2YgdGhlbS4gVGhpcyB3YXkgZS5nLiBhXG4gKiB2ZWN0b3IgbGF5ZXIgY2FuIGJlIHN0eWxlZC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgYHVuZGVmaW5lZGAsIHRoZVxuICogZmVhdHVyZSB3aWxsIG5vdCBiZSByZW5kZXJlZC5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSwgbnVtYmVyKTooU3R5bGV8QXJyYXk8U3R5bGU+fHZvaWQpfSBTdHlsZUZ1bmN0aW9uXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBTdHlsZX0sIGFuIGFycmF5IG9mIHtAbGluayBTdHlsZX0sIG9yIGEge0BsaW5rIFN0eWxlRnVuY3Rpb259LlxuICogQHR5cGVkZWYge1N0eWxlfEFycmF5PFN0eWxlPnxTdHlsZUZ1bmN0aW9ufSBTdHlsZUxpa2VcbiAqL1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZX0gYXMgYXJndW1lbnQgYW5kIHJldHVybnMgYW5cbiAqIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9HZW9tZXRyeX5HZW9tZXRyeX0gdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGFuZCBzdHlsZWQgZm9yIHRoZSBmZWF0dXJlLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlKTpcbiAqICAgICAoaW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkKX0gR2VvbWV0cnlGdW5jdGlvblxuICovXG5cbi8qKlxuICogQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLiBUYWtlcyB0d28gYXJndW1lbnRzOlxuICpcbiAqIDEuIFRoZSBwaXhlbCBjb29yZGluYXRlcyBvZiB0aGUgZ2VvbWV0cnkgaW4gR2VvSlNPTiBub3RhdGlvbi5cbiAqIDIuIFRoZSB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlcn5TdGF0ZX0gb2YgdGhlIGxheWVyIHJlbmRlcmVyLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT58QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj4pLGltcG9ydChcIi4uL3JlbmRlci5qc1wiKS5TdGF0ZSk6IHZvaWR9IFJlbmRlckZ1bmN0aW9uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ3xpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8R2VvbWV0cnlGdW5jdGlvbn0gW2dlb21ldHJ5XSBGZWF0dXJlIHByb3BlcnR5IG9yIGdlb21ldHJ5XG4gKiBvciBmdW5jdGlvbiByZXR1cm5pbmcgYSBnZW9tZXRyeSB0byByZW5kZXIgZm9yIHRoaXMgc3R5bGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBbZmlsbF0gRmlsbCBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5kZWZhdWx0fSBbaW1hZ2VdIEltYWdlIHN0eWxlLlxuICogQHByb3BlcnR5IHtSZW5kZXJGdW5jdGlvbn0gW3JlbmRlcmVyXSBDdXN0b20gcmVuZGVyZXIuIFdoZW4gY29uZmlndXJlZCwgYGZpbGxgLCBgc3Ryb2tlYCBhbmQgYGltYWdlYCB3aWxsIGJlXG4gKiBpZ25vcmVkLCBhbmQgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggZWFjaCByZW5kZXIgZnJhbWUgZm9yIGVhY2ggZ2VvbWV0cnkuXG4gKiBAcHJvcGVydHkge1JlbmRlckZ1bmN0aW9ufSBbaGl0RGV0ZWN0aW9uUmVuZGVyZXJdIEN1c3RvbSByZW5kZXJlciBmb3IgaGl0IGRldGVjdGlvbi4gSWYgcHJvdmlkZWQgd2lsbCBiZSB1c2VkXG4gKiBpbiBoaXQgZGV0ZWN0aW9uIHJlbmRlcmluZy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gW3N0cm9rZV0gU3Ryb2tlIHN0eWxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1RleHQuanNcIikuZGVmYXVsdH0gW3RleHRdIFRleHQgc3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gWiBpbmRleC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENvbnRhaW5lciBmb3IgdmVjdG9yIGZlYXR1cmUgcmVuZGVyaW5nIHN0eWxlcy4gQW55IGNoYW5nZXMgbWFkZSB0byB0aGUgc3R5bGVcbiAqIG9yIGl0cyBjaGlsZHJlbiB0aHJvdWdoIGBzZXQqKClgIG1ldGhvZHMgd2lsbCBub3QgdGFrZSBlZmZlY3QgdW50aWwgdGhlXG4gKiBmZWF0dXJlIG9yIGxheWVyIHRoYXQgdXNlcyB0aGUgc3R5bGUgaXMgcmUtcmVuZGVyZWQuXG4gKlxuICogIyMgRmVhdHVyZSBzdHlsZXNcbiAqXG4gKiBJZiBubyBzdHlsZSBpcyBkZWZpbmVkLCB0aGUgZm9sbG93aW5nIGRlZmF1bHQgc3R5bGUgaXMgdXNlZDpcbiAqIGBgYGpzXG4gKiAgaW1wb3J0IHtDaXJjbGUsIEZpbGwsIFN0cm9rZSwgU3R5bGV9IGZyb20gJ29sL3N0eWxlLmpzJztcbiAqXG4gKiAgY29uc3QgZmlsbCA9IG5ldyBGaWxsKHtcbiAqICAgIGNvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwwLjQpJyxcbiAqICB9KTtcbiAqICBjb25zdCBzdHJva2UgPSBuZXcgU3Ryb2tlKHtcbiAqICAgIGNvbG9yOiAnIzMzOTlDQycsXG4gKiAgICB3aWR0aDogMS4yNSxcbiAqICB9KTtcbiAqICBjb25zdCBzdHlsZXMgPSBbXG4gKiAgICBuZXcgU3R5bGUoe1xuICogICAgICBpbWFnZTogbmV3IENpcmNsZSh7XG4gKiAgICAgICAgZmlsbDogZmlsbCxcbiAqICAgICAgICBzdHJva2U6IHN0cm9rZSxcbiAqICAgICAgICByYWRpdXM6IDUsXG4gKiAgICAgIH0pLFxuICogICAgICBmaWxsOiBmaWxsLFxuICogICAgICBzdHJva2U6IHN0cm9rZSxcbiAqICAgIH0pLFxuICogIF07XG4gKiBgYGBcbiAqXG4gKiBBIHNlcGFyYXRlIGVkaXRpbmcgc3R5bGUgaGFzIHRoZSBmb2xsb3dpbmcgZGVmYXVsdHM6XG4gKiBgYGBqc1xuICogIGltcG9ydCB7Q2lyY2xlLCBGaWxsLCBTdHJva2UsIFN0eWxlfSBmcm9tICdvbC9zdHlsZS5qcyc7XG4gKlxuICogIGNvbnN0IHN0eWxlcyA9IHt9O1xuICogIGNvbnN0IHdoaXRlID0gWzI1NSwgMjU1LCAyNTUsIDFdO1xuICogIGNvbnN0IGJsdWUgPSBbMCwgMTUzLCAyNTUsIDFdO1xuICogIGNvbnN0IHdpZHRoID0gMztcbiAqICBzdHlsZXNbJ1BvbHlnb24nXSA9IFtcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIGZpbGw6IG5ldyBGaWxsKHtcbiAqICAgICAgICBjb2xvcjogWzI1NSwgMjU1LCAyNTUsIDAuNV0sXG4gKiAgICAgIH0pLFxuICogICAgfSksXG4gKiAgXTtcbiAqICBzdHlsZXNbJ011bHRpUG9seWdvbiddID1cbiAqICAgICAgc3R5bGVzWydQb2x5Z29uJ107XG4gKiAgc3R5bGVzWydMaW5lU3RyaW5nJ10gPSBbXG4gKiAgICBuZXcgU3R5bGUoe1xuICogICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICogICAgICAgIGNvbG9yOiB3aGl0ZSxcbiAqICAgICAgICB3aWR0aDogd2lkdGggKyAyLFxuICogICAgICB9KSxcbiAqICAgIH0pLFxuICogICAgbmV3IFN0eWxlKHtcbiAqICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAqICAgICAgICBjb2xvcjogYmx1ZSxcbiAqICAgICAgICB3aWR0aDogd2lkdGgsXG4gKiAgICAgIH0pLFxuICogICAgfSksXG4gKiAgXTtcbiAqICBzdHlsZXNbJ011bHRpTGluZVN0cmluZyddID0gc3R5bGVzWydMaW5lU3RyaW5nJ107XG4gKlxuICogIHN0eWxlc1snQ2lyY2xlJ10gPSBzdHlsZXNbJ1BvbHlnb24nXS5jb25jYXQoXG4gKiAgICBzdHlsZXNbJ0xpbmVTdHJpbmcnXVxuICogICk7XG4gKlxuICogIHN0eWxlc1snUG9pbnQnXSA9IFtcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIGltYWdlOiBuZXcgQ2lyY2xlKHtcbiAqICAgICAgICByYWRpdXM6IHdpZHRoICogMixcbiAqICAgICAgICBmaWxsOiBuZXcgRmlsbCh7XG4gKiAgICAgICAgICBjb2xvcjogYmx1ZSxcbiAqICAgICAgICB9KSxcbiAqICAgICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICogICAgICAgICAgY29sb3I6IHdoaXRlLFxuICogICAgICAgICAgd2lkdGg6IHdpZHRoIC8gMixcbiAqICAgICAgICB9KSxcbiAqICAgICAgfSksXG4gKiAgICAgIHpJbmRleDogSW5maW5pdHksXG4gKiAgICB9KSxcbiAqICBdO1xuICogIHN0eWxlc1snTXVsdGlQb2ludCddID1cbiAqICAgICAgc3R5bGVzWydQb2ludCddO1xuICogIHN0eWxlc1snR2VvbWV0cnlDb2xsZWN0aW9uJ10gPVxuICogICAgICBzdHlsZXNbJ1BvbHlnb24nXS5jb25jYXQoXG4gKiAgICAgICAgICBzdHlsZXNbJ0xpbmVTdHJpbmcnXSxcbiAqICAgICAgICAgIHN0eWxlc1snUG9pbnQnXVxuICogICAgICApO1xuICogYGBgXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBTdHlsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBTdHlsZSBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxHZW9tZXRyeUZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuZ2VvbWV0cnlfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFHZW9tZXRyeUZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl8gPSBkZWZhdWx0R2VvbWV0cnlGdW5jdGlvbjtcblxuICAgIGlmIChvcHRpb25zLmdlb21ldHJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0R2VvbWV0cnkob3B0aW9ucy5nZW9tZXRyeSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5maWxsXyA9IG9wdGlvbnMuZmlsbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5maWxsIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vSW1hZ2UuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlXyA9IG9wdGlvbnMuaW1hZ2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaW1hZ2UgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7UmVuZGVyRnVuY3Rpb258bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVyXyA9IG9wdGlvbnMucmVuZGVyZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucmVuZGVyZXIgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7UmVuZGVyRnVuY3Rpb258bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLmhpdERldGVjdGlvblJlbmRlcmVyXyA9XG4gICAgICBvcHRpb25zLmhpdERldGVjdGlvblJlbmRlcmVyICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLmhpdERldGVjdGlvblJlbmRlcmVyXG4gICAgICAgIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5zdHJva2VfID0gb3B0aW9ucy5zdHJva2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc3Ryb2tlIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vVGV4dC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMudGV4dF8gPSBvcHRpb25zLnRleHQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGV4dCA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuekluZGV4XyA9IG9wdGlvbnMuekluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgc3R5bGUuXG4gICAqIEByZXR1cm4ge1N0eWxlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBsZXQgZ2VvbWV0cnkgPSB0aGlzLmdldEdlb21ldHJ5KCk7XG4gICAgaWYgKGdlb21ldHJ5ICYmIHR5cGVvZiBnZW9tZXRyeSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgZ2VvbWV0cnlcbiAgICAgICkuY2xvbmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTdHlsZSh7XG4gICAgICBnZW9tZXRyeTogZ2VvbWV0cnksXG4gICAgICBmaWxsOiB0aGlzLmdldEZpbGwoKSA/IHRoaXMuZ2V0RmlsbCgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICBpbWFnZTogdGhpcy5nZXRJbWFnZSgpID8gdGhpcy5nZXRJbWFnZSgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICByZW5kZXJlcjogdGhpcy5nZXRSZW5kZXJlcigpLFxuICAgICAgc3Ryb2tlOiB0aGlzLmdldFN0cm9rZSgpID8gdGhpcy5nZXRTdHJva2UoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgdGV4dDogdGhpcy5nZXRUZXh0KCkgPyB0aGlzLmdldFRleHQoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgekluZGV4OiB0aGlzLmdldFpJbmRleCgpLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uIHRoYXQgd2FzIGNvbmZpZ3VyZWQgd2l0aFxuICAgKiB7QGxpbmsgI3NldFJlbmRlcmVyfSBvciB0aGUgYHJlbmRlcmVyYCBjb25zdHJ1Y3RvciBvcHRpb24uXG4gICAqIEByZXR1cm4ge1JlbmRlckZ1bmN0aW9ufG51bGx9IEN1c3RvbSByZW5kZXJlciBmdW5jdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYSBjdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24gZm9yIHRoaXMgc3R5bGUuIFdoZW4gc2V0LCBgZmlsbGAsIGBzdHJva2VgXG4gICAqIGFuZCBgaW1hZ2VgIG9wdGlvbnMgb2YgdGhlIHN0eWxlIHdpbGwgYmUgaWdub3JlZC5cbiAgICogQHBhcmFtIHtSZW5kZXJGdW5jdGlvbnxudWxsfSByZW5kZXJlciBDdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlcl8gPSByZW5kZXJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGEgY3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uIGZvciB0aGlzIHN0eWxlIHVzZWRcbiAgICogaW4gaGl0IGRldGVjdGlvbi5cbiAgICogQHBhcmFtIHtSZW5kZXJGdW5jdGlvbnxudWxsfSByZW5kZXJlciBDdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEhpdERldGVjdGlvblJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25SZW5kZXJlcl8gPSByZW5kZXJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1c3RvbSByZW5kZXJlciBmdW5jdGlvbiB0aGF0IHdhcyBjb25maWd1cmVkIHdpdGhcbiAgICoge0BsaW5rICNzZXRIaXREZXRlY3Rpb25SZW5kZXJlcn0gb3IgdGhlIGBoaXREZXRlY3Rpb25SZW5kZXJlcmAgY29uc3RydWN0b3Igb3B0aW9uLlxuICAgKiBAcmV0dXJuIHtSZW5kZXJGdW5jdGlvbnxudWxsfSBDdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEhpdERldGVjdGlvblJlbmRlcmVyKCkge1xuICAgIHJldHVybiB0aGlzLmhpdERldGVjdGlvblJlbmRlcmVyXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGdlb21ldHJ5IHRvIGJlIHJlbmRlcmVkLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fEdlb21ldHJ5RnVuY3Rpb259XG4gICAqIEZlYXR1cmUgcHJvcGVydHkgb3IgZ2VvbWV0cnkgb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBnZW9tZXRyeSB0aGF0IHdpbGxcbiAgICogYmUgcmVuZGVyZWQgd2l0aCB0aGlzIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRHZW9tZXRyeSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBmdW5jdGlvbiB1c2VkIHRvIGdlbmVyYXRlIGEgZ2VvbWV0cnkgZm9yIHJlbmRlcmluZy5cbiAgICogQHJldHVybiB7IUdlb21ldHJ5RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdpdGggYSBmZWF0dXJlXG4gICAqIGFuZCByZXR1cm5zIHRoZSBnZW9tZXRyeSB0byByZW5kZXIgaW5zdGVhZCBvZiB0aGUgZmVhdHVyZSdzIGdlb21ldHJ5LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRHZW9tZXRyeUZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmlsbCBzdHlsZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IEZpbGwgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEZpbGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmlsbF87XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBmaWxsIHN0eWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsIEZpbGwgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEZpbGwoZmlsbCkge1xuICAgIHRoaXMuZmlsbF8gPSBmaWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaW1hZ2Ugc3R5bGUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gSW1hZ2Ugc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEltYWdlKCkge1xuICAgIHJldHVybiB0aGlzLmltYWdlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGltYWdlIHN0eWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gaW1hZ2UgSW1hZ2Ugc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEltYWdlKGltYWdlKSB7XG4gICAgdGhpcy5pbWFnZV8gPSBpbWFnZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0cm9rZSBzdHlsZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gU3Ryb2tlIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRTdHJva2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3Ryb2tlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN0cm9rZSBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBzdHJva2UgU3Ryb2tlIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRTdHJva2Uoc3Ryb2tlKSB7XG4gICAgdGhpcy5zdHJva2VfID0gc3Ryb2tlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGV4dCBzdHlsZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9UZXh0LmpzXCIpLmRlZmF1bHR9IFRleHQgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dF87XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB0ZXh0IHN0eWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vVGV4dC5qc1wiKS5kZWZhdWx0fSB0ZXh0IFRleHQgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFRleHQodGV4dCkge1xuICAgIHRoaXMudGV4dF8gPSB0ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgei1pbmRleCBmb3IgdGhlIHN0eWxlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBaSW5kZXguXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFpJbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy56SW5kZXhfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIGdlb21ldHJ5IHRoYXQgaXMgcmVuZGVyZWQgaW5zdGVhZCBvZiB0aGUgZmVhdHVyZSdzIGdlb21ldHJ5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8R2VvbWV0cnlGdW5jdGlvbn0gZ2VvbWV0cnlcbiAgICogICAgIEZlYXR1cmUgcHJvcGVydHkgb3IgZ2VvbWV0cnkgb3IgZnVuY3Rpb24gcmV0dXJuaW5nIGEgZ2VvbWV0cnkgdG8gcmVuZGVyXG4gICAqICAgICBmb3IgdGhpcyBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0R2VvbWV0cnkoZ2VvbWV0cnkpIHtcbiAgICBpZiAodHlwZW9mIGdlb21ldHJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZ2VvbWV0cnk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZ2VvbWV0cnkgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgZmVhdHVyZS5nZXQoZ2VvbWV0cnkpXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoIWdlb21ldHJ5KSB7XG4gICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZGVmYXVsdEdlb21ldHJ5RnVuY3Rpb247XG4gICAgfSBlbHNlIGlmIChnZW9tZXRyeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSk7XG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLmdlb21ldHJ5XyA9IGdlb21ldHJ5O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgei1pbmRleC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSB6SW5kZXggWkluZGV4LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRaSW5kZXgoekluZGV4KSB7XG4gICAgdGhpcy56SW5kZXhfID0gekluZGV4O1xuICB9XG59XG5cbi8qKlxuICogQ29udmVydCB0aGUgcHJvdmlkZWQgb2JqZWN0IGludG8gYSBzdHlsZSBmdW5jdGlvbi4gIEZ1bmN0aW9ucyBwYXNzZWQgdGhyb3VnaFxuICogdW5jaGFuZ2VkLiAgQXJyYXlzIG9mIFN0eWxlIG9yIHNpbmdsZSBzdHlsZSBvYmplY3RzIHdyYXBwZWQgaW4gYVxuICogbmV3IHN0eWxlIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtTdHlsZUZ1bmN0aW9ufEFycmF5PFN0eWxlPnxTdHlsZX0gb2JqXG4gKiAgICAgQSBzdHlsZSBmdW5jdGlvbiwgYSBzaW5nbGUgc3R5bGUsIG9yIGFuIGFycmF5IG9mIHN0eWxlcy5cbiAqIEByZXR1cm4ge1N0eWxlRnVuY3Rpb259IEEgc3R5bGUgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0Z1bmN0aW9uKG9iaikge1xuICBsZXQgc3R5bGVGdW5jdGlvbjtcblxuICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHN0eWxlRnVuY3Rpb24gPSBvYmo7XG4gIH0gZWxzZSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PFN0eWxlPn1cbiAgICAgKi9cbiAgICBsZXQgc3R5bGVzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIHN0eWxlcyA9IG9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzZXJ0KHR5cGVvZiAoLyoqIEB0eXBlIHs/fSAqLyAob2JqKS5nZXRaSW5kZXgpID09PSAnZnVuY3Rpb24nLCA0MSk7IC8vIEV4cGVjdGVkIGFuIGBTdHlsZWAgb3IgYW4gYXJyYXkgb2YgYFN0eWxlYFxuICAgICAgY29uc3Qgc3R5bGUgPSAvKiogQHR5cGUge1N0eWxlfSAqLyAob2JqKTtcbiAgICAgIHN0eWxlcyA9IFtzdHlsZV07XG4gICAgfVxuICAgIHN0eWxlRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc3R5bGVzO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIHN0eWxlRnVuY3Rpb247XG59XG5cbi8qKlxuICogQHR5cGUge0FycmF5PFN0eWxlPnxudWxsfVxuICovXG5sZXQgZGVmYXVsdFN0eWxlcyA9IG51bGw7XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHJldHVybiB7QXJyYXk8U3R5bGU+fSBTdHlsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRTdHlsZShmZWF0dXJlLCByZXNvbHV0aW9uKSB7XG4gIC8vIFdlIGRvbid0IHVzZSBhbiBpbW1lZGlhdGVseS1pbnZva2VkIGZ1bmN0aW9uXG4gIC8vIGFuZCBhIGNsb3N1cmUgc28gd2UgZG9uJ3QgZ2V0IGFuIGVycm9yIGF0IHNjcmlwdCBldmFsdWF0aW9uIHRpbWUgaW5cbiAgLy8gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBDYW52YXMuIChpbXBvcnQoXCIuL0NpcmNsZS5qc1wiKS5DaXJjbGVTdHlsZSBkb2VzXG4gIC8vIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpIGF0IGNvbnN0cnVjdGlvbiB0aW1lLCB3aGljaCB3aWxsIGNhdXNlIGFuLmVycm9yXG4gIC8vIGluIHN1Y2ggYnJvd3NlcnMuKVxuICBpZiAoIWRlZmF1bHRTdHlsZXMpIHtcbiAgICBjb25zdCBmaWxsID0gbmV3IEZpbGwoe1xuICAgICAgY29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNCknLFxuICAgIH0pO1xuICAgIGNvbnN0IHN0cm9rZSA9IG5ldyBTdHJva2Uoe1xuICAgICAgY29sb3I6ICcjMzM5OUNDJyxcbiAgICAgIHdpZHRoOiAxLjI1LFxuICAgIH0pO1xuICAgIGRlZmF1bHRTdHlsZXMgPSBbXG4gICAgICBuZXcgU3R5bGUoe1xuICAgICAgICBpbWFnZTogbmV3IENpcmNsZVN0eWxlKHtcbiAgICAgICAgICBmaWxsOiBmaWxsLFxuICAgICAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICAgICAgICAgIHJhZGl1czogNSxcbiAgICAgICAgfSksXG4gICAgICAgIGZpbGw6IGZpbGwsXG4gICAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICAgICAgfSksXG4gICAgXTtcbiAgfVxuICByZXR1cm4gZGVmYXVsdFN0eWxlcztcbn1cblxuLyoqXG4gKiBEZWZhdWx0IHN0eWxlcyBmb3IgZWRpdGluZyBmZWF0dXJlcy5cbiAqIEByZXR1cm4ge09iamVjdDxpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLlR5cGUsIEFycmF5PFN0eWxlPj59IFN0eWxlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWRpdGluZ1N0eWxlKCkge1xuICAvKiogQHR5cGUge09iamVjdDxpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLlR5cGUsIEFycmF5PFN0eWxlPj59ICovXG4gIGNvbnN0IHN0eWxlcyA9IHt9O1xuICBjb25zdCB3aGl0ZSA9IFsyNTUsIDI1NSwgMjU1LCAxXTtcbiAgY29uc3QgYmx1ZSA9IFswLCAxNTMsIDI1NSwgMV07XG4gIGNvbnN0IHdpZHRoID0gMztcbiAgc3R5bGVzWydQb2x5Z29uJ10gPSBbXG4gICAgbmV3IFN0eWxlKHtcbiAgICAgIGZpbGw6IG5ldyBGaWxsKHtcbiAgICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMjU1LCAwLjVdLFxuICAgICAgfSksXG4gICAgfSksXG4gIF07XG4gIHN0eWxlc1snTXVsdGlQb2x5Z29uJ10gPSBzdHlsZXNbJ1BvbHlnb24nXTtcblxuICBzdHlsZXNbJ0xpbmVTdHJpbmcnXSA9IFtcbiAgICBuZXcgU3R5bGUoe1xuICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAgICAgICAgY29sb3I6IHdoaXRlLFxuICAgICAgICB3aWR0aDogd2lkdGggKyAyLFxuICAgICAgfSksXG4gICAgfSksXG4gICAgbmV3IFN0eWxlKHtcbiAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gICAgICAgIGNvbG9yOiBibHVlLFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICB9KSxcbiAgICB9KSxcbiAgXTtcbiAgc3R5bGVzWydNdWx0aUxpbmVTdHJpbmcnXSA9IHN0eWxlc1snTGluZVN0cmluZyddO1xuXG4gIHN0eWxlc1snQ2lyY2xlJ10gPSBzdHlsZXNbJ1BvbHlnb24nXS5jb25jYXQoc3R5bGVzWydMaW5lU3RyaW5nJ10pO1xuXG4gIHN0eWxlc1snUG9pbnQnXSA9IFtcbiAgICBuZXcgU3R5bGUoe1xuICAgICAgaW1hZ2U6IG5ldyBDaXJjbGVTdHlsZSh7XG4gICAgICAgIHJhZGl1czogd2lkdGggKiAyLFxuICAgICAgICBmaWxsOiBuZXcgRmlsbCh7XG4gICAgICAgICAgY29sb3I6IGJsdWUsXG4gICAgICAgIH0pLFxuICAgICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICAgICAgICAgIGNvbG9yOiB3aGl0ZSxcbiAgICAgICAgICB3aWR0aDogd2lkdGggLyAyLFxuICAgICAgICB9KSxcbiAgICAgIH0pLFxuICAgICAgekluZGV4OiBJbmZpbml0eSxcbiAgICB9KSxcbiAgXTtcbiAgc3R5bGVzWydNdWx0aVBvaW50J10gPSBzdHlsZXNbJ1BvaW50J107XG5cbiAgc3R5bGVzWydHZW9tZXRyeUNvbGxlY3Rpb24nXSA9IHN0eWxlc1snUG9seWdvbiddLmNvbmNhdChcbiAgICBzdHlsZXNbJ0xpbmVTdHJpbmcnXSxcbiAgICBzdHlsZXNbJ1BvaW50J11cbiAgKTtcblxuICByZXR1cm4gc3R5bGVzO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdpdGggYSBmZWF0dXJlIGFuZCByZXR1cm5zIGl0cyBkZWZhdWx0IGdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUgdG8gZ2V0IHRoZSBnZW9tZXRyeSBmb3IuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IEdlb21ldHJ5IHRvIHJlbmRlci5cbiAqL1xuZnVuY3Rpb24gZGVmYXVsdEdlb21ldHJ5RnVuY3Rpb24oZmVhdHVyZSkge1xuICByZXR1cm4gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTdHlsZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9UZXh0XG4gKi9cbmltcG9ydCBGaWxsIGZyb20gJy4vRmlsbC5qcyc7XG5pbXBvcnQge3RvU2l6ZX0gZnJvbSAnLi4vc2l6ZS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYgeydwb2ludCcgfCAnbGluZSd9IFRleHRQbGFjZW1lbnRcbiAqIERlZmF1bHQgdGV4dCBwbGFjZW1lbnQgaXMgYCdwb2ludCdgLiBOb3RlIHRoYXRcbiAqIGAnbGluZSdgIHJlcXVpcmVzIHRoZSB1bmRlcmx5aW5nIGdlb21ldHJ5IHRvIGJlIGEge0BsaW5rIG1vZHVsZTpvbC9nZW9tL0xpbmVTdHJpbmd+TGluZVN0cmluZ30sXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2dlb20vUG9seWdvbn5Qb2x5Z29ufSwge0BsaW5rIG1vZHVsZTpvbC9nZW9tL011bHRpTGluZVN0cmluZ35NdWx0aUxpbmVTdHJpbmd9IG9yXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2dlb20vTXVsdGlQb2x5Z29ufk11bHRpUG9seWdvbn0uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7J2xlZnQnIHwgJ2NlbnRlcicgfCAncmlnaHQnfSBUZXh0SnVzdGlmeVxuICovXG5cbi8qKlxuICogVGhlIGRlZmF1bHQgZmlsbCBjb2xvciB0byB1c2UgaWYgbm8gZmlsbCB3YXMgc2V0IGF0IGNvbnN0cnVjdGlvbiB0aW1lOyBhXG4gKiBibGFja2lzaCBgIzMzM2AuXG4gKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbmNvbnN0IERFRkFVTFRfRklMTF9DT0xPUiA9ICcjMzMzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2ZvbnRdIEZvbnQgc3R5bGUgYXMgQ1NTIGBmb250YCB2YWx1ZSwgc2VlOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9mb250LiBEZWZhdWx0IGlzIGAnMTBweCBzYW5zLXNlcmlmJ2BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4QW5nbGU9TWF0aC5QSS80XSBXaGVuIGBwbGFjZW1lbnRgIGlzIHNldCB0byBgJ2xpbmUnYCwgYWxsb3cgYSBtYXhpbXVtIGFuZ2xlIGJldHdlZW4gYWRqYWNlbnQgY2hhcmFjdGVycy5cbiAqIFRoZSBleHBlY3RlZCB2YWx1ZSBpcyBpbiByYWRpYW5zLCBhbmQgdGhlIGRlZmF1bHQgaXMgNDXCsCAoYE1hdGguUEkgLyA0YCkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29mZnNldFg9MF0gSG9yaXpvbnRhbCB0ZXh0IG9mZnNldCBpbiBwaXhlbHMuIEEgcG9zaXRpdmUgd2lsbCBzaGlmdCB0aGUgdGV4dCByaWdodC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb2Zmc2V0WT0wXSBWZXJ0aWNhbCB0ZXh0IG9mZnNldCBpbiBwaXhlbHMuIEEgcG9zaXRpdmUgd2lsbCBzaGlmdCB0aGUgdGV4dCBkb3duLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3ZlcmZsb3c9ZmFsc2VdIEZvciBwb2x5Z29uIGxhYmVscyBvciB3aGVuIGBwbGFjZW1lbnRgIGlzIHNldCB0byBgJ2xpbmUnYCwgYWxsb3cgdGV4dCB0byBleGNlZWRcbiAqIHRoZSB3aWR0aCBvZiB0aGUgcG9seWdvbiBhdCB0aGUgbGFiZWwgcG9zaXRpb24gb3IgdGhlIGxlbmd0aCBvZiB0aGUgcGF0aCB0aGF0IGl0IGZvbGxvd3MuXG4gKiBAcHJvcGVydHkge1RleHRQbGFjZW1lbnR9IFtwbGFjZW1lbnQ9J3BvaW50J10gVGV4dCBwbGFjZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzY2FsZV0gU2NhbGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyb3RhdGVXaXRoVmlldz1mYWxzZV0gV2hldGhlciB0byByb3RhdGUgdGhlIHRleHQgd2l0aCB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb249MF0gUm90YXRpb24gaW4gcmFkaWFucyAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlKS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfEFycmF5PHN0cmluZz59IFt0ZXh0XSBUZXh0IGNvbnRlbnQgb3IgcmljaCB0ZXh0IGNvbnRlbnQuIEZvciBwbGFpbiB0ZXh0IHByb3ZpZGUgYSBzdHJpbmcsIHdoaWNoIGNhblxuICogY29udGFpbiBsaW5lIGJyZWFrcyAoYFxcbmApLiBGb3IgcmljaCB0ZXh0IHByb3ZpZGUgYW4gYXJyYXkgb2YgdGV4dC9mb250IHR1cGxlcy4gQSB0dXBsZSBjb25zaXN0cyBvZiB0aGUgdGV4dCB0b1xuICogcmVuZGVyIGFuZCB0aGUgZm9udCB0byB1c2UgKG9yIGAnJ2AgdG8gdXNlIHRoZSB0ZXh0IHN0eWxlJ3MgZm9udCkuIEEgbGluZSBicmVhayBoYXMgdG8gYmUgYSBzZXBhcmF0ZSB0dXBsZSAoaS5lLiBgJ1xcbicsICcnYCkuXG4gKiAqKkV4YW1wbGU6KiogYFsnZm9vJywgJ2JvbGQgMTBweCBzYW5zLXNlcmlmJywgJyBiYXInLCAnaXRhbGljIDEwcHggc2Fucy1zZXJpZicsICcgYmF6JywgJyddYCB3aWxsIHlpZWxkIFwiKipmb28qKiAqYmFyKiBiYXpcIi5cbiAqICoqTm90ZToqKiBSaWNoIHRleHQgaXMgbm90IHN1cHBvcnRlZCBmb3IgdGhlIGltbWVkaWF0ZSByZW5kZXJpbmcgQVBJLlxuICogQHByb3BlcnR5IHtDYW52YXNUZXh0QWxpZ259IFt0ZXh0QWxpZ25dIFRleHQgYWxpZ25tZW50LiBQb3NzaWJsZSB2YWx1ZXM6IGAnbGVmdCdgLCBgJ3JpZ2h0J2AsIGAnY2VudGVyJ2AsIGAnZW5kJ2Agb3IgYCdzdGFydCdgLlxuICogRGVmYXVsdCBpcyBgJ2NlbnRlcidgIGZvciBgcGxhY2VtZW50OiAncG9pbnQnYC4gRm9yIGBwbGFjZW1lbnQ6ICdsaW5lJ2AsIHRoZSBkZWZhdWx0IGlzIHRvIGxldCB0aGUgcmVuZGVyZXIgY2hvb3NlIGFcbiAqIHBsYWNlbWVudCB3aGVyZSBgbWF4QW5nbGVgIGlzIG5vdCBleGNlZWRlZC5cbiAqIEBwcm9wZXJ0eSB7VGV4dEp1c3RpZnl9IFtqdXN0aWZ5XSBUZXh0IGp1c3RpZmljYXRpb24gd2l0aGluIHRoZSB0ZXh0IGJveC5cbiAqIElmIG5vdCBzZXQsIHRleHQgaXMganVzdGlmaWVkIHRvd2FyZHMgdGhlIGB0ZXh0QWxpZ25gIGFuY2hvci5cbiAqIE90aGVyd2lzZSwgdXNlIG9wdGlvbnMgYCdsZWZ0J2AsIGAnY2VudGVyJ2AsIG9yIGAncmlnaHQnYCB0byBqdXN0aWZ5IHRoZSB0ZXh0IHdpdGhpbiB0aGUgdGV4dCBib3guXG4gKiAqKk5vdGU6KiogYGp1c3RpZnlgIGlzIGlnbm9yZWQgZm9yIGltbWVkaWF0ZSByZW5kZXJpbmcgYW5kIGFsc28gZm9yIGBwbGFjZW1lbnQ6ICdsaW5lJ2AuXG4gKiBAcHJvcGVydHkge0NhbnZhc1RleHRCYXNlbGluZX0gW3RleHRCYXNlbGluZT0nbWlkZGxlJ10gVGV4dCBiYXNlIGxpbmUuIFBvc3NpYmxlIHZhbHVlczogYCdib3R0b20nYCwgYCd0b3AnYCwgYCdtaWRkbGUnYCwgYCdhbHBoYWJldGljJ2AsXG4gKiBgJ2hhbmdpbmcnYCwgYCdpZGVvZ3JhcGhpYydgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gW2ZpbGxdIEZpbGwgc3R5bGUuIElmIG5vbmUgaXMgcHJvdmlkZWQsIHdlJ2xsIHVzZSBhIGRhcmsgZmlsbC1zdHlsZSAoIzMzMykuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtzdHJva2VdIFN0cm9rZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IFtiYWNrZ3JvdW5kRmlsbF0gRmlsbCBzdHlsZSBmb3IgdGhlIHRleHQgYmFja2dyb3VuZCB3aGVuIGBwbGFjZW1lbnRgIGlzXG4gKiBgJ3BvaW50J2AuIERlZmF1bHQgaXMgbm8gZmlsbC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gW2JhY2tncm91bmRTdHJva2VdIFN0cm9rZSBzdHlsZSBmb3IgdGhlIHRleHQgYmFja2dyb3VuZCAgd2hlbiBgcGxhY2VtZW50YFxuICogaXMgYCdwb2ludCdgLiBEZWZhdWx0IGlzIG5vIHN0cm9rZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3BhZGRpbmc9WzAsIDAsIDAsIDBdXSBQYWRkaW5nIGluIHBpeGVscyBhcm91bmQgdGhlIHRleHQgZm9yIGRlY2x1dHRlcmluZyBhbmQgYmFja2dyb3VuZC4gVGhlIG9yZGVyIG9mXG4gKiB2YWx1ZXMgaW4gdGhlIGFycmF5IGlzIGBbdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XWAuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgdGV4dCBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLlxuICogQGFwaVxuICovXG5jbGFzcyBUZXh0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuZm9udF8gPSBvcHRpb25zLmZvbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucm90YXRpb25fID0gb3B0aW9ucy5yb3RhdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucm90YXRlV2l0aFZpZXdfID0gb3B0aW9ucy5yb3RhdGVXaXRoVmlldztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuc2NhbGVfID0gb3B0aW9ucy5zY2FsZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLnNjYWxlQXJyYXlfID0gdG9TaXplKG9wdGlvbnMuc2NhbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2NhbGUgOiAxKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ3xBcnJheTxzdHJpbmc+fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRfID0gb3B0aW9ucy50ZXh0O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Q2FudmFzVGV4dEFsaWdufHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRBbGlnbl8gPSBvcHRpb25zLnRleHRBbGlnbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1RleHRKdXN0aWZ5fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmp1c3RpZnlfID0gb3B0aW9ucy5qdXN0aWZ5O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Q2FudmFzVGV4dEJhc2VsaW5lfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRCYXNlbGluZV8gPSBvcHRpb25zLnRleHRCYXNlbGluZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuZmlsbF8gPVxuICAgICAgb3B0aW9ucy5maWxsICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLmZpbGxcbiAgICAgICAgOiBuZXcgRmlsbCh7Y29sb3I6IERFRkFVTFRfRklMTF9DT0xPUn0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4QW5nbGVfID1cbiAgICAgIG9wdGlvbnMubWF4QW5nbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4QW5nbGUgOiBNYXRoLlBJIC8gNDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1RleHRQbGFjZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5wbGFjZW1lbnRfID1cbiAgICAgIG9wdGlvbnMucGxhY2VtZW50ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBsYWNlbWVudCA6ICdwb2ludCc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMub3ZlcmZsb3dfID0gISFvcHRpb25zLm92ZXJmbG93O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnN0cm9rZV8gPSBvcHRpb25zLnN0cm9rZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdHJva2UgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMub2Zmc2V0WF8gPSBvcHRpb25zLm9mZnNldFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub2Zmc2V0WCA6IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5vZmZzZXRZXyA9IG9wdGlvbnMub2Zmc2V0WSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vZmZzZXRZIDogMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuYmFja2dyb3VuZEZpbGxfID0gb3B0aW9ucy5iYWNrZ3JvdW5kRmlsbFxuICAgICAgPyBvcHRpb25zLmJhY2tncm91bmRGaWxsXG4gICAgICA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuYmFja2dyb3VuZFN0cm9rZV8gPSBvcHRpb25zLmJhY2tncm91bmRTdHJva2VcbiAgICAgID8gb3B0aW9ucy5iYWNrZ3JvdW5kU3Ryb2tlXG4gICAgICA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fG51bGx9XG4gICAgICovXG4gICAgdGhpcy5wYWRkaW5nXyA9IG9wdGlvbnMucGFkZGluZyA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG9wdGlvbnMucGFkZGluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHN0eWxlLlxuICAgKiBAcmV0dXJuIHtUZXh0fSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICByZXR1cm4gbmV3IFRleHQoe1xuICAgICAgZm9udDogdGhpcy5nZXRGb250KCksXG4gICAgICBwbGFjZW1lbnQ6IHRoaXMuZ2V0UGxhY2VtZW50KCksXG4gICAgICBtYXhBbmdsZTogdGhpcy5nZXRNYXhBbmdsZSgpLFxuICAgICAgb3ZlcmZsb3c6IHRoaXMuZ2V0T3ZlcmZsb3coKSxcbiAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICByb3RhdGVXaXRoVmlldzogdGhpcy5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgc2NhbGU6IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGUuc2xpY2UoKSA6IHNjYWxlLFxuICAgICAgdGV4dDogdGhpcy5nZXRUZXh0KCksXG4gICAgICB0ZXh0QWxpZ246IHRoaXMuZ2V0VGV4dEFsaWduKCksXG4gICAgICBqdXN0aWZ5OiB0aGlzLmdldEp1c3RpZnkoKSxcbiAgICAgIHRleHRCYXNlbGluZTogdGhpcy5nZXRUZXh0QmFzZWxpbmUoKSxcbiAgICAgIGZpbGw6IHRoaXMuZ2V0RmlsbCgpID8gdGhpcy5nZXRGaWxsKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgIHN0cm9rZTogdGhpcy5nZXRTdHJva2UoKSA/IHRoaXMuZ2V0U3Ryb2tlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgIG9mZnNldFg6IHRoaXMuZ2V0T2Zmc2V0WCgpLFxuICAgICAgb2Zmc2V0WTogdGhpcy5nZXRPZmZzZXRZKCksXG4gICAgICBiYWNrZ3JvdW5kRmlsbDogdGhpcy5nZXRCYWNrZ3JvdW5kRmlsbCgpXG4gICAgICAgID8gdGhpcy5nZXRCYWNrZ3JvdW5kRmlsbCgpLmNsb25lKClcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICBiYWNrZ3JvdW5kU3Ryb2tlOiB0aGlzLmdldEJhY2tncm91bmRTdHJva2UoKVxuICAgICAgICA/IHRoaXMuZ2V0QmFja2dyb3VuZFN0cm9rZSgpLmNsb25lKClcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICBwYWRkaW5nOiB0aGlzLmdldFBhZGRpbmcoKSB8fCB1bmRlZmluZWQsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBgb3ZlcmZsb3dgIGNvbmZpZ3VyYXRpb24uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IExldCB0ZXh0IG92ZXJmbG93IHRoZSBsZW5ndGggb2YgdGhlIHBhdGggdGhleSBmb2xsb3cuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE92ZXJmbG93KCkge1xuICAgIHJldHVybiB0aGlzLm92ZXJmbG93XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZvbnQgbmFtZS5cbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gRm9udC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Rm9udCgpIHtcbiAgICByZXR1cm4gdGhpcy5mb250XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1heGltdW0gYW5nbGUgYmV0d2VlbiBhZGphY2VudCBjaGFyYWN0ZXJzLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFuZ2xlIGluIHJhZGlhbnMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1heEFuZ2xlKCkge1xuICAgIHJldHVybiB0aGlzLm1heEFuZ2xlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxhYmVsIHBsYWNlbWVudC5cbiAgICogQHJldHVybiB7VGV4dFBsYWNlbWVudH0gVGV4dCBwbGFjZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFBsYWNlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5wbGFjZW1lbnRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgeC1vZmZzZXQgZm9yIHRoZSB0ZXh0LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEhvcml6b250YWwgdGV4dCBvZmZzZXQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE9mZnNldFgoKSB7XG4gICAgcmV0dXJuIHRoaXMub2Zmc2V0WF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB5LW9mZnNldCBmb3IgdGhlIHRleHQuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVmVydGljYWwgdGV4dCBvZmZzZXQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE9mZnNldFkoKSB7XG4gICAgcmV0dXJuIHRoaXMub2Zmc2V0WV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBmaWxsIHN0eWxlIGZvciB0aGUgdGV4dC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IEZpbGwgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEZpbGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmlsbF87XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHRleHQgcm90YXRlcyB3aXRoIHRoZSBtYXAuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW58dW5kZWZpbmVkfSBSb3RhdGUgd2l0aCBtYXAuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJvdGF0ZVdpdGhWaWV3KCkge1xuICAgIHJldHVybiB0aGlzLnJvdGF0ZVdpdGhWaWV3XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRleHQgcm90YXRpb24uXG4gICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRSb3RhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5yb3RhdGlvbl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0ZXh0IHNjYWxlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH0gU2NhbGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFNjYWxlKCkge1xuICAgIHJldHVybiB0aGlzLnNjYWxlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN5bWJvbGl6ZXIgc2NhbGUgYXJyYXkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gU2NhbGUgYXJyYXkuXG4gICAqL1xuICBnZXRTY2FsZUFycmF5KCkge1xuICAgIHJldHVybiB0aGlzLnNjYWxlQXJyYXlfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3Ryb2tlIHN0eWxlIGZvciB0aGUgdGV4dC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gU3Ryb2tlIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRTdHJva2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3Ryb2tlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRleHQgdG8gYmUgcmVuZGVyZWQuXG4gICAqIEByZXR1cm4ge3N0cmluZ3xBcnJheTxzdHJpbmc+fHVuZGVmaW5lZH0gVGV4dC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRleHQgYWxpZ25tZW50LlxuICAgKiBAcmV0dXJuIHtDYW52YXNUZXh0QWxpZ258dW5kZWZpbmVkfSBUZXh0IGFsaWduLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUZXh0QWxpZ24oKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dEFsaWduXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGp1c3RpZmljYXRpb24uXG4gICAqIEByZXR1cm4ge1RleHRKdXN0aWZ5fHVuZGVmaW5lZH0gSnVzdGlmaWNhdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0SnVzdGlmeSgpIHtcbiAgICByZXR1cm4gdGhpcy5qdXN0aWZ5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRleHQgYmFzZWxpbmUuXG4gICAqIEByZXR1cm4ge0NhbnZhc1RleHRCYXNlbGluZXx1bmRlZmluZWR9IFRleHQgYmFzZWxpbmUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRleHRCYXNlbGluZSgpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0QmFzZWxpbmVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYmFja2dyb3VuZCBmaWxsIHN0eWxlIGZvciB0aGUgdGV4dC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IEZpbGwgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEJhY2tncm91bmRGaWxsKCkge1xuICAgIHJldHVybiB0aGlzLmJhY2tncm91bmRGaWxsXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGJhY2tncm91bmQgc3Ryb2tlIHN0eWxlIGZvciB0aGUgdGV4dC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gU3Ryb2tlIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRCYWNrZ3JvdW5kU3Ryb2tlKCkge1xuICAgIHJldHVybiB0aGlzLmJhY2tncm91bmRTdHJva2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGFkZGluZyBmb3IgdGhlIHRleHQuXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj58bnVsbH0gUGFkZGluZy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UGFkZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5wYWRkaW5nXztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGBvdmVyZmxvd2AgcHJvcGVydHkuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3ZlcmZsb3cgTGV0IHRleHQgb3ZlcmZsb3cgdGhlIHBhdGggdGhhdCBpdCBmb2xsb3dzLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRPdmVyZmxvdyhvdmVyZmxvdykge1xuICAgIHRoaXMub3ZlcmZsb3dfID0gb3ZlcmZsb3c7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBmb250LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IGZvbnQgRm9udC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Rm9udChmb250KSB7XG4gICAgdGhpcy5mb250XyA9IGZvbnQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBtYXhpbXVtIGFuZ2xlIGJldHdlZW4gYWRqYWNlbnQgY2hhcmFjdGVycy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heEFuZ2xlIEFuZ2xlIGluIHJhZGlhbnMuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE1heEFuZ2xlKG1heEFuZ2xlKSB7XG4gICAgdGhpcy5tYXhBbmdsZV8gPSBtYXhBbmdsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHggb2Zmc2V0LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WCBIb3Jpem9udGFsIHRleHQgb2Zmc2V0LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRPZmZzZXRYKG9mZnNldFgpIHtcbiAgICB0aGlzLm9mZnNldFhfID0gb2Zmc2V0WDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHkgb2Zmc2V0LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WSBWZXJ0aWNhbCB0ZXh0IG9mZnNldC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0T2Zmc2V0WShvZmZzZXRZKSB7XG4gICAgdGhpcy5vZmZzZXRZXyA9IG9mZnNldFk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB0ZXh0IHBsYWNlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtUZXh0UGxhY2VtZW50fSBwbGFjZW1lbnQgUGxhY2VtZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gICAgdGhpcy5wbGFjZW1lbnRfID0gcGxhY2VtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB3aGV0aGVyIHRvIHJvdGF0ZSB0aGUgdGV4dCB3aXRoIHRoZSB2aWV3LlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvdGF0ZVdpdGhWaWV3IFJvdGF0ZSB3aXRoIG1hcC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Um90YXRlV2l0aFZpZXcocm90YXRlV2l0aFZpZXcpIHtcbiAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IHJvdGF0ZVdpdGhWaWV3O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZmlsbC5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gZmlsbCBGaWxsIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRGaWxsKGZpbGwpIHtcbiAgICB0aGlzLmZpbGxfID0gZmlsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHJvdGF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRSb3RhdGlvbihyb3RhdGlvbikge1xuICAgIHRoaXMucm90YXRpb25fID0gcm90YXRpb247XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzY2FsZS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH0gc2NhbGUgU2NhbGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFNjYWxlKHNjYWxlKSB7XG4gICAgdGhpcy5zY2FsZV8gPSBzY2FsZTtcbiAgICB0aGlzLnNjYWxlQXJyYXlfID0gdG9TaXplKHNjYWxlICE9PSB1bmRlZmluZWQgPyBzY2FsZSA6IDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc3Ryb2tlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZSBTdHJva2Ugc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFN0cm9rZShzdHJva2UpIHtcbiAgICB0aGlzLnN0cm9rZV8gPSBzdHJva2U7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB0ZXh0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fHVuZGVmaW5lZH0gdGV4dCBUZXh0LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRUZXh0KHRleHQpIHtcbiAgICB0aGlzLnRleHRfID0gdGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRleHQgYWxpZ25tZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0NhbnZhc1RleHRBbGlnbnx1bmRlZmluZWR9IHRleHRBbGlnbiBUZXh0IGFsaWduLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRUZXh0QWxpZ24odGV4dEFsaWduKSB7XG4gICAgdGhpcy50ZXh0QWxpZ25fID0gdGV4dEFsaWduO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUganVzdGlmaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtUZXh0SnVzdGlmeXx1bmRlZmluZWR9IGp1c3RpZnkgSnVzdGlmaWNhdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0SnVzdGlmeShqdXN0aWZ5KSB7XG4gICAgdGhpcy5qdXN0aWZ5XyA9IGp1c3RpZnk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB0ZXh0IGJhc2VsaW5lLlxuICAgKlxuICAgKiBAcGFyYW0ge0NhbnZhc1RleHRCYXNlbGluZXx1bmRlZmluZWR9IHRleHRCYXNlbGluZSBUZXh0IGJhc2VsaW5lLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRUZXh0QmFzZWxpbmUodGV4dEJhc2VsaW5lKSB7XG4gICAgdGhpcy50ZXh0QmFzZWxpbmVfID0gdGV4dEJhc2VsaW5lO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYmFja2dyb3VuZCBmaWxsLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsIEZpbGwgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEJhY2tncm91bmRGaWxsKGZpbGwpIHtcbiAgICB0aGlzLmJhY2tncm91bmRGaWxsXyA9IGZpbGw7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBiYWNrZ3JvdW5kIHN0cm9rZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBzdHJva2UgU3Ryb2tlIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRCYWNrZ3JvdW5kU3Ryb2tlKHN0cm9rZSkge1xuICAgIHRoaXMuYmFja2dyb3VuZFN0cm9rZV8gPSBzdHJva2U7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBwYWRkaW5nIChgW3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdF1gKS5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fG51bGx9IHBhZGRpbmcgUGFkZGluZy5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0UGFkZGluZyhwYWRkaW5nKSB7XG4gICAgdGhpcy5wYWRkaW5nXyA9IHBhZGRpbmc7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGV4dDtcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidCIsInIiLCJlIiwiYSIsImgiLCJuIiwibyIsInMiLCJsIiwiTWF0aCIsImxvZyIsImYiLCJleHAiLCJ1Iiwic3FydCIsIm1heCIsImZsb29yIiwibWluIiwicCIsImQiLCJ4IiwiaSIsImxlbmd0aCIsInRoaXMiLCJfbWF4RW50cmllcyIsIl9taW5FbnRyaWVzIiwiY2VpbCIsImNsZWFyIiwiaW5kZXhPZiIsImNoaWxkcmVuIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsImxlYWYiLCJtIiwiYyIsImhlaWdodCIsInBvcCIsInB1c2giLCJwcm90b3R5cGUiLCJhbGwiLCJfYWxsIiwiZGF0YSIsInNlYXJjaCIsInRvQkJveCIsImNvbGxpZGVzIiwibG9hZCIsImluc2VydCIsIl9idWlsZCIsInNsaWNlIiwiX3NwbGl0Um9vdCIsIl9pbnNlcnQiLCJyZW1vdmUiLCJzcGxpY2UiLCJfY29uZGVuc2UiLCJjb21wYXJlTWluWCIsImNvbXBhcmVNaW5ZIiwidG9KU09OIiwiZnJvbUpTT04iLCJhcHBseSIsInBvdyIsIl9jaG9vc2VTdWJ0cmVlIiwiX3NwbGl0IiwiX2FkanVzdFBhcmVudEJCb3hlcyIsIl9jaG9vc2VTcGxpdEF4aXMiLCJfY2hvb3NlU3BsaXRJbmRleCIsInYiLCJNIiwiX2FsbERpc3RNYXJnaW4iLCJzb3J0IiwiYXNDb2xvckxpa2UiLCJjb2xvciIsIkFycmF5IiwiaXNBcnJheSIsInRhaW50ZWRUZXN0Q29udGV4dCIsIkljb25JbWFnZSIsImNvbnN0cnVjdG9yIiwiaW1hZ2UiLCJzcmMiLCJzaXplIiwiY3Jvc3NPcmlnaW4iLCJpbWFnZVN0YXRlIiwic3VwZXIiLCJoaXREZXRlY3Rpb25JbWFnZV8iLCJpbWFnZV8iLCJjcm9zc09yaWdpbl8iLCJjYW52YXNfIiwiY29sb3JfIiwidW5saXN0ZW5fIiwiaW1hZ2VTdGF0ZV8iLCJzaXplXyIsInNyY18iLCJ0YWludGVkXyIsImluaXRpYWxpemVJbWFnZV8iLCJJbWFnZSIsImlzVGFpbnRlZF8iLCJ1bmRlZmluZWQiLCJJbWFnZVN0YXRlIiwid2lsbFJlYWRGcmVxdWVudGx5IiwiZHJhd0ltYWdlIiwiZ2V0SW1hZ2VEYXRhIiwiZGlzcGF0Y2hDaGFuZ2VFdmVudF8iLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnRUeXBlIiwiaGFuZGxlSW1hZ2VFcnJvcl8iLCJ1bmxpc3RlbkltYWdlXyIsImhhbmRsZUltYWdlTG9hZF8iLCJ3aWR0aCIsImdldEltYWdlIiwicGl4ZWxSYXRpbyIsInJlcGxhY2VDb2xvcl8iLCJnZXRQaXhlbFJhdGlvIiwiZ2V0SW1hZ2VTdGF0ZSIsImdldEhpdERldGVjdGlvbkltYWdlIiwiY29udGV4dCIsImZpbGxSZWN0IiwiY2FudmFzIiwiZ2V0U2l6ZSIsImdldFNyYyIsImJpbmQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0Iiwic2NhbGUiLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJmaWxsU3R5bGUiLCJJY29uIiwib3B0aW9ucyIsIm9wYWNpdHkiLCJyb3RhdGlvbiIsInJvdGF0ZVdpdGhWaWV3IiwiZGlzcGxhY2VtZW50IiwiZGVjbHV0dGVyTW9kZSIsImFuY2hvcl8iLCJhbmNob3IiLCJub3JtYWxpemVkQW5jaG9yXyIsImFuY2hvck9yaWdpbl8iLCJhbmNob3JPcmlnaW4iLCJhbmNob3JYVW5pdHNfIiwiYW5jaG9yWFVuaXRzIiwiYW5jaG9yWVVuaXRzXyIsImFuY2hvcllVbml0cyIsImltZyIsImltZ1NpemVfIiwiaW1nU2l6ZSIsImljb25JbWFnZV8iLCJpY29uSW1hZ2UiLCJnZXQiLCJvZmZzZXRfIiwib2Zmc2V0Iiwib2Zmc2V0T3JpZ2luXyIsIm9mZnNldE9yaWdpbiIsIm9yaWdpbl8iLCJ3aWR0aF8iLCJoZWlnaHRfIiwic2V0U2NhbGUiLCJ1cGRhdGVTY2FsZUZyb21XaWR0aEFuZEhlaWdodCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbG9uZSIsImdldFNjYWxlIiwiZ2V0T3BhY2l0eSIsImdldFJvdGF0ZVdpdGhWaWV3IiwiZ2V0Um90YXRpb24iLCJnZXREaXNwbGFjZW1lbnQiLCJnZXREZWNsdXR0ZXJNb2RlIiwiZ2V0QW5jaG9yIiwiZ2V0U2NhbGVBcnJheSIsInNldEFuY2hvciIsImdldENvbG9yIiwiZ2V0SW1hZ2VTaXplIiwiZ2V0T3JpZ2luIiwiaWNvbkltYWdlU2l6ZSIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0Iiwic2V0V2lkdGgiLCJzZXRIZWlnaHQiLCJ3aWR0aFNjYWxlIiwiaGVpZ2h0U2NhbGUiLCJsaXN0ZW5JbWFnZUNoYW5nZSIsImxpc3RlbmVyIiwidW5saXN0ZW5JbWFnZUNoYW5nZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0b1N0eWxlIiwiZmxhdFN0eWxlIiwiU3R5bGUiLCJmaWxsIiwiZ2V0RmlsbCIsInN0cm9rZSIsImdldFN0cm9rZSIsInRleHQiLCJnZXRUZXh0IiwicHJlZml4IiwiRmlsbCIsIlN0cm9rZSIsImxpbmVDYXAiLCJsaW5lSm9pbiIsImxpbmVEYXNoIiwibGluZURhc2hPZmZzZXQiLCJtaXRlckxpbWl0IiwidmFsdWUiLCJUZXh0IiwiZm9udCIsIm1heEFuZ2xlIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJvdmVyZmxvdyIsInBsYWNlbWVudCIsInRleHRBbGlnbiIsImp1c3RpZnkiLCJ0ZXh0QmFzZWxpbmUiLCJwYWRkaW5nIiwiYmFja2dyb3VuZEZpbGwiLCJiYWNrZ3JvdW5kU3Ryb2tlIiwiaWNvblNyYyIsImljb25JbWciLCJzaGFwZVBvaW50cyIsIlJlZ3VsYXJTaGFwZSIsInBvaW50cyIsInJhZGl1cyIsInJhZGl1czEiLCJyYWRpdXMyIiwiYW5nbGUiLCJjaXJjbGVSYWRpdXMiLCJDaXJjbGUiLCJQcm9wZXJ0eSIsIkJhc2VWZWN0b3JMYXllciIsIkxheWVyIiwiYmFzZU9wdGlvbnMiLCJPYmplY3QiLCJhc3NpZ24iLCJzdHlsZSIsInJlbmRlckJ1ZmZlciIsInVwZGF0ZVdoaWxlQW5pbWF0aW5nIiwidXBkYXRlV2hpbGVJbnRlcmFjdGluZyIsImRlY2x1dHRlcl8iLCJkZWNsdXR0ZXIiLCJyZW5kZXJCdWZmZXJfIiwic3R5bGVfIiwic3R5bGVGdW5jdGlvbl8iLCJzZXRTdHlsZSIsInVwZGF0ZVdoaWxlQW5pbWF0aW5nXyIsInVwZGF0ZVdoaWxlSW50ZXJhY3RpbmdfIiwiZ2V0RGVjbHV0dGVyIiwiZ2V0RmVhdHVyZXMiLCJwaXhlbCIsImdldFJlbmRlckJ1ZmZlciIsImdldFJlbmRlck9yZGVyIiwiZ2V0U3R5bGUiLCJnZXRTdHlsZUZ1bmN0aW9uIiwiZ2V0VXBkYXRlV2hpbGVBbmltYXRpbmciLCJnZXRVcGRhdGVXaGlsZUludGVyYWN0aW5nIiwicmVuZGVyRGVjbHV0dGVyIiwiZnJhbWVTdGF0ZSIsImRlY2x1dHRlclRyZWUiLCJnZXRSZW5kZXJlciIsInNldFJlbmRlck9yZGVyIiwicmVuZGVyT3JkZXIiLCJzZXQiLCJzdHlsZUxpa2UiLCJsZW4iLCJzdHlsZXMiLCJjaGFuZ2VkIiwiSW5zdHJ1Y3Rpb24iLCJCRUdJTl9HRU9NRVRSWSIsIkJFR0lOX1BBVEgiLCJDSVJDTEUiLCJDTE9TRV9QQVRIIiwiQ1VTVE9NIiwiRFJBV19DSEFSUyIsIkRSQVdfSU1BR0UiLCJFTkRfR0VPTUVUUlkiLCJGSUxMIiwiTU9WRV9UT19MSU5FX1RPIiwiU0VUX0ZJTExfU1RZTEUiLCJTRVRfU1RST0tFX1NUWUxFIiwiU1RST0tFIiwiZmlsbEluc3RydWN0aW9uIiwic3Ryb2tlSW5zdHJ1Y3Rpb24iLCJiZWdpblBhdGhJbnN0cnVjdGlvbiIsImNsb3NlUGF0aEluc3RydWN0aW9uIiwiZHJhd0N1c3RvbSIsImdlb21ldHJ5IiwiZmVhdHVyZSIsInJlbmRlcmVyIiwiaGl0RGV0ZWN0aW9uUmVuZGVyZXIiLCJkcmF3R2VvbWV0cnkiLCJkcmF3Q2lyY2xlIiwiY2lyY2xlR2VvbWV0cnkiLCJkcmF3RmVhdHVyZSIsImRyYXdHZW9tZXRyeUNvbGxlY3Rpb24iLCJnZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSIsImRyYXdMaW5lU3RyaW5nIiwibGluZVN0cmluZ0dlb21ldHJ5IiwiZHJhd011bHRpTGluZVN0cmluZyIsIm11bHRpTGluZVN0cmluZ0dlb21ldHJ5IiwiZHJhd011bHRpUG9pbnQiLCJtdWx0aVBvaW50R2VvbWV0cnkiLCJkcmF3TXVsdGlQb2x5Z29uIiwibXVsdGlQb2x5Z29uR2VvbWV0cnkiLCJkcmF3UG9pbnQiLCJwb2ludEdlb21ldHJ5IiwiZHJhd1BvbHlnb24iLCJwb2x5Z29uR2VvbWV0cnkiLCJkcmF3VGV4dCIsInNldEZpbGxTdHJva2VTdHlsZSIsInN0cm9rZVN0eWxlIiwic2V0SW1hZ2VTdHlsZSIsImltYWdlU3R5bGUiLCJkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0Iiwic2V0VGV4dFN0eWxlIiwidGV4dFN0eWxlIiwidG9sZXJhbmNlIiwibWF4RXh0ZW50IiwicmVzb2x1dGlvbiIsIm1heExpbmVXaWR0aCIsImJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfIiwiYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8iLCJidWZmZXJlZE1heEV4dGVudF8iLCJpbnN0cnVjdGlvbnMiLCJjb29yZGluYXRlcyIsInRtcENvb3JkaW5hdGVfIiwiaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zIiwic3RhdGUiLCJhcHBseVBpeGVsUmF0aW8iLCJkYXNoQXJyYXkiLCJtYXAiLCJkYXNoIiwiYXBwZW5kRmxhdFBvaW50Q29vcmRpbmF0ZXMiLCJmbGF0Q29vcmRpbmF0ZXMiLCJzdHJpZGUiLCJleHRlbnQiLCJnZXRCdWZmZXJlZE1heEV4dGVudCIsInRtcENvb3JkIiwibXlFbmQiLCJpaSIsImFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMiLCJlbmQiLCJjbG9zZWQiLCJza2lwRmlyc3QiLCJsYXN0WENvb3JkIiwibGFzdFlDb29yZCIsIm5leHRDb29yZCIsImxhc3RSZWwiLCJuZXh0UmVsIiwic2tpcHBlZCIsIlJlbGF0aW9uc2hpcCIsImRyYXdDdXN0b21Db29yZGluYXRlc18iLCJlbmRzIiwiYnVpbGRlckVuZHMiLCJidWlsZGVyRW5kIiwiYmVnaW5HZW9tZXRyeSIsInR5cGUiLCJnZXRUeXBlIiwiZ2V0U3RyaWRlIiwiYnVpbGRlckJlZ2luIiwiYnVpbGRlckVuZHNzIiwiZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMiLCJlbmRzcyIsImdldEVuZHNzIiwibXlFbmRzIiwiaW5mbGF0ZSIsImdldEZsYXRDb29yZGluYXRlcyIsImdldEVuZHMiLCJlbmRHZW9tZXRyeSIsImZpbmlzaCIsInJldmVyc2VIaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMiLCJyZXZlcnNlIiwiaW5zdHJ1Y3Rpb24iLCJiZWdpbiIsImZpbGxTdHlsZUNvbG9yIiwic3Ryb2tlU3R5bGVDb2xvciIsInN0cm9rZVN0eWxlTGluZUNhcCIsImdldExpbmVDYXAiLCJzdHJva2VTdHlsZUxpbmVEYXNoIiwiZ2V0TGluZURhc2giLCJzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0IiwiZ2V0TGluZURhc2hPZmZzZXQiLCJzdHJva2VTdHlsZUxpbmVKb2luIiwiZ2V0TGluZUpvaW4iLCJzdHJva2VTdHlsZVdpZHRoIiwibGluZVdpZHRoIiwic3Ryb2tlU3R5bGVNaXRlckxpbWl0IiwiZ2V0TWl0ZXJMaW1pdCIsImNyZWF0ZUZpbGwiLCJhcHBseVN0cm9rZSIsImNyZWF0ZVN0cm9rZSIsInVwZGF0ZUZpbGxTdHlsZSIsImN1cnJlbnRGaWxsU3R5bGUiLCJjYWxsIiwidXBkYXRlU3Ryb2tlU3R5bGUiLCJjdXJyZW50U3Ryb2tlU3R5bGUiLCJjdXJyZW50TGluZUNhcCIsImN1cnJlbnRMaW5lRGFzaCIsImN1cnJlbnRMaW5lRGFzaE9mZnNldCIsImN1cnJlbnRMaW5lSm9pbiIsImN1cnJlbnRMaW5lV2lkdGgiLCJjdXJyZW50TWl0ZXJMaW1pdCIsImVuZEdlb21ldHJ5SW5zdHJ1Y3Rpb24iLCJkcmF3RmxhdENvb3JkaW5hdGVzc18iLCJudW1FbmRzIiwibXlCZWdpbiIsIm1vdmVUb0xpbmVUb0luc3RydWN0aW9uIiwic2V0RmlsbFN0cm9rZVN0eWxlc18iLCJjaXJjbGVJbnN0cnVjdGlvbiIsIm1hdGNoaW5nQ2h1bmsiLCJhY29zIiwibTEyIiwibTIzIiwieDEiLCJ5MSIsIngxMiIsInkxMiIsIngyMyIsInkyMyIsImNodW5rU3RhcnQiLCJjaHVua0VuZCIsImNodW5rTSIsInN0YXJ0IiwieDIiLCJ5MiIsIlRFWFRfQUxJR04iLCJCQVRDSF9DT05TVFJVQ1RPUlMiLCJQb2x5Z29uQnVpbGRlciIsIkJ1aWxkZXIiLCJpbWFnZVBpeGVsUmF0aW9fIiwiYW5jaG9yWF8iLCJhbmNob3JZXyIsIm9wYWNpdHlfIiwib3JpZ2luWF8iLCJvcmlnaW5ZXyIsInJvdGF0ZVdpdGhWaWV3XyIsInJvdGF0aW9uXyIsInNjYWxlXyIsImRlY2x1dHRlck1vZGVfIiwiZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8iLCJzaGFyZWREYXRhIiwib3JpZ2luIiwiZHJhd0ZsYXRDb29yZGluYXRlc18iLCJsYXN0U3Ryb2tlIiwibGFiZWxzXyIsInRleHRfIiwidGV4dE9mZnNldFhfIiwidGV4dE9mZnNldFlfIiwidGV4dFJvdGF0ZVdpdGhWaWV3XyIsInRleHRSb3RhdGlvbl8iLCJ0ZXh0RmlsbFN0YXRlXyIsImZpbGxTdGF0ZXMiLCJ0ZXh0U3Ryb2tlU3RhdGVfIiwic3Ryb2tlU3RhdGVzIiwidGV4dFN0YXRlXyIsInRleHRTdGF0ZXMiLCJ0ZXh0S2V5XyIsImZpbGxLZXlfIiwic3Ryb2tlS2V5XyIsImZpbGxTdGF0ZSIsInN0cm9rZVN0YXRlIiwidGV4dFN0YXRlIiwiZ2VvbWV0cnlUeXBlIiwiZ2VvbWV0cnlXaWR0aHMiLCJnZXRGbGF0TWlkcG9pbnQiLCJnZXRDZW50ZXIiLCJnZXRGbGF0TWlkcG9pbnRzIiwiZ2V0RmxhdEludGVyaW9yUG9pbnQiLCJpbnRlcmlvclBvaW50cyIsImdldEZsYXRJbnRlcmlvclBvaW50cyIsImJlZyIsImZpbHRlciIsInciLCJrZWVwIiwic2F2ZVRleHRTdGF0ZXNfIiwicDAiLCJwMSIsInAyIiwicDMiLCJOYU4iLCJnZXRFeHRlbnQiLCJmbGF0RW5kIiwiZmxhdE9mZnNldCIsIm9vIiwicmFuZ2UiLCJkcmF3Q2hhcnNfIiwic3Ryb2tlS2V5IiwidGV4dEtleSIsImZpbGxLZXkiLCJiYXNlbGluZSIsInN0cm9rZVdpZHRoIiwiYWJzIiwidGV4dEZpbGxTdHlsZSIsInRleHRTdHJva2VTdHlsZSIsImdldEZvbnQiLCJ0ZXh0U2NhbGUiLCJnZXRPdmVyZmxvdyIsImdldE1heEFuZ2xlIiwiZ2V0UGxhY2VtZW50IiwiZ2V0VGV4dEFsaWduIiwiZ2V0SnVzdGlmeSIsImdldFRleHRCYXNlbGluZSIsImdldEJhY2tncm91bmRGaWxsIiwiZ2V0QmFja2dyb3VuZFN0cm9rZSIsImdldFBhZGRpbmciLCJ0ZXh0T2Zmc2V0WCIsImdldE9mZnNldFgiLCJ0ZXh0T2Zmc2V0WSIsImdldE9mZnNldFkiLCJ0ZXh0Um90YXRlV2l0aFZpZXciLCJ0ZXh0Um90YXRpb24iLCJqb2luIiwidG9sZXJhbmNlXyIsIm1heEV4dGVudF8iLCJwaXhlbFJhdGlvXyIsInJlc29sdXRpb25fIiwiYnVpbGRlcnNCeVpJbmRleF8iLCJidWlsZGVySW5zdHJ1Y3Rpb25zIiwiektleSIsImJ1aWxkZXJzIiwiYnVpbGRlcktleSIsImJ1aWxkZXJJbnN0cnVjdGlvbiIsImdldEJ1aWxkZXIiLCJ6SW5kZXgiLCJidWlsZGVyVHlwZSIsInpJbmRleEtleSIsInRvU3RyaW5nIiwicmVwbGF5cyIsInJlcGxheSIsIkNvbnN0cnVjdG9yIiwiZHJhd1RleHRPblBhdGgiLCJzdGFydE0iLCJtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgiLCJjYWNoZSIsInNlZ21lbnRMZW5ndGgiLCJzZWdtZW50TSIsImFkdmFuY2UiLCJpbnRlcnBvbGF0ZSIsImJlZ2luWCIsImJlZ2luWSIsInN0YXJ0T2Zmc2V0Iiwic3RhcnRMZW5ndGgiLCJlbmRNIiwiZW5kWCIsImVuZFkiLCJmbGF0IiwiUEkiLCJyZXN1bHQiLCJzaW5nbGVTZWdtZW50IiwicHJldmlvdXNBbmdsZSIsImF0YW4yIiwieSIsInJlcGxhY2UiLCJkZWx0YSIsImlTdGFydCIsImNoYXJMZW5ndGgiLCJjaGFycyIsInN1YnN0cmluZyIsImxpbmVTdHJpbmdMZW5ndGgiLCJ0bXBFeHRlbnQiLCJwNCIsImdldERlY2x1dHRlckJveCIsInJlcGxheUltYWdlT3JMYWJlbEFyZ3MiLCJkZWNsdXR0ZXJCb3giLCJydGxSZWdFeCIsIlJlZ0V4cCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImhvcml6b250YWxUZXh0QWxpZ24iLCJhbGlnbiIsInRlc3QiLCJjcmVhdGVUZXh0Q2h1bmtzIiwiYWNjIiwibGluZSIsIm92ZXJsYXBzIiwiYWxpZ25GaWxsXyIsImNvb3JkaW5hdGVDYWNoZV8iLCJyZW5kZXJlZFRyYW5zZm9ybV8iLCJwaXhlbENvb3JkaW5hdGVzXyIsInZpZXdSb3RhdGlvbl8iLCJ3aWR0aHNfIiwiY3JlYXRlTGFiZWwiLCJrZXkiLCJ0ZXh0SXNBcnJheSIsImNodW5rcyIsInNwbGl0IiwicmVkdWNlIiwid2lkdGhzIiwiaGVpZ2h0cyIsImxpbmVXaWR0aHMiLCJyZW5kZXJXaWR0aCIsImNvbnRleHRJbnN0cnVjdGlvbnMiLCJsYWJlbCIsImxlZnRSaWdodCIsInN0cm9rZUluc3RydWN0aW9ucyIsImZpbGxJbnN0cnVjdGlvbnMiLCJwcmV2aW91c0ZvbnQiLCJsaW5lSGVpZ2h0IiwibGluZU9mZnNldCIsIndpZHRoSGVpZ2h0SW5kZXgiLCJsaW5lV2lkdGhJbmRleCIsImZpbGxTdHJva2VBcmdzIiwicmVwbGF5VGV4dEJhY2tncm91bmRfIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiZmlsbF8iLCJzZXRTdHJva2VTdHlsZV8iLCJjYWxjdWxhdGVJbWFnZU9yTGFiZWxEaW1lbnNpb25zXyIsInNoZWV0V2lkdGgiLCJzaGVldEhlaWdodCIsImNlbnRlclgiLCJjZW50ZXJZIiwiYW5jaG9yWCIsImFuY2hvclkiLCJvcmlnaW5YIiwib3JpZ2luWSIsInNuYXBUb1BpeGVsIiwiZmlsbFN0cm9rZSIsImJveFciLCJib3hIIiwiYm94WCIsImJveFkiLCJ0cmFuc2Zvcm0iLCJyb3VuZCIsImRyYXdJbWFnZVgiLCJkcmF3SW1hZ2VZIiwiZHJhd0ltYWdlVyIsImRyYXdJbWFnZUgiLCJjYW52YXNUcmFuc2Zvcm0iLCJyZXBsYXlJbWFnZU9yTGFiZWxfIiwiY29udGV4dFNjYWxlIiwiaW1hZ2VPckxhYmVsIiwiZGltZW5zaW9ucyIsImJveCIsInN0cm9rZVBhZGRpbmciLCJyZXBlYXRTaXplIiwic2F2ZSIsInRyYW5zbGF0ZSIsInJvdGF0ZSIsInJlc3RvcmUiLCJzZXRMaW5lRGFzaCIsImRyYXdMYWJlbFdpdGhQb2ludFBsYWNlbWVudF8iLCJleGVjdXRlXyIsImZlYXR1cmVDYWxsYmFjayIsImhpdEV4dGVudCIsInBpeGVsQ29vcmRpbmF0ZXMiLCJkZCIsInByZXZYIiwicHJldlkiLCJyb3VuZFgiLCJyb3VuZFkiLCJwZW5kaW5nRmlsbCIsInBlbmRpbmdTdHJva2UiLCJsYXN0RmlsbEluc3RydWN0aW9uIiwibGFzdFN0cm9rZUluc3RydWN0aW9uIiwiY29vcmRpbmF0ZUNhY2hlIiwidmlld1JvdGF0aW9uIiwidmlld1JvdGF0aW9uRnJvbVRyYW5zZm9ybSIsImJhdGNoU2l6ZSIsImN1cnJlbnRHZW9tZXRyeSIsImdldEdlb21ldHJ5IiwiZHgiLCJkeSIsImFyYyIsImNsb3NlUGF0aCIsImZuIiwiY29vcmRzIiwibGFiZWxXaXRoQW5jaG9yIiwid2lkdGhJbmRleCIsImFyZ3MiLCJpbWFnZUFyZ3MiLCJpbWFnZURlY2x1dHRlckJveCIsImluZGV4IiwibWVhc3VyZVBpeGVsUmF0aW8iLCJwaXhlbFJhdGlvU2NhbGUiLCJjYWNoZWRXaWR0aHMiLCJwYXRoTGVuZ3RoIiwidGV4dExlbmd0aCIsInBhcnRzIiwiZHJhd0NoYXJzIiwiY2MiLCJwYXJ0IiwiZXhlY3V0ZSIsImV4ZWN1dGVIaXREZXRlY3Rpb24iLCJPUkRFUiIsImNpcmNsZVBpeGVsSW5kZXhBcnJheUNhY2hlIiwiYWxsSW5zdHJ1Y3Rpb25zIiwib3ZlcmxhcHNfIiwiZXhlY3V0b3JzQnlaSW5kZXhfIiwiaGl0RGV0ZWN0aW9uQ29udGV4dF8iLCJoaXREZXRlY3Rpb25UcmFuc2Zvcm1fIiwiY3JlYXRlRXhlY3V0b3JzXyIsImNsaXAiLCJmbGF0Q2xpcENvb3JkcyIsImdldENsaXBDb29yZHMiLCJleGVjdXRvcnMiLCJpbnN0cnVjdGlvbkJ5WmluZGV4IiwiaGFzRXhlY3V0b3JzIiwiY2FuZGlkYXRlcyIsImZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlIiwiY29vcmRpbmF0ZSIsImhpdFRvbGVyYW5jZSIsImNhbGxiYWNrIiwiZGVjbHV0dGVyZWRGZWF0dXJlcyIsImNvbnRleHRTaXplIiwibmV3Q29udGV4dCIsImNsZWFyUmVjdCIsImluZGV4ZXMiLCJtYXhEaXN0YW5jZVNxIiwiZGlzdGFuY2VzIiwiaiIsImRpc3RhbmNlU3EiLCJkaXN0YW5jZSIsInBpeGVsSW5kZXgiLCJnZXRQaXhlbEluZGV4QXJyYXkiLCJpbWFnZURhdGEiLCJpbmNsdWRlcyIsImlkeCIsInpzIiwia2V5cyIsIk51bWJlciIsImV4ZWN1dG9yIiwiaXNFbXB0eSIsImJ1aWxkZXJUeXBlcyIsImpqIiwic3F1YXJlZFRvbGVyYW5jZSIsInVzZXJUcmFuc2Zvcm0iLCJjb250ZXh0XyIsImV4dGVudF8iLCJ0cmFuc2Zvcm1fIiwidHJhbnNmb3JtUm90YXRpb25fIiwic3F1YXJlZFRvbGVyYW5jZV8iLCJ1c2VyVHJhbnNmb3JtXyIsImNvbnRleHRGaWxsU3RhdGVfIiwiY29udGV4dFN0cm9rZVN0YXRlXyIsImNvbnRleHRUZXh0U3RhdGVfIiwiZmlsbFN0YXRlXyIsInN0cm9rZVN0YXRlXyIsImltYWdlQW5jaG9yWF8iLCJpbWFnZUFuY2hvcllfIiwiaW1hZ2VIZWlnaHRfIiwiaW1hZ2VPcGFjaXR5XyIsImltYWdlT3JpZ2luWF8iLCJpbWFnZU9yaWdpbllfIiwiaW1hZ2VSb3RhdGVXaXRoVmlld18iLCJpbWFnZVJvdGF0aW9uXyIsImltYWdlU2NhbGVfIiwiaW1hZ2VXaWR0aF8iLCJ0ZXh0U2NhbGVfIiwidG1wTG9jYWxUcmFuc2Zvcm1fIiwiZHJhd0ltYWdlc18iLCJsb2NhbFRyYW5zZm9ybSIsImFscGhhIiwiZ2xvYmFsQWxwaGEiLCJzZXRUcmFuc2Zvcm0iLCJkcmF3VGV4dF8iLCJzZXRDb250ZXh0RmlsbFN0YXRlXyIsInNldENvbnRleHRTdHJva2VTdGF0ZV8iLCJzZXRDb250ZXh0VGV4dFN0YXRlXyIsInN0cm9rZVRleHQiLCJmaWxsVGV4dCIsIm1vdmVUb0xpbmVUb18iLCJjbG9zZSIsImRyYXdSaW5nc18iLCJnZXRHZW9tZXRyeUZ1bmN0aW9uIiwiZ2VvbWV0cmllcyIsImdldEdlb21ldHJpZXNBcnJheSIsInNpbXBsaWZ5VHJhbnNmb3JtZWQiLCJmbGF0TWlkcG9pbnQiLCJnZW9tZXRyeUV4dGVudCIsImZsYXRNaWRwb2ludHMiLCJmbGF0SW50ZXJpb3JQb2ludCIsImZsYXRJbnRlcmlvclBvaW50cyIsImNvbnRleHRGaWxsU3RhdGUiLCJjb250ZXh0U3Ryb2tlU3RhdGUiLCJjb250ZXh0VGV4dFN0YXRlIiwiaW1hZ2VTaXplIiwiaW1hZ2VQaXhlbFJhdGlvIiwiaW1hZ2VBbmNob3IiLCJpbWFnZU9yaWdpbiIsImltYWdlU2NhbGUiLCJ0ZXh0RmlsbFN0eWxlQ29sb3IiLCJ0ZXh0U3Ryb2tlU3R5bGVDb2xvciIsInRleHRTdHJva2VTdHlsZUxpbmVDYXAiLCJ0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaCIsInRleHRTdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0IiwidGV4dFN0cm9rZVN0eWxlTGluZUpvaW4iLCJ0ZXh0U3Ryb2tlU3R5bGVXaWR0aCIsInRleHRTdHJva2VTdHlsZU1pdGVyTGltaXQiLCJ0ZXh0Rm9udCIsInRleHRUZXh0IiwidGV4dFRleHRBbGlnbiIsInRleHRUZXh0QmFzZWxpbmUiLCJISVRfREVURUNUX1JFU09MVVRJT04iLCJTSU1QTElGWV9UT0xFUkFOQ0UiLCJHRU9NRVRSWV9SRU5ERVJFUlMiLCJidWlsZGVyR3JvdXAiLCJkZWNsdXR0ZXJCdWlsZGVyR3JvdXAiLCJpbWFnZUJ1aWxkZXJHcm91cCIsImltYWdlUmVwbGF5IiwiZ2V0WkluZGV4IiwidGV4dEJ1aWxkZXJHcm91cCIsInRleHRSZXBsYXkiLCJsaW5lU3RyaW5nUmVwbGF5IiwicG9seWdvblJlcGxheSIsInJlcGxheUdyb3VwIiwiZ2VvbWV0cnlSZW5kZXJlciIsImNpcmNsZVJlcGxheSIsImdldFNxdWFyZWRUb2xlcmFuY2UiLCJnZXRUb2xlcmFuY2UiLCJyZW5kZXJGZWF0dXJlIiwibG9hZGluZyIsInNpbXBsaWZpZWRHZW9tZXRyeSIsInJlbmRlckdlb21ldHJ5IiwicmVuZGVyRmVhdHVyZUludGVybmFsIiwiZ2V0SGl0RGV0ZWN0aW9uUmVuZGVyZXIiLCJnZXRHZW9tZXRyaWVzIiwiSU1BR0VfUkVQTEFZUyIsIlZFQ1RPUl9SRVBMQVlTIiwiQ2FudmFzVmVjdG9yVGlsZUxheWVyUmVuZGVyZXIiLCJsYXllciIsImJvdW5kSGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8iLCJoYW5kbGVTdHlsZUltYWdlQ2hhbmdlXyIsInJlbmRlcmVkTGF5ZXJSZXZpc2lvbl8iLCJyZW5kZXJlZFBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyIsInJlbmRlcmVkUm90YXRpb25fIiwidG1wVHJhbnNmb3JtXyIsInByZXBhcmVUaWxlIiwidGlsZSIsInByb2plY3Rpb24iLCJyZW5kZXIiLCJnZXRTdGF0ZSIsIlRpbGVTdGF0ZSIsInVwZGF0ZUV4ZWN1dG9yR3JvdXBfIiwidGlsZUltYWdlTmVlZHNSZW5kZXJfIiwiZ2V0VGlsZSIsInoiLCJ2aWV3U3RhdGUiLCJnZXRMYXllciIsImdldFNvdXJjZSIsInZpZXdIaW50cyIsImhpZmkiLCJWaWV3SGludCIsIndhbnRlZFJlc29sdXRpb24iLCJEYXRlIiwibm93IiwidGltZSIsImdldFJlbmRlck1vZGUiLCJyZW5kZXJUaWxlSW1hZ2VfIiwiaXNEcmF3YWJsZVRpbGUiLCJleGVjdXRvckdyb3VwcyIsImhhc0NvbnRleHQiLCJnZXRUaWxlSW1hZ2UiLCJwcmVwYXJlRnJhbWUiLCJsYXllclJldmlzaW9uIiwiZ2V0UmV2aXNpb24iLCJyZW5kZXJlZFRpbGVzIiwicmV2aXNpb24iLCJidWlsZGVyU3RhdGUiLCJnZXRSZXBsYXlTdGF0ZSIsImRpcnR5IiwicmVuZGVyZWRSZXNvbHV0aW9uIiwicmVuZGVyZWRSZXZpc2lvbiIsInJlbmRlcmVkUmVuZGVyT3JkZXIiLCJzb3VyY2UiLCJzb3VyY2VUaWxlR3JpZCIsImdldFRpbGVHcmlkIiwidGlsZUV4dGVudCIsImdldFRpbGVHcmlkRm9yUHJvamVjdGlvbiIsImdldFRpbGVDb29yZEV4dGVudCIsIndyYXBwZWRUaWxlQ29vcmQiLCJzb3VyY2VUaWxlcyIsImdldFNvdXJjZVRpbGVzIiwibGF5ZXJVaWQiLCJoaXREZXRlY3Rpb25JbWFnZURhdGEiLCJkZWNsdXR0ZXJFeGVjdXRvckdyb3VwcyIsInR0Iiwic291cmNlVGlsZSIsInNvdXJjZVRpbGVDb29yZCIsInRpbGVDb29yZCIsInNvdXJjZVRpbGVFeHRlbnQiLCJzaGFyZWRFeHRlbnQiLCJidWlsZGVyRXh0ZW50IiwiYnVmZmVyZWRFeHRlbnQiLCJzdHlsZUZ1bmN0aW9uIiwiZmVhdHVyZXMiLCJleGVjdXRvckdyb3VwSW5zdHJ1Y3Rpb25zIiwicmVwbGF5RXh0ZW50IiwicmVuZGVyaW5nUmVwbGF5R3JvdXAiLCJnZXRPdmVybGFwcyIsImRlY2x1dHRlckV4ZWN1dG9yR3JvdXAiLCJtYXRjaGVzIiwidGlsZUdyaWQiLCJnZXRJZCIsIm1hdGNoIiwibGFzdEluZGV4T2YiLCJmb3VuZCIsInNvbWUiLCJpdGVtIiwiZXhlY3V0b3JHcm91cCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVuZGVyZWRQcm9qZWN0aW9uIiwicHJvamVjdGlvbkV4dGVudCIsImdldFRpbGVDb29yZEZvckNvb3JkQW5kUmVzb2x1dGlvbiIsImdldFdyYXBYIiwiY2FuV3JhcFgiLCJsb2FkaW5nU291cmNlVGlsZXMiLCJjb3JuZXIiLCJ0aWxlUGl4ZWwiLCJhY2N1bXVsYXRvciIsImNvbmNhdCIsInRpbGVTaXplIiwiZ2V0VGlsZVNpemUiLCJnZXRaRm9yUmVzb2x1dGlvbiIsInpEaXJlY3Rpb24iLCJ0cmFuc2Zvcm1zIiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiZmVhdHVyZUNvdW50IiwiaW5kZXhGYWN0b3IiLCJmZWF0dXJlc0J5WkluZGV4IiwiZmVhdHVyZVN0eWxlRnVuY3Rpb24iLCJwYWRTdGFydCIsIm9yaWdpbmFsU3R5bGUiLCJzZXRDb2xvciIsInNldFRleHQiLCJpbWdDb250ZXh0Iiwic2V0SW1hZ2UiLCJieUdlb21ldHJ5VHlwZSIsImdldEdlb21ldHJpZXNBcnJheVJlY3Vyc2l2ZSIsInpJbmRleEtleXMiLCJnZW9tQW5kU3R5bGUiLCJrIiwia2siLCJjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEiLCJnZXRSZW5kZXJUcmFuc2Zvcm0iLCJnZXRUaWxlQ29vcmRDZW50ZXIiLCJyZXN1bHRGZWF0dXJlcyIsImciLCJoaXREZXRlY3QiLCJoYW5kbGVGb250c0NoYW5nZWQiLCJnZXRWaXNpYmxlIiwiZXZlbnQiLCJyZW5kZXJJZlJlYWR5QW5kVmlzaWJsZSIsInRpbGVzIiwiZ2V0VGlsZVJlbmRlclRyYW5zZm9ybSIsImNlbnRlciIsIndvcmxkT2Zmc2V0IiwiaW52ZXJzZVBpeGVsVHJhbnNmb3JtIiwicG9zdFJlbmRlciIsInBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtIiwicmVuZGVyTW9kZSIsInJlcGxheVR5cGVzIiwidGlsZVNvdXJjZSIsImNsaXBzIiwiY2xpcFpzIiwicmVhZHkiLCJncm91cCIsImN1cnJlbnRaIiwiY29udGV4dFNhdmVkIiwiY3VycmVudENsaXAiLCJyZXBsYXlTdGF0ZSIsInJlbmRlcmVkVGlsZVJlc29sdXRpb24iLCJyZW5kZXJlZFRpbGVSZXZpc2lvbiIsInRpbGVSZXNvbHV0aW9uIiwiZ2V0UmVzb2x1dGlvbiIsInJlbmRlclBpeGVsUmF0aW8iLCJnZXRUaWxlUGl4ZWxTaXplIiwicmVuZGVyU2NhbGUiLCJwaXhlbFNjYWxlIiwiQmFzZVZlY3RvciIsInByZWxvYWQiLCJ1c2VJbnRlcmltVGlsZXNPbkVycm9yIiwib24iLCJvbmNlIiwidW4iLCJyZW5kZXJNb2RlXyIsInNldFByZWxvYWQiLCJzZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yIiwiZ2V0QmFja2dyb3VuZCIsInNldEJhY2tncm91bmQiLCJjcmVhdGVSZW5kZXJlciIsImdldFByZWxvYWQiLCJUaWxlUHJvcGVydHkiLCJnZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yIiwiQ2lyY2xlU3R5bGUiLCJJbmZpbml0eSIsImdldFJhZGl1cyIsInNldE9wYWNpdHkiLCJzZXRSYWRpdXMiLCJyYWRpdXNfIiwiSW1hZ2VTdHlsZSIsInNjYWxlQXJyYXlfIiwiZGlzcGxhY2VtZW50XyIsInNldERpc3BsYWNlbWVudCIsInNldFJvdGF0ZVdpdGhWaWV3Iiwic2V0Um90YXRpb24iLCJoaXREZXRlY3Rpb25DYW52YXNfIiwicG9pbnRzXyIsInJhZGl1czJfIiwiYW5nbGVfIiwic3Ryb2tlXyIsInJlbmRlck9wdGlvbnNfIiwiZ2V0UG9pbnRzIiwiZ2V0UmFkaXVzMiIsImdldEFuZ2xlIiwic2V0RmlsbCIsImNyZWF0ZUhpdERldGVjdGlvbkNhbnZhc18iLCJyZW5kZXJPcHRpb25zIiwiZHJhd18iLCJzZXRTdHJva2UiLCJjYWxjdWxhdGVMaW5lSm9pblNpemVfIiwicjEiLCJyMiIsInRtcCIsInNpbiIsIm1pdGVyUmF0aW8iLCJiZXZlbEFkZCIsImFhIiwiaW5uZXJNaXRlclJhdGlvIiwiaW5uZXJMZW5ndGgiLCJjcmVhdGVSZW5kZXJPcHRpb25zIiwiYWRkIiwibWF4UmFkaXVzIiwiY3JlYXRlUGF0aF8iLCJkcmF3SGl0RGV0ZWN0aW9uQ2FudmFzXyIsInN0YXJ0QW5nbGUiLCJzdGVwIiwiYW5nbGUwIiwicmFkaXVzQyIsImNvcyIsImxpbmVDYXBfIiwibGluZURhc2hfIiwibGluZURhc2hPZmZzZXRfIiwibGluZUpvaW5fIiwibWl0ZXJMaW1pdF8iLCJzZXRMaW5lQ2FwIiwic2V0TGluZURhc2hPZmZzZXQiLCJzZXRMaW5lSm9pbiIsInNldE1pdGVyTGltaXQiLCJnZW9tZXRyeV8iLCJnZW9tZXRyeUZ1bmN0aW9uXyIsImRlZmF1bHRHZW9tZXRyeUZ1bmN0aW9uIiwic2V0R2VvbWV0cnkiLCJyZW5kZXJlcl8iLCJoaXREZXRlY3Rpb25SZW5kZXJlcl8iLCJ6SW5kZXhfIiwic2V0UmVuZGVyZXIiLCJzZXRIaXREZXRlY3Rpb25SZW5kZXJlciIsInNldFpJbmRleCIsInRvRnVuY3Rpb24iLCJvYmoiLCJkZWZhdWx0U3R5bGVzIiwiY3JlYXRlRGVmYXVsdFN0eWxlIiwiZm9udF8iLCJ0ZXh0QWxpZ25fIiwianVzdGlmeV8iLCJ0ZXh0QmFzZWxpbmVfIiwibWF4QW5nbGVfIiwicGxhY2VtZW50XyIsIm92ZXJmbG93XyIsIm9mZnNldFhfIiwib2Zmc2V0WV8iLCJiYWNrZ3JvdW5kRmlsbF8iLCJiYWNrZ3JvdW5kU3Ryb2tlXyIsInBhZGRpbmdfIiwic2V0T3ZlcmZsb3ciLCJzZXRGb250Iiwic2V0TWF4QW5nbGUiLCJzZXRPZmZzZXRYIiwic2V0T2Zmc2V0WSIsInNldFBsYWNlbWVudCIsInNldFRleHRBbGlnbiIsInNldEp1c3RpZnkiLCJzZXRUZXh0QmFzZWxpbmUiLCJzZXRCYWNrZ3JvdW5kRmlsbCIsInNldEJhY2tncm91bmRTdHJva2UiLCJzZXRQYWRkaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==