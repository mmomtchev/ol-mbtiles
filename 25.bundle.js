/*! For license information please see 25.bundle.js.LICENSE.txt */
(self.webpackChunkol_mbtiles=self.webpackChunkol_mbtiles||[]).push([[25],{5550:t=>{"use strict";function e(t,e){this.x=t,this.y=e}t.exports=e,e.prototype={clone:function(){return new e(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=e*this.x-i*this.y,s=i*this.x+e*this.y;return this.x=n,this.y=s,this},_rotateAround:function(t,e){var i=Math.cos(t),n=Math.sin(t),s=e.x+i*(this.x-e.x)-n*(this.y-e.y),r=e.y+n*(this.x-e.x)+i*(this.y-e.y);return this.x=s,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},e.convert=function(t){return t instanceof e?t:Array.isArray(t)?new e(t[0],t[1]):t}},8929:(t,e,i)=>{t.exports.VectorTile=i(2779),i(6024),i(9701)},2779:(t,e,i)=>{"use strict";var n=i(9701);function s(t,e,i){if(3===t){var s=new n(i,i.readVarint()+i.pos);s.length&&(e[s.name]=s)}}t.exports=function(t,e){this.layers=t.readFields(s,{},e)}},6024:(t,e,i)=>{"use strict";var n=i(5550);function s(t,e,i,n,s){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=s,t.readFields(r,this,e)}function r(t,e,i){1==t?e.id=i.readVarint():2==t?function(t,e){for(var i=t.readVarint()+t.pos;t.pos<i;){var n=e._keys[t.readVarint()],s=e._values[t.readVarint()];e.properties[n]=s}}(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function o(t){for(var e,i,n=0,s=0,r=t.length,o=r-1;s<r;o=s++)e=t[s],n+=((i=t[o]).x-e.x)*(e.y+i.y);return n}t.exports=s,s.types=["Unknown","Point","LineString","Polygon"],s.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,s=1,r=0,o=0,a=0,h=[];t.pos<i;){if(r<=0){var l=t.readVarint();s=7&l,r=l>>3}if(r--,1===s||2===s)o+=t.readSVarint(),a+=t.readSVarint(),1===s&&(e&&h.push(e),e=[]),e.push(new n(o,a));else{if(7!==s)throw new Error("unknown command "+s);e&&e.push(e[0].clone())}}return e&&h.push(e),h},s.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,n=0,s=0,r=0,o=1/0,a=-1/0,h=1/0,l=-1/0;t.pos<e;){if(n<=0){var c=t.readVarint();i=7&c,n=c>>3}if(n--,1===i||2===i)(s+=t.readSVarint())<o&&(o=s),s>a&&(a=s),(r+=t.readSVarint())<h&&(h=r),r>l&&(l=r);else if(7!==i)throw new Error("unknown command "+i)}return[o,h,a,l]},s.prototype.toGeoJSON=function(t,e,i){var n,r,a=this.extent*Math.pow(2,i),h=this.extent*t,l=this.extent*e,c=this.loadGeometry(),d=s.types[this.type];function u(t){for(var e=0;e<t.length;e++){var i=t[e],n=180-360*(i.y+l)/a;t[e]=[360*(i.x+h)/a-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}switch(this.type){case 1:var g=[];for(n=0;n<c.length;n++)g[n]=c[n][0];u(c=g);break;case 2:for(n=0;n<c.length;n++)u(c[n]);break;case 3:for(c=function(t){var e=t.length;if(e<=1)return[t];for(var i,n,s=[],r=0;r<e;r++){var a=o(t[r]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(i&&s.push(i),i=[t[r]]):i.push(t[r]))}return i&&s.push(i),s}(c),n=0;n<c.length;n++)for(r=0;r<c[n].length;r++)u(c[n][r])}1===c.length?c=c[0]:d="Multi"+d;var _={type:"Feature",geometry:{type:d,coordinates:c},properties:this.properties};return"id"in this&&(_.id=this.id),_}},9701:(t,e,i)=>{"use strict";var n=i(6024);function s(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(r,this,e),this.length=this._features.length}function r(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(function(t){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}(i))}t.exports=s,s.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new n(this._pbf,e,this.extent,this._keys,this._values)}},645:(t,e)=>{e.read=function(t,e,i,n,s){var r,o,a=8*s-n-1,h=(1<<a)-1,l=h>>1,c=-7,d=i?s-1:0,u=i?-1:1,g=t[e+d];for(d+=u,r=g&(1<<-c)-1,g>>=-c,c+=a;c>0;r=256*r+t[e+d],d+=u,c-=8);for(o=r&(1<<-c)-1,r>>=-c,c+=n;c>0;o=256*o+t[e+d],d+=u,c-=8);if(0===r)r=1-l;else{if(r===h)return o?NaN:1/0*(g?-1:1);o+=Math.pow(2,n),r-=l}return(g?-1:1)*o*Math.pow(2,r-n)},e.write=function(t,e,i,n,s,r){var o,a,h,l=8*r-s-1,c=(1<<l)-1,d=c>>1,u=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:r-1,_=n?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),(e+=o+d>=1?u/h:u*Math.pow(2,1-d))*h>=2&&(o++,h/=2),o+d>=c?(a=0,o=c):o+d>=1?(a=(e*h-1)*Math.pow(2,s),o+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,s),o=0));s>=8;t[i+g]=255&a,g+=_,a/=256,s-=8);for(o=o<<s|a,l+=s;l>0;t[i+g]=255&o,g+=_,o/=256,l-=8);t[i+g-_]|=128*f}},3614:(t,e,i)=>{"use strict";t.exports=s;var n=i(645);function s(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}s.Varint=0,s.Fixed64=1,s.Bytes=2,s.Fixed32=5;var r=4294967296,o=1/r,a="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function h(t){return t.type===s.Bytes?t.readVarint()+t.pos:t.pos+1}function l(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function c(t,e,i){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));i.realloc(n);for(var s=i.pos-1;s>=t;s--)i.buf[s+n]=i.buf[s]}function d(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function u(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function g(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function _(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function f(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function p(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function m(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function v(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function y(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function x(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function w(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function S(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}s.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var n=this.readVarint(),s=n>>3,r=this.pos;this.type=7&n,t(s,e,this),this.pos===r&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=x(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=S(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=x(this.buf,this.pos)+x(this.buf,this.pos+4)*r;return this.pos+=8,t},readSFixed64:function(){var t=x(this.buf,this.pos)+S(this.buf,this.pos+4)*r;return this.pos+=8,t},readFloat:function(){var t=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,n=this.buf;return e=127&(i=n[this.pos++]),i<128?e:(e|=(127&(i=n[this.pos++]))<<7,i<128?e:(e|=(127&(i=n[this.pos++]))<<14,i<128?e:(e|=(127&(i=n[this.pos++]))<<21,i<128?e:function(t,e,i){var n,s,r=i.buf;if(n=(112&(s=r[i.pos++]))>>4,s<128)return l(t,n,e);if(n|=(127&(s=r[i.pos++]))<<3,s<128)return l(t,n,e);if(n|=(127&(s=r[i.pos++]))<<10,s<128)return l(t,n,e);if(n|=(127&(s=r[i.pos++]))<<17,s<128)return l(t,n,e);if(n|=(127&(s=r[i.pos++]))<<24,s<128)return l(t,n,e);if(n|=(1&(s=r[i.pos++]))<<31,s<128)return l(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&a?function(t,e,i){return a.decode(t.subarray(e,i))}(this.buf,e,t):function(t,e,i){for(var n="",s=e;s<i;){var r,o,a,h=t[s],l=null,c=h>239?4:h>223?3:h>191?2:1;if(s+c>i)break;1===c?h<128&&(l=h):2===c?128==(192&(r=t[s+1]))&&(l=(31&h)<<6|63&r)<=127&&(l=null):3===c?(r=t[s+1],o=t[s+2],128==(192&r)&&128==(192&o)&&((l=(15&h)<<12|(63&r)<<6|63&o)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(r=t[s+1],o=t[s+2],a=t[s+3],128==(192&r)&&128==(192&o)&&128==(192&a)&&((l=(15&h)<<18|(63&r)<<12|(63&o)<<6|63&a)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,n+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),n+=String.fromCharCode(l),s+=c}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==s.Bytes)return t.push(this.readVarint(e));var i=h(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==s.Bytes)return t.push(this.readSVarint());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==s.Bytes)return t.push(this.readBoolean());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==s.Bytes)return t.push(this.readFloat());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==s.Bytes)return t.push(this.readDouble());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==s.Bytes)return t.push(this.readFixed32());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==s.Bytes)return t.push(this.readSFixed32());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==s.Bytes)return t.push(this.readFixed64());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==s.Bytes)return t.push(this.readSFixed64());var e=h(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===s.Varint)for(;this.buf[this.pos++]>127;);else if(e===s.Bytes)this.pos=this.readVarint()+this.pos;else if(e===s.Fixed32)this.pos+=4;else{if(e!==s.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),w(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),w(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),w(this.buf,-1&t,this.pos),w(this.buf,Math.floor(t*o),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),w(this.buf,-1&t,this.pos),w(this.buf,Math.floor(t*o),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var i,n;if(t>=0?(i=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(i=~(-t%4294967296))?i=i+1|0:(i=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,i){i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos]=127&t}(i,0,e),function(t,e){var i=(7&t)<<4;e.buf[e.pos++]|=i|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,i){for(var n,s,r=0;r<e.length;r++){if((n=e.charCodeAt(r))>55295&&n<57344){if(!s){n>56319||r+1===e.length?(t[i++]=239,t[i++]=191,t[i++]=189):s=n;continue}if(n<56320){t[i++]=239,t[i++]=191,t[i++]=189,s=n;continue}n=s-55296<<10|n-56320|65536,s=null}else s&&(t[i++]=239,t[i++]=191,t[i++]=189,s=null);n<128?t[i++]=n:(n<2048?t[i++]=n>>6|192:(n<65536?t[i++]=n>>12|224:(t[i++]=n>>18|240,t[i++]=n>>12&63|128),t[i++]=n>>6&63|128),t[i++]=63&n|128)}return i}(this.buf,t,this.pos);var i=this.pos-e;i>=128&&c(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),n.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),n.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var n=this.pos-i;n>=128&&c(i,n,this),this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,i){this.writeTag(t,s.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,u,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,_,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,v,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,y,e)},writeBytesField:function(t,e){this.writeTag(t,s.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,s.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,s.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,s.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,s.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,s.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,s.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,s.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,s.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,s.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},2582:function(t){t.exports=function(){"use strict";function t(t,n,s,r,o){!function t(i,n,s,r,o){for(;r>s;){if(r-s>600){var a=r-s+1,h=n-s+1,l=Math.log(a),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(a-c)/a)*(h-a/2<0?-1:1);t(i,n,Math.max(s,Math.floor(n-h*c/a+d)),Math.min(r,Math.floor(n+(a-h)*c/a+d)),o)}var u=i[n],g=s,_=r;for(e(i,s,n),o(i[r],u)>0&&e(i,s,r);g<_;){for(e(i,g,_),g++,_--;o(i[g],u)<0;)g++;for(;o(i[_],u)>0;)_--}0===o(i[s],u)?e(i,s,_):e(i,++_,r),_<=n&&(s=_+1),n<=_&&(r=_-1)}}(t,n,s||0,r||t.length-1,o||i)}function e(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function i(t,e){return t<e?-1:t>e?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function s(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function r(t,e){o(t,0,t.children.length,e,t)}function o(t,e,i,n,s){s||(s=_(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(var r=e;r<i;r++){var o=t.children[r];a(s,t.leaf?n(o):o)}return s}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function u(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function g(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function _(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function f(e,i,n,s,r){for(var o=[i,n];o.length;)if(!((n=o.pop())-(i=o.pop())<=s)){var a=i+Math.ceil((n-i)/s/2)*s;t(e,a,i,n,r),o.push(i,a,a,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var e=this.data,i=[];if(!g(t,e))return i;for(var n=this.toBBox,s=[];e;){for(var r=0;r<e.children.length;r++){var o=e.children[r],a=e.leaf?n(o):o;g(t,a)&&(e.leaf?i.push(o):u(t,a)?this._all(o,i):s.push(o))}e=s.pop()}return i},n.prototype.collides=function(t){var e=this.data;if(!g(t,e))return!1;for(var i=[];e;){for(var n=0;n<e.children.length;n++){var s=e.children[n],r=e.leaf?this.toBBox(s):s;if(g(t,r)){if(e.leaf||u(t,r))return!0;i.push(s)}}e=i.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=_([]),this},n.prototype.remove=function(t,e){if(!t)return this;for(var i,n,r,o=this.data,a=this.toBBox(t),h=[],l=[];o||h.length;){if(o||(o=h.pop(),n=h[h.length-1],i=l.pop(),r=!0),o.leaf){var c=s(t,o.children,e);if(-1!==c)return o.children.splice(c,1),h.push(o),this._condense(h),this}r||o.leaf||!u(o,a)?n?(i++,o=n.children[i],r=!1):o=null:(h.push(o),l.push(i),i=0,n=o,o=o.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,e){return t.minX-e.minX},n.prototype.compareMinY=function(t,e){return t.minY-e.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},n.prototype._build=function(t,e,i,n){var s,o=i-e+1,a=this._maxEntries;if(o<=a)return r(s=_(t.slice(e,i+1)),this.toBBox),s;n||(n=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,n-1))),(s=_([])).leaf=!1,s.height=n;var h=Math.ceil(o/a),l=h*Math.ceil(Math.sqrt(a));f(t,e,i,l,this.compareMinX);for(var c=e;c<=i;c+=l){var d=Math.min(c+l-1,i);f(t,c,d,h,this.compareMinY);for(var u=c;u<=d;u+=h){var g=Math.min(u+h-1,d);s.children.push(this._build(t,u,g,n-1))}}return r(s,this.toBBox),s},n.prototype._chooseSubtree=function(t,e,i,n){for(;n.push(e),!e.leaf&&n.length-1!==i;){for(var s=1/0,r=1/0,o=void 0,a=0;a<e.children.length;a++){var h=e.children[a],l=c(h),d=(u=t,g=h,(Math.max(g.maxX,u.maxX)-Math.min(g.minX,u.minX))*(Math.max(g.maxY,u.maxY)-Math.min(g.minY,u.minY))-l);d<r?(r=d,s=l<s?l:s,o=h):d===r&&l<s&&(s=l,o=h)}e=o||e.children[0]}var u,g;return e},n.prototype._insert=function(t,e,i){var n=i?t:this.toBBox(t),s=[],r=this._chooseSubtree(n,this.data,e,s);for(r.children.push(t),a(r,n);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(n,s,e)},n.prototype._split=function(t,e){var i=t[e],n=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,n);var o=this._chooseSplitIndex(i,s,n),a=_(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,r(i,this.toBBox),r(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},n.prototype._splitRoot=function(t,e){this.data=_([t,e]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,e,i){for(var n,s,r,a,h,l,d,u=1/0,g=1/0,_=e;_<=i-e;_++){var f=o(t,0,_,this.toBBox),p=o(t,_,i,this.toBBox),m=(s=f,r=p,void 0,void 0,void 0,void 0,a=Math.max(s.minX,r.minX),h=Math.max(s.minY,r.minY),l=Math.min(s.maxX,r.maxX),d=Math.min(s.maxY,r.maxY),Math.max(0,l-a)*Math.max(0,d-h)),v=c(f)+c(p);m<u?(u=m,n=_,g=v<g?v:g):m===u&&v<g&&(g=v,n=_)}return n||i-e},n.prototype._chooseSplitAxis=function(t,e,i){var n=t.leaf?this.compareMinX:h,s=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,s)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,e,i,n){t.children.sort(n);for(var s=this.toBBox,r=o(t,0,e,s),h=o(t,i-e,i,s),l=d(r)+d(h),c=e;c<i-e;c++){var u=t.children[c];a(r,t.leaf?s(u):u),l+=d(r)}for(var g=i-e-1;g>=e;g--){var _=t.children[g];a(h,t.leaf?s(_):_),l+=d(h)}return l},n.prototype._adjustParentBBoxes=function(t,e,i){for(var n=i;n>=0;n--)a(e[n],t)},n.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():r(t[e],this.toBBox)},n}()},6813:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});const n={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class s extends Error{constructor(t){const e=n[t];super(e),this.code=t,this.name="AssertionError",this.message=e}}const r=s},5431:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}},8096:(t,e,i)=>{"use strict";i.d(e,{K:()=>o});var n=i(5487),s=i(177),r=i(5818);function o(t,e,i){const o=t;let a=!0,h=!1,l=!1;const c=[(0,r.Vx)(o,n.Z.LOAD,(function(){l=!0,h||e()}))];return o.src&&s.Tp?(h=!0,o.decode().then((function(){a&&e()})).catch((function(t){a&&(l?e():i())}))):c.push((0,r.Vx)(o,n.Z.ERROR,i)),function(){a=!1,c.forEach(r.bN)}}},553:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},825:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h});var n=i(4806),s=i(7195),r=i(8326),o=i(8096);class a extends n.Z{constructor(t,e,i,n,s,r){super(t,e,r),this.crossOrigin_=n,this.src_=i,this.key=i,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(t){this.image_=t,this.state=s.Z.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=s.Z.ERROR,this.unlistenImage_(),this.image_=function(){const t=(0,r.E4)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=s.Z.LOADED:this.state=s.Z.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==s.Z.ERROR&&(this.state=s.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==s.Z.IDLE&&(this.state=s.Z.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,o.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}const h=a},8854:(t,e,i)=>{"use strict";i.d(e,{Z:()=>$t});var n=i(2971),s=i(6813);const r="add",o="remove";var a=i(291);const h="length";class l extends a.ZP{constructor(t,e,i){super(t),this.element=e,this.index=i}}class c extends n.Z{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let t=0,e=this.array_.length;t<e;++t)this.assertUnique_(this.array_[t],t);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,i=t.length;e<i;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let i=0,n=e.length;i<n;++i)t(e[i],i,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(h)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new l(r,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new l(o,e,t)),e}setAt(t,e){if(t>=this.getLength())return void this.insertAt(t,e);if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new l(o,i,t)),this.dispatchEvent(new l(r,e,t))}updateLength_(){this.set(h,this.array_.length)}assertUnique_(t,e){for(let i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw new s.Z(58)}}const d=c;var u=i(5431),g=i(6885),_=i(4187),f=i(6101),p=i(8641),m=i(2710),v=i(1295),y=i(1900);class x extends u.Z{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){(0,_.O3)()}calculateMatrices2D(t){const e=t.viewState,i=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;(0,f.qC)(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,f.nb)(n,i)}forEachFeatureAtCoordinate(t,e,i,n,s,r,o,a){let h;const l=e.viewState;function c(t,e,i,n){return s.call(r,e,t?i:null,n)}const d=l.projection,u=(0,y.Cf)(t.slice(),d),g=[[0,0]];if(d.canWrapX()&&n){const t=d.getExtent(),e=(0,p.dz)(t);g.push([-e,0],[e,0])}const _=e.layerStatesArray,f=_.length,m=[],x=[];for(let n=0;n<g.length;n++)for(let s=f-1;s>=0;--s){const r=_[s],d=r.layer;if(d.hasRenderer()&&(0,v.j)(r,l)&&o.call(a,d)){const s=d.getRenderer(),o=d.getSource();if(s&&o){const a=o.getWrapX()?u:t,l=c.bind(null,r.managed);x[0]=a[0]+g[n][0],x[1]=a[1]+g[n][1],h=s.forEachFeatureAtCoordinate(x,e,i,l,m)}if(h)return h}}if(0===m.length)return;const w=1/m.length;return m.forEach(((t,e)=>t.distanceSq+=e*w)),m.sort(((t,e)=>t.distanceSq-e.distanceSq)),m.some((t=>h=t.callback(t.feature,t.layer,t.geometry))),h}hasFeatureAtCoordinate(t,e,i,n,s,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,i,n,g.uX,this,s,r)}getMap(){return this.map_}renderFrame(t){(0,_.O3)()}scheduleExpireIconCache(t){m.c.canExpireCache()&&t.postRenderFunctions.push(w)}}function w(t,e){m.c.expire()}const S=x;var E=i(5990),C=i(7380),b=i(8771),T=i(245),R=i(147),I=i(5818),k=i(8326);const M=class extends S{constructor(t){super(t),this.fontChangeListenerKey_=(0,I.oL)(R.sG,E.Z.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=T.XV+" ol-layers";const i=t.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const i=this.getMap();if(i.hasListener(t)){const n=new C.Z(t,void 0,e);i.dispatchEvent(n)}}disposeInternal(){(0,I.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(b.Z.PRECOMPOSE,t);const e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),i=t.viewState;this.children_.length=0;const n=[];let s=null;for(let r=0,o=e.length;r<o;++r){const o=e[r];t.layerIndex=r;const a=o.layer,h=a.getSourceState();if(!(0,v.j)(o,i)||"ready"!=h&&"undefined"!=h){a.unrender();continue}const l=a.render(t,s);l&&(l!==s&&(this.children_.push(l),s=l),"getDeclutter"in a&&n.push(a))}for(let e=n.length-1;e>=0;--e)n[e].renderDeclutter(t);(0,k.hF)(this.element_,this.children_),this.dispatchRenderEvent(b.Z.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}};var L=i(5487),P=i(947),O=i(9515),A=i(9374);class Z extends a.ZP{constructor(t,e){super(t),this.layer=e}}const F="layers";class D extends P.Z{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let i=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(F,this.handleLayersChanged_),i?Array.isArray(i)?i=new d(i.slice(),{unique:!0}):(0,O.h)("function"==typeof i.getArray,43):i=new d(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(I.bN),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push((0,I.oL)(t,r,this.handleLayersAdd_,this),(0,I.oL)(t,o,this.handleLayersRemove_,this));for(const t in this.listenerKeys_)this.listenerKeys_[t].forEach(I.bN);(0,A.Z)(this.listenerKeys_);const e=t.getArray();for(let t=0,i=e.length;t<i;t++){const i=e[t];this.registerLayerListeners_(i),this.dispatchEvent(new Z("addlayer",i))}this.changed()}registerLayerListeners_(t){const e=[(0,I.oL)(t,E.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,I.oL)(t,L.Z.CHANGE,this.handleLayerChange_,this)];t instanceof D&&e.push((0,I.oL)(t,"addlayer",this.handleLayerGroupAdd_,this),(0,I.oL)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,_.sq)(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new Z("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new Z("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new Z("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,i=(0,_.sq)(e);this.listenerKeys_[i].forEach(I.bN),delete this.listenerKeys_[i],this.dispatchEvent(new Z("removelayer",e)),this.changed()}getLayers(){return this.get(F)}setLayers(t){const e=this.getLayers();if(e){const t=e.getArray();for(let e=0,i=t.length;e<i;++e)this.dispatchEvent(new Z("removelayer",t[e]))}this.set(F,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach((function(e){e.getLayersArray(t)})),t}getLayerStatesArray(t){const e=void 0!==t?t:[],i=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));const n=this.getLayerState();let s=n.zIndex;t||void 0!==n.zIndex||(s=0);for(let t=i,r=e.length;t<r;t++){const i=e[t];i.opacity*=n.opacity,i.visible=i.visible&&n.visible,i.maxResolution=Math.min(i.maxResolution,n.maxResolution),i.minResolution=Math.max(i.minResolution,n.minResolution),i.minZoom=Math.max(i.minZoom,n.minZoom),i.maxZoom=Math.min(i.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==i.extent?i.extent=(0,p.Ed)(i.extent,n.extent):i.extent=n.extent),void 0===i.zIndex&&(i.zIndex=s)}return e}getSourceState(){return"ready"}}const z=D;class N extends a.ZP{constructor(t,e,i){super(t),this.map=e,this.frameState=void 0!==i?i:null}}const G=N,B=class extends G{constructor(t,e,i,n,s,r){super(t,e,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==n&&n,this.activePointers=r}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},W={SINGLECLICK:"singleclick",CLICK:L.Z.CLICK,DBLCLICK:L.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},U="pointerdown";var Y=i(208),V=i(177);class X extends Y.Z{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===e?1:e,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=(0,I.oL)(i,U,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=(0,I.oL)(i,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(L.Z.TOUCHMOVE,this.boundHandleTouchMove_,!!V.bM&&{passive:!1})}emulateClick_(t){let e=new B(W.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new B(W.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const e=new B(W.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}),250)}updateActivePointers_(t){const e=t,i=e.pointerId;if(e.type==W.POINTERUP||e.type==W.POINTERCANCEL){delete this.trackedTouches_[i];for(const t in this.trackedTouches_)if(this.trackedTouches_[t].target!==e.target){delete this.trackedTouches_[t];break}}else e.type!=W.POINTERDOWN&&e.type!=W.POINTERMOVE||(this.trackedTouches_[i]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new B(W.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(I.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);const e=new B(W.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.down_={};for(const e in t){const i=t[e];this.down_[e]="function"==typeof i?g.Zn:i}if(0===this.dragListenerKeys_.length){const t=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,I.oL)(t,W.POINTERMOVE,this.handlePointerMove_,this),(0,I.oL)(t,W.POINTERUP,this.handlePointerUp_,this),(0,I.oL)(this.element_,W.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push((0,I.oL)(this.element_.getRootNode(),W.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new B(W.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new B(W.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,I.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(L.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,I.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(I.bN),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const j=X,K="postrender",H="loadstart",q="loadend",J="layergroup",$="size",Q="target",tt="view",et=1/0,it=class{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,(0,A.Z)(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const n=this.keyFunction_(i);return delete this.queuedElements_[n],i}enqueue(t){(0,O.h)(!(this.keyFunction_(t)in this.queuedElements_),31);const e=this.priorityFunction_(t);return e!=et&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,i=this.priorities_,n=e.length,s=e[t],r=i[t],o=t;for(;t<n>>1;){const s=this.getLeftChildIndex_(t),r=this.getRightChildIndex_(t),o=r<n&&i[r]<i[s]?r:s;e[t]=e[o],i[t]=i[o],t=o}e[t]=s,i[t]=r,this.siftDown_(o,t)}siftDown_(t,e){const i=this.elements_,n=this.priorities_,s=i[e],r=n[e];for(;e>t;){const t=this.getParentIndex_(e);if(!(n[t]>r))break;i[e]=i[t],n[e]=n[t],e=t}i[e]=s,n[e]=r}reprioritize(){const t=this.priorityFunction_,e=this.elements_,i=this.priorities_;let n=0;const s=e.length;let r,o,a;for(o=0;o<s;++o)r=e[o],a=t(r),a==et?delete this.queuedElements_[this.keyFunction_(r)]:(i[n]=a,e[n++]=r);e.length=n,i.length=n,this.heapify_()}};var nt=i(7195);const st=class extends it{constructor(t,e){super((function(e){return t.apply(null,e)}),(function(t){return t[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);return e&&t[0].addEventListener(L.Z.CHANGE,this.boundHandleTileChange_),e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,i=e.getState();if(i===nt.Z.LOADED||i===nt.Z.ERROR||i===nt.Z.EMPTY){i!==nt.Z.ERROR&&e.removeEventListener(L.Z.CHANGE,this.boundHandleTileChange_);const t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let i,n,s,r=0;for(;this.tilesLoading_<t&&r<e&&this.getCount()>0;)n=this.dequeue()[0],s=n.getKey(),i=n.getState(),i!==nt.Z.IDLE||s in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++r,n.load())}};var rt=i(9090),ot=i(7755);class at extends n.Z{constructor(t){super();const e=t.element;!e||t.target||e.style.pointerEvents||(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){(0,k.ZF)(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&(0,k.ZF)(this.element);for(let t=0,e=this.listenerKeys.length;t<e;++t)(0,I.bN)(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==g.Zn&&this.listenerKeys.push((0,I.oL)(t,K,this.render,this)),t.render())}render(t){}setTarget(t){this.target_="string"==typeof t?document.getElementById(t):t}}const ht=at;var lt=i(5537);const ct=class extends ht{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===t.collapsed||t.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==t.collapsible,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1);const e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.expandClassName?t.expandClassName:e+"-expand",s=void 0!==t.collapseLabel?t.collapseLabel:"›",r=void 0!==t.collapseClassName?t.collapseClassName:e+"-collapse";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=r):this.collapseLabel_=s;const o=void 0!==t.label?t.label:"i";"string"==typeof o?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=n):this.label_=o;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(L.Z.CLICK,this.handleClick_.bind(this),!1);const h=e+" "+T.XV+" "+T.hg+(this.collapsed_&&this.collapsible_?" "+T.hN:"")+(this.collapsible_?"":" ol-uncollapsible"),l=this.element;l.className=h,l.appendChild(this.toggleButton_),l.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e={},i=[];let n=!0;const s=t.layerStatesArray;for(let r=0,o=s.length;r<o;++r){const o=s[r];if(!(0,v.j)(o,t.viewState))continue;const a=o.layer.getSource();if(!a)continue;const h=a.getAttributions();if(!h)continue;const l=h(t);if(l)if(n=n&&!1!==a.getAttributionsCollapsible(),Array.isArray(l))for(let t=0,n=l.length;t<n;++t)l[t]in e||(i.push(l[t]),e[l[t]]=!0);else l in e||(i.push(l),e[l]=!0)}return this.overrideCollapsible_||this.setCollapsible(n),i}updateElement_(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!(0,lt.fS)(e,this.renderedAttributions_)){(0,k.ep)(this.ulElement_);for(let t=0,i=e.length;t<i;++t){const i=document.createElement("li");i.innerHTML=e[t],this.ulElement_.appendChild(i)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(T.hN),this.collapsed_?(0,k.$H)(this.collapseLabel_,this.label_):(0,k.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}};var dt=i(1015);const ut=class extends ht{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=void 0!==t.className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"⇧",n=void 0!==t.compassClassName?t.compassClassName:"ol-compass";this.label_=null,"string"==typeof i?(this.label_=document.createElement("span"),this.label_.className=n,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(n));const s=t.tipLabel?t.tipLabel:"Reset rotation",r=document.createElement("button");r.className=e+"-reset",r.setAttribute("type","button"),r.title=s,r.appendChild(this.label_),r.addEventListener(L.Z.CLICK,this.handleClick_.bind(this),!1);const o=e+" "+T.XV+" "+T.hg,a=this.element;a.className=o,a.appendChild(r),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(T.oj)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:dt.Vv}):t.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const i=e.viewState.rotation;if(i!=this.rotation_){const t="rotate("+i+"rad)";if(this.autoHide_){const t=this.element.classList.contains(T.oj);t||0!==i?t&&0!==i&&this.element.classList.remove(T.oj):this.element.classList.add(T.oj)}this.label_.style.transform=t}this.rotation_=i}},gt=class extends ht{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=void 0!==t.className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInClassName?t.zoomInClassName:e+"-in",s=void 0!==t.zoomOutClassName?t.zoomOutClassName:e+"-out",r=void 0!==t.zoomInLabel?t.zoomInLabel:"+",o=void 0!==t.zoomOutLabel?t.zoomOutLabel:"–",a=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",h=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",l=document.createElement("button");l.className=n,l.setAttribute("type","button"),l.title=a,l.appendChild("string"==typeof r?document.createTextNode(r):r),l.addEventListener(L.Z.CLICK,this.handleClick_.bind(this,i),!1);const c=document.createElement("button");c.className=s,c.setAttribute("type","button"),c.title=h,c.appendChild("string"==typeof o?document.createTextNode(o):o),c.addEventListener(L.Z.CLICK,this.handleClick_.bind(this,-i),!1);const d=e+" "+T.XV+" "+T.hg,u=this.element;u.className=d,u.appendChild(l),u.appendChild(c),this.duration_=void 0!==t.duration?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const e=this.getMap().getView();if(!e)return;const i=e.getZoom();if(void 0!==i){const n=e.getConstrainedZoom(i+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:n,duration:this.duration_,easing:dt.Vv})):e.setZoom(n)}}},_t="active";class ft extends n.Z{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(_t)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(_t,t)}setMap(t){this.map_=t}}function pt(t,e,i,n){const s=t.getZoom();if(void 0===s)return;const r=t.getConstrainedZoom(s+e),o=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:i,duration:void 0!==n?n:250,easing:dt.Vv})}const mt=ft,vt=class extends mt{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==W.DBLCLICK){const i=t.originalEvent,n=t.map,s=t.coordinate,r=i.shiftKey?-this.delta_:this.delta_;pt(n.getView(),r,s,this.duration_),i.preventDefault(),e=!0}return!e}};function yt(t){const e=t.length;let i=0,n=0;for(let s=0;s<e;s++)i+=t[s].clientX,n+=t[s].clientY;return{clientX:i/e,clientY:n/e}}const xt=class extends mt{constructor(t){super(t=t||{}),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==W.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==W.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==W.POINTERDOWN){const i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==W.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}};function wt(t){const e=arguments;return function(t){let i=!0;for(let n=0,s=e.length;n<s&&(i=i&&e[n](t),i);++n);return i}}const St=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Et=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){const e=t.map.getTargetElement(),i=t.map.getOwnerDocument().activeElement;return e.contains(i)}(t)},Ct=g.uX,bt=function(t){const e=t.originalEvent;return 0==e.button&&!(V.G$&&V.tK&&e.ctrlKey)},Tt=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Rt=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},It=function(t){const e=t.originalEvent,i=e.target.tagName;return"INPUT"!==i&&"SELECT"!==i&&"TEXTAREA"!==i&&!e.target.isContentEditable},kt=function(t){const e=t.originalEvent;return(0,O.h)(void 0!==e,56),"mouse"==e.pointerType},Mt=function(t){const e=t.originalEvent;return(0,O.h)(void 0!==e,56),e.isPrimary&&0===e.button},Lt=class extends xt{constructor(t){super({stopDown:g.Dv}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:wt(Tt,Mt);this.condition_=t.onFocusOnly?wt(Et,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const i=this.targetPointers,n=e.getEventPixel(yt(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){const e=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],i=t.map.getView();(0,y.bA)(e,i.getResolution()),(0,y.U1)(e,i.getRotation()),i.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),s=i.getCenterInternal(),r=e.getPixelFromCoordinateInternal(s),o=e.getCoordinateFromPixelInternal([r[0]-t*Math.cos(n),r[1]-t*Math.sin(n)]);i.animateInternal({center:i.getConstrainedCenter(o),duration:500,easing:dt.Vv})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};var Pt=i(828);const Ot=class extends xt{constructor(t){t=t||{},super({stopDown:g.Dv}),this.condition_=t.condition?t.condition:St,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!kt(t))return;const e=t.map,i=e.getView();if(i.getConstraints().rotation===Pt.h$)return;const n=e.getSize(),s=t.pixel,r=Math.atan2(n[1]/2-s[1],s[0]-n[0]/2);if(void 0!==this.lastAngle_){const t=r-this.lastAngle_;i.adjustRotationInternal(-t)}this.lastAngle_=r}handleUpEvent(t){return!kt(t)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){return!!kt(t)&&(!(!bt(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}};var At=i(1082);class Zt extends u.Z{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,i="px",n=this.element_.style;n.left=Math.min(t[0],e[0])+i,n.top=Math.min(t[1],e[1])+i,n.width=Math.abs(e[0]-t[0])+i,n.height=Math.abs(e[1]-t[1])+i}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new At.ZP([i])}getGeometry(){return this.geometry_}}const Ft=Zt;class Dt extends a.ZP{constructor(t,e,i){super(t),this.coordinate=e,this.mapBrowserEvent=i}}const zt=class extends xt{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new Ft(t.className||"ol-dragbox"),this.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:bt,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,i){const n=i[0]-e[0],s=i[1]-e[1];return n*n+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Dt("boxdrag",t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Dt(e?"boxend":"boxcancel",t.coordinate,t)),!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Dt("boxstart",t.coordinate,t)),!0)}onBoxEnd(t){}},Nt=class extends zt{constructor(t){super({condition:(t=t||{}).condition?t.condition:Rt,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const e=this.getMap().getView();let i=this.getGeometry();if(this.out_){const t=e.rotatedExtentForGeometry(i),n=e.getResolutionForExtentInternal(t),s=e.getResolution()/n;i=i.clone(),i.scale(s*s)}e.fitInternal(i,{duration:this.duration_,easing:dt.Vv})}},Gt=class extends mt{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return Tt(t)&&It(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==L.Z.KEYDOWN){const i=t.originalEvent,n=i.keyCode;if(this.condition_(t)&&(40==n||37==n||39==n||38==n)){const s=t.map.getView(),r=s.getResolution()*this.pixelDelta_;let o=0,a=0;40==n?a=-r:37==n?o=-r:39==n?o=r:a=r;const h=[o,a];(0,y.U1)(h,s.getRotation()),function(t,e,i){const n=t.getCenterInternal();if(n){const s=[n[0]+e[0],n[1]+e[1]];t.animateInternal({duration:void 0!==i?i:250,easing:dt.GE,center:t.getConstrainedCenter(s)})}}(s,h,this.duration_),i.preventDefault(),e=!0}}return!e}},Bt=class extends mt{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:It,this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==L.Z.KEYDOWN||t.type==L.Z.KEYPRESS){const i=t.originalEvent,n=i.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){const s=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_;pt(s.getView(),r,void 0,this.duration_),i.preventDefault(),e=!0}}return!e}};var Wt=i(3983);const Ut=class extends mt{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:Ct;this.condition_=t.onFocusOnly?wt(Et,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();t&&t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t))return!0;if(t.type!==L.Z.WHEEL)return!0;const e=t.map,i=t.originalEvent;let n;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==L.Z.WHEEL&&(n=i.deltaY,V.V&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=V.MP),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)),0===n)return!1;this.lastDelta_=n;const s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?"trackpad":"wheel");const r=e.getView();if("trackpad"===this.mode_&&!r.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(r.getAnimating()&&r.cancelAnimations(),r.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),r.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=n;const o=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,e),o),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let i=-(0,Wt.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),pt(e,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}},Yt=class extends xt{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=g.Dv),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0;const i=this.targetPointers[0],n=this.targetPointers[1],s=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){const t=s-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=s;const r=t.map,o=r.getView();o.getConstraints().rotation!==Pt.h$&&(this.anchor_=r.getCoordinateFromPixelInternal(r.getEventPixel(yt(this.targetPointers))),this.rotating_&&(r.render(),o.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}},Vt=class extends xt{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=g.Dv),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const i=this.targetPointers[0],n=this.targetPointers[1],s=i.clientX-n.clientX,r=i.clientY-n.clientY,o=Math.sqrt(s*s+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/o),this.lastDistance_=o;const a=t.map,h=a.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(yt(this.targetPointers))),a.render(),h.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map.getView(),i=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}};var Xt=i(8661),jt=i(4307),Kt=i(44);function Ht(t){t instanceof v.Z?t.setMapInternal(null):t instanceof z&&t.getLayers().forEach(Ht)}function qt(t,e){if(t instanceof v.Z)t.setMapInternal(e);else if(t instanceof z){const i=t.getLayers().getArray();for(let t=0,n=i.length;t<n;++t)qt(i[t],e)}}class Jt extends n.Z{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=function(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const i={},n=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new z({layers:t.layers});let s,r,o;return i[J]=n,i[Q]=t.target,i[tt]=t.view instanceof rt.ZP?t.view:new rt.ZP,void 0!==t.controls&&(Array.isArray(t.controls)?s=new d(t.controls.slice()):((0,O.h)("function"==typeof t.controls.getArray,47),s=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new d(t.interactions.slice()):((0,O.h)("function"==typeof t.interactions.getArray,48),r=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new d(t.overlays.slice()):((0,O.h)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new d,{controls:s,interactions:r,keyboardEventTarget:e,overlays:o,values:i}}(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:V.MP,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=(0,f.Ue)(),this.pixelToCoordinateTransform_=(0,f.Ue)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=e.controls||function(t){t=t||{};const e=new d;return(void 0===t.zoom||t.zoom)&&e.push(new gt(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new ut(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new ct(t.attributionOptions)),e}(),this.interactions=e.interactions||function(t){t=t||{};const e=new d,i=new class{constructor(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let i=e-3;for(;i>0&&this.points_[i+2]>t;)i-=3;const n=this.points_[e+2]-this.points_[i+2];if(n<1e3/60)return!1;const s=this.points_[e]-this.points_[i],r=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(r,s),this.initialVelocity_=Math.sqrt(s*s+r*r)/n,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new Ot),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new vt({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new Lt({onFocusOnly:t.onFocusOnly,kinetic:i})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new Yt),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new Vt({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new Gt),e.push(new Bt({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new Ut({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new Nt({duration:t.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new st(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(J,this.handleLayerGroupChanged_),this.addChangeListener(tt,this.handleViewChanged_),this.addChangeListener($,this.handleSizeChanged_),this.addChangeListener(Q,this.handleTargetChanged_),this.setProperties(e.values);const i=this;!t.view||t.view instanceof rt.ZP||t.view.then((function(t){i.setView(new rt.ZP(t))})),this.controls.addEventListener(r,(t=>{t.element.setMap(this)})),this.controls.addEventListener(o,(t=>{t.element.setMap(null)})),this.interactions.addEventListener(r,(t=>{t.element.setMap(this)})),this.interactions.addEventListener(o,(t=>{t.element.setMap(null)})),this.overlays_.addEventListener(r,(t=>{this.addOverlayInternal_(t.element)})),this.overlays_.addEventListener(o,(t=>{const e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)})),this.controls.forEach((t=>{t.setMap(this)})),this.interactions.forEach((t=>{t.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){qt(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,i){if(!this.frameState_||!this.renderer_)return;const n=this.getCoordinateFromPixelInternal(t),s=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,r=void 0!==i.layerFilter?i.layerFilter:g.uX,o=!1!==i.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,s,o,e,null,r,null)}getFeaturesAtPixel(t,e){const i=[];return this.forEachFeatureAtPixel(t,(function(t){i.push(t)}),e),i}getAllLayers(){const t=[];return function e(i){i.forEach((function(i){i instanceof z?e(i.getLayers()):t.push(i)}))}(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(t),n=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:g.uX,s=void 0!==e.hitTolerance?e.hitTolerance:0,r=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,r,n,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const e=this.viewport_.getBoundingClientRect(),i=this.getSize(),n=e.width/i[0],s=e.height/i[1],r="changedTouches"in t?t.changedTouches[0]:t;return[(r.clientX-e.left)/n,(r.clientY-e.top)/s]}getTarget(){return this.get(Q)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return(0,Xt.lO)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?(0,f.nn)(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(J)}setLayers(t){const e=this.getLayerGroup();if(t instanceof d)return void e.setLayers(t);const i=e.getLayers();i.clear(),i.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,i=t.length;e<i;++e){const i=t[e];if(!i.visible)continue;const n=i.layer.getRenderer();if(n&&!n.ready)return!0;const s=i.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(t){const e=(0,Xt.Vs)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?(0,f.nn)(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get($)}getView(){return this.get(tt)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,i,n){return function(t,e,i,n,s){if(!t||!(i in t.wantedTiles))return et;if(!t.wantedTiles[i][e.getKey()])return et;const r=t.viewState.center,o=n[0]-r[0],a=n[1]-r[1];return 65536*Math.log(s)+Math.sqrt(o*o+a*a)/s}(this.frameState_,t,e,i,n)}handleBrowserEvent(t,e){e=e||t.type;const i=new B(e,this,t);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,i=e.type;if(i===U||i===L.Z.WHEEL||i===L.Z.KEYDOWN){const t=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():t,n=e.target;if(this.overlayContainerStopEvent_.contains(n)||!(i===t?t.documentElement:i).contains(n))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){const e=this.getInteractions().getArray().slice();for(let i=e.length-1;i>=0;i--){const n=e[i];if(n.getMap()===this&&n.getActive()&&this.getTargetElement()&&(!n.handleEvent(t)||t.propagationStopped))break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let i=this.maxTilesLoading_,n=i;if(t){const e=t.viewHints;if(e[ot.Z.ANIMATING]||e[ot.Z.INTERACTING]){const e=Date.now()-t.time>8;i=e?0:8,n=e?0:2}}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,n))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(b.Z.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(b.Z.RENDERCOMPLETE,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new G(q,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new G(H,this,t))));const i=this.postRenderFunctions_;for(let e=0,n=i.length;e<n;++e)i[e](this,t);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)(0,I.bN)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(L.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(L.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,k.ZF)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host)}const t=this.getTarget(),e="string"==typeof t?document.getElementById(t):t;if(this.targetElement_=e,e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new M(this)),this.mapBrowserEventHandler_=new j(this,this.moveTolerance_);for(const t in W)this.mapBrowserEventHandler_.addEventListener(W[t],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(L.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(L.Z.WHEEL,this.boundHandleBrowserEvent_,!!V.bM&&{passive:!1});const t=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[(0,I.oL)(t,L.Z.KEYDOWN,this.handleBrowserEvent,this),(0,I.oL)(t,L.Z.KEYPRESS,this.handleBrowserEvent,this)];const i=e.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(e)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,I.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,I.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,I.oL)(t,E.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,I.oL)(t,L.Z.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(I.bN),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Z("addlayer",t)),this.layerGroupPropertyListenerKeys_=[(0,I.oL)(t,E.Z.PROPERTYCHANGE,this.render,this),(0,I.oL)(t,L.Z.CHANGE,this.render,this),(0,I.oL)(t,"addlayer",this.handleLayerAdd_,this),(0,I.oL)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,i=t.length;e<i;++e){const i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){Ht(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),i=this.getView(),n=this.frameState_;let s=null;if(void 0!==e&&(0,jt.py)(e)&&i&&i.isDef()){const n=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),r=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,p.p8)(r.center,r.resolution,r.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:r,viewHints:n,wantedTiles:{},mapId:(0,_.sq)(this),renderTargets:{}},r.nextCenter&&r.nextResolution){const t=isNaN(r.nextRotation)?r.rotation:r.nextRotation;s.nextExtent=(0,p.p8)(r.nextCenter,r.nextResolution,t,e)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),n&&(!this.previousExtent_||!(0,p.xb)(this.previousExtent_)&&!(0,p.fS)(s.extent,this.previousExtent_))&&(this.dispatchEvent(new G("movestart",this,n)),this.previousExtent_=(0,p.YN)(this.previousExtent_)),this.previousExtent_&&!s.viewHints[ot.Z.ANIMATING]&&!s.viewHints[ot.Z.INTERACTING]&&!(0,p.fS)(s.extent,this.previousExtent_)&&(this.dispatchEvent(new G("moveend",this,s)),(0,p.d9)(s.extent,this.previousExtent_))),this.dispatchEvent(new G(K,this,s)),this.renderComplete_=this.hasListener(H)||this.hasListener(q)||this.hasListener(b.Z.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new Z("removelayer",e)),this.set(J,t)}setSize(t){this.set($,t)}setTarget(t){this.set(Q,t)}setView(t){if(!t||t instanceof rt.ZP)return void this.set(tt,t);this.set(tt,new rt.ZP);const e=this;t.then((function(t){e.setView(new rt.ZP(t))}))}updateSize(){const t=this.getTargetElement();let e;if(t){const i=getComputedStyle(t),n=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);isNaN(n)||isNaN(s)||(e=[n,s],!(0,jt.py)(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&(0,Kt.ZK)("No map visible because the map container's width or height are 0."))}const i=this.getSize();!e||i&&(0,lt.fS)(e,i)||(this.setSize(e),this.updateViewportSize_())}updateViewportSize_(){const t=this.getView();if(t){let e;const i=getComputedStyle(this.viewport_);i.width&&i.height&&(e=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(e)}}}const $t=Jt},2971:(t,e,i)=>{"use strict";i.d(e,{Z:()=>c});var n=i(291),s=i(5990),r=i(2706),o=i(4187),a=i(9374);class h extends n.ZP{constructor(t,e,i){super(t),this.key=e,this.oldValue=i}}class l extends r.Z{constructor(t){super(),this.on,this.once,this.un,(0,o.sq)(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(t,e){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new h(i,t,e)),i=s.Z.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new h(i,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,i){const n=this.values_||(this.values_={});if(i)n[t]=e;else{const i=n[t];n[t]=e,i!==e&&this.notify(t,i)}}setProperties(t,e){for(const i in t)this.set(i,t[i],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const i=this.values_[t];delete this.values_[t],(0,a.x)(this.values_)&&(this.values_=null),e||this.notify(t,i)}}}const c=l},5990:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={PROPERTYCHANGE:"propertychange"}},2706:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(208),s=i(5487),r=i(5818);class o extends n.Z{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(s.Z.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const i=t.length,n=new Array(i);for(let s=0;s<i;++s)n[s]=(0,r.oL)(this,t[s],e);return n}return(0,r.oL)(this,t,e)}onceInternal(t,e){let i;if(Array.isArray(t)){const n=t.length;i=new Array(n);for(let s=0;s<n;++s)i[s]=(0,r.Vx)(this,t[s],e)}else i=(0,r.Vx)(this,t,e);return e.ol_key=i,i}unInternal(t,e){const i=e.ol_key;if(i)!function(t){if(Array.isArray(t))for(let e=0,i=t.length;e<i;++e)(0,r.bN)(t[e]);else(0,r.bN)(t)}(i);else if(Array.isArray(t))for(let i=0,n=t.length;i<n;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}}o.prototype.on,o.prototype.once,o.prototype.un;const a=o},4806:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var n=i(208),s=i(5487),r=i(7195),o=i(4187),a=i(1015);class h extends n.Z{constructor(t,e,i){super(),i=i||{},this.tileCoord=t,this.state=e,this.interimTile=null,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(s.Z.CHANGE)}release(){this.state===r.Z.ERROR&&this.setState(r.Z.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let t=this.interimTile;do{if(t.getState()==r.Z.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){if(!this.interimTile)return;let t=this.interimTile,e=this;do{if(t.getState()==r.Z.LOADED){t.interimTile=null;break}t.getState()==r.Z.LOADING?e=t:t.getState()==r.Z.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==r.Z.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){(0,o.O3)()}getAlpha(t,e){if(!this.transition_)return 1;let i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;const n=e-i+1e3/60;return n>=this.transition_?1:(0,a.YQ)(n/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}const l=h},5532:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var n=i(9515);const s=class{constructor(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const i=this.entries_[t];return(0,n.h)(void 0!==i,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(t){const e=this.entries_[t];return(0,n.h)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e,i=0;for(e=this.newest_;e;e=e.older)t[i++]=e.key_;return t}getValues(){const t=new Array(this.count_);let e,i=0;for(e=this.newest_;e;e=e.older)t[i++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){if(this.containsKey(t))return this.entries_[t].value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){(0,n.h)(!(t in this.entries_),16);const i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_}setSize(t){this.highWaterMark=t}};var r=i(8634);const o=class extends s{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const t=this.peekFirstKey(),e=(0,r.Ul)(t)[0];this.forEach((t=>{t.tileCoord[0]!==e&&(this.remove((0,r.km)(t.tileCoord)),t.release())}))}}},2519:(t,e,i)=>{"use strict";i.d(e,{T:()=>s,Z:()=>r});class n{constructor(t,e,i,n){this.minX=t,this.maxX=e,this.minY=i,this.maxY=n}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function s(t,e,i,s,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=i,r.maxY=s,r):new n(t,e,i,s)}const r=n},7195:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},9090:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>T});var n=i(2971),s=i(7755);const r={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var o=i(4768),a=i(8661),h=i(6885),l=i(1900),c=i(9515),d=i(3983);function u(t,e,i){return function(n,s,r,o,a){if(!n)return;if(!s&&!e)return n;const h=e?0:r[0]*s,l=e?0:r[1]*s,c=a?a[0]:0,u=a?a[1]:0;let g=t[0]+h/2+c,_=t[2]-h/2+c,f=t[1]+l/2+u,p=t[3]-l/2+u;g>_&&(g=(_+g)/2,_=g),f>p&&(f=(p+f)/2,p=f);let m=(0,d.uZ)(n[0],g,_),v=(0,d.uZ)(n[1],f,p);if(o&&i&&s){const t=30*s;m+=-t*Math.log(1+Math.max(0,g-n[0])/t)+t*Math.log(1+Math.max(0,n[0]-_)/t),v+=-t*Math.log(1+Math.max(0,f-n[1])/t)+t*Math.log(1+Math.max(0,n[1]-p)/t)}return[m,v]}}function g(t){return t}var _=i(8641),f=i(5537);function p(t,e,i,n){const s=(0,_.dz)(e)/i[0],r=(0,_.Cr)(e)/i[1];return n?Math.min(t,Math.max(s,r)):Math.min(t,Math.min(s,r))}function m(t,e,i){let n=Math.min(t,e);return n*=Math.log(1+50*Math.max(0,t/e-1))/50+1,i&&(n=Math.max(n,i),n/=Math.log(1+50*Math.max(0,i/t-1))/50+1),(0,d.uZ)(n,i/2,2*e)}function v(t,e,i,n,s){return i=void 0===i||i,function(r,o,a,h){if(void 0!==r){const o=n?p(t,n,a,s):t;return i&&h?m(r,o,e):(0,d.uZ)(r,e,o)}}}var y=i(828),x=i(1015),w=i(1082);class S extends n.Z{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=(0,a.UQ)(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&(0,a.h_)(),t.center&&(t.center=(0,a.Vs)(t.center,this.projection_)),t.extent&&(t.extent=(0,a.dY)(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const t in r)delete e[t];this.setProperties(e,!0);const i=function(t){let e,i,n;let s=void 0!==t.minZoom?t.minZoom:0,r=void 0!==t.maxZoom?t.maxZoom:28;const h=void 0!==t.zoomFactor?t.zoomFactor:2,l=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,u=void 0!==t.showFullExtent&&t.showFullExtent,g=(0,a.UQ)(t.projection,"EPSG:3857"),y=g.getExtent();let x=t.constrainOnlyCenter,w=t.extent;if(l||w||!g.isGlobal()||(x=!1,w=y),void 0!==t.resolutions){const o=t.resolutions;i=o[s],n=void 0!==o[r]?o[r]:o[o.length-1],e=t.constrainResolution?function(t,e,i,n){return e=void 0===e||e,function(s,r,o,a){if(void 0!==s){const h=t[0],l=t[t.length-1],c=i?p(h,i,o,n):h;if(a)return e?m(s,c,l):(0,d.uZ)(s,l,c);const u=Math.min(c,s),g=Math.floor((0,f.h7)(t,u,r));return t[g]>c&&g<t.length-1?t[g+1]:t[g]}}}(o,c,!x&&w,u):v(i,n,c,!x&&w,u)}else{const l=(y?Math.max((0,_.dz)(y),(0,_.Cr)(y)):360*a.Wm.degrees/g.getMetersPerUnit())/o.S/Math.pow(2,0),f=l/Math.pow(2,28);i=t.maxResolution,void 0!==i?s=0:i=l/Math.pow(h,s),n=t.minResolution,void 0===n&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(h,r):l/Math.pow(h,r):f),r=s+Math.floor(Math.log(i/n)/Math.log(h)),n=i/Math.pow(h,r-s),e=t.constrainResolution?function(t,e,i,n,s,r){return n=void 0===n||n,i=void 0!==i?i:0,function(o,a,h,l){if(void 0!==o){const c=s?p(e,s,h,r):e;if(l)return n?m(o,c,i):(0,d.uZ)(o,i,c);const u=1e-9,g=Math.ceil(Math.log(e/c)/Math.log(t)-u),_=-a*(.5-u)+.5,f=Math.min(c,o),v=Math.floor(Math.log(e/f)/Math.log(t)+_),y=Math.max(g,v),x=e/Math.pow(t,y);return(0,d.uZ)(x,i,c)}}}(h,i,n,c,!x&&w,u):v(i,n,c,!x&&w,u)}return{constraint:e,maxResolution:i,minResolution:n,minZoom:s,zoomFactor:h}}(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;const n=function(t){if(void 0!==t.extent){const e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return u(t.extent,t.constrainOnlyCenter,e)}const e=(0,a.UQ)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,u(t,!1,!1)}return g}(t),s=i.constraint,h=function(t){if(void 0===t.enableRotation||t.enableRotation){const e=t.constrainRotation;return void 0===e||!0===e?(0,y.Gw)():!1===e?y.YP:"number"==typeof e?(0,y.gE)(e):y.YP}return y.h$}(t);this.constraints_={center:n,resolution:s,rotation:h},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const i=this.getCenter();if(i){const n=t||[0,0,0,0];e=e||[0,0,0,0];const s=this.getResolution(),r=s/2*(n[3]-e[3]+e[1]-n[1]),o=s/2*(n[0]-e[0]+e[2]-n[2]);this.setCenterInternal([i[0]+r,i[1]-o])}}getUpdatedOptions_(t){const e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let t=0;t<e.length;++t){let i=arguments[t];i.center&&(i=Object.assign({},i),i.center=(0,a.Vs)(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=(0,a.Vs)(i.anchor,this.getProjection())),e[t]=i}this.animateInternal.apply(this,e)}animateInternal(t){let e,i=arguments.length;i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i);let n=0;for(;n<i&&!this.isDef();++n){const t=arguments[n];t.center&&this.setCenterInternal(t.center),void 0!==t.zoom?this.setZoom(t.zoom):t.resolution&&this.setResolution(t.resolution),void 0!==t.rotation&&this.setRotation(t.rotation)}if(n===i)return void(e&&E(e,!0));let r=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,h=this.targetRotation_;const l=[];for(;n<i;++n){const t=arguments[n],i={start:r,complete:!1,anchor:t.anchor,duration:void 0!==t.duration?t.duration:1e3,easing:t.easing||x.rd,callback:e};if(t.center&&(i.sourceCenter=o,i.targetCenter=t.center.slice(),o=i.targetCenter),void 0!==t.zoom?(i.sourceResolution=a,i.targetResolution=this.getResolutionForZoom(t.zoom),a=i.targetResolution):t.resolution&&(i.sourceResolution=a,i.targetResolution=t.resolution,a=i.targetResolution),void 0!==t.rotation){i.sourceRotation=h;const e=(0,d.$W)(t.rotation-h+Math.PI,2*Math.PI)-Math.PI;i.targetRotation=h+e,h=i.targetRotation}C(i)?i.complete=!0:r+=i.duration,l.push(i)}this.animations_.push(l),this.setHint(s.Z.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[s.Z.ANIMATING]>0}getInteracting(){return this.hints_[s.Z.INTERACTING]>0}cancelAnimations(){let t;this.setHint(s.Z.ANIMATING,-this.hints_[s.Z.ANIMATING]);for(let e=0,i=this.animations_.length;e<i;++e){const i=this.animations_[e];if(i[0].callback&&E(i[0].callback,!1),!t)for(let e=0,n=i.length;e<n;++e){const n=i[e];if(!n.complete){t=n.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let i=this.animations_.length-1;i>=0;--i){const n=this.animations_[i];let r=!0;for(let i=0,s=n.length;i<s;++i){const s=n[i];if(s.complete)continue;const o=t-s.start;let a=s.duration>0?o/s.duration:1;a>=1?(s.complete=!0,a=1):r=!1;const h=s.easing(a);if(s.sourceCenter){const t=s.sourceCenter[0],e=s.sourceCenter[1],i=s.targetCenter[0],n=s.targetCenter[1];this.nextCenter_=s.targetCenter;const r=t+h*(i-t),o=e+h*(n-e);this.targetCenter_=[r,o]}if(s.sourceResolution&&s.targetResolution){const t=1===h?s.targetResolution:s.sourceResolution+h*(s.targetResolution-s.sourceResolution);if(s.anchor){const e=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(t,0,e,!0);this.targetCenter_=this.calculateCenterZoom(i,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=t,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){const t=1===h?(0,d.$W)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+h*(s.targetRotation-s.sourceRotation);if(s.anchor){const e=this.constraints_.rotation(t,!0);this.targetCenter_=this.calculateCenterRotate(e,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=t}if(this.applyTargetState_(!0),e=!0,!s.complete)break}if(r){this.animations_[i]=null,this.setHint(s.Z.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const t=n[0].callback;t&&E(t,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let i;const n=this.getCenterInternal();return void 0!==n&&(i=[n[0]-e[0],n[1]-e[1]],(0,l.U1)(i,t-this.getRotation()),(0,l.IH)(i,e)),i}calculateCenterZoom(t,e){let i;const n=this.getCenterInternal(),s=this.getResolution();return void 0!==n&&void 0!==s&&(i=[e[0]-t*(e[0]-n[0])/s,e[1]-t*(e[1]-n[1])/s]),i}getViewportSize_(t){const e=this.viewportSize_;if(t){const i=e[0],n=e[1];return[Math.abs(i*Math.cos(t))+Math.abs(n*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(n*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t?(0,a.lO)(t,this.getProjection()):t}getCenterInternal(){return this.get(r.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const e=this.calculateExtentInternal(t);return(0,a.Fj)(e,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();(0,c.h)(e,1);const i=this.getResolution();(0,c.h)(void 0!==i,2);const n=this.getRotation();return(0,c.h)(void 0!==n,3),(0,_.p8)(e,i,n,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(r.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal((0,a.dY)(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const i=(0,_.dz)(t)/e[0],n=(0,_.Cr)(t)/e[1];return Math.max(i,n)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,n=Math.log(e/i)/Math.log(t);return function(i){return e/Math.pow(t,i*n)}}getRotation(){return this.get(r.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,s=Math.log(i/n)/e;return function(t){return Math.log(i/t)/e/s}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const i=this.padding_;return i&&(e=[e[0]-i[1]-i[3],e[1]-i[0]-i[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),i=this.getRotation();let n=this.getCenterInternal();const s=this.padding_;if(s){const t=this.getViewportSizeMinusPadding_();n=b(n,this.getViewportSize_(),[t[0]/2+s[3],t[1]/2+s[0]],e,i)}return{center:n.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getZoom(){let t;const e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,i,n=this.minZoom_||0;if(this.resolutions_){const s=(0,f.h7)(this.resolutions_,t,1);n=s,e=this.resolutions_[s],i=s==this.resolutions_.length-1?2:e/this.resolutions_[s+1]}else e=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(e/t)/Math.log(i)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const e=(0,d.uZ)(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(i,(0,d.uZ)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let i;if((0,c.h)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){(0,c.h)(!(0,_.xb)(t),25);const e=(0,a.dY)(t,this.getProjection());i=(0,w.oJ)(e)}else if("Circle"===t.getType()){const e=(0,a.dY)(t.getExtent(),this.getProjection());i=(0,w.oJ)(e),i.rotate(this.getRotation(),(0,_.qg)(e))}else{const e=(0,a.Cs)();i=e?t.clone().transform(e,this.getProjection()):t}this.fitInternal(i,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),i=Math.cos(e),n=Math.sin(-e),s=t.getFlatCoordinates(),r=t.getStride();let o=1/0,a=1/0,h=-1/0,l=-1/0;for(let t=0,e=s.length;t<e;t+=r){const e=s[t]*i-s[t+1]*n,r=s[t]*n+s[t+1]*i;o=Math.min(o,e),a=Math.min(a,r),h=Math.max(h,e),l=Math.max(l,r)}return[o,a,h,l]}fitInternal(t,e){let i=(e=e||{}).size;i||(i=this.getViewportSizeMinusPadding_());const n=void 0!==e.padding?e.padding:[0,0,0,0],s=void 0!==e.nearest&&e.nearest;let r;r=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;const o=this.rotatedExtentForGeometry(t);let a=this.getResolutionForExtentInternal(o,[i[0]-n[1]-n[3],i[1]-n[0]-n[2]]);a=isNaN(a)?r:Math.max(a,r),a=this.getConstrainedResolution(a,s?0:1);const l=this.getRotation(),c=Math.sin(l),d=Math.cos(l),u=(0,_.qg)(o);u[0]+=(n[1]-n[3])/2*a,u[1]+=(n[0]-n[2])/2*a;const g=u[0]*d-u[1]*c,f=u[1]*d+u[0]*c,p=this.getConstrainedCenter([g,f],a),m=e.callback?e.callback:h.Zn;void 0!==e.duration?this.animateInternal({resolution:a,center:p,duration:e.duration,easing:e.easing},m):(this.targetResolution_=a,this.targetCenter_=p,this.applyTargetState_(!1,!0),E(m,!0))}centerOn(t,e,i){this.centerOnInternal((0,a.Vs)(t,this.getProjection()),e,i)}centerOnInternal(t,e,i){this.setCenterInternal(b(t,e,i,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,i,n){let s;const r=this.padding_;if(r&&t){const o=this.getViewportSizeMinusPadding_(-i),a=b(t,n,[o[0]/2+r[3],o[1]/2+r[0]],e,i);s=[t[0]-a[0],t[1]-a[1]]}return s}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){const e=(0,a.lO)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&(0,a.Vs)(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const i=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,n,i);e&&(this.targetCenter_=this.calculateCenterZoom(s,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=(0,a.Vs)(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const i=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+t,i);e&&(this.targetCenter_=this.calculateCenterRotate(n,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t?(0,a.Vs)(t,this.getProjection()):t)}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const i=this.getAnimating()||this.getInteracting()||e,n=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(n),o=this.constraints_.resolution(this.targetResolution_,0,s,i),a=this.constraints_.center(this.targetCenter_,o,s,i,this.calculateCenterShift(this.targetCenter_,o,n,s));this.get(r.ROTATION)!==n&&this.set(r.ROTATION,n),this.get(r.RESOLUTION)!==o&&(this.set(r.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),a&&this.get(r.CENTER)&&(0,l.fS)(this.get(r.CENTER),a)||this.set(r.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,i){t=void 0!==t?t:200;const n=e||0,s=this.constraints_.rotation(this.targetRotation_),r=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,n,r),a=this.constraints_.center(this.targetCenter_,o,r,!1,this.calculateCenterShift(this.targetCenter_,o,s,r));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=o,this.targetRotation_=s,this.targetCenter_=a,void this.applyTargetState_();i=i||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===o&&this.getRotation()===s&&this.getCenterInternal()&&(0,l.fS)(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:a,resolution:o,duration:t,easing:x.Vv,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(s.Z.INTERACTING,1)}endInteraction(t,e,i){i=i&&(0,a.Vs)(i,this.getProjection()),this.endInteractionInternal(t,e,i)}endInteractionInternal(t,e,i){this.setHint(s.Z.INTERACTING,-1),this.resolveConstraints(t,e,i)}getConstrainedCenter(t,e){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),i)}getConstrainedZoom(t,e){const i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,e))}getConstrainedResolution(t,e){e=e||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,i)}}function E(t,e){setTimeout((function(){t(e)}),0)}function C(t){return!(t.sourceCenter&&t.targetCenter&&!(0,l.fS)(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function b(t,e,i,n,s){const r=Math.cos(-s);let o=Math.sin(-s),a=t[0]*r-t[1]*o,h=t[1]*r+t[0]*o;return a+=(e[0]/2-i[0])*n,h+=(i[1]-e[1]/2)*n,o=-o,[a*r-h*o,h*r+a*o]}const T=S},7755:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={ANIMATING:0,INTERACTING:1}},5537:(t,e,i)=>{"use strict";function n(t,e,i){let n,r;i=i||s;let o=0,a=t.length,h=!1;for(;o<a;)n=o+(a-o>>1),r=+i(t[n],e),r<0?o=n+1:(a=n,h=!r);return h?o:~o}function s(t,e){return t>e?1:t<e?-1:0}function r(t,e,i){const n=t.length;if(t[0]<=e)return 0;if(e<=t[n-1])return n-1;let s;if(i>0){for(s=1;s<n;++s)if(t[s]<e)return s-1}else if(i<0){for(s=1;s<n;++s)if(t[s]<=e)return s}else for(s=1;s<n;++s){if(t[s]==e)return s;if(t[s]<e)return"function"==typeof i?i(e,t[s-1],t[s])>0?s-1:s:t[s-1]-e<e-t[s]?s-1:s}return n-1}function o(t,e,i){for(;e<i;){const n=t[e];t[e]=t[i],t[i]=n,++e,--i}}function a(t,e){const i=Array.isArray(e)?e:[e],n=i.length;for(let e=0;e<n;e++)t[t.length]=i[e]}function h(t,e){const i=t.length;if(i!==e.length)return!1;for(let n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function l(t,e,i){const n=e||s;return t.every((function(e,s){if(0===s)return!0;const r=n(t[s-1],e);return!(r>0||i&&0===r)}))}i.d(e,{FZ:()=>o,fS:()=>h,h7:()=>r,j2:()=>s,l7:()=>a,pT:()=>l,ry:()=>n})},9515:(t,e,i)=>{"use strict";i.d(e,{h:()=>s});var n=i(6813);function s(t,e){if(!t)throw new n.Z(e)}},9706:(t,e,i)=>{"use strict";i.d(e,{BB:()=>d,XC:()=>a,_2:()=>l});var n=i(9515),s=i(3983);const r=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,o=/^([a-z]*)$|^hsla?\(.*\)$/i;function a(t){return"string"==typeof t?t:d(t)}const h=function(){const t={};let e=0;return function(i){let s;if(t.hasOwnProperty(i))s=t[i];else{if(e>=1024){let i=0;for(const n in t)0==(3&i++)&&(delete t[n],--e)}s=function(t){let e,i,s,a,h;if(o.exec(t)&&(t=function(t){const e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}(t)),r.exec(t)){const n=t.length-1;let r;r=n<=4?1:2;const o=4===n||8===n;e=parseInt(t.substr(1+0*r,r),16),i=parseInt(t.substr(1+1*r,r),16),s=parseInt(t.substr(1+2*r,r),16),a=o?parseInt(t.substr(1+3*r,r),16):255,1==r&&(e=(e<<4)+e,i=(i<<4)+i,s=(s<<4)+s,o&&(a=(a<<4)+a)),h=[e,i,s,a/255]}else t.startsWith("rgba(")?(h=t.slice(5,-1).split(",").map(Number),c(h)):t.startsWith("rgb(")?(h=t.slice(4,-1).split(",").map(Number),h.push(1),c(h)):(0,n.h)(!1,14);return h}(i),t[i]=s,++e}return s}}();function l(t){return Array.isArray(t)?t:h(t)}function c(t){return t[0]=(0,s.uZ)(t[0]+.5|0,0,255),t[1]=(0,s.uZ)(t[1]+.5|0,0,255),t[2]=(0,s.uZ)(t[2]+.5|0,0,255),t[3]=(0,s.uZ)(t[3],0,1),t}function d(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let i=t[1];i!=(0|i)&&(i=i+.5|0);let n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+i+","+n+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}},6620:(t,e,i)=>{"use strict";i.d(e,{y:()=>s});var n=i(9706);function s(t){return Array.isArray(t)?(0,n.BB)(t):t}},44:(t,e,i)=>{"use strict";i.d(e,{ZK:()=>r});const n={info:1,warn:2,error:3,none:4};let s=n.info;function r(...t){s>n.warn||console.warn(...t)}},1900:(t,e,i)=>{"use strict";i.d(e,{Cf:()=>h,IH:()=>s,U1:()=>o,bA:()=>a,fS:()=>r});var n=i(8641);function s(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function r(t,e){let i=!0;for(let n=t.length-1;n>=0;--n)if(t[n]!=e[n]){i=!1;break}return i}function o(t,e){const i=Math.cos(e),n=Math.sin(e),s=t[0]*i-t[1]*n,r=t[1]*i+t[0]*n;return t[0]=s,t[1]=r,t}function a(t,e){return t[0]*=e,t[1]*=e,t}function h(t,e){if(e.canWrapX()){const i=(0,n.dz)(e.getExtent()),s=function(t,e,i){const s=e.getExtent();let r=0;return e.canWrapX()&&(t[0]<s[0]||t[0]>s[2])&&(i=i||(0,n.dz)(s),r=Math.floor((t[0]-s[0])/i)),r}(t,e,i);s&&(t[0]-=s*i)}return t}},245:(t,e,i)=>{"use strict";i.d(e,{XV:()=>s,hN:()=>o,hg:()=>r,oj:()=>n,p:()=>l});const n="ol-hidden",s="ol-unselectable",r="ol-control",o="ol-collapsed",a=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),h=["style","variant","weight","size","lineHeight","family"],l=function(t){const e=t.match(a);if(!e)return null;const i={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let t=0,n=h.length;t<n;++t){const n=e[t+1];void 0!==n&&(i[h[t]]=n)}return i.families=i.family.split(/,\s?/),i}},8326:(t,e,i)=>{"use strict";i.d(e,{$H:()=>o,E4:()=>s,ZF:()=>a,ep:()=>h,hF:()=>l,jy:()=>r});var n=i(177);function s(t,e,i,s){let r;return r=i&&i.length?i.shift():n.Id?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("2d",s)}function r(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function o(t,e){const i=e.parentNode;i&&i.replaceChild(t,e)}function a(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function h(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function l(t,e){const i=t.childNodes;for(let n=0;;++n){const s=i[n],r=e[n];if(!s&&!r)break;s!==r&&(s?r?t.insertBefore(r,s):(t.removeChild(s),--n):t.appendChild(r))}}},1015:(t,e,i)=>{"use strict";function n(t){return Math.pow(t,3)}function s(t){return 1-n(1-t)}function r(t){return 3*t*t-2*t*t*t}function o(t){return t}i.d(e,{GE:()=>o,Vv:()=>s,YQ:()=>n,rd:()=>r})},5818:(t,e,i)=>{"use strict";i.d(e,{Vx:()=>r,bN:()=>o,oL:()=>s});var n=i(9374);function s(t,e,i,n,s){if(n&&n!==t&&(i=i.bind(n)),s){const n=i;i=function(){t.removeEventListener(e,i),n.apply(this,arguments)}}const r={target:t,type:e,listener:i};return t.addEventListener(e,i),r}function r(t,e,i,n){return s(t,e,i,n,!0)}function o(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,n.Z)(t))}},291:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>n});const n=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}},5487:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},208:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h});var n=i(5431),s=i(291),r=i(6885),o=i(9374);class a extends n.Z{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const i=this.listeners_||(this.listeners_={}),n=i[t]||(i[t]=[]);n.includes(e)||n.push(e)}dispatchEvent(t){const e="string"==typeof t,i=e?t:t.type,n=this.listeners_&&this.listeners_[i];if(!n)return;const o=e?new s.ZP(t):t;o.target||(o.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});let l;i in a||(a[i]=0,h[i]=0),++a[i];for(let t=0,e=n.length;t<e;++t)if(l="handleEvent"in n[t]?n[t].handleEvent(o):n[t].call(this,o),!1===l||o.propagationStopped){l=!1;break}if(0==--a[i]){let t=h[i];for(delete h[i];t--;)this.removeEventListener(i,r.Zn);delete a[i]}return l}disposeInternal(){this.listeners_&&(0,o.Z)(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){const i=this.listeners_&&this.listeners_[t];if(i){const n=i.indexOf(e);-1!==n&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[n]=r.Zn,++this.pendingRemovals_[t]):(i.splice(n,1),0===i.length&&delete this.listeners_[t]))}}}const h=a},8641:(t,e,i)=>{"use strict";i.d(e,{Cr:()=>L,EO:()=>z,Ed:()=>P,GN:()=>m,H6:()=>E,HK:()=>p,I7:()=>N,Ne:()=>G,T9:()=>_,Wj:()=>x,Xv:()=>A,YN:()=>f,b8:()=>l,bg:()=>C,d9:()=>a,dY:()=>M,dz:()=>Z,f3:()=>o,fS:()=>v,g0:()=>I,hC:()=>b,hI:()=>r,jE:()=>d,kK:()=>F,l7:()=>y,lJ:()=>g,p8:()=>k,pX:()=>u,qP:()=>w,qf:()=>h,qg:()=>R,r4:()=>c,rL:()=>O,w$:()=>T,xb:()=>D});var n=i(8716),s=i(9515);function r(t){const e=[1/0,1/0,-1/0,-1/0];for(let i=0,n=t.length;i<n;++i)x(e,t[i]);return e}function o(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function a(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function h(t,e,i){let n,s;return n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,s=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0,n*n+s*s}function l(t,e){return d(t,e[0],e[1])}function c(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function d(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function u(t,e){const i=t[0],s=t[1],r=t[2],o=t[3],a=e[0],h=e[1];let l=n.Z.UNKNOWN;return a<i?l|=n.Z.LEFT:a>r&&(l|=n.Z.RIGHT),h<s?l|=n.Z.BELOW:h>o&&(l|=n.Z.ABOVE),l===n.Z.UNKNOWN&&(l=n.Z.INTERSECTING),l}function g(){return[1/0,1/0,-1/0,-1/0]}function _(t,e,i,n,s){return s?(s[0]=t,s[1]=e,s[2]=i,s[3]=n,s):[t,e,i,n]}function f(t){return _(1/0,1/0,-1/0,-1/0,t)}function p(t,e){const i=t[0],n=t[1];return _(i,n,i,n,e)}function m(t,e,i,n,s){return w(f(s),t,e,i,n)}function v(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function y(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function x(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function w(t,e,i,n,s){for(;i<n;i+=s)S(t,e[i],e[i+1]);return t}function S(t,e,i){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],i),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],i)}function E(t,e){let i;return i=e(b(t)),i||(i=e(T(t)),i||(i=e(A(t)),i||(i=e(O(t)),i||!1)))}function C(t){let e=0;return D(t)||(e=Z(t)*L(t)),e}function b(t){return[t[0],t[1]]}function T(t){return[t[2],t[1]]}function R(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function I(t,e){let i;return"bottom-left"===e?i=b(t):"bottom-right"===e?i=T(t):"top-left"===e?i=O(t):"top-right"===e?i=A(t):(0,s.h)(!1,13),i}function k(t,e,i,n,s){const[r,o,a,h,l,c,d,u]=M(t,e,i,n);return _(Math.min(r,a,l,d),Math.min(o,h,c,u),Math.max(r,a,l,d),Math.max(o,h,c,u),s)}function M(t,e,i,n){const s=e*n[0]/2,r=e*n[1]/2,o=Math.cos(i),a=Math.sin(i),h=s*o,l=s*a,c=r*o,d=r*a,u=t[0],g=t[1];return[u-h+d,g-l-c,u-h-d,g-l+c,u+h-d,g+l+c,u+h+d,g+l-c,u-h+d,g-l-c]}function L(t){return t[3]-t[1]}function P(t,e,i){const n=i||[1/0,1/0,-1/0,-1/0];return F(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):f(n),n}function O(t){return[t[0],t[3]]}function A(t){return[t[2],t[3]]}function Z(t){return t[2]-t[0]}function F(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function D(t){return t[2]<t[0]||t[3]<t[1]}function z(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function N(t,e,i){let s=!1;const r=u(t,e),o=u(t,i);if(r===n.Z.INTERSECTING||o===n.Z.INTERSECTING)s=!0;else{const a=t[0],h=t[1],l=t[2],c=t[3],d=e[0],u=e[1],g=i[0],_=i[1],f=(_-u)/(g-d);let p,m;o&n.Z.ABOVE&&!(r&n.Z.ABOVE)&&(p=g-(_-c)/f,s=p>=a&&p<=l),s||!(o&n.Z.RIGHT)||r&n.Z.RIGHT||(m=_-(g-l)*f,s=m>=h&&m<=c),s||!(o&n.Z.BELOW)||r&n.Z.BELOW||(p=g-(_-h)/f,s=p>=a&&p<=l),s||!(o&n.Z.LEFT)||r&n.Z.LEFT||(m=_-(g-a)*f,s=m>=h&&m<=c)}return s}function G(t,e,i,n){let s=[];if(n>1){const e=t[2]-t[0],i=t[3]-t[1];for(let r=0;r<n;++r)s.push(t[0]+e*r/n,t[1],t[2],t[1]+i*r/n,t[2]-e*r/n,t[3],t[0],t[3]-i*r/n)}else s=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(s,s,2);const r=[],o=[];for(let t=0,e=s.length;t<e;t+=2)r.push(s[t]),o.push(s[t+1]);return function(t,e,i){return _(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),i)}(r,o,i)}},8716:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},9646:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>r});var n=i(4187),s=i(8661);const r=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let i=e.dataProjection?(0,s.U2)(e.dataProjection):this.readProjection(t);e.extent&&i&&"tile-pixels"===i.getUnits()&&(i=(0,s.U2)(i),i.setWorldExtent(e.extent)),e={dataProjection:i,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)}getType(){return(0,n.O3)()}readFeature(t,e){return(0,n.O3)()}readFeatures(t,e){return(0,n.O3)()}readGeometry(t,e){return(0,n.O3)()}readProjection(t){return(0,n.O3)()}writeFeature(t,e){return(0,n.O3)()}writeFeatures(t,e){return(0,n.O3)()}writeGeometry(t,e){return(0,n.O3)()}}},6885:(t,e,i)=>{"use strict";i.d(e,{Dv:()=>r,Zn:()=>o,qe:()=>a,uX:()=>s});var n=i(5537);function s(){return!0}function r(){return!1}function o(){}function a(t){let e,i,s,r=!1;return function(){const o=Array.prototype.slice.call(arguments);return r&&this===s&&(0,n.fS)(o,i)||(r=!0,s=this,i=o,e=t.apply(this,arguments)),e}}},1082:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>b,oJ:()=>T});var n=i(6762),s=i(3983);function r(t,e,i,n,r,o,a){const h=t[e],l=t[e+1],c=t[i]-h,d=t[i+1]-l;let u;if(0===c&&0===d)u=e;else{const g=((r-h)*c+(o-l)*d)/(c*c+d*d);if(g>1)u=i;else{if(g>0){for(let r=0;r<n;++r)a[r]=(0,s.t7)(t[e+r],t[i+r],g);return void(a.length=n)}u=e}}for(let e=0;e<n;++e)a[e]=t[u+e];a.length=n}function o(t,e,i,n,r){let o=t[e],a=t[e+1];for(e+=n;e<i;e+=n){const i=t[e],n=t[e+1],h=(0,s.bI)(o,a,i,n);h>r&&(r=h),o=i,a=n}return r}function a(t,e,i,n,o,a,h,l,c,d,u){if(e==i)return d;let g,_;if(0===o){if(_=(0,s.bI)(h,l,t[e],t[e+1]),_<d){for(g=0;g<n;++g)c[g]=t[e+g];return c.length=n,_}return d}u=u||[NaN,NaN];let f=e+n;for(;f<i;)if(r(t,f-n,f,n,h,l,u),_=(0,s.bI)(h,l,u[0],u[1]),_<d){for(d=_,g=0;g<n;++g)c[g]=u[g];c.length=n,f+=n}else f+=n*Math.max((Math.sqrt(_)-Math.sqrt(d))/o|0,1);if(a&&(r(t,i-n,e,n,h,l,u),_=(0,s.bI)(h,l,u[0],u[1]),_<d)){for(d=_,g=0;g<n;++g)c[g]=u[g];c.length=n}return d}var h=i(8641);function l(t,e,i,n){for(let s=0,r=i.length;s<r;++s){const r=i[s];for(let i=0;i<n;++i)t[e++]=r[i]}return e}var c=i(226),d=i(9241);function u(t,e,i,n){let s=0,r=t[i-n],o=t[i-n+1];for(;e<i;e+=n){const i=t[e],n=t[e+1];s+=o*i-r*n,r=i,o=n}return s/2}class g extends n.ZP{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new g(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,i,n){return n<(0,h.qf)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(o(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),a(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,n))}getArea(){return u(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return(0,d.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=(0,c.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new g(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=l(this.flatCoordinates,0,t,this.stride),this.changed()}}const _=g;class f extends n.ZP{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new f(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,n){const r=this.flatCoordinates,o=(0,s.bI)(t,e,r[0],r[1]);if(o<n){const t=this.stride;for(let e=0;e<t;++e)i[e]=r[e];return i.length=t,o}return n}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(t){return(0,h.HK)(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return(0,h.jE)(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,i,n){for(let n=0,s=i.length;n<s;++n)t[e++]=i[n];return e}(this.flatCoordinates,0,t,this.stride),this.changed()}}const p=f;var m=i(5537),v=i(3448),y=i(969);function x(t,e,i,n){for(;e<i-n;){for(let s=0;s<n;++s){const r=t[e+s];t[e+s]=t[i-n+s],t[i-n+s]=r}e+=n,i-=n}}function w(t,e,i,n){let s=0,r=t[i-n],o=t[i-n+1];for(;e<i;e+=n){const i=t[e],n=t[e+1];s+=(i-r)*(n+o),r=i,o=n}return 0===s?void 0:s>0}function S(t,e,i,n,s){s=void 0!==s&&s;for(let r=0,o=i.length;r<o;++r){const o=i[r],a=w(t,e,o,n);(0===r?s&&a||!s&&!a:s&&!a||!s&&a)&&x(t,e,o,n),e=o}return e}var E=i(9679);class C extends n.ZP{constructor(t,e,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&i?(this.setFlatCoordinates(e,t),this.ends_=i):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?(0,m.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new C(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,i,n){return n<(0,h.qf)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,i,n,s){for(let r=0,a=i.length;r<a;++r){const a=i[r];s=o(t,e,a,n,s),e=a}return s}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,i,n,s,r,o,h,l,c,d){d=d||[NaN,NaN];for(let u=0,g=i.length;u<g;++u){const g=i[u];c=a(t,e,g,n,s,r,o,h,l,c,d),e=g}return c}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,n))}containsXY(t,e){return(0,E.wY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return function(t,e,i,n){let s=0;for(let r=0,o=i.length;r<o;++r){const o=i[r];s+=u(t,e,o,n),e=o}return s}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),S(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,d.o1)(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=(0,h.qg)(this.getExtent());this.flatInteriorPoint_=(0,v.X)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new p(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new _(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,i=this.ends_,n=[];let s=0;for(let r=0,o=i.length;r<o;++r){const o=i[r],a=new _(e.slice(s,o),t);n.push(a),s=o}return n}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;!function(t,e,i,n,s){s=void 0!==s&&s;for(let r=0,o=i.length;r<o;++r){const o=i[r],a=w(t,e,o,n);if(0===r){if(s&&a||!s&&!a)return!1}else if(s&&!a||!s&&a)return!1;e=o}return!0}(t,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=S(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],i=[];return e.length=(0,c.Zh)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i),new C(e,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return(0,y.ac)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=function(t,e,i,n,s){s=s||[];let r=0;for(let o=0,a=i.length;o<a;++o){const a=l(t,e,i[o],n);s[r++]=a,e=a}return s.length=r,s}(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}}const b=C;function T(t){const e=t[0],i=t[1],n=t[2],s=t[3],r=[e,i,e,s,n,s,n,i,e,i];return new C(r,"XY",[r.length])}},6762:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>f,Kr:()=>_});var n=i(2971),s=i(4187),r=i(6101),o=i(8641),a=i(8661),h=i(6885),l=i(6442);const c=(0,r.Ue)();class d extends n.Z{constructor(){super(),this.extent_=(0,o.lJ)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=(0,h.qe)((function(t,e,i){if(!i)return this.getSimplifiedGeometry(e);const n=this.clone();return n.applyTransform(i),n.getSimplifiedGeometry(e)}))}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return(0,s.O3)()}closestPointXY(t,e,i,n){return(0,s.O3)()}containsXY(t,e){const i=this.getClosestPoint([t,e]);return i[0]===t&&i[1]===e}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return(0,s.O3)()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&(0,o.YN)(t),this.extentRevision_=this.getRevision()}return(0,o.EO)(this.extent_,t)}rotate(t,e){(0,s.O3)()}scale(t,e,i){(0,s.O3)()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return(0,s.O3)()}getType(){return(0,s.O3)()}applyTransform(t){(0,s.O3)()}intersectsExtent(t){return(0,s.O3)()}translate(t,e){(0,s.O3)()}transform(t,e){const i=(0,a.U2)(t),n="tile-pixels"==i.getUnits()?function(t,n,s){const h=i.getExtent(),d=i.getWorldExtent(),u=(0,o.Cr)(d)/(0,o.Cr)(h);return(0,r.qC)(c,d[0],d[3],u,-u,0,0,0),(0,l.vT)(t,0,t.length,s,c,n),(0,a.Ck)(i,e)(t,n,s)}:(0,a.Ck)(i,e);return this.applyTransform(n),this}}const u=d;function g(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function _(t,e,i){const n=t.getFlatCoordinates();if(!n)return null;const s=t.getStride();return(0,l.vT)(n,0,n.length,s,e,i)}const f=class extends u{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(t){return(0,o.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return(0,s.O3)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=g(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){(0,s.O3)()}setLayout(t,e,i){let n;if(t)n=g(t);else{for(let t=0;t<i;++t){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}n=e.length,t=function(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}(n)}this.layout=t,this.stride=n}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){const i=this.getFlatCoordinates();if(i){const n=this.getStride();(0,l.U1)(i,0,i.length,n,t,e,i),this.changed()}}scale(t,e,i){void 0===e&&(e=t),i||(i=(0,o.qg)(this.getExtent()));const n=this.getFlatCoordinates();if(n){const s=this.getStride();(0,l.bA)(n,0,n.length,s,t,e,i,n),this.changed()}}translate(t,e){const i=this.getFlatCoordinates();if(i){const n=this.getStride();(0,l.Iu)(i,0,i.length,n,t,e,i),this.changed()}}}},9679:(t,e,i)=>{"use strict";i.d(e,{TG:()=>r,uG:()=>s,wY:()=>o});var n=i(8641);function s(t,e,i,s,o){return!(0,n.H6)(o,(function(n){return!r(t,e,i,s,n[0],n[1])}))}function r(t,e,i,n,s,r){let o=0,a=t[i-n],h=t[i-n+1];for(;e<i;e+=n){const i=t[e],n=t[e+1];h<=r?n>r&&(i-a)*(r-h)-(s-a)*(n-h)>0&&o++:n<=r&&(i-a)*(r-h)-(s-a)*(n-h)<0&&o--,a=i,h=n}return 0!==o}function o(t,e,i,n,s,o){if(0===i.length)return!1;if(!r(t,e,i[0],n,s,o))return!1;for(let e=1,a=i.length;e<a;++e)if(r(t,i[e-1],i[e],n,s,o))return!1;return!0}},9241:(t,e,i)=>{"use strict";function n(t,e,i,n,s){s=void 0!==s?s:[];let r=0;for(let o=e;o<i;o+=n)s[r++]=t.slice(o,o+n);return s.length=r,s}function s(t,e,i,s,r){r=void 0!==r?r:[];let o=0;for(let a=0,h=i.length;a<h;++a){const h=i[a];r[o++]=n(t,e,h,s,r[o]),e=h}return r.length=o,r}function r(t,e,i,n,r){r=void 0!==r?r:[];let o=0;for(let a=0,h=i.length;a<h;++a){const h=i[a];r[o++]=1===h.length&&h[0]===e?[]:s(t,e,h,n,r[o]),e=h[h.length-1]}return r.length=o,r}i.d(e,{Ml:()=>n,o1:()=>s,ug:()=>r})},3448:(t,e,i)=>{"use strict";i.d(e,{U:()=>o,X:()=>r});var n=i(5537),s=i(9679);function r(t,e,i,r,o,a,h){let l,c,d,u,g,_,f;const p=o[a+1],m=[];for(let n=0,s=i.length;n<s;++n){const s=i[n];for(u=t[s-r],_=t[s-r+1],l=e;l<s;l+=r)g=t[l],f=t[l+1],(p<=_&&f<=p||_<=p&&p<=f)&&(d=(p-_)/(f-_)*(g-u)+u,m.push(d)),u=g,_=f}let v=NaN,y=-1/0;for(m.sort(n.j2),u=m[0],l=1,c=m.length;l<c;++l){g=m[l];const n=Math.abs(g-u);n>y&&(d=(u+g)/2,(0,s.wY)(t,e,i,r,d,p)&&(v=d,y=n)),u=g}return isNaN(v)&&(v=o[a]),h?(h.push(v,p,y),h):[v,p,y]}function o(t,e,i,n,s){let o=[];for(let a=0,h=i.length;a<h;++a){const h=i[a];o=r(t,e,h,n,s,2*a,o),e=h[h.length-1]}return o}},969:(t,e,i)=>{"use strict";i.d(e,{mV:()=>o,ac:()=>a});var n=i(8641),s=i(9679);function r(t,e,i,s,r){const o=(0,n.qP)((0,n.lJ)(),t,e,i,s);return!!(0,n.kK)(r,o)&&(!!(0,n.r4)(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||function(t,e,i,s,o){let a;for(e+=s;e<i;e+=s)if(h=t.slice(e-s,e),l=t.slice(e,e+s),a=(0,n.I7)(r,h,l),a)return a;var h,l;return!1}(t,e,i,s))}function o(t,e,i,n,o){return!!(r(t,e,i,n,o)||(0,s.TG)(t,e,i,n,o[0],o[1])||(0,s.TG)(t,e,i,n,o[0],o[3])||(0,s.TG)(t,e,i,n,o[2],o[1])||(0,s.TG)(t,e,i,n,o[2],o[3]))}function a(t,e,i,n,a){if(!o(t,e,i[0],n,a))return!1;if(1===i.length)return!0;for(let e=1,o=i.length;e<o;++e)if((0,s.uG)(t,i[e-1],i[e],n,a)&&!r(t,i[e-1],i[e],n,a))return!1;return!0}},226:(t,e,i)=>{"use strict";i.d(e,{Zh:()=>a,dt:()=>s,uZ:()=>r});var n=i(3983);function s(t,e,i,s,r,o,a){const h=(i-e)/s;if(h<3){for(;e<i;e+=s)o[a++]=t[e],o[a++]=t[e+1];return a}const l=new Array(h);l[0]=1,l[h-1]=1;const c=[e,i-s];let d=0;for(;c.length>0;){const i=c.pop(),o=c.pop();let a=0;const h=t[o],u=t[o+1],g=t[i],_=t[i+1];for(let e=o+s;e<i;e+=s){const i=t[e],s=t[e+1],r=(0,n.rU)(i,s,h,u,g,_);r>a&&(d=e,a=r)}a>r&&(l[(d-e)/s]=1,o+s<d&&c.push(o,d),d+s<i&&c.push(d,i))}for(let i=0;i<h;++i)l[i]&&(o[a++]=t[e+i*s],o[a++]=t[e+i*s+1]);return a}function r(t,e){return e*Math.round(t/e)}function o(t,e,i,n,s,o,a){if(e==i)return a;let h,l,c=r(t[e],s),d=r(t[e+1],s);e+=n,o[a++]=c,o[a++]=d;do{if(h=r(t[e],s),l=r(t[e+1],s),(e+=n)==i)return o[a++]=h,o[a++]=l,a}while(h==c&&l==d);for(;e<i;){const i=r(t[e],s),u=r(t[e+1],s);if(e+=n,i==h&&u==l)continue;const g=h-c,_=l-d,f=i-c,p=u-d;g*p==_*f&&(g<0&&f<g||g==f||g>0&&f>g)&&(_<0&&p<_||_==p||_>0&&p>_)?(h=i,l=u):(o[a++]=h,o[a++]=l,c=h,d=l,h=i,l=u)}return o[a++]=h,o[a++]=l,a}function a(t,e,i,n,s,r,a,h){for(let l=0,c=i.length;l<c;++l){const c=i[l];a=o(t,e,c,n,s,r,a),h.push(a),e=c}return a}},6442:(t,e,i)=>{"use strict";function n(t,e,i,n,s,r){r=r||[];let o=0;for(let a=e;a<i;a+=n){const e=t[a],i=t[a+1];r[o++]=s[0]*e+s[2]*i+s[4],r[o++]=s[1]*e+s[3]*i+s[5]}return r&&r.length!=o&&(r.length=o),r}function s(t,e,i,n,s,r,o){o=o||[];const a=Math.cos(s),h=Math.sin(s),l=r[0],c=r[1];let d=0;for(let s=e;s<i;s+=n){const e=t[s]-l,i=t[s+1]-c;o[d++]=l+e*a-i*h,o[d++]=c+e*h+i*a;for(let e=s+2;e<s+n;++e)o[d++]=t[e]}return o&&o.length!=d&&(o.length=d),o}function r(t,e,i,n,s,r,o,a){a=a||[];const h=o[0],l=o[1];let c=0;for(let o=e;o<i;o+=n){const e=t[o]-h,i=t[o+1]-l;a[c++]=h+s*e,a[c++]=l+r*i;for(let e=o+2;e<o+n;++e)a[c++]=t[e]}return a&&a.length!=c&&(a.length=c),a}function o(t,e,i,n,s,r,o){o=o||[];let a=0;for(let h=e;h<i;h+=n){o[a++]=t[h]+s,o[a++]=t[h+1]+r;for(let e=h+2;e<h+n;++e)o[a++]=t[e]}return o&&o.length!=a&&(o.length=a),o}i.d(e,{Iu:()=>o,U1:()=>s,bA:()=>r,vT:()=>n})},177:(t,e,i)=>{"use strict";i.d(e,{G$:()=>r,Id:()=>h,MP:()=>a,Tp:()=>l,V:()=>s,bM:()=>c,tK:()=>o});const n="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",s=n.includes("firefox"),r=(n.includes("safari")&&!n.includes("chrom")&&(n.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(n)),n.includes("webkit")&&!n.includes("edge")),o=n.includes("macintosh"),a="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,h="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,l="undefined"!=typeof Image&&Image.prototype.decode,c=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},947:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var n=i(2971),s=i(1912),r=i(4187),o=i(9515),a=i(3983);class h extends n.Z{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"==typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[s.Z.OPACITY]=void 0!==t.opacity?t.opacity:1,(0,o.h)("number"==typeof e[s.Z.OPACITY],64),e[s.Z.VISIBLE]=void 0===t.visible||t.visible,e[s.Z.Z_INDEX]=t.zIndex,e[s.Z.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[s.Z.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,e[s.Z.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,e[s.Z.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},i=this.getZIndex();return e.opacity=(0,a.uZ)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==i||e.managed?i:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return(0,r.O3)()}getLayerStatesArray(t){return(0,r.O3)()}getExtent(){return this.get(s.Z.EXTENT)}getMaxResolution(){return this.get(s.Z.MAX_RESOLUTION)}getMinResolution(){return this.get(s.Z.MIN_RESOLUTION)}getMinZoom(){return this.get(s.Z.MIN_ZOOM)}getMaxZoom(){return this.get(s.Z.MAX_ZOOM)}getOpacity(){return this.get(s.Z.OPACITY)}getSourceState(){return(0,r.O3)()}getVisible(){return this.get(s.Z.VISIBLE)}getZIndex(){return this.get(s.Z.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(s.Z.EXTENT,t)}setMaxResolution(t){this.set(s.Z.MAX_RESOLUTION,t)}setMinResolution(t){this.set(s.Z.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(s.Z.MAX_ZOOM,t)}setMinZoom(t){this.set(s.Z.MIN_ZOOM,t)}setOpacity(t){(0,o.h)("number"==typeof t,64),this.set(s.Z.OPACITY,t)}setVisible(t){this.set(s.Z.VISIBLE,t)}setZIndex(t){this.set(s.Z.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const l=h},1295:(t,e,i)=>{"use strict";i.d(e,{Z:()=>d,j:()=>c});var n=i(947),s=i(5487),r=i(1912),o=i(8771),a=i(9515),h=i(5818);class l extends n.Z{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(r.Z.SOURCE,this.handleSourcePropertyChange_);const i=t.source?t.source:null;this.setSource(i)}getLayersArray(t){return(t=t||[]).push(this),t}getLayerStatesArray(t){return(t=t||[]).push(this.getLayerState()),t}getSource(){return this.get(r.Z.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,h.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=(0,h.oL)(t,s.Z.CHANGE,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}render(t,e){const i=this.getRenderer();if(i.prepareFrame(t))return this.rendered=!0,i.renderFrame(t,e)}unrender(){this.rendered=!1}setMapInternal(t){t||this.unrender(),this.set(r.Z.MAP,t)}getMapInternal(){return this.get(r.Z.MAP)}setMap(t){this.mapPrecomposeKey_&&((0,h.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,h.bN)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,h.oL)(t,o.Z.PRECOMPOSE,(function(t){const e=t.frameState.layerStatesArray,i=this.getLayerState(!1);(0,a.h)(!e.some((function(t){return t.layer===i.layer})),67),e.push(i)}),this),this.mapRenderKey_=(0,h.oL)(this,s.Z.CHANGE,t.render,t),this.changed())}setSource(t){this.set(r.Z.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function c(t,e){if(!t.visible)return!1;const i=e.resolution;if(i<t.minResolution||i>=t.maxResolution)return!1;const n=e.zoom;return n>t.minZoom&&n<=t.maxZoom}const d=l},1912:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},2479:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h});var n=i(1295),s=i(8280);class r extends n.Z{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}getPreload(){return this.get(s.Z.PRELOAD)}setPreload(t){this.set(s.Z.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(s.Z.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(s.Z.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}const o=r;var a=i(4708);const h=class extends o{constructor(t){super(t)}createRenderer(){return new a.Z(this)}}},8280:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},9731:(t,e,i)=>{"use strict";i.d(e,{Z:()=>Ft});var n=i(1295),s=i(2582),r=i(7539),o=i(283),a=i(1345),h=i(5487),l=i(553),c=i(8443),d=i(9706),u=i(9515),g=i(208),_=i(8326),f=i(2710),p=i(8096);let m=null;class v extends g.Z{constructor(t,e,i,n,s,r){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=n,this.canvas_={},this.color_=r,this.unlisten_=null,this.imageState_=s,this.size_=i,this.src_=e,this.tainted_}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===l.Z.LOADED){m||(m=(0,_.E4)(1,1,void 0,{willReadFrequently:!0})),m.drawImage(this.image_,0,0);try{m.getImageData(0,0,1,1),this.tainted_=!1}catch(t){m=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(h.Z.CHANGE)}handleImageError_(){this.imageState_=l.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=l.Z.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],i=(0,_.E4)(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===l.Z.IDLE){this.image_||this.initializeImage_(),this.imageState_=l.Z.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=(0,p.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==l.Z.LOADED)return;const e=this.image_,i=document.createElement("canvas");i.width=Math.ceil(e.width*t),i.height=Math.ceil(e.height*t);const n=i.getContext("2d");n.scale(t,t),n.drawImage(e,0,0),n.globalCompositeOperation="multiply",n.fillStyle=(0,d.XC)(this.color_),n.fillRect(0,0,i.width/t,i.height/t),n.globalCompositeOperation="destination-in",n.drawImage(e,0,0),this.canvas_[t]=i}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}var y=i(4187);class x extends c.Z{constructor(t){const e=void 0!==(t=t||{}).opacity?t.opacity:1,i=void 0!==t.rotation?t.rotation:0,n=void 0!==t.scale?t.scale:1,s=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:i,scale:n,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:s,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const r=void 0!==t.img?t.img:null;this.imgSize_=t.imgSize;let o=t.src;(0,u.h)(!(void 0!==o&&r),4),(0,u.h)(!r||r&&this.imgSize_,5),void 0!==o&&0!==o.length||!r||(o=r.src||(0,y.sq)(r)),(0,u.h)(void 0!==o&&o.length>0,6),(0,u.h)(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),69);const a=void 0!==t.src?l.Z.IDLE:l.Z.LOADED;if(this.color_=void 0!==t.color?(0,d._2)(t.color):null,this.iconImage_=function(t,e,i,n,s,r){let o=f.c.get(e,n,r);return o||(o=new v(t,e,i,n,s,r),f.c.set(e,n,r,o)),o}(r,o,void 0!==this.imgSize_?this.imgSize_:null,this.crossOrigin_,a,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,this.width_=t.width,this.height_=t.height,void 0!==this.width_||void 0!==this.height_){const t=this.getImage(1),e=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};t.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):t.addEventListener("load",e)}}clone(){const t=this.getScale();return new x({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(t,e){const i=this.getImage(1);void 0!==t&&void 0!==e?super.setScale([t/i.width,e/i.height]):void 0!==t?super.setScale([t/i.width,t/i.width]):void 0!==e?super.setScale([e/i.height,e/i.height]):super.setScale([1,1])}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),i=this.getScaleArray();return[t[0]-e[0]/i[0],t[1]+e[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=i[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(t){this.width_=t,this.updateScaleFromWidthAndHeight(t,this.height_)}setHeight(t){this.height_=t,this.updateScaleFromWidthAndHeight(this.width_,t)}setScale(t){super.setScale(t);const e=this.getImage(1);if(e){const i=Array.isArray(t)?t[0]:t;void 0!==i&&(this.width_=i*e.width);const n=Array.isArray(t)?t[1]:t;void 0!==n&&(this.height_=n*e.height)}}listenImageChange(t){this.iconImage_.addEventListener(h.Z.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(h.Z.CHANGE,t)}}const w=x;var S=i(5393),E=i(8958),C=i(1280);function b(t){return new r.ZP({fill:T(t,""),stroke:R(t,""),text:I(t),image:k(t)})}function T(t,e){const i=t[e+"fill-color"];if(i)return new a.Z({color:i})}function R(t,e){const i=t[e+"stroke-width"],n=t[e+"stroke-color"];if(i||n)return new E.Z({width:i,color:n,lineCap:t[e+"stroke-line-cap"],lineJoin:t[e+"stroke-line-join"],lineDash:t[e+"stroke-line-dash"],lineDashOffset:t[e+"stroke-line-dash-offset"],miterLimit:t[e+"stroke-miter-limit"]})}function I(t){const e=t["text-value"];if(e)return new C.Z({text:e,font:t["text-font"],maxAngle:t["text-max-angle"],offsetX:t["text-offset-x"],offsetY:t["text-offset-y"],overflow:t["text-overflow"],placement:t["text-placement"],scale:t["text-scale"],rotateWithView:t["text-rotate-with-view"],rotation:t["text-rotation"],textAlign:t["text-align"],justify:t["text-justify"],textBaseline:t["text-baseline"],padding:t["text-padding"],fill:T(t,"text-"),backgroundFill:T(t,"text-background-"),stroke:R(t,"text-"),backgroundStroke:R(t,"text-background-")})}function k(t){const e=t["icon-src"],i=t["icon-img"];if(e||i)return new w({src:e,img:i,imgSize:t["icon-img-size"],anchor:t["icon-anchor"],anchorOrigin:t["icon-anchor-origin"],anchorXUnits:t["icon-anchor-x-units"],anchorYUnits:t["icon-anchor-y-units"],color:t["icon-color"],crossOrigin:t["icon-cross-origin"],offset:t["icon-offset"],displacement:t["icon-displacement"],opacity:t["icon-opacity"],scale:t["icon-scale"],rotation:t["icon-rotation"],rotateWithView:t["icon-rotate-with-view"],size:t["icon-size"],declutterMode:t["icon-declutter-mode"]});const n=t["shape-points"];if(n){const e="shape-";return new S.Z({points:n,fill:T(t,e),stroke:R(t,e),radius:t["shape-radius"],radius1:t["shape-radius1"],radius2:t["shape-radius2"],angle:t["shape-angle"],displacement:t["shape-displacement"],rotation:t["shape-rotation"],rotateWithView:t["shape-rotate-with-view"],scale:t["shape-scale"],declutterMode:t["shape-declutter-mode"]})}const s=t["circle-radius"];if(s){const e="circle-";return new o.Z({radius:s,fill:T(t,e),stroke:R(t,e),displacement:t["circle-displacement"],scale:t["circle-scale"],rotation:t["circle-rotation"],rotateWithView:t["circle-rotate-with-view"],declutterMode:t["circle-declutter-mode"]})}}const M="renderOrder";class L extends n.Z{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=void 0!==t.declutter&&t.declutter,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(M)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t){t.declutterTree||(t.declutterTree=new s(9)),this.getRenderer().renderDeclutter(t)}setRenderOrder(t){this.set(M,t)}setStyle(t){let e;if(void 0===t)e=r.yF;else if(null===t)e=null;else if("function"==typeof t)e=t;else if(t instanceof r.ZP)e=t;else if(Array.isArray(t)){const i=t.length,n=new Array(i);for(let e=0;e<i;++e){const i=t[e];i instanceof r.ZP?n[e]=i:n[e]=b(i)}e=n}else e=b(t);this.style_=e,this.styleFunction_=null===t?void 0:(0,r.J$)(this.style_),this.changed()}}const P=L,O={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},A=[O.FILL],Z=[O.STROKE],F=[O.BEGIN_PATH],D=[O.CLOSE_PATH],z=O;var N=i(8716);const G=class{drawCustom(t,e,i,n){}drawGeometry(t){}setStyle(t){}drawCircle(t,e){}drawFeature(t,e){}drawGeometryCollection(t,e){}drawLineString(t,e){}drawMultiLineString(t,e){}drawMultiPoint(t,e){}drawMultiPolygon(t,e){}drawPoint(t,e){}drawPolygon(t,e){}drawText(t,e){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}};var B=i(6620),W=i(8641),U=i(147),Y=i(5537),V=i(9241);const X=class extends G{constructor(t,e,i,n){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))}appendFlatPointCoordinates(t,e){const i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,s=this.coordinates;let r=s.length;for(let o=0,a=t.length;o<a;o+=e)n[0]=t[o],n[1]=t[o+1],(0,W.b8)(i,n)&&(s[r++]=n[0],s[r++]=n[1]);return r}appendFlatLineCoordinates(t,e,i,n,s,r){const o=this.coordinates;let a=o.length;const h=this.getBufferedMaxExtent();r&&(e+=n);let l=t[e],c=t[e+1];const d=this.tmpCoordinate_;let u,g,_,f=!0;for(u=e+n;u<i;u+=n)d[0]=t[u],d[1]=t[u+1],_=(0,W.pX)(h,d),_!==g?(f&&(o[a++]=l,o[a++]=c,f=!1),o[a++]=d[0],o[a++]=d[1]):_===N.Z.INTERSECTING?(o[a++]=d[0],o[a++]=d[1],f=!1):f=!0,l=d[0],c=d[1],g=_;return(s&&f||u===e+n)&&(o[a++]=l,o[a++]=c),a}drawCustomCoordinates_(t,e,i,n,s){for(let r=0,o=i.length;r<o;++r){const o=i[r],a=this.appendFlatLineCoordinates(t,e,o,n,!1,!1);s.push(a),e=o}return e}drawCustom(t,e,i,n){this.beginGeometry(t,e);const s=t.getType(),r=t.getStride(),o=this.coordinates.length;let a,h,l,c,d;switch(s){case"MultiPolygon":a=t.getOrientedFlatCoordinates(),c=[];const e=t.getEndss();d=0;for(let t=0,i=e.length;t<i;++t){const i=[];d=this.drawCustomCoordinates_(a,d,e[t],r,i),c.push(i)}this.instructions.push([z.CUSTOM,o,c,t,i,V.ug]),this.hitDetectionInstructions.push([z.CUSTOM,o,c,t,n||i,V.ug]);break;case"Polygon":case"MultiLineString":l=[],a="Polygon"==s?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),d=this.drawCustomCoordinates_(a,0,t.getEnds(),r,l),this.instructions.push([z.CUSTOM,o,l,t,i,V.o1]),this.hitDetectionInstructions.push([z.CUSTOM,o,l,t,n||i,V.o1]);break;case"LineString":case"Circle":a=t.getFlatCoordinates(),h=this.appendFlatLineCoordinates(a,0,a.length,r,!1,!1),this.instructions.push([z.CUSTOM,o,h,t,i,V.Ml]),this.hitDetectionInstructions.push([z.CUSTOM,o,h,t,n||i,V.Ml]);break;case"MultiPoint":a=t.getFlatCoordinates(),h=this.appendFlatPointCoordinates(a,r),h>o&&(this.instructions.push([z.CUSTOM,o,h,t,i,V.Ml]),this.hitDetectionInstructions.push([z.CUSTOM,o,h,t,n||i,V.Ml]));break;case"Point":a=t.getFlatCoordinates(),this.coordinates.push(a[0],a[1]),h=this.coordinates.length,this.instructions.push([z.CUSTOM,o,h,t,i]),this.hitDetectionInstructions.push([z.CUSTOM,o,h,t,n||i])}this.endGeometry(e)}beginGeometry(t,e){this.beginGeometryInstruction1_=[z.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[z.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let e;t.reverse();const i=t.length;let n,s,r=-1;for(e=0;e<i;++e)n=t[e],s=n[0],s==z.END_GEOMETRY?r=e:s==z.BEGIN_GEOMETRY&&(n[2]=e,(0,Y.FZ)(this.hitDetectionInstructions,r,e),r=-1)}setFillStrokeStyle(t,e){const i=this.state;if(t){const e=t.getColor();i.fillStyle=(0,B.y)(e||U.bL)}else i.fillStyle=void 0;if(e){const t=e.getColor();i.strokeStyle=(0,B.y)(t||U.Tx);const n=e.getLineCap();i.lineCap=void 0!==n?n:U.mb;const s=e.getLineDash();i.lineDash=s?s.slice():U.X9;const r=e.getLineDashOffset();i.lineDashOffset=r||U.He;const o=e.getLineJoin();i.lineJoin=void 0!==o?o:U.rc;const a=e.getWidth();i.lineWidth=void 0!==a?a:U.yC;const h=e.getMiterLimit();i.miterLimit=void 0!==h?h:U.V4,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(t){const e=t.fillStyle,i=[z.SET_FILL_STYLE,e];return"string"!=typeof e&&i.push(!0),i}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[z.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)}updateStrokeStyle(t,e){const i=t.strokeStyle,n=t.lineCap,s=t.lineDash,r=t.lineDashOffset,o=t.lineJoin,a=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=n||s!=t.currentLineDash&&!(0,Y.fS)(t.currentLineDash,s)||t.currentLineDashOffset!=r||t.currentLineJoin!=o||t.currentLineWidth!=a||t.currentMiterLimit!=h)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=s,t.currentLineDashOffset=r,t.currentLineJoin=o,t.currentLineWidth=a,t.currentMiterLimit=h)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[z.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,W.d9)(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;(0,W.f3)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}};var j=i(226);const K=class extends X{constructor(t,e,i,n){super(t,e,i,n)}drawFlatCoordinatess_(t,e,i,n){const s=this.state,r=void 0!==s.fillStyle,o=void 0!==s.strokeStyle,a=i.length;this.instructions.push(F),this.hitDetectionInstructions.push(F);for(let s=0;s<a;++s){const r=i[s],a=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,r,n,!0,!o),l=[z.MOVE_TO_LINE_TO,a,h];this.instructions.push(l),this.hitDetectionInstructions.push(l),o&&(this.instructions.push(D),this.hitDetectionInstructions.push(D)),e=r}return r&&(this.instructions.push(A),this.hitDetectionInstructions.push(A)),o&&(this.instructions.push(Z),this.hitDetectionInstructions.push(Z)),e}drawCircle(t,e){const i=this.state,n=i.fillStyle,s=i.strokeStyle;if(void 0===n&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([z.SET_FILL_STYLE,U.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const r=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length;this.appendFlatLineCoordinates(r,0,r.length,o,!1,!1);const h=[z.CIRCLE,a];this.instructions.push(F,h),this.hitDetectionInstructions.push(F,h),void 0!==i.fillStyle&&(this.instructions.push(A),this.hitDetectionInstructions.push(A)),void 0!==i.strokeStyle&&(this.instructions.push(Z),this.hitDetectionInstructions.push(Z)),this.endGeometry(e)}drawPolygon(t,e){const i=this.state,n=i.fillStyle,s=i.strokeStyle;if(void 0===n&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([z.SET_FILL_STYLE,U.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const r=t.getEnds(),o=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(o,0,r,a),this.endGeometry(e)}drawMultiPolygon(t,e){const i=this.state,n=i.fillStyle,s=i.strokeStyle;if(void 0===n&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([z.SET_FILL_STYLE,U.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const r=t.getEndss(),o=t.getOrientedFlatCoordinates(),a=t.getStride();let h=0;for(let t=0,e=r.length;t<e;++t)h=this.drawFlatCoordinatess_(o,h,r[t],a);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let i=0,n=e.length;i<n;++i)e[i]=(0,j.uZ)(e[i],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}};function H(t,e,i,n,s){let r,o,a,h,l,c,d,u,g,_,f=i,p=i,m=0,v=0,y=i;for(o=i;o<n;o+=s){const i=e[o],n=e[o+1];void 0!==l&&(g=i-l,_=n-c,h=Math.sqrt(g*g+_*_),void 0!==d&&(v+=a,r=Math.acos((d*g+u*_)/(a*h)),r>t&&(v>m&&(m=v,f=y,p=o),v=0,y=o-s)),a=h,d=g,u=_),l=i,c=n}return v+=h,v>m?[y,o]:[f,p]}const q={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},J={Circle:K,Default:X,Image:class extends X{constructor(t,e,i,n){super(t,e,i,n),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const i=t.getFlatCoordinates(),n=t.getStride(),s=this.coordinates.length,r=this.appendFlatPointCoordinates(i,n);this.instructions.push([z.DRAW_IMAGE,s,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([z.DRAW_IMAGE,s,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const i=t.getFlatCoordinates(),n=t.getStride(),s=this.coordinates.length,r=this.appendFlatPointCoordinates(i,n);this.instructions.push([z.DRAW_IMAGE,s,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([z.DRAW_IMAGE,s,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const i=t.getAnchor(),n=t.getSize(),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=n[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}},LineString:class extends X{constructor(t,e,i,n){super(t,e,i,n)}drawFlatCoordinates_(t,e,i,n){const s=this.coordinates.length,r=this.appendFlatLineCoordinates(t,e,i,n,!1,!1),o=[z.MOVE_TO_LINE_TO,s,r];return this.instructions.push(o),this.hitDetectionInstructions.push(o),i}drawLineString(t,e){const i=this.state,n=i.strokeStyle,s=i.lineWidth;if(void 0===n||void 0===s)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,U.X9,U.He],F);const r=t.getFlatCoordinates(),o=t.getStride();this.drawFlatCoordinates_(r,0,r.length,o),this.hitDetectionInstructions.push(Z),this.endGeometry(e)}drawMultiLineString(t,e){const i=this.state,n=i.strokeStyle,s=i.lineWidth;if(void 0===n||void 0===s)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],F);const r=t.getEnds(),o=t.getFlatCoordinates(),a=t.getStride();let h=0;for(let t=0,e=r.length;t<e;++t)h=this.drawFlatCoordinates_(o,h,r[t],a);this.hitDetectionInstructions.push(Z),this.endGeometry(e)}finish(){const t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Z),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(Z),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(F)}},Polygon:K,Text:class extends X{constructor(t,e,i,n){super(t,e,i,n),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e){const i=this.textFillState_,n=this.textStrokeState_,s=this.textState_;if(""===this.text_||!s||!i&&!n)return;const r=this.coordinates;let o=r.length;const a=t.getType();let h=null,l=t.getStride();if("line"!==s.placement||"LineString"!=a&&"MultiLineString"!=a&&"Polygon"!=a&&"MultiPolygon"!=a){let i=s.overflow?null:[];switch(a){case"Point":case"MultiPoint":h=t.getFlatCoordinates();break;case"LineString":h=t.getFlatMidpoint();break;case"Circle":h=t.getCenter();break;case"MultiLineString":h=t.getFlatMidpoints(),l=2;break;case"Polygon":h=t.getFlatInteriorPoint(),s.overflow||i.push(h[2]/this.resolution),l=3;break;case"MultiPolygon":const e=t.getFlatInteriorPoints();h=[];for(let t=0,n=e.length;t<n;t+=3)s.overflow||i.push(e[t+2]/this.resolution),h.push(e[t],e[t+1]);if(0===h.length)return;l=2}const n=this.appendFlatPointCoordinates(h,l);if(n===o)return;if(i&&(n-o)/2!=h.length/l){let t=o/2;i=i.filter(((e,i)=>{const n=r[2*(t+i)]===h[i*l]&&r[2*(t+i)+1]===h[i*l+1];return n||--t,n}))}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);let c=s.padding;if(c!=U.oB&&(s.scale[0]<0||s.scale[1]<0)){let t=s.padding[0],e=s.padding[1],i=s.padding[2],n=s.padding[3];s.scale[0]<0&&(e=-e,n=-n),s.scale[1]<0&&(t=-t,i=-i),c=[t,e,i,n]}const d=this.pixelRatio;this.instructions.push([z.DRAW_IMAGE,o,n,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,c==U.oB?U.oB:c.map((function(t){return t*d})),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]);const u=1/d;this.hitDetectionInstructions.push([z.DRAW_IMAGE,o,n,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[u,u],NaN,void 0,this.declutterImageWithText_,c,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]),this.endGeometry(e)}else{if(!(0,W.kK)(this.getBufferedMaxExtent(),t.getExtent()))return;let i;if(h=t.getFlatCoordinates(),"LineString"==a)i=[h.length];else if("MultiLineString"==a)i=t.getEnds();else if("Polygon"==a)i=t.getEnds().slice(0,1);else if("MultiPolygon"==a){const e=t.getEndss();i=[];for(let t=0,n=e.length;t<n;++t)i.push(e[t][0])}this.beginGeometry(t,e);const n=s.textAlign;let c,d=0;for(let t=0,e=i.length;t<e;++t){if(null==n){const e=H(s.maxAngle,h,d,i[t],l);d=e[0],c=e[1]}else c=i[t];for(let t=d;t<c;t+=l)r.push(h[t],h[t+1]);const e=r.length;d=i[t],this.drawChars_(o,e),o=e}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,n=this.strokeKey_;t&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:e.font,textAlign:e.textAlign||U.PH,justify:e.justify,textBaseline:e.textBaseline||U.ru,scale:e.scale});const r=this.fillKey_;i&&(r in this.fillStates||(this.fillStates[r]={fillStyle:i.fillStyle}))}drawChars_(t,e){const i=this.textStrokeState_,n=this.textState_,s=this.strokeKey_,r=this.textKey_,o=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,h=q[n.textBaseline],l=this.textOffsetY_*a,c=this.text_,d=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([z.DRAW_CHARS,t,e,h,n.overflow,o,n.maxAngle,a,l,s,d*a,c,r,1]),this.hitDetectionInstructions.push([z.DRAW_CHARS,t,e,h,n.overflow,o,n.maxAngle,1,l,s,d,c,r,1/a])}setTextStyle(t,e){let i,n,s;if(t){const e=t.getFill();e?(n=this.textFillState_,n||(n={},this.textFillState_=n),n.fillStyle=(0,B.y)(e.getColor()||U.bL)):(n=null,this.textFillState_=n);const r=t.getStroke();if(r){s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const t=r.getLineDash(),e=r.getLineDashOffset(),i=r.getWidth(),n=r.getMiterLimit();s.lineCap=r.getLineCap()||U.mb,s.lineDash=t?t.slice():U.X9,s.lineDashOffset=void 0===e?U.He:e,s.lineJoin=r.getLineJoin()||U.rc,s.lineWidth=void 0===i?U.yC:i,s.miterLimit=void 0===n?U.V4:n,s.strokeStyle=(0,B.y)(r.getColor()||U.Tx)}else s=null,this.textStrokeState_=s;i=this.textState_;const o=t.getFont()||U.Df;(0,U.Qx)(o);const a=t.getScaleArray();i.overflow=t.getOverflow(),i.font=o,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||U.ru,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||U.oB,i.scale=void 0===a?[1,1]:a;const h=t.getOffsetX(),l=t.getOffsetY(),c=t.getRotateWithView(),d=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===h?0:h,this.textOffsetY_=void 0===l?0:l,this.textRotateWithView_=void 0!==c&&c,this.textRotation_=void 0===d?0:d,this.strokeKey_=s?("string"==typeof s.strokeStyle?s.strokeStyle:(0,y.sq)(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+(0,y.sq)(n.fillStyle):""}else this.text_="";this.declutterImageWithText_=e}}},$=class{constructor(t,e,i,n){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const i=this.buildersByZIndex_[e];for(const n in i){const s=i[n].finish();t[e][n]=s}}return t}getBuilder(t,e){const i=void 0!==t?t.toString():"0";let n=this.buildersByZIndex_[i];void 0===n&&(n={},this.buildersByZIndex_[i]=n);let s=n[e];return void 0===s&&(s=new(0,J[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=s),s}};var Q=i(6101),tt=i(3983),et=i(6442);function it(t,e,i,n,s,r,o,a,h,l,c,d){let u=t[e],g=t[e+1],_=0,f=0,p=0,m=0;function v(){_=u,f=g,u=t[e+=n],g=t[e+1],m+=p,p=Math.sqrt((u-_)*(u-_)+(g-f)*(g-f))}do{v()}while(e<i-n&&m+p<r);let y=0===p?0:(r-m)/p;const x=(0,tt.t7)(_,u,y),w=(0,tt.t7)(f,g,y),S=e-n,E=m,C=r+a*h(l,s,c);for(;e<i-n&&m+p<C;)v();y=0===p?0:(C-m)/p;const b=(0,tt.t7)(_,u,y),T=(0,tt.t7)(f,g,y);let R;if(d){const t=[x,w,b,T];(0,et.U1)(t,0,4,2,d,t,t),R=t[0]>t[2]}else R=x>b;const I=Math.PI,k=[],M=S+n===e;let L;if(p=0,m=E,u=t[e=S],g=t[e+1],M){v(),L=Math.atan2(g-f,u-_),R&&(L+=L>0?-I:I);const t=(b+x)/2,e=(T+w)/2;return k[0]=[t,e,(C-r)/2,L,s],k}for(let t=0,d=(s=s.replace(/\n/g," ")).length;t<d;){v();let x=Math.atan2(g-f,u-_);if(R&&(x+=x>0?-I:I),void 0!==L){let t=x-L;if(t+=t>I?-2*I:t<-I?2*I:0,Math.abs(t)>o)return null}L=x;const w=t;let S=0;for(;t<d;++t){const o=a*h(l,s[R?d-t-1:t],c);if(e+n<i&&m+p<r+S+o/2)break;S+=o}if(t===w)continue;const E=R?s.substring(d-w,d-t):s.substring(w,t);y=0===p?0:(r+S/2-m)/p;const C=(0,tt.t7)(_,u,y),b=(0,tt.t7)(f,g,y);k.push([C,b,S/2,x,E]),r+=S}return k}function nt(t,e,i,n){let s=t[e],r=t[e+1],o=0;for(let a=e+n;a<i;a+=n){const e=t[a],i=t[a+1];o+=Math.sqrt((e-s)*(e-s)+(i-r)*(i-r)),s=e,r=i}return o}const st=(0,W.lJ)(),rt=[],ot=[],at=[],ht=[];function lt(t){return t[3].declutterBox}const ct=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function dt(t,e){return"start"!==e&&"end"!==e||ct.test(t)||(e="start"===e?"left":"right"),q[e]}function ut(t,e,i){return i>0&&t.push("\n",""),t.push(e,""),t}const gt=class{constructor(t,e,i,n){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,Q.Ue)(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}createLabel(t,e,i,n){const s=t+e+i+n;if(this.labels_[s])return this.labels_[s];const r=n?this.strokeStates[n]:null,o=i?this.fillStates[i]:null,a=this.textStates[e],h=this.pixelRatio,l=[a.scale[0]*h,a.scale[1]*h],c=Array.isArray(t),d=a.justify?q[a.justify]:dt(Array.isArray(t)?t[0]:t,a.textAlign||U.PH),u=n&&r.lineWidth?r.lineWidth:0,g=c?t:t.split("\n").reduce(ut,[]),{width:_,height:f,widths:p,heights:m,lineWidths:v}=(0,U.Zw)(a,g),y=_+u,x=[],w=(y+2)*l[0],S=(f+u)*l[1],E={width:w<0?Math.floor(w):Math.ceil(w),height:S<0?Math.floor(S):Math.ceil(S),contextInstructions:x};1==l[0]&&1==l[1]||x.push("scale",l),n&&(x.push("strokeStyle",r.strokeStyle),x.push("lineWidth",u),x.push("lineCap",r.lineCap),x.push("lineJoin",r.lineJoin),x.push("miterLimit",r.miterLimit),x.push("setLineDash",[r.lineDash]),x.push("lineDashOffset",r.lineDashOffset)),i&&x.push("fillStyle",o.fillStyle),x.push("textBaseline","middle"),x.push("textAlign","center");const C=.5-d;let b=d*y+C*u;const T=[],R=[];let I,k=0,M=0,L=0,P=0;for(let t=0,e=g.length;t<e;t+=2){const e=g[t];if("\n"===e){M+=k,k=0,b=d*y+C*u,++P;continue}const s=g[t+1]||a.font;s!==I&&(n&&T.push("font",s),i&&R.push("font",s),I=s),k=Math.max(k,m[L]);const r=[e,b+C*p[L]+d*(p[L]-v[P]),.5*(u+k)+M];b+=p[L],n&&T.push("strokeText",r),i&&R.push("fillText",r),++L}return Array.prototype.push.apply(x,T),Array.prototype.push.apply(x,R),this.labels_[s]=E,E}replayTextBackground_(t,e,i,n,s,r,o){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,s),t.lineTo.apply(t,e),r&&(this.alignFill_=r[2],this.fill_(t)),o&&(this.setStrokeStyle_(t,o),t.stroke())}calculateImageOrLabelDimensions_(t,e,i,n,s,r,o,a,h,l,c,d,u,g,_,f){let p=i-(o*=d[0]),m=n-(a*=d[1]);const v=s+h>t?t-h:s,y=r+l>e?e-l:r,x=g[3]+v*d[0]+g[1],w=g[0]+y*d[1]+g[2],S=p-g[3],E=m-g[0];let C;return(_||0!==c)&&(rt[0]=S,ht[0]=S,rt[1]=E,ot[1]=E,ot[0]=S+x,at[0]=ot[0],at[1]=E+w,ht[1]=at[1]),0!==c?(C=(0,Q.qC)((0,Q.Ue)(),i,n,1,1,c,-i,-n),(0,Q.nn)(C,rt),(0,Q.nn)(C,ot),(0,Q.nn)(C,at),(0,Q.nn)(C,ht),(0,W.T9)(Math.min(rt[0],ot[0],at[0],ht[0]),Math.min(rt[1],ot[1],at[1],ht[1]),Math.max(rt[0],ot[0],at[0],ht[0]),Math.max(rt[1],ot[1],at[1],ht[1]),st)):(0,W.T9)(Math.min(S,S+x),Math.min(E,E+w),Math.max(S,S+x),Math.max(E,E+w),st),u&&(p=Math.round(p),m=Math.round(m)),{drawImageX:p,drawImageY:m,drawImageW:v,drawImageH:y,originX:h,originY:l,declutterBox:{minX:st[0],minY:st[1],maxX:st[2],maxY:st[3],value:f},canvasTransform:C,scale:d}}replayImageOrLabel_(t,e,i,n,s,r,o){const a=!(!r&&!o),h=n.declutterBox,l=t.canvas,c=o?o[2]*n.scale[0]/2:0;return h.minX-c<=l.width/e&&h.maxX+c>=0&&h.minY-c<=l.height/e&&h.maxY+c>=0&&(a&&this.replayTextBackground_(t,rt,ot,at,ht,r,o),(0,U._f)(t,n.canvasTransform,s,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0}fill_(t){if(this.alignFill_){const e=(0,Q.nn)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,i,n){const s=this.textStates[e],r=this.createLabel(t,e,n,i),o=this.strokeStates[i],a=this.pixelRatio,h=dt(Array.isArray(t)?t[0]:t,s.textAlign||U.PH),l=q[s.textBaseline||U.ru],c=o&&o.lineWidth?o.lineWidth:0;return{label:r,anchorX:h*(r.width/a-2*s.scale[0])+2*(.5-h)*c,anchorY:l*r.height/a+2*(.5-l)*c}}execute_(t,e,i,n,s,r,o,a){let h;this.pixelCoordinates_&&(0,Y.fS)(i,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=(0,et.vT)(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),(0,Q.lk)(this.renderedTransform_,i));let l=0;const c=n.length;let d,u,g,_,f,p,m,v,y,x,w,S,E=0,C=0,b=0,T=null,R=null;const I=this.coordinateCache_,k=this.viewRotation_,M=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,L={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:k},P=this.instructions!=n||this.overlaps?0:200;let O,A,Z,F;for(;l<c;){const i=n[l];switch(i[0]){case z.BEGIN_GEOMETRY:O=i[1],F=i[3],O.getGeometry()?void 0===o||(0,W.kK)(o,F.getExtent())?++l:l=i[2]+1:l=i[2];break;case z.BEGIN_PATH:C>P&&(this.fill_(t),C=0),b>P&&(t.stroke(),b=0),C||b||(t.beginPath(),_=NaN,f=NaN),++l;break;case z.CIRCLE:E=i[1];const n=h[E],c=h[E+1],D=h[E+2]-n,N=h[E+3]-c,G=Math.sqrt(D*D+N*N);t.moveTo(n+G,c),t.arc(n,c,G,0,2*Math.PI,!0),++l;break;case z.CLOSE_PATH:t.closePath(),++l;break;case z.CUSTOM:E=i[1],d=i[2];const B=i[3],Y=i[4],V=6==i.length?i[5]:void 0;L.geometry=B,L.feature=O,l in I||(I[l]=[]);const X=I[l];V?V(h,E,d,2,X):(X[0]=h[E],X[1]=h[E+1],X.length=2),Y(X,L),++l;break;case z.DRAW_IMAGE:E=i[1],d=i[2],v=i[3],u=i[4],g=i[5];let j=i[6];const K=i[7],H=i[8],J=i[9],$=i[10];let Q=i[11];const tt=i[12];let et=i[13];const st=i[14],rt=i[15];if(!v&&i.length>=20){y=i[19],x=i[20],w=i[21],S=i[22];const t=this.drawLabelWithPointPlacement_(y,x,w,S);v=t.label,i[3]=v;const e=i[23];u=(t.anchorX-e)*this.pixelRatio,i[4]=u;const n=i[24];g=(t.anchorY-n)*this.pixelRatio,i[5]=g,j=v.height,i[6]=j,et=v.width,i[13]=et}let ot,at,ht,ct;i.length>25&&(ot=i[25]),i.length>17?(at=i[16],ht=i[17],ct=i[18]):(at=U.oB,ht=!1,ct=!1),$&&M?Q+=k:$||M||(Q-=k);let dt=0;for(;E<d;E+=2){if(ot&&ot[dt++]<et/this.pixelRatio)continue;const i=this.calculateImageOrLabelDimensions_(v.width,v.height,h[E],h[E+1],et,j,u,g,H,J,Q,tt,s,at,ht||ct,O),n=[t,e,v,i,K,ht?T:null,ct?R:null];if(a){if("none"===st)continue;if("obstacle"===st){a.insert(i.declutterBox);continue}{let t,e;if(rt){const i=d-E;if(!rt[i]){rt[i]=n;continue}if(t=rt[i],delete rt[i],e=lt(t),a.collides(e))continue}if(a.collides(i.declutterBox))continue;t&&(a.insert(e),this.replayImageOrLabel_.apply(this,t)),a.insert(i.declutterBox)}}this.replayImageOrLabel_.apply(this,n)}++l;break;case z.DRAW_CHARS:const ut=i[1],gt=i[2],_t=i[3],ft=i[4];S=i[5];const pt=i[6],mt=i[7],vt=i[8];w=i[9];const yt=i[10];y=i[11],x=i[12];const xt=[i[13],i[13]],wt=this.textStates[x],St=wt.font,Et=[wt.scale[0]*mt,wt.scale[1]*mt];let Ct;St in this.widths_?Ct=this.widths_[St]:(Ct={},this.widths_[St]=Ct);const bt=nt(h,ut,gt,2),Tt=Math.abs(Et[0])*(0,U.Kd)(St,y,Ct);if(ft||Tt<=bt){const i=this.textStates[x].textAlign,n=it(h,ut,gt,2,y,(bt-Tt)*q[i],pt,Math.abs(Et[0]),U.Kd,St,Ct,M?0:this.viewRotation_);t:if(n){const i=[];let s,r,o,h,l;if(w)for(s=0,r=n.length;s<r;++s){l=n[s],o=l[4],h=this.createLabel(o,x,"",w),u=l[2]+(Et[0]<0?-yt:yt),g=_t*h.height+2*(.5-_t)*yt*Et[1]/Et[0]-vt;const r=this.calculateImageOrLabelDimensions_(h.width,h.height,l[0],l[1],h.width,h.height,u,g,0,0,l[3],xt,!1,U.oB,!1,O);if(a&&a.collides(r.declutterBox))break t;i.push([t,e,h,r,1,null,null])}if(S)for(s=0,r=n.length;s<r;++s){l=n[s],o=l[4],h=this.createLabel(o,x,S,""),u=l[2],g=_t*h.height-vt;const r=this.calculateImageOrLabelDimensions_(h.width,h.height,l[0],l[1],h.width,h.height,u,g,0,0,l[3],xt,!1,U.oB,!1,O);if(a&&a.collides(r.declutterBox))break t;i.push([t,e,h,r,1,null,null])}a&&a.load(i.map(lt));for(let t=0,e=i.length;t<e;++t)this.replayImageOrLabel_.apply(this,i[t])}}++l;break;case z.END_GEOMETRY:if(void 0!==r){O=i[1];const t=r(O,F);if(t)return t}++l;break;case z.FILL:P?C++:this.fill_(t),++l;break;case z.MOVE_TO_LINE_TO:for(E=i[1],d=i[2],A=h[E],Z=h[E+1],p=A+.5|0,m=Z+.5|0,p===_&&m===f||(t.moveTo(A,Z),_=p,f=m),E+=2;E<d;E+=2)A=h[E],Z=h[E+1],p=A+.5|0,m=Z+.5|0,E!=d-2&&p===_&&m===f||(t.lineTo(A,Z),_=p,f=m);++l;break;case z.SET_FILL_STYLE:T=i,this.alignFill_=i[2],C&&(this.fill_(t),C=0,b&&(t.stroke(),b=0)),t.fillStyle=i[1],++l;break;case z.SET_STROKE_STYLE:R=i,b&&(t.stroke(),b=0),this.setStrokeStyle_(t,i),++l;break;case z.STROKE:P?b++:t.stroke(),++l;break;default:++l}}C&&this.fill_(t),b&&t.stroke()}execute(t,e,i,n,s,r){this.viewRotation_=n,this.execute_(t,e,i,this.instructions,s,void 0,void 0,r)}executeHitDetection(t,e,i,n,s){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,n,s)}};var _t=i(9374);const ft=["Polygon","Circle","LineString","Image","Text","Default"],pt={},mt=class{constructor(t,e,i,n,s,r){this.maxExtent_=t,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=r,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,Q.Ue)(),this.createExecutors_(s)}clip(t,e){const i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()}createExecutors_(t){for(const e in t){let i=this.executorsByZIndex_[e];void 0===i&&(i={},this.executorsByZIndex_[e]=i);const n=t[e];for(const t in n){const e=n[t];i[t]=new gt(this.resolution_,this.pixelRatio_,this.overlaps_,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const i=this.executorsByZIndex_[e];for(let e=0,n=t.length;e<n;++e)if(t[e]in i)return!0}return!1}forEachFeatureAtCoordinate(t,e,i,n,s,r){const o=2*(n=Math.round(n))+1,a=(0,Q.qC)(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=(0,_.E4)(o,o,void 0,{willReadFrequently:!0}));const l=this.hitDetectionContext_;let c;l.canvas.width!==o||l.canvas.height!==o?(l.canvas.width=o,l.canvas.height=o):h||l.clearRect(0,0,o,o),void 0!==this.renderBuffer_&&(c=(0,W.lJ)(),(0,W.Wj)(c,t),(0,W.f3)(c,e*(this.renderBuffer_+n),c));const d=function(t){if(void 0!==pt[t])return pt[t];const e=2*t+1,i=t*t,n=new Array(i+1);for(let s=0;s<=t;++s)for(let r=0;r<=t;++r){const o=s*s+r*r;if(o>i)break;let a=n[o];a||(a=[],n[o]=a),a.push(4*((t+s)*e+(t+r))+3),s>0&&a.push(4*((t-s)*e+(t+r))+3),r>0&&(a.push(4*((t+s)*e+(t-r))+3),s>0&&a.push(4*((t-s)*e+(t-r))+3))}const s=[];for(let t=0,e=n.length;t<e;++t)n[t]&&s.push(...n[t]);return pt[t]=s,s}(n);let u;function g(t,e){const i=l.getImageData(0,0,o,o).data;for(let a=0,h=d.length;a<h;a++)if(i[d[a]]>0){if(!r||"Image"!==u&&"Text"!==u||r.includes(t)){const i=(d[a]-3)/4,r=n-i%o,h=n-(i/o|0),l=s(t,e,r*r+h*h);if(l)return l}l.clearRect(0,0,o,o);break}}const f=Object.keys(this.executorsByZIndex_).map(Number);let p,m,v,y,x;for(f.sort(Y.j2),p=f.length-1;p>=0;--p){const t=f[p].toString();for(v=this.executorsByZIndex_[t],m=ft.length-1;m>=0;--m)if(u=ft[m],y=v[u],void 0!==y&&(x=y.executeHitDetection(l,a,i,g,c),x))return x}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const i=e[0],n=e[1],s=e[2],r=e[3],o=[i,n,i,r,s,r,s,n];return(0,et.vT)(o,0,8,2,t,o),o}isEmpty(){return(0,_t.x)(this.executorsByZIndex_)}execute(t,e,i,n,s,r,o){const a=Object.keys(this.executorsByZIndex_).map(Number);let h,l,c,d,u,g;for(a.sort(Y.j2),this.maxExtent_&&(t.save(),this.clip(t,i)),r=r||ft,o&&a.reverse(),h=0,l=a.length;h<l;++h){const l=a[h].toString();for(u=this.executorsByZIndex_[l],c=0,d=r.length;c<d;++c)g=u[r[c]],void 0!==g&&g.execute(t,e,i,n,s,o)}this.maxExtent_&&t.restore()}};var vt=i(4708),yt=i(7195),xt=i(7755),wt=i(6762);const St=class extends G{constructor(t,e,i,n,s,r,o){super(),this.context_=t,this.pixelRatio_=e,this.extent_=i,this.transform_=n,this.transformRotation_=n?(0,tt.FH)(Math.atan2(n[1],n[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=r,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,Q.Ue)()}drawImages_(t,e,i,n){if(!this.image_)return;const s=(0,et.vT)(t,e,i,n,this.transform_,this.pixelCoordinates_),r=this.context_,o=this.tmpLocalTransform_,a=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=a*this.imageOpacity_);let h=this.imageRotation_;0===this.transformRotation_&&(h-=this.viewRotation_),this.imageRotateWithView_&&(h+=this.viewRotation_);for(let t=0,e=s.length;t<e;t+=2){const e=s[t]-this.imageAnchorX_,i=s[t+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const t=e+this.imageAnchorX_,n=i+this.imageAnchorY_;(0,Q.qC)(o,t,n,1,1,h,-t,-n),r.setTransform.apply(r,o),r.translate(t,n),r.scale(this.imageScale_[0],this.imageScale_[1]),r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),r.setTransform(1,0,0,1,0,0)}else r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,e,i,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(r.globalAlpha=a)}drawText_(t,e,i,n){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=(0,et.vT)(t,e,i,n,this.transform_,this.pixelCoordinates_),r=this.context_;let o=this.textRotation_;for(0===this.transformRotation_&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);e<i;e+=n){const t=s[e]+this.textOffsetX_,i=s[e+1]+this.textOffsetY_;0!==o||1!=this.textScale_[0]||1!=this.textScale_[1]?(r.translate(t-this.textOffsetX_,i-this.textOffsetY_),r.rotate(o),r.translate(this.textOffsetX_,this.textOffsetY_),r.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&r.strokeText(this.text_,0,0),this.textFillState_&&r.fillText(this.text_,0,0),r.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&r.strokeText(this.text_,t,i),this.textFillState_&&r.fillText(this.text_,t,i))}}moveToLineTo_(t,e,i,n,s){const r=this.context_,o=(0,et.vT)(t,e,i,n,this.transform_,this.pixelCoordinates_);r.moveTo(o[0],o[1]);let a=o.length;s&&(a-=2);for(let t=2;t<a;t+=2)r.lineTo(o[t],o[t+1]);return s&&r.closePath(),i}drawRings_(t,e,i,n){for(let s=0,r=i.length;s<r;++s)e=this.moveToLineTo_(t,e,i[s],n,!0);return e}drawCircle(t){if((0,W.kK)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=(0,wt.Kr)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],s=Math.sqrt(i*i+n*n),r=this.context_;r.beginPath(),r.arc(e[0],e[1],s,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}}drawFeature(t,e){const i=e.getGeometryFunction()(t);i&&(0,W.kK)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let t=0,i=e.length;t<i;++t)this.drawGeometry(e[t])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,W.kK)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if((0,W.kK)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getFlatCoordinates();let n=0;const s=t.getEnds(),r=t.getStride();e.beginPath();for(let t=0,e=s.length;t<e;++t)n=this.moveToLineTo_(i,n,s[t],r,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,W.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,W.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getOrientedFlatCoordinates();let n=0;const s=t.getEndss(),r=t.getStride();e.beginPath();for(let t=0,e=s.length;t<e;++t){const e=s[t];n=this.drawRings_(i,n,e,r)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),(0,Y.fS)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:U.PH;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=n&&(i.textAlign=n,e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:(0,B.y)(e||U.bL)}}else this.fillState_=null;if(e){const t=e.getColor(),i=e.getLineCap(),n=e.getLineDash(),s=e.getLineDashOffset(),r=e.getLineJoin(),o=e.getWidth(),a=e.getMiterLimit(),h=n||U.X9;this.strokeState_={lineCap:void 0!==i?i:U.mb,lineDash:1===this.pixelRatio_?h:h.map((t=>t*this.pixelRatio_)),lineDashOffset:(s||U.He)*this.pixelRatio_,lineJoin:void 0!==r?r:U.rc,lineWidth:(void 0!==o?o:U.yC)*this.pixelRatio_,miterLimit:void 0!==a?a:U.V4,strokeStyle:(0,B.y)(t||U.Tx)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize()))return void(this.image_=null);const i=t.getPixelRatio(this.pixelRatio_),n=t.getAnchor(),s=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*i,this.imageAnchorY_=n[1]*i,this.imageHeight_=e[1]*i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const r=t.getScaleArray();this.imageScale_=[r[0]*this.pixelRatio_/i,r[1]*this.pixelRatio_/i],this.imageWidth_=e[0]*i}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:(0,B.y)(t||U.bL)}}else this.textFillState_=null;const i=t.getStroke();if(i){const t=i.getColor(),e=i.getLineCap(),n=i.getLineDash(),s=i.getLineDashOffset(),r=i.getLineJoin(),o=i.getWidth(),a=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:U.mb,lineDash:n||U.X9,lineDashOffset:s||U.He,lineJoin:void 0!==r?r:U.rc,lineWidth:void 0!==o?o:U.yC,miterLimit:void 0!==a?a:U.V4,strokeStyle:(0,B.y)(t||U.Tx)}}else this.textStrokeState_=null;const n=t.getFont(),s=t.getOffsetX(),r=t.getOffsetY(),o=t.getRotateWithView(),a=t.getRotation(),h=t.getScaleArray(),l=t.getText(),c=t.getTextAlign(),d=t.getTextBaseline();this.textState_={font:void 0!==n?n:U.Df,textAlign:void 0!==c?c:U.PH,textBaseline:void 0!==d?d:U.ru},this.text_=void 0!==l?Array.isArray(l)?l.reduce(((t,e,i)=>t+(i%2?" ":e)),""):l:"",this.textOffsetX_=void 0!==s?this.pixelRatio_*s:0,this.textOffsetY_=void 0!==r?this.pixelRatio_*r:0,this.textRotateWithView_=void 0!==o&&o,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*h[0],this.pixelRatio_*h[1]]}else this.text_=""}},Et=.5,Ct=.5,bt={Point:function(t,e,i,n,s){const r=i.getImage(),o=i.getText();let a;if(r){if(r.getImageState()!=l.Z.LOADED)return;let h=t;if(s){const l=r.getDeclutterMode();if("none"!==l)if(h=s,"obstacle"===l){const s=t.getBuilder(i.getZIndex(),"Image");s.setImageStyle(r,a),s.drawPoint(e,n)}else o&&o.getText()&&(a={})}const c=h.getBuilder(i.getZIndex(),"Image");c.setImageStyle(r,a),c.drawPoint(e,n)}if(o&&o.getText()){let r=t;s&&(r=s);const h=r.getBuilder(i.getZIndex(),"Text");h.setTextStyle(o,a),h.drawText(e,n)}},LineString:function(t,e,i,n,s){const r=i.getStroke();if(r){const s=t.getBuilder(i.getZIndex(),"LineString");s.setFillStrokeStyle(null,r),s.drawLineString(e,n)}const o=i.getText();if(o&&o.getText()){const r=(s||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(o),r.drawText(e,n)}},Polygon:function(t,e,i,n,s){const r=i.getFill(),o=i.getStroke();if(r||o){const s=t.getBuilder(i.getZIndex(),"Polygon");s.setFillStrokeStyle(r,o),s.drawPolygon(e,n)}const a=i.getText();if(a&&a.getText()){const r=(s||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,n)}},MultiPoint:function(t,e,i,n,s){const r=i.getImage(),o=i.getText();let a;if(r){if(r.getImageState()!=l.Z.LOADED)return;let h=t;if(s){const l=r.getDeclutterMode();if("none"!==l)if(h=s,"obstacle"===l){const s=t.getBuilder(i.getZIndex(),"Image");s.setImageStyle(r,a),s.drawMultiPoint(e,n)}else o&&o.getText()&&(a={})}const c=h.getBuilder(i.getZIndex(),"Image");c.setImageStyle(r,a),c.drawMultiPoint(e,n)}if(o&&o.getText()){let r=t;s&&(r=s);const h=r.getBuilder(i.getZIndex(),"Text");h.setTextStyle(o,a),h.drawText(e,n)}},MultiLineString:function(t,e,i,n,s){const r=i.getStroke();if(r){const s=t.getBuilder(i.getZIndex(),"LineString");s.setFillStrokeStyle(null,r),s.drawMultiLineString(e,n)}const o=i.getText();if(o&&o.getText()){const r=(s||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(o),r.drawText(e,n)}},MultiPolygon:function(t,e,i,n,s){const r=i.getFill(),o=i.getStroke();if(o||r){const s=t.getBuilder(i.getZIndex(),"Polygon");s.setFillStrokeStyle(r,o),s.drawMultiPolygon(e,n)}const a=i.getText();if(a&&a.getText()){const r=(s||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,n)}},GeometryCollection:function(t,e,i,n,s){const r=e.getGeometriesArray();let o,a;for(o=0,a=r.length;o<a;++o)(0,bt[r[o].getType()])(t,r[o],i,n,s)},Circle:function(t,e,i,n,s){const r=i.getFill(),o=i.getStroke();if(r||o){const s=t.getBuilder(i.getZIndex(),"Circle");s.setFillStrokeStyle(r,o),s.drawCircle(e,n)}const a=i.getText();if(a&&a.getText()){const r=(s||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,n)}}};function Tt(t,e){const i=function(t,e){return Ct*t/e}(t,e);return i*i}function Rt(t,e,i,n,s,r,o){let a=!1;const h=i.getImage();if(h){const t=h.getImageState();t==l.Z.LOADED||t==l.Z.ERROR?h.unlistenImageChange(s):(t==l.Z.IDLE&&h.load(),h.listenImageChange(s),a=!0)}return function(t,e,i,n,s,r){const o=i.getGeometryFunction()(e);if(!o)return;const a=o.simplifyTransformed(n,s);i.getRenderer()?It(t,a,i,e):(0,bt[a.getType()])(t,a,i,e,r)}(t,e,i,n,r,o),a}function It(t,e,i,n){if("GeometryCollection"!=e.getType())t.getBuilder(i.getZIndex(),"Default").drawCustom(e,n,i.getRenderer(),i.getHitDetectionRenderer());else{const s=e.getGeometries();for(let e=0,r=s.length;e<r;++e)It(t,s[e],i,n)}}var kt=i(4307),Mt=i(1900);const Lt={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},Pt={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class Ot extends vt.Z{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.tmpTransform_=(0,Q.Ue)()}prepareTile(t,e,i){let n;const s=t.getState();return s!==yt.Z.LOADED&&s!==yt.Z.ERROR||(this.updateExecutorGroup_(t,e,i),this.tileImageNeedsRender_(t)&&(n=!0)),n}getTile(t,e,i,n){const s=n.pixelRatio,r=n.viewState,o=r.resolution,a=r.projection,h=this.getLayer(),l=h.getSource().getTile(t,e,i,s,a),c=n.viewHints,d=!(c[xt.Z.ANIMATING]||c[xt.Z.INTERACTING]);return!d&&l.wantedResolution||(l.wantedResolution=o),this.prepareTile(l,s,a)&&(d||Date.now()-n.time<8)&&"vector"!==h.getRenderMode()&&this.renderTileImage_(l,n),super.getTile(t,e,i,n)}isDrawableTile(t){const e=this.getLayer();return super.isDrawableTile(t)&&("vector"===e.getRenderMode()?(0,y.sq)(e)in t.executorGroups:t.hasContext(e))}getTileImage(t){return t.getImage(this.getLayer())}prepareFrame(t){const e=this.getLayer().getRevision();return this.renderedLayerRevision_!==e&&(this.renderedLayerRevision_=e,this.renderedTiles.length=0),super.prepareFrame(t)}updateExecutorGroup_(t,e,i){const n=this.getLayer(),s=n.getRevision(),r=n.getRenderOrder()||null,o=t.wantedResolution,a=t.getReplayState(n);if(!a.dirty&&a.renderedResolution===o&&a.renderedRevision==s&&a.renderedRenderOrder==r)return;const h=n.getSource(),l=n.getDeclutter(),c=h.getTileGrid(),d=h.getTileGridForProjection(i).getTileCoordExtent(t.wrappedTileCoord),u=h.getSourceTiles(e,i,t),g=(0,y.sq)(n);delete t.hitDetectionImageData[g],t.executorGroups[g]=[],l&&(t.declutterExecutorGroups[g]=[]),a.dirty=!1;for(let i=0,s=u.length;i<s;++i){const s=u[i];if(s.getState()!=yt.Z.LOADED)continue;const _=s.tileCoord,f=c.getTileCoordExtent(_),p=(0,W.Ed)(d,f),m=(0,W.f3)(p,n.getRenderBuffer()*o,this.tmpExtent),v=(0,W.fS)(f,p)?null:m,y=new $(0,m,o,e),x=l?new $(0,p,o,e):void 0,w=Tt(o,e),S=function(t){let e;const i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,o)),e){const i=this.renderFeature(t,w,e,y,x);a.dirty=a.dirty||i}},E=s.getFeatures();r&&r!==a.renderedRenderOrder&&E.sort(r);for(let t=0,e=E.length;t<e;++t){const e=E[t];v&&!(0,W.kK)(v,e.getGeometry().getExtent())||S.call(this,e)}const C=y.finish(),b="vector"!==n.getRenderMode()&&l&&1===u.length?null:p,T=new mt(b,o,e,h.getOverlaps(),C,n.getRenderBuffer());if(t.executorGroups[g].push(T),x){const i=new mt(null,o,e,h.getOverlaps(),x.finish(),n.getRenderBuffer());t.declutterExecutorGroups[g].push(i)}}a.renderedRevision=s,a.renderedRenderOrder=r,a.renderedResolution=o}forEachFeatureAtCoordinate(t,e,i,n,s){const r=e.viewState.resolution,o=e.viewState.rotation;i=null==i?0:i;const a=this.getLayer(),h=a.getSource().getTileGridForProjection(e.viewState.projection),l=(0,W.hI)([t]);(0,W.f3)(l,r*i,l);const c={},d=function(t,e,i){let r=t.getId();void 0===r&&(r=(0,y.sq)(t));const o=c[r];if(o){if(!0!==o&&i<o.distanceSq){if(0===i)return c[r]=!0,s.splice(s.lastIndexOf(o),1),n(t,a,e);o.geometry=e,o.distanceSq=i}}else{if(0===i)return c[r]=!0,n(t,a,e);s.push(c[r]={feature:t,layer:a,geometry:e,distanceSq:i,callback:n})}},u=this.renderedTiles;let g;for(let n=0,s=u.length;!g&&n<s;++n){const s=u[n],c=h.getTileCoordExtent(s.wrappedTileCoord);if(!(0,W.kK)(c,l))continue;const _=(0,y.sq)(a),f=[s.executorGroups[_]],p=s.declutterExecutorGroups[_];p&&f.push(p),f.some((n=>{const s=n===p?e.declutterTree.all().map((t=>t.value)):null;for(let e=0,a=n.length;e<a;++e){const a=n[e];if(g=a.forEachFeatureAtCoordinate(t,r,o,i,d,s),g)return!0}}))}return g}getFeatures(t){return new Promise(((e,i)=>{const n=this.getLayer(),s=(0,y.sq)(n),r=n.getSource(),o=this.renderedProjection,a=o.getExtent(),h=this.renderedResolution,l=r.getTileGridForProjection(o),c=(0,Q.nn)(this.renderedPixelToCoordinateTransform_,t.slice()),d=l.getTileCoordForCoordAndResolution(c,h);let u;for(let t=0,e=this.renderedTiles.length;t<e;++t)if(d.toString()===this.renderedTiles[t].tileCoord.toString()){if(u=this.renderedTiles[t],u.getState()===yt.Z.LOADED){const t=l.getTileCoordExtent(u.tileCoord);r.getWrapX()&&o.canWrapX()&&!(0,W.r4)(a,t)&&(0,Mt.Cf)(c,o);break}u=void 0}if(!u||u.loadingSourceTiles>0)return void e([]);const g=l.getTileCoordExtent(u.wrappedTileCoord),f=(0,W.rL)(g),p=[(c[0]-f[0])/h,(f[1]-c[1])/h],m=u.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]);let v=u.hitDetectionImageData[s];if(!v){const t=(0,kt.Pq)(l.getTileSize(l.getZForResolution(h,r.zDirection))),e=this.renderedRotation_;v=function(t,e,i,n,s,r,o){const a=t[0]*Et,h=t[1]*Et,l=(0,_.E4)(a,h);l.imageSmoothingEnabled=!1;const c=l.canvas,d=new St(l,Et,s,null,o),u=i.length,g=Math.floor(16777215/u),f={};for(let t=1;t<=u;++t){const e=i[t-1],o=e.getStyleFunction()||n;if(!n)continue;let a=o(e,r);if(!a)continue;Array.isArray(a)||(a=[a]);const h=(t*g).toString(16).padStart(7,"#00000");for(let t=0,i=a.length;t<i;++t){const i=a[t],n=i.getGeometryFunction()(e);if(!n||!(0,W.kK)(s,n.getExtent()))continue;const r=i.clone(),o=r.getFill();o&&o.setColor(h);const l=r.getStroke();l&&(l.setColor(h),l.setLineDash(null)),r.setText(void 0);const c=i.getImage();if(c&&0!==c.getOpacity()){const t=c.getImageSize();if(!t)continue;const e=(0,_.E4)(t[0],t[1],void 0,{alpha:!1}),i=e.canvas;e.fillStyle=h,e.fillRect(0,0,i.width,i.height),r.setImage(new w({img:i,imgSize:t,anchor:c.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:c.getOrigin(),opacity:1,size:c.getSize(),scale:c.getScale(),rotation:c.getRotation(),rotateWithView:c.getRotateWithView()}))}const d=r.getZIndex()||0;let u=f[d];u||(u={},f[d]=u,u.Polygon=[],u.Circle=[],u.LineString=[],u.Point=[]);const g=n.getType();if("GeometryCollection"===g){const t=n.getGeometriesArrayRecursive();for(let e=0,i=t.length;e<i;++e){const i=t[e];u[i.getType().replace("Multi","")].push(i,r)}}else u[g.replace("Multi","")].push(n,r)}}const p=Object.keys(f).map(Number).sort(Y.j2);for(let t=0,i=p.length;t<i;++t){const i=f[p[t]];for(const t in i){const n=i[t];for(let t=0,i=n.length;t<i;t+=2){d.setStyle(n[t+1]);for(let i=0,s=e.length;i<s;++i)d.setTransform(e[i]),d.drawGeometry(n[t])}}}return l.getImageData(0,0,c.width,c.height)}(t,[this.getRenderTransform(l.getTileCoordCenter(u.wrappedTileCoord),h,0,Et,t[0]*Et,t[1]*Et,0)],m,n.getStyleFunction(),l.getTileCoordExtent(u.wrappedTileCoord),u.getReplayState(n).renderedResolution,e),u.hitDetectionImageData[s]=v}e(function(t,e,i){const n=[];if(i){const s=Math.floor(Math.round(t[0])*Et),r=Math.floor(Math.round(t[1])*Et),o=4*((0,tt.uZ)(s,0,i.width-1)+(0,tt.uZ)(r,0,i.height-1)*i.width),a=i.data[o],h=i.data[o+1],l=i.data[o+2]+256*(h+256*a),c=Math.floor(16777215/e.length);l&&l%c==0&&n.push(e[l/c-1])}return n}(p,m,v))}))}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}renderDeclutter(t){const e=this.context,i=e.globalAlpha;e.globalAlpha=this.getLayer().getOpacity();const n=t.viewHints,s=!(n[xt.Z.ANIMATING]||n[xt.Z.INTERACTING]),r=this.renderedTiles;for(let e=0,i=r.length;e<i;++e){const i=r[e],n=i.declutterExecutorGroups[(0,y.sq)(this.getLayer())];if(n)for(let e=n.length-1;e>=0;--e)n[e].execute(this.context,1,this.getTileRenderTransform(i,t),t.viewState.rotation,s,void 0,t.declutterTree)}e.globalAlpha=i}getTileRenderTransform(t,e){const i=e.pixelRatio,n=e.viewState,s=n.center,r=n.resolution,o=n.rotation,a=e.size,h=Math.round(a[0]*i),l=Math.round(a[1]*i),c=this.getLayer().getSource().getTileGridForProjection(e.viewState.projection),d=t.tileCoord,u=c.getTileCoordExtent(t.wrappedTileCoord),g=c.getTileCoordExtent(d,this.tmpExtent)[0]-u[0];return(0,Q.Jp)((0,Q.bA)(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(s,r,o,i,h,l,g))}postRender(t,e){const i=e.viewHints,n=!(i[xt.Z.ANIMATING]||i[xt.Z.INTERACTING]);this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;const s=this.getLayer(),r=s.getRenderMode(),o=t.globalAlpha;t.globalAlpha=s.getOpacity();const a=Pt[r],h=e.viewState,l=h.rotation,c=s.getSource(),d=c.getTileGridForProjection(h.projection).getZForResolution(h.resolution,c.zDirection),u=this.renderedTiles,g=[],_=[];let f=!0;for(let i=u.length-1;i>=0;--i){const r=u[i];f=f&&!r.getReplayState(s).dirty;const o=r.executorGroups[(0,y.sq)(s)].filter((t=>t.hasExecutors(a)));if(0===o.length)continue;const h=this.getTileRenderTransform(r,e),c=r.tileCoord[0];let p=!1;const m=o[0].getClipCoords(h);if(m){for(let e=0,i=g.length;e<i;++e)if(d!==c&&c<_[e]){const i=g[e];(0,W.kK)([m[0],m[3],m[4],m[7]],[i[0],i[3],i[4],i[7]])&&(p||(t.save(),p=!0),t.beginPath(),t.moveTo(m[0],m[1]),t.lineTo(m[2],m[3]),t.lineTo(m[4],m[5]),t.lineTo(m[6],m[7]),t.moveTo(i[6],i[7]),t.lineTo(i[4],i[5]),t.lineTo(i[2],i[3]),t.lineTo(i[0],i[1]),t.clip())}g.push(m),_.push(c)}for(let e=0,i=o.length;e<i;++e)o[e].execute(t,1,h,l,n,a);p&&t.restore()}t.globalAlpha=o,this.ready=f,super.postRender(t,e)}renderFeature(t,e,i,n,s){if(!i)return!1;let r=!1;if(Array.isArray(i))for(let o=0,a=i.length;o<a;++o)r=Rt(n,t,i[o],e,this.boundHandleStyleImageChange_,void 0,s)||r;else r=Rt(n,t,i,e,this.boundHandleStyleImageChange_,void 0,s);return r}tileImageNeedsRender_(t){const e=this.getLayer();if("vector"===e.getRenderMode())return!1;const i=t.getReplayState(e),n=e.getRevision(),s=t.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==n}renderTileImage_(t,e){const i=this.getLayer(),n=t.getReplayState(i),s=i.getRevision(),r=t.executorGroups[(0,y.sq)(i)];n.renderedTileRevision=s;const o=t.wrappedTileCoord,a=o[0],h=i.getSource();let l=e.pixelRatio;const c=e.viewState.projection,d=h.getTileGridForProjection(c),u=d.getResolution(t.tileCoord[0]),g=e.pixelRatio/t.wantedResolution*u,_=d.getResolution(a),f=t.getContext(i);l=Math.round(Math.max(l,g/l));const p=h.getTilePixelSize(a,l,c);f.canvas.width=p[0],f.canvas.height=p[1];const m=l/g;if(1!==m){const t=(0,Q.mc)(this.tmpTransform_);(0,Q.bA)(t,m,m),f.setTransform.apply(f,t)}const v=d.getTileCoordExtent(o,this.tmpExtent),x=g/_,w=(0,Q.mc)(this.tmpTransform_);(0,Q.bA)(w,x,-x),(0,Q.Iu)(w,-v[0],-v[3]);for(let t=0,e=r.length;t<e;++t)r[t].execute(f,m,w,0,!0,Lt[i.getRenderMode()]);n.renderedTileResolution=t.wantedResolution}}const At=Ot;var Zt=i(8280);const Ft=class extends P{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un;const i=t.renderMode||"hybrid";(0,u.h)("hybrid"==i||"vector"==i,28),this.renderMode_=i,this.setPreload(t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError),this.getBackground,this.setBackground}createRenderer(){return new At(this)}getFeatures(t){return super.getFeatures(t)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(Zt.Z.PRELOAD)}getUseInterimTilesOnError(){return this.get(Zt.Z.USE_INTERIM_TILES_ON_ERROR)}setPreload(t){this.set(Zt.Z.PRELOAD,t)}setUseInterimTilesOnError(t){this.set(Zt.Z.USE_INTERIM_TILES_ON_ERROR,t)}}},3983:(t,e,i)=>{"use strict";function n(t,e,i){return Math.min(Math.max(t,e),i)}function s(t,e,i,n,s,o){const a=s-i,h=o-n;if(0!==a||0!==h){const r=((t-i)*a+(e-n)*h)/(a*a+h*h);r>1?(i=s,n=o):r>0&&(i+=a*r,n+=h*r)}return r(t,e,i,n)}function r(t,e,i,n){const s=i-t,r=n-e;return s*s+r*r}function o(t){const e=t.length;for(let i=0;i<e;i++){let n=i,s=Math.abs(t[i][i]);for(let r=i+1;r<e;r++){const e=Math.abs(t[r][i]);e>s&&(s=e,n=r)}if(0===s)return null;const r=t[n];t[n]=t[i],t[i]=r;for(let n=i+1;n<e;n++){const s=-t[n][i]/t[i][i];for(let r=i;r<e+1;r++)i==r?t[n][r]=0:t[n][r]+=s*t[i][r]}}const i=new Array(e);for(let n=e-1;n>=0;n--){i[n]=t[n][e]/t[n][n];for(let s=n-1;s>=0;s--)t[s][e]-=t[s][n]*i[n]}return i}function a(t){return t*Math.PI/180}function h(t,e){const i=t%e;return i*e<0?i+e:i}function l(t,e,i){return t+i*(e-t)}function c(t,e){const i=Math.pow(10,e);return Math.round(t*i)/i}function d(t,e){return Math.floor(c(t,e))}function u(t,e){return Math.ceil(c(t,e))}i.d(e,{$W:()=>h,FH:()=>c,GW:()=>d,SV:()=>o,Yr:()=>a,bI:()=>r,mD:()=>u,rU:()=>s,t7:()=>l,uZ:()=>n})},9374:(t,e,i)=>{"use strict";function n(t){for(const e in t)delete t[e]}function s(t){let e;for(e in t)return!1;return!e}i.d(e,{Z:()=>n,x:()=>s})},8661:(t,e,i)=>{"use strict";i.d(e,{Wm:()=>f.W,UQ:()=>O,h_:()=>T,OP:()=>Z,mi:()=>A,Vs:()=>U,dY:()=>V,U2:()=>M,_Q:()=>L,Ck:()=>D,Cs:()=>B,lO:()=>W,Fj:()=>Y,vs:()=>z});var n=i(9619);const s=6378137,r=Math.PI*s,o=[-r,-r,r,r],a=[-180,-85,180,85],h=s*Math.log(Math.tan(Math.PI/2));class l extends n.Z{constructor(t){super({code:t,units:"m",extent:o,global:!0,worldExtent:a,getPointResolution:function(t,e){return t/Math.cosh(e[1]/s)}})}}const c=[new l("EPSG:3857"),new l("EPSG:102100"),new l("EPSG:102113"),new l("EPSG:900913"),new l("http://www.opengis.net/def/crs/EPSG/0/3857"),new l("http://www.opengis.net/gml/srs/epsg.xml#3857")];const d=[-180,-90,180,90],u=6378137*Math.PI/180;class g extends n.Z{constructor(t,e){super({code:t,units:"degrees",extent:d,axisOrientation:e,global:!0,metersPerUnit:u,worldExtent:d})}}const _=[new g("CRS:84"),new g("EPSG:4326","neu"),new g("urn:ogc:def:crs:OGC:1.3:CRS84"),new g("urn:ogc:def:crs:OGC:2:84"),new g("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new g("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new g("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var f=i(8375);let p={},m={};function v(t,e,i){const n=t.getCode(),s=e.getCode();n in m||(m[n]={}),m[n][s]=i}var y=i(8641),x=i(1900),w=i(3983);const S=6371008.8;function E(t,e,i){i=i||S;const n=(0,w.Yr)(t[1]),s=(0,w.Yr)(e[1]),r=(s-n)/2,o=(0,w.Yr)(e[0]-t[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(n)*Math.cos(s);return 2*i*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var C=i(44);let b=!0;function T(t){b=!(void 0===t||t)}function R(t,e){if(void 0!==e)for(let i=0,n=t.length;i<n;++i)e[i]=t[i];else e=t.slice();return e}function I(t,e){if(void 0!==e&&t!==e){for(let i=0,n=t.length;i<n;++i)e[i]=t[i];t=e}return t}function k(t){!function(t,e){p[t]=e}(t.getCode(),t),v(t,t,R)}function M(t){return"string"==typeof t?p[e=t]||p[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function L(t,e,i,n){let s;const r=(t=M(t)).getPointResolutionFunc();if(r){if(s=r(e,i),n&&n!==t.getUnits()){const e=t.getMetersPerUnit();e&&(s=s*e/f.W[n])}}else{const r=t.getUnits();if("degrees"==r&&!n||"degrees"==n)s=e;else{const o=F(t,M("EPSG:4326"));if(o===I&&"degrees"!==r)s=e*t.getMetersPerUnit();else{let t=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2];t=o(t,t,2),s=(E(t.slice(0,2),t.slice(2,4))+E(t.slice(4,6),t.slice(6,8)))/2}const a=n?f.W[n]:t.getMetersPerUnit();void 0!==a&&(s/=a)}}return s}function P(t){!function(t){t.forEach(k)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&v(e,t,R)}))}))}function O(t,e){return t?"string"==typeof t?M(t):t:M(e)}function A(t,e){return T(),z(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function Z(t,e){if(t===e)return!0;const i=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||F(t,e)===R)&&i}function F(t,e){let i=function(t,e){let i;return t in m&&e in m[t]&&(i=m[t][e]),i}(t.getCode(),e.getCode());return i||(i=I),i}function D(t,e){return F(M(t),M(e))}function z(t,e,i){return D(e,i)(t,void 0,t.length)}function N(t,e,i,n){const s=D(e,i);return(0,y.Ne)(t,s,void 0,n)}let G=null;function B(){return G}function W(t,e){return G?z(t,e,G):t}function U(t,e){return G?z(t,G,e):(b&&!(0,x.fS)(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(b=!1,(0,C.ZK)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function Y(t,e){return G?N(t,e,G):t}function V(t,e){return G?N(t,G,e):t}var X,j,K;P(c),P(_),X=c,j=function(t,e,i){const n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():new Array(n));for(let o=0;o<n;o+=i){e[o]=r*t[o]/180;let i=s*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));i>h?i=h:i<-h&&(i=-h),e[o+1]=i}return e},K=function(t,e,i){const n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():new Array(n));for(let o=0;o<n;o+=i)e[o]=180*t[o]/r,e[o+1]=360*Math.atan(Math.exp(t[o+1]/s))/Math.PI-90;return e},_.forEach((function(t){X.forEach((function(e){v(t,e,j),v(e,t,K)}))}))},9619:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var n=i(8375);const s=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||n.W[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}},8375:(t,e,i)=>{"use strict";i.d(e,{W:()=>n});const n={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937}},7380:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var n=i(291);class s extends n.ZP{constructor(t,e,i,n){super(t),this.inversePixelTransform=e,this.frameState=i,this.context=n}}const r=s},8771:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},3433:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>g});var n=i(6101),s=i(8641),r=i(5537),o=i(3448),a=i(8661),h=i(3983);function l(t,e,i,n,s,o,a){let l,c;const d=(i-e)/n;if(1===d)l=e;else if(2===d)l=e,c=s;else if(0!==d){let o=t[e],a=t[e+1],h=0;const d=[0];for(let s=e+n;s<i;s+=n){const e=t[s],i=t[s+1];h+=Math.sqrt((e-o)*(e-o)+(i-a)*(i-a)),d.push(h),o=e,a=i}const u=s*h,g=(0,r.ry)(d,u);g<0?(c=(u-d[-g-2])/(d[-g-1]-d[-g-2]),l=e+(-g-2)*n):l=e+g*n}a=a>1?a:2,o=o||new Array(a);for(let e=0;e<a;++e)o[e]=void 0===l?NaN:void 0===c?t[l+e]:(0,h.t7)(t[l+e],t[l+n+e],c);return o}var c=i(6442);const d=(0,n.Ue)();class u{constructor(t,e,i,n,s){this.styleFunction,this.extent_,this.id_=s,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i,this.properties_=n}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,s.HK)(this.flatCoordinates_):(0,s.GN)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=(0,s.qg)(this.getExtent());this.flatInteriorPoints_=(0,o.X)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=function(t,e,i,n){const r=[];let o=(0,s.lJ)();for(let n=0,a=i.length;n<a;++n){const a=i[n];o=(0,s.GN)(t,e,a[0],2),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=a[a.length-1]}return r}(this.flatCoordinates_,0,this.ends_);this.flatInteriorPoints_=(0,o.U)(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=l(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const i=this.ends_;for(let n=0,s=i.length;n<s;++n){const s=i[n],o=l(t,e,s,2,.5);(0,r.l7)(this.flatMidpoints_,o),e=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getStride(){return 2}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){const e=(t=(0,a.U2)(t)).getExtent(),i=t.getWorldExtent();if(e&&i){const t=(0,s.Cr)(i)/(0,s.Cr)(e);(0,n.qC)(d,i[0],i[3],t,-t,0,0,0),(0,c.vT)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,d,this.flatCoordinates_)}}getEnds(){return this.ends_}}u.prototype.getEndss=u.prototype.getEnds,u.prototype.getFlatCoordinates=u.prototype.getOrientedFlatCoordinates;const g=u},147:(t,e,i)=>{"use strict";i.d(e,{Df:()=>h,He:()=>u,Kd:()=>I,PH:()=>p,Qx:()=>C,Tx:()=>f,V4:()=>_,X9:()=>d,Zw:()=>k,_f:()=>M,bL:()=>l,mb:()=>c,oB:()=>v,rc:()=>g,ru:()=>m,sG:()=>x,yC:()=>y});var n=i(2971),s=i(177),r=i(9374),o=i(8326),a=i(245);const h="10px sans-serif",l="#000",c="round",d=[],u=0,g="round",_=10,f="#000",p="center",m="middle",v=[0,0,0,0],y=1,x=new n.Z;let w,S=null;const E={},C=function(){const t=100,e="32px ",i=["monospace","serif"],n=i.length,s="wmytzilWMYTZIL@#/&?$%10";let o,h;function l(t,r,o){let a=!0;for(let l=0;l<n;++l){const n=i[l];if(h=R(t+" "+r+" "+e+n,s),o!=n){const i=R(t+" "+r+" "+e+o+","+n,s);a=a&&i!=h}}return!!a}function c(){let e=!0;const i=x.getKeys();for(let n=0,s=i.length;n<s;++n){const s=i[n];x.get(s)<t&&(l.apply(this,s.split("\n"))?((0,r.Z)(E),S=null,w=void 0,x.set(s,t)):(x.set(s,x.get(s)+1,!0),e=!1))}e&&(clearInterval(o),o=void 0)}return function(e){const i=(0,a.p)(e);if(!i)return;const n=i.families;for(let e=0,s=n.length;e<s;++e){const s=n[e],r=i.style+"\n"+i.weight+"\n"+s;void 0===x.get(r)&&(x.set(r,t,!0),l(i.style,i.weight,s)||(x.set(r,0,!0),void 0===o&&(o=setInterval(c,32))))}}}(),b=function(){let t;return function(e){let i=E[e];if(null==i){if(s.Id){const t=(0,a.p)(e),n=T(e,"Žg");i=(isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),i=t.offsetHeight,document.body.removeChild(t);E[e]=i}return i}}();function T(t,e){return S||(S=(0,o.E4)(1,1)),t!=w&&(S.font=t,w=S.font),S.measureText(e)}function R(t,e){return T(t,e).width}function I(t,e,i){if(e in i)return i[e];const n=e.split("\n").reduce(((e,i)=>Math.max(e,R(t,i))),0);return i[e]=n,n}function k(t,e){const i=[],n=[],s=[];let r=0,o=0,a=0,h=0;for(let l=0,c=e.length;l<=c;l+=2){const d=e[l];if("\n"===d||l===c){r=Math.max(r,o),s.push(o),o=0,a+=h;continue}const u=e[l+1]||t.font,g=R(u,d);i.push(g),o+=g;const _=b(u);n.push(_),h=Math.max(h,_)}return{width:r,height:a,widths:i,heights:n,lineWidths:s}}function M(t,e,i,n,s,r,o,a,h,l,c){t.save(),1!==i&&(t.globalAlpha*=i),e&&t.setTransform.apply(t,e),n.contextInstructions?(t.translate(h,l),t.scale(c[0],c[1]),function(t,e){const i=t.contextInstructions;for(let t=0,n=i.length;t<n;t+=2)Array.isArray(i[t+1])?e[i[t]].apply(e,i[t+1]):e[i[t]]=i[t+1]}(n,t)):c[0]<0||c[1]<0?(t.translate(h,l),t.scale(c[0],c[1]),t.drawImage(n,s,r,o,a,0,0,o,a)):t.drawImage(n,s,r,o,a,h,l,o*c[0],a*c[1]),t.restore()}},4708:(t,e,i)=>{"use strict";i.d(e,{Z:()=>C});var n=i(5487),s=i(553),r=i(2706),o=i(4187);class a extends r.Z{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.declutterExecutorGroup=null}getFeatures(t){return(0,o.O3)()}getData(t){return null}prepareFrame(t){return(0,o.O3)()}renderFrame(t,e){return(0,o.O3)()}loadedTileCallback(t,e,i){t[e]||(t[e]={}),t[e][i.tileCoord.toString()]=i}createLoadedTileFinder(t,e,i){return(n,s)=>{const r=this.loadedTileCallback.bind(this,i,n);return t.forEachLoadedTile(e,n,s,r)}}forEachFeatureAtCoordinate(t,e,i,n,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){t.target.getState()===s.Z.LOADED&&this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=s.Z.LOADED&&e!=s.Z.ERROR&&t.addEventListener(n.Z.CHANGE,this.boundHandleImageChange_),e==s.Z.IDLE&&(t.load(),e=t.getState()),e==s.Z.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}const h=a;var l=i(7380),c=i(8771),d=i(6101),u=i(9706),g=i(8326),_=i(5537),f=i(8641);let p=null;const m=class extends h{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=(0,d.Ue)(),this.pixelTransform=(0,d.Ue)(),this.inversePixelTransform=(0,d.Ue)(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,e,i){let n;p||(p=(0,g.E4)(1,1,void 0,{willReadFrequently:!0})),p.clearRect(0,0,1,1);try{p.drawImage(t,e,i,1,1,0,0,1,1),n=p.getImageData(0,0,1,1).data}catch(t){return p=null,null}return n}getBackground(t){let e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0}useContainer(t,e,i){const n=this.getLayer().getClassName();let s,r;if(t&&t.className===n&&(!i||t&&t.style.backgroundColor&&(0,_.fS)((0,u._2)(t.style.backgroundColor),(0,u._2)(i)))){const e=t.firstElementChild;e instanceof HTMLCanvasElement&&(r=e.getContext("2d"))}if(r&&r.canvas.style.transform===e?(this.container=t,this.context=r,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=n;let t=s.style;t.position="absolute",t.width="100%",t.height="100%",r=(0,g.E4)();const e=r.canvas;s.appendChild(e),t=e.style,t.position="absolute",t.left="0",t.transformOrigin="top left",this.container=s,this.context=r}this.containerReused||!i||this.container.style.backgroundColor||(this.container.style.backgroundColor=i)}clipUnrotated(t,e,i){const n=(0,f.rL)(i),s=(0,f.Xv)(i),r=(0,f.w$)(i),o=(0,f.hC)(i);(0,d.nn)(e.coordinateToPixelTransform,n),(0,d.nn)(e.coordinateToPixelTransform,s),(0,d.nn)(e.coordinateToPixelTransform,r),(0,d.nn)(e.coordinateToPixelTransform,o);const a=this.inversePixelTransform;(0,d.nn)(a,n),(0,d.nn)(a,s),(0,d.nn)(a,r),(0,d.nn)(a,o),t.save(),t.beginPath(),t.moveTo(Math.round(n[0]),Math.round(n[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.clip()}dispatchRenderEvent_(t,e,i){const n=this.getLayer();if(n.hasListener(t)){const s=new l.Z(t,this.inversePixelTransform,i,e);n.dispatchEvent(s)}}preRender(t,e){this.frameState=e,this.dispatchRenderEvent_(c.Z.PRERENDER,t,e)}postRender(t,e){this.dispatchRenderEvent_(c.Z.POSTRENDER,t,e)}getRenderTransform(t,e,i,n,s,r,o){const a=s/2,h=r/2,l=n/e,c=-l,u=-t[0]+o,g=-t[1];return(0,d.qC)(this.tempTransform,a,h,l,c,-i,u,g)}disposeInternal(){delete this.frameState,super.disposeInternal()}};var v=i(825),y=i(3883),x=i(2519),w=i(7195),S=i(8661),E=i(4307);const C=class extends m{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,f.lJ)(),this.tmpTileRange_=new x.Z(0,0,0,0)}isDrawableTile(t){const e=this.getLayer(),i=t.getState(),n=e.getUseInterimTilesOnError();return i==w.Z.LOADED||i==w.Z.EMPTY||i==w.Z.ERROR&&!n}getTile(t,e,i,n){const s=n.pixelRatio,r=n.viewState.projection,o=this.getLayer();let a=o.getSource().getTile(t,e,i,s,r);return a.getState()==w.Z.ERROR&&o.getUseInterimTilesOnError()&&o.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(a)||(a=a.getInterimTile()),a}getData(t){const e=this.frameState;if(!e)return null;const i=this.getLayer(),n=(0,d.nn)(e.pixelToCoordinateTransform,t.slice()),s=i.getExtent();if(s&&!(0,f.b8)(s,n))return null;const r=e.pixelRatio,o=e.viewState.projection,a=e.viewState,h=i.getRenderSource(),l=h.getTileGridForProjection(a.projection),c=h.getTilePixelRatio(e.pixelRatio);for(let t=l.getZForResolution(a.resolution);t>=l.getMinZoom();--t){const e=l.getTileCoordForCoordAndZ(n,t),i=h.getTile(t,e[1],e[2],r,o);if(!(i instanceof v.Z||i instanceof y.Z)||i instanceof y.Z&&i.getState()===w.Z.EMPTY)return null;if(i.getState()!==w.Z.LOADED)continue;const s=l.getOrigin(t),d=(0,E.Pq)(l.getTileSize(t)),u=l.getResolution(t),g=Math.floor(c*((n[0]-s[0])/u-e[1]*d[0])),_=Math.floor(c*((s[1]-n[1])/u-e[2]*d[1])),f=Math.round(c*h.getGutterForProjection(a.projection));return this.getImageData(i.getImage(),g+f,_+f)}return null}loadedTileCallback(t,e,i){return!!this.isDrawableTile(i)&&super.loadedTileCallback(t,e,i)}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,e){const i=t.layerStatesArray[t.layerIndex],n=t.viewState,s=n.projection,r=n.resolution,a=n.center,h=n.rotation,l=t.pixelRatio,c=this.getLayer(),u=c.getSource(),g=u.getRevision(),p=u.getTileGridForProjection(s),m=p.getZForResolution(r,u.zDirection),v=p.getResolution(m);let y=t.extent;const x=t.viewState.resolution,E=u.getTilePixelRatio(l),C=Math.round((0,f.dz)(y)/x*l),b=Math.round((0,f.Cr)(y)/x*l),T=i.extent&&(0,S.dY)(i.extent,s);T&&(y=(0,f.Ed)(y,(0,S.dY)(i.extent,s)));const R=v*C/2/E,I=v*b/2/E,k=[a[0]-R,a[1]-I,a[0]+R,a[1]+I],M=p.getTileRangeForExtentAndZ(y,m),L={};L[m]={};const P=this.createLoadedTileFinder(u,s,L),O=this.tmpExtent,A=this.tmpTileRange_;this.newTiles_=!1;const Z=h?(0,f.dY)(n.center,x,h,t.size):void 0;for(let e=M.minX;e<=M.maxX;++e)for(let n=M.minY;n<=M.maxY;++n){if(h&&!p.tileCoordIntersectsViewport([m,e,n],Z))continue;const s=this.getTile(m,e,n,t);if(this.isDrawableTile(s)){const e=(0,o.sq)(this);if(s.getState()==w.Z.LOADED){L[m][s.tileCoord.toString()]=s;let t=s.inTransition(e);t&&1!==i.opacity&&(s.endTransition(e),t=!1),this.newTiles_||!t&&this.renderedTiles.includes(s)||(this.newTiles_=!0)}if(1===s.getAlpha(e,t.time))continue}const r=p.getTileCoordChildTileRange(s.tileCoord,A,O);let a=!1;r&&(a=P(m+1,r)),a||p.forEachTileCoordParentTileRange(s.tileCoord,P,A,O)}const F=v/r*l/E;(0,d.qC)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/l,1/l,h,-C/2,-b/2);const D=(0,d.BB)(this.pixelTransform);this.useContainer(e,D,this.getBackground(t));const z=this.context,N=z.canvas;(0,d.nb)(this.inversePixelTransform,this.pixelTransform),(0,d.qC)(this.tempTransform,C/2,b/2,F,F,0,-C/2,-b/2),N.width!=C||N.height!=b?(N.width=C,N.height=b):this.containerReused||z.clearRect(0,0,C,b),T&&this.clipUnrotated(z,t,T),u.getInterpolate()||(z.imageSmoothingEnabled=!1),this.preRender(z,t),this.renderedTiles.length=0;let G,B,W,U=Object.keys(L).map(Number);U.sort(_.j2),1!==i.opacity||this.containerReused&&!u.getOpaque(t.viewState.projection)?(G=[],B=[]):U=U.reverse();for(let e=U.length-1;e>=0;--e){const i=U[e],n=u.getTilePixelSize(i,l,s),r=p.getResolution(i)/v,a=n[0]*r*F,h=n[1]*r*F,c=p.getTileCoordForCoordAndZ((0,f.rL)(k),i),g=p.getTileCoordExtent(c),_=(0,d.nn)(this.tempTransform,[E*(g[0]-k[0])/v,E*(k[3]-g[3])/v]),y=E*u.getGutterForProjection(s),x=L[i];for(const e in x){const n=x[e],s=n.tileCoord,r=c[1]-s[1],l=Math.round(_[0]-(r-1)*a),d=c[2]-s[2],g=Math.round(_[1]-(d-1)*h),p=Math.round(_[0]-r*a),v=Math.round(_[1]-d*h),w=l-p,S=g-v,E=m===i,C=E&&1!==n.getAlpha((0,o.sq)(this),t.time);let b=!1;if(!C)if(G){W=[p,v,p+w,v,p+w,v+S,p,v+S];for(let t=0,e=G.length;t<e;++t)if(m!==i&&i<B[t]){const e=G[t];(0,f.kK)([p,v,p+w,v+S],[e[0],e[3],e[4],e[7]])&&(b||(z.save(),b=!0),z.beginPath(),z.moveTo(W[0],W[1]),z.lineTo(W[2],W[3]),z.lineTo(W[4],W[5]),z.lineTo(W[6],W[7]),z.moveTo(e[6],e[7]),z.lineTo(e[4],e[5]),z.lineTo(e[2],e[3]),z.lineTo(e[0],e[1]),z.clip())}G.push(W),B.push(i)}else z.clearRect(p,v,w,S);this.drawTileImage(n,t,p,v,w,S,y,E),G&&!C?(b&&z.restore(),this.renderedTiles.unshift(n)):this.renderedTiles.push(n),this.updateUsedTiles(t.usedTiles,u,n)}}return this.renderedRevision=g,this.renderedResolution=v,this.extentChanged=!this.renderedExtent_||!(0,f.fS)(this.renderedExtent_,k),this.renderedExtent_=k,this.renderedPixelRatio=l,this.renderedProjection=s,this.manageTilePyramid(t,u,p,l,s,y,m,c.getPreload()),this.scheduleExpireCache(t,u),this.postRender(z,t),i.extent&&z.restore(),z.imageSmoothingEnabled=!0,D!==N.style.transform&&(N.style.transform=D),this.container}drawTileImage(t,e,i,n,s,r,a,h){const l=this.getTileImage(t);if(!l)return;const c=(0,o.sq)(this),d=e.layerStatesArray[e.layerIndex],u=d.opacity*(h?t.getAlpha(c,e.time):1),g=u!==this.context.globalAlpha;g&&(this.context.save(),this.context.globalAlpha=u),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,i,n,s,r),g&&this.context.restore(),u!==d.opacity?e.animate=!0:h&&t.endTransition(c)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,e){if(e.canExpireCache()){const i=function(t,e,i){const n=(0,o.sq)(t);n in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[n])}.bind(null,e);t.postRenderFunctions.push(i)}}updateUsedTiles(t,e,i){const n=(0,o.sq)(e);n in t||(t[n]={}),t[n][i.getKey()]=!0}manageTilePyramid(t,e,i,n,s,r,a,h,l){const c=(0,o.sq)(e);c in t.wantedTiles||(t.wantedTiles[c]={});const d=t.wantedTiles[c],u=t.tileQueue,g=i.getMinZoom(),_=t.viewState.rotation,p=_?(0,f.dY)(t.viewState.center,t.viewState.resolution,_,t.size):void 0;let m,v,y,x,S,E,C=0;for(E=g;E<=a;++E)for(v=i.getTileRangeForExtentAndZ(r,E,v),y=i.getResolution(E),x=v.minX;x<=v.maxX;++x)for(S=v.minY;S<=v.maxY;++S)_&&!i.tileCoordIntersectsViewport([E,x,S],p)||(a-E<=h?(++C,m=e.getTile(E,x,S,n,s),m.getState()==w.Z.IDLE&&(d[m.getKey()]=!0,u.isKeyQueued(m.getKey())||u.enqueue([m,c,i.getTileCoordCenter(m.tileCoord),y])),void 0!==l&&l(m)):e.useTile(E,x,S,s));e.updateCacheSize(C,s)}}},3883:(t,e,i)=>{"use strict";i.d(e,{Z:()=>m});var n=i(5487),s=i(4806),r=i(7195),o=i(8641),a=i(8661),h=i(3983);var l=i(8326);let c;const d=[];function u(t,e,i,n,s){t.beginPath(),t.moveTo(0,0),t.lineTo(e,i),t.lineTo(n,s),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,n)+1,Math.max(i,s)),t.restore()}function g(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function _(t,e,i,n){const s=(0,a.vs)(i,e,t);let r=(0,a._Q)(e,n,i);const h=e.getMetersPerUnit();void 0!==h&&(r*=h);const l=t.getMetersPerUnit();void 0!==l&&(r/=l);const c=t.getExtent();if(!c||(0,o.b8)(c,s)){const e=(0,a._Q)(t,r,s)/r;isFinite(e)&&e>0&&(r/=e)}return r}var f=i(5818);class p extends s.Z{constructor(t,e,i,n,s,l,c,d,u,g,f,p){super(s,r.Z.IDLE,{interpolate:!!p}),this.renderEdges_=void 0!==f&&f,this.pixelRatio_=c,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=n,this.wrappedTileCoord_=l||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const m=n.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent();let y=this.sourceTileGrid_.getExtent();const x=v?(0,o.Ed)(m,v):m;if(0===(0,o.bg)(x))return void(this.state=r.Z.EMPTY);const w=t.getExtent();w&&(y=y?(0,o.Ed)(y,w):w);const S=n.getResolution(this.wrappedTileCoord_[0]),E=function(t,e,i,n){const s=(0,o.qg)(i);let r=_(t,e,s,n);return(!isFinite(r)||r<=0)&&(0,o.H6)(i,(function(i){return r=_(t,e,i,n),isFinite(r)&&r>0})),r}(t,i,x,S);if(!isFinite(E)||E<=0)return void(this.state=r.Z.EMPTY);const C=void 0!==g?g:.5;if(this.triangulation_=new class{constructor(t,e,i,n,s,r){this.sourceProj_=t,this.targetProj_=e;let h={};const l=(0,a.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return h[e]||(h[e]=l(t)),h[e]},this.maxSourceExtent_=n,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&(0,o.dz)(n)==(0,o.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,o.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,o.dz)(this.targetProj_.getExtent()):null;const c=(0,o.rL)(i),d=(0,o.Xv)(i),u=(0,o.w$)(i),g=(0,o.hC)(i),_=this.transformInv_(c),f=this.transformInv_(d),p=this.transformInv_(u),m=this.transformInv_(g),v=10+(r?Math.max(0,Math.ceil(Math.log2((0,o.bg)(i)/(r*r*256*256)))):0);if(this.addQuad_(c,d,u,g,_,f,p,m,v),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach((function(e,i,n){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const i=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];i[0][0]-t>this.sourceWorldWidth_/2&&(i[0][0]-=this.sourceWorldWidth_),i[1][0]-t>this.sourceWorldWidth_/2&&(i[1][0]-=this.sourceWorldWidth_),i[2][0]-t>this.sourceWorldWidth_/2&&(i[2][0]-=this.sourceWorldWidth_);const n=Math.min(i[0][0],i[1][0],i[2][0]);Math.max(i[0][0],i[1][0],i[2][0])-n<this.sourceWorldWidth_/2&&(e.source=i)}}))}h={}}addTriangle_(t,e,i,n,s,r){this.triangles_.push({source:[n,s,r],target:[t,e,i]})}addQuad_(t,e,i,n,s,r,a,l,c){const d=(0,o.hI)([s,r,a,l]),u=this.sourceWorldWidth_?(0,o.dz)(d)/this.sourceWorldWidth_:null,g=this.sourceWorldWidth_,_=this.sourceProj_.canWrapX()&&u>.5&&u<1;let f=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const s=(0,o.hI)([t,e,i,n]);f=(0,o.dz)(s)/this.targetWorldWidth_>.25||f}!_&&this.sourceProj_.isGlobal()&&u&&(f=u>.25||f)}if(!f&&this.maxSourceExtent_&&isFinite(d[0])&&isFinite(d[1])&&isFinite(d[2])&&isFinite(d[3])&&!(0,o.kK)(d,this.maxSourceExtent_))return;let p=0;if(!(f||isFinite(s[0])&&isFinite(s[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])))if(c>0)f=!0;else if(p=(isFinite(s[0])&&isFinite(s[1])?0:8)+(isFinite(r[0])&&isFinite(r[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(c>0){if(!f){const e=[(t[0]+i[0])/2,(t[1]+i[1])/2],n=this.transformInv_(e);let r;r=_?((0,h.$W)(s[0],g)+(0,h.$W)(a[0],g))/2-(0,h.$W)(n[0],g):(s[0]+a[0])/2-n[0];const o=(s[1]+a[1])/2-n[1];f=r*r+o*o>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){const o=[(e[0]+i[0])/2,(e[1]+i[1])/2],h=this.transformInv_(o),d=[(n[0]+t[0])/2,(n[1]+t[1])/2],u=this.transformInv_(d);this.addQuad_(t,e,o,d,s,r,h,u,c-1),this.addQuad_(d,o,i,n,u,h,a,l,c-1)}else{const o=[(t[0]+e[0])/2,(t[1]+e[1])/2],h=this.transformInv_(o),d=[(i[0]+n[0])/2,(i[1]+n[1])/2],u=this.transformInv_(d);this.addQuad_(t,o,d,n,s,h,u,l,c-1),this.addQuad_(o,e,i,d,h,r,a,u,c-1)}return}}if(_){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&p)&&this.addTriangle_(t,i,n,s,a,l),0==(14&p)&&this.addTriangle_(t,i,e,s,a,r),p&&(0==(13&p)&&this.addTriangle_(e,n,t,r,l,s),0==(7&p)&&this.addTriangle_(e,n,i,r,l,a))}calculateSourceExtent(){const t=(0,o.lJ)();return this.triangles_.forEach((function(e,i,n){const s=e.source;(0,o.Wj)(t,s[0]),(0,o.Wj)(t,s[1]),(0,o.Wj)(t,s[2])})),t}getTriangles(){return this.triangles_}}(t,i,x,y,E*C,S),0===this.triangulation_.getTriangles().length)return void(this.state=r.Z.EMPTY);this.sourceZ_=e.getZForResolution(E);let b=this.triangulation_.calculateSourceExtent();if(y&&(t.canWrapX()?(b[1]=(0,h.uZ)(b[1],y[1],y[3]),b[3]=(0,h.uZ)(b[3],y[1],y[3])):b=(0,o.Ed)(b,y)),(0,o.bg)(b)){const t=e.getTileRangeForExtentAndZ(b,this.sourceZ_);for(let e=t.minX;e<=t.maxX;e++)for(let i=t.minY;i<=t.maxY;i++){const t=u(this.sourceZ_,e,i,c);t&&this.sourceTiles_.push(t)}0===this.sourceTiles_.length&&(this.state=r.Z.EMPTY)}else this.state=r.Z.EMPTY}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach((e=>{e&&e.getState()==r.Z.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})})),this.sourceTiles_.length=0,0===t.length)this.state=r.Z.ERROR;else{const e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),n="number"==typeof i?i:i[0],s="number"==typeof i?i:i[1],a=this.targetTileGrid_.getResolution(e),_=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,i,n,s,r,a,_,f,p,m,v){const y=(0,l.E4)(Math.round(i*t),Math.round(i*e),d);if(v||(y.imageSmoothingEnabled=!1),0===f.length)return y.canvas;function x(t){return Math.round(t*i)/i}y.scale(i,i),y.globalCompositeOperation="lighter";const w=(0,o.lJ)();f.forEach((function(t,e,i){(0,o.l7)(w,t.extent)}));const S=(0,o.dz)(w),E=(0,o.Cr)(w),C=(0,l.E4)(Math.round(i*S/n),Math.round(i*E/n),d);v||(C.imageSmoothingEnabled=!1);const b=i/n;f.forEach((function(t,e,i){const n=t.extent[0]-w[0],s=-(t.extent[3]-w[3]),r=(0,o.dz)(t.extent),a=(0,o.Cr)(t.extent);t.image.width>0&&t.image.height>0&&C.drawImage(t.image,p,p,t.image.width-2*p,t.image.height-2*p,n*b,s*b,r*b,a*b)}));const T=(0,o.rL)(a);return _.getTriangles().forEach((function(t,e,s){const o=t.source,a=t.target;let _=o[0][0],f=o[0][1],p=o[1][0],m=o[1][1],S=o[2][0],E=o[2][1];const b=x((a[0][0]-T[0])/r),R=x(-(a[0][1]-T[1])/r),I=x((a[1][0]-T[0])/r),k=x(-(a[1][1]-T[1])/r),M=x((a[2][0]-T[0])/r),L=x(-(a[2][1]-T[1])/r),P=_,O=f;_=0,f=0,p-=P,m-=O,S-=P,E-=O;const A=[[p,m,0,0,I-b],[S,E,0,0,M-b],[0,0,p,m,k-R],[0,0,S,E,L-R]],Z=(0,h.SV)(A);if(Z){if(y.save(),y.beginPath(),function(){if(void 0===c){const t=(0,l.E4)(6,6,d);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",u(t,4,5,4,0),u(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;c=g(e,0)||g(e,4)||g(e,8),(0,l.jy)(t),d.push(t.canvas)}return c}()||!v){y.moveTo(I,k);const t=4,e=b-I,i=R-k;for(let n=0;n<t;n++)y.lineTo(I+x((n+1)*e/t),k+x(n*i/(t-1))),n!=t-1&&y.lineTo(I+x((n+1)*e/t),k+x((n+1)*i/(t-1)));y.lineTo(M,L)}else y.moveTo(I,k),y.lineTo(b,R),y.lineTo(M,L);y.clip(),y.transform(Z[0],Z[2],Z[1],Z[3],b,R),y.translate(w[0]-P,w[3]-O),y.scale(n/i,-n/i),y.drawImage(C.canvas,0,0),y.restore()}})),(0,l.jy)(C),d.push(C.canvas),m&&(y.save(),y.globalCompositeOperation="source-over",y.strokeStyle="black",y.lineWidth=1,_.getTriangles().forEach((function(t,e,i){const n=t.target,s=(n[0][0]-T[0])/r,o=-(n[0][1]-T[1])/r,a=(n[1][0]-T[0])/r,h=-(n[1][1]-T[1])/r,l=(n[2][0]-T[0])/r,c=-(n[2][1]-T[1])/r;y.beginPath(),y.moveTo(a,h),y.lineTo(s,o),y.lineTo(l,c),y.closePath(),y.stroke()})),y.restore()),y.canvas}(n,s,this.pixelRatio_,_,this.sourceTileGrid_.getExtent(),a,f,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=r.Z.LOADED}this.changed()}load(){if(this.state==r.Z.IDLE){this.state=r.Z.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((e=>{const i=e.getState();if(i==r.Z.IDLE||i==r.Z.LOADING){t++;const i=(0,f.oL)(e,n.Z.CHANGE,(function(n){const s=e.getState();s!=r.Z.LOADED&&s!=r.Z.ERROR&&s!=r.Z.EMPTY||((0,f.bN)(i),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(i)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,i){t.getState()==r.Z.IDLE&&t.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(f.bN),this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,l.jy)(this.canvas_.getContext("2d")),d.push(this.canvas_),this.canvas_=null),super.release()}}const m=p},828:(t,e,i)=>{"use strict";i.d(e,{Gw:()=>a,YP:()=>r,gE:()=>o,h$:()=>s});var n=i(3983);function s(t){if(void 0!==t)return 0}function r(t){if(void 0!==t)return t}function o(t){const e=2*Math.PI/t;return function(t,i){return i?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function a(t){return t=t||(0,n.Yr)(5),function(e,i){return i?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}},4307:(t,e,i)=>{"use strict";function n(t){return t[0]>0&&t[1]>0}function s(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function r(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}i.d(e,{Pq:()=>r,bA:()=>s,py:()=>n})},6263:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(6841),s=i(8326),r=i(4307);class o extends n.Z{constructor(t){super({opaque:!1,projection:(t=t||{}).projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX,zDirection:t.zDirection,url:t.template||"z:{z} x:{x} y:{y}",tileLoadFunction:(t,e)=>{const i=t.getTileCoord()[0],n=(0,r.Pq)(this.tileGrid.getTileSize(i)),o=(0,s.E4)(n[0],n[1]);o.strokeStyle="grey",o.strokeRect(.5,.5,n[0]+.5,n[1]+.5),o.fillStyle="grey",o.strokeStyle="white",o.textAlign="center",o.textBaseline="middle",o.font="24px sans-serif",o.lineWidth=4,o.strokeText(e,n[0]/2,n[1]/2,n[0]),o.fillText(e,n[0]/2,n[1]/2,n[0]),t.setImage(o.canvas)}})}}const a=o},5231:(t,e,i)=>{"use strict";i.d(e,{Z:()=>w});var n=i(291),s=i(2971),r=i(8661);class o extends s.Z{constructor(t){super(),this.projection=(0,r.U2)(t.projection),this.attributions_=a(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise((function(t,i){e.viewResolver=t,e.viewRejector=i}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=a(t),this.changed()}setState(t){this.state_=t,this.changed()}}function a(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const h=o;var l=i(5532),c=i(7195),d=i(4187),u=i(9515),g=i(8634),_=i(7248),f=i(4307);class p extends n.ZP{constructor(t,e){super(t),this.tile=e}}const m=class extends h{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;this.tileGrid&&(0,f.Pq)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new l.Z(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,e){const i=this.getTileCacheForProjection(t);i&&i.expireCache(e)}forEachLoadedTile(t,e,i,n){const s=this.getTileCacheForProjection(t);if(!s)return!1;let r,o,a,h=!0;for(let t=i.minX;t<=i.maxX;++t)for(let l=i.minY;l<=i.maxY;++l)o=(0,g.lg)(e,t,l),a=!1,s.containsKey(o)&&(r=s.get(o),a=r.getState()===c.Z.LOADED,a&&(a=!1!==n(r))),a||(h=!1);return h}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,i,n,s){return(0,d.O3)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:(0,_.X$)(t)}getTileCacheForProjection(t){const e=this.getProjection();return(0,u.h)(null===e||(0,r.OP)(e,t),68),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,i){const n=this.getTileGridForProjection(i),s=this.getTilePixelRatio(e),r=(0,f.Pq)(n.getTileSize(t),this.tmpSize);return 1==s?r:(0,f.bA)(r,s,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){e=void 0!==e?e:this.getProjection();const i=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=(0,_.Cf)(i,t,e)),(0,g.tE)(t,i)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,e){const i=this.getTileCacheForProjection(e);t>i.highWaterMark&&(i.highWaterMark=t)}useTile(t,e,i,n){}};var v=i(3983);function y(t,e){const i=/\{z\}/g,n=/\{x\}/g,s=/\{y\}/g,r=/\{-y\}/g;return function(o,a,h){if(o)return t.replace(i,o[0].toString()).replace(n,o[1].toString()).replace(s,o[2].toString()).replace(r,(function(){const t=o[0],i=e.getFullTileRange(t);return(0,u.h)(i,55),(i.getHeight()-o[2]-1).toString()}))}}class x extends m{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===x.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,i=(0,d.sq)(e),n=e.getState();let s;n==c.Z.LOADING?(this.tileLoadingKeys_[i]=!0,s="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=n==c.Z.ERROR?"tileloaderror":n==c.Z.LOADED?"tileloadend":void 0),null!=s&&this.dispatchEvent(new p(s,e))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()}setUrl(t){const e=function(t){const e=[];let i=/\{([a-z])-([a-z])\}/.exec(t);if(i){const n=i[1].charCodeAt(0),s=i[2].charCodeAt(0);let r;for(r=n;r<=s;++r)e.push(t.replace(i[0],String.fromCharCode(r)));return e}if(i=/\{(\d+)-(\d+)\}/.exec(t),i){const n=parseInt(i[2],10);for(let s=parseInt(i[1],10);s<=n;s++)e.push(t.replace(i[0],s.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){const i=t.length,n=new Array(i);for(let s=0;s<i;++s)n[s]=y(t[s],e);return function(t){return 1===t.length?t[0]:function(e,i,n){if(!e)return;const s=(0,g.vp)(e),r=(0,v.$W)(s,t.length);return t[r](e,i,n)}}(n)}(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,i){}useTile(t,e,i){const n=(0,g.lg)(t,e,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)}}const w=x},7205:(t,e,i)=>{"use strict";i.d(e,{Z:()=>C});var n=i(5487),s=i(4806),r=i(7195);class o extends s.Z{constructor(t,e,i,n,s,r){super(t,e,r),this.extent=null,this.format_=n,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=s,this.url_=i,this.key=i}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==r.Z.IDLE&&(this.setState(r.Z.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(t,e){this.setFeatures(t)}onError(){this.setState(r.Z.ERROR)}setFeatures(t){this.features_=t,this.setState(r.Z.LOADED)}setLoader(t){this.loader_=t}}const a=o;var h=i(5532),l=i(8738),c=i(5231),d=i(8326),u=i(4187);const g=[];class _ extends s.Z{constructor(t,e,i,n){super(t,e,{transition:0}),this.context_={},this.executorGroups={},this.declutterExecutorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=n.bind(void 0,this),this.wrappedTileCoord=i}getContext(t){const e=(0,u.sq)(t);return e in this.context_||(this.context_[e]=(0,d.E4)(1,1,g)),this.context_[e]}hasContext(t){return(0,u.sq)(t)in this.context_}getImage(t){return this.hasContext(t)?this.getContext(t).canvas:null}getReplayState(t){const e=(0,u.sq)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[e]}load(){this.getSourceTiles()}release(){for(const t in this.context_){const e=this.context_[t];(0,d.jy)(e),g.push(e.canvas),delete this.context_[t]}super.release()}}const f=_;var p=i(4768),m=i(8641),v=i(7248),y=i(8634),x=i(9374);let w=!1;var S=i(4307);class E extends c.Z{constructor(t){const e=t.projection||"EPSG:3857",i=t.extent||(0,v.Tl)(e),n=t.tileGrid||(0,v.dl)({extent:i,maxResolution:t.maxResolution,maxZoom:void 0!==t.maxZoom?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,interpolate:!0,opaque:!1,projection:e,state:t.state,tileGrid:n,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:b,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:void 0===t.zDirection?1:t.zDirection}),this.format_=t.format?t.format:null,this.sourceTileCache=new h.Z(this.tileCache.highWaterMark),this.overlaps_=null==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:a,this.tileGrids_={}}getFeaturesInExtent(t){const e=[],i=this.tileCache;if(0===i.getCount())return e;const n=(0,y.Ul)(i.peekFirstKey())[0],s=this.tileGrid;return i.forEach((function(i){if(i.tileCoord[0]!==n||i.getState()!==r.Z.LOADED)return;const o=i.getSourceTiles();for(let i=0,n=o.length;i<n;++i){const n=o[i],r=n.tileCoord;if((0,m.kK)(t,s.getTileCoordExtent(r))){const i=n.getFeatures();if(i)for(let n=0,s=i.length;n<s;++n){const s=i[n],r=s.getGeometry();(0,m.kK)(t,r.getExtent())&&e.push(s)}}}})),e}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear(),this.sourceTileCache.clear()}expireCache(t,e){const i=this.getTileCacheForProjection(t),n=Object.keys(e).reduce(((t,e)=>{const n=(0,y.MY)(e),s=i.peek(n);if(s){const e=s.sourceTiles;for(let i=0,n=e.length;i<n;++i)t[e[i].getKey()]=!0}return t}),{});super.expireCache(t,e),this.sourceTileCache.expireCache(n)}getSourceTiles(t,e,i){if(i.getState()===r.Z.IDLE){i.setState(r.Z.LOADING);const s=i.wrappedTileCoord,o=this.getTileGridForProjection(e),a=o.getTileCoordExtent(s),h=s[0],l=o.getResolution(h);(0,m.f3)(a,-l,a);const c=this.tileGrid,d=c.getExtent();d&&(0,m.Ed)(a,d,a);const u=c.getZForResolution(l,this.zDirection);c.forEachTileCoord(a,u,(s=>{const o=this.tileUrlFunction(s,t,e),a=this.sourceTileCache.containsKey(o)?this.sourceTileCache.get(o):new this.tileClass(s,o?r.Z.IDLE:r.Z.EMPTY,o,this.format_,this.tileLoadFunction);i.sourceTiles.push(a);const h=a.getState();if(h<r.Z.LOADED){const t=e=>{this.handleTileChange(e);const s=a.getState();if(s===r.Z.LOADED||s===r.Z.ERROR){const e=a.getKey();e in i.errorTileKeys?a.getState()===r.Z.LOADED&&delete i.errorTileKeys[e]:i.loadingSourceTiles--,s===r.Z.ERROR?i.errorTileKeys[e]=!0:a.removeEventListener(n.Z.CHANGE,t),0===i.loadingSourceTiles&&i.setState((0,x.x)(i.errorTileKeys)?r.Z.LOADED:r.Z.ERROR)}};a.addEventListener(n.Z.CHANGE,t),i.loadingSourceTiles++}h===r.Z.IDLE&&(a.extent=c.getTileCoordExtent(s),a.projection=e,a.resolution=c.getResolution(s[0]),this.sourceTileCache.set(o,a),a.load())})),i.loadingSourceTiles||i.setState(i.sourceTiles.some((t=>t.getState()===r.Z.ERROR))?r.Z.ERROR:r.Z.LOADED)}return i.sourceTiles}getTile(t,e,i,n,s){const o=(0,y.lg)(t,e,i),a=this.getKey();let h;if(this.tileCache.containsKey(o)&&(h=this.tileCache.get(o),h.key===a))return h;const l=[t,e,i];let c=this.getTileCoordForTileUrlFunction(l,s);const d=this.getTileGrid().getExtent(),u=this.getTileGridForProjection(s);if(c&&d){const e=u.getTileCoordExtent(c);(0,m.f3)(e,-u.getResolution(t),e),(0,m.kK)(d,e)||(c=null)}let g=!0;if(null!==c){const e=this.tileGrid,i=u.getResolution(t),r=e.getZForResolution(i,1),o=u.getTileCoordExtent(c);(0,m.f3)(o,-i,o),e.forEachTileCoord(o,r,(t=>{g=g&&!this.tileUrlFunction(t,n,s)}))}const _=new f(l,g?r.Z.EMPTY:r.Z.IDLE,c,this.getSourceTiles.bind(this,n,s));return _.key=a,h?(_.interimTile=h,_.refreshInterimChain(),this.tileCache.replace(o,_)):this.tileCache.set(o,_),_}getTileGridForProjection(t){const e=t.getCode();let i=this.tileGrids_[e];if(!i){const t=this.tileGrid,n=t.getResolutions().slice(),s=n.map((function(e,i){return t.getOrigin(i)})),r=n.map((function(e,i){return t.getTileSize(i)})),o=p.e+1;for(let t=n.length;t<o;++t)n.push(n[t-1]/2),s.push(s[t-1]),r.push(r[t-1]);i=new l.Z({extent:t.getExtent(),origins:s,resolutions:n,tileSizes:r}),this.tileGrids_[e]=i}return i}getTilePixelRatio(t){return t}getTilePixelSize(t,e,i){const n=this.getTileGridForProjection(i),s=(0,S.Pq)(n.getTileSize(t),this.tmpSize);return[Math.round(s[0]*e),Math.round(s[1]*e)]}updateCacheSize(t,e){super.updateCacheSize(2*t,e),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(e).highWaterMark}}const C=E;function b(t,e){t.setLoader((function(i,n,s){!function(t,e,i,n,s,r,o){const a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(i,n,s):t,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=w,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){const t=e.getType();let n;"json"==t||"text"==t?n=a.responseText:"xml"==t?(n=a.responseXML,n||(n=(new DOMParser).parseFromString(a.responseText,"application/xml"))):"arraybuffer"==t&&(n=a.response),n?r(e.readFeatures(n,{extent:i,featureProjection:s}),e.readProjection(n)):o()}else o()},a.onerror=o,a.send()}(e,t.getFormat(),i,n,s,t.onLoad.bind(t),t.onError.bind(t))}))}},6841:(t,e,i)=>{"use strict";i.d(e,{Z:()=>p});var n=i(5487),s=i(825),r=i(3883),o=i(5532),a=i(7195),h=i(5231),l=i(8661),c=i(8634),d=i(7248),u=i(4187);class g extends h.Z{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:_,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:s.Z,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,e){const i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?e:{});for(const t in this.tileCacheForProjection){const n=this.tileCacheForProjection[t];n.expireCache(n==i?e:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!(0,l.OP)(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return!(this.getProjection()&&t&&!(0,l.OP)(this.getProjection(),t))&&super.getOpaque(t)}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||(0,l.OP)(e,t)))return this.tileGrid;const i=(0,u.sq)(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=(0,d.X$)(t)),this.tileGridForProjection[i]}getTileCacheForProjection(t){const e=this.getProjection();if(!e||(0,l.OP)(e,t))return this.tileCache;const i=(0,u.sq)(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new o.Z(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(t,e,i,s,r,o){const h=[t,e,i],l=this.getTileCoordForTileUrlFunction(h,r),c=l?this.tileUrlFunction(l,s,r):void 0,d=new this.tileClass(h,void 0!==c?a.Z.IDLE:a.Z.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return d.key=o,d.addEventListener(n.Z.CHANGE,this.handleTileChange.bind(this)),d}getTile(t,e,i,n,s){const o=this.getProjection();if(!o||!s||(0,l.OP)(o,s))return this.getTileInternal(t,e,i,n,o||s);const a=this.getTileCacheForProjection(s),h=[t,e,i];let d;const u=(0,c.km)(h);a.containsKey(u)&&(d=a.get(u));const g=this.getKey();if(d&&d.key==g)return d;const _=this.getTileGridForProjection(o),f=this.getTileGridForProjection(s),p=this.getTileCoordForTileUrlFunction(h,s),m=new r.Z(o,_,s,f,h,p,this.getTilePixelRatio(n),this.getGutter(),((t,e,i,n)=>this.getTileInternal(t,e,i,n,o)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return m.key=g,d?(m.interimTile=d,m.refreshInterimChain(),a.replace(u,m)):a.set(u,m),m}getTileInternal(t,e,i,n,s){let r=null;const o=(0,c.lg)(t,e,i),h=this.getKey();if(this.tileCache.containsKey(o)){if(r=this.tileCache.get(o),r.key!=h){const l=r;r=this.createTile_(t,e,i,n,s,h),l.getState()==a.Z.IDLE?r.interimTile=l.interimTile:r.interimTile=l,r.refreshInterimChain(),this.tileCache.replace(o,r)}}else r=this.createTile_(t,e,i,n,s,h),this.tileCache.set(o,r);return r}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(t,e){const i=(0,l.U2)(t);if(i){const t=(0,u.sq)(i);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}}function _(t,e){t.getImage().src=e}const f=g,p=class extends f{constructor(t){const e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",i=void 0!==t.tileGrid?t.tileGrid:(0,d.dl)({extent:(0,d.Tl)(e),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0}getGutter(){return this.gutter_}}},283:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var n=i(5393);class s extends n.Z{constructor(t){super({points:1/0,fill:(t=t||{radius:5}).fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new s({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius_=t,this.render()}}const r=s},1345:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});class n{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null}clone(){const t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){this.color_=t}}const s=n},2710:(t,e,i)=>{"use strict";i.d(e,{c:()=>r});var n=i(9706);function s(t,e,i){return e+":"+t+":"+(i?(0,n.XC)(i):"null")}const r=new class{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const i=this.cache_[e];0!=(3&t++)||i.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}}get(t,e,i){const n=s(t,e,i);return n in this.cache_?this.cache_[n]:null}set(t,e,i,n){const r=s(t,e,i);this.cache_[r]=n,++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}},8443:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var n=i(4187),s=i(4307);class r{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=(0,s.Pq)(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new r({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return(0,n.O3)()}getImage(t){return(0,n.O3)()}getHitDetectionImage(){return(0,n.O3)()}getPixelRatio(t){return 1}getImageState(){return(0,n.O3)()}getImageSize(){return(0,n.O3)()}getOrigin(){return(0,n.O3)()}getSize(){return(0,n.O3)()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,s.Pq)(t)}listenImageChange(t){(0,n.O3)()}load(){(0,n.O3)()}unlistenImageChange(t){(0,n.O3)()}}const o=r},5393:(t,e,i)=>{"use strict";i.d(e,{Z:()=>c});var n=i(553),s=i(8443),r=i(9706),o=i(6620),a=i(8326),h=i(147);class l extends s.Z{constructor(t){super({opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const t=this.getScale(),e=new l({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_;if(!t)return null;const e=this.getDisplacement(),i=this.getScaleArray();return[t[0]/2-e[0]/i[0],t[1]/2+e[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(t){let e=this.canvas_[t];if(!e){const i=this.renderOptions_,n=(0,a.E4)(i.size*t,i.size*t);this.draw_(i,n,t),e=n.canvas,this.canvas_[t]=e}return e}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return n.Z.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,i){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let n=this.radius_,s=void 0===this.radius2_?n:this.radius2_;if(n<s){const t=n;n=s,s=t}const r=void 0===this.radius2_?this.points_:2*this.points_,o=2*Math.PI/r,a=s*Math.sin(o),h=n-Math.sqrt(s*s-a*a),l=Math.sqrt(a*a+h*h),c=l/a;if("miter"===t&&c<=i)return c*e;const d=e/2/c,u=e/2*(h/l),g=Math.sqrt((n+d)*(n+d)+u*u)-n;if(void 0===this.radius2_||"bevel"===t)return 2*g;const _=n*Math.sin(o),f=s-Math.sqrt(n*n-_*_),p=Math.sqrt(_*_+f*f)/_;if(p<=i){const t=p*e/2-s-n;return 2*Math.max(g,t)}return 2*g}createRenderOptions(){let t,e=h.rc,i=0,n=null,s=0,r=0;this.stroke_&&(t=this.stroke_.getColor(),null===t&&(t=h.Tx),t=(0,o.y)(t),r=this.stroke_.getWidth(),void 0===r&&(r=h.yC),n=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),void 0===e&&(e=h.rc),i=this.stroke_.getMiterLimit(),void 0===i&&(i=h.V4));const a=this.calculateLineJoinSize_(e,r,i),l=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:r,size:Math.ceil(2*l+a),lineDash:n,lineDashOffset:s,lineJoin:e,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]}draw_(t,e,i){if(e.scale(i,i),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let t=this.fill_.getColor();null===t&&(t=h.bL),e.fillStyle=(0,o.y)(t),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){if(this.fill_){let e=this.fill_.getColor(),i=0;if("string"==typeof e&&(e=(0,r._2)(e)),null===e?i=1:Array.isArray(e)&&(i=4===e.length?e[3]:1),0===i){const e=(0,a.E4)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(t){let e=this.points_;const i=this.radius_;if(e===1/0)t.arc(0,0,i,0,2*Math.PI);else{const n=void 0===this.radius2_?i:this.radius2_;void 0!==this.radius2_&&(e*=2);const s=this.angle_-Math.PI/2,r=2*Math.PI/e;for(let o=0;o<e;o++){const e=s+o*r,a=o%2==0?i:n;t.lineTo(a*Math.cos(e),a*Math.sin(e))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=h.bL,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}}const c=l},8958:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});class n{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}const s=n},7539:(t,e,i)=>{"use strict";i.d(e,{J$:()=>h,ZP:()=>u,yF:()=>c});var n=i(283),s=i(1345),r=i(8958),o=i(9515);class a{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=d,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new a({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=d,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function h(t){let e;if("function"==typeof t)e=t;else{let i;Array.isArray(t)?i=t:((0,o.h)("function"==typeof t.getZIndex,41),i=[t]),e=function(){return i}}return e}let l=null;function c(t,e){if(!l){const t=new s.Z({color:"rgba(255,255,255,0.4)"}),e=new r.Z({color:"#3399CC",width:1.25});l=[new a({image:new n.Z({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return l}function d(t){return t.getGeometry()}const u=a},1280:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var n=i(1345),s=i(4307);class r{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=(0,s.Pq)(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new n.Z({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}clone(){const t=this.getScale();return new r({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,s.Pq)(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const o=r},8634:(t,e,i)=>{"use strict";function n(t,e,i,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=i,n):[t,e,i]}function s(t,e,i){return t+"/"+e+"/"+i}function r(t){return s(t[0],t[1],t[2])}function o(t){const[e,i,n]=t.substring(t.lastIndexOf("/")+1,t.length).split(",").map(Number);return s(e,i,n)}function a(t){return t.split("/").map(Number)}function h(t){return(t[1]<<t[0])+t[2]}function l(t,e){const i=t[0],n=t[1],s=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;const r=e.getFullTileRange(i);return!r||r.containsXY(n,s)}i.d(e,{MY:()=>o,T9:()=>n,Ul:()=>a,km:()=>r,lg:()=>s,tE:()=>l,vp:()=>h})},7248:(t,e,i)=>{"use strict";i.d(e,{Cf:()=>l,Tl:()=>u,X$:()=>h,dl:()=>c});var n=i(8738),s=i(4768),r=i(8661),o=i(8641),a=i(4307);function h(t){let e=t.getDefaultTileGrid();return e||(e=function(t,e,i,s){return function(t,e,i,s){s=void 0!==s?s:"top-left";const r=d(t,undefined,i);return new n.Z({extent:t,origin:(0,o.g0)(t,s),resolutions:r,tileSize:i})}(u(t),0,void 0,void 0)}(t),t.setDefaultTileGrid(e)),e}function l(t,e,i){const n=e[0],s=t.getTileCoordCenter(e),r=u(i);if(!(0,o.b8)(r,s)){const e=(0,o.dz)(r),i=Math.ceil((r[0]-s[0])/e);return s[0]+=e*i,t.getTileCoordForCoordAndZ(s,n)}return e}function c(t){const e=t||{},i=e.extent||(0,r.U2)("EPSG:3857").getExtent(),s={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:d(i,e.maxZoom,e.tileSize,e.maxResolution)};return new n.Z(s)}function d(t,e,i,n){e=void 0!==e?e:s.e,i=(0,a.Pq)(void 0!==i?i:s.S);const r=(0,o.Cr)(t),h=(0,o.dz)(t);n=n>0?n:Math.max(h/i[0],r/i[1]);const l=e+1,c=new Array(l);for(let t=0;t<l;++t)c[t]=n/Math.pow(2,t);return c}function u(t){let e=(t=(0,r.U2)(t)).getExtent();if(!e){const i=180*r.Wm.degrees/t.getMetersPerUnit();e=(0,o.T9)(-i,-i,i,i)}return e}},8738:(t,e,i)=>{"use strict";i.d(e,{Z:()=>g});var n=i(2519),s=i(4768),r=i(9515),o=i(3983),a=i(8641),h=i(8634),l=i(969),c=i(5537),d=i(4307);const u=[0,0,0],g=class{constructor(t){let e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,r.h)((0,c.pT)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(let t=0,i=this.resolutions_.length-1;t<i;++t)if(e){if(this.resolutions_[t]/this.resolutions_[t+1]!==e){e=void 0;break}}else e=this.resolutions_[t]/this.resolutions_[t+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,r.h)(this.origins_.length==this.resolutions_.length,20));const i=t.extent;void 0===i||this.origin_||this.origins_||(this.origin_=(0,a.rL)(i)),(0,r.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,r.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:s.S,(0,r.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){const s=new n.Z(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(i){const t=this.getTileRangeForExtentAndZ(i,e);s.minX=Math.max(t.minX,s.minX),s.maxX=Math.min(t.maxX,s.maxX),s.minY=Math.max(t.minY,s.minY),s.maxY=Math.min(t.maxY,s.maxY)}return s}),this):i&&this.calculateTileRanges_(i)}forEachTileCoord(t,e,i){const n=this.getTileRangeForExtentAndZ(t,e);for(let t=n.minX,s=n.maxX;t<=s;++t)for(let s=n.minY,r=n.maxY;s<=r;++s)i([e,t,s])}forEachTileCoordParentTileRange(t,e,i,s){let r,o,a,h=null,l=t[0]-1;for(2===this.zoomFactor_?(o=t[1],a=t[2]):h=this.getTileCoordExtent(t,s);l>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),a=Math.floor(a/2),r=(0,n.T)(o,o,a,a,i)):r=this.getTileRangeForExtentAndZ(h,l,i),e(l,r))return!0;--l}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){const i=2*t[1],s=2*t[2];return(0,n.T)(i,i+1,s,s+1,e)}const s=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,i){if(e>this.maxZoom||e<this.minZoom)return null;const s=t[0],r=t[1],o=t[2];if(e===s)return(0,n.T)(r,o,r,o,i);if(this.zoomFactor_){const t=Math.pow(this.zoomFactor_,e-s),a=Math.floor(r*t),h=Math.floor(o*t);if(e<s)return(0,n.T)(a,a,h,h,i);const l=Math.floor(t*(r+1))-1,c=Math.floor(t*(o+1))-1;return(0,n.T)(a,l,h,c,i)}const a=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,e,i)}getTileRangeExtent(t,e,i){const n=this.getOrigin(t),s=this.getResolution(t),r=(0,d.Pq)(this.getTileSize(t),this.tmpSize_),o=n[0]+e.minX*r[0]*s,h=n[0]+(e.maxX+1)*r[0]*s,l=n[1]+e.minY*r[1]*s,c=n[1]+(e.maxY+1)*r[1]*s;return(0,a.T9)(o,l,h,c,i)}getTileRangeForExtentAndZ(t,e,i){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,u);const s=u[1],r=u[2];this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,u);const o=u[1],a=u[2];return(0,n.T)(s,o,r,a,i)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),i=this.getResolution(t[0]),n=(0,d.Pq)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*n[0]*i,e[1]-(t[2]+.5)*n[1]*i]}getTileCoordExtent(t,e){const i=this.getOrigin(t[0]),n=this.getResolution(t[0]),s=(0,d.Pq)(this.getTileSize(t[0]),this.tmpSize_),r=i[0]+t[1]*s[0]*n,o=i[1]-(t[2]+1)*s[1]*n,h=r+s[0]*n,l=o+s[1]*n;return(0,a.T9)(r,o,h,l,e)}getTileCoordForCoordAndResolution(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)}getTileCoordForXYAndResolution_(t,e,i,n,s){const r=this.getZForResolution(i),a=i/this.getResolution(r),l=this.getOrigin(r),c=(0,d.Pq)(this.getTileSize(r),this.tmpSize_);let u=a*(t-l[0])/i/c[0],g=a*(l[1]-e)/i/c[1];return n?(u=(0,o.mD)(u,5)-1,g=(0,o.mD)(g,5)-1):(u=(0,o.GW)(u,5),g=(0,o.GW)(g,5)),(0,h.T9)(r,u,g,s)}getTileCoordForXYAndZ_(t,e,i,n,s){const r=this.getOrigin(i),a=this.getResolution(i),l=(0,d.Pq)(this.getTileSize(i),this.tmpSize_);let c=(t-r[0])/a/l[0],u=(r[1]-e)/a/l[1];return n?(c=(0,o.mD)(c,5)-1,u=(0,o.mD)(u,5)-1):(c=(0,o.GW)(c,5),u=(0,o.GW)(u,5)),(0,h.T9)(i,c,u,s)}getTileCoordForCoordAndZ(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){const i=(0,c.h7)(this.resolutions_,t,e||0);return(0,o.uZ)(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return(0,l.mV)(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,i=new Array(e);for(let n=this.minZoom;n<e;++n)i[n]=this.getTileRangeForExtentAndZ(t,n);this.fullTileRanges_=i}}},4768:(t,e,i)=>{"use strict";i.d(e,{S:()=>s,e:()=>n});const n=42,s=256},6101:(t,e,i)=>{"use strict";i.d(e,{BB:()=>m,Iu:()=>g,Jp:()=>h,Ue:()=>o,bA:()=>u,lk:()=>c,mc:()=>a,nb:()=>f,nn:()=>d,qC:()=>_});var n=i(177),s=i(9515);const r=new Array(6);function o(){return[1,0,0,1,0,0]}function a(t){return l(t,1,0,0,1,0,0)}function h(t,e){const i=t[0],n=t[1],s=t[2],r=t[3],o=t[4],a=t[5],h=e[0],l=e[1],c=e[2],d=e[3],u=e[4],g=e[5];return t[0]=i*h+s*l,t[1]=n*h+r*l,t[2]=i*c+s*d,t[3]=n*c+r*d,t[4]=i*u+s*g+o,t[5]=n*u+r*g+a,t}function l(t,e,i,n,s,r,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=s,t[4]=r,t[5]=o,t}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function d(t,e){const i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function u(t,e,i){return h(t,l(r,e,0,0,i,0,0))}function g(t,e,i){return h(t,l(r,1,0,0,1,e,i))}function _(t,e,i,n,s,r,o,a){const h=Math.sin(r),l=Math.cos(r);return t[0]=n*l,t[1]=s*h,t[2]=-n*h,t[3]=s*l,t[4]=o*n*l-a*n*h+e,t[5]=o*s*h+a*s*l+i,t}function f(t,e){const i=(n=e)[0]*n[3]-n[1]*n[2];var n;(0,s.h)(0!==i,32);const r=e[0],o=e[1],a=e[2],h=e[3],l=e[4],c=e[5];return t[0]=h/i,t[1]=-o/i,t[2]=-a/i,t[3]=r/i,t[4]=(a*c-h*l)/i,t[5]=-(r*c-o*l)/i,t}let p;function m(t){const e="matrix("+t.join(", ")+")";if(n.Id)return e;const i=p||(p=document.createElement("div"));return i.style.transform=e,i.style.transform}},4187:(t,e,i)=>{"use strict";function n(){throw new Error("Unimplemented abstract method.")}i.d(e,{O3:()=>n,sq:()=>r});let s=0;function r(t){return t.ol_uid||(t.ol_uid=String(++s))}},7885:(t,e,i)=>{"use strict";function n(t){let e=t.length;for(;--e>=0;)t[e]=0}i.d(e,{ec:()=>fi});const s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),r=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),a=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new Array(576);n(h);const l=new Array(60);n(l);const c=new Array(512);n(c);const d=new Array(256);n(d);const u=new Array(29);n(u);const g=new Array(30);function _(t,e,i,n,s){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=s,this.has_stree=t&&t.length}let f,p,m;function v(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}n(g);const y=t=>t<256?c[t]:c[256+(t>>>7)],x=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},w=(t,e,i)=>{t.bi_valid>16-i?(t.bi_buf|=e<<t.bi_valid&65535,x(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)},S=(t,e,i)=>{w(t,i[2*e],i[2*e+1])},E=(t,e)=>{let i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1},C=(t,e,i)=>{const n=new Array(16);let s,r,o=0;for(s=1;s<=15;s++)o=o+i[s-1]<<1,n[s]=o;for(r=0;r<=e;r++){let e=t[2*r+1];0!==e&&(t[2*r]=E(n[e]++,e))}},b=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},T=t=>{t.bi_valid>8?x(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},R=(t,e,i,n)=>{const s=2*e,r=2*i;return t[s]<t[r]||t[s]===t[r]&&n[e]<=n[i]},I=(t,e,i)=>{const n=t.heap[i];let s=i<<1;for(;s<=t.heap_len&&(s<t.heap_len&&R(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!R(e,n,t.heap[s],t.depth));)t.heap[i]=t.heap[s],i=s,s<<=1;t.heap[i]=n},k=(t,e,i)=>{let n,o,a,h,l=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+l++],n+=(255&t.pending_buf[t.sym_buf+l++])<<8,o=t.pending_buf[t.sym_buf+l++],0===n?S(t,o,e):(a=d[o],S(t,a+256+1,e),h=s[a],0!==h&&(o-=u[a],w(t,o,h)),n--,a=y(n),S(t,a,i),h=r[a],0!==h&&(n-=g[a],w(t,n,h)))}while(l<t.sym_next);S(t,256,e)},M=(t,e)=>{const i=e.dyn_tree,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,r=e.stat_desc.elems;let o,a,h,l=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<r;o++)0!==i[2*o]?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):i[2*o+1]=0;for(;t.heap_len<2;)h=t.heap[++t.heap_len]=l<2?++l:0,i[2*h]=1,t.depth[h]=0,t.opt_len--,s&&(t.static_len-=n[2*h+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)I(t,i,o);h=r;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],I(t,i,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,i[2*h]=i[2*o]+i[2*a],t.depth[h]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,i[2*o+1]=i[2*a+1]=h,t.heap[1]=h++,I(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const i=e.dyn_tree,n=e.max_code,s=e.stat_desc.static_tree,r=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,h=e.stat_desc.max_length;let l,c,d,u,g,_,f=0;for(u=0;u<=15;u++)t.bl_count[u]=0;for(i[2*t.heap[t.heap_max]+1]=0,l=t.heap_max+1;l<573;l++)c=t.heap[l],u=i[2*i[2*c+1]+1]+1,u>h&&(u=h,f++),i[2*c+1]=u,c>n||(t.bl_count[u]++,g=0,c>=a&&(g=o[c-a]),_=i[2*c],t.opt_len+=_*(u+g),r&&(t.static_len+=_*(s[2*c+1]+g)));if(0!==f){do{for(u=h-1;0===t.bl_count[u];)u--;t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[h]--,f-=2}while(f>0);for(u=h;0!==u;u--)for(c=t.bl_count[u];0!==c;)d=t.heap[--l],d>n||(i[2*d+1]!==u&&(t.opt_len+=(u-i[2*d+1])*i[2*d],i[2*d+1]=u),c--)}})(t,e),C(i,l,t.bl_count)},L=(t,e,i)=>{let n,s,r=-1,o=e[1],a=0,h=7,l=4;for(0===o&&(h=138,l=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)s=o,o=e[2*(n+1)+1],++a<h&&s===o||(a<l?t.bl_tree[2*s]+=a:0!==s?(s!==r&&t.bl_tree[2*s]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,r=s,0===o?(h=138,l=3):s===o?(h=6,l=3):(h=7,l=4))},P=(t,e,i)=>{let n,s,r=-1,o=e[1],a=0,h=7,l=4;for(0===o&&(h=138,l=3),n=0;n<=i;n++)if(s=o,o=e[2*(n+1)+1],!(++a<h&&s===o)){if(a<l)do{S(t,s,t.bl_tree)}while(0!=--a);else 0!==s?(s!==r&&(S(t,s,t.bl_tree),a--),S(t,16,t.bl_tree),w(t,a-3,2)):a<=10?(S(t,17,t.bl_tree),w(t,a-3,3)):(S(t,18,t.bl_tree),w(t,a-11,7));a=0,r=s,0===o?(h=138,l=3):s===o?(h=6,l=3):(h=7,l=4)}};let O=!1;const A=(t,e,i,n)=>{w(t,0+(n?1:0),3),T(t),x(t,i),x(t,~i),i&&t.pending_buf.set(t.window.subarray(e,e+i),t.pending),t.pending+=i};var Z={_tr_init:t=>{O||((()=>{let t,e,i,n,a;const v=new Array(16);for(i=0,n=0;n<28;n++)for(u[n]=i,t=0;t<1<<s[n];t++)d[i++]=n;for(d[i-1]=n,a=0,n=0;n<16;n++)for(g[n]=a,t=0;t<1<<r[n];t++)c[a++]=n;for(a>>=7;n<30;n++)for(g[n]=a<<7,t=0;t<1<<r[n]-7;t++)c[256+a++]=n;for(e=0;e<=15;e++)v[e]=0;for(t=0;t<=143;)h[2*t+1]=8,t++,v[8]++;for(;t<=255;)h[2*t+1]=9,t++,v[9]++;for(;t<=279;)h[2*t+1]=7,t++,v[7]++;for(;t<=287;)h[2*t+1]=8,t++,v[8]++;for(C(h,287,v),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=E(t,5);f=new _(h,s,257,286,15),p=new _(l,r,0,30,15),m=new _(new Array(0),o,0,19,7)})(),O=!0),t.l_desc=new v(t.dyn_ltree,f),t.d_desc=new v(t.dyn_dtree,p),t.bl_desc=new v(t.bl_tree,m),t.bi_buf=0,t.bi_valid=0,b(t)},_tr_stored_block:A,_tr_flush_block:(t,e,i,n)=>{let s,r,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),M(t,t.l_desc),M(t,t.d_desc),o=(t=>{let e;for(L(t,t.dyn_ltree,t.l_desc.max_code),L(t,t.dyn_dtree,t.d_desc.max_code),M(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*a[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),s=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=s&&(s=r)):s=r=i+5,i+4<=s&&-1!==e?A(t,e,i,n):4===t.strategy||r===s?(w(t,2+(n?1:0),3),k(t,h,l)):(w(t,4+(n?1:0),3),((t,e,i,n)=>{let s;for(w(t,e-257,5),w(t,i-1,5),w(t,n-4,4),s=0;s<n;s++)w(t,t.bl_tree[2*a[s]+1],3);P(t,t.dyn_ltree,e-1),P(t,t.dyn_dtree,i-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),k(t,t.dyn_ltree,t.dyn_dtree)),b(t),n&&T(t)},_tr_tally:(t,e,i)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=i,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(d[i]+256+1)]++,t.dyn_dtree[2*y(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{w(t,2,3),S(t,256,h),(t=>{16===t.bi_valid?(x(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},F=(t,e,i,n)=>{let s=65535&t|0,r=t>>>16&65535|0,o=0;for(;0!==i;){o=i>2e3?2e3:i,i-=o;do{s=s+e[n++]|0,r=r+s|0}while(--o);s%=65521,r%=65521}return s|r<<16|0};const D=new Uint32Array((()=>{let t,e=[];for(var i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e})());var z=(t,e,i,n)=>{const s=D,r=n+i;t^=-1;for(let i=n;i<r;i++)t=t>>>8^s[255&(t^e[i])];return-1^t},N={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},G={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:B,_tr_stored_block:W,_tr_flush_block:U,_tr_tally:Y,_tr_align:V}=Z,{Z_NO_FLUSH:X,Z_PARTIAL_FLUSH:j,Z_FULL_FLUSH:K,Z_FINISH:H,Z_BLOCK:q,Z_OK:J,Z_STREAM_END:$,Z_STREAM_ERROR:Q,Z_DATA_ERROR:tt,Z_BUF_ERROR:et,Z_DEFAULT_COMPRESSION:it,Z_FILTERED:nt,Z_HUFFMAN_ONLY:st,Z_RLE:rt,Z_FIXED:ot,Z_DEFAULT_STRATEGY:at,Z_UNKNOWN:ht,Z_DEFLATED:lt}=G,ct=286,dt=30,ut=19,gt=2*ct+1,_t=15,ft=258,pt=262,mt=42,vt=113,yt=666,xt=(t,e)=>(t.msg=N[e],e),wt=t=>2*t-(t>4?9:0),St=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Et=t=>{let e,i,n,s=t.w_size;e=t.hash_size,n=e;do{i=t.head[--n],t.head[n]=i>=s?i-s:0}while(--e);e=s,n=e;do{i=t.prev[--n],t.prev[n]=i>=s?i-s:0}while(--e)};let Ct=(t,e,i)=>(e<<t.hash_shift^i)&t.hash_mask;const bt=t=>{const e=t.state;let i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+i),t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))},Tt=(t,e)=>{U(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,bt(t.strm)},Rt=(t,e)=>{t.pending_buf[t.pending++]=e},It=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},kt=(t,e,i,n)=>{let s=t.avail_in;return s>n&&(s=n),0===s?0:(t.avail_in-=s,e.set(t.input.subarray(t.next_in,t.next_in+s),i),1===t.state.wrap?t.adler=F(t.adler,e,s,i):2===t.state.wrap&&(t.adler=z(t.adler,e,s,i)),t.next_in+=s,t.total_in+=s,s)},Mt=(t,e)=>{let i,n,s=t.max_chain_length,r=t.strstart,o=t.prev_length,a=t.nice_match;const h=t.strstart>t.w_size-pt?t.strstart-(t.w_size-pt):0,l=t.window,c=t.w_mask,d=t.prev,u=t.strstart+ft;let g=l[r+o-1],_=l[r+o];t.prev_length>=t.good_match&&(s>>=2),a>t.lookahead&&(a=t.lookahead);do{if(i=e,l[i+o]===_&&l[i+o-1]===g&&l[i]===l[r]&&l[++i]===l[r+1]){r+=2,i++;do{}while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<u);if(n=ft-(u-r),r=u-ft,n>o){if(t.match_start=e,o=n,n>=a)break;g=l[r+o-1],_=l[r+o]}}}while((e=d[e&c])>h&&0!=--s);return o<=t.lookahead?o:t.lookahead},Lt=t=>{const e=t.w_size;let i,n,s;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-pt)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Et(t),n+=e),0===t.strm.avail_in)break;if(i=kt(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=i,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Ct(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Ct(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<pt&&0!==t.strm.avail_in)},Pt=(t,e)=>{let i,n,s,r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,o=0,a=t.strm.avail_in;do{if(i=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s)break;if(s=t.strm.avail_out-s,n=t.strstart-t.block_start,i>n+t.strm.avail_in&&(i=n+t.strm.avail_in),i>s&&(i=s),i<r&&(0===i&&e!==H||e===X||i!==n+t.strm.avail_in))break;o=e===H&&i===n+t.strm.avail_in?1:0,W(t,0,0,o),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,bt(t.strm),n&&(n>i&&(n=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,i-=n),i&&(kt(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(0===o);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?4:e!==X&&e!==H&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(kt(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,r=s>t.w_size?t.w_size:s,n=t.strstart-t.block_start,(n>=r||(n||e===H)&&e!==X&&0===t.strm.avail_in&&n<=s)&&(i=n>s?s:n,o=e===H&&0===t.strm.avail_in&&i===n?1:0,W(t,t.block_start,i,o),t.block_start+=i,bt(t.strm)),o?3:1)},Ot=(t,e)=>{let i,n;for(;;){if(t.lookahead<pt){if(Lt(t),t.lookahead<pt&&e===X)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=Ct(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-pt&&(t.match_length=Mt(t,i)),t.match_length>=3)if(n=Y(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Ct(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Ct(t,t.ins_h,t.window[t.strstart+1]);else n=Y(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Tt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===H?(Tt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Tt(t,!1),0===t.strm.avail_out)?1:2},At=(t,e)=>{let i,n,s;for(;;){if(t.lookahead<pt){if(Lt(t),t.lookahead<pt&&e===X)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=Ct(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-pt&&(t.match_length=Mt(t,i),t.match_length<=5&&(t.strategy===nt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-3,n=Y(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=s&&(t.ins_h=Ct(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Tt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=Y(t,0,t.window[t.strstart-1]),n&&Tt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Y(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===H?(Tt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Tt(t,!1),0===t.strm.avail_out)?1:2};function Zt(t,e,i,n,s){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=s}const Ft=[new Zt(0,0,0,0,Pt),new Zt(4,4,8,4,Ot),new Zt(4,5,16,8,Ot),new Zt(4,6,32,32,Ot),new Zt(4,4,16,16,At),new Zt(8,16,32,32,At),new Zt(8,16,128,128,At),new Zt(8,32,128,256,At),new Zt(32,128,258,1024,At),new Zt(32,258,258,4096,At)];function Dt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=lt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*gt),this.dyn_dtree=new Uint16Array(2*(2*dt+1)),this.bl_tree=new Uint16Array(2*(2*ut+1)),St(this.dyn_ltree),St(this.dyn_dtree),St(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(_t+1),this.heap=new Uint16Array(2*ct+1),St(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ct+1),St(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const zt=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==mt&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==vt&&e.status!==yt?1:0},Nt=t=>{if(zt(t))return xt(t,Q);t.total_in=t.total_out=0,t.data_type=ht;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?mt:vt,t.adler=2===e.wrap?0:1,e.last_flush=-2,B(e),J},Gt=t=>{const e=Nt(t);var i;return e===J&&((i=t.state).window_size=2*i.w_size,St(i.head),i.max_lazy_match=Ft[i.level].max_lazy,i.good_match=Ft[i.level].good_length,i.nice_match=Ft[i.level].nice_length,i.max_chain_length=Ft[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),e},Bt=(t,e,i,n,s,r)=>{if(!t)return Q;let o=1;if(e===it&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),s<1||s>9||i!==lt||n<8||n>15||e<0||e>9||r<0||r>ot||8===n&&1!==o)return xt(t,Q);8===n&&(n=9);const a=new Dt;return t.state=a,a.strm=t,a.status=mt,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=s+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<s+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=r,a.method=i,Gt(t)};var Wt={deflateInit:(t,e)=>Bt(t,e,lt,15,8,at),deflateInit2:Bt,deflateReset:Gt,deflateResetKeep:Nt,deflateSetHeader:(t,e)=>zt(t)||2!==t.state.wrap?Q:(t.state.gzhead=e,J),deflate:(t,e)=>{if(zt(t)||e>q||e<0)return t?xt(t,Q):Q;const i=t.state;if(!t.output||0!==t.avail_in&&!t.input||i.status===yt&&e!==H)return xt(t,0===t.avail_out?et:Q);const n=i.last_flush;if(i.last_flush=e,0!==i.pending){if(bt(t),0===t.avail_out)return i.last_flush=-1,J}else if(0===t.avail_in&&wt(e)<=wt(n)&&e!==H)return xt(t,et);if(i.status===yt&&0!==t.avail_in)return xt(t,et);if(i.status===mt&&0===i.wrap&&(i.status=vt),i.status===mt){let e=lt+(i.w_bits-8<<4)<<8,n=-1;if(n=i.strategy>=st||i.level<2?0:i.level<6?1:6===i.level?2:3,e|=n<<6,0!==i.strstart&&(e|=32),e+=31-e%31,It(i,e),0!==i.strstart&&(It(i,t.adler>>>16),It(i,65535&t.adler)),t.adler=1,i.status=vt,bt(t),0!==i.pending)return i.last_flush=-1,J}if(57===i.status)if(t.adler=0,Rt(i,31),Rt(i,139),Rt(i,8),i.gzhead)Rt(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Rt(i,255&i.gzhead.time),Rt(i,i.gzhead.time>>8&255),Rt(i,i.gzhead.time>>16&255),Rt(i,i.gzhead.time>>24&255),Rt(i,9===i.level?2:i.strategy>=st||i.level<2?4:0),Rt(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Rt(i,255&i.gzhead.extra.length),Rt(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=z(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(Rt(i,0),Rt(i,0),Rt(i,0),Rt(i,0),Rt(i,0),Rt(i,9===i.level?2:i.strategy>=st||i.level<2?4:0),Rt(i,3),i.status=vt,bt(t),0!==i.pending)return i.last_flush=-1,J;if(69===i.status){if(i.gzhead.extra){let e=i.pending,n=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let s=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+s),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>e&&(t.adler=z(t.adler,i.pending_buf,i.pending-e,e)),i.gzindex+=s,bt(t),0!==i.pending)return i.last_flush=-1,J;e=0,n-=s}let s=new Uint8Array(i.gzhead.extra);i.pending_buf.set(s.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>e&&(t.adler=z(t.adler,i.pending_buf,i.pending-e,e)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let e,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(t.adler=z(t.adler,i.pending_buf,i.pending-n,n)),bt(t),0!==i.pending)return i.last_flush=-1,J;n=0}e=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Rt(i,e)}while(0!==e);i.gzhead.hcrc&&i.pending>n&&(t.adler=z(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let e,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(t.adler=z(t.adler,i.pending_buf,i.pending-n,n)),bt(t),0!==i.pending)return i.last_flush=-1,J;n=0}e=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Rt(i,e)}while(0!==e);i.gzhead.hcrc&&i.pending>n&&(t.adler=z(t.adler,i.pending_buf,i.pending-n,n))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(bt(t),0!==i.pending))return i.last_flush=-1,J;Rt(i,255&t.adler),Rt(i,t.adler>>8&255),t.adler=0}if(i.status=vt,bt(t),0!==i.pending)return i.last_flush=-1,J}if(0!==t.avail_in||0!==i.lookahead||e!==X&&i.status!==yt){let n=0===i.level?Pt(i,e):i.strategy===st?((t,e)=>{let i;for(;;){if(0===t.lookahead&&(Lt(t),0===t.lookahead)){if(e===X)return 1;break}if(t.match_length=0,i=Y(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(Tt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===H?(Tt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Tt(t,!1),0===t.strm.avail_out)?1:2})(i,e):i.strategy===rt?((t,e)=>{let i,n,s,r;const o=t.window;for(;;){if(t.lookahead<=ft){if(Lt(t),t.lookahead<=ft&&e===X)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(s=t.strstart-1,n=o[s],n===o[++s]&&n===o[++s]&&n===o[++s])){r=t.strstart+ft;do{}while(n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&s<r);t.match_length=ft-(r-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=Y(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=Y(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(Tt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===H?(Tt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Tt(t,!1),0===t.strm.avail_out)?1:2})(i,e):Ft[i.level].func(i,e);if(3!==n&&4!==n||(i.status=yt),1===n||3===n)return 0===t.avail_out&&(i.last_flush=-1),J;if(2===n&&(e===j?V(i):e!==q&&(W(i,0,0,!1),e===K&&(St(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),bt(t),0===t.avail_out))return i.last_flush=-1,J}return e!==H?J:i.wrap<=0?$:(2===i.wrap?(Rt(i,255&t.adler),Rt(i,t.adler>>8&255),Rt(i,t.adler>>16&255),Rt(i,t.adler>>24&255),Rt(i,255&t.total_in),Rt(i,t.total_in>>8&255),Rt(i,t.total_in>>16&255),Rt(i,t.total_in>>24&255)):(It(i,t.adler>>>16),It(i,65535&t.adler)),bt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?J:$)},deflateEnd:t=>{if(zt(t))return Q;const e=t.state.status;return t.state=null,e===vt?xt(t,tt):J},deflateSetDictionary:(t,e)=>{let i=e.length;if(zt(t))return Q;const n=t.state,s=n.wrap;if(2===s||1===s&&n.status!==mt||n.lookahead)return Q;if(1===s&&(t.adler=F(t.adler,e,i,0)),n.wrap=0,i>=n.w_size){0===s&&(St(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(i-n.w_size,i),0),e=t,i=n.w_size}const r=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=i,t.next_in=0,t.input=e,Lt(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=Ct(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,Lt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=o,t.input=a,t.avail_in=r,n.wrap=s,J},deflateInfo:"pako deflate (from Nodeca project)"};const Ut=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Yt={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const e in i)Ut(i,e)&&(t[e]=i[e])}}return t},flattenChunks:t=>{let e=0;for(let i=0,n=t.length;i<n;i++)e+=t[i].length;const i=new Uint8Array(e);for(let e=0,n=0,s=t.length;e<s;e++){let s=t[e];i.set(s,n),n+=s.length}return i}};let Vt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Vt=!1}const Xt=new Uint8Array(256);for(let t=0;t<256;t++)Xt[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Xt[254]=Xt[254]=1;var jt={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,i,n,s,r,o=t.length,a=0;for(s=0;s<o;s++)i=t.charCodeAt(s),55296==(64512&i)&&s+1<o&&(n=t.charCodeAt(s+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),s++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(e=new Uint8Array(a),r=0,s=0;r<a;s++)i=t.charCodeAt(s),55296==(64512&i)&&s+1<o&&(n=t.charCodeAt(s+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),s++)),i<128?e[r++]=i:i<2048?(e[r++]=192|i>>>6,e[r++]=128|63&i):i<65536?(e[r++]=224|i>>>12,e[r++]=128|i>>>6&63,e[r++]=128|63&i):(e[r++]=240|i>>>18,e[r++]=128|i>>>12&63,e[r++]=128|i>>>6&63,e[r++]=128|63&i);return e},buf2string:(t,e)=>{const i=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,s;const r=new Array(2*i);for(s=0,n=0;n<i;){let e=t[n++];if(e<128){r[s++]=e;continue}let o=Xt[e];if(o>4)r[s++]=65533,n+=o-1;else{for(e&=2===o?31:3===o?15:7;o>1&&n<i;)e=e<<6|63&t[n++],o--;o>1?r[s++]=65533:e<65536?r[s++]=e:(e-=65536,r[s++]=55296|e>>10&1023,r[s++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Vt)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let i="";for(let n=0;n<e;n++)i+=String.fromCharCode(t[n]);return i})(r,s)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let i=e-1;for(;i>=0&&128==(192&t[i]);)i--;return i<0||0===i?e:i+Xt[t[i]]>e?i:e}},Kt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ht=Object.prototype.toString,{Z_NO_FLUSH:qt,Z_SYNC_FLUSH:Jt,Z_FULL_FLUSH:$t,Z_FINISH:Qt,Z_OK:te,Z_STREAM_END:ee,Z_DEFAULT_COMPRESSION:ie,Z_DEFAULT_STRATEGY:ne,Z_DEFLATED:se}=G;function re(t){this.options=Yt.assign({level:ie,method:se,chunkSize:16384,windowBits:15,memLevel:8,strategy:ne},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kt,this.strm.avail_out=0;let i=Wt.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==te)throw new Error(N[i]);if(e.header&&Wt.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?jt.string2buf(e.dictionary):"[object ArrayBuffer]"===Ht.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,i=Wt.deflateSetDictionary(this.strm,t),i!==te)throw new Error(N[i]);this._dict_set=!0}}function oe(t,e){const i=new re(e);if(i.push(t,!0),i.err)throw i.msg||N[i.err];return i.result}re.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize;let s,r;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Qt:qt,"string"==typeof t?i.input=jt.string2buf(t):"[object ArrayBuffer]"===Ht.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(r===Jt||r===$t)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(s=Wt.deflate(i,r),s===ee)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),s=Wt.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===te;if(0!==i.avail_out){if(r>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},re.prototype.onData=function(t){this.chunks.push(t)},re.prototype.onEnd=function(t){t===te&&(this.result=Yt.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ae={Deflate:re,deflate:oe,deflateRaw:function(t,e){return(e=e||{}).raw=!0,oe(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,oe(t,e)},constants:G};const he=16209;var le=function(t,e){let i,n,s,r,o,a,h,l,c,d,u,g,_,f,p,m,v,y,x,w,S,E,C,b;const T=t.state;i=t.next_in,C=t.input,n=i+(t.avail_in-5),s=t.next_out,b=t.output,r=s-(e-t.avail_out),o=s+(t.avail_out-257),a=T.dmax,h=T.wsize,l=T.whave,c=T.wnext,d=T.window,u=T.hold,g=T.bits,_=T.lencode,f=T.distcode,p=(1<<T.lenbits)-1,m=(1<<T.distbits)-1;t:do{g<15&&(u+=C[i++]<<g,g+=8,u+=C[i++]<<g,g+=8),v=_[u&p];e:for(;;){if(y=v>>>24,u>>>=y,g-=y,y=v>>>16&255,0===y)b[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=_[(65535&v)+(u&(1<<y)-1)];continue e}if(32&y){T.mode=16191;break t}t.msg="invalid literal/length code",T.mode=he;break t}x=65535&v,y&=15,y&&(g<y&&(u+=C[i++]<<g,g+=8),x+=u&(1<<y)-1,u>>>=y,g-=y),g<15&&(u+=C[i++]<<g,g+=8,u+=C[i++]<<g,g+=8),v=f[u&m];i:for(;;){if(y=v>>>24,u>>>=y,g-=y,y=v>>>16&255,!(16&y)){if(0==(64&y)){v=f[(65535&v)+(u&(1<<y)-1)];continue i}t.msg="invalid distance code",T.mode=he;break t}if(w=65535&v,y&=15,g<y&&(u+=C[i++]<<g,g+=8,g<y&&(u+=C[i++]<<g,g+=8)),w+=u&(1<<y)-1,w>a){t.msg="invalid distance too far back",T.mode=he;break t}if(u>>>=y,g-=y,y=s-r,w>y){if(y=w-y,y>l&&T.sane){t.msg="invalid distance too far back",T.mode=he;break t}if(S=0,E=d,0===c){if(S+=h-y,y<x){x-=y;do{b[s++]=d[S++]}while(--y);S=s-w,E=b}}else if(c<y){if(S+=h+c-y,y-=c,y<x){x-=y;do{b[s++]=d[S++]}while(--y);if(S=0,c<x){y=c,x-=y;do{b[s++]=d[S++]}while(--y);S=s-w,E=b}}}else if(S+=c-y,y<x){x-=y;do{b[s++]=d[S++]}while(--y);S=s-w,E=b}for(;x>2;)b[s++]=E[S++],b[s++]=E[S++],b[s++]=E[S++],x-=3;x&&(b[s++]=E[S++],x>1&&(b[s++]=E[S++]))}else{S=s-w;do{b[s++]=b[S++],b[s++]=b[S++],b[s++]=b[S++],x-=3}while(x>2);x&&(b[s++]=b[S++],x>1&&(b[s++]=b[S++]))}break}}break}}while(i<n&&s<o);x=g>>3,i-=x,g-=x<<3,u&=(1<<g)-1,t.next_in=i,t.next_out=s,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=s<o?o-s+257:257-(s-o),T.hold=u,T.bits=g};const ce=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),de=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ue=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ge=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var _e=(t,e,i,n,s,r,o,a)=>{const h=a.bits;let l,c,d,u,g,_,f=0,p=0,m=0,v=0,y=0,x=0,w=0,S=0,E=0,C=0,b=null;const T=new Uint16Array(16),R=new Uint16Array(16);let I,k,M,L=null;for(f=0;f<=15;f++)T[f]=0;for(p=0;p<n;p++)T[e[i+p]]++;for(y=h,v=15;v>=1&&0===T[v];v--);if(y>v&&(y=v),0===v)return s[r++]=20971520,s[r++]=20971520,a.bits=1,0;for(m=1;m<v&&0===T[m];m++);for(y<m&&(y=m),S=1,f=1;f<=15;f++)if(S<<=1,S-=T[f],S<0)return-1;if(S>0&&(0===t||1!==v))return-1;for(R[1]=0,f=1;f<15;f++)R[f+1]=R[f]+T[f];for(p=0;p<n;p++)0!==e[i+p]&&(o[R[e[i+p]]++]=p);if(0===t?(b=L=o,_=20):1===t?(b=ce,L=de,_=257):(b=ue,L=ge,_=0),C=0,p=0,f=m,g=r,x=y,w=0,d=-1,E=1<<y,u=E-1,1===t&&E>852||2===t&&E>592)return 1;for(;;){I=f-w,o[p]+1<_?(k=0,M=o[p]):o[p]>=_?(k=L[o[p]-_],M=b[o[p]-_]):(k=96,M=0),l=1<<f-w,c=1<<x,m=c;do{c-=l,s[g+(C>>w)+c]=I<<24|k<<16|M|0}while(0!==c);for(l=1<<f-1;C&l;)l>>=1;if(0!==l?(C&=l-1,C+=l):C=0,p++,0==--T[f]){if(f===v)break;f=e[i+o[p]]}if(f>y&&(C&u)!==d){for(0===w&&(w=y),g+=m,x=f-w,S=1<<x;x+w<v&&(S-=T[x+w],!(S<=0));)x++,S<<=1;if(E+=1<<x,1===t&&E>852||2===t&&E>592)return 1;d=C&u,s[d]=y<<24|x<<16|g-r|0}}return 0!==C&&(s[g+C]=f-w<<24|64<<16|0),a.bits=y,0};const{Z_FINISH:fe,Z_BLOCK:pe,Z_TREES:me,Z_OK:ve,Z_STREAM_END:ye,Z_NEED_DICT:xe,Z_STREAM_ERROR:we,Z_DATA_ERROR:Se,Z_MEM_ERROR:Ee,Z_BUF_ERROR:Ce,Z_DEFLATED:be}=G,Te=16180,Re=16190,Ie=16191,ke=16192,Me=16194,Le=16199,Pe=16200,Oe=16206,Ae=16209,Ze=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Fe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const De=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Te||e.mode>16211?1:0},ze=t=>{if(De(t))return we;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Te,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ve},Ne=t=>{if(De(t))return we;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ze(t)},Ge=(t,e)=>{let i;if(De(t))return we;const n=t.state;return e<0?(i=0,e=-e):(i=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?we:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,Ne(t))},Be=(t,e)=>{if(!t)return we;const i=new Fe;t.state=i,i.strm=t,i.window=null,i.mode=Te;const n=Ge(t,e);return n!==ve&&(t.state=null),n};let We,Ue,Ye=!0;const Ve=t=>{if(Ye){We=new Int32Array(512),Ue=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(_e(1,t.lens,0,288,We,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;_e(2,t.lens,0,32,Ue,0,t.work,{bits:5}),Ye=!1}t.lencode=We,t.lenbits=9,t.distcode=Ue,t.distbits=5},Xe=(t,e,i,n)=>{let s;const r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(e.subarray(i-r.wsize,i),0),r.wnext=0,r.whave=r.wsize):(s=r.wsize-r.wnext,s>n&&(s=n),r.window.set(e.subarray(i-n,i-n+s),r.wnext),(n-=s)?(r.window.set(e.subarray(i-n,i),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=s,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=s))),0};var je={inflateReset:Ne,inflateReset2:Ge,inflateResetKeep:ze,inflateInit:t=>Be(t,15),inflateInit2:Be,inflate:(t,e)=>{let i,n,s,r,o,a,h,l,c,d,u,g,_,f,p,m,v,y,x,w,S,E,C=0;const b=new Uint8Array(4);let T,R;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(De(t)||!t.output||!t.input&&0!==t.avail_in)return we;i=t.state,i.mode===Ie&&(i.mode=ke),o=t.next_out,s=t.output,h=t.avail_out,r=t.next_in,n=t.input,a=t.avail_in,l=i.hold,c=i.bits,d=a,u=h,E=ve;t:for(;;)switch(i.mode){case Te:if(0===i.wrap){i.mode=ke;break}for(;c<16;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}if(2&i.wrap&&35615===l){0===i.wbits&&(i.wbits=15),i.check=0,b[0]=255&l,b[1]=l>>>8&255,i.check=z(i.check,b,2,0),l=0,c=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",i.mode=Ae;break}if((15&l)!==be){t.msg="unknown compression method",i.mode=Ae;break}if(l>>>=4,c-=4,S=8+(15&l),0===i.wbits&&(i.wbits=S),S>15||S>i.wbits){t.msg="invalid window size",i.mode=Ae;break}i.dmax=1<<i.wbits,i.flags=0,t.adler=i.check=1,i.mode=512&l?16189:Ie,l=0,c=0;break;case 16181:for(;c<16;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}if(i.flags=l,(255&i.flags)!==be){t.msg="unknown compression method",i.mode=Ae;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=Ae;break}i.head&&(i.head.text=l>>8&1),512&i.flags&&4&i.wrap&&(b[0]=255&l,b[1]=l>>>8&255,i.check=z(i.check,b,2,0)),l=0,c=0,i.mode=16182;case 16182:for(;c<32;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}i.head&&(i.head.time=l),512&i.flags&&4&i.wrap&&(b[0]=255&l,b[1]=l>>>8&255,b[2]=l>>>16&255,b[3]=l>>>24&255,i.check=z(i.check,b,4,0)),l=0,c=0,i.mode=16183;case 16183:for(;c<16;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}i.head&&(i.head.xflags=255&l,i.head.os=l>>8),512&i.flags&&4&i.wrap&&(b[0]=255&l,b[1]=l>>>8&255,i.check=z(i.check,b,2,0)),l=0,c=0,i.mode=16184;case 16184:if(1024&i.flags){for(;c<16;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}i.length=l,i.head&&(i.head.extra_len=l),512&i.flags&&4&i.wrap&&(b[0]=255&l,b[1]=l>>>8&255,i.check=z(i.check,b,2,0)),l=0,c=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(g=i.length,g>a&&(g=a),g&&(i.head&&(S=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(r,r+g),S)),512&i.flags&&4&i.wrap&&(i.check=z(i.check,n,g,r)),a-=g,r+=g,i.length-=g),i.length))break t;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===a)break t;g=0;do{S=n[r+g++],i.head&&S&&i.length<65536&&(i.head.name+=String.fromCharCode(S))}while(S&&g<a);if(512&i.flags&&4&i.wrap&&(i.check=z(i.check,n,g,r)),a-=g,r+=g,S)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===a)break t;g=0;do{S=n[r+g++],i.head&&S&&i.length<65536&&(i.head.comment+=String.fromCharCode(S))}while(S&&g<a);if(512&i.flags&&4&i.wrap&&(i.check=z(i.check,n,g,r)),a-=g,r+=g,S)break t}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;c<16;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}if(4&i.wrap&&l!==(65535&i.check)){t.msg="header crc mismatch",i.mode=Ae;break}l=0,c=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=Ie;break;case 16189:for(;c<32;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}t.adler=i.check=Ze(l),l=0,c=0,i.mode=Re;case Re:if(0===i.havedict)return t.next_out=o,t.avail_out=h,t.next_in=r,t.avail_in=a,i.hold=l,i.bits=c,xe;t.adler=i.check=1,i.mode=Ie;case Ie:if(e===pe||e===me)break t;case ke:if(i.last){l>>>=7&c,c-=7&c,i.mode=Oe;break}for(;c<3;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}switch(i.last=1&l,l>>>=1,c-=1,3&l){case 0:i.mode=16193;break;case 1:if(Ve(i),i.mode=Le,e===me){l>>>=2,c-=2;break t}break;case 2:i.mode=16196;break;case 3:t.msg="invalid block type",i.mode=Ae}l>>>=2,c-=2;break;case 16193:for(l>>>=7&c,c-=7&c;c<32;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",i.mode=Ae;break}if(i.length=65535&l,l=0,c=0,i.mode=Me,e===me)break t;case Me:i.mode=16195;case 16195:if(g=i.length,g){if(g>a&&(g=a),g>h&&(g=h),0===g)break t;s.set(n.subarray(r,r+g),o),a-=g,r+=g,h-=g,o+=g,i.length-=g;break}i.mode=Ie;break;case 16196:for(;c<14;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}if(i.nlen=257+(31&l),l>>>=5,c-=5,i.ndist=1+(31&l),l>>>=5,c-=5,i.ncode=4+(15&l),l>>>=4,c-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=Ae;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;c<3;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}i.lens[I[i.have++]]=7&l,l>>>=3,c-=3}for(;i.have<19;)i.lens[I[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,T={bits:i.lenbits},E=_e(0,i.lens,0,19,i.lencode,0,i.work,T),i.lenbits=T.bits,E){t.msg="invalid code lengths set",i.mode=Ae;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;C=i.lencode[l&(1<<i.lenbits)-1],p=C>>>24,m=C>>>16&255,v=65535&C,!(p<=c);){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}if(v<16)l>>>=p,c-=p,i.lens[i.have++]=v;else{if(16===v){for(R=p+2;c<R;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}if(l>>>=p,c-=p,0===i.have){t.msg="invalid bit length repeat",i.mode=Ae;break}S=i.lens[i.have-1],g=3+(3&l),l>>>=2,c-=2}else if(17===v){for(R=p+3;c<R;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}l>>>=p,c-=p,S=0,g=3+(7&l),l>>>=3,c-=3}else{for(R=p+7;c<R;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}l>>>=p,c-=p,S=0,g=11+(127&l),l>>>=7,c-=7}if(i.have+g>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=Ae;break}for(;g--;)i.lens[i.have++]=S}}if(i.mode===Ae)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=Ae;break}if(i.lenbits=9,T={bits:i.lenbits},E=_e(1,i.lens,0,i.nlen,i.lencode,0,i.work,T),i.lenbits=T.bits,E){t.msg="invalid literal/lengths set",i.mode=Ae;break}if(i.distbits=6,i.distcode=i.distdyn,T={bits:i.distbits},E=_e(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,T),i.distbits=T.bits,E){t.msg="invalid distances set",i.mode=Ae;break}if(i.mode=Le,e===me)break t;case Le:i.mode=Pe;case Pe:if(a>=6&&h>=258){t.next_out=o,t.avail_out=h,t.next_in=r,t.avail_in=a,i.hold=l,i.bits=c,le(t,u),o=t.next_out,s=t.output,h=t.avail_out,r=t.next_in,n=t.input,a=t.avail_in,l=i.hold,c=i.bits,i.mode===Ie&&(i.back=-1);break}for(i.back=0;C=i.lencode[l&(1<<i.lenbits)-1],p=C>>>24,m=C>>>16&255,v=65535&C,!(p<=c);){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}if(m&&0==(240&m)){for(y=p,x=m,w=v;C=i.lencode[w+((l&(1<<y+x)-1)>>y)],p=C>>>24,m=C>>>16&255,v=65535&C,!(y+p<=c);){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}l>>>=y,c-=y,i.back+=y}if(l>>>=p,c-=p,i.back+=p,i.length=v,0===m){i.mode=16205;break}if(32&m){i.back=-1,i.mode=Ie;break}if(64&m){t.msg="invalid literal/length code",i.mode=Ae;break}i.extra=15&m,i.mode=16201;case 16201:if(i.extra){for(R=i.extra;c<R;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}i.length+=l&(1<<i.extra)-1,l>>>=i.extra,c-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;C=i.distcode[l&(1<<i.distbits)-1],p=C>>>24,m=C>>>16&255,v=65535&C,!(p<=c);){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}if(0==(240&m)){for(y=p,x=m,w=v;C=i.distcode[w+((l&(1<<y+x)-1)>>y)],p=C>>>24,m=C>>>16&255,v=65535&C,!(y+p<=c);){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}l>>>=y,c-=y,i.back+=y}if(l>>>=p,c-=p,i.back+=p,64&m){t.msg="invalid distance code",i.mode=Ae;break}i.offset=v,i.extra=15&m,i.mode=16203;case 16203:if(i.extra){for(R=i.extra;c<R;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}i.offset+=l&(1<<i.extra)-1,l>>>=i.extra,c-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=Ae;break}i.mode=16204;case 16204:if(0===h)break t;if(g=u-h,i.offset>g){if(g=i.offset-g,g>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=Ae;break}g>i.wnext?(g-=i.wnext,_=i.wsize-g):_=i.wnext-g,g>i.length&&(g=i.length),f=i.window}else f=s,_=o-i.offset,g=i.length;g>h&&(g=h),h-=g,i.length-=g;do{s[o++]=f[_++]}while(--g);0===i.length&&(i.mode=Pe);break;case 16205:if(0===h)break t;s[o++]=i.length,h--,i.mode=Pe;break;case Oe:if(i.wrap){for(;c<32;){if(0===a)break t;a--,l|=n[r++]<<c,c+=8}if(u-=h,t.total_out+=u,i.total+=u,4&i.wrap&&u&&(t.adler=i.check=i.flags?z(i.check,s,u,o-u):F(i.check,s,u,o-u)),u=h,4&i.wrap&&(i.flags?l:Ze(l))!==i.check){t.msg="incorrect data check",i.mode=Ae;break}l=0,c=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;c<32;){if(0===a)break t;a--,l+=n[r++]<<c,c+=8}if(4&i.wrap&&l!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=Ae;break}l=0,c=0}i.mode=16208;case 16208:E=ye;break t;case Ae:E=Se;break t;case 16210:return Ee;default:return we}return t.next_out=o,t.avail_out=h,t.next_in=r,t.avail_in=a,i.hold=l,i.bits=c,(i.wsize||u!==t.avail_out&&i.mode<Ae&&(i.mode<Oe||e!==fe))&&Xe(t,t.output,t.next_out,u-t.avail_out),d-=t.avail_in,u-=t.avail_out,t.total_in+=d,t.total_out+=u,i.total+=u,4&i.wrap&&u&&(t.adler=i.check=i.flags?z(i.check,s,u,t.next_out-u):F(i.check,s,u,t.next_out-u)),t.data_type=i.bits+(i.last?64:0)+(i.mode===Ie?128:0)+(i.mode===Le||i.mode===Me?256:0),(0===d&&0===u||e===fe)&&E===ve&&(E=Ce),E},inflateEnd:t=>{if(De(t))return we;let e=t.state;return e.window&&(e.window=null),t.state=null,ve},inflateGetHeader:(t,e)=>{if(De(t))return we;const i=t.state;return 0==(2&i.wrap)?we:(i.head=e,e.done=!1,ve)},inflateSetDictionary:(t,e)=>{const i=e.length;let n,s,r;return De(t)?we:(n=t.state,0!==n.wrap&&n.mode!==Re?we:n.mode===Re&&(s=1,s=F(s,e,i,0),s!==n.check)?Se:(r=Xe(t,e,i,i),r?(n.mode=16210,Ee):(n.havedict=1,ve)))},inflateInfo:"pako inflate (from Nodeca project)"},Ke=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const He=Object.prototype.toString,{Z_NO_FLUSH:qe,Z_FINISH:Je,Z_OK:$e,Z_STREAM_END:Qe,Z_NEED_DICT:ti,Z_STREAM_ERROR:ei,Z_DATA_ERROR:ii,Z_MEM_ERROR:ni}=G;function si(t){this.options=Yt.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kt,this.strm.avail_out=0;let i=je.inflateInit2(this.strm,e.windowBits);if(i!==$e)throw new Error(N[i]);if(this.header=new Ke,je.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=jt.string2buf(e.dictionary):"[object ArrayBuffer]"===He.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=je.inflateSetDictionary(this.strm,e.dictionary),i!==$e)))throw new Error(N[i])}function ri(t,e){const i=new si(e);if(i.push(t),i.err)throw i.msg||N[i.err];return i.result}si.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let r,o,a;if(this.ended)return!1;for(o=e===~~e?e:!0===e?Je:qe,"[object ArrayBuffer]"===He.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),r=je.inflate(i,o),r===ti&&s&&(r=je.inflateSetDictionary(i,s),r===$e?r=je.inflate(i,o):r===ii&&(r=ti));i.avail_in>0&&r===Qe&&i.state.wrap>0&&0!==t[i.next_in];)je.inflateReset(i),r=je.inflate(i,o);switch(r){case ei:case ii:case ti:case ni:return this.onEnd(r),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||r===Qe))if("string"===this.options.to){let t=jt.utf8border(i.output,i.next_out),e=i.next_out-t,s=jt.buf2string(i.output,t);i.next_out=e,i.avail_out=n-e,e&&i.output.set(i.output.subarray(t,t+e),0),this.onData(s)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(r!==$e||0!==a){if(r===Qe)return r=je.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},si.prototype.onData=function(t){this.chunks.push(t)},si.prototype.onEnd=function(t){t===$e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Yt.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var oi={Inflate:si,inflate:ri,inflateRaw:function(t,e){return(e=e||{}).raw=!0,ri(t,e)},ungzip:ri,constants:G};const{Deflate:ai,deflate:hi,deflateRaw:li,gzip:ci}=ae,{Inflate:di,inflate:ui,inflateRaw:gi,ungzip:_i}=oi;var fi=_i}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQVd4NUcsS0FBSzhrRyxNQUNyQzlrRyxLQUFLa3pHLE1BQU1wZixHQUNYOXpGLEtBQUsweUcsT0FBUSxHQUNOLEVBR1QsR0FBc0IsSUFBbEI1TixFQUFLb0csU0FBZ0IsS0FWNEIsQ0FXdkQsQ0FFQSxPQUFPLENBQ1QsRUFXQTRPLEdBQVUzNUcsVUFBVTh5RyxPQUFTLFNBQVVwQyxHQUNyQzd3RyxLQUFLcWpFLE9BQU9wOUQsS0FBSzRxRyxFQUNuQixFQVlBaUosR0FBVTM1RyxVQUFVK3lHLE1BQVEsU0FBVXBmLEdBRWhDQSxJQUFXbVQsS0FDVyxXQUFwQmpuRyxLQUFLNlYsUUFBUWtrRyxHQUNmLzVHLEtBQUs0SCxPQUFTNUgsS0FBS3FqRSxPQUFPenRCLEtBQUssSUFFL0I1MUMsS0FBSzRILE9BQVM4b0csR0FBT0UsY0FBYzV3RyxLQUFLcWpFLFNBRzVDcmpFLEtBQUtxakUsT0FBUyxHQUNkcmpFLEtBQUs2aEYsSUFBTWlTLEVBQ1g5ekYsS0FBSzZwRyxJQUFNN3BHLEtBQUs4a0csS0FBSytFLEdBQ3ZCLEVBK0VBLElBTUl5USxHQUFjLENBQ2pCQyxRQVBpQlQsR0FRakJ4NUQsUUFQZTA1RCxHQVFmUSxXQTFCRCxTQUFzQmpoQyxFQUFPMWpFLEdBRzNCLE9BRkFBLEVBQVVBLEdBQVcsQ0FBQyxHQUNkMjhGLEtBQU0sRUFDUHdILEdBQVV6Z0MsRUFBTzFqRSxFQUMxQixFQXVCQzRrRyxPQVBjVCxHQVFkMUcsVUFQZTdNLEdBVWhCLE1BQU0sUUFBRTJNLEdBQU8sUUFBRS9ELEdBQU8sV0FBRWdFLEdBQVUsS0FBRVosSUFBU1UsSUFFekMsUUFBRW9ILEdBQU8sUUFBRWo2RCxHQUFPLFdBQUVrNkQsR0FBVSxPQUFFQyxJQUFXSCxHQUlqRCxJQU9JSSxHQUFXRCIsInNvdXJjZXMiOlsid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvQG1hcGJveC9wb2ludC1nZW9tZXRyeS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvdmVjdG9yLXRpbGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9AbWFwYm94L3ZlY3Rvci10aWxlL2xpYi92ZWN0b3J0aWxlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvQG1hcGJveC92ZWN0b3ItdGlsZS9saWIvdmVjdG9ydGlsZWZlYXR1cmUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9AbWFwYm94L3ZlY3Rvci10aWxlL2xpYi92ZWN0b3J0aWxlbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvcGJmL2luZGV4LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvcmJ1c2gvcmJ1c2gubWluLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvQXNzZXJ0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9EaXNwb3NhYmxlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9JbWFnZVN0YXRlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvSW1hZ2VUaWxlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL0NvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9NYXAuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9Db21wb3NpdGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9Hcm91cC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL01hcEV2ZW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3BvaW50ZXIvRXZlbnRUeXBlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50SGFuZGxlci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL01hcEV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL01hcFByb3BlcnR5LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3RydWN0cy9Qcmlvcml0eVF1ZXVlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZVF1ZXVlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9Db250cm9sLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9BdHRyaWJ1dGlvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2NvbnRyb2wvUm90YXRlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9ab29tLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RvdWJsZUNsaWNrWm9vbS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL1BvaW50ZXIuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvY29uZGl0aW9uLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhZ1Bhbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdSb3RhdGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvQm94LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhZ0JveC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdab29tLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW4uanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvS2V5Q29kZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL01vdXNlV2hlZWxab29tLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vUGluY2hSb3RhdGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9QaW5jaFpvb20uanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9NYXAuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sL2RlZmF1bHRzLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9LaW5ldGljLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvT2JqZWN0LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvT2JqZWN0RXZlbnRUeXBlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL1RpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zdHJ1Y3RzL0xSVUNhY2hlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZUNhY2hlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZVJhbmdlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZVN0YXRlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVmlld1Byb3BlcnR5LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY2VudGVyY29uc3RyYWludC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3Jlc29sdXRpb25jb25zdHJhaW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVmlldy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL1ZpZXdIaW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvYXJyYXkuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9hc3NlcnRzLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY29sb3IuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9jb2xvcmxpa2UuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9jb25zb2xlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY29vcmRpbmF0ZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2Nzcy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2RvbS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2Vhc2luZy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy9FdmVudC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy9FdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvVGFyZ2V0LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZXh0ZW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZXh0ZW50L1JlbGF0aW9uc2hpcC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2Zvcm1hdC9GZWF0dXJlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZnVuY3Rpb25zLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2Nsb3Nlc3QuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvZGVmbGF0ZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9hcmVhLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9MaW5lYXJSaW5nLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9Qb2ludC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9yZXZlcnNlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L29yaWVudC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vUG9seWdvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vR2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2NvbnRhaW5zLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2luZmxhdGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvaW50ZXJpb3Jwb2ludC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9pbnRlcnNlY3RzZXh0ZW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3NlZ21lbnRzLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3NpbXBsaWZ5LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2hhcy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL0Jhc2UuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9MYXllci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1Byb3BlcnR5LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvQmFzZVRpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9UaWxlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvVGlsZVByb3BlcnR5LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSWNvbkltYWdlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSWNvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL2ZsYXQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9CYXNlVmVjdG9yLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9JbnN0cnVjdGlvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9WZWN0b3JDb250ZXh0LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9CdWlsZGVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9Qb2x5Z29uQnVpbGRlci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9zdHJhaWdodGNodW5rLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9UZXh0QnVpbGRlci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9JbWFnZUJ1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0xpbmVTdHJpbmdCdWlsZGVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3RleHRwYXRoLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2xlbmd0aC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvRXhlY3V0b3IuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXAuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0ltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvaGl0ZGV0ZWN0LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvdmVjdG9yLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL1ZlY3RvclRpbGVMYXllci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1ZlY3RvclRpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9tYXRoLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvb2JqLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcHJvai9lcHNnMzg1Ny5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovZXBzZzQzMjYuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9wcm9qL3Byb2plY3Rpb25zLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcHJvai90cmFuc2Zvcm1zLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3BoZXJlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcHJvai5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovUHJvamVjdGlvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovVW5pdHMuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvRXZlbnQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvRXZlbnRUeXBlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2ludGVycG9sYXRlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL0ZlYXR1cmUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvY2VudGVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL0xheWVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL0xheWVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL1RpbGVMYXllci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlcHJvai5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlcHJvai9UaWxlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlcHJvai9Ucmlhbmd1bGF0aW9uLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcm90YXRpb25jb25zdHJhaW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc2l6ZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9UaWxlRGVidWcuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvU291cmNlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1RpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC90aWxldXJsZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVXJsVGlsZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9UaWxlRXZlbnRUeXBlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVmVjdG9yVGlsZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL1ZlY3RvclJlbmRlclRpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9mZWF0dXJlbG9hZGVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1ZlY3RvclRpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVGlsZUltYWdlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1hZWi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0NpcmNsZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ZpbGwuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9JY29uSW1hZ2VDYWNoZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ltYWdlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvUmVndWxhclNoYXBlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvU3Ryb2tlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvU3R5bGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9UZXh0LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWNvb3JkLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC90aWxlZ3JpZC9UaWxlR3JpZC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3RpbGVncmlkL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3V0aWwuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9wYWtvL2Rpc3QvcGFrby5lc20ubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBQb2ludDtcblxuLyoqXG4gKiBBIHN0YW5kYWxvbmUgcG9pbnQgZ2VvbWV0cnkgd2l0aCB1c2VmdWwgYWNjZXNzb3IsIGNvbXBhcmlzb24sIGFuZFxuICogbW9kaWZpY2F0aW9uIG1ldGhvZHMuXG4gKlxuICogQGNsYXNzIFBvaW50XG4gKiBAcGFyYW0ge051bWJlcn0geCB0aGUgeC1jb29yZGluYXRlLiB0aGlzIGNvdWxkIGJlIGxvbmdpdHVkZSBvciBzY3JlZW5cbiAqIHBpeGVscywgb3IgYW55IG90aGVyIHNvcnQgb2YgdW5pdC5cbiAqIEBwYXJhbSB7TnVtYmVyfSB5IHRoZSB5LWNvb3JkaW5hdGUuIHRoaXMgY291bGQgYmUgbGF0aXR1ZGUgb3Igc2NyZWVuXG4gKiBwaXhlbHMsIG9yIGFueSBvdGhlciBzb3J0IG9mIHVuaXQuXG4gKiBAZXhhbXBsZVxuICogdmFyIHBvaW50ID0gbmV3IFBvaW50KC03NywgMzgpO1xuICovXG5mdW5jdGlvbiBQb2ludCh4LCB5KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xufVxuXG5Qb2ludC5wcm90b3R5cGUgPSB7XG5cbiAgICAvKipcbiAgICAgKiBDbG9uZSB0aGlzIHBvaW50LCByZXR1cm5pbmcgYSBuZXcgcG9pbnQgdGhhdCBjYW4gYmUgbW9kaWZpZWRcbiAgICAgKiB3aXRob3V0IGFmZmVjdGluZyB0aGUgb2xkIG9uZS5cbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gdGhlIGNsb25lXG4gICAgICovXG4gICAgY2xvbmU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTsgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZCB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgdG8gYW5vdGhlciBwb2ludCxcbiAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBhZGQ6ICAgICBmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX2FkZChwKTsgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyB0byBmcm9tIHBvaW50LFxuICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIHN1YjogICAgIGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKHApOyB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIGJ5IHBvaW50LFxuICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIG11bHRCeVBvaW50OiAgICBmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX211bHRCeVBvaW50KHApOyB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlIHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyBieSBwb2ludCxcbiAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBkaXZCeVBvaW50OiAgICAgZnVuY3Rpb24ocCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZCeVBvaW50KHApOyB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIGJ5IGEgZmFjdG9yLFxuICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IGsgZmFjdG9yXG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIG11bHQ6ICAgIGZ1bmN0aW9uKGspIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdChrKTsgfSxcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgYSBmYWN0b3IsXG4gICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtQb2ludH0gayBmYWN0b3JcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgZGl2OiAgICAgZnVuY3Rpb24oaykgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXYoayk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgdGhpcyBwb2ludCBhcm91bmQgdGhlIDAsIDAgb3JpZ2luIGJ5IGFuIGFuZ2xlIGEsXG4gICAgICogZ2l2ZW4gaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIGFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQsIGluIHJhZGlhbnNcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgcm90YXRlOiAgZnVuY3Rpb24oYSkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGUoYSk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgdGhpcyBwb2ludCBhcm91bmQgcCBwb2ludCBieSBhbiBhbmdsZSBhLFxuICAgICAqIGdpdmVuIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYSBhbmdsZSB0byByb3RhdGUgYXJvdW5kLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCBQb2ludCB0byByb3RhdGUgYXJvdW5kXG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIHJvdGF0ZUFyb3VuZDogIGZ1bmN0aW9uKGEscCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGVBcm91bmQoYSxwKTsgfSxcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoaXMgcG9pbnQgYnkgYSA0eDEgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBtIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBtYXRNdWx0OiBmdW5jdGlvbihtKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX21hdE11bHQobSk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhpcyBwb2ludCBidXQgYXMgYSB1bml0IHZlY3RvciBmcm9tIDAsIDAsIG1lYW5pbmdcbiAgICAgKiB0aGF0IHRoZSBkaXN0YW5jZSBmcm9tIHRoZSByZXN1bHRpbmcgcG9pbnQgdG8gdGhlIDAsIDBcbiAgICAgKiBjb29yZGluYXRlIHdpbGwgYmUgZXF1YWwgdG8gMSBhbmQgdGhlIGFuZ2xlIGZyb20gdGhlIHJlc3VsdGluZ1xuICAgICAqIHBvaW50IHRvIHRoZSAwLCAwIGNvb3JkaW5hdGUgd2lsbCBiZSB0aGUgc2FtZSBhcyBiZWZvcmUuXG4gICAgICogQHJldHVybiB7UG9pbnR9IHVuaXQgdmVjdG9yIHBvaW50XG4gICAgICovXG4gICAgdW5pdDogICAgZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3VuaXQoKTsgfSxcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgYSBwZXJwZW5kaWN1bGFyIHBvaW50LCB3aGVyZSB0aGUgbmV3IHkgY29vcmRpbmF0ZVxuICAgICAqIGlzIHRoZSBvbGQgeCBjb29yZGluYXRlIGFuZCB0aGUgbmV3IHggY29vcmRpbmF0ZSBpcyB0aGUgb2xkIHlcbiAgICAgKiBjb29yZGluYXRlIG11bHRpcGxpZWQgYnkgLTFcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gcGVycGVuZGljdWxhciBwb2ludFxuICAgICAqL1xuICAgIHBlcnA6ICAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9wZXJwKCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSB2ZXJzaW9uIG9mIHRoaXMgcG9pbnQgd2l0aCB0aGUgeCAmIHkgY29vcmRpbmF0ZXNcbiAgICAgKiByb3VuZGVkIHRvIGludGVnZXJzLlxuICAgICAqIEByZXR1cm4ge1BvaW50fSByb3VuZGVkIHBvaW50XG4gICAgICovXG4gICAgcm91bmQ6ICAgZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG1hZ2l0dWRlIG9mIHRoaXMgcG9pbnQ6IHRoaXMgaXMgdGhlIEV1Y2xpZGVhblxuICAgICAqIGRpc3RhbmNlIGZyb20gdGhlIDAsIDAgY29vcmRpbmF0ZSB0byB0aGlzIHBvaW50J3MgeCBhbmQgeVxuICAgICAqIGNvb3JkaW5hdGVzLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gbWFnbml0dWRlXG4gICAgICovXG4gICAgbWFnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBKdWRnZSB3aGV0aGVyIHRoaXMgcG9pbnQgaXMgZXF1YWwgdG8gYW5vdGhlciBwb2ludCwgcmV0dXJuaW5nXG4gICAgICogdHJ1ZSBvciBmYWxzZS5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBvdGhlciB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZSBwb2ludHMgYXJlIGVxdWFsXG4gICAgICovXG4gICAgZXF1YWxzOiBmdW5jdGlvbihvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlci54ICYmXG4gICAgICAgICAgICAgICB0aGlzLnkgPT09IG90aGVyLnk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnRcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAgICAgKi9cbiAgICBkaXN0OiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0U3FyKHApKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludCxcbiAgICAgKiB3aXRob3V0IHRoZSBzcXVhcmUgcm9vdCBzdGVwLiBVc2VmdWwgaWYgeW91J3JlIGNvbXBhcmluZ1xuICAgICAqIHJlbGF0aXZlIGRpc3RhbmNlcy5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAgICAgKi9cbiAgICBkaXN0U3FyOiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHZhciBkeCA9IHAueCAtIHRoaXMueCxcbiAgICAgICAgICAgIGR5ID0gcC55IC0gdGhpcy55O1xuICAgICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW5nbGUgZnJvbSB0aGUgMCwgMCBjb29yZGluYXRlIHRvIHRoaXMgcG9pbnQsIGluIHJhZGlhbnNcbiAgICAgKiBjb29yZGluYXRlcy5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG4gICAgICovXG4gICAgYW5nbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksIHRoaXMueCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW5nbGUgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnQsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBiIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAgICAgKi9cbiAgICBhbmdsZVRvOiBmdW5jdGlvbihiKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMueSAtIGIueSwgdGhpcy54IC0gYi54KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHRoaXMgcG9pbnQgYW5kIGFub3RoZXIgcG9pbnQsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBiIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAgICAgKi9cbiAgICBhbmdsZVdpdGg6IGZ1bmN0aW9uKGIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5nbGVXaXRoU2VwKGIueCwgYi55KTtcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBGaW5kIHRoZSBhbmdsZSBvZiB0aGUgdHdvIHZlY3RvcnMsIHNvbHZpbmcgdGhlIGZvcm11bGEgZm9yXG4gICAgICogdGhlIGNyb3NzIHByb2R1Y3QgYSB4IGIgPSB8YXx8YnxzaW4ozrgpIGZvciDOuC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCB0aGUgeC1jb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgdGhlIHktY29vcmRpbmF0ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gdGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAgICAgKi9cbiAgICBhbmdsZVdpdGhTZXA6IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIoXG4gICAgICAgICAgICB0aGlzLnggKiB5IC0gdGhpcy55ICogeCxcbiAgICAgICAgICAgIHRoaXMueCAqIHggKyB0aGlzLnkgKiB5KTtcbiAgICB9LFxuXG4gICAgX21hdE11bHQ6IGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgdmFyIHggPSBtWzBdICogdGhpcy54ICsgbVsxXSAqIHRoaXMueSxcbiAgICAgICAgICAgIHkgPSBtWzJdICogdGhpcy54ICsgbVszXSAqIHRoaXMueTtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9hZGQ6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdGhpcy54ICs9IHAueDtcbiAgICAgICAgdGhpcy55ICs9IHAueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9zdWI6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdGhpcy54IC09IHAueDtcbiAgICAgICAgdGhpcy55IC09IHAueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9tdWx0OiBmdW5jdGlvbihrKSB7XG4gICAgICAgIHRoaXMueCAqPSBrO1xuICAgICAgICB0aGlzLnkgKj0gaztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9kaXY6IGZ1bmN0aW9uKGspIHtcbiAgICAgICAgdGhpcy54IC89IGs7XG4gICAgICAgIHRoaXMueSAvPSBrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX211bHRCeVBvaW50OiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHRoaXMueCAqPSBwLng7XG4gICAgICAgIHRoaXMueSAqPSBwLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfZGl2QnlQb2ludDogZnVuY3Rpb24ocCkge1xuICAgICAgICB0aGlzLnggLz0gcC54O1xuICAgICAgICB0aGlzLnkgLz0gcC55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3VuaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9kaXYodGhpcy5tYWcoKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfcGVycDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB5ID0gdGhpcy55O1xuICAgICAgICB0aGlzLnkgPSB0aGlzLng7XG4gICAgICAgIHRoaXMueCA9IC15O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3JvdGF0ZTogZnVuY3Rpb24oYW5nbGUpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICAgIHNpbiA9IE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgICAgIHggPSBjb3MgKiB0aGlzLnggLSBzaW4gKiB0aGlzLnksXG4gICAgICAgICAgICB5ID0gc2luICogdGhpcy54ICsgY29zICogdGhpcy55O1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3JvdGF0ZUFyb3VuZDogZnVuY3Rpb24oYW5nbGUsIHApIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICAgIHNpbiA9IE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgICAgIHggPSBwLnggKyBjb3MgKiAodGhpcy54IC0gcC54KSAtIHNpbiAqICh0aGlzLnkgLSBwLnkpLFxuICAgICAgICAgICAgeSA9IHAueSArIHNpbiAqICh0aGlzLnggLSBwLngpICsgY29zICogKHRoaXMueSAtIHAueSk7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfcm91bmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnggPSBNYXRoLnJvdW5kKHRoaXMueCk7XG4gICAgICAgIHRoaXMueSA9IE1hdGgucm91bmQodGhpcy55KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDb25zdHJ1Y3QgYSBwb2ludCBmcm9tIGFuIGFycmF5IGlmIG5lY2Vzc2FyeSwgb3RoZXJ3aXNlIGlmIHRoZSBpbnB1dFxuICogaXMgYWxyZWFkeSBhIFBvaW50LCBvciBhbiB1bmtub3duIHR5cGUsIHJldHVybiBpdCB1bmNoYW5nZWRcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPnxQb2ludHwqfSBhIGFueSBraW5kIG9mIGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtQb2ludH0gY29uc3RydWN0ZWQgcG9pbnQsIG9yIHBhc3NlZC10aHJvdWdoIHZhbHVlLlxuICogQGV4YW1wbGVcbiAqIC8vIHRoaXNcbiAqIHZhciBwb2ludCA9IFBvaW50LmNvbnZlcnQoWzAsIDFdKTtcbiAqIC8vIGlzIGVxdWl2YWxlbnQgdG9cbiAqIHZhciBwb2ludCA9IG5ldyBQb2ludCgwLCAxKTtcbiAqL1xuUG9pbnQuY29udmVydCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgaWYgKGEgaW5zdGFuY2VvZiBQb2ludCkge1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChhWzBdLCBhWzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIGE7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMuVmVjdG9yVGlsZSA9IHJlcXVpcmUoJy4vbGliL3ZlY3RvcnRpbGUuanMnKTtcbm1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGVGZWF0dXJlID0gcmVxdWlyZSgnLi9saWIvdmVjdG9ydGlsZWZlYXR1cmUuanMnKTtcbm1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGVMYXllciA9IHJlcXVpcmUoJy4vbGliL3ZlY3RvcnRpbGVsYXllci5qcycpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVmVjdG9yVGlsZUxheWVyID0gcmVxdWlyZSgnLi92ZWN0b3J0aWxlbGF5ZXInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBWZWN0b3JUaWxlO1xuXG5mdW5jdGlvbiBWZWN0b3JUaWxlKHBiZiwgZW5kKSB7XG4gICAgdGhpcy5sYXllcnMgPSBwYmYucmVhZEZpZWxkcyhyZWFkVGlsZSwge30sIGVuZCk7XG59XG5cbmZ1bmN0aW9uIHJlYWRUaWxlKHRhZywgbGF5ZXJzLCBwYmYpIHtcbiAgICBpZiAodGFnID09PSAzKSB7XG4gICAgICAgIHZhciBsYXllciA9IG5ldyBWZWN0b3JUaWxlTGF5ZXIocGJmLCBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyk7XG4gICAgICAgIGlmIChsYXllci5sZW5ndGgpIGxheWVyc1tsYXllci5uYW1lXSA9IGxheWVyO1xuICAgIH1cbn1cblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUG9pbnQgPSByZXF1aXJlKCdAbWFwYm94L3BvaW50LWdlb21ldHJ5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmVjdG9yVGlsZUZlYXR1cmU7XG5cbmZ1bmN0aW9uIFZlY3RvclRpbGVGZWF0dXJlKHBiZiwgZW5kLCBleHRlbnQsIGtleXMsIHZhbHVlcykge1xuICAgIC8vIFB1YmxpY1xuICAgIHRoaXMucHJvcGVydGllcyA9IHt9O1xuICAgIHRoaXMuZXh0ZW50ID0gZXh0ZW50O1xuICAgIHRoaXMudHlwZSA9IDA7XG5cbiAgICAvLyBQcml2YXRlXG4gICAgdGhpcy5fcGJmID0gcGJmO1xuICAgIHRoaXMuX2dlb21ldHJ5ID0gLTE7XG4gICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuXG4gICAgcGJmLnJlYWRGaWVsZHMocmVhZEZlYXR1cmUsIHRoaXMsIGVuZCk7XG59XG5cbmZ1bmN0aW9uIHJlYWRGZWF0dXJlKHRhZywgZmVhdHVyZSwgcGJmKSB7XG4gICAgaWYgKHRhZyA9PSAxKSBmZWF0dXJlLmlkID0gcGJmLnJlYWRWYXJpbnQoKTtcbiAgICBlbHNlIGlmICh0YWcgPT0gMikgcmVhZFRhZyhwYmYsIGZlYXR1cmUpO1xuICAgIGVsc2UgaWYgKHRhZyA9PSAzKSBmZWF0dXJlLnR5cGUgPSBwYmYucmVhZFZhcmludCgpO1xuICAgIGVsc2UgaWYgKHRhZyA9PSA0KSBmZWF0dXJlLl9nZW9tZXRyeSA9IHBiZi5wb3M7XG59XG5cbmZ1bmN0aW9uIHJlYWRUYWcocGJmLCBmZWF0dXJlKSB7XG4gICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zO1xuXG4gICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHtcbiAgICAgICAgdmFyIGtleSA9IGZlYXR1cmUuX2tleXNbcGJmLnJlYWRWYXJpbnQoKV0sXG4gICAgICAgICAgICB2YWx1ZSA9IGZlYXR1cmUuX3ZhbHVlc1twYmYucmVhZFZhcmludCgpXTtcbiAgICAgICAgZmVhdHVyZS5wcm9wZXJ0aWVzW2tleV0gPSB2YWx1ZTtcbiAgICB9XG59XG5cblZlY3RvclRpbGVGZWF0dXJlLnR5cGVzID0gWydVbmtub3duJywgJ1BvaW50JywgJ0xpbmVTdHJpbmcnLCAnUG9seWdvbiddO1xuXG5WZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUubG9hZEdlb21ldHJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBiZiA9IHRoaXMuX3BiZjtcbiAgICBwYmYucG9zID0gdGhpcy5fZ2VvbWV0cnk7XG5cbiAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MsXG4gICAgICAgIGNtZCA9IDEsXG4gICAgICAgIGxlbmd0aCA9IDAsXG4gICAgICAgIHggPSAwLFxuICAgICAgICB5ID0gMCxcbiAgICAgICAgbGluZXMgPSBbXSxcbiAgICAgICAgbGluZTtcblxuICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG4gICAgICAgIGlmIChsZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgdmFyIGNtZExlbiA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgICAgICAgICBjbWQgPSBjbWRMZW4gJiAweDc7XG4gICAgICAgICAgICBsZW5ndGggPSBjbWRMZW4gPj4gMztcbiAgICAgICAgfVxuXG4gICAgICAgIGxlbmd0aC0tO1xuXG4gICAgICAgIGlmIChjbWQgPT09IDEgfHwgY21kID09PSAyKSB7XG4gICAgICAgICAgICB4ICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuICAgICAgICAgICAgeSArPSBwYmYucmVhZFNWYXJpbnQoKTtcblxuICAgICAgICAgICAgaWYgKGNtZCA9PT0gMSkgeyAvLyBtb3ZlVG9cbiAgICAgICAgICAgICAgICBpZiAobGluZSkgbGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgICAgICAgICBsaW5lID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmUucHVzaChuZXcgUG9pbnQoeCwgeSkpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY21kID09PSA3KSB7XG5cbiAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwbmlrLXZlY3Rvci10aWxlL2lzc3Vlcy85MFxuICAgICAgICAgICAgaWYgKGxpbmUpIHtcbiAgICAgICAgICAgICAgICBsaW5lLnB1c2gobGluZVswXS5jbG9uZSgpKTsgLy8gY2xvc2VQb2x5Z29uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBjb21tYW5kICcgKyBjbWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGxpbmUpIGxpbmVzLnB1c2gobGluZSk7XG5cbiAgICByZXR1cm4gbGluZXM7XG59O1xuXG5WZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUuYmJveCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYmYgPSB0aGlzLl9wYmY7XG4gICAgcGJmLnBvcyA9IHRoaXMuX2dlb21ldHJ5O1xuXG4gICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zLFxuICAgICAgICBjbWQgPSAxLFxuICAgICAgICBsZW5ndGggPSAwLFxuICAgICAgICB4ID0gMCxcbiAgICAgICAgeSA9IDAsXG4gICAgICAgIHgxID0gSW5maW5pdHksXG4gICAgICAgIHgyID0gLUluZmluaXR5LFxuICAgICAgICB5MSA9IEluZmluaXR5LFxuICAgICAgICB5MiA9IC1JbmZpbml0eTtcblxuICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG4gICAgICAgIGlmIChsZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgdmFyIGNtZExlbiA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgICAgICAgICBjbWQgPSBjbWRMZW4gJiAweDc7XG4gICAgICAgICAgICBsZW5ndGggPSBjbWRMZW4gPj4gMztcbiAgICAgICAgfVxuXG4gICAgICAgIGxlbmd0aC0tO1xuXG4gICAgICAgIGlmIChjbWQgPT09IDEgfHwgY21kID09PSAyKSB7XG4gICAgICAgICAgICB4ICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuICAgICAgICAgICAgeSArPSBwYmYucmVhZFNWYXJpbnQoKTtcbiAgICAgICAgICAgIGlmICh4IDwgeDEpIHgxID0geDtcbiAgICAgICAgICAgIGlmICh4ID4geDIpIHgyID0geDtcbiAgICAgICAgICAgIGlmICh5IDwgeTEpIHkxID0geTtcbiAgICAgICAgICAgIGlmICh5ID4geTIpIHkyID0geTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNtZCAhPT0gNykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGNvbW1hbmQgJyArIGNtZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gW3gxLCB5MSwgeDIsIHkyXTtcbn07XG5cblZlY3RvclRpbGVGZWF0dXJlLnByb3RvdHlwZS50b0dlb0pTT04gPSBmdW5jdGlvbih4LCB5LCB6KSB7XG4gICAgdmFyIHNpemUgPSB0aGlzLmV4dGVudCAqIE1hdGgucG93KDIsIHopLFxuICAgICAgICB4MCA9IHRoaXMuZXh0ZW50ICogeCxcbiAgICAgICAgeTAgPSB0aGlzLmV4dGVudCAqIHksXG4gICAgICAgIGNvb3JkcyA9IHRoaXMubG9hZEdlb21ldHJ5KCksXG4gICAgICAgIHR5cGUgPSBWZWN0b3JUaWxlRmVhdHVyZS50eXBlc1t0aGlzLnR5cGVdLFxuICAgICAgICBpLCBqO1xuXG4gICAgZnVuY3Rpb24gcHJvamVjdChsaW5lKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIHAgPSBsaW5lW2pdLCB5MiA9IDE4MCAtIChwLnkgKyB5MCkgKiAzNjAgLyBzaXplO1xuICAgICAgICAgICAgbGluZVtqXSA9IFtcbiAgICAgICAgICAgICAgICAocC54ICsgeDApICogMzYwIC8gc2l6ZSAtIDE4MCxcbiAgICAgICAgICAgICAgICAzNjAgLyBNYXRoLlBJICogTWF0aC5hdGFuKE1hdGguZXhwKHkyICogTWF0aC5QSSAvIDE4MCkpIC0gOTBcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgIGNhc2UgMTpcbiAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwb2ludHNbaV0gPSBjb29yZHNbaV1bMF07XG4gICAgICAgIH1cbiAgICAgICAgY29vcmRzID0gcG9pbnRzO1xuICAgICAgICBwcm9qZWN0KGNvb3Jkcyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAyOlxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwcm9qZWN0KGNvb3Jkc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDM6XG4gICAgICAgIGNvb3JkcyA9IGNsYXNzaWZ5UmluZ3MoY29vcmRzKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvb3Jkc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHByb2plY3QoY29vcmRzW2ldW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoY29vcmRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb29yZHMgPSBjb29yZHNbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdHlwZSA9ICdNdWx0aScgKyB0eXBlO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIHR5cGU6IFwiRmVhdHVyZVwiLFxuICAgICAgICBnZW9tZXRyeToge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZHNcbiAgICAgICAgfSxcbiAgICAgICAgcHJvcGVydGllczogdGhpcy5wcm9wZXJ0aWVzXG4gICAgfTtcblxuICAgIGlmICgnaWQnIGluIHRoaXMpIHtcbiAgICAgICAgcmVzdWx0LmlkID0gdGhpcy5pZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gY2xhc3NpZmllcyBhbiBhcnJheSBvZiByaW5ncyBpbnRvIHBvbHlnb25zIHdpdGggb3V0ZXIgcmluZ3MgYW5kIGhvbGVzXG5cbmZ1bmN0aW9uIGNsYXNzaWZ5UmluZ3MocmluZ3MpIHtcbiAgICB2YXIgbGVuID0gcmluZ3MubGVuZ3RoO1xuXG4gICAgaWYgKGxlbiA8PSAxKSByZXR1cm4gW3JpbmdzXTtcblxuICAgIHZhciBwb2x5Z29ucyA9IFtdLFxuICAgICAgICBwb2x5Z29uLFxuICAgICAgICBjY3c7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBhcmVhID0gc2lnbmVkQXJlYShyaW5nc1tpXSk7XG4gICAgICAgIGlmIChhcmVhID09PSAwKSBjb250aW51ZTtcblxuICAgICAgICBpZiAoY2N3ID09PSB1bmRlZmluZWQpIGNjdyA9IGFyZWEgPCAwO1xuXG4gICAgICAgIGlmIChjY3cgPT09IGFyZWEgPCAwKSB7XG4gICAgICAgICAgICBpZiAocG9seWdvbikgcG9seWdvbnMucHVzaChwb2x5Z29uKTtcbiAgICAgICAgICAgIHBvbHlnb24gPSBbcmluZ3NbaV1dO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb2x5Z29uLnB1c2gocmluZ3NbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwb2x5Z29uKSBwb2x5Z29ucy5wdXNoKHBvbHlnb24pO1xuXG4gICAgcmV0dXJuIHBvbHlnb25zO1xufVxuXG5mdW5jdGlvbiBzaWduZWRBcmVhKHJpbmcpIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmluZy5sZW5ndGgsIGogPSBsZW4gLSAxLCBwMSwgcDI7IGkgPCBsZW47IGogPSBpKyspIHtcbiAgICAgICAgcDEgPSByaW5nW2ldO1xuICAgICAgICBwMiA9IHJpbmdbal07XG4gICAgICAgIHN1bSArPSAocDIueCAtIHAxLngpICogKHAxLnkgKyBwMi55KTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFZlY3RvclRpbGVGZWF0dXJlID0gcmVxdWlyZSgnLi92ZWN0b3J0aWxlZmVhdHVyZS5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZlY3RvclRpbGVMYXllcjtcblxuZnVuY3Rpb24gVmVjdG9yVGlsZUxheWVyKHBiZiwgZW5kKSB7XG4gICAgLy8gUHVibGljXG4gICAgdGhpcy52ZXJzaW9uID0gMTtcbiAgICB0aGlzLm5hbWUgPSBudWxsO1xuICAgIHRoaXMuZXh0ZW50ID0gNDA5NjtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG5cbiAgICAvLyBQcml2YXRlXG4gICAgdGhpcy5fcGJmID0gcGJmO1xuICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICB0aGlzLl9mZWF0dXJlcyA9IFtdO1xuXG4gICAgcGJmLnJlYWRGaWVsZHMocmVhZExheWVyLCB0aGlzLCBlbmQpO1xuXG4gICAgdGhpcy5sZW5ndGggPSB0aGlzLl9mZWF0dXJlcy5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIHJlYWRMYXllcih0YWcsIGxheWVyLCBwYmYpIHtcbiAgICBpZiAodGFnID09PSAxNSkgbGF5ZXIudmVyc2lvbiA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09PSAxKSBsYXllci5uYW1lID0gcGJmLnJlYWRTdHJpbmcoKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDUpIGxheWVyLmV4dGVudCA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09PSAyKSBsYXllci5fZmVhdHVyZXMucHVzaChwYmYucG9zKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDMpIGxheWVyLl9rZXlzLnB1c2gocGJmLnJlYWRTdHJpbmcoKSk7XG4gICAgZWxzZSBpZiAodGFnID09PSA0KSBsYXllci5fdmFsdWVzLnB1c2gocmVhZFZhbHVlTWVzc2FnZShwYmYpKTtcbn1cblxuZnVuY3Rpb24gcmVhZFZhbHVlTWVzc2FnZShwYmYpIHtcbiAgICB2YXIgdmFsdWUgPSBudWxsLFxuICAgICAgICBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcztcblxuICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG4gICAgICAgIHZhciB0YWcgPSBwYmYucmVhZFZhcmludCgpID4+IDM7XG5cbiAgICAgICAgdmFsdWUgPSB0YWcgPT09IDEgPyBwYmYucmVhZFN0cmluZygpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gMiA/IHBiZi5yZWFkRmxvYXQoKSA6XG4gICAgICAgICAgICB0YWcgPT09IDMgPyBwYmYucmVhZERvdWJsZSgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNCA/IHBiZi5yZWFkVmFyaW50NjQoKSA6XG4gICAgICAgICAgICB0YWcgPT09IDUgPyBwYmYucmVhZFZhcmludCgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNiA/IHBiZi5yZWFkU1ZhcmludCgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNyA/IHBiZi5yZWFkQm9vbGVhbigpIDogbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8vIHJldHVybiBmZWF0dXJlIGBpYCBmcm9tIHRoaXMgbGF5ZXIgYXMgYSBgVmVjdG9yVGlsZUZlYXR1cmVgXG5WZWN0b3JUaWxlTGF5ZXIucHJvdG90eXBlLmZlYXR1cmUgPSBmdW5jdGlvbihpKSB7XG4gICAgaWYgKGkgPCAwIHx8IGkgPj0gdGhpcy5fZmVhdHVyZXMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ2ZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kcycpO1xuXG4gICAgdGhpcy5fcGJmLnBvcyA9IHRoaXMuX2ZlYXR1cmVzW2ldO1xuXG4gICAgdmFyIGVuZCA9IHRoaXMuX3BiZi5yZWFkVmFyaW50KCkgKyB0aGlzLl9wYmYucG9zO1xuICAgIHJldHVybiBuZXcgVmVjdG9yVGlsZUZlYXR1cmUodGhpcy5fcGJmLCBlbmQsIHRoaXMuZXh0ZW50LCB0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMpO1xufTtcbiIsIi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5leHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGJmO1xuXG52YXIgaWVlZTc1NCA9IHJlcXVpcmUoJ2llZWU3NTQnKTtcblxuZnVuY3Rpb24gUGJmKGJ1Zikge1xuICAgIHRoaXMuYnVmID0gQXJyYXlCdWZmZXIuaXNWaWV3ICYmIEFycmF5QnVmZmVyLmlzVmlldyhidWYpID8gYnVmIDogbmV3IFVpbnQ4QXJyYXkoYnVmIHx8IDApO1xuICAgIHRoaXMucG9zID0gMDtcbiAgICB0aGlzLnR5cGUgPSAwO1xuICAgIHRoaXMubGVuZ3RoID0gdGhpcy5idWYubGVuZ3RoO1xufVxuXG5QYmYuVmFyaW50ICA9IDA7IC8vIHZhcmludDogaW50MzIsIGludDY0LCB1aW50MzIsIHVpbnQ2NCwgc2ludDMyLCBzaW50NjQsIGJvb2wsIGVudW1cblBiZi5GaXhlZDY0ID0gMTsgLy8gNjQtYml0OiBkb3VibGUsIGZpeGVkNjQsIHNmaXhlZDY0XG5QYmYuQnl0ZXMgICA9IDI7IC8vIGxlbmd0aC1kZWxpbWl0ZWQ6IHN0cmluZywgYnl0ZXMsIGVtYmVkZGVkIG1lc3NhZ2VzLCBwYWNrZWQgcmVwZWF0ZWQgZmllbGRzXG5QYmYuRml4ZWQzMiA9IDU7IC8vIDMyLWJpdDogZmxvYXQsIGZpeGVkMzIsIHNmaXhlZDMyXG5cbnZhciBTSElGVF9MRUZUXzMyID0gKDEgPDwgMTYpICogKDEgPDwgMTYpLFxuICAgIFNISUZUX1JJR0hUXzMyID0gMSAvIFNISUZUX0xFRlRfMzI7XG5cbi8vIFRocmVzaG9sZCBjaG9zZW4gYmFzZWQgb24gYm90aCBiZW5jaG1hcmtpbmcgYW5kIGtub3dsZWRnZSBhYm91dCBicm93c2VyIHN0cmluZ1xuLy8gZGF0YSBzdHJ1Y3R1cmVzICh3aGljaCBjdXJyZW50bHkgc3dpdGNoIHN0cnVjdHVyZSB0eXBlcyBhdCAxMiBieXRlcyBvciBtb3JlKVxudmFyIFRFWFRfREVDT0RFUl9NSU5fTEVOR1RIID0gMTI7XG52YXIgdXRmOFRleHREZWNvZGVyID0gdHlwZW9mIFRleHREZWNvZGVyID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiBuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKTtcblxuUGJmLnByb3RvdHlwZSA9IHtcblxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmJ1ZiA9IG51bGw7XG4gICAgfSxcblxuICAgIC8vID09PSBSRUFESU5HID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICByZWFkRmllbGRzOiBmdW5jdGlvbihyZWFkRmllbGQsIHJlc3VsdCwgZW5kKSB7XG4gICAgICAgIGVuZCA9IGVuZCB8fCB0aGlzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLnJlYWRWYXJpbnQoKSxcbiAgICAgICAgICAgICAgICB0YWcgPSB2YWwgPj4gMyxcbiAgICAgICAgICAgICAgICBzdGFydFBvcyA9IHRoaXMucG9zO1xuXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSB2YWwgJiAweDc7XG4gICAgICAgICAgICByZWFkRmllbGQodGFnLCByZXN1bHQsIHRoaXMpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPT09IHN0YXJ0UG9zKSB0aGlzLnNraXAodmFsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICByZWFkTWVzc2FnZTogZnVuY3Rpb24ocmVhZEZpZWxkLCByZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEZpZWxkcyhyZWFkRmllbGQsIHJlc3VsdCwgdGhpcy5yZWFkVmFyaW50KCkgKyB0aGlzLnBvcyk7XG4gICAgfSxcblxuICAgIHJlYWRGaXhlZDMyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IHJlYWRVSW50MzIodGhpcy5idWYsIHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgcmVhZFNGaXhlZDMyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IHJlYWRJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICAvLyA2NC1iaXQgaW50IGhhbmRsaW5nIGlzIGJhc2VkIG9uIGdpdGh1Yi5jb20vZHB3L25vZGUtYnVmZmVyLW1vcmUtaW50cyAoTUlULWxpY2Vuc2VkKVxuXG4gICAgcmVhZEZpeGVkNjQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsID0gcmVhZFVJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MpICsgcmVhZFVJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MgKyA0KSAqIFNISUZUX0xFRlRfMzI7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfSxcblxuICAgIHJlYWRTRml4ZWQ2NDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWwgPSByZWFkVUludDMyKHRoaXMuYnVmLCB0aGlzLnBvcykgKyByZWFkSW50MzIodGhpcy5idWYsIHRoaXMucG9zICsgNCkgKiBTSElGVF9MRUZUXzMyO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICByZWFkRmxvYXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsID0gaWVlZTc1NC5yZWFkKHRoaXMuYnVmLCB0aGlzLnBvcywgdHJ1ZSwgMjMsIDQpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICByZWFkRG91YmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IGllZWU3NTQucmVhZCh0aGlzLmJ1ZiwgdGhpcy5wb3MsIHRydWUsIDUyLCA4KTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgcmVhZFZhcmludDogZnVuY3Rpb24oaXNTaWduZWQpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IHRoaXMuYnVmLFxuICAgICAgICAgICAgdmFsLCBiO1xuXG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCAgPSAgYiAmIDB4N2Y7ICAgICAgICBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDc7ICBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDE0OyBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDIxOyBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3NdOyAgIHZhbCB8PSAoYiAmIDB4MGYpIDw8IDI4O1xuXG4gICAgICAgIHJldHVybiByZWFkVmFyaW50UmVtYWluZGVyKHZhbCwgaXNTaWduZWQsIHRoaXMpO1xuICAgIH0sXG5cbiAgICByZWFkVmFyaW50NjQ6IGZ1bmN0aW9uKCkgeyAvLyBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHYyLjAuMVxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkVmFyaW50KHRydWUpO1xuICAgIH0sXG5cbiAgICByZWFkU1ZhcmludDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBudW0gPSB0aGlzLnJlYWRWYXJpbnQoKTtcbiAgICAgICAgcmV0dXJuIG51bSAlIDIgPT09IDEgPyAobnVtICsgMSkgLyAtMiA6IG51bSAvIDI7IC8vIHppZ3phZyBlbmNvZGluZ1xuICAgIH0sXG5cbiAgICByZWFkQm9vbGVhbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHRoaXMucmVhZFZhcmludCgpKTtcbiAgICB9LFxuXG4gICAgcmVhZFN0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlbmQgPSB0aGlzLnJlYWRWYXJpbnQoKSArIHRoaXMucG9zO1xuICAgICAgICB2YXIgcG9zID0gdGhpcy5wb3M7XG4gICAgICAgIHRoaXMucG9zID0gZW5kO1xuXG4gICAgICAgIGlmIChlbmQgLSBwb3MgPj0gVEVYVF9ERUNPREVSX01JTl9MRU5HVEggJiYgdXRmOFRleHREZWNvZGVyKSB7XG4gICAgICAgICAgICAvLyBsb25nZXIgc3RyaW5ncyBhcmUgZmFzdCB3aXRoIHRoZSBidWlsdC1pbiBicm93c2VyIFRleHREZWNvZGVyIEFQSVxuICAgICAgICAgICAgcmV0dXJuIHJlYWRVdGY4VGV4dERlY29kZXIodGhpcy5idWYsIHBvcywgZW5kKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzaG9ydCBzdHJpbmdzIGFyZSBmYXN0IHdpdGggb3VyIGN1c3RvbSBpbXBsZW1lbnRhdGlvblxuICAgICAgICByZXR1cm4gcmVhZFV0ZjgodGhpcy5idWYsIHBvcywgZW5kKTtcbiAgICB9LFxuXG4gICAgcmVhZEJ5dGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMucmVhZFZhcmludCgpICsgdGhpcy5wb3MsXG4gICAgICAgICAgICBidWZmZXIgPSB0aGlzLmJ1Zi5zdWJhcnJheSh0aGlzLnBvcywgZW5kKTtcbiAgICAgICAgdGhpcy5wb3MgPSBlbmQ7XG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfSxcblxuICAgIC8vIHZlcmJvc2UgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM7IGRvZXNuJ3QgYWZmZWN0IGd6aXBwZWQgc2l6ZVxuXG4gICAgcmVhZFBhY2tlZFZhcmludDogZnVuY3Rpb24oYXJyLCBpc1NpZ25lZCkge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRWYXJpbnQoaXNTaWduZWQpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRWYXJpbnQoaXNTaWduZWQpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWRTVmFyaW50OiBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZEJvb2xlYW46IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICByZWFkUGFja2VkRmxvYXQ6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWREb3VibGU6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7XG4gICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuICAgICAgICBhcnIgPSBhcnIgfHwgW107XG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkRG91YmxlKCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZEZpeGVkMzI6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICByZWFkUGFja2VkU0ZpeGVkMzI6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWRGaXhlZDY0OiBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRGaXhlZDY0KCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZFNGaXhlZDY0OiBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7XG4gICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuICAgICAgICBhcnIgPSBhcnIgfHwgW107XG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcblxuICAgIHNraXA6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB2YXIgdHlwZSA9IHZhbCAmIDB4NztcbiAgICAgICAgaWYgKHR5cGUgPT09IFBiZi5WYXJpbnQpIHdoaWxlICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA+IDB4N2YpIHt9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFBiZi5CeXRlcykgdGhpcy5wb3MgPSB0aGlzLnJlYWRWYXJpbnQoKSArIHRoaXMucG9zO1xuICAgICAgICBlbHNlIGlmICh0eXBlID09PSBQYmYuRml4ZWQzMikgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gUGJmLkZpeGVkNjQpIHRoaXMucG9zICs9IDg7XG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmltcGxlbWVudGVkIHR5cGU6ICcgKyB0eXBlKTtcbiAgICB9LFxuXG4gICAgLy8gPT09IFdSSVRJTkcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHdyaXRlVGFnOiBmdW5jdGlvbih0YWcsIHR5cGUpIHtcbiAgICAgICAgdGhpcy53cml0ZVZhcmludCgodGFnIDw8IDMpIHwgdHlwZSk7XG4gICAgfSxcblxuICAgIHJlYWxsb2M6IGZ1bmN0aW9uKG1pbikge1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfHwgMTY7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aCA8IHRoaXMucG9zICsgbWluKSBsZW5ndGggKj0gMjtcblxuICAgICAgICBpZiAobGVuZ3RoICE9PSB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgICAgICAgICBidWYuc2V0KHRoaXMuYnVmKTtcbiAgICAgICAgICAgIHRoaXMuYnVmID0gYnVmO1xuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLnBvcztcbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcy5idWYuc3ViYXJyYXkoMCwgdGhpcy5sZW5ndGgpO1xuICAgIH0sXG5cbiAgICB3cml0ZUZpeGVkMzI6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLnJlYWxsb2MoNCk7XG4gICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIHZhbCwgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH0sXG5cbiAgICB3cml0ZVNGaXhlZDMyOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5yZWFsbG9jKDQpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCB2YWwsIHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICB9LFxuXG4gICAgd3JpdGVGaXhlZDY0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5yZWFsbG9jKDgpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCB2YWwgJiAtMSwgdGhpcy5wb3MpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCBNYXRoLmZsb29yKHZhbCAqIFNISUZUX1JJR0hUXzMyKSwgdGhpcy5wb3MgKyA0KTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICB9LFxuXG4gICAgd3JpdGVTRml4ZWQ2NDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMucmVhbGxvYyg4KTtcbiAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgdmFsICYgLTEsIHRoaXMucG9zKTtcbiAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgTWF0aC5mbG9vcih2YWwgKiBTSElGVF9SSUdIVF8zMiksIHRoaXMucG9zICsgNCk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgfSxcblxuICAgIHdyaXRlVmFyaW50OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdmFsID0gK3ZhbCB8fCAwO1xuXG4gICAgICAgIGlmICh2YWwgPiAweGZmZmZmZmYgfHwgdmFsIDwgMCkge1xuICAgICAgICAgICAgd3JpdGVCaWdWYXJpbnQodmFsLCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVhbGxvYyg0KTtcblxuICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9ICAgICAgICAgICB2YWwgJiAweDdmICB8ICh2YWwgPiAweDdmID8gMHg4MCA6IDApOyBpZiAodmFsIDw9IDB4N2YpIHJldHVybjtcbiAgICAgICAgdGhpcy5idWZbdGhpcy5wb3MrK10gPSAoKHZhbCA+Pj49IDcpICYgMHg3ZikgfCAodmFsID4gMHg3ZiA/IDB4ODAgOiAwKTsgaWYgKHZhbCA8PSAweDdmKSByZXR1cm47XG4gICAgICAgIHRoaXMuYnVmW3RoaXMucG9zKytdID0gKCh2YWwgPj4+PSA3KSAmIDB4N2YpIHwgKHZhbCA+IDB4N2YgPyAweDgwIDogMCk7IGlmICh2YWwgPD0gMHg3ZikgcmV0dXJuO1xuICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9ICAgKHZhbCA+Pj4gNykgJiAweDdmO1xuICAgIH0sXG5cbiAgICB3cml0ZVNWYXJpbnQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50KHZhbCA8IDAgPyAtdmFsICogMiAtIDEgOiB2YWwgKiAyKTtcbiAgICB9LFxuXG4gICAgd3JpdGVCb29sZWFuOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVZhcmludChCb29sZWFuKHZhbCkpO1xuICAgIH0sXG5cbiAgICB3cml0ZVN0cmluZzogZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHN0ciA9IFN0cmluZyhzdHIpO1xuICAgICAgICB0aGlzLnJlYWxsb2Moc3RyLmxlbmd0aCAqIDQpO1xuXG4gICAgICAgIHRoaXMucG9zKys7IC8vIHJlc2VydmUgMSBieXRlIGZvciBzaG9ydCBzdHJpbmcgbGVuZ3RoXG5cbiAgICAgICAgdmFyIHN0YXJ0UG9zID0gdGhpcy5wb3M7XG4gICAgICAgIC8vIHdyaXRlIHRoZSBzdHJpbmcgZGlyZWN0bHkgdG8gdGhlIGJ1ZmZlciBhbmQgc2VlIGhvdyBtdWNoIHdhcyB3cml0dGVuXG4gICAgICAgIHRoaXMucG9zID0gd3JpdGVVdGY4KHRoaXMuYnVmLCBzdHIsIHRoaXMucG9zKTtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMucG9zIC0gc3RhcnRQb3M7XG5cbiAgICAgICAgaWYgKGxlbiA+PSAweDgwKSBtYWtlUm9vbUZvckV4dHJhTGVuZ3RoKHN0YXJ0UG9zLCBsZW4sIHRoaXMpO1xuXG4gICAgICAgIC8vIGZpbmFsbHksIHdyaXRlIHRoZSBtZXNzYWdlIGxlbmd0aCBpbiB0aGUgcmVzZXJ2ZWQgcGxhY2UgYW5kIHJlc3RvcmUgdGhlIHBvc2l0aW9uXG4gICAgICAgIHRoaXMucG9zID0gc3RhcnRQb3MgLSAxO1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50KGxlbik7XG4gICAgICAgIHRoaXMucG9zICs9IGxlbjtcbiAgICB9LFxuXG4gICAgd3JpdGVGbG9hdDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMucmVhbGxvYyg0KTtcbiAgICAgICAgaWVlZTc1NC53cml0ZSh0aGlzLmJ1ZiwgdmFsLCB0aGlzLnBvcywgdHJ1ZSwgMjMsIDQpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH0sXG5cbiAgICB3cml0ZURvdWJsZTogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMucmVhbGxvYyg4KTtcbiAgICAgICAgaWVlZTc1NC53cml0ZSh0aGlzLmJ1ZiwgdmFsLCB0aGlzLnBvcywgdHJ1ZSwgNTIsIDgpO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgIH0sXG5cbiAgICB3cml0ZUJ5dGVzOiBmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgICAgdmFyIGxlbiA9IGJ1ZmZlci5sZW5ndGg7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQobGVuKTtcbiAgICAgICAgdGhpcy5yZWFsbG9jKGxlbik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHRoaXMuYnVmW3RoaXMucG9zKytdID0gYnVmZmVyW2ldO1xuICAgIH0sXG5cbiAgICB3cml0ZVJhd01lc3NhZ2U6IGZ1bmN0aW9uKGZuLCBvYmopIHtcbiAgICAgICAgdGhpcy5wb3MrKzsgLy8gcmVzZXJ2ZSAxIGJ5dGUgZm9yIHNob3J0IG1lc3NhZ2UgbGVuZ3RoXG5cbiAgICAgICAgLy8gd3JpdGUgdGhlIG1lc3NhZ2UgZGlyZWN0bHkgdG8gdGhlIGJ1ZmZlciBhbmQgc2VlIGhvdyBtdWNoIHdhcyB3cml0dGVuXG4gICAgICAgIHZhciBzdGFydFBvcyA9IHRoaXMucG9zO1xuICAgICAgICBmbihvYmosIHRoaXMpO1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5wb3MgLSBzdGFydFBvcztcblxuICAgICAgICBpZiAobGVuID49IDB4ODApIG1ha2VSb29tRm9yRXh0cmFMZW5ndGgoc3RhcnRQb3MsIGxlbiwgdGhpcyk7XG5cbiAgICAgICAgLy8gZmluYWxseSwgd3JpdGUgdGhlIG1lc3NhZ2UgbGVuZ3RoIGluIHRoZSByZXNlcnZlZCBwbGFjZSBhbmQgcmVzdG9yZSB0aGUgcG9zaXRpb25cbiAgICAgICAgdGhpcy5wb3MgPSBzdGFydFBvcyAtIDE7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQobGVuKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gbGVuO1xuICAgIH0sXG5cbiAgICB3cml0ZU1lc3NhZ2U6IGZ1bmN0aW9uKHRhZywgZm4sIG9iaikge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcbiAgICAgICAgdGhpcy53cml0ZVJhd01lc3NhZ2UoZm4sIG9iaik7XG4gICAgfSxcblxuICAgIHdyaXRlUGFja2VkVmFyaW50OiAgIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkVmFyaW50LCBhcnIpOyAgIH0sXG4gICAgd3JpdGVQYWNrZWRTVmFyaW50OiAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRTVmFyaW50LCBhcnIpOyAgfSxcbiAgICB3cml0ZVBhY2tlZEJvb2xlYW46ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZEJvb2xlYW4sIGFycik7ICB9LFxuICAgIHdyaXRlUGFja2VkRmxvYXQ6ICAgIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkRmxvYXQsIGFycik7ICAgIH0sXG4gICAgd3JpdGVQYWNrZWREb3VibGU6ICAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWREb3VibGUsIGFycik7ICAgfSxcbiAgICB3cml0ZVBhY2tlZEZpeGVkMzI6ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZEZpeGVkMzIsIGFycik7ICB9LFxuICAgIHdyaXRlUGFja2VkU0ZpeGVkMzI6IGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkU0ZpeGVkMzIsIGFycik7IH0sXG4gICAgd3JpdGVQYWNrZWRGaXhlZDY0OiAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRGaXhlZDY0LCBhcnIpOyAgfSxcbiAgICB3cml0ZVBhY2tlZFNGaXhlZDY0OiBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZFNGaXhlZDY0LCBhcnIpOyB9LFxuXG4gICAgd3JpdGVCeXRlc0ZpZWxkOiBmdW5jdGlvbih0YWcsIGJ1ZmZlcikge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcbiAgICAgICAgdGhpcy53cml0ZUJ5dGVzKGJ1ZmZlcik7XG4gICAgfSxcbiAgICB3cml0ZUZpeGVkMzJGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDMyKTtcbiAgICAgICAgdGhpcy53cml0ZUZpeGVkMzIodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlU0ZpeGVkMzJGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDMyKTtcbiAgICAgICAgdGhpcy53cml0ZVNGaXhlZDMyKHZhbCk7XG4gICAgfSxcbiAgICB3cml0ZUZpeGVkNjRGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDY0KTtcbiAgICAgICAgdGhpcy53cml0ZUZpeGVkNjQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlU0ZpeGVkNjRGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDY0KTtcbiAgICAgICAgdGhpcy53cml0ZVNGaXhlZDY0KHZhbCk7XG4gICAgfSxcbiAgICB3cml0ZVZhcmludEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLlZhcmludCk7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlU1ZhcmludEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLlZhcmludCk7XG4gICAgICAgIHRoaXMud3JpdGVTVmFyaW50KHZhbCk7XG4gICAgfSxcbiAgICB3cml0ZVN0cmluZ0ZpZWxkOiBmdW5jdGlvbih0YWcsIHN0cikge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcbiAgICAgICAgdGhpcy53cml0ZVN0cmluZyhzdHIpO1xuICAgIH0sXG4gICAgd3JpdGVGbG9hdEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkMzIpO1xuICAgICAgICB0aGlzLndyaXRlRmxvYXQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlRG91YmxlRmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuRml4ZWQ2NCk7XG4gICAgICAgIHRoaXMud3JpdGVEb3VibGUodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlQm9vbGVhbkZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50RmllbGQodGFnLCBCb29sZWFuKHZhbCkpO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIHJlYWRWYXJpbnRSZW1haW5kZXIobCwgcywgcCkge1xuICAgIHZhciBidWYgPSBwLmJ1ZixcbiAgICAgICAgaCwgYjtcblxuICAgIGIgPSBidWZbcC5wb3MrK107IGggID0gKGIgJiAweDcwKSA+PiA0OyAgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG4gICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4N2YpIDw8IDM7ICBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcbiAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHg3ZikgPDwgMTA7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuICAgIGIgPSBidWZbcC5wb3MrK107IGggfD0gKGIgJiAweDdmKSA8PCAxNzsgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG4gICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4N2YpIDw8IDI0OyBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcbiAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHgwMSkgPDwgMzE7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB2YXJpbnQgbm90IG1vcmUgdGhhbiAxMCBieXRlcycpO1xufVxuXG5mdW5jdGlvbiByZWFkUGFja2VkRW5kKHBiZikge1xuICAgIHJldHVybiBwYmYudHlwZSA9PT0gUGJmLkJ5dGVzID9cbiAgICAgICAgcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MgOiBwYmYucG9zICsgMTtcbn1cblxuZnVuY3Rpb24gdG9OdW0obG93LCBoaWdoLCBpc1NpZ25lZCkge1xuICAgIGlmIChpc1NpZ25lZCkge1xuICAgICAgICByZXR1cm4gaGlnaCAqIDB4MTAwMDAwMDAwICsgKGxvdyA+Pj4gMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgoaGlnaCA+Pj4gMCkgKiAweDEwMDAwMDAwMCkgKyAobG93ID4+PiAwKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVCaWdWYXJpbnQodmFsLCBwYmYpIHtcbiAgICB2YXIgbG93LCBoaWdoO1xuXG4gICAgaWYgKHZhbCA+PSAwKSB7XG4gICAgICAgIGxvdyAgPSAodmFsICUgMHgxMDAwMDAwMDApIHwgMDtcbiAgICAgICAgaGlnaCA9ICh2YWwgLyAweDEwMDAwMDAwMCkgfCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxvdyAgPSB+KC12YWwgJSAweDEwMDAwMDAwMCk7XG4gICAgICAgIGhpZ2ggPSB+KC12YWwgLyAweDEwMDAwMDAwMCk7XG5cbiAgICAgICAgaWYgKGxvdyBeIDB4ZmZmZmZmZmYpIHtcbiAgICAgICAgICAgIGxvdyA9IChsb3cgKyAxKSB8IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb3cgPSAwO1xuICAgICAgICAgICAgaGlnaCA9IChoaWdoICsgMSkgfCAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHZhbCA+PSAweDEwMDAwMDAwMDAwMDAwMDAwIHx8IHZhbCA8IC0weDEwMDAwMDAwMDAwMDAwMDAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignR2l2ZW4gdmFyaW50IGRvZXNuXFwndCBmaXQgaW50byAxMCBieXRlcycpO1xuICAgIH1cblxuICAgIHBiZi5yZWFsbG9jKDEwKTtcblxuICAgIHdyaXRlQmlnVmFyaW50TG93KGxvdywgaGlnaCwgcGJmKTtcbiAgICB3cml0ZUJpZ1ZhcmludEhpZ2goaGlnaCwgcGJmKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVCaWdWYXJpbnRMb3cobG93LCBoaWdoLCBwYmYpIHtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3NdICAgPSBsb3cgJiAweDdmO1xufVxuXG5mdW5jdGlvbiB3cml0ZUJpZ1ZhcmludEhpZ2goaGlnaCwgcGJmKSB7XG4gICAgdmFyIGxzYiA9IChoaWdoICYgMHgwNykgPDwgNDtcblxuICAgIHBiZi5idWZbcGJmLnBvcysrXSB8PSBsc2IgICAgICAgICB8ICgoaGlnaCA+Pj49IDMpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2YgfCAoKGhpZ2ggPj4+PSA3KSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG4gICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmIHwgKChoaWdoID4+Pj0gNykgPyAweDgwIDogMCk7IGlmICghaGlnaCkgcmV0dXJuO1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSAgPSBoaWdoICYgMHg3ZiB8ICgoaGlnaCA+Pj49IDcpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2YgfCAoKGhpZ2ggPj4+PSA3KSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG4gICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmO1xufVxuXG5mdW5jdGlvbiBtYWtlUm9vbUZvckV4dHJhTGVuZ3RoKHN0YXJ0UG9zLCBsZW4sIHBiZikge1xuICAgIHZhciBleHRyYUxlbiA9XG4gICAgICAgIGxlbiA8PSAweDNmZmYgPyAxIDpcbiAgICAgICAgbGVuIDw9IDB4MWZmZmZmID8gMiA6XG4gICAgICAgIGxlbiA8PSAweGZmZmZmZmYgPyAzIDogTWF0aC5mbG9vcihNYXRoLmxvZyhsZW4pIC8gKE1hdGguTE4yICogNykpO1xuXG4gICAgLy8gaWYgMSBieXRlIGlzbid0IGVub3VnaCBmb3IgZW5jb2RpbmcgbWVzc2FnZSBsZW5ndGgsIHNoaWZ0IHRoZSBkYXRhIHRvIHRoZSByaWdodFxuICAgIHBiZi5yZWFsbG9jKGV4dHJhTGVuKTtcbiAgICBmb3IgKHZhciBpID0gcGJmLnBvcyAtIDE7IGkgPj0gc3RhcnRQb3M7IGktLSkgcGJmLmJ1ZltpICsgZXh0cmFMZW5dID0gcGJmLmJ1ZltpXTtcbn1cblxuZnVuY3Rpb24gd3JpdGVQYWNrZWRWYXJpbnQoYXJyLCBwYmYpICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlVmFyaW50KGFycltpXSk7ICAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRTVmFyaW50KGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU1ZhcmludChhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRGbG9hdChhcnIsIHBiZikgICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRmxvYXQoYXJyW2ldKTsgICAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWREb3VibGUoYXJyLCBwYmYpICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRG91YmxlKGFycltpXSk7ICAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRCb29sZWFuKGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlQm9vbGVhbihhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRGaXhlZDMyKGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRml4ZWQzMihhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRTRml4ZWQzMihhcnIsIHBiZikgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU0ZpeGVkMzIoYXJyW2ldKTsgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRGaXhlZDY0KGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRml4ZWQ2NChhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRTRml4ZWQ2NChhcnIsIHBiZikgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU0ZpeGVkNjQoYXJyW2ldKTsgfVxuXG4vLyBCdWZmZXIgY29kZSBiZWxvdyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyLCBNSVQtbGljZW5zZWRcblxuZnVuY3Rpb24gcmVhZFVJbnQzMihidWYsIHBvcykge1xuICAgIHJldHVybiAoKGJ1Zltwb3NdKSB8XG4gICAgICAgIChidWZbcG9zICsgMV0gPDwgOCkgfFxuICAgICAgICAoYnVmW3BvcyArIDJdIDw8IDE2KSkgK1xuICAgICAgICAoYnVmW3BvcyArIDNdICogMHgxMDAwMDAwKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVJbnQzMihidWYsIHZhbCwgcG9zKSB7XG4gICAgYnVmW3Bvc10gPSB2YWw7XG4gICAgYnVmW3BvcyArIDFdID0gKHZhbCA+Pj4gOCk7XG4gICAgYnVmW3BvcyArIDJdID0gKHZhbCA+Pj4gMTYpO1xuICAgIGJ1Zltwb3MgKyAzXSA9ICh2YWwgPj4+IDI0KTtcbn1cblxuZnVuY3Rpb24gcmVhZEludDMyKGJ1ZiwgcG9zKSB7XG4gICAgcmV0dXJuICgoYnVmW3Bvc10pIHxcbiAgICAgICAgKGJ1Zltwb3MgKyAxXSA8PCA4KSB8XG4gICAgICAgIChidWZbcG9zICsgMl0gPDwgMTYpKSArXG4gICAgICAgIChidWZbcG9zICsgM10gPDwgMjQpO1xufVxuXG5mdW5jdGlvbiByZWFkVXRmOChidWYsIHBvcywgZW5kKSB7XG4gICAgdmFyIHN0ciA9ICcnO1xuICAgIHZhciBpID0gcG9zO1xuXG4gICAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICAgICAgdmFyIGIwID0gYnVmW2ldO1xuICAgICAgICB2YXIgYyA9IG51bGw7IC8vIGNvZGVwb2ludFxuICAgICAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9XG4gICAgICAgICAgICBiMCA+IDB4RUYgPyA0IDpcbiAgICAgICAgICAgIGIwID4gMHhERiA/IDMgOlxuICAgICAgICAgICAgYjAgPiAweEJGID8gMiA6IDE7XG5cbiAgICAgICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlID4gZW5kKSBicmVhaztcblxuICAgICAgICB2YXIgYjEsIGIyLCBiMztcblxuICAgICAgICBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKGIwIDwgMHg4MCkge1xuICAgICAgICAgICAgICAgIGMgPSBiMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChieXRlc1BlclNlcXVlbmNlID09PSAyKSB7XG4gICAgICAgICAgICBiMSA9IGJ1ZltpICsgMV07XG4gICAgICAgICAgICBpZiAoKGIxICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgICAgICBjID0gKGIwICYgMHgxRikgPDwgMHg2IHwgKGIxICYgMHgzRik7XG4gICAgICAgICAgICAgICAgaWYgKGMgPD0gMHg3Rikge1xuICAgICAgICAgICAgICAgICAgICBjID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gMykge1xuICAgICAgICAgICAgYjEgPSBidWZbaSArIDFdO1xuICAgICAgICAgICAgYjIgPSBidWZbaSArIDJdO1xuICAgICAgICAgICAgaWYgKChiMSAmIDB4QzApID09PSAweDgwICYmIChiMiAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICAgICAgYyA9IChiMCAmIDB4RikgPDwgMHhDIHwgKGIxICYgMHgzRikgPDwgMHg2IHwgKGIyICYgMHgzRik7XG4gICAgICAgICAgICAgICAgaWYgKGMgPD0gMHg3RkYgfHwgKGMgPj0gMHhEODAwICYmIGMgPD0gMHhERkZGKSkge1xuICAgICAgICAgICAgICAgICAgICBjID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gNCkge1xuICAgICAgICAgICAgYjEgPSBidWZbaSArIDFdO1xuICAgICAgICAgICAgYjIgPSBidWZbaSArIDJdO1xuICAgICAgICAgICAgYjMgPSBidWZbaSArIDNdO1xuICAgICAgICAgICAgaWYgKChiMSAmIDB4QzApID09PSAweDgwICYmIChiMiAmIDB4QzApID09PSAweDgwICYmIChiMyAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICAgICAgYyA9IChiMCAmIDB4RikgPDwgMHgxMiB8IChiMSAmIDB4M0YpIDw8IDB4QyB8IChiMiAmIDB4M0YpIDw8IDB4NiB8IChiMyAmIDB4M0YpO1xuICAgICAgICAgICAgICAgIGlmIChjIDw9IDB4RkZGRiB8fCBjID49IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjID09PSBudWxsKSB7XG4gICAgICAgICAgICBjID0gMHhGRkZEO1xuICAgICAgICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDE7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjID4gMHhGRkZGKSB7XG4gICAgICAgICAgICBjIC09IDB4MTAwMDA7XG4gICAgICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcbiAgICAgICAgICAgIGMgPSAweERDMDAgfCBjICYgMHgzRkY7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgICAgaSArPSBieXRlc1BlclNlcXVlbmNlO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG59XG5cbmZ1bmN0aW9uIHJlYWRVdGY4VGV4dERlY29kZXIoYnVmLCBwb3MsIGVuZCkge1xuICAgIHJldHVybiB1dGY4VGV4dERlY29kZXIuZGVjb2RlKGJ1Zi5zdWJhcnJheShwb3MsIGVuZCkpO1xufVxuXG5mdW5jdGlvbiB3cml0ZVV0ZjgoYnVmLCBzdHIsIHBvcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBjLCBsZWFkOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKTsgLy8gY29kZSBwb2ludFxuXG4gICAgICAgIGlmIChjID4gMHhEN0ZGICYmIGMgPCAweEUwMDApIHtcbiAgICAgICAgICAgIGlmIChsZWFkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGMgPCAweERDMDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4RUY7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJGO1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRDtcbiAgICAgICAgICAgICAgICAgICAgbGVhZCA9IGM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBsZWFkIC0gMHhEODAwIDw8IDEwIHwgYyAtIDB4REMwMCB8IDB4MTAwMDA7XG4gICAgICAgICAgICAgICAgICAgIGxlYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGMgPiAweERCRkYgfHwgKGkgKyAxID09PSBzdHIubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhFRjtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkY7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxlYWQgPSBjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChsZWFkKSB7XG4gICAgICAgICAgICBidWZbcG9zKytdID0gMHhFRjtcbiAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJGO1xuICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkQ7XG4gICAgICAgICAgICBsZWFkID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgYnVmW3BvcysrXSA9IGM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHg2IHwgMHhDMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGMgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4QyB8IDB4RTA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHgxMiB8IDB4RjA7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4QyAmIDB4M0YgfCAweDgwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gYyA+PiAweDYgJiAweDNGIHwgMHg4MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjICYgMHgzRiB8IDB4ODA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvcztcbn1cbiIsIiFmdW5jdGlvbih0LGkpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWkoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGkpOih0PXR8fHNlbGYpLlJCdXNoPWkoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxyLGUsYSxoKXshZnVuY3Rpb24gdChuLHIsZSxhLGgpe2Zvcig7YT5lOyl7aWYoYS1lPjYwMCl7dmFyIG89YS1lKzEscz1yLWUrMSxsPU1hdGgubG9nKG8pLGY9LjUqTWF0aC5leHAoMipsLzMpLHU9LjUqTWF0aC5zcXJ0KGwqZiooby1mKS9vKSoocy1vLzI8MD8tMToxKSxtPU1hdGgubWF4KGUsTWF0aC5mbG9vcihyLXMqZi9vK3UpKSxjPU1hdGgubWluKGEsTWF0aC5mbG9vcihyKyhvLXMpKmYvbyt1KSk7dChuLHIsbSxjLGgpfXZhciBwPW5bcl0sZD1lLHg9YTtmb3IoaShuLGUsciksaChuW2FdLHApPjAmJmkobixlLGEpO2Q8eDspe2ZvcihpKG4sZCx4KSxkKysseC0tO2gobltkXSxwKTwwOylkKys7Zm9yKDtoKG5beF0scCk+MDspeC0tfTA9PT1oKG5bZV0scCk/aShuLGUseCk6aShuLCsreCxhKSx4PD1yJiYoZT14KzEpLHI8PXgmJihhPXgtMSl9fSh0LHIsZXx8MCxhfHx0Lmxlbmd0aC0xLGh8fG4pfWZ1bmN0aW9uIGkodCxpLG4pe3ZhciByPXRbaV07dFtpXT10W25dLHRbbl09cn1mdW5jdGlvbiBuKHQsaSl7cmV0dXJuIHQ8aT8tMTp0Pmk/MTowfXZhciByPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PTkpLHRoaXMuX21heEVudHJpZXM9TWF0aC5tYXgoNCx0KSx0aGlzLl9taW5FbnRyaWVzPU1hdGgubWF4KDIsTWF0aC5jZWlsKC40KnRoaXMuX21heEVudHJpZXMpKSx0aGlzLmNsZWFyKCl9O2Z1bmN0aW9uIGUodCxpLG4pe2lmKCFuKXJldHVybiBpLmluZGV4T2YodCk7Zm9yKHZhciByPTA7cjxpLmxlbmd0aDtyKyspaWYobih0LGlbcl0pKXJldHVybiByO3JldHVybi0xfWZ1bmN0aW9uIGEodCxpKXtoKHQsMCx0LmNoaWxkcmVuLmxlbmd0aCxpLHQpfWZ1bmN0aW9uIGgodCxpLG4scixlKXtlfHwoZT1wKG51bGwpKSxlLm1pblg9MS8wLGUubWluWT0xLzAsZS5tYXhYPS0xLzAsZS5tYXhZPS0xLzA7Zm9yKHZhciBhPWk7YTxuO2ErKyl7dmFyIGg9dC5jaGlsZHJlblthXTtvKGUsdC5sZWFmP3IoaCk6aCl9cmV0dXJuIGV9ZnVuY3Rpb24gbyh0LGkpe3JldHVybiB0Lm1pblg9TWF0aC5taW4odC5taW5YLGkubWluWCksdC5taW5ZPU1hdGgubWluKHQubWluWSxpLm1pblkpLHQubWF4WD1NYXRoLm1heCh0Lm1heFgsaS5tYXhYKSx0Lm1heFk9TWF0aC5tYXgodC5tYXhZLGkubWF4WSksdH1mdW5jdGlvbiBzKHQsaSl7cmV0dXJuIHQubWluWC1pLm1pblh9ZnVuY3Rpb24gbCh0LGkpe3JldHVybiB0Lm1pblktaS5taW5ZfWZ1bmN0aW9uIGYodCl7cmV0dXJuKHQubWF4WC10Lm1pblgpKih0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiB1KHQpe3JldHVybiB0Lm1heFgtdC5taW5YKyh0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiBtKHQsaSl7cmV0dXJuIHQubWluWDw9aS5taW5YJiZ0Lm1pblk8PWkubWluWSYmaS5tYXhYPD10Lm1heFgmJmkubWF4WTw9dC5tYXhZfWZ1bmN0aW9uIGModCxpKXtyZXR1cm4gaS5taW5YPD10Lm1heFgmJmkubWluWTw9dC5tYXhZJiZpLm1heFg+PXQubWluWCYmaS5tYXhZPj10Lm1pbll9ZnVuY3Rpb24gcCh0KXtyZXR1cm57Y2hpbGRyZW46dCxoZWlnaHQ6MSxsZWFmOiEwLG1pblg6MS8wLG1pblk6MS8wLG1heFg6LTEvMCxtYXhZOi0xLzB9fWZ1bmN0aW9uIGQoaSxuLHIsZSxhKXtmb3IodmFyIGg9W24scl07aC5sZW5ndGg7KWlmKCEoKHI9aC5wb3AoKSktKG49aC5wb3AoKSk8PWUpKXt2YXIgbz1uK01hdGguY2VpbCgoci1uKS9lLzIpKmU7dChpLG8sbixyLGEpLGgucHVzaChuLG8sbyxyKX19cmV0dXJuIHIucHJvdG90eXBlLmFsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbGwodGhpcy5kYXRhLFtdKX0sci5wcm90b3R5cGUuc2VhcmNoPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZGF0YSxuPVtdO2lmKCFjKHQsaSkpcmV0dXJuIG47Zm9yKHZhciByPXRoaXMudG9CQm94LGU9W107aTspe2Zvcih2YXIgYT0wO2E8aS5jaGlsZHJlbi5sZW5ndGg7YSsrKXt2YXIgaD1pLmNoaWxkcmVuW2FdLG89aS5sZWFmP3IoaCk6aDtjKHQsbykmJihpLmxlYWY/bi5wdXNoKGgpOm0odCxvKT90aGlzLl9hbGwoaCxuKTplLnB1c2goaCkpfWk9ZS5wb3AoKX1yZXR1cm4gbn0sci5wcm90b3R5cGUuY29sbGlkZXM9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5kYXRhO2lmKCFjKHQsaSkpcmV0dXJuITE7Zm9yKHZhciBuPVtdO2k7KXtmb3IodmFyIHI9MDtyPGkuY2hpbGRyZW4ubGVuZ3RoO3IrKyl7dmFyIGU9aS5jaGlsZHJlbltyXSxhPWkubGVhZj90aGlzLnRvQkJveChlKTplO2lmKGModCxhKSl7aWYoaS5sZWFmfHxtKHQsYSkpcmV0dXJuITA7bi5wdXNoKGUpfX1pPW4ucG9wKCl9cmV0dXJuITF9LHIucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCl7aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4gdGhpcztpZih0Lmxlbmd0aDx0aGlzLl9taW5FbnRyaWVzKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl0aGlzLmluc2VydCh0W2ldKTtyZXR1cm4gdGhpc312YXIgbj10aGlzLl9idWlsZCh0LnNsaWNlKCksMCx0Lmxlbmd0aC0xLDApO2lmKHRoaXMuZGF0YS5jaGlsZHJlbi5sZW5ndGgpaWYodGhpcy5kYXRhLmhlaWdodD09PW4uaGVpZ2h0KXRoaXMuX3NwbGl0Um9vdCh0aGlzLmRhdGEsbik7ZWxzZXtpZih0aGlzLmRhdGEuaGVpZ2h0PG4uaGVpZ2h0KXt2YXIgcj10aGlzLmRhdGE7dGhpcy5kYXRhPW4sbj1yfXRoaXMuX2luc2VydChuLHRoaXMuZGF0YS5oZWlnaHQtbi5oZWlnaHQtMSwhMCl9ZWxzZSB0aGlzLmRhdGE9bjtyZXR1cm4gdGhpc30sci5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0aGlzLl9pbnNlcnQodCx0aGlzLmRhdGEuaGVpZ2h0LTEpLHRoaXN9LHIucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YT1wKFtdKSx0aGlzfSxyLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxpKXtpZighdClyZXR1cm4gdGhpcztmb3IodmFyIG4scixhLGg9dGhpcy5kYXRhLG89dGhpcy50b0JCb3godCkscz1bXSxsPVtdO2h8fHMubGVuZ3RoOyl7aWYoaHx8KGg9cy5wb3AoKSxyPXNbcy5sZW5ndGgtMV0sbj1sLnBvcCgpLGE9ITApLGgubGVhZil7dmFyIGY9ZSh0LGguY2hpbGRyZW4saSk7aWYoLTEhPT1mKXJldHVybiBoLmNoaWxkcmVuLnNwbGljZShmLDEpLHMucHVzaChoKSx0aGlzLl9jb25kZW5zZShzKSx0aGlzfWF8fGgubGVhZnx8IW0oaCxvKT9yPyhuKyssaD1yLmNoaWxkcmVuW25dLGE9ITEpOmg9bnVsbDoocy5wdXNoKGgpLGwucHVzaChuKSxuPTAscj1oLGg9aC5jaGlsZHJlblswXSl9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLnRvQkJveD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sci5wcm90b3R5cGUuY29tcGFyZU1pblg9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdC5taW5YLWkubWluWH0sci5wcm90b3R5cGUuY29tcGFyZU1pblk9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdC5taW5ZLWkubWluWX0sci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YX0sci5wcm90b3R5cGUuZnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YT10LHRoaXN9LHIucHJvdG90eXBlLl9hbGw9ZnVuY3Rpb24odCxpKXtmb3IodmFyIG49W107dDspdC5sZWFmP2kucHVzaC5hcHBseShpLHQuY2hpbGRyZW4pOm4ucHVzaC5hcHBseShuLHQuY2hpbGRyZW4pLHQ9bi5wb3AoKTtyZXR1cm4gaX0sci5wcm90b3R5cGUuX2J1aWxkPWZ1bmN0aW9uKHQsaSxuLHIpe3ZhciBlLGg9bi1pKzEsbz10aGlzLl9tYXhFbnRyaWVzO2lmKGg8PW8pcmV0dXJuIGEoZT1wKHQuc2xpY2UoaSxuKzEpKSx0aGlzLnRvQkJveCksZTtyfHwocj1NYXRoLmNlaWwoTWF0aC5sb2coaCkvTWF0aC5sb2cobykpLG89TWF0aC5jZWlsKGgvTWF0aC5wb3cobyxyLTEpKSksKGU9cChbXSkpLmxlYWY9ITEsZS5oZWlnaHQ9cjt2YXIgcz1NYXRoLmNlaWwoaC9vKSxsPXMqTWF0aC5jZWlsKE1hdGguc3FydChvKSk7ZCh0LGksbixsLHRoaXMuY29tcGFyZU1pblgpO2Zvcih2YXIgZj1pO2Y8PW47Zis9bCl7dmFyIHU9TWF0aC5taW4oZitsLTEsbik7ZCh0LGYsdSxzLHRoaXMuY29tcGFyZU1pblkpO2Zvcih2YXIgbT1mO208PXU7bSs9cyl7dmFyIGM9TWF0aC5taW4obStzLTEsdSk7ZS5jaGlsZHJlbi5wdXNoKHRoaXMuX2J1aWxkKHQsbSxjLHItMSkpfX1yZXR1cm4gYShlLHRoaXMudG9CQm94KSxlfSxyLnByb3RvdHlwZS5fY2hvb3NlU3VidHJlZT1mdW5jdGlvbih0LGksbixyKXtmb3IoO3IucHVzaChpKSwhaS5sZWFmJiZyLmxlbmd0aC0xIT09bjspe2Zvcih2YXIgZT0xLzAsYT0xLzAsaD12b2lkIDAsbz0wO288aS5jaGlsZHJlbi5sZW5ndGg7bysrKXt2YXIgcz1pLmNoaWxkcmVuW29dLGw9ZihzKSx1PShtPXQsYz1zLChNYXRoLm1heChjLm1heFgsbS5tYXhYKS1NYXRoLm1pbihjLm1pblgsbS5taW5YKSkqKE1hdGgubWF4KGMubWF4WSxtLm1heFkpLU1hdGgubWluKGMubWluWSxtLm1pblkpKS1sKTt1PGE/KGE9dSxlPWw8ZT9sOmUsaD1zKTp1PT09YSYmbDxlJiYoZT1sLGg9cyl9aT1ofHxpLmNoaWxkcmVuWzBdfXZhciBtLGM7cmV0dXJuIGl9LHIucHJvdG90eXBlLl9pbnNlcnQ9ZnVuY3Rpb24odCxpLG4pe3ZhciByPW4/dDp0aGlzLnRvQkJveCh0KSxlPVtdLGE9dGhpcy5fY2hvb3NlU3VidHJlZShyLHRoaXMuZGF0YSxpLGUpO2ZvcihhLmNoaWxkcmVuLnB1c2godCksbyhhLHIpO2k+PTAmJmVbaV0uY2hpbGRyZW4ubGVuZ3RoPnRoaXMuX21heEVudHJpZXM7KXRoaXMuX3NwbGl0KGUsaSksaS0tO3RoaXMuX2FkanVzdFBhcmVudEJCb3hlcyhyLGUsaSl9LHIucHJvdG90eXBlLl9zcGxpdD1mdW5jdGlvbih0LGkpe3ZhciBuPXRbaV0scj1uLmNoaWxkcmVuLmxlbmd0aCxlPXRoaXMuX21pbkVudHJpZXM7dGhpcy5fY2hvb3NlU3BsaXRBeGlzKG4sZSxyKTt2YXIgaD10aGlzLl9jaG9vc2VTcGxpdEluZGV4KG4sZSxyKSxvPXAobi5jaGlsZHJlbi5zcGxpY2UoaCxuLmNoaWxkcmVuLmxlbmd0aC1oKSk7by5oZWlnaHQ9bi5oZWlnaHQsby5sZWFmPW4ubGVhZixhKG4sdGhpcy50b0JCb3gpLGEobyx0aGlzLnRvQkJveCksaT90W2ktMV0uY2hpbGRyZW4ucHVzaChvKTp0aGlzLl9zcGxpdFJvb3QobixvKX0sci5wcm90b3R5cGUuX3NwbGl0Um9vdD1mdW5jdGlvbih0LGkpe3RoaXMuZGF0YT1wKFt0LGldKSx0aGlzLmRhdGEuaGVpZ2h0PXQuaGVpZ2h0KzEsdGhpcy5kYXRhLmxlYWY9ITEsYSh0aGlzLmRhdGEsdGhpcy50b0JCb3gpfSxyLnByb3RvdHlwZS5fY2hvb3NlU3BsaXRJbmRleD1mdW5jdGlvbih0LGksbil7Zm9yKHZhciByLGUsYSxvLHMsbCx1LG09MS8wLGM9MS8wLHA9aTtwPD1uLWk7cCsrKXt2YXIgZD1oKHQsMCxwLHRoaXMudG9CQm94KSx4PWgodCxwLG4sdGhpcy50b0JCb3gpLHY9KGU9ZCxhPXgsbz12b2lkIDAscz12b2lkIDAsbD12b2lkIDAsdT12b2lkIDAsbz1NYXRoLm1heChlLm1pblgsYS5taW5YKSxzPU1hdGgubWF4KGUubWluWSxhLm1pblkpLGw9TWF0aC5taW4oZS5tYXhYLGEubWF4WCksdT1NYXRoLm1pbihlLm1heFksYS5tYXhZKSxNYXRoLm1heCgwLGwtbykqTWF0aC5tYXgoMCx1LXMpKSxNPWYoZCkrZih4KTt2PG0/KG09dixyPXAsYz1NPGM/TTpjKTp2PT09bSYmTTxjJiYoYz1NLHI9cCl9cmV0dXJuIHJ8fG4taX0sci5wcm90b3R5cGUuX2Nob29zZVNwbGl0QXhpcz1mdW5jdGlvbih0LGksbil7dmFyIHI9dC5sZWFmP3RoaXMuY29tcGFyZU1pblg6cyxlPXQubGVhZj90aGlzLmNvbXBhcmVNaW5ZOmw7dGhpcy5fYWxsRGlzdE1hcmdpbih0LGksbixyKTx0aGlzLl9hbGxEaXN0TWFyZ2luKHQsaSxuLGUpJiZ0LmNoaWxkcmVuLnNvcnQocil9LHIucHJvdG90eXBlLl9hbGxEaXN0TWFyZ2luPWZ1bmN0aW9uKHQsaSxuLHIpe3QuY2hpbGRyZW4uc29ydChyKTtmb3IodmFyIGU9dGhpcy50b0JCb3gsYT1oKHQsMCxpLGUpLHM9aCh0LG4taSxuLGUpLGw9dShhKSt1KHMpLGY9aTtmPG4taTtmKyspe3ZhciBtPXQuY2hpbGRyZW5bZl07byhhLHQubGVhZj9lKG0pOm0pLGwrPXUoYSl9Zm9yKHZhciBjPW4taS0xO2M+PWk7Yy0tKXt2YXIgcD10LmNoaWxkcmVuW2NdO28ocyx0LmxlYWY/ZShwKTpwKSxsKz11KHMpfXJldHVybiBsfSxyLnByb3RvdHlwZS5fYWRqdXN0UGFyZW50QkJveGVzPWZ1bmN0aW9uKHQsaSxuKXtmb3IodmFyIHI9bjtyPj0wO3ItLSlvKGlbcl0sdCl9LHIucHJvdG90eXBlLl9jb25kZW5zZT1mdW5jdGlvbih0KXtmb3IodmFyIGk9dC5sZW5ndGgtMSxuPXZvaWQgMDtpPj0wO2ktLSkwPT09dFtpXS5jaGlsZHJlbi5sZW5ndGg/aT4wPyhuPXRbaS0xXS5jaGlsZHJlbikuc3BsaWNlKG4uaW5kZXhPZih0W2ldKSwxKTp0aGlzLmNsZWFyKCk6YSh0W2ldLHRoaXMudG9CQm94KX0scn0pO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0Fzc2VydGlvbkVycm9yXG4gKi9cblxuLyoqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBzdHJpbmc+fSAqL1xuY29uc3QgbWVzc2FnZXMgPSB7XG4gIDE6ICdUaGUgdmlldyBjZW50ZXIgaXMgbm90IGRlZmluZWQnLFxuICAyOiAnVGhlIHZpZXcgcmVzb2x1dGlvbiBpcyBub3QgZGVmaW5lZCcsXG4gIDM6ICdUaGUgdmlldyByb3RhdGlvbiBpcyBub3QgZGVmaW5lZCcsXG4gIDQ6ICdgaW1hZ2VgIGFuZCBgc3JjYCBjYW5ub3QgYmUgcHJvdmlkZWQgYXQgdGhlIHNhbWUgdGltZScsXG4gIDU6ICdgaW1nU2l6ZWAgbXVzdCBiZSBzZXQgd2hlbiBgaW1hZ2VgIGlzIHByb3ZpZGVkJyxcbiAgNzogJ2Bmb3JtYXRgIG11c3QgYmUgc2V0IHdoZW4gYHVybGAgaXMgc2V0JyxcbiAgODogJ1Vua25vd24gYHNlcnZlclR5cGVgIGNvbmZpZ3VyZWQnLFxuICA5OiAnYHVybGAgbXVzdCBiZSBjb25maWd1cmVkIG9yIHNldCB1c2luZyBgI3NldFVybCgpYCcsXG4gIDEwOiAnVGhlIGRlZmF1bHQgYGdlb21ldHJ5RnVuY3Rpb25gIGNhbiBvbmx5IGhhbmRsZSBgUG9pbnRgIGdlb21ldHJpZXMnLFxuICAxMTogJ2BvcHRpb25zLmZlYXR1cmVUeXBlc2AgbXVzdCBiZSBhbiBBcnJheScsXG4gIDEyOiAnYG9wdGlvbnMuZ2VvbWV0cnlOYW1lYCBtdXN0IGFsc28gYmUgcHJvdmlkZWQgd2hlbiBgb3B0aW9ucy5iYm94YCBpcyBzZXQnLFxuICAxMzogJ0ludmFsaWQgY29ybmVyJyxcbiAgMTQ6ICdJbnZhbGlkIGNvbG9yJyxcbiAgMTU6ICdUcmllZCB0byBnZXQgYSB2YWx1ZSBmb3IgYSBrZXkgdGhhdCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgY2FjaGUnLFxuICAxNjogJ1RyaWVkIHRvIHNldCBhIHZhbHVlIGZvciBhIGtleSB0aGF0IGlzIHVzZWQgYWxyZWFkeScsXG4gIDE3OiAnYHJlc29sdXRpb25zYCBtdXN0IGJlIHNvcnRlZCBpbiBkZXNjZW5kaW5nIG9yZGVyJyxcbiAgMTg6ICdFaXRoZXIgYG9yaWdpbmAgb3IgYG9yaWdpbnNgIG11c3QgYmUgY29uZmlndXJlZCwgbmV2ZXIgYm90aCcsXG4gIDE5OiAnTnVtYmVyIG9mIGB0aWxlU2l6ZXNgIGFuZCBgcmVzb2x1dGlvbnNgIG11c3QgYmUgZXF1YWwnLFxuICAyMDogJ051bWJlciBvZiBgb3JpZ2luc2AgYW5kIGByZXNvbHV0aW9uc2AgbXVzdCBiZSBlcXVhbCcsXG4gIDIyOiAnRWl0aGVyIGB0aWxlU2l6ZWAgb3IgYHRpbGVTaXplc2AgbXVzdCBiZSBjb25maWd1cmVkLCBuZXZlciBib3RoJyxcbiAgMjQ6ICdJbnZhbGlkIGV4dGVudCBvciBnZW9tZXRyeSBwcm92aWRlZCBhcyBgZ2VvbWV0cnlgJyxcbiAgMjU6ICdDYW5ub3QgZml0IGVtcHR5IGV4dGVudCBwcm92aWRlZCBhcyBgZ2VvbWV0cnlgJyxcbiAgMjY6ICdGZWF0dXJlcyBtdXN0IGhhdmUgYW4gaWQgc2V0JyxcbiAgMjc6ICdGZWF0dXJlcyBtdXN0IGhhdmUgYW4gaWQgc2V0JyxcbiAgMjg6ICdgcmVuZGVyTW9kZWAgbXVzdCBiZSBgXCJoeWJyaWRcImAgb3IgYFwidmVjdG9yXCJgJyxcbiAgMzA6ICdUaGUgcGFzc2VkIGBmZWF0dXJlYCB3YXMgYWxyZWFkeSBhZGRlZCB0byB0aGUgc291cmNlJyxcbiAgMzE6ICdUcmllZCB0byBlbnF1ZXVlIGFuIGBlbGVtZW50YCB0aGF0IHdhcyBhbHJlYWR5IGFkZGVkIHRvIHRoZSBxdWV1ZScsXG4gIDMyOiAnVHJhbnNmb3JtYXRpb24gbWF0cml4IGNhbm5vdCBiZSBpbnZlcnRlZCcsXG4gIDMzOiAnSW52YWxpZCB1bml0cycsXG4gIDM0OiAnSW52YWxpZCBnZW9tZXRyeSBsYXlvdXQnLFxuICAzNjogJ1Vua25vd24gU1JTIHR5cGUnLFxuICAzNzogJ1Vua25vd24gZ2VvbWV0cnkgdHlwZSBmb3VuZCcsXG4gIDM4OiAnYHN0eWxlTWFwVmFsdWVgIGhhcyBhbiB1bmtub3duIHR5cGUnLFxuICAzOTogJ1Vua25vd24gZ2VvbWV0cnkgdHlwZScsXG4gIDQwOiAnRXhwZWN0ZWQgYGZlYXR1cmVgIHRvIGhhdmUgYSBnZW9tZXRyeScsXG4gIDQxOiAnRXhwZWN0ZWQgYW4gYG9sL3N0eWxlL1N0eWxlYCBvciBhbiBhcnJheSBvZiBgb2wvc3R5bGUvU3R5bGUuanNgJyxcbiAgNDI6ICdRdWVzdGlvbiB1bmtub3duLCB0aGUgYW5zd2VyIGlzIDQyJyxcbiAgNDM6ICdFeHBlY3RlZCBgbGF5ZXJzYCB0byBiZSBhbiBhcnJheSBvciBhIGBDb2xsZWN0aW9uYCcsXG4gIDQ3OiAnRXhwZWN0ZWQgYGNvbnRyb2xzYCB0byBiZSBhbiBhcnJheSBvciBhbiBgb2wvQ29sbGVjdGlvbmAnLFxuICA0ODogJ0V4cGVjdGVkIGBpbnRlcmFjdGlvbnNgIHRvIGJlIGFuIGFycmF5IG9yIGFuIGBvbC9Db2xsZWN0aW9uYCcsXG4gIDQ5OiAnRXhwZWN0ZWQgYG92ZXJsYXlzYCB0byBiZSBhbiBhcnJheSBvciBhbiBgb2wvQ29sbGVjdGlvbmAnLFxuICA1MDogJ2BvcHRpb25zLmZlYXR1cmVUeXBlc2Agc2hvdWxkIGJlIGFuIEFycmF5JyxcbiAgNTE6ICdFaXRoZXIgYHVybGAgb3IgYHRpbGVKU09OYCBvcHRpb25zIG11c3QgYmUgcHJvdmlkZWQnLFxuICA1MjogJ1Vua25vd24gYHNlcnZlclR5cGVgIGNvbmZpZ3VyZWQnLFxuICA1MzogJ1Vua25vd24gYHRpZXJTaXplQ2FsY3VsYXRpb25gIGNvbmZpZ3VyZWQnLFxuICA1NTogJ1RoZSB7LXl9IHBsYWNlaG9sZGVyIHJlcXVpcmVzIGEgdGlsZSBncmlkIHdpdGggZXh0ZW50JyxcbiAgNTY6ICdtYXBCcm93c2VyRXZlbnQgbXVzdCBvcmlnaW5hdGUgZnJvbSBhIHBvaW50ZXIgZXZlbnQnLFxuICA1NzogJ0F0IGxlYXN0IDIgY29uZGl0aW9ucyBhcmUgcmVxdWlyZWQnLFxuICA1OTogJ0ludmFsaWQgY29tbWFuZCBmb3VuZCBpbiB0aGUgUEJGJyxcbiAgNjA6ICdNaXNzaW5nIG9yIGludmFsaWQgYHNpemVgJyxcbiAgNjE6ICdDYW5ub3QgZGV0ZXJtaW5lIElJSUYgSW1hZ2UgQVBJIHZlcnNpb24gZnJvbSBwcm92aWRlZCBpbWFnZSBpbmZvcm1hdGlvbiBKU09OJyxcbiAgNjI6ICdBIGBXZWJHTEFycmF5QnVmZmVyYCBtdXN0IGVpdGhlciBiZSBvZiB0eXBlIGBFTEVNRU5UX0FSUkFZX0JVRkZFUmAgb3IgYEFSUkFZX0JVRkZFUmAnLFxuICA2NDogJ0xheWVyIG9wYWNpdHkgbXVzdCBiZSBhIG51bWJlcicsXG4gIDY2OiAnYGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlYCBjYW5ub3QgYmUgdXNlZCBvbiBhIFdlYkdMIGxheWVyIGlmIHRoZSBoaXQgZGV0ZWN0aW9uIGxvZ2ljIGhhcyBub3QgYmVlbiBlbmFibGVkLiBUaGlzIGlzIGRvbmUgYnkgcHJvdmlkaW5nIGFkZXF1YXRlIHNoYWRlcnMgdXNpbmcgdGhlIGBoaXRWZXJ0ZXhTaGFkZXJgIGFuZCBgaGl0RnJhZ21lbnRTaGFkZXJgIHByb3BlcnRpZXMgb2YgYFdlYkdMUG9pbnRzTGF5ZXJSZW5kZXJlcmAnLFxuICA2NzogJ0EgbGF5ZXIgY2FuIG9ubHkgYmUgYWRkZWQgdG8gdGhlIG1hcCBvbmNlLiBVc2UgZWl0aGVyIGBsYXllci5zZXRNYXAoKWAgb3IgYG1hcC5hZGRMYXllcigpYCwgbm90IGJvdGgnLFxuICA2ODogJ0EgVmVjdG9yVGlsZSBzb3VyY2UgY2FuIG9ubHkgYmUgcmVuZGVyZWQgaWYgaXQgaGFzIGEgcHJvamVjdGlvbiBjb21wYXRpYmxlIHdpdGggdGhlIHZpZXcgcHJvamVjdGlvbicsXG4gIDY5OiAnYHdpZHRoYCBvciBgaGVpZ2h0YCBjYW5ub3QgYmUgcHJvdmlkZWQgdG9nZXRoZXIgd2l0aCBgc2NhbGVgJyxcbn07XG5cbi8qKlxuICogRXJyb3Igb2JqZWN0IHRocm93biB3aGVuIGFuIGFzc2VydGlvbiBmYWlsZWQuIFRoaXMgaXMgYW4gRUNNQS0yNjIgRXJyb3IsXG4gKiBleHRlbmRlZCB3aXRoIGEgYGNvZGVgIHByb3BlcnR5LlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Vycm9yLlxuICovXG5jbGFzcyBBc3NlcnRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb2RlIEVycm9yIGNvZGUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb2RlKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG1lc3NhZ2VzW2NvZGVdO1xuXG4gICAgc3VwZXIobWVzc2FnZSk7XG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlLiBUaGUgbWVhbmluZyBvZiB0aGUgY29kZSBjYW4gYmUgZm91bmQgb25cbiAgICAgKiBodHRwczovL29wZW5sYXllcnMub3JnL2VuL2xhdGVzdC9kb2MvZXJyb3JzLyAocmVwbGFjZSBgbGF0ZXN0YCB3aXRoXG4gICAgICogdGhlIHZlcnNpb24gZm91bmQgaW4gdGhlIE9wZW5MYXllcnMgc2NyaXB0J3MgaGVhZGVyIGNvbW1lbnQgaWYgYSB2ZXJzaW9uXG4gICAgICogb3RoZXIgdGhhbiB0aGUgbGF0ZXN0IGlzIHVzZWQpLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlcHJlY2F0ZWQgb2wvQXNzZXJ0aW9uRXJyb3IgYW5kIGVycm9yIGNvZGVzIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4wXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMubmFtZSA9ICdBc3NlcnRpb25FcnJvcic7XG5cbiAgICAvLyBSZS1hc3NpZ24gbWVzc2FnZSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9SaWNoLUhhcnJpcy9idWJsZS9pc3N1ZXMvNDBcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFzc2VydGlvbkVycm9yO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0Rpc3Bvc2FibGVcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIE9iamVjdHMgdGhhdCBuZWVkIHRvIGNsZWFuIHVwIGFmdGVyIHRoZW1zZWx2ZXMuXG4gKi9cbmNsYXNzIERpc3Bvc2FibGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0IGhhcyBhbHJlYWR5IGJlZW4gZGlzcG9zZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuZGlzcG9zZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbiB1cC5cbiAgICovXG4gIGRpc3Bvc2UoKSB7XG4gICAgaWYgKCF0aGlzLmRpc3Bvc2VkKSB7XG4gICAgICB0aGlzLmRpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZGlzcG9zZUludGVybmFsKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV4dGVuc2lvbiBwb2ludCBmb3IgZGlzcG9zYWJsZSBvYmplY3RzLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBkaXNwb3NlSW50ZXJuYWwoKSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBEaXNwb3NhYmxlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0ltYWdlXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbWFnZUJhc2UgZnJvbSAnLi9JbWFnZUJhc2UuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi9JbWFnZVN0YXRlLmpzJztcbmltcG9ydCB7SU1BR0VfREVDT0RFfSBmcm9tICcuL2hhcy5qcyc7XG5pbXBvcnQge2dldEhlaWdodH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHtsaXN0ZW5PbmNlLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvSW1hZ2V+SW1hZ2VXcmFwcGVyfSBmb3IgdGhlIGltYWdlIGFuZCBhXG4gKiBge3N0cmluZ31gIGZvciB0aGUgc3JjIGFzIGFyZ3VtZW50cy4gSXQgaXMgc3VwcG9zZWQgdG8gbWFrZSBpdCBzbyB0aGVcbiAqIHVuZGVybHlpbmcgaW1hZ2Uge0BsaW5rIG1vZHVsZTpvbC9JbWFnZX5JbWFnZVdyYXBwZXIjZ2V0SW1hZ2V9IGlzIGFzc2lnbmVkIHRoZVxuICogY29udGVudCBzcGVjaWZpZWQgYnkgdGhlIHNyYy4gSWYgbm90IHNwZWNpZmllZCwgdGhlIGRlZmF1bHQgaXNcbiAqXG4gKiAgICAgZnVuY3Rpb24oaW1hZ2UsIHNyYykge1xuICogICAgICAgaW1hZ2UuZ2V0SW1hZ2UoKS5zcmMgPSBzcmM7XG4gKiAgICAgfVxuICpcbiAqIFByb3ZpZGluZyBhIGN1c3RvbSBgaW1hZ2VMb2FkRnVuY3Rpb25gIGNhbiBiZSB1c2VmdWwgdG8gbG9hZCBpbWFnZXMgd2l0aFxuICogcG9zdCByZXF1ZXN0cyBvciAtIGluIGdlbmVyYWwgLSB0aHJvdWdoIFhIUiByZXF1ZXN0cywgd2hlcmUgdGhlIHNyYyBvZiB0aGVcbiAqIGltYWdlIGVsZW1lbnQgd291bGQgYmUgc2V0IHRvIGEgZGF0YSBVUkkgd2hlbiB0aGUgY29udGVudCBpcyBsb2FkZWQuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKEltYWdlV3JhcHBlciwgc3RyaW5nKTogdm9pZH0gTG9hZEZ1bmN0aW9uXG4gKiBAYXBpXG4gKi9cblxuY2xhc3MgSW1hZ2VXcmFwcGVyIGV4dGVuZHMgSW1hZ2VCYXNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgSW1hZ2Ugc291cmNlIFVSSS5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAqIEBwYXJhbSB7TG9hZEZ1bmN0aW9ufSBpbWFnZUxvYWRGdW5jdGlvbiBJbWFnZSBsb2FkIGZ1bmN0aW9uLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgZXh0ZW50LFxuICAgIHJlc29sdXRpb24sXG4gICAgcGl4ZWxSYXRpbyxcbiAgICBzcmMsXG4gICAgY3Jvc3NPcmlnaW4sXG4gICAgaW1hZ2VMb2FkRnVuY3Rpb25cbiAgKSB7XG4gICAgc3VwZXIoZXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvLCBJbWFnZVN0YXRlLklETEUpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuc3JjXyA9IHNyYztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlXyA9IG5ldyBJbWFnZSgpO1xuICAgIGlmIChjcm9zc09yaWdpbiAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5pbWFnZV8uY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/ZnVuY3Rpb24oKTp2b2lkfVxuICAgICAqL1xuICAgIHRoaXMudW5saXN0ZW5fID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5zdGF0ZSA9IEltYWdlU3RhdGUuSURMRTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0xvYWRGdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlTG9hZEZ1bmN0aW9uXyA9IGltYWdlTG9hZEZ1bmN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gSW1hZ2UuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEltYWdlKCkge1xuICAgIHJldHVybiB0aGlzLmltYWdlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFja3MgbG9hZGluZyBvciByZWFkIGVycm9ycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUltYWdlRXJyb3JfKCkge1xuICAgIHRoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLkVSUk9SO1xuICAgIHRoaXMudW5saXN0ZW5JbWFnZV8oKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFja3Mgc3VjY2Vzc2Z1bCBpbWFnZSBsb2FkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlSW1hZ2VMb2FkXygpIHtcbiAgICBpZiAodGhpcy5yZXNvbHV0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMucmVzb2x1dGlvbiA9IGdldEhlaWdodCh0aGlzLmV4dGVudCkgLyB0aGlzLmltYWdlXy5oZWlnaHQ7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLkxPQURFRDtcbiAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCB0aGUgaW1hZ2Ugb3IgcmV0cnkgaWYgbG9hZGluZyBwcmV2aW91c2x5IGZhaWxlZC5cbiAgICogTG9hZGluZyBpcyB0YWtlbiBjYXJlIG9mIGJ5IHRoZSB0aWxlIHF1ZXVlLCBhbmQgY2FsbGluZyB0aGlzIG1ldGhvZCBpc1xuICAgKiBvbmx5IG5lZWRlZCBmb3IgcHJlbG9hZGluZyBvciBmb3IgcmVsb2FkaW5nIGluIGNhc2Ugb2YgYW4gZXJyb3IuXG4gICAqIEBhcGlcbiAgICovXG4gIGxvYWQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gSW1hZ2VTdGF0ZS5JRExFIHx8IHRoaXMuc3RhdGUgPT0gSW1hZ2VTdGF0ZS5FUlJPUikge1xuICAgICAgdGhpcy5zdGF0ZSA9IEltYWdlU3RhdGUuTE9BRElORztcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgdGhpcy5pbWFnZUxvYWRGdW5jdGlvbl8odGhpcywgdGhpcy5zcmNfKTtcbiAgICAgIHRoaXMudW5saXN0ZW5fID0gbGlzdGVuSW1hZ2UoXG4gICAgICAgIHRoaXMuaW1hZ2VfLFxuICAgICAgICB0aGlzLmhhbmRsZUltYWdlTG9hZF8uYmluZCh0aGlzKSxcbiAgICAgICAgdGhpcy5oYW5kbGVJbWFnZUVycm9yXy5iaW5kKHRoaXMpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gaW1hZ2UgSW1hZ2UuXG4gICAqL1xuICBzZXRJbWFnZShpbWFnZSkge1xuICAgIHRoaXMuaW1hZ2VfID0gaW1hZ2U7XG4gICAgdGhpcy5yZXNvbHV0aW9uID0gZ2V0SGVpZ2h0KHRoaXMuZXh0ZW50KSAvIHRoaXMuaW1hZ2VfLmhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjYXJkcyBldmVudCBoYW5kbGVycyB3aGljaCBsaXN0ZW4gZm9yIGxvYWQgY29tcGxldGlvbiBvciBlcnJvcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB1bmxpc3RlbkltYWdlXygpIHtcbiAgICBpZiAodGhpcy51bmxpc3Rlbl8pIHtcbiAgICAgIHRoaXMudW5saXN0ZW5fKCk7XG4gICAgICB0aGlzLnVubGlzdGVuXyA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIEltYWdlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6YW55fSBsb2FkSGFuZGxlciBMb2FkIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbigpOmFueX0gZXJyb3JIYW5kbGVyIEVycm9yIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogQHJldHVybiB7ZnVuY3Rpb24oKTp2b2lkfSBDYWxsYmFjayB0byBzdG9wIGxpc3RlbmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlbkltYWdlKGltYWdlLCBsb2FkSGFuZGxlciwgZXJyb3JIYW5kbGVyKSB7XG4gIGNvbnN0IGltZyA9IC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudH0gKi8gKGltYWdlKTtcbiAgbGV0IGxpc3RlbmluZyA9IHRydWU7XG4gIGxldCBkZWNvZGluZyA9IGZhbHNlO1xuICBsZXQgbG9hZGVkID0gZmFsc2U7XG5cbiAgY29uc3QgbGlzdGVuZXJLZXlzID0gW1xuICAgIGxpc3Rlbk9uY2UoaW1nLCBFdmVudFR5cGUuTE9BRCwgZnVuY3Rpb24gKCkge1xuICAgICAgbG9hZGVkID0gdHJ1ZTtcbiAgICAgIGlmICghZGVjb2RpbmcpIHtcbiAgICAgICAgbG9hZEhhbmRsZXIoKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgXTtcblxuICBpZiAoaW1nLnNyYyAmJiBJTUFHRV9ERUNPREUpIHtcbiAgICBkZWNvZGluZyA9IHRydWU7XG4gICAgaW1nXG4gICAgICAuZGVjb2RlKClcbiAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGxpc3RlbmluZykge1xuICAgICAgICAgIGxvYWRIYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmIChsaXN0ZW5pbmcpIHtcbiAgICAgICAgICBpZiAobG9hZGVkKSB7XG4gICAgICAgICAgICBsb2FkSGFuZGxlcigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnJvckhhbmRsZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGxpc3RlbmVyS2V5cy5wdXNoKGxpc3Rlbk9uY2UoaW1nLCBFdmVudFR5cGUuRVJST1IsIGVycm9ySGFuZGxlcikpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHVubGlzdGVuKCkge1xuICAgIGxpc3RlbmluZyA9IGZhbHNlO1xuICAgIGxpc3RlbmVyS2V5cy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBJbWFnZVdyYXBwZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvSW1hZ2VTdGF0ZVxuICovXG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBJRExFOiAwLFxuICBMT0FESU5HOiAxLFxuICBMT0FERUQ6IDIsXG4gIEVSUk9SOiAzLFxuICBFTVBUWTogNCxcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvSW1hZ2VUaWxlXG4gKi9cbmltcG9ydCBUaWxlIGZyb20gJy4vVGlsZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJEfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge2xpc3RlbkltYWdlfSBmcm9tICcuL0ltYWdlLmpzJztcblxuY2xhc3MgSW1hZ2VUaWxlIGV4dGVuZHMgVGlsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fSBzdGF0ZSBTdGF0ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHNyYyBJbWFnZSBzb3VyY2UgVVJJLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSB0aWxlTG9hZEZ1bmN0aW9uIFRpbGUgbG9hZCBmdW5jdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuT3B0aW9uc30gW29wdGlvbnNdIFRpbGUgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRpbGVDb29yZCwgc3RhdGUsIHNyYywgY3Jvc3NPcmlnaW4sIHRpbGVMb2FkRnVuY3Rpb24sIG9wdGlvbnMpIHtcbiAgICBzdXBlcih0aWxlQ29vcmQsIHN0YXRlLCBvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9zdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5jcm9zc09yaWdpbl8gPSBjcm9zc09yaWdpbjtcblxuICAgIC8qKlxuICAgICAqIEltYWdlIFVSSVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuc3JjXyA9IHNyYztcblxuICAgIHRoaXMua2V5ID0gc3JjO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlXyA9IG5ldyBJbWFnZSgpO1xuICAgIGlmIChjcm9zc09yaWdpbiAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5pbWFnZV8uY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/ZnVuY3Rpb24oKTp2b2lkfVxuICAgICAqL1xuICAgIHRoaXMudW5saXN0ZW5fID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uXyA9IHRpbGVMb2FkRnVuY3Rpb247XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBIVE1MIGltYWdlIGVsZW1lbnQgZm9yIHRoaXMgdGlsZSAobWF5IGJlIGEgQ2FudmFzLCBJbWFnZSwgb3IgVmlkZW8pLlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IEltYWdlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRJbWFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZV87XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhbiBIVE1MIGltYWdlIGVsZW1lbnQgZm9yIHRoaXMgdGlsZSAobWF5IGJlIGEgQ2FudmFzIG9yIHByZWxvYWRlZCBJbWFnZSkuXG4gICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH0gZWxlbWVudCBFbGVtZW50LlxuICAgKi9cbiAgc2V0SW1hZ2UoZWxlbWVudCkge1xuICAgIHRoaXMuaW1hZ2VfID0gZWxlbWVudDtcbiAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURFRDtcbiAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogVHJhY2tzIGxvYWRpbmcgb3IgcmVhZCBlcnJvcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVJbWFnZUVycm9yXygpIHtcbiAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVSUk9SO1xuICAgIHRoaXMudW5saXN0ZW5JbWFnZV8oKTtcbiAgICB0aGlzLmltYWdlXyA9IGdldEJsYW5rSW1hZ2UoKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFja3Mgc3VjY2Vzc2Z1bCBpbWFnZSBsb2FkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlSW1hZ2VMb2FkXygpIHtcbiAgICBjb25zdCBpbWFnZSA9IC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudH0gKi8gKHRoaXMuaW1hZ2VfKTtcbiAgICBpZiAoaW1hZ2UubmF0dXJhbFdpZHRoICYmIGltYWdlLm5hdHVyYWxIZWlnaHQpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuTE9BREVEO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgIH1cbiAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCB0aGUgaW1hZ2Ugb3IgcmV0cnkgaWYgbG9hZGluZyBwcmV2aW91c2x5IGZhaWxlZC5cbiAgICogTG9hZGluZyBpcyB0YWtlbiBjYXJlIG9mIGJ5IHRoZSB0aWxlIHF1ZXVlLCBhbmQgY2FsbGluZyB0aGlzIG1ldGhvZCBpc1xuICAgKiBvbmx5IG5lZWRlZCBmb3IgcHJlbG9hZGluZyBvciBmb3IgcmVsb2FkaW5nIGluIGNhc2Ugb2YgYW4gZXJyb3IuXG4gICAqXG4gICAqIFRvIHJldHJ5IGxvYWRpbmcgdGlsZXMgb24gZmFpbGVkIHJlcXVlc3RzLCB1c2UgYSBjdXN0b20gYHRpbGVMb2FkRnVuY3Rpb25gXG4gICAqIHRoYXQgY2hlY2tzIGZvciBlcnJvciBzdGF0dXMgY29kZXMgYW5kIHJlbG9hZHMgb25seSB3aGVuIHRoZSBzdGF0dXMgY29kZSBpc1xuICAgKiA0MDgsIDQyOSwgNTAwLCA1MDIsIDUwMyBhbmQgNTA0LCBhbmQgb25seSB3aGVuIG5vdCB0b28gbWFueSByZXRyaWVzIGhhdmUgYmVlblxuICAgKiBtYWRlIGFscmVhZHk6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNvbnN0IHJldHJ5Q29kZXMgPSBbNDA4LCA0MjksIDUwMCwgNTAyLCA1MDMsIDUwNF07XG4gICAqIGNvbnN0IHJldHJpZXMgPSB7fTtcbiAgICogc291cmNlLnNldFRpbGVMb2FkRnVuY3Rpb24oKHRpbGUsIHNyYykgPT4ge1xuICAgKiAgIGNvbnN0IGltYWdlID0gdGlsZS5nZXRJbWFnZSgpO1xuICAgKiAgIGZldGNoKHNyYylcbiAgICogICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgKiAgICAgICBpZiAocmV0cnlDb2Rlcy5pbmNsdWRlcyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAqICAgICAgICAgcmV0cmllc1tzcmNdID0gKHJldHJpZXNbc3JjXSB8fCAwKSArIDE7XG4gICAqICAgICAgICAgaWYgKHJldHJpZXNbc3JjXSA8PSAzKSB7XG4gICAqICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRpbGUubG9hZCgpLCByZXRyaWVzW3NyY10gKiAxMDAwKTtcbiAgICogICAgICAgICB9XG4gICAqICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAqICAgICAgIH1cbiAgICogICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICogICAgIH0pXG4gICAqICAgICAudGhlbigoYmxvYikgPT4ge1xuICAgKiAgICAgICBjb25zdCBpbWFnZVVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAqICAgICAgIGltYWdlLnNyYyA9IGltYWdlVXJsO1xuICAgKiAgICAgICBzZXRUaW1lb3V0KCgpID0+IFVSTC5yZXZva2VPYmplY3RVUkwoaW1hZ2VVcmwpLCA1MDAwKTtcbiAgICogICAgIH0pXG4gICAqICAgICAuY2F0Y2goKCkgPT4gdGlsZS5zZXRTdGF0ZSgzKSk7IC8vIGVycm9yXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogQGFwaVxuICAgKi9cbiAgbG9hZCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PSBUaWxlU3RhdGUuRVJST1IpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuSURMRTtcbiAgICAgIHRoaXMuaW1hZ2VfID0gbmV3IEltYWdlKCk7XG4gICAgICBpZiAodGhpcy5jcm9zc09yaWdpbl8gIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5pbWFnZV8uY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luXztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuTE9BRElORztcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uXyh0aGlzLCB0aGlzLnNyY18pO1xuICAgICAgdGhpcy51bmxpc3Rlbl8gPSBsaXN0ZW5JbWFnZShcbiAgICAgICAgdGhpcy5pbWFnZV8sXG4gICAgICAgIHRoaXMuaGFuZGxlSW1hZ2VMb2FkXy5iaW5kKHRoaXMpLFxuICAgICAgICB0aGlzLmhhbmRsZUltYWdlRXJyb3JfLmJpbmQodGhpcylcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc2NhcmRzIGV2ZW50IGhhbmRsZXJzIHdoaWNoIGxpc3RlbiBmb3IgbG9hZCBjb21wbGV0aW9uIG9yIGVycm9ycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHVubGlzdGVuSW1hZ2VfKCkge1xuICAgIGlmICh0aGlzLnVubGlzdGVuXykge1xuICAgICAgdGhpcy51bmxpc3Rlbl8oKTtcbiAgICAgIHRoaXMudW5saXN0ZW5fID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgYSAxLXBpeGVsIGJsYW5rIGltYWdlLlxuICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEJsYW5rIGltYWdlLlxuICovXG5mdW5jdGlvbiBnZXRCbGFua0ltYWdlKCkge1xuICBjb25zdCBjdHggPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoMSwgMSk7XG4gIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwKSc7XG4gIGN0eC5maWxsUmVjdCgwLCAwLCAxLCAxKTtcbiAgcmV0dXJuIGN0eC5jYW52YXM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEltYWdlVGlsZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9Db2xsZWN0aW9uRXZlbnRUeXBlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiBhbiBpdGVtIGlzIGFkZGVkIHRvIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL0NvbGxlY3Rpb24uQ29sbGVjdGlvbkV2ZW50I2FkZFxuICAgKiBAYXBpXG4gICAqL1xuICBBREQ6ICdhZGQnLFxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gYW4gaXRlbSBpcyByZW1vdmVkIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBldmVudCBtb2R1bGU6b2wvQ29sbGVjdGlvbi5Db2xsZWN0aW9uRXZlbnQjcmVtb3ZlXG4gICAqIEBhcGlcbiAgICovXG4gIFJFTU9WRTogJ3JlbW92ZScsXG59O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0NvbGxlY3Rpb25cbiAqL1xuaW1wb3J0IEFzc2VydGlvbkVycm9yIGZyb20gJy4vQXNzZXJ0aW9uRXJyb3IuanMnO1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi9PYmplY3QuanMnO1xuaW1wb3J0IENvbGxlY3Rpb25FdmVudFR5cGUgZnJvbSAnLi9Db2xsZWN0aW9uRXZlbnRUeXBlLmpzJztcbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50cy9FdmVudC5qcyc7XG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IFByb3BlcnR5ID0ge1xuICBMRU5HVEg6ICdsZW5ndGgnLFxufTtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb25+Q29sbGVjdGlvbn0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2YgdGhpc1xuICogdHlwZS5cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBjbGFzcyBDb2xsZWN0aW9uRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbkV2ZW50VHlwZS5qc1wiKS5kZWZhdWx0fSB0eXBlIFR5cGUuXG4gICAqIEBwYXJhbSB7VH0gZWxlbWVudCBFbGVtZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBhZGRlZCBvciByZW1vdmVkIGVsZW1lbnQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBlbGVtZW50LCBpbmRleCkge1xuICAgIHN1cGVyKHR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGVsZW1lbnQgdGhhdCBpcyBhZGRlZCB0byBvciByZW1vdmVkIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICogQHR5cGUge1R9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggb2YgdGhlIGFkZGVkIG9yIHJlbW92ZWQgZWxlbWVudC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gIH1cbn1cblxuLyoqKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXN8J2NoYW5nZTpsZW5ndGgnLCBpbXBvcnQoXCIuL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTwnYWRkJ3wncmVtb3ZlJywgQ29sbGVjdGlvbkV2ZW50PFQ+LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXN8XG4gKiAgICAgJ2NoYW5nZTpsZW5ndGgnfCdhZGQnfCdyZW1vdmUnLFJldHVybj59IENvbGxlY3Rpb25PblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtib29sZWFufSBbdW5pcXVlPWZhbHNlXSBEaXNhbGxvdyB0aGUgc2FtZSBpdGVtIGZyb20gYmVpbmcgYWRkZWQgdG9cbiAqIHRoZSBjb2xsZWN0aW9uIHR3aWNlLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQW4gZXhwYW5kZWQgdmVyc2lvbiBvZiBzdGFuZGFyZCBKUyBBcnJheSwgYWRkaW5nIGNvbnZlbmllbmNlIG1ldGhvZHMgZm9yXG4gKiBtYW5pcHVsYXRpb24uIEFkZCBhbmQgcmVtb3ZlIGNoYW5nZXMgdG8gdGhlIENvbGxlY3Rpb24gdHJpZ2dlciBhIENvbGxlY3Rpb25cbiAqIGV2ZW50LiBOb3RlIHRoYXQgdGhpcyBkb2VzIG5vdCBjb3ZlciBjaGFuZ2VzIHRvIHRoZSBvYmplY3RzIF93aXRoaW5fIHRoZVxuICogQ29sbGVjdGlvbjsgdGhleSB0cmlnZ2VyIGV2ZW50cyBvbiB0aGUgYXBwcm9wcmlhdGUgb2JqZWN0LCBub3Qgb24gdGhlXG4gKiBDb2xsZWN0aW9uIGFzIGEgd2hvbGUuXG4gKlxuICogQGZpcmVzIENvbGxlY3Rpb25FdmVudFxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAYXBpXG4gKi9cbmNsYXNzIENvbGxlY3Rpb24gZXh0ZW5kcyBCYXNlT2JqZWN0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8VD59IFthcnJheV0gQXJyYXkuXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIENvbGxlY3Rpb24gb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGFycmF5LCBvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbk9uU2lnbmF0dXJlPFQsIGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbk9uU2lnbmF0dXJlPFQsIGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbmNlO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uT25TaWduYXR1cmU8VCwgdm9pZD59XG4gICAgICovXG4gICAgdGhpcy51bjtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnVuaXF1ZV8gPSAhIW9wdGlvbnMudW5pcXVlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IUFycmF5PFQ+fVxuICAgICAqL1xuICAgIHRoaXMuYXJyYXlfID0gYXJyYXkgPyBhcnJheSA6IFtdO1xuXG4gICAgaWYgKHRoaXMudW5pcXVlXykge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdGhpcy5hcnJheV8ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB0aGlzLmFzc2VydFVuaXF1ZV8odGhpcy5hcnJheV9baV0sIGkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudXBkYXRlTGVuZ3RoXygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgZWxlbWVudHMgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgd2hpbGUgKHRoaXMuZ2V0TGVuZ3RoKCkgPiAwKSB7XG4gICAgICB0aGlzLnBvcCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgZWxlbWVudHMgdG8gdGhlIGNvbGxlY3Rpb24uICBUaGlzIHB1c2hlcyBlYWNoIGl0ZW0gaW4gdGhlIHByb3ZpZGVkIGFycmF5XG4gICAqIHRvIHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSB7IUFycmF5PFQ+fSBhcnIgQXJyYXkuXG4gICAqIEByZXR1cm4ge0NvbGxlY3Rpb248VD59IFRoaXMgY29sbGVjdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZXh0ZW5kKGFycikge1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGFyci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB0aGlzLnB1c2goYXJyW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZSBvdmVyIGVhY2ggZWxlbWVudCwgY2FsbGluZyB0aGUgcHJvdmlkZWQgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCwgbnVtYmVyLCBBcnJheTxUPik6ICp9IGYgVGhlIGZ1bmN0aW9uIHRvIGNhbGxcbiAgICogICAgIGZvciBldmVyeSBlbGVtZW50LiBUaGlzIGZ1bmN0aW9uIHRha2VzIDMgYXJndW1lbnRzICh0aGUgZWxlbWVudCwgdGhlXG4gICAqICAgICBpbmRleCBhbmQgdGhlIGFycmF5KS4gVGhlIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLlxuICAgKiBAYXBpXG4gICAqL1xuICBmb3JFYWNoKGYpIHtcbiAgICBjb25zdCBhcnJheSA9IHRoaXMuYXJyYXlfO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGFycmF5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGYoYXJyYXlbaV0sIGksIGFycmF5KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSB1bmRlcmx5aW5nIEFycmF5IG9iamVjdC4gV2FybmluZzogaWYgdGhlIGFycmF5XG4gICAqIGlzIG11dGF0ZWQsIG5vIGV2ZW50cyB3aWxsIGJlIGRpc3BhdGNoZWQgYnkgdGhlIGNvbGxlY3Rpb24sIGFuZCB0aGVcbiAgICogY29sbGVjdGlvbidzIFwibGVuZ3RoXCIgcHJvcGVydHkgd29uJ3QgYmUgaW4gc3luYyB3aXRoIHRoZSBhY3R1YWwgbGVuZ3RoXG4gICAqIG9mIHRoZSBhcnJheS5cbiAgICogQHJldHVybiB7IUFycmF5PFQ+fSBBcnJheS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0QXJyYXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXJyYXlfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleC5cbiAgICogQHJldHVybiB7VH0gRWxlbWVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgaXRlbShpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmFycmF5X1tpbmRleF07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsZW5ndGggb2YgdGhpcyBjb2xsZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBsZW5ndGggb2YgdGhlIGFycmF5LlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRMZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KFByb3BlcnR5LkxFTkdUSCk7XG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0IGFuIGVsZW1lbnQgYXQgdGhlIHByb3ZpZGVkIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBpbnNlcnRBdChpbmRleCwgZWxlbSkge1xuICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aGlzLmdldExlbmd0aCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZGV4IG91dCBvZiBib3VuZHM6ICcgKyBpbmRleCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnVuaXF1ZV8pIHtcbiAgICAgIHRoaXMuYXNzZXJ0VW5pcXVlXyhlbGVtKTtcbiAgICB9XG4gICAgdGhpcy5hcnJheV8uc3BsaWNlKGluZGV4LCAwLCBlbGVtKTtcbiAgICB0aGlzLnVwZGF0ZUxlbmd0aF8oKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtLCBpbmRleClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgbGFzdCBlbGVtZW50IG9mIHRoZSBjb2xsZWN0aW9uIGFuZCByZXR1cm4gaXQuXG4gICAqIFJldHVybiBgdW5kZWZpbmVkYCBpZiB0aGUgY29sbGVjdGlvbiBpcyBlbXB0eS5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IEVsZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIHBvcCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdmVBdCh0aGlzLmdldExlbmd0aCgpIC0gMSk7XG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0IHRoZSBwcm92aWRlZCBlbGVtZW50IGF0IHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE5ldyBsZW5ndGggb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIHB1c2goZWxlbSkge1xuICAgIGlmICh0aGlzLnVuaXF1ZV8pIHtcbiAgICAgIHRoaXMuYXNzZXJ0VW5pcXVlXyhlbGVtKTtcbiAgICB9XG4gICAgY29uc3QgbiA9IHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgdGhpcy5pbnNlcnRBdChuLCBlbGVtKTtcbiAgICByZXR1cm4gdGhpcy5nZXRMZW5ndGgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gZWxlbWVudCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIGVsZW1lbnQgb3IgdW5kZWZpbmVkIGlmIG5vbmUgZm91bmQuXG4gICAqIEBhcGlcbiAgICovXG4gIHJlbW92ZShlbGVtKSB7XG4gICAgY29uc3QgYXJyID0gdGhpcy5hcnJheV87XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gYXJyLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGlmIChhcnJbaV0gPT09IGVsZW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlQXQoaSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBlbGVtZW50IGF0IHRoZSBwcm92aWRlZCBpbmRleCBhbmQgcmV0dXJuIGl0LlxuICAgKiBSZXR1cm4gYHVuZGVmaW5lZGAgaWYgdGhlIGNvbGxlY3Rpb24gZG9lcyBub3QgY29udGFpbiB0aGlzIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBWYWx1ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgcmVtb3ZlQXQoaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuZ2V0TGVuZ3RoKCkpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHByZXYgPSB0aGlzLmFycmF5X1tpbmRleF07XG4gICAgdGhpcy5hcnJheV8uc3BsaWNlKGluZGV4LCAxKTtcbiAgICB0aGlzLnVwZGF0ZUxlbmd0aF8oKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAvKiogQHR5cGUge0NvbGxlY3Rpb25FdmVudDxUPn0gKi8gKFxuICAgICAgICBuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLCBwcmV2LCBpbmRleClcbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiBwcmV2O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleC5cbiAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEF0KGluZGV4LCBlbGVtKSB7XG4gICAgY29uc3QgbiA9IHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgaWYgKGluZGV4ID49IG4pIHtcbiAgICAgIHRoaXMuaW5zZXJ0QXQoaW5kZXgsIGVsZW0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZGV4IG91dCBvZiBib3VuZHM6ICcgKyBpbmRleCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnVuaXF1ZV8pIHtcbiAgICAgIHRoaXMuYXNzZXJ0VW5pcXVlXyhlbGVtLCBpbmRleCk7XG4gICAgfVxuICAgIGNvbnN0IHByZXYgPSB0aGlzLmFycmF5X1tpbmRleF07XG4gICAgdGhpcy5hcnJheV9baW5kZXhdID0gZWxlbTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAvKiogQHR5cGUge0NvbGxlY3Rpb25FdmVudDxUPn0gKi8gKFxuICAgICAgICBuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLCBwcmV2LCBpbmRleClcbiAgICAgIClcbiAgICApO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgIC8qKiBAdHlwZSB7Q29sbGVjdGlvbkV2ZW50PFQ+fSAqLyAoXG4gICAgICAgIG5ldyBDb2xsZWN0aW9uRXZlbnQoQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIGVsZW0sIGluZGV4KVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHVwZGF0ZUxlbmd0aF8oKSB7XG4gICAgdGhpcy5zZXQoUHJvcGVydHkuTEVOR1RILCB0aGlzLmFycmF5Xy5sZW5ndGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2V4Y2VwdF0gT3B0aW9uYWwgaW5kZXggdG8gaWdub3JlLlxuICAgKi9cbiAgYXNzZXJ0VW5pcXVlXyhlbGVtLCBleGNlcHQpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSB0aGlzLmFycmF5Xy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBpZiAodGhpcy5hcnJheV9baV0gPT09IGVsZW0gJiYgaSAhPT0gZXhjZXB0KSB7XG4gICAgICAgIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcig1OCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbGxlY3Rpb247XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvTWFwXG4gKi9cbmltcG9ydCBEaXNwb3NhYmxlIGZyb20gJy4uL0Rpc3Bvc2FibGUuanMnO1xuaW1wb3J0IHtUUlVFfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQge2NvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSwgbWFrZUludmVyc2V9IGZyb20gJy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQge2dldFdpZHRofSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtzaGFyZWQgYXMgaWNvbkltYWdlQ2FjaGV9IGZyb20gJy4uL3N0eWxlL0ljb25JbWFnZUNhY2hlLmpzJztcbmltcG9ydCB7aW5WaWV3fSBmcm9tICcuLi9sYXllci9MYXllci5qcyc7XG5pbXBvcnQge3dyYXBYfSBmcm9tICcuLi9jb29yZGluYXRlLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiBIaXRNYXRjaFxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRpc3RhbmNlU3EgU3F1YXJlZCBkaXN0YW5jZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi92ZWN0b3IuanNcIikuRmVhdHVyZUNhbGxiYWNrPFQ+fSBjYWxsYmFjayBDYWxsYmFjay5cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cblxuLyoqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgTWFwUmVuZGVyZXIgZXh0ZW5kcyBEaXNwb3NhYmxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYXApIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5tYXBfID0gbWFwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBFdmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKi9cbiAgZGlzcGF0Y2hSZW5kZXJFdmVudCh0eXBlLCBmcmFtZVN0YXRlKSB7XG4gICAgYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGNhbGN1bGF0ZU1hdHJpY2VzMkQoZnJhbWVTdGF0ZSkge1xuICAgIGNvbnN0IHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIGNvbnN0IGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtID0gZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybTtcbiAgICBjb25zdCBwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSA9IGZyYW1lU3RhdGUucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm07XG5cbiAgICBjb21wb3NlVHJhbnNmb3JtKFxuICAgICAgY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sXG4gICAgICBmcmFtZVN0YXRlLnNpemVbMF0gLyAyLFxuICAgICAgZnJhbWVTdGF0ZS5zaXplWzFdIC8gMixcbiAgICAgIDEgLyB2aWV3U3RhdGUucmVzb2x1dGlvbixcbiAgICAgIC0xIC8gdmlld1N0YXRlLnJlc29sdXRpb24sXG4gICAgICAtdmlld1N0YXRlLnJvdGF0aW9uLFxuICAgICAgLXZpZXdTdGF0ZS5jZW50ZXJbMF0sXG4gICAgICAtdmlld1N0YXRlLmNlbnRlclsxXVxuICAgICk7XG5cbiAgICBtYWtlSW52ZXJzZShwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSwgY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWVTdGF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICogQHBhcmFtIHtib29sZWFufSBjaGVja1dyYXBwZWQgQ2hlY2sgZm9yIHdyYXBwZWQgZ2VvbWV0cmllcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3ZlY3Rvci5qc1wiKS5GZWF0dXJlQ2FsbGJhY2s8VD59IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7U30gdGhpc0FyZyBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGBjYWxsYmFja2AuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogVSwgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IGxheWVyRmlsdGVyIExheWVyIGZpbHRlclxuICAgKiAgICAgZnVuY3Rpb24sIG9ubHkgbGF5ZXJzIHdoaWNoIGFyZSB2aXNpYmxlIGFuZCBmb3Igd2hpY2ggdGhpcyBmdW5jdGlvblxuICAgKiAgICAgcmV0dXJucyBgdHJ1ZWAgd2lsbCBiZSB0ZXN0ZWQgZm9yIGZlYXR1cmVzLiAgQnkgZGVmYXVsdCwgYWxsIHZpc2libGVcbiAgICogICAgIGxheWVycyB3aWxsIGJlIHRlc3RlZC5cbiAgICogQHBhcmFtIHtVfSB0aGlzQXJnMiBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGBsYXllckZpbHRlcmAuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAqIEB0ZW1wbGF0ZSBTLFQsVVxuICAgKi9cbiAgZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUoXG4gICAgY29vcmRpbmF0ZSxcbiAgICBmcmFtZVN0YXRlLFxuICAgIGhpdFRvbGVyYW5jZSxcbiAgICBjaGVja1dyYXBwZWQsXG4gICAgY2FsbGJhY2ssXG4gICAgdGhpc0FyZyxcbiAgICBsYXllckZpbHRlcixcbiAgICB0aGlzQXJnMlxuICApIHtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGNvbnN0IHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtYW5hZ2VkIE1hbmFnZWQgbGF5ZXIuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShtYW5hZ2VkLCBmZWF0dXJlLCBsYXllciwgZ2VvbWV0cnkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGZlYXR1cmUsIG1hbmFnZWQgPyBsYXllciA6IG51bGwsIGdlb21ldHJ5KTtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9qZWN0aW9uID0gdmlld1N0YXRlLnByb2plY3Rpb247XG5cbiAgICBjb25zdCB0cmFuc2xhdGVkQ29vcmRpbmF0ZSA9IHdyYXBYKGNvb3JkaW5hdGUuc2xpY2UoKSwgcHJvamVjdGlvbik7XG4gICAgY29uc3Qgb2Zmc2V0cyA9IFtbMCwgMF1dO1xuICAgIGlmIChwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiYgY2hlY2tXcmFwcGVkKSB7XG4gICAgICBjb25zdCBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgICAgIGNvbnN0IHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICAgIG9mZnNldHMucHVzaChbLXdvcmxkV2lkdGgsIDBdLCBbd29ybGRXaWR0aCwgMF0pO1xuICAgIH1cblxuICAgIGNvbnN0IGxheWVyU3RhdGVzID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5O1xuICAgIGNvbnN0IG51bUxheWVycyA9IGxheWVyU3RhdGVzLmxlbmd0aDtcblxuICAgIGNvbnN0IG1hdGNoZXMgPSAvKiogQHR5cGUge0FycmF5PEhpdE1hdGNoPFQ+Pn0gKi8gKFtdKTtcbiAgICBjb25zdCB0bXBDb29yZCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2Zmc2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IG51bUxheWVycyAtIDE7IGogPj0gMDsgLS1qKSB7XG4gICAgICAgIGNvbnN0IGxheWVyU3RhdGUgPSBsYXllclN0YXRlc1tqXTtcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBsYXllclN0YXRlLmxheWVyO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbGF5ZXIuaGFzUmVuZGVyZXIoKSAmJlxuICAgICAgICAgIGluVmlldyhsYXllclN0YXRlLCB2aWV3U3RhdGUpICYmXG4gICAgICAgICAgbGF5ZXJGaWx0ZXIuY2FsbCh0aGlzQXJnMiwgbGF5ZXIpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IGxheWVyUmVuZGVyZXIgPSBsYXllci5nZXRSZW5kZXJlcigpO1xuICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IGxheWVyLmdldFNvdXJjZSgpO1xuICAgICAgICAgIGlmIChsYXllclJlbmRlcmVyICYmIHNvdXJjZSkge1xuICAgICAgICAgICAgY29uc3QgY29vcmRpbmF0ZXMgPSBzb3VyY2UuZ2V0V3JhcFgoKVxuICAgICAgICAgICAgICA/IHRyYW5zbGF0ZWRDb29yZGluYXRlXG4gICAgICAgICAgICAgIDogY29vcmRpbmF0ZTtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUuYmluZChcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgbGF5ZXJTdGF0ZS5tYW5hZ2VkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdG1wQ29vcmRbMF0gPSBjb29yZGluYXRlc1swXSArIG9mZnNldHNbaV1bMF07XG4gICAgICAgICAgICB0bXBDb29yZFsxXSA9IGNvb3JkaW5hdGVzWzFdICsgb2Zmc2V0c1tpXVsxXTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGxheWVyUmVuZGVyZXIuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUoXG4gICAgICAgICAgICAgIHRtcENvb3JkLFxuICAgICAgICAgICAgICBmcmFtZVN0YXRlLFxuICAgICAgICAgICAgICBoaXRUb2xlcmFuY2UsXG4gICAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgICBtYXRjaGVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWF0Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IG9yZGVyID0gMSAvIG1hdGNoZXMubGVuZ3RoO1xuICAgIG1hdGNoZXMuZm9yRWFjaCgobSwgaSkgPT4gKG0uZGlzdGFuY2VTcSArPSBpICogb3JkZXIpKTtcbiAgICBtYXRjaGVzLnNvcnQoKGEsIGIpID0+IGEuZGlzdGFuY2VTcSAtIGIuZGlzdGFuY2VTcSk7XG4gICAgbWF0Y2hlcy5zb21lKChtKSA9PiB7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9IG0uY2FsbGJhY2sobS5mZWF0dXJlLCBtLmxheWVyLCBtLmdlb21ldHJ5KSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2hlY2tXcmFwcGVkIENoZWNrIGZvciB3cmFwcGVkIGdlb21ldHJpZXMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczogVSwgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdCk6IGJvb2xlYW59IGxheWVyRmlsdGVyIExheWVyIGZpbHRlclxuICAgKiAgICAgZnVuY3Rpb24sIG9ubHkgbGF5ZXJzIHdoaWNoIGFyZSB2aXNpYmxlIGFuZCBmb3Igd2hpY2ggdGhpcyBmdW5jdGlvblxuICAgKiAgICAgcmV0dXJucyBgdHJ1ZWAgd2lsbCBiZSB0ZXN0ZWQgZm9yIGZlYXR1cmVzLiAgQnkgZGVmYXVsdCwgYWxsIHZpc2libGVcbiAgICogICAgIGxheWVycyB3aWxsIGJlIHRlc3RlZC5cbiAgICogQHBhcmFtIHtVfSB0aGlzQXJnIFZhbHVlIHRvIHVzZSBhcyBgdGhpc2Agd2hlbiBleGVjdXRpbmcgYGxheWVyRmlsdGVyYC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgdGhlcmUgYSBmZWF0dXJlIGF0IHRoZSBnaXZlbiBjb29yZGluYXRlP1xuICAgKiBAdGVtcGxhdGUgVVxuICAgKi9cbiAgaGFzRmVhdHVyZUF0Q29vcmRpbmF0ZShcbiAgICBjb29yZGluYXRlLFxuICAgIGZyYW1lU3RhdGUsXG4gICAgaGl0VG9sZXJhbmNlLFxuICAgIGNoZWNrV3JhcHBlZCxcbiAgICBsYXllckZpbHRlcixcbiAgICB0aGlzQXJnXG4gICkge1xuICAgIGNvbnN0IGhhc0ZlYXR1cmUgPSB0aGlzLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKFxuICAgICAgY29vcmRpbmF0ZSxcbiAgICAgIGZyYW1lU3RhdGUsXG4gICAgICBoaXRUb2xlcmFuY2UsXG4gICAgICBjaGVja1dyYXBwZWQsXG4gICAgICBUUlVFLFxuICAgICAgdGhpcyxcbiAgICAgIGxheWVyRmlsdGVyLFxuICAgICAgdGhpc0FyZ1xuICAgICk7XG5cbiAgICByZXR1cm4gaGFzRmVhdHVyZSAhPT0gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fSBNYXAuXG4gICAqL1xuICBnZXRNYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwXztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0gez9pbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICovXG4gIHJlbmRlckZyYW1lKGZyYW1lU3RhdGUpIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHNjaGVkdWxlRXhwaXJlSWNvbkNhY2hlKGZyYW1lU3RhdGUpIHtcbiAgICBpZiAoaWNvbkltYWdlQ2FjaGUuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgZnJhbWVTdGF0ZS5wb3N0UmVuZGVyRnVuY3Rpb25zLnB1c2goZXhwaXJlSWNvbkNhY2hlKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAqL1xuZnVuY3Rpb24gZXhwaXJlSWNvbkNhY2hlKG1hcCwgZnJhbWVTdGF0ZSkge1xuICBpY29uSW1hZ2VDYWNoZS5leHBpcmUoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFwUmVuZGVyZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvQ29tcG9zaXRlXG4gKi9cbmltcG9ydCBNYXBSZW5kZXJlciBmcm9tICcuL01hcC5qcyc7XG5pbXBvcnQgT2JqZWN0RXZlbnRUeXBlIGZyb20gJy4uL09iamVjdEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnQgZnJvbSAnLi4vcmVuZGVyL0V2ZW50LmpzJztcbmltcG9ydCBSZW5kZXJFdmVudFR5cGUgZnJvbSAnLi4vcmVuZGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge0NMQVNTX1VOU0VMRUNUQUJMRX0gZnJvbSAnLi4vY3NzLmpzJztcbmltcG9ydCB7Y2hlY2tlZEZvbnRzfSBmcm9tICcuLi9yZW5kZXIvY2FudmFzLmpzJztcbmltcG9ydCB7aW5WaWV3fSBmcm9tICcuLi9sYXllci9MYXllci5qcyc7XG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi4vZXZlbnRzLmpzJztcbmltcG9ydCB7cmVwbGFjZUNoaWxkcmVufSBmcm9tICcuLi9kb20uanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENhbnZhcyBtYXAgcmVuZGVyZXIuXG4gKiBAYXBpXG4gKi9cbmNsYXNzIENvbXBvc2l0ZU1hcFJlbmRlcmVyIGV4dGVuZHMgTWFwUmVuZGVyZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG1hcCkge1xuICAgIHN1cGVyKG1hcCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgKi9cbiAgICB0aGlzLmZvbnRDaGFuZ2VMaXN0ZW5lcktleV8gPSBsaXN0ZW4oXG4gICAgICBjaGVja2VkRm9udHMsXG4gICAgICBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0UsXG4gICAgICBtYXAucmVkcmF3VGV4dC5iaW5kKG1hcClcbiAgICApO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5lbGVtZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5lbGVtZW50Xy5zdHlsZTtcbiAgICBzdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHN0eWxlLnpJbmRleCA9ICcwJztcblxuICAgIHRoaXMuZWxlbWVudF8uY2xhc3NOYW1lID0gQ0xBU1NfVU5TRUxFQ1RBQkxFICsgJyBvbC1sYXllcnMnO1xuXG4gICAgY29uc3QgY29udGFpbmVyID0gbWFwLmdldFZpZXdwb3J0KCk7XG4gICAgY29udGFpbmVyLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnRfLCBjb250YWluZXIuZmlyc3RDaGlsZCB8fCBudWxsKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PEhUTUxFbGVtZW50Pn1cbiAgICAgKi9cbiAgICB0aGlzLmNoaWxkcmVuXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkVmlzaWJsZV8gPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZS5qc1wiKS5kZWZhdWx0fSB0eXBlIEV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqL1xuICBkaXNwYXRjaFJlbmRlckV2ZW50KHR5cGUsIGZyYW1lU3RhdGUpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgIGlmIChtYXAuaGFzTGlzdGVuZXIodHlwZSkpIHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IFJlbmRlckV2ZW50KHR5cGUsIHVuZGVmaW5lZCwgZnJhbWVTdGF0ZSk7XG4gICAgICBtYXAuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuICB9XG5cbiAgZGlzcG9zZUludGVybmFsKCkge1xuICAgIHVubGlzdGVuQnlLZXkodGhpcy5mb250Q2hhbmdlTGlzdGVuZXJLZXlfKTtcbiAgICB0aGlzLmVsZW1lbnRfLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50Xyk7XG4gICAgc3VwZXIuZGlzcG9zZUludGVybmFsKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyLlxuICAgKiBAcGFyYW0gez9pbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICovXG4gIHJlbmRlckZyYW1lKGZyYW1lU3RhdGUpIHtcbiAgICBpZiAoIWZyYW1lU3RhdGUpIHtcbiAgICAgIGlmICh0aGlzLnJlbmRlcmVkVmlzaWJsZV8pIHtcbiAgICAgICAgdGhpcy5lbGVtZW50Xy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB0aGlzLnJlbmRlcmVkVmlzaWJsZV8gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmNhbGN1bGF0ZU1hdHJpY2VzMkQoZnJhbWVTdGF0ZSk7XG4gICAgdGhpcy5kaXNwYXRjaFJlbmRlckV2ZW50KFJlbmRlckV2ZW50VHlwZS5QUkVDT01QT1NFLCBmcmFtZVN0YXRlKTtcblxuICAgIGNvbnN0IGxheWVyU3RhdGVzQXJyYXkgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGEuekluZGV4IC0gYi56SW5kZXg7XG4gICAgfSk7XG4gICAgY29uc3Qgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG5cbiAgICB0aGlzLmNoaWxkcmVuXy5sZW5ndGggPSAwO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9sYXllci9CYXNlVmVjdG9yLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIGNvbnN0IGRlY2x1dHRlckxheWVycyA9IFtdO1xuICAgIGxldCBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGxheWVyU3RhdGVzQXJyYXkubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgbGF5ZXJTdGF0ZSA9IGxheWVyU3RhdGVzQXJyYXlbaV07XG4gICAgICBmcmFtZVN0YXRlLmxheWVySW5kZXggPSBpO1xuXG4gICAgICBjb25zdCBsYXllciA9IGxheWVyU3RhdGUubGF5ZXI7XG4gICAgICBjb25zdCBzb3VyY2VTdGF0ZSA9IGxheWVyLmdldFNvdXJjZVN0YXRlKCk7XG4gICAgICBpZiAoXG4gICAgICAgICFpblZpZXcobGF5ZXJTdGF0ZSwgdmlld1N0YXRlKSB8fFxuICAgICAgICAoc291cmNlU3RhdGUgIT0gJ3JlYWR5JyAmJiBzb3VyY2VTdGF0ZSAhPSAndW5kZWZpbmVkJylcbiAgICAgICkge1xuICAgICAgICBsYXllci51bnJlbmRlcigpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZWxlbWVudCA9IGxheWVyLnJlbmRlcihmcmFtZVN0YXRlLCBwcmV2aW91c0VsZW1lbnQpO1xuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGVsZW1lbnQgIT09IHByZXZpb3VzRWxlbWVudCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuXy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgfVxuICAgICAgaWYgKCdnZXREZWNsdXR0ZXInIGluIGxheWVyKSB7XG4gICAgICAgIGRlY2x1dHRlckxheWVycy5wdXNoKFxuICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vbGF5ZXIvQmFzZVZlY3Rvci5qc1wiKS5kZWZhdWx0fSAqLyAobGF5ZXIpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSBkZWNsdXR0ZXJMYXllcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGRlY2x1dHRlckxheWVyc1tpXS5yZW5kZXJEZWNsdXR0ZXIoZnJhbWVTdGF0ZSk7XG4gICAgfVxuXG4gICAgcmVwbGFjZUNoaWxkcmVuKHRoaXMuZWxlbWVudF8sIHRoaXMuY2hpbGRyZW5fKTtcblxuICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudChSZW5kZXJFdmVudFR5cGUuUE9TVENPTVBPU0UsIGZyYW1lU3RhdGUpO1xuXG4gICAgaWYgKCF0aGlzLnJlbmRlcmVkVmlzaWJsZV8pIHtcbiAgICAgIHRoaXMuZWxlbWVudF8uc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLnNjaGVkdWxlRXhwaXJlSWNvbkNhY2hlKGZyYW1lU3RhdGUpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbXBvc2l0ZU1hcFJlbmRlcmVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL0dyb3VwXG4gKi9cbmltcG9ydCBCYXNlTGF5ZXIgZnJvbSAnLi9CYXNlLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4uL0NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IENvbGxlY3Rpb25FdmVudFR5cGUgZnJvbSAnLi4vQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgT2JqZWN0RXZlbnRUeXBlIGZyb20gJy4uL09iamVjdEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge2NsZWFyfSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHtnZXRJbnRlcnNlY3Rpb259IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi4vZXZlbnRzLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7J2FkZGxheWVyJ3wncmVtb3ZlbGF5ZXInfSBFdmVudFR5cGVcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgbGF5ZXIgZ3JvdXAgdHJpZ2dlcnMgJ2FkZGxheWVyJyBhbmQgJ3JlbW92ZWxheWVyJyBldmVudHMgd2hlbiBsYXllcnMgYXJlIGFkZGVkIHRvIG9yIHJlbW92ZWQgZnJvbVxuICogdGhlIGdyb3VwIG9yIG9uZSBvZiBpdHMgY2hpbGQgZ3JvdXBzLiAgV2hlbiBhIGxheWVyIGdyb3VwIGlzIGFkZGVkIHRvIG9yIHJlbW92ZWQgZnJvbSBhbm90aGVyIGxheWVyIGdyb3VwLFxuICogYSBzaW5nbGUgZXZlbnQgd2lsbCBiZSB0cmlnZ2VyZWQgKGluc3RlYWQgb2Ygb25lIHBlciBsYXllciBpbiB0aGUgZ3JvdXAgYWRkZWQgb3IgcmVtb3ZlZCkuXG4gKi9cbmV4cG9ydCBjbGFzcyBHcm91cEV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtFdmVudFR5cGV9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSB7QmFzZUxheWVyfSBsYXllciBUaGUgbGF5ZXIuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBsYXllcikge1xuICAgIHN1cGVyKHR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFkZGVkIG9yIHJlbW92ZWQgbGF5ZXIuXG4gICAgICogQHR5cGUge0Jhc2VMYXllcn1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5sYXllciA9IGxheWVyO1xuICB9XG59XG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vQmFzZVwiKS5CYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzfFxuICogICAgICdjaGFuZ2U6bGF5ZXJzJywgaW1wb3J0KFwiLi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3wnY2hhbmdlOmxheWVycycsIFJldHVybj59IEdyb3VwT25TaWduYXR1cmVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBUaGUgbWluaW11bSB2aWV3IHpvb20gbGV2ZWwgKGV4Y2x1c2l2ZSkgYWJvdmUgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBUaGUgbWF4aW11bSB2aWV3IHpvb20gbGV2ZWwgKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdD58Q29sbGVjdGlvbjxpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdD59IFtsYXllcnNdIENoaWxkIGxheWVycy5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgKj59IFtwcm9wZXJ0aWVzXSBBcmJpdHJhcnkgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzLiBDYW4gYmUgYWNjZXNzZWQgd2l0aCBgI2dldCgpYCBhbmQgYCNzZXQoKWAuXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgUHJvcGVydHkgPSB7XG4gIExBWUVSUzogJ2xheWVycycsXG59O1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259IG9mIGxheWVycyB0aGF0IGFyZSBoYW5kbGVkIHRvZ2V0aGVyLlxuICpcbiAqIEEgZ2VuZXJpYyBgY2hhbmdlYCBldmVudCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgZ3JvdXAvQ29sbGVjdGlvbiBjaGFuZ2VzLlxuICpcbiAqIEBhcGlcbiAqL1xuY2xhc3MgTGF5ZXJHcm91cCBleHRlbmRzIEJhc2VMYXllciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBMYXllciBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIGNvbnN0IGJhc2VPcHRpb25zID0gLyoqIEB0eXBlIHtPcHRpb25zfSAqLyAoT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucykpO1xuICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy5sYXllcnM7XG5cbiAgICBsZXQgbGF5ZXJzID0gb3B0aW9ucy5sYXllcnM7XG5cbiAgICBzdXBlcihiYXNlT3B0aW9ucyk7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0dyb3VwT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7R3JvdXBPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uY2U7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0dyb3VwT25TaWduYXR1cmU8dm9pZD59XG4gICAgICovXG4gICAgdGhpcy51bjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMubGF5ZXJzTGlzdGVuZXJLZXlzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgQXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT4+fVxuICAgICAqL1xuICAgIHRoaXMubGlzdGVuZXJLZXlzXyA9IHt9O1xuXG4gICAgdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihQcm9wZXJ0eS5MQVlFUlMsIHRoaXMuaGFuZGxlTGF5ZXJzQ2hhbmdlZF8pO1xuXG4gICAgaWYgKGxheWVycykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGF5ZXJzKSkge1xuICAgICAgICBsYXllcnMgPSBuZXcgQ29sbGVjdGlvbihsYXllcnMuc2xpY2UoKSwge3VuaXF1ZTogdHJ1ZX0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzZXJ0KHR5cGVvZiAoLyoqIEB0eXBlIHs/fSAqLyAobGF5ZXJzKS5nZXRBcnJheSkgPT09ICdmdW5jdGlvbicsIDQzKTsgLy8gRXhwZWN0ZWQgYGxheWVyc2AgdG8gYmUgYW4gYXJyYXkgb3IgYSBgQ29sbGVjdGlvbmBcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGF5ZXJzID0gbmV3IENvbGxlY3Rpb24odW5kZWZpbmVkLCB7dW5pcXVlOiB0cnVlfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRMYXllcnMobGF5ZXJzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlTGF5ZXJDaGFuZ2VfKCkge1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVMYXllcnNDaGFuZ2VkXygpIHtcbiAgICB0aGlzLmxheWVyc0xpc3RlbmVyS2V5c18uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICB0aGlzLmxheWVyc0xpc3RlbmVyS2V5c18ubGVuZ3RoID0gMDtcblxuICAgIGNvbnN0IGxheWVycyA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG4gICAgdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfLnB1c2goXG4gICAgICBsaXN0ZW4obGF5ZXJzLCBDb2xsZWN0aW9uRXZlbnRUeXBlLkFERCwgdGhpcy5oYW5kbGVMYXllcnNBZGRfLCB0aGlzKSxcbiAgICAgIGxpc3RlbihsYXllcnMsIENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLCB0aGlzLmhhbmRsZUxheWVyc1JlbW92ZV8sIHRoaXMpXG4gICAgKTtcblxuICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5saXN0ZW5lcktleXNfKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyS2V5c19baWRdLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgfVxuICAgIGNsZWFyKHRoaXMubGlzdGVuZXJLZXlzXyk7XG5cbiAgICBjb25zdCBsYXllcnNBcnJheSA9IGxheWVycy5nZXRBcnJheSgpO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGxheWVyc0FycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJzQXJyYXlbaV07XG4gICAgICB0aGlzLnJlZ2lzdGVyTGF5ZXJMaXN0ZW5lcnNfKGxheWVyKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgR3JvdXBFdmVudCgnYWRkbGF5ZXInLCBsYXllcikpO1xuICAgIH1cbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0Jhc2VMYXllcn0gbGF5ZXIgVGhlIGxheWVyLlxuICAgKi9cbiAgcmVnaXN0ZXJMYXllckxpc3RlbmVyc18obGF5ZXIpIHtcbiAgICBjb25zdCBsaXN0ZW5lcktleXMgPSBbXG4gICAgICBsaXN0ZW4oXG4gICAgICAgIGxheWVyLFxuICAgICAgICBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0UsXG4gICAgICAgIHRoaXMuaGFuZGxlTGF5ZXJDaGFuZ2VfLFxuICAgICAgICB0aGlzXG4gICAgICApLFxuICAgICAgbGlzdGVuKGxheWVyLCBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmhhbmRsZUxheWVyQ2hhbmdlXywgdGhpcyksXG4gICAgXTtcblxuICAgIGlmIChsYXllciBpbnN0YW5jZW9mIExheWVyR3JvdXApIHtcbiAgICAgIGxpc3RlbmVyS2V5cy5wdXNoKFxuICAgICAgICBsaXN0ZW4obGF5ZXIsICdhZGRsYXllcicsIHRoaXMuaGFuZGxlTGF5ZXJHcm91cEFkZF8sIHRoaXMpLFxuICAgICAgICBsaXN0ZW4obGF5ZXIsICdyZW1vdmVsYXllcicsIHRoaXMuaGFuZGxlTGF5ZXJHcm91cFJlbW92ZV8sIHRoaXMpXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMubGlzdGVuZXJLZXlzX1tnZXRVaWQobGF5ZXIpXSA9IGxpc3RlbmVyS2V5cztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0dyb3VwRXZlbnR9IGV2ZW50IFRoZSBsYXllciBncm91cCBldmVudC5cbiAgICovXG4gIGhhbmRsZUxheWVyR3JvdXBBZGRfKGV2ZW50KSB7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBHcm91cEV2ZW50KCdhZGRsYXllcicsIGV2ZW50LmxheWVyKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtHcm91cEV2ZW50fSBldmVudCBUaGUgbGF5ZXIgZ3JvdXAgZXZlbnQuXG4gICAqL1xuICBoYW5kbGVMYXllckdyb3VwUmVtb3ZlXyhldmVudCkge1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgR3JvdXBFdmVudCgncmVtb3ZlbGF5ZXInLCBldmVudC5sYXllcikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnQ8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBjb2xsZWN0aW9uRXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlTGF5ZXJzQWRkXyhjb2xsZWN0aW9uRXZlbnQpIHtcbiAgICBjb25zdCBsYXllciA9IGNvbGxlY3Rpb25FdmVudC5lbGVtZW50O1xuICAgIHRoaXMucmVnaXN0ZXJMYXllckxpc3RlbmVyc18obGF5ZXIpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgR3JvdXBFdmVudCgnYWRkbGF5ZXInLCBsYXllcikpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnQ8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBjb2xsZWN0aW9uRXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlTGF5ZXJzUmVtb3ZlXyhjb2xsZWN0aW9uRXZlbnQpIHtcbiAgICBjb25zdCBsYXllciA9IGNvbGxlY3Rpb25FdmVudC5lbGVtZW50O1xuICAgIGNvbnN0IGtleSA9IGdldFVpZChsYXllcik7XG4gICAgdGhpcy5saXN0ZW5lcktleXNfW2tleV0uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICBkZWxldGUgdGhpcy5saXN0ZW5lcktleXNfW2tleV07XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBHcm91cEV2ZW50KCdyZW1vdmVsYXllcicsIGxheWVyKSk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb24gY29sbGVjdGlvbn0gb2Yge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllcn5MYXllciBsYXllcnN9XG4gICAqIGluIHRoaXMgZ3JvdXAuXG4gICAqIEByZXR1cm4geyFDb2xsZWN0aW9uPGltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0Pn0gQ29sbGVjdGlvbiBvZlxuICAgKiAgIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvQmFzZX5CYXNlTGF5ZXIgbGF5ZXJzfSB0aGF0IGFyZSBwYXJ0IG9mIHRoaXMgZ3JvdXAuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldExheWVycygpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshQ29sbGVjdGlvbjxpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdD59ICovIChcbiAgICAgIHRoaXMuZ2V0KFByb3BlcnR5LkxBWUVSUylcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb24gY29sbGVjdGlvbn0gb2Yge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllcn5MYXllciBsYXllcnN9XG4gICAqIGluIHRoaXMgZ3JvdXAuXG4gICAqIEBwYXJhbSB7IUNvbGxlY3Rpb248aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBsYXllcnMgQ29sbGVjdGlvbiBvZlxuICAgKiAgIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvQmFzZX5CYXNlTGF5ZXIgbGF5ZXJzfSB0aGF0IGFyZSBwYXJ0IG9mIHRoaXMgZ3JvdXAuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldExheWVycyhsYXllcnMpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uID0gdGhpcy5nZXRMYXllcnMoKTtcbiAgICBpZiAoY29sbGVjdGlvbikge1xuICAgICAgY29uc3QgY3VycmVudExheWVycyA9IGNvbGxlY3Rpb24uZ2V0QXJyYXkoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGN1cnJlbnRMYXllcnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdyb3VwRXZlbnQoJ3JlbW92ZWxheWVyJywgY3VycmVudExheWVyc1tpXSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc2V0KFByb3BlcnR5LkxBWUVSUywgbGF5ZXJzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59IFthcnJheV0gQXJyYXkgb2YgbGF5ZXJzICh0byBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59IEFycmF5IG9mIGxheWVycy5cbiAgICovXG4gIGdldExheWVyc0FycmF5KGFycmF5KSB7XG4gICAgYXJyYXkgPSBhcnJheSAhPT0gdW5kZWZpbmVkID8gYXJyYXkgOiBbXTtcbiAgICB0aGlzLmdldExheWVycygpLmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICBsYXllci5nZXRMYXllcnNBcnJheShhcnJheSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGF5ZXIgc3RhdGVzIGxpc3QgYW5kIHVzZSB0aGlzIGdyb3VwcyB6LWluZGV4IGFzIHRoZSBkZWZhdWx0XG4gICAqIGZvciBhbGwgbGF5ZXJzIGluIHRoaXMgYW5kIG5lc3RlZCBncm91cHMsIGlmIGl0IGlzIHVuc2V0IGF0IHRoaXMgcG9pbnQuXG4gICAqIElmIGRlc3QgaXMgbm90IHByb3ZpZGVkIGFuZCB0aGlzIGdyb3VwJ3Mgei1pbmRleCBpcyB1bmRlZmluZWRcbiAgICogMCBpcyB1c2VkIGEgdGhlIGRlZmF1bHQgei1pbmRleC5cbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gW2Rlc3RdIE9wdGlvbmFsIGxpc3RcbiAgICogb2YgbGF5ZXIgc3RhdGVzICh0byBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+fSBMaXN0IG9mIGxheWVyIHN0YXRlcy5cbiAgICovXG4gIGdldExheWVyU3RhdGVzQXJyYXkoZGVzdCkge1xuICAgIGNvbnN0IHN0YXRlcyA9IGRlc3QgIT09IHVuZGVmaW5lZCA/IGRlc3QgOiBbXTtcbiAgICBjb25zdCBwb3MgPSBzdGF0ZXMubGVuZ3RoO1xuXG4gICAgdGhpcy5nZXRMYXllcnMoKS5mb3JFYWNoKGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgbGF5ZXIuZ2V0TGF5ZXJTdGF0ZXNBcnJheShzdGF0ZXMpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgb3duTGF5ZXJTdGF0ZSA9IHRoaXMuZ2V0TGF5ZXJTdGF0ZSgpO1xuICAgIGxldCBkZWZhdWx0WkluZGV4ID0gb3duTGF5ZXJTdGF0ZS56SW5kZXg7XG4gICAgaWYgKCFkZXN0ICYmIG93bkxheWVyU3RhdGUuekluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRlZmF1bHRaSW5kZXggPSAwO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gcG9zLCBpaSA9IHN0YXRlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBjb25zdCBsYXllclN0YXRlID0gc3RhdGVzW2ldO1xuICAgICAgbGF5ZXJTdGF0ZS5vcGFjaXR5ICo9IG93bkxheWVyU3RhdGUub3BhY2l0eTtcbiAgICAgIGxheWVyU3RhdGUudmlzaWJsZSA9IGxheWVyU3RhdGUudmlzaWJsZSAmJiBvd25MYXllclN0YXRlLnZpc2libGU7XG4gICAgICBsYXllclN0YXRlLm1heFJlc29sdXRpb24gPSBNYXRoLm1pbihcbiAgICAgICAgbGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uLFxuICAgICAgICBvd25MYXllclN0YXRlLm1heFJlc29sdXRpb25cbiAgICAgICk7XG4gICAgICBsYXllclN0YXRlLm1pblJlc29sdXRpb24gPSBNYXRoLm1heChcbiAgICAgICAgbGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uLFxuICAgICAgICBvd25MYXllclN0YXRlLm1pblJlc29sdXRpb25cbiAgICAgICk7XG4gICAgICBsYXllclN0YXRlLm1pblpvb20gPSBNYXRoLm1heChsYXllclN0YXRlLm1pblpvb20sIG93bkxheWVyU3RhdGUubWluWm9vbSk7XG4gICAgICBsYXllclN0YXRlLm1heFpvb20gPSBNYXRoLm1pbihsYXllclN0YXRlLm1heFpvb20sIG93bkxheWVyU3RhdGUubWF4Wm9vbSk7XG4gICAgICBpZiAob3duTGF5ZXJTdGF0ZS5leHRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAobGF5ZXJTdGF0ZS5leHRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGxheWVyU3RhdGUuZXh0ZW50ID0gZ2V0SW50ZXJzZWN0aW9uKFxuICAgICAgICAgICAgbGF5ZXJTdGF0ZS5leHRlbnQsXG4gICAgICAgICAgICBvd25MYXllclN0YXRlLmV4dGVudFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGF5ZXJTdGF0ZS5leHRlbnQgPSBvd25MYXllclN0YXRlLmV4dGVudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxheWVyU3RhdGUuekluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGF5ZXJTdGF0ZS56SW5kZXggPSBkZWZhdWx0WkluZGV4O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdGF0ZXM7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5TdGF0ZX0gU291cmNlIHN0YXRlLlxuICAgKi9cbiAgZ2V0U291cmNlU3RhdGUoKSB7XG4gICAgcmV0dXJuICdyZWFkeSc7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGF5ZXJHcm91cDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBFdmVudFxuICovXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudHMvRXZlbnQuanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGFzIG1hcCBldmVudHMgYXJlIGluc3RhbmNlcyBvZiB0aGlzIHR5cGUuXG4gKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwfSBmb3Igd2hpY2ggZXZlbnRzIHRyaWdnZXIgYSBtYXAgZXZlbnQuXG4gKi9cbmNsYXNzIE1hcEV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL01hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgKiBAcGFyYW0gez9pbXBvcnQoXCIuL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBbZnJhbWVTdGF0ZV0gRnJhbWUgc3RhdGUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBtYXAsIGZyYW1lU3RhdGUpIHtcbiAgICBzdXBlcih0eXBlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXAgd2hlcmUgdGhlIGV2ZW50IG9jY3VycmVkLlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL01hcC5qc1wiKS5kZWZhdWx0fVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLm1hcCA9IG1hcDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFtZSBzdGF0ZSBhdCB0aGUgdGltZSBvZiB0aGUgZXZlbnQuXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuL01hcC5qc1wiKS5GcmFtZVN0YXRlfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lU3RhdGUgPSBmcmFtZVN0YXRlICE9PSB1bmRlZmluZWQgPyBmcmFtZVN0YXRlIDogbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNYXBFdmVudDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBCcm93c2VyRXZlbnRcbiAqL1xuaW1wb3J0IE1hcEV2ZW50IGZyb20gJy4vTWFwRXZlbnQuanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGFzIG1hcCBicm93c2VyIGV2ZW50cyBhcmUgaW5zdGFuY2VzIG9mIHRoaXMgdHlwZS5cbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9IGZvciB3aGljaCBldmVudHMgdHJpZ2dlciBhIG1hcCBicm93c2VyIGV2ZW50LlxuICogQHRlbXBsYXRlIHtVSUV2ZW50fSBFVkVOVFxuICovXG5jbGFzcyBNYXBCcm93c2VyRXZlbnQgZXh0ZW5kcyBNYXBFdmVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBFdmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAqIEBwYXJhbSB7RVZFTlR9IG9yaWdpbmFsRXZlbnQgT3JpZ2luYWwgZXZlbnQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RyYWdnaW5nXSBJcyB0aGUgbWFwIGN1cnJlbnRseSBiZWluZyBkcmFnZ2VkP1xuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IFtmcmFtZVN0YXRlXSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtBcnJheTxQb2ludGVyRXZlbnQ+fSBbYWN0aXZlUG9pbnRlcnNdIEFjdGl2ZSBwb2ludGVycy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHR5cGUsIG1hcCwgb3JpZ2luYWxFdmVudCwgZHJhZ2dpbmcsIGZyYW1lU3RhdGUsIGFjdGl2ZVBvaW50ZXJzKSB7XG4gICAgc3VwZXIodHlwZSwgbWFwLCBmcmFtZVN0YXRlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcmlnaW5hbCBicm93c2VyIGV2ZW50LlxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtFVkVOVH1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXAgcGl4ZWwgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIG9yaWdpbmFsIGJyb3dzZXIgZXZlbnQuXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb29yZGluYXRlIGluIHRoZSB1c2VyIHByb2plY3Rpb24gY29ycmVzcG9uZGluZyB0byB0aGUgb3JpZ2luYWwgYnJvd3NlciBldmVudC5cbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqL1xuICAgIHRoaXMuY29vcmRpbmF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHRoZSBtYXAgaXMgY3VycmVudGx5IGJlaW5nIGRyYWdnZWQuIE9ubHkgc2V0IGZvclxuICAgICAqIGBQT0lOVEVSRFJBR2AgYW5kIGBQT0lOVEVSTU9WRWAgZXZlbnRzLiBEZWZhdWx0IGlzIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5kcmFnZ2luZyA9IGRyYWdnaW5nICE9PSB1bmRlZmluZWQgPyBkcmFnZ2luZyA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PFBvaW50ZXJFdmVudD58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuYWN0aXZlUG9pbnRlcnMgPSBhY3RpdmVQb2ludGVycztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbWFwIHBpeGVsIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydCBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBldmVudC5cbiAgICogQHR5cGUge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAqIEBhcGlcbiAgICovXG4gIGdldCBwaXhlbCgpIHtcbiAgICBpZiAoIXRoaXMucGl4ZWxfKSB7XG4gICAgICB0aGlzLnBpeGVsXyA9IHRoaXMubWFwLmdldEV2ZW50UGl4ZWwodGhpcy5vcmlnaW5hbEV2ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucGl4ZWxfO1xuICB9XG4gIHNldCBwaXhlbChwaXhlbCkge1xuICAgIHRoaXMucGl4ZWxfID0gcGl4ZWw7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGNvb3JkaW5hdGUgY29ycmVzcG9uZGluZyB0byB0aGUgb3JpZ2luYWwgYnJvd3NlciBldmVudC4gIFRoaXMgd2lsbCBiZSBpbiB0aGUgdXNlclxuICAgKiBwcm9qZWN0aW9uIGlmIG9uZSBpcyBzZXQuICBPdGhlcndpc2UgaXQgd2lsbCBiZSBpbiB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAqIEBhcGlcbiAgICovXG4gIGdldCBjb29yZGluYXRlKCkge1xuICAgIGlmICghdGhpcy5jb29yZGluYXRlXykge1xuICAgICAgdGhpcy5jb29yZGluYXRlXyA9IHRoaXMubWFwLmdldENvb3JkaW5hdGVGcm9tUGl4ZWwodGhpcy5waXhlbCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNvb3JkaW5hdGVfO1xuICB9XG4gIHNldCBjb29yZGluYXRlKGNvb3JkaW5hdGUpIHtcbiAgICB0aGlzLmNvb3JkaW5hdGVfID0gY29vcmRpbmF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmV2ZW50cyB0aGUgZGVmYXVsdCBicm93c2VyIGFjdGlvbi5cbiAgICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9ldmVudC5wcmV2ZW50RGVmYXVsdC5cbiAgICogQGFwaVxuICAgKi9cbiAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgc3VwZXIucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoJ3ByZXZlbnREZWZhdWx0JyBpbiB0aGlzLm9yaWdpbmFsRXZlbnQpIHtcbiAgICAgIC8qKiBAdHlwZSB7VUlFdmVudH0gKi8gKHRoaXMub3JpZ2luYWxFdmVudCkucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJldmVudHMgZnVydGhlciBwcm9wYWdhdGlvbiBvZiB0aGUgY3VycmVudCBldmVudC5cbiAgICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9ldmVudC5zdG9wUHJvcGFnYXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICBzdXBlci5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoJ3N0b3BQcm9wYWdhdGlvbicgaW4gdGhpcy5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAvKiogQHR5cGUge1VJRXZlbnR9ICovICh0aGlzLm9yaWdpbmFsRXZlbnQpLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNYXBCcm93c2VyRXZlbnQ7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwQnJvd3NlckV2ZW50VHlwZVxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5cbi8qKlxuICogQ29uc3RhbnRzIGZvciBldmVudCBuYW1lcy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIEEgdHJ1ZSBzaW5nbGUgY2xpY2sgd2l0aCBubyBkcmFnZ2luZyBhbmQgbm8gZG91YmxlIGNsaWNrLiBOb3RlIHRoYXQgdGhpc1xuICAgKiBldmVudCBpcyBkZWxheWVkIGJ5IDI1MCBtcyB0byBlbnN1cmUgdGhhdCBpdCBpcyBub3QgYSBkb3VibGUgY2xpY2suXG4gICAqIEBldmVudCBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCNzaW5nbGVjbGlja1xuICAgKiBAYXBpXG4gICAqL1xuICBTSU5HTEVDTElDSzogJ3NpbmdsZWNsaWNrJyxcblxuICAvKipcbiAgICogQSBjbGljayB3aXRoIG5vIGRyYWdnaW5nLiBBIGRvdWJsZSBjbGljayB3aWxsIGZpcmUgdHdvIG9mIHRoaXMuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCNjbGlja1xuICAgKiBAYXBpXG4gICAqL1xuICBDTElDSzogRXZlbnRUeXBlLkNMSUNLLFxuXG4gIC8qKlxuICAgKiBBIHRydWUgZG91YmxlIGNsaWNrLCB3aXRoIG5vIGRyYWdnaW5nLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQjZGJsY2xpY2tcbiAgICogQGFwaVxuICAgKi9cbiAgREJMQ0xJQ0s6IEV2ZW50VHlwZS5EQkxDTElDSyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gYSBwb2ludGVyIGlzIGRyYWdnZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCNwb2ludGVyZHJhZ1xuICAgKiBAYXBpXG4gICAqL1xuICBQT0lOVEVSRFJBRzogJ3BvaW50ZXJkcmFnJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gYSBwb2ludGVyIGlzIG1vdmVkLiBOb3RlIHRoYXQgb24gdG91Y2ggZGV2aWNlcyB0aGlzIGlzXG4gICAqIHRyaWdnZXJlZCB3aGVuIHRoZSBtYXAgaXMgcGFubmVkLCBzbyBpcyBub3QgdGhlIHNhbWUgYXMgbW91c2Vtb3ZlLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQjcG9pbnRlcm1vdmVcbiAgICogQGFwaVxuICAgKi9cbiAgUE9JTlRFUk1PVkU6ICdwb2ludGVybW92ZScsXG5cbiAgUE9JTlRFUkRPV046ICdwb2ludGVyZG93bicsXG4gIFBPSU5URVJVUDogJ3BvaW50ZXJ1cCcsXG4gIFBPSU5URVJPVkVSOiAncG9pbnRlcm92ZXInLFxuICBQT0lOVEVST1VUOiAncG9pbnRlcm91dCcsXG4gIFBPSU5URVJFTlRFUjogJ3BvaW50ZXJlbnRlcicsXG4gIFBPSU5URVJMRUFWRTogJ3BvaW50ZXJsZWF2ZScsXG4gIFBPSU5URVJDQU5DRUw6ICdwb2ludGVyY2FuY2VsJyxcbn07XG5cbi8qKipcbiAqIEB0eXBlZGVmIHsnc2luZ2xlY2xpY2snfCdjbGljayd8J2RibGNsaWNrJ3wncG9pbnRlcmRyYWcnfCdwb2ludGVybW92ZSd9IFR5cGVzXG4gKi9cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9wb2ludGVyL0V2ZW50VHlwZVxuICovXG5cbi8qKlxuICogQ29uc3RhbnRzIGZvciBldmVudCBuYW1lcy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgUE9JTlRFUk1PVkU6ICdwb2ludGVybW92ZScsXG4gIFBPSU5URVJET1dOOiAncG9pbnRlcmRvd24nLFxuICBQT0lOVEVSVVA6ICdwb2ludGVydXAnLFxuICBQT0lOVEVST1ZFUjogJ3BvaW50ZXJvdmVyJyxcbiAgUE9JTlRFUk9VVDogJ3BvaW50ZXJvdXQnLFxuICBQT0lOVEVSRU5URVI6ICdwb2ludGVyZW50ZXInLFxuICBQT0lOVEVSTEVBVkU6ICdwb2ludGVybGVhdmUnLFxuICBQT0lOVEVSQ0FOQ0VMOiAncG9pbnRlcmNhbmNlbCcsXG59O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL01hcEJyb3dzZXJFdmVudEhhbmRsZXJcbiAqL1xuXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50IGZyb20gJy4vTWFwQnJvd3NlckV2ZW50LmpzJztcbmltcG9ydCBNYXBCcm93c2VyRXZlbnRUeXBlIGZyb20gJy4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgUG9pbnRlckV2ZW50VHlwZSBmcm9tICcuL3BvaW50ZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBUYXJnZXQgZnJvbSAnLi9ldmVudHMvVGFyZ2V0LmpzJztcbmltcG9ydCB7UEFTU0lWRV9FVkVOVF9MSVNURU5FUlN9IGZyb20gJy4vaGFzLmpzJztcbmltcG9ydCB7Vk9JRH0gZnJvbSAnLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXl9IGZyb20gJy4vZXZlbnRzLmpzJztcblxuY2xhc3MgTWFwQnJvd3NlckV2ZW50SGFuZGxlciBleHRlbmRzIFRhcmdldCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBUaGUgbWFwIHdpdGggdGhlIHZpZXdwb3J0IHRvIGxpc3RlbiB0byBldmVudHMgb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbW92ZVRvbGVyYW5jZV0gVGhlIG1pbmltYWwgZGlzdGFuY2UgdGhlIHBvaW50ZXIgbXVzdCB0cmF2ZWwgdG8gdHJpZ2dlciBhIG1vdmUuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYXAsIG1vdmVUb2xlcmFuY2UpIHtcbiAgICBzdXBlcihtYXApO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgZWxlbWVudCB0aGF0IHdlIHdpbGwgbGlzdGVuIHRvIHRoZSByZWFsIGV2ZW50cyBvbi5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9NYXAuanNcIikuZGVmYXVsdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubWFwXyA9IG1hcDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHthbnl9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmNsaWNrVGltZW91dElkXztcblxuICAgIC8qKlxuICAgICAqIEVtdWxhdGUgZGJsY2xpY2sgYW5kIHNpbmdsZWNsaWNrLiBXaWxsIGJlIHRydWUgd2hlbiBvbmx5IG9uZSBwb2ludGVyIGlzIGFjdGl2ZS5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmVtdWxhdGVDbGlja3NfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZHJhZ2dpbmdfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5tb3ZlVG9sZXJhbmNlXyA9IG1vdmVUb2xlcmFuY2UgPT09IHVuZGVmaW5lZCA/IDEgOiBtb3ZlVG9sZXJhbmNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1vc3QgcmVjZW50IFwiZG93blwiIHR5cGUgZXZlbnQgKG9yIG51bGwgaWYgbm9uZSBoYXZlIG9jY3VycmVkKS5cbiAgICAgKiBTZXQgb24gcG9pbnRlcmRvd24uXG4gICAgICogQHR5cGUge1BvaW50ZXJFdmVudHxudWxsfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5kb3duXyA9IG51bGw7XG5cbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5tYXBfLmdldFZpZXdwb3J0KCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8UG9pbnRlckV2ZW50Pn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuYWN0aXZlUG9pbnRlcnNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxudW1iZXIsIEV2ZW50Pn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudHJhY2tlZFRvdWNoZXNfID0ge307XG5cbiAgICB0aGlzLmVsZW1lbnRfID0gZWxlbWVudDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5wb2ludGVyZG93bkxpc3RlbmVyS2V5XyA9IGxpc3RlbihcbiAgICAgIGVsZW1lbnQsXG4gICAgICBQb2ludGVyRXZlbnRUeXBlLlBPSU5URVJET1dOLFxuICAgICAgdGhpcy5oYW5kbGVQb2ludGVyRG93bl8sXG4gICAgICB0aGlzXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtQb2ludGVyRXZlbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm9yaWdpbmFsUG9pbnRlck1vdmVFdmVudF87XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucmVsYXllZExpc3RlbmVyS2V5XyA9IGxpc3RlbihcbiAgICAgIGVsZW1lbnQsXG4gICAgICBQb2ludGVyRXZlbnRUeXBlLlBPSU5URVJNT1ZFLFxuICAgICAgdGhpcy5yZWxheU1vdmVFdmVudF8sXG4gICAgICB0aGlzXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5ib3VuZEhhbmRsZVRvdWNoTW92ZV8gPSB0aGlzLmhhbmRsZVRvdWNoTW92ZV8uYmluZCh0aGlzKTtcblxuICAgIHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIEV2ZW50VHlwZS5UT1VDSE1PVkUsXG4gICAgICB0aGlzLmJvdW5kSGFuZGxlVG91Y2hNb3ZlXyxcbiAgICAgIFBBU1NJVkVfRVZFTlRfTElTVEVORVJTID8ge3Bhc3NpdmU6IGZhbHNlfSA6IGZhbHNlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IFBvaW50ZXJcbiAgICogZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBlbXVsYXRlQ2xpY2tfKHBvaW50ZXJFdmVudCkge1xuICAgIGxldCBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoXG4gICAgICBNYXBCcm93c2VyRXZlbnRUeXBlLkNMSUNLLFxuICAgICAgdGhpcy5tYXBfLFxuICAgICAgcG9pbnRlckV2ZW50XG4gICAgKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICAgIGlmICh0aGlzLmNsaWNrVGltZW91dElkXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBkb3VibGUtY2xpY2tcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNsaWNrVGltZW91dElkXyk7XG4gICAgICB0aGlzLmNsaWNrVGltZW91dElkXyA9IHVuZGVmaW5lZDtcbiAgICAgIG5ld0V2ZW50ID0gbmV3IE1hcEJyb3dzZXJFdmVudChcbiAgICAgICAgTWFwQnJvd3NlckV2ZW50VHlwZS5EQkxDTElDSyxcbiAgICAgICAgdGhpcy5tYXBfLFxuICAgICAgICBwb2ludGVyRXZlbnRcbiAgICAgICk7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjbGlja1xuICAgICAgdGhpcy5jbGlja1RpbWVvdXRJZF8gPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5jbGlja1RpbWVvdXRJZF8gPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IG5ld0V2ZW50ID0gbmV3IE1hcEJyb3dzZXJFdmVudChcbiAgICAgICAgICBNYXBCcm93c2VyRXZlbnRUeXBlLlNJTkdMRUNMSUNLLFxuICAgICAgICAgIHRoaXMubWFwXyxcbiAgICAgICAgICBwb2ludGVyRXZlbnRcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICAgIH0sIDI1MCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEtlZXBzIHRyYWNrIG9uIGhvdyBtYW55IHBvaW50ZXJzIGFyZSBjdXJyZW50bHkgYWN0aXZlLlxuICAgKlxuICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IFBvaW50ZXJcbiAgICogZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB1cGRhdGVBY3RpdmVQb2ludGVyc18ocG9pbnRlckV2ZW50KSB7XG4gICAgY29uc3QgZXZlbnQgPSBwb2ludGVyRXZlbnQ7XG4gICAgY29uc3QgaWQgPSBldmVudC5wb2ludGVySWQ7XG5cbiAgICBpZiAoXG4gICAgICBldmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUlVQIHx8XG4gICAgICBldmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkNBTkNFTFxuICAgICkge1xuICAgICAgZGVsZXRlIHRoaXMudHJhY2tlZFRvdWNoZXNfW2lkXTtcbiAgICAgIGZvciAoY29uc3QgcG9pbnRlcklkIGluIHRoaXMudHJhY2tlZFRvdWNoZXNfKSB7XG4gICAgICAgIGlmICh0aGlzLnRyYWNrZWRUb3VjaGVzX1twb2ludGVySWRdLnRhcmdldCAhPT0gZXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgLy8gU29tZSBwbGF0Zm9ybXMgYXNzaWduIGEgbmV3IHBvaW50ZXJJZCB3aGVuIHRoZSB0YXJnZXQgY2hhbmdlcy5cbiAgICAgICAgICAvLyBJZiB0aGlzIGhhcHBlbnMsIGRlbGV0ZSBvbmUgdHJhY2tlZCBwb2ludGVyLiBJZiB0aGVyZSBpcyBtb3JlXG4gICAgICAgICAgLy8gdGhhbiBvbmUgdHJhY2tlZCBwb2ludGVyIGZvciB0aGUgb2xkIHRhcmdldCwgaXQgd2lsbCBiZSBjbGVhcmVkXG4gICAgICAgICAgLy8gYnkgc3Vic2VxdWVudCBQT0lOVEVSVVAgZXZlbnRzIGZyb20gb3RoZXIgcG9pbnRlcnMuXG4gICAgICAgICAgZGVsZXRlIHRoaXMudHJhY2tlZFRvdWNoZXNfW3BvaW50ZXJJZF07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFxuICAgICAgZXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJET1dOIHx8XG4gICAgICBldmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUk1PVkVcbiAgICApIHtcbiAgICAgIHRoaXMudHJhY2tlZFRvdWNoZXNfW2lkXSA9IGV2ZW50O1xuICAgIH1cbiAgICB0aGlzLmFjdGl2ZVBvaW50ZXJzXyA9IE9iamVjdC52YWx1ZXModGhpcy50cmFja2VkVG91Y2hlc18pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgKiBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVBvaW50ZXJVcF8ocG9pbnRlckV2ZW50KSB7XG4gICAgdGhpcy51cGRhdGVBY3RpdmVQb2ludGVyc18ocG9pbnRlckV2ZW50KTtcbiAgICBjb25zdCBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoXG4gICAgICBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCxcbiAgICAgIHRoaXMubWFwXyxcbiAgICAgIHBvaW50ZXJFdmVudCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHRoaXMuYWN0aXZlUG9pbnRlcnNfXG4gICAgKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuXG4gICAgLy8gV2UgZW11bGF0ZSBjbGljayBldmVudHMgb24gbGVmdCBtb3VzZSBidXR0b24gY2xpY2ssIHRvdWNoIGNvbnRhY3QsIGFuZCBwZW5cbiAgICAvLyBjb250YWN0LiBpc01vdXNlQWN0aW9uQnV0dG9uIHJldHVybnMgdHJ1ZSBpbiB0aGVzZSBjYXNlcyAoZXZ0LmJ1dHRvbiBpcyBzZXRcbiAgICAvLyB0byAwKS5cbiAgICAvLyBTZWUgaHR0cDovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jYnV0dG9uLXN0YXRlc1xuICAgIC8vIFdlIG9ubHkgZmlyZSBjbGljaywgc2luZ2xlY2xpY2ssIGFuZCBkb3VibGVjbGljayBpZiBub2JvZHkgaGFzIGNhbGxlZFxuICAgIC8vIGV2ZW50LnByZXZlbnREZWZhdWx0KCkuXG4gICAgaWYgKFxuICAgICAgdGhpcy5lbXVsYXRlQ2xpY2tzXyAmJlxuICAgICAgIW5ld0V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgJiZcbiAgICAgICF0aGlzLmRyYWdnaW5nXyAmJlxuICAgICAgdGhpcy5pc01vdXNlQWN0aW9uQnV0dG9uXyhwb2ludGVyRXZlbnQpXG4gICAgKSB7XG4gICAgICB0aGlzLmVtdWxhdGVDbGlja18odGhpcy5kb3duXyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWN0aXZlUG9pbnRlcnNfLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5sZW5ndGggPSAwO1xuICAgICAgdGhpcy5kcmFnZ2luZ18gPSBmYWxzZTtcbiAgICAgIHRoaXMuZG93bl8gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IFBvaW50ZXJcbiAgICogZXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiB3YXMgcHJlc3NlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzTW91c2VBY3Rpb25CdXR0b25fKHBvaW50ZXJFdmVudCkge1xuICAgIHJldHVybiBwb2ludGVyRXZlbnQuYnV0dG9uID09PSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgKiBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVBvaW50ZXJEb3duXyhwb2ludGVyRXZlbnQpIHtcbiAgICB0aGlzLmVtdWxhdGVDbGlja3NfID0gdGhpcy5hY3RpdmVQb2ludGVyc18ubGVuZ3RoID09PSAwO1xuICAgIHRoaXMudXBkYXRlQWN0aXZlUG9pbnRlcnNfKHBvaW50ZXJFdmVudCk7XG4gICAgY29uc3QgbmV3RXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KFxuICAgICAgTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRE9XTixcbiAgICAgIHRoaXMubWFwXyxcbiAgICAgIHBvaW50ZXJFdmVudCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHRoaXMuYWN0aXZlUG9pbnRlcnNfXG4gICAgKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuXG4gICAgLy8gU3RvcmUgYSBjb3B5IG9mIHRoZSBkb3duIGV2ZW50XG4gICAgdGhpcy5kb3duXyA9IC8qKiBAdHlwZSB7UG9pbnRlckV2ZW50fSAqLyAoe30pO1xuICAgIGZvciAoY29uc3QgcHJvcGVydHkgaW4gcG9pbnRlckV2ZW50KSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBvaW50ZXJFdmVudFtwcm9wZXJ0eV07XG4gICAgICB0aGlzLmRvd25fW3Byb3BlcnR5XSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IFZPSUQgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IGRvYyA9IHRoaXMubWFwXy5nZXRPd25lckRvY3VtZW50KCk7XG4gICAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLnB1c2goXG4gICAgICAgIGxpc3RlbihcbiAgICAgICAgICBkb2MsXG4gICAgICAgICAgTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSTU9WRSxcbiAgICAgICAgICB0aGlzLmhhbmRsZVBvaW50ZXJNb3ZlXyxcbiAgICAgICAgICB0aGlzXG4gICAgICAgICksXG4gICAgICAgIGxpc3Rlbihkb2MsIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUlVQLCB0aGlzLmhhbmRsZVBvaW50ZXJVcF8sIHRoaXMpLFxuICAgICAgICAvKiBOb3RlIHRoYXQgdGhlIGxpc3RlbmVyIGZvciBgcG9pbnRlcmNhbmNlbCBpcyBzZXQgdXAgb25cbiAgICAgICAgICogYHBvaW50ZXJFdmVudEhhbmRsZXJfYCBhbmQgbm90IGBkb2N1bWVudFBvaW50ZXJFdmVudEhhbmRsZXJfYCBsaWtlXG4gICAgICAgICAqIHRoZSBgcG9pbnRlcnVwYCBhbmQgYHBvaW50ZXJtb3ZlYCBsaXN0ZW5lcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSByZWFzb24gZm9yIHRoaXMgaXMgdGhlIGZvbGxvd2luZzogYFRvdWNoU291cmNlLnZhY3V1bVRvdWNoZXNfKClgXG4gICAgICAgICAqIGlzc3VlcyBgcG9pbnRlcmNhbmNlbGAgZXZlbnRzLCB3aGVuIHRoZXJlIHdhcyBubyBgdG91Y2hlbmRgIGZvciBhXG4gICAgICAgICAqIGB0b3VjaHN0YXJ0YC4gTm93LCBsZXQncyBzYXkgYSBmaXJzdCBgdG91Y2hzdGFydGAgaXMgcmVnaXN0ZXJlZCBvblxuICAgICAgICAgKiBgcG9pbnRlckV2ZW50SGFuZGxlcl9gLiBUaGUgYGRvY3VtZW50UG9pbnRlckV2ZW50SGFuZGxlcl9gIGlzIHNldCB1cC5cbiAgICAgICAgICogQnV0IGBkb2N1bWVudFBvaW50ZXJFdmVudEhhbmRsZXJfYCBkb2Vzbid0IGtub3cgYWJvdXQgdGhlIGZpcnN0XG4gICAgICAgICAqIGB0b3VjaHN0YXJ0YC4gSWYgdGhlcmUgaXMgbm8gYHRvdWNoZW5kYCBmb3IgdGhlIGB0b3VjaHN0YXJ0YCwgd2UgY2FuXG4gICAgICAgICAqIG9ubHkgcmVjZWl2ZSBhIGB0b3VjaGNhbmNlbGAgZnJvbSBgcG9pbnRlckV2ZW50SGFuZGxlcl9gLCBiZWNhdXNlIGl0IGlzXG4gICAgICAgICAqIG9ubHkgcmVnaXN0ZXJlZCB0aGVyZS5cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RlbihcbiAgICAgICAgICB0aGlzLmVsZW1lbnRfLFxuICAgICAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkNBTkNFTCxcbiAgICAgICAgICB0aGlzLmhhbmRsZVBvaW50ZXJVcF8sXG4gICAgICAgICAgdGhpc1xuICAgICAgICApXG4gICAgICApO1xuICAgICAgaWYgKHRoaXMuZWxlbWVudF8uZ2V0Um9vdE5vZGUgJiYgdGhpcy5lbGVtZW50Xy5nZXRSb290Tm9kZSgpICE9PSBkb2MpIHtcbiAgICAgICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5wdXNoKFxuICAgICAgICAgIGxpc3RlbihcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudF8uZ2V0Um9vdE5vZGUoKSxcbiAgICAgICAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUlVQLFxuICAgICAgICAgICAgdGhpcy5oYW5kbGVQb2ludGVyVXBfLFxuICAgICAgICAgICAgdGhpc1xuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAqIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlUG9pbnRlck1vdmVfKHBvaW50ZXJFdmVudCkge1xuICAgIC8vIEJldHdlZW4gcG9pbnRlcmRvd24gYW5kIHBvaW50ZXJ1cCwgcG9pbnRlcm1vdmUgZXZlbnRzIGFyZSB0cmlnZ2VyZWQuXG4gICAgLy8gVG8gYXZvaWQgYSAnZmFsc2UnIHRvdWNobW92ZSBldmVudCB0byBiZSBkaXNwYXRjaGVkLCB3ZSB0ZXN0IGlmIHRoZSBwb2ludGVyXG4gICAgLy8gbW92ZWQgYSBzaWduaWZpY2FudCBkaXN0YW5jZS5cbiAgICBpZiAodGhpcy5pc01vdmluZ18ocG9pbnRlckV2ZW50KSkge1xuICAgICAgdGhpcy51cGRhdGVBY3RpdmVQb2ludGVyc18ocG9pbnRlckV2ZW50KTtcbiAgICAgIHRoaXMuZHJhZ2dpbmdfID0gdHJ1ZTtcbiAgICAgIGNvbnN0IG5ld0V2ZW50ID0gbmV3IE1hcEJyb3dzZXJFdmVudChcbiAgICAgICAgTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRFJBRyxcbiAgICAgICAgdGhpcy5tYXBfLFxuICAgICAgICBwb2ludGVyRXZlbnQsXG4gICAgICAgIHRoaXMuZHJhZ2dpbmdfLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHRoaXMuYWN0aXZlUG9pbnRlcnNfXG4gICAgICApO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV3JhcCBhbmQgcmVsYXkgYSBwb2ludGVybW92ZSBldmVudC5cbiAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAqIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVsYXlNb3ZlRXZlbnRfKHBvaW50ZXJFdmVudCkge1xuICAgIHRoaXMub3JpZ2luYWxQb2ludGVyTW92ZUV2ZW50XyA9IHBvaW50ZXJFdmVudDtcbiAgICBjb25zdCBkcmFnZ2luZyA9ICEhKHRoaXMuZG93bl8gJiYgdGhpcy5pc01vdmluZ18ocG9pbnRlckV2ZW50KSk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IE1hcEJyb3dzZXJFdmVudChcbiAgICAgICAgTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSTU9WRSxcbiAgICAgICAgdGhpcy5tYXBfLFxuICAgICAgICBwb2ludGVyRXZlbnQsXG4gICAgICAgIGRyYWdnaW5nXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGbGV4aWJsZSBoYW5kbGluZyBvZiBhIGB0b3VjaC1hY3Rpb246IG5vbmVgIGNzcyBlcXVpdmFsZW50OiBiZWNhdXNlIGNhbGxpbmdcbiAgICogYHByZXZlbnREZWZhdWx0KClgIG9uIGEgYHBvaW50ZXJtb3ZlYCBldmVudCBkb2VzIG5vdCBzdG9wIG5hdGl2ZSBwYWdlIHNjcm9sbGluZ1xuICAgKiBhbmQgem9vbWluZywgd2UgYWxzbyBsaXN0ZW4gZm9yIGB0b3VjaG1vdmVgIGFuZCBjYWxsIGBwcmV2ZW50RGVmYXVsdCgpYCBvbiBpdFxuICAgKiB3aGVuIGFuIGludGVyYWN0aW9uIChjdXJyZW50bHkgYERyYWdQYW5gIGhhbmRsZXMgdGhlIGV2ZW50LlxuICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGV2ZW50IEV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlVG91Y2hNb3ZlXyhldmVudCkge1xuICAgIC8vIER1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vbXBpemVuYmVyZy9lbG0tcGVwL2lzc3Vlcy8yLCBgdGhpcy5vcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfYFxuICAgIC8vIG1heSBub3QgYmUgaW5pdGlhbGl6ZWQgeWV0IHdoZW4gd2UgZ2V0IGhlcmUgb24gYSBwbGF0Zm9ybSB3aXRob3V0IG5hdGl2ZSBwb2ludGVyIGV2ZW50cy5cbiAgICBjb25zdCBvcmlnaW5hbEV2ZW50ID0gdGhpcy5vcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfO1xuICAgIGlmIChcbiAgICAgICghb3JpZ2luYWxFdmVudCB8fCBvcmlnaW5hbEV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpICYmXG4gICAgICAodHlwZW9mIGV2ZW50LmNhbmNlbGFibGUgIT09ICdib29sZWFuJyB8fCBldmVudC5jYW5jZWxhYmxlID09PSB0cnVlKVxuICAgICkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAqIGV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBtb3ZpbmcuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc01vdmluZ18ocG9pbnRlckV2ZW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuZHJhZ2dpbmdfIHx8XG4gICAgICBNYXRoLmFicyhwb2ludGVyRXZlbnQuY2xpZW50WCAtIHRoaXMuZG93bl8uY2xpZW50WCkgPlxuICAgICAgICB0aGlzLm1vdmVUb2xlcmFuY2VfIHx8XG4gICAgICBNYXRoLmFicyhwb2ludGVyRXZlbnQuY2xpZW50WSAtIHRoaXMuZG93bl8uY2xpZW50WSkgPiB0aGlzLm1vdmVUb2xlcmFuY2VfXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbiB1cC5cbiAgICovXG4gIGRpc3Bvc2VJbnRlcm5hbCgpIHtcbiAgICBpZiAodGhpcy5yZWxheWVkTGlzdGVuZXJLZXlfKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMucmVsYXllZExpc3RlbmVyS2V5Xyk7XG4gICAgICB0aGlzLnJlbGF5ZWRMaXN0ZW5lcktleV8gPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmVsZW1lbnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBFdmVudFR5cGUuVE9VQ0hNT1ZFLFxuICAgICAgdGhpcy5ib3VuZEhhbmRsZVRvdWNoTW92ZV9cbiAgICApO1xuXG4gICAgaWYgKHRoaXMucG9pbnRlcmRvd25MaXN0ZW5lcktleV8pIHtcbiAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5wb2ludGVyZG93bkxpc3RlbmVyS2V5Xyk7XG4gICAgICB0aGlzLnBvaW50ZXJkb3duTGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLmRyYWdMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5sZW5ndGggPSAwO1xuXG4gICAgdGhpcy5lbGVtZW50XyA9IG51bGw7XG4gICAgc3VwZXIuZGlzcG9zZUludGVybmFsKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFwQnJvd3NlckV2ZW50SGFuZGxlcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBFdmVudFR5cGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCBhZnRlciBhIG1hcCBmcmFtZSBpcyByZW5kZXJlZC5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBFdmVudH5NYXBFdmVudCNwb3N0cmVuZGVyXG4gICAqIEBhcGlcbiAgICovXG4gIFBPU1RSRU5ERVI6ICdwb3N0cmVuZGVyJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gdGhlIG1hcCBzdGFydHMgbW92aW5nLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEV2ZW50fk1hcEV2ZW50I21vdmVzdGFydFxuICAgKiBAYXBpXG4gICAqL1xuICBNT1ZFU1RBUlQ6ICdtb3Zlc3RhcnQnLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIG1hcCBpcyBtb3ZlZC5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBFdmVudH5NYXBFdmVudCNtb3ZlZW5kXG4gICAqIEBhcGlcbiAgICovXG4gIE1PVkVFTkQ6ICdtb3ZlZW5kJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gbG9hZGluZyBvZiBhZGRpdGlvbmFsIG1hcCBkYXRhICh0aWxlcywgaW1hZ2VzLCBmZWF0dXJlcykgc3RhcnRzLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEV2ZW50fk1hcEV2ZW50I2xvYWRzdGFydFxuICAgKiBAYXBpXG4gICAqL1xuICBMT0FEU1RBUlQ6ICdsb2Fkc3RhcnQnLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiBsb2FkaW5nIG9mIGFkZGl0aW9uYWwgbWFwIGRhdGEgaGFzIGNvbXBsZXRlZC5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBFdmVudH5NYXBFdmVudCNsb2FkZW5kXG4gICAqIEBhcGlcbiAgICovXG4gIExPQURFTkQ6ICdsb2FkZW5kJyxcbn07XG5cbi8qKipcbiAqIEB0eXBlZGVmIHsncG9zdHJlbmRlcid8J21vdmVzdGFydCd8J21vdmVlbmQnfCdsb2Fkc3RhcnQnfCdsb2FkZW5kJ30gVHlwZXNcbiAqL1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL01hcFByb3BlcnR5XG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIExBWUVSR1JPVVA6ICdsYXllcmdyb3VwJyxcbiAgU0laRTogJ3NpemUnLFxuICBUQVJHRVQ6ICd0YXJnZXQnLFxuICBWSUVXOiAndmlldycsXG59O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0cnVjdHMvUHJpb3JpdHlRdWV1ZVxuICovXG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge2NsZWFyfSBmcm9tICcuLi9vYmouanMnO1xuXG4vKipcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBEUk9QID0gSW5maW5pdHk7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogUHJpb3JpdHkgcXVldWUuXG4gKlxuICogVGhlIGltcGxlbWVudGF0aW9uIGlzIGluc3BpcmVkIGZyb20gdGhlIENsb3N1cmUgTGlicmFyeSdzIEhlYXAgY2xhc3MgYW5kXG4gKiBQeXRob24ncyBoZWFwcSBtb2R1bGUuXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1saWJyYXJ5L2Jsb2IvbWFzdGVyL2Nsb3N1cmUvZ29vZy9zdHJ1Y3RzL2hlYXAuanNcbiAqIGFuZCBodHRwczovL2hnLnB5dGhvbi5vcmcvY3B5dGhvbi9maWxlLzIuNy9MaWIvaGVhcHEucHkuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqL1xuY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFQpOiBudW1iZXJ9IHByaW9yaXR5RnVuY3Rpb24gUHJpb3JpdHkgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oVCk6IHN0cmluZ30ga2V5RnVuY3Rpb24gS2V5IGZ1bmN0aW9uLlxuICAgKi9cbiAgY29uc3RydWN0b3IocHJpb3JpdHlGdW5jdGlvbiwga2V5RnVuY3Rpb24pIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oVCk6IG51bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucHJpb3JpdHlGdW5jdGlvbl8gPSBwcmlvcml0eUZ1bmN0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Z1bmN0aW9uKFQpOiBzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmtleUZ1bmN0aW9uXyA9IGtleUZ1bmN0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PFQ+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5lbGVtZW50c18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5wcmlvcml0aWVzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucXVldWVkRWxlbWVudHNfID0ge307XG4gIH1cblxuICAvKipcbiAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLmVsZW1lbnRzXy5sZW5ndGggPSAwO1xuICAgIHRoaXMucHJpb3JpdGllc18ubGVuZ3RoID0gMDtcbiAgICBjbGVhcih0aGlzLnF1ZXVlZEVsZW1lbnRzXyk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuZCByZXR1cm4gdGhlIGhpZ2hlc3QtcHJpb3JpdHkgZWxlbWVudC4gTyhsb2cgTikuXG4gICAqIEByZXR1cm4ge1R9IEVsZW1lbnQuXG4gICAqL1xuICBkZXF1ZXVlKCkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5lbGVtZW50c187XG4gICAgY29uc3QgcHJpb3JpdGllcyA9IHRoaXMucHJpb3JpdGllc187XG4gICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzWzBdO1xuICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT0gMSkge1xuICAgICAgZWxlbWVudHMubGVuZ3RoID0gMDtcbiAgICAgIHByaW9yaXRpZXMubGVuZ3RoID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudHNbMF0gPSBlbGVtZW50cy5wb3AoKTtcbiAgICAgIHByaW9yaXRpZXNbMF0gPSBwcmlvcml0aWVzLnBvcCgpO1xuICAgICAgdGhpcy5zaWZ0VXBfKDApO1xuICAgIH1cbiAgICBjb25zdCBlbGVtZW50S2V5ID0gdGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCk7XG4gICAgZGVsZXRlIHRoaXMucXVldWVkRWxlbWVudHNfW2VsZW1lbnRLZXldO1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEVucXVldWUgYW4gZWxlbWVudC4gTyhsb2cgTikuXG4gICAqIEBwYXJhbSB7VH0gZWxlbWVudCBFbGVtZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgZWxlbWVudCB3YXMgYWRkZWQgdG8gdGhlIHF1ZXVlLlxuICAgKi9cbiAgZW5xdWV1ZShlbGVtZW50KSB7XG4gICAgYXNzZXJ0KCEodGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCkgaW4gdGhpcy5xdWV1ZWRFbGVtZW50c18pLCAzMSk7IC8vIFRyaWVkIHRvIGVucXVldWUgYW4gYGVsZW1lbnRgIHRoYXQgd2FzIGFscmVhZHkgYWRkZWQgdG8gdGhlIHF1ZXVlXG4gICAgY29uc3QgcHJpb3JpdHkgPSB0aGlzLnByaW9yaXR5RnVuY3Rpb25fKGVsZW1lbnQpO1xuICAgIGlmIChwcmlvcml0eSAhPSBEUk9QKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzXy5wdXNoKGVsZW1lbnQpO1xuICAgICAgdGhpcy5wcmlvcml0aWVzXy5wdXNoKHByaW9yaXR5KTtcbiAgICAgIHRoaXMucXVldWVkRWxlbWVudHNfW3RoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpXSA9IHRydWU7XG4gICAgICB0aGlzLnNpZnREb3duXygwLCB0aGlzLmVsZW1lbnRzXy5sZW5ndGggLSAxKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBDb3VudC5cbiAgICovXG4gIGdldENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRzXy5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgaW5kZXggb2YgdGhlIGxlZnQgY2hpbGQgb2YgdGhlIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIGdldCB0aGUgbGVmdCBjaGlsZCBmb3IuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSBsZWZ0IGNoaWxkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0TGVmdENoaWxkSW5kZXhfKGluZGV4KSB7XG4gICAgcmV0dXJuIGluZGV4ICogMiArIDE7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgaW5kZXggb2YgdGhlIHJpZ2h0IGNoaWxkIG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBnZXQgdGhlIHJpZ2h0IGNoaWxkIGZvci5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIHJpZ2h0IGNoaWxkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0UmlnaHRDaGlsZEluZGV4XyhpbmRleCkge1xuICAgIHJldHVybiBpbmRleCAqIDIgKyAyO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGluZGV4IG9mIHRoZSBwYXJlbnQgb2YgdGhlIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIGdldCB0aGUgcGFyZW50IGZvci5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIHBhcmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFBhcmVudEluZGV4XyhpbmRleCkge1xuICAgIHJldHVybiAoaW5kZXggLSAxKSA+PiAxO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2UgdGhpcyBhIGhlYXAuIE8oTikuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoZWFwaWZ5XygpIHtcbiAgICBsZXQgaTtcbiAgICBmb3IgKGkgPSAodGhpcy5lbGVtZW50c18ubGVuZ3RoID4+IDEpIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHRoaXMuc2lmdFVwXyhpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgZW1wdHkuXG4gICAqL1xuICBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRzXy5sZW5ndGggPT09IDA7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGtleSBxdWV1ZWQuXG4gICAqL1xuICBpc0tleVF1ZXVlZChrZXkpIHtcbiAgICByZXR1cm4ga2V5IGluIHRoaXMucXVldWVkRWxlbWVudHNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VH0gZWxlbWVudCBFbGVtZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBxdWV1ZWQuXG4gICAqL1xuICBpc1F1ZXVlZChlbGVtZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuaXNLZXlRdWV1ZWQodGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gbW92ZSBkb3duLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2lmdFVwXyhpbmRleCkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5lbGVtZW50c187XG4gICAgY29uc3QgcHJpb3JpdGllcyA9IHRoaXMucHJpb3JpdGllc187XG4gICAgY29uc3QgY291bnQgPSBlbGVtZW50cy5sZW5ndGg7XG4gICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2luZGV4XTtcbiAgICBjb25zdCBwcmlvcml0eSA9IHByaW9yaXRpZXNbaW5kZXhdO1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBpbmRleDtcblxuICAgIHdoaWxlIChpbmRleCA8IGNvdW50ID4+IDEpIHtcbiAgICAgIGNvbnN0IGxJbmRleCA9IHRoaXMuZ2V0TGVmdENoaWxkSW5kZXhfKGluZGV4KTtcbiAgICAgIGNvbnN0IHJJbmRleCA9IHRoaXMuZ2V0UmlnaHRDaGlsZEluZGV4XyhpbmRleCk7XG5cbiAgICAgIGNvbnN0IHNtYWxsZXJDaGlsZEluZGV4ID1cbiAgICAgICAgckluZGV4IDwgY291bnQgJiYgcHJpb3JpdGllc1tySW5kZXhdIDwgcHJpb3JpdGllc1tsSW5kZXhdXG4gICAgICAgICAgPyBySW5kZXhcbiAgICAgICAgICA6IGxJbmRleDtcblxuICAgICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudHNbc21hbGxlckNoaWxkSW5kZXhdO1xuICAgICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0aWVzW3NtYWxsZXJDaGlsZEluZGV4XTtcbiAgICAgIGluZGV4ID0gc21hbGxlckNoaWxkSW5kZXg7XG4gICAgfVxuXG4gICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudDtcbiAgICBwcmlvcml0aWVzW2luZGV4XSA9IHByaW9yaXR5O1xuICAgIHRoaXMuc2lmdERvd25fKHN0YXJ0SW5kZXgsIGluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCBUaGUgaW5kZXggb2YgdGhlIHJvb3QuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gbW92ZSB1cC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNpZnREb3duXyhzdGFydEluZGV4LCBpbmRleCkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5lbGVtZW50c187XG4gICAgY29uc3QgcHJpb3JpdGllcyA9IHRoaXMucHJpb3JpdGllc187XG4gICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2luZGV4XTtcbiAgICBjb25zdCBwcmlvcml0eSA9IHByaW9yaXRpZXNbaW5kZXhdO1xuXG4gICAgd2hpbGUgKGluZGV4ID4gc3RhcnRJbmRleCkge1xuICAgICAgY29uc3QgcGFyZW50SW5kZXggPSB0aGlzLmdldFBhcmVudEluZGV4XyhpbmRleCk7XG4gICAgICBpZiAocHJpb3JpdGllc1twYXJlbnRJbmRleF0gPiBwcmlvcml0eSkge1xuICAgICAgICBlbGVtZW50c1tpbmRleF0gPSBlbGVtZW50c1twYXJlbnRJbmRleF07XG4gICAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdGllc1twYXJlbnRJbmRleF07XG4gICAgICAgIGluZGV4ID0gcGFyZW50SW5kZXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudDtcbiAgICBwcmlvcml0aWVzW2luZGV4XSA9IHByaW9yaXR5O1xuICB9XG5cbiAgLyoqXG4gICAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICAgKi9cbiAgcmVwcmlvcml0aXplKCkge1xuICAgIGNvbnN0IHByaW9yaXR5RnVuY3Rpb24gPSB0aGlzLnByaW9yaXR5RnVuY3Rpb25fO1xuICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5lbGVtZW50c187XG4gICAgY29uc3QgcHJpb3JpdGllcyA9IHRoaXMucHJpb3JpdGllc187XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBjb25zdCBuID0gZWxlbWVudHMubGVuZ3RoO1xuICAgIGxldCBlbGVtZW50LCBpLCBwcmlvcml0eTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgICBwcmlvcml0eSA9IHByaW9yaXR5RnVuY3Rpb24oZWxlbWVudCk7XG4gICAgICBpZiAocHJpb3JpdHkgPT0gRFJPUCkge1xuICAgICAgICBkZWxldGUgdGhpcy5xdWV1ZWRFbGVtZW50c19bdGhpcy5rZXlGdW5jdGlvbl8oZWxlbWVudCldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0eTtcbiAgICAgICAgZWxlbWVudHNbaW5kZXgrK10gPSBlbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50cy5sZW5ndGggPSBpbmRleDtcbiAgICBwcmlvcml0aWVzLmxlbmd0aCA9IGluZGV4O1xuICAgIHRoaXMuaGVhcGlmeV8oKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQcmlvcml0eVF1ZXVlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1RpbGVRdWV1ZVxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgUHJpb3JpdHlRdWV1ZSwge0RST1B9IGZyb20gJy4vc3RydWN0cy9Qcmlvcml0eVF1ZXVlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi9UaWxlU3RhdGUuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdCwgc3RyaW5nLCBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSwgbnVtYmVyKTogbnVtYmVyfSBQcmlvcml0eUZ1bmN0aW9uXG4gKi9cblxuY2xhc3MgVGlsZVF1ZXVlIGV4dGVuZHMgUHJpb3JpdHlRdWV1ZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1ByaW9yaXR5RnVuY3Rpb259IHRpbGVQcmlvcml0eUZ1bmN0aW9uIFRpbGUgcHJpb3JpdHkgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogP30gdGlsZUNoYW5nZUNhbGxiYWNrIEZ1bmN0aW9uIGNhbGxlZCBvbiBlYWNoIHRpbGUgY2hhbmdlIGV2ZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IodGlsZVByaW9yaXR5RnVuY3Rpb24sIHRpbGVDaGFuZ2VDYWxsYmFjaykge1xuICAgIHN1cGVyKFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50IEVsZW1lbnQuXG4gICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFByaW9yaXR5LlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGlsZVByaW9yaXR5RnVuY3Rpb24uYXBwbHkobnVsbCwgZWxlbWVudCk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50IEVsZW1lbnQuXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEtleS5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLmRlZmF1bHR9ICovIChlbGVtZW50WzBdKS5nZXRLZXkoKTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy5ib3VuZEhhbmRsZVRpbGVDaGFuZ2VfID0gdGhpcy5oYW5kbGVUaWxlQ2hhbmdlLmJpbmQodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtmdW5jdGlvbigpOiA/fVxuICAgICAqL1xuICAgIHRoaXMudGlsZUNoYW5nZUNhbGxiYWNrXyA9IHRpbGVDaGFuZ2VDYWxsYmFjaztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVzTG9hZGluZ18gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsYm9vbGVhbj59XG4gICAgICovXG4gICAgdGhpcy50aWxlc0xvYWRpbmdLZXlzXyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnQgRWxlbWVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGVsZW1lbnQgd2FzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAgICovXG4gIGVucXVldWUoZWxlbWVudCkge1xuICAgIGNvbnN0IGFkZGVkID0gc3VwZXIuZW5xdWV1ZShlbGVtZW50KTtcbiAgICBpZiAoYWRkZWQpIHtcbiAgICAgIGNvbnN0IHRpbGUgPSBlbGVtZW50WzBdO1xuICAgICAgdGlsZS5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuYm91bmRIYW5kbGVUaWxlQ2hhbmdlXyk7XG4gICAgfVxuICAgIHJldHVybiBhZGRlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBvZiB0aWxlcyBsb2FkaW5nLlxuICAgKi9cbiAgZ2V0VGlsZXNMb2FkaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnRpbGVzTG9hZGluZ187XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBFdmVudC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgaGFuZGxlVGlsZUNoYW5nZShldmVudCkge1xuICAgIGNvbnN0IHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZlbnQudGFyZ2V0KTtcbiAgICBjb25zdCBzdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICBpZiAoXG4gICAgICBzdGF0ZSA9PT0gVGlsZVN0YXRlLkxPQURFRCB8fFxuICAgICAgc3RhdGUgPT09IFRpbGVTdGF0ZS5FUlJPUiB8fFxuICAgICAgc3RhdGUgPT09IFRpbGVTdGF0ZS5FTVBUWVxuICAgICkge1xuICAgICAgaWYgKHN0YXRlICE9PSBUaWxlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgdGlsZS5yZW1vdmVFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuYm91bmRIYW5kbGVUaWxlQ2hhbmdlXyk7XG4gICAgICB9XG4gICAgICBjb25zdCB0aWxlS2V5ID0gdGlsZS5nZXRLZXkoKTtcbiAgICAgIGlmICh0aWxlS2V5IGluIHRoaXMudGlsZXNMb2FkaW5nS2V5c18pIHtcbiAgICAgICAgZGVsZXRlIHRoaXMudGlsZXNMb2FkaW5nS2V5c19bdGlsZUtleV07XG4gICAgICAgIC0tdGhpcy50aWxlc0xvYWRpbmdfO1xuICAgICAgfVxuICAgICAgdGhpcy50aWxlQ2hhbmdlQ2FsbGJhY2tfKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUb3RhbExvYWRpbmcgTWF4aW11bSBudW1iZXIgdGlsZXMgdG8gbG9hZCBzaW11bHRhbmVvdXNseS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heE5ld0xvYWRzIE1heGltdW0gbnVtYmVyIG9mIG5ldyB0aWxlcyB0byBsb2FkLlxuICAgKi9cbiAgbG9hZE1vcmVUaWxlcyhtYXhUb3RhbExvYWRpbmcsIG1heE5ld0xvYWRzKSB7XG4gICAgbGV0IG5ld0xvYWRzID0gMDtcbiAgICBsZXQgc3RhdGUsIHRpbGUsIHRpbGVLZXk7XG4gICAgd2hpbGUgKFxuICAgICAgdGhpcy50aWxlc0xvYWRpbmdfIDwgbWF4VG90YWxMb2FkaW5nICYmXG4gICAgICBuZXdMb2FkcyA8IG1heE5ld0xvYWRzICYmXG4gICAgICB0aGlzLmdldENvdW50KCkgPiAwXG4gICAgKSB7XG4gICAgICB0aWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKHRoaXMuZGVxdWV1ZSgpWzBdKTtcbiAgICAgIHRpbGVLZXkgPSB0aWxlLmdldEtleSgpO1xuICAgICAgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICBpZiAoc3RhdGUgPT09IFRpbGVTdGF0ZS5JRExFICYmICEodGlsZUtleSBpbiB0aGlzLnRpbGVzTG9hZGluZ0tleXNfKSkge1xuICAgICAgICB0aGlzLnRpbGVzTG9hZGluZ0tleXNfW3RpbGVLZXldID0gdHJ1ZTtcbiAgICAgICAgKyt0aGlzLnRpbGVzTG9hZGluZ187XG4gICAgICAgICsrbmV3TG9hZHM7XG4gICAgICAgIHRpbGUubG9hZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlUXVldWU7XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vTWFwLmpzJykuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0aWxlU291cmNlS2V5IFRpbGUgc291cmNlIGtleS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHRpbGVDZW50ZXIgVGlsZSBjZW50ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gdGlsZVJlc29sdXRpb24gVGlsZSByZXNvbHV0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHByaW9yaXR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGlsZVByaW9yaXR5KFxuICBmcmFtZVN0YXRlLFxuICB0aWxlLFxuICB0aWxlU291cmNlS2V5LFxuICB0aWxlQ2VudGVyLFxuICB0aWxlUmVzb2x1dGlvblxuKSB7XG4gIC8vIEZpbHRlciBvdXQgdGlsZXMgYXQgaGlnaGVyIHpvb20gbGV2ZWxzIHRoYW4gdGhlIGN1cnJlbnQgem9vbSBsZXZlbCwgb3IgdGhhdFxuICAvLyBhcmUgb3V0c2lkZSB0aGUgdmlzaWJsZSBleHRlbnQuXG4gIGlmICghZnJhbWVTdGF0ZSB8fCAhKHRpbGVTb3VyY2VLZXkgaW4gZnJhbWVTdGF0ZS53YW50ZWRUaWxlcykpIHtcbiAgICByZXR1cm4gRFJPUDtcbiAgfVxuICBpZiAoIWZyYW1lU3RhdGUud2FudGVkVGlsZXNbdGlsZVNvdXJjZUtleV1bdGlsZS5nZXRLZXkoKV0pIHtcbiAgICByZXR1cm4gRFJPUDtcbiAgfVxuICAvLyBQcmlvcml0aXplIHRoZSBoaWdoZXN0IHpvb20gbGV2ZWwgdGlsZXMgY2xvc2VzdCB0byB0aGUgZm9jdXMuXG4gIC8vIFRpbGVzIGF0IGhpZ2hlciB6b29tIGxldmVscyBhcmUgcHJpb3JpdGl6ZWQgdXNpbmcgTWF0aC5sb2codGlsZVJlc29sdXRpb24pLlxuICAvLyBXaXRoaW4gYSB6b29tIGxldmVsLCB0aWxlcyBhcmUgcHJpb3JpdGl6ZWQgYnkgdGhlIGRpc3RhbmNlIGluIHBpeGVscyBiZXR3ZWVuXG4gIC8vIHRoZSBjZW50ZXIgb2YgdGhlIHRpbGUgYW5kIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXdwb3J0LiAgVGhlIGZhY3RvciBvZiA2NTUzNlxuICAvLyBtZWFucyB0aGF0IHRoZSBwcmlvcml0aXphdGlvbiBzaG91bGQgYmVoYXZlIGFzIGRlc2lyZWQgZm9yIHRpbGVzIHVwIHRvXG4gIC8vIDY1NTM2ICogTWF0aC5sb2coMikgPSA0NTQyNiBwaXhlbHMgZnJvbSB0aGUgZm9jdXMuXG4gIGNvbnN0IGNlbnRlciA9IGZyYW1lU3RhdGUudmlld1N0YXRlLmNlbnRlcjtcbiAgY29uc3QgZGVsdGFYID0gdGlsZUNlbnRlclswXSAtIGNlbnRlclswXTtcbiAgY29uc3QgZGVsdGFZID0gdGlsZUNlbnRlclsxXSAtIGNlbnRlclsxXTtcbiAgcmV0dXJuIChcbiAgICA2NTUzNiAqIE1hdGgubG9nKHRpbGVSZXNvbHV0aW9uKSArXG4gICAgTWF0aC5zcXJ0KGRlbHRhWCAqIGRlbHRhWCArIGRlbHRhWSAqIGRlbHRhWSkgLyB0aWxlUmVzb2x1dGlvblxuICApO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvQ29udHJvbFxuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IE1hcEV2ZW50VHlwZSBmcm9tICcuLi9NYXBFdmVudFR5cGUuanMnO1xuaW1wb3J0IHtWT0lEfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXl9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQge3JlbW92ZU5vZGV9IGZyb20gJy4uL2RvbS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gW2VsZW1lbnRdIFRoZSBlbGVtZW50IGlzIHRoZSBjb250cm9sJ3NcbiAqIGNvbnRhaW5lciBlbGVtZW50LiBUaGlzIG9ubHkgbmVlZHMgdG8gYmUgc3BlY2lmaWVkIGlmIHlvdSdyZSBkZXZlbG9waW5nXG4gKiBhIGN1c3RvbSBjb250cm9sLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbcmVuZGVyXSBGdW5jdGlvbiBjYWxsZWQgd2hlblxuICogdGhlIGNvbnRyb2wgc2hvdWxkIGJlIHJlLXJlbmRlcmVkLiBUaGlzIGlzIGNhbGxlZCBpbiBhIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgXG4gKiBjYWxsYmFjay5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBTcGVjaWZ5IGEgdGFyZ2V0IGlmIHlvdSB3YW50XG4gKiB0aGUgY29udHJvbCB0byBiZSByZW5kZXJlZCBvdXRzaWRlIG9mIHRoZSBtYXAncyB2aWV3cG9ydC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgY29udHJvbCBpcyBhIHZpc2libGUgd2lkZ2V0IHdpdGggYSBET00gZWxlbWVudCBpbiBhIGZpeGVkIHBvc2l0aW9uIG9uIHRoZVxuICogc2NyZWVuLiBUaGV5IGNhbiBpbnZvbHZlIHVzZXIgaW5wdXQgKGJ1dHRvbnMpLCBvciBiZSBpbmZvcm1hdGlvbmFsIG9ubHk7XG4gKiB0aGUgcG9zaXRpb24gaXMgZGV0ZXJtaW5lZCB1c2luZyBDU1MuIEJ5IGRlZmF1bHQgdGhlc2UgYXJlIHBsYWNlZCBpbiB0aGVcbiAqIGNvbnRhaW5lciB3aXRoIENTUyBjbGFzcyBuYW1lIGBvbC1vdmVybGF5Y29udGFpbmVyLXN0b3BldmVudGAsIGJ1dCBjYW4gdXNlXG4gKiBhbnkgb3V0c2lkZSBET00gZWxlbWVudC5cbiAqXG4gKiBUaGlzIGlzIHRoZSBiYXNlIGNsYXNzIGZvciBjb250cm9scy4gWW91IGNhbiB1c2UgaXQgZm9yIHNpbXBsZSBjdXN0b21cbiAqIGNvbnRyb2xzIGJ5IGNyZWF0aW5nIHRoZSBlbGVtZW50IHdpdGggbGlzdGVuZXJzLCBjcmVhdGluZyBhbiBpbnN0YW5jZTpcbiAqIGBgYGpzXG4gKiBjb25zdCBteUNvbnRyb2wgPSBuZXcgQ29udHJvbCh7ZWxlbWVudDogbXlFbGVtZW50fSk7XG4gKiBgYGBcbiAqIGFuZCB0aGVuIGFkZGluZyB0aGlzIHRvIHRoZSBtYXAuXG4gKlxuICogVGhlIG1haW4gYWR2YW50YWdlIG9mIGhhdmluZyB0aGlzIGFzIGEgY29udHJvbCByYXRoZXIgdGhhbiBhIHNpbXBsZSBzZXBhcmF0ZVxuICogRE9NIGVsZW1lbnQgaXMgdGhhdCBwcmV2ZW50aW5nIHByb3BhZ2F0aW9uIGlzIGhhbmRsZWQgZm9yIHlvdS4gQ29udHJvbHNcbiAqIHdpbGwgYWxzbyBiZSBvYmplY3RzIGluIGEge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259LCBzbyB5b3UgY2FuIHVzZSB0aGVpciBtZXRob2RzLlxuICpcbiAqIFlvdSBjYW4gYWxzbyBleHRlbmQgdGhpcyBiYXNlIGZvciB5b3VyIG93biBjb250cm9sIGNsYXNzLiBTZWVcbiAqIGV4YW1wbGVzL2N1c3RvbS1jb250cm9scyBmb3IgYW4gZXhhbXBsZSBvZiBob3cgdG8gZG8gdGhpcy5cbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIENvbnRyb2wgZXh0ZW5kcyBCYXNlT2JqZWN0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBDb250cm9sIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGNvbnN0IGVsZW1lbnQgPSBvcHRpb25zLmVsZW1lbnQ7XG4gICAgaWYgKGVsZW1lbnQgJiYgIW9wdGlvbnMudGFyZ2V0ICYmICFlbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQgPyBlbGVtZW50IDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdHxudWxsfVxuICAgICAqL1xuICAgIHRoaXMubWFwXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLmxpc3RlbmVyS2V5cyA9IFtdO1xuXG4gICAgaWYgKG9wdGlvbnMucmVuZGVyKSB7XG4gICAgICB0aGlzLnJlbmRlciA9IG9wdGlvbnMucmVuZGVyO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnRhcmdldCkge1xuICAgICAgdGhpcy5zZXRUYXJnZXQob3B0aW9ucy50YXJnZXQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbiB1cC5cbiAgICovXG4gIGRpc3Bvc2VJbnRlcm5hbCgpIHtcbiAgICByZW1vdmVOb2RlKHRoaXMuZWxlbWVudCk7XG4gICAgc3VwZXIuZGlzcG9zZUludGVybmFsKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtYXAgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY29udHJvbC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR8bnVsbH0gTWFwLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwXztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGNvbnRyb2wgZnJvbSBpdHMgY3VycmVudCBtYXAgYW5kIGF0dGFjaCBpdCB0byB0aGUgbmV3IG1hcC5cbiAgICogUGFzcyBgbnVsbGAgdG8ganVzdCByZW1vdmUgdGhlIGNvbnRyb2wgZnJvbSB0aGUgY3VycmVudCBtYXAuXG4gICAqIFN1YmNsYXNzZXMgbWF5IHNldCB1cCBldmVudCBoYW5kbGVycyB0byBnZXQgbm90aWZpZWQgYWJvdXQgY2hhbmdlcyB0b1xuICAgKiB0aGUgbWFwIGhlcmUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR8bnVsbH0gbWFwIE1hcC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TWFwKG1hcCkge1xuICAgIGlmICh0aGlzLm1hcF8pIHtcbiAgICAgIHJlbW92ZU5vZGUodGhpcy5lbGVtZW50KTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdGhpcy5saXN0ZW5lcktleXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLmxpc3RlbmVyS2V5c1tpXSk7XG4gICAgfVxuICAgIHRoaXMubGlzdGVuZXJLZXlzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5tYXBfID0gbWFwO1xuICAgIGlmIChtYXApIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMudGFyZ2V0X1xuICAgICAgICA/IHRoaXMudGFyZ2V0X1xuICAgICAgICA6IG1hcC5nZXRPdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50KCk7XG4gICAgICB0YXJnZXQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICAgIGlmICh0aGlzLnJlbmRlciAhPT0gVk9JRCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVyS2V5cy5wdXNoKFxuICAgICAgICAgIGxpc3RlbihtYXAsIE1hcEV2ZW50VHlwZS5QT1NUUkVOREVSLCB0aGlzLnJlbmRlciwgdGhpcylcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIG1hcC5yZW5kZXIoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVycyB0aGUgY29udHJvbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBFdmVudCBNYXAgZXZlbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIHJlbmRlcihtYXBFdmVudCkge31cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHNldCBhIHRhcmdldCBlbGVtZW50IGZvciB0aGUgY29udHJvbC4gSXQgaGFzIG5vXG4gICAqIGVmZmVjdCBpZiBpdCBpcyBjYWxsZWQgYWZ0ZXIgdGhlIGNvbnRyb2wgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIG1hcCAoaS5lLlxuICAgKiBhZnRlciBgc2V0TWFwYCBpcyBjYWxsZWQgb24gdGhlIGNvbnRyb2wpLiBJZiBubyBgdGFyZ2V0YCBpcyBzZXQgaW4gdGhlXG4gICAqIG9wdGlvbnMgcGFzc2VkIHRvIHRoZSBjb250cm9sIGNvbnN0cnVjdG9yIGFuZCBpZiBgc2V0VGFyZ2V0YCBpcyBub3QgY2FsbGVkXG4gICAqIHRoZW4gdGhlIGNvbnRyb2wgaXMgYWRkZWQgdG8gdGhlIG1hcCdzIG92ZXJsYXkgY29udGFpbmVyLlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fHN0cmluZ30gdGFyZ2V0IFRhcmdldC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0VGFyZ2V0KHRhcmdldCkge1xuICAgIHRoaXMudGFyZ2V0XyA9XG4gICAgICB0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCkgOiB0YXJnZXQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9jb250cm9sL0F0dHJpYnV0aW9uXG4gKi9cbmltcG9ydCBDb250cm9sIGZyb20gJy4vQ29udHJvbC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtDTEFTU19DT0xMQVBTRUQsIENMQVNTX0NPTlRST0wsIENMQVNTX1VOU0VMRUNUQUJMRX0gZnJvbSAnLi4vY3NzLmpzJztcbmltcG9ydCB7ZXF1YWxzfSBmcm9tICcuLi9hcnJheS5qcyc7XG5pbXBvcnQge2luVmlld30gZnJvbSAnLi4vbGF5ZXIvTGF5ZXIuanMnO1xuaW1wb3J0IHtyZW1vdmVDaGlsZHJlbiwgcmVwbGFjZU5vZGV9IGZyb20gJy4uL2RvbS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWF0dHJpYnV0aW9uJ10gQ1NTIGNsYXNzIG5hbWUuXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3VcbiAqIHdhbnQgdGhlIGNvbnRyb2wgdG8gYmUgcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3NcbiAqIHZpZXdwb3J0LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY29sbGFwc2libGVdIFNwZWNpZnkgaWYgYXR0cmlidXRpb25zIGNhblxuICogYmUgY29sbGFwc2VkLiBJZiBub3Qgc3BlY2lmaWVkLCBzb3VyY2VzIGNvbnRyb2wgdGhpcyBiZWhhdmlvciB3aXRoIHRoZWlyXG4gKiBgYXR0cmlidXRpb25zQ29sbGFwc2libGVgIHNldHRpbmcuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb2xsYXBzZWQ9dHJ1ZV0gU3BlY2lmeSBpZiBhdHRyaWJ1dGlvbnMgc2hvdWxkXG4gKiBiZSBjb2xsYXBzZWQgYXQgc3RhcnR1cC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdGlwTGFiZWw9J0F0dHJpYnV0aW9ucyddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgYnV0dG9uIHRpcC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfEhUTUxFbGVtZW50fSBbbGFiZWw9J2knXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlXG4gKiBjb2xsYXBzZWQgYXR0cmlidXRpb25zIGJ1dHRvbi5cbiAqIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtleHBhbmRDbGFzc05hbWU9Y2xhc3NOYW1lICsgJy1leHBhbmQnXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlXG4gKiBjb2xsYXBzZWQgYXR0cmlidXRpb25zIGJ1dHRvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfEhUTUxFbGVtZW50fSBbY29sbGFwc2VMYWJlbD0n4oC6J10gVGV4dCBsYWJlbCB0byB1c2VcbiAqIGZvciB0aGUgZXhwYW5kZWQgYXR0cmlidXRpb25zIGJ1dHRvbi5cbiAqIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjb2xsYXBzZUNsYXNzTmFtZT1jbGFzc05hbWUgKyAnLWNvbGxhcHNlJ10gQ1NTIGNsYXNzIG5hbWUgZm9yIHRoZVxuICogZXhwYW5kZWQgYXR0cmlidXRpb25zIGJ1dHRvbi5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdCk6dm9pZH0gW3JlbmRlcl0gRnVuY3Rpb24gY2FsbGVkIHdoZW5cbiAqIHRoZSBjb250cm9sIHNob3VsZCBiZSByZS1yZW5kZXJlZC4gVGhpcyBpcyBjYWxsZWQgaW4gYSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYFxuICogY2FsbGJhY2suXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDb250cm9sIHRvIHNob3cgYWxsIHRoZSBhdHRyaWJ1dGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBsYXllciBzb3VyY2VzXG4gKiBpbiB0aGUgbWFwLiBUaGlzIGNvbnRyb2wgaXMgb25lIG9mIHRoZSBkZWZhdWx0IGNvbnRyb2xzIGluY2x1ZGVkIGluIG1hcHMuXG4gKiBCeSBkZWZhdWx0IGl0IHdpbGwgc2hvdyBpbiB0aGUgYm90dG9tIHJpZ2h0IHBvcnRpb24gb2YgdGhlIG1hcCwgYnV0IHRoaXMgY2FuXG4gKiBiZSBjaGFuZ2VkIGJ5IHVzaW5nIGEgY3NzIHNlbGVjdG9yIGZvciBgLm9sLWF0dHJpYnV0aW9uYC5cbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIEF0dHJpYnV0aW9uIGV4dGVuZHMgQ29udHJvbCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBBdHRyaWJ1dGlvbiBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gICAgc3VwZXIoe1xuICAgICAgZWxlbWVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICByZW5kZXI6IG9wdGlvbnMucmVuZGVyLFxuICAgICAgdGFyZ2V0OiBvcHRpb25zLnRhcmdldCxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMudWxFbGVtZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuY29sbGFwc2VkXyA9XG4gICAgICBvcHRpb25zLmNvbGxhcHNlZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsYXBzZWQgOiB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnVzZXJDb2xsYXBzZWRfID0gdGhpcy5jb2xsYXBzZWRfO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm92ZXJyaWRlQ29sbGFwc2libGVfID0gb3B0aW9ucy5jb2xsYXBzaWJsZSAhPT0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbGxhcHNpYmxlXyA9XG4gICAgICBvcHRpb25zLmNvbGxhcHNpYmxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxhcHNpYmxlIDogdHJ1ZTtcblxuICAgIGlmICghdGhpcy5jb2xsYXBzaWJsZV8pIHtcbiAgICAgIHRoaXMuY29sbGFwc2VkXyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGNsYXNzTmFtZSA9XG4gICAgICBvcHRpb25zLmNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbGFzc05hbWUgOiAnb2wtYXR0cmlidXRpb24nO1xuXG4gICAgY29uc3QgdGlwTGFiZWwgPVxuICAgICAgb3B0aW9ucy50aXBMYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aXBMYWJlbCA6ICdBdHRyaWJ1dGlvbnMnO1xuXG4gICAgY29uc3QgZXhwYW5kQ2xhc3NOYW1lID1cbiAgICAgIG9wdGlvbnMuZXhwYW5kQ2xhc3NOYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLmV4cGFuZENsYXNzTmFtZVxuICAgICAgICA6IGNsYXNzTmFtZSArICctZXhwYW5kJztcblxuICAgIGNvbnN0IGNvbGxhcHNlTGFiZWwgPVxuICAgICAgb3B0aW9ucy5jb2xsYXBzZUxhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxhcHNlTGFiZWwgOiAnXFx1MjAzQSc7XG5cbiAgICBjb25zdCBjb2xsYXBzZUNsYXNzTmFtZSA9XG4gICAgICBvcHRpb25zLmNvbGxhcHNlQ2xhc3NOYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLmNvbGxhcHNlQ2xhc3NOYW1lXG4gICAgICAgIDogY2xhc3NOYW1lICsgJy1jb2xsYXBzZSc7XG5cbiAgICBpZiAodHlwZW9mIGNvbGxhcHNlTGFiZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvKipcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgKi9cbiAgICAgIHRoaXMuY29sbGFwc2VMYWJlbF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICB0aGlzLmNvbGxhcHNlTGFiZWxfLnRleHRDb250ZW50ID0gY29sbGFwc2VMYWJlbDtcbiAgICAgIHRoaXMuY29sbGFwc2VMYWJlbF8uY2xhc3NOYW1lID0gY29sbGFwc2VDbGFzc05hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29sbGFwc2VMYWJlbF8gPSBjb2xsYXBzZUxhYmVsO1xuICAgIH1cblxuICAgIGNvbnN0IGxhYmVsID0gb3B0aW9ucy5sYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sYWJlbCA6ICdpJztcblxuICAgIGlmICh0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvKipcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgKi9cbiAgICAgIHRoaXMubGFiZWxfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgdGhpcy5sYWJlbF8udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgIHRoaXMubGFiZWxfLmNsYXNzTmFtZSA9IGV4cGFuZENsYXNzTmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sYWJlbF8gPSBsYWJlbDtcbiAgICB9XG5cbiAgICBjb25zdCBhY3RpdmVMYWJlbCA9XG4gICAgICB0aGlzLmNvbGxhcHNpYmxlXyAmJiAhdGhpcy5jb2xsYXBzZWRfID8gdGhpcy5jb2xsYXBzZUxhYmVsXyA6IHRoaXMubGFiZWxfO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy50b2dnbGVCdXR0b25fID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgdGhpcy50b2dnbGVCdXR0b25fLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvbl8uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgU3RyaW5nKCF0aGlzLmNvbGxhcHNlZF8pKTtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvbl8udGl0bGUgPSB0aXBMYWJlbDtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvbl8uYXBwZW5kQ2hpbGQoYWN0aXZlTGFiZWwpO1xuXG4gICAgdGhpcy50b2dnbGVCdXR0b25fLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBFdmVudFR5cGUuQ0xJQ0ssXG4gICAgICB0aGlzLmhhbmRsZUNsaWNrXy5iaW5kKHRoaXMpLFxuICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgY29uc3QgY3NzQ2xhc3NlcyA9XG4gICAgICBjbGFzc05hbWUgK1xuICAgICAgJyAnICtcbiAgICAgIENMQVNTX1VOU0VMRUNUQUJMRSArXG4gICAgICAnICcgK1xuICAgICAgQ0xBU1NfQ09OVFJPTCArXG4gICAgICAodGhpcy5jb2xsYXBzZWRfICYmIHRoaXMuY29sbGFwc2libGVfID8gJyAnICsgQ0xBU1NfQ09MTEFQU0VEIDogJycpICtcbiAgICAgICh0aGlzLmNvbGxhcHNpYmxlXyA/ICcnIDogJyBvbC11bmNvbGxhcHNpYmxlJyk7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNzc0NsYXNzZXM7XG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnRvZ2dsZUJ1dHRvbl8pO1xuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy51bEVsZW1lbnRfKTtcblxuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBjdXJyZW50bHkgcmVuZGVyZWQgcmVzb2x1dGlvbnMuXG4gICAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkQXR0cmlidXRpb25zXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkVmlzaWJsZV8gPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbGxlY3QgYSBsaXN0IG9mIHZpc2libGUgYXR0cmlidXRpb25zIGFuZCBzZXQgdGhlIGNvbGxhcHNpYmxlIHN0YXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBBdHRyaWJ1dGlvbnMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb2xsZWN0U291cmNlQXR0cmlidXRpb25zXyhmcmFtZVN0YXRlKSB7XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBkZXRlcm1pbmUgaWYgYW4gYXR0cmlidXRpb24gYWxyZWFkeSBleGlzdHMuXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn1cbiAgICAgKi9cbiAgICBjb25zdCBsb29rdXAgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiB2aXNpYmxlIGF0dHJpYnV0aW9ucy5cbiAgICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICAgKi9cbiAgICBjb25zdCB2aXNpYmxlQXR0cmlidXRpb25zID0gW107XG5cbiAgICBsZXQgY29sbGFwc2libGUgPSB0cnVlO1xuICAgIGNvbnN0IGxheWVyU3RhdGVzQXJyYXkgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gbGF5ZXJTdGF0ZXNBcnJheS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBjb25zdCBsYXllclN0YXRlID0gbGF5ZXJTdGF0ZXNBcnJheVtpXTtcbiAgICAgIGlmICghaW5WaWV3KGxheWVyU3RhdGUsIGZyYW1lU3RhdGUudmlld1N0YXRlKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGxheWVyU3RhdGUubGF5ZXJcbiAgICAgICkuZ2V0U291cmNlKCk7XG4gICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYXR0cmlidXRpb25HZXR0ZXIgPSBzb3VyY2UuZ2V0QXR0cmlidXRpb25zKCk7XG4gICAgICBpZiAoIWF0dHJpYnV0aW9uR2V0dGVyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhdHRyaWJ1dGlvbnMgPSBhdHRyaWJ1dGlvbkdldHRlcihmcmFtZVN0YXRlKTtcbiAgICAgIGlmICghYXR0cmlidXRpb25zKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb2xsYXBzaWJsZSA9XG4gICAgICAgIGNvbGxhcHNpYmxlICYmIHNvdXJjZS5nZXRBdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSgpICE9PSBmYWxzZTtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXR0cmlidXRpb25zKSkge1xuICAgICAgICBmb3IgKGxldCBqID0gMCwgamogPSBhdHRyaWJ1dGlvbnMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgIGlmICghKGF0dHJpYnV0aW9uc1tqXSBpbiBsb29rdXApKSB7XG4gICAgICAgICAgICB2aXNpYmxlQXR0cmlidXRpb25zLnB1c2goYXR0cmlidXRpb25zW2pdKTtcbiAgICAgICAgICAgIGxvb2t1cFthdHRyaWJ1dGlvbnNbal1dID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghKGF0dHJpYnV0aW9ucyBpbiBsb29rdXApKSB7XG4gICAgICAgICAgdmlzaWJsZUF0dHJpYnV0aW9ucy5wdXNoKGF0dHJpYnV0aW9ucyk7XG4gICAgICAgICAgbG9va3VwW2F0dHJpYnV0aW9uc10gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5vdmVycmlkZUNvbGxhcHNpYmxlXykge1xuICAgICAgdGhpcy5zZXRDb2xsYXBzaWJsZShjb2xsYXBzaWJsZSk7XG4gICAgfVxuICAgIHJldHVybiB2aXNpYmxlQXR0cmlidXRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7P2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKi9cbiAgdXBkYXRlRWxlbWVudF8oZnJhbWVTdGF0ZSkge1xuICAgIGlmICghZnJhbWVTdGF0ZSkge1xuICAgICAgaWYgKHRoaXMucmVuZGVyZWRWaXNpYmxlXykge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYXR0cmlidXRpb25zID0gdGhpcy5jb2xsZWN0U291cmNlQXR0cmlidXRpb25zXyhmcmFtZVN0YXRlKTtcblxuICAgIGNvbnN0IHZpc2libGUgPSBhdHRyaWJ1dGlvbnMubGVuZ3RoID4gMDtcbiAgICBpZiAodGhpcy5yZW5kZXJlZFZpc2libGVfICE9IHZpc2libGUpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gdmlzaWJsZSA/ICcnIDogJ25vbmUnO1xuICAgICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gdmlzaWJsZTtcbiAgICB9XG5cbiAgICBpZiAoZXF1YWxzKGF0dHJpYnV0aW9ucywgdGhpcy5yZW5kZXJlZEF0dHJpYnV0aW9uc18pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2hpbGRyZW4odGhpcy51bEVsZW1lbnRfKTtcblxuICAgIC8vIGFwcGVuZCB0aGUgYXR0cmlidXRpb25zXG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gYXR0cmlidXRpb25zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBhdHRyaWJ1dGlvbnNbaV07XG4gICAgICB0aGlzLnVsRWxlbWVudF8uYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJlZEF0dHJpYnV0aW9uc18gPSBhdHRyaWJ1dGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBUaGUgZXZlbnQgdG8gaGFuZGxlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVDbGlja18oZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuaGFuZGxlVG9nZ2xlXygpO1xuICAgIHRoaXMudXNlckNvbGxhcHNlZF8gPSB0aGlzLmNvbGxhcHNlZF87XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVRvZ2dsZV8oKSB7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoQ0xBU1NfQ09MTEFQU0VEKTtcbiAgICBpZiAodGhpcy5jb2xsYXBzZWRfKSB7XG4gICAgICByZXBsYWNlTm9kZSh0aGlzLmNvbGxhcHNlTGFiZWxfLCB0aGlzLmxhYmVsXyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcGxhY2VOb2RlKHRoaXMubGFiZWxfLCB0aGlzLmNvbGxhcHNlTGFiZWxfKTtcbiAgICB9XG4gICAgdGhpcy5jb2xsYXBzZWRfID0gIXRoaXMuY29sbGFwc2VkXztcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvbl8uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgU3RyaW5nKCF0aGlzLmNvbGxhcHNlZF8pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBhdHRyaWJ1dGlvbiBpcyBjb2xsYXBzaWJsZSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHdpZGdldCBpcyBjb2xsYXBzaWJsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Q29sbGFwc2libGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sbGFwc2libGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB3aGV0aGVyIHRoZSBhdHRyaWJ1dGlvbiBzaG91bGQgYmUgY29sbGFwc2libGUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY29sbGFwc2libGUgVHJ1ZSBpZiB0aGUgd2lkZ2V0IGlzIGNvbGxhcHNpYmxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRDb2xsYXBzaWJsZShjb2xsYXBzaWJsZSkge1xuICAgIGlmICh0aGlzLmNvbGxhcHNpYmxlXyA9PT0gY29sbGFwc2libGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jb2xsYXBzaWJsZV8gPSBjb2xsYXBzaWJsZTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnb2wtdW5jb2xsYXBzaWJsZScpO1xuICAgIGlmICh0aGlzLnVzZXJDb2xsYXBzZWRfKSB7XG4gICAgICB0aGlzLmhhbmRsZVRvZ2dsZV8oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29sbGFwc2Ugb3IgZXhwYW5kIHRoZSBhdHRyaWJ1dGlvbiBhY2NvcmRpbmcgdG8gdGhlIHBhc3NlZCBwYXJhbWV0ZXIuIFdpbGxcbiAgICogbm90IGRvIGFueXRoaW5nIGlmIHRoZSBhdHRyaWJ1dGlvbiBpc24ndCBjb2xsYXBzaWJsZSBvciBpZiB0aGUgY3VycmVudFxuICAgKiBjb2xsYXBzZWQgc3RhdGUgaXMgYWxyZWFkeSB0aGUgb25lIHJlcXVlc3RlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBjb2xsYXBzZWQgVHJ1ZSBpZiB0aGUgd2lkZ2V0IGlzIGNvbGxhcHNlZC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Q29sbGFwc2VkKGNvbGxhcHNlZCkge1xuICAgIHRoaXMudXNlckNvbGxhcHNlZF8gPSBjb2xsYXBzZWQ7XG4gICAgaWYgKCF0aGlzLmNvbGxhcHNpYmxlXyB8fCB0aGlzLmNvbGxhcHNlZF8gPT09IGNvbGxhcHNlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmhhbmRsZVRvZ2dsZV8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYHRydWVgIHdoZW4gdGhlIGF0dHJpYnV0aW9uIGlzIGN1cnJlbnRseSBjb2xsYXBzZWQgb3IgYGZhbHNlYFxuICAgKiBvdGhlcndpc2UuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHdpZGdldCBpcyBjb2xsYXBzZWQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENvbGxhcHNlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xsYXBzZWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgYXR0cmlidXRpb24gZWxlbWVudC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBFdmVudCBNYXAgZXZlbnQuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVuZGVyKG1hcEV2ZW50KSB7XG4gICAgdGhpcy51cGRhdGVFbGVtZW50XyhtYXBFdmVudC5mcmFtZVN0YXRlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBdHRyaWJ1dGlvbjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9jb250cm9sL1JvdGF0ZVxuICovXG5pbXBvcnQgQ29udHJvbCBmcm9tICcuL0NvbnRyb2wuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7Q0xBU1NfQ09OVFJPTCwgQ0xBU1NfSElEREVOLCBDTEFTU19VTlNFTEVDVEFCTEV9IGZyb20gJy4uL2Nzcy5qcyc7XG5pbXBvcnQge2Vhc2VPdXR9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLXJvdGF0ZSddIENTUyBjbGFzcyBuYW1lLlxuICogQHByb3BlcnR5IHtzdHJpbmd8SFRNTEVsZW1lbnR9IFtsYWJlbD0n4oenJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSByb3RhdGUgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RpcExhYmVsPSdSZXNldCByb3RhdGlvbiddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgcm90YXRlIHRpcC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY29tcGFzc0NsYXNzTmFtZT0nb2wtY29tcGFzcyddIENTUyBjbGFzcyBuYW1lIGZvciB0aGUgY29tcGFzcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXV0b0hpZGU9dHJ1ZV0gSGlkZSB0aGUgY29udHJvbCB3aGVuIHJvdGF0aW9uIGlzIDAuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtyZW5kZXJdIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBjb250cm9sIHNob3VsZFxuICogYmUgcmUtcmVuZGVyZWQuIFRoaXMgaXMgY2FsbGVkIGluIGEgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgY2FsbGJhY2suXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKCk6dm9pZH0gW3Jlc2V0Tm9ydGhdIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBjb250cm9sIGlzIGNsaWNrZWQuXG4gKiBUaGlzIHdpbGwgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYHJlc2V0Tm9ydGhgLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxzdHJpbmd9IFt0YXJnZXRdIFNwZWNpZnkgYSB0YXJnZXQgaWYgeW91IHdhbnQgdGhlIGNvbnRyb2wgdG8gYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhlIG1hcCdzIHZpZXdwb3J0LlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBidXR0b24gY29udHJvbCB0byByZXNldCByb3RhdGlvbiB0byAwLlxuICogVG8gc3R5bGUgdGhpcyBjb250cm9sIHVzZSBjc3Mgc2VsZWN0b3IgYC5vbC1yb3RhdGVgLiBBIGAub2wtaGlkZGVuYCBjc3NcbiAqIHNlbGVjdG9yIGlzIGFkZGVkIHRvIHRoZSBidXR0b24gd2hlbiB0aGUgcm90YXRpb24gaXMgMC5cbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIFJvdGF0ZSBleHRlbmRzIENvbnRyb2wge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gUm90YXRlIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICBzdXBlcih7XG4gICAgICBlbGVtZW50OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIHJlbmRlcjogb3B0aW9ucy5yZW5kZXIsXG4gICAgICB0YXJnZXQ6IG9wdGlvbnMudGFyZ2V0LFxuICAgIH0pO1xuXG4gICAgY29uc3QgY2xhc3NOYW1lID1cbiAgICAgIG9wdGlvbnMuY2xhc3NOYW1lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsYXNzTmFtZSA6ICdvbC1yb3RhdGUnO1xuXG4gICAgY29uc3QgbGFiZWwgPSBvcHRpb25zLmxhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxhYmVsIDogJ1xcdTIxRTcnO1xuXG4gICAgY29uc3QgY29tcGFzc0NsYXNzTmFtZSA9XG4gICAgICBvcHRpb25zLmNvbXBhc3NDbGFzc05hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMuY29tcGFzc0NsYXNzTmFtZVxuICAgICAgICA6ICdvbC1jb21wYXNzJztcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubGFiZWxfID0gbnVsbDtcblxuICAgIGlmICh0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmxhYmVsXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHRoaXMubGFiZWxfLmNsYXNzTmFtZSA9IGNvbXBhc3NDbGFzc05hbWU7XG4gICAgICB0aGlzLmxhYmVsXy50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxhYmVsXyA9IGxhYmVsO1xuICAgICAgdGhpcy5sYWJlbF8uY2xhc3NMaXN0LmFkZChjb21wYXNzQ2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICBjb25zdCB0aXBMYWJlbCA9IG9wdGlvbnMudGlwTGFiZWwgPyBvcHRpb25zLnRpcExhYmVsIDogJ1Jlc2V0IHJvdGF0aW9uJztcblxuICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBjbGFzc05hbWUgKyAnLXJlc2V0JztcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgIGJ1dHRvbi50aXRsZSA9IHRpcExhYmVsO1xuICAgIGJ1dHRvbi5hcHBlbmRDaGlsZCh0aGlzLmxhYmVsXyk7XG5cbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIEV2ZW50VHlwZS5DTElDSyxcbiAgICAgIHRoaXMuaGFuZGxlQ2xpY2tfLmJpbmQodGhpcyksXG4gICAgICBmYWxzZVxuICAgICk7XG5cbiAgICBjb25zdCBjc3NDbGFzc2VzID1cbiAgICAgIGNsYXNzTmFtZSArICcgJyArIENMQVNTX1VOU0VMRUNUQUJMRSArICcgJyArIENMQVNTX0NPTlRST0w7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNzc0NsYXNzZXM7XG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChidXR0b24pO1xuXG4gICAgdGhpcy5jYWxsUmVzZXROb3J0aF8gPSBvcHRpb25zLnJlc2V0Tm9ydGggPyBvcHRpb25zLnJlc2V0Tm9ydGggOiB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmF1dG9IaWRlXyA9IG9wdGlvbnMuYXV0b0hpZGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYXV0b0hpZGUgOiB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0aW9uXyA9IHVuZGVmaW5lZDtcblxuICAgIGlmICh0aGlzLmF1dG9IaWRlXykge1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfSElEREVOKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBUaGUgZXZlbnQgdG8gaGFuZGxlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVDbGlja18oZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICh0aGlzLmNhbGxSZXNldE5vcnRoXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmNhbGxSZXNldE5vcnRoXygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlc2V0Tm9ydGhfKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXNldE5vcnRoXygpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIGlmICghdmlldykge1xuICAgICAgLy8gdGhlIG1hcCBkb2VzIG5vdCBoYXZlIGEgdmlldywgc28gd2UgY2FuJ3QgYWN0XG4gICAgICAvLyB1cG9uIGl0XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJvdGF0aW9uID0gdmlldy5nZXRSb3RhdGlvbigpO1xuICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAodGhpcy5kdXJhdGlvbl8gPiAwICYmIHJvdGF0aW9uICUgKDIgKiBNYXRoLlBJKSAhPT0gMCkge1xuICAgICAgICB2aWV3LmFuaW1hdGUoe1xuICAgICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uXyxcbiAgICAgICAgICBlYXNpbmc6IGVhc2VPdXQsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmlldy5zZXRSb3RhdGlvbigwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSByb3RhdGUgY29udHJvbCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEV2ZW50IE1hcCBldmVudC5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICByZW5kZXIobWFwRXZlbnQpIHtcbiAgICBjb25zdCBmcmFtZVN0YXRlID0gbWFwRXZlbnQuZnJhbWVTdGF0ZTtcbiAgICBpZiAoIWZyYW1lU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgcm90YXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yb3RhdGlvbjtcbiAgICBpZiAocm90YXRpb24gIT0gdGhpcy5yb3RhdGlvbl8pIHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9ICdyb3RhdGUoJyArIHJvdGF0aW9uICsgJ3JhZCknO1xuICAgICAgaWYgKHRoaXMuYXV0b0hpZGVfKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5zID0gdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19ISURERU4pO1xuICAgICAgICBpZiAoIWNvbnRhaW5zICYmIHJvdGF0aW9uID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfSElEREVOKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb250YWlucyAmJiByb3RhdGlvbiAhPT0gMCkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX0hJRERFTik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubGFiZWxfLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICB9XG4gICAgdGhpcy5yb3RhdGlvbl8gPSByb3RhdGlvbjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSb3RhdGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvY29udHJvbC9ab29tXG4gKi9cbmltcG9ydCBDb250cm9sIGZyb20gJy4vQ29udHJvbC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtDTEFTU19DT05UUk9MLCBDTEFTU19VTlNFTEVDVEFCTEV9IGZyb20gJy4uL2Nzcy5qcyc7XG5pbXBvcnQge2Vhc2VPdXR9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0yNTBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtem9vbSddIENTUyBjbGFzcyBuYW1lLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt6b29tSW5DbGFzc05hbWU9Y2xhc3NOYW1lICsgJy1pbiddIENTUyBjbGFzcyBuYW1lIGZvciB0aGUgem9vbS1pbiBidXR0b24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3pvb21PdXRDbGFzc05hbWU9Y2xhc3NOYW1lICsgJy1vdXQnXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlIHpvb20tb3V0IGJ1dHRvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfEhUTUxFbGVtZW50fSBbem9vbUluTGFiZWw9JysnXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlIHpvb20taW5cbiAqIGJ1dHRvbi4gSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MRWxlbWVudH0gW3pvb21PdXRMYWJlbD0n4oCTJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSB6b29tLW91dCBidXR0b24uXG4gKiBJbnN0ZWFkIG9mIHRleHQsIGFsc28gYW4gZWxlbWVudCAoZS5nLiBhIGBzcGFuYCBlbGVtZW50KSBjYW4gYmUgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbem9vbUluVGlwTGFiZWw9J1pvb20gaW4nXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlIGJ1dHRvbiB0aXAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3pvb21PdXRUaXBMYWJlbD0nWm9vbSBvdXQnXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlIGJ1dHRvbiB0aXAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2RlbHRhPTFdIFRoZSB6b29tIGRlbHRhIGFwcGxpZWQgb24gZWFjaCBjbGljay5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBTcGVjaWZ5IGEgdGFyZ2V0IGlmIHlvdSB3YW50IHRoZSBjb250cm9sIHRvIGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoZSBtYXAncyB2aWV3cG9ydC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgY29udHJvbCB3aXRoIDIgYnV0dG9ucywgb25lIGZvciB6b29tIGluIGFuZCBvbmUgZm9yIHpvb20gb3V0LlxuICogVGhpcyBjb250cm9sIGlzIG9uZSBvZiB0aGUgZGVmYXVsdCBjb250cm9scyBvZiBhIG1hcC4gVG8gc3R5bGUgdGhpcyBjb250cm9sXG4gKiB1c2UgY3NzIHNlbGVjdG9ycyBgLm9sLXpvb20taW5gIGFuZCBgLm9sLXpvb20tb3V0YC5cbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIFpvb20gZXh0ZW5kcyBDb250cm9sIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIFpvb20gb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIHN1cGVyKHtcbiAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgdGFyZ2V0OiBvcHRpb25zLnRhcmdldCxcbiAgICB9KTtcblxuICAgIGNvbnN0IGNsYXNzTmFtZSA9XG4gICAgICBvcHRpb25zLmNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbGFzc05hbWUgOiAnb2wtem9vbSc7XG5cbiAgICBjb25zdCBkZWx0YSA9IG9wdGlvbnMuZGVsdGEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZGVsdGEgOiAxO1xuXG4gICAgY29uc3Qgem9vbUluQ2xhc3NOYW1lID1cbiAgICAgIG9wdGlvbnMuem9vbUluQ2xhc3NOYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLnpvb21JbkNsYXNzTmFtZVxuICAgICAgICA6IGNsYXNzTmFtZSArICctaW4nO1xuXG4gICAgY29uc3Qgem9vbU91dENsYXNzTmFtZSA9XG4gICAgICBvcHRpb25zLnpvb21PdXRDbGFzc05hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMuem9vbU91dENsYXNzTmFtZVxuICAgICAgICA6IGNsYXNzTmFtZSArICctb3V0JztcblxuICAgIGNvbnN0IHpvb21JbkxhYmVsID1cbiAgICAgIG9wdGlvbnMuem9vbUluTGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuem9vbUluTGFiZWwgOiAnKyc7XG4gICAgY29uc3Qgem9vbU91dExhYmVsID1cbiAgICAgIG9wdGlvbnMuem9vbU91dExhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnpvb21PdXRMYWJlbCA6ICdcXHUyMDEzJztcblxuICAgIGNvbnN0IHpvb21JblRpcExhYmVsID1cbiAgICAgIG9wdGlvbnMuem9vbUluVGlwTGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuem9vbUluVGlwTGFiZWwgOiAnWm9vbSBpbic7XG4gICAgY29uc3Qgem9vbU91dFRpcExhYmVsID1cbiAgICAgIG9wdGlvbnMuem9vbU91dFRpcExhYmVsICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLnpvb21PdXRUaXBMYWJlbFxuICAgICAgICA6ICdab29tIG91dCc7XG5cbiAgICBjb25zdCBpbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBpbkVsZW1lbnQuY2xhc3NOYW1lID0gem9vbUluQ2xhc3NOYW1lO1xuICAgIGluRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgaW5FbGVtZW50LnRpdGxlID0gem9vbUluVGlwTGFiZWw7XG4gICAgaW5FbGVtZW50LmFwcGVuZENoaWxkKFxuICAgICAgdHlwZW9mIHpvb21JbkxhYmVsID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHpvb21JbkxhYmVsKVxuICAgICAgICA6IHpvb21JbkxhYmVsXG4gICAgKTtcblxuICAgIGluRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgRXZlbnRUeXBlLkNMSUNLLFxuICAgICAgdGhpcy5oYW5kbGVDbGlja18uYmluZCh0aGlzLCBkZWx0YSksXG4gICAgICBmYWxzZVxuICAgICk7XG5cbiAgICBjb25zdCBvdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgb3V0RWxlbWVudC5jbGFzc05hbWUgPSB6b29tT3V0Q2xhc3NOYW1lO1xuICAgIG91dEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgIG91dEVsZW1lbnQudGl0bGUgPSB6b29tT3V0VGlwTGFiZWw7XG4gICAgb3V0RWxlbWVudC5hcHBlbmRDaGlsZChcbiAgICAgIHR5cGVvZiB6b29tT3V0TGFiZWwgPT09ICdzdHJpbmcnXG4gICAgICAgID8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoem9vbU91dExhYmVsKVxuICAgICAgICA6IHpvb21PdXRMYWJlbFxuICAgICk7XG5cbiAgICBvdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBFdmVudFR5cGUuQ0xJQ0ssXG4gICAgICB0aGlzLmhhbmRsZUNsaWNrXy5iaW5kKHRoaXMsIC1kZWx0YSksXG4gICAgICBmYWxzZVxuICAgICk7XG5cbiAgICBjb25zdCBjc3NDbGFzc2VzID1cbiAgICAgIGNsYXNzTmFtZSArICcgJyArIENMQVNTX1VOU0VMRUNUQUJMRSArICcgJyArIENMQVNTX0NPTlRST0w7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNzc0NsYXNzZXM7XG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChpbkVsZW1lbnQpO1xuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQob3V0RWxlbWVudCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBab29tIGRlbHRhLlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IFRoZSBldmVudCB0byBoYW5kbGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUNsaWNrXyhkZWx0YSwgZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuem9vbUJ5RGVsdGFfKGRlbHRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgWm9vbSBkZWx0YS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHpvb21CeURlbHRhXyhkZWx0YSkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgY29uc3QgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgaWYgKCF2aWV3KSB7XG4gICAgICAvLyB0aGUgbWFwIGRvZXMgbm90IGhhdmUgYSB2aWV3LCBzbyB3ZSBjYW4ndCBhY3RcbiAgICAgIC8vIHVwb24gaXRcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudFpvb20gPSB2aWV3LmdldFpvb20oKTtcbiAgICBpZiAoY3VycmVudFpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgbmV3Wm9vbSA9IHZpZXcuZ2V0Q29uc3RyYWluZWRab29tKGN1cnJlbnRab29tICsgZGVsdGEpO1xuICAgICAgaWYgKHRoaXMuZHVyYXRpb25fID4gMCkge1xuICAgICAgICBpZiAodmlldy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgICAgIHZpZXcuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXcuYW5pbWF0ZSh7XG4gICAgICAgICAgem9vbTogbmV3Wm9vbSxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbl8sXG4gICAgICAgICAgZWFzaW5nOiBlYXNlT3V0LFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZpZXcuc2V0Wm9vbShuZXdab29tKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgWm9vbTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9Qcm9wZXJ0eVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBBQ1RJVkU6ICdhY3RpdmUnLFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvblxuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IEludGVyYWN0aW9uUHJvcGVydHkgZnJvbSAnLi9Qcm9wZXJ0eS5qcyc7XG5pbXBvcnQge2Vhc2VPdXQsIGxpbmVhcn0gZnJvbSAnLi4vZWFzaW5nLmpzJztcblxuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfFxuICogICAgICdjaGFuZ2U6YWN0aXZlJywgaW1wb3J0KFwiLi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXN8XG4gKiAgICAgJ2NoYW5nZTphY3RpdmUnLCBSZXR1cm4+fSBJbnRlcmFjdGlvbk9uU2lnbmF0dXJlXG4gKi9cblxuLyoqXG4gKiBPYmplY3QgbGl0ZXJhbCB3aXRoIGNvbmZpZyBvcHRpb25zIGZvciBpbnRlcmFjdGlvbnMuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBJbnRlcmFjdGlvbk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOmJvb2xlYW59IGhhbmRsZUV2ZW50XG4gKiBNZXRob2QgY2FsbGVkIGJ5IHRoZSBtYXAgdG8gbm90aWZ5IHRoZSBpbnRlcmFjdGlvbiB0aGF0IGEgYnJvd3NlciBldmVudCB3YXNcbiAqIGRpc3BhdGNoZWQgdG8gdGhlIG1hcC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgcHJvcGFnYXRpb24gb2ZcbiAqIHRoZSBldmVudCB0byBvdGhlciBpbnRlcmFjdGlvbnMgaW4gdGhlIG1hcCdzIGludGVyYWN0aW9ucyBjaGFpbiB3aWxsIGJlXG4gKiBwcmV2ZW50ZWQgKHRoaXMgaW5jbHVkZXMgZnVuY3Rpb25zIHdpdGggbm8gZXhwbGljaXQgcmV0dXJuKS4gVGhlIGludGVyYWN0aW9uc1xuICogYXJlIHRyYXZlcnNlZCBpbiByZXZlcnNlIG9yZGVyIG9mIHRoZSBpbnRlcmFjdGlvbnMgY29sbGVjdGlvbiBvZiB0aGUgbWFwLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogVXNlciBhY3Rpb25zIHRoYXQgY2hhbmdlIHRoZSBzdGF0ZSBvZiB0aGUgbWFwLiBTb21lIGFyZSBzaW1pbGFyIHRvIGNvbnRyb2xzLFxuICogYnV0IGFyZSBub3QgYXNzb2NpYXRlZCB3aXRoIGEgRE9NIGVsZW1lbnQuXG4gKiBGb3IgZXhhbXBsZSwge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21+S2V5Ym9hcmRab29tfSBpc1xuICogZnVuY3Rpb25hbGx5IHRoZSBzYW1lIGFzIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9ab29tflpvb219LCBidXQgdHJpZ2dlcmVkXG4gKiBieSBhIGtleWJvYXJkIGV2ZW50IG5vdCBhIGJ1dHRvbiBlbGVtZW50IGV2ZW50LlxuICogQWx0aG91Z2ggaW50ZXJhY3Rpb25zIGRvIG5vdCBoYXZlIGEgRE9NIGVsZW1lbnQsIHNvbWUgb2YgdGhlbSBkbyByZW5kZXJcbiAqIHZlY3RvcnMgYW5kIHNvIGFyZSB2aXNpYmxlIG9uIHRoZSBzY3JlZW4uXG4gKiBAYXBpXG4gKi9cbmNsYXNzIEludGVyYWN0aW9uIGV4dGVuZHMgQmFzZU9iamVjdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0ludGVyYWN0aW9uT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7SW50ZXJhY3Rpb25PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtJbnRlcmFjdGlvbk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7SW50ZXJhY3Rpb25PblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgKi9cbiAgICB0aGlzLnVuO1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5oYW5kbGVFdmVudCkge1xuICAgICAgdGhpcy5oYW5kbGVFdmVudCA9IG9wdGlvbnMuaGFuZGxlRXZlbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLm1hcF8gPSBudWxsO1xuXG4gICAgdGhpcy5zZXRBY3RpdmUodHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHdoZXRoZXIgdGhlIGludGVyYWN0aW9uIGlzIGN1cnJlbnRseSBhY3RpdmUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0QWN0aXZlKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2Jvb2xlYW59ICovICh0aGlzLmdldChJbnRlcmFjdGlvblByb3BlcnR5LkFDVElWRSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWFwIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGludGVyYWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdHxudWxsfSBNYXAuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1hcCgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXBfO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gYGZhbHNlYCB0byBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBoYW5kbGVFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBY3RpdmF0ZSBvciBkZWFjdGl2YXRlIHRoZSBpbnRlcmFjdGlvbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBhY3RpdmUgQWN0aXZlLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRBY3RpdmUoYWN0aXZlKSB7XG4gICAgdGhpcy5zZXQoSW50ZXJhY3Rpb25Qcm9wZXJ0eS5BQ1RJVkUsIGFjdGl2ZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBpbnRlcmFjdGlvbiBmcm9tIGl0cyBjdXJyZW50IG1hcCBhbmQgYXR0YWNoIGl0IHRvIHRoZSBuZXcgbWFwLlxuICAgKiBTdWJjbGFzc2VzIG1heSBzZXQgdXAgZXZlbnQgaGFuZGxlcnMgdG8gZ2V0IG5vdGlmaWVkIGFib3V0IGNoYW5nZXMgdG9cbiAgICogdGhlIG1hcCBoZXJlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9IG1hcCBNYXAuXG4gICAqL1xuICBzZXRNYXAobWFwKSB7XG4gICAgdGhpcy5tYXBfID0gbWFwO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLmRlZmF1bHR9IHZpZXcgVmlldy5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBkZWx0YSBEZWx0YS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZHVyYXRpb25dIER1cmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFuKHZpZXcsIGRlbHRhLCBkdXJhdGlvbikge1xuICBjb25zdCBjdXJyZW50Q2VudGVyID0gdmlldy5nZXRDZW50ZXJJbnRlcm5hbCgpO1xuICBpZiAoY3VycmVudENlbnRlcikge1xuICAgIGNvbnN0IGNlbnRlciA9IFtjdXJyZW50Q2VudGVyWzBdICsgZGVsdGFbMF0sIGN1cnJlbnRDZW50ZXJbMV0gKyBkZWx0YVsxXV07XG4gICAgdmlldy5hbmltYXRlSW50ZXJuYWwoe1xuICAgICAgZHVyYXRpb246IGR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBkdXJhdGlvbiA6IDI1MCxcbiAgICAgIGVhc2luZzogbGluZWFyLFxuICAgICAgY2VudGVyOiB2aWV3LmdldENvbnN0cmFpbmVkQ2VudGVyKGNlbnRlciksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL1ZpZXcuanNcIikuZGVmYXVsdH0gdmlldyBWaWV3LlxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIERlbHRhIGZyb20gcHJldmlvdXMgem9vbSBsZXZlbC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBBbmNob3IgY29vcmRpbmF0ZSBpbiB0aGUgdXNlciBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtkdXJhdGlvbl0gRHVyYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB6b29tQnlEZWx0YSh2aWV3LCBkZWx0YSwgYW5jaG9yLCBkdXJhdGlvbikge1xuICBjb25zdCBjdXJyZW50Wm9vbSA9IHZpZXcuZ2V0Wm9vbSgpO1xuXG4gIGlmIChjdXJyZW50Wm9vbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgbmV3Wm9vbSA9IHZpZXcuZ2V0Q29uc3RyYWluZWRab29tKGN1cnJlbnRab29tICsgZGVsdGEpO1xuICBjb25zdCBuZXdSZXNvbHV0aW9uID0gdmlldy5nZXRSZXNvbHV0aW9uRm9yWm9vbShuZXdab29tKTtcblxuICBpZiAodmlldy5nZXRBbmltYXRpbmcoKSkge1xuICAgIHZpZXcuY2FuY2VsQW5pbWF0aW9ucygpO1xuICB9XG4gIHZpZXcuYW5pbWF0ZSh7XG4gICAgcmVzb2x1dGlvbjogbmV3UmVzb2x1dGlvbixcbiAgICBhbmNob3I6IGFuY2hvcixcbiAgICBkdXJhdGlvbjogZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IGR1cmF0aW9uIDogMjUwLFxuICAgIGVhc2luZzogZWFzZU91dCxcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEludGVyYWN0aW9uO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0RvdWJsZUNsaWNrWm9vbVxuICovXG5pbXBvcnQgSW50ZXJhY3Rpb24sIHt6b29tQnlEZWx0YX0gZnJvbSAnLi9JbnRlcmFjdGlvbi5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTI1MF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZGVsdGE9MV0gVGhlIHpvb20gZGVsdGEgYXBwbGllZCBvbiBlYWNoIGRvdWJsZSBjbGljay5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIGJ5IGRvdWJsZS1jbGlja2luZyBvbiB0aGUgbWFwLlxuICogQGFwaVxuICovXG5jbGFzcyBEb3VibGVDbGlja1pvb20gZXh0ZW5kcyBJbnRlcmFjdGlvbiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmRlbHRhXyA9IG9wdGlvbnMuZGVsdGEgPyBvcHRpb25zLmRlbHRhIDogMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSAoaWYgaXQgd2FzIGFcbiAgICogZG91YmxlY2xpY2spIGFuZCBldmVudHVhbGx5IHpvb21zIHRoZSBtYXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gYGZhbHNlYCB0byBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgKi9cbiAgaGFuZGxlRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgbGV0IHN0b3BFdmVudCA9IGZhbHNlO1xuICAgIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLkRCTENMSUNLKSB7XG4gICAgICBjb25zdCBicm93c2VyRXZlbnQgPSAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovIChcbiAgICAgICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICAgICk7XG4gICAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgY29uc3QgYW5jaG9yID0gbWFwQnJvd3NlckV2ZW50LmNvb3JkaW5hdGU7XG4gICAgICBjb25zdCBkZWx0YSA9IGJyb3dzZXJFdmVudC5zaGlmdEtleSA/IC10aGlzLmRlbHRhXyA6IHRoaXMuZGVsdGFfO1xuICAgICAgY29uc3QgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICB6b29tQnlEZWx0YSh2aWV3LCBkZWx0YSwgYW5jaG9yLCB0aGlzLmR1cmF0aW9uXyk7XG4gICAgICBicm93c2VyRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHN0b3BFdmVudCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiAhc3RvcEV2ZW50O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERvdWJsZUNsaWNrWm9vbTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9Qb2ludGVyXG4gKi9cbmltcG9ydCBJbnRlcmFjdGlvbiBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCBNYXBCcm93c2VyRXZlbnRUeXBlIGZyb20gJy4uL01hcEJyb3dzZXJFdmVudFR5cGUuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOmJvb2xlYW59IFtoYW5kbGVEb3duRXZlbnRdXG4gKiBGdW5jdGlvbiBoYW5kbGluZyBcImRvd25cIiBldmVudHMuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCB0aGVuIGEgZHJhZ1xuICogc2VxdWVuY2UgaXMgc3RhcnRlZC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtoYW5kbGVEcmFnRXZlbnRdXG4gKiBGdW5jdGlvbiBoYW5kbGluZyBcImRyYWdcIiBldmVudHMuIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIFwibW92ZVwiIGV2ZW50c1xuICogZHVyaW5nIGEgZHJhZyBzZXF1ZW5jZS5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOmJvb2xlYW59IFtoYW5kbGVFdmVudF1cbiAqIE1ldGhvZCBjYWxsZWQgYnkgdGhlIG1hcCB0byBub3RpZnkgdGhlIGludGVyYWN0aW9uIHRoYXQgYSBicm93c2VyIGV2ZW50IHdhc1xuICogZGlzcGF0Y2hlZCB0byB0aGUgbWFwLiBUaGUgZnVuY3Rpb24gbWF5IHJldHVybiBgZmFsc2VgIHRvIHByZXZlbnQgdGhlXG4gKiBwcm9wYWdhdGlvbiBvZiB0aGUgZXZlbnQgdG8gb3RoZXIgaW50ZXJhY3Rpb25zIGluIHRoZSBtYXAncyBpbnRlcmFjdGlvbnNcbiAqIGNoYWluLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCk6dm9pZH0gW2hhbmRsZU1vdmVFdmVudF1cbiAqIEZ1bmN0aW9uIGhhbmRsaW5nIFwibW92ZVwiIGV2ZW50cy4gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgb24gXCJtb3ZlXCIgZXZlbnRzLlxuICogVGhpcyBmdW5jdGlvbnMgaXMgYWxzbyBjYWxsZWQgZHVyaW5nIGEgZHJhZyBzZXF1ZW5jZSwgc28gZHVyaW5nIGEgZHJhZ1xuICogc2VxdWVuY2UgYm90aCB0aGUgYGhhbmRsZURyYWdFdmVudGAgZnVuY3Rpb24gYW5kIHRoaXMgZnVuY3Rpb24gYXJlIGNhbGxlZC5cbiAqIElmIGBoYW5kbGVEb3duRXZlbnRgIGlzIGRlZmluZWQgYW5kIGl0IHJldHVybnMgdHJ1ZSB0aGlzIGZ1bmN0aW9uIHdpbGwgbm90XG4gKiBiZSBjYWxsZWQgZHVyaW5nIGEgZHJhZyBzZXF1ZW5jZS5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOmJvb2xlYW59IFtoYW5kbGVVcEV2ZW50XVxuICogIEZ1bmN0aW9uIGhhbmRsaW5nIFwidXBcIiBldmVudHMuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAgdGhlbiB0aGVcbiAqIGN1cnJlbnQgZHJhZyBzZXF1ZW5jZSBpcyBzdG9wcGVkLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihib29sZWFuKTpib29sZWFufSBbc3RvcERvd25dXG4gKiBTaG91bGQgdGhlIGRvd24gZXZlbnQgYmUgcHJvcGFnYXRlZCB0byBvdGhlciBpbnRlcmFjdGlvbnMsIG9yIHNob3VsZCBiZVxuICogc3RvcHBlZD9cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEJhc2UgY2xhc3MgdGhhdCBjYWxscyB1c2VyLWRlZmluZWQgZnVuY3Rpb25zIG9uIGBkb3duYCwgYG1vdmVgIGFuZCBgdXBgXG4gKiBldmVudHMuIFRoaXMgY2xhc3MgYWxzbyBtYW5hZ2VzIFwiZHJhZyBzZXF1ZW5jZXNcIi5cbiAqXG4gKiBXaGVuIHRoZSBgaGFuZGxlRG93bkV2ZW50YCB1c2VyIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgIGEgZHJhZyBzZXF1ZW5jZSBpc1xuICogc3RhcnRlZC4gRHVyaW5nIGEgZHJhZyBzZXF1ZW5jZSB0aGUgYGhhbmRsZURyYWdFdmVudGAgdXNlciBmdW5jdGlvbiBpc1xuICogY2FsbGVkIG9uIGBtb3ZlYCBldmVudHMuIFRoZSBkcmFnIHNlcXVlbmNlIGVuZHMgd2hlbiB0aGUgYGhhbmRsZVVwRXZlbnRgXG4gKiB1c2VyIGZ1bmN0aW9uIGlzIGNhbGxlZCBhbmQgcmV0dXJucyBgZmFsc2VgLlxuICogQGFwaVxuICovXG5jbGFzcyBQb2ludGVySW50ZXJhY3Rpb24gZXh0ZW5kcyBJbnRlcmFjdGlvbiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gICAgc3VwZXIoXG4gICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vSW50ZXJhY3Rpb24uanNcIikuSW50ZXJhY3Rpb25PcHRpb25zfSAqLyAob3B0aW9ucylcbiAgICApO1xuXG4gICAgaWYgKG9wdGlvbnMuaGFuZGxlRG93bkV2ZW50KSB7XG4gICAgICB0aGlzLmhhbmRsZURvd25FdmVudCA9IG9wdGlvbnMuaGFuZGxlRG93bkV2ZW50O1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmhhbmRsZURyYWdFdmVudCkge1xuICAgICAgdGhpcy5oYW5kbGVEcmFnRXZlbnQgPSBvcHRpb25zLmhhbmRsZURyYWdFdmVudDtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5oYW5kbGVNb3ZlRXZlbnQpIHtcbiAgICAgIHRoaXMuaGFuZGxlTW92ZUV2ZW50ID0gb3B0aW9ucy5oYW5kbGVNb3ZlRXZlbnQ7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaGFuZGxlVXBFdmVudCkge1xuICAgICAgdGhpcy5oYW5kbGVVcEV2ZW50ID0gb3B0aW9ucy5oYW5kbGVVcEV2ZW50O1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnN0b3BEb3duKSB7XG4gICAgICB0aGlzLnN0b3BEb3duID0gb3B0aW9ucy5zdG9wRG93bjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8UG9pbnRlckV2ZW50Pn1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdGhpcy50YXJnZXRQb2ludGVycyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgbnVtYmVyIG9mIHBvaW50ZXJzIGludm9sdmVkIGluIHRoZSBpbnRlcmFjdGlvbixcbiAgICogZS5nLiBgMmAgd2hlbiB0d28gZmluZ2VycyBhcmUgdXNlZC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIHBvaW50ZXJzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRQb2ludGVyQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGhhbmRsZURvd25FdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgaGFuZGxlRHJhZ0V2ZW50KG1hcEJyb3dzZXJFdmVudCkge31cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSBhbmQgbWF5IGNhbGwgaW50b1xuICAgKiBvdGhlciBmdW5jdGlvbnMsIGlmIGV2ZW50IHNlcXVlbmNlcyBsaWtlIGUuZy4gJ2RyYWcnIG9yICdkb3duLXVwJyBldGMuIGFyZVxuICAgKiBkZXRlY3RlZC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGhhbmRsZUV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICghbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGxldCBzdG9wRXZlbnQgPSBmYWxzZTtcbiAgICB0aGlzLnVwZGF0ZVRyYWNrZWRQb2ludGVyc18obWFwQnJvd3NlckV2ZW50KTtcbiAgICBpZiAodGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlKSB7XG4gICAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRFJBRykge1xuICAgICAgICB0aGlzLmhhbmRsZURyYWdFdmVudChtYXBCcm93c2VyRXZlbnQpO1xuICAgICAgICAvLyBwcmV2ZW50IHBhZ2Ugc2Nyb2xsaW5nIGR1cmluZyBkcmFnZ2luZ1xuICAgICAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSBlbHNlIGlmIChtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCkge1xuICAgICAgICBjb25zdCBoYW5kbGVkVXAgPSB0aGlzLmhhbmRsZVVwRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgdGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlID1cbiAgICAgICAgICBoYW5kbGVkVXAgJiYgdGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPiAwO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRE9XTikge1xuICAgICAgICBjb25zdCBoYW5kbGVkID0gdGhpcy5oYW5kbGVEb3duRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgdGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlID0gaGFuZGxlZDtcbiAgICAgICAgc3RvcEV2ZW50ID0gdGhpcy5zdG9wRG93bihoYW5kbGVkKTtcbiAgICAgIH0gZWxzZSBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSTU9WRSkge1xuICAgICAgICB0aGlzLmhhbmRsZU1vdmVFdmVudChtYXBCcm93c2VyRXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gIXN0b3BFdmVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBtb3ZlIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBoYW5kbGVNb3ZlRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7fVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciB1cCBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgaGFuZGxlVXBFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGRldGVybWluZSBpZiBcImRvd25cIiBldmVudHMgc2hvdWxkIGJlIHByb3BhZ2F0ZWRcbiAgICogdG8gb3RoZXIgaW50ZXJhY3Rpb25zIG9yIHNob3VsZCBiZSBzdG9wcGVkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhhbmRsZWQgV2FzIHRoZSBldmVudCBoYW5kbGVkIGJ5IHRoZSBpbnRlcmFjdGlvbj9cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gU2hvdWxkIHRoZSBgZG93bmAgZXZlbnQgYmUgc3RvcHBlZD9cbiAgICovXG4gIHN0b3BEb3duKGhhbmRsZWQpIHtcbiAgICByZXR1cm4gaGFuZGxlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB1cGRhdGVUcmFja2VkUG9pbnRlcnNfKG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmIChtYXBCcm93c2VyRXZlbnQuYWN0aXZlUG9pbnRlcnMpIHtcbiAgICAgIHRoaXMudGFyZ2V0UG9pbnRlcnMgPSBtYXBCcm93c2VyRXZlbnQuYWN0aXZlUG9pbnRlcnM7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxQb2ludGVyRXZlbnQ+fSBwb2ludGVyRXZlbnRzIExpc3Qgb2YgZXZlbnRzLlxuICogQHJldHVybiB7e2NsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyfX0gQ2VudHJvaWQgcGl4ZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjZW50cm9pZChwb2ludGVyRXZlbnRzKSB7XG4gIGNvbnN0IGxlbmd0aCA9IHBvaW50ZXJFdmVudHMubGVuZ3RoO1xuICBsZXQgY2xpZW50WCA9IDA7XG4gIGxldCBjbGllbnRZID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGNsaWVudFggKz0gcG9pbnRlckV2ZW50c1tpXS5jbGllbnRYO1xuICAgIGNsaWVudFkgKz0gcG9pbnRlckV2ZW50c1tpXS5jbGllbnRZO1xuICB9XG4gIHJldHVybiB7Y2xpZW50WDogY2xpZW50WCAvIGxlbmd0aCwgY2xpZW50WTogY2xpZW50WSAvIGxlbmd0aH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50ZXJJbnRlcmFjdGlvbjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9ldmVudHMvY29uZGl0aW9uXG4gKi9cbmltcG9ydCBNYXBCcm93c2VyRXZlbnRUeXBlIGZyb20gJy4uL01hcEJyb3dzZXJFdmVudFR5cGUuanMnO1xuaW1wb3J0IHtGQUxTRSwgVFJVRX0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7TUFDLCBXRUJLSVR9IGZyb20gJy4uL2hhcy5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYHtib29sZWFufWAuIElmIHRoZSBjb25kaXRpb24gaXMgbWV0LCB0cnVlIHNob3VsZCBiZSByZXR1cm5lZC5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24odGhpczogPywgaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBDb25kaXRpb25cbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjb25kaXRpb24gZnVuY3Rpb24gdGhhdCBwYXNzZXMgd2hlbiBhbGwgcHJvdmlkZWQgY29uZGl0aW9ucyBwYXNzLlxuICogQHBhcmFtIHsuLi5Db25kaXRpb259IHZhcl9hcmdzIENvbmRpdGlvbnMgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtDb25kaXRpb259IENvbmRpdGlvbiBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFsbCh2YXJfYXJncykge1xuICBjb25zdCBjb25kaXRpb25zID0gYXJndW1lbnRzO1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IEFsbCBjb25kaXRpb25zIHBhc3NlZC5cbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBsZXQgcGFzcyA9IHRydWU7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gY29uZGl0aW9ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBwYXNzID0gcGFzcyAmJiBjb25kaXRpb25zW2ldKGV2ZW50KTtcbiAgICAgIGlmICghcGFzcykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhc3M7XG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiBvbmx5IHRoZSBhbHQta2V5IGlzIHByZXNzZWQsIGBmYWxzZWAgb3RoZXJ3aXNlIChlLmcuIHdoZW5cbiAqIGFkZGl0aW9uYWxseSB0aGUgc2hpZnQta2V5IGlzIHByZXNzZWQpLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgb25seSB0aGUgYWx0IGtleSBpcyBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgYWx0S2V5T25seSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudHxNb3VzZUV2ZW50fFRvdWNoRXZlbnR9ICovIChcbiAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICApO1xuICByZXR1cm4gKFxuICAgIG9yaWdpbmFsRXZlbnQuYWx0S2V5ICYmXG4gICAgIShvcmlnaW5hbEV2ZW50Lm1ldGFLZXkgfHwgb3JpZ2luYWxFdmVudC5jdHJsS2V5KSAmJlxuICAgICFvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5XG4gICk7XG59O1xuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgb25seSB0aGUgYWx0LWtleSBhbmQgc2hpZnQta2V5IGlzIHByZXNzZWQsIGBmYWxzZWAgb3RoZXJ3aXNlXG4gKiAoZS5nLiB3aGVuIGFkZGl0aW9uYWxseSB0aGUgcGxhdGZvcm0tbW9kaWZpZXIta2V5IGlzIHByZXNzZWQpLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgb25seSB0aGUgYWx0IGFuZCBzaGlmdCBrZXlzIGFyZSBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgYWx0U2hpZnRLZXlzT25seSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudHxNb3VzZUV2ZW50fFRvdWNoRXZlbnR9ICovIChcbiAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICApO1xuICByZXR1cm4gKFxuICAgIG9yaWdpbmFsRXZlbnQuYWx0S2V5ICYmXG4gICAgIShvcmlnaW5hbEV2ZW50Lm1ldGFLZXkgfHwgb3JpZ2luYWxFdmVudC5jdHJsS2V5KSAmJlxuICAgIG9yaWdpbmFsRXZlbnQuc2hpZnRLZXlcbiAgKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgbWFwIGhhcyB0aGUgZm9jdXMuIFRoaXMgY29uZGl0aW9uIHJlcXVpcmVzIGEgbWFwIHRhcmdldFxuICogZWxlbWVudCB3aXRoIGEgYHRhYmluZGV4YCBhdHRyaWJ1dGUsIGUuZy4gYDxkaXYgaWQ9XCJtYXBcIiB0YWJpbmRleD1cIjFcIj5gLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIG1hcCBoYXMgdGhlIGZvY3VzLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgZm9jdXMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGV2ZW50Lm1hcC5nZXRUYXJnZXRFbGVtZW50KCk7XG4gIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBldmVudC5tYXAuZ2V0T3duZXJEb2N1bWVudCgpLmFjdGl2ZUVsZW1lbnQ7XG4gIHJldHVybiB0YXJnZXRFbGVtZW50LmNvbnRhaW5zKGFjdGl2ZUVsZW1lbnQpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBtYXAgaGFzIHRoZSBmb2N1cyBvciBubyAndGFiaW5kZXgnIGF0dHJpYnV0ZSBzZXQuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgbWFwIGNvbnRhaW5lciBoYXMgdGhlIGZvY3VzIG9yIG5vICd0YWJpbmRleCcgYXR0cmlidXRlLlxuICovXG5leHBvcnQgY29uc3QgZm9jdXNXaXRoVGFiaW5kZXggPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50Lm1hcC5nZXRUYXJnZXRFbGVtZW50KCkuaGFzQXR0cmlidXRlKCd0YWJpbmRleCcpXG4gICAgPyBmb2N1cyhldmVudClcbiAgICA6IHRydWU7XG59O1xuXG4vKipcbiAqIFJldHVybiBhbHdheXMgdHJ1ZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgYWx3YXlzID0gVFJVRTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBpcyBhIGBjbGlja2AgZXZlbnQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IGlzIGEgbWFwIGBjbGlja2AgZXZlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCBjbGljayA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgcmV0dXJuIG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuQ0xJQ0s7XG59O1xuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhcyBhbiBcImFjdGlvblwiLXByb2R1Y2luZyBtb3VzZSBidXR0b24uXG4gKlxuICogQnkgZGVmaW5pdGlvbiwgdGhpcyBpbmNsdWRlcyBsZWZ0LWNsaWNrIG9uIHdpbmRvd3MvbGludXgsIGFuZCBsZWZ0LWNsaWNrXG4gKiB3aXRob3V0IHRoZSBjdHJsIGtleSBvbiBNYWNzLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCBjb25zdCBtb3VzZUFjdGlvbkJ1dHRvbiA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7TW91c2VFdmVudH0gKi8gKFxuICAgIG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50XG4gICk7XG4gIHJldHVybiBvcmlnaW5hbEV2ZW50LmJ1dHRvbiA9PSAwICYmICEoV0VCS0lUICYmIE1BQyAmJiBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYWx3YXlzIGZhbHNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IEZhbHNlLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgbmV2ZXIgPSBGQUxTRTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBicm93c2VyIGV2ZW50IGlzIGEgYHBvaW50ZXJtb3ZlYCBldmVudCwgYGZhbHNlYFxuICogb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGJyb3dzZXIgZXZlbnQgaXMgYSBgcG9pbnRlcm1vdmVgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgcG9pbnRlck1vdmUgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSAncG9pbnRlcm1vdmUnO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgc2luZ2xlY2xpY2tgIGV2ZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgc2luZ2xlY2xpY2tgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3Qgc2luZ2xlQ2xpY2sgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlNJTkdMRUNMSUNLO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgZGJsY2xpY2tgIGV2ZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgZGJsY2xpY2tgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgZG91YmxlQ2xpY2sgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLkRCTENMSUNLO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIG5vIG1vZGlmaWVyIGtleSAoYWx0LSwgc2hpZnQtIG9yIHBsYXRmb3JtLW1vZGlmaWVyLWtleSkgaXNcbiAqIHByZXNzZWQuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBvbmx5IGlmIHRoZXJlIG5vIG1vZGlmaWVyIGtleXMgYXJlIHByZXNzZWQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCBub01vZGlmaWVyS2V5cyA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudHxNb3VzZUV2ZW50fFRvdWNoRXZlbnR9ICovIChcbiAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICApO1xuICByZXR1cm4gKFxuICAgICFvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICEob3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IG9yaWdpbmFsRXZlbnQuY3RybEtleSkgJiZcbiAgICAhb3JpZ2luYWxFdmVudC5zaGlmdEtleVxuICApO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIG9ubHkgdGhlIHBsYXRmb3JtLW1vZGlmaWVyLWtleSAodGhlIG1ldGEta2V5IG9uIE1hYyxcbiAqIGN0cmwta2V5IG90aGVyd2lzZSkgaXMgcHJlc3NlZCwgYGZhbHNlYCBvdGhlcndpc2UgKGUuZy4gd2hlbiBhZGRpdGlvbmFsbHlcbiAqIHRoZSBzaGlmdC1rZXkgaXMgcHJlc3NlZCkuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmx5IHRoZSBwbGF0Zm9ybSBtb2RpZmllciBrZXkgaXMgcHJlc3NlZC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IHBsYXRmb3JtTW9kaWZpZXJLZXlPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICBjb25zdCBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fE1vdXNlRXZlbnR8VG91Y2hFdmVudH0gKi8gKFxuICAgIG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50XG4gICk7XG4gIHJldHVybiAoXG4gICAgIW9yaWdpbmFsRXZlbnQuYWx0S2V5ICYmXG4gICAgKE1BQyA/IG9yaWdpbmFsRXZlbnQubWV0YUtleSA6IG9yaWdpbmFsRXZlbnQuY3RybEtleSkgJiZcbiAgICAhb3JpZ2luYWxFdmVudC5zaGlmdEtleVxuICApO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIG9ubHkgdGhlIHNoaWZ0LWtleSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZSAoZS5nLiB3aGVuXG4gKiBhZGRpdGlvbmFsbHkgdGhlIGFsdC1rZXkgaXMgcHJlc3NlZCkuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmx5IHRoZSBzaGlmdCBrZXkgaXMgcHJlc3NlZC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IHNoaWZ0S2V5T25seSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudHxNb3VzZUV2ZW50fFRvdWNoRXZlbnR9ICovIChcbiAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICApO1xuICByZXR1cm4gKFxuICAgICFvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICEob3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IG9yaWdpbmFsRXZlbnQuY3RybEtleSkgJiZcbiAgICBvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5XG4gICk7XG59O1xuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIHRhcmdldCBlbGVtZW50IGlzIG5vdCBlZGl0YWJsZSwgaS5lLiBub3QgYW4gYGlucHV0YCxcbiAqIGBzZWxlY3RgLCBvciBgdGV4dGFyZWFgIGVsZW1lbnQgYW5kIG5vIGBjb250ZW50ZWRpdGFibGVgIGF0dHJpYnV0ZSBpc1xuICogc2V0IG9yIGluaGVyaXRlZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBvbmx5IGlmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBub3QgZWRpdGFibGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCB0YXJnZXROb3RFZGl0YWJsZSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudHxNb3VzZUV2ZW50fFRvdWNoRXZlbnR9ICovIChcbiAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICApO1xuICBjb25zdCB0YWdOYW1lID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAob3JpZ2luYWxFdmVudC50YXJnZXQpLnRhZ05hbWU7XG4gIHJldHVybiAoXG4gICAgdGFnTmFtZSAhPT0gJ0lOUFVUJyAmJlxuICAgIHRhZ05hbWUgIT09ICdTRUxFQ1QnICYmXG4gICAgdGFnTmFtZSAhPT0gJ1RFWFRBUkVBJyAmJlxuICAgIC8vIGBpc0NvbnRlbnRFZGl0YWJsZWAgaXMgb25seSBhdmFpbGFibGUgb24gYEhUTUxFbGVtZW50YCwgYnV0IGl0IG1heSBhbHNvIGJlIGFcbiAgICAvLyBkaWZmZXJlbnQgdHlwZSBsaWtlIGBTVkdFbGVtZW50YC5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgIW9yaWdpbmFsRXZlbnQudGFyZ2V0LmlzQ29udGVudEVkaXRhYmxlXG4gICk7XG59O1xuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIG1vdXNlIGRldmljZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBvcmlnaW5hdGVzIGZyb20gYSBtb3VzZSBkZXZpY2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCBtb3VzZU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIGNvbnN0IHBvaW50ZXJFdmVudCA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50XCIpLmRlZmF1bHR9ICovIChcbiAgICBtYXBCcm93c2VyRXZlbnRcbiAgKS5vcmlnaW5hbEV2ZW50O1xuICBhc3NlcnQocG9pbnRlckV2ZW50ICE9PSB1bmRlZmluZWQsIDU2KTsgLy8gbWFwQnJvd3NlckV2ZW50IG11c3Qgb3JpZ2luYXRlIGZyb20gYSBwb2ludGVyIGV2ZW50XG4gIC8vIHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jd2lkbC1Qb2ludGVyRXZlbnQtcG9pbnRlclR5cGVcbiAgcmV0dXJuIHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PSAnbW91c2UnO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBvcmlnaW5hdGVzIGZyb20gYSB0b3VjaGFibGUgZGV2aWNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIHRvdWNoYWJsZSBkZXZpY2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCB0b3VjaE9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIGNvbnN0IHBvaW50ZXJFdnQgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudFwiKS5kZWZhdWx0fSAqLyAoXG4gICAgbWFwQnJvd3NlckV2ZW50XG4gICkub3JpZ2luYWxFdmVudDtcbiAgYXNzZXJ0KHBvaW50ZXJFdnQgIT09IHVuZGVmaW5lZCwgNTYpOyAvLyBtYXBCcm93c2VyRXZlbnQgbXVzdCBvcmlnaW5hdGUgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgLy8gc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzLyN3aWRsLVBvaW50ZXJFdmVudC1wb2ludGVyVHlwZVxuICByZXR1cm4gcG9pbnRlckV2dC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgZGlnaXRhbCBwZW4uXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgZGlnaXRhbCBwZW4uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCBwZW5Pbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICBjb25zdCBwb2ludGVyRXZ0ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnRcIikuZGVmYXVsdH0gKi8gKFxuICAgIG1hcEJyb3dzZXJFdmVudFxuICApLm9yaWdpbmFsRXZlbnQ7XG4gIGFzc2VydChwb2ludGVyRXZ0ICE9PSB1bmRlZmluZWQsIDU2KTsgLy8gbWFwQnJvd3NlckV2ZW50IG11c3Qgb3JpZ2luYXRlIGZyb20gYSBwb2ludGVyIGV2ZW50XG4gIC8vIHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jd2lkbC1Qb2ludGVyRXZlbnQtcG9pbnRlclR5cGVcbiAgcmV0dXJuIHBvaW50ZXJFdnQucG9pbnRlclR5cGUgPT09ICdwZW4nO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBvcmlnaW5hdGVzIGZyb20gYSBwcmltYXJ5IHBvaW50ZXIgaW5cbiAqIGNvbnRhY3Qgd2l0aCB0aGUgc3VyZmFjZSBvciBpZiB0aGUgbGVmdCBtb3VzZSBidXR0b24gaXMgcHJlc3NlZC5cbiAqIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jYnV0dG9uLXN0YXRlcy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBvcmlnaW5hdGVzIGZyb20gYSBwcmltYXJ5IHBvaW50ZXIuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCBwcmltYXJ5QWN0aW9uID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICBjb25zdCBwb2ludGVyRXZlbnQgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudFwiKS5kZWZhdWx0fSAqLyAoXG4gICAgbWFwQnJvd3NlckV2ZW50XG4gICkub3JpZ2luYWxFdmVudDtcbiAgYXNzZXJ0KHBvaW50ZXJFdmVudCAhPT0gdW5kZWZpbmVkLCA1Nik7IC8vIG1hcEJyb3dzZXJFdmVudCBtdXN0IG9yaWdpbmF0ZSBmcm9tIGEgcG9pbnRlciBldmVudFxuICByZXR1cm4gcG9pbnRlckV2ZW50LmlzUHJpbWFyeSAmJiBwb2ludGVyRXZlbnQuYnV0dG9uID09PSAwO1xufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnUGFuXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24sIHtcbiAgY2VudHJvaWQgYXMgY2VudHJvaWRGcm9tUG9pbnRlcnMsXG59IGZyb20gJy4vUG9pbnRlci5qcyc7XG5pbXBvcnQge0ZBTFNFfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHtcbiAgYWxsLFxuICBmb2N1c1dpdGhUYWJpbmRleCxcbiAgbm9Nb2RpZmllcktleXMsXG4gIHByaW1hcnlBY3Rpb24sXG59IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuaW1wb3J0IHtlYXNlT3V0fSBmcm9tICcuLi9lYXNpbmcuanMnO1xuaW1wb3J0IHtcbiAgcm90YXRlIGFzIHJvdGF0ZUNvb3JkaW5hdGUsXG4gIHNjYWxlIGFzIHNjYWxlQ29vcmRpbmF0ZSxcbn0gZnJvbSAnLi4vY29vcmRpbmF0ZS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYSBib29sZWFuXG4gKiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbi5ub01vZGlmaWVyS2V5c30gYW5kIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbi5wcmltYXJ5QWN0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29uRm9jdXNPbmx5PWZhbHNlXSBXaGVuIHRoZSBtYXAncyB0YXJnZXQgaGFzIGEgYHRhYmluZGV4YCBhdHRyaWJ1dGUgc2V0LFxuICogdGhlIGludGVyYWN0aW9uIHdpbGwgb25seSBoYW5kbGUgZXZlbnRzIHdoZW4gdGhlIG1hcCBoYXMgdGhlIGZvY3VzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9LaW5ldGljLmpzXCIpLmRlZmF1bHR9IFtraW5ldGljXSBLaW5ldGljIGluZXJ0aWEgdG8gYXBwbHkgdG8gdGhlIHBhbi5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byBwYW4gdGhlIG1hcCBieSBkcmFnZ2luZyB0aGUgbWFwLlxuICogQGFwaVxuICovXG5jbGFzcyBEcmFnUGFuIGV4dGVuZHMgUG9pbnRlckludGVyYWN0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgc3RvcERvd246IEZBTFNFLFxuICAgIH0pO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9LaW5ldGljLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMua2luZXRpY18gPSBvcHRpb25zLmtpbmV0aWM7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICovXG4gICAgdGhpcy5sYXN0Q2VudHJvaWQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxhc3RQb2ludGVyc0NvdW50XztcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucGFubmluZ18gPSBmYWxzZTtcblxuICAgIGNvbnN0IGNvbmRpdGlvbiA9IG9wdGlvbnMuY29uZGl0aW9uXG4gICAgICA/IG9wdGlvbnMuY29uZGl0aW9uXG4gICAgICA6IGFsbChub01vZGlmaWVyS2V5cywgcHJpbWFyeUFjdGlvbik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbmRpdGlvbl8gPSBvcHRpb25zLm9uRm9jdXNPbmx5XG4gICAgICA/IGFsbChmb2N1c1dpdGhUYWJpbmRleCwgY29uZGl0aW9uKVxuICAgICAgOiBjb25kaXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubm9LaW5ldGljXyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIGRyYWcgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqL1xuICBoYW5kbGVEcmFnRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICBpZiAoIXRoaXMucGFubmluZ18pIHtcbiAgICAgIHRoaXMucGFubmluZ18gPSB0cnVlO1xuICAgICAgbWFwLmdldFZpZXcoKS5iZWdpbkludGVyYWN0aW9uKCk7XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldFBvaW50ZXJzID0gdGhpcy50YXJnZXRQb2ludGVycztcbiAgICBjb25zdCBjZW50cm9pZCA9IG1hcC5nZXRFdmVudFBpeGVsKGNlbnRyb2lkRnJvbVBvaW50ZXJzKHRhcmdldFBvaW50ZXJzKSk7XG4gICAgaWYgKHRhcmdldFBvaW50ZXJzLmxlbmd0aCA9PSB0aGlzLmxhc3RQb2ludGVyc0NvdW50Xykge1xuICAgICAgaWYgKHRoaXMua2luZXRpY18pIHtcbiAgICAgICAgdGhpcy5raW5ldGljXy51cGRhdGUoY2VudHJvaWRbMF0sIGNlbnRyb2lkWzFdKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmxhc3RDZW50cm9pZCkge1xuICAgICAgICBjb25zdCBkZWx0YSA9IFtcbiAgICAgICAgICB0aGlzLmxhc3RDZW50cm9pZFswXSAtIGNlbnRyb2lkWzBdLFxuICAgICAgICAgIGNlbnRyb2lkWzFdIC0gdGhpcy5sYXN0Q2VudHJvaWRbMV0sXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICBzY2FsZUNvb3JkaW5hdGUoZGVsdGEsIHZpZXcuZ2V0UmVzb2x1dGlvbigpKTtcbiAgICAgICAgcm90YXRlQ29vcmRpbmF0ZShkZWx0YSwgdmlldy5nZXRSb3RhdGlvbigpKTtcbiAgICAgICAgdmlldy5hZGp1c3RDZW50ZXJJbnRlcm5hbChkZWx0YSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmtpbmV0aWNfKSB7XG4gICAgICAvLyByZXNldCBzbyB3ZSBkb24ndCBvdmVyZXN0aW1hdGUgdGhlIGtpbmV0aWMgZW5lcmd5IGFmdGVyXG4gICAgICAvLyBhZnRlciBvbmUgZmluZ2VyIGRvd24sIHRpbnkgZHJhZywgc2Vjb25kIGZpbmdlciBkb3duXG4gICAgICB0aGlzLmtpbmV0aWNfLmJlZ2luKCk7XG4gICAgfVxuICAgIHRoaXMubGFzdENlbnRyb2lkID0gY2VudHJvaWQ7XG4gICAgdGhpcy5sYXN0UG9pbnRlcnNDb3VudF8gPSB0YXJnZXRQb2ludGVycy5sZW5ndGg7XG4gICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciB1cCBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICovXG4gIGhhbmRsZVVwRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGlmICghdGhpcy5ub0tpbmV0aWNfICYmIHRoaXMua2luZXRpY18gJiYgdGhpcy5raW5ldGljXy5lbmQoKSkge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMua2luZXRpY18uZ2V0RGlzdGFuY2UoKTtcbiAgICAgICAgY29uc3QgYW5nbGUgPSB0aGlzLmtpbmV0aWNfLmdldEFuZ2xlKCk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHZpZXcuZ2V0Q2VudGVySW50ZXJuYWwoKTtcbiAgICAgICAgY29uc3QgY2VudGVycHggPSBtYXAuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsKGNlbnRlcik7XG4gICAgICAgIGNvbnN0IGRlc3QgPSBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKFtcbiAgICAgICAgICBjZW50ZXJweFswXSAtIGRpc3RhbmNlICogTWF0aC5jb3MoYW5nbGUpLFxuICAgICAgICAgIGNlbnRlcnB4WzFdIC0gZGlzdGFuY2UgKiBNYXRoLnNpbihhbmdsZSksXG4gICAgICAgIF0pO1xuICAgICAgICB2aWV3LmFuaW1hdGVJbnRlcm5hbCh7XG4gICAgICAgICAgY2VudGVyOiB2aWV3LmdldENvbnN0cmFpbmVkQ2VudGVyKGRlc3QpLFxuICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgICAgICAgZWFzaW5nOiBlYXNlT3V0LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnBhbm5pbmdfKSB7XG4gICAgICAgIHRoaXMucGFubmluZ18gPSBmYWxzZTtcbiAgICAgICAgdmlldy5lbmRJbnRlcmFjdGlvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5raW5ldGljXykge1xuICAgICAgLy8gcmVzZXQgc28gd2UgZG9uJ3Qgb3ZlcmVzdGltYXRlIHRoZSBraW5ldGljIGVuZXJneSBhZnRlclxuICAgICAgLy8gYWZ0ZXIgb25lIGZpbmdlciB1cCwgdGlueSBkcmFnLCBzZWNvbmQgZmluZ2VyIHVwXG4gICAgICB0aGlzLmtpbmV0aWNfLmJlZ2luKCk7XG4gICAgfVxuICAgIHRoaXMubGFzdENlbnRyb2lkID0gbnVsbDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgKi9cbiAgaGFuZGxlRG93bkV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICh0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA+IDAgJiYgdGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgIHRoaXMubGFzdENlbnRyb2lkID0gbnVsbDtcbiAgICAgIC8vIHN0b3AgYW55IGN1cnJlbnQgYW5pbWF0aW9uXG4gICAgICBpZiAodmlldy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgICB2aWV3LmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmtpbmV0aWNfKSB7XG4gICAgICAgIHRoaXMua2luZXRpY18uYmVnaW4oKTtcbiAgICAgIH1cbiAgICAgIC8vIE5vIGtpbmV0aWMgYXMgc29vbiBhcyBtb3JlIHRoYW4gb25lIHBvaW50ZXIgb24gdGhlIHNjcmVlbiBpc1xuICAgICAgLy8gZGV0ZWN0ZWQuIFRoaXMgaXMgdG8gcHJldmVudCBuYXN0eSBwYW5zIGFmdGVyIHBpbmNoLlxuICAgICAgdGhpcy5ub0tpbmV0aWNfID0gdGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPiAxO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEcmFnUGFuO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0RyYWdSb3RhdGVcbiAqL1xuaW1wb3J0IFBvaW50ZXJJbnRlcmFjdGlvbiBmcm9tICcuL1BvaW50ZXIuanMnO1xuaW1wb3J0IHtGQUxTRX0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7XG4gIGFsdFNoaWZ0S2V5c09ubHksXG4gIG1vdXNlQWN0aW9uQnV0dG9uLFxuICBtb3VzZU9ubHksXG59IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuaW1wb3J0IHtkaXNhYmxlfSBmcm9tICcuLi9yb3RhdGlvbmNvbnN0cmFpbnQuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhblxuICoge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhIGJvb2xlYW5cbiAqIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC5cbiAqIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9uLmFsdFNoaWZ0S2V5c09ubHl9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0yNTBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcm90YXRlIHRoZSBtYXAgYnkgY2xpY2tpbmcgYW5kIGRyYWdnaW5nIG9uIHRoZSBtYXAsXG4gKiBub3JtYWxseSBjb21iaW5lZCB3aXRoIGFuIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn0gdGhhdCBsaW1pdHNcbiAqIGl0IHRvIHdoZW4gdGhlIGFsdCBhbmQgc2hpZnQga2V5cyBhcmUgaGVsZCBkb3duLlxuICpcbiAqIFRoaXMgaW50ZXJhY3Rpb24gaXMgb25seSBzdXBwb3J0ZWQgZm9yIG1vdXNlIGRldmljZXMuXG4gKiBAYXBpXG4gKi9cbmNsYXNzIERyYWdSb3RhdGUgZXh0ZW5kcyBQb2ludGVySW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIHN1cGVyKHtcbiAgICAgIHN0b3BEb3duOiBGQUxTRSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBhbHRTaGlmdEtleXNPbmx5O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmxhc3RBbmdsZV8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIGRyYWcgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqL1xuICBoYW5kbGVEcmFnRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKCFtb3VzZU9ubHkobWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgY29uc3QgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgaWYgKHZpZXcuZ2V0Q29uc3RyYWludHMoKS5yb3RhdGlvbiA9PT0gZGlzYWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzaXplID0gbWFwLmdldFNpemUoKTtcbiAgICBjb25zdCBvZmZzZXQgPSBtYXBCcm93c2VyRXZlbnQucGl4ZWw7XG4gICAgY29uc3QgdGhldGEgPSBNYXRoLmF0YW4yKHNpemVbMV0gLyAyIC0gb2Zmc2V0WzFdLCBvZmZzZXRbMF0gLSBzaXplWzBdIC8gMik7XG4gICAgaWYgKHRoaXMubGFzdEFuZ2xlXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBkZWx0YSA9IHRoZXRhIC0gdGhpcy5sYXN0QW5nbGVfO1xuICAgICAgdmlldy5hZGp1c3RSb3RhdGlvbkludGVybmFsKC1kZWx0YSk7XG4gICAgfVxuICAgIHRoaXMubGFzdEFuZ2xlXyA9IHRoZXRhO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgKi9cbiAgaGFuZGxlVXBFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoIW1vdXNlT25seShtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIHZpZXcuZW5kSW50ZXJhY3Rpb24odGhpcy5kdXJhdGlvbl8pO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgKi9cbiAgaGFuZGxlRG93bkV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICghbW91c2VPbmx5KG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBtb3VzZUFjdGlvbkJ1dHRvbihtYXBCcm93c2VyRXZlbnQpICYmXG4gICAgICB0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KVxuICAgICkge1xuICAgICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgIG1hcC5nZXRWaWV3KCkuYmVnaW5JbnRlcmFjdGlvbigpO1xuICAgICAgdGhpcy5sYXN0QW5nbGVfID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEcmFnUm90YXRlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9Cb3hcbiAqL1xuXG5pbXBvcnQgRGlzcG9zYWJsZSBmcm9tICcuLi9EaXNwb3NhYmxlLmpzJztcbmltcG9ydCBQb2x5Z29uIGZyb20gJy4uL2dlb20vUG9seWdvbi5qcyc7XG5cbmNsYXNzIFJlbmRlckJveCBleHRlbmRzIERpc3Bvc2FibGUge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBDU1MgY2xhc3MgbmFtZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNsYXNzTmFtZSkge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmdlb21ldHJ5XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmVsZW1lbnRfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5lbGVtZW50Xy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy5lbGVtZW50Xy5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgIHRoaXMuZWxlbWVudF8uY2xhc3NOYW1lID0gJ29sLWJveCAnICsgY2xhc3NOYW1lO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLm1hcF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICovXG4gICAgdGhpcy5zdGFydFBpeGVsXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH1cbiAgICAgKi9cbiAgICB0aGlzLmVuZFBpeGVsXyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAuXG4gICAqL1xuICBkaXNwb3NlSW50ZXJuYWwoKSB7XG4gICAgdGhpcy5zZXRNYXAobnVsbCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlbmRlcl8oKSB7XG4gICAgY29uc3Qgc3RhcnRQaXhlbCA9IHRoaXMuc3RhcnRQaXhlbF87XG4gICAgY29uc3QgZW5kUGl4ZWwgPSB0aGlzLmVuZFBpeGVsXztcbiAgICBjb25zdCBweCA9ICdweCc7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmVsZW1lbnRfLnN0eWxlO1xuICAgIHN0eWxlLmxlZnQgPSBNYXRoLm1pbihzdGFydFBpeGVsWzBdLCBlbmRQaXhlbFswXSkgKyBweDtcbiAgICBzdHlsZS50b3AgPSBNYXRoLm1pbihzdGFydFBpeGVsWzFdLCBlbmRQaXhlbFsxXSkgKyBweDtcbiAgICBzdHlsZS53aWR0aCA9IE1hdGguYWJzKGVuZFBpeGVsWzBdIC0gc3RhcnRQaXhlbFswXSkgKyBweDtcbiAgICBzdHlsZS5oZWlnaHQgPSBNYXRoLmFicyhlbmRQaXhlbFsxXSAtIHN0YXJ0UGl4ZWxbMV0pICsgcHg7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdHxudWxsfSBtYXAgTWFwLlxuICAgKi9cbiAgc2V0TWFwKG1hcCkge1xuICAgIGlmICh0aGlzLm1hcF8pIHtcbiAgICAgIHRoaXMubWFwXy5nZXRPdmVybGF5Q29udGFpbmVyKCkucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50Xyk7XG4gICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZWxlbWVudF8uc3R5bGU7XG4gICAgICBzdHlsZS5sZWZ0ID0gJ2luaGVyaXQnO1xuICAgICAgc3R5bGUudG9wID0gJ2luaGVyaXQnO1xuICAgICAgc3R5bGUud2lkdGggPSAnaW5oZXJpdCc7XG4gICAgICBzdHlsZS5oZWlnaHQgPSAnaW5oZXJpdCc7XG4gICAgfVxuICAgIHRoaXMubWFwXyA9IG1hcDtcbiAgICBpZiAodGhpcy5tYXBfKSB7XG4gICAgICB0aGlzLm1hcF8uZ2V0T3ZlcmxheUNvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudF8pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBzdGFydFBpeGVsIFN0YXJ0IHBpeGVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBlbmRQaXhlbCBFbmQgcGl4ZWwuXG4gICAqL1xuICBzZXRQaXhlbHMoc3RhcnRQaXhlbCwgZW5kUGl4ZWwpIHtcbiAgICB0aGlzLnN0YXJ0UGl4ZWxfID0gc3RhcnRQaXhlbDtcbiAgICB0aGlzLmVuZFBpeGVsXyA9IGVuZFBpeGVsO1xuICAgIHRoaXMuY3JlYXRlT3JVcGRhdGVHZW9tZXRyeSgpO1xuICAgIHRoaXMucmVuZGVyXygpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgb3IgdXBkYXRlcyB0aGUgY2FjaGVkIGdlb21ldHJ5LlxuICAgKi9cbiAgY3JlYXRlT3JVcGRhdGVHZW9tZXRyeSgpIHtcbiAgICBjb25zdCBzdGFydFBpeGVsID0gdGhpcy5zdGFydFBpeGVsXztcbiAgICBjb25zdCBlbmRQaXhlbCA9IHRoaXMuZW5kUGl4ZWxfO1xuICAgIGNvbnN0IHBpeGVscyA9IFtcbiAgICAgIHN0YXJ0UGl4ZWwsXG4gICAgICBbc3RhcnRQaXhlbFswXSwgZW5kUGl4ZWxbMV1dLFxuICAgICAgZW5kUGl4ZWwsXG4gICAgICBbZW5kUGl4ZWxbMF0sIHN0YXJ0UGl4ZWxbMV1dLFxuICAgIF07XG4gICAgY29uc3QgY29vcmRpbmF0ZXMgPSBwaXhlbHMubWFwKFxuICAgICAgdGhpcy5tYXBfLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbCxcbiAgICAgIHRoaXMubWFwX1xuICAgICk7XG4gICAgLy8gY2xvc2UgdGhlIHBvbHlnb25cbiAgICBjb29yZGluYXRlc1s0XSA9IGNvb3JkaW5hdGVzWzBdLnNsaWNlKCk7XG4gICAgaWYgKCF0aGlzLmdlb21ldHJ5Xykge1xuICAgICAgdGhpcy5nZW9tZXRyeV8gPSBuZXcgUG9seWdvbihbY29vcmRpbmF0ZXNdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nZW9tZXRyeV8uc2V0Q29vcmRpbmF0ZXMoW2Nvb3JkaW5hdGVzXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBHZW9tZXRyeS5cbiAgICovXG4gIGdldEdlb21ldHJ5KCkge1xuICAgIHJldHVybiB0aGlzLmdlb21ldHJ5XztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZW5kZXJCb3g7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRHJhZ0JveFxuICovXG4vLyBGSVhNRSBkcmF3IGRyYWcgYm94XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCBSZW5kZXJCb3ggZnJvbSAnLi4vcmVuZGVyL0JveC5qcyc7XG5pbXBvcnQge21vdXNlQWN0aW9uQnV0dG9ufSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCB0d29cbiAqIHtAbGluayBtb2R1bGU6b2wvcGl4ZWx+UGl4ZWx9cyBhbmQgcmV0dXJucyBhIGB7Ym9vbGVhbn1gLiBJZiB0aGUgY29uZGl0aW9uIGlzIG1ldCxcbiAqIHRydWUgc2hvdWxkIGJlIHJldHVybmVkLlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKHRoaXM6ID8sIGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0LCBpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbCwgaW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWwpOmJvb2xlYW59IEVuZENvbmRpdGlvblxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWRyYWdib3gnXSBDU1MgY2xhc3MgbmFtZSBmb3Igc3R5bGluZyB0aGUgYm94LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYSBib29sZWFuXG4gKiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBvbC9ldmVudHMvY29uZGl0aW9ufm1vdXNlQWN0aW9uQnV0dG9ufS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluQXJlYT02NF0gVGhlIG1pbmltdW0gYXJlYSBvZiB0aGUgYm94IGluIHBpeGVsLCB0aGlzIHZhbHVlIGlzIHVzZWQgYnkgdGhlIGRlZmF1bHRcbiAqIGBib3hFbmRDb25kaXRpb25gIGZ1bmN0aW9uLlxuICogQHByb3BlcnR5IHtFbmRDb25kaXRpb259IFtib3hFbmRDb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHR3b1xuICoge0BsaW5rIG1vZHVsZTpvbC9waXhlbH5QaXhlbH1zIHRvIGluZGljYXRlIHdoZXRoZXIgYSBgYm94ZW5kYCBldmVudCBzaG91bGQgYmUgZmlyZWQuXG4gKiBEZWZhdWx0IGlzIGB0cnVlYCBpZiB0aGUgYXJlYSBvZiB0aGUgYm94IGlzIGJpZ2dlciB0aGFuIHRoZSBgbWluQXJlYWAgb3B0aW9uLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbih0aGlzOkRyYWdCb3gsIGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbb25Cb3hFbmRdIENvZGUgdG8gZXhlY3V0ZSBqdXN0XG4gKiBiZWZvcmUgYGJveGVuZGAgaXMgZmlyZWQuXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5jb25zdCBEcmFnQm94RXZlbnRUeXBlID0ge1xuICAvKipcbiAgICogVHJpZ2dlcmVkIHVwb24gZHJhZyBib3ggc3RhcnQuXG4gICAqIEBldmVudCBEcmFnQm94RXZlbnQjYm94c3RhcnRcbiAgICogQGFwaVxuICAgKi9cbiAgQk9YU1RBUlQ6ICdib3hzdGFydCcsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCBvbiBkcmFnIHdoZW4gYm94IGlzIGFjdGl2ZS5cbiAgICogQGV2ZW50IERyYWdCb3hFdmVudCNib3hkcmFnXG4gICAqIEBhcGlcbiAgICovXG4gIEJPWERSQUc6ICdib3hkcmFnJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHVwb24gZHJhZyBib3ggZW5kLlxuICAgKiBAZXZlbnQgRHJhZ0JveEV2ZW50I2JveGVuZFxuICAgKiBAYXBpXG4gICAqL1xuICBCT1hFTkQ6ICdib3hlbmQnLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgdXBvbiBkcmFnIGJveCBjYW5jZWxlZC5cbiAgICogQGV2ZW50IERyYWdCb3hFdmVudCNib3hjYW5jZWxcbiAgICogQGFwaVxuICAgKi9cbiAgQk9YQ0FOQ0VMOiAnYm94Y2FuY2VsJyxcbn07XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnQm94fkRyYWdCb3h9IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mXG4gKiB0aGlzIHR5cGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBEcmFnQm94RXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgVGhlIGV2ZW50IGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBPcmlnaW5hdGluZyBldmVudC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHR5cGUsIGNvb3JkaW5hdGUsIG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHN1cGVyKHR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIGRyYWcgZXZlbnQuXG4gICAgICogQGNvbnN0XG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5jb29yZGluYXRlID0gY29vcmRpbmF0ZTtcblxuICAgIC8qKlxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5tYXBCcm93c2VyRXZlbnQgPSBtYXBCcm93c2VyRXZlbnQ7XG4gIH1cbn1cblxuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfFxuICogICAgICdjaGFuZ2U6YWN0aXZlJywgaW1wb3J0KFwiLi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTwnYm94Y2FuY2VsJ3wnYm94ZHJhZyd8J2JveGVuZCd8J2JveHN0YXJ0JywgRHJhZ0JveEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXN8XG4gKiAgICAgJ2NoYW5nZTphY3RpdmUnfCdib3hjYW5jZWwnfCdib3hkcmFnJ3wnYm94ZW5kJywgUmV0dXJuPn0gRHJhZ0JveE9uU2lnbmF0dXJlXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gZHJhdyBhIHZlY3RvciBib3ggYnkgY2xpY2tpbmcgYW5kIGRyYWdnaW5nIG9uIHRoZSBtYXAsXG4gKiBub3JtYWxseSBjb21iaW5lZCB3aXRoIGFuIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbn0gdGhhdCBsaW1pdHNcbiAqIGl0IHRvIHdoZW4gdGhlIHNoaWZ0IG9yIG90aGVyIGtleSBpcyBoZWxkIGRvd24uIFRoaXMgaXMgdXNlZCwgZm9yIGV4YW1wbGUsXG4gKiBmb3Igem9vbWluZyB0byBhIHNwZWNpZmljIGFyZWEgb2YgdGhlIG1hcFxuICogKHNlZSB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RyYWdab29tfkRyYWdab29tfSBhbmRcbiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZUFuZFpvb21+RHJhZ1JvdGF0ZUFuZFpvb219KS5cbiAqXG4gKiBAZmlyZXMgRHJhZ0JveEV2ZW50XG4gKiBAYXBpXG4gKi9cbmNsYXNzIERyYWdCb3ggZXh0ZW5kcyBQb2ludGVySW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtEcmFnQm94T25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7RHJhZ0JveE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7RHJhZ0JveE9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZW5kZXIvQm94LmpzXCIpLmRlZmF1bHR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmJveF8gPSBuZXcgUmVuZGVyQm94KG9wdGlvbnMuY2xhc3NOYW1lIHx8ICdvbC1kcmFnYm94Jyk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5taW5BcmVhXyA9IG9wdGlvbnMubWluQXJlYSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5BcmVhIDogNjQ7XG5cbiAgICBpZiAob3B0aW9ucy5vbkJveEVuZCkge1xuICAgICAgdGhpcy5vbkJveEVuZCA9IG9wdGlvbnMub25Cb3hFbmQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zdGFydFBpeGVsXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbmRpdGlvbl8gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogbW91c2VBY3Rpb25CdXR0b247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtFbmRDb25kaXRpb259XG4gICAgICovXG4gICAgdGhpcy5ib3hFbmRDb25kaXRpb25fID0gb3B0aW9ucy5ib3hFbmRDb25kaXRpb25cbiAgICAgID8gb3B0aW9ucy5ib3hFbmRDb25kaXRpb25cbiAgICAgIDogdGhpcy5kZWZhdWx0Qm94RW5kQ29uZGl0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGNvbmRpdGlvbiBmb3IgZGV0ZXJtaW5pbmcgd2hldGhlciB0aGUgYm94ZW5kIGV2ZW50XG4gICAqIHNob3VsZCBmaXJlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgVGhlIG9yaWdpbmF0aW5nIE1hcEJyb3dzZXJFdmVudFxuICAgKiAgICAgbGVhZGluZyB0byB0aGUgYm94IGVuZC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gc3RhcnRQaXhlbCBUaGUgc3RhcnRpbmcgcGl4ZWwgb2YgdGhlIGJveC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gZW5kUGl4ZWwgVGhlIGVuZCBwaXhlbCBvZiB0aGUgYm94LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgYm94ZW5kIGNvbmRpdGlvbiBzaG91bGQgYmUgZmlyZWQuXG4gICAqL1xuICBkZWZhdWx0Qm94RW5kQ29uZGl0aW9uKG1hcEJyb3dzZXJFdmVudCwgc3RhcnRQaXhlbCwgZW5kUGl4ZWwpIHtcbiAgICBjb25zdCB3aWR0aCA9IGVuZFBpeGVsWzBdIC0gc3RhcnRQaXhlbFswXTtcbiAgICBjb25zdCBoZWlnaHQgPSBlbmRQaXhlbFsxXSAtIHN0YXJ0UGl4ZWxbMV07XG4gICAgcmV0dXJuIHdpZHRoICogd2lkdGggKyBoZWlnaHQgKiBoZWlnaHQgPj0gdGhpcy5taW5BcmVhXztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGdlb21ldHJ5IG9mIGxhc3QgZHJhd24gYm94LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gR2VvbWV0cnkuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEdlb21ldHJ5KCkge1xuICAgIHJldHVybiB0aGlzLmJveF8uZ2V0R2VvbWV0cnkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBkcmFnIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKi9cbiAgaGFuZGxlRHJhZ0V2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHRoaXMuYm94Xy5zZXRQaXhlbHModGhpcy5zdGFydFBpeGVsXywgbWFwQnJvd3NlckV2ZW50LnBpeGVsKTtcblxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBEcmFnQm94RXZlbnQoXG4gICAgICAgIERyYWdCb3hFdmVudFR5cGUuQk9YRFJBRyxcbiAgICAgICAgbWFwQnJvd3NlckV2ZW50LmNvb3JkaW5hdGUsXG4gICAgICAgIG1hcEJyb3dzZXJFdmVudFxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAqL1xuICBoYW5kbGVVcEV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIHRoaXMuYm94Xy5zZXRNYXAobnVsbCk7XG5cbiAgICBjb25zdCBjb21wbGV0ZUJveCA9IHRoaXMuYm94RW5kQ29uZGl0aW9uXyhcbiAgICAgIG1hcEJyb3dzZXJFdmVudCxcbiAgICAgIHRoaXMuc3RhcnRQaXhlbF8sXG4gICAgICBtYXBCcm93c2VyRXZlbnQucGl4ZWxcbiAgICApO1xuICAgIGlmIChjb21wbGV0ZUJveCkge1xuICAgICAgdGhpcy5vbkJveEVuZChtYXBCcm93c2VyRXZlbnQpO1xuICAgIH1cbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgRHJhZ0JveEV2ZW50KFxuICAgICAgICBjb21wbGV0ZUJveCA/IERyYWdCb3hFdmVudFR5cGUuQk9YRU5EIDogRHJhZ0JveEV2ZW50VHlwZS5CT1hDQU5DRUwsXG4gICAgICAgIG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlLFxuICAgICAgICBtYXBCcm93c2VyRXZlbnRcbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgKi9cbiAgaGFuZGxlRG93bkV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICh0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgdGhpcy5zdGFydFBpeGVsXyA9IG1hcEJyb3dzZXJFdmVudC5waXhlbDtcbiAgICAgIHRoaXMuYm94Xy5zZXRNYXAobWFwQnJvd3NlckV2ZW50Lm1hcCk7XG4gICAgICB0aGlzLmJveF8uc2V0UGl4ZWxzKHRoaXMuc3RhcnRQaXhlbF8sIHRoaXMuc3RhcnRQaXhlbF8pO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBuZXcgRHJhZ0JveEV2ZW50KFxuICAgICAgICAgIERyYWdCb3hFdmVudFR5cGUuQk9YU1RBUlQsXG4gICAgICAgICAgbWFwQnJvd3NlckV2ZW50LmNvb3JkaW5hdGUsXG4gICAgICAgICAgbWFwQnJvd3NlckV2ZW50XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRvIGV4ZWN1dGUganVzdCBiZWZvcmUgYG9uYm94ZW5kYCBpcyBmaXJlZFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBFdmVudC5cbiAgICovXG4gIG9uQm94RW5kKGV2ZW50KSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBEcmFnQm94O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0RyYWdab29tXG4gKi9cbmltcG9ydCBEcmFnQm94IGZyb20gJy4vRHJhZ0JveC5qcyc7XG5pbXBvcnQge2Vhc2VPdXR9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG5pbXBvcnQge3NoaWZ0S2V5T25seX0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWRyYWd6b29tJ10gQ1NTIGNsYXNzIG5hbWUgZm9yIHN0eWxpbmcgdGhlXG4gKiBib3guXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXRcbiAqIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbi5zaGlmdEtleU9ubHl9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0yMDBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvdXQ9ZmFsc2VdIFVzZSBpbnRlcmFjdGlvbiBmb3Igem9vbWluZyBvdXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pbkFyZWE9NjRdIFRoZSBtaW5pbXVtIGFyZWEgb2YgdGhlIGJveCBpbiBwaXhlbCwgdGhpcyB2YWx1ZSBpcyB1c2VkIGJ5IHRoZSBwYXJlbnQgZGVmYXVsdFxuICogYGJveEVuZENvbmRpdGlvbmAgZnVuY3Rpb24uXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gem9vbSB0aGUgbWFwIGJ5IGNsaWNraW5nIGFuZCBkcmFnZ2luZyBvbiB0aGUgbWFwLFxuICogbm9ybWFsbHkgY29tYmluZWQgd2l0aCBhbiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb259IHRoYXQgbGltaXRzXG4gKiBpdCB0byB3aGVuIGEga2V5LCBzaGlmdCBieSBkZWZhdWx0LCBpcyBoZWxkIGRvd24uXG4gKlxuICogVG8gY2hhbmdlIHRoZSBzdHlsZSBvZiB0aGUgYm94LCB1c2UgQ1NTIGFuZCB0aGUgYC5vbC1kcmFnem9vbWAgc2VsZWN0b3IsIG9yXG4gKiB5b3VyIGN1c3RvbSBvbmUgY29uZmlndXJlZCB3aXRoIGBjbGFzc05hbWVgLlxuICogQGFwaVxuICovXG5jbGFzcyBEcmFnWm9vbSBleHRlbmRzIERyYWdCb3gge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIGNvbnN0IGNvbmRpdGlvbiA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiBzaGlmdEtleU9ubHk7XG5cbiAgICBzdXBlcih7XG4gICAgICBjb25kaXRpb246IGNvbmRpdGlvbixcbiAgICAgIGNsYXNzTmFtZTogb3B0aW9ucy5jbGFzc05hbWUgfHwgJ29sLWRyYWd6b29tJyxcbiAgICAgIG1pbkFyZWE6IG9wdGlvbnMubWluQXJlYSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyMDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMub3V0XyA9IG9wdGlvbnMub3V0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm91dCA6IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRvIGV4ZWN1dGUganVzdCBiZWZvcmUgYG9uYm94ZW5kYCBpcyBmaXJlZFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBFdmVudC5cbiAgICovXG4gIG9uQm94RW5kKGV2ZW50KSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5nZXRNYXAoKTtcbiAgICBjb25zdCB2aWV3ID0gLyoqIEB0eXBlIHshaW1wb3J0KFwiLi4vVmlldy5qc1wiKS5kZWZhdWx0fSAqLyAobWFwLmdldFZpZXcoKSk7XG4gICAgbGV0IGdlb21ldHJ5ID0gdGhpcy5nZXRHZW9tZXRyeSgpO1xuXG4gICAgaWYgKHRoaXMub3V0Xykge1xuICAgICAgY29uc3Qgcm90YXRlZEV4dGVudCA9IHZpZXcucm90YXRlZEV4dGVudEZvckdlb21ldHJ5KGdlb21ldHJ5KTtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSB2aWV3LmdldFJlc29sdXRpb25Gb3JFeHRlbnRJbnRlcm5hbChyb3RhdGVkRXh0ZW50KTtcbiAgICAgIGNvbnN0IGZhY3RvciA9IHZpZXcuZ2V0UmVzb2x1dGlvbigpIC8gcmVzb2x1dGlvbjtcbiAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cnkuY2xvbmUoKTtcbiAgICAgIGdlb21ldHJ5LnNjYWxlKGZhY3RvciAqIGZhY3Rvcik7XG4gICAgfVxuXG4gICAgdmlldy5maXRJbnRlcm5hbChnZW9tZXRyeSwge1xuICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb25fLFxuICAgICAgZWFzaW5nOiBlYXNlT3V0LFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERyYWdab29tO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0tleWJvYXJkUGFuXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW50ZXJhY3Rpb24sIHtwYW59IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IEtleUNvZGUgZnJvbSAnLi4vZXZlbnRzL0tleUNvZGUuanMnO1xuaW1wb3J0IHtub01vZGlmaWVyS2V5cywgdGFyZ2V0Tm90RWRpdGFibGV9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuaW1wb3J0IHtyb3RhdGUgYXMgcm90YXRlQ29vcmRpbmF0ZX0gZnJvbSAnLi4vY29vcmRpbmF0ZS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0XG4gKiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLiBEZWZhdWx0IGlzXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24ubm9Nb2RpZmllcktleXN9IGFuZFxuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9uLnRhcmdldE5vdEVkaXRhYmxlfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MTAwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtwaXhlbERlbHRhPTEyOF0gVGhlIGFtb3VudCBvZiBwaXhlbHMgdG8gcGFuIG9uIGVhY2gga2V5XG4gKiBwcmVzcy5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byBwYW4gdGhlIG1hcCB1c2luZyBrZXlib2FyZCBhcnJvd3MuXG4gKiBOb3RlIHRoYXQsIGFsdGhvdWdoIHRoaXMgaW50ZXJhY3Rpb24gaXMgYnkgZGVmYXVsdCBpbmNsdWRlZCBpbiBtYXBzLFxuICogdGhlIGtleXMgY2FuIG9ubHkgYmUgdXNlZCB3aGVuIGJyb3dzZXIgZm9jdXMgaXMgb24gdGhlIGVsZW1lbnQgdG8gd2hpY2hcbiAqIHRoZSBrZXlib2FyZCBldmVudHMgYXJlIGF0dGFjaGVkLiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSBtYXAgZGl2LFxuICogdGhvdWdoIHlvdSBjYW4gY2hhbmdlIHRoaXMgd2l0aCB0aGUgYGtleWJvYXJkRXZlbnRUYXJnZXRgIGluXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9LiBgZG9jdW1lbnRgIG5ldmVyIGxvc2VzIGZvY3VzIGJ1dCwgZm9yIGFueSBvdGhlclxuICogZWxlbWVudCwgZm9jdXMgd2lsbCBoYXZlIHRvIGJlIG9uLCBhbmQgcmV0dXJuZWQgdG8sIHRoaXMgZWxlbWVudCBpZiB0aGUga2V5c1xuICogYXJlIHRvIGZ1bmN0aW9uLlxuICogU2VlIGFsc28ge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21+S2V5Ym9hcmRab29tfS5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgS2V5Ym9hcmRQYW4gZXh0ZW5kcyBJbnRlcmFjdGlvbiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEJyb3dzZXIgZXZlbnQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29tYmluZWQgY29uZGl0aW9uIHJlc3VsdC5cbiAgICAgKi9cbiAgICB0aGlzLmRlZmF1bHRDb25kaXRpb25fID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgbm9Nb2RpZmllcktleXMobWFwQnJvd3NlckV2ZW50KSAmJiB0YXJnZXROb3RFZGl0YWJsZShtYXBCcm93c2VyRXZlbnQpXG4gICAgICApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbmRpdGlvbl8gPVxuICAgICAgb3B0aW9ucy5jb25kaXRpb24gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMuY29uZGl0aW9uXG4gICAgICAgIDogdGhpcy5kZWZhdWx0Q29uZGl0aW9uXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAxMDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5waXhlbERlbHRhXyA9XG4gICAgICBvcHRpb25zLnBpeGVsRGVsdGEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGl4ZWxEZWx0YSA6IDEyODtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IGlmIGl0IHdhcyBhXG4gICAqIGBLZXlFdmVudGAsIGFuZCBkZWNpZGVzIHRoZSBkaXJlY3Rpb24gdG8gcGFuIHRvIChpZiBhbiBhcnJvdyBrZXkgd2FzXG4gICAqIHByZXNzZWQpLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICovXG4gIGhhbmRsZUV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGxldCBzdG9wRXZlbnQgPSBmYWxzZTtcbiAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gRXZlbnRUeXBlLktFWURPV04pIHtcbiAgICAgIGNvbnN0IGtleUV2ZW50ID0gLyoqIEB0eXBlIHtLZXlib2FyZEV2ZW50fSAqLyAoXG4gICAgICAgIG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50XG4gICAgICApO1xuICAgICAgY29uc3Qga2V5Q29kZSA9IGtleUV2ZW50LmtleUNvZGU7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuY29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpICYmXG4gICAgICAgIChrZXlDb2RlID09IEtleUNvZGUuRE9XTiB8fFxuICAgICAgICAgIGtleUNvZGUgPT0gS2V5Q29kZS5MRUZUIHx8XG4gICAgICAgICAga2V5Q29kZSA9PSBLZXlDb2RlLlJJR0hUIHx8XG4gICAgICAgICAga2V5Q29kZSA9PSBLZXlDb2RlLlVQKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICBjb25zdCBtYXBVbml0c0RlbHRhID0gdmlldy5nZXRSZXNvbHV0aW9uKCkgKiB0aGlzLnBpeGVsRGVsdGFfO1xuICAgICAgICBsZXQgZGVsdGFYID0gMCxcbiAgICAgICAgICBkZWx0YVkgPSAwO1xuICAgICAgICBpZiAoa2V5Q29kZSA9PSBLZXlDb2RlLkRPV04pIHtcbiAgICAgICAgICBkZWx0YVkgPSAtbWFwVW5pdHNEZWx0YTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXlDb2RlID09IEtleUNvZGUuTEVGVCkge1xuICAgICAgICAgIGRlbHRhWCA9IC1tYXBVbml0c0RlbHRhO1xuICAgICAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT0gS2V5Q29kZS5SSUdIVCkge1xuICAgICAgICAgIGRlbHRhWCA9IG1hcFVuaXRzRGVsdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsdGFZID0gbWFwVW5pdHNEZWx0YTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWx0YSA9IFtkZWx0YVgsIGRlbHRhWV07XG4gICAgICAgIHJvdGF0ZUNvb3JkaW5hdGUoZGVsdGEsIHZpZXcuZ2V0Um90YXRpb24oKSk7XG4gICAgICAgIHBhbih2aWV3LCBkZWx0YSwgdGhpcy5kdXJhdGlvbl8pO1xuICAgICAgICBrZXlFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBzdG9wRXZlbnQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gIXN0b3BFdmVudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBLZXlib2FyZFBhbjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9ldmVudHMvS2V5Q29kZVxuICovXG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqIEBjb25zdFxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIExFRlQ6IDM3LFxuICBVUDogMzgsXG4gIFJJR0hUOiAzOSxcbiAgRE9XTjogNDAsXG59O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbVxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEludGVyYWN0aW9uLCB7em9vbUJ5RGVsdGF9IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IHt0YXJnZXROb3RFZGl0YWJsZX0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0xMDBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXRcbiAqIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYVxuICogYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuIERlZmF1bHQgaXNcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbi50YXJnZXROb3RFZGl0YWJsZX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2RlbHRhPTFdIFRoZSB6b29tIGxldmVsIGRlbHRhIG9uIGVhY2gga2V5IHByZXNzLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCB1c2luZyBrZXlib2FyZCArIGFuZCAtLlxuICogTm90ZSB0aGF0LCBhbHRob3VnaCB0aGlzIGludGVyYWN0aW9uIGlzIGJ5IGRlZmF1bHQgaW5jbHVkZWQgaW4gbWFwcyxcbiAqIHRoZSBrZXlzIGNhbiBvbmx5IGJlIHVzZWQgd2hlbiBicm93c2VyIGZvY3VzIGlzIG9uIHRoZSBlbGVtZW50IHRvIHdoaWNoXG4gKiB0aGUga2V5Ym9hcmQgZXZlbnRzIGFyZSBhdHRhY2hlZC4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgbWFwIGRpdixcbiAqIHRob3VnaCB5b3UgY2FuIGNoYW5nZSB0aGlzIHdpdGggdGhlIGBrZXlib2FyZEV2ZW50VGFyZ2V0YCBpblxuICoge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwfS4gYGRvY3VtZW50YCBuZXZlciBsb3NlcyBmb2N1cyBidXQsIGZvciBhbnkgb3RoZXJcbiAqIGVsZW1lbnQsIGZvY3VzIHdpbGwgaGF2ZSB0byBiZSBvbiwgYW5kIHJldHVybmVkIHRvLCB0aGlzIGVsZW1lbnQgaWYgdGhlIGtleXNcbiAqIGFyZSB0byBmdW5jdGlvbi5cbiAqIFNlZSBhbHNvIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW5+S2V5Ym9hcmRQYW59LlxuICogQGFwaVxuICovXG5jbGFzcyBLZXlib2FyZFpvb20gZXh0ZW5kcyBJbnRlcmFjdGlvbiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMuY29uZGl0aW9uID8gb3B0aW9ucy5jb25kaXRpb24gOiB0YXJnZXROb3RFZGl0YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmRlbHRhXyA9IG9wdGlvbnMuZGVsdGEgPyBvcHRpb25zLmRlbHRhIDogMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAxMDA7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSBpZiBpdCB3YXMgYVxuICAgKiBgS2V5RXZlbnRgLCBhbmQgZGVjaWRlcyB3aGV0aGVyIHRvIHpvb20gaW4gb3Igb3V0IChkZXBlbmRpbmcgb24gd2hldGhlciB0aGVcbiAgICoga2V5IHByZXNzZWQgd2FzICcrJyBvciAnLScpLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICovXG4gIGhhbmRsZUV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGxldCBzdG9wRXZlbnQgPSBmYWxzZTtcbiAgICBpZiAoXG4gICAgICBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBFdmVudFR5cGUuS0VZRE9XTiB8fFxuICAgICAgbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gRXZlbnRUeXBlLktFWVBSRVNTXG4gICAgKSB7XG4gICAgICBjb25zdCBrZXlFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudH0gKi8gKFxuICAgICAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGNoYXJDb2RlID0ga2V5RXZlbnQuY2hhckNvZGU7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuY29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpICYmXG4gICAgICAgIChjaGFyQ29kZSA9PSAnKycuY2hhckNvZGVBdCgwKSB8fCBjaGFyQ29kZSA9PSAnLScuY2hhckNvZGVBdCgwKSlcbiAgICAgICkge1xuICAgICAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICBjb25zdCBkZWx0YSA9XG4gICAgICAgICAgY2hhckNvZGUgPT0gJysnLmNoYXJDb2RlQXQoMCkgPyB0aGlzLmRlbHRhXyA6IC10aGlzLmRlbHRhXztcbiAgICAgICAgY29uc3QgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICAgIHpvb21CeURlbHRhKHZpZXcsIGRlbHRhLCB1bmRlZmluZWQsIHRoaXMuZHVyYXRpb25fKTtcbiAgICAgICAga2V5RXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc3RvcEV2ZW50ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICFzdG9wRXZlbnQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgS2V5Ym9hcmRab29tO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL01vdXNlV2hlZWxab29tXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW50ZXJhY3Rpb24sIHt6b29tQnlEZWx0YX0gZnJvbSAnLi9JbnRlcmFjdGlvbi5qcyc7XG5pbXBvcnQge0RFVklDRV9QSVhFTF9SQVRJTywgRklSRUZPWH0gZnJvbSAnLi4vaGFzLmpzJztcbmltcG9ydCB7YWxsLCBhbHdheXMsIGZvY3VzV2l0aFRhYmluZGV4fSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbmltcG9ydCB7Y2xhbXB9IGZyb20gJy4uL21hdGguanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHsndHJhY2twYWQnIHwgJ3doZWVsJ30gTW9kZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0XG4gKiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLiBEZWZhdWx0IGlzXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24uYWx3YXlzfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29uRm9jdXNPbmx5PWZhbHNlXSBXaGVuIHRoZSBtYXAncyB0YXJnZXQgaGFzIGEgYHRhYmluZGV4YCBhdHRyaWJ1dGUgc2V0LFxuICogdGhlIGludGVyYWN0aW9uIHdpbGwgb25seSBoYW5kbGUgZXZlbnRzIHdoZW4gdGhlIG1hcCBoYXMgdGhlIGZvY3VzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhEZWx0YT0xXSBNYXhpbXVtIG1vdXNlIHdoZWVsIGRlbHRhLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0yNTBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RpbWVvdXQ9ODBdIE1vdXNlIHdoZWVsIHRpbWVvdXQgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXNlQW5jaG9yPXRydWVdIEVuYWJsZSB6b29taW5nIHVzaW5nIHRoZSBtb3VzZSdzXG4gKiBsb2NhdGlvbiBhcyB0aGUgYW5jaG9yLiBXaGVuIHNldCB0byBgZmFsc2VgLCB6b29taW5nIGluIGFuZCBvdXQgd2lsbCB6b29tIHRvXG4gKiB0aGUgY2VudGVyIG9mIHRoZSBzY3JlZW4gaW5zdGVhZCBvZiB6b29taW5nIG9uIHRoZSBtb3VzZSdzIGxvY2F0aW9uLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY29uc3RyYWluUmVzb2x1dGlvbj1mYWxzZV0gSWYgdHJ1ZSwgdGhlIG1vdXNlIHdoZWVsIHpvb21cbiAqIGV2ZW50IHdpbGwgYWx3YXlzIGFuaW1hdGUgdG8gdGhlIGNsb3Nlc3Qgem9vbSBsZXZlbCBhZnRlciBhbiBpbnRlcmFjdGlvbjtcbiAqIGZhbHNlIG1lYW5zIGludGVybWVkaWFyeSB6b29tIGxldmVscyBhcmUgYWxsb3dlZC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgYnkgc2Nyb2xsaW5nIHRoZSBtb3VzZSB3aGVlbC5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgTW91c2VXaGVlbFpvb20gZXh0ZW5kcyBJbnRlcmFjdGlvbiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gICAgc3VwZXIoXG4gICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vSW50ZXJhY3Rpb24uanNcIikuSW50ZXJhY3Rpb25PcHRpb25zfSAqLyAob3B0aW9ucylcbiAgICApO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudG90YWxEZWx0YV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGFzdERlbHRhXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhEZWx0YV8gPSBvcHRpb25zLm1heERlbHRhICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1heERlbHRhIDogMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50aW1lb3V0XyA9IG9wdGlvbnMudGltZW91dCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aW1lb3V0IDogODA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMudXNlQW5jaG9yXyA9XG4gICAgICBvcHRpb25zLnVzZUFuY2hvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy51c2VBbmNob3IgOiB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnN0cmFpblJlc29sdXRpb25fID1cbiAgICAgIG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy5jb25zdHJhaW5SZXNvbHV0aW9uXG4gICAgICAgIDogZmFsc2U7XG5cbiAgICBjb25zdCBjb25kaXRpb24gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogYWx3YXlzO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICovXG4gICAgdGhpcy5jb25kaXRpb25fID0gb3B0aW9ucy5vbkZvY3VzT25seVxuICAgICAgPyBhbGwoZm9jdXNXaXRoVGFiaW5kZXgsIGNvbmRpdGlvbilcbiAgICAgIDogY29uZGl0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmxhc3RBbmNob3JfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5zdGFydFRpbWVfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P31cbiAgICAgKi9cbiAgICB0aGlzLnRpbWVvdXRJZF87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtNb2RlfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLm1vZGVfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogVHJhY2twYWQgZXZlbnRzIHNlcGFyYXRlZCBieSB0aGlzIGRlbGF5IHdpbGwgYmUgY29uc2lkZXJlZCBzZXBhcmF0ZVxuICAgICAqIGludGVyYWN0aW9ucy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudHJhY2twYWRFdmVudEdhcF8gPSA0MDA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7P31cbiAgICAgKi9cbiAgICB0aGlzLnRyYWNrcGFkVGltZW91dElkXztcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZGVsdGEgdmFsdWVzIHBlciB6b29tIGxldmVsXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGVsdGFQZXJab29tXyA9IDMwMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZW5kSW50ZXJhY3Rpb25fKCkge1xuICAgIHRoaXMudHJhY2twYWRUaW1lb3V0SWRfID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgaWYgKCFtYXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgdmlldy5lbmRJbnRlcmFjdGlvbihcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHRoaXMubGFzdERlbHRhXyA/ICh0aGlzLmxhc3REZWx0YV8gPiAwID8gMSA6IC0xKSA6IDAsXG4gICAgICB0aGlzLmxhc3RBbmNob3JfXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9IChpZiBpdCB3YXMgYSBtb3VzZXdoZWVsLWV2ZW50KSBhbmQgZXZlbnR1YWxseVxuICAgKiB6b29tcyB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICovXG4gIGhhbmRsZUV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICghdGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB0eXBlID0gbWFwQnJvd3NlckV2ZW50LnR5cGU7XG4gICAgaWYgKHR5cGUgIT09IEV2ZW50VHlwZS5XSEVFTCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICBjb25zdCB3aGVlbEV2ZW50ID0gLyoqIEB0eXBlIHtXaGVlbEV2ZW50fSAqLyAoXG4gICAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICAgICk7XG4gICAgd2hlZWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKHRoaXMudXNlQW5jaG9yXykge1xuICAgICAgdGhpcy5sYXN0QW5jaG9yXyA9IG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlO1xuICAgIH1cblxuICAgIC8vIERlbHRhIG5vcm1hbGlzYXRpb24gaW5zcGlyZWQgYnlcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9ibG9iLzAwMWM3YjkvanMvdWkvaGFuZGxlci9zY3JvbGxfem9vbS5qc1xuICAgIGxldCBkZWx0YTtcbiAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gRXZlbnRUeXBlLldIRUVMKSB7XG4gICAgICBkZWx0YSA9IHdoZWVsRXZlbnQuZGVsdGFZO1xuICAgICAgaWYgKEZJUkVGT1ggJiYgd2hlZWxFdmVudC5kZWx0YU1vZGUgPT09IFdoZWVsRXZlbnQuRE9NX0RFTFRBX1BJWEVMKSB7XG4gICAgICAgIGRlbHRhIC89IERFVklDRV9QSVhFTF9SQVRJTztcbiAgICAgIH1cbiAgICAgIGlmICh3aGVlbEV2ZW50LmRlbHRhTW9kZSA9PT0gV2hlZWxFdmVudC5ET01fREVMVEFfTElORSkge1xuICAgICAgICBkZWx0YSAqPSA0MDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGVsdGEgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5sYXN0RGVsdGFfID0gZGVsdGE7XG5cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgaWYgKHRoaXMuc3RhcnRUaW1lXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnN0YXJ0VGltZV8gPSBub3c7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1vZGVfIHx8IG5vdyAtIHRoaXMuc3RhcnRUaW1lXyA+IHRoaXMudHJhY2twYWRFdmVudEdhcF8pIHtcbiAgICAgIHRoaXMubW9kZV8gPSBNYXRoLmFicyhkZWx0YSkgPCA0ID8gJ3RyYWNrcGFkJyA6ICd3aGVlbCc7XG4gICAgfVxuXG4gICAgY29uc3QgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgaWYgKFxuICAgICAgdGhpcy5tb2RlXyA9PT0gJ3RyYWNrcGFkJyAmJlxuICAgICAgISh2aWV3LmdldENvbnN0cmFpblJlc29sdXRpb24oKSB8fCB0aGlzLmNvbnN0cmFpblJlc29sdXRpb25fKVxuICAgICkge1xuICAgICAgaWYgKHRoaXMudHJhY2twYWRUaW1lb3V0SWRfKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRyYWNrcGFkVGltZW91dElkXyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodmlldy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgICAgIHZpZXcuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXcuYmVnaW5JbnRlcmFjdGlvbigpO1xuICAgICAgfVxuICAgICAgdGhpcy50cmFja3BhZFRpbWVvdXRJZF8gPSBzZXRUaW1lb3V0KFxuICAgICAgICB0aGlzLmVuZEludGVyYWN0aW9uXy5iaW5kKHRoaXMpLFxuICAgICAgICB0aGlzLnRpbWVvdXRfXG4gICAgICApO1xuICAgICAgdmlldy5hZGp1c3Rab29tKC1kZWx0YSAvIHRoaXMuZGVsdGFQZXJab29tXywgdGhpcy5sYXN0QW5jaG9yXyk7XG4gICAgICB0aGlzLnN0YXJ0VGltZV8gPSBub3c7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy50b3RhbERlbHRhXyArPSBkZWx0YTtcblxuICAgIGNvbnN0IHRpbWVMZWZ0ID0gTWF0aC5tYXgodGhpcy50aW1lb3V0XyAtIChub3cgLSB0aGlzLnN0YXJ0VGltZV8pLCAwKTtcblxuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZF8pO1xuICAgIHRoaXMudGltZW91dElkXyA9IHNldFRpbWVvdXQoXG4gICAgICB0aGlzLmhhbmRsZVdoZWVsWm9vbV8uYmluZCh0aGlzLCBtYXApLFxuICAgICAgdGltZUxlZnRcbiAgICApO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAqL1xuICBoYW5kbGVXaGVlbFpvb21fKG1hcCkge1xuICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIGlmICh2aWV3LmdldEFuaW1hdGluZygpKSB7XG4gICAgICB2aWV3LmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICB9XG4gICAgbGV0IGRlbHRhID1cbiAgICAgIC1jbGFtcChcbiAgICAgICAgdGhpcy50b3RhbERlbHRhXyxcbiAgICAgICAgLXRoaXMubWF4RGVsdGFfICogdGhpcy5kZWx0YVBlclpvb21fLFxuICAgICAgICB0aGlzLm1heERlbHRhXyAqIHRoaXMuZGVsdGFQZXJab29tX1xuICAgICAgKSAvIHRoaXMuZGVsdGFQZXJab29tXztcbiAgICBpZiAodmlldy5nZXRDb25zdHJhaW5SZXNvbHV0aW9uKCkgfHwgdGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uXykge1xuICAgICAgLy8gdmlldyBoYXMgYSB6b29tIGNvbnN0cmFpbnQsIHpvb20gYnkgMVxuICAgICAgZGVsdGEgPSBkZWx0YSA/IChkZWx0YSA+IDAgPyAxIDogLTEpIDogMDtcbiAgICB9XG4gICAgem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIHRoaXMubGFzdEFuY2hvcl8sIHRoaXMuZHVyYXRpb25fKTtcblxuICAgIHRoaXMubW9kZV8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy50b3RhbERlbHRhXyA9IDA7XG4gICAgdGhpcy5sYXN0QW5jaG9yXyA9IG51bGw7XG4gICAgdGhpcy5zdGFydFRpbWVfID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudGltZW91dElkXyA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSB1c2luZyB0aGUgbW91c2UncyBsb2NhdGlvbiBhcyBhbiBhbmNob3Igd2hlbiB6b29taW5nXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlQW5jaG9yIHRydWUgdG8gem9vbSB0byB0aGUgbW91c2UncyBsb2NhdGlvbiwgZmFsc2VcbiAgICogdG8gem9vbSB0byB0aGUgY2VudGVyIG9mIHRoZSBtYXBcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TW91c2VBbmNob3IodXNlQW5jaG9yKSB7XG4gICAgdGhpcy51c2VBbmNob3JfID0gdXNlQW5jaG9yO1xuICAgIGlmICghdXNlQW5jaG9yKSB7XG4gICAgICB0aGlzLmxhc3RBbmNob3JfID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW91c2VXaGVlbFpvb207XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUGluY2hSb3RhdGVcbiAqL1xuaW1wb3J0IFBvaW50ZXJJbnRlcmFjdGlvbiwge1xuICBjZW50cm9pZCBhcyBjZW50cm9pZEZyb21Qb2ludGVycyxcbn0gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCB7RkFMU0V9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge2Rpc2FibGV9IGZyb20gJy4uL3JvdGF0aW9uY29uc3RyYWludC5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0yNTBdIFRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluXG4gKiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RocmVzaG9sZD0wLjNdIE1pbmltYWwgYW5nbGUgaW4gcmFkaWFucyB0byBzdGFydCBhIHJvdGF0aW9uLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHJvdGF0ZSB0aGUgbWFwIGJ5IHR3aXN0aW5nIHdpdGggdHdvIGZpbmdlcnNcbiAqIG9uIGEgdG91Y2ggc2NyZWVuLlxuICogQGFwaVxuICovXG5jbGFzcyBQaW5jaFJvdGF0ZSBleHRlbmRzIFBvaW50ZXJJbnRlcmFjdGlvbiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gICAgY29uc3QgcG9pbnRlck9wdGlvbnMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vUG9pbnRlci5qc1wiKS5PcHRpb25zfSAqLyAoXG4gICAgICBvcHRpb25zXG4gICAgKTtcblxuICAgIGlmICghcG9pbnRlck9wdGlvbnMuc3RvcERvd24pIHtcbiAgICAgIHBvaW50ZXJPcHRpb25zLnN0b3BEb3duID0gRkFMU0U7XG4gICAgfVxuXG4gICAgc3VwZXIocG9pbnRlck9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqL1xuICAgIHRoaXMuYW5jaG9yXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMubGFzdEFuZ2xlXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yb3RhdGluZ18gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0aW9uRGVsdGFfID0gMC4wO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGhyZXNob2xkXyA9IG9wdGlvbnMudGhyZXNob2xkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRocmVzaG9sZCA6IDAuMztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAyNTA7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICovXG4gIGhhbmRsZURyYWdFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBsZXQgcm90YXRpb25EZWx0YSA9IDAuMDtcblxuICAgIGNvbnN0IHRvdWNoMCA9IHRoaXMudGFyZ2V0UG9pbnRlcnNbMF07XG4gICAgY29uc3QgdG91Y2gxID0gdGhpcy50YXJnZXRQb2ludGVyc1sxXTtcblxuICAgIC8vIGFuZ2xlIGJldHdlZW4gdG91Y2hlc1xuICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihcbiAgICAgIHRvdWNoMS5jbGllbnRZIC0gdG91Y2gwLmNsaWVudFksXG4gICAgICB0b3VjaDEuY2xpZW50WCAtIHRvdWNoMC5jbGllbnRYXG4gICAgKTtcblxuICAgIGlmICh0aGlzLmxhc3RBbmdsZV8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgZGVsdGEgPSBhbmdsZSAtIHRoaXMubGFzdEFuZ2xlXztcbiAgICAgIHRoaXMucm90YXRpb25EZWx0YV8gKz0gZGVsdGE7XG4gICAgICBpZiAoIXRoaXMucm90YXRpbmdfICYmIE1hdGguYWJzKHRoaXMucm90YXRpb25EZWx0YV8pID4gdGhpcy50aHJlc2hvbGRfKSB7XG4gICAgICAgIHRoaXMucm90YXRpbmdfID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJvdGF0aW9uRGVsdGEgPSBkZWx0YTtcbiAgICB9XG4gICAgdGhpcy5sYXN0QW5nbGVfID0gYW5nbGU7XG5cbiAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIGlmICh2aWV3LmdldENvbnN0cmFpbnRzKCkucm90YXRpb24gPT09IGRpc2FibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyByb3RhdGUgYW5jaG9yIHBvaW50LlxuICAgIC8vIEZJWE1FOiBzaG91bGQgYmUgdGhlIGludGVyc2VjdGlvbiBwb2ludCBiZXR3ZWVuIHRoZSBsaW5lczpcbiAgICAvLyAgICAgdG91Y2gwLHRvdWNoMSBhbmQgcHJldmlvdXNUb3VjaDAscHJldmlvdXNUb3VjaDFcbiAgICB0aGlzLmFuY2hvcl8gPSBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKFxuICAgICAgbWFwLmdldEV2ZW50UGl4ZWwoY2VudHJvaWRGcm9tUG9pbnRlcnModGhpcy50YXJnZXRQb2ludGVycykpXG4gICAgKTtcblxuICAgIC8vIHJvdGF0ZVxuICAgIGlmICh0aGlzLnJvdGF0aW5nXykge1xuICAgICAgbWFwLnJlbmRlcigpO1xuICAgICAgdmlldy5hZGp1c3RSb3RhdGlvbkludGVybmFsKHJvdGF0aW9uRGVsdGEsIHRoaXMuYW5jaG9yXyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgKi9cbiAgaGFuZGxlVXBFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPCAyKSB7XG4gICAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgY29uc3QgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICB2aWV3LmVuZEludGVyYWN0aW9uKHRoaXMuZHVyYXRpb25fKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgZG93biBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICovXG4gIGhhbmRsZURvd25FdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPj0gMikge1xuICAgICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgIHRoaXMuYW5jaG9yXyA9IG51bGw7XG4gICAgICB0aGlzLmxhc3RBbmdsZV8gPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnJvdGF0aW5nXyA9IGZhbHNlO1xuICAgICAgdGhpcy5yb3RhdGlvbkRlbHRhXyA9IDAuMDtcbiAgICAgIGlmICghdGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlKSB7XG4gICAgICAgIG1hcC5nZXRWaWV3KCkuYmVnaW5JbnRlcmFjdGlvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQaW5jaFJvdGF0ZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9QaW5jaFpvb21cbiAqL1xuaW1wb3J0IFBvaW50ZXJJbnRlcmFjdGlvbiwge1xuICBjZW50cm9pZCBhcyBjZW50cm9pZEZyb21Qb2ludGVycyxcbn0gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCB7RkFMU0V9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj00MDBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gem9vbSB0aGUgbWFwIGJ5IHBpbmNoaW5nIHdpdGggdHdvIGZpbmdlcnNcbiAqIG9uIGEgdG91Y2ggc2NyZWVuLlxuICogQGFwaVxuICovXG5jbGFzcyBQaW5jaFpvb20gZXh0ZW5kcyBQb2ludGVySW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIGNvbnN0IHBvaW50ZXJPcHRpb25zID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1BvaW50ZXIuanNcIikuT3B0aW9uc30gKi8gKFxuICAgICAgb3B0aW9uc1xuICAgICk7XG5cbiAgICBpZiAoIXBvaW50ZXJPcHRpb25zLnN0b3BEb3duKSB7XG4gICAgICBwb2ludGVyT3B0aW9ucy5zdG9wRG93biA9IEZBTFNFO1xuICAgIH1cblxuICAgIHN1cGVyKHBvaW50ZXJPcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmFuY2hvcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDQwMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5sYXN0RGlzdGFuY2VfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGFzdFNjYWxlRGVsdGFfID0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBkcmFnIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKi9cbiAgaGFuZGxlRHJhZ0V2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGxldCBzY2FsZURlbHRhID0gMS4wO1xuXG4gICAgY29uc3QgdG91Y2gwID0gdGhpcy50YXJnZXRQb2ludGVyc1swXTtcbiAgICBjb25zdCB0b3VjaDEgPSB0aGlzLnRhcmdldFBvaW50ZXJzWzFdO1xuICAgIGNvbnN0IGR4ID0gdG91Y2gwLmNsaWVudFggLSB0b3VjaDEuY2xpZW50WDtcbiAgICBjb25zdCBkeSA9IHRvdWNoMC5jbGllbnRZIC0gdG91Y2gxLmNsaWVudFk7XG5cbiAgICAvLyBkaXN0YW5jZSBiZXR3ZWVuIHRvdWNoZXNcbiAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgICBpZiAodGhpcy5sYXN0RGlzdGFuY2VfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNjYWxlRGVsdGEgPSB0aGlzLmxhc3REaXN0YW5jZV8gLyBkaXN0YW5jZTtcbiAgICB9XG4gICAgdGhpcy5sYXN0RGlzdGFuY2VfID0gZGlzdGFuY2U7XG5cbiAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuXG4gICAgaWYgKHNjYWxlRGVsdGEgIT0gMS4wKSB7XG4gICAgICB0aGlzLmxhc3RTY2FsZURlbHRhXyA9IHNjYWxlRGVsdGE7XG4gICAgfVxuXG4gICAgLy8gc2NhbGUgYW5jaG9yIHBvaW50LlxuICAgIHRoaXMuYW5jaG9yXyA9IG1hcC5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwoXG4gICAgICBtYXAuZ2V0RXZlbnRQaXhlbChjZW50cm9pZEZyb21Qb2ludGVycyh0aGlzLnRhcmdldFBvaW50ZXJzKSlcbiAgICApO1xuXG4gICAgLy8gc2NhbGUsIGJ5cGFzcyB0aGUgcmVzb2x1dGlvbiBjb25zdHJhaW50XG4gICAgbWFwLnJlbmRlcigpO1xuICAgIHZpZXcuYWRqdXN0UmVzb2x1dGlvbkludGVybmFsKHNjYWxlRGVsdGEsIHRoaXMuYW5jaG9yXyk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAqL1xuICBoYW5kbGVVcEV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICh0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA8IDIpIHtcbiAgICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMubGFzdFNjYWxlRGVsdGFfID4gMSA/IDEgOiAtMTtcbiAgICAgIHZpZXcuZW5kSW50ZXJhY3Rpb24odGhpcy5kdXJhdGlvbl8sIGRpcmVjdGlvbik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAqL1xuICBoYW5kbGVEb3duRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID49IDIpIHtcbiAgICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICB0aGlzLmFuY2hvcl8gPSBudWxsO1xuICAgICAgdGhpcy5sYXN0RGlzdGFuY2VfID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5sYXN0U2NhbGVEZWx0YV8gPSAxO1xuICAgICAgaWYgKCF0aGlzLmhhbmRsaW5nRG93blVwU2VxdWVuY2UpIHtcbiAgICAgICAgbWFwLmdldFZpZXcoKS5iZWdpbkludGVyYWN0aW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBpbmNoWm9vbTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi9PYmplY3QuanMnO1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uRXZlbnRUeXBlIGZyb20gJy4vQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgQ29tcG9zaXRlTWFwUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlci9Db21wb3NpdGUuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IExheWVyIGZyb20gJy4vbGF5ZXIvTGF5ZXIuanMnO1xuaW1wb3J0IExheWVyR3JvdXAsIHtHcm91cEV2ZW50fSBmcm9tICcuL2xheWVyL0dyb3VwLmpzJztcbmltcG9ydCBNYXBCcm93c2VyRXZlbnQgZnJvbSAnLi9NYXBCcm93c2VyRXZlbnQuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudEhhbmRsZXIgZnJvbSAnLi9NYXBCcm93c2VyRXZlbnRIYW5kbGVyLmpzJztcbmltcG9ydCBNYXBCcm93c2VyRXZlbnRUeXBlIGZyb20gJy4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgTWFwRXZlbnQgZnJvbSAnLi9NYXBFdmVudC5qcyc7XG5pbXBvcnQgTWFwRXZlbnRUeXBlIGZyb20gJy4vTWFwRXZlbnRUeXBlLmpzJztcbmltcG9ydCBNYXBQcm9wZXJ0eSBmcm9tICcuL01hcFByb3BlcnR5LmpzJztcbmltcG9ydCBPYmplY3RFdmVudFR5cGUgZnJvbSAnLi9PYmplY3RFdmVudFR5cGUuanMnO1xuaW1wb3J0IFBvaW50ZXJFdmVudFR5cGUgZnJvbSAnLi9wb2ludGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4vcmVuZGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGlsZVF1ZXVlLCB7Z2V0VGlsZVByaW9yaXR5fSBmcm9tICcuL1RpbGVRdWV1ZS5qcyc7XG5pbXBvcnQgVmlldyBmcm9tICcuL1ZpZXcuanMnO1xuaW1wb3J0IFZpZXdIaW50IGZyb20gJy4vVmlld0hpbnQuanMnO1xuaW1wb3J0IHtERVZJQ0VfUElYRUxfUkFUSU8sIFBBU1NJVkVfRVZFTlRfTElTVEVORVJTfSBmcm9tICcuL2hhcy5qcyc7XG5pbXBvcnQge1RSVUV9IGZyb20gJy4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7XG4gIGFwcGx5IGFzIGFwcGx5VHJhbnNmb3JtLFxuICBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLFxufSBmcm9tICcuL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7XG4gIGNsb25lLFxuICBjcmVhdGVPclVwZGF0ZUVtcHR5LFxuICBlcXVhbHMgYXMgZXF1YWxzRXh0ZW50LFxuICBnZXRGb3JWaWV3QW5kU2l6ZSxcbiAgaXNFbXB0eSxcbn0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHtkZWZhdWx0cyBhcyBkZWZhdWx0Q29udHJvbHN9IGZyb20gJy4vY29udHJvbC9kZWZhdWx0cy5qcyc7XG5pbXBvcnQge2RlZmF1bHRzIGFzIGRlZmF1bHRJbnRlcmFjdGlvbnN9IGZyb20gJy4vaW50ZXJhY3Rpb24vZGVmYXVsdHMuanMnO1xuaW1wb3J0IHtlcXVhbHN9IGZyb20gJy4vYXJyYXkuanMnO1xuaW1wb3J0IHtmcm9tVXNlckNvb3JkaW5hdGUsIHRvVXNlckNvb3JkaW5hdGV9IGZyb20gJy4vcHJvai5qcyc7XG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7aGFzQXJlYX0gZnJvbSAnLi9zaXplLmpzJztcbmltcG9ydCB7bGlzdGVuLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQge3JlbW92ZU5vZGV9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7d2Fybn0gZnJvbSAnLi9jb25zb2xlLmpzJztcblxuLyoqXG4gKiBTdGF0ZSBvZiB0aGUgY3VycmVudCBmcmFtZS4gT25seSBgcGl4ZWxSYXRpb2AsIGB0aW1lYCBhbmQgYHZpZXdTdGF0ZWAgc2hvdWxkXG4gKiBiZSB1c2VkIGluIGFwcGxpY2F0aW9ucy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZyYW1lU3RhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwaXhlbFJhdGlvIFRoZSBwaXhlbCByYXRpbyBvZiB0aGUgZnJhbWUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGltZSBUaGUgdGltZSB3aGVuIHJlbmRlcmluZyBvZiB0aGUgZnJhbWUgd2FzIHJlcXVlc3RlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9WaWV3LmpzXCIpLlN0YXRlfSB2aWV3U3RhdGUgVGhlIHN0YXRlIG9mIHRoZSBjdXJyZW50IHZpZXcuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuaW1hdGUgQW5pbWF0ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSBjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSBDb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwicmJ1c2hcIikuZGVmYXVsdH0gZGVjbHV0dGVyVHJlZSBEZWNsdXR0ZXJUcmVlLlxuICogQHByb3BlcnR5IHtudWxsfGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBbbmV4dEV4dGVudF0gTmV4dCBleHRlbnQgZHVyaW5nIGFuIGFuaW1hdGlvbiBzZXJpZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gaW5kZXggSW5kZXguXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuU3RhdGU+fSBsYXllclN0YXRlc0FycmF5IExheWVyU3RhdGVzQXJyYXkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGF5ZXJJbmRleCBMYXllckluZGV4LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtIFBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLlxuICogQHByb3BlcnR5IHtBcnJheTxQb3N0UmVuZGVyRnVuY3Rpb24+fSBwb3N0UmVuZGVyRnVuY3Rpb25zIFBvc3RSZW5kZXJGdW5jdGlvbnMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFNpemUuXG4gKiBAcHJvcGVydHkge1RpbGVRdWV1ZX0gdGlsZVF1ZXVlIFRpbGVRdWV1ZS5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIGJvb2xlYW4+Pn0gdXNlZFRpbGVzIFVzZWRUaWxlcy5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gdmlld0hpbnRzIFZpZXdIaW50cy5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIGJvb2xlYW4+Pn0gd2FudGVkVGlsZXMgV2FudGVkVGlsZXMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWFwSWQgVGhlIGlkIG9mIHRoZSBtYXAuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSByZW5kZXJUYXJnZXRzIElkZW50aWZpZXJzIG9mIHByZXZpb3VzbHkgcmVuZGVyZWQgZWxlbWVudHMuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oTWFwLCA/RnJhbWVTdGF0ZSk6IGFueX0gUG9zdFJlbmRlckZ1bmN0aW9uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBdFBpeGVsT3B0aW9uc1xuICogQHByb3BlcnR5IHt1bmRlZmluZWR8ZnVuY3Rpb24oaW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4vc291cmNlL1NvdXJjZVwiKS5kZWZhdWx0Pik6IGJvb2xlYW59IFtsYXllckZpbHRlcl0gTGF5ZXIgZmlsdGVyXG4gKiBmdW5jdGlvbi4gVGhlIGZpbHRlciBmdW5jdGlvbiB3aWxsIHJlY2VpdmUgb25lIGFyZ3VtZW50LCB0aGVcbiAqIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIgbGF5ZXItY2FuZGlkYXRlfSBhbmQgaXQgc2hvdWxkIHJldHVybiBhIGJvb2xlYW4gdmFsdWUuXG4gKiBPbmx5IGxheWVycyB3aGljaCBhcmUgdmlzaWJsZSBhbmQgZm9yIHdoaWNoIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWBcbiAqIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gQnkgZGVmYXVsdCwgYWxsIHZpc2libGUgbGF5ZXJzIHdpbGwgYmUgdGVzdGVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtoaXRUb2xlcmFuY2U9MF0gSGl0LWRldGVjdGlvbiB0b2xlcmFuY2UgaW4gY3NzIHBpeGVscy4gUGl4ZWxzXG4gKiBpbnNpZGUgdGhlIHJhZGl1cyBhcm91bmQgdGhlIGdpdmVuIHBvc2l0aW9uIHdpbGwgYmUgY2hlY2tlZCBmb3IgZmVhdHVyZXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjaGVja1dyYXBwZWQ9dHJ1ZV0gQ2hlY2stV3JhcHBlZCBXaWxsIGNoZWNrIGZvciB3cmFwcGVkIGdlb21ldHJpZXMgaW5zaWRlIHRoZSByYW5nZSBvZlxuICogICArLy0gMSB3b3JsZCB3aWR0aC4gV29ya3Mgb25seSBpZiBhIHByb2plY3Rpb24gaXMgdXNlZCB0aGF0IGNhbiBiZSB3cmFwcGVkLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTWFwT3B0aW9uc0ludGVybmFsXG4gKiBAcHJvcGVydHkge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD59IFtjb250cm9sc10gQ29udHJvbHMuXG4gKiBAcHJvcGVydHkge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn0gW2ludGVyYWN0aW9uc10gSW50ZXJhY3Rpb25zLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxEb2N1bWVudH0ga2V5Ym9hcmRFdmVudFRhcmdldCBLZXlib2FyZEV2ZW50VGFyZ2V0LlxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0Pn0gb3ZlcmxheXMgT3ZlcmxheXMuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsICo+fSB2YWx1ZXMgVmFsdWVzLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydChcIi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfCdjaGFuZ2U6bGF5ZXJncm91cCd8J2NoYW5nZTpzaXplJ3wnY2hhbmdlOnRhcmdldCd8J2NoYW5nZTp2aWV3J30gTWFwT2JqZWN0RXZlbnRUeXBlc1xuICovXG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPE1hcE9iamVjdEV2ZW50VHlwZXMsIGltcG9ydChcIi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL01hcEJyb3dzZXJFdmVudFR5cGVcIikuVHlwZXMsIGltcG9ydChcIi4vTWFwQnJvd3NlckV2ZW50XCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vTWFwRXZlbnRUeXBlXCIpLlR5cGVzLCBpbXBvcnQoXCIuL01hcEV2ZW50XCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5NYXBSZW5kZXJFdmVudFR5cGVzLCBpbXBvcnQoXCIuL3JlbmRlci9FdmVudFwiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfE1hcE9iamVjdEV2ZW50VHlwZXN8XG4gKiAgICAgIGltcG9ydChcIi4vTWFwQnJvd3NlckV2ZW50VHlwZVwiKS5UeXBlc3xpbXBvcnQoXCIuL01hcEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICAgaW1wb3J0KFwiLi9yZW5kZXIvRXZlbnRUeXBlXCIpLk1hcFJlbmRlckV2ZW50VHlwZXMsIFJldHVybj59IE1hcEV2ZW50SGFuZGxlclxuICovXG5cbi8qKlxuICogT2JqZWN0IGxpdGVyYWwgd2l0aCBjb25maWcgb3B0aW9ucyBmb3IgdGhlIG1hcC5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0PnxBcnJheTxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn0gW2NvbnRyb2xzXVxuICogQ29udHJvbHMgaW5pdGlhbGx5IGFkZGVkIHRvIHRoZSBtYXAuIElmIG5vdCBzcGVjaWZpZWQsXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvZGVmYXVsdHMuZGVmYXVsdHN9IGlzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BpeGVsUmF0aW89d2luZG93LmRldmljZVBpeGVsUmF0aW9dIFRoZSByYXRpbyBiZXR3ZWVuXG4gKiBwaHlzaWNhbCBwaXhlbHMgYW5kIGRldmljZS1pbmRlcGVuZGVudCBwaXhlbHMgKGRpcHMpIG9uIHRoZSBkZXZpY2UuXG4gKiBAcHJvcGVydHkge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0PnxBcnJheTxpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHQ+fSBbaW50ZXJhY3Rpb25zXVxuICogSW50ZXJhY3Rpb25zIHRoYXQgYXJlIGluaXRpYWxseSBhZGRlZCB0byB0aGUgbWFwLiBJZiBub3Qgc3BlY2lmaWVkLFxuICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9kZWZhdWx0cy5kZWZhdWx0c30gaXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR8c3RyaW5nfSBba2V5Ym9hcmRFdmVudFRhcmdldF0gVGhlIGVsZW1lbnQgdG9cbiAqIGxpc3RlbiB0byBrZXlib2FyZCBldmVudHMgb24uIFRoaXMgZGV0ZXJtaW5lcyB3aGVuIHRoZSBgS2V5Ym9hcmRQYW5gIGFuZFxuICogYEtleWJvYXJkWm9vbWAgaW50ZXJhY3Rpb25zIHRyaWdnZXIuIEZvciBleGFtcGxlLCBpZiB0aGlzIG9wdGlvbiBpcyBzZXQgdG9cbiAqIGBkb2N1bWVudGAgdGhlIGtleWJvYXJkIGludGVyYWN0aW9ucyB3aWxsIGFsd2F5cyB0cmlnZ2VyLiBJZiB0aGlzIG9wdGlvbiBpc1xuICogbm90IHNwZWNpZmllZCwgdGhlIGVsZW1lbnQgdGhlIGxpYnJhcnkgbGlzdGVucyB0byBrZXlib2FyZCBldmVudHMgb24gaXMgdGhlXG4gKiBtYXAgdGFyZ2V0IChpLmUuIHRoZSB1c2VyLXByb3ZpZGVkIGRpdiBmb3IgdGhlIG1hcCkuIElmIHRoaXMgaXMgbm90XG4gKiBgZG9jdW1lbnRgLCB0aGUgdGFyZ2V0IGVsZW1lbnQgbmVlZHMgdG8gYmUgZm9jdXNlZCBmb3Iga2V5IGV2ZW50cyB0byBiZVxuICogZW1pdHRlZCwgcmVxdWlyaW5nIHRoYXQgdGhlIHRhcmdldCBlbGVtZW50IGhhcyBhIGB0YWJpbmRleGAgYXR0cmlidXRlLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD58Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD58TGF5ZXJHcm91cH0gW2xheWVyc11cbiAqIExheWVycy4gSWYgdGhpcyBpcyBub3QgZGVmaW5lZCwgYSBtYXAgd2l0aCBubyBsYXllcnMgd2lsbCBiZSByZW5kZXJlZC4gTm90ZVxuICogdGhhdCBsYXllcnMgYXJlIHJlbmRlcmVkIGluIHRoZSBvcmRlciBzdXBwbGllZCwgc28gaWYgeW91IHdhbnQsIGZvciBleGFtcGxlLFxuICogYSB2ZWN0b3IgbGF5ZXIgdG8gYXBwZWFyIG9uIHRvcCBvZiBhIHRpbGUgbGF5ZXIsIGl0IG11c3QgY29tZSBhZnRlciB0aGUgdGlsZVxuICogbGF5ZXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFRpbGVzTG9hZGluZz0xNl0gTWF4aW11bSBudW1iZXIgdGlsZXMgdG8gbG9hZFxuICogc2ltdWx0YW5lb3VzbHkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21vdmVUb2xlcmFuY2U9MV0gVGhlIG1pbmltdW0gZGlzdGFuY2UgaW4gcGl4ZWxzIHRoZVxuICogY3Vyc29yIG11c3QgbW92ZSB0byBiZSBkZXRlY3RlZCBhcyBhIG1hcCBtb3ZlIGV2ZW50IGluc3RlYWQgb2YgYSBjbGljay5cbiAqIEluY3JlYXNpbmcgdGhpcyB2YWx1ZSBjYW4gbWFrZSBpdCBlYXNpZXIgdG8gY2xpY2sgb24gdGhlIG1hcC5cbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD58QXJyYXk8aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fSBbb3ZlcmxheXNdXG4gKiBPdmVybGF5cyBpbml0aWFsbHkgYWRkZWQgdG8gdGhlIG1hcC4gQnkgZGVmYXVsdCwgbm8gb3ZlcmxheXMgYXJlIGFkZGVkLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxzdHJpbmd9IFt0YXJnZXRdIFRoZSBjb250YWluZXIgZm9yIHRoZSBtYXAsIGVpdGhlciB0aGVcbiAqIGVsZW1lbnQgaXRzZWxmIG9yIHRoZSBgaWRgIG9mIHRoZSBlbGVtZW50LiBJZiBub3Qgc3BlY2lmaWVkIGF0IGNvbnN0cnVjdGlvblxuICogdGltZSwge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwI3NldFRhcmdldH0gbXVzdCBiZSBjYWxsZWQgZm9yIHRoZSBtYXAgdG8gYmVcbiAqIHJlbmRlcmVkLiBJZiBwYXNzZWQgYnkgZWxlbWVudCwgdGhlIGNvbnRhaW5lciBjYW4gYmUgaW4gYSBzZWNvbmRhcnkgZG9jdW1lbnQuXG4gKiAqKk5vdGU6KiogQ1NTIGB0cmFuc2Zvcm1gIHN1cHBvcnQgZm9yIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBsaW1pdGVkIHRvIGBzY2FsZWAuXG4gKiBAcHJvcGVydHkge1ZpZXd8UHJvbWlzZTxpbXBvcnQoXCIuL1ZpZXcuanNcIikuVmlld09wdGlvbnM+fSBbdmlld10gVGhlIG1hcCdzIHZpZXcuICBObyBsYXllciBzb3VyY2VzIHdpbGwgYmVcbiAqIGZldGNoZWQgdW5sZXNzIHRoaXMgaXMgc3BlY2lmaWVkIGF0IGNvbnN0cnVjdGlvbiB0aW1lIG9yIHRocm91Z2hcbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcCNzZXRWaWV3fS5cbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICovXG5mdW5jdGlvbiByZW1vdmVMYXllck1hcFByb3BlcnR5KGxheWVyKSB7XG4gIGlmIChsYXllciBpbnN0YW5jZW9mIExheWVyKSB7XG4gICAgbGF5ZXIuc2V0TWFwSW50ZXJuYWwobnVsbCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChsYXllciBpbnN0YW5jZW9mIExheWVyR3JvdXApIHtcbiAgICBsYXllci5nZXRMYXllcnMoKS5mb3JFYWNoKHJlbW92ZUxheWVyTWFwUHJvcGVydHkpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gKiBAcGFyYW0ge01hcH0gbWFwIE1hcC5cbiAqL1xuZnVuY3Rpb24gc2V0TGF5ZXJNYXBQcm9wZXJ0eShsYXllciwgbWFwKSB7XG4gIGlmIChsYXllciBpbnN0YW5jZW9mIExheWVyKSB7XG4gICAgbGF5ZXIuc2V0TWFwSW50ZXJuYWwobWFwKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGxheWVyIGluc3RhbmNlb2YgTGF5ZXJHcm91cCkge1xuICAgIGNvbnN0IGxheWVycyA9IGxheWVyLmdldExheWVycygpLmdldEFycmF5KCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gbGF5ZXJzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHNldExheWVyTWFwUHJvcGVydHkobGF5ZXJzW2ldLCBtYXApO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFRoZSBtYXAgaXMgdGhlIGNvcmUgY29tcG9uZW50IG9mIE9wZW5MYXllcnMuIEZvciBhIG1hcCB0byByZW5kZXIsIGEgdmlldyxcbiAqIG9uZSBvciBtb3JlIGxheWVycywgYW5kIGEgdGFyZ2V0IGNvbnRhaW5lciBhcmUgbmVlZGVkOlxuICpcbiAqICAgICBpbXBvcnQgTWFwIGZyb20gJ29sL01hcC5qcyc7XG4gKiAgICAgaW1wb3J0IFZpZXcgZnJvbSAnb2wvVmlldy5qcyc7XG4gKiAgICAgaW1wb3J0IFRpbGVMYXllciBmcm9tICdvbC9sYXllci9UaWxlLmpzJztcbiAqICAgICBpbXBvcnQgT1NNIGZyb20gJ29sL3NvdXJjZS9PU00uanMnO1xuICpcbiAqICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKHtcbiAqICAgICAgIHZpZXc6IG5ldyBWaWV3KHtcbiAqICAgICAgICAgY2VudGVyOiBbMCwgMF0sXG4gKiAgICAgICAgIHpvb206IDEsXG4gKiAgICAgICB9KSxcbiAqICAgICAgIGxheWVyczogW1xuICogICAgICAgICBuZXcgVGlsZUxheWVyKHtcbiAqICAgICAgICAgICBzb3VyY2U6IG5ldyBPU00oKSxcbiAqICAgICAgICAgfSksXG4gKiAgICAgICBdLFxuICogICAgICAgdGFyZ2V0OiAnbWFwJyxcbiAqICAgICB9KTtcbiAqXG4gKiBUaGUgYWJvdmUgc25pcHBldCBjcmVhdGVzIGEgbWFwIHVzaW5nIGEge0BsaW5rIG1vZHVsZTpvbC9sYXllci9UaWxlflRpbGVMYXllcn0gdG9cbiAqIGRpc3BsYXkge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvT1NNfk9TTX0gT1NNIGRhdGEgYW5kIHJlbmRlciBpdCB0byBhIERPTVxuICogZWxlbWVudCB3aXRoIHRoZSBpZCBgbWFwYC5cbiAqXG4gKiBUaGUgY29uc3RydWN0b3IgcGxhY2VzIGEgdmlld3BvcnQgY29udGFpbmVyICh3aXRoIENTUyBjbGFzcyBuYW1lXG4gKiBgb2wtdmlld3BvcnRgKSBpbiB0aGUgdGFyZ2V0IGVsZW1lbnQgKHNlZSBgZ2V0Vmlld3BvcnQoKWApLCBhbmQgdGhlbiB0d29cbiAqIGZ1cnRoZXIgZWxlbWVudHMgd2l0aGluIHRoZSB2aWV3cG9ydDogb25lIHdpdGggQ1NTIGNsYXNzIG5hbWVcbiAqIGBvbC1vdmVybGF5Y29udGFpbmVyLXN0b3BldmVudGAgZm9yIGNvbnRyb2xzIGFuZCBzb21lIG92ZXJsYXlzLCBhbmQgb25lIHdpdGhcbiAqIENTUyBjbGFzcyBuYW1lIGBvbC1vdmVybGF5Y29udGFpbmVyYCBmb3Igb3RoZXIgb3ZlcmxheXMgKHNlZSB0aGUgYHN0b3BFdmVudGBcbiAqIG9wdGlvbiBvZiB7QGxpbmsgbW9kdWxlOm9sL092ZXJsYXl+T3ZlcmxheX0gZm9yIHRoZSBkaWZmZXJlbmNlKS4gVGhlIG1hcFxuICogaXRzZWxmIGlzIHBsYWNlZCBpbiBhIGZ1cnRoZXIgZWxlbWVudCB3aXRoaW4gdGhlIHZpZXdwb3J0LlxuICpcbiAqIExheWVycyBhcmUgc3RvcmVkIGFzIGEge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259IGluXG4gKiBsYXllckdyb3Vwcy4gQSB0b3AtbGV2ZWwgZ3JvdXAgaXMgcHJvdmlkZWQgYnkgdGhlIGxpYnJhcnkuIFRoaXMgaXMgd2hhdCBpc1xuICogYWNjZXNzZWQgYnkgYGdldExheWVyR3JvdXBgIGFuZCBgc2V0TGF5ZXJHcm91cGAuIExheWVycyBlbnRlcmVkIGluIHRoZVxuICogb3B0aW9ucyBhcmUgYWRkZWQgdG8gdGhpcyBncm91cCwgYW5kIGBhZGRMYXllcmAgYW5kIGByZW1vdmVMYXllcmAgY2hhbmdlIHRoZVxuICogbGF5ZXIgY29sbGVjdGlvbiBpbiB0aGUgZ3JvdXAuIGBnZXRMYXllcnNgIGlzIGEgY29udmVuaWVuY2UgZnVuY3Rpb24gZm9yXG4gKiBgZ2V0TGF5ZXJHcm91cCgpLmdldExheWVycygpYC4gTm90ZSB0aGF0IHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvR3JvdXB+TGF5ZXJHcm91cH1cbiAqIGlzIGEgc3ViY2xhc3Mgb2Yge0BsaW5rIG1vZHVsZTpvbC9sYXllci9CYXNlfkJhc2VMYXllcn0sIHNvIGxheWVycyBlbnRlcmVkIGluIHRoZVxuICogb3B0aW9ucyBvciBhZGRlZCB3aXRoIGBhZGRMYXllcmAgY2FuIGJlIGdyb3Vwcywgd2hpY2ggY2FuIGNvbnRhaW4gZnVydGhlclxuICogZ3JvdXBzLCBhbmQgc28gb24uXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLk1hcEJyb3dzZXJFdmVudFxuICogQGZpcmVzIGltcG9ydChcIi4vTWFwRXZlbnQuanNcIikuTWFwRXZlbnRcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL3JlbmRlci9FdmVudC5qc1wiKS5kZWZhdWx0I3ByZWNvbXBvc2VcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL3JlbmRlci9FdmVudC5qc1wiKS5kZWZhdWx0I3Bvc3Rjb21wb3NlXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9yZW5kZXIvRXZlbnQuanNcIikuZGVmYXVsdCNyZW5kZXJjb21wbGV0ZVxuICogQGFwaVxuICovXG5jbGFzcyBNYXAgZXh0ZW5kcyBCYXNlT2JqZWN0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7TWFwT3B0aW9uc30gW29wdGlvbnNdIE1hcCBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7TWFwRXZlbnRIYW5kbGVyPGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7TWFwRXZlbnRIYW5kbGVyPGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbmNlO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtNYXBFdmVudEhhbmRsZXI8dm9pZD59XG4gICAgICovXG4gICAgdGhpcy51bjtcblxuICAgIGNvbnN0IG9wdGlvbnNJbnRlcm5hbCA9IGNyZWF0ZU9wdGlvbnNJbnRlcm5hbChvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyQ29tcGxldGVfO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmxvYWRlZF8gPSB0cnVlO1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy5ib3VuZEhhbmRsZUJyb3dzZXJFdmVudF8gPSB0aGlzLmhhbmRsZUJyb3dzZXJFdmVudC5iaW5kKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubWF4VGlsZXNMb2FkaW5nXyA9XG4gICAgICBvcHRpb25zLm1heFRpbGVzTG9hZGluZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhUaWxlc0xvYWRpbmcgOiAxNjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsUmF0aW9fID1cbiAgICAgIG9wdGlvbnMucGl4ZWxSYXRpbyAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy5waXhlbFJhdGlvXG4gICAgICAgIDogREVWSUNFX1BJWEVMX1JBVElPO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLnBvc3RSZW5kZXJUaW1lb3V0SGFuZGxlXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5hbmltYXRpb25EZWxheUtleV87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuYW5pbWF0aW9uRGVsYXlfID0gdGhpcy5hbmltYXRpb25EZWxheV8uYmluZCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZUluZGV4XyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/RnJhbWVTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lU3RhdGVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBleHRlbnQgYXQgdGhlIHByZXZpb3VzICdtb3ZlZW5kJyBldmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy5wcmV2aW91c0V4dGVudF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXdQcm9wZXJ0eUxpc3RlbmVyS2V5XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAqL1xuICAgIHRoaXMudmlld0NoYW5nZUxpc3RlbmVyS2V5XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IUhUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMudmlld3BvcnRfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy52aWV3cG9ydF8uY2xhc3NOYW1lID1cbiAgICAgICdvbC12aWV3cG9ydCcgKyAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93ID8gJyBvbC10b3VjaCcgOiAnJyk7XG4gICAgdGhpcy52aWV3cG9ydF8uc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHRoaXMudmlld3BvcnRfLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgdGhpcy52aWV3cG9ydF8uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy52aWV3cG9ydF8uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IUhUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lcl8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLnpJbmRleCA9ICcwJztcbiAgICB0aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lcl8uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lcl8uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICB0aGlzLm92ZXJsYXlDb250YWluZXJfLmNsYXNzTmFtZSA9ICdvbC1vdmVybGF5Y29udGFpbmVyJztcbiAgICB0aGlzLnZpZXdwb3J0Xy5hcHBlbmRDaGlsZCh0aGlzLm92ZXJsYXlDb250YWluZXJfKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5zdHlsZS56SW5kZXggPSAnMCc7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5jbGFzc05hbWUgPSAnb2wtb3ZlcmxheWNvbnRhaW5lci1zdG9wZXZlbnQnO1xuICAgIHRoaXMudmlld3BvcnRfLmFwcGVuZENoaWxkKHRoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7TWFwQnJvd3NlckV2ZW50SGFuZGxlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1vdmVUb2xlcmFuY2VfID0gb3B0aW9ucy5tb3ZlVG9sZXJhbmNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5rZXlib2FyZEV2ZW50VGFyZ2V0XyA9IG9wdGlvbnNJbnRlcm5hbC5rZXlib2FyZEV2ZW50VGFyZ2V0O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P0FycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy50YXJnZXRDaGFuZ2VIYW5kbGVyS2V5c18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldEVsZW1lbnRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtSZXNpemVPYnNlcnZlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyXyA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB0aGlzLnVwZGF0ZVNpemUoKSk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdGhpcy5jb250cm9scyA9IG9wdGlvbnNJbnRlcm5hbC5jb250cm9scyB8fCBkZWZhdWx0Q29udHJvbHMoKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuaW50ZXJhY3Rpb25zID1cbiAgICAgIG9wdGlvbnNJbnRlcm5hbC5pbnRlcmFjdGlvbnMgfHxcbiAgICAgIGRlZmF1bHRJbnRlcmFjdGlvbnMoe1xuICAgICAgICBvbkZvY3VzT25seTogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5vdmVybGF5c18gPSBvcHRpb25zSW50ZXJuYWwub3ZlcmxheXM7XG5cbiAgICAvKipcbiAgICAgKiBBIGxvb2t1cCBvZiBvdmVybGF5cyBieSBpZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5vdmVybGF5SWRJbmRleF8gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3JlbmRlcmVyL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVyXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshQXJyYXk8UG9zdFJlbmRlckZ1bmN0aW9uPn1cbiAgICAgKi9cbiAgICB0aGlzLnBvc3RSZW5kZXJGdW5jdGlvbnNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtUaWxlUXVldWV9XG4gICAgICovXG4gICAgdGhpcy50aWxlUXVldWVfID0gbmV3IFRpbGVRdWV1ZShcbiAgICAgIHRoaXMuZ2V0VGlsZVByaW9yaXR5LmJpbmQodGhpcyksXG4gICAgICB0aGlzLmhhbmRsZVRpbGVDaGFuZ2VfLmJpbmQodGhpcylcbiAgICApO1xuXG4gICAgdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihcbiAgICAgIE1hcFByb3BlcnR5LkxBWUVSR1JPVVAsXG4gICAgICB0aGlzLmhhbmRsZUxheWVyR3JvdXBDaGFuZ2VkX1xuICAgICk7XG4gICAgdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihNYXBQcm9wZXJ0eS5WSUVXLCB0aGlzLmhhbmRsZVZpZXdDaGFuZ2VkXyk7XG4gICAgdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihNYXBQcm9wZXJ0eS5TSVpFLCB0aGlzLmhhbmRsZVNpemVDaGFuZ2VkXyk7XG4gICAgdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihNYXBQcm9wZXJ0eS5UQVJHRVQsIHRoaXMuaGFuZGxlVGFyZ2V0Q2hhbmdlZF8pO1xuXG4gICAgLy8gc2V0UHJvcGVydGllcyB3aWxsIHRyaWdnZXIgdGhlIHJlbmRlcmluZyBvZiB0aGUgbWFwIGlmIHRoZSBtYXBcbiAgICAvLyBpcyBcImRlZmluZWRcIiBhbHJlYWR5LlxuICAgIHRoaXMuc2V0UHJvcGVydGllcyhvcHRpb25zSW50ZXJuYWwudmFsdWVzKTtcblxuICAgIGNvbnN0IG1hcCA9IHRoaXM7XG4gICAgaWYgKG9wdGlvbnMudmlldyAmJiAhKG9wdGlvbnMudmlldyBpbnN0YW5jZW9mIFZpZXcpKSB7XG4gICAgICBvcHRpb25zLnZpZXcudGhlbihmdW5jdGlvbiAodmlld09wdGlvbnMpIHtcbiAgICAgICAgbWFwLnNldFZpZXcobmV3IFZpZXcodmlld09wdGlvbnMpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuY29udHJvbHMuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIENvbGxlY3Rpb25FdmVudFR5cGUuQURELFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnQ8aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD59IGV2ZW50IENvbGxlY3Rpb25FdmVudFxuICAgICAgICovXG4gICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuZWxlbWVudC5zZXRNYXAodGhpcyk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIHRoaXMuY29udHJvbHMuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnQ8aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD59IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAqL1xuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKG51bGwpO1xuICAgICAgfVxuICAgICk7XG5cbiAgICB0aGlzLmludGVyYWN0aW9ucy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudDxpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHQ+fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgKi9cbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5lbGVtZW50LnNldE1hcCh0aGlzKTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgdGhpcy5pbnRlcmFjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnQ8aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn0gZXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgICAgICovXG4gICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuZWxlbWVudC5zZXRNYXAobnVsbCk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIHRoaXMub3ZlcmxheXNfLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBDb2xsZWN0aW9uRXZlbnRUeXBlLkFERCxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50PGltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0Pn0gZXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgICAgICovXG4gICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy5hZGRPdmVybGF5SW50ZXJuYWxfKGV2ZW50LmVsZW1lbnQpO1xuICAgICAgfVxuICAgICk7XG5cbiAgICB0aGlzLm92ZXJsYXlzXy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgQ29sbGVjdGlvbkV2ZW50VHlwZS5SRU1PVkUsXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudDxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAqL1xuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gZXZlbnQuZWxlbWVudC5nZXRJZCgpO1xuICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLm92ZXJsYXlJZEluZGV4X1tpZC50b1N0cmluZygpXTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5lbGVtZW50LnNldE1hcChudWxsKTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgdGhpcy5jb250cm9scy5mb3JFYWNoKFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHR9IGNvbnRyb2wgQ29udHJvbC5cbiAgICAgICAqL1xuICAgICAgKGNvbnRyb2wpID0+IHtcbiAgICAgICAgY29udHJvbC5zZXRNYXAodGhpcyk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIHRoaXMuaW50ZXJhY3Rpb25zLmZvckVhY2goXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0fSBpbnRlcmFjdGlvbiBJbnRlcmFjdGlvbi5cbiAgICAgICAqL1xuICAgICAgKGludGVyYWN0aW9uKSA9PiB7XG4gICAgICAgIGludGVyYWN0aW9uLnNldE1hcCh0aGlzKTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgdGhpcy5vdmVybGF5c18uZm9yRWFjaCh0aGlzLmFkZE92ZXJsYXlJbnRlcm5hbF8uYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSBnaXZlbiBjb250cm9sIHRvIHRoZSBtYXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdH0gY29udHJvbCBDb250cm9sLlxuICAgKiBAYXBpXG4gICAqL1xuICBhZGRDb250cm9sKGNvbnRyb2wpIHtcbiAgICB0aGlzLmdldENvbnRyb2xzKCkucHVzaChjb250cm9sKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgdGhlIGdpdmVuIGludGVyYWN0aW9uIHRvIHRoZSBtYXAuIElmIHlvdSB3YW50IHRvIGFkZCBhbiBpbnRlcmFjdGlvblxuICAgKiBhdCBhbm90aGVyIHBvaW50IG9mIHRoZSBjb2xsZWN0aW9uIHVzZSBgZ2V0SW50ZXJhY3Rpb25zKClgIGFuZCB0aGUgbWV0aG9kc1xuICAgKiBhdmFpbGFibGUgb24ge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259LiBUaGlzIGNhbiBiZSB1c2VkIHRvXG4gICAqIHN0b3AgdGhlIGV2ZW50IHByb3BhZ2F0aW9uIGZyb20gdGhlIGhhbmRsZUV2ZW50IGZ1bmN0aW9uLiBUaGUgaW50ZXJhY3Rpb25zXG4gICAqIGdldCB0byBoYW5kbGUgdGhlIGV2ZW50cyBpbiB0aGUgcmV2ZXJzZSBvcmRlciBvZiB0aGlzIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0fSBpbnRlcmFjdGlvbiBJbnRlcmFjdGlvbiB0byBhZGQuXG4gICAqIEBhcGlcbiAgICovXG4gIGFkZEludGVyYWN0aW9uKGludGVyYWN0aW9uKSB7XG4gICAgdGhpcy5nZXRJbnRlcmFjdGlvbnMoKS5wdXNoKGludGVyYWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBnaXZlbiBsYXllciB0byB0aGUgdG9wIG9mIHRoaXMgbWFwLiBJZiB5b3Ugd2FudCB0byBhZGQgYSBsYXllclxuICAgKiBlbHNld2hlcmUgaW4gdGhlIHN0YWNrLCB1c2UgYGdldExheWVycygpYCBhbmQgdGhlIG1ldGhvZHMgYXZhaWxhYmxlIG9uXG4gICAqIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAqIEBhcGlcbiAgICovXG4gIGFkZExheWVyKGxheWVyKSB7XG4gICAgY29uc3QgbGF5ZXJzID0gdGhpcy5nZXRMYXllckdyb3VwKCkuZ2V0TGF5ZXJzKCk7XG4gICAgbGF5ZXJzLnB1c2gobGF5ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9Hcm91cC5qc1wiKS5Hcm91cEV2ZW50fSBldmVudCBUaGUgbGF5ZXIgYWRkIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlTGF5ZXJBZGRfKGV2ZW50KSB7XG4gICAgc2V0TGF5ZXJNYXBQcm9wZXJ0eShldmVudC5sYXllciwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSBnaXZlbiBvdmVybGF5IHRvIHRoZSBtYXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9IG92ZXJsYXkgT3ZlcmxheS5cbiAgICogQGFwaVxuICAgKi9cbiAgYWRkT3ZlcmxheShvdmVybGF5KSB7XG4gICAgdGhpcy5nZXRPdmVybGF5cygpLnB1c2gob3ZlcmxheSk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBkZWFscyB3aXRoIG1hcCdzIG92ZXJsYXkgY29sbGVjdGlvbiBjaGFuZ2VzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSBvdmVybGF5IE92ZXJsYXkuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhZGRPdmVybGF5SW50ZXJuYWxfKG92ZXJsYXkpIHtcbiAgICBjb25zdCBpZCA9IG92ZXJsYXkuZ2V0SWQoKTtcbiAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vdmVybGF5SWRJbmRleF9baWQudG9TdHJpbmcoKV0gPSBvdmVybGF5O1xuICAgIH1cbiAgICBvdmVybGF5LnNldE1hcCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBDbGVhbiB1cC5cbiAgICovXG4gIGRpc3Bvc2VJbnRlcm5hbCgpIHtcbiAgICB0aGlzLmNvbnRyb2xzLmNsZWFyKCk7XG4gICAgdGhpcy5pbnRlcmFjdGlvbnMuY2xlYXIoKTtcbiAgICB0aGlzLm92ZXJsYXlzXy5jbGVhcigpO1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXJfLmRpc2Nvbm5lY3QoKTtcbiAgICB0aGlzLnNldFRhcmdldChudWxsKTtcbiAgICBzdXBlci5kaXNwb3NlSW50ZXJuYWwoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlY3QgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3QgYSBwaXhlbCBvbiB0aGUgdmlld3BvcnQsIGFuZCBleGVjdXRlIGFcbiAgICogY2FsbGJhY2sgd2l0aCBlYWNoIGludGVyc2VjdGluZyBmZWF0dXJlLiBMYXllcnMgaW5jbHVkZWQgaW4gdGhlIGRldGVjdGlvbiBjYW5cbiAgICogYmUgY29uZmlndXJlZCB0aHJvdWdoIHRoZSBgbGF5ZXJGaWx0ZXJgIG9wdGlvbiBpbiBgb3B0aW9uc2AuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi9zb3VyY2UvU291cmNlXCIpLmRlZmF1bHQ+LCBpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdCk6IFR9IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suIFRoZSBjYWxsYmFjayB3aWxsIGJlXG4gICAqICAgICBjYWxsZWQgd2l0aCB0d28gYXJndW1lbnRzLiBUaGUgZmlyc3QgYXJndW1lbnQgaXMgb25lXG4gICAqICAgICB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZSBmZWF0dXJlfSBvclxuICAgKiAgICAge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvRmVhdHVyZX5SZW5kZXJGZWF0dXJlIHJlbmRlciBmZWF0dXJlfSBhdCB0aGUgcGl4ZWwsIHRoZSBzZWNvbmQgaXNcbiAgICogICAgIHRoZSB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyIGxheWVyfSBvZiB0aGUgZmVhdHVyZSBhbmQgd2lsbCBiZSBudWxsIGZvclxuICAgKiAgICAgdW5tYW5hZ2VkIGxheWVycy4gVG8gc3RvcCBkZXRlY3Rpb24sIGNhbGxiYWNrIGZ1bmN0aW9ucyBjYW4gcmV0dXJuIGFcbiAgICogICAgIHRydXRoeSB2YWx1ZS5cbiAgICogQHBhcmFtIHtBdFBpeGVsT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbmFsIG9wdGlvbnMuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQsIGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZiBsYXN0XG4gICAqIGNhbGxiYWNrIGV4ZWN1dGlvbiwgb3IgdGhlIGZpcnN0IHRydXRoeSBjYWxsYmFjayByZXR1cm4gdmFsdWUuXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqIEBhcGlcbiAgICovXG4gIGZvckVhY2hGZWF0dXJlQXRQaXhlbChwaXhlbCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuZnJhbWVTdGF0ZV8gfHwgIXRoaXMucmVuZGVyZXJfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvb3JkaW5hdGUgPSB0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChwaXhlbCk7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMgOiB7fTtcbiAgICBjb25zdCBoaXRUb2xlcmFuY2UgPVxuICAgICAgb3B0aW9ucy5oaXRUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaGl0VG9sZXJhbmNlIDogMDtcbiAgICBjb25zdCBsYXllckZpbHRlciA9XG4gICAgICBvcHRpb25zLmxheWVyRmlsdGVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxheWVyRmlsdGVyIDogVFJVRTtcbiAgICBjb25zdCBjaGVja1dyYXBwZWQgPSBvcHRpb25zLmNoZWNrV3JhcHBlZCAhPT0gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJfLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKFxuICAgICAgY29vcmRpbmF0ZSxcbiAgICAgIHRoaXMuZnJhbWVTdGF0ZV8sXG4gICAgICBoaXRUb2xlcmFuY2UsXG4gICAgICBjaGVja1dyYXBwZWQsXG4gICAgICBjYWxsYmFjayxcbiAgICAgIG51bGwsXG4gICAgICBsYXllckZpbHRlcixcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3QgYSBwaXhlbCBvbiB0aGUgdmlld3BvcnQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAqIEBwYXJhbSB7QXRQaXhlbE9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25hbCBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2U+fSBUaGUgZGV0ZWN0ZWQgZmVhdHVyZXMgb3JcbiAgICogYW4gZW1wdHkgYXJyYXkgaWYgbm9uZSB3ZXJlIGZvdW5kLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRGZWF0dXJlc0F0UGl4ZWwocGl4ZWwsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBmZWF0dXJlcyA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaEZlYXR1cmVBdFBpeGVsKFxuICAgICAgcGl4ZWwsXG4gICAgICBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICBmZWF0dXJlcy5wdXNoKGZlYXR1cmUpO1xuICAgICAgfSxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuICAgIHJldHVybiBmZWF0dXJlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGxheWVycyBmcm9tIGFsbCBsYXllciBncm91cHMuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdD59IExheWVycy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0QWxsTGF5ZXJzKCkge1xuICAgIGNvbnN0IGxheWVycyA9IFtdO1xuICAgIGZ1bmN0aW9uIGFkZExheWVyc0Zyb20obGF5ZXJHcm91cCkge1xuICAgICAgbGF5ZXJHcm91cC5mb3JFYWNoKGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMYXllckdyb3VwKSB7XG4gICAgICAgICAgYWRkTGF5ZXJzRnJvbShsYXllci5nZXRMYXllcnMoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGF5ZXJzLnB1c2gobGF5ZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgYWRkTGF5ZXJzRnJvbSh0aGlzLmdldExheWVycygpKTtcbiAgICByZXR1cm4gbGF5ZXJzO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdCBpZiBmZWF0dXJlcyBpbnRlcnNlY3QgYSBwaXhlbCBvbiB0aGUgdmlld3BvcnQuIExheWVycyBpbmNsdWRlZCBpbiB0aGVcbiAgICogZGV0ZWN0aW9uIGNhbiBiZSBjb25maWd1cmVkIHRocm91Z2ggdGhlIGBsYXllckZpbHRlcmAgb3B0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcGFyYW0ge0F0UGl4ZWxPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9uYWwgb3B0aW9ucy5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgdGhlcmUgYSBmZWF0dXJlIGF0IHRoZSBnaXZlbiBwaXhlbD9cbiAgICogQGFwaVxuICAgKi9cbiAgaGFzRmVhdHVyZUF0UGl4ZWwocGl4ZWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuZnJhbWVTdGF0ZV8gfHwgIXRoaXMucmVuZGVyZXJfKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGNvb3JkaW5hdGUgPSB0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChwaXhlbCk7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMgOiB7fTtcbiAgICBjb25zdCBsYXllckZpbHRlciA9XG4gICAgICBvcHRpb25zLmxheWVyRmlsdGVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxheWVyRmlsdGVyIDogVFJVRTtcbiAgICBjb25zdCBoaXRUb2xlcmFuY2UgPVxuICAgICAgb3B0aW9ucy5oaXRUb2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaGl0VG9sZXJhbmNlIDogMDtcbiAgICBjb25zdCBjaGVja1dyYXBwZWQgPSBvcHRpb25zLmNoZWNrV3JhcHBlZCAhPT0gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJfLmhhc0ZlYXR1cmVBdENvb3JkaW5hdGUoXG4gICAgICBjb29yZGluYXRlLFxuICAgICAgdGhpcy5mcmFtZVN0YXRlXyxcbiAgICAgIGhpdFRvbGVyYW5jZSxcbiAgICAgIGNoZWNrV3JhcHBlZCxcbiAgICAgIGxheWVyRmlsdGVyLFxuICAgICAgbnVsbFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZSBpbiB1c2VyIHByb2plY3Rpb24gZm9yIGEgYnJvd3NlciBldmVudC5cbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBFdmVudC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEV2ZW50Q29vcmRpbmF0ZShldmVudCkge1xuICAgIHJldHVybiB0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWwodGhpcy5nZXRFdmVudFBpeGVsKGV2ZW50KSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZSBpbiB2aWV3IHByb2plY3Rpb24gZm9yIGEgYnJvd3NlciBldmVudC5cbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBFdmVudC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUuXG4gICAqL1xuICBnZXRFdmVudENvb3JkaW5hdGVJbnRlcm5hbChldmVudCkge1xuICAgIHJldHVybiB0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbCh0aGlzLmdldEV2ZW50UGl4ZWwoZXZlbnQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBtYXAgcGl4ZWwgcG9zaXRpb24gZm9yIGEgYnJvd3NlciBldmVudCByZWxhdGl2ZSB0byB0aGUgdmlld3BvcnQuXG4gICAqIEBwYXJhbSB7VUlFdmVudHx7Y2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXJ9fSBldmVudCBFdmVudC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gUGl4ZWwuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEV2ZW50UGl4ZWwoZXZlbnQpIHtcbiAgICBjb25zdCB2aWV3cG9ydCA9IHRoaXMudmlld3BvcnRfO1xuICAgIGNvbnN0IHZpZXdwb3J0UG9zaXRpb24gPSB2aWV3cG9ydC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB2aWV3cG9ydFNpemUgPSB0aGlzLmdldFNpemUoKTtcbiAgICBjb25zdCBzY2FsZVggPSB2aWV3cG9ydFBvc2l0aW9uLndpZHRoIC8gdmlld3BvcnRTaXplWzBdO1xuICAgIGNvbnN0IHNjYWxlWSA9IHZpZXdwb3J0UG9zaXRpb24uaGVpZ2h0IC8gdmlld3BvcnRTaXplWzFdO1xuICAgIGNvbnN0IGV2ZW50UG9zaXRpb24gPVxuICAgICAgLy9GSVhNRSBBcmUgd2UgcmVhbGx5IGNhbGxpbmcgdGhpcyB3aXRoIGEgVG91Y2hFdmVudCBhbnl3aGVyZT9cbiAgICAgICdjaGFuZ2VkVG91Y2hlcycgaW4gZXZlbnRcbiAgICAgICAgPyAvKiogQHR5cGUge1RvdWNoRXZlbnR9ICovIChldmVudCkuY2hhbmdlZFRvdWNoZXNbMF1cbiAgICAgICAgOiAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovIChldmVudCk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgKGV2ZW50UG9zaXRpb24uY2xpZW50WCAtIHZpZXdwb3J0UG9zaXRpb24ubGVmdCkgLyBzY2FsZVgsXG4gICAgICAoZXZlbnRQb3NpdGlvbi5jbGllbnRZIC0gdmlld3BvcnRQb3NpdGlvbi50b3ApIC8gc2NhbGVZLFxuICAgIF07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0YXJnZXQgaW4gd2hpY2ggdGhpcyBtYXAgaXMgcmVuZGVyZWQuXG4gICAqIE5vdGUgdGhhdCB0aGlzIHJldHVybnMgd2hhdCBpcyBlbnRlcmVkIGFzIGFuIG9wdGlvbiBvciBpbiBzZXRUYXJnZXQ6XG4gICAqIGlmIHRoYXQgd2FzIGFuIGVsZW1lbnQsIGl0IHJldHVybnMgYW4gZWxlbWVudDsgaWYgYSBzdHJpbmcsIGl0IHJldHVybnMgdGhhdC5cbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR8c3RyaW5nfHVuZGVmaW5lZH0gVGhlIEVsZW1lbnQgb3IgaWQgb2YgdGhlIEVsZW1lbnQgdGhhdCB0aGVcbiAgICogICAgIG1hcCBpcyByZW5kZXJlZCBpbi5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VGFyZ2V0KCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge0hUTUxFbGVtZW50fHN0cmluZ3x1bmRlZmluZWR9ICovIChcbiAgICAgIHRoaXMuZ2V0KE1hcFByb3BlcnR5LlRBUkdFVClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgRE9NIGVsZW1lbnQgaW50byB3aGljaCB0aGlzIG1hcCBpcyByZW5kZXJlZC4gSW4gY29udHJhc3QgdG9cbiAgICogYGdldFRhcmdldGAgdGhpcyBtZXRob2QgYWx3YXlzIHJldHVybiBhbiBgRWxlbWVudGAsIG9yIGBudWxsYCBpZiB0aGVcbiAgICogbWFwIGhhcyBubyB0YXJnZXQuXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgZWxlbWVudCB0aGF0IHRoZSBtYXAgaXMgcmVuZGVyZWQgaW4uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRhcmdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0RWxlbWVudF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjb29yZGluYXRlIGZvciBhIGdpdmVuIHBpeGVsLiAgVGhpcyByZXR1cm5zIGEgY29vcmRpbmF0ZSBpbiB0aGVcbiAgICogdXNlciBwcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUaGUgY29vcmRpbmF0ZSBmb3IgdGhlIHBpeGVsIHBvc2l0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRDb29yZGluYXRlRnJvbVBpeGVsKHBpeGVsKSB7XG4gICAgcmV0dXJuIHRvVXNlckNvb3JkaW5hdGUoXG4gICAgICB0aGlzLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChwaXhlbCksXG4gICAgICB0aGlzLmdldFZpZXcoKS5nZXRQcm9qZWN0aW9uKClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29vcmRpbmF0ZSBmb3IgYSBnaXZlbiBwaXhlbC4gIFRoaXMgcmV0dXJucyBhIGNvb3JkaW5hdGUgaW4gdGhlXG4gICAqIG1hcCB2aWV3IHByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwgcG9zaXRpb24gaW4gdGhlIG1hcCB2aWV3cG9ydC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRoZSBjb29yZGluYXRlIGZvciB0aGUgcGl4ZWwgcG9zaXRpb24uXG4gICAqL1xuICBnZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwocGl4ZWwpIHtcbiAgICBjb25zdCBmcmFtZVN0YXRlID0gdGhpcy5mcmFtZVN0YXRlXztcbiAgICBpZiAoIWZyYW1lU3RhdGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5waXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSwgcGl4ZWwuc2xpY2UoKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtYXAgY29udHJvbHMuIE1vZGlmeWluZyB0aGlzIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgY29udHJvbHNcbiAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSBtYXAuXG4gICAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD59IENvbnRyb2xzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRDb250cm9scygpIHtcbiAgICByZXR1cm4gdGhpcy5jb250cm9scztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hcCBvdmVybGF5cy4gTW9kaWZ5aW5nIHRoaXMgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBvdmVybGF5c1xuICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIG1hcC5cbiAgICogQHJldHVybiB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59IE92ZXJsYXlzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRPdmVybGF5cygpIHtcbiAgICByZXR1cm4gdGhpcy5vdmVybGF5c187XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFuIG92ZXJsYXkgYnkgaXRzIGlkZW50aWZpZXIgKHRoZSB2YWx1ZSByZXR1cm5lZCBieSBvdmVybGF5LmdldElkKCkpLlxuICAgKiBOb3RlIHRoYXQgdGhlIGluZGV4IHRyZWF0cyBzdHJpbmcgYW5kIG51bWVyaWMgaWRlbnRpZmllcnMgYXMgdGhlIHNhbWUuIFNvXG4gICAqIGBtYXAuZ2V0T3ZlcmxheUJ5SWQoMilgIHdpbGwgcmV0dXJuIGFuIG92ZXJsYXkgd2l0aCBpZCBgJzInYCBvciBgMmAuXG4gICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gaWQgT3ZlcmxheSBpZGVudGlmaWVyLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdH0gT3ZlcmxheS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0T3ZlcmxheUJ5SWQoaWQpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5vdmVybGF5SWRJbmRleF9baWQudG9TdHJpbmcoKV07XG4gICAgcmV0dXJuIG92ZXJsYXkgIT09IHVuZGVmaW5lZCA/IG92ZXJsYXkgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWFwIGludGVyYWN0aW9ucy4gTW9kaWZ5aW5nIHRoaXMgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBpbnRlcmFjdGlvbnNcbiAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSBtYXAuXG4gICAqXG4gICAqIEludGVyYWN0aW9ucyBhcmUgdXNlZCBmb3IgZS5nLiBwYW4sIHpvb20gYW5kIHJvdGF0ZS5cbiAgICogQHJldHVybiB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHQ+fSBJbnRlcmFjdGlvbnMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEludGVyYWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcmFjdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsYXllcmdyb3VwIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1hcC5cbiAgICogQHJldHVybiB7TGF5ZXJHcm91cH0gQSBsYXllciBncm91cCBjb250YWluaW5nIHRoZSBsYXllcnMgaW4gdGhpcyBtYXAuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldExheWVyR3JvdXAoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7TGF5ZXJHcm91cH0gKi8gKHRoaXMuZ2V0KE1hcFByb3BlcnR5LkxBWUVSR1JPVVApKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbnkgZXhpc3RpbmcgbGF5ZXJzIGFuZCBhZGQgbGF5ZXJzIHRvIHRoZSBtYXAuXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fENvbGxlY3Rpb248aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBsYXllcnMgVGhlIGxheWVycyB0byBiZSBhZGRlZCB0byB0aGUgbWFwLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRMYXllcnMobGF5ZXJzKSB7XG4gICAgY29uc3QgZ3JvdXAgPSB0aGlzLmdldExheWVyR3JvdXAoKTtcbiAgICBpZiAobGF5ZXJzIGluc3RhbmNlb2YgQ29sbGVjdGlvbikge1xuICAgICAgZ3JvdXAuc2V0TGF5ZXJzKGxheWVycyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGdyb3VwLmdldExheWVycygpO1xuICAgIGNvbGxlY3Rpb24uY2xlYXIoKTtcbiAgICBjb2xsZWN0aW9uLmV4dGVuZChsYXllcnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29sbGVjdGlvbiBvZiBsYXllcnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbWFwLlxuICAgKiBAcmV0dXJuIHshQ29sbGVjdGlvbjxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD59IExheWVycy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TGF5ZXJzKCkge1xuICAgIGNvbnN0IGxheWVycyA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVycygpO1xuICAgIHJldHVybiBsYXllcnM7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gTGF5ZXJzIGhhdmUgc291cmNlcyB0aGF0IGFyZSBzdGlsbCBsb2FkaW5nLlxuICAgKi9cbiAgZ2V0TG9hZGluZ09yTm90UmVhZHkoKSB7XG4gICAgY29uc3QgbGF5ZXJTdGF0ZXNBcnJheSA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVyU3RhdGVzQXJyYXkoKTtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBsYXllclN0YXRlc0FycmF5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gbGF5ZXJTdGF0ZXNBcnJheVtpXTtcbiAgICAgIGlmICghc3RhdGUudmlzaWJsZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlcmVyID0gc3RhdGUubGF5ZXIuZ2V0UmVuZGVyZXIoKTtcbiAgICAgIGlmIChyZW5kZXJlciAmJiAhcmVuZGVyZXIucmVhZHkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBjb25zdCBzb3VyY2UgPSBzdGF0ZS5sYXllci5nZXRTb3VyY2UoKTtcbiAgICAgIGlmIChzb3VyY2UgJiYgc291cmNlLmxvYWRpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHBpeGVsIGZvciBhIGNvb3JkaW5hdGUuICBUaGlzIHRha2VzIGEgY29vcmRpbmF0ZSBpbiB0aGUgdXNlclxuICAgKiBwcm9qZWN0aW9uIGFuZCByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHBpeGVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIEEgbWFwIGNvb3JkaW5hdGUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IEEgcGl4ZWwgcG9zaXRpb24gaW4gdGhlIG1hcCB2aWV3cG9ydC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZShjb29yZGluYXRlKSB7XG4gICAgY29uc3Qgdmlld0Nvb3JkaW5hdGUgPSBmcm9tVXNlckNvb3JkaW5hdGUoXG4gICAgICBjb29yZGluYXRlLFxuICAgICAgdGhpcy5nZXRWaWV3KCkuZ2V0UHJvamVjdGlvbigpXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5nZXRQaXhlbEZyb21Db29yZGluYXRlSW50ZXJuYWwodmlld0Nvb3JkaW5hdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGl4ZWwgZm9yIGEgY29vcmRpbmF0ZS4gIFRoaXMgdGFrZXMgYSBjb29yZGluYXRlIGluIHRoZSBtYXAgdmlld1xuICAgKiBwcm9qZWN0aW9uIGFuZCByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHBpeGVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIEEgbWFwIGNvb3JkaW5hdGUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IEEgcGl4ZWwgcG9zaXRpb24gaW4gdGhlIG1hcCB2aWV3cG9ydC5cbiAgICovXG4gIGdldFBpeGVsRnJvbUNvb3JkaW5hdGVJbnRlcm5hbChjb29yZGluYXRlKSB7XG4gICAgY29uc3QgZnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZV87XG4gICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGFwcGx5VHJhbnNmb3JtKFxuICAgICAgZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSxcbiAgICAgIGNvb3JkaW5hdGUuc2xpY2UoMCwgMilcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWFwIHJlbmRlcmVyLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3JlbmRlcmVyL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9IFJlbmRlcmVyXG4gICAqL1xuICBnZXRSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzaXplIG9mIHRoaXMgbWFwLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9IFRoZSBzaXplIGluIHBpeGVscyBvZiB0aGUgbWFwIGluIHRoZSBET00uXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFNpemUoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfSAqLyAoXG4gICAgICB0aGlzLmdldChNYXBQcm9wZXJ0eS5TSVpFKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2aWV3IGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1hcC4gQSB2aWV3IG1hbmFnZXMgcHJvcGVydGllcyBzdWNoIGFzXG4gICAqIGNlbnRlciBhbmQgcmVzb2x1dGlvbi5cbiAgICogQHJldHVybiB7Vmlld30gVGhlIHZpZXcgdGhhdCBjb250cm9scyB0aGlzIG1hcC5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VmlldygpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtWaWV3fSAqLyAodGhpcy5nZXQoTWFwUHJvcGVydHkuVklFVykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZWxlbWVudCB0aGF0IHNlcnZlcyBhcyB0aGUgbWFwIHZpZXdwb3J0LlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVmlld3BvcnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFZpZXdwb3J0KCkge1xuICAgIHJldHVybiB0aGlzLnZpZXdwb3J0XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGVsZW1lbnQgdGhhdCBzZXJ2ZXMgYXMgdGhlIGNvbnRhaW5lciBmb3Igb3ZlcmxheXMuICBFbGVtZW50cyBhZGRlZCB0b1xuICAgKiB0aGlzIGNvbnRhaW5lciB3aWxsIGxldCBtb3VzZWRvd24gYW5kIHRvdWNoc3RhcnQgZXZlbnRzIHRocm91Z2ggdG8gdGhlIG1hcCxcbiAgICogc28gY2xpY2tzIGFuZCBnZXN0dXJlcyBvbiBhbiBvdmVybGF5IHdpbGwgdHJpZ2dlciB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9XG4gICAqIGV2ZW50cy5cbiAgICogQHJldHVybiB7IUhUTUxFbGVtZW50fSBUaGUgbWFwJ3Mgb3ZlcmxheSBjb250YWluZXIuXG4gICAqL1xuICBnZXRPdmVybGF5Q29udGFpbmVyKCkge1xuICAgIHJldHVybiB0aGlzLm92ZXJsYXlDb250YWluZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZWxlbWVudCB0aGF0IHNlcnZlcyBhcyBhIGNvbnRhaW5lciBmb3Igb3ZlcmxheXMgdGhhdCBkb24ndCBhbGxvd1xuICAgKiBldmVudCBwcm9wYWdhdGlvbi4gRWxlbWVudHMgYWRkZWQgdG8gdGhpcyBjb250YWluZXIgd29uJ3QgbGV0IG1vdXNlZG93biBhbmRcbiAgICogdG91Y2hzdGFydCBldmVudHMgdGhyb3VnaCB0byB0aGUgbWFwLCBzbyBjbGlja3MgYW5kIGdlc3R1cmVzIG9uIGFuIG92ZXJsYXlcbiAgICogZG9uJ3QgdHJpZ2dlciBhbnkge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fS5cbiAgICogQHJldHVybiB7IUhUTUxFbGVtZW50fSBUaGUgbWFwJ3Mgb3ZlcmxheSBjb250YWluZXIgdGhhdCBzdG9wcyBldmVudHMuXG4gICAqL1xuICBnZXRPdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50KCkge1xuICAgIHJldHVybiB0aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFEb2N1bWVudH0gVGhlIGRvY3VtZW50IHdoZXJlIHRoZSBtYXAgaXMgZGlzcGxheWVkLlxuICAgKi9cbiAgZ2V0T3duZXJEb2N1bWVudCgpIHtcbiAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gdGhpcy5nZXRUYXJnZXRFbGVtZW50KCk7XG4gICAgcmV0dXJuIHRhcmdldEVsZW1lbnQgPyB0YXJnZXRFbGVtZW50Lm93bmVyRG9jdW1lbnQgOiBkb2N1bWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0aWxlU291cmNlS2V5IFRpbGUgc291cmNlIGtleS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gdGlsZUNlbnRlciBUaWxlIGNlbnRlci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbGVSZXNvbHV0aW9uIFRpbGUgcmVzb2x1dGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHByaW9yaXR5LlxuICAgKi9cbiAgZ2V0VGlsZVByaW9yaXR5KHRpbGUsIHRpbGVTb3VyY2VLZXksIHRpbGVDZW50ZXIsIHRpbGVSZXNvbHV0aW9uKSB7XG4gICAgcmV0dXJuIGdldFRpbGVQcmlvcml0eShcbiAgICAgIHRoaXMuZnJhbWVTdGF0ZV8sXG4gICAgICB0aWxlLFxuICAgICAgdGlsZVNvdXJjZUtleSxcbiAgICAgIHRpbGVDZW50ZXIsXG4gICAgICB0aWxlUmVzb2x1dGlvblxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtVSUV2ZW50fSBicm93c2VyRXZlbnQgQnJvd3NlciBldmVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlXSBUeXBlLlxuICAgKi9cbiAgaGFuZGxlQnJvd3NlckV2ZW50KGJyb3dzZXJFdmVudCwgdHlwZSkge1xuICAgIHR5cGUgPSB0eXBlIHx8IGJyb3dzZXJFdmVudC50eXBlO1xuICAgIGNvbnN0IG1hcEJyb3dzZXJFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQodHlwZSwgdGhpcywgYnJvd3NlckV2ZW50KTtcbiAgICB0aGlzLmhhbmRsZU1hcEJyb3dzZXJFdmVudChtYXBCcm93c2VyRXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWFwQnJvd3NlckV2ZW50fSBtYXBCcm93c2VyRXZlbnQgVGhlIGV2ZW50IHRvIGhhbmRsZS5cbiAgICovXG4gIGhhbmRsZU1hcEJyb3dzZXJFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZnJhbWVTdGF0ZV8pIHtcbiAgICAgIC8vIFdpdGggbm8gdmlldyBkZWZpbmVkLCB3ZSBjYW5ub3QgdHJhbnNsYXRlIHBpeGVscyBpbnRvIGdlb2dyYXBoaWNhbFxuICAgICAgLy8gY29vcmRpbmF0ZXMgc28gaW50ZXJhY3Rpb25zIGNhbm5vdCBiZSB1c2VkLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBvcmlnaW5hbEV2ZW50ID0gLyoqIEB0eXBlIHtQb2ludGVyRXZlbnR9ICovIChcbiAgICAgIG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50XG4gICAgKTtcbiAgICBjb25zdCBldmVudFR5cGUgPSBvcmlnaW5hbEV2ZW50LnR5cGU7XG4gICAgaWYgKFxuICAgICAgZXZlbnRUeXBlID09PSBQb2ludGVyRXZlbnRUeXBlLlBPSU5URVJET1dOIHx8XG4gICAgICBldmVudFR5cGUgPT09IEV2ZW50VHlwZS5XSEVFTCB8fFxuICAgICAgZXZlbnRUeXBlID09PSBFdmVudFR5cGUuS0VZRE9XTlxuICAgICkge1xuICAgICAgY29uc3QgZG9jID0gdGhpcy5nZXRPd25lckRvY3VtZW50KCk7XG4gICAgICBjb25zdCByb290Tm9kZSA9IHRoaXMudmlld3BvcnRfLmdldFJvb3ROb2RlXG4gICAgICAgID8gdGhpcy52aWV3cG9ydF8uZ2V0Um9vdE5vZGUoKVxuICAgICAgICA6IGRvYztcbiAgICAgIGNvbnN0IHRhcmdldCA9IC8qKiBAdHlwZSB7Tm9kZX0gKi8gKG9yaWdpbmFsRXZlbnQudGFyZ2V0KTtcbiAgICAgIGlmIChcbiAgICAgICAgLy8gQWJvcnQgaWYgdGhlIHRhcmdldCBpcyBhIGNoaWxkIG9mIHRoZSBjb250YWluZXIgZm9yIGVsZW1lbnRzIHdob3NlIGV2ZW50cyBhcmUgbm90IG1lYW50XG4gICAgICAgIC8vIHRvIGJlIGhhbmRsZWQgYnkgbWFwIGludGVyYWN0aW9ucy5cbiAgICAgICAgdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5jb250YWlucyh0YXJnZXQpIHx8XG4gICAgICAgIC8vIEFib3J0IGlmIHRoZSBldmVudCB0YXJnZXQgaXMgYSBjaGlsZCBvZiB0aGUgY29udGFpbmVyIHRoYXQgaXMgbm8gbG9uZ2VyIGluIHRoZSBwYWdlLlxuICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIGZvciB0aGUgdGFyZ2V0IHRvIG5vIGxvbmdlciBiZSBpbiB0aGUgcGFnZSBpZiBpdCBoYXMgYmVlbiByZW1vdmVkIGluIGFuXG4gICAgICAgIC8vIGV2ZW50IGxpc3RlbmVyLCB0aGlzIG1pZ2h0IGhhcHBlbiBpbiBhIENvbnRyb2wgdGhhdCByZWNyZWF0ZXMgaXQncyBjb250ZW50IGJhc2VkIG9uXG4gICAgICAgIC8vIHVzZXIgaW50ZXJhY3Rpb24gZWl0aGVyIG1hbnVhbGx5IG9yIHZpYSBhIHJlbmRlciBpbiBzb21ldGhpbmcgbGlrZSBodHRwczovL3JlYWN0anMub3JnL1xuICAgICAgICAhKHJvb3ROb2RlID09PSBkb2MgPyBkb2MuZG9jdW1lbnRFbGVtZW50IDogcm9vdE5vZGUpLmNvbnRhaW5zKHRhcmdldClcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIG1hcEJyb3dzZXJFdmVudC5mcmFtZVN0YXRlID0gdGhpcy5mcmFtZVN0YXRlXztcbiAgICBpZiAodGhpcy5kaXNwYXRjaEV2ZW50KG1hcEJyb3dzZXJFdmVudCkgIT09IGZhbHNlKSB7XG4gICAgICBjb25zdCBpbnRlcmFjdGlvbnNBcnJheSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25zKCkuZ2V0QXJyYXkoKS5zbGljZSgpO1xuICAgICAgZm9yIChsZXQgaSA9IGludGVyYWN0aW9uc0FycmF5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uID0gaW50ZXJhY3Rpb25zQXJyYXlbaV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpbnRlcmFjdGlvbi5nZXRNYXAoKSAhPT0gdGhpcyB8fFxuICAgICAgICAgICFpbnRlcmFjdGlvbi5nZXRBY3RpdmUoKSB8fFxuICAgICAgICAgICF0aGlzLmdldFRhcmdldEVsZW1lbnQoKVxuICAgICAgICApIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250ID0gaW50ZXJhY3Rpb24uaGFuZGxlRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgaWYgKCFjb250IHx8IG1hcEJyb3dzZXJFdmVudC5wcm9wYWdhdGlvblN0b3BwZWQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBoYW5kbGVQb3N0UmVuZGVyKCkge1xuICAgIGNvbnN0IGZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuXG4gICAgLy8gTWFuYWdlIHRoZSB0aWxlIHF1ZXVlXG4gICAgLy8gSW1hZ2UgbG9hZHMgYXJlIGV4cGVuc2l2ZSBhbmQgYSBsaW1pdGVkIHJlc291cmNlLCBzbyB0cnkgdG8gdXNlIHRoZW1cbiAgICAvLyBlZmZpY2llbnRseTpcbiAgICAvLyAqIFdoZW4gdGhlIHZpZXcgaXMgc3RhdGljIHdlIGFsbG93IGEgbGFyZ2UgbnVtYmVyIG9mIHBhcmFsbGVsIHRpbGUgbG9hZHNcbiAgICAvLyAgIHRvIGNvbXBsZXRlIHRoZSBmcmFtZSBhcyBxdWlja2x5IGFzIHBvc3NpYmxlLlxuICAgIC8vICogV2hlbiBhbmltYXRpbmcgb3IgaW50ZXJhY3RpbmcsIGltYWdlIGxvYWRzIGNhbiBjYXVzZSBqYW5rcywgc28gd2UgcmVkdWNlXG4gICAgLy8gICB0aGUgbWF4aW11bSBudW1iZXIgb2YgbG9hZHMgcGVyIGZyYW1lIGFuZCBsaW1pdCB0aGUgbnVtYmVyIG9mIHBhcmFsbGVsXG4gICAgLy8gICB0aWxlIGxvYWRzIHRvIHJlbWFpbiByZWFjdGl2ZSB0byB2aWV3IGNoYW5nZXMgYW5kIHRvIHJlZHVjZSB0aGUgY2hhbmNlIG9mXG4gICAgLy8gICBsb2FkaW5nIHRpbGVzIHRoYXQgd2lsbCBxdWlja2x5IGRpc2FwcGVhciBmcm9tIHZpZXcuXG4gICAgY29uc3QgdGlsZVF1ZXVlID0gdGhpcy50aWxlUXVldWVfO1xuICAgIGlmICghdGlsZVF1ZXVlLmlzRW1wdHkoKSkge1xuICAgICAgbGV0IG1heFRvdGFsTG9hZGluZyA9IHRoaXMubWF4VGlsZXNMb2FkaW5nXztcbiAgICAgIGxldCBtYXhOZXdMb2FkcyA9IG1heFRvdGFsTG9hZGluZztcbiAgICAgIGlmIChmcmFtZVN0YXRlKSB7XG4gICAgICAgIGNvbnN0IGhpbnRzID0gZnJhbWVTdGF0ZS52aWV3SGludHM7XG4gICAgICAgIGlmIChoaW50c1tWaWV3SGludC5BTklNQVRJTkddIHx8IGhpbnRzW1ZpZXdIaW50LklOVEVSQUNUSU5HXSkge1xuICAgICAgICAgIGNvbnN0IGxvd09uRnJhbWVCdWRnZXQgPSBEYXRlLm5vdygpIC0gZnJhbWVTdGF0ZS50aW1lID4gODtcbiAgICAgICAgICBtYXhUb3RhbExvYWRpbmcgPSBsb3dPbkZyYW1lQnVkZ2V0ID8gMCA6IDg7XG4gICAgICAgICAgbWF4TmV3TG9hZHMgPSBsb3dPbkZyYW1lQnVkZ2V0ID8gMCA6IDI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aWxlUXVldWUuZ2V0VGlsZXNMb2FkaW5nKCkgPCBtYXhUb3RhbExvYWRpbmcpIHtcbiAgICAgICAgdGlsZVF1ZXVlLnJlcHJpb3JpdGl6ZSgpOyAvLyBGSVhNRSBvbmx5IGNhbGwgaWYgdmlldyBoYXMgY2hhbmdlZFxuICAgICAgICB0aWxlUXVldWUubG9hZE1vcmVUaWxlcyhtYXhUb3RhbExvYWRpbmcsIG1heE5ld0xvYWRzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZnJhbWVTdGF0ZSAmJiB0aGlzLnJlbmRlcmVyXyAmJiAhZnJhbWVTdGF0ZS5hbmltYXRlKSB7XG4gICAgICBpZiAodGhpcy5yZW5kZXJDb21wbGV0ZV8gPT09IHRydWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzTGlzdGVuZXIoUmVuZGVyRXZlbnRUeXBlLlJFTkRFUkNPTVBMRVRFKSkge1xuICAgICAgICAgIHRoaXMucmVuZGVyZXJfLmRpc3BhdGNoUmVuZGVyRXZlbnQoXG4gICAgICAgICAgICBSZW5kZXJFdmVudFR5cGUuUkVOREVSQ09NUExFVEUsXG4gICAgICAgICAgICBmcmFtZVN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sb2FkZWRfID09PSBmYWxzZSkge1xuICAgICAgICAgIHRoaXMubG9hZGVkXyA9IHRydWU7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgbmV3IE1hcEV2ZW50KE1hcEV2ZW50VHlwZS5MT0FERU5ELCB0aGlzLCBmcmFtZVN0YXRlKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5sb2FkZWRfID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMubG9hZGVkXyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgbmV3IE1hcEV2ZW50KE1hcEV2ZW50VHlwZS5MT0FEU1RBUlQsIHRoaXMsIGZyYW1lU3RhdGUpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcG9zdFJlbmRlckZ1bmN0aW9ucyA9IHRoaXMucG9zdFJlbmRlckZ1bmN0aW9uc187XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gcG9zdFJlbmRlckZ1bmN0aW9ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBwb3N0UmVuZGVyRnVuY3Rpb25zW2ldKHRoaXMsIGZyYW1lU3RhdGUpO1xuICAgIH1cbiAgICBwb3N0UmVuZGVyRnVuY3Rpb25zLmxlbmd0aCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVNpemVDaGFuZ2VkXygpIHtcbiAgICBpZiAodGhpcy5nZXRWaWV3KCkgJiYgIXRoaXMuZ2V0VmlldygpLmdldEFuaW1hdGluZygpKSB7XG4gICAgICB0aGlzLmdldFZpZXcoKS5yZXNvbHZlQ29uc3RyYWludHMoMCk7XG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlVGFyZ2V0Q2hhbmdlZF8oKSB7XG4gICAgaWYgKHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8pIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHRoaXMudGFyZ2V0Q2hhbmdlSGFuZGxlcktleXNfLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLnRhcmdldENoYW5nZUhhbmRsZXJLZXlzX1tpXSk7XG4gICAgICB9XG4gICAgICB0aGlzLnRhcmdldENoYW5nZUhhbmRsZXJLZXlzXyA9IG51bGw7XG4gICAgICB0aGlzLnZpZXdwb3J0Xy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBFdmVudFR5cGUuQ09OVEVYVE1FTlUsXG4gICAgICAgIHRoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfXG4gICAgICApO1xuICAgICAgdGhpcy52aWV3cG9ydF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgRXZlbnRUeXBlLldIRUVMLFxuICAgICAgICB0aGlzLmJvdW5kSGFuZGxlQnJvd3NlckV2ZW50X1xuICAgICAgKTtcbiAgICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8uZGlzcG9zZSgpO1xuICAgICAgdGhpcy5tYXBCcm93c2VyRXZlbnRIYW5kbGVyXyA9IG51bGw7XG4gICAgICByZW1vdmVOb2RlKHRoaXMudmlld3BvcnRfKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50YXJnZXRFbGVtZW50Xykge1xuICAgICAgdGhpcy5yZXNpemVPYnNlcnZlcl8udW5vYnNlcnZlKHRoaXMudGFyZ2V0RWxlbWVudF8pO1xuICAgICAgY29uc3Qgcm9vdE5vZGUgPSB0aGlzLnRhcmdldEVsZW1lbnRfLmdldFJvb3ROb2RlKCk7XG4gICAgICBpZiAocm9vdE5vZGUgaW5zdGFuY2VvZiBTaGFkb3dSb290KSB7XG4gICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXJfLnVub2JzZXJ2ZShyb290Tm9kZS5ob3N0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0YXJnZXQgbWF5IGJlIHVuZGVmaW5lZCwgbnVsbCwgYSBzdHJpbmcgb3IgYW4gRWxlbWVudC5cbiAgICAvLyBJZiBpdCdzIGEgc3RyaW5nIHdlIGNvbnZlcnQgaXQgdG8gYW4gRWxlbWVudCBiZWZvcmUgcHJvY2VlZGluZy5cbiAgICAvLyBJZiBpdCdzIG5vdCBub3cgYW4gRWxlbWVudCB3ZSByZW1vdmUgdGhlIHZpZXdwb3J0IGZyb20gdGhlIERPTS5cbiAgICAvLyBJZiBpdCdzIGFuIEVsZW1lbnQgd2UgYXBwZW5kIHRoZSB2aWV3cG9ydCBlbGVtZW50IHRvIGl0LlxuXG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5nZXRUYXJnZXQoKTtcbiAgICBjb25zdCB0YXJnZXRFbGVtZW50ID1cbiAgICAgIHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KSA6IHRhcmdldDtcbiAgICB0aGlzLnRhcmdldEVsZW1lbnRfID0gdGFyZ2V0RWxlbWVudDtcbiAgICBpZiAoIXRhcmdldEVsZW1lbnQpIHtcbiAgICAgIGlmICh0aGlzLnJlbmRlcmVyXykge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV8pO1xuICAgICAgICB0aGlzLnBvc3RSZW5kZXJUaW1lb3V0SGFuZGxlXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5wb3N0UmVuZGVyRnVuY3Rpb25zXy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnJlbmRlcmVyXy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXJfID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmFuaW1hdGlvbkRlbGF5S2V5Xykge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkRlbGF5S2V5Xyk7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMudmlld3BvcnRfKTtcbiAgICAgIGlmICghdGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlcl8gPSBuZXcgQ29tcG9zaXRlTWFwUmVuZGVyZXIodGhpcyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8gPSBuZXcgTWFwQnJvd3NlckV2ZW50SGFuZGxlcihcbiAgICAgICAgdGhpcyxcbiAgICAgICAgdGhpcy5tb3ZlVG9sZXJhbmNlX1xuICAgICAgKTtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIE1hcEJyb3dzZXJFdmVudFR5cGUpIHtcbiAgICAgICAgdGhpcy5tYXBCcm93c2VyRXZlbnRIYW5kbGVyXy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGVba2V5XSxcbiAgICAgICAgICB0aGlzLmhhbmRsZU1hcEJyb3dzZXJFdmVudC5iaW5kKHRoaXMpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLnZpZXdwb3J0Xy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBFdmVudFR5cGUuQ09OVEVYVE1FTlUsXG4gICAgICAgIHRoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIHRoaXMudmlld3BvcnRfLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIEV2ZW50VHlwZS5XSEVFTCxcbiAgICAgICAgdGhpcy5ib3VuZEhhbmRsZUJyb3dzZXJFdmVudF8sXG4gICAgICAgIFBBU1NJVkVfRVZFTlRfTElTVEVORVJTID8ge3Bhc3NpdmU6IGZhbHNlfSA6IGZhbHNlXG4gICAgICApO1xuXG4gICAgICBjb25zdCBrZXlib2FyZEV2ZW50VGFyZ2V0ID0gIXRoaXMua2V5Ym9hcmRFdmVudFRhcmdldF9cbiAgICAgICAgPyB0YXJnZXRFbGVtZW50XG4gICAgICAgIDogdGhpcy5rZXlib2FyZEV2ZW50VGFyZ2V0XztcbiAgICAgIHRoaXMudGFyZ2V0Q2hhbmdlSGFuZGxlcktleXNfID0gW1xuICAgICAgICBsaXN0ZW4oXG4gICAgICAgICAga2V5Ym9hcmRFdmVudFRhcmdldCxcbiAgICAgICAgICBFdmVudFR5cGUuS0VZRE9XTixcbiAgICAgICAgICB0aGlzLmhhbmRsZUJyb3dzZXJFdmVudCxcbiAgICAgICAgICB0aGlzXG4gICAgICAgICksXG4gICAgICAgIGxpc3RlbihcbiAgICAgICAgICBrZXlib2FyZEV2ZW50VGFyZ2V0LFxuICAgICAgICAgIEV2ZW50VHlwZS5LRVlQUkVTUyxcbiAgICAgICAgICB0aGlzLmhhbmRsZUJyb3dzZXJFdmVudCxcbiAgICAgICAgICB0aGlzXG4gICAgICAgICksXG4gICAgICBdO1xuICAgICAgY29uc3Qgcm9vdE5vZGUgPSB0YXJnZXRFbGVtZW50LmdldFJvb3ROb2RlKCk7XG4gICAgICBpZiAocm9vdE5vZGUgaW5zdGFuY2VvZiBTaGFkb3dSb290KSB7XG4gICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXJfLm9ic2VydmUocm9vdE5vZGUuaG9zdCk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyXy5vYnNlcnZlKHRhcmdldEVsZW1lbnQpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlU2l6ZSgpO1xuICAgIC8vIHVwZGF0ZVNpemUgY2FsbHMgc2V0U2l6ZSwgc28gbm8gbmVlZCB0byBjYWxsIHRoaXMucmVuZGVyXG4gICAgLy8gb3Vyc2VsdmVzIGhlcmUuXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVRpbGVDaGFuZ2VfKCkge1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVZpZXdQcm9wZXJ0eUNoYW5nZWRfKCkge1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVZpZXdDaGFuZ2VkXygpIHtcbiAgICBpZiAodGhpcy52aWV3UHJvcGVydHlMaXN0ZW5lcktleV8pIHtcbiAgICAgIHVubGlzdGVuQnlLZXkodGhpcy52aWV3UHJvcGVydHlMaXN0ZW5lcktleV8pO1xuICAgICAgdGhpcy52aWV3UHJvcGVydHlMaXN0ZW5lcktleV8gPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy52aWV3Q2hhbmdlTGlzdGVuZXJLZXlfKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMudmlld0NoYW5nZUxpc3RlbmVyS2V5Xyk7XG4gICAgICB0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8gPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCB2aWV3ID0gdGhpcy5nZXRWaWV3KCk7XG4gICAgaWYgKHZpZXcpIHtcbiAgICAgIHRoaXMudXBkYXRlVmlld3BvcnRTaXplXygpO1xuXG4gICAgICB0aGlzLnZpZXdQcm9wZXJ0eUxpc3RlbmVyS2V5XyA9IGxpc3RlbihcbiAgICAgICAgdmlldyxcbiAgICAgICAgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLFxuICAgICAgICB0aGlzLmhhbmRsZVZpZXdQcm9wZXJ0eUNoYW5nZWRfLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgICAgdGhpcy52aWV3Q2hhbmdlTGlzdGVuZXJLZXlfID0gbGlzdGVuKFxuICAgICAgICB2aWV3LFxuICAgICAgICBFdmVudFR5cGUuQ0hBTkdFLFxuICAgICAgICB0aGlzLmhhbmRsZVZpZXdQcm9wZXJ0eUNoYW5nZWRfLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuXG4gICAgICB2aWV3LnJlc29sdmVDb25zdHJhaW50cygwKTtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlTGF5ZXJHcm91cENoYW5nZWRfKCkge1xuICAgIGlmICh0aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18pIHtcbiAgICAgIHRoaXMubGF5ZXJHcm91cFByb3BlcnR5TGlzdGVuZXJLZXlzXy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgICAgdGhpcy5sYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbGF5ZXJHcm91cCA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpO1xuICAgIGlmIChsYXllckdyb3VwKSB7XG4gICAgICB0aGlzLmhhbmRsZUxheWVyQWRkXyhuZXcgR3JvdXBFdmVudCgnYWRkbGF5ZXInLCBsYXllckdyb3VwKSk7XG4gICAgICB0aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18gPSBbXG4gICAgICAgIGxpc3RlbihsYXllckdyb3VwLCBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0UsIHRoaXMucmVuZGVyLCB0aGlzKSxcbiAgICAgICAgbGlzdGVuKGxheWVyR3JvdXAsIEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMucmVuZGVyLCB0aGlzKSxcbiAgICAgICAgbGlzdGVuKGxheWVyR3JvdXAsICdhZGRsYXllcicsIHRoaXMuaGFuZGxlTGF5ZXJBZGRfLCB0aGlzKSxcbiAgICAgICAgbGlzdGVuKGxheWVyR3JvdXAsICdyZW1vdmVsYXllcicsIHRoaXMuaGFuZGxlTGF5ZXJSZW1vdmVfLCB0aGlzKSxcbiAgICAgIF07XG4gICAgfVxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgcmVuZGVyZWQuXG4gICAqL1xuICBpc1JlbmRlcmVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuZnJhbWVTdGF0ZV87XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFuaW1hdGlvbkRlbGF5XygpIHtcbiAgICB0aGlzLmFuaW1hdGlvbkRlbGF5S2V5XyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJlbmRlckZyYW1lXyhEYXRlLm5vdygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0cyBhbiBpbW1lZGlhdGUgcmVuZGVyIGluIGEgc3luY2hyb25vdXMgbWFubmVyLlxuICAgKiBAYXBpXG4gICAqL1xuICByZW5kZXJTeW5jKCkge1xuICAgIGlmICh0aGlzLmFuaW1hdGlvbkRlbGF5S2V5Xykge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25EZWxheUtleV8pO1xuICAgIH1cbiAgICB0aGlzLmFuaW1hdGlvbkRlbGF5XygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZHJhd3MgYWxsIHRleHQgYWZ0ZXIgbmV3IGZvbnRzIGhhdmUgbG9hZGVkXG4gICAqL1xuICByZWRyYXdUZXh0KCkge1xuICAgIGNvbnN0IGxheWVyU3RhdGVzID0gdGhpcy5nZXRMYXllckdyb3VwKCkuZ2V0TGF5ZXJTdGF0ZXNBcnJheSgpO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGxheWVyU3RhdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJTdGF0ZXNbaV0ubGF5ZXI7XG4gICAgICBpZiAobGF5ZXIuaGFzUmVuZGVyZXIoKSkge1xuICAgICAgICBsYXllci5nZXRSZW5kZXJlcigpLmhhbmRsZUZvbnRzQ2hhbmdlZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IGEgbWFwIHJlbmRlcmluZyAoYXQgdGhlIG5leHQgYW5pbWF0aW9uIGZyYW1lKS5cbiAgICogQGFwaVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnJlbmRlcmVyXyAmJiB0aGlzLmFuaW1hdGlvbkRlbGF5S2V5XyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmFuaW1hdGlvbkRlbGF5S2V5XyA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkRlbGF5Xyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgZ2l2ZW4gY29udHJvbCBmcm9tIHRoZSBtYXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdH0gY29udHJvbCBDb250cm9sLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgY29udHJvbCAob3IgdW5kZWZpbmVkXG4gICAqICAgICBpZiB0aGUgY29udHJvbCB3YXMgbm90IGZvdW5kKS5cbiAgICogQGFwaVxuICAgKi9cbiAgcmVtb3ZlQ29udHJvbChjb250cm9sKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q29udHJvbHMoKS5yZW1vdmUoY29udHJvbCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBnaXZlbiBpbnRlcmFjdGlvbiBmcm9tIHRoZSBtYXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0fSBpbnRlcmFjdGlvbiBJbnRlcmFjdGlvbiB0byByZW1vdmUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIGludGVyYWN0aW9uIChvclxuICAgKiAgICAgdW5kZWZpbmVkIGlmIHRoZSBpbnRlcmFjdGlvbiB3YXMgbm90IGZvdW5kKS5cbiAgICogQGFwaVxuICAgKi9cbiAgcmVtb3ZlSW50ZXJhY3Rpb24oaW50ZXJhY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5nZXRJbnRlcmFjdGlvbnMoKS5yZW1vdmUoaW50ZXJhY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGdpdmVuIGxheWVyIGZyb20gdGhlIG1hcC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgbGF5ZXIgKG9yIHVuZGVmaW5lZCBpZiB0aGVcbiAgICogICAgIGxheWVyIHdhcyBub3QgZm91bmQpLlxuICAgKiBAYXBpXG4gICAqL1xuICByZW1vdmVMYXllcihsYXllcikge1xuICAgIGNvbnN0IGxheWVycyA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVycygpO1xuICAgIHJldHVybiBsYXllcnMucmVtb3ZlKGxheWVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvR3JvdXAuanNcIikuR3JvdXBFdmVudH0gZXZlbnQgVGhlIGxheWVyIHJlbW92ZSBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUxheWVyUmVtb3ZlXyhldmVudCkge1xuICAgIHJlbW92ZUxheWVyTWFwUHJvcGVydHkoZXZlbnQubGF5ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgZ2l2ZW4gb3ZlcmxheSBmcm9tIHRoZSBtYXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9IG92ZXJsYXkgT3ZlcmxheS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBUaGUgcmVtb3ZlZCBvdmVybGF5IChvciB1bmRlZmluZWRcbiAgICogICAgIGlmIHRoZSBvdmVybGF5IHdhcyBub3QgZm91bmQpLlxuICAgKiBAYXBpXG4gICAqL1xuICByZW1vdmVPdmVybGF5KG92ZXJsYXkpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRPdmVybGF5cygpLnJlbW92ZShvdmVybGF5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSBUaW1lLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVuZGVyRnJhbWVfKHRpbWUpIHtcbiAgICBjb25zdCBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgY29uc3QgdmlldyA9IHRoaXMuZ2V0VmlldygpO1xuICAgIGNvbnN0IHByZXZpb3VzRnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZV87XG4gICAgLyoqIEB0eXBlIHs/RnJhbWVTdGF0ZX0gKi9cbiAgICBsZXQgZnJhbWVTdGF0ZSA9IG51bGw7XG4gICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCAmJiBoYXNBcmVhKHNpemUpICYmIHZpZXcgJiYgdmlldy5pc0RlZigpKSB7XG4gICAgICBjb25zdCB2aWV3SGludHMgPSB2aWV3LmdldEhpbnRzKFxuICAgICAgICB0aGlzLmZyYW1lU3RhdGVfID8gdGhpcy5mcmFtZVN0YXRlXy52aWV3SGludHMgOiB1bmRlZmluZWRcbiAgICAgICk7XG4gICAgICBjb25zdCB2aWV3U3RhdGUgPSB2aWV3LmdldFN0YXRlKCk7XG4gICAgICBmcmFtZVN0YXRlID0ge1xuICAgICAgICBhbmltYXRlOiBmYWxzZSxcbiAgICAgICAgY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm06IHRoaXMuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm1fLFxuICAgICAgICBkZWNsdXR0ZXJUcmVlOiBudWxsLFxuICAgICAgICBleHRlbnQ6IGdldEZvclZpZXdBbmRTaXplKFxuICAgICAgICAgIHZpZXdTdGF0ZS5jZW50ZXIsXG4gICAgICAgICAgdmlld1N0YXRlLnJlc29sdXRpb24sXG4gICAgICAgICAgdmlld1N0YXRlLnJvdGF0aW9uLFxuICAgICAgICAgIHNpemVcbiAgICAgICAgKSxcbiAgICAgICAgaW5kZXg6IHRoaXMuZnJhbWVJbmRleF8rKyxcbiAgICAgICAgbGF5ZXJJbmRleDogMCxcbiAgICAgICAgbGF5ZXJTdGF0ZXNBcnJheTogdGhpcy5nZXRMYXllckdyb3VwKCkuZ2V0TGF5ZXJTdGF0ZXNBcnJheSgpLFxuICAgICAgICBwaXhlbFJhdGlvOiB0aGlzLnBpeGVsUmF0aW9fLFxuICAgICAgICBwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybTogdGhpcy5waXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybV8sXG4gICAgICAgIHBvc3RSZW5kZXJGdW5jdGlvbnM6IFtdLFxuICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICB0aWxlUXVldWU6IHRoaXMudGlsZVF1ZXVlXyxcbiAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgdXNlZFRpbGVzOiB7fSxcbiAgICAgICAgdmlld1N0YXRlOiB2aWV3U3RhdGUsXG4gICAgICAgIHZpZXdIaW50czogdmlld0hpbnRzLFxuICAgICAgICB3YW50ZWRUaWxlczoge30sXG4gICAgICAgIG1hcElkOiBnZXRVaWQodGhpcyksXG4gICAgICAgIHJlbmRlclRhcmdldHM6IHt9LFxuICAgICAgfTtcbiAgICAgIGlmICh2aWV3U3RhdGUubmV4dENlbnRlciAmJiB2aWV3U3RhdGUubmV4dFJlc29sdXRpb24pIHtcbiAgICAgICAgY29uc3Qgcm90YXRpb24gPSBpc05hTih2aWV3U3RhdGUubmV4dFJvdGF0aW9uKVxuICAgICAgICAgID8gdmlld1N0YXRlLnJvdGF0aW9uXG4gICAgICAgICAgOiB2aWV3U3RhdGUubmV4dFJvdGF0aW9uO1xuXG4gICAgICAgIGZyYW1lU3RhdGUubmV4dEV4dGVudCA9IGdldEZvclZpZXdBbmRTaXplKFxuICAgICAgICAgIHZpZXdTdGF0ZS5uZXh0Q2VudGVyLFxuICAgICAgICAgIHZpZXdTdGF0ZS5uZXh0UmVzb2x1dGlvbixcbiAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICBzaXplXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5mcmFtZVN0YXRlXyA9IGZyYW1lU3RhdGU7XG4gICAgdGhpcy5yZW5kZXJlcl8ucmVuZGVyRnJhbWUoZnJhbWVTdGF0ZSk7XG5cbiAgICBpZiAoZnJhbWVTdGF0ZSkge1xuICAgICAgaWYgKGZyYW1lU3RhdGUuYW5pbWF0ZSkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgfVxuICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoXG4gICAgICAgIHRoaXMucG9zdFJlbmRlckZ1bmN0aW9uc18sXG4gICAgICAgIGZyYW1lU3RhdGUucG9zdFJlbmRlckZ1bmN0aW9uc1xuICAgICAgKTtcblxuICAgICAgaWYgKHByZXZpb3VzRnJhbWVTdGF0ZSkge1xuICAgICAgICBjb25zdCBtb3ZlU3RhcnQgPVxuICAgICAgICAgICF0aGlzLnByZXZpb3VzRXh0ZW50XyB8fFxuICAgICAgICAgICghaXNFbXB0eSh0aGlzLnByZXZpb3VzRXh0ZW50XykgJiZcbiAgICAgICAgICAgICFlcXVhbHNFeHRlbnQoZnJhbWVTdGF0ZS5leHRlbnQsIHRoaXMucHJldmlvdXNFeHRlbnRfKSk7XG4gICAgICAgIGlmIChtb3ZlU3RhcnQpIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICBuZXcgTWFwRXZlbnQoTWFwRXZlbnRUeXBlLk1PVkVTVEFSVCwgdGhpcywgcHJldmlvdXNGcmFtZVN0YXRlKVxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5wcmV2aW91c0V4dGVudF8gPSBjcmVhdGVPclVwZGF0ZUVtcHR5KHRoaXMucHJldmlvdXNFeHRlbnRfKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBpZGxlID1cbiAgICAgICAgdGhpcy5wcmV2aW91c0V4dGVudF8gJiZcbiAgICAgICAgIWZyYW1lU3RhdGUudmlld0hpbnRzW1ZpZXdIaW50LkFOSU1BVElOR10gJiZcbiAgICAgICAgIWZyYW1lU3RhdGUudmlld0hpbnRzW1ZpZXdIaW50LklOVEVSQUNUSU5HXSAmJlxuICAgICAgICAhZXF1YWxzRXh0ZW50KGZyYW1lU3RhdGUuZXh0ZW50LCB0aGlzLnByZXZpb3VzRXh0ZW50Xyk7XG5cbiAgICAgIGlmIChpZGxlKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICBuZXcgTWFwRXZlbnQoTWFwRXZlbnRUeXBlLk1PVkVFTkQsIHRoaXMsIGZyYW1lU3RhdGUpXG4gICAgICAgICk7XG4gICAgICAgIGNsb25lKGZyYW1lU3RhdGUuZXh0ZW50LCB0aGlzLnByZXZpb3VzRXh0ZW50Xyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNYXBFdmVudChNYXBFdmVudFR5cGUuUE9TVFJFTkRFUiwgdGhpcywgZnJhbWVTdGF0ZSkpO1xuXG4gICAgdGhpcy5yZW5kZXJDb21wbGV0ZV8gPVxuICAgICAgdGhpcy5oYXNMaXN0ZW5lcihNYXBFdmVudFR5cGUuTE9BRFNUQVJUKSB8fFxuICAgICAgdGhpcy5oYXNMaXN0ZW5lcihNYXBFdmVudFR5cGUuTE9BREVORCkgfHxcbiAgICAgIHRoaXMuaGFzTGlzdGVuZXIoUmVuZGVyRXZlbnRUeXBlLlJFTkRFUkNPTVBMRVRFKVxuICAgICAgICA/ICF0aGlzLnRpbGVRdWV1ZV8uZ2V0VGlsZXNMb2FkaW5nKCkgJiZcbiAgICAgICAgICAhdGhpcy50aWxlUXVldWVfLmdldENvdW50KCkgJiZcbiAgICAgICAgICAhdGhpcy5nZXRMb2FkaW5nT3JOb3RSZWFkeSgpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKCF0aGlzLnBvc3RSZW5kZXJUaW1lb3V0SGFuZGxlXykge1xuICAgICAgdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV8gPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGFuZGxlUG9zdFJlbmRlcigpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxheWVyZ3JvdXAgb2YgdGhpcyBtYXAuXG4gICAqIEBwYXJhbSB7TGF5ZXJHcm91cH0gbGF5ZXJHcm91cCBBIGxheWVyIGdyb3VwIGNvbnRhaW5pbmcgdGhlIGxheWVycyBpbiB0aGlzIG1hcC5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TGF5ZXJHcm91cChsYXllckdyb3VwKSB7XG4gICAgY29uc3Qgb2xkTGF5ZXJHcm91cCA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpO1xuICAgIGlmIChvbGRMYXllckdyb3VwKSB7XG4gICAgICB0aGlzLmhhbmRsZUxheWVyUmVtb3ZlXyhuZXcgR3JvdXBFdmVudCgncmVtb3ZlbGF5ZXInLCBvbGRMYXllckdyb3VwKSk7XG4gICAgfVxuICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LkxBWUVSR1JPVVAsIGxheWVyR3JvdXApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc2l6ZSBvZiB0aGlzIG1hcC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9IHNpemUgVGhlIHNpemUgaW4gcGl4ZWxzIG9mIHRoZSBtYXAgaW4gdGhlIERPTS5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U2l6ZShzaXplKSB7XG4gICAgdGhpcy5zZXQoTWFwUHJvcGVydHkuU0laRSwgc2l6ZSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB0YXJnZXQgZWxlbWVudCB0byByZW5kZXIgdGhpcyBtYXAgaW50by5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IFt0YXJnZXRdIFRoZSBFbGVtZW50IG9yIGlkIG9mIHRoZSBFbGVtZW50XG4gICAqICAgICB0aGF0IHRoZSBtYXAgaXMgcmVuZGVyZWQgaW4uXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFRhcmdldCh0YXJnZXQpIHtcbiAgICB0aGlzLnNldChNYXBQcm9wZXJ0eS5UQVJHRVQsIHRhcmdldCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB2aWV3IGZvciB0aGlzIG1hcC5cbiAgICogQHBhcmFtIHtWaWV3fFByb21pc2U8aW1wb3J0KFwiLi9WaWV3LmpzXCIpLlZpZXdPcHRpb25zPn0gdmlldyBUaGUgdmlldyB0aGF0IGNvbnRyb2xzIHRoaXMgbWFwLlxuICAgKiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRvIHBhc3MgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gb3B0aW9ucyBmb3IgY29uc3RydWN0aW5nIGEgdmlldy4gIFRoaXNcbiAgICogYWx0ZXJuYXRpdmUgYWxsb3dzIHZpZXcgcHJvcGVydGllcyB0byBiZSByZXNvbHZlZCBieSBzb3VyY2VzIG9yIG90aGVyIGNvbXBvbmVudHMgdGhhdCBsb2FkXG4gICAqIHZpZXctcmVsYXRlZCBtZXRhZGF0YS5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Vmlldyh2aWV3KSB7XG4gICAgaWYgKCF2aWV3IHx8IHZpZXcgaW5zdGFuY2VvZiBWaWV3KSB7XG4gICAgICB0aGlzLnNldChNYXBQcm9wZXJ0eS5WSUVXLCB2aWV3KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXQoTWFwUHJvcGVydHkuVklFVywgbmV3IFZpZXcoKSk7XG5cbiAgICBjb25zdCBtYXAgPSB0aGlzO1xuICAgIHZpZXcudGhlbihmdW5jdGlvbiAodmlld09wdGlvbnMpIHtcbiAgICAgIG1hcC5zZXRWaWV3KG5ldyBWaWV3KHZpZXdPcHRpb25zKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRm9yY2UgYSByZWNhbGN1bGF0aW9uIG9mIHRoZSBtYXAgdmlld3BvcnQgc2l6ZS4gIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCB3aGVuXG4gICAqIHRoaXJkLXBhcnR5IGNvZGUgY2hhbmdlcyB0aGUgc2l6ZSBvZiB0aGUgbWFwIHZpZXdwb3J0LlxuICAgKiBAYXBpXG4gICAqL1xuICB1cGRhdGVTaXplKCkge1xuICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSB0aGlzLmdldFRhcmdldEVsZW1lbnQoKTtcblxuICAgIGxldCBzaXplID0gdW5kZWZpbmVkO1xuICAgIGlmICh0YXJnZXRFbGVtZW50KSB7XG4gICAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXRFbGVtZW50KTtcbiAgICAgIGNvbnN0IHdpZHRoID1cbiAgICAgICAgdGFyZ2V0RWxlbWVudC5vZmZzZXRXaWR0aCAtXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsnYm9yZGVyTGVmdFdpZHRoJ10pIC1cbiAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydwYWRkaW5nTGVmdCddKSAtXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsncGFkZGluZ1JpZ2h0J10pIC1cbiAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydib3JkZXJSaWdodFdpZHRoJ10pO1xuICAgICAgY29uc3QgaGVpZ2h0ID1cbiAgICAgICAgdGFyZ2V0RWxlbWVudC5vZmZzZXRIZWlnaHQgLVxuICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ2JvcmRlclRvcFdpZHRoJ10pIC1cbiAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydwYWRkaW5nVG9wJ10pIC1cbiAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydwYWRkaW5nQm90dG9tJ10pIC1cbiAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydib3JkZXJCb3R0b21XaWR0aCddKTtcbiAgICAgIGlmICghaXNOYU4od2lkdGgpICYmICFpc05hTihoZWlnaHQpKSB7XG4gICAgICAgIHNpemUgPSBbd2lkdGgsIGhlaWdodF07XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhaGFzQXJlYShzaXplKSAmJlxuICAgICAgICAgICEhKFxuICAgICAgICAgICAgdGFyZ2V0RWxlbWVudC5vZmZzZXRXaWR0aCB8fFxuICAgICAgICAgICAgdGFyZ2V0RWxlbWVudC5vZmZzZXRIZWlnaHQgfHxcbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGhcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICBcIk5vIG1hcCB2aXNpYmxlIGJlY2F1c2UgdGhlIG1hcCBjb250YWluZXIncyB3aWR0aCBvciBoZWlnaHQgYXJlIDAuXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkU2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuICAgIGlmIChzaXplICYmICghb2xkU2l6ZSB8fCAhZXF1YWxzKHNpemUsIG9sZFNpemUpKSkge1xuICAgICAgdGhpcy5zZXRTaXplKHNpemUpO1xuICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydFNpemVfKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlY29tcHV0ZXMgdGhlIHZpZXdwb3J0IHNpemUgYW5kIHNhdmUgaXQgb24gdGhlIHZpZXcgb2JqZWN0IChpZiBhbnkpXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB1cGRhdGVWaWV3cG9ydFNpemVfKCkge1xuICAgIGNvbnN0IHZpZXcgPSB0aGlzLmdldFZpZXcoKTtcbiAgICBpZiAodmlldykge1xuICAgICAgbGV0IHNpemUgPSB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgICBpZiAoY29tcHV0ZWRTdHlsZS53aWR0aCAmJiBjb21wdXRlZFN0eWxlLmhlaWdodCkge1xuICAgICAgICBzaXplID0gW1xuICAgICAgICAgIHBhcnNlSW50KGNvbXB1dGVkU3R5bGUud2lkdGgsIDEwKSxcbiAgICAgICAgICBwYXJzZUludChjb21wdXRlZFN0eWxlLmhlaWdodCwgMTApLFxuICAgICAgICBdO1xuICAgICAgfVxuICAgICAgdmlldy5zZXRWaWV3cG9ydFNpemUoc2l6ZSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtNYXBPcHRpb25zfSBvcHRpb25zIE1hcCBvcHRpb25zLlxuICogQHJldHVybiB7TWFwT3B0aW9uc0ludGVybmFsfSBJbnRlcm5hbCBtYXAgb3B0aW9ucy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlT3B0aW9uc0ludGVybmFsKG9wdGlvbnMpIHtcbiAgLyoqXG4gICAqIEB0eXBlIHtIVE1MRWxlbWVudHxEb2N1bWVudH1cbiAgICovXG4gIGxldCBrZXlib2FyZEV2ZW50VGFyZ2V0ID0gbnVsbDtcbiAgaWYgKG9wdGlvbnMua2V5Ym9hcmRFdmVudFRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAga2V5Ym9hcmRFdmVudFRhcmdldCA9XG4gICAgICB0eXBlb2Ygb3B0aW9ucy5rZXlib2FyZEV2ZW50VGFyZ2V0ID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9wdGlvbnMua2V5Ym9hcmRFdmVudFRhcmdldClcbiAgICAgICAgOiBvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQ7XG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fVxuICAgKi9cbiAgY29uc3QgdmFsdWVzID0ge307XG5cbiAgY29uc3QgbGF5ZXJHcm91cCA9XG4gICAgb3B0aW9ucy5sYXllcnMgJiZcbiAgICB0eXBlb2YgKC8qKiBAdHlwZSB7P30gKi8gKG9wdGlvbnMubGF5ZXJzKS5nZXRMYXllcnMpID09PSAnZnVuY3Rpb24nXG4gICAgICA/IC8qKiBAdHlwZSB7TGF5ZXJHcm91cH0gKi8gKG9wdGlvbnMubGF5ZXJzKVxuICAgICAgOiBuZXcgTGF5ZXJHcm91cCh7XG4gICAgICAgICAgbGF5ZXJzOlxuICAgICAgICAgICAgLyoqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0PnxBcnJheTxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD59ICovIChcbiAgICAgICAgICAgICAgb3B0aW9ucy5sYXllcnNcbiAgICAgICAgICAgICksXG4gICAgICAgIH0pO1xuICB2YWx1ZXNbTWFwUHJvcGVydHkuTEFZRVJHUk9VUF0gPSBsYXllckdyb3VwO1xuXG4gIHZhbHVlc1tNYXBQcm9wZXJ0eS5UQVJHRVRdID0gb3B0aW9ucy50YXJnZXQ7XG5cbiAgdmFsdWVzW01hcFByb3BlcnR5LlZJRVddID1cbiAgICBvcHRpb25zLnZpZXcgaW5zdGFuY2VvZiBWaWV3ID8gb3B0aW9ucy52aWV3IDogbmV3IFZpZXcoKTtcblxuICAvKiogQHR5cGUge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD59ICovXG4gIGxldCBjb250cm9scztcbiAgaWYgKG9wdGlvbnMuY29udHJvbHMgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuY29udHJvbHMpKSB7XG4gICAgICBjb250cm9scyA9IG5ldyBDb2xsZWN0aW9uKG9wdGlvbnMuY29udHJvbHMuc2xpY2UoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydChcbiAgICAgICAgdHlwZW9mICgvKiogQHR5cGUgez99ICovIChvcHRpb25zLmNvbnRyb2xzKS5nZXRBcnJheSkgPT09ICdmdW5jdGlvbicsXG4gICAgICAgIDQ3XG4gICAgICApOyAvLyBFeHBlY3RlZCBgY29udHJvbHNgIHRvIGJlIGFuIGFycmF5IG9yIGFuIGBpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbmBcbiAgICAgIGNvbnRyb2xzID0gb3B0aW9ucy5jb250cm9scztcbiAgICB9XG4gIH1cblxuICAvKiogQHR5cGUge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvblwiKS5kZWZhdWx0Pn0gKi9cbiAgbGV0IGludGVyYWN0aW9ucztcbiAgaWYgKG9wdGlvbnMuaW50ZXJhY3Rpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmludGVyYWN0aW9ucykpIHtcbiAgICAgIGludGVyYWN0aW9ucyA9IG5ldyBDb2xsZWN0aW9uKG9wdGlvbnMuaW50ZXJhY3Rpb25zLnNsaWNlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQoXG4gICAgICAgIHR5cGVvZiAoLyoqIEB0eXBlIHs/fSAqLyAob3B0aW9ucy5pbnRlcmFjdGlvbnMpLmdldEFycmF5KSA9PT1cbiAgICAgICAgICAnZnVuY3Rpb24nLFxuICAgICAgICA0OFxuICAgICAgKTsgLy8gRXhwZWN0ZWQgYGludGVyYWN0aW9uc2AgdG8gYmUgYW4gYXJyYXkgb3IgYW4gYGltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uYFxuICAgICAgaW50ZXJhY3Rpb25zID0gb3B0aW9ucy5pbnRlcmFjdGlvbnM7XG4gICAgfVxuICB9XG5cbiAgLyoqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0Pn0gKi9cbiAgbGV0IG92ZXJsYXlzO1xuICBpZiAob3B0aW9ucy5vdmVybGF5cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5vdmVybGF5cykpIHtcbiAgICAgIG92ZXJsYXlzID0gbmV3IENvbGxlY3Rpb24ob3B0aW9ucy5vdmVybGF5cy5zbGljZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzZXJ0KFxuICAgICAgICB0eXBlb2YgKC8qKiBAdHlwZSB7P30gKi8gKG9wdGlvbnMub3ZlcmxheXMpLmdldEFycmF5KSA9PT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgNDlcbiAgICAgICk7IC8vIEV4cGVjdGVkIGBvdmVybGF5c2AgdG8gYmUgYW4gYXJyYXkgb3IgYW4gYGltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uYFxuICAgICAgb3ZlcmxheXMgPSBvcHRpb25zLm92ZXJsYXlzO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBvdmVybGF5cyA9IG5ldyBDb2xsZWN0aW9uKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNvbnRyb2xzOiBjb250cm9scyxcbiAgICBpbnRlcmFjdGlvbnM6IGludGVyYWN0aW9ucyxcbiAgICBrZXlib2FyZEV2ZW50VGFyZ2V0OiBrZXlib2FyZEV2ZW50VGFyZ2V0LFxuICAgIG92ZXJsYXlzOiBvdmVybGF5cyxcbiAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IE1hcDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9jb250cm9sL2RlZmF1bHRzXG4gKi9cbmltcG9ydCBBdHRyaWJ1dGlvbiBmcm9tICcuL0F0dHJpYnV0aW9uLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4uL0NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IFJvdGF0ZSBmcm9tICcuL1JvdGF0ZS5qcyc7XG5pbXBvcnQgWm9vbSBmcm9tICcuL1pvb20uanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IERlZmF1bHRzT3B0aW9uc1xuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb249dHJ1ZV0gSW5jbHVkZVxuICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL0F0dHJpYnV0aW9ufkF0dHJpYnV0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9BdHRyaWJ1dGlvbi5qc1wiKS5PcHRpb25zfSBbYXR0cmlidXRpb25PcHRpb25zXVxuICogT3B0aW9ucyBmb3Ige0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL0F0dHJpYnV0aW9ufkF0dHJpYnV0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JvdGF0ZT10cnVlXSBJbmNsdWRlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvUm90YXRlflJvdGF0ZX0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vUm90YXRlLmpzXCIpLk9wdGlvbnN9IFtyb3RhdGVPcHRpb25zXSBPcHRpb25zXG4gKiBmb3Ige0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL1JvdGF0ZX5Sb3RhdGV9LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbem9vbV0gSW5jbHVkZSB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvWm9vbX5ab29tfS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9ab29tLmpzXCIpLk9wdGlvbnN9IFt6b29tT3B0aW9uc10gT3B0aW9ucyBmb3JcbiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9ab29tflpvb219LlxuICovXG5cbi8qKlxuICogU2V0IG9mIGNvbnRyb2xzIGluY2x1ZGVkIGluIG1hcHMgYnkgZGVmYXVsdC4gVW5sZXNzIGNvbmZpZ3VyZWQgb3RoZXJ3aXNlLFxuICogdGhpcyByZXR1cm5zIGEgY29sbGVjdGlvbiBjb250YWluaW5nIGFuIGluc3RhbmNlIG9mIGVhY2ggb2YgdGhlIGZvbGxvd2luZ1xuICogY29udHJvbHM6XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9ab29tflpvb219XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9Sb3RhdGV+Um90YXRlfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvQXR0cmlidXRpb25+QXR0cmlidXRpb259XG4gKlxuICogQHBhcmFtIHtEZWZhdWx0c09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zIGZvciB0aGUgZGVmYXVsdCBjb250cm9scy5cbiAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBBIGNvbGxlY3Rpb24gb2YgY29udHJvbHNcbiAqIHRvIGJlIHVzZWQgd2l0aCB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwfSBjb25zdHJ1Y3RvcidzIGBjb250cm9sc2Agb3B0aW9uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdHMob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAvKiogQHR5cGUge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSAqL1xuICBjb25zdCBjb250cm9scyA9IG5ldyBDb2xsZWN0aW9uKCk7XG5cbiAgY29uc3Qgem9vbUNvbnRyb2wgPSBvcHRpb25zLnpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuem9vbSA6IHRydWU7XG4gIGlmICh6b29tQ29udHJvbCkge1xuICAgIGNvbnRyb2xzLnB1c2gobmV3IFpvb20ob3B0aW9ucy56b29tT3B0aW9ucykpO1xuICB9XG5cbiAgY29uc3Qgcm90YXRlQ29udHJvbCA9IG9wdGlvbnMucm90YXRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0ZSA6IHRydWU7XG4gIGlmIChyb3RhdGVDb250cm9sKSB7XG4gICAgY29udHJvbHMucHVzaChuZXcgUm90YXRlKG9wdGlvbnMucm90YXRlT3B0aW9ucykpO1xuICB9XG5cbiAgY29uc3QgYXR0cmlidXRpb25Db250cm9sID1cbiAgICBvcHRpb25zLmF0dHJpYnV0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF0dHJpYnV0aW9uIDogdHJ1ZTtcbiAgaWYgKGF0dHJpYnV0aW9uQ29udHJvbCkge1xuICAgIGNvbnRyb2xzLnB1c2gobmV3IEF0dHJpYnV0aW9uKG9wdGlvbnMuYXR0cmlidXRpb25PcHRpb25zKSk7XG4gIH1cblxuICByZXR1cm4gY29udHJvbHM7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vZGVmYXVsdHNcbiAqL1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnLi4vQ29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgRG91YmxlQ2xpY2tab29tIGZyb20gJy4vRG91YmxlQ2xpY2tab29tLmpzJztcbmltcG9ydCBEcmFnUGFuIGZyb20gJy4vRHJhZ1Bhbi5qcyc7XG5pbXBvcnQgRHJhZ1JvdGF0ZSBmcm9tICcuL0RyYWdSb3RhdGUuanMnO1xuaW1wb3J0IERyYWdab29tIGZyb20gJy4vRHJhZ1pvb20uanMnO1xuaW1wb3J0IEtleWJvYXJkUGFuIGZyb20gJy4vS2V5Ym9hcmRQYW4uanMnO1xuaW1wb3J0IEtleWJvYXJkWm9vbSBmcm9tICcuL0tleWJvYXJkWm9vbS5qcyc7XG5pbXBvcnQgS2luZXRpYyBmcm9tICcuLi9LaW5ldGljLmpzJztcbmltcG9ydCBNb3VzZVdoZWVsWm9vbSBmcm9tICcuL01vdXNlV2hlZWxab29tLmpzJztcbmltcG9ydCBQaW5jaFJvdGF0ZSBmcm9tICcuL1BpbmNoUm90YXRlLmpzJztcbmltcG9ydCBQaW5jaFpvb20gZnJvbSAnLi9QaW5jaFpvb20uanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IERlZmF1bHRzT3B0aW9uc1xuICogQHByb3BlcnR5IHtib29sZWFufSBbYWx0U2hpZnREcmFnUm90YXRlPXRydWVdIFdoZXRoZXIgQWx0LVNoaWZ0LWRyYWcgcm90YXRlIGlzXG4gKiBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb25Gb2N1c09ubHk9ZmFsc2VdIEludGVyYWN0IG9ubHkgd2hlbiB0aGUgbWFwIGhhcyB0aGVcbiAqIGZvY3VzLiBUaGlzIGFmZmVjdHMgdGhlIGBNb3VzZVdoZWVsWm9vbWAgYW5kIGBEcmFnUGFuYCBpbnRlcmFjdGlvbnMgYW5kIGlzXG4gKiB1c2VmdWwgd2hlbiBwYWdlIHNjcm9sbCBpcyBkZXNpcmVkIGZvciBtYXBzIHRoYXQgZG8gbm90IGhhdmUgdGhlIGJyb3dzZXInc1xuICogZm9jdXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtkb3VibGVDbGlja1pvb209dHJ1ZV0gV2hldGhlciBkb3VibGUgY2xpY2sgem9vbSBpc1xuICogZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2tleWJvYXJkPXRydWVdIFdoZXRoZXIga2V5Ym9hcmQgaW50ZXJhY3Rpb24gaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW21vdXNlV2hlZWxab29tPXRydWVdIFdoZXRoZXIgbW91c2V3aGVlbCB6b29tIGlzIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzaGlmdERyYWdab29tPXRydWVdIFdoZXRoZXIgU2hpZnQtZHJhZyB6b29tIGlzIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtkcmFnUGFuPXRydWVdIFdoZXRoZXIgZHJhZyBwYW4gaXMgZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3BpbmNoUm90YXRlPXRydWVdIFdoZXRoZXIgcGluY2ggcm90YXRlIGlzIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtwaW5jaFpvb209dHJ1ZV0gV2hldGhlciBwaW5jaCB6b29tIGlzIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pvb21EZWx0YV0gWm9vbSBsZXZlbCBkZWx0YSB3aGVuIHVzaW5nIGtleWJvYXJkIG9yIGRvdWJsZSBjbGljayB6b29tLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6b29tRHVyYXRpb25dIER1cmF0aW9uIG9mIHRoZSB6b29tIGFuaW1hdGlvbiBpblxuICogbWlsbGlzZWNvbmRzLlxuICovXG5cbi8qKlxuICogU2V0IG9mIGludGVyYWN0aW9ucyBpbmNsdWRlZCBpbiBtYXBzIGJ5IGRlZmF1bHQuIFNwZWNpZmljIGludGVyYWN0aW9ucyBjYW4gYmVcbiAqIGV4Y2x1ZGVkIGJ5IHNldHRpbmcgdGhlIGFwcHJvcHJpYXRlIG9wdGlvbiB0byBmYWxzZSBpbiB0aGUgY29uc3RydWN0b3JcbiAqIG9wdGlvbnMsIGJ1dCB0aGUgb3JkZXIgb2YgdGhlIGludGVyYWN0aW9ucyBpcyBmaXhlZC4gIElmIHlvdSB3YW50IHRvIHNwZWNpZnlcbiAqIGEgZGlmZmVyZW50IG9yZGVyIGZvciBpbnRlcmFjdGlvbnMsIHlvdSB3aWxsIG5lZWQgdG8gY3JlYXRlIHlvdXIgb3duXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0ludGVyYWN0aW9ufkludGVyYWN0aW9ufSBpbnN0YW5jZXMgYW5kIGluc2VydFxuICogdGhlbSBpbnRvIGEge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259IGluIHRoZSBvcmRlciB5b3Ugd2FudFxuICogYmVmb3JlIGNyZWF0aW5nIHlvdXIge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwfSBpbnN0YW5jZS4gQ2hhbmdpbmcgdGhlIG9yZGVyIGNhblxuICogYmUgb2YgaW50ZXJlc3QgaWYgdGhlIGV2ZW50IHByb3BhZ2F0aW9uIG5lZWRzIHRvIGJlIHN0b3BwZWQgYXQgYSBwb2ludC5cbiAqIFRoZSBkZWZhdWx0IHNldCBvZiBpbnRlcmFjdGlvbnMsIGluIHNlcXVlbmNlLCBpczpcbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnUm90YXRlfkRyYWdSb3RhdGV9XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRG91YmxlQ2xpY2tab29tfkRvdWJsZUNsaWNrWm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnUGFufkRyYWdQYW59XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vUGluY2hSb3RhdGV+UGluY2hSb3RhdGV9XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vUGluY2hab29tflBpbmNoWm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFBhbn5LZXlib2FyZFBhbn1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21+S2V5Ym9hcmRab29tfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL01vdXNlV2hlZWxab29tfk1vdXNlV2hlZWxab29tfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RyYWdab29tfkRyYWdab29tfVxuICpcbiAqIEBwYXJhbSB7RGVmYXVsdHNPcHRpb25zfSBbb3B0aW9uc10gRGVmYXVsdHMgb3B0aW9ucy5cbiAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn1cbiAqIEEgY29sbGVjdGlvbiBvZiBpbnRlcmFjdGlvbnMgdG8gYmUgdXNlZCB3aXRoIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9XG4gKiBjb25zdHJ1Y3RvcidzIGBpbnRlcmFjdGlvbnNgIG9wdGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgLyoqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59ICovXG4gIGNvbnN0IGludGVyYWN0aW9ucyA9IG5ldyBDb2xsZWN0aW9uKCk7XG5cbiAgY29uc3Qga2luZXRpYyA9IG5ldyBLaW5ldGljKC0wLjAwNSwgMC4wNSwgMTAwKTtcblxuICBjb25zdCBhbHRTaGlmdERyYWdSb3RhdGUgPVxuICAgIG9wdGlvbnMuYWx0U2hpZnREcmFnUm90YXRlICE9PSB1bmRlZmluZWRcbiAgICAgID8gb3B0aW9ucy5hbHRTaGlmdERyYWdSb3RhdGVcbiAgICAgIDogdHJ1ZTtcbiAgaWYgKGFsdFNoaWZ0RHJhZ1JvdGF0ZSkge1xuICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBEcmFnUm90YXRlKCkpO1xuICB9XG5cbiAgY29uc3QgZG91YmxlQ2xpY2tab29tID1cbiAgICBvcHRpb25zLmRvdWJsZUNsaWNrWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kb3VibGVDbGlja1pvb20gOiB0cnVlO1xuICBpZiAoZG91YmxlQ2xpY2tab29tKSB7XG4gICAgaW50ZXJhY3Rpb25zLnB1c2goXG4gICAgICBuZXcgRG91YmxlQ2xpY2tab29tKHtcbiAgICAgICAgZGVsdGE6IG9wdGlvbnMuem9vbURlbHRhLFxuICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy56b29tRHVyYXRpb24sXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBjb25zdCBkcmFnUGFuID0gb3B0aW9ucy5kcmFnUGFuICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRyYWdQYW4gOiB0cnVlO1xuICBpZiAoZHJhZ1Bhbikge1xuICAgIGludGVyYWN0aW9ucy5wdXNoKFxuICAgICAgbmV3IERyYWdQYW4oe1xuICAgICAgICBvbkZvY3VzT25seTogb3B0aW9ucy5vbkZvY3VzT25seSxcbiAgICAgICAga2luZXRpYzoga2luZXRpYyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHBpbmNoUm90YXRlID1cbiAgICBvcHRpb25zLnBpbmNoUm90YXRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBpbmNoUm90YXRlIDogdHJ1ZTtcbiAgaWYgKHBpbmNoUm90YXRlKSB7XG4gICAgaW50ZXJhY3Rpb25zLnB1c2gobmV3IFBpbmNoUm90YXRlKCkpO1xuICB9XG5cbiAgY29uc3QgcGluY2hab29tID0gb3B0aW9ucy5waW5jaFpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGluY2hab29tIDogdHJ1ZTtcbiAgaWYgKHBpbmNoWm9vbSkge1xuICAgIGludGVyYWN0aW9ucy5wdXNoKFxuICAgICAgbmV3IFBpbmNoWm9vbSh7XG4gICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvbixcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGtleWJvYXJkID0gb3B0aW9ucy5rZXlib2FyZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlib2FyZCA6IHRydWU7XG4gIGlmIChrZXlib2FyZCkge1xuICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBLZXlib2FyZFBhbigpKTtcbiAgICBpbnRlcmFjdGlvbnMucHVzaChcbiAgICAgIG5ldyBLZXlib2FyZFpvb20oe1xuICAgICAgICBkZWx0YTogb3B0aW9ucy56b29tRGVsdGEsXG4gICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvbixcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IG1vdXNlV2hlZWxab29tID1cbiAgICBvcHRpb25zLm1vdXNlV2hlZWxab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1vdXNlV2hlZWxab29tIDogdHJ1ZTtcbiAgaWYgKG1vdXNlV2hlZWxab29tKSB7XG4gICAgaW50ZXJhY3Rpb25zLnB1c2goXG4gICAgICBuZXcgTW91c2VXaGVlbFpvb20oe1xuICAgICAgICBvbkZvY3VzT25seTogb3B0aW9ucy5vbkZvY3VzT25seSxcbiAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuem9vbUR1cmF0aW9uLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgY29uc3Qgc2hpZnREcmFnWm9vbSA9XG4gICAgb3B0aW9ucy5zaGlmdERyYWdab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNoaWZ0RHJhZ1pvb20gOiB0cnVlO1xuICBpZiAoc2hpZnREcmFnWm9vbSkge1xuICAgIGludGVyYWN0aW9ucy5wdXNoKFxuICAgICAgbmV3IERyYWdab29tKHtcbiAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuem9vbUR1cmF0aW9uLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGludGVyYWN0aW9ucztcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9LaW5ldGljXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiBpbmVydGlhbCBkZWNlbGVyYXRpb24gZm9yIG1hcCBtb3ZlbWVudC5cbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIEtpbmV0aWMge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlY2F5IFJhdGUgb2YgZGVjYXkgKG11c3QgYmUgbmVnYXRpdmUpLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluVmVsb2NpdHkgTWluaW11bSB2ZWxvY2l0eSAocGl4ZWxzL21pbGxpc2Vjb25kKS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5IERlbGF5IHRvIGNvbnNpZGVyIHRvIGNhbGN1bGF0ZSB0aGUga2luZXRpY1xuICAgKiAgICAgaW5pdGlhbCB2YWx1ZXMgKG1pbGxpc2Vjb25kcykuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZWNheSwgbWluVmVsb2NpdHksIGRlbGF5KSB7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGVjYXlfID0gZGVjYXk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5taW5WZWxvY2l0eV8gPSBtaW5WZWxvY2l0eTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmRlbGF5XyA9IGRlbGF5O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLnBvaW50c18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmFuZ2xlXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbml0aWFsVmVsb2NpdHlfID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICovXG4gIGJlZ2luKCkge1xuICAgIHRoaXMucG9pbnRzXy5sZW5ndGggPSAwO1xuICAgIHRoaXMuYW5nbGVfID0gMDtcbiAgICB0aGlzLmluaXRpYWxWZWxvY2l0eV8gPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAqL1xuICB1cGRhdGUoeCwgeSkge1xuICAgIHRoaXMucG9pbnRzXy5wdXNoKHgsIHksIERhdGUubm93KCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgd2Ugc2hvdWxkIGRvIGtpbmV0aWMgYW5pbWF0aW9uLlxuICAgKi9cbiAgZW5kKCkge1xuICAgIGlmICh0aGlzLnBvaW50c18ubGVuZ3RoIDwgNikge1xuICAgICAgLy8gYXQgbGVhc3QgMiBwb2ludHMgYXJlIHJlcXVpcmVkIChpLmUuIHRoZXJlIG11c3QgYmUgYXQgbGVhc3QgNiBlbGVtZW50c1xuICAgICAgLy8gaW4gdGhlIGFycmF5KVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBkZWxheSA9IERhdGUubm93KCkgLSB0aGlzLmRlbGF5XztcbiAgICBjb25zdCBsYXN0SW5kZXggPSB0aGlzLnBvaW50c18ubGVuZ3RoIC0gMztcbiAgICBpZiAodGhpcy5wb2ludHNfW2xhc3RJbmRleCArIDJdIDwgZGVsYXkpIHtcbiAgICAgIC8vIHRoZSBsYXN0IHRyYWNrZWQgcG9pbnQgaXMgdG9vIG9sZCwgd2hpY2ggbWVhbnMgdGhhdCB0aGUgdXNlciBzdG9wcGVkXG4gICAgICAvLyBwYW5uaW5nIGJlZm9yZSByZWxlYXNpbmcgdGhlIG1hcFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGdldCB0aGUgZmlyc3QgcG9pbnQgd2hpY2ggc3RpbGwgZmFsbHMgaW50byB0aGUgZGVsYXkgdGltZVxuICAgIGxldCBmaXJzdEluZGV4ID0gbGFzdEluZGV4IC0gMztcbiAgICB3aGlsZSAoZmlyc3RJbmRleCA+IDAgJiYgdGhpcy5wb2ludHNfW2ZpcnN0SW5kZXggKyAyXSA+IGRlbGF5KSB7XG4gICAgICBmaXJzdEluZGV4IC09IDM7XG4gICAgfVxuXG4gICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLnBvaW50c19bbGFzdEluZGV4ICsgMl0gLSB0aGlzLnBvaW50c19bZmlyc3RJbmRleCArIDJdO1xuICAgIC8vIHdlIGRvbid0IHdhbnQgYSBkdXJhdGlvbiBvZiAwIChkaXZpZGUgYnkgemVybylcbiAgICAvLyB3ZSBhbHNvIG1ha2Ugc3VyZSB0aGUgdXNlciBwYW5uZWQgZm9yIGEgZHVyYXRpb24gb2YgYXQgbGVhc3Qgb25lIGZyYW1lXG4gICAgLy8gKDEvNjBzKSB0byBjb21wdXRlIHNhbmUgZGlzcGxhY2VtZW50IHZhbHVlc1xuICAgIGlmIChkdXJhdGlvbiA8IDEwMDAgLyA2MCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGR4ID0gdGhpcy5wb2ludHNfW2xhc3RJbmRleF0gLSB0aGlzLnBvaW50c19bZmlyc3RJbmRleF07XG4gICAgY29uc3QgZHkgPSB0aGlzLnBvaW50c19bbGFzdEluZGV4ICsgMV0gLSB0aGlzLnBvaW50c19bZmlyc3RJbmRleCArIDFdO1xuICAgIHRoaXMuYW5nbGVfID0gTWF0aC5hdGFuMihkeSwgZHgpO1xuICAgIHRoaXMuaW5pdGlhbFZlbG9jaXR5XyA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSkgLyBkdXJhdGlvbjtcbiAgICByZXR1cm4gdGhpcy5pbml0aWFsVmVsb2NpdHlfID4gdGhpcy5taW5WZWxvY2l0eV87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBUb3RhbCBkaXN0YW5jZSB0cmF2ZWxsZWQgKHBpeGVscykuXG4gICAqL1xuICBnZXREaXN0YW5jZSgpIHtcbiAgICByZXR1cm4gKHRoaXMubWluVmVsb2NpdHlfIC0gdGhpcy5pbml0aWFsVmVsb2NpdHlfKSAvIHRoaXMuZGVjYXlfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gQW5nbGUgb2YgdGhlIGtpbmV0aWMgcGFubmluZyBhbmltYXRpb24gKHJhZGlhbnMpLlxuICAgKi9cbiAgZ2V0QW5nbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYW5nbGVfO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEtpbmV0aWM7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvT2JqZWN0XG4gKi9cbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgT2JqZWN0RXZlbnRUeXBlIGZyb20gJy4vT2JqZWN0RXZlbnRUeXBlLmpzJztcbmltcG9ydCBPYnNlcnZhYmxlIGZyb20gJy4vT2JzZXJ2YWJsZS5qcyc7XG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7aXNFbXB0eX0gZnJvbSAnLi9vYmouanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mIHRoaXMgdHlwZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE9iamVjdEV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHByb3BlcnR5IG5hbWUuXG4gICAqIEBwYXJhbSB7Kn0gb2xkVmFsdWUgVGhlIG9sZCB2YWx1ZSBmb3IgYGtleWAuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBrZXksIG9sZFZhbHVlKSB7XG4gICAgc3VwZXIodHlwZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgd2hvc2UgdmFsdWUgaXMgY2hhbmdpbmcuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5rZXkgPSBrZXk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2xkIHZhbHVlLiBUbyBnZXQgdGhlIG5ldyB2YWx1ZSB1c2UgYGUudGFyZ2V0LmdldChlLmtleSlgIHdoZXJlXG4gICAgICogYGVgIGlzIHRoZSBldmVudCBvYmplY3QuXG4gICAgICogQHR5cGUgeyp9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMub2xkVmFsdWUgPSBvbGRWYWx1ZTtcbiAgfVxufVxuXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlcywgT2JqZWN0RXZlbnQsIFJldHVybj4gJlxuICogICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXMsIFJldHVybj59IE9iamVjdE9uU2lnbmF0dXJlXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBNb3N0IG5vbi10cml2aWFsIGNsYXNzZXMgaW5oZXJpdCBmcm9tIHRoaXMuXG4gKlxuICogVGhpcyBleHRlbmRzIHtAbGluayBtb2R1bGU6b2wvT2JzZXJ2YWJsZX5PYnNlcnZhYmxlfSB3aXRoIG9ic2VydmFibGVcbiAqIHByb3BlcnRpZXMsIHdoZXJlIGVhY2ggcHJvcGVydHkgaXMgb2JzZXJ2YWJsZSBhcyB3ZWxsIGFzIHRoZSBvYmplY3QgYXMgYVxuICogd2hvbGUuXG4gKlxuICogQ2xhc3NlcyB0aGF0IGluaGVyaXQgZnJvbSB0aGlzIGhhdmUgcHJlLWRlZmluZWQgcHJvcGVydGllcywgdG8gd2hpY2ggeW91IGNhblxuICogYWRkIHlvdXIgb3ducy4gVGhlIHByZS1kZWZpbmVkIHByb3BlcnRpZXMgYXJlIGxpc3RlZCBpbiB0aGlzIGRvY3VtZW50YXRpb24gYXNcbiAqICdPYnNlcnZhYmxlIFByb3BlcnRpZXMnLCBhbmQgaGF2ZSB0aGVpciBvd24gYWNjZXNzb3JzOyBmb3IgZXhhbXBsZSxcbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0gaGFzIGEgYHRhcmdldGAgcHJvcGVydHksIGFjY2Vzc2VkIHdpdGhcbiAqIGBnZXRUYXJnZXQoKWAgYW5kIGNoYW5nZWQgd2l0aCBgc2V0VGFyZ2V0KClgLiBOb3QgYWxsIHByb3BlcnRpZXMgYXJlIGhvd2V2ZXJcbiAqIHNldHRhYmxlLiBUaGVyZSBhcmUgYWxzbyBnZW5lcmFsLXB1cnBvc2UgYWNjZXNzb3JzIGBnZXQoKWAgYW5kIGBzZXQoKWAuIEZvclxuICogZXhhbXBsZSwgYGdldCgndGFyZ2V0JylgIGlzIGVxdWl2YWxlbnQgdG8gYGdldFRhcmdldCgpYC5cbiAqXG4gKiBUaGUgYHNldGAgYWNjZXNzb3JzIHRyaWdnZXIgYSBjaGFuZ2UgZXZlbnQsIGFuZCB5b3UgY2FuIG1vbml0b3IgdGhpcyBieVxuICogcmVnaXN0ZXJpbmcgYSBsaXN0ZW5lci4gRm9yIGV4YW1wbGUsIHtAbGluayBtb2R1bGU6b2wvVmlld35WaWV3fSBoYXMgYVxuICogYGNlbnRlcmAgcHJvcGVydHksIHNvIGB2aWV3Lm9uKCdjaGFuZ2U6Y2VudGVyJywgZnVuY3Rpb24oZXZ0KSB7Li4ufSk7YCB3b3VsZFxuICogY2FsbCB0aGUgZnVuY3Rpb24gd2hlbmV2ZXIgdGhlIHZhbHVlIG9mIHRoZSBjZW50ZXIgcHJvcGVydHkgY2hhbmdlcy4gV2l0aGluXG4gKiB0aGUgZnVuY3Rpb24sIGBldnQudGFyZ2V0YCB3b3VsZCBiZSB0aGUgdmlldywgc28gYGV2dC50YXJnZXQuZ2V0Q2VudGVyKClgXG4gKiB3b3VsZCByZXR1cm4gdGhlIG5ldyBjZW50ZXIuXG4gKlxuICogWW91IGNhbiBhZGQgeW91ciBvd24gb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzIHdpdGhcbiAqIGBvYmplY3Quc2V0KCdwcm9wJywgJ3ZhbHVlJylgLCBhbmQgcmV0cmlldmUgdGhhdCB3aXRoIGBvYmplY3QuZ2V0KCdwcm9wJylgLlxuICogWW91IGNhbiBsaXN0ZW4gZm9yIGNoYW5nZXMgb24gdGhhdCBwcm9wZXJ0eSB2YWx1ZSB3aXRoXG4gKiBgb2JqZWN0Lm9uKCdjaGFuZ2U6cHJvcCcsIGxpc3RlbmVyKWAuIFlvdSBjYW4gZ2V0IGEgbGlzdCBvZiBhbGxcbiAqIHByb3BlcnRpZXMgd2l0aCB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0I2dldFByb3BlcnRpZXN9LlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzIGFyZSBzZXBhcmF0ZSBmcm9tIHN0YW5kYXJkIEpTIHByb3BlcnRpZXMuXG4gKiBZb3UgY2FuLCBmb3IgZXhhbXBsZSwgZ2l2ZSB5b3VyIG1hcCBvYmplY3QgYSB0aXRsZSB3aXRoXG4gKiBgbWFwLnRpdGxlPSdOZXcgdGl0bGUnYCBhbmQgd2l0aCBgbWFwLnNldCgndGl0bGUnLCAnQW5vdGhlciB0aXRsZScpYC4gVGhlXG4gKiBmaXJzdCB3aWxsIGJlIGEgYGhhc093blByb3BlcnR5YDsgdGhlIHNlY29uZCB3aWxsIGFwcGVhciBpblxuICogYGdldFByb3BlcnRpZXMoKWAuIE9ubHkgdGhlIHNlY29uZCBpcyBvYnNlcnZhYmxlLlxuICpcbiAqIFByb3BlcnRpZXMgY2FuIGJlIGRlbGV0ZWQgYnkgdXNpbmcgdGhlIHVuc2V0IG1ldGhvZC4gRS5nLlxuICogb2JqZWN0LnVuc2V0KCdmb28nKS5cbiAqXG4gKiBAZmlyZXMgT2JqZWN0RXZlbnRcbiAqIEBhcGlcbiAqL1xuY2xhc3MgQmFzZU9iamVjdCBleHRlbmRzIE9ic2VydmFibGUge1xuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCAqPn0gW3ZhbHVlc10gQW4gb2JqZWN0IHdpdGgga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgY29uc3RydWN0b3IodmFsdWVzKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0T25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtPYmplY3RPblNpZ25hdHVyZTxpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0T25TaWduYXR1cmU8dm9pZD59XG4gICAgICovXG4gICAgdGhpcy51bjtcblxuICAgIC8vIENhbGwge0BsaW5rIG1vZHVsZTpvbC91dGlsLmdldFVpZH0gdG8gZW5zdXJlIHRoYXQgdGhlIG9yZGVyIG9mIG9iamVjdHMnIGlkcyBpc1xuICAgIC8vIHRoZSBzYW1lIGFzIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IHdlcmUgY3JlYXRlZC4gIFRoaXMgYWxzbyBoZWxwcyB0b1xuICAgIC8vIGVuc3VyZSB0aGF0IG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBhbHdheXMgYWRkZWQgaW4gdGhlIHNhbWUgb3JkZXIsIHdoaWNoXG4gICAgLy8gaGVscHMgbWFueSBKYXZhU2NyaXB0IGVuZ2luZXMgZ2VuZXJhdGUgZmFzdGVyIGNvZGUuXG4gICAgZ2V0VWlkKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgKj59XG4gICAgICovXG4gICAgdGhpcy52YWx1ZXNfID0gbnVsbDtcblxuICAgIGlmICh2YWx1ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZXRQcm9wZXJ0aWVzKHZhbHVlcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSB2YWx1ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkgbmFtZS5cbiAgICogQHJldHVybiB7Kn0gVmFsdWUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldChrZXkpIHtcbiAgICBsZXQgdmFsdWU7XG4gICAgaWYgKHRoaXMudmFsdWVzXyAmJiB0aGlzLnZhbHVlc18uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgdmFsdWUgPSB0aGlzLnZhbHVlc19ba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIGxpc3Qgb2Ygb2JqZWN0IHByb3BlcnR5IG5hbWVzLlxuICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBMaXN0IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRLZXlzKCkge1xuICAgIHJldHVybiAodGhpcy52YWx1ZXNfICYmIE9iamVjdC5rZXlzKHRoaXMudmFsdWVzXykpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiBvYmplY3Qgb2YgYWxsIHByb3BlcnR5IG5hbWVzIGFuZCB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsICo+fSBPYmplY3QuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFByb3BlcnRpZXMoKSB7XG4gICAgcmV0dXJuICh0aGlzLnZhbHVlc18gJiYgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy52YWx1ZXNfKSkgfHwge307XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIG9iamVjdCBoYXMgcHJvcGVydGllcy5cbiAgICovXG4gIGhhc1Byb3BlcnRpZXMoKSB7XG4gICAgcmV0dXJuICEhdGhpcy52YWx1ZXNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gICAqIEBwYXJhbSB7Kn0gb2xkVmFsdWUgT2xkIHZhbHVlLlxuICAgKi9cbiAgbm90aWZ5KGtleSwgb2xkVmFsdWUpIHtcbiAgICBsZXQgZXZlbnRUeXBlO1xuICAgIGV2ZW50VHlwZSA9IGBjaGFuZ2U6JHtrZXl9YDtcbiAgICBpZiAodGhpcy5oYXNMaXN0ZW5lcihldmVudFR5cGUpKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE9iamVjdEV2ZW50KGV2ZW50VHlwZSwga2V5LCBvbGRWYWx1ZSkpO1xuICAgIH1cbiAgICBldmVudFR5cGUgPSBPYmplY3RFdmVudFR5cGUuUFJPUEVSVFlDSEFOR0U7XG4gICAgaWYgKHRoaXMuaGFzTGlzdGVuZXIoZXZlbnRUeXBlKSkge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBPYmplY3RFdmVudChldmVudFR5cGUsIGtleSwgb2xkVmFsdWUpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkgbmFtZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5MaXN0ZW5lcn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAqL1xuICBhZGRDaGFuZ2VMaXN0ZW5lcihrZXksIGxpc3RlbmVyKSB7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKGBjaGFuZ2U6JHtrZXl9YCwgbGlzdGVuZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuTGlzdGVuZXJ9IGxpc3RlbmVyIExpc3RlbmVyLlxuICAgKi9cbiAgcmVtb3ZlQ2hhbmdlTGlzdGVuZXIoa2V5LCBsaXN0ZW5lcikge1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihgY2hhbmdlOiR7a2V5fWAsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGEgdmFsdWUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NpbGVudF0gVXBkYXRlIHdpdGhvdXQgdHJpZ2dlcmluZyBhbiBldmVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0KGtleSwgdmFsdWUsIHNpbGVudCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMudmFsdWVzXyB8fCAodGhpcy52YWx1ZXNfID0ge30pO1xuICAgIGlmIChzaWxlbnQpIHtcbiAgICAgIHZhbHVlc1trZXldID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9sZFZhbHVlID0gdmFsdWVzW2tleV07XG4gICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgaWYgKG9sZFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICB0aGlzLm5vdGlmeShrZXksIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhIGNvbGxlY3Rpb24gb2Yga2V5LXZhbHVlIHBhaXJzLiAgTm90ZSB0aGF0IHRoaXMgY2hhbmdlcyBhbnkgZXhpc3RpbmdcbiAgICogcHJvcGVydGllcyBhbmQgYWRkcyBuZXcgb25lcyAoaXQgZG9lcyBub3QgcmVtb3ZlIGFueSBleGlzdGluZyBwcm9wZXJ0aWVzKS5cbiAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCAqPn0gdmFsdWVzIFZhbHVlcy5cbiAgICogQHBhcmFtIHtib29sZWFufSBbc2lsZW50XSBVcGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFuIGV2ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRQcm9wZXJ0aWVzKHZhbHVlcywgc2lsZW50KSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWVzKSB7XG4gICAgICB0aGlzLnNldChrZXksIHZhbHVlc1trZXldLCBzaWxlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBhbnkgcHJvcGVydGllcyBmcm9tIGFub3RoZXIgb2JqZWN0IHdpdGhvdXQgdHJpZ2dlcmluZyBldmVudHMuXG4gICAqIEBwYXJhbSB7QmFzZU9iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBhcHBseVByb3BlcnRpZXMoc291cmNlKSB7XG4gICAgaWYgKCFzb3VyY2UudmFsdWVzXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHRoaXMudmFsdWVzXyB8fCAodGhpcy52YWx1ZXNfID0ge30pLCBzb3VyY2UudmFsdWVzXyk7XG4gIH1cblxuICAvKipcbiAgICogVW5zZXRzIGEgcHJvcGVydHkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NpbGVudF0gVW5zZXQgd2l0aG91dCB0cmlnZ2VyaW5nIGFuIGV2ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICB1bnNldChrZXksIHNpbGVudCkge1xuICAgIGlmICh0aGlzLnZhbHVlc18gJiYga2V5IGluIHRoaXMudmFsdWVzXykge1xuICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLnZhbHVlc19ba2V5XTtcbiAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlc19ba2V5XTtcbiAgICAgIGlmIChpc0VtcHR5KHRoaXMudmFsdWVzXykpIHtcbiAgICAgICAgdGhpcy52YWx1ZXNfID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICghc2lsZW50KSB7XG4gICAgICAgIHRoaXMubm90aWZ5KGtleSwgb2xkVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCYXNlT2JqZWN0O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL09iamVjdEV2ZW50VHlwZVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gYSBwcm9wZXJ0eSBpcyBjaGFuZ2VkLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL09iamVjdC5PYmplY3RFdmVudCNwcm9wZXJ0eWNoYW5nZVxuICAgKiBAYXBpXG4gICAqL1xuICBQUk9QRVJUWUNIQU5HRTogJ3Byb3BlcnR5Y2hhbmdlJyxcbn07XG5cbi8qKlxuICogQHR5cGVkZWYgeydwcm9wZXJ0eWNoYW5nZSd9IFR5cGVzXG4gKi9cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9PYnNlcnZhYmxlXG4gKi9cbmltcG9ydCBFdmVudFRhcmdldCBmcm9tICcuL2V2ZW50cy9UYXJnZXQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtsaXN0ZW4sIGxpc3Rlbk9uY2UsIHVubGlzdGVuQnlLZXl9IGZyb20gJy4vZXZlbnRzLmpzJztcblxuLyoqKlxuICogQHRlbXBsYXRlIHtzdHJpbmd9IFR5cGVcbiAqIEB0ZW1wbGF0ZSB7RXZlbnR8aW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdH0gRXZlbnRDbGFzc1xuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYgeyh0eXBlOiBUeXBlLCBsaXN0ZW5lcjogKGV2ZW50OiBFdmVudENsYXNzKSA9PiA/KSA9PiBSZXR1cm59IE9uU2lnbmF0dXJlXG4gKi9cblxuLyoqKlxuICogQHRlbXBsYXRlIHtzdHJpbmd9IFR5cGVcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHsodHlwZTogVHlwZVtdLCBsaXN0ZW5lcjogKGV2ZW50OiBFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSA9PiA/KSA9PiBSZXR1cm4gZXh0ZW5kcyB2b2lkID8gdm9pZCA6IFJldHVybltdfSBDb21iaW5lZE9uU2lnbmF0dXJlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7J2NoYW5nZSd8J2Vycm9yJ30gRXZlbnRUeXBlc1xuICovXG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtPblNpZ25hdHVyZTxFdmVudFR5cGVzLCBpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICYgQ29tYmluZWRPblNpZ25hdHVyZTxFdmVudFR5cGVzLCBSZXR1cm4+fSBPYnNlcnZhYmxlT25TaWduYXR1cmVcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEFuIGV2ZW50IHRhcmdldCBwcm92aWRpbmcgY29udmVuaWVudCBtZXRob2RzIGZvciBsaXN0ZW5lciByZWdpc3RyYXRpb25cbiAqIGFuZCB1bnJlZ2lzdHJhdGlvbi4gQSBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IGlzIGFsd2F5cyBhdmFpbGFibGUgdGhyb3VnaFxuICoge0BsaW5rIG1vZHVsZTpvbC9PYnNlcnZhYmxlfk9ic2VydmFibGUjY2hhbmdlZH0uXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHRcbiAqIEBhcGlcbiAqL1xuY2xhc3MgT2JzZXJ2YWJsZSBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMub24gPVxuICAgICAgLyoqIEB0eXBlIHtPYnNlcnZhYmxlT25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn0gKi8gKFxuICAgICAgICB0aGlzLm9uSW50ZXJuYWxcbiAgICAgICk7XG5cbiAgICB0aGlzLm9uY2UgPVxuICAgICAgLyoqIEB0eXBlIHtPYnNlcnZhYmxlT25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn0gKi8gKFxuICAgICAgICB0aGlzLm9uY2VJbnRlcm5hbFxuICAgICAgKTtcblxuICAgIHRoaXMudW4gPSAvKiogQHR5cGUge09ic2VydmFibGVPblNpZ25hdHVyZTx2b2lkPn0gKi8gKHRoaXMudW5JbnRlcm5hbCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZXZpc2lvbl8gPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEluY3JlYXNlcyB0aGUgcmV2aXNpb24gY291bnRlciBhbmQgZGlzcGF0Y2hlcyBhICdjaGFuZ2UnIGV2ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBjaGFuZ2VkKCkge1xuICAgICsrdGhpcy5yZXZpc2lvbl87XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5DSEFOR0UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmVyc2lvbiBudW1iZXIgZm9yIHRoaXMgb2JqZWN0LiAgRWFjaCB0aW1lIHRoZSBvYmplY3QgaXMgbW9kaWZpZWQsXG4gICAqIGl0cyB2ZXJzaW9uIG51bWJlciB3aWxsIGJlIGluY3JlbWVudGVkLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJldmlzaW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRSZXZpc2lvbigpIHtcbiAgICByZXR1cm4gdGhpcy5yZXZpc2lvbl87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUeXBlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIExpc3RlbmVyLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl8QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn0gRXZlbnQga2V5LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBvbkludGVybmFsKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgIGNvbnN0IGxlbiA9IHR5cGUubGVuZ3RoO1xuICAgICAgY29uc3Qga2V5cyA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBrZXlzW2ldID0gbGlzdGVuKHRoaXMsIHR5cGVbaV0sIGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBrZXlzO1xuICAgIH1cbiAgICByZXR1cm4gbGlzdGVuKHRoaXMsIC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodHlwZSksIGxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSB0eXBlIFR5cGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50XCIpLmRlZmF1bHQpKTogP30gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBFdmVudCBrZXkuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIG9uY2VJbnRlcm5hbCh0eXBlLCBsaXN0ZW5lcikge1xuICAgIGxldCBrZXk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgIGNvbnN0IGxlbiA9IHR5cGUubGVuZ3RoO1xuICAgICAga2V5ID0gbmV3IEFycmF5KGxlbik7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIGtleVtpXSA9IGxpc3Rlbk9uY2UodGhpcywgdHlwZVtpXSwgbGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBrZXkgPSBsaXN0ZW5PbmNlKHRoaXMsIC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodHlwZSksIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgLyoqIEB0eXBlIHtPYmplY3R9ICovIChsaXN0ZW5lcikub2xfa2V5ID0ga2V5O1xuICAgIHJldHVybiBrZXk7XG4gIH1cblxuICAvKipcbiAgICogVW5saXN0ZW4gZm9yIGEgY2VydGFpbiB0eXBlIG9mIGV2ZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSB0eXBlIFR5cGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50XCIpLmRlZmF1bHQpKTogP30gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHVuSW50ZXJuYWwodHlwZSwgbGlzdGVuZXIpIHtcbiAgICBjb25zdCBrZXkgPSAvKiogQHR5cGUge09iamVjdH0gKi8gKGxpc3RlbmVyKS5vbF9rZXk7XG4gICAgaWYgKGtleSkge1xuICAgICAgdW5CeUtleShrZXkpO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdHlwZS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlW2ldLCBsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogTGlzdGVuIGZvciBhIGNlcnRhaW4gdHlwZSBvZiBldmVudC5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUaGUgZXZlbnQgdHlwZSBvciBhcnJheSBvZiBldmVudCB0eXBlcy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50XCIpLmRlZmF1bHQpKTogP30gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fEFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59IFVuaXF1ZSBrZXkgZm9yIHRoZSBsaXN0ZW5lci4gSWZcbiAqICAgICBjYWxsZWQgd2l0aCBhbiBhcnJheSBvZiBldmVudCB0eXBlcyBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHRoZSByZXR1cm5cbiAqICAgICB3aWxsIGJlIGFuIGFycmF5IG9mIGtleXMuXG4gKiBAYXBpXG4gKi9cbk9ic2VydmFibGUucHJvdG90eXBlLm9uO1xuXG4vKipcbiAqIExpc3RlbiBvbmNlIGZvciBhIGNlcnRhaW4gdHlwZSBvZiBldmVudC5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUaGUgZXZlbnQgdHlwZSBvciBhcnJheSBvZiBldmVudCB0eXBlcy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50XCIpLmRlZmF1bHQpKTogP30gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fEFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59IFVuaXF1ZSBrZXkgZm9yIHRoZSBsaXN0ZW5lci4gSWZcbiAqICAgICBjYWxsZWQgd2l0aCBhbiBhcnJheSBvZiBldmVudCB0eXBlcyBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHRoZSByZXR1cm5cbiAqICAgICB3aWxsIGJlIGFuIGFycmF5IG9mIGtleXMuXG4gKiBAYXBpXG4gKi9cbk9ic2VydmFibGUucHJvdG90eXBlLm9uY2U7XG5cbi8qKlxuICogVW5saXN0ZW4gZm9yIGEgY2VydGFpbiB0eXBlIG9mIGV2ZW50LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSB0eXBlIFRoZSBldmVudCB0eXBlIG9yIGFycmF5IG9mIGV2ZW50IHR5cGVzLlxuICogQHBhcmFtIHtmdW5jdGlvbigoRXZlbnR8aW1wb3J0KFwiLi9ldmVudHMvRXZlbnRcIikuZGVmYXVsdCkpOiA/fSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAYXBpXG4gKi9cbk9ic2VydmFibGUucHJvdG90eXBlLnVuO1xuXG4vKipcbiAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgdXNpbmcgdGhlIGtleSByZXR1cm5lZCBieSBgb24oKWAgb3IgYG9uY2UoKWAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBrZXkgVGhlIGtleSByZXR1cm5lZCBieSBgb24oKWBcbiAqICAgICBvciBgb25jZSgpYCAob3IgYW4gYXJyYXkgb2Yga2V5cykuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bkJ5S2V5KGtleSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0ga2V5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHVubGlzdGVuQnlLZXkoa2V5W2ldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdW5saXN0ZW5CeUtleSgvKiogQHR5cGUge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX0gKi8gKGtleSkpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9ic2VydmFibGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvVGlsZVxuICovXG5pbXBvcnQgRXZlbnRUYXJnZXQgZnJvbSAnLi9ldmVudHMvVGFyZ2V0LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi91dGlsLmpzJztcbmltcG9ydCB7ZWFzZUlufSBmcm9tICcuL2Vhc2luZy5qcyc7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvVGlsZX5UaWxlfSBmb3IgdGhlIHRpbGUgYW5kIGFcbiAqIGB7c3RyaW5nfWAgZm9yIHRoZSB1cmwgYXMgYXJndW1lbnRzLiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIHNvdXJjZS5zZXRUaWxlTG9hZEZ1bmN0aW9uKGZ1bmN0aW9uKHRpbGUsIHNyYykge1xuICogICB0aWxlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogfSk7XG4gKiBgYGBcbiAqIEZvciBtb3JlIGZpbmUgZ3JhaW5lZCBjb250cm9sLCB0aGUgbG9hZCBmdW5jdGlvbiBjYW4gdXNlIGZldGNoIG9yIFhNTEh0dHBSZXF1ZXN0IGFuZCBpbnZvbHZlXG4gKiBlcnJvciBoYW5kbGluZzpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICdvbC9UaWxlU3RhdGUuanMnO1xuICpcbiAqIHNvdXJjZS5zZXRUaWxlTG9hZEZ1bmN0aW9uKGZ1bmN0aW9uKHRpbGUsIHNyYykge1xuICogICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAqICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJztcbiAqICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gKiAgICAgY29uc3QgZGF0YSA9IHRoaXMucmVzcG9uc2U7XG4gKiAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuICogICAgICAgdGlsZS5nZXRJbWFnZSgpLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZGF0YSk7XG4gKiAgICAgfSBlbHNlIHtcbiAqICAgICAgIHRpbGUuc2V0U3RhdGUoVGlsZVN0YXRlLkVSUk9SKTtcbiAqICAgICB9XG4gKiAgIH0pO1xuICogICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gKiAgICAgdGlsZS5zZXRTdGF0ZShUaWxlU3RhdGUuRVJST1IpO1xuICogICB9KTtcbiAqICAgeGhyLm9wZW4oJ0dFVCcsIHNyYyk7XG4gKiAgIHhoci5zZW5kKCk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihUaWxlLCBzdHJpbmcpOiB2b2lkfSBMb2FkRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1RpbGV+VGlsZVNvdXJjZX0gc291cmNlcyB1c2UgYSBmdW5jdGlvbiBvZiB0aGlzIHR5cGUgdG8gZ2V0XG4gKiB0aGUgdXJsIHRoYXQgcHJvdmlkZXMgYSB0aWxlIGZvciBhIGdpdmVuIHRpbGUgY29vcmRpbmF0ZS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvdGlsZWNvb3JkflRpbGVDb29yZH0gZm9yIHRoZSB0aWxlXG4gKiBjb29yZGluYXRlLCBhIGB7bnVtYmVyfWAgcmVwcmVzZW50aW5nIHRoZSBwaXhlbCByYXRpbyBhbmQgYVxuICoge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb25+UHJvamVjdGlvbn0gZm9yIHRoZSBwcm9qZWN0aW9uICBhcyBhcmd1bWVudHNcbiAqIGFuZCByZXR1cm5zIGEgYHtzdHJpbmd9YCByZXByZXNlbnRpbmcgdGhlIHRpbGUgVVJMLCBvciB1bmRlZmluZWQgaWYgbm8gdGlsZVxuICogc2hvdWxkIGJlIHJlcXVlc3RlZCBmb3IgdGhlIHBhc3NlZCB0aWxlIGNvb3JkaW5hdGUuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCwgbnVtYmVyLFxuICogICAgICAgICAgIGltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQpOiAoc3RyaW5nfHVuZGVmaW5lZCl9IFVybEZ1bmN0aW9uXG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RyYW5zaXRpb249MjUwXSBBIGR1cmF0aW9uIGZvciB0aWxlIG9wYWNpdHlcbiAqIHRyYW5zaXRpb25zIGluIG1pbGxpc2Vjb25kcy4gQSBkdXJhdGlvbiBvZiAwIGRpc2FibGVzIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbnRlcnBvbGF0ZT1mYWxzZV0gVXNlIGludGVycG9sYXRlZCB2YWx1ZXMgd2hlbiByZXNhbXBsaW5nLiAgQnkgZGVmYXVsdCxcbiAqIHRoZSBuZWFyZXN0IG5laWdoYm9yIGlzIHVzZWQgd2hlbiByZXNhbXBsaW5nLlxuICogQGFwaVxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyBmb3IgdGlsZXMuXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIFRpbGUgZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fSBzdGF0ZSBTdGF0ZS5cbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gVGlsZSBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3IodGlsZUNvb3JkLCBzdGF0ZSwgb3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9XG4gICAgICovXG4gICAgdGhpcy50aWxlQ29vcmQgPSB0aWxlQ29vcmQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vVGlsZVN0YXRlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgLyoqXG4gICAgICogQW4gXCJpbnRlcmltXCIgdGlsZSBmb3IgdGhpcyB0aWxlLiBUaGUgaW50ZXJpbSB0aWxlIG1heSBiZSB1c2VkIHdoaWxlIHRoaXNcbiAgICAgKiBvbmUgaXMgbG9hZGluZywgZm9yIFwic21vb3RoXCIgdHJhbnNpdGlvbnMgd2hlbiBjaGFuZ2luZyBwYXJhbXMvZGltZW5zaW9uc1xuICAgICAqIG9uIHRoZSBzb3VyY2UuXG4gICAgICogQHR5cGUge1RpbGV9XG4gICAgICovXG4gICAgdGhpcy5pbnRlcmltVGlsZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIGtleSBhc3NpZ25lZCB0byB0aGUgdGlsZS4gVGhpcyBpcyB1c2VkIGJ5IHRoZSB0aWxlIHNvdXJjZSB0byBkZXRlcm1pbmVcbiAgICAgKiBpZiB0aGlzIHRpbGUgY2FuIGVmZmVjdGl2ZWx5IGJlIHVzZWQsIG9yIGlmIGEgbmV3IHRpbGUgc2hvdWxkIGJlIGNyZWF0ZWRcbiAgICAgKiBhbmQgdGhpcyBvbmUgYmUgdXNlZCBhcyBhbiBpbnRlcmltIHRpbGUgZm9yIHRoaXMgbmV3IHRpbGUuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmtleSA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGR1cmF0aW9uIGZvciB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50cmFuc2l0aW9uXyA9XG4gICAgICBvcHRpb25zLnRyYW5zaXRpb24gPT09IHVuZGVmaW5lZCA/IDI1MCA6IG9wdGlvbnMudHJhbnNpdGlvbjtcblxuICAgIC8qKlxuICAgICAqIExvb2t1cCBvZiBzdGFydCB0aW1lcyBmb3IgcmVuZGVyaW5nIHRyYW5zaXRpb25zLiAgSWYgdGhlIHN0YXJ0IHRpbWUgaXNcbiAgICAgKiBlcXVhbCB0byAtMSwgdGhlIHRyYW5zaXRpb24gaXMgY29tcGxldGUuXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy50cmFuc2l0aW9uU3RhcnRzXyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pbnRlcnBvbGF0ZSA9ICEhb3B0aW9ucy5pbnRlcnBvbGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBjaGFuZ2VkKCkge1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuQ0hBTkdFKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYnkgdGhlIHRpbGUgY2FjaGUgd2hlbiB0aGUgdGlsZSBpcyByZW1vdmVkIGZyb20gdGhlIGNhY2hlIGR1ZSB0byBleHBpcnlcbiAgICovXG4gIHJlbGVhc2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IFRpbGVTdGF0ZS5FUlJPUikge1xuICAgICAgLy8gdG8gcmVtb3ZlIHRoZSBgY2hhbmdlYCBsaXN0ZW5lciBvbiB0aGlzIHRpbGUgaW4gYG9sL1RpbGVRdWV1ZSNoYW5kbGVUaWxlQ2hhbmdlYFxuICAgICAgdGhpcy5zZXRTdGF0ZShUaWxlU3RhdGUuRU1QVFkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IEtleS5cbiAgICovXG4gIGdldEtleSgpIHtcbiAgICByZXR1cm4gdGhpcy5rZXkgKyAnLycgKyB0aGlzLnRpbGVDb29yZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGludGVyaW0gdGlsZSBtb3N0IHN1aXRhYmxlIGZvciByZW5kZXJpbmcgdXNpbmcgdGhlIGNoYWluIG9mIGludGVyaW1cbiAgICogdGlsZXMuIFRoaXMgY29ycmVzcG9uZHMgdG8gdGhlICBtb3N0IHJlY2VudCB0aWxlIHRoYXQgaGFzIGJlZW4gbG9hZGVkLCBpZiBub1xuICAgKiBzdWNoIHRpbGUgZXhpc3RzLCB0aGUgb3JpZ2luYWwgdGlsZSBpcyByZXR1cm5lZC5cbiAgICogQHJldHVybiB7IVRpbGV9IEJlc3QgdGlsZSBmb3IgcmVuZGVyaW5nLlxuICAgKi9cbiAgZ2V0SW50ZXJpbVRpbGUoKSB7XG4gICAgaWYgKCF0aGlzLmludGVyaW1UaWxlKSB7XG4gICAgICAvL2VtcHR5IGNoYWluXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgbGV0IHRpbGUgPSB0aGlzLmludGVyaW1UaWxlO1xuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgbG9hZGVkIHRpbGUgYW5kIHJldHVybiBpdC4gU2luY2UgdGhlIGNoYWluIGlzIHNvcnRlZCBpblxuICAgIC8vIGRlY3JlYXNpbmcgb3JkZXIgb2YgY3JlYXRpb24gdGltZSwgdGhlcmUgaXMgbm8gbmVlZCB0byBzZWFyY2ggdGhlIHJlbWFpbmRlclxuICAgIC8vIG9mIHRoZSBsaXN0IChhbGwgdGhvc2UgdGlsZXMgY29ycmVzcG9uZCB0byBvbGRlciByZXF1ZXN0cyBhbmQgd2lsbCBiZVxuICAgIC8vIGNsZWFuZWQgdXAgYnkgcmVmcmVzaEludGVyaW1DaGFpbilcbiAgICBkbyB7XG4gICAgICBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgLy8gU2hvdyB0aWxlIGltbWVkaWF0ZWx5IGluc3RlYWQgb2YgZmFkaW5nIGl0IGluIGFmdGVyIGxvYWRpbmcsIGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIGludGVyaW0gdGlsZSBpcyBpbiBwbGFjZSBhbHJlYWR5XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbl8gPSAwO1xuICAgICAgICByZXR1cm4gdGlsZTtcbiAgICAgIH1cbiAgICAgIHRpbGUgPSB0aWxlLmludGVyaW1UaWxlO1xuICAgIH0gd2hpbGUgKHRpbGUpO1xuXG4gICAgLy8gd2UgY2FuIG5vdCBmaW5kIGEgYmV0dGVyIHRpbGVcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHb2VzIHRocm91Z2ggdGhlIGNoYWluIG9mIGludGVyaW0gdGlsZXMgYW5kIGRpc2NhcmRzIHNlY3Rpb25zIG9mIHRoZSBjaGFpblxuICAgKiB0aGF0IGFyZSBubyBsb25nZXIgcmVsZXZhbnQuXG4gICAqL1xuICByZWZyZXNoSW50ZXJpbUNoYWluKCkge1xuICAgIGlmICghdGhpcy5pbnRlcmltVGlsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB0aWxlID0gdGhpcy5pbnRlcmltVGlsZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtUaWxlfVxuICAgICAqL1xuICAgIGxldCBwcmV2ID0gdGhpcztcblxuICAgIGRvIHtcbiAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAvL3dlIGhhdmUgYSBsb2FkZWQgdGlsZSwgd2UgY2FuIGRpc2NhcmQgdGhlIHJlc3Qgb2YgdGhlIGxpc3RcbiAgICAgICAgLy93ZSB3b3VsZCBjb3VsZCBhYm9ydCBhbnkgTE9BRElORyB0aWxlIHJlcXVlc3RcbiAgICAgICAgLy9vbGRlciB0aGFuIHRoaXMgdGlsZSAoaS5lLiBhbnkgTE9BRElORyB0aWxlIGZvbGxvd2luZyB0aGlzIGVudHJ5IGluIHRoZSBjaGFpbilcbiAgICAgICAgdGlsZS5pbnRlcmltVGlsZSA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkxPQURJTkcpIHtcbiAgICAgICAgLy9rZWVwIHRoaXMgTE9BRElORyB0aWxlIGFueSBsb2FkZWQgdGlsZXMgbGF0ZXIgaW4gdGhlIGNoYWluIGFyZVxuICAgICAgICAvL29sZGVyIHRoYW4gdGhpcyB0aWxlLCBzbyB3ZSdyZSBzdGlsbCBpbnRlcmVzdGVkIGluIHRoZSByZXF1ZXN0XG4gICAgICAgIHByZXYgPSB0aWxlO1xuICAgICAgfSBlbHNlIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgICAgLy90aGUgaGVhZCBvZiB0aGUgbGlzdCBpcyB0aGUgbW9zdCBjdXJyZW50IHRpbGUsIHdlIGRvbid0IG5lZWRcbiAgICAgICAgLy90byBzdGFydCBhbnkgb3RoZXIgcmVxdWVzdHMgZm9yIHRoaXMgY2hhaW5cbiAgICAgICAgcHJldi5pbnRlcmltVGlsZSA9IHRpbGUuaW50ZXJpbVRpbGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2ID0gdGlsZTtcbiAgICAgIH1cbiAgICAgIHRpbGUgPSBwcmV2LmludGVyaW1UaWxlO1xuICAgIH0gd2hpbGUgKHRpbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGlsZSBjb29yZGluYXRlIGZvciB0aGlzIHRpbGUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGhlIHRpbGUgY29vcmRpbmF0ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VGlsZUNvb3JkKCkge1xuICAgIHJldHVybiB0aGlzLnRpbGVDb29yZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fSBTdGF0ZS5cbiAgICovXG4gIGdldFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHN0YXRlIG9mIHRoaXMgdGlsZS4gSWYgeW91IHdyaXRlIHlvdXIgb3duIHtAbGluayBtb2R1bGU6b2wvVGlsZX5Mb2FkRnVuY3Rpb24gdGlsZUxvYWRGdW5jdGlvbn0gLFxuICAgKiBpdCBpcyBpbXBvcnRhbnQgdG8gc2V0IHRoZSBzdGF0ZSBjb3JyZWN0bHkgdG8ge0BsaW5rIG1vZHVsZTpvbC9UaWxlU3RhdGV+RVJST1J9XG4gICAqIHdoZW4gdGhlIHRpbGUgY2Fubm90IGJlIGxvYWRlZC4gT3RoZXJ3aXNlIHRoZSB0aWxlIGNhbm5vdCBiZSByZW1vdmVkIGZyb21cbiAgICogdGhlIHRpbGUgcXVldWUgYW5kIHdpbGwgYmxvY2sgb3RoZXIgcmVxdWVzdHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH0gc3RhdGUgU3RhdGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFN0YXRlKHN0YXRlKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgIT09IFRpbGVTdGF0ZS5FUlJPUiAmJiB0aGlzLnN0YXRlID4gc3RhdGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGlsZSBsb2FkIHNlcXVlbmNlIHZpb2xhdGlvbicpO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCB0aGUgaW1hZ2Ugb3IgcmV0cnkgaWYgbG9hZGluZyBwcmV2aW91c2x5IGZhaWxlZC5cbiAgICogTG9hZGluZyBpcyB0YWtlbiBjYXJlIG9mIGJ5IHRoZSB0aWxlIHF1ZXVlLCBhbmQgY2FsbGluZyB0aGlzIG1ldGhvZCBpc1xuICAgKiBvbmx5IG5lZWRlZCBmb3IgcHJlbG9hZGluZyBvciBmb3IgcmVsb2FkaW5nIGluIGNhc2Ugb2YgYW4gZXJyb3IuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAYXBpXG4gICAqL1xuICBsb2FkKCkge1xuICAgIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhbHBoYSB2YWx1ZSBmb3IgcmVuZGVyaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgQW4gaWQgZm9yIHRoZSByZW5kZXJlci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgVGhlIHJlbmRlciBmcmFtZSB0aW1lLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS5cbiAgICovXG4gIGdldEFscGhhKGlkLCB0aW1lKSB7XG4gICAgaWYgKCF0aGlzLnRyYW5zaXRpb25fKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICBsZXQgc3RhcnQgPSB0aGlzLnRyYW5zaXRpb25TdGFydHNfW2lkXTtcbiAgICBpZiAoIXN0YXJ0KSB7XG4gICAgICBzdGFydCA9IHRpbWU7XG4gICAgICB0aGlzLnRyYW5zaXRpb25TdGFydHNfW2lkXSA9IHN0YXJ0O1xuICAgIH0gZWxzZSBpZiAoc3RhcnQgPT09IC0xKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWx0YSA9IHRpbWUgLSBzdGFydCArIDEwMDAgLyA2MDsgLy8gYXZvaWQgcmVuZGVyaW5nIGF0IDBcbiAgICBpZiAoZGVsdGEgPj0gdGhpcy50cmFuc2l0aW9uXykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHJldHVybiBlYXNlSW4oZGVsdGEgLyB0aGlzLnRyYW5zaXRpb25fKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgaWYgYSB0aWxlIGlzIGluIGFuIGFscGhhIHRyYW5zaXRpb24uICBBIHRpbGUgaXMgY29uc2lkZXJlZCBpblxuICAgKiB0cmFuc2l0aW9uIGlmIHRpbGUuZ2V0QWxwaGEoKSBoYXMgbm90IHlldCBiZWVuIGNhbGxlZCBvciBoYXMgYmVlbiBjYWxsZWRcbiAgICogYW5kIHJldHVybmVkIDEuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBBbiBpZCBmb3IgdGhlIHJlbmRlcmVyLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdGlsZSBpcyBpbiB0cmFuc2l0aW9uLlxuICAgKi9cbiAgaW5UcmFuc2l0aW9uKGlkKSB7XG4gICAgaWYgKCF0aGlzLnRyYW5zaXRpb25fKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb25TdGFydHNfW2lkXSAhPT0gLTE7XG4gIH1cblxuICAvKipcbiAgICogTWFyayBhIHRyYW5zaXRpb24gYXMgY29tcGxldGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBBbiBpZCBmb3IgdGhlIHJlbmRlcmVyLlxuICAgKi9cbiAgZW5kVHJhbnNpdGlvbihpZCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25fKSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb25TdGFydHNfW2lkXSA9IC0xO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0cnVjdHMvTFJVQ2FjaGVcbiAqL1xuXG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRW50cnlcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBrZXlfIEtleS5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBuZXdlciBOZXdlci5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvbGRlciBPbGRlci5cbiAqIEBwcm9wZXJ0eSB7Kn0gdmFsdWVfIFZhbHVlLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogSW1wbGVtZW50cyBhIExlYXN0LVJlY2VudGx5LVVzZWQgY2FjaGUgd2hlcmUgdGhlIGtleXMgZG8gbm90IGNvbmZsaWN0IHdpdGhcbiAqIE9iamVjdCdzIHByb3BlcnRpZXMgKGUuZy4gJ2hhc093blByb3BlcnR5JyBpcyBub3QgYWxsb3dlZCBhcyBhIGtleSkuIEV4cGlyaW5nXG4gKiBpdGVtcyBmcm9tIHRoZSBjYWNoZSBpcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgdGhlIHVzZXIuXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0XG4gKiBAdGVtcGxhdGUgVFxuICovXG5jbGFzcyBMUlVDYWNoZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2hpZ2hXYXRlck1hcmtdIEhpZ2ggd2F0ZXIgbWFyay5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGhpZ2hXYXRlck1hcmspIHtcbiAgICAvKipcbiAgICAgKiBEZXNpcmVkIG1heCBjYWNoZSBzaXplIGFmdGVyIGV4cGlyZUNhY2hlKCkuIElmIHNldCB0byAwLCBubyBjYWNoZSBlbnRyaWVzXG4gICAgICogd2lsbCBiZSBwcnVuZWQgYXQgYWxsLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gaGlnaFdhdGVyTWFyayAhPT0gdW5kZWZpbmVkID8gaGlnaFdhdGVyTWFyayA6IDIwNDg7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jb3VudF8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIEVudHJ5Pn1cbiAgICAgKi9cbiAgICB0aGlzLmVudHJpZXNfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/RW50cnl9XG4gICAgICovXG4gICAgdGhpcy5vbGRlc3RfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9FbnRyeX1cbiAgICAgKi9cbiAgICB0aGlzLm5ld2VzdF8gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IENhbiBleHBpcmUgY2FjaGUuXG4gICAqL1xuICBjYW5FeHBpcmVDYWNoZSgpIHtcbiAgICByZXR1cm4gdGhpcy5oaWdoV2F0ZXJNYXJrID4gMCAmJiB0aGlzLmdldENvdW50KCkgPiB0aGlzLmhpZ2hXYXRlck1hcms7XG4gIH1cblxuICAvKipcbiAgICogRXhwaXJlIHRoZSBjYWNoZS5cbiAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59IFtrZWVwXSBLZXlzIHRvIGtlZXAuIFRvIGJlIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzZXMuXG4gICAqL1xuICBleHBpcmVDYWNoZShrZWVwKSB7XG4gICAgd2hpbGUgKHRoaXMuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgdGhpcy5wb3AoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLmNvdW50XyA9IDA7XG4gICAgdGhpcy5lbnRyaWVzXyA9IHt9O1xuICAgIHRoaXMub2xkZXN0XyA9IG51bGw7XG4gICAgdGhpcy5uZXdlc3RfID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMga2V5LlxuICAgKi9cbiAgY29udGFpbnNLZXkoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuZW50cmllc18uaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFQsIHN0cmluZywgTFJVQ2FjaGU8VD4pOiA/fSBmIFRoZSBmdW5jdGlvblxuICAgKiAgICAgdG8gY2FsbCBmb3IgZXZlcnkgZW50cnkgZnJvbSB0aGUgb2xkZXN0IHRvIHRoZSBuZXdlci4gVGhpcyBmdW5jdGlvbiB0YWtlc1xuICAgKiAgICAgMyBhcmd1bWVudHMgKHRoZSBlbnRyeSB2YWx1ZSwgdGhlIGVudHJ5IGtleSBhbmQgdGhlIExSVUNhY2hlIG9iamVjdCkuXG4gICAqICAgICBUaGUgcmV0dXJuIHZhbHVlIGlzIGlnbm9yZWQuXG4gICAqL1xuICBmb3JFYWNoKGYpIHtcbiAgICBsZXQgZW50cnkgPSB0aGlzLm9sZGVzdF87XG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICBmKGVudHJ5LnZhbHVlXywgZW50cnkua2V5XywgdGhpcyk7XG4gICAgICBlbnRyeSA9IGVudHJ5Lm5ld2VyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3B0aW9ucyAocmVzZXJ2ZWQgZm9yIHN1YmNsYXNzZXMpLlxuICAgKiBAcmV0dXJuIHtUfSBWYWx1ZS5cbiAgICovXG4gIGdldChrZXksIG9wdGlvbnMpIHtcbiAgICBjb25zdCBlbnRyeSA9IHRoaXMuZW50cmllc19ba2V5XTtcbiAgICBhc3NlcnQoZW50cnkgIT09IHVuZGVmaW5lZCwgMTUpOyAvLyBUcmllZCB0byBnZXQgYSB2YWx1ZSBmb3IgYSBrZXkgdGhhdCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgY2FjaGVcbiAgICBpZiAoZW50cnkgPT09IHRoaXMubmV3ZXN0Xykge1xuICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgICB9IGVsc2UgaWYgKGVudHJ5ID09PSB0aGlzLm9sZGVzdF8pIHtcbiAgICAgIHRoaXMub2xkZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovICh0aGlzLm9sZGVzdF8ubmV3ZXIpO1xuICAgICAgdGhpcy5vbGRlc3RfLm9sZGVyID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50cnkubmV3ZXIub2xkZXIgPSBlbnRyeS5vbGRlcjtcbiAgICAgIGVudHJ5Lm9sZGVyLm5ld2VyID0gZW50cnkubmV3ZXI7XG4gICAgfVxuICAgIGVudHJ5Lm5ld2VyID0gbnVsbDtcbiAgICBlbnRyeS5vbGRlciA9IHRoaXMubmV3ZXN0XztcbiAgICB0aGlzLm5ld2VzdF8ubmV3ZXIgPSBlbnRyeTtcbiAgICB0aGlzLm5ld2VzdF8gPSBlbnRyeTtcbiAgICByZXR1cm4gZW50cnkudmFsdWVfO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBlbnRyeSBmcm9tIHRoZSBjYWNoZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgZW50cnkga2V5LlxuICAgKiBAcmV0dXJuIHtUfSBUaGUgcmVtb3ZlZCBlbnRyeS5cbiAgICovXG4gIHJlbW92ZShrZXkpIHtcbiAgICBjb25zdCBlbnRyeSA9IHRoaXMuZW50cmllc19ba2V5XTtcbiAgICBhc3NlcnQoZW50cnkgIT09IHVuZGVmaW5lZCwgMTUpOyAvLyBUcmllZCB0byBnZXQgYSB2YWx1ZSBmb3IgYSBrZXkgdGhhdCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgY2FjaGVcbiAgICBpZiAoZW50cnkgPT09IHRoaXMubmV3ZXN0Xykge1xuICAgICAgdGhpcy5uZXdlc3RfID0gLyoqIEB0eXBlIHtFbnRyeX0gKi8gKGVudHJ5Lm9sZGVyKTtcbiAgICAgIGlmICh0aGlzLm5ld2VzdF8pIHtcbiAgICAgICAgdGhpcy5uZXdlc3RfLm5ld2VyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVudHJ5ID09PSB0aGlzLm9sZGVzdF8pIHtcbiAgICAgIHRoaXMub2xkZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovIChlbnRyeS5uZXdlcik7XG4gICAgICBpZiAodGhpcy5vbGRlc3RfKSB7XG4gICAgICAgIHRoaXMub2xkZXN0Xy5vbGRlciA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVudHJ5Lm5ld2VyLm9sZGVyID0gZW50cnkub2xkZXI7XG4gICAgICBlbnRyeS5vbGRlci5uZXdlciA9IGVudHJ5Lm5ld2VyO1xuICAgIH1cbiAgICBkZWxldGUgdGhpcy5lbnRyaWVzX1trZXldO1xuICAgIC0tdGhpcy5jb3VudF87XG4gICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IENvdW50LlxuICAgKi9cbiAgZ2V0Q291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY291bnRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PHN0cmluZz59IEtleXMuXG4gICAqL1xuICBnZXRLZXlzKCkge1xuICAgIGNvbnN0IGtleXMgPSBuZXcgQXJyYXkodGhpcy5jb3VudF8pO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgZW50cnk7XG4gICAgZm9yIChlbnRyeSA9IHRoaXMubmV3ZXN0XzsgZW50cnk7IGVudHJ5ID0gZW50cnkub2xkZXIpIHtcbiAgICAgIGtleXNbaSsrXSA9IGVudHJ5LmtleV87XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PFQ+fSBWYWx1ZXMuXG4gICAqL1xuICBnZXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgdmFsdWVzID0gbmV3IEFycmF5KHRoaXMuY291bnRfKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGVudHJ5O1xuICAgIGZvciAoZW50cnkgPSB0aGlzLm5ld2VzdF87IGVudHJ5OyBlbnRyeSA9IGVudHJ5Lm9sZGVyKSB7XG4gICAgICB2YWx1ZXNbaSsrXSA9IGVudHJ5LnZhbHVlXztcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtUfSBMYXN0IHZhbHVlLlxuICAgKi9cbiAgcGVla0xhc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMub2xkZXN0Xy52YWx1ZV87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfSBMYXN0IGtleS5cbiAgICovXG4gIHBlZWtMYXN0S2V5KCkge1xuICAgIHJldHVybiB0aGlzLm9sZGVzdF8ua2V5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGtleSBvZiB0aGUgbmV3ZXN0IGl0ZW0gaW4gdGhlIGNhY2hlLiAgVGhyb3dzIGlmIHRoZSBjYWNoZSBpcyBlbXB0eS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgbmV3ZXN0IGtleS5cbiAgICovXG4gIHBlZWtGaXJzdEtleSgpIHtcbiAgICByZXR1cm4gdGhpcy5uZXdlc3RfLmtleV87XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGFuIGVudHJ5IHdpdGhvdXQgdXBkYXRpbmcgbGVhc3QgcmVjZW50bHkgdXNlZCB0aW1lLlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICogQHJldHVybiB7VH0gVmFsdWUuXG4gICAqL1xuICBwZWVrKGtleSkge1xuICAgIGlmICghdGhpcy5jb250YWluc0tleShrZXkpKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5lbnRyaWVzX1trZXldLnZhbHVlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtUfSB2YWx1ZSBWYWx1ZS5cbiAgICovXG4gIHBvcCgpIHtcbiAgICBjb25zdCBlbnRyeSA9IHRoaXMub2xkZXN0XztcbiAgICBkZWxldGUgdGhpcy5lbnRyaWVzX1tlbnRyeS5rZXlfXTtcbiAgICBpZiAoZW50cnkubmV3ZXIpIHtcbiAgICAgIGVudHJ5Lm5ld2VyLm9sZGVyID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5vbGRlc3RfID0gLyoqIEB0eXBlIHtFbnRyeX0gKi8gKGVudHJ5Lm5ld2VyKTtcbiAgICBpZiAoIXRoaXMub2xkZXN0Xykge1xuICAgICAgdGhpcy5uZXdlc3RfID0gbnVsbDtcbiAgICB9XG4gICAgLS10aGlzLmNvdW50XztcbiAgICByZXR1cm4gZW50cnkudmFsdWVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5LlxuICAgKiBAcGFyYW0ge1R9IHZhbHVlIFZhbHVlLlxuICAgKi9cbiAgcmVwbGFjZShrZXksIHZhbHVlKSB7XG4gICAgdGhpcy5nZXQoa2V5KTsgLy8gdXBkYXRlIGBuZXdlc3RfYFxuICAgIHRoaXMuZW50cmllc19ba2V5XS52YWx1ZV8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICogQHBhcmFtIHtUfSB2YWx1ZSBWYWx1ZS5cbiAgICovXG4gIHNldChrZXksIHZhbHVlKSB7XG4gICAgYXNzZXJ0KCEoa2V5IGluIHRoaXMuZW50cmllc18pLCAxNik7IC8vIFRyaWVkIHRvIHNldCBhIHZhbHVlIGZvciBhIGtleSB0aGF0IGlzIHVzZWQgYWxyZWFkeVxuICAgIGNvbnN0IGVudHJ5ID0ge1xuICAgICAga2V5Xzoga2V5LFxuICAgICAgbmV3ZXI6IG51bGwsXG4gICAgICBvbGRlcjogdGhpcy5uZXdlc3RfLFxuICAgICAgdmFsdWVfOiB2YWx1ZSxcbiAgICB9O1xuICAgIGlmICghdGhpcy5uZXdlc3RfKSB7XG4gICAgICB0aGlzLm9sZGVzdF8gPSBlbnRyeTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5uZXdlc3RfLm5ld2VyID0gZW50cnk7XG4gICAgfVxuICAgIHRoaXMubmV3ZXN0XyA9IGVudHJ5O1xuICAgIHRoaXMuZW50cmllc19ba2V5XSA9IGVudHJ5O1xuICAgICsrdGhpcy5jb3VudF87XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgbWF4aW11bSBudW1iZXIgb2YgZW50cmllcyBmb3IgdGhlIGNhY2hlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBDYWNoZSBzaXplLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRTaXplKHNpemUpIHtcbiAgICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBzaXplO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExSVUNhY2hlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1RpbGVDYWNoZVxuICovXG5pbXBvcnQgTFJVQ2FjaGUgZnJvbSAnLi9zdHJ1Y3RzL0xSVUNhY2hlLmpzJztcbmltcG9ydCB7ZnJvbUtleSwgZ2V0S2V5fSBmcm9tICcuL3RpbGVjb29yZC5qcyc7XG5cbmNsYXNzIFRpbGVDYWNoZSBleHRlbmRzIExSVUNhY2hlIHtcbiAgY2xlYXIoKSB7XG4gICAgd2hpbGUgKHRoaXMuZ2V0Q291bnQoKSA+IDApIHtcbiAgICAgIHRoaXMucG9wKCkucmVsZWFzZSgpO1xuICAgIH1cbiAgICBzdXBlci5jbGVhcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICovXG4gIGV4cGlyZUNhY2hlKHVzZWRUaWxlcykge1xuICAgIHdoaWxlICh0aGlzLmNhbkV4cGlyZUNhY2hlKCkpIHtcbiAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLnBlZWtMYXN0KCk7XG4gICAgICBpZiAodGlsZS5nZXRLZXkoKSBpbiB1c2VkVGlsZXMpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBvcCgpLnJlbGVhc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJ1bmUgYWxsIHRpbGVzIGZyb20gdGhlIGNhY2hlIHRoYXQgZG9uJ3QgaGF2ZSB0aGUgc2FtZSB6IGFzIHRoZSBuZXdlc3QgdGlsZS5cbiAgICovXG4gIHBydW5lRXhjZXB0TmV3ZXN0WigpIHtcbiAgICBpZiAodGhpcy5nZXRDb3VudCgpID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IHRoaXMucGVla0ZpcnN0S2V5KCk7XG4gICAgY29uc3QgdGlsZUNvb3JkID0gZnJvbUtleShrZXkpO1xuICAgIGNvbnN0IHogPSB0aWxlQ29vcmRbMF07XG4gICAgdGhpcy5mb3JFYWNoKCh0aWxlKSA9PiB7XG4gICAgICBpZiAodGlsZS50aWxlQ29vcmRbMF0gIT09IHopIHtcbiAgICAgICAgdGhpcy5yZW1vdmUoZ2V0S2V5KHRpbGUudGlsZUNvb3JkKSk7XG4gICAgICAgIHRpbGUucmVsZWFzZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVDYWNoZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9UaWxlUmFuZ2VcbiAqL1xuXG4vKipcbiAqIEEgcmVwcmVzZW50YXRpb24gb2YgYSBjb250aWd1b3VzIGJsb2NrIG9mIHRpbGVzLiAgQSB0aWxlIHJhbmdlIGlzIHNwZWNpZmllZFxuICogYnkgaXRzIG1pbi9tYXggdGlsZSBjb29yZGluYXRlcyBhbmQgaXMgaW5jbHVzaXZlIG9mIGNvb3JkaW5hdGVzLlxuICovXG5jbGFzcyBUaWxlUmFuZ2Uge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblggTWluaW11bSBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4WCBNYXhpbXVtIFguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZIE1pbmltdW0gWS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heFkgTWF4aW11bSBZLlxuICAgKi9cbiAgY29uc3RydWN0b3IobWluWCwgbWF4WCwgbWluWSwgbWF4WSkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5taW5YID0gbWluWDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhYID0gbWF4WDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5taW5ZID0gbWluWTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgdGlsZSBjb29yZGluYXRlLlxuICAgKi9cbiAgY29udGFpbnModGlsZUNvb3JkKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGFpbnNYWSh0aWxlQ29vcmRbMV0sIHRpbGVDb29yZFsyXSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUaWxlUmFuZ2V9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucy5cbiAgICovXG4gIGNvbnRhaW5zVGlsZVJhbmdlKHRpbGVSYW5nZSkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLm1pblggPD0gdGlsZVJhbmdlLm1pblggJiZcbiAgICAgIHRpbGVSYW5nZS5tYXhYIDw9IHRoaXMubWF4WCAmJlxuICAgICAgdGhpcy5taW5ZIDw9IHRpbGVSYW5nZS5taW5ZICYmXG4gICAgICB0aWxlUmFuZ2UubWF4WSA8PSB0aGlzLm1heFlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgY29vcmRpbmF0ZS5cbiAgICovXG4gIGNvbnRhaW5zWFkoeCwgeSkge1xuICAgIHJldHVybiB0aGlzLm1pblggPD0geCAmJiB4IDw9IHRoaXMubWF4WCAmJiB0aGlzLm1pblkgPD0geSAmJiB5IDw9IHRoaXMubWF4WTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RpbGVSYW5nZX0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IEVxdWFscy5cbiAgICovXG4gIGVxdWFscyh0aWxlUmFuZ2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5taW5YID09IHRpbGVSYW5nZS5taW5YICYmXG4gICAgICB0aGlzLm1pblkgPT0gdGlsZVJhbmdlLm1pblkgJiZcbiAgICAgIHRoaXMubWF4WCA9PSB0aWxlUmFuZ2UubWF4WCAmJlxuICAgICAgdGhpcy5tYXhZID09IHRpbGVSYW5nZS5tYXhZXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RpbGVSYW5nZX0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAqL1xuICBleHRlbmQodGlsZVJhbmdlKSB7XG4gICAgaWYgKHRpbGVSYW5nZS5taW5YIDwgdGhpcy5taW5YKSB7XG4gICAgICB0aGlzLm1pblggPSB0aWxlUmFuZ2UubWluWDtcbiAgICB9XG4gICAgaWYgKHRpbGVSYW5nZS5tYXhYID4gdGhpcy5tYXhYKSB7XG4gICAgICB0aGlzLm1heFggPSB0aWxlUmFuZ2UubWF4WDtcbiAgICB9XG4gICAgaWYgKHRpbGVSYW5nZS5taW5ZIDwgdGhpcy5taW5ZKSB7XG4gICAgICB0aGlzLm1pblkgPSB0aWxlUmFuZ2UubWluWTtcbiAgICB9XG4gICAgaWYgKHRpbGVSYW5nZS5tYXhZID4gdGhpcy5tYXhZKSB7XG4gICAgICB0aGlzLm1heFkgPSB0aWxlUmFuZ2UubWF4WTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBIZWlnaHQuXG4gICAqL1xuICBnZXRIZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMubWF4WSAtIHRoaXMubWluWSArIDE7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFNpemUuXG4gICAqL1xuICBnZXRTaXplKCkge1xuICAgIHJldHVybiBbdGhpcy5nZXRXaWR0aCgpLCB0aGlzLmdldEhlaWdodCgpXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFdpZHRoLlxuICAgKi9cbiAgZ2V0V2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMubWF4WCAtIHRoaXMubWluWCArIDE7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUaWxlUmFuZ2V9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJbnRlcnNlY3RzLlxuICAgKi9cbiAgaW50ZXJzZWN0cyh0aWxlUmFuZ2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5taW5YIDw9IHRpbGVSYW5nZS5tYXhYICYmXG4gICAgICB0aGlzLm1heFggPj0gdGlsZVJhbmdlLm1pblggJiZcbiAgICAgIHRoaXMubWluWSA8PSB0aWxlUmFuZ2UubWF4WSAmJlxuICAgICAgdGhpcy5tYXhZID49IHRpbGVSYW5nZS5taW5ZXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5YIE1pbmltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhYIE1heGltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZIE1pbmltdW0gWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhZIE1heGltdW0gWS5cbiAqIEBwYXJhbSB7VGlsZVJhbmdlfSBbdGlsZVJhbmdlXSBUaWxlUmFuZ2UuXG4gKiBAcmV0dXJuIHtUaWxlUmFuZ2V9IFRpbGUgcmFuZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtYXhYLCBtaW5ZLCBtYXhZLCB0aWxlUmFuZ2UpIHtcbiAgaWYgKHRpbGVSYW5nZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGlsZVJhbmdlLm1pblggPSBtaW5YO1xuICAgIHRpbGVSYW5nZS5tYXhYID0gbWF4WDtcbiAgICB0aWxlUmFuZ2UubWluWSA9IG1pblk7XG4gICAgdGlsZVJhbmdlLm1heFkgPSBtYXhZO1xuICAgIHJldHVybiB0aWxlUmFuZ2U7XG4gIH1cbiAgcmV0dXJuIG5ldyBUaWxlUmFuZ2UobWluWCwgbWF4WCwgbWluWSwgbWF4WSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVSYW5nZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9UaWxlU3RhdGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgSURMRTogMCxcbiAgTE9BRElORzogMSxcbiAgTE9BREVEOiAyLFxuICAvKipcbiAgICogSW5kaWNhdGVzIHRoYXQgdGlsZSBsb2FkaW5nIGZhaWxlZFxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgRVJST1I6IDMsXG4gIEVNUFRZOiA0LFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9WaWV3UHJvcGVydHlcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgQ0VOVEVSOiAnY2VudGVyJyxcbiAgUkVTT0xVVElPTjogJ3Jlc29sdXRpb24nLFxuICBST1RBVElPTjogJ3JvdGF0aW9uJyxcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvY2VudGVyY29uc3RyYWludFxuICovXG5pbXBvcnQge2NsYW1wfSBmcm9tICcuL21hdGguanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkKSwgbnVtYmVyLCBpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZSwgYm9vbGVhbj0sIEFycmF5PG51bWJlcj49KTogKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZCl9IFR5cGVcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtib29sZWFufSBvbmx5Q2VudGVyIElmIHRydWUsIHRoZSBjb25zdHJhaW50IHdpbGwgb25seSBhcHBseSB0byB0aGUgdmlldyBjZW50ZXIuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNtb290aCBJZiB0cnVlLCB0aGUgdmlldyB3aWxsIGJlIGFibGUgdG8gZ28gc2xpZ2h0bHkgb3V0IG9mIHRoZSBnaXZlbiBleHRlbnRcbiAqIChvbmx5IGR1cmluZyBpbnRlcmFjdGlvbiBhbmQgYW5pbWF0aW9uKS5cbiAqIEByZXR1cm4ge1R5cGV9IFRoZSBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXh0ZW50KGV4dGVudCwgb25seUNlbnRlciwgc21vb3RoKSB7XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IGNlbnRlciBDZW50ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBWaWV3cG9ydCBzaXplOyB1bnVzZWQgaWYgYG9ubHlDZW50ZXJgIHdhcyBzcGVjaWZpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNNb3ZpbmddIFRydWUgaWYgYW4gaW50ZXJhY3Rpb24gb3IgYW5pbWF0aW9uIGlzIGluIHByb2dyZXNzLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2NlbnRlclNoaWZ0XSBTaGlmdCBiZXR3ZWVuIG1hcCBjZW50ZXIgYW5kIHZpZXdwb3J0IGNlbnRlci5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoY2VudGVyLCByZXNvbHV0aW9uLCBzaXplLCBpc01vdmluZywgY2VudGVyU2hpZnQpIHtcbiAgICAgIGlmICghY2VudGVyKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoIXJlc29sdXRpb24gJiYgIW9ubHlDZW50ZXIpIHtcbiAgICAgICAgcmV0dXJuIGNlbnRlcjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZpZXdXaWR0aCA9IG9ubHlDZW50ZXIgPyAwIDogc2l6ZVswXSAqIHJlc29sdXRpb247XG4gICAgICBjb25zdCB2aWV3SGVpZ2h0ID0gb25seUNlbnRlciA/IDAgOiBzaXplWzFdICogcmVzb2x1dGlvbjtcbiAgICAgIGNvbnN0IHNoaWZ0WCA9IGNlbnRlclNoaWZ0ID8gY2VudGVyU2hpZnRbMF0gOiAwO1xuICAgICAgY29uc3Qgc2hpZnRZID0gY2VudGVyU2hpZnQgPyBjZW50ZXJTaGlmdFsxXSA6IDA7XG4gICAgICBsZXQgbWluWCA9IGV4dGVudFswXSArIHZpZXdXaWR0aCAvIDIgKyBzaGlmdFg7XG4gICAgICBsZXQgbWF4WCA9IGV4dGVudFsyXSAtIHZpZXdXaWR0aCAvIDIgKyBzaGlmdFg7XG4gICAgICBsZXQgbWluWSA9IGV4dGVudFsxXSArIHZpZXdIZWlnaHQgLyAyICsgc2hpZnRZO1xuICAgICAgbGV0IG1heFkgPSBleHRlbnRbM10gLSB2aWV3SGVpZ2h0IC8gMiArIHNoaWZ0WTtcblxuICAgICAgLy8gbm90ZTogd2hlbiB6b29taW5nIG91dCBvZiBib3VuZHMsIG1pbiBhbmQgbWF4IHZhbHVlcyBmb3IgeCBhbmQgeSBtYXlcbiAgICAgIC8vIGVuZCB1cCBpbnZlcnRlZCAobWluID4gbWF4KTsgdGhpcyBoYXMgdG8gYmUgYWNjb3VudGVkIGZvclxuICAgICAgaWYgKG1pblggPiBtYXhYKSB7XG4gICAgICAgIG1pblggPSAobWF4WCArIG1pblgpIC8gMjtcbiAgICAgICAgbWF4WCA9IG1pblg7XG4gICAgICB9XG4gICAgICBpZiAobWluWSA+IG1heFkpIHtcbiAgICAgICAgbWluWSA9IChtYXhZICsgbWluWSkgLyAyO1xuICAgICAgICBtYXhZID0gbWluWTtcbiAgICAgIH1cblxuICAgICAgbGV0IHggPSBjbGFtcChjZW50ZXJbMF0sIG1pblgsIG1heFgpO1xuICAgICAgbGV0IHkgPSBjbGFtcChjZW50ZXJbMV0sIG1pblksIG1heFkpO1xuXG4gICAgICAvLyBkdXJpbmcgYW4gaW50ZXJhY3Rpb24sIGFsbG93IHNvbWUgb3ZlcnNjcm9sbFxuICAgICAgaWYgKGlzTW92aW5nICYmIHNtb290aCAmJiByZXNvbHV0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJhdGlvID0gMzAgKiByZXNvbHV0aW9uO1xuICAgICAgICB4ICs9XG4gICAgICAgICAgLXJhdGlvICogTWF0aC5sb2coMSArIE1hdGgubWF4KDAsIG1pblggLSBjZW50ZXJbMF0pIC8gcmF0aW8pICtcbiAgICAgICAgICByYXRpbyAqIE1hdGgubG9nKDEgKyBNYXRoLm1heCgwLCBjZW50ZXJbMF0gLSBtYXhYKSAvIHJhdGlvKTtcbiAgICAgICAgeSArPVxuICAgICAgICAgIC1yYXRpbyAqIE1hdGgubG9nKDEgKyBNYXRoLm1heCgwLCBtaW5ZIC0gY2VudGVyWzFdKSAvIHJhdGlvKSArXG4gICAgICAgICAgcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgY2VudGVyWzFdIC0gbWF4WSkgLyByYXRpbyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbeCwgeV07XG4gICAgfVxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtjZW50ZXJdIENlbnRlci5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gQ2VudGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9uZShjZW50ZXIpIHtcbiAgcmV0dXJuIGNlbnRlcjtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZXNvbHV0aW9uY29uc3RyYWludFxuICovXG5pbXBvcnQge2NsYW1wfSBmcm9tICcuL21hdGguanMnO1xuaW1wb3J0IHtnZXRIZWlnaHQsIGdldFdpZHRofSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQge2xpbmVhckZpbmROZWFyZXN0fSBmcm9tICcuL2FycmF5LmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKG51bWJlcnx1bmRlZmluZWQpLCBudW1iZXIsIGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplLCBib29sZWFuPSk6IChudW1iZXJ8dW5kZWZpbmVkKX0gVHlwZVxuICovXG5cbi8qKlxuICogUmV0dXJucyBhIG1vZGlmaWVkIHJlc29sdXRpb24gdGFraW5nIGludG8gYWNjb3VudCB0aGUgdmlld3BvcnQgc2l6ZSBhbmQgbWF4aW11bVxuICogYWxsb3dlZCBleHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gYWxsb3dlZCBleHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSB2aWV3cG9ydFNpemUgVmlld3BvcnQgc2l6ZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvd0Z1bGxFeHRlbnQgV2hldGhlciB0byBzaG93IHRoZSBmdWxsIGV4dGVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gQ2FwcGVkIHJlc29sdXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdldFZpZXdwb3J0Q2xhbXBlZFJlc29sdXRpb24oXG4gIHJlc29sdXRpb24sXG4gIG1heEV4dGVudCxcbiAgdmlld3BvcnRTaXplLFxuICBzaG93RnVsbEV4dGVudFxuKSB7XG4gIGNvbnN0IHhSZXNvbHV0aW9uID0gZ2V0V2lkdGgobWF4RXh0ZW50KSAvIHZpZXdwb3J0U2l6ZVswXTtcbiAgY29uc3QgeVJlc29sdXRpb24gPSBnZXRIZWlnaHQobWF4RXh0ZW50KSAvIHZpZXdwb3J0U2l6ZVsxXTtcblxuICBpZiAoc2hvd0Z1bGxFeHRlbnQpIHtcbiAgICByZXR1cm4gTWF0aC5taW4ocmVzb2x1dGlvbiwgTWF0aC5tYXgoeFJlc29sdXRpb24sIHlSZXNvbHV0aW9uKSk7XG4gIH1cbiAgcmV0dXJuIE1hdGgubWluKHJlc29sdXRpb24sIE1hdGgubWluKHhSZXNvbHV0aW9uLCB5UmVzb2x1dGlvbikpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBtb2RpZmllZCByZXNvbHV0aW9uIHRvIGJlIGJldHdlZW4gbWF4UmVzb2x1dGlvbiBhbmQgbWluUmVzb2x1dGlvbiB3aGlsZVxuICogc3RpbGwgYWxsb3dpbmcgdGhlIHZhbHVlIHRvIGJlIHNsaWdodGx5IG91dCBvZiBib3VuZHMuXG4gKiBOb3RlOiB0aGUgY29tcHV0YXRpb24gaXMgYmFzZWQgb24gdGhlIGxvZ2FyaXRobSBmdW5jdGlvbiAobG4pOlxuICogIC0gYXQgMSwgbG4oeCkgaXMgMFxuICogIC0gYWJvdmUgMSwgbG4oeCkga2VlcHMgaW5jcmVhc2luZyBidXQgYXQgYSBtdWNoIHNsb3dlciBwYWNlIHRoYW4geFxuICogVGhlIGZpbmFsIHJlc3VsdCBpcyBjbGFtcGVkIHRvIHByZXZlbnQgZ2V0dGluZyB0b28gZmFyIGF3YXkgZnJvbSBib3VuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFJlc29sdXRpb24gTWF4IHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gbWluUmVzb2x1dGlvbiBNaW4gcmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gU21vb3RoZWQgcmVzb2x1dGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0U21vb3RoQ2xhbXBlZFJlc29sdXRpb24ocmVzb2x1dGlvbiwgbWF4UmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbikge1xuICBsZXQgcmVzdWx0ID0gTWF0aC5taW4ocmVzb2x1dGlvbiwgbWF4UmVzb2x1dGlvbik7XG4gIGNvbnN0IHJhdGlvID0gNTA7XG5cbiAgcmVzdWx0ICo9XG4gICAgTWF0aC5sb2coMSArIHJhdGlvICogTWF0aC5tYXgoMCwgcmVzb2x1dGlvbiAvIG1heFJlc29sdXRpb24gLSAxKSkgLyByYXRpbyArXG4gICAgMTtcbiAgaWYgKG1pblJlc29sdXRpb24pIHtcbiAgICByZXN1bHQgPSBNYXRoLm1heChyZXN1bHQsIG1pblJlc29sdXRpb24pO1xuICAgIHJlc3VsdCAvPVxuICAgICAgTWF0aC5sb2coMSArIHJhdGlvICogTWF0aC5tYXgoMCwgbWluUmVzb2x1dGlvbiAvIHJlc29sdXRpb24gLSAxKSkgL1xuICAgICAgICByYXRpbyArXG4gICAgICAxO1xuICB9XG4gIHJldHVybiBjbGFtcChyZXN1bHQsIG1pblJlc29sdXRpb24gLyAyLCBtYXhSZXNvbHV0aW9uICogMik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSByZXNvbHV0aW9ucyBSZXNvbHV0aW9ucy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Ntb290aF0gSWYgdHJ1ZSwgdGhlIHZpZXcgd2lsbCBiZSBhYmxlIHRvIHNsaWdodGx5IGV4Y2VlZCByZXNvbHV0aW9uIGxpbWl0cy4gRGVmYXVsdDogdHJ1ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBbbWF4RXh0ZW50XSBNYXhpbXVtIGFsbG93ZWQgZXh0ZW50LlxuICogQHBhcmFtIHtib29sZWFufSBbc2hvd0Z1bGxFeHRlbnRdIElmIHRydWUsIGFsbG93cyB1cyB0byBzaG93IHRoZSBmdWxsIGV4dGVudC4gRGVmYXVsdDogZmFsc2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBab29tIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvUmVzb2x1dGlvbnMoXG4gIHJlc29sdXRpb25zLFxuICBzbW9vdGgsXG4gIG1heEV4dGVudCxcbiAgc2hvd0Z1bGxFeHRlbnRcbikge1xuICBzbW9vdGggPSBzbW9vdGggIT09IHVuZGVmaW5lZCA/IHNtb290aCA6IHRydWU7XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiBEaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBWaWV3cG9ydCBzaXplLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzTW92aW5nXSBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSZXNvbHV0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChyZXNvbHV0aW9uLCBkaXJlY3Rpb24sIHNpemUsIGlzTW92aW5nKSB7XG4gICAgICBpZiAocmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IG1heFJlc29sdXRpb24gPSByZXNvbHV0aW9uc1swXTtcbiAgICAgICAgY29uc3QgbWluUmVzb2x1dGlvbiA9IHJlc29sdXRpb25zW3Jlc29sdXRpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBjYXBwZWRNYXhSZXMgPSBtYXhFeHRlbnRcbiAgICAgICAgICA/IGdldFZpZXdwb3J0Q2xhbXBlZFJlc29sdXRpb24oXG4gICAgICAgICAgICAgIG1heFJlc29sdXRpb24sXG4gICAgICAgICAgICAgIG1heEV4dGVudCxcbiAgICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgICAgc2hvd0Z1bGxFeHRlbnRcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IG1heFJlc29sdXRpb247XG5cbiAgICAgICAgLy8gZHVyaW5nIGludGVyYWN0aW5nIG9yIGFuaW1hdGluZywgYWxsb3cgaW50ZXJtZWRpYXJ5IHZhbHVlc1xuICAgICAgICBpZiAoaXNNb3ZpbmcpIHtcbiAgICAgICAgICBpZiAoIXNtb290aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNsYW1wKHJlc29sdXRpb24sIG1pblJlc29sdXRpb24sIGNhcHBlZE1heFJlcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBnZXRTbW9vdGhDbGFtcGVkUmVzb2x1dGlvbihcbiAgICAgICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgICAgICBjYXBwZWRNYXhSZXMsXG4gICAgICAgICAgICBtaW5SZXNvbHV0aW9uXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhcHBlZCA9IE1hdGgubWluKGNhcHBlZE1heFJlcywgcmVzb2x1dGlvbik7XG4gICAgICAgIGNvbnN0IHogPSBNYXRoLmZsb29yKGxpbmVhckZpbmROZWFyZXN0KHJlc29sdXRpb25zLCBjYXBwZWQsIGRpcmVjdGlvbikpO1xuICAgICAgICBpZiAocmVzb2x1dGlvbnNbel0gPiBjYXBwZWRNYXhSZXMgJiYgeiA8IHJlc29sdXRpb25zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x1dGlvbnNbeiArIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHV0aW9uc1t6XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3dlciBQb3dlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIE1heGltdW0gcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gTWluaW11bSByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtib29sZWFufSBbc21vb3RoXSBJZiB0cnVlLCB0aGUgdmlldyB3aWxsIGJlIGFibGUgdG8gc2xpZ2h0bHkgZXhjZWVkIHJlc29sdXRpb24gbGltaXRzLiBEZWZhdWx0OiB0cnVlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IFttYXhFeHRlbnRdIE1heGltdW0gYWxsb3dlZCBleHRlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzaG93RnVsbEV4dGVudF0gSWYgdHJ1ZSwgYWxsb3dzIHVzIHRvIHNob3cgdGhlIGZ1bGwgZXh0ZW50LiBEZWZhdWx0OiBmYWxzZS5cbiAqIEByZXR1cm4ge1R5cGV9IFpvb20gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTbmFwVG9Qb3dlcihcbiAgcG93ZXIsXG4gIG1heFJlc29sdXRpb24sXG4gIG1pblJlc29sdXRpb24sXG4gIHNtb290aCxcbiAgbWF4RXh0ZW50LFxuICBzaG93RnVsbEV4dGVudFxuKSB7XG4gIHNtb290aCA9IHNtb290aCAhPT0gdW5kZWZpbmVkID8gc21vb3RoIDogdHJ1ZTtcbiAgbWluUmVzb2x1dGlvbiA9IG1pblJlc29sdXRpb24gIT09IHVuZGVmaW5lZCA/IG1pblJlc29sdXRpb24gOiAwO1xuXG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiBEaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBWaWV3cG9ydCBzaXplLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzTW92aW5nXSBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSZXNvbHV0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChyZXNvbHV0aW9uLCBkaXJlY3Rpb24sIHNpemUsIGlzTW92aW5nKSB7XG4gICAgICBpZiAocmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGNhcHBlZE1heFJlcyA9IG1heEV4dGVudFxuICAgICAgICAgID8gZ2V0Vmlld3BvcnRDbGFtcGVkUmVzb2x1dGlvbihcbiAgICAgICAgICAgICAgbWF4UmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgbWF4RXh0ZW50LFxuICAgICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgICBzaG93RnVsbEV4dGVudFxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogbWF4UmVzb2x1dGlvbjtcblxuICAgICAgICAvLyBkdXJpbmcgaW50ZXJhY3Rpbmcgb3IgYW5pbWF0aW5nLCBhbGxvdyBpbnRlcm1lZGlhcnkgdmFsdWVzXG4gICAgICAgIGlmIChpc01vdmluZykge1xuICAgICAgICAgIGlmICghc21vb3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xhbXAocmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uKFxuICAgICAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgICAgIGNhcHBlZE1heFJlcyxcbiAgICAgICAgICAgIG1pblJlc29sdXRpb25cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG9sZXJhbmNlID0gMWUtOTtcbiAgICAgICAgY29uc3QgbWluWm9vbUxldmVsID0gTWF0aC5jZWlsKFxuICAgICAgICAgIE1hdGgubG9nKG1heFJlc29sdXRpb24gLyBjYXBwZWRNYXhSZXMpIC8gTWF0aC5sb2cocG93ZXIpIC0gdG9sZXJhbmNlXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IC1kaXJlY3Rpb24gKiAoMC41IC0gdG9sZXJhbmNlKSArIDAuNTtcbiAgICAgICAgY29uc3QgY2FwcGVkID0gTWF0aC5taW4oY2FwcGVkTWF4UmVzLCByZXNvbHV0aW9uKTtcbiAgICAgICAgY29uc3QgY2FwcGVkWm9vbUxldmVsID0gTWF0aC5mbG9vcihcbiAgICAgICAgICBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gY2FwcGVkKSAvIE1hdGgubG9nKHBvd2VyKSArIG9mZnNldFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB6b29tTGV2ZWwgPSBNYXRoLm1heChtaW5ab29tTGV2ZWwsIGNhcHBlZFpvb21MZXZlbCk7XG4gICAgICAgIGNvbnN0IG5ld1Jlc29sdXRpb24gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3cocG93ZXIsIHpvb21MZXZlbCk7XG4gICAgICAgIHJldHVybiBjbGFtcChuZXdSZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBjYXBwZWRNYXhSZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFJlc29sdXRpb24gTWF4IHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gbWluUmVzb2x1dGlvbiBNaW4gcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Ntb290aF0gSWYgdHJ1ZSwgdGhlIHZpZXcgd2lsbCBiZSBhYmxlIHRvIHNsaWdodGx5IGV4Y2VlZCByZXNvbHV0aW9uIGxpbWl0cy4gRGVmYXVsdDogdHJ1ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBbbWF4RXh0ZW50XSBNYXhpbXVtIGFsbG93ZWQgZXh0ZW50LlxuICogQHBhcmFtIHtib29sZWFufSBbc2hvd0Z1bGxFeHRlbnRdIElmIHRydWUsIGFsbG93cyB1cyB0byBzaG93IHRoZSBmdWxsIGV4dGVudC4gRGVmYXVsdDogZmFsc2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBab29tIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWluTWF4UmVzb2x1dGlvbihcbiAgbWF4UmVzb2x1dGlvbixcbiAgbWluUmVzb2x1dGlvbixcbiAgc21vb3RoLFxuICBtYXhFeHRlbnQsXG4gIHNob3dGdWxsRXh0ZW50XG4pIHtcbiAgc21vb3RoID0gc21vb3RoICE9PSB1bmRlZmluZWQgPyBzbW9vdGggOiB0cnVlO1xuXG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiBEaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBWaWV3cG9ydCBzaXplLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzTW92aW5nXSBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSZXNvbHV0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChyZXNvbHV0aW9uLCBkaXJlY3Rpb24sIHNpemUsIGlzTW92aW5nKSB7XG4gICAgICBpZiAocmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGNhcHBlZE1heFJlcyA9IG1heEV4dGVudFxuICAgICAgICAgID8gZ2V0Vmlld3BvcnRDbGFtcGVkUmVzb2x1dGlvbihcbiAgICAgICAgICAgICAgbWF4UmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgbWF4RXh0ZW50LFxuICAgICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgICBzaG93RnVsbEV4dGVudFxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogbWF4UmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAoIXNtb290aCB8fCAhaXNNb3ZpbmcpIHtcbiAgICAgICAgICByZXR1cm4gY2xhbXAocmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0U21vb3RoQ2xhbXBlZFJlc29sdXRpb24oXG4gICAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgICBjYXBwZWRNYXhSZXMsXG4gICAgICAgICAgbWluUmVzb2x1dGlvblxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICk7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvVmlld1xuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuL09iamVjdC5qcyc7XG5pbXBvcnQgVmlld0hpbnQgZnJvbSAnLi9WaWV3SGludC5qcyc7XG5pbXBvcnQgVmlld1Byb3BlcnR5IGZyb20gJy4vVmlld1Byb3BlcnR5LmpzJztcbmltcG9ydCB7REVGQVVMVF9USUxFX1NJWkV9IGZyb20gJy4vdGlsZWdyaWQvY29tbW9uLmpzJztcbmltcG9ydCB7XG4gIE1FVEVSU19QRVJfVU5JVCxcbiAgY3JlYXRlUHJvamVjdGlvbixcbiAgZGlzYWJsZUNvb3JkaW5hdGVXYXJuaW5nLFxuICBmcm9tVXNlckNvb3JkaW5hdGUsXG4gIGZyb21Vc2VyRXh0ZW50LFxuICBnZXRVc2VyUHJvamVjdGlvbixcbiAgdG9Vc2VyQ29vcmRpbmF0ZSxcbiAgdG9Vc2VyRXh0ZW50LFxufSBmcm9tICcuL3Byb2ouanMnO1xuaW1wb3J0IHtWT0lEfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge1xuICBhZGQgYXMgYWRkQ29vcmRpbmF0ZSxcbiAgZXF1YWxzIGFzIGNvb3JkaW5hdGVzRXF1YWwsXG4gIGVxdWFscyxcbiAgcm90YXRlIGFzIHJvdGF0ZUNvb3JkaW5hdGUsXG59IGZyb20gJy4vY29vcmRpbmF0ZS5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7bm9uZSBhcyBjZW50ZXJOb25lLCBjcmVhdGVFeHRlbnR9IGZyb20gJy4vY2VudGVyY29uc3RyYWludC5qcyc7XG5pbXBvcnQge2NsYW1wLCBtb2R1bG99IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQge1xuICBjcmVhdGVNaW5NYXhSZXNvbHV0aW9uLFxuICBjcmVhdGVTbmFwVG9Qb3dlcixcbiAgY3JlYXRlU25hcFRvUmVzb2x1dGlvbnMsXG59IGZyb20gJy4vcmVzb2x1dGlvbmNvbnN0cmFpbnQuanMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlU25hcFRvTixcbiAgY3JlYXRlU25hcFRvWmVybyxcbiAgZGlzYWJsZSxcbiAgbm9uZSBhcyByb3RhdGlvbk5vbmUsXG59IGZyb20gJy4vcm90YXRpb25jb25zdHJhaW50LmpzJztcbmltcG9ydCB7ZWFzZU91dCwgaW5BbmRPdXR9IGZyb20gJy4vZWFzaW5nLmpzJztcbmltcG9ydCB7XG4gIGdldENlbnRlcixcbiAgZ2V0Rm9yVmlld0FuZFNpemUsXG4gIGdldEhlaWdodCxcbiAgZ2V0V2lkdGgsXG4gIGlzRW1wdHksXG59IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7bGluZWFyRmluZE5lYXJlc3R9IGZyb20gJy4vYXJyYXkuanMnO1xuaW1wb3J0IHtmcm9tRXh0ZW50IGFzIHBvbHlnb25Gcm9tRXh0ZW50fSBmcm9tICcuL2dlb20vUG9seWdvbi5qcyc7XG5cbi8qKlxuICogQW4gYW5pbWF0aW9uIGNvbmZpZ3VyYXRpb25cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmltYXRpb25cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtzb3VyY2VDZW50ZXJdIFNvdXJjZSBjZW50ZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbdGFyZ2V0Q2VudGVyXSBUYXJnZXQgY2VudGVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzb3VyY2VSZXNvbHV0aW9uXSBTb3VyY2UgcmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGFyZ2V0UmVzb2x1dGlvbl0gVGFyZ2V0IHJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NvdXJjZVJvdGF0aW9uXSBTb3VyY2Ugcm90YXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RhcmdldFJvdGF0aW9uXSBUYXJnZXQgcm90YXRpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBBbmNob3IuXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RhcnQgU3RhcnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb24gRHVyYXRpb24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGNvbXBsZXRlIENvbXBsZXRlLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihudW1iZXIpOm51bWJlcn0gZWFzaW5nIEVhc2luZy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oYm9vbGVhbik6dm9pZH0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDb25zdHJhaW50c1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2NlbnRlcmNvbnN0cmFpbnQuanNcIikuVHlwZX0gY2VudGVyIENlbnRlci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9yZXNvbHV0aW9uY29uc3RyYWludC5qc1wiKS5UeXBlfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcm90YXRpb25jb25zdHJhaW50LmpzXCIpLlR5cGV9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRml0T3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW3NpemVdIFRoZSBzaXplIGluIHBpeGVscyBvZiB0aGUgYm94IHRvIGZpdFxuICogdGhlIGV4dGVudCBpbnRvLiBEZWZhdWx0IGlzIHRoZSBjdXJyZW50IHNpemUgb2YgdGhlIGZpcnN0IG1hcCBpbiB0aGUgRE9NIHRoYXRcbiAqIHVzZXMgdGhpcyB2aWV3LCBvciBgWzEwMCwgMTAwXWAgaWYgbm8gc3VjaCBtYXAgaXMgZm91bmQuXG4gKiBAcHJvcGVydHkgeyFBcnJheTxudW1iZXI+fSBbcGFkZGluZz1bMCwgMCwgMCwgMF1dIFBhZGRpbmcgKGluIHBpeGVscykgdG8gYmVcbiAqIGNsZWFyZWQgaW5zaWRlIHRoZSB2aWV3LiBWYWx1ZXMgaW4gdGhlIGFycmF5IGFyZSB0b3AsIHJpZ2h0LCBib3R0b20gYW5kIGxlZnRcbiAqIHBhZGRpbmcuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtuZWFyZXN0PWZhbHNlXSBJZiB0aGUgdmlldyBgY29uc3RyYWluUmVzb2x1dGlvbmAgb3B0aW9uIGlzIGB0cnVlYCxcbiAqIGdldCB0aGUgbmVhcmVzdCBleHRlbnQgaW5zdGVhZCBvZiB0aGUgY2xvc2VzdCB0aGF0IGFjdHVhbGx5IGZpdHMgdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb249MF0gTWluaW11bSByZXNvbHV0aW9uIHRoYXQgd2Ugem9vbSB0by5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gTWF4aW11bSB6b29tIGxldmVsIHRoYXQgd2Ugem9vbSB0by4gSWZcbiAqIGBtaW5SZXNvbHV0aW9uYCBpcyBnaXZlbiwgdGhpcyBwcm9wZXJ0eSBpcyBpZ25vcmVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbl0gVGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQnkgZGVmYXVsdCwgdGhlcmUgaXMgbm8gYW5pbWF0aW9uIHRvIHRoZSB0YXJnZXQgZXh0ZW50LlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihudW1iZXIpOm51bWJlcn0gW2Vhc2luZ10gVGhlIGVhc2luZyBmdW5jdGlvbiB1c2VkIGR1cmluZ1xuICogdGhlIGFuaW1hdGlvbiAoZGVmYXVsdHMgdG8ge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmcuaW5BbmRPdXR9KS5cbiAqIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBmcmFtZSB3aXRoIGEgbnVtYmVyIHJlcHJlc2VudGluZyBhXG4gKiBmcmFjdGlvbiBvZiB0aGUgYW5pbWF0aW9uJ3MgZHVyYXRpb24uICBUaGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIG51bWJlclxuICogYmV0d2VlbiAwIGFuZCAxIHJlcHJlc2VudGluZyB0aGUgcHJvZ3Jlc3MgdG93YXJkIHRoZSBkZXN0aW5hdGlvbiBzdGF0ZS5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oYm9vbGVhbik6dm9pZH0gW2NhbGxiYWNrXSBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgdmlldyBpcyBpblxuICogaXRzIGZpbmFsIHBvc2l0aW9uLiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aCBgdHJ1ZWAgaWYgdGhlIGFuaW1hdGlvblxuICogc2VyaWVzIGNvbXBsZXRlZCBvbiBpdHMgb3duIG9yIGBmYWxzZWAgaWYgaXQgd2FzIGNhbmNlbGxlZC5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFZpZXdPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbY2VudGVyXSBUaGUgaW5pdGlhbCBjZW50ZXIgZm9yXG4gKiB0aGUgdmlldy4gSWYgYSB1c2VyIHByb2plY3Rpb24gaXMgbm90IHNldCwgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIGZvciB0aGUgY2VudGVyIGlzXG4gKiBzcGVjaWZpZWQgd2l0aCB0aGUgYHByb2plY3Rpb25gIG9wdGlvbi4gTGF5ZXIgc291cmNlcyB3aWxsIG5vdCBiZSBmZXRjaGVkIGlmIHRoaXNcbiAqIGlzIG5vdCBzZXQsIGJ1dCB0aGUgY2VudGVyIGNhbiBiZSBzZXQgbGF0ZXIgd2l0aCB7QGxpbmsgI3NldENlbnRlcn0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW58bnVtYmVyfSBbY29uc3RyYWluUm90YXRpb249dHJ1ZV0gUm90YXRpb24gY29uc3RyYWludC5cbiAqIGBmYWxzZWAgbWVhbnMgbm8gY29uc3RyYWludC4gYHRydWVgIG1lYW5zIG5vIGNvbnN0cmFpbnQsIGJ1dCBzbmFwIHRvIHplcm9cbiAqIG5lYXIgemVyby4gQSBudW1iZXIgY29uc3RyYWlucyB0aGUgcm90YXRpb24gdG8gdGhhdCBudW1iZXIgb2YgdmFsdWVzLiBGb3JcbiAqIGV4YW1wbGUsIGA0YCB3aWxsIGNvbnN0cmFpbiB0aGUgcm90YXRpb24gdG8gMCwgOTAsIDE4MCwgYW5kIDI3MCBkZWdyZWVzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZW5hYmxlUm90YXRpb249dHJ1ZV0gRW5hYmxlIHJvdGF0aW9uLlxuICogSWYgYGZhbHNlYCwgYSByb3RhdGlvbiBjb25zdHJhaW50IHRoYXQgYWx3YXlzIHNldHMgdGhlIHJvdGF0aW9uIHRvIHplcm8gaXNcbiAqIHVzZWQuIFRoZSBgY29uc3RyYWluUm90YXRpb25gIG9wdGlvbiBoYXMgbm8gZWZmZWN0IGlmIGBlbmFibGVSb3RhdGlvbmAgaXNcbiAqIGBmYWxzZWAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGV4dGVudCB0aGF0IGNvbnN0cmFpbnMgdGhlXG4gKiB2aWV3LCBpbiBvdGhlciB3b3Jkcywgbm90aGluZyBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50IGNhbiBiZSB2aXNpYmxlIG9uIHRoZSBtYXAuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb25zdHJhaW5Pbmx5Q2VudGVyPWZhbHNlXSBJZiB0cnVlLCB0aGUgZXh0ZW50XG4gKiBjb25zdHJhaW50IHdpbGwgb25seSBhcHBseSB0byB0aGUgdmlldyBjZW50ZXIgYW5kIG5vdCB0aGUgd2hvbGUgZXh0ZW50LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc21vb3RoRXh0ZW50Q29uc3RyYWludD10cnVlXSBJZiB0cnVlLCB0aGUgZXh0ZW50XG4gKiBjb25zdHJhaW50IHdpbGwgYmUgYXBwbGllZCBzbW9vdGhseSwgaS5lLiBhbGxvdyB0aGUgdmlldyB0byBnbyBzbGlnaHRseSBvdXRzaWRlXG4gKiBvZiB0aGUgZ2l2ZW4gYGV4dGVudGAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gdXNlZCB0byBkZXRlcm1pbmVcbiAqIHRoZSByZXNvbHV0aW9uIGNvbnN0cmFpbnQuIEl0IGlzIHVzZWQgdG9nZXRoZXIgd2l0aCBgbWluUmVzb2x1dGlvbmAgKG9yXG4gKiBgbWF4Wm9vbWApIGFuZCBgem9vbUZhY3RvcmAuIElmIHVuc3BlY2lmaWVkIGl0IGlzIGNhbGN1bGF0ZWQgaW4gc3VjaCBhIHdheVxuICogdGhhdCB0aGUgcHJvamVjdGlvbidzIHZhbGlkaXR5IGV4dGVudCBmaXRzIGluIGEgMjU2eDI1NiBweCB0aWxlLiBJZiB0aGVcbiAqIHByb2plY3Rpb24gaXMgU3BoZXJpY2FsIE1lcmNhdG9yICh0aGUgZGVmYXVsdCkgdGhlbiBgbWF4UmVzb2x1dGlvbmAgZGVmYXVsdHNcbiAqIHRvIGA0MDA3NTAxNi42ODU1Nzg0OSAvIDI1NiA9IDE1NjU0My4wMzM5MjgwNDA5N2AuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gdXNlZCB0byBkZXRlcm1pbmVcbiAqIHRoZSByZXNvbHV0aW9uIGNvbnN0cmFpbnQuICBJdCBpcyB1c2VkIHRvZ2V0aGVyIHdpdGggYG1heFJlc29sdXRpb25gIChvclxuICogYG1pblpvb21gKSBhbmQgYHpvb21GYWN0b3JgLiAgSWYgdW5zcGVjaWZpZWQgaXQgaXMgY2FsY3VsYXRlZCBhc3N1bWluZyAyOVxuICogem9vbSBsZXZlbHMgKHdpdGggYSBmYWN0b3Igb2YgMikuIElmIHRoZSBwcm9qZWN0aW9uIGlzIFNwaGVyaWNhbCBNZXJjYXRvclxuICogKHRoZSBkZWZhdWx0KSB0aGVuIGBtaW5SZXNvbHV0aW9uYCBkZWZhdWx0cyB0b1xuICogYDQwMDc1MDE2LjY4NTU3ODQ5IC8gMjU2IC8gTWF0aC5wb3coMiwgMjgpID0gMC4wMDA1ODMxNjgyNDU1ODM5MjUzYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbT0yOF0gVGhlIG1heGltdW0gem9vbSBsZXZlbCB1c2VkIHRvIGRldGVybWluZSB0aGVcbiAqIHJlc29sdXRpb24gY29uc3RyYWludC4gSXQgaXMgdXNlZCB0b2dldGhlciB3aXRoIGBtaW5ab29tYCAob3JcbiAqIGBtYXhSZXNvbHV0aW9uYCkgYW5kIGB6b29tRmFjdG9yYC4gIE5vdGUgdGhhdCBpZiBgbWluUmVzb2x1dGlvbmAgaXMgYWxzb1xuICogcHJvdmlkZWQsIGl0IGlzIGdpdmVuIHByZWNlZGVuY2Ugb3ZlciBgbWF4Wm9vbWAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb209MF0gVGhlIG1pbmltdW0gem9vbSBsZXZlbCB1c2VkIHRvIGRldGVybWluZSB0aGVcbiAqIHJlc29sdXRpb24gY29uc3RyYWludC4gSXQgaXMgdXNlZCB0b2dldGhlciB3aXRoIGBtYXhab29tYCAob3JcbiAqIGBtaW5SZXNvbHV0aW9uYCkgYW5kIGB6b29tRmFjdG9yYC4gIE5vdGUgdGhhdCBpZiBgbWF4UmVzb2x1dGlvbmAgaXMgYWxzb1xuICogcHJvdmlkZWQsIGl0IGlzIGdpdmVuIHByZWNlZGVuY2Ugb3ZlciBgbWluWm9vbWAuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFttdWx0aVdvcmxkPWZhbHNlXSBJZiBgZmFsc2VgIHRoZSB2aWV3IGlzIGNvbnN0cmFpbmVkIHNvXG4gKiBvbmx5IG9uZSB3b3JsZCBpcyB2aXNpYmxlLCBhbmQgeW91IGNhbm5vdCBwYW4gb2ZmIHRoZSBlZGdlLiAgSWYgYHRydWVgIHRoZSBtYXBcbiAqIG1heSBzaG93IG11bHRpcGxlIHdvcmxkcyBhdCBsb3cgem9vbSBsZXZlbHMuICBPbmx5IHVzZWQgaWYgdGhlIGBwcm9qZWN0aW9uYCBpc1xuICogZ2xvYmFsLiAgTm90ZSB0aGF0IGlmIGBleHRlbnRgIGlzIGFsc28gcHJvdmlkZWQgaXQgaXMgZ2l2ZW4gcHJlY2VkZW5jZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbnN0cmFpblJlc29sdXRpb249ZmFsc2VdIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYWx3YXlzXG4gKiBhbmltYXRlIHRvIHRoZSBjbG9zZXN0IHpvb20gbGV2ZWwgYWZ0ZXIgYW4gaW50ZXJhY3Rpb247IGZhbHNlIG1lYW5zXG4gKiBpbnRlcm1lZGlhcnkgem9vbSBsZXZlbHMgYXJlIGFsbG93ZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzbW9vdGhSZXNvbHV0aW9uQ29uc3RyYWludD10cnVlXSBJZiB0cnVlLCB0aGUgcmVzb2x1dGlvblxuICogbWluL21heCB2YWx1ZXMgd2lsbCBiZSBhcHBsaWVkIHNtb290aGx5LCBpLiBlLiBhbGxvdyB0aGUgdmlldyB0byBleGNlZWQgc2xpZ2h0bHlcbiAqIHRoZSBnaXZlbiByZXNvbHV0aW9uIG9yIHpvb20gYm91bmRzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc2hvd0Z1bGxFeHRlbnQ9ZmFsc2VdIEFsbG93IHRoZSB2aWV3IHRvIGJlIHpvb21lZCBvdXQgdG9cbiAqIHNob3cgdGhlIGZ1bGwgY29uZmlndXJlZCBleHRlbnQuIEJ5IGRlZmF1bHQsIHdoZW4gYSB2aWV3IGlzIGNvbmZpZ3VyZWQgd2l0aCBhblxuICogZXh0ZW50LCB1c2VycyB3aWxsIG5vdCBiZSBhYmxlIHRvIHpvb20gb3V0IHNvIHRoZSB2aWV3cG9ydCBleGNlZWRzIHRoZSBleHRlbnQgaW5cbiAqIGVpdGhlciBkaW1lbnNpb24uIFRoaXMgbWVhbnMgdGhlIGZ1bGwgZXh0ZW50IG1heSBub3QgYmUgdmlzaWJsZSBpZiB0aGUgdmlld3BvcnRcbiAqIGlzIHRhbGxlciBvciB3aWRlciB0aGFuIHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhlIGNvbmZpZ3VyZWQgZXh0ZW50LiBJZlxuICogc2hvd0Z1bGxFeHRlbnQgaXMgdHJ1ZSwgdGhlIHVzZXIgd2lsbCBiZSBhYmxlIHRvIHpvb20gb3V0IHNvIHRoYXQgdGhlIHZpZXdwb3J0XG4gKiBleGNlZWRzIHRoZSBoZWlnaHQgb3Igd2lkdGggb2YgdGhlIGNvbmZpZ3VyZWQgZXh0ZW50LCBidXQgbm90IGJvdGgsIGFsbG93aW5nIHRoZVxuICogZnVsbCBleHRlbnQgdG8gYmUgc2hvd24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb249J0VQU0c6Mzg1NyddIFRoZVxuICogcHJvamVjdGlvbi4gVGhlIGRlZmF1bHQgaXMgU3BoZXJpY2FsIE1lcmNhdG9yLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBUaGUgaW5pdGlhbCByZXNvbHV0aW9uIGZvciB0aGUgdmlldy4gVGhlXG4gKiB1bml0cyBhcmUgYHByb2plY3Rpb25gIHVuaXRzIHBlciBwaXhlbCAoZS5nLiBtZXRlcnMgcGVyIHBpeGVsKS4gQW5cbiAqIGFsdGVybmF0aXZlIHRvIHNldHRpbmcgdGhpcyBpcyB0byBzZXQgYHpvb21gLiBMYXllciBzb3VyY2VzIHdpbGwgbm90IGJlXG4gKiBmZXRjaGVkIGlmIG5laXRoZXIgdGhpcyBub3IgYHpvb21gIGFyZSBkZWZpbmVkLCBidXQgdGhleSBjYW4gYmUgc2V0IGxhdGVyXG4gKiB3aXRoIHtAbGluayAjc2V0Wm9vbX0gb3Ige0BsaW5rICNzZXRSZXNvbHV0aW9ufS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3Jlc29sdXRpb25zXSBSZXNvbHV0aW9ucyB0aGF0IGRldGVybWluZSB0aGVcbiAqIHpvb20gbGV2ZWxzIGlmIHNwZWNpZmllZC4gVGhlIGluZGV4IGluIHRoZSBhcnJheSBjb3JyZXNwb25kcyB0byB0aGUgem9vbSBsZXZlbCxcbiAqIHRoZXJlZm9yZSB0aGUgcmVzb2x1dGlvbiB2YWx1ZXMgaGF2ZSB0byBiZSBpbiBkZXNjZW5kaW5nIG9yZGVyLiBJdCBhbHNvIGNvbnN0cmFpbnNcbiAqIHRoZSByZXNvbHV0aW9uIGJ5IHRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIHZhbHVlLiBJZiBzZXQgdGhlIGBtYXhSZXNvbHV0aW9uYCxcbiAqIGBtaW5SZXNvbHV0aW9uYCwgYG1pblpvb21gLCBgbWF4Wm9vbWAsIGFuZCBgem9vbUZhY3RvcmAgb3B0aW9ucyBhcmUgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb249MF0gVGhlIGluaXRpYWwgcm90YXRpb24gZm9yIHRoZSB2aWV3IGluIHJhZGlhbnNcbiAqIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UsIDAgbWVhbnMgTm9ydGgpLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6b29tXSBPbmx5IHVzZWQgaWYgYHJlc29sdXRpb25gIGlzIG5vdCBkZWZpbmVkLiBab29tXG4gKiBsZXZlbCB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgaW5pdGlhbCByZXNvbHV0aW9uIGZvciB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbUZhY3Rvcj0yXSBUaGUgem9vbSBmYWN0b3IgdXNlZCB0byBjb21wdXRlIHRoZVxuICogY29ycmVzcG9uZGluZyByZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHshQXJyYXk8bnVtYmVyPn0gW3BhZGRpbmc9WzAsIDAsIDAsIDBdXSBQYWRkaW5nIChpbiBjc3MgcGl4ZWxzKS5cbiAqIElmIHRoZSBtYXAgdmlld3BvcnQgaXMgcGFydGlhbGx5IGNvdmVyZWQgd2l0aCBvdGhlciBjb250ZW50IChvdmVybGF5cykgYWxvbmdcbiAqIGl0cyBlZGdlcywgdGhpcyBzZXR0aW5nIGFsbG93cyB0byBzaGlmdCB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydCBhd2F5IGZyb21cbiAqIHRoYXQgY29udGVudC4gVGhlIG9yZGVyIG9mIHRoZSB2YWx1ZXMgaXMgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0LlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQW5pbWF0aW9uT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2NlbnRlcl0gVGhlIGNlbnRlciBvZiB0aGUgdmlldyBhdCB0aGUgZW5kIG9mXG4gKiB0aGUgYW5pbWF0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6b29tXSBUaGUgem9vbSBsZXZlbCBvZiB0aGUgdmlldyBhdCB0aGUgZW5kIG9mIHRoZVxuICogYW5pbWF0aW9uLiBUaGlzIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgcmVzb2x1dGlvbmAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3Jlc29sdXRpb25dIFRoZSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3IGF0IHRoZSBlbmRcbiAqIG9mIHRoZSBhbmltYXRpb24uICBJZiBgem9vbWAgaXMgYWxzbyBwcm92aWRlZCwgdGhpcyBvcHRpb24gd2lsbCBiZSBpZ25vcmVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbl0gVGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3IGF0IHRoZSBlbmQgb2ZcbiAqIHRoZSBhbmltYXRpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBPcHRpb25hbCBhbmNob3IgdG8gcmVtYWluIGZpeGVkXG4gKiBkdXJpbmcgYSByb3RhdGlvbiBvciByZXNvbHV0aW9uIGFuaW1hdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MTAwMF0gVGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihudW1iZXIpOm51bWJlcn0gW2Vhc2luZ10gVGhlIGVhc2luZyBmdW5jdGlvbiB1c2VkXG4gKiBkdXJpbmcgdGhlIGFuaW1hdGlvbiAoZGVmYXVsdHMgdG8ge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmcuaW5BbmRPdXR9KS5cbiAqIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBmcmFtZSB3aXRoIGEgbnVtYmVyIHJlcHJlc2VudGluZyBhXG4gKiBmcmFjdGlvbiBvZiB0aGUgYW5pbWF0aW9uJ3MgZHVyYXRpb24uICBUaGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhIG51bWJlclxuICogYmV0d2VlbiAwIGFuZCAxIHJlcHJlc2VudGluZyB0aGUgcHJvZ3Jlc3MgdG93YXJkIHRoZSBkZXN0aW5hdGlvbiBzdGF0ZS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN0YXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW25leHRDZW50ZXJdIFRoZSBuZXh0IGNlbnRlciBkdXJpbmcgYW4gYW5pbWF0aW9uIHNlcmllcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbmV4dFJlc29sdXRpb25dIFRoZSBuZXh0IHJlc29sdXRpb24gZHVyaW5nIGFuIGFuaW1hdGlvbiBzZXJpZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW25leHRSb3RhdGlvbl0gVGhlIG5leHQgcm90YXRpb24gZHVyaW5nIGFuIGFuaW1hdGlvbiBzZXJpZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gem9vbSBab29tLlxuICovXG5cbi8qKlxuICogRGVmYXVsdCBtaW4gem9vbSBsZXZlbCBmb3IgdGhlIG1hcCB2aWV3LlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuY29uc3QgREVGQVVMVF9NSU5fWk9PTSA9IDA7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydChcIi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfCdjaGFuZ2U6Y2VudGVyJ3wnY2hhbmdlOnJlc29sdXRpb24nfCdjaGFuZ2U6cm90YXRpb24nfSBWaWV3T2JqZWN0RXZlbnRUeXBlc1xuICovXG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8Vmlld09iamVjdEV2ZW50VHlwZXMsIGltcG9ydChcIi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8Vmlld09iamVjdEV2ZW50VHlwZXMsIFJldHVybj59IFZpZXdPblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBWaWV3IG9iamVjdCByZXByZXNlbnRzIGEgc2ltcGxlIDJEIHZpZXcgb2YgdGhlIG1hcC5cbiAqXG4gKiBUaGlzIGlzIHRoZSBvYmplY3QgdG8gYWN0IHVwb24gdG8gY2hhbmdlIHRoZSBjZW50ZXIsIHJlc29sdXRpb24sXG4gKiBhbmQgcm90YXRpb24gb2YgdGhlIG1hcC5cbiAqXG4gKiBBIFZpZXcgaGFzIGEgYHByb2plY3Rpb25gLiBUaGUgcHJvamVjdGlvbiBkZXRlcm1pbmVzIHRoZVxuICogY29vcmRpbmF0ZSBzeXN0ZW0gb2YgdGhlIGNlbnRlciwgYW5kIGl0cyB1bml0cyBkZXRlcm1pbmUgdGhlIHVuaXRzIG9mIHRoZVxuICogcmVzb2x1dGlvbiAocHJvamVjdGlvbiB1bml0cyBwZXIgcGl4ZWwpLiBUaGUgZGVmYXVsdCBwcm9qZWN0aW9uIGlzXG4gKiBXZWIgTWVyY2F0b3IgKEVQU0c6Mzg1NykuXG4gKlxuICogIyMjIFRoZSB2aWV3IHN0YXRlc1xuICpcbiAqIEEgVmlldyBpcyBkZXRlcm1pbmVkIGJ5IHRocmVlIHN0YXRlczogYGNlbnRlcmAsIGByZXNvbHV0aW9uYCxcbiAqIGFuZCBgcm90YXRpb25gLiBFYWNoIHN0YXRlIGhhcyBhIGNvcnJlc3BvbmRpbmcgZ2V0dGVyIGFuZCBzZXR0ZXIsIGUuZy5cbiAqIGBnZXRDZW50ZXJgIGFuZCBgc2V0Q2VudGVyYCBmb3IgdGhlIGBjZW50ZXJgIHN0YXRlLlxuICpcbiAqIFRoZSBgem9vbWAgc3RhdGUgaXMgYWN0dWFsbHkgbm90IHNhdmVkIG9uIHRoZSB2aWV3OiBhbGwgY29tcHV0YXRpb25zXG4gKiBpbnRlcm5hbGx5IHVzZSB0aGUgYHJlc29sdXRpb25gIHN0YXRlLiBTdGlsbCwgdGhlIGBzZXRab29tYCBhbmQgYGdldFpvb21gXG4gKiBtZXRob2RzIGFyZSBhdmFpbGFibGUsIGFzIHdlbGwgYXMgYGdldFJlc29sdXRpb25Gb3Jab29tYCBhbmRcbiAqIGBnZXRab29tRm9yUmVzb2x1dGlvbmAgdG8gc3dpdGNoIGZyb20gb25lIHN5c3RlbSB0byB0aGUgb3RoZXIuXG4gKlxuICogIyMjIFRoZSBjb25zdHJhaW50c1xuICpcbiAqIGBzZXRDZW50ZXJgLCBgc2V0UmVzb2x1dGlvbmAgYW5kIGBzZXRSb3RhdGlvbmAgY2FuIGJlIHVzZWQgdG8gY2hhbmdlIHRoZVxuICogc3RhdGVzIG9mIHRoZSB2aWV3LCBidXQgYW55IGNvbnN0cmFpbnQgZGVmaW5lZCBpbiB0aGUgY29uc3RydWN0b3Igd2lsbFxuICogYmUgYXBwbGllZCBhbG9uZyB0aGUgd2F5LlxuICpcbiAqIEEgVmlldyBvYmplY3QgY2FuIGhhdmUgYSAqcmVzb2x1dGlvbiBjb25zdHJhaW50KiwgYSAqcm90YXRpb24gY29uc3RyYWludCpcbiAqIGFuZCBhICpjZW50ZXIgY29uc3RyYWludCouXG4gKlxuICogVGhlICpyZXNvbHV0aW9uIGNvbnN0cmFpbnQqIHR5cGljYWxseSByZXN0cmljdHMgbWluL21heCB2YWx1ZXMgYW5kXG4gKiBzbmFwcyB0byBzcGVjaWZpYyByZXNvbHV0aW9ucy4gSXQgaXMgZGV0ZXJtaW5lZCBieSB0aGUgZm9sbG93aW5nXG4gKiBvcHRpb25zOiBgcmVzb2x1dGlvbnNgLCBgbWF4UmVzb2x1dGlvbmAsIGBtYXhab29tYCBhbmQgYHpvb21GYWN0b3JgLlxuICogSWYgYHJlc29sdXRpb25zYCBpcyBzZXQsIHRoZSBvdGhlciB0aHJlZSBvcHRpb25zIGFyZSBpZ25vcmVkLiBTZWVcbiAqIGRvY3VtZW50YXRpb24gZm9yIGVhY2ggb3B0aW9uIGZvciBtb3JlIGluZm9ybWF0aW9uLiBCeSBkZWZhdWx0LCB0aGUgdmlld1xuICogb25seSBoYXMgYSBtaW4vbWF4IHJlc3RyaWN0aW9uIGFuZCBhbGxvdyBpbnRlcm1lZGlhcnkgem9vbSBsZXZlbHMgd2hlblxuICogcGluY2gtem9vbWluZyBmb3IgZXhhbXBsZS5cbiAqXG4gKiBUaGUgKnJvdGF0aW9uIGNvbnN0cmFpbnQqIHNuYXBzIHRvIHNwZWNpZmljIGFuZ2xlcy4gSXQgaXMgZGV0ZXJtaW5lZFxuICogYnkgdGhlIGZvbGxvd2luZyBvcHRpb25zOiBgZW5hYmxlUm90YXRpb25gIGFuZCBgY29uc3RyYWluUm90YXRpb25gLlxuICogQnkgZGVmYXVsdCByb3RhdGlvbiBpcyBhbGxvd2VkIGFuZCBpdHMgdmFsdWUgaXMgc25hcHBlZCB0byB6ZXJvIHdoZW4gYXBwcm9hY2hpbmcgdGhlXG4gKiBob3Jpem9udGFsLlxuICpcbiAqIFRoZSAqY2VudGVyIGNvbnN0cmFpbnQqIGlzIGRldGVybWluZWQgYnkgdGhlIGBleHRlbnRgIG9wdGlvbi4gQnlcbiAqIGRlZmF1bHQgdGhlIHZpZXcgY2VudGVyIGlzIG5vdCBjb25zdHJhaW5lZCBhdCBhbGwuXG4gKlxuICogIyMjIENoYW5naW5nIHRoZSB2aWV3IHN0YXRlXG4gKlxuICogSXQgaXMgaW1wb3J0YW50IHRvIG5vdGUgdGhhdCBgc2V0Wm9vbWAsIGBzZXRSZXNvbHV0aW9uYCwgYHNldENlbnRlcmAgYW5kXG4gKiBgc2V0Um90YXRpb25gIGFyZSBzdWJqZWN0IHRvIHRoZSBhYm92ZSBtZW50aW9uZWQgY29uc3RyYWludHMuIEFzIHN1Y2gsIGl0XG4gKiBtYXkgc29tZXRpbWVzIG5vdCBiZSBwb3NzaWJsZSB0byBrbm93IGluIGFkdmFuY2UgdGhlIHJlc3VsdGluZyBzdGF0ZSBvZiB0aGVcbiAqIFZpZXcuIEZvciBleGFtcGxlLCBjYWxsaW5nIGBzZXRSZXNvbHV0aW9uKDEwKWAgZG9lcyBub3QgZ3VhcmFudGVlIHRoYXRcbiAqIGBnZXRSZXNvbHV0aW9uKClgIHdpbGwgcmV0dXJuIGAxMGAuXG4gKlxuICogQSBjb25zZXF1ZW5jZSBvZiB0aGlzIGlzIHRoYXQsIHdoZW4gYXBwbHlpbmcgYSBkZWx0YSBvbiB0aGUgdmlldyBzdGF0ZSwgb25lXG4gKiBzaG91bGQgdXNlIGBhZGp1c3RDZW50ZXJgLCBgYWRqdXN0Um90YXRpb25gLCBgYWRqdXN0Wm9vbWAgYW5kIGBhZGp1c3RSZXNvbHV0aW9uYFxuICogcmF0aGVyIHRoYW4gdGhlIGNvcnJlc3BvbmRpbmcgc2V0dGVycy4gVGhpcyB3aWxsIGxldCB2aWV3IGRvIGl0cyBpbnRlcm5hbFxuICogY29tcHV0YXRpb25zLiBCZXNpZGVzLCB0aGUgYGFkanVzdCpgIG1ldGhvZHMgYWxzbyB0YWtlIGFuIGBhbmNob3JgXG4gKiBhcmd1bWVudCB3aGljaCBhbGxvd3Mgc3BlY2lmeWluZyBhbiBvcmlnaW4gZm9yIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAqXG4gKiAjIyMgSW50ZXJhY3Rpbmcgd2l0aCB0aGUgdmlld1xuICpcbiAqIFZpZXcgY29uc3RyYWludHMgYXJlIHVzdWFsbHkgb25seSBhcHBsaWVkIHdoZW4gdGhlIHZpZXcgaXMgKmF0IHJlc3QqLCBtZWFuaW5nIHRoYXRcbiAqIG5vIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBvbmdvaW5nLiBBcyBzdWNoLCBpZiB0aGUgdXNlciBwdXRzIHRoZSB2aWV3IGluIGFcbiAqIHN0YXRlIHRoYXQgaXMgbm90IGVxdWl2YWxlbnQgdG8gYSBjb25zdHJhaW5lZCBvbmUgKGUuZy4gcm90YXRpbmcgdGhlIHZpZXcgd2hlblxuICogdGhlIHNuYXAgYW5nbGUgaXMgMCksIGFuIGFuaW1hdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBhdCB0aGUgaW50ZXJhY3Rpb24gZW5kIHRvXG4gKiBwdXQgYmFjayB0aGUgdmlldyB0byBhIHN0YWJsZSBzdGF0ZTtcbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIFZpZXcgZXh0ZW5kcyBCYXNlT2JqZWN0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IFtvcHRpb25zXSBWaWV3IG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7Vmlld09uU2lnbmF0dXJlPGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7Vmlld09uU2lnbmF0dXJlPGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbmNlO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtWaWV3T25TaWduYXR1cmU8dm9pZD59XG4gICAgICovXG4gICAgdGhpcy51bjtcblxuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5oaW50c18gPSBbMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxBcnJheTxBbmltYXRpb24+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmFuaW1hdGlvbnNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5XztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0XG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5wcm9qZWN0aW9uXyA9IGNyZWF0ZVByb2plY3Rpb24ob3B0aW9ucy5wcm9qZWN0aW9uLCAnRVBTRzozODU3Jyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXdwb3J0U2l6ZV8gPSBbMTAwLCAxMDBdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbl87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0Um90YXRpb25fO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICovXG4gICAgdGhpcy5uZXh0Q2VudGVyXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5uZXh0UmVzb2x1dGlvbl87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5uZXh0Um90YXRpb25fO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuY2FuY2VsQW5jaG9yXyA9IHVuZGVmaW5lZDtcblxuICAgIGlmIChvcHRpb25zLnByb2plY3Rpb24pIHtcbiAgICAgIGRpc2FibGVDb29yZGluYXRlV2FybmluZygpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5jZW50ZXIpIHtcbiAgICAgIG9wdGlvbnMuY2VudGVyID0gZnJvbVVzZXJDb29yZGluYXRlKG9wdGlvbnMuY2VudGVyLCB0aGlzLnByb2plY3Rpb25fKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZXh0ZW50KSB7XG4gICAgICBvcHRpb25zLmV4dGVudCA9IGZyb21Vc2VyRXh0ZW50KG9wdGlvbnMuZXh0ZW50LCB0aGlzLnByb2plY3Rpb25fKTtcbiAgICB9XG5cbiAgICB0aGlzLmFwcGx5T3B0aW9uc18ob3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHVwIHRoZSB2aWV3IHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IG9wdGlvbnMgVmlldyBvcHRpb25zLlxuICAgKi9cbiAgYXBwbHlPcHRpb25zXyhvcHRpb25zKSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgIGZvciAoY29uc3Qga2V5IGluIFZpZXdQcm9wZXJ0eSkge1xuICAgICAgZGVsZXRlIHByb3BlcnRpZXNba2V5XTtcbiAgICB9XG4gICAgdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMsIHRydWUpO1xuXG4gICAgY29uc3QgcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvID0gY3JlYXRlUmVzb2x1dGlvbkNvbnN0cmFpbnQob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhSZXNvbHV0aW9uXyA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby5tYXhSZXNvbHV0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWluUmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uQ29uc3RyYWludEluZm8ubWluUmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnpvb21GYWN0b3JfID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLnpvb21GYWN0b3I7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb25zXyA9IG9wdGlvbnMucmVzb2x1dGlvbnM7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnBhZGRpbmdfID0gb3B0aW9ucy5wYWRkaW5nO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWluWm9vbV8gPSByZXNvbHV0aW9uQ29uc3RyYWludEluZm8ubWluWm9vbTtcblxuICAgIGNvbnN0IGNlbnRlckNvbnN0cmFpbnQgPSBjcmVhdGVDZW50ZXJDb25zdHJhaW50KG9wdGlvbnMpO1xuICAgIGNvbnN0IHJlc29sdXRpb25Db25zdHJhaW50ID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLmNvbnN0cmFpbnQ7XG4gICAgY29uc3Qgcm90YXRpb25Db25zdHJhaW50ID0gY3JlYXRlUm90YXRpb25Db25zdHJhaW50KG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Q29uc3RyYWludHN9XG4gICAgICovXG4gICAgdGhpcy5jb25zdHJhaW50c18gPSB7XG4gICAgICBjZW50ZXI6IGNlbnRlckNvbnN0cmFpbnQsXG4gICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uQ29uc3RyYWludCxcbiAgICAgIHJvdGF0aW9uOiByb3RhdGlvbkNvbnN0cmFpbnQsXG4gICAgfTtcblxuICAgIHRoaXMuc2V0Um90YXRpb24ob3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGlvbiA6IDApO1xuICAgIHRoaXMuc2V0Q2VudGVySW50ZXJuYWwoXG4gICAgICBvcHRpb25zLmNlbnRlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jZW50ZXIgOiBudWxsXG4gICAgKTtcbiAgICBpZiAob3B0aW9ucy5yZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0UmVzb2x1dGlvbihvcHRpb25zLnJlc29sdXRpb24pO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy56b29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0Wm9vbShvcHRpb25zLnpvb20pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQYWRkaW5nIChpbiBjc3MgcGl4ZWxzKS5cbiAgICogSWYgdGhlIG1hcCB2aWV3cG9ydCBpcyBwYXJ0aWFsbHkgY292ZXJlZCB3aXRoIG90aGVyIGNvbnRlbnQgKG92ZXJsYXlzKSBhbG9uZ1xuICAgKiBpdHMgZWRnZXMsIHRoaXMgc2V0dGluZyBhbGxvd3MgdG8gc2hpZnQgdGhlIGNlbnRlciBvZiB0aGUgdmlld3BvcnQgYXdheSBmcm9tIHRoYXRcbiAgICogY29udGVudC4gVGhlIG9yZGVyIG9mIHRoZSB2YWx1ZXMgaW4gdGhlIGFycmF5IGlzIHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdC5cbiAgICogVGhlIGRlZmF1bHQgaXMgbm8gcGFkZGluZywgd2hpY2ggaXMgZXF1aXZhbGVudCB0byBgWzAsIDAsIDAsIDBdYC5cbiAgICogQHR5cGUge0FycmF5PG51bWJlcj58dW5kZWZpbmVkfVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXQgcGFkZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5wYWRkaW5nXztcbiAgfVxuICBzZXQgcGFkZGluZyhwYWRkaW5nKSB7XG4gICAgbGV0IG9sZFBhZGRpbmcgPSB0aGlzLnBhZGRpbmdfO1xuICAgIHRoaXMucGFkZGluZ18gPSBwYWRkaW5nO1xuICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKCk7XG4gICAgaWYgKGNlbnRlcikge1xuICAgICAgY29uc3QgbmV3UGFkZGluZyA9IHBhZGRpbmcgfHwgWzAsIDAsIDAsIDBdO1xuICAgICAgb2xkUGFkZGluZyA9IG9sZFBhZGRpbmcgfHwgWzAsIDAsIDAsIDBdO1xuICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgICAgY29uc3Qgb2Zmc2V0WCA9XG4gICAgICAgIChyZXNvbHV0aW9uIC8gMikgKlxuICAgICAgICAobmV3UGFkZGluZ1szXSAtIG9sZFBhZGRpbmdbM10gKyBvbGRQYWRkaW5nWzFdIC0gbmV3UGFkZGluZ1sxXSk7XG4gICAgICBjb25zdCBvZmZzZXRZID1cbiAgICAgICAgKHJlc29sdXRpb24gLyAyKSAqXG4gICAgICAgIChuZXdQYWRkaW5nWzBdIC0gb2xkUGFkZGluZ1swXSArIG9sZFBhZGRpbmdbMl0gLSBuZXdQYWRkaW5nWzJdKTtcbiAgICAgIHRoaXMuc2V0Q2VudGVySW50ZXJuYWwoW2NlbnRlclswXSArIG9mZnNldFgsIGNlbnRlclsxXSAtIG9mZnNldFldKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFuIHVwZGF0ZWQgdmVyc2lvbiBvZiB0aGUgdmlldyBvcHRpb25zIHVzZWQgdG8gY29uc3RydWN0IHRoZSB2aWV3LiAgVGhlXG4gICAqIGN1cnJlbnQgcmVzb2x1dGlvbiAob3Igem9vbSksIGNlbnRlciwgYW5kIHJvdGF0aW9uIGFyZSBhcHBsaWVkIHRvIGFueSBzdG9yZWRcbiAgICogb3B0aW9ucy4gIFRoZSBwcm92aWRlZCBvcHRpb25zIGNhbiBiZSB1c2VkIHRvIGFwcGx5IG5ldyBtaW4vbWF4IHpvb20gb3JcbiAgICogcmVzb2x1dGlvbiBsaW1pdHMuXG4gICAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IG5ld09wdGlvbnMgTmV3IG9wdGlvbnMgdG8gYmUgYXBwbGllZC5cbiAgICogQHJldHVybiB7Vmlld09wdGlvbnN9IE5ldyBvcHRpb25zIHVwZGF0ZWQgd2l0aCB0aGUgY3VycmVudCB2aWV3IHN0YXRlLlxuICAgKi9cbiAgZ2V0VXBkYXRlZE9wdGlvbnNfKG5ld09wdGlvbnMpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5nZXRQcm9wZXJ0aWVzKCk7XG5cbiAgICAvLyBwcmVzZXJ2ZSByZXNvbHV0aW9uIChvciB6b29tKVxuICAgIGlmIChvcHRpb25zLnJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMuem9vbSA9IHRoaXMuZ2V0Wm9vbSgpO1xuICAgIH1cblxuICAgIC8vIHByZXNlcnZlIGNlbnRlclxuICAgIG9wdGlvbnMuY2VudGVyID0gdGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpO1xuXG4gICAgLy8gcHJlc2VydmUgcm90YXRpb25cbiAgICBvcHRpb25zLnJvdGF0aW9uID0gdGhpcy5nZXRSb3RhdGlvbigpO1xuXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIG5ld09wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFuaW1hdGUgdGhlIHZpZXcuICBUaGUgdmlldydzIGNlbnRlciwgem9vbSAob3IgcmVzb2x1dGlvbiksIGFuZCByb3RhdGlvblxuICAgKiBjYW4gYmUgYW5pbWF0ZWQgZm9yIHNtb290aCB0cmFuc2l0aW9ucyBiZXR3ZWVuIHZpZXcgc3RhdGVzLiAgRm9yIGV4YW1wbGUsXG4gICAqIHRvIGFuaW1hdGUgdGhlIHZpZXcgdG8gYSBuZXcgem9vbSBsZXZlbDpcbiAgICpcbiAgICogICAgIHZpZXcuYW5pbWF0ZSh7em9vbTogdmlldy5nZXRab29tKCkgKyAxfSk7XG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIHRoZSBhbmltYXRpb24gbGFzdHMgb25lIHNlY29uZCBhbmQgdXNlcyBpbi1hbmQtb3V0IGVhc2luZy4gIFlvdVxuICAgKiBjYW4gY3VzdG9taXplIHRoaXMgYmVoYXZpb3IgYnkgaW5jbHVkaW5nIGBkdXJhdGlvbmAgKGluIG1pbGxpc2Vjb25kcykgYW5kXG4gICAqIGBlYXNpbmdgIG9wdGlvbnMgKHNlZSB7QGxpbmsgbW9kdWxlOm9sL2Vhc2luZ30pLlxuICAgKlxuICAgKiBUbyBjaGFpbiB0b2dldGhlciBtdWx0aXBsZSBhbmltYXRpb25zLCBjYWxsIHRoZSBtZXRob2Qgd2l0aCBtdWx0aXBsZVxuICAgKiBhbmltYXRpb24gb2JqZWN0cy4gIEZvciBleGFtcGxlLCB0byBmaXJzdCB6b29tIGFuZCB0aGVuIHBhbjpcbiAgICpcbiAgICogICAgIHZpZXcuYW5pbWF0ZSh7em9vbTogMTB9LCB7Y2VudGVyOiBbMCwgMF19KTtcbiAgICpcbiAgICogSWYgeW91IHByb3ZpZGUgYSBmdW5jdGlvbiBhcyB0aGUgbGFzdCBhcmd1bWVudCB0byB0aGUgYW5pbWF0ZSBtZXRob2QsIGl0XG4gICAqIHdpbGwgZ2V0IGNhbGxlZCBhdCB0aGUgZW5kIG9mIGFuIGFuaW1hdGlvbiBzZXJpZXMuICBUaGUgY2FsbGJhY2sgd2lsbCBiZVxuICAgKiBjYWxsZWQgd2l0aCBgdHJ1ZWAgaWYgdGhlIGFuaW1hdGlvbiBzZXJpZXMgY29tcGxldGVkIG9uIGl0cyBvd24gb3IgYGZhbHNlYFxuICAgKiBpZiBpdCB3YXMgY2FuY2VsbGVkLlxuICAgKlxuICAgKiBBbmltYXRpb25zIGFyZSBjYW5jZWxsZWQgYnkgdXNlciBpbnRlcmFjdGlvbnMgKGUuZy4gZHJhZ2dpbmcgdGhlIG1hcCkgb3IgYnlcbiAgICogY2FsbGluZyBgdmlldy5zZXRDZW50ZXIoKWAsIGB2aWV3LnNldFJlc29sdXRpb24oKWAsIG9yIGB2aWV3LnNldFJvdGF0aW9uKClgXG4gICAqIChvciBhbm90aGVyIG1ldGhvZCB0aGF0IGNhbGxzIG9uZSBvZiB0aGVzZSkuXG4gICAqXG4gICAqIEBwYXJhbSB7Li4uKEFuaW1hdGlvbk9wdGlvbnN8ZnVuY3Rpb24oYm9vbGVhbik6IHZvaWQpfSB2YXJfYXJncyBBbmltYXRpb25cbiAgICogICAgIG9wdGlvbnMuICBNdWx0aXBsZSBhbmltYXRpb25zIGNhbiBiZSBydW4gaW4gc2VyaWVzIGJ5IHBhc3NpbmcgbXVsdGlwbGVcbiAgICogICAgIG9wdGlvbnMgb2JqZWN0cy4gIFRvIHJ1biBtdWx0aXBsZSBhbmltYXRpb25zIGluIHBhcmFsbGVsLCBjYWxsIHRoZSBtZXRob2RcbiAgICogICAgIG11bHRpcGxlIHRpbWVzLiAgQW4gb3B0aW9uYWwgY2FsbGJhY2sgY2FuIGJlIHByb3ZpZGVkIGFzIGEgZmluYWxcbiAgICogICAgIGFyZ3VtZW50LiAgVGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlclxuICAgKiAgICAgdGhlIGFuaW1hdGlvbiBjb21wbGV0ZWQgd2l0aG91dCBiZWluZyBjYW5jZWxsZWQuXG4gICAqIEBhcGlcbiAgICovXG4gIGFuaW1hdGUodmFyX2FyZ3MpIHtcbiAgICBpZiAodGhpcy5pc0RlZigpICYmICF0aGlzLmdldEFuaW1hdGluZygpKSB7XG4gICAgICB0aGlzLnJlc29sdmVDb25zdHJhaW50cygwKTtcbiAgICB9XG4gICAgY29uc3QgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzW2ldO1xuICAgICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgb3B0aW9ucy5jZW50ZXIgPSBmcm9tVXNlckNvb3JkaW5hdGUoXG4gICAgICAgICAgb3B0aW9ucy5jZW50ZXIsXG4gICAgICAgICAgdGhpcy5nZXRQcm9qZWN0aW9uKClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmFuY2hvcikge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMuYW5jaG9yID0gZnJvbVVzZXJDb29yZGluYXRlKFxuICAgICAgICAgIG9wdGlvbnMuYW5jaG9yLFxuICAgICAgICAgIHRoaXMuZ2V0UHJvamVjdGlvbigpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBhcmdzW2ldID0gb3B0aW9ucztcbiAgICB9XG4gICAgdGhpcy5hbmltYXRlSW50ZXJuYWwuYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHsuLi4oQW5pbWF0aW9uT3B0aW9uc3xmdW5jdGlvbihib29sZWFuKTogdm9pZCl9IHZhcl9hcmdzIEFuaW1hdGlvbiBvcHRpb25zLlxuICAgKi9cbiAgYW5pbWF0ZUludGVybmFsKHZhcl9hcmdzKSB7XG4gICAgbGV0IGFuaW1hdGlvbkNvdW50ID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBsZXQgY2FsbGJhY2s7XG4gICAgaWYgKFxuICAgICAgYW5pbWF0aW9uQ291bnQgPiAxICYmXG4gICAgICB0eXBlb2YgYXJndW1lbnRzW2FuaW1hdGlvbkNvdW50IC0gMV0gPT09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIGNhbGxiYWNrID0gYXJndW1lbnRzW2FuaW1hdGlvbkNvdW50IC0gMV07XG4gICAgICAtLWFuaW1hdGlvbkNvdW50O1xuICAgIH1cblxuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKDsgaSA8IGFuaW1hdGlvbkNvdW50ICYmICF0aGlzLmlzRGVmKCk7ICsraSkge1xuICAgICAgLy8gaWYgdmlldyBwcm9wZXJ0aWVzIGFyZSBub3QgeWV0IHNldCwgc2hvcnRjdXQgdG8gdGhlIGZpbmFsIHN0YXRlXG4gICAgICBjb25zdCBzdGF0ZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGlmIChzdGF0ZS5jZW50ZXIpIHtcbiAgICAgICAgdGhpcy5zZXRDZW50ZXJJbnRlcm5hbChzdGF0ZS5jZW50ZXIpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLnpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNldFpvb20oc3RhdGUuem9vbSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLnJlc29sdXRpb24pIHtcbiAgICAgICAgdGhpcy5zZXRSZXNvbHV0aW9uKHN0YXRlLnJlc29sdXRpb24pO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLnJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXRSb3RhdGlvbihzdGF0ZS5yb3RhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpID09PSBhbmltYXRpb25Db3VudCkge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGFuaW1hdGlvbkNhbGxiYWNrKGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIGxldCBjZW50ZXIgPSB0aGlzLnRhcmdldENlbnRlcl8uc2xpY2UoKTtcbiAgICBsZXQgcmVzb2x1dGlvbiA9IHRoaXMudGFyZ2V0UmVzb2x1dGlvbl87XG4gICAgbGV0IHJvdGF0aW9uID0gdGhpcy50YXJnZXRSb3RhdGlvbl87XG4gICAgY29uc3Qgc2VyaWVzID0gW107XG4gICAgZm9yICg7IGkgPCBhbmltYXRpb25Db3VudDsgKytpKSB7XG4gICAgICBjb25zdCBvcHRpb25zID0gLyoqIEB0eXBlIHtBbmltYXRpb25PcHRpb25zfSAqLyAoYXJndW1lbnRzW2ldKTtcblxuICAgICAgY29uc3QgYW5pbWF0aW9uID0ge1xuICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgIGNvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgYW5jaG9yOiBvcHRpb25zLmFuY2hvcixcbiAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiAxMDAwLFxuICAgICAgICBlYXNpbmc6IG9wdGlvbnMuZWFzaW5nIHx8IGluQW5kT3V0LFxuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICB9O1xuXG4gICAgICBpZiAob3B0aW9ucy5jZW50ZXIpIHtcbiAgICAgICAgYW5pbWF0aW9uLnNvdXJjZUNlbnRlciA9IGNlbnRlcjtcbiAgICAgICAgYW5pbWF0aW9uLnRhcmdldENlbnRlciA9IG9wdGlvbnMuY2VudGVyLnNsaWNlKCk7XG4gICAgICAgIGNlbnRlciA9IGFuaW1hdGlvbi50YXJnZXRDZW50ZXI7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLnpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbShvcHRpb25zLnpvb20pO1xuICAgICAgICByZXNvbHV0aW9uID0gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb247XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMucmVzb2x1dGlvbikge1xuICAgICAgICBhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uO1xuICAgICAgICByZXNvbHV0aW9uID0gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb247XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLnJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgIGNvbnN0IGRlbHRhID1cbiAgICAgICAgICBtb2R1bG8ob3B0aW9ucy5yb3RhdGlvbiAtIHJvdGF0aW9uICsgTWF0aC5QSSwgMiAqIE1hdGguUEkpIC0gTWF0aC5QSTtcbiAgICAgICAgYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uID0gcm90YXRpb24gKyBkZWx0YTtcbiAgICAgICAgcm90YXRpb24gPSBhbmltYXRpb24udGFyZ2V0Um90YXRpb247XG4gICAgICB9XG5cbiAgICAgIC8vIGNoZWNrIGlmIGFuaW1hdGlvbiBpcyBhIG5vLW9wXG4gICAgICBpZiAoaXNOb29wQW5pbWF0aW9uKGFuaW1hdGlvbikpIHtcbiAgICAgICAgYW5pbWF0aW9uLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgLy8gd2Ugc3RpbGwgcHVzaCBpdCBvbnRvIHRoZSBzZXJpZXMgZm9yIGNhbGxiYWNrIGhhbmRsaW5nXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydCArPSBhbmltYXRpb24uZHVyYXRpb247XG4gICAgICB9XG4gICAgICBzZXJpZXMucHVzaChhbmltYXRpb24pO1xuICAgIH1cbiAgICB0aGlzLmFuaW1hdGlvbnNfLnB1c2goc2VyaWVzKTtcbiAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuQU5JTUFUSU5HLCAxKTtcbiAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbnNfKCk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIGlmIHRoZSB2aWV3IGlzIGJlaW5nIGFuaW1hdGVkLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdmlldyBpcyBiZWluZyBhbmltYXRlZC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0QW5pbWF0aW5nKCkge1xuICAgIHJldHVybiB0aGlzLmhpbnRzX1tWaWV3SGludC5BTklNQVRJTkddID4gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgaWYgdGhlIHVzZXIgaXMgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgdmlldywgc3VjaCBhcyBwYW5uaW5nIG9yIHpvb21pbmcuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB2aWV3IGlzIGJlaW5nIGludGVyYWN0ZWQgd2l0aC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0SW50ZXJhY3RpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGludHNfW1ZpZXdIaW50LklOVEVSQUNUSU5HXSA+IDA7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VsIGFueSBvbmdvaW5nIGFuaW1hdGlvbnMuXG4gICAqIEBhcGlcbiAgICovXG4gIGNhbmNlbEFuaW1hdGlvbnMoKSB7XG4gICAgdGhpcy5zZXRIaW50KFZpZXdIaW50LkFOSU1BVElORywgLXRoaXMuaGludHNfW1ZpZXdIaW50LkFOSU1BVElOR10pO1xuICAgIGxldCBhbmNob3I7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdGhpcy5hbmltYXRpb25zXy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLmFuaW1hdGlvbnNfW2ldO1xuICAgICAgaWYgKHNlcmllc1swXS5jYWxsYmFjaykge1xuICAgICAgICBhbmltYXRpb25DYWxsYmFjayhzZXJpZXNbMF0uY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGlmICghYW5jaG9yKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwLCBqaiA9IHNlcmllcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gc2VyaWVzW2pdO1xuICAgICAgICAgIGlmICghYW5pbWF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICBhbmNob3IgPSBhbmltYXRpb24uYW5jaG9yO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYW5pbWF0aW9uc18ubGVuZ3RoID0gMDtcbiAgICB0aGlzLmNhbmNlbEFuY2hvcl8gPSBhbmNob3I7XG4gICAgdGhpcy5uZXh0Q2VudGVyXyA9IG51bGw7XG4gICAgdGhpcy5uZXh0UmVzb2x1dGlvbl8gPSBOYU47XG4gICAgdGhpcy5uZXh0Um90YXRpb25fID0gTmFOO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbGwgYW5pbWF0aW9ucy5cbiAgICovXG4gIHVwZGF0ZUFuaW1hdGlvbnNfKCkge1xuICAgIGlmICh0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVBbmltYXRpb25LZXlfKTtcbiAgICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5XyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmdldEFuaW1hdGluZygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgbGV0IG1vcmUgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5hbmltYXRpb25zXy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5hbmltYXRpb25zX1tpXTtcbiAgICAgIGxldCBzZXJpZXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICBmb3IgKGxldCBqID0gMCwgamogPSBzZXJpZXMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICBjb25zdCBhbmltYXRpb24gPSBzZXJpZXNbal07XG4gICAgICAgIGlmIChhbmltYXRpb24uY29tcGxldGUpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGFwc2VkID0gbm93IC0gYW5pbWF0aW9uLnN0YXJ0O1xuICAgICAgICBsZXQgZnJhY3Rpb24gPVxuICAgICAgICAgIGFuaW1hdGlvbi5kdXJhdGlvbiA+IDAgPyBlbGFwc2VkIC8gYW5pbWF0aW9uLmR1cmF0aW9uIDogMTtcbiAgICAgICAgaWYgKGZyYWN0aW9uID49IDEpIHtcbiAgICAgICAgICBhbmltYXRpb24uY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgIGZyYWN0aW9uID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXJpZXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb2dyZXNzID0gYW5pbWF0aW9uLmVhc2luZyhmcmFjdGlvbik7XG4gICAgICAgIGlmIChhbmltYXRpb24uc291cmNlQ2VudGVyKSB7XG4gICAgICAgICAgY29uc3QgeDAgPSBhbmltYXRpb24uc291cmNlQ2VudGVyWzBdO1xuICAgICAgICAgIGNvbnN0IHkwID0gYW5pbWF0aW9uLnNvdXJjZUNlbnRlclsxXTtcbiAgICAgICAgICBjb25zdCB4MSA9IGFuaW1hdGlvbi50YXJnZXRDZW50ZXJbMF07XG4gICAgICAgICAgY29uc3QgeTEgPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyWzFdO1xuICAgICAgICAgIHRoaXMubmV4dENlbnRlcl8gPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyO1xuICAgICAgICAgIGNvbnN0IHggPSB4MCArIHByb2dyZXNzICogKHgxIC0geDApO1xuICAgICAgICAgIGNvbnN0IHkgPSB5MCArIHByb2dyZXNzICogKHkxIC0geTApO1xuICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IFt4LCB5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gJiYgYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb24pIHtcbiAgICAgICAgICBjb25zdCByZXNvbHV0aW9uID1cbiAgICAgICAgICAgIHByb2dyZXNzID09PSAxXG4gICAgICAgICAgICAgID8gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb25cbiAgICAgICAgICAgICAgOiBhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbiArXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3MgKlxuICAgICAgICAgICAgICAgICAgKGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uIC0gYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24pO1xuICAgICAgICAgIGlmIChhbmltYXRpb24uYW5jaG9yKSB7XG4gICAgICAgICAgICBjb25zdCBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVfKHRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgICAgICAgICBjb25zdCBjb25zdHJhaW5lZFJlc29sdXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yZXNvbHV0aW9uKFxuICAgICAgICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJab29tKFxuICAgICAgICAgICAgICBjb25zdHJhaW5lZFJlc29sdXRpb24sXG4gICAgICAgICAgICAgIGFuaW1hdGlvbi5hbmNob3JcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMubmV4dFJlc29sdXRpb25fID0gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb247XG4gICAgICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICAgICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXyh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICBhbmltYXRpb24udGFyZ2V0Um90YXRpb24gIT09IHVuZGVmaW5lZFxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCByb3RhdGlvbiA9XG4gICAgICAgICAgICBwcm9ncmVzcyA9PT0gMVxuICAgICAgICAgICAgICA/IG1vZHVsbyhhbmltYXRpb24udGFyZ2V0Um90YXRpb24gKyBNYXRoLlBJLCAyICogTWF0aC5QSSkgLVxuICAgICAgICAgICAgICAgIE1hdGguUElcbiAgICAgICAgICAgICAgOiBhbmltYXRpb24uc291cmNlUm90YXRpb24gK1xuICAgICAgICAgICAgICAgIHByb2dyZXNzICpcbiAgICAgICAgICAgICAgICAgIChhbmltYXRpb24udGFyZ2V0Um90YXRpb24gLSBhbmltYXRpb24uc291cmNlUm90YXRpb24pO1xuICAgICAgICAgIGlmIChhbmltYXRpb24uYW5jaG9yKSB7XG4gICAgICAgICAgICBjb25zdCBjb25zdHJhaW5lZFJvdGF0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucm90YXRpb24oXG4gICAgICAgICAgICAgIHJvdGF0aW9uLFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJSb3RhdGUoXG4gICAgICAgICAgICAgIGNvbnN0cmFpbmVkUm90YXRpb24sXG4gICAgICAgICAgICAgIGFuaW1hdGlvbi5hbmNob3JcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMubmV4dFJvdGF0aW9uXyA9IGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbjtcbiAgICAgICAgICB0aGlzLnRhcmdldFJvdGF0aW9uXyA9IHJvdGF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8odHJ1ZSk7XG4gICAgICAgIG1vcmUgPSB0cnVlO1xuICAgICAgICBpZiAoIWFuaW1hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc2VyaWVzQ29tcGxldGUpIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zX1tpXSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2V0SGludChWaWV3SGludC5BTklNQVRJTkcsIC0xKTtcbiAgICAgICAgdGhpcy5uZXh0Q2VudGVyXyA9IG51bGw7XG4gICAgICAgIHRoaXMubmV4dFJlc29sdXRpb25fID0gTmFOO1xuICAgICAgICB0aGlzLm5leHRSb3RhdGlvbl8gPSBOYU47XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gc2VyaWVzWzBdLmNhbGxiYWNrO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICBhbmltYXRpb25DYWxsYmFjayhjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gcHJ1bmUgY29tcGxldGVkIHNlcmllc1xuICAgIHRoaXMuYW5pbWF0aW9uc18gPSB0aGlzLmFuaW1hdGlvbnNfLmZpbHRlcihCb29sZWFuKTtcbiAgICBpZiAobW9yZSAmJiB0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25LZXlfID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKFxuICAgICAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbnNfLmJpbmQodGhpcylcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBUYXJnZXQgcm90YXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGFuY2hvciBSb3RhdGlvbiBhbmNob3IuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gQ2VudGVyIGZvciByb3RhdGlvbiBhbmQgYW5jaG9yLlxuICAgKi9cbiAgY2FsY3VsYXRlQ2VudGVyUm90YXRlKHJvdGF0aW9uLCBhbmNob3IpIHtcbiAgICBsZXQgY2VudGVyO1xuICAgIGNvbnN0IGN1cnJlbnRDZW50ZXIgPSB0aGlzLmdldENlbnRlckludGVybmFsKCk7XG4gICAgaWYgKGN1cnJlbnRDZW50ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2VudGVyID0gW2N1cnJlbnRDZW50ZXJbMF0gLSBhbmNob3JbMF0sIGN1cnJlbnRDZW50ZXJbMV0gLSBhbmNob3JbMV1dO1xuICAgICAgcm90YXRlQ29vcmRpbmF0ZShjZW50ZXIsIHJvdGF0aW9uIC0gdGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICAgIGFkZENvb3JkaW5hdGUoY2VudGVyLCBhbmNob3IpO1xuICAgIH1cbiAgICByZXR1cm4gY2VudGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFRhcmdldCByZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhbmNob3IgWm9vbSBhbmNob3IuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gQ2VudGVyIGZvciByZXNvbHV0aW9uIGFuZCBhbmNob3IuXG4gICAqL1xuICBjYWxjdWxhdGVDZW50ZXJab29tKHJlc29sdXRpb24sIGFuY2hvcikge1xuICAgIGxldCBjZW50ZXI7XG4gICAgY29uc3QgY3VycmVudENlbnRlciA9IHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKTtcbiAgICBjb25zdCBjdXJyZW50UmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgIGlmIChjdXJyZW50Q2VudGVyICE9PSB1bmRlZmluZWQgJiYgY3VycmVudFJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgeCA9XG4gICAgICAgIGFuY2hvclswXSAtXG4gICAgICAgIChyZXNvbHV0aW9uICogKGFuY2hvclswXSAtIGN1cnJlbnRDZW50ZXJbMF0pKSAvIGN1cnJlbnRSZXNvbHV0aW9uO1xuICAgICAgY29uc3QgeSA9XG4gICAgICAgIGFuY2hvclsxXSAtXG4gICAgICAgIChyZXNvbHV0aW9uICogKGFuY2hvclsxXSAtIGN1cnJlbnRDZW50ZXJbMV0pKSAvIGN1cnJlbnRSZXNvbHV0aW9uO1xuICAgICAgY2VudGVyID0gW3gsIHldO1xuICAgIH1cbiAgICByZXR1cm4gY2VudGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdmlld3BvcnQgc2l6ZS5cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbl0gVGFrZSBpbnRvIGFjY291bnQgdGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3cG9ydCB3aGVuIGdpdmluZyB0aGUgc2l6ZVxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gVmlld3BvcnQgc2l6ZSBvciBgWzEwMCwgMTAwXWAgd2hlbiBubyB2aWV3cG9ydCBpcyBmb3VuZC5cbiAgICovXG4gIGdldFZpZXdwb3J0U2l6ZV8ocm90YXRpb24pIHtcbiAgICBjb25zdCBzaXplID0gdGhpcy52aWV3cG9ydFNpemVfO1xuICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgY29uc3QgdyA9IHNpemVbMF07XG4gICAgICBjb25zdCBoID0gc2l6ZVsxXTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIE1hdGguYWJzKHcgKiBNYXRoLmNvcyhyb3RhdGlvbikpICsgTWF0aC5hYnMoaCAqIE1hdGguc2luKHJvdGF0aW9uKSksXG4gICAgICAgIE1hdGguYWJzKHcgKiBNYXRoLnNpbihyb3RhdGlvbikpICsgTWF0aC5hYnMoaCAqIE1hdGguY29zKHJvdGF0aW9uKSksXG4gICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9yZXMgdGhlIHZpZXdwb3J0IHNpemUgb24gdGhlIHZpZXcuIFRoZSB2aWV3cG9ydCBzaXplIGlzIG5vdCByZWFkIGV2ZXJ5IHRpbWUgZnJvbSB0aGUgRE9NXG4gICAqIHRvIGF2b2lkIHBlcmZvcm1hbmNlIGhpdCBhbmQgbGF5b3V0IHJlZmxvdy5cbiAgICogVGhpcyBzaG91bGQgYmUgZG9uZSBvbiBtYXAgc2l6ZSBjaGFuZ2UuXG4gICAqIE5vdGU6IHRoZSBjb25zdHJhaW50cyBhcmUgbm90IHJlc29sdmVkIGR1cmluZyBhbiBhbmltYXRpb24gdG8gYXZvaWQgc3RvcHBpbmcgaXRcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW3NpemVdIFZpZXdwb3J0IHNpemU7IGlmIHVuZGVmaW5lZCwgWzEwMCwgMTAwXSBpcyBhc3N1bWVkXG4gICAqL1xuICBzZXRWaWV3cG9ydFNpemUoc2l6ZSkge1xuICAgIHRoaXMudmlld3BvcnRTaXplXyA9IEFycmF5LmlzQXJyYXkoc2l6ZSkgPyBzaXplLnNsaWNlKCkgOiBbMTAwLCAxMDBdO1xuICAgIGlmICghdGhpcy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgdGhpcy5yZXNvbHZlQ29uc3RyYWludHMoMCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldyBjZW50ZXIuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gVGhlIGNlbnRlciBvZiB0aGUgdmlldy5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Q2VudGVyKCkge1xuICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKTtcbiAgICBpZiAoIWNlbnRlcikge1xuICAgICAgcmV0dXJuIGNlbnRlcjtcbiAgICB9XG4gICAgcmV0dXJuIHRvVXNlckNvb3JkaW5hdGUoY2VudGVyLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2aWV3IGNlbnRlciB3aXRob3V0IHRyYW5zZm9ybWluZyB0byB1c2VyIHByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gVGhlIGNlbnRlciBvZiB0aGUgdmlldy5cbiAgICovXG4gIGdldENlbnRlckludGVybmFsKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gKi8gKFxuICAgICAgdGhpcy5nZXQoVmlld1Byb3BlcnR5LkNFTlRFUilcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0NvbnN0cmFpbnRzfSBDb25zdHJhaW50cy5cbiAgICovXG4gIGdldENvbnN0cmFpbnRzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnRzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXNvbHV0aW9uIGNvbnN0cmFpbnQgaXMgc2V0XG4gICAqL1xuICBnZXRDb25zdHJhaW5SZXNvbHV0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldCgnY29uc3RyYWluUmVzb2x1dGlvbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2hpbnRzXSBEZXN0aW5hdGlvbiBhcnJheS5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gSGludC5cbiAgICovXG4gIGdldEhpbnRzKGhpbnRzKSB7XG4gICAgaWYgKGhpbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGhpbnRzWzBdID0gdGhpcy5oaW50c19bMF07XG4gICAgICBoaW50c1sxXSA9IHRoaXMuaGludHNfWzFdO1xuICAgICAgcmV0dXJuIGhpbnRzO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oaW50c18uc2xpY2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGV4dGVudCBmb3IgdGhlIGN1cnJlbnQgdmlldyBzdGF0ZSBhbmQgdGhlIHBhc3NlZCBzaXplLlxuICAgKiBUaGUgc2l6ZSBpcyB0aGUgcGl4ZWwgZGltZW5zaW9ucyBvZiB0aGUgYm94IGludG8gd2hpY2ggdGhlIGNhbGN1bGF0ZWQgZXh0ZW50XG4gICAqIHNob3VsZCBmaXQuIEluIG1vc3QgY2FzZXMgeW91IHdhbnQgdG8gZ2V0IHRoZSBleHRlbnQgb2YgdGhlIGVudGlyZSBtYXAsXG4gICAqIHRoYXQgaXMgYG1hcC5nZXRTaXplKClgLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbc2l6ZV0gQm94IHBpeGVsIHNpemUuIElmIG5vdCBwcm92aWRlZCwgdGhlIHNpemVcbiAgICogb2YgdGhlIG1hcCB0aGF0IHVzZXMgdGhpcyB2aWV3IHdpbGwgYmUgdXNlZC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGNhbGN1bGF0ZUV4dGVudChzaXplKSB7XG4gICAgY29uc3QgZXh0ZW50ID0gdGhpcy5jYWxjdWxhdGVFeHRlbnRJbnRlcm5hbChzaXplKTtcbiAgICByZXR1cm4gdG9Vc2VyRXh0ZW50KGV4dGVudCwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFtzaXplXSBCb3ggcGl4ZWwgc2l6ZS4gSWYgbm90IHByb3ZpZGVkLFxuICAgKiB0aGUgbWFwJ3MgbGFzdCBrbm93biB2aWV3cG9ydCBzaXplIHdpbGwgYmUgdXNlZC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAqL1xuICBjYWxjdWxhdGVFeHRlbnRJbnRlcm5hbChzaXplKSB7XG4gICAgc2l6ZSA9IHNpemUgfHwgdGhpcy5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKCk7XG4gICAgY29uc3QgY2VudGVyID0gLyoqIEB0eXBlIHshaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovIChcbiAgICAgIHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKVxuICAgICk7XG4gICAgYXNzZXJ0KGNlbnRlciwgMSk7IC8vIFRoZSB2aWV3IGNlbnRlciBpcyBub3QgZGVmaW5lZFxuICAgIGNvbnN0IHJlc29sdXRpb24gPSAvKiogQHR5cGUgeyFudW1iZXJ9ICovICh0aGlzLmdldFJlc29sdXRpb24oKSk7XG4gICAgYXNzZXJ0KHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCwgMik7IC8vIFRoZSB2aWV3IHJlc29sdXRpb24gaXMgbm90IGRlZmluZWRcbiAgICBjb25zdCByb3RhdGlvbiA9IC8qKiBAdHlwZSB7IW51bWJlcn0gKi8gKHRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgYXNzZXJ0KHJvdGF0aW9uICE9PSB1bmRlZmluZWQsIDMpOyAvLyBUaGUgdmlldyByb3RhdGlvbiBpcyBub3QgZGVmaW5lZFxuXG4gICAgcmV0dXJuIGdldEZvclZpZXdBbmRTaXplKGNlbnRlciwgcmVzb2x1dGlvbiwgcm90YXRpb24sIHNpemUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1heFJlc29sdXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubWF4UmVzb2x1dGlvbl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtaW5pbXVtIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TWluUmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5taW5SZXNvbHV0aW9uXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1heGltdW0gem9vbSBsZXZlbCBmb3IgdGhlIHZpZXcuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1heGltdW0gem9vbSBsZXZlbC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TWF4Wm9vbSgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChcbiAgICAgIHRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24odGhpcy5taW5SZXNvbHV0aW9uXylcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIG5ldyBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSB2aWV3LlxuICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBUaGUgbWF4aW11bSB6b29tIGxldmVsLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRNYXhab29tKHpvb20pIHtcbiAgICB0aGlzLmFwcGx5T3B0aW9uc18odGhpcy5nZXRVcGRhdGVkT3B0aW9uc18oe21heFpvb206IHpvb219KSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSB2aWV3LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1pblpvb20oKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoXG4gICAgICB0aGlzLmdldFpvb21Gb3JSZXNvbHV0aW9uKHRoaXMubWF4UmVzb2x1dGlvbl8pXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYSBuZXcgbWluaW11bSB6b29tIGxldmVsIGZvciB0aGUgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gVGhlIG1pbmltdW0gem9vbSBsZXZlbC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TWluWm9vbSh6b29tKSB7XG4gICAgdGhpcy5hcHBseU9wdGlvbnNfKHRoaXMuZ2V0VXBkYXRlZE9wdGlvbnNfKHttaW5ab29tOiB6b29tfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB3aGV0aGVyIHRoZSB2aWV3IHNob3VsZCBhbGxvdyBpbnRlcm1lZGlhcnkgem9vbSBsZXZlbHMuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCBXaGV0aGVyIHRoZSByZXNvbHV0aW9uIGlzIGNvbnN0cmFpbmVkLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRDb25zdHJhaW5SZXNvbHV0aW9uKGVuYWJsZWQpIHtcbiAgICB0aGlzLmFwcGx5T3B0aW9uc18odGhpcy5nZXRVcGRhdGVkT3B0aW9uc18oe2NvbnN0cmFpblJlc29sdXRpb246IGVuYWJsZWR9KSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2aWV3IHByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IFRoZSBwcm9qZWN0aW9uIG9mIHRoZSB2aWV3LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRQcm9qZWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnByb2plY3Rpb25fO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldyByZXNvbHV0aW9uLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfSAqLyAodGhpcy5nZXQoVmlld1Byb3BlcnR5LlJFU09MVVRJT04pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHJlc29sdXRpb25zIGZvciB0aGUgdmlldy4gVGhpcyByZXR1cm5zIHRoZSBhcnJheSBvZiByZXNvbHV0aW9uc1xuICAgKiBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBWaWV3LCBvciB1bmRlZmluZWQgaWYgbm9uZSB3ZXJlIGdpdmVuLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH0gVGhlIHJlc29sdXRpb25zIG9mIHRoZSB2aWV3LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRSZXNvbHV0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNvbHV0aW9uc187XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSByZXNvbHV0aW9uIGZvciBhIHByb3ZpZGVkIGV4dGVudCAoaW4gbWFwIHVuaXRzKSBhbmQgc2l6ZSAoaW4gcGl4ZWxzKS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFtzaXplXSBCb3ggcGl4ZWwgc2l6ZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgcmVzb2x1dGlvbiBhdCB3aGljaCB0aGUgcHJvdmlkZWQgZXh0ZW50IHdpbGwgcmVuZGVyIGF0XG4gICAqICAgICB0aGUgZ2l2ZW4gc2l6ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UmVzb2x1dGlvbkZvckV4dGVudChleHRlbnQsIHNpemUpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwoXG4gICAgICBmcm9tVXNlckV4dGVudChleHRlbnQsIHRoaXMuZ2V0UHJvamVjdGlvbigpKSxcbiAgICAgIHNpemVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSBwcm92aWRlZCBleHRlbnQgKGluIG1hcCB1bml0cykgYW5kIHNpemUgKGluIHBpeGVscykuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbc2l6ZV0gQm94IHBpeGVsIHNpemUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHJlc29sdXRpb24gYXQgd2hpY2ggdGhlIHByb3ZpZGVkIGV4dGVudCB3aWxsIHJlbmRlciBhdFxuICAgKiAgICAgdGhlIGdpdmVuIHNpemUuXG4gICAqL1xuICBnZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwoZXh0ZW50LCBzaXplKSB7XG4gICAgc2l6ZSA9IHNpemUgfHwgdGhpcy5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKCk7XG4gICAgY29uc3QgeFJlc29sdXRpb24gPSBnZXRXaWR0aChleHRlbnQpIC8gc2l6ZVswXTtcbiAgICBjb25zdCB5UmVzb2x1dGlvbiA9IGdldEhlaWdodChleHRlbnQpIC8gc2l6ZVsxXTtcbiAgICByZXR1cm4gTWF0aC5tYXgoeFJlc29sdXRpb24sIHlSZXNvbHV0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEgZm9yIGFcbiAgICogcmVzb2x1dGlvbi4gRXhwb25lbnRpYWwgc2NhbGluZyBpcyBhc3N1bWVkLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvd2VyXSBQb3dlci5cbiAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyKTogbnVtYmVyfSBSZXNvbHV0aW9uIGZvciB2YWx1ZSBmdW5jdGlvbi5cbiAgICovXG4gIGdldFJlc29sdXRpb25Gb3JWYWx1ZUZ1bmN0aW9uKHBvd2VyKSB7XG4gICAgcG93ZXIgPSBwb3dlciB8fCAyO1xuICAgIGNvbnN0IG1heFJlc29sdXRpb24gPSB0aGlzLmdldENvbnN0cmFpbmVkUmVzb2x1dGlvbih0aGlzLm1heFJlc29sdXRpb25fKTtcbiAgICBjb25zdCBtaW5SZXNvbHV0aW9uID0gdGhpcy5taW5SZXNvbHV0aW9uXztcbiAgICBjb25zdCBtYXggPSBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gbWluUmVzb2x1dGlvbikgLyBNYXRoLmxvZyhwb3dlcik7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlLlxuICAgICAgICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IG1heFJlc29sdXRpb24gLyBNYXRoLnBvdyhwb3dlciwgdmFsdWUgKiBtYXgpO1xuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldyByb3RhdGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgcm90YXRpb24gb2YgdGhlIHZpZXcgaW4gcmFkaWFucy5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Um90YXRpb24oKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoVmlld1Byb3BlcnR5LlJPVEFUSU9OKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcmVzb2x1dGlvbiBmb3IgYSB2YWx1ZSBiZXR3ZWVuXG4gICAqIDAgYW5kIDEuIEV4cG9uZW50aWFsIHNjYWxpbmcgaXMgYXNzdW1lZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3dlcl0gUG93ZXIuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9uKG51bWJlcik6IG51bWJlcn0gVmFsdWUgZm9yIHJlc29sdXRpb24gZnVuY3Rpb24uXG4gICAqL1xuICBnZXRWYWx1ZUZvclJlc29sdXRpb25GdW5jdGlvbihwb3dlcikge1xuICAgIGNvbnN0IGxvZ1Bvd2VyID0gTWF0aC5sb2cocG93ZXIgfHwgMik7XG4gICAgY29uc3QgbWF4UmVzb2x1dGlvbiA9IHRoaXMuZ2V0Q29uc3RyYWluZWRSZXNvbHV0aW9uKHRoaXMubWF4UmVzb2x1dGlvbl8pO1xuICAgIGNvbnN0IG1pblJlc29sdXRpb24gPSB0aGlzLm1pblJlc29sdXRpb25fO1xuICAgIGNvbnN0IG1heCA9IE1hdGgubG9nKG1heFJlc29sdXRpb24gLyBtaW5SZXNvbHV0aW9uKSAvIGxvZ1Bvd2VyO1xuICAgIHJldHVybiAoXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFZhbHVlLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiAocmVzb2x1dGlvbikge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IE1hdGgubG9nKG1heFJlc29sdXRpb24gLyByZXNvbHV0aW9uKSAvIGxvZ1Bvd2VyIC8gbWF4O1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzaXplIG9mIHRoZSB2aWV3cG9ydCBtaW51cyBwYWRkaW5nLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uXSBUYWtlIGludG8gYWNjb3VudCB0aGUgcm90YXRpb24gb2YgdGhlIHZpZXdwb3J0IHdoZW4gZ2l2aW5nIHRoZSBzaXplXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBWaWV3cG9ydCBzaXplIHJlZHVjZWQgYnkgdGhlIHBhZGRpbmcuXG4gICAqL1xuICBnZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKHJvdGF0aW9uKSB7XG4gICAgbGV0IHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8ocm90YXRpb24pO1xuICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLnBhZGRpbmdfO1xuICAgIGlmIChwYWRkaW5nKSB7XG4gICAgICBzaXplID0gW1xuICAgICAgICBzaXplWzBdIC0gcGFkZGluZ1sxXSAtIHBhZGRpbmdbM10sXG4gICAgICAgIHNpemVbMV0gLSBwYWRkaW5nWzBdIC0gcGFkZGluZ1syXSxcbiAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiBzaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1N0YXRlfSBWaWV3IHN0YXRlLlxuICAgKi9cbiAgZ2V0U3RhdGUoKSB7XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IHRoaXMuZ2V0UHJvamVjdGlvbigpO1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oKTtcbiAgICBjb25zdCByb3RhdGlvbiA9IHRoaXMuZ2V0Um90YXRpb24oKTtcbiAgICBsZXQgY2VudGVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi8gKFxuICAgICAgdGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpXG4gICAgKTtcbiAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5wYWRkaW5nXztcbiAgICBpZiAocGFkZGluZykge1xuICAgICAgY29uc3QgcmVkdWNlZFNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZU1pbnVzUGFkZGluZ18oKTtcbiAgICAgIGNlbnRlciA9IGNhbGN1bGF0ZUNlbnRlck9uKFxuICAgICAgICBjZW50ZXIsXG4gICAgICAgIHRoaXMuZ2V0Vmlld3BvcnRTaXplXygpLFxuICAgICAgICBbcmVkdWNlZFNpemVbMF0gLyAyICsgcGFkZGluZ1szXSwgcmVkdWNlZFNpemVbMV0gLyAyICsgcGFkZGluZ1swXV0sXG4gICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgIHJvdGF0aW9uXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgY2VudGVyOiBjZW50ZXIuc2xpY2UoMCksXG4gICAgICBwcm9qZWN0aW9uOiBwcm9qZWN0aW9uICE9PSB1bmRlZmluZWQgPyBwcm9qZWN0aW9uIDogbnVsbCxcbiAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgICBuZXh0Q2VudGVyOiB0aGlzLm5leHRDZW50ZXJfLFxuICAgICAgbmV4dFJlc29sdXRpb246IHRoaXMubmV4dFJlc29sdXRpb25fLFxuICAgICAgbmV4dFJvdGF0aW9uOiB0aGlzLm5leHRSb3RhdGlvbl8sXG4gICAgICByb3RhdGlvbjogcm90YXRpb24sXG4gICAgICB6b29tOiB0aGlzLmdldFpvb20oKSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCB6b29tIGxldmVsLiBUaGlzIG1ldGhvZCBtYXkgcmV0dXJuIG5vbi1pbnRlZ2VyIHpvb20gbGV2ZWxzXG4gICAqIGlmIHRoZSB2aWV3IGRvZXMgbm90IGNvbnN0cmFpbiB0aGUgcmVzb2x1dGlvbiwgb3IgaWYgYW4gaW50ZXJhY3Rpb24gb3JcbiAgICogYW5pbWF0aW9uIGlzIHVuZGVyd2F5LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBab29tLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRab29tKCkge1xuICAgIGxldCB6b29tO1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oKTtcbiAgICBpZiAocmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB6b29tID0gdGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHpvb207XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB6b29tIGxldmVsIGZvciBhIHJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFRoZSByZXNvbHV0aW9uLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBUaGUgem9vbSBsZXZlbCBmb3IgdGhlIHByb3ZpZGVkIHJlc29sdXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFpvb21Gb3JSZXNvbHV0aW9uKHJlc29sdXRpb24pIHtcbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5taW5ab29tXyB8fCAwO1xuICAgIGxldCBtYXgsIHpvb21GYWN0b3I7XG4gICAgaWYgKHRoaXMucmVzb2x1dGlvbnNfKSB7XG4gICAgICBjb25zdCBuZWFyZXN0ID0gbGluZWFyRmluZE5lYXJlc3QodGhpcy5yZXNvbHV0aW9uc18sIHJlc29sdXRpb24sIDEpO1xuICAgICAgb2Zmc2V0ID0gbmVhcmVzdDtcbiAgICAgIG1heCA9IHRoaXMucmVzb2x1dGlvbnNfW25lYXJlc3RdO1xuICAgICAgaWYgKG5lYXJlc3QgPT0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIC0gMSkge1xuICAgICAgICB6b29tRmFjdG9yID0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHpvb21GYWN0b3IgPSBtYXggLyB0aGlzLnJlc29sdXRpb25zX1tuZWFyZXN0ICsgMV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1heCA9IHRoaXMubWF4UmVzb2x1dGlvbl87XG4gICAgICB6b29tRmFjdG9yID0gdGhpcy56b29tRmFjdG9yXztcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldCArIE1hdGgubG9nKG1heCAvIHJlc29sdXRpb24pIC8gTWF0aC5sb2coem9vbUZhY3Rvcik7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSByZXNvbHV0aW9uIGZvciBhIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFpvb20gbGV2ZWwuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHZpZXcgcmVzb2x1dGlvbiBmb3IgdGhlIHByb3ZpZGVkIHpvb20gbGV2ZWwuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJlc29sdXRpb25Gb3Jab29tKHpvb20pIHtcbiAgICBpZiAodGhpcy5yZXNvbHV0aW9uc18pIHtcbiAgICAgIGlmICh0aGlzLnJlc29sdXRpb25zXy5sZW5ndGggPD0gMSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJhc2VMZXZlbCA9IGNsYW1wKFxuICAgICAgICBNYXRoLmZsb29yKHpvb20pLFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGggLSAyXG4gICAgICApO1xuICAgICAgY29uc3Qgem9vbUZhY3RvciA9XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbnNfW2Jhc2VMZXZlbF0gLyB0aGlzLnJlc29sdXRpb25zX1tiYXNlTGV2ZWwgKyAxXTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbnNfW2Jhc2VMZXZlbF0gL1xuICAgICAgICBNYXRoLnBvdyh6b29tRmFjdG9yLCBjbGFtcCh6b29tIC0gYmFzZUxldmVsLCAwLCAxKSlcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICB0aGlzLm1heFJlc29sdXRpb25fIC8gTWF0aC5wb3codGhpcy56b29tRmFjdG9yXywgem9vbSAtIHRoaXMubWluWm9vbV8pXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXQgdGhlIGdpdmVuIGdlb21ldHJ5IG9yIGV4dGVudCBiYXNlZCBvbiB0aGUgZ2l2ZW4gbWFwIHNpemUgYW5kIGJvcmRlci5cbiAgICogVGhlIHNpemUgaXMgcGl4ZWwgZGltZW5zaW9ucyBvZiB0aGUgYm94IHRvIGZpdCB0aGUgZXh0ZW50IGludG8uXG4gICAqIEluIG1vc3QgY2FzZXMgeW91IHdpbGwgd2FudCB0byB1c2UgdGhlIG1hcCBzaXplLCB0aGF0IGlzIGBtYXAuZ2V0U2l6ZSgpYC5cbiAgICogVGFrZXMgY2FyZSBvZiB0aGUgbWFwIGFuZ2xlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZ2VvbWV0cnlPckV4dGVudCBUaGUgZ2VvbWV0cnkgb3JcbiAgICogICAgIGV4dGVudCB0byBmaXQgdGhlIHZpZXcgdG8uXG4gICAqIEBwYXJhbSB7Rml0T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqIEBhcGlcbiAgICovXG4gIGZpdChnZW9tZXRyeU9yRXh0ZW50LCBvcHRpb25zKSB7XG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi9cbiAgICBsZXQgZ2VvbWV0cnk7XG4gICAgYXNzZXJ0KFxuICAgICAgQXJyYXkuaXNBcnJheShnZW9tZXRyeU9yRXh0ZW50KSB8fFxuICAgICAgICB0eXBlb2YgKC8qKiBAdHlwZSB7P30gKi8gKGdlb21ldHJ5T3JFeHRlbnQpLmdldFNpbXBsaWZpZWRHZW9tZXRyeSkgPT09XG4gICAgICAgICAgJ2Z1bmN0aW9uJyxcbiAgICAgIDI0XG4gICAgKTsgLy8gSW52YWxpZCBleHRlbnQgb3IgZ2VvbWV0cnkgcHJvdmlkZWQgYXMgYGdlb21ldHJ5YFxuICAgIGlmIChBcnJheS5pc0FycmF5KGdlb21ldHJ5T3JFeHRlbnQpKSB7XG4gICAgICBhc3NlcnQoIWlzRW1wdHkoZ2VvbWV0cnlPckV4dGVudCksIDI1KTsgLy8gQ2Fubm90IGZpdCBlbXB0eSBleHRlbnQgcHJvdmlkZWQgYXMgYGdlb21ldHJ5YFxuICAgICAgY29uc3QgZXh0ZW50ID0gZnJvbVVzZXJFeHRlbnQoZ2VvbWV0cnlPckV4dGVudCwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgICAgZ2VvbWV0cnkgPSBwb2x5Z29uRnJvbUV4dGVudChleHRlbnQpO1xuICAgIH0gZWxzZSBpZiAoZ2VvbWV0cnlPckV4dGVudC5nZXRUeXBlKCkgPT09ICdDaXJjbGUnKSB7XG4gICAgICBjb25zdCBleHRlbnQgPSBmcm9tVXNlckV4dGVudChcbiAgICAgICAgZ2VvbWV0cnlPckV4dGVudC5nZXRFeHRlbnQoKSxcbiAgICAgICAgdGhpcy5nZXRQcm9qZWN0aW9uKClcbiAgICAgICk7XG4gICAgICBnZW9tZXRyeSA9IHBvbHlnb25Gcm9tRXh0ZW50KGV4dGVudCk7XG4gICAgICBnZW9tZXRyeS5yb3RhdGUodGhpcy5nZXRSb3RhdGlvbigpLCBnZXRDZW50ZXIoZXh0ZW50KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHVzZXJQcm9qZWN0aW9uID0gZ2V0VXNlclByb2plY3Rpb24oKTtcbiAgICAgIGlmICh1c2VyUHJvamVjdGlvbikge1xuICAgICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICBnZW9tZXRyeU9yRXh0ZW50XG4gICAgICAgICAgICAuY2xvbmUoKVxuICAgICAgICAgICAgLnRyYW5zZm9ybSh1c2VyUHJvamVjdGlvbiwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJ5T3JFeHRlbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5maXRJbnRlcm5hbChnZW9tZXRyeSwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHJvdGF0ZWQgZXh0ZW50XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFRoZSBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnRcIikuRXh0ZW50fSBUaGUgcm90YXRlZCBleHRlbnQgZm9yIHRoZSBnZW9tZXRyeS5cbiAgICovXG4gIHJvdGF0ZWRFeHRlbnRGb3JHZW9tZXRyeShnZW9tZXRyeSkge1xuICAgIGNvbnN0IHJvdGF0aW9uID0gdGhpcy5nZXRSb3RhdGlvbigpO1xuICAgIGNvbnN0IGNvc0FuZ2xlID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICAgIGNvbnN0IHNpbkFuZ2xlID0gTWF0aC5zaW4oLXJvdGF0aW9uKTtcbiAgICBjb25zdCBjb29yZHMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBjb25zdCBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBsZXQgbWluUm90WCA9ICtJbmZpbml0eTtcbiAgICBsZXQgbWluUm90WSA9ICtJbmZpbml0eTtcbiAgICBsZXQgbWF4Um90WCA9IC1JbmZpbml0eTtcbiAgICBsZXQgbWF4Um90WSA9IC1JbmZpbml0eTtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBjb29yZHMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gc3RyaWRlKSB7XG4gICAgICBjb25zdCByb3RYID0gY29vcmRzW2ldICogY29zQW5nbGUgLSBjb29yZHNbaSArIDFdICogc2luQW5nbGU7XG4gICAgICBjb25zdCByb3RZID0gY29vcmRzW2ldICogc2luQW5nbGUgKyBjb29yZHNbaSArIDFdICogY29zQW5nbGU7XG4gICAgICBtaW5Sb3RYID0gTWF0aC5taW4obWluUm90WCwgcm90WCk7XG4gICAgICBtaW5Sb3RZID0gTWF0aC5taW4obWluUm90WSwgcm90WSk7XG4gICAgICBtYXhSb3RYID0gTWF0aC5tYXgobWF4Um90WCwgcm90WCk7XG4gICAgICBtYXhSb3RZID0gTWF0aC5tYXgobWF4Um90WSwgcm90WSk7XG4gICAgfVxuICAgIHJldHVybiBbbWluUm90WCwgbWluUm90WSwgbWF4Um90WCwgbWF4Um90WV07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgVGhlIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge0ZpdE9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgZml0SW50ZXJuYWwoZ2VvbWV0cnksIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBsZXQgc2l6ZSA9IG9wdGlvbnMuc2l6ZTtcbiAgICBpZiAoIXNpemUpIHtcbiAgICAgIHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZU1pbnVzUGFkZGluZ18oKTtcbiAgICB9XG4gICAgY29uc3QgcGFkZGluZyA9XG4gICAgICBvcHRpb25zLnBhZGRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGFkZGluZyA6IFswLCAwLCAwLCAwXTtcbiAgICBjb25zdCBuZWFyZXN0ID0gb3B0aW9ucy5uZWFyZXN0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5lYXJlc3QgOiBmYWxzZTtcbiAgICBsZXQgbWluUmVzb2x1dGlvbjtcbiAgICBpZiAob3B0aW9ucy5taW5SZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1pblJlc29sdXRpb24gPSBvcHRpb25zLm1pblJlc29sdXRpb247XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgbWluUmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbkZvclpvb20ob3B0aW9ucy5tYXhab29tKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWluUmVzb2x1dGlvbiA9IDA7XG4gICAgfVxuXG4gICAgY29uc3Qgcm90YXRlZEV4dGVudCA9IHRoaXMucm90YXRlZEV4dGVudEZvckdlb21ldHJ5KGdlb21ldHJ5KTtcblxuICAgIC8vIGNhbGN1bGF0ZSByZXNvbHV0aW9uXG4gICAgbGV0IHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb25Gb3JFeHRlbnRJbnRlcm5hbChyb3RhdGVkRXh0ZW50LCBbXG4gICAgICBzaXplWzBdIC0gcGFkZGluZ1sxXSAtIHBhZGRpbmdbM10sXG4gICAgICBzaXplWzFdIC0gcGFkZGluZ1swXSAtIHBhZGRpbmdbMl0sXG4gICAgXSk7XG4gICAgcmVzb2x1dGlvbiA9IGlzTmFOKHJlc29sdXRpb24pXG4gICAgICA/IG1pblJlc29sdXRpb25cbiAgICAgIDogTWF0aC5tYXgocmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbik7XG4gICAgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0Q29uc3RyYWluZWRSZXNvbHV0aW9uKHJlc29sdXRpb24sIG5lYXJlc3QgPyAwIDogMSk7XG5cbiAgICAvLyBjYWxjdWxhdGUgY2VudGVyXG4gICAgY29uc3Qgcm90YXRpb24gPSB0aGlzLmdldFJvdGF0aW9uKCk7XG4gICAgY29uc3Qgc2luQW5nbGUgPSBNYXRoLnNpbihyb3RhdGlvbik7XG4gICAgY29uc3QgY29zQW5nbGUgPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgY29uc3QgY2VudGVyUm90ID0gZ2V0Q2VudGVyKHJvdGF0ZWRFeHRlbnQpO1xuICAgIGNlbnRlclJvdFswXSArPSAoKHBhZGRpbmdbMV0gLSBwYWRkaW5nWzNdKSAvIDIpICogcmVzb2x1dGlvbjtcbiAgICBjZW50ZXJSb3RbMV0gKz0gKChwYWRkaW5nWzBdIC0gcGFkZGluZ1syXSkgLyAyKSAqIHJlc29sdXRpb247XG4gICAgY29uc3QgY2VudGVyWCA9IGNlbnRlclJvdFswXSAqIGNvc0FuZ2xlIC0gY2VudGVyUm90WzFdICogc2luQW5nbGU7XG4gICAgY29uc3QgY2VudGVyWSA9IGNlbnRlclJvdFsxXSAqIGNvc0FuZ2xlICsgY2VudGVyUm90WzBdICogc2luQW5nbGU7XG4gICAgY29uc3QgY2VudGVyID0gdGhpcy5nZXRDb25zdHJhaW5lZENlbnRlcihbY2VudGVyWCwgY2VudGVyWV0sIHJlc29sdXRpb24pO1xuICAgIGNvbnN0IGNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjayA/IG9wdGlvbnMuY2FsbGJhY2sgOiBWT0lEO1xuXG4gICAgaWYgKG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5hbmltYXRlSW50ZXJuYWwoXG4gICAgICAgIHtcbiAgICAgICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uLFxuICAgICAgICAgIGNlbnRlcjogY2VudGVyLFxuICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogb3B0aW9ucy5lYXNpbmcsXG4gICAgICAgIH0sXG4gICAgICAgIGNhbGxiYWNrXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRhcmdldFJlc29sdXRpb25fID0gcmVzb2x1dGlvbjtcbiAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IGNlbnRlcjtcbiAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oZmFsc2UsIHRydWUpO1xuICAgICAgYW5pbWF0aW9uQ2FsbGJhY2soY2FsbGJhY2ssIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDZW50ZXIgb24gY29vcmRpbmF0ZSBhbmQgdmlldyBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIEJveCBwaXhlbCBzaXplLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBvc2l0aW9uIFBvc2l0aW9uIG9uIHRoZSB2aWV3IHRvIGNlbnRlciBvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgY2VudGVyT24oY29vcmRpbmF0ZSwgc2l6ZSwgcG9zaXRpb24pIHtcbiAgICB0aGlzLmNlbnRlck9uSW50ZXJuYWwoXG4gICAgICBmcm9tVXNlckNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpLFxuICAgICAgc2l6ZSxcbiAgICAgIHBvc2l0aW9uXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgQm94IHBpeGVsIHNpemUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcG9zaXRpb24gUG9zaXRpb24gb24gdGhlIHZpZXcgdG8gY2VudGVyIG9uLlxuICAgKi9cbiAgY2VudGVyT25JbnRlcm5hbChjb29yZGluYXRlLCBzaXplLCBwb3NpdGlvbikge1xuICAgIHRoaXMuc2V0Q2VudGVySW50ZXJuYWwoXG4gICAgICBjYWxjdWxhdGVDZW50ZXJPbihcbiAgICAgICAgY29vcmRpbmF0ZSxcbiAgICAgICAgc2l6ZSxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIHRoaXMuZ2V0UmVzb2x1dGlvbigpLFxuICAgICAgICB0aGlzLmdldFJvdGF0aW9uKClcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIHNoaWZ0IGJldHdlZW4gbWFwIGFuZCB2aWV3cG9ydCBjZW50ZXIuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH0gQ2VudGVyIHNoaWZ0LlxuICAgKi9cbiAgY2FsY3VsYXRlQ2VudGVyU2hpZnQoY2VudGVyLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgc2l6ZSkge1xuICAgIGxldCBjZW50ZXJTaGlmdDtcbiAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5wYWRkaW5nXztcbiAgICBpZiAocGFkZGluZyAmJiBjZW50ZXIpIHtcbiAgICAgIGNvbnN0IHJlZHVjZWRTaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKC1yb3RhdGlvbik7XG4gICAgICBjb25zdCBzaGlmdGVkQ2VudGVyID0gY2FsY3VsYXRlQ2VudGVyT24oXG4gICAgICAgIGNlbnRlcixcbiAgICAgICAgc2l6ZSxcbiAgICAgICAgW3JlZHVjZWRTaXplWzBdIC8gMiArIHBhZGRpbmdbM10sIHJlZHVjZWRTaXplWzFdIC8gMiArIHBhZGRpbmdbMF1dLFxuICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICByb3RhdGlvblxuICAgICAgKTtcbiAgICAgIGNlbnRlclNoaWZ0ID0gW1xuICAgICAgICBjZW50ZXJbMF0gLSBzaGlmdGVkQ2VudGVyWzBdLFxuICAgICAgICBjZW50ZXJbMV0gLSBzaGlmdGVkQ2VudGVyWzFdLFxuICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIGNlbnRlclNoaWZ0O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGRlZmluZWQuXG4gICAqL1xuICBpc0RlZigpIHtcbiAgICByZXR1cm4gISF0aGlzLmdldENlbnRlckludGVybmFsKCkgJiYgdGhpcy5nZXRSZXNvbHV0aW9uKCkgIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHJlbGF0aXZlIGNvb3JkaW5hdGVzIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuIEFueSBleHRlbnQgY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBkZWx0YUNvb3JkaW5hdGVzIFJlbGF0aXZlIHZhbHVlIHRvIGFkZC5cbiAgICogQGFwaVxuICAgKi9cbiAgYWRqdXN0Q2VudGVyKGRlbHRhQ29vcmRpbmF0ZXMpIHtcbiAgICBjb25zdCBjZW50ZXIgPSB0b1VzZXJDb29yZGluYXRlKHRoaXMudGFyZ2V0Q2VudGVyXywgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgIHRoaXMuc2V0Q2VudGVyKFtcbiAgICAgIGNlbnRlclswXSArIGRlbHRhQ29vcmRpbmF0ZXNbMF0sXG4gICAgICBjZW50ZXJbMV0gKyBkZWx0YUNvb3JkaW5hdGVzWzFdLFxuICAgIF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgcmVsYXRpdmUgY29vcmRpbmF0ZXMgdG8gdGhlIGNlbnRlciBvZiB0aGUgdmlldy4gQW55IGV4dGVudCBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGRlbHRhQ29vcmRpbmF0ZXMgUmVsYXRpdmUgdmFsdWUgdG8gYWRkLlxuICAgKi9cbiAgYWRqdXN0Q2VudGVySW50ZXJuYWwoZGVsdGFDb29yZGluYXRlcykge1xuICAgIGNvbnN0IGNlbnRlciA9IHRoaXMudGFyZ2V0Q2VudGVyXztcbiAgICB0aGlzLnNldENlbnRlckludGVybmFsKFtcbiAgICAgIGNlbnRlclswXSArIGRlbHRhQ29vcmRpbmF0ZXNbMF0sXG4gICAgICBjZW50ZXJbMV0gKyBkZWx0YUNvb3JkaW5hdGVzWzFdLFxuICAgIF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGx5IHRoZSB2aWV3IHJlc29sdXRpb24gYnkgYSByYXRpbywgb3B0aW9uYWxseSB1c2luZyBhbiBhbmNob3IuIEFueSByZXNvbHV0aW9uXG4gICAqIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJhdGlvIFRoZSByYXRpbyB0byBhcHBseSBvbiB0aGUgdmlldyByZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgYWRqdXN0UmVzb2x1dGlvbihyYXRpbywgYW5jaG9yKSB7XG4gICAgYW5jaG9yID0gYW5jaG9yICYmIGZyb21Vc2VyQ29vcmRpbmF0ZShhbmNob3IsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICB0aGlzLmFkanVzdFJlc29sdXRpb25JbnRlcm5hbChyYXRpbywgYW5jaG9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNdWx0aXBseSB0aGUgdmlldyByZXNvbHV0aW9uIGJ5IGEgcmF0aW8sIG9wdGlvbmFsbHkgdXNpbmcgYW4gYW5jaG9yLiBBbnkgcmVzb2x1dGlvblxuICAgKiBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByYXRpbyBUaGUgcmF0aW8gdG8gYXBwbHkgb24gdGhlIHZpZXcgcmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmb3JtYXRpb24uXG4gICAqL1xuICBhZGp1c3RSZXNvbHV0aW9uSW50ZXJuYWwocmF0aW8sIGFuY2hvcikge1xuICAgIGNvbnN0IGlzTW92aW5nID0gdGhpcy5nZXRBbmltYXRpbmcoKSB8fCB0aGlzLmdldEludGVyYWN0aW5nKCk7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyh0aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgIGNvbnN0IG5ld1Jlc29sdXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yZXNvbHV0aW9uKFxuICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyAqIHJhdGlvLFxuICAgICAgMCxcbiAgICAgIHNpemUsXG4gICAgICBpc01vdmluZ1xuICAgICk7XG5cbiAgICBpZiAoYW5jaG9yKSB7XG4gICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSB0aGlzLmNhbGN1bGF0ZUNlbnRlclpvb20obmV3UmVzb2x1dGlvbiwgYW5jaG9yKTtcbiAgICB9XG5cbiAgICB0aGlzLnRhcmdldFJlc29sdXRpb25fICo9IHJhdGlvO1xuICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgdmFsdWUgdG8gdGhlIHZpZXcgem9vbSBsZXZlbCwgb3B0aW9uYWxseSB1c2luZyBhbiBhbmNob3IuIEFueSByZXNvbHV0aW9uXG4gICAqIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIFJlbGF0aXZlIHZhbHVlIHRvIGFkZCB0byB0aGUgem9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmb3JtYXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGFkanVzdFpvb20oZGVsdGEsIGFuY2hvcikge1xuICAgIHRoaXMuYWRqdXN0UmVzb2x1dGlvbihNYXRoLnBvdyh0aGlzLnpvb21GYWN0b3JfLCAtZGVsdGEpLCBhbmNob3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSB2YWx1ZSB0byB0aGUgdmlldyByb3RhdGlvbiwgb3B0aW9uYWxseSB1c2luZyBhbiBhbmNob3IuIEFueSByb3RhdGlvblxuICAgKiBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQgdG8gdGhlIHpvb20gcm90YXRpb24sIGluIHJhZGlhbnMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFthbmNob3JdIFRoZSByb3RhdGlvbiBjZW50ZXIuXG4gICAqIEBhcGlcbiAgICovXG4gIGFkanVzdFJvdGF0aW9uKGRlbHRhLCBhbmNob3IpIHtcbiAgICBpZiAoYW5jaG9yKSB7XG4gICAgICBhbmNob3IgPSBmcm9tVXNlckNvb3JkaW5hdGUoYW5jaG9yLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgfVxuICAgIHRoaXMuYWRqdXN0Um90YXRpb25JbnRlcm5hbChkZWx0YSwgYW5jaG9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgUmVsYXRpdmUgdmFsdWUgdG8gYWRkIHRvIHRoZSB6b29tIHJvdGF0aW9uLCBpbiByYWRpYW5zLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBUaGUgcm90YXRpb24gY2VudGVyLlxuICAgKi9cbiAgYWRqdXN0Um90YXRpb25JbnRlcm5hbChkZWx0YSwgYW5jaG9yKSB7XG4gICAgY29uc3QgaXNNb3ZpbmcgPSB0aGlzLmdldEFuaW1hdGluZygpIHx8IHRoaXMuZ2V0SW50ZXJhY3RpbmcoKTtcbiAgICBjb25zdCBuZXdSb3RhdGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJvdGF0aW9uKFxuICAgICAgdGhpcy50YXJnZXRSb3RhdGlvbl8gKyBkZWx0YSxcbiAgICAgIGlzTW92aW5nXG4gICAgKTtcbiAgICBpZiAoYW5jaG9yKSB7XG4gICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSB0aGlzLmNhbGN1bGF0ZUNlbnRlclJvdGF0ZShuZXdSb3RhdGlvbiwgYW5jaG9yKTtcbiAgICB9XG4gICAgdGhpcy50YXJnZXRSb3RhdGlvbl8gKz0gZGVsdGE7XG4gICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY2VudGVyIG9mIHRoZSBjdXJyZW50IHZpZXcuIEFueSBleHRlbnQgY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gY2VudGVyIFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldENlbnRlcihjZW50ZXIpIHtcbiAgICB0aGlzLnNldENlbnRlckludGVybmFsKFxuICAgICAgY2VudGVyID8gZnJvbVVzZXJDb29yZGluYXRlKGNlbnRlciwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpIDogY2VudGVyXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNlbnRlciB1c2luZyB0aGUgdmlldyBwcm9qZWN0aW9uIChub3QgdGhlIHVzZXIgcHJvamVjdGlvbikuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBjZW50ZXIgVGhlIGNlbnRlciBvZiB0aGUgdmlldy5cbiAgICovXG4gIHNldENlbnRlckludGVybmFsKGNlbnRlcikge1xuICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IGNlbnRlcjtcbiAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1ZpZXdIaW50LmpzXCIpLmRlZmF1bHR9IGhpbnQgSGludC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIERlbHRhLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE5ldyB2YWx1ZS5cbiAgICovXG4gIHNldEhpbnQoaGludCwgZGVsdGEpIHtcbiAgICB0aGlzLmhpbnRzX1toaW50XSArPSBkZWx0YTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICByZXR1cm4gdGhpcy5oaW50c19baGludF07XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSByZXNvbHV0aW9uIGZvciB0aGlzIHZpZXcuIEFueSByZXNvbHV0aW9uIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFRoZSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pIHtcbiAgICB0aGlzLnRhcmdldFJlc29sdXRpb25fID0gcmVzb2x1dGlvbjtcbiAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSByb3RhdGlvbiBmb3IgdGhpcyB2aWV3LiBBbnkgcm90YXRpb24gY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gVGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3IGluIHJhZGlhbnMuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFJvdGF0aW9uKHJvdGF0aW9uKSB7XG4gICAgdGhpcy50YXJnZXRSb3RhdGlvbl8gPSByb3RhdGlvbjtcbiAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gIH1cblxuICAvKipcbiAgICogWm9vbSB0byBhIHNwZWNpZmljIHpvb20gbGV2ZWwuIEFueSByZXNvbHV0aW9uIGNvbnN0cmFpbiB3aWxsIGFwcGx5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBab29tIGxldmVsLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRab29tKHpvb20pIHtcbiAgICB0aGlzLnNldFJlc29sdXRpb24odGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbSh6b29tKSk7XG4gIH1cblxuICAvKipcbiAgICogUmVjb21wdXRlIHJvdGF0aW9uL3Jlc29sdXRpb24vY2VudGVyIGJhc2VkIG9uIHRhcmdldCB2YWx1ZXMuXG4gICAqIE5vdGU6IHdlIGhhdmUgdG8gY29tcHV0ZSByb3RhdGlvbiBmaXJzdCwgdGhlbiByZXNvbHV0aW9uIGFuZCBjZW50ZXIgY29uc2lkZXJpbmcgdGhhdFxuICAgKiBwYXJhbWV0ZXJzIGNhbiBpbmZsdWVuY2Ugb25lIGFub3RoZXIgaW4gY2FzZSBhIHZpZXcgZXh0ZW50IGNvbnN0cmFpbnQgaXMgcHJlc2VudC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZG9Ob3RDYW5jZWxBbmltc10gRG8gbm90IGNhbmNlbCBhbmltYXRpb25zLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZU1vdmluZ10gQXBwbHkgY29uc3RyYWludHMgYXMgaWYgdGhlIHZpZXcgaXMgbW92aW5nLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXBwbHlUYXJnZXRTdGF0ZV8oZG9Ob3RDYW5jZWxBbmltcywgZm9yY2VNb3ZpbmcpIHtcbiAgICBjb25zdCBpc01vdmluZyA9XG4gICAgICB0aGlzLmdldEFuaW1hdGluZygpIHx8IHRoaXMuZ2V0SW50ZXJhY3RpbmcoKSB8fCBmb3JjZU1vdmluZztcblxuICAgIC8vIGNvbXB1dGUgcm90YXRpb25cbiAgICBjb25zdCBuZXdSb3RhdGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJvdGF0aW9uKFxuICAgICAgdGhpcy50YXJnZXRSb3RhdGlvbl8sXG4gICAgICBpc01vdmluZ1xuICAgICk7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyhuZXdSb3RhdGlvbik7XG4gICAgY29uc3QgbmV3UmVzb2x1dGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJlc29sdXRpb24oXG4gICAgICB0aGlzLnRhcmdldFJlc29sdXRpb25fLFxuICAgICAgMCxcbiAgICAgIHNpemUsXG4gICAgICBpc01vdmluZ1xuICAgICk7XG4gICAgY29uc3QgbmV3Q2VudGVyID0gdGhpcy5jb25zdHJhaW50c18uY2VudGVyKFxuICAgICAgdGhpcy50YXJnZXRDZW50ZXJfLFxuICAgICAgbmV3UmVzb2x1dGlvbixcbiAgICAgIHNpemUsXG4gICAgICBpc01vdmluZyxcbiAgICAgIHRoaXMuY2FsY3VsYXRlQ2VudGVyU2hpZnQoXG4gICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyxcbiAgICAgICAgbmV3UmVzb2x1dGlvbixcbiAgICAgICAgbmV3Um90YXRpb24sXG4gICAgICAgIHNpemVcbiAgICAgIClcbiAgICApO1xuXG4gICAgaWYgKHRoaXMuZ2V0KFZpZXdQcm9wZXJ0eS5ST1RBVElPTikgIT09IG5ld1JvdGF0aW9uKSB7XG4gICAgICB0aGlzLnNldChWaWV3UHJvcGVydHkuUk9UQVRJT04sIG5ld1JvdGF0aW9uKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZ2V0KFZpZXdQcm9wZXJ0eS5SRVNPTFVUSU9OKSAhPT0gbmV3UmVzb2x1dGlvbikge1xuICAgICAgdGhpcy5zZXQoVmlld1Byb3BlcnR5LlJFU09MVVRJT04sIG5ld1Jlc29sdXRpb24pO1xuICAgICAgdGhpcy5zZXQoJ3pvb20nLCB0aGlzLmdldFpvb20oKSwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICFuZXdDZW50ZXIgfHxcbiAgICAgICF0aGlzLmdldChWaWV3UHJvcGVydHkuQ0VOVEVSKSB8fFxuICAgICAgIWVxdWFscyh0aGlzLmdldChWaWV3UHJvcGVydHkuQ0VOVEVSKSwgbmV3Q2VudGVyKVxuICAgICkge1xuICAgICAgdGhpcy5zZXQoVmlld1Byb3BlcnR5LkNFTlRFUiwgbmV3Q2VudGVyKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5nZXRBbmltYXRpbmcoKSAmJiAhZG9Ob3RDYW5jZWxBbmltcykge1xuICAgICAgdGhpcy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgfVxuICAgIHRoaXMuY2FuY2VsQW5jaG9yXyA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiBhbnkgY29uc3RyYWludHMgbmVlZCB0byBiZSBhcHBsaWVkLCBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQuXG4gICAqIFRoaXMgaXMgdHlwaWNhbGx5IGRvbmUgb24gaW50ZXJhY3Rpb24gZW5kLlxuICAgKiBOb3RlOiBjYWxsaW5nIHRoaXMgd2l0aCBhIGR1cmF0aW9uIG9mIDAgd2lsbCBhcHBseSB0aGUgY29uc3RyYWluZWQgdmFsdWVzIHN0cmFpZ2h0IGF3YXksXG4gICAqIHdpdGhvdXQgYW5pbWF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2R1cmF0aW9uXSBUaGUgYW5pbWF0aW9uIGR1cmF0aW9uIGluIG1zLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25EaXJlY3Rpb25dIFdoaWNoIGRpcmVjdGlvbiB0byB6b29tLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICovXG4gIHJlc29sdmVDb25zdHJhaW50cyhkdXJhdGlvbiwgcmVzb2x1dGlvbkRpcmVjdGlvbiwgYW5jaG9yKSB7XG4gICAgZHVyYXRpb24gPSBkdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gZHVyYXRpb24gOiAyMDA7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gcmVzb2x1dGlvbkRpcmVjdGlvbiB8fCAwO1xuXG4gICAgY29uc3QgbmV3Um90YXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yb3RhdGlvbih0aGlzLnRhcmdldFJvdGF0aW9uXyk7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyhuZXdSb3RhdGlvbik7XG4gICAgY29uc3QgbmV3UmVzb2x1dGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJlc29sdXRpb24oXG4gICAgICB0aGlzLnRhcmdldFJlc29sdXRpb25fLFxuICAgICAgZGlyZWN0aW9uLFxuICAgICAgc2l6ZVxuICAgICk7XG4gICAgY29uc3QgbmV3Q2VudGVyID0gdGhpcy5jb25zdHJhaW50c18uY2VudGVyKFxuICAgICAgdGhpcy50YXJnZXRDZW50ZXJfLFxuICAgICAgbmV3UmVzb2x1dGlvbixcbiAgICAgIHNpemUsXG4gICAgICBmYWxzZSxcbiAgICAgIHRoaXMuY2FsY3VsYXRlQ2VudGVyU2hpZnQoXG4gICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyxcbiAgICAgICAgbmV3UmVzb2x1dGlvbixcbiAgICAgICAgbmV3Um90YXRpb24sXG4gICAgICAgIHNpemVcbiAgICAgIClcbiAgICApO1xuXG4gICAgaWYgKGR1cmF0aW9uID09PSAwICYmICF0aGlzLmNhbmNlbEFuY2hvcl8pIHtcbiAgICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbl8gPSBuZXdSZXNvbHV0aW9uO1xuICAgICAgdGhpcy50YXJnZXRSb3RhdGlvbl8gPSBuZXdSb3RhdGlvbjtcbiAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IG5ld0NlbnRlcjtcbiAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhbmNob3IgPSBhbmNob3IgfHwgKGR1cmF0aW9uID09PSAwID8gdGhpcy5jYW5jZWxBbmNob3JfIDogdW5kZWZpbmVkKTtcbiAgICB0aGlzLmNhbmNlbEFuY2hvcl8gPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLmdldFJlc29sdXRpb24oKSAhPT0gbmV3UmVzb2x1dGlvbiB8fFxuICAgICAgdGhpcy5nZXRSb3RhdGlvbigpICE9PSBuZXdSb3RhdGlvbiB8fFxuICAgICAgIXRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKSB8fFxuICAgICAgIWVxdWFscyh0aGlzLmdldENlbnRlckludGVybmFsKCksIG5ld0NlbnRlcilcbiAgICApIHtcbiAgICAgIGlmICh0aGlzLmdldEFuaW1hdGluZygpKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFuaW1hdGVJbnRlcm5hbCh7XG4gICAgICAgIHJvdGF0aW9uOiBuZXdSb3RhdGlvbixcbiAgICAgICAgY2VudGVyOiBuZXdDZW50ZXIsXG4gICAgICAgIHJlc29sdXRpb246IG5ld1Jlc29sdXRpb24sXG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiBlYXNlT3V0LFxuICAgICAgICBhbmNob3I6IGFuY2hvcixcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBOb3RpZnkgdGhlIFZpZXcgdGhhdCBhbiBpbnRlcmFjdGlvbiBoYXMgc3RhcnRlZC5cbiAgICogVGhlIHZpZXcgc3RhdGUgd2lsbCBiZSByZXNvbHZlZCB0byBhIHN0YWJsZSBvbmUgaWYgbmVlZGVkXG4gICAqIChkZXBlbmRpbmcgb24gaXRzIGNvbnN0cmFpbnRzKS5cbiAgICogQGFwaVxuICAgKi9cbiAgYmVnaW5JbnRlcmFjdGlvbigpIHtcbiAgICB0aGlzLnJlc29sdmVDb25zdHJhaW50cygwKTtcblxuICAgIHRoaXMuc2V0SGludChWaWV3SGludC5JTlRFUkFDVElORywgMSk7XG4gIH1cblxuICAvKipcbiAgICogTm90aWZ5IHRoZSBWaWV3IHRoYXQgYW4gaW50ZXJhY3Rpb24gaGFzIGVuZGVkLiBUaGUgdmlldyBzdGF0ZSB3aWxsIGJlIHJlc29sdmVkXG4gICAqIHRvIGEgc3RhYmxlIG9uZSBpZiBuZWVkZWQgKGRlcGVuZGluZyBvbiBpdHMgY29uc3RyYWludHMpLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2R1cmF0aW9uXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbkRpcmVjdGlvbl0gV2hpY2ggZGlyZWN0aW9uIHRvIHpvb20uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFthbmNob3JdIFRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBlbmRJbnRlcmFjdGlvbihkdXJhdGlvbiwgcmVzb2x1dGlvbkRpcmVjdGlvbiwgYW5jaG9yKSB7XG4gICAgYW5jaG9yID0gYW5jaG9yICYmIGZyb21Vc2VyQ29vcmRpbmF0ZShhbmNob3IsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICB0aGlzLmVuZEludGVyYWN0aW9uSW50ZXJuYWwoZHVyYXRpb24sIHJlc29sdXRpb25EaXJlY3Rpb24sIGFuY2hvcik7XG4gIH1cblxuICAvKipcbiAgICogTm90aWZ5IHRoZSBWaWV3IHRoYXQgYW4gaW50ZXJhY3Rpb24gaGFzIGVuZGVkLiBUaGUgdmlldyBzdGF0ZSB3aWxsIGJlIHJlc29sdmVkXG4gICAqIHRvIGEgc3RhYmxlIG9uZSBpZiBuZWVkZWQgKGRlcGVuZGluZyBvbiBpdHMgY29uc3RyYWludHMpLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2R1cmF0aW9uXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbkRpcmVjdGlvbl0gV2hpY2ggZGlyZWN0aW9uIHRvIHpvb20uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFthbmNob3JdIFRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICAgKi9cbiAgZW5kSW50ZXJhY3Rpb25JbnRlcm5hbChkdXJhdGlvbiwgcmVzb2x1dGlvbkRpcmVjdGlvbiwgYW5jaG9yKSB7XG4gICAgdGhpcy5zZXRIaW50KFZpZXdIaW50LklOVEVSQUNUSU5HLCAtMSk7XG5cbiAgICB0aGlzLnJlc29sdmVDb25zdHJhaW50cyhkdXJhdGlvbiwgcmVzb2x1dGlvbkRpcmVjdGlvbiwgYW5jaG9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSB2YWxpZCBwb3NpdGlvbiBmb3IgdGhlIHZpZXcgY2VudGVyIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBjb25zdHJhaW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IHRhcmdldENlbnRlciBUYXJnZXQgY2VudGVyIHBvc2l0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3RhcmdldFJlc29sdXRpb25dIFRhcmdldCByZXNvbHV0aW9uLiBJZiBub3Qgc3VwcGxpZWQsIHRoZSBjdXJyZW50IG9uZSB3aWxsIGJlIHVzZWQuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHRvIGd1ZXNzIGEgdmFsaWQgY2VudGVyIHBvc2l0aW9uIGF0IGEgZGlmZmVyZW50IHpvb20gbGV2ZWwuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gVmFsaWQgY2VudGVyIHBvc2l0aW9uLlxuICAgKi9cbiAgZ2V0Q29uc3RyYWluZWRDZW50ZXIodGFyZ2V0Q2VudGVyLCB0YXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyh0aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnRzXy5jZW50ZXIoXG4gICAgICB0YXJnZXRDZW50ZXIsXG4gICAgICB0YXJnZXRSZXNvbHV0aW9uIHx8IHRoaXMuZ2V0UmVzb2x1dGlvbigpLFxuICAgICAgc2l6ZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdmFsaWQgem9vbSBsZXZlbCBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgdmlldyBjb25zdHJhaW50cy5cbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSB0YXJnZXRab29tIFRhcmdldCB6b29tLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2RpcmVjdGlvbj0wXSBJbmRpY2F0ZSB3aGljaCByZXNvbHV0aW9uIHNob3VsZCBiZSB1c2VkXG4gICAqIGJ5IGEgcmVuZGVyZXIgaWYgdGhlIHZpZXcgcmVzb2x1dGlvbiBkb2VzIG5vdCBtYXRjaCBhbnkgcmVzb2x1dGlvbiBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gICAqIElmIDAsIHRoZSBuZWFyZXN0IHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLiBJZiAxLCB0aGUgbmVhcmVzdCBsb3dlciByZXNvbHV0aW9uXG4gICAqIHdpbGwgYmUgdXNlZC4gSWYgLTEsIHRoZSBuZWFyZXN0IGhpZ2hlciByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVmFsaWQgem9vbSBsZXZlbC5cbiAgICovXG4gIGdldENvbnN0cmFpbmVkWm9vbSh0YXJnZXRab29tLCBkaXJlY3Rpb24pIHtcbiAgICBjb25zdCB0YXJnZXRSZXMgPSB0aGlzLmdldFJlc29sdXRpb25Gb3Jab29tKHRhcmdldFpvb20pO1xuICAgIHJldHVybiB0aGlzLmdldFpvb21Gb3JSZXNvbHV0aW9uKFxuICAgICAgdGhpcy5nZXRDb25zdHJhaW5lZFJlc29sdXRpb24odGFyZ2V0UmVzLCBkaXJlY3Rpb24pXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSB2YWxpZCByZXNvbHV0aW9uIGFjY29yZGluZyB0byB0aGUgY3VycmVudCB2aWV3IGNvbnN0cmFpbnRzLlxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHRhcmdldFJlc29sdXRpb24gVGFyZ2V0IHJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZGlyZWN0aW9uPTBdIEluZGljYXRlIHdoaWNoIHJlc29sdXRpb24gc2hvdWxkIGJlIHVzZWRcbiAgICogYnkgYSByZW5kZXJlciBpZiB0aGUgdmlldyByZXNvbHV0aW9uIGRvZXMgbm90IG1hdGNoIGFueSByZXNvbHV0aW9uIG9mIHRoZSB0aWxlIHNvdXJjZS5cbiAgICogSWYgMCwgdGhlIG5lYXJlc3QgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuIElmIDEsIHRoZSBuZWFyZXN0IGxvd2VyIHJlc29sdXRpb25cbiAgICogd2lsbCBiZSB1c2VkLiBJZiAtMSwgdGhlIG5lYXJlc3QgaGlnaGVyIHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBWYWxpZCByZXNvbHV0aW9uLlxuICAgKi9cbiAgZ2V0Q29uc3RyYWluZWRSZXNvbHV0aW9uKHRhcmdldFJlc29sdXRpb24sIGRpcmVjdGlvbikge1xuICAgIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiB8fCAwO1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8odGhpcy5nZXRSb3RhdGlvbigpKTtcblxuICAgIHJldHVybiB0aGlzLmNvbnN0cmFpbnRzXy5yZXNvbHV0aW9uKHRhcmdldFJlc29sdXRpb24sIGRpcmVjdGlvbiwgc2l6ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjay5cbiAqIEBwYXJhbSB7Kn0gcmV0dXJuVmFsdWUgUmV0dXJuIHZhbHVlLlxuICovXG5mdW5jdGlvbiBhbmltYXRpb25DYWxsYmFjayhjYWxsYmFjaywgcmV0dXJuVmFsdWUpIHtcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgY2FsbGJhY2socmV0dXJuVmFsdWUpO1xuICB9LCAwKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1ZpZXdPcHRpb25zfSBvcHRpb25zIFZpZXcgb3B0aW9ucy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY2VudGVyY29uc3RyYWludC5qc1wiKS5UeXBlfSBUaGUgY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNlbnRlckNvbnN0cmFpbnQob3B0aW9ucykge1xuICBpZiAob3B0aW9ucy5leHRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHNtb290aCA9XG4gICAgICBvcHRpb25zLnNtb290aEV4dGVudENvbnN0cmFpbnQgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMuc21vb3RoRXh0ZW50Q29uc3RyYWludFxuICAgICAgICA6IHRydWU7XG4gICAgcmV0dXJuIGNyZWF0ZUV4dGVudChvcHRpb25zLmV4dGVudCwgb3B0aW9ucy5jb25zdHJhaW5Pbmx5Q2VudGVyLCBzbW9vdGgpO1xuICB9XG5cbiAgY29uc3QgcHJvamVjdGlvbiA9IGNyZWF0ZVByb2plY3Rpb24ob3B0aW9ucy5wcm9qZWN0aW9uLCAnRVBTRzozODU3Jyk7XG4gIGlmIChvcHRpb25zLm11bHRpV29ybGQgIT09IHRydWUgJiYgcHJvamVjdGlvbi5pc0dsb2JhbCgpKSB7XG4gICAgY29uc3QgZXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKS5zbGljZSgpO1xuICAgIGV4dGVudFswXSA9IC1JbmZpbml0eTtcbiAgICBleHRlbnRbMl0gPSBJbmZpbml0eTtcbiAgICByZXR1cm4gY3JlYXRlRXh0ZW50KGV4dGVudCwgZmFsc2UsIGZhbHNlKTtcbiAgfVxuXG4gIHJldHVybiBjZW50ZXJOb25lO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IG9wdGlvbnMgVmlldyBvcHRpb25zLlxuICogQHJldHVybiB7e2NvbnN0cmFpbnQ6IGltcG9ydChcIi4vcmVzb2x1dGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZSwgbWF4UmVzb2x1dGlvbjogbnVtYmVyLFxuICogICAgIG1pblJlc29sdXRpb246IG51bWJlciwgbWluWm9vbTogbnVtYmVyLCB6b29tRmFjdG9yOiBudW1iZXJ9fSBUaGUgY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlc29sdXRpb25Db25zdHJhaW50KG9wdGlvbnMpIHtcbiAgbGV0IHJlc29sdXRpb25Db25zdHJhaW50O1xuICBsZXQgbWF4UmVzb2x1dGlvbjtcbiAgbGV0IG1pblJlc29sdXRpb247XG5cbiAgLy8gVE9ETzogbW92ZSB0aGVzZSB0byBiZSBvbCBjb25zdGFudHNcbiAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVubGF5ZXJzL29wZW5sYXllcnMvaXNzdWVzLzIwNzZcbiAgY29uc3QgZGVmYXVsdE1heFpvb20gPSAyODtcbiAgY29uc3QgZGVmYXVsdFpvb21GYWN0b3IgPSAyO1xuXG4gIGxldCBtaW5ab29tID1cbiAgICBvcHRpb25zLm1pblpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWluWm9vbSA6IERFRkFVTFRfTUlOX1pPT007XG5cbiAgbGV0IG1heFpvb20gPVxuICAgIG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhab29tIDogZGVmYXVsdE1heFpvb207XG5cbiAgY29uc3Qgem9vbUZhY3RvciA9XG4gICAgb3B0aW9ucy56b29tRmFjdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnpvb21GYWN0b3IgOiBkZWZhdWx0Wm9vbUZhY3RvcjtcblxuICBjb25zdCBtdWx0aVdvcmxkID1cbiAgICBvcHRpb25zLm11bHRpV29ybGQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXVsdGlXb3JsZCA6IGZhbHNlO1xuXG4gIGNvbnN0IHNtb290aCA9XG4gICAgb3B0aW9ucy5zbW9vdGhSZXNvbHV0aW9uQ29uc3RyYWludCAhPT0gdW5kZWZpbmVkXG4gICAgICA/IG9wdGlvbnMuc21vb3RoUmVzb2x1dGlvbkNvbnN0cmFpbnRcbiAgICAgIDogdHJ1ZTtcblxuICBjb25zdCBzaG93RnVsbEV4dGVudCA9XG4gICAgb3B0aW9ucy5zaG93RnVsbEV4dGVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zaG93RnVsbEV4dGVudCA6IGZhbHNlO1xuXG4gIGNvbnN0IHByb2plY3Rpb24gPSBjcmVhdGVQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbiwgJ0VQU0c6Mzg1NycpO1xuICBjb25zdCBwcm9qRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgbGV0IGNvbnN0cmFpbk9ubHlDZW50ZXIgPSBvcHRpb25zLmNvbnN0cmFpbk9ubHlDZW50ZXI7XG4gIGxldCBleHRlbnQgPSBvcHRpb25zLmV4dGVudDtcbiAgaWYgKCFtdWx0aVdvcmxkICYmICFleHRlbnQgJiYgcHJvamVjdGlvbi5pc0dsb2JhbCgpKSB7XG4gICAgY29uc3RyYWluT25seUNlbnRlciA9IGZhbHNlO1xuICAgIGV4dGVudCA9IHByb2pFeHRlbnQ7XG4gIH1cblxuICBpZiAob3B0aW9ucy5yZXNvbHV0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgcmVzb2x1dGlvbnMgPSBvcHRpb25zLnJlc29sdXRpb25zO1xuICAgIG1heFJlc29sdXRpb24gPSByZXNvbHV0aW9uc1ttaW5ab29tXTtcbiAgICBtaW5SZXNvbHV0aW9uID1cbiAgICAgIHJlc29sdXRpb25zW21heFpvb21dICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyByZXNvbHV0aW9uc1ttYXhab29tXVxuICAgICAgICA6IHJlc29sdXRpb25zW3Jlc29sdXRpb25zLmxlbmd0aCAtIDFdO1xuXG4gICAgaWYgKG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvbikge1xuICAgICAgcmVzb2x1dGlvbkNvbnN0cmFpbnQgPSBjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucyhcbiAgICAgICAgcmVzb2x1dGlvbnMsXG4gICAgICAgIHNtb290aCxcbiAgICAgICAgIWNvbnN0cmFpbk9ubHlDZW50ZXIgJiYgZXh0ZW50LFxuICAgICAgICBzaG93RnVsbEV4dGVudFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x1dGlvbkNvbnN0cmFpbnQgPSBjcmVhdGVNaW5NYXhSZXNvbHV0aW9uKFxuICAgICAgICBtYXhSZXNvbHV0aW9uLFxuICAgICAgICBtaW5SZXNvbHV0aW9uLFxuICAgICAgICBzbW9vdGgsXG4gICAgICAgICFjb25zdHJhaW5Pbmx5Q2VudGVyICYmIGV4dGVudCxcbiAgICAgICAgc2hvd0Z1bGxFeHRlbnRcbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGNhbGN1bGF0ZSB0aGUgZGVmYXVsdCBtaW4gYW5kIG1heCByZXNvbHV0aW9uXG4gICAgY29uc3Qgc2l6ZSA9ICFwcm9qRXh0ZW50XG4gICAgICA/IC8vIHVzZSBhbiBleHRlbnQgdGhhdCBjYW4gZml0IHRoZSB3aG9sZSB3b3JsZCBpZiBuZWVkIGJlXG4gICAgICAgICgzNjAgKiBNRVRFUlNfUEVSX1VOSVQuZGVncmVlcykgLyBwcm9qZWN0aW9uLmdldE1ldGVyc1BlclVuaXQoKVxuICAgICAgOiBNYXRoLm1heChnZXRXaWR0aChwcm9qRXh0ZW50KSwgZ2V0SGVpZ2h0KHByb2pFeHRlbnQpKTtcblxuICAgIGNvbnN0IGRlZmF1bHRNYXhSZXNvbHV0aW9uID1cbiAgICAgIHNpemUgLyBERUZBVUxUX1RJTEVfU0laRSAvIE1hdGgucG93KGRlZmF1bHRab29tRmFjdG9yLCBERUZBVUxUX01JTl9aT09NKTtcblxuICAgIGNvbnN0IGRlZmF1bHRNaW5SZXNvbHV0aW9uID1cbiAgICAgIGRlZmF1bHRNYXhSZXNvbHV0aW9uIC9cbiAgICAgIE1hdGgucG93KGRlZmF1bHRab29tRmFjdG9yLCBkZWZhdWx0TWF4Wm9vbSAtIERFRkFVTFRfTUlOX1pPT00pO1xuXG4gICAgLy8gdXNlciBwcm92aWRlZCBtYXhSZXNvbHV0aW9uIHRha2VzIHByZWNlZGVuY2VcbiAgICBtYXhSZXNvbHV0aW9uID0gb3B0aW9ucy5tYXhSZXNvbHV0aW9uO1xuICAgIGlmIChtYXhSZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1pblpvb20gPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXhSZXNvbHV0aW9uID0gZGVmYXVsdE1heFJlc29sdXRpb24gLyBNYXRoLnBvdyh6b29tRmFjdG9yLCBtaW5ab29tKTtcbiAgICB9XG5cbiAgICAvLyB1c2VyIHByb3ZpZGVkIG1pblJlc29sdXRpb24gdGFrZXMgcHJlY2VkZW5jZVxuICAgIG1pblJlc29sdXRpb24gPSBvcHRpb25zLm1pblJlc29sdXRpb247XG4gICAgaWYgKG1pblJlc29sdXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChvcHRpb25zLm1heFJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG1pblJlc29sdXRpb24gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coem9vbUZhY3RvciwgbWF4Wm9vbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWluUmVzb2x1dGlvbiA9IGRlZmF1bHRNYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coem9vbUZhY3RvciwgbWF4Wm9vbSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pblJlc29sdXRpb24gPSBkZWZhdWx0TWluUmVzb2x1dGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBnaXZlbiBkaXNjcmV0ZSB6b29tIGxldmVscywgbWluUmVzb2x1dGlvbiBtYXkgYmUgZGlmZmVyZW50IHRoYW4gcHJvdmlkZWRcbiAgICBtYXhab29tID1cbiAgICAgIG1pblpvb20gK1xuICAgICAgTWF0aC5mbG9vcihcbiAgICAgICAgTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIG1pblJlc29sdXRpb24pIC8gTWF0aC5sb2coem9vbUZhY3RvcilcbiAgICAgICk7XG4gICAgbWluUmVzb2x1dGlvbiA9IG1heFJlc29sdXRpb24gLyBNYXRoLnBvdyh6b29tRmFjdG9yLCBtYXhab29tIC0gbWluWm9vbSk7XG5cbiAgICBpZiAob3B0aW9ucy5jb25zdHJhaW5SZXNvbHV0aW9uKSB7XG4gICAgICByZXNvbHV0aW9uQ29uc3RyYWludCA9IGNyZWF0ZVNuYXBUb1Bvd2VyKFxuICAgICAgICB6b29tRmFjdG9yLFxuICAgICAgICBtYXhSZXNvbHV0aW9uLFxuICAgICAgICBtaW5SZXNvbHV0aW9uLFxuICAgICAgICBzbW9vdGgsXG4gICAgICAgICFjb25zdHJhaW5Pbmx5Q2VudGVyICYmIGV4dGVudCxcbiAgICAgICAgc2hvd0Z1bGxFeHRlbnRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlTWluTWF4UmVzb2x1dGlvbihcbiAgICAgICAgbWF4UmVzb2x1dGlvbixcbiAgICAgICAgbWluUmVzb2x1dGlvbixcbiAgICAgICAgc21vb3RoLFxuICAgICAgICAhY29uc3RyYWluT25seUNlbnRlciAmJiBleHRlbnQsXG4gICAgICAgIHNob3dGdWxsRXh0ZW50XG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIGNvbnN0cmFpbnQ6IHJlc29sdXRpb25Db25zdHJhaW50LFxuICAgIG1heFJlc29sdXRpb246IG1heFJlc29sdXRpb24sXG4gICAgbWluUmVzb2x1dGlvbjogbWluUmVzb2x1dGlvbixcbiAgICBtaW5ab29tOiBtaW5ab29tLFxuICAgIHpvb21GYWN0b3I6IHpvb21GYWN0b3IsXG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3JvdGF0aW9uY29uc3RyYWludC5qc1wiKS5UeXBlfSBSb3RhdGlvbiBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUm90YXRpb25Db25zdHJhaW50KG9wdGlvbnMpIHtcbiAgY29uc3QgZW5hYmxlUm90YXRpb24gPVxuICAgIG9wdGlvbnMuZW5hYmxlUm90YXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZW5hYmxlUm90YXRpb24gOiB0cnVlO1xuICBpZiAoZW5hYmxlUm90YXRpb24pIHtcbiAgICBjb25zdCBjb25zdHJhaW5Sb3RhdGlvbiA9IG9wdGlvbnMuY29uc3RyYWluUm90YXRpb247XG4gICAgaWYgKGNvbnN0cmFpblJvdGF0aW9uID09PSB1bmRlZmluZWQgfHwgY29uc3RyYWluUm90YXRpb24gPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBjcmVhdGVTbmFwVG9aZXJvKCk7XG4gICAgfSBlbHNlIGlmIChjb25zdHJhaW5Sb3RhdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiByb3RhdGlvbk5vbmU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uc3RyYWluUm90YXRpb24gPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gY3JlYXRlU25hcFRvTihjb25zdHJhaW5Sb3RhdGlvbik7XG4gICAgfVxuICAgIHJldHVybiByb3RhdGlvbk5vbmU7XG4gIH1cbiAgcmV0dXJuIGRpc2FibGU7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGFuIGFuaW1hdGlvbiBpbnZvbHZlcyBubyB2aWV3IGNoYW5nZS5cbiAqIEBwYXJhbSB7QW5pbWF0aW9ufSBhbmltYXRpb24gVGhlIGFuaW1hdGlvbi5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBhbmltYXRpb24gaW52b2x2ZXMgbm8gdmlldyBjaGFuZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc05vb3BBbmltYXRpb24oYW5pbWF0aW9uKSB7XG4gIGlmIChhbmltYXRpb24uc291cmNlQ2VudGVyICYmIGFuaW1hdGlvbi50YXJnZXRDZW50ZXIpIHtcbiAgICBpZiAoIWNvb3JkaW5hdGVzRXF1YWwoYW5pbWF0aW9uLnNvdXJjZUNlbnRlciwgYW5pbWF0aW9uLnRhcmdldENlbnRlcikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uICE9PSBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uICE9PSBhbmltYXRpb24udGFyZ2V0Um90YXRpb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBCb3ggcGl4ZWwgc2l6ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcG9zaXRpb24gUG9zaXRpb24gb24gdGhlIHZpZXcgdG8gY2VudGVyIG9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBTaGlmdGVkIGNlbnRlci5cbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlQ2VudGVyT24oY29vcmRpbmF0ZSwgc2l6ZSwgcG9zaXRpb24sIHJlc29sdXRpb24sIHJvdGF0aW9uKSB7XG4gIC8vIGNhbGN1bGF0ZSByb3RhdGVkIHBvc2l0aW9uXG4gIGNvbnN0IGNvc0FuZ2xlID0gTWF0aC5jb3MoLXJvdGF0aW9uKTtcbiAgbGV0IHNpbkFuZ2xlID0gTWF0aC5zaW4oLXJvdGF0aW9uKTtcbiAgbGV0IHJvdFggPSBjb29yZGluYXRlWzBdICogY29zQW5nbGUgLSBjb29yZGluYXRlWzFdICogc2luQW5nbGU7XG4gIGxldCByb3RZID0gY29vcmRpbmF0ZVsxXSAqIGNvc0FuZ2xlICsgY29vcmRpbmF0ZVswXSAqIHNpbkFuZ2xlO1xuICByb3RYICs9IChzaXplWzBdIC8gMiAtIHBvc2l0aW9uWzBdKSAqIHJlc29sdXRpb247XG4gIHJvdFkgKz0gKHBvc2l0aW9uWzFdIC0gc2l6ZVsxXSAvIDIpICogcmVzb2x1dGlvbjtcblxuICAvLyBnbyBiYWNrIHRvIG9yaWdpbmFsIGFuZ2xlXG4gIHNpbkFuZ2xlID0gLXNpbkFuZ2xlOyAvLyBnbyBiYWNrIHRvIG9yaWdpbmFsIHJvdGF0aW9uXG4gIGNvbnN0IGNlbnRlclggPSByb3RYICogY29zQW5nbGUgLSByb3RZICogc2luQW5nbGU7XG4gIGNvbnN0IGNlbnRlclkgPSByb3RZICogY29zQW5nbGUgKyByb3RYICogc2luQW5nbGU7XG5cbiAgcmV0dXJuIFtjZW50ZXJYLCBjZW50ZXJZXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlldztcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9WaWV3SGludFxuICovXG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBBTklNQVRJTkc6IDAsXG4gIElOVEVSQUNUSU5HOiAxLFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9hcnJheVxuICovXG5cbi8qKlxuICogUGVyZm9ybXMgYSBiaW5hcnkgc2VhcmNoIG9uIHRoZSBwcm92aWRlZCBzb3J0ZWQgbGlzdCBhbmQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGl0ZW0gaWYgZm91bmQuIElmIGl0IGNhbid0IGJlIGZvdW5kIGl0J2xsIHJldHVybiAtMS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrc2t5YXBwL2JpbmFyeS1zZWFyY2hcbiAqXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBoYXlzdGFjayBJdGVtcyB0byBzZWFyY2ggdGhyb3VnaC5cbiAqIEBwYXJhbSB7Kn0gbmVlZGxlIFRoZSBpdGVtIHRvIGxvb2sgZm9yLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIENvbXBhcmF0b3IgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgaXRlbSBpZiBmb3VuZCwgLTEgaWYgbm90LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoKGhheXN0YWNrLCBuZWVkbGUsIGNvbXBhcmF0b3IpIHtcbiAgbGV0IG1pZCwgY21wO1xuICBjb21wYXJhdG9yID0gY29tcGFyYXRvciB8fCBhc2NlbmRpbmc7XG4gIGxldCBsb3cgPSAwO1xuICBsZXQgaGlnaCA9IGhheXN0YWNrLmxlbmd0aDtcbiAgbGV0IGZvdW5kID0gZmFsc2U7XG5cbiAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAvKiBOb3RlIHRoYXQgXCIobG93ICsgaGlnaCkgPj4+IDFcIiBtYXkgb3ZlcmZsb3csIGFuZCByZXN1bHRzIGluIGEgdHlwZWNhc3RcbiAgICAgKiB0byBkb3VibGUgKHdoaWNoIGdpdmVzIHRoZSB3cm9uZyByZXN1bHRzKS4gKi9cbiAgICBtaWQgPSBsb3cgKyAoKGhpZ2ggLSBsb3cpID4+IDEpO1xuICAgIGNtcCA9ICtjb21wYXJhdG9yKGhheXN0YWNrW21pZF0sIG5lZWRsZSk7XG5cbiAgICBpZiAoY21wIDwgMC4wKSB7XG4gICAgICAvKiBUb28gbG93LiAqL1xuICAgICAgbG93ID0gbWlkICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyogS2V5IGZvdW5kIG9yIHRvbyBoaWdoICovXG4gICAgICBoaWdoID0gbWlkO1xuICAgICAgZm91bmQgPSAhY21wO1xuICAgIH1cbiAgfVxuXG4gIC8qIEtleSBub3QgZm91bmQuICovXG4gIHJldHVybiBmb3VuZCA/IGxvdyA6IH5sb3c7XG59XG5cbi8qKlxuICogQ29tcGFyZSBmdW5jdGlvbiBzb3J0aW5nIGFycmF5cyBpbiBhc2NlbmRpbmcgb3JkZXIuICBTYWZlIHRvIHVzZSBmb3IgbnVtZXJpYyB2YWx1ZXMuXG4gKiBAcGFyYW0geyp9IGEgVGhlIGZpcnN0IG9iamVjdCB0byBiZSBjb21wYXJlZC5cbiAqIEBwYXJhbSB7Kn0gYiBUaGUgc2Vjb25kIG9iamVjdCB0byBiZSBjb21wYXJlZC5cbiAqIEByZXR1cm4ge251bWJlcn0gQSBuZWdhdGl2ZSBudW1iZXIsIHplcm8sIG9yIGEgcG9zaXRpdmUgbnVtYmVyIGFzIHRoZSBmaXJzdFxuICogICAgIGFyZ3VtZW50IGlzIGxlc3MgdGhhbiwgZXF1YWwgdG8sIG9yIGdyZWF0ZXIgdGhhbiB0aGUgc2Vjb25kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNjZW5kaW5nKGEsIGIpIHtcbiAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xufVxuXG4vKipcbiAqIHtAbGluayBtb2R1bGU6b2wvdGlsZWdyaWQvVGlsZUdyaWR+VGlsZUdyaWQjZ2V0WkZvclJlc29sdXRpb259IGNhbiB1c2UgYSBmdW5jdGlvblxuICogb2YgdGhpcyB0eXBlIHRvIGRldGVybWluZSB3aGljaCBuZWFyZXN0IHJlc29sdXRpb24gdG8gdXNlLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYSBge251bWJlcn1gIHJlcHJlc2VudGluZyBhIHZhbHVlIGJldHdlZW4gdHdvIGFycmF5IGVudHJpZXMsXG4gKiBhIGB7bnVtYmVyfWAgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGUgbmVhcmVzdCBoaWdoZXIgZW50cnkgYW5kXG4gKiBhIGB7bnVtYmVyfWAgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGUgbmVhcmVzdCBsb3dlciBlbnRyeVxuICogYXMgYXJndW1lbnRzIGFuZCByZXR1cm5zIGEgYHtudW1iZXJ9YC4gSWYgYSBuZWdhdGl2ZSBudW1iZXIgb3IgemVybyBpcyByZXR1cm5lZFxuICogdGhlIGxvd2VyIHZhbHVlIHdpbGwgYmUgdXNlZCwgaWYgYSBwb3NpdGl2ZSBudW1iZXIgaXMgcmV0dXJuZWQgdGhlIGhpZ2hlciB2YWx1ZVxuICogd2lsbCBiZSB1c2VkLlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKG51bWJlciwgbnVtYmVyLCBudW1iZXIpOiBudW1iZXJ9IE5lYXJlc3REaXJlY3Rpb25GdW5jdGlvblxuICogQGFwaVxuICovXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBhcnIgQXJyYXkgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXQgVGFyZ2V0LlxuICogQHBhcmFtIHtudW1iZXJ8TmVhcmVzdERpcmVjdGlvbkZ1bmN0aW9ufSBkaXJlY3Rpb25cbiAqICAgIDAgbWVhbnMgcmV0dXJuIHRoZSBuZWFyZXN0LFxuICogICAgPiAwIG1lYW5zIHJldHVybiB0aGUgbGFyZ2VzdCBuZWFyZXN0LFxuICogICAgPCAwIG1lYW5zIHJldHVybiB0aGUgc21hbGxlc3QgbmVhcmVzdC5cbiAqIEByZXR1cm4ge251bWJlcn0gSW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJGaW5kTmVhcmVzdChhcnIsIHRhcmdldCwgZGlyZWN0aW9uKSB7XG4gIGNvbnN0IG4gPSBhcnIubGVuZ3RoO1xuICBpZiAoYXJyWzBdIDw9IHRhcmdldCkge1xuICAgIHJldHVybiAwO1xuICB9IGVsc2UgaWYgKHRhcmdldCA8PSBhcnJbbiAtIDFdKSB7XG4gICAgcmV0dXJuIG4gLSAxO1xuICB9XG4gIGxldCBpO1xuICBpZiAoZGlyZWN0aW9uID4gMCkge1xuICAgIGZvciAoaSA9IDE7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChhcnJbaV0gPCB0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIGkgLSAxO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPCAwKSB7XG4gICAgZm9yIChpID0gMTsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKGFycltpXSA8PSB0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAoaSA9IDE7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChhcnJbaV0gPT0gdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfSBlbHNlIGlmIChhcnJbaV0gPCB0YXJnZXQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkaXJlY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBpZiAoZGlyZWN0aW9uKHRhcmdldCwgYXJyW2kgLSAxXSwgYXJyW2ldKSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBpIC0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXJyW2kgLSAxXSAtIHRhcmdldCA8IHRhcmdldCAtIGFycltpXSkge1xuICAgICAgICAgIHJldHVybiBpIC0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG4gLSAxO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBBcnJheS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbiBCZWdpbiBpbmRleC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kIGluZGV4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmV2ZXJzZVN1YkFycmF5KGFyciwgYmVnaW4sIGVuZCkge1xuICB3aGlsZSAoYmVnaW4gPCBlbmQpIHtcbiAgICBjb25zdCB0bXAgPSBhcnJbYmVnaW5dO1xuICAgIGFycltiZWdpbl0gPSBhcnJbZW5kXTtcbiAgICBhcnJbZW5kXSA9IHRtcDtcbiAgICArK2JlZ2luO1xuICAgIC0tZW5kO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxWQUxVRT59IGFyciBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHshQXJyYXk8VkFMVUU+fFZBTFVFfSBkYXRhIFRoZSBlbGVtZW50cyBvciBhcnJheXMgb2YgZWxlbWVudHMgdG8gYWRkIHRvIGFyci5cbiAqIEB0ZW1wbGF0ZSBWQUxVRVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKGFyciwgZGF0YSkge1xuICBjb25zdCBleHRlbnNpb24gPSBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YSA6IFtkYXRhXTtcbiAgY29uc3QgbGVuZ3RoID0gZXh0ZW5zaW9uLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGFyclthcnIubGVuZ3RoXSA9IGV4dGVuc2lvbltpXTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8VkFMVUU+fSBhcnIgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7VkFMVUV9IG9iaiBUaGUgZWxlbWVudCB0byByZW1vdmUuXG4gKiBAdGVtcGxhdGUgVkFMVUVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBlbGVtZW50IHdhcyByZW1vdmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKGFyciwgb2JqKSB7XG4gIGNvbnN0IGkgPSBhcnIuaW5kZXhPZihvYmopO1xuICBjb25zdCBmb3VuZCA9IGkgPiAtMTtcbiAgaWYgKGZvdW5kKSB7XG4gICAgYXJyLnNwbGljZShpLCAxKTtcbiAgfVxuICByZXR1cm4gZm91bmQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheXxVaW50OENsYW1wZWRBcnJheX0gYXJyMSBUaGUgZmlyc3QgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7QXJyYXl8VWludDhDbGFtcGVkQXJyYXl9IGFycjIgVGhlIHNlY29uZCBhcnJheSB0byBjb21wYXJlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgdHdvIGFycmF5cyBhcmUgZXF1YWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYXJyMSwgYXJyMikge1xuICBjb25zdCBsZW4xID0gYXJyMS5sZW5ndGg7XG4gIGlmIChsZW4xICE9PSBhcnIyLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjE7IGkrKykge1xuICAgIGlmIChhcnIxW2ldICE9PSBhcnIyW2ldKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFNvcnQgdGhlIHBhc3NlZCBhcnJheSBzdWNoIHRoYXQgdGhlIHJlbGF0aXZlIG9yZGVyIG9mIGVxdWFsIGVsZW1lbnRzIGlzIHByZXNlcnZlZC5cbiAqIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Tb3J0aW5nX2FsZ29yaXRobSNTdGFiaWxpdHkgZm9yIGRldGFpbHMuXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBhcnIgVGhlIGFycmF5IHRvIHNvcnQgKG1vZGlmaWVzIG9yaWdpbmFsKS5cbiAqIEBwYXJhbSB7IWZ1bmN0aW9uKCosICopOiBudW1iZXJ9IGNvbXBhcmVGbmMgQ29tcGFyaXNvbiBmdW5jdGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YWJsZVNvcnQoYXJyLCBjb21wYXJlRm5jKSB7XG4gIGNvbnN0IGxlbmd0aCA9IGFyci5sZW5ndGg7XG4gIGNvbnN0IHRtcCA9IEFycmF5KGFyci5sZW5ndGgpO1xuICBsZXQgaTtcbiAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdG1wW2ldID0ge2luZGV4OiBpLCB2YWx1ZTogYXJyW2ldfTtcbiAgfVxuICB0bXAuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBjb21wYXJlRm5jKGEudmFsdWUsIGIudmFsdWUpIHx8IGEuaW5kZXggLSBiLmluZGV4O1xuICB9KTtcbiAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGFycltpXSA9IHRtcFtpXS52YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgYXJyYXkgdG8gdGVzdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSBDb21wYXJpc29uIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtib29sZWFufSBbc3RyaWN0XSBTdHJpY3RseSBzb3J0ZWQgKGRlZmF1bHQgZmFsc2UpLlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJuIGluZGV4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTb3J0ZWQoYXJyLCBmdW5jLCBzdHJpY3QpIHtcbiAgY29uc3QgY29tcGFyZSA9IGZ1bmMgfHwgYXNjZW5kaW5nO1xuICByZXR1cm4gYXJyLmV2ZXJ5KGZ1bmN0aW9uIChjdXJyZW50VmFsLCBpbmRleCkge1xuICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IGNvbXBhcmUoYXJyW2luZGV4IC0gMV0sIGN1cnJlbnRWYWwpO1xuICAgIHJldHVybiAhKHJlcyA+IDAgfHwgKHN0cmljdCAmJiByZXMgPT09IDApKTtcbiAgfSk7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvYXNzZXJ0c1xuICovXG5pbXBvcnQgQXNzZXJ0aW9uRXJyb3IgZnJvbSAnLi9Bc3NlcnRpb25FcnJvci5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHsqfSBhc3NlcnRpb24gQXNzZXJ0aW9uIHdlIGV4cGVjdGVkIHRvIGJlIHRydXRoeS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlcnJvckNvZGUgRXJyb3IgY29kZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChhc3NlcnRpb24sIGVycm9yQ29kZSkge1xuICBpZiAoIWFzc2VydGlvbikge1xuICAgIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcihlcnJvckNvZGUpO1xuICB9XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvY29sb3JcbiAqL1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge2NsYW1wfSBmcm9tICcuL21hdGguanMnO1xuXG4vKipcbiAqIEEgY29sb3IgcmVwcmVzZW50ZWQgYXMgYSBzaG9ydCBhcnJheSBbcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGFdLlxuICogcmVkLCBncmVlbiwgYW5kIGJsdWUgc2hvdWxkIGJlIGludGVnZXJzIGluIHRoZSByYW5nZSAwLi4yNTUgaW5jbHVzaXZlLlxuICogYWxwaGEgc2hvdWxkIGJlIGEgZmxvYXQgaW4gdGhlIHJhbmdlIDAuLjEgaW5jbHVzaXZlLiBJZiBubyBhbHBoYSB2YWx1ZSBpc1xuICogZ2l2ZW4gdGhlbiBgMWAgd2lsbCBiZSB1c2VkLlxuICogQHR5cGVkZWYge0FycmF5PG51bWJlcj59IENvbG9yXG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiBUaGlzIFJlZ0V4cCBtYXRjaGVzICMgZm9sbG93ZWQgYnkgMywgNCwgNiwgb3IgOCBoZXggZGlnaXRzLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgSEVYX0NPTE9SX1JFXyA9IC9eIyhbYS1mMC05XXszfXxbYS1mMC05XXs0fSg/OlthLWYwLTldezJ9KXswLDJ9KSQvaTtcblxuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gZm9yIG1hdGNoaW5nIHBvdGVudGlhbCBuYW1lZCBjb2xvciBzdHlsZSBzdHJpbmdzLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgTkFNRURfQ09MT1JfUkVfID0gL14oW2Etel0qKSR8XmhzbGE/XFwoLipcXCkkL2k7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBjb2xvciBhcyBhbiByZ2JhIHN0cmluZy5cbiAqIEBwYXJhbSB7Q29sb3J8c3RyaW5nfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge3N0cmluZ30gUmdiYSBzdHJpbmcuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc1N0cmluZyhjb2xvcikge1xuICBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBjb2xvcjtcbiAgfVxuICByZXR1cm4gdG9TdHJpbmcoY29sb3IpO1xufVxuXG4vKipcbiAqIFJldHVybiBuYW1lZCBjb2xvciBhcyBhbiByZ2JhIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciBOYW1lZCBjb2xvci5cbiAqIEByZXR1cm4ge3N0cmluZ30gUmdiIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZnJvbU5hbWVkKGNvbG9yKSB7XG4gIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGVsLnN0eWxlLmNvbG9yID0gY29sb3I7XG4gIGlmIChlbC5zdHlsZS5jb2xvciAhPT0gJycpIHtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsKTtcbiAgICBjb25zdCByZ2IgPSBnZXRDb21wdXRlZFN0eWxlKGVsKS5jb2xvcjtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsKTtcbiAgICByZXR1cm4gcmdiO1xuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcyBTdHJpbmcuXG4gKiBAcmV0dXJuIHtDb2xvcn0gQ29sb3IuXG4gKi9cbmV4cG9ydCBjb25zdCBmcm9tU3RyaW5nID0gKGZ1bmN0aW9uICgpIHtcbiAgLy8gV2UgbWFpbnRhaW4gYSBzbWFsbCBjYWNoZSBvZiBwYXJzZWQgc3RyaW5ncy4gIFRvIHByb3ZpZGUgY2hlYXAgTFJVLWxpa2VcbiAgLy8gc2VtYW50aWNzLCB3aGVuZXZlciB0aGUgY2FjaGUgZ3Jvd3MgdG9vIGxhcmdlIHdlIHNpbXBseSBkZWxldGUgYW5cbiAgLy8gYXJiaXRyYXJ5IDI1JSBvZiB0aGUgZW50cmllcy5cblxuICAvKipcbiAgICogQGNvbnN0XG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBjb25zdCBNQVhfQ0FDSEVfU0laRSA9IDEwMjQ7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBDb2xvcj59XG4gICAqL1xuICBjb25zdCBjYWNoZSA9IHt9O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgbGV0IGNhY2hlU2l6ZSA9IDA7XG5cbiAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcyBTdHJpbmcuXG4gICAgICogQHJldHVybiB7Q29sb3J9IENvbG9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChzKSB7XG4gICAgICBsZXQgY29sb3I7XG4gICAgICBpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkocykpIHtcbiAgICAgICAgY29sb3IgPSBjYWNoZVtzXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjYWNoZVNpemUgPj0gTUFYX0NBQ0hFX1NJWkUpIHtcbiAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgIGlmICgoaSsrICYgMykgPT09IDApIHtcbiAgICAgICAgICAgICAgZGVsZXRlIGNhY2hlW2tleV07XG4gICAgICAgICAgICAgIC0tY2FjaGVTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb2xvciA9IGZyb21TdHJpbmdJbnRlcm5hbF8ocyk7XG4gICAgICAgIGNhY2hlW3NdID0gY29sb3I7XG4gICAgICAgICsrY2FjaGVTaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbiAgKTtcbn0pKCk7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBjb2xvciBhcyBhbiBhcnJheS4gVGhpcyBmdW5jdGlvbiBtYWludGFpbnMgYSBjYWNoZSBvZiBjYWxjdWxhdGVkXG4gKiBhcnJheXMgd2hpY2ggbWVhbnMgdGhlIHJlc3VsdCBzaG91bGQgbm90IGJlIG1vZGlmaWVkLlxuICogQHBhcmFtIHtDb2xvcnxzdHJpbmd9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7Q29sb3J9IENvbG9yLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNBcnJheShjb2xvcikge1xuICBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH1cbiAgcmV0dXJuIGZyb21TdHJpbmcoY29sb3IpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzIFN0cmluZy5cbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtDb2xvcn0gQ29sb3IuXG4gKi9cbmZ1bmN0aW9uIGZyb21TdHJpbmdJbnRlcm5hbF8ocykge1xuICBsZXQgciwgZywgYiwgYSwgY29sb3I7XG5cbiAgaWYgKE5BTUVEX0NPTE9SX1JFXy5leGVjKHMpKSB7XG4gICAgcyA9IGZyb21OYW1lZChzKTtcbiAgfVxuXG4gIGlmIChIRVhfQ09MT1JfUkVfLmV4ZWMocykpIHtcbiAgICAvLyBoZXhcbiAgICBjb25zdCBuID0gcy5sZW5ndGggLSAxOyAvLyBudW1iZXIgb2YgaGV4IGRpZ2l0c1xuICAgIGxldCBkOyAvLyBudW1iZXIgb2YgZGlnaXRzIHBlciBjaGFubmVsXG4gICAgaWYgKG4gPD0gNCkge1xuICAgICAgZCA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGQgPSAyO1xuICAgIH1cbiAgICBjb25zdCBoYXNBbHBoYSA9IG4gPT09IDQgfHwgbiA9PT0gODtcbiAgICByID0gcGFyc2VJbnQocy5zdWJzdHIoMSArIDAgKiBkLCBkKSwgMTYpO1xuICAgIGcgPSBwYXJzZUludChzLnN1YnN0cigxICsgMSAqIGQsIGQpLCAxNik7XG4gICAgYiA9IHBhcnNlSW50KHMuc3Vic3RyKDEgKyAyICogZCwgZCksIDE2KTtcbiAgICBpZiAoaGFzQWxwaGEpIHtcbiAgICAgIGEgPSBwYXJzZUludChzLnN1YnN0cigxICsgMyAqIGQsIGQpLCAxNik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGEgPSAyNTU7XG4gICAgfVxuICAgIGlmIChkID09IDEpIHtcbiAgICAgIHIgPSAociA8PCA0KSArIHI7XG4gICAgICBnID0gKGcgPDwgNCkgKyBnO1xuICAgICAgYiA9IChiIDw8IDQpICsgYjtcbiAgICAgIGlmIChoYXNBbHBoYSkge1xuICAgICAgICBhID0gKGEgPDwgNCkgKyBhO1xuICAgICAgfVxuICAgIH1cbiAgICBjb2xvciA9IFtyLCBnLCBiLCBhIC8gMjU1XTtcbiAgfSBlbHNlIGlmIChzLnN0YXJ0c1dpdGgoJ3JnYmEoJykpIHtcbiAgICAvLyByZ2JhKClcbiAgICBjb2xvciA9IHMuc2xpY2UoNSwgLTEpLnNwbGl0KCcsJykubWFwKE51bWJlcik7XG4gICAgbm9ybWFsaXplKGNvbG9yKTtcbiAgfSBlbHNlIGlmIChzLnN0YXJ0c1dpdGgoJ3JnYignKSkge1xuICAgIC8vIHJnYigpXG4gICAgY29sb3IgPSBzLnNsaWNlKDQsIC0xKS5zcGxpdCgnLCcpLm1hcChOdW1iZXIpO1xuICAgIGNvbG9yLnB1c2goMSk7XG4gICAgbm9ybWFsaXplKGNvbG9yKTtcbiAgfSBlbHNlIHtcbiAgICBhc3NlcnQoZmFsc2UsIDE0KTsgLy8gSW52YWxpZCBjb2xvclxuICB9XG4gIHJldHVybiBjb2xvcjtcbn1cblxuLyoqXG4gKiBUT0RPIHRoaXMgZnVuY3Rpb24gaXMgb25seSB1c2VkIGluIHRoZSB0ZXN0LCB3ZSBwcm9iYWJseSBzaG91bGRuJ3QgZXhwb3J0IGl0XG4gKiBAcGFyYW0ge0NvbG9yfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge0NvbG9yfSBDbGFtcGVkIGNvbG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKGNvbG9yKSB7XG4gIGNvbG9yWzBdID0gY2xhbXAoKGNvbG9yWzBdICsgMC41KSB8IDAsIDAsIDI1NSk7XG4gIGNvbG9yWzFdID0gY2xhbXAoKGNvbG9yWzFdICsgMC41KSB8IDAsIDAsIDI1NSk7XG4gIGNvbG9yWzJdID0gY2xhbXAoKGNvbG9yWzJdICsgMC41KSB8IDAsIDAsIDI1NSk7XG4gIGNvbG9yWzNdID0gY2xhbXAoY29sb3JbM10sIDAsIDEpO1xuICByZXR1cm4gY29sb3I7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb2xvcn0gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3RyaW5nKGNvbG9yKSB7XG4gIGxldCByID0gY29sb3JbMF07XG4gIGlmIChyICE9IChyIHwgMCkpIHtcbiAgICByID0gKHIgKyAwLjUpIHwgMDtcbiAgfVxuICBsZXQgZyA9IGNvbG9yWzFdO1xuICBpZiAoZyAhPSAoZyB8IDApKSB7XG4gICAgZyA9IChnICsgMC41KSB8IDA7XG4gIH1cbiAgbGV0IGIgPSBjb2xvclsyXTtcbiAgaWYgKGIgIT0gKGIgfCAwKSkge1xuICAgIGIgPSAoYiArIDAuNSkgfCAwO1xuICB9XG4gIGNvbnN0IGEgPSBjb2xvclszXSA9PT0gdW5kZWZpbmVkID8gMSA6IE1hdGgucm91bmQoY29sb3JbM10gKiAxMDApIC8gMTAwO1xuICByZXR1cm4gJ3JnYmEoJyArIHIgKyAnLCcgKyBnICsgJywnICsgYiArICcsJyArIGEgKyAnKSc7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHMgU3RyaW5nLlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgc3RyaW5nIGlzIGFjdHVhbGx5IGEgdmFsaWQgY29sb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nQ29sb3Iocykge1xuICBpZiAoTkFNRURfQ09MT1JfUkVfLnRlc3QocykpIHtcbiAgICBzID0gZnJvbU5hbWVkKHMpO1xuICB9XG4gIHJldHVybiBIRVhfQ09MT1JfUkVfLnRlc3QocykgfHwgcy5zdGFydHNXaXRoKCdyZ2JhKCcpIHx8IHMuc3RhcnRzV2l0aCgncmdiKCcpO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbG9ybGlrZVxuICovXG5pbXBvcnQge3RvU3RyaW5nfSBmcm9tICcuL2NvbG9yLmpzJztcblxuLyoqXG4gKiBBIHR5cGUgYWNjZXB0ZWQgYnkgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELmZpbGxTdHlsZVxuICogb3IgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnN0cm9rZVN0eWxlLlxuICogUmVwcmVzZW50cyBhIGNvbG9yLCBwYXR0ZXJuLCBvciBncmFkaWVudC4gVGhlIG9yaWdpbiBmb3IgcGF0dGVybnMgYW5kXG4gKiBncmFkaWVudHMgYXMgZmlsbCBzdHlsZSBpcyBhbiBpbmNyZW1lbnQgb2YgNTEyIGNzcyBwaXhlbHMgZnJvbSBtYXAgY29vcmRpbmF0ZVxuICogYFswLCAwXWAuIEZvciBzZWFtbGVzcyByZXBlYXQgcGF0dGVybnMsIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHBhdHRlcm4gaW1hZ2VcbiAqIG11c3QgYmUgYSBmYWN0b3Igb2YgdHdvICgyLCA0LCA4LCAuLi4sIDUxMikuXG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xDYW52YXNQYXR0ZXJufENhbnZhc0dyYWRpZW50fSBDb2xvckxpa2VcbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb2xvci5qc1wiKS5Db2xvcnxDb2xvckxpa2V9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7Q29sb3JMaWtlfSBUaGUgY29sb3IgYXMgYW4ge0BsaW5rIG9sL2NvbG9ybGlrZX5Db2xvckxpa2V9LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNDb2xvckxpa2UoY29sb3IpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nKGNvbG9yKTtcbiAgfVxuICByZXR1cm4gY29sb3I7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvY29uc29sZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeydpbmZvJ3wnd2Fybid8J2Vycm9yJ3wnbm9uZSd9IExldmVsXG4gKi9cblxuLyoqXG4gKiBAdHlwZSB7T2JqZWN0PExldmVsLCBudW1iZXI+fVxuICovXG5jb25zdCBsZXZlbHMgPSB7XG4gIGluZm86IDEsXG4gIHdhcm46IDIsXG4gIGVycm9yOiAzLFxuICBub25lOiA0LFxufTtcblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5sZXQgbGV2ZWwgPSBsZXZlbHMuaW5mbztcblxuLyoqXG4gKiBTZXQgdGhlIGxvZ2dpbmcgbGV2ZWwuICBCeSBkZWZhdWx0LCB0aGUgbGV2ZWwgaXMgc2V0IHRvICdpbmZvJyBhbmQgYWxsXG4gKiBtZXNzYWdlcyB3aWxsIGJlIGxvZ2dlZC4gIFNldCB0byAnd2FybicgdG8gb25seSBkaXNwbGF5IHdhcm5pbmdzIGFuZCBlcnJvcnMuXG4gKiBTZXQgdG8gJ2Vycm9yJyB0byBvbmx5IGRpc3BsYXkgZXJyb3JzLiAgU2V0IHRvICdub25lJyB0byBzaWxlbmNlIGFsbCBtZXNzYWdlcy5cbiAqXG4gKiBAcGFyYW0ge0xldmVsfSBsIFRoZSBuZXcgbGV2ZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRMZXZlbChsKSB7XG4gIGxldmVsID0gbGV2ZWxzW2xdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nKC4uLmFyZ3MpIHtcbiAgaWYgKGxldmVsID4gbGV2ZWxzLmluZm8pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc29sZS5sb2coLi4uYXJncyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd2FybiguLi5hcmdzKSB7XG4gIGlmIChsZXZlbCA+IGxldmVscy53YXJuKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUud2FybiguLi5hcmdzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlcnJvciguLi5hcmdzKSB7XG4gIGlmIChsZXZlbCA+IGxldmVscy5lcnJvcikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zb2xlLmVycm9yKC4uLmFyZ3MpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9jb29yZGluYXRlXG4gKi9cbmltcG9ydCB7Z2V0V2lkdGh9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7bW9kdWxvLCB0b0ZpeGVkfSBmcm9tICcuL21hdGguanMnO1xuaW1wb3J0IHtwYWROdW1iZXJ9IGZyb20gJy4vc3RyaW5nLmpzJztcblxuLyoqXG4gKiBBbiBhcnJheSBvZiBudW1iZXJzIHJlcHJlc2VudGluZyBhbiB4eSBjb29yZGluYXRlLiBFeGFtcGxlOiBgWzE2LCA0OF1gLlxuICogQHR5cGVkZWYge0FycmF5PG51bWJlcj59IENvb3JkaW5hdGVcbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlfSBhbmRcbiAqIHRyYW5zZm9ybXMgaXQgaW50byBhIGB7c3RyaW5nfWAuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChDb29yZGluYXRlfHVuZGVmaW5lZCkpOiBzdHJpbmd9IENvb3JkaW5hdGVGb3JtYXRcbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIEFkZCBgZGVsdGFgIHRvIGBjb29yZGluYXRlYC4gYGNvb3JkaW5hdGVgIGlzIG1vZGlmaWVkIGluIHBsYWNlIGFuZCByZXR1cm5lZFxuICogYnkgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIGltcG9ydCB7YWRkfSBmcm9tICdvbC9jb29yZGluYXRlLmpzJztcbiAqXG4gKiAgICAgY29uc3QgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBhZGQoY29vcmQsIFstMiwgNF0pO1xuICogICAgIC8vIGNvb3JkIGlzIG5vdyBbNS44NSwgNTEuOTgzMzMzXVxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBkZWx0YSBEZWx0YS5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IFRoZSBpbnB1dCBjb29yZGluYXRlIGFkanVzdGVkIGJ5XG4gKiB0aGUgZ2l2ZW4gZGVsdGEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoY29vcmRpbmF0ZSwgZGVsdGEpIHtcbiAgY29vcmRpbmF0ZVswXSArPSArZGVsdGFbMF07XG4gIGNvb3JkaW5hdGVbMV0gKz0gK2RlbHRhWzFdO1xuICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBwb2ludCBjbG9zZXN0IHRvIHRoZSBwYXNzZWQgY29vcmRpbmF0ZSBvbiB0aGUgcGFzc2VkIGNpcmNsZS5cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgVGhlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gY2lyY2xlIFRoZSBjaXJjbGUuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBDbG9zZXN0IHBvaW50IG9uIHRoZSBjaXJjdW1mZXJlbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdE9uQ2lyY2xlKGNvb3JkaW5hdGUsIGNpcmNsZSkge1xuICBjb25zdCByID0gY2lyY2xlLmdldFJhZGl1cygpO1xuICBjb25zdCBjZW50ZXIgPSBjaXJjbGUuZ2V0Q2VudGVyKCk7XG4gIGNvbnN0IHgwID0gY2VudGVyWzBdO1xuICBjb25zdCB5MCA9IGNlbnRlclsxXTtcbiAgY29uc3QgeDEgPSBjb29yZGluYXRlWzBdO1xuICBjb25zdCB5MSA9IGNvb3JkaW5hdGVbMV07XG5cbiAgbGV0IGR4ID0geDEgLSB4MDtcbiAgY29uc3QgZHkgPSB5MSAtIHkwO1xuICBpZiAoZHggPT09IDAgJiYgZHkgPT09IDApIHtcbiAgICBkeCA9IDE7XG4gIH1cbiAgY29uc3QgZCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgY29uc3QgeCA9IHgwICsgKHIgKiBkeCkgLyBkO1xuICBjb25zdCB5ID0geTAgKyAociAqIGR5KSAvIGQ7XG5cbiAgcmV0dXJuIFt4LCB5XTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBwb2ludCBjbG9zZXN0IHRvIHRoZSBwYXNzZWQgY29vcmRpbmF0ZSBvbiB0aGUgcGFzc2VkIHNlZ21lbnQuXG4gKiBUaGlzIGlzIHRoZSBmb290IG9mIHRoZSBwZXJwZW5kaWN1bGFyIG9mIHRoZSBjb29yZGluYXRlIHRvIHRoZSBzZWdtZW50IHdoZW5cbiAqIHRoZSBmb290IGlzIG9uIHRoZSBzZWdtZW50LCBvciB0aGUgY2xvc2VzdCBzZWdtZW50IGNvb3JkaW5hdGUgd2hlbiB0aGUgZm9vdFxuICogaXMgb3V0c2lkZSB0aGUgc2VnbWVudC5cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgVGhlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0FycmF5PENvb3JkaW5hdGU+fSBzZWdtZW50IFRoZSB0d28gY29vcmRpbmF0ZXNcbiAqIG9mIHRoZSBzZWdtZW50LlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gVGhlIGZvb3Qgb2YgdGhlIHBlcnBlbmRpY3VsYXIgb2ZcbiAqIHRoZSBjb29yZGluYXRlIHRvIHRoZSBzZWdtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdE9uU2VnbWVudChjb29yZGluYXRlLCBzZWdtZW50KSB7XG4gIGNvbnN0IHgwID0gY29vcmRpbmF0ZVswXTtcbiAgY29uc3QgeTAgPSBjb29yZGluYXRlWzFdO1xuICBjb25zdCBzdGFydCA9IHNlZ21lbnRbMF07XG4gIGNvbnN0IGVuZCA9IHNlZ21lbnRbMV07XG4gIGNvbnN0IHgxID0gc3RhcnRbMF07XG4gIGNvbnN0IHkxID0gc3RhcnRbMV07XG4gIGNvbnN0IHgyID0gZW5kWzBdO1xuICBjb25zdCB5MiA9IGVuZFsxXTtcbiAgY29uc3QgZHggPSB4MiAtIHgxO1xuICBjb25zdCBkeSA9IHkyIC0geTE7XG4gIGNvbnN0IGFsb25nID1cbiAgICBkeCA9PT0gMCAmJiBkeSA9PT0gMFxuICAgICAgPyAwXG4gICAgICA6IChkeCAqICh4MCAtIHgxKSArIGR5ICogKHkwIC0geTEpKSAvIChkeCAqIGR4ICsgZHkgKiBkeSB8fCAwKTtcbiAgbGV0IHgsIHk7XG4gIGlmIChhbG9uZyA8PSAwKSB7XG4gICAgeCA9IHgxO1xuICAgIHkgPSB5MTtcbiAgfSBlbHNlIGlmIChhbG9uZyA+PSAxKSB7XG4gICAgeCA9IHgyO1xuICAgIHkgPSB5MjtcbiAgfSBlbHNlIHtcbiAgICB4ID0geDEgKyBhbG9uZyAqIGR4O1xuICAgIHkgPSB5MSArIGFsb25nICogZHk7XG4gIH1cbiAgcmV0dXJuIFt4LCB5XTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGVGb3JtYXR9IGZ1bmN0aW9uIHRoYXQgY2FuIGJlXG4gKiB1c2VkIHRvIGZvcm1hdFxuICogYSB7Q29vcmRpbmF0ZX0gdG8gYSBzdHJpbmcuXG4gKlxuICogRXhhbXBsZSB3aXRob3V0IHNwZWNpZnlpbmcgdGhlIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2NyZWF0ZVN0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlLmpzJztcbiAqXG4gKiAgICAgY29uc3QgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBjb25zdCBzdHJpbmdpZnlGdW5jID0gY3JlYXRlU3RyaW5nWFkoKTtcbiAqICAgICBjb25zdCBvdXQgPSBzdHJpbmdpZnlGdW5jKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc4LCA0OCdcbiAqXG4gKiBFeGFtcGxlIHdpdGggZXhwbGljaXRseSBzcGVjaWZ5aW5nIDIgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7Y3JlYXRlU3RyaW5nWFl9IGZyb20gJ29sL2Nvb3JkaW5hdGUuanMnO1xuICpcbiAqICAgICBjb25zdCBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIGNvbnN0IHN0cmluZ2lmeUZ1bmMgPSBjcmVhdGVTdHJpbmdYWSgyKTtcbiAqICAgICBjb25zdCBvdXQgPSBzdHJpbmdpZnlGdW5jKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc3Ljg1LCA0Ny45OCdcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW2ZyYWN0aW9uRGlnaXRzXSBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlRm9ybWF0fSBDb29yZGluYXRlIGZvcm1hdC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0cmluZ1hZKGZyYWN0aW9uRGlnaXRzKSB7XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmcgWFkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKGNvb3JkaW5hdGUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZ1hZKGNvb3JkaW5hdGUsIGZyYWN0aW9uRGlnaXRzKTtcbiAgICB9XG4gICk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGhlbWlzcGhlcmVzIEhlbWlzcGhlcmVzLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlZ3JlZXMgRGVncmVlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZnJhY3Rpb25EaWdpdHNdIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIGluY2x1ZGVcbiAqICAgIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBEZWZhdWx0IGlzIGAwYC5cbiAqIEByZXR1cm4ge3N0cmluZ30gU3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVncmVlc1RvU3RyaW5nSERNUyhoZW1pc3BoZXJlcywgZGVncmVlcywgZnJhY3Rpb25EaWdpdHMpIHtcbiAgY29uc3Qgbm9ybWFsaXplZERlZ3JlZXMgPSBtb2R1bG8oZGVncmVlcyArIDE4MCwgMzYwKSAtIDE4MDtcbiAgY29uc3QgeCA9IE1hdGguYWJzKDM2MDAgKiBub3JtYWxpemVkRGVncmVlcyk7XG4gIGNvbnN0IGRlY2ltYWxzID0gZnJhY3Rpb25EaWdpdHMgfHwgMDtcblxuICBsZXQgZGVnID0gTWF0aC5mbG9vcih4IC8gMzYwMCk7XG4gIGxldCBtaW4gPSBNYXRoLmZsb29yKCh4IC0gZGVnICogMzYwMCkgLyA2MCk7XG4gIGxldCBzZWMgPSB0b0ZpeGVkKHggLSBkZWcgKiAzNjAwIC0gbWluICogNjAsIGRlY2ltYWxzKTtcblxuICBpZiAoc2VjID49IDYwKSB7XG4gICAgc2VjID0gMDtcbiAgICBtaW4gKz0gMTtcbiAgfVxuXG4gIGlmIChtaW4gPj0gNjApIHtcbiAgICBtaW4gPSAwO1xuICAgIGRlZyArPSAxO1xuICB9XG5cbiAgbGV0IGhkbXMgPSBkZWcgKyAnXFx1MDBiMCc7XG4gIGlmIChtaW4gIT09IDAgfHwgc2VjICE9PSAwKSB7XG4gICAgaGRtcyArPSAnICcgKyBwYWROdW1iZXIobWluLCAyKSArICdcXHUyMDMyJztcbiAgfVxuICBpZiAoc2VjICE9PSAwKSB7XG4gICAgaGRtcyArPSAnICcgKyBwYWROdW1iZXIoc2VjLCAyLCBkZWNpbWFscykgKyAnXFx1MjAzMyc7XG4gIH1cbiAgaWYgKG5vcm1hbGl6ZWREZWdyZWVzICE9PSAwKSB7XG4gICAgaGRtcyArPSAnICcgKyBoZW1pc3BoZXJlcy5jaGFyQXQobm9ybWFsaXplZERlZ3JlZXMgPCAwID8gMSA6IDApO1xuICB9XG5cbiAgcmV0dXJuIGhkbXM7XG59XG5cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgZ2l2ZW4ge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGV9IHRvIGEgc3RyaW5nXG4gKiB1c2luZyB0aGUgZ2l2ZW4gc3RyaW5nIHRlbXBsYXRlLiBUaGUgc3RyaW5ncyBge3h9YCBhbmQgYHt5fWAgaW4gdGhlIHRlbXBsYXRlXG4gKiB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIGZpcnN0IGFuZCBzZWNvbmQgY29vcmRpbmF0ZSB2YWx1ZXMgcmVzcGVjdGl2ZWx5LlxuICpcbiAqIEV4YW1wbGUgd2l0aG91dCBzcGVjaWZ5aW5nIHRoZSBmcmFjdGlvbmFsIGRpZ2l0czpcbiAqXG4gKiAgICAgaW1wb3J0IHtmb3JtYXR9IGZyb20gJ29sL2Nvb3JkaW5hdGUuanMnO1xuICpcbiAqICAgICBjb25zdCBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIGNvbnN0IHRlbXBsYXRlID0gJ0Nvb3JkaW5hdGUgaXMgKHt4fXx7eX0pLic7XG4gKiAgICAgY29uc3Qgb3V0ID0gZm9ybWF0KGNvb3JkLCB0ZW1wbGF0ZSk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnQ29vcmRpbmF0ZSBpcyAoOHw0OCkuJ1xuICpcbiAqIEV4YW1wbGUgZXhwbGljaXRseSBzcGVjaWZ5aW5nIHRoZSBmcmFjdGlvbmFsIGRpZ2l0czpcbiAqXG4gKiAgICAgaW1wb3J0IHtmb3JtYXR9IGZyb20gJ29sL2Nvb3JkaW5hdGUuanMnO1xuICpcbiAqICAgICBjb25zdCBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIGNvbnN0IHRlbXBsYXRlID0gJ0Nvb3JkaW5hdGUgaXMgKHt4fXx7eX0pLic7XG4gKiAgICAgY29uc3Qgb3V0ID0gZm9ybWF0KGNvb3JkLCB0ZW1wbGF0ZSwgMik7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnQ29vcmRpbmF0ZSBpcyAoNy44NXw0Ny45OCkuJ1xuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlIEEgdGVtcGxhdGUgc3RyaW5nIHdpdGggYHt4fWAgYW5kIGB7eX1gIHBsYWNlaG9sZGVyc1xuICogICAgIHRoYXQgd2lsbCBiZSByZXBsYWNlZCBieSBmaXJzdCBhbmQgc2Vjb25kIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtmcmFjdGlvbkRpZ2l0c10gVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7c3RyaW5nfSBGb3JtYXR0ZWQgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdChjb29yZGluYXRlLCB0ZW1wbGF0ZSwgZnJhY3Rpb25EaWdpdHMpIHtcbiAgaWYgKGNvb3JkaW5hdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGVcbiAgICAgIC5yZXBsYWNlKCd7eH0nLCBjb29yZGluYXRlWzBdLnRvRml4ZWQoZnJhY3Rpb25EaWdpdHMpKVxuICAgICAgLnJlcGxhY2UoJ3t5fScsIGNvb3JkaW5hdGVbMV0udG9GaXhlZChmcmFjdGlvbkRpZ2l0cykpO1xuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUxIEZpcnN0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUyIFNlY29uZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHR3byBjb29yZGluYXRlcyBhcmUgZXF1YWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoY29vcmRpbmF0ZTEsIGNvb3JkaW5hdGUyKSB7XG4gIGxldCBlcXVhbHMgPSB0cnVlO1xuICBmb3IgKGxldCBpID0gY29vcmRpbmF0ZTEubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICBpZiAoY29vcmRpbmF0ZTFbaV0gIT0gY29vcmRpbmF0ZTJbaV0pIHtcbiAgICAgIGVxdWFscyA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBlcXVhbHM7XG59XG5cbi8qKlxuICogUm90YXRlIGBjb29yZGluYXRlYCBieSBgYW5nbGVgLiBgY29vcmRpbmF0ZWAgaXMgbW9kaWZpZWQgaW4gcGxhY2UgYW5kXG4gKiByZXR1cm5lZCBieSB0aGUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHtyb3RhdGV9IGZyb20gJ29sL2Nvb3JkaW5hdGUuanMnO1xuICpcbiAqICAgICBjb25zdCBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIGNvbnN0IHJvdGF0ZVJhZGlhbnMgPSBNYXRoLlBJIC8gMjsgLy8gOTAgZGVncmVlc1xuICogICAgIHJvdGF0ZShjb29yZCwgcm90YXRlUmFkaWFucyk7XG4gKiAgICAgLy8gY29vcmQgaXMgbm93IFstNDcuOTgzMzMzLCA3Ljg1XVxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIEFuZ2xlIGluIHJhZGlhbi5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IENvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUoY29vcmRpbmF0ZSwgYW5nbGUpIHtcbiAgY29uc3QgY29zQW5nbGUgPSBNYXRoLmNvcyhhbmdsZSk7XG4gIGNvbnN0IHNpbkFuZ2xlID0gTWF0aC5zaW4oYW5nbGUpO1xuICBjb25zdCB4ID0gY29vcmRpbmF0ZVswXSAqIGNvc0FuZ2xlIC0gY29vcmRpbmF0ZVsxXSAqIHNpbkFuZ2xlO1xuICBjb25zdCB5ID0gY29vcmRpbmF0ZVsxXSAqIGNvc0FuZ2xlICsgY29vcmRpbmF0ZVswXSAqIHNpbkFuZ2xlO1xuICBjb29yZGluYXRlWzBdID0geDtcbiAgY29vcmRpbmF0ZVsxXSA9IHk7XG4gIHJldHVybiBjb29yZGluYXRlO1xufVxuXG4vKipcbiAqIFNjYWxlIGBjb29yZGluYXRlYCBieSBgc2NhbGVgLiBgY29vcmRpbmF0ZWAgaXMgbW9kaWZpZWQgaW4gcGxhY2UgYW5kIHJldHVybmVkXG4gKiBieSB0aGUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHtzY2FsZSBhcyBzY2FsZUNvb3JkaW5hdGV9IGZyb20gJ29sL2Nvb3JkaW5hdGUuanMnO1xuICpcbiAqICAgICBjb25zdCBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIGNvbnN0IHNjYWxlID0gMS4yO1xuICogICAgIHNjYWxlQ29vcmRpbmF0ZShjb29yZCwgc2NhbGUpO1xuICogICAgIC8vIGNvb3JkIGlzIG5vdyBbOS40MiwgNTcuNTc5OTk5Nl1cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSBTY2FsZSBmYWN0b3IuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBDb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUoY29vcmRpbmF0ZSwgc2NhbGUpIHtcbiAgY29vcmRpbmF0ZVswXSAqPSBzY2FsZTtcbiAgY29vcmRpbmF0ZVsxXSAqPSBzY2FsZTtcbiAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDEgRmlyc3QgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmQyIFNlY29uZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7bnVtYmVyfSBTcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gY29vcmQxIGFuZCBjb29yZDIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoY29vcmQxLCBjb29yZDIpIHtcbiAgY29uc3QgZHggPSBjb29yZDFbMF0gLSBjb29yZDJbMF07XG4gIGNvbnN0IGR5ID0gY29vcmQxWzFdIC0gY29vcmQyWzFdO1xuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZDEgRmlyc3QgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmQyIFNlY29uZCBjb29yZGluYXRlLlxuICogQHJldHVybiB7bnVtYmVyfSBEaXN0YW5jZSBiZXR3ZWVuIGNvb3JkMSBhbmQgY29vcmQyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoY29vcmQxLCBjb29yZDIpIHtcbiAgcmV0dXJuIE1hdGguc3FydChzcXVhcmVkRGlzdGFuY2UoY29vcmQxLCBjb29yZDIpKTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHNxdWFyZWQgZGlzdGFuY2UgZnJvbSBhIGNvb3JkaW5hdGUgdG8gYSBsaW5lIHNlZ21lbnQuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUgb2YgdGhlIHBvaW50LlxuICogQHBhcmFtIHtBcnJheTxDb29yZGluYXRlPn0gc2VnbWVudCBMaW5lIHNlZ21lbnQgKDJcbiAqIGNvb3JkaW5hdGVzKS5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBkaXN0YW5jZSBmcm9tIHRoZSBwb2ludCB0byB0aGUgbGluZSBzZWdtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlVG9TZWdtZW50KGNvb3JkaW5hdGUsIHNlZ21lbnQpIHtcbiAgcmV0dXJuIHNxdWFyZWREaXN0YW5jZShjb29yZGluYXRlLCBjbG9zZXN0T25TZWdtZW50KGNvb3JkaW5hdGUsIHNlZ21lbnQpKTtcbn1cblxuLyoqXG4gKiBGb3JtYXQgYSBnZW9ncmFwaGljIGNvb3JkaW5hdGUgd2l0aCB0aGUgaGVtaXNwaGVyZSwgZGVncmVlcywgbWludXRlcywgYW5kXG4gKiBzZWNvbmRzLlxuICpcbiAqIEV4YW1wbGUgd2l0aG91dCBzcGVjaWZ5aW5nIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge3RvU3RyaW5nSERNU30gZnJvbSAnb2wvY29vcmRpbmF0ZS5qcyc7XG4gKlxuICogICAgIGNvbnN0IGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgY29uc3Qgb3V0ID0gdG9TdHJpbmdIRE1TKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc0N8KwIDU44oCyIDYw4oCzIE4gN8KwIDUw4oCyIDYw4oCzIEUnXG4gKlxuICogRXhhbXBsZSBleHBsaWNpdGx5IHNwZWNpZnlpbmcgMSBmcmFjdGlvbmFsIGRpZ2l0OlxuICpcbiAqICAgICBpbXBvcnQge3RvU3RyaW5nSERNU30gZnJvbSAnb2wvY29vcmRpbmF0ZS5qcyc7XG4gKlxuICogICAgIGNvbnN0IGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgY29uc3Qgb3V0ID0gdG9TdHJpbmdIRE1TKGNvb3JkLCAxKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc0N8KwIDU44oCyIDYwLjDigLMgTiA3wrAgNTDigLIgNjAuMOKAsyBFJ1xuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtmcmFjdGlvbkRpZ2l0c10gVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7c3RyaW5nfSBIZW1pc3BoZXJlLCBkZWdyZWVzLCBtaW51dGVzIGFuZCBzZWNvbmRzLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmdIRE1TKGNvb3JkaW5hdGUsIGZyYWN0aW9uRGlnaXRzKSB7XG4gIGlmIChjb29yZGluYXRlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGRlZ3JlZXNUb1N0cmluZ0hETVMoJ05TJywgY29vcmRpbmF0ZVsxXSwgZnJhY3Rpb25EaWdpdHMpICtcbiAgICAgICcgJyArXG4gICAgICBkZWdyZWVzVG9TdHJpbmdIRE1TKCdFVycsIGNvb3JkaW5hdGVbMF0sIGZyYWN0aW9uRGlnaXRzKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIEZvcm1hdCBhIGNvb3JkaW5hdGUgYXMgYSBjb21tYSBkZWxpbWl0ZWQgc3RyaW5nLlxuICpcbiAqIEV4YW1wbGUgd2l0aG91dCBzcGVjaWZ5aW5nIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge3RvU3RyaW5nWFl9IGZyb20gJ29sL2Nvb3JkaW5hdGUuanMnO1xuICpcbiAqICAgICBjb25zdCBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIGNvbnN0IG91dCA9IHRvU3RyaW5nWFkoY29vcmQpO1xuICogICAgIC8vIG91dCBpcyBub3cgJzgsIDQ4J1xuICpcbiAqIEV4YW1wbGUgZXhwbGljaXRseSBzcGVjaWZ5aW5nIDEgZnJhY3Rpb25hbCBkaWdpdDpcbiAqXG4gKiAgICAgaW1wb3J0IHt0b1N0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlLmpzJztcbiAqXG4gKiAgICAgY29uc3QgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBjb25zdCBvdXQgPSB0b1N0cmluZ1hZKGNvb3JkLCAxKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc3LjgsIDQ4LjAnXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gW2ZyYWN0aW9uRGlnaXRzXSBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFhZLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmdYWShjb29yZGluYXRlLCBmcmFjdGlvbkRpZ2l0cykge1xuICByZXR1cm4gZm9ybWF0KGNvb3JkaW5hdGUsICd7eH0sIHt5fScsIGZyYWN0aW9uRGlnaXRzKTtcbn1cblxuLyoqXG4gKiBNb2RpZmllcyB0aGUgcHJvdmlkZWQgY29vcmRpbmF0ZSBpbi1wbGFjZSB0byBiZSB3aXRoaW4gdGhlIHJlYWwgd29ybGRcbiAqIGV4dGVudC4gVGhlIGxvd2VyIHByb2plY3Rpb24gZXh0ZW50IGJvdW5kYXJ5IGlzIGluY2x1c2l2ZSwgdGhlIHVwcGVyIG9uZVxuICogZXhjbHVzaXZlLlxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBUaGUgY29vcmRpbmF0ZSB3aXRoaW4gdGhlIHJlYWwgd29ybGQgZXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcFgoY29vcmRpbmF0ZSwgcHJvamVjdGlvbikge1xuICBpZiAocHJvamVjdGlvbi5jYW5XcmFwWCgpKSB7XG4gICAgY29uc3Qgd29ybGRXaWR0aCA9IGdldFdpZHRoKHByb2plY3Rpb24uZ2V0RXh0ZW50KCkpO1xuICAgIGNvbnN0IHdvcmxkc0F3YXkgPSBnZXRXb3JsZHNBd2F5KGNvb3JkaW5hdGUsIHByb2plY3Rpb24sIHdvcmxkV2lkdGgpO1xuICAgIGlmICh3b3JsZHNBd2F5KSB7XG4gICAgICBjb29yZGluYXRlWzBdIC09IHdvcmxkc0F3YXkgKiB3b3JsZFdpZHRoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc291cmNlRXh0ZW50V2lkdGhdIFdpZHRoIG9mIHRoZSBzb3VyY2UgZXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBPZmZzZXQgaW4gd29ybGQgd2lkdGhzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V29ybGRzQXdheShjb29yZGluYXRlLCBwcm9qZWN0aW9uLCBzb3VyY2VFeHRlbnRXaWR0aCkge1xuICBjb25zdCBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgbGV0IHdvcmxkc0F3YXkgPSAwO1xuICBpZiAoXG4gICAgcHJvamVjdGlvbi5jYW5XcmFwWCgpICYmXG4gICAgKGNvb3JkaW5hdGVbMF0gPCBwcm9qZWN0aW9uRXh0ZW50WzBdIHx8IGNvb3JkaW5hdGVbMF0gPiBwcm9qZWN0aW9uRXh0ZW50WzJdKVxuICApIHtcbiAgICBzb3VyY2VFeHRlbnRXaWR0aCA9IHNvdXJjZUV4dGVudFdpZHRoIHx8IGdldFdpZHRoKHByb2plY3Rpb25FeHRlbnQpO1xuICAgIHdvcmxkc0F3YXkgPSBNYXRoLmZsb29yKFxuICAgICAgKGNvb3JkaW5hdGVbMF0gLSBwcm9qZWN0aW9uRXh0ZW50WzBdKSAvIHNvdXJjZUV4dGVudFdpZHRoXG4gICAgKTtcbiAgfVxuICByZXR1cm4gd29ybGRzQXdheTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9jc3NcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZvbnRQYXJhbWV0ZXJzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc3R5bGUgU3R5bGUuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdmFyaWFudCBWYXJpYW50LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHdlaWdodCBXZWlnaHQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc2l6ZSBTaXplLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGxpbmVIZWlnaHQgTGluZUhlaWdodC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmYW1pbHkgRmFtaWx5LlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSBmYW1pbGllcyBGYW1pbGllcy5cbiAqL1xuXG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgZm9yIGhpZGRlbiBmZWF0dXJlLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IENMQVNTX0hJRERFTiA9ICdvbC1oaWRkZW4nO1xuXG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCB3ZSdsbCBnaXZlIHRoZSBET00gZWxlbWVudHMgdG8gaGF2ZSB0aGVtIHNlbGVjdGFibGUuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgQ0xBU1NfU0VMRUNUQUJMRSA9ICdvbC1zZWxlY3RhYmxlJztcblxuLyoqXG4gKiBUaGUgQ1NTIGNsYXNzIHRoYXQgd2UnbGwgZ2l2ZSB0aGUgRE9NIGVsZW1lbnRzIHRvIGhhdmUgdGhlbSB1bnNlbGVjdGFibGUuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgQ0xBU1NfVU5TRUxFQ1RBQkxFID0gJ29sLXVuc2VsZWN0YWJsZSc7XG5cbi8qKlxuICogVGhlIENTUyBjbGFzcyBmb3IgdW5zdXBwb3J0ZWQgZmVhdHVyZS5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBDTEFTU19VTlNVUFBPUlRFRCA9ICdvbC11bnN1cHBvcnRlZCc7XG5cbi8qKlxuICogVGhlIENTUyBjbGFzcyBmb3IgY29udHJvbHMuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgQ0xBU1NfQ09OVFJPTCA9ICdvbC1jb250cm9sJztcblxuLyoqXG4gKiBUaGUgQ1NTIGNsYXNzIHRoYXQgd2UnbGwgZ2l2ZSB0aGUgRE9NIGVsZW1lbnRzIHRoYXQgYXJlIGNvbGxhcHNlZCwgaS5lLlxuICogdG8gdGhvc2UgZWxlbWVudHMgd2hpY2ggdXN1YWxseSBjYW4gYmUgZXhwYW5kZWQuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgQ0xBU1NfQ09MTEFQU0VEID0gJ29sLWNvbGxhcHNlZCc7XG5cbi8qKlxuICogRnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDEzNTY5Ny9yZWdleC10by1wYXJzZS1hbnktY3NzLWZvbnRcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKi9cbmNvbnN0IGZvbnRSZWdFeCA9IG5ldyBSZWdFeHAoXG4gIFtcbiAgICAnXlxcXFxzKig/PSg/Oig/OlstYS16XStcXFxccyopezAsMn0oaXRhbGljfG9ibGlxdWUpKT8pJyxcbiAgICAnKD89KD86KD86Wy1hLXpdK1xcXFxzKil7MCwyfShzbWFsbC1jYXBzKSk/KScsXG4gICAgJyg/PSg/Oig/OlstYS16XStcXFxccyopezAsMn0oYm9sZCg/OmVyKT98bGlnaHRlcnxbMS05XTAwICkpPyknLFxuICAgICcoPzooPzpub3JtYWx8XFxcXDF8XFxcXDJ8XFxcXDMpXFxcXHMqKXswLDN9KCg/Onh4Py0pPycsXG4gICAgJyg/OnNtYWxsfGxhcmdlKXxtZWRpdW18c21hbGxlcnxsYXJnZXJ8W1xcXFwuXFxcXGRdKyg/OlxcXFwlfGlufFtjZW1dbXxleHxwW2N0eF0pKScsXG4gICAgJyg/OlxcXFxzKlxcXFwvXFxcXHMqKG5vcm1hbHxbXFxcXC5cXFxcZF0rKD86XFxcXCV8aW58W2NlbV1tfGV4fHBbY3R4XSk/KSknLFxuICAgICc/XFxcXHMqKFstLFxcXFxcIlxcXFxcXCdcXFxcc2Etel0rPylcXFxccyokJyxcbiAgXS5qb2luKCcnKSxcbiAgJ2knXG4pO1xuY29uc3QgZm9udFJlZ0V4TWF0Y2hJbmRleCA9IFtcbiAgJ3N0eWxlJyxcbiAgJ3ZhcmlhbnQnLFxuICAnd2VpZ2h0JyxcbiAgJ3NpemUnLFxuICAnbGluZUhlaWdodCcsXG4gICdmYW1pbHknLFxuXTtcblxuLyoqXG4gKiBHZXQgdGhlIGxpc3Qgb2YgZm9udCBmYW1pbGllcyBmcm9tIGEgZm9udCBzcGVjLiAgTm90ZSB0aGF0IHRoaXMgZG9lc24ndCB3b3JrXG4gKiBmb3IgZm9udCBmYW1pbGllcyB0aGF0IGhhdmUgY29tbWFzIGluIHRoZW0uXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udFNwZWMgVGhlIENTUyBmb250IHByb3BlcnR5LlxuICogQHJldHVybiB7Rm9udFBhcmFtZXRlcnN8bnVsbH0gVGhlIGZvbnQgcGFyYW1ldGVycyAob3IgbnVsbCBpZiB0aGUgaW5wdXQgc3BlYyBpcyBpbnZhbGlkKS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEZvbnRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKGZvbnRTcGVjKSB7XG4gIGNvbnN0IG1hdGNoID0gZm9udFNwZWMubWF0Y2goZm9udFJlZ0V4KTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHN0eWxlID0gLyoqIEB0eXBlIHtGb250UGFyYW1ldGVyc30gKi8gKHtcbiAgICBsaW5lSGVpZ2h0OiAnbm9ybWFsJyxcbiAgICBzaXplOiAnMS4yZW0nLFxuICAgIHN0eWxlOiAnbm9ybWFsJyxcbiAgICB3ZWlnaHQ6ICdub3JtYWwnLFxuICAgIHZhcmlhbnQ6ICdub3JtYWwnLFxuICB9KTtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZm9udFJlZ0V4TWF0Y2hJbmRleC5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgdmFsdWUgPSBtYXRjaFtpICsgMV07XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN0eWxlW2ZvbnRSZWdFeE1hdGNoSW5kZXhbaV1dID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHN0eWxlLmZhbWlsaWVzID0gc3R5bGUuZmFtaWx5LnNwbGl0KC8sXFxzPy8pO1xuICByZXR1cm4gc3R5bGU7XG59O1xuIiwiaW1wb3J0IHtXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBU30gZnJvbSAnLi9oYXMuanMnO1xuXG4vKipcbiAqIEBtb2R1bGUgb2wvZG9tXG4gKi9cblxuLy9GSVhNRSBNb3ZlIHRoaXMgZnVuY3Rpb24gdG8gdGhlIGNhbnZhcyBtb2R1bGVcbi8qKlxuICogQ3JlYXRlIGFuIGh0bWwgY2FudmFzIGVsZW1lbnQgYW5kIHJldHVybnMgaXRzIDJkIGNvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoXSBDYW52YXMgd2lkdGguXG4gKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodF0gQ2FudmFzIGhlaWdodC5cbiAqIEBwYXJhbSB7QXJyYXk8SFRNTENhbnZhc0VsZW1lbnQ+fSBbY2FudmFzUG9vbF0gQ2FudmFzIHBvb2wgdG8gdGFrZSBleGlzdGluZyBjYW52YXMgZnJvbS5cbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEU2V0dGluZ3N9IFtzZXR0aW5nc10gQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEU2V0dGluZ3NcbiAqIEByZXR1cm4ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gVGhlIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYW52YXNDb250ZXh0MkQod2lkdGgsIGhlaWdodCwgY2FudmFzUG9vbCwgc2V0dGluZ3MpIHtcbiAgLyoqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxPZmZzY3JlZW5DYW52YXN9ICovXG4gIGxldCBjYW52YXM7XG4gIGlmIChjYW52YXNQb29sICYmIGNhbnZhc1Bvb2wubGVuZ3RoKSB7XG4gICAgY2FudmFzID0gY2FudmFzUG9vbC5zaGlmdCgpO1xuICB9IGVsc2UgaWYgKFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTKSB7XG4gICAgY2FudmFzID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCB8fCAzMDAsIGhlaWdodCB8fCAzMDApO1xuICB9IGVsc2Uge1xuICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICB9XG4gIGlmICh3aWR0aCkge1xuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICB9XG4gIGlmIChoZWlnaHQpIHtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICB9XG4gIC8vRklYTUUgQWxsb3cgT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIGFzIHJldHVybiB0eXBlXG4gIHJldHVybiAvKiogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gKi8gKFxuICAgIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHNldHRpbmdzKVxuICApO1xufVxuXG4vKipcbiAqIFJlbGVhc2VzIGNhbnZhcyBtZW1vcnkgdG8gYXZvaWQgZXhjZWVkaW5nIG1lbW9yeSBsaW1pdHMgaW4gU2FmYXJpLlxuICogU2VlIGh0dHBzOi8vcHFpbmEubmwvYmxvZy90b3RhbC1jYW52YXMtbWVtb3J5LXVzZS1leGNlZWRzLXRoZS1tYXhpbXVtLWxpbWl0L1xuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbGVhc2VDYW52YXMoY29udGV4dCkge1xuICBjb25zdCBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgY2FudmFzLndpZHRoID0gMTtcbiAgY2FudmFzLmhlaWdodCA9IDE7XG4gIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIDEsIDEpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCBjb21wdXRlZCB3aWR0aCBmb3IgdGhlIGdpdmVuIGVsZW1lbnQgaW5jbHVkaW5nIG1hcmdpbixcbiAqIHBhZGRpbmcgYW5kIGJvcmRlci5cbiAqIEVxdWl2YWxlbnQgdG8galF1ZXJ5J3MgYCQoZWwpLm91dGVyV2lkdGgodHJ1ZSlgLlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHdpZHRoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3V0ZXJXaWR0aChlbGVtZW50KSB7XG4gIGxldCB3aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgd2lkdGggKz0gcGFyc2VJbnQoc3R5bGUubWFyZ2luTGVmdCwgMTApICsgcGFyc2VJbnQoc3R5bGUubWFyZ2luUmlnaHQsIDEwKTtcblxuICByZXR1cm4gd2lkdGg7XG59XG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IGNvbXB1dGVkIGhlaWdodCBmb3IgdGhlIGdpdmVuIGVsZW1lbnQgaW5jbHVkaW5nIG1hcmdpbixcbiAqIHBhZGRpbmcgYW5kIGJvcmRlci5cbiAqIEVxdWl2YWxlbnQgdG8galF1ZXJ5J3MgYCQoZWwpLm91dGVySGVpZ2h0KHRydWUpYC5cbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBoZWlnaHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvdXRlckhlaWdodChlbGVtZW50KSB7XG4gIGxldCBoZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICBoZWlnaHQgKz0gcGFyc2VJbnQoc3R5bGUubWFyZ2luVG9wLCAxMCkgKyBwYXJzZUludChzdHlsZS5tYXJnaW5Cb3R0b20sIDEwKTtcblxuICByZXR1cm4gaGVpZ2h0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbmV3Tm9kZSBOb2RlIHRvIHJlcGxhY2Ugb2xkIG5vZGVcbiAqIEBwYXJhbSB7Tm9kZX0gb2xkTm9kZSBUaGUgbm9kZSB0byBiZSByZXBsYWNlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZU5vZGUobmV3Tm9kZSwgb2xkTm9kZSkge1xuICBjb25zdCBwYXJlbnQgPSBvbGROb2RlLnBhcmVudE5vZGU7XG4gIGlmIChwYXJlbnQpIHtcbiAgICBwYXJlbnQucmVwbGFjZUNoaWxkKG5ld05vZGUsIG9sZE5vZGUpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlIFRoZSBub2RlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm4ge05vZGV8bnVsbH0gVGhlIG5vZGUgdGhhdCB3YXMgcmVtb3ZlZCBvciBudWxsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKSB7XG4gIHJldHVybiBub2RlICYmIG5vZGUucGFyZW50Tm9kZSA/IG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKSA6IG51bGw7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlIFRoZSBub2RlIHRvIHJlbW92ZSB0aGUgY2hpbGRyZW4gZnJvbS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKG5vZGUpIHtcbiAgd2hpbGUgKG5vZGUubGFzdENoaWxkKSB7XG4gICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmxhc3RDaGlsZCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGNoaWxkcmVuIG9mIGEgcGFyZW50IG5vZGUgc28gdGhleSBtYXRjaCB0aGVcbiAqIHByb3ZpZGVkIGxpc3Qgb2YgY2hpbGRyZW4uICBUaGlzIGZ1bmN0aW9uIGFpbXMgdG8gZWZmaWNpZW50bHlcbiAqIHJlbW92ZSwgYWRkLCBhbmQgcmVvcmRlciBjaGlsZCBub2RlcyB3aGlsZSBtYWludGFpbmluZyBhIHNpbXBsZVxuICogaW1wbGVtZW50YXRpb24gKGl0IGlzIG5vdCBndWFyYW50ZWVkIHRvIG1pbmltaXplIERPTSBvcGVyYXRpb25zKS5cbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgcGFyZW50IG5vZGUgd2hvc2UgY2hpbGRyZW4gbmVlZCByZXdvcmtpbmcuXG4gKiBAcGFyYW0ge0FycmF5PE5vZGU+fSBjaGlsZHJlbiBUaGUgZGVzaXJlZCBjaGlsZHJlbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VDaGlsZHJlbihub2RlLCBjaGlsZHJlbikge1xuICBjb25zdCBvbGRDaGlsZHJlbiA9IG5vZGUuY2hpbGROb2RlcztcblxuICBmb3IgKGxldCBpID0gMDsgdHJ1ZTsgKytpKSB7XG4gICAgY29uc3Qgb2xkQ2hpbGQgPSBvbGRDaGlsZHJlbltpXTtcbiAgICBjb25zdCBuZXdDaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgLy8gY2hlY2sgaWYgb3VyIHdvcmsgaXMgZG9uZVxuICAgIGlmICghb2xkQ2hpbGQgJiYgIW5ld0NoaWxkKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiBjaGlsZHJlbiBtYXRjaFxuICAgIGlmIChvbGRDaGlsZCA9PT0gbmV3Q2hpbGQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIGlmIGEgbmV3IGNoaWxkIG5lZWRzIHRvIGJlIGFkZGVkXG4gICAgaWYgKCFvbGRDaGlsZCkge1xuICAgICAgbm9kZS5hcHBlbmRDaGlsZChuZXdDaGlsZCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiBhbiBvbGQgY2hpbGQgbmVlZHMgdG8gYmUgcmVtb3ZlZFxuICAgIGlmICghbmV3Q2hpbGQpIHtcbiAgICAgIG5vZGUucmVtb3ZlQ2hpbGQob2xkQ2hpbGQpO1xuICAgICAgLS1pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gcmVvcmRlclxuICAgIG5vZGUuaW5zZXJ0QmVmb3JlKG5ld0NoaWxkLCBvbGRDaGlsZCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9lYXNpbmdcbiAqL1xuXG4vKipcbiAqIFN0YXJ0IHNsb3cgYW5kIHNwZWVkIHVwLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluKHQpIHtcbiAgcmV0dXJuIE1hdGgucG93KHQsIDMpO1xufVxuXG4vKipcbiAqIFN0YXJ0IGZhc3QgYW5kIHNsb3cgZG93bi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXQodCkge1xuICByZXR1cm4gMSAtIGVhc2VJbigxIC0gdCk7XG59XG5cbi8qKlxuICogU3RhcnQgc2xvdywgc3BlZWQgdXAsIGFuZCB0aGVuIHNsb3cgZG93biBhZ2Fpbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluQW5kT3V0KHQpIHtcbiAgcmV0dXJuIDMgKiB0ICogdCAtIDIgKiB0ICogdCAqIHQ7XG59XG5cbi8qKlxuICogTWFpbnRhaW4gYSBjb25zdGFudCBzcGVlZCBvdmVyIHRpbWUuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXIodCkge1xuICByZXR1cm4gdDtcbn1cblxuLyoqXG4gKiBTdGFydCBzbG93LCBzcGVlZCB1cCwgYW5kIGF0IHRoZSB2ZXJ5IGVuZCBzbG93IGRvd24gYWdhaW4uICBUaGlzIGhhcyB0aGVcbiAqIHNhbWUgZ2VuZXJhbCBiZWhhdmlvciBhcyB7QGxpbmsgbW9kdWxlOm9sL2Vhc2luZy5pbkFuZE91dH0sIGJ1dCB0aGUgZmluYWxcbiAqIHNsb3dkb3duIGlzIGRlbGF5ZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cEFuZERvd24odCkge1xuICBpZiAodCA8IDAuNSkge1xuICAgIHJldHVybiBpbkFuZE91dCgyICogdCk7XG4gIH1cbiAgcmV0dXJuIDEgLSBpbkFuZE91dCgyICogKHQgLSAwLjUpKTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9ldmVudHNcbiAqL1xuaW1wb3J0IHtjbGVhcn0gZnJvbSAnLi9vYmouanMnO1xuXG4vKipcbiAqIEtleSB0byB1c2Ugd2l0aCB7QGxpbmsgbW9kdWxlOm9sL09ic2VydmFibGUudW5CeUtleX0uXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFdmVudHNLZXlcbiAqIEBwcm9wZXJ0eSB7TGlzdGVuZXJGdW5jdGlvbn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXZlbnRzL1RhcmdldC5qc1wiKS5FdmVudFRhcmdldExpa2V9IHRhcmdldCBUYXJnZXQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUeXBlLlxuICogQGFwaVxuICovXG5cbi8qKlxuICogTGlzdGVuZXIgZnVuY3Rpb24uIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggYW4gZXZlbnQgb2JqZWN0IGFzIGFyZ3VtZW50LlxuICogV2hlbiB0aGUgZnVuY3Rpb24gcmV0dXJucyBgZmFsc2VgLCBldmVudCBwcm9wYWdhdGlvbiB3aWxsIHN0b3AuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0KSk6ICh2b2lkfGJvb2xlYW4pfSBMaXN0ZW5lckZ1bmN0aW9uXG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBMaXN0ZW5lck9iamVjdFxuICogQHByb3BlcnR5IHtMaXN0ZW5lckZ1bmN0aW9ufSBoYW5kbGVFdmVudCBIYW5kbGVFdmVudCBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtMaXN0ZW5lckZ1bmN0aW9ufExpc3RlbmVyT2JqZWN0fSBMaXN0ZW5lclxuICovXG5cbi8qKlxuICogUmVnaXN0ZXJzIGFuIGV2ZW50IGxpc3RlbmVyIG9uIGFuIGV2ZW50IHRhcmdldC4gSW5zcGlyZWQgYnlcbiAqIGh0dHBzOi8vZ29vZ2xlLmdpdGh1Yi5pby9jbG9zdXJlLWxpYnJhcnkvYXBpL3NvdXJjZS9jbG9zdXJlL2dvb2cvZXZlbnRzL2V2ZW50cy5qcy5zcmMuaHRtbFxuICpcbiAqIFRoaXMgZnVuY3Rpb24gZWZmaWNpZW50bHkgYmluZHMgYSBgbGlzdGVuZXJgIHRvIGEgYHRoaXNgIG9iamVjdCwgYW5kIHJldHVybnNcbiAqIGEga2V5IGZvciB1c2Ugd2l0aCB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy51bmxpc3RlbkJ5S2V5fS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzL1RhcmdldC5qc1wiKS5FdmVudFRhcmdldExpa2V9IHRhcmdldCBFdmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBFdmVudCB0eXBlLlxuICogQHBhcmFtIHtMaXN0ZW5lckZ1bmN0aW9ufSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbdGhpc0FyZ10gT2JqZWN0IHJlZmVyZW5jZWQgYnkgdGhlIGB0aGlzYCBrZXl3b3JkIGluIHRoZVxuICogICAgIGxpc3RlbmVyLiBEZWZhdWx0IGlzIHRoZSBgdGFyZ2V0YC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29uY2VdIElmIHRydWUsIGFkZCB0aGUgbGlzdGVuZXIgYXMgb25lLW9mZiBsaXN0ZW5lci5cbiAqIEByZXR1cm4ge0V2ZW50c0tleX0gVW5pcXVlIGtleSBmb3IgdGhlIGxpc3RlbmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHRoaXNBcmcsIG9uY2UpIHtcbiAgaWYgKHRoaXNBcmcgJiYgdGhpc0FyZyAhPT0gdGFyZ2V0KSB7XG4gICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5iaW5kKHRoaXNBcmcpO1xuICB9XG4gIGlmIChvbmNlKSB7XG4gICAgY29uc3Qgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIGxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xuICAgICAgb3JpZ2luYWxMaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cbiAgY29uc3QgZXZlbnRzS2V5ID0ge1xuICAgIHRhcmdldDogdGFyZ2V0LFxuICAgIHR5cGU6IHR5cGUsXG4gICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICB9O1xuICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcik7XG4gIHJldHVybiBldmVudHNLZXk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgb25lLW9mZiBldmVudCBsaXN0ZW5lciBvbiBhbiBldmVudCB0YXJnZXQuIEluc3BpcmVkIGJ5XG4gKiBodHRwczovL2dvb2dsZS5naXRodWIuaW8vY2xvc3VyZS1saWJyYXJ5L2FwaS9zb3VyY2UvY2xvc3VyZS9nb29nL2V2ZW50cy9ldmVudHMuanMuc3JjLmh0bWxcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGVmZmljaWVudGx5IGJpbmRzIGEgYGxpc3RlbmVyYCBhcyBzZWxmLXVucmVnaXN0ZXJpbmcgbGlzdGVuZXJcbiAqIHRvIGEgYHRoaXNgIG9iamVjdCwgYW5kIHJldHVybnMgYSBrZXkgZm9yIHVzZSB3aXRoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy51bmxpc3RlbkJ5S2V5fSBpbiBjYXNlIHRoZSBsaXN0ZW5lciBuZWVkcyB0byBiZVxuICogdW5yZWdpc3RlcmVkIGJlZm9yZSBpdCBpcyBjYWxsZWQuXG4gKlxuICogV2hlbiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy5saXN0ZW59IGlzIGNhbGxlZCB3aXRoIHRoZSBzYW1lIGFyZ3VtZW50cyBhZnRlciB0aGlzXG4gKiBmdW5jdGlvbiwgdGhlIHNlbGYtdW5yZWdpc3RlcmluZyBsaXN0ZW5lciB3aWxsIGJlIHR1cm5lZCBpbnRvIGEgcGVybWFuZW50XG4gKiBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzL1RhcmdldC5qc1wiKS5FdmVudFRhcmdldExpa2V9IHRhcmdldCBFdmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBFdmVudCB0eXBlLlxuICogQHBhcmFtIHtMaXN0ZW5lckZ1bmN0aW9ufSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbdGhpc0FyZ10gT2JqZWN0IHJlZmVyZW5jZWQgYnkgdGhlIGB0aGlzYCBrZXl3b3JkIGluIHRoZVxuICogICAgIGxpc3RlbmVyLiBEZWZhdWx0IGlzIHRoZSBgdGFyZ2V0YC5cbiAqIEByZXR1cm4ge0V2ZW50c0tleX0gS2V5IGZvciB1bmxpc3RlbkJ5S2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuT25jZSh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCB0aGlzQXJnKSB7XG4gIHJldHVybiBsaXN0ZW4odGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgdGhpc0FyZywgdHJ1ZSk7XG59XG5cbi8qKlxuICogVW5yZWdpc3RlcnMgZXZlbnQgbGlzdGVuZXJzIG9uIGFuIGV2ZW50IHRhcmdldC4gSW5zcGlyZWQgYnlcbiAqIGh0dHBzOi8vZ29vZ2xlLmdpdGh1Yi5pby9jbG9zdXJlLWxpYnJhcnkvYXBpL3NvdXJjZS9jbG9zdXJlL2dvb2cvZXZlbnRzL2V2ZW50cy5qcy5zcmMuaHRtbFxuICpcbiAqIFRoZSBhcmd1bWVudCBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBpcyB0aGUga2V5IHJldHVybmVkIGZyb21cbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzLmxpc3Rlbn0gb3Ige0BsaW5rIG1vZHVsZTpvbC9ldmVudHMubGlzdGVuT25jZX0uXG4gKlxuICogQHBhcmFtIHtFdmVudHNLZXl9IGtleSBUaGUga2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5saXN0ZW5CeUtleShrZXkpIHtcbiAgaWYgKGtleSAmJiBrZXkudGFyZ2V0KSB7XG4gICAga2V5LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGtleS50eXBlLCBrZXkubGlzdGVuZXIpO1xuICAgIGNsZWFyKGtleSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9ldmVudHMvRXZlbnRcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFN0cmlwcGVkIGRvd24gaW1wbGVtZW50YXRpb24gb2YgdGhlIFczQyBET00gTGV2ZWwgMiBFdmVudCBpbnRlcmZhY2UuXG4gKiBTZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0yLUV2ZW50cy9ldmVudHMuaHRtbCNFdmVudHMtaW50ZXJmYWNlLlxuICpcbiAqIFRoaXMgaW1wbGVtZW50YXRpb24gb25seSBwcm92aWRlcyBgdHlwZWAgYW5kIGB0YXJnZXRgIHByb3BlcnRpZXMsIGFuZFxuICogYHN0b3BQcm9wYWdhdGlvbmAgYW5kIGBwcmV2ZW50RGVmYXVsdGAgbWV0aG9kcy4gSXQgaXMgbWVhbnQgYXMgYmFzZSBjbGFzc1xuICogZm9yIGhpZ2hlciBsZXZlbCBldmVudHMgZGVmaW5lZCBpbiB0aGUgbGlicmFyeSwgYW5kIHdvcmtzIHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL1RhcmdldH5UYXJnZXR9LlxuICovXG5jbGFzcyBCYXNlRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHR5cGUpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBldmVudCB0eXBlLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZXZlbnQgdGFyZ2V0LlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmV2ZW50IGRlZmF1bHQuIFRoaXMgbWVhbnMgdGhhdCBubyBlbXVsYXRlZCBgY2xpY2tgLCBgc2luZ2xlY2xpY2tgIG9yIGBkb3VibGVjbGlja2AgZXZlbnRzXG4gICAqIHdpbGwgYmUgZmlyZWQuXG4gICAqIEBhcGlcbiAgICovXG4gIHByZXZlbnREZWZhdWx0KCkge1xuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogU3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnR8aW1wb3J0KFwiLi9FdmVudC5qc1wiKS5kZWZhdWx0fSBldnQgRXZlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbihldnQpIHtcbiAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnR8aW1wb3J0KFwiLi9FdmVudC5qc1wiKS5kZWZhdWx0fSBldnQgRXZlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFzZUV2ZW50O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V2ZW50cy9FdmVudFR5cGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAY29uc3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogR2VuZXJpYyBjaGFuZ2UgZXZlbnQuIFRyaWdnZXJlZCB3aGVuIHRoZSByZXZpc2lvbiBjb3VudGVyIGlzIGluY3JlYXNlZC5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9ldmVudHMvRXZlbnR+QmFzZUV2ZW50I2NoYW5nZVxuICAgKiBAYXBpXG4gICAqL1xuICBDSEFOR0U6ICdjaGFuZ2UnLFxuXG4gIC8qKlxuICAgKiBHZW5lcmljIGVycm9yIGV2ZW50LiBUcmlnZ2VyZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvZXZlbnRzL0V2ZW50fkJhc2VFdmVudCNlcnJvclxuICAgKiBAYXBpXG4gICAqL1xuICBFUlJPUjogJ2Vycm9yJyxcblxuICBCTFVSOiAnYmx1cicsXG4gIENMRUFSOiAnY2xlYXInLFxuICBDT05URVhUTUVOVTogJ2NvbnRleHRtZW51JyxcbiAgQ0xJQ0s6ICdjbGljaycsXG4gIERCTENMSUNLOiAnZGJsY2xpY2snLFxuICBEUkFHRU5URVI6ICdkcmFnZW50ZXInLFxuICBEUkFHT1ZFUjogJ2RyYWdvdmVyJyxcbiAgRFJPUDogJ2Ryb3AnLFxuICBGT0NVUzogJ2ZvY3VzJyxcbiAgS0VZRE9XTjogJ2tleWRvd24nLFxuICBLRVlQUkVTUzogJ2tleXByZXNzJyxcbiAgTE9BRDogJ2xvYWQnLFxuICBSRVNJWkU6ICdyZXNpemUnLFxuICBUT1VDSE1PVkU6ICd0b3VjaG1vdmUnLFxuICBXSEVFTDogJ3doZWVsJyxcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL1RhcmdldFxuICovXG5pbXBvcnQgRGlzcG9zYWJsZSBmcm9tICcuLi9EaXNwb3NhYmxlLmpzJztcbmltcG9ydCBFdmVudCBmcm9tICcuL0V2ZW50LmpzJztcbmltcG9ydCB7Vk9JRH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7Y2xlYXJ9IGZyb20gJy4uL29iai5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge0V2ZW50VGFyZ2V0fFRhcmdldH0gRXZlbnRUYXJnZXRMaWtlXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIHNpbXBsaWZpZWQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFczQyBET00gTGV2ZWwgMiBFdmVudFRhcmdldCBpbnRlcmZhY2UuXG4gKiBTZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDAvUkVDLURPTS1MZXZlbC0yLUV2ZW50cy0yMDAwMTExMy9ldmVudHMuaHRtbCNFdmVudHMtRXZlbnRUYXJnZXQuXG4gKlxuICogVGhlcmUgYXJlIHR3byBpbXBvcnRhbnQgc2ltcGxpZmljYXRpb25zIGNvbXBhcmVkIHRvIHRoZSBzcGVjaWZpY2F0aW9uOlxuICpcbiAqIDEuIFRoZSBoYW5kbGluZyBvZiBgdXNlQ2FwdHVyZWAgaW4gYGFkZEV2ZW50TGlzdGVuZXJgIGFuZFxuICogICAgYHJlbW92ZUV2ZW50TGlzdGVuZXJgLiBUaGVyZSBpcyBubyByZWFsIGNhcHR1cmUgbW9kZWwuXG4gKiAyLiBUaGUgaGFuZGxpbmcgb2YgYHN0b3BQcm9wYWdhdGlvbmAgYW5kIGBwcmV2ZW50RGVmYXVsdGAgb24gYGRpc3BhdGNoRXZlbnRgLlxuICogICAgVGhlcmUgaXMgbm8gZXZlbnQgdGFyZ2V0IGhpZXJhcmNoeS4gV2hlbiBhIGxpc3RlbmVyIGNhbGxzXG4gKiAgICBgc3RvcFByb3BhZ2F0aW9uYCBvciBgcHJldmVudERlZmF1bHRgIG9uIGFuIGV2ZW50IG9iamVjdCwgaXQgbWVhbnMgdGhhdCBub1xuICogICAgbW9yZSBsaXN0ZW5lcnMgYWZ0ZXIgdGhpcyBvbmUgd2lsbCBiZSBjYWxsZWQuIFNhbWUgYXMgd2hlbiB0aGUgbGlzdGVuZXJcbiAqICAgIHJldHVybnMgZmFsc2UuXG4gKi9cbmNsYXNzIFRhcmdldCBleHRlbmRzIERpc3Bvc2FibGUge1xuICAvKipcbiAgICogQHBhcmFtIHsqfSBbdGFyZ2V0XSBEZWZhdWx0IGV2ZW50IHRhcmdldCBmb3IgZGlzcGF0Y2hlZCBldmVudHMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0YXJnZXQpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLmV2ZW50VGFyZ2V0XyA9IHRhcmdldDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5wZW5kaW5nUmVtb3ZhbHNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5kaXNwYXRjaGluZ18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgQXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyPj59XG4gICAgICovXG4gICAgdGhpcy5saXN0ZW5lcnNfID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lcn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAqL1xuICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKCF0eXBlIHx8ICFsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc18gfHwgKHRoaXMubGlzdGVuZXJzXyA9IHt9KTtcbiAgICBjb25zdCBsaXN0ZW5lcnNGb3JUeXBlID0gbGlzdGVuZXJzW3R5cGVdIHx8IChsaXN0ZW5lcnNbdHlwZV0gPSBbXSk7XG4gICAgaWYgKCFsaXN0ZW5lcnNGb3JUeXBlLmluY2x1ZGVzKGxpc3RlbmVyKSkge1xuICAgICAgbGlzdGVuZXJzRm9yVHlwZS5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBhbmQgY2FsbHMgYWxsIGxpc3RlbmVycyBsaXN0ZW5pbmcgZm9yIGV2ZW50c1xuICAgKiBvZiB0aGlzIHR5cGUuIFRoZSBldmVudCBwYXJhbWV0ZXIgY2FuIGVpdGhlciBiZSBhIHN0cmluZyBvciBhblxuICAgKiBPYmplY3Qgd2l0aCBhIGB0eXBlYCBwcm9wZXJ0eS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0V2ZW50LmpzXCIpLmRlZmF1bHR8c3RyaW5nfSBldmVudCBFdmVudCBvYmplY3QuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW58dW5kZWZpbmVkfSBgZmFsc2VgIGlmIGFueW9uZSBjYWxsZWQgcHJldmVudERlZmF1bHQgb24gdGhlXG4gICAqICAgICBldmVudCBvYmplY3Qgb3IgaWYgYW55IG9mIHRoZSBsaXN0ZW5lcnMgcmV0dXJuZWQgZmFsc2UuXG4gICAqIEBhcGlcbiAgICovXG4gIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHtcbiAgICBjb25zdCBpc1N0cmluZyA9IHR5cGVvZiBldmVudCA9PT0gJ3N0cmluZyc7XG4gICAgY29uc3QgdHlwZSA9IGlzU3RyaW5nID8gZXZlbnQgOiBldmVudC50eXBlO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzXyAmJiB0aGlzLmxpc3RlbmVyc19bdHlwZV07XG4gICAgaWYgKCFsaXN0ZW5lcnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBldnQgPSBpc1N0cmluZyA/IG5ldyBFdmVudChldmVudCkgOiAvKiogQHR5cGUge0V2ZW50fSAqLyAoZXZlbnQpO1xuICAgIGlmICghZXZ0LnRhcmdldCkge1xuICAgICAgZXZ0LnRhcmdldCA9IHRoaXMuZXZlbnRUYXJnZXRfIHx8IHRoaXM7XG4gICAgfVxuICAgIGNvbnN0IGRpc3BhdGNoaW5nID0gdGhpcy5kaXNwYXRjaGluZ18gfHwgKHRoaXMuZGlzcGF0Y2hpbmdfID0ge30pO1xuICAgIGNvbnN0IHBlbmRpbmdSZW1vdmFscyA9XG4gICAgICB0aGlzLnBlbmRpbmdSZW1vdmFsc18gfHwgKHRoaXMucGVuZGluZ1JlbW92YWxzXyA9IHt9KTtcbiAgICBpZiAoISh0eXBlIGluIGRpc3BhdGNoaW5nKSkge1xuICAgICAgZGlzcGF0Y2hpbmdbdHlwZV0gPSAwO1xuICAgICAgcGVuZGluZ1JlbW92YWxzW3R5cGVdID0gMDtcbiAgICB9XG4gICAgKytkaXNwYXRjaGluZ1t0eXBlXTtcbiAgICBsZXQgcHJvcGFnYXRlO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBpZiAoJ2hhbmRsZUV2ZW50JyBpbiBsaXN0ZW5lcnNbaV0pIHtcbiAgICAgICAgcHJvcGFnYXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuTGlzdGVuZXJPYmplY3R9ICovIChcbiAgICAgICAgICBsaXN0ZW5lcnNbaV1cbiAgICAgICAgKS5oYW5kbGVFdmVudChldnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvcGFnYXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuTGlzdGVuZXJGdW5jdGlvbn0gKi8gKFxuICAgICAgICAgIGxpc3RlbmVyc1tpXVxuICAgICAgICApLmNhbGwodGhpcywgZXZ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wYWdhdGUgPT09IGZhbHNlIHx8IGV2dC5wcm9wYWdhdGlvblN0b3BwZWQpIHtcbiAgICAgICAgcHJvcGFnYXRlID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoLS1kaXNwYXRjaGluZ1t0eXBlXSA9PT0gMCkge1xuICAgICAgbGV0IHByID0gcGVuZGluZ1JlbW92YWxzW3R5cGVdO1xuICAgICAgZGVsZXRlIHBlbmRpbmdSZW1vdmFsc1t0eXBlXTtcbiAgICAgIHdoaWxlIChwci0tKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBWT0lEKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSBkaXNwYXRjaGluZ1t0eXBlXTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3BhZ2F0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbiB1cC5cbiAgICovXG4gIGRpc3Bvc2VJbnRlcm5hbCgpIHtcbiAgICB0aGlzLmxpc3RlbmVyc18gJiYgY2xlYXIodGhpcy5saXN0ZW5lcnNfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxpc3RlbmVycyBmb3IgYSBzcGVjaWZpZWQgZXZlbnQgdHlwZS4gTGlzdGVuZXJzIGFyZSByZXR1cm5lZCBpbiB0aGVcbiAgICogb3JkZXIgdGhhdCB0aGV5IHdpbGwgYmUgY2FsbGVkIGluLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuTGlzdGVuZXI+fHVuZGVmaW5lZH0gTGlzdGVuZXJzLlxuICAgKi9cbiAgZ2V0TGlzdGVuZXJzKHR5cGUpIHtcbiAgICByZXR1cm4gKHRoaXMubGlzdGVuZXJzXyAmJiB0aGlzLmxpc3RlbmVyc19bdHlwZV0pIHx8IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3R5cGVdIFR5cGUuIElmIG5vdCBwcm92aWRlZCxcbiAgICogICAgIGB0cnVlYCB3aWxsIGJlIHJldHVybmVkIGlmIHRoaXMgZXZlbnQgdGFyZ2V0IGhhcyBhbnkgbGlzdGVuZXJzLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBIYXMgbGlzdGVuZXJzLlxuICAgKi9cbiAgaGFzTGlzdGVuZXIodHlwZSkge1xuICAgIGlmICghdGhpcy5saXN0ZW5lcnNfKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0eXBlXG4gICAgICA/IHR5cGUgaW4gdGhpcy5saXN0ZW5lcnNfXG4gICAgICA6IE9iamVjdC5rZXlzKHRoaXMubGlzdGVuZXJzXykubGVuZ3RoID4gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lcn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gICAqL1xuICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNfICYmIHRoaXMubGlzdGVuZXJzX1t0eXBlXTtcbiAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1JlbW92YWxzXyAmJiB0eXBlIGluIHRoaXMucGVuZGluZ1JlbW92YWxzXykge1xuICAgICAgICAgIC8vIG1ha2UgbGlzdGVuZXIgYSBuby1vcCwgYW5kIHJlbW92ZSBsYXRlciBpbiAjZGlzcGF0Y2hFdmVudCgpXG4gICAgICAgICAgbGlzdGVuZXJzW2luZGV4XSA9IFZPSUQ7XG4gICAgICAgICAgKyt0aGlzLnBlbmRpbmdSZW1vdmFsc19bdHlwZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgaWYgKGxpc3RlbmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyc19bdHlwZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRhcmdldDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9leHRlbnRcbiAqL1xuaW1wb3J0IFJlbGF0aW9uc2hpcCBmcm9tICcuL2V4dGVudC9SZWxhdGlvbnNoaXAuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG5cbi8qKlxuICogQW4gYXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgYW4gZXh0ZW50OiBgW21pbngsIG1pbnksIG1heHgsIG1heHldYC5cbiAqIEB0eXBlZGVmIHtBcnJheTxudW1iZXI+fSBFeHRlbnRcbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIEV4dGVudCBjb3JuZXIuXG4gKiBAdHlwZWRlZiB7J2JvdHRvbS1sZWZ0JyB8ICdib3R0b20tcmlnaHQnIHwgJ3RvcC1sZWZ0JyB8ICd0b3AtcmlnaHQnfSBDb3JuZXJcbiAqL1xuXG4vKipcbiAqIEJ1aWxkIGFuIGV4dGVudCB0aGF0IGluY2x1ZGVzIGFsbCBnaXZlbiBjb29yZGluYXRlcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEJvdW5kaW5nIGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kaW5nRXh0ZW50KGNvb3JkaW5hdGVzKSB7XG4gIGNvbnN0IGV4dGVudCA9IGNyZWF0ZUVtcHR5KCk7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBleHRlbmRDb29yZGluYXRlKGV4dGVudCwgY29vcmRpbmF0ZXNbaV0pO1xuICB9XG4gIHJldHVybiBleHRlbnQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB4cyBYcy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geXMgWXMuXG4gKiBAcGFyYW0ge0V4dGVudH0gW2Rlc3RdIERlc3RpbmF0aW9uIGV4dGVudC5cbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZnVuY3Rpb24gX2JvdW5kaW5nRXh0ZW50WFlzKHhzLCB5cywgZGVzdCkge1xuICBjb25zdCBtaW5YID0gTWF0aC5taW4uYXBwbHkobnVsbCwgeHMpO1xuICBjb25zdCBtaW5ZID0gTWF0aC5taW4uYXBwbHkobnVsbCwgeXMpO1xuICBjb25zdCBtYXhYID0gTWF0aC5tYXguYXBwbHkobnVsbCwgeHMpO1xuICBjb25zdCBtYXhZID0gTWF0aC5tYXguYXBwbHkobnVsbCwgeXMpO1xuICByZXR1cm4gY3JlYXRlT3JVcGRhdGUobWluWCwgbWluWSwgbWF4WCwgbWF4WSwgZGVzdCk7XG59XG5cbi8qKlxuICogUmV0dXJuIGV4dGVudCBpbmNyZWFzZWQgYnkgdGhlIHByb3ZpZGVkIHZhbHVlLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGFtb3VudCBieSB3aGljaCB0aGUgZXh0ZW50IHNob3VsZCBiZSBidWZmZXJlZC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbZGVzdF0gRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXIoZXh0ZW50LCB2YWx1ZSwgZGVzdCkge1xuICBpZiAoZGVzdCkge1xuICAgIGRlc3RbMF0gPSBleHRlbnRbMF0gLSB2YWx1ZTtcbiAgICBkZXN0WzFdID0gZXh0ZW50WzFdIC0gdmFsdWU7XG4gICAgZGVzdFsyXSA9IGV4dGVudFsyXSArIHZhbHVlO1xuICAgIGRlc3RbM10gPSBleHRlbnRbM10gKyB2YWx1ZTtcbiAgICByZXR1cm4gZGVzdDtcbiAgfVxuICByZXR1cm4gW1xuICAgIGV4dGVudFswXSAtIHZhbHVlLFxuICAgIGV4dGVudFsxXSAtIHZhbHVlLFxuICAgIGV4dGVudFsyXSArIHZhbHVlLFxuICAgIGV4dGVudFszXSArIHZhbHVlLFxuICBdO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBhbiBleHRlbnQuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge0V4dGVudH0gW2Rlc3RdIEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gVGhlIGNsb25lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoZXh0ZW50LCBkZXN0KSB7XG4gIGlmIChkZXN0KSB7XG4gICAgZGVzdFswXSA9IGV4dGVudFswXTtcbiAgICBkZXN0WzFdID0gZXh0ZW50WzFdO1xuICAgIGRlc3RbMl0gPSBleHRlbnRbMl07XG4gICAgZGVzdFszXSA9IGV4dGVudFszXTtcbiAgICByZXR1cm4gZGVzdDtcbiAgfVxuICByZXR1cm4gZXh0ZW50LnNsaWNlKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge251bWJlcn0gQ2xvc2VzdCBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZKGV4dGVudCwgeCwgeSkge1xuICBsZXQgZHgsIGR5O1xuICBpZiAoeCA8IGV4dGVudFswXSkge1xuICAgIGR4ID0gZXh0ZW50WzBdIC0geDtcbiAgfSBlbHNlIGlmIChleHRlbnRbMl0gPCB4KSB7XG4gICAgZHggPSB4IC0gZXh0ZW50WzJdO1xuICB9IGVsc2Uge1xuICAgIGR4ID0gMDtcbiAgfVxuICBpZiAoeSA8IGV4dGVudFsxXSkge1xuICAgIGR5ID0gZXh0ZW50WzFdIC0geTtcbiAgfSBlbHNlIGlmIChleHRlbnRbM10gPCB5KSB7XG4gICAgZHkgPSB5IC0gZXh0ZW50WzNdO1xuICB9IGVsc2Uge1xuICAgIGR5ID0gMDtcbiAgfVxuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHBhc3NlZCBjb29yZGluYXRlIGlzIGNvbnRhaW5lZCBvciBvbiB0aGUgZWRnZSBvZiB0aGUgZXh0ZW50LlxuICpcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGNvb3JkaW5hdGUgaXMgY29udGFpbmVkIGluIHRoZSBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc0Nvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlKSB7XG4gIHJldHVybiBjb250YWluc1hZKGV4dGVudCwgY29vcmRpbmF0ZVswXSwgY29vcmRpbmF0ZVsxXSk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgb25lIGV4dGVudCBjb250YWlucyBhbm90aGVyLlxuICpcbiAqIEFuIGV4dGVudCBpcyBkZWVtZWQgY29udGFpbmVkIGlmIGl0IGxpZXMgY29tcGxldGVseSB3aXRoaW4gdGhlIG90aGVyIGV4dGVudCxcbiAqIGluY2x1ZGluZyBpZiB0aGV5IHNoYXJlIG9uZSBvciBtb3JlIGVkZ2VzLlxuICpcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50IDIuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgc2Vjb25kIGV4dGVudCBpcyBjb250YWluZWQgYnkgb3Igb24gdGhlIGVkZ2Ugb2YgdGhlXG4gKiAgICAgZmlyc3QuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc0V4dGVudChleHRlbnQxLCBleHRlbnQyKSB7XG4gIHJldHVybiAoXG4gICAgZXh0ZW50MVswXSA8PSBleHRlbnQyWzBdICYmXG4gICAgZXh0ZW50MlsyXSA8PSBleHRlbnQxWzJdICYmXG4gICAgZXh0ZW50MVsxXSA8PSBleHRlbnQyWzFdICYmXG4gICAgZXh0ZW50MlszXSA8PSBleHRlbnQxWzNdXG4gICk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHBhc3NlZCBjb29yZGluYXRlIGlzIGNvbnRhaW5lZCBvciBvbiB0aGUgZWRnZSBvZiB0aGUgZXh0ZW50LlxuICpcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHggWCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWSBjb29yZGluYXRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHgsIHkgdmFsdWVzIGFyZSBjb250YWluZWQgaW4gdGhlIGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zWFkoZXh0ZW50LCB4LCB5KSB7XG4gIHJldHVybiBleHRlbnRbMF0gPD0geCAmJiB4IDw9IGV4dGVudFsyXSAmJiBleHRlbnRbMV0gPD0geSAmJiB5IDw9IGV4dGVudFszXTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGEgY29vcmRpbmF0ZSBhbmQgZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBUaGUgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50L1JlbGF0aW9uc2hpcC5qc1wiKS5kZWZhdWx0fSBUaGUgcmVsYXRpb25zaGlwIChiaXR3aXNlIGNvbXBhcmUgd2l0aFxuICogICAgIGltcG9ydChcIi4vZXh0ZW50L1JlbGF0aW9uc2hpcC5qc1wiKS5SZWxhdGlvbnNoaXApLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29vcmRpbmF0ZVJlbGF0aW9uc2hpcChleHRlbnQsIGNvb3JkaW5hdGUpIHtcbiAgY29uc3QgbWluWCA9IGV4dGVudFswXTtcbiAgY29uc3QgbWluWSA9IGV4dGVudFsxXTtcbiAgY29uc3QgbWF4WCA9IGV4dGVudFsyXTtcbiAgY29uc3QgbWF4WSA9IGV4dGVudFszXTtcbiAgY29uc3QgeCA9IGNvb3JkaW5hdGVbMF07XG4gIGNvbnN0IHkgPSBjb29yZGluYXRlWzFdO1xuICBsZXQgcmVsYXRpb25zaGlwID0gUmVsYXRpb25zaGlwLlVOS05PV047XG4gIGlmICh4IDwgbWluWCkge1xuICAgIHJlbGF0aW9uc2hpcCA9IHJlbGF0aW9uc2hpcCB8IFJlbGF0aW9uc2hpcC5MRUZUO1xuICB9IGVsc2UgaWYgKHggPiBtYXhYKSB7XG4gICAgcmVsYXRpb25zaGlwID0gcmVsYXRpb25zaGlwIHwgUmVsYXRpb25zaGlwLlJJR0hUO1xuICB9XG4gIGlmICh5IDwgbWluWSkge1xuICAgIHJlbGF0aW9uc2hpcCA9IHJlbGF0aW9uc2hpcCB8IFJlbGF0aW9uc2hpcC5CRUxPVztcbiAgfSBlbHNlIGlmICh5ID4gbWF4WSkge1xuICAgIHJlbGF0aW9uc2hpcCA9IHJlbGF0aW9uc2hpcCB8IFJlbGF0aW9uc2hpcC5BQk9WRTtcbiAgfVxuICBpZiAocmVsYXRpb25zaGlwID09PSBSZWxhdGlvbnNoaXAuVU5LTk9XTikge1xuICAgIHJlbGF0aW9uc2hpcCA9IFJlbGF0aW9uc2hpcC5JTlRFUlNFQ1RJTkc7XG4gIH1cbiAgcmV0dXJuIHJlbGF0aW9uc2hpcDtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gZW1wdHkgZXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFbXB0eSBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbXB0eSgpIHtcbiAgcmV0dXJuIFtJbmZpbml0eSwgSW5maW5pdHksIC1JbmZpbml0eSwgLUluZmluaXR5XTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgZXh0ZW50IG9yIHVwZGF0ZSB0aGUgcHJvdmlkZWQgZXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblggTWluaW11bSBYLlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblkgTWluaW11bSBZLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFggTWF4aW11bSBYLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFkgTWF4aW11bSBZLlxuICogQHBhcmFtIHtFeHRlbnR9IFtkZXN0XSBEZXN0aW5hdGlvbiBleHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlKG1pblgsIG1pblksIG1heFgsIG1heFksIGRlc3QpIHtcbiAgaWYgKGRlc3QpIHtcbiAgICBkZXN0WzBdID0gbWluWDtcbiAgICBkZXN0WzFdID0gbWluWTtcbiAgICBkZXN0WzJdID0gbWF4WDtcbiAgICBkZXN0WzNdID0gbWF4WTtcbiAgICByZXR1cm4gZGVzdDtcbiAgfVxuICByZXR1cm4gW21pblgsIG1pblksIG1heFgsIG1heFldO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBlbXB0eSBleHRlbnQgb3IgbWFrZSB0aGUgcHJvdmlkZWQgb25lIGVtcHR5LlxuICogQHBhcmFtIHtFeHRlbnR9IFtkZXN0XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRW1wdHkoZGVzdCkge1xuICByZXR1cm4gY3JlYXRlT3JVcGRhdGUoSW5maW5pdHksIEluZmluaXR5LCAtSW5maW5pdHksIC1JbmZpbml0eSwgZGVzdCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtFeHRlbnR9IFtkZXN0XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgZGVzdCkge1xuICBjb25zdCB4ID0gY29vcmRpbmF0ZVswXTtcbiAgY29uc3QgeSA9IGNvb3JkaW5hdGVbMV07XG4gIHJldHVybiBjcmVhdGVPclVwZGF0ZSh4LCB5LCB4LCB5LCBkZXN0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0V4dGVudH0gW2Rlc3RdIEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMsIGRlc3QpIHtcbiAgY29uc3QgZXh0ZW50ID0gY3JlYXRlT3JVcGRhdGVFbXB0eShkZXN0KTtcbiAgcmV0dXJuIGV4dGVuZENvb3JkaW5hdGVzKGV4dGVudCwgY29vcmRpbmF0ZXMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0V4dGVudH0gW2Rlc3RdIEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVGcm9tRmxhdENvb3JkaW5hdGVzKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIGRlc3Rcbikge1xuICBjb25zdCBleHRlbnQgPSBjcmVhdGVPclVwZGF0ZUVtcHR5KGRlc3QpO1xuICByZXR1cm4gZXh0ZW5kRmxhdENvb3JkaW5hdGVzKGV4dGVudCwgZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IHJpbmdzIFJpbmdzLlxuICogQHBhcmFtIHtFeHRlbnR9IFtkZXN0XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRnJvbVJpbmdzKHJpbmdzLCBkZXN0KSB7XG4gIGNvbnN0IGV4dGVudCA9IGNyZWF0ZU9yVXBkYXRlRW1wdHkoZGVzdCk7XG4gIHJldHVybiBleHRlbmRSaW5ncyhleHRlbnQsIHJpbmdzKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdHdvIGV4dGVudHMgYXJlIGVxdWl2YWxlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHR3byBleHRlbnRzIGFyZSBlcXVpdmFsZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGV4dGVudDEsIGV4dGVudDIpIHtcbiAgcmV0dXJuIChcbiAgICBleHRlbnQxWzBdID09IGV4dGVudDJbMF0gJiZcbiAgICBleHRlbnQxWzJdID09IGV4dGVudDJbMl0gJiZcbiAgICBleHRlbnQxWzFdID09IGV4dGVudDJbMV0gJiZcbiAgICBleHRlbnQxWzNdID09IGV4dGVudDJbM11cbiAgKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdHdvIGV4dGVudHMgYXJlIGFwcHJveGltYXRlbHkgZXF1aXZhbGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50IDIuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZSBpbiBleHRlbnQgY29vcmRpbmF0ZSB1bml0cy5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0d28gZXh0ZW50cyBkaWZmZXIgYnkgbGVzcyB0aGFuIHRoZSB0b2xlcmFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHByb3hpbWF0ZWx5RXF1YWxzKGV4dGVudDEsIGV4dGVudDIsIHRvbGVyYW5jZSkge1xuICByZXR1cm4gKFxuICAgIE1hdGguYWJzKGV4dGVudDFbMF0gLSBleHRlbnQyWzBdKSA8IHRvbGVyYW5jZSAmJlxuICAgIE1hdGguYWJzKGV4dGVudDFbMl0gLSBleHRlbnQyWzJdKSA8IHRvbGVyYW5jZSAmJlxuICAgIE1hdGguYWJzKGV4dGVudDFbMV0gLSBleHRlbnQyWzFdKSA8IHRvbGVyYW5jZSAmJlxuICAgIE1hdGguYWJzKGV4dGVudDFbM10gLSBleHRlbnQyWzNdKSA8IHRvbGVyYW5jZVxuICApO1xufVxuXG4vKipcbiAqIE1vZGlmeSBhbiBleHRlbnQgdG8gaW5jbHVkZSBhbm90aGVyIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIFRoZSBleHRlbnQgdG8gYmUgbW9kaWZpZWQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBUaGUgZXh0ZW50IHRoYXQgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgZmlyc3QuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEEgcmVmZXJlbmNlIHRvIHRoZSBmaXJzdCAoZXh0ZW5kZWQpIGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChleHRlbnQxLCBleHRlbnQyKSB7XG4gIGlmIChleHRlbnQyWzBdIDwgZXh0ZW50MVswXSkge1xuICAgIGV4dGVudDFbMF0gPSBleHRlbnQyWzBdO1xuICB9XG4gIGlmIChleHRlbnQyWzJdID4gZXh0ZW50MVsyXSkge1xuICAgIGV4dGVudDFbMl0gPSBleHRlbnQyWzJdO1xuICB9XG4gIGlmIChleHRlbnQyWzFdIDwgZXh0ZW50MVsxXSkge1xuICAgIGV4dGVudDFbMV0gPSBleHRlbnQyWzFdO1xuICB9XG4gIGlmIChleHRlbnQyWzNdID4gZXh0ZW50MVszXSkge1xuICAgIGV4dGVudDFbM10gPSBleHRlbnQyWzNdO1xuICB9XG4gIHJldHVybiBleHRlbnQxO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kQ29vcmRpbmF0ZShleHRlbnQsIGNvb3JkaW5hdGUpIHtcbiAgaWYgKGNvb3JkaW5hdGVbMF0gPCBleHRlbnRbMF0pIHtcbiAgICBleHRlbnRbMF0gPSBjb29yZGluYXRlWzBdO1xuICB9XG4gIGlmIChjb29yZGluYXRlWzBdID4gZXh0ZW50WzJdKSB7XG4gICAgZXh0ZW50WzJdID0gY29vcmRpbmF0ZVswXTtcbiAgfVxuICBpZiAoY29vcmRpbmF0ZVsxXSA8IGV4dGVudFsxXSkge1xuICAgIGV4dGVudFsxXSA9IGNvb3JkaW5hdGVbMV07XG4gIH1cbiAgaWYgKGNvb3JkaW5hdGVbMV0gPiBleHRlbnRbM10pIHtcbiAgICBleHRlbnRbM10gPSBjb29yZGluYXRlWzFdO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZENvb3JkaW5hdGVzKGV4dGVudCwgY29vcmRpbmF0ZXMpIHtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIGV4dGVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZEZsYXRDb29yZGluYXRlcyhcbiAgZXh0ZW50LFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGVcbikge1xuICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgZXh0ZW5kWFkoZXh0ZW50LCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSwgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdKTtcbiAgfVxuICByZXR1cm4gZXh0ZW50O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSByaW5ncyBSaW5ncy5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kUmluZ3MoZXh0ZW50LCByaW5ncykge1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSByaW5ncy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgZXh0ZW5kQ29vcmRpbmF0ZXMoZXh0ZW50LCByaW5nc1tpXSk7XG4gIH1cbiAgcmV0dXJuIGV4dGVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kWFkoZXh0ZW50LCB4LCB5KSB7XG4gIGV4dGVudFswXSA9IE1hdGgubWluKGV4dGVudFswXSwgeCk7XG4gIGV4dGVudFsxXSA9IE1hdGgubWluKGV4dGVudFsxXSwgeSk7XG4gIGV4dGVudFsyXSA9IE1hdGgubWF4KGV4dGVudFsyXSwgeCk7XG4gIGV4dGVudFszXSA9IE1hdGgubWF4KGV4dGVudFszXSwgeSk7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYWxscyBgY2FsbGJhY2tgIGZvciBlYWNoIGNvcm5lciBvZiB0aGUgZXh0ZW50LiBJZiB0aGVcbiAqIGNhbGxiYWNrIHJldHVybnMgYSB0cnV0aHkgdmFsdWUgdGhlIGZ1bmN0aW9uIHJldHVybnMgdGhhdCB2YWx1ZVxuICogaW1tZWRpYXRlbHkuIE90aGVyd2lzZSB0aGUgZnVuY3Rpb24gcmV0dXJucyBgZmFsc2VgLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogU30gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKiBAcmV0dXJuIHtTfGJvb2xlYW59IFZhbHVlLlxuICogQHRlbXBsYXRlIFNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2hDb3JuZXIoZXh0ZW50LCBjYWxsYmFjaykge1xuICBsZXQgdmFsO1xuICB2YWwgPSBjYWxsYmFjayhnZXRCb3R0b21MZWZ0KGV4dGVudCkpO1xuICBpZiAodmFsKSB7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuICB2YWwgPSBjYWxsYmFjayhnZXRCb3R0b21SaWdodChleHRlbnQpKTtcbiAgaWYgKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG4gIH1cbiAgdmFsID0gY2FsbGJhY2soZ2V0VG9wUmlnaHQoZXh0ZW50KSk7XG4gIGlmICh2YWwpIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG4gIHZhbCA9IGNhbGxiYWNrKGdldFRvcExlZnQoZXh0ZW50KSk7XG4gIGlmICh2YWwpIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHNpemUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcmVhKGV4dGVudCkge1xuICBsZXQgYXJlYSA9IDA7XG4gIGlmICghaXNFbXB0eShleHRlbnQpKSB7XG4gICAgYXJlYSA9IGdldFdpZHRoKGV4dGVudCkgKiBnZXRIZWlnaHQoZXh0ZW50KTtcbiAgfVxuICByZXR1cm4gYXJlYTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGJvdHRvbSBsZWZ0IGNvb3JkaW5hdGUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQm90dG9tIGxlZnQgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJvdHRvbUxlZnQoZXh0ZW50KSB7XG4gIHJldHVybiBbZXh0ZW50WzBdLCBleHRlbnRbMV1dO1xufVxuXG4vKipcbiAqIEdldCB0aGUgYm90dG9tIHJpZ2h0IGNvb3JkaW5hdGUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQm90dG9tIHJpZ2h0IGNvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCb3R0b21SaWdodChleHRlbnQpIHtcbiAgcmV0dXJuIFtleHRlbnRbMl0sIGV4dGVudFsxXV07XG59XG5cbi8qKlxuICogR2V0IHRoZSBjZW50ZXIgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDZW50ZXIuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDZW50ZXIoZXh0ZW50KSB7XG4gIHJldHVybiBbKGV4dGVudFswXSArIGV4dGVudFsyXSkgLyAyLCAoZXh0ZW50WzFdICsgZXh0ZW50WzNdKSAvIDJdO1xufVxuXG4vKipcbiAqIEdldCBhIGNvcm5lciBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtDb3JuZXJ9IGNvcm5lciBDb3JuZXIuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ29ybmVyIGNvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JuZXIoZXh0ZW50LCBjb3JuZXIpIHtcbiAgbGV0IGNvb3JkaW5hdGU7XG4gIGlmIChjb3JuZXIgPT09ICdib3R0b20tbGVmdCcpIHtcbiAgICBjb29yZGluYXRlID0gZ2V0Qm90dG9tTGVmdChleHRlbnQpO1xuICB9IGVsc2UgaWYgKGNvcm5lciA9PT0gJ2JvdHRvbS1yaWdodCcpIHtcbiAgICBjb29yZGluYXRlID0gZ2V0Qm90dG9tUmlnaHQoZXh0ZW50KTtcbiAgfSBlbHNlIGlmIChjb3JuZXIgPT09ICd0b3AtbGVmdCcpIHtcbiAgICBjb29yZGluYXRlID0gZ2V0VG9wTGVmdChleHRlbnQpO1xuICB9IGVsc2UgaWYgKGNvcm5lciA9PT0gJ3RvcC1yaWdodCcpIHtcbiAgICBjb29yZGluYXRlID0gZ2V0VG9wUmlnaHQoZXh0ZW50KTtcbiAgfSBlbHNlIHtcbiAgICBhc3NlcnQoZmFsc2UsIDEzKTsgLy8gSW52YWxpZCBjb3JuZXJcbiAgfVxuICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHJldHVybiB7bnVtYmVyfSBFbmxhcmdlZCBhcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5sYXJnZWRBcmVhKGV4dGVudDEsIGV4dGVudDIpIHtcbiAgY29uc3QgbWluWCA9IE1hdGgubWluKGV4dGVudDFbMF0sIGV4dGVudDJbMF0pO1xuICBjb25zdCBtaW5ZID0gTWF0aC5taW4oZXh0ZW50MVsxXSwgZXh0ZW50MlsxXSk7XG4gIGNvbnN0IG1heFggPSBNYXRoLm1heChleHRlbnQxWzJdLCBleHRlbnQyWzJdKTtcbiAgY29uc3QgbWF4WSA9IE1hdGgubWF4KGV4dGVudDFbM10sIGV4dGVudDJbM10pO1xuICByZXR1cm4gKG1heFggLSBtaW5YKSAqIChtYXhZIC0gbWluWSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIFNpemUuXG4gKiBAcGFyYW0ge0V4dGVudH0gW2Rlc3RdIERlc3RpbmF0aW9uIGV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9yVmlld0FuZFNpemUoY2VudGVyLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgc2l6ZSwgZGVzdCkge1xuICBjb25zdCBbeDAsIHkwLCB4MSwgeTEsIHgyLCB5MiwgeDMsIHkzXSA9IGdldFJvdGF0ZWRWaWV3cG9ydChcbiAgICBjZW50ZXIsXG4gICAgcmVzb2x1dGlvbixcbiAgICByb3RhdGlvbixcbiAgICBzaXplXG4gICk7XG4gIHJldHVybiBjcmVhdGVPclVwZGF0ZShcbiAgICBNYXRoLm1pbih4MCwgeDEsIHgyLCB4MyksXG4gICAgTWF0aC5taW4oeTAsIHkxLCB5MiwgeTMpLFxuICAgIE1hdGgubWF4KHgwLCB4MSwgeDIsIHgzKSxcbiAgICBNYXRoLm1heCh5MCwgeTEsIHkyLCB5MyksXG4gICAgZGVzdFxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gTGluZWFyIHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2aWV3cG9ydC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJvdGF0ZWRWaWV3cG9ydChjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBzaXplKSB7XG4gIGNvbnN0IGR4ID0gKHJlc29sdXRpb24gKiBzaXplWzBdKSAvIDI7XG4gIGNvbnN0IGR5ID0gKHJlc29sdXRpb24gKiBzaXplWzFdKSAvIDI7XG4gIGNvbnN0IGNvc1JvdGF0aW9uID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICBjb25zdCBzaW5Sb3RhdGlvbiA9IE1hdGguc2luKHJvdGF0aW9uKTtcbiAgY29uc3QgeENvcyA9IGR4ICogY29zUm90YXRpb247XG4gIGNvbnN0IHhTaW4gPSBkeCAqIHNpblJvdGF0aW9uO1xuICBjb25zdCB5Q29zID0gZHkgKiBjb3NSb3RhdGlvbjtcbiAgY29uc3QgeVNpbiA9IGR5ICogc2luUm90YXRpb247XG4gIGNvbnN0IHggPSBjZW50ZXJbMF07XG4gIGNvbnN0IHkgPSBjZW50ZXJbMV07XG4gIHJldHVybiBbXG4gICAgeCAtIHhDb3MgKyB5U2luLFxuICAgIHkgLSB4U2luIC0geUNvcyxcbiAgICB4IC0geENvcyAtIHlTaW4sXG4gICAgeSAtIHhTaW4gKyB5Q29zLFxuICAgIHggKyB4Q29zIC0geVNpbixcbiAgICB5ICsgeFNpbiArIHlDb3MsXG4gICAgeCArIHhDb3MgKyB5U2luLFxuICAgIHkgKyB4U2luIC0geUNvcyxcbiAgICB4IC0geENvcyArIHlTaW4sXG4gICAgeSAtIHhTaW4gLSB5Q29zLFxuICBdO1xufVxuXG4vKipcbiAqIEdldCB0aGUgaGVpZ2h0IG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBIZWlnaHQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRIZWlnaHQoZXh0ZW50KSB7XG4gIHJldHVybiBleHRlbnRbM10gLSBleHRlbnRbMV07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQgMi5cbiAqIEByZXR1cm4ge251bWJlcn0gSW50ZXJzZWN0aW9uIGFyZWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb25BcmVhKGV4dGVudDEsIGV4dGVudDIpIHtcbiAgY29uc3QgaW50ZXJzZWN0aW9uID0gZ2V0SW50ZXJzZWN0aW9uKGV4dGVudDEsIGV4dGVudDIpO1xuICByZXR1cm4gZ2V0QXJlYShpbnRlcnNlY3Rpb24pO1xufVxuXG4vKipcbiAqIEdldCB0aGUgaW50ZXJzZWN0aW9uIG9mIHR3byBleHRlbnRzLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQgMi5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbZGVzdF0gT3B0aW9uYWwgZXh0ZW50IHRvIHBvcHVsYXRlIHdpdGggaW50ZXJzZWN0aW9uLlxuICogQHJldHVybiB7RXh0ZW50fSBJbnRlcnNlY3RpbmcgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJzZWN0aW9uKGV4dGVudDEsIGV4dGVudDIsIGRlc3QpIHtcbiAgY29uc3QgaW50ZXJzZWN0aW9uID0gZGVzdCA/IGRlc3QgOiBjcmVhdGVFbXB0eSgpO1xuICBpZiAoaW50ZXJzZWN0cyhleHRlbnQxLCBleHRlbnQyKSkge1xuICAgIGlmIChleHRlbnQxWzBdID4gZXh0ZW50MlswXSkge1xuICAgICAgaW50ZXJzZWN0aW9uWzBdID0gZXh0ZW50MVswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW50ZXJzZWN0aW9uWzBdID0gZXh0ZW50MlswXTtcbiAgICB9XG4gICAgaWYgKGV4dGVudDFbMV0gPiBleHRlbnQyWzFdKSB7XG4gICAgICBpbnRlcnNlY3Rpb25bMV0gPSBleHRlbnQxWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcnNlY3Rpb25bMV0gPSBleHRlbnQyWzFdO1xuICAgIH1cbiAgICBpZiAoZXh0ZW50MVsyXSA8IGV4dGVudDJbMl0pIHtcbiAgICAgIGludGVyc2VjdGlvblsyXSA9IGV4dGVudDFbMl07XG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVyc2VjdGlvblsyXSA9IGV4dGVudDJbMl07XG4gICAgfVxuICAgIGlmIChleHRlbnQxWzNdIDwgZXh0ZW50MlszXSkge1xuICAgICAgaW50ZXJzZWN0aW9uWzNdID0gZXh0ZW50MVszXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW50ZXJzZWN0aW9uWzNdID0gZXh0ZW50MlszXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY3JlYXRlT3JVcGRhdGVFbXB0eShpbnRlcnNlY3Rpb24pO1xuICB9XG4gIHJldHVybiBpbnRlcnNlY3Rpb247XG59XG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1hcmdpbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1hcmdpbihleHRlbnQpIHtcbiAgcmV0dXJuIGdldFdpZHRoKGV4dGVudCkgKyBnZXRIZWlnaHQoZXh0ZW50KTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHNpemUgKHdpZHRoLCBoZWlnaHQpIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgVGhlIGV4dGVudC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBUaGUgZXh0ZW50IHNpemUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaXplKGV4dGVudCkge1xuICByZXR1cm4gW2V4dGVudFsyXSAtIGV4dGVudFswXSwgZXh0ZW50WzNdIC0gZXh0ZW50WzFdXTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHRvcCBsZWZ0IGNvb3JkaW5hdGUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gVG9wIGxlZnQgY29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRvcExlZnQoZXh0ZW50KSB7XG4gIHJldHVybiBbZXh0ZW50WzBdLCBleHRlbnRbM11dO1xufVxuXG4vKipcbiAqIEdldCB0aGUgdG9wIHJpZ2h0IGNvb3JkaW5hdGUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gVG9wIHJpZ2h0IGNvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3BSaWdodChleHRlbnQpIHtcbiAgcmV0dXJuIFtleHRlbnRbMl0sIGV4dGVudFszXV07XG59XG5cbi8qKlxuICogR2V0IHRoZSB3aWR0aCBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gV2lkdGguXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXaWR0aChleHRlbnQpIHtcbiAgcmV0dXJuIGV4dGVudFsyXSAtIGV4dGVudFswXTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgb25lIGV4dGVudCBpbnRlcnNlY3RzIGFub3RoZXIuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0d28gZXh0ZW50cyBpbnRlcnNlY3QuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzKGV4dGVudDEsIGV4dGVudDIpIHtcbiAgcmV0dXJuIChcbiAgICBleHRlbnQxWzBdIDw9IGV4dGVudDJbMl0gJiZcbiAgICBleHRlbnQxWzJdID49IGV4dGVudDJbMF0gJiZcbiAgICBleHRlbnQxWzFdIDw9IGV4dGVudDJbM10gJiZcbiAgICBleHRlbnQxWzNdID49IGV4dGVudDJbMV1cbiAgKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYW4gZXh0ZW50IGlzIGVtcHR5LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkoZXh0ZW50KSB7XG4gIHJldHVybiBleHRlbnRbMl0gPCBleHRlbnRbMF0gfHwgZXh0ZW50WzNdIDwgZXh0ZW50WzFdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IFtkZXN0XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJldHVybk9yVXBkYXRlKGV4dGVudCwgZGVzdCkge1xuICBpZiAoZGVzdCkge1xuICAgIGRlc3RbMF0gPSBleHRlbnRbMF07XG4gICAgZGVzdFsxXSA9IGV4dGVudFsxXTtcbiAgICBkZXN0WzJdID0gZXh0ZW50WzJdO1xuICAgIGRlc3RbM10gPSBleHRlbnRbM107XG4gICAgcmV0dXJuIGRlc3Q7XG4gIH1cbiAgcmV0dXJuIGV4dGVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlRnJvbUNlbnRlcihleHRlbnQsIHZhbHVlKSB7XG4gIGNvbnN0IGRlbHRhWCA9ICgoZXh0ZW50WzJdIC0gZXh0ZW50WzBdKSAvIDIpICogKHZhbHVlIC0gMSk7XG4gIGNvbnN0IGRlbHRhWSA9ICgoZXh0ZW50WzNdIC0gZXh0ZW50WzFdKSAvIDIpICogKHZhbHVlIC0gMSk7XG4gIGV4dGVudFswXSAtPSBkZWx0YVg7XG4gIGV4dGVudFsyXSArPSBkZWx0YVg7XG4gIGV4dGVudFsxXSAtPSBkZWx0YVk7XG4gIGV4dGVudFszXSArPSBkZWx0YVk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoZSBzZWdtZW50IGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzIGludGVyc2VjdHMgKGNyb3NzZXMsXG4gKiB0b3VjaGVzLCBvciBpcyBjb250YWluZWQgYnkpIHRoZSBwcm92aWRlZCBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBzdGFydCBTZWdtZW50IHN0YXJ0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBlbmQgU2VnbWVudCBlbmQgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBzZWdtZW50IGludGVyc2VjdHMgdGhlIGV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNTZWdtZW50KGV4dGVudCwgc3RhcnQsIGVuZCkge1xuICBsZXQgaW50ZXJzZWN0cyA9IGZhbHNlO1xuICBjb25zdCBzdGFydFJlbCA9IGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAoZXh0ZW50LCBzdGFydCk7XG4gIGNvbnN0IGVuZFJlbCA9IGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAoZXh0ZW50LCBlbmQpO1xuICBpZiAoXG4gICAgc3RhcnRSZWwgPT09IFJlbGF0aW9uc2hpcC5JTlRFUlNFQ1RJTkcgfHxcbiAgICBlbmRSZWwgPT09IFJlbGF0aW9uc2hpcC5JTlRFUlNFQ1RJTkdcbiAgKSB7XG4gICAgaW50ZXJzZWN0cyA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbWluWCA9IGV4dGVudFswXTtcbiAgICBjb25zdCBtaW5ZID0gZXh0ZW50WzFdO1xuICAgIGNvbnN0IG1heFggPSBleHRlbnRbMl07XG4gICAgY29uc3QgbWF4WSA9IGV4dGVudFszXTtcbiAgICBjb25zdCBzdGFydFggPSBzdGFydFswXTtcbiAgICBjb25zdCBzdGFydFkgPSBzdGFydFsxXTtcbiAgICBjb25zdCBlbmRYID0gZW5kWzBdO1xuICAgIGNvbnN0IGVuZFkgPSBlbmRbMV07XG4gICAgY29uc3Qgc2xvcGUgPSAoZW5kWSAtIHN0YXJ0WSkgLyAoZW5kWCAtIHN0YXJ0WCk7XG4gICAgbGV0IHgsIHk7XG4gICAgaWYgKCEhKGVuZFJlbCAmIFJlbGF0aW9uc2hpcC5BQk9WRSkgJiYgIShzdGFydFJlbCAmIFJlbGF0aW9uc2hpcC5BQk9WRSkpIHtcbiAgICAgIC8vIHBvdGVudGlhbGx5IGludGVyc2VjdHMgdG9wXG4gICAgICB4ID0gZW5kWCAtIChlbmRZIC0gbWF4WSkgLyBzbG9wZTtcbiAgICAgIGludGVyc2VjdHMgPSB4ID49IG1pblggJiYgeCA8PSBtYXhYO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhaW50ZXJzZWN0cyAmJlxuICAgICAgISEoZW5kUmVsICYgUmVsYXRpb25zaGlwLlJJR0hUKSAmJlxuICAgICAgIShzdGFydFJlbCAmIFJlbGF0aW9uc2hpcC5SSUdIVClcbiAgICApIHtcbiAgICAgIC8vIHBvdGVudGlhbGx5IGludGVyc2VjdHMgcmlnaHRcbiAgICAgIHkgPSBlbmRZIC0gKGVuZFggLSBtYXhYKSAqIHNsb3BlO1xuICAgICAgaW50ZXJzZWN0cyA9IHkgPj0gbWluWSAmJiB5IDw9IG1heFk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICFpbnRlcnNlY3RzICYmXG4gICAgICAhIShlbmRSZWwgJiBSZWxhdGlvbnNoaXAuQkVMT1cpICYmXG4gICAgICAhKHN0YXJ0UmVsICYgUmVsYXRpb25zaGlwLkJFTE9XKVxuICAgICkge1xuICAgICAgLy8gcG90ZW50aWFsbHkgaW50ZXJzZWN0cyBib3R0b21cbiAgICAgIHggPSBlbmRYIC0gKGVuZFkgLSBtaW5ZKSAvIHNsb3BlO1xuICAgICAgaW50ZXJzZWN0cyA9IHggPj0gbWluWCAmJiB4IDw9IG1heFg7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICFpbnRlcnNlY3RzICYmXG4gICAgICAhIShlbmRSZWwgJiBSZWxhdGlvbnNoaXAuTEVGVCkgJiZcbiAgICAgICEoc3RhcnRSZWwgJiBSZWxhdGlvbnNoaXAuTEVGVClcbiAgICApIHtcbiAgICAgIC8vIHBvdGVudGlhbGx5IGludGVyc2VjdHMgbGVmdFxuICAgICAgeSA9IGVuZFkgLSAoZW5kWCAtIG1pblgpICogc2xvcGU7XG4gICAgICBpbnRlcnNlY3RzID0geSA+PSBtaW5ZICYmIHkgPD0gbWF4WTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGludGVyc2VjdHM7XG59XG5cbi8qKlxuICogQXBwbHkgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gdG8gdGhlIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IHRyYW5zZm9ybUZuIFRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqIENhbGxlZCB3aXRoIGBbbWluWCwgbWluWSwgbWF4WCwgbWF4WV1gIGV4dGVudCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbZGVzdF0gRGVzdGluYXRpb24gZXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdG9wc10gTnVtYmVyIG9mIHN0b3BzIHBlciBzaWRlIHVzZWQgZm9yIHRoZSB0cmFuc2Zvcm0uXG4gKiBCeSBkZWZhdWx0IG9ubHkgdGhlIGNvcm5lcnMgYXJlIHVzZWQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5VHJhbnNmb3JtKGV4dGVudCwgdHJhbnNmb3JtRm4sIGRlc3QsIHN0b3BzKSB7XG4gIGxldCBjb29yZGluYXRlcyA9IFtdO1xuICBpZiAoc3RvcHMgPiAxKSB7XG4gICAgY29uc3Qgd2lkdGggPSBleHRlbnRbMl0gLSBleHRlbnRbMF07XG4gICAgY29uc3QgaGVpZ2h0ID0gZXh0ZW50WzNdIC0gZXh0ZW50WzFdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RvcHM7ICsraSkge1xuICAgICAgY29vcmRpbmF0ZXMucHVzaChcbiAgICAgICAgZXh0ZW50WzBdICsgKHdpZHRoICogaSkgLyBzdG9wcyxcbiAgICAgICAgZXh0ZW50WzFdLFxuICAgICAgICBleHRlbnRbMl0sXG4gICAgICAgIGV4dGVudFsxXSArIChoZWlnaHQgKiBpKSAvIHN0b3BzLFxuICAgICAgICBleHRlbnRbMl0gLSAod2lkdGggKiBpKSAvIHN0b3BzLFxuICAgICAgICBleHRlbnRbM10sXG4gICAgICAgIGV4dGVudFswXSxcbiAgICAgICAgZXh0ZW50WzNdIC0gKGhlaWdodCAqIGkpIC8gc3RvcHNcbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvb3JkaW5hdGVzID0gW1xuICAgICAgZXh0ZW50WzBdLFxuICAgICAgZXh0ZW50WzFdLFxuICAgICAgZXh0ZW50WzJdLFxuICAgICAgZXh0ZW50WzFdLFxuICAgICAgZXh0ZW50WzJdLFxuICAgICAgZXh0ZW50WzNdLFxuICAgICAgZXh0ZW50WzBdLFxuICAgICAgZXh0ZW50WzNdLFxuICAgIF07XG4gIH1cbiAgdHJhbnNmb3JtRm4oY29vcmRpbmF0ZXMsIGNvb3JkaW5hdGVzLCAyKTtcbiAgY29uc3QgeHMgPSBbXTtcbiAgY29uc3QgeXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHtcbiAgICB4cy5wdXNoKGNvb3JkaW5hdGVzW2ldKTtcbiAgICB5cy5wdXNoKGNvb3JkaW5hdGVzW2kgKyAxXSk7XG4gIH1cbiAgcmV0dXJuIF9ib3VuZGluZ0V4dGVudFhZcyh4cywgeXMsIGRlc3QpO1xufVxuXG4vKipcbiAqIE1vZGlmaWVzIHRoZSBwcm92aWRlZCBleHRlbnQgaW4tcGxhY2UgdG8gYmUgd2l0aGluIHRoZSByZWFsIHdvcmxkXG4gKiBleHRlbnQuXG4gKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvblxuICogQHJldHVybiB7RXh0ZW50fSBUaGUgZXh0ZW50IHdpdGhpbiB0aGUgcmVhbCB3b3JsZCBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwWChleHRlbnQsIHByb2plY3Rpb24pIHtcbiAgY29uc3QgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gIGNvbnN0IGNlbnRlciA9IGdldENlbnRlcihleHRlbnQpO1xuICBpZiAoXG4gICAgcHJvamVjdGlvbi5jYW5XcmFwWCgpICYmXG4gICAgKGNlbnRlclswXSA8IHByb2plY3Rpb25FeHRlbnRbMF0gfHwgY2VudGVyWzBdID49IHByb2plY3Rpb25FeHRlbnRbMl0pXG4gICkge1xuICAgIGNvbnN0IHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICBjb25zdCB3b3JsZHNBd2F5ID0gTWF0aC5mbG9vcihcbiAgICAgIChjZW50ZXJbMF0gLSBwcm9qZWN0aW9uRXh0ZW50WzBdKSAvIHdvcmxkV2lkdGhcbiAgICApO1xuICAgIGNvbnN0IG9mZnNldCA9IHdvcmxkc0F3YXkgKiB3b3JsZFdpZHRoO1xuICAgIGV4dGVudFswXSAtPSBvZmZzZXQ7XG4gICAgZXh0ZW50WzJdIC09IG9mZnNldDtcbiAgfVxuICByZXR1cm4gZXh0ZW50O1xufVxuXG4vKipcbiAqIEZpdHMgdGhlIGV4dGVudCB0byB0aGUgcmVhbCB3b3JsZFxuICpcbiAqIElmIHRoZSBleHRlbnQgZG9lcyBub3QgY3Jvc3MgdGhlIGFudGkgbWVyaWRpYW4sIHRoaXMgd2lsbCByZXR1cm4gdGhlIGV4dGVudCBpbiBhbiBhcnJheVxuICogSWYgdGhlIGV4dGVudCBjcm9zc2VzIHRoZSBhbnRpIG1lcmlkaWFuLCB0aGUgZXh0ZW50IHdpbGwgYmUgc2xpY2VkLCBzbyBlYWNoIHBhcnQgZml0cyB3aXRoaW4gdGhlXG4gKiByZWFsIHdvcmxkXG4gKlxuICpcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb25cbiAqIEByZXR1cm4ge0FycmF5PEV4dGVudD59IFRoZSBleHRlbnQgd2l0aGluIHRoZSByZWFsIHdvcmxkIGV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBBbmRTbGljZVgoZXh0ZW50LCBwcm9qZWN0aW9uKSB7XG4gIGlmIChwcm9qZWN0aW9uLmNhbldyYXBYKCkpIHtcbiAgICBjb25zdCBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcblxuICAgIGlmICghaXNGaW5pdGUoZXh0ZW50WzBdKSB8fCAhaXNGaW5pdGUoZXh0ZW50WzJdKSkge1xuICAgICAgcmV0dXJuIFtbcHJvamVjdGlvbkV4dGVudFswXSwgZXh0ZW50WzFdLCBwcm9qZWN0aW9uRXh0ZW50WzJdLCBleHRlbnRbM11dXTtcbiAgICB9XG5cbiAgICB3cmFwWChleHRlbnQsIHByb2plY3Rpb24pO1xuICAgIGNvbnN0IHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcblxuICAgIGlmIChnZXRXaWR0aChleHRlbnQpID4gd29ybGRXaWR0aCkge1xuICAgICAgLy8gdGhlIGV4dGVudCB3cmFwcyBhcm91bmQgb24gaXRzZWxmXG4gICAgICByZXR1cm4gW1twcm9qZWN0aW9uRXh0ZW50WzBdLCBleHRlbnRbMV0sIHByb2plY3Rpb25FeHRlbnRbMl0sIGV4dGVudFszXV1dO1xuICAgIH0gZWxzZSBpZiAoZXh0ZW50WzBdIDwgcHJvamVjdGlvbkV4dGVudFswXSkge1xuICAgICAgLy8gdGhlIGV4dGVudCBjcm9zc2VzIHRoZSBhbnRpIG1lcmlkaWFuLCBzbyBpdCBuZWVkcyB0byBiZSBzbGljZWRcbiAgICAgIHJldHVybiBbXG4gICAgICAgIFtleHRlbnRbMF0gKyB3b3JsZFdpZHRoLCBleHRlbnRbMV0sIHByb2plY3Rpb25FeHRlbnRbMl0sIGV4dGVudFszXV0sXG4gICAgICAgIFtwcm9qZWN0aW9uRXh0ZW50WzBdLCBleHRlbnRbMV0sIGV4dGVudFsyXSwgZXh0ZW50WzNdXSxcbiAgICAgIF07XG4gICAgfSBlbHNlIGlmIChleHRlbnRbMl0gPiBwcm9qZWN0aW9uRXh0ZW50WzJdKSB7XG4gICAgICAvLyB0aGUgZXh0ZW50IGNyb3NzZXMgdGhlIGFudGkgbWVyaWRpYW4sIHNvIGl0IG5lZWRzIHRvIGJlIHNsaWNlZFxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgW2V4dGVudFswXSwgZXh0ZW50WzFdLCBwcm9qZWN0aW9uRXh0ZW50WzJdLCBleHRlbnRbM11dLFxuICAgICAgICBbcHJvamVjdGlvbkV4dGVudFswXSwgZXh0ZW50WzFdLCBleHRlbnRbMl0gLSB3b3JsZFdpZHRoLCBleHRlbnRbM11dLFxuICAgICAgXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gW2V4dGVudF07XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZXh0ZW50L1JlbGF0aW9uc2hpcFxuICovXG5cbi8qKlxuICogUmVsYXRpb25zaGlwIHRvIGFuIGV4dGVudC5cbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgVU5LTk9XTjogMCxcbiAgSU5URVJTRUNUSU5HOiAxLFxuICBBQk9WRTogMixcbiAgUklHSFQ6IDQsXG4gIEJFTE9XOiA4LFxuICBMRUZUOiAxNixcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZm9ybWF0L0ZlYXR1cmVcbiAqL1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQge1xuICBlcXVpdmFsZW50IGFzIGVxdWl2YWxlbnRQcm9qZWN0aW9uLFxuICBnZXQgYXMgZ2V0UHJvamVjdGlvbixcbiAgdHJhbnNmb3JtRXh0ZW50LFxufSBmcm9tICcuLi9wcm9qLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBSZWFkT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbZGF0YVByb2plY3Rpb25dIFByb2plY3Rpb24gb2YgdGhlIGRhdGEgd2UgYXJlIHJlYWRpbmcuXG4gKiBJZiBub3QgcHJvdmlkZWQsIHRoZSBwcm9qZWN0aW9uIHdpbGwgYmUgZGVyaXZlZCBmcm9tIHRoZSBkYXRhICh3aGVyZSBwb3NzaWJsZSkgb3JcbiAqIHRoZSBgZGF0YVByb2plY3Rpb25gIG9mIHRoZSBmb3JtYXQgaXMgYXNzaWduZWQgKHdoZXJlIHNldCkuIElmIHRoZSBwcm9qZWN0aW9uXG4gKiBjYW4gbm90IGJlIGRlcml2ZWQgZnJvbSB0aGUgZGF0YSBhbmQgaWYgbm8gYGRhdGFQcm9qZWN0aW9uYCBpcyBzZXQgZm9yIGEgZm9ybWF0LFxuICogdGhlIGZlYXR1cmVzIHdpbGwgbm90IGJlIHJlcHJvamVjdGVkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaWxlIGV4dGVudCBpbiBtYXAgdW5pdHMgb2YgdGhlIHRpbGUgYmVpbmcgcmVhZC5cbiAqIFRoaXMgaXMgb25seSByZXF1aXJlZCB3aGVuIHJlYWRpbmcgZGF0YSB3aXRoIHRpbGUgcGl4ZWxzIGFzIGdlb21ldHJ5IHVuaXRzLiBXaGVuIGNvbmZpZ3VyZWQsXG4gKiBhIGBkYXRhUHJvamVjdGlvbmAgd2l0aCBgVElMRV9QSVhFTFNgIGFzIGB1bml0c2AgYW5kIHRoZSB0aWxlJ3MgcGl4ZWwgZXh0ZW50IGFzIGBleHRlbnRgIG5lZWRzIHRvIGJlXG4gKiBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW2ZlYXR1cmVQcm9qZWN0aW9uXSBQcm9qZWN0aW9uIG9mIHRoZSBmZWF0dXJlIGdlb21ldHJpZXNcbiAqIGNyZWF0ZWQgYnkgdGhlIGZvcm1hdCByZWFkZXIuIElmIG5vdCBwcm92aWRlZCwgZmVhdHVyZXMgd2lsbCBiZSByZXR1cm5lZCBpbiB0aGVcbiAqIGBkYXRhUHJvamVjdGlvbmAuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBXcml0ZU9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW2RhdGFQcm9qZWN0aW9uXSBQcm9qZWN0aW9uIG9mIHRoZSBkYXRhIHdlIGFyZSB3cml0aW5nLlxuICogSWYgbm90IHByb3ZpZGVkLCB0aGUgYGRhdGFQcm9qZWN0aW9uYCBvZiB0aGUgZm9ybWF0IGlzIGFzc2lnbmVkICh3aGVyZSBzZXQpLlxuICogSWYgbm8gYGRhdGFQcm9qZWN0aW9uYCBpcyBzZXQgZm9yIGEgZm9ybWF0LCB0aGUgZmVhdHVyZXMgd2lsbCBiZSByZXR1cm5lZFxuICogaW4gdGhlIGBmZWF0dXJlUHJvamVjdGlvbmAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtmZWF0dXJlUHJvamVjdGlvbl0gUHJvamVjdGlvbiBvZiB0aGUgZmVhdHVyZSBnZW9tZXRyaWVzXG4gKiB0aGF0IHdpbGwgYmUgc2VyaWFsaXplZCBieSB0aGUgZm9ybWF0IHdyaXRlci4gSWYgbm90IHByb3ZpZGVkLCBnZW9tZXRyaWVzIGFyZSBhc3N1bWVkXG4gKiB0byBiZSBpbiB0aGUgYGRhdGFQcm9qZWN0aW9uYCBpZiB0aGF0IGlzIHNldDsgaW4gb3RoZXIgd29yZHMsIHRoZXkgYXJlIG5vdCB0cmFuc2Zvcm1lZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JpZ2h0SGFuZGVkXSBXaGVuIHdyaXRpbmcgZ2VvbWV0cmllcywgZm9sbG93IHRoZSByaWdodC1oYW5kXG4gKiBydWxlIGZvciBsaW5lYXIgcmluZyBvcmllbnRhdGlvbi4gIFRoaXMgbWVhbnMgdGhhdCBwb2x5Z29ucyB3aWxsIGhhdmUgY291bnRlci1jbG9ja3dpc2VcbiAqIGV4dGVyaW9yIHJpbmdzIGFuZCBjbG9ja3dpc2UgaW50ZXJpb3IgcmluZ3MuICBCeSBkZWZhdWx0LCBjb29yZGluYXRlcyBhcmUgc2VyaWFsaXplZFxuICogYXMgdGhleSBhcmUgcHJvdmlkZWQgYXQgY29uc3RydWN0aW9uLiAgSWYgYHRydWVgLCB0aGUgcmlnaHQtaGFuZCBydWxlIHdpbGxcbiAqIGJlIGFwcGxpZWQuICBJZiBgZmFsc2VgLCB0aGUgbGVmdC1oYW5kIHJ1bGUgd2lsbCBiZSBhcHBsaWVkIChjbG9ja3dpc2UgZm9yXG4gKiBleHRlcmlvciBhbmQgY291bnRlci1jbG9ja3dpc2UgZm9yIGludGVyaW9yIHJpbmdzKS4gIE5vdGUgdGhhdCBub3QgYWxsXG4gKiBmb3JtYXRzIHN1cHBvcnQgdGhpcy4gIFRoZSBHZW9KU09OIGZvcm1hdCBkb2VzIHVzZSB0aGlzIHByb3BlcnR5IHdoZW4gd3JpdGluZ1xuICogZ2VvbWV0cmllcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZGVjaW1hbHNdIE1heGltdW0gbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIGZvciBjb29yZGluYXRlcy5cbiAqIENvb3JkaW5hdGVzIGFyZSBzdG9yZWQgaW50ZXJuYWxseSBhcyBmbG9hdHMsIGJ1dCBmbG9hdGluZy1wb2ludCBhcml0aG1ldGljIGNhbiBjcmVhdGVcbiAqIGNvb3JkaW5hdGVzIHdpdGggYSBsYXJnZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMsIG5vdCBnZW5lcmFsbHkgd2FudGVkIG9uIG91dHB1dC5cbiAqIFNldCBhIG51bWJlciBoZXJlIHRvIHJvdW5kIGNvb3JkaW5hdGVzLiBDYW4gYWxzbyBiZSB1c2VkIHRvIGVuc3VyZSB0aGF0XG4gKiBjb29yZGluYXRlcyByZWFkIGluIGNhbiBiZSB3cml0dGVuIGJhY2sgb3V0IHdpdGggdGhlIHNhbWUgbnVtYmVyIG9mIGRlY2ltYWxzLlxuICogRGVmYXVsdCBpcyBubyByb3VuZGluZy5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsnYXJyYXlidWZmZXInIHwgJ2pzb24nIHwgJ3RleHQnIHwgJ3htbCd9IFR5cGVcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEJhc2UgY2xhc3MgZm9yIGZlYXR1cmUgZm9ybWF0cy5cbiAqIHtAbGluayBtb2R1bGU6b2wvZm9ybWF0L0ZlYXR1cmV+RmVhdHVyZUZvcm1hdH0gc3ViY2xhc3NlcyBwcm92aWRlIHRoZSBhYmlsaXR5IHRvIGRlY29kZSBhbmQgZW5jb2RlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZX0gb2JqZWN0cyBmcm9tIGEgdmFyaWV0eSBvZiBjb21tb25seSB1c2VkIGdlb3NwYXRpYWxcbiAqIGZpbGUgZm9ybWF0cy4gIFNlZSB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgZWFjaCBmb3JtYXQgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBhcGlcbiAqL1xuY2xhc3MgRmVhdHVyZUZvcm1hdCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuZGF0YVByb2plY3Rpb24gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmRlZmF1bHRGZWF0dXJlUHJvamVjdGlvbiA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEEgbGlzdCBtZWRpYSB0eXBlcyBzdXBwb3J0ZWQgYnkgdGhlIGZvcm1hdCBpbiBkZXNjZW5kaW5nIG9yZGVyIG9mIHByZWZlcmVuY2UuXG4gICAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5zdXBwb3J0ZWRNZWRpYVR5cGVzID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBkYXRhIHByb2plY3Rpb24gdG8gdGhlIHJlYWQgb3B0aW9ucy5cbiAgICogQHBhcmFtIHtEb2N1bWVudHxFbGVtZW50fE9iamVjdHxzdHJpbmd9IHNvdXJjZSBTb3VyY2UuXG4gICAqIEBwYXJhbSB7UmVhZE9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKiBAcmV0dXJuIHtSZWFkT3B0aW9uc3x1bmRlZmluZWR9IE9wdGlvbnMuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGdldFJlYWRPcHRpb25zKHNvdXJjZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICBsZXQgZGF0YVByb2plY3Rpb24gPSBvcHRpb25zLmRhdGFQcm9qZWN0aW9uXG4gICAgICAgID8gZ2V0UHJvamVjdGlvbihvcHRpb25zLmRhdGFQcm9qZWN0aW9uKVxuICAgICAgICA6IHRoaXMucmVhZFByb2plY3Rpb24oc291cmNlKTtcbiAgICAgIGlmIChcbiAgICAgICAgb3B0aW9ucy5leHRlbnQgJiZcbiAgICAgICAgZGF0YVByb2plY3Rpb24gJiZcbiAgICAgICAgZGF0YVByb2plY3Rpb24uZ2V0VW5pdHMoKSA9PT0gJ3RpbGUtcGl4ZWxzJ1xuICAgICAgKSB7XG4gICAgICAgIGRhdGFQcm9qZWN0aW9uID0gZ2V0UHJvamVjdGlvbihkYXRhUHJvamVjdGlvbik7XG4gICAgICAgIGRhdGFQcm9qZWN0aW9uLnNldFdvcmxkRXh0ZW50KG9wdGlvbnMuZXh0ZW50KTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIGRhdGFQcm9qZWN0aW9uOiBkYXRhUHJvamVjdGlvbixcbiAgICAgICAgZmVhdHVyZVByb2plY3Rpb246IG9wdGlvbnMuZmVhdHVyZVByb2plY3Rpb24sXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hZGFwdE9wdGlvbnMob3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgYGRhdGFQcm9qZWN0aW9uYCBvbiB0aGUgb3B0aW9ucywgaWYgbm8gYGRhdGFQcm9qZWN0aW9uYFxuICAgKiBpcyBzZXQuXG4gICAqIEBwYXJhbSB7V3JpdGVPcHRpb25zfFJlYWRPcHRpb25zfHVuZGVmaW5lZH0gb3B0aW9uc1xuICAgKiAgICAgT3B0aW9ucy5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAcmV0dXJuIHtXcml0ZU9wdGlvbnN8UmVhZE9wdGlvbnN8dW5kZWZpbmVkfVxuICAgKiAgICAgVXBkYXRlZCBvcHRpb25zLlxuICAgKi9cbiAgYWRhcHRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgZGF0YVByb2plY3Rpb246IHRoaXMuZGF0YVByb2plY3Rpb24sXG4gICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiB0aGlzLmRlZmF1bHRGZWF0dXJlUHJvamVjdGlvbixcbiAgICAgIH0sXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7VHlwZX0gVGhlIGZvcm1hdCB0eXBlLlxuICAgKi9cbiAgZ2V0VHlwZSgpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkIGEgc2luZ2xlIGZlYXR1cmUgZnJvbSBhIHNvdXJjZS5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7RG9jdW1lbnR8RWxlbWVudHxPYmplY3R8c3RyaW5nfSBzb3VyY2UgU291cmNlLlxuICAgKiBAcGFyYW0ge1JlYWRPcHRpb25zfSBbb3B0aW9uc10gUmVhZCBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBGZWF0dXJlLlxuICAgKi9cbiAgcmVhZEZlYXR1cmUoc291cmNlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVhZCBhbGwgZmVhdHVyZXMgZnJvbSBhIHNvdXJjZS5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7RG9jdW1lbnR8RWxlbWVudHxBcnJheUJ1ZmZlcnxPYmplY3R8c3RyaW5nfSBzb3VyY2UgU291cmNlLlxuICAgKiBAcGFyYW0ge1JlYWRPcHRpb25zfSBbb3B0aW9uc10gUmVhZCBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlPn0gRmVhdHVyZXMuXG4gICAqL1xuICByZWFkRmVhdHVyZXMoc291cmNlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVhZCBhIHNpbmdsZSBnZW9tZXRyeSBmcm9tIGEgc291cmNlLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtEb2N1bWVudHxFbGVtZW50fE9iamVjdHxzdHJpbmd9IHNvdXJjZSBTb3VyY2UuXG4gICAqIEBwYXJhbSB7UmVhZE9wdGlvbnN9IFtvcHRpb25zXSBSZWFkIG9wdGlvbnMuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gR2VvbWV0cnkuXG4gICAqL1xuICByZWFkR2VvbWV0cnkoc291cmNlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVhZCB0aGUgcHJvamVjdGlvbiBmcm9tIGEgc291cmNlLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtEb2N1bWVudHxFbGVtZW50fE9iamVjdHxzdHJpbmd9IHNvdXJjZSBTb3VyY2UuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gUHJvamVjdGlvbi5cbiAgICovXG4gIHJlYWRQcm9qZWN0aW9uKHNvdXJjZSkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuY29kZSBhIGZlYXR1cmUgaW4gdGhpcyBmb3JtYXQuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKiBAcGFyYW0ge1dyaXRlT3B0aW9uc30gW29wdGlvbnNdIFdyaXRlIG9wdGlvbnMuXG4gICAqIEByZXR1cm4ge3N0cmluZ3xBcnJheUJ1ZmZlcn0gUmVzdWx0LlxuICAgKi9cbiAgd3JpdGVGZWF0dXJlKGZlYXR1cmUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmNvZGUgYW4gYXJyYXkgb2YgZmVhdHVyZXMgaW4gdGhpcyBmb3JtYXQuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59IGZlYXR1cmVzIEZlYXR1cmVzLlxuICAgKiBAcGFyYW0ge1dyaXRlT3B0aW9uc30gW29wdGlvbnNdIFdyaXRlIG9wdGlvbnMuXG4gICAqIEByZXR1cm4ge3N0cmluZ3xBcnJheUJ1ZmZlcn0gUmVzdWx0LlxuICAgKi9cbiAgd3JpdGVGZWF0dXJlcyhmZWF0dXJlcywgb3B0aW9ucykge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyaXRlIGEgc2luZ2xlIGdlb21ldHJ5IGluIHRoaXMgZm9ybWF0LlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge1dyaXRlT3B0aW9uc30gW29wdGlvbnNdIFdyaXRlIG9wdGlvbnMuXG4gICAqIEByZXR1cm4ge3N0cmluZ3xBcnJheUJ1ZmZlcn0gUmVzdWx0LlxuICAgKi9cbiAgd3JpdGVHZW9tZXRyeShnZW9tZXRyeSwgb3B0aW9ucykge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZlYXR1cmVGb3JtYXQ7XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtib29sZWFufSB3cml0ZSBTZXQgdG8gdHJ1ZSBmb3Igd3JpdGluZywgZmFsc2UgZm9yIHJlYWRpbmcuXG4gKiBAcGFyYW0ge1dyaXRlT3B0aW9uc3xSZWFkT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IFRyYW5zZm9ybWVkIGdlb21ldHJ5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtR2VvbWV0cnlXaXRoT3B0aW9ucyhnZW9tZXRyeSwgd3JpdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgZmVhdHVyZVByb2plY3Rpb24gPSBvcHRpb25zXG4gICAgPyBnZXRQcm9qZWN0aW9uKG9wdGlvbnMuZmVhdHVyZVByb2plY3Rpb24pXG4gICAgOiBudWxsO1xuICBjb25zdCBkYXRhUHJvamVjdGlvbiA9IG9wdGlvbnMgPyBnZXRQcm9qZWN0aW9uKG9wdGlvbnMuZGF0YVByb2plY3Rpb24pIDogbnVsbDtcblxuICBsZXQgdHJhbnNmb3JtZWQ7XG4gIGlmIChcbiAgICBmZWF0dXJlUHJvamVjdGlvbiAmJlxuICAgIGRhdGFQcm9qZWN0aW9uICYmXG4gICAgIWVxdWl2YWxlbnRQcm9qZWN0aW9uKGZlYXR1cmVQcm9qZWN0aW9uLCBkYXRhUHJvamVjdGlvbilcbiAgKSB7XG4gICAgdHJhbnNmb3JtZWQgPSAod3JpdGUgPyBnZW9tZXRyeS5jbG9uZSgpIDogZ2VvbWV0cnkpLnRyYW5zZm9ybShcbiAgICAgIHdyaXRlID8gZmVhdHVyZVByb2plY3Rpb24gOiBkYXRhUHJvamVjdGlvbixcbiAgICAgIHdyaXRlID8gZGF0YVByb2plY3Rpb24gOiBmZWF0dXJlUHJvamVjdGlvblxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNmb3JtZWQgPSBnZW9tZXRyeTtcbiAgfVxuICBpZiAoXG4gICAgd3JpdGUgJiZcbiAgICBvcHRpb25zICYmXG4gICAgLyoqIEB0eXBlIHtXcml0ZU9wdGlvbnN9ICovIChvcHRpb25zKS5kZWNpbWFscyAhPT0gdW5kZWZpbmVkXG4gICkge1xuICAgIGNvbnN0IHBvd2VyID0gTWF0aC5wb3coMTAsIC8qKiBAdHlwZSB7V3JpdGVPcHRpb25zfSAqLyAob3B0aW9ucykuZGVjaW1hbHMpO1xuICAgIC8vIGlmIGRlY2ltYWxzIG9wdGlvbiBvbiB3cml0ZSwgcm91bmQgZWFjaCBjb29yZGluYXRlIGFwcHJvcHJpYXRlbHlcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzLlxuICAgICAqL1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGZ1bmN0aW9uIChjb29yZGluYXRlcykge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBjb29yZGluYXRlc1tpXSA9IE1hdGgucm91bmQoY29vcmRpbmF0ZXNbaV0gKiBwb3dlcikgLyBwb3dlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb29yZGluYXRlcztcbiAgICB9O1xuICAgIGlmICh0cmFuc2Zvcm1lZCA9PT0gZ2VvbWV0cnkpIHtcbiAgICAgIHRyYW5zZm9ybWVkID0gZ2VvbWV0cnkuY2xvbmUoKTtcbiAgICB9XG4gICAgdHJhbnNmb3JtZWQuYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtKTtcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtZWQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtSZWFkT3B0aW9uc30gW29wdGlvbnNdIFJlYWQgb3B0aW9ucy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFRyYW5zZm9ybWVkIGV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUV4dGVudFdpdGhPcHRpb25zKGV4dGVudCwgb3B0aW9ucykge1xuICBjb25zdCBmZWF0dXJlUHJvamVjdGlvbiA9IG9wdGlvbnNcbiAgICA/IGdldFByb2plY3Rpb24ob3B0aW9ucy5mZWF0dXJlUHJvamVjdGlvbilcbiAgICA6IG51bGw7XG4gIGNvbnN0IGRhdGFQcm9qZWN0aW9uID0gb3B0aW9ucyA/IGdldFByb2plY3Rpb24ob3B0aW9ucy5kYXRhUHJvamVjdGlvbikgOiBudWxsO1xuXG4gIGlmIChcbiAgICBmZWF0dXJlUHJvamVjdGlvbiAmJlxuICAgIGRhdGFQcm9qZWN0aW9uICYmXG4gICAgIWVxdWl2YWxlbnRQcm9qZWN0aW9uKGZlYXR1cmVQcm9qZWN0aW9uLCBkYXRhUHJvamVjdGlvbilcbiAgKSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIGRhdGFQcm9qZWN0aW9uLCBmZWF0dXJlUHJvamVjdGlvbik7XG4gIH1cbiAgcmV0dXJuIGV4dGVudDtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9mdW5jdGlvbnNcbiAqL1xuXG5pbXBvcnQge2VxdWFscyBhcyBhcnJheUVxdWFsc30gZnJvbSAnLi9hcnJheS5qcyc7XG5cbi8qKlxuICogQWx3YXlzIHJldHVybnMgdHJ1ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBUUlVFKCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBBbHdheXMgcmV0dXJucyBmYWxzZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IGZhbHNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gRkFMU0UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBIHJldXNhYmxlIGZ1bmN0aW9uLCB1c2VkIGUuZy4gYXMgYSBkZWZhdWx0IGZvciBjYWxsYmFja3MuXG4gKlxuICogQHJldHVybiB7dm9pZH0gTm90aGluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFZPSUQoKSB7fVxuXG4vKipcbiAqIFdyYXAgYSBmdW5jdGlvbiBpbiBhbm90aGVyIGZ1bmN0aW9uIHRoYXQgcmVtZW1iZXJzIHRoZSBsYXN0IHJldHVybi4gIElmIHRoZVxuICogcmV0dXJuZWQgZnVuY3Rpb24gaXMgY2FsbGVkIHR3aWNlIGluIGEgcm93IHdpdGggdGhlIHNhbWUgYXJndW1lbnRzIGFuZCB0aGUgc2FtZVxuICogdGhpcyBvYmplY3QsIGl0IHdpbGwgcmV0dXJuIHRoZSB2YWx1ZSBmcm9tIHRoZSBmaXJzdCBjYWxsIGluIHRoZSBzZWNvbmQgY2FsbC5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKC4uLmFueSk6IFJldHVyblR5cGV9IGZuIFRoZSBmdW5jdGlvbiB0byBtZW1vaXplLlxuICogQHJldHVybiB7ZnVuY3Rpb24oLi4uYW55KTogUmV0dXJuVHlwZX0gVGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICogQHRlbXBsYXRlIFJldHVyblR5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemVPbmUoZm4pIHtcbiAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuXG4gIC8qKiBAdHlwZSB7UmV0dXJuVHlwZX0gKi9cbiAgbGV0IGxhc3RSZXN1bHQ7XG5cbiAgLyoqIEB0eXBlIHtBcnJheTxhbnk+fSAqL1xuICBsZXQgbGFzdEFyZ3M7XG5cbiAgbGV0IGxhc3RUaGlzO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgbmV4dEFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgIGlmICghY2FsbGVkIHx8IHRoaXMgIT09IGxhc3RUaGlzIHx8ICFhcnJheUVxdWFscyhuZXh0QXJncywgbGFzdEFyZ3MpKSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgbGFzdEFyZ3MgPSBuZXh0QXJncztcbiAgICAgIGxhc3RSZXN1bHQgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbigpOiAoVCB8IFByb21pc2U8VD4pfSBnZXR0ZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB2YWx1ZSBvciBhIHByb21pc2UgZm9yIGEgdmFsdWUuXG4gKiBAcmV0dXJuIHtQcm9taXNlPFQ+fSBBIHByb21pc2UgZm9yIHRoZSB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvUHJvbWlzZShnZXR0ZXIpIHtcbiAgZnVuY3Rpb24gcHJvbWlzZUdldHRlcigpIHtcbiAgICBsZXQgdmFsdWU7XG4gICAgdHJ5IHtcbiAgICAgIHZhbHVlID0gZ2V0dGVyKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZUdldHRlcigpO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9jbG9zZXN0XG4gKi9cbmltcG9ydCB7bGVycCwgc3F1YXJlZERpc3RhbmNlIGFzIHNxdWFyZWREeH0gZnJvbSAnLi4vLi4vbWF0aC5qcyc7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcG9pbnQgb24gdGhlIDJEIGxpbmUgc2VnbWVudCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MV0gdG9cbiAqIGZsYXRDb29yZGluYXRlc1tvZmZzZXQyXSB0aGF0IGlzIGNsb3Nlc3QgdG8gdGhlIHBvaW50ICh4LCB5KS4gIEV4dHJhXG4gKiBkaW1lbnNpb25zIGFyZSBsaW5lYXJseSBpbnRlcnBvbGF0ZWQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldDEgT2Zmc2V0IDEuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0MiBPZmZzZXQgMi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICovXG5mdW5jdGlvbiBhc3NpZ25DbG9zZXN0KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldDEsXG4gIG9mZnNldDIsXG4gIHN0cmlkZSxcbiAgeCxcbiAgeSxcbiAgY2xvc2VzdFBvaW50XG4pIHtcbiAgY29uc3QgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MV07XG4gIGNvbnN0IHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldDEgKyAxXTtcbiAgY29uc3QgZHggPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0Ml0gLSB4MTtcbiAgY29uc3QgZHkgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MiArIDFdIC0geTE7XG4gIGxldCBvZmZzZXQ7XG4gIGlmIChkeCA9PT0gMCAmJiBkeSA9PT0gMCkge1xuICAgIG9mZnNldCA9IG9mZnNldDE7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdCA9ICgoeCAtIHgxKSAqIGR4ICsgKHkgLSB5MSkgKiBkeSkgLyAoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIGlmICh0ID4gMSkge1xuICAgICAgb2Zmc2V0ID0gb2Zmc2V0MjtcbiAgICB9IGVsc2UgaWYgKHQgPiAwKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IGxlcnAoXG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldDEgKyBpXSxcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0MiArIGldLFxuICAgICAgICAgIHRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNsb3Nlc3RQb2ludC5sZW5ndGggPSBzdHJpZGU7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIG9mZnNldCA9IG9mZnNldDE7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICBjbG9zZXN0UG9pbnRbaV0gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV07XG4gIH1cbiAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHNxdWFyZWQgb2YgdGhlIGxhcmdlc3QgZGlzdGFuY2UgYmV0d2VlbiBhbnkgcGFpciBvZiBjb25zZWN1dGl2ZVxuICogY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBNYXggc3F1YXJlZCBkZWx0YS5cbiAqIEByZXR1cm4ge251bWJlcn0gTWF4IHNxdWFyZWQgZGVsdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBtYXgpIHtcbiAgbGV0IHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gIGxldCB5MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgZm9yIChvZmZzZXQgKz0gc3RyaWRlOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICBjb25zdCB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIGNvbnN0IHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIGNvbnN0IHNxdWFyZWREZWx0YSA9IHNxdWFyZWREeCh4MSwgeTEsIHgyLCB5Mik7XG4gICAgaWYgKHNxdWFyZWREZWx0YSA+IG1heCkge1xuICAgICAgbWF4ID0gc3F1YXJlZERlbHRhO1xuICAgIH1cbiAgICB4MSA9IHgyO1xuICAgIHkxID0geTI7XG4gIH1cbiAgcmV0dXJuIG1heDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBNYXggc3F1YXJlZCBkZWx0YS5cbiAqIEByZXR1cm4ge251bWJlcn0gTWF4IHNxdWFyZWQgZGVsdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJheU1heFNxdWFyZWREZWx0YShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHMsXG4gIHN0cmlkZSxcbiAgbWF4XG4pIHtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kID0gZW5kc1tpXTtcbiAgICBtYXggPSBtYXhTcXVhcmVkRGVsdGEoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBtYXgpO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gbWF4O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IE1heCBzcXVhcmVkIGRlbHRhLlxuICogQHJldHVybiB7bnVtYmVyfSBNYXggc3F1YXJlZCBkZWx0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpQXJyYXlNYXhTcXVhcmVkRGVsdGEoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzcyxcbiAgc3RyaWRlLFxuICBtYXhcbikge1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kcyA9IGVuZHNzW2ldO1xuICAgIG1heCA9IGFycmF5TWF4U3F1YXJlZERlbHRhKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIG1heCk7XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBtYXg7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhEZWx0YSBNYXggZGVsdGEuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzUmluZyBJcyByaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblNxdWFyZWREaXN0YW5jZSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFt0bXBQb2ludF0gVGVtcG9yYXJ5IHBvaW50IG9iamVjdC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduQ2xvc2VzdFBvaW50KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIG1heERlbHRhLFxuICBpc1JpbmcsXG4gIHgsXG4gIHksXG4gIGNsb3Nlc3RQb2ludCxcbiAgbWluU3F1YXJlZERpc3RhbmNlLFxuICB0bXBQb2ludFxuKSB7XG4gIGlmIChvZmZzZXQgPT0gZW5kKSB7XG4gICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbiAgfVxuICBsZXQgaSwgc3F1YXJlZERpc3RhbmNlO1xuICBpZiAobWF4RGVsdGEgPT09IDApIHtcbiAgICAvLyBBbGwgcG9pbnRzIGFyZSBpZGVudGljYWwsIHNvIGp1c3QgdGVzdCB0aGUgZmlyc3QgcG9pbnQuXG4gICAgc3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZER4KFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSxcbiAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXVxuICAgICk7XG4gICAgaWYgKHNxdWFyZWREaXN0YW5jZSA8IG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpXTtcbiAgICAgIH1cbiAgICAgIGNsb3Nlc3RQb2ludC5sZW5ndGggPSBzdHJpZGU7XG4gICAgICByZXR1cm4gc3F1YXJlZERpc3RhbmNlO1xuICAgIH1cbiAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICB9XG4gIHRtcFBvaW50ID0gdG1wUG9pbnQgPyB0bXBQb2ludCA6IFtOYU4sIE5hTl07XG4gIGxldCBpbmRleCA9IG9mZnNldCArIHN0cmlkZTtcbiAgd2hpbGUgKGluZGV4IDwgZW5kKSB7XG4gICAgYXNzaWduQ2xvc2VzdChcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIGluZGV4IC0gc3RyaWRlLFxuICAgICAgaW5kZXgsXG4gICAgICBzdHJpZGUsXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHRtcFBvaW50XG4gICAgKTtcbiAgICBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRHgoeCwgeSwgdG1wUG9pbnRbMF0sIHRtcFBvaW50WzFdKTtcbiAgICBpZiAoc3F1YXJlZERpc3RhbmNlIDwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICBtaW5TcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRGlzdGFuY2U7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgICAgY2xvc2VzdFBvaW50W2ldID0gdG1wUG9pbnRbaV07XG4gICAgICB9XG4gICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgaW5kZXggKz0gc3RyaWRlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTa2lwIGFoZWFkIG11bHRpcGxlIHBvaW50cywgYmVjYXVzZSB3ZSBrbm93IHRoYXQgYWxsIHRoZSBza2lwcGVkXG4gICAgICAvLyBwb2ludHMgY2Fubm90IGJlIGFueSBjbG9zZXIgdGhhbiB0aGUgY2xvc2VzdCBwb2ludCB3ZSBoYXZlIGZvdW5kIHNvXG4gICAgICAvLyBmYXIuICBXZSBrbm93IHRoaXMgYmVjYXVzZSB3ZSBrbm93IGhvdyBjbG9zZSB0aGUgY3VycmVudCBwb2ludCBpcywgaG93XG4gICAgICAvLyBjbG9zZSB0aGUgY2xvc2VzdCBwb2ludCB3ZSBoYXZlIGZvdW5kIHNvIGZhciBpcywgYW5kIHRoZSBtYXhpbXVtXG4gICAgICAvLyBkaXN0YW5jZSBiZXR3ZWVuIGNvbnNlY3V0aXZlIHBvaW50cy4gIEZvciBleGFtcGxlLCBpZiB3ZSdyZSBjdXJyZW50bHlcbiAgICAgIC8vIGF0IGRpc3RhbmNlIDEwLCB0aGUgYmVzdCB3ZSd2ZSBmb3VuZCBzbyBmYXIgaXMgMywgYW5kIHRoYXQgdGhlIG1heGltdW1cbiAgICAgIC8vIGRpc3RhbmNlIGJldHdlZW4gY29uc2VjdXRpdmUgcG9pbnRzIGlzIDIsIHRoZW4gd2UnbGwgbmVlZCB0byBza2lwIGF0XG4gICAgICAvLyBsZWFzdCAoMTAgLSAzKSAvIDIgPT0gMyAocm91bmRlZCBkb3duKSBwb2ludHMgdG8gaGF2ZSBhbnkgY2hhbmNlIG9mXG4gICAgICAvLyBmaW5kaW5nIGEgY2xvc2VyIHBvaW50LiAgV2UgdXNlIE1hdGgubWF4KC4uLiwgMSkgdG8gZW5zdXJlIHRoYXQgd2VcbiAgICAgIC8vIGFsd2F5cyBhZHZhbmNlIGF0IGxlYXN0IG9uZSBwb2ludCwgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcC5cbiAgICAgIGluZGV4ICs9XG4gICAgICAgIHN0cmlkZSAqXG4gICAgICAgIE1hdGgubWF4KFxuICAgICAgICAgICgoTWF0aC5zcXJ0KHNxdWFyZWREaXN0YW5jZSkgLSBNYXRoLnNxcnQobWluU3F1YXJlZERpc3RhbmNlKSkgL1xuICAgICAgICAgICAgbWF4RGVsdGEpIHxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgMVxuICAgICAgICApO1xuICAgIH1cbiAgfVxuICBpZiAoaXNSaW5nKSB7XG4gICAgLy8gQ2hlY2sgdGhlIGNsb3Npbmcgc2VnbWVudC5cbiAgICBhc3NpZ25DbG9zZXN0KFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgZW5kIC0gc3RyaWRlLFxuICAgICAgb2Zmc2V0LFxuICAgICAgc3RyaWRlLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICB0bXBQb2ludFxuICAgICk7XG4gICAgc3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZER4KHgsIHksIHRtcFBvaW50WzBdLCB0bXBQb2ludFsxXSk7XG4gICAgaWYgKHNxdWFyZWREaXN0YW5jZSA8IG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgbWluU3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZERpc3RhbmNlO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IHRtcFBvaW50W2ldO1xuICAgICAgfVxuICAgICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heERlbHRhIE1heCBkZWx0YS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNSaW5nIElzIHJpbmcuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW3RtcFBvaW50XSBUZW1wb3JhcnkgcG9pbnQgb2JqZWN0LlxuICogQHJldHVybiB7bnVtYmVyfSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25DbG9zZXN0QXJyYXlQb2ludChcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHMsXG4gIHN0cmlkZSxcbiAgbWF4RGVsdGEsXG4gIGlzUmluZyxcbiAgeCxcbiAgeSxcbiAgY2xvc2VzdFBvaW50LFxuICBtaW5TcXVhcmVkRGlzdGFuY2UsXG4gIHRtcFBvaW50XG4pIHtcbiAgdG1wUG9pbnQgPSB0bXBQb2ludCA/IHRtcFBvaW50IDogW05hTiwgTmFOXTtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kID0gZW5kc1tpXTtcbiAgICBtaW5TcXVhcmVkRGlzdGFuY2UgPSBhc3NpZ25DbG9zZXN0UG9pbnQoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmQsXG4gICAgICBzdHJpZGUsXG4gICAgICBtYXhEZWx0YSxcbiAgICAgIGlzUmluZyxcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgY2xvc2VzdFBvaW50LFxuICAgICAgbWluU3F1YXJlZERpc3RhbmNlLFxuICAgICAgdG1wUG9pbnRcbiAgICApO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4RGVsdGEgTWF4IGRlbHRhLlxuICogQHBhcmFtIHtib29sZWFufSBpc1JpbmcgSXMgcmluZy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbdG1wUG9pbnRdIFRlbXBvcmFyeSBwb2ludCBvYmplY3QuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbkNsb3Nlc3RNdWx0aUFycmF5UG9pbnQoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzcyxcbiAgc3RyaWRlLFxuICBtYXhEZWx0YSxcbiAgaXNSaW5nLFxuICB4LFxuICB5LFxuICBjbG9zZXN0UG9pbnQsXG4gIG1pblNxdWFyZWREaXN0YW5jZSxcbiAgdG1wUG9pbnRcbikge1xuICB0bXBQb2ludCA9IHRtcFBvaW50ID8gdG1wUG9pbnQgOiBbTmFOLCBOYU5dO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kcyA9IGVuZHNzW2ldO1xuICAgIG1pblNxdWFyZWREaXN0YW5jZSA9IGFzc2lnbkNsb3Nlc3RBcnJheVBvaW50KFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kcyxcbiAgICAgIHN0cmlkZSxcbiAgICAgIG1heERlbHRhLFxuICAgICAgaXNSaW5nLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBjbG9zZXN0UG9pbnQsXG4gICAgICBtaW5TcXVhcmVkRGlzdGFuY2UsXG4gICAgICB0bXBQb2ludFxuICAgICk7XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2RlZmxhdGVcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVDb29yZGluYXRlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBjb29yZGluYXRlLCBzdHJpZGUpIHtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gY29vcmRpbmF0ZS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCsrXSA9IGNvb3JkaW5hdGVbaV07XG4gIH1cbiAgcmV0dXJuIG9mZnNldDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZsYXRlQ29vcmRpbmF0ZXMoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBjb29yZGluYXRlcyxcbiAgc3RyaWRlXG4pIHtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBjb29yZGluYXRlc1tpXTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHN0cmlkZTsgKytqKSB7XG4gICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0KytdID0gY29vcmRpbmF0ZVtqXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9mZnNldDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSBjb29yZGluYXRlc3MgQ29vcmRpbmF0ZXNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtlbmRzXSBFbmRzLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRW5kcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVDb29yZGluYXRlc0FycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgY29vcmRpbmF0ZXNzLFxuICBzdHJpZGUsXG4gIGVuZHNcbikge1xuICBlbmRzID0gZW5kcyA/IGVuZHMgOiBbXTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGxldCBqID0gMCwgamogPSBjb29yZGluYXRlc3MubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgIGNvbnN0IGVuZCA9IGRlZmxhdGVDb29yZGluYXRlcyhcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGNvb3JkaW5hdGVzc1tqXSxcbiAgICAgIHN0cmlkZVxuICAgICk7XG4gICAgZW5kc1tpKytdID0gZW5kO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICBlbmRzLmxlbmd0aCA9IGk7XG4gIHJldHVybiBlbmRzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj4+fSBjb29yZGluYXRlc3NzIENvb3JkaW5hdGVzc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IFtlbmRzc10gRW5kc3MuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gRW5kc3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgY29vcmRpbmF0ZXNzcyxcbiAgc3RyaWRlLFxuICBlbmRzc1xuKSB7XG4gIGVuZHNzID0gZW5kc3MgPyBlbmRzcyA6IFtdO1xuICBsZXQgaSA9IDA7XG4gIGZvciAobGV0IGogPSAwLCBqaiA9IGNvb3JkaW5hdGVzc3MubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgIGNvbnN0IGVuZHMgPSBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheShcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGNvb3JkaW5hdGVzc3Nbal0sXG4gICAgICBzdHJpZGUsXG4gICAgICBlbmRzc1tpXVxuICAgICk7XG4gICAgaWYgKGVuZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBlbmRzWzBdID0gb2Zmc2V0O1xuICAgIH1cbiAgICBlbmRzc1tpKytdID0gZW5kcztcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgZW5kc3MubGVuZ3RoID0gaTtcbiAgcmV0dXJuIGVuZHNzO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9hcmVhXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgbGV0IHR3aWNlQXJlYSA9IDA7XG4gIGxldCB4MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGVdO1xuICBsZXQgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICBjb25zdCB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIGNvbnN0IHkyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIHR3aWNlQXJlYSArPSB5MSAqIHgyIC0geDEgKiB5MjtcbiAgICB4MSA9IHgyO1xuICAgIHkxID0geTI7XG4gIH1cbiAgcmV0dXJuIHR3aWNlQXJlYSAvIDI7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gQXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUpIHtcbiAgbGV0IGFyZWEgPSAwO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgIGFyZWEgKz0gbGluZWFyUmluZyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gYXJlYTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlKSB7XG4gIGxldCBhcmVhID0gMDtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZHMgPSBlbmRzc1tpXTtcbiAgICBhcmVhICs9IGxpbmVhclJpbmdzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUpO1xuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gYXJlYTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL0xpbmVhclJpbmdcbiAqL1xuaW1wb3J0IFNpbXBsZUdlb21ldHJ5IGZyb20gJy4vU2ltcGxlR2VvbWV0cnkuanMnO1xuaW1wb3J0IHthc3NpZ25DbG9zZXN0UG9pbnQsIG1heFNxdWFyZWREZWx0YX0gZnJvbSAnLi9mbGF0L2Nsb3Nlc3QuanMnO1xuaW1wb3J0IHtjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFl9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2RlZmxhdGVDb29yZGluYXRlc30gZnJvbSAnLi9mbGF0L2RlZmxhdGUuanMnO1xuaW1wb3J0IHtkb3VnbGFzUGV1Y2tlcn0gZnJvbSAnLi9mbGF0L3NpbXBsaWZ5LmpzJztcbmltcG9ydCB7aW5mbGF0ZUNvb3JkaW5hdGVzfSBmcm9tICcuL2ZsYXQvaW5mbGF0ZS5qcyc7XG5pbXBvcnQge2xpbmVhclJpbmcgYXMgbGluZWFyUmluZ0FyZWF9IGZyb20gJy4vZmxhdC9hcmVhLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBMaW5lYXIgcmluZyBnZW9tZXRyeS4gT25seSB1c2VkIGFzIHBhcnQgb2YgcG9seWdvbjsgY2Fubm90IGJlIHJlbmRlcmVkXG4gKiBvbiBpdHMgb3duLlxuICpcbiAqIEBhcGlcbiAqL1xuY2xhc3MgTGluZWFyUmluZyBleHRlbmRzIFNpbXBsZUdlb21ldHJ5IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPnxBcnJheTxudW1iZXI+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICogICAgIEZvciBpbnRlcm5hbCB1c2UsIGZsYXQgY29vcmRpbmF0ZXMgaW4gY29tYmluYXRpb24gd2l0aCBgbGF5b3V0YCBhcmUgYWxzbyBhY2NlcHRlZC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0fSBbbGF5b3V0XSBMYXlvdXQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb29yZGluYXRlcywgbGF5b3V0KSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heERlbHRhXyA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gPSAtMTtcblxuICAgIGlmIChsYXlvdXQgIT09IHVuZGVmaW5lZCAmJiAhQXJyYXkuaXNBcnJheShjb29yZGluYXRlc1swXSkpIHtcbiAgICAgIHRoaXMuc2V0RmxhdENvb3JkaW5hdGVzKFxuICAgICAgICBsYXlvdXQsXG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGNvb3JkaW5hdGVzKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyhcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSAqLyAoXG4gICAgICAgICAgY29vcmRpbmF0ZXNcbiAgICAgICAgKSxcbiAgICAgICAgbGF5b3V0XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgY29tcGxldGUgY29weSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4geyFMaW5lYXJSaW5nfSBDbG9uZS5cbiAgICogQGFwaVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBMaW5lYXJSaW5nKHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKCksIHRoaXMubGF5b3V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICovXG4gIGNsb3Nlc3RQb2ludFhZKHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgaWYgKG1pblNxdWFyZWREaXN0YW5jZSA8IGNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWSh0aGlzLmdldEV4dGVudCgpLCB4LCB5KSkge1xuICAgICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gIT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICB0aGlzLm1heERlbHRhXyA9IE1hdGguc3FydChcbiAgICAgICAgbWF4U3F1YXJlZERlbHRhKFxuICAgICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgICAgIHRoaXMuc3RyaWRlLFxuICAgICAgICAgIDBcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBhc3NpZ25DbG9zZXN0UG9pbnQoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyxcbiAgICAgIDAsXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgICB0aGlzLnN0cmlkZSxcbiAgICAgIHRoaXMubWF4RGVsdGFfLFxuICAgICAgdHJ1ZSxcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgY2xvc2VzdFBvaW50LFxuICAgICAgbWluU3F1YXJlZERpc3RhbmNlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGFyZWEgb2YgdGhlIGxpbmVhciByaW5nIG9uIHByb2plY3RlZCBwbGFuZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBBcmVhIChvbiBwcm9qZWN0ZWQgcGxhbmUpLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRBcmVhKCkge1xuICAgIHJldHVybiBsaW5lYXJSaW5nQXJlYShcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLFxuICAgICAgMCxcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RyaWRlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBsaW5lYXIgcmluZy5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gQ29vcmRpbmF0ZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENvb3JkaW5hdGVzKCkge1xuICAgIHJldHVybiBpbmZsYXRlQ29vcmRpbmF0ZXMoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyxcbiAgICAgIDAsXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgICB0aGlzLnN0cmlkZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAqIEByZXR1cm4ge0xpbmVhclJpbmd9IFNpbXBsaWZpZWQgTGluZWFyUmluZy5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwoc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgIGNvbnN0IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IGRvdWdsYXNQZXVja2VyKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwLFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgdGhpcy5zdHJpZGUsXG4gICAgICBzcXVhcmVkVG9sZXJhbmNlLFxuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgICAgIDBcbiAgICApO1xuICAgIHJldHVybiBuZXcgTGluZWFyUmluZyhzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLCAnWFknKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5UeXBlfSBHZW9tZXRyeSB0eXBlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUeXBlKCkge1xuICAgIHJldHVybiAnTGluZWFyUmluZyc7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBwYXNzZWQgZXh0ZW50IGludGVyc2VjdC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAgICogQGFwaVxuICAgKi9cbiAgaW50ZXJzZWN0c0V4dGVudChleHRlbnQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjb29yZGluYXRlcyBvZiB0aGUgbGluZWFyIHJpbmcuXG4gICAqIEBwYXJhbSB7IUFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXR9IFtsYXlvdXRdIExheW91dC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Q29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMsIGxheW91dCkge1xuICAgIHRoaXMuc2V0TGF5b3V0KGxheW91dCwgY29vcmRpbmF0ZXMsIDEpO1xuICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgfVxuICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IGRlZmxhdGVDb29yZGluYXRlcyhcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLFxuICAgICAgMCxcbiAgICAgIGNvb3JkaW5hdGVzLFxuICAgICAgdGhpcy5zdHJpZGVcbiAgICApO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExpbmVhclJpbmc7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9Qb2ludFxuICovXG5pbXBvcnQgU2ltcGxlR2VvbWV0cnkgZnJvbSAnLi9TaW1wbGVHZW9tZXRyeS5qcyc7XG5pbXBvcnQge2NvbnRhaW5zWFksIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGV9IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2RlZmxhdGVDb29yZGluYXRlfSBmcm9tICcuL2ZsYXQvZGVmbGF0ZS5qcyc7XG5pbXBvcnQge3NxdWFyZWREaXN0YW5jZSBhcyBzcXVhcmVkRHh9IGZyb20gJy4uL21hdGguanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFBvaW50IGdlb21ldHJ5LlxuICpcbiAqIEBhcGlcbiAqL1xuY2xhc3MgUG9pbnQgZXh0ZW5kcyBTaW1wbGVHZW9tZXRyeSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dH0gW2xheW91dF0gTGF5b3V0LlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29vcmRpbmF0ZXMsIGxheW91dCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zZXRDb29yZGluYXRlcyhjb29yZGluYXRlcywgbGF5b3V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgY29tcGxldGUgY29weSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4geyFQb2ludH0gQ2xvbmUuXG4gICAqIEBhcGlcbiAgICovXG4gIGNsb25lKCkge1xuICAgIGNvbnN0IHBvaW50ID0gbmV3IFBvaW50KHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKCksIHRoaXMubGF5b3V0KTtcbiAgICBwb2ludC5hcHBseVByb3BlcnRpZXModGhpcyk7XG4gICAgcmV0dXJuIHBvaW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblNxdWFyZWREaXN0YW5jZSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gICAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgKi9cbiAgY2xvc2VzdFBvaW50WFkoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICBjb25zdCBzcXVhcmVkRGlzdGFuY2UgPSBzcXVhcmVkRHgoXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIGZsYXRDb29yZGluYXRlc1swXSxcbiAgICAgIGZsYXRDb29yZGluYXRlc1sxXVxuICAgICk7XG4gICAgaWYgKHNxdWFyZWREaXN0YW5jZSA8IG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgY29uc3Qgc3RyaWRlID0gdGhpcy5zdHJpZGU7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgIH1cbiAgICAgIGNsb3Nlc3RQb2ludC5sZW5ndGggPSBzdHJpZGU7XG4gICAgICByZXR1cm4gc3F1YXJlZERpc3RhbmNlO1xuICAgIH1cbiAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ29vcmRpbmF0ZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENvb3JkaW5hdGVzKCkge1xuICAgIHJldHVybiAhdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPyBbXSA6IHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqL1xuICBjb21wdXRlRXh0ZW50KGV4dGVudCkge1xuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZUZyb21Db29yZGluYXRlKHRoaXMuZmxhdENvb3JkaW5hdGVzLCBleHRlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdHlwZSBvZiB0aGlzIGdlb21ldHJ5LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLlR5cGV9IEdlb21ldHJ5IHR5cGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFR5cGUoKSB7XG4gICAgcmV0dXJuICdQb2ludCc7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBwYXNzZWQgZXh0ZW50IGludGVyc2VjdC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAgICogQGFwaVxuICAgKi9cbiAgaW50ZXJzZWN0c0V4dGVudChleHRlbnQpIHtcbiAgICByZXR1cm4gY29udGFpbnNYWShleHRlbnQsIHRoaXMuZmxhdENvb3JkaW5hdGVzWzBdLCB0aGlzLmZsYXRDb29yZGluYXRlc1sxXSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8Kj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXR9IFtsYXlvdXRdIExheW91dC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Q29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMsIGxheW91dCkge1xuICAgIHRoaXMuc2V0TGF5b3V0KGxheW91dCwgY29vcmRpbmF0ZXMsIDApO1xuICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgfVxuICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IGRlZmxhdGVDb29yZGluYXRlKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwLFxuICAgICAgY29vcmRpbmF0ZXMsXG4gICAgICB0aGlzLnN0cmlkZVxuICAgICk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9pbnQ7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3JldmVyc2VcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgd2hpbGUgKG9mZnNldCA8IGVuZCAtIHN0cmlkZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaWRlOyArK2kpIHtcbiAgICAgIGNvbnN0IHRtcCA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpXTtcbiAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBpXSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGUgKyBpXTtcbiAgICAgIGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGUgKyBpXSA9IHRtcDtcbiAgICB9XG4gICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICBlbmQgLT0gc3RyaWRlO1xuICB9XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L29yaWVudFxuICovXG5pbXBvcnQge2Nvb3JkaW5hdGVzIGFzIHJldmVyc2VDb29yZGluYXRlc30gZnJvbSAnLi9yZXZlcnNlLmpzJztcblxuLyoqXG4gKiBJcyB0aGUgbGluZWFyIHJpbmcgb3JpZW50ZWQgY2xvY2t3aXNlIGluIGEgY29vcmRpbmF0ZSBzeXN0ZW0gd2l0aCBhIGJvdHRvbS1sZWZ0XG4gKiBjb29yZGluYXRlIG9yaWdpbj8gRm9yIGEgY29vcmRpbmF0ZSBzeXN0ZW0gd2l0aCBhIHRvcC1sZWZ0IGNvb3JkaW5hdGUgb3JpZ2luLFxuICogdGhlIHJpbmcncyBvcmllbnRhdGlvbiBpcyBjbG9ja3dpc2Ugd2hlbiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgZmFsc2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMgY2xvY2t3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ0lzQ2xvY2t3aXNlKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMTE2NTY0Ny9jbG9ja3dpc2UtbWV0aG9kIzExNjU5NDNcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL09TR2VvL2dkYWwvYmxvYi9tYXN0ZXIvZ2RhbC9vZ3Ivb2dybGluZWFycmluZy5jcHBcbiAgbGV0IGVkZ2UgPSAwO1xuICBsZXQgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgbGV0IHkxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdO1xuICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgY29uc3QgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICBjb25zdCB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICBlZGdlICs9ICh4MiAtIHgxKSAqICh5MiArIHkxKTtcbiAgICB4MSA9IHgyO1xuICAgIHkxID0geTI7XG4gIH1cbiAgcmV0dXJuIGVkZ2UgPT09IDAgPyB1bmRlZmluZWQgOiBlZGdlID4gMDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGxpbmVhciByaW5ncyBhcmUgb3JpZW50ZWQuICBCeSBkZWZhdWx0LCBsZWZ0LWhhbmQgb3JpZW50YXRpb25cbiAqIGlzIHRlc3RlZCAoZmlyc3QgcmluZyBtdXN0IGJlIGNsb2Nrd2lzZSwgcmVtYWluaW5nIHJpbmdzIGNvdW50ZXItY2xvY2t3aXNlKS5cbiAqIFRvIHRlc3QgZm9yIHJpZ2h0LWhhbmQgb3JpZW50YXRpb24sIHVzZSB0aGUgYHJpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgQXJyYXkgb2YgZW5kIGluZGV4ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JpZ2h0XSBUZXN0IGZvciByaWdodC1oYW5kIG9yaWVudGF0aW9uXG4gKiAgICAgKGNvdW50ZXItY2xvY2t3aXNlIGV4dGVyaW9yIHJpbmcgYW5kIGNsb2Nrd2lzZSBpbnRlcmlvciByaW5ncykuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSaW5ncyBhcmUgY29ycmVjdGx5IG9yaWVudGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NBcmVPcmllbnRlZChcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHMsXG4gIHN0cmlkZSxcbiAgcmlnaHRcbikge1xuICByaWdodCA9IHJpZ2h0ICE9PSB1bmRlZmluZWQgPyByaWdodCA6IGZhbHNlO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgIGNvbnN0IGlzQ2xvY2t3aXNlID0gbGluZWFyUmluZ0lzQ2xvY2t3aXNlKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlXG4gICAgKTtcbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgaWYgKChyaWdodCAmJiBpc0Nsb2Nrd2lzZSkgfHwgKCFyaWdodCAmJiAhaXNDbG9ja3dpc2UpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKChyaWdodCAmJiAhaXNDbG9ja3dpc2UpIHx8ICghcmlnaHQgJiYgaXNDbG9ja3dpc2UpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgaWYgbGluZWFyIHJpbmdzIGFyZSBvcmllbnRlZC4gIEJ5IGRlZmF1bHQsIGxlZnQtaGFuZCBvcmllbnRhdGlvblxuICogaXMgdGVzdGVkIChmaXJzdCByaW5nIG11c3QgYmUgY2xvY2t3aXNlLCByZW1haW5pbmcgcmluZ3MgY291bnRlci1jbG9ja3dpc2UpLlxuICogVG8gdGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvbiwgdXNlIHRoZSBgcmlnaHRgIGFyZ3VtZW50LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEFycmF5IG9mIGFycmF5IG9mIGVuZCBpbmRleGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyaWdodF0gVGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvblxuICogICAgIChjb3VudGVyLWNsb2Nrd2lzZSBleHRlcmlvciByaW5nIGFuZCBjbG9ja3dpc2UgaW50ZXJpb3IgcmluZ3MpLlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmluZ3MgYXJlIGNvcnJlY3RseSBvcmllbnRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzc0FyZU9yaWVudGVkKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kc3MsXG4gIHN0cmlkZSxcbiAgcmlnaHRcbikge1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kcyA9IGVuZHNzW2ldO1xuICAgIGlmICghbGluZWFyUmluZ3NBcmVPcmllbnRlZChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCByaWdodCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGVuZHMubGVuZ3RoKSB7XG4gICAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIE9yaWVudCBjb29yZGluYXRlcyBpbiBhIGZsYXQgYXJyYXkgb2YgbGluZWFyIHJpbmdzLiAgQnkgZGVmYXVsdCwgcmluZ3NcbiAqIGFyZSBvcmllbnRlZCBmb2xsb3dpbmcgdGhlIGxlZnQtaGFuZCBydWxlIChjbG9ja3dpc2UgZm9yIGV4dGVyaW9yIGFuZFxuICogY291bnRlci1jbG9ja3dpc2UgZm9yIGludGVyaW9yIHJpbmdzKS4gIFRvIG9yaWVudCBhY2NvcmRpbmcgdG8gdGhlXG4gKiByaWdodC1oYW5kIHJ1bGUsIHVzZSB0aGUgYHJpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtib29sZWFufSBbcmlnaHRdIEZvbGxvdyB0aGUgcmlnaHQtaGFuZCBydWxlIGZvciBvcmllbnRhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gRW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3JpZW50TGluZWFyUmluZ3MoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzLFxuICBzdHJpZGUsXG4gIHJpZ2h0XG4pIHtcbiAgcmlnaHQgPSByaWdodCAhPT0gdW5kZWZpbmVkID8gcmlnaHQgOiBmYWxzZTtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kID0gZW5kc1tpXTtcbiAgICBjb25zdCBpc0Nsb2Nrd2lzZSA9IGxpbmVhclJpbmdJc0Nsb2Nrd2lzZShcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZVxuICAgICk7XG4gICAgY29uc3QgcmV2ZXJzZSA9XG4gICAgICBpID09PSAwXG4gICAgICAgID8gKHJpZ2h0ICYmIGlzQ2xvY2t3aXNlKSB8fCAoIXJpZ2h0ICYmICFpc0Nsb2Nrd2lzZSlcbiAgICAgICAgOiAocmlnaHQgJiYgIWlzQ2xvY2t3aXNlKSB8fCAoIXJpZ2h0ICYmIGlzQ2xvY2t3aXNlKTtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV2ZXJzZUNvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG4gICAgfVxuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gb2Zmc2V0O1xufVxuXG4vKipcbiAqIE9yaWVudCBjb29yZGluYXRlcyBpbiBhIGZsYXQgYXJyYXkgb2YgbGluZWFyIHJpbmdzLiAgQnkgZGVmYXVsdCwgcmluZ3NcbiAqIGFyZSBvcmllbnRlZCBmb2xsb3dpbmcgdGhlIGxlZnQtaGFuZCBydWxlIChjbG9ja3dpc2UgZm9yIGV4dGVyaW9yIGFuZFxuICogY291bnRlci1jbG9ja3dpc2UgZm9yIGludGVyaW9yIHJpbmdzKS4gIFRvIG9yaWVudCBhY2NvcmRpbmcgdG8gdGhlXG4gKiByaWdodC1oYW5kIHJ1bGUsIHVzZSB0aGUgYHJpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBBcnJheSBvZiBhcnJheSBvZiBlbmQgaW5kZXhlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtib29sZWFufSBbcmlnaHRdIEZvbGxvdyB0aGUgcmlnaHQtaGFuZCBydWxlIGZvciBvcmllbnRhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gRW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3JpZW50TGluZWFyUmluZ3NBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHNzLFxuICBzdHJpZGUsXG4gIHJpZ2h0XG4pIHtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIG9mZnNldCA9IG9yaWVudExpbmVhclJpbmdzKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kc3NbaV0sXG4gICAgICBzdHJpZGUsXG4gICAgICByaWdodFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG9mZnNldDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSB0d28tZGltZW5zaW9uYWwgZW5kc3NcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBMaW5lYXIgcmluZyBlbmQgaW5kZXhlc1xuICogQHJldHVybiB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IFR3byBkaW1lbnNpb25hbCBlbmRzcyBhcnJheSB0aGF0IGNhblxuICogYmUgdXNlZCB0byBjb250cnVjdCBhIE11bHRpUG9seWdvblxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZUVuZHMoZmxhdENvb3JkaW5hdGVzLCBlbmRzKSB7XG4gIGNvbnN0IGVuZHNzID0gW107XG4gIGxldCBvZmZzZXQgPSAwO1xuICBsZXQgcHJldkVuZEluZGV4ID0gMDtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kID0gZW5kc1tpXTtcbiAgICAvLyBjbGFzc2lmaWVzIGFuIGFycmF5IG9mIHJpbmdzIGludG8gcG9seWdvbnMgd2l0aCBvdXRlciByaW5ncyBhbmQgaG9sZXNcbiAgICBpZiAoIWxpbmVhclJpbmdJc0Nsb2Nrd2lzZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCAyKSkge1xuICAgICAgZW5kc3MucHVzaChlbmRzLnNsaWNlKHByZXZFbmRJbmRleCwgaSArIDEpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGVuZHNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGVuZHNzW2VuZHNzLmxlbmd0aCAtIDFdLnB1c2goZW5kc1twcmV2RW5kSW5kZXhdKTtcbiAgICB9XG4gICAgcHJldkVuZEluZGV4ID0gaSArIDE7XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIHJldHVybiBlbmRzcztcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL1BvbHlnb25cbiAqL1xuaW1wb3J0IExpbmVhclJpbmcgZnJvbSAnLi9MaW5lYXJSaW5nLmpzJztcbmltcG9ydCBQb2ludCBmcm9tICcuL1BvaW50LmpzJztcbmltcG9ydCBTaW1wbGVHZW9tZXRyeSBmcm9tICcuL1NpbXBsZUdlb21ldHJ5LmpzJztcbmltcG9ydCB7YXJyYXlNYXhTcXVhcmVkRGVsdGEsIGFzc2lnbkNsb3Nlc3RBcnJheVBvaW50fSBmcm9tICcuL2ZsYXQvY2xvc2VzdC5qcyc7XG5pbXBvcnQge2Nsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWSwgZ2V0Q2VudGVyfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheX0gZnJvbSAnLi9mbGF0L2RlZmxhdGUuanMnO1xuaW1wb3J0IHtleHRlbmR9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7Z2V0SW50ZXJpb3JQb2ludE9mQXJyYXl9IGZyb20gJy4vZmxhdC9pbnRlcmlvcnBvaW50LmpzJztcbmltcG9ydCB7aW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXl9IGZyb20gJy4vZmxhdC9pbmZsYXRlLmpzJztcbmltcG9ydCB7aW50ZXJzZWN0c0xpbmVhclJpbmdBcnJheX0gZnJvbSAnLi9mbGF0L2ludGVyc2VjdHNleHRlbnQuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5nc0FyZU9yaWVudGVkLCBvcmllbnRMaW5lYXJSaW5nc30gZnJvbSAnLi9mbGF0L29yaWVudC5qcyc7XG5pbXBvcnQge2xpbmVhclJpbmdzIGFzIGxpbmVhclJpbmdzQXJlYX0gZnJvbSAnLi9mbGF0L2FyZWEuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5nc0NvbnRhaW5zWFl9IGZyb20gJy4vZmxhdC9jb250YWlucy5qcyc7XG5pbXBvcnQge21vZHVsb30gZnJvbSAnLi4vbWF0aC5qcyc7XG5pbXBvcnQge3F1YW50aXplQXJyYXl9IGZyb20gJy4vZmxhdC9zaW1wbGlmeS5qcyc7XG5pbXBvcnQge29mZnNldCBhcyBzcGhlcmVPZmZzZXR9IGZyb20gJy4uL3NwaGVyZS5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogUG9seWdvbiBnZW9tZXRyeS5cbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIFBvbHlnb24gZXh0ZW5kcyBTaW1wbGVHZW9tZXRyeSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+PnwhQXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXNcbiAgICogICAgIEFycmF5IG9mIGxpbmVhciByaW5ncyB0aGF0IGRlZmluZSB0aGUgcG9seWdvbi4gVGhlIGZpcnN0IGxpbmVhciByaW5nIG9mIHRoZVxuICAgKiAgICAgYXJyYXkgZGVmaW5lcyB0aGUgb3V0ZXItYm91bmRhcnkgb3Igc3VyZmFjZSBvZiB0aGUgcG9seWdvbi4gRWFjaCBzdWJzZXF1ZW50XG4gICAqICAgICBsaW5lYXIgcmluZyBkZWZpbmVzIGEgaG9sZSBpbiB0aGUgc3VyZmFjZSBvZiB0aGUgcG9seWdvbi4gQSBsaW5lYXIgcmluZyBpc1xuICAgKiAgICAgYW4gYXJyYXkgb2YgdmVydGljZXMnIGNvb3JkaW5hdGVzIHdoZXJlIHRoZSBmaXJzdCBjb29yZGluYXRlIGFuZCB0aGUgbGFzdCBhcmVcbiAgICogICAgIGVxdWl2YWxlbnQuIChGb3IgaW50ZXJuYWwgdXNlLCBmbGF0IGNvb3JkaW5hdGVzIGluIGNvbWJpbmF0aW9uIHdpdGhcbiAgICogICAgIGBsYXlvdXRgIGFuZCBgZW5kc2AgYXJlIGFsc28gYWNjZXB0ZWQuKVxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXR9IFtsYXlvdXRdIExheW91dC5cbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbZW5kc10gRW5kcyAoZm9yIGludGVybmFsIHVzZSB3aXRoIGZsYXQgY29vcmRpbmF0ZXMpLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29vcmRpbmF0ZXMsIGxheW91dCwgZW5kcykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZW5kc18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50UmV2aXNpb25fID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICovXG4gICAgdGhpcy5mbGF0SW50ZXJpb3JQb2ludF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4RGVsdGFfID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhEZWx0YVJldmlzaW9uXyA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMub3JpZW50ZWRSZXZpc2lvbl8gPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18gPSBudWxsO1xuXG4gICAgaWYgKGxheW91dCAhPT0gdW5kZWZpbmVkICYmIGVuZHMpIHtcbiAgICAgIHRoaXMuc2V0RmxhdENvb3JkaW5hdGVzKFxuICAgICAgICBsYXlvdXQsXG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGNvb3JkaW5hdGVzKVxuICAgICAgKTtcbiAgICAgIHRoaXMuZW5kc18gPSBlbmRzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldENvb3JkaW5hdGVzKFxuICAgICAgICAvKiogQHR5cGUge0FycmF5PEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSAqLyAoXG4gICAgICAgICAgY29vcmRpbmF0ZXNcbiAgICAgICAgKSxcbiAgICAgICAgbGF5b3V0XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmQgdGhlIHBhc3NlZCBsaW5lYXIgcmluZyB0byB0aGlzIHBvbHlnb24uXG4gICAqIEBwYXJhbSB7TGluZWFyUmluZ30gbGluZWFyUmluZyBMaW5lYXIgcmluZy5cbiAgICogQGFwaVxuICAgKi9cbiAgYXBwZW5kTGluZWFyUmluZyhsaW5lYXJSaW5nKSB7XG4gICAgaWYgKCF0aGlzLmZsYXRDb29yZGluYXRlcykge1xuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBsaW5lYXJSaW5nLmdldEZsYXRDb29yZGluYXRlcygpLnNsaWNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4dGVuZCh0aGlzLmZsYXRDb29yZGluYXRlcywgbGluZWFyUmluZy5nZXRGbGF0Q29vcmRpbmF0ZXMoKSk7XG4gICAgfVxuICAgIHRoaXMuZW5kc18ucHVzaCh0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2UgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7IVBvbHlnb259IENsb25lLlxuICAgKiBAYXBpXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBjb25zdCBwb2x5Z29uID0gbmV3IFBvbHlnb24oXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSgpLFxuICAgICAgdGhpcy5sYXlvdXQsXG4gICAgICB0aGlzLmVuZHNfLnNsaWNlKClcbiAgICApO1xuICAgIHBvbHlnb24uYXBwbHlQcm9wZXJ0aWVzKHRoaXMpO1xuICAgIHJldHVybiBwb2x5Z29uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblNxdWFyZWREaXN0YW5jZSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gICAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgKi9cbiAgY2xvc2VzdFBvaW50WFkoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICBpZiAobWluU3F1YXJlZERpc3RhbmNlIDwgY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZKHRoaXMuZ2V0RXh0ZW50KCksIHgsIHkpKSB7XG4gICAgICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5tYXhEZWx0YVJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgIHRoaXMubWF4RGVsdGFfID0gTWF0aC5zcXJ0KFxuICAgICAgICBhcnJheU1heFNxdWFyZWREZWx0YShcbiAgICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgICAwLFxuICAgICAgICAgIHRoaXMuZW5kc18sXG4gICAgICAgICAgdGhpcy5zdHJpZGUsXG4gICAgICAgICAgMFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgdGhpcy5tYXhEZWx0YVJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIGFzc2lnbkNsb3Nlc3RBcnJheVBvaW50KFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwLFxuICAgICAgdGhpcy5lbmRzXyxcbiAgICAgIHRoaXMuc3RyaWRlLFxuICAgICAgdGhpcy5tYXhEZWx0YV8sXG4gICAgICB0cnVlLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBjbG9zZXN0UG9pbnQsXG4gICAgICBtaW5TcXVhcmVkRGlzdGFuY2VcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAgICovXG4gIGNvbnRhaW5zWFkoeCwgeSkge1xuICAgIHJldHVybiBsaW5lYXJSaW5nc0NvbnRhaW5zWFkoXG4gICAgICB0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCksXG4gICAgICAwLFxuICAgICAgdGhpcy5lbmRzXyxcbiAgICAgIHRoaXMuc3RyaWRlLFxuICAgICAgeCxcbiAgICAgIHlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgYXJlYSBvZiB0aGUgcG9seWdvbiBvbiBwcm9qZWN0ZWQgcGxhbmUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gQXJlYSAob24gcHJvamVjdGVkIHBsYW5lKS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0QXJlYSgpIHtcbiAgICByZXR1cm4gbGluZWFyUmluZ3NBcmVhKFxuICAgICAgdGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLFxuICAgICAgMCxcbiAgICAgIHRoaXMuZW5kc18sXG4gICAgICB0aGlzLnN0cmlkZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjb29yZGluYXRlIGFycmF5IGZvciB0aGlzIGdlb21ldHJ5LiAgVGhpcyBhcnJheSBoYXMgdGhlIHN0cnVjdHVyZVxuICAgKiBvZiBhIEdlb0pTT04gY29vcmRpbmF0ZSBhcnJheSBmb3IgcG9seWdvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JpZ2h0XSBPcmllbnQgY29vcmRpbmF0ZXMgYWNjb3JkaW5nIHRvIHRoZSByaWdodC1oYW5kXG4gICAqICAgICBydWxlIChjb3VudGVyLWNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kIGNsb2Nrd2lzZSBmb3IgaW50ZXJpb3IgcmluZ3MpLlxuICAgKiAgICAgSWYgYGZhbHNlYCwgY29vcmRpbmF0ZXMgd2lsbCBiZSBvcmllbnRlZCBhY2NvcmRpbmcgdG8gdGhlIGxlZnQtaGFuZCBydWxlXG4gICAqICAgICAoY2xvY2t3aXNlIGZvciBleHRlcmlvciBhbmQgY291bnRlci1jbG9ja3dpc2UgZm9yIGludGVyaW9yIHJpbmdzKS5cbiAgICogICAgIEJ5IGRlZmF1bHQsIGNvb3JkaW5hdGUgb3JpZW50YXRpb24gd2lsbCBkZXBlbmQgb24gaG93IHRoZSBnZW9tZXRyeSB3YXNcbiAgICogICAgIGNvbnN0cnVjdGVkLlxuICAgKiBAcmV0dXJuIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gQ29vcmRpbmF0ZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENvb3JkaW5hdGVzKHJpZ2h0KSB7XG4gICAgbGV0IGZsYXRDb29yZGluYXRlcztcbiAgICBpZiAocmlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLnNsaWNlKCk7XG4gICAgICBvcmllbnRMaW5lYXJSaW5ncyhmbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlLCByaWdodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICAgIH1cblxuICAgIHJldHVybiBpbmZsYXRlQ29vcmRpbmF0ZXNBcnJheShmbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBFbmRzLlxuICAgKi9cbiAgZ2V0RW5kcygpIHtcbiAgICByZXR1cm4gdGhpcy5lbmRzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBJbnRlcmlvciBwb2ludC5cbiAgICovXG4gIGdldEZsYXRJbnRlcmlvclBvaW50KCkge1xuICAgIGlmICh0aGlzLmZsYXRJbnRlcmlvclBvaW50UmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgY29uc3QgZmxhdENlbnRlciA9IGdldENlbnRlcih0aGlzLmdldEV4dGVudCgpKTtcbiAgICAgIHRoaXMuZmxhdEludGVyaW9yUG9pbnRfID0gZ2V0SW50ZXJpb3JQb2ludE9mQXJyYXkoXG4gICAgICAgIHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSxcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy5lbmRzXyxcbiAgICAgICAgdGhpcy5zdHJpZGUsXG4gICAgICAgIGZsYXRDZW50ZXIsXG4gICAgICAgIDBcbiAgICAgICk7XG4gICAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50UmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mbGF0SW50ZXJpb3JQb2ludF87XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGFuIGludGVyaW9yIHBvaW50IG9mIHRoZSBwb2x5Z29uLlxuICAgKiBAcmV0dXJuIHtQb2ludH0gSW50ZXJpb3IgcG9pbnQgYXMgWFlNIGNvb3JkaW5hdGUsIHdoZXJlIE0gaXMgdGhlXG4gICAqIGxlbmd0aCBvZiB0aGUgaG9yaXpvbnRhbCBpbnRlcnNlY3Rpb24gdGhhdCB0aGUgcG9pbnQgYmVsb25ncyB0by5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0SW50ZXJpb3JQb2ludCgpIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMuZ2V0RmxhdEludGVyaW9yUG9pbnQoKSwgJ1hZTScpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbnVtYmVyIG9mIHJpbmdzIG9mIHRoZSBwb2x5Z29uLCAgdGhpcyBpbmNsdWRlcyB0aGUgZXh0ZXJpb3JcbiAgICogcmluZyBhbmQgYW55IGludGVyaW9yIHJpbmdzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBvZiByaW5ncy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TGluZWFyUmluZ0NvdW50KCkge1xuICAgIHJldHVybiB0aGlzLmVuZHNfLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIE50aCBsaW5lYXIgcmluZyBvZiB0aGUgcG9seWdvbiBnZW9tZXRyeS4gUmV0dXJuIGBudWxsYCBpZiB0aGVcbiAgICogZ2l2ZW4gaW5kZXggaXMgb3V0IG9mIHJhbmdlLlxuICAgKiBUaGUgZXh0ZXJpb3IgbGluZWFyIHJpbmcgaXMgYXZhaWxhYmxlIGF0IGluZGV4IGAwYCBhbmQgdGhlIGludGVyaW9yIHJpbmdzXG4gICAqIGF0IGluZGV4IGAxYCBhbmQgYmV5b25kLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEByZXR1cm4ge0xpbmVhclJpbmd8bnVsbH0gTGluZWFyIHJpbmcuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldExpbmVhclJpbmcoaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPCAwIHx8IHRoaXMuZW5kc18ubGVuZ3RoIDw9IGluZGV4KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBMaW5lYXJSaW5nKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoXG4gICAgICAgIGluZGV4ID09PSAwID8gMCA6IHRoaXMuZW5kc19baW5kZXggLSAxXSxcbiAgICAgICAgdGhpcy5lbmRzX1tpbmRleF1cbiAgICAgICksXG4gICAgICB0aGlzLmxheW91dFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBsaW5lYXIgcmluZ3Mgb2YgdGhlIHBvbHlnb24uXG4gICAqIEByZXR1cm4ge0FycmF5PExpbmVhclJpbmc+fSBMaW5lYXIgcmluZ3MuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldExpbmVhclJpbmdzKCkge1xuICAgIGNvbnN0IGxheW91dCA9IHRoaXMubGF5b3V0O1xuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICAgIGNvbnN0IGVuZHMgPSB0aGlzLmVuZHNfO1xuICAgIGNvbnN0IGxpbmVhclJpbmdzID0gW107XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgICAgY29uc3QgbGluZWFyUmluZyA9IG5ldyBMaW5lYXJSaW5nKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMuc2xpY2Uob2Zmc2V0LCBlbmQpLFxuICAgICAgICBsYXlvdXRcbiAgICAgICk7XG4gICAgICBsaW5lYXJSaW5ncy5wdXNoKGxpbmVhclJpbmcpO1xuICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgIH1cbiAgICByZXR1cm4gbGluZWFyUmluZ3M7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gT3JpZW50ZWQgZmxhdCBjb29yZGluYXRlcy5cbiAgICovXG4gIGdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCkge1xuICAgIGlmICh0aGlzLm9yaWVudGVkUmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgICBpZiAobGluZWFyUmluZ3NBcmVPcmllbnRlZChmbGF0Q29vcmRpbmF0ZXMsIDAsIHRoaXMuZW5kc18sIHRoaXMuc3RyaWRlKSkge1xuICAgICAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXyA9IGZsYXRDb29yZGluYXRlcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKCk7XG4gICAgICAgIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfLmxlbmd0aCA9IG9yaWVudExpbmVhclJpbmdzKFxuICAgICAgICAgIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgdGhpcy5lbmRzXyxcbiAgICAgICAgICB0aGlzLnN0cmlkZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy5vcmllbnRlZFJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgKiBAcmV0dXJuIHtQb2x5Z29ufSBTaW1wbGlmaWVkIFBvbHlnb24uXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGdldFNpbXBsaWZpZWRHZW9tZXRyeUludGVybmFsKHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICBjb25zdCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgY29uc3Qgc2ltcGxpZmllZEVuZHMgPSBbXTtcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IHF1YW50aXplQXJyYXkoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyxcbiAgICAgIDAsXG4gICAgICB0aGlzLmVuZHNfLFxuICAgICAgdGhpcy5zdHJpZGUsXG4gICAgICBNYXRoLnNxcnQoc3F1YXJlZFRvbGVyYW5jZSksXG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICAgICAgMCxcbiAgICAgIHNpbXBsaWZpZWRFbmRzXG4gICAgKTtcbiAgICByZXR1cm4gbmV3IFBvbHlnb24oc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgJ1hZJywgc2ltcGxpZmllZEVuZHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdHlwZSBvZiB0aGlzIGdlb21ldHJ5LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLlR5cGV9IEdlb21ldHJ5IHR5cGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFR5cGUoKSB7XG4gICAgcmV0dXJuICdQb2x5Z29uJztcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIHBhc3NlZCBleHRlbnQgaW50ZXJzZWN0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICAgKiBAYXBpXG4gICAqL1xuICBpbnRlcnNlY3RzRXh0ZW50KGV4dGVudCkge1xuICAgIHJldHVybiBpbnRlcnNlY3RzTGluZWFyUmluZ0FycmF5KFxuICAgICAgdGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLFxuICAgICAgMCxcbiAgICAgIHRoaXMuZW5kc18sXG4gICAgICB0aGlzLnN0cmlkZSxcbiAgICAgIGV4dGVudFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjb29yZGluYXRlcyBvZiB0aGUgcG9seWdvbi5cbiAgICogQHBhcmFtIHshQXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXR9IFtsYXlvdXRdIExheW91dC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Q29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMsIGxheW91dCkge1xuICAgIHRoaXMuc2V0TGF5b3V0KGxheW91dCwgY29vcmRpbmF0ZXMsIDIpO1xuICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgfVxuICAgIGNvbnN0IGVuZHMgPSBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheShcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLFxuICAgICAgMCxcbiAgICAgIGNvb3JkaW5hdGVzLFxuICAgICAgdGhpcy5zdHJpZGUsXG4gICAgICB0aGlzLmVuZHNfXG4gICAgKTtcbiAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBlbmRzLmxlbmd0aCA9PT0gMCA/IDAgOiBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9seWdvbjtcblxuLyoqXG4gKiBDcmVhdGUgYW4gYXBwcm94aW1hdGlvbiBvZiBhIGNpcmNsZSBvbiB0aGUgc3VyZmFjZSBvZiBhIHNwaGVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyIChgW2xvbiwgbGF0XWAgaW4gZGVncmVlcykuXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFRoZSBncmVhdC1jaXJjbGUgZGlzdGFuY2UgZnJvbSB0aGUgY2VudGVyIHRvXG4gKiAgICAgdGhlIHBvbHlnb24gdmVydGljZXMgaW4gbWV0ZXJzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtuXSBPcHRpb25hbCBudW1iZXIgb2YgdmVydGljZXMgZm9yIHRoZSByZXN1bHRpbmdcbiAqICAgICBwb2x5Z29uLiBEZWZhdWx0IGlzIGAzMmAuXG4gKiBAcGFyYW0ge251bWJlcn0gW3NwaGVyZVJhZGl1c10gT3B0aW9uYWwgcmFkaXVzIGZvciB0aGUgc3BoZXJlIChkZWZhdWx0cyB0b1xuICogICAgIHRoZSBFYXJ0aCdzIG1lYW4gcmFkaXVzIHVzaW5nIHRoZSBXR1M4NCBlbGxpcHNvaWQpLlxuICogQHJldHVybiB7UG9seWdvbn0gVGhlIFwiY2lyY3VsYXJcIiBwb2x5Z29uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2lyY3VsYXIoY2VudGVyLCByYWRpdXMsIG4sIHNwaGVyZVJhZGl1cykge1xuICBuID0gbiA/IG4gOiAzMjtcbiAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICBleHRlbmQoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBzcGhlcmVPZmZzZXQoY2VudGVyLCByYWRpdXMsICgyICogTWF0aC5QSSAqIGkpIC8gbiwgc3BoZXJlUmFkaXVzKVxuICAgICk7XG4gIH1cbiAgZmxhdENvb3JkaW5hdGVzLnB1c2goZmxhdENvb3JkaW5hdGVzWzBdLCBmbGF0Q29vcmRpbmF0ZXNbMV0pO1xuICByZXR1cm4gbmV3IFBvbHlnb24oZmxhdENvb3JkaW5hdGVzLCAnWFknLCBbZmxhdENvb3JkaW5hdGVzLmxlbmd0aF0pO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIHBvbHlnb24gZnJvbSBhbiBleHRlbnQuIFRoZSBsYXlvdXQgdXNlZCBpcyBgWFlgLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgVGhlIGV4dGVudC5cbiAqIEByZXR1cm4ge1BvbHlnb259IFRoZSBwb2x5Z29uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUV4dGVudChleHRlbnQpIHtcbiAgY29uc3QgbWluWCA9IGV4dGVudFswXTtcbiAgY29uc3QgbWluWSA9IGV4dGVudFsxXTtcbiAgY29uc3QgbWF4WCA9IGV4dGVudFsyXTtcbiAgY29uc3QgbWF4WSA9IGV4dGVudFszXTtcbiAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gW1xuICAgIG1pblgsXG4gICAgbWluWSxcbiAgICBtaW5YLFxuICAgIG1heFksXG4gICAgbWF4WCxcbiAgICBtYXhZLFxuICAgIG1heFgsXG4gICAgbWluWSxcbiAgICBtaW5YLFxuICAgIG1pblksXG4gIF07XG4gIHJldHVybiBuZXcgUG9seWdvbihmbGF0Q29vcmRpbmF0ZXMsICdYWScsIFtmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoXSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgcmVndWxhciBwb2x5Z29uIGZyb20gYSBjaXJjbGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGNpcmNsZSBDaXJjbGUgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge251bWJlcn0gW3NpZGVzXSBOdW1iZXIgb2Ygc2lkZXMgb2YgdGhlIHBvbHlnb24uIERlZmF1bHQgaXMgMzIuXG4gKiBAcGFyYW0ge251bWJlcn0gW2FuZ2xlXSBTdGFydCBhbmdsZSBmb3IgdGhlIGZpcnN0IHZlcnRleCBvZiB0aGUgcG9seWdvbiBpblxuICogICAgIGNvdW50ZXItY2xvY2t3aXNlIHJhZGlhbnMuIDAgbWVhbnMgRWFzdC4gRGVmYXVsdCBpcyAwLlxuICogQHJldHVybiB7UG9seWdvbn0gUG9seWdvbiBnZW9tZXRyeS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21DaXJjbGUoY2lyY2xlLCBzaWRlcywgYW5nbGUpIHtcbiAgc2lkZXMgPSBzaWRlcyA/IHNpZGVzIDogMzI7XG4gIGNvbnN0IHN0cmlkZSA9IGNpcmNsZS5nZXRTdHJpZGUoKTtcbiAgY29uc3QgbGF5b3V0ID0gY2lyY2xlLmdldExheW91dCgpO1xuICBjb25zdCBjZW50ZXIgPSBjaXJjbGUuZ2V0Q2VudGVyKCk7XG4gIGNvbnN0IGFycmF5TGVuZ3RoID0gc3RyaWRlICogKHNpZGVzICsgMSk7XG4gIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IG5ldyBBcnJheShhcnJheUxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlMZW5ndGg7IGkgKz0gc3RyaWRlKSB7XG4gICAgZmxhdENvb3JkaW5hdGVzW2ldID0gMDtcbiAgICBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdID0gMDtcbiAgICBmb3IgKGxldCBqID0gMjsgaiA8IHN0cmlkZTsgaisrKSB7XG4gICAgICBmbGF0Q29vcmRpbmF0ZXNbaSArIGpdID0gY2VudGVyW2pdO1xuICAgIH1cbiAgfVxuICBjb25zdCBlbmRzID0gW2ZsYXRDb29yZGluYXRlcy5sZW5ndGhdO1xuICBjb25zdCBwb2x5Z29uID0gbmV3IFBvbHlnb24oZmxhdENvb3JkaW5hdGVzLCBsYXlvdXQsIGVuZHMpO1xuICBtYWtlUmVndWxhcihwb2x5Z29uLCBjZW50ZXIsIGNpcmNsZS5nZXRSYWRpdXMoKSwgYW5nbGUpO1xuICByZXR1cm4gcG9seWdvbjtcbn1cblxuLyoqXG4gKiBNb2RpZnkgdGhlIGNvb3JkaW5hdGVzIG9mIGEgcG9seWdvbiB0byBtYWtlIGl0IGEgcmVndWxhciBwb2x5Z29uLlxuICogQHBhcmFtIHtQb2x5Z29ufSBwb2x5Z29uIFBvbHlnb24gZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlciBvZiB0aGUgcmVndWxhciBwb2x5Z29uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyBSYWRpdXMgb2YgdGhlIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbYW5nbGVdIFN0YXJ0IGFuZ2xlIGZvciB0aGUgZmlyc3QgdmVydGV4IG9mIHRoZSBwb2x5Z29uIGluXG4gKiAgICAgY291bnRlci1jbG9ja3dpc2UgcmFkaWFucy4gMCBtZWFucyBFYXN0LiBEZWZhdWx0IGlzIDAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUmVndWxhcihwb2x5Z29uLCBjZW50ZXIsIHJhZGl1cywgYW5nbGUpIHtcbiAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gcG9seWdvbi5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgY29uc3Qgc3RyaWRlID0gcG9seWdvbi5nZXRTdHJpZGUoKTtcbiAgY29uc3Qgc2lkZXMgPSBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoIC8gc3RyaWRlIC0gMTtcbiAgY29uc3Qgc3RhcnRBbmdsZSA9IGFuZ2xlID8gYW5nbGUgOiAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8PSBzaWRlczsgKytpKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gaSAqIHN0cmlkZTtcbiAgICBjb25zdCBhbmdsZSA9IHN0YXJ0QW5nbGUgKyAobW9kdWxvKGksIHNpZGVzKSAqIDIgKiBNYXRoLlBJKSAvIHNpZGVzO1xuICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXRdID0gY2VudGVyWzBdICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpO1xuICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSA9IGNlbnRlclsxXSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKTtcbiAgfVxuICBwb2x5Z29uLmNoYW5nZWQoKTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL0dlb21ldHJ5XG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4uL09iamVjdC5qcyc7XG5pbXBvcnQge2Fic3RyYWN0fSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7XG4gIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSxcbiAgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSxcbn0gZnJvbSAnLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7XG4gIGNyZWF0ZUVtcHR5LFxuICBjcmVhdGVPclVwZGF0ZUVtcHR5LFxuICBnZXRIZWlnaHQsXG4gIHJldHVybk9yVXBkYXRlLFxufSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtnZXQgYXMgZ2V0UHJvamVjdGlvbiwgZ2V0VHJhbnNmb3JtfSBmcm9tICcuLi9wcm9qLmpzJztcbmltcG9ydCB7bWVtb2l6ZU9uZX0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7dHJhbnNmb3JtMkR9IGZyb20gJy4vZmxhdC90cmFuc2Zvcm0uanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHsnWFknIHwgJ1hZWicgfCAnWFlNJyB8ICdYWVpNJ30gR2VvbWV0cnlMYXlvdXRcbiAqIFRoZSBjb29yZGluYXRlIGxheW91dCBmb3IgZ2VvbWV0cmllcywgaW5kaWNhdGluZyB3aGV0aGVyIGEgM3JkIG9yIDR0aCB6ICgnWicpXG4gKiBvciBtZWFzdXJlICgnTScpIGNvb3JkaW5hdGUgaXMgYXZhaWxhYmxlLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeydQb2ludCcgfCAnTGluZVN0cmluZycgfCAnTGluZWFyUmluZycgfCAnUG9seWdvbicgfCAnTXVsdGlQb2ludCcgfCAnTXVsdGlMaW5lU3RyaW5nJyB8ICdNdWx0aVBvbHlnb24nIHwgJ0dlb21ldHJ5Q29sbGVjdGlvbicgfCAnQ2lyY2xlJ30gVHlwZVxuICogVGhlIGdlb21ldHJ5IHR5cGUuICBPbmUgb2YgYCdQb2ludCdgLCBgJ0xpbmVTdHJpbmcnYCwgYCdMaW5lYXJSaW5nJ2AsXG4gKiBgJ1BvbHlnb24nYCwgYCdNdWx0aVBvaW50J2AsIGAnTXVsdGlMaW5lU3RyaW5nJ2AsIGAnTXVsdGlQb2x5Z29uJ2AsXG4gKiBgJ0dlb21ldHJ5Q29sbGVjdGlvbidgLCBvciBgJ0NpcmNsZSdgLlxuICovXG5cbi8qKlxuICogQHR5cGUge2ltcG9ydChcIi4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gKi9cbmNvbnN0IHRtcFRyYW5zZm9ybSA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEJhc2UgY2xhc3MgZm9yIHZlY3RvciBnZW9tZXRyaWVzLlxuICpcbiAqIFRvIGdldCBub3RpZmllZCBvZiBjaGFuZ2VzIHRvIHRoZSBnZW9tZXRyeSwgcmVnaXN0ZXIgYSBsaXN0ZW5lciBmb3IgdGhlXG4gKiBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IG9uIHlvdXIgZ2VvbWV0cnkgaW5zdGFuY2UuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbmNsYXNzIEdlb21ldHJ5IGV4dGVuZHMgQmFzZU9iamVjdCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMuZXh0ZW50XyA9IGNyZWF0ZUVtcHR5KCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5leHRlbnRSZXZpc2lvbl8gPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeVJldmlzaW9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIEdldCBhIHRyYW5zZm9ybWVkIGFuZCBzaW1wbGlmaWVkIHZlcnNpb24gb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXZpc2lvbiBUaGUgZ2VvbWV0cnkgcmV2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbdHJhbnNmb3JtXSBPcHRpb25hbCB0cmFuc2Zvcm0gZnVuY3Rpb24uXG4gICAgICogQHJldHVybiB7R2VvbWV0cnl9IFNpbXBsaWZpZWQgZ2VvbWV0cnkuXG4gICAgICovXG4gICAgdGhpcy5zaW1wbGlmeVRyYW5zZm9ybWVkSW50ZXJuYWwgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChcbiAgICAgIHJldmlzaW9uLFxuICAgICAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICAgIHRyYW5zZm9ybVxuICAgICkge1xuICAgICAgaWYgKCF0cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2ltcGxpZmllZEdlb21ldHJ5KHNxdWFyZWRUb2xlcmFuY2UpO1xuICAgICAgfVxuICAgICAgY29uc3QgY2xvbmUgPSB0aGlzLmNsb25lKCk7XG4gICAgICBjbG9uZS5hcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm0pO1xuICAgICAgcmV0dXJuIGNsb25lLmdldFNpbXBsaWZpZWRHZW9tZXRyeShzcXVhcmVkVG9sZXJhbmNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSB0cmFuc2Zvcm1lZCBhbmQgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IFt0cmFuc2Zvcm1dIE9wdGlvbmFsIHRyYW5zZm9ybSBmdW5jdGlvbi5cbiAgICogQHJldHVybiB7R2VvbWV0cnl9IFNpbXBsaWZpZWQgZ2VvbWV0cnkuXG4gICAqL1xuICBzaW1wbGlmeVRyYW5zZm9ybWVkKHNxdWFyZWRUb2xlcmFuY2UsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiB0aGlzLnNpbXBsaWZ5VHJhbnNmb3JtZWRJbnRlcm5hbChcbiAgICAgIHRoaXMuZ2V0UmV2aXNpb24oKSxcbiAgICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgICB0cmFuc2Zvcm1cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2UgYSBjb21wbGV0ZSBjb3B5IG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4geyFHZW9tZXRyeX0gQ2xvbmUuXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gICAqL1xuICBjbG9zZXN0UG9pbnRYWSh4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAgICovXG4gIGNvbnRhaW5zWFkoeCwgeSkge1xuICAgIGNvbnN0IGNvb3JkID0gdGhpcy5nZXRDbG9zZXN0UG9pbnQoW3gsIHldKTtcbiAgICByZXR1cm4gY29vcmRbMF0gPT09IHggJiYgY29vcmRbMV0gPT09IHk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjbG9zZXN0IHBvaW50IG9mIHRoZSBnZW9tZXRyeSB0byB0aGUgcGFzc2VkIHBvaW50IGFzXG4gICAqIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlIGNvb3JkaW5hdGV9LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcG9pbnQgUG9pbnQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbY2xvc2VzdFBvaW50XSBDbG9zZXN0IHBvaW50LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENsb3Nlc3QgcG9pbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENsb3Nlc3RQb2ludChwb2ludCwgY2xvc2VzdFBvaW50KSB7XG4gICAgY2xvc2VzdFBvaW50ID0gY2xvc2VzdFBvaW50ID8gY2xvc2VzdFBvaW50IDogW05hTiwgTmFOXTtcbiAgICB0aGlzLmNsb3Nlc3RQb2ludFhZKHBvaW50WzBdLCBwb2ludFsxXSwgY2xvc2VzdFBvaW50LCBJbmZpbml0eSk7XG4gICAgcmV0dXJuIGNsb3Nlc3RQb2ludDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBnZW9tZXRyeSBpbmNsdWRlcyB0aGUgc3BlY2lmaWVkIGNvb3JkaW5hdGUuIElmIHRoZVxuICAgKiBjb29yZGluYXRlIGlzIG9uIHRoZSBib3VuZGFyeSBvZiB0aGUgZ2VvbWV0cnksIHJldHVybnMgZmFsc2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zIGNvb3JkaW5hdGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGludGVyc2VjdHNDb29yZGluYXRlKGNvb3JkaW5hdGUpIHtcbiAgICByZXR1cm4gdGhpcy5jb250YWluc1hZKGNvb3JkaW5hdGVbMF0sIGNvb3JkaW5hdGVbMV0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICovXG4gIGNvbXB1dGVFeHRlbnQoZXh0ZW50KSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBleHRlbnQgb2YgdGhlIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIEV4dGVudC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RXh0ZW50KGV4dGVudCkge1xuICAgIGlmICh0aGlzLmV4dGVudFJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgIGNvbnN0IGV4dGVudCA9IHRoaXMuY29tcHV0ZUV4dGVudCh0aGlzLmV4dGVudF8pO1xuICAgICAgaWYgKGlzTmFOKGV4dGVudFswXSkgfHwgaXNOYU4oZXh0ZW50WzFdKSkge1xuICAgICAgICBjcmVhdGVPclVwZGF0ZUVtcHR5KGV4dGVudCk7XG4gICAgICB9XG4gICAgICB0aGlzLmV4dGVudFJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldHVybk9yVXBkYXRlKHRoaXMuZXh0ZW50XywgZXh0ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSb3RhdGUgdGhlIGdlb21ldHJ5IGFyb3VuZCBhIGdpdmVuIGNvb3JkaW5hdGUuIFRoaXMgbW9kaWZpZXMgdGhlIGdlb21ldHJ5XG4gICAqIGNvb3JkaW5hdGVzIGluIHBsYWNlLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIFJvdGF0aW9uIGFuZ2xlIGluIHJhZGlhbnMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhbmNob3IgVGhlIHJvdGF0aW9uIGNlbnRlci5cbiAgICogQGFwaVxuICAgKi9cbiAgcm90YXRlKGFuZ2xlLCBhbmNob3IpIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlIHRoZSBnZW9tZXRyeSAod2l0aCBhbiBvcHRpb25hbCBvcmlnaW4pLiAgVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnlcbiAgICogY29vcmRpbmF0ZXMgaW4gcGxhY2UuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge251bWJlcn0gc3ggVGhlIHNjYWxpbmcgZmFjdG9yIGluIHRoZSB4LWRpcmVjdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzeV0gVGhlIHNjYWxpbmcgZmFjdG9yIGluIHRoZSB5LWRpcmVjdGlvbiAoZGVmYXVsdHMgdG8gc3gpLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gVGhlIHNjYWxlIG9yaWdpbiAoZGVmYXVsdHMgdG8gdGhlIGNlbnRlclxuICAgKiAgICAgb2YgdGhlIGdlb21ldHJ5IGV4dGVudCkuXG4gICAqIEBhcGlcbiAgICovXG4gIHNjYWxlKHN4LCBzeSwgYW5jaG9yKSB7XG4gICAgYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBzaW1wbGlmaWVkIHZlcnNpb24gb2YgdGhpcyBnZW9tZXRyeS4gIEZvciBsaW5lc3RyaW5ncywgdGhpcyB1c2VzXG4gICAqIHRoZSBbRG91Z2xhcyBQZXVja2VyXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9SYW1lci1Eb3VnbGFzLVBldWNrZXJfYWxnb3JpdGhtKVxuICAgKiBhbGdvcml0aG0uICBGb3IgcG9seWdvbnMsIGEgcXVhbnRpemF0aW9uLWJhc2VkXG4gICAqIHNpbXBsaWZpY2F0aW9uIGlzIHVzZWQgdG8gcHJlc2VydmUgdG9wb2xvZ3kuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVGhlIHRvbGVyYW5jZSBkaXN0YW5jZSBmb3Igc2ltcGxpZmljYXRpb24uXG4gICAqIEByZXR1cm4ge0dlb21ldHJ5fSBBIG5ldywgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoZSBvcmlnaW5hbCBnZW9tZXRyeS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2ltcGxpZnkodG9sZXJhbmNlKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U2ltcGxpZmllZEdlb21ldHJ5KHRvbGVyYW5jZSAqIHRvbGVyYW5jZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoaXMgZ2VvbWV0cnkgdXNpbmcgdGhlIERvdWdsYXMgUGV1Y2tlclxuICAgKiBhbGdvcml0aG0uXG4gICAqIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9SYW1lci1Eb3VnbGFzLVBldWNrZXJfYWxnb3JpdGhtLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAqIEByZXR1cm4ge0dlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgKi9cbiAgZ2V0U2ltcGxpZmllZEdlb21ldHJ5KHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBnZW9tZXRyeS5cbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge1R5cGV9IEdlb21ldHJ5IHR5cGUuXG4gICAqL1xuICBnZXRUeXBlKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHRvIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgZ2VvbWV0cnkuXG4gICAqIFRoZSBnZW9tZXRyeSBpcyBtb2RpZmllZCBpbiBwbGFjZS5cbiAgICogSWYgeW91IGRvIG5vdCB3YW50IHRoZSBnZW9tZXRyeSBtb2RpZmllZCBpbiBwbGFjZSwgZmlyc3QgYGNsb25lKClgIGl0IGFuZFxuICAgKiB0aGVuIHVzZSB0aGlzIGZ1bmN0aW9uIG9uIHRoZSBjbG9uZS5cbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVHJhbnNmb3JtIGZ1bmN0aW9uLlxuICAgKiBDYWxsZWQgd2l0aCBhIGZsYXQgYXJyYXkgb2YgZ2VvbWV0cnkgY29vcmRpbmF0ZXMuXG4gICAqL1xuICBhcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm1Gbikge1xuICAgIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBwYXNzZWQgZXh0ZW50IGludGVyc2VjdC5cbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gICAqL1xuICBpbnRlcnNlY3RzRXh0ZW50KGV4dGVudCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zbGF0ZSB0aGUgZ2VvbWV0cnkuICBUaGlzIG1vZGlmaWVzIHRoZSBnZW9tZXRyeSBjb29yZGluYXRlcyBpbiBwbGFjZS4gIElmXG4gICAqIGluc3RlYWQgeW91IHdhbnQgYSBuZXcgZ2VvbWV0cnksIGZpcnN0IGBjbG9uZSgpYCB0aGlzIGdlb21ldHJ5LlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhWCBEZWx0YSBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFZIERlbHRhIFkuXG4gICAqIEBhcGlcbiAgICovXG4gIHRyYW5zbGF0ZShkZWx0YVgsIGRlbHRhWSkge1xuICAgIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmb3JtIGVhY2ggY29vcmRpbmF0ZSBvZiB0aGUgZ2VvbWV0cnkgZnJvbSBvbmUgY29vcmRpbmF0ZSByZWZlcmVuY2VcbiAgICogc3lzdGVtIHRvIGFub3RoZXIuIFRoZSBnZW9tZXRyeSBpcyBtb2RpZmllZCBpbiBwbGFjZS5cbiAgICogRm9yIGV4YW1wbGUsIGEgbGluZSB3aWxsIGJlIHRyYW5zZm9ybWVkIHRvIGEgbGluZSBhbmQgYSBjaXJjbGUgdG8gYSBjaXJjbGUuXG4gICAqIElmIHlvdSBkbyBub3Qgd2FudCB0aGUgZ2VvbWV0cnkgbW9kaWZpZWQgaW4gcGxhY2UsIGZpcnN0IGBjbG9uZSgpYCBpdCBhbmRcbiAgICogdGhlbiB1c2UgdGhpcyBmdW5jdGlvbiBvbiB0aGUgY2xvbmUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gc291cmNlIFRoZSBjdXJyZW50IHByb2plY3Rpb24uICBDYW4gYmUgYVxuICAgKiAgICAgc3RyaW5nIGlkZW50aWZpZXIgb3IgYSB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufSBvYmplY3QuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gZGVzdGluYXRpb24gVGhlIGRlc2lyZWQgcHJvamVjdGlvbi4gIENhbiBiZSBhXG4gICAqICAgICBzdHJpbmcgaWRlbnRpZmllciBvciBhIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IG9iamVjdC5cbiAgICogQHJldHVybiB7R2VvbWV0cnl9IFRoaXMgZ2VvbWV0cnkuICBOb3RlIHRoYXQgb3JpZ2luYWwgZ2VvbWV0cnkgaXNcbiAgICogICAgIG1vZGlmaWVkIGluIHBsYWNlLlxuICAgKiBAYXBpXG4gICAqL1xuICB0cmFuc2Zvcm0oc291cmNlLCBkZXN0aW5hdGlvbikge1xuICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovXG4gICAgY29uc3Qgc291cmNlUHJvaiA9IGdldFByb2plY3Rpb24oc291cmNlKTtcbiAgICBjb25zdCB0cmFuc2Zvcm1GbiA9XG4gICAgICBzb3VyY2VQcm9qLmdldFVuaXRzKCkgPT0gJ3RpbGUtcGl4ZWxzJ1xuICAgICAgICA/IGZ1bmN0aW9uIChpbkNvb3JkaW5hdGVzLCBvdXRDb29yZGluYXRlcywgc3RyaWRlKSB7XG4gICAgICAgICAgICBjb25zdCBwaXhlbEV4dGVudCA9IHNvdXJjZVByb2ouZ2V0RXh0ZW50KCk7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0ZWRFeHRlbnQgPSBzb3VyY2VQcm9qLmdldFdvcmxkRXh0ZW50KCk7XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IGdldEhlaWdodChwcm9qZWN0ZWRFeHRlbnQpIC8gZ2V0SGVpZ2h0KHBpeGVsRXh0ZW50KTtcbiAgICAgICAgICAgIGNvbXBvc2VUcmFuc2Zvcm0oXG4gICAgICAgICAgICAgIHRtcFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgcHJvamVjdGVkRXh0ZW50WzBdLFxuICAgICAgICAgICAgICBwcm9qZWN0ZWRFeHRlbnRbM10sXG4gICAgICAgICAgICAgIHNjYWxlLFxuICAgICAgICAgICAgICAtc2NhbGUsXG4gICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0cmFuc2Zvcm0yRChcbiAgICAgICAgICAgICAgaW5Db29yZGluYXRlcyxcbiAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgaW5Db29yZGluYXRlcy5sZW5ndGgsXG4gICAgICAgICAgICAgIHN0cmlkZSxcbiAgICAgICAgICAgICAgdG1wVHJhbnNmb3JtLFxuICAgICAgICAgICAgICBvdXRDb29yZGluYXRlc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRUcmFuc2Zvcm0oc291cmNlUHJvaiwgZGVzdGluYXRpb24pKFxuICAgICAgICAgICAgICBpbkNvb3JkaW5hdGVzLFxuICAgICAgICAgICAgICBvdXRDb29yZGluYXRlcyxcbiAgICAgICAgICAgICAgc3RyaWRlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgOiBnZXRUcmFuc2Zvcm0oc291cmNlUHJvaiwgZGVzdGluYXRpb24pO1xuICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtRm4pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdlb21ldHJ5O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vU2ltcGxlR2VvbWV0cnlcbiAqL1xuaW1wb3J0IEdlb21ldHJ5IGZyb20gJy4vR2VvbWV0cnkuanMnO1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQge2NyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcywgZ2V0Q2VudGVyfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtyb3RhdGUsIHNjYWxlLCB0cmFuc2Zvcm0yRCwgdHJhbnNsYXRlfSBmcm9tICcuL2ZsYXQvdHJhbnNmb3JtLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXM7IGRvIG5vdCBpbnN0YW50aWF0ZVxuICogaW4gYXBwcywgYXMgY2Fubm90IGJlIHJlbmRlcmVkLlxuICpcbiAqIEBhYnN0cmFjdFxuICogQGFwaVxuICovXG5jbGFzcyBTaW1wbGVHZW9tZXRyeSBleHRlbmRzIEdlb21ldHJ5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dH1cbiAgICAgKi9cbiAgICB0aGlzLmxheW91dCA9ICdYWSc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnN0cmlkZSA9IDI7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKi9cbiAgY29tcHV0ZUV4dGVudChleHRlbnQpIHtcbiAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGVGcm9tRmxhdENvb3JkaW5hdGVzKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwLFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgdGhpcy5zdHJpZGUsXG4gICAgICBleHRlbnRcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtBcnJheTwqPiB8IG51bGx9IENvb3JkaW5hdGVzLlxuICAgKi9cbiAgZ2V0Q29vcmRpbmF0ZXMoKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBmaXJzdCBjb29yZGluYXRlIG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBGaXJzdCBjb29yZGluYXRlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRGaXJzdENvb3JkaW5hdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKDAsIHRoaXMuc3RyaWRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKi9cbiAgZ2V0RmxhdENvb3JkaW5hdGVzKCkge1xuICAgIHJldHVybiB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGxhc3QgY29vcmRpbmF0ZSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gTGFzdCBwb2ludC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TGFzdENvb3JkaW5hdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoIC0gdGhpcy5zdHJpZGVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUge0BsaW5rIGltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXQgbGF5b3V0fSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXR9IExheW91dC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TGF5b3V0KCkge1xuICAgIHJldHVybiB0aGlzLmxheW91dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBzaW1wbGlmaWVkIHZlcnNpb24gb2YgdGhpcyBnZW9tZXRyeSB1c2luZyB0aGUgRG91Z2xhcyBQZXVja2VyIGFsZ29yaXRobS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAqIEByZXR1cm4ge1NpbXBsZUdlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgKi9cbiAgZ2V0U2ltcGxpZmllZEdlb21ldHJ5KHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICBpZiAodGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlSZXZpc2lvbiAhPT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICB0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeU1heE1pblNxdWFyZWRUb2xlcmFuY2UgPSAwO1xuICAgICAgdGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlSZXZpc2lvbiA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICB9XG4gICAgLy8gSWYgc3F1YXJlZFRvbGVyYW5jZSBpcyBuZWdhdGl2ZSBvciBpZiB3ZSBrbm93IHRoYXQgc2ltcGxpZmljYXRpb24gd2lsbCBub3RcbiAgICAvLyBoYXZlIGFueSBlZmZlY3QgdGhlbiBqdXN0IHJldHVybiB0aGlzLlxuICAgIGlmIChcbiAgICAgIHNxdWFyZWRUb2xlcmFuY2UgPCAwIHx8XG4gICAgICAodGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlICE9PSAwICYmXG4gICAgICAgIHNxdWFyZWRUb2xlcmFuY2UgPD0gdGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY29uc3Qgc2ltcGxpZmllZEdlb21ldHJ5ID1cbiAgICAgIHRoaXMuZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwoc3F1YXJlZFRvbGVyYW5jZSk7XG4gICAgY29uc3Qgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyA9IHNpbXBsaWZpZWRHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBpZiAoc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcy5sZW5ndGggPCB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBzaW1wbGlmaWVkR2VvbWV0cnk7XG4gICAgfVxuICAgIC8vIFNpbXBsaWZpY2F0aW9uIGRpZCBub3QgYWN0dWFsbHkgcmVtb3ZlIGFueSBjb29yZGluYXRlcy4gIFdlIG5vdyBrbm93XG4gICAgLy8gdGhhdCBhbnkgY2FsbHMgdG8gZ2V0U2ltcGxpZmllZEdlb21ldHJ5IHdpdGggYSBzcXVhcmVkVG9sZXJhbmNlIGxlc3NcbiAgICAvLyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBjdXJyZW50IHNxdWFyZWRUb2xlcmFuY2Ugd2lsbCBhbHNvIG5vdCBoYXZlIGFueVxuICAgIC8vIGVmZmVjdC4gIFRoaXMgYWxsb3dzIHVzIHRvIHNob3J0IGNpcmN1aXQgc2ltcGxpZmljYXRpb24gKHNhdmluZyBDUFVcbiAgICAvLyBjeWNsZXMpIGFuZCBwcmV2ZW50cyB0aGUgY2FjaGUgb2Ygc2ltcGxpZmllZCBnZW9tZXRyaWVzIGZyb20gZmlsbGluZ1xuICAgIC8vIHVwIHdpdGggdXNlbGVzcyBpZGVudGljYWwgY29waWVzIG9mIHRoaXMgZ2VvbWV0cnkgKHNhdmluZyBtZW1vcnkpLlxuICAgIHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSA9IHNxdWFyZWRUb2xlcmFuY2U7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAqIEByZXR1cm4ge1NpbXBsZUdlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBTdHJpZGUuXG4gICAqL1xuICBnZXRTdHJpZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaWRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dH0gbGF5b3V0IExheW91dC5cbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICovXG4gIHNldEZsYXRDb29yZGluYXRlcyhsYXlvdXQsIGZsYXRDb29yZGluYXRlcykge1xuICAgIHRoaXMuc3RyaWRlID0gZ2V0U3RyaWRlRm9yTGF5b3V0KGxheW91dCk7XG4gICAgdGhpcy5sYXlvdXQgPSBsYXlvdXQ7XG4gICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMgPSBmbGF0Q29vcmRpbmF0ZXM7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7IUFycmF5PCo+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0fSBbbGF5b3V0XSBMYXlvdXQuXG4gICAqL1xuICBzZXRDb29yZGluYXRlcyhjb29yZGluYXRlcywgbGF5b3V0KSB7XG4gICAgYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXR8dW5kZWZpbmVkfSBsYXlvdXQgTGF5b3V0LlxuICAgKiBAcGFyYW0ge0FycmF5PCo+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG5lc3RpbmcgTmVzdGluZy5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc2V0TGF5b3V0KGxheW91dCwgY29vcmRpbmF0ZXMsIG5lc3RpbmcpIHtcbiAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICBsZXQgc3RyaWRlO1xuICAgIGlmIChsYXlvdXQpIHtcbiAgICAgIHN0cmlkZSA9IGdldFN0cmlkZUZvckxheW91dChsYXlvdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5lc3Rpbmc7ICsraSkge1xuICAgICAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5sYXlvdXQgPSAnWFknO1xuICAgICAgICAgIHRoaXMuc3RyaWRlID0gMjtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge0FycmF5fSAqLyAoY29vcmRpbmF0ZXNbMF0pO1xuICAgICAgfVxuICAgICAgc3RyaWRlID0gY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgbGF5b3V0ID0gZ2V0TGF5b3V0Rm9yU3RyaWRlKHN0cmlkZSk7XG4gICAgfVxuICAgIHRoaXMubGF5b3V0ID0gbGF5b3V0O1xuICAgIHRoaXMuc3RyaWRlID0gc3RyaWRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHRvIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgZ2VvbWV0cnkuXG4gICAqIFRoZSBnZW9tZXRyeSBpcyBtb2RpZmllZCBpbiBwbGFjZS5cbiAgICogSWYgeW91IGRvIG5vdCB3YW50IHRoZSBnZW9tZXRyeSBtb2RpZmllZCBpbiBwbGFjZSwgZmlyc3QgYGNsb25lKClgIGl0IGFuZFxuICAgKiB0aGVuIHVzZSB0aGlzIGZ1bmN0aW9uIG9uIHRoZSBjbG9uZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSB0cmFuc2Zvcm1GbiBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gICAqIENhbGxlZCB3aXRoIGEgZmxhdCBhcnJheSBvZiBnZW9tZXRyeSBjb29yZGluYXRlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtRm4pIHtcbiAgICBpZiAodGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgIHRyYW5zZm9ybUZuKHRoaXMuZmxhdENvb3JkaW5hdGVzLCB0aGlzLmZsYXRDb29yZGluYXRlcywgdGhpcy5zdHJpZGUpO1xuICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZSB0aGUgZ2VvbWV0cnkgYXJvdW5kIGEgZ2l2ZW4gY29vcmRpbmF0ZS4gVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnlcbiAgICogY29vcmRpbmF0ZXMgaW4gcGxhY2UuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBSb3RhdGlvbiBhbmdsZSBpbiBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYW5jaG9yIFRoZSByb3RhdGlvbiBjZW50ZXIuXG4gICAqIEBhcGlcbiAgICovXG4gIHJvdGF0ZShhbmdsZSwgYW5jaG9yKSB7XG4gICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBpZiAoZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICBjb25zdCBzdHJpZGUgPSB0aGlzLmdldFN0cmlkZSgpO1xuICAgICAgcm90YXRlKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgIDAsXG4gICAgICAgIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgICAgIHN0cmlkZSxcbiAgICAgICAgYW5nbGUsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzXG4gICAgICApO1xuICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlIHRoZSBnZW9tZXRyeSAod2l0aCBhbiBvcHRpb25hbCBvcmlnaW4pLiAgVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnlcbiAgICogY29vcmRpbmF0ZXMgaW4gcGxhY2UuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzeCBUaGUgc2NhbGluZyBmYWN0b3IgaW4gdGhlIHgtZGlyZWN0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3N5XSBUaGUgc2NhbGluZyBmYWN0b3IgaW4gdGhlIHktZGlyZWN0aW9uIChkZWZhdWx0cyB0byBzeCkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBUaGUgc2NhbGUgb3JpZ2luIChkZWZhdWx0cyB0byB0aGUgY2VudGVyXG4gICAqICAgICBvZiB0aGUgZ2VvbWV0cnkgZXh0ZW50KS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2NhbGUoc3gsIHN5LCBhbmNob3IpIHtcbiAgICBpZiAoc3kgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc3kgPSBzeDtcbiAgICB9XG4gICAgaWYgKCFhbmNob3IpIHtcbiAgICAgIGFuY2hvciA9IGdldENlbnRlcih0aGlzLmdldEV4dGVudCgpKTtcbiAgICB9XG4gICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBpZiAoZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICBjb25zdCBzdHJpZGUgPSB0aGlzLmdldFN0cmlkZSgpO1xuICAgICAgc2NhbGUoXG4gICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgMCxcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgICAgc3RyaWRlLFxuICAgICAgICBzeCxcbiAgICAgICAgc3ksXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzXG4gICAgICApO1xuICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zbGF0ZSB0aGUgZ2VvbWV0cnkuICBUaGlzIG1vZGlmaWVzIHRoZSBnZW9tZXRyeSBjb29yZGluYXRlcyBpbiBwbGFjZS4gIElmXG4gICAqIGluc3RlYWQgeW91IHdhbnQgYSBuZXcgZ2VvbWV0cnksIGZpcnN0IGBjbG9uZSgpYCB0aGlzIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFYIERlbHRhIFguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVkgRGVsdGEgWS5cbiAgICogQGFwaVxuICAgKi9cbiAgdHJhbnNsYXRlKGRlbHRhWCwgZGVsdGFZKSB7XG4gICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBpZiAoZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICBjb25zdCBzdHJpZGUgPSB0aGlzLmdldFN0cmlkZSgpO1xuICAgICAgdHJhbnNsYXRlKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgIDAsXG4gICAgICAgIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgICAgIHN0cmlkZSxcbiAgICAgICAgZGVsdGFYLFxuICAgICAgICBkZWx0YVksXG4gICAgICAgIGZsYXRDb29yZGluYXRlc1xuICAgICAgKTtcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dH0gbGF5b3V0IExheW91dC5cbiAqL1xuZnVuY3Rpb24gZ2V0TGF5b3V0Rm9yU3RyaWRlKHN0cmlkZSkge1xuICBsZXQgbGF5b3V0O1xuICBpZiAoc3RyaWRlID09IDIpIHtcbiAgICBsYXlvdXQgPSAnWFknO1xuICB9IGVsc2UgaWYgKHN0cmlkZSA9PSAzKSB7XG4gICAgbGF5b3V0ID0gJ1hZWic7XG4gIH0gZWxzZSBpZiAoc3RyaWRlID09IDQpIHtcbiAgICBsYXlvdXQgPSAnWFlaTSc7XG4gIH1cbiAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dH0gKi8gKGxheW91dCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0fSBsYXlvdXQgTGF5b3V0LlxuICogQHJldHVybiB7bnVtYmVyfSBTdHJpZGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHJpZGVGb3JMYXlvdXQobGF5b3V0KSB7XG4gIGxldCBzdHJpZGU7XG4gIGlmIChsYXlvdXQgPT0gJ1hZJykge1xuICAgIHN0cmlkZSA9IDI7XG4gIH0gZWxzZSBpZiAobGF5b3V0ID09ICdYWVonIHx8IGxheW91dCA9PSAnWFlNJykge1xuICAgIHN0cmlkZSA9IDM7XG4gIH0gZWxzZSBpZiAobGF5b3V0ID09ICdYWVpNJykge1xuICAgIHN0cmlkZSA9IDQ7XG4gIH1cbiAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoc3RyaWRlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1NpbXBsZUdlb21ldHJ5fSBzaW1wbGVHZW9tZXRyeSBTaW1wbGUgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtkZXN0XSBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRyYW5zZm9ybWVkIGZsYXQgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1HZW9tMkQoc2ltcGxlR2VvbWV0cnksIHRyYW5zZm9ybSwgZGVzdCkge1xuICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBzaW1wbGVHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgaWYgKCFmbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBzdHJpZGUgPSBzaW1wbGVHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgcmV0dXJuIHRyYW5zZm9ybTJEKFxuICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAwLFxuICAgIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgc3RyaWRlLFxuICAgIHRyYW5zZm9ybSxcbiAgICBkZXN0XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNpbXBsZUdlb21ldHJ5O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9jb250YWluc1xuICovXG5pbXBvcnQge2ZvckVhY2hDb3JuZXJ9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zIGV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdDb250YWluc0V4dGVudChcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBleHRlbnRcbikge1xuICBjb25zdCBvdXRzaWRlID0gZm9yRWFjaENvcm5lcihcbiAgICBleHRlbnQsXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKGNvb3JkaW5hdGUpIHtcbiAgICAgIHJldHVybiAhbGluZWFyUmluZ0NvbnRhaW5zWFkoXG4gICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBlbmQsXG4gICAgICAgIHN0cmlkZSxcbiAgICAgICAgY29vcmRpbmF0ZVswXSxcbiAgICAgICAgY29vcmRpbmF0ZVsxXVxuICAgICAgKTtcbiAgICB9XG4gICk7XG4gIHJldHVybiAhb3V0c2lkZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nQ29udGFpbnNYWShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICB4LFxuICB5XG4pIHtcbiAgLy8gaHR0cHM6Ly9nZW9tYWxnb3JpdGhtcy5jb20vYTAzLV9pbmNsdXNpb24uaHRtbFxuICAvLyBDb3B5cmlnaHQgMjAwMCBzb2Z0U3VyZmVyLCAyMDEyIERhbiBTdW5kYXlcbiAgLy8gVGhpcyBjb2RlIG1heSBiZSBmcmVlbHkgdXNlZCBhbmQgbW9kaWZpZWQgZm9yIGFueSBwdXJwb3NlXG4gIC8vIHByb3ZpZGluZyB0aGF0IHRoaXMgY29weXJpZ2h0IG5vdGljZSBpcyBpbmNsdWRlZCB3aXRoIGl0LlxuICAvLyBTb2Z0U3VyZmVyIG1ha2VzIG5vIHdhcnJhbnR5IGZvciB0aGlzIGNvZGUsIGFuZCBjYW5ub3QgYmUgaGVsZFxuICAvLyBsaWFibGUgZm9yIGFueSByZWFsIG9yIGltYWdpbmVkIGRhbWFnZSByZXN1bHRpbmcgZnJvbSBpdHMgdXNlLlxuICAvLyBVc2VycyBvZiB0aGlzIGNvZGUgbXVzdCB2ZXJpZnkgY29ycmVjdG5lc3MgZm9yIHRoZWlyIGFwcGxpY2F0aW9uLlxuICBsZXQgd24gPSAwO1xuICBsZXQgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgbGV0IHkxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdO1xuICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgY29uc3QgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICBjb25zdCB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICBpZiAoeTEgPD0geSkge1xuICAgICAgaWYgKHkyID4geSAmJiAoeDIgLSB4MSkgKiAoeSAtIHkxKSAtICh4IC0geDEpICogKHkyIC0geTEpID4gMCkge1xuICAgICAgICB3bisrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoeTIgPD0geSAmJiAoeDIgLSB4MSkgKiAoeSAtIHkxKSAtICh4IC0geDEpICogKHkyIC0geTEpIDwgMCkge1xuICAgICAgd24tLTtcbiAgICB9XG4gICAgeDEgPSB4MjtcbiAgICB5MSA9IHkyO1xuICB9XG4gIHJldHVybiB3biAhPT0gMDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc0NvbnRhaW5zWFkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzLFxuICBzdHJpZGUsXG4gIHgsXG4gIHlcbikge1xuICBpZiAoZW5kcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCFsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc1swXSwgc3RyaWRlLCB4LCB5KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMSwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBpZiAoXG4gICAgICBsaW5lYXJSaW5nQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIGVuZHNbaSAtIDFdLCBlbmRzW2ldLCBzdHJpZGUsIHgsIHkpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zICh4LCB5KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzc0NvbnRhaW5zWFkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzcyxcbiAgc3RyaWRlLFxuICB4LFxuICB5XG4pIHtcbiAgaWYgKGVuZHNzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kcyA9IGVuZHNzW2ldO1xuICAgIGlmIChsaW5lYXJSaW5nc0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgeCwgeSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9pbmZsYXRlXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBbY29vcmRpbmF0ZXNdIENvb3JkaW5hdGVzLlxuICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gQ29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlQ29vcmRpbmF0ZXMoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgY29vcmRpbmF0ZXNcbikge1xuICBjb29yZGluYXRlcyA9IGNvb3JkaW5hdGVzICE9PSB1bmRlZmluZWQgPyBjb29yZGluYXRlcyA6IFtdO1xuICBsZXQgaSA9IDA7XG4gIGZvciAobGV0IGogPSBvZmZzZXQ7IGogPCBlbmQ7IGogKz0gc3RyaWRlKSB7XG4gICAgY29vcmRpbmF0ZXNbaSsrXSA9IGZsYXRDb29yZGluYXRlcy5zbGljZShqLCBqICsgc3RyaWRlKTtcbiAgfVxuICBjb29yZGluYXRlcy5sZW5ndGggPSBpO1xuICByZXR1cm4gY29vcmRpbmF0ZXM7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IFtjb29yZGluYXRlc3NdIENvb3JkaW5hdGVzcy5cbiAqIEByZXR1cm4ge0FycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSBDb29yZGluYXRlc3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlQ29vcmRpbmF0ZXNBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHMsXG4gIHN0cmlkZSxcbiAgY29vcmRpbmF0ZXNzXG4pIHtcbiAgY29vcmRpbmF0ZXNzID0gY29vcmRpbmF0ZXNzICE9PSB1bmRlZmluZWQgPyBjb29yZGluYXRlc3MgOiBbXTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGxldCBqID0gMCwgamogPSBlbmRzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICBjb25zdCBlbmQgPSBlbmRzW2pdO1xuICAgIGNvb3JkaW5hdGVzc1tpKytdID0gaW5mbGF0ZUNvb3JkaW5hdGVzKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgY29vcmRpbmF0ZXNzW2ldXG4gICAgKTtcbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgY29vcmRpbmF0ZXNzLmxlbmd0aCA9IGk7XG4gIHJldHVybiBjb29yZGluYXRlc3M7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj4+fSBbY29vcmRpbmF0ZXNzc11cbiAqICAgICBDb29yZGluYXRlc3NzLlxuICogQHJldHVybiB7QXJyYXk8QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj4+fSBDb29yZGluYXRlc3NzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZU11bHRpQ29vcmRpbmF0ZXNBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHNzLFxuICBzdHJpZGUsXG4gIGNvb3JkaW5hdGVzc3Ncbikge1xuICBjb29yZGluYXRlc3NzID0gY29vcmRpbmF0ZXNzcyAhPT0gdW5kZWZpbmVkID8gY29vcmRpbmF0ZXNzcyA6IFtdO1xuICBsZXQgaSA9IDA7XG4gIGZvciAobGV0IGogPSAwLCBqaiA9IGVuZHNzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICBjb25zdCBlbmRzID0gZW5kc3Nbal07XG4gICAgY29vcmRpbmF0ZXNzc1tpKytdID1cbiAgICAgIGVuZHMubGVuZ3RoID09PSAxICYmIGVuZHNbMF0gPT09IG9mZnNldFxuICAgICAgICA/IFtdXG4gICAgICAgIDogaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoXG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICBlbmRzLFxuICAgICAgICAgICAgc3RyaWRlLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXNzc1tpXVxuICAgICAgICAgICk7XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIGNvb3JkaW5hdGVzc3MubGVuZ3RoID0gaTtcbiAgcmV0dXJuIGNvb3JkaW5hdGVzc3M7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2ludGVyaW9ycG9pbnRcbiAqL1xuaW1wb3J0IHthc2NlbmRpbmd9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7bGluZWFyUmluZ3NDb250YWluc1hZfSBmcm9tICcuL2NvbnRhaW5zLmpzJztcblxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgcG9pbnQgdGhhdCBpcyBsaWtlbHkgdG8gbGllIGluIHRoZSBpbnRlcmlvciBvZiB0aGUgbGluZWFyIHJpbmdzLlxuICogSW5zcGlyZWQgYnkgSlRTJ3MgY29tLnZpdmlkc29sdXRpb25zLmp0cy5nZW9tLkdlb21ldHJ5I2dldEludGVyaW9yUG9pbnQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q2VudGVycyBGbGF0IGNlbnRlcnMuXG4gKiBAcGFyYW0ge251bWJlcn0gZmxhdENlbnRlcnNPZmZzZXQgRmxhdCBjZW50ZXIgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbZGVzdF0gRGVzdGluYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBEZXN0aW5hdGlvbiBwb2ludCBhcyBYWU0gY29vcmRpbmF0ZSwgd2hlcmUgTSBpcyB0aGVcbiAqIGxlbmd0aCBvZiB0aGUgaG9yaXpvbnRhbCBpbnRlcnNlY3Rpb24gdGhhdCB0aGUgcG9pbnQgYmVsb25ncyB0by5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyaW9yUG9pbnRPZkFycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kcyxcbiAgc3RyaWRlLFxuICBmbGF0Q2VudGVycyxcbiAgZmxhdENlbnRlcnNPZmZzZXQsXG4gIGRlc3Rcbikge1xuICBsZXQgaSwgaWksIHgsIHgxLCB4MiwgeTEsIHkyO1xuICBjb25zdCB5ID0gZmxhdENlbnRlcnNbZmxhdENlbnRlcnNPZmZzZXQgKyAxXTtcbiAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICBjb25zdCBpbnRlcnNlY3Rpb25zID0gW107XG4gIC8vIENhbGN1bGF0ZSBpbnRlcnNlY3Rpb25zIHdpdGggdGhlIGhvcml6b250YWwgbGluZVxuICBmb3IgKGxldCByID0gMCwgcnIgPSBlbmRzLmxlbmd0aDsgciA8IHJyOyArK3IpIHtcbiAgICBjb25zdCBlbmQgPSBlbmRzW3JdO1xuICAgIHgxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZV07XG4gICAgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV07XG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgZW5kOyBpICs9IHN0cmlkZSkge1xuICAgICAgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICB5MiA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICBpZiAoKHkgPD0geTEgJiYgeTIgPD0geSkgfHwgKHkxIDw9IHkgJiYgeSA8PSB5MikpIHtcbiAgICAgICAgeCA9ICgoeSAtIHkxKSAvICh5MiAtIHkxKSkgKiAoeDIgLSB4MSkgKyB4MTtcbiAgICAgICAgaW50ZXJzZWN0aW9ucy5wdXNoKHgpO1xuICAgICAgfVxuICAgICAgeDEgPSB4MjtcbiAgICAgIHkxID0geTI7XG4gICAgfVxuICB9XG4gIC8vIEZpbmQgdGhlIGxvbmdlc3Qgc2VnbWVudCBvZiB0aGUgaG9yaXpvbnRhbCBsaW5lIHRoYXQgaGFzIGl0cyBjZW50ZXIgcG9pbnRcbiAgLy8gaW5zaWRlIHRoZSBsaW5lYXIgcmluZy5cbiAgbGV0IHBvaW50WCA9IE5hTjtcbiAgbGV0IG1heFNlZ21lbnRMZW5ndGggPSAtSW5maW5pdHk7XG4gIGludGVyc2VjdGlvbnMuc29ydChhc2NlbmRpbmcpO1xuICB4MSA9IGludGVyc2VjdGlvbnNbMF07XG4gIGZvciAoaSA9IDEsIGlpID0gaW50ZXJzZWN0aW9ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgeDIgPSBpbnRlcnNlY3Rpb25zW2ldO1xuICAgIGNvbnN0IHNlZ21lbnRMZW5ndGggPSBNYXRoLmFicyh4MiAtIHgxKTtcbiAgICBpZiAoc2VnbWVudExlbmd0aCA+IG1heFNlZ21lbnRMZW5ndGgpIHtcbiAgICAgIHggPSAoeDEgKyB4MikgLyAyO1xuICAgICAgaWYgKGxpbmVhclJpbmdzQ29udGFpbnNYWShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCB4LCB5KSkge1xuICAgICAgICBwb2ludFggPSB4O1xuICAgICAgICBtYXhTZWdtZW50TGVuZ3RoID0gc2VnbWVudExlbmd0aDtcbiAgICAgIH1cbiAgICB9XG4gICAgeDEgPSB4MjtcbiAgfVxuICBpZiAoaXNOYU4ocG9pbnRYKSkge1xuICAgIC8vIFRoZXJlIGlzIG5vIGhvcml6b250YWwgbGluZSB0aGF0IGhhcyBpdHMgY2VudGVyIHBvaW50IGluc2lkZSB0aGUgbGluZWFyXG4gICAgLy8gcmluZy4gIFVzZSB0aGUgY2VudGVyIG9mIHRoZSB0aGUgbGluZWFyIHJpbmcncyBleHRlbnQuXG4gICAgcG9pbnRYID0gZmxhdENlbnRlcnNbZmxhdENlbnRlcnNPZmZzZXRdO1xuICB9XG4gIGlmIChkZXN0KSB7XG4gICAgZGVzdC5wdXNoKHBvaW50WCwgeSwgbWF4U2VnbWVudExlbmd0aCk7XG4gICAgcmV0dXJuIGRlc3Q7XG4gIH1cbiAgcmV0dXJuIFtwb2ludFgsIHksIG1heFNlZ21lbnRMZW5ndGhdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDZW50ZXJzIEZsYXQgY2VudGVycy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEludGVyaW9yIHBvaW50cyBhcyBYWU0gY29vcmRpbmF0ZXMsIHdoZXJlIE0gaXMgdGhlXG4gKiBsZW5ndGggb2YgdGhlIGhvcml6b250YWwgaW50ZXJzZWN0aW9uIHRoYXQgdGhlIHBvaW50IGJlbG9uZ3MgdG8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcmlvclBvaW50c09mTXVsdGlBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHNzLFxuICBzdHJpZGUsXG4gIGZsYXRDZW50ZXJzXG4pIHtcbiAgbGV0IGludGVyaW9yUG9pbnRzID0gW107XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmRzID0gZW5kc3NbaV07XG4gICAgaW50ZXJpb3JQb2ludHMgPSBnZXRJbnRlcmlvclBvaW50T2ZBcnJheShcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZHMsXG4gICAgICBzdHJpZGUsXG4gICAgICBmbGF0Q2VudGVycyxcbiAgICAgIDIgKiBpLFxuICAgICAgaW50ZXJpb3JQb2ludHNcbiAgICApO1xuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gaW50ZXJpb3JQb2ludHM7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2ludGVyc2VjdHNleHRlbnRcbiAqL1xuaW1wb3J0IHtcbiAgY29udGFpbnNFeHRlbnQsXG4gIGNyZWF0ZUVtcHR5LFxuICBleHRlbmRGbGF0Q29vcmRpbmF0ZXMsXG4gIGludGVyc2VjdHMsXG4gIGludGVyc2VjdHNTZWdtZW50LFxufSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHtmb3JFYWNoIGFzIGZvckVhY2hTZWdtZW50fSBmcm9tICcuL3NlZ21lbnRzLmpzJztcbmltcG9ydCB7bGluZWFyUmluZ0NvbnRhaW5zRXh0ZW50LCBsaW5lYXJSaW5nQ29udGFpbnNYWX0gZnJvbSAnLi9jb250YWlucy5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNMaW5lU3RyaW5nKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIGV4dGVudFxuKSB7XG4gIGNvbnN0IGNvb3JkaW5hdGVzRXh0ZW50ID0gZXh0ZW5kRmxhdENvb3JkaW5hdGVzKFxuICAgIGNyZWF0ZUVtcHR5KCksXG4gICAgZmxhdENvb3JkaW5hdGVzLFxuICAgIG9mZnNldCxcbiAgICBlbmQsXG4gICAgc3RyaWRlXG4gICk7XG4gIGlmICghaW50ZXJzZWN0cyhleHRlbnQsIGNvb3JkaW5hdGVzRXh0ZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoY29udGFpbnNFeHRlbnQoZXh0ZW50LCBjb29yZGluYXRlc0V4dGVudCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoY29vcmRpbmF0ZXNFeHRlbnRbMF0gPj0gZXh0ZW50WzBdICYmIGNvb3JkaW5hdGVzRXh0ZW50WzJdIDw9IGV4dGVudFsyXSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChjb29yZGluYXRlc0V4dGVudFsxXSA+PSBleHRlbnRbMV0gJiYgY29vcmRpbmF0ZXNFeHRlbnRbM10gPD0gZXh0ZW50WzNdKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZvckVhY2hTZWdtZW50KFxuICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICBvZmZzZXQsXG4gICAgZW5kLFxuICAgIHN0cmlkZSxcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcG9pbnQxIFN0YXJ0IHBvaW50LlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwb2ludDIgRW5kIHBvaW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgc2VnbWVudCBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QsXG4gICAgICogICAgIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChwb2ludDEsIHBvaW50Mikge1xuICAgICAgcmV0dXJuIGludGVyc2VjdHNTZWdtZW50KGV4dGVudCwgcG9pbnQxLCBwb2ludDIpO1xuICAgIH1cbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVTdHJpbmdBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHMsXG4gIHN0cmlkZSxcbiAgZXh0ZW50XG4pIHtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgaWYgKFxuICAgICAgaW50ZXJzZWN0c0xpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNbaV0sIHN0cmlkZSwgZXh0ZW50KVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG9mZnNldCA9IGVuZHNbaV07XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZWFyUmluZyhcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBleHRlbnRcbikge1xuICBpZiAoaW50ZXJzZWN0c0xpbmVTdHJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBleHRlbnQpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKFxuICAgIGxpbmVhclJpbmdDb250YWluc1hZKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgZXh0ZW50WzBdLFxuICAgICAgZXh0ZW50WzFdXG4gICAgKVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoXG4gICAgbGluZWFyUmluZ0NvbnRhaW5zWFkoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmQsXG4gICAgICBzdHJpZGUsXG4gICAgICBleHRlbnRbMF0sXG4gICAgICBleHRlbnRbM11cbiAgICApXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChcbiAgICBsaW5lYXJSaW5nQ29udGFpbnNYWShcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIGV4dGVudFsyXSxcbiAgICAgIGV4dGVudFsxXVxuICAgIClcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKFxuICAgIGxpbmVhclJpbmdDb250YWluc1hZKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgZXh0ZW50WzJdLFxuICAgICAgZXh0ZW50WzNdXG4gICAgKVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzLFxuICBzdHJpZGUsXG4gIGV4dGVudFxuKSB7XG4gIGlmICghaW50ZXJzZWN0c0xpbmVhclJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNbMF0sIHN0cmlkZSwgZXh0ZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZW5kcy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMSwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBpZiAoXG4gICAgICBsaW5lYXJSaW5nQ29udGFpbnNFeHRlbnQoXG4gICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgZW5kc1tpIC0gMV0sXG4gICAgICAgIGVuZHNbaV0sXG4gICAgICAgIHN0cmlkZSxcbiAgICAgICAgZXh0ZW50XG4gICAgICApXG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgICFpbnRlcnNlY3RzTGluZVN0cmluZyhcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgICAgZW5kc1tpIC0gMV0sXG4gICAgICAgICAgZW5kc1tpXSxcbiAgICAgICAgICBzdHJpZGUsXG4gICAgICAgICAgZXh0ZW50XG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZWFyUmluZ011bHRpQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzcyxcbiAgc3RyaWRlLFxuICBleHRlbnRcbikge1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kcyA9IGVuZHNzW2ldO1xuICAgIGlmIChcbiAgICAgIGludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgZXh0ZW50KVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3NlZ21lbnRzXG4gKi9cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbGxzIGBjYWxsYmFja2AgZm9yIGVhY2ggc2VnbWVudCBvZiB0aGUgZmxhdCBjb29yZGluYXRlc1xuICogYXJyYXkuIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGEgdHJ1dGh5IHZhbHVlIHRoZSBmdW5jdGlvbiByZXR1cm5zIHRoYXRcbiAqIHZhbHVlIGltbWVkaWF0ZWx5LiBPdGhlcndpc2UgdGhlIGZ1bmN0aW9uIHJldHVybnMgYGZhbHNlYC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSwgaW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogVH0gY2FsbGJhY2sgRnVuY3Rpb25cbiAqICAgICBjYWxsZWQgZm9yIGVhY2ggc2VnbWVudC5cbiAqIEByZXR1cm4ge1R8Ym9vbGVhbn0gVmFsdWUuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUsIGNhbGxiYWNrKSB7XG4gIGxldCByZXQ7XG4gIG9mZnNldCArPSBzdHJpZGU7XG4gIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICByZXQgPSBjYWxsYmFjayhcbiAgICAgIGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQgLSBzdHJpZGUsIG9mZnNldCksXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBzdHJpZGUpXG4gICAgKTtcbiAgICBpZiAocmV0KSB7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3NpbXBsaWZ5XG4gKi9cbi8vIEJhc2VkIG9uIHNpbXBsaWZ5LWpzIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3NpbXBsaWZ5LWpzXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTIsIFZsYWRpbWlyIEFnYWZvbmtpblxuLy8gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuLy9cbi8vICAgIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbi8vICAgICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vL1xuLy8gICAgMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbi8vICAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbi8vICAgICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCJcbi8vIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbi8vIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFXG4vLyBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFXG4vLyBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SXG4vLyBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRlxuLy8gU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTXG4vLyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTlxuLy8gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbi8vIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXG4vLyBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cblxuaW1wb3J0IHtzcXVhcmVkRGlzdGFuY2UsIHNxdWFyZWRTZWdtZW50RGlzdGFuY2V9IGZyb20gJy4uLy4uL21hdGguanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaGlnaFF1YWxpdHkgSGlnaGVzdCBxdWFsaXR5LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc10gU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBTaW1wbGlmaWVkIGxpbmUgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2ltcGxpZnlMaW5lU3RyaW5nKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIHNxdWFyZWRUb2xlcmFuY2UsXG4gIGhpZ2hRdWFsaXR5LFxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzXG4pIHtcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyA9XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyAhPT0gdW5kZWZpbmVkID8gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyA6IFtdO1xuICBpZiAoIWhpZ2hRdWFsaXR5KSB7XG4gICAgZW5kID0gcmFkaWFsRGlzdGFuY2UoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmQsXG4gICAgICBzdHJpZGUsXG4gICAgICBzcXVhcmVkVG9sZXJhbmNlLFxuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgICAgIDBcbiAgICApO1xuICAgIGZsYXRDb29yZGluYXRlcyA9IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXM7XG4gICAgb2Zmc2V0ID0gMDtcbiAgICBzdHJpZGUgPSAyO1xuICB9XG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZG91Z2xhc1BldWNrZXIoXG4gICAgZmxhdENvb3JkaW5hdGVzLFxuICAgIG9mZnNldCxcbiAgICBlbmQsXG4gICAgc3RyaWRlLFxuICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgICAwXG4gICk7XG4gIHJldHVybiBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvdWdsYXNQZXVja2VyKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIHNxdWFyZWRUb2xlcmFuY2UsXG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gIHNpbXBsaWZpZWRPZmZzZXRcbikge1xuICBjb25zdCBuID0gKGVuZCAtIG9mZnNldCkgLyBzdHJpZGU7XG4gIGlmIChuIDwgMykge1xuICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID1cbiAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgfVxuICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gIGNvbnN0IG1hcmtlcnMgPSBuZXcgQXJyYXkobik7XG4gIG1hcmtlcnNbMF0gPSAxO1xuICBtYXJrZXJzW24gLSAxXSA9IDE7XG4gIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgY29uc3Qgc3RhY2sgPSBbb2Zmc2V0LCBlbmQgLSBzdHJpZGVdO1xuICBsZXQgaW5kZXggPSAwO1xuICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGxhc3QgPSBzdGFjay5wb3AoKTtcbiAgICBjb25zdCBmaXJzdCA9IHN0YWNrLnBvcCgpO1xuICAgIGxldCBtYXhTcXVhcmVkRGlzdGFuY2UgPSAwO1xuICAgIGNvbnN0IHgxID0gZmxhdENvb3JkaW5hdGVzW2ZpcnN0XTtcbiAgICBjb25zdCB5MSA9IGZsYXRDb29yZGluYXRlc1tmaXJzdCArIDFdO1xuICAgIGNvbnN0IHgyID0gZmxhdENvb3JkaW5hdGVzW2xhc3RdO1xuICAgIGNvbnN0IHkyID0gZmxhdENvb3JkaW5hdGVzW2xhc3QgKyAxXTtcbiAgICBmb3IgKGxldCBpID0gZmlyc3QgKyBzdHJpZGU7IGkgPCBsYXN0OyBpICs9IHN0cmlkZSkge1xuICAgICAgY29uc3QgeCA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgIGNvbnN0IHkgPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgICAgY29uc3Qgc3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZFNlZ21lbnREaXN0YW5jZSh4LCB5LCB4MSwgeTEsIHgyLCB5Mik7XG4gICAgICBpZiAoc3F1YXJlZERpc3RhbmNlID4gbWF4U3F1YXJlZERpc3RhbmNlKSB7XG4gICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgbWF4U3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZERpc3RhbmNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWF4U3F1YXJlZERpc3RhbmNlID4gc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgICAgbWFya2Vyc1soaW5kZXggLSBvZmZzZXQpIC8gc3RyaWRlXSA9IDE7XG4gICAgICBpZiAoZmlyc3QgKyBzdHJpZGUgPCBpbmRleCkge1xuICAgICAgICBzdGFjay5wdXNoKGZpcnN0LCBpbmRleCk7XG4gICAgICB9XG4gICAgICBpZiAoaW5kZXggKyBzdHJpZGUgPCBsYXN0KSB7XG4gICAgICAgIHN0YWNrLnB1c2goaW5kZXgsIGxhc3QpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgIGlmIChtYXJrZXJzW2ldKSB7XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPVxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaSAqIHN0cmlkZV07XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPVxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaSAqIHN0cmlkZSArIDFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEVuZHMgU2ltcGxpZmllZCBlbmRzLlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvdWdsYXNQZXVja2VyQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzLFxuICBzdHJpZGUsXG4gIHNxdWFyZWRUb2xlcmFuY2UsXG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gIHNpbXBsaWZpZWRPZmZzZXQsXG4gIHNpbXBsaWZpZWRFbmRzXG4pIHtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kID0gZW5kc1tpXTtcbiAgICBzaW1wbGlmaWVkT2Zmc2V0ID0gZG91Z2xhc1BldWNrZXIoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmQsXG4gICAgICBzdHJpZGUsXG4gICAgICBzcXVhcmVkVG9sZXJhbmNlLFxuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgICAgIHNpbXBsaWZpZWRPZmZzZXRcbiAgICApO1xuICAgIHNpbXBsaWZpZWRFbmRzLnB1c2goc2ltcGxpZmllZE9mZnNldCk7XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gc2ltcGxpZmllZEVuZHNzIFNpbXBsaWZpZWQgZW5kc3MuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZG91Z2xhc1BldWNrZXJNdWx0aUFycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kc3MsXG4gIHN0cmlkZSxcbiAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgc2ltcGxpZmllZE9mZnNldCxcbiAgc2ltcGxpZmllZEVuZHNzXG4pIHtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZHMgPSBlbmRzc1tpXTtcbiAgICBjb25zdCBzaW1wbGlmaWVkRW5kcyA9IFtdO1xuICAgIHNpbXBsaWZpZWRPZmZzZXQgPSBkb3VnbGFzUGV1Y2tlckFycmF5KFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kcyxcbiAgICAgIHN0cmlkZSxcbiAgICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICAgICAgc2ltcGxpZmllZE9mZnNldCxcbiAgICAgIHNpbXBsaWZpZWRFbmRzXG4gICAgKTtcbiAgICBzaW1wbGlmaWVkRW5kc3MucHVzaChzaW1wbGlmaWVkRW5kcyk7XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhZGlhbERpc3RhbmNlKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIHNxdWFyZWRUb2xlcmFuY2UsXG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gIHNpbXBsaWZpZWRPZmZzZXRcbikge1xuICBpZiAoZW5kIDw9IG9mZnNldCArIHN0cmlkZSkge1xuICAgIC8vIHplcm8gb3Igb25lIHBvaW50LCBubyBzaW1wbGlmaWNhdGlvbiBwb3NzaWJsZSwgc28gY29weSBhbmQgcmV0dXJuXG4gICAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPVxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgfVxuICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xuICB9XG4gIGxldCB4MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICBsZXQgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gIC8vIGNvcHkgZmlyc3QgcG9pbnRcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDE7XG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkxO1xuICBsZXQgeDIgPSB4MTtcbiAgbGV0IHkyID0geTE7XG4gIGZvciAob2Zmc2V0ICs9IHN0cmlkZTsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICBpZiAoc3F1YXJlZERpc3RhbmNlKHgxLCB5MSwgeDIsIHkyKSA+IHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICAgIC8vIGNvcHkgcG9pbnQgYXQgb2Zmc2V0XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MjtcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgICAgeDEgPSB4MjtcbiAgICAgIHkxID0geTI7XG4gICAgfVxuICB9XG4gIGlmICh4MiAhPSB4MSB8fCB5MiAhPSB5MSkge1xuICAgIC8vIGNvcHkgbGFzdCBwb2ludFxuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICB9XG4gIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICogQHJldHVybiB7bnVtYmVyfSBSb3VuZGVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc25hcCh2YWx1ZSwgdG9sZXJhbmNlKSB7XG4gIHJldHVybiB0b2xlcmFuY2UgKiBNYXRoLnJvdW5kKHZhbHVlIC8gdG9sZXJhbmNlKTtcbn1cblxuLyoqXG4gKiBTaW1wbGlmaWVzIGEgbGluZSBzdHJpbmcgdXNpbmcgYW4gYWxnb3JpdGhtIGRlc2lnbmVkIGJ5IFRpbSBTY2hhdWIuXG4gKiBDb29yZGluYXRlcyBhcmUgc25hcHBlZCB0byB0aGUgbmVhcmVzdCB2YWx1ZSBpbiBhIHZpcnR1YWwgZ3JpZCBhbmRcbiAqIGNvbnNlY3V0aXZlIGR1cGxpY2F0ZSBjb29yZGluYXRlcyBhcmUgZGlzY2FyZGVkLiAgVGhpcyBlZmZlY3RpdmVseSBwcmVzZXJ2ZXNcbiAqIHRvcG9sb2d5IGFzIHRoZSBzaW1wbGlmaWNhdGlvbiBvZiBhbnkgc3Vic2VjdGlvbiBvZiBhIGxpbmUgc3RyaW5nIGlzXG4gKiBpbmRlcGVuZGVudCBvZiB0aGUgcmVzdCBvZiB0aGUgbGluZSBzdHJpbmcuICBUaGlzIG1lYW5zIHRoYXQsIGZvciBleGFtcGxlcyxcbiAqIHRoZSBjb21tb24gZWRnZSBiZXR3ZWVuIHR3byBwb2x5Z29ucyB3aWxsIGJlIHNpbXBsaWZpZWQgdG8gdGhlIHNhbWUgbGluZVxuICogc3RyaW5nIGluZGVwZW5kZW50bHkgaW4gYm90aCBwb2x5Z29ucy4gIFRoaXMgaW1wbGVtZW50YXRpb24gdXNlcyBhIHNpbmdsZVxuICogcGFzcyBvdmVyIHRoZSBjb29yZGluYXRlcyBhbmQgZWxpbWluYXRlcyBpbnRlcm1lZGlhdGUgY29sbGluZWFyIHBvaW50cy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aXplKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIHRvbGVyYW5jZSxcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgc2ltcGxpZmllZE9mZnNldFxuKSB7XG4gIC8vIGRvIG5vdGhpbmcgaWYgdGhlIGxpbmUgaXMgZW1wdHlcbiAgaWYgKG9mZnNldCA9PSBlbmQpIHtcbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgfVxuICAvLyBzbmFwIHRoZSBmaXJzdCBjb29yZGluYXRlIChQMSlcbiAgbGV0IHgxID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSwgdG9sZXJhbmNlKTtcbiAgbGV0IHkxID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0sIHRvbGVyYW5jZSk7XG4gIG9mZnNldCArPSBzdHJpZGU7XG4gIC8vIGFkZCB0aGUgZmlyc3QgY29vcmRpbmF0ZSB0byB0aGUgb3V0cHV0XG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgxO1xuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MTtcbiAgLy8gZmluZCB0aGUgbmV4dCBjb29yZGluYXRlIHRoYXQgZG9lcyBub3Qgc25hcCB0byB0aGUgc2FtZSB2YWx1ZSBhcyB0aGUgZmlyc3RcbiAgLy8gY29vcmRpbmF0ZSAoUDIpXG4gIGxldCB4MiwgeTI7XG4gIGRvIHtcbiAgICB4MiA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIHRvbGVyYW5jZSk7XG4gICAgeTIgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSwgdG9sZXJhbmNlKTtcbiAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgIGlmIChvZmZzZXQgPT0gZW5kKSB7XG4gICAgICAvLyBhbGwgY29vcmRpbmF0ZXMgc25hcCB0byB0aGUgc2FtZSB2YWx1ZSwgdGhlIGxpbmUgY29sbGFwc2VzIHRvIGEgcG9pbnRcbiAgICAgIC8vIHB1c2ggdGhlIGxhc3Qgc25hcHBlZCB2YWx1ZSBhbnl3YXkgdG8gZW5zdXJlIHRoYXQgdGhlIG91dHB1dCBjb250YWluc1xuICAgICAgLy8gYXQgbGVhc3QgdHdvIHBvaW50c1xuICAgICAgLy8gRklYTUUgc2hvdWxkIHdlIHJlYWxseSByZXR1cm4gYXQgbGVhc3QgdHdvIHBvaW50cyBhbnl3YXk/XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MjtcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG4gICAgfVxuICB9IHdoaWxlICh4MiA9PSB4MSAmJiB5MiA9PSB5MSk7XG4gIHdoaWxlIChvZmZzZXQgPCBlbmQpIHtcbiAgICAvLyBzbmFwIHRoZSBuZXh0IGNvb3JkaW5hdGUgKFAzKVxuICAgIGNvbnN0IHgzID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSwgdG9sZXJhbmNlKTtcbiAgICBjb25zdCB5MyA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdLCB0b2xlcmFuY2UpO1xuICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgLy8gc2tpcCBQMyBpZiBpdCBpcyBlcXVhbCB0byBQMlxuICAgIGlmICh4MyA9PSB4MiAmJiB5MyA9PSB5Mikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIC8vIGNhbGN1bGF0ZSB0aGUgZGVsdGEgYmV0d2VlbiBQMSBhbmQgUDJcbiAgICBjb25zdCBkeDEgPSB4MiAtIHgxO1xuICAgIGNvbnN0IGR5MSA9IHkyIC0geTE7XG4gICAgLy8gY2FsY3VsYXRlIHRoZSBkZWx0YSBiZXR3ZWVuIFAzIGFuZCBQMVxuICAgIGNvbnN0IGR4MiA9IHgzIC0geDE7XG4gICAgY29uc3QgZHkyID0geTMgLSB5MTtcbiAgICAvLyBpZiBQMSwgUDIsIGFuZCBQMyBhcmUgY29saW5lYXIgYW5kIFAzIGlzIGZ1cnRoZXIgZnJvbSBQMSB0aGFuIFAyIGlzIGZyb21cbiAgICAvLyBQMSBpbiB0aGUgc2FtZSBkaXJlY3Rpb24gdGhlbiBQMiBpcyBvbiB0aGUgc3RyYWlnaHQgbGluZSBiZXR3ZWVuIFAxIGFuZFxuICAgIC8vIFAzXG4gICAgaWYgKFxuICAgICAgZHgxICogZHkyID09IGR5MSAqIGR4MiAmJlxuICAgICAgKChkeDEgPCAwICYmIGR4MiA8IGR4MSkgfHwgZHgxID09IGR4MiB8fCAoZHgxID4gMCAmJiBkeDIgPiBkeDEpKSAmJlxuICAgICAgKChkeTEgPCAwICYmIGR5MiA8IGR5MSkgfHwgZHkxID09IGR5MiB8fCAoZHkxID4gMCAmJiBkeTIgPiBkeTEpKVxuICAgICkge1xuICAgICAgLy8gZGlzY2FyZCBQMiBhbmQgc2V0IFAyID0gUDNcbiAgICAgIHgyID0geDM7XG4gICAgICB5MiA9IHkzO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIC8vIGVpdGhlciBQMSwgUDIsIGFuZCBQMyBhcmUgbm90IGNvbGluZWFyLCBvciB0aGV5IGFyZSBjb2xpbmVhciBidXQgUDMgaXNcbiAgICAvLyBiZXR3ZWVuIFAzIGFuZCBQMSBvciBvbiB0aGUgb3Bwb3NpdGUgaGFsZiBvZiB0aGUgbGluZSB0byBQMi4gIGFkZCBQMixcbiAgICAvLyBhbmQgY29udGludWUgd2l0aCBQMSA9IFAyIGFuZCBQMiA9IFAzXG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTI7XG4gICAgeDEgPSB4MjtcbiAgICB5MSA9IHkyO1xuICAgIHgyID0geDM7XG4gICAgeTIgPSB5MztcbiAgfVxuICAvLyBhZGQgdGhlIGxhc3QgcG9pbnQgKFAyKVxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MjtcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTI7XG4gIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRW5kcyBTaW1wbGlmaWVkIGVuZHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhbnRpemVBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHMsXG4gIHN0cmlkZSxcbiAgdG9sZXJhbmNlLFxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICBzaW1wbGlmaWVkT2Zmc2V0LFxuICBzaW1wbGlmaWVkRW5kc1xuKSB7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZCA9IGVuZHNbaV07XG4gICAgc2ltcGxpZmllZE9mZnNldCA9IHF1YW50aXplKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgdG9sZXJhbmNlLFxuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgICAgIHNpbXBsaWZpZWRPZmZzZXRcbiAgICApO1xuICAgIHNpbXBsaWZpZWRFbmRzLnB1c2goc2ltcGxpZmllZE9mZnNldCk7XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyBTaW1wbGlmaWVkIGZsYXRcbiAqICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaW1wbGlmaWVkT2Zmc2V0IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gc2ltcGxpZmllZEVuZHNzIFNpbXBsaWZpZWQgZW5kc3MuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNpbXBsaWZpZWQgb2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVhbnRpemVNdWx0aUFycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kc3MsXG4gIHN0cmlkZSxcbiAgdG9sZXJhbmNlLFxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICBzaW1wbGlmaWVkT2Zmc2V0LFxuICBzaW1wbGlmaWVkRW5kc3Ncbikge1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kcyA9IGVuZHNzW2ldO1xuICAgIGNvbnN0IHNpbXBsaWZpZWRFbmRzID0gW107XG4gICAgc2ltcGxpZmllZE9mZnNldCA9IHF1YW50aXplQXJyYXkoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmRzLFxuICAgICAgc3RyaWRlLFxuICAgICAgdG9sZXJhbmNlLFxuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgICAgIHNpbXBsaWZpZWRPZmZzZXQsXG4gICAgICBzaW1wbGlmaWVkRW5kc1xuICAgICk7XG4gICAgc2ltcGxpZmllZEVuZHNzLnB1c2goc2ltcGxpZmllZEVuZHMpO1xuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvdHJhbnNmb3JtXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbZGVzdF0gRGVzdGluYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUcmFuc2Zvcm1lZCBjb29yZGluYXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybTJEKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIHRyYW5zZm9ybSxcbiAgZGVzdFxuKSB7XG4gIGRlc3QgPSBkZXN0ID8gZGVzdCA6IFtdO1xuICBsZXQgaSA9IDA7XG4gIGZvciAobGV0IGogPSBvZmZzZXQ7IGogPCBlbmQ7IGogKz0gc3RyaWRlKSB7XG4gICAgY29uc3QgeCA9IGZsYXRDb29yZGluYXRlc1tqXTtcbiAgICBjb25zdCB5ID0gZmxhdENvb3JkaW5hdGVzW2ogKyAxXTtcbiAgICBkZXN0W2krK10gPSB0cmFuc2Zvcm1bMF0gKiB4ICsgdHJhbnNmb3JtWzJdICogeSArIHRyYW5zZm9ybVs0XTtcbiAgICBkZXN0W2krK10gPSB0cmFuc2Zvcm1bMV0gKiB4ICsgdHJhbnNmb3JtWzNdICogeSArIHRyYW5zZm9ybVs1XTtcbiAgfVxuICBpZiAoZGVzdCAmJiBkZXN0Lmxlbmd0aCAhPSBpKSB7XG4gICAgZGVzdC5sZW5ndGggPSBpO1xuICB9XG4gIHJldHVybiBkZXN0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgQW5nbGUuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGFuY2hvciBSb3RhdGlvbiBhbmNob3IgcG9pbnQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtkZXN0XSBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIGFuZ2xlLFxuICBhbmNob3IsXG4gIGRlc3Rcbikge1xuICBkZXN0ID0gZGVzdCA/IGRlc3QgOiBbXTtcbiAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICBjb25zdCBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gIGNvbnN0IGFuY2hvclggPSBhbmNob3JbMF07XG4gIGNvbnN0IGFuY2hvclkgPSBhbmNob3JbMV07XG4gIGxldCBpID0gMDtcbiAgZm9yIChsZXQgaiA9IG9mZnNldDsgaiA8IGVuZDsgaiArPSBzdHJpZGUpIHtcbiAgICBjb25zdCBkZWx0YVggPSBmbGF0Q29vcmRpbmF0ZXNbal0gLSBhbmNob3JYO1xuICAgIGNvbnN0IGRlbHRhWSA9IGZsYXRDb29yZGluYXRlc1tqICsgMV0gLSBhbmNob3JZO1xuICAgIGRlc3RbaSsrXSA9IGFuY2hvclggKyBkZWx0YVggKiBjb3MgLSBkZWx0YVkgKiBzaW47XG4gICAgZGVzdFtpKytdID0gYW5jaG9yWSArIGRlbHRhWCAqIHNpbiArIGRlbHRhWSAqIGNvcztcbiAgICBmb3IgKGxldCBrID0gaiArIDI7IGsgPCBqICsgc3RyaWRlOyArK2spIHtcbiAgICAgIGRlc3RbaSsrXSA9IGZsYXRDb29yZGluYXRlc1trXTtcbiAgICB9XG4gIH1cbiAgaWYgKGRlc3QgJiYgZGVzdC5sZW5ndGggIT0gaSkge1xuICAgIGRlc3QubGVuZ3RoID0gaTtcbiAgfVxuICByZXR1cm4gZGVzdDtcbn1cblxuLyoqXG4gKiBTY2FsZSB0aGUgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHN4IFNjYWxlIGZhY3RvciBpbiB0aGUgeC1kaXJlY3Rpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gc3kgU2NhbGUgZmFjdG9yIGluIHRoZSB5LWRpcmVjdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYW5jaG9yIFNjYWxlIGFuY2hvciBwb2ludC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2Rlc3RdIERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBzeCxcbiAgc3ksXG4gIGFuY2hvcixcbiAgZGVzdFxuKSB7XG4gIGRlc3QgPSBkZXN0ID8gZGVzdCA6IFtdO1xuICBjb25zdCBhbmNob3JYID0gYW5jaG9yWzBdO1xuICBjb25zdCBhbmNob3JZID0gYW5jaG9yWzFdO1xuICBsZXQgaSA9IDA7XG4gIGZvciAobGV0IGogPSBvZmZzZXQ7IGogPCBlbmQ7IGogKz0gc3RyaWRlKSB7XG4gICAgY29uc3QgZGVsdGFYID0gZmxhdENvb3JkaW5hdGVzW2pdIC0gYW5jaG9yWDtcbiAgICBjb25zdCBkZWx0YVkgPSBmbGF0Q29vcmRpbmF0ZXNbaiArIDFdIC0gYW5jaG9yWTtcbiAgICBkZXN0W2krK10gPSBhbmNob3JYICsgc3ggKiBkZWx0YVg7XG4gICAgZGVzdFtpKytdID0gYW5jaG9yWSArIHN5ICogZGVsdGFZO1xuICAgIGZvciAobGV0IGsgPSBqICsgMjsgayA8IGogKyBzdHJpZGU7ICsraykge1xuICAgICAgZGVzdFtpKytdID0gZmxhdENvb3JkaW5hdGVzW2tdO1xuICAgIH1cbiAgfVxuICBpZiAoZGVzdCAmJiBkZXN0Lmxlbmd0aCAhPSBpKSB7XG4gICAgZGVzdC5sZW5ndGggPSBpO1xuICB9XG4gIHJldHVybiBkZXN0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsdGFYIERlbHRhIFguXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsdGFZIERlbHRhIFkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtkZXN0XSBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIGRlbHRhWCxcbiAgZGVsdGFZLFxuICBkZXN0XG4pIHtcbiAgZGVzdCA9IGRlc3QgPyBkZXN0IDogW107XG4gIGxldCBpID0gMDtcbiAgZm9yIChsZXQgaiA9IG9mZnNldDsgaiA8IGVuZDsgaiArPSBzdHJpZGUpIHtcbiAgICBkZXN0W2krK10gPSBmbGF0Q29vcmRpbmF0ZXNbal0gKyBkZWx0YVg7XG4gICAgZGVzdFtpKytdID0gZmxhdENvb3JkaW5hdGVzW2ogKyAxXSArIGRlbHRhWTtcbiAgICBmb3IgKGxldCBrID0gaiArIDI7IGsgPCBqICsgc3RyaWRlOyArK2spIHtcbiAgICAgIGRlc3RbaSsrXSA9IGZsYXRDb29yZGluYXRlc1trXTtcbiAgICB9XG4gIH1cbiAgaWYgKGRlc3QgJiYgZGVzdC5sZW5ndGggIT0gaSkge1xuICAgIGRlc3QubGVuZ3RoID0gaTtcbiAgfVxuICByZXR1cm4gZGVzdDtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9oYXNcbiAqL1xuXG5jb25zdCB1YSA9XG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50ICE9PSAndW5kZWZpbmVkJ1xuICAgID8gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpXG4gICAgOiAnJztcblxuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggRmlyZWZveCBhcyBicm93c2VyLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBGSVJFRk9YID0gdWEuaW5jbHVkZXMoJ2ZpcmVmb3gnKTtcblxuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggU2FmYXJpIGFzIGJyb3dzZXIuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IFNBRkFSSSA9IHVhLmluY2x1ZGVzKCdzYWZhcmknKSAmJiAhdWEuaW5jbHVkZXMoJ2Nocm9tJyk7XG5cbi8qKlxuICogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTIzNzkwNlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBTQUZBUklfQlVHXzIzNzkwNiA9XG4gIFNBRkFSSSAmJlxuICAodWEuaW5jbHVkZXMoJ3ZlcnNpb24vMTUuNCcpIHx8XG4gICAgL2NwdSAob3N8aXBob25lIG9zKSAxNV80IGxpa2UgbWFjIG9zIHgvLnRlc3QodWEpKTtcblxuLyoqXG4gKiBVc2VyIGFnZW50IHN0cmluZyBzYXlzIHdlIGFyZSBkZWFsaW5nIHdpdGggYSBXZWJLaXQgZW5naW5lLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBXRUJLSVQgPSB1YS5pbmNsdWRlcygnd2Via2l0JykgJiYgIXVhLmluY2x1ZGVzKCdlZGdlJyk7XG5cbi8qKlxuICogVXNlciBhZ2VudCBzdHJpbmcgc2F5cyB3ZSBhcmUgZGVhbGluZyB3aXRoIGEgTWFjIGFzIHBsYXRmb3JtLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBNQUMgPSB1YS5pbmNsdWRlcygnbWFjaW50b3NoJyk7XG5cbi8qKlxuICogVGhlIHJhdGlvIGJldHdlZW4gcGh5c2ljYWwgcGl4ZWxzIGFuZCBkZXZpY2UtaW5kZXBlbmRlbnQgcGl4ZWxzXG4gKiAoZGlwcykgb24gdGhlIGRldmljZSAoYHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvYCkuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCBERVZJQ0VfUElYRUxfUkFUSU8gPVxuICB0eXBlb2YgZGV2aWNlUGl4ZWxSYXRpbyAhPT0gJ3VuZGVmaW5lZCcgPyBkZXZpY2VQaXhlbFJhdGlvIDogMTtcblxuLyoqXG4gKiBUaGUgZXhlY3V0aW9uIGNvbnRleHQgaXMgYSB3b3JrZXIgd2l0aCBPZmZzY3JlZW5DYW52YXMgYXZhaWxhYmxlLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTID1cbiAgdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJlxuICB0eXBlb2YgT2Zmc2NyZWVuQ2FudmFzICE9PSAndW5kZWZpbmVkJyAmJlxuICBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGU7IC8vZXNsaW50LWRpc2FibGUtbGluZVxuXG4vKipcbiAqIEltYWdlLnByb3RvdHlwZS5kZWNvZGUoKSBpcyBzdXBwb3J0ZWQuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IElNQUdFX0RFQ09ERSA9XG4gIHR5cGVvZiBJbWFnZSAhPT0gJ3VuZGVmaW5lZCcgJiYgSW1hZ2UucHJvdG90eXBlLmRlY29kZTtcblxuLyoqXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGNvbnN0IFBBU1NJVkVfRVZFTlRfTElTVEVORVJTID0gKGZ1bmN0aW9uICgpIHtcbiAgbGV0IHBhc3NpdmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICBwYXNzaXZlID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignXycsIG51bGwsIG9wdGlvbnMpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdfJywgbnVsbCwgb3B0aW9ucyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gcGFzc2l2ZSBub3Qgc3VwcG9ydGVkXG4gIH1cbiAgcmV0dXJuIHBhc3NpdmU7XG59KSgpO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL0Jhc2VcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBMYXllclByb3BlcnR5IGZyb20gJy4vUHJvcGVydHkuanMnO1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge2NsYW1wfSBmcm9tICcuLi9tYXRoLmpzJztcblxuLyoqXG4gKiBBIGNzcyBjb2xvciwgb3IgYSBmdW5jdGlvbiBjYWxsZWQgd2l0aCBhIHZpZXcgcmVzb2x1dGlvbiByZXR1cm5pbmcgYSBjc3MgY29sb3IuXG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xmdW5jdGlvbihudW1iZXIpOnN0cmluZ30gQmFja2dyb3VuZENvbG9yXG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfCdjaGFuZ2U6ZXh0ZW50J3wnY2hhbmdlOm1heFJlc29sdXRpb24nfCdjaGFuZ2U6bWF4Wm9vbSd8XG4gKiAgICAnY2hhbmdlOm1pblJlc29sdXRpb24nfCdjaGFuZ2U6bWluWm9vbSd8J2NoYW5nZTpvcGFjaXR5J3wnY2hhbmdlOnZpc2libGUnfCdjaGFuZ2U6ekluZGV4J30gQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc1xuICovXG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPEJhc2VMYXllck9iamVjdEV2ZW50VHlwZXMsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8QmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlcywgUmV0dXJuPn0gQmFzZUxheWVyT25TaWduYXR1cmVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1sYXllciddIEEgQ1NTIGNsYXNzIG5hbWUgdG8gc2V0IHRvIHRoZSBsYXllciBlbGVtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgKDAsIDEpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmlzaWJsZT10cnVlXSBWaXNpYmlsaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgYm91bmRpbmcgZXh0ZW50IGZvciBsYXllciByZW5kZXJpbmcuICBUaGUgbGF5ZXIgd2lsbCBub3QgYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gVGhlIHotaW5kZXggZm9yIGxheWVyIHJlbmRlcmluZy4gIEF0IHJlbmRlcmluZyB0aW1lLCB0aGUgbGF5ZXJzXG4gKiB3aWxsIGJlIG9yZGVyZWQsIGZpcnN0IGJ5IFotaW5kZXggYW5kIHRoZW4gYnkgcG9zaXRpb24uIFdoZW4gYHVuZGVmaW5lZGAsIGEgYHpJbmRleGAgb2YgMCBpcyBhc3N1bWVkXG4gKiBmb3IgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtYXAncyBgbGF5ZXJzYCBjb2xsZWN0aW9uLCBvciBgSW5maW5pdHlgIHdoZW4gdGhlIGxheWVyJ3MgYHNldE1hcCgpYFxuICogbWV0aG9kIHdhcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiAoZXhjbHVzaXZlKSBiZWxvdyB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb21dIFRoZSBtaW5pbXVtIHZpZXcgem9vbSBsZXZlbCAoZXhjbHVzaXZlKSBhYm92ZSB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIFRoZSBtYXhpbXVtIHZpZXcgem9vbSBsZXZlbCAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge0JhY2tncm91bmRDb2xvcn0gW2JhY2tncm91bmRdIEJhY2tncm91bmQgY29sb3IgZm9yIHRoZSBsYXllci4gSWYgbm90IHNwZWNpZmllZCwgbm8gYmFja2dyb3VuZFxuICogd2lsbCBiZSByZW5kZXJlZC5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgKj59IFtwcm9wZXJ0aWVzXSBBcmJpdHJhcnkgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzLiBDYW4gYmUgYWNjZXNzZWQgd2l0aCBgI2dldCgpYCBhbmQgYCNzZXQoKWAuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBOb3RlIHRoYXQgd2l0aCB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0Jhc2V+QmFzZUxheWVyfSBhbmQgYWxsIGl0cyBzdWJjbGFzc2VzLCBhbnkgcHJvcGVydHkgc2V0IGluXG4gKiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fSBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0LCBzb1xuICogaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIEJhc2VMYXllciBleHRlbmRzIEJhc2VPYmplY3Qge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIExheWVyIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7QmFzZUxheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7QmFzZUxheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbmNlO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtCYXNlTGF5ZXJPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgKi9cbiAgICB0aGlzLnVuO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0JhY2tncm91bmRDb2xvcnxmYWxzZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuYmFja2dyb3VuZF8gPSBvcHRpb25zLmJhY2tncm91bmQ7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgKj59XG4gICAgICovXG4gICAgY29uc3QgcHJvcGVydGllcyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wcm9wZXJ0aWVzID09PSAnb2JqZWN0Jykge1xuICAgICAgZGVsZXRlIHByb3BlcnRpZXMucHJvcGVydGllcztcbiAgICAgIE9iamVjdC5hc3NpZ24ocHJvcGVydGllcywgb3B0aW9ucy5wcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuT1BBQ0lUWV0gPVxuICAgICAgb3B0aW9ucy5vcGFjaXR5ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9wYWNpdHkgOiAxO1xuICAgIGFzc2VydCh0eXBlb2YgcHJvcGVydGllc1tMYXllclByb3BlcnR5Lk9QQUNJVFldID09PSAnbnVtYmVyJywgNjQpOyAvLyBMYXllciBvcGFjaXR5IG11c3QgYmUgYSBudW1iZXJcblxuICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5WSVNJQkxFXSA9XG4gICAgICBvcHRpb25zLnZpc2libGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudmlzaWJsZSA6IHRydWU7XG4gICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5LlpfSU5ERVhdID0gb3B0aW9ucy56SW5kZXg7XG4gICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5Lk1BWF9SRVNPTFVUSU9OXSA9XG4gICAgICBvcHRpb25zLm1heFJlc29sdXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4UmVzb2x1dGlvbiA6IEluZmluaXR5O1xuICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5NSU5fUkVTT0xVVElPTl0gPVxuICAgICAgb3B0aW9ucy5taW5SZXNvbHV0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pblJlc29sdXRpb24gOiAwO1xuICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5NSU5fWk9PTV0gPVxuICAgICAgb3B0aW9ucy5taW5ab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pblpvb20gOiAtSW5maW5pdHk7XG4gICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5Lk1BWF9aT09NXSA9XG4gICAgICBvcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4Wm9vbSA6IEluZmluaXR5O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuY2xhc3NOYW1lXyA9XG4gICAgICBwcm9wZXJ0aWVzLmNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkID8gcHJvcGVydGllcy5jbGFzc05hbWUgOiAnb2wtbGF5ZXInO1xuICAgIGRlbGV0ZSBwcm9wZXJ0aWVzLmNsYXNzTmFtZTtcblxuICAgIHRoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zdGF0ZV8gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYmFja2dyb3VuZCBmb3IgdGhpcyBsYXllci5cbiAgICogQHJldHVybiB7QmFja2dyb3VuZENvbG9yfGZhbHNlfSBMYXllciBiYWNrZ3JvdW5kLlxuICAgKi9cbiAgZ2V0QmFja2dyb3VuZCgpIHtcbiAgICByZXR1cm4gdGhpcy5iYWNrZ3JvdW5kXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IENTUyBjbGFzcyBuYW1lLlxuICAgKi9cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmNsYXNzTmFtZV87XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgaXMgbm90IG1lYW50IHRvIGJlIGNhbGxlZCBieSBsYXllcnMgb3IgbGF5ZXIgcmVuZGVyZXJzIGJlY2F1c2UgdGhlIHN0YXRlXG4gICAqIGlzIGluY29ycmVjdCBpZiB0aGUgbGF5ZXIgaXMgaW5jbHVkZWQgaW4gYSBsYXllciBncm91cC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBbbWFuYWdlZF0gTGF5ZXIgaXMgbWFuYWdlZC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZX0gTGF5ZXIgc3RhdGUuXG4gICAqL1xuICBnZXRMYXllclN0YXRlKG1hbmFnZWQpIHtcbiAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGV9ICovXG4gICAgY29uc3Qgc3RhdGUgPVxuICAgICAgdGhpcy5zdGF0ZV8gfHxcbiAgICAgIC8qKiBAdHlwZSB7P30gKi8gKHtcbiAgICAgICAgbGF5ZXI6IHRoaXMsXG4gICAgICAgIG1hbmFnZWQ6IG1hbmFnZWQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBtYW5hZ2VkLFxuICAgICAgfSk7XG4gICAgY29uc3QgekluZGV4ID0gdGhpcy5nZXRaSW5kZXgoKTtcbiAgICBzdGF0ZS5vcGFjaXR5ID0gY2xhbXAoTWF0aC5yb3VuZCh0aGlzLmdldE9wYWNpdHkoKSAqIDEwMCkgLyAxMDAsIDAsIDEpO1xuICAgIHN0YXRlLnZpc2libGUgPSB0aGlzLmdldFZpc2libGUoKTtcbiAgICBzdGF0ZS5leHRlbnQgPSB0aGlzLmdldEV4dGVudCgpO1xuICAgIHN0YXRlLnpJbmRleCA9IHpJbmRleCA9PT0gdW5kZWZpbmVkICYmICFzdGF0ZS5tYW5hZ2VkID8gSW5maW5pdHkgOiB6SW5kZXg7XG4gICAgc3RhdGUubWF4UmVzb2x1dGlvbiA9IHRoaXMuZ2V0TWF4UmVzb2x1dGlvbigpO1xuICAgIHN0YXRlLm1pblJlc29sdXRpb24gPSBNYXRoLm1heCh0aGlzLmdldE1pblJlc29sdXRpb24oKSwgMCk7XG4gICAgc3RhdGUubWluWm9vbSA9IHRoaXMuZ2V0TWluWm9vbSgpO1xuICAgIHN0YXRlLm1heFpvb20gPSB0aGlzLmdldE1heFpvb20oKTtcbiAgICB0aGlzLnN0YXRlXyA9IHN0YXRlO1xuXG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59IFthcnJheV0gQXJyYXkgb2YgbGF5ZXJzICh0byBiZVxuICAgKiAgICAgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBBcnJheSBvZiBsYXllcnMuXG4gICAqL1xuICBnZXRMYXllcnNBcnJheShhcnJheSkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+fSBbc3RhdGVzXSBPcHRpb25hbCBsaXN0IG9mIGxheWVyXG4gICAqICAgICBzdGF0ZXMgKHRvIGJlIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZT59IExpc3Qgb2YgbGF5ZXIgc3RhdGVzLlxuICAgKi9cbiAgZ2V0TGF5ZXJTdGF0ZXNBcnJheShzdGF0ZXMpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudCBleHRlbnR9IG9mIHRoZSBsYXllciBvciBgdW5kZWZpbmVkYCBpZiBpdFxuICAgKiB3aWxsIGJlIHZpc2libGUgcmVnYXJkbGVzcyBvZiBleHRlbnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR8dW5kZWZpbmVkfSBUaGUgbGF5ZXIgZXh0ZW50LlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRFeHRlbnQoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudHx1bmRlZmluZWR9ICovIChcbiAgICAgIHRoaXMuZ2V0KExheWVyUHJvcGVydHkuRVhURU5UKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNYXhSZXNvbHV0aW9uKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuTUFYX1JFU09MVVRJT04pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1pblJlc29sdXRpb24oKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5NSU5fUkVTT0xVVElPTikpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbWluaW11bSB6b29tIGxldmVsIG9mIHRoZSBsYXllci5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWluaW11bSB6b29tIGxldmVsIG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TWluWm9vbSgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5Lk1JTl9aT09NKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgb2YgdGhlIGxheWVyLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNYXhab29tKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuTUFYX1pPT00pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyIChiZXR3ZWVuIDAgYW5kIDEpLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBvcGFjaXR5IG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0T3BhY2l0eSgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5Lk9QQUNJVFkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5TdGF0ZX0gU291cmNlIHN0YXRlLlxuICAgKi9cbiAgZ2V0U291cmNlU3RhdGUoKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllciAoYHRydWVgIG9yIGBmYWxzZWApLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdmlzaWJpbGl0eSBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFZpc2libGUoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuVklTSUJMRSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgWi1pbmRleCBvZiB0aGUgbGF5ZXIsIHdoaWNoIGlzIHVzZWQgdG8gb3JkZXIgbGF5ZXJzIGJlZm9yZVxuICAgKiByZW5kZXJpbmcuIFRoZSBkZWZhdWx0IFotaW5kZXggaXMgMC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgWi1pbmRleCBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFpJbmRleCgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LlpfSU5ERVgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBiYWNrZ3JvdW5kIGNvbG9yLlxuICAgKiBAcGFyYW0ge0JhY2tncm91bmRDb2xvcn0gW2JhY2tncm91bmRdIEJhY2tncm91bmQgY29sb3IuXG4gICAqL1xuICBzZXRCYWNrZ3JvdW5kKGJhY2tncm91bmQpIHtcbiAgICB0aGlzLmJhY2tncm91bmRfID0gYmFja2dyb3VuZDtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGV4dGVudCBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS4gIElmIGB1bmRlZmluZWRgLCB0aGUgbGF5ZXJcbiAgICogd2lsbCBiZSB2aXNpYmxlIGF0IGFsbCBleHRlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR8dW5kZWZpbmVkfSBleHRlbnQgVGhlIGV4dGVudCBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEV4dGVudChleHRlbnQpIHtcbiAgICB0aGlzLnNldChMYXllclByb3BlcnR5LkVYVEVOVCwgZXh0ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG1heGltdW0gcmVzb2x1dGlvbiBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heFJlc29sdXRpb24gVGhlIG1heGltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE1heFJlc29sdXRpb24obWF4UmVzb2x1dGlvbikge1xuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuTUFYX1JFU09MVVRJT04sIG1heFJlc29sdXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbWluaW11bSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBsYXllciBpcyB2aXNpYmxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluUmVzb2x1dGlvbiBUaGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TWluUmVzb2x1dGlvbihtaW5SZXNvbHV0aW9uKSB7XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5NSU5fUkVTT0xVVElPTiwgbWluUmVzb2x1dGlvbik7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBtYXhpbXVtIHpvb20gKGV4Y2x1c2l2ZSkgYXQgd2hpY2ggdGhlIGxheWVyIGlzIHZpc2libGUuXG4gICAqIE5vdGUgdGhhdCB0aGUgem9vbSBsZXZlbHMgZm9yIGxheWVyIHZpc2liaWxpdHkgYXJlIGJhc2VkIG9uIHRoZVxuICAgKiB2aWV3IHpvb20gbGV2ZWwsIHdoaWNoIG1heSBiZSBkaWZmZXJlbnQgZnJvbSBhIHRpbGUgc291cmNlIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhab29tIFRoZSBtYXhpbXVtIHpvb20gb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRNYXhab29tKG1heFpvb20pIHtcbiAgICB0aGlzLnNldChMYXllclByb3BlcnR5Lk1BWF9aT09NLCBtYXhab29tKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG1pbmltdW0gem9vbSAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS5cbiAgICogTm90ZSB0aGF0IHRoZSB6b29tIGxldmVscyBmb3IgbGF5ZXIgdmlzaWJpbGl0eSBhcmUgYmFzZWQgb24gdGhlXG4gICAqIHZpZXcgem9vbSBsZXZlbCwgd2hpY2ggbWF5IGJlIGRpZmZlcmVudCBmcm9tIGEgdGlsZSBzb3VyY2Ugem9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblpvb20gVGhlIG1pbmltdW0gem9vbSBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE1pblpvb20obWluWm9vbSkge1xuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuTUlOX1pPT00sIG1pblpvb20pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgb3BhY2l0eSBvZiB0aGUgbGF5ZXIsIGFsbG93ZWQgdmFsdWVzIHJhbmdlIGZyb20gMCB0byAxLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb3BhY2l0eSBUaGUgb3BhY2l0eSBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE9wYWNpdHkob3BhY2l0eSkge1xuICAgIGFzc2VydCh0eXBlb2Ygb3BhY2l0eSA9PT0gJ251bWJlcicsIDY0KTsgLy8gTGF5ZXIgb3BhY2l0eSBtdXN0IGJlIGEgbnVtYmVyXG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZLCBvcGFjaXR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGxheWVyIChgdHJ1ZWAgb3IgYGZhbHNlYCkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmlzaWJsZSBUaGUgdmlzaWJpbGl0eSBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFZpc2libGUodmlzaWJsZSkge1xuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuVklTSUJMRSwgdmlzaWJsZSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IFotaW5kZXggb2YgdGhlIGxheWVyLCB3aGljaCBpcyB1c2VkIHRvIG9yZGVyIGxheWVycyBiZWZvcmUgcmVuZGVyaW5nLlxuICAgKiBUaGUgZGVmYXVsdCBaLWluZGV4IGlzIDAuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6aW5kZXggVGhlIHotaW5kZXggb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRaSW5kZXgoemluZGV4KSB7XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5aX0lOREVYLCB6aW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwLlxuICAgKi9cbiAgZGlzcG9zZUludGVybmFsKCkge1xuICAgIGlmICh0aGlzLnN0YXRlXykge1xuICAgICAgdGhpcy5zdGF0ZV8ubGF5ZXIgPSBudWxsO1xuICAgICAgdGhpcy5zdGF0ZV8gPSBudWxsO1xuICAgIH1cbiAgICBzdXBlci5kaXNwb3NlSW50ZXJuYWwoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCYXNlTGF5ZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvTGF5ZXJcbiAqL1xuaW1wb3J0IEJhc2VMYXllciBmcm9tICcuL0Jhc2UuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBMYXllclByb3BlcnR5IGZyb20gJy4vUHJvcGVydHkuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50VHlwZSBmcm9tICcuLi9yZW5kZXIvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7bGlzdGVuLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuLi9ldmVudHMuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZSk6SFRNTEVsZW1lbnR9IFJlbmRlckZ1bmN0aW9uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7J3NvdXJjZXJlYWR5J3wnY2hhbmdlOnNvdXJjZSd9IExheWVyRXZlbnRUeXBlXG4gKi9cblxuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9CYXNlXCIpLkJhc2VMYXllck9iamVjdEV2ZW50VHlwZXN8XG4gKiAgICAgTGF5ZXJFdmVudFR5cGUsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5MYXllclJlbmRlckV2ZW50VHlwZXMsIGltcG9ydChcIi4uL3JlbmRlci9FdmVudFwiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3xMYXllckV2ZW50VHlwZXxcbiAqICAgICBpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRUeXBlXCIpLkxheWVyUmVuZGVyRXZlbnRUeXBlcywgUmV0dXJuPn0gTGF5ZXJPblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlLmpzXCIpLmRlZmF1bHR9IFtTb3VyY2VUeXBlPWltcG9ydChcIi4uL3NvdXJjZS9Tb3VyY2UuanNcIikuZGVmYXVsdF1cbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1sYXllciddIEEgQ1NTIGNsYXNzIG5hbWUgdG8gc2V0IHRvIHRoZSBsYXllciBlbGVtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgKDAsIDEpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmlzaWJsZT10cnVlXSBWaXNpYmlsaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgYm91bmRpbmcgZXh0ZW50IGZvciBsYXllciByZW5kZXJpbmcuICBUaGUgbGF5ZXIgd2lsbCBub3QgYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gVGhlIHotaW5kZXggZm9yIGxheWVyIHJlbmRlcmluZy4gIEF0IHJlbmRlcmluZyB0aW1lLCB0aGUgbGF5ZXJzXG4gKiB3aWxsIGJlIG9yZGVyZWQsIGZpcnN0IGJ5IFotaW5kZXggYW5kIHRoZW4gYnkgcG9zaXRpb24uIFdoZW4gYHVuZGVmaW5lZGAsIGEgYHpJbmRleGAgb2YgMCBpcyBhc3N1bWVkXG4gKiBmb3IgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtYXAncyBgbGF5ZXJzYCBjb2xsZWN0aW9uLCBvciBgSW5maW5pdHlgIHdoZW4gdGhlIGxheWVyJ3MgYHNldE1hcCgpYFxuICogbWV0aG9kIHdhcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiAoZXhjbHVzaXZlKSBiZWxvdyB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb21dIFRoZSBtaW5pbXVtIHZpZXcgem9vbSBsZXZlbCAoZXhjbHVzaXZlKSBhYm92ZSB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIFRoZSBtYXhpbXVtIHZpZXcgem9vbSBsZXZlbCAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge1NvdXJjZVR5cGV9IFtzb3VyY2VdIFNvdXJjZSBmb3IgdGhpcyBsYXllci4gIElmIG5vdCBwcm92aWRlZCB0byB0aGUgY29uc3RydWN0b3IsXG4gKiB0aGUgc291cmNlIGNhbiBiZSBzZXQgYnkgY2FsbGluZyB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyI3NldFNvdXJjZSBsYXllci5zZXRTb3VyY2Uoc291cmNlKX0gYWZ0ZXJcbiAqIGNvbnN0cnVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR8bnVsbH0gW21hcF0gTWFwLlxuICogQHByb3BlcnR5IHtSZW5kZXJGdW5jdGlvbn0gW3JlbmRlcl0gUmVuZGVyIGZ1bmN0aW9uLiBUYWtlcyB0aGUgZnJhbWUgc3RhdGUgYXMgaW5wdXQgYW5kIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhblxuICogSFRNTCBlbGVtZW50LiBXaWxsIG92ZXJ3cml0ZSB0aGUgZGVmYXVsdCByZW5kZXJpbmcgZm9yIHRoZSBsYXllci5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgKj59IFtwcm9wZXJ0aWVzXSBBcmJpdHJhcnkgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzLiBDYW4gYmUgYWNjZXNzZWQgd2l0aCBgI2dldCgpYCBhbmQgYCNzZXQoKWAuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTdGF0ZVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eSwgdGhlIHZhbHVlIGlzIHJvdW5kZWQgdG8gdHdvIGRpZ2l0cyB0byBhcHBlYXIgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHZpc2libGUgVmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbWFuYWdlZCBNYW5hZ2VkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBFeHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gekluZGV4IFpJbmRleC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIE1heGltdW0gcmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5SZXNvbHV0aW9uIE1pbmltdW0gcmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5ab29tIE1pbmltdW0gem9vbS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhab29tIE1heGltdW0gem9vbS5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEJhc2UgY2xhc3MgZnJvbSB3aGljaCBhbGwgbGF5ZXIgdHlwZXMgYXJlIGRlcml2ZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgaW5zdGFudGlhdGVkXG4gKiBpbiB0aGUgY2FzZSB3aGVyZSBhIGN1c3RvbSBsYXllciBpcyBhZGRlZCB0byB0aGUgbWFwIHdpdGggYSBjdXN0b20gYHJlbmRlcmAgZnVuY3Rpb24uXG4gKiBTdWNoIGEgZnVuY3Rpb24gY2FuIGJlIHNwZWNpZmllZCBpbiB0aGUgYG9wdGlvbnNgIG9iamVjdCwgYW5kIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhbiBIVE1MIGVsZW1lbnQuXG4gKlxuICogQSB2aXN1YWwgcmVwcmVzZW50YXRpb24gb2YgcmFzdGVyIG9yIHZlY3RvciBtYXAgZGF0YS5cbiAqIExheWVycyBncm91cCB0b2dldGhlciB0aG9zZSBwcm9wZXJ0aWVzIHRoYXQgcGVydGFpbiB0byBob3cgdGhlIGRhdGEgaXMgdG8gYmVcbiAqIGRpc3BsYXllZCwgaXJyZXNwZWN0aXZlIG9mIHRoZSBzb3VyY2Ugb2YgdGhhdCBkYXRhLlxuICpcbiAqIExheWVycyBhcmUgdXN1YWxseSBhZGRlZCB0byBhIG1hcCB3aXRoIFttYXAuYWRkTGF5ZXIoKV17QGxpbmsgaW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHQjYWRkTGF5ZXJ9LlxuICogQ29tcG9uZW50cyBsaWtlIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhd35EcmF3fSB1c2UgdW5tYW5hZ2VkIGxheWVyc1xuICogaW50ZXJuYWxseS4gVGhlc2UgdW5tYW5hZ2VkIGxheWVycyBhcmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBtYXAgdXNpbmdcbiAqIFtsYXllci5zZXRNYXAoKV17QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyI3NldE1hcH0gaW5zdGVhZC5cbiAqXG4gKiBBIGdlbmVyaWMgYGNoYW5nZWAgZXZlbnQgaXMgZmlyZWQgd2hlbiB0aGUgc3RhdGUgb2YgdGhlIHNvdXJjZSBjaGFuZ2VzLlxuICogQSBgc291cmNlcmVhZHlgIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIGxheWVyJ3Mgc291cmNlIGlzIHJlYWR5LlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnQuanNcIikuUmVuZGVyRXZlbnQjcHJlcmVuZGVyXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50LmpzXCIpLlJlbmRlckV2ZW50I3Bvc3RyZW5kZXJcbiAqIEBmaXJlcyBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuQmFzZUV2ZW50I3NvdXJjZXJlYWR5XG4gKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlLmpzXCIpLmRlZmF1bHR9IFtTb3VyY2VUeXBlPWltcG9ydChcIi4uL3NvdXJjZS9Tb3VyY2UuanNcIikuZGVmYXVsdF1cbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vcmVuZGVyZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gW1JlbmRlcmVyVHlwZT1pbXBvcnQoXCIuLi9yZW5kZXJlci9MYXllci5qc1wiKS5kZWZhdWx0XVxuICogQGFwaVxuICovXG5jbGFzcyBMYXllciBleHRlbmRzIEJhc2VMYXllciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnM8U291cmNlVHlwZT59IG9wdGlvbnMgTGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBjb25zdCBiYXNlT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy5zb3VyY2U7XG5cbiAgICBzdXBlcihiYXNlT3B0aW9ucyk7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0xheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7TGF5ZXJPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uY2U7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0xheWVyT25TaWduYXR1cmU8dm9pZD59XG4gICAgICovXG4gICAgdGhpcy51bjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAqL1xuICAgIHRoaXMubWFwUHJlY29tcG9zZUtleV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICovXG4gICAgdGhpcy5tYXBSZW5kZXJLZXlfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlQ2hhbmdlS2V5XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtSZW5kZXJlclR5cGV9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZVJlYWR5XyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWQgPSBmYWxzZTtcblxuICAgIC8vIE92ZXJ3cml0ZSBkZWZhdWx0IHJlbmRlciBtZXRob2Qgd2l0aCBhIGN1c3RvbSBvbmVcbiAgICBpZiAob3B0aW9ucy5yZW5kZXIpIHtcbiAgICAgIHRoaXMucmVuZGVyID0gb3B0aW9ucy5yZW5kZXI7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMubWFwKSB7XG4gICAgICB0aGlzLnNldE1hcChvcHRpb25zLm1hcCk7XG4gICAgfVxuXG4gICAgdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihcbiAgICAgIExheWVyUHJvcGVydHkuU09VUkNFLFxuICAgICAgdGhpcy5oYW5kbGVTb3VyY2VQcm9wZXJ0eUNoYW5nZV9cbiAgICApO1xuXG4gICAgY29uc3Qgc291cmNlID0gb3B0aW9ucy5zb3VyY2VcbiAgICAgID8gLyoqIEB0eXBlIHtTb3VyY2VUeXBlfSAqLyAob3B0aW9ucy5zb3VyY2UpXG4gICAgICA6IG51bGw7XG4gICAgdGhpcy5zZXRTb3VyY2Uoc291cmNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59IFthcnJheV0gQXJyYXkgb2YgbGF5ZXJzICh0byBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuZGVmYXVsdD59IEFycmF5IG9mIGxheWVycy5cbiAgICovXG4gIGdldExheWVyc0FycmF5KGFycmF5KSB7XG4gICAgYXJyYXkgPSBhcnJheSA/IGFycmF5IDogW107XG4gICAgYXJyYXkucHVzaCh0aGlzKTtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gW3N0YXRlc10gT3B0aW9uYWwgbGlzdCBvZiBsYXllciBzdGF0ZXMgKHRvIGJlIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZT59IExpc3Qgb2YgbGF5ZXIgc3RhdGVzLlxuICAgKi9cbiAgZ2V0TGF5ZXJTdGF0ZXNBcnJheShzdGF0ZXMpIHtcbiAgICBzdGF0ZXMgPSBzdGF0ZXMgPyBzdGF0ZXMgOiBbXTtcbiAgICBzdGF0ZXMucHVzaCh0aGlzLmdldExheWVyU3RhdGUoKSk7XG4gICAgcmV0dXJuIHN0YXRlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxheWVyIHNvdXJjZS5cbiAgICogQHJldHVybiB7U291cmNlVHlwZXxudWxsfSBUaGUgbGF5ZXIgc291cmNlIChvciBgbnVsbGAgaWYgbm90IHlldCBzZXQpLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRTb3VyY2UoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7U291cmNlVHlwZX0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuU09VUkNFKSkgfHwgbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtTb3VyY2VUeXBlfG51bGx9IFRoZSBzb3VyY2UgYmVpbmcgcmVuZGVyZWQuXG4gICAqL1xuICBnZXRSZW5kZXJTb3VyY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U291cmNlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5TdGF0ZX0gU291cmNlIHN0YXRlLlxuICAgKi9cbiAgZ2V0U291cmNlU3RhdGUoKSB7XG4gICAgY29uc3Qgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKTtcbiAgICByZXR1cm4gIXNvdXJjZSA/ICd1bmRlZmluZWQnIDogc291cmNlLmdldFN0YXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVNvdXJjZUNoYW5nZV8oKSB7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgaWYgKHRoaXMuc291cmNlUmVhZHlfIHx8IHRoaXMuZ2V0U291cmNlKCkuZ2V0U3RhdGUoKSAhPT0gJ3JlYWR5Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNvdXJjZVJlYWR5XyA9IHRydWU7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdzb3VyY2VyZWFkeScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVTb3VyY2VQcm9wZXJ0eUNoYW5nZV8oKSB7XG4gICAgaWYgKHRoaXMuc291cmNlQ2hhbmdlS2V5Xykge1xuICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLnNvdXJjZUNoYW5nZUtleV8pO1xuICAgICAgdGhpcy5zb3VyY2VDaGFuZ2VLZXlfID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5zb3VyY2VSZWFkeV8gPSBmYWxzZTtcbiAgICBjb25zdCBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpO1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIHRoaXMuc291cmNlQ2hhbmdlS2V5XyA9IGxpc3RlbihcbiAgICAgICAgc291cmNlLFxuICAgICAgICBFdmVudFR5cGUuQ0hBTkdFLFxuICAgICAgICB0aGlzLmhhbmRsZVNvdXJjZUNoYW5nZV8sXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgICBpZiAoc291cmNlLmdldFN0YXRlKCkgPT09ICdyZWFkeScpIHtcbiAgICAgICAgdGhpcy5zb3VyY2VSZWFkeV8gPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ3NvdXJjZXJlYWR5Jyk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlXCIpLkZlYXR1cmVMaWtlPj59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoXG4gICAqIGFuIGFycmF5IG9mIGZlYXR1cmVzLlxuICAgKi9cbiAgZ2V0RmVhdHVyZXMocGl4ZWwpIHtcbiAgICBpZiAoIXRoaXMucmVuZGVyZXJfKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJfLmdldEZlYXR1cmVzKHBpeGVsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICogQHJldHVybiB7VWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheXxGbG9hdDMyQXJyYXl8RGF0YVZpZXd8bnVsbH0gUGl4ZWwgZGF0YS5cbiAgICovXG4gIGdldERhdGEocGl4ZWwpIHtcbiAgICBpZiAoIXRoaXMucmVuZGVyZXJfIHx8ICF0aGlzLnJlbmRlcmVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJfLmdldERhdGEocGl4ZWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluIGNoYXJnZSB0byBtYW5hZ2UgdGhlIHJlbmRlcmluZyBvZiB0aGUgbGF5ZXIuIE9uZSBsYXllciB0eXBlIGlzXG4gICAqIGJvdW5kZWQgd2l0aCBvbmUgbGF5ZXIgcmVuZGVyZXIuXG4gICAqIEBwYXJhbSB7P2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgVGFyZ2V0IHdoaWNoIHRoZSByZW5kZXJlciBtYXkgKGJ1dCBuZWVkIG5vdCkgdXNlXG4gICAqIGZvciByZW5kZXJpbmcgaXRzIGNvbnRlbnQuXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgcmVuZGVyZWQgZWxlbWVudC5cbiAgICovXG4gIHJlbmRlcihmcmFtZVN0YXRlLCB0YXJnZXQpIHtcbiAgICBjb25zdCBsYXllclJlbmRlcmVyID0gdGhpcy5nZXRSZW5kZXJlcigpO1xuXG4gICAgaWYgKGxheWVyUmVuZGVyZXIucHJlcGFyZUZyYW1lKGZyYW1lU3RhdGUpKSB7XG4gICAgICB0aGlzLnJlbmRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBsYXllclJlbmRlcmVyLnJlbmRlckZyYW1lKGZyYW1lU3RhdGUsIHRhcmdldCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgbGF5ZXIgaXMgbm90IHZpc2libGUgZHVyaW5nIGEgbWFwIHJlbmRlci5cbiAgICovXG4gIHVucmVuZGVyKCkge1xuICAgIHRoaXMucmVuZGVyZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3IgdXNlIGluc2lkZSB0aGUgbGlicmFyeSBvbmx5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9IG1hcCBNYXAuXG4gICAqL1xuICBzZXRNYXBJbnRlcm5hbChtYXApIHtcbiAgICBpZiAoIW1hcCkge1xuICAgICAgdGhpcy51bnJlbmRlcigpO1xuICAgIH1cbiAgICB0aGlzLnNldChMYXllclByb3BlcnR5Lk1BUCwgbWFwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3IgdXNlIGluc2lkZSB0aGUgbGlicmFyeSBvbmx5LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdHxudWxsfSBNYXAuXG4gICAqL1xuICBnZXRNYXBJbnRlcm5hbCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5NQVApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxheWVyIHRvIGJlIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBsYXllcnMgb24gYSBtYXAuIFRoZSBtYXAgd2lsbFxuICAgKiBub3QgbWFuYWdlIHRoaXMgbGF5ZXIgaW4gaXRzIGxheWVycyBjb2xsZWN0aW9uLiBUaGlzXG4gICAqIGlzIHVzZWZ1bCBmb3IgdGVtcG9yYXJ5IGxheWVycy4gVG8gcmVtb3ZlIGFuIHVubWFuYWdlZCBsYXllciBmcm9tIHRoZSBtYXAsXG4gICAqIHVzZSBgI3NldE1hcChudWxsKWAuXG4gICAqXG4gICAqIFRvIGFkZCB0aGUgbGF5ZXIgdG8gYSBtYXAgYW5kIGhhdmUgaXQgbWFuYWdlZCBieSB0aGUgbWFwLCB1c2VcbiAgICoge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwI2FkZExheWVyfSBpbnN0ZWFkLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9IG1hcCBNYXAuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE1hcChtYXApIHtcbiAgICBpZiAodGhpcy5tYXBQcmVjb21wb3NlS2V5Xykge1xuICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLm1hcFByZWNvbXBvc2VLZXlfKTtcbiAgICAgIHRoaXMubWFwUHJlY29tcG9zZUtleV8gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoIW1hcCkge1xuICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLm1hcFJlbmRlcktleV8pIHtcbiAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5tYXBSZW5kZXJLZXlfKTtcbiAgICAgIHRoaXMubWFwUmVuZGVyS2V5XyA9IG51bGw7XG4gICAgfVxuICAgIGlmIChtYXApIHtcbiAgICAgIHRoaXMubWFwUHJlY29tcG9zZUtleV8gPSBsaXN0ZW4oXG4gICAgICAgIG1hcCxcbiAgICAgICAgUmVuZGVyRXZlbnRUeXBlLlBSRUNPTVBPU0UsXG4gICAgICAgIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICBjb25zdCByZW5kZXJFdmVudCA9XG4gICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci9FdmVudC5qc1wiKS5kZWZhdWx0fSAqLyAoZXZ0KTtcbiAgICAgICAgICBjb25zdCBsYXllclN0YXRlc0FycmF5ID0gcmVuZGVyRXZlbnQuZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5O1xuICAgICAgICAgIGNvbnN0IGxheWVyU3RhdGUgPSB0aGlzLmdldExheWVyU3RhdGUoZmFsc2UpO1xuICAgICAgICAgIC8vIEEgbGF5ZXIgY2FuIG9ubHkgYmUgYWRkZWQgdG8gdGhlIG1hcCBvbmNlLiBVc2UgZWl0aGVyIGBsYXllci5zZXRNYXAoKWAgb3IgYG1hcC5hZGRMYXllcigpYCwgbm90IGJvdGguXG4gICAgICAgICAgYXNzZXJ0KFxuICAgICAgICAgICAgIWxheWVyU3RhdGVzQXJyYXkuc29tZShmdW5jdGlvbiAoYXJyYXlMYXllclN0YXRlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBhcnJheUxheWVyU3RhdGUubGF5ZXIgPT09IGxheWVyU3RhdGUubGF5ZXI7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIDY3XG4gICAgICAgICAgKTtcbiAgICAgICAgICBsYXllclN0YXRlc0FycmF5LnB1c2gobGF5ZXJTdGF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgICB0aGlzLm1hcFJlbmRlcktleV8gPSBsaXN0ZW4odGhpcywgRXZlbnRUeXBlLkNIQU5HRSwgbWFwLnJlbmRlciwgbWFwKTtcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGxheWVyIHNvdXJjZS5cbiAgICogQHBhcmFtIHtTb3VyY2VUeXBlfG51bGx9IHNvdXJjZSBUaGUgbGF5ZXIgc291cmNlLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRTb3VyY2Uoc291cmNlKSB7XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5TT1VSQ0UsIHNvdXJjZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSByZW5kZXJlciBmb3IgdGhpcyBsYXllci5cbiAgICogQHJldHVybiB7UmVuZGVyZXJUeXBlfG51bGx9IFRoZSBsYXllciByZW5kZXJlci5cbiAgICovXG4gIGdldFJlbmRlcmVyKCkge1xuICAgIGlmICghdGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgIHRoaXMucmVuZGVyZXJfID0gdGhpcy5jcmVhdGVSZW5kZXJlcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGxheWVyIGhhcyBhIHJlbmRlcmVyLlxuICAgKi9cbiAgaGFzUmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5yZW5kZXJlcl87XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgcmVuZGVyZXIgZm9yIHRoaXMgbGF5ZXIuXG4gICAqIEByZXR1cm4ge1JlbmRlcmVyVHlwZX0gQSBsYXllciByZW5kZXJlci5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgY3JlYXRlUmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAuXG4gICAqL1xuICBkaXNwb3NlSW50ZXJuYWwoKSB7XG4gICAgaWYgKHRoaXMucmVuZGVyZXJfKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyXy5kaXNwb3NlKCk7XG4gICAgICBkZWxldGUgdGhpcy5yZW5kZXJlcl87XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTb3VyY2UobnVsbCk7XG4gICAgc3VwZXIuZGlzcG9zZUludGVybmFsKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBsYXllciBpcyB2aXNpYmxlIGFuZCBpZiB0aGUgcHJvdmlkZWQgdmlldyBzdGF0ZVxuICogaGFzIHJlc29sdXRpb24gYW5kIHpvb20gbGV2ZWxzIHRoYXQgYXJlIGluIHJhbmdlIG9mIHRoZSBsYXllcidzIG1pbi9tYXguXG4gKiBAcGFyYW0ge1N0YXRlfSBsYXllclN0YXRlIExheWVyIHN0YXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLlN0YXRlfSB2aWV3U3RhdGUgVmlldyBzdGF0ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBsYXllciBpcyB2aXNpYmxlIGF0IHRoZSBnaXZlbiB2aWV3IHN0YXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5WaWV3KGxheWVyU3RhdGUsIHZpZXdTdGF0ZSkge1xuICBpZiAoIWxheWVyU3RhdGUudmlzaWJsZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCByZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gIGlmIChcbiAgICByZXNvbHV0aW9uIDwgbGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uIHx8XG4gICAgcmVzb2x1dGlvbiA+PSBsYXllclN0YXRlLm1heFJlc29sdXRpb25cbiAgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHpvb20gPSB2aWV3U3RhdGUuem9vbTtcbiAgcmV0dXJuIHpvb20gPiBsYXllclN0YXRlLm1pblpvb20gJiYgem9vbSA8PSBsYXllclN0YXRlLm1heFpvb207XG59XG5cbmV4cG9ydCBkZWZhdWx0IExheWVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL1Byb3BlcnR5XG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIE9QQUNJVFk6ICdvcGFjaXR5JyxcbiAgVklTSUJMRTogJ3Zpc2libGUnLFxuICBFWFRFTlQ6ICdleHRlbnQnLFxuICBaX0lOREVYOiAnekluZGV4JyxcbiAgTUFYX1JFU09MVVRJT046ICdtYXhSZXNvbHV0aW9uJyxcbiAgTUlOX1JFU09MVVRJT046ICdtaW5SZXNvbHV0aW9uJyxcbiAgTUFYX1pPT006ICdtYXhab29tJyxcbiAgTUlOX1pPT006ICdtaW5ab29tJyxcbiAgU09VUkNFOiAnc291cmNlJyxcbiAgTUFQOiAnbWFwJyxcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvQmFzZVRpbGVcbiAqL1xuaW1wb3J0IExheWVyIGZyb20gJy4vTGF5ZXIuanMnO1xuaW1wb3J0IFRpbGVQcm9wZXJ0eSBmcm9tICcuL1RpbGVQcm9wZXJ0eS5qcyc7XG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vQmFzZVwiKS5CYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzfFxuICogICAgIGltcG9ydChcIi4vTGF5ZXIuanNcIikuTGF5ZXJFdmVudFR5cGV8J2NoYW5nZTpwcmVsb2FkJ3wnY2hhbmdlOnVzZUludGVyaW1UaWxlc09uRXJyb3InLCBpbXBvcnQoXCIuLi9PYmplY3RcIikuT2JqZWN0RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL3JlbmRlci9FdmVudFR5cGVcIikuTGF5ZXJSZW5kZXJFdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi9CYXNlXCIpLkJhc2VMYXllck9iamVjdEV2ZW50VHlwZXN8XG4gKiAgIGltcG9ydChcIi4vTGF5ZXIuanNcIikuTGF5ZXJFdmVudFR5cGV8J2NoYW5nZTpwcmVsb2FkJ3wnY2hhbmdlOnVzZUludGVyaW1UaWxlc09uRXJyb3InfGltcG9ydChcIi4uL3JlbmRlci9FdmVudFR5cGVcIikuTGF5ZXJSZW5kZXJFdmVudFR5cGVzLCBSZXR1cm4+fSBCYXNlVGlsZUxheWVyT25TaWduYXR1cmVcbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gVGlsZVNvdXJjZVR5cGVcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1sYXllciddIEEgQ1NTIGNsYXNzIG5hbWUgdG8gc2V0IHRvIHRoZSBsYXllciBlbGVtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgKDAsIDEpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmlzaWJsZT10cnVlXSBWaXNpYmlsaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgYm91bmRpbmcgZXh0ZW50IGZvciBsYXllciByZW5kZXJpbmcuICBUaGUgbGF5ZXIgd2lsbCBub3QgYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gVGhlIHotaW5kZXggZm9yIGxheWVyIHJlbmRlcmluZy4gIEF0IHJlbmRlcmluZyB0aW1lLCB0aGUgbGF5ZXJzXG4gKiB3aWxsIGJlIG9yZGVyZWQsIGZpcnN0IGJ5IFotaW5kZXggYW5kIHRoZW4gYnkgcG9zaXRpb24uIFdoZW4gYHVuZGVmaW5lZGAsIGEgYHpJbmRleGAgb2YgMCBpcyBhc3N1bWVkXG4gKiBmb3IgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtYXAncyBgbGF5ZXJzYCBjb2xsZWN0aW9uLCBvciBgSW5maW5pdHlgIHdoZW4gdGhlIGxheWVyJ3MgYHNldE1hcCgpYFxuICogbWV0aG9kIHdhcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiAoZXhjbHVzaXZlKSBiZWxvdyB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb21dIFRoZSBtaW5pbXVtIHZpZXcgem9vbSBsZXZlbCAoZXhjbHVzaXZlKSBhYm92ZSB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIFRoZSBtYXhpbXVtIHZpZXcgem9vbSBsZXZlbCAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3ByZWxvYWQ9MF0gUHJlbG9hZC4gTG9hZCBsb3ctcmVzb2x1dGlvbiB0aWxlcyB1cCB0byBgcHJlbG9hZGAgbGV2ZWxzLiBgMGBcbiAqIG1lYW5zIG5vIHByZWxvYWRpbmcuXG4gKiBAcHJvcGVydHkge1RpbGVTb3VyY2VUeXBlfSBbc291cmNlXSBTb3VyY2UgZm9yIHRoaXMgbGF5ZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fSBbbWFwXSBTZXRzIHRoZSBsYXllciBhcyBvdmVybGF5IG9uIGEgbWFwLiBUaGUgbWFwIHdpbGwgbm90IG1hbmFnZVxuICogdGhpcyBsYXllciBpbiBpdHMgbGF5ZXJzIGNvbGxlY3Rpb24sIGFuZCB0aGUgbGF5ZXIgd2lsbCBiZSByZW5kZXJlZCBvbiB0b3AuIFRoaXMgaXMgdXNlZnVsIGZvclxuICogdGVtcG9yYXJ5IGxheWVycy4gVGhlIHN0YW5kYXJkIHdheSB0byBhZGQgYSBsYXllciB0byBhIG1hcCBhbmQgaGF2ZSBpdCBtYW5hZ2VkIGJ5IHRoZSBtYXAgaXMgdG9cbiAqIHVzZSB7QGxpbmsgaW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHQjYWRkTGF5ZXIgbWFwLmFkZExheWVyKCl9LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXNlSW50ZXJpbVRpbGVzT25FcnJvcj10cnVlXSBVc2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgKj59IFtwcm9wZXJ0aWVzXSBBcmJpdHJhcnkgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzLiBDYW4gYmUgYWNjZXNzZWQgd2l0aCBgI2dldCgpYCBhbmQgYCNzZXQoKWAuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBGb3IgbGF5ZXIgc291cmNlcyB0aGF0IHByb3ZpZGUgcHJlLXJlbmRlcmVkLCB0aWxlZCBpbWFnZXMgaW4gZ3JpZHMgdGhhdCBhcmVcbiAqIG9yZ2FuaXplZCBieSB6b29tIGxldmVscyBmb3Igc3BlY2lmaWMgcmVzb2x1dGlvbnMuXG4gKiBOb3RlIHRoYXQgYW55IHByb3BlcnR5IHNldCBpbiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fVxuICogcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdDsgZm9yIGV4YW1wbGUsIHNldHRpbmcgYHRpdGxlOiAnTXkgVGl0bGUnYCBpbiB0aGVcbiAqIG9wdGlvbnMgbWVhbnMgdGhhdCBgdGl0bGVgIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSBUaWxlU291cmNlVHlwZVxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9yZW5kZXJlci9MYXllci5qc1wiKS5kZWZhdWx0fSBSZW5kZXJlclR5cGVcbiAqIEBleHRlbmRzIHtMYXllcjxUaWxlU291cmNlVHlwZSwgUmVuZGVyZXJUeXBlPn1cbiAqIEBhcGlcbiAqL1xuY2xhc3MgQmFzZVRpbGVMYXllciBleHRlbmRzIExheWVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uczxUaWxlU291cmNlVHlwZT59IFtvcHRpb25zXSBUaWxlIGxheWVyIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICBjb25zdCBiYXNlT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuXG4gICAgZGVsZXRlIGJhc2VPcHRpb25zLnByZWxvYWQ7XG4gICAgZGVsZXRlIGJhc2VPcHRpb25zLnVzZUludGVyaW1UaWxlc09uRXJyb3I7XG4gICAgc3VwZXIoYmFzZU9wdGlvbnMpO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtCYXNlVGlsZUxheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7QmFzZVRpbGVMYXllck9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7QmFzZVRpbGVMYXllck9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICB0aGlzLnNldFByZWxvYWQob3B0aW9ucy5wcmVsb2FkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnByZWxvYWQgOiAwKTtcbiAgICB0aGlzLnNldFVzZUludGVyaW1UaWxlc09uRXJyb3IoXG4gICAgICBvcHRpb25zLnVzZUludGVyaW1UaWxlc09uRXJyb3IgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMudXNlSW50ZXJpbVRpbGVzT25FcnJvclxuICAgICAgICA6IHRydWVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbGV2ZWwgYXMgbnVtYmVyIHRvIHdoaWNoIHdlIHdpbGwgcHJlbG9hZCB0aWxlcyB1cCB0by5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGV2ZWwgdG8gcHJlbG9hZCB0aWxlcyB1cCB0by5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UHJlbG9hZCgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChUaWxlUHJvcGVydHkuUFJFTE9BRCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbGV2ZWwgYXMgbnVtYmVyIHRvIHdoaWNoIHdlIHdpbGwgcHJlbG9hZCB0aWxlcyB1cCB0by5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHByZWxvYWQgVGhlIGxldmVsIHRvIHByZWxvYWQgdGlsZXMgdXAgdG8uXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFByZWxvYWQocHJlbG9hZCkge1xuICAgIHRoaXMuc2V0KFRpbGVQcm9wZXJ0eS5QUkVMT0FELCBwcmVsb2FkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHdlIHVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBVc2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvcigpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtib29sZWFufSAqLyAoXG4gICAgICB0aGlzLmdldChUaWxlUHJvcGVydHkuVVNFX0lOVEVSSU1fVElMRVNfT05fRVJST1IpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB3ZSB1c2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAgICogQHBhcmFtIHtib29sZWFufSB1c2VJbnRlcmltVGlsZXNPbkVycm9yIFVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKHVzZUludGVyaW1UaWxlc09uRXJyb3IpIHtcbiAgICB0aGlzLnNldChUaWxlUHJvcGVydHkuVVNFX0lOVEVSSU1fVElMRVNfT05fRVJST1IsIHVzZUludGVyaW1UaWxlc09uRXJyb3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkYXRhIGZvciBhIHBpeGVsIGxvY2F0aW9uLiAgVGhlIHJldHVybiB0eXBlIGRlcGVuZHMgb24gdGhlIHNvdXJjZSBkYXRhLiAgRm9yIGltYWdlIHRpbGVzLFxuICAgKiBhIGZvdXIgZWxlbWVudCBSR0JBIGFycmF5IHdpbGwgYmUgcmV0dXJuZWQuICBGb3IgZGF0YSB0aWxlcywgdGhlIGFycmF5IGxlbmd0aCB3aWxsIG1hdGNoIHRoZVxuICAgKiBudW1iZXIgb2YgYmFuZHMgaW4gdGhlIGRhdGFzZXQuICBGb3IgcmVxdWVzdHMgb3V0c2lkZSB0aGUgbGF5ZXIgZXh0ZW50LCBgbnVsbGAgd2lsbCBiZSByZXR1cm5lZC5cbiAgICogRGF0YSBmb3IgYSBpbWFnZSB0aWxlcyBjYW4gb25seSBiZSByZXRyaWV2ZWQgaWYgdGhlIHNvdXJjZSdzIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgaXMgc2V0LlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBkaXNwbGF5IGxheWVyIGRhdGEgb24gZXZlcnkgcG9pbnRlciBtb3ZlXG4gICAqIG1hcC5vbigncG9pbnRlcm1vdmUnLCAoZXZlbnQpID0+IHtcbiAgICogICBjb25zb2xlLmxvZyhsYXllci5nZXREYXRhKGV2ZW50LnBpeGVsKSk7XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbFwiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fFVpbnQ4QXJyYXl8RmxvYXQzMkFycmF5fERhdGFWaWV3fG51bGx9IFBpeGVsIGRhdGEuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldERhdGEocGl4ZWwpIHtcbiAgICByZXR1cm4gc3VwZXIuZ2V0RGF0YShwaXhlbCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFzZVRpbGVMYXllcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9UaWxlXG4gKi9cbmltcG9ydCBCYXNlVGlsZUxheWVyIGZyb20gJy4vQmFzZVRpbGUuanMnO1xuaW1wb3J0IENhbnZhc1RpbGVMYXllclJlbmRlcmVyIGZyb20gJy4uL3JlbmRlcmVyL2NhbnZhcy9UaWxlTGF5ZXIuanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEZvciBsYXllciBzb3VyY2VzIHRoYXQgcHJvdmlkZSBwcmUtcmVuZGVyZWQsIHRpbGVkIGltYWdlcyBpbiBncmlkcyB0aGF0IGFyZVxuICogb3JnYW5pemVkIGJ5IHpvb20gbGV2ZWxzIGZvciBzcGVjaWZpYyByZXNvbHV0aW9ucy5cbiAqIE5vdGUgdGhhdCBhbnkgcHJvcGVydHkgc2V0IGluIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9XG4gKiBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0OyBmb3IgZXhhbXBsZSwgc2V0dGluZyBgdGl0bGU6ICdNeSBUaXRsZSdgIGluIHRoZVxuICogb3B0aW9ucyBtZWFucyB0aGF0IGB0aXRsZWAgaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGVTb3VyY2VUeXBlXG4gKiBAZXh0ZW5kcyBCYXNlVGlsZUxheWVyPFRpbGVTb3VyY2VUeXBlLCBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcj5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgVGlsZUxheWVyIGV4dGVuZHMgQmFzZVRpbGVMYXllciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQmFzZVRpbGUuanNcIikuT3B0aW9uczxUaWxlU291cmNlVHlwZT59IFtvcHRpb25zXSBUaWxlIGxheWVyIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gIH1cblxuICBjcmVhdGVSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gbmV3IENhbnZhc1RpbGVMYXllclJlbmRlcmVyKHRoaXMpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVMYXllcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9UaWxlUHJvcGVydHlcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgUFJFTE9BRDogJ3ByZWxvYWQnLFxuICBVU0VfSU5URVJJTV9USUxFU19PTl9FUlJPUjogJ3VzZUludGVyaW1UaWxlc09uRXJyb3InLFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uSW1hZ2VcbiAqL1xuXG5pbXBvcnQgRXZlbnRUYXJnZXQgZnJvbSAnLi4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQge2FzU3RyaW5nfSBmcm9tICcuLi9jb2xvci5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vZG9tLmpzJztcbmltcG9ydCB7c2hhcmVkIGFzIGljb25JbWFnZUNhY2hlfSBmcm9tICcuL0ljb25JbWFnZUNhY2hlLmpzJztcbmltcG9ydCB7bGlzdGVuSW1hZ2V9IGZyb20gJy4uL0ltYWdlLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICovXG5sZXQgdGFpbnRlZFRlc3RDb250ZXh0ID0gbnVsbDtcblxuY2xhc3MgSWNvbkltYWdlIGV4dGVuZHMgRXZlbnRUYXJnZXQge1xuICAvKipcbiAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBpbWFnZSBJbWFnZS5cbiAgICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBzcmMgU3JjLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IGltYWdlU3RhdGUgSW1hZ2Ugc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICAgKi9cbiAgY29uc3RydWN0b3IoaW1hZ2UsIHNyYywgc2l6ZSwgY3Jvc3NPcmlnaW4sIGltYWdlU3RhdGUsIGNvbG9yKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlXyA9IGltYWdlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5jcm9zc09yaWdpbl8gPSBjcm9zc09yaWdpbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxudW1iZXIsIEhUTUxDYW52YXNFbGVtZW50Pn1cbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhc18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfVxuICAgICAqL1xuICAgIHRoaXMuY29sb3JfID0gY29sb3I7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/ZnVuY3Rpb24oKTp2b2lkfVxuICAgICAqL1xuICAgIHRoaXMudW5saXN0ZW5fID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlU3RhdGVfID0gaW1hZ2VTdGF0ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLnNpemVfID0gc2l6ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5zcmNfID0gc3JjO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRhaW50ZWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpbml0aWFsaXplSW1hZ2VfKCkge1xuICAgIHRoaXMuaW1hZ2VfID0gbmV3IEltYWdlKCk7XG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW5fICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmltYWdlXy5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW5fO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgaW1hZ2UgY2FudmFzIGlzIHRhaW50ZWQuXG4gICAqL1xuICBpc1RhaW50ZWRfKCkge1xuICAgIGlmICh0aGlzLnRhaW50ZWRfID09PSB1bmRlZmluZWQgJiYgdGhpcy5pbWFnZVN0YXRlXyA9PT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgIGlmICghdGFpbnRlZFRlc3RDb250ZXh0KSB7XG4gICAgICAgIHRhaW50ZWRUZXN0Q29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICB3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGFpbnRlZFRlc3RDb250ZXh0LmRyYXdJbWFnZSh0aGlzLmltYWdlXywgMCwgMCk7XG4gICAgICB0cnkge1xuICAgICAgICB0YWludGVkVGVzdENvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIDEsIDEpO1xuICAgICAgICB0aGlzLnRhaW50ZWRfID0gZmFsc2U7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRhaW50ZWRUZXN0Q29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMudGFpbnRlZF8gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy50YWludGVkXyA9PT0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGlzcGF0Y2hDaGFuZ2VFdmVudF8oKSB7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5DSEFOR0UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVJbWFnZUVycm9yXygpIHtcbiAgICB0aGlzLmltYWdlU3RhdGVfID0gSW1hZ2VTdGF0ZS5FUlJPUjtcbiAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgdGhpcy5kaXNwYXRjaENoYW5nZUV2ZW50XygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVJbWFnZUxvYWRfKCkge1xuICAgIHRoaXMuaW1hZ2VTdGF0ZV8gPSBJbWFnZVN0YXRlLkxPQURFRDtcbiAgICBpZiAodGhpcy5zaXplXykge1xuICAgICAgdGhpcy5pbWFnZV8ud2lkdGggPSB0aGlzLnNpemVfWzBdO1xuICAgICAgdGhpcy5pbWFnZV8uaGVpZ2h0ID0gdGhpcy5zaXplX1sxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaXplXyA9IFt0aGlzLmltYWdlXy53aWR0aCwgdGhpcy5pbWFnZV8uaGVpZ2h0XTtcbiAgICB9XG4gICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgIHRoaXMuZGlzcGF0Y2hDaGFuZ2VFdmVudF8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2Ugb3IgQ2FudmFzIGVsZW1lbnQuXG4gICAqL1xuICBnZXRJbWFnZShwaXhlbFJhdGlvKSB7XG4gICAgaWYgKCF0aGlzLmltYWdlXykge1xuICAgICAgdGhpcy5pbml0aWFsaXplSW1hZ2VfKCk7XG4gICAgfVxuICAgIHRoaXMucmVwbGFjZUNvbG9yXyhwaXhlbFJhdGlvKTtcbiAgICByZXR1cm4gdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dID8gdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dIDogdGhpcy5pbWFnZV87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEByZXR1cm4ge251bWJlcn0gSW1hZ2Ugb3IgQ2FudmFzIGVsZW1lbnQuXG4gICAqL1xuICBnZXRQaXhlbFJhdGlvKHBpeGVsUmF0aW8pIHtcbiAgICB0aGlzLnJlcGxhY2VDb2xvcl8ocGl4ZWxSYXRpbyk7XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzX1twaXhlbFJhdGlvXSA/IHBpeGVsUmF0aW8gOiAxO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gSW1hZ2Ugc3RhdGUuXG4gICAqL1xuICBnZXRJbWFnZVN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLmltYWdlU3RhdGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIGVsZW1lbnQuXG4gICAqL1xuICBnZXRIaXREZXRlY3Rpb25JbWFnZSgpIHtcbiAgICBpZiAoIXRoaXMuaW1hZ2VfKSB7XG4gICAgICB0aGlzLmluaXRpYWxpemVJbWFnZV8oKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmhpdERldGVjdGlvbkltYWdlXykge1xuICAgICAgaWYgKHRoaXMuaXNUYWludGVkXygpKSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zaXplX1swXTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5zaXplX1sxXTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8gPSBjb250ZXh0LmNhbnZhcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gdGhpcy5pbWFnZV87XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhpdERldGVjdGlvbkltYWdlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIGljb24gKGluIHBpeGVscykuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gSW1hZ2Ugc2l6ZS5cbiAgICovXG4gIGdldFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2l6ZV87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gSW1hZ2Ugc3JjLlxuICAgKi9cbiAgZ2V0U3JjKCkge1xuICAgIHJldHVybiB0aGlzLnNyY187XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBub3QgeWV0IGxvYWRlZCBVUkkuXG4gICAqL1xuICBsb2FkKCkge1xuICAgIGlmICh0aGlzLmltYWdlU3RhdGVfICE9PSBJbWFnZVN0YXRlLklETEUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmltYWdlXykge1xuICAgICAgdGhpcy5pbml0aWFsaXplSW1hZ2VfKCk7XG4gICAgfVxuXG4gICAgdGhpcy5pbWFnZVN0YXRlXyA9IEltYWdlU3RhdGUuTE9BRElORztcbiAgICB0cnkge1xuICAgICAgLyoqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fSAqLyAodGhpcy5pbWFnZV8pLnNyYyA9IHRoaXMuc3JjXztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmhhbmRsZUltYWdlRXJyb3JfKCk7XG4gICAgfVxuICAgIHRoaXMudW5saXN0ZW5fID0gbGlzdGVuSW1hZ2UoXG4gICAgICB0aGlzLmltYWdlXyxcbiAgICAgIHRoaXMuaGFuZGxlSW1hZ2VMb2FkXy5iaW5kKHRoaXMpLFxuICAgICAgdGhpcy5oYW5kbGVJbWFnZUVycm9yXy5iaW5kKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlcGxhY2VDb2xvcl8ocGl4ZWxSYXRpbykge1xuICAgIGlmIChcbiAgICAgICF0aGlzLmNvbG9yXyB8fFxuICAgICAgdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dIHx8XG4gICAgICB0aGlzLmltYWdlU3RhdGVfICE9PSBJbWFnZVN0YXRlLkxPQURFRFxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGltYWdlID0gdGhpcy5pbWFnZV87XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKGltYWdlLndpZHRoICogcGl4ZWxSYXRpbyk7XG4gICAgY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbChpbWFnZS5oZWlnaHQgKiBwaXhlbFJhdGlvKTtcblxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5zY2FsZShwaXhlbFJhdGlvLCBwaXhlbFJhdGlvKTtcbiAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcblxuICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbXVsdGlwbHknO1xuICAgIGN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyh0aGlzLmNvbG9yXyk7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCAvIHBpeGVsUmF0aW8sIGNhbnZhcy5oZWlnaHQgLyBwaXhlbFJhdGlvKTtcblxuICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24taW4nO1xuICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuXG4gICAgdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dID0gY2FudmFzO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2NhcmRzIGV2ZW50IGhhbmRsZXJzIHdoaWNoIGxpc3RlbiBmb3IgbG9hZCBjb21wbGV0aW9uIG9yIGVycm9ycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHVubGlzdGVuSW1hZ2VfKCkge1xuICAgIGlmICh0aGlzLnVubGlzdGVuXykge1xuICAgICAgdGhpcy51bmxpc3Rlbl8oKTtcbiAgICAgIHRoaXMudW5saXN0ZW5fID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTcmMuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gaW1hZ2VTdGF0ZSBJbWFnZSBzdGF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7SWNvbkltYWdlfSBJY29uIGltYWdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGltYWdlLCBzcmMsIHNpemUsIGNyb3NzT3JpZ2luLCBpbWFnZVN0YXRlLCBjb2xvcikge1xuICBsZXQgaWNvbkltYWdlID0gaWNvbkltYWdlQ2FjaGUuZ2V0KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKTtcbiAgaWYgKCFpY29uSW1hZ2UpIHtcbiAgICBpY29uSW1hZ2UgPSBuZXcgSWNvbkltYWdlKGltYWdlLCBzcmMsIHNpemUsIGNyb3NzT3JpZ2luLCBpbWFnZVN0YXRlLCBjb2xvcik7XG4gICAgaWNvbkltYWdlQ2FjaGUuc2V0KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yLCBpY29uSW1hZ2UpO1xuICB9XG4gIHJldHVybiBpY29uSW1hZ2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEljb25JbWFnZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuLi9JbWFnZVN0YXRlLmpzJztcbmltcG9ydCBJbWFnZVN0eWxlIGZyb20gJy4vSW1hZ2UuanMnO1xuaW1wb3J0IHthc0FycmF5fSBmcm9tICcuLi9jb2xvci5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge2dldCBhcyBnZXRJY29uSW1hZ2V9IGZyb20gJy4vSWNvbkltYWdlLmpzJztcbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi91dGlsLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7J2ZyYWN0aW9uJyB8ICdwaXhlbHMnfSBJY29uQW5jaG9yVW5pdHNcbiAqIEFuY2hvciB1bml0IGNhbiBiZSBlaXRoZXIgYSBmcmFjdGlvbiBvZiB0aGUgaWNvbiBzaXplIG9yIGluIHBpeGVscy5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsnYm90dG9tLWxlZnQnIHwgJ2JvdHRvbS1yaWdodCcgfCAndG9wLWxlZnQnIHwgJ3RvcC1yaWdodCd9IEljb25PcmlnaW5cbiAqIEljb24gb3JpZ2luLiBPbmUgb2YgJ2JvdHRvbS1sZWZ0JywgJ2JvdHRvbS1yaWdodCcsICd0b3AtbGVmdCcsICd0b3AtcmlnaHQnLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbYW5jaG9yPVswLjUsIDAuNV1dIEFuY2hvci4gRGVmYXVsdCB2YWx1ZSBpcyB0aGUgaWNvbiBjZW50ZXIuXG4gKiBAcHJvcGVydHkge0ljb25PcmlnaW59IFthbmNob3JPcmlnaW49J3RvcC1sZWZ0J10gT3JpZ2luIG9mIHRoZSBhbmNob3I6IGBib3R0b20tbGVmdGAsIGBib3R0b20tcmlnaHRgLFxuICogYHRvcC1sZWZ0YCBvciBgdG9wLXJpZ2h0YC5cbiAqIEBwcm9wZXJ0eSB7SWNvbkFuY2hvclVuaXRzfSBbYW5jaG9yWFVuaXRzPSdmcmFjdGlvbiddIFVuaXRzIGluIHdoaWNoIHRoZSBhbmNob3IgeCB2YWx1ZSBpc1xuICogc3BlY2lmaWVkLiBBIHZhbHVlIG9mIGAnZnJhY3Rpb24nYCBpbmRpY2F0ZXMgdGhlIHggdmFsdWUgaXMgYSBmcmFjdGlvbiBvZiB0aGUgaWNvbi4gQSB2YWx1ZSBvZiBgJ3BpeGVscydgIGluZGljYXRlc1xuICogdGhlIHggdmFsdWUgaW4gcGl4ZWxzLlxuICogQHByb3BlcnR5IHtJY29uQW5jaG9yVW5pdHN9IFthbmNob3JZVW5pdHM9J2ZyYWN0aW9uJ10gVW5pdHMgaW4gd2hpY2ggdGhlIGFuY2hvciB5IHZhbHVlIGlzXG4gKiBzcGVjaWZpZWQuIEEgdmFsdWUgb2YgYCdmcmFjdGlvbidgIGluZGljYXRlcyB0aGUgeSB2YWx1ZSBpcyBhIGZyYWN0aW9uIG9mIHRoZSBpY29uLiBBIHZhbHVlIG9mIGAncGl4ZWxzJ2AgaW5kaWNhdGVzXG4gKiB0aGUgeSB2YWx1ZSBpbiBwaXhlbHMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfHN0cmluZ30gW2NvbG9yXSBDb2xvciB0byB0aW50IHRoZSBpY29uLiBJZiBub3Qgc3BlY2lmaWVkLFxuICogdGhlIGljb24gd2lsbCBiZSBsZWZ0IGFzIGlzLlxuICogQHByb3BlcnR5IHtudWxsfHN0cmluZ30gW2Nyb3NzT3JpZ2luXSBUaGUgYGNyb3NzT3JpZ2luYCBhdHRyaWJ1dGUgZm9yIGxvYWRlZCBpbWFnZXMuIE5vdGUgdGhhdCB5b3UgbXVzdCBwcm92aWRlIGFcbiAqIGBjcm9zc09yaWdpbmAgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gW2ltZ10gSW1hZ2Ugb2JqZWN0IGZvciB0aGUgaWNvbi4gSWYgdGhlIGBzcmNgIG9wdGlvbiBpcyBub3QgcHJvdmlkZWQgdGhlbiB0aGVcbiAqIHByb3ZpZGVkIGltYWdlIG11c3QgYWxyZWFkeSBiZSBsb2FkZWQuIEFuZCBpbiB0aGF0IGNhc2UsIGl0IGlzIHJlcXVpcmVkXG4gKiB0byBwcm92aWRlIHRoZSBzaXplIG9mIHRoZSBpbWFnZSwgd2l0aCB0aGUgYGltZ1NpemVgIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbaW1nU2l6ZV0gSW1hZ2Ugc2l6ZSBpbiBwaXhlbHMuIE9ubHkgcmVxdWlyZWQgaWYgYGltZ2AgaXMgc2V0IGFuZCBgc3JjYCBpcyBub3QuXG4gKiBUaGUgcHJvdmlkZWQgYGltZ1NpemVgIG5lZWRzIHRvIG1hdGNoIHRoZSBhY3R1YWwgc2l6ZSBvZiB0aGUgaW1hZ2UuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtkaXNwbGFjZW1lbnQ9WzAsIDBdXSBEaXNwbGFjZW1lbnQgb2YgdGhlIGljb24gaW4gcGl4ZWxzLlxuICogUG9zaXRpdmUgdmFsdWVzIHdpbGwgc2hpZnQgdGhlIGljb24gcmlnaHQgYW5kIHVwLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgb2YgdGhlIGljb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3dpZHRoXSBUaGUgd2lkdGggb2YgdGhlIGljb24gaW4gcGl4ZWxzLiBUaGlzIGNhbid0IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBgc2NhbGVgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtoZWlnaHRdIFRoZSBoZWlnaHQgb2YgdGhlIGljb24gaW4gcGl4ZWxzLiBUaGlzIGNhbid0IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBgc2NhbGVgLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2NhbGU9MV0gU2NhbGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyb3RhdGVXaXRoVmlldz1mYWxzZV0gV2hldGhlciB0byByb3RhdGUgdGhlIGljb24gd2l0aCB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb249MF0gUm90YXRpb24gaW4gcmFkaWFucyAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlKS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW29mZnNldD1bMCwgMF1dIE9mZnNldCB3aGljaCwgdG9nZXRoZXIgd2l0aCBgc2l6ZWAgYW5kIGBvZmZzZXRPcmlnaW5gLCBkZWZpbmVzIHRoZVxuICogc3ViLXJlY3RhbmdsZSB0byB1c2UgZnJvbSB0aGUgb3JpZ2luYWwgKHNwcml0ZSkgaW1hZ2UuXG4gKiBAcHJvcGVydHkge0ljb25PcmlnaW59IFtvZmZzZXRPcmlnaW49J3RvcC1sZWZ0J10gT3JpZ2luIG9mIHRoZSBvZmZzZXQ6IGBib3R0b20tbGVmdGAsIGBib3R0b20tcmlnaHRgLFxuICogYHRvcC1sZWZ0YCBvciBgdG9wLXJpZ2h0YC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2l6ZV0gSWNvbiBzaXplIGluIHBpeGVscy4gVXNlZCB0b2dldGhlciB3aXRoIGBvZmZzZXRgIHRvIGRlZmluZSB0aGVcbiAqIHN1Yi1yZWN0YW5nbGUgdG8gdXNlIGZyb20gdGhlIG9yaWdpbmFsIChzcHJpdGUpIGltYWdlLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzcmNdIEltYWdlIHNvdXJjZSBVUkkuXG4gKiBAcHJvcGVydHkge1wiZGVjbHV0dGVyXCJ8XCJvYnN0YWNsZVwifFwibm9uZVwifHVuZGVmaW5lZH0gW2RlY2x1dHRlck1vZGVdIERlY2x1dHRlciBtb2RlLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IGljb24gc3R5bGUgZm9yIHZlY3RvciBmZWF0dXJlcy5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgSWNvbiBleHRlbmRzIEltYWdlU3R5bGUge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgY29uc3Qgb3BhY2l0eSA9IG9wdGlvbnMub3BhY2l0eSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vcGFjaXR5IDogMTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgY29uc3Qgcm90YXRpb24gPSBvcHRpb25zLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0aW9uIDogMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIGNvbnN0IHNjYWxlID0gb3B0aW9ucy5zY2FsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zY2FsZSA6IDE7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjb25zdCByb3RhdGVXaXRoVmlldyA9XG4gICAgICBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3IDogZmFsc2U7XG5cbiAgICBzdXBlcih7XG4gICAgICBvcGFjaXR5OiBvcGFjaXR5LFxuICAgICAgcm90YXRpb246IHJvdGF0aW9uLFxuICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgZGlzcGxhY2VtZW50OlxuICAgICAgICBvcHRpb25zLmRpc3BsYWNlbWVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kaXNwbGFjZW1lbnQgOiBbMCwgMF0sXG4gICAgICByb3RhdGVXaXRoVmlldzogcm90YXRlV2l0aFZpZXcsXG4gICAgICBkZWNsdXR0ZXJNb2RlOiBvcHRpb25zLmRlY2x1dHRlck1vZGUsXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuYW5jaG9yXyA9IG9wdGlvbnMuYW5jaG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmFuY2hvciA6IFswLjUsIDAuNV07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMubm9ybWFsaXplZEFuY2hvcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SWNvbk9yaWdpbn1cbiAgICAgKi9cbiAgICB0aGlzLmFuY2hvck9yaWdpbl8gPVxuICAgICAgb3B0aW9ucy5hbmNob3JPcmlnaW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5jaG9yT3JpZ2luIDogJ3RvcC1sZWZ0JztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0ljb25BbmNob3JVbml0c31cbiAgICAgKi9cbiAgICB0aGlzLmFuY2hvclhVbml0c18gPVxuICAgICAgb3B0aW9ucy5hbmNob3JYVW5pdHMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5jaG9yWFVuaXRzIDogJ2ZyYWN0aW9uJztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0ljb25BbmNob3JVbml0c31cbiAgICAgKi9cbiAgICB0aGlzLmFuY2hvcllVbml0c18gPVxuICAgICAgb3B0aW9ucy5hbmNob3JZVW5pdHMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5jaG9yWVVuaXRzIDogJ2ZyYWN0aW9uJztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9zdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5jcm9zc09yaWdpbl8gPVxuICAgICAgb3B0aW9ucy5jcm9zc09yaWdpbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jcm9zc09yaWdpbiA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICBjb25zdCBpbWFnZSA9IG9wdGlvbnMuaW1nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmltZyA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuaW1nU2l6ZV8gPSBvcHRpb25zLmltZ1NpemU7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICBsZXQgc3JjID0gb3B0aW9ucy5zcmM7XG5cbiAgICBhc3NlcnQoIShzcmMgIT09IHVuZGVmaW5lZCAmJiBpbWFnZSksIDQpOyAvLyBgaW1hZ2VgIGFuZCBgc3JjYCBjYW5ub3QgYmUgcHJvdmlkZWQgYXQgdGhlIHNhbWUgdGltZVxuICAgIGFzc2VydCghaW1hZ2UgfHwgKGltYWdlICYmIHRoaXMuaW1nU2l6ZV8pLCA1KTsgLy8gYGltZ1NpemVgIG11c3QgYmUgc2V0IHdoZW4gYGltYWdlYCBpcyBwcm92aWRlZFxuXG4gICAgaWYgKChzcmMgPT09IHVuZGVmaW5lZCB8fCBzcmMubGVuZ3RoID09PSAwKSAmJiBpbWFnZSkge1xuICAgICAgc3JjID0gLyoqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fSAqLyAoaW1hZ2UpLnNyYyB8fCBnZXRVaWQoaW1hZ2UpO1xuICAgIH1cbiAgICBhc3NlcnQoc3JjICE9PSB1bmRlZmluZWQgJiYgc3JjLmxlbmd0aCA+IDAsIDYpOyAvLyBBIGRlZmluZWQgYW5kIG5vbi1lbXB0eSBgc3JjYCBvciBgaW1hZ2VgIG11c3QgYmUgcHJvdmlkZWRcblxuICAgIC8vIGB3aWR0aGAgb3IgYGhlaWdodGAgY2Fubm90IGJlIHByb3ZpZGVkIHRvZ2V0aGVyIHdpdGggYHNjYWxlYFxuICAgIGFzc2VydChcbiAgICAgICEoXG4gICAgICAgIChvcHRpb25zLndpZHRoICE9PSB1bmRlZmluZWQgfHwgb3B0aW9ucy5oZWlnaHQgIT09IHVuZGVmaW5lZCkgJiZcbiAgICAgICAgb3B0aW9ucy5zY2FsZSAhPT0gdW5kZWZpbmVkXG4gICAgICApLFxuICAgICAgNjlcbiAgICApO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICBjb25zdCBpbWFnZVN0YXRlID1cbiAgICAgIG9wdGlvbnMuc3JjICE9PSB1bmRlZmluZWQgPyBJbWFnZVN0YXRlLklETEUgOiBJbWFnZVN0YXRlLkxPQURFRDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfVxuICAgICAqL1xuICAgIHRoaXMuY29sb3JfID0gb3B0aW9ucy5jb2xvciAhPT0gdW5kZWZpbmVkID8gYXNBcnJheShvcHRpb25zLmNvbG9yKSA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ljb25JbWFnZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuaWNvbkltYWdlXyA9IGdldEljb25JbWFnZShcbiAgICAgIGltYWdlLFxuICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovIChzcmMpLFxuICAgICAgdGhpcy5pbWdTaXplXyAhPT0gdW5kZWZpbmVkID8gdGhpcy5pbWdTaXplXyA6IG51bGwsXG4gICAgICB0aGlzLmNyb3NzT3JpZ2luXyxcbiAgICAgIGltYWdlU3RhdGUsXG4gICAgICB0aGlzLmNvbG9yX1xuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMub2Zmc2V0XyA9IG9wdGlvbnMub2Zmc2V0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9mZnNldCA6IFswLCAwXTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtJY29uT3JpZ2lufVxuICAgICAqL1xuICAgIHRoaXMub2Zmc2V0T3JpZ2luXyA9XG4gICAgICBvcHRpb25zLm9mZnNldE9yaWdpbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vZmZzZXRPcmlnaW4gOiAndG9wLWxlZnQnO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWdpbl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMuc2l6ZV8gPSBvcHRpb25zLnNpemUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2l6ZSA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLndpZHRoXyA9IG9wdGlvbnMud2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodF8gPSBvcHRpb25zLmhlaWdodDtcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlIHRoZSBzY2FsZSBpZiB3aWR0aCBvciBoZWlnaHQgd2hlcmUgZ2l2ZW4uXG4gICAgICovXG4gICAgaWYgKHRoaXMud2lkdGhfICE9PSB1bmRlZmluZWQgfHwgdGhpcy5oZWlnaHRfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5nZXRJbWFnZSgxKTtcbiAgICAgIGNvbnN0IHNldFNjYWxlID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZVNjYWxlRnJvbVdpZHRoQW5kSGVpZ2h0KHRoaXMud2lkdGhfLCB0aGlzLmhlaWdodF8pO1xuICAgICAgfTtcbiAgICAgIGlmIChpbWFnZS53aWR0aCA+IDApIHtcbiAgICAgICAgdGhpcy51cGRhdGVTY2FsZUZyb21XaWR0aEFuZEhlaWdodCh0aGlzLndpZHRoXywgdGhpcy5oZWlnaHRfKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBzZXRTY2FsZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgc3R5bGUuIFRoZSB1bmRlcmx5aW5nIEltYWdlL0hUTUxDYW52YXNFbGVtZW50IGlzIG5vdCBjbG9uZWQuXG4gICAqIEByZXR1cm4ge0ljb259IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGNsb25lKCkge1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgIHJldHVybiBuZXcgSWNvbih7XG4gICAgICBhbmNob3I6IHRoaXMuYW5jaG9yXy5zbGljZSgpLFxuICAgICAgYW5jaG9yT3JpZ2luOiB0aGlzLmFuY2hvck9yaWdpbl8sXG4gICAgICBhbmNob3JYVW5pdHM6IHRoaXMuYW5jaG9yWFVuaXRzXyxcbiAgICAgIGFuY2hvcllVbml0czogdGhpcy5hbmNob3JZVW5pdHNfLFxuICAgICAgY29sb3I6XG4gICAgICAgIHRoaXMuY29sb3JfICYmIHRoaXMuY29sb3JfLnNsaWNlXG4gICAgICAgICAgPyB0aGlzLmNvbG9yXy5zbGljZSgpXG4gICAgICAgICAgOiB0aGlzLmNvbG9yXyB8fCB1bmRlZmluZWQsXG4gICAgICBjcm9zc09yaWdpbjogdGhpcy5jcm9zc09yaWdpbl8sXG4gICAgICBpbWdTaXplOiB0aGlzLmltZ1NpemVfLFxuICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldF8uc2xpY2UoKSxcbiAgICAgIG9mZnNldE9yaWdpbjogdGhpcy5vZmZzZXRPcmlnaW5fLFxuICAgICAgb3BhY2l0eTogdGhpcy5nZXRPcGFjaXR5KCksXG4gICAgICByb3RhdGVXaXRoVmlldzogdGhpcy5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKSxcbiAgICAgIHNjYWxlOiBBcnJheS5pc0FycmF5KHNjYWxlKSA/IHNjYWxlLnNsaWNlKCkgOiBzY2FsZSxcbiAgICAgIHNpemU6IHRoaXMuc2l6ZV8gIT09IG51bGwgPyB0aGlzLnNpemVfLnNsaWNlKCkgOiB1bmRlZmluZWQsXG4gICAgICBzcmM6IHRoaXMuZ2V0U3JjKCksXG4gICAgICBkaXNwbGFjZW1lbnQ6IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCkuc2xpY2UoKSxcbiAgICAgIGRlY2x1dHRlck1vZGU6IHRoaXMuZ2V0RGVjbHV0dGVyTW9kZSgpLFxuICAgICAgd2lkdGg6IHRoaXMud2lkdGhfLFxuICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodF8sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzY2FsZSBvZiB0aGUgSWNvbiBieSBjYWxjdWxhdGluZyBpdCBmcm9tIGdpdmVuIHdpZHRoIGFuZCBoZWlnaHQgYW5kIHRoZVxuICAgKiB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBpbWFnZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFRoZSB3aWR0aC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBUaGUgaGVpZ2h0LlxuICAgKi9cbiAgdXBkYXRlU2NhbGVGcm9tV2lkdGhBbmRIZWlnaHQod2lkdGgsIGhlaWdodCkge1xuICAgIGNvbnN0IGltYWdlID0gdGhpcy5nZXRJbWFnZSgxKTtcbiAgICBpZiAod2lkdGggIT09IHVuZGVmaW5lZCAmJiBoZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3VwZXIuc2V0U2NhbGUoW3dpZHRoIC8gaW1hZ2Uud2lkdGgsIGhlaWdodCAvIGltYWdlLmhlaWdodF0pO1xuICAgIH0gZWxzZSBpZiAod2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3VwZXIuc2V0U2NhbGUoW3dpZHRoIC8gaW1hZ2Uud2lkdGgsIHdpZHRoIC8gaW1hZ2Uud2lkdGhdKTtcbiAgICB9IGVsc2UgaWYgKGhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdXBlci5zZXRTY2FsZShbaGVpZ2h0IC8gaW1hZ2UuaGVpZ2h0LCBoZWlnaHQgLyBpbWFnZS5oZWlnaHRdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VwZXIuc2V0U2NhbGUoWzEsIDFdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhbmNob3IgcG9pbnQgaW4gcGl4ZWxzLiBUaGUgYW5jaG9yIGRldGVybWluZXMgdGhlIGNlbnRlciBwb2ludCBmb3IgdGhlXG4gICAqIHN5bWJvbGl6ZXIuXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEFuY2hvci5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0QW5jaG9yKCkge1xuICAgIGxldCBhbmNob3IgPSB0aGlzLm5vcm1hbGl6ZWRBbmNob3JfO1xuICAgIGlmICghYW5jaG9yKSB7XG4gICAgICBhbmNob3IgPSB0aGlzLmFuY2hvcl87XG4gICAgICBjb25zdCBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuYW5jaG9yWFVuaXRzXyA9PSAnZnJhY3Rpb24nIHx8XG4gICAgICAgIHRoaXMuYW5jaG9yWVVuaXRzXyA9PSAnZnJhY3Rpb24nXG4gICAgICApIHtcbiAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgYW5jaG9yID0gdGhpcy5hbmNob3JfLnNsaWNlKCk7XG4gICAgICAgIGlmICh0aGlzLmFuY2hvclhVbml0c18gPT0gJ2ZyYWN0aW9uJykge1xuICAgICAgICAgIGFuY2hvclswXSAqPSBzaXplWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFuY2hvcllVbml0c18gPT0gJ2ZyYWN0aW9uJykge1xuICAgICAgICAgIGFuY2hvclsxXSAqPSBzaXplWzFdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmFuY2hvck9yaWdpbl8gIT0gJ3RvcC1sZWZ0Jykge1xuICAgICAgICBpZiAoIXNpemUpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5jaG9yID09PSB0aGlzLmFuY2hvcl8pIHtcbiAgICAgICAgICBhbmNob3IgPSB0aGlzLmFuY2hvcl8uc2xpY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5hbmNob3JPcmlnaW5fID09ICd0b3AtcmlnaHQnIHx8XG4gICAgICAgICAgdGhpcy5hbmNob3JPcmlnaW5fID09ICdib3R0b20tcmlnaHQnXG4gICAgICAgICkge1xuICAgICAgICAgIGFuY2hvclswXSA9IC1hbmNob3JbMF0gKyBzaXplWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLmFuY2hvck9yaWdpbl8gPT0gJ2JvdHRvbS1sZWZ0JyB8fFxuICAgICAgICAgIHRoaXMuYW5jaG9yT3JpZ2luXyA9PSAnYm90dG9tLXJpZ2h0J1xuICAgICAgICApIHtcbiAgICAgICAgICBhbmNob3JbMV0gPSAtYW5jaG9yWzFdICsgc2l6ZVsxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5ub3JtYWxpemVkQW5jaG9yXyA9IGFuY2hvcjtcbiAgICB9XG4gICAgY29uc3QgZGlzcGxhY2VtZW50ID0gdGhpcy5nZXREaXNwbGFjZW1lbnQoKTtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZ2V0U2NhbGVBcnJheSgpO1xuICAgIC8vIGFuY2hvciBpcyBzY2FsZWQgYnkgcmVuZGVyZXIgYnV0IGRpc3BsYWNlbWVudCBzaG91bGQgbm90IGJlIHNjYWxlZFxuICAgIC8vIHNvIGRpdmlkZSBieSBzY2FsZSBoZXJlXG4gICAgcmV0dXJuIFtcbiAgICAgIGFuY2hvclswXSAtIGRpc3BsYWNlbWVudFswXSAvIHNjYWxlWzBdLFxuICAgICAgYW5jaG9yWzFdICsgZGlzcGxhY2VtZW50WzFdIC8gc2NhbGVbMV0sXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludC4gVGhlIGFuY2hvciBkZXRlcm1pbmVzIHRoZSBjZW50ZXIgcG9pbnQgZm9yIHRoZVxuICAgKiBzeW1ib2xpemVyLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGFuY2hvciBBbmNob3IuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEFuY2hvcihhbmNob3IpIHtcbiAgICB0aGlzLmFuY2hvcl8gPSBhbmNob3I7XG4gICAgdGhpcy5ub3JtYWxpemVkQW5jaG9yXyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBpY29uIGNvbG9yLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn0gQ29sb3IuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLmNvbG9yXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGltYWdlIGljb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBJbWFnZSBvciBDYW52YXMgZWxlbWVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0SW1hZ2UocGl4ZWxSYXRpbykge1xuICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0SW1hZ2UocGl4ZWxSYXRpbyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHBpeGVsIHJhdGlvIG9mIHRoZSBpbWFnZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UGl4ZWxSYXRpbyhwaXhlbFJhdGlvKSB7XG4gICAgcmV0dXJuIHRoaXMuaWNvbkltYWdlXy5nZXRQaXhlbFJhdGlvKHBpeGVsUmF0aW8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gSW1hZ2Ugc2l6ZS5cbiAgICovXG4gIGdldEltYWdlU2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pY29uSW1hZ2VfLmdldFNpemUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0YXRlLlxuICAgKi9cbiAgZ2V0SW1hZ2VTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pY29uSW1hZ2VfLmdldEltYWdlU3RhdGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBJbWFnZSBlbGVtZW50LlxuICAgKi9cbiAgZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWNvbkltYWdlXy5nZXRIaXREZXRlY3Rpb25JbWFnZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgb3JpZ2luIG9mIHRoZSBzeW1ib2xpemVyLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPcmlnaW4uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE9yaWdpbigpIHtcbiAgICBpZiAodGhpcy5vcmlnaW5fKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcmlnaW5fO1xuICAgIH1cbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5vZmZzZXRfO1xuXG4gICAgaWYgKHRoaXMub2Zmc2V0T3JpZ2luXyAhPSAndG9wLWxlZnQnKSB7XG4gICAgICBjb25zdCBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgICBjb25zdCBpY29uSW1hZ2VTaXplID0gdGhpcy5pY29uSW1hZ2VfLmdldFNpemUoKTtcbiAgICAgIGlmICghc2l6ZSB8fCAhaWNvbkltYWdlU2l6ZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIG9mZnNldCA9IG9mZnNldC5zbGljZSgpO1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLm9mZnNldE9yaWdpbl8gPT0gJ3RvcC1yaWdodCcgfHxcbiAgICAgICAgdGhpcy5vZmZzZXRPcmlnaW5fID09ICdib3R0b20tcmlnaHQnXG4gICAgICApIHtcbiAgICAgICAgb2Zmc2V0WzBdID0gaWNvbkltYWdlU2l6ZVswXSAtIHNpemVbMF0gLSBvZmZzZXRbMF07XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMub2Zmc2V0T3JpZ2luXyA9PSAnYm90dG9tLWxlZnQnIHx8XG4gICAgICAgIHRoaXMub2Zmc2V0T3JpZ2luXyA9PSAnYm90dG9tLXJpZ2h0J1xuICAgICAgKSB7XG4gICAgICAgIG9mZnNldFsxXSA9IGljb25JbWFnZVNpemVbMV0gLSBzaXplWzFdIC0gb2Zmc2V0WzFdO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm9yaWdpbl8gPSBvZmZzZXQ7XG4gICAgcmV0dXJuIHRoaXMub3JpZ2luXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGltYWdlIFVSTC5cbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gSW1hZ2Ugc3JjLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRTcmMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWNvbkltYWdlXy5nZXRTcmMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIGljb24gKGluIHBpeGVscykuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gSW1hZ2Ugc2l6ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0U2l6ZSgpIHtcbiAgICByZXR1cm4gIXRoaXMuc2l6ZV8gPyB0aGlzLmljb25JbWFnZV8uZ2V0U2l6ZSgpIDogdGhpcy5zaXplXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHdpZHRoIG9mIHRoZSBpY29uIChpbiBwaXhlbHMpLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEljb24gd2lkdGggKGluIHBpeGVscykuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLndpZHRoXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGhlaWdodCBvZiB0aGUgaWNvbiAoaW4gcGl4ZWxzKS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBJY29uIGhlaWdodCAoaW4gcGl4ZWxzKS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0SGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLmhlaWdodF87XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB3aWR0aCBvZiB0aGUgaWNvbiBpbiBwaXhlbHMuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBUaGUgd2lkdGggdG8gc2V0LlxuICAgKi9cbiAgc2V0V2lkdGgod2lkdGgpIHtcbiAgICB0aGlzLndpZHRoXyA9IHdpZHRoO1xuICAgIHRoaXMudXBkYXRlU2NhbGVGcm9tV2lkdGhBbmRIZWlnaHQod2lkdGgsIHRoaXMuaGVpZ2h0Xyk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBoZWlnaHQgb2YgdGhlIGljb24gaW4gcGl4ZWxzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IFRoZSBoZWlnaHQgdG8gc2V0LlxuICAgKi9cbiAgc2V0SGVpZ2h0KGhlaWdodCkge1xuICAgIHRoaXMuaGVpZ2h0XyA9IGhlaWdodDtcbiAgICB0aGlzLnVwZGF0ZVNjYWxlRnJvbVdpZHRoQW5kSGVpZ2h0KHRoaXMud2lkdGhfLCBoZWlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc2NhbGUgYW5kIHVwZGF0ZXMgdGhlIHdpZHRoIGFuZCBoZWlnaHQgY29ycmVzcG9uZGluZ2x5LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNjYWxlIFNjYWxlLlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U2NhbGUoc2NhbGUpIHtcbiAgICBzdXBlci5zZXRTY2FsZShzY2FsZSk7XG4gICAgY29uc3QgaW1hZ2UgPSB0aGlzLmdldEltYWdlKDEpO1xuICAgIGlmIChpbWFnZSkge1xuICAgICAgY29uc3Qgd2lkdGhTY2FsZSA9IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGVbMF0gOiBzY2FsZTtcbiAgICAgIGlmICh3aWR0aFNjYWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy53aWR0aF8gPSB3aWR0aFNjYWxlICogaW1hZ2Uud2lkdGg7XG4gICAgICB9XG4gICAgICBjb25zdCBoZWlnaHRTY2FsZSA9IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGVbMV0gOiBzY2FsZTtcbiAgICAgIGlmIChoZWlnaHRTY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuaGVpZ2h0XyA9IGhlaWdodFNjYWxlICogaW1hZ2UuaGVpZ2h0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0KTogdm9pZH0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqL1xuICBsaXN0ZW5JbWFnZUNoYW5nZShsaXN0ZW5lcikge1xuICAgIHRoaXMuaWNvbkltYWdlXy5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICogV2hlbiByZW5kZXJpbmcgYSBmZWF0dXJlIHdpdGggYW4gaWNvbiBzdHlsZSwgdGhlIHZlY3RvciByZW5kZXJlciB3aWxsXG4gICAqIGF1dG9tYXRpY2FsbHkgY2FsbCB0aGlzIG1ldGhvZC4gSG93ZXZlciwgeW91IG1pZ2h0IHdhbnQgdG8gY2FsbCB0aGlzXG4gICAqIG1ldGhvZCB5b3Vyc2VsZiBmb3IgcHJlbG9hZGluZyBvciBvdGhlciBwdXJwb3Nlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgbG9hZCgpIHtcbiAgICB0aGlzLmljb25JbWFnZV8ubG9hZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICovXG4gIHVubGlzdGVuSW1hZ2VDaGFuZ2UobGlzdGVuZXIpIHtcbiAgICB0aGlzLmljb25JbWFnZV8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCBsaXN0ZW5lcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSWNvbjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9mbGF0XG4gKi9cblxuaW1wb3J0IENpcmNsZSBmcm9tICcuLi9zdHlsZS9DaXJjbGUuanMnO1xuaW1wb3J0IEZpbGwgZnJvbSAnLi9GaWxsLmpzJztcbmltcG9ydCBJY29uIGZyb20gJy4vSWNvbi5qcyc7XG5pbXBvcnQgUmVndWxhclNoYXBlIGZyb20gJy4vUmVndWxhclNoYXBlLmpzJztcbmltcG9ydCBTdHJva2UgZnJvbSAnLi9TdHJva2UuanMnO1xuaW1wb3J0IFN0eWxlIGZyb20gJy4vU3R5bGUuanMnO1xuaW1wb3J0IFRleHQgZnJvbSAnLi9UZXh0LmpzJztcblxuLyoqXG4gKiBGb3Igc3RhdGljIHN0eWxpbmcsIHRoZSBbbGF5ZXIuc2V0U3R5bGUoKV17QGxpbmsgbW9kdWxlOm9sL2xheWVyL1ZlY3Rvcn5WZWN0b3JMYXllciNzZXRTdHlsZX0gbWV0aG9kXG4gKiBjYW4gYmUgY2FsbGVkIHdpdGggYW4gb2JqZWN0IGxpdGVyYWwgdGhhdCBoYXMgZmlsbCwgc3Ryb2tlLCB0ZXh0LCBpY29uLCByZWd1bGFyIHNoYXBlLCBhbmQvb3IgY2lyY2xlIHByb3BlcnRpZXMuXG4gKiBAYXBpXG4gKlxuICogQHR5cGVkZWYge0ZsYXRGaWxsICYgRmxhdFN0cm9rZSAmIEZsYXRUZXh0ICYgRmxhdEljb24gJiBGbGF0U2hhcGUgJiBGbGF0Q2lyY2xlfSBGbGF0U3R5bGVcbiAqL1xuXG4vKipcbiAqIEEgZmxhdCBzdHlsZSBsaXRlcmFsIG9yIGFuIGFycmF5IG9mIHRoZSBzYW1lLlxuICpcbiAqIEB0eXBlZGVmIHtGbGF0U3R5bGV8QXJyYXk8RmxhdFN0eWxlPn0gRmxhdFN0eWxlTGlrZVxuICovXG5cbi8qKlxuICogRmlsbCBzdHlsZSBwcm9wZXJ0aWVzIGFwcGxpZWQgdG8gcG9seWdvbiBmZWF0dXJlcy5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGbGF0RmlsbFxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbZmlsbC1jb2xvcl0gVGhlIGZpbGwgY29sb3IuXG4gKi9cblxuLyoqXG4gKiBTdHJva2Ugc3R5bGUgcHJvcGVydGllcyBhcHBsaWVkIHRvIGxpbmUgc3RyaW5ncyBhbmQgcG9seWdvbiBib3VuZGFyaWVzLiAgVG8gYXBwbHkgYSBzdHJva2UsIGF0IGxlYXN0IG9uZSBvZlxuICogYHN0cm9rZS1jb2xvcmAgb3IgYHN0cm9rZS13aWR0aGAgbXVzdCBiZSBwcm92aWRlZC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGbGF0U3Ryb2tlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtzdHJva2UtY29sb3JdIFRoZSBzdHJva2UgY29sb3IuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3N0cm9rZS13aWR0aF0gU3Ryb2tlIHBpeGVsIHdpZHRoLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBbc3Ryb2tlLWxpbmUtY2FwPSdyb3VuZCddIExpbmUgY2FwIHN0eWxlOiBgYnV0dGAsIGByb3VuZGAsIG9yIGBzcXVhcmVgLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gW3N0cm9rZS1saW5lLWpvaW49J3JvdW5kJ10gTGluZSBqb2luIHN0eWxlOiBgYmV2ZWxgLCBgcm91bmRgLCBvciBgbWl0ZXJgLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbc3Ryb2tlLWxpbmUtZGFzaF0gTGluZSBkYXNoIHBhdHRlcm4uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3N0cm9rZS1saW5lLWRhc2gtb2Zmc2V0PTBdIExpbmUgZGFzaCBvZmZzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3N0cm9rZS1taXRlci1saW1pdD0xMF0gTWl0ZXIgbGltaXQuXG4gKi9cblxuLyoqXG4gKiBMYWJlbCBzdHlsZSBwcm9wZXJ0aWVzIGFwcGxpZWQgdG8gYWxsIGZlYXR1cmVzLiAgQXQgYSBtaW5pbXVtLCBhIGB0ZXh0LXZhbHVlYCBtdXN0IGJlIHByb3ZpZGVkLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZsYXRUZXh0XG4gKiBAcHJvcGVydHkge3N0cmluZ3xBcnJheTxzdHJpbmc+fSBbdGV4dC12YWx1ZV0gVGV4dCBjb250ZW50IG9yIHJpY2ggdGV4dCBjb250ZW50LiBGb3IgcGxhaW4gdGV4dCBwcm92aWRlIGEgc3RyaW5nLCB3aGljaCBjYW5cbiAqIGNvbnRhaW4gbGluZSBicmVha3MgKGBcXG5gKS4gRm9yIHJpY2ggdGV4dCBwcm92aWRlIGFuIGFycmF5IG9mIHRleHQvZm9udCB0dXBsZXMuIEEgdHVwbGUgY29uc2lzdHMgb2YgdGhlIHRleHQgdG9cbiAqIHJlbmRlciBhbmQgdGhlIGZvbnQgdG8gdXNlIChvciBgJydgIHRvIHVzZSB0aGUgdGV4dCBzdHlsZSdzIGZvbnQpLiBBIGxpbmUgYnJlYWsgaGFzIHRvIGJlIGEgc2VwYXJhdGUgdHVwbGUgKGkuZS4gYCdcXG4nLCAnJ2ApLlxuICogKipFeGFtcGxlOioqIGBbJ2ZvbycsICdib2xkIDEwcHggc2Fucy1zZXJpZicsICcgYmFyJywgJ2l0YWxpYyAxMHB4IHNhbnMtc2VyaWYnLCAnIGJheicsICcnXWAgd2lsbCB5aWVsZCBcIioqZm9vKiogKmJhciogYmF6XCIuXG4gKiAqKk5vdGU6KiogUmljaCB0ZXh0IGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHRoZSBpbW1lZGlhdGUgcmVuZGVyaW5nIEFQSS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdGV4dC1mb250XSBGb250IHN0eWxlIGFzIENTUyBgZm9udGAgdmFsdWUsIHNlZTpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZm9udC4gRGVmYXVsdCBpcyBgJzEwcHggc2Fucy1zZXJpZidgXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RleHQtbWF4LWFuZ2xlPU1hdGguUEkvNF0gV2hlbiBgdGV4dC1wbGFjZW1lbnRgIGlzIHNldCB0byBgJ2xpbmUnYCwgYWxsb3cgYSBtYXhpbXVtIGFuZ2xlIGJldHdlZW4gYWRqYWNlbnQgY2hhcmFjdGVycy5cbiAqIFRoZSBleHBlY3RlZCB2YWx1ZSBpcyBpbiByYWRpYW5zLCBhbmQgdGhlIGRlZmF1bHQgaXMgNDXCsCAoYE1hdGguUEkgLyA0YCkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RleHQtb2Zmc2V0LXg9MF0gSG9yaXpvbnRhbCB0ZXh0IG9mZnNldCBpbiBwaXhlbHMuIEEgcG9zaXRpdmUgd2lsbCBzaGlmdCB0aGUgdGV4dCByaWdodC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dC1vZmZzZXQteT0wXSBWZXJ0aWNhbCB0ZXh0IG9mZnNldCBpbiBwaXhlbHMuIEEgcG9zaXRpdmUgd2lsbCBzaGlmdCB0aGUgdGV4dCBkb3duLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdGV4dC1vdmVyZmxvdz1mYWxzZV0gRm9yIHBvbHlnb24gbGFiZWxzIG9yIHdoZW4gYHBsYWNlbWVudGAgaXMgc2V0IHRvIGAnbGluZSdgLCBhbGxvdyB0ZXh0IHRvIGV4Y2VlZFxuICogdGhlIHdpZHRoIG9mIHRoZSBwb2x5Z29uIGF0IHRoZSBsYWJlbCBwb3NpdGlvbiBvciB0aGUgbGVuZ3RoIG9mIHRoZSBwYXRoIHRoYXQgaXQgZm9sbG93cy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9UZXh0LmpzXCIpLlRleHRQbGFjZW1lbnR9IFt0ZXh0LXBsYWNlbWVudD0ncG9pbnQnXSBUZXh0IHBsYWNlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3RleHQtc2NhbGVdIFNjYWxlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdGV4dC1yb3RhdGUtd2l0aC12aWV3PWZhbHNlXSBXaGV0aGVyIHRvIHJvdGF0ZSB0aGUgdGV4dCB3aXRoIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0LXJvdGF0aW9uPTBdIFJvdGF0aW9uIGluIHJhZGlhbnMgKHBvc2l0aXZlIHJvdGF0aW9uIGNsb2Nrd2lzZSkuXG4gKiBAcHJvcGVydHkge0NhbnZhc1RleHRBbGlnbn0gW3RleHQtYWxpZ25dIFRleHQgYWxpZ25tZW50LiBQb3NzaWJsZSB2YWx1ZXM6IGAnbGVmdCdgLCBgJ3JpZ2h0J2AsIGAnY2VudGVyJ2AsIGAnZW5kJ2Agb3IgYCdzdGFydCdgLlxuICogRGVmYXVsdCBpcyBgJ2NlbnRlcidgIGZvciBgdGV4dC1wbGFjZW1lbnQ6ICdwb2ludCdgLiBGb3IgYHRleHQtcGxhY2VtZW50OiAnbGluZSdgLCB0aGUgZGVmYXVsdCBpcyB0byBsZXQgdGhlIHJlbmRlcmVyIGNob29zZSBhXG4gKiBwbGFjZW1lbnQgd2hlcmUgYHRleHQtbWF4LWFuZ2xlYCBpcyBub3QgZXhjZWVkZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydCgnLi9UZXh0LmpzJykuVGV4dEp1c3RpZnl9IFt0ZXh0LWp1c3RpZnldIFRleHQganVzdGlmaWNhdGlvbiB3aXRoaW4gdGhlIHRleHQgYm94LlxuICogSWYgbm90IHNldCwgdGV4dCBpcyBqdXN0aWZpZWQgdG93YXJkcyB0aGUgYHRleHRBbGlnbmAgYW5jaG9yLlxuICogT3RoZXJ3aXNlLCB1c2Ugb3B0aW9ucyBgJ2xlZnQnYCwgYCdjZW50ZXInYCwgb3IgYCdyaWdodCdgIHRvIGp1c3RpZnkgdGhlIHRleHQgd2l0aGluIHRoZSB0ZXh0IGJveC5cbiAqICoqTm90ZToqKiBgdGV4dC1qdXN0aWZ5YCBpcyBpZ25vcmVkIGZvciBpbW1lZGlhdGUgcmVuZGVyaW5nIGFuZCBhbHNvIGZvciBgdGV4dC1wbGFjZW1lbnQ6ICdsaW5lJ2AuXG4gKiBAcHJvcGVydHkge0NhbnZhc1RleHRCYXNlbGluZX0gW3RleHQtYmFzZWxpbmU9J21pZGRsZSddIFRleHQgYmFzZSBsaW5lLiBQb3NzaWJsZSB2YWx1ZXM6IGAnYm90dG9tJ2AsIGAndG9wJ2AsIGAnbWlkZGxlJ2AsIGAnYWxwaGFiZXRpYydgLFxuICogYCdoYW5naW5nJ2AsIGAnaWRlb2dyYXBoaWMnYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3RleHQtcGFkZGluZz1bMCwgMCwgMCwgMF1dIFBhZGRpbmcgaW4gcGl4ZWxzIGFyb3VuZCB0aGUgdGV4dCBmb3IgZGVjbHV0dGVyaW5nIGFuZCBiYWNrZ3JvdW5kLiBUaGUgb3JkZXIgb2ZcbiAqIHZhbHVlcyBpbiB0aGUgYXJyYXkgaXMgYFt0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnRdYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW3RleHQtZmlsbC1jb2xvcl0gVGhlIGZpbGwgY29sb3IuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFt0ZXh0LWJhY2tncm91bmQtZmlsbC1jb2xvcl0gVGhlIGZpbGwgY29sb3IuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFt0ZXh0LXN0cm9rZS1jb2xvcl0gVGhlIHN0cm9rZSBjb2xvci5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUNhcH0gW3RleHQtc3Ryb2tlLWxpbmUtY2FwPSdyb3VuZCddIExpbmUgY2FwIHN0eWxlOiBgYnV0dGAsIGByb3VuZGAsIG9yIGBzcXVhcmVgLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gW3RleHQtc3Ryb2tlLWxpbmUtam9pbj0ncm91bmQnXSBMaW5lIGpvaW4gc3R5bGU6IGBiZXZlbGAsIGByb3VuZGAsIG9yIGBtaXRlcmAuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFt0ZXh0LXN0cm9rZS1saW5lLWRhc2hdIExpbmUgZGFzaCBwYXR0ZXJuLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0LXN0cm9rZS1saW5lLWRhc2gtb2Zmc2V0PTBdIExpbmUgZGFzaCBvZmZzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RleHQtc3Ryb2tlLW1pdGVyLWxpbWl0PTEwXSBNaXRlciBsaW1pdC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dC1zdHJva2Utd2lkdGhdIFN0cm9rZSBwaXhlbCB3aWR0aC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW3RleHQtYmFja2dyb3VuZC1zdHJva2UtY29sb3JdIFRoZSBzdHJva2UgY29sb3IuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IFt0ZXh0LWJhY2tncm91bmQtc3Ryb2tlLWxpbmUtY2FwPSdyb3VuZCddIExpbmUgY2FwIHN0eWxlOiBgYnV0dGAsIGByb3VuZGAsIG9yIGBzcXVhcmVgLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gW3RleHQtYmFja2dyb3VuZC1zdHJva2UtbGluZS1qb2luPSdyb3VuZCddIExpbmUgam9pbiBzdHlsZTogYGJldmVsYCwgYHJvdW5kYCwgb3IgYG1pdGVyYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3RleHQtYmFja2dyb3VuZC1zdHJva2UtbGluZS1kYXNoXSBMaW5lIGRhc2ggcGF0dGVybi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dC1iYWNrZ3JvdW5kLXN0cm9rZS1saW5lLWRhc2gtb2Zmc2V0PTBdIExpbmUgZGFzaCBvZmZzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RleHQtYmFja2dyb3VuZC1zdHJva2UtbWl0ZXItbGltaXQ9MTBdIE1pdGVyIGxpbWl0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0LWJhY2tncm91bmQtc3Ryb2tlLXdpZHRoXSBTdHJva2UgcGl4ZWwgd2lkdGguXG4gKi9cblxuLyoqXG4gKiBJY29uIHN0eWxlIHByb3BlcnRpZXMgYXBwbGllZCB0byBwb2ludCBmZWF0dXJlcy4gIE9uZSBvZiBgaWNvbi1zcmNgIG9yIGBpY29uLWltZ2AgbXVzdCBiZSBwcm92aWRlZCB0byByZW5kZXJcbiAqIHBvaW50cyB3aXRoIGFuIGljb24uXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gRmxhdEljb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbaWNvbi1zcmNdIEltYWdlIHNvdXJjZSBVUkkuXG4gKiBAcHJvcGVydHkge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IFtpY29uLWltZ10gSW1hZ2Ugb2JqZWN0IGZvciB0aGUgaWNvbi4gSWYgdGhlIGBpY29uLXNyY2Agb3B0aW9uIGlzIG5vdCBwcm92aWRlZCB0aGVuIHRoZVxuICogcHJvdmlkZWQgaW1hZ2UgbXVzdCBhbHJlYWR5IGJlIGxvYWRlZC4gQW5kIGluIHRoYXQgY2FzZSwgaXQgaXMgcmVxdWlyZWRcbiAqIHRvIHByb3ZpZGUgdGhlIHNpemUgb2YgdGhlIGltYWdlLCB3aXRoIHRoZSBgaWNvbi1pbWctc2l6ZWAgb3B0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtpY29uLWltZy1zaXplXSBJbWFnZSBzaXplIGluIHBpeGVscy4gT25seSByZXF1aXJlZCBpZiBgaWNvbi1pbWdgIGlzIHNldCBhbmQgYGljb24tc3JjYCBpcyBub3QuXG4gKiBUaGUgcHJvdmlkZWQgc2l6ZSBuZWVkcyB0byBtYXRjaCB0aGUgYWN0dWFsIHNpemUgb2YgdGhlIGltYWdlLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbaWNvbi1hbmNob3I9WzAuNSwgMC41XV0gQW5jaG9yLiBEZWZhdWx0IHZhbHVlIGlzIHRoZSBpY29uIGNlbnRlci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9JY29uLmpzXCIpLkljb25PcmlnaW59IFtpY29uLWFuY2hvci1vcmlnaW49J3RvcC1sZWZ0J10gT3JpZ2luIG9mIHRoZSBhbmNob3I6IGBib3R0b20tbGVmdGAsIGBib3R0b20tcmlnaHRgLFxuICogYHRvcC1sZWZ0YCBvciBgdG9wLXJpZ2h0YC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9JY29uLmpzXCIpLkljb25BbmNob3JVbml0c30gW2ljb24tYW5jaG9yLXgtdW5pdHM9J2ZyYWN0aW9uJ10gVW5pdHMgaW4gd2hpY2ggdGhlIGFuY2hvciB4IHZhbHVlIGlzXG4gKiBzcGVjaWZpZWQuIEEgdmFsdWUgb2YgYCdmcmFjdGlvbidgIGluZGljYXRlcyB0aGUgeCB2YWx1ZSBpcyBhIGZyYWN0aW9uIG9mIHRoZSBpY29uLiBBIHZhbHVlIG9mIGAncGl4ZWxzJ2AgaW5kaWNhdGVzXG4gKiB0aGUgeCB2YWx1ZSBpbiBwaXhlbHMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vSWNvbi5qc1wiKS5JY29uQW5jaG9yVW5pdHN9IFtpY29uLWFuY2hvci15LXVuaXRzPSdmcmFjdGlvbiddIFVuaXRzIGluIHdoaWNoIHRoZSBhbmNob3IgeSB2YWx1ZSBpc1xuICogc3BlY2lmaWVkLiBBIHZhbHVlIG9mIGAnZnJhY3Rpb24nYCBpbmRpY2F0ZXMgdGhlIHkgdmFsdWUgaXMgYSBmcmFjdGlvbiBvZiB0aGUgaWNvbi4gQSB2YWx1ZSBvZiBgJ3BpeGVscydgIGluZGljYXRlc1xuICogdGhlIHkgdmFsdWUgaW4gcGl4ZWxzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxzdHJpbmd9IFtpY29uLWNvbG9yXSBDb2xvciB0byB0aW50IHRoZSBpY29uLiBJZiBub3Qgc3BlY2lmaWVkLFxuICogdGhlIGljb24gd2lsbCBiZSBsZWZ0IGFzIGlzLlxuICogQHByb3BlcnR5IHtudWxsfHN0cmluZ30gW2ljb24tY3Jvc3Mtb3JpZ2luXSBUaGUgYGNyb3NzT3JpZ2luYCBhdHRyaWJ1dGUgZm9yIGxvYWRlZCBpbWFnZXMuIE5vdGUgdGhhdCB5b3UgbXVzdCBwcm92aWRlIGFcbiAqIGBpY29uLWNyb3NzLW9yaWdpbmAgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2ljb24tb2Zmc2V0PVswLCAwXV0gT2Zmc2V0LCB3aGljaCwgdG9nZXRoZXIgd2l0aCB0aGUgc2l6ZSBhbmQgdGhlIG9mZnNldCBvcmlnaW4sIGRlZmluZSB0aGVcbiAqIHN1Yi1yZWN0YW5nbGUgdG8gdXNlIGZyb20gdGhlIG9yaWdpbmFsIGljb24gaW1hZ2UuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtpY29uLWRpc3BsYWNlbWVudD1bMCwwXV0gRGlzcGxhY2VtZW50IG9mIHRoZSBpY29uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ljb24uanNcIikuSWNvbk9yaWdpbn0gW2ljb24tb2Zmc2V0LW9yaWdpbj0ndG9wLWxlZnQnXSBPcmlnaW4gb2YgdGhlIG9mZnNldDogYGJvdHRvbS1sZWZ0YCwgYGJvdHRvbS1yaWdodGAsXG4gKiBgdG9wLWxlZnRgIG9yIGB0b3AtcmlnaHRgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtpY29uLW9wYWNpdHk9MV0gT3BhY2l0eSBvZiB0aGUgaWNvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW2ljb24tc2NhbGU9MV0gU2NhbGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2ljb24tcm90YXRpb249MF0gUm90YXRpb24gaW4gcmFkaWFucyAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ljb24tcm90YXRlLXdpdGgtdmlldz1mYWxzZV0gV2hldGhlciB0byByb3RhdGUgdGhlIGljb24gd2l0aCB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbaWNvbi1zaXplXSBJY29uIHNpemUgaW4gcGl4ZWwuIENhbiBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggYGljb24tb2Zmc2V0YCB0byBkZWZpbmUgdGhlXG4gKiBzdWItcmVjdGFuZ2xlIHRvIHVzZSBmcm9tIHRoZSBvcmlnaW4gKHNwcml0ZSkgaWNvbiBpbWFnZS5cbiAqIEBwcm9wZXJ0eSB7XCJkZWNsdXR0ZXJcInxcIm9ic3RhY2xlXCJ8XCJub25lXCJ8dW5kZWZpbmVkfSBbaWNvbi1kZWNsdXR0ZXItbW9kZV0gRGVjbHV0dGVyIG1vZGVcbiAqL1xuXG4vKipcbiAqIFJlZ3VsYXIgc2hhcGUgc3R5bGUgcHJvcGVydGllcyBmb3IgcmVuZGVyaW5nIHBvaW50IGZlYXR1cmVzLiAgQXQgbGVhc3QgYHNoYXBlLXBvaW50c2AgbXVzdCBiZSBwcm92aWRlZC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGbGF0U2hhcGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc2hhcGUtcG9pbnRzXSBOdW1iZXIgb2YgcG9pbnRzIGZvciBzdGFycyBhbmQgcmVndWxhciBwb2x5Z29ucy4gSW4gY2FzZSBvZiBhIHBvbHlnb24sIHRoZSBudW1iZXIgb2YgcG9pbnRzXG4gKiBpcyB0aGUgbnVtYmVyIG9mIHNpZGVzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbc2hhcGUtZmlsbC1jb2xvcl0gVGhlIGZpbGwgY29sb3IuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtzaGFwZS1zdHJva2UtY29sb3JdIFRoZSBzdHJva2UgY29sb3IuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NoYXBlLXN0cm9rZS13aWR0aF0gU3Ryb2tlIHBpeGVsIHdpZHRoLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBbc2hhcGUtc3Ryb2tlLWxpbmUtY2FwPSdyb3VuZCddIExpbmUgY2FwIHN0eWxlOiBgYnV0dGAsIGByb3VuZGAsIG9yIGBzcXVhcmVgLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gW3NoYXBlLXN0cm9rZS1saW5lLWpvaW49J3JvdW5kJ10gTGluZSBqb2luIHN0eWxlOiBgYmV2ZWxgLCBgcm91bmRgLCBvciBgbWl0ZXJgLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbc2hhcGUtc3Ryb2tlLWxpbmUtZGFzaF0gTGluZSBkYXNoIHBhdHRlcm4uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NoYXBlLXN0cm9rZS1saW5lLWRhc2gtb2Zmc2V0PTBdIExpbmUgZGFzaCBvZmZzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NoYXBlLXN0cm9rZS1taXRlci1saW1pdD0xMF0gTWl0ZXIgbGltaXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NoYXBlLXJhZGl1c10gUmFkaXVzIG9mIGEgcmVndWxhciBwb2x5Z29uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzaGFwZS1yYWRpdXMxXSBGaXJzdCByYWRpdXMgb2YgYSBzdGFyLiBJZ25vcmVkIGlmIHJhZGl1cyBpcyBzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NoYXBlLXJhZGl1czJdIFNlY29uZCByYWRpdXMgb2YgYSBzdGFyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzaGFwZS1hbmdsZT0wXSBTaGFwZSdzIGFuZ2xlIGluIHJhZGlhbnMuIEEgdmFsdWUgb2YgMCB3aWxsIGhhdmUgb25lIG9mIHRoZSBzaGFwZSdzIHBvaW50IGZhY2luZyB1cC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3NoYXBlLWRpc3BsYWNlbWVudD1bMCwwXV0gRGlzcGxhY2VtZW50IG9mIHRoZSBzaGFwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzaGFwZS1yb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc2hhcGUtcm90YXRlLXdpdGgtdmlldz1mYWxzZV0gV2hldGhlciB0byByb3RhdGUgdGhlIHNoYXBlIHdpdGggdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzaGFwZS1zY2FsZT0xXSBTY2FsZS4gVW5sZXNzIHR3byBkaW1lbnNpb25hbCBzY2FsaW5nIGlzIHJlcXVpcmVkIGEgYmV0dGVyXG4gKiByZXN1bHQgbWF5IGJlIG9idGFpbmVkIHdpdGggYXBwcm9wcmlhdGUgc2V0dGluZ3MgZm9yIGBzaGFwZS1yYWRpdXNgLCBgc2hhcGUtcmFkaXVzMWAgYW5kIGBzaGFwZS1yYWRpdXMyYC5cbiAqIEBwcm9wZXJ0eSB7XCJkZWNsdXR0ZXJcInxcIm9ic3RhY2xlXCJ8XCJub25lXCJ8dW5kZWZpbmVkfSBbc2hhcGUtZGVjbHV0dGVyLW1vZGVdIERlY2x1dHRlciBtb2RlLlxuICovXG5cbi8qKlxuICogQ2lyY2xlIHN0eWxlIHByb3BlcnRpZXMgZm9yIHJlbmRlcmluZyBwb2ludCBmZWF0dXJlcy4gIEF0IGxlYXN0IGBjaXJjbGUtcmFkaXVzYCBtdXN0IGJlIHByb3ZpZGVkLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZsYXRDaXJjbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2lyY2xlLXJhZGl1c10gQ2lyY2xlIHJhZGl1cy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2NpcmNsZS1maWxsLWNvbG9yXSBUaGUgZmlsbCBjb2xvci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2NpcmNsZS1zdHJva2UtY29sb3JdIFRoZSBzdHJva2UgY29sb3IuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NpcmNsZS1zdHJva2Utd2lkdGhdIFN0cm9rZSBwaXhlbCB3aWR0aC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUNhcH0gW2NpcmNsZS1zdHJva2UtbGluZS1jYXA9J3JvdW5kJ10gTGluZSBjYXAgc3R5bGU6IGBidXR0YCwgYHJvdW5kYCwgb3IgYHNxdWFyZWAuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVKb2lufSBbY2lyY2xlLXN0cm9rZS1saW5lLWpvaW49J3JvdW5kJ10gTGluZSBqb2luIHN0eWxlOiBgYmV2ZWxgLCBgcm91bmRgLCBvciBgbWl0ZXJgLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbY2lyY2xlLXN0cm9rZS1saW5lLWRhc2hdIExpbmUgZGFzaCBwYXR0ZXJuLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjaXJjbGUtc3Ryb2tlLWxpbmUtZGFzaC1vZmZzZXQ9MF0gTGluZSBkYXNoIG9mZnNldC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2lyY2xlLXN0cm9rZS1taXRlci1saW1pdD0xMF0gTWl0ZXIgbGltaXQuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtjaXJjbGUtZGlzcGxhY2VtZW50PVswLDBdXSBkaXNwbGFjZW1lbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW2NpcmNsZS1zY2FsZT0xXSBTY2FsZS4gQSB0d28gZGltZW5zaW9uYWwgc2NhbGUgd2lsbCBwcm9kdWNlIGFuIGVsbGlwc2UuXG4gKiBVbmxlc3MgdHdvIGRpbWVuc2lvbmFsIHNjYWxpbmcgaXMgcmVxdWlyZWQgYSBiZXR0ZXIgcmVzdWx0IG1heSBiZSBvYnRhaW5lZCB3aXRoIGFuIGFwcHJvcHJpYXRlIHNldHRpbmcgZm9yIGBjaXJjbGUtcmFkaXVzYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2lyY2xlLXJvdGF0aW9uPTBdIFJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UsIG1lYW5pbmdmdWwgb25seSB3aGVuIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBhIHR3byBkaW1lbnNpb25hbCBzY2FsZSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjaXJjbGUtcm90YXRlLXdpdGgtdmlldz1mYWxzZV0gV2hldGhlciB0byByb3RhdGUgdGhlIHNoYXBlIHdpdGggdGhlIHZpZXdcbiAqIChtZWFuaW5nZnVsIG9ubHkgd2hlbiB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYSB0d28gZGltZW5zaW9uYWwgc2NhbGUpLlxuICogQHByb3BlcnR5IHtcImRlY2x1dHRlclwifFwib2JzdGFjbGVcInxcIm5vbmVcInx1bmRlZmluZWR9IFtjaXJjbGUtZGVjbHV0dGVyLW1vZGVdIERlY2x1dHRlciBtb2RlXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0ZsYXRTdHlsZX0gZmxhdFN0eWxlIEEgZmxhdCBzdHlsZSBsaXRlcmFsLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9TdHlsZS5qc1wiKS5kZWZhdWx0fSBBIHN0eWxlIGluc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHlsZShmbGF0U3R5bGUpIHtcbiAgY29uc3Qgc3R5bGUgPSBuZXcgU3R5bGUoe1xuICAgIGZpbGw6IGdldEZpbGwoZmxhdFN0eWxlLCAnJyksXG4gICAgc3Ryb2tlOiBnZXRTdHJva2UoZmxhdFN0eWxlLCAnJyksXG4gICAgdGV4dDogZ2V0VGV4dChmbGF0U3R5bGUpLFxuICAgIGltYWdlOiBnZXRJbWFnZShmbGF0U3R5bGUpLFxuICB9KTtcblxuICByZXR1cm4gc3R5bGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtGbGF0U3R5bGV9IGZsYXRTdHlsZSBUaGUgZmxhdCBzdHlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggVGhlIHByb3BlcnR5IHByZWZpeC5cbiAqIEByZXR1cm4ge0ZpbGx8dW5kZWZpbmVkfSBUaGUgZmlsbCAoaWYgYW55KS5cbiAqL1xuZnVuY3Rpb24gZ2V0RmlsbChmbGF0U3R5bGUsIHByZWZpeCkge1xuICBjb25zdCBjb2xvciA9IGZsYXRTdHlsZVtwcmVmaXggKyAnZmlsbC1jb2xvciddO1xuICBpZiAoIWNvbG9yKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBGaWxsKHtjb2xvcjogY29sb3J9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0ZsYXRTdHlsZX0gZmxhdFN0eWxlIFRoZSBmbGF0IHN0eWxlLlxuICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCBUaGUgcHJvcGVydHkgcHJlZml4LlxuICogQHJldHVybiB7U3Ryb2tlfHVuZGVmaW5lZH0gVGhlIHN0cm9rZSAoaWYgYW55KS5cbiAqL1xuZnVuY3Rpb24gZ2V0U3Ryb2tlKGZsYXRTdHlsZSwgcHJlZml4KSB7XG4gIGNvbnN0IHdpZHRoID0gZmxhdFN0eWxlW3ByZWZpeCArICdzdHJva2Utd2lkdGgnXTtcbiAgY29uc3QgY29sb3IgPSBmbGF0U3R5bGVbcHJlZml4ICsgJ3N0cm9rZS1jb2xvciddO1xuICBpZiAoIXdpZHRoICYmICFjb2xvcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiBuZXcgU3Ryb2tlKHtcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgY29sb3I6IGNvbG9yLFxuICAgIGxpbmVDYXA6IGZsYXRTdHlsZVtwcmVmaXggKyAnc3Ryb2tlLWxpbmUtY2FwJ10sXG4gICAgbGluZUpvaW46IGZsYXRTdHlsZVtwcmVmaXggKyAnc3Ryb2tlLWxpbmUtam9pbiddLFxuICAgIGxpbmVEYXNoOiBmbGF0U3R5bGVbcHJlZml4ICsgJ3N0cm9rZS1saW5lLWRhc2gnXSxcbiAgICBsaW5lRGFzaE9mZnNldDogZmxhdFN0eWxlW3ByZWZpeCArICdzdHJva2UtbGluZS1kYXNoLW9mZnNldCddLFxuICAgIG1pdGVyTGltaXQ6IGZsYXRTdHlsZVtwcmVmaXggKyAnc3Ryb2tlLW1pdGVyLWxpbWl0J10sXG4gIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RmxhdFN0eWxlfSBmbGF0U3R5bGUgVGhlIGZsYXQgc3R5bGUuXG4gKiBAcmV0dXJuIHtUZXh0fHVuZGVmaW5lZH0gVGhlIHRleHQgKGlmIGFueSkuXG4gKi9cbmZ1bmN0aW9uIGdldFRleHQoZmxhdFN0eWxlKSB7XG4gIGNvbnN0IHZhbHVlID0gZmxhdFN0eWxlWyd0ZXh0LXZhbHVlJ107XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB0ZXh0ID0gbmV3IFRleHQoe1xuICAgIHRleHQ6IHZhbHVlLFxuICAgIGZvbnQ6IGZsYXRTdHlsZVsndGV4dC1mb250J10sXG4gICAgbWF4QW5nbGU6IGZsYXRTdHlsZVsndGV4dC1tYXgtYW5nbGUnXSxcbiAgICBvZmZzZXRYOiBmbGF0U3R5bGVbJ3RleHQtb2Zmc2V0LXgnXSxcbiAgICBvZmZzZXRZOiBmbGF0U3R5bGVbJ3RleHQtb2Zmc2V0LXknXSxcbiAgICBvdmVyZmxvdzogZmxhdFN0eWxlWyd0ZXh0LW92ZXJmbG93J10sXG4gICAgcGxhY2VtZW50OiBmbGF0U3R5bGVbJ3RleHQtcGxhY2VtZW50J10sXG4gICAgc2NhbGU6IGZsYXRTdHlsZVsndGV4dC1zY2FsZSddLFxuICAgIHJvdGF0ZVdpdGhWaWV3OiBmbGF0U3R5bGVbJ3RleHQtcm90YXRlLXdpdGgtdmlldyddLFxuICAgIHJvdGF0aW9uOiBmbGF0U3R5bGVbJ3RleHQtcm90YXRpb24nXSxcbiAgICB0ZXh0QWxpZ246IGZsYXRTdHlsZVsndGV4dC1hbGlnbiddLFxuICAgIGp1c3RpZnk6IGZsYXRTdHlsZVsndGV4dC1qdXN0aWZ5J10sXG4gICAgdGV4dEJhc2VsaW5lOiBmbGF0U3R5bGVbJ3RleHQtYmFzZWxpbmUnXSxcbiAgICBwYWRkaW5nOiBmbGF0U3R5bGVbJ3RleHQtcGFkZGluZyddLFxuICAgIGZpbGw6IGdldEZpbGwoZmxhdFN0eWxlLCAndGV4dC0nKSxcbiAgICBiYWNrZ3JvdW5kRmlsbDogZ2V0RmlsbChmbGF0U3R5bGUsICd0ZXh0LWJhY2tncm91bmQtJyksXG4gICAgc3Ryb2tlOiBnZXRTdHJva2UoZmxhdFN0eWxlLCAndGV4dC0nKSxcbiAgICBiYWNrZ3JvdW5kU3Ryb2tlOiBnZXRTdHJva2UoZmxhdFN0eWxlLCAndGV4dC1iYWNrZ3JvdW5kLScpLFxuICB9KTtcblxuICByZXR1cm4gdGV4dDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0ZsYXRTdHlsZX0gZmxhdFN0eWxlIFRoZSBmbGF0IHN0eWxlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIGltYWdlIChpZiBhbnkpLlxuICovXG5mdW5jdGlvbiBnZXRJbWFnZShmbGF0U3R5bGUpIHtcbiAgY29uc3QgaWNvblNyYyA9IGZsYXRTdHlsZVsnaWNvbi1zcmMnXTtcbiAgY29uc3QgaWNvbkltZyA9IGZsYXRTdHlsZVsnaWNvbi1pbWcnXTtcbiAgaWYgKGljb25TcmMgfHwgaWNvbkltZykge1xuICAgIGNvbnN0IGljb24gPSBuZXcgSWNvbih7XG4gICAgICBzcmM6IGljb25TcmMsXG4gICAgICBpbWc6IGljb25JbWcsXG4gICAgICBpbWdTaXplOiBmbGF0U3R5bGVbJ2ljb24taW1nLXNpemUnXSxcbiAgICAgIGFuY2hvcjogZmxhdFN0eWxlWydpY29uLWFuY2hvciddLFxuICAgICAgYW5jaG9yT3JpZ2luOiBmbGF0U3R5bGVbJ2ljb24tYW5jaG9yLW9yaWdpbiddLFxuICAgICAgYW5jaG9yWFVuaXRzOiBmbGF0U3R5bGVbJ2ljb24tYW5jaG9yLXgtdW5pdHMnXSxcbiAgICAgIGFuY2hvcllVbml0czogZmxhdFN0eWxlWydpY29uLWFuY2hvci15LXVuaXRzJ10sXG4gICAgICBjb2xvcjogZmxhdFN0eWxlWydpY29uLWNvbG9yJ10sXG4gICAgICBjcm9zc09yaWdpbjogZmxhdFN0eWxlWydpY29uLWNyb3NzLW9yaWdpbiddLFxuICAgICAgb2Zmc2V0OiBmbGF0U3R5bGVbJ2ljb24tb2Zmc2V0J10sXG4gICAgICBkaXNwbGFjZW1lbnQ6IGZsYXRTdHlsZVsnaWNvbi1kaXNwbGFjZW1lbnQnXSxcbiAgICAgIG9wYWNpdHk6IGZsYXRTdHlsZVsnaWNvbi1vcGFjaXR5J10sXG4gICAgICBzY2FsZTogZmxhdFN0eWxlWydpY29uLXNjYWxlJ10sXG4gICAgICByb3RhdGlvbjogZmxhdFN0eWxlWydpY29uLXJvdGF0aW9uJ10sXG4gICAgICByb3RhdGVXaXRoVmlldzogZmxhdFN0eWxlWydpY29uLXJvdGF0ZS13aXRoLXZpZXcnXSxcbiAgICAgIHNpemU6IGZsYXRTdHlsZVsnaWNvbi1zaXplJ10sXG4gICAgICBkZWNsdXR0ZXJNb2RlOiBmbGF0U3R5bGVbJ2ljb24tZGVjbHV0dGVyLW1vZGUnXSxcbiAgICB9KTtcbiAgICByZXR1cm4gaWNvbjtcbiAgfVxuXG4gIGNvbnN0IHNoYXBlUG9pbnRzID0gZmxhdFN0eWxlWydzaGFwZS1wb2ludHMnXTtcbiAgaWYgKHNoYXBlUG9pbnRzKSB7XG4gICAgY29uc3QgcHJlZml4ID0gJ3NoYXBlLSc7XG4gICAgY29uc3Qgc2hhcGUgPSBuZXcgUmVndWxhclNoYXBlKHtcbiAgICAgIHBvaW50czogc2hhcGVQb2ludHMsXG4gICAgICBmaWxsOiBnZXRGaWxsKGZsYXRTdHlsZSwgcHJlZml4KSxcbiAgICAgIHN0cm9rZTogZ2V0U3Ryb2tlKGZsYXRTdHlsZSwgcHJlZml4KSxcbiAgICAgIHJhZGl1czogZmxhdFN0eWxlWydzaGFwZS1yYWRpdXMnXSxcbiAgICAgIHJhZGl1czE6IGZsYXRTdHlsZVsnc2hhcGUtcmFkaXVzMSddLFxuICAgICAgcmFkaXVzMjogZmxhdFN0eWxlWydzaGFwZS1yYWRpdXMyJ10sXG4gICAgICBhbmdsZTogZmxhdFN0eWxlWydzaGFwZS1hbmdsZSddLFxuICAgICAgZGlzcGxhY2VtZW50OiBmbGF0U3R5bGVbJ3NoYXBlLWRpc3BsYWNlbWVudCddLFxuICAgICAgcm90YXRpb246IGZsYXRTdHlsZVsnc2hhcGUtcm90YXRpb24nXSxcbiAgICAgIHJvdGF0ZVdpdGhWaWV3OiBmbGF0U3R5bGVbJ3NoYXBlLXJvdGF0ZS13aXRoLXZpZXcnXSxcbiAgICAgIHNjYWxlOiBmbGF0U3R5bGVbJ3NoYXBlLXNjYWxlJ10sXG4gICAgICBkZWNsdXR0ZXJNb2RlOiBmbGF0U3R5bGVbJ3NoYXBlLWRlY2x1dHRlci1tb2RlJ10sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2hhcGU7XG4gIH1cblxuICBjb25zdCBjaXJjbGVSYWRpdXMgPSBmbGF0U3R5bGVbJ2NpcmNsZS1yYWRpdXMnXTtcbiAgaWYgKGNpcmNsZVJhZGl1cykge1xuICAgIGNvbnN0IHByZWZpeCA9ICdjaXJjbGUtJztcbiAgICBjb25zdCBjaXJjbGUgPSBuZXcgQ2lyY2xlKHtcbiAgICAgIHJhZGl1czogY2lyY2xlUmFkaXVzLFxuICAgICAgZmlsbDogZ2V0RmlsbChmbGF0U3R5bGUsIHByZWZpeCksXG4gICAgICBzdHJva2U6IGdldFN0cm9rZShmbGF0U3R5bGUsIHByZWZpeCksXG4gICAgICBkaXNwbGFjZW1lbnQ6IGZsYXRTdHlsZVsnY2lyY2xlLWRpc3BsYWNlbWVudCddLFxuICAgICAgc2NhbGU6IGZsYXRTdHlsZVsnY2lyY2xlLXNjYWxlJ10sXG4gICAgICByb3RhdGlvbjogZmxhdFN0eWxlWydjaXJjbGUtcm90YXRpb24nXSxcbiAgICAgIHJvdGF0ZVdpdGhWaWV3OiBmbGF0U3R5bGVbJ2NpcmNsZS1yb3RhdGUtd2l0aC12aWV3J10sXG4gICAgICBkZWNsdXR0ZXJNb2RlOiBmbGF0U3R5bGVbJ2NpcmNsZS1kZWNsdXR0ZXItbW9kZSddLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNpcmNsZTtcbiAgfVxuXG4gIHJldHVybjtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9CYXNlVmVjdG9yXG4gKi9cbmltcG9ydCBMYXllciBmcm9tICcuL0xheWVyLmpzJztcbmltcG9ydCBSQnVzaCBmcm9tICdyYnVzaCc7XG5pbXBvcnQgU3R5bGUsIHtcbiAgY3JlYXRlRGVmYXVsdFN0eWxlLFxuICB0b0Z1bmN0aW9uIGFzIHRvU3R5bGVGdW5jdGlvbixcbn0gZnJvbSAnLi4vc3R5bGUvU3R5bGUuanMnO1xuaW1wb3J0IHt0b1N0eWxlfSBmcm9tICcuLi9zdHlsZS9mbGF0LmpzJztcblxuLyoqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3IuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSBWZWN0b3JTb3VyY2VUeXBlXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtbGF5ZXInXSBBIENTUyBjbGFzcyBuYW1lIHRvIHNldCB0byB0aGUgbGF5ZXIgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBUaGUgbWluaW11bSB2aWV3IHpvb20gbGV2ZWwgKGV4Y2x1c2l2ZSkgYWJvdmUgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBUaGUgbWF4aW11bSB2aWV3IHpvb20gbGV2ZWwgKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9yZW5kZXIuanNcIikuT3JkZXJGdW5jdGlvbn0gW3JlbmRlck9yZGVyXSBSZW5kZXIgb3JkZXIuIEZ1bmN0aW9uIHRvIGJlIHVzZWQgd2hlbiBzb3J0aW5nXG4gKiBmZWF0dXJlcyBiZWZvcmUgcmVuZGVyaW5nLiBCeSBkZWZhdWx0IGZlYXR1cmVzIGFyZSBkcmF3biBpbiB0aGUgb3JkZXIgdGhhdCB0aGV5IGFyZSBjcmVhdGVkLiBVc2VcbiAqIGBudWxsYCB0byBhdm9pZCB0aGUgc29ydCwgYnV0IGdldCBhbiB1bmRlZmluZWQgZHJhdyBvcmRlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVuZGVyQnVmZmVyPTEwMF0gVGhlIGJ1ZmZlciBpbiBwaXhlbHMgYXJvdW5kIHRoZSB2aWV3cG9ydCBleHRlbnQgdXNlZCBieSB0aGVcbiAqIHJlbmRlcmVyIHdoZW4gZ2V0dGluZyBmZWF0dXJlcyBmcm9tIHRoZSB2ZWN0b3Igc291cmNlIGZvciB0aGUgcmVuZGVyaW5nIG9yIGhpdC1kZXRlY3Rpb24uXG4gKiBSZWNvbW1lbmRlZCB2YWx1ZTogdGhlIHNpemUgb2YgdGhlIGxhcmdlc3Qgc3ltYm9sLCBsaW5lIHdpZHRoIG9yIGxhYmVsLlxuICogQHByb3BlcnR5IHtWZWN0b3JTb3VyY2VUeXBlfSBbc291cmNlXSBTb3VyY2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fSBbbWFwXSBTZXRzIHRoZSBsYXllciBhcyBvdmVybGF5IG9uIGEgbWFwLiBUaGUgbWFwIHdpbGwgbm90IG1hbmFnZVxuICogdGhpcyBsYXllciBpbiBpdHMgbGF5ZXJzIGNvbGxlY3Rpb24sIGFuZCB0aGUgbGF5ZXIgd2lsbCBiZSByZW5kZXJlZCBvbiB0b3AuIFRoaXMgaXMgdXNlZnVsIGZvclxuICogdGVtcG9yYXJ5IGxheWVycy4gVGhlIHN0YW5kYXJkIHdheSB0byBhZGQgYSBsYXllciB0byBhIG1hcCBhbmQgaGF2ZSBpdCBtYW5hZ2VkIGJ5IHRoZSBtYXAgaXMgdG9cbiAqIHVzZSBbbWFwLmFkZExheWVyKClde0BsaW5rIGltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0I2FkZExheWVyfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RlY2x1dHRlcj1mYWxzZV0gRGVjbHV0dGVyIGltYWdlcyBhbmQgdGV4dC4gRGVjbHV0dGVyaW5nIGlzIGFwcGxpZWQgdG8gYWxsXG4gKiBpbWFnZSBhbmQgdGV4dCBzdHlsZXMgb2YgYWxsIFZlY3RvciBhbmQgVmVjdG9yVGlsZSBsYXllcnMgdGhhdCBoYXZlIHNldCB0aGlzIHRvIGB0cnVlYC4gVGhlIHByaW9yaXR5XG4gKiBpcyBkZWZpbmVkIGJ5IHRoZSB6LWluZGV4IG9mIHRoZSBsYXllciwgdGhlIGB6SW5kZXhgIG9mIHRoZSBzdHlsZSBhbmQgdGhlIHJlbmRlciBvcmRlciBvZiBmZWF0dXJlcy5cbiAqIEhpZ2hlciB6LWluZGV4IG1lYW5zIGhpZ2hlciBwcmlvcml0eS4gV2l0aGluIHRoZSBzYW1lIHotaW5kZXgsIGEgZmVhdHVyZSByZW5kZXJlZCBiZWZvcmUgYW5vdGhlciBoYXNcbiAqIGhpZ2hlciBwcmlvcml0eS5cbiAqXG4gKiBBcyBhbiBvcHRpbWl6YXRpb24gZGVjbHV0dGVyZWQgZmVhdHVyZXMgZnJvbSBsYXllcnMgd2l0aCB0aGUgc2FtZSBgY2xhc3NOYW1lYCBhcmUgcmVuZGVyZWQgYWJvdmVcbiAqIHRoZSBmaWxsIGFuZCBzdHJva2Ugc3R5bGVzIG9mIGFsbCBvZiB0aG9zZSBsYXllcnMgcmVnYXJkbGVzcyBvZiB6LWluZGV4LiAgVG8gb3B0IG91dCBvZiB0aGlzXG4gKiBiZWhhdmlvciBhbmQgcGxhY2UgZGVjbHV0dGVyZCBmZWF0dXJlcyB3aXRoIHRoZWlyIG93biBsYXllciBjb25maWd1cmUgdGhlIGxheWVyIHdpdGggYSBgY2xhc3NOYW1lYFxuICogb3RoZXIgdGhhbiBgb2wtbGF5ZXJgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V8aW1wb3J0KFwiLi4vc3R5bGUvZmxhdC5qc1wiKS5GbGF0U3R5bGVMaWtlfG51bGx9IFtzdHlsZV0gTGF5ZXIgc3R5bGUuIFdoZW4gc2V0IHRvIGBudWxsYCwgb25seVxuICogZmVhdHVyZXMgdGhhdCBoYXZlIHRoZWlyIG93biBzdHlsZSB3aWxsIGJlIHJlbmRlcmVkLiBTZWUge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9TdHlsZX5TdHlsZX0gZm9yIHRoZSBkZWZhdWx0IHN0eWxlXG4gKiB3aGljaCB3aWxsIGJlIHVzZWQgaWYgdGhpcyBpcyBub3Qgc2V0LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0Jhc2UuanNcIikuQmFja2dyb3VuZENvbG9yfSBbYmFja2dyb3VuZF0gQmFja2dyb3VuZCBjb2xvciBmb3IgdGhlIGxheWVyLiBJZiBub3Qgc3BlY2lmaWVkLCBubyBiYWNrZ3JvdW5kXG4gKiB3aWxsIGJlIHJlbmRlcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXBkYXRlV2hpbGVBbmltYXRpbmc9ZmFsc2VdIFdoZW4gc2V0IHRvIGB0cnVlYCwgZmVhdHVyZSBiYXRjaGVzIHdpbGxcbiAqIGJlIHJlY3JlYXRlZCBkdXJpbmcgYW5pbWF0aW9ucy4gVGhpcyBtZWFucyB0aGF0IG5vIHZlY3RvcnMgd2lsbCBiZSBzaG93biBjbGlwcGVkLCBidXQgdGhlXG4gKiBzZXR0aW5nIHdpbGwgaGF2ZSBhIHBlcmZvcm1hbmNlIGltcGFjdCBmb3IgbGFyZ2UgYW1vdW50cyBvZiB2ZWN0b3IgZGF0YS4gV2hlbiBzZXQgdG8gYGZhbHNlYCxcbiAqIGJhdGNoZXMgd2lsbCBiZSByZWNyZWF0ZWQgd2hlbiBubyBhbmltYXRpb24gaXMgYWN0aXZlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXBkYXRlV2hpbGVJbnRlcmFjdGluZz1mYWxzZV0gV2hlbiBzZXQgdG8gYHRydWVgLCBmZWF0dXJlIGJhdGNoZXMgd2lsbFxuICogYmUgcmVjcmVhdGVkIGR1cmluZyBpbnRlcmFjdGlvbnMuIFNlZSBhbHNvIGB1cGRhdGVXaGlsZUFuaW1hdGluZ2AuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsICo+fSBbcHJvcGVydGllc10gQXJiaXRyYXJ5IG9ic2VydmFibGUgcHJvcGVydGllcy4gQ2FuIGJlIGFjY2Vzc2VkIHdpdGggYCNnZXQoKWAgYW5kIGAjc2V0KClgLlxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IFByb3BlcnR5ID0ge1xuICBSRU5ERVJfT1JERVI6ICdyZW5kZXJPcmRlcicsXG59O1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFZlY3RvciBkYXRhIHRoYXQgaXMgcmVuZGVyZWQgY2xpZW50LXNpZGUuXG4gKiBOb3RlIHRoYXQgYW55IHByb3BlcnR5IHNldCBpbiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fVxuICogcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdDsgZm9yIGV4YW1wbGUsIHNldHRpbmcgYHRpdGxlOiAnTXkgVGl0bGUnYCBpbiB0aGVcbiAqIG9wdGlvbnMgbWVhbnMgdGhhdCBgdGl0bGVgIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vc291cmNlL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gVmVjdG9yU291cmNlVHlwZVxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9yZW5kZXJlci9jYW52YXMvVmVjdG9yTGF5ZXIuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXJlci9jYW52YXMvVmVjdG9yVGlsZUxheWVyLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyZXIvY2FudmFzL1ZlY3RvckltYWdlTGF5ZXIuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXJlci93ZWJnbC9Qb2ludHNMYXllci5qc1wiKS5kZWZhdWx0fSBSZW5kZXJlclR5cGVcbiAqIEBleHRlbmRzIHtMYXllcjxWZWN0b3JTb3VyY2VUeXBlLCBSZW5kZXJlclR5cGU+fVxuICogQGFwaVxuICovXG5jbGFzcyBCYXNlVmVjdG9yTGF5ZXIgZXh0ZW5kcyBMYXllciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnM8VmVjdG9yU291cmNlVHlwZT59IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gICAgY29uc3QgYmFzZU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcblxuICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy5zdHlsZTtcbiAgICBkZWxldGUgYmFzZU9wdGlvbnMucmVuZGVyQnVmZmVyO1xuICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy51cGRhdGVXaGlsZUFuaW1hdGluZztcbiAgICBkZWxldGUgYmFzZU9wdGlvbnMudXBkYXRlV2hpbGVJbnRlcmFjdGluZztcbiAgICBzdXBlcihiYXNlT3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZGVjbHV0dGVyXyA9XG4gICAgICBvcHRpb25zLmRlY2x1dHRlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kZWNsdXR0ZXIgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlckJ1ZmZlcl8gPVxuICAgICAgb3B0aW9ucy5yZW5kZXJCdWZmZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucmVuZGVyQnVmZmVyIDogMTAwO1xuXG4gICAgLyoqXG4gICAgICogVXNlciBwcm92aWRlZCBzdHlsZS5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zdHlsZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogU3R5bGUgZnVuY3Rpb24gZm9yIHVzZSB3aXRoaW4gdGhlIGxpYnJhcnkuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zdHlsZUZ1bmN0aW9uXyA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuc2V0U3R5bGUob3B0aW9ucy5zdHlsZSk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudXBkYXRlV2hpbGVBbmltYXRpbmdfID1cbiAgICAgIG9wdGlvbnMudXBkYXRlV2hpbGVBbmltYXRpbmcgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMudXBkYXRlV2hpbGVBbmltYXRpbmdcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy51cGRhdGVXaGlsZUludGVyYWN0aW5nXyA9XG4gICAgICBvcHRpb25zLnVwZGF0ZVdoaWxlSW50ZXJhY3RpbmcgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMudXBkYXRlV2hpbGVJbnRlcmFjdGluZ1xuICAgICAgICA6IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IERlY2x1dHRlci5cbiAgICovXG4gIGdldERlY2x1dHRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNsdXR0ZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdG9wbW9zdCBmZWF0dXJlIHRoYXQgaW50ZXJzZWN0cyB0aGUgZ2l2ZW4gcGl4ZWwgb24gdGhlIHZpZXdwb3J0LiBSZXR1cm5zIGEgcHJvbWlzZVxuICAgKiB0aGF0IHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgZmVhdHVyZXMuIFRoZSBhcnJheSB3aWxsIGVpdGhlciBjb250YWluIHRoZSB0b3Btb3N0IGZlYXR1cmVcbiAgICogd2hlbiBhIGhpdCB3YXMgZGV0ZWN0ZWQsIG9yIGl0IHdpbGwgYmUgZW1wdHkuXG4gICAqXG4gICAqIFRoZSBoaXQgZGV0ZWN0aW9uIGFsZ29yaXRobSB1c2VkIGZvciB0aGlzIG1ldGhvZCBpcyBvcHRpbWl6ZWQgZm9yIHBlcmZvcm1hbmNlLCBidXQgaXMgbGVzc1xuICAgKiBhY2N1cmF0ZSB0aGFuIHRoZSBvbmUgdXNlZCBpbiBbbWFwLmdldEZlYXR1cmVzQXRQaXhlbCgpXXtAbGluayBpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdCNnZXRGZWF0dXJlc0F0UGl4ZWx9LlxuICAgKiBUZXh0IGlzIG5vdCBjb25zaWRlcmVkLCBhbmQgaWNvbnMgYXJlIG9ubHkgcmVwcmVzZW50ZWQgYnkgdGhlaXIgYm91bmRpbmcgYm94IGluc3RlYWQgb2YgdGhlIGV4YWN0XG4gICAqIGltYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlXCIpLkZlYXR1cmVMaWtlPj59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGFuIGFycmF5IG9mIGZlYXR1cmVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRGZWF0dXJlcyhwaXhlbCkge1xuICAgIHJldHVybiBzdXBlci5nZXRGZWF0dXJlcyhwaXhlbCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmVuZGVyIGJ1ZmZlci5cbiAgICovXG4gIGdldFJlbmRlckJ1ZmZlcigpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJCdWZmZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0KTogbnVtYmVyfG51bGx8dW5kZWZpbmVkfSBSZW5kZXJcbiAgICogICAgIG9yZGVyLlxuICAgKi9cbiAgZ2V0UmVuZGVyT3JkZXIoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyLmpzXCIpLk9yZGVyRnVuY3Rpb258bnVsbHx1bmRlZmluZWR9ICovIChcbiAgICAgIHRoaXMuZ2V0KFByb3BlcnR5LlJFTkRFUl9PUkRFUilcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3R5bGUgZm9yIGZlYXR1cmVzLiAgVGhpcyByZXR1cm5zIHdoYXRldmVyIHdhcyBwYXNzZWQgdG8gdGhlIGBzdHlsZWBcbiAgICogb3B0aW9uIGF0IGNvbnN0cnVjdGlvbiBvciB0byB0aGUgYHNldFN0eWxlYCBtZXRob2QuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZXxudWxsfHVuZGVmaW5lZH0gTGF5ZXIgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFN0eWxlKCkge1xuICAgIHJldHVybiB0aGlzLnN0eWxlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0eWxlIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH0gTGF5ZXIgc3R5bGUgZnVuY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFN0eWxlRnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuc3R5bGVGdW5jdGlvbl87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcmVuZGVyZWQgbGF5ZXIgc2hvdWxkIGJlIHVwZGF0ZWQgd2hpbGVcbiAgICogICAgIGFuaW1hdGluZy5cbiAgICovXG4gIGdldFVwZGF0ZVdoaWxlQW5pbWF0aW5nKCkge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZVdoaWxlQW5pbWF0aW5nXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSByZW5kZXJlZCBsYXllciBzaG91bGQgYmUgdXBkYXRlZCB3aGlsZVxuICAgKiAgICAgaW50ZXJhY3RpbmcuXG4gICAqL1xuICBnZXRVcGRhdGVXaGlsZUludGVyYWN0aW5nKCkge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZVdoaWxlSW50ZXJhY3RpbmdfO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBkZWNsdXR0ZXIgaXRlbXMgZm9yIHRoaXMgbGF5ZXJcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICovXG4gIHJlbmRlckRlY2x1dHRlcihmcmFtZVN0YXRlKSB7XG4gICAgaWYgKCFmcmFtZVN0YXRlLmRlY2x1dHRlclRyZWUpIHtcbiAgICAgIGZyYW1lU3RhdGUuZGVjbHV0dGVyVHJlZSA9IG5ldyBSQnVzaCg5KTtcbiAgICB9XG4gICAgLyoqIEB0eXBlIHsqfSAqLyAodGhpcy5nZXRSZW5kZXJlcigpKS5yZW5kZXJEZWNsdXR0ZXIoZnJhbWVTdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIuanNcIikuT3JkZXJGdW5jdGlvbnxudWxsfHVuZGVmaW5lZH0gcmVuZGVyT3JkZXJcbiAgICogICAgIFJlbmRlciBvcmRlci5cbiAgICovXG4gIHNldFJlbmRlck9yZGVyKHJlbmRlck9yZGVyKSB7XG4gICAgdGhpcy5zZXQoUHJvcGVydHkuUkVOREVSX09SREVSLCByZW5kZXJPcmRlcik7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzdHlsZSBmb3IgZmVhdHVyZXMuICBUaGlzIGNhbiBiZSBhIHNpbmdsZSBzdHlsZSBvYmplY3QsIGFuIGFycmF5XG4gICAqIG9mIHN0eWxlcywgb3IgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgZmVhdHVyZSBhbmQgcmVzb2x1dGlvbiBhbmQgcmV0dXJuc1xuICAgKiBhbiBhcnJheSBvZiBzdHlsZXMuIElmIHNldCB0byBgbnVsbGAsIHRoZSBsYXllciBoYXMgbm8gc3R5bGUgKGEgYG51bGxgIHN0eWxlKSxcbiAgICogc28gb25seSBmZWF0dXJlcyB0aGF0IGhhdmUgdGhlaXIgb3duIHN0eWxlcyB3aWxsIGJlIHJlbmRlcmVkIGluIHRoZSBsYXllci4gQ2FsbFxuICAgKiBgc2V0U3R5bGUoKWAgd2l0aG91dCBhcmd1bWVudHMgdG8gcmVzZXQgdG8gdGhlIGRlZmF1bHQgc3R5bGUuIFNlZVxuICAgKiBbdGhlIG9sL3N0eWxlL1N0eWxlIG1vZHVsZV17QGxpbmsgbW9kdWxlOm9sL3N0eWxlL1N0eWxlflN0eWxlfSBmb3IgaW5mb3JtYXRpb24gb24gdGhlIGRlZmF1bHQgc3R5bGUuXG4gICAqXG4gICAqIElmIHlvdXIgbGF5ZXIgaGFzIGEgc3RhdGljIHN0eWxlLCB5b3UgY2FuIHVzZSBcImZsYXRcIiBzdHlsZSBvYmplY3QgbGl0ZXJhbHMgaW5zdGVhZCBvZlxuICAgKiB1c2luZyB0aGUgYFN0eWxlYCBhbmQgc3ltYm9saXplciBjb25zdHJ1Y3RvcnMgKGBGaWxsYCwgYFN0cm9rZWAsIGV0Yy4pLiAgU2VlIHRoZSBkb2N1bWVudGF0aW9uXG4gICAqIGZvciB0aGUgW2ZsYXQgc3R5bGUgdHlwZXNde0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9mbGF0fkZsYXRTdHlsZX0gdG8gc2VlIHdoYXQgcHJvcGVydGllcyBhcmUgc3VwcG9ydGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZXxpbXBvcnQoXCIuLi9zdHlsZS9mbGF0LmpzXCIpLkZsYXRTdHlsZUxpa2V8bnVsbH0gW3N0eWxlXSBMYXllciBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U3R5bGUoc3R5bGUpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfG51bGx9XG4gICAgICovXG4gICAgbGV0IHN0eWxlTGlrZTtcblxuICAgIGlmIChzdHlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdHlsZUxpa2UgPSBjcmVhdGVEZWZhdWx0U3R5bGU7XG4gICAgfSBlbHNlIGlmIChzdHlsZSA9PT0gbnVsbCkge1xuICAgICAgc3R5bGVMaWtlID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdHlsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgc3R5bGVMaWtlID0gc3R5bGU7XG4gICAgfSBlbHNlIGlmIChzdHlsZSBpbnN0YW5jZW9mIFN0eWxlKSB7XG4gICAgICBzdHlsZUxpa2UgPSBzdHlsZTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGUpKSB7XG4gICAgICBjb25zdCBsZW4gPSBzdHlsZS5sZW5ndGg7XG5cbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge0FycmF5PFN0eWxlPn1cbiAgICAgICAqL1xuICAgICAgY29uc3Qgc3R5bGVzID0gbmV3IEFycmF5KGxlbik7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgY29uc3QgcyA9IHN0eWxlW2ldO1xuICAgICAgICBpZiAocyBpbnN0YW5jZW9mIFN0eWxlKSB7XG4gICAgICAgICAgc3R5bGVzW2ldID0gcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHlsZXNbaV0gPSB0b1N0eWxlKHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdHlsZUxpa2UgPSBzdHlsZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlTGlrZSA9IHRvU3R5bGUoc3R5bGUpO1xuICAgIH1cblxuICAgIHRoaXMuc3R5bGVfID0gc3R5bGVMaWtlO1xuICAgIHRoaXMuc3R5bGVGdW5jdGlvbl8gPVxuICAgICAgc3R5bGUgPT09IG51bGwgPyB1bmRlZmluZWQgOiB0b1N0eWxlRnVuY3Rpb24odGhpcy5zdHlsZV8pO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VWZWN0b3JMYXllcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0luc3RydWN0aW9uXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5jb25zdCBJbnN0cnVjdGlvbiA9IHtcbiAgQkVHSU5fR0VPTUVUUlk6IDAsXG4gIEJFR0lOX1BBVEg6IDEsXG4gIENJUkNMRTogMixcbiAgQ0xPU0VfUEFUSDogMyxcbiAgQ1VTVE9NOiA0LFxuICBEUkFXX0NIQVJTOiA1LFxuICBEUkFXX0lNQUdFOiA2LFxuICBFTkRfR0VPTUVUUlk6IDcsXG4gIEZJTEw6IDgsXG4gIE1PVkVfVE9fTElORV9UTzogOSxcbiAgU0VUX0ZJTExfU1RZTEU6IDEwLFxuICBTRVRfU1RST0tFX1NUWUxFOiAxMSxcbiAgU1RST0tFOiAxMixcbn07XG5cbi8qKlxuICogQHR5cGUge0FycmF5PEluc3RydWN0aW9uPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGZpbGxJbnN0cnVjdGlvbiA9IFtJbnN0cnVjdGlvbi5GSUxMXTtcblxuLyoqXG4gKiBAdHlwZSB7QXJyYXk8SW5zdHJ1Y3Rpb24+fVxuICovXG5leHBvcnQgY29uc3Qgc3Ryb2tlSW5zdHJ1Y3Rpb24gPSBbSW5zdHJ1Y3Rpb24uU1RST0tFXTtcblxuLyoqXG4gKiBAdHlwZSB7QXJyYXk8SW5zdHJ1Y3Rpb24+fVxuICovXG5leHBvcnQgY29uc3QgYmVnaW5QYXRoSW5zdHJ1Y3Rpb24gPSBbSW5zdHJ1Y3Rpb24uQkVHSU5fUEFUSF07XG5cbi8qKlxuICogQHR5cGUge0FycmF5PEluc3RydWN0aW9uPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGNsb3NlUGF0aEluc3RydWN0aW9uID0gW0luc3RydWN0aW9uLkNMT1NFX1BBVEhdO1xuXG5leHBvcnQgZGVmYXVsdCBJbnN0cnVjdGlvbjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvVmVjdG9yQ29udGV4dFxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ29udGV4dCBmb3IgZHJhd2luZyBnZW9tZXRyaWVzLiAgQSB2ZWN0b3IgY29udGV4dCBpcyBhdmFpbGFibGUgb24gcmVuZGVyXG4gKiBldmVudHMgYW5kIGRvZXMgbm90IG5lZWQgdG8gYmUgY29uc3RydWN0ZWQgZGlyZWN0bHkuXG4gKiBAYXBpXG4gKi9cbmNsYXNzIFZlY3RvckNvbnRleHQge1xuICAvKipcbiAgICogUmVuZGVyIGEgZ2VvbWV0cnkgd2l0aCBhIGN1c3RvbSByZW5kZXJlci5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVuZGVyZXIgUmVuZGVyZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhpdERldGVjdGlvblJlbmRlcmVyIFJlbmRlcmVyLlxuICAgKi9cbiAgZHJhd0N1c3RvbShnZW9tZXRyeSwgZmVhdHVyZSwgcmVuZGVyZXIsIGhpdERldGVjdGlvblJlbmRlcmVyKSB7fVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBnZW9tZXRyeS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFRoZSBnZW9tZXRyeSB0byByZW5kZXIuXG4gICAqL1xuICBkcmF3R2VvbWV0cnkoZ2VvbWV0cnkpIHt9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcmVuZGVyaW5nIHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFRoZSByZW5kZXJpbmcgc3R5bGUuXG4gICAqL1xuICBzZXRTdHlsZShzdHlsZSkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBjaXJjbGVHZW9tZXRyeSBDaXJjbGUgZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3Q2lyY2xlKGNpcmNsZUdlb21ldHJ5LCBmZWF0dXJlKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICAgKi9cbiAgZHJhd0ZlYXR1cmUoZmVhdHVyZSwgc3R5bGUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnkgR2VvbWV0cnkgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdHZW9tZXRyeUNvbGxlY3Rpb24oZ2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnksIGZlYXR1cmUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGxpbmVTdHJpbmdHZW9tZXRyeSBMaW5lIHN0cmluZyBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3TGluZVN0cmluZyhsaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gbXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkgTXVsdGlMaW5lU3RyaW5nIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdNdWx0aUxpbmVTdHJpbmcobXVsdGlMaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IG11bHRpUG9pbnRHZW9tZXRyeSBNdWx0aVBvaW50IGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdNdWx0aVBvaW50KG11bHRpUG9pbnRHZW9tZXRyeSwgZmVhdHVyZSkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBtdWx0aVBvbHlnb25HZW9tZXRyeSBNdWx0aVBvbHlnb24gZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgZHJhd011bHRpUG9seWdvbihtdWx0aVBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IHBvaW50R2VvbWV0cnkgUG9pbnQgZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgZHJhd1BvaW50KHBvaW50R2VvbWV0cnksIGZlYXR1cmUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IHBvbHlnb25HZW9tZXRyeSBQb2x5Z29uIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdQb2x5Z29uKHBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL0ZpbGwuanNcIikuZGVmYXVsdH0gZmlsbFN0eWxlIEZpbGwgc3R5bGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZVN0eWxlIFN0cm9rZSBzdHlsZS5cbiAgICovXG4gIHNldEZpbGxTdHJva2VTdHlsZShmaWxsU3R5bGUsIHN0cm9rZVN0eWxlKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL0ltYWdlLmpzXCIpLmRlZmF1bHR9IGltYWdlU3R5bGUgSW1hZ2Ugc3R5bGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fSBbZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF0gU2hhcmVkIGRhdGEgZm9yIGNvbWJpbmVkIGRlY2x1dHRlcmluZyB3aXRoIGEgdGV4dCBzdHlsZS5cbiAgICovXG4gIHNldEltYWdlU3R5bGUoaW1hZ2VTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9UZXh0LmpzXCIpLmRlZmF1bHR9IHRleHRTdHlsZSBUZXh0IHN0eWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH0gW2RlY2x1dHRlckltYWdlV2l0aFRleHRdIFNoYXJlZCBkYXRhIGZvciBjb21iaW5lZCBkZWNsdXR0ZXJpbmcgd2l0aCBhbiBpbWFnZSBzdHlsZS5cbiAgICovXG4gIHNldFRleHRTdHlsZSh0ZXh0U3R5bGUsIGRlY2x1dHRlckltYWdlV2l0aFRleHQpIHt9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZlY3RvckNvbnRleHQ7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9CdWlsZGVyXG4gKi9cbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbmltcG9ydCBSZWxhdGlvbnNoaXAgZnJvbSAnLi4vLi4vZXh0ZW50L1JlbGF0aW9uc2hpcC5qcyc7XG5pbXBvcnQgVmVjdG9yQ29udGV4dCBmcm9tICcuLi9WZWN0b3JDb250ZXh0LmpzJztcbmltcG9ydCB7YXNDb2xvckxpa2V9IGZyb20gJy4uLy4uL2NvbG9ybGlrZS5qcyc7XG5pbXBvcnQge1xuICBidWZmZXIsXG4gIGNsb25lLFxuICBjb250YWluc0Nvb3JkaW5hdGUsXG4gIGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAsXG59IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge1xuICBkZWZhdWx0RmlsbFN0eWxlLFxuICBkZWZhdWx0TGluZUNhcCxcbiAgZGVmYXVsdExpbmVEYXNoLFxuICBkZWZhdWx0TGluZURhc2hPZmZzZXQsXG4gIGRlZmF1bHRMaW5lSm9pbixcbiAgZGVmYXVsdExpbmVXaWR0aCxcbiAgZGVmYXVsdE1pdGVyTGltaXQsXG4gIGRlZmF1bHRTdHJva2VTdHlsZSxcbn0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7ZXF1YWxzLCByZXZlcnNlU3ViQXJyYXl9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7XG4gIGluZmxhdGVDb29yZGluYXRlcyxcbiAgaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXksXG4gIGluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXksXG59IGZyb20gJy4uLy4uL2dlb20vZmxhdC9pbmZsYXRlLmpzJztcblxuY2xhc3MgQ2FudmFzQnVpbGRlciBleHRlbmRzIFZlY3RvckNvbnRleHQge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudG9sZXJhbmNlID0gdG9sZXJhbmNlO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMubWF4RXh0ZW50ID0gbWF4RXh0ZW50O1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5waXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4TGluZVdpZHRoID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgKi9cbiAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAqL1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAqL1xuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5jb29yZGluYXRlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqL1xuICAgIHRoaXMudG1wQ29vcmRpbmF0ZV8gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICovXG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSAqLyAoe30pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBkYXNoQXJyYXkgRGFzaCBhcnJheS5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRGFzaCBhcnJheSB3aXRoIHBpeGVsIHJhdGlvIGFwcGxpZWRcbiAgICovXG4gIGFwcGx5UGl4ZWxSYXRpbyhkYXNoQXJyYXkpIHtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgIHJldHVybiBwaXhlbFJhdGlvID09IDFcbiAgICAgID8gZGFzaEFycmF5XG4gICAgICA6IGRhc2hBcnJheS5tYXAoZnVuY3Rpb24gKGRhc2gpIHtcbiAgICAgICAgICByZXR1cm4gZGFzaCAqIHBpeGVsUmF0aW87XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEByZXR1cm4ge251bWJlcn0gTXkgZW5kXG4gICAqL1xuICBhcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSkge1xuICAgIGNvbnN0IGV4dGVudCA9IHRoaXMuZ2V0QnVmZmVyZWRNYXhFeHRlbnQoKTtcbiAgICBjb25zdCB0bXBDb29yZCA9IHRoaXMudG1wQ29vcmRpbmF0ZV87XG4gICAgY29uc3QgY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzO1xuICAgIGxldCBteUVuZCA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB0bXBDb29yZFswXSA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgIHRtcENvb3JkWzFdID0gZmxhdENvb3JkaW5hdGVzW2kgKyAxXTtcbiAgICAgIGlmIChjb250YWluc0Nvb3JkaW5hdGUoZXh0ZW50LCB0bXBDb29yZCkpIHtcbiAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSB0bXBDb29yZFswXTtcbiAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSB0bXBDb29yZFsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG15RW5kO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvc2VkIExhc3QgaW5wdXQgY29vcmRpbmF0ZSBlcXVhbHMgZmlyc3QuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2tpcEZpcnN0IFNraXAgZmlyc3QgY29vcmRpbmF0ZS5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE15IGVuZC5cbiAgICovXG4gIGFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoXG4gICAgZmxhdENvb3JkaW5hdGVzLFxuICAgIG9mZnNldCxcbiAgICBlbmQsXG4gICAgc3RyaWRlLFxuICAgIGNsb3NlZCxcbiAgICBza2lwRmlyc3RcbiAgKSB7XG4gICAgY29uc3QgY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzO1xuICAgIGxldCBteUVuZCA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICBjb25zdCBleHRlbnQgPSB0aGlzLmdldEJ1ZmZlcmVkTWF4RXh0ZW50KCk7XG4gICAgaWYgKHNraXBGaXJzdCkge1xuICAgICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICB9XG4gICAgbGV0IGxhc3RYQ29vcmQgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICBsZXQgbGFzdFlDb29yZCA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICBjb25zdCBuZXh0Q29vcmQgPSB0aGlzLnRtcENvb3JkaW5hdGVfO1xuICAgIGxldCBza2lwcGVkID0gdHJ1ZTtcblxuICAgIGxldCBpLCBsYXN0UmVsLCBuZXh0UmVsO1xuICAgIGZvciAoaSA9IG9mZnNldCArIHN0cmlkZTsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIG5leHRDb29yZFswXSA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgIG5leHRDb29yZFsxXSA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICBuZXh0UmVsID0gY29vcmRpbmF0ZVJlbGF0aW9uc2hpcChleHRlbnQsIG5leHRDb29yZCk7XG4gICAgICBpZiAobmV4dFJlbCAhPT0gbGFzdFJlbCkge1xuICAgICAgICBpZiAoc2tpcHBlZCkge1xuICAgICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbGFzdFhDb29yZDtcbiAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IGxhc3RZQ29vcmQ7XG4gICAgICAgICAgc2tpcHBlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbmV4dENvb3JkWzBdO1xuICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFsxXTtcbiAgICAgIH0gZWxzZSBpZiAobmV4dFJlbCA9PT0gUmVsYXRpb25zaGlwLklOVEVSU0VDVElORykge1xuICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFswXTtcbiAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSBuZXh0Q29vcmRbMV07XG4gICAgICAgIHNraXBwZWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNraXBwZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgbGFzdFhDb29yZCA9IG5leHRDb29yZFswXTtcbiAgICAgIGxhc3RZQ29vcmQgPSBuZXh0Q29vcmRbMV07XG4gICAgICBsYXN0UmVsID0gbmV4dFJlbDtcbiAgICB9XG5cbiAgICAvLyBMYXN0IGNvb3JkaW5hdGUgZXF1YWxzIGZpcnN0IG9yIG9ubHkgb25lIHBvaW50IHRvIGFwcGVuZDpcbiAgICBpZiAoKGNsb3NlZCAmJiBza2lwcGVkKSB8fCBpID09PSBvZmZzZXQgKyBzdHJpZGUpIHtcbiAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbGFzdFhDb29yZDtcbiAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbGFzdFlDb29yZDtcbiAgICB9XG4gICAgcmV0dXJuIG15RW5kO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYnVpbGRlckVuZHMgQnVpbGRlciBlbmRzLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE9mZnNldC5cbiAgICovXG4gIGRyYXdDdXN0b21Db29yZGluYXRlc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgYnVpbGRlckVuZHMpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGNvbnN0IGVuZCA9IGVuZHNbaV07XG4gICAgICBjb25zdCBidWlsZGVyRW5kID0gdGhpcy5hcHBlbmRGbGF0TGluZUNvb3JkaW5hdGVzKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgZW5kLFxuICAgICAgICBzdHJpZGUsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIGJ1aWxkZXJFbmRzLnB1c2goYnVpbGRlckVuZCk7XG4gICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVuZGVyZXIgUmVuZGVyZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhpdERldGVjdGlvblJlbmRlcmVyIFJlbmRlcmVyLlxuICAgKi9cbiAgZHJhd0N1c3RvbShnZW9tZXRyeSwgZmVhdHVyZSwgcmVuZGVyZXIsIGhpdERldGVjdGlvblJlbmRlcmVyKSB7XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5KGdlb21ldHJ5LCBmZWF0dXJlKTtcblxuICAgIGNvbnN0IHR5cGUgPSBnZW9tZXRyeS5nZXRUeXBlKCk7XG4gICAgY29uc3Qgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgY29uc3QgYnVpbGRlckJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG5cbiAgICBsZXQgZmxhdENvb3JkaW5hdGVzLCBidWlsZGVyRW5kLCBidWlsZGVyRW5kcywgYnVpbGRlckVuZHNzO1xuICAgIGxldCBvZmZzZXQ7XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ011bHRpUG9seWdvbic6XG4gICAgICAgIGZsYXRDb29yZGluYXRlcyA9XG4gICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgICkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgYnVpbGRlckVuZHNzID0gW107XG4gICAgICAgIGNvbnN0IGVuZHNzID1cbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICAgKS5nZXRFbmRzcygpO1xuICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgY29uc3QgbXlFbmRzID0gW107XG4gICAgICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3Q3VzdG9tQ29vcmRpbmF0ZXNfKFxuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgZW5kc3NbaV0sXG4gICAgICAgICAgICBzdHJpZGUsXG4gICAgICAgICAgICBteUVuZHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGJ1aWxkZXJFbmRzcy5wdXNoKG15RW5kcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICBidWlsZGVyRW5kc3MsXG4gICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgcmVuZGVyZXIsXG4gICAgICAgICAgaW5mbGF0ZU11bHRpQ29vcmRpbmF0ZXNBcnJheSxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgYnVpbGRlckVuZHNzLFxuICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgIGhpdERldGVjdGlvblJlbmRlcmVyIHx8IHJlbmRlcmVyLFxuICAgICAgICAgIGluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXksXG4gICAgICAgIF0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1BvbHlnb24nOlxuICAgICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcbiAgICAgICAgYnVpbGRlckVuZHMgPSBbXTtcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzID1cbiAgICAgICAgICB0eXBlID09ICdQb2x5Z29uJ1xuICAgICAgICAgICAgPyAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgICAgICAgKS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpXG4gICAgICAgICAgICA6IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICBvZmZzZXQgPSB0aGlzLmRyYXdDdXN0b21Db29yZGluYXRlc18oXG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgICkuZ2V0RW5kcygpLFxuICAgICAgICAgIHN0cmlkZSxcbiAgICAgICAgICBidWlsZGVyRW5kc1xuICAgICAgICApO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgIGJ1aWxkZXJFbmRzLFxuICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgIGluZmxhdGVDb29yZGluYXRlc0FycmF5LFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICBidWlsZGVyRW5kcyxcbiAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICBoaXREZXRlY3Rpb25SZW5kZXJlciB8fCByZW5kZXJlcixcbiAgICAgICAgICBpbmZsYXRlQ29vcmRpbmF0ZXNBcnJheSxcbiAgICAgICAgXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnTGluZVN0cmluZyc6XG4gICAgICBjYXNlICdDaXJjbGUnOlxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgYnVpbGRlckVuZCA9IHRoaXMuYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyhcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgICAgMCxcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgICAgIHN0cmlkZSxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgIGJ1aWxkZXJFbmQsXG4gICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgcmVuZGVyZXIsXG4gICAgICAgICAgaW5mbGF0ZUNvb3JkaW5hdGVzLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICBidWlsZGVyRW5kLFxuICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgIGhpdERldGVjdGlvblJlbmRlcmVyIHx8IHJlbmRlcmVyLFxuICAgICAgICAgIGluZmxhdGVDb29yZGluYXRlcyxcbiAgICAgICAgXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnTXVsdGlQb2ludCc6XG4gICAgICAgIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICBidWlsZGVyRW5kID0gdGhpcy5hcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG5cbiAgICAgICAgaWYgKGJ1aWxkZXJFbmQgPiBidWlsZGVyQmVnaW4pIHtcbiAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICAgIGJ1aWxkZXJFbmQsXG4gICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgICAgaW5mbGF0ZUNvb3JkaW5hdGVzLFxuICAgICAgICAgIF0pO1xuICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgICAgYnVpbGRlckVuZCxcbiAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgaGl0RGV0ZWN0aW9uUmVuZGVyZXIgfHwgcmVuZGVyZXIsXG4gICAgICAgICAgICBpbmZsYXRlQ29vcmRpbmF0ZXMsXG4gICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdQb2ludCc6XG4gICAgICAgIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzLnB1c2goZmxhdENvb3JkaW5hdGVzWzBdLCBmbGF0Q29vcmRpbmF0ZXNbMV0pO1xuICAgICAgICBidWlsZGVyRW5kID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG5cbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICBidWlsZGVyRW5kLFxuICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICBidWlsZGVyRW5kLFxuICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgIGhpdERldGVjdGlvblJlbmRlcmVyIHx8IHJlbmRlcmVyLFxuICAgICAgICBdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgIH1cbiAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0dlb21ldHJ5XCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBUaGUgZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgYmVnaW5HZW9tZXRyeShnZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8gPSBbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5CRUdJTl9HRU9NRVRSWSxcbiAgICAgIGZlYXR1cmUsXG4gICAgICAwLFxuICAgICAgZ2VvbWV0cnksXG4gICAgXTtcbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8pO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8gPSBbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5CRUdJTl9HRU9NRVRSWSxcbiAgICAgIGZlYXR1cmUsXG4gICAgICAwLFxuICAgICAgZ2VvbWV0cnksXG4gICAgXTtcbiAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnN9IHRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zLlxuICAgKi9cbiAgZmluaXNoKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbnN0cnVjdGlvbnM6IHRoaXMuaW5zdHJ1Y3Rpb25zLFxuICAgICAgaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zOiB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucyxcbiAgICAgIGNvb3JkaW5hdGVzOiB0aGlzLmNvb3JkaW5hdGVzLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV2ZXJzZSB0aGUgaGl0IGRldGVjdGlvbiBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICByZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zKCkge1xuICAgIGNvbnN0IGhpdERldGVjdGlvbkluc3RydWN0aW9ucyA9IHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zO1xuICAgIC8vIHN0ZXAgMSAtIHJldmVyc2UgYXJyYXlcbiAgICBoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucmV2ZXJzZSgpO1xuICAgIC8vIHN0ZXAgMiAtIHJldmVyc2UgaW5zdHJ1Y3Rpb25zIHdpdGhpbiBnZW9tZXRyeSBibG9ja3NcbiAgICBsZXQgaTtcbiAgICBjb25zdCBuID0gaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLmxlbmd0aDtcbiAgICBsZXQgaW5zdHJ1Y3Rpb247XG4gICAgbGV0IHR5cGU7XG4gICAgbGV0IGJlZ2luID0gLTE7XG4gICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaW5zdHJ1Y3Rpb24gPSBoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnNbaV07XG4gICAgICB0eXBlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0luc3RydWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChpbnN0cnVjdGlvblswXSk7XG4gICAgICBpZiAodHlwZSA9PSBDYW52YXNJbnN0cnVjdGlvbi5FTkRfR0VPTUVUUlkpIHtcbiAgICAgICAgYmVnaW4gPSBpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09IENhbnZhc0luc3RydWN0aW9uLkJFR0lOX0dFT01FVFJZKSB7XG4gICAgICAgIGluc3RydWN0aW9uWzJdID0gaTtcbiAgICAgICAgcmV2ZXJzZVN1YkFycmF5KHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLCBiZWdpbiwgaSk7XG4gICAgICAgIGJlZ2luID0gLTE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsU3R5bGUgRmlsbCBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlU3R5bGUgU3Ryb2tlIHN0eWxlLlxuICAgKi9cbiAgc2V0RmlsbFN0cm9rZVN0eWxlKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKGZpbGxTdHlsZSkge1xuICAgICAgY29uc3QgZmlsbFN0eWxlQ29sb3IgPSBmaWxsU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgIHN0YXRlLmZpbGxTdHlsZSA9IGFzQ29sb3JMaWtlKFxuICAgICAgICBmaWxsU3R5bGVDb2xvciA/IGZpbGxTdHlsZUNvbG9yIDogZGVmYXVsdEZpbGxTdHlsZVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuZmlsbFN0eWxlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoc3Ryb2tlU3R5bGUpIHtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlQ29sb3IgPSBzdHJva2VTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUgPSBhc0NvbG9yTGlrZShcbiAgICAgICAgc3Ryb2tlU3R5bGVDb2xvciA/IHN0cm9rZVN0eWxlQ29sb3IgOiBkZWZhdWx0U3Ryb2tlU3R5bGVcbiAgICAgICk7XG4gICAgICBjb25zdCBzdHJva2VTdHlsZUxpbmVDYXAgPSBzdHJva2VTdHlsZS5nZXRMaW5lQ2FwKCk7XG4gICAgICBzdGF0ZS5saW5lQ2FwID1cbiAgICAgICAgc3Ryb2tlU3R5bGVMaW5lQ2FwICE9PSB1bmRlZmluZWQgPyBzdHJva2VTdHlsZUxpbmVDYXAgOiBkZWZhdWx0TGluZUNhcDtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlTGluZURhc2ggPSBzdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgc3RhdGUubGluZURhc2ggPSBzdHJva2VTdHlsZUxpbmVEYXNoXG4gICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lRGFzaC5zbGljZSgpXG4gICAgICAgIDogZGVmYXVsdExpbmVEYXNoO1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0eWxlLmdldExpbmVEYXNoT2Zmc2V0KCk7XG4gICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgPyBzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0XG4gICAgICAgIDogZGVmYXVsdExpbmVEYXNoT2Zmc2V0O1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGVMaW5lSm9pbiA9IHN0cm9rZVN0eWxlLmdldExpbmVKb2luKCk7XG4gICAgICBzdGF0ZS5saW5lSm9pbiA9XG4gICAgICAgIHN0cm9rZVN0eWxlTGluZUpvaW4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lSm9pblxuICAgICAgICAgIDogZGVmYXVsdExpbmVKb2luO1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGVXaWR0aCA9IHN0cm9rZVN0eWxlLmdldFdpZHRoKCk7XG4gICAgICBzdGF0ZS5saW5lV2lkdGggPVxuICAgICAgICBzdHJva2VTdHlsZVdpZHRoICE9PSB1bmRlZmluZWQgPyBzdHJva2VTdHlsZVdpZHRoIDogZGVmYXVsdExpbmVXaWR0aDtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlTWl0ZXJMaW1pdCA9IHN0cm9rZVN0eWxlLmdldE1pdGVyTGltaXQoKTtcbiAgICAgIHN0YXRlLm1pdGVyTGltaXQgPVxuICAgICAgICBzdHJva2VTdHlsZU1pdGVyTGltaXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gc3Ryb2tlU3R5bGVNaXRlckxpbWl0XG4gICAgICAgICAgOiBkZWZhdWx0TWl0ZXJMaW1pdDtcblxuICAgICAgaWYgKHN0YXRlLmxpbmVXaWR0aCA+IHRoaXMubWF4TGluZVdpZHRoKSB7XG4gICAgICAgIHRoaXMubWF4TGluZVdpZHRoID0gc3RhdGUubGluZVdpZHRoO1xuICAgICAgICAvLyBpbnZhbGlkYXRlIHRoZSBidWZmZXJlZCBtYXggZXh0ZW50IGNhY2hlXG4gICAgICAgIHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUgPSB1bmRlZmluZWQ7XG4gICAgICBzdGF0ZS5saW5lQ2FwID0gdW5kZWZpbmVkO1xuICAgICAgc3RhdGUubGluZURhc2ggPSBudWxsO1xuICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQgPSB1bmRlZmluZWQ7XG4gICAgICBzdGF0ZS5saW5lSm9pbiA9IHVuZGVmaW5lZDtcbiAgICAgIHN0YXRlLmxpbmVXaWR0aCA9IHVuZGVmaW5lZDtcbiAgICAgIHN0YXRlLm1pdGVyTGltaXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAqIEByZXR1cm4ge0FycmF5PCo+fSBGaWxsIGluc3RydWN0aW9uLlxuICAgKi9cbiAgY3JlYXRlRmlsbChzdGF0ZSkge1xuICAgIGNvbnN0IGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICAvKiogQHR5cGUge0FycmF5PCo+fSAqL1xuICAgIGNvbnN0IGZpbGxJbnN0cnVjdGlvbiA9IFtDYW52YXNJbnN0cnVjdGlvbi5TRVRfRklMTF9TVFlMRSwgZmlsbFN0eWxlXTtcbiAgICBpZiAodHlwZW9mIGZpbGxTdHlsZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIEZpbGwgaXMgYSBwYXR0ZXJuIG9yIGdyYWRpZW50IC0gYWxpZ24gaXQhXG4gICAgICBmaWxsSW5zdHJ1Y3Rpb24ucHVzaCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbGxJbnN0cnVjdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgKi9cbiAgYXBwbHlTdHJva2Uoc3RhdGUpIHtcbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHRoaXMuY3JlYXRlU3Ryb2tlKHN0YXRlKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICogQHJldHVybiB7QXJyYXk8Kj59IFN0cm9rZSBpbnN0cnVjdGlvbi5cbiAgICovXG4gIGNyZWF0ZVN0cm9rZShzdGF0ZSkge1xuICAgIHJldHVybiBbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICBzdGF0ZS5saW5lV2lkdGggKiB0aGlzLnBpeGVsUmF0aW8sXG4gICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICBzdGF0ZS5taXRlckxpbWl0LFxuICAgICAgdGhpcy5hcHBseVBpeGVsUmF0aW8oc3RhdGUubGluZURhc2gpLFxuICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQgKiB0aGlzLnBpeGVsUmF0aW8sXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6Q2FudmFzQnVpbGRlciwgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZSk6QXJyYXk8Kj59IGNyZWF0ZUZpbGwgQ3JlYXRlIGZpbGwuXG4gICAqL1xuICB1cGRhdGVGaWxsU3R5bGUoc3RhdGUsIGNyZWF0ZUZpbGwpIHtcbiAgICBjb25zdCBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgaWYgKHR5cGVvZiBmaWxsU3R5bGUgIT09ICdzdHJpbmcnIHx8IHN0YXRlLmN1cnJlbnRGaWxsU3R5bGUgIT0gZmlsbFN0eWxlKSB7XG4gICAgICBpZiAoZmlsbFN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChjcmVhdGVGaWxsLmNhbGwodGhpcywgc3RhdGUpKTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmN1cnJlbnRGaWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczpDYW52YXNCdWlsZGVyLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlKTogdm9pZH0gYXBwbHlTdHJva2UgQXBwbHkgc3Ryb2tlLlxuICAgKi9cbiAgdXBkYXRlU3Ryb2tlU3R5bGUoc3RhdGUsIGFwcGx5U3Ryb2tlKSB7XG4gICAgY29uc3Qgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICBjb25zdCBsaW5lQ2FwID0gc3RhdGUubGluZUNhcDtcbiAgICBjb25zdCBsaW5lRGFzaCA9IHN0YXRlLmxpbmVEYXNoO1xuICAgIGNvbnN0IGxpbmVEYXNoT2Zmc2V0ID0gc3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgY29uc3QgbGluZUpvaW4gPSBzdGF0ZS5saW5lSm9pbjtcbiAgICBjb25zdCBsaW5lV2lkdGggPSBzdGF0ZS5saW5lV2lkdGg7XG4gICAgY29uc3QgbWl0ZXJMaW1pdCA9IHN0YXRlLm1pdGVyTGltaXQ7XG4gICAgaWYgKFxuICAgICAgc3RhdGUuY3VycmVudFN0cm9rZVN0eWxlICE9IHN0cm9rZVN0eWxlIHx8XG4gICAgICBzdGF0ZS5jdXJyZW50TGluZUNhcCAhPSBsaW5lQ2FwIHx8XG4gICAgICAobGluZURhc2ggIT0gc3RhdGUuY3VycmVudExpbmVEYXNoICYmXG4gICAgICAgICFlcXVhbHMoc3RhdGUuY3VycmVudExpbmVEYXNoLCBsaW5lRGFzaCkpIHx8XG4gICAgICBzdGF0ZS5jdXJyZW50TGluZURhc2hPZmZzZXQgIT0gbGluZURhc2hPZmZzZXQgfHxcbiAgICAgIHN0YXRlLmN1cnJlbnRMaW5lSm9pbiAhPSBsaW5lSm9pbiB8fFxuICAgICAgc3RhdGUuY3VycmVudExpbmVXaWR0aCAhPSBsaW5lV2lkdGggfHxcbiAgICAgIHN0YXRlLmN1cnJlbnRNaXRlckxpbWl0ICE9IG1pdGVyTGltaXRcbiAgICApIHtcbiAgICAgIGlmIChzdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFwcGx5U3Ryb2tlLmNhbGwodGhpcywgc3RhdGUpO1xuICAgICAgfVxuICAgICAgc3RhdGUuY3VycmVudFN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XG4gICAgICBzdGF0ZS5jdXJyZW50TGluZUNhcCA9IGxpbmVDYXA7XG4gICAgICBzdGF0ZS5jdXJyZW50TGluZURhc2ggPSBsaW5lRGFzaDtcbiAgICAgIHN0YXRlLmN1cnJlbnRMaW5lRGFzaE9mZnNldCA9IGxpbmVEYXNoT2Zmc2V0O1xuICAgICAgc3RhdGUuY3VycmVudExpbmVKb2luID0gbGluZUpvaW47XG4gICAgICBzdGF0ZS5jdXJyZW50TGluZVdpZHRoID0gbGluZVdpZHRoO1xuICAgICAgc3RhdGUuY3VycmVudE1pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGVuZEdlb21ldHJ5KGZlYXR1cmUpIHtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfWzJdID0gdGhpcy5pbnN0cnVjdGlvbnMubGVuZ3RoO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8gPSBudWxsO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl9bMl0gPSB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5sZW5ndGg7XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yXyA9IG51bGw7XG4gICAgY29uc3QgZW5kR2VvbWV0cnlJbnN0cnVjdGlvbiA9IFtDYW52YXNJbnN0cnVjdGlvbi5FTkRfR0VPTUVUUlksIGZlYXR1cmVdO1xuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goZW5kR2VvbWV0cnlJbnN0cnVjdGlvbik7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChlbmRHZW9tZXRyeUluc3RydWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGJ1ZmZlcmVkIHJlbmRlcmluZyBleHRlbnQuICBSZW5kZXJpbmcgd2lsbCBiZSBjbGlwcGVkIHRvIHRoZSBleHRlbnRcbiAgICogcHJvdmlkZWQgdG8gdGhlIGNvbnN0cnVjdG9yLiAgVG8gYWNjb3VudCBmb3Igc3ltYm9saXplcnMgdGhhdCBtYXkgaW50ZXJzZWN0XG4gICAqIHRoaXMgZXh0ZW50LCB3ZSBjYWxjdWxhdGUgYSBidWZmZXJlZCBleHRlbnQgKGUuZy4gYmFzZWQgb24gc3Ryb2tlIHdpZHRoKS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIGJ1ZmZlcmVkIHJlbmRlcmluZyBleHRlbnQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGdldEJ1ZmZlcmVkTWF4RXh0ZW50KCkge1xuICAgIGlmICghdGhpcy5idWZmZXJlZE1heEV4dGVudF8pIHtcbiAgICAgIHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfID0gY2xvbmUodGhpcy5tYXhFeHRlbnQpO1xuICAgICAgaWYgKHRoaXMubWF4TGluZVdpZHRoID4gMCkge1xuICAgICAgICBjb25zdCB3aWR0aCA9ICh0aGlzLnJlc29sdXRpb24gKiAodGhpcy5tYXhMaW5lV2lkdGggKyAxKSkgLyAyO1xuICAgICAgICBidWZmZXIodGhpcy5idWZmZXJlZE1heEV4dGVudF8sIHdpZHRoLCB0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50Xyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50XztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNCdWlsZGVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvUG9seWdvbkJ1aWxkZXJcbiAqL1xuaW1wb3J0IENhbnZhc0J1aWxkZXIgZnJvbSAnLi9CdWlsZGVyLmpzJztcbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiwge1xuICBiZWdpblBhdGhJbnN0cnVjdGlvbixcbiAgY2xvc2VQYXRoSW5zdHJ1Y3Rpb24sXG4gIGZpbGxJbnN0cnVjdGlvbixcbiAgc3Ryb2tlSW5zdHJ1Y3Rpb24sXG59IGZyb20gJy4vSW5zdHJ1Y3Rpb24uanMnO1xuaW1wb3J0IHtkZWZhdWx0RmlsbFN0eWxlfSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHtzbmFwfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvc2ltcGxpZnkuanMnO1xuXG5jbGFzcyBDYW52YXNQb2x5Z29uQnVpbGRlciBleHRlbmRzIENhbnZhc0J1aWxkZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgc3VwZXIodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge251bWJlcn0gRW5kLlxuICAgKi9cbiAgZHJhd0ZsYXRDb29yZGluYXRlc3NfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgZmlsbCA9IHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IHN0cm9rZSA9IHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQ7XG4gICAgY29uc3QgbnVtRW5kcyA9IGVuZHMubGVuZ3RoO1xuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24pO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRW5kczsgKytpKSB7XG4gICAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgICAgY29uc3QgbXlCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgY29uc3QgbXlFbmQgPSB0aGlzLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoXG4gICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBlbmQsXG4gICAgICAgIHN0cmlkZSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgIXN0cm9rZVxuICAgICAgKTtcbiAgICAgIGNvbnN0IG1vdmVUb0xpbmVUb0luc3RydWN0aW9uID0gW1xuICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5NT1ZFX1RPX0xJTkVfVE8sXG4gICAgICAgIG15QmVnaW4sXG4gICAgICAgIG15RW5kLFxuICAgICAgXTtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2gobW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24pO1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbik7XG4gICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgIC8vIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbjogb25seSBjYWxsIGNsb3NlUGF0aCgpIHdoZW4gd2UgaGF2ZSBhIHN0cm9rZS5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZSByaW5nIGlzIGNsb3NlZCBhbHJlYWR5IChzZWUgYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyBhYm92ZSkuXG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goY2xvc2VQYXRoSW5zdHJ1Y3Rpb24pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGNsb3NlUGF0aEluc3RydWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgaWYgKGZpbGwpIHtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICB9XG4gICAgaWYgKHN0cm9rZSkge1xuICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGNpcmNsZUdlb21ldHJ5IENpcmNsZSBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdDaXJjbGUoY2lyY2xlR2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgZmlsbFN0eWxlID0gc3RhdGUuZmlsbFN0eWxlO1xuICAgIGNvbnN0IHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgaWYgKGZpbGxTdHlsZSA9PT0gdW5kZWZpbmVkICYmIHN0cm9rZVN0eWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRGaWxsU3Ryb2tlU3R5bGVzXygpO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeShjaXJjbGVHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgaWYgKHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX0ZJTExfU1RZTEUsXG4gICAgICAgIGRlZmF1bHRGaWxsU3R5bGUsXG4gICAgICBdKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICBzdGF0ZS5saW5lSm9pbixcbiAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgc3RhdGUubGluZURhc2gsXG4gICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgXSk7XG4gICAgfVxuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IGNpcmNsZUdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGNvbnN0IHN0cmlkZSA9IGNpcmNsZUdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgIGNvbnN0IG15QmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICB0aGlzLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwLFxuICAgICAgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIGZhbHNlLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIGNvbnN0IGNpcmNsZUluc3RydWN0aW9uID0gW0NhbnZhc0luc3RydWN0aW9uLkNJUkNMRSwgbXlCZWdpbl07XG4gICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChiZWdpblBhdGhJbnN0cnVjdGlvbiwgY2lyY2xlSW5zdHJ1Y3Rpb24pO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24sIGNpcmNsZUluc3RydWN0aW9uKTtcbiAgICBpZiAoc3RhdGUuZmlsbFN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goZmlsbEluc3RydWN0aW9uKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgfVxuICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IHBvbHlnb25HZW9tZXRyeSBQb2x5Z29uIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdQb2x5Z29uKHBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgY29uc3Qgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICBpZiAoZmlsbFN0eWxlID09PSB1bmRlZmluZWQgJiYgc3Ryb2tlU3R5bGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZXNfKCk7XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5KHBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgaWYgKHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX0ZJTExfU1RZTEUsXG4gICAgICAgIGRlZmF1bHRGaWxsU3R5bGUsXG4gICAgICBdKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICBzdGF0ZS5saW5lSm9pbixcbiAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgc3RhdGUubGluZURhc2gsXG4gICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgXSk7XG4gICAgfVxuICAgIGNvbnN0IGVuZHMgPSBwb2x5Z29uR2VvbWV0cnkuZ2V0RW5kcygpO1xuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHBvbHlnb25HZW9tZXRyeS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpO1xuICAgIGNvbnN0IHN0cmlkZSA9IHBvbHlnb25HZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICB0aGlzLmRyYXdGbGF0Q29vcmRpbmF0ZXNzXyhcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIDAsXG4gICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChlbmRzKSxcbiAgICAgIHN0cmlkZVxuICAgICk7XG4gICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9IG11bHRpUG9seWdvbkdlb21ldHJ5IE11bHRpUG9seWdvbiBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3TXVsdGlQb2x5Z29uKG11bHRpUG9seWdvbkdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICBjb25zdCBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgIGlmIChmaWxsU3R5bGUgPT09IHVuZGVmaW5lZCAmJiBzdHJva2VTdHlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0RmlsbFN0cm9rZVN0eWxlc18oKTtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnkobXVsdGlQb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIGlmIChzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFLFxuICAgICAgICBkZWZhdWx0RmlsbFN0eWxlLFxuICAgICAgXSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgIHN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICAgIHN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgIHN0YXRlLmxpbmVEYXNoLFxuICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgIF0pO1xuICAgIH1cbiAgICBjb25zdCBlbmRzcyA9IG11bHRpUG9seWdvbkdlb21ldHJ5LmdldEVuZHNzKCk7XG4gICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gbXVsdGlQb2x5Z29uR2VvbWV0cnkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBjb25zdCBzdHJpZGUgPSBtdWx0aVBvbHlnb25HZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBvZmZzZXQgPSB0aGlzLmRyYXdGbGF0Q29vcmRpbmF0ZXNzXyhcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGVuZHNzW2ldLFxuICAgICAgICBzdHJpZGVcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9uc30gdGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICBmaW5pc2goKSB7XG4gICAgdGhpcy5yZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zKCk7XG4gICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgLy8gV2Ugd2FudCB0byBwcmVzZXJ2ZSB0b3BvbG9neSB3aGVuIGRyYXdpbmcgcG9seWdvbnMuICBQb2x5Z29ucyBhcmVcbiAgICAvLyBzaW1wbGlmaWVkIHVzaW5nIHF1YW50aXphdGlvbiBhbmQgcG9pbnQgZWxpbWluYXRpb24uIEhvd2V2ZXIsIHdlIG1pZ2h0XG4gICAgLy8gaGF2ZSByZWNlaXZlZCBhIG1peCBvZiBxdWFudGl6ZWQgYW5kIG5vbi1xdWFudGl6ZWQgZ2VvbWV0cmllcywgc28gZW5zdXJlXG4gICAgLy8gdGhhdCBhbGwgYXJlIHF1YW50aXplZCBieSBxdWFudGl6aW5nIGFsbCBjb29yZGluYXRlcyBpbiB0aGUgYmF0Y2guXG4gICAgY29uc3QgdG9sZXJhbmNlID0gdGhpcy50b2xlcmFuY2U7XG4gICAgaWYgKHRvbGVyYW5jZSAhPT0gMCkge1xuICAgICAgY29uc3QgY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBjb29yZGluYXRlc1tpXSA9IHNuYXAoY29vcmRpbmF0ZXNbaV0sIHRvbGVyYW5jZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5maW5pc2goKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2V0RmlsbFN0cm9rZVN0eWxlc18oKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICBpZiAoZmlsbFN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlRmlsbFN0eWxlKHN0YXRlLCB0aGlzLmNyZWF0ZUZpbGwpO1xuICAgIH1cbiAgICBpZiAoc3RhdGUuc3Ryb2tlU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy51cGRhdGVTdHJva2VTdHlsZShzdGF0ZSwgdGhpcy5hcHBseVN0cm9rZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1BvbHlnb25CdWlsZGVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9zdHJhaWdodGNodW5rXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4QW5nbGUgTWF4aW11bSBhY2NlcHRhYmxlIGFuZ2xlIGRlbHRhIGJldHdlZW4gc2VnbWVudHMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gU3RhcnQgYW5kIGVuZCBvZiB0aGUgZmlyc3Qgc3VpdGFibGUgY2h1bmsgb2YgdGhlXG4gKiBnaXZlbiBgZmxhdENvb3JkaW5hdGVzYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoaW5nQ2h1bmsobWF4QW5nbGUsIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICBsZXQgY2h1bmtTdGFydCA9IG9mZnNldDtcbiAgbGV0IGNodW5rRW5kID0gb2Zmc2V0O1xuICBsZXQgY2h1bmtNID0gMDtcbiAgbGV0IG0gPSAwO1xuICBsZXQgc3RhcnQgPSBvZmZzZXQ7XG4gIGxldCBhY29zLCBpLCBtMTIsIG0yMywgeDEsIHkxLCB4MTIsIHkxMiwgeDIzLCB5MjM7XG4gIGZvciAoaSA9IG9mZnNldDsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICBjb25zdCB4MiA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICBjb25zdCB5MiA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgaWYgKHgxICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHgyMyA9IHgyIC0geDE7XG4gICAgICB5MjMgPSB5MiAtIHkxO1xuICAgICAgbTIzID0gTWF0aC5zcXJ0KHgyMyAqIHgyMyArIHkyMyAqIHkyMyk7XG4gICAgICBpZiAoeDEyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbSArPSBtMTI7XG4gICAgICAgIGFjb3MgPSBNYXRoLmFjb3MoKHgxMiAqIHgyMyArIHkxMiAqIHkyMykgLyAobTEyICogbTIzKSk7XG4gICAgICAgIGlmIChhY29zID4gbWF4QW5nbGUpIHtcbiAgICAgICAgICBpZiAobSA+IGNodW5rTSkge1xuICAgICAgICAgICAgY2h1bmtNID0gbTtcbiAgICAgICAgICAgIGNodW5rU3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgIGNodW5rRW5kID0gaTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbSA9IDA7XG4gICAgICAgICAgc3RhcnQgPSBpIC0gc3RyaWRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtMTIgPSBtMjM7XG4gICAgICB4MTIgPSB4MjM7XG4gICAgICB5MTIgPSB5MjM7XG4gICAgfVxuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICBtICs9IG0yMztcbiAgcmV0dXJuIG0gPiBjaHVua00gPyBbc3RhcnQsIGldIDogW2NodW5rU3RhcnQsIGNodW5rRW5kXTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL1RleHRCdWlsZGVyXG4gKi9cbmltcG9ydCBDYW52YXNCdWlsZGVyIGZyb20gJy4vQnVpbGRlci5qcyc7XG5pbXBvcnQgQ2FudmFzSW5zdHJ1Y3Rpb24gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG5pbXBvcnQge2FzQ29sb3JMaWtlfSBmcm9tICcuLi8uLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEZpbGxTdHlsZSxcbiAgZGVmYXVsdEZvbnQsXG4gIGRlZmF1bHRMaW5lQ2FwLFxuICBkZWZhdWx0TGluZURhc2gsXG4gIGRlZmF1bHRMaW5lRGFzaE9mZnNldCxcbiAgZGVmYXVsdExpbmVKb2luLFxuICBkZWZhdWx0TGluZVdpZHRoLFxuICBkZWZhdWx0TWl0ZXJMaW1pdCxcbiAgZGVmYXVsdFBhZGRpbmcsXG4gIGRlZmF1bHRTdHJva2VTdHlsZSxcbiAgZGVmYXVsdFRleHRBbGlnbixcbiAgZGVmYXVsdFRleHRCYXNlbGluZSxcbiAgcmVnaXN0ZXJGb250LFxufSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4uLy4uL3V0aWwuanMnO1xuaW1wb3J0IHtpbnRlcnNlY3RzfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHttYXRjaGluZ0NodW5rfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvc3RyYWlnaHRjaHVuay5qcyc7XG4vKipcbiAqIEBjb25zdFxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IFRFWFRfQUxJR04gPSB7XG4gICdsZWZ0JzogMCxcbiAgJ2VuZCc6IDAsXG4gICdjZW50ZXInOiAwLjUsXG4gICdyaWdodCc6IDEsXG4gICdzdGFydCc6IDEsXG4gICd0b3AnOiAwLFxuICAnbWlkZGxlJzogMC41LFxuICAnaGFuZ2luZyc6IDAuMixcbiAgJ2FscGhhYmV0aWMnOiAwLjgsXG4gICdpZGVvZ3JhcGhpYyc6IDAuOCxcbiAgJ2JvdHRvbSc6IDEsXG59O1xuXG5jbGFzcyBDYW52YXNUZXh0QnVpbGRlciBleHRlbmRzIENhbnZhc0J1aWxkZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgc3VwZXIodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8SFRNTENhbnZhc0VsZW1lbnQ+fVxuICAgICAqL1xuICAgIHRoaXMubGFiZWxzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRfID0gJyc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50ZXh0T2Zmc2V0WF8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGV4dE9mZnNldFlfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRSb3RhdGlvbl8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGU+fVxuICAgICAqL1xuICAgIHRoaXMuZmlsbFN0YXRlcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGU+fVxuICAgICAqL1xuICAgIHRoaXMuc3Ryb2tlU3RhdGVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dFN0YXRlXyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX0gKi8gKHt9KTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZT59XG4gICAgICovXG4gICAgdGhpcy50ZXh0U3RhdGVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy50ZXh0S2V5XyA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuZmlsbEtleV8gPSAnJztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnN0cm9rZUtleV8gPSAnJztcblxuICAgIC8qKlxuICAgICAqIERhdGEgc2hhcmVkIHdpdGggYW4gaW1hZ2UgYnVpbGRlciBmb3IgY29tYmluZWQgZGVjbHV0dGVyaW5nLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fVxuICAgICAqL1xuICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8gPSB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9uc30gdGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICBmaW5pc2goKSB7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gc3VwZXIuZmluaXNoKCk7XG4gICAgaW5zdHJ1Y3Rpb25zLnRleHRTdGF0ZXMgPSB0aGlzLnRleHRTdGF0ZXM7XG4gICAgaW5zdHJ1Y3Rpb25zLmZpbGxTdGF0ZXMgPSB0aGlzLmZpbGxTdGF0ZXM7XG4gICAgaW5zdHJ1Y3Rpb25zLnN0cm9rZVN0YXRlcyA9IHRoaXMuc3Ryb2tlU3RhdGVzO1xuICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIGNvbnN0IGZpbGxTdGF0ZSA9IHRoaXMudGV4dEZpbGxTdGF0ZV87XG4gICAgY29uc3Qgc3Ryb2tlU3RhdGUgPSB0aGlzLnRleHRTdHJva2VTdGF0ZV87XG4gICAgY29uc3QgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVfO1xuICAgIGlmICh0aGlzLnRleHRfID09PSAnJyB8fCAhdGV4dFN0YXRlIHx8ICghZmlsbFN0YXRlICYmICFzdHJva2VTdGF0ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXM7XG4gICAgbGV0IGJlZ2luID0gY29vcmRpbmF0ZXMubGVuZ3RoO1xuXG4gICAgY29uc3QgZ2VvbWV0cnlUeXBlID0gZ2VvbWV0cnkuZ2V0VHlwZSgpO1xuICAgIGxldCBmbGF0Q29vcmRpbmF0ZXMgPSBudWxsO1xuICAgIGxldCBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcblxuICAgIGlmIChcbiAgICAgIHRleHRTdGF0ZS5wbGFjZW1lbnQgPT09ICdsaW5lJyAmJlxuICAgICAgKGdlb21ldHJ5VHlwZSA9PSAnTGluZVN0cmluZycgfHxcbiAgICAgICAgZ2VvbWV0cnlUeXBlID09ICdNdWx0aUxpbmVTdHJpbmcnIHx8XG4gICAgICAgIGdlb21ldHJ5VHlwZSA9PSAnUG9seWdvbicgfHxcbiAgICAgICAgZ2VvbWV0cnlUeXBlID09ICdNdWx0aVBvbHlnb24nKVxuICAgICkge1xuICAgICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZ2V0QnVmZmVyZWRNYXhFeHRlbnQoKSwgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBlbmRzO1xuICAgICAgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICBpZiAoZ2VvbWV0cnlUeXBlID09ICdMaW5lU3RyaW5nJykge1xuICAgICAgICBlbmRzID0gW2ZsYXRDb29yZGluYXRlcy5sZW5ndGhdO1xuICAgICAgfSBlbHNlIGlmIChnZW9tZXRyeVR5cGUgPT0gJ011bHRpTGluZVN0cmluZycpIHtcbiAgICAgICAgZW5kcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICkuZ2V0RW5kcygpO1xuICAgICAgfSBlbHNlIGlmIChnZW9tZXRyeVR5cGUgPT0gJ1BvbHlnb24nKSB7XG4gICAgICAgIGVuZHMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpXG4gICAgICAgICAgLmdldEVuZHMoKVxuICAgICAgICAgIC5zbGljZSgwLCAxKTtcbiAgICAgIH0gZWxzZSBpZiAoZ2VvbWV0cnlUeXBlID09ICdNdWx0aVBvbHlnb24nKSB7XG4gICAgICAgIGNvbnN0IGVuZHNzID1cbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICAgKS5nZXRFbmRzcygpO1xuICAgICAgICBlbmRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICBlbmRzLnB1c2goZW5kc3NbaV1bMF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmJlZ2luR2VvbWV0cnkoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgICAgY29uc3QgdGV4dEFsaWduID0gdGV4dFN0YXRlLnRleHRBbGlnbjtcbiAgICAgIC8vIE5vIGBqdXN0aWZ5YCBzdXBwb3J0IGZvciBsaW5lIHBsYWNlbWVudC5cbiAgICAgIGxldCBmbGF0T2Zmc2V0ID0gMDtcbiAgICAgIGxldCBmbGF0RW5kO1xuICAgICAgZm9yIChsZXQgbyA9IDAsIG9vID0gZW5kcy5sZW5ndGg7IG8gPCBvbzsgKytvKSB7XG4gICAgICAgIGlmICh0ZXh0QWxpZ24gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29uc3QgcmFuZ2UgPSBtYXRjaGluZ0NodW5rKFxuICAgICAgICAgICAgdGV4dFN0YXRlLm1heEFuZ2xlLFxuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAgICAgZmxhdE9mZnNldCxcbiAgICAgICAgICAgIGVuZHNbb10sXG4gICAgICAgICAgICBzdHJpZGVcbiAgICAgICAgICApO1xuICAgICAgICAgIGZsYXRPZmZzZXQgPSByYW5nZVswXTtcbiAgICAgICAgICBmbGF0RW5kID0gcmFuZ2VbMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmxhdEVuZCA9IGVuZHNbb107XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IGZsYXRPZmZzZXQ7IGkgPCBmbGF0RW5kOyBpICs9IHN0cmlkZSkge1xuICAgICAgICAgIGNvb3JkaW5hdGVzLnB1c2goZmxhdENvb3JkaW5hdGVzW2ldLCBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbmQgPSBjb29yZGluYXRlcy5sZW5ndGg7XG4gICAgICAgIGZsYXRPZmZzZXQgPSBlbmRzW29dO1xuICAgICAgICB0aGlzLmRyYXdDaGFyc18oYmVnaW4sIGVuZCk7XG4gICAgICAgIGJlZ2luID0gZW5kO1xuICAgICAgfVxuICAgICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGdlb21ldHJ5V2lkdGhzID0gdGV4dFN0YXRlLm92ZXJmbG93ID8gbnVsbCA6IFtdO1xuICAgICAgc3dpdGNoIChnZW9tZXRyeVR5cGUpIHtcbiAgICAgICAgY2FzZSAnUG9pbnQnOlxuICAgICAgICBjYXNlICdNdWx0aVBvaW50JzpcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgICAgKS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGluZVN0cmluZyc6XG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgICAgICkuZ2V0RmxhdE1pZHBvaW50KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0NpcmNsZSc6XG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgICAgKS5nZXRDZW50ZXIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICAgICApLmdldEZsYXRNaWRwb2ludHMoKTtcbiAgICAgICAgICBzdHJpZGUgPSAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdQb2x5Z29uJzpcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgICAgKS5nZXRGbGF0SW50ZXJpb3JQb2ludCgpO1xuICAgICAgICAgIGlmICghdGV4dFN0YXRlLm92ZXJmbG93KSB7XG4gICAgICAgICAgICBnZW9tZXRyeVdpZHRocy5wdXNoKGZsYXRDb29yZGluYXRlc1syXSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0cmlkZSA9IDM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ011bHRpUG9seWdvbic6XG4gICAgICAgICAgY29uc3QgaW50ZXJpb3JQb2ludHMgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICAgICApLmdldEZsYXRJbnRlcmlvclBvaW50cygpO1xuICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGludGVyaW9yUG9pbnRzLmxlbmd0aDsgaSA8IGlpOyBpICs9IDMpIHtcbiAgICAgICAgICAgIGlmICghdGV4dFN0YXRlLm92ZXJmbG93KSB7XG4gICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzLnB1c2goaW50ZXJpb3JQb2ludHNbaSArIDJdIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcy5wdXNoKGludGVyaW9yUG9pbnRzW2ldLCBpbnRlcmlvclBvaW50c1tpICsgMV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdHJpZGUgPSAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgfVxuICAgICAgY29uc3QgZW5kID0gdGhpcy5hcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG4gICAgICBpZiAoZW5kID09PSBiZWdpbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGdlb21ldHJ5V2lkdGhzICYmXG4gICAgICAgIChlbmQgLSBiZWdpbikgLyAyICE9PSBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoIC8gc3RyaWRlXG4gICAgICApIHtcbiAgICAgICAgbGV0IGJlZyA9IGJlZ2luIC8gMjtcbiAgICAgICAgZ2VvbWV0cnlXaWR0aHMgPSBnZW9tZXRyeVdpZHRocy5maWx0ZXIoKHcsIGkpID0+IHtcbiAgICAgICAgICBjb25zdCBrZWVwID1cbiAgICAgICAgICAgIGNvb3JkaW5hdGVzWyhiZWcgKyBpKSAqIDJdID09PSBmbGF0Q29vcmRpbmF0ZXNbaSAqIHN0cmlkZV0gJiZcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzWyhiZWcgKyBpKSAqIDIgKyAxXSA9PT0gZmxhdENvb3JkaW5hdGVzW2kgKiBzdHJpZGUgKyAxXTtcbiAgICAgICAgICBpZiAoIWtlZXApIHtcbiAgICAgICAgICAgIC0tYmVnO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4ga2VlcDtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2F2ZVRleHRTdGF0ZXNfKCk7XG5cbiAgICAgIGlmICh0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwgfHwgdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UpIHtcbiAgICAgICAgdGhpcy5zZXRGaWxsU3Ryb2tlU3R5bGUoXG4gICAgICAgICAgdGV4dFN0YXRlLmJhY2tncm91bmRGaWxsLFxuICAgICAgICAgIHRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUZpbGxTdHlsZSh0aGlzLnN0YXRlLCB0aGlzLmNyZWF0ZUZpbGwpO1xuICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2godGhpcy5jcmVhdGVGaWxsKHRoaXMuc3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVN0cm9rZVN0eWxlKHRoaXMuc3RhdGUsIHRoaXMuYXBwbHlTdHJva2UpO1xuICAgICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2godGhpcy5jcmVhdGVTdHJva2UodGhpcy5zdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYmVnaW5HZW9tZXRyeShnZW9tZXRyeSwgZmVhdHVyZSk7XG5cbiAgICAgIC8vIGFkanVzdCBwYWRkaW5nIGZvciBuZWdhdGl2ZSBzY2FsZVxuICAgICAgbGV0IHBhZGRpbmcgPSB0ZXh0U3RhdGUucGFkZGluZztcbiAgICAgIGlmIChcbiAgICAgICAgcGFkZGluZyAhPSBkZWZhdWx0UGFkZGluZyAmJlxuICAgICAgICAodGV4dFN0YXRlLnNjYWxlWzBdIDwgMCB8fCB0ZXh0U3RhdGUuc2NhbGVbMV0gPCAwKVxuICAgICAgKSB7XG4gICAgICAgIGxldCBwMCA9IHRleHRTdGF0ZS5wYWRkaW5nWzBdO1xuICAgICAgICBsZXQgcDEgPSB0ZXh0U3RhdGUucGFkZGluZ1sxXTtcbiAgICAgICAgbGV0IHAyID0gdGV4dFN0YXRlLnBhZGRpbmdbMl07XG4gICAgICAgIGxldCBwMyA9IHRleHRTdGF0ZS5wYWRkaW5nWzNdO1xuICAgICAgICBpZiAodGV4dFN0YXRlLnNjYWxlWzBdIDwgMCkge1xuICAgICAgICAgIHAxID0gLXAxO1xuICAgICAgICAgIHAzID0gLXAzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXh0U3RhdGUuc2NhbGVbMV0gPCAwKSB7XG4gICAgICAgICAgcDAgPSAtcDA7XG4gICAgICAgICAgcDIgPSAtcDI7XG4gICAgICAgIH1cbiAgICAgICAgcGFkZGluZyA9IFtwMCwgcDEsIHAyLCBwM107XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBpbWFnZSBpcyB1bmtub3duIGF0IHRoaXMgc3RhZ2Ugc28gd2UgcGFzcyBudWxsOyBpdCB3aWxsIGJlIGNvbXB1dGVkIGF0IHJlbmRlciB0aW1lLlxuICAgICAgLy8gRm9yIGNsYXJpdHksIHdlIHBhc3MgTmFOIGZvciBvZmZzZXRYLCBvZmZzZXRZLCB3aWR0aCBhbmQgaGVpZ2h0LCB3aGljaCB3aWxsIGJlIGNvbXB1dGVkIGF0XG4gICAgICAvLyByZW5kZXIgdGltZS5cbiAgICAgIGNvbnN0IHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW87XG4gICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgICAgYmVnaW4sXG4gICAgICAgIGVuZCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgTmFOLFxuICAgICAgICBOYU4sXG4gICAgICAgIE5hTixcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfLFxuICAgICAgICB0aGlzLnRleHRSb3RhdGlvbl8sXG4gICAgICAgIFsxLCAxXSxcbiAgICAgICAgTmFOLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8sXG4gICAgICAgIHBhZGRpbmcgPT0gZGVmYXVsdFBhZGRpbmdcbiAgICAgICAgICA/IGRlZmF1bHRQYWRkaW5nXG4gICAgICAgICAgOiBwYWRkaW5nLm1hcChmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgICByZXR1cm4gcCAqIHBpeGVsUmF0aW87XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgISF0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwsXG4gICAgICAgICEhdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UsXG4gICAgICAgIHRoaXMudGV4dF8sXG4gICAgICAgIHRoaXMudGV4dEtleV8sXG4gICAgICAgIHRoaXMuc3Ryb2tlS2V5XyxcbiAgICAgICAgdGhpcy5maWxsS2V5XyxcbiAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WF8sXG4gICAgICAgIHRoaXMudGV4dE9mZnNldFlfLFxuICAgICAgICBnZW9tZXRyeVdpZHRocyxcbiAgICAgIF0pO1xuICAgICAgY29uc3Qgc2NhbGUgPSAxIC8gcGl4ZWxSYXRpbztcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLFxuICAgICAgICBiZWdpbixcbiAgICAgICAgZW5kLFxuICAgICAgICBudWxsLFxuICAgICAgICBOYU4sXG4gICAgICAgIE5hTixcbiAgICAgICAgTmFOLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18sXG4gICAgICAgIHRoaXMudGV4dFJvdGF0aW9uXyxcbiAgICAgICAgW3NjYWxlLCBzY2FsZV0sXG4gICAgICAgIE5hTixcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgICAgICBwYWRkaW5nLFxuICAgICAgICAhIXRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCxcbiAgICAgICAgISF0ZXh0U3RhdGUuYmFja2dyb3VuZFN0cm9rZSxcbiAgICAgICAgdGhpcy50ZXh0XyxcbiAgICAgICAgdGhpcy50ZXh0S2V5XyxcbiAgICAgICAgdGhpcy5zdHJva2VLZXlfLFxuICAgICAgICB0aGlzLmZpbGxLZXlfLFxuICAgICAgICB0aGlzLnRleHRPZmZzZXRYXyxcbiAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WV8sXG4gICAgICAgIGdlb21ldHJ5V2lkdGhzLFxuICAgICAgXSk7XG5cbiAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzYXZlVGV4dFN0YXRlc18oKSB7XG4gICAgY29uc3Qgc3Ryb2tlU3RhdGUgPSB0aGlzLnRleHRTdHJva2VTdGF0ZV87XG4gICAgY29uc3QgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVfO1xuICAgIGNvbnN0IGZpbGxTdGF0ZSA9IHRoaXMudGV4dEZpbGxTdGF0ZV87XG5cbiAgICBjb25zdCBzdHJva2VLZXkgPSB0aGlzLnN0cm9rZUtleV87XG4gICAgaWYgKHN0cm9rZVN0YXRlKSB7XG4gICAgICBpZiAoIShzdHJva2VLZXkgaW4gdGhpcy5zdHJva2VTdGF0ZXMpKSB7XG4gICAgICAgIHRoaXMuc3Ryb2tlU3RhdGVzW3N0cm9rZUtleV0gPSB7XG4gICAgICAgICAgc3Ryb2tlU3R5bGU6IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICAgIGxpbmVDYXA6IHN0cm9rZVN0YXRlLmxpbmVDYXAsXG4gICAgICAgICAgbGluZURhc2hPZmZzZXQ6IHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgICAgIGxpbmVXaWR0aDogc3Ryb2tlU3RhdGUubGluZVdpZHRoLFxuICAgICAgICAgIGxpbmVKb2luOiBzdHJva2VTdGF0ZS5saW5lSm9pbixcbiAgICAgICAgICBtaXRlckxpbWl0OiBzdHJva2VTdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICAgIGxpbmVEYXNoOiBzdHJva2VTdGF0ZS5saW5lRGFzaCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdGV4dEtleSA9IHRoaXMudGV4dEtleV87XG4gICAgaWYgKCEodGV4dEtleSBpbiB0aGlzLnRleHRTdGF0ZXMpKSB7XG4gICAgICB0aGlzLnRleHRTdGF0ZXNbdGV4dEtleV0gPSB7XG4gICAgICAgIGZvbnQ6IHRleHRTdGF0ZS5mb250LFxuICAgICAgICB0ZXh0QWxpZ246IHRleHRTdGF0ZS50ZXh0QWxpZ24gfHwgZGVmYXVsdFRleHRBbGlnbixcbiAgICAgICAganVzdGlmeTogdGV4dFN0YXRlLmp1c3RpZnksXG4gICAgICAgIHRleHRCYXNlbGluZTogdGV4dFN0YXRlLnRleHRCYXNlbGluZSB8fCBkZWZhdWx0VGV4dEJhc2VsaW5lLFxuICAgICAgICBzY2FsZTogdGV4dFN0YXRlLnNjYWxlLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZmlsbEtleSA9IHRoaXMuZmlsbEtleV87XG4gICAgaWYgKGZpbGxTdGF0ZSkge1xuICAgICAgaWYgKCEoZmlsbEtleSBpbiB0aGlzLmZpbGxTdGF0ZXMpKSB7XG4gICAgICAgIHRoaXMuZmlsbFN0YXRlc1tmaWxsS2V5XSA9IHtcbiAgICAgICAgICBmaWxsU3R5bGU6IGZpbGxTdGF0ZS5maWxsU3R5bGUsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbiBCZWdpbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAqL1xuICBkcmF3Q2hhcnNfKGJlZ2luLCBlbmQpIHtcbiAgICBjb25zdCBzdHJva2VTdGF0ZSA9IHRoaXMudGV4dFN0cm9rZVN0YXRlXztcbiAgICBjb25zdCB0ZXh0U3RhdGUgPSB0aGlzLnRleHRTdGF0ZV87XG5cbiAgICBjb25zdCBzdHJva2VLZXkgPSB0aGlzLnN0cm9rZUtleV87XG4gICAgY29uc3QgdGV4dEtleSA9IHRoaXMudGV4dEtleV87XG4gICAgY29uc3QgZmlsbEtleSA9IHRoaXMuZmlsbEtleV87XG4gICAgdGhpcy5zYXZlVGV4dFN0YXRlc18oKTtcblxuICAgIGNvbnN0IHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW87XG4gICAgY29uc3QgYmFzZWxpbmUgPSBURVhUX0FMSUdOW3RleHRTdGF0ZS50ZXh0QmFzZWxpbmVdO1xuXG4gICAgY29uc3Qgb2Zmc2V0WSA9IHRoaXMudGV4dE9mZnNldFlfICogcGl4ZWxSYXRpbztcbiAgICBjb25zdCB0ZXh0ID0gdGhpcy50ZXh0XztcbiAgICBjb25zdCBzdHJva2VXaWR0aCA9IHN0cm9rZVN0YXRlXG4gICAgICA/IChzdHJva2VTdGF0ZS5saW5lV2lkdGggKiBNYXRoLmFicyh0ZXh0U3RhdGUuc2NhbGVbMF0pKSAvIDJcbiAgICAgIDogMDtcblxuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19DSEFSUyxcbiAgICAgIGJlZ2luLFxuICAgICAgZW5kLFxuICAgICAgYmFzZWxpbmUsXG4gICAgICB0ZXh0U3RhdGUub3ZlcmZsb3csXG4gICAgICBmaWxsS2V5LFxuICAgICAgdGV4dFN0YXRlLm1heEFuZ2xlLFxuICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgIG9mZnNldFksXG4gICAgICBzdHJva2VLZXksXG4gICAgICBzdHJva2VXaWR0aCAqIHBpeGVsUmF0aW8sXG4gICAgICB0ZXh0LFxuICAgICAgdGV4dEtleSxcbiAgICAgIDEsXG4gICAgXSk7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0NIQVJTLFxuICAgICAgYmVnaW4sXG4gICAgICBlbmQsXG4gICAgICBiYXNlbGluZSxcbiAgICAgIHRleHRTdGF0ZS5vdmVyZmxvdyxcbiAgICAgIGZpbGxLZXksXG4gICAgICB0ZXh0U3RhdGUubWF4QW5nbGUsXG4gICAgICAxLFxuICAgICAgb2Zmc2V0WSxcbiAgICAgIHN0cm9rZUtleSxcbiAgICAgIHN0cm9rZVdpZHRoLFxuICAgICAgdGV4dCxcbiAgICAgIHRleHRLZXksXG4gICAgICAxIC8gcGl4ZWxSYXRpbyxcbiAgICBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1RleHQuanNcIikuZGVmYXVsdH0gdGV4dFN0eWxlIFRleHQgc3R5bGUuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbc2hhcmVkRGF0YV0gU2hhcmVkIGRhdGEuXG4gICAqL1xuICBzZXRUZXh0U3R5bGUodGV4dFN0eWxlLCBzaGFyZWREYXRhKSB7XG4gICAgbGV0IHRleHRTdGF0ZSwgZmlsbFN0YXRlLCBzdHJva2VTdGF0ZTtcbiAgICBpZiAoIXRleHRTdHlsZSkge1xuICAgICAgdGhpcy50ZXh0XyA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0ZXh0RmlsbFN0eWxlID0gdGV4dFN0eWxlLmdldEZpbGwoKTtcbiAgICAgIGlmICghdGV4dEZpbGxTdHlsZSkge1xuICAgICAgICBmaWxsU3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHRGaWxsU3RhdGVfID0gZmlsbFN0YXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsbFN0YXRlID0gdGhpcy50ZXh0RmlsbFN0YXRlXztcbiAgICAgICAgaWYgKCFmaWxsU3RhdGUpIHtcbiAgICAgICAgICBmaWxsU3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9ICovICh7fSk7XG4gICAgICAgICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IGZpbGxTdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBmaWxsU3RhdGUuZmlsbFN0eWxlID0gYXNDb2xvckxpa2UoXG4gICAgICAgICAgdGV4dEZpbGxTdHlsZS5nZXRDb2xvcigpIHx8IGRlZmF1bHRGaWxsU3R5bGVcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGV4dFN0cm9rZVN0eWxlID0gdGV4dFN0eWxlLmdldFN0cm9rZSgpO1xuICAgICAgaWYgKCF0ZXh0U3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgc3Ryb2tlU3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBzdHJva2VTdGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0cm9rZVN0YXRlID0gdGhpcy50ZXh0U3Ryb2tlU3RhdGVfO1xuICAgICAgICBpZiAoIXN0cm9rZVN0YXRlKSB7XG4gICAgICAgICAgc3Ryb2tlU3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX0gKi8gKHt9KTtcbiAgICAgICAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBzdHJva2VTdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaW5lRGFzaCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgICBjb25zdCBsaW5lRGFzaE9mZnNldCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgICBjb25zdCBsaW5lV2lkdGggPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0V2lkdGgoKTtcbiAgICAgICAgY29uc3QgbWl0ZXJMaW1pdCA9IHRleHRTdHJva2VTdHlsZS5nZXRNaXRlckxpbWl0KCk7XG4gICAgICAgIHN0cm9rZVN0YXRlLmxpbmVDYXAgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZUNhcCgpIHx8IGRlZmF1bHRMaW5lQ2FwO1xuICAgICAgICBzdHJva2VTdGF0ZS5saW5lRGFzaCA9IGxpbmVEYXNoID8gbGluZURhc2guc2xpY2UoKSA6IGRlZmF1bHRMaW5lRGFzaDtcbiAgICAgICAgc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQgPVxuICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TGluZURhc2hPZmZzZXQgOiBsaW5lRGFzaE9mZnNldDtcbiAgICAgICAgc3Ryb2tlU3RhdGUubGluZUpvaW4gPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZUpvaW4oKSB8fCBkZWZhdWx0TGluZUpvaW47XG4gICAgICAgIHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA9XG4gICAgICAgICAgbGluZVdpZHRoID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TGluZVdpZHRoIDogbGluZVdpZHRoO1xuICAgICAgICBzdHJva2VTdGF0ZS5taXRlckxpbWl0ID1cbiAgICAgICAgICBtaXRlckxpbWl0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TWl0ZXJMaW1pdCA6IG1pdGVyTGltaXQ7XG4gICAgICAgIHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlID0gYXNDb2xvckxpa2UoXG4gICAgICAgICAgdGV4dFN0cm9rZVN0eWxlLmdldENvbG9yKCkgfHwgZGVmYXVsdFN0cm9rZVN0eWxlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlXztcbiAgICAgIGNvbnN0IGZvbnQgPSB0ZXh0U3R5bGUuZ2V0Rm9udCgpIHx8IGRlZmF1bHRGb250O1xuICAgICAgcmVnaXN0ZXJGb250KGZvbnQpO1xuICAgICAgY29uc3QgdGV4dFNjYWxlID0gdGV4dFN0eWxlLmdldFNjYWxlQXJyYXkoKTtcbiAgICAgIHRleHRTdGF0ZS5vdmVyZmxvdyA9IHRleHRTdHlsZS5nZXRPdmVyZmxvdygpO1xuICAgICAgdGV4dFN0YXRlLmZvbnQgPSBmb250O1xuICAgICAgdGV4dFN0YXRlLm1heEFuZ2xlID0gdGV4dFN0eWxlLmdldE1heEFuZ2xlKCk7XG4gICAgICB0ZXh0U3RhdGUucGxhY2VtZW50ID0gdGV4dFN0eWxlLmdldFBsYWNlbWVudCgpO1xuICAgICAgdGV4dFN0YXRlLnRleHRBbGlnbiA9IHRleHRTdHlsZS5nZXRUZXh0QWxpZ24oKTtcbiAgICAgIHRleHRTdGF0ZS5qdXN0aWZ5ID0gdGV4dFN0eWxlLmdldEp1c3RpZnkoKTtcbiAgICAgIHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUgPVxuICAgICAgICB0ZXh0U3R5bGUuZ2V0VGV4dEJhc2VsaW5lKCkgfHwgZGVmYXVsdFRleHRCYXNlbGluZTtcbiAgICAgIHRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCA9IHRleHRTdHlsZS5nZXRCYWNrZ3JvdW5kRmlsbCgpO1xuICAgICAgdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UgPSB0ZXh0U3R5bGUuZ2V0QmFja2dyb3VuZFN0cm9rZSgpO1xuICAgICAgdGV4dFN0YXRlLnBhZGRpbmcgPSB0ZXh0U3R5bGUuZ2V0UGFkZGluZygpIHx8IGRlZmF1bHRQYWRkaW5nO1xuICAgICAgdGV4dFN0YXRlLnNjYWxlID0gdGV4dFNjYWxlID09PSB1bmRlZmluZWQgPyBbMSwgMV0gOiB0ZXh0U2NhbGU7XG5cbiAgICAgIGNvbnN0IHRleHRPZmZzZXRYID0gdGV4dFN0eWxlLmdldE9mZnNldFgoKTtcbiAgICAgIGNvbnN0IHRleHRPZmZzZXRZID0gdGV4dFN0eWxlLmdldE9mZnNldFkoKTtcbiAgICAgIGNvbnN0IHRleHRSb3RhdGVXaXRoVmlldyA9IHRleHRTdHlsZS5nZXRSb3RhdGVXaXRoVmlldygpO1xuICAgICAgY29uc3QgdGV4dFJvdGF0aW9uID0gdGV4dFN0eWxlLmdldFJvdGF0aW9uKCk7XG4gICAgICB0aGlzLnRleHRfID0gdGV4dFN0eWxlLmdldFRleHQoKSB8fCAnJztcbiAgICAgIHRoaXMudGV4dE9mZnNldFhfID0gdGV4dE9mZnNldFggPT09IHVuZGVmaW5lZCA/IDAgOiB0ZXh0T2Zmc2V0WDtcbiAgICAgIHRoaXMudGV4dE9mZnNldFlfID0gdGV4dE9mZnNldFkgPT09IHVuZGVmaW5lZCA/IDAgOiB0ZXh0T2Zmc2V0WTtcbiAgICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9XG4gICAgICAgIHRleHRSb3RhdGVXaXRoVmlldyA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiB0ZXh0Um90YXRlV2l0aFZpZXc7XG4gICAgICB0aGlzLnRleHRSb3RhdGlvbl8gPSB0ZXh0Um90YXRpb24gPT09IHVuZGVmaW5lZCA/IDAgOiB0ZXh0Um90YXRpb247XG5cbiAgICAgIHRoaXMuc3Ryb2tlS2V5XyA9IHN0cm9rZVN0YXRlXG4gICAgICAgID8gKHR5cGVvZiBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSA9PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZVxuICAgICAgICAgICAgOiBnZXRVaWQoc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUpKSArXG4gICAgICAgICAgc3Ryb2tlU3RhdGUubGluZUNhcCArXG4gICAgICAgICAgc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQgK1xuICAgICAgICAgICd8JyArXG4gICAgICAgICAgc3Ryb2tlU3RhdGUubGluZVdpZHRoICtcbiAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lSm9pbiArXG4gICAgICAgICAgc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCArXG4gICAgICAgICAgJ1snICtcbiAgICAgICAgICBzdHJva2VTdGF0ZS5saW5lRGFzaC5qb2luKCkgK1xuICAgICAgICAgICddJ1xuICAgICAgICA6ICcnO1xuICAgICAgdGhpcy50ZXh0S2V5XyA9XG4gICAgICAgIHRleHRTdGF0ZS5mb250ICtcbiAgICAgICAgdGV4dFN0YXRlLnNjYWxlICtcbiAgICAgICAgKHRleHRTdGF0ZS50ZXh0QWxpZ24gfHwgJz8nKSArXG4gICAgICAgICh0ZXh0U3RhdGUuanVzdGlmeSB8fCAnPycpICtcbiAgICAgICAgKHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUgfHwgJz8nKTtcbiAgICAgIHRoaXMuZmlsbEtleV8gPSBmaWxsU3RhdGVcbiAgICAgICAgPyB0eXBlb2YgZmlsbFN0YXRlLmZpbGxTdHlsZSA9PSAnc3RyaW5nJ1xuICAgICAgICAgID8gZmlsbFN0YXRlLmZpbGxTdHlsZVxuICAgICAgICAgIDogJ3wnICsgZ2V0VWlkKGZpbGxTdGF0ZS5maWxsU3R5bGUpXG4gICAgICAgIDogJyc7XG4gICAgfVxuICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8gPSBzaGFyZWREYXRhO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1RleHRCdWlsZGVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwXG4gKi9cblxuaW1wb3J0IEJ1aWxkZXIgZnJvbSAnLi9CdWlsZGVyLmpzJztcbmltcG9ydCBJbWFnZUJ1aWxkZXIgZnJvbSAnLi9JbWFnZUJ1aWxkZXIuanMnO1xuaW1wb3J0IExpbmVTdHJpbmdCdWlsZGVyIGZyb20gJy4vTGluZVN0cmluZ0J1aWxkZXIuanMnO1xuaW1wb3J0IFBvbHlnb25CdWlsZGVyIGZyb20gJy4vUG9seWdvbkJ1aWxkZXIuanMnO1xuaW1wb3J0IFRleHRCdWlsZGVyIGZyb20gJy4vVGV4dEJ1aWxkZXIuanMnO1xuXG4vKipcbiAqIEB0eXBlIHtPYmplY3Q8aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkJ1aWxkZXJUeXBlLCB0eXBlb2YgQnVpbGRlcj59XG4gKi9cbmNvbnN0IEJBVENIX0NPTlNUUlVDVE9SUyA9IHtcbiAgJ0NpcmNsZSc6IFBvbHlnb25CdWlsZGVyLFxuICAnRGVmYXVsdCc6IEJ1aWxkZXIsXG4gICdJbWFnZSc6IEltYWdlQnVpbGRlcixcbiAgJ0xpbmVTdHJpbmcnOiBMaW5lU3RyaW5nQnVpbGRlcixcbiAgJ1BvbHlnb24nOiBQb2x5Z29uQnVpbGRlcixcbiAgJ1RleHQnOiBUZXh0QnVpbGRlcixcbn07XG5cbmNsYXNzIEJ1aWxkZXJHcm91cCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4IGV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRvbGVyYW5jZV8gPSB0b2xlcmFuY2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMubWF4RXh0ZW50XyA9IG1heEV4dGVudDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsUmF0aW9fID0gcGl4ZWxSYXRpbztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb25fID0gcmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5CdWlsZGVyVHlwZSwgQnVpbGRlcj4+fVxuICAgICAqL1xuICAgIHRoaXMuYnVpbGRlcnNCeVpJbmRleF8gPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuQnVpbGRlclR5cGUsIGltcG9ydChcIi4vQnVpbGRlci5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnM+Pn0gVGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnNcbiAgICovXG4gIGZpbmlzaCgpIHtcbiAgICBjb25zdCBidWlsZGVySW5zdHJ1Y3Rpb25zID0ge307XG4gICAgZm9yIChjb25zdCB6S2V5IGluIHRoaXMuYnVpbGRlcnNCeVpJbmRleF8pIHtcbiAgICAgIGJ1aWxkZXJJbnN0cnVjdGlvbnNbektleV0gPSBidWlsZGVySW5zdHJ1Y3Rpb25zW3pLZXldIHx8IHt9O1xuICAgICAgY29uc3QgYnVpbGRlcnMgPSB0aGlzLmJ1aWxkZXJzQnlaSW5kZXhfW3pLZXldO1xuICAgICAgZm9yIChjb25zdCBidWlsZGVyS2V5IGluIGJ1aWxkZXJzKSB7XG4gICAgICAgIGNvbnN0IGJ1aWxkZXJJbnN0cnVjdGlvbiA9IGJ1aWxkZXJzW2J1aWxkZXJLZXldLmZpbmlzaCgpO1xuICAgICAgICBidWlsZGVySW5zdHJ1Y3Rpb25zW3pLZXldW2J1aWxkZXJLZXldID0gYnVpbGRlckluc3RydWN0aW9uO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYnVpbGRlckluc3RydWN0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHpJbmRleCBaIGluZGV4LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5CdWlsZGVyVHlwZX0gYnVpbGRlclR5cGUgUmVwbGF5IHR5cGUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1ZlY3RvckNvbnRleHQuanNcIikuZGVmYXVsdH0gUmVwbGF5LlxuICAgKi9cbiAgZ2V0QnVpbGRlcih6SW5kZXgsIGJ1aWxkZXJUeXBlKSB7XG4gICAgY29uc3QgekluZGV4S2V5ID0gekluZGV4ICE9PSB1bmRlZmluZWQgPyB6SW5kZXgudG9TdHJpbmcoKSA6ICcwJztcbiAgICBsZXQgcmVwbGF5cyA9IHRoaXMuYnVpbGRlcnNCeVpJbmRleF9bekluZGV4S2V5XTtcbiAgICBpZiAocmVwbGF5cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXBsYXlzID0ge307XG4gICAgICB0aGlzLmJ1aWxkZXJzQnlaSW5kZXhfW3pJbmRleEtleV0gPSByZXBsYXlzO1xuICAgIH1cbiAgICBsZXQgcmVwbGF5ID0gcmVwbGF5c1tidWlsZGVyVHlwZV07XG4gICAgaWYgKHJlcGxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBDb25zdHJ1Y3RvciA9IEJBVENIX0NPTlNUUlVDVE9SU1tidWlsZGVyVHlwZV07XG4gICAgICByZXBsYXkgPSBuZXcgQ29uc3RydWN0b3IoXG4gICAgICAgIHRoaXMudG9sZXJhbmNlXyxcbiAgICAgICAgdGhpcy5tYXhFeHRlbnRfLFxuICAgICAgICB0aGlzLnJlc29sdXRpb25fLFxuICAgICAgICB0aGlzLnBpeGVsUmF0aW9fXG4gICAgICApO1xuICAgICAgcmVwbGF5c1tidWlsZGVyVHlwZV0gPSByZXBsYXk7XG4gICAgfVxuICAgIHJldHVybiByZXBsYXk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnVpbGRlckdyb3VwO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvSW1hZ2VCdWlsZGVyXG4gKi9cbmltcG9ydCBDYW52YXNCdWlsZGVyIGZyb20gJy4vQnVpbGRlci5qcyc7XG5pbXBvcnQgQ2FudmFzSW5zdHJ1Y3Rpb24gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG5cbmNsYXNzIENhbnZhc0ltYWdlQnVpbGRlciBleHRlbmRzIENhbnZhc0J1aWxkZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgc3VwZXIodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5hbmNob3JYXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5hbmNob3JZXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5oZWlnaHRfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLm9wYWNpdHlfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWdpblhfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWdpbllfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucm90YXRpb25fID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnNjYWxlXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy53aWR0aF8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtcImRlY2x1dHRlclwifFwib2JzdGFjbGVcInxcIm5vbmVcInx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5kZWNsdXR0ZXJNb2RlXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIERhdGEgc2hhcmVkIHdpdGggYSB0ZXh0IGJ1aWxkZXIgZm9yIGNvbWJpbmVkIGRlY2x1dHRlcmluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH1cbiAgICAgKi9cbiAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gcG9pbnRHZW9tZXRyeSBQb2ludCBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3UG9pbnQocG9pbnRHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIGlmICghdGhpcy5pbWFnZV8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5KHBvaW50R2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHBvaW50R2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgY29uc3Qgc3RyaWRlID0gcG9pbnRHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBjb25zdCBteUJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgY29uc3QgbXlFbmQgPSB0aGlzLmFwcGVuZEZsYXRQb2ludENvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgc3RyaWRlKTtcbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsXG4gICAgICBteUJlZ2luLFxuICAgICAgbXlFbmQsXG4gICAgICB0aGlzLmltYWdlXyxcbiAgICAgIC8vIFJlbWFpbmluZyBhcmd1bWVudHMgdG8gRFJBV19JTUFHRSBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICB0aGlzLmFuY2hvclhfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgdGhpcy5hbmNob3JZXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgIE1hdGguY2VpbCh0aGlzLmhlaWdodF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18pLFxuICAgICAgdGhpcy5vcGFjaXR5XyxcbiAgICAgIHRoaXMub3JpZ2luWF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICB0aGlzLm9yaWdpbllfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18sXG4gICAgICB0aGlzLnJvdGF0aW9uXyxcbiAgICAgIFtcbiAgICAgICAgKHRoaXMuc2NhbGVfWzBdICogdGhpcy5waXhlbFJhdGlvKSAvIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgICAgKHRoaXMuc2NhbGVfWzFdICogdGhpcy5waXhlbFJhdGlvKSAvIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgIF0sXG4gICAgICBNYXRoLmNlaWwodGhpcy53aWR0aF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18pLFxuICAgICAgdGhpcy5kZWNsdXR0ZXJNb2RlXyxcbiAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8sXG4gICAgXSk7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLFxuICAgICAgbXlCZWdpbixcbiAgICAgIG15RW5kLFxuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8sXG4gICAgICAvLyBSZW1haW5pbmcgYXJndW1lbnRzIHRvIERSQVdfSU1BR0UgYXJlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuICAgICAgdGhpcy5hbmNob3JYXyxcbiAgICAgIHRoaXMuYW5jaG9yWV8sXG4gICAgICB0aGlzLmhlaWdodF8sXG4gICAgICB0aGlzLm9wYWNpdHlfLFxuICAgICAgdGhpcy5vcmlnaW5YXyxcbiAgICAgIHRoaXMub3JpZ2luWV8sXG4gICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyxcbiAgICAgIHRoaXMucm90YXRpb25fLFxuICAgICAgdGhpcy5zY2FsZV8sXG4gICAgICB0aGlzLndpZHRoXyxcbiAgICAgIHRoaXMuZGVjbHV0dGVyTW9kZV8sXG4gICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgIF0pO1xuICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IG11bHRpUG9pbnRHZW9tZXRyeSBNdWx0aVBvaW50IGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdNdWx0aVBvaW50KG11bHRpUG9pbnRHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIGlmICghdGhpcy5pbWFnZV8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5KG11bHRpUG9pbnRHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gbXVsdGlQb2ludEdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGNvbnN0IHN0cmlkZSA9IG11bHRpUG9pbnRHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBjb25zdCBteUJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgY29uc3QgbXlFbmQgPSB0aGlzLmFwcGVuZEZsYXRQb2ludENvb3JkaW5hdGVzKGZsYXRDb29yZGluYXRlcywgc3RyaWRlKTtcbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsXG4gICAgICBteUJlZ2luLFxuICAgICAgbXlFbmQsXG4gICAgICB0aGlzLmltYWdlXyxcbiAgICAgIC8vIFJlbWFpbmluZyBhcmd1bWVudHMgdG8gRFJBV19JTUFHRSBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICB0aGlzLmFuY2hvclhfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgdGhpcy5hbmNob3JZXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgIE1hdGguY2VpbCh0aGlzLmhlaWdodF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18pLFxuICAgICAgdGhpcy5vcGFjaXR5XyxcbiAgICAgIHRoaXMub3JpZ2luWF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICB0aGlzLm9yaWdpbllfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18sXG4gICAgICB0aGlzLnJvdGF0aW9uXyxcbiAgICAgIFtcbiAgICAgICAgKHRoaXMuc2NhbGVfWzBdICogdGhpcy5waXhlbFJhdGlvKSAvIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgICAgKHRoaXMuc2NhbGVfWzFdICogdGhpcy5waXhlbFJhdGlvKSAvIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgIF0sXG4gICAgICBNYXRoLmNlaWwodGhpcy53aWR0aF8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18pLFxuICAgICAgdGhpcy5kZWNsdXR0ZXJNb2RlXyxcbiAgICAgIHRoaXMuZGVjbHV0dGVySW1hZ2VXaXRoVGV4dF8sXG4gICAgXSk7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLFxuICAgICAgbXlCZWdpbixcbiAgICAgIG15RW5kLFxuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8sXG4gICAgICAvLyBSZW1haW5pbmcgYXJndW1lbnRzIHRvIERSQVdfSU1BR0UgYXJlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuICAgICAgdGhpcy5hbmNob3JYXyxcbiAgICAgIHRoaXMuYW5jaG9yWV8sXG4gICAgICB0aGlzLmhlaWdodF8sXG4gICAgICB0aGlzLm9wYWNpdHlfLFxuICAgICAgdGhpcy5vcmlnaW5YXyxcbiAgICAgIHRoaXMub3JpZ2luWV8sXG4gICAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyxcbiAgICAgIHRoaXMucm90YXRpb25fLFxuICAgICAgdGhpcy5zY2FsZV8sXG4gICAgICB0aGlzLndpZHRoXyxcbiAgICAgIHRoaXMuZGVjbHV0dGVyTW9kZV8sXG4gICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgIF0pO1xuICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9uc30gdGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICBmaW5pc2goKSB7XG4gICAgdGhpcy5yZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zKCk7XG4gICAgLy8gRklYTUUgdGhpcyBkb2Vzbid0IHJlYWxseSBwcm90ZWN0IHVzIGFnYWluc3QgZnVydGhlciBjYWxscyB0byBkcmF3Kkdlb21ldHJ5XG4gICAgdGhpcy5hbmNob3JYXyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmFuY2hvcllfID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gbnVsbDtcbiAgICB0aGlzLmltYWdlXyA9IG51bGw7XG4gICAgdGhpcy5pbWFnZVBpeGVsUmF0aW9fID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaGVpZ2h0XyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnNjYWxlXyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm9wYWNpdHlfID0gdW5kZWZpbmVkO1xuICAgIHRoaXMub3JpZ2luWF8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5vcmlnaW5ZXyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJvdGF0aW9uXyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLndpZHRoXyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3VwZXIuZmluaXNoKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9JbWFnZS5qc1wiKS5kZWZhdWx0fSBpbWFnZVN0eWxlIEltYWdlIHN0eWxlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW3NoYXJlZERhdGFdIFNoYXJlZCBkYXRhLlxuICAgKi9cbiAgc2V0SW1hZ2VTdHlsZShpbWFnZVN0eWxlLCBzaGFyZWREYXRhKSB7XG4gICAgY29uc3QgYW5jaG9yID0gaW1hZ2VTdHlsZS5nZXRBbmNob3IoKTtcbiAgICBjb25zdCBzaXplID0gaW1hZ2VTdHlsZS5nZXRTaXplKCk7XG4gICAgY29uc3Qgb3JpZ2luID0gaW1hZ2VTdHlsZS5nZXRPcmlnaW4oKTtcbiAgICB0aGlzLmltYWdlUGl4ZWxSYXRpb18gPSBpbWFnZVN0eWxlLmdldFBpeGVsUmF0aW8odGhpcy5waXhlbFJhdGlvKTtcbiAgICB0aGlzLmFuY2hvclhfID0gYW5jaG9yWzBdO1xuICAgIHRoaXMuYW5jaG9yWV8gPSBhbmNob3JbMV07XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8gPSBpbWFnZVN0eWxlLmdldEhpdERldGVjdGlvbkltYWdlKCk7XG4gICAgdGhpcy5pbWFnZV8gPSBpbWFnZVN0eWxlLmdldEltYWdlKHRoaXMucGl4ZWxSYXRpbyk7XG4gICAgdGhpcy5oZWlnaHRfID0gc2l6ZVsxXTtcbiAgICB0aGlzLm9wYWNpdHlfID0gaW1hZ2VTdHlsZS5nZXRPcGFjaXR5KCk7XG4gICAgdGhpcy5vcmlnaW5YXyA9IG9yaWdpblswXTtcbiAgICB0aGlzLm9yaWdpbllfID0gb3JpZ2luWzFdO1xuICAgIHRoaXMucm90YXRlV2l0aFZpZXdfID0gaW1hZ2VTdHlsZS5nZXRSb3RhdGVXaXRoVmlldygpO1xuICAgIHRoaXMucm90YXRpb25fID0gaW1hZ2VTdHlsZS5nZXRSb3RhdGlvbigpO1xuICAgIHRoaXMuc2NhbGVfID0gaW1hZ2VTdHlsZS5nZXRTY2FsZUFycmF5KCk7XG4gICAgdGhpcy53aWR0aF8gPSBzaXplWzBdO1xuICAgIHRoaXMuZGVjbHV0dGVyTW9kZV8gPSBpbWFnZVN0eWxlLmdldERlY2x1dHRlck1vZGUoKTtcbiAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfID0gc2hhcmVkRGF0YTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNJbWFnZUJ1aWxkZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9MaW5lU3RyaW5nQnVpbGRlclxuICovXG5pbXBvcnQgQ2FudmFzQnVpbGRlciBmcm9tICcuL0J1aWxkZXIuanMnO1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uLCB7XG4gIGJlZ2luUGF0aEluc3RydWN0aW9uLFxuICBzdHJva2VJbnN0cnVjdGlvbixcbn0gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG5pbXBvcnQge2RlZmF1bHRMaW5lRGFzaCwgZGVmYXVsdExpbmVEYXNoT2Zmc2V0fSBmcm9tICcuLi9jYW52YXMuanMnO1xuXG5jbGFzcyBDYW52YXNMaW5lU3RyaW5nQnVpbGRlciBleHRlbmRzIENhbnZhc0J1aWxkZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heGltdW0gZXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gICAgc3VwZXIodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge251bWJlcn0gZW5kLlxuICAgKi9cbiAgZHJhd0ZsYXRDb29yZGluYXRlc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgY29uc3QgbXlCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgIGNvbnN0IG15RW5kID0gdGhpcy5hcHBlbmRGbGF0TGluZUNvb3JkaW5hdGVzKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgZmFsc2UsXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgY29uc3QgbW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24gPSBbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5NT1ZFX1RPX0xJTkVfVE8sXG4gICAgICBteUJlZ2luLFxuICAgICAgbXlFbmQsXG4gICAgXTtcbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKG1vdmVUb0xpbmVUb0luc3RydWN0aW9uKTtcbiAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKG1vdmVUb0xpbmVUb0luc3RydWN0aW9uKTtcbiAgICByZXR1cm4gZW5kO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBsaW5lU3RyaW5nR2VvbWV0cnkgTGluZSBzdHJpbmcgZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgZHJhd0xpbmVTdHJpbmcobGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgY29uc3QgbGluZVdpZHRoID0gc3RhdGUubGluZVdpZHRoO1xuICAgIGlmIChzdHJva2VTdHlsZSA9PT0gdW5kZWZpbmVkIHx8IGxpbmVXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudXBkYXRlU3Ryb2tlU3R5bGUoc3RhdGUsIHRoaXMuYXBwbHlTdHJva2UpO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeShsaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goXG4gICAgICBbXG4gICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9TVFJPS0VfU1RZTEUsXG4gICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICBzdGF0ZS5saW5lV2lkdGgsXG4gICAgICAgIHN0YXRlLmxpbmVDYXAsXG4gICAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgICBzdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICBkZWZhdWx0TGluZURhc2gsXG4gICAgICAgIGRlZmF1bHRMaW5lRGFzaE9mZnNldCxcbiAgICAgIF0sXG4gICAgICBiZWdpblBhdGhJbnN0cnVjdGlvblxuICAgICk7XG4gICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gbGluZVN0cmluZ0dlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGNvbnN0IHN0cmlkZSA9IGxpbmVTdHJpbmdHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICB0aGlzLmRyYXdGbGF0Q29vcmRpbmF0ZXNfKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgMCxcbiAgICAgIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgICBzdHJpZGVcbiAgICApO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gbXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkgTXVsdGlMaW5lU3RyaW5nIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdNdWx0aUxpbmVTdHJpbmcobXVsdGlMaW5lU3RyaW5nR2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3Qgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICBjb25zdCBsaW5lV2lkdGggPSBzdGF0ZS5saW5lV2lkdGg7XG4gICAgaWYgKHN0cm9rZVN0eWxlID09PSB1bmRlZmluZWQgfHwgbGluZVdpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVTdHJva2VTdHlsZShzdGF0ZSwgdGhpcy5hcHBseVN0cm9rZSk7XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5KG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFxuICAgICAgW1xuICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICBzdGF0ZS5saW5lSm9pbixcbiAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgc3RhdGUubGluZURhc2gsXG4gICAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgXSxcbiAgICAgIGJlZ2luUGF0aEluc3RydWN0aW9uXG4gICAgKTtcbiAgICBjb25zdCBlbmRzID0gbXVsdGlMaW5lU3RyaW5nR2VvbWV0cnkuZ2V0RW5kcygpO1xuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGNvbnN0IHN0cmlkZSA9IG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3RmxhdENvb3JkaW5hdGVzXyhcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoZW5kc1tpXSksXG4gICAgICAgIHN0cmlkZVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSB0aGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9ucy5cbiAgICovXG4gIGZpbmlzaCgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKFxuICAgICAgc3RhdGUubGFzdFN0cm9rZSAhPSB1bmRlZmluZWQgJiZcbiAgICAgIHN0YXRlLmxhc3RTdHJva2UgIT0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGhcbiAgICApIHtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgIH1cbiAgICB0aGlzLnJldmVyc2VIaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMoKTtcbiAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICByZXR1cm4gc3VwZXIuZmluaXNoKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICovXG4gIGFwcGx5U3Ryb2tlKHN0YXRlKSB7XG4gICAgaWYgKFxuICAgICAgc3RhdGUubGFzdFN0cm9rZSAhPSB1bmRlZmluZWQgJiZcbiAgICAgIHN0YXRlLmxhc3RTdHJva2UgIT0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGhcbiAgICApIHtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgc3RhdGUubGFzdFN0cm9rZSA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgIH1cbiAgICBzdGF0ZS5sYXN0U3Ryb2tlID0gMDtcbiAgICBzdXBlci5hcHBseVN0cm9rZShzdGF0ZSk7XG4gICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChiZWdpblBhdGhJbnN0cnVjdGlvbik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3RleHRwYXRoXG4gKi9cbmltcG9ydCB7bGVycH0gZnJvbSAnLi4vLi4vbWF0aC5qcyc7XG5pbXBvcnQge3JvdGF0ZX0gZnJvbSAnLi90cmFuc2Zvcm0uanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIFBhdGggdG8gcHV0IHRleHQgb24uXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IFN0YXJ0IG9mZnNldCBvZiB0aGUgYGZsYXRDb29yZGluYXRlc2AuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZCBvZmZzZXQgb2YgdGhlIGBmbGF0Q29vcmRpbmF0ZXNgLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0IHRvIHBsYWNlIG9uIHRoZSBwYXRoLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0TSBtIGFsb25nIHRoZSBwYXRoIHdoZXJlIHRoZSB0ZXh0IHN0YXJ0cy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBbmdsZSBNYXggYW5nbGUgYmV0d2VlbiBhZGphY2VudCBjaGFycyBpbiByYWRpYW5zLlxuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIFRoZSBwcm9kdWN0IG9mIHRoZSB0ZXh0IHNjYWxlIGFuZCB0aGUgZGV2aWNlIHBpeGVsIHJhdGlvLlxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcsIHN0cmluZywgT2JqZWN0PHN0cmluZywgbnVtYmVyPik6bnVtYmVyfSBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGggTWVhc3VyZSBhbmQgY2FjaGUgdGV4dCB3aWR0aC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250IFRoZSBmb250LlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fSBjYWNoZSBBIGNhY2hlIG9mIG1lYXN1cmVkIHdpZHRocy5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbiB0byBhcHBseSB0byB0aGUgZmxhdENvb3JkaW5hdGVzIHRvIGRldGVybWluZSB3aGV0aGVyIHRleHQgbmVlZHMgdG8gYmUgcmV2ZXJzZWQuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTwqPj58bnVsbH0gVGhlIHJlc3VsdCBhcnJheSAob3IgbnVsbCBpZiBgbWF4QW5nbGVgIHdhc1xuICogZXhjZWVkZWQpLiBFbnRyaWVzIG9mIHRoZSBhcnJheSBhcmUgeCwgeSwgYW5jaG9yWCwgYW5nbGUsIGNodW5rLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZHJhd1RleHRPblBhdGgoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgdGV4dCxcbiAgc3RhcnRNLFxuICBtYXhBbmdsZSxcbiAgc2NhbGUsXG4gIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aCxcbiAgZm9udCxcbiAgY2FjaGUsXG4gIHJvdGF0aW9uXG4pIHtcbiAgbGV0IHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gIGxldCB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgbGV0IHgxID0gMDtcbiAgbGV0IHkxID0gMDtcbiAgbGV0IHNlZ21lbnRMZW5ndGggPSAwO1xuICBsZXQgc2VnbWVudE0gPSAwO1xuXG4gIGZ1bmN0aW9uIGFkdmFuY2UoKSB7XG4gICAgeDEgPSB4MjtcbiAgICB5MSA9IHkyO1xuICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICBzZWdtZW50TSArPSBzZWdtZW50TGVuZ3RoO1xuICAgIHNlZ21lbnRMZW5ndGggPSBNYXRoLnNxcnQoKHgyIC0geDEpICogKHgyIC0geDEpICsgKHkyIC0geTEpICogKHkyIC0geTEpKTtcbiAgfVxuICBkbyB7XG4gICAgYWR2YW5jZSgpO1xuICB9IHdoaWxlIChvZmZzZXQgPCBlbmQgLSBzdHJpZGUgJiYgc2VnbWVudE0gKyBzZWdtZW50TGVuZ3RoIDwgc3RhcnRNKTtcblxuICBsZXQgaW50ZXJwb2xhdGUgPVxuICAgIHNlZ21lbnRMZW5ndGggPT09IDAgPyAwIDogKHN0YXJ0TSAtIHNlZ21lbnRNKSAvIHNlZ21lbnRMZW5ndGg7XG4gIGNvbnN0IGJlZ2luWCA9IGxlcnAoeDEsIHgyLCBpbnRlcnBvbGF0ZSk7XG4gIGNvbnN0IGJlZ2luWSA9IGxlcnAoeTEsIHkyLCBpbnRlcnBvbGF0ZSk7XG5cbiAgY29uc3Qgc3RhcnRPZmZzZXQgPSBvZmZzZXQgLSBzdHJpZGU7XG4gIGNvbnN0IHN0YXJ0TGVuZ3RoID0gc2VnbWVudE07XG4gIGNvbnN0IGVuZE0gPSBzdGFydE0gKyBzY2FsZSAqIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aChmb250LCB0ZXh0LCBjYWNoZSk7XG4gIHdoaWxlIChvZmZzZXQgPCBlbmQgLSBzdHJpZGUgJiYgc2VnbWVudE0gKyBzZWdtZW50TGVuZ3RoIDwgZW5kTSkge1xuICAgIGFkdmFuY2UoKTtcbiAgfVxuICBpbnRlcnBvbGF0ZSA9IHNlZ21lbnRMZW5ndGggPT09IDAgPyAwIDogKGVuZE0gLSBzZWdtZW50TSkgLyBzZWdtZW50TGVuZ3RoO1xuICBjb25zdCBlbmRYID0gbGVycCh4MSwgeDIsIGludGVycG9sYXRlKTtcbiAgY29uc3QgZW5kWSA9IGxlcnAoeTEsIHkyLCBpbnRlcnBvbGF0ZSk7XG5cbiAgLy8gS2VlcCB0ZXh0IHVwcmlnaHRcbiAgbGV0IHJldmVyc2U7XG4gIGlmIChyb3RhdGlvbikge1xuICAgIGNvbnN0IGZsYXQgPSBbYmVnaW5YLCBiZWdpblksIGVuZFgsIGVuZFldO1xuICAgIHJvdGF0ZShmbGF0LCAwLCA0LCAyLCByb3RhdGlvbiwgZmxhdCwgZmxhdCk7XG4gICAgcmV2ZXJzZSA9IGZsYXRbMF0gPiBmbGF0WzJdO1xuICB9IGVsc2Uge1xuICAgIHJldmVyc2UgPSBiZWdpblggPiBlbmRYO1xuICB9XG5cbiAgY29uc3QgUEkgPSBNYXRoLlBJO1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgY29uc3Qgc2luZ2xlU2VnbWVudCA9IHN0YXJ0T2Zmc2V0ICsgc3RyaWRlID09PSBvZmZzZXQ7XG5cbiAgb2Zmc2V0ID0gc3RhcnRPZmZzZXQ7XG4gIHNlZ21lbnRMZW5ndGggPSAwO1xuICBzZWdtZW50TSA9IHN0YXJ0TGVuZ3RoO1xuICB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcblxuICBsZXQgcHJldmlvdXNBbmdsZTtcbiAgLy8gQWxsIG9uIHRoZSBzYW1lIHNlZ21lbnRcbiAgaWYgKHNpbmdsZVNlZ21lbnQpIHtcbiAgICBhZHZhbmNlKCk7XG5cbiAgICBwcmV2aW91c0FuZ2xlID0gTWF0aC5hdGFuMih5MiAtIHkxLCB4MiAtIHgxKTtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcHJldmlvdXNBbmdsZSArPSBwcmV2aW91c0FuZ2xlID4gMCA/IC1QSSA6IFBJO1xuICAgIH1cbiAgICBjb25zdCB4ID0gKGVuZFggKyBiZWdpblgpIC8gMjtcbiAgICBjb25zdCB5ID0gKGVuZFkgKyBiZWdpblkpIC8gMjtcbiAgICByZXN1bHRbMF0gPSBbeCwgeSwgKGVuZE0gLSBzdGFydE0pIC8gMiwgcHJldmlvdXNBbmdsZSwgdGV4dF07XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIHJlbmRlcmluZyBhY3Jvc3MgbGluZSBzZWdtZW50c1xuICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXG4vZywgJyAnKTsgLy8gZW5zdXJlIHJlbmRlcmluZyBpbiBzaW5nbGUtbGluZSBhcyBhbGwgY2FsY3VsYXRpb25zIGJlbG93IGRvbid0IGhhbmRsZSBtdWx0aS1saW5lc1xuXG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IHRleHQubGVuZ3RoOyBpIDwgaWk7ICkge1xuICAgIGFkdmFuY2UoKTtcbiAgICBsZXQgYW5nbGUgPSBNYXRoLmF0YW4yKHkyIC0geTEsIHgyIC0geDEpO1xuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICBhbmdsZSArPSBhbmdsZSA+IDAgPyAtUEkgOiBQSTtcbiAgICB9XG4gICAgaWYgKHByZXZpb3VzQW5nbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IGRlbHRhID0gYW5nbGUgLSBwcmV2aW91c0FuZ2xlO1xuICAgICAgZGVsdGEgKz0gZGVsdGEgPiBQSSA/IC0yICogUEkgOiBkZWx0YSA8IC1QSSA/IDIgKiBQSSA6IDA7XG4gICAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gbWF4QW5nbGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHByZXZpb3VzQW5nbGUgPSBhbmdsZTtcblxuICAgIGNvbnN0IGlTdGFydCA9IGk7XG4gICAgbGV0IGNoYXJMZW5ndGggPSAwO1xuICAgIGZvciAoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgaW5kZXggPSByZXZlcnNlID8gaWkgLSBpIC0gMSA6IGk7XG4gICAgICBjb25zdCBsZW4gPSBzY2FsZSAqIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aChmb250LCB0ZXh0W2luZGV4XSwgY2FjaGUpO1xuICAgICAgaWYgKFxuICAgICAgICBvZmZzZXQgKyBzdHJpZGUgPCBlbmQgJiZcbiAgICAgICAgc2VnbWVudE0gKyBzZWdtZW50TGVuZ3RoIDwgc3RhcnRNICsgY2hhckxlbmd0aCArIGxlbiAvIDJcbiAgICAgICkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNoYXJMZW5ndGggKz0gbGVuO1xuICAgIH1cbiAgICBpZiAoaSA9PT0gaVN0YXJ0KSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgY2hhcnMgPSByZXZlcnNlXG4gICAgICA/IHRleHQuc3Vic3RyaW5nKGlpIC0gaVN0YXJ0LCBpaSAtIGkpXG4gICAgICA6IHRleHQuc3Vic3RyaW5nKGlTdGFydCwgaSk7XG4gICAgaW50ZXJwb2xhdGUgPVxuICAgICAgc2VnbWVudExlbmd0aCA9PT0gMFxuICAgICAgICA/IDBcbiAgICAgICAgOiAoc3RhcnRNICsgY2hhckxlbmd0aCAvIDIgLSBzZWdtZW50TSkgLyBzZWdtZW50TGVuZ3RoO1xuICAgIGNvbnN0IHggPSBsZXJwKHgxLCB4MiwgaW50ZXJwb2xhdGUpO1xuICAgIGNvbnN0IHkgPSBsZXJwKHkxLCB5MiwgaW50ZXJwb2xhdGUpO1xuICAgIHJlc3VsdC5wdXNoKFt4LCB5LCBjaGFyTGVuZ3RoIC8gMiwgYW5nbGUsIGNoYXJzXSk7XG4gICAgc3RhcnRNICs9IGNoYXJMZW5ndGg7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvbGVuZ3RoXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBMZW5ndGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lU3RyaW5nTGVuZ3RoKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICBsZXQgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgbGV0IHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICBsZXQgbGVuZ3RoID0gMDtcbiAgZm9yIChsZXQgaSA9IG9mZnNldCArIHN0cmlkZTsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICBjb25zdCB4MiA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICBjb25zdCB5MiA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgbGVuZ3RoICs9IE1hdGguc3FydCgoeDIgLSB4MSkgKiAoeDIgLSB4MSkgKyAoeTIgLSB5MSkgKiAoeTIgLSB5MSkpO1xuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICByZXR1cm4gbGVuZ3RoO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFBlcmltZXRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdMZW5ndGgoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gIGxldCBwZXJpbWV0ZXIgPSBsaW5lU3RyaW5nTGVuZ3RoKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG4gIGNvbnN0IGR4ID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZV0gLSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgY29uc3QgZHkgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgMV0gLSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gIHBlcmltZXRlciArPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICByZXR1cm4gcGVyaW1ldGVyO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvRXhlY3V0b3JcbiAqL1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uIGZyb20gJy4vSW5zdHJ1Y3Rpb24uanMnO1xuaW1wb3J0IHtURVhUX0FMSUdOfSBmcm9tICcuL1RleHRCdWlsZGVyLmpzJztcbmltcG9ydCB7XG4gIGFwcGx5IGFzIGFwcGx5VHJhbnNmb3JtLFxuICBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sXG4gIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sXG4gIHNldEZyb21BcnJheSBhcyB0cmFuc2Zvcm1TZXRGcm9tQXJyYXksXG59IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQge2NyZWF0ZUVtcHR5LCBjcmVhdGVPclVwZGF0ZSwgaW50ZXJzZWN0c30gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7XG4gIGRlZmF1bHRQYWRkaW5nLFxuICBkZWZhdWx0VGV4dEFsaWduLFxuICBkZWZhdWx0VGV4dEJhc2VsaW5lLFxuICBkcmF3SW1hZ2VPckxhYmVsLFxuICBnZXRUZXh0RGltZW5zaW9ucyxcbiAgbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoLFxufSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHtkcmF3VGV4dE9uUGF0aH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3RleHRwYXRoLmpzJztcbmltcG9ydCB7ZXF1YWxzfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQge2xpbmVTdHJpbmdMZW5ndGh9IGZyb20gJy4uLy4uL2dlb20vZmxhdC9sZW5ndGguanMnO1xuaW1wb3J0IHt0cmFuc2Zvcm0yRH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3RyYW5zZm9ybS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQkJveFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblggTWluaW1hbCB4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblkgTWluaW1hbCB5LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFggTWF4aW1hbCB4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFkgTWF4aW1hbCB5XG4gKiBAcHJvcGVydHkgeyp9IHZhbHVlIFZhbHVlLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gSW1hZ2VPckxhYmVsRGltZW5zaW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYXdJbWFnZVggRHJhd0ltYWdlWC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkcmF3SW1hZ2VZIERyYXdJbWFnZVkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHJhd0ltYWdlVyBEcmF3SW1hZ2VXLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYXdJbWFnZUggRHJhd0ltYWdlSC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvcmlnaW5YIE9yaWdpblguXG4gKiBAcHJvcGVydHkge251bWJlcn0gb3JpZ2luWSBPcmlnaW5ZLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBzY2FsZSBTY2FsZS5cbiAqIEBwcm9wZXJ0eSB7QkJveH0gZGVjbHV0dGVyQm94IERlY2x1dHRlckJveC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gY2FudmFzVHJhbnNmb3JtIENhbnZhc1RyYW5zZm9ybS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7MDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCAxOiBudW1iZXIsIDI6IGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5MYWJlbHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnQsIDM6IEltYWdlT3JMYWJlbERpbWVuc2lvbnMsIDQ6IG51bWJlciwgNTogQXJyYXk8Kj4sIDY6IEFycmF5PCo+fX0gUmVwbGF5SW1hZ2VPckxhYmVsQXJnc1xuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQpOiBUfSBGZWF0dXJlQ2FsbGJhY2tcbiAqL1xuXG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICovXG5jb25zdCB0bXBFeHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuXG4vKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbmNvbnN0IHAxID0gW107XG4vKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbmNvbnN0IHAyID0gW107XG4vKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbmNvbnN0IHAzID0gW107XG4vKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gKi9cbmNvbnN0IHA0ID0gW107XG5cbi8qKlxuICogQHBhcmFtIHtSZXBsYXlJbWFnZU9yTGFiZWxBcmdzfSByZXBsYXlJbWFnZU9yTGFiZWxBcmdzIEFyZ3VtZW50cyB0byByZXBsYXlJbWFnZU9yTGFiZWxcbiAqIEByZXR1cm4ge0JCb3h9IERlY2x1dHRlciBiYm94LlxuICovXG5mdW5jdGlvbiBnZXREZWNsdXR0ZXJCb3gocmVwbGF5SW1hZ2VPckxhYmVsQXJncykge1xuICByZXR1cm4gcmVwbGF5SW1hZ2VPckxhYmVsQXJnc1szXS5kZWNsdXR0ZXJCb3g7XG59XG5cbmNvbnN0IHJ0bFJlZ0V4ID0gbmV3IFJlZ0V4cChcbiAgLyogZXNsaW50LWRpc2FibGUgcHJldHRpZXIvcHJldHRpZXIgKi9cbiAgJ1snICtcbiAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MDA1OTEpICsgJy0nICsgU3RyaW5nLmZyb21DaGFyQ29kZSgweDAwOGZmKSArXG4gICAgU3RyaW5nLmZyb21DaGFyQ29kZSgweDBmYjFkKSArICctJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwZmRmZikgK1xuICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwZmU3MCkgKyAnLScgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MGZlZmMpICtcbiAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MTA4MDApICsgJy0nICsgU3RyaW5nLmZyb21DaGFyQ29kZSgweDEwZmZmKSArXG4gICAgU3RyaW5nLmZyb21DaGFyQ29kZSgweDFlODAwKSArICctJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxZWZmZikgK1xuICAnXSdcbiAgLyogZXNsaW50LWVuYWJsZSBwcmV0dGllci9wcmV0dGllciAqL1xuKTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0LlxuICogQHBhcmFtIHtDYW52YXNUZXh0QWxpZ259IGFsaWduIEFsaWdubWVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGV4dCBhbGlnbm1lbnQuXG4gKi9cbmZ1bmN0aW9uIGhvcml6b250YWxUZXh0QWxpZ24odGV4dCwgYWxpZ24pIHtcbiAgaWYgKChhbGlnbiA9PT0gJ3N0YXJ0JyB8fCBhbGlnbiA9PT0gJ2VuZCcpICYmICFydGxSZWdFeC50ZXN0KHRleHQpKSB7XG4gICAgYWxpZ24gPSBhbGlnbiA9PT0gJ3N0YXJ0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gIH1cbiAgcmV0dXJuIFRFWFRfQUxJR05bYWxpZ25dO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gYWNjIEFjY3VtdWxhdG9yLlxuICogQHBhcmFtIHtzdHJpbmd9IGxpbmUgTGluZSBvZiB0ZXh0LlxuICogQHBhcmFtIHtudW1iZXJ9IGkgSW5kZXhcbiAqIEByZXR1cm4ge0FycmF5PHN0cmluZz59IEFjY3VtdWxhdG9yLlxuICovXG5mdW5jdGlvbiBjcmVhdGVUZXh0Q2h1bmtzKGFjYywgbGluZSwgaSkge1xuICBpZiAoaSA+IDApIHtcbiAgICBhY2MucHVzaCgnXFxuJywgJycpO1xuICB9XG4gIGFjYy5wdXNoKGxpbmUsICcnKTtcbiAgcmV0dXJuIGFjYztcbn1cblxuY2xhc3MgRXhlY3V0b3Ige1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3ZlcmxhcHMgVGhlIHJlcGxheSBjYW4gaGF2ZSBvdmVybGFwcGluZyBnZW9tZXRyaWVzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnN9IGluc3RydWN0aW9ucyBUaGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3IocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgb3ZlcmxhcHMsIGluc3RydWN0aW9ucykge1xuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm92ZXJsYXBzID0gb3ZlcmxhcHM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5hbGlnbkZpbGxfO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgKi9cbiAgICB0aGlzLmluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucy5pbnN0cnVjdGlvbnM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5jb29yZGluYXRlcyA9IGluc3RydWN0aW9ucy5jb29yZGluYXRlcztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8bnVtYmVyLGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fEFycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmNvb3JkaW5hdGVDYWNoZV8gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRUcmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAqL1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zLmhpdERldGVjdGlvbkluc3RydWN0aW9ucztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5waXhlbENvb3JkaW5hdGVzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy52aWV3Um90YXRpb25fID0gMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZT59XG4gICAgICovXG4gICAgdGhpcy5maWxsU3RhdGVzID0gaW5zdHJ1Y3Rpb25zLmZpbGxTdGF0ZXMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZT59XG4gICAgICovXG4gICAgdGhpcy5zdHJva2VTdGF0ZXMgPSBpbnN0cnVjdGlvbnMuc3Ryb2tlU3RhdGVzIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlPn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRTdGF0ZXMgPSBpbnN0cnVjdGlvbnMudGV4dFN0YXRlcyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIG51bWJlcj4+fVxuICAgICAqL1xuICAgIHRoaXMud2lkdGhzXyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsPn1cbiAgICAgKi9cbiAgICB0aGlzLmxhYmVsc18gPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSB0ZXh0IFRleHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0S2V5IFRleHQgc3R5bGUga2V5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsbEtleSBGaWxsIHN0eWxlIGtleS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cm9rZUtleSBTdHJva2Ugc3R5bGUga2V5LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuTGFiZWx9IExhYmVsLlxuICAgKi9cbiAgY3JlYXRlTGFiZWwodGV4dCwgdGV4dEtleSwgZmlsbEtleSwgc3Ryb2tlS2V5KSB7XG4gICAgY29uc3Qga2V5ID0gdGV4dCArIHRleHRLZXkgKyBmaWxsS2V5ICsgc3Ryb2tlS2V5O1xuICAgIGlmICh0aGlzLmxhYmVsc19ba2V5XSkge1xuICAgICAgcmV0dXJuIHRoaXMubGFiZWxzX1trZXldO1xuICAgIH1cbiAgICBjb25zdCBzdHJva2VTdGF0ZSA9IHN0cm9rZUtleSA/IHRoaXMuc3Ryb2tlU3RhdGVzW3N0cm9rZUtleV0gOiBudWxsO1xuICAgIGNvbnN0IGZpbGxTdGF0ZSA9IGZpbGxLZXkgPyB0aGlzLmZpbGxTdGF0ZXNbZmlsbEtleV0gOiBudWxsO1xuICAgIGNvbnN0IHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlc1t0ZXh0S2V5XTtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgIGNvbnN0IHNjYWxlID0gW1xuICAgICAgdGV4dFN0YXRlLnNjYWxlWzBdICogcGl4ZWxSYXRpbyxcbiAgICAgIHRleHRTdGF0ZS5zY2FsZVsxXSAqIHBpeGVsUmF0aW8sXG4gICAgXTtcbiAgICBjb25zdCB0ZXh0SXNBcnJheSA9IEFycmF5LmlzQXJyYXkodGV4dCk7XG4gICAgY29uc3QgYWxpZ24gPSB0ZXh0U3RhdGUuanVzdGlmeVxuICAgICAgPyBURVhUX0FMSUdOW3RleHRTdGF0ZS5qdXN0aWZ5XVxuICAgICAgOiBob3Jpem9udGFsVGV4dEFsaWduKFxuICAgICAgICAgIEFycmF5LmlzQXJyYXkodGV4dCkgPyB0ZXh0WzBdIDogdGV4dCxcbiAgICAgICAgICB0ZXh0U3RhdGUudGV4dEFsaWduIHx8IGRlZmF1bHRUZXh0QWxpZ25cbiAgICAgICAgKTtcbiAgICBjb25zdCBzdHJva2VXaWR0aCA9XG4gICAgICBzdHJva2VLZXkgJiYgc3Ryb2tlU3RhdGUubGluZVdpZHRoID8gc3Ryb2tlU3RhdGUubGluZVdpZHRoIDogMDtcblxuICAgIGNvbnN0IGNodW5rcyA9IHRleHRJc0FycmF5XG4gICAgICA/IHRleHRcbiAgICAgIDogdGV4dC5zcGxpdCgnXFxuJykucmVkdWNlKGNyZWF0ZVRleHRDaHVua3MsIFtdKTtcblxuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0LCB3aWR0aHMsIGhlaWdodHMsIGxpbmVXaWR0aHN9ID0gZ2V0VGV4dERpbWVuc2lvbnMoXG4gICAgICB0ZXh0U3RhdGUsXG4gICAgICBjaHVua3NcbiAgICApO1xuICAgIGNvbnN0IHJlbmRlcldpZHRoID0gd2lkdGggKyBzdHJva2VXaWR0aDtcbiAgICBjb25zdCBjb250ZXh0SW5zdHJ1Y3Rpb25zID0gW107XG4gICAgLy8gbWFrZSBjYW52YXMgMiBwaXhlbHMgd2lkZXIgdG8gYWNjb3VudCBmb3IgaXRhbGljIHRleHQgd2lkdGggbWVhc3VyZW1lbnQgZXJyb3JzXG4gICAgY29uc3QgdyA9IChyZW5kZXJXaWR0aCArIDIpICogc2NhbGVbMF07XG4gICAgY29uc3QgaCA9IChoZWlnaHQgKyBzdHJva2VXaWR0aCkgKiBzY2FsZVsxXTtcbiAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5MYWJlbH0gKi9cbiAgICBjb25zdCBsYWJlbCA9IHtcbiAgICAgIHdpZHRoOiB3IDwgMCA/IE1hdGguZmxvb3IodykgOiBNYXRoLmNlaWwodyksXG4gICAgICBoZWlnaHQ6IGggPCAwID8gTWF0aC5mbG9vcihoKSA6IE1hdGguY2VpbChoKSxcbiAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnM6IGNvbnRleHRJbnN0cnVjdGlvbnMsXG4gICAgfTtcbiAgICBpZiAoc2NhbGVbMF0gIT0gMSB8fCBzY2FsZVsxXSAhPSAxKSB7XG4gICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3NjYWxlJywgc2NhbGUpO1xuICAgIH1cbiAgICBpZiAoc3Ryb2tlS2V5KSB7XG4gICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3N0cm9rZVN0eWxlJywgc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUpO1xuICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdsaW5lV2lkdGgnLCBzdHJva2VXaWR0aCk7XG4gICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ2xpbmVDYXAnLCBzdHJva2VTdGF0ZS5saW5lQ2FwKTtcbiAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnbGluZUpvaW4nLCBzdHJva2VTdGF0ZS5saW5lSm9pbik7XG4gICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ21pdGVyTGltaXQnLCBzdHJva2VTdGF0ZS5taXRlckxpbWl0KTtcbiAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnc2V0TGluZURhc2gnLCBbc3Ryb2tlU3RhdGUubGluZURhc2hdKTtcbiAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnbGluZURhc2hPZmZzZXQnLCBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCk7XG4gICAgfVxuICAgIGlmIChmaWxsS2V5KSB7XG4gICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ2ZpbGxTdHlsZScsIGZpbGxTdGF0ZS5maWxsU3R5bGUpO1xuICAgIH1cbiAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3RleHRCYXNlbGluZScsICdtaWRkbGUnKTtcbiAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3RleHRBbGlnbicsICdjZW50ZXInKTtcbiAgICBjb25zdCBsZWZ0UmlnaHQgPSAwLjUgLSBhbGlnbjtcbiAgICBsZXQgeCA9IGFsaWduICogcmVuZGVyV2lkdGggKyBsZWZ0UmlnaHQgKiBzdHJva2VXaWR0aDtcbiAgICBjb25zdCBzdHJva2VJbnN0cnVjdGlvbnMgPSBbXTtcbiAgICBjb25zdCBmaWxsSW5zdHJ1Y3Rpb25zID0gW107XG4gICAgbGV0IGxpbmVIZWlnaHQgPSAwO1xuICAgIGxldCBsaW5lT2Zmc2V0ID0gMDtcbiAgICBsZXQgd2lkdGhIZWlnaHRJbmRleCA9IDA7XG4gICAgbGV0IGxpbmVXaWR0aEluZGV4ID0gMDtcbiAgICBsZXQgcHJldmlvdXNGb250O1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGNodW5rcy5sZW5ndGg7IGkgPCBpaTsgaSArPSAyKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gY2h1bmtzW2ldO1xuICAgICAgaWYgKHRleHQgPT09ICdcXG4nKSB7XG4gICAgICAgIGxpbmVPZmZzZXQgKz0gbGluZUhlaWdodDtcbiAgICAgICAgbGluZUhlaWdodCA9IDA7XG4gICAgICAgIHggPSBhbGlnbiAqIHJlbmRlcldpZHRoICsgbGVmdFJpZ2h0ICogc3Ryb2tlV2lkdGg7XG4gICAgICAgICsrbGluZVdpZHRoSW5kZXg7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgZm9udCA9IGNodW5rc1tpICsgMV0gfHwgdGV4dFN0YXRlLmZvbnQ7XG4gICAgICBpZiAoZm9udCAhPT0gcHJldmlvdXNGb250KSB7XG4gICAgICAgIGlmIChzdHJva2VLZXkpIHtcbiAgICAgICAgICBzdHJva2VJbnN0cnVjdGlvbnMucHVzaCgnZm9udCcsIGZvbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWxsS2V5KSB7XG4gICAgICAgICAgZmlsbEluc3RydWN0aW9ucy5wdXNoKCdmb250JywgZm9udCk7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNGb250ID0gZm9udDtcbiAgICAgIH1cbiAgICAgIGxpbmVIZWlnaHQgPSBNYXRoLm1heChsaW5lSGVpZ2h0LCBoZWlnaHRzW3dpZHRoSGVpZ2h0SW5kZXhdKTtcbiAgICAgIGNvbnN0IGZpbGxTdHJva2VBcmdzID0gW1xuICAgICAgICB0ZXh0LFxuICAgICAgICB4ICtcbiAgICAgICAgICBsZWZ0UmlnaHQgKiB3aWR0aHNbd2lkdGhIZWlnaHRJbmRleF0gK1xuICAgICAgICAgIGFsaWduICogKHdpZHRoc1t3aWR0aEhlaWdodEluZGV4XSAtIGxpbmVXaWR0aHNbbGluZVdpZHRoSW5kZXhdKSxcbiAgICAgICAgMC41ICogKHN0cm9rZVdpZHRoICsgbGluZUhlaWdodCkgKyBsaW5lT2Zmc2V0LFxuICAgICAgXTtcbiAgICAgIHggKz0gd2lkdGhzW3dpZHRoSGVpZ2h0SW5kZXhdO1xuICAgICAgaWYgKHN0cm9rZUtleSkge1xuICAgICAgICBzdHJva2VJbnN0cnVjdGlvbnMucHVzaCgnc3Ryb2tlVGV4dCcsIGZpbGxTdHJva2VBcmdzKTtcbiAgICAgIH1cbiAgICAgIGlmIChmaWxsS2V5KSB7XG4gICAgICAgIGZpbGxJbnN0cnVjdGlvbnMucHVzaCgnZmlsbFRleHQnLCBmaWxsU3Ryb2tlQXJncyk7XG4gICAgICB9XG4gICAgICArK3dpZHRoSGVpZ2h0SW5kZXg7XG4gICAgfVxuICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGNvbnRleHRJbnN0cnVjdGlvbnMsIHN0cm9rZUluc3RydWN0aW9ucyk7XG4gICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoY29udGV4dEluc3RydWN0aW9ucywgZmlsbEluc3RydWN0aW9ucyk7XG4gICAgdGhpcy5sYWJlbHNfW2tleV0gPSBsYWJlbDtcbiAgICByZXR1cm4gbGFiZWw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHAxIDFzdCBwb2ludCBvZiB0aGUgYmFja2dyb3VuZCBib3guXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwMiAybmQgcG9pbnQgb2YgdGhlIGJhY2tncm91bmQgYm94LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcDMgM3JkIHBvaW50IG9mIHRoZSBiYWNrZ3JvdW5kIGJveC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHA0IDR0aCBwb2ludCBvZiB0aGUgYmFja2dyb3VuZCBib3guXG4gICAqIEBwYXJhbSB7QXJyYXk8Kj59IGZpbGxJbnN0cnVjdGlvbiBGaWxsIGluc3RydWN0aW9uLlxuICAgKiBAcGFyYW0ge0FycmF5PCo+fSBzdHJva2VJbnN0cnVjdGlvbiBTdHJva2UgaW5zdHJ1Y3Rpb24uXG4gICAqL1xuICByZXBsYXlUZXh0QmFja2dyb3VuZF8oXG4gICAgY29udGV4dCxcbiAgICBwMSxcbiAgICBwMixcbiAgICBwMyxcbiAgICBwNCxcbiAgICBmaWxsSW5zdHJ1Y3Rpb24sXG4gICAgc3Ryb2tlSW5zdHJ1Y3Rpb25cbiAgKSB7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0Lm1vdmVUby5hcHBseShjb250ZXh0LCBwMSk7XG4gICAgY29udGV4dC5saW5lVG8uYXBwbHkoY29udGV4dCwgcDIpO1xuICAgIGNvbnRleHQubGluZVRvLmFwcGx5KGNvbnRleHQsIHAzKTtcbiAgICBjb250ZXh0LmxpbmVUby5hcHBseShjb250ZXh0LCBwNCk7XG4gICAgY29udGV4dC5saW5lVG8uYXBwbHkoY29udGV4dCwgcDEpO1xuICAgIGlmIChmaWxsSW5zdHJ1Y3Rpb24pIHtcbiAgICAgIHRoaXMuYWxpZ25GaWxsXyA9IC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKGZpbGxJbnN0cnVjdGlvblsyXSk7XG4gICAgICB0aGlzLmZpbGxfKGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAoc3Ryb2tlSW5zdHJ1Y3Rpb24pIHtcbiAgICAgIHRoaXMuc2V0U3Ryb2tlU3R5bGVfKFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAoc3Ryb2tlSW5zdHJ1Y3Rpb24pXG4gICAgICApO1xuICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNoZWV0V2lkdGggV2lkdGggb2YgdGhlIHNwcml0ZSBzaGVldC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNoZWV0SGVpZ2h0IEhlaWdodCBvZiB0aGUgc3ByaXRlIHNoZWV0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gY2VudGVyWCBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0gY2VudGVyWSBZLlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggV2lkdGguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gYW5jaG9yWCBBbmNob3IgWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGFuY2hvclkgQW5jaG9yIFkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvcmlnaW5YIE9yaWdpbiBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWSBPcmlnaW4gWS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZX0gc2NhbGUgU2NhbGUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc25hcFRvUGl4ZWwgU25hcCB0byBwaXhlbC5cbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBwYWRkaW5nIFBhZGRpbmcuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmlsbFN0cm9rZSBCYWNrZ3JvdW5kIGZpbGwgb3Igc3Ryb2tlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHJldHVybiB7SW1hZ2VPckxhYmVsRGltZW5zaW9uc30gRGltZW5zaW9ucyBmb3IgcG9zaXRpb25pbmcgYW5kIGRlY2x1dHRlcmluZyB0aGUgaW1hZ2Ugb3IgbGFiZWwuXG4gICAqL1xuICBjYWxjdWxhdGVJbWFnZU9yTGFiZWxEaW1lbnNpb25zXyhcbiAgICBzaGVldFdpZHRoLFxuICAgIHNoZWV0SGVpZ2h0LFxuICAgIGNlbnRlclgsXG4gICAgY2VudGVyWSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgYW5jaG9yWCxcbiAgICBhbmNob3JZLFxuICAgIG9yaWdpblgsXG4gICAgb3JpZ2luWSxcbiAgICByb3RhdGlvbixcbiAgICBzY2FsZSxcbiAgICBzbmFwVG9QaXhlbCxcbiAgICBwYWRkaW5nLFxuICAgIGZpbGxTdHJva2UsXG4gICAgZmVhdHVyZVxuICApIHtcbiAgICBhbmNob3JYICo9IHNjYWxlWzBdO1xuICAgIGFuY2hvclkgKj0gc2NhbGVbMV07XG4gICAgbGV0IHggPSBjZW50ZXJYIC0gYW5jaG9yWDtcbiAgICBsZXQgeSA9IGNlbnRlclkgLSBhbmNob3JZO1xuXG4gICAgY29uc3QgdyA9IHdpZHRoICsgb3JpZ2luWCA+IHNoZWV0V2lkdGggPyBzaGVldFdpZHRoIC0gb3JpZ2luWCA6IHdpZHRoO1xuICAgIGNvbnN0IGggPSBoZWlnaHQgKyBvcmlnaW5ZID4gc2hlZXRIZWlnaHQgPyBzaGVldEhlaWdodCAtIG9yaWdpblkgOiBoZWlnaHQ7XG4gICAgY29uc3QgYm94VyA9IHBhZGRpbmdbM10gKyB3ICogc2NhbGVbMF0gKyBwYWRkaW5nWzFdO1xuICAgIGNvbnN0IGJveEggPSBwYWRkaW5nWzBdICsgaCAqIHNjYWxlWzFdICsgcGFkZGluZ1syXTtcbiAgICBjb25zdCBib3hYID0geCAtIHBhZGRpbmdbM107XG4gICAgY29uc3QgYm94WSA9IHkgLSBwYWRkaW5nWzBdO1xuXG4gICAgaWYgKGZpbGxTdHJva2UgfHwgcm90YXRpb24gIT09IDApIHtcbiAgICAgIHAxWzBdID0gYm94WDtcbiAgICAgIHA0WzBdID0gYm94WDtcbiAgICAgIHAxWzFdID0gYm94WTtcbiAgICAgIHAyWzFdID0gYm94WTtcbiAgICAgIHAyWzBdID0gYm94WCArIGJveFc7XG4gICAgICBwM1swXSA9IHAyWzBdO1xuICAgICAgcDNbMV0gPSBib3hZICsgYm94SDtcbiAgICAgIHA0WzFdID0gcDNbMV07XG4gICAgfVxuXG4gICAgbGV0IHRyYW5zZm9ybTtcbiAgICBpZiAocm90YXRpb24gIT09IDApIHtcbiAgICAgIHRyYW5zZm9ybSA9IGNvbXBvc2VUcmFuc2Zvcm0oXG4gICAgICAgIGNyZWF0ZVRyYW5zZm9ybSgpLFxuICAgICAgICBjZW50ZXJYLFxuICAgICAgICBjZW50ZXJZLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICByb3RhdGlvbixcbiAgICAgICAgLWNlbnRlclgsXG4gICAgICAgIC1jZW50ZXJZXG4gICAgICApO1xuXG4gICAgICBhcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm0sIHAxKTtcbiAgICAgIGFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybSwgcDIpO1xuICAgICAgYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtLCBwMyk7XG4gICAgICBhcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm0sIHA0KTtcbiAgICAgIGNyZWF0ZU9yVXBkYXRlKFxuICAgICAgICBNYXRoLm1pbihwMVswXSwgcDJbMF0sIHAzWzBdLCBwNFswXSksXG4gICAgICAgIE1hdGgubWluKHAxWzFdLCBwMlsxXSwgcDNbMV0sIHA0WzFdKSxcbiAgICAgICAgTWF0aC5tYXgocDFbMF0sIHAyWzBdLCBwM1swXSwgcDRbMF0pLFxuICAgICAgICBNYXRoLm1heChwMVsxXSwgcDJbMV0sIHAzWzFdLCBwNFsxXSksXG4gICAgICAgIHRtcEV4dGVudFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3JlYXRlT3JVcGRhdGUoXG4gICAgICAgIE1hdGgubWluKGJveFgsIGJveFggKyBib3hXKSxcbiAgICAgICAgTWF0aC5taW4oYm94WSwgYm94WSArIGJveEgpLFxuICAgICAgICBNYXRoLm1heChib3hYLCBib3hYICsgYm94VyksXG4gICAgICAgIE1hdGgubWF4KGJveFksIGJveFkgKyBib3hIKSxcbiAgICAgICAgdG1wRXh0ZW50XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoc25hcFRvUGl4ZWwpIHtcbiAgICAgIHggPSBNYXRoLnJvdW5kKHgpO1xuICAgICAgeSA9IE1hdGgucm91bmQoeSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBkcmF3SW1hZ2VYOiB4LFxuICAgICAgZHJhd0ltYWdlWTogeSxcbiAgICAgIGRyYXdJbWFnZVc6IHcsXG4gICAgICBkcmF3SW1hZ2VIOiBoLFxuICAgICAgb3JpZ2luWDogb3JpZ2luWCxcbiAgICAgIG9yaWdpblk6IG9yaWdpblksXG4gICAgICBkZWNsdXR0ZXJCb3g6IHtcbiAgICAgICAgbWluWDogdG1wRXh0ZW50WzBdLFxuICAgICAgICBtaW5ZOiB0bXBFeHRlbnRbMV0sXG4gICAgICAgIG1heFg6IHRtcEV4dGVudFsyXSxcbiAgICAgICAgbWF4WTogdG1wRXh0ZW50WzNdLFxuICAgICAgICB2YWx1ZTogZmVhdHVyZSxcbiAgICAgIH0sXG4gICAgICBjYW52YXNUcmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZXh0U2NhbGUgU2NhbGUgb2YgdGhlIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gaW1hZ2VPckxhYmVsIEltYWdlLlxuICAgKiBAcGFyYW0ge0ltYWdlT3JMYWJlbERpbWVuc2lvbnN9IGRpbWVuc2lvbnMgRGltZW5zaW9ucy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eS5cbiAgICogQHBhcmFtIHtBcnJheTwqPn0gZmlsbEluc3RydWN0aW9uIEZpbGwgaW5zdHJ1Y3Rpb24uXG4gICAqIEBwYXJhbSB7QXJyYXk8Kj59IHN0cm9rZUluc3RydWN0aW9uIFN0cm9rZSBpbnN0cnVjdGlvbi5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGltYWdlIG9yIGxhYmVsIHdhcyByZW5kZXJlZC5cbiAgICovXG4gIHJlcGxheUltYWdlT3JMYWJlbF8oXG4gICAgY29udGV4dCxcbiAgICBjb250ZXh0U2NhbGUsXG4gICAgaW1hZ2VPckxhYmVsLFxuICAgIGRpbWVuc2lvbnMsXG4gICAgb3BhY2l0eSxcbiAgICBmaWxsSW5zdHJ1Y3Rpb24sXG4gICAgc3Ryb2tlSW5zdHJ1Y3Rpb25cbiAgKSB7XG4gICAgY29uc3QgZmlsbFN0cm9rZSA9ICEhKGZpbGxJbnN0cnVjdGlvbiB8fCBzdHJva2VJbnN0cnVjdGlvbik7XG5cbiAgICBjb25zdCBib3ggPSBkaW1lbnNpb25zLmRlY2x1dHRlckJveDtcbiAgICBjb25zdCBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICBjb25zdCBzdHJva2VQYWRkaW5nID0gc3Ryb2tlSW5zdHJ1Y3Rpb25cbiAgICAgID8gKHN0cm9rZUluc3RydWN0aW9uWzJdICogZGltZW5zaW9ucy5zY2FsZVswXSkgLyAyXG4gICAgICA6IDA7XG4gICAgY29uc3QgaW50ZXJzZWN0cyA9XG4gICAgICBib3gubWluWCAtIHN0cm9rZVBhZGRpbmcgPD0gY2FudmFzLndpZHRoIC8gY29udGV4dFNjYWxlICYmXG4gICAgICBib3gubWF4WCArIHN0cm9rZVBhZGRpbmcgPj0gMCAmJlxuICAgICAgYm94Lm1pblkgLSBzdHJva2VQYWRkaW5nIDw9IGNhbnZhcy5oZWlnaHQgLyBjb250ZXh0U2NhbGUgJiZcbiAgICAgIGJveC5tYXhZICsgc3Ryb2tlUGFkZGluZyA+PSAwO1xuXG4gICAgaWYgKGludGVyc2VjdHMpIHtcbiAgICAgIGlmIChmaWxsU3Ryb2tlKSB7XG4gICAgICAgIHRoaXMucmVwbGF5VGV4dEJhY2tncm91bmRfKFxuICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgcDEsXG4gICAgICAgICAgcDIsXG4gICAgICAgICAgcDMsXG4gICAgICAgICAgcDQsXG4gICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKGZpbGxJbnN0cnVjdGlvbiksXG4gICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKHN0cm9rZUluc3RydWN0aW9uKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZHJhd0ltYWdlT3JMYWJlbChcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgZGltZW5zaW9ucy5jYW52YXNUcmFuc2Zvcm0sXG4gICAgICAgIG9wYWNpdHksXG4gICAgICAgIGltYWdlT3JMYWJlbCxcbiAgICAgICAgZGltZW5zaW9ucy5vcmlnaW5YLFxuICAgICAgICBkaW1lbnNpb25zLm9yaWdpblksXG4gICAgICAgIGRpbWVuc2lvbnMuZHJhd0ltYWdlVyxcbiAgICAgICAgZGltZW5zaW9ucy5kcmF3SW1hZ2VILFxuICAgICAgICBkaW1lbnNpb25zLmRyYXdJbWFnZVgsXG4gICAgICAgIGRpbWVuc2lvbnMuZHJhd0ltYWdlWSxcbiAgICAgICAgZGltZW5zaW9ucy5zY2FsZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICovXG4gIGZpbGxfKGNvbnRleHQpIHtcbiAgICBpZiAodGhpcy5hbGlnbkZpbGxfKSB7XG4gICAgICBjb25zdCBvcmlnaW4gPSBhcHBseVRyYW5zZm9ybSh0aGlzLnJlbmRlcmVkVHJhbnNmb3JtXywgWzAsIDBdKTtcbiAgICAgIGNvbnN0IHJlcGVhdFNpemUgPSA1MTIgKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgIGNvbnRleHQudHJhbnNsYXRlKG9yaWdpblswXSAlIHJlcGVhdFNpemUsIG9yaWdpblsxXSAlIHJlcGVhdFNpemUpO1xuICAgICAgY29udGV4dC5yb3RhdGUodGhpcy52aWV3Um90YXRpb25fKTtcbiAgICB9XG4gICAgY29udGV4dC5maWxsKCk7XG4gICAgaWYgKHRoaXMuYWxpZ25GaWxsXykge1xuICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7QXJyYXk8Kj59IGluc3RydWN0aW9uIEluc3RydWN0aW9uLlxuICAgKi9cbiAgc2V0U3Ryb2tlU3R5bGVfKGNvbnRleHQsIGluc3RydWN0aW9uKSB7XG4gICAgY29udGV4dFsnc3Ryb2tlU3R5bGUnXSA9XG4gICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgY29udGV4dC5saW5lV2lkdGggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICBjb250ZXh0LmxpbmVDYXAgPSAvKiogQHR5cGUge0NhbnZhc0xpbmVDYXB9ICovIChpbnN0cnVjdGlvblszXSk7XG4gICAgY29udGV4dC5saW5lSm9pbiA9IC8qKiBAdHlwZSB7Q2FudmFzTGluZUpvaW59ICovIChpbnN0cnVjdGlvbls0XSk7XG4gICAgY29udGV4dC5taXRlckxpbWl0ID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls1XSk7XG4gICAgY29udGV4dC5saW5lRGFzaE9mZnNldCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bN10pO1xuICAgIGNvbnRleHQuc2V0TGluZURhc2goLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoaW5zdHJ1Y3Rpb25bNl0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSB0ZXh0IFRoZSB0ZXh0IHRvIGRyYXcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0S2V5IFRoZSBrZXkgb2YgdGhlIHRleHQgc3RhdGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJva2VLZXkgVGhlIGtleSBmb3IgdGhlIHN0cm9rZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGxLZXkgVGhlIGtleSBmb3IgdGhlIGZpbGwgc3RhdGUuXG4gICAqIEByZXR1cm4ge3tsYWJlbDogaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsLCBhbmNob3JYOiBudW1iZXIsIGFuY2hvclk6IG51bWJlcn19IFRoZSB0ZXh0IGltYWdlIGFuZCBpdHMgYW5jaG9yLlxuICAgKi9cbiAgZHJhd0xhYmVsV2l0aFBvaW50UGxhY2VtZW50Xyh0ZXh0LCB0ZXh0S2V5LCBzdHJva2VLZXksIGZpbGxLZXkpIHtcbiAgICBjb25zdCB0ZXh0U3RhdGUgPSB0aGlzLnRleHRTdGF0ZXNbdGV4dEtleV07XG5cbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuY3JlYXRlTGFiZWwodGV4dCwgdGV4dEtleSwgZmlsbEtleSwgc3Ryb2tlS2V5KTtcblxuICAgIGNvbnN0IHN0cm9rZVN0YXRlID0gdGhpcy5zdHJva2VTdGF0ZXNbc3Ryb2tlS2V5XTtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgIGNvbnN0IGFsaWduID0gaG9yaXpvbnRhbFRleHRBbGlnbihcbiAgICAgIEFycmF5LmlzQXJyYXkodGV4dCkgPyB0ZXh0WzBdIDogdGV4dCxcbiAgICAgIHRleHRTdGF0ZS50ZXh0QWxpZ24gfHwgZGVmYXVsdFRleHRBbGlnblxuICAgICk7XG4gICAgY29uc3QgYmFzZWxpbmUgPSBURVhUX0FMSUdOW3RleHRTdGF0ZS50ZXh0QmFzZWxpbmUgfHwgZGVmYXVsdFRleHRCYXNlbGluZV07XG4gICAgY29uc3Qgc3Ryb2tlV2lkdGggPVxuICAgICAgc3Ryb2tlU3RhdGUgJiYgc3Ryb2tlU3RhdGUubGluZVdpZHRoID8gc3Ryb2tlU3RhdGUubGluZVdpZHRoIDogMDtcblxuICAgIC8vIFJlbW92ZSB0aGUgMiBwaXhlbHMgd2UgYWRkZWQgaW4gY3JlYXRlTGFiZWwoKSBmb3IgdGhlIGFuY2hvclxuICAgIGNvbnN0IHdpZHRoID0gbGFiZWwud2lkdGggLyBwaXhlbFJhdGlvIC0gMiAqIHRleHRTdGF0ZS5zY2FsZVswXTtcbiAgICBjb25zdCBhbmNob3JYID0gYWxpZ24gKiB3aWR0aCArIDIgKiAoMC41IC0gYWxpZ24pICogc3Ryb2tlV2lkdGg7XG4gICAgY29uc3QgYW5jaG9yWSA9XG4gICAgICAoYmFzZWxpbmUgKiBsYWJlbC5oZWlnaHQpIC8gcGl4ZWxSYXRpbyArXG4gICAgICAyICogKDAuNSAtIGJhc2VsaW5lKSAqIHN0cm9rZVdpZHRoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgIGFuY2hvclg6IGFuY2hvclgsXG4gICAgICBhbmNob3JZOiBhbmNob3JZLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvbnRleHRTY2FsZSBTY2FsZSBvZiB0aGUgY29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKiBAcGFyYW0ge0FycmF5PCo+fSBpbnN0cnVjdGlvbnMgSW5zdHJ1Y3Rpb25zIGFycmF5LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNuYXBUb1BpeGVsIFNuYXAgcG9pbnQgc3ltYm9scyBhbmQgdGV4dCB0byBpbnRlZ2VyIHBpeGVscy5cbiAgICogQHBhcmFtIHtGZWF0dXJlQ2FsbGJhY2s8VD59IFtmZWF0dXJlQ2FsbGJhY2tdIEZlYXR1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2hpdEV4dGVudF0gT25seSBjaGVja1xuICAgKiAgICAgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3QgdGhpcyBleHRlbnQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwicmJ1c2hcIikuZGVmYXVsdH0gW2RlY2x1dHRlclRyZWVdIERlY2x1dHRlciB0cmVlLlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKi9cbiAgZXhlY3V0ZV8oXG4gICAgY29udGV4dCxcbiAgICBjb250ZXh0U2NhbGUsXG4gICAgdHJhbnNmb3JtLFxuICAgIGluc3RydWN0aW9ucyxcbiAgICBzbmFwVG9QaXhlbCxcbiAgICBmZWF0dXJlQ2FsbGJhY2ssXG4gICAgaGl0RXh0ZW50LFxuICAgIGRlY2x1dHRlclRyZWVcbiAgKSB7XG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIGxldCBwaXhlbENvb3JkaW5hdGVzO1xuICAgIGlmICh0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfICYmIGVxdWFscyh0cmFuc2Zvcm0sIHRoaXMucmVuZGVyZWRUcmFuc2Zvcm1fKSkge1xuICAgICAgcGl4ZWxDb29yZGluYXRlcyA9IHRoaXMucGl4ZWxDb29yZGluYXRlc187XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5waXhlbENvb3JkaW5hdGVzXykge1xuICAgICAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfID0gW107XG4gICAgICB9XG4gICAgICBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtMkQoXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMsXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgICAyLFxuICAgICAgICB0cmFuc2Zvcm0sXG4gICAgICAgIHRoaXMucGl4ZWxDb29yZGluYXRlc19cbiAgICAgICk7XG4gICAgICB0cmFuc2Zvcm1TZXRGcm9tQXJyYXkodGhpcy5yZW5kZXJlZFRyYW5zZm9ybV8sIHRyYW5zZm9ybSk7XG4gICAgfVxuICAgIGxldCBpID0gMDsgLy8gaW5zdHJ1Y3Rpb24gaW5kZXhcbiAgICBjb25zdCBpaSA9IGluc3RydWN0aW9ucy5sZW5ndGg7IC8vIGVuZCBvZiBpbnN0cnVjdGlvbnNcbiAgICBsZXQgZCA9IDA7IC8vIGRhdGEgaW5kZXhcbiAgICBsZXQgZGQ7IC8vIGVuZCBvZiBwZXItaW5zdHJ1Y3Rpb24gZGF0YVxuICAgIGxldCBhbmNob3JYLFxuICAgICAgYW5jaG9yWSxcbiAgICAgIHByZXZYLFxuICAgICAgcHJldlksXG4gICAgICByb3VuZFgsXG4gICAgICByb3VuZFksXG4gICAgICBpbWFnZSxcbiAgICAgIHRleHQsXG4gICAgICB0ZXh0S2V5LFxuICAgICAgc3Ryb2tlS2V5LFxuICAgICAgZmlsbEtleTtcbiAgICBsZXQgcGVuZGluZ0ZpbGwgPSAwO1xuICAgIGxldCBwZW5kaW5nU3Ryb2tlID0gMDtcbiAgICBsZXQgbGFzdEZpbGxJbnN0cnVjdGlvbiA9IG51bGw7XG4gICAgbGV0IGxhc3RTdHJva2VJbnN0cnVjdGlvbiA9IG51bGw7XG4gICAgY29uc3QgY29vcmRpbmF0ZUNhY2hlID0gdGhpcy5jb29yZGluYXRlQ2FjaGVfO1xuICAgIGNvbnN0IHZpZXdSb3RhdGlvbiA9IHRoaXMudmlld1JvdGF0aW9uXztcbiAgICBjb25zdCB2aWV3Um90YXRpb25Gcm9tVHJhbnNmb3JtID1cbiAgICAgIE1hdGgucm91bmQoTWF0aC5hdGFuMigtdHJhbnNmb3JtWzFdLCB0cmFuc2Zvcm1bMF0pICogMWUxMikgLyAxZTEyO1xuXG4gICAgY29uc3Qgc3RhdGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL3JlbmRlci5qc1wiKS5TdGF0ZX0gKi8gKHtcbiAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICBwaXhlbFJhdGlvOiB0aGlzLnBpeGVsUmF0aW8sXG4gICAgICByZXNvbHV0aW9uOiB0aGlzLnJlc29sdXRpb24sXG4gICAgICByb3RhdGlvbjogdmlld1JvdGF0aW9uLFxuICAgIH0pO1xuXG4gICAgLy8gV2hlbiB0aGUgYmF0Y2ggc2l6ZSBnZXRzIHRvbyBiaWcsIHBlcmZvcm1hbmNlIGRlY3JlYXNlcy4gMjAwIGlzIGEgZ29vZFxuICAgIC8vIGJhbGFuY2UgYmV0d2VlbiBiYXRjaCBzaXplIGFuZCBudW1iZXIgb2YgZmlsbC9zdHJva2UgaW5zdHJ1Y3Rpb25zLlxuICAgIGNvbnN0IGJhdGNoU2l6ZSA9XG4gICAgICB0aGlzLmluc3RydWN0aW9ucyAhPSBpbnN0cnVjdGlvbnMgfHwgdGhpcy5vdmVybGFwcyA/IDAgOiAyMDA7XG4gICAgbGV0IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gKi8gZmVhdHVyZTtcbiAgICBsZXQgeCwgeSwgY3VycmVudEdlb21ldHJ5O1xuICAgIHdoaWxlIChpIDwgaWkpIHtcbiAgICAgIGNvbnN0IGluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb25zW2ldO1xuICAgICAgY29uc3QgdHlwZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9JbnN0cnVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGluc3RydWN0aW9uWzBdXG4gICAgICApO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fR0VPTUVUUlk6XG4gICAgICAgICAgZmVhdHVyZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gKi8gKFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bMV1cbiAgICAgICAgICApO1xuICAgICAgICAgIGN1cnJlbnRHZW9tZXRyeSA9IGluc3RydWN0aW9uWzNdO1xuICAgICAgICAgIGlmICghZmVhdHVyZS5nZXRHZW9tZXRyeSgpKSB7XG4gICAgICAgICAgICBpID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGhpdEV4dGVudCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAhaW50ZXJzZWN0cyhoaXRFeHRlbnQsIGN1cnJlbnRHZW9tZXRyeS5nZXRFeHRlbnQoKSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKSArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICsraTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fUEFUSDpcbiAgICAgICAgICBpZiAocGVuZGluZ0ZpbGwgPiBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgICAgICBwZW5kaW5nRmlsbCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwZW5kaW5nU3Ryb2tlID4gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgcGVuZGluZ1N0cm9rZSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghcGVuZGluZ0ZpbGwgJiYgIXBlbmRpbmdTdHJva2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBwcmV2WCA9IE5hTjtcbiAgICAgICAgICAgIHByZXZZID0gTmFOO1xuICAgICAgICAgIH1cbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQ0lSQ0xFOlxuICAgICAgICAgIGQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICBjb25zdCB4MSA9IHBpeGVsQ29vcmRpbmF0ZXNbZF07XG4gICAgICAgICAgY29uc3QgeTEgPSBwaXhlbENvb3JkaW5hdGVzW2QgKyAxXTtcbiAgICAgICAgICBjb25zdCB4MiA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDJdO1xuICAgICAgICAgIGNvbnN0IHkyID0gcGl4ZWxDb29yZGluYXRlc1tkICsgM107XG4gICAgICAgICAgY29uc3QgZHggPSB4MiAtIHgxO1xuICAgICAgICAgIGNvbnN0IGR5ID0geTIgLSB5MTtcbiAgICAgICAgICBjb25zdCByID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4MSArIHIsIHkxKTtcbiAgICAgICAgICBjb250ZXh0LmFyYyh4MSwgeTEsIHIsIDAsIDIgKiBNYXRoLlBJLCB0cnVlKTtcbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQ0xPU0VfUEFUSDpcbiAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT006XG4gICAgICAgICAgZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgIGRkID0gaW5zdHJ1Y3Rpb25bMl07XG4gICAgICAgICAgY29uc3QgZ2VvbWV0cnkgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bM11cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgcmVuZGVyZXIgPSBpbnN0cnVjdGlvbls0XTtcbiAgICAgICAgICBjb25zdCBmbiA9IGluc3RydWN0aW9uLmxlbmd0aCA9PSA2ID8gaW5zdHJ1Y3Rpb25bNV0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgc3RhdGUuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgICBzdGF0ZS5mZWF0dXJlID0gZmVhdHVyZTtcbiAgICAgICAgICBpZiAoIShpIGluIGNvb3JkaW5hdGVDYWNoZSkpIHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGVDYWNoZVtpXSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjb29yZHMgPSBjb29yZGluYXRlQ2FjaGVbaV07XG4gICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICBmbihwaXhlbENvb3JkaW5hdGVzLCBkLCBkZCwgMiwgY29vcmRzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29vcmRzWzBdID0gcGl4ZWxDb29yZGluYXRlc1tkXTtcbiAgICAgICAgICAgIGNvb3Jkc1sxXSA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdO1xuICAgICAgICAgICAgY29vcmRzLmxlbmd0aCA9IDI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbmRlcmVyKGNvb3Jkcywgc3RhdGUpO1xuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFOlxuICAgICAgICAgIGQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICBkZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMl0pO1xuICAgICAgICAgIGltYWdlID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fSAqLyAoXG4gICAgICAgICAgICAgIGluc3RydWN0aW9uWzNdXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gUmVtYWluaW5nIGFyZ3VtZW50cyBpbiBEUkFXX0lNQUdFIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICAgICAgICBhbmNob3JYID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls0XSk7XG4gICAgICAgICAgYW5jaG9yWSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNV0pO1xuICAgICAgICAgIGxldCBoZWlnaHQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzZdKTtcbiAgICAgICAgICBjb25zdCBvcGFjaXR5ID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls3XSk7XG4gICAgICAgICAgY29uc3Qgb3JpZ2luWCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bOF0pO1xuICAgICAgICAgIGNvbnN0IG9yaWdpblkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzldKTtcbiAgICAgICAgICBjb25zdCByb3RhdGVXaXRoVmlldyA9IC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKGluc3RydWN0aW9uWzEwXSk7XG4gICAgICAgICAgbGV0IHJvdGF0aW9uID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxMV0pO1xuICAgICAgICAgIGNvbnN0IHNjYWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV9ICovIChcbiAgICAgICAgICAgIGluc3RydWN0aW9uWzEyXVxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IHdpZHRoID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxM10pO1xuICAgICAgICAgIGNvbnN0IGRlY2x1dHRlck1vZGUgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtcImRlY2x1dHRlclwifFwib2JzdGFjbGVcInxcIm5vbmVcInx1bmRlZmluZWR9ICovIChcbiAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bMTRdXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGRlY2x1dHRlckltYWdlV2l0aFRleHQgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH0gKi8gKFxuICAgICAgICAgICAgICBpbnN0cnVjdGlvblsxNV1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAoIWltYWdlICYmIGluc3RydWN0aW9uLmxlbmd0aCA+PSAyMCkge1xuICAgICAgICAgICAgLy8gY3JlYXRlIGxhYmVsIGltYWdlc1xuICAgICAgICAgICAgdGV4dCA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMTldKTtcbiAgICAgICAgICAgIHRleHRLZXkgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzIwXSk7XG4gICAgICAgICAgICBzdHJva2VLZXkgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzIxXSk7XG4gICAgICAgICAgICBmaWxsS2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvblsyMl0pO1xuICAgICAgICAgICAgY29uc3QgbGFiZWxXaXRoQW5jaG9yID0gdGhpcy5kcmF3TGFiZWxXaXRoUG9pbnRQbGFjZW1lbnRfKFxuICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICB0ZXh0S2V5LFxuICAgICAgICAgICAgICBzdHJva2VLZXksXG4gICAgICAgICAgICAgIGZpbGxLZXlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpbWFnZSA9IGxhYmVsV2l0aEFuY2hvci5sYWJlbDtcbiAgICAgICAgICAgIGluc3RydWN0aW9uWzNdID0gaW1hZ2U7XG4gICAgICAgICAgICBjb25zdCB0ZXh0T2Zmc2V0WCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMjNdKTtcbiAgICAgICAgICAgIGFuY2hvclggPSAobGFiZWxXaXRoQW5jaG9yLmFuY2hvclggLSB0ZXh0T2Zmc2V0WCkgKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgICAgICBpbnN0cnVjdGlvbls0XSA9IGFuY2hvclg7XG4gICAgICAgICAgICBjb25zdCB0ZXh0T2Zmc2V0WSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMjRdKTtcbiAgICAgICAgICAgIGFuY2hvclkgPSAobGFiZWxXaXRoQW5jaG9yLmFuY2hvclkgLSB0ZXh0T2Zmc2V0WSkgKiB0aGlzLnBpeGVsUmF0aW87XG4gICAgICAgICAgICBpbnN0cnVjdGlvbls1XSA9IGFuY2hvclk7XG4gICAgICAgICAgICBoZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbls2XSA9IGhlaWdodDtcbiAgICAgICAgICAgIHdpZHRoID0gaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICBpbnN0cnVjdGlvblsxM10gPSB3aWR0aDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgZ2VvbWV0cnlXaWR0aHM7XG4gICAgICAgICAgaWYgKGluc3RydWN0aW9uLmxlbmd0aCA+IDI1KSB7XG4gICAgICAgICAgICBnZW9tZXRyeVdpZHRocyA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMjVdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgcGFkZGluZywgYmFja2dyb3VuZEZpbGwsIGJhY2tncm91bmRTdHJva2U7XG4gICAgICAgICAgaWYgKGluc3RydWN0aW9uLmxlbmd0aCA+IDE3KSB7XG4gICAgICAgICAgICBwYWRkaW5nID0gLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoaW5zdHJ1Y3Rpb25bMTZdKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRGaWxsID0gLyoqIEB0eXBlIHtib29sZWFufSAqLyAoaW5zdHJ1Y3Rpb25bMTddKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRTdHJva2UgPSAvKiogQHR5cGUge2Jvb2xlYW59ICovIChpbnN0cnVjdGlvblsxOF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWRkaW5nID0gZGVmYXVsdFBhZGRpbmc7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kRmlsbCA9IGZhbHNlO1xuICAgICAgICAgICAgYmFja2dyb3VuZFN0cm9rZSA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyb3RhdGVXaXRoVmlldyAmJiB2aWV3Um90YXRpb25Gcm9tVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyBDYW52YXMgaXMgZXhwZWN0ZWQgdG8gYmUgcm90YXRlZCB0byByZXZlcnNlIHZpZXcgcm90YXRpb24uXG4gICAgICAgICAgICByb3RhdGlvbiArPSB2aWV3Um90YXRpb247XG4gICAgICAgICAgfSBlbHNlIGlmICghcm90YXRlV2l0aFZpZXcgJiYgIXZpZXdSb3RhdGlvbkZyb21UcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIC8vIENhbnZhcyBpcyBub3Qgcm90YXRlZCwgaW1hZ2VzIG5lZWQgdG8gYmUgcm90YXRlZCBiYWNrIHRvIGJlIG5vcnRoLXVwLlxuICAgICAgICAgICAgcm90YXRpb24gLT0gdmlld1JvdGF0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgd2lkdGhJbmRleCA9IDA7XG4gICAgICAgICAgZm9yICg7IGQgPCBkZDsgZCArPSAyKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzICYmXG4gICAgICAgICAgICAgIGdlb21ldHJ5V2lkdGhzW3dpZHRoSW5kZXgrK10gPCB3aWR0aCAvIHRoaXMucGl4ZWxSYXRpb1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMuY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18oXG4gICAgICAgICAgICAgIGltYWdlLndpZHRoLFxuICAgICAgICAgICAgICBpbWFnZS5oZWlnaHQsXG4gICAgICAgICAgICAgIHBpeGVsQ29vcmRpbmF0ZXNbZF0sXG4gICAgICAgICAgICAgIHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdLFxuICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICBhbmNob3JYLFxuICAgICAgICAgICAgICBhbmNob3JZLFxuICAgICAgICAgICAgICBvcmlnaW5YLFxuICAgICAgICAgICAgICBvcmlnaW5ZLFxuICAgICAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICAgICAgc2NhbGUsXG4gICAgICAgICAgICAgIHNuYXBUb1BpeGVsLFxuICAgICAgICAgICAgICBwYWRkaW5nLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kRmlsbCB8fCBiYWNrZ3JvdW5kU3Ryb2tlLFxuICAgICAgICAgICAgICBmZWF0dXJlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgLyoqIEB0eXBlIHtSZXBsYXlJbWFnZU9yTGFiZWxBcmdzfSAqL1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IFtcbiAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgY29udGV4dFNjYWxlLFxuICAgICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgICAgZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEZpbGxcbiAgICAgICAgICAgICAgICA/IC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChsYXN0RmlsbEluc3RydWN0aW9uKVxuICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZFN0cm9rZVxuICAgICAgICAgICAgICAgID8gLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKGxhc3RTdHJva2VJbnN0cnVjdGlvbilcbiAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKGRlY2x1dHRlclRyZWUpIHtcbiAgICAgICAgICAgICAgaWYgKGRlY2x1dHRlck1vZGUgPT09ICdub25lJykge1xuICAgICAgICAgICAgICAgIC8vIG5vdCByZW5kZXJlZCBpbiBkZWNsdXR0ZXIgZ3JvdXBcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZWNsdXR0ZXJNb2RlID09PSAnb2JzdGFjbGUnKSB7XG4gICAgICAgICAgICAgICAgLy8gd2lsbCBhbHdheXMgYmUgZHJhd24sIHRodXMgbm8gY29sbGlzaW9uIGRldGVjdGlvbiwgYnV0IGluc2VydCBhcyBvYnN0YWNsZVxuICAgICAgICAgICAgICAgIGRlY2x1dHRlclRyZWUuaW5zZXJ0KGRpbWVuc2lvbnMuZGVjbHV0dGVyQm94KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgaW1hZ2VBcmdzO1xuICAgICAgICAgICAgICAgIGxldCBpbWFnZURlY2x1dHRlckJveDtcbiAgICAgICAgICAgICAgICBpZiAoZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBkZCAtIGQ7XG4gICAgICAgICAgICAgICAgICBpZiAoIWRlY2x1dHRlckltYWdlV2l0aFRleHRbaW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG5vdyBoYXZlIHRoZSBpbWFnZSBmb3IgYW4gaW1hZ2UrdGV4dCBjb21iaW5hdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dFtpbmRleF0gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCByZW5kZXIgYW55dGhpbmcgZm9yIG5vdywgd2FpdCBmb3IgdGhlIHRleHQuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaW1hZ2VBcmdzID0gZGVjbHV0dGVySW1hZ2VXaXRoVGV4dFtpbmRleF07XG4gICAgICAgICAgICAgICAgICBkZWxldGUgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dFtpbmRleF07XG4gICAgICAgICAgICAgICAgICBpbWFnZURlY2x1dHRlckJveCA9IGdldERlY2x1dHRlckJveChpbWFnZUFyZ3MpO1xuICAgICAgICAgICAgICAgICAgaWYgKGRlY2x1dHRlclRyZWUuY29sbGlkZXMoaW1hZ2VEZWNsdXR0ZXJCb3gpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGVjbHV0dGVyVHJlZS5jb2xsaWRlcyhkaW1lbnNpb25zLmRlY2x1dHRlckJveCkpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VBcmdzKSB7XG4gICAgICAgICAgICAgICAgICAvLyBXZSBub3cgaGF2ZSBpbWFnZSBhbmQgdGV4dCBmb3IgYW4gaW1hZ2UrdGV4dCBjb21iaW5hdGlvbi5cbiAgICAgICAgICAgICAgICAgIGRlY2x1dHRlclRyZWUuaW5zZXJ0KGltYWdlRGVjbHV0dGVyQm94KTtcbiAgICAgICAgICAgICAgICAgIC8vIFJlbmRlciB0aGUgaW1hZ2UgYmVmb3JlIHdlIHJlbmRlciB0aGUgdGV4dC5cbiAgICAgICAgICAgICAgICAgIHRoaXMucmVwbGF5SW1hZ2VPckxhYmVsXy5hcHBseSh0aGlzLCBpbWFnZUFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNsdXR0ZXJUcmVlLmluc2VydChkaW1lbnNpb25zLmRlY2x1dHRlckJveCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVwbGF5SW1hZ2VPckxhYmVsXy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgKytpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkRSQVdfQ0hBUlM6XG4gICAgICAgICAgY29uc3QgYmVnaW4gPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICBjb25zdCBlbmQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgICBjb25zdCBiYXNlbGluZSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bM10pO1xuICAgICAgICAgIGNvbnN0IG92ZXJmbG93ID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls0XSk7XG4gICAgICAgICAgZmlsbEtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bNV0pO1xuICAgICAgICAgIGNvbnN0IG1heEFuZ2xlID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls2XSk7XG4gICAgICAgICAgY29uc3QgbWVhc3VyZVBpeGVsUmF0aW8gPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzddKTtcbiAgICAgICAgICBjb25zdCBvZmZzZXRZID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls4XSk7XG4gICAgICAgICAgc3Ryb2tlS2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvbls5XSk7XG4gICAgICAgICAgY29uc3Qgc3Ryb2tlV2lkdGggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzEwXSk7XG4gICAgICAgICAgdGV4dCA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMTFdKTtcbiAgICAgICAgICB0ZXh0S2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvblsxMl0pO1xuICAgICAgICAgIGNvbnN0IHBpeGVsUmF0aW9TY2FsZSA9IFtcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTNdKSxcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTNdKSxcbiAgICAgICAgICBdO1xuXG4gICAgICAgICAgY29uc3QgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVzW3RleHRLZXldO1xuICAgICAgICAgIGNvbnN0IGZvbnQgPSB0ZXh0U3RhdGUuZm9udDtcbiAgICAgICAgICBjb25zdCB0ZXh0U2NhbGUgPSBbXG4gICAgICAgICAgICB0ZXh0U3RhdGUuc2NhbGVbMF0gKiBtZWFzdXJlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIHRleHRTdGF0ZS5zY2FsZVsxXSAqIG1lYXN1cmVQaXhlbFJhdGlvLFxuICAgICAgICAgIF07XG5cbiAgICAgICAgICBsZXQgY2FjaGVkV2lkdGhzO1xuICAgICAgICAgIGlmIChmb250IGluIHRoaXMud2lkdGhzXykge1xuICAgICAgICAgICAgY2FjaGVkV2lkdGhzID0gdGhpcy53aWR0aHNfW2ZvbnRdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRXaWR0aHMgPSB7fTtcbiAgICAgICAgICAgIHRoaXMud2lkdGhzX1tmb250XSA9IGNhY2hlZFdpZHRocztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBwYXRoTGVuZ3RoID0gbGluZVN0cmluZ0xlbmd0aChwaXhlbENvb3JkaW5hdGVzLCBiZWdpbiwgZW5kLCAyKTtcbiAgICAgICAgICBjb25zdCB0ZXh0TGVuZ3RoID1cbiAgICAgICAgICAgIE1hdGguYWJzKHRleHRTY2FsZVswXSkgKlxuICAgICAgICAgICAgbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoKGZvbnQsIHRleHQsIGNhY2hlZFdpZHRocyk7XG4gICAgICAgICAgaWYgKG92ZXJmbG93IHx8IHRleHRMZW5ndGggPD0gcGF0aExlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdGV4dEFsaWduID0gdGhpcy50ZXh0U3RhdGVzW3RleHRLZXldLnRleHRBbGlnbjtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0TSA9IChwYXRoTGVuZ3RoIC0gdGV4dExlbmd0aCkgKiBURVhUX0FMSUdOW3RleHRBbGlnbl07XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IGRyYXdUZXh0T25QYXRoKFxuICAgICAgICAgICAgICBwaXhlbENvb3JkaW5hdGVzLFxuICAgICAgICAgICAgICBiZWdpbixcbiAgICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgICAyLFxuICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICBzdGFydE0sXG4gICAgICAgICAgICAgIG1heEFuZ2xlLFxuICAgICAgICAgICAgICBNYXRoLmFicyh0ZXh0U2NhbGVbMF0pLFxuICAgICAgICAgICAgICBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgsXG4gICAgICAgICAgICAgIGZvbnQsXG4gICAgICAgICAgICAgIGNhY2hlZFdpZHRocyxcbiAgICAgICAgICAgICAgdmlld1JvdGF0aW9uRnJvbVRyYW5zZm9ybSA/IDAgOiB0aGlzLnZpZXdSb3RhdGlvbl9cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkcmF3Q2hhcnM6IGlmIChwYXJ0cykge1xuICAgICAgICAgICAgICAvKiogQHR5cGUge0FycmF5PFJlcGxheUltYWdlT3JMYWJlbEFyZ3M+fSAqL1xuICAgICAgICAgICAgICBjb25zdCByZXBsYXlJbWFnZU9yTGFiZWxBcmdzID0gW107XG4gICAgICAgICAgICAgIGxldCBjLCBjYywgY2hhcnMsIGxhYmVsLCBwYXJ0O1xuICAgICAgICAgICAgICBpZiAoc3Ryb2tlS2V5KSB7XG4gICAgICAgICAgICAgICAgZm9yIChjID0gMCwgY2MgPSBwYXJ0cy5sZW5ndGg7IGMgPCBjYzsgKytjKSB7XG4gICAgICAgICAgICAgICAgICBwYXJ0ID0gcGFydHNbY107IC8vIHgsIHksIGFuY2hvclgsIHJvdGF0aW9uLCBjaHVua1xuICAgICAgICAgICAgICAgICAgY2hhcnMgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHBhcnRbNF0pO1xuICAgICAgICAgICAgICAgICAgbGFiZWwgPSB0aGlzLmNyZWF0ZUxhYmVsKGNoYXJzLCB0ZXh0S2V5LCAnJywgc3Ryb2tlS2V5KTtcbiAgICAgICAgICAgICAgICAgIGFuY2hvclggPVxuICAgICAgICAgICAgICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi8gKHBhcnRbMl0pICtcbiAgICAgICAgICAgICAgICAgICAgKHRleHRTY2FsZVswXSA8IDAgPyAtc3Ryb2tlV2lkdGggOiBzdHJva2VXaWR0aCk7XG4gICAgICAgICAgICAgICAgICBhbmNob3JZID1cbiAgICAgICAgICAgICAgICAgICAgYmFzZWxpbmUgKiBsYWJlbC5oZWlnaHQgK1xuICAgICAgICAgICAgICAgICAgICAoKDAuNSAtIGJhc2VsaW5lKSAqIDIgKiBzdHJva2VXaWR0aCAqIHRleHRTY2FsZVsxXSkgL1xuICAgICAgICAgICAgICAgICAgICAgIHRleHRTY2FsZVswXSAtXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gdGhpcy5jYWxjdWxhdGVJbWFnZU9yTGFiZWxEaW1lbnNpb25zXyhcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgcGFydFswXSxcbiAgICAgICAgICAgICAgICAgICAgcGFydFsxXSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yWCxcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yWSxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgcGFydFszXSxcbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpb1NjYWxlLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFBhZGRpbmcsXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBkZWNsdXR0ZXJUcmVlICYmXG4gICAgICAgICAgICAgICAgICAgIGRlY2x1dHRlclRyZWUuY29sbGlkZXMoZGltZW5zaW9ucy5kZWNsdXR0ZXJCb3gpXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgZHJhd0NoYXJzO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmVwbGF5SW1hZ2VPckxhYmVsQXJncy5wdXNoKFtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dFNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoZmlsbEtleSkge1xuICAgICAgICAgICAgICAgIGZvciAoYyA9IDAsIGNjID0gcGFydHMubGVuZ3RoOyBjIDwgY2M7ICsrYykge1xuICAgICAgICAgICAgICAgICAgcGFydCA9IHBhcnRzW2NdOyAvLyB4LCB5LCBhbmNob3JYLCByb3RhdGlvbiwgY2h1bmtcbiAgICAgICAgICAgICAgICAgIGNoYXJzID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChwYXJ0WzRdKTtcbiAgICAgICAgICAgICAgICAgIGxhYmVsID0gdGhpcy5jcmVhdGVMYWJlbChjaGFycywgdGV4dEtleSwgZmlsbEtleSwgJycpO1xuICAgICAgICAgICAgICAgICAgYW5jaG9yWCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAocGFydFsyXSk7XG4gICAgICAgICAgICAgICAgICBhbmNob3JZID0gYmFzZWxpbmUgKiBsYWJlbC5oZWlnaHQgLSBvZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMuY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18oXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRbMF0sXG4gICAgICAgICAgICAgICAgICAgIHBhcnRbMV0sXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclgsXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclksXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRbM10sXG4gICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW9TY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgZGVjbHV0dGVyVHJlZSAmJlxuICAgICAgICAgICAgICAgICAgICBkZWNsdXR0ZXJUcmVlLmNvbGxpZGVzKGRpbWVuc2lvbnMuZGVjbHV0dGVyQm94KVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGRyYXdDaGFycztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJlcGxheUltYWdlT3JMYWJlbEFyZ3MucHVzaChbXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRTY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbnMsXG4gICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGRlY2x1dHRlclRyZWUpIHtcbiAgICAgICAgICAgICAgICBkZWNsdXR0ZXJUcmVlLmxvYWQocmVwbGF5SW1hZ2VPckxhYmVsQXJncy5tYXAoZ2V0RGVjbHV0dGVyQm94KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gcmVwbGF5SW1hZ2VPckxhYmVsQXJncy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXBsYXlJbWFnZU9yTGFiZWxfLmFwcGx5KHRoaXMsIHJlcGxheUltYWdlT3JMYWJlbEFyZ3NbaV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5FTkRfR0VPTUVUUlk6XG4gICAgICAgICAgaWYgKGZlYXR1cmVDYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmZWF0dXJlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSAqLyAoXG4gICAgICAgICAgICAgIGluc3RydWN0aW9uWzFdXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZmVhdHVyZUNhbGxiYWNrKGZlYXR1cmUsIGN1cnJlbnRHZW9tZXRyeSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5GSUxMOlxuICAgICAgICAgIGlmIChiYXRjaFNpemUpIHtcbiAgICAgICAgICAgIHBlbmRpbmdGaWxsKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5NT1ZFX1RPX0xJTkVfVE86XG4gICAgICAgICAgZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgICAgICAgIGRkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgICAgeCA9IHBpeGVsQ29vcmRpbmF0ZXNbZF07XG4gICAgICAgICAgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdO1xuICAgICAgICAgIHJvdW5kWCA9ICh4ICsgMC41KSB8IDA7XG4gICAgICAgICAgcm91bmRZID0gKHkgKyAwLjUpIHwgMDtcbiAgICAgICAgICBpZiAocm91bmRYICE9PSBwcmV2WCB8fCByb3VuZFkgIT09IHByZXZZKSB7XG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4LCB5KTtcbiAgICAgICAgICAgIHByZXZYID0gcm91bmRYO1xuICAgICAgICAgICAgcHJldlkgPSByb3VuZFk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoZCArPSAyOyBkIDwgZGQ7IGQgKz0gMikge1xuICAgICAgICAgICAgeCA9IHBpeGVsQ29vcmRpbmF0ZXNbZF07XG4gICAgICAgICAgICB5ID0gcGl4ZWxDb29yZGluYXRlc1tkICsgMV07XG4gICAgICAgICAgICByb3VuZFggPSAoeCArIDAuNSkgfCAwO1xuICAgICAgICAgICAgcm91bmRZID0gKHkgKyAwLjUpIHwgMDtcbiAgICAgICAgICAgIGlmIChkID09IGRkIC0gMiB8fCByb3VuZFggIT09IHByZXZYIHx8IHJvdW5kWSAhPT0gcHJldlkpIHtcbiAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgICAgIHByZXZYID0gcm91bmRYO1xuICAgICAgICAgICAgICBwcmV2WSA9IHJvdW5kWTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgKytpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFOlxuICAgICAgICAgIGxhc3RGaWxsSW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbjtcbiAgICAgICAgICB0aGlzLmFsaWduRmlsbF8gPSBpbnN0cnVjdGlvblsyXTtcblxuICAgICAgICAgIGlmIChwZW5kaW5nRmlsbCkge1xuICAgICAgICAgICAgdGhpcy5maWxsXyhjb250ZXh0KTtcbiAgICAgICAgICAgIHBlbmRpbmdGaWxsID0gMDtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nU3Ryb2tlKSB7XG4gICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgIHBlbmRpbmdTdHJva2UgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gKi8gKFxuICAgICAgICAgICAgICBpbnN0cnVjdGlvblsxXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRTpcbiAgICAgICAgICBsYXN0U3Ryb2tlSW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbjtcbiAgICAgICAgICBpZiAocGVuZGluZ1N0cm9rZSkge1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIHBlbmRpbmdTdHJva2UgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnNldFN0cm9rZVN0eWxlXyhjb250ZXh0LCAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAoaW5zdHJ1Y3Rpb24pKTtcbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uU1RST0tFOlxuICAgICAgICAgIGlmIChiYXRjaFNpemUpIHtcbiAgICAgICAgICAgIHBlbmRpbmdTdHJva2UrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgKytpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiAvLyBjb25zdW1lIHRoZSBpbnN0cnVjdGlvbiBhbnl3YXksIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwZW5kaW5nRmlsbCkge1xuICAgICAgdGhpcy5maWxsXyhjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKHBlbmRpbmdTdHJva2UpIHtcbiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvbnRleHRTY2FsZSBTY2FsZSBvZiB0aGUgY29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKiBAcGFyYW0ge251bWJlcn0gdmlld1JvdGF0aW9uIFZpZXcgcm90YXRpb24uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc25hcFRvUGl4ZWwgU25hcCBwb2ludCBzeW1ib2xzIGFuZCB0ZXh0IHRvIGludGVnZXIgcGl4ZWxzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcInJidXNoXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJUcmVlXSBEZWNsdXR0ZXIgdHJlZS5cbiAgICovXG4gIGV4ZWN1dGUoXG4gICAgY29udGV4dCxcbiAgICBjb250ZXh0U2NhbGUsXG4gICAgdHJhbnNmb3JtLFxuICAgIHZpZXdSb3RhdGlvbixcbiAgICBzbmFwVG9QaXhlbCxcbiAgICBkZWNsdXR0ZXJUcmVlXG4gICkge1xuICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IHZpZXdSb3RhdGlvbjtcbiAgICB0aGlzLmV4ZWN1dGVfKFxuICAgICAgY29udGV4dCxcbiAgICAgIGNvbnRleHRTY2FsZSxcbiAgICAgIHRyYW5zZm9ybSxcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLFxuICAgICAgc25hcFRvUGl4ZWwsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBkZWNsdXR0ZXJUcmVlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2aWV3Um90YXRpb24gVmlldyByb3RhdGlvbi5cbiAgICogQHBhcmFtIHtGZWF0dXJlQ2FsbGJhY2s8VD59IFtmZWF0dXJlQ2FsbGJhY2tdIEZlYXR1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2hpdEV4dGVudF0gT25seSBjaGVja1xuICAgKiAgICAgZmVhdHVyZXMgdGhhdCBpbnRlcnNlY3QgdGhpcyBleHRlbnQuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqL1xuICBleGVjdXRlSGl0RGV0ZWN0aW9uKFxuICAgIGNvbnRleHQsXG4gICAgdHJhbnNmb3JtLFxuICAgIHZpZXdSb3RhdGlvbixcbiAgICBmZWF0dXJlQ2FsbGJhY2ssXG4gICAgaGl0RXh0ZW50XG4gICkge1xuICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IHZpZXdSb3RhdGlvbjtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlXyhcbiAgICAgIGNvbnRleHQsXG4gICAgICAxLFxuICAgICAgdHJhbnNmb3JtLFxuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMsXG4gICAgICB0cnVlLFxuICAgICAgZmVhdHVyZUNhbGxiYWNrLFxuICAgICAgaGl0RXh0ZW50XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFeGVjdXRvcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXBcbiAqL1xuXG5pbXBvcnQgRXhlY3V0b3IgZnJvbSAnLi9FeGVjdXRvci5qcyc7XG5pbXBvcnQge2FzY2VuZGluZ30gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtidWZmZXIsIGNyZWF0ZUVtcHR5LCBleHRlbmRDb29yZGluYXRlfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHtcbiAgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLFxuICBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLFxufSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkR9IGZyb20gJy4uLy4uL2RvbS5qcyc7XG5pbXBvcnQge2lzRW1wdHl9IGZyb20gJy4uLy4uL29iai5qcyc7XG5pbXBvcnQge3RyYW5zZm9ybTJEfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzJztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuQnVpbGRlclR5cGU+fVxuICovXG5jb25zdCBPUkRFUiA9IFsnUG9seWdvbicsICdDaXJjbGUnLCAnTGluZVN0cmluZycsICdJbWFnZScsICdUZXh0JywgJ0RlZmF1bHQnXTtcblxuY2xhc3MgRXhlY3V0b3JHcm91cCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXggZXh0ZW50IGZvciBjbGlwcGluZy4gV2hlbiBhXG4gICAqIGBtYXhFeHRlbnRgIHdhcyBzZXQgb24gdGhlIEJ1aWxkZXIgZm9yIHRoaXMgZXhlY3V0b3IgZ3JvdXAsIHRoZSBzYW1lIGBtYXhFeHRlbnRgXG4gICAqIHNob3VsZCBiZSBzZXQgaGVyZSwgdW5sZXNzIHRoZSB0YXJnZXQgY29udGV4dCBkb2VzIG5vdCBleGNlZWQgdGhhdCBleHRlbnQgKHdoaWNoXG4gICAqIGNhbiBiZSB0aGUgY2FzZSB3aGVuIHJlbmRlcmluZyB0byB0aWxlcykuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG92ZXJsYXBzIFRoZSBleGVjdXRvciBncm91cCBjYW4gaGF2ZSBvdmVybGFwcGluZyBnZW9tZXRyaWVzLlxuICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5CdWlsZGVyVHlwZSwgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9ucz4+fSBhbGxJbnN0cnVjdGlvbnNcbiAgICogVGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVuZGVyQnVmZmVyXSBPcHRpb25hbCByZW5kZXJpbmcgYnVmZmVyLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgbWF4RXh0ZW50LFxuICAgIHJlc29sdXRpb24sXG4gICAgcGl4ZWxSYXRpbyxcbiAgICBvdmVybGFwcyxcbiAgICBhbGxJbnN0cnVjdGlvbnMsXG4gICAgcmVuZGVyQnVmZmVyXG4gICkge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy5tYXhFeHRlbnRfID0gbWF4RXh0ZW50O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm92ZXJsYXBzXyA9IG92ZXJsYXBzO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxSYXRpb18gPSBwaXhlbFJhdGlvO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlckJ1ZmZlcl8gPSByZW5kZXJCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuQnVpbGRlclR5cGUsIGltcG9ydChcIi4vRXhlY3V0b3JcIikuZGVmYXVsdD4+fVxuICAgICAqL1xuICAgIHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5oaXREZXRlY3Rpb25Db250ZXh0XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgdGhpcy5jcmVhdGVFeGVjdXRvcnNfKGFsbEluc3RydWN0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKi9cbiAgY2xpcChjb250ZXh0LCB0cmFuc2Zvcm0pIHtcbiAgICBjb25zdCBmbGF0Q2xpcENvb3JkcyA9IHRoaXMuZ2V0Q2xpcENvb3Jkcyh0cmFuc2Zvcm0pO1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5tb3ZlVG8oZmxhdENsaXBDb29yZHNbMF0sIGZsYXRDbGlwQ29vcmRzWzFdKTtcbiAgICBjb250ZXh0LmxpbmVUbyhmbGF0Q2xpcENvb3Jkc1syXSwgZmxhdENsaXBDb29yZHNbM10pO1xuICAgIGNvbnRleHQubGluZVRvKGZsYXRDbGlwQ29vcmRzWzRdLCBmbGF0Q2xpcENvb3Jkc1s1XSk7XG4gICAgY29udGV4dC5saW5lVG8oZmxhdENsaXBDb29yZHNbNl0sIGZsYXRDbGlwQ29vcmRzWzddKTtcbiAgICBjb250ZXh0LmNsaXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgZXhlY3V0b3JzIGFuZCBwb3B1bGF0ZSB0aGVtIHVzaW5nIHRoZSBwcm92aWRlZCBpbnN0cnVjdGlvbnMuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsICFPYmplY3Q8aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkJ1aWxkZXJUeXBlLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zPj59IGFsbEluc3RydWN0aW9ucyBUaGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9uc1xuICAgKi9cbiAgY3JlYXRlRXhlY3V0b3JzXyhhbGxJbnN0cnVjdGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IHpJbmRleCBpbiBhbGxJbnN0cnVjdGlvbnMpIHtcbiAgICAgIGxldCBleGVjdXRvcnMgPSB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhdO1xuICAgICAgaWYgKGV4ZWN1dG9ycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGV4ZWN1dG9ycyA9IHt9O1xuICAgICAgICB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhdID0gZXhlY3V0b3JzO1xuICAgICAgfVxuICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25CeVppbmRleCA9IGFsbEluc3RydWN0aW9uc1t6SW5kZXhdO1xuICAgICAgZm9yIChjb25zdCBidWlsZGVyVHlwZSBpbiBpbnN0cnVjdGlvbkJ5WmluZGV4KSB7XG4gICAgICAgIGNvbnN0IGluc3RydWN0aW9ucyA9IGluc3RydWN0aW9uQnlaaW5kZXhbYnVpbGRlclR5cGVdO1xuICAgICAgICBleGVjdXRvcnNbYnVpbGRlclR5cGVdID0gbmV3IEV4ZWN1dG9yKFxuICAgICAgICAgIHRoaXMucmVzb2x1dGlvbl8sXG4gICAgICAgICAgdGhpcy5waXhlbFJhdGlvXyxcbiAgICAgICAgICB0aGlzLm92ZXJsYXBzXyxcbiAgICAgICAgICBpbnN0cnVjdGlvbnNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuQnVpbGRlclR5cGU+fSBleGVjdXRvcnMgRXhlY3V0b3JzLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBIYXMgZXhlY3V0b3JzIG9mIHRoZSBwcm92aWRlZCB0eXBlcy5cbiAgICovXG4gIGhhc0V4ZWN1dG9ycyhleGVjdXRvcnMpIHtcbiAgICBmb3IgKGNvbnN0IHpJbmRleCBpbiB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4Xykge1xuICAgICAgY29uc3QgY2FuZGlkYXRlcyA9IHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfW3pJbmRleF07XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBleGVjdXRvcnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBpZiAoZXhlY3V0b3JzW2ldIGluIGNhbmRpZGF0ZXMpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UsIGltcG9ydChcIi4uLy4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdCwgbnVtYmVyKTogVH0gY2FsbGJhY2sgRmVhdHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlPn0gZGVjbHV0dGVyZWRGZWF0dXJlcyBEZWNsdXR0ZXJlZCBmZWF0dXJlcy5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICogQHRlbXBsYXRlIFRcbiAgICovXG4gIGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKFxuICAgIGNvb3JkaW5hdGUsXG4gICAgcmVzb2x1dGlvbixcbiAgICByb3RhdGlvbixcbiAgICBoaXRUb2xlcmFuY2UsXG4gICAgY2FsbGJhY2ssXG4gICAgZGVjbHV0dGVyZWRGZWF0dXJlc1xuICApIHtcbiAgICBoaXRUb2xlcmFuY2UgPSBNYXRoLnJvdW5kKGhpdFRvbGVyYW5jZSk7XG4gICAgY29uc3QgY29udGV4dFNpemUgPSBoaXRUb2xlcmFuY2UgKiAyICsgMTtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBjb21wb3NlVHJhbnNmb3JtKFxuICAgICAgdGhpcy5oaXREZXRlY3Rpb25UcmFuc2Zvcm1fLFxuICAgICAgaGl0VG9sZXJhbmNlICsgMC41LFxuICAgICAgaGl0VG9sZXJhbmNlICsgMC41LFxuICAgICAgMSAvIHJlc29sdXRpb24sXG4gICAgICAtMSAvIHJlc29sdXRpb24sXG4gICAgICAtcm90YXRpb24sXG4gICAgICAtY29vcmRpbmF0ZVswXSxcbiAgICAgIC1jb29yZGluYXRlWzFdXG4gICAgKTtcblxuICAgIGNvbnN0IG5ld0NvbnRleHQgPSAhdGhpcy5oaXREZXRlY3Rpb25Db250ZXh0XztcbiAgICBpZiAobmV3Q29udGV4dCkge1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25Db250ZXh0XyA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChcbiAgICAgICAgY29udGV4dFNpemUsXG4gICAgICAgIGNvbnRleHRTaXplLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHt3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWV9XG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5oaXREZXRlY3Rpb25Db250ZXh0XztcblxuICAgIGlmIChcbiAgICAgIGNvbnRleHQuY2FudmFzLndpZHRoICE9PSBjb250ZXh0U2l6ZSB8fFxuICAgICAgY29udGV4dC5jYW52YXMuaGVpZ2h0ICE9PSBjb250ZXh0U2l6ZVxuICAgICkge1xuICAgICAgY29udGV4dC5jYW52YXMud2lkdGggPSBjb250ZXh0U2l6ZTtcbiAgICAgIGNvbnRleHQuY2FudmFzLmhlaWdodCA9IGNvbnRleHRTaXplO1xuICAgIH0gZWxzZSBpZiAoIW5ld0NvbnRleHQpIHtcbiAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNvbnRleHRTaXplLCBjb250ZXh0U2l6ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgbGV0IGhpdEV4dGVudDtcbiAgICBpZiAodGhpcy5yZW5kZXJCdWZmZXJfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGhpdEV4dGVudCA9IGNyZWF0ZUVtcHR5KCk7XG4gICAgICBleHRlbmRDb29yZGluYXRlKGhpdEV4dGVudCwgY29vcmRpbmF0ZSk7XG4gICAgICBidWZmZXIoXG4gICAgICAgIGhpdEV4dGVudCxcbiAgICAgICAgcmVzb2x1dGlvbiAqICh0aGlzLnJlbmRlckJ1ZmZlcl8gKyBoaXRUb2xlcmFuY2UpLFxuICAgICAgICBoaXRFeHRlbnRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgaW5kZXhlcyA9IGdldFBpeGVsSW5kZXhBcnJheShoaXRUb2xlcmFuY2UpO1xuXG4gICAgbGV0IGJ1aWxkZXJUeXBlO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmVhdHVyZUNhbGxiYWNrKGZlYXR1cmUsIGdlb21ldHJ5KSB7XG4gICAgICBjb25zdCBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YShcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgY29udGV4dFNpemUsXG4gICAgICAgIGNvbnRleHRTaXplXG4gICAgICApLmRhdGE7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBpbmRleGVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgaWYgKGltYWdlRGF0YVtpbmRleGVzW2ldXSA+IDApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhZGVjbHV0dGVyZWRGZWF0dXJlcyB8fFxuICAgICAgICAgICAgKGJ1aWxkZXJUeXBlICE9PSAnSW1hZ2UnICYmIGJ1aWxkZXJUeXBlICE9PSAnVGV4dCcpIHx8XG4gICAgICAgICAgICBkZWNsdXR0ZXJlZEZlYXR1cmVzLmluY2x1ZGVzKGZlYXR1cmUpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBpZHggPSAoaW5kZXhlc1tpXSAtIDMpIC8gNDtcbiAgICAgICAgICAgIGNvbnN0IHggPSBoaXRUb2xlcmFuY2UgLSAoaWR4ICUgY29udGV4dFNpemUpO1xuICAgICAgICAgICAgY29uc3QgeSA9IGhpdFRvbGVyYW5jZSAtICgoaWR4IC8gY29udGV4dFNpemUpIHwgMCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjYWxsYmFjayhmZWF0dXJlLCBnZW9tZXRyeSwgeCAqIHggKyB5ICogeSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNvbnRleHRTaXplLCBjb250ZXh0U2l6ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIGNvbnN0IHpzID0gT2JqZWN0LmtleXModGhpcy5leGVjdXRvcnNCeVpJbmRleF8pLm1hcChOdW1iZXIpO1xuICAgIHpzLnNvcnQoYXNjZW5kaW5nKTtcblxuICAgIGxldCBpLCBqLCBleGVjdXRvcnMsIGV4ZWN1dG9yLCByZXN1bHQ7XG4gICAgZm9yIChpID0genMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGNvbnN0IHpJbmRleEtleSA9IHpzW2ldLnRvU3RyaW5nKCk7XG4gICAgICBleGVjdXRvcnMgPSB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhLZXldO1xuICAgICAgZm9yIChqID0gT1JERVIubGVuZ3RoIC0gMTsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgYnVpbGRlclR5cGUgPSBPUkRFUltqXTtcbiAgICAgICAgZXhlY3V0b3IgPSBleGVjdXRvcnNbYnVpbGRlclR5cGVdO1xuICAgICAgICBpZiAoZXhlY3V0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3VsdCA9IGV4ZWN1dG9yLmV4ZWN1dGVIaXREZXRlY3Rpb24oXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgICBmZWF0dXJlQ2FsbGJhY2ssXG4gICAgICAgICAgICBoaXRFeHRlbnRcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fG51bGx9IENsaXAgY29vcmRpbmF0ZXMuXG4gICAqL1xuICBnZXRDbGlwQ29vcmRzKHRyYW5zZm9ybSkge1xuICAgIGNvbnN0IG1heEV4dGVudCA9IHRoaXMubWF4RXh0ZW50XztcbiAgICBpZiAoIW1heEV4dGVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG1pblggPSBtYXhFeHRlbnRbMF07XG4gICAgY29uc3QgbWluWSA9IG1heEV4dGVudFsxXTtcbiAgICBjb25zdCBtYXhYID0gbWF4RXh0ZW50WzJdO1xuICAgIGNvbnN0IG1heFkgPSBtYXhFeHRlbnRbM107XG4gICAgY29uc3QgZmxhdENsaXBDb29yZHMgPSBbbWluWCwgbWluWSwgbWluWCwgbWF4WSwgbWF4WCwgbWF4WSwgbWF4WCwgbWluWV07XG4gICAgdHJhbnNmb3JtMkQoZmxhdENsaXBDb29yZHMsIDAsIDgsIDIsIHRyYW5zZm9ybSwgZmxhdENsaXBDb29yZHMpO1xuICAgIHJldHVybiBmbGF0Q2xpcENvb3JkcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBlbXB0eS5cbiAgICovXG4gIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIGlzRW1wdHkodGhpcy5leGVjdXRvcnNCeVpJbmRleF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZXh0U2NhbGUgU2NhbGUgb2YgdGhlIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHZpZXdSb3RhdGlvbiBWaWV3IHJvdGF0aW9uLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNuYXBUb1BpeGVsIFNuYXAgcG9pbnQgc3ltYm9scyBhbmQgdGVzdCB0byBpbnRlZ2VyIHBpeGVsLlxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5CdWlsZGVyVHlwZT59IFtidWlsZGVyVHlwZXNdIE9yZGVyZWQgcmVwbGF5IHR5cGVzIHRvIHJlcGxheS5cbiAgICogICAgIERlZmF1bHQgaXMge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvcmVwbGF5fk9SREVSfVxuICAgKiBAcGFyYW0ge2ltcG9ydChcInJidXNoXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJUcmVlXSBEZWNsdXR0ZXIgdHJlZS5cbiAgICovXG4gIGV4ZWN1dGUoXG4gICAgY29udGV4dCxcbiAgICBjb250ZXh0U2NhbGUsXG4gICAgdHJhbnNmb3JtLFxuICAgIHZpZXdSb3RhdGlvbixcbiAgICBzbmFwVG9QaXhlbCxcbiAgICBidWlsZGVyVHlwZXMsXG4gICAgZGVjbHV0dGVyVHJlZVxuICApIHtcbiAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgY29uc3QgenMgPSBPYmplY3Qua2V5cyh0aGlzLmV4ZWN1dG9yc0J5WkluZGV4XykubWFwKE51bWJlcik7XG4gICAgenMuc29ydChhc2NlbmRpbmcpO1xuXG4gICAgLy8gc2V0dXAgY2xpcHBpbmcgc28gdGhhdCB0aGUgcGFydHMgb2Ygb3Zlci1zaW1wbGlmaWVkIGdlb21ldHJpZXMgYXJlIG5vdFxuICAgIC8vIHZpc2libGUgb3V0c2lkZSB0aGUgY3VycmVudCBleHRlbnQgd2hlbiBwYW5uaW5nXG4gICAgaWYgKHRoaXMubWF4RXh0ZW50Xykge1xuICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICB0aGlzLmNsaXAoY29udGV4dCwgdHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICBidWlsZGVyVHlwZXMgPSBidWlsZGVyVHlwZXMgPyBidWlsZGVyVHlwZXMgOiBPUkRFUjtcbiAgICBsZXQgaSwgaWksIGosIGpqLCByZXBsYXlzLCByZXBsYXk7XG4gICAgaWYgKGRlY2x1dHRlclRyZWUpIHtcbiAgICAgIHpzLnJldmVyc2UoKTtcbiAgICB9XG4gICAgZm9yIChpID0gMCwgaWkgPSB6cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBjb25zdCB6SW5kZXhLZXkgPSB6c1tpXS50b1N0cmluZygpO1xuICAgICAgcmVwbGF5cyA9IHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfW3pJbmRleEtleV07XG4gICAgICBmb3IgKGogPSAwLCBqaiA9IGJ1aWxkZXJUeXBlcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgIGNvbnN0IGJ1aWxkZXJUeXBlID0gYnVpbGRlclR5cGVzW2pdO1xuICAgICAgICByZXBsYXkgPSByZXBsYXlzW2J1aWxkZXJUeXBlXTtcbiAgICAgICAgaWYgKHJlcGxheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVwbGF5LmV4ZWN1dGUoXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgY29udGV4dFNjYWxlLFxuICAgICAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICAgICAgdmlld1JvdGF0aW9uLFxuICAgICAgICAgICAgc25hcFRvUGl4ZWwsXG4gICAgICAgICAgICBkZWNsdXR0ZXJUcmVlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm1heEV4dGVudF8pIHtcbiAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgY2FjaGUgaXMgdXNlZCB0byBzdG9yZSBhcnJheXMgb2YgaW5kZXhlcyBmb3IgY2FsY3VsYXRlZCBwaXhlbCBjaXJjbGVzXG4gKiB0byBpbmNyZWFzZSBwZXJmb3JtYW5jZS5cbiAqIEl0IGlzIGEgc3RhdGljIHByb3BlcnR5IHRvIGFsbG93IGVhY2ggUmVwbGF5Z3JvdXAgdG8gYWNjZXNzIGl0LlxuICogQHR5cGUge09iamVjdDxudW1iZXIsIEFycmF5PG51bWJlcj4+fVxuICovXG5jb25zdCBjaXJjbGVQaXhlbEluZGV4QXJyYXlDYWNoZSA9IHt9O1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kcyBjcmVhdGVzIGFuIGFycmF5IHdpdGggaW5kZXhlcyBvZiBhbGwgcGl4ZWxzIHdpdGhpbiBhIGNpcmNsZSxcbiAqIG9yZGVyZWQgYnkgaG93IGNsb3NlIHRoZXkgYXJlIHRvIHRoZSBjZW50ZXIuXG4gKiBBIGNhY2hlIGlzIHVzZWQgdG8gaW5jcmVhc2UgcGVyZm9ybWFuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFJhZGl1cy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEFuIGFycmF5IHdpdGggaW5kZXhlcyB3aXRoaW4gYSBjaXJjbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaXhlbEluZGV4QXJyYXkocmFkaXVzKSB7XG4gIGlmIChjaXJjbGVQaXhlbEluZGV4QXJyYXlDYWNoZVtyYWRpdXNdICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGVbcmFkaXVzXTtcbiAgfVxuXG4gIGNvbnN0IHNpemUgPSByYWRpdXMgKiAyICsgMTtcbiAgY29uc3QgbWF4RGlzdGFuY2VTcSA9IHJhZGl1cyAqIHJhZGl1cztcbiAgY29uc3QgZGlzdGFuY2VzID0gbmV3IEFycmF5KG1heERpc3RhbmNlU3EgKyAxKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPD0gcmFkaXVzOyArK2kpIHtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8PSByYWRpdXM7ICsraikge1xuICAgICAgY29uc3QgZGlzdGFuY2VTcSA9IGkgKiBpICsgaiAqIGo7XG4gICAgICBpZiAoZGlzdGFuY2VTcSA+IG1heERpc3RhbmNlU3EpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsZXQgZGlzdGFuY2UgPSBkaXN0YW5jZXNbZGlzdGFuY2VTcV07XG4gICAgICBpZiAoIWRpc3RhbmNlKSB7XG4gICAgICAgIGRpc3RhbmNlID0gW107XG4gICAgICAgIGRpc3RhbmNlc1tkaXN0YW5jZVNxXSA9IGRpc3RhbmNlO1xuICAgICAgfVxuICAgICAgZGlzdGFuY2UucHVzaCgoKHJhZGl1cyArIGkpICogc2l6ZSArIChyYWRpdXMgKyBqKSkgKiA0ICsgMyk7XG4gICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgZGlzdGFuY2UucHVzaCgoKHJhZGl1cyAtIGkpICogc2l6ZSArIChyYWRpdXMgKyBqKSkgKiA0ICsgMyk7XG4gICAgICB9XG4gICAgICBpZiAoaiA+IDApIHtcbiAgICAgICAgZGlzdGFuY2UucHVzaCgoKHJhZGl1cyArIGkpICogc2l6ZSArIChyYWRpdXMgLSBqKSkgKiA0ICsgMyk7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgIGRpc3RhbmNlLnB1c2goKChyYWRpdXMgLSBpKSAqIHNpemUgKyAocmFkaXVzIC0gaikpICogNCArIDMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcGl4ZWxJbmRleCA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBkaXN0YW5jZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGlmIChkaXN0YW5jZXNbaV0pIHtcbiAgICAgIHBpeGVsSW5kZXgucHVzaCguLi5kaXN0YW5jZXNbaV0pO1xuICAgIH1cbiAgfVxuXG4gIGNpcmNsZVBpeGVsSW5kZXhBcnJheUNhY2hlW3JhZGl1c10gPSBwaXhlbEluZGV4O1xuICByZXR1cm4gcGl4ZWxJbmRleDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRXhlY3V0b3JHcm91cDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0ltbWVkaWF0ZVxuICovXG4vLyBGSVhNRSB0ZXN0LCBlc3BlY2lhbGx5IHBvbHlnb25zIHdpdGggaG9sZXMgYW5kIG11bHRpcG9seWdvbnNcbi8vIEZJWE1FIG5lZWQgdG8gaGFuZGxlIGxhcmdlIHRoaWNrIGZlYXR1cmVzICh3aGVyZSBwaXhlbCBzaXplIG1hdHRlcnMpXG4vLyBGSVhNRSBhZGQgb2Zmc2V0IGFuZCBlbmQgdG8gb2wvZ2VvbS9mbGF0L3RyYW5zZm9ybX50cmFuc2Zvcm0yRD9cblxuaW1wb3J0IFZlY3RvckNvbnRleHQgZnJvbSAnLi4vVmVjdG9yQ29udGV4dC5qcyc7XG5pbXBvcnQge2FzQ29sb3JMaWtlfSBmcm9tICcuLi8uLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHtcbiAgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLFxuICBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLFxufSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEZpbGxTdHlsZSxcbiAgZGVmYXVsdEZvbnQsXG4gIGRlZmF1bHRMaW5lQ2FwLFxuICBkZWZhdWx0TGluZURhc2gsXG4gIGRlZmF1bHRMaW5lRGFzaE9mZnNldCxcbiAgZGVmYXVsdExpbmVKb2luLFxuICBkZWZhdWx0TGluZVdpZHRoLFxuICBkZWZhdWx0TWl0ZXJMaW1pdCxcbiAgZGVmYXVsdFN0cm9rZVN0eWxlLFxuICBkZWZhdWx0VGV4dEFsaWduLFxuICBkZWZhdWx0VGV4dEJhc2VsaW5lLFxufSBmcm9tICcuLi9jYW52YXMuanMnO1xuaW1wb3J0IHtlcXVhbHN9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7aW50ZXJzZWN0c30gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7dG9GaXhlZH0gZnJvbSAnLi4vLi4vbWF0aC5qcyc7XG5pbXBvcnQge3RyYW5zZm9ybTJEfSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7dHJhbnNmb3JtR2VvbTJEfSBmcm9tICcuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGNvbmNyZXRlIHN1YmNsYXNzIG9mIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL1ZlY3RvckNvbnRleHR+VmVjdG9yQ29udGV4dH0gdGhhdCBpbXBsZW1lbnRzXG4gKiBkaXJlY3QgcmVuZGVyaW5nIG9mIGZlYXR1cmVzIGFuZCBnZW9tZXRyaWVzIHRvIGFuIEhUTUw1IENhbnZhcyBjb250ZXh0LlxuICogSW5zdGFuY2VzIG9mIHRoaXMgY2xhc3MgYXJlIGNyZWF0ZWQgaW50ZXJuYWxseSBieSB0aGUgbGlicmFyeSBhbmRcbiAqIHByb3ZpZGVkIHRvIGFwcGxpY2F0aW9uIGNvZGUgYXMgdmVjdG9yQ29udGV4dCBtZW1iZXIgb2YgdGhlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudH0gb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCBwb3N0Y29tcG9zZSwgcHJlY29tcG9zZSBhbmRcbiAqIHJlbmRlciBldmVudHMgZW1pdHRlZCBieSBsYXllcnMgYW5kIG1hcHMuXG4gKi9cbmNsYXNzIENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyIGV4dGVuZHMgVmVjdG9yQ29udGV4dCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2aWV3Um90YXRpb24gVmlldyByb3RhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzcXVhcmVkVG9sZXJhbmNlXSBPcHRpb25hbCBzcXVhcmVkIHRvbGVyYW5jZSBmb3Igc2ltcGxpZmljYXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gW3VzZXJUcmFuc2Zvcm1dIFRyYW5zZm9ybSBmcm9tIHVzZXIgdG8gdmlldyBwcm9qZWN0aW9uLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgY29udGV4dCxcbiAgICBwaXhlbFJhdGlvLFxuICAgIGV4dGVudCxcbiAgICB0cmFuc2Zvcm0sXG4gICAgdmlld1JvdGF0aW9uLFxuICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgdXNlclRyYW5zZm9ybVxuICApIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dF8gPSBjb250ZXh0O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxSYXRpb18gPSBwaXhlbFJhdGlvO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudF8gPSBleHRlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMudHJhbnNmb3JtXyA9IHRyYW5zZm9ybTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRyYW5zZm9ybVJvdGF0aW9uXyA9IHRyYW5zZm9ybVxuICAgICAgPyB0b0ZpeGVkKE1hdGguYXRhbjIodHJhbnNmb3JtWzFdLCB0cmFuc2Zvcm1bMF0pLCAxMClcbiAgICAgIDogMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXdSb3RhdGlvbl8gPSB2aWV3Um90YXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zcXVhcmVkVG9sZXJhbmNlXyA9IHNxdWFyZWRUb2xlcmFuY2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMudXNlclRyYW5zZm9ybV8gPSB1c2VyVHJhbnNmb3JtO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0RmlsbFN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dFN0cm9rZVN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHRUZXh0U3RhdGVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMuZmlsbFN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMuc3Ryb2tlU3RhdGVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZUFuY2hvclhfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlQW5jaG9yWV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VIZWlnaHRfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlT3BhY2l0eV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VPcmlnaW5YXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZU9yaWdpbllfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pbWFnZVJvdGF0ZVdpdGhWaWV3XyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VSb3RhdGlvbl8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VTY2FsZV8gPSBbMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZVdpZHRoXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy50ZXh0XyA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGV4dE9mZnNldFhfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRPZmZzZXRZXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGV4dFJvdGF0aW9uXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0U2NhbGVfID0gWzAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dFN0cm9rZVN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMudG1wTG9jYWxUcmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRyYXdJbWFnZXNfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAgIGlmICghdGhpcy5pbWFnZV8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybTJEKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgdGhpcy50cmFuc2Zvcm1fLFxuICAgICAgdGhpcy5waXhlbENvb3JkaW5hdGVzX1xuICAgICk7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgY29uc3QgbG9jYWxUcmFuc2Zvcm0gPSB0aGlzLnRtcExvY2FsVHJhbnNmb3JtXztcbiAgICBjb25zdCBhbHBoYSA9IGNvbnRleHQuZ2xvYmFsQWxwaGE7XG4gICAgaWYgKHRoaXMuaW1hZ2VPcGFjaXR5XyAhPSAxKSB7XG4gICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGEgKiB0aGlzLmltYWdlT3BhY2l0eV87XG4gICAgfVxuICAgIGxldCByb3RhdGlvbiA9IHRoaXMuaW1hZ2VSb3RhdGlvbl87XG4gICAgaWYgKHRoaXMudHJhbnNmb3JtUm90YXRpb25fID09PSAwKSB7XG4gICAgICByb3RhdGlvbiAtPSB0aGlzLnZpZXdSb3RhdGlvbl87XG4gICAgfVxuICAgIGlmICh0aGlzLmltYWdlUm90YXRlV2l0aFZpZXdfKSB7XG4gICAgICByb3RhdGlvbiArPSB0aGlzLnZpZXdSb3RhdGlvbl87XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHBpeGVsQ29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gMikge1xuICAgICAgY29uc3QgeCA9IHBpeGVsQ29vcmRpbmF0ZXNbaV0gLSB0aGlzLmltYWdlQW5jaG9yWF87XG4gICAgICBjb25zdCB5ID0gcGl4ZWxDb29yZGluYXRlc1tpICsgMV0gLSB0aGlzLmltYWdlQW5jaG9yWV87XG4gICAgICBpZiAoXG4gICAgICAgIHJvdGF0aW9uICE9PSAwIHx8XG4gICAgICAgIHRoaXMuaW1hZ2VTY2FsZV9bMF0gIT0gMSB8fFxuICAgICAgICB0aGlzLmltYWdlU2NhbGVfWzFdICE9IDFcbiAgICAgICkge1xuICAgICAgICBjb25zdCBjZW50ZXJYID0geCArIHRoaXMuaW1hZ2VBbmNob3JYXztcbiAgICAgICAgY29uc3QgY2VudGVyWSA9IHkgKyB0aGlzLmltYWdlQW5jaG9yWV87XG4gICAgICAgIGNvbXBvc2VUcmFuc2Zvcm0oXG4gICAgICAgICAgbG9jYWxUcmFuc2Zvcm0sXG4gICAgICAgICAgY2VudGVyWCxcbiAgICAgICAgICBjZW50ZXJZLFxuICAgICAgICAgIDEsXG4gICAgICAgICAgMSxcbiAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICAtY2VudGVyWCxcbiAgICAgICAgICAtY2VudGVyWVxuICAgICAgICApO1xuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybS5hcHBseShjb250ZXh0LCBsb2NhbFRyYW5zZm9ybSk7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKGNlbnRlclgsIGNlbnRlclkpO1xuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMuaW1hZ2VTY2FsZV9bMF0sIHRoaXMuaW1hZ2VTY2FsZV9bMV0pO1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgICB0aGlzLmltYWdlXyxcbiAgICAgICAgICB0aGlzLmltYWdlT3JpZ2luWF8sXG4gICAgICAgICAgdGhpcy5pbWFnZU9yaWdpbllfLFxuICAgICAgICAgIHRoaXMuaW1hZ2VXaWR0aF8sXG4gICAgICAgICAgdGhpcy5pbWFnZUhlaWdodF8sXG4gICAgICAgICAgLXRoaXMuaW1hZ2VBbmNob3JYXyxcbiAgICAgICAgICAtdGhpcy5pbWFnZUFuY2hvcllfLFxuICAgICAgICAgIHRoaXMuaW1hZ2VXaWR0aF8sXG4gICAgICAgICAgdGhpcy5pbWFnZUhlaWdodF9cbiAgICAgICAgKTtcbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgICB0aGlzLmltYWdlXyxcbiAgICAgICAgICB0aGlzLmltYWdlT3JpZ2luWF8sXG4gICAgICAgICAgdGhpcy5pbWFnZU9yaWdpbllfLFxuICAgICAgICAgIHRoaXMuaW1hZ2VXaWR0aF8sXG4gICAgICAgICAgdGhpcy5pbWFnZUhlaWdodF8sXG4gICAgICAgICAgeCxcbiAgICAgICAgICB5LFxuICAgICAgICAgIHRoaXMuaW1hZ2VXaWR0aF8sXG4gICAgICAgICAgdGhpcy5pbWFnZUhlaWdodF9cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuaW1hZ2VPcGFjaXR5XyAhPSAxKSB7XG4gICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGE7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkcmF3VGV4dF8oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gICAgaWYgKCF0aGlzLnRleHRTdGF0ZV8gfHwgdGhpcy50ZXh0XyA9PT0gJycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dEZpbGxTdGF0ZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy50ZXh0RmlsbFN0YXRlXyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRTdHJva2VTdGF0ZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnRleHRTdHJva2VTdGF0ZV8pO1xuICAgIH1cbiAgICB0aGlzLnNldENvbnRleHRUZXh0U3RhdGVfKHRoaXMudGV4dFN0YXRlXyk7XG4gICAgY29uc3QgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybTJEKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgdGhpcy50cmFuc2Zvcm1fLFxuICAgICAgdGhpcy5waXhlbENvb3JkaW5hdGVzX1xuICAgICk7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgbGV0IHJvdGF0aW9uID0gdGhpcy50ZXh0Um90YXRpb25fO1xuICAgIGlmICh0aGlzLnRyYW5zZm9ybVJvdGF0aW9uXyA9PT0gMCkge1xuICAgICAgcm90YXRpb24gLT0gdGhpcy52aWV3Um90YXRpb25fO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfKSB7XG4gICAgICByb3RhdGlvbiArPSB0aGlzLnZpZXdSb3RhdGlvbl87XG4gICAgfVxuICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgIGNvbnN0IHggPSBwaXhlbENvb3JkaW5hdGVzW29mZnNldF0gKyB0aGlzLnRleHRPZmZzZXRYXztcbiAgICAgIGNvbnN0IHkgPSBwaXhlbENvb3JkaW5hdGVzW29mZnNldCArIDFdICsgdGhpcy50ZXh0T2Zmc2V0WV87XG4gICAgICBpZiAoXG4gICAgICAgIHJvdGF0aW9uICE9PSAwIHx8XG4gICAgICAgIHRoaXMudGV4dFNjYWxlX1swXSAhPSAxIHx8XG4gICAgICAgIHRoaXMudGV4dFNjYWxlX1sxXSAhPSAxXG4gICAgICApIHtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoeCAtIHRoaXMudGV4dE9mZnNldFhfLCB5IC0gdGhpcy50ZXh0T2Zmc2V0WV8pO1xuICAgICAgICBjb250ZXh0LnJvdGF0ZShyb3RhdGlvbik7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHRoaXMudGV4dE9mZnNldFhfLCB0aGlzLnRleHRPZmZzZXRZXyk7XG4gICAgICAgIGNvbnRleHQuc2NhbGUodGhpcy50ZXh0U2NhbGVfWzBdLCB0aGlzLnRleHRTY2FsZV9bMV0pO1xuICAgICAgICBpZiAodGhpcy50ZXh0U3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KHRoaXMudGV4dF8sIDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRleHRGaWxsU3RhdGVfKSB7XG4gICAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLnRleHRfLCAwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnRleHRTdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGhpcy50ZXh0XywgeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dEZpbGxTdGF0ZV8pIHtcbiAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRoaXMudGV4dF8sIHgsIHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvc2UgQ2xvc2UuXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge251bWJlcn0gZW5kIEVuZC5cbiAgICovXG4gIG1vdmVUb0xpbmVUb18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjbG9zZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIGNvbnN0IHBpeGVsQ29vcmRpbmF0ZXMgPSB0cmFuc2Zvcm0yRChcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIHRoaXMudHJhbnNmb3JtXyxcbiAgICAgIHRoaXMucGl4ZWxDb29yZGluYXRlc19cbiAgICApO1xuICAgIGNvbnRleHQubW92ZVRvKHBpeGVsQ29vcmRpbmF0ZXNbMF0sIHBpeGVsQ29vcmRpbmF0ZXNbMV0pO1xuICAgIGxldCBsZW5ndGggPSBwaXhlbENvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICBpZiAoY2xvc2UpIHtcbiAgICAgIGxlbmd0aCAtPSAyO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMjsgaSA8IGxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBjb250ZXh0LmxpbmVUbyhwaXhlbENvb3JkaW5hdGVzW2ldLCBwaXhlbENvb3JkaW5hdGVzW2kgKyAxXSk7XG4gICAgfVxuICAgIGlmIChjbG9zZSkge1xuICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEVuZC5cbiAgICovXG4gIGRyYXdSaW5nc18oZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgb2Zmc2V0ID0gdGhpcy5tb3ZlVG9MaW5lVG9fKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgZW5kc1tpXSxcbiAgICAgICAgc3RyaWRlLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIGNpcmNsZSBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZCB1c2VzXG4gICAqIHRoZSBjdXJyZW50IGZpbGwgYW5kIHN0cm9rZSBzdHlsZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgQ2lyY2xlIGdlb21ldHJ5LlxuICAgKiBAYXBpXG4gICAqL1xuICBkcmF3Q2lyY2xlKGdlb21ldHJ5KSB7XG4gICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8gfHwgdGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgdGhpcy5zZXRDb250ZXh0RmlsbFN0YXRlXyh0aGlzLmZpbGxTdGF0ZV8pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICB9XG4gICAgICBjb25zdCBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtR2VvbTJEKFxuICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1fLFxuICAgICAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfXG4gICAgICApO1xuICAgICAgY29uc3QgZHggPSBwaXhlbENvb3JkaW5hdGVzWzJdIC0gcGl4ZWxDb29yZGluYXRlc1swXTtcbiAgICAgIGNvbnN0IGR5ID0gcGl4ZWxDb29yZGluYXRlc1szXSAtIHBpeGVsQ29vcmRpbmF0ZXNbMV07XG4gICAgICBjb25zdCByYWRpdXMgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgY29udGV4dC5hcmMoXG4gICAgICAgIHBpeGVsQ29vcmRpbmF0ZXNbMF0sXG4gICAgICAgIHBpeGVsQ29vcmRpbmF0ZXNbMV0sXG4gICAgICAgIHJhZGl1cyxcbiAgICAgICAgMCxcbiAgICAgICAgMiAqIE1hdGguUElcbiAgICAgICk7XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgdGhpcy5kcmF3VGV4dF8oZ2VvbWV0cnkuZ2V0Q2VudGVyKCksIDAsIDIsIDIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHJlbmRlcmluZyBzdHlsZS4gIE5vdGUgdGhhdCBzaW5jZSB0aGlzIGlzIGFuIGltbWVkaWF0ZSByZW5kZXJpbmcgQVBJLFxuICAgKiBhbnkgYHpJbmRleGAgb24gdGhlIHByb3ZpZGVkIHN0eWxlIHdpbGwgYmUgaWdub3JlZC5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBUaGUgcmVuZGVyaW5nIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRTdHlsZShzdHlsZSkge1xuICAgIHRoaXMuc2V0RmlsbFN0cm9rZVN0eWxlKHN0eWxlLmdldEZpbGwoKSwgc3R5bGUuZ2V0U3Ryb2tlKCkpO1xuICAgIHRoaXMuc2V0SW1hZ2VTdHlsZShzdHlsZS5nZXRJbWFnZSgpKTtcbiAgICB0aGlzLnNldFRleHRTdHlsZShzdHlsZS5nZXRUZXh0KCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICovXG4gIHNldFRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcbiAgICB0aGlzLnRyYW5zZm9ybV8gPSB0cmFuc2Zvcm07XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgQ2FsbFxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9jYW52YXMvSW1tZWRpYXRlfkNhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyI3NldFN0eWxlIHJlbmRlcmVyLnNldFN0eWxlKCl9IGZpcnN0IHRvIHNldCB0aGUgcmVuZGVyaW5nIHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFRoZSBnZW9tZXRyeSB0byByZW5kZXIuXG4gICAqIEBhcGlcbiAgICovXG4gIGRyYXdHZW9tZXRyeShnZW9tZXRyeSkge1xuICAgIGNvbnN0IHR5cGUgPSBnZW9tZXRyeS5nZXRUeXBlKCk7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdQb2ludCc6XG4gICAgICAgIHRoaXMuZHJhd1BvaW50KFxuICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnTGluZVN0cmluZyc6XG4gICAgICAgIHRoaXMuZHJhd0xpbmVTdHJpbmcoXG4gICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1BvbHlnb24nOlxuICAgICAgICB0aGlzLmRyYXdQb2x5Z29uKFxuICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSlcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdNdWx0aVBvaW50JzpcbiAgICAgICAgdGhpcy5kcmF3TXVsdGlQb2ludChcbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcbiAgICAgICAgdGhpcy5kcmF3TXVsdGlMaW5lU3RyaW5nKFxuICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnTXVsdGlQb2x5Z29uJzpcbiAgICAgICAgdGhpcy5kcmF3TXVsdGlQb2x5Z29uKFxuICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0dlb21ldHJ5Q29sbGVjdGlvbic6XG4gICAgICAgIHRoaXMuZHJhd0dlb21ldHJ5Q29sbGVjdGlvbihcbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0NpcmNsZSc6XG4gICAgICAgIHRoaXMuZHJhd0NpcmNsZShcbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSlcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBmZWF0dXJlIGludG8gdGhlIGNhbnZhcy4gIE5vdGUgdGhhdCBhbnkgYHpJbmRleGAgb24gdGhlIHByb3ZpZGVkXG4gICAqIHN0eWxlIHdpbGwgYmUgaWdub3JlZCAtIGZlYXR1cmVzIGFyZSByZW5kZXJlZCBpbW1lZGlhdGVseSBpbiB0aGUgb3JkZXIgdGhhdFxuICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQuICBJZiB5b3UgbmVlZCBgekluZGV4YCBzdXBwb3J0LCB5b3Ugc2hvdWxkIGJlIHVzaW5nIGFuXG4gICAqIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvVmVjdG9yflZlY3RvckxheWVyfSBpbnN0ZWFkLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBkcmF3RmVhdHVyZShmZWF0dXJlLCBzdHlsZSkge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gc3R5bGUuZ2V0R2VvbWV0cnlGdW5jdGlvbigpKGZlYXR1cmUpO1xuICAgIGlmICghZ2VvbWV0cnkgfHwgIWludGVyc2VjdHModGhpcy5leHRlbnRfLCBnZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRTdHlsZShzdHlsZSk7XG4gICAgdGhpcy5kcmF3R2VvbWV0cnkoZ2VvbWV0cnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIEdlb21ldHJ5Q29sbGVjdGlvbiB0byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmRcbiAgICogdXNlcyB0aGUgY3VycmVudCBzdHlsZXMgYXBwcm9wcmlhdGUgZm9yIGVhY2ggZ2VvbWV0cnkgaW4gdGhlIGNvbGxlY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkgY29sbGVjdGlvbi5cbiAgICovXG4gIGRyYXdHZW9tZXRyeUNvbGxlY3Rpb24oZ2VvbWV0cnkpIHtcbiAgICBjb25zdCBnZW9tZXRyaWVzID0gZ2VvbWV0cnkuZ2V0R2VvbWV0cmllc0FycmF5KCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB0aGlzLmRyYXdHZW9tZXRyeShnZW9tZXRyaWVzW2ldKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgUG9pbnQgZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmQgdXNlc1xuICAgKiB0aGUgY3VycmVudCBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBQb2ludCBnZW9tZXRyeS5cbiAgICovXG4gIGRyYXdQb2ludChnZW9tZXRyeSkge1xuICAgIGlmICh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfKSB7XG4gICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQoXG4gICAgICAgICAgdGhpcy5zcXVhcmVkVG9sZXJhbmNlXyxcbiAgICAgICAgICB0aGlzLnVzZXJUcmFuc2Zvcm1fXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGNvbnN0IHN0cmlkZSA9IGdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgIGlmICh0aGlzLmltYWdlXykge1xuICAgICAgdGhpcy5kcmF3SW1hZ2VzXyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBNdWx0aVBvaW50IGdlb21ldHJ5ICBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZFxuICAgKiB1c2VzIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgTXVsdGlQb2ludCBnZW9tZXRyeS5cbiAgICovXG4gIGRyYXdNdWx0aVBvaW50KGdlb21ldHJ5KSB7XG4gICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKFxuICAgICAgICAgIHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sXG4gICAgICAgICAgdGhpcy51c2VyVHJhbnNmb3JtX1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBjb25zdCBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBpZiAodGhpcy5pbWFnZV8pIHtcbiAgICAgIHRoaXMuZHJhd0ltYWdlc18oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUpO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgTGluZVN0cmluZyBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZCB1c2VzXG4gICAqIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgTGluZVN0cmluZyBnZW9tZXRyeS5cbiAgICovXG4gIGRyYXdMaW5lU3RyaW5nKGdlb21ldHJ5KSB7XG4gICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKFxuICAgICAgICAgIHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sXG4gICAgICAgICAgdGhpcy51c2VyVHJhbnNmb3JtX1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIWludGVyc2VjdHModGhpcy5leHRlbnRfLCBnZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICB0aGlzLm1vdmVUb0xpbmVUb18oXG4gICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgMCxcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgICAgZ2VvbWV0cnkuZ2V0U3RyaWRlKCksXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICBjb25zdCBmbGF0TWlkcG9pbnQgPSBnZW9tZXRyeS5nZXRGbGF0TWlkcG9pbnQoKTtcbiAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRNaWRwb2ludCwgMCwgMiwgMik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIE11bHRpTGluZVN0cmluZyBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlXG4gICAqIGFuZCB1c2VzIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBNdWx0aUxpbmVTdHJpbmcgZ2VvbWV0cnkuXG4gICAqL1xuICBkcmF3TXVsdGlMaW5lU3RyaW5nKGdlb21ldHJ5KSB7XG4gICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgIGdlb21ldHJ5ID1cbiAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgZ2VvbWV0cnkuc2ltcGxpZnlUcmFuc2Zvcm1lZChcbiAgICAgICAgICAgIHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sXG4gICAgICAgICAgICB0aGlzLnVzZXJUcmFuc2Zvcm1fXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH1cbiAgICBjb25zdCBnZW9tZXRyeUV4dGVudCA9IGdlb21ldHJ5LmdldEV4dGVudCgpO1xuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5RXh0ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29udGV4dFN0cm9rZVN0YXRlXyh0aGlzLnN0cm9rZVN0YXRlXyk7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICBjb25zdCBlbmRzID0gLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoZ2VvbWV0cnkuZ2V0RW5kcygpKTtcbiAgICAgIGNvbnN0IHN0cmlkZSA9IGdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBvZmZzZXQgPSB0aGlzLm1vdmVUb0xpbmVUb18oXG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICBlbmRzW2ldLFxuICAgICAgICAgIHN0cmlkZSxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICBjb25zdCBmbGF0TWlkcG9pbnRzID0gZ2VvbWV0cnkuZ2V0RmxhdE1pZHBvaW50cygpO1xuICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdE1pZHBvaW50cywgMCwgZmxhdE1pZHBvaW50cy5sZW5ndGgsIDIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBQb2x5Z29uIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICogdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBQb2x5Z29uIGdlb21ldHJ5LlxuICAgKi9cbiAgZHJhd1BvbHlnb24oZ2VvbWV0cnkpIHtcbiAgICBpZiAodGhpcy5zcXVhcmVkVG9sZXJhbmNlXykge1xuICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQoXG4gICAgICAgICAgdGhpcy5zcXVhcmVkVG9sZXJhbmNlXyxcbiAgICAgICAgICB0aGlzLnVzZXJUcmFuc2Zvcm1fXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8gfHwgdGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy5maWxsU3RhdGVfKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgdGhpcy5kcmF3UmluZ3NfKFxuICAgICAgICBnZW9tZXRyeS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLFxuICAgICAgICAwLFxuICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChnZW9tZXRyeS5nZXRFbmRzKCkpLFxuICAgICAgICBnZW9tZXRyeS5nZXRTdHJpZGUoKVxuICAgICAgKTtcbiAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICBjb25zdCBmbGF0SW50ZXJpb3JQb2ludCA9IGdlb21ldHJ5LmdldEZsYXRJbnRlcmlvclBvaW50KCk7XG4gICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0SW50ZXJpb3JQb2ludCwgMCwgMiwgMik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBNdWx0aVBvbHlnb24gZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmRcbiAgICogdXNlcyB0aGUgY3VycmVudCBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBNdWx0aVBvbHlnb24gZ2VvbWV0cnkuXG4gICAqL1xuICBkcmF3TXVsdGlQb2x5Z29uKGdlb21ldHJ5KSB7XG4gICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQoXG4gICAgICAgICAgdGhpcy5zcXVhcmVkVG9sZXJhbmNlXyxcbiAgICAgICAgICB0aGlzLnVzZXJUcmFuc2Zvcm1fXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8gfHwgdGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy5maWxsU3RhdGVfKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgfVxuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICBjb25zdCBlbmRzcyA9IGdlb21ldHJ5LmdldEVuZHNzKCk7XG4gICAgICBjb25zdCBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGVuZHMgPSBlbmRzc1tpXTtcbiAgICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3UmluZ3NfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgIGNvbnN0IGZsYXRJbnRlcmlvclBvaW50cyA9IGdlb21ldHJ5LmdldEZsYXRJbnRlcmlvclBvaW50cygpO1xuICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdEludGVyaW9yUG9pbnRzLCAwLCBmbGF0SW50ZXJpb3JQb2ludHMubGVuZ3RoLCAyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfSBmaWxsU3RhdGUgRmlsbCBzdGF0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldENvbnRleHRGaWxsU3RhdGVfKGZpbGxTdGF0ZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIGNvbnN0IGNvbnRleHRGaWxsU3RhdGUgPSB0aGlzLmNvbnRleHRGaWxsU3RhdGVfO1xuICAgIGlmICghY29udGV4dEZpbGxTdGF0ZSkge1xuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsU3RhdGUuZmlsbFN0eWxlO1xuICAgICAgdGhpcy5jb250ZXh0RmlsbFN0YXRlXyA9IHtcbiAgICAgICAgZmlsbFN0eWxlOiBmaWxsU3RhdGUuZmlsbFN0eWxlLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNvbnRleHRGaWxsU3RhdGUuZmlsbFN0eWxlICE9IGZpbGxTdGF0ZS5maWxsU3R5bGUpIHtcbiAgICAgICAgY29udGV4dEZpbGxTdGF0ZS5maWxsU3R5bGUgPSBmaWxsU3RhdGUuZmlsbFN0eWxlO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxTdGF0ZS5maWxsU3R5bGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlfSBzdHJva2VTdGF0ZSBTdHJva2Ugc3RhdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXRDb250ZXh0U3Ryb2tlU3RhdGVfKHN0cm9rZVN0YXRlKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgY29uc3QgY29udGV4dFN0cm9rZVN0YXRlID0gdGhpcy5jb250ZXh0U3Ryb2tlU3RhdGVfO1xuICAgIGlmICghY29udGV4dFN0cm9rZVN0YXRlKSB7XG4gICAgICBjb250ZXh0LmxpbmVDYXAgPSBzdHJva2VTdGF0ZS5saW5lQ2FwO1xuICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChzdHJva2VTdGF0ZS5saW5lRGFzaCk7XG4gICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgICBjb250ZXh0LmxpbmVKb2luID0gc3Ryb2tlU3RhdGUubGluZUpvaW47XG4gICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aDtcbiAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQ7XG4gICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICB0aGlzLmNvbnRleHRTdHJva2VTdGF0ZV8gPSB7XG4gICAgICAgIGxpbmVDYXA6IHN0cm9rZVN0YXRlLmxpbmVDYXAsXG4gICAgICAgIGxpbmVEYXNoOiBzdHJva2VTdGF0ZS5saW5lRGFzaCxcbiAgICAgICAgbGluZURhc2hPZmZzZXQ6IHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0LFxuICAgICAgICBsaW5lSm9pbjogc3Ryb2tlU3RhdGUubGluZUpvaW4sXG4gICAgICAgIGxpbmVXaWR0aDogc3Ryb2tlU3RhdGUubGluZVdpZHRoLFxuICAgICAgICBtaXRlckxpbWl0OiBzdHJva2VTdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICBzdHJva2VTdHlsZTogc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLmxpbmVDYXAgIT0gc3Ryb2tlU3RhdGUubGluZUNhcCkge1xuICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubGluZUNhcCA9IHN0cm9rZVN0YXRlLmxpbmVDYXA7XG4gICAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0cm9rZVN0YXRlLmxpbmVDYXA7XG4gICAgICB9XG4gICAgICBpZiAoIWVxdWFscyhjb250ZXh0U3Ryb2tlU3RhdGUubGluZURhc2gsIHN0cm9rZVN0YXRlLmxpbmVEYXNoKSkge1xuICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKFxuICAgICAgICAgIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZURhc2ggPSBzdHJva2VTdGF0ZS5saW5lRGFzaClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQgIT0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQpIHtcbiAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldDtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZUpvaW4gIT0gc3Ryb2tlU3RhdGUubGluZUpvaW4pIHtcbiAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVKb2luID0gc3Ryb2tlU3RhdGUubGluZUpvaW47XG4gICAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHJva2VTdGF0ZS5saW5lSm9pbjtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubGluZVdpZHRoICE9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCkge1xuICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubGluZVdpZHRoID0gc3Ryb2tlU3RhdGUubGluZVdpZHRoO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aDtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCAhPSBzdHJva2VTdGF0ZS5taXRlckxpbWl0KSB7XG4gICAgICAgIGNvbnRleHRTdHJva2VTdGF0ZS5taXRlckxpbWl0ID0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdDtcbiAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdDtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0U3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUgIT0gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlID0gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuVGV4dFN0YXRlfSB0ZXh0U3RhdGUgVGV4dCBzdGF0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldENvbnRleHRUZXh0U3RhdGVfKHRleHRTdGF0ZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIGNvbnN0IGNvbnRleHRUZXh0U3RhdGUgPSB0aGlzLmNvbnRleHRUZXh0U3RhdGVfO1xuICAgIGNvbnN0IHRleHRBbGlnbiA9IHRleHRTdGF0ZS50ZXh0QWxpZ25cbiAgICAgID8gdGV4dFN0YXRlLnRleHRBbGlnblxuICAgICAgOiBkZWZhdWx0VGV4dEFsaWduO1xuICAgIGlmICghY29udGV4dFRleHRTdGF0ZSkge1xuICAgICAgY29udGV4dC5mb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICBjb250ZXh0LnRleHRBbGlnbiA9IHRleHRBbGlnbjtcbiAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gdGV4dFN0YXRlLnRleHRCYXNlbGluZTtcbiAgICAgIHRoaXMuY29udGV4dFRleHRTdGF0ZV8gPSB7XG4gICAgICAgIGZvbnQ6IHRleHRTdGF0ZS5mb250LFxuICAgICAgICB0ZXh0QWxpZ246IHRleHRBbGlnbixcbiAgICAgICAgdGV4dEJhc2VsaW5lOiB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNvbnRleHRUZXh0U3RhdGUuZm9udCAhPSB0ZXh0U3RhdGUuZm9udCkge1xuICAgICAgICBjb250ZXh0VGV4dFN0YXRlLmZvbnQgPSB0ZXh0U3RhdGUuZm9udDtcbiAgICAgICAgY29udGV4dC5mb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dFRleHRTdGF0ZS50ZXh0QWxpZ24gIT0gdGV4dEFsaWduKSB7XG4gICAgICAgIGNvbnRleHRUZXh0U3RhdGUudGV4dEFsaWduID0gdGV4dEFsaWduO1xuICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9IHRleHRBbGlnbjtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0VGV4dFN0YXRlLnRleHRCYXNlbGluZSAhPSB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lKSB7XG4gICAgICAgIGNvbnRleHRUZXh0U3RhdGUudGV4dEJhc2VsaW5lID0gdGV4dFN0YXRlLnRleHRCYXNlbGluZTtcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGZpbGwgYW5kIHN0cm9rZSBzdHlsZSBmb3Igc3Vic2VxdWVudCBkcmF3IG9wZXJhdGlvbnMuICBUbyBjbGVhclxuICAgKiBlaXRoZXIgZmlsbCBvciBzdHJva2Ugc3R5bGVzLCBwYXNzIG51bGwgZm9yIHRoZSBhcHByb3ByaWF0ZSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsU3R5bGUgRmlsbCBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlU3R5bGUgU3Ryb2tlIHN0eWxlLlxuICAgKi9cbiAgc2V0RmlsbFN0cm9rZVN0eWxlKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpIHtcbiAgICBpZiAoIWZpbGxTdHlsZSkge1xuICAgICAgdGhpcy5maWxsU3RhdGVfID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZmlsbFN0eWxlQ29sb3IgPSBmaWxsU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgIHRoaXMuZmlsbFN0YXRlXyA9IHtcbiAgICAgICAgZmlsbFN0eWxlOiBhc0NvbG9yTGlrZShcbiAgICAgICAgICBmaWxsU3R5bGVDb2xvciA/IGZpbGxTdHlsZUNvbG9yIDogZGVmYXVsdEZpbGxTdHlsZVxuICAgICAgICApLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCFzdHJva2VTdHlsZSkge1xuICAgICAgdGhpcy5zdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdHJva2VTdHlsZUNvbG9yID0gc3Ryb2tlU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlTGluZUNhcCA9IHN0cm9rZVN0eWxlLmdldExpbmVDYXAoKTtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlTGluZURhc2ggPSBzdHJva2VTdHlsZS5nZXRMaW5lRGFzaCgpO1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0eWxlLmdldExpbmVEYXNoT2Zmc2V0KCk7XG4gICAgICBjb25zdCBzdHJva2VTdHlsZUxpbmVKb2luID0gc3Ryb2tlU3R5bGUuZ2V0TGluZUpvaW4oKTtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlV2lkdGggPSBzdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGVNaXRlckxpbWl0ID0gc3Ryb2tlU3R5bGUuZ2V0TWl0ZXJMaW1pdCgpO1xuICAgICAgY29uc3QgbGluZURhc2ggPSBzdHJva2VTdHlsZUxpbmVEYXNoXG4gICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lRGFzaFxuICAgICAgICA6IGRlZmF1bHRMaW5lRGFzaDtcbiAgICAgIHRoaXMuc3Ryb2tlU3RhdGVfID0ge1xuICAgICAgICBsaW5lQ2FwOlxuICAgICAgICAgIHN0cm9rZVN0eWxlTGluZUNhcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZUNhcFxuICAgICAgICAgICAgOiBkZWZhdWx0TGluZUNhcCxcbiAgICAgICAgbGluZURhc2g6XG4gICAgICAgICAgdGhpcy5waXhlbFJhdGlvXyA9PT0gMVxuICAgICAgICAgICAgPyBsaW5lRGFzaFxuICAgICAgICAgICAgOiBsaW5lRGFzaC5tYXAoKG4pID0+IG4gKiB0aGlzLnBpeGVsUmF0aW9fKSxcbiAgICAgICAgbGluZURhc2hPZmZzZXQ6XG4gICAgICAgICAgKHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldFxuICAgICAgICAgICAgOiBkZWZhdWx0TGluZURhc2hPZmZzZXQpICogdGhpcy5waXhlbFJhdGlvXyxcbiAgICAgICAgbGluZUpvaW46XG4gICAgICAgICAgc3Ryb2tlU3R5bGVMaW5lSm9pbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZUpvaW5cbiAgICAgICAgICAgIDogZGVmYXVsdExpbmVKb2luLFxuICAgICAgICBsaW5lV2lkdGg6XG4gICAgICAgICAgKHN0cm9rZVN0eWxlV2lkdGggIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBzdHJva2VTdHlsZVdpZHRoXG4gICAgICAgICAgICA6IGRlZmF1bHRMaW5lV2lkdGgpICogdGhpcy5waXhlbFJhdGlvXyxcbiAgICAgICAgbWl0ZXJMaW1pdDpcbiAgICAgICAgICBzdHJva2VTdHlsZU1pdGVyTGltaXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBzdHJva2VTdHlsZU1pdGVyTGltaXRcbiAgICAgICAgICAgIDogZGVmYXVsdE1pdGVyTGltaXQsXG4gICAgICAgIHN0cm9rZVN0eWxlOiBhc0NvbG9yTGlrZShcbiAgICAgICAgICBzdHJva2VTdHlsZUNvbG9yID8gc3Ryb2tlU3R5bGVDb2xvciA6IGRlZmF1bHRTdHJva2VTdHlsZVxuICAgICAgICApLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBpbWFnZSBzdHlsZSBmb3Igc3Vic2VxdWVudCBkcmF3IG9wZXJhdGlvbnMuICBQYXNzIG51bGwgdG8gcmVtb3ZlXG4gICAqIHRoZSBpbWFnZSBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9JbWFnZS5qc1wiKS5kZWZhdWx0fSBpbWFnZVN0eWxlIEltYWdlIHN0eWxlLlxuICAgKi9cbiAgc2V0SW1hZ2VTdHlsZShpbWFnZVN0eWxlKSB7XG4gICAgbGV0IGltYWdlU2l6ZTtcbiAgICBpZiAoIWltYWdlU3R5bGUgfHwgIShpbWFnZVNpemUgPSBpbWFnZVN0eWxlLmdldFNpemUoKSkpIHtcbiAgICAgIHRoaXMuaW1hZ2VfID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW1hZ2VQaXhlbFJhdGlvID0gaW1hZ2VTdHlsZS5nZXRQaXhlbFJhdGlvKHRoaXMucGl4ZWxSYXRpb18pO1xuICAgIGNvbnN0IGltYWdlQW5jaG9yID0gaW1hZ2VTdHlsZS5nZXRBbmNob3IoKTtcbiAgICBjb25zdCBpbWFnZU9yaWdpbiA9IGltYWdlU3R5bGUuZ2V0T3JpZ2luKCk7XG4gICAgdGhpcy5pbWFnZV8gPSBpbWFnZVN0eWxlLmdldEltYWdlKHRoaXMucGl4ZWxSYXRpb18pO1xuICAgIHRoaXMuaW1hZ2VBbmNob3JYXyA9IGltYWdlQW5jaG9yWzBdICogaW1hZ2VQaXhlbFJhdGlvO1xuICAgIHRoaXMuaW1hZ2VBbmNob3JZXyA9IGltYWdlQW5jaG9yWzFdICogaW1hZ2VQaXhlbFJhdGlvO1xuICAgIHRoaXMuaW1hZ2VIZWlnaHRfID0gaW1hZ2VTaXplWzFdICogaW1hZ2VQaXhlbFJhdGlvO1xuICAgIHRoaXMuaW1hZ2VPcGFjaXR5XyA9IGltYWdlU3R5bGUuZ2V0T3BhY2l0eSgpO1xuICAgIHRoaXMuaW1hZ2VPcmlnaW5YXyA9IGltYWdlT3JpZ2luWzBdO1xuICAgIHRoaXMuaW1hZ2VPcmlnaW5ZXyA9IGltYWdlT3JpZ2luWzFdO1xuICAgIHRoaXMuaW1hZ2VSb3RhdGVXaXRoVmlld18gPSBpbWFnZVN0eWxlLmdldFJvdGF0ZVdpdGhWaWV3KCk7XG4gICAgdGhpcy5pbWFnZVJvdGF0aW9uXyA9IGltYWdlU3R5bGUuZ2V0Um90YXRpb24oKTtcbiAgICBjb25zdCBpbWFnZVNjYWxlID0gaW1hZ2VTdHlsZS5nZXRTY2FsZUFycmF5KCk7XG4gICAgdGhpcy5pbWFnZVNjYWxlXyA9IFtcbiAgICAgIChpbWFnZVNjYWxlWzBdICogdGhpcy5waXhlbFJhdGlvXykgLyBpbWFnZVBpeGVsUmF0aW8sXG4gICAgICAoaW1hZ2VTY2FsZVsxXSAqIHRoaXMucGl4ZWxSYXRpb18pIC8gaW1hZ2VQaXhlbFJhdGlvLFxuICAgIF07XG4gICAgdGhpcy5pbWFnZVdpZHRoXyA9IGltYWdlU2l6ZVswXSAqIGltYWdlUGl4ZWxSYXRpbztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRleHQgc3R5bGUgZm9yIHN1YnNlcXVlbnQgZHJhdyBvcGVyYXRpb25zLiAgUGFzcyBudWxsIHRvXG4gICAqIHJlbW92ZSB0aGUgdGV4dCBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9UZXh0LmpzXCIpLmRlZmF1bHR9IHRleHRTdHlsZSBUZXh0IHN0eWxlLlxuICAgKi9cbiAgc2V0VGV4dFN0eWxlKHRleHRTdHlsZSkge1xuICAgIGlmICghdGV4dFN0eWxlKSB7XG4gICAgICB0aGlzLnRleHRfID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRleHRGaWxsU3R5bGUgPSB0ZXh0U3R5bGUuZ2V0RmlsbCgpO1xuICAgICAgaWYgKCF0ZXh0RmlsbFN0eWxlKSB7XG4gICAgICAgIHRoaXMudGV4dEZpbGxTdGF0ZV8gPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGV4dEZpbGxTdHlsZUNvbG9yID0gdGV4dEZpbGxTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgICB0aGlzLnRleHRGaWxsU3RhdGVfID0ge1xuICAgICAgICAgIGZpbGxTdHlsZTogYXNDb2xvckxpa2UoXG4gICAgICAgICAgICB0ZXh0RmlsbFN0eWxlQ29sb3IgPyB0ZXh0RmlsbFN0eWxlQ29sb3IgOiBkZWZhdWx0RmlsbFN0eWxlXG4gICAgICAgICAgKSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRleHRTdHJva2VTdHlsZSA9IHRleHRTdHlsZS5nZXRTdHJva2UoKTtcbiAgICAgIGlmICghdGV4dFN0cm9rZVN0eWxlKSB7XG4gICAgICAgIHRoaXMudGV4dFN0cm9rZVN0YXRlXyA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0ZXh0U3Ryb2tlU3R5bGVDb2xvciA9IHRleHRTdHJva2VTdHlsZS5nZXRDb2xvcigpO1xuICAgICAgICBjb25zdCB0ZXh0U3Ryb2tlU3R5bGVMaW5lQ2FwID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVDYXAoKTtcbiAgICAgICAgY29uc3QgdGV4dFN0cm9rZVN0eWxlTGluZURhc2ggPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZURhc2goKTtcbiAgICAgICAgY29uc3QgdGV4dFN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQgPVxuICAgICAgICAgIHRleHRTdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgICBjb25zdCB0ZXh0U3Ryb2tlU3R5bGVMaW5lSm9pbiA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lSm9pbigpO1xuICAgICAgICBjb25zdCB0ZXh0U3Ryb2tlU3R5bGVXaWR0aCA9IHRleHRTdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuICAgICAgICBjb25zdCB0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0ID0gdGV4dFN0cm9rZVN0eWxlLmdldE1pdGVyTGltaXQoKTtcbiAgICAgICAgdGhpcy50ZXh0U3Ryb2tlU3RhdGVfID0ge1xuICAgICAgICAgIGxpbmVDYXA6XG4gICAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGVMaW5lQ2FwICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVMaW5lQ2FwXG4gICAgICAgICAgICAgIDogZGVmYXVsdExpbmVDYXAsXG4gICAgICAgICAgbGluZURhc2g6IHRleHRTdHJva2VTdHlsZUxpbmVEYXNoXG4gICAgICAgICAgICA/IHRleHRTdHJva2VTdHlsZUxpbmVEYXNoXG4gICAgICAgICAgICA6IGRlZmF1bHRMaW5lRGFzaCxcbiAgICAgICAgICBsaW5lRGFzaE9mZnNldDogdGV4dFN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgID8gdGV4dFN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgIDogZGVmYXVsdExpbmVEYXNoT2Zmc2V0LFxuICAgICAgICAgIGxpbmVKb2luOlxuICAgICAgICAgICAgdGV4dFN0cm9rZVN0eWxlTGluZUpvaW4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IHRleHRTdHJva2VTdHlsZUxpbmVKb2luXG4gICAgICAgICAgICAgIDogZGVmYXVsdExpbmVKb2luLFxuICAgICAgICAgIGxpbmVXaWR0aDpcbiAgICAgICAgICAgIHRleHRTdHJva2VTdHlsZVdpZHRoICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVXaWR0aFxuICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lV2lkdGgsXG4gICAgICAgICAgbWl0ZXJMaW1pdDpcbiAgICAgICAgICAgIHRleHRTdHJva2VTdHlsZU1pdGVyTGltaXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IHRleHRTdHJva2VTdHlsZU1pdGVyTGltaXRcbiAgICAgICAgICAgICAgOiBkZWZhdWx0TWl0ZXJMaW1pdCxcbiAgICAgICAgICBzdHJva2VTdHlsZTogYXNDb2xvckxpa2UoXG4gICAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGVDb2xvciA/IHRleHRTdHJva2VTdHlsZUNvbG9yIDogZGVmYXVsdFN0cm9rZVN0eWxlXG4gICAgICAgICAgKSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRleHRGb250ID0gdGV4dFN0eWxlLmdldEZvbnQoKTtcbiAgICAgIGNvbnN0IHRleHRPZmZzZXRYID0gdGV4dFN0eWxlLmdldE9mZnNldFgoKTtcbiAgICAgIGNvbnN0IHRleHRPZmZzZXRZID0gdGV4dFN0eWxlLmdldE9mZnNldFkoKTtcbiAgICAgIGNvbnN0IHRleHRSb3RhdGVXaXRoVmlldyA9IHRleHRTdHlsZS5nZXRSb3RhdGVXaXRoVmlldygpO1xuICAgICAgY29uc3QgdGV4dFJvdGF0aW9uID0gdGV4dFN0eWxlLmdldFJvdGF0aW9uKCk7XG4gICAgICBjb25zdCB0ZXh0U2NhbGUgPSB0ZXh0U3R5bGUuZ2V0U2NhbGVBcnJheSgpO1xuICAgICAgY29uc3QgdGV4dFRleHQgPSB0ZXh0U3R5bGUuZ2V0VGV4dCgpO1xuICAgICAgY29uc3QgdGV4dFRleHRBbGlnbiA9IHRleHRTdHlsZS5nZXRUZXh0QWxpZ24oKTtcbiAgICAgIGNvbnN0IHRleHRUZXh0QmFzZWxpbmUgPSB0ZXh0U3R5bGUuZ2V0VGV4dEJhc2VsaW5lKCk7XG4gICAgICB0aGlzLnRleHRTdGF0ZV8gPSB7XG4gICAgICAgIGZvbnQ6IHRleHRGb250ICE9PSB1bmRlZmluZWQgPyB0ZXh0Rm9udCA6IGRlZmF1bHRGb250LFxuICAgICAgICB0ZXh0QWxpZ246XG4gICAgICAgICAgdGV4dFRleHRBbGlnbiAhPT0gdW5kZWZpbmVkID8gdGV4dFRleHRBbGlnbiA6IGRlZmF1bHRUZXh0QWxpZ24sXG4gICAgICAgIHRleHRCYXNlbGluZTpcbiAgICAgICAgICB0ZXh0VGV4dEJhc2VsaW5lICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gdGV4dFRleHRCYXNlbGluZVxuICAgICAgICAgICAgOiBkZWZhdWx0VGV4dEJhc2VsaW5lLFxuICAgICAgfTtcbiAgICAgIHRoaXMudGV4dF8gPVxuICAgICAgICB0ZXh0VGV4dCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBBcnJheS5pc0FycmF5KHRleHRUZXh0KVxuICAgICAgICAgICAgPyB0ZXh0VGV4dC5yZWR1Y2UoKGFjYywgdCwgaSkgPT4gKGFjYyArPSBpICUgMiA/ICcgJyA6IHQpLCAnJylcbiAgICAgICAgICAgIDogdGV4dFRleHRcbiAgICAgICAgICA6ICcnO1xuICAgICAgdGhpcy50ZXh0T2Zmc2V0WF8gPVxuICAgICAgICB0ZXh0T2Zmc2V0WCAhPT0gdW5kZWZpbmVkID8gdGhpcy5waXhlbFJhdGlvXyAqIHRleHRPZmZzZXRYIDogMDtcbiAgICAgIHRoaXMudGV4dE9mZnNldFlfID1cbiAgICAgICAgdGV4dE9mZnNldFkgIT09IHVuZGVmaW5lZCA/IHRoaXMucGl4ZWxSYXRpb18gKiB0ZXh0T2Zmc2V0WSA6IDA7XG4gICAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18gPVxuICAgICAgICB0ZXh0Um90YXRlV2l0aFZpZXcgIT09IHVuZGVmaW5lZCA/IHRleHRSb3RhdGVXaXRoVmlldyA6IGZhbHNlO1xuICAgICAgdGhpcy50ZXh0Um90YXRpb25fID0gdGV4dFJvdGF0aW9uICE9PSB1bmRlZmluZWQgPyB0ZXh0Um90YXRpb24gOiAwO1xuICAgICAgdGhpcy50ZXh0U2NhbGVfID0gW1xuICAgICAgICB0aGlzLnBpeGVsUmF0aW9fICogdGV4dFNjYWxlWzBdLFxuICAgICAgICB0aGlzLnBpeGVsUmF0aW9fICogdGV4dFNjYWxlWzFdLFxuICAgICAgXTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9oaXRkZXRlY3RcbiAqL1xuXG5pbXBvcnQgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIgZnJvbSAnLi9JbW1lZGlhdGUuanMnO1xuaW1wb3J0IHtJY29ufSBmcm9tICcuLi8uLi9zdHlsZS5qcyc7XG5pbXBvcnQge2FzY2VuZGluZ30gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtjbGFtcH0gZnJvbSAnLi4vLi4vbWF0aC5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7aW50ZXJzZWN0c30gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcblxuZXhwb3J0IGNvbnN0IEhJVF9ERVRFQ1RfUkVTT0xVVElPTiA9IDAuNTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBDYW52YXMgc2l6ZSBpbiBjc3MgcGl4ZWxzLlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtPn0gdHJhbnNmb3JtcyBUcmFuc2Zvcm1zXG4gKiBmb3IgcmVuZGVyaW5nIGZlYXR1cmVzIHRvIGFsbCB3b3JsZHMgb2YgdGhlIHZpZXdwb3J0LCBmcm9tIGNvb3JkaW5hdGVzIHRvIGNzc1xuICogcGl4ZWxzLlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlPn0gZmVhdHVyZXNcbiAqIEZlYXR1cmVzIHRvIGNvbnNpZGVyIGZvciBoaXQgZGV0ZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH0gc3R5bGVGdW5jdGlvblxuICogTGF5ZXIgc3R5bGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHJldHVybiB7SW1hZ2VEYXRhfSBIaXQgZGV0ZWN0aW9uIGltYWdlIGRhdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEoXG4gIHNpemUsXG4gIHRyYW5zZm9ybXMsXG4gIGZlYXR1cmVzLFxuICBzdHlsZUZ1bmN0aW9uLFxuICBleHRlbnQsXG4gIHJlc29sdXRpb24sXG4gIHJvdGF0aW9uXG4pIHtcbiAgY29uc3Qgd2lkdGggPSBzaXplWzBdICogSElUX0RFVEVDVF9SRVNPTFVUSU9OO1xuICBjb25zdCBoZWlnaHQgPSBzaXplWzFdICogSElUX0RFVEVDVF9SRVNPTFVUSU9OO1xuICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKHdpZHRoLCBoZWlnaHQpO1xuICBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICBjb25zdCBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgY29uc3QgcmVuZGVyZXIgPSBuZXcgQ2FudmFzSW1tZWRpYXRlUmVuZGVyZXIoXG4gICAgY29udGV4dCxcbiAgICBISVRfREVURUNUX1JFU09MVVRJT04sXG4gICAgZXh0ZW50LFxuICAgIG51bGwsXG4gICAgcm90YXRpb25cbiAgKTtcbiAgY29uc3QgZmVhdHVyZUNvdW50ID0gZmVhdHVyZXMubGVuZ3RoO1xuICAvLyBTdHJldGNoIGhpdCBkZXRlY3Rpb24gaW5kZXggdG8gdXNlIHRoZSB3aG9sZSBhdmFpbGFibGUgY29sb3IgcmFuZ2VcbiAgY29uc3QgaW5kZXhGYWN0b3IgPSBNYXRoLmZsb29yKCgyNTYgKiAyNTYgKiAyNTYgLSAxKSAvIGZlYXR1cmVDb3VudCk7XG4gIGNvbnN0IGZlYXR1cmVzQnlaSW5kZXggPSB7fTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gZmVhdHVyZUNvdW50OyArK2kpIHtcbiAgICBjb25zdCBmZWF0dXJlID0gZmVhdHVyZXNbaSAtIDFdO1xuICAgIGNvbnN0IGZlYXR1cmVTdHlsZUZ1bmN0aW9uID0gZmVhdHVyZS5nZXRTdHlsZUZ1bmN0aW9uKCkgfHwgc3R5bGVGdW5jdGlvbjtcbiAgICBpZiAoIXN0eWxlRnVuY3Rpb24pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBsZXQgc3R5bGVzID0gZmVhdHVyZVN0eWxlRnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbik7XG4gICAgaWYgKCFzdHlsZXMpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGVzKSkge1xuICAgICAgc3R5bGVzID0gW3N0eWxlc107XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gaSAqIGluZGV4RmFjdG9yO1xuICAgIGNvbnN0IGNvbG9yID0gaW5kZXgudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDcsICcjMDAwMDAnKTtcbiAgICBmb3IgKGxldCBqID0gMCwgamogPSBzdHlsZXMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgY29uc3Qgb3JpZ2luYWxTdHlsZSA9IHN0eWxlc1tqXTtcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gb3JpZ2luYWxTdHlsZS5nZXRHZW9tZXRyeUZ1bmN0aW9uKCkoZmVhdHVyZSk7XG4gICAgICBpZiAoIWdlb21ldHJ5IHx8ICFpbnRlcnNlY3RzKGV4dGVudCwgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3R5bGUgPSBvcmlnaW5hbFN0eWxlLmNsb25lKCk7XG4gICAgICBjb25zdCBmaWxsID0gc3R5bGUuZ2V0RmlsbCgpO1xuICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgZmlsbC5zZXRDb2xvcihjb2xvcik7XG4gICAgICB9XG4gICAgICBjb25zdCBzdHJva2UgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgICAgIGlmIChzdHJva2UpIHtcbiAgICAgICAgc3Ryb2tlLnNldENvbG9yKGNvbG9yKTtcbiAgICAgICAgc3Ryb2tlLnNldExpbmVEYXNoKG51bGwpO1xuICAgICAgfVxuICAgICAgc3R5bGUuc2V0VGV4dCh1bmRlZmluZWQpO1xuICAgICAgY29uc3QgaW1hZ2UgPSBvcmlnaW5hbFN0eWxlLmdldEltYWdlKCk7XG4gICAgICBpZiAoaW1hZ2UgJiYgaW1hZ2UuZ2V0T3BhY2l0eSgpICE9PSAwKSB7XG4gICAgICAgIGNvbnN0IGltZ1NpemUgPSBpbWFnZS5nZXRJbWFnZVNpemUoKTtcbiAgICAgICAgaWYgKCFpbWdTaXplKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbWdDb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKFxuICAgICAgICAgIGltZ1NpemVbMF0sXG4gICAgICAgICAgaW1nU2l6ZVsxXSxcbiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAge2FscGhhOiBmYWxzZX1cbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgaW1nID0gaW1nQ29udGV4dC5jYW52YXM7XG4gICAgICAgIGltZ0NvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICAgIGltZ0NvbnRleHQuZmlsbFJlY3QoMCwgMCwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0KTtcbiAgICAgICAgc3R5bGUuc2V0SW1hZ2UoXG4gICAgICAgICAgbmV3IEljb24oe1xuICAgICAgICAgICAgaW1nOiBpbWcsXG4gICAgICAgICAgICBpbWdTaXplOiBpbWdTaXplLFxuICAgICAgICAgICAgYW5jaG9yOiBpbWFnZS5nZXRBbmNob3IoKSxcbiAgICAgICAgICAgIGFuY2hvclhVbml0czogJ3BpeGVscycsXG4gICAgICAgICAgICBhbmNob3JZVW5pdHM6ICdwaXhlbHMnLFxuICAgICAgICAgICAgb2Zmc2V0OiBpbWFnZS5nZXRPcmlnaW4oKSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICBzaXplOiBpbWFnZS5nZXRTaXplKCksXG4gICAgICAgICAgICBzY2FsZTogaW1hZ2UuZ2V0U2NhbGUoKSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBpbWFnZS5nZXRSb3RhdGlvbigpLFxuICAgICAgICAgICAgcm90YXRlV2l0aFZpZXc6IGltYWdlLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHpJbmRleCA9IHN0eWxlLmdldFpJbmRleCgpIHx8IDA7XG4gICAgICBsZXQgYnlHZW9tZXRyeVR5cGUgPSBmZWF0dXJlc0J5WkluZGV4W3pJbmRleF07XG4gICAgICBpZiAoIWJ5R2VvbWV0cnlUeXBlKSB7XG4gICAgICAgIGJ5R2VvbWV0cnlUeXBlID0ge307XG4gICAgICAgIGZlYXR1cmVzQnlaSW5kZXhbekluZGV4XSA9IGJ5R2VvbWV0cnlUeXBlO1xuICAgICAgICBieUdlb21ldHJ5VHlwZVsnUG9seWdvbiddID0gW107XG4gICAgICAgIGJ5R2VvbWV0cnlUeXBlWydDaXJjbGUnXSA9IFtdO1xuICAgICAgICBieUdlb21ldHJ5VHlwZVsnTGluZVN0cmluZyddID0gW107XG4gICAgICAgIGJ5R2VvbWV0cnlUeXBlWydQb2ludCddID0gW107XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlID0gZ2VvbWV0cnkuZ2V0VHlwZSgpO1xuICAgICAgaWYgKHR5cGUgPT09ICdHZW9tZXRyeUNvbGxlY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJpZXMgPVxuICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgICApLmdldEdlb21ldHJpZXNBcnJheVJlY3Vyc2l2ZSgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICBjb25zdCBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XG4gICAgICAgICAgYnlHZW9tZXRyeVR5cGVbZ2VvbWV0cnkuZ2V0VHlwZSgpLnJlcGxhY2UoJ011bHRpJywgJycpXS5wdXNoKFxuICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICBzdHlsZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJ5R2VvbWV0cnlUeXBlW3R5cGUucmVwbGFjZSgnTXVsdGknLCAnJyldLnB1c2goZ2VvbWV0cnksIHN0eWxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCB6SW5kZXhLZXlzID0gT2JqZWN0LmtleXMoZmVhdHVyZXNCeVpJbmRleCkubWFwKE51bWJlcikuc29ydChhc2NlbmRpbmcpO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSB6SW5kZXhLZXlzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBieUdlb21ldHJ5VHlwZSA9IGZlYXR1cmVzQnlaSW5kZXhbekluZGV4S2V5c1tpXV07XG4gICAgZm9yIChjb25zdCB0eXBlIGluIGJ5R2VvbWV0cnlUeXBlKSB7XG4gICAgICBjb25zdCBnZW9tQW5kU3R5bGUgPSBieUdlb21ldHJ5VHlwZVt0eXBlXTtcbiAgICAgIGZvciAobGV0IGogPSAwLCBqaiA9IGdlb21BbmRTdHlsZS5sZW5ndGg7IGogPCBqajsgaiArPSAyKSB7XG4gICAgICAgIHJlbmRlcmVyLnNldFN0eWxlKGdlb21BbmRTdHlsZVtqICsgMV0pO1xuICAgICAgICBmb3IgKGxldCBrID0gMCwga2sgPSB0cmFuc2Zvcm1zLmxlbmd0aDsgayA8IGtrOyArK2spIHtcbiAgICAgICAgICByZW5kZXJlci5zZXRUcmFuc2Zvcm0odHJhbnNmb3Jtc1trXSk7XG4gICAgICAgICAgcmVuZGVyZXIuZHJhd0dlb21ldHJ5KGdlb21BbmRTdHlsZVtqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9waXhlbFwiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwgY29vcmRpbmF0ZSBvbiB0aGUgaGl0XG4gKiBkZXRlY3Rpb24gY2FudmFzIGluIGNzcyBwaXhlbHMuXG4gKiBAcGFyYW0ge0FycmF5PEY+fSBmZWF0dXJlcyBGZWF0dXJlcy4gSGFzIHRvXG4gKiBtYXRjaCB0aGUgYGZlYXR1cmVzYCBhcnJheSB0aGF0IHdhcyBwYXNzZWQgdG8gYGNyZWF0ZUhpdERldGVjdGlvbkltYWdlRGF0YSgpYC5cbiAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBpbWFnZURhdGEgSGl0IGRldGVjdGlvbiBpbWFnZSBkYXRhIGdlbmVyYXRlZCBieVxuICogYGNyZWF0ZUhpdERldGVjdGlvbkltYWdlRGF0YSgpYC5cbiAqIEByZXR1cm4ge0FycmF5PEY+fSBGZWF0dXJlcy5cbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gRlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGl0RGV0ZWN0KHBpeGVsLCBmZWF0dXJlcywgaW1hZ2VEYXRhKSB7XG4gIGNvbnN0IHJlc3VsdEZlYXR1cmVzID0gW107XG4gIGlmIChpbWFnZURhdGEpIHtcbiAgICBjb25zdCB4ID0gTWF0aC5mbG9vcihNYXRoLnJvdW5kKHBpeGVsWzBdKSAqIEhJVF9ERVRFQ1RfUkVTT0xVVElPTik7XG4gICAgY29uc3QgeSA9IE1hdGguZmxvb3IoTWF0aC5yb3VuZChwaXhlbFsxXSkgKiBISVRfREVURUNUX1JFU09MVVRJT04pO1xuICAgIC8vIFRoZSBwaXhlbCBjb29yZGluYXRlIGlzIGNsYW1wZWQgZG93biB0byB0aGUgaGl0LWRldGVjdCBjYW52YXMnIHNpemUgdG8gYWNjb3VudFxuICAgIC8vIGZvciBicm93c2VycyByZXR1cm5pbmcgY29vcmRpbmF0ZXMgc2xpZ2h0bHkgbGFyZ2VyIHRoYW4gdGhlIGFjdHVhbCBjYW52YXMgc2l6ZVxuICAgIC8vIGR1ZSB0byBhIG5vbi1pbnRlZ2VyIHBpeGVsIHJhdGlvLlxuICAgIGNvbnN0IGluZGV4ID1cbiAgICAgIChjbGFtcCh4LCAwLCBpbWFnZURhdGEud2lkdGggLSAxKSArXG4gICAgICAgIGNsYW1wKHksIDAsIGltYWdlRGF0YS5oZWlnaHQgLSAxKSAqIGltYWdlRGF0YS53aWR0aCkgKlxuICAgICAgNDtcbiAgICBjb25zdCByID0gaW1hZ2VEYXRhLmRhdGFbaW5kZXhdO1xuICAgIGNvbnN0IGcgPSBpbWFnZURhdGEuZGF0YVtpbmRleCArIDFdO1xuICAgIGNvbnN0IGIgPSBpbWFnZURhdGEuZGF0YVtpbmRleCArIDJdO1xuICAgIGNvbnN0IGkgPSBiICsgMjU2ICogKGcgKyAyNTYgKiByKTtcbiAgICBjb25zdCBpbmRleEZhY3RvciA9IE1hdGguZmxvb3IoKDI1NiAqIDI1NiAqIDI1NiAtIDEpIC8gZmVhdHVyZXMubGVuZ3RoKTtcbiAgICBpZiAoaSAmJiBpICUgaW5kZXhGYWN0b3IgPT09IDApIHtcbiAgICAgIHJlc3VsdEZlYXR1cmVzLnB1c2goZmVhdHVyZXNbaSAvIGluZGV4RmFjdG9yIC0gMV0pO1xuICAgIH1cbiAgfVxuICAvLyBAdHMtaWdub3JlIEZlYXR1cmVzIGFyZSBjb3BpZWQgZnJvbSBgZmVhdHVyZXNgIHRvIGByZXN1bHRGZWF0dXJlc2Agc28gdGhlIHR5cGUgc2hvdWxkIGJlIHRoZSBzYW1lXG4gIHJldHVybiByZXN1bHRGZWF0dXJlcztcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci92ZWN0b3JcbiAqL1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5cbi8qKlxuICogRmVhdHVyZSBjYWxsYmFjay4gVGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhyZWUgYXJndW1lbnRzLiBUaGUgZmlyc3RcbiAqIGFyZ3VtZW50IGlzIG9uZSB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZSBmZWF0dXJlfSBvciB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9GZWF0dXJlflJlbmRlckZlYXR1cmUgcmVuZGVyIGZlYXR1cmV9XG4gKiBhdCB0aGUgcGl4ZWwsIHRoZSBzZWNvbmQgaXMgdGhlIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIgbGF5ZXJ9IG9mIHRoZSBmZWF0dXJlIGFuZCB3aWxsIGJlIG51bGwgZm9yXG4gKiB1bm1hbmFnZWQgbGF5ZXJzLiBUaGUgdGhpcmQgaXMgdGhlIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9TaW1wbGVHZW9tZXRyeX5TaW1wbGVHZW9tZXRyeX0gb2YgdGhlIGZlYXR1cmUuIEZvciBmZWF0dXJlc1xuICogd2l0aCBhIEdlb21ldHJ5Q29sbGVjdGlvbiBnZW9tZXRyeSwgaXQgd2lsbCBiZSB0aGUgZmlyc3QgZGV0ZWN0ZWQgZ2VvbWV0cnkgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSwgaW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlXCIpLmRlZmF1bHQ+LCBpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQpOiBUfSBGZWF0dXJlQ2FsbGJhY2tcbiAqL1xuXG4vKipcbiAqIFRvbGVyYW5jZSBmb3IgZ2VvbWV0cnkgc2ltcGxpZmljYXRpb24gaW4gZGV2aWNlIHBpeGVscy5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmNvbnN0IFNJTVBMSUZZX1RPTEVSQU5DRSA9IDAuNTtcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtPYmplY3Q8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5UeXBlLFxuICogICAgICAgICAgICAgICAgZnVuY3Rpb24oaW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdCwgT2JqZWN0KTogdm9pZD59XG4gKi9cbmNvbnN0IEdFT01FVFJZX1JFTkRFUkVSUyA9IHtcbiAgJ1BvaW50JzogcmVuZGVyUG9pbnRHZW9tZXRyeSxcbiAgJ0xpbmVTdHJpbmcnOiByZW5kZXJMaW5lU3RyaW5nR2VvbWV0cnksXG4gICdQb2x5Z29uJzogcmVuZGVyUG9seWdvbkdlb21ldHJ5LFxuICAnTXVsdGlQb2ludCc6IHJlbmRlck11bHRpUG9pbnRHZW9tZXRyeSxcbiAgJ011bHRpTGluZVN0cmluZyc6IHJlbmRlck11bHRpTGluZVN0cmluZ0dlb21ldHJ5LFxuICAnTXVsdGlQb2x5Z29uJzogcmVuZGVyTXVsdGlQb2x5Z29uR2VvbWV0cnksXG4gICdHZW9tZXRyeUNvbGxlY3Rpb24nOiByZW5kZXJHZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSxcbiAgJ0NpcmNsZSc6IHJlbmRlckNpcmNsZUdlb21ldHJ5LFxufTtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUxIEZlYXR1cmUgMS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZTIgRmVhdHVyZSAyLlxuICogQHJldHVybiB7bnVtYmVyfSBPcmRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRPcmRlcihmZWF0dXJlMSwgZmVhdHVyZTIpIHtcbiAgcmV0dXJuIHBhcnNlSW50KGdldFVpZChmZWF0dXJlMSksIDEwKSAtIHBhcnNlSW50KGdldFVpZChmZWF0dXJlMiksIDEwKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgcGl4ZWwgdG9sZXJhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3F1YXJlZFRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gIGNvbnN0IHRvbGVyYW5jZSA9IGdldFRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKTtcbiAgcmV0dXJuIHRvbGVyYW5jZSAqIHRvbGVyYW5jZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFBpeGVsIHRvbGVyYW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRvbGVyYW5jZShyZXNvbHV0aW9uLCBwaXhlbFJhdGlvKSB7XG4gIHJldHVybiAoU0lNUExJRllfVE9MRVJBTkNFICogcmVzb2x1dGlvbikgLyBwaXhlbFJhdGlvO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIEJ1aWxkZXIgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyQ2lyY2xlR2VvbWV0cnkoXG4gIGJ1aWxkZXJHcm91cCxcbiAgZ2VvbWV0cnksXG4gIHN0eWxlLFxuICBmZWF0dXJlLFxuICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbikge1xuICBjb25zdCBmaWxsU3R5bGUgPSBzdHlsZS5nZXRGaWxsKCk7XG4gIGNvbnN0IHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gIGlmIChmaWxsU3R5bGUgfHwgc3Ryb2tlU3R5bGUpIHtcbiAgICBjb25zdCBjaXJjbGVSZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgJ0NpcmNsZScpO1xuICAgIGNpcmNsZVJlcGxheS5zZXRGaWxsU3Ryb2tlU3R5bGUoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSk7XG4gICAgY2lyY2xlUmVwbGF5LmRyYXdDaXJjbGUoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG4gIGNvbnN0IHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgY29uc3QgdGV4dFJlcGxheSA9IChkZWNsdXR0ZXJCdWlsZGVyR3JvdXAgfHwgYnVpbGRlckdyb3VwKS5nZXRCdWlsZGVyKFxuICAgICAgc3R5bGUuZ2V0WkluZGV4KCksXG4gICAgICAnVGV4dCdcbiAgICApO1xuICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IHJlcGxheUdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbdHJhbnNmb3JtXSBUcmFuc2Zvcm0gZnJvbSB1c2VyIHRvIHZpZXcgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHN0eWxlIGlzIGxvYWRpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJGZWF0dXJlKFxuICByZXBsYXlHcm91cCxcbiAgZmVhdHVyZSxcbiAgc3R5bGUsXG4gIHNxdWFyZWRUb2xlcmFuY2UsXG4gIGxpc3RlbmVyLFxuICB0cmFuc2Zvcm0sXG4gIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuKSB7XG4gIGxldCBsb2FkaW5nID0gZmFsc2U7XG4gIGNvbnN0IGltYWdlU3R5bGUgPSBzdHlsZS5nZXRJbWFnZSgpO1xuICBpZiAoaW1hZ2VTdHlsZSkge1xuICAgIGNvbnN0IGltYWdlU3RhdGUgPSBpbWFnZVN0eWxlLmdldEltYWdlU3RhdGUoKTtcbiAgICBpZiAoaW1hZ2VTdGF0ZSA9PSBJbWFnZVN0YXRlLkxPQURFRCB8fCBpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgIGltYWdlU3R5bGUudW5saXN0ZW5JbWFnZUNoYW5nZShsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuSURMRSkge1xuICAgICAgICBpbWFnZVN0eWxlLmxvYWQoKTtcbiAgICAgIH1cbiAgICAgIGltYWdlU3R5bGUubGlzdGVuSW1hZ2VDaGFuZ2UobGlzdGVuZXIpO1xuICAgICAgbG9hZGluZyA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJlbmRlckZlYXR1cmVJbnRlcm5hbChcbiAgICByZXBsYXlHcm91cCxcbiAgICBmZWF0dXJlLFxuICAgIHN0eWxlLFxuICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgdHJhbnNmb3JtLFxuICAgIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuICApO1xuXG4gIHJldHVybiBsb2FkaW5nO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gcmVwbGF5R3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IFt0cmFuc2Zvcm1dIE9wdGlvbmFsIHRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJGZWF0dXJlSW50ZXJuYWwoXG4gIHJlcGxheUdyb3VwLFxuICBmZWF0dXJlLFxuICBzdHlsZSxcbiAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgdHJhbnNmb3JtLFxuICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbikge1xuICBjb25zdCBnZW9tZXRyeSA9IHN0eWxlLmdldEdlb21ldHJ5RnVuY3Rpb24oKShmZWF0dXJlKTtcbiAgaWYgKCFnZW9tZXRyeSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBzaW1wbGlmaWVkR2VvbWV0cnkgPSBnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKFxuICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgdHJhbnNmb3JtXG4gICk7XG4gIGNvbnN0IHJlbmRlcmVyID0gc3R5bGUuZ2V0UmVuZGVyZXIoKTtcbiAgaWYgKHJlbmRlcmVyKSB7XG4gICAgcmVuZGVyR2VvbWV0cnkocmVwbGF5R3JvdXAsIHNpbXBsaWZpZWRHZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGdlb21ldHJ5UmVuZGVyZXIgPSBHRU9NRVRSWV9SRU5ERVJFUlNbc2ltcGxpZmllZEdlb21ldHJ5LmdldFR5cGUoKV07XG4gICAgZ2VvbWV0cnlSZW5kZXJlcihcbiAgICAgIHJlcGxheUdyb3VwLFxuICAgICAgc2ltcGxpZmllZEdlb21ldHJ5LFxuICAgICAgc3R5bGUsXG4gICAgICBmZWF0dXJlLFxuICAgICAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gcmVwbGF5R3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckdlb21ldHJ5KHJlcGxheUdyb3VwLCBnZW9tZXRyeSwgc3R5bGUsIGZlYXR1cmUpIHtcbiAgaWYgKGdlb21ldHJ5LmdldFR5cGUoKSA9PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuICAgIGNvbnN0IGdlb21ldHJpZXMgPVxuICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGdlb21ldHJ5XG4gICAgICApLmdldEdlb21ldHJpZXMoKTtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHJlbmRlckdlb21ldHJ5KHJlcGxheUdyb3VwLCBnZW9tZXRyaWVzW2ldLCBzdHlsZSwgZmVhdHVyZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCByZXBsYXkgPSByZXBsYXlHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCAnRGVmYXVsdCcpO1xuICByZXBsYXkuZHJhd0N1c3RvbShcbiAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KSxcbiAgICBmZWF0dXJlLFxuICAgIHN0eWxlLmdldFJlbmRlcmVyKCksXG4gICAgc3R5bGUuZ2V0SGl0RGV0ZWN0aW9uUmVuZGVyZXIoKVxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gcmVwbGF5R3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5KFxuICByZXBsYXlHcm91cCxcbiAgZ2VvbWV0cnksXG4gIHN0eWxlLFxuICBmZWF0dXJlLFxuICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbikge1xuICBjb25zdCBnZW9tZXRyaWVzID0gZ2VvbWV0cnkuZ2V0R2VvbWV0cmllc0FycmF5KCk7XG4gIGxldCBpLCBpaTtcbiAgZm9yIChpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBnZW9tZXRyeVJlbmRlcmVyID0gR0VPTUVUUllfUkVOREVSRVJTW2dlb21ldHJpZXNbaV0uZ2V0VHlwZSgpXTtcbiAgICBnZW9tZXRyeVJlbmRlcmVyKFxuICAgICAgcmVwbGF5R3JvdXAsXG4gICAgICBnZW9tZXRyaWVzW2ldLFxuICAgICAgc3R5bGUsXG4gICAgICBmZWF0dXJlLFxuICAgICAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyTGluZVN0cmluZ0dlb21ldHJ5KFxuICBidWlsZGVyR3JvdXAsXG4gIGdlb21ldHJ5LFxuICBzdHlsZSxcbiAgZmVhdHVyZSxcbiAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4pIHtcbiAgY29uc3Qgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgaWYgKHN0cm9rZVN0eWxlKSB7XG4gICAgY29uc3QgbGluZVN0cmluZ1JlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKFxuICAgICAgc3R5bGUuZ2V0WkluZGV4KCksXG4gICAgICAnTGluZVN0cmluZydcbiAgICApO1xuICAgIGxpbmVTdHJpbmdSZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKG51bGwsIHN0cm9rZVN0eWxlKTtcbiAgICBsaW5lU3RyaW5nUmVwbGF5LmRyYXdMaW5lU3RyaW5nKGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxuICBjb25zdCB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgIGNvbnN0IHRleHRSZXBsYXkgPSAoZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihcbiAgICAgIHN0eWxlLmdldFpJbmRleCgpLFxuICAgICAgJ1RleHQnXG4gICAgKTtcbiAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlck11bHRpTGluZVN0cmluZ0dlb21ldHJ5KFxuICBidWlsZGVyR3JvdXAsXG4gIGdlb21ldHJ5LFxuICBzdHlsZSxcbiAgZmVhdHVyZSxcbiAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4pIHtcbiAgY29uc3Qgc3Ryb2tlU3R5bGUgPSBzdHlsZS5nZXRTdHJva2UoKTtcbiAgaWYgKHN0cm9rZVN0eWxlKSB7XG4gICAgY29uc3QgbGluZVN0cmluZ1JlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKFxuICAgICAgc3R5bGUuZ2V0WkluZGV4KCksXG4gICAgICAnTGluZVN0cmluZydcbiAgICApO1xuICAgIGxpbmVTdHJpbmdSZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKG51bGwsIHN0cm9rZVN0eWxlKTtcbiAgICBsaW5lU3RyaW5nUmVwbGF5LmRyYXdNdWx0aUxpbmVTdHJpbmcoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG4gIGNvbnN0IHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgY29uc3QgdGV4dFJlcGxheSA9IChkZWNsdXR0ZXJCdWlsZGVyR3JvdXAgfHwgYnVpbGRlckdyb3VwKS5nZXRCdWlsZGVyKFxuICAgICAgc3R5bGUuZ2V0WkluZGV4KCksXG4gICAgICAnVGV4dCdcbiAgICApO1xuICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyTXVsdGlQb2x5Z29uR2VvbWV0cnkoXG4gIGJ1aWxkZXJHcm91cCxcbiAgZ2VvbWV0cnksXG4gIHN0eWxlLFxuICBmZWF0dXJlLFxuICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbikge1xuICBjb25zdCBmaWxsU3R5bGUgPSBzdHlsZS5nZXRGaWxsKCk7XG4gIGNvbnN0IHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gIGlmIChzdHJva2VTdHlsZSB8fCBmaWxsU3R5bGUpIHtcbiAgICBjb25zdCBwb2x5Z29uUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksICdQb2x5Z29uJyk7XG4gICAgcG9seWdvblJlcGxheS5zZXRGaWxsU3Ryb2tlU3R5bGUoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSk7XG4gICAgcG9seWdvblJlcGxheS5kcmF3TXVsdGlQb2x5Z29uKGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxuICBjb25zdCB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgIGNvbnN0IHRleHRSZXBsYXkgPSAoZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihcbiAgICAgIHN0eWxlLmdldFpJbmRleCgpLFxuICAgICAgJ1RleHQnXG4gICAgKTtcbiAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyUG9pbnRHZW9tZXRyeShcbiAgYnVpbGRlckdyb3VwLFxuICBnZW9tZXRyeSxcbiAgc3R5bGUsXG4gIGZlYXR1cmUsXG4gIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuKSB7XG4gIGNvbnN0IGltYWdlU3R5bGUgPSBzdHlsZS5nZXRJbWFnZSgpO1xuICBjb25zdCB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fSAqL1xuICBsZXQgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dDtcbiAgaWYgKGltYWdlU3R5bGUpIHtcbiAgICBpZiAoaW1hZ2VTdHlsZS5nZXRJbWFnZVN0YXRlKCkgIT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGltYWdlQnVpbGRlckdyb3VwID0gYnVpbGRlckdyb3VwO1xuICAgIGlmIChkZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICAgIGNvbnN0IGRlY2x1dHRlck1vZGUgPSBpbWFnZVN0eWxlLmdldERlY2x1dHRlck1vZGUoKTtcbiAgICAgIGlmIChkZWNsdXR0ZXJNb2RlICE9PSAnbm9uZScpIHtcbiAgICAgICAgaW1hZ2VCdWlsZGVyR3JvdXAgPSBkZWNsdXR0ZXJCdWlsZGVyR3JvdXA7XG4gICAgICAgIGlmIChkZWNsdXR0ZXJNb2RlID09PSAnb2JzdGFjbGUnKSB7XG4gICAgICAgICAgLy8gZHJhdyBpbiBub24tZGVjbHV0dGVyIGdyb3VwOlxuICAgICAgICAgIGNvbnN0IGltYWdlUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoXG4gICAgICAgICAgICBzdHlsZS5nZXRaSW5kZXgoKSxcbiAgICAgICAgICAgICdJbWFnZSdcbiAgICAgICAgICApO1xuICAgICAgICAgIGltYWdlUmVwbGF5LnNldEltYWdlU3R5bGUoaW1hZ2VTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgICAgICAgaW1hZ2VSZXBsYXkuZHJhd1BvaW50KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgICAgICAgIGRlY2x1dHRlckltYWdlV2l0aFRleHQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpbWFnZVJlcGxheSA9IGltYWdlQnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoXG4gICAgICBzdHlsZS5nZXRaSW5kZXgoKSxcbiAgICAgICdJbWFnZSdcbiAgICApO1xuICAgIGltYWdlUmVwbGF5LnNldEltYWdlU3R5bGUoaW1hZ2VTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgaW1hZ2VSZXBsYXkuZHJhd1BvaW50KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxuICBpZiAodGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkpIHtcbiAgICBsZXQgdGV4dEJ1aWxkZXJHcm91cCA9IGJ1aWxkZXJHcm91cDtcbiAgICBpZiAoZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgICB0ZXh0QnVpbGRlckdyb3VwID0gZGVjbHV0dGVyQnVpbGRlckdyb3VwO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0UmVwbGF5ID0gdGV4dEJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCAnVGV4dCcpO1xuICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlck11bHRpUG9pbnRHZW9tZXRyeShcbiAgYnVpbGRlckdyb3VwLFxuICBnZW9tZXRyeSxcbiAgc3R5bGUsXG4gIGZlYXR1cmUsXG4gIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuKSB7XG4gIGNvbnN0IGltYWdlU3R5bGUgPSBzdHlsZS5nZXRJbWFnZSgpO1xuICBjb25zdCB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy5qc1wiKS5EZWNsdXR0ZXJJbWFnZVdpdGhUZXh0fSAqL1xuICBsZXQgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dDtcbiAgaWYgKGltYWdlU3R5bGUpIHtcbiAgICBpZiAoaW1hZ2VTdHlsZS5nZXRJbWFnZVN0YXRlKCkgIT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGltYWdlQnVpbGRlckdyb3VwID0gYnVpbGRlckdyb3VwO1xuICAgIGlmIChkZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICAgIGNvbnN0IGRlY2x1dHRlck1vZGUgPSBpbWFnZVN0eWxlLmdldERlY2x1dHRlck1vZGUoKTtcbiAgICAgIGlmIChkZWNsdXR0ZXJNb2RlICE9PSAnbm9uZScpIHtcbiAgICAgICAgaW1hZ2VCdWlsZGVyR3JvdXAgPSBkZWNsdXR0ZXJCdWlsZGVyR3JvdXA7XG4gICAgICAgIGlmIChkZWNsdXR0ZXJNb2RlID09PSAnb2JzdGFjbGUnKSB7XG4gICAgICAgICAgLy8gZHJhdyBpbiBub24tZGVjbHV0dGVyIGdyb3VwOlxuICAgICAgICAgIGNvbnN0IGltYWdlUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoXG4gICAgICAgICAgICBzdHlsZS5nZXRaSW5kZXgoKSxcbiAgICAgICAgICAgICdJbWFnZSdcbiAgICAgICAgICApO1xuICAgICAgICAgIGltYWdlUmVwbGF5LnNldEltYWdlU3R5bGUoaW1hZ2VTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgICAgICAgaW1hZ2VSZXBsYXkuZHJhd011bHRpUG9pbnQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICAgICAgICB9IGVsc2UgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgICAgICAgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCA9IHt9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGltYWdlUmVwbGF5ID0gaW1hZ2VCdWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihcbiAgICAgIHN0eWxlLmdldFpJbmRleCgpLFxuICAgICAgJ0ltYWdlJ1xuICAgICk7XG4gICAgaW1hZ2VSZXBsYXkuc2V0SW1hZ2VTdHlsZShpbWFnZVN0eWxlLCBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0KTtcbiAgICBpbWFnZVJlcGxheS5kcmF3TXVsdGlQb2ludChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbiAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgbGV0IHRleHRCdWlsZGVyR3JvdXAgPSBidWlsZGVyR3JvdXA7XG4gICAgaWYgKGRlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgICAgdGV4dEJ1aWxkZXJHcm91cCA9IGRlY2x1dHRlckJ1aWxkZXJHcm91cDtcbiAgICB9XG4gICAgY29uc3QgdGV4dFJlcGxheSA9IHRleHRCdWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgJ1RleHQnKTtcbiAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUsIGRlY2x1dHRlckltYWdlV2l0aFRleHQpO1xuICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJQb2x5Z29uR2VvbWV0cnkoXG4gIGJ1aWxkZXJHcm91cCxcbiAgZ2VvbWV0cnksXG4gIHN0eWxlLFxuICBmZWF0dXJlLFxuICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbikge1xuICBjb25zdCBmaWxsU3R5bGUgPSBzdHlsZS5nZXRGaWxsKCk7XG4gIGNvbnN0IHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gIGlmIChmaWxsU3R5bGUgfHwgc3Ryb2tlU3R5bGUpIHtcbiAgICBjb25zdCBwb2x5Z29uUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksICdQb2x5Z29uJyk7XG4gICAgcG9seWdvblJlcGxheS5zZXRGaWxsU3Ryb2tlU3R5bGUoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSk7XG4gICAgcG9seWdvblJlcGxheS5kcmF3UG9seWdvbihnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbiAgY29uc3QgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICBpZiAodGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkpIHtcbiAgICBjb25zdCB0ZXh0UmVwbGF5ID0gKGRlY2x1dHRlckJ1aWxkZXJHcm91cCB8fCBidWlsZGVyR3JvdXApLmdldEJ1aWxkZXIoXG4gICAgICBzdHlsZS5nZXRaSW5kZXgoKSxcbiAgICAgICdUZXh0J1xuICAgICk7XG4gICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICB0ZXh0UmVwbGF5LmRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL2NhbnZhcy9WZWN0b3JUaWxlTGF5ZXJcbiAqL1xuaW1wb3J0IENhbnZhc0J1aWxkZXJHcm91cCBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qcyc7XG5pbXBvcnQgQ2FudmFzRXhlY3V0b3JHcm91cCBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXAuanMnO1xuaW1wb3J0IENhbnZhc1RpbGVMYXllclJlbmRlcmVyIGZyb20gJy4vVGlsZUxheWVyLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCBWaWV3SGludCBmcm9tICcuLi8uLi9WaWV3SGludC5qcyc7XG5pbXBvcnQge1xuICBISVRfREVURUNUX1JFU09MVVRJT04sXG4gIGNyZWF0ZUhpdERldGVjdGlvbkltYWdlRGF0YSxcbiAgaGl0RGV0ZWN0LFxufSBmcm9tICcuLi8uLi9yZW5kZXIvY2FudmFzL2hpdGRldGVjdC5qcyc7XG5pbXBvcnQge1xuICBhcHBseSBhcyBhcHBseVRyYW5zZm9ybSxcbiAgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSxcbiAgbXVsdGlwbHksXG4gIHJlc2V0IGFzIHJlc2V0VHJhbnNmb3JtLFxuICBzY2FsZSxcbiAgc2NhbGUgYXMgc2NhbGVUcmFuc2Zvcm0sXG4gIHRyYW5zbGF0ZSBhcyB0cmFuc2xhdGVUcmFuc2Zvcm0sXG59IGZyb20gJy4uLy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQge1xuICBib3VuZGluZ0V4dGVudCxcbiAgYnVmZmVyLFxuICBjb250YWluc0V4dGVudCxcbiAgZXF1YWxzLFxuICBnZXRJbnRlcnNlY3Rpb24sXG4gIGdldFRvcExlZnQsXG4gIGludGVyc2VjdHMsXG59IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge1xuICBnZXRTcXVhcmVkVG9sZXJhbmNlIGFzIGdldFNxdWFyZWRSZW5kZXJUb2xlcmFuY2UsXG4gIHJlbmRlckZlYXR1cmUsXG59IGZyb20gJy4uL3ZlY3Rvci5qcyc7XG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vLi4vdXRpbC5qcyc7XG5pbXBvcnQge3RvU2l6ZX0gZnJvbSAnLi4vLi4vc2l6ZS5qcyc7XG5pbXBvcnQge3dyYXBYfSBmcm9tICcuLi8uLi9jb29yZGluYXRlLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIEFycmF5PGltcG9ydChcIi4uLy4uL3JlbmRlci9jYW52YXMuanNcIikuQnVpbGRlclR5cGU+Pn1cbiAqL1xuY29uc3QgSU1BR0VfUkVQTEFZUyA9IHtcbiAgJ2ltYWdlJzogWydQb2x5Z29uJywgJ0NpcmNsZScsICdMaW5lU3RyaW5nJywgJ0ltYWdlJywgJ1RleHQnXSxcbiAgJ2h5YnJpZCc6IFsnUG9seWdvbicsICdMaW5lU3RyaW5nJ10sXG4gICd2ZWN0b3InOiBbXSxcbn07XG5cbi8qKlxuICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBBcnJheTxpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzLmpzXCIpLkJ1aWxkZXJUeXBlPj59XG4gKi9cbmNvbnN0IFZFQ1RPUl9SRVBMQVlTID0ge1xuICAnaHlicmlkJzogWydJbWFnZScsICdUZXh0JywgJ0RlZmF1bHQnXSxcbiAgJ3ZlY3Rvcic6IFsnUG9seWdvbicsICdDaXJjbGUnLCAnTGluZVN0cmluZycsICdJbWFnZScsICdUZXh0JywgJ0RlZmF1bHQnXSxcbn07XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2FudmFzIHJlbmRlcmVyIGZvciB2ZWN0b3IgdGlsZSBsYXllcnMuXG4gKiBAYXBpXG4gKiBAZXh0ZW5kcyB7Q2FudmFzVGlsZUxheWVyUmVuZGVyZXI8aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0Pn1cbiAqL1xuY2xhc3MgQ2FudmFzVmVjdG9yVGlsZUxheWVyUmVuZGVyZXIgZXh0ZW5kcyBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2xheWVyL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gbGF5ZXIgVmVjdG9yVGlsZSBsYXllci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGxheWVyKSB7XG4gICAgc3VwZXIobGF5ZXIpO1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy5ib3VuZEhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfID0gdGhpcy5oYW5kbGVTdHlsZUltYWdlQ2hhbmdlXy5iaW5kKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRMYXllclJldmlzaW9uXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybVwiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFJvdGF0aW9uXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy50bXBUcmFuc2Zvcm1fID0gY3JlYXRlVHJhbnNmb3JtKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9WZWN0b3JSZW5kZXJUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai9Qcm9qZWN0aW9uXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9IFRpbGUgbmVlZHMgdG8gYmUgcmVuZGVyZWQuXG4gICAqL1xuICBwcmVwYXJlVGlsZSh0aWxlLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgbGV0IHJlbmRlcjtcbiAgICBjb25zdCBzdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICBpZiAoc3RhdGUgPT09IFRpbGVTdGF0ZS5MT0FERUQgfHwgc3RhdGUgPT09IFRpbGVTdGF0ZS5FUlJPUikge1xuICAgICAgdGhpcy51cGRhdGVFeGVjdXRvckdyb3VwXyh0aWxlLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgIGlmICh0aGlzLnRpbGVJbWFnZU5lZWRzUmVuZGVyXyh0aWxlKSkge1xuICAgICAgICByZW5kZXIgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGUuXG4gICAqL1xuICBnZXRUaWxlKHosIHgsIHksIGZyYW1lU3RhdGUpIHtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgIGNvbnN0IHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSB2aWV3U3RhdGUucmVzb2x1dGlvbjtcbiAgICBjb25zdCBwcm9qZWN0aW9uID0gdmlld1N0YXRlLnByb2plY3Rpb247XG4gICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgY29uc3QgdGlsZSA9IGxheWVyLmdldFNvdXJjZSgpLmdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgY29uc3Qgdmlld0hpbnRzID0gZnJhbWVTdGF0ZS52aWV3SGludHM7XG4gICAgY29uc3QgaGlmaSA9ICEoXG4gICAgICB2aWV3SGludHNbVmlld0hpbnQuQU5JTUFUSU5HXSB8fCB2aWV3SGludHNbVmlld0hpbnQuSU5URVJBQ1RJTkddXG4gICAgKTtcbiAgICBpZiAoaGlmaSB8fCAhdGlsZS53YW50ZWRSZXNvbHV0aW9uKSB7XG4gICAgICB0aWxlLndhbnRlZFJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXIgPSB0aGlzLnByZXBhcmVUaWxlKHRpbGUsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgIGlmIChcbiAgICAgIHJlbmRlciAmJlxuICAgICAgKGhpZmkgfHwgRGF0ZS5ub3coKSAtIGZyYW1lU3RhdGUudGltZSA8IDgpICYmXG4gICAgICBsYXllci5nZXRSZW5kZXJNb2RlKCkgIT09ICd2ZWN0b3InXG4gICAgKSB7XG4gICAgICB0aGlzLnJlbmRlclRpbGVJbWFnZV8odGlsZSwgZnJhbWVTdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5nZXRUaWxlKHosIHgsIHksIGZyYW1lU3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9yUmVuZGVyVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRpbGUgaXMgZHJhd2FibGUuXG4gICAqL1xuICBpc0RyYXdhYmxlVGlsZSh0aWxlKSB7XG4gICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgcmV0dXJuIChcbiAgICAgIHN1cGVyLmlzRHJhd2FibGVUaWxlKHRpbGUpICYmXG4gICAgICAobGF5ZXIuZ2V0UmVuZGVyTW9kZSgpID09PSAndmVjdG9yJ1xuICAgICAgICA/IGdldFVpZChsYXllcikgaW4gdGlsZS5leGVjdXRvckdyb3Vwc1xuICAgICAgICA6IHRpbGUuaGFzQ29udGV4dChsYXllcikpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgZ2V0VGlsZUltYWdlKHRpbGUpIHtcbiAgICByZXR1cm4gdGlsZS5nZXRJbWFnZSh0aGlzLmdldExheWVyKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB3aGV0aGVyIHJlbmRlciBzaG91bGQgYmUgY2FsbGVkLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBMYXllciBpcyByZWFkeSB0byBiZSByZW5kZXJlZC5cbiAgICovXG4gIHByZXBhcmVGcmFtZShmcmFtZVN0YXRlKSB7XG4gICAgY29uc3QgbGF5ZXJSZXZpc2lvbiA9IHRoaXMuZ2V0TGF5ZXIoKS5nZXRSZXZpc2lvbigpO1xuICAgIGlmICh0aGlzLnJlbmRlcmVkTGF5ZXJSZXZpc2lvbl8gIT09IGxheWVyUmV2aXNpb24pIHtcbiAgICAgIHRoaXMucmVuZGVyZWRMYXllclJldmlzaW9uXyA9IGxheWVyUmV2aXNpb247XG4gICAgICB0aGlzLnJlbmRlcmVkVGlsZXMubGVuZ3RoID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLnByZXBhcmVGcmFtZShmcmFtZVN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1ZlY3RvclJlbmRlclRpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdXBkYXRlRXhlY3V0b3JHcm91cF8odGlsZSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIGNvbnN0IGxheWVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgIHRoaXMuZ2V0TGF5ZXIoKVxuICAgICk7XG4gICAgY29uc3QgcmV2aXNpb24gPSBsYXllci5nZXRSZXZpc2lvbigpO1xuICAgIGNvbnN0IHJlbmRlck9yZGVyID0gbGF5ZXIuZ2V0UmVuZGVyT3JkZXIoKSB8fCBudWxsO1xuXG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHRpbGUud2FudGVkUmVzb2x1dGlvbjtcbiAgICBjb25zdCBidWlsZGVyU3RhdGUgPSB0aWxlLmdldFJlcGxheVN0YXRlKGxheWVyKTtcbiAgICBpZiAoXG4gICAgICAhYnVpbGRlclN0YXRlLmRpcnR5ICYmXG4gICAgICBidWlsZGVyU3RhdGUucmVuZGVyZWRSZXNvbHV0aW9uID09PSByZXNvbHV0aW9uICYmXG4gICAgICBidWlsZGVyU3RhdGUucmVuZGVyZWRSZXZpc2lvbiA9PSByZXZpc2lvbiAmJlxuICAgICAgYnVpbGRlclN0YXRlLnJlbmRlcmVkUmVuZGVyT3JkZXIgPT0gcmVuZGVyT3JkZXJcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzb3VyY2UgPSBsYXllci5nZXRTb3VyY2UoKTtcbiAgICBjb25zdCBkZWNsdXR0ZXIgPSBsYXllci5nZXREZWNsdXR0ZXIoKTtcbiAgICBjb25zdCBzb3VyY2VUaWxlR3JpZCA9IHNvdXJjZS5nZXRUaWxlR3JpZCgpO1xuICAgIGNvbnN0IHRpbGVHcmlkID0gc291cmNlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBjb25zdCB0aWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGUud3JhcHBlZFRpbGVDb29yZCk7XG5cbiAgICBjb25zdCBzb3VyY2VUaWxlcyA9IHNvdXJjZS5nZXRTb3VyY2VUaWxlcyhwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCB0aWxlKTtcbiAgICBjb25zdCBsYXllclVpZCA9IGdldFVpZChsYXllcik7XG4gICAgZGVsZXRlIHRpbGUuaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhW2xheWVyVWlkXTtcbiAgICB0aWxlLmV4ZWN1dG9yR3JvdXBzW2xheWVyVWlkXSA9IFtdO1xuICAgIGlmIChkZWNsdXR0ZXIpIHtcbiAgICAgIHRpbGUuZGVjbHV0dGVyRXhlY3V0b3JHcm91cHNbbGF5ZXJVaWRdID0gW107XG4gICAgfVxuICAgIGJ1aWxkZXJTdGF0ZS5kaXJ0eSA9IGZhbHNlO1xuICAgIGZvciAobGV0IHQgPSAwLCB0dCA9IHNvdXJjZVRpbGVzLmxlbmd0aDsgdCA8IHR0OyArK3QpIHtcbiAgICAgIGNvbnN0IHNvdXJjZVRpbGUgPSBzb3VyY2VUaWxlc1t0XTtcbiAgICAgIGlmIChzb3VyY2VUaWxlLmdldFN0YXRlKCkgIT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNvdXJjZVRpbGVDb29yZCA9IHNvdXJjZVRpbGUudGlsZUNvb3JkO1xuICAgICAgY29uc3Qgc291cmNlVGlsZUV4dGVudCA9XG4gICAgICAgIHNvdXJjZVRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudChzb3VyY2VUaWxlQ29vcmQpO1xuICAgICAgY29uc3Qgc2hhcmVkRXh0ZW50ID0gZ2V0SW50ZXJzZWN0aW9uKHRpbGVFeHRlbnQsIHNvdXJjZVRpbGVFeHRlbnQpO1xuICAgICAgY29uc3QgYnVpbGRlckV4dGVudCA9IGJ1ZmZlcihcbiAgICAgICAgc2hhcmVkRXh0ZW50LFxuICAgICAgICBsYXllci5nZXRSZW5kZXJCdWZmZXIoKSAqIHJlc29sdXRpb24sXG4gICAgICAgIHRoaXMudG1wRXh0ZW50XG4gICAgICApO1xuICAgICAgY29uc3QgYnVmZmVyZWRFeHRlbnQgPSBlcXVhbHMoc291cmNlVGlsZUV4dGVudCwgc2hhcmVkRXh0ZW50KVxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBidWlsZGVyRXh0ZW50O1xuICAgICAgY29uc3QgYnVpbGRlckdyb3VwID0gbmV3IENhbnZhc0J1aWxkZXJHcm91cChcbiAgICAgICAgMCxcbiAgICAgICAgYnVpbGRlckV4dGVudCxcbiAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgcGl4ZWxSYXRpb1xuICAgICAgKTtcbiAgICAgIGNvbnN0IGRlY2x1dHRlckJ1aWxkZXJHcm91cCA9IGRlY2x1dHRlclxuICAgICAgICA/IG5ldyBDYW52YXNCdWlsZGVyR3JvdXAoMCwgc2hhcmVkRXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IHNxdWFyZWRUb2xlcmFuY2UgPSBnZXRTcXVhcmVkUmVuZGVyVG9sZXJhbmNlKFxuICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICBwaXhlbFJhdGlvXG4gICAgICApO1xuXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAgICogQHRoaXMge0NhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyfVxuICAgICAgICovXG4gICAgICBjb25zdCByZW5kZXIgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICBsZXQgc3R5bGVzO1xuICAgICAgICBjb25zdCBzdHlsZUZ1bmN0aW9uID1cbiAgICAgICAgICBmZWF0dXJlLmdldFN0eWxlRnVuY3Rpb24oKSB8fCBsYXllci5nZXRTdHlsZUZ1bmN0aW9uKCk7XG4gICAgICAgIGlmIChzdHlsZUZ1bmN0aW9uKSB7XG4gICAgICAgICAgc3R5bGVzID0gc3R5bGVGdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGVzKSB7XG4gICAgICAgICAgY29uc3QgZGlydHkgPSB0aGlzLnJlbmRlckZlYXR1cmUoXG4gICAgICAgICAgICBmZWF0dXJlLFxuICAgICAgICAgICAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICAgICAgICAgIHN0eWxlcyxcbiAgICAgICAgICAgIGJ1aWxkZXJHcm91cCxcbiAgICAgICAgICAgIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnVpbGRlclN0YXRlLmRpcnR5ID0gYnVpbGRlclN0YXRlLmRpcnR5IHx8IGRpcnR5O1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBmZWF0dXJlcyA9IHNvdXJjZVRpbGUuZ2V0RmVhdHVyZXMoKTtcbiAgICAgIGlmIChyZW5kZXJPcmRlciAmJiByZW5kZXJPcmRlciAhPT0gYnVpbGRlclN0YXRlLnJlbmRlcmVkUmVuZGVyT3JkZXIpIHtcbiAgICAgICAgZmVhdHVyZXMuc29ydChyZW5kZXJPcmRlcik7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBmZWF0dXJlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGZlYXR1cmUgPSBmZWF0dXJlc1tpXTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFidWZmZXJlZEV4dGVudCB8fFxuICAgICAgICAgIGludGVyc2VjdHMoYnVmZmVyZWRFeHRlbnQsIGZlYXR1cmUuZ2V0R2VvbWV0cnkoKS5nZXRFeHRlbnQoKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmVuZGVyLmNhbGwodGhpcywgZmVhdHVyZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGV4ZWN1dG9yR3JvdXBJbnN0cnVjdGlvbnMgPSBidWlsZGVyR3JvdXAuZmluaXNoKCk7XG4gICAgICAvLyBubyBuZWVkIHRvIGNsaXAgd2hlbiB0aGUgcmVuZGVyIHRpbGUgaXMgY292ZXJlZCBieSBhIHNpbmdsZSBzb3VyY2UgdGlsZVxuICAgICAgY29uc3QgcmVwbGF5RXh0ZW50ID1cbiAgICAgICAgbGF5ZXIuZ2V0UmVuZGVyTW9kZSgpICE9PSAndmVjdG9yJyAmJlxuICAgICAgICBkZWNsdXR0ZXIgJiZcbiAgICAgICAgc291cmNlVGlsZXMubGVuZ3RoID09PSAxXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiBzaGFyZWRFeHRlbnQ7XG4gICAgICBjb25zdCByZW5kZXJpbmdSZXBsYXlHcm91cCA9IG5ldyBDYW52YXNFeGVjdXRvckdyb3VwKFxuICAgICAgICByZXBsYXlFeHRlbnQsXG4gICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgIHBpeGVsUmF0aW8sXG4gICAgICAgIHNvdXJjZS5nZXRPdmVybGFwcygpLFxuICAgICAgICBleGVjdXRvckdyb3VwSW5zdHJ1Y3Rpb25zLFxuICAgICAgICBsYXllci5nZXRSZW5kZXJCdWZmZXIoKVxuICAgICAgKTtcbiAgICAgIHRpbGUuZXhlY3V0b3JHcm91cHNbbGF5ZXJVaWRdLnB1c2gocmVuZGVyaW5nUmVwbGF5R3JvdXApO1xuICAgICAgaWYgKGRlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgICAgICBjb25zdCBkZWNsdXR0ZXJFeGVjdXRvckdyb3VwID0gbmV3IENhbnZhc0V4ZWN1dG9yR3JvdXAoXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICAgIHBpeGVsUmF0aW8sXG4gICAgICAgICAgc291cmNlLmdldE92ZXJsYXBzKCksXG4gICAgICAgICAgZGVjbHV0dGVyQnVpbGRlckdyb3VwLmZpbmlzaCgpLFxuICAgICAgICAgIGxheWVyLmdldFJlbmRlckJ1ZmZlcigpXG4gICAgICAgICk7XG4gICAgICAgIHRpbGUuZGVjbHV0dGVyRXhlY3V0b3JHcm91cHNbbGF5ZXJVaWRdLnB1c2goZGVjbHV0dGVyRXhlY3V0b3JHcm91cCk7XG4gICAgICB9XG4gICAgfVxuICAgIGJ1aWxkZXJTdGF0ZS5yZW5kZXJlZFJldmlzaW9uID0gcmV2aXNpb247XG4gICAgYnVpbGRlclN0YXRlLnJlbmRlcmVkUmVuZGVyT3JkZXIgPSByZW5kZXJPcmRlcjtcbiAgICBidWlsZGVyU3RhdGUucmVuZGVyZWRSZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3ZlY3Rvci5qc1wiKS5GZWF0dXJlQ2FsbGJhY2s8VD59IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkhpdE1hdGNoPFQ+Pn0gbWF0Y2hlcyBUaGUgaGl0IGRldGVjdGVkIG1hdGNoZXMgd2l0aCB0b2xlcmFuY2UuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqL1xuICBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShcbiAgICBjb29yZGluYXRlLFxuICAgIGZyYW1lU3RhdGUsXG4gICAgaGl0VG9sZXJhbmNlLFxuICAgIGNhbGxiYWNrLFxuICAgIG1hdGNoZXNcbiAgKSB7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgY29uc3Qgcm90YXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yb3RhdGlvbjtcbiAgICBoaXRUb2xlcmFuY2UgPSBoaXRUb2xlcmFuY2UgPT0gdW5kZWZpbmVkID8gMCA6IGhpdFRvbGVyYW5jZTtcbiAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICBjb25zdCBzb3VyY2UgPSBsYXllci5nZXRTb3VyY2UoKTtcbiAgICBjb25zdCB0aWxlR3JpZCA9IHNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24oXG4gICAgICBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5wcm9qZWN0aW9uXG4gICAgKTtcblxuICAgIGNvbnN0IGhpdEV4dGVudCA9IGJvdW5kaW5nRXh0ZW50KFtjb29yZGluYXRlXSk7XG4gICAgYnVmZmVyKGhpdEV4dGVudCwgcmVzb2x1dGlvbiAqIGhpdFRvbGVyYW5jZSwgaGl0RXh0ZW50KTtcblxuICAgIC8qKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL01hcC5qc1wiKS5IaXRNYXRjaDxUPnx0cnVlPn0gKi9cbiAgICBjb25zdCBmZWF0dXJlcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZVNxIFRoZSBzcXVhcmVkIGRpc3RhbmNlIHRvIHRoZSBjbGljayBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqL1xuICAgIGNvbnN0IGZlYXR1cmVDYWxsYmFjayA9IGZ1bmN0aW9uIChmZWF0dXJlLCBnZW9tZXRyeSwgZGlzdGFuY2VTcSkge1xuICAgICAgbGV0IGtleSA9IGZlYXR1cmUuZ2V0SWQoKTtcbiAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXkgPSBnZXRVaWQoZmVhdHVyZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBtYXRjaCA9IGZlYXR1cmVzW2tleV07XG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIGlmIChkaXN0YW5jZVNxID09PSAwKSB7XG4gICAgICAgICAgZmVhdHVyZXNba2V5XSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGZlYXR1cmUsIGxheWVyLCBnZW9tZXRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF0Y2hlcy5wdXNoKFxuICAgICAgICAgIChmZWF0dXJlc1trZXldID0ge1xuICAgICAgICAgICAgZmVhdHVyZTogZmVhdHVyZSxcbiAgICAgICAgICAgIGxheWVyOiBsYXllcixcbiAgICAgICAgICAgIGdlb21ldHJ5OiBnZW9tZXRyeSxcbiAgICAgICAgICAgIGRpc3RhbmNlU3E6IGRpc3RhbmNlU3EsXG4gICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2ggIT09IHRydWUgJiYgZGlzdGFuY2VTcSA8IG1hdGNoLmRpc3RhbmNlU3EpIHtcbiAgICAgICAgaWYgKGRpc3RhbmNlU3EgPT09IDApIHtcbiAgICAgICAgICBmZWF0dXJlc1trZXldID0gdHJ1ZTtcbiAgICAgICAgICBtYXRjaGVzLnNwbGljZShtYXRjaGVzLmxhc3RJbmRleE9mKG1hdGNoKSwgMSk7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGZlYXR1cmUsIGxheWVyLCBnZW9tZXRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF0Y2guZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgbWF0Y2guZGlzdGFuY2VTcSA9IGRpc3RhbmNlU3E7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJlZFRpbGVzID1cbiAgICAgIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vVmVjdG9yUmVuZGVyVGlsZS5qc1wiKS5kZWZhdWx0Pn0gKi8gKFxuICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXNcbiAgICAgICk7XG5cbiAgICBsZXQgZm91bmQ7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gcmVuZGVyZWRUaWxlcy5sZW5ndGg7ICFmb3VuZCAmJiBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgdGlsZSA9IHJlbmRlcmVkVGlsZXNbaV07XG4gICAgICBjb25zdCB0aWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGUud3JhcHBlZFRpbGVDb29yZCk7XG4gICAgICBpZiAoIWludGVyc2VjdHModGlsZUV4dGVudCwgaGl0RXh0ZW50KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbGF5ZXJVaWQgPSBnZXRVaWQobGF5ZXIpO1xuICAgICAgY29uc3QgZXhlY3V0b3JHcm91cHMgPSBbdGlsZS5leGVjdXRvckdyb3Vwc1tsYXllclVpZF1dO1xuICAgICAgY29uc3QgZGVjbHV0dGVyRXhlY3V0b3JHcm91cHMgPSB0aWxlLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXBzW2xheWVyVWlkXTtcbiAgICAgIGlmIChkZWNsdXR0ZXJFeGVjdXRvckdyb3Vwcykge1xuICAgICAgICBleGVjdXRvckdyb3Vwcy5wdXNoKGRlY2x1dHRlckV4ZWN1dG9yR3JvdXBzKTtcbiAgICAgIH1cbiAgICAgIGV4ZWN1dG9yR3JvdXBzLnNvbWUoKGV4ZWN1dG9yR3JvdXBzKSA9PiB7XG4gICAgICAgIGNvbnN0IGRlY2x1dHRlcmVkRmVhdHVyZXMgPVxuICAgICAgICAgIGV4ZWN1dG9yR3JvdXBzID09PSBkZWNsdXR0ZXJFeGVjdXRvckdyb3Vwc1xuICAgICAgICAgICAgPyBmcmFtZVN0YXRlLmRlY2x1dHRlclRyZWUuYWxsKCkubWFwKChpdGVtKSA9PiBpdGVtLnZhbHVlKVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBmb3IgKGxldCB0ID0gMCwgdHQgPSBleGVjdXRvckdyb3Vwcy5sZW5ndGg7IHQgPCB0dDsgKyt0KSB7XG4gICAgICAgICAgY29uc3QgZXhlY3V0b3JHcm91cCA9IGV4ZWN1dG9yR3JvdXBzW3RdO1xuICAgICAgICAgIGZvdW5kID0gZXhlY3V0b3JHcm91cC5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShcbiAgICAgICAgICAgIGNvb3JkaW5hdGUsXG4gICAgICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgICBoaXRUb2xlcmFuY2UsXG4gICAgICAgICAgICBmZWF0dXJlQ2FsbGJhY2ssXG4gICAgICAgICAgICBkZWNsdXR0ZXJlZEZlYXR1cmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBc3luY2hyb25vdXMgbGF5ZXIgbGV2ZWwgaGl0IGRldGVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT4+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhbiBhcnJheSBvZiBmZWF0dXJlcy5cbiAgICovXG4gIGdldEZlYXR1cmVzKHBpeGVsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgICAgY29uc3QgbGF5ZXJVaWQgPSBnZXRVaWQobGF5ZXIpO1xuICAgICAgY29uc3Qgc291cmNlID0gbGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgICBjb25zdCBwcm9qZWN0aW9uID0gdGhpcy5yZW5kZXJlZFByb2plY3Rpb247XG4gICAgICBjb25zdCBwcm9qZWN0aW9uRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRFeHRlbnQoKTtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVkUmVzb2x1dGlvbjtcbiAgICAgIGNvbnN0IHRpbGVHcmlkID0gc291cmNlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBhcHBseVRyYW5zZm9ybShcbiAgICAgICAgdGhpcy5yZW5kZXJlZFBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyxcbiAgICAgICAgcGl4ZWwuc2xpY2UoKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRpbGVDb29yZCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEZvckNvb3JkQW5kUmVzb2x1dGlvbihcbiAgICAgICAgY29vcmRpbmF0ZSxcbiAgICAgICAgcmVzb2x1dGlvblxuICAgICAgKTtcbiAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9yUmVuZGVyVGlsZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gKi9cbiAgICAgIGxldCB0aWxlO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdGhpcy5yZW5kZXJlZFRpbGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRpbGVDb29yZC50b1N0cmluZygpID09PSB0aGlzLnJlbmRlcmVkVGlsZXNbaV0udGlsZUNvb3JkLnRvU3RyaW5nKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGlsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9yUmVuZGVyVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXNbaV1cbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlLnRpbGVDb29yZCk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNvdXJjZS5nZXRXcmFwWCgpICYmXG4gICAgICAgICAgICAgIHByb2plY3Rpb24uY2FuV3JhcFgoKSAmJlxuICAgICAgICAgICAgICAhY29udGFpbnNFeHRlbnQocHJvamVjdGlvbkV4dGVudCwgZXh0ZW50KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHdyYXBYKGNvb3JkaW5hdGUsIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRpbGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghdGlsZSB8fCB0aWxlLmxvYWRpbmdTb3VyY2VUaWxlcyA+IDApIHtcbiAgICAgICAgcmVzb2x2ZShbXSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlLndyYXBwZWRUaWxlQ29vcmQpO1xuICAgICAgY29uc3QgY29ybmVyID0gZ2V0VG9wTGVmdChleHRlbnQpO1xuICAgICAgY29uc3QgdGlsZVBpeGVsID0gW1xuICAgICAgICAoY29vcmRpbmF0ZVswXSAtIGNvcm5lclswXSkgLyByZXNvbHV0aW9uLFxuICAgICAgICAoY29ybmVyWzFdIC0gY29vcmRpbmF0ZVsxXSkgLyByZXNvbHV0aW9uLFxuICAgICAgXTtcbiAgICAgIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59ICovXG4gICAgICBjb25zdCBmZWF0dXJlcyA9IHRpbGVcbiAgICAgICAgLmdldFNvdXJjZVRpbGVzKClcbiAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoYWNjdW11bGF0b3IsIHNvdXJjZVRpbGUpIHtcbiAgICAgICAgICByZXR1cm4gYWNjdW11bGF0b3IuY29uY2F0KHNvdXJjZVRpbGUuZ2V0RmVhdHVyZXMoKSk7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgIC8qKiBAdHlwZSB7SW1hZ2VEYXRhfHVuZGVmaW5lZH0gKi9cbiAgICAgIGxldCBoaXREZXRlY3Rpb25JbWFnZURhdGEgPSB0aWxlLmhpdERldGVjdGlvbkltYWdlRGF0YVtsYXllclVpZF07XG4gICAgICBpZiAoIWhpdERldGVjdGlvbkltYWdlRGF0YSkge1xuICAgICAgICBjb25zdCB0aWxlU2l6ZSA9IHRvU2l6ZShcbiAgICAgICAgICB0aWxlR3JpZC5nZXRUaWxlU2l6ZShcbiAgICAgICAgICAgIHRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKHJlc29sdXRpb24sIHNvdXJjZS56RGlyZWN0aW9uKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgcm90YXRpb24gPSB0aGlzLnJlbmRlcmVkUm90YXRpb25fO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1zID0gW1xuICAgICAgICAgIHRoaXMuZ2V0UmVuZGVyVHJhbnNmb3JtKFxuICAgICAgICAgICAgdGlsZUdyaWQuZ2V0VGlsZUNvb3JkQ2VudGVyKHRpbGUud3JhcHBlZFRpbGVDb29yZCksXG4gICAgICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIEhJVF9ERVRFQ1RfUkVTT0xVVElPTixcbiAgICAgICAgICAgIHRpbGVTaXplWzBdICogSElUX0RFVEVDVF9SRVNPTFVUSU9OLFxuICAgICAgICAgICAgdGlsZVNpemVbMV0gKiBISVRfREVURUNUX1JFU09MVVRJT04sXG4gICAgICAgICAgICAwXG4gICAgICAgICAgKSxcbiAgICAgICAgXTtcbiAgICAgICAgaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhID0gY3JlYXRlSGl0RGV0ZWN0aW9uSW1hZ2VEYXRhKFxuICAgICAgICAgIHRpbGVTaXplLFxuICAgICAgICAgIHRyYW5zZm9ybXMsXG4gICAgICAgICAgZmVhdHVyZXMsXG4gICAgICAgICAgbGF5ZXIuZ2V0U3R5bGVGdW5jdGlvbigpLFxuICAgICAgICAgIHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlLndyYXBwZWRUaWxlQ29vcmQpLFxuICAgICAgICAgIHRpbGUuZ2V0UmVwbGF5U3RhdGUobGF5ZXIpLnJlbmRlcmVkUmVzb2x1dGlvbixcbiAgICAgICAgICByb3RhdGlvblxuICAgICAgICApO1xuICAgICAgICB0aWxlLmhpdERldGVjdGlvbkltYWdlRGF0YVtsYXllclVpZF0gPSBoaXREZXRlY3Rpb25JbWFnZURhdGE7XG4gICAgICB9XG4gICAgICByZXNvbHZlKGhpdERldGVjdCh0aWxlUGl4ZWwsIGZlYXR1cmVzLCBoaXREZXRlY3Rpb25JbWFnZURhdGEpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtIGFjdGlvbiBuZWNlc3NhcnkgdG8gZ2V0IHRoZSBsYXllciByZW5kZXJlZCBhZnRlciBuZXcgZm9udHMgaGF2ZSBsb2FkZWRcbiAgICovXG4gIGhhbmRsZUZvbnRzQ2hhbmdlZCgpIHtcbiAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICBpZiAobGF5ZXIuZ2V0VmlzaWJsZSgpICYmIHRoaXMucmVuZGVyZWRMYXllclJldmlzaW9uXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsYXllci5jaGFuZ2VkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBjaGFuZ2VzIGluIGltYWdlIHN0eWxlIHN0YXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBJbWFnZSBzdHlsZSBjaGFuZ2UgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVTdHlsZUltYWdlQ2hhbmdlXyhldmVudCkge1xuICAgIHRoaXMucmVuZGVySWZSZWFkeUFuZFZpc2libGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgZGVjbHV0dGVyIGl0ZW1zIGZvciB0aGlzIGxheWVyXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqL1xuICByZW5kZXJEZWNsdXR0ZXIoZnJhbWVTdGF0ZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgY29uc3QgYWxwaGEgPSBjb250ZXh0Lmdsb2JhbEFscGhhO1xuICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLmdldExheWVyKCkuZ2V0T3BhY2l0eSgpO1xuICAgIGNvbnN0IHZpZXdIaW50cyA9IGZyYW1lU3RhdGUudmlld0hpbnRzO1xuICAgIGNvbnN0IGhpZmkgPSAhKFxuICAgICAgdmlld0hpbnRzW1ZpZXdIaW50LkFOSU1BVElOR10gfHwgdmlld0hpbnRzW1ZpZXdIaW50LklOVEVSQUNUSU5HXVxuICAgICk7XG4gICAgY29uc3QgdGlsZXMgPVxuICAgICAgLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9WZWN0b3JSZW5kZXJUaWxlLmpzXCIpLmRlZmF1bHQ+fSAqLyAoXG4gICAgICAgIHRoaXMucmVuZGVyZWRUaWxlc1xuICAgICAgKTtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSB0aWxlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBjb25zdCB0aWxlID0gdGlsZXNbaV07XG4gICAgICBjb25zdCBkZWNsdXR0ZXJFeGVjdXRvckdyb3VwcyA9XG4gICAgICAgIHRpbGUuZGVjbHV0dGVyRXhlY3V0b3JHcm91cHNbZ2V0VWlkKHRoaXMuZ2V0TGF5ZXIoKSldO1xuICAgICAgaWYgKGRlY2x1dHRlckV4ZWN1dG9yR3JvdXBzKSB7XG4gICAgICAgIGZvciAobGV0IGogPSBkZWNsdXR0ZXJFeGVjdXRvckdyb3Vwcy5sZW5ndGggLSAxOyBqID49IDA7IC0taikge1xuICAgICAgICAgIGRlY2x1dHRlckV4ZWN1dG9yR3JvdXBzW2pdLmV4ZWN1dGUoXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgdGhpcy5nZXRUaWxlUmVuZGVyVHJhbnNmb3JtKHRpbGUsIGZyYW1lU3RhdGUpLFxuICAgICAgICAgICAgZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb24sXG4gICAgICAgICAgICBoaWZpLFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgZnJhbWVTdGF0ZS5kZWNsdXR0ZXJUcmVlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGE7XG4gIH1cblxuICBnZXRUaWxlUmVuZGVyVHJhbnNmb3JtKHRpbGUsIGZyYW1lU3RhdGUpIHtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgIGNvbnN0IHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIGNvbnN0IGNlbnRlciA9IHZpZXdTdGF0ZS5jZW50ZXI7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgIGNvbnN0IHJvdGF0aW9uID0gdmlld1N0YXRlLnJvdGF0aW9uO1xuICAgIGNvbnN0IHNpemUgPSBmcmFtZVN0YXRlLnNpemU7XG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLnJvdW5kKHNpemVbMF0gKiBwaXhlbFJhdGlvKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLnJvdW5kKHNpemVbMV0gKiBwaXhlbFJhdGlvKTtcblxuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0TGF5ZXIoKS5nZXRTb3VyY2UoKTtcbiAgICBjb25zdCB0aWxlR3JpZCA9IHNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24oXG4gICAgICBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5wcm9qZWN0aW9uXG4gICAgKTtcbiAgICBjb25zdCB0aWxlQ29vcmQgPSB0aWxlLnRpbGVDb29yZDtcbiAgICBjb25zdCB0aWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGUud3JhcHBlZFRpbGVDb29yZCk7XG4gICAgY29uc3Qgd29ybGRPZmZzZXQgPVxuICAgICAgdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGVDb29yZCwgdGhpcy50bXBFeHRlbnQpWzBdIC0gdGlsZUV4dGVudFswXTtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBtdWx0aXBseShcbiAgICAgIHNjYWxlKHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtLnNsaWNlKCksIDEgLyBwaXhlbFJhdGlvLCAxIC8gcGl4ZWxSYXRpbyksXG4gICAgICB0aGlzLmdldFJlbmRlclRyYW5zZm9ybShcbiAgICAgICAgY2VudGVyLFxuICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICByb3RhdGlvbixcbiAgICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgd29ybGRPZmZzZXRcbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiB0cmFuc2Zvcm07XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIHRoZSB2ZWN0b3JzIGZvciB0aGlzIGxheWVyLlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBUYXJnZXQgY29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICovXG4gIHBvc3RSZW5kZXIoY29udGV4dCwgZnJhbWVTdGF0ZSkge1xuICAgIGNvbnN0IHZpZXdIaW50cyA9IGZyYW1lU3RhdGUudmlld0hpbnRzO1xuICAgIGNvbnN0IGhpZmkgPSAhKFxuICAgICAgdmlld0hpbnRzW1ZpZXdIaW50LkFOSU1BVElOR10gfHwgdmlld0hpbnRzW1ZpZXdIaW50LklOVEVSQUNUSU5HXVxuICAgICk7XG5cbiAgICB0aGlzLnJlbmRlcmVkUGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm1fID1cbiAgICAgIGZyYW1lU3RhdGUucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0uc2xpY2UoKTtcbiAgICB0aGlzLnJlbmRlcmVkUm90YXRpb25fID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb247XG5cbiAgICBjb25zdCBsYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICB0aGlzLmdldExheWVyKClcbiAgICApO1xuICAgIGNvbnN0IHJlbmRlck1vZGUgPSBsYXllci5nZXRSZW5kZXJNb2RlKCk7XG4gICAgY29uc3QgYWxwaGEgPSBjb250ZXh0Lmdsb2JhbEFscGhhO1xuICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBsYXllci5nZXRPcGFjaXR5KCk7XG4gICAgY29uc3QgcmVwbGF5VHlwZXMgPSBWRUNUT1JfUkVQTEFZU1tyZW5kZXJNb2RlXTtcbiAgICBjb25zdCB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICBjb25zdCByb3RhdGlvbiA9IHZpZXdTdGF0ZS5yb3RhdGlvbjtcbiAgICBjb25zdCB0aWxlU291cmNlID0gbGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgY29uc3QgdGlsZUdyaWQgPSB0aWxlU291cmNlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbih2aWV3U3RhdGUucHJvamVjdGlvbik7XG4gICAgY29uc3QgeiA9IHRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKFxuICAgICAgdmlld1N0YXRlLnJlc29sdXRpb24sXG4gICAgICB0aWxlU291cmNlLnpEaXJlY3Rpb25cbiAgICApO1xuXG4gICAgY29uc3QgdGlsZXMgPSB0aGlzLnJlbmRlcmVkVGlsZXM7XG4gICAgY29uc3QgY2xpcHMgPSBbXTtcbiAgICBjb25zdCBjbGlwWnMgPSBbXTtcbiAgICBsZXQgcmVhZHkgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSB0aWxlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgY29uc3QgdGlsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9yUmVuZGVyVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIHRpbGVzW2ldXG4gICAgICApO1xuICAgICAgcmVhZHkgPSByZWFkeSAmJiAhdGlsZS5nZXRSZXBsYXlTdGF0ZShsYXllcikuZGlydHk7XG4gICAgICBjb25zdCBleGVjdXRvckdyb3VwcyA9IHRpbGUuZXhlY3V0b3JHcm91cHNbZ2V0VWlkKGxheWVyKV0uZmlsdGVyKFxuICAgICAgICAoZ3JvdXApID0+IGdyb3VwLmhhc0V4ZWN1dG9ycyhyZXBsYXlUeXBlcylcbiAgICAgICk7XG4gICAgICBpZiAoZXhlY3V0b3JHcm91cHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy5nZXRUaWxlUmVuZGVyVHJhbnNmb3JtKHRpbGUsIGZyYW1lU3RhdGUpO1xuICAgICAgY29uc3QgY3VycmVudFogPSB0aWxlLnRpbGVDb29yZFswXTtcbiAgICAgIGxldCBjb250ZXh0U2F2ZWQgPSBmYWxzZTtcbiAgICAgIC8vIENsaXAgbWFzayBmb3IgcmVnaW9ucyBpbiB0aGlzIHRpbGUgdGhhdCBhbHJlYWR5IGZpbGxlZCBieSBhIGhpZ2hlciB6IHRpbGVcbiAgICAgIGNvbnN0IGN1cnJlbnRDbGlwID0gZXhlY3V0b3JHcm91cHNbMF0uZ2V0Q2xpcENvb3Jkcyh0cmFuc2Zvcm0pO1xuICAgICAgaWYgKGN1cnJlbnRDbGlwKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwLCBqaiA9IGNsaXBzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICBpZiAoeiAhPT0gY3VycmVudFogJiYgY3VycmVudFogPCBjbGlwWnNbal0pIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaXAgPSBjbGlwc1tqXTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgaW50ZXJzZWN0cyhcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Q2xpcFswXSxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRDbGlwWzNdLFxuICAgICAgICAgICAgICAgICAgY3VycmVudENsaXBbNF0sXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Q2xpcFs3XSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFtjbGlwWzBdLCBjbGlwWzNdLCBjbGlwWzRdLCBjbGlwWzddXVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYgKCFjb250ZXh0U2F2ZWQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0U2F2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgIC8vIGNvdW50ZXItY2xvY2t3aXNlIChvdXRlciByaW5nKSBmb3IgY3VycmVudCB0aWxlXG4gICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKGN1cnJlbnRDbGlwWzBdLCBjdXJyZW50Q2xpcFsxXSk7XG4gICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzJdLCBjdXJyZW50Q2xpcFszXSk7XG4gICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzRdLCBjdXJyZW50Q2xpcFs1XSk7XG4gICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzZdLCBjdXJyZW50Q2xpcFs3XSk7XG4gICAgICAgICAgICAgIC8vIGNsb2Nrd2lzZSAoaW5uZXIgcmluZykgZm9yIGhpZ2hlciB6IHRpbGVcbiAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oY2xpcFs2XSwgY2xpcFs3XSk7XG4gICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGNsaXBbNF0sIGNsaXBbNV0pO1xuICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjbGlwWzJdLCBjbGlwWzNdKTtcbiAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY2xpcFswXSwgY2xpcFsxXSk7XG4gICAgICAgICAgICAgIGNvbnRleHQuY2xpcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjbGlwcy5wdXNoKGN1cnJlbnRDbGlwKTtcbiAgICAgICAgY2xpcFpzLnB1c2goY3VycmVudFopO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgdCA9IDAsIHR0ID0gZXhlY3V0b3JHcm91cHMubGVuZ3RoOyB0IDwgdHQ7ICsrdCkge1xuICAgICAgICBjb25zdCBleGVjdXRvckdyb3VwID0gZXhlY3V0b3JHcm91cHNbdF07XG4gICAgICAgIGV4ZWN1dG9yR3JvdXAuZXhlY3V0ZShcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIDEsXG4gICAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICAgIHJvdGF0aW9uLFxuICAgICAgICAgIGhpZmksXG4gICAgICAgICAgcmVwbGF5VHlwZXNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0U2F2ZWQpIHtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYTtcbiAgICB0aGlzLnJlYWR5ID0gcmVhZHk7XG5cbiAgICBzdXBlci5wb3N0UmVuZGVyKGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fEFycmF5PGltcG9ydChcIi4uLy4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHQ+fSBzdHlsZXMgVGhlIHN0eWxlIG9yIGFycmF5IG9mIHN0eWxlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZ3JvdXAgZm9yIGRlY2x1dHRlcmluZy5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIGFuIGltYWdlIGlzIGxvYWRpbmcuXG4gICAqL1xuICByZW5kZXJGZWF0dXJlKFxuICAgIGZlYXR1cmUsXG4gICAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICBzdHlsZXMsXG4gICAgYnVpbGRlckdyb3VwLFxuICAgIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuICApIHtcbiAgICBpZiAoIXN0eWxlcykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgbG9hZGluZyA9IGZhbHNlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN0eWxlcykpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHN0eWxlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGxvYWRpbmcgPVxuICAgICAgICAgIHJlbmRlckZlYXR1cmUoXG4gICAgICAgICAgICBidWlsZGVyR3JvdXAsXG4gICAgICAgICAgICBmZWF0dXJlLFxuICAgICAgICAgICAgc3R5bGVzW2ldLFxuICAgICAgICAgICAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICAgICAgICAgIHRoaXMuYm91bmRIYW5kbGVTdHlsZUltYWdlQ2hhbmdlXyxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuICAgICAgICAgICkgfHwgbG9hZGluZztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9hZGluZyA9IHJlbmRlckZlYXR1cmUoXG4gICAgICAgIGJ1aWxkZXJHcm91cCxcbiAgICAgICAgZmVhdHVyZSxcbiAgICAgICAgc3R5bGVzLFxuICAgICAgICBzcXVhcmVkVG9sZXJhbmNlLFxuICAgICAgICB0aGlzLmJvdW5kSGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8sXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbG9hZGluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1ZlY3RvclJlbmRlclRpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBBIG5ldyB0aWxlIGltYWdlIHdhcyByZW5kZXJlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRpbGVJbWFnZU5lZWRzUmVuZGVyXyh0aWxlKSB7XG4gICAgY29uc3QgbGF5ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2xheWVyL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgdGhpcy5nZXRMYXllcigpXG4gICAgKTtcbiAgICBpZiAobGF5ZXIuZ2V0UmVuZGVyTW9kZSgpID09PSAndmVjdG9yJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCByZXBsYXlTdGF0ZSA9IHRpbGUuZ2V0UmVwbGF5U3RhdGUobGF5ZXIpO1xuICAgIGNvbnN0IHJldmlzaW9uID0gbGF5ZXIuZ2V0UmV2aXNpb24oKTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gdGlsZS53YW50ZWRSZXNvbHV0aW9uO1xuICAgIHJldHVybiAoXG4gICAgICByZXBsYXlTdGF0ZS5yZW5kZXJlZFRpbGVSZXNvbHV0aW9uICE9PSByZXNvbHV0aW9uIHx8XG4gICAgICByZXBsYXlTdGF0ZS5yZW5kZXJlZFRpbGVSZXZpc2lvbiAhPT0gcmV2aXNpb25cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9yUmVuZGVyVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZW5kZXJUaWxlSW1hZ2VfKHRpbGUsIGZyYW1lU3RhdGUpIHtcbiAgICBjb25zdCBsYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICB0aGlzLmdldExheWVyKClcbiAgICApO1xuICAgIGNvbnN0IHJlcGxheVN0YXRlID0gdGlsZS5nZXRSZXBsYXlTdGF0ZShsYXllcik7XG4gICAgY29uc3QgcmV2aXNpb24gPSBsYXllci5nZXRSZXZpc2lvbigpO1xuICAgIGNvbnN0IGV4ZWN1dG9yR3JvdXBzID0gdGlsZS5leGVjdXRvckdyb3Vwc1tnZXRVaWQobGF5ZXIpXTtcbiAgICByZXBsYXlTdGF0ZS5yZW5kZXJlZFRpbGVSZXZpc2lvbiA9IHJldmlzaW9uO1xuXG4gICAgY29uc3QgdGlsZUNvb3JkID0gdGlsZS53cmFwcGVkVGlsZUNvb3JkO1xuICAgIGNvbnN0IHogPSB0aWxlQ29vcmRbMF07XG4gICAgY29uc3Qgc291cmNlID0gbGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgbGV0IHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgY29uc3Qgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgIGNvbnN0IHRpbGVHcmlkID0gc291cmNlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBjb25zdCB0aWxlUmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24odGlsZS50aWxlQ29vcmRbMF0pO1xuICAgIGNvbnN0IHJlbmRlclBpeGVsUmF0aW8gPVxuICAgICAgKGZyYW1lU3RhdGUucGl4ZWxSYXRpbyAvIHRpbGUud2FudGVkUmVzb2x1dGlvbikgKiB0aWxlUmVzb2x1dGlvbjtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICBjb25zdCBjb250ZXh0ID0gdGlsZS5nZXRDb250ZXh0KGxheWVyKTtcblxuICAgIC8vIEluY3JlYXNlIHRpbGUgc2l6ZSB3aGVuIG92ZXJ6b29taW5nIGZvciBsb3cgcGl4ZWwgcmF0aW8sIHRvIGF2b2lkIGJsdXJyeSB0aWxlc1xuICAgIHBpeGVsUmF0aW8gPSBNYXRoLnJvdW5kKFxuICAgICAgTWF0aC5tYXgocGl4ZWxSYXRpbywgcmVuZGVyUGl4ZWxSYXRpbyAvIHBpeGVsUmF0aW8pXG4gICAgKTtcbiAgICBjb25zdCBzaXplID0gc291cmNlLmdldFRpbGVQaXhlbFNpemUoeiwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgY29udGV4dC5jYW52YXMud2lkdGggPSBzaXplWzBdO1xuICAgIGNvbnRleHQuY2FudmFzLmhlaWdodCA9IHNpemVbMV07XG4gICAgY29uc3QgcmVuZGVyU2NhbGUgPSBwaXhlbFJhdGlvIC8gcmVuZGVyUGl4ZWxSYXRpbztcbiAgICBpZiAocmVuZGVyU2NhbGUgIT09IDEpIHtcbiAgICAgIGNvbnN0IGNhbnZhc1RyYW5zZm9ybSA9IHJlc2V0VHJhbnNmb3JtKHRoaXMudG1wVHJhbnNmb3JtXyk7XG4gICAgICBzY2FsZVRyYW5zZm9ybShjYW52YXNUcmFuc2Zvcm0sIHJlbmRlclNjYWxlLCByZW5kZXJTY2FsZSk7XG4gICAgICBjb250ZXh0LnNldFRyYW5zZm9ybS5hcHBseShjb250ZXh0LCBjYW52YXNUcmFuc2Zvcm0pO1xuICAgIH1cbiAgICBjb25zdCB0aWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGVDb29yZCwgdGhpcy50bXBFeHRlbnQpO1xuICAgIGNvbnN0IHBpeGVsU2NhbGUgPSByZW5kZXJQaXhlbFJhdGlvIC8gcmVzb2x1dGlvbjtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSByZXNldFRyYW5zZm9ybSh0aGlzLnRtcFRyYW5zZm9ybV8pO1xuICAgIHNjYWxlVHJhbnNmb3JtKHRyYW5zZm9ybSwgcGl4ZWxTY2FsZSwgLXBpeGVsU2NhbGUpO1xuICAgIHRyYW5zbGF0ZVRyYW5zZm9ybSh0cmFuc2Zvcm0sIC10aWxlRXh0ZW50WzBdLCAtdGlsZUV4dGVudFszXSk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZXhlY3V0b3JHcm91cHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgZXhlY3V0b3JHcm91cCA9IGV4ZWN1dG9yR3JvdXBzW2ldO1xuICAgICAgZXhlY3V0b3JHcm91cC5leGVjdXRlKFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICByZW5kZXJTY2FsZSxcbiAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICAwLFxuICAgICAgICB0cnVlLFxuICAgICAgICBJTUFHRV9SRVBMQVlTW2xheWVyLmdldFJlbmRlck1vZGUoKV1cbiAgICAgICk7XG4gICAgfVxuICAgIHJlcGxheVN0YXRlLnJlbmRlcmVkVGlsZVJlc29sdXRpb24gPSB0aWxlLndhbnRlZFJlc29sdXRpb247XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzVmVjdG9yVGlsZUxheWVyUmVuZGVyZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvVmVjdG9yVGlsZVxuICovXG5pbXBvcnQgQmFzZVZlY3RvckxheWVyIGZyb20gJy4vQmFzZVZlY3Rvci5qcyc7XG5pbXBvcnQgQ2FudmFzVmVjdG9yVGlsZUxheWVyUmVuZGVyZXIgZnJvbSAnLi4vcmVuZGVyZXIvY2FudmFzL1ZlY3RvclRpbGVMYXllci5qcyc7XG5pbXBvcnQgVGlsZVByb3BlcnR5IGZyb20gJy4vVGlsZVByb3BlcnR5LmpzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi9hc3NlcnRzLmpzJztcblxuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9CYXNlXCIpLkJhc2VMYXllck9iamVjdEV2ZW50VHlwZXN8XG4gKiAgICAgaW1wb3J0KFwiLi9MYXllci5qc1wiKS5MYXllckV2ZW50VHlwZXwnY2hhbmdlOnByZWxvYWQnfCdjaGFuZ2U6dXNlSW50ZXJpbVRpbGVzT25FcnJvcicsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5MYXllclJlbmRlckV2ZW50VHlwZXMsIGltcG9ydChcIi4uL3JlbmRlci9FdmVudFwiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3xcbiAqICAgICBpbXBvcnQoXCIuL0xheWVyLmpzXCIpLkxheWVyRXZlbnRUeXBlfCdjaGFuZ2U6cHJlbG9hZCd8J2NoYW5nZTp1c2VJbnRlcmltVGlsZXNPbkVycm9yJ3xpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRUeXBlXCIpLkxheWVyUmVuZGVyRXZlbnRUeXBlcywgUmV0dXJuPn0gVmVjdG9yVGlsZUxheWVyT25TaWduYXR1cmVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsnaHlicmlkJyB8ICd2ZWN0b3InfSBWZWN0b3JUaWxlUmVuZGVyVHlwZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWxheWVyJ10gQSBDU1MgY2xhc3MgbmFtZSB0byBzZXQgdG8gdGhlIGxheWVyIGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcmVuZGVyLmpzXCIpLk9yZGVyRnVuY3Rpb259IFtyZW5kZXJPcmRlcl0gUmVuZGVyIG9yZGVyLiBGdW5jdGlvbiB0byBiZSB1c2VkIHdoZW4gc29ydGluZ1xuICogZmVhdHVyZXMgYmVmb3JlIHJlbmRlcmluZy4gQnkgZGVmYXVsdCBmZWF0dXJlcyBhcmUgZHJhd24gaW4gdGhlIG9yZGVyIHRoYXQgdGhleSBhcmUgY3JlYXRlZC4gVXNlXG4gKiBgbnVsbGAgdG8gYXZvaWQgdGhlIHNvcnQsIGJ1dCBnZXQgYW4gdW5kZWZpbmVkIGRyYXcgb3JkZXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JlbmRlckJ1ZmZlcj0xMDBdIFRoZSBidWZmZXIgaW4gcGl4ZWxzIGFyb3VuZCB0aGUgdGlsZSBleHRlbnQgdXNlZCBieSB0aGVcbiAqIHJlbmRlcmVyIHdoZW4gZ2V0dGluZyBmZWF0dXJlcyBmcm9tIHRoZSB2ZWN0b3IgdGlsZSBmb3IgdGhlIHJlbmRlcmluZyBvciBoaXQtZGV0ZWN0aW9uLlxuICogUmVjb21tZW5kZWQgdmFsdWU6IFZlY3RvciB0aWxlcyBhcmUgdXN1YWxseSBnZW5lcmF0ZWQgd2l0aCBhIGJ1ZmZlciwgc28gdGhpcyB2YWx1ZSBzaG91bGQgbWF0Y2hcbiAqIHRoZSBsYXJnZXN0IHBvc3NpYmxlIGJ1ZmZlciBvZiB0aGUgdXNlZCB0aWxlcy4gSXQgc2hvdWxkIGJlIGF0IGxlYXN0IHRoZSBzaXplIG9mIHRoZSBsYXJnZXN0XG4gKiBwb2ludCBzeW1ib2wgb3IgbGluZSB3aWR0aC5cbiAqIEBwcm9wZXJ0eSB7VmVjdG9yVGlsZVJlbmRlclR5cGV9IFtyZW5kZXJNb2RlPSdoeWJyaWQnXSBSZW5kZXIgbW9kZSBmb3IgdmVjdG9yIHRpbGVzOlxuICogICogYCdoeWJyaWQnYDogUG9seWdvbiBhbmQgbGluZSBlbGVtZW50cyBhcmUgcmVuZGVyZWQgYXMgaW1hZ2VzLCBzbyBwaXhlbHMgYXJlIHNjYWxlZCBkdXJpbmcgem9vbVxuICogICAgYW5pbWF0aW9ucy4gUG9pbnQgc3ltYm9scyBhbmQgdGV4dHMgYXJlIGFjY3VyYXRlbHkgcmVuZGVyZWQgYXMgdmVjdG9ycyBhbmQgY2FuIHN0YXkgdXByaWdodCBvblxuICogICAgcm90YXRlZCB2aWV3cy5cbiAqICAqIGAndmVjdG9yJ2A6IEV2ZXJ5dGhpbmcgaXMgcmVuZGVyZWQgYXMgdmVjdG9ycy4gVXNlIHRoaXMgbW9kZSBmb3IgaW1wcm92ZWQgcGVyZm9ybWFuY2Ugb24gdmVjdG9yXG4gKiAgICB0aWxlIGxheWVycyB3aXRoIG9ubHkgYSBmZXcgcmVuZGVyZWQgZmVhdHVyZXMgKGUuZy4gZm9yIGhpZ2hsaWdodGluZyBhIHN1YnNldCBvZiBmZWF0dXJlcyBvZlxuICogICAgYW5vdGhlciBsYXllciB3aXRoIHRoZSBzYW1lIHNvdXJjZSkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9IFtzb3VyY2VdIFNvdXJjZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR9IFttYXBdIFNldHMgdGhlIGxheWVyIGFzIG92ZXJsYXkgb24gYSBtYXAuIFRoZSBtYXAgd2lsbCBub3QgbWFuYWdlXG4gKiB0aGlzIGxheWVyIGluIGl0cyBsYXllcnMgY29sbGVjdGlvbiwgYW5kIHRoZSBsYXllciB3aWxsIGJlIHJlbmRlcmVkIG9uIHRvcC4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gKiB0ZW1wb3JhcnkgbGF5ZXJzLiBUaGUgc3RhbmRhcmQgd2F5IHRvIGFkZCBhIGxheWVyIHRvIGEgbWFwIGFuZCBoYXZlIGl0IG1hbmFnZWQgYnkgdGhlIG1hcCBpcyB0b1xuICogdXNlIFttYXAuYWRkTGF5ZXIoKV17QGxpbmsgaW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHQjYWRkTGF5ZXJ9LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZGVjbHV0dGVyPWZhbHNlXSBEZWNsdXR0ZXIgaW1hZ2VzIGFuZCB0ZXh0LiBEZWNsdXR0ZXJpbmcgaXMgYXBwbGllZCB0byBhbGxcbiAqIGltYWdlIGFuZCB0ZXh0IHN0eWxlcyBvZiBhbGwgVmVjdG9yIGFuZCBWZWN0b3JUaWxlIGxheWVycyB0aGF0IGhhdmUgc2V0IHRoaXMgdG8gYHRydWVgLiBUaGUgcHJpb3JpdHlcbiAqIGlzIGRlZmluZWQgYnkgdGhlIHotaW5kZXggb2YgdGhlIGxheWVyLCB0aGUgYHpJbmRleGAgb2YgdGhlIHN0eWxlIGFuZCB0aGUgcmVuZGVyIG9yZGVyIG9mIGZlYXR1cmVzLlxuICogSGlnaGVyIHotaW5kZXggbWVhbnMgaGlnaGVyIHByaW9yaXR5LiBXaXRoaW4gdGhlIHNhbWUgei1pbmRleCwgYSBmZWF0dXJlIHJlbmRlcmVkIGJlZm9yZSBhbm90aGVyIGhhc1xuICogaGlnaGVyIHByaW9yaXR5LlxuICpcbiAqIEFzIGFuIG9wdGltaXphdGlvbiBkZWNsdXR0ZXJlZCBmZWF0dXJlcyBmcm9tIGxheWVycyB3aXRoIHRoZSBzYW1lIGBjbGFzc05hbWVgIGFyZSByZW5kZXJlZCBhYm92ZVxuICogdGhlIGZpbGwgYW5kIHN0cm9rZSBzdHlsZXMgb2YgYWxsIG9mIHRob3NlIGxheWVycyByZWdhcmRsZXNzIG9mIHotaW5kZXguICBUbyBvcHQgb3V0IG9mIHRoaXNcbiAqIGJlaGF2aW9yIGFuZCBwbGFjZSBkZWNsdXR0ZXJkIGZlYXR1cmVzIHdpdGggdGhlaXIgb3duIGxheWVyIGNvbmZpZ3VyZSB0aGUgbGF5ZXIgd2l0aCBhIGBjbGFzc05hbWVgXG4gKiBvdGhlciB0aGFuIGBvbC1sYXllcmAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZXxudWxsfSBbc3R5bGVdIExheWVyIHN0eWxlLiBXaGVuIHNldCB0byBgbnVsbGAsIG9ubHlcbiAqIGZlYXR1cmVzIHRoYXQgaGF2ZSB0aGVpciBvd24gc3R5bGUgd2lsbCBiZSByZW5kZXJlZC4gU2VlIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvU3R5bGV+U3R5bGV9IGZvciB0aGUgZGVmYXVsdCBzdHlsZVxuICogd2hpY2ggd2lsbCBiZSB1c2VkIGlmIHRoaXMgaXMgbm90IHNldC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9CYXNlLmpzXCIpLkJhY2tncm91bmRDb2xvcnxmYWxzZX0gW2JhY2tncm91bmRdIEJhY2tncm91bmQgY29sb3IgZm9yIHRoZSBsYXllci4gSWYgbm90IHNwZWNpZmllZCwgbm9cbiAqIGJhY2tncm91bmQgd2lsbCBiZSByZW5kZXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VwZGF0ZVdoaWxlQW5pbWF0aW5nPWZhbHNlXSBXaGVuIHNldCB0byBgdHJ1ZWAsIGZlYXR1cmUgYmF0Y2hlcyB3aWxsIGJlXG4gKiByZWNyZWF0ZWQgZHVyaW5nIGFuaW1hdGlvbnMuIFRoaXMgbWVhbnMgdGhhdCBubyB2ZWN0b3JzIHdpbGwgYmUgc2hvd24gY2xpcHBlZCwgYnV0IHRoZSBzZXR0aW5nXG4gKiB3aWxsIGhhdmUgYSBwZXJmb3JtYW5jZSBpbXBhY3QgZm9yIGxhcmdlIGFtb3VudHMgb2YgdmVjdG9yIGRhdGEuIFdoZW4gc2V0IHRvIGBmYWxzZWAsIGJhdGNoZXNcbiAqIHdpbGwgYmUgcmVjcmVhdGVkIHdoZW4gbm8gYW5pbWF0aW9uIGlzIGFjdGl2ZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VwZGF0ZVdoaWxlSW50ZXJhY3Rpbmc9ZmFsc2VdIFdoZW4gc2V0IHRvIGB0cnVlYCwgZmVhdHVyZSBiYXRjaGVzIHdpbGwgYmVcbiAqIHJlY3JlYXRlZCBkdXJpbmcgaW50ZXJhY3Rpb25zLiBTZWUgYWxzbyBgdXBkYXRlV2hpbGVBbmltYXRpbmdgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtwcmVsb2FkPTBdIFByZWxvYWQuIExvYWQgbG93LXJlc29sdXRpb24gdGlsZXMgdXAgdG8gYHByZWxvYWRgIGxldmVscy4gYDBgXG4gKiBtZWFucyBubyBwcmVsb2FkaW5nLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdXNlSW50ZXJpbVRpbGVzT25FcnJvcj10cnVlXSBVc2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgKj59IFtwcm9wZXJ0aWVzXSBBcmJpdHJhcnkgb2JzZXJ2YWJsZSBwcm9wZXJ0aWVzLiBDYW4gYmUgYWNjZXNzZWQgd2l0aCBgI2dldCgpYCBhbmQgYCNzZXQoKWAuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBMYXllciBmb3IgdmVjdG9yIHRpbGUgZGF0YSB0aGF0IGlzIHJlbmRlcmVkIGNsaWVudC1zaWRlLlxuICogTm90ZSB0aGF0IGFueSBwcm9wZXJ0eSBzZXQgaW4gdGhlIG9wdGlvbnMgaXMgc2V0IGFzIGEge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdH1cbiAqIHByb3BlcnR5IG9uIHRoZSBsYXllciBvYmplY3Q7IGZvciBleGFtcGxlLCBzZXR0aW5nIGB0aXRsZTogJ015IFRpdGxlJ2AgaW4gdGhlXG4gKiBvcHRpb25zIG1lYW5zIHRoYXQgYHRpdGxlYCBpcyBvYnNlcnZhYmxlLCBhbmQgaGFzIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gKiBAZXh0ZW5kcyB7QmFzZVZlY3RvckxheWVyPGltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHQsIENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyPn1cbiAqIEBhcGlcbiAqL1xuY2xhc3MgVmVjdG9yVGlsZUxheWVyIGV4dGVuZHMgQmFzZVZlY3RvckxheWVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICBjb25zdCBiYXNlT3B0aW9ucyA9IC8qKiBAdHlwZSB7T2JqZWN0fSAqLyAoT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucykpO1xuICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy5wcmVsb2FkO1xuICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy51c2VJbnRlcmltVGlsZXNPbkVycm9yO1xuXG4gICAgc3VwZXIoXG4gICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vQmFzZVZlY3Rvci5qc1wiKS5PcHRpb25zPGltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHQ+fSAqLyAoXG4gICAgICAgIGJhc2VPcHRpb25zXG4gICAgICApXG4gICAgKTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7VmVjdG9yVGlsZUxheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7VmVjdG9yVGlsZUxheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbmNlO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtWZWN0b3JUaWxlTGF5ZXJPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgKi9cbiAgICB0aGlzLnVuO1xuXG4gICAgY29uc3QgcmVuZGVyTW9kZSA9IG9wdGlvbnMucmVuZGVyTW9kZSB8fCAnaHlicmlkJztcbiAgICAvLyBgcmVuZGVyTW9kZWAgbXVzdCBiZSBgJ2h5YnJpZCdgIG9yIGAndmVjdG9yJ2AuXG4gICAgYXNzZXJ0KHJlbmRlck1vZGUgPT0gJ2h5YnJpZCcgfHwgcmVuZGVyTW9kZSA9PSAndmVjdG9yJywgMjgpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7VmVjdG9yVGlsZVJlbmRlclR5cGV9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJNb2RlXyA9IHJlbmRlck1vZGU7XG5cbiAgICB0aGlzLnNldFByZWxvYWQob3B0aW9ucy5wcmVsb2FkID8gb3B0aW9ucy5wcmVsb2FkIDogMCk7XG4gICAgdGhpcy5zZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKFxuICAgICAgb3B0aW9ucy51c2VJbnRlcmltVGlsZXNPbkVycm9yICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLnVzZUludGVyaW1UaWxlc09uRXJyb3JcbiAgICAgICAgOiB0cnVlXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4vQmFzZS5qc1wiKS5CYWNrZ3JvdW5kQ29sb3J9IEJhY2tncm91bmQgY29sb3IuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZ2V0QmFja2dyb3VuZDtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9CYXNlLmpzXCIpLkJhY2tncm91bmRDb2xvcn0gYmFja2dyb3VuZCBCYWNrZ3JvdW5kIGNvbG9yLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLnNldEJhY2tncm91bmQ7XG4gIH1cblxuICBjcmVhdGVSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gbmV3IENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdG9wbW9zdCBmZWF0dXJlIHRoYXQgaW50ZXJzZWN0cyB0aGUgZ2l2ZW4gcGl4ZWwgb24gdGhlIHZpZXdwb3J0LiBSZXR1cm5zIGEgcHJvbWlzZVxuICAgKiB0aGF0IHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgZmVhdHVyZXMuIFRoZSBhcnJheSB3aWxsIGVpdGhlciBjb250YWluIHRoZSB0b3Btb3N0IGZlYXR1cmVcbiAgICogd2hlbiBhIGhpdCB3YXMgZGV0ZWN0ZWQsIG9yIGl0IHdpbGwgYmUgZW1wdHkuXG4gICAqXG4gICAqIFRoZSBoaXQgZGV0ZWN0aW9uIGFsZ29yaXRobSB1c2VkIGZvciB0aGlzIG1ldGhvZCBpcyBvcHRpbWl6ZWQgZm9yIHBlcmZvcm1hbmNlLCBidXQgaXMgbGVzc1xuICAgKiBhY2N1cmF0ZSB0aGFuIHRoZSBvbmUgdXNlZCBpbiBbbWFwLmdldEZlYXR1cmVzQXRQaXhlbCgpXXtAbGluayBpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdCNnZXRGZWF0dXJlc0F0UGl4ZWx9LlxuICAgKiBUZXh0IGlzIG5vdCBjb25zaWRlcmVkLCBhbmQgaWNvbnMgYXJlIG9ubHkgcmVwcmVzZW50ZWQgYnkgdGhlaXIgYm91bmRpbmcgYm94IGluc3RlYWQgb2YgdGhlIGV4YWN0XG4gICAqIGltYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlXCIpLkZlYXR1cmVMaWtlPj59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGFuIGFycmF5IG9mIGZlYXR1cmVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRGZWF0dXJlcyhwaXhlbCkge1xuICAgIHJldHVybiBzdXBlci5nZXRGZWF0dXJlcyhwaXhlbCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7VmVjdG9yVGlsZVJlbmRlclR5cGV9IFRoZSByZW5kZXIgbW9kZS5cbiAgICovXG4gIGdldFJlbmRlck1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyTW9kZV87XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBsZXZlbCBhcyBudW1iZXIgdG8gd2hpY2ggd2Ugd2lsbCBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBsZXZlbCB0byBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRQcmVsb2FkKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KFRpbGVQcm9wZXJ0eS5QUkVMT0FEKSk7XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciB3ZSB1c2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFVzZUludGVyaW1UaWxlc09uRXJyb3IoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKFxuICAgICAgdGhpcy5nZXQoVGlsZVByb3BlcnR5LlVTRV9JTlRFUklNX1RJTEVTX09OX0VSUk9SKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBsZXZlbCBhcyBudW1iZXIgdG8gd2hpY2ggd2Ugd2lsbCBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcHJlbG9hZCBUaGUgbGV2ZWwgdG8gcHJlbG9hZCB0aWxlcyB1cCB0by5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0UHJlbG9hZChwcmVsb2FkKSB7XG4gICAgdGhpcy5zZXQoVGlsZVByb3BlcnR5LlBSRUxPQUQsIHByZWxvYWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB3aGV0aGVyIHdlIHVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUludGVyaW1UaWxlc09uRXJyb3IgVXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFVzZUludGVyaW1UaWxlc09uRXJyb3IodXNlSW50ZXJpbVRpbGVzT25FcnJvcikge1xuICAgIHRoaXMuc2V0KFRpbGVQcm9wZXJ0eS5VU0VfSU5URVJJTV9USUxFU19PTl9FUlJPUiwgdXNlSW50ZXJpbVRpbGVzT25FcnJvcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmVjdG9yVGlsZUxheWVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL21hdGhcbiAqL1xuXG4vKipcbiAqIFRha2VzIGEgbnVtYmVyIGFuZCBjbGFtcHMgaXQgdG8gd2l0aGluIHRoZSBwcm92aWRlZCBib3VuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGlucHV0IG51bWJlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gVGhlIG1pbmltdW0gdmFsdWUgdG8gcmV0dXJuLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBUaGUgbWF4aW11bSB2YWx1ZSB0byByZXR1cm4uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbnB1dCBudW1iZXIgaWYgaXQgaXMgd2l0aGluIGJvdW5kcywgb3IgdGhlIG5lYXJlc3RcbiAqICAgICBudW1iZXIgd2l0aGluIHRoZSBib3VuZHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW4pLCBtYXgpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNxdWFyZSBvZiB0aGUgY2xvc2VzdCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBwb2ludCAoeCwgeSkgYW5kIHRoZVxuICogbGluZSBzZWdtZW50ICh4MSwgeTEpIHRvICh4MiwgeTIpLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge251bWJlcn0geDEgWDEuXG4gKiBAcGFyYW0ge251bWJlcn0geTEgWTEuXG4gKiBAcGFyYW0ge251bWJlcn0geDIgWDIuXG4gKiBAcGFyYW0ge251bWJlcn0geTIgWTIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgZGlzdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkU2VnbWVudERpc3RhbmNlKHgsIHksIHgxLCB5MSwgeDIsIHkyKSB7XG4gIGNvbnN0IGR4ID0geDIgLSB4MTtcbiAgY29uc3QgZHkgPSB5MiAtIHkxO1xuICBpZiAoZHggIT09IDAgfHwgZHkgIT09IDApIHtcbiAgICBjb25zdCB0ID0gKCh4IC0geDEpICogZHggKyAoeSAtIHkxKSAqIGR5KSAvIChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgaWYgKHQgPiAxKSB7XG4gICAgICB4MSA9IHgyO1xuICAgICAgeTEgPSB5MjtcbiAgICB9IGVsc2UgaWYgKHQgPiAwKSB7XG4gICAgICB4MSArPSBkeCAqIHQ7XG4gICAgICB5MSArPSBkeSAqIHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBzcXVhcmVkRGlzdGFuY2UoeCwgeSwgeDEsIHkxKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzcXVhcmUgb2YgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHBvaW50cyAoeDEsIHkxKSBhbmQgKHgyLCB5MikuXG4gKiBAcGFyYW0ge251bWJlcn0geDEgWDEuXG4gKiBAcGFyYW0ge251bWJlcn0geTEgWTEuXG4gKiBAcGFyYW0ge251bWJlcn0geDIgWDIuXG4gKiBAcGFyYW0ge251bWJlcn0geTIgWTIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgZGlzdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoeDEsIHkxLCB4MiwgeTIpIHtcbiAgY29uc3QgZHggPSB4MiAtIHgxO1xuICBjb25zdCBkeSA9IHkyIC0geTE7XG4gIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbn1cblxuLyoqXG4gKiBTb2x2ZXMgc3lzdGVtIG9mIGxpbmVhciBlcXVhdGlvbnMgdXNpbmcgR2F1c3NpYW4gZWxpbWluYXRpb24gbWV0aG9kLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IG1hdCBBdWdtZW50ZWQgbWF0cml4IChuIHggbiArIDEgY29sdW1uKVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gcm93LW1ham9yIG9yZGVyLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVGhlIHJlc3VsdGluZyB2ZWN0b3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzb2x2ZUxpbmVhclN5c3RlbShtYXQpIHtcbiAgY29uc3QgbiA9IG1hdC5sZW5ndGg7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAvLyBGaW5kIG1heCBpbiB0aGUgaS10aCBjb2x1bW4gKGlnbm9yaW5nIGkgLSAxIGZpcnN0IHJvd3MpXG4gICAgbGV0IG1heFJvdyA9IGk7XG4gICAgbGV0IG1heEVsID0gTWF0aC5hYnMobWF0W2ldW2ldKTtcbiAgICBmb3IgKGxldCByID0gaSArIDE7IHIgPCBuOyByKyspIHtcbiAgICAgIGNvbnN0IGFic1ZhbHVlID0gTWF0aC5hYnMobWF0W3JdW2ldKTtcbiAgICAgIGlmIChhYnNWYWx1ZSA+IG1heEVsKSB7XG4gICAgICAgIG1heEVsID0gYWJzVmFsdWU7XG4gICAgICAgIG1heFJvdyA9IHI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1heEVsID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDsgLy8gbWF0cml4IGlzIHNpbmd1bGFyXG4gICAgfVxuXG4gICAgLy8gU3dhcCBtYXggcm93IHdpdGggaS10aCAoY3VycmVudCkgcm93XG4gICAgY29uc3QgdG1wID0gbWF0W21heFJvd107XG4gICAgbWF0W21heFJvd10gPSBtYXRbaV07XG4gICAgbWF0W2ldID0gdG1wO1xuXG4gICAgLy8gU3VidHJhY3QgdGhlIGktdGggcm93IHRvIG1ha2UgYWxsIHRoZSByZW1haW5pbmcgcm93cyAwIGluIHRoZSBpLXRoIGNvbHVtblxuICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IG47IGorKykge1xuICAgICAgY29uc3QgY29lZiA9IC1tYXRbal1baV0gLyBtYXRbaV1baV07XG4gICAgICBmb3IgKGxldCBrID0gaTsgayA8IG4gKyAxOyBrKyspIHtcbiAgICAgICAgaWYgKGkgPT0gaykge1xuICAgICAgICAgIG1hdFtqXVtrXSA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF0W2pdW2tdICs9IGNvZWYgKiBtYXRbaV1ba107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBTb2x2ZSBBeD1iIGZvciB1cHBlciB0cmlhbmd1bGFyIG1hdHJpeCBBIChtYXQpXG4gIGNvbnN0IHggPSBuZXcgQXJyYXkobik7XG4gIGZvciAobGV0IGwgPSBuIC0gMTsgbCA+PSAwOyBsLS0pIHtcbiAgICB4W2xdID0gbWF0W2xdW25dIC8gbWF0W2xdW2xdO1xuICAgIGZvciAobGV0IG0gPSBsIC0gMTsgbSA+PSAwOyBtLS0pIHtcbiAgICAgIG1hdFttXVtuXSAtPSBtYXRbbV1bbF0gKiB4W2xdO1xuICAgIH1cbiAgfVxuICByZXR1cm4geDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyByYWRpYW5zIHRvIHRvIGRlZ3JlZXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlSW5SYWRpYW5zIEFuZ2xlIGluIHJhZGlhbnMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFuZ2xlIGluIGRlZ3JlZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0RlZ3JlZXMoYW5nbGVJblJhZGlhbnMpIHtcbiAgcmV0dXJuIChhbmdsZUluUmFkaWFucyAqIDE4MCkgLyBNYXRoLlBJO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGVJbkRlZ3JlZXMgQW5nbGUgaW4gZGVncmVlcy5cbiAqIEByZXR1cm4ge251bWJlcn0gQW5nbGUgaW4gcmFkaWFucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvUmFkaWFucyhhbmdsZUluRGVncmVlcykge1xuICByZXR1cm4gKGFuZ2xlSW5EZWdyZWVzICogTWF0aC5QSSkgLyAxODA7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbW9kdWxvIG9mIGEgLyBiLCBkZXBlbmRpbmcgb24gdGhlIHNpZ24gb2YgYi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYSBEaXZpZGVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiIERpdmlzb3IuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1vZHVsby5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vZHVsbyhhLCBiKSB7XG4gIGNvbnN0IHIgPSBhICUgYjtcbiAgcmV0dXJuIHIgKiBiIDwgMCA/IHIgKyBiIDogcjtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgdmFsdWUgb2YgeCBiZXR3ZWVuIGEgYW5kIGIuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGEgTnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gYiBOdW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFZhbHVlIHRvIGJlIGludGVycG9sYXRlZC5cbiAqIEByZXR1cm4ge251bWJlcn0gSW50ZXJwb2xhdGVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVycChhLCBiLCB4KSB7XG4gIHJldHVybiBhICsgeCAqIChiIC0gYSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIG51bWJlciB3aXRoIGEgbGltaXRlZCBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgaW5wdXQgbnVtYmVyLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlY2ltYWxzIFRoZSBtYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIGRpZ2l0cy5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGlucHV0IG51bWJlciB3aXRoIGEgbGltaXRlZCBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0ZpeGVkKG4sIGRlY2ltYWxzKSB7XG4gIGNvbnN0IGZhY3RvciA9IE1hdGgucG93KDEwLCBkZWNpbWFscyk7XG4gIHJldHVybiBNYXRoLnJvdW5kKG4gKiBmYWN0b3IpIC8gZmFjdG9yO1xufVxuXG4vKipcbiAqIFJvdW5kcyBhIG51bWJlciB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyIHZhbHVlIGNvbnNpZGVyaW5nIG9ubHkgdGhlIGdpdmVuIG51bWJlclxuICogb2YgZGVjaW1hbCBkaWdpdHMgKHdpdGggcm91bmRpbmcgb24gdGhlIGZpbmFsIGRpZ2l0KS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBpbnB1dCBudW1iZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVjaW1hbHMgVGhlIG1heGltdW0gbnVtYmVyIG9mIGRlY2ltYWwgZGlnaXRzLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbmVhcmVzdCBpbnRlZ2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmQobiwgZGVjaW1hbHMpIHtcbiAgcmV0dXJuIE1hdGgucm91bmQodG9GaXhlZChuLCBkZWNpbWFscykpO1xufVxuXG4vKipcbiAqIFJvdW5kcyBhIG51bWJlciB0byB0aGUgbmV4dCBzbWFsbGVyIGludGVnZXIgY29uc2lkZXJpbmcgb25seSB0aGUgZ2l2ZW4gbnVtYmVyXG4gKiBvZiBkZWNpbWFsIGRpZ2l0cyAod2l0aCByb3VuZGluZyBvbiB0aGUgZmluYWwgZGlnaXQpLlxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGlucHV0IG51bWJlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWNpbWFscyBUaGUgbWF4aW11bSBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IHNtYWxsZXIgaW50ZWdlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG4sIGRlY2ltYWxzKSB7XG4gIHJldHVybiBNYXRoLmZsb29yKHRvRml4ZWQobiwgZGVjaW1hbHMpKTtcbn1cblxuLyoqXG4gKiBSb3VuZHMgYSBudW1iZXIgdG8gdGhlIG5leHQgYmlnZ2VyIGludGVnZXIgY29uc2lkZXJpbmcgb25seSB0aGUgZ2l2ZW4gbnVtYmVyXG4gKiBvZiBkZWNpbWFsIGRpZ2l0cyAod2l0aCByb3VuZGluZyBvbiB0aGUgZmluYWwgZGlnaXQpLlxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGlucHV0IG51bWJlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWNpbWFscyBUaGUgbWF4aW11bSBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IGJpZ2dlciBpbnRlZ2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VpbChuLCBkZWNpbWFscykge1xuICByZXR1cm4gTWF0aC5jZWlsKHRvRml4ZWQobiwgZGVjaW1hbHMpKTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9vYmpcbiAqL1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIHByb3BlcnRpZXMgZnJvbSBhbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xlYXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcihvYmplY3QpIHtcbiAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICBkZWxldGUgb2JqZWN0W3Byb3BlcnR5XTtcbiAgfVxufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaGFzIGFueSBwcm9wZXJ0aWVzLlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIG9iamVjdCBpcyBlbXB0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkob2JqZWN0KSB7XG4gIGxldCBwcm9wZXJ0eTtcbiAgZm9yIChwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuICFwcm9wZXJ0eTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL2Vwc2czODU3XG4gKi9cbmltcG9ydCBQcm9qZWN0aW9uIGZyb20gJy4vUHJvamVjdGlvbi5qcyc7XG5cbi8qKlxuICogUmFkaXVzIG9mIFdHUzg0IHNwaGVyZVxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IFJBRElVUyA9IDYzNzgxMzc7XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgSEFMRl9TSVpFID0gTWF0aC5QSSAqIFJBRElVUztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICovXG5leHBvcnQgY29uc3QgRVhURU5UID0gWy1IQUxGX1NJWkUsIC1IQUxGX1NJWkUsIEhBTEZfU0laRSwgSEFMRl9TSVpFXTtcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICovXG5leHBvcnQgY29uc3QgV09STERfRVhURU5UID0gWy0xODAsIC04NSwgMTgwLCA4NV07XG5cbi8qKlxuICogTWF4aW11bSBzYWZlIHZhbHVlIGluIHkgZGlyZWN0aW9uXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBNQVhfU0FGRV9ZID0gUkFESVVTICogTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSSAvIDIpKTtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQcm9qZWN0aW9uIG9iamVjdCBmb3Igd2ViL3NwaGVyaWNhbCBNZXJjYXRvciAoRVBTRzozODU3KS5cbiAqL1xuY2xhc3MgRVBTRzM4NTdQcm9qZWN0aW9uIGV4dGVuZHMgUHJvamVjdGlvbiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29kZSBDb2RlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29kZSkge1xuICAgIHN1cGVyKHtcbiAgICAgIGNvZGU6IGNvZGUsXG4gICAgICB1bml0czogJ20nLFxuICAgICAgZXh0ZW50OiBFWFRFTlQsXG4gICAgICBnbG9iYWw6IHRydWUsXG4gICAgICB3b3JsZEV4dGVudDogV09STERfRVhURU5ULFxuICAgICAgZ2V0UG9pbnRSZXNvbHV0aW9uOiBmdW5jdGlvbiAocmVzb2x1dGlvbiwgcG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdXRpb24gLyBNYXRoLmNvc2gocG9pbnRbMV0gLyBSQURJVVMpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFByb2plY3Rpb25zIGVxdWFsIHRvIEVQU0c6Mzg1Ny5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdD59XG4gKi9cbmV4cG9ydCBjb25zdCBQUk9KRUNUSU9OUyA9IFtcbiAgbmV3IEVQU0czODU3UHJvamVjdGlvbignRVBTRzozODU3JyksXG4gIG5ldyBFUFNHMzg1N1Byb2plY3Rpb24oJ0VQU0c6MTAyMTAwJyksXG4gIG5ldyBFUFNHMzg1N1Byb2plY3Rpb24oJ0VQU0c6MTAyMTEzJyksXG4gIG5ldyBFUFNHMzg1N1Byb2plY3Rpb24oJ0VQU0c6OTAwOTEzJyksXG4gIG5ldyBFUFNHMzg1N1Byb2plY3Rpb24oJ2h0dHA6Ly93d3cub3Blbmdpcy5uZXQvZGVmL2Nycy9FUFNHLzAvMzg1NycpLFxuICBuZXcgRVBTRzM4NTdQcm9qZWN0aW9uKCdodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbC9zcnMvZXBzZy54bWwjMzg1NycpLFxuXTtcblxuLyoqXG4gKiBUcmFuc2Zvcm1hdGlvbiBmcm9tIEVQU0c6NDMyNiB0byBFUFNHOjM4NTcuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBpbnB1dCBJbnB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW291dHB1dF0gT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtkaW1lbnNpb25dIERpbWVuc2lvbiAoZGVmYXVsdCBpcyBgMmApLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUVQU0c0MzI2KGlucHV0LCBvdXRwdXQsIGRpbWVuc2lvbikge1xuICBjb25zdCBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gIGRpbWVuc2lvbiA9IGRpbWVuc2lvbiA+IDEgPyBkaW1lbnNpb24gOiAyO1xuICBpZiAob3V0cHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoZGltZW5zaW9uID4gMikge1xuICAgICAgLy8gcHJlc2VydmUgdmFsdWVzIGJleW9uZCBzZWNvbmQgZGltZW5zaW9uXG4gICAgICBvdXRwdXQgPSBpbnB1dC5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gZGltZW5zaW9uKSB7XG4gICAgb3V0cHV0W2ldID0gKEhBTEZfU0laRSAqIGlucHV0W2ldKSAvIDE4MDtcbiAgICBsZXQgeSA9IFJBRElVUyAqIE1hdGgubG9nKE1hdGgudGFuKChNYXRoLlBJICogKCtpbnB1dFtpICsgMV0gKyA5MCkpIC8gMzYwKSk7XG4gICAgaWYgKHkgPiBNQVhfU0FGRV9ZKSB7XG4gICAgICB5ID0gTUFYX1NBRkVfWTtcbiAgICB9IGVsc2UgaWYgKHkgPCAtTUFYX1NBRkVfWSkge1xuICAgICAgeSA9IC1NQVhfU0FGRV9ZO1xuICAgIH1cbiAgICBvdXRwdXRbaSArIDFdID0geTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybWF0aW9uIGZyb20gRVBTRzozODU3IHRvIEVQU0c6NDMyNi5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGlucHV0IElucHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3V0cHV0XSBPdXRwdXQgYXJyYXkgb2YgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gW2RpbWVuc2lvbl0gRGltZW5zaW9uIChkZWZhdWx0IGlzIGAyYCkuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPdXRwdXQgYXJyYXkgb2YgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0VQU0c0MzI2KGlucHV0LCBvdXRwdXQsIGRpbWVuc2lvbikge1xuICBjb25zdCBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gIGRpbWVuc2lvbiA9IGRpbWVuc2lvbiA+IDEgPyBkaW1lbnNpb24gOiAyO1xuICBpZiAob3V0cHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoZGltZW5zaW9uID4gMikge1xuICAgICAgLy8gcHJlc2VydmUgdmFsdWVzIGJleW9uZCBzZWNvbmQgZGltZW5zaW9uXG4gICAgICBvdXRwdXQgPSBpbnB1dC5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gZGltZW5zaW9uKSB7XG4gICAgb3V0cHV0W2ldID0gKDE4MCAqIGlucHV0W2ldKSAvIEhBTEZfU0laRTtcbiAgICBvdXRwdXRbaSArIDFdID1cbiAgICAgICgzNjAgKiBNYXRoLmF0YW4oTWF0aC5leHAoaW5wdXRbaSArIDFdIC8gUkFESVVTKSkpIC8gTWF0aC5QSSAtIDkwO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcHJvai9lcHNnNDMyNlxuICovXG5pbXBvcnQgUHJvamVjdGlvbiBmcm9tICcuL1Byb2plY3Rpb24uanMnO1xuXG4vKipcbiAqIFNlbWktbWFqb3IgcmFkaXVzIG9mIHRoZSBXR1M4NCBlbGxpcHNvaWQuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgUkFESVVTID0gNjM3ODEzNztcblxuLyoqXG4gKiBFeHRlbnQgb2YgdGhlIEVQU0c6NDMyNiBwcm9qZWN0aW9uIHdoaWNoIGlzIHRoZSB3aG9sZSB3b3JsZC5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICovXG5leHBvcnQgY29uc3QgRVhURU5UID0gWy0xODAsIC05MCwgMTgwLCA5MF07XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgTUVURVJTX1BFUl9VTklUID0gKE1hdGguUEkgKiBSQURJVVMpIC8gMTgwO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFByb2plY3Rpb24gb2JqZWN0IGZvciBXR1M4NCBnZW9ncmFwaGljIGNvb3JkaW5hdGVzIChFUFNHOjQzMjYpLlxuICpcbiAqIE5vdGUgdGhhdCBPcGVuTGF5ZXJzIGRvZXMgbm90IHN0cmljdGx5IGNvbXBseSB3aXRoIHRoZSBFUFNHIGRlZmluaXRpb24uXG4gKiBUaGUgRVBTRyByZWdpc3RyeSBkZWZpbmVzIDQzMjYgYXMgYSBDUlMgZm9yIExhdGl0dWRlLExvbmdpdHVkZSAoeSx4KS5cbiAqIE9wZW5MYXllcnMgdHJlYXRzIEVQU0c6NDMyNiBhcyBhIHBzZXVkby1wcm9qZWN0aW9uLCB3aXRoIHgseSBjb29yZGluYXRlcy5cbiAqL1xuY2xhc3MgRVBTRzQzMjZQcm9qZWN0aW9uIGV4dGVuZHMgUHJvamVjdGlvbiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29kZSBDb2RlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2F4aXNPcmllbnRhdGlvbl0gQXhpcyBvcmllbnRhdGlvbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvZGUsIGF4aXNPcmllbnRhdGlvbikge1xuICAgIHN1cGVyKHtcbiAgICAgIGNvZGU6IGNvZGUsXG4gICAgICB1bml0czogJ2RlZ3JlZXMnLFxuICAgICAgZXh0ZW50OiBFWFRFTlQsXG4gICAgICBheGlzT3JpZW50YXRpb246IGF4aXNPcmllbnRhdGlvbixcbiAgICAgIGdsb2JhbDogdHJ1ZSxcbiAgICAgIG1ldGVyc1BlclVuaXQ6IE1FVEVSU19QRVJfVU5JVCxcbiAgICAgIHdvcmxkRXh0ZW50OiBFWFRFTlQsXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBQcm9qZWN0aW9ucyBlcXVhbCB0byBFUFNHOjQzMjYuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQ+fVxuICovXG5leHBvcnQgY29uc3QgUFJPSkVDVElPTlMgPSBbXG4gIG5ldyBFUFNHNDMyNlByb2plY3Rpb24oJ0NSUzo4NCcpLFxuICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCdFUFNHOjQzMjYnLCAnbmV1JyksXG4gIG5ldyBFUFNHNDMyNlByb2plY3Rpb24oJ3VybjpvZ2M6ZGVmOmNyczpPR0M6MS4zOkNSUzg0JyksXG4gIG5ldyBFUFNHNDMyNlByb2plY3Rpb24oJ3VybjpvZ2M6ZGVmOmNyczpPR0M6Mjo4NCcpLFxuICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCdodHRwOi8vd3d3Lm9wZW5naXMubmV0L2RlZi9jcnMvT0dDLzEuMy9DUlM4NCcpLFxuICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCdodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbC9zcnMvZXBzZy54bWwjNDMyNicsICduZXUnKSxcbiAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbignaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9kZWYvY3JzL0VQU0cvMC80MzI2JywgJ25ldScpLFxuXTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL3Byb2plY3Rpb25zXG4gKi9cblxuLyoqXG4gKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQ+fVxuICovXG5sZXQgY2FjaGUgPSB7fTtcblxuLyoqXG4gKiBDbGVhciB0aGUgcHJvamVjdGlvbnMgY2FjaGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcigpIHtcbiAgY2FjaGUgPSB7fTtcbn1cblxuLyoqXG4gKiBHZXQgYSBjYWNoZWQgcHJvamVjdGlvbiBieSBjb2RlLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgVGhlIGNvZGUgZm9yIHRoZSBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IFRoZSBwcm9qZWN0aW9uIChpZiBjYWNoZWQpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGNvZGUpIHtcbiAgcmV0dXJuIChcbiAgICBjYWNoZVtjb2RlXSB8fFxuICAgIGNhY2hlW2NvZGUucmVwbGFjZSgvdXJuOih4LSk/b2djOmRlZjpjcnM6RVBTRzooLio6KT8oXFx3KykkLywgJ0VQU0c6JDMnKV0gfHxcbiAgICBudWxsXG4gICk7XG59XG5cbi8qKlxuICogQWRkIGEgcHJvamVjdGlvbiB0byB0aGUgY2FjaGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29kZSBUaGUgcHJvamVjdGlvbiBjb2RlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBUaGUgcHJvamVjdGlvbiB0byBjYWNoZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChjb2RlLCBwcm9qZWN0aW9uKSB7XG4gIGNhY2hlW2NvZGVdID0gcHJvamVjdGlvbjtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL3RyYW5zZm9ybXNcbiAqL1xuaW1wb3J0IHtpc0VtcHR5fSBmcm9tICcuLi9vYmouanMnO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb24+Pn1cbiAqL1xubGV0IHRyYW5zZm9ybXMgPSB7fTtcblxuLyoqXG4gKiBDbGVhciB0aGUgdHJhbnNmb3JtIGNhY2hlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIoKSB7XG4gIHRyYW5zZm9ybXMgPSB7fTtcbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBjb252ZXJzaW9uIGZ1bmN0aW9uIHRvIGNvbnZlcnQgY29vcmRpbmF0ZXMgZnJvbSB0aGUgc291cmNlXG4gKiBwcm9qZWN0aW9uIHRvIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHNvdXJjZSBTb3VyY2UuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKHNvdXJjZSwgZGVzdGluYXRpb24sIHRyYW5zZm9ybUZuKSB7XG4gIGNvbnN0IHNvdXJjZUNvZGUgPSBzb3VyY2UuZ2V0Q29kZSgpO1xuICBjb25zdCBkZXN0aW5hdGlvbkNvZGUgPSBkZXN0aW5hdGlvbi5nZXRDb2RlKCk7XG4gIGlmICghKHNvdXJjZUNvZGUgaW4gdHJhbnNmb3JtcykpIHtcbiAgICB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdID0ge307XG4gIH1cbiAgdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXVtkZXN0aW5hdGlvbkNvZGVdID0gdHJhbnNmb3JtRm47XG59XG5cbi8qKlxuICogVW5yZWdpc3RlcnMgdGhlIGNvbnZlcnNpb24gZnVuY3Rpb24gdG8gY29udmVydCBjb29yZGluYXRlcyBmcm9tIHRoZSBzb3VyY2VcbiAqIHByb2plY3Rpb24gdG8gdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uICBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGNsZWFuIHVwXG4gKiBjYWNoZWQgdHJhbnNmb3JtcyBkdXJpbmcgdGVzdGluZy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgU291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVGhlIHVucmVnaXN0ZXJlZCB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoc291cmNlLCBkZXN0aW5hdGlvbikge1xuICBjb25zdCBzb3VyY2VDb2RlID0gc291cmNlLmdldENvZGUoKTtcbiAgY29uc3QgZGVzdGluYXRpb25Db2RlID0gZGVzdGluYXRpb24uZ2V0Q29kZSgpO1xuICBjb25zdCB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdW2Rlc3RpbmF0aW9uQ29kZV07XG4gIGRlbGV0ZSB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdW2Rlc3RpbmF0aW9uQ29kZV07XG4gIGlmIChpc0VtcHR5KHRyYW5zZm9ybXNbc291cmNlQ29kZV0pKSB7XG4gICAgZGVsZXRlIHRyYW5zZm9ybXNbc291cmNlQ29kZV07XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybTtcbn1cblxuLyoqXG4gKiBHZXQgYSB0cmFuc2Zvcm0gZ2l2ZW4gYSBzb3VyY2UgY29kZSBhbmQgYSBkZXN0aW5hdGlvbiBjb2RlLlxuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZUNvZGUgVGhlIGNvZGUgZm9yIHRoZSBzb3VyY2UgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkZXN0aW5hdGlvbkNvZGUgVGhlIGNvZGUgZm9yIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbnx1bmRlZmluZWR9IFRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gKGlmIGZvdW5kKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChzb3VyY2VDb2RlLCBkZXN0aW5hdGlvbkNvZGUpIHtcbiAgbGV0IHRyYW5zZm9ybTtcbiAgaWYgKHNvdXJjZUNvZGUgaW4gdHJhbnNmb3JtcyAmJiBkZXN0aW5hdGlvbkNvZGUgaW4gdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXSkge1xuICAgIHRyYW5zZm9ybSA9IHRyYW5zZm9ybXNbc291cmNlQ29kZV1bZGVzdGluYXRpb25Db2RlXTtcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NwaGVyZVxuICovXG5pbXBvcnQge3RvRGVncmVlcywgdG9SYWRpYW5zfSBmcm9tICcuL21hdGguanMnO1xuXG4vKipcbiAqIE9iamVjdCBsaXRlcmFsIHdpdGggb3B0aW9ucyBmb3IgdGhlIHtAbGluayBnZXRMZW5ndGh9IG9yIHtAbGluayBnZXRBcmVhfVxuICogZnVuY3Rpb25zLlxuICogQHR5cGVkZWYge09iamVjdH0gU3BoZXJlTWV0cmljT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uPSdFUFNHOjM4NTcnXVxuICogUHJvamVjdGlvbiBvZiB0aGUgIGdlb21ldHJ5LiAgQnkgZGVmYXVsdCwgdGhlIGdlb21ldHJ5IGlzIGFzc3VtZWQgdG8gYmUgaW5cbiAqIFdlYiBNZXJjYXRvci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmFkaXVzPTYzNzEwMDguOF0gU3BoZXJlIHJhZGl1cy4gIEJ5IGRlZmF1bHQsIHRoZVxuICogW21lYW4gRWFydGggcmFkaXVzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FYXJ0aF9yYWRpdXMjTWVhbl9yYWRpdXMpXG4gKiBmb3IgdGhlIFdHUzg0IGVsbGlwc29pZCBpcyB1c2VkLlxuICovXG5cbi8qKlxuICogVGhlIG1lYW4gRWFydGggcmFkaXVzICgxLzMgKiAoMmEgKyBiKSkgZm9yIHRoZSBXR1M4NCBlbGxpcHNvaWQuXG4gKiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FYXJ0aF9yYWRpdXMjTWVhbl9yYWRpdXNcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1JBRElVUyA9IDYzNzEwMDguODtcblxuLyoqXG4gKiBHZXQgdGhlIGdyZWF0IGNpcmNsZSBkaXN0YW5jZSAoaW4gbWV0ZXJzKSBiZXR3ZWVuIHR3byBnZW9ncmFwaGljIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtBcnJheX0gYzEgU3RhcnRpbmcgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7QXJyYXl9IGMyIEVuZGluZyBjb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXNdIFRoZSBzcGhlcmUgcmFkaXVzIHRvIHVzZS4gIERlZmF1bHRzIHRvIHRoZSBFYXJ0aCdzXG4gKiAgICAgbWVhbiByYWRpdXMgdXNpbmcgdGhlIFdHUzg0IGVsbGlwc29pZC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGdyZWF0IGNpcmNsZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBwb2ludHMgKGluIG1ldGVycykuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREaXN0YW5jZShjMSwgYzIsIHJhZGl1cykge1xuICByYWRpdXMgPSByYWRpdXMgfHwgREVGQVVMVF9SQURJVVM7XG4gIGNvbnN0IGxhdDEgPSB0b1JhZGlhbnMoYzFbMV0pO1xuICBjb25zdCBsYXQyID0gdG9SYWRpYW5zKGMyWzFdKTtcbiAgY29uc3QgZGVsdGFMYXRCeTIgPSAobGF0MiAtIGxhdDEpIC8gMjtcbiAgY29uc3QgZGVsdGFMb25CeTIgPSB0b1JhZGlhbnMoYzJbMF0gLSBjMVswXSkgLyAyO1xuICBjb25zdCBhID1cbiAgICBNYXRoLnNpbihkZWx0YUxhdEJ5MikgKiBNYXRoLnNpbihkZWx0YUxhdEJ5MikgK1xuICAgIE1hdGguc2luKGRlbHRhTG9uQnkyKSAqXG4gICAgICBNYXRoLnNpbihkZWx0YUxvbkJ5MikgKlxuICAgICAgTWF0aC5jb3MobGF0MSkgKlxuICAgICAgTWF0aC5jb3MobGF0Mik7XG4gIHJldHVybiAyICogcmFkaXVzICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VtdWxhdGl2ZSBncmVhdCBjaXJjbGUgbGVuZ3RoIG9mIGxpbmVzdHJpbmcgY29vcmRpbmF0ZXMgKGdlb2dyYXBoaWMpLlxuICogQHBhcmFtIHtBcnJheX0gY29vcmRpbmF0ZXMgTGluZXN0cmluZyBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgVGhlIHNwaGVyZSByYWRpdXMgdG8gdXNlLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGVuZ3RoIChpbiBtZXRlcnMpLlxuICovXG5mdW5jdGlvbiBnZXRMZW5ndGhJbnRlcm5hbChjb29yZGluYXRlcywgcmFkaXVzKSB7XG4gIGxldCBsZW5ndGggPSAwO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaSAtIDE7ICsraSkge1xuICAgIGxlbmd0aCArPSBnZXREaXN0YW5jZShjb29yZGluYXRlc1tpXSwgY29vcmRpbmF0ZXNbaSArIDFdLCByYWRpdXMpO1xuICB9XG4gIHJldHVybiBsZW5ndGg7XG59XG5cbi8qKlxuICogR2V0IHRoZSBzcGhlcmljYWwgbGVuZ3RoIG9mIGEgZ2VvbWV0cnkuICBUaGlzIGxlbmd0aCBpcyB0aGUgc3VtIG9mIHRoZVxuICogZ3JlYXQgY2lyY2xlIGRpc3RhbmNlcyBiZXR3ZWVuIGNvb3JkaW5hdGVzLiAgRm9yIHBvbHlnb25zLCB0aGUgbGVuZ3RoIGlzXG4gKiB0aGUgc3VtIG9mIGFsbCByaW5ncy4gIEZvciBwb2ludHMsIHRoZSBsZW5ndGggaXMgemVyby4gIEZvciBtdWx0aS1wYXJ0XG4gKiBnZW9tZXRyaWVzLCB0aGUgbGVuZ3RoIGlzIHRoZSBzdW0gb2YgdGhlIGxlbmd0aCBvZiBlYWNoIHBhcnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBBIGdlb21ldHJ5LlxuICogQHBhcmFtIHtTcGhlcmVNZXRyaWNPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucyBmb3IgdGhlXG4gKiBsZW5ndGggY2FsY3VsYXRpb24uICBCeSBkZWZhdWx0LCBnZW9tZXRyaWVzIGFyZSBhc3N1bWVkIHRvIGJlIGluICdFUFNHOjM4NTcnLlxuICogWW91IGNhbiBjaGFuZ2UgdGhpcyBieSBwcm92aWRpbmcgYSBgcHJvamVjdGlvbmAgb3B0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgc3BoZXJpY2FsIGxlbmd0aCAoaW4gbWV0ZXJzKS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExlbmd0aChnZW9tZXRyeSwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3QgcmFkaXVzID0gb3B0aW9ucy5yYWRpdXMgfHwgREVGQVVMVF9SQURJVVM7XG4gIGNvbnN0IHByb2plY3Rpb24gPSBvcHRpb25zLnByb2plY3Rpb24gfHwgJ0VQU0c6Mzg1Nyc7XG4gIGNvbnN0IHR5cGUgPSBnZW9tZXRyeS5nZXRUeXBlKCk7XG4gIGlmICh0eXBlICE9PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuICAgIGdlb21ldHJ5ID0gZ2VvbWV0cnkuY2xvbmUoKS50cmFuc2Zvcm0ocHJvamVjdGlvbiwgJ0VQU0c6NDMyNicpO1xuICB9XG4gIGxldCBsZW5ndGggPSAwO1xuICBsZXQgY29vcmRpbmF0ZXMsIGNvb3JkcywgaSwgaWksIGosIGpqO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdQb2ludCc6XG4gICAgY2FzZSAnTXVsdGlQb2ludCc6IHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdMaW5lU3RyaW5nJzpcbiAgICBjYXNlICdMaW5lYXJSaW5nJzoge1xuICAgICAgY29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGdlb21ldHJ5XG4gICAgICApLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICBsZW5ndGggPSBnZXRMZW5ndGhJbnRlcm5hbChjb29yZGluYXRlcywgcmFkaXVzKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdNdWx0aUxpbmVTdHJpbmcnOlxuICAgIGNhc2UgJ1BvbHlnb24nOiB7XG4gICAgICBjb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgZ2VvbWV0cnlcbiAgICAgICkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIGZvciAoaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBsZW5ndGggKz0gZ2V0TGVuZ3RoSW50ZXJuYWwoY29vcmRpbmF0ZXNbaV0sIHJhZGl1cyk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSAnTXVsdGlQb2x5Z29uJzoge1xuICAgICAgY29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGdlb21ldHJ5XG4gICAgICApLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICBmb3IgKGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgY29vcmRzID0gY29vcmRpbmF0ZXNbaV07XG4gICAgICAgIGZvciAoaiA9IDAsIGpqID0gY29vcmRzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICBsZW5ndGggKz0gZ2V0TGVuZ3RoSW50ZXJuYWwoY29vcmRzW2pdLCByYWRpdXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSAnR2VvbWV0cnlDb2xsZWN0aW9uJzoge1xuICAgICAgY29uc3QgZ2VvbWV0cmllcyA9XG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgKS5nZXRHZW9tZXRyaWVzKCk7XG4gICAgICBmb3IgKGkgPSAwLCBpaSA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBsZW5ndGggKz0gZ2V0TGVuZ3RoKGdlb21ldHJpZXNbaV0sIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgZ2VvbWV0cnkgdHlwZTogJyArIHR5cGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbGVuZ3RoO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNwaGVyaWNhbCBhcmVhIGZvciBhIGxpc3Qgb2YgY29vcmRpbmF0ZXMuXG4gKlxuICogW1JlZmVyZW5jZV0oaHR0cHM6Ly90cnMuanBsLm5hc2EuZ292L2hhbmRsZS8yMDE0LzQwNDA5KVxuICogUm9iZXJ0LiBHLiBDaGFtYmVybGFpbiBhbmQgV2lsbGlhbSBILiBEdXF1ZXR0ZSwgXCJTb21lIEFsZ29yaXRobXMgZm9yXG4gKiBQb2x5Z29ucyBvbiBhIFNwaGVyZVwiLCBKUEwgUHVibGljYXRpb24gMDctMDMsIEpldCBQcm9wdWxzaW9uXG4gKiBMYWJvcmF0b3J5LCBQYXNhZGVuYSwgQ0EsIEp1bmUgMjAwN1xuICpcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBMaXN0IG9mIGNvb3JkaW5hdGVzIG9mIGEgbGluZWFyXG4gKiByaW5nLiBJZiB0aGUgcmluZyBpcyBvcmllbnRlZCBjbG9ja3dpc2UsIHRoZSBhcmVhIHdpbGwgYmUgcG9zaXRpdmUsXG4gKiBvdGhlcndpc2UgaXQgd2lsbCBiZSBuZWdhdGl2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgVGhlIHNwaGVyZSByYWRpdXMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEgKGluIHNxdWFyZSBtZXRlcnMpLlxuICovXG5mdW5jdGlvbiBnZXRBcmVhSW50ZXJuYWwoY29vcmRpbmF0ZXMsIHJhZGl1cykge1xuICBsZXQgYXJlYSA9IDA7XG4gIGNvbnN0IGxlbiA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgbGV0IHgxID0gY29vcmRpbmF0ZXNbbGVuIC0gMV1bMF07XG4gIGxldCB5MSA9IGNvb3JkaW5hdGVzW2xlbiAtIDFdWzFdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgeDIgPSBjb29yZGluYXRlc1tpXVswXTtcbiAgICBjb25zdCB5MiA9IGNvb3JkaW5hdGVzW2ldWzFdO1xuICAgIGFyZWEgKz1cbiAgICAgIHRvUmFkaWFucyh4MiAtIHgxKSAqXG4gICAgICAoMiArIE1hdGguc2luKHRvUmFkaWFucyh5MSkpICsgTWF0aC5zaW4odG9SYWRpYW5zKHkyKSkpO1xuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICByZXR1cm4gKGFyZWEgKiByYWRpdXMgKiByYWRpdXMpIC8gMi4wO1xufVxuXG4vKipcbiAqIEdldCB0aGUgc3BoZXJpY2FsIGFyZWEgb2YgYSBnZW9tZXRyeS4gIFRoaXMgaXMgdGhlIGFyZWEgKGluIG1ldGVycykgYXNzdW1pbmdcbiAqIHRoYXQgcG9seWdvbiBlZGdlcyBhcmUgc2VnbWVudHMgb2YgZ3JlYXQgY2lyY2xlcyBvbiBhIHNwaGVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEEgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge1NwaGVyZU1ldHJpY09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zIGZvciB0aGUgYXJlYVxuICogICAgIGNhbGN1bGF0aW9uLiAgQnkgZGVmYXVsdCwgZ2VvbWV0cmllcyBhcmUgYXNzdW1lZCB0byBiZSBpbiAnRVBTRzozODU3Jy5cbiAqICAgICBZb3UgY2FuIGNoYW5nZSB0aGlzIGJ5IHByb3ZpZGluZyBhIGBwcm9qZWN0aW9uYCBvcHRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBzcGhlcmljYWwgYXJlYSAoaW4gc3F1YXJlIG1ldGVycykuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcmVhKGdlb21ldHJ5LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCByYWRpdXMgPSBvcHRpb25zLnJhZGl1cyB8fCBERUZBVUxUX1JBRElVUztcbiAgY29uc3QgcHJvamVjdGlvbiA9IG9wdGlvbnMucHJvamVjdGlvbiB8fCAnRVBTRzozODU3JztcbiAgY29uc3QgdHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgaWYgKHR5cGUgIT09ICdHZW9tZXRyeUNvbGxlY3Rpb24nKSB7XG4gICAgZ2VvbWV0cnkgPSBnZW9tZXRyeS5jbG9uZSgpLnRyYW5zZm9ybShwcm9qZWN0aW9uLCAnRVBTRzo0MzI2Jyk7XG4gIH1cbiAgbGV0IGFyZWEgPSAwO1xuICBsZXQgY29vcmRpbmF0ZXMsIGNvb3JkcywgaSwgaWksIGosIGpqO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdQb2ludCc6XG4gICAgY2FzZSAnTXVsdGlQb2ludCc6XG4gICAgY2FzZSAnTGluZVN0cmluZyc6XG4gICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcbiAgICBjYXNlICdMaW5lYXJSaW5nJzoge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ1BvbHlnb24nOiB7XG4gICAgICBjb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeVxuICAgICAgKS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgYXJlYSA9IE1hdGguYWJzKGdldEFyZWFJbnRlcm5hbChjb29yZGluYXRlc1swXSwgcmFkaXVzKSk7XG4gICAgICBmb3IgKGkgPSAxLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgYXJlYSAtPSBNYXRoLmFicyhnZXRBcmVhSW50ZXJuYWwoY29vcmRpbmF0ZXNbaV0sIHJhZGl1cykpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ011bHRpUG9seWdvbic6IHtcbiAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeVxuICAgICAgKS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgZm9yIChpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvb3JkcyA9IGNvb3JkaW5hdGVzW2ldO1xuICAgICAgICBhcmVhICs9IE1hdGguYWJzKGdldEFyZWFJbnRlcm5hbChjb29yZHNbMF0sIHJhZGl1cykpO1xuICAgICAgICBmb3IgKGogPSAxLCBqaiA9IGNvb3Jkcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgYXJlYSAtPSBNYXRoLmFicyhnZXRBcmVhSW50ZXJuYWwoY29vcmRzW2pdLCByYWRpdXMpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ0dlb21ldHJ5Q29sbGVjdGlvbic6IHtcbiAgICAgIGNvbnN0IGdlb21ldHJpZXMgPVxuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICkuZ2V0R2VvbWV0cmllcygpO1xuICAgICAgZm9yIChpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgYXJlYSArPSBnZXRBcmVhKGdlb21ldHJpZXNbaV0sIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgZ2VvbWV0cnkgdHlwZTogJyArIHR5cGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJlYTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb29yZGluYXRlIGF0IHRoZSBnaXZlbiBkaXN0YW5jZSBhbmQgYmVhcmluZyBmcm9tIGBjMWAuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYzEgVGhlIG9yaWdpbiBwb2ludCAoYFtsb24sIGxhdF1gIGluIGRlZ3JlZXMpLlxuICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlIFRoZSBncmVhdC1jaXJjbGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgb3JpZ2luXG4gKiAgICAgcG9pbnQgYW5kIHRoZSB0YXJnZXQgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gYmVhcmluZyBUaGUgYmVhcmluZyAoaW4gcmFkaWFucykuXG4gKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1c10gVGhlIHNwaGVyZSByYWRpdXMgdG8gdXNlLiAgRGVmYXVsdHMgdG8gdGhlIEVhcnRoJ3NcbiAqICAgICBtZWFuIHJhZGl1cyB1c2luZyB0aGUgV0dTODQgZWxsaXBzb2lkLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRoZSB0YXJnZXQgcG9pbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvZmZzZXQoYzEsIGRpc3RhbmNlLCBiZWFyaW5nLCByYWRpdXMpIHtcbiAgcmFkaXVzID0gcmFkaXVzIHx8IERFRkFVTFRfUkFESVVTO1xuICBjb25zdCBsYXQxID0gdG9SYWRpYW5zKGMxWzFdKTtcbiAgY29uc3QgbG9uMSA9IHRvUmFkaWFucyhjMVswXSk7XG4gIGNvbnN0IGRCeVIgPSBkaXN0YW5jZSAvIHJhZGl1cztcbiAgY29uc3QgbGF0ID0gTWF0aC5hc2luKFxuICAgIE1hdGguc2luKGxhdDEpICogTWF0aC5jb3MoZEJ5UikgK1xuICAgICAgTWF0aC5jb3MobGF0MSkgKiBNYXRoLnNpbihkQnlSKSAqIE1hdGguY29zKGJlYXJpbmcpXG4gICk7XG4gIGNvbnN0IGxvbiA9XG4gICAgbG9uMSArXG4gICAgTWF0aC5hdGFuMihcbiAgICAgIE1hdGguc2luKGJlYXJpbmcpICogTWF0aC5zaW4oZEJ5UikgKiBNYXRoLmNvcyhsYXQxKSxcbiAgICAgIE1hdGguY29zKGRCeVIpIC0gTWF0aC5zaW4obGF0MSkgKiBNYXRoLnNpbihsYXQpXG4gICAgKTtcbiAgcmV0dXJuIFt0b0RlZ3JlZXMobG9uKSwgdG9EZWdyZWVzKGxhdCldO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2pcbiAqL1xuXG4vKipcbiAqIFRoZSBvbC9wcm9qIG1vZHVsZSBzdG9yZXM6XG4gKiAqIGEgbGlzdCBvZiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufVxuICogb2JqZWN0cywgb25lIGZvciBlYWNoIHByb2plY3Rpb24gc3VwcG9ydGVkIGJ5IHRoZSBhcHBsaWNhdGlvblxuICogKiBhIGxpc3Qgb2YgdHJhbnNmb3JtIGZ1bmN0aW9ucyBuZWVkZWQgdG8gY29udmVydCBjb29yZGluYXRlcyBpbiBvbmUgcHJvamVjdGlvblxuICogaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBzdGF0aWMgZnVuY3Rpb25zIGFyZSB0aGUgbWV0aG9kcyB1c2VkIHRvIG1haW50YWluIHRoZXNlLlxuICogRWFjaCB0cmFuc2Zvcm0gZnVuY3Rpb24gY2FuIGhhbmRsZSBub3Qgb25seSBzaW1wbGUgY29vcmRpbmF0ZSBwYWlycywgYnV0IGFsc29cbiAqIGxhcmdlIGFycmF5cyBvZiBjb29yZGluYXRlcyBzdWNoIGFzIHZlY3RvciBnZW9tZXRyaWVzLlxuICpcbiAqIFdoZW4gbG9hZGVkLCB0aGUgbGlicmFyeSBhZGRzIHByb2plY3Rpb24gb2JqZWN0cyBmb3IgRVBTRzo0MzI2IChXR1M4NFxuICogZ2VvZ3JhcGhpYyBjb29yZGluYXRlcykgYW5kIEVQU0c6Mzg1NyAoV2ViIG9yIFNwaGVyaWNhbCBNZXJjYXRvciwgYXMgdXNlZFxuICogZm9yIGV4YW1wbGUgYnkgQmluZyBNYXBzIG9yIE9wZW5TdHJlZXRNYXApLCB0b2dldGhlciB3aXRoIHRoZSByZWxldmFudFxuICogdHJhbnNmb3JtIGZ1bmN0aW9ucy5cbiAqXG4gKiBBZGRpdGlvbmFsIHRyYW5zZm9ybXMgbWF5IGJlIGFkZGVkIGJ5IHVzaW5nIHRoZSBodHRwOi8vcHJvajRqcy5vcmcvXG4gKiBsaWJyYXJ5ICh2ZXJzaW9uIDIuMiBvciBsYXRlcikuIFlvdSBjYW4gdXNlIHRoZSBmdWxsIGJ1aWxkIHN1cHBsaWVkIGJ5XG4gKiBQcm9qNGpzLCBvciBjcmVhdGUgYSBjdXN0b20gYnVpbGQgdG8gc3VwcG9ydCB0aG9zZSBwcm9qZWN0aW9ucyB5b3UgbmVlZDsgc2VlXG4gKiB0aGUgUHJvajRqcyB3ZWJzaXRlIGZvciBob3cgdG8gZG8gdGhpcy4gWW91IGFsc28gbmVlZCB0aGUgUHJvajRqcyBkZWZpbml0aW9uc1xuICogZm9yIHRoZSByZXF1aXJlZCBwcm9qZWN0aW9ucy4gVGhlc2UgZGVmaW5pdGlvbnMgY2FuIGJlIG9idGFpbmVkIGZyb21cbiAqIGh0dHBzOi8vZXBzZy5pby8sIGFuZCBhcmUgYSBKUyBmdW5jdGlvbiwgc28gY2FuIGJlIGxvYWRlZCBpbiBhIHNjcmlwdFxuICogdGFnIChhcyBpbiB0aGUgZXhhbXBsZXMpIG9yIHBhc3RlZCBpbnRvIHlvdXIgYXBwbGljYXRpb24uXG4gKlxuICogQWZ0ZXIgYWxsIHJlcXVpcmVkIHByb2plY3Rpb24gZGVmaW5pdGlvbnMgYXJlIGFkZGVkIHRvIHByb2o0J3MgcmVnaXN0cnkgKGJ5XG4gKiB1c2luZyBgcHJvajQuZGVmcygpYCksIHNpbXBseSBjYWxsIGByZWdpc3Rlcihwcm9qNClgIGZyb20gdGhlIGBvbC9wcm9qL3Byb2o0YFxuICogcGFja2FnZS4gRXhpc3RpbmcgdHJhbnNmb3JtcyBhcmUgbm90IGNoYW5nZWQgYnkgdGhpcyBmdW5jdGlvbi4gU2VlXG4gKiBleGFtcGxlcy93bXMtaW1hZ2UtY3VzdG9tLXByb2ogZm9yIGFuIGV4YW1wbGUgb2YgdGhpcy5cbiAqXG4gKiBBZGRpdGlvbmFsIHByb2plY3Rpb24gZGVmaW5pdGlvbnMgY2FuIGJlIHJlZ2lzdGVyZWQgd2l0aCBgcHJvajQuZGVmcygpYCBhbnlcbiAqIHRpbWUuIEp1c3QgbWFrZSBzdXJlIHRvIGNhbGwgYHJlZ2lzdGVyKHByb2o0KWAgYWdhaW47IGZvciBleGFtcGxlLCB3aXRoIHVzZXItc3VwcGxpZWQgZGF0YSB3aGVyZSB5b3UgZG9uJ3RcbiAqIGtub3cgaW4gYWR2YW5jZSB3aGF0IHByb2plY3Rpb25zIGFyZSBuZWVkZWQsIHlvdSBjYW4gaW5pdGlhbGx5IGxvYWQgbWluaW1hbFxuICogc3VwcG9ydCBhbmQgdGhlbiBsb2FkIHdoaWNoZXZlciBhcmUgcmVxdWVzdGVkLlxuICpcbiAqIE5vdGUgdGhhdCBQcm9qNGpzIGRvZXMgbm90IHN1cHBvcnQgcHJvamVjdGlvbiBleHRlbnRzLiBJZiB5b3Ugd2FudCB0byBhZGRcbiAqIG9uZSBmb3IgY3JlYXRpbmcgZGVmYXVsdCB0aWxlIGdyaWRzLCB5b3UgY2FuIGFkZCBpdCBhZnRlciB0aGUgUHJvamVjdGlvblxuICogb2JqZWN0IGhhcyBiZWVuIGNyZWF0ZWQgd2l0aCBgc2V0RXh0ZW50YCwgZm9yIGV4YW1wbGUsXG4gKiBgZ2V0KCdFUFNHOjEyMzQnKS5zZXRFeHRlbnQoZXh0ZW50KWAuXG4gKlxuICogSW4gYWRkaXRpb24gdG8gUHJvajRqcyBzdXBwb3J0LCBhbnkgdHJhbnNmb3JtIGZ1bmN0aW9ucyBjYW4gYmUgYWRkZWQgd2l0aFxuICoge0BsaW5rIG1vZHVsZTpvbC9wcm9qLmFkZENvb3JkaW5hdGVUcmFuc2Zvcm1zfS4gVG8gdXNlIHRoaXMsIHlvdSBtdXN0IGZpcnN0IGNyZWF0ZVxuICogYSB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufSBvYmplY3QgZm9yIHRoZSBuZXcgcHJvamVjdGlvbiBhbmQgYWRkIGl0IHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai5hZGRQcm9qZWN0aW9ufS4gWW91IGNhbiB0aGVuIGFkZCB0aGUgZm9yd2FyZCBhbmQgaW52ZXJzZVxuICogZnVuY3Rpb25zIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9wcm9qLmFkZENvb3JkaW5hdGVUcmFuc2Zvcm1zfS4gU2VlXG4gKiBleGFtcGxlcy93bXMtY3VzdG9tLXByb2ogZm9yIGFuIGV4YW1wbGUgb2YgdGhpcy5cbiAqXG4gKiBOb3RlIHRoYXQgaWYgbm8gdHJhbnNmb3JtcyBhcmUgbmVlZGVkIGFuZCB5b3Ugb25seSBuZWVkIHRvIGRlZmluZSB0aGVcbiAqIHByb2plY3Rpb24sIGp1c3QgYWRkIGEge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb25+UHJvamVjdGlvbn0gd2l0aFxuICoge0BsaW5rIG1vZHVsZTpvbC9wcm9qLmFkZFByb2plY3Rpb259LiBTZWUgZXhhbXBsZXMvd21zLW5vLXByb2ogZm9yIGFuIGV4YW1wbGUgb2ZcbiAqIHRoaXMuXG4gKi9cbmltcG9ydCBQcm9qZWN0aW9uIGZyb20gJy4vcHJvai9Qcm9qZWN0aW9uLmpzJztcbmltcG9ydCB7XG4gIFBST0pFQ1RJT05TIGFzIEVQU0czODU3X1BST0pFQ1RJT05TLFxuICBmcm9tRVBTRzQzMjYsXG4gIHRvRVBTRzQzMjYsXG59IGZyb20gJy4vcHJvai9lcHNnMzg1Ny5qcyc7XG5pbXBvcnQge1BST0pFQ1RJT05TIGFzIEVQU0c0MzI2X1BST0pFQ1RJT05TfSBmcm9tICcuL3Byb2ovZXBzZzQzMjYuanMnO1xuaW1wb3J0IHtNRVRFUlNfUEVSX1VOSVR9IGZyb20gJy4vcHJvai9Vbml0cy5qcyc7XG5pbXBvcnQge1xuICBhZGQgYXMgYWRkUHJvaixcbiAgY2xlYXIgYXMgY2xlYXJQcm9qLFxuICBnZXQgYXMgZ2V0UHJvaixcbn0gZnJvbSAnLi9wcm9qL3Byb2plY3Rpb25zLmpzJztcbmltcG9ydCB7XG4gIGFkZCBhcyBhZGRUcmFuc2Zvcm1GdW5jLFxuICBjbGVhciBhcyBjbGVhclRyYW5zZm9ybUZ1bmNzLFxuICBnZXQgYXMgZ2V0VHJhbnNmb3JtRnVuYyxcbn0gZnJvbSAnLi9wcm9qL3RyYW5zZm9ybXMuanMnO1xuaW1wb3J0IHthcHBseVRyYW5zZm9ybSwgZ2V0V2lkdGh9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7Y2xhbXAsIG1vZHVsb30gZnJvbSAnLi9tYXRoLmpzJztcbmltcG9ydCB7ZXF1YWxzLCBnZXRXb3JsZHNBd2F5fSBmcm9tICcuL2Nvb3JkaW5hdGUuanMnO1xuaW1wb3J0IHtnZXREaXN0YW5jZX0gZnJvbSAnLi9zcGhlcmUuanMnO1xuaW1wb3J0IHt3YXJufSBmcm9tICcuL2NvbnNvbGUuanMnO1xuXG4vKipcbiAqIEEgcHJvamVjdGlvbiBhcyB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufSwgU1JTIGlkZW50aWZpZXJcbiAqIHN0cmluZyBvciB1bmRlZmluZWQuXG4gKiBAdHlwZWRlZiB7UHJvamVjdGlvbnxzdHJpbmd8dW5kZWZpbmVkfSBQcm9qZWN0aW9uTGlrZVxuICogQGFwaVxuICovXG5cbi8qKlxuICogQSB0cmFuc2Zvcm0gZnVuY3Rpb24gYWNjZXB0cyBhbiBhcnJheSBvZiBpbnB1dCBjb29yZGluYXRlIHZhbHVlcywgYW4gb3B0aW9uYWxcbiAqIG91dHB1dCBhcnJheSwgYW5kIGFuIG9wdGlvbmFsIGRpbWVuc2lvbiAoZGVmYXVsdCBzaG91bGQgYmUgMikuICBUaGUgZnVuY3Rpb25cbiAqIHRyYW5zZm9ybXMgdGhlIGlucHV0IGNvb3JkaW5hdGUgdmFsdWVzLCBwb3B1bGF0ZXMgdGhlIG91dHB1dCBhcnJheSwgYW5kXG4gKiByZXR1cm5zIHRoZSBvdXRwdXQgYXJyYXkuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKEFycmF5PG51bWJlcj4sIEFycmF5PG51bWJlcj49LCBudW1iZXI9KTogQXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuXG5leHBvcnQge01FVEVSU19QRVJfVU5JVH07XG5cbmV4cG9ydCB7UHJvamVjdGlvbn07XG5cbmxldCBzaG93Q29vcmRpbmF0ZVdhcm5pbmcgPSB0cnVlO1xuXG4vKipcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rpc2FibGUgPSB0cnVlXSBEaXNhYmxlIGNvbnNvbGUgaW5mbyBhYm91dCBgdXNlR2VvZ3JhcGhpYygpYFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZUNvb3JkaW5hdGVXYXJuaW5nKGRpc2FibGUpIHtcbiAgY29uc3QgaGlkZSA9IGRpc2FibGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBkaXNhYmxlO1xuICBzaG93Q29vcmRpbmF0ZVdhcm5pbmcgPSAhaGlkZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGlucHV0IElucHV0IGNvb3JkaW5hdGUgYXJyYXkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvdXRwdXRdIE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE91dHB1dCBjb29yZGluYXRlIGFycmF5IChuZXcgYXJyYXksIHNhbWUgY29vcmRpbmF0ZVxuICogICAgIHZhbHVlcykuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZVRyYW5zZm9ybShpbnB1dCwgb3V0cHV0KSB7XG4gIGlmIChvdXRwdXQgIT09IHVuZGVmaW5lZCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGlucHV0Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIG91dHB1dFtpXSA9IGlucHV0W2ldO1xuICAgIH1cbiAgICBvdXRwdXQgPSBvdXRwdXQ7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0gaW5wdXQuc2xpY2UoKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5wdXQgSW5wdXQgY29vcmRpbmF0ZSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW291dHB1dF0gT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gSW5wdXQgY29vcmRpbmF0ZSBhcnJheSAoc2FtZSBhcnJheSBhcyBpbnB1dCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eVRyYW5zZm9ybShpbnB1dCwgb3V0cHV0KSB7XG4gIGlmIChvdXRwdXQgIT09IHVuZGVmaW5lZCAmJiBpbnB1dCAhPT0gb3V0cHV0KSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gaW5wdXQubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgb3V0cHV0W2ldID0gaW5wdXRbaV07XG4gICAgfVxuICAgIGlucHV0ID0gb3V0cHV0O1xuICB9XG4gIHJldHVybiBpbnB1dDtcbn1cblxuLyoqXG4gKiBBZGQgYSBQcm9qZWN0aW9uIG9iamVjdCB0byB0aGUgbGlzdCBvZiBzdXBwb3J0ZWQgcHJvamVjdGlvbnMgdGhhdCBjYW4gYmVcbiAqIGxvb2tlZCB1cCBieSB0aGVpciBjb2RlLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gcHJvamVjdGlvbiBQcm9qZWN0aW9uIGluc3RhbmNlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gIGFkZFByb2oocHJvamVjdGlvbi5nZXRDb2RlKCksIHByb2plY3Rpb24pO1xuICBhZGRUcmFuc2Zvcm1GdW5jKHByb2plY3Rpb24sIHByb2plY3Rpb24sIGNsb25lVHJhbnNmb3JtKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFByb2plY3Rpb24+fSBwcm9qZWN0aW9ucyBQcm9qZWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFByb2plY3Rpb25zKHByb2plY3Rpb25zKSB7XG4gIHByb2plY3Rpb25zLmZvckVhY2goYWRkUHJvamVjdGlvbik7XG59XG5cbi8qKlxuICogRmV0Y2hlcyBhIFByb2plY3Rpb24gb2JqZWN0IGZvciB0aGUgY29kZSBzcGVjaWZpZWQuXG4gKlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbkxpa2UgRWl0aGVyIGEgY29kZSBzdHJpbmcgd2hpY2ggaXNcbiAqICAgICBhIGNvbWJpbmF0aW9uIG9mIGF1dGhvcml0eSBhbmQgaWRlbnRpZmllciBzdWNoIGFzIFwiRVBTRzo0MzI2XCIsIG9yIGFuXG4gKiAgICAgZXhpc3RpbmcgcHJvamVjdGlvbiBvYmplY3QsIG9yIHVuZGVmaW5lZC5cbiAqIEByZXR1cm4ge1Byb2plY3Rpb258bnVsbH0gUHJvamVjdGlvbiBvYmplY3QsIG9yIG51bGwgaWYgbm90IGluIGxpc3QuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQocHJvamVjdGlvbkxpa2UpIHtcbiAgcmV0dXJuIHR5cGVvZiBwcm9qZWN0aW9uTGlrZSA9PT0gJ3N0cmluZydcbiAgICA/IGdldFByb2ooLyoqIEB0eXBlIHtzdHJpbmd9ICovIChwcm9qZWN0aW9uTGlrZSkpXG4gICAgOiAvKiogQHR5cGUge1Byb2plY3Rpb259ICovIChwcm9qZWN0aW9uTGlrZSkgfHwgbnVsbDtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHJlc29sdXRpb24gb2YgdGhlIHBvaW50IGluIGRlZ3JlZXMgb3IgZGlzdGFuY2UgdW5pdHMuXG4gKiBGb3IgcHJvamVjdGlvbnMgd2l0aCBkZWdyZWVzIGFzIHRoZSB1bml0IHRoaXMgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZVxuICogcHJvdmlkZWQgcmVzb2x1dGlvbi4gRm9yIG90aGVyIHByb2plY3Rpb25zIHRoZSBwb2ludCByZXNvbHV0aW9uIGlzXG4gKiBieSBkZWZhdWx0IGVzdGltYXRlZCBieSB0cmFuc2Zvcm1pbmcgdGhlIGBwb2ludGAgcGl4ZWwgdG8gRVBTRzo0MzI2LFxuICogbWVhc3VyaW5nIGl0cyB3aWR0aCBhbmQgaGVpZ2h0IG9uIHRoZSBub3JtYWwgc3BoZXJlLFxuICogYW5kIHRha2luZyB0aGUgYXZlcmFnZSBvZiB0aGUgd2lkdGggYW5kIGhlaWdodC5cbiAqIEEgY3VzdG9tIGZ1bmN0aW9uIGNhbiBiZSBwcm92aWRlZCBmb3IgYSBzcGVjaWZpYyBwcm9qZWN0aW9uLCBlaXRoZXJcbiAqIGJ5IHNldHRpbmcgdGhlIGBnZXRQb2ludFJlc29sdXRpb25gIG9wdGlvbiBpbiB0aGVcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IGNvbnN0cnVjdG9yIG9yIGJ5IHVzaW5nXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9uI3NldEdldFBvaW50UmVzb2x1dGlvbn0gdG8gY2hhbmdlIGFuIGV4aXN0aW5nXG4gKiBwcm9qZWN0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gVGhlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBOb21pbmFsIHJlc29sdXRpb24gaW4gcHJvamVjdGlvbiB1bml0cy5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50IFBvaW50IHRvIGZpbmQgYWRqdXN0ZWQgcmVzb2x1dGlvbiBhdC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1VuaXRzLmpzXCIpLlVuaXRzfSBbdW5pdHNdIFVuaXRzIHRvIGdldCB0aGUgcG9pbnQgcmVzb2x1dGlvbiBpbi5cbiAqIERlZmF1bHQgaXMgdGhlIHByb2plY3Rpb24ncyB1bml0cy5cbiAqIEByZXR1cm4ge251bWJlcn0gUG9pbnQgcmVzb2x1dGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBvaW50UmVzb2x1dGlvbihwcm9qZWN0aW9uLCByZXNvbHV0aW9uLCBwb2ludCwgdW5pdHMpIHtcbiAgcHJvamVjdGlvbiA9IGdldChwcm9qZWN0aW9uKTtcbiAgbGV0IHBvaW50UmVzb2x1dGlvbjtcbiAgY29uc3QgZ2V0dGVyID0gcHJvamVjdGlvbi5nZXRQb2ludFJlc29sdXRpb25GdW5jKCk7XG4gIGlmIChnZXR0ZXIpIHtcbiAgICBwb2ludFJlc29sdXRpb24gPSBnZXR0ZXIocmVzb2x1dGlvbiwgcG9pbnQpO1xuICAgIGlmICh1bml0cyAmJiB1bml0cyAhPT0gcHJvamVjdGlvbi5nZXRVbml0cygpKSB7XG4gICAgICBjb25zdCBtZXRlcnNQZXJVbml0ID0gcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgICBpZiAobWV0ZXJzUGVyVW5pdCkge1xuICAgICAgICBwb2ludFJlc29sdXRpb24gPVxuICAgICAgICAgIChwb2ludFJlc29sdXRpb24gKiBtZXRlcnNQZXJVbml0KSAvIE1FVEVSU19QRVJfVU5JVFt1bml0c107XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IHByb2pVbml0cyA9IHByb2plY3Rpb24uZ2V0VW5pdHMoKTtcbiAgICBpZiAoKHByb2pVbml0cyA9PSAnZGVncmVlcycgJiYgIXVuaXRzKSB8fCB1bml0cyA9PSAnZGVncmVlcycpIHtcbiAgICAgIHBvaW50UmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEVzdGltYXRlIHBvaW50IHJlc29sdXRpb24gYnkgdHJhbnNmb3JtaW5nIHRoZSBjZW50ZXIgcGl4ZWwgdG8gRVBTRzo0MzI2LFxuICAgICAgLy8gbWVhc3VyaW5nIGl0cyB3aWR0aCBhbmQgaGVpZ2h0IG9uIHRoZSBub3JtYWwgc3BoZXJlLCBhbmQgdGFraW5nIHRoZVxuICAgICAgLy8gYXZlcmFnZSBvZiB0aGUgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgIGNvbnN0IHRvRVBTRzQzMjYgPSBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMoXG4gICAgICAgIHByb2plY3Rpb24sXG4gICAgICAgIGdldCgnRVBTRzo0MzI2JylcbiAgICAgICk7XG4gICAgICBpZiAodG9FUFNHNDMyNiA9PT0gaWRlbnRpdHlUcmFuc2Zvcm0gJiYgcHJvalVuaXRzICE9PSAnZGVncmVlcycpIHtcbiAgICAgICAgLy8gbm8gdHJhbnNmb3JtIGlzIGF2YWlsYWJsZVxuICAgICAgICBwb2ludFJlc29sdXRpb24gPSByZXNvbHV0aW9uICogcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgdmVydGljZXMgPSBbXG4gICAgICAgICAgcG9pbnRbMF0gLSByZXNvbHV0aW9uIC8gMixcbiAgICAgICAgICBwb2ludFsxXSxcbiAgICAgICAgICBwb2ludFswXSArIHJlc29sdXRpb24gLyAyLFxuICAgICAgICAgIHBvaW50WzFdLFxuICAgICAgICAgIHBvaW50WzBdLFxuICAgICAgICAgIHBvaW50WzFdIC0gcmVzb2x1dGlvbiAvIDIsXG4gICAgICAgICAgcG9pbnRbMF0sXG4gICAgICAgICAgcG9pbnRbMV0gKyByZXNvbHV0aW9uIC8gMixcbiAgICAgICAgXTtcbiAgICAgICAgdmVydGljZXMgPSB0b0VQU0c0MzI2KHZlcnRpY2VzLCB2ZXJ0aWNlcywgMik7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gZ2V0RGlzdGFuY2UodmVydGljZXMuc2xpY2UoMCwgMiksIHZlcnRpY2VzLnNsaWNlKDIsIDQpKTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gZ2V0RGlzdGFuY2UodmVydGljZXMuc2xpY2UoNCwgNiksIHZlcnRpY2VzLnNsaWNlKDYsIDgpKTtcbiAgICAgICAgcG9pbnRSZXNvbHV0aW9uID0gKHdpZHRoICsgaGVpZ2h0KSAvIDI7XG4gICAgICB9XG4gICAgICBjb25zdCBtZXRlcnNQZXJVbml0ID0gdW5pdHNcbiAgICAgICAgPyBNRVRFUlNfUEVSX1VOSVRbdW5pdHNdXG4gICAgICAgIDogcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgICBpZiAobWV0ZXJzUGVyVW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBvaW50UmVzb2x1dGlvbiAvPSBtZXRlcnNQZXJVbml0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcG9pbnRSZXNvbHV0aW9uO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMgdGhhdCBkb24ndCBhbHRlciBjb29yZGluYXRlcy4gVGhvc2UgYWxsb3dcbiAqIHRvIHRyYW5zZm9ybSBiZXR3ZWVuIHByb2plY3Rpb25zIHdpdGggZXF1YWwgbWVhbmluZy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PFByb2plY3Rpb24+fSBwcm9qZWN0aW9ucyBQcm9qZWN0aW9ucy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEVxdWl2YWxlbnRQcm9qZWN0aW9ucyhwcm9qZWN0aW9ucykge1xuICBhZGRQcm9qZWN0aW9ucyhwcm9qZWN0aW9ucyk7XG4gIHByb2plY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgIHByb2plY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGRlc3RpbmF0aW9uKSB7XG4gICAgICBpZiAoc291cmNlICE9PSBkZXN0aW5hdGlvbikge1xuICAgICAgICBhZGRUcmFuc2Zvcm1GdW5jKHNvdXJjZSwgZGVzdGluYXRpb24sIGNsb25lVHJhbnNmb3JtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucyB0byBjb252ZXJ0IGNvb3JkaW5hdGVzIGluIGFueSBwcm9qZWN0aW9uXG4gKiBpbiBwcm9qZWN0aW9uMSB0byBhbnkgcHJvamVjdGlvbiBpbiBwcm9qZWN0aW9uMi5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PFByb2plY3Rpb24+fSBwcm9qZWN0aW9uczEgUHJvamVjdGlvbnMgd2l0aCBlcXVhbFxuICogICAgIG1lYW5pbmcuXG4gKiBAcGFyYW0ge0FycmF5PFByb2plY3Rpb24+fSBwcm9qZWN0aW9uczIgUHJvamVjdGlvbnMgd2l0aCBlcXVhbFxuICogICAgIG1lYW5pbmcuXG4gKiBAcGFyYW0ge1RyYW5zZm9ybUZ1bmN0aW9ufSBmb3J3YXJkVHJhbnNmb3JtIFRyYW5zZm9ybWF0aW9uIGZyb20gYW55XG4gKiAgIHByb2plY3Rpb24gaW4gcHJvamVjdGlvbjEgdG8gYW55IHByb2plY3Rpb24gaW4gcHJvamVjdGlvbjIuXG4gKiBAcGFyYW0ge1RyYW5zZm9ybUZ1bmN0aW9ufSBpbnZlcnNlVHJhbnNmb3JtIFRyYW5zZm9ybSBmcm9tIGFueSBwcm9qZWN0aW9uXG4gKiAgIGluIHByb2plY3Rpb24yIHRvIGFueSBwcm9qZWN0aW9uIGluIHByb2plY3Rpb24xLi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEVxdWl2YWxlbnRUcmFuc2Zvcm1zKFxuICBwcm9qZWN0aW9uczEsXG4gIHByb2plY3Rpb25zMixcbiAgZm9yd2FyZFRyYW5zZm9ybSxcbiAgaW52ZXJzZVRyYW5zZm9ybVxuKSB7XG4gIHByb2plY3Rpb25zMS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9qZWN0aW9uMSkge1xuICAgIHByb2plY3Rpb25zMi5mb3JFYWNoKGZ1bmN0aW9uIChwcm9qZWN0aW9uMikge1xuICAgICAgYWRkVHJhbnNmb3JtRnVuYyhwcm9qZWN0aW9uMSwgcHJvamVjdGlvbjIsIGZvcndhcmRUcmFuc2Zvcm0pO1xuICAgICAgYWRkVHJhbnNmb3JtRnVuYyhwcm9qZWN0aW9uMiwgcHJvamVjdGlvbjEsIGludmVyc2VUcmFuc2Zvcm0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDbGVhciBhbGwgY2FjaGVkIHByb2plY3Rpb25zIGFuZCB0cmFuc2Zvcm1zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBbGxQcm9qZWN0aW9ucygpIHtcbiAgY2xlYXJQcm9qKCk7XG4gIGNsZWFyVHJhbnNmb3JtRnVuY3MoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1Byb2plY3Rpb258c3RyaW5nfHVuZGVmaW5lZH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IGRlZmF1bHRDb2RlIERlZmF1bHQgY29kZS5cbiAqIEByZXR1cm4ge1Byb2plY3Rpb259IFByb2plY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0aW9uKHByb2plY3Rpb24sIGRlZmF1bHRDb2RlKSB7XG4gIGlmICghcHJvamVjdGlvbikge1xuICAgIHJldHVybiBnZXQoZGVmYXVsdENvZGUpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9qZWN0aW9uID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBnZXQocHJvamVjdGlvbik7XG4gIH1cbiAgcmV0dXJuIC8qKiBAdHlwZSB7UHJvamVjdGlvbn0gKi8gKHByb2plY3Rpb24pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgbW9kdWxlOm9sL3Byb2p+VHJhbnNmb3JtRnVuY3Rpb259IGZyb20gYSBzaW1wbGUgMkQgY29vcmRpbmF0ZSB0cmFuc2Zvcm1cbiAqIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZFRyYW5zZm9ybSBDb29yZGluYXRlXG4gKiAgICAgdHJhbnNmb3JtLlxuICogQHJldHVybiB7VHJhbnNmb3JtRnVuY3Rpb259IFRyYW5zZm9ybSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zZm9ybUZyb21Db29yZGluYXRlVHJhbnNmb3JtKGNvb3JkVHJhbnNmb3JtKSB7XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBpbnB1dCBJbnB1dC5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvdXRwdXRdIE91dHB1dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RpbWVuc2lvbl0gRGltZW5zaW9uLlxuICAgICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE91dHB1dC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoaW5wdXQsIG91dHB1dCwgZGltZW5zaW9uKSB7XG4gICAgICBjb25zdCBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgICBkaW1lbnNpb24gPSBkaW1lbnNpb24gIT09IHVuZGVmaW5lZCA/IGRpbWVuc2lvbiA6IDI7XG4gICAgICBvdXRwdXQgPSBvdXRwdXQgIT09IHVuZGVmaW5lZCA/IG91dHB1dCA6IG5ldyBBcnJheShsZW5ndGgpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gZGltZW5zaW9uKSB7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gY29vcmRUcmFuc2Zvcm0oaW5wdXQuc2xpY2UoaSwgaSArIGRpbWVuc2lvbikpO1xuICAgICAgICBjb25zdCBwb2ludExlbmd0aCA9IHBvaW50Lmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaiA9IDAsIGpqID0gZGltZW5zaW9uOyBqIDwgamo7ICsraikge1xuICAgICAgICAgIG91dHB1dFtpICsgal0gPSBqID49IHBvaW50TGVuZ3RoID8gaW5wdXRbaSArIGpdIDogcG9pbnRbal07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICApO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBjb29yZGluYXRlIHRyYW5zZm9ybSBmdW5jdGlvbnMgdG8gY29udmVydCBjb29yZGluYXRlcyBiZXR3ZWVuIHRoZVxuICogc291cmNlIHByb2plY3Rpb24gYW5kIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogVGhlIGZvcndhcmQgYW5kIGludmVyc2UgZnVuY3Rpb25zIGNvbnZlcnQgY29vcmRpbmF0ZSBwYWlyczsgdGhpcyBmdW5jdGlvblxuICogY29udmVydHMgdGhlc2UgaW50byB0aGUgZnVuY3Rpb25zIHVzZWQgaW50ZXJuYWxseSB3aGljaCBhbHNvIGhhbmRsZVxuICogZXh0ZW50cyBhbmQgY29vcmRpbmF0ZSBhcnJheXMuXG4gKlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZm9yd2FyZCBUaGUgZm9yd2FyZCB0cmFuc2Zvcm1cbiAqICAgICBmdW5jdGlvbiAodGhhdCBpcywgZnJvbSB0aGUgc291cmNlIHByb2plY3Rpb24gdG8gdGhlIGRlc3RpbmF0aW9uXG4gKiAgICAgcHJvamVjdGlvbikgdGhhdCB0YWtlcyBhIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlfSBhcyBhcmd1bWVudCBhbmQgcmV0dXJuc1xuICogICAgIHRoZSB0cmFuc2Zvcm1lZCB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGludmVyc2UgVGhlIGludmVyc2UgdHJhbnNmb3JtXG4gKiAgICAgZnVuY3Rpb24gKHRoYXQgaXMsIGZyb20gdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24gdG8gdGhlIHNvdXJjZVxuICogICAgIHByb2plY3Rpb24pIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYXMgYXJndW1lbnQgYW5kIHJldHVybnNcbiAqICAgICB0aGUgdHJhbnNmb3JtZWQge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGV9LiBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIGNhbiBvbmx5XG4gKiAgICAgdHJhbnNmb3JtIGxlc3MgZGltZW5zaW9ucyB0aGFuIHRoZSBpbnB1dCBjb29yZGluYXRlLCBpdCBpcyBzdXBwb3NlZWQgdG8gcmV0dXJuIGEgY29vcmRpbmF0ZVxuICogICAgIHdpdGggb25seSB0aGUgbGVuZ3RoIGl0IGNhbiB0cmFuc2Zvcm0uIFRoZSBvdGhlciBkaW1lbnNpb25zIHdpbGwgYmUgdGFrZW4gdW5jaGFuZ2VkIGZyb20gdGhlXG4gKiAgICAgc291cmNlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29vcmRpbmF0ZVRyYW5zZm9ybXMoc291cmNlLCBkZXN0aW5hdGlvbiwgZm9yd2FyZCwgaW52ZXJzZSkge1xuICBjb25zdCBzb3VyY2VQcm9qID0gZ2V0KHNvdXJjZSk7XG4gIGNvbnN0IGRlc3RQcm9qID0gZ2V0KGRlc3RpbmF0aW9uKTtcbiAgYWRkVHJhbnNmb3JtRnVuYyhcbiAgICBzb3VyY2VQcm9qLFxuICAgIGRlc3RQcm9qLFxuICAgIGNyZWF0ZVRyYW5zZm9ybUZyb21Db29yZGluYXRlVHJhbnNmb3JtKGZvcndhcmQpXG4gICk7XG4gIGFkZFRyYW5zZm9ybUZ1bmMoXG4gICAgZGVzdFByb2osXG4gICAgc291cmNlUHJvaixcbiAgICBjcmVhdGVUcmFuc2Zvcm1Gcm9tQ29vcmRpbmF0ZVRyYW5zZm9ybShpbnZlcnNlKVxuICApO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgYSBjb29yZGluYXRlIGZyb20gbG9uZ2l0dWRlL2xhdGl0dWRlIHRvIGEgZGlmZmVyZW50IHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUgYXMgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSwgaS5lLlxuICogICAgIGFuIGFycmF5IHdpdGggbG9uZ2l0dWRlIGFzIDFzdCBhbmQgbGF0aXR1ZGUgYXMgMm5kIGVsZW1lbnQuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gVGFyZ2V0IHByb2plY3Rpb24uIFRoZVxuICogICAgIGRlZmF1bHQgaXMgV2ViIE1lcmNhdG9yLCBpLmUuICdFUFNHOjM4NTcnLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUgcHJvamVjdGVkIHRvIHRoZSB0YXJnZXQgcHJvamVjdGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Mb25MYXQoY29vcmRpbmF0ZSwgcHJvamVjdGlvbikge1xuICBkaXNhYmxlQ29vcmRpbmF0ZVdhcm5pbmcoKTtcbiAgcmV0dXJuIHRyYW5zZm9ybShcbiAgICBjb29yZGluYXRlLFxuICAgICdFUFNHOjQzMjYnLFxuICAgIHByb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IHByb2plY3Rpb24gOiAnRVBTRzozODU3J1xuICApO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgYSBjb29yZGluYXRlIHRvIGxvbmdpdHVkZS9sYXRpdHVkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgUHJvamVjdGVkIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbiBvZiB0aGUgY29vcmRpbmF0ZS5cbiAqICAgICBUaGUgZGVmYXVsdCBpcyBXZWIgTWVyY2F0b3IsIGkuZS4gJ0VQU0c6Mzg1NycuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ29vcmRpbmF0ZSBhcyBsb25naXR1ZGUgYW5kIGxhdGl0dWRlLCBpLmUuIGFuIGFycmF5XG4gKiAgICAgd2l0aCBsb25naXR1ZGUgYXMgMXN0IGFuZCBsYXRpdHVkZSBhcyAybmQgZWxlbWVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvTG9uTGF0KGNvb3JkaW5hdGUsIHByb2plY3Rpb24pIHtcbiAgY29uc3QgbG9uTGF0ID0gdHJhbnNmb3JtKFxuICAgIGNvb3JkaW5hdGUsXG4gICAgcHJvamVjdGlvbiAhPT0gdW5kZWZpbmVkID8gcHJvamVjdGlvbiA6ICdFUFNHOjM4NTcnLFxuICAgICdFUFNHOjQzMjYnXG4gICk7XG4gIGNvbnN0IGxvbiA9IGxvbkxhdFswXTtcbiAgaWYgKGxvbiA8IC0xODAgfHwgbG9uID4gMTgwKSB7XG4gICAgbG9uTGF0WzBdID0gbW9kdWxvKGxvbiArIDE4MCwgMzYwKSAtIDE4MDtcbiAgfVxuICByZXR1cm4gbG9uTGF0O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0d28gcHJvamVjdGlvbnMgYXJlIHRoZSBzYW1lLCB0aGF0IGlzIGV2ZXJ5IGNvb3JkaW5hdGUgaW4gb25lXG4gKiBwcm9qZWN0aW9uIGRvZXMgcmVwcmVzZW50IHRoZSBzYW1lIGdlb2dyYXBoaWMgcG9pbnQgYXMgdGhlIHNhbWUgY29vcmRpbmF0ZSBpblxuICogdGhlIG90aGVyIHByb2plY3Rpb24uXG4gKlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBwcm9qZWN0aW9uMSBQcm9qZWN0aW9uIDEuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IHByb2plY3Rpb24yIFByb2plY3Rpb24gMi5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IEVxdWl2YWxlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVpdmFsZW50KHByb2plY3Rpb24xLCBwcm9qZWN0aW9uMikge1xuICBpZiAocHJvamVjdGlvbjEgPT09IHByb2plY3Rpb24yKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3QgZXF1YWxVbml0cyA9IHByb2plY3Rpb24xLmdldFVuaXRzKCkgPT09IHByb2plY3Rpb24yLmdldFVuaXRzKCk7XG4gIGlmIChwcm9qZWN0aW9uMS5nZXRDb2RlKCkgPT09IHByb2plY3Rpb24yLmdldENvZGUoKSkge1xuICAgIHJldHVybiBlcXVhbFVuaXRzO1xuICB9XG4gIGNvbnN0IHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMocHJvamVjdGlvbjEsIHByb2plY3Rpb24yKTtcbiAgcmV0dXJuIHRyYW5zZm9ybUZ1bmMgPT09IGNsb25lVHJhbnNmb3JtICYmIGVxdWFsVW5pdHM7XG59XG5cbi8qKlxuICogU2VhcmNoZXMgaW4gdGhlIGxpc3Qgb2YgdHJhbnNmb3JtIGZ1bmN0aW9ucyBmb3IgdGhlIGZ1bmN0aW9uIGZvciBjb252ZXJ0aW5nXG4gKiBjb29yZGluYXRlcyBmcm9tIHRoZSBzb3VyY2UgcHJvamVjdGlvbiB0byB0aGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IHNvdXJjZVByb2plY3Rpb24gU291cmNlIFByb2plY3Rpb24gb2JqZWN0LlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBkZXN0aW5hdGlvblByb2plY3Rpb24gRGVzdGluYXRpb24gUHJvamVjdGlvblxuICogICAgIG9iamVjdC5cbiAqIEByZXR1cm4ge1RyYW5zZm9ybUZ1bmN0aW9ufSBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMoXG4gIHNvdXJjZVByb2plY3Rpb24sXG4gIGRlc3RpbmF0aW9uUHJvamVjdGlvblxuKSB7XG4gIGNvbnN0IHNvdXJjZUNvZGUgPSBzb3VyY2VQcm9qZWN0aW9uLmdldENvZGUoKTtcbiAgY29uc3QgZGVzdGluYXRpb25Db2RlID0gZGVzdGluYXRpb25Qcm9qZWN0aW9uLmdldENvZGUoKTtcbiAgbGV0IHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm1GdW5jKHNvdXJjZUNvZGUsIGRlc3RpbmF0aW9uQ29kZSk7XG4gIGlmICghdHJhbnNmb3JtRnVuYykge1xuICAgIHRyYW5zZm9ybUZ1bmMgPSBpZGVudGl0eVRyYW5zZm9ybTtcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtRnVuYztcbn1cblxuLyoqXG4gKiBHaXZlbiB0aGUgcHJvamVjdGlvbi1saWtlIG9iamVjdHMsIHNlYXJjaGVzIGZvciBhIHRyYW5zZm9ybWF0aW9uXG4gKiBmdW5jdGlvbiB0byBjb252ZXJ0IGEgY29vcmRpbmF0ZXMgYXJyYXkgZnJvbSB0aGUgc291cmNlIHByb2plY3Rpb24gdG8gdGhlXG4gKiBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZSBTb3VyY2UuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge1RyYW5zZm9ybUZ1bmN0aW9ufSBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm0oc291cmNlLCBkZXN0aW5hdGlvbikge1xuICBjb25zdCBzb3VyY2VQcm9qZWN0aW9uID0gZ2V0KHNvdXJjZSk7XG4gIGNvbnN0IGRlc3RpbmF0aW9uUHJvamVjdGlvbiA9IGdldChkZXN0aW5hdGlvbik7XG4gIHJldHVybiBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMoc291cmNlUHJvamVjdGlvbiwgZGVzdGluYXRpb25Qcm9qZWN0aW9uKTtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgY29vcmRpbmF0ZSBmcm9tIHNvdXJjZSBwcm9qZWN0aW9uIHRvIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBUaGlzIHJldHVybnMgYSBuZXcgY29vcmRpbmF0ZSAoYW5kIGRvZXMgbm90IG1vZGlmeSB0aGUgb3JpZ2luYWwpLlxuICpcbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3Byb2oudHJhbnNmb3JtRXh0ZW50fSBmb3IgZXh0ZW50IHRyYW5zZm9ybWF0aW9uLlxuICogU2VlIHRoZSB0cmFuc2Zvcm0gbWV0aG9kIG9mIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9HZW9tZXRyeX5HZW9tZXRyeX0gYW5kIGl0c1xuICogc3ViY2xhc3NlcyBmb3IgZ2VvbWV0cnkgdHJhbnNmb3Jtcy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBzb3VyY2UgU291cmNlIHByb2plY3Rpb24tbGlrZS5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uIHByb2plY3Rpb24tbGlrZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtKGNvb3JkaW5hdGUsIHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgY29uc3QgdHJhbnNmb3JtRnVuYyA9IGdldFRyYW5zZm9ybShzb3VyY2UsIGRlc3RpbmF0aW9uKTtcbiAgcmV0dXJuIHRyYW5zZm9ybUZ1bmMoY29vcmRpbmF0ZSwgdW5kZWZpbmVkLCBjb29yZGluYXRlLmxlbmd0aCk7XG59XG5cbi8qKlxuICogVHJhbnNmb3JtcyBhbiBleHRlbnQgZnJvbSBzb3VyY2UgcHJvamVjdGlvbiB0byBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLiAgVGhpc1xuICogcmV0dXJucyBhIG5ldyBleHRlbnQgKGFuZCBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQgdG8gdHJhbnNmb3JtLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlIFNvdXJjZSBwcm9qZWN0aW9uLWxpa2UuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLWxpa2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0b3BzXSBOdW1iZXIgb2Ygc3RvcHMgcGVyIHNpZGUgdXNlZCBmb3IgdGhlIHRyYW5zZm9ybS5cbiAqIEJ5IGRlZmF1bHQgb25seSB0aGUgY29ybmVycyBhcmUgdXNlZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIHRyYW5zZm9ybWVkIGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIHNvdXJjZSwgZGVzdGluYXRpb24sIHN0b3BzKSB7XG4gIGNvbnN0IHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm0oc291cmNlLCBkZXN0aW5hdGlvbik7XG4gIHJldHVybiBhcHBseVRyYW5zZm9ybShleHRlbnQsIHRyYW5zZm9ybUZ1bmMsIHVuZGVmaW5lZCwgc3RvcHMpO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIGdpdmVuIHBvaW50IHRvIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50IFBvaW50LlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBzb3VyY2VQcm9qZWN0aW9uIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBkZXN0aW5hdGlvblByb2plY3Rpb24gRGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBQb2ludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVdpdGhQcm9qZWN0aW9ucyhcbiAgcG9pbnQsXG4gIHNvdXJjZVByb2plY3Rpb24sXG4gIGRlc3RpbmF0aW9uUHJvamVjdGlvblxuKSB7XG4gIGNvbnN0IHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMoXG4gICAgc291cmNlUHJvamVjdGlvbixcbiAgICBkZXN0aW5hdGlvblByb2plY3Rpb25cbiAgKTtcbiAgcmV0dXJuIHRyYW5zZm9ybUZ1bmMocG9pbnQpO1xufVxuXG4vKipcbiAqIEB0eXBlIHtQcm9qZWN0aW9ufG51bGx9XG4gKi9cbmxldCB1c2VyUHJvamVjdGlvbiA9IG51bGw7XG5cbi8qKlxuICogU2V0IHRoZSBwcm9qZWN0aW9uIGZvciBjb29yZGluYXRlcyBzdXBwbGllZCBmcm9tIGFuZCByZXR1cm5lZCBieSBBUEkgbWV0aG9kcy5cbiAqIFRoaXMgaW5jbHVkZXMgYWxsIEFQSSBtZXRob2RzIGV4Y2VwdCBmb3IgdGhvc2UgaW50ZXJhY3Rpbmcgd2l0aCB0aWxlIGdyaWRzLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBUaGUgdXNlciBwcm9qZWN0aW9uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VXNlclByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICB1c2VyUHJvamVjdGlvbiA9IGdldChwcm9qZWN0aW9uKTtcbn1cblxuLyoqXG4gKiBDbGVhciB0aGUgdXNlciBwcm9qZWN0aW9uIGlmIHNldC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyVXNlclByb2plY3Rpb24oKSB7XG4gIHVzZXJQcm9qZWN0aW9uID0gbnVsbDtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHByb2plY3Rpb24gZm9yIGNvb3JkaW5hdGVzIHN1cHBsaWVkIGZyb20gYW5kIHJldHVybmVkIGJ5IEFQSSBtZXRob2RzLlxuICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGlzIG5vdCB5ZXQgYSBwYXJ0IG9mIHRoZSBzdGFibGUgQVBJLiAgU3VwcG9ydCBmb3IgdXNlclxuICogcHJvamVjdGlvbnMgaXMgbm90IHlldCBjb21wbGV0ZSBhbmQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZXhwZXJpbWVudGFsLlxuICogQHJldHVybiB7UHJvamVjdGlvbnxudWxsfSBUaGUgdXNlciBwcm9qZWN0aW9uIChvciBudWxsIGlmIG5vdCBzZXQpLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlclByb2plY3Rpb24oKSB7XG4gIHJldHVybiB1c2VyUHJvamVjdGlvbjtcbn1cblxuLyoqXG4gKiBVc2UgZ2VvZ3JhcGhpYyBjb29yZGluYXRlcyAoV0dTLTg0IGRhdHVtKSBpbiBBUEkgbWV0aG9kcy4gIFRoaXMgaW5jbHVkZXMgYWxsIEFQSVxuICogbWV0aG9kcyBleGNlcHQgZm9yIHRob3NlIGludGVyYWN0aW5nIHdpdGggdGlsZSBncmlkcy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUdlb2dyYXBoaWMoKSB7XG4gIHNldFVzZXJQcm9qZWN0aW9uKCdFUFNHOjQzMjYnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBjb29yZGluYXRlIHRyYW5zZm9ybWVkIGludG8gdGhlIHVzZXIgcHJvamVjdGlvbi4gIElmIG5vIHVzZXIgcHJvamVjdGlvblxuICogaXMgc2V0LCB0aGUgb3JpZ2luYWwgY29vcmRpbmF0ZSBpcyByZXR1cm5lZC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZSBJbnB1dCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlUHJvamVjdGlvbiBUaGUgaW5wdXQgY29vcmRpbmF0ZSBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVGhlIGlucHV0IGNvb3JkaW5hdGUgaW4gdGhlIHVzZXIgcHJvamVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvVXNlckNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgc291cmNlUHJvamVjdGlvbikge1xuICBpZiAoIXVzZXJQcm9qZWN0aW9uKSB7XG4gICAgcmV0dXJuIGNvb3JkaW5hdGU7XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybShjb29yZGluYXRlLCBzb3VyY2VQcm9qZWN0aW9uLCB1c2VyUHJvamVjdGlvbik7XG59XG5cbi8qKlxuICogUmV0dXJuIGEgY29vcmRpbmF0ZSB0cmFuc2Zvcm1lZCBmcm9tIHRoZSB1c2VyIHByb2plY3Rpb24uICBJZiBubyB1c2VyIHByb2plY3Rpb25cbiAqIGlzIHNldCwgdGhlIG9yaWdpbmFsIGNvb3JkaW5hdGUgaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNvb3JkaW5hdGUgSW5wdXQgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IGRlc3RQcm9qZWN0aW9uIFRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVGhlIGlucHV0IGNvb3JkaW5hdGUgdHJhbnNmb3JtZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVXNlckNvb3JkaW5hdGUoY29vcmRpbmF0ZSwgZGVzdFByb2plY3Rpb24pIHtcbiAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgIGlmIChcbiAgICAgIHNob3dDb29yZGluYXRlV2FybmluZyAmJlxuICAgICAgIWVxdWFscyhjb29yZGluYXRlLCBbMCwgMF0pICYmXG4gICAgICBjb29yZGluYXRlWzBdID49IC0xODAgJiZcbiAgICAgIGNvb3JkaW5hdGVbMF0gPD0gMTgwICYmXG4gICAgICBjb29yZGluYXRlWzFdID49IC05MCAmJlxuICAgICAgY29vcmRpbmF0ZVsxXSA8PSA5MFxuICAgICkge1xuICAgICAgc2hvd0Nvb3JkaW5hdGVXYXJuaW5nID0gZmFsc2U7XG4gICAgICB3YXJuKFxuICAgICAgICAnQ2FsbCB1c2VHZW9ncmFwaGljKCkgZnJvbSBvbC9wcm9qIG9uY2UgdG8gd29yayB3aXRoIFtsb25naXR1ZGUsIGxhdGl0dWRlXSBjb29yZGluYXRlcy4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtKGNvb3JkaW5hdGUsIHVzZXJQcm9qZWN0aW9uLCBkZXN0UHJvamVjdGlvbik7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGV4dGVudCB0cmFuc2Zvcm1lZCBpbnRvIHRoZSB1c2VyIHByb2plY3Rpb24uICBJZiBubyB1c2VyIHByb2plY3Rpb25cbiAqIGlzIHNldCwgdGhlIG9yaWdpbmFsIGV4dGVudCBpcyByZXR1cm5lZC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgSW5wdXQgZXh0ZW50LlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlUHJvamVjdGlvbiBUaGUgaW5wdXQgZXh0ZW50IHByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IFRoZSBpbnB1dCBleHRlbnQgaW4gdGhlIHVzZXIgcHJvamVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvVXNlckV4dGVudChleHRlbnQsIHNvdXJjZVByb2plY3Rpb24pIHtcbiAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgIHJldHVybiBleHRlbnQ7XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIHNvdXJjZVByb2plY3Rpb24sIHVzZXJQcm9qZWN0aW9uKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gZXh0ZW50IHRyYW5zZm9ybWVkIGZyb20gdGhlIHVzZXIgcHJvamVjdGlvbi4gIElmIG5vIHVzZXIgcHJvamVjdGlvblxuICogaXMgc2V0LCB0aGUgb3JpZ2luYWwgZXh0ZW50IGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBJbnB1dCBleHRlbnQuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0UHJvamVjdGlvbiBUaGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gVGhlIGlucHV0IGV4dGVudCB0cmFuc2Zvcm1lZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Vc2VyRXh0ZW50KGV4dGVudCwgZGVzdFByb2plY3Rpb24pIHtcbiAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgIHJldHVybiBleHRlbnQ7XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybUV4dGVudChleHRlbnQsIHVzZXJQcm9qZWN0aW9uLCBkZXN0UHJvamVjdGlvbik7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSByZXNvbHV0aW9uIGluIHVzZXIgcHJvamVjdGlvbiB1bml0cyBwZXIgcGl4ZWwuIElmIG5vIHVzZXIgcHJvamVjdGlvblxuICogaXMgc2V0LCBvciBzb3VyY2Ugb3IgdXNlciBwcm9qZWN0aW9uIGFyZSBtaXNzaW5nIHVuaXRzLCB0aGUgb3JpZ2luYWwgcmVzb2x1dGlvblxuICogaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uIGluIGlucHV0IHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlUHJvamVjdGlvbiBUaGUgaW5wdXQgcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbiBpbiB1c2VyIHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Vc2VyUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBzb3VyY2VQcm9qZWN0aW9uKSB7XG4gIGlmICghdXNlclByb2plY3Rpb24pIHtcbiAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgfVxuICBjb25zdCBzb3VyY2VVbml0cyA9IGdldChzb3VyY2VQcm9qZWN0aW9uKS5nZXRVbml0cygpO1xuICBjb25zdCB1c2VyVW5pdHMgPSB1c2VyUHJvamVjdGlvbi5nZXRVbml0cygpO1xuICByZXR1cm4gc291cmNlVW5pdHMgJiYgdXNlclVuaXRzXG4gICAgPyAocmVzb2x1dGlvbiAqIE1FVEVSU19QRVJfVU5JVFtzb3VyY2VVbml0c10pIC8gTUVURVJTX1BFUl9VTklUW3VzZXJVbml0c11cbiAgICA6IHJlc29sdXRpb247XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSByZXNvbHV0aW9uIGluIHVzZXIgcHJvamVjdGlvbiB1bml0cyBwZXIgcGl4ZWwuIElmIG5vIHVzZXIgcHJvamVjdGlvblxuICogaXMgc2V0LCBvciBzb3VyY2Ugb3IgdXNlciBwcm9qZWN0aW9uIGFyZSBtaXNzaW5nIHVuaXRzLCB0aGUgb3JpZ2luYWwgcmVzb2x1dGlvblxuICogaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uIGluIHVzZXIgcHJvamVjdGlvbiB1bml0cyBwZXIgcGl4ZWwuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0UHJvamVjdGlvbiBUaGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbiBpbiBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uIHVuaXRzIHBlciBwaXhlbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Vc2VyUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBkZXN0UHJvamVjdGlvbikge1xuICBpZiAoIXVzZXJQcm9qZWN0aW9uKSB7XG4gICAgcmV0dXJuIHJlc29sdXRpb247XG4gIH1cbiAgY29uc3Qgc291cmNlVW5pdHMgPSBnZXQoZGVzdFByb2plY3Rpb24pLmdldFVuaXRzKCk7XG4gIGNvbnN0IHVzZXJVbml0cyA9IHVzZXJQcm9qZWN0aW9uLmdldFVuaXRzKCk7XG4gIHJldHVybiBzb3VyY2VVbml0cyAmJiB1c2VyVW5pdHNcbiAgICA/IChyZXNvbHV0aW9uICogTUVURVJTX1BFUl9VTklUW3VzZXJVbml0c10pIC8gTUVURVJTX1BFUl9VTklUW3NvdXJjZVVuaXRzXVxuICAgIDogcmVzb2x1dGlvbjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc2FmZSBjb29yZGluYXRlIHRyYW5zZm9ybSBmdW5jdGlvbiBmcm9tIGEgY29vcmRpbmF0ZSB0cmFuc2Zvcm0gZnVuY3Rpb24uXG4gKiBcIlNhZmVcIiBtZWFucyB0aGF0IGl0IGNhbiBoYW5kbGUgd3JhcHBpbmcgb2YgeC1jb29yZGluYXRlcyBmb3IgZ2xvYmFsIHByb2plY3Rpb25zLFxuICogYW5kIHRoYXQgY29vcmRpbmF0ZXMgZXhjZWVkaW5nIHRoZSBzb3VyY2UgcHJvamVjdGlvbiB2YWxpZGl0eSBleHRlbnQncyByYW5nZSB3aWxsIGJlXG4gKiBjbGFtcGVkIHRvIHRoZSB2YWxpZGl0eSByYW5nZS5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gc291cmNlUHJvaiBTb3VyY2UgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gZGVzdFByb2ogRGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gdHJhbnNmb3JtIFRyYW5zZm9ybSBmdW5jdGlvbiAoc291cmNlIHRvIGRlc3RpYXRpb24pLlxuICogQHJldHVybiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gU2FmZSB0cmFuc2Zvcm0gZnVuY3Rpb24gKHNvdXJjZSB0byBkZXN0aWF0aW9uKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNhZmVDb29yZGluYXRlVHJhbnNmb3JtKHNvdXJjZVByb2osIGRlc3RQcm9qLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjb29yZCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZCwgd29ybGRzQXdheTtcbiAgICBpZiAoc291cmNlUHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICBjb25zdCBzb3VyY2VFeHRlbnQgPSBzb3VyY2VQcm9qLmdldEV4dGVudCgpO1xuICAgICAgY29uc3Qgc291cmNlRXh0ZW50V2lkdGggPSBnZXRXaWR0aChzb3VyY2VFeHRlbnQpO1xuICAgICAgY29vcmQgPSBjb29yZC5zbGljZSgwKTtcbiAgICAgIHdvcmxkc0F3YXkgPSBnZXRXb3JsZHNBd2F5KGNvb3JkLCBzb3VyY2VQcm9qLCBzb3VyY2VFeHRlbnRXaWR0aCk7XG4gICAgICBpZiAod29ybGRzQXdheSkge1xuICAgICAgICAvLyBNb3ZlIHggdG8gdGhlIHJlYWwgd29ybGRcbiAgICAgICAgY29vcmRbMF0gPSBjb29yZFswXSAtIHdvcmxkc0F3YXkgKiBzb3VyY2VFeHRlbnRXaWR0aDtcbiAgICAgIH1cbiAgICAgIGNvb3JkWzBdID0gY2xhbXAoY29vcmRbMF0sIHNvdXJjZUV4dGVudFswXSwgc291cmNlRXh0ZW50WzJdKTtcbiAgICAgIGNvb3JkWzFdID0gY2xhbXAoY29vcmRbMV0sIHNvdXJjZUV4dGVudFsxXSwgc291cmNlRXh0ZW50WzNdKTtcbiAgICAgIHRyYW5zZm9ybWVkID0gdHJhbnNmb3JtKGNvb3JkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm0oY29vcmQpO1xuICAgIH1cbiAgICBpZiAod29ybGRzQXdheSAmJiBkZXN0UHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICAvLyBNb3ZlIHRyYW5zZm9ybWVkIGNvb3JkaW5hdGUgYmFjayB0byB0aGUgb2Zmc2V0IHdvcmxkXG4gICAgICB0cmFuc2Zvcm1lZFswXSArPSB3b3JsZHNBd2F5ICogZ2V0V2lkdGgoZGVzdFByb2ouZ2V0RXh0ZW50KCkpO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtZWQ7XG4gIH07XG59XG5cbi8qKlxuICogQWRkIHRyYW5zZm9ybXMgdG8gYW5kIGZyb20gRVBTRzo0MzI2IGFuZCBFUFNHOjM4NTcuICBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZFxuICogYnkgd2hlbiB0aGlzIG1vZHVsZSBpcyBleGVjdXRlZCBhbmQgc2hvdWxkIG9ubHkgbmVlZCB0byBiZSBjYWxsZWQgYWdhaW4gYWZ0ZXJcbiAqIGBjbGVhckFsbFByb2plY3Rpb25zKClgIGlzIGNhbGxlZCAoZS5nLiBpbiB0ZXN0cykuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRDb21tb24oKSB7XG4gIC8vIEFkZCB0cmFuc2Zvcm1hdGlvbnMgdGhhdCBkb24ndCBhbHRlciBjb29yZGluYXRlcyB0byBjb252ZXJ0IHdpdGhpbiBzZXQgb2ZcbiAgLy8gcHJvamVjdGlvbnMgd2l0aCBlcXVhbCBtZWFuaW5nLlxuICBhZGRFcXVpdmFsZW50UHJvamVjdGlvbnMoRVBTRzM4NTdfUFJPSkVDVElPTlMpO1xuICBhZGRFcXVpdmFsZW50UHJvamVjdGlvbnMoRVBTRzQzMjZfUFJPSkVDVElPTlMpO1xuICAvLyBBZGQgdHJhbnNmb3JtYXRpb25zIHRvIGNvbnZlcnQgRVBTRzo0MzI2IGxpa2UgY29vcmRpbmF0ZXMgdG8gRVBTRzozODU3IGxpa2VcbiAgLy8gY29vcmRpbmF0ZXMgYW5kIGJhY2suXG4gIGFkZEVxdWl2YWxlbnRUcmFuc2Zvcm1zKFxuICAgIEVQU0c0MzI2X1BST0pFQ1RJT05TLFxuICAgIEVQU0czODU3X1BST0pFQ1RJT05TLFxuICAgIGZyb21FUFNHNDMyNixcbiAgICB0b0VQU0c0MzI2XG4gICk7XG59XG5cbmFkZENvbW1vbigpO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2ovUHJvamVjdGlvblxuICovXG5pbXBvcnQge01FVEVSU19QRVJfVU5JVH0gZnJvbSAnLi9Vbml0cy5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvZGUgVGhlIFNSUyBpZGVudGlmaWVyIGNvZGUsIGUuZy4gYEVQU0c6NDMyNmAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vVW5pdHMuanNcIikuVW5pdHN9IFt1bml0c10gVW5pdHMuIFJlcXVpcmVkIHVubGVzcyBhXG4gKiBwcm9qNCBwcm9qZWN0aW9uIGlzIGRlZmluZWQgZm9yIGBjb2RlYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIHZhbGlkaXR5IGV4dGVudCBmb3IgdGhlIFNSUy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXhpc09yaWVudGF0aW9uPSdlbnUnXSBUaGUgYXhpcyBvcmllbnRhdGlvbiBhcyBzcGVjaWZpZWQgaW4gUHJvajQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtnbG9iYWw9ZmFsc2VdIFdoZXRoZXIgdGhlIHByb2plY3Rpb24gaXMgdmFsaWQgZm9yIHRoZSB3aG9sZSBnbG9iZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWV0ZXJzUGVyVW5pdF0gVGhlIG1ldGVycyBwZXIgdW5pdCBmb3IgdGhlIFNSUy5cbiAqIElmIG5vdCBwcm92aWRlZCwgdGhlIGB1bml0c2AgYXJlIHVzZWQgdG8gZ2V0IHRoZSBtZXRlcnMgcGVyIHVuaXQgZnJvbSB0aGUge0BsaW5rIE1FVEVSU19QRVJfVU5JVH1cbiAqIGxvb2t1cCB0YWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW3dvcmxkRXh0ZW50XSBUaGUgd29ybGQgZXh0ZW50IGZvciB0aGUgU1JTLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihudW1iZXIsIGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6bnVtYmVyfSBbZ2V0UG9pbnRSZXNvbHV0aW9uXVxuICogRnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHJlc29sdXRpb24gYXQgYSBwb2ludC4gVGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIGFcbiAqIGBudW1iZXJgIHZpZXcgcmVzb2x1dGlvbiBhbmQgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYXMgYXJndW1lbnRzLCBhbmQgcmV0dXJuc1xuICogdGhlIGBudW1iZXJgIHJlc29sdXRpb24gaW4gcHJvamVjdGlvbiB1bml0cyBhdCB0aGUgcGFzc2VkIGNvb3JkaW5hdGUuIElmIHRoaXMgaXMgYHVuZGVmaW5lZGAsXG4gKiB0aGUgZGVmYXVsdCB7QGxpbmsgbW9kdWxlOm9sL3Byb2ouZ2V0UG9pbnRSZXNvbHV0aW9ufSBmdW5jdGlvbiB3aWxsIGJlIHVzZWQuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQcm9qZWN0aW9uIGRlZmluaXRpb24gY2xhc3MuIE9uZSBvZiB0aGVzZSBpcyBjcmVhdGVkIGZvciBlYWNoIHByb2plY3Rpb25cbiAqIHN1cHBvcnRlZCBpbiB0aGUgYXBwbGljYXRpb24gYW5kIHN0b3JlZCBpbiB0aGUge0BsaW5rIG1vZHVsZTpvbC9wcm9qfSBuYW1lc3BhY2UuXG4gKiBZb3UgY2FuIHVzZSB0aGVzZSBpbiBhcHBsaWNhdGlvbnMsIGJ1dCB0aGlzIGlzIG5vdCByZXF1aXJlZCwgYXMgQVBJIHBhcmFtc1xuICogYW5kIG9wdGlvbnMgdXNlIHtAbGluayBtb2R1bGU6b2wvcHJvan5Qcm9qZWN0aW9uTGlrZX0gd2hpY2ggbWVhbnMgdGhlIHNpbXBsZSBzdHJpbmdcbiAqIGNvZGUgd2lsbCBzdWZmaWNlLlxuICpcbiAqIFlvdSBjYW4gdXNlIHtAbGluayBtb2R1bGU6b2wvcHJvai5nZXR9IHRvIHJldHJpZXZlIHRoZSBvYmplY3QgZm9yIGEgcGFydGljdWxhclxuICogcHJvamVjdGlvbi5cbiAqXG4gKiBUaGUgbGlicmFyeSBpbmNsdWRlcyBkZWZpbml0aW9ucyBmb3IgYEVQU0c6NDMyNmAgYW5kIGBFUFNHOjM4NTdgLCB0b2dldGhlclxuICogd2l0aCB0aGUgZm9sbG93aW5nIGFsaWFzZXM6XG4gKiAqIGBFUFNHOjQzMjZgOiBDUlM6ODQsIHVybjpvZ2M6ZGVmOmNyczpFUFNHOjYuNjo0MzI2LFxuICogICAgIHVybjpvZ2M6ZGVmOmNyczpPR0M6MS4zOkNSUzg0LCB1cm46b2djOmRlZjpjcnM6T0dDOjI6ODQsXG4gKiAgICAgaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzQzMjYsXG4gKiAgICAgdXJuOngtb2djOmRlZjpjcnM6RVBTRzo0MzI2XG4gKiAqIGBFUFNHOjM4NTdgOiBFUFNHOjEwMjEwMCwgRVBTRzoxMDIxMTMsIEVQU0c6OTAwOTEzLFxuICogICAgIHVybjpvZ2M6ZGVmOmNyczpFUFNHOjYuMTg6MzozODU3LFxuICogICAgIGh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sL3Nycy9lcHNnLnhtbCMzODU3XG4gKlxuICogSWYgeW91IHVzZSBbcHJvajRqc10oaHR0cHM6Ly9naXRodWIuY29tL3Byb2o0anMvcHJvajRqcyksIGFsaWFzZXMgY2FuXG4gKiBiZSBhZGRlZCB1c2luZyBgcHJvajQuZGVmcygpYC4gQWZ0ZXIgYWxsIHJlcXVpcmVkIHByb2plY3Rpb24gZGVmaW5pdGlvbnMgYXJlXG4gKiBhZGRlZCwgY2FsbCB0aGUge0BsaW5rIG1vZHVsZTpvbC9wcm9qL3Byb2o0LnJlZ2lzdGVyfSBmdW5jdGlvbi5cbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIFByb2plY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIFByb2plY3Rpb24gb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5jb2RlXyA9IG9wdGlvbnMuY29kZTtcblxuICAgIC8qKlxuICAgICAqIFVuaXRzIG9mIHByb2plY3RlZCBjb29yZGluYXRlcy4gV2hlbiBzZXQgdG8gYFRJTEVfUElYRUxTYCwgYVxuICAgICAqIGB0aGlzLmV4dGVudF9gIGFuZCBgdGhpcy53b3JsZEV4dGVudF9gIG11c3QgYmUgY29uZmlndXJlZCBwcm9wZXJseSBmb3IgZWFjaFxuICAgICAqIHRpbGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9Vbml0cy5qc1wiKS5Vbml0c31cbiAgICAgKi9cbiAgICB0aGlzLnVuaXRzXyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9Vbml0cy5qc1wiKS5Vbml0c30gKi8gKG9wdGlvbnMudW5pdHMpO1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRpdHkgZXh0ZW50IG9mIHRoZSBwcm9qZWN0aW9uIGluIHByb2plY3RlZCBjb29yZGluYXRlcy4gRm9yIHByb2plY3Rpb25zXG4gICAgICogd2l0aCBgVElMRV9QSVhFTFNgIHVuaXRzLCB0aGlzIGlzIHRoZSBleHRlbnQgb2YgdGhlIHRpbGUgaW5cbiAgICAgKiB0aWxlIHBpeGVsIHNwYWNlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy5leHRlbnRfID0gb3B0aW9ucy5leHRlbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZXh0ZW50IDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEV4dGVudCBvZiB0aGUgd29ybGQgaW4gRVBTRzo0MzI2LiBGb3IgcHJvamVjdGlvbnMgd2l0aFxuICAgICAqIGBUSUxFX1BJWEVMU2AgdW5pdHMsIHRoaXMgaXMgdGhlIGV4dGVudCBvZiB0aGUgdGlsZSBpblxuICAgICAqIHByb2plY3RlZCBjb29yZGluYXRlIHNwYWNlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy53b3JsZEV4dGVudF8gPVxuICAgICAgb3B0aW9ucy53b3JsZEV4dGVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy53b3JsZEV4dGVudCA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5heGlzT3JpZW50YXRpb25fID1cbiAgICAgIG9wdGlvbnMuYXhpc09yaWVudGF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF4aXNPcmllbnRhdGlvbiA6ICdlbnUnO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmdsb2JhbF8gPSBvcHRpb25zLmdsb2JhbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5nbG9iYWwgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5jYW5XcmFwWF8gPSAhISh0aGlzLmdsb2JhbF8gJiYgdGhpcy5leHRlbnRfKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Z1bmN0aW9uKG51bWJlciwgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTpudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuZ2V0UG9pbnRSZXNvbHV0aW9uRnVuY18gPSBvcHRpb25zLmdldFBvaW50UmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5kZWZhdWx0VGlsZUdyaWRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5tZXRlcnNQZXJVbml0XyA9IG9wdGlvbnMubWV0ZXJzUGVyVW5pdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgcHJvamVjdGlvbiBpcyBzdWl0YWJsZSBmb3Igd3JhcHBpbmcgdGhlIHgtYXhpc1xuICAgKi9cbiAgY2FuV3JhcFgoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FuV3JhcFhfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29kZSBmb3IgdGhpcyBwcm9qZWN0aW9uLCBlLmcuICdFUFNHOjQzMjYnLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IENvZGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENvZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29kZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2YWxpZGl0eSBleHRlbnQgZm9yIHRoaXMgcHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRFeHRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXh0ZW50XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHVuaXRzIG9mIHRoaXMgcHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9Vbml0cy5qc1wiKS5Vbml0c30gVW5pdHMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFVuaXRzKCkge1xuICAgIHJldHVybiB0aGlzLnVuaXRzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGFtb3VudCBvZiBtZXRlcnMgcGVyIHVuaXQgb2YgdGhpcyBwcm9qZWN0aW9uLiAgSWYgdGhlIHByb2plY3Rpb24gaXNcbiAgICogbm90IGNvbmZpZ3VyZWQgd2l0aCBgbWV0ZXJzUGVyVW5pdGAgb3IgYSB1bml0cyBpZGVudGlmaWVyLCB0aGUgcmV0dXJuIGlzXG4gICAqIGB1bmRlZmluZWRgLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBNZXRlcnMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1ldGVyc1BlclVuaXQoKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0ZXJzUGVyVW5pdF8gfHwgTUVURVJTX1BFUl9VTklUW3RoaXMudW5pdHNfXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHdvcmxkIGV4dGVudCBmb3IgdGhpcyBwcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFdvcmxkRXh0ZW50KCkge1xuICAgIHJldHVybiB0aGlzLndvcmxkRXh0ZW50XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGF4aXMgb3JpZW50YXRpb24gb2YgdGhpcyBwcm9qZWN0aW9uLlxuICAgKiBFeGFtcGxlIHZhbHVlcyBhcmU6XG4gICAqIGVudSAtIHRoZSBkZWZhdWx0IGVhc3RpbmcsIG5vcnRoaW5nLCBlbGV2YXRpb24uXG4gICAqIG5ldSAtIG5vcnRoaW5nLCBlYXN0aW5nLCB1cCAtIHVzZWZ1bCBmb3IgXCJsYXQvbG9uZ1wiIGdlb2dyYXBoaWMgY29vcmRpbmF0ZXMsXG4gICAqICAgICBvciBzb3V0aCBvcmllbnRhdGVkIHRyYW5zdmVyc2UgbWVyY2F0b3IuXG4gICAqIHdudSAtIHdlc3RpbmcsIG5vcnRoaW5nLCB1cCAtIHNvbWUgcGxhbmV0YXJ5IGNvb3JkaW5hdGUgc3lzdGVtcyBoYXZlXG4gICAqICAgICBcIndlc3QgcG9zaXRpdmVcIiBjb29yZGluYXRlIHN5c3RlbXNcbiAgICogQHJldHVybiB7c3RyaW5nfSBBeGlzIG9yaWVudGF0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRBeGlzT3JpZW50YXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXhpc09yaWVudGF0aW9uXztcbiAgfVxuXG4gIC8qKlxuICAgKiBJcyB0aGlzIHByb2plY3Rpb24gYSBnbG9iYWwgcHJvamVjdGlvbiB3aGljaCBzcGFucyB0aGUgd2hvbGUgd29ybGQ/XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHByb2plY3Rpb24gaXMgZ2xvYmFsLlxuICAgKiBAYXBpXG4gICAqL1xuICBpc0dsb2JhbCgpIHtcbiAgICByZXR1cm4gdGhpcy5nbG9iYWxfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBpZiB0aGUgcHJvamVjdGlvbiBpcyBhIGdsb2JhbCBwcm9qZWN0aW9uIHdoaWNoIHNwYW5zIHRoZSB3aG9sZSB3b3JsZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGdsb2JhbCBXaGV0aGVyIHRoZSBwcm9qZWN0aW9uIGlzIGdsb2JhbC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0R2xvYmFsKGdsb2JhbCkge1xuICAgIHRoaXMuZ2xvYmFsXyA9IGdsb2JhbDtcbiAgICB0aGlzLmNhbldyYXBYXyA9ICEhKGdsb2JhbCAmJiB0aGlzLmV4dGVudF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFRoZSBkZWZhdWx0IHRpbGUgZ3JpZC5cbiAgICovXG4gIGdldERlZmF1bHRUaWxlR3JpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0VGlsZUdyaWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGhlIGRlZmF1bHQgdGlsZSBncmlkLlxuICAgKi9cbiAgc2V0RGVmYXVsdFRpbGVHcmlkKHRpbGVHcmlkKSB7XG4gICAgdGhpcy5kZWZhdWx0VGlsZUdyaWRfID0gdGlsZUdyaWQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB2YWxpZGl0eSBleHRlbnQgZm9yIHRoaXMgcHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRFeHRlbnQoZXh0ZW50KSB7XG4gICAgdGhpcy5leHRlbnRfID0gZXh0ZW50O1xuICAgIHRoaXMuY2FuV3JhcFhfID0gISEodGhpcy5nbG9iYWxfICYmIGV4dGVudCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB3b3JsZCBleHRlbnQgZm9yIHRoaXMgcHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSB3b3JsZEV4dGVudCBXb3JsZCBleHRlbnRcbiAgICogICAgIFttaW5sb24sIG1pbmxhdCwgbWF4bG9uLCBtYXhsYXRdLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRXb3JsZEV4dGVudCh3b3JsZEV4dGVudCkge1xuICAgIHRoaXMud29ybGRFeHRlbnRfID0gd29ybGRFeHRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBnZXRQb2ludFJlc29sdXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgbW9kdWxlOm9sL3Byb2ouZ2V0UG9pbnRSZXNvbHV0aW9ufVxuICAgKiBmb3IgdGhpcyBwcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG51bWJlciwgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTpudW1iZXJ9IGZ1bmMgRnVuY3Rpb25cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0R2V0UG9pbnRSZXNvbHV0aW9uKGZ1bmMpIHtcbiAgICB0aGlzLmdldFBvaW50UmVzb2x1dGlvbkZ1bmNfID0gZnVuYztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1c3RvbSBwb2ludCByZXNvbHV0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIHByb2plY3Rpb24gKGlmIHNldCkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9uKG51bWJlciwgaW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTpudW1iZXJ8dW5kZWZpbmVkfSBUaGUgY3VzdG9tIHBvaW50XG4gICAqIHJlc29sdXRpb24gZnVuY3Rpb24gKGlmIHNldCkuXG4gICAqL1xuICBnZXRQb2ludFJlc29sdXRpb25GdW5jKCkge1xuICAgIHJldHVybiB0aGlzLmdldFBvaW50UmVzb2x1dGlvbkZ1bmNfO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2plY3Rpb247XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcHJvai9Vbml0c1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeydyYWRpYW5zJyB8ICdkZWdyZWVzJyB8ICdmdCcgfCAnbScgfCAncGl4ZWxzJyB8ICd0aWxlLXBpeGVscycgfCAndXMtZnQnfSBVbml0c1xuICogUHJvamVjdGlvbiB1bml0cy5cbiAqL1xuXG4vKipcbiAqIFNlZSBodHRwOi8vZHVmZi5lc3Mud2FzaGluZ3Rvbi5lZHUvZGF0YS9yYXN0ZXIvZHJnL2RvY3MvZ2VvdGlmZi50eHRcbiAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBVbml0cz59XG4gKi9cbmNvbnN0IHVuaXRCeUNvZGUgPSB7XG4gICc5MDAxJzogJ20nLFxuICAnOTAwMic6ICdmdCcsXG4gICc5MDAzJzogJ3VzLWZ0JyxcbiAgJzkxMDEnOiAncmFkaWFucycsXG4gICc5MTAyJzogJ2RlZ3JlZXMnLFxufTtcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gY29kZSBVbml0IGNvZGUuXG4gKiBAcmV0dXJuIHtVbml0c30gVW5pdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQ29kZShjb2RlKSB7XG4gIHJldHVybiB1bml0QnlDb2RlW2NvZGVdO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1ldGVyc1BlclVuaXRMb29rdXBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByYWRpYW5zIFJhZGlhbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZWdyZWVzIERlZ3JlZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmdCAgRmVldFxuICogQHByb3BlcnR5IHtudW1iZXJ9IG0gTWV0ZXJzXG4gKiBAcHJvcGVydHkge251bWJlcn0gdXMtZnQgVVMgZmVldFxuICovXG5cbi8qKlxuICogTWV0ZXJzIHBlciB1bml0IGxvb2t1cCB0YWJsZS5cbiAqIEBjb25zdFxuICogQHR5cGUge01ldGVyc1BlclVuaXRMb29rdXB9XG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCBNRVRFUlNfUEVSX1VOSVQgPSB7XG4gIC8vIHVzZSB0aGUgcmFkaXVzIG9mIHRoZSBOb3JtYWwgc3BoZXJlXG4gICdyYWRpYW5zJzogNjM3MDk5NyAvICgyICogTWF0aC5QSSksXG4gICdkZWdyZWVzJzogKDIgKiBNYXRoLlBJICogNjM3MDk5NykgLyAzNjAsXG4gICdmdCc6IDAuMzA0OCxcbiAgJ20nOiAxLFxuICAndXMtZnQnOiAxMjAwIC8gMzkzNyxcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL0V2ZW50XG4gKi9cblxuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5cbmNsYXNzIFJlbmRlckV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0V2ZW50VHlwZS5qc1wiKS5kZWZhdWx0fSB0eXBlIFR5cGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gW2ludmVyc2VQaXhlbFRyYW5zZm9ybV0gVHJhbnNmb3JtIGZvclxuICAgKiAgICAgQ1NTIHBpeGVscyB0byByZW5kZXJlZCBwaXhlbHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IFtmcmFtZVN0YXRlXSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHs/KENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRHxXZWJHTFJlbmRlcmluZ0NvbnRleHQpfSBbY29udGV4dF0gQ29udGV4dC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHR5cGUsIGludmVyc2VQaXhlbFRyYW5zZm9ybSwgZnJhbWVTdGF0ZSwgY29udGV4dCkge1xuICAgIHN1cGVyKHR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGZyb20gQ1NTIHBpeGVscyAocmVsYXRpdmUgdG8gdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgbWFwIHZpZXdwb3J0KVxuICAgICAqIHRvIHJlbmRlcmVkIHBpeGVscyBvbiB0aGlzIGV2ZW50J3MgYGNvbnRleHRgLiBPbmx5IGF2YWlsYWJsZSB3aGVuIGEgQ2FudmFzIHJlbmRlcmVyIGlzIHVzZWQsIG51bGwgb3RoZXJ3aXNlLlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfHVuZGVmaW5lZH1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0gPSBpbnZlcnNlUGl4ZWxUcmFuc2Zvcm07XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IHJlbmRlciBmcmFtZSBzdGF0ZS5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV8dW5kZWZpbmVkfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lU3RhdGUgPSBmcmFtZVN0YXRlO1xuXG4gICAgLyoqXG4gICAgICogQ2FudmFzIGNvbnRleHQuIE5vdCBhdmFpbGFibGUgd2hlbiB0aGUgZXZlbnQgaXMgZGlzcGF0Y2hlZCBieSB0aGUgbWFwLiBGb3IgQ2FudmFzIDJEIGxheWVycyxcbiAgICAgKiB0aGUgY29udGV4dCB3aWxsIGJlIHRoZSAyRCByZW5kZXJpbmcgY29udGV4dC4gIEZvciBXZWJHTCBsYXllcnMsIHRoZSBjb250ZXh0IHdpbGwgYmUgdGhlIFdlYkdMXG4gICAgICogY29udGV4dC5cbiAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfFdlYkdMUmVuZGVyaW5nQ29udGV4dHx1bmRlZmluZWR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVuZGVyRXZlbnQ7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL0V2ZW50VHlwZVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogVHJpZ2dlcmVkIGJlZm9yZSBhIGxheWVyIGlzIHJlbmRlcmVkLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwcmVyZW5kZXJcbiAgICogQGFwaVxuICAgKi9cbiAgUFJFUkVOREVSOiAncHJlcmVuZGVyJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIGFmdGVyIGEgbGF5ZXIgaXMgcmVuZGVyZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvcmVuZGVyL0V2ZW50flJlbmRlckV2ZW50I3Bvc3RyZW5kZXJcbiAgICogQGFwaVxuICAgKi9cbiAgUE9TVFJFTkRFUjogJ3Bvc3RyZW5kZXInLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgYmVmb3JlIGxheWVycyBhcmUgY29tcG9zZWQuICBXaGVuIGRpc3BhdGNoZWQgYnkgdGhlIG1hcCwgdGhlIGV2ZW50IG9iamVjdCB3aWxsIG5vdCBoYXZlXG4gICAqIGEgYGNvbnRleHRgIHNldC4gIFdoZW4gZGlzcGF0Y2hlZCBieSBhIGxheWVyLCB0aGUgZXZlbnQgb2JqZWN0IHdpbGwgaGF2ZSBhIGBjb250ZXh0YCBzZXQuICBPbmx5XG4gICAqIFdlYkdMIGxheWVycyBjdXJyZW50bHkgZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnQjcHJlY29tcG9zZVxuICAgKiBAYXBpXG4gICAqL1xuICBQUkVDT01QT1NFOiAncHJlY29tcG9zZScsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCBhZnRlciBsYXllcnMgYXJlIGNvbXBvc2VkLiAgV2hlbiBkaXNwYXRjaGVkIGJ5IHRoZSBtYXAsIHRoZSBldmVudCBvYmplY3Qgd2lsbCBub3QgaGF2ZVxuICAgKiBhIGBjb250ZXh0YCBzZXQuICBXaGVuIGRpc3BhdGNoZWQgYnkgYSBsYXllciwgdGhlIGV2ZW50IG9iamVjdCB3aWxsIGhhdmUgYSBgY29udGV4dGAgc2V0LiAgT25seVxuICAgKiBXZWJHTCBsYXllcnMgY3VycmVudGx5IGRpc3BhdGNoIHRoaXMgZXZlbnQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvcmVuZGVyL0V2ZW50flJlbmRlckV2ZW50I3Bvc3Rjb21wb3NlXG4gICAqIEBhcGlcbiAgICovXG4gIFBPU1RDT01QT1NFOiAncG9zdGNvbXBvc2UnLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiByZW5kZXJpbmcgaXMgY29tcGxldGUsIGkuZS4gYWxsIHNvdXJjZXMgYW5kIHRpbGVzIGhhdmVcbiAgICogZmluaXNoZWQgbG9hZGluZyBmb3IgdGhlIGN1cnJlbnQgdmlld3BvcnQsIGFuZCBhbGwgdGlsZXMgYXJlIGZhZGVkIGluLlxuICAgKiBUaGUgZXZlbnQgb2JqZWN0IHdpbGwgbm90IGhhdmUgYSBgY29udGV4dGAgc2V0LlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNyZW5kZXJjb21wbGV0ZVxuICAgKiBAYXBpXG4gICAqL1xuICBSRU5ERVJDT01QTEVURTogJ3JlbmRlcmNvbXBsZXRlJyxcbn07XG5cbi8qKlxuICogQHR5cGVkZWYgeydwb3N0cmVuZGVyJ3wncHJlY29tcG9zZSd8J3Bvc3Rjb21wb3NlJ3wncmVuZGVyY29tcGxldGUnfSBNYXBSZW5kZXJFdmVudFR5cGVzXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7J3Bvc3RyZW5kZXInfCdwcmVyZW5kZXInfSBMYXllclJlbmRlckV2ZW50VHlwZXNcbiAqL1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9pbnRlcnBvbGF0ZVxuICovXG5pbXBvcnQge2JpbmFyeVNlYXJjaH0gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtsZXJwfSBmcm9tICcuLi8uLi9tYXRoLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyYWN0aW9uIEZyYWN0aW9uLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbZGVzdF0gRGVzdGluYXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW2RpbWVuc2lvbl0gRGVzdGluYXRpb24gZGltZW5zaW9uIChkZWZhdWx0IGlzIGAyYClcbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IERlc3RpbmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJwb2xhdGVQb2ludChcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBmcmFjdGlvbixcbiAgZGVzdCxcbiAgZGltZW5zaW9uXG4pIHtcbiAgbGV0IG8sIHQ7XG4gIGNvbnN0IG4gPSAoZW5kIC0gb2Zmc2V0KSAvIHN0cmlkZTtcbiAgaWYgKG4gPT09IDEpIHtcbiAgICBvID0gb2Zmc2V0O1xuICB9IGVsc2UgaWYgKG4gPT09IDIpIHtcbiAgICBvID0gb2Zmc2V0O1xuICAgIHQgPSBmcmFjdGlvbjtcbiAgfSBlbHNlIGlmIChuICE9PSAwKSB7XG4gICAgbGV0IHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgbGV0IHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIGxldCBsZW5ndGggPSAwO1xuICAgIGNvbnN0IGN1bXVsYXRpdmVMZW5ndGhzID0gWzBdO1xuICAgIGZvciAobGV0IGkgPSBvZmZzZXQgKyBzdHJpZGU7IGkgPCBlbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgICBjb25zdCB4MiA9IGZsYXRDb29yZGluYXRlc1tpXTtcbiAgICAgIGNvbnN0IHkyID0gZmxhdENvb3JkaW5hdGVzW2kgKyAxXTtcbiAgICAgIGxlbmd0aCArPSBNYXRoLnNxcnQoKHgyIC0geDEpICogKHgyIC0geDEpICsgKHkyIC0geTEpICogKHkyIC0geTEpKTtcbiAgICAgIGN1bXVsYXRpdmVMZW5ndGhzLnB1c2gobGVuZ3RoKTtcbiAgICAgIHgxID0geDI7XG4gICAgICB5MSA9IHkyO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSBmcmFjdGlvbiAqIGxlbmd0aDtcbiAgICBjb25zdCBpbmRleCA9IGJpbmFyeVNlYXJjaChjdW11bGF0aXZlTGVuZ3RocywgdGFyZ2V0KTtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICB0ID1cbiAgICAgICAgKHRhcmdldCAtIGN1bXVsYXRpdmVMZW5ndGhzWy1pbmRleCAtIDJdKSAvXG4gICAgICAgIChjdW11bGF0aXZlTGVuZ3Roc1staW5kZXggLSAxXSAtIGN1bXVsYXRpdmVMZW5ndGhzWy1pbmRleCAtIDJdKTtcbiAgICAgIG8gPSBvZmZzZXQgKyAoLWluZGV4IC0gMikgKiBzdHJpZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG8gPSBvZmZzZXQgKyBpbmRleCAqIHN0cmlkZTtcbiAgICB9XG4gIH1cbiAgZGltZW5zaW9uID0gZGltZW5zaW9uID4gMSA/IGRpbWVuc2lvbiA6IDI7XG4gIGRlc3QgPSBkZXN0ID8gZGVzdCA6IG5ldyBBcnJheShkaW1lbnNpb24pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRpbWVuc2lvbjsgKytpKSB7XG4gICAgZGVzdFtpXSA9XG4gICAgICBvID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBOYU5cbiAgICAgICAgOiB0ID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBmbGF0Q29vcmRpbmF0ZXNbbyArIGldXG4gICAgICAgIDogbGVycChmbGF0Q29vcmRpbmF0ZXNbbyArIGldLCBmbGF0Q29vcmRpbmF0ZXNbbyArIHN0cmlkZSArIGldLCB0KTtcbiAgfVxuICByZXR1cm4gZGVzdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG0gTS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZXh0cmFwb2xhdGUgRXh0cmFwb2xhdGUuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8bnVsbH0gQ29vcmRpbmF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVTdHJpbmdDb29yZGluYXRlQXRNKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIG0sXG4gIGV4dHJhcG9sYXRlXG4pIHtcbiAgaWYgKGVuZCA9PSBvZmZzZXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgY29vcmRpbmF0ZTtcbiAgaWYgKG0gPCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgc3RyaWRlIC0gMV0pIHtcbiAgICBpZiAoZXh0cmFwb2xhdGUpIHtcbiAgICAgIGNvb3JkaW5hdGUgPSBmbGF0Q29vcmRpbmF0ZXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBzdHJpZGUpO1xuICAgICAgY29vcmRpbmF0ZVtzdHJpZGUgLSAxXSA9IG07XG4gICAgICByZXR1cm4gY29vcmRpbmF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAoZmxhdENvb3JkaW5hdGVzW2VuZCAtIDFdIDwgbSkge1xuICAgIGlmIChleHRyYXBvbGF0ZSkge1xuICAgICAgY29vcmRpbmF0ZSA9IGZsYXRDb29yZGluYXRlcy5zbGljZShlbmQgLSBzdHJpZGUsIGVuZCk7XG4gICAgICBjb29yZGluYXRlW3N0cmlkZSAtIDFdID0gbTtcbiAgICAgIHJldHVybiBjb29yZGluYXRlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAvLyBGSVhNRSB1c2UgTygxKSBzZWFyY2hcbiAgaWYgKG0gPT0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIHN0cmlkZSAtIDFdKSB7XG4gICAgcmV0dXJuIGZsYXRDb29yZGluYXRlcy5zbGljZShvZmZzZXQsIG9mZnNldCArIHN0cmlkZSk7XG4gIH1cbiAgbGV0IGxvID0gb2Zmc2V0IC8gc3RyaWRlO1xuICBsZXQgaGkgPSBlbmQgLyBzdHJpZGU7XG4gIHdoaWxlIChsbyA8IGhpKSB7XG4gICAgY29uc3QgbWlkID0gKGxvICsgaGkpID4+IDE7XG4gICAgaWYgKG0gPCBmbGF0Q29vcmRpbmF0ZXNbKG1pZCArIDEpICogc3RyaWRlIC0gMV0pIHtcbiAgICAgIGhpID0gbWlkO1xuICAgIH0gZWxzZSB7XG4gICAgICBsbyA9IG1pZCArIDE7XG4gICAgfVxuICB9XG4gIGNvbnN0IG0wID0gZmxhdENvb3JkaW5hdGVzW2xvICogc3RyaWRlIC0gMV07XG4gIGlmIChtID09IG0wKSB7XG4gICAgcmV0dXJuIGZsYXRDb29yZGluYXRlcy5zbGljZSgobG8gLSAxKSAqIHN0cmlkZSwgKGxvIC0gMSkgKiBzdHJpZGUgKyBzdHJpZGUpO1xuICB9XG4gIGNvbnN0IG0xID0gZmxhdENvb3JkaW5hdGVzWyhsbyArIDEpICogc3RyaWRlIC0gMV07XG4gIGNvbnN0IHQgPSAobSAtIG0wKSAvIChtMSAtIG0wKTtcbiAgY29vcmRpbmF0ZSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmlkZSAtIDE7ICsraSkge1xuICAgIGNvb3JkaW5hdGUucHVzaChcbiAgICAgIGxlcnAoXG4gICAgICAgIGZsYXRDb29yZGluYXRlc1sobG8gLSAxKSAqIHN0cmlkZSArIGldLFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbbG8gKiBzdHJpZGUgKyBpXSxcbiAgICAgICAgdFxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgY29vcmRpbmF0ZS5wdXNoKG0pO1xuICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG0gTS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZXh0cmFwb2xhdGUgRXh0cmFwb2xhdGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGludGVycG9sYXRlIEludGVycG9sYXRlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfG51bGx9IENvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lU3RyaW5nc0Nvb3JkaW5hdGVBdE0oXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzLFxuICBzdHJpZGUsXG4gIG0sXG4gIGV4dHJhcG9sYXRlLFxuICBpbnRlcnBvbGF0ZVxuKSB7XG4gIGlmIChpbnRlcnBvbGF0ZSkge1xuICAgIHJldHVybiBsaW5lU3RyaW5nQ29vcmRpbmF0ZUF0TShcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZHNbZW5kcy5sZW5ndGggLSAxXSxcbiAgICAgIHN0cmlkZSxcbiAgICAgIG0sXG4gICAgICBleHRyYXBvbGF0ZVxuICAgICk7XG4gIH1cbiAgbGV0IGNvb3JkaW5hdGU7XG4gIGlmIChtIDwgZmxhdENvb3JkaW5hdGVzW3N0cmlkZSAtIDFdKSB7XG4gICAgaWYgKGV4dHJhcG9sYXRlKSB7XG4gICAgICBjb29yZGluYXRlID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKDAsIHN0cmlkZSk7XG4gICAgICBjb29yZGluYXRlW3N0cmlkZSAtIDFdID0gbTtcbiAgICAgIHJldHVybiBjb29yZGluYXRlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoZmxhdENvb3JkaW5hdGVzW2ZsYXRDb29yZGluYXRlcy5sZW5ndGggLSAxXSA8IG0pIHtcbiAgICBpZiAoZXh0cmFwb2xhdGUpIHtcbiAgICAgIGNvb3JkaW5hdGUgPSBmbGF0Q29vcmRpbmF0ZXMuc2xpY2UoZmxhdENvb3JkaW5hdGVzLmxlbmd0aCAtIHN0cmlkZSk7XG4gICAgICBjb29yZGluYXRlW3N0cmlkZSAtIDFdID0gbTtcbiAgICAgIHJldHVybiBjb29yZGluYXRlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgIGlmIChvZmZzZXQgPT0gZW5kKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG0gPCBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgc3RyaWRlIC0gMV0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAobSA8PSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gMV0pIHtcbiAgICAgIHJldHVybiBsaW5lU3RyaW5nQ29vcmRpbmF0ZUF0TShcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGVuZCxcbiAgICAgICAgc3RyaWRlLFxuICAgICAgICBtLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICB9XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9GZWF0dXJlXG4gKi9cbmltcG9ydCBGZWF0dXJlIGZyb20gJy4uL0ZlYXR1cmUuanMnO1xuaW1wb3J0IHtcbiAgTGluZVN0cmluZyxcbiAgTXVsdGlMaW5lU3RyaW5nLFxuICBNdWx0aVBvaW50LFxuICBNdWx0aVBvbHlnb24sXG4gIFBvaW50LFxuICBQb2x5Z29uLFxufSBmcm9tICcuLi9nZW9tLmpzJztcbmltcG9ydCB7XG4gIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSxcbiAgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSxcbn0gZnJvbSAnLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7XG4gIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUsXG4gIGNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcyxcbiAgZ2V0Q2VudGVyLFxuICBnZXRIZWlnaHQsXG59IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2V4dGVuZH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtcbiAgZ2V0SW50ZXJpb3JQb2ludE9mQXJyYXksXG4gIGdldEludGVyaW9yUG9pbnRzT2ZNdWx0aUFycmF5LFxufSBmcm9tICcuLi9nZW9tL2ZsYXQvaW50ZXJpb3Jwb2ludC5qcyc7XG5pbXBvcnQge2dldCBhcyBnZXRQcm9qZWN0aW9ufSBmcm9tICcuLi9wcm9qLmpzJztcbmltcG9ydCB7aW5mbGF0ZUVuZHN9IGZyb20gJy4uL2dlb20vZmxhdC9vcmllbnQuanMnO1xuaW1wb3J0IHtpbnRlcnBvbGF0ZVBvaW50fSBmcm9tICcuLi9nZW9tL2ZsYXQvaW50ZXJwb2xhdGUuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5nc3MgYXMgbGluZWFyUmluZ3NzQ2VudGVyfSBmcm9tICcuLi9nZW9tL2ZsYXQvY2VudGVyLmpzJztcbmltcG9ydCB7dHJhbnNmb3JtMkR9IGZyb20gJy4uL2dlb20vZmxhdC90cmFuc2Zvcm0uanMnO1xuXG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICovXG5jb25zdCB0bXBUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcblxuLyoqXG4gKiBMaWdodHdlaWdodCwgcmVhZC1vbmx5LCB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZX0gYW5kIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9HZW9tZXRyeX5HZW9tZXRyeX0gbGlrZVxuICogc3RydWN0dXJlLCBvcHRpbWl6ZWQgZm9yIHZlY3RvciB0aWxlIHJlbmRlcmluZyBhbmQgc3R5bGluZy4gR2VvbWV0cnkgYWNjZXNzXG4gKiB0aHJvdWdoIHRoZSBBUEkgaXMgbGltaXRlZCB0byBnZXR0aW5nIHRoZSB0eXBlIGFuZCBleHRlbnQgb2YgdGhlIGdlb21ldHJ5LlxuICovXG5jbGFzcyBSZW5kZXJGZWF0dXJlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5UeXBlfSB0eXBlIEdlb21ldHJ5IHR5cGUuXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuIFRoZXNlIGFsd2F5cyBuZWVkXG4gICAqICAgICB0byBiZSByaWdodC1oYW5kZWQgZm9yIHBvbHlnb25zLlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj58QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHMgRW5kcyBvciBFbmRzcy5cbiAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCAqPn0gcHJvcGVydGllcyBQcm9wZXJ0aWVzLlxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8dW5kZWZpbmVkfSBpZCBGZWF0dXJlIGlkLlxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSwgZmxhdENvb3JkaW5hdGVzLCBlbmRzLCBwcm9wZXJ0aWVzLCBpZCkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnN0eWxlRnVuY3Rpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudF87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8c3RyaW5nfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmlkXyA9IGlkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5UeXBlfVxuICAgICAqL1xuICAgIHRoaXMudHlwZV8gPSB0eXBlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLmZsYXRDb29yZGluYXRlc18gPSBmbGF0Q29vcmRpbmF0ZXM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuZmxhdEludGVyaW9yUG9pbnRzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuZmxhdE1pZHBvaW50c18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPnxBcnJheTxBcnJheTxudW1iZXI+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmVuZHNfID0gZW5kcztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fVxuICAgICAqL1xuICAgIHRoaXMucHJvcGVydGllc18gPSBwcm9wZXJ0aWVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIGZlYXR1cmUgcHJvcGVydHkgYnkgaXRzIGtleS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXlcbiAgICogQHJldHVybiB7Kn0gVmFsdWUgZm9yIHRoZSByZXF1ZXN0ZWQga2V5LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXQoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcGVydGllc19ba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGV4dGVudCBvZiB0aGlzIGZlYXR1cmUncyBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRFeHRlbnQoKSB7XG4gICAgaWYgKCF0aGlzLmV4dGVudF8pIHtcbiAgICAgIHRoaXMuZXh0ZW50XyA9XG4gICAgICAgIHRoaXMudHlwZV8gPT09ICdQb2ludCdcbiAgICAgICAgICA/IGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGUodGhpcy5mbGF0Q29vcmRpbmF0ZXNfKVxuICAgICAgICAgIDogY3JlYXRlT3JVcGRhdGVGcm9tRmxhdENvb3JkaW5hdGVzKFxuICAgICAgICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlc18sXG4gICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzXy5sZW5ndGgsXG4gICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmV4dGVudF87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRmxhdCBpbnRlcmlvciBwb2ludHMuXG4gICAqL1xuICBnZXRGbGF0SW50ZXJpb3JQb2ludCgpIHtcbiAgICBpZiAoIXRoaXMuZmxhdEludGVyaW9yUG9pbnRzXykge1xuICAgICAgY29uc3QgZmxhdENlbnRlciA9IGdldENlbnRlcih0aGlzLmdldEV4dGVudCgpKTtcbiAgICAgIHRoaXMuZmxhdEludGVyaW9yUG9pbnRzXyA9IGdldEludGVyaW9yUG9pbnRPZkFycmF5KFxuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlc18sXG4gICAgICAgIDAsXG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKHRoaXMuZW5kc18pLFxuICAgICAgICAyLFxuICAgICAgICBmbGF0Q2VudGVyLFxuICAgICAgICAwXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mbGF0SW50ZXJpb3JQb2ludHNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEZsYXQgaW50ZXJpb3IgcG9pbnRzLlxuICAgKi9cbiAgZ2V0RmxhdEludGVyaW9yUG9pbnRzKCkge1xuICAgIGlmICghdGhpcy5mbGF0SW50ZXJpb3JQb2ludHNfKSB7XG4gICAgICBjb25zdCBmbGF0Q2VudGVycyA9IGxpbmVhclJpbmdzc0NlbnRlcihcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXNfLFxuICAgICAgICAwLFxuICAgICAgICAvKiogQHR5cGUge0FycmF5PEFycmF5PG51bWJlcj4+fSAqLyAodGhpcy5lbmRzXyksXG4gICAgICAgIDJcbiAgICAgICk7XG4gICAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50c18gPSBnZXRJbnRlcmlvclBvaW50c09mTXVsdGlBcnJheShcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXNfLFxuICAgICAgICAwLFxuICAgICAgICAvKiogQHR5cGUge0FycmF5PEFycmF5PG51bWJlcj4+fSAqLyAodGhpcy5lbmRzXyksXG4gICAgICAgIDIsXG4gICAgICAgIGZsYXRDZW50ZXJzXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mbGF0SW50ZXJpb3JQb2ludHNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEZsYXQgbWlkcG9pbnQuXG4gICAqL1xuICBnZXRGbGF0TWlkcG9pbnQoKSB7XG4gICAgaWYgKCF0aGlzLmZsYXRNaWRwb2ludHNfKSB7XG4gICAgICB0aGlzLmZsYXRNaWRwb2ludHNfID0gaW50ZXJwb2xhdGVQb2ludChcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXNfLFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlc18ubGVuZ3RoLFxuICAgICAgICAyLFxuICAgICAgICAwLjVcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZsYXRNaWRwb2ludHNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEZsYXQgbWlkcG9pbnRzLlxuICAgKi9cbiAgZ2V0RmxhdE1pZHBvaW50cygpIHtcbiAgICBpZiAoIXRoaXMuZmxhdE1pZHBvaW50c18pIHtcbiAgICAgIHRoaXMuZmxhdE1pZHBvaW50c18gPSBbXTtcbiAgICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzXztcbiAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgY29uc3QgZW5kcyA9IC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKHRoaXMuZW5kc18pO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGVuZCA9IGVuZHNbaV07XG4gICAgICAgIGNvbnN0IG1pZHBvaW50ID0gaW50ZXJwb2xhdGVQb2ludChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCAyLCAwLjUpO1xuICAgICAgICBleHRlbmQodGhpcy5mbGF0TWlkcG9pbnRzXywgbWlkcG9pbnQpO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZsYXRNaWRwb2ludHNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmVhdHVyZSBpZGVudGlmaWVyLiAgVGhpcyBpcyBhIHN0YWJsZSBpZGVudGlmaWVyIGZvciB0aGUgZmVhdHVyZSBhbmRcbiAgICogaXMgc2V0IHdoZW4gcmVhZGluZyBkYXRhIGZyb20gYSByZW1vdGUgc291cmNlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8c3RyaW5nfHVuZGVmaW5lZH0gSWQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldElkKCkge1xuICAgIHJldHVybiB0aGlzLmlkXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKi9cbiAgZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmxhdENvb3JkaW5hdGVzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3IgQVBJIGNvbXBhdGliaWxpdHkgd2l0aCB7QGxpbmsgbW9kdWxlOm9sL0ZlYXR1cmV+RmVhdHVyZX0sIHRoaXMgbWV0aG9kIGlzIHVzZWZ1bCB3aGVuXG4gICAqIGRldGVybWluaW5nIHRoZSBnZW9tZXRyeSB0eXBlIGluIHN0eWxlIGZ1bmN0aW9uIChzZWUge0BsaW5rICNnZXRUeXBlfSkuXG4gICAqIEByZXR1cm4ge1JlbmRlckZlYXR1cmV9IEZlYXR1cmUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEdlb21ldHJ5KCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgKiBAcmV0dXJuIHtSZW5kZXJGZWF0dXJlfSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgKi9cbiAgZ2V0U2ltcGxpZmllZEdlb21ldHJ5KHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSB0cmFuc2Zvcm1lZCBhbmQgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IFt0cmFuc2Zvcm1dIE9wdGlvbmFsIHRyYW5zZm9ybSBmdW5jdGlvbi5cbiAgICogQHJldHVybiB7UmVuZGVyRmVhdHVyZX0gU2ltcGxpZmllZCBnZW9tZXRyeS5cbiAgICovXG4gIHNpbXBsaWZ5VHJhbnNmb3JtZWQoc3F1YXJlZFRvbGVyYW5jZSwgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBmZWF0dXJlIHByb3BlcnRpZXMuXG4gICAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsICo+fSBGZWF0dXJlIHByb3BlcnRpZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFByb3BlcnRpZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcGVydGllc187XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBTdHJpZGUuXG4gICAqL1xuICBnZXRTdHJpZGUoKSB7XG4gICAgcmV0dXJuIDI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KCcuLi9zdHlsZS9TdHlsZS5qcycpLlN0eWxlRnVuY3Rpb258dW5kZWZpbmVkfSBTdHlsZVxuICAgKi9cbiAgZ2V0U3R5bGVGdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZUZ1bmN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdHlwZSBvZiB0aGlzIGZlYXR1cmUncyBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5UeXBlfSBHZW9tZXRyeSB0eXBlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUeXBlKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybSBnZW9tZXRyeSBjb29yZGluYXRlcyBmcm9tIHRpbGUgcGl4ZWwgc3BhY2UgdG8gcHJvamVjdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gVGhlIGRhdGEgcHJvamVjdGlvblxuICAgKi9cbiAgdHJhbnNmb3JtKHByb2plY3Rpb24pIHtcbiAgICBwcm9qZWN0aW9uID0gZ2V0UHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBjb25zdCBwaXhlbEV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgY29uc3QgcHJvamVjdGVkRXh0ZW50ID0gcHJvamVjdGlvbi5nZXRXb3JsZEV4dGVudCgpO1xuICAgIGlmIChwaXhlbEV4dGVudCAmJiBwcm9qZWN0ZWRFeHRlbnQpIHtcbiAgICAgIGNvbnN0IHNjYWxlID0gZ2V0SGVpZ2h0KHByb2plY3RlZEV4dGVudCkgLyBnZXRIZWlnaHQocGl4ZWxFeHRlbnQpO1xuICAgICAgY29tcG9zZVRyYW5zZm9ybShcbiAgICAgICAgdG1wVHJhbnNmb3JtLFxuICAgICAgICBwcm9qZWN0ZWRFeHRlbnRbMF0sXG4gICAgICAgIHByb2plY3RlZEV4dGVudFszXSxcbiAgICAgICAgc2NhbGUsXG4gICAgICAgIC1zY2FsZSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMFxuICAgICAgKTtcbiAgICAgIHRyYW5zZm9ybTJEKFxuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlc18sXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzXy5sZW5ndGgsXG4gICAgICAgIDIsXG4gICAgICAgIHRtcFRyYW5zZm9ybSxcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXNfXG4gICAgICApO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnxBcnJheTxBcnJheTxudW1iZXI+Pn0gRW5kcyBvciBlbmRzcy5cbiAgICovXG4gIGdldEVuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5kc187XG4gIH1cbn1cblxuUmVuZGVyRmVhdHVyZS5wcm90b3R5cGUuZ2V0RW5kc3MgPSBSZW5kZXJGZWF0dXJlLnByb3RvdHlwZS5nZXRFbmRzO1xuXG4vKipcbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEZsYXQgY29vcmRpbmF0ZXMuXG4gKi9cblJlbmRlckZlYXR1cmUucHJvdG90eXBlLmdldEZsYXRDb29yZGluYXRlcyA9XG4gIFJlbmRlckZlYXR1cmUucHJvdG90eXBlLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzO1xuXG4vKipcbiAqIENyZWF0ZSBhIGdlb21ldHJ5IGZyb20gYW4gYG9sL3JlbmRlci9GZWF0dXJlYFxuICogQHBhcmFtIHtSZW5kZXJGZWF0dXJlfSByZW5kZXJGZWF0dXJlXG4gKiBSZW5kZXIgRmVhdHVyZVxuICogQHJldHVybiB7UG9pbnR8TXVsdGlQb2ludHxMaW5lU3RyaW5nfE11bHRpTGluZVN0cmluZ3xQb2x5Z29ufE11bHRpUG9seWdvbn1cbiAqIE5ldyBnZW9tZXRyeSBpbnN0YW5jZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvR2VvbWV0cnkocmVuZGVyRmVhdHVyZSkge1xuICBjb25zdCBnZW9tZXRyeVR5cGUgPSByZW5kZXJGZWF0dXJlLmdldFR5cGUoKTtcbiAgc3dpdGNoIChnZW9tZXRyeVR5cGUpIHtcbiAgICBjYXNlICdQb2ludCc6XG4gICAgICByZXR1cm4gbmV3IFBvaW50KHJlbmRlckZlYXR1cmUuZ2V0RmxhdENvb3JkaW5hdGVzKCkpO1xuICAgIGNhc2UgJ011bHRpUG9pbnQnOlxuICAgICAgcmV0dXJuIG5ldyBNdWx0aVBvaW50KHJlbmRlckZlYXR1cmUuZ2V0RmxhdENvb3JkaW5hdGVzKCksICdYWScpO1xuICAgIGNhc2UgJ0xpbmVTdHJpbmcnOlxuICAgICAgcmV0dXJuIG5ldyBMaW5lU3RyaW5nKHJlbmRlckZlYXR1cmUuZ2V0RmxhdENvb3JkaW5hdGVzKCksICdYWScpO1xuICAgIGNhc2UgJ011bHRpTGluZVN0cmluZyc6XG4gICAgICByZXR1cm4gbmV3IE11bHRpTGluZVN0cmluZyhcbiAgICAgICAgcmVuZGVyRmVhdHVyZS5nZXRGbGF0Q29vcmRpbmF0ZXMoKSxcbiAgICAgICAgJ1hZJyxcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAocmVuZGVyRmVhdHVyZS5nZXRFbmRzKCkpXG4gICAgICApO1xuICAgIGNhc2UgJ1BvbHlnb24nOlxuICAgICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gcmVuZGVyRmVhdHVyZS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIGNvbnN0IGVuZHMgPSAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChyZW5kZXJGZWF0dXJlLmdldEVuZHMoKSk7XG4gICAgICBjb25zdCBlbmRzcyA9IGluZmxhdGVFbmRzKGZsYXRDb29yZGluYXRlcywgZW5kcyk7XG4gICAgICByZXR1cm4gZW5kc3MubGVuZ3RoID4gMVxuICAgICAgICA/IG5ldyBNdWx0aVBvbHlnb24oZmxhdENvb3JkaW5hdGVzLCAnWFknLCBlbmRzcylcbiAgICAgICAgOiBuZXcgUG9seWdvbihmbGF0Q29vcmRpbmF0ZXMsICdYWScsIGVuZHMpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZ2VvbWV0cnkgdHlwZTonICsgZ2VvbWV0cnlUeXBlKTtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBhbiBgb2wvRmVhdHVyZWAgZnJvbSBhbiBgb2wvcmVuZGVyL0ZlYXR1cmVgXG4gKiBAcGFyYW0ge1JlbmRlckZlYXR1cmV9IHJlbmRlckZlYXR1cmUgUmVuZGVyRmVhdHVyZVxuICogQHBhcmFtIHtzdHJpbmd9IFtnZW9tZXRyeU5hbWU9J2dlb21ldHJ5J10gR2VvbWV0cnkgbmFtZSB0byB1c2VcbiAqIHdoZW4gY3JlYXRpbmcgdGhlIEZlYXR1cmUuXG4gKiBAcmV0dXJuIHtGZWF0dXJlfSBOZXdseSBjb25zdHJ1Y3RlZCBgb2wvRmVhdHVyZWAgd2l0aCBwcm9wZXJ0aWVzLFxuICogZ2VvbWV0cnksIGFuZCBpZCBjb3BpZWQgb3Zlci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRmVhdHVyZShyZW5kZXJGZWF0dXJlLCBnZW9tZXRyeU5hbWUpIHtcbiAgY29uc3QgaWQgPSByZW5kZXJGZWF0dXJlLmdldElkKCk7XG4gIGNvbnN0IGdlb21ldHJ5ID0gdG9HZW9tZXRyeShyZW5kZXJGZWF0dXJlKTtcbiAgY29uc3QgcHJvcGVydGllcyA9IHJlbmRlckZlYXR1cmUuZ2V0UHJvcGVydGllcygpO1xuICBjb25zdCBmZWF0dXJlID0gbmV3IEZlYXR1cmUoKTtcbiAgaWYgKGdlb21ldHJ5TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZmVhdHVyZS5zZXRHZW9tZXRyeU5hbWUoZ2VvbWV0cnlOYW1lKTtcbiAgfVxuICBmZWF0dXJlLnNldEdlb21ldHJ5KGdlb21ldHJ5KTtcbiAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICBmZWF0dXJlLnNldElkKGlkKTtcbiAgfVxuICBmZWF0dXJlLnNldFByb3BlcnRpZXMocHJvcGVydGllcywgdHJ1ZSk7XG4gIHJldHVybiBmZWF0dXJlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBSZW5kZXJGZWF0dXJlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9jZW50ZXJcbiAqL1xuaW1wb3J0IHtjcmVhdGVFbXB0eSwgY3JlYXRlT3JVcGRhdGVGcm9tRmxhdENvb3JkaW5hdGVzfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBGbGF0IGNlbnRlcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc3MoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNzLCBzdHJpZGUpIHtcbiAgY29uc3QgZmxhdENlbnRlcnMgPSBbXTtcbiAgbGV0IGV4dGVudCA9IGNyZWF0ZUVtcHR5KCk7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmRzID0gZW5kc3NbaV07XG4gICAgZXh0ZW50ID0gY3JlYXRlT3JVcGRhdGVGcm9tRmxhdENvb3JkaW5hdGVzKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kc1swXSxcbiAgICAgIHN0cmlkZVxuICAgICk7XG4gICAgZmxhdENlbnRlcnMucHVzaCgoZXh0ZW50WzBdICsgZXh0ZW50WzJdKSAvIDIsIChleHRlbnRbMV0gKyBleHRlbnRbM10pIC8gMik7XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBmbGF0Q2VudGVycztcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzXG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4uL09iamVjdC5qcyc7XG5pbXBvcnQge1dPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTfSBmcm9tICcuLi9oYXMuanMnO1xuaW1wb3J0IHtjbGVhcn0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJEfSBmcm9tICcuLi9kb20uanMnO1xuaW1wb3J0IHtnZXRGb250UGFyYW1ldGVyc30gZnJvbSAnLi4vY3NzLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7J0NpcmNsZScgfCAnSW1hZ2UnIHwgJ0xpbmVTdHJpbmcnIHwgJ1BvbHlnb24nIHwgJ1RleHQnIHwgJ0RlZmF1bHQnfSBCdWlsZGVyVHlwZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRmlsbFN0YXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IGZpbGxTdHlsZSBGaWxsU3R5bGUuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiBMYWJlbFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIFdpZHRoLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodCBIZWlnaHQuXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZ3xudW1iZXI+fSBjb250ZXh0SW5zdHJ1Y3Rpb25zIENvbnRleHRJbnN0cnVjdGlvbnMuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGaWxsU3Ryb2tlU3RhdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2N1cnJlbnRGaWxsU3R5bGVdIEN1cnJlbnQgRmlsbFN0eWxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbY3VycmVudFN0cm9rZVN0eWxlXSBDdXJyZW50IFN0cm9rZVN0eWxlLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBbY3VycmVudExpbmVDYXBdIEN1cnJlbnQgTGluZUNhcC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gY3VycmVudExpbmVEYXNoIEN1cnJlbnQgTGluZURhc2guXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRMaW5lRGFzaE9mZnNldF0gQ3VycmVudCBMaW5lRGFzaE9mZnNldC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFtjdXJyZW50TGluZUpvaW5dIEN1cnJlbnQgTGluZUpvaW4uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2N1cnJlbnRMaW5lV2lkdGhdIEN1cnJlbnQgTGluZVdpZHRoLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjdXJyZW50TWl0ZXJMaW1pdF0gQ3VycmVudCBNaXRlckxpbWl0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtsYXN0U3Ryb2tlXSBMYXN0IHN0cm9rZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2ZpbGxTdHlsZV0gRmlsbFN0eWxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbc3Ryb2tlU3R5bGVdIFN0cm9rZVN0eWxlLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBbbGluZUNhcF0gTGluZUNhcC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gbGluZURhc2ggTGluZURhc2guXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xpbmVEYXNoT2Zmc2V0XSBMaW5lRGFzaE9mZnNldC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFtsaW5lSm9pbl0gTGluZUpvaW4uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xpbmVXaWR0aF0gTGluZVdpZHRoLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaXRlckxpbWl0XSBNaXRlckxpbWl0LlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3Ryb2tlU3RhdGVcbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUNhcH0gbGluZUNhcCBMaW5lQ2FwLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBsaW5lRGFzaCBMaW5lRGFzaC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lRGFzaE9mZnNldCBMaW5lRGFzaE9mZnNldC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IGxpbmVKb2luIExpbmVKb2luLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbmVXaWR0aCBMaW5lV2lkdGguXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWl0ZXJMaW1pdCBNaXRlckxpbWl0LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBzdHJva2VTdHlsZSBTdHJva2VTdHlsZS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRleHRTdGF0ZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGZvbnQgRm9udC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzVGV4dEFsaWdufSBbdGV4dEFsaWduXSBUZXh0QWxpZ24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL1RleHQuanNcIikuVGV4dEp1c3RpZnl9IFtqdXN0aWZ5XSBKdXN0aWZ5LlxuICogQHByb3BlcnR5IHtDYW52YXNUZXh0QmFzZWxpbmV9IHRleHRCYXNlbGluZSBUZXh0QmFzZWxpbmUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL1RleHQuanNcIikuVGV4dFBsYWNlbWVudH0gW3BsYWNlbWVudF0gUGxhY2VtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhBbmdsZV0gTWF4QW5nbGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvdmVyZmxvd10gT3ZlcmZsb3cuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL0ZpbGwuanNcIikuZGVmYXVsdH0gW2JhY2tncm91bmRGaWxsXSBCYWNrZ3JvdW5kRmlsbC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtiYWNrZ3JvdW5kU3Ryb2tlXSBCYWNrZ3JvdW5kU3Ryb2tlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzY2FsZV0gU2NhbGUuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtwYWRkaW5nXSBQYWRkaW5nLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zXG4gKiBAcHJvcGVydHkge0FycmF5PCo+fSBpbnN0cnVjdGlvbnMgVGhlIHJlbmRlcmluZyBpbnN0cnVjdGlvbnMuXG4gKiBAcHJvcGVydHkge0FycmF5PCo+fSBoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMgVGhlIHJlbmRlcmluZyBoaXQgZGV0ZWN0aW9uIGluc3RydWN0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXMgVGhlIGFycmF5IG9mIGFsbCBjb29yZGluYXRlcy5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIFRleHRTdGF0ZT59IFt0ZXh0U3RhdGVzXSBUaGUgdGV4dCBzdGF0ZXMgKGRlY2x1dHRlcmluZykuXG4gKiBAcHJvcGVydHkgeyFPYmplY3Q8c3RyaW5nLCBGaWxsU3RhdGU+fSBbZmlsbFN0YXRlc10gVGhlIGZpbGwgc3RhdGVzIChkZWNsdXR0ZXJpbmcpLlxuICogQHByb3BlcnR5IHshT2JqZWN0PHN0cmluZywgU3Ryb2tlU3RhdGU+fSBbc3Ryb2tlU3RhdGVzXSBUaGUgc3Ryb2tlIHN0YXRlcyAoZGVjbHV0dGVyaW5nKS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3Q8bnVtYmVyLCBpbXBvcnQoXCIuL2NhbnZhcy9FeGVjdXRvci5qc1wiKS5SZXBsYXlJbWFnZU9yTGFiZWxBcmdzPn0gRGVjbHV0dGVySW1hZ2VXaXRoVGV4dFxuICovXG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdEZvbnQgPSAnMTBweCBzYW5zLXNlcmlmJztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdEZpbGxTdHlsZSA9ICcjMDAwJztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtDYW52YXNMaW5lQ2FwfVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdExpbmVDYXAgPSAncm91bmQnO1xuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0TGluZURhc2ggPSBbXTtcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0TGluZURhc2hPZmZzZXQgPSAwO1xuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0NhbnZhc0xpbmVKb2lufVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdExpbmVKb2luID0gJ3JvdW5kJztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0TWl0ZXJMaW1pdCA9IDEwO1xuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9XG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0U3Ryb2tlU3R5bGUgPSAnIzAwMCc7XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7Q2FudmFzVGV4dEFsaWdufVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFRleHRBbGlnbiA9ICdjZW50ZXInO1xuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0NhbnZhc1RleHRCYXNlbGluZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRUZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFBhZGRpbmcgPSBbMCwgMCwgMCwgMF07XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdExpbmVXaWR0aCA9IDE7XG5cbi8qKlxuICogQHR5cGUge0Jhc2VPYmplY3R9XG4gKi9cbmV4cG9ydCBjb25zdCBjaGVja2VkRm9udHMgPSBuZXcgQmFzZU9iamVjdCgpO1xuXG4vKipcbiAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gKi9cbmxldCBtZWFzdXJlQ29udGV4dCA9IG51bGw7XG5cbi8qKlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xubGV0IG1lYXN1cmVGb250O1xuXG4vKipcbiAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgbnVtYmVyPn1cbiAqL1xuZXhwb3J0IGNvbnN0IHRleHRIZWlnaHRzID0ge307XG5cbi8qKlxuICogQ2xlYXJzIHRoZSBsYWJlbCBjYWNoZSB3aGVuIGEgZm9udCBiZWNvbWVzIGF2YWlsYWJsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3BlYyBDU1MgZm9udCBzcGVjLlxuICovXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJGb250ID0gKGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgcmV0cmllcyA9IDEwMDtcbiAgY29uc3Qgc2l6ZSA9ICczMnB4ICc7XG4gIGNvbnN0IHJlZmVyZW5jZUZvbnRzID0gWydtb25vc3BhY2UnLCAnc2VyaWYnXTtcbiAgY29uc3QgbGVuID0gcmVmZXJlbmNlRm9udHMubGVuZ3RoO1xuICBjb25zdCB0ZXh0ID0gJ3dteXR6aWxXTVlUWklMQCMvJj8kJTEwXFx1RjAxMyc7XG4gIGxldCBpbnRlcnZhbCwgcmVmZXJlbmNlV2lkdGg7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3R5bGUgQ3NzIGZvbnQtc3R5bGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZvbnRXZWlnaHQgQ3NzIGZvbnQtd2VpZ2h0XG4gICAqIEBwYXJhbSB7Kn0gZm9udEZhbWlseSBDc3MgZm9udC1mYW1pbHlcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gRm9udCB3aXRoIHN0eWxlIGFuZCB3ZWlnaHQgaXMgYXZhaWxhYmxlXG4gICAqL1xuICBmdW5jdGlvbiBpc0F2YWlsYWJsZShmb250U3R5bGUsIGZvbnRXZWlnaHQsIGZvbnRGYW1pbHkpIHtcbiAgICBsZXQgYXZhaWxhYmxlID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBjb25zdCByZWZlcmVuY2VGb250ID0gcmVmZXJlbmNlRm9udHNbaV07XG4gICAgICByZWZlcmVuY2VXaWR0aCA9IG1lYXN1cmVUZXh0V2lkdGgoXG4gICAgICAgIGZvbnRTdHlsZSArICcgJyArIGZvbnRXZWlnaHQgKyAnICcgKyBzaXplICsgcmVmZXJlbmNlRm9udCxcbiAgICAgICAgdGV4dFxuICAgICAgKTtcbiAgICAgIGlmIChmb250RmFtaWx5ICE9IHJlZmVyZW5jZUZvbnQpIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBtZWFzdXJlVGV4dFdpZHRoKFxuICAgICAgICAgIGZvbnRTdHlsZSArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgZm9udFdlaWdodCArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgc2l6ZSArXG4gICAgICAgICAgICBmb250RmFtaWx5ICtcbiAgICAgICAgICAgICcsJyArXG4gICAgICAgICAgICByZWZlcmVuY2VGb250LFxuICAgICAgICAgIHRleHRcbiAgICAgICAgKTtcbiAgICAgICAgLy8gSWYgd2lkdGggYW5kIHJlZmVyZW5jZVdpZHRoIGFyZSB0aGUgc2FtZSwgdGhlbiB0aGUgZmFsbGJhY2sgd2FzIHVzZWRcbiAgICAgICAgLy8gaW5zdGVhZCBvZiB0aGUgZm9udCB3ZSB3YW50ZWQsIHNvIHRoZSBmb250IGlzIG5vdCBhdmFpbGFibGUuXG4gICAgICAgIGF2YWlsYWJsZSA9IGF2YWlsYWJsZSAmJiB3aWR0aCAhPSByZWZlcmVuY2VXaWR0aDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGF2YWlsYWJsZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrKCkge1xuICAgIGxldCBkb25lID0gdHJ1ZTtcbiAgICBjb25zdCBmb250cyA9IGNoZWNrZWRGb250cy5nZXRLZXlzKCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZm9udHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgZm9udCA9IGZvbnRzW2ldO1xuICAgICAgaWYgKGNoZWNrZWRGb250cy5nZXQoZm9udCkgPCByZXRyaWVzKSB7XG4gICAgICAgIGlmIChpc0F2YWlsYWJsZS5hcHBseSh0aGlzLCBmb250LnNwbGl0KCdcXG4nKSkpIHtcbiAgICAgICAgICBjbGVhcih0ZXh0SGVpZ2h0cyk7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgbG9hZGVkIGZvbnRzIGFyZSBwaWNrZWQgdXAgYnkgU2FmYXJpXG4gICAgICAgICAgbWVhc3VyZUNvbnRleHQgPSBudWxsO1xuICAgICAgICAgIG1lYXN1cmVGb250ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGNoZWNrZWRGb250cy5zZXQoZm9udCwgcmV0cmllcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hlY2tlZEZvbnRzLnNldChmb250LCBjaGVja2VkRm9udHMuZ2V0KGZvbnQpICsgMSwgdHJ1ZSk7XG4gICAgICAgICAgZG9uZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkb25lKSB7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgIGludGVydmFsID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoZm9udFNwZWMpIHtcbiAgICBjb25zdCBmb250ID0gZ2V0Rm9udFBhcmFtZXRlcnMoZm9udFNwZWMpO1xuICAgIGlmICghZm9udCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmYW1pbGllcyA9IGZvbnQuZmFtaWxpZXM7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZmFtaWxpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgZmFtaWx5ID0gZmFtaWxpZXNbaV07XG4gICAgICBjb25zdCBrZXkgPSBmb250LnN0eWxlICsgJ1xcbicgKyBmb250LndlaWdodCArICdcXG4nICsgZmFtaWx5O1xuICAgICAgaWYgKGNoZWNrZWRGb250cy5nZXQoa2V5KSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNoZWNrZWRGb250cy5zZXQoa2V5LCByZXRyaWVzLCB0cnVlKTtcbiAgICAgICAgaWYgKCFpc0F2YWlsYWJsZShmb250LnN0eWxlLCBmb250LndlaWdodCwgZmFtaWx5KSkge1xuICAgICAgICAgIGNoZWNrZWRGb250cy5zZXQoa2V5LCAwLCB0cnVlKTtcbiAgICAgICAgICBpZiAoaW50ZXJ2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChjaGVjaywgMzIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pKCk7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgRm9udCB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gTWVhc3VyZW1lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBtZWFzdXJlVGV4dEhlaWdodCA9IChmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAqL1xuICBsZXQgbWVhc3VyZUVsZW1lbnQ7XG4gIHJldHVybiBmdW5jdGlvbiAoZm9udFNwZWMpIHtcbiAgICBsZXQgaGVpZ2h0ID0gdGV4dEhlaWdodHNbZm9udFNwZWNdO1xuICAgIGlmIChoZWlnaHQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoV09SS0VSX09GRlNDUkVFTl9DQU5WQVMpIHtcbiAgICAgICAgY29uc3QgZm9udCA9IGdldEZvbnRQYXJhbWV0ZXJzKGZvbnRTcGVjKTtcbiAgICAgICAgY29uc3QgbWV0cmljcyA9IG1lYXN1cmVUZXh0KGZvbnRTcGVjLCAnxb1nJyk7XG4gICAgICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBpc05hTihOdW1iZXIoZm9udC5saW5lSGVpZ2h0KSlcbiAgICAgICAgICA/IDEuMlxuICAgICAgICAgIDogTnVtYmVyKGZvbnQubGluZUhlaWdodCk7XG4gICAgICAgIGhlaWdodCA9XG4gICAgICAgICAgbGluZUhlaWdodCAqXG4gICAgICAgICAgKG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQgKyBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94RGVzY2VudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIW1lYXN1cmVFbGVtZW50KSB7XG4gICAgICAgICAgbWVhc3VyZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICBtZWFzdXJlRWxlbWVudC5pbm5lckhUTUwgPSAnTSc7XG4gICAgICAgICAgbWVhc3VyZUVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gJzAnO1xuICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLm1heEhlaWdodCA9ICdub25lJztcbiAgICAgICAgICBtZWFzdXJlRWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgICAgbWVhc3VyZUVsZW1lbnQuc3R5bGUucGFkZGluZyA9ICcwJztcbiAgICAgICAgICBtZWFzdXJlRWxlbWVudC5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gICAgICAgICAgbWVhc3VyZUVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLmxlZnQgPSAnLTk5OTk5cHgnO1xuICAgICAgICB9XG4gICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLmZvbnQgPSBmb250U3BlYztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtZWFzdXJlRWxlbWVudCk7XG4gICAgICAgIGhlaWdodCA9IG1lYXN1cmVFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtZWFzdXJlRWxlbWVudCk7XG4gICAgICB9XG4gICAgICB0ZXh0SGVpZ2h0c1tmb250U3BlY10gPSBoZWlnaHQ7XG4gICAgfVxuICAgIHJldHVybiBoZWlnaHQ7XG4gIH07XG59KSgpO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250IEZvbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0LlxuICogQHJldHVybiB7VGV4dE1ldHJpY3N9IFRleHQgbWV0cmljcy5cbiAqL1xuZnVuY3Rpb24gbWVhc3VyZVRleHQoZm9udCwgdGV4dCkge1xuICBpZiAoIW1lYXN1cmVDb250ZXh0KSB7XG4gICAgbWVhc3VyZUNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoMSwgMSk7XG4gIH1cbiAgaWYgKGZvbnQgIT0gbWVhc3VyZUZvbnQpIHtcbiAgICBtZWFzdXJlQ29udGV4dC5mb250ID0gZm9udDtcbiAgICBtZWFzdXJlRm9udCA9IG1lYXN1cmVDb250ZXh0LmZvbnQ7XG4gIH1cbiAgcmV0dXJuIG1lYXN1cmVDb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250IEZvbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0LlxuICogQHJldHVybiB7bnVtYmVyfSBXaWR0aC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lYXN1cmVUZXh0V2lkdGgoZm9udCwgdGV4dCkge1xuICByZXR1cm4gbWVhc3VyZVRleHQoZm9udCwgdGV4dCkud2lkdGg7XG59XG5cbi8qKlxuICogTWVhc3VyZSB0ZXh0IHdpZHRoIHVzaW5nIGEgY2FjaGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBUaGUgZm9udC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHRvIG1lYXN1cmUuXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIG51bWJlcj59IGNhY2hlIEEgbG9va3VwIG9mIGNhY2hlZCB3aWR0aHMgYnkgdGV4dC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHRleHQgd2lkdGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgoZm9udCwgdGV4dCwgY2FjaGUpIHtcbiAgaWYgKHRleHQgaW4gY2FjaGUpIHtcbiAgICByZXR1cm4gY2FjaGVbdGV4dF07XG4gIH1cbiAgY29uc3Qgd2lkdGggPSB0ZXh0XG4gICAgLnNwbGl0KCdcXG4nKVxuICAgIC5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IE1hdGgubWF4KHByZXYsIG1lYXN1cmVUZXh0V2lkdGgoZm9udCwgY3VycikpLCAwKTtcbiAgY2FjaGVbdGV4dF0gPSB3aWR0aDtcbiAgcmV0dXJuIHdpZHRoO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGV4dFN0YXRlfSBiYXNlU3R5bGUgQmFzZSBzdHlsZS5cbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gY2h1bmtzIFRleHQgY2h1bmtzIHRvIG1lYXN1cmUuXG4gKiBAcmV0dXJuIHt7d2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIHdpZHRoczogQXJyYXk8bnVtYmVyPiwgaGVpZ2h0czogQXJyYXk8bnVtYmVyPiwgbGluZVdpZHRoczogQXJyYXk8bnVtYmVyPn19fSBUZXh0IG1ldHJpY3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXh0RGltZW5zaW9ucyhiYXNlU3R5bGUsIGNodW5rcykge1xuICBjb25zdCB3aWR0aHMgPSBbXTtcbiAgY29uc3QgaGVpZ2h0cyA9IFtdO1xuICBjb25zdCBsaW5lV2lkdGhzID0gW107XG4gIGxldCB3aWR0aCA9IDA7XG4gIGxldCBsaW5lV2lkdGggPSAwO1xuICBsZXQgaGVpZ2h0ID0gMDtcbiAgbGV0IGxpbmVIZWlnaHQgPSAwO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBjaHVua3MubGVuZ3RoOyBpIDw9IGlpOyBpICs9IDIpIHtcbiAgICBjb25zdCB0ZXh0ID0gY2h1bmtzW2ldO1xuICAgIGlmICh0ZXh0ID09PSAnXFxuJyB8fCBpID09PSBpaSkge1xuICAgICAgd2lkdGggPSBNYXRoLm1heCh3aWR0aCwgbGluZVdpZHRoKTtcbiAgICAgIGxpbmVXaWR0aHMucHVzaChsaW5lV2lkdGgpO1xuICAgICAgbGluZVdpZHRoID0gMDtcbiAgICAgIGhlaWdodCArPSBsaW5lSGVpZ2h0O1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IGZvbnQgPSBjaHVua3NbaSArIDFdIHx8IGJhc2VTdHlsZS5mb250O1xuICAgIGNvbnN0IGN1cnJlbnRXaWR0aCA9IG1lYXN1cmVUZXh0V2lkdGgoZm9udCwgdGV4dCk7XG4gICAgd2lkdGhzLnB1c2goY3VycmVudFdpZHRoKTtcbiAgICBsaW5lV2lkdGggKz0gY3VycmVudFdpZHRoO1xuICAgIGNvbnN0IGN1cnJlbnRIZWlnaHQgPSBtZWFzdXJlVGV4dEhlaWdodChmb250KTtcbiAgICBoZWlnaHRzLnB1c2goY3VycmVudEhlaWdodCk7XG4gICAgbGluZUhlaWdodCA9IE1hdGgubWF4KGxpbmVIZWlnaHQsIGN1cnJlbnRIZWlnaHQpO1xuICB9XG4gIHJldHVybiB7d2lkdGgsIGhlaWdodCwgd2lkdGhzLCBoZWlnaHRzLCBsaW5lV2lkdGhzfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFggWCBvZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WSBZIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUF0T2Zmc2V0KGNvbnRleHQsIHJvdGF0aW9uLCBvZmZzZXRYLCBvZmZzZXRZKSB7XG4gIGlmIChyb3RhdGlvbiAhPT0gMCkge1xuICAgIGNvbnRleHQudHJhbnNsYXRlKG9mZnNldFgsIG9mZnNldFkpO1xuICAgIGNvbnRleHQucm90YXRlKHJvdGF0aW9uKTtcbiAgICBjb250ZXh0LnRyYW5zbGF0ZSgtb2Zmc2V0WCwgLW9mZnNldFkpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybXxudWxsfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eS5cbiAqIEBwYXJhbSB7TGFiZWx8SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBsYWJlbE9ySW1hZ2UgTGFiZWwuXG4gKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWCBPcmlnaW4gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvcmlnaW5ZIE9yaWdpbiBZLlxuICogQHBhcmFtIHtudW1iZXJ9IHcgV2lkdGguXG4gKiBAcGFyYW0ge251bWJlcn0gaCBIZWlnaHQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBzY2FsZSBTY2FsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRyYXdJbWFnZU9yTGFiZWwoXG4gIGNvbnRleHQsXG4gIHRyYW5zZm9ybSxcbiAgb3BhY2l0eSxcbiAgbGFiZWxPckltYWdlLFxuICBvcmlnaW5YLFxuICBvcmlnaW5ZLFxuICB3LFxuICBoLFxuICB4LFxuICB5LFxuICBzY2FsZVxuKSB7XG4gIGNvbnRleHQuc2F2ZSgpO1xuXG4gIGlmIChvcGFjaXR5ICE9PSAxKSB7XG4gICAgY29udGV4dC5nbG9iYWxBbHBoYSAqPSBvcGFjaXR5O1xuICB9XG4gIGlmICh0cmFuc2Zvcm0pIHtcbiAgICBjb250ZXh0LnNldFRyYW5zZm9ybS5hcHBseShjb250ZXh0LCB0cmFuc2Zvcm0pO1xuICB9XG5cbiAgaWYgKC8qKiBAdHlwZSB7Kn0gKi8gKGxhYmVsT3JJbWFnZSkuY29udGV4dEluc3RydWN0aW9ucykge1xuICAgIC8vIGxhYmVsXG4gICAgY29udGV4dC50cmFuc2xhdGUoeCwgeSk7XG4gICAgY29udGV4dC5zY2FsZShzY2FsZVswXSwgc2NhbGVbMV0pO1xuICAgIGV4ZWN1dGVMYWJlbEluc3RydWN0aW9ucygvKiogQHR5cGUge0xhYmVsfSAqLyAobGFiZWxPckltYWdlKSwgY29udGV4dCk7XG4gIH0gZWxzZSBpZiAoc2NhbGVbMF0gPCAwIHx8IHNjYWxlWzFdIDwgMCkge1xuICAgIC8vIGZsaXBwZWQgaW1hZ2VcbiAgICBjb250ZXh0LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICBjb250ZXh0LnNjYWxlKHNjYWxlWzBdLCBzY2FsZVsxXSk7XG4gICAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAvKiogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gKi8gKFxuICAgICAgICBsYWJlbE9ySW1hZ2VcbiAgICAgICksXG4gICAgICBvcmlnaW5YLFxuICAgICAgb3JpZ2luWSxcbiAgICAgIHcsXG4gICAgICBoLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICB3LFxuICAgICAgaFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgaW1hZ2Ugbm90IGZsaXBwZWQgdHJhbnNsYXRlIGFuZCBzY2FsZSBjYW4gYmUgYXZvaWRlZFxuICAgIGNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgLyoqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9ICovIChcbiAgICAgICAgbGFiZWxPckltYWdlXG4gICAgICApLFxuICAgICAgb3JpZ2luWCxcbiAgICAgIG9yaWdpblksXG4gICAgICB3LFxuICAgICAgaCxcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgdyAqIHNjYWxlWzBdLFxuICAgICAgaCAqIHNjYWxlWzFdXG4gICAgKTtcbiAgfVxuXG4gIGNvbnRleHQucmVzdG9yZSgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7TGFiZWx9IGxhYmVsIExhYmVsLlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZUxhYmVsSW5zdHJ1Y3Rpb25zKGxhYmVsLCBjb250ZXh0KSB7XG4gIGNvbnN0IGNvbnRleHRJbnN0cnVjdGlvbnMgPSBsYWJlbC5jb250ZXh0SW5zdHJ1Y3Rpb25zO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBjb250ZXh0SW5zdHJ1Y3Rpb25zLmxlbmd0aDsgaSA8IGlpOyBpICs9IDIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb250ZXh0SW5zdHJ1Y3Rpb25zW2kgKyAxXSkpIHtcbiAgICAgIGNvbnRleHRbY29udGV4dEluc3RydWN0aW9uc1tpXV0uYXBwbHkoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnNbaSArIDFdXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZXh0W2NvbnRleHRJbnN0cnVjdGlvbnNbaV1dID0gY29udGV4dEluc3RydWN0aW9uc1tpICsgMV07XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvTGF5ZXJcbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4uL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IE9ic2VydmFibGUgZnJvbSAnLi4vT2JzZXJ2YWJsZS5qcyc7XG5pbXBvcnQge2Fic3RyYWN0fSBmcm9tICcuLi91dGlsLmpzJztcblxuLyoqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IExheWVyVHlwZVxuICovXG5jbGFzcyBMYXllclJlbmRlcmVyIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0xheWVyVHlwZX0gbGF5ZXIgTGF5ZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihsYXllcikge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVuZGVyZXIgaXMgaW5pdGlhbGl6ZWQgYW5kIHJlYWR5IHRvIHJlbmRlci5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlYWR5ID0gdHJ1ZTtcblxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIHRoaXMuYm91bmRIYW5kbGVJbWFnZUNoYW5nZV8gPSB0aGlzLmhhbmRsZUltYWdlQ2hhbmdlXy5iaW5kKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtMYXllclR5cGV9XG4gICAgICovXG4gICAgdGhpcy5sYXllcl8gPSBsYXllcjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXBcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXAgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEFzeW5jaHJvbm91cyBsYXllciBsZXZlbCBoaXQgZGV0ZWN0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlXCIpLkZlYXR1cmVMaWtlPj59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoXG4gICAqIGFuIGFycmF5IG9mIGZlYXR1cmVzLlxuICAgKi9cbiAgZ2V0RmVhdHVyZXMocGl4ZWwpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICogQHJldHVybiB7VWludDhDbGFtcGVkQXJyYXl8VWludDhBcnJheXxGbG9hdDMyQXJyYXl8RGF0YVZpZXd8bnVsbH0gUGl4ZWwgZGF0YS5cbiAgICovXG4gIGdldERhdGEocGl4ZWwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciByZW5kZXIgc2hvdWxkIGJlIGNhbGxlZC5cbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IExheWVyIGlzIHJlYWR5IHRvIGJlIHJlbmRlcmVkLlxuICAgKi9cbiAgcHJlcGFyZUZyYW1lKGZyYW1lU3RhdGUpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgdGhlIGxheWVyLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50IHRvLlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIHJlbmRlcmVkIGVsZW1lbnQuXG4gICAqL1xuICByZW5kZXJGcmFtZShmcmFtZVN0YXRlLCB0YXJnZXQpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdDxudW1iZXIsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdD4+fSB0aWxlcyBMb29rdXAgb2YgbG9hZGVkIHRpbGVzIGJ5IHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW58dm9pZH0gSWYgYGZhbHNlYCwgdGhlIHRpbGUgd2lsbCBub3QgYmUgY29uc2lkZXJlZCBsb2FkZWQuXG4gICAqL1xuICBsb2FkZWRUaWxlQ2FsbGJhY2sodGlsZXMsIHpvb20sIHRpbGUpIHtcbiAgICBpZiAoIXRpbGVzW3pvb21dKSB7XG4gICAgICB0aWxlc1t6b29tXSA9IHt9O1xuICAgIH1cbiAgICB0aWxlc1t6b29tXVt0aWxlLnRpbGVDb29yZC50b1N0cmluZygpXSA9IHRpbGU7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBmdW5jdGlvbiB0aGF0IGFkZHMgbG9hZGVkIHRpbGVzIHRvIHRoZSB0aWxlIGxvb2t1cC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbiBvZiB0aGUgdGlsZXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0PG51bWJlciwgT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0Pj59IHRpbGVzIExvb2t1cCBvZiBsb2FkZWQgdGlsZXMgYnkgem9vbSBsZXZlbC5cbiAgICogQHJldHVybiB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCk6Ym9vbGVhbn0gQSBmdW5jdGlvbiB0aGF0IGNhbiBiZVxuICAgKiAgICAgY2FsbGVkIHdpdGggYSB6b29tIGxldmVsIGFuZCBhIHRpbGUgcmFuZ2UgdG8gYWRkIGxvYWRlZCB0aWxlcyB0byB0aGUgbG9va3VwLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBjcmVhdGVMb2FkZWRUaWxlRmluZGVyKHNvdXJjZSwgcHJvamVjdGlvbiwgdGlsZXMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBab29tIGxldmVsLlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdGlsZSByYW5nZSBpcyBmdWxseSBsb2FkZWQuXG4gICAgICAgKi9cbiAgICAgICh6b29tLCB0aWxlUmFuZ2UpID0+IHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzLmxvYWRlZFRpbGVDYWxsYmFjay5iaW5kKHRoaXMsIHRpbGVzLCB6b29tKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5mb3JFYWNoTG9hZGVkVGlsZShwcm9qZWN0aW9uLCB6b29tLCB0aWxlUmFuZ2UsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3ZlY3Rvci5qc1wiKS5GZWF0dXJlQ2FsbGJhY2s8VD59IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9NYXAuanNcIikuSGl0TWF0Y2g8VD4+fSBtYXRjaGVzIFRoZSBoaXQgZGV0ZWN0ZWQgbWF0Y2hlcyB3aXRoIHRvbGVyYW5jZS5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICogQHRlbXBsYXRlIFRcbiAgICovXG4gIGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKFxuICAgIGNvb3JkaW5hdGUsXG4gICAgZnJhbWVTdGF0ZSxcbiAgICBoaXRUb2xlcmFuY2UsXG4gICAgY2FsbGJhY2ssXG4gICAgbWF0Y2hlc1xuICApIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0xheWVyVHlwZX0gTGF5ZXIuXG4gICAqL1xuICBnZXRMYXllcigpIHtcbiAgICByZXR1cm4gdGhpcy5sYXllcl87XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybSBhY3Rpb24gbmVjZXNzYXJ5IHRvIGdldCB0aGUgbGF5ZXIgcmVuZGVyZWQgYWZ0ZXIgbmV3IGZvbnRzIGhhdmUgbG9hZGVkXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgaGFuZGxlRm9udHNDaGFuZ2VkKCkge31cblxuICAvKipcbiAgICogSGFuZGxlIGNoYW5nZXMgaW4gaW1hZ2Ugc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEltYWdlIGNoYW5nZSBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUltYWdlQ2hhbmdlXyhldmVudCkge1xuICAgIGNvbnN0IGltYWdlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9JbWFnZS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZlbnQudGFyZ2V0KTtcbiAgICBpZiAoaW1hZ2UuZ2V0U3RhdGUoKSA9PT0gSW1hZ2VTdGF0ZS5MT0FERUQpIHtcbiAgICAgIHRoaXMucmVuZGVySWZSZWFkeUFuZFZpc2libGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9hZCB0aGUgaW1hZ2UgaWYgbm90IGFscmVhZHkgbG9hZGVkLCBhbmQgcmVnaXN0ZXIgdGhlIGltYWdlIGNoYW5nZVxuICAgKiBsaXN0ZW5lciBpZiBuZWVkZWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vSW1hZ2VCYXNlLmpzXCIpLmRlZmF1bHR9IGltYWdlIEltYWdlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGltYWdlIGlzIGFscmVhZHkgbG9hZGVkLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgbG9hZEltYWdlKGltYWdlKSB7XG4gICAgbGV0IGltYWdlU3RhdGUgPSBpbWFnZS5nZXRTdGF0ZSgpO1xuICAgIGlmIChpbWFnZVN0YXRlICE9IEltYWdlU3RhdGUuTE9BREVEICYmIGltYWdlU3RhdGUgIT0gSW1hZ2VTdGF0ZS5FUlJPUikge1xuICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmJvdW5kSGFuZGxlSW1hZ2VDaGFuZ2VfKTtcbiAgICB9XG4gICAgaWYgKGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5JRExFKSB7XG4gICAgICBpbWFnZS5sb2FkKCk7XG4gICAgICBpbWFnZVN0YXRlID0gaW1hZ2UuZ2V0U3RhdGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgcmVuZGVySWZSZWFkeUFuZFZpc2libGUoKSB7XG4gICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgaWYgKGxheWVyICYmIGxheWVyLmdldFZpc2libGUoKSAmJiBsYXllci5nZXRTb3VyY2VTdGF0ZSgpID09PSAncmVhZHknKSB7XG4gICAgICBsYXllci5jaGFuZ2VkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwLlxuICAgKi9cbiAgZGlzcG9zZUludGVybmFsKCkge1xuICAgIGRlbGV0ZSB0aGlzLmxheWVyXztcbiAgICBzdXBlci5kaXNwb3NlSW50ZXJuYWwoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMYXllclJlbmRlcmVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL2NhbnZhcy9MYXllclxuICovXG5pbXBvcnQgTGF5ZXJSZW5kZXJlciBmcm9tICcuLi9MYXllci5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnQgZnJvbSAnLi4vLi4vcmVuZGVyL0V2ZW50LmpzJztcbmltcG9ydCBSZW5kZXJFdmVudFR5cGUgZnJvbSAnLi4vLi4vcmVuZGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge1xuICBhcHBseSBhcyBhcHBseVRyYW5zZm9ybSxcbiAgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLFxuICBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLFxufSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHthc0FycmF5fSBmcm9tICcuLi8uLi9jb2xvci5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vLi4vZG9tLmpzJztcbmltcG9ydCB7ZXF1YWxzfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQge1xuICBnZXRCb3R0b21MZWZ0LFxuICBnZXRCb3R0b21SaWdodCxcbiAgZ2V0VG9wTGVmdCxcbiAgZ2V0VG9wUmlnaHQsXG59IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5cbi8qKlxuICogQHR5cGUge0FycmF5PEhUTUxDYW52YXNFbGVtZW50Pn1cbiAqL1xuZXhwb3J0IGNvbnN0IGNhbnZhc1Bvb2wgPSBbXTtcblxuLyoqXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICovXG5sZXQgcGl4ZWxDb250ZXh0ID0gbnVsbDtcblxuZnVuY3Rpb24gY3JlYXRlUGl4ZWxDb250ZXh0KCkge1xuICBwaXhlbENvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoMSwgMSwgdW5kZWZpbmVkLCB7XG4gICAgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlLFxuICB9KTtcbn1cblxuLyoqXG4gKiBAYWJzdHJhY3RcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gTGF5ZXJUeXBlXG4gKiBAZXh0ZW5kcyB7TGF5ZXJSZW5kZXJlcjxMYXllclR5cGU+fVxuICovXG5jbGFzcyBDYW52YXNMYXllclJlbmRlcmVyIGV4dGVuZHMgTGF5ZXJSZW5kZXJlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0xheWVyVHlwZX0gbGF5ZXIgTGF5ZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihsYXllcikge1xuICAgIHN1cGVyKGxheWVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5jb250YWluZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBBIHRlbXBvcmFyeSB0cmFuc2Zvcm0uICBUaGUgdmFsdWVzIGluIHRoaXMgdHJhbnNmb3JtIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gYVxuICAgICAqIGZ1bmN0aW9uIHRoYXQgc2V0cyB0aGUgdmFsdWVzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLnRlbXBUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0cmFuc2Zvcm0gZm9yIHJlbmRlcmVkIHBpeGVscyB0byB2aWV3cG9ydCBDU1MgcGl4ZWxzLiAgVGhpcyB0cmFuc2Zvcm0gbXVzdFxuICAgICAqIGJlIHNldCB3aGVuIHJlbmRlcmluZyBhIGZyYW1lIGFuZCBtYXkgYmUgdXNlZCBieSBvdGhlciBmdW5jdGlvbnMgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNmb3JtIGZvciB2aWV3cG9ydCBDU1MgcGl4ZWxzIHRvIHJlbmRlcmVkIHBpeGVscy4gIFRoaXMgdHJhbnNmb3JtIG11c3RcbiAgICAgKiBiZSBzZXQgd2hlbiByZW5kZXJpbmcgYSBmcmFtZSBhbmQgbWF5IGJlIHVzZWQgYnkgb3RoZXIgZnVuY3Rpb25zIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuY29udGFpbmVyUmV1c2VkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5waXhlbENvbnRleHRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lU3RhdGUgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBpbWFnZSBJbWFnZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvbCBUaGUgY29sdW1uIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm93IFRoZSByb3cgaW5kZXguXG4gICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fG51bGx9IFRoZSBpbWFnZSBkYXRhLlxuICAgKi9cbiAgZ2V0SW1hZ2VEYXRhKGltYWdlLCBjb2wsIHJvdykge1xuICAgIGlmICghcGl4ZWxDb250ZXh0KSB7XG4gICAgICBjcmVhdGVQaXhlbENvbnRleHQoKTtcbiAgICB9XG4gICAgcGl4ZWxDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCAxLCAxKTtcblxuICAgIGxldCBkYXRhO1xuICAgIHRyeSB7XG4gICAgICBwaXhlbENvbnRleHQuZHJhd0ltYWdlKGltYWdlLCBjb2wsIHJvdywgMSwgMSwgMCwgMCwgMSwgMSk7XG4gICAgICBkYXRhID0gcGl4ZWxDb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcGl4ZWxDb250ZXh0ID0gbnVsbDtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vLi4vTWFwLmpzJykuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBCYWNrZ3JvdW5kIGNvbG9yLlxuICAgKi9cbiAgZ2V0QmFja2dyb3VuZChmcmFtZVN0YXRlKSB7XG4gICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgbGV0IGJhY2tncm91bmQgPSBsYXllci5nZXRCYWNrZ3JvdW5kKCk7XG4gICAgaWYgKHR5cGVvZiBiYWNrZ3JvdW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBiYWNrZ3JvdW5kID0gYmFja2dyb3VuZChmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yZXNvbHV0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIGJhY2tncm91bmQgfHwgdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHJlbmRlcmluZyBjb250YWluZXIgZnJvbSBhbiBleGlzdGluZyB0YXJnZXQsIGlmIGNvbXBhdGlibGUuXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCBQb3RlbnRpYWwgcmVuZGVyIHRhcmdldC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zZm9ybSBDU1MgVHJhbnNmb3JtLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2JhY2tncm91bmRDb2xvcl0gQmFja2dyb3VuZCBjb2xvci5cbiAgICovXG4gIHVzZUNvbnRhaW5lcih0YXJnZXQsIHRyYW5zZm9ybSwgYmFja2dyb3VuZENvbG9yKSB7XG4gICAgY29uc3QgbGF5ZXJDbGFzc05hbWUgPSB0aGlzLmdldExheWVyKCkuZ2V0Q2xhc3NOYW1lKCk7XG4gICAgbGV0IGNvbnRhaW5lciwgY29udGV4dDtcbiAgICBpZiAoXG4gICAgICB0YXJnZXQgJiZcbiAgICAgIHRhcmdldC5jbGFzc05hbWUgPT09IGxheWVyQ2xhc3NOYW1lICYmXG4gICAgICAoIWJhY2tncm91bmRDb2xvciB8fFxuICAgICAgICAodGFyZ2V0ICYmXG4gICAgICAgICAgdGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciAmJlxuICAgICAgICAgIGVxdWFscyhcbiAgICAgICAgICAgIGFzQXJyYXkodGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciksXG4gICAgICAgICAgICBhc0FycmF5KGJhY2tncm91bmRDb2xvcilcbiAgICAgICAgICApKSlcbiAgICApIHtcbiAgICAgIGNvbnN0IGNhbnZhcyA9IHRhcmdldC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgIGlmIChjYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuY2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9PT0gdHJhbnNmb3JtKSB7XG4gICAgICAvLyBDb250YWluZXIgb2YgdGhlIHByZXZpb3VzIGxheWVyIHJlbmRlcmVyIGNhbiBiZSB1c2VkLlxuICAgICAgdGhpcy5jb250YWluZXIgPSB0YXJnZXQ7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgdGhpcy5jb250YWluZXJSZXVzZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb250YWluZXJSZXVzZWQpIHtcbiAgICAgIC8vIFByZXZpb3VzbHkgcmV1c2VkIGNvbnRhaW5lciBjYW5ub3QgYmUgdXNlZCBhbnkgbW9yZS5cbiAgICAgIHRoaXMuY29udGFpbmVyID0gbnVsbDtcbiAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICB0aGlzLmNvbnRhaW5lclJldXNlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuY29udGFpbmVyKSB7XG4gICAgICBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBsYXllckNsYXNzTmFtZTtcbiAgICAgIGxldCBzdHlsZSA9IGNvbnRhaW5lci5zdHlsZTtcbiAgICAgIHN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgIHN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgpO1xuICAgICAgY29uc3QgY2FudmFzID0gY29udGV4dC5jYW52YXM7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgIHN0eWxlID0gY2FudmFzLnN0eWxlO1xuICAgICAgc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgc3R5bGUubGVmdCA9ICcwJztcbiAgICAgIHN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICd0b3AgbGVmdCc7XG4gICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICF0aGlzLmNvbnRhaW5lclJldXNlZCAmJlxuICAgICAgYmFja2dyb3VuZENvbG9yICYmXG4gICAgICAhdGhpcy5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yXG4gICAgKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IENsaXAgZXh0ZW50LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBjbGlwVW5yb3RhdGVkKGNvbnRleHQsIGZyYW1lU3RhdGUsIGV4dGVudCkge1xuICAgIGNvbnN0IHRvcExlZnQgPSBnZXRUb3BMZWZ0KGV4dGVudCk7XG4gICAgY29uc3QgdG9wUmlnaHQgPSBnZXRUb3BSaWdodChleHRlbnQpO1xuICAgIGNvbnN0IGJvdHRvbVJpZ2h0ID0gZ2V0Qm90dG9tUmlnaHQoZXh0ZW50KTtcbiAgICBjb25zdCBib3R0b21MZWZ0ID0gZ2V0Qm90dG9tTGVmdChleHRlbnQpO1xuXG4gICAgYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSwgdG9wTGVmdCk7XG4gICAgYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSwgdG9wUmlnaHQpO1xuICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIGJvdHRvbVJpZ2h0KTtcbiAgICBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCBib3R0b21MZWZ0KTtcblxuICAgIGNvbnN0IGludmVydGVkID0gdGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm07XG4gICAgYXBwbHlUcmFuc2Zvcm0oaW52ZXJ0ZWQsIHRvcExlZnQpO1xuICAgIGFwcGx5VHJhbnNmb3JtKGludmVydGVkLCB0b3BSaWdodCk7XG4gICAgYXBwbHlUcmFuc2Zvcm0oaW52ZXJ0ZWQsIGJvdHRvbVJpZ2h0KTtcbiAgICBhcHBseVRyYW5zZm9ybShpbnZlcnRlZCwgYm90dG9tTGVmdCk7XG5cbiAgICBjb250ZXh0LnNhdmUoKTtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQubW92ZVRvKE1hdGgucm91bmQodG9wTGVmdFswXSksIE1hdGgucm91bmQodG9wTGVmdFsxXSkpO1xuICAgIGNvbnRleHQubGluZVRvKE1hdGgucm91bmQodG9wUmlnaHRbMF0pLCBNYXRoLnJvdW5kKHRvcFJpZ2h0WzFdKSk7XG4gICAgY29udGV4dC5saW5lVG8oTWF0aC5yb3VuZChib3R0b21SaWdodFswXSksIE1hdGgucm91bmQoYm90dG9tUmlnaHRbMV0pKTtcbiAgICBjb250ZXh0LmxpbmVUbyhNYXRoLnJvdW5kKGJvdHRvbUxlZnRbMF0pLCBNYXRoLnJvdW5kKGJvdHRvbUxlZnRbMV0pKTtcbiAgICBjb250ZXh0LmNsaXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3JlbmRlci9FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBFdmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGlzcGF0Y2hSZW5kZXJFdmVudF8odHlwZSwgY29udGV4dCwgZnJhbWVTdGF0ZSkge1xuICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgIGlmIChsYXllci5oYXNMaXN0ZW5lcih0eXBlKSkge1xuICAgICAgY29uc3QgZXZlbnQgPSBuZXcgUmVuZGVyRXZlbnQoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtLFxuICAgICAgICBmcmFtZVN0YXRlLFxuICAgICAgICBjb250ZXh0XG4gICAgICApO1xuICAgICAgbGF5ZXIuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHByZVJlbmRlcihjb250ZXh0LCBmcmFtZVN0YXRlKSB7XG4gICAgdGhpcy5mcmFtZVN0YXRlID0gZnJhbWVTdGF0ZTtcbiAgICB0aGlzLmRpc3BhdGNoUmVuZGVyRXZlbnRfKFJlbmRlckV2ZW50VHlwZS5QUkVSRU5ERVIsIGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHBvc3RSZW5kZXIoY29udGV4dCwgZnJhbWVTdGF0ZSkge1xuICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudF8oUmVuZGVyRXZlbnRUeXBlLlBPU1RSRU5ERVIsIGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZyB0byBhbiBlbGVtZW50IHRoYXQgd2lsbCBiZSByb3RhdGVkIGFmdGVyIHJlbmRlcmluZy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgcmVuZGVyZWQgZWxlbWVudCAoaW4gcGl4ZWxzKS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgdGhlIHJlbmRlcmVkIGVsZW1lbnQgKGluIHBpeGVscykuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRYIE9mZnNldCBvbiB0aGUgeC1heGlzIGluIHZpZXcgY29vcmRpbmF0ZXMuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IFRyYW5zZm9ybS5cbiAgICovXG4gIGdldFJlbmRlclRyYW5zZm9ybShcbiAgICBjZW50ZXIsXG4gICAgcmVzb2x1dGlvbixcbiAgICByb3RhdGlvbixcbiAgICBwaXhlbFJhdGlvLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBvZmZzZXRYXG4gICkge1xuICAgIGNvbnN0IGR4MSA9IHdpZHRoIC8gMjtcbiAgICBjb25zdCBkeTEgPSBoZWlnaHQgLyAyO1xuICAgIGNvbnN0IHN4ID0gcGl4ZWxSYXRpbyAvIHJlc29sdXRpb247XG4gICAgY29uc3Qgc3kgPSAtc3g7XG4gICAgY29uc3QgZHgyID0gLWNlbnRlclswXSArIG9mZnNldFg7XG4gICAgY29uc3QgZHkyID0gLWNlbnRlclsxXTtcbiAgICByZXR1cm4gY29tcG9zZVRyYW5zZm9ybShcbiAgICAgIHRoaXMudGVtcFRyYW5zZm9ybSxcbiAgICAgIGR4MSxcbiAgICAgIGR5MSxcbiAgICAgIHN4LFxuICAgICAgc3ksXG4gICAgICAtcm90YXRpb24sXG4gICAgICBkeDIsXG4gICAgICBkeTJcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwLlxuICAgKi9cbiAgZGlzcG9zZUludGVybmFsKCkge1xuICAgIGRlbGV0ZSB0aGlzLmZyYW1lU3RhdGU7XG4gICAgc3VwZXIuZGlzcG9zZUludGVybmFsKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzTGF5ZXJSZW5kZXJlcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvVGlsZUxheWVyXG4gKi9cbmltcG9ydCBDYW52YXNMYXllclJlbmRlcmVyIGZyb20gJy4vTGF5ZXIuanMnO1xuaW1wb3J0IEltYWdlVGlsZSBmcm9tICcuLi8uLi9JbWFnZVRpbGUuanMnO1xuaW1wb3J0IFJlcHJvalRpbGUgZnJvbSAnLi4vLi4vcmVwcm9qL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVSYW5nZSBmcm9tICcuLi8uLi9UaWxlUmFuZ2UuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi8uLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHtcbiAgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sXG4gIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSxcbiAgbWFrZUludmVyc2UsXG4gIHRvU3RyaW5nIGFzIHRvVHJhbnNmb3JtU3RyaW5nLFxufSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHthc2NlbmRpbmd9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7XG4gIGNvbnRhaW5zQ29vcmRpbmF0ZSxcbiAgY3JlYXRlRW1wdHksXG4gIGVxdWFscyxcbiAgZ2V0SGVpZ2h0LFxuICBnZXRJbnRlcnNlY3Rpb24sXG4gIGdldFJvdGF0ZWRWaWV3cG9ydCxcbiAgZ2V0VG9wTGVmdCxcbiAgZ2V0V2lkdGgsXG4gIGludGVyc2VjdHMsXG59IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2Zyb21Vc2VyRXh0ZW50fSBmcm9tICcuLi8uLi9wcm9qLmpzJztcbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi8uLi91dGlsLmpzJztcbmltcG9ydCB7dG9TaXplfSBmcm9tICcuLi8uLi9zaXplLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDYW52YXMgcmVuZGVyZXIgZm9yIHRpbGUgbGF5ZXJzLlxuICogQGFwaVxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9UaWxlLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi4vLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdD58aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSBbTGF5ZXJUeXBlPWltcG9ydChcIi4uLy4uL2xheWVyL1RpbGUuanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0PnxpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHRdXG4gKiBAZXh0ZW5kcyB7Q2FudmFzTGF5ZXJSZW5kZXJlcjxMYXllclR5cGU+fVxuICovXG5jbGFzcyBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlciBleHRlbmRzIENhbnZhc0xheWVyUmVuZGVyZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtMYXllclR5cGV9IHRpbGVMYXllciBUaWxlIGxheWVyLlxuICAgKi9cbiAgY29uc3RydWN0b3IodGlsZUxheWVyKSB7XG4gICAgc3VwZXIodGlsZUxheWVyKTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcmVkIGV4dGVudCBoYXMgY2hhbmdlZCBzaW5jZSB0aGUgcHJldmlvdXMgYHJlbmRlckZyYW1lKClgIGNhbGxcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudENoYW5nZWQgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZEV4dGVudF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFBpeGVsUmF0aW87XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRQcm9qZWN0aW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRSZXZpc2lvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFRpbGVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubmV3VGlsZXNfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy50bXBFeHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy50bXBUaWxlUmFuZ2VfID0gbmV3IFRpbGVSYW5nZSgwLCAwLCAwLCAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRpbGUgaXMgZHJhd2FibGUuXG4gICAqL1xuICBpc0RyYXdhYmxlVGlsZSh0aWxlKSB7XG4gICAgY29uc3QgdGlsZUxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgIGNvbnN0IHRpbGVTdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB1c2VJbnRlcmltVGlsZXNPbkVycm9yID0gdGlsZUxheWVyLmdldFVzZUludGVyaW1UaWxlc09uRXJyb3IoKTtcbiAgICByZXR1cm4gKFxuICAgICAgdGlsZVN0YXRlID09IFRpbGVTdGF0ZS5MT0FERUQgfHxcbiAgICAgIHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuRU1QVFkgfHxcbiAgICAgICh0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkVSUk9SICYmICF1c2VJbnRlcmltVGlsZXNPbkVycm9yKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdH0gVGlsZS5cbiAgICovXG4gIGdldFRpbGUoeiwgeCwgeSwgZnJhbWVTdGF0ZSkge1xuICAgIGNvbnN0IHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnByb2plY3Rpb247XG4gICAgY29uc3QgdGlsZUxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgIGNvbnN0IHRpbGVTb3VyY2UgPSB0aWxlTGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgbGV0IHRpbGUgPSB0aWxlU291cmNlLmdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuRVJST1IpIHtcbiAgICAgIGlmICh0aWxlTGF5ZXIuZ2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvcigpICYmIHRpbGVMYXllci5nZXRQcmVsb2FkKCkgPiAwKSB7XG4gICAgICAgIC8vIFByZWxvYWRlZCB0aWxlcyBmb3IgbG93ZXIgcmVzb2x1dGlvbnMgbWlnaHQgaGF2ZSBmaW5pc2hlZCBsb2FkaW5nLlxuICAgICAgICB0aGlzLm5ld1RpbGVzXyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5pc0RyYXdhYmxlVGlsZSh0aWxlKSkge1xuICAgICAgdGlsZSA9IHRpbGUuZ2V0SW50ZXJpbVRpbGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRpbGU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fSBEYXRhIGF0IHRoZSBwaXhlbCBsb2NhdGlvbi5cbiAgICovXG4gIGdldERhdGEocGl4ZWwpIHtcbiAgICBjb25zdCBmcmFtZVN0YXRlID0gdGhpcy5mcmFtZVN0YXRlO1xuICAgIGlmICghZnJhbWVTdGF0ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgY29uc3QgY29vcmRpbmF0ZSA9IGFwcGx5VHJhbnNmb3JtKFxuICAgICAgZnJhbWVTdGF0ZS5waXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSxcbiAgICAgIHBpeGVsLnNsaWNlKClcbiAgICApO1xuXG4gICAgY29uc3QgbGF5ZXJFeHRlbnQgPSBsYXllci5nZXRFeHRlbnQoKTtcbiAgICBpZiAobGF5ZXJFeHRlbnQpIHtcbiAgICAgIGlmICghY29udGFpbnNDb29yZGluYXRlKGxheWVyRXh0ZW50LCBjb29yZGluYXRlKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgIGNvbnN0IHByb2plY3Rpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgIGNvbnN0IHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIGNvbnN0IHNvdXJjZSA9IGxheWVyLmdldFJlbmRlclNvdXJjZSgpO1xuICAgIGNvbnN0IHRpbGVHcmlkID0gc291cmNlLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbih2aWV3U3RhdGUucHJvamVjdGlvbik7XG4gICAgY29uc3QgdGlsZVBpeGVsUmF0aW8gPSBzb3VyY2UuZ2V0VGlsZVBpeGVsUmF0aW8oZnJhbWVTdGF0ZS5waXhlbFJhdGlvKTtcblxuICAgIGZvciAoXG4gICAgICBsZXQgeiA9IHRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKHZpZXdTdGF0ZS5yZXNvbHV0aW9uKTtcbiAgICAgIHogPj0gdGlsZUdyaWQuZ2V0TWluWm9vbSgpO1xuICAgICAgLS16XG4gICAgKSB7XG4gICAgICBjb25zdCB0aWxlQ29vcmQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRGb3JDb29yZEFuZFooY29vcmRpbmF0ZSwgeik7XG4gICAgICBjb25zdCB0aWxlID0gc291cmNlLmdldFRpbGUoXG4gICAgICAgIHosXG4gICAgICAgIHRpbGVDb29yZFsxXSxcbiAgICAgICAgdGlsZUNvb3JkWzJdLFxuICAgICAgICBwaXhlbFJhdGlvLFxuICAgICAgICBwcm9qZWN0aW9uXG4gICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICAhKHRpbGUgaW5zdGFuY2VvZiBJbWFnZVRpbGUgfHwgdGlsZSBpbnN0YW5jZW9mIFJlcHJvalRpbGUpIHx8XG4gICAgICAgICh0aWxlIGluc3RhbmNlb2YgUmVwcm9qVGlsZSAmJiB0aWxlLmdldFN0YXRlKCkgPT09IFRpbGVTdGF0ZS5FTVBUWSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSAhPT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGlsZU9yaWdpbiA9IHRpbGVHcmlkLmdldE9yaWdpbih6KTtcbiAgICAgIGNvbnN0IHRpbGVTaXplID0gdG9TaXplKHRpbGVHcmlkLmdldFRpbGVTaXplKHopKTtcbiAgICAgIGNvbnN0IHRpbGVSZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcblxuICAgICAgY29uc3QgY29sID0gTWF0aC5mbG9vcihcbiAgICAgICAgdGlsZVBpeGVsUmF0aW8gKlxuICAgICAgICAgICgoY29vcmRpbmF0ZVswXSAtIHRpbGVPcmlnaW5bMF0pIC8gdGlsZVJlc29sdXRpb24gLVxuICAgICAgICAgICAgdGlsZUNvb3JkWzFdICogdGlsZVNpemVbMF0pXG4gICAgICApO1xuXG4gICAgICBjb25zdCByb3cgPSBNYXRoLmZsb29yKFxuICAgICAgICB0aWxlUGl4ZWxSYXRpbyAqXG4gICAgICAgICAgKCh0aWxlT3JpZ2luWzFdIC0gY29vcmRpbmF0ZVsxXSkgLyB0aWxlUmVzb2x1dGlvbiAtXG4gICAgICAgICAgICB0aWxlQ29vcmRbMl0gKiB0aWxlU2l6ZVsxXSlcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGd1dHRlciA9IE1hdGgucm91bmQoXG4gICAgICAgIHRpbGVQaXhlbFJhdGlvICogc291cmNlLmdldEd1dHRlckZvclByb2plY3Rpb24odmlld1N0YXRlLnByb2plY3Rpb24pXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gdGhpcy5nZXRJbWFnZURhdGEodGlsZS5nZXRJbWFnZSgpLCBjb2wgKyBndXR0ZXIsIHJvdyArIGd1dHRlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3Q8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+Pn0gdGlsZXMgTG9va3VwIG9mIGxvYWRlZCB0aWxlcyBieSB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBab29tIGxldmVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufHZvaWR9IElmIGBmYWxzZWAsIHRoZSB0aWxlIHdpbGwgbm90IGJlIGNvbnNpZGVyZWQgbG9hZGVkLlxuICAgKi9cbiAgbG9hZGVkVGlsZUNhbGxiYWNrKHRpbGVzLCB6b29tLCB0aWxlKSB7XG4gICAgaWYgKHRoaXMuaXNEcmF3YWJsZVRpbGUodGlsZSkpIHtcbiAgICAgIHJldHVybiBzdXBlci5sb2FkZWRUaWxlQ2FsbGJhY2sodGlsZXMsIHpvb20sIHRpbGUpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHdoZXRoZXIgcmVuZGVyIHNob3VsZCBiZSBjYWxsZWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IExheWVyIGlzIHJlYWR5IHRvIGJlIHJlbmRlcmVkLlxuICAgKi9cbiAgcHJlcGFyZUZyYW1lKGZyYW1lU3RhdGUpIHtcbiAgICByZXR1cm4gISF0aGlzLmdldExheWVyKCkuZ2V0U291cmNlKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIHRoZSBsYXllci5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB0aGF0IG1heSBiZSB1c2VkIHRvIHJlbmRlciBjb250ZW50IHRvLlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIHJlbmRlcmVkIGVsZW1lbnQuXG4gICAqL1xuICByZW5kZXJGcmFtZShmcmFtZVN0YXRlLCB0YXJnZXQpIHtcbiAgICBjb25zdCBsYXllclN0YXRlID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5W2ZyYW1lU3RhdGUubGF5ZXJJbmRleF07XG4gICAgY29uc3Qgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgIGNvbnN0IHZpZXdSZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgY29uc3Qgdmlld0NlbnRlciA9IHZpZXdTdGF0ZS5jZW50ZXI7XG4gICAgY29uc3Qgcm90YXRpb24gPSB2aWV3U3RhdGUucm90YXRpb247XG4gICAgY29uc3QgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcblxuICAgIGNvbnN0IHRpbGVMYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICBjb25zdCB0aWxlU291cmNlID0gdGlsZUxheWVyLmdldFNvdXJjZSgpO1xuICAgIGNvbnN0IHNvdXJjZVJldmlzaW9uID0gdGlsZVNvdXJjZS5nZXRSZXZpc2lvbigpO1xuICAgIGNvbnN0IHRpbGVHcmlkID0gdGlsZVNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgY29uc3QgeiA9IHRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKHZpZXdSZXNvbHV0aW9uLCB0aWxlU291cmNlLnpEaXJlY3Rpb24pO1xuICAgIGNvbnN0IHRpbGVSZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcblxuICAgIGxldCBleHRlbnQgPSBmcmFtZVN0YXRlLmV4dGVudDtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucmVzb2x1dGlvbjtcbiAgICBjb25zdCB0aWxlUGl4ZWxSYXRpbyA9IHRpbGVTb3VyY2UuZ2V0VGlsZVBpeGVsUmF0aW8ocGl4ZWxSYXRpbyk7XG4gICAgLy8gZGVzaXJlZCBkaW1lbnNpb25zIG9mIHRoZSBjYW52YXMgaW4gcGl4ZWxzXG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLnJvdW5kKChnZXRXaWR0aChleHRlbnQpIC8gcmVzb2x1dGlvbikgKiBwaXhlbFJhdGlvKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLnJvdW5kKChnZXRIZWlnaHQoZXh0ZW50KSAvIHJlc29sdXRpb24pICogcGl4ZWxSYXRpbyk7XG5cbiAgICBjb25zdCBsYXllckV4dGVudCA9XG4gICAgICBsYXllclN0YXRlLmV4dGVudCAmJiBmcm9tVXNlckV4dGVudChsYXllclN0YXRlLmV4dGVudCwgcHJvamVjdGlvbik7XG4gICAgaWYgKGxheWVyRXh0ZW50KSB7XG4gICAgICBleHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24oXG4gICAgICAgIGV4dGVudCxcbiAgICAgICAgZnJvbVVzZXJFeHRlbnQobGF5ZXJTdGF0ZS5leHRlbnQsIHByb2plY3Rpb24pXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGR4ID0gKHRpbGVSZXNvbHV0aW9uICogd2lkdGgpIC8gMiAvIHRpbGVQaXhlbFJhdGlvO1xuICAgIGNvbnN0IGR5ID0gKHRpbGVSZXNvbHV0aW9uICogaGVpZ2h0KSAvIDIgLyB0aWxlUGl4ZWxSYXRpbztcbiAgICBjb25zdCBjYW52YXNFeHRlbnQgPSBbXG4gICAgICB2aWV3Q2VudGVyWzBdIC0gZHgsXG4gICAgICB2aWV3Q2VudGVyWzFdIC0gZHksXG4gICAgICB2aWV3Q2VudGVyWzBdICsgZHgsXG4gICAgICB2aWV3Q2VudGVyWzFdICsgZHksXG4gICAgXTtcblxuICAgIGNvbnN0IHRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6KTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+Pn1cbiAgICAgKi9cbiAgICBjb25zdCB0aWxlc1RvRHJhd0J5WiA9IHt9O1xuICAgIHRpbGVzVG9EcmF3QnlaW3pdID0ge307XG5cbiAgICBjb25zdCBmaW5kTG9hZGVkVGlsZXMgPSB0aGlzLmNyZWF0ZUxvYWRlZFRpbGVGaW5kZXIoXG4gICAgICB0aWxlU291cmNlLFxuICAgICAgcHJvamVjdGlvbixcbiAgICAgIHRpbGVzVG9EcmF3QnlaXG4gICAgKTtcblxuICAgIGNvbnN0IHRtcEV4dGVudCA9IHRoaXMudG1wRXh0ZW50O1xuICAgIGNvbnN0IHRtcFRpbGVSYW5nZSA9IHRoaXMudG1wVGlsZVJhbmdlXztcbiAgICB0aGlzLm5ld1RpbGVzXyA9IGZhbHNlO1xuICAgIGNvbnN0IHZpZXdwb3J0ID0gcm90YXRpb25cbiAgICAgID8gZ2V0Um90YXRlZFZpZXdwb3J0KFxuICAgICAgICAgIHZpZXdTdGF0ZS5jZW50ZXIsXG4gICAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICBmcmFtZVN0YXRlLnNpemVcbiAgICAgICAgKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgZm9yIChsZXQgeCA9IHRpbGVSYW5nZS5taW5YOyB4IDw9IHRpbGVSYW5nZS5tYXhYOyArK3gpIHtcbiAgICAgIGZvciAobGV0IHkgPSB0aWxlUmFuZ2UubWluWTsgeSA8PSB0aWxlUmFuZ2UubWF4WTsgKyt5KSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICByb3RhdGlvbiAmJlxuICAgICAgICAgICF0aWxlR3JpZC50aWxlQ29vcmRJbnRlcnNlY3RzVmlld3BvcnQoW3osIHgsIHldLCB2aWV3cG9ydClcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuZ2V0VGlsZSh6LCB4LCB5LCBmcmFtZVN0YXRlKTtcbiAgICAgICAgaWYgKHRoaXMuaXNEcmF3YWJsZVRpbGUodGlsZSkpIHtcbiAgICAgICAgICBjb25zdCB1aWQgPSBnZXRVaWQodGhpcyk7XG4gICAgICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgICB0aWxlc1RvRHJhd0J5Wlt6XVt0aWxlLnRpbGVDb29yZC50b1N0cmluZygpXSA9IHRpbGU7XG4gICAgICAgICAgICBsZXQgaW5UcmFuc2l0aW9uID0gdGlsZS5pblRyYW5zaXRpb24odWlkKTtcbiAgICAgICAgICAgIGlmIChpblRyYW5zaXRpb24gJiYgbGF5ZXJTdGF0ZS5vcGFjaXR5ICE9PSAxKSB7XG4gICAgICAgICAgICAgIC8vIFNraXBwaW5nIHRyYW5zaXRpb24gd2hlbiBsYXllciBpcyBub3QgZnVsbHkgb3BhcXVlIGF2b2lkcyB2aXN1YWwgYXJ0aWZhY3RzLlxuICAgICAgICAgICAgICB0aWxlLmVuZFRyYW5zaXRpb24odWlkKTtcbiAgICAgICAgICAgICAgaW5UcmFuc2l0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICF0aGlzLm5ld1RpbGVzXyAmJlxuICAgICAgICAgICAgICAoaW5UcmFuc2l0aW9uIHx8ICF0aGlzLnJlbmRlcmVkVGlsZXMuaW5jbHVkZXModGlsZSkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdGhpcy5uZXdUaWxlc18gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGlsZS5nZXRBbHBoYSh1aWQsIGZyYW1lU3RhdGUudGltZSkgPT09IDEpIHtcbiAgICAgICAgICAgIC8vIGRvbid0IGxvb2sgZm9yIGFsdCB0aWxlcyBpZiBhbHBoYSBpcyAxXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjaGlsZFRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldFRpbGVDb29yZENoaWxkVGlsZVJhbmdlKFxuICAgICAgICAgIHRpbGUudGlsZUNvb3JkLFxuICAgICAgICAgIHRtcFRpbGVSYW5nZSxcbiAgICAgICAgICB0bXBFeHRlbnRcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgY292ZXJlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoY2hpbGRUaWxlUmFuZ2UpIHtcbiAgICAgICAgICBjb3ZlcmVkID0gZmluZExvYWRlZFRpbGVzKHogKyAxLCBjaGlsZFRpbGVSYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb3ZlcmVkKSB7XG4gICAgICAgICAgdGlsZUdyaWQuZm9yRWFjaFRpbGVDb29yZFBhcmVudFRpbGVSYW5nZShcbiAgICAgICAgICAgIHRpbGUudGlsZUNvb3JkLFxuICAgICAgICAgICAgZmluZExvYWRlZFRpbGVzLFxuICAgICAgICAgICAgdG1wVGlsZVJhbmdlLFxuICAgICAgICAgICAgdG1wRXh0ZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNhbnZhc1NjYWxlID1cbiAgICAgICgodGlsZVJlc29sdXRpb24gLyB2aWV3UmVzb2x1dGlvbikgKiBwaXhlbFJhdGlvKSAvIHRpbGVQaXhlbFJhdGlvO1xuXG4gICAgLy8gc2V0IGZvcndhcmQgYW5kIGludmVyc2UgcGl4ZWwgdHJhbnNmb3Jtc1xuICAgIGNvbXBvc2VUcmFuc2Zvcm0oXG4gICAgICB0aGlzLnBpeGVsVHJhbnNmb3JtLFxuICAgICAgZnJhbWVTdGF0ZS5zaXplWzBdIC8gMixcbiAgICAgIGZyYW1lU3RhdGUuc2l6ZVsxXSAvIDIsXG4gICAgICAxIC8gcGl4ZWxSYXRpbyxcbiAgICAgIDEgLyBwaXhlbFJhdGlvLFxuICAgICAgcm90YXRpb24sXG4gICAgICAtd2lkdGggLyAyLFxuICAgICAgLWhlaWdodCAvIDJcbiAgICApO1xuXG4gICAgY29uc3QgY2FudmFzVHJhbnNmb3JtID0gdG9UcmFuc2Zvcm1TdHJpbmcodGhpcy5waXhlbFRyYW5zZm9ybSk7XG5cbiAgICB0aGlzLnVzZUNvbnRhaW5lcih0YXJnZXQsIGNhbnZhc1RyYW5zZm9ybSwgdGhpcy5nZXRCYWNrZ3JvdW5kKGZyYW1lU3RhdGUpKTtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIGNvbnN0IGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuXG4gICAgbWFrZUludmVyc2UodGhpcy5pbnZlcnNlUGl4ZWxUcmFuc2Zvcm0sIHRoaXMucGl4ZWxUcmFuc2Zvcm0pO1xuXG4gICAgLy8gc2V0IHNjYWxlIHRyYW5zZm9ybSBmb3IgY2FsY3VsYXRpbmcgdGlsZSBwb3NpdGlvbnMgb24gdGhlIGNhbnZhc1xuICAgIGNvbXBvc2VUcmFuc2Zvcm0oXG4gICAgICB0aGlzLnRlbXBUcmFuc2Zvcm0sXG4gICAgICB3aWR0aCAvIDIsXG4gICAgICBoZWlnaHQgLyAyLFxuICAgICAgY2FudmFzU2NhbGUsXG4gICAgICBjYW52YXNTY2FsZSxcbiAgICAgIDAsXG4gICAgICAtd2lkdGggLyAyLFxuICAgICAgLWhlaWdodCAvIDJcbiAgICApO1xuXG4gICAgaWYgKGNhbnZhcy53aWR0aCAhPSB3aWR0aCB8fCBjYW52YXMuaGVpZ2h0ICE9IGhlaWdodCkge1xuICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuY29udGFpbmVyUmV1c2VkKSB7XG4gICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAobGF5ZXJFeHRlbnQpIHtcbiAgICAgIHRoaXMuY2xpcFVucm90YXRlZChjb250ZXh0LCBmcmFtZVN0YXRlLCBsYXllckV4dGVudCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aWxlU291cmNlLmdldEludGVycG9sYXRlKCkpIHtcbiAgICAgIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5wcmVSZW5kZXIoY29udGV4dCwgZnJhbWVTdGF0ZSk7XG5cbiAgICB0aGlzLnJlbmRlcmVkVGlsZXMubGVuZ3RoID0gMDtcbiAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gICAgbGV0IHpzID0gT2JqZWN0LmtleXModGlsZXNUb0RyYXdCeVopLm1hcChOdW1iZXIpO1xuICAgIHpzLnNvcnQoYXNjZW5kaW5nKTtcblxuICAgIGxldCBjbGlwcywgY2xpcFpzLCBjdXJyZW50Q2xpcDtcbiAgICBpZiAoXG4gICAgICBsYXllclN0YXRlLm9wYWNpdHkgPT09IDEgJiZcbiAgICAgICghdGhpcy5jb250YWluZXJSZXVzZWQgfHxcbiAgICAgICAgdGlsZVNvdXJjZS5nZXRPcGFxdWUoZnJhbWVTdGF0ZS52aWV3U3RhdGUucHJvamVjdGlvbikpXG4gICAgKSB7XG4gICAgICB6cyA9IHpzLnJldmVyc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xpcHMgPSBbXTtcbiAgICAgIGNsaXBacyA9IFtdO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0genMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRaID0genNbaV07XG4gICAgICBjb25zdCBjdXJyZW50VGlsZVBpeGVsU2l6ZSA9IHRpbGVTb3VyY2UuZ2V0VGlsZVBpeGVsU2l6ZShcbiAgICAgICAgY3VycmVudFosXG4gICAgICAgIHBpeGVsUmF0aW8sXG4gICAgICAgIHByb2plY3Rpb25cbiAgICAgICk7XG4gICAgICBjb25zdCBjdXJyZW50UmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oY3VycmVudFopO1xuICAgICAgY29uc3QgY3VycmVudFNjYWxlID0gY3VycmVudFJlc29sdXRpb24gLyB0aWxlUmVzb2x1dGlvbjtcbiAgICAgIGNvbnN0IGR4ID0gY3VycmVudFRpbGVQaXhlbFNpemVbMF0gKiBjdXJyZW50U2NhbGUgKiBjYW52YXNTY2FsZTtcbiAgICAgIGNvbnN0IGR5ID0gY3VycmVudFRpbGVQaXhlbFNpemVbMV0gKiBjdXJyZW50U2NhbGUgKiBjYW52YXNTY2FsZTtcbiAgICAgIGNvbnN0IG9yaWdpblRpbGVDb29yZCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEZvckNvb3JkQW5kWihcbiAgICAgICAgZ2V0VG9wTGVmdChjYW52YXNFeHRlbnQpLFxuICAgICAgICBjdXJyZW50WlxuICAgICAgKTtcbiAgICAgIGNvbnN0IG9yaWdpblRpbGVFeHRlbnQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQob3JpZ2luVGlsZUNvb3JkKTtcbiAgICAgIGNvbnN0IG9yaWdpbiA9IGFwcGx5VHJhbnNmb3JtKHRoaXMudGVtcFRyYW5zZm9ybSwgW1xuICAgICAgICAodGlsZVBpeGVsUmF0aW8gKiAob3JpZ2luVGlsZUV4dGVudFswXSAtIGNhbnZhc0V4dGVudFswXSkpIC9cbiAgICAgICAgICB0aWxlUmVzb2x1dGlvbixcbiAgICAgICAgKHRpbGVQaXhlbFJhdGlvICogKGNhbnZhc0V4dGVudFszXSAtIG9yaWdpblRpbGVFeHRlbnRbM10pKSAvXG4gICAgICAgICAgdGlsZVJlc29sdXRpb24sXG4gICAgICBdKTtcbiAgICAgIGNvbnN0IHRpbGVHdXR0ZXIgPVxuICAgICAgICB0aWxlUGl4ZWxSYXRpbyAqIHRpbGVTb3VyY2UuZ2V0R3V0dGVyRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgIGNvbnN0IHRpbGVzVG9EcmF3ID0gdGlsZXNUb0RyYXdCeVpbY3VycmVudFpdO1xuICAgICAgZm9yIChjb25zdCB0aWxlQ29vcmRLZXkgaW4gdGlsZXNUb0RyYXcpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICB0aWxlc1RvRHJhd1t0aWxlQ29vcmRLZXldXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHRpbGVDb29yZCA9IHRpbGUudGlsZUNvb3JkO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBpbnRlZ2VyIHBvc2l0aW9ucyBhbmQgc2l6ZXMgc28gdGhhdCB0aWxlcyBhbGlnblxuICAgICAgICBjb25zdCB4SW5kZXggPSBvcmlnaW5UaWxlQ29vcmRbMV0gLSB0aWxlQ29vcmRbMV07XG4gICAgICAgIGNvbnN0IG5leHRYID0gTWF0aC5yb3VuZChvcmlnaW5bMF0gLSAoeEluZGV4IC0gMSkgKiBkeCk7XG4gICAgICAgIGNvbnN0IHlJbmRleCA9IG9yaWdpblRpbGVDb29yZFsyXSAtIHRpbGVDb29yZFsyXTtcbiAgICAgICAgY29uc3QgbmV4dFkgPSBNYXRoLnJvdW5kKG9yaWdpblsxXSAtICh5SW5kZXggLSAxKSAqIGR5KTtcbiAgICAgICAgY29uc3QgeCA9IE1hdGgucm91bmQob3JpZ2luWzBdIC0geEluZGV4ICogZHgpO1xuICAgICAgICBjb25zdCB5ID0gTWF0aC5yb3VuZChvcmlnaW5bMV0gLSB5SW5kZXggKiBkeSk7XG4gICAgICAgIGNvbnN0IHcgPSBuZXh0WCAtIHg7XG4gICAgICAgIGNvbnN0IGggPSBuZXh0WSAtIHk7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb24gPSB6ID09PSBjdXJyZW50WjtcblxuICAgICAgICBjb25zdCBpblRyYW5zaXRpb24gPVxuICAgICAgICAgIHRyYW5zaXRpb24gJiYgdGlsZS5nZXRBbHBoYShnZXRVaWQodGhpcyksIGZyYW1lU3RhdGUudGltZSkgIT09IDE7XG4gICAgICAgIGxldCBjb250ZXh0U2F2ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFpblRyYW5zaXRpb24pIHtcbiAgICAgICAgICBpZiAoY2xpcHMpIHtcbiAgICAgICAgICAgIC8vIENsaXAgbWFzayBmb3IgcmVnaW9ucyBpbiB0aGlzIHRpbGUgdGhhdCBhbHJlYWR5IGZpbGxlZCBieSBhIGhpZ2hlciB6IHRpbGVcbiAgICAgICAgICAgIGN1cnJlbnRDbGlwID0gW3gsIHksIHggKyB3LCB5LCB4ICsgdywgeSArIGgsIHgsIHkgKyBoXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGNsaXBzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgaWYgKHogIT09IGN1cnJlbnRaICYmIGN1cnJlbnRaIDwgY2xpcFpzW2ldKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xpcCA9IGNsaXBzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGludGVyc2VjdHMoXG4gICAgICAgICAgICAgICAgICAgIFt4LCB5LCB4ICsgdywgeSArIGhdLFxuICAgICAgICAgICAgICAgICAgICBbY2xpcFswXSwgY2xpcFszXSwgY2xpcFs0XSwgY2xpcFs3XV1cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGlmICghY29udGV4dFNhdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0U2F2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgIC8vIGNvdW50ZXItY2xvY2t3aXNlIChvdXRlciByaW5nKSBmb3IgY3VycmVudCB0aWxlXG4gICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhjdXJyZW50Q2xpcFswXSwgY3VycmVudENsaXBbMV0pO1xuICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY3VycmVudENsaXBbMl0sIGN1cnJlbnRDbGlwWzNdKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzRdLCBjdXJyZW50Q2xpcFs1XSk7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjdXJyZW50Q2xpcFs2XSwgY3VycmVudENsaXBbN10pO1xuICAgICAgICAgICAgICAgICAgLy8gY2xvY2t3aXNlIChpbm5lciByaW5nKSBmb3IgaGlnaGVyIHogdGlsZVxuICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oY2xpcFs2XSwgY2xpcFs3XSk7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjbGlwWzRdLCBjbGlwWzVdKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGNsaXBbMl0sIGNsaXBbM10pO1xuICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY2xpcFswXSwgY2xpcFsxXSk7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsaXBzLnB1c2goY3VycmVudENsaXApO1xuICAgICAgICAgICAgY2xpcFpzLnB1c2goY3VycmVudFopO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCh4LCB5LCB3LCBoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmF3VGlsZUltYWdlKFxuICAgICAgICAgIHRpbGUsXG4gICAgICAgICAgZnJhbWVTdGF0ZSxcbiAgICAgICAgICB4LFxuICAgICAgICAgIHksXG4gICAgICAgICAgdyxcbiAgICAgICAgICBoLFxuICAgICAgICAgIHRpbGVHdXR0ZXIsXG4gICAgICAgICAgdHJhbnNpdGlvblxuICAgICAgICApO1xuICAgICAgICBpZiAoY2xpcHMgJiYgIWluVHJhbnNpdGlvbikge1xuICAgICAgICAgIGlmIChjb250ZXh0U2F2ZWQpIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXMudW5zaGlmdCh0aWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXMucHVzaCh0aWxlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVVzZWRUaWxlcyhmcmFtZVN0YXRlLnVzZWRUaWxlcywgdGlsZVNvdXJjZSwgdGlsZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJlZFJldmlzaW9uID0gc291cmNlUmV2aXNpb247XG4gICAgdGhpcy5yZW5kZXJlZFJlc29sdXRpb24gPSB0aWxlUmVzb2x1dGlvbjtcbiAgICB0aGlzLmV4dGVudENoYW5nZWQgPVxuICAgICAgIXRoaXMucmVuZGVyZWRFeHRlbnRfIHx8ICFlcXVhbHModGhpcy5yZW5kZXJlZEV4dGVudF8sIGNhbnZhc0V4dGVudCk7XG4gICAgdGhpcy5yZW5kZXJlZEV4dGVudF8gPSBjYW52YXNFeHRlbnQ7XG4gICAgdGhpcy5yZW5kZXJlZFBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvO1xuICAgIHRoaXMucmVuZGVyZWRQcm9qZWN0aW9uID0gcHJvamVjdGlvbjtcblxuICAgIHRoaXMubWFuYWdlVGlsZVB5cmFtaWQoXG4gICAgICBmcmFtZVN0YXRlLFxuICAgICAgdGlsZVNvdXJjZSxcbiAgICAgIHRpbGVHcmlkLFxuICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgIHByb2plY3Rpb24sXG4gICAgICBleHRlbnQsXG4gICAgICB6LFxuICAgICAgdGlsZUxheWVyLmdldFByZWxvYWQoKVxuICAgICk7XG4gICAgdGhpcy5zY2hlZHVsZUV4cGlyZUNhY2hlKGZyYW1lU3RhdGUsIHRpbGVTb3VyY2UpO1xuXG4gICAgdGhpcy5wb3N0UmVuZGVyKGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuXG4gICAgaWYgKGxheWVyU3RhdGUuZXh0ZW50KSB7XG4gICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSB0cnVlO1xuXG4gICAgaWYgKGNhbnZhc1RyYW5zZm9ybSAhPT0gY2FudmFzLnN0eWxlLnRyYW5zZm9ybSkge1xuICAgICAgY2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9IGNhbnZhc1RyYW5zZm9ybTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBMZWZ0IG9mIHRoZSB0aWxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUb3Agb2YgdGhlIHRpbGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3IFdpZHRoIG9mIHRoZSB0aWxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaCBIZWlnaHQgb2YgdGhlIHRpbGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBndXR0ZXIgVGlsZSBndXR0ZXIuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJhbnNpdGlvbiBBcHBseSBhbiBhbHBoYSB0cmFuc2l0aW9uLlxuICAgKi9cbiAgZHJhd1RpbGVJbWFnZSh0aWxlLCBmcmFtZVN0YXRlLCB4LCB5LCB3LCBoLCBndXR0ZXIsIHRyYW5zaXRpb24pIHtcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuZ2V0VGlsZUltYWdlKHRpbGUpO1xuICAgIGlmICghaW1hZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdWlkID0gZ2V0VWlkKHRoaXMpO1xuICAgIGNvbnN0IGxheWVyU3RhdGUgPSBmcmFtZVN0YXRlLmxheWVyU3RhdGVzQXJyYXlbZnJhbWVTdGF0ZS5sYXllckluZGV4XTtcbiAgICBjb25zdCBhbHBoYSA9XG4gICAgICBsYXllclN0YXRlLm9wYWNpdHkgKlxuICAgICAgKHRyYW5zaXRpb24gPyB0aWxlLmdldEFscGhhKHVpZCwgZnJhbWVTdGF0ZS50aW1lKSA6IDEpO1xuICAgIGNvbnN0IGFscGhhQ2hhbmdlZCA9IGFscGhhICE9PSB0aGlzLmNvbnRleHQuZ2xvYmFsQWxwaGE7XG4gICAgaWYgKGFscGhhQ2hhbmdlZCkge1xuICAgICAgdGhpcy5jb250ZXh0LnNhdmUoKTtcbiAgICAgIHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYSA9IGFscGhhO1xuICAgIH1cbiAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgaW1hZ2UsXG4gICAgICBndXR0ZXIsXG4gICAgICBndXR0ZXIsXG4gICAgICBpbWFnZS53aWR0aCAtIDIgKiBndXR0ZXIsXG4gICAgICBpbWFnZS5oZWlnaHQgLSAyICogZ3V0dGVyLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICB3LFxuICAgICAgaFxuICAgICk7XG5cbiAgICBpZiAoYWxwaGFDaGFuZ2VkKSB7XG4gICAgICB0aGlzLmNvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cbiAgICBpZiAoYWxwaGEgIT09IGxheWVyU3RhdGUub3BhY2l0eSkge1xuICAgICAgZnJhbWVTdGF0ZS5hbmltYXRlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgIHRpbGUuZW5kVHJhbnNpdGlvbih1aWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2VcbiAgICovXG4gIGdldEltYWdlKCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgcmV0dXJuIGNvbnRleHQgPyBjb250ZXh0LmNhbnZhcyA6IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBpbWFnZSBmcm9tIGEgdGlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IEltYWdlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRUaWxlSW1hZ2UodGlsZSkge1xuICAgIHJldHVybiB0aWxlLmdldEltYWdlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlU291cmNlIFRpbGUgc291cmNlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzY2hlZHVsZUV4cGlyZUNhY2hlKGZyYW1lU3RhdGUsIHRpbGVTb3VyY2UpIHtcbiAgICBpZiAodGlsZVNvdXJjZS5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZVNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgICAgICovXG4gICAgICBjb25zdCBwb3N0UmVuZGVyRnVuY3Rpb24gPSBmdW5jdGlvbiAodGlsZVNvdXJjZSwgbWFwLCBmcmFtZVN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHRpbGVTb3VyY2VLZXkgPSBnZXRVaWQodGlsZVNvdXJjZSk7XG4gICAgICAgIGlmICh0aWxlU291cmNlS2V5IGluIGZyYW1lU3RhdGUudXNlZFRpbGVzKSB7XG4gICAgICAgICAgdGlsZVNvdXJjZS5leHBpcmVDYWNoZShcbiAgICAgICAgICAgIGZyYW1lU3RhdGUudmlld1N0YXRlLnByb2plY3Rpb24sXG4gICAgICAgICAgICBmcmFtZVN0YXRlLnVzZWRUaWxlc1t0aWxlU291cmNlS2V5XVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZChudWxsLCB0aWxlU291cmNlKTtcblxuICAgICAgZnJhbWVTdGF0ZS5wb3N0UmVuZGVyRnVuY3Rpb25zLnB1c2goXG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLlBvc3RSZW5kZXJGdW5jdGlvbn0gKi8gKFxuICAgICAgICAgIHBvc3RSZW5kZXJGdW5jdGlvblxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PHN0cmluZywgYm9vbGVhbj4+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlU291cmNlIFRpbGUgc291cmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vLi4vVGlsZS5qcycpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgdXBkYXRlVXNlZFRpbGVzKHVzZWRUaWxlcywgdGlsZVNvdXJjZSwgdGlsZSkge1xuICAgIC8vIEZJWE1FIHNob3VsZCB3ZSB1c2UgdGlsZXNUb0RyYXdCeVogaW5zdGVhZD9cbiAgICBjb25zdCB0aWxlU291cmNlS2V5ID0gZ2V0VWlkKHRpbGVTb3VyY2UpO1xuICAgIGlmICghKHRpbGVTb3VyY2VLZXkgaW4gdXNlZFRpbGVzKSkge1xuICAgICAgdXNlZFRpbGVzW3RpbGVTb3VyY2VLZXldID0ge307XG4gICAgfVxuICAgIHVzZWRUaWxlc1t0aWxlU291cmNlS2V5XVt0aWxlLmdldEtleSgpXSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogTWFuYWdlIHRpbGUgcHlyYW1pZC5cbiAgICogVGhpcyBmdW5jdGlvbiBwZXJmb3JtcyBhIG51bWJlciBvZiBmdW5jdGlvbnMgcmVsYXRlZCB0byB0aGUgdGlsZXMgYXQgdGhlXG4gICAqIGN1cnJlbnQgem9vbSBhbmQgbG93ZXIgem9vbSBsZXZlbHM6XG4gICAqIC0gcmVnaXN0ZXJzIGlkbGUgdGlsZXMgaW4gZnJhbWVTdGF0ZS53YW50ZWRUaWxlcyBzbyB0aGF0IHRoZXkgYXJlIG5vdFxuICAgKiAgIGRpc2NhcmRlZCBieSB0aGUgdGlsZSBxdWV1ZVxuICAgKiAtIGVucXVldWVzIG1pc3NpbmcgdGlsZXNcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlU291cmNlIFRpbGUgc291cmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gY3VycmVudFogQ3VycmVudCBaLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcHJlbG9hZCBMb2FkIGxvdyByZXNvbHV0aW9uIHRpbGVzIHVwIHRvIGBwcmVsb2FkYCBsZXZlbHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vLi4vVGlsZS5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbdGlsZUNhbGxiYWNrXSBUaWxlIGNhbGxiYWNrLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBtYW5hZ2VUaWxlUHlyYW1pZChcbiAgICBmcmFtZVN0YXRlLFxuICAgIHRpbGVTb3VyY2UsXG4gICAgdGlsZUdyaWQsXG4gICAgcGl4ZWxSYXRpbyxcbiAgICBwcm9qZWN0aW9uLFxuICAgIGV4dGVudCxcbiAgICBjdXJyZW50WixcbiAgICBwcmVsb2FkLFxuICAgIHRpbGVDYWxsYmFja1xuICApIHtcbiAgICBjb25zdCB0aWxlU291cmNlS2V5ID0gZ2V0VWlkKHRpbGVTb3VyY2UpO1xuICAgIGlmICghKHRpbGVTb3VyY2VLZXkgaW4gZnJhbWVTdGF0ZS53YW50ZWRUaWxlcykpIHtcbiAgICAgIGZyYW1lU3RhdGUud2FudGVkVGlsZXNbdGlsZVNvdXJjZUtleV0gPSB7fTtcbiAgICB9XG4gICAgY29uc3Qgd2FudGVkVGlsZXMgPSBmcmFtZVN0YXRlLndhbnRlZFRpbGVzW3RpbGVTb3VyY2VLZXldO1xuICAgIGNvbnN0IHRpbGVRdWV1ZSA9IGZyYW1lU3RhdGUudGlsZVF1ZXVlO1xuICAgIGNvbnN0IG1pblpvb20gPSB0aWxlR3JpZC5nZXRNaW5ab29tKCk7XG4gICAgY29uc3Qgcm90YXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yb3RhdGlvbjtcbiAgICBjb25zdCB2aWV3cG9ydCA9IHJvdGF0aW9uXG4gICAgICA/IGdldFJvdGF0ZWRWaWV3cG9ydChcbiAgICAgICAgICBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5jZW50ZXIsXG4gICAgICAgICAgZnJhbWVTdGF0ZS52aWV3U3RhdGUucmVzb2x1dGlvbixcbiAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICBmcmFtZVN0YXRlLnNpemVcbiAgICAgICAgKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbGV0IHRpbGVDb3VudCA9IDA7XG4gICAgbGV0IHRpbGUsIHRpbGVSYW5nZSwgdGlsZVJlc29sdXRpb24sIHgsIHksIHo7XG4gICAgZm9yICh6ID0gbWluWm9vbTsgeiA8PSBjdXJyZW50WjsgKyt6KSB7XG4gICAgICB0aWxlUmFuZ2UgPSB0aWxlR3JpZC5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgeiwgdGlsZVJhbmdlKTtcbiAgICAgIHRpbGVSZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICAgIGZvciAoeCA9IHRpbGVSYW5nZS5taW5YOyB4IDw9IHRpbGVSYW5nZS5tYXhYOyArK3gpIHtcbiAgICAgICAgZm9yICh5ID0gdGlsZVJhbmdlLm1pblk7IHkgPD0gdGlsZVJhbmdlLm1heFk7ICsreSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHJvdGF0aW9uICYmXG4gICAgICAgICAgICAhdGlsZUdyaWQudGlsZUNvb3JkSW50ZXJzZWN0c1ZpZXdwb3J0KFt6LCB4LCB5XSwgdmlld3BvcnQpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGN1cnJlbnRaIC0geiA8PSBwcmVsb2FkKSB7XG4gICAgICAgICAgICArK3RpbGVDb3VudDtcbiAgICAgICAgICAgIHRpbGUgPSB0aWxlU291cmNlLmdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgICAgICAgICBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICAgIHdhbnRlZFRpbGVzW3RpbGUuZ2V0S2V5KCldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaWYgKCF0aWxlUXVldWUuaXNLZXlRdWV1ZWQodGlsZS5nZXRLZXkoKSkpIHtcbiAgICAgICAgICAgICAgICB0aWxlUXVldWUuZW5xdWV1ZShbXG4gICAgICAgICAgICAgICAgICB0aWxlLFxuICAgICAgICAgICAgICAgICAgdGlsZVNvdXJjZUtleSxcbiAgICAgICAgICAgICAgICAgIHRpbGVHcmlkLmdldFRpbGVDb29yZENlbnRlcih0aWxlLnRpbGVDb29yZCksXG4gICAgICAgICAgICAgICAgICB0aWxlUmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbGVDYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHRpbGVDYWxsYmFjayh0aWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGlsZVNvdXJjZS51c2VUaWxlKHosIHgsIHksIHByb2plY3Rpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aWxlU291cmNlLnVwZGF0ZUNhY2hlU2l6ZSh0aWxlQ291bnQsIHByb2plY3Rpb24pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1RpbGVMYXllclJlbmRlcmVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvalxuICovXG5pbXBvcnQge1xuICBjb250YWluc0Nvb3JkaW5hdGUsXG4gIGNyZWF0ZUVtcHR5LFxuICBleHRlbmQsXG4gIGZvckVhY2hDb3JuZXIsXG4gIGdldENlbnRlcixcbiAgZ2V0SGVpZ2h0LFxuICBnZXRUb3BMZWZ0LFxuICBnZXRXaWR0aCxcbn0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkQsIHJlbGVhc2VDYW52YXN9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7Z2V0UG9pbnRSZXNvbHV0aW9uLCB0cmFuc2Zvcm19IGZyb20gJy4vcHJvai5qcyc7XG5pbXBvcnQge3NvbHZlTGluZWFyU3lzdGVtfSBmcm9tICcuL21hdGguanMnO1xuXG5sZXQgYnJva2VuRGlhZ29uYWxSZW5kZXJpbmdfO1xuXG4vKipcbiAqIEB0eXBlIHtBcnJheTxIVE1MQ2FudmFzRWxlbWVudD59XG4gKi9cbmV4cG9ydCBjb25zdCBjYW52YXNQb29sID0gW107XG5cbi8qKlxuICogVGhpcyBkcmF3cyBhIHNtYWxsIHRyaWFuZ2xlIGludG8gYSBjYW52YXMgYnkgc2V0dGluZyB0aGUgdHJpYW5nbGUgYXMgdGhlIGNsaXAgcmVnaW9uXG4gKiBhbmQgdGhlbiBkcmF3aW5nIGEgKHRvbyBsYXJnZSkgcmVjdGFuZ2xlXG4gKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBUaGUgY29udGV4dCBpbiB3aGljaCB0byBkcmF3IHRoZSB0cmlhbmdsZVxuICogQHBhcmFtIHtudW1iZXJ9IHUxIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHNlY29uZCBwb2ludC4gVGhlIGZpcnN0IHBvaW50IGlzIDAsMC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2MSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBzZWNvbmQgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdTIgVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgdGhpcmQgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdjIgVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgdGhpcmQgcG9pbnQuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUZXN0VHJpYW5nbGUoY3R4LCB1MSwgdjEsIHUyLCB2Mikge1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5tb3ZlVG8oMCwgMCk7XG4gIGN0eC5saW5lVG8odTEsIHYxKTtcbiAgY3R4LmxpbmVUbyh1MiwgdjIpO1xuICBjdHguY2xvc2VQYXRoKCk7XG4gIGN0eC5zYXZlKCk7XG4gIGN0eC5jbGlwKCk7XG4gIGN0eC5maWxsUmVjdCgwLCAwLCBNYXRoLm1heCh1MSwgdTIpICsgMSwgTWF0aC5tYXgodjEsIHYyKSk7XG4gIGN0eC5yZXN0b3JlKCk7XG59XG5cbi8qKlxuICogR2l2ZW4gdGhlIGRhdGEgZnJvbSBnZXRJbWFnZURhdGEsIHNlZSBpZiB0aGUgcmlnaHQgdmFsdWVzIGFwcGVhciBhdCB0aGUgcHJvdmlkZWQgb2Zmc2V0LlxuICogUmV0dXJucyB0cnVlIGlmIGVpdGhlciB0aGUgY29sb3Igb3IgdHJhbnNwYXJlbmN5IGlzIG9mZlxuICpcbiAqIEBwYXJhbSB7VWludDhDbGFtcGVkQXJyYXl9IGRhdGEgVGhlIGRhdGEgcmV0dXJuZWQgZnJvbSBnZXRJbWFnZURhdGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgVGhlIHBpeGVsIG9mZnNldCBmcm9tIHRoZSBzdGFydCBvZiBkYXRhLlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgZGlhZ29uYWwgcmVuZGVyaW5nIGlzIGJyb2tlblxuICovXG5mdW5jdGlvbiB2ZXJpZnlCcm9rZW5EaWFnb25hbFJlbmRlcmluZyhkYXRhLCBvZmZzZXQpIHtcbiAgLy8gdGhlIHZhbHVlcyBvdWdodCB0byBiZSBjbG9zZSB0byB0aGUgcmdiYSgyMTAsIDAsIDAsIDAuNzUpXG4gIHJldHVybiAoXG4gICAgTWF0aC5hYnMoZGF0YVtvZmZzZXQgKiA0XSAtIDIxMCkgPiAyIHx8XG4gICAgTWF0aC5hYnMoZGF0YVtvZmZzZXQgKiA0ICsgM10gLSAwLjc1ICogMjU1KSA+IDJcbiAgKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBjdXJyZW50IGJyb3dzZXIgY29uZmlndXJhdGlvbiBjYW4gcmVuZGVyIHRyaWFuZ3VsYXIgY2xpcCByZWdpb25zIGNvcnJlY3RseS5cbiAqIFRoaXMgdmFsdWUgaXMgY2FjaGVkIHNvIHRoZSBmdW5jdGlvbiBpcyBvbmx5IGV4cGVuc2l2ZSB0aGUgZmlyc3QgdGltZSBjYWxsZWQuXG4gKiBGaXJlZm94IG9uIFdpbmRvd3MgKGFzIG9mIG5vdykgZG9lcyBub3QgaWYgSFdBIGlzIGVuYWJsZWQuIFNlZSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNjA2OTc2XG4gKiBDaHJvbWUgd29ya3MsIGFuZCBldmVyeXRoaW5nIHNlZW1zIHRvIHdvcmsgb24gT1NYIGFuZCBBbmRyb2lkLiBUaGlzIGZ1bmN0aW9uIGNhY2hlcyB0aGVcbiAqIHJlc3VsdC4gSSBzdXBwb3NlIHRoYXQgaXQgaXMgY29uY2VpdmFibHkgcG9zc2libGUgdGhhdCBhIGJyb3dzZXIgbWlnaHQgZmxpcCBtb2RlcyB3aGlsZSB0aGUgYXBwIGlzXG4gKiBydW5uaW5nLCBidXQgbGV0cyBob3BlIG5vdC5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBEaWFnb25hbCBSZW5kZXJpbmcgaXMgYnJva2VuLlxuICovXG5mdW5jdGlvbiBpc0Jyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKCkge1xuICBpZiAoYnJva2VuRGlhZ29uYWxSZW5kZXJpbmdfID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBjdHggPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoNiwgNiwgY2FudmFzUG9vbCk7XG4gICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdsaWdodGVyJztcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjEwLCAwLCAwLCAwLjc1KSc7XG4gICAgZHJhd1Rlc3RUcmlhbmdsZShjdHgsIDQsIDUsIDQsIDApO1xuICAgIGRyYXdUZXN0VHJpYW5nbGUoY3R4LCA0LCA1LCAwLCA1KTtcbiAgICBjb25zdCBkYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCAzLCAzKS5kYXRhO1xuICAgIGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXyA9XG4gICAgICB2ZXJpZnlCcm9rZW5EaWFnb25hbFJlbmRlcmluZyhkYXRhLCAwKSB8fFxuICAgICAgdmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoZGF0YSwgNCkgfHxcbiAgICAgIHZlcmlmeUJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKGRhdGEsIDgpO1xuICAgIHJlbGVhc2VDYW52YXMoY3R4KTtcbiAgICBjYW52YXNQb29sLnB1c2goY3R4LmNhbnZhcyk7XG4gIH1cblxuICByZXR1cm4gYnJva2VuRGlhZ29uYWxSZW5kZXJpbmdfO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZXMgaWRlYWwgcmVzb2x1dGlvbiB0byB1c2UgZnJvbSB0aGUgc291cmNlIGluIG9yZGVyIHRvIGFjaGlldmVcbiAqIHBpeGVsIG1hcHBpbmcgYXMgY2xvc2UgYXMgcG9zc2libGUgdG8gMToxIGR1cmluZyByZXByb2plY3Rpb24uXG4gKiBUaGUgcmVzb2x1dGlvbiBpcyBjYWxjdWxhdGVkIHJlZ2FyZGxlc3Mgb2Ygd2hhdCByZXNvbHV0aW9uc1xuICogYXJlIGFjdHVhbGx5IGF2YWlsYWJsZSBpbiB0aGUgZGF0YXNldCAoVGlsZUdyaWQsIEltYWdlLCAuLi4pLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlUHJvaiBTb3VyY2UgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gdGFyZ2V0UHJvaiBUYXJnZXQgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHRhcmdldENlbnRlciBUYXJnZXQgY2VudGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldFJlc29sdXRpb24gVGFyZ2V0IHJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBiZXN0IHJlc29sdXRpb24gdG8gdXNlLiBDYW4gYmUgKy1JbmZpbml0eSwgTmFOIG9yIDAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVTb3VyY2VSZXNvbHV0aW9uKFxuICBzb3VyY2VQcm9qLFxuICB0YXJnZXRQcm9qLFxuICB0YXJnZXRDZW50ZXIsXG4gIHRhcmdldFJlc29sdXRpb25cbikge1xuICBjb25zdCBzb3VyY2VDZW50ZXIgPSB0cmFuc2Zvcm0odGFyZ2V0Q2VudGVyLCB0YXJnZXRQcm9qLCBzb3VyY2VQcm9qKTtcblxuICAvLyBjYWxjdWxhdGUgdGhlIGlkZWFsIHJlc29sdXRpb24gb2YgdGhlIHNvdXJjZSBkYXRhXG4gIGxldCBzb3VyY2VSZXNvbHV0aW9uID0gZ2V0UG9pbnRSZXNvbHV0aW9uKFxuICAgIHRhcmdldFByb2osXG4gICAgdGFyZ2V0UmVzb2x1dGlvbixcbiAgICB0YXJnZXRDZW50ZXJcbiAgKTtcblxuICBjb25zdCB0YXJnZXRNZXRlcnNQZXJVbml0ID0gdGFyZ2V0UHJvai5nZXRNZXRlcnNQZXJVbml0KCk7XG4gIGlmICh0YXJnZXRNZXRlcnNQZXJVbml0ICE9PSB1bmRlZmluZWQpIHtcbiAgICBzb3VyY2VSZXNvbHV0aW9uICo9IHRhcmdldE1ldGVyc1BlclVuaXQ7XG4gIH1cbiAgY29uc3Qgc291cmNlTWV0ZXJzUGVyVW5pdCA9IHNvdXJjZVByb2ouZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICBpZiAoc291cmNlTWV0ZXJzUGVyVW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgc291cmNlUmVzb2x1dGlvbiAvPSBzb3VyY2VNZXRlcnNQZXJVbml0O1xuICB9XG5cbiAgLy8gQmFzZWQgb24gdGhlIHByb2plY3Rpb24gcHJvcGVydGllcywgdGhlIHBvaW50IHJlc29sdXRpb24gYXQgdGhlIHNwZWNpZmllZFxuICAvLyBjb29yZGluYXRlcyBtYXkgYmUgc2xpZ2h0bHkgZGlmZmVyZW50LiBXZSBuZWVkIHRvIHJldmVyc2UtY29tcGVuc2F0ZSB0aGlzXG4gIC8vIGluIG9yZGVyIHRvIGFjaGlldmUgb3B0aW1hbCByZXN1bHRzLlxuXG4gIGNvbnN0IHNvdXJjZUV4dGVudCA9IHNvdXJjZVByb2ouZ2V0RXh0ZW50KCk7XG4gIGlmICghc291cmNlRXh0ZW50IHx8IGNvbnRhaW5zQ29vcmRpbmF0ZShzb3VyY2VFeHRlbnQsIHNvdXJjZUNlbnRlcikpIHtcbiAgICBjb25zdCBjb21wZW5zYXRpb25GYWN0b3IgPVxuICAgICAgZ2V0UG9pbnRSZXNvbHV0aW9uKHNvdXJjZVByb2osIHNvdXJjZVJlc29sdXRpb24sIHNvdXJjZUNlbnRlcikgL1xuICAgICAgc291cmNlUmVzb2x1dGlvbjtcbiAgICBpZiAoaXNGaW5pdGUoY29tcGVuc2F0aW9uRmFjdG9yKSAmJiBjb21wZW5zYXRpb25GYWN0b3IgPiAwKSB7XG4gICAgICBzb3VyY2VSZXNvbHV0aW9uIC89IGNvbXBlbnNhdGlvbkZhY3RvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc291cmNlUmVzb2x1dGlvbjtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIGlkZWFsIHJlc29sdXRpb24gdG8gdXNlIGZyb20gdGhlIHNvdXJjZSBpbiBvcmRlciB0byBhY2hpZXZlXG4gKiBwaXhlbCBtYXBwaW5nIGFzIGNsb3NlIGFzIHBvc3NpYmxlIHRvIDE6MSBkdXJpbmcgcmVwcm9qZWN0aW9uLlxuICogVGhlIHJlc29sdXRpb24gaXMgY2FsY3VsYXRlZCByZWdhcmRsZXNzIG9mIHdoYXQgcmVzb2x1dGlvbnNcbiAqIGFyZSBhY3R1YWxseSBhdmFpbGFibGUgaW4gdGhlIGRhdGFzZXQgKFRpbGVHcmlkLCBJbWFnZSwgLi4uKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVByb2ogU291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHRhcmdldFByb2ogVGFyZ2V0IHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gdGFyZ2V0RXh0ZW50IFRhcmdldCBleHRlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRSZXNvbHV0aW9uIFRhcmdldCByZXNvbHV0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgYmVzdCByZXNvbHV0aW9uIHRvIHVzZS4gQ2FuIGJlICstSW5maW5pdHksIE5hTiBvciAwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlU291cmNlRXh0ZW50UmVzb2x1dGlvbihcbiAgc291cmNlUHJvaixcbiAgdGFyZ2V0UHJvaixcbiAgdGFyZ2V0RXh0ZW50LFxuICB0YXJnZXRSZXNvbHV0aW9uXG4pIHtcbiAgY29uc3QgdGFyZ2V0Q2VudGVyID0gZ2V0Q2VudGVyKHRhcmdldEV4dGVudCk7XG4gIGxldCBzb3VyY2VSZXNvbHV0aW9uID0gY2FsY3VsYXRlU291cmNlUmVzb2x1dGlvbihcbiAgICBzb3VyY2VQcm9qLFxuICAgIHRhcmdldFByb2osXG4gICAgdGFyZ2V0Q2VudGVyLFxuICAgIHRhcmdldFJlc29sdXRpb25cbiAgKTtcblxuICBpZiAoIWlzRmluaXRlKHNvdXJjZVJlc29sdXRpb24pIHx8IHNvdXJjZVJlc29sdXRpb24gPD0gMCkge1xuICAgIGZvckVhY2hDb3JuZXIodGFyZ2V0RXh0ZW50LCBmdW5jdGlvbiAoY29ybmVyKSB7XG4gICAgICBzb3VyY2VSZXNvbHV0aW9uID0gY2FsY3VsYXRlU291cmNlUmVzb2x1dGlvbihcbiAgICAgICAgc291cmNlUHJvaixcbiAgICAgICAgdGFyZ2V0UHJvaixcbiAgICAgICAgY29ybmVyLFxuICAgICAgICB0YXJnZXRSZXNvbHV0aW9uXG4gICAgICApO1xuICAgICAgcmV0dXJuIGlzRmluaXRlKHNvdXJjZVJlc29sdXRpb24pICYmIHNvdXJjZVJlc29sdXRpb24gPiAwO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHNvdXJjZVJlc29sdXRpb247XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gSW1hZ2VFeHRlbnRcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHByb3BlcnR5IHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICovXG5cbi8qKlxuICogUmVuZGVycyB0aGUgc291cmNlIGRhdGEgaW50byBuZXcgY2FudmFzIGJhc2VkIG9uIHRoZSB0cmlhbmd1bGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgY2FudmFzLlxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgdGhlIGNhbnZhcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICogQHBhcmFtIHtudW1iZXJ9IHNvdXJjZVJlc29sdXRpb24gU291cmNlIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gc291cmNlRXh0ZW50IEV4dGVudCBvZiB0aGUgZGF0YSBzb3VyY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0UmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSB0YXJnZXRFeHRlbnQgVGFyZ2V0IGV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9yZXByb2ovVHJpYW5ndWxhdGlvbi5qc1wiKS5kZWZhdWx0fSB0cmlhbmd1bGF0aW9uIENhbGN1bGF0ZWQgdHJpYW5ndWxhdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8SW1hZ2VFeHRlbnQ+fSBzb3VyY2VzIEFycmF5IG9mIHNvdXJjZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gZ3V0dGVyIEd1dHRlciBvZiB0aGUgc291cmNlcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbmRlckVkZ2VzXSBSZW5kZXIgcmVwcm9qZWN0aW9uIGVkZ2VzLlxuICogQHBhcmFtIHtib29sZWFufSBbaW50ZXJwb2xhdGVdIFVzZSBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aGVuIHJlc2FtcGxpbmcuXG4gKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQ2FudmFzIHdpdGggcmVwcm9qZWN0ZWQgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihcbiAgd2lkdGgsXG4gIGhlaWdodCxcbiAgcGl4ZWxSYXRpbyxcbiAgc291cmNlUmVzb2x1dGlvbixcbiAgc291cmNlRXh0ZW50LFxuICB0YXJnZXRSZXNvbHV0aW9uLFxuICB0YXJnZXRFeHRlbnQsXG4gIHRyaWFuZ3VsYXRpb24sXG4gIHNvdXJjZXMsXG4gIGd1dHRlcixcbiAgcmVuZGVyRWRnZXMsXG4gIGludGVycG9sYXRlXG4pIHtcbiAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChcbiAgICBNYXRoLnJvdW5kKHBpeGVsUmF0aW8gKiB3aWR0aCksXG4gICAgTWF0aC5yb3VuZChwaXhlbFJhdGlvICogaGVpZ2h0KSxcbiAgICBjYW52YXNQb29sXG4gICk7XG5cbiAgaWYgKCFpbnRlcnBvbGF0ZSkge1xuICAgIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gIH1cblxuICBpZiAoc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gY29udGV4dC5jYW52YXM7XG4gIH1cblxuICBjb250ZXh0LnNjYWxlKHBpeGVsUmF0aW8sIHBpeGVsUmF0aW8pO1xuXG4gIGZ1bmN0aW9uIHBpeGVsUm91bmQodmFsdWUpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIHBpeGVsUmF0aW8pIC8gcGl4ZWxSYXRpbztcbiAgfVxuXG4gIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInO1xuXG4gIGNvbnN0IHNvdXJjZURhdGFFeHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNyYywgaSwgYXJyKSB7XG4gICAgZXh0ZW5kKHNvdXJjZURhdGFFeHRlbnQsIHNyYy5leHRlbnQpO1xuICB9KTtcblxuICBjb25zdCBjYW52YXNXaWR0aEluVW5pdHMgPSBnZXRXaWR0aChzb3VyY2VEYXRhRXh0ZW50KTtcbiAgY29uc3QgY2FudmFzSGVpZ2h0SW5Vbml0cyA9IGdldEhlaWdodChzb3VyY2VEYXRhRXh0ZW50KTtcbiAgY29uc3Qgc3RpdGNoQ29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChcbiAgICBNYXRoLnJvdW5kKChwaXhlbFJhdGlvICogY2FudmFzV2lkdGhJblVuaXRzKSAvIHNvdXJjZVJlc29sdXRpb24pLFxuICAgIE1hdGgucm91bmQoKHBpeGVsUmF0aW8gKiBjYW52YXNIZWlnaHRJblVuaXRzKSAvIHNvdXJjZVJlc29sdXRpb24pLFxuICAgIGNhbnZhc1Bvb2xcbiAgKTtcblxuICBpZiAoIWludGVycG9sYXRlKSB7XG4gICAgc3RpdGNoQ29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHN0aXRjaFNjYWxlID0gcGl4ZWxSYXRpbyAvIHNvdXJjZVJlc29sdXRpb247XG5cbiAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzcmMsIGksIGFycikge1xuICAgIGNvbnN0IHhQb3MgPSBzcmMuZXh0ZW50WzBdIC0gc291cmNlRGF0YUV4dGVudFswXTtcbiAgICBjb25zdCB5UG9zID0gLShzcmMuZXh0ZW50WzNdIC0gc291cmNlRGF0YUV4dGVudFszXSk7XG4gICAgY29uc3Qgc3JjV2lkdGggPSBnZXRXaWR0aChzcmMuZXh0ZW50KTtcbiAgICBjb25zdCBzcmNIZWlnaHQgPSBnZXRIZWlnaHQoc3JjLmV4dGVudCk7XG5cbiAgICAvLyBUaGlzIHRlc3Qgc2hvdWxkIG5ldmVyIGZhaWwgLS0gYnV0IGl0IGRvZXMuIE5lZWQgdG8gZmluZCBhIGZpeCB0aGUgdXBzdHJlYW0gY29uZGl0aW9uXG4gICAgaWYgKHNyYy5pbWFnZS53aWR0aCA+IDAgJiYgc3JjLmltYWdlLmhlaWdodCA+IDApIHtcbiAgICAgIHN0aXRjaENvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICBzcmMuaW1hZ2UsXG4gICAgICAgIGd1dHRlcixcbiAgICAgICAgZ3V0dGVyLFxuICAgICAgICBzcmMuaW1hZ2Uud2lkdGggLSAyICogZ3V0dGVyLFxuICAgICAgICBzcmMuaW1hZ2UuaGVpZ2h0IC0gMiAqIGd1dHRlcixcbiAgICAgICAgeFBvcyAqIHN0aXRjaFNjYWxlLFxuICAgICAgICB5UG9zICogc3RpdGNoU2NhbGUsXG4gICAgICAgIHNyY1dpZHRoICogc3RpdGNoU2NhbGUsXG4gICAgICAgIHNyY0hlaWdodCAqIHN0aXRjaFNjYWxlXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgdGFyZ2V0VG9wTGVmdCA9IGdldFRvcExlZnQodGFyZ2V0RXh0ZW50KTtcblxuICB0cmlhbmd1bGF0aW9uLmdldFRyaWFuZ2xlcygpLmZvckVhY2goZnVuY3Rpb24gKHRyaWFuZ2xlLCBpLCBhcnIpIHtcbiAgICAvKiBDYWxjdWxhdGUgYWZmaW5lIHRyYW5zZm9ybSAoc3JjIC0+IGRzdClcbiAgICAgKiBSZXN1bHRpbmcgbWF0cml4IGNhbiBiZSB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZGluYXRlXG4gICAgICogZnJvbSBgc291cmNlUHJvamVjdGlvbmAgdG8gZGVzdGluYXRpb24gcGl4ZWxzLlxuICAgICAqXG4gICAgICogVG8gb3B0aW1pemUgbnVtYmVyIG9mIGNvbnRleHQgY2FsbHMgYW5kIGluY3JlYXNlIG51bWVyaWNhbCBzdGFiaWxpdHksXG4gICAgICogd2UgYWxzbyBkbyB0aGUgZm9sbG93aW5nIG9wZXJhdGlvbnM6XG4gICAgICogdHJhbnMoLXRvcExlZnRFeHRlbnRDb3JuZXIpLCBzY2FsZSgxIC8gdGFyZ2V0UmVzb2x1dGlvbiksIHNjYWxlKDEsIC0xKVxuICAgICAqIGhlcmUgYmVmb3JlIHNvbHZpbmcgdGhlIGxpbmVhciBzeXN0ZW0gc28gW3VpLCB2aV0gYXJlIHBpeGVsIGNvb3JkaW5hdGVzLlxuICAgICAqXG4gICAgICogU3JjIHBvaW50czogeGksIHlpXG4gICAgICogRHN0IHBvaW50czogdWksIHZpXG4gICAgICogQWZmaW5lIGNvZWZmaWNpZW50czogYWlqXG4gICAgICpcbiAgICAgKiB8IHgwIHkwIDEgIDAgIDAgMCB8ICAgfGEwMHwgICB8dTB8XG4gICAgICogfCB4MSB5MSAxICAwICAwIDAgfCAgIHxhMDF8ICAgfHUxfFxuICAgICAqIHwgeDIgeTIgMSAgMCAgMCAwIHwgeCB8YTAyfCA9IHx1MnxcbiAgICAgKiB8ICAwICAwIDAgeDAgeTAgMSB8ICAgfGExMHwgICB8djB8XG4gICAgICogfCAgMCAgMCAwIHgxIHkxIDEgfCAgIHxhMTF8ICAgfHYxfFxuICAgICAqIHwgIDAgIDAgMCB4MiB5MiAxIHwgICB8YTEyfCAgIHx2MnxcbiAgICAgKi9cbiAgICBjb25zdCBzb3VyY2UgPSB0cmlhbmdsZS5zb3VyY2U7XG4gICAgY29uc3QgdGFyZ2V0ID0gdHJpYW5nbGUudGFyZ2V0O1xuICAgIGxldCB4MCA9IHNvdXJjZVswXVswXSxcbiAgICAgIHkwID0gc291cmNlWzBdWzFdO1xuICAgIGxldCB4MSA9IHNvdXJjZVsxXVswXSxcbiAgICAgIHkxID0gc291cmNlWzFdWzFdO1xuICAgIGxldCB4MiA9IHNvdXJjZVsyXVswXSxcbiAgICAgIHkyID0gc291cmNlWzJdWzFdO1xuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGV2ZXJ5dGhpbmcgaXMgb24gcGl4ZWwgYm91bmRhcmllc1xuICAgIGNvbnN0IHUwID0gcGl4ZWxSb3VuZCgodGFyZ2V0WzBdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICBjb25zdCB2MCA9IHBpeGVsUm91bmQoXG4gICAgICAtKHRhcmdldFswXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvblxuICAgICk7XG4gICAgY29uc3QgdTEgPSBwaXhlbFJvdW5kKCh0YXJnZXRbMV1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb24pO1xuICAgIGNvbnN0IHYxID0gcGl4ZWxSb3VuZChcbiAgICAgIC0odGFyZ2V0WzFdWzFdIC0gdGFyZ2V0VG9wTGVmdFsxXSkgLyB0YXJnZXRSZXNvbHV0aW9uXG4gICAgKTtcbiAgICBjb25zdCB1MiA9IHBpeGVsUm91bmQoKHRhcmdldFsyXVswXSAtIHRhcmdldFRvcExlZnRbMF0pIC8gdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgY29uc3QgdjIgPSBwaXhlbFJvdW5kKFxuICAgICAgLSh0YXJnZXRbMl1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb25cbiAgICApO1xuXG4gICAgLy8gU2hpZnQgYWxsIHRoZSBzb3VyY2UgcG9pbnRzIHRvIGltcHJvdmUgbnVtZXJpY2FsIHN0YWJpbGl0eVxuICAgIC8vIG9mIGFsbCB0aGUgc3Vic2VxdWVudCBjYWxjdWxhdGlvbnMuIFRoZSBbeDAsIHkwXSBpcyB1c2VkIGhlcmUuXG4gICAgLy8gVGhpcyBpcyBhbHNvIHVzZWQgdG8gc2ltcGxpZnkgdGhlIGxpbmVhciBzeXN0ZW0uXG4gICAgY29uc3Qgc291cmNlTnVtZXJpY2FsU2hpZnRYID0geDA7XG4gICAgY29uc3Qgc291cmNlTnVtZXJpY2FsU2hpZnRZID0geTA7XG4gICAgeDAgPSAwO1xuICAgIHkwID0gMDtcbiAgICB4MSAtPSBzb3VyY2VOdW1lcmljYWxTaGlmdFg7XG4gICAgeTEgLT0gc291cmNlTnVtZXJpY2FsU2hpZnRZO1xuICAgIHgyIC09IHNvdXJjZU51bWVyaWNhbFNoaWZ0WDtcbiAgICB5MiAtPSBzb3VyY2VOdW1lcmljYWxTaGlmdFk7XG5cbiAgICBjb25zdCBhdWdtZW50ZWRNYXRyaXggPSBbXG4gICAgICBbeDEsIHkxLCAwLCAwLCB1MSAtIHUwXSxcbiAgICAgIFt4MiwgeTIsIDAsIDAsIHUyIC0gdTBdLFxuICAgICAgWzAsIDAsIHgxLCB5MSwgdjEgLSB2MF0sXG4gICAgICBbMCwgMCwgeDIsIHkyLCB2MiAtIHYwXSxcbiAgICBdO1xuICAgIGNvbnN0IGFmZmluZUNvZWZzID0gc29sdmVMaW5lYXJTeXN0ZW0oYXVnbWVudGVkTWF0cml4KTtcbiAgICBpZiAoIWFmZmluZUNvZWZzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgIGlmIChpc0Jyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKCkgfHwgIWludGVycG9sYXRlKSB7XG4gICAgICAvLyBNYWtlIHN1cmUgdGhhdCBhbGwgbGluZXMgYXJlIGhvcml6b250YWwgb3IgdmVydGljYWxcbiAgICAgIGNvbnRleHQubW92ZVRvKHUxLCB2MSk7XG4gICAgICAvLyBUaGlzIGlzIHRoZSBkaWFnb25hbCBsaW5lLiBEbyBpdCBpbiA0IHN0ZXBzXG4gICAgICBjb25zdCBzdGVwcyA9IDQ7XG4gICAgICBjb25zdCB1ZCA9IHUwIC0gdTE7XG4gICAgICBjb25zdCB2ZCA9IHYwIC0gdjE7XG4gICAgICBmb3IgKGxldCBzdGVwID0gMDsgc3RlcCA8IHN0ZXBzOyBzdGVwKyspIHtcbiAgICAgICAgLy8gR28gaG9yaXpvbnRhbGx5XG4gICAgICAgIGNvbnRleHQubGluZVRvKFxuICAgICAgICAgIHUxICsgcGl4ZWxSb3VuZCgoKHN0ZXAgKyAxKSAqIHVkKSAvIHN0ZXBzKSxcbiAgICAgICAgICB2MSArIHBpeGVsUm91bmQoKHN0ZXAgKiB2ZCkgLyAoc3RlcHMgLSAxKSlcbiAgICAgICAgKTtcbiAgICAgICAgLy8gR28gdmVydGljYWxseVxuICAgICAgICBpZiAoc3RlcCAhPSBzdGVwcyAtIDEpIHtcbiAgICAgICAgICBjb250ZXh0LmxpbmVUbyhcbiAgICAgICAgICAgIHUxICsgcGl4ZWxSb3VuZCgoKHN0ZXAgKyAxKSAqIHVkKSAvIHN0ZXBzKSxcbiAgICAgICAgICAgIHYxICsgcGl4ZWxSb3VuZCgoKHN0ZXAgKyAxKSAqIHZkKSAvIChzdGVwcyAtIDEpKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFdlIGFyZSBhbG1vc3QgYXQgdTByLCB2MHJcbiAgICAgIGNvbnRleHQubGluZVRvKHUyLCB2Mik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQubW92ZVRvKHUxLCB2MSk7XG4gICAgICBjb250ZXh0LmxpbmVUbyh1MCwgdjApO1xuICAgICAgY29udGV4dC5saW5lVG8odTIsIHYyKTtcbiAgICB9XG5cbiAgICBjb250ZXh0LmNsaXAoKTtcblxuICAgIGNvbnRleHQudHJhbnNmb3JtKFxuICAgICAgYWZmaW5lQ29lZnNbMF0sXG4gICAgICBhZmZpbmVDb2Vmc1syXSxcbiAgICAgIGFmZmluZUNvZWZzWzFdLFxuICAgICAgYWZmaW5lQ29lZnNbM10sXG4gICAgICB1MCxcbiAgICAgIHYwXG4gICAgKTtcblxuICAgIGNvbnRleHQudHJhbnNsYXRlKFxuICAgICAgc291cmNlRGF0YUV4dGVudFswXSAtIHNvdXJjZU51bWVyaWNhbFNoaWZ0WCxcbiAgICAgIHNvdXJjZURhdGFFeHRlbnRbM10gLSBzb3VyY2VOdW1lcmljYWxTaGlmdFlcbiAgICApO1xuXG4gICAgY29udGV4dC5zY2FsZShcbiAgICAgIHNvdXJjZVJlc29sdXRpb24gLyBwaXhlbFJhdGlvLFxuICAgICAgLXNvdXJjZVJlc29sdXRpb24gLyBwaXhlbFJhdGlvXG4gICAgKTtcblxuICAgIGNvbnRleHQuZHJhd0ltYWdlKHN0aXRjaENvbnRleHQuY2FudmFzLCAwLCAwKTtcbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgfSk7XG5cbiAgcmVsZWFzZUNhbnZhcyhzdGl0Y2hDb250ZXh0KTtcbiAgY2FudmFzUG9vbC5wdXNoKHN0aXRjaENvbnRleHQuY2FudmFzKTtcblxuICBpZiAocmVuZGVyRWRnZXMpIHtcbiAgICBjb250ZXh0LnNhdmUoKTtcblxuICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcbiAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7XG5cbiAgICB0cmlhbmd1bGF0aW9uLmdldFRyaWFuZ2xlcygpLmZvckVhY2goZnVuY3Rpb24gKHRyaWFuZ2xlLCBpLCBhcnIpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRyaWFuZ2xlLnRhcmdldDtcbiAgICAgIGNvbnN0IHUwID0gKHRhcmdldFswXVswXSAtIHRhcmdldFRvcExlZnRbMF0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgIGNvbnN0IHYwID0gLSh0YXJnZXRbMF1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICBjb25zdCB1MSA9ICh0YXJnZXRbMV1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICBjb25zdCB2MSA9IC0odGFyZ2V0WzFdWzFdIC0gdGFyZ2V0VG9wTGVmdFsxXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgY29uc3QgdTIgPSAodGFyZ2V0WzJdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgY29uc3QgdjIgPSAtKHRhcmdldFsyXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcblxuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIGNvbnRleHQubW92ZVRvKHUxLCB2MSk7XG4gICAgICBjb250ZXh0LmxpbmVUbyh1MCwgdjApO1xuICAgICAgY29udGV4dC5saW5lVG8odTIsIHYyKTtcbiAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgIH0pO1xuXG4gICAgY29udGV4dC5yZXN0b3JlKCk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQuY2FudmFzO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvai9UaWxlXG4gKi9cbmltcG9ydCB7RVJST1JfVEhSRVNIT0xEfSBmcm9tICcuL2NvbW1vbi5qcyc7XG5cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGlsZSBmcm9tICcuLi9UaWxlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCBUcmlhbmd1bGF0aW9uIGZyb20gJy4vVHJpYW5ndWxhdGlvbi5qcyc7XG5pbXBvcnQge1xuICBjYWxjdWxhdGVTb3VyY2VFeHRlbnRSZXNvbHV0aW9uLFxuICBjYW52YXNQb29sLFxuICByZW5kZXIgYXMgcmVuZGVyUmVwcm9qZWN0ZWQsXG59IGZyb20gJy4uL3JlcHJvai5qcyc7XG5pbXBvcnQge2NsYW1wfSBmcm9tICcuLi9tYXRoLmpzJztcbmltcG9ydCB7Z2V0QXJlYSwgZ2V0SW50ZXJzZWN0aW9ufSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXl9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQge3JlbGVhc2VDYW52YXN9IGZyb20gJy4uL2RvbS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcikgOiAoaW1wb3J0KFwiLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHQpfSBGdW5jdGlvblR5cGVcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENsYXNzIGVuY2Fwc3VsYXRpbmcgc2luZ2xlIHJlcHJvamVjdGVkIHRpbGUuXG4gKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZUltYWdlflRpbGVJbWFnZX0uXG4gKlxuICovXG5jbGFzcyBSZXByb2pUaWxlIGV4dGVuZHMgVGlsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2VQcm9qIFNvdXJjZSBwcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVRpbGVHcmlkIFNvdXJjZSB0aWxlIGdyaWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHRhcmdldFByb2ogVGFyZ2V0IHByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGFyZ2V0VGlsZUdyaWQgVGFyZ2V0IHRpbGUgZ3JpZC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgQ29vcmRpbmF0ZSBvZiB0aGUgdGlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB3cmFwcGVkVGlsZUNvb3JkIENvb3JkaW5hdGUgb2YgdGhlIHRpbGUgd3JhcHBlZCBpbiBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGd1dHRlciBHdXR0ZXIgb2YgdGhlIHNvdXJjZSB0aWxlcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvblR5cGV9IGdldFRpbGVGdW5jdGlvblxuICAgKiAgICAgRnVuY3Rpb24gcmV0dXJuaW5nIHNvdXJjZSB0aWxlcyAoeiwgeCwgeSwgcGl4ZWxSYXRpbykuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZXJyb3JUaHJlc2hvbGRdIEFjY2VwdGFibGUgcmVwcm9qZWN0aW9uIGVycm9yIChpbiBweCkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbmRlckVkZ2VzXSBSZW5kZXIgcmVwcm9qZWN0aW9uIGVkZ2VzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnRlcnBvbGF0ZV0gVXNlIGxpbmVhciBpbnRlcnBvbGF0aW9uIHdoZW4gcmVzYW1wbGluZy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNvdXJjZVByb2osXG4gICAgc291cmNlVGlsZUdyaWQsXG4gICAgdGFyZ2V0UHJvaixcbiAgICB0YXJnZXRUaWxlR3JpZCxcbiAgICB0aWxlQ29vcmQsXG4gICAgd3JhcHBlZFRpbGVDb29yZCxcbiAgICBwaXhlbFJhdGlvLFxuICAgIGd1dHRlcixcbiAgICBnZXRUaWxlRnVuY3Rpb24sXG4gICAgZXJyb3JUaHJlc2hvbGQsXG4gICAgcmVuZGVyRWRnZXMsXG4gICAgaW50ZXJwb2xhdGVcbiAgKSB7XG4gICAgc3VwZXIodGlsZUNvb3JkLCBUaWxlU3RhdGUuSURMRSwge2ludGVycG9sYXRlOiAhIWludGVycG9sYXRlfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyRWRnZXNfID0gcmVuZGVyRWRnZXMgIT09IHVuZGVmaW5lZCA/IHJlbmRlckVkZ2VzIDogZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5ndXR0ZXJfID0gZ3V0dGVyO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5jYW52YXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5zb3VyY2VUaWxlR3JpZF8gPSBzb3VyY2VUaWxlR3JpZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy50YXJnZXRUaWxlR3JpZF8gPSB0YXJnZXRUaWxlR3JpZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9XG4gICAgICovXG4gICAgdGhpcy53cmFwcGVkVGlsZUNvb3JkXyA9IHdyYXBwZWRUaWxlQ29vcmQgPyB3cmFwcGVkVGlsZUNvb3JkIDogdGlsZUNvb3JkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IUFycmF5PGltcG9ydChcIi4uL0ltYWdlVGlsZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZVRpbGVzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P0FycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlWl8gPSAwO1xuXG4gICAgY29uc3QgdGFyZ2V0RXh0ZW50ID0gdGFyZ2V0VGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KFxuICAgICAgdGhpcy53cmFwcGVkVGlsZUNvb3JkX1xuICAgICk7XG4gICAgY29uc3QgbWF4VGFyZ2V0RXh0ZW50ID0gdGhpcy50YXJnZXRUaWxlR3JpZF8uZ2V0RXh0ZW50KCk7XG4gICAgbGV0IG1heFNvdXJjZUV4dGVudCA9IHRoaXMuc291cmNlVGlsZUdyaWRfLmdldEV4dGVudCgpO1xuXG4gICAgY29uc3QgbGltaXRlZFRhcmdldEV4dGVudCA9IG1heFRhcmdldEV4dGVudFxuICAgICAgPyBnZXRJbnRlcnNlY3Rpb24odGFyZ2V0RXh0ZW50LCBtYXhUYXJnZXRFeHRlbnQpXG4gICAgICA6IHRhcmdldEV4dGVudDtcblxuICAgIGlmIChnZXRBcmVhKGxpbWl0ZWRUYXJnZXRFeHRlbnQpID09PSAwKSB7XG4gICAgICAvLyBUaWxlIGlzIGNvbXBsZXRlbHkgb3V0c2lkZSByYW5nZSAtPiBFTVBUWVxuICAgICAgLy8gVE9ETzogaXMgaXQgYWN0dWFsbHkgY29ycmVjdCB0aGF0IHRoZSBzb3VyY2UgZXZlbiBjcmVhdGVzIHRoZSB0aWxlID9cbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRU1QVFk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc291cmNlUHJvakV4dGVudCA9IHNvdXJjZVByb2ouZ2V0RXh0ZW50KCk7XG4gICAgaWYgKHNvdXJjZVByb2pFeHRlbnQpIHtcbiAgICAgIGlmICghbWF4U291cmNlRXh0ZW50KSB7XG4gICAgICAgIG1heFNvdXJjZUV4dGVudCA9IHNvdXJjZVByb2pFeHRlbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXhTb3VyY2VFeHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24obWF4U291cmNlRXh0ZW50LCBzb3VyY2VQcm9qRXh0ZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXRSZXNvbHV0aW9uID0gdGFyZ2V0VGlsZUdyaWQuZ2V0UmVzb2x1dGlvbihcbiAgICAgIHRoaXMud3JhcHBlZFRpbGVDb29yZF9bMF1cbiAgICApO1xuXG4gICAgY29uc3Qgc291cmNlUmVzb2x1dGlvbiA9IGNhbGN1bGF0ZVNvdXJjZUV4dGVudFJlc29sdXRpb24oXG4gICAgICBzb3VyY2VQcm9qLFxuICAgICAgdGFyZ2V0UHJvaixcbiAgICAgIGxpbWl0ZWRUYXJnZXRFeHRlbnQsXG4gICAgICB0YXJnZXRSZXNvbHV0aW9uXG4gICAgKTtcblxuICAgIGlmICghaXNGaW5pdGUoc291cmNlUmVzb2x1dGlvbikgfHwgc291cmNlUmVzb2x1dGlvbiA8PSAwKSB7XG4gICAgICAvLyBpbnZhbGlkIHNvdXJjZVJlc29sdXRpb24gLT4gRU1QVFlcbiAgICAgIC8vIHByb2JhYmx5IGVkZ2VzIG9mIHRoZSBwcm9qZWN0aW9ucyB3aGVuIG5vIGV4dGVudCBpcyBkZWZpbmVkXG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9yVGhyZXNob2xkSW5QaXhlbHMgPVxuICAgICAgZXJyb3JUaHJlc2hvbGQgIT09IHVuZGVmaW5lZCA/IGVycm9yVGhyZXNob2xkIDogRVJST1JfVEhSRVNIT0xEO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IWltcG9ydChcIi4vVHJpYW5ndWxhdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMudHJpYW5ndWxhdGlvbl8gPSBuZXcgVHJpYW5ndWxhdGlvbihcbiAgICAgIHNvdXJjZVByb2osXG4gICAgICB0YXJnZXRQcm9qLFxuICAgICAgbGltaXRlZFRhcmdldEV4dGVudCxcbiAgICAgIG1heFNvdXJjZUV4dGVudCxcbiAgICAgIHNvdXJjZVJlc29sdXRpb24gKiBlcnJvclRocmVzaG9sZEluUGl4ZWxzLFxuICAgICAgdGFyZ2V0UmVzb2x1dGlvblxuICAgICk7XG5cbiAgICBpZiAodGhpcy50cmlhbmd1bGF0aW9uXy5nZXRUcmlhbmdsZXMoKS5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIG5vIHZhbGlkIHRyaWFuZ2xlcyAtPiBFTVBUWVxuICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNvdXJjZVpfID0gc291cmNlVGlsZUdyaWQuZ2V0WkZvclJlc29sdXRpb24oc291cmNlUmVzb2x1dGlvbik7XG4gICAgbGV0IHNvdXJjZUV4dGVudCA9IHRoaXMudHJpYW5ndWxhdGlvbl8uY2FsY3VsYXRlU291cmNlRXh0ZW50KCk7XG5cbiAgICBpZiAobWF4U291cmNlRXh0ZW50KSB7XG4gICAgICBpZiAoc291cmNlUHJvai5jYW5XcmFwWCgpKSB7XG4gICAgICAgIHNvdXJjZUV4dGVudFsxXSA9IGNsYW1wKFxuICAgICAgICAgIHNvdXJjZUV4dGVudFsxXSxcbiAgICAgICAgICBtYXhTb3VyY2VFeHRlbnRbMV0sXG4gICAgICAgICAgbWF4U291cmNlRXh0ZW50WzNdXG4gICAgICAgICk7XG4gICAgICAgIHNvdXJjZUV4dGVudFszXSA9IGNsYW1wKFxuICAgICAgICAgIHNvdXJjZUV4dGVudFszXSxcbiAgICAgICAgICBtYXhTb3VyY2VFeHRlbnRbMV0sXG4gICAgICAgICAgbWF4U291cmNlRXh0ZW50WzNdXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VyY2VFeHRlbnQgPSBnZXRJbnRlcnNlY3Rpb24oc291cmNlRXh0ZW50LCBtYXhTb3VyY2VFeHRlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZ2V0QXJlYShzb3VyY2VFeHRlbnQpKSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzb3VyY2VSYW5nZSA9IHNvdXJjZVRpbGVHcmlkLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooXG4gICAgICAgIHNvdXJjZUV4dGVudCxcbiAgICAgICAgdGhpcy5zb3VyY2VaX1xuICAgICAgKTtcblxuICAgICAgZm9yIChsZXQgc3JjWCA9IHNvdXJjZVJhbmdlLm1pblg7IHNyY1ggPD0gc291cmNlUmFuZ2UubWF4WDsgc3JjWCsrKSB7XG4gICAgICAgIGZvciAobGV0IHNyY1kgPSBzb3VyY2VSYW5nZS5taW5ZOyBzcmNZIDw9IHNvdXJjZVJhbmdlLm1heFk7IHNyY1krKykge1xuICAgICAgICAgIGNvbnN0IHRpbGUgPSBnZXRUaWxlRnVuY3Rpb24odGhpcy5zb3VyY2VaXywgc3JjWCwgc3JjWSwgcGl4ZWxSYXRpbyk7XG4gICAgICAgICAgaWYgKHRpbGUpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlVGlsZXNfLnB1c2godGlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNvdXJjZVRpbGVzXy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBIVE1MIENhbnZhcyBlbGVtZW50IGZvciB0aGlzIHRpbGUuXG4gICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBDYW52YXMuXG4gICAqL1xuICBnZXRJbWFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jYW52YXNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXByb2plY3RfKCkge1xuICAgIGNvbnN0IHNvdXJjZXMgPSBbXTtcbiAgICB0aGlzLnNvdXJjZVRpbGVzXy5mb3JFYWNoKCh0aWxlKSA9PiB7XG4gICAgICBpZiAodGlsZSAmJiB0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICBzb3VyY2VzLnB1c2goe1xuICAgICAgICAgIGV4dGVudDogdGhpcy5zb3VyY2VUaWxlR3JpZF8uZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGUudGlsZUNvb3JkKSxcbiAgICAgICAgICBpbWFnZTogdGlsZS5nZXRJbWFnZSgpLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnNvdXJjZVRpbGVzXy5sZW5ndGggPSAwO1xuXG4gICAgaWYgKHNvdXJjZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVSUk9SO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB6ID0gdGhpcy53cmFwcGVkVGlsZUNvb3JkX1swXTtcbiAgICAgIGNvbnN0IHNpemUgPSB0aGlzLnRhcmdldFRpbGVHcmlkXy5nZXRUaWxlU2l6ZSh6KTtcbiAgICAgIGNvbnN0IHdpZHRoID0gdHlwZW9mIHNpemUgPT09ICdudW1iZXInID8gc2l6ZSA6IHNpemVbMF07XG4gICAgICBjb25zdCBoZWlnaHQgPSB0eXBlb2Ygc2l6ZSA9PT0gJ251bWJlcicgPyBzaXplIDogc2l6ZVsxXTtcbiAgICAgIGNvbnN0IHRhcmdldFJlc29sdXRpb24gPSB0aGlzLnRhcmdldFRpbGVHcmlkXy5nZXRSZXNvbHV0aW9uKHopO1xuICAgICAgY29uc3Qgc291cmNlUmVzb2x1dGlvbiA9IHRoaXMuc291cmNlVGlsZUdyaWRfLmdldFJlc29sdXRpb24oXG4gICAgICAgIHRoaXMuc291cmNlWl9cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHRhcmdldEV4dGVudCA9IHRoaXMudGFyZ2V0VGlsZUdyaWRfLmdldFRpbGVDb29yZEV4dGVudChcbiAgICAgICAgdGhpcy53cmFwcGVkVGlsZUNvb3JkX1xuICAgICAgKTtcblxuICAgICAgdGhpcy5jYW52YXNfID0gcmVuZGVyUmVwcm9qZWN0ZWQoXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIHRoaXMucGl4ZWxSYXRpb18sXG4gICAgICAgIHNvdXJjZVJlc29sdXRpb24sXG4gICAgICAgIHRoaXMuc291cmNlVGlsZUdyaWRfLmdldEV4dGVudCgpLFxuICAgICAgICB0YXJnZXRSZXNvbHV0aW9uLFxuICAgICAgICB0YXJnZXRFeHRlbnQsXG4gICAgICAgIHRoaXMudHJpYW5ndWxhdGlvbl8sXG4gICAgICAgIHNvdXJjZXMsXG4gICAgICAgIHRoaXMuZ3V0dGVyXyxcbiAgICAgICAgdGhpcy5yZW5kZXJFZGdlc18sXG4gICAgICAgIHRoaXMuaW50ZXJwb2xhdGVcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuTE9BREVEO1xuICAgIH1cbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICovXG4gIGxvYWQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuTE9BRElORztcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuXG4gICAgICBsZXQgbGVmdFRvTG9hZCA9IDA7XG5cbiAgICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18gPSBbXTtcbiAgICAgIHRoaXMuc291cmNlVGlsZXNfLmZvckVhY2goKHRpbGUpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgIGlmIChzdGF0ZSA9PSBUaWxlU3RhdGUuSURMRSB8fCBzdGF0ZSA9PSBUaWxlU3RhdGUuTE9BRElORykge1xuICAgICAgICAgIGxlZnRUb0xvYWQrKztcblxuICAgICAgICAgIGNvbnN0IHNvdXJjZUxpc3RlbktleSA9IGxpc3RlbihcbiAgICAgICAgICAgIHRpbGUsXG4gICAgICAgICAgICBFdmVudFR5cGUuQ0hBTkdFLFxuICAgICAgICAgICAgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzdGF0ZSA9PSBUaWxlU3RhdGUuTE9BREVEIHx8XG4gICAgICAgICAgICAgICAgc3RhdGUgPT0gVGlsZVN0YXRlLkVSUk9SIHx8XG4gICAgICAgICAgICAgICAgc3RhdGUgPT0gVGlsZVN0YXRlLkVNUFRZXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHVubGlzdGVuQnlLZXkoc291cmNlTGlzdGVuS2V5KTtcbiAgICAgICAgICAgICAgICBsZWZ0VG9Mb2FkLS07XG4gICAgICAgICAgICAgICAgaWYgKGxlZnRUb0xvYWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMudW5saXN0ZW5Tb3VyY2VzXygpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5yZXByb2plY3RfKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5zb3VyY2VzTGlzdGVuZXJLZXlzXy5wdXNoKHNvdXJjZUxpc3RlbktleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAobGVmdFRvTG9hZCA9PT0gMCkge1xuICAgICAgICBzZXRUaW1lb3V0KHRoaXMucmVwcm9qZWN0Xy5iaW5kKHRoaXMpLCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc291cmNlVGlsZXNfLmZvckVhY2goZnVuY3Rpb24gKHRpbGUsIGksIGFycikge1xuICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgIGlmIChzdGF0ZSA9PSBUaWxlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGlsZS5sb2FkKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHVubGlzdGVuU291cmNlc18oKSB7XG4gICAgdGhpcy5zb3VyY2VzTGlzdGVuZXJLZXlzXy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBmcm9tIHRoZSBjYWNoZSBkdWUgdG8gZXhwaXJ5XG4gICAqL1xuICByZWxlYXNlKCkge1xuICAgIGlmICh0aGlzLmNhbnZhc18pIHtcbiAgICAgIHJlbGVhc2VDYW52YXModGhpcy5jYW52YXNfLmdldENvbnRleHQoJzJkJykpO1xuICAgICAgY2FudmFzUG9vbC5wdXNoKHRoaXMuY2FudmFzXyk7XG4gICAgICB0aGlzLmNhbnZhc18gPSBudWxsO1xuICAgIH1cbiAgICBzdXBlci5yZWxlYXNlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVwcm9qVGlsZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZXByb2ovY29tbW9uXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IG1heGltdW0gYWxsb3dlZCB0aHJlc2hvbGQgIChpbiBwaXhlbHMpIGZvciByZXByb2plY3Rpb25cbiAqIHRyaWFuZ3VsYXRpb24uXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgRVJST1JfVEhSRVNIT0xEID0gMC41O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlcHJvai9Ucmlhbmd1bGF0aW9uXG4gKi9cbmltcG9ydCB7XG4gIGJvdW5kaW5nRXh0ZW50LFxuICBjcmVhdGVFbXB0eSxcbiAgZXh0ZW5kQ29vcmRpbmF0ZSxcbiAgZ2V0QXJlYSxcbiAgZ2V0Qm90dG9tTGVmdCxcbiAgZ2V0Qm90dG9tUmlnaHQsXG4gIGdldFRvcExlZnQsXG4gIGdldFRvcFJpZ2h0LFxuICBnZXRXaWR0aCxcbiAgaW50ZXJzZWN0cyxcbn0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7Z2V0VHJhbnNmb3JtfSBmcm9tICcuLi9wcm9qLmpzJztcbmltcG9ydCB7bW9kdWxvfSBmcm9tICcuLi9tYXRoLmpzJztcblxuLyoqXG4gKiBTaW5nbGUgdHJpYW5nbGU7IGNvbnNpc3RzIG9mIDMgc291cmNlIHBvaW50cyBhbmQgMyB0YXJnZXQgcG9pbnRzLlxuICogQHR5cGVkZWYge09iamVjdH0gVHJpYW5nbGVcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gc291cmNlIFNvdXJjZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gdGFyZ2V0IFRhcmdldC5cbiAqL1xuXG4vKipcbiAqIE1heGltdW0gbnVtYmVyIG9mIHN1YmRpdmlzaW9uIHN0ZXBzIGR1cmluZyByYXN0ZXIgcmVwcm9qZWN0aW9uIHRyaWFuZ3VsYXRpb24uXG4gKiBQcmV2ZW50cyBoaWdoIG1lbW9yeSB1c2FnZSBhbmQgbGFyZ2UgbnVtYmVyIG9mIHByb2o0IGNhbGxzIChmb3IgY2VydGFpblxuICogdHJhbnNmb3JtYXRpb25zIGFuZCBhcmVhcykuIEF0IG1vc3QgYDIqKDJedGhpcylgIHRyaWFuZ2xlcyBhcmUgY3JlYXRlZCBmb3JcbiAqIGVhY2ggdHJpYW5ndWxhdGVkIGV4dGVudCAodGlsZS9pbWFnZSkuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5jb25zdCBNQVhfU1VCRElWSVNJT04gPSAxMDtcblxuLyoqXG4gKiBNYXhpbXVtIGFsbG93ZWQgc2l6ZSBvZiB0cmlhbmdsZSByZWxhdGl2ZSB0byB3b3JsZCB3aWR0aC4gV2hlbiB0cmFuc2Zvcm1pbmdcbiAqIGNvcm5lcnMgb2Ygd29ybGQgZXh0ZW50IGJldHdlZW4gY2VydGFpbiBwcm9qZWN0aW9ucywgdGhlIHJlc3VsdGluZ1xuICogdHJpYW5ndWxhdGlvbiBzZWVtcyB0byBoYXZlIHplcm8gZXJyb3IgYW5kIG5vIHN1YmRpdmlzaW9uIGlzIHBlcmZvcm1lZC4gSWZcbiAqIHRoZSB0cmlhbmdsZSB3aWR0aCBpcyBtb3JlIHRoYW4gdGhpcyAocmVsYXRpdmUgdG8gd29ybGQgd2lkdGg7IDAtMSksXG4gKiBzdWJkaXZpc29uIGlzIGZvcmNlZCAodXAgdG8gYE1BWF9TVUJESVZJU0lPTmApLiBEZWZhdWx0IGlzIGAwLjI1YC5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmNvbnN0IE1BWF9UUklBTkdMRV9XSURUSCA9IDAuMjU7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2xhc3MgY29udGFpbmluZyB0cmlhbmd1bGF0aW9uIG9mIHRoZSBnaXZlbiB0YXJnZXQgZXh0ZW50LlxuICogVXNlZCBmb3IgZGV0ZXJtaW5pbmcgc291cmNlIGRhdGEgYW5kIHRoZSByZXByb2plY3Rpb24gaXRzZWxmLlxuICovXG5jbGFzcyBUcmlhbmd1bGF0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVByb2ogU291cmNlIHByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHRhcmdldFByb2ogVGFyZ2V0IHByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gdGFyZ2V0RXh0ZW50IFRhcmdldCBleHRlbnQgdG8gdHJpYW5ndWxhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4U291cmNlRXh0ZW50IE1heGltYWwgc291cmNlIGV4dGVudCB0aGF0IGNhbiBiZSB1c2VkLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZXJyb3JUaHJlc2hvbGQgQWNjZXB0YWJsZSBlcnJvciAoaW4gc291cmNlIHVuaXRzKS5cbiAgICogQHBhcmFtIHs/bnVtYmVyfSBkZXN0aW5hdGlvblJlc29sdXRpb24gVGhlIChvcHRpb25hbCkgcmVzb2x1dGlvbiBvZiB0aGUgZGVzdGluYXRpb24uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBzb3VyY2VQcm9qLFxuICAgIHRhcmdldFByb2osXG4gICAgdGFyZ2V0RXh0ZW50LFxuICAgIG1heFNvdXJjZUV4dGVudCxcbiAgICBlcnJvclRocmVzaG9sZCxcbiAgICBkZXN0aW5hdGlvblJlc29sdXRpb25cbiAgKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zb3VyY2VQcm9qXyA9IHNvdXJjZVByb2o7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldFByb2pfID0gdGFyZ2V0UHJvajtcblxuICAgIC8qKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59ICovXG4gICAgbGV0IHRyYW5zZm9ybUludkNhY2hlID0ge307XG4gICAgY29uc3QgdHJhbnNmb3JtSW52ID0gZ2V0VHJhbnNmb3JtKHRoaXMudGFyZ2V0UHJval8sIHRoaXMuc291cmNlUHJval8pO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGMgQSBjb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudHJhbnNmb3JtSW52XyA9IGZ1bmN0aW9uIChjKSB7XG4gICAgICBjb25zdCBrZXkgPSBjWzBdICsgJy8nICsgY1sxXTtcbiAgICAgIGlmICghdHJhbnNmb3JtSW52Q2FjaGVba2V5XSkge1xuICAgICAgICB0cmFuc2Zvcm1JbnZDYWNoZVtrZXldID0gdHJhbnNmb3JtSW52KGMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyYW5zZm9ybUludkNhY2hlW2tleV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5tYXhTb3VyY2VFeHRlbnRfID0gbWF4U291cmNlRXh0ZW50O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZXJyb3JUaHJlc2hvbGRTcXVhcmVkXyA9IGVycm9yVGhyZXNob2xkICogZXJyb3JUaHJlc2hvbGQ7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8VHJpYW5nbGU+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy50cmlhbmdsZXNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgdHJpYW5ndWxhdGlvbiBjcm9zc2VzIGVkZ2Ugb2YgdGhlIHNvdXJjZSBwcm9qZWN0aW9uLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy53cmFwc1hJblNvdXJjZV8gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5jYW5XcmFwWEluU291cmNlXyA9XG4gICAgICB0aGlzLnNvdXJjZVByb2pfLmNhbldyYXBYKCkgJiZcbiAgICAgICEhbWF4U291cmNlRXh0ZW50ICYmXG4gICAgICAhIXRoaXMuc291cmNlUHJval8uZ2V0RXh0ZW50KCkgJiZcbiAgICAgIGdldFdpZHRoKG1heFNvdXJjZUV4dGVudCkgPT0gZ2V0V2lkdGgodGhpcy5zb3VyY2VQcm9qXy5nZXRFeHRlbnQoKSk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlV29ybGRXaWR0aF8gPSB0aGlzLnNvdXJjZVByb2pfLmdldEV4dGVudCgpXG4gICAgICA/IGdldFdpZHRoKHRoaXMuc291cmNlUHJval8uZ2V0RXh0ZW50KCkpXG4gICAgICA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0V29ybGRXaWR0aF8gPSB0aGlzLnRhcmdldFByb2pfLmdldEV4dGVudCgpXG4gICAgICA/IGdldFdpZHRoKHRoaXMudGFyZ2V0UHJval8uZ2V0RXh0ZW50KCkpXG4gICAgICA6IG51bGw7XG5cbiAgICBjb25zdCBkZXN0aW5hdGlvblRvcExlZnQgPSBnZXRUb3BMZWZ0KHRhcmdldEV4dGVudCk7XG4gICAgY29uc3QgZGVzdGluYXRpb25Ub3BSaWdodCA9IGdldFRvcFJpZ2h0KHRhcmdldEV4dGVudCk7XG4gICAgY29uc3QgZGVzdGluYXRpb25Cb3R0b21SaWdodCA9IGdldEJvdHRvbVJpZ2h0KHRhcmdldEV4dGVudCk7XG4gICAgY29uc3QgZGVzdGluYXRpb25Cb3R0b21MZWZ0ID0gZ2V0Qm90dG9tTGVmdCh0YXJnZXRFeHRlbnQpO1xuICAgIGNvbnN0IHNvdXJjZVRvcExlZnQgPSB0aGlzLnRyYW5zZm9ybUludl8oZGVzdGluYXRpb25Ub3BMZWZ0KTtcbiAgICBjb25zdCBzb3VyY2VUb3BSaWdodCA9IHRoaXMudHJhbnNmb3JtSW52XyhkZXN0aW5hdGlvblRvcFJpZ2h0KTtcbiAgICBjb25zdCBzb3VyY2VCb3R0b21SaWdodCA9IHRoaXMudHJhbnNmb3JtSW52XyhkZXN0aW5hdGlvbkJvdHRvbVJpZ2h0KTtcbiAgICBjb25zdCBzb3VyY2VCb3R0b21MZWZ0ID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRlc3RpbmF0aW9uQm90dG9tTGVmdCk7XG5cbiAgICAvKlxuICAgICAqIFRoZSBtYXhTdWJkaXZpc2lvbiBjb250cm9scyBob3cgbWFueSBzcGxpdHRpbmdzIG9mIHRoZSB0YXJnZXQgYXJlYSBjYW5cbiAgICAgKiBiZSBkb25lLiBUaGUgaWRlYSBoZXJlIGlzIHRvIGRvIGEgbGluZWFyIG1hcHBpbmcgb2YgdGhlIHRhcmdldCBhcmVhc1xuICAgICAqIGJ1dCB0aGUgYWN0dWFsIG92ZXJhbCByZXByb2plY3Rpb24gKGNhbiBiZSkgZXh0cmVtZWx5IG5vbi1saW5lYXIuIFRoZVxuICAgICAqIGRlZmF1bHQgdmFsdWUgb2YgTUFYX1NVQkRJVklTSU9OIHdhcyBjaG9zZW4gYmFzZWQgb24gbWFwcGluZyBhIDI1NngyNTZcbiAgICAgKiB0aWxlIHNpemUuIEhvd2V2ZXIgdGhpcyBmdW5jdGlvbiBpcyBhbHNvIGNhbGxlZCB0byByZW1hcCBjYW52YXMgcmVuZGVyZWRcbiAgICAgKiBsYXllcnMgd2hpY2ggY2FuIGJlIG11Y2ggbGFyZ2VyLiBUaGlzIGNhbGN1bGF0aW9uIGluY3JlYXNlcyB0aGUgbWF4U3ViZGl2aXNpb25cbiAgICAgKiB2YWx1ZSBieSB0aGUgcmlnaHQgZmFjdG9yIHNvIHRoYXQgZWFjaCAyNTZ4MjU2IHBpeGVsIGFyZWEgaGFzXG4gICAgICogTUFYX1NVQkRJVklTSU9OIGRpdmlzaW9ucy5cbiAgICAgKi9cbiAgICBjb25zdCBtYXhTdWJkaXZpc2lvbiA9XG4gICAgICBNQVhfU1VCRElWSVNJT04gK1xuICAgICAgKGRlc3RpbmF0aW9uUmVzb2x1dGlvblxuICAgICAgICA/IE1hdGgubWF4KFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIE1hdGguY2VpbChcbiAgICAgICAgICAgICAgTWF0aC5sb2cyKFxuICAgICAgICAgICAgICAgIGdldEFyZWEodGFyZ2V0RXh0ZW50KSAvXG4gICAgICAgICAgICAgICAgICAoZGVzdGluYXRpb25SZXNvbHV0aW9uICogZGVzdGluYXRpb25SZXNvbHV0aW9uICogMjU2ICogMjU2KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICA6IDApO1xuXG4gICAgdGhpcy5hZGRRdWFkXyhcbiAgICAgIGRlc3RpbmF0aW9uVG9wTGVmdCxcbiAgICAgIGRlc3RpbmF0aW9uVG9wUmlnaHQsXG4gICAgICBkZXN0aW5hdGlvbkJvdHRvbVJpZ2h0LFxuICAgICAgZGVzdGluYXRpb25Cb3R0b21MZWZ0LFxuICAgICAgc291cmNlVG9wTGVmdCxcbiAgICAgIHNvdXJjZVRvcFJpZ2h0LFxuICAgICAgc291cmNlQm90dG9tUmlnaHQsXG4gICAgICBzb3VyY2VCb3R0b21MZWZ0LFxuICAgICAgbWF4U3ViZGl2aXNpb25cbiAgICApO1xuXG4gICAgaWYgKHRoaXMud3JhcHNYSW5Tb3VyY2VfKSB7XG4gICAgICBsZXQgbGVmdEJvdW5kID0gSW5maW5pdHk7XG4gICAgICB0aGlzLnRyaWFuZ2xlc18uZm9yRWFjaChmdW5jdGlvbiAodHJpYW5nbGUsIGksIGFycikge1xuICAgICAgICBsZWZ0Qm91bmQgPSBNYXRoLm1pbihcbiAgICAgICAgICBsZWZ0Qm91bmQsXG4gICAgICAgICAgdHJpYW5nbGUuc291cmNlWzBdWzBdLFxuICAgICAgICAgIHRyaWFuZ2xlLnNvdXJjZVsxXVswXSxcbiAgICAgICAgICB0cmlhbmdsZS5zb3VyY2VbMl1bMF1cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTaGlmdCB0cmlhbmdsZXMgdG8gYmUgYXMgY2xvc2UgdG8gYGxlZnRCb3VuZGAgYXMgcG9zc2libGVcbiAgICAgIC8vIChpZiB0aGUgZGlzdGFuY2UgaXMgbW9yZSB0aGFuIGB3b3JsZFdpZHRoIC8gMmAgaXQgY2FuIGJlIGNsb3Nlci5cbiAgICAgIHRoaXMudHJpYW5nbGVzXy5mb3JFYWNoKCh0cmlhbmdsZSkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgTWF0aC5tYXgoXG4gICAgICAgICAgICB0cmlhbmdsZS5zb3VyY2VbMF1bMF0sXG4gICAgICAgICAgICB0cmlhbmdsZS5zb3VyY2VbMV1bMF0sXG4gICAgICAgICAgICB0cmlhbmdsZS5zb3VyY2VbMl1bMF1cbiAgICAgICAgICApIC1cbiAgICAgICAgICAgIGxlZnRCb3VuZCA+XG4gICAgICAgICAgdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyAvIDJcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgbmV3VHJpYW5nbGUgPSBbXG4gICAgICAgICAgICBbdHJpYW5nbGUuc291cmNlWzBdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMF1bMV1dLFxuICAgICAgICAgICAgW3RyaWFuZ2xlLnNvdXJjZVsxXVswXSwgdHJpYW5nbGUuc291cmNlWzFdWzFdXSxcbiAgICAgICAgICAgIFt0cmlhbmdsZS5zb3VyY2VbMl1bMF0sIHRyaWFuZ2xlLnNvdXJjZVsyXVsxXV0sXG4gICAgICAgICAgXTtcbiAgICAgICAgICBpZiAobmV3VHJpYW5nbGVbMF1bMF0gLSBsZWZ0Qm91bmQgPiB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfIC8gMikge1xuICAgICAgICAgICAgbmV3VHJpYW5nbGVbMF1bMF0gLT0gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5ld1RyaWFuZ2xlWzFdWzBdIC0gbGVmdEJvdW5kID4gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyAvIDIpIHtcbiAgICAgICAgICAgIG5ld1RyaWFuZ2xlWzFdWzBdIC09IHRoaXMuc291cmNlV29ybGRXaWR0aF87XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChuZXdUcmlhbmdsZVsyXVswXSAtIGxlZnRCb3VuZCA+IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgICBuZXdUcmlhbmdsZVsyXVswXSAtPSB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJhcmVseSAoaWYgdGhlIGV4dGVudCBjb250YWlucyBib3RoIHRoZSBkYXRlbGluZSBhbmQgcHJpbWUgbWVyaWRpYW4pXG4gICAgICAgICAgLy8gdGhlIHNoaWZ0IGNhbiBpbiB0dXJuIGJyZWFrIHNvbWUgdHJpYW5nbGVzLlxuICAgICAgICAgIC8vIERldGVjdCB0aGlzIGhlcmUgYW5kIGRvbid0IHNoaWZ0IGluIHN1Y2ggY2FzZXMuXG4gICAgICAgICAgY29uc3QgbWluWCA9IE1hdGgubWluKFxuICAgICAgICAgICAgbmV3VHJpYW5nbGVbMF1bMF0sXG4gICAgICAgICAgICBuZXdUcmlhbmdsZVsxXVswXSxcbiAgICAgICAgICAgIG5ld1RyaWFuZ2xlWzJdWzBdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBtYXhYID0gTWF0aC5tYXgoXG4gICAgICAgICAgICBuZXdUcmlhbmdsZVswXVswXSxcbiAgICAgICAgICAgIG5ld1RyaWFuZ2xlWzFdWzBdLFxuICAgICAgICAgICAgbmV3VHJpYW5nbGVbMl1bMF1cbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChtYXhYIC0gbWluWCA8IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgICB0cmlhbmdsZS5zb3VyY2UgPSBuZXdUcmlhbmdsZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRyYW5zZm9ybUludkNhY2hlID0ge307XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0cmlhbmdsZSB0byB0aGUgdHJpYW5ndWxhdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGEgVGhlIHRhcmdldCBhIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBiIFRoZSB0YXJnZXQgYiBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYyBUaGUgdGFyZ2V0IGMgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGFTcmMgVGhlIHNvdXJjZSBhIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBiU3JjIFRoZSBzb3VyY2UgYiBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY1NyYyBUaGUgc291cmNlIGMgY29vcmRpbmF0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFkZFRyaWFuZ2xlXyhhLCBiLCBjLCBhU3JjLCBiU3JjLCBjU3JjKSB7XG4gICAgdGhpcy50cmlhbmdsZXNfLnB1c2goe1xuICAgICAgc291cmNlOiBbYVNyYywgYlNyYywgY1NyY10sXG4gICAgICB0YXJnZXQ6IFthLCBiLCBjXSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHF1YWQgKHBvaW50cyBpbiBjbG9jay13aXNlIG9yZGVyKSB0byB0aGUgdHJpYW5ndWxhdGlvblxuICAgKiAoYW5kIHJlcHJvamVjdHMgdGhlIHZlcnRpY2VzKSBpZiB2YWxpZC5cbiAgICogUGVyZm9ybXMgcXVhZCBzdWJkaXZpc2lvbiBpZiBuZWVkZWQgdG8gaW5jcmVhc2UgcHJlY2lzaW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYSBUaGUgdGFyZ2V0IGEgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGIgVGhlIHRhcmdldCBiIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjIFRoZSB0YXJnZXQgYyBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZCBUaGUgdGFyZ2V0IGQgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGFTcmMgVGhlIHNvdXJjZSBhIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBiU3JjIFRoZSBzb3VyY2UgYiBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY1NyYyBUaGUgc291cmNlIGMgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGRTcmMgVGhlIHNvdXJjZSBkIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhTdWJkaXZpc2lvbiBNYXhpbWFsIGFsbG93ZWQgc3ViZGl2aXNpb24gb2YgdGhlIHF1YWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhZGRRdWFkXyhhLCBiLCBjLCBkLCBhU3JjLCBiU3JjLCBjU3JjLCBkU3JjLCBtYXhTdWJkaXZpc2lvbikge1xuICAgIGNvbnN0IHNvdXJjZVF1YWRFeHRlbnQgPSBib3VuZGluZ0V4dGVudChbYVNyYywgYlNyYywgY1NyYywgZFNyY10pO1xuICAgIGNvbnN0IHNvdXJjZUNvdmVyYWdlWCA9IHRoaXMuc291cmNlV29ybGRXaWR0aF9cbiAgICAgID8gZ2V0V2lkdGgoc291cmNlUXVhZEV4dGVudCkgLyB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfXG4gICAgICA6IG51bGw7XG4gICAgY29uc3Qgc291cmNlV29ybGRXaWR0aCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5zb3VyY2VXb3JsZFdpZHRoXyk7XG5cbiAgICAvLyB3aGVuIHRoZSBxdWFkIGlzIHdyYXBwZWQgaW4gdGhlIHNvdXJjZSBwcm9qZWN0aW9uXG4gICAgLy8gaXQgY292ZXJzIG1vc3Qgb2YgdGhlIHByb2plY3Rpb24gZXh0ZW50LCBidXQgbm90IGZ1bGx5XG4gICAgY29uc3Qgd3JhcHNYID1cbiAgICAgIHRoaXMuc291cmNlUHJval8uY2FuV3JhcFgoKSAmJlxuICAgICAgc291cmNlQ292ZXJhZ2VYID4gMC41ICYmXG4gICAgICBzb3VyY2VDb3ZlcmFnZVggPCAxO1xuXG4gICAgbGV0IG5lZWRzU3ViZGl2aXNpb24gPSBmYWxzZTtcblxuICAgIGlmIChtYXhTdWJkaXZpc2lvbiA+IDApIHtcbiAgICAgIGlmICh0aGlzLnRhcmdldFByb2pfLmlzR2xvYmFsKCkgJiYgdGhpcy50YXJnZXRXb3JsZFdpZHRoXykge1xuICAgICAgICBjb25zdCB0YXJnZXRRdWFkRXh0ZW50ID0gYm91bmRpbmdFeHRlbnQoW2EsIGIsIGMsIGRdKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Q292ZXJhZ2VYID1cbiAgICAgICAgICBnZXRXaWR0aCh0YXJnZXRRdWFkRXh0ZW50KSAvIHRoaXMudGFyZ2V0V29ybGRXaWR0aF87XG4gICAgICAgIG5lZWRzU3ViZGl2aXNpb24gPVxuICAgICAgICAgIHRhcmdldENvdmVyYWdlWCA+IE1BWF9UUklBTkdMRV9XSURUSCB8fCBuZWVkc1N1YmRpdmlzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKCF3cmFwc1ggJiYgdGhpcy5zb3VyY2VQcm9qXy5pc0dsb2JhbCgpICYmIHNvdXJjZUNvdmVyYWdlWCkge1xuICAgICAgICBuZWVkc1N1YmRpdmlzaW9uID1cbiAgICAgICAgICBzb3VyY2VDb3ZlcmFnZVggPiBNQVhfVFJJQU5HTEVfV0lEVEggfHwgbmVlZHNTdWJkaXZpc2lvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIW5lZWRzU3ViZGl2aXNpb24gJiYgdGhpcy5tYXhTb3VyY2VFeHRlbnRfKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbMF0pICYmXG4gICAgICAgIGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbMV0pICYmXG4gICAgICAgIGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbMl0pICYmXG4gICAgICAgIGlzRmluaXRlKHNvdXJjZVF1YWRFeHRlbnRbM10pXG4gICAgICApIHtcbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzKHNvdXJjZVF1YWRFeHRlbnQsIHRoaXMubWF4U291cmNlRXh0ZW50XykpIHtcbiAgICAgICAgICAvLyB3aG9sZSBxdWFkIG91dHNpZGUgc291cmNlIHByb2plY3Rpb24gZXh0ZW50IC0+IGlnbm9yZVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBpc05vdEZpbml0ZSA9IDA7XG5cbiAgICBpZiAoIW5lZWRzU3ViZGl2aXNpb24pIHtcbiAgICAgIGlmIChcbiAgICAgICAgIWlzRmluaXRlKGFTcmNbMF0pIHx8XG4gICAgICAgICFpc0Zpbml0ZShhU3JjWzFdKSB8fFxuICAgICAgICAhaXNGaW5pdGUoYlNyY1swXSkgfHxcbiAgICAgICAgIWlzRmluaXRlKGJTcmNbMV0pIHx8XG4gICAgICAgICFpc0Zpbml0ZShjU3JjWzBdKSB8fFxuICAgICAgICAhaXNGaW5pdGUoY1NyY1sxXSkgfHxcbiAgICAgICAgIWlzRmluaXRlKGRTcmNbMF0pIHx8XG4gICAgICAgICFpc0Zpbml0ZShkU3JjWzFdKVxuICAgICAgKSB7XG4gICAgICAgIGlmIChtYXhTdWJkaXZpc2lvbiA+IDApIHtcbiAgICAgICAgICBuZWVkc1N1YmRpdmlzaW9uID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJdCBtaWdodCBiZSB0aGUgY2FzZSB0aGF0IG9ubHkgMSBvZiB0aGUgcG9pbnRzIGlzIGluZmluaXRlLiBJbiB0aGlzIGNhc2VcbiAgICAgICAgICAvLyB3ZSBjYW4gZHJhdyBhIHNpbmdsZSB0cmlhbmdsZSB3aXRoIHRoZSBvdGhlciB0aHJlZSBwb2ludHNcbiAgICAgICAgICBpc05vdEZpbml0ZSA9XG4gICAgICAgICAgICAoIWlzRmluaXRlKGFTcmNbMF0pIHx8ICFpc0Zpbml0ZShhU3JjWzFdKSA/IDggOiAwKSArXG4gICAgICAgICAgICAoIWlzRmluaXRlKGJTcmNbMF0pIHx8ICFpc0Zpbml0ZShiU3JjWzFdKSA/IDQgOiAwKSArXG4gICAgICAgICAgICAoIWlzRmluaXRlKGNTcmNbMF0pIHx8ICFpc0Zpbml0ZShjU3JjWzFdKSA/IDIgOiAwKSArXG4gICAgICAgICAgICAoIWlzRmluaXRlKGRTcmNbMF0pIHx8ICFpc0Zpbml0ZShkU3JjWzFdKSA/IDEgOiAwKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBpc05vdEZpbml0ZSAhPSAxICYmXG4gICAgICAgICAgICBpc05vdEZpbml0ZSAhPSAyICYmXG4gICAgICAgICAgICBpc05vdEZpbml0ZSAhPSA0ICYmXG4gICAgICAgICAgICBpc05vdEZpbml0ZSAhPSA4XG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1heFN1YmRpdmlzaW9uID4gMCkge1xuICAgICAgaWYgKCFuZWVkc1N1YmRpdmlzaW9uKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IFsoYVswXSArIGNbMF0pIC8gMiwgKGFbMV0gKyBjWzFdKSAvIDJdO1xuICAgICAgICBjb25zdCBjZW50ZXJTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oY2VudGVyKTtcblxuICAgICAgICBsZXQgZHg7XG4gICAgICAgIGlmICh3cmFwc1gpIHtcbiAgICAgICAgICBjb25zdCBjZW50ZXJTcmNFc3RpbVggPVxuICAgICAgICAgICAgKG1vZHVsbyhhU3JjWzBdLCBzb3VyY2VXb3JsZFdpZHRoKSArXG4gICAgICAgICAgICAgIG1vZHVsbyhjU3JjWzBdLCBzb3VyY2VXb3JsZFdpZHRoKSkgL1xuICAgICAgICAgICAgMjtcbiAgICAgICAgICBkeCA9IGNlbnRlclNyY0VzdGltWCAtIG1vZHVsbyhjZW50ZXJTcmNbMF0sIHNvdXJjZVdvcmxkV2lkdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGR4ID0gKGFTcmNbMF0gKyBjU3JjWzBdKSAvIDIgLSBjZW50ZXJTcmNbMF07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHkgPSAoYVNyY1sxXSArIGNTcmNbMV0pIC8gMiAtIGNlbnRlclNyY1sxXTtcbiAgICAgICAgY29uc3QgY2VudGVyU3JjRXJyb3JTcXVhcmVkID0gZHggKiBkeCArIGR5ICogZHk7XG4gICAgICAgIG5lZWRzU3ViZGl2aXNpb24gPSBjZW50ZXJTcmNFcnJvclNxdWFyZWQgPiB0aGlzLmVycm9yVGhyZXNob2xkU3F1YXJlZF87XG4gICAgICB9XG4gICAgICBpZiAobmVlZHNTdWJkaXZpc2lvbikge1xuICAgICAgICBpZiAoTWF0aC5hYnMoYVswXSAtIGNbMF0pIDw9IE1hdGguYWJzKGFbMV0gLSBjWzFdKSkge1xuICAgICAgICAgIC8vIHNwbGl0IGhvcml6b250YWxseSAodG9wICYgYm90dG9tKVxuICAgICAgICAgIGNvbnN0IGJjID0gWyhiWzBdICsgY1swXSkgLyAyLCAoYlsxXSArIGNbMV0pIC8gMl07XG4gICAgICAgICAgY29uc3QgYmNTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oYmMpO1xuICAgICAgICAgIGNvbnN0IGRhID0gWyhkWzBdICsgYVswXSkgLyAyLCAoZFsxXSArIGFbMV0pIC8gMl07XG4gICAgICAgICAgY29uc3QgZGFTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oZGEpO1xuXG4gICAgICAgICAgdGhpcy5hZGRRdWFkXyhcbiAgICAgICAgICAgIGEsXG4gICAgICAgICAgICBiLFxuICAgICAgICAgICAgYmMsXG4gICAgICAgICAgICBkYSxcbiAgICAgICAgICAgIGFTcmMsXG4gICAgICAgICAgICBiU3JjLFxuICAgICAgICAgICAgYmNTcmMsXG4gICAgICAgICAgICBkYVNyYyxcbiAgICAgICAgICAgIG1heFN1YmRpdmlzaW9uIC0gMVxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5hZGRRdWFkXyhcbiAgICAgICAgICAgIGRhLFxuICAgICAgICAgICAgYmMsXG4gICAgICAgICAgICBjLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIGRhU3JjLFxuICAgICAgICAgICAgYmNTcmMsXG4gICAgICAgICAgICBjU3JjLFxuICAgICAgICAgICAgZFNyYyxcbiAgICAgICAgICAgIG1heFN1YmRpdmlzaW9uIC0gMVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gc3BsaXQgdmVydGljYWxseSAobGVmdCAmIHJpZ2h0KVxuICAgICAgICAgIGNvbnN0IGFiID0gWyhhWzBdICsgYlswXSkgLyAyLCAoYVsxXSArIGJbMV0pIC8gMl07XG4gICAgICAgICAgY29uc3QgYWJTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oYWIpO1xuICAgICAgICAgIGNvbnN0IGNkID0gWyhjWzBdICsgZFswXSkgLyAyLCAoY1sxXSArIGRbMV0pIC8gMl07XG4gICAgICAgICAgY29uc3QgY2RTcmMgPSB0aGlzLnRyYW5zZm9ybUludl8oY2QpO1xuXG4gICAgICAgICAgdGhpcy5hZGRRdWFkXyhcbiAgICAgICAgICAgIGEsXG4gICAgICAgICAgICBhYixcbiAgICAgICAgICAgIGNkLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIGFTcmMsXG4gICAgICAgICAgICBhYlNyYyxcbiAgICAgICAgICAgIGNkU3JjLFxuICAgICAgICAgICAgZFNyYyxcbiAgICAgICAgICAgIG1heFN1YmRpdmlzaW9uIC0gMVxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5hZGRRdWFkXyhcbiAgICAgICAgICAgIGFiLFxuICAgICAgICAgICAgYixcbiAgICAgICAgICAgIGMsXG4gICAgICAgICAgICBjZCxcbiAgICAgICAgICAgIGFiU3JjLFxuICAgICAgICAgICAgYlNyYyxcbiAgICAgICAgICAgIGNTcmMsXG4gICAgICAgICAgICBjZFNyYyxcbiAgICAgICAgICAgIG1heFN1YmRpdmlzaW9uIC0gMVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh3cmFwc1gpIHtcbiAgICAgIGlmICghdGhpcy5jYW5XcmFwWEluU291cmNlXykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLndyYXBzWEluU291cmNlXyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gRXhhY3RseSB6ZXJvIG9yIG9uZSBvZiAqU3JjIGlzIG5vdCBmaW5pdGVcbiAgICAvLyBUaGUgdHJpYW5nbGVzIG11c3QgaGF2ZSB0aGUgZGlhZ29uYWwgbGluZSBhcyB0aGUgZmlyc3Qgc2lkZVxuICAgIC8vIFRoaXMgaXMgdG8gYWxsb3cgZWFzeSBjb2RlIGluIHJlcHJvai5zIHRvIG1ha2UgaXQgc3RyYWlnaHQgZm9yIGJyb2tlblxuICAgIC8vIGJyb3dzZXJzIHRoYXQgY2FuJ3QgaGFuZGxlIGRpYWdvbmFsIGNsaXBwaW5nXG4gICAgaWYgKChpc05vdEZpbml0ZSAmIDB4YikgPT0gMCkge1xuICAgICAgdGhpcy5hZGRUcmlhbmdsZV8oYSwgYywgZCwgYVNyYywgY1NyYywgZFNyYyk7XG4gICAgfVxuICAgIGlmICgoaXNOb3RGaW5pdGUgJiAweGUpID09IDApIHtcbiAgICAgIHRoaXMuYWRkVHJpYW5nbGVfKGEsIGMsIGIsIGFTcmMsIGNTcmMsIGJTcmMpO1xuICAgIH1cbiAgICBpZiAoaXNOb3RGaW5pdGUpIHtcbiAgICAgIC8vIFRyeSB0aGUgb3RoZXIgdHdvIHRyaWFuZ2xlc1xuICAgICAgaWYgKChpc05vdEZpbml0ZSAmIDB4ZCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFkZFRyaWFuZ2xlXyhiLCBkLCBhLCBiU3JjLCBkU3JjLCBhU3JjKTtcbiAgICAgIH1cbiAgICAgIGlmICgoaXNOb3RGaW5pdGUgJiAweDcpID09IDApIHtcbiAgICAgICAgdGhpcy5hZGRUcmlhbmdsZV8oYiwgZCwgYywgYlNyYywgZFNyYywgY1NyYyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgZXh0ZW50IG9mIHRoZSBgc291cmNlYCBjb29yZGluYXRlcyBmcm9tIGFsbCB0aGUgdHJpYW5nbGVzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBDYWxjdWxhdGVkIGV4dGVudC5cbiAgICovXG4gIGNhbGN1bGF0ZVNvdXJjZUV4dGVudCgpIHtcbiAgICBjb25zdCBleHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuXG4gICAgdGhpcy50cmlhbmdsZXNfLmZvckVhY2goZnVuY3Rpb24gKHRyaWFuZ2xlLCBpLCBhcnIpIHtcbiAgICAgIGNvbnN0IHNyYyA9IHRyaWFuZ2xlLnNvdXJjZTtcbiAgICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBzcmNbMF0pO1xuICAgICAgZXh0ZW5kQ29vcmRpbmF0ZShleHRlbnQsIHNyY1sxXSk7XG4gICAgICBleHRlbmRDb29yZGluYXRlKGV4dGVudCwgc3JjWzJdKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBleHRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8VHJpYW5nbGU+fSBBcnJheSBvZiB0aGUgY2FsY3VsYXRlZCB0cmlhbmdsZXMuXG4gICAqL1xuICBnZXRUcmlhbmdsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMudHJpYW5nbGVzXztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmlhbmd1bGF0aW9uO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JvdGF0aW9uY29uc3RyYWludFxuICovXG5pbXBvcnQge3RvUmFkaWFuc30gZnJvbSAnLi9tYXRoLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKG51bWJlcnx1bmRlZmluZWQpLCBib29sZWFuPSk6IChudW1iZXJ8dW5kZWZpbmVkKX0gVHlwZVxuICovXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZShyb3RhdGlvbikge1xuICBpZiAocm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9uZShyb3RhdGlvbikge1xuICBpZiAocm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiByb3RhdGlvbjtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIE4uXG4gKiBAcmV0dXJuIHtUeXBlfSBSb3RhdGlvbiBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvTihuKSB7XG4gIGNvbnN0IHRoZXRhID0gKDIgKiBNYXRoLlBJKSAvIG47XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc01vdmluZ10gVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUm90YXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHJvdGF0aW9uLCBpc01vdmluZykge1xuICAgICAgaWYgKGlzTW92aW5nKSB7XG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcm90YXRpb24gPSBNYXRoLmZsb29yKHJvdGF0aW9uIC8gdGhldGEgKyAwLjUpICogdGhldGE7XG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBbdG9sZXJhbmNlXSBUb2xlcmFuY2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBSb3RhdGlvbiBjb25zdHJhaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvWmVybyh0b2xlcmFuY2UpIHtcbiAgdG9sZXJhbmNlID0gdG9sZXJhbmNlIHx8IHRvUmFkaWFucyg1KTtcbiAgcmV0dXJuIChcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzTW92aW5nXSBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocm90YXRpb24sIGlzTW92aW5nKSB7XG4gICAgICBpZiAoaXNNb3ZpbmcpIHtcbiAgICAgICAgcmV0dXJuIHJvdGF0aW9uO1xuICAgICAgfVxuXG4gICAgICBpZiAocm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoTWF0aC5hYnMocm90YXRpb24pIDw9IHRvbGVyYW5jZSkge1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICApO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NpemVcbiAqL1xuXG4vKipcbiAqIEFuIGFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGEgc2l6ZTogYFt3aWR0aCwgaGVpZ2h0XWAuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gU2l6ZVxuICogQGFwaVxuICovXG5cbi8qKlxuICogUmV0dXJucyBhIGJ1ZmZlcmVkIHNpemUuXG4gKiBAcGFyYW0ge1NpemV9IHNpemUgU2l6ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBudW0gVGhlIGFtb3VudCBieSB3aGljaCB0byBidWZmZXIuXG4gKiBAcGFyYW0ge1NpemV9IFtkZXN0XSBPcHRpb25hbCByZXVzYWJsZSBzaXplIGFycmF5LlxuICogQHJldHVybiB7U2l6ZX0gVGhlIGJ1ZmZlcmVkIHNpemUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXIoc2l6ZSwgbnVtLCBkZXN0KSB7XG4gIGlmIChkZXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICBkZXN0ID0gWzAsIDBdO1xuICB9XG4gIGRlc3RbMF0gPSBzaXplWzBdICsgMiAqIG51bTtcbiAgZGVzdFsxXSA9IHNpemVbMV0gKyAyICogbnVtO1xuICByZXR1cm4gZGVzdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGEgc2l6ZSBoYXMgYSBwb3NpdGl2ZSBhcmVhLlxuICogQHBhcmFtIHtTaXplfSBzaXplIFRoZSBzaXplIHRvIHRlc3QuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgc2l6ZSBoYXMgYSBwb3NpdGl2ZSBhcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzQXJlYShzaXplKSB7XG4gIHJldHVybiBzaXplWzBdID4gMCAmJiBzaXplWzFdID4gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc2l6ZSBzY2FsZWQgYnkgYSByYXRpby4gVGhlIHJlc3VsdCB3aWxsIGJlIGFuIGFycmF5IG9mIGludGVnZXJzLlxuICogQHBhcmFtIHtTaXplfSBzaXplIFNpemUuXG4gKiBAcGFyYW0ge251bWJlcn0gcmF0aW8gUmF0aW8uXG4gKiBAcGFyYW0ge1NpemV9IFtkZXN0XSBPcHRpb25hbCByZXVzYWJsZSBzaXplIGFycmF5LlxuICogQHJldHVybiB7U2l6ZX0gVGhlIHNjYWxlZCBzaXplLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUoc2l6ZSwgcmF0aW8sIGRlc3QpIHtcbiAgaWYgKGRlc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGRlc3QgPSBbMCwgMF07XG4gIH1cbiAgZGVzdFswXSA9IChzaXplWzBdICogcmF0aW8gKyAwLjUpIHwgMDtcbiAgZGVzdFsxXSA9IChzaXplWzFdICogcmF0aW8gKyAwLjUpIHwgMDtcbiAgcmV0dXJuIGRlc3Q7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBgU2l6ZWAgYXJyYXkgZm9yIHRoZSBwYXNzZWQgaW4gbnVtYmVyIChtZWFuaW5nOiBzcXVhcmUpIG9yXG4gKiBgU2l6ZWAgYXJyYXkuXG4gKiAobWVhbmluZzogbm9uLXNxdWFyZSksXG4gKiBAcGFyYW0ge251bWJlcnxTaXplfSBzaXplIFdpZHRoIGFuZCBoZWlnaHQuXG4gKiBAcGFyYW0ge1NpemV9IFtkZXN0XSBPcHRpb25hbCByZXVzYWJsZSBzaXplIGFycmF5LlxuICogQHJldHVybiB7U2l6ZX0gU2l6ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU2l6ZShzaXplLCBkZXN0KSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHNpemUpKSB7XG4gICAgcmV0dXJuIHNpemU7XG4gIH1cbiAgaWYgKGRlc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGRlc3QgPSBbc2l6ZSwgc2l6ZV07XG4gIH0gZWxzZSB7XG4gICAgZGVzdFswXSA9IHNpemU7XG4gICAgZGVzdFsxXSA9IHNpemU7XG4gIH1cbiAgcmV0dXJuIGRlc3Q7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1RpbGVEZWJ1Z1xuICovXG5cbmltcG9ydCBYWVogZnJvbSAnLi9YWVouanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkR9IGZyb20gJy4uL2RvbS5qcyc7XG5pbXBvcnQge3RvU2l6ZX0gZnJvbSAnLi4vc2l6ZS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbj0nRVBTRzozODU3J10gT3B0aW9uYWwgcHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlIGdyaWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXSBXaGV0aGVyIHRvIHdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gW3pEaXJlY3Rpb249MF1cbiAqIFNldCB0byBgMWAgd2hlbiBkZWJ1Z2dpbmcgYFZlY3RvclRpbGVgIHNvdXJjZXMgd2l0aCBhIGRlZmF1bHQgY29uZmlndXJhdGlvbi5cbiAqIENob29zZSB3aGV0aGVyIHRvIHVzZSB0aWxlcyB3aXRoIGEgaGlnaGVyIG9yIGxvd2VyIHpvb20gbGV2ZWwgd2hlbiBiZXR3ZWVuIGludGVnZXJcbiAqIHpvb20gbGV2ZWxzLiBTZWUge0BsaW5rIG1vZHVsZTpvbC90aWxlZ3JpZC9UaWxlR3JpZH5UaWxlR3JpZCNnZXRaRm9yUmVzb2x1dGlvbn0uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RlbXBsYXRlPSd6Ont6fSB4Ont4fSB5Ont5fSddIFRlbXBsYXRlIGZvciBsYWJlbGluZyB0aGUgdGlsZXMuXG4gKiBTaG91bGQgaW5jbHVkZSBge3h9YCwgYHt5fWAgb3IgYHsteX1gLCBhbmQgYHt6fWAgcGxhY2Vob2xkZXJzLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBwc2V1ZG8gdGlsZSBzb3VyY2UsIHdoaWNoIGRvZXMgbm90IGZldGNoIHRpbGVzIGZyb20gYSBzZXJ2ZXIsIGJ1dCByZW5kZXJzXG4gKiBhIGdyaWQgb3V0bGluZSBmb3IgdGhlIHRpbGUgZ3JpZC9wcm9qZWN0aW9uIGFsb25nIHdpdGggdGhlIGNvb3JkaW5hdGVzIGZvclxuICogZWFjaCB0aWxlLiBTZWUgZXhhbXBsZXMvY2FudmFzLXRpbGVzIGZvciBhbiBleGFtcGxlLlxuICogQGFwaVxuICovXG5jbGFzcyBUaWxlRGVidWcgZXh0ZW5kcyBYWVoge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gRGVidWcgdGlsZSBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPcHRpb25zfVxuICAgICAqL1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgc3VwZXIoe1xuICAgICAgb3BhcXVlOiBmYWxzZSxcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHRpbGVHcmlkOiBvcHRpb25zLnRpbGVHcmlkLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiB0cnVlLFxuICAgICAgekRpcmVjdGlvbjogb3B0aW9ucy56RGlyZWN0aW9uLFxuICAgICAgdXJsOiBvcHRpb25zLnRlbXBsYXRlIHx8ICd6Ont6fSB4Ont4fSB5Ont5fScsXG4gICAgICB0aWxlTG9hZEZ1bmN0aW9uOiAodGlsZSwgdGV4dCkgPT4ge1xuICAgICAgICBjb25zdCB6ID0gdGlsZS5nZXRUaWxlQ29vcmQoKVswXTtcbiAgICAgICAgY29uc3QgdGlsZVNpemUgPSB0b1NpemUodGhpcy50aWxlR3JpZC5nZXRUaWxlU2l6ZSh6KSk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQodGlsZVNpemVbMF0sIHRpbGVTaXplWzFdKTtcblxuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ2dyZXknO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVJlY3QoMC41LCAwLjUsIHRpbGVTaXplWzBdICsgMC41LCB0aWxlU2l6ZVsxXSArIDAuNSk7XG5cbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnZ3JleSc7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSAnMjRweCBzYW5zLXNlcmlmJztcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSA0O1xuICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGV4dCwgdGlsZVNpemVbMF0gLyAyLCB0aWxlU2l6ZVsxXSAvIDIsIHRpbGVTaXplWzBdKTtcbiAgICAgICAgY29udGV4dC5maWxsVGV4dCh0ZXh0LCB0aWxlU2l6ZVswXSAvIDIsIHRpbGVTaXplWzFdIC8gMiwgdGlsZVNpemVbMF0pO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aWxlKS5zZXRJbWFnZShcbiAgICAgICAgICBjb250ZXh0LmNhbnZhc1xuICAgICAgICApO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlRGVidWc7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1NvdXJjZVxuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IHtnZXQgYXMgZ2V0UHJvamVjdGlvbn0gZnJvbSAnLi4vcHJvai5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYgeyd1bmRlZmluZWQnIHwgJ2xvYWRpbmcnIHwgJ3JlYWR5JyB8ICdlcnJvcid9IFN0YXRlXG4gKiBTdGF0ZSBvZiB0aGUgc291cmNlLCBvbmUgb2YgJ3VuZGVmaW5lZCcsICdsb2FkaW5nJywgJ3JlYWR5JyBvciAnZXJyb3InLlxuICovXG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEge0BsaW5rIG1vZHVsZTpvbC9NYXB+RnJhbWVTdGF0ZX0gYW5kIHJldHVybnMgYSBzdHJpbmcgb3JcbiAqIGFuIGFycmF5IG9mIHN0cmluZ3MgcmVwcmVzZW50aW5nIHNvdXJjZSBhdHRyaWJ1dGlvbnMuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlKTogKHN0cmluZ3xBcnJheTxzdHJpbmc+KX0gQXR0cmlidXRpb25cbiAqL1xuXG4vKipcbiAqIEEgdHlwZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgYXR0cmlidXRpb24gaW5mb3JtYXRpb24gZm9yIGRhdGEgc291cmNlcy5cbiAqXG4gKiBJdCByZXByZXNlbnRzIGVpdGhlclxuICogKiBhIHNpbXBsZSBzdHJpbmcgKGUuZy4gYCfCqSBBY21lIEluYy4nYClcbiAqICogYW4gYXJyYXkgb2Ygc2ltcGxlIHN0cmluZ3MgKGUuZy4gYFsnwqkgQWNtZSBJbmMuJywgJ8KpIEJhY21lIEluYy4nXWApXG4gKiAqIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgc3RyaW5nIG9yIGFycmF5IG9mIHN0cmluZ3MgKHtAbGluayBtb2R1bGU6b2wvc291cmNlL1NvdXJjZX5BdHRyaWJ1dGlvbn0pXG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xBcnJheTxzdHJpbmc+fEF0dHJpYnV0aW9ufSBBdHRyaWJ1dGlvbkxpa2VcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7QXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXSBBdHRyaWJ1dGlvbnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZT10cnVlXSBBdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi4gRGVmYXVsdCBpcyB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5TdGF0ZX0gW3N0YXRlPSdyZWFkeSddIFN0YXRlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9ZmFsc2VdIFdyYXBYLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW50ZXJwb2xhdGU9ZmFsc2VdIFVzZSBpbnRlcnBvbGF0ZWQgdmFsdWVzIHdoZW4gcmVzYW1wbGluZy4gIEJ5IGRlZmF1bHQsXG4gKiB0aGUgbmVhcmVzdCBuZWlnaGJvciBpcyB1c2VkIHdoZW4gcmVzYW1wbGluZy5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIEJhc2UgY2xhc3MgZm9yIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXJ9IHNvdXJjZXMuXG4gKlxuICogQSBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBzdGF0ZSBvZiB0aGUgc291cmNlIGNoYW5nZXMuXG4gKiBAYWJzdHJhY3RcbiAqIEBhcGlcbiAqL1xuY2xhc3MgU291cmNlIGV4dGVuZHMgQmFzZU9iamVjdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgU291cmNlIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnByb2plY3Rpb24gPSBnZXRQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/QXR0cmlidXRpb259XG4gICAgICovXG4gICAgdGhpcy5hdHRyaWJ1dGlvbnNfID0gYWRhcHRBdHRyaWJ1dGlvbnMob3B0aW9ucy5hdHRyaWJ1dGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXyA9XG4gICAgICBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXG4gICAgICAgIDogdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nIGRhdGEuIFNvdXJjZXMgdGhhdCBkZWZlciBsb2FkaW5nIHRvIHRoZVxuICAgICAqIG1hcCdzIHRpbGUgcXVldWUgbmV2ZXIgc2V0IHRoaXMgdG8gYHRydWVgLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy5zdGF0ZV8gPSBvcHRpb25zLnN0YXRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0YXRlIDogJ3JlYWR5JztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy53cmFwWF8gPSBvcHRpb25zLndyYXBYICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLndyYXBYIDogZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaW50ZXJwb2xhdGVfID0gISFvcHRpb25zLmludGVycG9sYXRlO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLlZpZXdPcHRpb25zKTp2b2lkfVxuICAgICAqL1xuICAgIHRoaXMudmlld1Jlc29sdmVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oRXJyb3IpOnZvaWR9XG4gICAgICovXG4gICAgdGhpcy52aWV3UmVqZWN0b3IgPSBudWxsO1xuXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7UHJvbWlzZTxpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLlZpZXdPcHRpb25zPn1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXdQcm9taXNlXyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHNlbGYudmlld1Jlc29sdmVyID0gcmVzb2x2ZTtcbiAgICAgIHNlbGYudmlld1JlamVjdG9yID0gcmVqZWN0O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYXR0cmlidXRpb24gZnVuY3Rpb24gZm9yIHRoZSBzb3VyY2UuXG4gICAqIEByZXR1cm4gez9BdHRyaWJ1dGlvbn0gQXR0cmlidXRpb24gZnVuY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEF0dHJpYnV0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGlvbnNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHByb2plY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR8bnVsbH0gUHJvamVjdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UHJvamVjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uXCIpLmRlZmF1bHR9IFtwcm9qZWN0aW9uXSBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fG51bGx9IFJlc29sdXRpb25zLlxuICAgKi9cbiAgZ2V0UmVzb2x1dGlvbnMocHJvamVjdGlvbikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1Byb21pc2U8aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5WaWV3T3B0aW9ucz59IEEgcHJvbWlzZSBmb3Igdmlldy1yZWxhdGVkIHByb3BlcnRpZXMuXG4gICAqL1xuICBnZXRWaWV3KCkge1xuICAgIHJldHVybiB0aGlzLnZpZXdQcm9taXNlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UsIHNlZSB7QGxpbmsgaW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuU3RhdGV9IGZvciBwb3NzaWJsZSBzdGF0ZXMuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLlN0YXRlfSBTdGF0ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW58dW5kZWZpbmVkfSBXcmFwIFguXG4gICAqL1xuICBnZXRXcmFwWCgpIHtcbiAgICByZXR1cm4gdGhpcy53cmFwWF87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVXNlIGxpbmVhciBpbnRlcnBvbGF0aW9uIHdoZW4gcmVzYW1wbGluZy5cbiAgICovXG4gIGdldEludGVycG9sYXRlKCkge1xuICAgIHJldHVybiB0aGlzLmludGVycG9sYXRlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWZyZXNoZXMgdGhlIHNvdXJjZS4gVGhlIHNvdXJjZSB3aWxsIGJlIGNsZWFyZWQsIGFuZCBkYXRhIGZyb20gdGhlIHNlcnZlciB3aWxsIGJlIHJlbG9hZGVkLlxuICAgKiBAYXBpXG4gICAqL1xuICByZWZyZXNoKCkge1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYXR0cmlidXRpb25zIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7QXR0cmlidXRpb25MaWtlfHVuZGVmaW5lZH0gYXR0cmlidXRpb25zIEF0dHJpYnV0aW9ucy5cbiAgICogICAgIENhbiBiZSBwYXNzZWQgYXMgYHN0cmluZ2AsIGBBcnJheTxzdHJpbmc+YCwge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvU291cmNlfkF0dHJpYnV0aW9ufSxcbiAgICogICAgIG9yIGB1bmRlZmluZWRgLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRBdHRyaWJ1dGlvbnMoYXR0cmlidXRpb25zKSB7XG4gICAgdGhpcy5hdHRyaWJ1dGlvbnNfID0gYWRhcHRBdHRyaWJ1dGlvbnMoYXR0cmlidXRpb25zKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgKi9cbiAgc2V0U3RhdGUoc3RhdGUpIHtcbiAgICB0aGlzLnN0YXRlXyA9IHN0YXRlO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG59XG5cbi8qKlxuICogVHVybnMgdGhlIGF0dHJpYnV0aW9ucyBvcHRpb24gaW50byBhbiBhdHRyaWJ1dGlvbnMgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge0F0dHJpYnV0aW9uTGlrZXx1bmRlZmluZWR9IGF0dHJpYnV0aW9uTGlrZSBUaGUgYXR0cmlidXRpb24gb3B0aW9uLlxuICogQHJldHVybiB7QXR0cmlidXRpb258bnVsbH0gQW4gYXR0cmlidXRpb24gZnVuY3Rpb24gKG9yIG51bGwpLlxuICovXG5mdW5jdGlvbiBhZGFwdEF0dHJpYnV0aW9ucyhhdHRyaWJ1dGlvbkxpa2UpIHtcbiAgaWYgKCFhdHRyaWJ1dGlvbkxpa2UpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhdHRyaWJ1dGlvbkxpa2UpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgICByZXR1cm4gYXR0cmlidXRpb25MaWtlO1xuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIGF0dHJpYnV0aW9uTGlrZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBhdHRyaWJ1dGlvbkxpa2U7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgICByZXR1cm4gW2F0dHJpYnV0aW9uTGlrZV07XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNvdXJjZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVGlsZVxuICovXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi4vZXZlbnRzL0V2ZW50LmpzJztcbmltcG9ydCBTb3VyY2UgZnJvbSAnLi9Tb3VyY2UuanMnO1xuaW1wb3J0IFRpbGVDYWNoZSBmcm9tICcuLi9UaWxlQ2FjaGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge2VxdWl2YWxlbnR9IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IHtnZXRLZXlaWFksIHdpdGhpbkV4dGVudEFuZFp9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQge1xuICBnZXRGb3JQcm9qZWN0aW9uIGFzIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbixcbiAgd3JhcFgsXG59IGZyb20gJy4uL3RpbGVncmlkLmpzJztcbmltcG9ydCB7c2NhbGUgYXMgc2NhbGVTaXplLCB0b1NpemV9IGZyb20gJy4uL3NpemUuanMnO1xuXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXMsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9UaWxlRXZlbnRUeXBlXCIpLlRpbGVTb3VyY2VFdmVudFR5cGVzLCBUaWxlU291cmNlRXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfGltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICBpbXBvcnQoXCIuL1RpbGVFdmVudFR5cGVcIikuVGlsZVNvdXJjZUV2ZW50VHlwZXMsIFJldHVybj59IFRpbGVTb3VyY2VPblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV0gQ2FjaGVTaXplLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3BhcXVlPWZhbHNlXSBXaGV0aGVyIHRoZSBsYXllciBpcyBvcGFxdWUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RpbGVQaXhlbFJhdGlvXSBUaWxlUGl4ZWxSYXRpby5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb25dIFByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLlN0YXRlfSBbc3RhdGVdIFN0YXRlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBbdGlsZUdyaWRdIFRpbGVHcmlkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9ZmFsc2VdIFdyYXBYLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBUcmFuc2l0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIEtleS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gW3pEaXJlY3Rpb249MF0gWkRpcmVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlPWZhbHNlXSBVc2UgaW50ZXJwb2xhdGVkIHZhbHVlcyB3aGVuIHJlc2FtcGxpbmcuICBCeSBkZWZhdWx0LFxuICogdGhlIG5lYXJlc3QgbmVpZ2hib3IgaXMgdXNlZCB3aGVuIHJlc2FtcGxpbmcuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBCYXNlIGNsYXNzIGZvciBzb3VyY2VzIHByb3ZpZGluZyBpbWFnZXMgZGl2aWRlZCBpbnRvIGEgdGlsZSBncmlkLlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbmNsYXNzIFRpbGVTb3VyY2UgZXh0ZW5kcyBTb3VyY2Uge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIFNvdXJjZVRpbGUgc291cmNlIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlLFxuICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCxcbiAgICAgIGludGVycG9sYXRlOiBvcHRpb25zLmludGVycG9sYXRlLFxuICAgIH0pO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtUaWxlU291cmNlT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7VGlsZVNvdXJjZU9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7VGlsZVNvdXJjZU9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMub3BhcXVlXyA9IG9wdGlvbnMub3BhcXVlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9wYXF1ZSA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGlsZVBpeGVsUmF0aW9fID1cbiAgICAgIG9wdGlvbnMudGlsZVBpeGVsUmF0aW8gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGlsZVBpeGVsUmF0aW8gOiAxO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVHcmlkID0gb3B0aW9ucy50aWxlR3JpZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aWxlR3JpZCA6IG51bGw7XG5cbiAgICBjb25zdCB0aWxlU2l6ZSA9IFsyNTYsIDI1Nl07XG4gICAgaWYgKHRoaXMudGlsZUdyaWQpIHtcbiAgICAgIHRvU2l6ZSh0aGlzLnRpbGVHcmlkLmdldFRpbGVTaXplKHRoaXMudGlsZUdyaWQuZ2V0TWluWm9vbSgpKSwgdGlsZVNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZUNhY2hlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy50aWxlQ2FjaGUgPSBuZXcgVGlsZUNhY2hlKG9wdGlvbnMuY2FjaGVTaXplIHx8IDApO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy50bXBTaXplID0gWzAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMua2V5XyA9IG9wdGlvbnMua2V5IHx8ICcnO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLk9wdGlvbnN9XG4gICAgICovXG4gICAgdGhpcy50aWxlT3B0aW9ucyA9IHtcbiAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgIGludGVycG9sYXRlOiBvcHRpb25zLmludGVycG9sYXRlLFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiB6RGlyZWN0aW9uIGhpbnQsIHJlYWQgYnkgdGhlIHJlbmRlcmVyLiBJbmRpY2F0ZXMgd2hpY2ggcmVzb2x1dGlvbiBzaG91bGQgYmUgdXNlZFxuICAgICAqIGJ5IGEgcmVuZGVyZXIgaWYgdGhlIHZpZXdzIHJlc29sdXRpb24gZG9lcyBub3QgbWF0Y2ggYW55IHJlc29sdXRpb24gb2YgdGhlIHRpbGUgc291cmNlLlxuICAgICAqIElmIDAsIHRoZSBuZWFyZXN0IHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLiBJZiAxLCB0aGUgbmVhcmVzdCBsb3dlciByZXNvbHV0aW9uXG4gICAgICogd2lsbCBiZSB1c2VkLiBJZiAtMSwgdGhlIG5lYXJlc3QgaGlnaGVyIHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLlxuICAgICAqIEB0eXBlIHtudW1iZXJ8aW1wb3J0KFwiLi4vYXJyYXkuanNcIikuTmVhcmVzdERpcmVjdGlvbkZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuekRpcmVjdGlvbiA9IG9wdGlvbnMuekRpcmVjdGlvbiA/IG9wdGlvbnMuekRpcmVjdGlvbiA6IDA7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FuIGV4cGlyZSBjYWNoZS5cbiAgICovXG4gIGNhbkV4cGlyZUNhY2hlKCkge1xuICAgIHJldHVybiB0aGlzLnRpbGVDYWNoZS5jYW5FeHBpcmVDYWNoZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59IHVzZWRUaWxlcyBVc2VkIHRpbGVzLlxuICAgKi9cbiAgZXhwaXJlQ2FjaGUocHJvamVjdGlvbiwgdXNlZFRpbGVzKSB7XG4gICAgY29uc3QgdGlsZUNhY2hlID0gdGhpcy5nZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGlmICh0aWxlQ2FjaGUpIHtcbiAgICAgIHRpbGVDYWNoZS5leHBpcmVDYWNoZSh1c2VkVGlsZXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdCk6KGJvb2xlYW58dm9pZCl9IGNhbGxiYWNrIENhbGxlZCB3aXRoIGVhY2hcbiAgICogICAgIGxvYWRlZCB0aWxlLiAgSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYGZhbHNlYCwgdGhlIHRpbGUgd2lsbCBub3QgYmVcbiAgICogICAgIGNvbnNpZGVyZWQgbG9hZGVkLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdGlsZSByYW5nZSBpcyBmdWxseSBjb3ZlcmVkIHdpdGggbG9hZGVkIHRpbGVzLlxuICAgKi9cbiAgZm9yRWFjaExvYWRlZFRpbGUocHJvamVjdGlvbiwgeiwgdGlsZVJhbmdlLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHRpbGVDYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBpZiAoIXRpbGVDYWNoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGxldCBjb3ZlcmVkID0gdHJ1ZTtcbiAgICBsZXQgdGlsZSwgdGlsZUNvb3JkS2V5LCBsb2FkZWQ7XG4gICAgZm9yIChsZXQgeCA9IHRpbGVSYW5nZS5taW5YOyB4IDw9IHRpbGVSYW5nZS5tYXhYOyArK3gpIHtcbiAgICAgIGZvciAobGV0IHkgPSB0aWxlUmFuZ2UubWluWTsgeSA8PSB0aWxlUmFuZ2UubWF4WTsgKyt5KSB7XG4gICAgICAgIHRpbGVDb29yZEtleSA9IGdldEtleVpYWSh6LCB4LCB5KTtcbiAgICAgICAgbG9hZGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aWxlQ2FjaGUuY29udGFpbnNLZXkodGlsZUNvb3JkS2V5KSkge1xuICAgICAgICAgIHRpbGUgPSAvKiogQHR5cGUgeyFpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgIHRpbGVDYWNoZS5nZXQodGlsZUNvb3JkS2V5KVxuICAgICAgICAgICk7XG4gICAgICAgICAgbG9hZGVkID0gdGlsZS5nZXRTdGF0ZSgpID09PSBUaWxlU3RhdGUuTE9BREVEO1xuICAgICAgICAgIGlmIChsb2FkZWQpIHtcbiAgICAgICAgICAgIGxvYWRlZCA9IGNhbGxiYWNrKHRpbGUpICE9PSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFsb2FkZWQpIHtcbiAgICAgICAgICBjb3ZlcmVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvdmVyZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEd1dHRlci5cbiAgICovXG4gIGdldEd1dHRlckZvclByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUga2V5IHRvIGJlIHVzZWQgZm9yIGFsbCB0aWxlcyBpbiB0aGUgc291cmNlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBrZXkgZm9yIGFsbCB0aWxlcy5cbiAgICovXG4gIGdldEtleSgpIHtcbiAgICByZXR1cm4gdGhpcy5rZXlfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsdWUgdG8gYmUgdXNlZCBhcyB0aGUga2V5IGZvciBhbGwgdGlsZXMgaW4gdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IGZvciB0aWxlcy5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc2V0S2V5KGtleSkge1xuICAgIGlmICh0aGlzLmtleV8gIT09IGtleSkge1xuICAgICAgdGhpcy5rZXlfID0ga2V5O1xuICAgICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gT3BhcXVlLlxuICAgKi9cbiAgZ2V0T3BhcXVlKHByb2plY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5vcGFxdWVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uXCIpLmRlZmF1bHR9IFtwcm9qZWN0aW9uXSBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fG51bGx9IFJlc29sdXRpb25zLlxuICAgKi9cbiAgZ2V0UmVzb2x1dGlvbnMocHJvamVjdGlvbikge1xuICAgIGNvbnN0IHRpbGVHcmlkID0gcHJvamVjdGlvblxuICAgICAgPyB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKVxuICAgICAgOiB0aGlzLnRpbGVHcmlkO1xuICAgIGlmICghdGlsZUdyaWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gVGlsZS5cbiAgICovXG4gIGdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdGlsZSBncmlkIG9mIHRoZSB0aWxlIHNvdXJjZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdHxudWxsfSBUaWxlIGdyaWQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRpbGVHcmlkKCkge1xuICAgIHJldHVybiB0aGlzLnRpbGVHcmlkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFRpbGUgZ3JpZC5cbiAgICovXG4gIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gICAgaWYgKCF0aGlzLnRpbGVHcmlkKSB7XG4gICAgICByZXR1cm4gZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50aWxlR3JpZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVDYWNoZS5qc1wiKS5kZWZhdWx0fSBUaWxlIGNhY2hlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgICBjb25zdCBzb3VyY2VQcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgYXNzZXJ0KFxuICAgICAgc291cmNlUHJvamVjdGlvbiA9PT0gbnVsbCB8fCBlcXVpdmFsZW50KHNvdXJjZVByb2plY3Rpb24sIHByb2plY3Rpb24pLFxuICAgICAgNjggLy8gQSBWZWN0b3JUaWxlIHNvdXJjZSBjYW4gb25seSBiZSByZW5kZXJlZCBpZiBpdCBoYXMgYSBwcm9qZWN0aW9uIGNvbXBhdGlibGUgd2l0aCB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGlsZSBwaXhlbCByYXRpbyBmb3IgdGhpcyBzb3VyY2UuIFN1YmNsYXNzZXMgbWF5IG92ZXJyaWRlIHRoaXNcbiAgICogbWV0aG9kLCB3aGljaCBpcyBtZWFudCB0byByZXR1cm4gYSBzdXBwb3J0ZWQgcGl4ZWwgcmF0aW8gdGhhdCBtYXRjaGVzIHRoZVxuICAgKiBwcm92aWRlZCBgcGl4ZWxSYXRpb2AgYXMgY2xvc2UgYXMgcG9zc2libGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRpbGUgcGl4ZWwgcmF0aW8uXG4gICAqL1xuICBnZXRUaWxlUGl4ZWxSYXRpbyhwaXhlbFJhdGlvKSB7XG4gICAgcmV0dXJuIHRoaXMudGlsZVBpeGVsUmF0aW9fO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gVGlsZSBzaXplLlxuICAgKi9cbiAgZ2V0VGlsZVBpeGVsU2l6ZSh6LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgY29uc3QgdGlsZUdyaWQgPSB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBjb25zdCB0aWxlUGl4ZWxSYXRpbyA9IHRoaXMuZ2V0VGlsZVBpeGVsUmF0aW8ocGl4ZWxSYXRpbyk7XG4gICAgY29uc3QgdGlsZVNpemUgPSB0b1NpemUodGlsZUdyaWQuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZSk7XG4gICAgaWYgKHRpbGVQaXhlbFJhdGlvID09IDEpIHtcbiAgICAgIHJldHVybiB0aWxlU2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuIHNjYWxlU2l6ZSh0aWxlU2l6ZSwgdGlsZVBpeGVsUmF0aW8sIHRoaXMudG1wU2l6ZSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHRpbGUgY29vcmRpbmF0ZSB3cmFwcGVkIGFyb3VuZCB0aGUgeC1heGlzLiBXaGVuIHRoZSB0aWxlIGNvb3JkaW5hdGVcbiAgICogaXMgb3V0c2lkZSB0aGUgcmVzb2x1dGlvbiBhbmQgZXh0ZW50IHJhbmdlIG9mIHRoZSB0aWxlIGdyaWQsIGBudWxsYCB3aWxsIGJlXG4gICAqIHJldHVybmVkLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IFtwcm9qZWN0aW9uXSBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUgdG8gYmUgcGFzc2VkIHRvIHRoZSB0aWxlVXJsRnVuY3Rpb24gb3JcbiAgICogICAgIG51bGwgaWYgbm8gdGlsZSBVUkwgc2hvdWxkIGJlIGNyZWF0ZWQgZm9yIHRoZSBwYXNzZWQgYHRpbGVDb29yZGAuXG4gICAqL1xuICBnZXRUaWxlQ29vcmRGb3JUaWxlVXJsRnVuY3Rpb24odGlsZUNvb3JkLCBwcm9qZWN0aW9uKSB7XG4gICAgcHJvamVjdGlvbiA9IHByb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IHByb2plY3Rpb24gOiB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICBjb25zdCB0aWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGlmICh0aGlzLmdldFdyYXBYKCkgJiYgcHJvamVjdGlvbi5pc0dsb2JhbCgpKSB7XG4gICAgICB0aWxlQ29vcmQgPSB3cmFwWCh0aWxlR3JpZCwgdGlsZUNvb3JkLCBwcm9qZWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpdGhpbkV4dGVudEFuZFoodGlsZUNvb3JkLCB0aWxlR3JpZCkgPyB0aWxlQ29vcmQgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgY2FjaGVkIHRpbGVzIGZyb20gdGhlIHNvdXJjZS4gVGhlIG5leHQgcmVuZGVyIGN5Y2xlIHdpbGwgZmV0Y2ggbmV3IHRpbGVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLnRpbGVDYWNoZS5jbGVhcigpO1xuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgc3VwZXIucmVmcmVzaCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluY3JlYXNlcyB0aGUgY2FjaGUgc2l6ZSBpZiBuZWVkZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbGVDb3VudCBNaW5pbXVtIG51bWJlciBvZiB0aWxlcyBuZWVkZWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICovXG4gIHVwZGF0ZUNhY2hlU2l6ZSh0aWxlQ291bnQsIHByb2plY3Rpb24pIHtcbiAgICBjb25zdCB0aWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgaWYgKHRpbGVDb3VudCA+IHRpbGVDYWNoZS5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgICB0aWxlQ2FjaGUuaGlnaFdhdGVyTWFyayA9IHRpbGVDb3VudDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWFya3MgYSB0aWxlIGNvb3JkIGFzIGJlaW5nIHVzZWQsIHdpdGhvdXQgdHJpZ2dlcmluZyBhIGxvYWQuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqL1xuICB1c2VUaWxlKHosIHgsIHksIHByb2plY3Rpb24pIHt9XG59XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVGlsZX5UaWxlU291cmNlfSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZiB0aGlzXG4gKiB0eXBlLlxuICovXG5leHBvcnQgY2xhc3MgVGlsZVNvdXJjZUV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGhlIHRpbGUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCB0aWxlKSB7XG4gICAgc3VwZXIodHlwZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGlsZSByZWxhdGVkIHRvIHRoZSBldmVudC5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLnRpbGUgPSB0aWxlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVTb3VyY2U7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZXVybGZ1bmN0aW9uXG4gKi9cbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHttb2R1bG99IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQge2hhc2ggYXMgdGlsZUNvb3JkSGFzaH0gZnJvbSAnLi90aWxlY29vcmQuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZSBUZW1wbGF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFRpbGUgVVJMIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCB0aWxlR3JpZCkge1xuICBjb25zdCB6UmVnRXggPSAvXFx7elxcfS9nO1xuICBjb25zdCB4UmVnRXggPSAvXFx7eFxcfS9nO1xuICBjb25zdCB5UmVnRXggPSAvXFx7eVxcfS9nO1xuICBjb25zdCBkYXNoWVJlZ0V4ID0gL1xcey15XFx9L2c7XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgaWYgKCF0aWxlQ29vcmQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZW1wbGF0ZVxuICAgICAgICAucmVwbGFjZSh6UmVnRXgsIHRpbGVDb29yZFswXS50b1N0cmluZygpKVxuICAgICAgICAucmVwbGFjZSh4UmVnRXgsIHRpbGVDb29yZFsxXS50b1N0cmluZygpKVxuICAgICAgICAucmVwbGFjZSh5UmVnRXgsIHRpbGVDb29yZFsyXS50b1N0cmluZygpKVxuICAgICAgICAucmVwbGFjZShkYXNoWVJlZ0V4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc3QgeiA9IHRpbGVDb29yZFswXTtcbiAgICAgICAgICBjb25zdCByYW5nZSA9IHRpbGVHcmlkLmdldEZ1bGxUaWxlUmFuZ2Uoeik7XG4gICAgICAgICAgYXNzZXJ0KHJhbmdlLCA1NSk7IC8vIFRoZSB7LXl9IHBsYWNlaG9sZGVyIHJlcXVpcmVzIGEgdGlsZSBncmlkIHdpdGggZXh0ZW50XG4gICAgICAgICAgY29uc3QgeSA9IHJhbmdlLmdldEhlaWdodCgpIC0gdGlsZUNvb3JkWzJdIC0gMTtcbiAgICAgICAgICByZXR1cm4geS50b1N0cmluZygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSB0ZW1wbGF0ZXMgVGVtcGxhdGVzLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gVGlsZSBVUkwgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGcm9tVGVtcGxhdGVzKHRlbXBsYXRlcywgdGlsZUdyaWQpIHtcbiAgY29uc3QgbGVuID0gdGVtcGxhdGVzLmxlbmd0aDtcbiAgY29uc3QgdGlsZVVybEZ1bmN0aW9ucyA9IG5ldyBBcnJheShsZW4pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdGlsZVVybEZ1bmN0aW9uc1tpXSA9IGNyZWF0ZUZyb21UZW1wbGF0ZSh0ZW1wbGF0ZXNbaV0sIHRpbGVHcmlkKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlRnJvbVRpbGVVcmxGdW5jdGlvbnModGlsZVVybEZ1bmN0aW9ucyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL1RpbGUuanNcIikuVXJsRnVuY3Rpb24+fSB0aWxlVXJsRnVuY3Rpb25zIFRpbGUgVVJMIEZ1bmN0aW9ucy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gVGlsZSBVUkwgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGcm9tVGlsZVVybEZ1bmN0aW9ucyh0aWxlVXJsRnVuY3Rpb25zKSB7XG4gIGlmICh0aWxlVXJsRnVuY3Rpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiB0aWxlVXJsRnVuY3Rpb25zWzBdO1xuICB9XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIENvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgICAgaWYgKCF0aWxlQ29vcmQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGggPSB0aWxlQ29vcmRIYXNoKHRpbGVDb29yZCk7XG4gICAgICBjb25zdCBpbmRleCA9IG1vZHVsbyhoLCB0aWxlVXJsRnVuY3Rpb25zLmxlbmd0aCk7XG4gICAgICByZXR1cm4gdGlsZVVybEZ1bmN0aW9uc1tpbmRleF0odGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICB9XG4gICk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudWxsVGlsZVVybEZ1bmN0aW9uKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMLlxuICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn0gQXJyYXkgb2YgdXJscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZFVybCh1cmwpIHtcbiAgY29uc3QgdXJscyA9IFtdO1xuICBsZXQgbWF0Y2ggPSAvXFx7KFthLXpdKS0oW2Etel0pXFx9Ly5leGVjKHVybCk7XG4gIGlmIChtYXRjaCkge1xuICAgIC8vIGNoYXIgcmFuZ2VcbiAgICBjb25zdCBzdGFydENoYXJDb2RlID0gbWF0Y2hbMV0uY2hhckNvZGVBdCgwKTtcbiAgICBjb25zdCBzdG9wQ2hhckNvZGUgPSBtYXRjaFsyXS5jaGFyQ29kZUF0KDApO1xuICAgIGxldCBjaGFyQ29kZTtcbiAgICBmb3IgKGNoYXJDb2RlID0gc3RhcnRDaGFyQ29kZTsgY2hhckNvZGUgPD0gc3RvcENoYXJDb2RlOyArK2NoYXJDb2RlKSB7XG4gICAgICB1cmxzLnB1c2godXJsLnJlcGxhY2UobWF0Y2hbMF0sIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpKSk7XG4gICAgfVxuICAgIHJldHVybiB1cmxzO1xuICB9XG4gIG1hdGNoID0gL1xceyhcXGQrKS0oXFxkKylcXH0vLmV4ZWModXJsKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgLy8gbnVtYmVyIHJhbmdlXG4gICAgY29uc3Qgc3RvcCA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG4gICAgZm9yIChsZXQgaSA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7IGkgPD0gc3RvcDsgaSsrKSB7XG4gICAgICB1cmxzLnB1c2godXJsLnJlcGxhY2UobWF0Y2hbMF0sIGkudG9TdHJpbmcoKSkpO1xuICAgIH1cbiAgICByZXR1cm4gdXJscztcbiAgfVxuICB1cmxzLnB1c2godXJsKTtcbiAgcmV0dXJuIHVybHM7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1VybFRpbGVcbiAqL1xuaW1wb3J0IFRpbGVFdmVudFR5cGUgZnJvbSAnLi9UaWxlRXZlbnRUeXBlLmpzJztcbmltcG9ydCBUaWxlU291cmNlLCB7VGlsZVNvdXJjZUV2ZW50fSBmcm9tICcuL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IHtjcmVhdGVGcm9tVGVtcGxhdGVzLCBleHBhbmRVcmx9IGZyb20gJy4uL3RpbGV1cmxmdW5jdGlvbi5qcyc7XG5pbXBvcnQge2dldEtleVpYWX0gZnJvbSAnLi4vdGlsZWNvb3JkLmpzJztcbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi91dGlsLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb25zQ29sbGFwc2libGU9dHJ1ZV0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplXSBDYWNoZSBzaXplLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3BhcXVlPWZhbHNlXSBXaGV0aGVyIHRoZSBsYXllciBpcyBvcGFxdWUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uXSBQcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5TdGF0ZX0gW3N0YXRlXSBTdGF0ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlR3JpZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IHRpbGVMb2FkRnVuY3Rpb24gVGlsZUxvYWRGdW5jdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW9dIFRpbGVQaXhlbFJhdGlvLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBbdGlsZVVybEZ1bmN0aW9uXSBUaWxlVXJsRnVuY3Rpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gVXJsLlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSBbdXJsc10gVXJscy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdyYXBYLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBUcmFuc2l0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIEtleS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gW3pEaXJlY3Rpb249MF0gWkRpcmVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlPWZhbHNlXSBVc2UgaW50ZXJwb2xhdGVkIHZhbHVlcyB3aGVuIHJlc2FtcGxpbmcuICBCeSBkZWZhdWx0LFxuICogdGhlIG5lYXJlc3QgbmVpZ2hib3IgaXMgdXNlZCB3aGVuIHJlc2FtcGxpbmcuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZvciBzb3VyY2VzIHByb3ZpZGluZyB0aWxlcyBkaXZpZGVkIGludG8gYSB0aWxlIGdyaWQgb3ZlciBodHRwLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL1RpbGUuanNcIikuVGlsZVNvdXJjZUV2ZW50XG4gKi9cbmNsYXNzIFVybFRpbGUgZXh0ZW5kcyBUaWxlU291cmNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBJbWFnZSB0aWxlIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICBvcGFxdWU6IG9wdGlvbnMub3BhcXVlLFxuICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICB0aWxlR3JpZDogb3B0aW9ucy50aWxlR3JpZCxcbiAgICAgIHRpbGVQaXhlbFJhdGlvOiBvcHRpb25zLnRpbGVQaXhlbFJhdGlvLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFgsXG4gICAgICB0cmFuc2l0aW9uOiBvcHRpb25zLnRyYW5zaXRpb24sXG4gICAgICBpbnRlcnBvbGF0ZTogb3B0aW9ucy5pbnRlcnBvbGF0ZSxcbiAgICAgIGtleTogb3B0aW9ucy5rZXksXG4gICAgICBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZTogb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSxcbiAgICAgIHpEaXJlY3Rpb246IG9wdGlvbnMuekRpcmVjdGlvbixcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5nZW5lcmF0ZVRpbGVVcmxGdW5jdGlvbl8gPVxuICAgICAgdGhpcy50aWxlVXJsRnVuY3Rpb24gPT09IFVybFRpbGUucHJvdG90eXBlLnRpbGVVcmxGdW5jdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uID0gb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uO1xuXG4gICAgaWYgKG9wdGlvbnMudGlsZVVybEZ1bmN0aW9uKSB7XG4gICAgICB0aGlzLnRpbGVVcmxGdW5jdGlvbiA9IG9wdGlvbnMudGlsZVVybEZ1bmN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7IUFycmF5PHN0cmluZz58bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnVybHMgPSBudWxsO1xuXG4gICAgaWYgKG9wdGlvbnMudXJscykge1xuICAgICAgdGhpcy5zZXRVcmxzKG9wdGlvbnMudXJscyk7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnVybCkge1xuICAgICAgdGhpcy5zZXRVcmwob3B0aW9ucy51cmwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVMb2FkaW5nS2V5c18gPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHRpbGUgbG9hZCBmdW5jdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gVGlsZUxvYWRGdW5jdGlvblxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUaWxlTG9hZEZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRpbGVMb2FkRnVuY3Rpb247XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSB0aWxlIFVSTCBmdW5jdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlVXJsRnVuY3Rpb25cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VGlsZVVybEZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykudGlsZVVybEZ1bmN0aW9uID09PSB0aGlzLnRpbGVVcmxGdW5jdGlvblxuICAgICAgPyB0aGlzLnRpbGVVcmxGdW5jdGlvbi5iaW5kKHRoaXMpXG4gICAgICA6IHRoaXMudGlsZVVybEZ1bmN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgVVJMcyB1c2VkIGZvciB0aGlzIHNvdXJjZS5cbiAgICogV2hlbiBhIHRpbGVVcmxGdW5jdGlvbiBpcyB1c2VkIGluc3RlYWQgb2YgdXJsIG9yIHVybHMsXG4gICAqIG51bGwgd2lsbCBiZSByZXR1cm5lZC5cbiAgICogQHJldHVybiB7IUFycmF5PHN0cmluZz58bnVsbH0gVVJMcy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VXJscygpIHtcbiAgICByZXR1cm4gdGhpcy51cmxzO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0aWxlIGNoYW5nZSBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEV2ZW50LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBoYW5kbGVUaWxlQ2hhbmdlKGV2ZW50KSB7XG4gICAgY29uc3QgdGlsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoZXZlbnQudGFyZ2V0KTtcbiAgICBjb25zdCB1aWQgPSBnZXRVaWQodGlsZSk7XG4gICAgY29uc3QgdGlsZVN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgIGxldCB0eXBlO1xuICAgIGlmICh0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkxPQURJTkcpIHtcbiAgICAgIHRoaXMudGlsZUxvYWRpbmdLZXlzX1t1aWRdID0gdHJ1ZTtcbiAgICAgIHR5cGUgPSBUaWxlRXZlbnRUeXBlLlRJTEVMT0FEU1RBUlQ7XG4gICAgfSBlbHNlIGlmICh1aWQgaW4gdGhpcy50aWxlTG9hZGluZ0tleXNfKSB7XG4gICAgICBkZWxldGUgdGhpcy50aWxlTG9hZGluZ0tleXNfW3VpZF07XG4gICAgICB0eXBlID1cbiAgICAgICAgdGlsZVN0YXRlID09IFRpbGVTdGF0ZS5FUlJPUlxuICAgICAgICAgID8gVGlsZUV2ZW50VHlwZS5USUxFTE9BREVSUk9SXG4gICAgICAgICAgOiB0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkxPQURFRFxuICAgICAgICAgID8gVGlsZUV2ZW50VHlwZS5USUxFTE9BREVORFxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodHlwZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVGlsZVNvdXJjZUV2ZW50KHR5cGUsIHRpbGUpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB0aWxlIGxvYWQgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gdGlsZUxvYWRGdW5jdGlvbiBUaWxlIGxvYWQgZnVuY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFRpbGVMb2FkRnVuY3Rpb24odGlsZUxvYWRGdW5jdGlvbikge1xuICAgIHRoaXMudGlsZUNhY2hlLmNsZWFyKCk7XG4gICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uID0gdGlsZUxvYWRGdW5jdGlvbjtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRpbGUgVVJMIGZ1bmN0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gdGlsZVVybEZ1bmN0aW9uIFRpbGUgVVJMIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gT3B0aW9uYWwgbmV3IHRpbGUga2V5IGZvciB0aGUgc291cmNlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRUaWxlVXJsRnVuY3Rpb24odGlsZVVybEZ1bmN0aW9uLCBrZXkpIHtcbiAgICB0aGlzLnRpbGVVcmxGdW5jdGlvbiA9IHRpbGVVcmxGdW5jdGlvbjtcbiAgICB0aGlzLnRpbGVDYWNoZS5wcnVuZUV4Y2VwdE5ld2VzdFooKTtcbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuc2V0S2V5KGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIFVSTCB0byB1c2UgZm9yIHJlcXVlc3RzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0VXJsKHVybCkge1xuICAgIGNvbnN0IHVybHMgPSBleHBhbmRVcmwodXJsKTtcbiAgICB0aGlzLnVybHMgPSB1cmxzO1xuICAgIHRoaXMuc2V0VXJscyh1cmxzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIFVSTHMgdG8gdXNlIGZvciByZXF1ZXN0cy5cbiAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSB1cmxzIFVSTHMuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFVybHModXJscykge1xuICAgIHRoaXMudXJscyA9IHVybHM7XG4gICAgY29uc3Qga2V5ID0gdXJscy5qb2luKCdcXG4nKTtcbiAgICBpZiAodGhpcy5nZW5lcmF0ZVRpbGVVcmxGdW5jdGlvbl8pIHtcbiAgICAgIHRoaXMuc2V0VGlsZVVybEZ1bmN0aW9uKGNyZWF0ZUZyb21UZW1wbGF0ZXModXJscywgdGhpcy50aWxlR3JpZCksIGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0S2V5KGtleSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gVGlsZSBVUkwuXG4gICAqL1xuICB0aWxlVXJsRnVuY3Rpb24odGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXJrcyBhIHRpbGUgY29vcmQgYXMgYmVpbmcgdXNlZCwgd2l0aG91dCB0cmlnZ2VyaW5nIGEgbG9hZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICovXG4gIHVzZVRpbGUoeiwgeCwgeSkge1xuICAgIGNvbnN0IHRpbGVDb29yZEtleSA9IGdldEtleVpYWSh6LCB4LCB5KTtcbiAgICBpZiAodGhpcy50aWxlQ2FjaGUuY29udGFpbnNLZXkodGlsZUNvb3JkS2V5KSkge1xuICAgICAgdGhpcy50aWxlQ2FjaGUuZ2V0KHRpbGVDb29yZEtleSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVybFRpbGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1RpbGVFdmVudFR5cGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgdGlsZSBzdGFydHMgbG9hZGluZy5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9zb3VyY2UvVGlsZS5UaWxlU291cmNlRXZlbnQjdGlsZWxvYWRzdGFydFxuICAgKiBAYXBpXG4gICAqL1xuICBUSUxFTE9BRFNUQVJUOiAndGlsZWxvYWRzdGFydCcsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgdGlsZSBmaW5pc2hlcyBsb2FkaW5nLCBlaXRoZXIgd2hlbiBpdHMgZGF0YSBpcyBsb2FkZWQsXG4gICAqIG9yIHdoZW4gbG9hZGluZyB3YXMgYWJvcnRlZCBiZWNhdXNlIHRoZSB0aWxlIGlzIG5vIGxvbmdlciBuZWVkZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1RpbGUuVGlsZVNvdXJjZUV2ZW50I3RpbGVsb2FkZW5kXG4gICAqIEBhcGlcbiAgICovXG4gIFRJTEVMT0FERU5EOiAndGlsZWxvYWRlbmQnLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgaWYgdGlsZSBsb2FkaW5nIHJlc3VsdHMgaW4gYW4gZXJyb3IuIE5vdGUgdGhhdCB0aGlzIGlzIG5vdCB0aGVcbiAgICogcmlnaHQgcGxhY2UgdG8gcmUtZmV0Y2ggdGlsZXMuIFNlZSB7QGxpbmsgbW9kdWxlOm9sL0ltYWdlVGlsZX5JbWFnZVRpbGUjbG9hZH1cbiAgICogZm9yIGRldGFpbHMuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1RpbGUuVGlsZVNvdXJjZUV2ZW50I3RpbGVsb2FkZXJyb3JcbiAgICogQGFwaVxuICAgKi9cbiAgVElMRUxPQURFUlJPUjogJ3RpbGVsb2FkZXJyb3InLFxufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7J3RpbGVsb2Fkc3RhcnQnfCd0aWxlbG9hZGVuZCd8J3RpbGVsb2FkZXJyb3InfSBUaWxlU291cmNlRXZlbnRUeXBlc1xuICovXG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvVmVjdG9yVGlsZVxuICovXG5pbXBvcnQgVGlsZSBmcm9tICcuL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuL1RpbGVTdGF0ZS5qcyc7XG5cbmNsYXNzIFZlY3RvclRpbGUgZXh0ZW5kcyBUaWxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZVN0YXRlLmpzXCIpLmRlZmF1bHR9IHN0YXRlIFN0YXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIERhdGEgc291cmNlIHVybC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZvcm1hdCBGZWF0dXJlIGZvcm1hdC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSB0aWxlTG9hZEZ1bmN0aW9uIFRpbGUgbG9hZCBmdW5jdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuT3B0aW9uc30gW29wdGlvbnNdIFRpbGUgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRpbGVDb29yZCwgc3RhdGUsIHNyYywgZm9ybWF0LCB0aWxlTG9hZEZ1bmN0aW9uLCBvcHRpb25zKSB7XG4gICAgc3VwZXIodGlsZUNvb3JkLCBzdGF0ZSwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBFeHRlbnQgb2YgdGhpcyB0aWxlOyBzZXQgYnkgdGhlIHNvdXJjZS5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMuZXh0ZW50ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmZvcm1hdF8gPSBmb3JtYXQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5mZWF0dXJlc18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVMb2FkZXJ9XG4gICAgICovXG4gICAgdGhpcy5sb2FkZXJfO1xuXG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBwcm9qZWN0aW9uIG9mIHRoaXMgdGlsZTsgc2V0IGJ5IHRoZSBzb3VyY2UuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5wcm9qZWN0aW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFJlc29sdXRpb24gb2YgdGhpcyB0aWxlOyBzZXQgYnkgdGhlIHNvdXJjZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uXyA9IHRpbGVMb2FkRnVuY3Rpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy51cmxfID0gc3JjO1xuXG4gICAgdGhpcy5rZXkgPSBzcmM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBmZWF0dXJlIGZvcm1hdCBhc3NpZ25lZCBmb3IgcmVhZGluZyB0aGlzIHRpbGUncyBmZWF0dXJlcy5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBGZWF0dXJlIGZvcm1hdC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Rm9ybWF0KCkge1xuICAgIHJldHVybiB0aGlzLmZvcm1hdF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBmZWF0dXJlcyBmb3IgdGhpcyB0aWxlLiBHZW9tZXRyaWVzIHdpbGwgYmUgaW4gdGhlIHZpZXcgcHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlPn0gRmVhdHVyZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEZlYXR1cmVzKCkge1xuICAgIHJldHVybiB0aGlzLmZlYXR1cmVzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICovXG4gIGxvYWQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoVGlsZVN0YXRlLkxPQURJTkcpO1xuICAgICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uXyh0aGlzLCB0aGlzLnVybF8pO1xuICAgICAgaWYgKHRoaXMubG9hZGVyXykge1xuICAgICAgICB0aGlzLmxvYWRlcl8odGhpcy5leHRlbnQsIHRoaXMucmVzb2x1dGlvbiwgdGhpcy5wcm9qZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlciBmb3Igc3VjY2Vzc2Z1bCB0aWxlIGxvYWQuXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBmZWF0dXJlcyBUaGUgbG9hZGVkIGZlYXR1cmVzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGRhdGFQcm9qZWN0aW9uIERhdGEgcHJvamVjdGlvbi5cbiAgICovXG4gIG9uTG9hZChmZWF0dXJlcywgZGF0YVByb2plY3Rpb24pIHtcbiAgICB0aGlzLnNldEZlYXR1cmVzKGZlYXR1cmVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVyIGZvciB0aWxlIGxvYWQgZXJyb3JzLlxuICAgKi9cbiAgb25FcnJvcigpIHtcbiAgICB0aGlzLnNldFN0YXRlKFRpbGVTdGF0ZS5FUlJPUik7XG4gIH1cblxuICAvKipcbiAgICogRnVuY3Rpb24gZm9yIHVzZSBpbiBhbiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3JUaWxlflZlY3RvclRpbGV9J3MgYHRpbGVMb2FkRnVuY3Rpb25gLlxuICAgKiBTZXRzIHRoZSBmZWF0dXJlcyBmb3IgdGhlIHRpbGUuXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBmZWF0dXJlcyBGZWF0dXJlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0RmVhdHVyZXMoZmVhdHVyZXMpIHtcbiAgICB0aGlzLmZlYXR1cmVzXyA9IGZlYXR1cmVzO1xuICAgIHRoaXMuc2V0U3RhdGUoVGlsZVN0YXRlLkxPQURFRCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBmZWF0dXJlIGxvYWRlciBmb3IgcmVhZGluZyB0aGlzIHRpbGUncyBmZWF0dXJlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2ZlYXR1cmVsb2FkZXIuanNcIikuRmVhdHVyZUxvYWRlcn0gbG9hZGVyIEZlYXR1cmUgbG9hZGVyLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRMb2FkZXIobG9hZGVyKSB7XG4gICAgdGhpcy5sb2FkZXJfID0gbG9hZGVyO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZlY3RvclRpbGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvVmVjdG9yUmVuZGVyVGlsZVxuICovXG5pbXBvcnQgVGlsZSBmcm9tICcuL1RpbGUuanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkQsIHJlbGVhc2VDYW52YXN9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuL3V0aWwuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJlcGxheVN0YXRlXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGRpcnR5IERpcnR5LlxuICogQHByb3BlcnR5IHtudWxsfGltcG9ydChcIi4vcmVuZGVyLmpzXCIpLk9yZGVyRnVuY3Rpb259IHJlbmRlcmVkUmVuZGVyT3JkZXIgUmVuZGVyZWRSZW5kZXJPcmRlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZW5kZXJlZFRpbGVSZXZpc2lvbiBSZW5kZXJlZFRpbGVSZXZpc2lvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZW5kZXJlZFJlc29sdXRpb24gUmVuZGVyZWRSZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlbmRlcmVkUmV2aXNpb24gUmVuZGVyZWRSZXZpc2lvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZW5kZXJlZFRpbGVSZXNvbHV0aW9uIFJlbmRlcmVkVGlsZVJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVuZGVyZWRUaWxlWiBSZW5kZXJlZFRpbGVaLlxuICovXG5cbi8qKlxuICogQHR5cGUge0FycmF5PEhUTUxDYW52YXNFbGVtZW50Pn1cbiAqL1xuY29uc3QgY2FudmFzUG9vbCA9IFtdO1xuXG5jbGFzcyBWZWN0b3JSZW5kZXJUaWxlIGV4dGVuZHMgVGlsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fSBzdGF0ZSBTdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHVybFRpbGVDb29yZCBXcmFwcGVkIHRpbGUgY29vcmRpbmF0ZSBmb3Igc291cmNlIHVybHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oVmVjdG9yUmVuZGVyVGlsZSk6QXJyYXk8aW1wb3J0KFwiLi9WZWN0b3JUaWxlXCIpLmRlZmF1bHQ+fSBnZXRTb3VyY2VUaWxlcyBGdW5jdGlvblxuICAgKiB0byBnZXQgc291cmNlIHRpbGVzIGZvciB0aGlzIHRpbGUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0aWxlQ29vcmQsIHN0YXRlLCB1cmxUaWxlQ29vcmQsIGdldFNvdXJjZVRpbGVzKSB7XG4gICAgc3VwZXIodGlsZUNvb3JkLCBzdGF0ZSwge3RyYW5zaXRpb246IDB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ+fVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dF8gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dG9yIGdyb3VwcyBieSBsYXllciB1aWQuIEVudHJpZXMgYXJlIHJlYWQvd3JpdHRlbiBieSB0aGUgcmVuZGVyZXIuXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIEFycmF5PGltcG9ydChcIi4vcmVuZGVyL2NhbnZhcy9FeGVjdXRvckdyb3VwLmpzXCIpLmRlZmF1bHQ+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmV4ZWN1dG9yR3JvdXBzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRvciBncm91cHMgZm9yIGRlY2x1dHRlcmluZywgYnkgbGF5ZXIgdWlkLiBFbnRyaWVzIGFyZSByZWFkL3dyaXR0ZW4gYnkgdGhlIHJlbmRlcmVyLlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBBcnJheTxpbXBvcnQoXCIuL3JlbmRlci9jYW52YXMvRXhlY3V0b3JHcm91cC5qc1wiKS5kZWZhdWx0Pj59XG4gICAgICovXG4gICAgdGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIGxvYWRpbmcgc291cmNlIHRpbGVzLiBSZWFkL3dyaXR0ZW4gYnkgdGhlIHNvdXJjZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubG9hZGluZ1NvdXJjZVRpbGVzID0gMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBJbWFnZURhdGE+fVxuICAgICAqL1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgUmVwbGF5U3RhdGU+fVxuICAgICAqL1xuICAgIHRoaXMucmVwbGF5U3RhdGVfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlVGlsZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBib29sZWFuPn1cbiAgICAgKi9cbiAgICB0aGlzLmVycm9yVGlsZUtleXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy53YW50ZWRSZXNvbHV0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFmdW5jdGlvbigpOkFycmF5PGltcG9ydChcIi4vVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLmdldFNvdXJjZVRpbGVzID0gZ2V0U291cmNlVGlsZXMuYmluZCh1bmRlZmluZWQsIHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH1cbiAgICAgKi9cbiAgICB0aGlzLndyYXBwZWRUaWxlQ29vcmQgPSB1cmxUaWxlQ29vcmQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgKiBAcmV0dXJuIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAgICovXG4gIGdldENvbnRleHQobGF5ZXIpIHtcbiAgICBjb25zdCBrZXkgPSBnZXRVaWQobGF5ZXIpO1xuICAgIGlmICghKGtleSBpbiB0aGlzLmNvbnRleHRfKSkge1xuICAgICAgdGhpcy5jb250ZXh0X1trZXldID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKDEsIDEsIGNhbnZhc1Bvb2wpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb250ZXh0X1trZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGlsZSBoYXMgYSByZW5kZXJpbmcgY29udGV4dCBmb3IgdGhlIGdpdmVuIGxheWVyLlxuICAgKi9cbiAgaGFzQ29udGV4dChsYXllcikge1xuICAgIHJldHVybiBnZXRVaWQobGF5ZXIpIGluIHRoaXMuY29udGV4dF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBDYW52YXMgZm9yIHRoaXMgdGlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQ2FudmFzLlxuICAgKi9cbiAgZ2V0SW1hZ2UobGF5ZXIpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNDb250ZXh0KGxheWVyKSA/IHRoaXMuZ2V0Q29udGV4dChsYXllcikuY2FudmFzIDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAqIEByZXR1cm4ge1JlcGxheVN0YXRlfSBUaGUgcmVwbGF5IHN0YXRlLlxuICAgKi9cbiAgZ2V0UmVwbGF5U3RhdGUobGF5ZXIpIHtcbiAgICBjb25zdCBrZXkgPSBnZXRVaWQobGF5ZXIpO1xuICAgIGlmICghKGtleSBpbiB0aGlzLnJlcGxheVN0YXRlXykpIHtcbiAgICAgIHRoaXMucmVwbGF5U3RhdGVfW2tleV0gPSB7XG4gICAgICAgIGRpcnR5OiBmYWxzZSxcbiAgICAgICAgcmVuZGVyZWRSZW5kZXJPcmRlcjogbnVsbCxcbiAgICAgICAgcmVuZGVyZWRSZXNvbHV0aW9uOiBOYU4sXG4gICAgICAgIHJlbmRlcmVkUmV2aXNpb246IC0xLFxuICAgICAgICByZW5kZXJlZFRpbGVSZXNvbHV0aW9uOiBOYU4sXG4gICAgICAgIHJlbmRlcmVkVGlsZVJldmlzaW9uOiAtMSxcbiAgICAgICAgcmVuZGVyZWRUaWxlWjogLTEsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZXBsYXlTdGF0ZV9ba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHRoZSB0aWxlLlxuICAgKi9cbiAgbG9hZCgpIHtcbiAgICB0aGlzLmdldFNvdXJjZVRpbGVzKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGZyb20gdGhlIGNhY2hlIGR1ZSB0byBleHBpcnlcbiAgICovXG4gIHJlbGVhc2UoKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5jb250ZXh0Xykge1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF9ba2V5XTtcbiAgICAgIHJlbGVhc2VDYW52YXMoY29udGV4dCk7XG4gICAgICBjYW52YXNQb29sLnB1c2goY29udGV4dC5jYW52YXMpO1xuICAgICAgZGVsZXRlIHRoaXMuY29udGV4dF9ba2V5XTtcbiAgICB9XG4gICAgc3VwZXIucmVsZWFzZSgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZlY3RvclJlbmRlclRpbGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZmVhdHVyZWxvYWRlclxuICovXG5pbXBvcnQge1ZPSUR9IGZyb20gJy4vZnVuY3Rpb25zLmpzJztcblxuLyoqXG4gKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAcHJpdmF0ZVxuICovXG5sZXQgd2l0aENyZWRlbnRpYWxzID0gZmFsc2U7XG5cbi8qKlxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZX0gc291cmNlcyB1c2UgYSBmdW5jdGlvbiBvZiB0aGlzIHR5cGUgdG9cbiAqIGxvYWQgZmVhdHVyZXMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyB1cCB0byA1IGFyZ3VtZW50cy4gVGhlc2UgYXJlIGFuIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50fkV4dGVudH0gcmVwcmVzZW50aW5nXG4gKiB0aGUgYXJlYSB0byBiZSBsb2FkZWQsIGEgYHtudW1iZXJ9YCByZXByZXNlbnRpbmcgdGhlIHJlc29sdXRpb24gKG1hcCB1bml0cyBwZXIgcGl4ZWwpLCBhblxuICoge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb25+UHJvamVjdGlvbn0gZm9yIHRoZSBwcm9qZWN0aW9uLCBhbiBvcHRpb25hbCBzdWNjZXNzIGNhbGxiYWNrIHRoYXQgc2hvdWxkIGdldFxuICogdGhlIGxvYWRlZCBmZWF0dXJlcyBwYXNzZWQgYXMgYW4gYXJndW1lbnQgYW5kIGFuIG9wdGlvbmFsIGZhaWx1cmUgY2FsbGJhY2sgd2l0aCBubyBhcmd1bWVudHMuIElmXG4gKiB0aGUgY2FsbGJhY2tzIGFyZSBub3QgdXNlZCwgdGhlIGNvcnJlc3BvbmRpbmcgdmVjdG9yIHNvdXJjZSB3aWxsIG5vdCBmaXJlIGAnZmVhdHVyZXNsb2FkZW5kJ2AgYW5kXG4gKiBgJ2ZlYXR1cmVzbG9hZGVycm9yJ2AgZXZlbnRzLiBgdGhpc2Agd2l0aGluIHRoZSBmdW5jdGlvbiBpcyBib3VuZCB0byB0aGVcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2V9IGl0J3MgY2FsbGVkIGZyb20uXG4gKlxuICogVGhlIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciBsb2FkaW5nIHRoZSBmZWF0dXJlcyBhbmQgYWRkaW5nIHRoZW0gdG8gdGhlXG4gKiBzb3VyY2UuXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24odGhpczooaW1wb3J0KFwiLi9zb3VyY2UvVmVjdG9yXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHQpLFxuICogICAgICAgICAgIGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudCxcbiAqICAgICAgICAgICBudW1iZXIsXG4gKiAgICAgICAgICAgaW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdCxcbiAqICAgICAgICAgICBmdW5jdGlvbihBcnJheTxpbXBvcnQoXCIuL0ZlYXR1cmUuanNcIikuZGVmYXVsdD4pOiB2b2lkPSxcbiAqICAgICAgICAgICBmdW5jdGlvbigpOiB2b2lkPSk6IHZvaWR9IEZlYXR1cmVMb2FkZXJcbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2V9IHNvdXJjZXMgdXNlIGEgZnVuY3Rpb24gb2YgdGhpcyB0eXBlIHRvXG4gKiBnZXQgdGhlIHVybCB0byBsb2FkIGZlYXR1cmVzIGZyb20uXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL2V4dGVudH5FeHRlbnR9IHJlcHJlc2VudGluZyB0aGUgYXJlYVxuICogdG8gYmUgbG9hZGVkLCBhIGB7bnVtYmVyfWAgcmVwcmVzZW50aW5nIHRoZSByZXNvbHV0aW9uIChtYXAgdW5pdHMgcGVyIHBpeGVsKVxuICogYW5kIGFuIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IGZvciB0aGUgcHJvamVjdGlvbiAgYXNcbiAqIGFyZ3VtZW50cyBhbmQgcmV0dXJucyBhIGB7c3RyaW5nfWAgcmVwcmVzZW50aW5nIHRoZSBVUkwuXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50LCBudW1iZXIsIGltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQpOiBzdHJpbmd9IEZlYXR1cmVVcmxGdW5jdGlvblxuICogQGFwaVxuICovXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd8RmVhdHVyZVVybEZ1bmN0aW9ufSB1cmwgRmVhdHVyZSBVUkwgc2VydmljZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmb3JtYXQgRmVhdHVyZSBmb3JtYXQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oQXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+LCBpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0KTogdm9pZH0gc3VjY2VzcyBTdWNjZXNzXG4gKiAgICAgIEZ1bmN0aW9uIGNhbGxlZCB3aXRoIHRoZSBsb2FkZWQgZmVhdHVyZXMgYW5kIG9wdGlvbmFsbHkgd2l0aCB0aGUgZGF0YSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbigpOiB2b2lkfSBmYWlsdXJlIEZhaWx1cmVcbiAqICAgICAgRnVuY3Rpb24gY2FsbGVkIHdoZW4gbG9hZGluZyBmYWlsZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkRmVhdHVyZXNYaHIoXG4gIHVybCxcbiAgZm9ybWF0LFxuICBleHRlbnQsXG4gIHJlc29sdXRpb24sXG4gIHByb2plY3Rpb24sXG4gIHN1Y2Nlc3MsXG4gIGZhaWx1cmVcbikge1xuICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgeGhyLm9wZW4oXG4gICAgJ0dFVCcsXG4gICAgdHlwZW9mIHVybCA9PT0gJ2Z1bmN0aW9uJyA/IHVybChleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIDogdXJsLFxuICAgIHRydWVcbiAgKTtcbiAgaWYgKGZvcm1hdC5nZXRUeXBlKCkgPT0gJ2FycmF5YnVmZmVyJykge1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICB9XG4gIHhoci53aXRoQ3JlZGVudGlhbHMgPSB3aXRoQ3JlZGVudGlhbHM7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyBzdGF0dXMgd2lsbCBiZSAwIGZvciBmaWxlOi8vIHVybHNcbiAgICBpZiAoIXhoci5zdGF0dXMgfHwgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApKSB7XG4gICAgICBjb25zdCB0eXBlID0gZm9ybWF0LmdldFR5cGUoKTtcbiAgICAgIC8qKiBAdHlwZSB7RG9jdW1lbnR8Tm9kZXxPYmplY3R8c3RyaW5nfHVuZGVmaW5lZH0gKi9cbiAgICAgIGxldCBzb3VyY2U7XG4gICAgICBpZiAodHlwZSA9PSAnanNvbicgfHwgdHlwZSA9PSAndGV4dCcpIHtcbiAgICAgICAgc291cmNlID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAneG1sJykge1xuICAgICAgICBzb3VyY2UgPSB4aHIucmVzcG9uc2VYTUw7XG4gICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgc291cmNlID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVRleHQsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24veG1sJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnYXJyYXlidWZmZXInKSB7XG4gICAgICAgIHNvdXJjZSA9IC8qKiBAdHlwZSB7QXJyYXlCdWZmZXJ9ICovICh4aHIucmVzcG9uc2UpO1xuICAgICAgfVxuICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICBzdWNjZXNzKFxuICAgICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSAqL1xuICAgICAgICAgIChcbiAgICAgICAgICAgIGZvcm1hdC5yZWFkRmVhdHVyZXMoc291cmNlLCB7XG4gICAgICAgICAgICAgIGV4dGVudDogZXh0ZW50LFxuICAgICAgICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogcHJvamVjdGlvbixcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKSxcbiAgICAgICAgICBmb3JtYXQucmVhZFByb2plY3Rpb24oc291cmNlKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmFpbHVyZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmYWlsdXJlKCk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHhoci5vbmVycm9yID0gZmFpbHVyZTtcbiAgeGhyLnNlbmQoKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gWEhSIGZlYXR1cmUgbG9hZGVyIGZvciBhIGB1cmxgIGFuZCBgZm9ybWF0YC4gVGhlIGZlYXR1cmUgbG9hZGVyXG4gKiBsb2FkcyBmZWF0dXJlcyAod2l0aCBYSFIpLCBwYXJzZXMgdGhlIGZlYXR1cmVzLCBhbmQgYWRkcyB0aGVtIHRvIHRoZVxuICogdmVjdG9yIHNvdXJjZS5cbiAqIEBwYXJhbSB7c3RyaW5nfEZlYXR1cmVVcmxGdW5jdGlvbn0gdXJsIEZlYXR1cmUgVVJMIHNlcnZpY2UuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZm9ybWF0IEZlYXR1cmUgZm9ybWF0LlxuICogQHJldHVybiB7RmVhdHVyZUxvYWRlcn0gVGhlIGZlYXR1cmUgbG9hZGVyLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24geGhyKHVybCwgZm9ybWF0KSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oQXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+KTogdm9pZH0gW3N1Y2Nlc3NdIFN1Y2Nlc3NcbiAgICogICAgICBGdW5jdGlvbiBjYWxsZWQgd2hlbiBsb2FkaW5nIHN1Y2NlZWRlZC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbigpOiB2b2lkfSBbZmFpbHVyZV0gRmFpbHVyZVxuICAgKiAgICAgIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGxvYWRpbmcgZmFpbGVkLlxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIChleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24sIHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgICBjb25zdCBzb3VyY2UgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vc291cmNlL1ZlY3RvclwiKS5kZWZhdWx0fSAqLyAodGhpcyk7XG4gICAgbG9hZEZlYXR1cmVzWGhyKFxuICAgICAgdXJsLFxuICAgICAgZm9ybWF0LFxuICAgICAgZXh0ZW50LFxuICAgICAgcmVzb2x1dGlvbixcbiAgICAgIHByb2plY3Rpb24sXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBmZWF0dXJlcyBUaGUgbG9hZGVkIGZlYXR1cmVzLlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBkYXRhUHJvamVjdGlvbiBEYXRhXG4gICAgICAgKiBwcm9qZWN0aW9uLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiAoZmVhdHVyZXMsIGRhdGFQcm9qZWN0aW9uKSB7XG4gICAgICAgIHNvdXJjZS5hZGRGZWF0dXJlcyhmZWF0dXJlcyk7XG4gICAgICAgIGlmIChzdWNjZXNzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzdWNjZXNzKGZlYXR1cmVzKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8qIEZJWE1FIGhhbmRsZSBlcnJvciAqLyBmYWlsdXJlID8gZmFpbHVyZSA6IFZPSURcbiAgICApO1xuICB9O1xufVxuXG4vKipcbiAqIFNldHRlciBmb3IgdGhlIHdpdGhDcmVkZW50aWFscyBjb25maWd1cmF0aW9uIGZvciB0aGUgWEhSLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0geGhyV2l0aENyZWRlbnRpYWxzIFRoZSB2YWx1ZSBvZiB3aXRoQ3JlZGVudGlhbHMgdG8gc2V0LlxuICogQ29tcGFyZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvWE1MSHR0cFJlcXVlc3QvXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRXaXRoQ3JlZGVudGlhbHMoeGhyV2l0aENyZWRlbnRpYWxzKSB7XG4gIHdpdGhDcmVkZW50aWFscyA9IHhocldpdGhDcmVkZW50aWFscztcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zb3VyY2UvVmVjdG9yVGlsZVxuICovXG5cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGlsZSBmcm9tICcuLi9WZWN0b3JUaWxlLmpzJztcbmltcG9ydCBUaWxlQ2FjaGUgZnJvbSAnLi4vVGlsZUNhY2hlLmpzJztcbmltcG9ydCBUaWxlR3JpZCBmcm9tICcuLi90aWxlZ3JpZC9UaWxlR3JpZC5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgVXJsVGlsZSBmcm9tICcuL1VybFRpbGUuanMnO1xuaW1wb3J0IFZlY3RvclJlbmRlclRpbGUgZnJvbSAnLi4vVmVjdG9yUmVuZGVyVGlsZS5qcyc7XG5pbXBvcnQge0RFRkFVTFRfTUFYX1pPT019IGZyb20gJy4uL3RpbGVncmlkL2NvbW1vbi5qcyc7XG5pbXBvcnQge1xuICBidWZmZXIgYXMgYnVmZmVyRXh0ZW50LFxuICBnZXRJbnRlcnNlY3Rpb24sXG4gIGludGVyc2VjdHMsXG59IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2NyZWF0ZVhZWiwgZXh0ZW50RnJvbVByb2plY3Rpb259IGZyb20gJy4uL3RpbGVncmlkLmpzJztcbmltcG9ydCB7ZnJvbUtleSwgZ2V0Q2FjaGVLZXlGb3JUaWxlS2V5LCBnZXRLZXlaWFl9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQge2lzRW1wdHl9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQge2xvYWRGZWF0dXJlc1hocn0gZnJvbSAnLi4vZmVhdHVyZWxvYWRlci5qcyc7XG5pbXBvcnQge3RvU2l6ZX0gZnJvbSAnLi4vc2l6ZS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV0gSW5pdGlhbCB0aWxlIGNhY2hlIHNpemUuIFdpbGwgYXV0by1ncm93IHRvIGhvbGQgYXQgbGVhc3QgdHdpY2UgdGhlIG51bWJlciBvZiB0aWxlcyBpbiB0aGUgdmlld3BvcnQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIEV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gW2Zvcm1hdF0gRmVhdHVyZSBmb3JtYXQgZm9yIHRpbGVzLiBVc2VkIGFuZCByZXF1aXJlZCBieSB0aGUgZGVmYXVsdC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW292ZXJsYXBzPXRydWVdIFRoaXMgc291cmNlIG1heSBoYXZlIG92ZXJsYXBwaW5nIGdlb21ldHJpZXMuIFNldHRpbmcgdGhpc1xuICogdG8gYGZhbHNlYCAoZS5nLiBmb3Igc291cmNlcyB3aXRoIHBvbHlnb25zIHRoYXQgcmVwcmVzZW50IGFkbWluaXN0cmF0aXZlXG4gKiBib3VuZGFyaWVzIG9yIFRvcG9KU09OIHNvdXJjZXMpIGFsbG93cyB0aGUgcmVuZGVyZXIgdG8gb3B0aW1pc2UgZmlsbCBhbmRcbiAqIHN0cm9rZSBvcGVyYXRpb25zLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbj0nRVBTRzozODU3J10gUHJvamVjdGlvbiBvZiB0aGUgdGlsZSBncmlkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5TdGF0ZX0gW3N0YXRlXSBTb3VyY2Ugc3RhdGUuXG4gKiBAcHJvcGVydHkge3R5cGVvZiBpbXBvcnQoXCIuLi9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9IFt0aWxlQ2xhc3NdIENsYXNzIHVzZWQgdG8gaW5zdGFudGlhdGUgaW1hZ2UgdGlsZXMuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvVmVjdG9yVGlsZX5WZWN0b3JUaWxlfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbT0yMl0gT3B0aW9uYWwgbWF4IHpvb20gbGV2ZWwuIE5vdCB1c2VkIGlmIGB0aWxlR3JpZGAgaXMgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb21dIE9wdGlvbmFsIG1pbiB6b29tIGxldmVsLiBOb3QgdXNlZCBpZiBgdGlsZUdyaWRgIGlzIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbdGlsZVNpemU9NTEyXSBPcHRpb25hbCB0aWxlIHNpemUuIE5vdCB1c2VkIGlmIGB0aWxlR3JpZGAgaXMgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIE9wdGlvbmFsIHRpbGUgZ3JpZCByZXNvbHV0aW9uIGF0IGxldmVsIHplcm8uIE5vdCB1c2VkIGlmIGB0aWxlR3JpZGAgaXMgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFt0aWxlR3JpZF0gVGlsZSBncmlkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gW3RpbGVMb2FkRnVuY3Rpb25dXG4gKiBPcHRpb25hbCBmdW5jdGlvbiB0byBsb2FkIGEgdGlsZSBnaXZlbiBhIFVSTC4gQ291bGQgbG9vayBsaWtlIHRoaXMgZm9yIHBiZiB0aWxlczpcbiAqIGBgYGpzXG4gKiBmdW5jdGlvbih0aWxlLCB1cmwpIHtcbiAqICAgdGlsZS5zZXRMb2FkZXIoZnVuY3Rpb24oZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XG4gKiAgICAgZmV0Y2godXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gKiAgICAgICByZXNwb25zZS5hcnJheUJ1ZmZlcigpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICogICAgICAgICBjb25zdCBmb3JtYXQgPSB0aWxlLmdldEZvcm1hdCgpIC8vIG9sL2Zvcm1hdC9NVlQgY29uZmlndXJlZCBhcyBzb3VyY2UgZm9ybWF0XG4gKiAgICAgICAgIGNvbnN0IGZlYXR1cmVzID0gZm9ybWF0LnJlYWRGZWF0dXJlcyhkYXRhLCB7XG4gKiAgICAgICAgICAgZXh0ZW50OiBleHRlbnQsXG4gKiAgICAgICAgICAgZmVhdHVyZVByb2plY3Rpb246IHByb2plY3Rpb25cbiAqICAgICAgICAgfSk7XG4gKiAgICAgICAgIHRpbGUuc2V0RmVhdHVyZXMoZmVhdHVyZXMpO1xuICogICAgICAgfSk7XG4gKiAgICAgfSk7XG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKiBJZiB5b3UgZG8gbm90IG5lZWQgZXh0ZW50LCByZXNvbHV0aW9uIGFuZCBwcm9qZWN0aW9uIHRvIGdldCB0aGUgZmVhdHVyZXMgZm9yIGEgdGlsZSAoZS5nLlxuICogZm9yIEdlb0pTT04gdGlsZXMpLCB5b3VyIGB0aWxlTG9hZEZ1bmN0aW9uYCBkb2VzIG5vdCBuZWVkIGEgYHNldExvYWRlcigpYCBjYWxsLiBPbmx5IG1ha2Ugc3VyZVxuICogdG8gY2FsbCBgc2V0RmVhdHVyZXMoKWAgb24gdGhlIHRpbGU6XG4gKiBgYGBqc1xuICogY29uc3QgZm9ybWF0ID0gbmV3IEdlb0pTT04oe2ZlYXR1cmVQcm9qZWN0aW9uOiBtYXAuZ2V0VmlldygpLmdldFByb2plY3Rpb24oKX0pO1xuICogYXN5bmMgZnVuY3Rpb24gdGlsZUxvYWRGdW5jdGlvbih0aWxlLCB1cmwpIHtcbiAqICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICogICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICogICB0aWxlLnNldEZlYXR1cmVzKGZvcm1hdC5yZWFkRmVhdHVyZXMoZGF0YSkpO1xuICogfVxuICogYGBgXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFt0aWxlVXJsRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGdldCB0aWxlIFVSTCBnaXZlbiBhIHRpbGUgY29vcmRpbmF0ZSBhbmQgdGhlIHByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gVVJMIHRlbXBsYXRlLiBNdXN0IGluY2x1ZGUgYHt4fWAsIGB7eX1gIG9yIGB7LXl9YCwgYW5kIGB7en1gIHBsYWNlaG9sZGVycy5cbiAqIEEgYHs/LT99YCB0ZW1wbGF0ZSBwYXR0ZXJuLCBmb3IgZXhhbXBsZSBgc3ViZG9tYWlue2EtZn0uZG9tYWluLmNvbWAsIG1heSBiZVxuICogdXNlZCBpbnN0ZWFkIG9mIGRlZmluaW5nIGVhY2ggb25lIHNlcGFyYXRlbHkgaW4gdGhlIGB1cmxzYCBvcHRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RyYW5zaXRpb25dIEEgZHVyYXRpb24gZm9yIHRpbGUgb3BhY2l0eVxuICogdHJhbnNpdGlvbnMgaW4gbWlsbGlzZWNvbmRzLiBBIGR1cmF0aW9uIG9mIDAgZGlzYWJsZXMgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbi5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW3VybHNdIEFuIGFycmF5IG9mIFVSTCB0ZW1wbGF0ZXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXSBXaGV0aGVyIHRvIHdyYXAgdGhlIHdvcmxkIGhvcml6b250YWxseS5cbiAqIFdoZW4gc2V0IHRvIGBmYWxzZWAsIG9ubHkgb25lIHdvcmxkXG4gKiB3aWxsIGJlIHJlbmRlcmVkLiBXaGVuIHNldCB0byBgdHJ1ZWAsIHRpbGVzIHdpbGwgYmUgd3JhcHBlZCBob3Jpem9udGFsbHkgdG9cbiAqIHJlbmRlciBtdWx0aXBsZSB3b3JsZHMuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9hcnJheS5qc1wiKS5OZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb259IFt6RGlyZWN0aW9uPTFdXG4gKiBDaG9vc2Ugd2hldGhlciB0byB1c2UgdGlsZXMgd2l0aCBhIGhpZ2hlciBvciBsb3dlciB6b29tIGxldmVsIHdoZW4gYmV0d2VlbiBpbnRlZ2VyXG4gKiB6b29tIGxldmVscy4gU2VlIHtAbGluayBtb2R1bGU6b2wvdGlsZWdyaWQvVGlsZUdyaWR+VGlsZUdyaWQjZ2V0WkZvclJlc29sdXRpb259LlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2xhc3MgZm9yIGxheWVyIHNvdXJjZXMgcHJvdmlkaW5nIHZlY3RvciBkYXRhIGRpdmlkZWQgaW50byBhIHRpbGUgZ3JpZCwgdG8gYmVcbiAqIHVzZWQgd2l0aCB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL1ZlY3RvclRpbGV+VmVjdG9yVGlsZUxheWVyfS4gQWx0aG91Z2ggdGhpcyBzb3VyY2UgcmVjZWl2ZXMgdGlsZXNcbiAqIHdpdGggdmVjdG9yIGZlYXR1cmVzIGZyb20gdGhlIHNlcnZlciwgaXQgaXMgbm90IG1lYW50IGZvciBmZWF0dXJlIGVkaXRpbmcuXG4gKiBGZWF0dXJlcyBhcmUgb3B0aW1pemVkIGZvciByZW5kZXJpbmcsIHRoZWlyIGdlb21ldHJpZXMgYXJlIGNsaXBwZWQgYXQgb3IgbmVhclxuICogdGlsZSBib3VuZGFyaWVzIGFuZCBzaW1wbGlmaWVkIGZvciBhIHZpZXcgcmVzb2x1dGlvbi4gU2VlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlfSBmb3IgdmVjdG9yIHNvdXJjZXMgdGhhdCBhcmUgc3VpdGFibGUgZm9yIGZlYXR1cmVcbiAqIGVkaXRpbmcuXG4gKlxuICogQGZpcmVzIGltcG9ydChcIi4vVGlsZS5qc1wiKS5UaWxlU291cmNlRXZlbnRcbiAqIEBhcGlcbiAqL1xuY2xhc3MgVmVjdG9yVGlsZSBleHRlbmRzIFVybFRpbGUge1xuICAvKipcbiAgICogQHBhcmFtIHshT3B0aW9uc30gb3B0aW9ucyBWZWN0b3IgdGlsZSBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIGNvbnN0IHByb2plY3Rpb24gPSBvcHRpb25zLnByb2plY3Rpb24gfHwgJ0VQU0c6Mzg1Nyc7XG5cbiAgICBjb25zdCBleHRlbnQgPSBvcHRpb25zLmV4dGVudCB8fCBleHRlbnRGcm9tUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcblxuICAgIGNvbnN0IHRpbGVHcmlkID1cbiAgICAgIG9wdGlvbnMudGlsZUdyaWQgfHxcbiAgICAgIGNyZWF0ZVhZWih7XG4gICAgICAgIGV4dGVudDogZXh0ZW50LFxuICAgICAgICBtYXhSZXNvbHV0aW9uOiBvcHRpb25zLm1heFJlc29sdXRpb24sXG4gICAgICAgIG1heFpvb206IG9wdGlvbnMubWF4Wm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhab29tIDogMjIsXG4gICAgICAgIG1pblpvb206IG9wdGlvbnMubWluWm9vbSxcbiAgICAgICAgdGlsZVNpemU6IG9wdGlvbnMudGlsZVNpemUgfHwgNTEyLFxuICAgICAgfSk7XG5cbiAgICBzdXBlcih7XG4gICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb25zLFxuICAgICAgYXR0cmlidXRpb25zQ29sbGFwc2libGU6IG9wdGlvbnMuYXR0cmlidXRpb25zQ29sbGFwc2libGUsXG4gICAgICBjYWNoZVNpemU6IG9wdGlvbnMuY2FjaGVTaXplLFxuICAgICAgaW50ZXJwb2xhdGU6IHRydWUsXG4gICAgICBvcGFxdWU6IGZhbHNlLFxuICAgICAgcHJvamVjdGlvbjogcHJvamVjdGlvbixcbiAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgdGlsZUdyaWQ6IHRpbGVHcmlkLFxuICAgICAgdGlsZUxvYWRGdW5jdGlvbjogb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uXG4gICAgICAgID8gb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uXG4gICAgICAgIDogZGVmYXVsdExvYWRGdW5jdGlvbixcbiAgICAgIHRpbGVVcmxGdW5jdGlvbjogb3B0aW9ucy50aWxlVXJsRnVuY3Rpb24sXG4gICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgdXJsczogb3B0aW9ucy51cmxzLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggPT09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRpb25zLndyYXBYLFxuICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgekRpcmVjdGlvbjogb3B0aW9ucy56RGlyZWN0aW9uID09PSB1bmRlZmluZWQgPyAxIDogb3B0aW9ucy56RGlyZWN0aW9uLFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdHxudWxsfVxuICAgICAqL1xuICAgIHRoaXMuZm9ybWF0XyA9IG9wdGlvbnMuZm9ybWF0ID8gb3B0aW9ucy5mb3JtYXQgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7VGlsZUNhY2hlfVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlVGlsZUNhY2hlID0gbmV3IFRpbGVDYWNoZSh0aGlzLnRpbGVDYWNoZS5oaWdoV2F0ZXJNYXJrKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5vdmVybGFwc18gPSBvcHRpb25zLm92ZXJsYXBzID09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRpb25zLm92ZXJsYXBzO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHt0eXBlb2YgaW1wb3J0KFwiLi4vVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMudGlsZUNsYXNzID0gb3B0aW9ucy50aWxlQ2xhc3MgPyBvcHRpb25zLnRpbGVDbGFzcyA6IFRpbGU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVHcmlkc18gPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZmVhdHVyZXMgd2hvc2UgYm91bmRpbmcgYm94IGludGVyc2VjdHMgdGhlIHByb3ZpZGVkIGV4dGVudC4gT25seSBmZWF0dXJlcyBmb3IgY2FjaGVkXG4gICAqIHRpbGVzIGZvciB0aGUgbGFzdCByZW5kZXJlZCB6b29tIGxldmVsIGFyZSBhdmFpbGFibGUgaW4gdGhlIHNvdXJjZS4gU28gdGhpcyBtZXRob2QgaXMgb25seVxuICAgKiBzdWl0YWJsZSBmb3IgcmVxdWVzdGluZyB0aWxlcyBmb3IgZXh0ZW50cyB0aGF0IGFyZSBjdXJyZW50bHkgcmVuZGVyZWQuXG4gICAqXG4gICAqIEZlYXR1cmVzIGFyZSByZXR1cm5lZCBpbiByYW5kb20gdGlsZSBvcmRlciBhbmQgYXMgdGhleSBhcmUgaW5jbHVkZWQgaW4gdGhlIHRpbGVzLiBUaGlzIG1lYW5zXG4gICAqIHRoZXkgY2FuIGJlIGNsaXBwZWQsIGR1cGxpY2F0ZWQgYWNyb3NzIHRpbGVzLCBhbmQgc2ltcGxpZmllZCB0byB0aGUgcmVuZGVyIHJlc29sdXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59IEZlYXR1cmVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRGZWF0dXJlc0luRXh0ZW50KGV4dGVudCkge1xuICAgIGNvbnN0IGZlYXR1cmVzID0gW107XG4gICAgY29uc3QgdGlsZUNhY2hlID0gdGhpcy50aWxlQ2FjaGU7XG4gICAgaWYgKHRpbGVDYWNoZS5nZXRDb3VudCgpID09PSAwKSB7XG4gICAgICByZXR1cm4gZmVhdHVyZXM7XG4gICAgfVxuICAgIGNvbnN0IHogPSBmcm9tS2V5KHRpbGVDYWNoZS5wZWVrRmlyc3RLZXkoKSlbMF07XG4gICAgY29uc3QgdGlsZUdyaWQgPSB0aGlzLnRpbGVHcmlkO1xuICAgIHRpbGVDYWNoZS5mb3JFYWNoKGZ1bmN0aW9uICh0aWxlKSB7XG4gICAgICBpZiAodGlsZS50aWxlQ29vcmRbMF0gIT09IHogfHwgdGlsZS5nZXRTdGF0ZSgpICE9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNvdXJjZVRpbGVzID0gdGlsZS5nZXRTb3VyY2VUaWxlcygpO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gc291cmNlVGlsZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBjb25zdCBzb3VyY2VUaWxlID0gc291cmNlVGlsZXNbaV07XG4gICAgICAgIGNvbnN0IHRpbGVDb29yZCA9IHNvdXJjZVRpbGUudGlsZUNvb3JkO1xuICAgICAgICBpZiAoaW50ZXJzZWN0cyhleHRlbnQsIHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQpKSkge1xuICAgICAgICAgIGNvbnN0IHRpbGVGZWF0dXJlcyA9IHNvdXJjZVRpbGUuZ2V0RmVhdHVyZXMoKTtcbiAgICAgICAgICBpZiAodGlsZUZlYXR1cmVzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgamogPSB0aWxlRmVhdHVyZXMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSB0aWxlRmVhdHVyZXNbal07XG4gICAgICAgICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gY2FuZGlkYXRlLmdldEdlb21ldHJ5KCk7XG4gICAgICAgICAgICAgIGlmIChpbnRlcnNlY3RzKGV4dGVudCwgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZXMucHVzaChjYW5kaWRhdGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZlYXR1cmVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBzb3VyY2UgY2FuIGhhdmUgb3ZlcmxhcHBpbmcgZ2VvbWV0cmllcy5cbiAgICovXG4gIGdldE92ZXJsYXBzKCkge1xuICAgIHJldHVybiB0aGlzLm92ZXJsYXBzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBjbGVhciB7QGxpbmsgbW9kdWxlOm9sL1RpbGVDYWNoZX5UaWxlQ2FjaGV9IGFuZCBkZWxldGUgYWxsIHNvdXJjZSB0aWxlc1xuICAgKiBAYXBpXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLnRpbGVDYWNoZS5jbGVhcigpO1xuICAgIHRoaXMuc291cmNlVGlsZUNhY2hlLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gdXNlZFRpbGVzIFVzZWQgdGlsZXMuXG4gICAqL1xuICBleHBpcmVDYWNoZShwcm9qZWN0aW9uLCB1c2VkVGlsZXMpIHtcbiAgICBjb25zdCB0aWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgY29uc3QgdXNlZFNvdXJjZVRpbGVzID0gT2JqZWN0LmtleXModXNlZFRpbGVzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICBjb25zdCBjYWNoZUtleSA9IGdldENhY2hlS2V5Rm9yVGlsZUtleShrZXkpO1xuICAgICAgY29uc3QgdGlsZSA9IHRpbGVDYWNoZS5wZWVrKGNhY2hlS2V5KTtcbiAgICAgIGlmICh0aWxlKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZVRpbGVzID0gdGlsZS5zb3VyY2VUaWxlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gc291cmNlVGlsZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgIGFjY1tzb3VyY2VUaWxlc1tpXS5nZXRLZXkoKV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgICBzdXBlci5leHBpcmVDYWNoZShwcm9qZWN0aW9uLCB1c2VkVGlsZXMpO1xuICAgIHRoaXMuc291cmNlVGlsZUNhY2hlLmV4cGlyZUNhY2hlKHVzZWRTb3VyY2VUaWxlcyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtWZWN0b3JSZW5kZXJUaWxlfSB0aWxlIFZlY3RvciBpbWFnZSB0aWxlLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuLi9WZWN0b3JUaWxlXCIpLmRlZmF1bHQ+fSBUaWxlIGtleXMuXG4gICAqL1xuICBnZXRTb3VyY2VUaWxlcyhwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCB0aWxlKSB7XG4gICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgIHRpbGUuc2V0U3RhdGUoVGlsZVN0YXRlLkxPQURJTkcpO1xuICAgICAgY29uc3QgdXJsVGlsZUNvb3JkID0gdGlsZS53cmFwcGVkVGlsZUNvb3JkO1xuICAgICAgY29uc3QgdGlsZUdyaWQgPSB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICAgIGNvbnN0IGV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh1cmxUaWxlQ29vcmQpO1xuICAgICAgY29uc3QgeiA9IHVybFRpbGVDb29yZFswXTtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aWxlR3JpZC5nZXRSZXNvbHV0aW9uKHopO1xuICAgICAgLy8gbWFrZSBleHRlbnQgMSBwaXhlbCBzbWFsbGVyIHNvIHdlIGRvbid0IGxvYWQgdGlsZXMgZm9yIDwgMC41IHBpeGVsIHJlbmRlciBzcGFjZVxuICAgICAgYnVmZmVyRXh0ZW50KGV4dGVudCwgLXJlc29sdXRpb24sIGV4dGVudCk7XG4gICAgICBjb25zdCBzb3VyY2VUaWxlR3JpZCA9IHRoaXMudGlsZUdyaWQ7XG4gICAgICBjb25zdCBzb3VyY2VFeHRlbnQgPSBzb3VyY2VUaWxlR3JpZC5nZXRFeHRlbnQoKTtcbiAgICAgIGlmIChzb3VyY2VFeHRlbnQpIHtcbiAgICAgICAgZ2V0SW50ZXJzZWN0aW9uKGV4dGVudCwgc291cmNlRXh0ZW50LCBleHRlbnQpO1xuICAgICAgfVxuICAgICAgY29uc3Qgc291cmNlWiA9IHNvdXJjZVRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKFxuICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICB0aGlzLnpEaXJlY3Rpb25cbiAgICAgICk7XG5cbiAgICAgIHNvdXJjZVRpbGVHcmlkLmZvckVhY2hUaWxlQ29vcmQoZXh0ZW50LCBzb3VyY2VaLCAoc291cmNlVGlsZUNvb3JkKSA9PiB7XG4gICAgICAgIGNvbnN0IHRpbGVVcmwgPSB0aGlzLnRpbGVVcmxGdW5jdGlvbihcbiAgICAgICAgICBzb3VyY2VUaWxlQ29vcmQsXG4gICAgICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgICAgICBwcm9qZWN0aW9uXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHNvdXJjZVRpbGUgPSB0aGlzLnNvdXJjZVRpbGVDYWNoZS5jb250YWluc0tleSh0aWxlVXJsKVxuICAgICAgICAgID8gdGhpcy5zb3VyY2VUaWxlQ2FjaGUuZ2V0KHRpbGVVcmwpXG4gICAgICAgICAgOiBuZXcgdGhpcy50aWxlQ2xhc3MoXG4gICAgICAgICAgICAgIHNvdXJjZVRpbGVDb29yZCxcbiAgICAgICAgICAgICAgdGlsZVVybCA/IFRpbGVTdGF0ZS5JRExFIDogVGlsZVN0YXRlLkVNUFRZLFxuICAgICAgICAgICAgICB0aWxlVXJsLFxuICAgICAgICAgICAgICB0aGlzLmZvcm1hdF8sXG4gICAgICAgICAgICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgdGlsZS5zb3VyY2VUaWxlcy5wdXNoKHNvdXJjZVRpbGUpO1xuICAgICAgICBjb25zdCBzb3VyY2VUaWxlU3RhdGUgPSBzb3VyY2VUaWxlLmdldFN0YXRlKCk7XG4gICAgICAgIGlmIChzb3VyY2VUaWxlU3RhdGUgPCBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgY29uc3QgbGlzdGVuQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVRpbGVDaGFuZ2UoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBzb3VyY2VUaWxlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IFRpbGVTdGF0ZS5MT0FERUQgfHwgc3RhdGUgPT09IFRpbGVTdGF0ZS5FUlJPUikge1xuICAgICAgICAgICAgICBjb25zdCBzb3VyY2VUaWxlS2V5ID0gc291cmNlVGlsZS5nZXRLZXkoKTtcbiAgICAgICAgICAgICAgaWYgKHNvdXJjZVRpbGVLZXkgaW4gdGlsZS5lcnJvclRpbGVLZXlzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZVRpbGUuZ2V0U3RhdGUoKSA9PT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIHRpbGUuZXJyb3JUaWxlS2V5c1tzb3VyY2VUaWxlS2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGlsZS5sb2FkaW5nU291cmNlVGlsZXMtLTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IFRpbGVTdGF0ZS5FUlJPUikge1xuICAgICAgICAgICAgICAgIHRpbGUuZXJyb3JUaWxlS2V5c1tzb3VyY2VUaWxlS2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc291cmNlVGlsZS5yZW1vdmVFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIGxpc3RlbkNoYW5nZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHRpbGUubG9hZGluZ1NvdXJjZVRpbGVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zZXRTdGF0ZShcbiAgICAgICAgICAgICAgICAgIGlzRW1wdHkodGlsZS5lcnJvclRpbGVLZXlzKVxuICAgICAgICAgICAgICAgICAgICA/IFRpbGVTdGF0ZS5MT0FERURcbiAgICAgICAgICAgICAgICAgICAgOiBUaWxlU3RhdGUuRVJST1JcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBzb3VyY2VUaWxlLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRSwgbGlzdGVuQ2hhbmdlKTtcbiAgICAgICAgICB0aWxlLmxvYWRpbmdTb3VyY2VUaWxlcysrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzb3VyY2VUaWxlU3RhdGUgPT09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgc291cmNlVGlsZS5leHRlbnQgPVxuICAgICAgICAgICAgc291cmNlVGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHNvdXJjZVRpbGVDb29yZCk7XG4gICAgICAgICAgc291cmNlVGlsZS5wcm9qZWN0aW9uID0gcHJvamVjdGlvbjtcbiAgICAgICAgICBzb3VyY2VUaWxlLnJlc29sdXRpb24gPSBzb3VyY2VUaWxlR3JpZC5nZXRSZXNvbHV0aW9uKFxuICAgICAgICAgICAgc291cmNlVGlsZUNvb3JkWzBdXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnNvdXJjZVRpbGVDYWNoZS5zZXQodGlsZVVybCwgc291cmNlVGlsZSk7XG4gICAgICAgICAgc291cmNlVGlsZS5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCF0aWxlLmxvYWRpbmdTb3VyY2VUaWxlcykge1xuICAgICAgICB0aWxlLnNldFN0YXRlKFxuICAgICAgICAgIHRpbGUuc291cmNlVGlsZXMuc29tZShcbiAgICAgICAgICAgIChzb3VyY2VUaWxlKSA9PiBzb3VyY2VUaWxlLmdldFN0YXRlKCkgPT09IFRpbGVTdGF0ZS5FUlJPUlxuICAgICAgICAgIClcbiAgICAgICAgICAgID8gVGlsZVN0YXRlLkVSUk9SXG4gICAgICAgICAgICA6IFRpbGVTdGF0ZS5MT0FERURcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGlsZS5zb3VyY2VUaWxlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHshVmVjdG9yUmVuZGVyVGlsZX0gVGlsZS5cbiAgICovXG4gIGdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIGNvbnN0IGNvb3JkS2V5ID0gZ2V0S2V5WlhZKHosIHgsIHkpO1xuICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0S2V5KCk7XG4gICAgbGV0IHRpbGU7XG4gICAgaWYgKHRoaXMudGlsZUNhY2hlLmNvbnRhaW5zS2V5KGNvb3JkS2V5KSkge1xuICAgICAgdGlsZSA9IHRoaXMudGlsZUNhY2hlLmdldChjb29yZEtleSk7XG4gICAgICBpZiAodGlsZS5rZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gdGlsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdGlsZUNvb3JkID0gW3osIHgsIHldO1xuICAgIGxldCB1cmxUaWxlQ29vcmQgPSB0aGlzLmdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbihcbiAgICAgIHRpbGVDb29yZCxcbiAgICAgIHByb2plY3Rpb25cbiAgICApO1xuICAgIGNvbnN0IHNvdXJjZUV4dGVudCA9IHRoaXMuZ2V0VGlsZUdyaWQoKS5nZXRFeHRlbnQoKTtcbiAgICBjb25zdCB0aWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGlmICh1cmxUaWxlQ29vcmQgJiYgc291cmNlRXh0ZW50KSB7XG4gICAgICBjb25zdCB0aWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KHVybFRpbGVDb29yZCk7XG4gICAgICAvLyBtYWtlIGV4dGVudCAxIHBpeGVsIHNtYWxsZXIgc28gd2UgZG9uJ3QgbG9hZCB0aWxlcyBmb3IgPCAwLjUgcGl4ZWwgcmVuZGVyIHNwYWNlXG4gICAgICBidWZmZXJFeHRlbnQodGlsZUV4dGVudCwgLXRpbGVHcmlkLmdldFJlc29sdXRpb24oeiksIHRpbGVFeHRlbnQpO1xuICAgICAgaWYgKCFpbnRlcnNlY3RzKHNvdXJjZUV4dGVudCwgdGlsZUV4dGVudCkpIHtcbiAgICAgICAgdXJsVGlsZUNvb3JkID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGVtcHR5ID0gdHJ1ZTtcbiAgICBpZiAodXJsVGlsZUNvb3JkICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBzb3VyY2VUaWxlR3JpZCA9IHRoaXMudGlsZUdyaWQ7XG4gICAgICBjb25zdCByZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICAgIGNvbnN0IHNvdXJjZVogPSBzb3VyY2VUaWxlR3JpZC5nZXRaRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uLCAxKTtcbiAgICAgIC8vIG1ha2UgZXh0ZW50IDEgcGl4ZWwgc21hbGxlciBzbyB3ZSBkb24ndCBsb2FkIHRpbGVzIGZvciA8IDAuNSBwaXhlbCByZW5kZXIgc3BhY2VcbiAgICAgIGNvbnN0IGV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh1cmxUaWxlQ29vcmQpO1xuICAgICAgYnVmZmVyRXh0ZW50KGV4dGVudCwgLXJlc29sdXRpb24sIGV4dGVudCk7XG4gICAgICBzb3VyY2VUaWxlR3JpZC5mb3JFYWNoVGlsZUNvb3JkKGV4dGVudCwgc291cmNlWiwgKHNvdXJjZVRpbGVDb29yZCkgPT4ge1xuICAgICAgICBlbXB0eSA9XG4gICAgICAgICAgZW1wdHkgJiZcbiAgICAgICAgICAhdGhpcy50aWxlVXJsRnVuY3Rpb24oc291cmNlVGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBuZXdUaWxlID0gbmV3IFZlY3RvclJlbmRlclRpbGUoXG4gICAgICB0aWxlQ29vcmQsXG4gICAgICBlbXB0eSA/IFRpbGVTdGF0ZS5FTVBUWSA6IFRpbGVTdGF0ZS5JRExFLFxuICAgICAgdXJsVGlsZUNvb3JkLFxuICAgICAgdGhpcy5nZXRTb3VyY2VUaWxlcy5iaW5kKHRoaXMsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pXG4gICAgKTtcblxuICAgIG5ld1RpbGUua2V5ID0ga2V5O1xuICAgIGlmICh0aWxlKSB7XG4gICAgICBuZXdUaWxlLmludGVyaW1UaWxlID0gdGlsZTtcbiAgICAgIG5ld1RpbGUucmVmcmVzaEludGVyaW1DaGFpbigpO1xuICAgICAgdGhpcy50aWxlQ2FjaGUucmVwbGFjZShjb29yZEtleSwgbmV3VGlsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGlsZUNhY2hlLnNldChjb29yZEtleSwgbmV3VGlsZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdUaWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFRpbGUgZ3JpZC5cbiAgICovXG4gIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gICAgY29uc3QgY29kZSA9IHByb2plY3Rpb24uZ2V0Q29kZSgpO1xuICAgIGxldCB0aWxlR3JpZCA9IHRoaXMudGlsZUdyaWRzX1tjb2RlXTtcbiAgICBpZiAoIXRpbGVHcmlkKSB7XG4gICAgICAvLyBBIHRpbGUgZ3JpZCB0aGF0IG1hdGNoZXMgdGhlIHRpbGUgc2l6ZSBvZiB0aGUgc291cmNlIHRpbGUgZ3JpZCBpcyBtb3JlXG4gICAgICAvLyBsaWtlbHkgdG8gaGF2ZSAxOjEgcmVsYXRpb25zaGlwcyBiZXR3ZWVuIHNvdXJjZSB0aWxlcyBhbmQgcmVuZGVyZWQgdGlsZXMuXG4gICAgICBjb25zdCBzb3VyY2VUaWxlR3JpZCA9IHRoaXMudGlsZUdyaWQ7XG4gICAgICBjb25zdCByZXNvbHV0aW9ucyA9IHNvdXJjZVRpbGVHcmlkLmdldFJlc29sdXRpb25zKCkuc2xpY2UoKTtcbiAgICAgIGNvbnN0IG9yaWdpbnMgPSByZXNvbHV0aW9ucy5tYXAoZnVuY3Rpb24gKHJlc29sdXRpb24sIHopIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZVRpbGVHcmlkLmdldE9yaWdpbih6KTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgdGlsZVNpemVzID0gcmVzb2x1dGlvbnMubWFwKGZ1bmN0aW9uIChyZXNvbHV0aW9uLCB6KSB7XG4gICAgICAgIHJldHVybiBzb3VyY2VUaWxlR3JpZC5nZXRUaWxlU2l6ZSh6KTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgbGVuZ3RoID0gREVGQVVMVF9NQVhfWk9PTSArIDE7XG4gICAgICBmb3IgKGxldCB6ID0gcmVzb2x1dGlvbnMubGVuZ3RoOyB6IDwgbGVuZ3RoOyArK3opIHtcbiAgICAgICAgcmVzb2x1dGlvbnMucHVzaChyZXNvbHV0aW9uc1t6IC0gMV0gLyAyKTtcbiAgICAgICAgb3JpZ2lucy5wdXNoKG9yaWdpbnNbeiAtIDFdKTtcbiAgICAgICAgdGlsZVNpemVzLnB1c2godGlsZVNpemVzW3ogLSAxXSk7XG4gICAgICB9XG4gICAgICB0aWxlR3JpZCA9IG5ldyBUaWxlR3JpZCh7XG4gICAgICAgIGV4dGVudDogc291cmNlVGlsZUdyaWQuZ2V0RXh0ZW50KCksXG4gICAgICAgIG9yaWdpbnM6IG9yaWdpbnMsXG4gICAgICAgIHJlc29sdXRpb25zOiByZXNvbHV0aW9ucyxcbiAgICAgICAgdGlsZVNpemVzOiB0aWxlU2l6ZXMsXG4gICAgICB9KTtcbiAgICAgIHRoaXMudGlsZUdyaWRzX1tjb2RlXSA9IHRpbGVHcmlkO1xuICAgIH1cbiAgICByZXR1cm4gdGlsZUdyaWQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0aWxlIHBpeGVsIHJhdGlvIGZvciB0aGlzIHNvdXJjZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGlsZSBwaXhlbCByYXRpby5cbiAgICovXG4gIGdldFRpbGVQaXhlbFJhdGlvKHBpeGVsUmF0aW8pIHtcbiAgICByZXR1cm4gcGl4ZWxSYXRpbztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFRpbGUgc2l6ZS5cbiAgICovXG4gIGdldFRpbGVQaXhlbFNpemUoeiwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIGNvbnN0IHRpbGVHcmlkID0gdGhpcy5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgY29uc3QgdGlsZVNpemUgPSB0b1NpemUodGlsZUdyaWQuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZSk7XG4gICAgcmV0dXJuIFtcbiAgICAgIE1hdGgucm91bmQodGlsZVNpemVbMF0gKiBwaXhlbFJhdGlvKSxcbiAgICAgIE1hdGgucm91bmQodGlsZVNpemVbMV0gKiBwaXhlbFJhdGlvKSxcbiAgICBdO1xuICB9XG5cbiAgLyoqXG4gICAqIEluY3JlYXNlcyB0aGUgY2FjaGUgc2l6ZSBpZiBuZWVkZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbGVDb3VudCBNaW5pbXVtIG51bWJlciBvZiB0aWxlcyBuZWVkZWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICovXG4gIHVwZGF0ZUNhY2hlU2l6ZSh0aWxlQ291bnQsIHByb2plY3Rpb24pIHtcbiAgICBzdXBlci51cGRhdGVDYWNoZVNpemUodGlsZUNvdW50ICogMiwgcHJvamVjdGlvbik7XG4gICAgdGhpcy5zb3VyY2VUaWxlQ2FjaGUuaGlnaFdhdGVyTWFyayA9XG4gICAgICB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbikuaGlnaFdhdGVyTWFyaztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JUaWxlO1xuXG4vKipcbiAqIFNldHMgdGhlIGxvYWRlciBmb3IgYSB0aWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVmVjdG9yIHRpbGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRMb2FkRnVuY3Rpb24odGlsZSwgdXJsKSB7XG4gIHRpbGUuc2V0TG9hZGVyKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XG4gICAgICBsb2FkRmVhdHVyZXNYaHIoXG4gICAgICAgIHVybCxcbiAgICAgICAgdGlsZS5nZXRGb3JtYXQoKSxcbiAgICAgICAgZXh0ZW50LFxuICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICBwcm9qZWN0aW9uLFxuICAgICAgICB0aWxlLm9uTG9hZC5iaW5kKHRpbGUpLFxuICAgICAgICB0aWxlLm9uRXJyb3IuYmluZCh0aWxlKVxuICAgICAgKTtcbiAgICB9XG4gICk7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1RpbGVJbWFnZVxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEltYWdlVGlsZSBmcm9tICcuLi9JbWFnZVRpbGUuanMnO1xuaW1wb3J0IFJlcHJvalRpbGUgZnJvbSAnLi4vcmVwcm9qL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVDYWNoZSBmcm9tICcuLi9UaWxlQ2FjaGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IFVybFRpbGUgZnJvbSAnLi9VcmxUaWxlLmpzJztcbmltcG9ydCB7ZXF1aXZhbGVudCwgZ2V0IGFzIGdldFByb2plY3Rpb259IGZyb20gJy4uL3Byb2ouanMnO1xuaW1wb3J0IHtnZXRLZXksIGdldEtleVpYWX0gZnJvbSAnLi4vdGlsZWNvb3JkLmpzJztcbmltcG9ydCB7Z2V0Rm9yUHJvamVjdGlvbiBhcyBnZXRUaWxlR3JpZEZvclByb2plY3Rpb259IGZyb20gJy4uL3RpbGVncmlkLmpzJztcbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi91dGlsLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLkF0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb25zQ29sbGFwc2libGU9dHJ1ZV0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2FjaGVTaXplXSBJbml0aWFsIHRpbGUgY2FjaGUgc2l6ZS4gV2lsbCBhdXRvLWdyb3cgdG8gaG9sZCBhdCBsZWFzdCB0aGUgbnVtYmVyIG9mIHRpbGVzIGluIHRoZSB2aWV3cG9ydC5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiAgTm90ZSB0aGF0XG4gKiB5b3UgbXVzdCBwcm92aWRlIGEgYGNyb3NzT3JpZ2luYCB2YWx1ZSBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgcGl4ZWwgZGF0YSB3aXRoIHRoZSBDYW52YXMgcmVuZGVyZXIuXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9DT1JTX2VuYWJsZWRfaW1hZ2UgZm9yIG1vcmUgZGV0YWlsLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW50ZXJwb2xhdGU9dHJ1ZV0gVXNlIGludGVycG9sYXRlZCB2YWx1ZXMgd2hlbiByZXNhbXBsaW5nLiAgQnkgZGVmYXVsdCxcbiAqIGxpbmVhciBpbnRlcnBvbGF0aW9uIGlzIHVzZWQgd2hlbiByZXNhbXBsaW5nLiAgU2V0IHRvIGZhbHNlIHRvIHVzZSB0aGUgbmVhcmVzdCBuZWlnaGJvciBpbnN0ZWFkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3BhcXVlPWZhbHNlXSBXaGV0aGVyIHRoZSBsYXllciBpcyBvcGFxdWUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uXSBQcm9qZWN0aW9uLiBEZWZhdWx0IGlzIHRoZSB2aWV3IHByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkPTAuNV0gTWF4aW11bSBhbGxvd2VkIHJlcHJvamVjdGlvbiBlcnJvciAoaW4gcGl4ZWxzKS5cbiAqIEhpZ2hlciB2YWx1ZXMgY2FuIGluY3JlYXNlIHJlcHJvamVjdGlvbiBwZXJmb3JtYW5jZSwgYnV0IGRlY3JlYXNlIHByZWNpc2lvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuU3RhdGV9IFtzdGF0ZV0gU291cmNlIHN0YXRlLlxuICogQHByb3BlcnR5IHt0eXBlb2YgaW1wb3J0KFwiLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9IFt0aWxlQ2xhc3NdIENsYXNzIHVzZWQgdG8gaW5zdGFudGlhdGUgaW1hZ2UgdGlsZXMuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvSW1hZ2VUaWxlfkltYWdlVGlsZX0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFt0aWxlR3JpZF0gVGlsZSBncmlkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gW3RpbGVMb2FkRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvYWQgYSB0aWxlIGdpdmVuIGEgVVJMLiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIGZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gKiAgIGltYWdlVGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH07XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW89MV0gVGhlIHBpeGVsIHJhdGlvIHVzZWQgYnkgdGhlIHRpbGUgc2VydmljZS4gRm9yIGV4YW1wbGUsIGlmIHRoZSB0aWxlXG4gKiBzZXJ2aWNlIGFkdmVydGl6ZXMgMjU2cHggYnkgMjU2cHggdGlsZXMgYnV0IGFjdHVhbGx5IHNlbmRzIDUxMnB4XG4gKiBieSA1MTJweCBpbWFnZXMgKGZvciByZXRpbmEvaGlkcGkgZGV2aWNlcykgdGhlbiBgdGlsZVBpeGVsUmF0aW9gXG4gKiBzaG91bGQgYmUgc2V0IHRvIGAyYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gW3RpbGVVcmxGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gZ2V0IHRpbGUgVVJMIGdpdmVuIGEgdGlsZSBjb29yZGluYXRlIGFuZCB0aGUgcHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSBVUkwgdGVtcGxhdGUuIE11c3QgaW5jbHVkZSBge3h9YCwgYHt5fWAgb3IgYHsteX1gLCBhbmQgYHt6fWAgcGxhY2Vob2xkZXJzLlxuICogQSBgez8tP31gIHRlbXBsYXRlIHBhdHRlcm4sIGZvciBleGFtcGxlIGBzdWJkb21haW57YS1mfS5kb21haW4uY29tYCwgbWF5IGJlXG4gKiB1c2VkIGluc3RlYWQgb2YgZGVmaW5pbmcgZWFjaCBvbmUgc2VwYXJhdGVseSBpbiB0aGUgYHVybHNgIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW3VybHNdIEFuIGFycmF5IG9mIFVSTCB0ZW1wbGF0ZXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWF0gV2hldGhlciB0byB3cmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuIFRoZSBkZWZhdWx0LCBpcyB0b1xuICogcmVxdWVzdCBvdXQtb2YtYm91bmRzIHRpbGVzIGZyb20gdGhlIHNlcnZlci4gV2hlbiBzZXQgdG8gYGZhbHNlYCwgb25seSBvbmVcbiAqIHdvcmxkIHdpbGwgYmUgcmVuZGVyZWQuIFdoZW4gc2V0IHRvIGB0cnVlYCwgdGlsZXMgd2lsbCBiZSByZXF1ZXN0ZWQgZm9yIG9uZVxuICogd29ybGQgb25seSwgYnV0IHRoZXkgd2lsbCBiZSB3cmFwcGVkIGhvcml6b250YWxseSB0byByZW5kZXIgbXVsdGlwbGUgd29ybGRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBEdXJhdGlvbiBvZiB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uIGZvciByZW5kZXJpbmcuXG4gKiBUbyBkaXNhYmxlIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24sIHBhc3MgYHRyYW5zaXRpb246IDBgLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIE9wdGlvbmFsIHRpbGUga2V5IGZvciBwcm9wZXIgY2FjaGUgZmV0Y2hpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gW3pEaXJlY3Rpb249MF1cbiAqIENob29zZSB3aGV0aGVyIHRvIHVzZSB0aWxlcyB3aXRoIGEgaGlnaGVyIG9yIGxvd2VyIHpvb20gbGV2ZWwgd2hlbiBiZXR3ZWVuIGludGVnZXJcbiAqIHpvb20gbGV2ZWxzLiBTZWUge0BsaW5rIG1vZHVsZTpvbC90aWxlZ3JpZC9UaWxlR3JpZH5UaWxlR3JpZCNnZXRaRm9yUmVzb2x1dGlvbn0uXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZvciBzb3VyY2VzIHByb3ZpZGluZyBpbWFnZXMgZGl2aWRlZCBpbnRvIGEgdGlsZSBncmlkLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL1RpbGUuanNcIikuVGlsZVNvdXJjZUV2ZW50XG4gKiBAYXBpXG4gKi9cbmNsYXNzIFRpbGVJbWFnZSBleHRlbmRzIFVybFRpbGUge1xuICAvKipcbiAgICogQHBhcmFtIHshT3B0aW9uc30gb3B0aW9ucyBJbWFnZSB0aWxlIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIGNhY2hlU2l6ZTogb3B0aW9ucy5jYWNoZVNpemUsXG4gICAgICBvcGFxdWU6IG9wdGlvbnMub3BhcXVlLFxuICAgICAgcHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICB0aWxlR3JpZDogb3B0aW9ucy50aWxlR3JpZCxcbiAgICAgIHRpbGVMb2FkRnVuY3Rpb246IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvblxuICAgICAgICA/IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvblxuICAgICAgICA6IGRlZmF1bHRUaWxlTG9hZEZ1bmN0aW9uLFxuICAgICAgdGlsZVBpeGVsUmF0aW86IG9wdGlvbnMudGlsZVBpeGVsUmF0aW8sXG4gICAgICB0aWxlVXJsRnVuY3Rpb246IG9wdGlvbnMudGlsZVVybEZ1bmN0aW9uLFxuICAgICAgdXJsOiBvcHRpb25zLnVybCxcbiAgICAgIHVybHM6IG9wdGlvbnMudXJscyxcbiAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYLFxuICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgaW50ZXJwb2xhdGU6XG4gICAgICAgIG9wdGlvbnMuaW50ZXJwb2xhdGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaW50ZXJwb2xhdGUgOiB0cnVlLFxuICAgICAga2V5OiBvcHRpb25zLmtleSxcbiAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlLFxuICAgICAgekRpcmVjdGlvbjogb3B0aW9ucy56RGlyZWN0aW9uLFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuY3Jvc3NPcmlnaW4gPVxuICAgICAgb3B0aW9ucy5jcm9zc09yaWdpbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jcm9zc09yaWdpbiA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge3R5cGVvZiBJbWFnZVRpbGV9XG4gICAgICovXG4gICAgdGhpcy50aWxlQ2xhc3MgPVxuICAgICAgb3B0aW9ucy50aWxlQ2xhc3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGlsZUNsYXNzIDogSW1hZ2VUaWxlO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgVGlsZUNhY2hlPn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGRfID0gb3B0aW9ucy5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJSZXByb2plY3Rpb25FZGdlc18gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBDYW4gZXhwaXJlIGNhY2hlLlxuICAgKi9cbiAgY2FuRXhwaXJlQ2FjaGUoKSB7XG4gICAgaWYgKHRoaXMudGlsZUNhY2hlLmNhbkV4cGlyZUNhY2hlKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24pIHtcbiAgICAgIGlmICh0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb25ba2V5XS5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICovXG4gIGV4cGlyZUNhY2hlKHByb2plY3Rpb24sIHVzZWRUaWxlcykge1xuICAgIGNvbnN0IHVzZWRUaWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG5cbiAgICB0aGlzLnRpbGVDYWNoZS5leHBpcmVDYWNoZShcbiAgICAgIHRoaXMudGlsZUNhY2hlID09IHVzZWRUaWxlQ2FjaGUgPyB1c2VkVGlsZXMgOiB7fVxuICAgICk7XG4gICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24pIHtcbiAgICAgIGNvbnN0IHRpbGVDYWNoZSA9IHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltpZF07XG4gICAgICB0aWxlQ2FjaGUuZXhwaXJlQ2FjaGUodGlsZUNhY2hlID09IHVzZWRUaWxlQ2FjaGUgPyB1c2VkVGlsZXMgOiB7fSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfSBHdXR0ZXIuXG4gICAqL1xuICBnZXRHdXR0ZXJGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmdldFByb2plY3Rpb24oKSAmJlxuICAgICAgcHJvamVjdGlvbiAmJlxuICAgICAgIWVxdWl2YWxlbnQodGhpcy5nZXRQcm9qZWN0aW9uKCksIHByb2plY3Rpb24pXG4gICAgKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0R3V0dGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBHdXR0ZXIuXG4gICAqL1xuICBnZXRHdXR0ZXIoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBrZXkgdG8gYmUgdXNlZCBmb3IgYWxsIHRpbGVzIGluIHRoZSBzb3VyY2UuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGtleSBmb3IgYWxsIHRpbGVzLlxuICAgKi9cbiAgZ2V0S2V5KCkge1xuICAgIGxldCBrZXkgPSBzdXBlci5nZXRLZXkoKTtcbiAgICBpZiAoIXRoaXMuZ2V0SW50ZXJwb2xhdGUoKSkge1xuICAgICAga2V5ICs9ICc6ZGlzYWJsZS1pbnRlcnBvbGF0aW9uJztcbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IE9wYXF1ZS5cbiAgICovXG4gIGdldE9wYXF1ZShwcm9qZWN0aW9uKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5nZXRQcm9qZWN0aW9uKCkgJiZcbiAgICAgIHByb2plY3Rpb24gJiZcbiAgICAgICFlcXVpdmFsZW50KHRoaXMuZ2V0UHJvamVjdGlvbigpLCBwcm9qZWN0aW9uKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuZ2V0T3BhcXVlKHByb2plY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7IWltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFRpbGUgZ3JpZC5cbiAgICovXG4gIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gICAgY29uc3QgdGhpc1Byb2ogPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICBpZiAodGhpcy50aWxlR3JpZCAmJiAoIXRoaXNQcm9qIHx8IGVxdWl2YWxlbnQodGhpc1Byb2osIHByb2plY3Rpb24pKSkge1xuICAgICAgcmV0dXJuIHRoaXMudGlsZUdyaWQ7XG4gICAgfVxuICAgIGNvbnN0IHByb2pLZXkgPSBnZXRVaWQocHJvamVjdGlvbik7XG4gICAgaWYgKCEocHJvaktleSBpbiB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbikpIHtcbiAgICAgIHRoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uW3Byb2pLZXldID1cbiAgICAgICAgZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb25bcHJvaktleV07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlQ2FjaGUuanNcIikuZGVmYXVsdH0gVGlsZSBjYWNoZS5cbiAgICovXG4gIGdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICAgIGNvbnN0IHRoaXNQcm9qID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgaWYgKCF0aGlzUHJvaiB8fCBlcXVpdmFsZW50KHRoaXNQcm9qLCBwcm9qZWN0aW9uKSkge1xuICAgICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlO1xuICAgIH1cbiAgICBjb25zdCBwcm9qS2V5ID0gZ2V0VWlkKHByb2plY3Rpb24pO1xuICAgIGlmICghKHByb2pLZXkgaW4gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uKSkge1xuICAgICAgdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW3Byb2pLZXldID0gbmV3IFRpbGVDYWNoZShcbiAgICAgICAgdGhpcy50aWxlQ2FjaGUuaGlnaFdhdGVyTWFya1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltwcm9qS2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgc2V0IG9uIHRoZSB0aWxlLlxuICAgKiBAcmV0dXJuIHshSW1hZ2VUaWxlfSBUaWxlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY3JlYXRlVGlsZV8oeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwga2V5KSB7XG4gICAgY29uc3QgdGlsZUNvb3JkID0gW3osIHgsIHldO1xuICAgIGNvbnN0IHVybFRpbGVDb29yZCA9IHRoaXMuZ2V0VGlsZUNvb3JkRm9yVGlsZVVybEZ1bmN0aW9uKFxuICAgICAgdGlsZUNvb3JkLFxuICAgICAgcHJvamVjdGlvblxuICAgICk7XG4gICAgY29uc3QgdGlsZVVybCA9IHVybFRpbGVDb29yZFxuICAgICAgPyB0aGlzLnRpbGVVcmxGdW5jdGlvbih1cmxUaWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCB0aWxlID0gbmV3IHRoaXMudGlsZUNsYXNzKFxuICAgICAgdGlsZUNvb3JkLFxuICAgICAgdGlsZVVybCAhPT0gdW5kZWZpbmVkID8gVGlsZVN0YXRlLklETEUgOiBUaWxlU3RhdGUuRU1QVFksXG4gICAgICB0aWxlVXJsICE9PSB1bmRlZmluZWQgPyB0aWxlVXJsIDogJycsXG4gICAgICB0aGlzLmNyb3NzT3JpZ2luLFxuICAgICAgdGhpcy50aWxlTG9hZEZ1bmN0aW9uLFxuICAgICAgdGhpcy50aWxlT3B0aW9uc1xuICAgICk7XG4gICAgdGlsZS5rZXkgPSBrZXk7XG4gICAgdGlsZS5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIHRoaXMuaGFuZGxlVGlsZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICByZXR1cm4gdGlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHshKEltYWdlVGlsZXxSZXByb2pUaWxlKX0gVGlsZS5cbiAgICovXG4gIGdldFRpbGUoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIGNvbnN0IHNvdXJjZVByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICBpZiAoXG4gICAgICAhc291cmNlUHJvamVjdGlvbiB8fFxuICAgICAgIXByb2plY3Rpb24gfHxcbiAgICAgIGVxdWl2YWxlbnQoc291cmNlUHJvamVjdGlvbiwgcHJvamVjdGlvbilcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFRpbGVJbnRlcm5hbChcbiAgICAgICAgeixcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgICAgc291cmNlUHJvamVjdGlvbiB8fCBwcm9qZWN0aW9uXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBjb25zdCB0aWxlQ29vcmQgPSBbeiwgeCwgeV07XG4gICAgbGV0IHRpbGU7XG4gICAgY29uc3QgdGlsZUNvb3JkS2V5ID0gZ2V0S2V5KHRpbGVDb29yZCk7XG4gICAgaWYgKGNhY2hlLmNvbnRhaW5zS2V5KHRpbGVDb29yZEtleSkpIHtcbiAgICAgIHRpbGUgPSBjYWNoZS5nZXQodGlsZUNvb3JkS2V5KTtcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gdGhpcy5nZXRLZXkoKTtcbiAgICBpZiAodGlsZSAmJiB0aWxlLmtleSA9PSBrZXkpIHtcbiAgICAgIHJldHVybiB0aWxlO1xuICAgIH1cbiAgICBjb25zdCBzb3VyY2VUaWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHNvdXJjZVByb2plY3Rpb24pO1xuICAgIGNvbnN0IHRhcmdldFRpbGVHcmlkID0gdGhpcy5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgY29uc3Qgd3JhcHBlZFRpbGVDb29yZCA9IHRoaXMuZ2V0VGlsZUNvb3JkRm9yVGlsZVVybEZ1bmN0aW9uKFxuICAgICAgdGlsZUNvb3JkLFxuICAgICAgcHJvamVjdGlvblxuICAgICk7XG4gICAgY29uc3QgbmV3VGlsZSA9IG5ldyBSZXByb2pUaWxlKFxuICAgICAgc291cmNlUHJvamVjdGlvbixcbiAgICAgIHNvdXJjZVRpbGVHcmlkLFxuICAgICAgcHJvamVjdGlvbixcbiAgICAgIHRhcmdldFRpbGVHcmlkLFxuICAgICAgdGlsZUNvb3JkLFxuICAgICAgd3JhcHBlZFRpbGVDb29yZCxcbiAgICAgIHRoaXMuZ2V0VGlsZVBpeGVsUmF0aW8ocGl4ZWxSYXRpbyksXG4gICAgICB0aGlzLmdldEd1dHRlcigpLFxuICAgICAgKHosIHgsIHksIHBpeGVsUmF0aW8pID0+XG4gICAgICAgIHRoaXMuZ2V0VGlsZUludGVybmFsKHosIHgsIHksIHBpeGVsUmF0aW8sIHNvdXJjZVByb2plY3Rpb24pLFxuICAgICAgdGhpcy5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZF8sXG4gICAgICB0aGlzLnJlbmRlclJlcHJvamVjdGlvbkVkZ2VzXyxcbiAgICAgIHRoaXMuZ2V0SW50ZXJwb2xhdGUoKVxuICAgICk7XG4gICAgbmV3VGlsZS5rZXkgPSBrZXk7XG5cbiAgICBpZiAodGlsZSkge1xuICAgICAgbmV3VGlsZS5pbnRlcmltVGlsZSA9IHRpbGU7XG4gICAgICBuZXdUaWxlLnJlZnJlc2hJbnRlcmltQ2hhaW4oKTtcbiAgICAgIGNhY2hlLnJlcGxhY2UodGlsZUNvb3JkS2V5LCBuZXdUaWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGUuc2V0KHRpbGVDb29yZEtleSwgbmV3VGlsZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdUaWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0geyFpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHshSW1hZ2VUaWxlfSBUaWxlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRUaWxlSW50ZXJuYWwoeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIGxldCB0aWxlID0gbnVsbDtcbiAgICBjb25zdCB0aWxlQ29vcmRLZXkgPSBnZXRLZXlaWFkoeiwgeCwgeSk7XG4gICAgY29uc3Qga2V5ID0gdGhpcy5nZXRLZXkoKTtcbiAgICBpZiAoIXRoaXMudGlsZUNhY2hlLmNvbnRhaW5zS2V5KHRpbGVDb29yZEtleSkpIHtcbiAgICAgIHRpbGUgPSB0aGlzLmNyZWF0ZVRpbGVfKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24sIGtleSk7XG4gICAgICB0aGlzLnRpbGVDYWNoZS5zZXQodGlsZUNvb3JkS2V5LCB0aWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGlsZSA9IHRoaXMudGlsZUNhY2hlLmdldCh0aWxlQ29vcmRLZXkpO1xuICAgICAgaWYgKHRpbGUua2V5ICE9IGtleSkge1xuICAgICAgICAvLyBUaGUgc291cmNlJ3MgcGFyYW1zIGNoYW5nZWQuIElmIHRoZSB0aWxlIGhhcyBhbiBpbnRlcmltIHRpbGUgYW5kIGlmIHdlXG4gICAgICAgIC8vIGNhbiB1c2UgaXQgdGhlbiB3ZSB1c2UgaXQuIE90aGVyd2lzZSB3ZSBjcmVhdGUgYSBuZXcgdGlsZS4gIEluIGJvdGhcbiAgICAgICAgLy8gY2FzZXMgd2UgYXR0ZW1wdCB0byBhc3NpZ24gYW4gaW50ZXJpbSB0aWxlIHRvIHRoZSBuZXcgdGlsZS5cbiAgICAgICAgY29uc3QgaW50ZXJpbVRpbGUgPSB0aWxlO1xuICAgICAgICB0aWxlID0gdGhpcy5jcmVhdGVUaWxlXyh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBrZXkpO1xuXG4gICAgICAgIC8vbWFrZSB0aGUgbmV3IHRpbGUgdGhlIGhlYWQgb2YgdGhlIGxpc3QsXG4gICAgICAgIGlmIChpbnRlcmltVGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgLy90aGUgb2xkIHRpbGUgaGFzbid0IGJlZ3VuIGxvYWRpbmcgeWV0LCBhbmQgaXMgbm93IG91dGRhdGVkLCBzbyB3ZSBjYW4gc2ltcGx5IGRpc2NhcmQgaXRcbiAgICAgICAgICB0aWxlLmludGVyaW1UaWxlID0gaW50ZXJpbVRpbGUuaW50ZXJpbVRpbGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGlsZS5pbnRlcmltVGlsZSA9IGludGVyaW1UaWxlO1xuICAgICAgICB9XG4gICAgICAgIHRpbGUucmVmcmVzaEludGVyaW1DaGFpbigpO1xuICAgICAgICB0aGlzLnRpbGVDYWNoZS5yZXBsYWNlKHRpbGVDb29yZEtleSwgdGlsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgd2hldGhlciB0byByZW5kZXIgcmVwcm9qZWN0aW9uIGVkZ2VzIG9yIG5vdCAodXN1YWxseSBmb3IgZGVidWdnaW5nKS5cbiAgICogQHBhcmFtIHtib29sZWFufSByZW5kZXIgUmVuZGVyIHRoZSBlZGdlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0UmVuZGVyUmVwcm9qZWN0aW9uRWRnZXMocmVuZGVyKSB7XG4gICAgaWYgKHRoaXMucmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfID09IHJlbmRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlclJlcHJvamVjdGlvbkVkZ2VzXyA9IHJlbmRlcjtcbiAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbikge1xuICAgICAgdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW2lkXS5jbGVhcigpO1xuICAgIH1cbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aWxlIGdyaWQgdG8gdXNlIHdoZW4gcmVwcm9qZWN0aW5nIHRoZSB0aWxlcyB0byB0aGUgZ2l2ZW5cbiAgICogcHJvamVjdGlvbiBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IHRpbGUgZ3JpZCBmb3IgdGhlIHByb2plY3Rpb24uXG4gICAqXG4gICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuIHRoZSBkZWZhdWx0IHRpbGUgZ3JpZCBjYW5ub3QgYmUgY3JlYXRlZFxuICAgKiAoZS5nLiBwcm9qZWN0aW9uIGhhcyBubyBleHRlbnQgZGVmaW5lZCkgb3JcbiAgICogZm9yIG9wdGltaXphdGlvbiByZWFzb25zIChjdXN0b20gdGlsZSBzaXplLCByZXNvbHV0aW9ucywgLi4uKS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZWdyaWQgVGlsZSBncmlkIHRvIHVzZSBmb3IgdGhlIHByb2plY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uLCB0aWxlZ3JpZCkge1xuICAgIGNvbnN0IHByb2ogPSBnZXRQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGlmIChwcm9qKSB7XG4gICAgICBjb25zdCBwcm9qS2V5ID0gZ2V0VWlkKHByb2opO1xuICAgICAgaWYgKCEocHJvaktleSBpbiB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbikpIHtcbiAgICAgICAgdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb25bcHJvaktleV0gPSB0aWxlZ3JpZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICBzdXBlci5jbGVhcigpO1xuICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uKSB7XG4gICAgICB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb25baWRdLmNsZWFyKCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtJbWFnZVRpbGV9IGltYWdlVGlsZSBJbWFnZSB0aWxlLlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTb3VyY2UuXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRUaWxlTG9hZEZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gIC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSAqLyAoaW1hZ2VUaWxlLmdldEltYWdlKCkpLnNyYyA9XG4gICAgc3JjO1xufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlSW1hZ2U7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1hZWlxuICovXG5cbmltcG9ydCBUaWxlSW1hZ2UgZnJvbSAnLi9UaWxlSW1hZ2UuanMnO1xuaW1wb3J0IHtjcmVhdGVYWVosIGV4dGVudEZyb21Qcm9qZWN0aW9ufSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV0gSW5pdGlhbCB0aWxlIGNhY2hlIHNpemUuIFdpbGwgYXV0by1ncm93IHRvIGhvbGQgYXQgbGVhc3QgdGhlIG51bWJlciBvZiB0aWxlcyBpbiB0aGUgdmlld3BvcnQuXG4gKiBAcHJvcGVydHkge251bGx8c3RyaW5nfSBbY3Jvc3NPcmlnaW5dIFRoZSBgY3Jvc3NPcmlnaW5gIGF0dHJpYnV0ZSBmb3IgbG9hZGVkIGltYWdlcy4gIE5vdGUgdGhhdFxuICogeW91IG11c3QgcHJvdmlkZSBhIGBjcm9zc09yaWdpbmAgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlPXRydWVdIFVzZSBpbnRlcnBvbGF0ZWQgdmFsdWVzIHdoZW4gcmVzYW1wbGluZy4gIEJ5IGRlZmF1bHQsXG4gKiBsaW5lYXIgaW50ZXJwb2xhdGlvbiBpcyB1c2VkIHdoZW4gcmVzYW1wbGluZy4gIFNldCB0byBmYWxzZSB0byB1c2UgdGhlIG5lYXJlc3QgbmVpZ2hib3IgaW5zdGVhZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZT1mYWxzZV0gV2hldGhlciB0aGUgbGF5ZXIgaXMgb3BhcXVlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbj0nRVBTRzozODU3J10gUHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ9MC41XSBNYXhpbXVtIGFsbG93ZWQgcmVwcm9qZWN0aW9uIGVycm9yIChpbiBwaXhlbHMpLlxuICogSGlnaGVyIHZhbHVlcyBjYW4gaW5jcmVhc2UgcmVwcm9qZWN0aW9uIHBlcmZvcm1hbmNlLCBidXQgZGVjcmVhc2UgcHJlY2lzaW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tPTQyXSBPcHRpb25hbCBtYXggem9vbSBsZXZlbC4gTm90IHVzZWQgaWYgYHRpbGVHcmlkYCBpcyBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbT0wXSBPcHRpb25hbCBtaW4gem9vbSBsZXZlbC4gTm90IHVzZWQgaWYgYHRpbGVHcmlkYCBpcyBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gT3B0aW9uYWwgdGlsZSBncmlkIHJlc29sdXRpb24gYXQgbGV2ZWwgemVyby4gTm90IHVzZWQgaWYgYHRpbGVHcmlkYCBpcyBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlIGdyaWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSBbdGlsZUxvYWRGdW5jdGlvbl0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhIHRpbGUgZ2l2ZW4gYSBVUkwuIFRoZSBkZWZhdWx0IGlzXG4gKiBgYGBqc1xuICogZnVuY3Rpb24oaW1hZ2VUaWxlLCBzcmMpIHtcbiAqICAgaW1hZ2VUaWxlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogfTtcbiAqIGBgYFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aWxlUGl4ZWxSYXRpbz0xXSBUaGUgcGl4ZWwgcmF0aW8gdXNlZCBieSB0aGUgdGlsZSBzZXJ2aWNlLlxuICogRm9yIGV4YW1wbGUsIGlmIHRoZSB0aWxlIHNlcnZpY2UgYWR2ZXJ0aXplcyAyNTZweCBieSAyNTZweCB0aWxlcyBidXQgYWN0dWFsbHkgc2VuZHMgNTEycHhcbiAqIGJ5IDUxMnB4IGltYWdlcyAoZm9yIHJldGluYS9oaWRwaSBkZXZpY2VzKSB0aGVuIGB0aWxlUGl4ZWxSYXRpb2BcbiAqIHNob3VsZCBiZSBzZXQgdG8gYDJgLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbdGlsZVNpemU9WzI1NiwgMjU2XV0gVGhlIHRpbGUgc2l6ZSB1c2VkIGJ5IHRoZSB0aWxlIHNlcnZpY2UuXG4gKiBOb3QgdXNlZCBpZiBgdGlsZUdyaWRgIGlzIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtndXR0ZXI9MF0gVGhlIHNpemUgaW4gcGl4ZWxzIG9mIHRoZSBndXR0ZXIgYXJvdW5kIGltYWdlIHRpbGVzIHRvIGlnbm9yZS5cbiAqIFRoaXMgYWxsb3dzIGFydGlmYWN0cyBvZiByZW5kZXJpbmcgYXQgdGlsZSBlZGdlcyB0byBiZSBpZ25vcmVkLlxuICogU3VwcG9ydGVkIGltYWdlcyBzaG91bGQgYmUgd2lkZXIgYW5kIHRhbGxlciB0aGFuIHRoZSB0aWxlIHNpemUgYnkgYSB2YWx1ZSBvZiBgMiB4IGd1dHRlcmAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFt0aWxlVXJsRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGdldFxuICogdGlsZSBVUkwgZ2l2ZW4gYSB0aWxlIGNvb3JkaW5hdGUgYW5kIHRoZSBwcm9qZWN0aW9uLlxuICogUmVxdWlyZWQgaWYgYHVybGAgb3IgYHVybHNgIGFyZSBub3QgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gVVJMIHRlbXBsYXRlLiBNdXN0IGluY2x1ZGUgYHt4fWAsIGB7eX1gIG9yIGB7LXl9YCxcbiAqIGFuZCBge3p9YCBwbGFjZWhvbGRlcnMuIEEgYHs/LT99YCB0ZW1wbGF0ZSBwYXR0ZXJuLCBmb3IgZXhhbXBsZSBgc3ViZG9tYWlue2EtZn0uZG9tYWluLmNvbWAsXG4gKiBtYXkgYmUgdXNlZCBpbnN0ZWFkIG9mIGRlZmluaW5nIGVhY2ggb25lIHNlcGFyYXRlbHkgaW4gdGhlIGB1cmxzYCBvcHRpb24uXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IFt1cmxzXSBBbiBhcnJheSBvZiBVUkwgdGVtcGxhdGVzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9dHJ1ZV0gV2hldGhlciB0byB3cmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RyYW5zaXRpb249MjUwXSBEdXJhdGlvbiBvZiB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uIGZvciByZW5kZXJpbmcuXG4gKiBUbyBkaXNhYmxlIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24sIHBhc3MgYHRyYW5zaXRpb246IDBgLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vYXJyYXkuanNcIikuTmVhcmVzdERpcmVjdGlvbkZ1bmN0aW9ufSBbekRpcmVjdGlvbj0wXVxuICogQ2hvb3NlIHdoZXRoZXIgdG8gdXNlIHRpbGVzIHdpdGggYSBoaWdoZXIgb3IgbG93ZXIgem9vbSBsZXZlbCB3aGVuIGJldHdlZW4gaW50ZWdlclxuICogem9vbSBsZXZlbHMuIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3RpbGVncmlkL1RpbGVHcmlkflRpbGVHcmlkI2dldFpGb3JSZXNvbHV0aW9ufS5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIExheWVyIHNvdXJjZSBmb3IgdGlsZSBkYXRhIHdpdGggVVJMcyBpbiBhIHNldCBYWVogZm9ybWF0IHRoYXQgYXJlXG4gKiBkZWZpbmVkIGluIGEgVVJMIHRlbXBsYXRlLiBCeSBkZWZhdWx0LCB0aGlzIGZvbGxvd3MgdGhlIHdpZGVseS11c2VkXG4gKiBHb29nbGUgZ3JpZCB3aGVyZSBgeGAgMCBhbmQgYHlgIDAgYXJlIGluIHRoZSB0b3AgbGVmdC4gR3JpZHMgbGlrZVxuICogVE1TIHdoZXJlIGB4YCAwIGFuZCBgeWAgMCBhcmUgaW4gdGhlIGJvdHRvbSBsZWZ0IGNhbiBiZSB1c2VkIGJ5XG4gKiB1c2luZyB0aGUgYHsteX1gIHBsYWNlaG9sZGVyIGluIHRoZSBVUkwgdGVtcGxhdGUsIHNvIGxvbmcgYXMgdGhlXG4gKiBzb3VyY2UgZG9lcyBub3QgaGF2ZSBhIGN1c3RvbSB0aWxlIGdyaWQuIEluIHRoaXMgY2FzZVxuICogYSBgdGlsZVVybEZ1bmN0aW9uYCBjYW4gYmUgdXNlZCwgc3VjaCBhczpcbiAqIGBgYGpzXG4gKiAgdGlsZVVybEZ1bmN0aW9uOiBmdW5jdGlvbihjb29yZGluYXRlKSB7XG4gKiAgICByZXR1cm4gJ2h0dHA6Ly9tYXBzZXJ2ZXIuY29tLycgKyBjb29yZGluYXRlWzBdICsgJy8nICtcbiAqICAgICAgY29vcmRpbmF0ZVsxXSArICcvJyArICgtY29vcmRpbmF0ZVsyXSAtIDEpICsgJy5wbmcnO1xuICogIH1cbiAqIGBgYFxuICogQGFwaVxuICovXG5jbGFzcyBYWVogZXh0ZW5kcyBUaWxlSW1hZ2Uge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gWFlaIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBjb25zdCBwcm9qZWN0aW9uID1cbiAgICAgIG9wdGlvbnMucHJvamVjdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wcm9qZWN0aW9uIDogJ0VQU0c6Mzg1Nyc7XG5cbiAgICBjb25zdCB0aWxlR3JpZCA9XG4gICAgICBvcHRpb25zLnRpbGVHcmlkICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLnRpbGVHcmlkXG4gICAgICAgIDogY3JlYXRlWFlaKHtcbiAgICAgICAgICAgIGV4dGVudDogZXh0ZW50RnJvbVByb2plY3Rpb24ocHJvamVjdGlvbiksXG4gICAgICAgICAgICBtYXhSZXNvbHV0aW9uOiBvcHRpb25zLm1heFJlc29sdXRpb24sXG4gICAgICAgICAgICBtYXhab29tOiBvcHRpb25zLm1heFpvb20sXG4gICAgICAgICAgICBtaW5ab29tOiBvcHRpb25zLm1pblpvb20sXG4gICAgICAgICAgICB0aWxlU2l6ZTogb3B0aW9ucy50aWxlU2l6ZSxcbiAgICAgICAgICB9KTtcblxuICAgIHN1cGVyKHtcbiAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICBjYWNoZVNpemU6IG9wdGlvbnMuY2FjaGVTaXplLFxuICAgICAgY3Jvc3NPcmlnaW46IG9wdGlvbnMuY3Jvc3NPcmlnaW4sXG4gICAgICBpbnRlcnBvbGF0ZTogb3B0aW9ucy5pbnRlcnBvbGF0ZSxcbiAgICAgIG9wYXF1ZTogb3B0aW9ucy5vcGFxdWUsXG4gICAgICBwcm9qZWN0aW9uOiBwcm9qZWN0aW9uLFxuICAgICAgcmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ6IG9wdGlvbnMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQsXG4gICAgICB0aWxlR3JpZDogdGlsZUdyaWQsXG4gICAgICB0aWxlTG9hZEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb24sXG4gICAgICB0aWxlUGl4ZWxSYXRpbzogb3B0aW9ucy50aWxlUGl4ZWxSYXRpbyxcbiAgICAgIHRpbGVVcmxGdW5jdGlvbjogb3B0aW9ucy50aWxlVXJsRnVuY3Rpb24sXG4gICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgdXJsczogb3B0aW9ucy51cmxzLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud3JhcFggOiB0cnVlLFxuICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgYXR0cmlidXRpb25zQ29sbGFwc2libGU6IG9wdGlvbnMuYXR0cmlidXRpb25zQ29sbGFwc2libGUsXG4gICAgICB6RGlyZWN0aW9uOiBvcHRpb25zLnpEaXJlY3Rpb24sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5ndXR0ZXJfID0gb3B0aW9ucy5ndXR0ZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZ3V0dGVyIDogMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEd1dHRlci5cbiAgICovXG4gIGdldEd1dHRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5ndXR0ZXJfO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFhZWjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9DaXJjbGVcbiAqL1xuXG5pbXBvcnQgUmVndWxhclNoYXBlIGZyb20gJy4vUmVndWxhclNoYXBlLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBbZmlsbF0gRmlsbCBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByYWRpdXMgQ2lyY2xlIHJhZGl1cy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gW3N0cm9rZV0gU3Ryb2tlIHN0eWxlLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbZGlzcGxhY2VtZW50PVswLDBdXSBkaXNwbGFjZW1lbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3NjYWxlPTFdIFNjYWxlLiBBIHR3byBkaW1lbnNpb25hbCBzY2FsZSB3aWxsIHByb2R1Y2UgYW4gZWxsaXBzZS5cbiAqIFVubGVzcyB0d28gZGltZW5zaW9uYWwgc2NhbGluZyBpcyByZXF1aXJlZCBhIGJldHRlciByZXN1bHQgbWF5IGJlIG9idGFpbmVkIHdpdGggYW4gYXBwcm9wcmlhdGUgc2V0dGluZyBmb3IgYHJhZGl1c2AuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JvdGF0aW9uPTBdIFJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UsIG1lYW5pbmdmdWwgb25seSB3aGVuIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBhIHR3byBkaW1lbnNpb25hbCBzY2FsZSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyb3RhdGVXaXRoVmlldz1mYWxzZV0gV2hldGhlciB0byByb3RhdGUgdGhlIHNoYXBlIHdpdGggdGhlIHZpZXdcbiAqIChtZWFuaW5nZnVsIG9ubHkgd2hlbiB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYSB0d28gZGltZW5zaW9uYWwgc2NhbGUpLlxuICogQHByb3BlcnR5IHtcImRlY2x1dHRlclwifFwib2JzdGFjbGVcInxcIm5vbmVcInx1bmRlZmluZWR9IFtkZWNsdXR0ZXJNb2RlXSBEZWNsdXR0ZXIgbW9kZVxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IGNpcmNsZSBzdHlsZSBmb3IgdmVjdG9yIGZlYXR1cmVzLlxuICogQGFwaVxuICovXG5jbGFzcyBDaXJjbGVTdHlsZSBleHRlbmRzIFJlZ3VsYXJTaGFwZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHtyYWRpdXM6IDV9O1xuXG4gICAgc3VwZXIoe1xuICAgICAgcG9pbnRzOiBJbmZpbml0eSxcbiAgICAgIGZpbGw6IG9wdGlvbnMuZmlsbCxcbiAgICAgIHJhZGl1czogb3B0aW9ucy5yYWRpdXMsXG4gICAgICBzdHJva2U6IG9wdGlvbnMuc3Ryb2tlLFxuICAgICAgc2NhbGU6IG9wdGlvbnMuc2NhbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2NhbGUgOiAxLFxuICAgICAgcm90YXRpb246IG9wdGlvbnMucm90YXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRpb24gOiAwLFxuICAgICAgcm90YXRlV2l0aFZpZXc6XG4gICAgICAgIG9wdGlvbnMucm90YXRlV2l0aFZpZXcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRlV2l0aFZpZXcgOiBmYWxzZSxcbiAgICAgIGRpc3BsYWNlbWVudDpcbiAgICAgICAgb3B0aW9ucy5kaXNwbGFjZW1lbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZGlzcGxhY2VtZW50IDogWzAsIDBdLFxuICAgICAgZGVjbHV0dGVyTW9kZTogb3B0aW9ucy5kZWNsdXR0ZXJNb2RlLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgc3R5bGUuXG4gICAqIEByZXR1cm4ge0NpcmNsZVN0eWxlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICBjb25zdCBzdHlsZSA9IG5ldyBDaXJjbGVTdHlsZSh7XG4gICAgICBmaWxsOiB0aGlzLmdldEZpbGwoKSA/IHRoaXMuZ2V0RmlsbCgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICBzdHJva2U6IHRoaXMuZ2V0U3Ryb2tlKCkgPyB0aGlzLmdldFN0cm9rZSgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICByYWRpdXM6IHRoaXMuZ2V0UmFkaXVzKCksXG4gICAgICBzY2FsZTogQXJyYXkuaXNBcnJheShzY2FsZSkgPyBzY2FsZS5zbGljZSgpIDogc2NhbGUsXG4gICAgICByb3RhdGlvbjogdGhpcy5nZXRSb3RhdGlvbigpLFxuICAgICAgcm90YXRlV2l0aFZpZXc6IHRoaXMuZ2V0Um90YXRlV2l0aFZpZXcoKSxcbiAgICAgIGRpc3BsYWNlbWVudDogdGhpcy5nZXREaXNwbGFjZW1lbnQoKS5zbGljZSgpLFxuICAgICAgZGVjbHV0dGVyTW9kZTogdGhpcy5nZXREZWNsdXR0ZXJNb2RlKCksXG4gICAgfSk7XG4gICAgc3R5bGUuc2V0T3BhY2l0eSh0aGlzLmdldE9wYWNpdHkoKSk7XG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY2lyY2xlIHJhZGl1cy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyBDaXJjbGUgcmFkaXVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRSYWRpdXMocmFkaXVzKSB7XG4gICAgdGhpcy5yYWRpdXNfID0gcmFkaXVzO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2lyY2xlU3R5bGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvRmlsbFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfG51bGx9IFtjb2xvcj1udWxsXSBBIGNvbG9yLCBncmFkaWVudCBvciBwYXR0ZXJuLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvY29sb3J+Q29sb3J9IGFuZCB7QGxpbmsgbW9kdWxlOm9sL2NvbG9ybGlrZX5Db2xvckxpa2V9IGZvciBwb3NzaWJsZSBmb3JtYXRzLlxuICogRGVmYXVsdCBudWxsOyBpZiBudWxsLCB0aGUgQ2FudmFzL3JlbmRlcmVyIGRlZmF1bHQgYmxhY2sgd2lsbCBiZSB1c2VkLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IGZpbGwgc3R5bGUgZm9yIHZlY3RvciBmZWF0dXJlcy5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgRmlsbCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZXxudWxsfVxuICAgICAqL1xuICAgIHRoaXMuY29sb3JfID0gb3B0aW9ucy5jb2xvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xvciA6IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBzdHlsZS4gVGhlIGNvbG9yIGlzIG5vdCBjbG9uZWQgaWYgaXQgaXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9jb2xvcmxpa2V+Q29sb3JMaWtlfS5cbiAgICogQHJldHVybiB7RmlsbH0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgY29uc3QgY29sb3IgPSB0aGlzLmdldENvbG9yKCk7XG4gICAgcmV0dXJuIG5ldyBGaWxsKHtcbiAgICAgIGNvbG9yOiBBcnJheS5pc0FycmF5KGNvbG9yKSA/IGNvbG9yLnNsaWNlKCkgOiBjb2xvciB8fCB1bmRlZmluZWQsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBmaWxsIGNvbG9yLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfG51bGx9IENvbG9yLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvcl87XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjb2xvci5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfG51bGx9IGNvbG9yIENvbG9yLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRDb2xvcihjb2xvcikge1xuICAgIHRoaXMuY29sb3JfID0gY29sb3I7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmlsbDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JY29uSW1hZ2VDYWNoZVxuICovXG5pbXBvcnQge2FzU3RyaW5nfSBmcm9tICcuLi9jb2xvci5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2luZ2xldG9uIGNsYXNzLiBBdmFpbGFibGUgdGhyb3VnaCB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25JbWFnZUNhY2hlLnNoYXJlZH0uXG4gKi9cbmNsYXNzIEljb25JbWFnZUNhY2hlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuL0ljb25JbWFnZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuY2FjaGVfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5jYWNoZVNpemVfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heENhY2hlU2l6ZV8gPSAzMjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuY2FjaGVfID0ge307XG4gICAgdGhpcy5jYWNoZVNpemVfID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBDYW4gZXhwaXJlIGNhY2hlLlxuICAgKi9cbiAgY2FuRXhwaXJlQ2FjaGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGVTaXplXyA+IHRoaXMubWF4Q2FjaGVTaXplXztcbiAgfVxuXG4gIC8qKlxuICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICovXG4gIGV4cGlyZSgpIHtcbiAgICBpZiAodGhpcy5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNhY2hlXykge1xuICAgICAgICBjb25zdCBpY29uSW1hZ2UgPSB0aGlzLmNhY2hlX1trZXldO1xuICAgICAgICBpZiAoKGkrKyAmIDMpID09PSAwICYmICFpY29uSW1hZ2UuaGFzTGlzdGVuZXIoKSkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhY2hlX1trZXldO1xuICAgICAgICAgIC0tdGhpcy5jYWNoZVNpemVfO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgU3JjLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IGNyb3NzT3JpZ2luIENyb3NzIG9yaWdpbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn0gY29sb3IgQ29sb3IuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vSWNvbkltYWdlLmpzXCIpLmRlZmF1bHR9IEljb24gaW1hZ2UuXG4gICAqL1xuICBnZXQoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpIHtcbiAgICBjb25zdCBrZXkgPSBnZXRLZXkoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpO1xuICAgIHJldHVybiBrZXkgaW4gdGhpcy5jYWNoZV8gPyB0aGlzLmNhY2hlX1trZXldIDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIFNyYy5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vSWNvbkltYWdlLmpzXCIpLmRlZmF1bHR9IGljb25JbWFnZSBJY29uIGltYWdlLlxuICAgKi9cbiAgc2V0KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yLCBpY29uSW1hZ2UpIHtcbiAgICBjb25zdCBrZXkgPSBnZXRLZXkoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpO1xuICAgIHRoaXMuY2FjaGVfW2tleV0gPSBpY29uSW1hZ2U7XG4gICAgKyt0aGlzLmNhY2hlU2l6ZV87XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjYWNoZSBzaXplIG9mIHRoZSBpY29uIGNhY2hlLiBEZWZhdWx0IGlzIGAzMmAuIENoYW5nZSB0aGlzIHZhbHVlIHdoZW5cbiAgICogeW91ciBtYXAgdXNlcyBtb3JlIHRoYW4gMzIgZGlmZmVyZW50IGljb24gaW1hZ2VzIGFuZCB5b3UgYXJlIG5vdCBjYWNoaW5nIGljb25cbiAgICogc3R5bGVzIG9uIHRoZSBhcHBsaWNhdGlvbiBsZXZlbC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heENhY2hlU2l6ZSBDYWNoZSBtYXggc2l6ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U2l6ZShtYXhDYWNoZVNpemUpIHtcbiAgICB0aGlzLm1heENhY2hlU2l6ZV8gPSBtYXhDYWNoZVNpemU7XG4gICAgdGhpcy5leHBpcmUoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgU3JjLlxuICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge3N0cmluZ30gQ2FjaGUga2V5LlxuICovXG5mdW5jdGlvbiBnZXRLZXkoc3JjLCBjcm9zc09yaWdpbiwgY29sb3IpIHtcbiAgY29uc3QgY29sb3JTdHJpbmcgPSBjb2xvciA/IGFzU3RyaW5nKGNvbG9yKSA6ICdudWxsJztcbiAgcmV0dXJuIGNyb3NzT3JpZ2luICsgJzonICsgc3JjICsgJzonICsgY29sb3JTdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEljb25JbWFnZUNhY2hlO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25JbWFnZUNhY2hlfkljb25JbWFnZUNhY2hlfSBmb3JcbiAqIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvSWNvbn5JY29ufSBpbWFnZXMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCBzaGFyZWQgPSBuZXcgSWNvbkltYWdlQ2FjaGUoKTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9JbWFnZVxuICovXG5pbXBvcnQge2Fic3RyYWN0fSBmcm9tICcuLi91dGlsLmpzJztcbmltcG9ydCB7dG9TaXplfSBmcm9tICcuLi9zaXplLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gb3BhY2l0eSBPcGFjaXR5LlxuICogQHByb3BlcnR5IHtib29sZWFufSByb3RhdGVXaXRoVmlldyBJZiB0aGUgaW1hZ2Ugc2hvdWxkIGdldCByb3RhdGVkIHdpdGggdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNjYWxlIFNjYWxlLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBkaXNwbGFjZW1lbnQgRGlzcGxhY2VtZW50LlxuICogQHByb3BlcnR5IHtcImRlY2x1dHRlclwifFwib2JzdGFjbGVcInxcIm5vbmVcInx1bmRlZmluZWR9IGRlY2x1dHRlck1vZGUgRGVjbHV0dGVyIG1vZGU6IGBkZWNsdXR0ZXJgLCBgb2JzdGFjbGVgLCAnbm9uZSAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgYmFzZSBjbGFzcyB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3QgaW5zdGFudGlhdGVkIGluXG4gKiBhcHBzLiBCYXNlIGNsYXNzIGZvciB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25+SWNvbn0sIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvQ2lyY2xlfkNpcmNsZVN0eWxlfSBhbmRcbiAqIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvUmVndWxhclNoYXBlflJlZ3VsYXJTaGFwZX0uXG4gKiBAYWJzdHJhY3RcbiAqIEBhcGlcbiAqL1xuY2xhc3MgSW1hZ2VTdHlsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5vcGFjaXR5XyA9IG9wdGlvbnMub3BhY2l0eTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucm90YXRpb25fID0gb3B0aW9ucy5yb3RhdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy5zY2FsZV8gPSBvcHRpb25zLnNjYWxlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMuc2NhbGVBcnJheV8gPSB0b1NpemUob3B0aW9ucy5zY2FsZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuZGlzcGxhY2VtZW50XyA9IG9wdGlvbnMuZGlzcGxhY2VtZW50O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7XCJkZWNsdXR0ZXJcInxcIm9ic3RhY2xlXCJ8XCJub25lXCJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuZGVjbHV0dGVyTW9kZV8gPSBvcHRpb25zLmRlY2x1dHRlck1vZGU7XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBzdHlsZS5cbiAgICogQHJldHVybiB7SW1hZ2VTdHlsZX0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgcmV0dXJuIG5ldyBJbWFnZVN0eWxlKHtcbiAgICAgIG9wYWNpdHk6IHRoaXMuZ2V0T3BhY2l0eSgpLFxuICAgICAgc2NhbGU6IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGUuc2xpY2UoKSA6IHNjYWxlLFxuICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKSxcbiAgICAgIHJvdGF0ZVdpdGhWaWV3OiB0aGlzLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICBkaXNwbGFjZW1lbnQ6IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCkuc2xpY2UoKSxcbiAgICAgIGRlY2x1dHRlck1vZGU6IHRoaXMuZ2V0RGVjbHV0dGVyTW9kZSgpLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3ltYm9saXplciBvcGFjaXR5LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE9wYWNpdHkuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE9wYWNpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMub3BhY2l0eV87XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHN5bWJvbGl6ZXIgcm90YXRlcyB3aXRoIHRoZSBtYXAuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFJvdGF0ZSB3aXRoIG1hcC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Um90YXRlV2l0aFZpZXcoKSB7XG4gICAgcmV0dXJuIHRoaXMucm90YXRlV2l0aFZpZXdfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3ltb2JsaXplciByb3RhdGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfSBSb3RhdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Um90YXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucm90YXRpb25fO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3ltYm9saXplciBzY2FsZS5cbiAgICogQHJldHVybiB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gU2NhbGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFNjYWxlKCkge1xuICAgIHJldHVybiB0aGlzLnNjYWxlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN5bWJvbGl6ZXIgc2NhbGUgYXJyYXkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gU2NhbGUgYXJyYXkuXG4gICAqL1xuICBnZXRTY2FsZUFycmF5KCkge1xuICAgIHJldHVybiB0aGlzLnNjYWxlQXJyYXlfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZGlzcGxhY2VtZW50IG9mIHRoZSBzaGFwZVxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBTaGFwZSdzIGNlbnRlciBkaXNwbGFjZW1lbnRcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RGlzcGxhY2VtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmRpc3BsYWNlbWVudF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBkZWNsdXR0ZXIgbW9kZSBvZiB0aGUgc2hhcGVcbiAgICogQHJldHVybiB7XCJkZWNsdXR0ZXJcInxcIm9ic3RhY2xlXCJ8XCJub25lXCJ8dW5kZWZpbmVkfSBTaGFwZSdzIGRlY2x1dHRlciBtb2RlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldERlY2x1dHRlck1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjbHV0dGVyTW9kZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhbmNob3IgcG9pbnQgaW4gcGl4ZWxzLiBUaGUgYW5jaG9yIGRldGVybWluZXMgdGhlIGNlbnRlciBwb2ludCBmb3IgdGhlXG4gICAqIHN5bWJvbGl6ZXIuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBBbmNob3IuXG4gICAqL1xuICBnZXRBbmNob3IoKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBpbWFnZSBlbGVtZW50IGZvciB0aGUgc3ltYm9saXplci5cbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9IEltYWdlIGVsZW1lbnQuXG4gICAqL1xuICBnZXRJbWFnZShwaXhlbFJhdGlvKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH0gSW1hZ2UgZWxlbWVudC5cbiAgICovXG4gIGdldEhpdERldGVjdGlvbkltYWdlKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaW1hZ2UgcGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFBpeGVsIHJhdGlvLlxuICAgKi9cbiAgZ2V0UGl4ZWxSYXRpbyhwaXhlbFJhdGlvKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gSW1hZ2Ugc3RhdGUuXG4gICAqL1xuICBnZXRJbWFnZVN0YXRlKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IEltYWdlIHNpemUuXG4gICAqL1xuICBnZXRJbWFnZVNpemUoKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBvcmlnaW4gb2YgdGhlIHN5bWJvbGl6ZXIuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPcmlnaW4uXG4gICAqL1xuICBnZXRPcmlnaW4oKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzaXplIG9mIHRoZSBzeW1ib2xpemVyIChpbiBwaXhlbHMpLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTaXplLlxuICAgKi9cbiAgZ2V0U2l6ZSgpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGRpc3BsYWNlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBkaXNwbGFjZW1lbnQgRGlzcGxhY2VtZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXREaXNwbGFjZW1lbnQoZGlzcGxhY2VtZW50KSB7XG4gICAgdGhpcy5kaXNwbGFjZW1lbnRfID0gZGlzcGxhY2VtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgb3BhY2l0eS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0T3BhY2l0eShvcGFjaXR5KSB7XG4gICAgdGhpcy5vcGFjaXR5XyA9IG9wYWNpdHk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHdoZXRoZXIgdG8gcm90YXRlIHRoZSBzdHlsZSB3aXRoIHRoZSB2aWV3LlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvdGF0ZVdpdGhWaWV3IFJvdGF0ZSB3aXRoIG1hcC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Um90YXRlV2l0aFZpZXcocm90YXRlV2l0aFZpZXcpIHtcbiAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IHJvdGF0ZVdpdGhWaWV3O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcm90YXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Um90YXRpb24ocm90YXRpb24pIHtcbiAgICB0aGlzLnJvdGF0aW9uXyA9IHJvdGF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc2NhbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2NhbGUgU2NhbGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFNjYWxlKHNjYWxlKSB7XG4gICAgdGhpcy5zY2FsZV8gPSBzY2FsZTtcbiAgICB0aGlzLnNjYWxlQXJyYXlfID0gdG9TaXplKHNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgKi9cbiAgbGlzdGVuSW1hZ2VDaGFuZ2UobGlzdGVuZXIpIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGxvYWQoKSB7XG4gICAgYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgKi9cbiAgdW5saXN0ZW5JbWFnZUNoYW5nZShsaXN0ZW5lcikge1xuICAgIGFic3RyYWN0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VTdHlsZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9SZWd1bGFyU2hhcGVcbiAqL1xuXG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuLi9JbWFnZVN0YXRlLmpzJztcbmltcG9ydCBJbWFnZVN0eWxlIGZyb20gJy4vSW1hZ2UuanMnO1xuaW1wb3J0IHthc0FycmF5fSBmcm9tICcuLi9jb2xvci5qcyc7XG5pbXBvcnQge2FzQ29sb3JMaWtlfSBmcm9tICcuLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkR9IGZyb20gJy4uL2RvbS5qcyc7XG5pbXBvcnQge1xuICBkZWZhdWx0RmlsbFN0eWxlLFxuICBkZWZhdWx0TGluZUpvaW4sXG4gIGRlZmF1bHRMaW5lV2lkdGgsXG4gIGRlZmF1bHRNaXRlckxpbWl0LFxuICBkZWZhdWx0U3Ryb2tlU3R5bGUsXG59IGZyb20gJy4uL3JlbmRlci9jYW52YXMuanMnO1xuXG4vKipcbiAqIFNwZWNpZnkgcmFkaXVzIGZvciByZWd1bGFyIHBvbHlnb25zLCBvciByYWRpdXMxIGFuZCByYWRpdXMyIGZvciBzdGFycy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IFtmaWxsXSBGaWxsIHN0eWxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBvaW50cyBOdW1iZXIgb2YgcG9pbnRzIGZvciBzdGFycyBhbmQgcmVndWxhciBwb2x5Z29ucy4gSW4gY2FzZSBvZiBhIHBvbHlnb24sIHRoZSBudW1iZXIgb2YgcG9pbnRzXG4gKiBpcyB0aGUgbnVtYmVyIG9mIHNpZGVzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyYWRpdXNdIFJhZGl1cyBvZiBhIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmFkaXVzMV0gRmlyc3QgcmFkaXVzIG9mIGEgc3Rhci4gSWdub3JlZCBpZiByYWRpdXMgaXMgc2V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyYWRpdXMyXSBTZWNvbmQgcmFkaXVzIG9mIGEgc3Rhci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbYW5nbGU9MF0gU2hhcGUncyBhbmdsZSBpbiByYWRpYW5zLiBBIHZhbHVlIG9mIDAgd2lsbCBoYXZlIG9uZSBvZiB0aGUgc2hhcGUncyBwb2ludHMgZmFjaW5nIHVwLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbZGlzcGxhY2VtZW50PVswLCAwXV0gRGlzcGxhY2VtZW50IG9mIHRoZSBzaGFwZSBpbiBwaXhlbHMuXG4gKiBQb3NpdGl2ZSB2YWx1ZXMgd2lsbCBzaGlmdCB0aGUgc2hhcGUgcmlnaHQgYW5kIHVwLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBbc3Ryb2tlXSBTdHJva2Ugc3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JvdGF0aW9uPTBdIFJvdGF0aW9uIGluIHJhZGlhbnMgKHBvc2l0aXZlIHJvdGF0aW9uIGNsb2Nrd2lzZSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyb3RhdGVXaXRoVmlldz1mYWxzZV0gV2hldGhlciB0byByb3RhdGUgdGhlIHNoYXBlIHdpdGggdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzY2FsZT0xXSBTY2FsZS4gVW5sZXNzIHR3byBkaW1lbnNpb25hbCBzY2FsaW5nIGlzIHJlcXVpcmVkIGEgYmV0dGVyXG4gKiByZXN1bHQgbWF5IGJlIG9idGFpbmVkIHdpdGggYXBwcm9wcmlhdGUgc2V0dGluZ3MgZm9yIGByYWRpdXNgLCBgcmFkaXVzMWAgYW5kIGByYWRpdXMyYC5cbiAqIEBwcm9wZXJ0eSB7XCJkZWNsdXR0ZXJcInxcIm9ic3RhY2xlXCJ8XCJub25lXCJ8dW5kZWZpbmVkfSBbZGVjbHV0dGVyTW9kZV0gRGVjbHV0dGVyIG1vZGUuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBSZW5kZXJPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtzdHJva2VTdHlsZV0gU3Ryb2tlU3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3Ryb2tlV2lkdGggU3Ryb2tlV2lkdGguXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2l6ZSBTaXplLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fG51bGx9IGxpbmVEYXNoIExpbmVEYXNoLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbmVEYXNoT2Zmc2V0IExpbmVEYXNoT2Zmc2V0LlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gbGluZUpvaW4gTGluZUpvaW4uXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWl0ZXJMaW1pdCBNaXRlckxpbWl0LlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IHJlZ3VsYXIgc2hhcGUgc3R5bGUgZm9yIHZlY3RvciBmZWF0dXJlcy4gVGhlIHJlc3VsdGluZyBzaGFwZSB3aWxsIGJlXG4gKiBhIHJlZ3VsYXIgcG9seWdvbiB3aGVuIGByYWRpdXNgIGlzIHByb3ZpZGVkLCBvciBhIHN0YXIgd2hlbiBgcmFkaXVzMWAgYW5kXG4gKiBgcmFkaXVzMmAgYXJlIHByb3ZpZGVkLlxuICogQGFwaVxuICovXG5jbGFzcyBSZWd1bGFyU2hhcGUgZXh0ZW5kcyBJbWFnZVN0eWxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIGNvbnN0IHJvdGF0ZVdpdGhWaWV3ID1cbiAgICAgIG9wdGlvbnMucm90YXRlV2l0aFZpZXcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRlV2l0aFZpZXcgOiBmYWxzZTtcblxuICAgIHN1cGVyKHtcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICByb3RhdGVXaXRoVmlldzogcm90YXRlV2l0aFZpZXcsXG4gICAgICByb3RhdGlvbjogb3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGlvbiA6IDAsXG4gICAgICBzY2FsZTogb3B0aW9ucy5zY2FsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zY2FsZSA6IDEsXG4gICAgICBkaXNwbGFjZW1lbnQ6XG4gICAgICAgIG9wdGlvbnMuZGlzcGxhY2VtZW50ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRpc3BsYWNlbWVudCA6IFswLCAwXSxcbiAgICAgIGRlY2x1dHRlck1vZGU6IG9wdGlvbnMuZGVjbHV0dGVyTW9kZSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxudW1iZXIsIEhUTUxDYW52YXNFbGVtZW50Pn1cbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhc18gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmhpdERldGVjdGlvbkNhbnZhc18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5maWxsXyA9IG9wdGlvbnMuZmlsbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5maWxsIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5fID0gWzAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRzXyA9IG9wdGlvbnMucG9pbnRzO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yYWRpdXNfID1cbiAgICAgIG9wdGlvbnMucmFkaXVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJhZGl1cyA6IG9wdGlvbnMucmFkaXVzMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5yYWRpdXMyXyA9IG9wdGlvbnMucmFkaXVzMjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmFuZ2xlXyA9IG9wdGlvbnMuYW5nbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5nbGUgOiAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnN0cm9rZV8gPSBvcHRpb25zLnN0cm9rZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdHJva2UgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMuc2l6ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7UmVuZGVyT3B0aW9uc31cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlck9wdGlvbnNfID0gbnVsbDtcblxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBzdHlsZS5cbiAgICogQHJldHVybiB7UmVndWxhclNoYXBlfSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICBjb25zdCBzdHlsZSA9IG5ldyBSZWd1bGFyU2hhcGUoe1xuICAgICAgZmlsbDogdGhpcy5nZXRGaWxsKCkgPyB0aGlzLmdldEZpbGwoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgcG9pbnRzOiB0aGlzLmdldFBvaW50cygpLFxuICAgICAgcmFkaXVzOiB0aGlzLmdldFJhZGl1cygpLFxuICAgICAgcmFkaXVzMjogdGhpcy5nZXRSYWRpdXMyKCksXG4gICAgICBhbmdsZTogdGhpcy5nZXRBbmdsZSgpLFxuICAgICAgc3Ryb2tlOiB0aGlzLmdldFN0cm9rZSgpID8gdGhpcy5nZXRTdHJva2UoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKSxcbiAgICAgIHJvdGF0ZVdpdGhWaWV3OiB0aGlzLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICBzY2FsZTogQXJyYXkuaXNBcnJheShzY2FsZSkgPyBzY2FsZS5zbGljZSgpIDogc2NhbGUsXG4gICAgICBkaXNwbGFjZW1lbnQ6IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCkuc2xpY2UoKSxcbiAgICAgIGRlY2x1dHRlck1vZGU6IHRoaXMuZ2V0RGVjbHV0dGVyTW9kZSgpLFxuICAgIH0pO1xuICAgIHN0eWxlLnNldE9wYWNpdHkodGhpcy5nZXRPcGFjaXR5KCkpO1xuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBpbiBwaXhlbHMuIFRoZSBhbmNob3IgZGV0ZXJtaW5lcyB0aGUgY2VudGVyIHBvaW50IGZvciB0aGVcbiAgICogc3ltYm9saXplci5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gQW5jaG9yLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRBbmNob3IoKSB7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuc2l6ZV87XG4gICAgaWYgKCFzaXplKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZGlzcGxhY2VtZW50ID0gdGhpcy5nZXREaXNwbGFjZW1lbnQoKTtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZ2V0U2NhbGVBcnJheSgpO1xuICAgIC8vIGFuY2hvciBpcyBzY2FsZWQgYnkgcmVuZGVyZXIgYnV0IGRpc3BsYWNlbWVudCBzaG91bGQgbm90IGJlIHNjYWxlZFxuICAgIC8vIHNvIGRpdmlkZSBieSBzY2FsZSBoZXJlXG4gICAgcmV0dXJuIFtcbiAgICAgIHNpemVbMF0gLyAyIC0gZGlzcGxhY2VtZW50WzBdIC8gc2NhbGVbMF0sXG4gICAgICBzaXplWzFdIC8gMiArIGRpc3BsYWNlbWVudFsxXSAvIHNjYWxlWzFdLFxuICAgIF07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhbmdsZSB1c2VkIGluIGdlbmVyYXRpbmcgdGhlIHNoYXBlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFNoYXBlJ3Mgcm90YXRpb24gaW4gcmFkaWFucy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0QW5nbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYW5nbGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmlsbCBzdHlsZSBmb3IgdGhlIHNoYXBlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gRmlsbCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RmlsbCgpIHtcbiAgICByZXR1cm4gdGhpcy5maWxsXztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGZpbGwgc3R5bGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IGZpbGwgRmlsbCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0RmlsbChmaWxsKSB7XG4gICAgdGhpcy5maWxsXyA9IGZpbGw7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2UgZWxlbWVudC5cbiAgICovXG4gIGdldEhpdERldGVjdGlvbkltYWdlKCkge1xuICAgIGlmICghdGhpcy5oaXREZXRlY3Rpb25DYW52YXNfKSB7XG4gICAgICB0aGlzLmNyZWF0ZUhpdERldGVjdGlvbkNhbnZhc18odGhpcy5yZW5kZXJPcHRpb25zXyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhpdERldGVjdGlvbkNhbnZhc187XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBpbWFnZSBpY29uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIG9yIENhbnZhcyBlbGVtZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRJbWFnZShwaXhlbFJhdGlvKSB7XG4gICAgbGV0IGltYWdlID0gdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dO1xuICAgIGlmICghaW1hZ2UpIHtcbiAgICAgIGNvbnN0IHJlbmRlck9wdGlvbnMgPSB0aGlzLnJlbmRlck9wdGlvbnNfO1xuICAgICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChcbiAgICAgICAgcmVuZGVyT3B0aW9ucy5zaXplICogcGl4ZWxSYXRpbyxcbiAgICAgICAgcmVuZGVyT3B0aW9ucy5zaXplICogcGl4ZWxSYXRpb1xuICAgICAgKTtcbiAgICAgIHRoaXMuZHJhd18ocmVuZGVyT3B0aW9ucywgY29udGV4dCwgcGl4ZWxSYXRpbyk7XG5cbiAgICAgIGltYWdlID0gY29udGV4dC5jYW52YXM7XG4gICAgICB0aGlzLmNhbnZhc19bcGl4ZWxSYXRpb10gPSBpbWFnZTtcbiAgICB9XG4gICAgcmV0dXJuIGltYWdlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaW1hZ2UgcGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFBpeGVsIHJhdGlvLlxuICAgKi9cbiAgZ2V0UGl4ZWxSYXRpbyhwaXhlbFJhdGlvKSB7XG4gICAgcmV0dXJuIHBpeGVsUmF0aW87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBJbWFnZSBzaXplLlxuICAgKi9cbiAgZ2V0SW1hZ2VTaXplKCkge1xuICAgIHJldHVybiB0aGlzLnNpemVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL0ltYWdlU3RhdGUuanNcIikuZGVmYXVsdH0gSW1hZ2Ugc3RhdGUuXG4gICAqL1xuICBnZXRJbWFnZVN0YXRlKCkge1xuICAgIHJldHVybiBJbWFnZVN0YXRlLkxPQURFRDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG9yaWdpbiBvZiB0aGUgc3ltYm9saXplci5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gT3JpZ2luLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRPcmlnaW4oKSB7XG4gICAgcmV0dXJuIHRoaXMub3JpZ2luXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG51bWJlciBvZiBwb2ludHMgZm9yIGdlbmVyYXRpbmcgdGhlIHNoYXBlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBvZiBwb2ludHMgZm9yIHN0YXJzIGFuZCByZWd1bGFyIHBvbHlnb25zLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRQb2ludHMoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9pbnRzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIChwcmltYXJ5KSByYWRpdXMgZm9yIHRoZSBzaGFwZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBSYWRpdXMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJhZGl1cygpIHtcbiAgICByZXR1cm4gdGhpcy5yYWRpdXNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc2Vjb25kYXJ5IHJhZGl1cyBmb3IgdGhlIHNoYXBlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSYWRpdXMyLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRSYWRpdXMyKCkge1xuICAgIHJldHVybiB0aGlzLnJhZGl1czJfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgc3ltYm9saXplciAoaW4gcGl4ZWxzKS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTaXplLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRTaXplKCkge1xuICAgIHJldHVybiB0aGlzLnNpemVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3Ryb2tlIHN0eWxlIGZvciB0aGUgc2hhcGUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFN0cm9rZSBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0U3Ryb2tlKCkge1xuICAgIHJldHVybiB0aGlzLnN0cm9rZV87XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzdHJva2Ugc3R5bGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlIFN0cm9rZSBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U3Ryb2tlKHN0cm9rZSkge1xuICAgIHRoaXMuc3Ryb2tlXyA9IHN0cm9rZTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICovXG4gIGxpc3RlbkltYWdlQ2hhbmdlKGxpc3RlbmVyKSB7fVxuXG4gIC8qKlxuICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICovXG4gIGxvYWQoKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0KTogdm9pZH0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqL1xuICB1bmxpc3RlbkltYWdlQ2hhbmdlKGxpc3RlbmVyKSB7fVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgYWRkaXRpb25hbCBjYW52YXMgc2l6ZSBuZWVkZWQgZm9yIHRoZSBtaXRlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmVKb2luIExpbmUgam9pblxuICAgKiBAcGFyYW0ge251bWJlcn0gc3Ryb2tlV2lkdGggU3Ryb2tlIHdpZHRoXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaXRlckxpbWl0IE1pdGVyIGxpbWl0XG4gICAqIEByZXR1cm4ge251bWJlcn0gQWRkaXRpb25hbCBjYW52YXMgc2l6ZSBuZWVkZWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNhbGN1bGF0ZUxpbmVKb2luU2l6ZV8obGluZUpvaW4sIHN0cm9rZVdpZHRoLCBtaXRlckxpbWl0KSB7XG4gICAgaWYgKFxuICAgICAgc3Ryb2tlV2lkdGggPT09IDAgfHxcbiAgICAgIHRoaXMucG9pbnRzXyA9PT0gSW5maW5pdHkgfHxcbiAgICAgIChsaW5lSm9pbiAhPT0gJ2JldmVsJyAmJiBsaW5lSm9pbiAhPT0gJ21pdGVyJylcbiAgICApIHtcbiAgICAgIHJldHVybiBzdHJva2VXaWR0aDtcbiAgICB9XG4gICAgLy8gbSAgfCBeXG4gICAgLy8gaSAgfCB8XFwgICAgICAgICAgICAgICAgICAuXG4gICAgLy8gdCA+fCAgI1xcXG4gICAgLy8gZSAgfCB8XFwgXFwgICAgICAgICAgICAgIC5cbiAgICAvLyByICAgICAgXFxzXFxcbiAgICAvLyAgICAgIHwgIFxcdFxcICAgICAgICAgIC4gICAgICAgICAgICAgICAgIC5cbiAgICAvLyAgICAgICAgICBcXHJcXCAgICAgICAgICAgICAgICAgICAgICAuICAgLlxuICAgIC8vICAgICAgfCAgICBcXG9cXCAgICAgIC4gICAgICAgICAgLiAgLiAuIC5cbiAgICAvLyAgICAgICAgICBlIFxca1xcICAgICAgICAgICAgLiAgLiAgICAuIC5cbiAgICAvLyAgICAgIHwgICAgICBcXGVcXCAgLiAgICAuICAuICAgICAgIC4gLlxuICAgIC8vICAgICAgIGQgICAgICBcXCBcXCAgLiAgLiAgICAgICAgICAuIC5cbiAgICAvLyAgICAgIHwgXyBfYV8gX1xcIyAgLiAgICAgICAgICAgIC4gLlxuICAgIC8vICAgcjEgICAgICAgICAgLyBgICAgICAgICAgICAgIC4gLlxuICAgIC8vICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgLiAuXG4gICAgLy8gICAgICAgYiAgICAgLyAgICAgICAgICAgICAgIC4gLlxuICAgIC8vICAgICAgfCAgICAgICAgICAgICAgICAgICAgIC4gLlxuICAgIC8vICAgICAgICAgICAvIHIyICAgICAgICAgICAgLiAuXG4gICAgLy8gICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgLiAgIC5cbiAgICAvLyAgICAgICAgIC8gICAgICAgICAgICAgICAgICAgICAgICAgICAuICAgLlxuICAgIC8vICAgICAgfM6xICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuICAgLlxuICAgIC8vICAgICAgIC8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4gICAuXG4gICAgLy8gICAgICDCsCBjZW50ZXJcbiAgICBsZXQgcjEgPSB0aGlzLnJhZGl1c187XG4gICAgbGV0IHIyID0gdGhpcy5yYWRpdXMyXyA9PT0gdW5kZWZpbmVkID8gcjEgOiB0aGlzLnJhZGl1czJfO1xuICAgIGlmIChyMSA8IHIyKSB7XG4gICAgICBjb25zdCB0bXAgPSByMTtcbiAgICAgIHIxID0gcjI7XG4gICAgICByMiA9IHRtcDtcbiAgICB9XG4gICAgY29uc3QgcG9pbnRzID1cbiAgICAgIHRoaXMucmFkaXVzMl8gPT09IHVuZGVmaW5lZCA/IHRoaXMucG9pbnRzXyA6IHRoaXMucG9pbnRzXyAqIDI7XG4gICAgY29uc3QgYWxwaGEgPSAoMiAqIE1hdGguUEkpIC8gcG9pbnRzO1xuICAgIGNvbnN0IGEgPSByMiAqIE1hdGguc2luKGFscGhhKTtcbiAgICBjb25zdCBiID0gTWF0aC5zcXJ0KHIyICogcjIgLSBhICogYSk7XG4gICAgY29uc3QgZCA9IHIxIC0gYjtcbiAgICBjb25zdCBlID0gTWF0aC5zcXJ0KGEgKiBhICsgZCAqIGQpO1xuICAgIGNvbnN0IG1pdGVyUmF0aW8gPSBlIC8gYTtcbiAgICBpZiAobGluZUpvaW4gPT09ICdtaXRlcicgJiYgbWl0ZXJSYXRpbyA8PSBtaXRlckxpbWl0KSB7XG4gICAgICByZXR1cm4gbWl0ZXJSYXRpbyAqIHN0cm9rZVdpZHRoO1xuICAgIH1cbiAgICAvLyBDYWxjdWxhdGUgdGhlIGRpc3RuY2UgZnJvbSBjZW50ZXIgdG8gdGhlIHN0cm9rZSBjb3JuZXIgd2hlcmVcbiAgICAvLyBpdCB3YXMgY3V0IHNob3J0IGJlY2F1c2Ugb2YgdGhlIG1pdGVyIGxpbWl0LlxuICAgIC8vICAgICAgICAgICAgICBsXG4gICAgLy8gICAgICAgIC0tLS0rLS0tLSA8PSBkaXN0YW5jZSBmcm9tIGNlbnRlciB0byBoZXJlIGlzIG1heHJcbiAgICAvLyAgICAgICAvIyMjI3xrICMjXFxcbiAgICAvLyAgICAgIC8jIyMjI14jIyMjI1xcXG4gICAgLy8gICAgIC8jIyMjIC8rXFwjIHMgI1xcXG4gICAgLy8gICAgLyMjIyBoLysrK1xcIyB0ICNcXFxuICAgIC8vICAgLyMjIyB0LysrKysrXFwjIHIgI1xcXG4gICAgLy8gIC8jIyMgYS8rKysrKysrXFwjIG8gI1xcXG4gICAgLy8gLyMjIyBwLysrIGZpbGwgK1xcIyBrICNcXFxuICAgIC8vLyMjIyMgLysrKysrXisrKysrXFwjIGUgI1xcXG4gICAgLy8jIyMjIy8rKysrKy8rXFwrKysrK1xcIyMjIyNcXFxuICAgIGNvbnN0IGsgPSBzdHJva2VXaWR0aCAvIDIgLyBtaXRlclJhdGlvO1xuICAgIGNvbnN0IGwgPSAoc3Ryb2tlV2lkdGggLyAyKSAqIChkIC8gZSk7XG4gICAgY29uc3QgbWF4ciA9IE1hdGguc3FydCgocjEgKyBrKSAqIChyMSArIGspICsgbCAqIGwpO1xuICAgIGNvbnN0IGJldmVsQWRkID0gbWF4ciAtIHIxO1xuICAgIGlmICh0aGlzLnJhZGl1czJfID09PSB1bmRlZmluZWQgfHwgbGluZUpvaW4gPT09ICdiZXZlbCcpIHtcbiAgICAgIHJldHVybiBiZXZlbEFkZCAqIDI7XG4gICAgfVxuICAgIC8vIElmIG91dGVyIG1pdGVyIGlzIG92ZXIgdGhlIG1pdGVyIGxpbWl0IHRoZSBpbm5lciBtaXRlciBtYXkgcmVhY2ggdGhyb3VnaCB0aGVcbiAgICAvLyBjZW50ZXIgYW5kIGJlIGxvbmdlciB0aGFuIHRoZSBiZXZlbCwgc2FtZSBjYWxjdWxhdGlvbiBhcyBhYm92ZSBidXQgc3dhcCByMSAvIHIyLlxuICAgIGNvbnN0IGFhID0gcjEgKiBNYXRoLnNpbihhbHBoYSk7XG4gICAgY29uc3QgYmIgPSBNYXRoLnNxcnQocjEgKiByMSAtIGFhICogYWEpO1xuICAgIGNvbnN0IGRkID0gcjIgLSBiYjtcbiAgICBjb25zdCBlZSA9IE1hdGguc3FydChhYSAqIGFhICsgZGQgKiBkZCk7XG4gICAgY29uc3QgaW5uZXJNaXRlclJhdGlvID0gZWUgLyBhYTtcbiAgICBpZiAoaW5uZXJNaXRlclJhdGlvIDw9IG1pdGVyTGltaXQpIHtcbiAgICAgIGNvbnN0IGlubmVyTGVuZ3RoID0gKGlubmVyTWl0ZXJSYXRpbyAqIHN0cm9rZVdpZHRoKSAvIDIgLSByMiAtIHIxO1xuICAgICAgcmV0dXJuIDIgKiBNYXRoLm1heChiZXZlbEFkZCwgaW5uZXJMZW5ndGgpO1xuICAgIH1cbiAgICByZXR1cm4gYmV2ZWxBZGQgKiAyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1JlbmRlck9wdGlvbnN9ICBUaGUgcmVuZGVyIG9wdGlvbnNcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgY3JlYXRlUmVuZGVyT3B0aW9ucygpIHtcbiAgICBsZXQgbGluZUpvaW4gPSBkZWZhdWx0TGluZUpvaW47XG4gICAgbGV0IG1pdGVyTGltaXQgPSAwO1xuICAgIGxldCBsaW5lRGFzaCA9IG51bGw7XG4gICAgbGV0IGxpbmVEYXNoT2Zmc2V0ID0gMDtcbiAgICBsZXQgc3Ryb2tlU3R5bGU7XG4gICAgbGV0IHN0cm9rZVdpZHRoID0gMDtcblxuICAgIGlmICh0aGlzLnN0cm9rZV8pIHtcbiAgICAgIHN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VfLmdldENvbG9yKCk7XG4gICAgICBpZiAoc3Ryb2tlU3R5bGUgPT09IG51bGwpIHtcbiAgICAgICAgc3Ryb2tlU3R5bGUgPSBkZWZhdWx0U3Ryb2tlU3R5bGU7XG4gICAgICB9XG4gICAgICBzdHJva2VTdHlsZSA9IGFzQ29sb3JMaWtlKHN0cm9rZVN0eWxlKTtcbiAgICAgIHN0cm9rZVdpZHRoID0gdGhpcy5zdHJva2VfLmdldFdpZHRoKCk7XG4gICAgICBpZiAoc3Ryb2tlV2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdHJva2VXaWR0aCA9IGRlZmF1bHRMaW5lV2lkdGg7XG4gICAgICB9XG4gICAgICBsaW5lRGFzaCA9IHRoaXMuc3Ryb2tlXy5nZXRMaW5lRGFzaCgpO1xuICAgICAgbGluZURhc2hPZmZzZXQgPSB0aGlzLnN0cm9rZV8uZ2V0TGluZURhc2hPZmZzZXQoKTtcbiAgICAgIGxpbmVKb2luID0gdGhpcy5zdHJva2VfLmdldExpbmVKb2luKCk7XG4gICAgICBpZiAobGluZUpvaW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsaW5lSm9pbiA9IGRlZmF1bHRMaW5lSm9pbjtcbiAgICAgIH1cbiAgICAgIG1pdGVyTGltaXQgPSB0aGlzLnN0cm9rZV8uZ2V0TWl0ZXJMaW1pdCgpO1xuICAgICAgaWYgKG1pdGVyTGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtaXRlckxpbWl0ID0gZGVmYXVsdE1pdGVyTGltaXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYWRkID0gdGhpcy5jYWxjdWxhdGVMaW5lSm9pblNpemVfKGxpbmVKb2luLCBzdHJva2VXaWR0aCwgbWl0ZXJMaW1pdCk7XG4gICAgY29uc3QgbWF4UmFkaXVzID0gTWF0aC5tYXgodGhpcy5yYWRpdXNfLCB0aGlzLnJhZGl1czJfIHx8IDApO1xuICAgIGNvbnN0IHNpemUgPSBNYXRoLmNlaWwoMiAqIG1heFJhZGl1cyArIGFkZCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3Ryb2tlU3R5bGU6IHN0cm9rZVN0eWxlLFxuICAgICAgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoLFxuICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgIGxpbmVEYXNoOiBsaW5lRGFzaCxcbiAgICAgIGxpbmVEYXNoT2Zmc2V0OiBsaW5lRGFzaE9mZnNldCxcbiAgICAgIGxpbmVKb2luOiBsaW5lSm9pbixcbiAgICAgIG1pdGVyTGltaXQ6IG1pdGVyTGltaXQsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgdGhpcy5yZW5kZXJPcHRpb25zXyA9IHRoaXMuY3JlYXRlUmVuZGVyT3B0aW9ucygpO1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLnJlbmRlck9wdGlvbnNfLnNpemU7XG4gICAgdGhpcy5jYW52YXNfID0ge307XG4gICAgdGhpcy5zaXplXyA9IFtzaXplLCBzaXplXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1JlbmRlck9wdGlvbnN9IHJlbmRlck9wdGlvbnMgUmVuZGVyIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gVGhlIHBpeGVsIHJhdGlvLlxuICAgKi9cbiAgZHJhd18ocmVuZGVyT3B0aW9ucywgY29udGV4dCwgcGl4ZWxSYXRpbykge1xuICAgIGNvbnRleHQuc2NhbGUocGl4ZWxSYXRpbywgcGl4ZWxSYXRpbyk7XG4gICAgLy8gc2V0IG9yaWdpbiB0byBjYW52YXMgY2VudGVyXG4gICAgY29udGV4dC50cmFuc2xhdGUocmVuZGVyT3B0aW9ucy5zaXplIC8gMiwgcmVuZGVyT3B0aW9ucy5zaXplIC8gMik7XG5cbiAgICB0aGlzLmNyZWF0ZVBhdGhfKGNvbnRleHQpO1xuXG4gICAgaWYgKHRoaXMuZmlsbF8pIHtcbiAgICAgIGxldCBjb2xvciA9IHRoaXMuZmlsbF8uZ2V0Q29sb3IoKTtcbiAgICAgIGlmIChjb2xvciA9PT0gbnVsbCkge1xuICAgICAgICBjb2xvciA9IGRlZmF1bHRGaWxsU3R5bGU7XG4gICAgICB9XG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGFzQ29sb3JMaWtlKGNvbG9yKTtcbiAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJva2VfKSB7XG4gICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gcmVuZGVyT3B0aW9ucy5zdHJva2VTdHlsZTtcbiAgICAgIGNvbnRleHQubGluZVdpZHRoID0gcmVuZGVyT3B0aW9ucy5zdHJva2VXaWR0aDtcbiAgICAgIGlmIChyZW5kZXJPcHRpb25zLmxpbmVEYXNoKSB7XG4gICAgICAgIGNvbnRleHQuc2V0TGluZURhc2gocmVuZGVyT3B0aW9ucy5saW5lRGFzaCk7XG4gICAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSByZW5kZXJPcHRpb25zLmxpbmVEYXNoT2Zmc2V0O1xuICAgICAgfVxuICAgICAgY29udGV4dC5saW5lSm9pbiA9IHJlbmRlck9wdGlvbnMubGluZUpvaW47XG4gICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSByZW5kZXJPcHRpb25zLm1pdGVyTGltaXQ7XG4gICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1JlbmRlck9wdGlvbnN9IHJlbmRlck9wdGlvbnMgUmVuZGVyIG9wdGlvbnMuXG4gICAqL1xuICBjcmVhdGVIaXREZXRlY3Rpb25DYW52YXNfKHJlbmRlck9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5maWxsXykge1xuICAgICAgbGV0IGNvbG9yID0gdGhpcy5maWxsXy5nZXRDb2xvcigpO1xuXG4gICAgICAvLyBkZXRlcm1pbmUgaWYgZmlsbCBpcyB0cmFuc3BhcmVudCAob3IgcGF0dGVybiBvciBncmFkaWVudClcbiAgICAgIGxldCBvcGFjaXR5ID0gMDtcbiAgICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbG9yID0gYXNBcnJheShjb2xvcik7XG4gICAgICB9XG4gICAgICBpZiAoY29sb3IgPT09IG51bGwpIHtcbiAgICAgICAgb3BhY2l0eSA9IDE7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgICAgIG9wYWNpdHkgPSBjb2xvci5sZW5ndGggPT09IDQgPyBjb2xvclszXSA6IDE7XG4gICAgICB9XG4gICAgICBpZiAob3BhY2l0eSA9PT0gMCkge1xuICAgICAgICAvLyBpZiBhIHRyYW5zcGFyZW50IGZpbGwgc3R5bGUgaXMgc2V0LCBjcmVhdGUgYW4gZXh0cmEgaGl0LWRldGVjdGlvbiBpbWFnZVxuICAgICAgICAvLyB3aXRoIGEgZGVmYXVsdCBmaWxsIHN0eWxlXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoXG4gICAgICAgICAgcmVuZGVyT3B0aW9ucy5zaXplLFxuICAgICAgICAgIHJlbmRlck9wdGlvbnMuc2l6ZVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkNhbnZhc18gPSBjb250ZXh0LmNhbnZhcztcblxuICAgICAgICB0aGlzLmRyYXdIaXREZXRlY3Rpb25DYW52YXNfKHJlbmRlck9wdGlvbnMsIGNvbnRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXykge1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25DYW52YXNfID0gdGhpcy5nZXRJbWFnZSgxKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gZHJhdyBpbi5cbiAgICovXG4gIGNyZWF0ZVBhdGhfKGNvbnRleHQpIHtcbiAgICBsZXQgcG9pbnRzID0gdGhpcy5wb2ludHNfO1xuICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMucmFkaXVzXztcbiAgICBpZiAocG9pbnRzID09PSBJbmZpbml0eSkge1xuICAgICAgY29udGV4dC5hcmMoMCwgMCwgcmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJhZGl1czIgPSB0aGlzLnJhZGl1czJfID09PSB1bmRlZmluZWQgPyByYWRpdXMgOiB0aGlzLnJhZGl1czJfO1xuICAgICAgaWYgKHRoaXMucmFkaXVzMl8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwb2ludHMgKj0gMjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSB0aGlzLmFuZ2xlXyAtIE1hdGguUEkgLyAyO1xuICAgICAgY29uc3Qgc3RlcCA9ICgyICogTWF0aC5QSSkgLyBwb2ludHM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50czsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGFuZ2xlMCA9IHN0YXJ0QW5nbGUgKyBpICogc3RlcDtcbiAgICAgICAgY29uc3QgcmFkaXVzQyA9IGkgJSAyID09PSAwID8gcmFkaXVzIDogcmFkaXVzMjtcbiAgICAgICAgY29udGV4dC5saW5lVG8ocmFkaXVzQyAqIE1hdGguY29zKGFuZ2xlMCksIHJhZGl1c0MgKiBNYXRoLnNpbihhbmdsZTApKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVuZGVyT3B0aW9uc30gcmVuZGVyT3B0aW9ucyBSZW5kZXIgb3B0aW9ucy5cbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgVGhlIGNvbnRleHQuXG4gICAqL1xuICBkcmF3SGl0RGV0ZWN0aW9uQ2FudmFzXyhyZW5kZXJPcHRpb25zLCBjb250ZXh0KSB7XG4gICAgLy8gc2V0IG9yaWdpbiB0byBjYW52YXMgY2VudGVyXG4gICAgY29udGV4dC50cmFuc2xhdGUocmVuZGVyT3B0aW9ucy5zaXplIC8gMiwgcmVuZGVyT3B0aW9ucy5zaXplIC8gMik7XG5cbiAgICB0aGlzLmNyZWF0ZVBhdGhfKGNvbnRleHQpO1xuXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBkZWZhdWx0RmlsbFN0eWxlO1xuICAgIGNvbnRleHQuZmlsbCgpO1xuICAgIGlmICh0aGlzLnN0cm9rZV8pIHtcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSByZW5kZXJPcHRpb25zLnN0cm9rZVN0eWxlO1xuICAgICAgY29udGV4dC5saW5lV2lkdGggPSByZW5kZXJPcHRpb25zLnN0cm9rZVdpZHRoO1xuICAgICAgaWYgKHJlbmRlck9wdGlvbnMubGluZURhc2gpIHtcbiAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChyZW5kZXJPcHRpb25zLmxpbmVEYXNoKTtcbiAgICAgICAgY29udGV4dC5saW5lRGFzaE9mZnNldCA9IHJlbmRlck9wdGlvbnMubGluZURhc2hPZmZzZXQ7XG4gICAgICB9XG4gICAgICBjb250ZXh0LmxpbmVKb2luID0gcmVuZGVyT3B0aW9ucy5saW5lSm9pbjtcbiAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHJlbmRlck9wdGlvbnMubWl0ZXJMaW1pdDtcbiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlZ3VsYXJTaGFwZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9TdHJva2VcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2NvbG9yXSBBIGNvbG9yLCBncmFkaWVudCBvciBwYXR0ZXJuLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvY29sb3J+Q29sb3J9IGFuZCB7QGxpbmsgbW9kdWxlOm9sL2NvbG9ybGlrZX5Db2xvckxpa2V9IGZvciBwb3NzaWJsZSBmb3JtYXRzLlxuICogRGVmYXVsdCBudWxsOyBpZiBudWxsLCB0aGUgQ2FudmFzL3JlbmRlcmVyIGRlZmF1bHQgYmxhY2sgd2lsbCBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBbbGluZUNhcD0ncm91bmQnXSBMaW5lIGNhcCBzdHlsZTogYGJ1dHRgLCBgcm91bmRgLCBvciBgc3F1YXJlYC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFtsaW5lSm9pbj0ncm91bmQnXSBMaW5lIGpvaW4gc3R5bGU6IGBiZXZlbGAsIGByb3VuZGAsIG9yIGBtaXRlcmAuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtsaW5lRGFzaF0gTGluZSBkYXNoIHBhdHRlcm4uIERlZmF1bHQgaXMgYG51bGxgIChubyBkYXNoKS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbGluZURhc2hPZmZzZXQ9MF0gTGluZSBkYXNoIG9mZnNldC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWl0ZXJMaW1pdD0xMF0gTWl0ZXIgbGltaXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3dpZHRoXSBXaWR0aC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCBzdHJva2Ugc3R5bGUgZm9yIHZlY3RvciBmZWF0dXJlcy5cbiAqIE5vdGUgdGhhdCB0aGUgZGVmYXVsdHMgZ2l2ZW4gYXJlIHRoZSBDYW52YXMgZGVmYXVsdHMsIHdoaWNoIHdpbGwgYmUgdXNlZCBpZlxuICogb3B0aW9uIGlzIG5vdCBkZWZpbmVkLiBUaGUgYGdldGAgZnVuY3Rpb25zIHJldHVybiB3aGF0ZXZlciB3YXMgZW50ZXJlZCBpblxuICogdGhlIG9wdGlvbnM7IHRoZXkgd2lsbCBub3QgcmV0dXJuIHRoZSBkZWZhdWx0LlxuICogQGFwaVxuICovXG5jbGFzcyBTdHJva2Uge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9XG4gICAgICovXG4gICAgdGhpcy5jb2xvcl8gPSBvcHRpb25zLmNvbG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbG9yIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NhbnZhc0xpbmVDYXB8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMubGluZUNhcF8gPSBvcHRpb25zLmxpbmVDYXA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fG51bGx9XG4gICAgICovXG4gICAgdGhpcy5saW5lRGFzaF8gPSBvcHRpb25zLmxpbmVEYXNoICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxpbmVEYXNoIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5saW5lRGFzaE9mZnNldF8gPSBvcHRpb25zLmxpbmVEYXNoT2Zmc2V0O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Q2FudmFzTGluZUpvaW58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMubGluZUpvaW5fID0gb3B0aW9ucy5saW5lSm9pbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5taXRlckxpbWl0XyA9IG9wdGlvbnMubWl0ZXJMaW1pdDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy53aWR0aF8gPSBvcHRpb25zLndpZHRoO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgc3R5bGUuXG4gICAqIEByZXR1cm4ge1N0cm9rZX0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgY29uc3QgY29sb3IgPSB0aGlzLmdldENvbG9yKCk7XG4gICAgcmV0dXJuIG5ldyBTdHJva2Uoe1xuICAgICAgY29sb3I6IEFycmF5LmlzQXJyYXkoY29sb3IpID8gY29sb3Iuc2xpY2UoKSA6IGNvbG9yIHx8IHVuZGVmaW5lZCxcbiAgICAgIGxpbmVDYXA6IHRoaXMuZ2V0TGluZUNhcCgpLFxuICAgICAgbGluZURhc2g6IHRoaXMuZ2V0TGluZURhc2goKSA/IHRoaXMuZ2V0TGluZURhc2goKS5zbGljZSgpIDogdW5kZWZpbmVkLFxuICAgICAgbGluZURhc2hPZmZzZXQ6IHRoaXMuZ2V0TGluZURhc2hPZmZzZXQoKSxcbiAgICAgIGxpbmVKb2luOiB0aGlzLmdldExpbmVKb2luKCksXG4gICAgICBtaXRlckxpbWl0OiB0aGlzLmdldE1pdGVyTGltaXQoKSxcbiAgICAgIHdpZHRoOiB0aGlzLmdldFdpZHRoKCksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzdHJva2UgY29sb3IuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IENvbG9yLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvcl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsaW5lIGNhcCB0eXBlIGZvciB0aGUgc3Ryb2tlLlxuICAgKiBAcmV0dXJuIHtDYW52YXNMaW5lQ2FwfHVuZGVmaW5lZH0gTGluZSBjYXAuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldExpbmVDYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMubGluZUNhcF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsaW5lIGRhc2ggc3R5bGUgZm9yIHRoZSBzdHJva2UuXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj58bnVsbH0gTGluZSBkYXNoLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRMaW5lRGFzaCgpIHtcbiAgICByZXR1cm4gdGhpcy5saW5lRGFzaF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsaW5lIGRhc2ggb2Zmc2V0IGZvciB0aGUgc3Ryb2tlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBMaW5lIGRhc2ggb2Zmc2V0LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRMaW5lRGFzaE9mZnNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5saW5lRGFzaE9mZnNldF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsaW5lIGpvaW4gdHlwZSBmb3IgdGhlIHN0cm9rZS5cbiAgICogQHJldHVybiB7Q2FudmFzTGluZUpvaW58dW5kZWZpbmVkfSBMaW5lIGpvaW4uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldExpbmVKb2luKCkge1xuICAgIHJldHVybiB0aGlzLmxpbmVKb2luXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1pdGVyIGxpbWl0IGZvciB0aGUgc3Ryb2tlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBNaXRlciBsaW1pdC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TWl0ZXJMaW1pdCgpIHtcbiAgICByZXR1cm4gdGhpcy5taXRlckxpbWl0XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0cm9rZSB3aWR0aC5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gV2lkdGguXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLndpZHRoXztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvbG9yLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IGNvbG9yIENvbG9yLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRDb2xvcihjb2xvcikge1xuICAgIHRoaXMuY29sb3JfID0gY29sb3I7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBsaW5lIGNhcC5cbiAgICpcbiAgICogQHBhcmFtIHtDYW52YXNMaW5lQ2FwfHVuZGVmaW5lZH0gbGluZUNhcCBMaW5lIGNhcC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TGluZUNhcChsaW5lQ2FwKSB7XG4gICAgdGhpcy5saW5lQ2FwXyA9IGxpbmVDYXA7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBsaW5lIGRhc2guXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPnxudWxsfSBsaW5lRGFzaCBMaW5lIGRhc2guXG4gICAqIEBhcGlcbiAgICovXG4gIHNldExpbmVEYXNoKGxpbmVEYXNoKSB7XG4gICAgdGhpcy5saW5lRGFzaF8gPSBsaW5lRGFzaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGxpbmUgZGFzaCBvZmZzZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gbGluZURhc2hPZmZzZXQgTGluZSBkYXNoIG9mZnNldC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TGluZURhc2hPZmZzZXQobGluZURhc2hPZmZzZXQpIHtcbiAgICB0aGlzLmxpbmVEYXNoT2Zmc2V0XyA9IGxpbmVEYXNoT2Zmc2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbGluZSBqb2luLlxuICAgKlxuICAgKiBAcGFyYW0ge0NhbnZhc0xpbmVKb2lufHVuZGVmaW5lZH0gbGluZUpvaW4gTGluZSBqb2luLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRMaW5lSm9pbihsaW5lSm9pbikge1xuICAgIHRoaXMubGluZUpvaW5fID0gbGluZUpvaW47XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBtaXRlciBsaW1pdC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSBtaXRlckxpbWl0IE1pdGVyIGxpbWl0LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRNaXRlckxpbWl0KG1pdGVyTGltaXQpIHtcbiAgICB0aGlzLm1pdGVyTGltaXRfID0gbWl0ZXJMaW1pdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHdpZHRoLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHdpZHRoIFdpZHRoLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRXaWR0aCh3aWR0aCkge1xuICAgIHRoaXMud2lkdGhfID0gd2lkdGg7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3Ryb2tlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL1N0eWxlXG4gKi9cblxuaW1wb3J0IENpcmNsZVN0eWxlIGZyb20gJy4vQ2lyY2xlLmpzJztcbmltcG9ydCBGaWxsIGZyb20gJy4vRmlsbC5qcyc7XG5pbXBvcnQgU3Ryb2tlIGZyb20gJy4vU3Ryb2tlLmpzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuLi9hc3NlcnRzLmpzJztcblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmV9IGFuZCBhIGB7bnVtYmVyfWBcbiAqIHJlcHJlc2VudGluZyB0aGUgdmlldydzIHJlc29sdXRpb24uIFRoZSBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGFcbiAqIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvU3R5bGV+U3R5bGV9IG9yIGFuIGFycmF5IG9mIHRoZW0uIFRoaXMgd2F5IGUuZy4gYVxuICogdmVjdG9yIGxheWVyIGNhbiBiZSBzdHlsZWQuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIGB1bmRlZmluZWRgLCB0aGVcbiAqIGZlYXR1cmUgd2lsbCBub3QgYmUgcmVuZGVyZWQuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UsIG51bWJlcik6KFN0eWxlfEFycmF5PFN0eWxlPnx2b2lkKX0gU3R5bGVGdW5jdGlvblxuICovXG5cbi8qKlxuICogQSB7QGxpbmsgU3R5bGV9LCBhbiBhcnJheSBvZiB7QGxpbmsgU3R5bGV9LCBvciBhIHtAbGluayBTdHlsZUZ1bmN0aW9ufS5cbiAqIEB0eXBlZGVmIHtTdHlsZXxBcnJheTxTdHlsZT58U3R5bGVGdW5jdGlvbn0gU3R5bGVMaWtlXG4gKi9cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmV9IGFzIGFyZ3VtZW50IGFuZCByZXR1cm5zIGFuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2dlb20vR2VvbWV0cnl+R2VvbWV0cnl9IHRoYXQgd2lsbCBiZSByZW5kZXJlZCBhbmQgc3R5bGVkIGZvciB0aGUgZmVhdHVyZS5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSk6XG4gKiAgICAgKGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZCl9IEdlb21ldHJ5RnVuY3Rpb25cbiAqL1xuXG4vKipcbiAqIEN1c3RvbSByZW5kZXJlciBmdW5jdGlvbi4gVGFrZXMgdHdvIGFyZ3VtZW50czpcbiAqXG4gKiAxLiBUaGUgcGl4ZWwgY29vcmRpbmF0ZXMgb2YgdGhlIGdlb21ldHJ5IGluIEdlb0pTT04gbm90YXRpb24uXG4gKiAyLiBUaGUge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXJ+U3RhdGV9IG9mIHRoZSBsYXllciByZW5kZXJlci5cbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fEFycmF5PEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+KSxpbXBvcnQoXCIuLi9yZW5kZXIuanNcIikuU3RhdGUpOiB2b2lkfSBSZW5kZXJGdW5jdGlvblxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fEdlb21ldHJ5RnVuY3Rpb259IFtnZW9tZXRyeV0gRmVhdHVyZSBwcm9wZXJ0eSBvciBnZW9tZXRyeVxuICogb3IgZnVuY3Rpb24gcmV0dXJuaW5nIGEgZ2VvbWV0cnkgdG8gcmVuZGVyIGZvciB0aGlzIHN0eWxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gW2ZpbGxdIEZpbGwgc3R5bGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gW2ltYWdlXSBJbWFnZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7UmVuZGVyRnVuY3Rpb259IFtyZW5kZXJlcl0gQ3VzdG9tIHJlbmRlcmVyLiBXaGVuIGNvbmZpZ3VyZWQsIGBmaWxsYCwgYHN0cm9rZWAgYW5kIGBpbWFnZWAgd2lsbCBiZVxuICogaWdub3JlZCwgYW5kIHRoZSBwcm92aWRlZCBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIGVhY2ggcmVuZGVyIGZyYW1lIGZvciBlYWNoIGdlb21ldHJ5LlxuICogQHByb3BlcnR5IHtSZW5kZXJGdW5jdGlvbn0gW2hpdERldGVjdGlvblJlbmRlcmVyXSBDdXN0b20gcmVuZGVyZXIgZm9yIGhpdCBkZXRlY3Rpb24uIElmIHByb3ZpZGVkIHdpbGwgYmUgdXNlZFxuICogaW4gaGl0IGRldGVjdGlvbiByZW5kZXJpbmcuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtzdHJva2VdIFN0cm9rZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9UZXh0LmpzXCIpLmRlZmF1bHR9IFt0ZXh0XSBUZXh0IHN0eWxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFogaW5kZXguXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDb250YWluZXIgZm9yIHZlY3RvciBmZWF0dXJlIHJlbmRlcmluZyBzdHlsZXMuIEFueSBjaGFuZ2VzIG1hZGUgdG8gdGhlIHN0eWxlXG4gKiBvciBpdHMgY2hpbGRyZW4gdGhyb3VnaCBgc2V0KigpYCBtZXRob2RzIHdpbGwgbm90IHRha2UgZWZmZWN0IHVudGlsIHRoZVxuICogZmVhdHVyZSBvciBsYXllciB0aGF0IHVzZXMgdGhlIHN0eWxlIGlzIHJlLXJlbmRlcmVkLlxuICpcbiAqICMjIEZlYXR1cmUgc3R5bGVzXG4gKlxuICogSWYgbm8gc3R5bGUgaXMgZGVmaW5lZCwgdGhlIGZvbGxvd2luZyBkZWZhdWx0IHN0eWxlIGlzIHVzZWQ6XG4gKiBgYGBqc1xuICogIGltcG9ydCB7Q2lyY2xlLCBGaWxsLCBTdHJva2UsIFN0eWxlfSBmcm9tICdvbC9zdHlsZS5qcyc7XG4gKlxuICogIGNvbnN0IGZpbGwgPSBuZXcgRmlsbCh7XG4gKiAgICBjb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC40KScsXG4gKiAgfSk7XG4gKiAgY29uc3Qgc3Ryb2tlID0gbmV3IFN0cm9rZSh7XG4gKiAgICBjb2xvcjogJyMzMzk5Q0MnLFxuICogICAgd2lkdGg6IDEuMjUsXG4gKiAgfSk7XG4gKiAgY29uc3Qgc3R5bGVzID0gW1xuICogICAgbmV3IFN0eWxlKHtcbiAqICAgICAgaW1hZ2U6IG5ldyBDaXJjbGUoe1xuICogICAgICAgIGZpbGw6IGZpbGwsXG4gKiAgICAgICAgc3Ryb2tlOiBzdHJva2UsXG4gKiAgICAgICAgcmFkaXVzOiA1LFxuICogICAgICB9KSxcbiAqICAgICAgZmlsbDogZmlsbCxcbiAqICAgICAgc3Ryb2tlOiBzdHJva2UsXG4gKiAgICB9KSxcbiAqICBdO1xuICogYGBgXG4gKlxuICogQSBzZXBhcmF0ZSBlZGl0aW5nIHN0eWxlIGhhcyB0aGUgZm9sbG93aW5nIGRlZmF1bHRzOlxuICogYGBganNcbiAqICBpbXBvcnQge0NpcmNsZSwgRmlsbCwgU3Ryb2tlLCBTdHlsZX0gZnJvbSAnb2wvc3R5bGUuanMnO1xuICpcbiAqICBjb25zdCBzdHlsZXMgPSB7fTtcbiAqICBjb25zdCB3aGl0ZSA9IFsyNTUsIDI1NSwgMjU1LCAxXTtcbiAqICBjb25zdCBibHVlID0gWzAsIDE1MywgMjU1LCAxXTtcbiAqICBjb25zdCB3aWR0aCA9IDM7XG4gKiAgc3R5bGVzWydQb2x5Z29uJ10gPSBbXG4gKiAgICBuZXcgU3R5bGUoe1xuICogICAgICBmaWxsOiBuZXcgRmlsbCh7XG4gKiAgICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMjU1LCAwLjVdLFxuICogICAgICB9KSxcbiAqICAgIH0pLFxuICogIF07XG4gKiAgc3R5bGVzWydNdWx0aVBvbHlnb24nXSA9XG4gKiAgICAgIHN0eWxlc1snUG9seWdvbiddO1xuICogIHN0eWxlc1snTGluZVN0cmluZyddID0gW1xuICogICAgbmV3IFN0eWxlKHtcbiAqICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAqICAgICAgICBjb2xvcjogd2hpdGUsXG4gKiAgICAgICAgd2lkdGg6IHdpZHRoICsgMixcbiAqICAgICAgfSksXG4gKiAgICB9KSxcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gKiAgICAgICAgY29sb3I6IGJsdWUsXG4gKiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICogICAgICB9KSxcbiAqICAgIH0pLFxuICogIF07XG4gKiAgc3R5bGVzWydNdWx0aUxpbmVTdHJpbmcnXSA9IHN0eWxlc1snTGluZVN0cmluZyddO1xuICpcbiAqICBzdHlsZXNbJ0NpcmNsZSddID0gc3R5bGVzWydQb2x5Z29uJ10uY29uY2F0KFxuICogICAgc3R5bGVzWydMaW5lU3RyaW5nJ11cbiAqICApO1xuICpcbiAqICBzdHlsZXNbJ1BvaW50J10gPSBbXG4gKiAgICBuZXcgU3R5bGUoe1xuICogICAgICBpbWFnZTogbmV3IENpcmNsZSh7XG4gKiAgICAgICAgcmFkaXVzOiB3aWR0aCAqIDIsXG4gKiAgICAgICAgZmlsbDogbmV3IEZpbGwoe1xuICogICAgICAgICAgY29sb3I6IGJsdWUsXG4gKiAgICAgICAgfSksXG4gKiAgICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAqICAgICAgICAgIGNvbG9yOiB3aGl0ZSxcbiAqICAgICAgICAgIHdpZHRoOiB3aWR0aCAvIDIsXG4gKiAgICAgICAgfSksXG4gKiAgICAgIH0pLFxuICogICAgICB6SW5kZXg6IEluZmluaXR5LFxuICogICAgfSksXG4gKiAgXTtcbiAqICBzdHlsZXNbJ011bHRpUG9pbnQnXSA9XG4gKiAgICAgIHN0eWxlc1snUG9pbnQnXTtcbiAqICBzdHlsZXNbJ0dlb21ldHJ5Q29sbGVjdGlvbiddID1cbiAqICAgICAgc3R5bGVzWydQb2x5Z29uJ10uY29uY2F0KFxuICogICAgICAgICAgc3R5bGVzWydMaW5lU3RyaW5nJ10sXG4gKiAgICAgICAgICBzdHlsZXNbJ1BvaW50J11cbiAqICAgICAgKTtcbiAqIGBgYFxuICpcbiAqIEBhcGlcbiAqL1xuY2xhc3MgU3R5bGUge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gU3R5bGUgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ3xpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8R2VvbWV0cnlGdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmdlb21ldHJ5XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshR2VvbWV0cnlGdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmdlb21ldHJ5RnVuY3Rpb25fID0gZGVmYXVsdEdlb21ldHJ5RnVuY3Rpb247XG5cbiAgICBpZiAob3B0aW9ucy5nZW9tZXRyeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldEdlb21ldHJ5KG9wdGlvbnMuZ2VvbWV0cnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuZmlsbF8gPSBvcHRpb25zLmZpbGwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZmlsbCA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ltYWdlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZV8gPSBvcHRpb25zLmltYWdlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmltYWdlIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1JlbmRlckZ1bmN0aW9ufG51bGx9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlcl8gPSBvcHRpb25zLnJlbmRlcmVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJlbmRlcmVyIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1JlbmRlckZ1bmN0aW9ufG51bGx9XG4gICAgICovXG4gICAgdGhpcy5oaXREZXRlY3Rpb25SZW5kZXJlcl8gPVxuICAgICAgb3B0aW9ucy5oaXREZXRlY3Rpb25SZW5kZXJlciAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy5oaXREZXRlY3Rpb25SZW5kZXJlclxuICAgICAgICA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuc3Ryb2tlXyA9IG9wdGlvbnMuc3Ryb2tlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0cm9rZSA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RleHQuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRfID0gb3B0aW9ucy50ZXh0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRleHQgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnpJbmRleF8gPSBvcHRpb25zLnpJbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHN0eWxlLlxuICAgKiBAcmV0dXJuIHtTdHlsZX0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgbGV0IGdlb21ldHJ5ID0gdGhpcy5nZXRHZW9tZXRyeSgpO1xuICAgIGlmIChnZW9tZXRyeSAmJiB0eXBlb2YgZ2VvbWV0cnkgPT09ICdvYmplY3QnKSB7XG4gICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGdlb21ldHJ5XG4gICAgICApLmNsb25lKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3R5bGUoe1xuICAgICAgZ2VvbWV0cnk6IGdlb21ldHJ5LFxuICAgICAgZmlsbDogdGhpcy5nZXRGaWxsKCkgPyB0aGlzLmdldEZpbGwoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgaW1hZ2U6IHRoaXMuZ2V0SW1hZ2UoKSA/IHRoaXMuZ2V0SW1hZ2UoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgcmVuZGVyZXI6IHRoaXMuZ2V0UmVuZGVyZXIoKSxcbiAgICAgIHN0cm9rZTogdGhpcy5nZXRTdHJva2UoKSA/IHRoaXMuZ2V0U3Ryb2tlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgIHRleHQ6IHRoaXMuZ2V0VGV4dCgpID8gdGhpcy5nZXRUZXh0KCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgIHpJbmRleDogdGhpcy5nZXRaSW5kZXgoKSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1c3RvbSByZW5kZXJlciBmdW5jdGlvbiB0aGF0IHdhcyBjb25maWd1cmVkIHdpdGhcbiAgICoge0BsaW5rICNzZXRSZW5kZXJlcn0gb3IgdGhlIGByZW5kZXJlcmAgY29uc3RydWN0b3Igb3B0aW9uLlxuICAgKiBAcmV0dXJuIHtSZW5kZXJGdW5jdGlvbnxudWxsfSBDdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJlbmRlcmVyKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGEgY3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uIGZvciB0aGlzIHN0eWxlLiBXaGVuIHNldCwgYGZpbGxgLCBgc3Ryb2tlYFxuICAgKiBhbmQgYGltYWdlYCBvcHRpb25zIG9mIHRoZSBzdHlsZSB3aWxsIGJlIGlnbm9yZWQuXG4gICAqIEBwYXJhbSB7UmVuZGVyRnVuY3Rpb258bnVsbH0gcmVuZGVyZXIgQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRSZW5kZXJlcihyZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXJfID0gcmVuZGVyZXI7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhIGN1c3RvbSByZW5kZXJlciBmdW5jdGlvbiBmb3IgdGhpcyBzdHlsZSB1c2VkXG4gICAqIGluIGhpdCBkZXRlY3Rpb24uXG4gICAqIEBwYXJhbSB7UmVuZGVyRnVuY3Rpb258bnVsbH0gcmVuZGVyZXIgQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRIaXREZXRlY3Rpb25SZW5kZXJlcihyZW5kZXJlcikge1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uUmVuZGVyZXJfID0gcmVuZGVyZXI7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24gdGhhdCB3YXMgY29uZmlndXJlZCB3aXRoXG4gICAqIHtAbGluayAjc2V0SGl0RGV0ZWN0aW9uUmVuZGVyZXJ9IG9yIHRoZSBgaGl0RGV0ZWN0aW9uUmVuZGVyZXJgIGNvbnN0cnVjdG9yIG9wdGlvbi5cbiAgICogQHJldHVybiB7UmVuZGVyRnVuY3Rpb258bnVsbH0gQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRIaXREZXRlY3Rpb25SZW5kZXJlcigpIHtcbiAgICByZXR1cm4gdGhpcy5oaXREZXRlY3Rpb25SZW5kZXJlcl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBnZW9tZXRyeSB0byBiZSByZW5kZXJlZC5cbiAgICogQHJldHVybiB7c3RyaW5nfGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxHZW9tZXRyeUZ1bmN0aW9ufVxuICAgKiBGZWF0dXJlIHByb3BlcnR5IG9yIGdlb21ldHJ5IG9yIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgZ2VvbWV0cnkgdGhhdCB3aWxsXG4gICAqIGJlIHJlbmRlcmVkIHdpdGggdGhpcyBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0R2VvbWV0cnkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZnVuY3Rpb24gdXNlZCB0byBnZW5lcmF0ZSBhIGdlb21ldHJ5IGZvciByZW5kZXJpbmcuXG4gICAqIEByZXR1cm4geyFHZW9tZXRyeUZ1bmN0aW9ufSBGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aXRoIGEgZmVhdHVyZVxuICAgKiBhbmQgcmV0dXJucyB0aGUgZ2VvbWV0cnkgdG8gcmVuZGVyIGluc3RlYWQgb2YgdGhlIGZlYXR1cmUncyBnZW9tZXRyeS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0R2VvbWV0cnlGdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZpbGwgc3R5bGUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBGaWxsIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRGaWxsKCkge1xuICAgIHJldHVybiB0aGlzLmZpbGxfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZmlsbCBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gZmlsbCBGaWxsIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRGaWxsKGZpbGwpIHtcbiAgICB0aGlzLmZpbGxfID0gZmlsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGltYWdlIHN0eWxlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ltYWdlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRJbWFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZV87XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBpbWFnZSBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ltYWdlLmpzXCIpLmRlZmF1bHR9IGltYWdlIEltYWdlIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRJbWFnZShpbWFnZSkge1xuICAgIHRoaXMuaW1hZ2VfID0gaW1hZ2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzdHJva2Ugc3R5bGUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFN0cm9rZSBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0U3Ryb2tlKCkge1xuICAgIHJldHVybiB0aGlzLnN0cm9rZV87XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzdHJva2Ugc3R5bGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlIFN0cm9rZSBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U3Ryb2tlKHN0cm9rZSkge1xuICAgIHRoaXMuc3Ryb2tlXyA9IHN0cm9rZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRleHQgc3R5bGUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vVGV4dC5qc1wiKS5kZWZhdWx0fSBUZXh0IHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLnRleHRfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdGV4dCBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RleHQuanNcIikuZGVmYXVsdH0gdGV4dCBUZXh0IHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRUZXh0KHRleHQpIHtcbiAgICB0aGlzLnRleHRfID0gdGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHotaW5kZXggZm9yIHRoZSBzdHlsZS5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gWkluZGV4LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRaSW5kZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuekluZGV4XztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYSBnZW9tZXRyeSB0aGF0IGlzIHJlbmRlcmVkIGluc3RlYWQgb2YgdGhlIGZlYXR1cmUncyBnZW9tZXRyeS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fEdlb21ldHJ5RnVuY3Rpb259IGdlb21ldHJ5XG4gICAqICAgICBGZWF0dXJlIHByb3BlcnR5IG9yIGdlb21ldHJ5IG9yIGZ1bmN0aW9uIHJldHVybmluZyBhIGdlb21ldHJ5IHRvIHJlbmRlclxuICAgKiAgICAgZm9yIHRoaXMgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEdlb21ldHJ5KGdlb21ldHJ5KSB7XG4gICAgaWYgKHR5cGVvZiBnZW9tZXRyeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyA9IGdlb21ldHJ5O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGdlb21ldHJ5ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgIGZlYXR1cmUuZ2V0KGdlb21ldHJ5KVxuICAgICAgICApO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKCFnZW9tZXRyeSkge1xuICAgICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyA9IGRlZmF1bHRHZW9tZXRyeUZ1bmN0aW9uO1xuICAgIH0gZWxzZSBpZiAoZ2VvbWV0cnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpO1xuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5nZW9tZXRyeV8gPSBnZW9tZXRyeTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHotaW5kZXguXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gekluZGV4IFpJbmRleC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0WkluZGV4KHpJbmRleCkge1xuICAgIHRoaXMuekluZGV4XyA9IHpJbmRleDtcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnQgdGhlIHByb3ZpZGVkIG9iamVjdCBpbnRvIGEgc3R5bGUgZnVuY3Rpb24uICBGdW5jdGlvbnMgcGFzc2VkIHRocm91Z2hcbiAqIHVuY2hhbmdlZC4gIEFycmF5cyBvZiBTdHlsZSBvciBzaW5nbGUgc3R5bGUgb2JqZWN0cyB3cmFwcGVkIGluIGFcbiAqIG5ldyBzdHlsZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7U3R5bGVGdW5jdGlvbnxBcnJheTxTdHlsZT58U3R5bGV9IG9ialxuICogICAgIEEgc3R5bGUgZnVuY3Rpb24sIGEgc2luZ2xlIHN0eWxlLCBvciBhbiBhcnJheSBvZiBzdHlsZXMuXG4gKiBAcmV0dXJuIHtTdHlsZUZ1bmN0aW9ufSBBIHN0eWxlIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9GdW5jdGlvbihvYmopIHtcbiAgbGV0IHN0eWxlRnVuY3Rpb247XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICBzdHlsZUZ1bmN0aW9uID0gb2JqO1xuICB9IGVsc2Uge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxTdHlsZT59XG4gICAgICovXG4gICAgbGV0IHN0eWxlcztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICBzdHlsZXMgPSBvYmo7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydCh0eXBlb2YgKC8qKiBAdHlwZSB7P30gKi8gKG9iaikuZ2V0WkluZGV4KSA9PT0gJ2Z1bmN0aW9uJywgNDEpOyAvLyBFeHBlY3RlZCBhbiBgU3R5bGVgIG9yIGFuIGFycmF5IG9mIGBTdHlsZWBcbiAgICAgIGNvbnN0IHN0eWxlID0gLyoqIEB0eXBlIHtTdHlsZX0gKi8gKG9iaik7XG4gICAgICBzdHlsZXMgPSBbc3R5bGVdO1xuICAgIH1cbiAgICBzdHlsZUZ1bmN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICB9O1xuICB9XG4gIHJldHVybiBzdHlsZUZ1bmN0aW9uO1xufVxuXG4vKipcbiAqIEB0eXBlIHtBcnJheTxTdHlsZT58bnVsbH1cbiAqL1xubGV0IGRlZmF1bHRTdHlsZXMgPSBudWxsO1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PFN0eWxlPn0gU3R5bGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0U3R5bGUoZmVhdHVyZSwgcmVzb2x1dGlvbikge1xuICAvLyBXZSBkb24ndCB1c2UgYW4gaW1tZWRpYXRlbHktaW52b2tlZCBmdW5jdGlvblxuICAvLyBhbmQgYSBjbG9zdXJlIHNvIHdlIGRvbid0IGdldCBhbiBlcnJvciBhdCBzY3JpcHQgZXZhbHVhdGlvbiB0aW1lIGluXG4gIC8vIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgQ2FudmFzLiAoaW1wb3J0KFwiLi9DaXJjbGUuanNcIikuQ2lyY2xlU3R5bGUgZG9lc1xuICAvLyBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSBhdCBjb25zdHJ1Y3Rpb24gdGltZSwgd2hpY2ggd2lsbCBjYXVzZSBhbi5lcnJvclxuICAvLyBpbiBzdWNoIGJyb3dzZXJzLilcbiAgaWYgKCFkZWZhdWx0U3R5bGVzKSB7XG4gICAgY29uc3QgZmlsbCA9IG5ldyBGaWxsKHtcbiAgICAgIGNvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwwLjQpJyxcbiAgICB9KTtcbiAgICBjb25zdCBzdHJva2UgPSBuZXcgU3Ryb2tlKHtcbiAgICAgIGNvbG9yOiAnIzMzOTlDQycsXG4gICAgICB3aWR0aDogMS4yNSxcbiAgICB9KTtcbiAgICBkZWZhdWx0U3R5bGVzID0gW1xuICAgICAgbmV3IFN0eWxlKHtcbiAgICAgICAgaW1hZ2U6IG5ldyBDaXJjbGVTdHlsZSh7XG4gICAgICAgICAgZmlsbDogZmlsbCxcbiAgICAgICAgICBzdHJva2U6IHN0cm9rZSxcbiAgICAgICAgICByYWRpdXM6IDUsXG4gICAgICAgIH0pLFxuICAgICAgICBmaWxsOiBmaWxsLFxuICAgICAgICBzdHJva2U6IHN0cm9rZSxcbiAgICAgIH0pLFxuICAgIF07XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRTdHlsZXM7XG59XG5cbi8qKlxuICogRGVmYXVsdCBzdHlsZXMgZm9yIGVkaXRpbmcgZmVhdHVyZXMuXG4gKiBAcmV0dXJuIHtPYmplY3Q8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5UeXBlLCBBcnJheTxTdHlsZT4+fSBTdHlsZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVkaXRpbmdTdHlsZSgpIHtcbiAgLyoqIEB0eXBlIHtPYmplY3Q8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5UeXBlLCBBcnJheTxTdHlsZT4+fSAqL1xuICBjb25zdCBzdHlsZXMgPSB7fTtcbiAgY29uc3Qgd2hpdGUgPSBbMjU1LCAyNTUsIDI1NSwgMV07XG4gIGNvbnN0IGJsdWUgPSBbMCwgMTUzLCAyNTUsIDFdO1xuICBjb25zdCB3aWR0aCA9IDM7XG4gIHN0eWxlc1snUG9seWdvbiddID0gW1xuICAgIG5ldyBTdHlsZSh7XG4gICAgICBmaWxsOiBuZXcgRmlsbCh7XG4gICAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDI1NSwgMC41XSxcbiAgICAgIH0pLFxuICAgIH0pLFxuICBdO1xuICBzdHlsZXNbJ011bHRpUG9seWdvbiddID0gc3R5bGVzWydQb2x5Z29uJ107XG5cbiAgc3R5bGVzWydMaW5lU3RyaW5nJ10gPSBbXG4gICAgbmV3IFN0eWxlKHtcbiAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gICAgICAgIGNvbG9yOiB3aGl0ZSxcbiAgICAgICAgd2lkdGg6IHdpZHRoICsgMixcbiAgICAgIH0pLFxuICAgIH0pLFxuICAgIG5ldyBTdHlsZSh7XG4gICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICAgICAgICBjb2xvcjogYmx1ZSxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgfSksXG4gICAgfSksXG4gIF07XG4gIHN0eWxlc1snTXVsdGlMaW5lU3RyaW5nJ10gPSBzdHlsZXNbJ0xpbmVTdHJpbmcnXTtcblxuICBzdHlsZXNbJ0NpcmNsZSddID0gc3R5bGVzWydQb2x5Z29uJ10uY29uY2F0KHN0eWxlc1snTGluZVN0cmluZyddKTtcblxuICBzdHlsZXNbJ1BvaW50J10gPSBbXG4gICAgbmV3IFN0eWxlKHtcbiAgICAgIGltYWdlOiBuZXcgQ2lyY2xlU3R5bGUoe1xuICAgICAgICByYWRpdXM6IHdpZHRoICogMixcbiAgICAgICAgZmlsbDogbmV3IEZpbGwoe1xuICAgICAgICAgIGNvbG9yOiBibHVlLFxuICAgICAgICB9KSxcbiAgICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAgICAgICAgICBjb2xvcjogd2hpdGUsXG4gICAgICAgICAgd2lkdGg6IHdpZHRoIC8gMixcbiAgICAgICAgfSksXG4gICAgICB9KSxcbiAgICAgIHpJbmRleDogSW5maW5pdHksXG4gICAgfSksXG4gIF07XG4gIHN0eWxlc1snTXVsdGlQb2ludCddID0gc3R5bGVzWydQb2ludCddO1xuXG4gIHN0eWxlc1snR2VvbWV0cnlDb2xsZWN0aW9uJ10gPSBzdHlsZXNbJ1BvbHlnb24nXS5jb25jYXQoXG4gICAgc3R5bGVzWydMaW5lU3RyaW5nJ10sXG4gICAgc3R5bGVzWydQb2ludCddXG4gICk7XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aXRoIGEgZmVhdHVyZSBhbmQgcmV0dXJucyBpdHMgZGVmYXVsdCBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlIHRvIGdldCB0aGUgZ2VvbWV0cnkgZm9yLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBHZW9tZXRyeSB0byByZW5kZXIuXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRHZW9tZXRyeUZ1bmN0aW9uKGZlYXR1cmUpIHtcbiAgcmV0dXJuIGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3R5bGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvVGV4dFxuICovXG5pbXBvcnQgRmlsbCBmcm9tICcuL0ZpbGwuanMnO1xuaW1wb3J0IHt0b1NpemV9IGZyb20gJy4uL3NpemUuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHsncG9pbnQnIHwgJ2xpbmUnfSBUZXh0UGxhY2VtZW50XG4gKiBEZWZhdWx0IHRleHQgcGxhY2VtZW50IGlzIGAncG9pbnQnYC4gTm90ZSB0aGF0XG4gKiBgJ2xpbmUnYCByZXF1aXJlcyB0aGUgdW5kZXJseWluZyBnZW9tZXRyeSB0byBiZSBhIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9MaW5lU3RyaW5nfkxpbmVTdHJpbmd9LFxuICoge0BsaW5rIG1vZHVsZTpvbC9nZW9tL1BvbHlnb25+UG9seWdvbn0sIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9NdWx0aUxpbmVTdHJpbmd+TXVsdGlMaW5lU3RyaW5nfSBvclxuICoge0BsaW5rIG1vZHVsZTpvbC9nZW9tL011bHRpUG9seWdvbn5NdWx0aVBvbHlnb259LlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeydsZWZ0JyB8ICdjZW50ZXInIHwgJ3JpZ2h0J30gVGV4dEp1c3RpZnlcbiAqL1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGZpbGwgY29sb3IgdG8gdXNlIGlmIG5vIGZpbGwgd2FzIHNldCBhdCBjb25zdHJ1Y3Rpb24gdGltZTsgYVxuICogYmxhY2tpc2ggYCMzMzNgLlxuICpcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5jb25zdCBERUZBVUxUX0ZJTExfQ09MT1IgPSAnIzMzMyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtmb250XSBGb250IHN0eWxlIGFzIENTUyBgZm9udGAgdmFsdWUsIHNlZTpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZm9udC4gRGVmYXVsdCBpcyBgJzEwcHggc2Fucy1zZXJpZidgXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heEFuZ2xlPU1hdGguUEkvNF0gV2hlbiBgcGxhY2VtZW50YCBpcyBzZXQgdG8gYCdsaW5lJ2AsIGFsbG93IGEgbWF4aW11bSBhbmdsZSBiZXR3ZWVuIGFkamFjZW50IGNoYXJhY3RlcnMuXG4gKiBUaGUgZXhwZWN0ZWQgdmFsdWUgaXMgaW4gcmFkaWFucywgYW5kIHRoZSBkZWZhdWx0IGlzIDQ1wrAgKGBNYXRoLlBJIC8gNGApLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvZmZzZXRYPTBdIEhvcml6b250YWwgdGV4dCBvZmZzZXQgaW4gcGl4ZWxzLiBBIHBvc2l0aXZlIHdpbGwgc2hpZnQgdGhlIHRleHQgcmlnaHQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29mZnNldFk9MF0gVmVydGljYWwgdGV4dCBvZmZzZXQgaW4gcGl4ZWxzLiBBIHBvc2l0aXZlIHdpbGwgc2hpZnQgdGhlIHRleHQgZG93bi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW292ZXJmbG93PWZhbHNlXSBGb3IgcG9seWdvbiBsYWJlbHMgb3Igd2hlbiBgcGxhY2VtZW50YCBpcyBzZXQgdG8gYCdsaW5lJ2AsIGFsbG93IHRleHQgdG8gZXhjZWVkXG4gKiB0aGUgd2lkdGggb2YgdGhlIHBvbHlnb24gYXQgdGhlIGxhYmVsIHBvc2l0aW9uIG9yIHRoZSBsZW5ndGggb2YgdGhlIHBhdGggdGhhdCBpdCBmb2xsb3dzLlxuICogQHByb3BlcnR5IHtUZXh0UGxhY2VtZW50fSBbcGxhY2VtZW50PSdwb2ludCddIFRleHQgcGxhY2VtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2NhbGVdIFNjYWxlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcm90YXRlV2l0aFZpZXc9ZmFsc2VdIFdoZXRoZXIgdG8gcm90YXRlIHRoZSB0ZXh0IHdpdGggdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JvdGF0aW9uPTBdIFJvdGF0aW9uIGluIHJhZGlhbnMgKHBvc2l0aXZlIHJvdGF0aW9uIGNsb2Nrd2lzZSkuXG4gKiBAcHJvcGVydHkge3N0cmluZ3xBcnJheTxzdHJpbmc+fSBbdGV4dF0gVGV4dCBjb250ZW50IG9yIHJpY2ggdGV4dCBjb250ZW50LiBGb3IgcGxhaW4gdGV4dCBwcm92aWRlIGEgc3RyaW5nLCB3aGljaCBjYW5cbiAqIGNvbnRhaW4gbGluZSBicmVha3MgKGBcXG5gKS4gRm9yIHJpY2ggdGV4dCBwcm92aWRlIGFuIGFycmF5IG9mIHRleHQvZm9udCB0dXBsZXMuIEEgdHVwbGUgY29uc2lzdHMgb2YgdGhlIHRleHQgdG9cbiAqIHJlbmRlciBhbmQgdGhlIGZvbnQgdG8gdXNlIChvciBgJydgIHRvIHVzZSB0aGUgdGV4dCBzdHlsZSdzIGZvbnQpLiBBIGxpbmUgYnJlYWsgaGFzIHRvIGJlIGEgc2VwYXJhdGUgdHVwbGUgKGkuZS4gYCdcXG4nLCAnJ2ApLlxuICogKipFeGFtcGxlOioqIGBbJ2ZvbycsICdib2xkIDEwcHggc2Fucy1zZXJpZicsICcgYmFyJywgJ2l0YWxpYyAxMHB4IHNhbnMtc2VyaWYnLCAnIGJheicsICcnXWAgd2lsbCB5aWVsZCBcIioqZm9vKiogKmJhciogYmF6XCIuXG4gKiAqKk5vdGU6KiogUmljaCB0ZXh0IGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHRoZSBpbW1lZGlhdGUgcmVuZGVyaW5nIEFQSS5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzVGV4dEFsaWdufSBbdGV4dEFsaWduXSBUZXh0IGFsaWdubWVudC4gUG9zc2libGUgdmFsdWVzOiBgJ2xlZnQnYCwgYCdyaWdodCdgLCBgJ2NlbnRlcidgLCBgJ2VuZCdgIG9yIGAnc3RhcnQnYC5cbiAqIERlZmF1bHQgaXMgYCdjZW50ZXInYCBmb3IgYHBsYWNlbWVudDogJ3BvaW50J2AuIEZvciBgcGxhY2VtZW50OiAnbGluZSdgLCB0aGUgZGVmYXVsdCBpcyB0byBsZXQgdGhlIHJlbmRlcmVyIGNob29zZSBhXG4gKiBwbGFjZW1lbnQgd2hlcmUgYG1heEFuZ2xlYCBpcyBub3QgZXhjZWVkZWQuXG4gKiBAcHJvcGVydHkge1RleHRKdXN0aWZ5fSBbanVzdGlmeV0gVGV4dCBqdXN0aWZpY2F0aW9uIHdpdGhpbiB0aGUgdGV4dCBib3guXG4gKiBJZiBub3Qgc2V0LCB0ZXh0IGlzIGp1c3RpZmllZCB0b3dhcmRzIHRoZSBgdGV4dEFsaWduYCBhbmNob3IuXG4gKiBPdGhlcndpc2UsIHVzZSBvcHRpb25zIGAnbGVmdCdgLCBgJ2NlbnRlcidgLCBvciBgJ3JpZ2h0J2AgdG8ganVzdGlmeSB0aGUgdGV4dCB3aXRoaW4gdGhlIHRleHQgYm94LlxuICogKipOb3RlOioqIGBqdXN0aWZ5YCBpcyBpZ25vcmVkIGZvciBpbW1lZGlhdGUgcmVuZGVyaW5nIGFuZCBhbHNvIGZvciBgcGxhY2VtZW50OiAnbGluZSdgLlxuICogQHByb3BlcnR5IHtDYW52YXNUZXh0QmFzZWxpbmV9IFt0ZXh0QmFzZWxpbmU9J21pZGRsZSddIFRleHQgYmFzZSBsaW5lLiBQb3NzaWJsZSB2YWx1ZXM6IGAnYm90dG9tJ2AsIGAndG9wJ2AsIGAnbWlkZGxlJ2AsIGAnYWxwaGFiZXRpYydgLFxuICogYCdoYW5naW5nJ2AsIGAnaWRlb2dyYXBoaWMnYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IFtmaWxsXSBGaWxsIHN0eWxlLiBJZiBub25lIGlzIHByb3ZpZGVkLCB3ZSdsbCB1c2UgYSBkYXJrIGZpbGwtc3R5bGUgKCMzMzMpLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBbc3Ryb2tlXSBTdHJva2Ugc3R5bGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBbYmFja2dyb3VuZEZpbGxdIEZpbGwgc3R5bGUgZm9yIHRoZSB0ZXh0IGJhY2tncm91bmQgd2hlbiBgcGxhY2VtZW50YCBpc1xuICogYCdwb2ludCdgLiBEZWZhdWx0IGlzIG5vIGZpbGwuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtiYWNrZ3JvdW5kU3Ryb2tlXSBTdHJva2Ugc3R5bGUgZm9yIHRoZSB0ZXh0IGJhY2tncm91bmQgIHdoZW4gYHBsYWNlbWVudGBcbiAqIGlzIGAncG9pbnQnYC4gRGVmYXVsdCBpcyBubyBzdHJva2UuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtwYWRkaW5nPVswLCAwLCAwLCAwXV0gUGFkZGluZyBpbiBwaXhlbHMgYXJvdW5kIHRoZSB0ZXh0IGZvciBkZWNsdXR0ZXJpbmcgYW5kIGJhY2tncm91bmQuIFRoZSBvcmRlciBvZlxuICogdmFsdWVzIGluIHRoZSBhcnJheSBpcyBgW3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdF1gLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogU2V0IHRleHQgc3R5bGUgZm9yIHZlY3RvciBmZWF0dXJlcy5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgVGV4dCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmZvbnRfID0gb3B0aW9ucy5mb250O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0aW9uXyA9IG9wdGlvbnMucm90YXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IG9wdGlvbnMucm90YXRlV2l0aFZpZXc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnNjYWxlXyA9IG9wdGlvbnMuc2NhbGU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy5zY2FsZUFycmF5XyA9IHRvU2l6ZShvcHRpb25zLnNjYWxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNjYWxlIDogMSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd8QXJyYXk8c3RyaW5nPnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy50ZXh0XyA9IG9wdGlvbnMudGV4dDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NhbnZhc1RleHRBbGlnbnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy50ZXh0QWxpZ25fID0gb3B0aW9ucy50ZXh0QWxpZ247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtUZXh0SnVzdGlmeXx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5qdXN0aWZ5XyA9IG9wdGlvbnMuanVzdGlmeTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NhbnZhc1RleHRCYXNlbGluZXx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy50ZXh0QmFzZWxpbmVfID0gb3B0aW9ucy50ZXh0QmFzZWxpbmU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxfID1cbiAgICAgIG9wdGlvbnMuZmlsbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy5maWxsXG4gICAgICAgIDogbmV3IEZpbGwoe2NvbG9yOiBERUZBVUxUX0ZJTExfQ09MT1J9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heEFuZ2xlXyA9XG4gICAgICBvcHRpb25zLm1heEFuZ2xlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1heEFuZ2xlIDogTWF0aC5QSSAvIDQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtUZXh0UGxhY2VtZW50fVxuICAgICAqL1xuICAgIHRoaXMucGxhY2VtZW50XyA9XG4gICAgICBvcHRpb25zLnBsYWNlbWVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wbGFjZW1lbnQgOiAncG9pbnQnO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm92ZXJmbG93XyA9ICEhb3B0aW9ucy5vdmVyZmxvdztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5zdHJva2VfID0gb3B0aW9ucy5zdHJva2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc3Ryb2tlIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm9mZnNldFhfID0gb3B0aW9ucy5vZmZzZXRYICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9mZnNldFggOiAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMub2Zmc2V0WV8gPSBvcHRpb25zLm9mZnNldFkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub2Zmc2V0WSA6IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmJhY2tncm91bmRGaWxsXyA9IG9wdGlvbnMuYmFja2dyb3VuZEZpbGxcbiAgICAgID8gb3B0aW9ucy5iYWNrZ3JvdW5kRmlsbFxuICAgICAgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmJhY2tncm91bmRTdHJva2VfID0gb3B0aW9ucy5iYWNrZ3JvdW5kU3Ryb2tlXG4gICAgICA/IG9wdGlvbnMuYmFja2dyb3VuZFN0cm9rZVxuICAgICAgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPnxudWxsfVxuICAgICAqL1xuICAgIHRoaXMucGFkZGluZ18gPSBvcHRpb25zLnBhZGRpbmcgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBvcHRpb25zLnBhZGRpbmc7XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBzdHlsZS5cbiAgICogQHJldHVybiB7VGV4dH0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgcmV0dXJuIG5ldyBUZXh0KHtcbiAgICAgIGZvbnQ6IHRoaXMuZ2V0Rm9udCgpLFxuICAgICAgcGxhY2VtZW50OiB0aGlzLmdldFBsYWNlbWVudCgpLFxuICAgICAgbWF4QW5nbGU6IHRoaXMuZ2V0TWF4QW5nbGUoKSxcbiAgICAgIG92ZXJmbG93OiB0aGlzLmdldE92ZXJmbG93KCksXG4gICAgICByb3RhdGlvbjogdGhpcy5nZXRSb3RhdGlvbigpLFxuICAgICAgcm90YXRlV2l0aFZpZXc6IHRoaXMuZ2V0Um90YXRlV2l0aFZpZXcoKSxcbiAgICAgIHNjYWxlOiBBcnJheS5pc0FycmF5KHNjYWxlKSA/IHNjYWxlLnNsaWNlKCkgOiBzY2FsZSxcbiAgICAgIHRleHQ6IHRoaXMuZ2V0VGV4dCgpLFxuICAgICAgdGV4dEFsaWduOiB0aGlzLmdldFRleHRBbGlnbigpLFxuICAgICAganVzdGlmeTogdGhpcy5nZXRKdXN0aWZ5KCksXG4gICAgICB0ZXh0QmFzZWxpbmU6IHRoaXMuZ2V0VGV4dEJhc2VsaW5lKCksXG4gICAgICBmaWxsOiB0aGlzLmdldEZpbGwoKSA/IHRoaXMuZ2V0RmlsbCgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICBzdHJva2U6IHRoaXMuZ2V0U3Ryb2tlKCkgPyB0aGlzLmdldFN0cm9rZSgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICBvZmZzZXRYOiB0aGlzLmdldE9mZnNldFgoKSxcbiAgICAgIG9mZnNldFk6IHRoaXMuZ2V0T2Zmc2V0WSgpLFxuICAgICAgYmFja2dyb3VuZEZpbGw6IHRoaXMuZ2V0QmFja2dyb3VuZEZpbGwoKVxuICAgICAgICA/IHRoaXMuZ2V0QmFja2dyb3VuZEZpbGwoKS5jbG9uZSgpXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgYmFja2dyb3VuZFN0cm9rZTogdGhpcy5nZXRCYWNrZ3JvdW5kU3Ryb2tlKClcbiAgICAgICAgPyB0aGlzLmdldEJhY2tncm91bmRTdHJva2UoKS5jbG9uZSgpXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgcGFkZGluZzogdGhpcy5nZXRQYWRkaW5nKCkgfHwgdW5kZWZpbmVkLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYG92ZXJmbG93YCBjb25maWd1cmF0aW9uLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBMZXQgdGV4dCBvdmVyZmxvdyB0aGUgbGVuZ3RoIG9mIHRoZSBwYXRoIHRoZXkgZm9sbG93LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRPdmVyZmxvdygpIHtcbiAgICByZXR1cm4gdGhpcy5vdmVyZmxvd187XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBmb250IG5hbWUuXG4gICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IEZvbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEZvbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9udF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtYXhpbXVtIGFuZ2xlIGJldHdlZW4gYWRqYWNlbnQgY2hhcmFjdGVycy5cbiAgICogQHJldHVybiB7bnVtYmVyfSBBbmdsZSBpbiByYWRpYW5zLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNYXhBbmdsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXhBbmdsZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsYWJlbCBwbGFjZW1lbnQuXG4gICAqIEByZXR1cm4ge1RleHRQbGFjZW1lbnR9IFRleHQgcGxhY2VtZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRQbGFjZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGxhY2VtZW50XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHgtb2Zmc2V0IGZvciB0aGUgdGV4dC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBIb3Jpem9udGFsIHRleHQgb2Zmc2V0LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRPZmZzZXRYKCkge1xuICAgIHJldHVybiB0aGlzLm9mZnNldFhfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgeS1vZmZzZXQgZm9yIHRoZSB0ZXh0LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFZlcnRpY2FsIHRleHQgb2Zmc2V0LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRPZmZzZXRZKCkge1xuICAgIHJldHVybiB0aGlzLm9mZnNldFlfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmlsbCBzdHlsZSBmb3IgdGhlIHRleHQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBGaWxsIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRGaWxsKCkge1xuICAgIHJldHVybiB0aGlzLmZpbGxfO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB3aGV0aGVyIHRoZSB0ZXh0IHJvdGF0ZXMgd2l0aCB0aGUgbWFwLlxuICAgKiBAcmV0dXJuIHtib29sZWFufHVuZGVmaW5lZH0gUm90YXRlIHdpdGggbWFwLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRSb3RhdGVXaXRoVmlldygpIHtcbiAgICByZXR1cm4gdGhpcy5yb3RhdGVXaXRoVmlld187XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0ZXh0IHJvdGF0aW9uLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Um90YXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucm90YXRpb25fO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGV4dCBzY2FsZS5cbiAgICogQHJldHVybiB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9IFNjYWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRTY2FsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zY2FsZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzeW1ib2xpemVyIHNjYWxlIGFycmF5LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFNjYWxlIGFycmF5LlxuICAgKi9cbiAgZ2V0U2NhbGVBcnJheSgpIHtcbiAgICByZXR1cm4gdGhpcy5zY2FsZUFycmF5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0cm9rZSBzdHlsZSBmb3IgdGhlIHRleHQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFN0cm9rZSBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0U3Ryb2tlKCkge1xuICAgIHJldHVybiB0aGlzLnN0cm9rZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0ZXh0IHRvIGJlIHJlbmRlcmVkLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8QXJyYXk8c3RyaW5nPnx1bmRlZmluZWR9IFRleHQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0ZXh0IGFsaWdubWVudC5cbiAgICogQHJldHVybiB7Q2FudmFzVGV4dEFsaWdufHVuZGVmaW5lZH0gVGV4dCBhbGlnbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VGV4dEFsaWduKCkge1xuICAgIHJldHVybiB0aGlzLnRleHRBbGlnbl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBqdXN0aWZpY2F0aW9uLlxuICAgKiBAcmV0dXJuIHtUZXh0SnVzdGlmeXx1bmRlZmluZWR9IEp1c3RpZmljYXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEp1c3RpZnkoKSB7XG4gICAgcmV0dXJuIHRoaXMuanVzdGlmeV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0ZXh0IGJhc2VsaW5lLlxuICAgKiBAcmV0dXJuIHtDYW52YXNUZXh0QmFzZWxpbmV8dW5kZWZpbmVkfSBUZXh0IGJhc2VsaW5lLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUZXh0QmFzZWxpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dEJhc2VsaW5lXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGJhY2tncm91bmQgZmlsbCBzdHlsZSBmb3IgdGhlIHRleHQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBGaWxsIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRCYWNrZ3JvdW5kRmlsbCgpIHtcbiAgICByZXR1cm4gdGhpcy5iYWNrZ3JvdW5kRmlsbF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBiYWNrZ3JvdW5kIHN0cm9rZSBzdHlsZSBmb3IgdGhlIHRleHQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFN0cm9rZSBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0QmFja2dyb3VuZFN0cm9rZSgpIHtcbiAgICByZXR1cm4gdGhpcy5iYWNrZ3JvdW5kU3Ryb2tlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHBhZGRpbmcgZm9yIHRoZSB0ZXh0LlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fG51bGx9IFBhZGRpbmcuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFBhZGRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFkZGluZ187XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBgb3ZlcmZsb3dgIHByb3BlcnR5LlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG92ZXJmbG93IExldCB0ZXh0IG92ZXJmbG93IHRoZSBwYXRoIHRoYXQgaXQgZm9sbG93cy5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0T3ZlcmZsb3cob3ZlcmZsb3cpIHtcbiAgICB0aGlzLm92ZXJmbG93XyA9IG92ZXJmbG93O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZm9udC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBmb250IEZvbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEZvbnQoZm9udCkge1xuICAgIHRoaXMuZm9udF8gPSBmb250O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbWF4aW11bSBhbmdsZSBiZXR3ZWVuIGFkamFjZW50IGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBbmdsZSBBbmdsZSBpbiByYWRpYW5zLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRNYXhBbmdsZShtYXhBbmdsZSkge1xuICAgIHRoaXMubWF4QW5nbGVfID0gbWF4QW5nbGU7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB4IG9mZnNldC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFggSG9yaXpvbnRhbCB0ZXh0IG9mZnNldC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0T2Zmc2V0WChvZmZzZXRYKSB7XG4gICAgdGhpcy5vZmZzZXRYXyA9IG9mZnNldFg7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB5IG9mZnNldC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFkgVmVydGljYWwgdGV4dCBvZmZzZXQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE9mZnNldFkob2Zmc2V0WSkge1xuICAgIHRoaXMub2Zmc2V0WV8gPSBvZmZzZXRZO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdGV4dCBwbGFjZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7VGV4dFBsYWNlbWVudH0gcGxhY2VtZW50IFBsYWNlbWVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0UGxhY2VtZW50KHBsYWNlbWVudCkge1xuICAgIHRoaXMucGxhY2VtZW50XyA9IHBsYWNlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB0byByb3RhdGUgdGhlIHRleHQgd2l0aCB0aGUgdmlldy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByb3RhdGVXaXRoVmlldyBSb3RhdGUgd2l0aCBtYXAuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFJvdGF0ZVdpdGhWaWV3KHJvdGF0ZVdpdGhWaWV3KSB7XG4gICAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSByb3RhdGVXaXRoVmlldztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGZpbGwuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IGZpbGwgRmlsbCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0RmlsbChmaWxsKSB7XG4gICAgdGhpcy5maWxsXyA9IGZpbGw7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSByb3RhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Um90YXRpb24ocm90YXRpb24pIHtcbiAgICB0aGlzLnJvdGF0aW9uXyA9IHJvdGF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc2NhbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9IHNjYWxlIFNjYWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRTY2FsZShzY2FsZSkge1xuICAgIHRoaXMuc2NhbGVfID0gc2NhbGU7XG4gICAgdGhpcy5zY2FsZUFycmF5XyA9IHRvU2l6ZShzY2FsZSAhPT0gdW5kZWZpbmVkID8gc2NhbGUgOiAxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN0cm9rZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBzdHJva2UgU3Ryb2tlIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRTdHJva2Uoc3Ryb2tlKSB7XG4gICAgdGhpcy5zdHJva2VfID0gc3Ryb2tlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdGV4dC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPnx1bmRlZmluZWR9IHRleHQgVGV4dC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0VGV4dCh0ZXh0KSB7XG4gICAgdGhpcy50ZXh0XyA9IHRleHQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB0ZXh0IGFsaWdubWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtDYW52YXNUZXh0QWxpZ258dW5kZWZpbmVkfSB0ZXh0QWxpZ24gVGV4dCBhbGlnbi5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0VGV4dEFsaWduKHRleHRBbGlnbikge1xuICAgIHRoaXMudGV4dEFsaWduXyA9IHRleHRBbGlnbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGp1c3RpZmljYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7VGV4dEp1c3RpZnl8dW5kZWZpbmVkfSBqdXN0aWZ5IEp1c3RpZmljYXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEp1c3RpZnkoanVzdGlmeSkge1xuICAgIHRoaXMuanVzdGlmeV8gPSBqdXN0aWZ5O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdGV4dCBiYXNlbGluZS5cbiAgICpcbiAgICogQHBhcmFtIHtDYW52YXNUZXh0QmFzZWxpbmV8dW5kZWZpbmVkfSB0ZXh0QmFzZWxpbmUgVGV4dCBiYXNlbGluZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0VGV4dEJhc2VsaW5lKHRleHRCYXNlbGluZSkge1xuICAgIHRoaXMudGV4dEJhc2VsaW5lXyA9IHRleHRCYXNlbGluZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGJhY2tncm91bmQgZmlsbC5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gZmlsbCBGaWxsIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRCYWNrZ3JvdW5kRmlsbChmaWxsKSB7XG4gICAgdGhpcy5iYWNrZ3JvdW5kRmlsbF8gPSBmaWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYmFja2dyb3VuZCBzdHJva2UuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlIFN0cm9rZSBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0QmFja2dyb3VuZFN0cm9rZShzdHJva2UpIHtcbiAgICB0aGlzLmJhY2tncm91bmRTdHJva2VfID0gc3Ryb2tlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcGFkZGluZyAoYFt0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnRdYCkuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPnxudWxsfSBwYWRkaW5nIFBhZGRpbmcuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFBhZGRpbmcocGFkZGluZykge1xuICAgIHRoaXMucGFkZGluZ18gPSBwYWRkaW5nO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRleHQ7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvdGlsZWNvb3JkXG4gKi9cblxuLyoqXG4gKiBBbiBhcnJheSBvZiB0aHJlZSBudW1iZXJzIHJlcHJlc2VudGluZyB0aGUgbG9jYXRpb24gb2YgYSB0aWxlIGluIGEgdGlsZVxuICogZ3JpZC4gVGhlIG9yZGVyIGlzIGB6YCAoem9vbSBsZXZlbCksIGB4YCAoY29sdW1uKSwgYW5kIGB5YCAocm93KS5cbiAqIEB0eXBlZGVmIHtBcnJheTxudW1iZXI+fSBUaWxlQ29vcmRcbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB6IFouXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7VGlsZUNvb3JkfSBbdGlsZUNvb3JkXSBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtUaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlKHosIHgsIHksIHRpbGVDb29yZCkge1xuICBpZiAodGlsZUNvb3JkICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aWxlQ29vcmRbMF0gPSB6O1xuICAgIHRpbGVDb29yZFsxXSA9IHg7XG4gICAgdGlsZUNvb3JkWzJdID0geTtcbiAgICByZXR1cm4gdGlsZUNvb3JkO1xuICB9XG4gIHJldHVybiBbeiwgeCwgeV07XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHogWi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHJldHVybiB7c3RyaW5nfSBLZXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRLZXlaWFkoeiwgeCwgeSkge1xuICByZXR1cm4geiArICcvJyArIHggKyAnLycgKyB5O1xufVxuXG4vKipcbiAqIEdldCB0aGUga2V5IGZvciBhIHRpbGUgY29vcmQuXG4gKiBAcGFyYW0ge1RpbGVDb29yZH0gdGlsZUNvb3JkIFRoZSB0aWxlIGNvb3JkLlxuICogQHJldHVybiB7c3RyaW5nfSBLZXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRLZXkodGlsZUNvb3JkKSB7XG4gIHJldHVybiBnZXRLZXlaWFkodGlsZUNvb3JkWzBdLCB0aWxlQ29vcmRbMV0sIHRpbGVDb29yZFsyXSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSB0aWxlIGNhY2hlIGtleSBmb3IgYSB0aWxlIGtleSBvYnRhaW5lZCB0aHJvdWdoIGB0aWxlLmdldEtleSgpYC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0aWxlS2V5IFRoZSB0aWxlIGtleS5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNhY2hlIGtleS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENhY2hlS2V5Rm9yVGlsZUtleSh0aWxlS2V5KSB7XG4gIGNvbnN0IFt6LCB4LCB5XSA9IHRpbGVLZXlcbiAgICAuc3Vic3RyaW5nKHRpbGVLZXkubGFzdEluZGV4T2YoJy8nKSArIDEsIHRpbGVLZXkubGVuZ3RoKVxuICAgIC5zcGxpdCgnLCcpXG4gICAgLm1hcChOdW1iZXIpO1xuICByZXR1cm4gZ2V0S2V5WlhZKHosIHgsIHkpO1xufVxuXG4vKipcbiAqIEdldCBhIHRpbGUgY29vcmQgZ2l2ZW4gYSBrZXkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSB0aWxlIGNvb3JkIGtleS5cbiAqIEByZXR1cm4ge1RpbGVDb29yZH0gVGhlIHRpbGUgY29vcmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tS2V5KGtleSkge1xuICByZXR1cm4ga2V5LnNwbGl0KCcvJykubWFwKE51bWJlcik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkLlxuICogQHJldHVybiB7bnVtYmVyfSBIYXNoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzaCh0aWxlQ29vcmQpIHtcbiAgcmV0dXJuICh0aWxlQ29vcmRbMV0gPDwgdGlsZUNvb3JkWzBdKSArIHRpbGVDb29yZFsyXTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7IWltcG9ydChcIi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGlsZSBjb29yZGluYXRlIGlzIHdpdGhpbiBleHRlbnQgYW5kIHpvb20gbGV2ZWwgcmFuZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoaW5FeHRlbnRBbmRaKHRpbGVDb29yZCwgdGlsZUdyaWQpIHtcbiAgY29uc3QgeiA9IHRpbGVDb29yZFswXTtcbiAgY29uc3QgeCA9IHRpbGVDb29yZFsxXTtcbiAgY29uc3QgeSA9IHRpbGVDb29yZFsyXTtcblxuICBpZiAodGlsZUdyaWQuZ2V0TWluWm9vbSgpID4geiB8fCB6ID4gdGlsZUdyaWQuZ2V0TWF4Wm9vbSgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHRpbGVSYW5nZSA9IHRpbGVHcmlkLmdldEZ1bGxUaWxlUmFuZ2Uoeik7XG4gIGlmICghdGlsZVJhbmdlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIHRpbGVSYW5nZS5jb250YWluc1hZKHgsIHkpO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3RpbGVncmlkXG4gKi9cbmltcG9ydCBUaWxlR3JpZCBmcm9tICcuL3RpbGVncmlkL1RpbGVHcmlkLmpzJztcbmltcG9ydCB7REVGQVVMVF9NQVhfWk9PTSwgREVGQVVMVF9USUxFX1NJWkV9IGZyb20gJy4vdGlsZWdyaWQvY29tbW9uLmpzJztcbmltcG9ydCB7TUVURVJTX1BFUl9VTklULCBnZXQgYXMgZ2V0UHJvamVjdGlvbn0gZnJvbSAnLi9wcm9qLmpzJztcbmltcG9ydCB7XG4gIGNvbnRhaW5zQ29vcmRpbmF0ZSxcbiAgY3JlYXRlT3JVcGRhdGUsXG4gIGdldENvcm5lcixcbiAgZ2V0SGVpZ2h0LFxuICBnZXRXaWR0aCxcbn0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHt0b1NpemV9IGZyb20gJy4vc2l6ZS5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHshVGlsZUdyaWR9IERlZmF1bHQgdGlsZSBncmlkIGZvciB0aGVcbiAqIHBhc3NlZCBwcm9qZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gIGxldCB0aWxlR3JpZCA9IHByb2plY3Rpb24uZ2V0RGVmYXVsdFRpbGVHcmlkKCk7XG4gIGlmICghdGlsZUdyaWQpIHtcbiAgICB0aWxlR3JpZCA9IGNyZWF0ZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgcHJvamVjdGlvbi5zZXREZWZhdWx0VGlsZUdyaWQodGlsZUdyaWQpO1xuICB9XG4gIHJldHVybiB0aWxlR3JpZDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RpbGVHcmlkfSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwWCh0aWxlR3JpZCwgdGlsZUNvb3JkLCBwcm9qZWN0aW9uKSB7XG4gIGNvbnN0IHogPSB0aWxlQ29vcmRbMF07XG4gIGNvbnN0IGNlbnRlciA9IHRpbGVHcmlkLmdldFRpbGVDb29yZENlbnRlcih0aWxlQ29vcmQpO1xuICBjb25zdCBwcm9qZWN0aW9uRXh0ZW50ID0gZXh0ZW50RnJvbVByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gIGlmICghY29udGFpbnNDb29yZGluYXRlKHByb2plY3Rpb25FeHRlbnQsIGNlbnRlcikpIHtcbiAgICBjb25zdCB3b3JsZFdpZHRoID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgY29uc3Qgd29ybGRzQXdheSA9IE1hdGguY2VpbChcbiAgICAgIChwcm9qZWN0aW9uRXh0ZW50WzBdIC0gY2VudGVyWzBdKSAvIHdvcmxkV2lkdGhcbiAgICApO1xuICAgIGNlbnRlclswXSArPSB3b3JsZFdpZHRoICogd29ybGRzQXdheTtcbiAgICByZXR1cm4gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRaKGNlbnRlciwgeik7XG4gIH1cbiAgcmV0dXJuIHRpbGVDb29yZDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4Wm9vbV0gTWF4aW11bSB6b29tIGxldmVsIChkZWZhdWx0IGlzXG4gKiAgICAgREVGQVVMVF9NQVhfWk9PTSkuXG4gKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplXSBUaWxlIHNpemUgKGRlZmF1bHQgdXNlc1xuICogICAgIERFRkFVTFRfVElMRV9TSVpFKS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuQ29ybmVyfSBbY29ybmVyXSBFeHRlbnQgY29ybmVyIChkZWZhdWx0IGlzIGAndG9wLWxlZnQnYCkuXG4gKiBAcmV0dXJuIHshVGlsZUdyaWR9IFRpbGVHcmlkIGluc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRm9yRXh0ZW50KGV4dGVudCwgbWF4Wm9vbSwgdGlsZVNpemUsIGNvcm5lcikge1xuICBjb3JuZXIgPSBjb3JuZXIgIT09IHVuZGVmaW5lZCA/IGNvcm5lciA6ICd0b3AtbGVmdCc7XG5cbiAgY29uc3QgcmVzb2x1dGlvbnMgPSByZXNvbHV0aW9uc0Zyb21FeHRlbnQoZXh0ZW50LCBtYXhab29tLCB0aWxlU2l6ZSk7XG5cbiAgcmV0dXJuIG5ldyBUaWxlR3JpZCh7XG4gICAgZXh0ZW50OiBleHRlbnQsXG4gICAgb3JpZ2luOiBnZXRDb3JuZXIoZXh0ZW50LCBjb3JuZXIpLFxuICAgIHJlc29sdXRpb25zOiByZXNvbHV0aW9ucyxcbiAgICB0aWxlU2l6ZTogdGlsZVNpemUsXG4gIH0pO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFhZWk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBFeHRlbnQgZm9yIHRoZSB0aWxlIGdyaWQuIFRoZSBvcmlnaW4gZm9yIGFuIFhZWiB0aWxlIGdyaWQgaXMgdGhlXG4gKiB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIGV4dGVudC4gSWYgYG1heFJlc29sdXRpb25gIGlzIG5vdCBwcm92aWRlZCB0aGUgemVybyBsZXZlbCBvZiB0aGUgZ3JpZCBpcyBkZWZpbmVkIGJ5IHRoZSByZXNvbHV0aW9uXG4gKiBhdCB3aGljaCBvbmUgdGlsZSBmaXRzIGluIHRoZSBwcm92aWRlZCBleHRlbnQuIElmIG5vdCBwcm92aWRlZCwgdGhlIGV4dGVudCBvZiB0aGUgRVBTRzozODU3IHByb2plY3Rpb24gaXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gUmVzb2x1dGlvbiBhdCBsZXZlbCB6ZXJvLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBNYXhpbXVtIHpvb20uIFRoZSBkZWZhdWx0IGlzIGA0MmAuIFRoaXMgZGV0ZXJtaW5lcyB0aGUgbnVtYmVyIG9mIGxldmVsc1xuICogaW4gdGhlIGdyaWQgc2V0LiBGb3IgZXhhbXBsZSwgYSBgbWF4Wm9vbWAgb2YgMjEgbWVhbnMgdGhlcmUgYXJlIDIyIGxldmVscyBpbiB0aGUgZ3JpZCBzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb209MF0gTWluaW11bSB6b29tLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFt0aWxlU2l6ZT1bMjU2LCAyNTZdXSBUaWxlIHNpemUgaW4gcGl4ZWxzLlxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIHRpbGUgZ3JpZCB3aXRoIGEgc3RhbmRhcmQgWFlaIHRpbGluZyBzY2hlbWUuXG4gKiBAcGFyYW0ge1hZWk9wdGlvbnN9IFtvcHRpb25zXSBUaWxlIGdyaWQgb3B0aW9ucy5cbiAqIEByZXR1cm4geyFUaWxlR3JpZH0gVGlsZSBncmlkIGluc3RhbmNlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlWFlaKG9wdGlvbnMpIHtcbiAgY29uc3QgeHl6T3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgY29uc3QgZXh0ZW50ID0geHl6T3B0aW9ucy5leHRlbnQgfHwgZ2V0UHJvamVjdGlvbignRVBTRzozODU3JykuZ2V0RXh0ZW50KCk7XG5cbiAgY29uc3QgZ3JpZE9wdGlvbnMgPSB7XG4gICAgZXh0ZW50OiBleHRlbnQsXG4gICAgbWluWm9vbTogeHl6T3B0aW9ucy5taW5ab29tLFxuICAgIHRpbGVTaXplOiB4eXpPcHRpb25zLnRpbGVTaXplLFxuICAgIHJlc29sdXRpb25zOiByZXNvbHV0aW9uc0Zyb21FeHRlbnQoXG4gICAgICBleHRlbnQsXG4gICAgICB4eXpPcHRpb25zLm1heFpvb20sXG4gICAgICB4eXpPcHRpb25zLnRpbGVTaXplLFxuICAgICAgeHl6T3B0aW9ucy5tYXhSZXNvbHV0aW9uXG4gICAgKSxcbiAgfTtcbiAgcmV0dXJuIG5ldyBUaWxlR3JpZChncmlkT3B0aW9ucyk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgcmVzb2x1dGlvbnMgYXJyYXkgZnJvbSBhbiBleHRlbnQuICBBIHpvb20gZmFjdG9yIG9mIDIgaXMgYXNzdW1lZC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IFttYXhab29tXSBNYXhpbXVtIHpvb20gbGV2ZWwgKGRlZmF1bHQgaXNcbiAqICAgICBERUZBVUxUX01BWF9aT09NKS5cbiAqIEBwYXJhbSB7bnVtYmVyfGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbdGlsZVNpemVdIFRpbGUgc2l6ZSAoZGVmYXVsdCB1c2VzXG4gKiAgICAgREVGQVVMVF9USUxFX1NJWkUpLlxuICogQHBhcmFtIHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBSZXNvbHV0aW9uIGF0IGxldmVsIHplcm8uXG4gKiBAcmV0dXJuIHshQXJyYXk8bnVtYmVyPn0gUmVzb2x1dGlvbnMgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIHJlc29sdXRpb25zRnJvbUV4dGVudChleHRlbnQsIG1heFpvb20sIHRpbGVTaXplLCBtYXhSZXNvbHV0aW9uKSB7XG4gIG1heFpvb20gPSBtYXhab29tICE9PSB1bmRlZmluZWQgPyBtYXhab29tIDogREVGQVVMVF9NQVhfWk9PTTtcbiAgdGlsZVNpemUgPSB0b1NpemUodGlsZVNpemUgIT09IHVuZGVmaW5lZCA/IHRpbGVTaXplIDogREVGQVVMVF9USUxFX1NJWkUpO1xuXG4gIGNvbnN0IGhlaWdodCA9IGdldEhlaWdodChleHRlbnQpO1xuICBjb25zdCB3aWR0aCA9IGdldFdpZHRoKGV4dGVudCk7XG5cbiAgbWF4UmVzb2x1dGlvbiA9XG4gICAgbWF4UmVzb2x1dGlvbiA+IDBcbiAgICAgID8gbWF4UmVzb2x1dGlvblxuICAgICAgOiBNYXRoLm1heCh3aWR0aCAvIHRpbGVTaXplWzBdLCBoZWlnaHQgLyB0aWxlU2l6ZVsxXSk7XG5cbiAgY29uc3QgbGVuZ3RoID0gbWF4Wm9vbSArIDE7XG4gIGNvbnN0IHJlc29sdXRpb25zID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gIGZvciAobGV0IHogPSAwOyB6IDwgbGVuZ3RoOyArK3opIHtcbiAgICByZXNvbHV0aW9uc1t6XSA9IG1heFJlc29sdXRpb24gLyBNYXRoLnBvdygyLCB6KTtcbiAgfVxuICByZXR1cm4gcmVzb2x1dGlvbnM7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4Wm9vbV0gTWF4aW11bSB6b29tIGxldmVsIChkZWZhdWx0IGlzXG4gKiAgICAgREVGQVVMVF9NQVhfWk9PTSkuXG4gKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplXSBUaWxlIHNpemUgKGRlZmF1bHQgdXNlc1xuICogICAgIERFRkFVTFRfVElMRV9TSVpFKS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuQ29ybmVyfSBbY29ybmVyXSBFeHRlbnQgY29ybmVyIChkZWZhdWx0IGlzIGAndG9wLWxlZnQnYCkuXG4gKiBAcmV0dXJuIHshVGlsZUdyaWR9IFRpbGVHcmlkIGluc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uLCBtYXhab29tLCB0aWxlU2l6ZSwgY29ybmVyKSB7XG4gIGNvbnN0IGV4dGVudCA9IGV4dGVudEZyb21Qcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICByZXR1cm4gY3JlYXRlRm9yRXh0ZW50KGV4dGVudCwgbWF4Wm9vbSwgdGlsZVNpemUsIGNvcm5lcik7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgYSB0aWxlIGdyaWQgZXh0ZW50IGZyb20gYSBwcm9qZWN0aW9uLiAgSWYgdGhlIHByb2plY3Rpb24gaGFzIGFuXG4gKiBleHRlbnQsIGl0IGlzIHVzZWQuICBJZiBub3QsIGEgZ2xvYmFsIGV4dGVudCBpcyBhc3N1bWVkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW50RnJvbVByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICBwcm9qZWN0aW9uID0gZ2V0UHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgbGV0IGV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gIGlmICghZXh0ZW50KSB7XG4gICAgY29uc3QgaGFsZiA9XG4gICAgICAoMTgwICogTUVURVJTX1BFUl9VTklULmRlZ3JlZXMpIC8gcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KCk7XG4gICAgZXh0ZW50ID0gY3JlYXRlT3JVcGRhdGUoLWhhbGYsIC1oYWxmLCBoYWxmLCBoYWxmKTtcbiAgfVxuICByZXR1cm4gZXh0ZW50O1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3RpbGVncmlkL1RpbGVHcmlkXG4gKi9cbmltcG9ydCBUaWxlUmFuZ2UsIHtcbiAgY3JlYXRlT3JVcGRhdGUgYXMgY3JlYXRlT3JVcGRhdGVUaWxlUmFuZ2UsXG59IGZyb20gJy4uL1RpbGVSYW5nZS5qcyc7XG5pbXBvcnQge0RFRkFVTFRfVElMRV9TSVpFfSBmcm9tICcuL2NvbW1vbi5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge2NlaWwsIGNsYW1wLCBmbG9vcn0gZnJvbSAnLi4vbWF0aC5qcyc7XG5pbXBvcnQge2NyZWF0ZU9yVXBkYXRlLCBnZXRUb3BMZWZ0fSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtjcmVhdGVPclVwZGF0ZSBhcyBjcmVhdGVPclVwZGF0ZVRpbGVDb29yZH0gZnJvbSAnLi4vdGlsZWNvb3JkLmpzJztcbmltcG9ydCB7aW50ZXJzZWN0c0xpbmVhclJpbmd9IGZyb20gJy4uL2dlb20vZmxhdC9pbnRlcnNlY3RzZXh0ZW50LmpzJztcbmltcG9ydCB7aXNTb3J0ZWQsIGxpbmVhckZpbmROZWFyZXN0fSBmcm9tICcuLi9hcnJheS5qcyc7XG5pbXBvcnQge3RvU2l6ZX0gZnJvbSAnLi4vc2l6ZS5qcyc7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfVxuICovXG5jb25zdCB0bXBUaWxlQ29vcmQgPSBbMCwgMCwgMF07XG5cbi8qKlxuICogTnVtYmVyIG9mIGRlY2ltYWwgZGlnaXRzIHRvIGNvbnNpZGVyIGluIGludGVnZXIgdmFsdWVzIHdoZW4gcm91bmRpbmcuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5jb25zdCBERUNJTUFMUyA9IDU7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBFeHRlbnQgZm9yIHRoZSB0aWxlIGdyaWQuIE5vIHRpbGVzIG91dHNpZGUgdGhpc1xuICogZXh0ZW50IHdpbGwgYmUgcmVxdWVzdGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL1RpbGV+VGlsZVNvdXJjZX0gc291cmNlcy4gV2hlbiBubyBgb3JpZ2luYCBvclxuICogYG9yaWdpbnNgIGFyZSBjb25maWd1cmVkLCB0aGUgYG9yaWdpbmAgd2lsbCBiZSBzZXQgdG8gdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tPTBdIE1pbmltdW0gem9vbS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbb3JpZ2luXSBUaGUgdGlsZSBncmlkIG9yaWdpbiwgaS5lLiB3aGVyZSB0aGUgYHhgXG4gKiBhbmQgYHlgIGF4ZXMgbWVldCAoYFt6LCAwLCAwXWApLiBUaWxlIGNvb3JkaW5hdGVzIGluY3JlYXNlIGxlZnQgdG8gcmlnaHQgYW5kIGRvd253YXJkcy4gSWYgbm90XG4gKiBzcGVjaWZpZWQsIGBleHRlbnRgIG9yIGBvcmlnaW5zYCBtdXN0IGJlIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBbb3JpZ2luc10gVGlsZSBncmlkIG9yaWdpbnMsIGkuZS4gd2hlcmVcbiAqIHRoZSBgeGAgYW5kIGB5YCBheGVzIG1lZXQgKGBbeiwgMCwgMF1gKSwgZm9yIGVhY2ggem9vbSBsZXZlbC4gSWYgZ2l2ZW4sIHRoZSBhcnJheSBsZW5ndGhcbiAqIHNob3VsZCBtYXRjaCB0aGUgbGVuZ3RoIG9mIHRoZSBgcmVzb2x1dGlvbnNgIGFycmF5LCBpLmUuIGVhY2ggcmVzb2x1dGlvbiBjYW4gaGF2ZSBhIGRpZmZlcmVudFxuICogb3JpZ2luLiBUaWxlIGNvb3JkaW5hdGVzIGluY3JlYXNlIGxlZnQgdG8gcmlnaHQgYW5kIGRvd253YXJkcy4gSWYgbm90IHNwZWNpZmllZCwgYGV4dGVudGAgb3JcbiAqIGBvcmlnaW5gIG11c3QgYmUgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkgeyFBcnJheTxudW1iZXI+fSByZXNvbHV0aW9ucyBSZXNvbHV0aW9ucy4gVGhlIGFycmF5IGluZGV4IG9mIGVhY2ggcmVzb2x1dGlvbiBuZWVkc1xuICogdG8gbWF0Y2ggdGhlIHpvb20gbGV2ZWwuIFRoaXMgbWVhbnMgdGhhdCBldmVuIGlmIGEgYG1pblpvb21gIGlzIGNvbmZpZ3VyZWQsIHRoZSByZXNvbHV0aW9uc1xuICogYXJyYXkgd2lsbCBoYXZlIGEgbGVuZ3RoIG9mIGBtYXhab29tICsgMWAuXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZT59IFtzaXplc10gTnVtYmVyIG9mIHRpbGUgcm93cyBhbmQgY29sdW1uc1xuICogb2YgdGhlIGdyaWQgZm9yIGVhY2ggem9vbSBsZXZlbC4gSWYgc3BlY2lmaWVkIHRoZSB2YWx1ZXNcbiAqIGRlZmluZSBlYWNoIHpvb20gbGV2ZWwncyBleHRlbnQgdG9nZXRoZXIgd2l0aCB0aGUgYG9yaWdpbmAgb3IgYG9yaWdpbnNgLlxuICogQSBncmlkIGBleHRlbnRgIGNhbiBiZSBjb25maWd1cmVkIGluIGFkZGl0aW9uLCBhbmQgd2lsbCBmdXJ0aGVyIGxpbWl0IHRoZSBleHRlbnRcbiAqIGZvciB3aGljaCB0aWxlIHJlcXVlc3RzIGFyZSBtYWRlIGJ5IHNvdXJjZXMuIElmIHRoZSBib3R0b20tbGVmdCBjb3JuZXIgb2ZcbiAqIGFuIGV4dGVudCBpcyB1c2VkIGFzIGBvcmlnaW5gIG9yIGBvcmlnaW5zYCwgdGhlbiB0aGUgYHlgIHZhbHVlIG11c3QgYmVcbiAqIG5lZ2F0aXZlIGJlY2F1c2UgT3BlbkxheWVycyB0aWxlIGNvb3JkaW5hdGVzIHVzZSB0aGUgdG9wIGxlZnQgYXMgdGhlIG9yaWdpbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplXSBUaWxlIHNpemUuXG4gKiBEZWZhdWx0IGlzIGBbMjU2LCAyNTZdYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZT59IFt0aWxlU2l6ZXNdIFRpbGUgc2l6ZXMuIElmIGdpdmVuLCB0aGUgYXJyYXkgbGVuZ3RoXG4gKiBzaG91bGQgbWF0Y2ggdGhlIGxlbmd0aCBvZiB0aGUgYHJlc29sdXRpb25zYCBhcnJheSwgaS5lLiBlYWNoIHJlc29sdXRpb24gY2FuIGhhdmUgYSBkaWZmZXJlbnRcbiAqIHRpbGUgc2l6ZS5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEJhc2UgY2xhc3MgZm9yIHNldHRpbmcgdGhlIGdyaWQgcGF0dGVybiBmb3Igc291cmNlcyBhY2Nlc3NpbmcgdGlsZWQtaW1hZ2VcbiAqIHNlcnZlcnMuXG4gKiBAYXBpXG4gKi9cbmNsYXNzIFRpbGVHcmlkIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBUaWxlIGdyaWQgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1pblpvb20gPSBvcHRpb25zLm1pblpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWluWm9vbSA6IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshQXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb25zXyA9IG9wdGlvbnMucmVzb2x1dGlvbnM7XG4gICAgYXNzZXJ0KFxuICAgICAgaXNTb3J0ZWQoXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbnNfLFxuICAgICAgICBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgIHJldHVybiBiIC0gYTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKSxcbiAgICAgIDE3XG4gICAgKTsgLy8gYHJlc29sdXRpb25zYCBtdXN0IGJlIHNvcnRlZCBpbiBkZXNjZW5kaW5nIG9yZGVyXG5cbiAgICAvLyBjaGVjayBpZiB3ZSd2ZSBnb3QgYSBjb25zaXN0ZW50IHpvb20gZmFjdG9yIGFuZCBvcmlnaW5cbiAgICBsZXQgem9vbUZhY3RvcjtcbiAgICBpZiAoIW9wdGlvbnMub3JpZ2lucykge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIC0gMTsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgaWYgKCF6b29tRmFjdG9yKSB7XG4gICAgICAgICAgem9vbUZhY3RvciA9IHRoaXMucmVzb2x1dGlvbnNfW2ldIC8gdGhpcy5yZXNvbHV0aW9uc19baSArIDFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLnJlc29sdXRpb25zX1tpXSAvIHRoaXMucmVzb2x1dGlvbnNfW2kgKyAxXSAhPT0gem9vbUZhY3Rvcikge1xuICAgICAgICAgICAgem9vbUZhY3RvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy56b29tRmFjdG9yXyA9IHpvb21GYWN0b3I7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heFpvb20gPSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGggLSAxO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5fID0gb3B0aW9ucy5vcmlnaW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub3JpZ2luIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5zXyA9IG51bGw7XG4gICAgaWYgKG9wdGlvbnMub3JpZ2lucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm9yaWdpbnNfID0gb3B0aW9ucy5vcmlnaW5zO1xuICAgICAgYXNzZXJ0KHRoaXMub3JpZ2luc18ubGVuZ3RoID09IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCwgMjApOyAvLyBOdW1iZXIgb2YgYG9yaWdpbnNgIGFuZCBgcmVzb2x1dGlvbnNgIG11c3QgYmUgZXF1YWxcbiAgICB9XG5cbiAgICBjb25zdCBleHRlbnQgPSBvcHRpb25zLmV4dGVudDtcblxuICAgIGlmIChleHRlbnQgIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5vcmlnaW5fICYmICF0aGlzLm9yaWdpbnNfKSB7XG4gICAgICB0aGlzLm9yaWdpbl8gPSBnZXRUb3BMZWZ0KGV4dGVudCk7XG4gICAgfVxuXG4gICAgYXNzZXJ0KFxuICAgICAgKCF0aGlzLm9yaWdpbl8gJiYgdGhpcy5vcmlnaW5zXykgfHwgKHRoaXMub3JpZ2luXyAmJiAhdGhpcy5vcmlnaW5zXyksXG4gICAgICAxOFxuICAgICk7IC8vIEVpdGhlciBgb3JpZ2luYCBvciBgb3JpZ2luc2AgbXVzdCBiZSBjb25maWd1cmVkLCBuZXZlciBib3RoXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplPn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVTaXplc18gPSBudWxsO1xuICAgIGlmIChvcHRpb25zLnRpbGVTaXplcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnRpbGVTaXplc18gPSBvcHRpb25zLnRpbGVTaXplcztcbiAgICAgIGFzc2VydCh0aGlzLnRpbGVTaXplc18ubGVuZ3RoID09IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCwgMTkpOyAvLyBOdW1iZXIgb2YgYHRpbGVTaXplc2AgYW5kIGByZXNvbHV0aW9uc2AgbXVzdCBiZSBlcXVhbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy50aWxlU2l6ZV8gPVxuICAgICAgb3B0aW9ucy50aWxlU2l6ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy50aWxlU2l6ZVxuICAgICAgICA6ICF0aGlzLnRpbGVTaXplc19cbiAgICAgICAgPyBERUZBVUxUX1RJTEVfU0laRVxuICAgICAgICA6IG51bGw7XG4gICAgYXNzZXJ0KFxuICAgICAgKCF0aGlzLnRpbGVTaXplXyAmJiB0aGlzLnRpbGVTaXplc18pIHx8XG4gICAgICAgICh0aGlzLnRpbGVTaXplXyAmJiAhdGhpcy50aWxlU2l6ZXNfKSxcbiAgICAgIDIyXG4gICAgKTsgLy8gRWl0aGVyIGB0aWxlU2l6ZWAgb3IgYHRpbGVTaXplc2AgbXVzdCBiZSBjb25maWd1cmVkLCBuZXZlciBib3RoXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMuZXh0ZW50XyA9IGV4dGVudCAhPT0gdW5kZWZpbmVkID8gZXh0ZW50IDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLmZ1bGxUaWxlUmFuZ2VzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy50bXBTaXplXyA9IFswLCAwXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy50bXBFeHRlbnRfID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgaWYgKG9wdGlvbnMuc2l6ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5mdWxsVGlsZVJhbmdlc18gPSBvcHRpb25zLnNpemVzLm1hcChmdW5jdGlvbiAoc2l6ZSwgeikge1xuICAgICAgICBjb25zdCB0aWxlUmFuZ2UgPSBuZXcgVGlsZVJhbmdlKFxuICAgICAgICAgIE1hdGgubWluKDAsIHNpemVbMF0pLFxuICAgICAgICAgIE1hdGgubWF4KHNpemVbMF0gLSAxLCAtMSksXG4gICAgICAgICAgTWF0aC5taW4oMCwgc2l6ZVsxXSksXG4gICAgICAgICAgTWF0aC5tYXgoc2l6ZVsxXSAtIDEsIC0xKVxuICAgICAgICApO1xuICAgICAgICBpZiAoZXh0ZW50KSB7XG4gICAgICAgICAgY29uc3QgcmVzdHJpY3RlZFRpbGVSYW5nZSA9IHRoaXMuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHopO1xuICAgICAgICAgIHRpbGVSYW5nZS5taW5YID0gTWF0aC5tYXgocmVzdHJpY3RlZFRpbGVSYW5nZS5taW5YLCB0aWxlUmFuZ2UubWluWCk7XG4gICAgICAgICAgdGlsZVJhbmdlLm1heFggPSBNYXRoLm1pbihyZXN0cmljdGVkVGlsZVJhbmdlLm1heFgsIHRpbGVSYW5nZS5tYXhYKTtcbiAgICAgICAgICB0aWxlUmFuZ2UubWluWSA9IE1hdGgubWF4KHJlc3RyaWN0ZWRUaWxlUmFuZ2UubWluWSwgdGlsZVJhbmdlLm1pblkpO1xuICAgICAgICAgIHRpbGVSYW5nZS5tYXhZID0gTWF0aC5taW4ocmVzdHJpY3RlZFRpbGVSYW5nZS5tYXhZLCB0aWxlUmFuZ2UubWF4WSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpbGVSYW5nZTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoZXh0ZW50KSB7XG4gICAgICB0aGlzLmNhbGN1bGF0ZVRpbGVSYW5nZXNfKGV4dGVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGwgYSBmdW5jdGlvbiB3aXRoIGVhY2ggdGlsZSBjb29yZGluYXRlIGZvciBhIGdpdmVuIGV4dGVudCBhbmQgem9vbSBsZXZlbC5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBJbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCk6IHZvaWR9IGNhbGxiYWNrIEZ1bmN0aW9uIGNhbGxlZCB3aXRoIGVhY2ggdGlsZSBjb29yZGluYXRlLlxuICAgKiBAYXBpXG4gICAqL1xuICBmb3JFYWNoVGlsZUNvb3JkKGV4dGVudCwgem9vbSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCB0aWxlUmFuZ2UgPSB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6b29tKTtcbiAgICBmb3IgKGxldCBpID0gdGlsZVJhbmdlLm1pblgsIGlpID0gdGlsZVJhbmdlLm1heFg7IGkgPD0gaWk7ICsraSkge1xuICAgICAgZm9yIChsZXQgaiA9IHRpbGVSYW5nZS5taW5ZLCBqaiA9IHRpbGVSYW5nZS5tYXhZOyBqIDw9IGpqOyArK2opIHtcbiAgICAgICAgY2FsbGJhY2soW3pvb20sIGksIGpdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG51bWJlciwgaW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBjYWxsYmFjayBDYWxsYmFjay5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gW3RlbXBUaWxlUmFuZ2VdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCBvYmplY3QuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW3RlbXBFeHRlbnRdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50IG9iamVjdC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FsbGJhY2sgc3VjY2VlZGVkLlxuICAgKi9cbiAgZm9yRWFjaFRpbGVDb29yZFBhcmVudFRpbGVSYW5nZShcbiAgICB0aWxlQ29vcmQsXG4gICAgY2FsbGJhY2ssXG4gICAgdGVtcFRpbGVSYW5nZSxcbiAgICB0ZW1wRXh0ZW50XG4gICkge1xuICAgIGxldCB0aWxlUmFuZ2UsIHgsIHk7XG4gICAgbGV0IHRpbGVDb29yZEV4dGVudCA9IG51bGw7XG4gICAgbGV0IHogPSB0aWxlQ29vcmRbMF0gLSAxO1xuICAgIGlmICh0aGlzLnpvb21GYWN0b3JfID09PSAyKSB7XG4gICAgICB4ID0gdGlsZUNvb3JkWzFdO1xuICAgICAgeSA9IHRpbGVDb29yZFsyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGlsZUNvb3JkRXh0ZW50ID0gdGhpcy5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZUNvb3JkLCB0ZW1wRXh0ZW50KTtcbiAgICB9XG4gICAgd2hpbGUgKHogPj0gdGhpcy5taW5ab29tKSB7XG4gICAgICBpZiAodGhpcy56b29tRmFjdG9yXyA9PT0gMikge1xuICAgICAgICB4ID0gTWF0aC5mbG9vcih4IC8gMik7XG4gICAgICAgIHkgPSBNYXRoLmZsb29yKHkgLyAyKTtcbiAgICAgICAgdGlsZVJhbmdlID0gY3JlYXRlT3JVcGRhdGVUaWxlUmFuZ2UoeCwgeCwgeSwgeSwgdGVtcFRpbGVSYW5nZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aWxlUmFuZ2UgPSB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooXG4gICAgICAgICAgdGlsZUNvb3JkRXh0ZW50LFxuICAgICAgICAgIHosXG4gICAgICAgICAgdGVtcFRpbGVSYW5nZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrKHosIHRpbGVSYW5nZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICAtLXo7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGV4dGVudCBmb3IgdGhpcyB0aWxlIGdyaWQsIGlmIGl0IHdhcyBjb25maWd1cmVkLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEV4dGVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5leHRlbnRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWF4aW11bSB6b29tIGxldmVsIGZvciB0aGUgZ3JpZC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBNYXggem9vbS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TWF4Wm9vbSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXhab29tO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWluaW11bSB6b29tIGxldmVsIGZvciB0aGUgZ3JpZC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBNaW4gem9vbS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TWluWm9vbSgpIHtcbiAgICByZXR1cm4gdGhpcy5taW5ab29tO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgb3JpZ2luIGZvciB0aGUgZ3JpZCBhdCB0aGUgZ2l2ZW4gem9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHogSW50ZWdlciB6b29tIGxldmVsLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IE9yaWdpbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0T3JpZ2luKHopIHtcbiAgICBpZiAodGhpcy5vcmlnaW5fKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcmlnaW5fO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vcmlnaW5zX1t6XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHJlc29sdXRpb24gZm9yIHRoZSBnaXZlbiB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBJbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UmVzb2x1dGlvbih6KSB7XG4gICAgcmV0dXJuIHRoaXMucmVzb2x1dGlvbnNfW3pdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGlzdCBvZiByZXNvbHV0aW9ucyBmb3IgdGhlIHRpbGUgZ3JpZC5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gUmVzb2x1dGlvbnMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJlc29sdXRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLnJlc29sdXRpb25zXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IFt0ZW1wVGlsZVJhbmdlXSBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQgb2JqZWN0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFt0ZW1wRXh0ZW50XSBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudCBvYmplY3QuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fG51bGx9IFRpbGUgcmFuZ2UuXG4gICAqL1xuICBnZXRUaWxlQ29vcmRDaGlsZFRpbGVSYW5nZSh0aWxlQ29vcmQsIHRlbXBUaWxlUmFuZ2UsIHRlbXBFeHRlbnQpIHtcbiAgICBpZiAodGlsZUNvb3JkWzBdIDwgdGhpcy5tYXhab29tKSB7XG4gICAgICBpZiAodGhpcy56b29tRmFjdG9yXyA9PT0gMikge1xuICAgICAgICBjb25zdCBtaW5YID0gdGlsZUNvb3JkWzFdICogMjtcbiAgICAgICAgY29uc3QgbWluWSA9IHRpbGVDb29yZFsyXSAqIDI7XG4gICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZShcbiAgICAgICAgICBtaW5YLFxuICAgICAgICAgIG1pblggKyAxLFxuICAgICAgICAgIG1pblksXG4gICAgICAgICAgbWluWSArIDEsXG4gICAgICAgICAgdGVtcFRpbGVSYW5nZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgdGlsZUNvb3JkRXh0ZW50ID0gdGhpcy5nZXRUaWxlQ29vcmRFeHRlbnQoXG4gICAgICAgIHRpbGVDb29yZCxcbiAgICAgICAgdGVtcEV4dGVudCB8fCB0aGlzLnRtcEV4dGVudF9cbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKFxuICAgICAgICB0aWxlQ29vcmRFeHRlbnQsXG4gICAgICAgIHRpbGVDb29yZFswXSArIDEsXG4gICAgICAgIHRlbXBUaWxlUmFuZ2VcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHogSW50ZWdlciB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBbdGVtcFRpbGVSYW5nZV0gVGVtcG9yYXJ5IGltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0IG9iamVjdC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR8bnVsbH0gVGlsZSByYW5nZS5cbiAgICovXG4gIGdldFRpbGVSYW5nZUZvclRpbGVDb29yZEFuZFoodGlsZUNvb3JkLCB6LCB0ZW1wVGlsZVJhbmdlKSB7XG4gICAgaWYgKHogPiB0aGlzLm1heFpvb20gfHwgeiA8IHRoaXMubWluWm9vbSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgdGlsZUNvb3JkWiA9IHRpbGVDb29yZFswXTtcbiAgICBjb25zdCB0aWxlQ29vcmRYID0gdGlsZUNvb3JkWzFdO1xuICAgIGNvbnN0IHRpbGVDb29yZFkgPSB0aWxlQ29vcmRbMl07XG5cbiAgICBpZiAoeiA9PT0gdGlsZUNvb3JkWikge1xuICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKFxuICAgICAgICB0aWxlQ29vcmRYLFxuICAgICAgICB0aWxlQ29vcmRZLFxuICAgICAgICB0aWxlQ29vcmRYLFxuICAgICAgICB0aWxlQ29vcmRZLFxuICAgICAgICB0ZW1wVGlsZVJhbmdlXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnpvb21GYWN0b3JfKSB7XG4gICAgICBjb25zdCBmYWN0b3IgPSBNYXRoLnBvdyh0aGlzLnpvb21GYWN0b3JfLCB6IC0gdGlsZUNvb3JkWik7XG4gICAgICBjb25zdCBtaW5YID0gTWF0aC5mbG9vcih0aWxlQ29vcmRYICogZmFjdG9yKTtcbiAgICAgIGNvbnN0IG1pblkgPSBNYXRoLmZsb29yKHRpbGVDb29yZFkgKiBmYWN0b3IpO1xuICAgICAgaWYgKHogPCB0aWxlQ29vcmRaKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZShtaW5YLCBtaW5YLCBtaW5ZLCBtaW5ZLCB0ZW1wVGlsZVJhbmdlKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbWF4WCA9IE1hdGguZmxvb3IoZmFjdG9yICogKHRpbGVDb29yZFggKyAxKSkgLSAxO1xuICAgICAgY29uc3QgbWF4WSA9IE1hdGguZmxvb3IoZmFjdG9yICogKHRpbGVDb29yZFkgKyAxKSkgLSAxO1xuICAgICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKG1pblgsIG1heFgsIG1pblksIG1heFksIHRlbXBUaWxlUmFuZ2UpO1xuICAgIH1cblxuICAgIGNvbnN0IHRpbGVDb29yZEV4dGVudCA9IHRoaXMuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGVDb29yZCwgdGhpcy50bXBFeHRlbnRfKTtcbiAgICByZXR1cm4gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKHRpbGVDb29yZEV4dGVudCwgeiwgdGVtcFRpbGVSYW5nZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBleHRlbnQgZm9yIGEgdGlsZSByYW5nZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHogSW50ZWdlciB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbdGVtcEV4dGVudF0gVGVtcG9yYXJ5IGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAqL1xuICBnZXRUaWxlUmFuZ2VFeHRlbnQoeiwgdGlsZVJhbmdlLCB0ZW1wRXh0ZW50KSB7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4oeik7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICBjb25zdCB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLmdldFRpbGVTaXplKHopLCB0aGlzLnRtcFNpemVfKTtcbiAgICBjb25zdCBtaW5YID0gb3JpZ2luWzBdICsgdGlsZVJhbmdlLm1pblggKiB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb247XG4gICAgY29uc3QgbWF4WCA9IG9yaWdpblswXSArICh0aWxlUmFuZ2UubWF4WCArIDEpICogdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uO1xuICAgIGNvbnN0IG1pblkgPSBvcmlnaW5bMV0gKyB0aWxlUmFuZ2UubWluWSAqIHRpbGVTaXplWzFdICogcmVzb2x1dGlvbjtcbiAgICBjb25zdCBtYXhZID0gb3JpZ2luWzFdICsgKHRpbGVSYW5nZS5tYXhZICsgMSkgKiB0aWxlU2l6ZVsxXSAqIHJlc29sdXRpb247XG4gICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKG1pblgsIG1pblksIG1heFgsIG1heFksIHRlbXBFeHRlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHRpbGUgcmFuZ2UgZm9yIHRoZSBnaXZlbiBleHRlbnQgYW5kIGludGVnZXIgem9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBJbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IFt0ZW1wVGlsZVJhbmdlXSBUZW1wb3JhcnkgdGlsZSByYW5nZSBvYmplY3QuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBUaWxlIHJhbmdlLlxuICAgKi9cbiAgZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHosIHRlbXBUaWxlUmFuZ2UpIHtcbiAgICB0aGlzLmdldFRpbGVDb29yZEZvclhZQW5kWl8oZXh0ZW50WzBdLCBleHRlbnRbM10sIHosIGZhbHNlLCB0bXBUaWxlQ29vcmQpO1xuICAgIGNvbnN0IG1pblggPSB0bXBUaWxlQ29vcmRbMV07XG4gICAgY29uc3QgbWluWSA9IHRtcFRpbGVDb29yZFsyXTtcbiAgICB0aGlzLmdldFRpbGVDb29yZEZvclhZQW5kWl8oZXh0ZW50WzJdLCBleHRlbnRbMV0sIHosIHRydWUsIHRtcFRpbGVDb29yZCk7XG4gICAgY29uc3QgbWF4WCA9IHRtcFRpbGVDb29yZFsxXTtcbiAgICBjb25zdCBtYXhZID0gdG1wVGlsZUNvb3JkWzJdO1xuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZShtaW5YLCBtYXhYLCBtaW5ZLCBtYXhZLCB0ZW1wVGlsZVJhbmdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gVGlsZSBjZW50ZXIuXG4gICAqL1xuICBnZXRUaWxlQ29vcmRDZW50ZXIodGlsZUNvb3JkKSB7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4odGlsZUNvb3JkWzBdKTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKHRpbGVDb29yZFswXSk7XG4gICAgY29uc3QgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh0aWxlQ29vcmRbMF0pLCB0aGlzLnRtcFNpemVfKTtcbiAgICByZXR1cm4gW1xuICAgICAgb3JpZ2luWzBdICsgKHRpbGVDb29yZFsxXSArIDAuNSkgKiB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb24sXG4gICAgICBvcmlnaW5bMV0gLSAodGlsZUNvb3JkWzJdICsgMC41KSAqIHRpbGVTaXplWzFdICogcmVzb2x1dGlvbixcbiAgICBdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZXh0ZW50IG9mIGEgdGlsZSBjb29yZGluYXRlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW3RlbXBFeHRlbnRdIFRlbXBvcmFyeSBleHRlbnQgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBFeHRlbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQsIHRlbXBFeHRlbnQpIHtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLmdldE9yaWdpbih0aWxlQ29vcmRbMF0pO1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24odGlsZUNvb3JkWzBdKTtcbiAgICBjb25zdCB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLmdldFRpbGVTaXplKHRpbGVDb29yZFswXSksIHRoaXMudG1wU2l6ZV8pO1xuICAgIGNvbnN0IG1pblggPSBvcmlnaW5bMF0gKyB0aWxlQ29vcmRbMV0gKiB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb247XG4gICAgY29uc3QgbWluWSA9IG9yaWdpblsxXSAtICh0aWxlQ29vcmRbMl0gKyAxKSAqIHRpbGVTaXplWzFdICogcmVzb2x1dGlvbjtcbiAgICBjb25zdCBtYXhYID0gbWluWCArIHRpbGVTaXplWzBdICogcmVzb2x1dGlvbjtcbiAgICBjb25zdCBtYXhZID0gbWluWSArIHRpbGVTaXplWzFdICogcmVzb2x1dGlvbjtcbiAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGUobWluWCwgbWluWSwgbWF4WCwgbWF4WSwgdGVtcEV4dGVudCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0aWxlIGNvb3JkaW5hdGUgZm9yIHRoZSBnaXZlbiBtYXAgY29vcmRpbmF0ZSBhbmQgcmVzb2x1dGlvbi4gIFRoaXNcbiAgICogbWV0aG9kIGNvbnNpZGVycyB0aGF0IGNvb3JkaW5hdGVzIHRoYXQgaW50ZXJzZWN0IHRpbGUgYm91bmRhcmllcyBzaG91bGQgYmVcbiAgICogYXNzaWduZWQgdGhlIGhpZ2hlciB0aWxlIGNvb3JkaW5hdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gW29wdF90aWxlQ29vcmRdIERlc3RpbmF0aW9uIGltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRpbGVDb29yZEZvckNvb3JkQW5kUmVzb2x1dGlvbihjb29yZGluYXRlLCByZXNvbHV0aW9uLCBvcHRfdGlsZUNvb3JkKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGlsZUNvb3JkRm9yWFlBbmRSZXNvbHV0aW9uXyhcbiAgICAgIGNvb3JkaW5hdGVbMF0sXG4gICAgICBjb29yZGluYXRlWzFdLFxuICAgICAgcmVzb2x1dGlvbixcbiAgICAgIGZhbHNlLFxuICAgICAgb3B0X3RpbGVDb29yZFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIHNob3VsZCBub3QgYmUgY2FsbGVkIGZvciByZXNvbHV0aW9ucyB0aGF0IGNvcnJlc3BvbmRcbiAgICogdG8gYW4gaW50ZWdlciB6b29tIGxldmVsLiAgSW5zdGVhZCBjYWxsIHRoZSBgZ2V0VGlsZUNvb3JkRm9yWFlBbmRaX2AgbWV0aG9kLlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uIChmb3IgYSBub24taW50ZWdlciB6b29tIGxldmVsKS5cbiAgICogQHBhcmFtIHtib29sZWFufSByZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5IEluc3RlYWQgb2YgbGV0dGluZyBlZGdlXG4gICAqICAgICBpbnRlcnNlY3Rpb25zIGdvIHRvIHRoZSBoaWdoZXIgdGlsZSBjb29yZGluYXRlLCBsZXQgZWRnZSBpbnRlcnNlY3Rpb25zXG4gICAqICAgICBnbyB0byB0aGUgbG93ZXIgdGlsZSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFtvcHRfdGlsZUNvb3JkXSBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCBvYmplY3QuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFRpbGVDb29yZEZvclhZQW5kUmVzb2x1dGlvbl8oXG4gICAgeCxcbiAgICB5LFxuICAgIHJlc29sdXRpb24sXG4gICAgcmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSxcbiAgICBvcHRfdGlsZUNvb3JkXG4gICkge1xuICAgIGNvbnN0IHogPSB0aGlzLmdldFpGb3JSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgIGNvbnN0IHNjYWxlID0gcmVzb2x1dGlvbiAvIHRoaXMuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLmdldE9yaWdpbih6KTtcbiAgICBjb25zdCB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLmdldFRpbGVTaXplKHopLCB0aGlzLnRtcFNpemVfKTtcblxuICAgIGxldCB0aWxlQ29vcmRYID0gKHNjYWxlICogKHggLSBvcmlnaW5bMF0pKSAvIHJlc29sdXRpb24gLyB0aWxlU2l6ZVswXTtcbiAgICBsZXQgdGlsZUNvb3JkWSA9IChzY2FsZSAqIChvcmlnaW5bMV0gLSB5KSkgLyByZXNvbHV0aW9uIC8gdGlsZVNpemVbMV07XG5cbiAgICBpZiAocmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSkge1xuICAgICAgdGlsZUNvb3JkWCA9IGNlaWwodGlsZUNvb3JkWCwgREVDSU1BTFMpIC0gMTtcbiAgICAgIHRpbGVDb29yZFkgPSBjZWlsKHRpbGVDb29yZFksIERFQ0lNQUxTKSAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRpbGVDb29yZFggPSBmbG9vcih0aWxlQ29vcmRYLCBERUNJTUFMUyk7XG4gICAgICB0aWxlQ29vcmRZID0gZmxvb3IodGlsZUNvb3JkWSwgREVDSU1BTFMpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVDb29yZCh6LCB0aWxlQ29vcmRYLCB0aWxlQ29vcmRZLCBvcHRfdGlsZUNvb3JkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbHRob3VnaCB0aGVyZSBpcyByZXBldGl0aW9uIGJldHdlZW4gdGhpcyBtZXRob2QgYW5kIGBnZXRUaWxlQ29vcmRGb3JYWUFuZFJlc29sdXRpb25fYCxcbiAgICogdGhleSBzaG91bGQgaGF2ZSBzZXBhcmF0ZSBpbXBsZW1lbnRhdGlvbnMuICBUaGlzIG1ldGhvZCBpcyBmb3IgaW50ZWdlciB6b29tXG4gICAqIGxldmVscy4gIFRoZSBvdGhlciBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGZvciByZXNvbHV0aW9ucyBjb3JyZXNwb25kaW5nXG4gICAqIHRvIG5vbi1pbnRlZ2VyIHpvb20gbGV2ZWxzLlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBNYXAgeCBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBNYXAgeSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBJbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSBJbnN0ZWFkIG9mIGxldHRpbmcgZWRnZVxuICAgKiAgICAgaW50ZXJzZWN0aW9ucyBnbyB0byB0aGUgaGlnaGVyIHRpbGUgY29vcmRpbmF0ZSwgbGV0IGVkZ2UgaW50ZXJzZWN0aW9uc1xuICAgKiAgICAgZ28gdG8gdGhlIGxvd2VyIHRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBbb3B0X3RpbGVDb29yZF0gVGVtcG9yYXJ5IGltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRUaWxlQ29vcmRGb3JYWUFuZFpfKHgsIHksIHosIHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3ksIG9wdF90aWxlQ29vcmQpIHtcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLmdldE9yaWdpbih6KTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKHopO1xuICAgIGNvbnN0IHRpbGVTaXplID0gdG9TaXplKHRoaXMuZ2V0VGlsZVNpemUoeiksIHRoaXMudG1wU2l6ZV8pO1xuXG4gICAgbGV0IHRpbGVDb29yZFggPSAoeCAtIG9yaWdpblswXSkgLyByZXNvbHV0aW9uIC8gdGlsZVNpemVbMF07XG4gICAgbGV0IHRpbGVDb29yZFkgPSAob3JpZ2luWzFdIC0geSkgLyByZXNvbHV0aW9uIC8gdGlsZVNpemVbMV07XG5cbiAgICBpZiAocmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSkge1xuICAgICAgdGlsZUNvb3JkWCA9IGNlaWwodGlsZUNvb3JkWCwgREVDSU1BTFMpIC0gMTtcbiAgICAgIHRpbGVDb29yZFkgPSBjZWlsKHRpbGVDb29yZFksIERFQ0lNQUxTKSAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRpbGVDb29yZFggPSBmbG9vcih0aWxlQ29vcmRYLCBERUNJTUFMUyk7XG4gICAgICB0aWxlQ29vcmRZID0gZmxvb3IodGlsZUNvb3JkWSwgREVDSU1BTFMpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVDb29yZCh6LCB0aWxlQ29vcmRYLCB0aWxlQ29vcmRZLCBvcHRfdGlsZUNvb3JkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSB0aWxlIGNvb3JkaW5hdGUgZ2l2ZW4gYSBtYXAgY29vcmRpbmF0ZSBhbmQgem9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHogWm9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBbb3B0X3RpbGVDb29yZF0gRGVzdGluYXRpb24gaW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZCBvYmplY3QuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRaKGNvb3JkaW5hdGUsIHosIG9wdF90aWxlQ29vcmQpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaWxlQ29vcmRGb3JYWUFuZFpfKFxuICAgICAgY29vcmRpbmF0ZVswXSxcbiAgICAgIGNvb3JkaW5hdGVbMV0sXG4gICAgICB6LFxuICAgICAgZmFsc2UsXG4gICAgICBvcHRfdGlsZUNvb3JkXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGlsZSByZXNvbHV0aW9uLlxuICAgKi9cbiAgZ2V0VGlsZUNvb3JkUmVzb2x1dGlvbih0aWxlQ29vcmQpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNvbHV0aW9uc19bdGlsZUNvb3JkWzBdXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRpbGUgc2l6ZSBmb3IgYSB6b29tIGxldmVsLiBUaGUgdHlwZSBvZiB0aGUgcmV0dXJuIHZhbHVlIG1hdGNoZXMgdGhlXG4gICAqIGB0aWxlU2l6ZWAgb3IgYHRpbGVTaXplc2AgdGhhdCB0aGUgdGlsZSBncmlkIHdhcyBjb25maWd1cmVkIHdpdGguIFRvIGFsd2F5c1xuICAgKiBnZXQgYW4ge0BsaW5rIGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0sIHJ1biB0aGUgcmVzdWx0IHRocm91Z2gge0BsaW5rIG1vZHVsZTpvbC9zaXplLnRvU2l6ZX0uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFouXG4gICAqIEByZXR1cm4ge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFRpbGUgc2l6ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VGlsZVNpemUoeikge1xuICAgIGlmICh0aGlzLnRpbGVTaXplXykge1xuICAgICAgcmV0dXJuIHRoaXMudGlsZVNpemVfO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50aWxlU2l6ZXNfW3pdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFpvb20gbGV2ZWwuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBFeHRlbnQgdGlsZSByYW5nZSBmb3IgdGhlIHNwZWNpZmllZCB6b29tIGxldmVsLlxuICAgKi9cbiAgZ2V0RnVsbFRpbGVSYW5nZSh6KSB7XG4gICAgaWYgKCF0aGlzLmZ1bGxUaWxlUmFuZ2VzXykge1xuICAgICAgcmV0dXJuIHRoaXMuZXh0ZW50X1xuICAgICAgICA/IHRoaXMuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWih0aGlzLmV4dGVudF8sIHopXG4gICAgICAgIDogbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZnVsbFRpbGVSYW5nZXNfW3pdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gW29wdF9kaXJlY3Rpb25dXG4gICAqICAgICBJZiAwLCB0aGUgbmVhcmVzdCByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC5cbiAgICogICAgIElmIDEsIHRoZSBuZWFyZXN0IGhpZ2hlciByZXNvbHV0aW9uIChsb3dlciBaKSB3aWxsIGJlIHVzZWQuIElmIC0xLCB0aGVcbiAgICogICAgIG5lYXJlc3QgbG93ZXIgcmVzb2x1dGlvbiAoaGlnaGVyIFopIHdpbGwgYmUgdXNlZC4gRGVmYXVsdCBpcyAwLlxuICAgKiAgICAgVXNlIGEge0BsaW5rIG1vZHVsZTpvbC9hcnJheX5OZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb259IGZvciBtb3JlIHByZWNpc2UgY29udHJvbC5cbiAgICpcbiAgICogRm9yIGV4YW1wbGUgdG8gY2hhbmdlIHRpbGUgWiBhdCB0aGUgbWlkcG9pbnQgb2Ygem9vbSBsZXZlbHNcbiAgICogYGBganNcbiAgICogZnVuY3Rpb24odmFsdWUsIGhpZ2gsIGxvdykge1xuICAgKiAgIHJldHVybiB2YWx1ZSAtIGxvdyAqIE1hdGguc3FydChoaWdoIC8gbG93KTtcbiAgICogfVxuICAgKiBgYGBcbiAgICogQHJldHVybiB7bnVtYmVyfSBaLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRaRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBvcHRfZGlyZWN0aW9uKSB7XG4gICAgY29uc3QgeiA9IGxpbmVhckZpbmROZWFyZXN0KFxuICAgICAgdGhpcy5yZXNvbHV0aW9uc18sXG4gICAgICByZXNvbHV0aW9uLFxuICAgICAgb3B0X2RpcmVjdGlvbiB8fCAwXG4gICAgKTtcbiAgICByZXR1cm4gY2xhbXAoeiwgdGhpcy5taW5ab29tLCB0aGlzLm1heFpvb20pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB0aWxlIHdpdGggdGhlIHByb3ZpZGVkIHRpbGUgY29vcmRpbmF0ZSBpbnRlcnNlY3RzIHRoZSBnaXZlbiB2aWV3cG9ydC5cbiAgICogQHBhcmFtIHtpbXBvcnQoJy4uL3RpbGVjb29yZC5qcycpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB2aWV3cG9ydCBWaWV3cG9ydCBhcyByZXR1cm5lZCBmcm9tIHtAbGluayBtb2R1bGU6b2wvZXh0ZW50LmdldFJvdGF0ZWRWaWV3cG9ydH0uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0aWxlIHdpdGggdGhlIHByb3ZpZGVkIHRpbGUgY29vcmRpbmF0ZSBpbnRlcnNlY3RzIHRoZSBnaXZlbiB2aWV3cG9ydC5cbiAgICovXG4gIHRpbGVDb29yZEludGVyc2VjdHNWaWV3cG9ydCh0aWxlQ29vcmQsIHZpZXdwb3J0KSB7XG4gICAgcmV0dXJuIGludGVyc2VjdHNMaW5lYXJSaW5nKFxuICAgICAgdmlld3BvcnQsXG4gICAgICAwLFxuICAgICAgdmlld3BvcnQubGVuZ3RoLFxuICAgICAgMixcbiAgICAgIHRoaXMuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGVDb29yZClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IWltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQgZm9yIHRoaXMgdGlsZSBncmlkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY2FsY3VsYXRlVGlsZVJhbmdlc18oZXh0ZW50KSB7XG4gICAgY29uc3QgbGVuZ3RoID0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoO1xuICAgIGNvbnN0IGZ1bGxUaWxlUmFuZ2VzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yIChsZXQgeiA9IHRoaXMubWluWm9vbTsgeiA8IGxlbmd0aDsgKyt6KSB7XG4gICAgICBmdWxsVGlsZVJhbmdlc1t6XSA9IHRoaXMuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHopO1xuICAgIH1cbiAgICB0aGlzLmZ1bGxUaWxlUmFuZ2VzXyA9IGZ1bGxUaWxlUmFuZ2VzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVHcmlkO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3RpbGVncmlkL2NvbW1vblxuICovXG5cbi8qKlxuICogRGVmYXVsdCBtYXhpbXVtIHpvb20gZm9yIGRlZmF1bHQgdGlsZSBncmlkcy5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX01BWF9aT09NID0gNDI7XG5cbi8qKlxuICogRGVmYXVsdCB0aWxlIHNpemUuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9USUxFX1NJWkUgPSAyNTY7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvdHJhbnNmb3JtXG4gKi9cbmltcG9ydCB7V09SS0VSX09GRlNDUkVFTl9DQU5WQVN9IGZyb20gJy4vaGFzLmpzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuL2Fzc2VydHMuanMnO1xuXG4vKipcbiAqIEFuIGFycmF5IHJlcHJlc2VudGluZyBhbiBhZmZpbmUgMmQgdHJhbnNmb3JtYXRpb24gZm9yIHVzZSB3aXRoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3RyYW5zZm9ybX0gZnVuY3Rpb25zLiBUaGUgYXJyYXkgaGFzIDYgZWxlbWVudHMuXG4gKiBAdHlwZWRlZiB7IUFycmF5PG51bWJlcj59IFRyYW5zZm9ybVxuICogQGFwaVxuICovXG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBhZmZpbmUgMmQgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zLiBUaGUgZnVuY3Rpb25zIHdvcmsgb24gYW5cbiAqIGFycmF5IG9mIDYgZWxlbWVudHMuIFRoZSBlbGVtZW50IG9yZGVyIGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgW1NWR01hdHJpeFxuICogaW50ZXJmYWNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU1ZHTWF0cml4KSBhbmQgaXNcbiAqIGEgc3Vic2V0IChlbGVtZW50cyBhIHRvIGYpIG9mIGEgM8OXMyBtYXRyaXg6XG4gKiBgYGBcbiAqIFsgYSBjIGUgXVxuICogWyBiIGQgZiBdXG4gKiBbIDAgMCAxIF1cbiAqIGBgYFxuICovXG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEB0eXBlIHtUcmFuc2Zvcm19XG4gKi9cbmNvbnN0IHRtcF8gPSBuZXcgQXJyYXkoNik7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGlkZW50aXR5IHRyYW5zZm9ybS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IElkZW50aXR5IHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgcmV0dXJuIFsxLCAwLCAwLCAxLCAwLCAwXTtcbn1cblxuLyoqXG4gKiBSZXNldHMgdGhlIGdpdmVuIHRyYW5zZm9ybSB0byBhbiBpZGVudGl0eSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUcmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldCh0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIHNldCh0cmFuc2Zvcm0sIDEsIDAsIDAsIDEsIDAsIDApO1xufVxuXG4vKipcbiAqIE11bHRpcGx5IHRoZSB1bmRlcmx5aW5nIG1hdHJpY2VzIG9mIHR3byB0cmFuc2Zvcm1zIGFuZCByZXR1cm4gdGhlIHJlc3VsdCBpblxuICogdGhlIGZpcnN0IHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMSBUcmFuc2Zvcm0gcGFyYW1ldGVycyBvZiBtYXRyaXggMS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMiBUcmFuc2Zvcm0gcGFyYW1ldGVycyBvZiBtYXRyaXggMi5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IHRyYW5zZm9ybTEgbXVsdGlwbGllZCB3aXRoIHRyYW5zZm9ybTIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseSh0cmFuc2Zvcm0xLCB0cmFuc2Zvcm0yKSB7XG4gIGNvbnN0IGExID0gdHJhbnNmb3JtMVswXTtcbiAgY29uc3QgYjEgPSB0cmFuc2Zvcm0xWzFdO1xuICBjb25zdCBjMSA9IHRyYW5zZm9ybTFbMl07XG4gIGNvbnN0IGQxID0gdHJhbnNmb3JtMVszXTtcbiAgY29uc3QgZTEgPSB0cmFuc2Zvcm0xWzRdO1xuICBjb25zdCBmMSA9IHRyYW5zZm9ybTFbNV07XG4gIGNvbnN0IGEyID0gdHJhbnNmb3JtMlswXTtcbiAgY29uc3QgYjIgPSB0cmFuc2Zvcm0yWzFdO1xuICBjb25zdCBjMiA9IHRyYW5zZm9ybTJbMl07XG4gIGNvbnN0IGQyID0gdHJhbnNmb3JtMlszXTtcbiAgY29uc3QgZTIgPSB0cmFuc2Zvcm0yWzRdO1xuICBjb25zdCBmMiA9IHRyYW5zZm9ybTJbNV07XG5cbiAgdHJhbnNmb3JtMVswXSA9IGExICogYTIgKyBjMSAqIGIyO1xuICB0cmFuc2Zvcm0xWzFdID0gYjEgKiBhMiArIGQxICogYjI7XG4gIHRyYW5zZm9ybTFbMl0gPSBhMSAqIGMyICsgYzEgKiBkMjtcbiAgdHJhbnNmb3JtMVszXSA9IGIxICogYzIgKyBkMSAqIGQyO1xuICB0cmFuc2Zvcm0xWzRdID0gYTEgKiBlMiArIGMxICogZjIgKyBlMTtcbiAgdHJhbnNmb3JtMVs1XSA9IGIxICogZTIgKyBkMSAqIGYyICsgZjE7XG5cbiAgcmV0dXJuIHRyYW5zZm9ybTE7XG59XG5cbi8qKlxuICogU2V0IHRoZSB0cmFuc2Zvcm0gY29tcG9uZW50cyBhLWYgb24gYSBnaXZlbiB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gYSBUaGUgYSBjb21wb25lbnQgb2YgdGhlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiIFRoZSBiIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGMgVGhlIGMgY29tcG9uZW50IG9mIHRoZSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gZCBUaGUgZCBjb21wb25lbnQgb2YgdGhlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlIFRoZSBlIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGYgVGhlIGYgY29tcG9uZW50IG9mIHRoZSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBNYXRyaXggd2l0aCB0cmFuc2Zvcm0gYXBwbGllZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldCh0cmFuc2Zvcm0sIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdHJhbnNmb3JtWzBdID0gYTtcbiAgdHJhbnNmb3JtWzFdID0gYjtcbiAgdHJhbnNmb3JtWzJdID0gYztcbiAgdHJhbnNmb3JtWzNdID0gZDtcbiAgdHJhbnNmb3JtWzRdID0gZTtcbiAgdHJhbnNmb3JtWzVdID0gZjtcbiAgcmV0dXJuIHRyYW5zZm9ybTtcbn1cblxuLyoqXG4gKiBTZXQgdHJhbnNmb3JtIG9uIG9uZSBtYXRyaXggZnJvbSBhbm90aGVyIG1hdHJpeC5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMSBNYXRyaXggdG8gc2V0IHRyYW5zZm9ybSB0by5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMiBNYXRyaXggdG8gc2V0IHRyYW5zZm9ybSBmcm9tLlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtMSB3aXRoIHRyYW5zZm9ybSBmcm9tIHRyYW5zZm9ybTIgYXBwbGllZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEZyb21BcnJheSh0cmFuc2Zvcm0xLCB0cmFuc2Zvcm0yKSB7XG4gIHRyYW5zZm9ybTFbMF0gPSB0cmFuc2Zvcm0yWzBdO1xuICB0cmFuc2Zvcm0xWzFdID0gdHJhbnNmb3JtMlsxXTtcbiAgdHJhbnNmb3JtMVsyXSA9IHRyYW5zZm9ybTJbMl07XG4gIHRyYW5zZm9ybTFbM10gPSB0cmFuc2Zvcm0yWzNdO1xuICB0cmFuc2Zvcm0xWzRdID0gdHJhbnNmb3JtMls0XTtcbiAgdHJhbnNmb3JtMVs1XSA9IHRyYW5zZm9ybTJbNV07XG4gIHJldHVybiB0cmFuc2Zvcm0xO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIGdpdmVuIGNvb3JkaW5hdGUgd2l0aCB0aGUgZ2l2ZW4gdHJhbnNmb3JtIHJldHVybmluZyB0aGVcbiAqIHJlc3VsdGluZywgdHJhbnNmb3JtZWQgY29vcmRpbmF0ZS4gVGhlIGNvb3JkaW5hdGUgd2lsbCBiZSBtb2RpZmllZCBpbi1wbGFjZS5cbiAqXG4gKiBAcGFyYW0ge1RyYW5zZm9ybX0gdHJhbnNmb3JtIFRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gY29vcmRpbmF0ZSBUaGUgY29vcmRpbmF0ZSB0byB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXxpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSByZXR1cm4gY29vcmRpbmF0ZSBzbyB0aGF0IG9wZXJhdGlvbnMgY2FuIGJlXG4gKiAgICAgY2hhaW5lZCB0b2dldGhlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5KHRyYW5zZm9ybSwgY29vcmRpbmF0ZSkge1xuICBjb25zdCB4ID0gY29vcmRpbmF0ZVswXTtcbiAgY29uc3QgeSA9IGNvb3JkaW5hdGVbMV07XG4gIGNvb3JkaW5hdGVbMF0gPSB0cmFuc2Zvcm1bMF0gKiB4ICsgdHJhbnNmb3JtWzJdICogeSArIHRyYW5zZm9ybVs0XTtcbiAgY29vcmRpbmF0ZVsxXSA9IHRyYW5zZm9ybVsxXSAqIHggKyB0cmFuc2Zvcm1bM10gKiB5ICsgdHJhbnNmb3JtWzVdO1xuICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cblxuLyoqXG4gKiBBcHBsaWVzIHJvdGF0aW9uIHRvIHRoZSBnaXZlbiB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgQW5nbGUgaW4gcmFkaWFucy5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSByb3RhdGVkIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZSh0cmFuc2Zvcm0sIGFuZ2xlKSB7XG4gIGNvbnN0IGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgY29uc3Qgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICByZXR1cm4gbXVsdGlwbHkodHJhbnNmb3JtLCBzZXQodG1wXywgY29zLCBzaW4sIC1zaW4sIGNvcywgMCwgMCkpO1xufVxuXG4vKipcbiAqIEFwcGxpZXMgc2NhbGUgdG8gYSBnaXZlbiB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0geCBTY2FsZSBmYWN0b3IgeC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFNjYWxlIGZhY3RvciB5LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIHNjYWxlZCB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZSh0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgcmV0dXJuIG11bHRpcGx5KHRyYW5zZm9ybSwgc2V0KHRtcF8sIHgsIDAsIDAsIHksIDAsIDApKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc2NhbGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0YXJnZXQgVHJhbnNmb3JtIHRvIG92ZXJ3cml0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFNjYWxlIGZhY3RvciB4LlxuICogQHBhcmFtIHtudW1iZXJ9IHkgU2NhbGUgZmFjdG9yIHkuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgc2NhbGUgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZVNjYWxlKHRhcmdldCwgeCwgeSkge1xuICByZXR1cm4gc2V0KHRhcmdldCwgeCwgMCwgMCwgeSwgMCwgMCk7XG59XG5cbi8qKlxuICogQXBwbGllcyB0cmFuc2xhdGlvbiB0byB0aGUgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGR4IFRyYW5zbGF0aW9uIHguXG4gKiBAcGFyYW0ge251bWJlcn0gZHkgVHJhbnNsYXRpb24geS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSB0cmFuc2xhdGVkIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZSh0cmFuc2Zvcm0sIGR4LCBkeSkge1xuICByZXR1cm4gbXVsdGlwbHkodHJhbnNmb3JtLCBzZXQodG1wXywgMSwgMCwgMCwgMSwgZHgsIGR5KSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNvbXBvc2l0ZSB0cmFuc2Zvcm0gZ2l2ZW4gYW4gaW5pdGlhbCB0cmFuc2xhdGlvbiwgc2NhbGUsIHJvdGF0aW9uLCBhbmRcbiAqIGZpbmFsIHRyYW5zbGF0aW9uIChpbiB0aGF0IG9yZGVyIG9ubHksIG5vdCBjb21tdXRhdGl2ZSkuXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybSBUaGUgdHJhbnNmb3JtICh3aWxsIGJlIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeDEgSW5pdGlhbCB0cmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5MSBJbml0aWFsIHRyYW5zbGF0aW9uIHkuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ggU2NhbGUgZmFjdG9yIHguXG4gKiBAcGFyYW0ge251bWJlcn0gc3kgU2NhbGUgZmFjdG9yIHkuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgUm90YXRpb24gKGluIGNvdW50ZXItY2xvY2t3aXNlIHJhZGlhbnMpLlxuICogQHBhcmFtIHtudW1iZXJ9IGR4MiBGaW5hbCB0cmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5MiBGaW5hbCB0cmFuc2xhdGlvbiB5LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIGNvbXBvc2l0ZSB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb3NlKHRyYW5zZm9ybSwgZHgxLCBkeTEsIHN4LCBzeSwgYW5nbGUsIGR4MiwgZHkyKSB7XG4gIGNvbnN0IHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICB0cmFuc2Zvcm1bMF0gPSBzeCAqIGNvcztcbiAgdHJhbnNmb3JtWzFdID0gc3kgKiBzaW47XG4gIHRyYW5zZm9ybVsyXSA9IC1zeCAqIHNpbjtcbiAgdHJhbnNmb3JtWzNdID0gc3kgKiBjb3M7XG4gIHRyYW5zZm9ybVs0XSA9IGR4MiAqIHN4ICogY29zIC0gZHkyICogc3ggKiBzaW4gKyBkeDE7XG4gIHRyYW5zZm9ybVs1XSA9IGR4MiAqIHN5ICogc2luICsgZHkyICogc3kgKiBjb3MgKyBkeTE7XG4gIHJldHVybiB0cmFuc2Zvcm07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNvbXBvc2l0ZSB0cmFuc2Zvcm0gZ2l2ZW4gYW4gaW5pdGlhbCB0cmFuc2xhdGlvbiwgc2NhbGUsIHJvdGF0aW9uLCBhbmRcbiAqIGZpbmFsIHRyYW5zbGF0aW9uIChpbiB0aGF0IG9yZGVyIG9ubHksIG5vdCBjb21tdXRhdGl2ZSkuIFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtXG4gKiBzdHJpbmcgY2FuIGJlIGFwcGxpZWQgYXMgYHRyYW5zZm9ybWAgcHJvcGVydHkgb2YgYW4gSFRNTEVsZW1lbnQncyBzdHlsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeDEgSW5pdGlhbCB0cmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5MSBJbml0aWFsIHRyYW5zbGF0aW9uIHkuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ggU2NhbGUgZmFjdG9yIHguXG4gKiBAcGFyYW0ge251bWJlcn0gc3kgU2NhbGUgZmFjdG9yIHkuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgUm90YXRpb24gKGluIGNvdW50ZXItY2xvY2t3aXNlIHJhZGlhbnMpLlxuICogQHBhcmFtIHtudW1iZXJ9IGR4MiBGaW5hbCB0cmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5MiBGaW5hbCB0cmFuc2xhdGlvbiB5LlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29tcG9zaXRlIGNzcyB0cmFuc2Zvcm0uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb3NlQ3NzVHJhbnNmb3JtKGR4MSwgZHkxLCBzeCwgc3ksIGFuZ2xlLCBkeDIsIGR5Mikge1xuICByZXR1cm4gdG9TdHJpbmcoY29tcG9zZShjcmVhdGUoKSwgZHgxLCBkeTEsIHN4LCBzeSwgYW5nbGUsIGR4MiwgZHkyKSk7XG59XG5cbi8qKlxuICogSW52ZXJ0IHRoZSBnaXZlbiB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHNvdXJjZSBUaGUgc291cmNlIHRyYW5zZm9ybSB0byBpbnZlcnQuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgaW52ZXJ0ZWQgKHNvdXJjZSkgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KHNvdXJjZSkge1xuICByZXR1cm4gbWFrZUludmVyc2Uoc291cmNlLCBzb3VyY2UpO1xufVxuXG4vKipcbiAqIEludmVydCB0aGUgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0YXJnZXQgVHJhbnNmb3JtIHRvIGJlIHNldCBhcyB0aGUgaW52ZXJzZSBvZlxuICogICAgIHRoZSBzb3VyY2UgdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSBzb3VyY2UgVGhlIHNvdXJjZSB0cmFuc2Zvcm0gdG8gaW52ZXJ0LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIGludmVydGVkICh0YXJnZXQpIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VJbnZlcnNlKHRhcmdldCwgc291cmNlKSB7XG4gIGNvbnN0IGRldCA9IGRldGVybWluYW50KHNvdXJjZSk7XG4gIGFzc2VydChkZXQgIT09IDAsIDMyKTsgLy8gVHJhbnNmb3JtYXRpb24gbWF0cml4IGNhbm5vdCBiZSBpbnZlcnRlZFxuXG4gIGNvbnN0IGEgPSBzb3VyY2VbMF07XG4gIGNvbnN0IGIgPSBzb3VyY2VbMV07XG4gIGNvbnN0IGMgPSBzb3VyY2VbMl07XG4gIGNvbnN0IGQgPSBzb3VyY2VbM107XG4gIGNvbnN0IGUgPSBzb3VyY2VbNF07XG4gIGNvbnN0IGYgPSBzb3VyY2VbNV07XG5cbiAgdGFyZ2V0WzBdID0gZCAvIGRldDtcbiAgdGFyZ2V0WzFdID0gLWIgLyBkZXQ7XG4gIHRhcmdldFsyXSA9IC1jIC8gZGV0O1xuICB0YXJnZXRbM10gPSBhIC8gZGV0O1xuICB0YXJnZXRbNF0gPSAoYyAqIGYgLSBkICogZSkgLyBkZXQ7XG4gIHRhcmdldFs1XSA9IC0oYSAqIGYgLSBiICogZSkgLyBkZXQ7XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkZXRlcm1pbmFudCBvZiB0aGUgZ2l2ZW4gbWF0cml4LlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSBtYXQgTWF0cml4LlxuICogQHJldHVybiB7bnVtYmVyfSBEZXRlcm1pbmFudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KG1hdCkge1xuICByZXR1cm4gbWF0WzBdICogbWF0WzNdIC0gbWF0WzFdICogbWF0WzJdO1xufVxuXG4vKipcbiAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAqIEBwcml2YXRlXG4gKi9cbmxldCB0cmFuc2Zvcm1TdHJpbmdEaXY7XG5cbi8qKlxuICogQSByb3VuZGVkIHN0cmluZyB2ZXJzaW9uIG9mIHRoZSB0cmFuc2Zvcm0uICBUaGlzIGNhbiBiZSB1c2VkXG4gKiBmb3IgQ1NTIHRyYW5zZm9ybXMuXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IG1hdCBNYXRyaXguXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0cmFuc2Zvcm0gYXMgYSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZyhtYXQpIHtcbiAgY29uc3QgdHJhbnNmb3JtU3RyaW5nID0gJ21hdHJpeCgnICsgbWF0LmpvaW4oJywgJykgKyAnKSc7XG4gIGlmIChXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBUykge1xuICAgIHJldHVybiB0cmFuc2Zvcm1TdHJpbmc7XG4gIH1cbiAgY29uc3Qgbm9kZSA9XG4gICAgdHJhbnNmb3JtU3RyaW5nRGl2IHx8ICh0cmFuc2Zvcm1TdHJpbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XG4gIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtU3RyaW5nO1xuICByZXR1cm4gbm9kZS5zdHlsZS50cmFuc2Zvcm07XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvdXRpbFxuICovXG5cbi8qKlxuICogQHJldHVybiB7bmV2ZXJ9IEFueSByZXR1cm4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhYnN0cmFjdCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdVbmltcGxlbWVudGVkIGFic3RyYWN0IG1ldGhvZC4nKTtcbn1cblxuLyoqXG4gKiBDb3VudGVyIGZvciBnZXRVaWQuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQHByaXZhdGVcbiAqL1xubGV0IHVpZENvdW50ZXJfID0gMDtcblxuLyoqXG4gKiBHZXRzIGEgdW5pcXVlIElEIGZvciBhbiBvYmplY3QuIFRoaXMgbXV0YXRlcyB0aGUgb2JqZWN0IHNvIHRoYXQgZnVydGhlciBjYWxsc1xuICogd2l0aCB0aGUgc2FtZSBvYmplY3QgYXMgYSBwYXJhbWV0ZXIgcmV0dXJucyB0aGUgc2FtZSB2YWx1ZS4gVW5pcXVlIElEcyBhcmUgZ2VuZXJhdGVkXG4gKiBhcyBhIHN0cmljdGx5IGluY3JlYXNpbmcgc2VxdWVuY2UuIEFkYXB0ZWQgZnJvbSBnb29nLmdldFVpZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gZ2V0IHRoZSB1bmlxdWUgSUQgZm9yLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdW5pcXVlIElEIGZvciB0aGUgb2JqZWN0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VWlkKG9iaikge1xuICByZXR1cm4gb2JqLm9sX3VpZCB8fCAob2JqLm9sX3VpZCA9IFN0cmluZygrK3VpZENvdW50ZXJfKSk7XG59XG5cbi8qKlxuICogT3BlbkxheWVycyB2ZXJzaW9uLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNy4yLjInO1xuIiwiXG4vKiEgcGFrbyAyLjEuMCBodHRwczovL2dpdGh1Yi5jb20vbm9kZWNhL3Bha28gQGxpY2Vuc2UgKE1JVCBBTkQgWmxpYikgKi9cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxuLyogZXNsaW50LWRpc2FibGUgc3BhY2UtdW5hcnktb3BzICovXG5cbi8qIFB1YmxpYyBjb25zdGFudHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbi8vY29uc3QgWl9GSUxURVJFRCAgICAgICAgICA9IDE7XG4vL2NvbnN0IFpfSFVGRk1BTl9PTkxZICAgICAgPSAyO1xuLy9jb25zdCBaX1JMRSAgICAgICAgICAgICAgID0gMztcbmNvbnN0IFpfRklYRUQkMSAgICAgICAgICAgICAgID0gNDtcbi8vY29uc3QgWl9ERUZBVUxUX1NUUkFURUdZICA9IDA7XG5cbi8qIFBvc3NpYmxlIHZhbHVlcyBvZiB0aGUgZGF0YV90eXBlIGZpZWxkICh0aG91Z2ggc2VlIGluZmxhdGUoKSkgKi9cbmNvbnN0IFpfQklOQVJZICAgICAgICAgICAgICA9IDA7XG5jb25zdCBaX1RFWFQgICAgICAgICAgICAgICAgPSAxO1xuLy9jb25zdCBaX0FTQ0lJICAgICAgICAgICAgID0gMTsgLy8gPSBaX1RFWFRcbmNvbnN0IFpfVU5LTk9XTiQxICAgICAgICAgICAgID0gMjtcblxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG5mdW5jdGlvbiB6ZXJvJDEoYnVmKSB7IGxldCBsZW4gPSBidWYubGVuZ3RoOyB3aGlsZSAoLS1sZW4gPj0gMCkgeyBidWZbbGVuXSA9IDA7IH0gfVxuXG4vLyBGcm9tIHp1dGlsLmhcblxuY29uc3QgU1RPUkVEX0JMT0NLID0gMDtcbmNvbnN0IFNUQVRJQ19UUkVFUyA9IDE7XG5jb25zdCBEWU5fVFJFRVMgICAgPSAyO1xuLyogVGhlIHRocmVlIGtpbmRzIG9mIGJsb2NrIHR5cGUgKi9cblxuY29uc3QgTUlOX01BVENIJDEgICAgPSAzO1xuY29uc3QgTUFYX01BVENIJDEgICAgPSAyNTg7XG4vKiBUaGUgbWluaW11bSBhbmQgbWF4aW11bSBtYXRjaCBsZW5ndGhzICovXG5cbi8vIEZyb20gZGVmbGF0ZS5oXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEludGVybmFsIGNvbXByZXNzaW9uIHN0YXRlLlxuICovXG5cbmNvbnN0IExFTkdUSF9DT0RFUyQxICA9IDI5O1xuLyogbnVtYmVyIG9mIGxlbmd0aCBjb2Rlcywgbm90IGNvdW50aW5nIHRoZSBzcGVjaWFsIEVORF9CTE9DSyBjb2RlICovXG5cbmNvbnN0IExJVEVSQUxTJDEgICAgICA9IDI1Njtcbi8qIG51bWJlciBvZiBsaXRlcmFsIGJ5dGVzIDAuLjI1NSAqL1xuXG5jb25zdCBMX0NPREVTJDEgICAgICAgPSBMSVRFUkFMUyQxICsgMSArIExFTkdUSF9DT0RFUyQxO1xuLyogbnVtYmVyIG9mIExpdGVyYWwgb3IgTGVuZ3RoIGNvZGVzLCBpbmNsdWRpbmcgdGhlIEVORF9CTE9DSyBjb2RlICovXG5cbmNvbnN0IERfQ09ERVMkMSAgICAgICA9IDMwO1xuLyogbnVtYmVyIG9mIGRpc3RhbmNlIGNvZGVzICovXG5cbmNvbnN0IEJMX0NPREVTJDEgICAgICA9IDE5O1xuLyogbnVtYmVyIG9mIGNvZGVzIHVzZWQgdG8gdHJhbnNmZXIgdGhlIGJpdCBsZW5ndGhzICovXG5cbmNvbnN0IEhFQVBfU0laRSQxICAgICA9IDIgKiBMX0NPREVTJDEgKyAxO1xuLyogbWF4aW11bSBoZWFwIHNpemUgKi9cblxuY29uc3QgTUFYX0JJVFMkMSAgICAgID0gMTU7XG4vKiBBbGwgY29kZXMgbXVzdCBub3QgZXhjZWVkIE1BWF9CSVRTIGJpdHMgKi9cblxuY29uc3QgQnVmX3NpemUgICAgICA9IDE2O1xuLyogc2l6ZSBvZiBiaXQgYnVmZmVyIGluIGJpX2J1ZiAqL1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29uc3RhbnRzXG4gKi9cblxuY29uc3QgTUFYX0JMX0JJVFMgPSA3O1xuLyogQml0IGxlbmd0aCBjb2RlcyBtdXN0IG5vdCBleGNlZWQgTUFYX0JMX0JJVFMgYml0cyAqL1xuXG5jb25zdCBFTkRfQkxPQ0sgICA9IDI1Njtcbi8qIGVuZCBvZiBibG9jayBsaXRlcmFsIGNvZGUgKi9cblxuY29uc3QgUkVQXzNfNiAgICAgPSAxNjtcbi8qIHJlcGVhdCBwcmV2aW91cyBiaXQgbGVuZ3RoIDMtNiB0aW1lcyAoMiBiaXRzIG9mIHJlcGVhdCBjb3VudCkgKi9cblxuY29uc3QgUkVQWl8zXzEwICAgPSAxNztcbi8qIHJlcGVhdCBhIHplcm8gbGVuZ3RoIDMtMTAgdGltZXMgICgzIGJpdHMgb2YgcmVwZWF0IGNvdW50KSAqL1xuXG5jb25zdCBSRVBaXzExXzEzOCA9IDE4O1xuLyogcmVwZWF0IGEgemVybyBsZW5ndGggMTEtMTM4IHRpbWVzICAoNyBiaXRzIG9mIHJlcGVhdCBjb3VudCkgKi9cblxuLyogZXNsaW50LWRpc2FibGUgY29tbWEtc3BhY2luZyxhcnJheS1icmFja2V0LXNwYWNpbmcgKi9cbmNvbnN0IGV4dHJhX2xiaXRzID0gICAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGxlbmd0aCBjb2RlICovXG4gIG5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDBdKTtcblxuY29uc3QgZXh0cmFfZGJpdHMgPSAgIC8qIGV4dHJhIGJpdHMgZm9yIGVhY2ggZGlzdGFuY2UgY29kZSAqL1xuICBuZXcgVWludDhBcnJheShbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxM10pO1xuXG5jb25zdCBleHRyYV9ibGJpdHMgPSAgLyogZXh0cmEgYml0cyBmb3IgZWFjaCBiaXQgbGVuZ3RoIGNvZGUgKi9cbiAgbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMiwzLDddKTtcblxuY29uc3QgYmxfb3JkZXIgPVxuICBuZXcgVWludDhBcnJheShbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pO1xuLyogZXNsaW50LWVuYWJsZSBjb21tYS1zcGFjaW5nLGFycmF5LWJyYWNrZXQtc3BhY2luZyAqL1xuXG4vKiBUaGUgbGVuZ3RocyBvZiB0aGUgYml0IGxlbmd0aCBjb2RlcyBhcmUgc2VudCBpbiBvcmRlciBvZiBkZWNyZWFzaW5nXG4gKiBwcm9iYWJpbGl0eSwgdG8gYXZvaWQgdHJhbnNtaXR0aW5nIHRoZSBsZW5ndGhzIGZvciB1bnVzZWQgYml0IGxlbmd0aCBjb2Rlcy5cbiAqL1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIExvY2FsIGRhdGEuIFRoZXNlIGFyZSBpbml0aWFsaXplZCBvbmx5IG9uY2UuXG4gKi9cblxuLy8gV2UgcHJlLWZpbGwgYXJyYXlzIHdpdGggMCB0byBhdm9pZCB1bmluaXRpYWxpemVkIGdhcHNcblxuY29uc3QgRElTVF9DT0RFX0xFTiA9IDUxMjsgLyogc2VlIGRlZmluaXRpb24gb2YgYXJyYXkgZGlzdF9jb2RlIGJlbG93ICovXG5cbi8vICEhISEgVXNlIGZsYXQgYXJyYXkgaW5zdGVhZCBvZiBzdHJ1Y3R1cmUsIEZyZXEgPSBpKjIsIExlbiA9IGkqMisxXG5jb25zdCBzdGF0aWNfbHRyZWUgID0gbmV3IEFycmF5KChMX0NPREVTJDEgKyAyKSAqIDIpO1xuemVybyQxKHN0YXRpY19sdHJlZSk7XG4vKiBUaGUgc3RhdGljIGxpdGVyYWwgdHJlZS4gU2luY2UgdGhlIGJpdCBsZW5ndGhzIGFyZSBpbXBvc2VkLCB0aGVyZSBpcyBub1xuICogbmVlZCBmb3IgdGhlIExfQ09ERVMgZXh0cmEgY29kZXMgdXNlZCBkdXJpbmcgaGVhcCBjb25zdHJ1Y3Rpb24uIEhvd2V2ZXJcbiAqIFRoZSBjb2RlcyAyODYgYW5kIDI4NyBhcmUgbmVlZGVkIHRvIGJ1aWxkIGEgY2Fub25pY2FsIHRyZWUgKHNlZSBfdHJfaW5pdFxuICogYmVsb3cpLlxuICovXG5cbmNvbnN0IHN0YXRpY19kdHJlZSAgPSBuZXcgQXJyYXkoRF9DT0RFUyQxICogMik7XG56ZXJvJDEoc3RhdGljX2R0cmVlKTtcbi8qIFRoZSBzdGF0aWMgZGlzdGFuY2UgdHJlZS4gKEFjdHVhbGx5IGEgdHJpdmlhbCB0cmVlIHNpbmNlIGFsbCBjb2RlcyB1c2VcbiAqIDUgYml0cy4pXG4gKi9cblxuY29uc3QgX2Rpc3RfY29kZSAgICA9IG5ldyBBcnJheShESVNUX0NPREVfTEVOKTtcbnplcm8kMShfZGlzdF9jb2RlKTtcbi8qIERpc3RhbmNlIGNvZGVzLiBUaGUgZmlyc3QgMjU2IHZhbHVlcyBjb3JyZXNwb25kIHRvIHRoZSBkaXN0YW5jZXNcbiAqIDMgLi4gMjU4LCB0aGUgbGFzdCAyNTYgdmFsdWVzIGNvcnJlc3BvbmQgdG8gdGhlIHRvcCA4IGJpdHMgb2ZcbiAqIHRoZSAxNSBiaXQgZGlzdGFuY2VzLlxuICovXG5cbmNvbnN0IF9sZW5ndGhfY29kZSAgPSBuZXcgQXJyYXkoTUFYX01BVENIJDEgLSBNSU5fTUFUQ0gkMSArIDEpO1xuemVybyQxKF9sZW5ndGhfY29kZSk7XG4vKiBsZW5ndGggY29kZSBmb3IgZWFjaCBub3JtYWxpemVkIG1hdGNoIGxlbmd0aCAoMCA9PSBNSU5fTUFUQ0gpICovXG5cbmNvbnN0IGJhc2VfbGVuZ3RoICAgPSBuZXcgQXJyYXkoTEVOR1RIX0NPREVTJDEpO1xuemVybyQxKGJhc2VfbGVuZ3RoKTtcbi8qIEZpcnN0IG5vcm1hbGl6ZWQgbGVuZ3RoIGZvciBlYWNoIGNvZGUgKDAgPSBNSU5fTUFUQ0gpICovXG5cbmNvbnN0IGJhc2VfZGlzdCAgICAgPSBuZXcgQXJyYXkoRF9DT0RFUyQxKTtcbnplcm8kMShiYXNlX2Rpc3QpO1xuLyogRmlyc3Qgbm9ybWFsaXplZCBkaXN0YW5jZSBmb3IgZWFjaCBjb2RlICgwID0gZGlzdGFuY2Ugb2YgMSkgKi9cblxuXG5mdW5jdGlvbiBTdGF0aWNUcmVlRGVzYyhzdGF0aWNfdHJlZSwgZXh0cmFfYml0cywgZXh0cmFfYmFzZSwgZWxlbXMsIG1heF9sZW5ndGgpIHtcblxuICB0aGlzLnN0YXRpY190cmVlICA9IHN0YXRpY190cmVlOyAgLyogc3RhdGljIHRyZWUgb3IgTlVMTCAqL1xuICB0aGlzLmV4dHJhX2JpdHMgICA9IGV4dHJhX2JpdHM7ICAgLyogZXh0cmEgYml0cyBmb3IgZWFjaCBjb2RlIG9yIE5VTEwgKi9cbiAgdGhpcy5leHRyYV9iYXNlICAgPSBleHRyYV9iYXNlOyAgIC8qIGJhc2UgaW5kZXggZm9yIGV4dHJhX2JpdHMgKi9cbiAgdGhpcy5lbGVtcyAgICAgICAgPSBlbGVtczsgICAgICAgIC8qIG1heCBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIHRyZWUgKi9cbiAgdGhpcy5tYXhfbGVuZ3RoICAgPSBtYXhfbGVuZ3RoOyAgIC8qIG1heCBiaXQgbGVuZ3RoIGZvciB0aGUgY29kZXMgKi9cblxuICAvLyBzaG93IGlmIGBzdGF0aWNfdHJlZWAgaGFzIGRhdGEgb3IgZHVtbXkgLSBuZWVkZWQgZm9yIG1vbm9tb3JwaGljIG9iamVjdHNcbiAgdGhpcy5oYXNfc3RyZWUgICAgPSBzdGF0aWNfdHJlZSAmJiBzdGF0aWNfdHJlZS5sZW5ndGg7XG59XG5cblxubGV0IHN0YXRpY19sX2Rlc2M7XG5sZXQgc3RhdGljX2RfZGVzYztcbmxldCBzdGF0aWNfYmxfZGVzYztcblxuXG5mdW5jdGlvbiBUcmVlRGVzYyhkeW5fdHJlZSwgc3RhdF9kZXNjKSB7XG4gIHRoaXMuZHluX3RyZWUgPSBkeW5fdHJlZTsgICAgIC8qIHRoZSBkeW5hbWljIHRyZWUgKi9cbiAgdGhpcy5tYXhfY29kZSA9IDA7ICAgICAgICAgICAgLyogbGFyZ2VzdCBjb2RlIHdpdGggbm9uIHplcm8gZnJlcXVlbmN5ICovXG4gIHRoaXMuc3RhdF9kZXNjID0gc3RhdF9kZXNjOyAgIC8qIHRoZSBjb3JyZXNwb25kaW5nIHN0YXRpYyB0cmVlICovXG59XG5cblxuXG5jb25zdCBkX2NvZGUgPSAoZGlzdCkgPT4ge1xuXG4gIHJldHVybiBkaXN0IDwgMjU2ID8gX2Rpc3RfY29kZVtkaXN0XSA6IF9kaXN0X2NvZGVbMjU2ICsgKGRpc3QgPj4+IDcpXTtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBPdXRwdXQgYSBzaG9ydCBMU0IgZmlyc3Qgb24gdGhlIHN0cmVhbS5cbiAqIElOIGFzc2VydGlvbjogdGhlcmUgaXMgZW5vdWdoIHJvb20gaW4gcGVuZGluZ0J1Zi5cbiAqL1xuY29uc3QgcHV0X3Nob3J0ID0gKHMsIHcpID0+IHtcbi8vICAgIHB1dF9ieXRlKHMsICh1Y2gpKCh3KSAmIDB4ZmYpKTtcbi8vICAgIHB1dF9ieXRlKHMsICh1Y2gpKCh1c2gpKHcpID4+IDgpKTtcbiAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSAodykgJiAweGZmO1xuICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9ICh3ID4+PiA4KSAmIDB4ZmY7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2VuZCBhIHZhbHVlIG9uIGEgZ2l2ZW4gbnVtYmVyIG9mIGJpdHMuXG4gKiBJTiBhc3NlcnRpb246IGxlbmd0aCA8PSAxNiBhbmQgdmFsdWUgZml0cyBpbiBsZW5ndGggYml0cy5cbiAqL1xuY29uc3Qgc2VuZF9iaXRzID0gKHMsIHZhbHVlLCBsZW5ndGgpID0+IHtcblxuICBpZiAocy5iaV92YWxpZCA+IChCdWZfc2l6ZSAtIGxlbmd0aCkpIHtcbiAgICBzLmJpX2J1ZiB8PSAodmFsdWUgPDwgcy5iaV92YWxpZCkgJiAweGZmZmY7XG4gICAgcHV0X3Nob3J0KHMsIHMuYmlfYnVmKTtcbiAgICBzLmJpX2J1ZiA9IHZhbHVlID4+IChCdWZfc2l6ZSAtIHMuYmlfdmFsaWQpO1xuICAgIHMuYmlfdmFsaWQgKz0gbGVuZ3RoIC0gQnVmX3NpemU7XG4gIH0gZWxzZSB7XG4gICAgcy5iaV9idWYgfD0gKHZhbHVlIDw8IHMuYmlfdmFsaWQpICYgMHhmZmZmO1xuICAgIHMuYmlfdmFsaWQgKz0gbGVuZ3RoO1xuICB9XG59O1xuXG5cbmNvbnN0IHNlbmRfY29kZSA9IChzLCBjLCB0cmVlKSA9PiB7XG5cbiAgc2VuZF9iaXRzKHMsIHRyZWVbYyAqIDJdLyouQ29kZSovLCB0cmVlW2MgKiAyICsgMV0vKi5MZW4qLyk7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogUmV2ZXJzZSB0aGUgZmlyc3QgbGVuIGJpdHMgb2YgYSBjb2RlLCB1c2luZyBzdHJhaWdodGZvcndhcmQgY29kZSAoYSBmYXN0ZXJcbiAqIG1ldGhvZCB3b3VsZCB1c2UgYSB0YWJsZSlcbiAqIElOIGFzc2VydGlvbjogMSA8PSBsZW4gPD0gMTVcbiAqL1xuY29uc3QgYmlfcmV2ZXJzZSA9IChjb2RlLCBsZW4pID0+IHtcblxuICBsZXQgcmVzID0gMDtcbiAgZG8ge1xuICAgIHJlcyB8PSBjb2RlICYgMTtcbiAgICBjb2RlID4+Pj0gMTtcbiAgICByZXMgPDw9IDE7XG4gIH0gd2hpbGUgKC0tbGVuID4gMCk7XG4gIHJldHVybiByZXMgPj4+IDE7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogRmx1c2ggdGhlIGJpdCBidWZmZXIsIGtlZXBpbmcgYXQgbW9zdCA3IGJpdHMgaW4gaXQuXG4gKi9cbmNvbnN0IGJpX2ZsdXNoID0gKHMpID0+IHtcblxuICBpZiAocy5iaV92YWxpZCA9PT0gMTYpIHtcbiAgICBwdXRfc2hvcnQocywgcy5iaV9idWYpO1xuICAgIHMuYmlfYnVmID0gMDtcbiAgICBzLmJpX3ZhbGlkID0gMDtcblxuICB9IGVsc2UgaWYgKHMuYmlfdmFsaWQgPj0gOCkge1xuICAgIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gcy5iaV9idWYgJiAweGZmO1xuICAgIHMuYmlfYnVmID4+PSA4O1xuICAgIHMuYmlfdmFsaWQgLT0gODtcbiAgfVxufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvbXB1dGUgdGhlIG9wdGltYWwgYml0IGxlbmd0aHMgZm9yIGEgdHJlZSBhbmQgdXBkYXRlIHRoZSB0b3RhbCBiaXQgbGVuZ3RoXG4gKiBmb3IgdGhlIGN1cnJlbnQgYmxvY2suXG4gKiBJTiBhc3NlcnRpb246IHRoZSBmaWVsZHMgZnJlcSBhbmQgZGFkIGFyZSBzZXQsIGhlYXBbaGVhcF9tYXhdIGFuZFxuICogICAgYWJvdmUgYXJlIHRoZSB0cmVlIG5vZGVzIHNvcnRlZCBieSBpbmNyZWFzaW5nIGZyZXF1ZW5jeS5cbiAqIE9VVCBhc3NlcnRpb25zOiB0aGUgZmllbGQgbGVuIGlzIHNldCB0byB0aGUgb3B0aW1hbCBiaXQgbGVuZ3RoLCB0aGVcbiAqICAgICBhcnJheSBibF9jb3VudCBjb250YWlucyB0aGUgZnJlcXVlbmNpZXMgZm9yIGVhY2ggYml0IGxlbmd0aC5cbiAqICAgICBUaGUgbGVuZ3RoIG9wdF9sZW4gaXMgdXBkYXRlZDsgc3RhdGljX2xlbiBpcyBhbHNvIHVwZGF0ZWQgaWYgc3RyZWUgaXNcbiAqICAgICBub3QgbnVsbC5cbiAqL1xuY29uc3QgZ2VuX2JpdGxlbiA9IChzLCBkZXNjKSA9PiB7XG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgdHJlZV9kZXNjICpkZXNjOyAgICAvKiB0aGUgdHJlZSBkZXNjcmlwdG9yICovXG5cbiAgY29uc3QgdHJlZSAgICAgICAgICAgID0gZGVzYy5keW5fdHJlZTtcbiAgY29uc3QgbWF4X2NvZGUgICAgICAgID0gZGVzYy5tYXhfY29kZTtcbiAgY29uc3Qgc3RyZWUgICAgICAgICAgID0gZGVzYy5zdGF0X2Rlc2Muc3RhdGljX3RyZWU7XG4gIGNvbnN0IGhhc19zdHJlZSAgICAgICA9IGRlc2Muc3RhdF9kZXNjLmhhc19zdHJlZTtcbiAgY29uc3QgZXh0cmEgICAgICAgICAgID0gZGVzYy5zdGF0X2Rlc2MuZXh0cmFfYml0cztcbiAgY29uc3QgYmFzZSAgICAgICAgICAgID0gZGVzYy5zdGF0X2Rlc2MuZXh0cmFfYmFzZTtcbiAgY29uc3QgbWF4X2xlbmd0aCAgICAgID0gZGVzYy5zdGF0X2Rlc2MubWF4X2xlbmd0aDtcbiAgbGV0IGg7ICAgICAgICAgICAgICAvKiBoZWFwIGluZGV4ICovXG4gIGxldCBuLCBtOyAgICAgICAgICAgLyogaXRlcmF0ZSBvdmVyIHRoZSB0cmVlIGVsZW1lbnRzICovXG4gIGxldCBiaXRzOyAgICAgICAgICAgLyogYml0IGxlbmd0aCAqL1xuICBsZXQgeGJpdHM7ICAgICAgICAgIC8qIGV4dHJhIGJpdHMgKi9cbiAgbGV0IGY7ICAgICAgICAgICAgICAvKiBmcmVxdWVuY3kgKi9cbiAgbGV0IG92ZXJmbG93ID0gMDsgICAvKiBudW1iZXIgb2YgZWxlbWVudHMgd2l0aCBiaXQgbGVuZ3RoIHRvbyBsYXJnZSAqL1xuXG4gIGZvciAoYml0cyA9IDA7IGJpdHMgPD0gTUFYX0JJVFMkMTsgYml0cysrKSB7XG4gICAgcy5ibF9jb3VudFtiaXRzXSA9IDA7XG4gIH1cblxuICAvKiBJbiBhIGZpcnN0IHBhc3MsIGNvbXB1dGUgdGhlIG9wdGltYWwgYml0IGxlbmd0aHMgKHdoaWNoIG1heVxuICAgKiBvdmVyZmxvdyBpbiB0aGUgY2FzZSBvZiB0aGUgYml0IGxlbmd0aCB0cmVlKS5cbiAgICovXG4gIHRyZWVbcy5oZWFwW3MuaGVhcF9tYXhdICogMiArIDFdLyouTGVuKi8gPSAwOyAvKiByb290IG9mIHRoZSBoZWFwICovXG5cbiAgZm9yIChoID0gcy5oZWFwX21heCArIDE7IGggPCBIRUFQX1NJWkUkMTsgaCsrKSB7XG4gICAgbiA9IHMuaGVhcFtoXTtcbiAgICBiaXRzID0gdHJlZVt0cmVlW24gKiAyICsgMV0vKi5EYWQqLyAqIDIgKyAxXS8qLkxlbiovICsgMTtcbiAgICBpZiAoYml0cyA+IG1heF9sZW5ndGgpIHtcbiAgICAgIGJpdHMgPSBtYXhfbGVuZ3RoO1xuICAgICAgb3ZlcmZsb3crKztcbiAgICB9XG4gICAgdHJlZVtuICogMiArIDFdLyouTGVuKi8gPSBiaXRzO1xuICAgIC8qIFdlIG92ZXJ3cml0ZSB0cmVlW25dLkRhZCB3aGljaCBpcyBubyBsb25nZXIgbmVlZGVkICovXG5cbiAgICBpZiAobiA+IG1heF9jb2RlKSB7IGNvbnRpbnVlOyB9IC8qIG5vdCBhIGxlYWYgbm9kZSAqL1xuXG4gICAgcy5ibF9jb3VudFtiaXRzXSsrO1xuICAgIHhiaXRzID0gMDtcbiAgICBpZiAobiA+PSBiYXNlKSB7XG4gICAgICB4Yml0cyA9IGV4dHJhW24gLSBiYXNlXTtcbiAgICB9XG4gICAgZiA9IHRyZWVbbiAqIDJdLyouRnJlcSovO1xuICAgIHMub3B0X2xlbiArPSBmICogKGJpdHMgKyB4Yml0cyk7XG4gICAgaWYgKGhhc19zdHJlZSkge1xuICAgICAgcy5zdGF0aWNfbGVuICs9IGYgKiAoc3RyZWVbbiAqIDIgKyAxXS8qLkxlbiovICsgeGJpdHMpO1xuICAgIH1cbiAgfVxuICBpZiAob3ZlcmZsb3cgPT09IDApIHsgcmV0dXJuOyB9XG5cbiAgLy8gVHJhY2V2KChzdGRlcnIsXCJcXG5iaXQgbGVuZ3RoIG92ZXJmbG93XFxuXCIpKTtcbiAgLyogVGhpcyBoYXBwZW5zIGZvciBleGFtcGxlIG9uIG9iajIgYW5kIHBpYyBvZiB0aGUgQ2FsZ2FyeSBjb3JwdXMgKi9cblxuICAvKiBGaW5kIHRoZSBmaXJzdCBiaXQgbGVuZ3RoIHdoaWNoIGNvdWxkIGluY3JlYXNlOiAqL1xuICBkbyB7XG4gICAgYml0cyA9IG1heF9sZW5ndGggLSAxO1xuICAgIHdoaWxlIChzLmJsX2NvdW50W2JpdHNdID09PSAwKSB7IGJpdHMtLTsgfVxuICAgIHMuYmxfY291bnRbYml0c10tLTsgICAgICAvKiBtb3ZlIG9uZSBsZWFmIGRvd24gdGhlIHRyZWUgKi9cbiAgICBzLmJsX2NvdW50W2JpdHMgKyAxXSArPSAyOyAvKiBtb3ZlIG9uZSBvdmVyZmxvdyBpdGVtIGFzIGl0cyBicm90aGVyICovXG4gICAgcy5ibF9jb3VudFttYXhfbGVuZ3RoXS0tO1xuICAgIC8qIFRoZSBicm90aGVyIG9mIHRoZSBvdmVyZmxvdyBpdGVtIGFsc28gbW92ZXMgb25lIHN0ZXAgdXAsXG4gICAgICogYnV0IHRoaXMgZG9lcyBub3QgYWZmZWN0IGJsX2NvdW50W21heF9sZW5ndGhdXG4gICAgICovXG4gICAgb3ZlcmZsb3cgLT0gMjtcbiAgfSB3aGlsZSAob3ZlcmZsb3cgPiAwKTtcblxuICAvKiBOb3cgcmVjb21wdXRlIGFsbCBiaXQgbGVuZ3Rocywgc2Nhbm5pbmcgaW4gaW5jcmVhc2luZyBmcmVxdWVuY3kuXG4gICAqIGggaXMgc3RpbGwgZXF1YWwgdG8gSEVBUF9TSVpFLiAoSXQgaXMgc2ltcGxlciB0byByZWNvbnN0cnVjdCBhbGxcbiAgICogbGVuZ3RocyBpbnN0ZWFkIG9mIGZpeGluZyBvbmx5IHRoZSB3cm9uZyBvbmVzLiBUaGlzIGlkZWEgaXMgdGFrZW5cbiAgICogZnJvbSAnYXInIHdyaXR0ZW4gYnkgSGFydWhpa28gT2t1bXVyYS4pXG4gICAqL1xuICBmb3IgKGJpdHMgPSBtYXhfbGVuZ3RoOyBiaXRzICE9PSAwOyBiaXRzLS0pIHtcbiAgICBuID0gcy5ibF9jb3VudFtiaXRzXTtcbiAgICB3aGlsZSAobiAhPT0gMCkge1xuICAgICAgbSA9IHMuaGVhcFstLWhdO1xuICAgICAgaWYgKG0gPiBtYXhfY29kZSkgeyBjb250aW51ZTsgfVxuICAgICAgaWYgKHRyZWVbbSAqIDIgKyAxXS8qLkxlbiovICE9PSBiaXRzKSB7XG4gICAgICAgIC8vIFRyYWNldigoc3RkZXJyLFwiY29kZSAlZCBiaXRzICVkLT4lZFxcblwiLCBtLCB0cmVlW21dLkxlbiwgYml0cykpO1xuICAgICAgICBzLm9wdF9sZW4gKz0gKGJpdHMgLSB0cmVlW20gKiAyICsgMV0vKi5MZW4qLykgKiB0cmVlW20gKiAyXS8qLkZyZXEqLztcbiAgICAgICAgdHJlZVttICogMiArIDFdLyouTGVuKi8gPSBiaXRzO1xuICAgICAgfVxuICAgICAgbi0tO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEdlbmVyYXRlIHRoZSBjb2RlcyBmb3IgYSBnaXZlbiB0cmVlIGFuZCBiaXQgY291bnRzICh3aGljaCBuZWVkIG5vdCBiZVxuICogb3B0aW1hbCkuXG4gKiBJTiBhc3NlcnRpb246IHRoZSBhcnJheSBibF9jb3VudCBjb250YWlucyB0aGUgYml0IGxlbmd0aCBzdGF0aXN0aWNzIGZvclxuICogdGhlIGdpdmVuIHRyZWUgYW5kIHRoZSBmaWVsZCBsZW4gaXMgc2V0IGZvciBhbGwgdHJlZSBlbGVtZW50cy5cbiAqIE9VVCBhc3NlcnRpb246IHRoZSBmaWVsZCBjb2RlIGlzIHNldCBmb3IgYWxsIHRyZWUgZWxlbWVudHMgb2Ygbm9uXG4gKiAgICAgemVybyBjb2RlIGxlbmd0aC5cbiAqL1xuY29uc3QgZ2VuX2NvZGVzID0gKHRyZWUsIG1heF9jb2RlLCBibF9jb3VudCkgPT4ge1xuLy8gICAgY3RfZGF0YSAqdHJlZTsgICAgICAgICAgICAgLyogdGhlIHRyZWUgdG8gZGVjb3JhdGUgKi9cbi8vICAgIGludCBtYXhfY29kZTsgICAgICAgICAgICAgIC8qIGxhcmdlc3QgY29kZSB3aXRoIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xuLy8gICAgdXNoZiAqYmxfY291bnQ7ICAgICAgICAgICAgLyogbnVtYmVyIG9mIGNvZGVzIGF0IGVhY2ggYml0IGxlbmd0aCAqL1xuXG4gIGNvbnN0IG5leHRfY29kZSA9IG5ldyBBcnJheShNQVhfQklUUyQxICsgMSk7IC8qIG5leHQgY29kZSB2YWx1ZSBmb3IgZWFjaCBiaXQgbGVuZ3RoICovXG4gIGxldCBjb2RlID0gMDsgICAgICAgICAgICAgIC8qIHJ1bm5pbmcgY29kZSB2YWx1ZSAqL1xuICBsZXQgYml0czsgICAgICAgICAgICAgICAgICAvKiBiaXQgaW5kZXggKi9cbiAgbGV0IG47ICAgICAgICAgICAgICAgICAgICAgLyogY29kZSBpbmRleCAqL1xuXG4gIC8qIFRoZSBkaXN0cmlidXRpb24gY291bnRzIGFyZSBmaXJzdCB1c2VkIHRvIGdlbmVyYXRlIHRoZSBjb2RlIHZhbHVlc1xuICAgKiB3aXRob3V0IGJpdCByZXZlcnNhbC5cbiAgICovXG4gIGZvciAoYml0cyA9IDE7IGJpdHMgPD0gTUFYX0JJVFMkMTsgYml0cysrKSB7XG4gICAgY29kZSA9IChjb2RlICsgYmxfY291bnRbYml0cyAtIDFdKSA8PCAxO1xuICAgIG5leHRfY29kZVtiaXRzXSA9IGNvZGU7XG4gIH1cbiAgLyogQ2hlY2sgdGhhdCB0aGUgYml0IGNvdW50cyBpbiBibF9jb3VudCBhcmUgY29uc2lzdGVudC4gVGhlIGxhc3QgY29kZVxuICAgKiBtdXN0IGJlIGFsbCBvbmVzLlxuICAgKi9cbiAgLy9Bc3NlcnQgKGNvZGUgKyBibF9jb3VudFtNQVhfQklUU10tMSA9PSAoMTw8TUFYX0JJVFMpLTEsXG4gIC8vICAgICAgICBcImluY29uc2lzdGVudCBiaXQgY291bnRzXCIpO1xuICAvL1RyYWNldigoc3RkZXJyLFwiXFxuZ2VuX2NvZGVzOiBtYXhfY29kZSAlZCBcIiwgbWF4X2NvZGUpKTtcblxuICBmb3IgKG4gPSAwOyAgbiA8PSBtYXhfY29kZTsgbisrKSB7XG4gICAgbGV0IGxlbiA9IHRyZWVbbiAqIDIgKyAxXS8qLkxlbiovO1xuICAgIGlmIChsZW4gPT09IDApIHsgY29udGludWU7IH1cbiAgICAvKiBOb3cgcmV2ZXJzZSB0aGUgYml0cyAqL1xuICAgIHRyZWVbbiAqIDJdLyouQ29kZSovID0gYmlfcmV2ZXJzZShuZXh0X2NvZGVbbGVuXSsrLCBsZW4pO1xuXG4gICAgLy9UcmFjZWN2KHRyZWUgIT0gc3RhdGljX2x0cmVlLCAoc3RkZXJyLFwiXFxubiAlM2QgJWMgbCAlMmQgYyAlNHggKCV4KSBcIixcbiAgICAvLyAgICAgbiwgKGlzZ3JhcGgobikgPyBuIDogJyAnKSwgbGVuLCB0cmVlW25dLkNvZGUsIG5leHRfY29kZVtsZW5dLTEpKTtcbiAgfVxufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEluaXRpYWxpemUgdGhlIHZhcmlvdXMgJ2NvbnN0YW50JyB0YWJsZXMuXG4gKi9cbmNvbnN0IHRyX3N0YXRpY19pbml0ID0gKCkgPT4ge1xuXG4gIGxldCBuOyAgICAgICAgLyogaXRlcmF0ZXMgb3ZlciB0cmVlIGVsZW1lbnRzICovXG4gIGxldCBiaXRzOyAgICAgLyogYml0IGNvdW50ZXIgKi9cbiAgbGV0IGxlbmd0aDsgICAvKiBsZW5ndGggdmFsdWUgKi9cbiAgbGV0IGNvZGU7ICAgICAvKiBjb2RlIHZhbHVlICovXG4gIGxldCBkaXN0OyAgICAgLyogZGlzdGFuY2UgaW5kZXggKi9cbiAgY29uc3QgYmxfY291bnQgPSBuZXcgQXJyYXkoTUFYX0JJVFMkMSArIDEpO1xuICAvKiBudW1iZXIgb2YgY29kZXMgYXQgZWFjaCBiaXQgbGVuZ3RoIGZvciBhbiBvcHRpbWFsIHRyZWUgKi9cblxuICAvLyBkbyBjaGVjayBpbiBfdHJfaW5pdCgpXG4gIC8vaWYgKHN0YXRpY19pbml0X2RvbmUpIHJldHVybjtcblxuICAvKiBGb3Igc29tZSBlbWJlZGRlZCB0YXJnZXRzLCBnbG9iYWwgdmFyaWFibGVzIGFyZSBub3QgaW5pdGlhbGl6ZWQ6ICovXG4vKiNpZmRlZiBOT19JTklUX0dMT0JBTF9QT0lOVEVSU1xuICBzdGF0aWNfbF9kZXNjLnN0YXRpY190cmVlID0gc3RhdGljX2x0cmVlO1xuICBzdGF0aWNfbF9kZXNjLmV4dHJhX2JpdHMgPSBleHRyYV9sYml0cztcbiAgc3RhdGljX2RfZGVzYy5zdGF0aWNfdHJlZSA9IHN0YXRpY19kdHJlZTtcbiAgc3RhdGljX2RfZGVzYy5leHRyYV9iaXRzID0gZXh0cmFfZGJpdHM7XG4gIHN0YXRpY19ibF9kZXNjLmV4dHJhX2JpdHMgPSBleHRyYV9ibGJpdHM7XG4jZW5kaWYqL1xuXG4gIC8qIEluaXRpYWxpemUgdGhlIG1hcHBpbmcgbGVuZ3RoICgwLi4yNTUpIC0+IGxlbmd0aCBjb2RlICgwLi4yOCkgKi9cbiAgbGVuZ3RoID0gMDtcbiAgZm9yIChjb2RlID0gMDsgY29kZSA8IExFTkdUSF9DT0RFUyQxIC0gMTsgY29kZSsrKSB7XG4gICAgYmFzZV9sZW5ndGhbY29kZV0gPSBsZW5ndGg7XG4gICAgZm9yIChuID0gMDsgbiA8ICgxIDw8IGV4dHJhX2xiaXRzW2NvZGVdKTsgbisrKSB7XG4gICAgICBfbGVuZ3RoX2NvZGVbbGVuZ3RoKytdID0gY29kZTtcbiAgICB9XG4gIH1cbiAgLy9Bc3NlcnQgKGxlbmd0aCA9PSAyNTYsIFwidHJfc3RhdGljX2luaXQ6IGxlbmd0aCAhPSAyNTZcIik7XG4gIC8qIE5vdGUgdGhhdCB0aGUgbGVuZ3RoIDI1NSAobWF0Y2ggbGVuZ3RoIDI1OCkgY2FuIGJlIHJlcHJlc2VudGVkXG4gICAqIGluIHR3byBkaWZmZXJlbnQgd2F5czogY29kZSAyODQgKyA1IGJpdHMgb3IgY29kZSAyODUsIHNvIHdlXG4gICAqIG92ZXJ3cml0ZSBsZW5ndGhfY29kZVsyNTVdIHRvIHVzZSB0aGUgYmVzdCBlbmNvZGluZzpcbiAgICovXG4gIF9sZW5ndGhfY29kZVtsZW5ndGggLSAxXSA9IGNvZGU7XG5cbiAgLyogSW5pdGlhbGl6ZSB0aGUgbWFwcGluZyBkaXN0ICgwLi4zMkspIC0+IGRpc3QgY29kZSAoMC4uMjkpICovXG4gIGRpc3QgPSAwO1xuICBmb3IgKGNvZGUgPSAwOyBjb2RlIDwgMTY7IGNvZGUrKykge1xuICAgIGJhc2VfZGlzdFtjb2RlXSA9IGRpc3Q7XG4gICAgZm9yIChuID0gMDsgbiA8ICgxIDw8IGV4dHJhX2RiaXRzW2NvZGVdKTsgbisrKSB7XG4gICAgICBfZGlzdF9jb2RlW2Rpc3QrK10gPSBjb2RlO1xuICAgIH1cbiAgfVxuICAvL0Fzc2VydCAoZGlzdCA9PSAyNTYsIFwidHJfc3RhdGljX2luaXQ6IGRpc3QgIT0gMjU2XCIpO1xuICBkaXN0ID4+PSA3OyAvKiBmcm9tIG5vdyBvbiwgYWxsIGRpc3RhbmNlcyBhcmUgZGl2aWRlZCBieSAxMjggKi9cbiAgZm9yICg7IGNvZGUgPCBEX0NPREVTJDE7IGNvZGUrKykge1xuICAgIGJhc2VfZGlzdFtjb2RlXSA9IGRpc3QgPDwgNztcbiAgICBmb3IgKG4gPSAwOyBuIDwgKDEgPDwgKGV4dHJhX2RiaXRzW2NvZGVdIC0gNykpOyBuKyspIHtcbiAgICAgIF9kaXN0X2NvZGVbMjU2ICsgZGlzdCsrXSA9IGNvZGU7XG4gICAgfVxuICB9XG4gIC8vQXNzZXJ0IChkaXN0ID09IDI1NiwgXCJ0cl9zdGF0aWNfaW5pdDogMjU2K2Rpc3QgIT0gNTEyXCIpO1xuXG4gIC8qIENvbnN0cnVjdCB0aGUgY29kZXMgb2YgdGhlIHN0YXRpYyBsaXRlcmFsIHRyZWUgKi9cbiAgZm9yIChiaXRzID0gMDsgYml0cyA8PSBNQVhfQklUUyQxOyBiaXRzKyspIHtcbiAgICBibF9jb3VudFtiaXRzXSA9IDA7XG4gIH1cblxuICBuID0gMDtcbiAgd2hpbGUgKG4gPD0gMTQzKSB7XG4gICAgc3RhdGljX2x0cmVlW24gKiAyICsgMV0vKi5MZW4qLyA9IDg7XG4gICAgbisrO1xuICAgIGJsX2NvdW50WzhdKys7XG4gIH1cbiAgd2hpbGUgKG4gPD0gMjU1KSB7XG4gICAgc3RhdGljX2x0cmVlW24gKiAyICsgMV0vKi5MZW4qLyA9IDk7XG4gICAgbisrO1xuICAgIGJsX2NvdW50WzldKys7XG4gIH1cbiAgd2hpbGUgKG4gPD0gMjc5KSB7XG4gICAgc3RhdGljX2x0cmVlW24gKiAyICsgMV0vKi5MZW4qLyA9IDc7XG4gICAgbisrO1xuICAgIGJsX2NvdW50WzddKys7XG4gIH1cbiAgd2hpbGUgKG4gPD0gMjg3KSB7XG4gICAgc3RhdGljX2x0cmVlW24gKiAyICsgMV0vKi5MZW4qLyA9IDg7XG4gICAgbisrO1xuICAgIGJsX2NvdW50WzhdKys7XG4gIH1cbiAgLyogQ29kZXMgMjg2IGFuZCAyODcgZG8gbm90IGV4aXN0LCBidXQgd2UgbXVzdCBpbmNsdWRlIHRoZW0gaW4gdGhlXG4gICAqIHRyZWUgY29uc3RydWN0aW9uIHRvIGdldCBhIGNhbm9uaWNhbCBIdWZmbWFuIHRyZWUgKGxvbmdlc3QgY29kZVxuICAgKiBhbGwgb25lcylcbiAgICovXG4gIGdlbl9jb2RlcyhzdGF0aWNfbHRyZWUsIExfQ09ERVMkMSArIDEsIGJsX2NvdW50KTtcblxuICAvKiBUaGUgc3RhdGljIGRpc3RhbmNlIHRyZWUgaXMgdHJpdmlhbDogKi9cbiAgZm9yIChuID0gMDsgbiA8IERfQ09ERVMkMTsgbisrKSB7XG4gICAgc3RhdGljX2R0cmVlW24gKiAyICsgMV0vKi5MZW4qLyA9IDU7XG4gICAgc3RhdGljX2R0cmVlW24gKiAyXS8qLkNvZGUqLyA9IGJpX3JldmVyc2UobiwgNSk7XG4gIH1cblxuICAvLyBOb3cgZGF0YSByZWFkeSBhbmQgd2UgY2FuIGluaXQgc3RhdGljIHRyZWVzXG4gIHN0YXRpY19sX2Rlc2MgPSBuZXcgU3RhdGljVHJlZURlc2Moc3RhdGljX2x0cmVlLCBleHRyYV9sYml0cywgTElURVJBTFMkMSArIDEsIExfQ09ERVMkMSwgTUFYX0JJVFMkMSk7XG4gIHN0YXRpY19kX2Rlc2MgPSBuZXcgU3RhdGljVHJlZURlc2Moc3RhdGljX2R0cmVlLCBleHRyYV9kYml0cywgMCwgICAgICAgICAgRF9DT0RFUyQxLCBNQVhfQklUUyQxKTtcbiAgc3RhdGljX2JsX2Rlc2MgPSBuZXcgU3RhdGljVHJlZURlc2MobmV3IEFycmF5KDApLCBleHRyYV9ibGJpdHMsIDAsICAgICAgICAgQkxfQ09ERVMkMSwgTUFYX0JMX0JJVFMpO1xuXG4gIC8vc3RhdGljX2luaXRfZG9uZSA9IHRydWU7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW5pdGlhbGl6ZSBhIG5ldyBibG9jay5cbiAqL1xuY29uc3QgaW5pdF9ibG9jayA9IChzKSA9PiB7XG5cbiAgbGV0IG47IC8qIGl0ZXJhdGVzIG92ZXIgdHJlZSBlbGVtZW50cyAqL1xuXG4gIC8qIEluaXRpYWxpemUgdGhlIHRyZWVzLiAqL1xuICBmb3IgKG4gPSAwOyBuIDwgTF9DT0RFUyQxOyAgbisrKSB7IHMuZHluX2x0cmVlW24gKiAyXS8qLkZyZXEqLyA9IDA7IH1cbiAgZm9yIChuID0gMDsgbiA8IERfQ09ERVMkMTsgIG4rKykgeyBzLmR5bl9kdHJlZVtuICogMl0vKi5GcmVxKi8gPSAwOyB9XG4gIGZvciAobiA9IDA7IG4gPCBCTF9DT0RFUyQxOyBuKyspIHsgcy5ibF90cmVlW24gKiAyXS8qLkZyZXEqLyA9IDA7IH1cblxuICBzLmR5bl9sdHJlZVtFTkRfQkxPQ0sgKiAyXS8qLkZyZXEqLyA9IDE7XG4gIHMub3B0X2xlbiA9IHMuc3RhdGljX2xlbiA9IDA7XG4gIHMuc3ltX25leHQgPSBzLm1hdGNoZXMgPSAwO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZsdXNoIHRoZSBiaXQgYnVmZmVyIGFuZCBhbGlnbiB0aGUgb3V0cHV0IG9uIGEgYnl0ZSBib3VuZGFyeVxuICovXG5jb25zdCBiaV93aW5kdXAgPSAocykgPT5cbntcbiAgaWYgKHMuYmlfdmFsaWQgPiA4KSB7XG4gICAgcHV0X3Nob3J0KHMsIHMuYmlfYnVmKTtcbiAgfSBlbHNlIGlmIChzLmJpX3ZhbGlkID4gMCkge1xuICAgIC8vcHV0X2J5dGUocywgKEJ5dGUpcy0+YmlfYnVmKTtcbiAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IHMuYmlfYnVmO1xuICB9XG4gIHMuYmlfYnVmID0gMDtcbiAgcy5iaV92YWxpZCA9IDA7XG59O1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvbXBhcmVzIHRvIHN1YnRyZWVzLCB1c2luZyB0aGUgdHJlZSBkZXB0aCBhcyB0aWUgYnJlYWtlciB3aGVuXG4gKiB0aGUgc3VidHJlZXMgaGF2ZSBlcXVhbCBmcmVxdWVuY3kuIFRoaXMgbWluaW1pemVzIHRoZSB3b3JzdCBjYXNlIGxlbmd0aC5cbiAqL1xuY29uc3Qgc21hbGxlciA9ICh0cmVlLCBuLCBtLCBkZXB0aCkgPT4ge1xuXG4gIGNvbnN0IF9uMiA9IG4gKiAyO1xuICBjb25zdCBfbTIgPSBtICogMjtcbiAgcmV0dXJuICh0cmVlW19uMl0vKi5GcmVxKi8gPCB0cmVlW19tMl0vKi5GcmVxKi8gfHxcbiAgICAgICAgICh0cmVlW19uMl0vKi5GcmVxKi8gPT09IHRyZWVbX20yXS8qLkZyZXEqLyAmJiBkZXB0aFtuXSA8PSBkZXB0aFttXSkpO1xufTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBSZXN0b3JlIHRoZSBoZWFwIHByb3BlcnR5IGJ5IG1vdmluZyBkb3duIHRoZSB0cmVlIHN0YXJ0aW5nIGF0IG5vZGUgayxcbiAqIGV4Y2hhbmdpbmcgYSBub2RlIHdpdGggdGhlIHNtYWxsZXN0IG9mIGl0cyB0d28gc29ucyBpZiBuZWNlc3NhcnksIHN0b3BwaW5nXG4gKiB3aGVuIHRoZSBoZWFwIHByb3BlcnR5IGlzIHJlLWVzdGFibGlzaGVkIChlYWNoIGZhdGhlciBzbWFsbGVyIHRoYW4gaXRzXG4gKiB0d28gc29ucykuXG4gKi9cbmNvbnN0IHBxZG93bmhlYXAgPSAocywgdHJlZSwgaykgPT4ge1xuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIGN0X2RhdGEgKnRyZWU7ICAvKiB0aGUgdHJlZSB0byByZXN0b3JlICovXG4vLyAgICBpbnQgazsgICAgICAgICAgICAgICAvKiBub2RlIHRvIG1vdmUgZG93biAqL1xuXG4gIGNvbnN0IHYgPSBzLmhlYXBba107XG4gIGxldCBqID0gayA8PCAxOyAgLyogbGVmdCBzb24gb2YgayAqL1xuICB3aGlsZSAoaiA8PSBzLmhlYXBfbGVuKSB7XG4gICAgLyogU2V0IGogdG8gdGhlIHNtYWxsZXN0IG9mIHRoZSB0d28gc29uczogKi9cbiAgICBpZiAoaiA8IHMuaGVhcF9sZW4gJiZcbiAgICAgIHNtYWxsZXIodHJlZSwgcy5oZWFwW2ogKyAxXSwgcy5oZWFwW2pdLCBzLmRlcHRoKSkge1xuICAgICAgaisrO1xuICAgIH1cbiAgICAvKiBFeGl0IGlmIHYgaXMgc21hbGxlciB0aGFuIGJvdGggc29ucyAqL1xuICAgIGlmIChzbWFsbGVyKHRyZWUsIHYsIHMuaGVhcFtqXSwgcy5kZXB0aCkpIHsgYnJlYWs7IH1cblxuICAgIC8qIEV4Y2hhbmdlIHYgd2l0aCB0aGUgc21hbGxlc3Qgc29uICovXG4gICAgcy5oZWFwW2tdID0gcy5oZWFwW2pdO1xuICAgIGsgPSBqO1xuXG4gICAgLyogQW5kIGNvbnRpbnVlIGRvd24gdGhlIHRyZWUsIHNldHRpbmcgaiB0byB0aGUgbGVmdCBzb24gb2YgayAqL1xuICAgIGogPDw9IDE7XG4gIH1cbiAgcy5oZWFwW2tdID0gdjtcbn07XG5cblxuLy8gaW5saW5lZCBtYW51YWxseVxuLy8gY29uc3QgU01BTExFU1QgPSAxO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNlbmQgdGhlIGJsb2NrIGRhdGEgY29tcHJlc3NlZCB1c2luZyB0aGUgZ2l2ZW4gSHVmZm1hbiB0cmVlc1xuICovXG5jb25zdCBjb21wcmVzc19ibG9jayA9IChzLCBsdHJlZSwgZHRyZWUpID0+IHtcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICBjb25zdCBjdF9kYXRhICpsdHJlZTsgLyogbGl0ZXJhbCB0cmVlICovXG4vLyAgICBjb25zdCBjdF9kYXRhICpkdHJlZTsgLyogZGlzdGFuY2UgdHJlZSAqL1xuXG4gIGxldCBkaXN0OyAgICAgICAgICAgLyogZGlzdGFuY2Ugb2YgbWF0Y2hlZCBzdHJpbmcgKi9cbiAgbGV0IGxjOyAgICAgICAgICAgICAvKiBtYXRjaCBsZW5ndGggb3IgdW5tYXRjaGVkIGNoYXIgKGlmIGRpc3QgPT0gMCkgKi9cbiAgbGV0IHN4ID0gMDsgICAgICAgICAvKiBydW5uaW5nIGluZGV4IGluIHN5bV9idWYgKi9cbiAgbGV0IGNvZGU7ICAgICAgICAgICAvKiB0aGUgY29kZSB0byBzZW5kICovXG4gIGxldCBleHRyYTsgICAgICAgICAgLyogbnVtYmVyIG9mIGV4dHJhIGJpdHMgdG8gc2VuZCAqL1xuXG4gIGlmIChzLnN5bV9uZXh0ICE9PSAwKSB7XG4gICAgZG8ge1xuICAgICAgZGlzdCA9IHMucGVuZGluZ19idWZbcy5zeW1fYnVmICsgc3grK10gJiAweGZmO1xuICAgICAgZGlzdCArPSAocy5wZW5kaW5nX2J1ZltzLnN5bV9idWYgKyBzeCsrXSAmIDB4ZmYpIDw8IDg7XG4gICAgICBsYyA9IHMucGVuZGluZ19idWZbcy5zeW1fYnVmICsgc3grK107XG4gICAgICBpZiAoZGlzdCA9PT0gMCkge1xuICAgICAgICBzZW5kX2NvZGUocywgbGMsIGx0cmVlKTsgLyogc2VuZCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgICAgICAvL1RyYWNlY3YoaXNncmFwaChsYyksIChzdGRlcnIsXCIgJyVjJyBcIiwgbGMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIEhlcmUsIGxjIGlzIHRoZSBtYXRjaCBsZW5ndGggLSBNSU5fTUFUQ0ggKi9cbiAgICAgICAgY29kZSA9IF9sZW5ndGhfY29kZVtsY107XG4gICAgICAgIHNlbmRfY29kZShzLCBjb2RlICsgTElURVJBTFMkMSArIDEsIGx0cmVlKTsgLyogc2VuZCB0aGUgbGVuZ3RoIGNvZGUgKi9cbiAgICAgICAgZXh0cmEgPSBleHRyYV9sYml0c1tjb2RlXTtcbiAgICAgICAgaWYgKGV4dHJhICE9PSAwKSB7XG4gICAgICAgICAgbGMgLT0gYmFzZV9sZW5ndGhbY29kZV07XG4gICAgICAgICAgc2VuZF9iaXRzKHMsIGxjLCBleHRyYSk7ICAgICAgIC8qIHNlbmQgdGhlIGV4dHJhIGxlbmd0aCBiaXRzICovXG4gICAgICAgIH1cbiAgICAgICAgZGlzdC0tOyAvKiBkaXN0IGlzIG5vdyB0aGUgbWF0Y2ggZGlzdGFuY2UgLSAxICovXG4gICAgICAgIGNvZGUgPSBkX2NvZGUoZGlzdCk7XG4gICAgICAgIC8vQXNzZXJ0IChjb2RlIDwgRF9DT0RFUywgXCJiYWQgZF9jb2RlXCIpO1xuXG4gICAgICAgIHNlbmRfY29kZShzLCBjb2RlLCBkdHJlZSk7ICAgICAgIC8qIHNlbmQgdGhlIGRpc3RhbmNlIGNvZGUgKi9cbiAgICAgICAgZXh0cmEgPSBleHRyYV9kYml0c1tjb2RlXTtcbiAgICAgICAgaWYgKGV4dHJhICE9PSAwKSB7XG4gICAgICAgICAgZGlzdCAtPSBiYXNlX2Rpc3RbY29kZV07XG4gICAgICAgICAgc2VuZF9iaXRzKHMsIGRpc3QsIGV4dHJhKTsgICAvKiBzZW5kIHRoZSBleHRyYSBkaXN0YW5jZSBiaXRzICovXG4gICAgICAgIH1cbiAgICAgIH0gLyogbGl0ZXJhbCBvciBtYXRjaCBwYWlyID8gKi9cblxuICAgICAgLyogQ2hlY2sgdGhhdCB0aGUgb3ZlcmxheSBiZXR3ZWVuIHBlbmRpbmdfYnVmIGFuZCBzeW1fYnVmIGlzIG9rOiAqL1xuICAgICAgLy9Bc3NlcnQocy0+cGVuZGluZyA8IHMtPmxpdF9idWZzaXplICsgc3gsIFwicGVuZGluZ0J1ZiBvdmVyZmxvd1wiKTtcblxuICAgIH0gd2hpbGUgKHN4IDwgcy5zeW1fbmV4dCk7XG4gIH1cblxuICBzZW5kX2NvZGUocywgRU5EX0JMT0NLLCBsdHJlZSk7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29uc3RydWN0IG9uZSBIdWZmbWFuIHRyZWUgYW5kIGFzc2lnbnMgdGhlIGNvZGUgYml0IHN0cmluZ3MgYW5kIGxlbmd0aHMuXG4gKiBVcGRhdGUgdGhlIHRvdGFsIGJpdCBsZW5ndGggZm9yIHRoZSBjdXJyZW50IGJsb2NrLlxuICogSU4gYXNzZXJ0aW9uOiB0aGUgZmllbGQgZnJlcSBpcyBzZXQgZm9yIGFsbCB0cmVlIGVsZW1lbnRzLlxuICogT1VUIGFzc2VydGlvbnM6IHRoZSBmaWVsZHMgbGVuIGFuZCBjb2RlIGFyZSBzZXQgdG8gdGhlIG9wdGltYWwgYml0IGxlbmd0aFxuICogICAgIGFuZCBjb3JyZXNwb25kaW5nIGNvZGUuIFRoZSBsZW5ndGggb3B0X2xlbiBpcyB1cGRhdGVkOyBzdGF0aWNfbGVuIGlzXG4gKiAgICAgYWxzbyB1cGRhdGVkIGlmIHN0cmVlIGlzIG5vdCBudWxsLiBUaGUgZmllbGQgbWF4X2NvZGUgaXMgc2V0LlxuICovXG5jb25zdCBidWlsZF90cmVlID0gKHMsIGRlc2MpID0+IHtcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICB0cmVlX2Rlc2MgKmRlc2M7IC8qIHRoZSB0cmVlIGRlc2NyaXB0b3IgKi9cblxuICBjb25zdCB0cmVlICAgICA9IGRlc2MuZHluX3RyZWU7XG4gIGNvbnN0IHN0cmVlICAgID0gZGVzYy5zdGF0X2Rlc2Muc3RhdGljX3RyZWU7XG4gIGNvbnN0IGhhc19zdHJlZSA9IGRlc2Muc3RhdF9kZXNjLmhhc19zdHJlZTtcbiAgY29uc3QgZWxlbXMgICAgPSBkZXNjLnN0YXRfZGVzYy5lbGVtcztcbiAgbGV0IG4sIG07ICAgICAgICAgIC8qIGl0ZXJhdGUgb3ZlciBoZWFwIGVsZW1lbnRzICovXG4gIGxldCBtYXhfY29kZSA9IC0xOyAvKiBsYXJnZXN0IGNvZGUgd2l0aCBub24gemVybyBmcmVxdWVuY3kgKi9cbiAgbGV0IG5vZGU7ICAgICAgICAgIC8qIG5ldyBub2RlIGJlaW5nIGNyZWF0ZWQgKi9cblxuICAvKiBDb25zdHJ1Y3QgdGhlIGluaXRpYWwgaGVhcCwgd2l0aCBsZWFzdCBmcmVxdWVudCBlbGVtZW50IGluXG4gICAqIGhlYXBbU01BTExFU1RdLiBUaGUgc29ucyBvZiBoZWFwW25dIGFyZSBoZWFwWzIqbl0gYW5kIGhlYXBbMipuKzFdLlxuICAgKiBoZWFwWzBdIGlzIG5vdCB1c2VkLlxuICAgKi9cbiAgcy5oZWFwX2xlbiA9IDA7XG4gIHMuaGVhcF9tYXggPSBIRUFQX1NJWkUkMTtcblxuICBmb3IgKG4gPSAwOyBuIDwgZWxlbXM7IG4rKykge1xuICAgIGlmICh0cmVlW24gKiAyXS8qLkZyZXEqLyAhPT0gMCkge1xuICAgICAgcy5oZWFwWysrcy5oZWFwX2xlbl0gPSBtYXhfY29kZSA9IG47XG4gICAgICBzLmRlcHRoW25dID0gMDtcblxuICAgIH0gZWxzZSB7XG4gICAgICB0cmVlW24gKiAyICsgMV0vKi5MZW4qLyA9IDA7XG4gICAgfVxuICB9XG5cbiAgLyogVGhlIHBremlwIGZvcm1hdCByZXF1aXJlcyB0aGF0IGF0IGxlYXN0IG9uZSBkaXN0YW5jZSBjb2RlIGV4aXN0cyxcbiAgICogYW5kIHRoYXQgYXQgbGVhc3Qgb25lIGJpdCBzaG91bGQgYmUgc2VudCBldmVuIGlmIHRoZXJlIGlzIG9ubHkgb25lXG4gICAqIHBvc3NpYmxlIGNvZGUuIFNvIHRvIGF2b2lkIHNwZWNpYWwgY2hlY2tzIGxhdGVyIG9uIHdlIGZvcmNlIGF0IGxlYXN0XG4gICAqIHR3byBjb2RlcyBvZiBub24gemVybyBmcmVxdWVuY3kuXG4gICAqL1xuICB3aGlsZSAocy5oZWFwX2xlbiA8IDIpIHtcbiAgICBub2RlID0gcy5oZWFwWysrcy5oZWFwX2xlbl0gPSAobWF4X2NvZGUgPCAyID8gKyttYXhfY29kZSA6IDApO1xuICAgIHRyZWVbbm9kZSAqIDJdLyouRnJlcSovID0gMTtcbiAgICBzLmRlcHRoW25vZGVdID0gMDtcbiAgICBzLm9wdF9sZW4tLTtcblxuICAgIGlmIChoYXNfc3RyZWUpIHtcbiAgICAgIHMuc3RhdGljX2xlbiAtPSBzdHJlZVtub2RlICogMiArIDFdLyouTGVuKi87XG4gICAgfVxuICAgIC8qIG5vZGUgaXMgMCBvciAxIHNvIGl0IGRvZXMgbm90IGhhdmUgZXh0cmEgYml0cyAqL1xuICB9XG4gIGRlc2MubWF4X2NvZGUgPSBtYXhfY29kZTtcblxuICAvKiBUaGUgZWxlbWVudHMgaGVhcFtoZWFwX2xlbi8yKzEgLi4gaGVhcF9sZW5dIGFyZSBsZWF2ZXMgb2YgdGhlIHRyZWUsXG4gICAqIGVzdGFibGlzaCBzdWItaGVhcHMgb2YgaW5jcmVhc2luZyBsZW5ndGhzOlxuICAgKi9cbiAgZm9yIChuID0gKHMuaGVhcF9sZW4gPj4gMS8qaW50IC8yKi8pOyBuID49IDE7IG4tLSkgeyBwcWRvd25oZWFwKHMsIHRyZWUsIG4pOyB9XG5cbiAgLyogQ29uc3RydWN0IHRoZSBIdWZmbWFuIHRyZWUgYnkgcmVwZWF0ZWRseSBjb21iaW5pbmcgdGhlIGxlYXN0IHR3b1xuICAgKiBmcmVxdWVudCBub2Rlcy5cbiAgICovXG4gIG5vZGUgPSBlbGVtczsgICAgICAgICAgICAgIC8qIG5leHQgaW50ZXJuYWwgbm9kZSBvZiB0aGUgdHJlZSAqL1xuICBkbyB7XG4gICAgLy9wcXJlbW92ZShzLCB0cmVlLCBuKTsgIC8qIG4gPSBub2RlIG9mIGxlYXN0IGZyZXF1ZW5jeSAqL1xuICAgIC8qKiogcHFyZW1vdmUgKioqL1xuICAgIG4gPSBzLmhlYXBbMS8qU01BTExFU1QqL107XG4gICAgcy5oZWFwWzEvKlNNQUxMRVNUKi9dID0gcy5oZWFwW3MuaGVhcF9sZW4tLV07XG4gICAgcHFkb3duaGVhcChzLCB0cmVlLCAxLypTTUFMTEVTVCovKTtcbiAgICAvKioqL1xuXG4gICAgbSA9IHMuaGVhcFsxLypTTUFMTEVTVCovXTsgLyogbSA9IG5vZGUgb2YgbmV4dCBsZWFzdCBmcmVxdWVuY3kgKi9cblxuICAgIHMuaGVhcFstLXMuaGVhcF9tYXhdID0gbjsgLyoga2VlcCB0aGUgbm9kZXMgc29ydGVkIGJ5IGZyZXF1ZW5jeSAqL1xuICAgIHMuaGVhcFstLXMuaGVhcF9tYXhdID0gbTtcblxuICAgIC8qIENyZWF0ZSBhIG5ldyBub2RlIGZhdGhlciBvZiBuIGFuZCBtICovXG4gICAgdHJlZVtub2RlICogMl0vKi5GcmVxKi8gPSB0cmVlW24gKiAyXS8qLkZyZXEqLyArIHRyZWVbbSAqIDJdLyouRnJlcSovO1xuICAgIHMuZGVwdGhbbm9kZV0gPSAocy5kZXB0aFtuXSA+PSBzLmRlcHRoW21dID8gcy5kZXB0aFtuXSA6IHMuZGVwdGhbbV0pICsgMTtcbiAgICB0cmVlW24gKiAyICsgMV0vKi5EYWQqLyA9IHRyZWVbbSAqIDIgKyAxXS8qLkRhZCovID0gbm9kZTtcblxuICAgIC8qIGFuZCBpbnNlcnQgdGhlIG5ldyBub2RlIGluIHRoZSBoZWFwICovXG4gICAgcy5oZWFwWzEvKlNNQUxMRVNUKi9dID0gbm9kZSsrO1xuICAgIHBxZG93bmhlYXAocywgdHJlZSwgMS8qU01BTExFU1QqLyk7XG5cbiAgfSB3aGlsZSAocy5oZWFwX2xlbiA+PSAyKTtcblxuICBzLmhlYXBbLS1zLmhlYXBfbWF4XSA9IHMuaGVhcFsxLypTTUFMTEVTVCovXTtcblxuICAvKiBBdCB0aGlzIHBvaW50LCB0aGUgZmllbGRzIGZyZXEgYW5kIGRhZCBhcmUgc2V0LiBXZSBjYW4gbm93XG4gICAqIGdlbmVyYXRlIHRoZSBiaXQgbGVuZ3Rocy5cbiAgICovXG4gIGdlbl9iaXRsZW4ocywgZGVzYyk7XG5cbiAgLyogVGhlIGZpZWxkIGxlbiBpcyBub3cgc2V0LCB3ZSBjYW4gZ2VuZXJhdGUgdGhlIGJpdCBjb2RlcyAqL1xuICBnZW5fY29kZXModHJlZSwgbWF4X2NvZGUsIHMuYmxfY291bnQpO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNjYW4gYSBsaXRlcmFsIG9yIGRpc3RhbmNlIHRyZWUgdG8gZGV0ZXJtaW5lIHRoZSBmcmVxdWVuY2llcyBvZiB0aGUgY29kZXNcbiAqIGluIHRoZSBiaXQgbGVuZ3RoIHRyZWUuXG4gKi9cbmNvbnN0IHNjYW5fdHJlZSA9IChzLCB0cmVlLCBtYXhfY29kZSkgPT4ge1xuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIGN0X2RhdGEgKnRyZWU7ICAgLyogdGhlIHRyZWUgdG8gYmUgc2Nhbm5lZCAqL1xuLy8gICAgaW50IG1heF9jb2RlOyAgICAvKiBhbmQgaXRzIGxhcmdlc3QgY29kZSBvZiBub24gemVybyBmcmVxdWVuY3kgKi9cblxuICBsZXQgbjsgICAgICAgICAgICAgICAgICAgICAvKiBpdGVyYXRlcyBvdmVyIGFsbCB0cmVlIGVsZW1lbnRzICovXG4gIGxldCBwcmV2bGVuID0gLTE7ICAgICAgICAgIC8qIGxhc3QgZW1pdHRlZCBsZW5ndGggKi9cbiAgbGV0IGN1cmxlbjsgICAgICAgICAgICAgICAgLyogbGVuZ3RoIG9mIGN1cnJlbnQgY29kZSAqL1xuXG4gIGxldCBuZXh0bGVuID0gdHJlZVswICogMiArIDFdLyouTGVuKi87IC8qIGxlbmd0aCBvZiBuZXh0IGNvZGUgKi9cblxuICBsZXQgY291bnQgPSAwOyAgICAgICAgICAgICAvKiByZXBlYXQgY291bnQgb2YgdGhlIGN1cnJlbnQgY29kZSAqL1xuICBsZXQgbWF4X2NvdW50ID0gNzsgICAgICAgICAvKiBtYXggcmVwZWF0IGNvdW50ICovXG4gIGxldCBtaW5fY291bnQgPSA0OyAgICAgICAgIC8qIG1pbiByZXBlYXQgY291bnQgKi9cblxuICBpZiAobmV4dGxlbiA9PT0gMCkge1xuICAgIG1heF9jb3VudCA9IDEzODtcbiAgICBtaW5fY291bnQgPSAzO1xuICB9XG4gIHRyZWVbKG1heF9jb2RlICsgMSkgKiAyICsgMV0vKi5MZW4qLyA9IDB4ZmZmZjsgLyogZ3VhcmQgKi9cblxuICBmb3IgKG4gPSAwOyBuIDw9IG1heF9jb2RlOyBuKyspIHtcbiAgICBjdXJsZW4gPSBuZXh0bGVuO1xuICAgIG5leHRsZW4gPSB0cmVlWyhuICsgMSkgKiAyICsgMV0vKi5MZW4qLztcblxuICAgIGlmICgrK2NvdW50IDwgbWF4X2NvdW50ICYmIGN1cmxlbiA9PT0gbmV4dGxlbikge1xuICAgICAgY29udGludWU7XG5cbiAgICB9IGVsc2UgaWYgKGNvdW50IDwgbWluX2NvdW50KSB7XG4gICAgICBzLmJsX3RyZWVbY3VybGVuICogMl0vKi5GcmVxKi8gKz0gY291bnQ7XG5cbiAgICB9IGVsc2UgaWYgKGN1cmxlbiAhPT0gMCkge1xuXG4gICAgICBpZiAoY3VybGVuICE9PSBwcmV2bGVuKSB7IHMuYmxfdHJlZVtjdXJsZW4gKiAyXS8qLkZyZXEqLysrOyB9XG4gICAgICBzLmJsX3RyZWVbUkVQXzNfNiAqIDJdLyouRnJlcSovKys7XG5cbiAgICB9IGVsc2UgaWYgKGNvdW50IDw9IDEwKSB7XG4gICAgICBzLmJsX3RyZWVbUkVQWl8zXzEwICogMl0vKi5GcmVxKi8rKztcblxuICAgIH0gZWxzZSB7XG4gICAgICBzLmJsX3RyZWVbUkVQWl8xMV8xMzggKiAyXS8qLkZyZXEqLysrO1xuICAgIH1cblxuICAgIGNvdW50ID0gMDtcbiAgICBwcmV2bGVuID0gY3VybGVuO1xuXG4gICAgaWYgKG5leHRsZW4gPT09IDApIHtcbiAgICAgIG1heF9jb3VudCA9IDEzODtcbiAgICAgIG1pbl9jb3VudCA9IDM7XG5cbiAgICB9IGVsc2UgaWYgKGN1cmxlbiA9PT0gbmV4dGxlbikge1xuICAgICAgbWF4X2NvdW50ID0gNjtcbiAgICAgIG1pbl9jb3VudCA9IDM7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgbWF4X2NvdW50ID0gNztcbiAgICAgIG1pbl9jb3VudCA9IDQ7XG4gICAgfVxuICB9XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2VuZCBhIGxpdGVyYWwgb3IgZGlzdGFuY2UgdHJlZSBpbiBjb21wcmVzc2VkIGZvcm0sIHVzaW5nIHRoZSBjb2RlcyBpblxuICogYmxfdHJlZS5cbiAqL1xuY29uc3Qgc2VuZF90cmVlID0gKHMsIHRyZWUsIG1heF9jb2RlKSA9PiB7XG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgY3RfZGF0YSAqdHJlZTsgLyogdGhlIHRyZWUgdG8gYmUgc2Nhbm5lZCAqL1xuLy8gICAgaW50IG1heF9jb2RlOyAgICAgICAvKiBhbmQgaXRzIGxhcmdlc3QgY29kZSBvZiBub24gemVybyBmcmVxdWVuY3kgKi9cblxuICBsZXQgbjsgICAgICAgICAgICAgICAgICAgICAvKiBpdGVyYXRlcyBvdmVyIGFsbCB0cmVlIGVsZW1lbnRzICovXG4gIGxldCBwcmV2bGVuID0gLTE7ICAgICAgICAgIC8qIGxhc3QgZW1pdHRlZCBsZW5ndGggKi9cbiAgbGV0IGN1cmxlbjsgICAgICAgICAgICAgICAgLyogbGVuZ3RoIG9mIGN1cnJlbnQgY29kZSAqL1xuXG4gIGxldCBuZXh0bGVuID0gdHJlZVswICogMiArIDFdLyouTGVuKi87IC8qIGxlbmd0aCBvZiBuZXh0IGNvZGUgKi9cblxuICBsZXQgY291bnQgPSAwOyAgICAgICAgICAgICAvKiByZXBlYXQgY291bnQgb2YgdGhlIGN1cnJlbnQgY29kZSAqL1xuICBsZXQgbWF4X2NvdW50ID0gNzsgICAgICAgICAvKiBtYXggcmVwZWF0IGNvdW50ICovXG4gIGxldCBtaW5fY291bnQgPSA0OyAgICAgICAgIC8qIG1pbiByZXBlYXQgY291bnQgKi9cblxuICAvKiB0cmVlW21heF9jb2RlKzFdLkxlbiA9IC0xOyAqLyAgLyogZ3VhcmQgYWxyZWFkeSBzZXQgKi9cbiAgaWYgKG5leHRsZW4gPT09IDApIHtcbiAgICBtYXhfY291bnQgPSAxMzg7XG4gICAgbWluX2NvdW50ID0gMztcbiAgfVxuXG4gIGZvciAobiA9IDA7IG4gPD0gbWF4X2NvZGU7IG4rKykge1xuICAgIGN1cmxlbiA9IG5leHRsZW47XG4gICAgbmV4dGxlbiA9IHRyZWVbKG4gKyAxKSAqIDIgKyAxXS8qLkxlbiovO1xuXG4gICAgaWYgKCsrY291bnQgPCBtYXhfY291bnQgJiYgY3VybGVuID09PSBuZXh0bGVuKSB7XG4gICAgICBjb250aW51ZTtcblxuICAgIH0gZWxzZSBpZiAoY291bnQgPCBtaW5fY291bnQpIHtcbiAgICAgIGRvIHsgc2VuZF9jb2RlKHMsIGN1cmxlbiwgcy5ibF90cmVlKTsgfSB3aGlsZSAoLS1jb3VudCAhPT0gMCk7XG5cbiAgICB9IGVsc2UgaWYgKGN1cmxlbiAhPT0gMCkge1xuICAgICAgaWYgKGN1cmxlbiAhPT0gcHJldmxlbikge1xuICAgICAgICBzZW5kX2NvZGUocywgY3VybGVuLCBzLmJsX3RyZWUpO1xuICAgICAgICBjb3VudC0tO1xuICAgICAgfVxuICAgICAgLy9Bc3NlcnQoY291bnQgPj0gMyAmJiBjb3VudCA8PSA2LCBcIiAzXzY/XCIpO1xuICAgICAgc2VuZF9jb2RlKHMsIFJFUF8zXzYsIHMuYmxfdHJlZSk7XG4gICAgICBzZW5kX2JpdHMocywgY291bnQgLSAzLCAyKTtcblxuICAgIH0gZWxzZSBpZiAoY291bnQgPD0gMTApIHtcbiAgICAgIHNlbmRfY29kZShzLCBSRVBaXzNfMTAsIHMuYmxfdHJlZSk7XG4gICAgICBzZW5kX2JpdHMocywgY291bnQgLSAzLCAzKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICBzZW5kX2NvZGUocywgUkVQWl8xMV8xMzgsIHMuYmxfdHJlZSk7XG4gICAgICBzZW5kX2JpdHMocywgY291bnQgLSAxMSwgNyk7XG4gICAgfVxuXG4gICAgY291bnQgPSAwO1xuICAgIHByZXZsZW4gPSBjdXJsZW47XG4gICAgaWYgKG5leHRsZW4gPT09IDApIHtcbiAgICAgIG1heF9jb3VudCA9IDEzODtcbiAgICAgIG1pbl9jb3VudCA9IDM7XG5cbiAgICB9IGVsc2UgaWYgKGN1cmxlbiA9PT0gbmV4dGxlbikge1xuICAgICAgbWF4X2NvdW50ID0gNjtcbiAgICAgIG1pbl9jb3VudCA9IDM7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgbWF4X2NvdW50ID0gNztcbiAgICAgIG1pbl9jb3VudCA9IDQ7XG4gICAgfVxuICB9XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29uc3RydWN0IHRoZSBIdWZmbWFuIHRyZWUgZm9yIHRoZSBiaXQgbGVuZ3RocyBhbmQgcmV0dXJuIHRoZSBpbmRleCBpblxuICogYmxfb3JkZXIgb2YgdGhlIGxhc3QgYml0IGxlbmd0aCBjb2RlIHRvIHNlbmQuXG4gKi9cbmNvbnN0IGJ1aWxkX2JsX3RyZWUgPSAocykgPT4ge1xuXG4gIGxldCBtYXhfYmxpbmRleDsgIC8qIGluZGV4IG9mIGxhc3QgYml0IGxlbmd0aCBjb2RlIG9mIG5vbiB6ZXJvIGZyZXEgKi9cblxuICAvKiBEZXRlcm1pbmUgdGhlIGJpdCBsZW5ndGggZnJlcXVlbmNpZXMgZm9yIGxpdGVyYWwgYW5kIGRpc3RhbmNlIHRyZWVzICovXG4gIHNjYW5fdHJlZShzLCBzLmR5bl9sdHJlZSwgcy5sX2Rlc2MubWF4X2NvZGUpO1xuICBzY2FuX3RyZWUocywgcy5keW5fZHRyZWUsIHMuZF9kZXNjLm1heF9jb2RlKTtcblxuICAvKiBCdWlsZCB0aGUgYml0IGxlbmd0aCB0cmVlOiAqL1xuICBidWlsZF90cmVlKHMsIHMuYmxfZGVzYyk7XG4gIC8qIG9wdF9sZW4gbm93IGluY2x1ZGVzIHRoZSBsZW5ndGggb2YgdGhlIHRyZWUgcmVwcmVzZW50YXRpb25zLCBleGNlcHRcbiAgICogdGhlIGxlbmd0aHMgb2YgdGhlIGJpdCBsZW5ndGhzIGNvZGVzIGFuZCB0aGUgNSs1KzQgYml0cyBmb3IgdGhlIGNvdW50cy5cbiAgICovXG5cbiAgLyogRGV0ZXJtaW5lIHRoZSBudW1iZXIgb2YgYml0IGxlbmd0aCBjb2RlcyB0byBzZW5kLiBUaGUgcGt6aXAgZm9ybWF0XG4gICAqIHJlcXVpcmVzIHRoYXQgYXQgbGVhc3QgNCBiaXQgbGVuZ3RoIGNvZGVzIGJlIHNlbnQuIChhcHBub3RlLnR4dCBzYXlzXG4gICAqIDMgYnV0IHRoZSBhY3R1YWwgdmFsdWUgdXNlZCBpcyA0LilcbiAgICovXG4gIGZvciAobWF4X2JsaW5kZXggPSBCTF9DT0RFUyQxIC0gMTsgbWF4X2JsaW5kZXggPj0gMzsgbWF4X2JsaW5kZXgtLSkge1xuICAgIGlmIChzLmJsX3RyZWVbYmxfb3JkZXJbbWF4X2JsaW5kZXhdICogMiArIDFdLyouTGVuKi8gIT09IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAvKiBVcGRhdGUgb3B0X2xlbiB0byBpbmNsdWRlIHRoZSBiaXQgbGVuZ3RoIHRyZWUgYW5kIGNvdW50cyAqL1xuICBzLm9wdF9sZW4gKz0gMyAqIChtYXhfYmxpbmRleCArIDEpICsgNSArIDUgKyA0O1xuICAvL1RyYWNldigoc3RkZXJyLCBcIlxcbmR5biB0cmVlczogZHluICVsZCwgc3RhdCAlbGRcIixcbiAgLy8gICAgICAgIHMtPm9wdF9sZW4sIHMtPnN0YXRpY19sZW4pKTtcblxuICByZXR1cm4gbWF4X2JsaW5kZXg7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2VuZCB0aGUgaGVhZGVyIGZvciBhIGJsb2NrIHVzaW5nIGR5bmFtaWMgSHVmZm1hbiB0cmVlczogdGhlIGNvdW50cywgdGhlXG4gKiBsZW5ndGhzIG9mIHRoZSBiaXQgbGVuZ3RoIGNvZGVzLCB0aGUgbGl0ZXJhbCB0cmVlIGFuZCB0aGUgZGlzdGFuY2UgdHJlZS5cbiAqIElOIGFzc2VydGlvbjogbGNvZGVzID49IDI1NywgZGNvZGVzID49IDEsIGJsY29kZXMgPj0gNC5cbiAqL1xuY29uc3Qgc2VuZF9hbGxfdHJlZXMgPSAocywgbGNvZGVzLCBkY29kZXMsIGJsY29kZXMpID0+IHtcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICBpbnQgbGNvZGVzLCBkY29kZXMsIGJsY29kZXM7IC8qIG51bWJlciBvZiBjb2RlcyBmb3IgZWFjaCB0cmVlICovXG5cbiAgbGV0IHJhbms7ICAgICAgICAgICAgICAgICAgICAvKiBpbmRleCBpbiBibF9vcmRlciAqL1xuXG4gIC8vQXNzZXJ0IChsY29kZXMgPj0gMjU3ICYmIGRjb2RlcyA+PSAxICYmIGJsY29kZXMgPj0gNCwgXCJub3QgZW5vdWdoIGNvZGVzXCIpO1xuICAvL0Fzc2VydCAobGNvZGVzIDw9IExfQ09ERVMgJiYgZGNvZGVzIDw9IERfQ09ERVMgJiYgYmxjb2RlcyA8PSBCTF9DT0RFUyxcbiAgLy8gICAgICAgIFwidG9vIG1hbnkgY29kZXNcIik7XG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxuYmwgY291bnRzOiBcIikpO1xuICBzZW5kX2JpdHMocywgbGNvZGVzIC0gMjU3LCA1KTsgLyogbm90ICsyNTUgYXMgc3RhdGVkIGluIGFwcG5vdGUudHh0ICovXG4gIHNlbmRfYml0cyhzLCBkY29kZXMgLSAxLCAgIDUpO1xuICBzZW5kX2JpdHMocywgYmxjb2RlcyAtIDQsICA0KTsgLyogbm90IC0zIGFzIHN0YXRlZCBpbiBhcHBub3RlLnR4dCAqL1xuICBmb3IgKHJhbmsgPSAwOyByYW5rIDwgYmxjb2RlczsgcmFuaysrKSB7XG4gICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJcXG5ibCBjb2RlICUyZCBcIiwgYmxfb3JkZXJbcmFua10pKTtcbiAgICBzZW5kX2JpdHMocywgcy5ibF90cmVlW2JsX29yZGVyW3JhbmtdICogMiArIDFdLyouTGVuKi8sIDMpO1xuICB9XG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxuYmwgdHJlZTogc2VudCAlbGRcIiwgcy0+Yml0c19zZW50KSk7XG5cbiAgc2VuZF90cmVlKHMsIHMuZHluX2x0cmVlLCBsY29kZXMgLSAxKTsgLyogbGl0ZXJhbCB0cmVlICovXG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxubGl0IHRyZWU6IHNlbnQgJWxkXCIsIHMtPmJpdHNfc2VudCkpO1xuXG4gIHNlbmRfdHJlZShzLCBzLmR5bl9kdHJlZSwgZGNvZGVzIC0gMSk7IC8qIGRpc3RhbmNlIHRyZWUgKi9cbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJcXG5kaXN0IHRyZWU6IHNlbnQgJWxkXCIsIHMtPmJpdHNfc2VudCkpO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENoZWNrIGlmIHRoZSBkYXRhIHR5cGUgaXMgVEVYVCBvciBCSU5BUlksIHVzaW5nIHRoZSBmb2xsb3dpbmcgYWxnb3JpdGhtOlxuICogLSBURVhUIGlmIHRoZSB0d28gY29uZGl0aW9ucyBiZWxvdyBhcmUgc2F0aXNmaWVkOlxuICogICAgYSkgVGhlcmUgYXJlIG5vIG5vbi1wb3J0YWJsZSBjb250cm9sIGNoYXJhY3RlcnMgYmVsb25naW5nIHRvIHRoZVxuICogICAgICAgXCJibG9jayBsaXN0XCIgKDAuLjYsIDE0Li4yNSwgMjguLjMxKS5cbiAqICAgIGIpIFRoZXJlIGlzIGF0IGxlYXN0IG9uZSBwcmludGFibGUgY2hhcmFjdGVyIGJlbG9uZ2luZyB0byB0aGVcbiAqICAgICAgIFwiYWxsb3cgbGlzdFwiICg5IHtUQUJ9LCAxMCB7TEZ9LCAxMyB7Q1J9LCAzMi4uMjU1KS5cbiAqIC0gQklOQVJZIG90aGVyd2lzZS5cbiAqIC0gVGhlIGZvbGxvd2luZyBwYXJ0aWFsbHktcG9ydGFibGUgY29udHJvbCBjaGFyYWN0ZXJzIGZvcm0gYVxuICogICBcImdyYXkgbGlzdFwiIHRoYXQgaXMgaWdub3JlZCBpbiB0aGlzIGRldGVjdGlvbiBhbGdvcml0aG06XG4gKiAgICg3IHtCRUx9LCA4IHtCU30sIDExIHtWVH0sIDEyIHtGRn0sIDI2IHtTVUJ9LCAyNyB7RVNDfSkuXG4gKiBJTiBhc3NlcnRpb246IHRoZSBmaWVsZHMgRnJlcSBvZiBkeW5fbHRyZWUgYXJlIHNldC5cbiAqL1xuY29uc3QgZGV0ZWN0X2RhdGFfdHlwZSA9IChzKSA9PiB7XG4gIC8qIGJsb2NrX21hc2sgaXMgdGhlIGJpdCBtYXNrIG9mIGJsb2NrLWxpc3RlZCBieXRlc1xuICAgKiBzZXQgYml0cyAwLi42LCAxNC4uMjUsIGFuZCAyOC4uMzFcbiAgICogMHhmM2ZmYzA3ZiA9IGJpbmFyeSAxMTExMDAxMTExMTExMTExMTEwMDAwMDAwMTExMTExMVxuICAgKi9cbiAgbGV0IGJsb2NrX21hc2sgPSAweGYzZmZjMDdmO1xuICBsZXQgbjtcblxuICAvKiBDaGVjayBmb3Igbm9uLXRleHR1YWwgKFwiYmxvY2stbGlzdGVkXCIpIGJ5dGVzLiAqL1xuICBmb3IgKG4gPSAwOyBuIDw9IDMxOyBuKyssIGJsb2NrX21hc2sgPj4+PSAxKSB7XG4gICAgaWYgKChibG9ja19tYXNrICYgMSkgJiYgKHMuZHluX2x0cmVlW24gKiAyXS8qLkZyZXEqLyAhPT0gMCkpIHtcbiAgICAgIHJldHVybiBaX0JJTkFSWTtcbiAgICB9XG4gIH1cblxuICAvKiBDaGVjayBmb3IgdGV4dHVhbCAoXCJhbGxvdy1saXN0ZWRcIikgYnl0ZXMuICovXG4gIGlmIChzLmR5bl9sdHJlZVs5ICogMl0vKi5GcmVxKi8gIT09IDAgfHwgcy5keW5fbHRyZWVbMTAgKiAyXS8qLkZyZXEqLyAhPT0gMCB8fFxuICAgICAgcy5keW5fbHRyZWVbMTMgKiAyXS8qLkZyZXEqLyAhPT0gMCkge1xuICAgIHJldHVybiBaX1RFWFQ7XG4gIH1cbiAgZm9yIChuID0gMzI7IG4gPCBMSVRFUkFMUyQxOyBuKyspIHtcbiAgICBpZiAocy5keW5fbHRyZWVbbiAqIDJdLyouRnJlcSovICE9PSAwKSB7XG4gICAgICByZXR1cm4gWl9URVhUO1xuICAgIH1cbiAgfVxuXG4gIC8qIFRoZXJlIGFyZSBubyBcImJsb2NrLWxpc3RlZFwiIG9yIFwiYWxsb3ctbGlzdGVkXCIgYnl0ZXM6XG4gICAqIHRoaXMgc3RyZWFtIGVpdGhlciBpcyBlbXB0eSBvciBoYXMgdG9sZXJhdGVkIChcImdyYXktbGlzdGVkXCIpIGJ5dGVzIG9ubHkuXG4gICAqL1xuICByZXR1cm4gWl9CSU5BUlk7XG59O1xuXG5cbmxldCBzdGF0aWNfaW5pdF9kb25lID0gZmFsc2U7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW5pdGlhbGl6ZSB0aGUgdHJlZSBkYXRhIHN0cnVjdHVyZXMgZm9yIGEgbmV3IHpsaWIgc3RyZWFtLlxuICovXG5jb25zdCBfdHJfaW5pdCQxID0gKHMpID0+XG57XG5cbiAgaWYgKCFzdGF0aWNfaW5pdF9kb25lKSB7XG4gICAgdHJfc3RhdGljX2luaXQoKTtcbiAgICBzdGF0aWNfaW5pdF9kb25lID0gdHJ1ZTtcbiAgfVxuXG4gIHMubF9kZXNjICA9IG5ldyBUcmVlRGVzYyhzLmR5bl9sdHJlZSwgc3RhdGljX2xfZGVzYyk7XG4gIHMuZF9kZXNjICA9IG5ldyBUcmVlRGVzYyhzLmR5bl9kdHJlZSwgc3RhdGljX2RfZGVzYyk7XG4gIHMuYmxfZGVzYyA9IG5ldyBUcmVlRGVzYyhzLmJsX3RyZWUsIHN0YXRpY19ibF9kZXNjKTtcblxuICBzLmJpX2J1ZiA9IDA7XG4gIHMuYmlfdmFsaWQgPSAwO1xuXG4gIC8qIEluaXRpYWxpemUgdGhlIGZpcnN0IGJsb2NrIG9mIHRoZSBmaXJzdCBmaWxlOiAqL1xuICBpbml0X2Jsb2NrKHMpO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNlbmQgYSBzdG9yZWQgYmxvY2tcbiAqL1xuY29uc3QgX3RyX3N0b3JlZF9ibG9jayQxID0gKHMsIGJ1Ziwgc3RvcmVkX2xlbiwgbGFzdCkgPT4ge1xuLy9EZWZsYXRlU3RhdGUgKnM7XG4vL2NoYXJmICpidWY7ICAgICAgIC8qIGlucHV0IGJsb2NrICovXG4vL3VsZyBzdG9yZWRfbGVuOyAgIC8qIGxlbmd0aCBvZiBpbnB1dCBibG9jayAqL1xuLy9pbnQgbGFzdDsgICAgICAgICAvKiBvbmUgaWYgdGhpcyBpcyB0aGUgbGFzdCBibG9jayBmb3IgYSBmaWxlICovXG5cbiAgc2VuZF9iaXRzKHMsIChTVE9SRURfQkxPQ0sgPDwgMSkgKyAobGFzdCA/IDEgOiAwKSwgMyk7ICAgIC8qIHNlbmQgYmxvY2sgdHlwZSAqL1xuICBiaV93aW5kdXAocyk7ICAgICAgICAvKiBhbGlnbiBvbiBieXRlIGJvdW5kYXJ5ICovXG4gIHB1dF9zaG9ydChzLCBzdG9yZWRfbGVuKTtcbiAgcHV0X3Nob3J0KHMsIH5zdG9yZWRfbGVuKTtcbiAgaWYgKHN0b3JlZF9sZW4pIHtcbiAgICBzLnBlbmRpbmdfYnVmLnNldChzLndpbmRvdy5zdWJhcnJheShidWYsIGJ1ZiArIHN0b3JlZF9sZW4pLCBzLnBlbmRpbmcpO1xuICB9XG4gIHMucGVuZGluZyArPSBzdG9yZWRfbGVuO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNlbmQgb25lIGVtcHR5IHN0YXRpYyBibG9jayB0byBnaXZlIGVub3VnaCBsb29rYWhlYWQgZm9yIGluZmxhdGUuXG4gKiBUaGlzIHRha2VzIDEwIGJpdHMsIG9mIHdoaWNoIDcgbWF5IHJlbWFpbiBpbiB0aGUgYml0IGJ1ZmZlci5cbiAqL1xuY29uc3QgX3RyX2FsaWduJDEgPSAocykgPT4ge1xuICBzZW5kX2JpdHMocywgU1RBVElDX1RSRUVTIDw8IDEsIDMpO1xuICBzZW5kX2NvZGUocywgRU5EX0JMT0NLLCBzdGF0aWNfbHRyZWUpO1xuICBiaV9mbHVzaChzKTtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBEZXRlcm1pbmUgdGhlIGJlc3QgZW5jb2RpbmcgZm9yIHRoZSBjdXJyZW50IGJsb2NrOiBkeW5hbWljIHRyZWVzLCBzdGF0aWNcbiAqIHRyZWVzIG9yIHN0b3JlLCBhbmQgd3JpdGUgb3V0IHRoZSBlbmNvZGVkIGJsb2NrLlxuICovXG5jb25zdCBfdHJfZmx1c2hfYmxvY2skMSA9IChzLCBidWYsIHN0b3JlZF9sZW4sIGxhc3QpID0+IHtcbi8vRGVmbGF0ZVN0YXRlICpzO1xuLy9jaGFyZiAqYnVmOyAgICAgICAvKiBpbnB1dCBibG9jaywgb3IgTlVMTCBpZiB0b28gb2xkICovXG4vL3VsZyBzdG9yZWRfbGVuOyAgIC8qIGxlbmd0aCBvZiBpbnB1dCBibG9jayAqL1xuLy9pbnQgbGFzdDsgICAgICAgICAvKiBvbmUgaWYgdGhpcyBpcyB0aGUgbGFzdCBibG9jayBmb3IgYSBmaWxlICovXG5cbiAgbGV0IG9wdF9sZW5iLCBzdGF0aWNfbGVuYjsgIC8qIG9wdF9sZW4gYW5kIHN0YXRpY19sZW4gaW4gYnl0ZXMgKi9cbiAgbGV0IG1heF9ibGluZGV4ID0gMDsgICAgICAgIC8qIGluZGV4IG9mIGxhc3QgYml0IGxlbmd0aCBjb2RlIG9mIG5vbiB6ZXJvIGZyZXEgKi9cblxuICAvKiBCdWlsZCB0aGUgSHVmZm1hbiB0cmVlcyB1bmxlc3MgYSBzdG9yZWQgYmxvY2sgaXMgZm9yY2VkICovXG4gIGlmIChzLmxldmVsID4gMCkge1xuXG4gICAgLyogQ2hlY2sgaWYgdGhlIGZpbGUgaXMgYmluYXJ5IG9yIHRleHQgKi9cbiAgICBpZiAocy5zdHJtLmRhdGFfdHlwZSA9PT0gWl9VTktOT1dOJDEpIHtcbiAgICAgIHMuc3RybS5kYXRhX3R5cGUgPSBkZXRlY3RfZGF0YV90eXBlKHMpO1xuICAgIH1cblxuICAgIC8qIENvbnN0cnVjdCB0aGUgbGl0ZXJhbCBhbmQgZGlzdGFuY2UgdHJlZXMgKi9cbiAgICBidWlsZF90cmVlKHMsIHMubF9kZXNjKTtcbiAgICAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5saXQgZGF0YTogZHluICVsZCwgc3RhdCAlbGRcIiwgcy0+b3B0X2xlbixcbiAgICAvLyAgICAgICAgcy0+c3RhdGljX2xlbikpO1xuXG4gICAgYnVpbGRfdHJlZShzLCBzLmRfZGVzYyk7XG4gICAgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxuZGlzdCBkYXRhOiBkeW4gJWxkLCBzdGF0ICVsZFwiLCBzLT5vcHRfbGVuLFxuICAgIC8vICAgICAgICBzLT5zdGF0aWNfbGVuKSk7XG4gICAgLyogQXQgdGhpcyBwb2ludCwgb3B0X2xlbiBhbmQgc3RhdGljX2xlbiBhcmUgdGhlIHRvdGFsIGJpdCBsZW5ndGhzIG9mXG4gICAgICogdGhlIGNvbXByZXNzZWQgYmxvY2sgZGF0YSwgZXhjbHVkaW5nIHRoZSB0cmVlIHJlcHJlc2VudGF0aW9ucy5cbiAgICAgKi9cblxuICAgIC8qIEJ1aWxkIHRoZSBiaXQgbGVuZ3RoIHRyZWUgZm9yIHRoZSBhYm92ZSB0d28gdHJlZXMsIGFuZCBnZXQgdGhlIGluZGV4XG4gICAgICogaW4gYmxfb3JkZXIgb2YgdGhlIGxhc3QgYml0IGxlbmd0aCBjb2RlIHRvIHNlbmQuXG4gICAgICovXG4gICAgbWF4X2JsaW5kZXggPSBidWlsZF9ibF90cmVlKHMpO1xuXG4gICAgLyogRGV0ZXJtaW5lIHRoZSBiZXN0IGVuY29kaW5nLiBDb21wdXRlIHRoZSBibG9jayBsZW5ndGhzIGluIGJ5dGVzLiAqL1xuICAgIG9wdF9sZW5iID0gKHMub3B0X2xlbiArIDMgKyA3KSA+Pj4gMztcbiAgICBzdGF0aWNfbGVuYiA9IChzLnN0YXRpY19sZW4gKyAzICsgNykgPj4+IDM7XG5cbiAgICAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5vcHQgJWx1KCVsdSkgc3RhdCAlbHUoJWx1KSBzdG9yZWQgJWx1IGxpdCAldSBcIixcbiAgICAvLyAgICAgICAgb3B0X2xlbmIsIHMtPm9wdF9sZW4sIHN0YXRpY19sZW5iLCBzLT5zdGF0aWNfbGVuLCBzdG9yZWRfbGVuLFxuICAgIC8vICAgICAgICBzLT5zeW1fbmV4dCAvIDMpKTtcblxuICAgIGlmIChzdGF0aWNfbGVuYiA8PSBvcHRfbGVuYikgeyBvcHRfbGVuYiA9IHN0YXRpY19sZW5iOyB9XG5cbiAgfSBlbHNlIHtcbiAgICAvLyBBc3NlcnQoYnVmICE9IChjaGFyKikwLCBcImxvc3QgYnVmXCIpO1xuICAgIG9wdF9sZW5iID0gc3RhdGljX2xlbmIgPSBzdG9yZWRfbGVuICsgNTsgLyogZm9yY2UgYSBzdG9yZWQgYmxvY2sgKi9cbiAgfVxuXG4gIGlmICgoc3RvcmVkX2xlbiArIDQgPD0gb3B0X2xlbmIpICYmIChidWYgIT09IC0xKSkge1xuICAgIC8qIDQ6IHR3byB3b3JkcyBmb3IgdGhlIGxlbmd0aHMgKi9cblxuICAgIC8qIFRoZSB0ZXN0IGJ1ZiAhPSBOVUxMIGlzIG9ubHkgbmVjZXNzYXJ5IGlmIExJVF9CVUZTSVpFID4gV1NJWkUuXG4gICAgICogT3RoZXJ3aXNlIHdlIGNhbid0IGhhdmUgcHJvY2Vzc2VkIG1vcmUgdGhhbiBXU0laRSBpbnB1dCBieXRlcyBzaW5jZVxuICAgICAqIHRoZSBsYXN0IGJsb2NrIGZsdXNoLCBiZWNhdXNlIGNvbXByZXNzaW9uIHdvdWxkIGhhdmUgYmVlblxuICAgICAqIHN1Y2Nlc3NmdWwuIElmIExJVF9CVUZTSVpFIDw9IFdTSVpFLCBpdCBpcyBuZXZlciB0b28gbGF0ZSB0b1xuICAgICAqIHRyYW5zZm9ybSBhIGJsb2NrIGludG8gYSBzdG9yZWQgYmxvY2suXG4gICAgICovXG4gICAgX3RyX3N0b3JlZF9ibG9jayQxKHMsIGJ1Ziwgc3RvcmVkX2xlbiwgbGFzdCk7XG5cbiAgfSBlbHNlIGlmIChzLnN0cmF0ZWd5ID09PSBaX0ZJWEVEJDEgfHwgc3RhdGljX2xlbmIgPT09IG9wdF9sZW5iKSB7XG5cbiAgICBzZW5kX2JpdHMocywgKFNUQVRJQ19UUkVFUyA8PCAxKSArIChsYXN0ID8gMSA6IDApLCAzKTtcbiAgICBjb21wcmVzc19ibG9jayhzLCBzdGF0aWNfbHRyZWUsIHN0YXRpY19kdHJlZSk7XG5cbiAgfSBlbHNlIHtcbiAgICBzZW5kX2JpdHMocywgKERZTl9UUkVFUyA8PCAxKSArIChsYXN0ID8gMSA6IDApLCAzKTtcbiAgICBzZW5kX2FsbF90cmVlcyhzLCBzLmxfZGVzYy5tYXhfY29kZSArIDEsIHMuZF9kZXNjLm1heF9jb2RlICsgMSwgbWF4X2JsaW5kZXggKyAxKTtcbiAgICBjb21wcmVzc19ibG9jayhzLCBzLmR5bl9sdHJlZSwgcy5keW5fZHRyZWUpO1xuICB9XG4gIC8vIEFzc2VydCAocy0+Y29tcHJlc3NlZF9sZW4gPT0gcy0+Yml0c19zZW50LCBcImJhZCBjb21wcmVzc2VkIHNpemVcIik7XG4gIC8qIFRoZSBhYm92ZSBjaGVjayBpcyBtYWRlIG1vZCAyXjMyLCBmb3IgZmlsZXMgbGFyZ2VyIHRoYW4gNTEyIE1CXG4gICAqIGFuZCB1TG9uZyBpbXBsZW1lbnRlZCBvbiAzMiBiaXRzLlxuICAgKi9cbiAgaW5pdF9ibG9jayhzKTtcblxuICBpZiAobGFzdCkge1xuICAgIGJpX3dpbmR1cChzKTtcbiAgfVxuICAvLyBUcmFjZXYoKHN0ZGVycixcIlxcbmNvbXBybGVuICVsdSglbHUpIFwiLCBzLT5jb21wcmVzc2VkX2xlbj4+MyxcbiAgLy8gICAgICAgcy0+Y29tcHJlc3NlZF9sZW4tNypsYXN0KSk7XG59O1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNhdmUgdGhlIG1hdGNoIGluZm8gYW5kIHRhbGx5IHRoZSBmcmVxdWVuY3kgY291bnRzLiBSZXR1cm4gdHJ1ZSBpZlxuICogdGhlIGN1cnJlbnQgYmxvY2sgbXVzdCBiZSBmbHVzaGVkLlxuICovXG5jb25zdCBfdHJfdGFsbHkkMSA9IChzLCBkaXN0LCBsYykgPT4ge1xuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIHVuc2lnbmVkIGRpc3Q7ICAvKiBkaXN0YW5jZSBvZiBtYXRjaGVkIHN0cmluZyAqL1xuLy8gICAgdW5zaWduZWQgbGM7ICAgIC8qIG1hdGNoIGxlbmd0aC1NSU5fTUFUQ0ggb3IgdW5tYXRjaGVkIGNoYXIgKGlmIGRpc3Q9PTApICovXG5cbiAgcy5wZW5kaW5nX2J1ZltzLnN5bV9idWYgKyBzLnN5bV9uZXh0KytdID0gZGlzdDtcbiAgcy5wZW5kaW5nX2J1ZltzLnN5bV9idWYgKyBzLnN5bV9uZXh0KytdID0gZGlzdCA+PiA4O1xuICBzLnBlbmRpbmdfYnVmW3Muc3ltX2J1ZiArIHMuc3ltX25leHQrK10gPSBsYztcbiAgaWYgKGRpc3QgPT09IDApIHtcbiAgICAvKiBsYyBpcyB0aGUgdW5tYXRjaGVkIGNoYXIgKi9cbiAgICBzLmR5bl9sdHJlZVtsYyAqIDJdLyouRnJlcSovKys7XG4gIH0gZWxzZSB7XG4gICAgcy5tYXRjaGVzKys7XG4gICAgLyogSGVyZSwgbGMgaXMgdGhlIG1hdGNoIGxlbmd0aCAtIE1JTl9NQVRDSCAqL1xuICAgIGRpc3QtLTsgICAgICAgICAgICAgLyogZGlzdCA9IG1hdGNoIGRpc3RhbmNlIC0gMSAqL1xuICAgIC8vQXNzZXJ0KCh1c2gpZGlzdCA8ICh1c2gpTUFYX0RJU1QocykgJiZcbiAgICAvLyAgICAgICAodXNoKWxjIDw9ICh1c2gpKE1BWF9NQVRDSC1NSU5fTUFUQ0gpICYmXG4gICAgLy8gICAgICAgKHVzaClkX2NvZGUoZGlzdCkgPCAodXNoKURfQ09ERVMsICBcIl90cl90YWxseTogYmFkIG1hdGNoXCIpO1xuXG4gICAgcy5keW5fbHRyZWVbKF9sZW5ndGhfY29kZVtsY10gKyBMSVRFUkFMUyQxICsgMSkgKiAyXS8qLkZyZXEqLysrO1xuICAgIHMuZHluX2R0cmVlW2RfY29kZShkaXN0KSAqIDJdLyouRnJlcSovKys7XG4gIH1cblxuICByZXR1cm4gKHMuc3ltX25leHQgPT09IHMuc3ltX2VuZCk7XG59O1xuXG52YXIgX3RyX2luaXRfMSAgPSBfdHJfaW5pdCQxO1xudmFyIF90cl9zdG9yZWRfYmxvY2tfMSA9IF90cl9zdG9yZWRfYmxvY2skMTtcbnZhciBfdHJfZmx1c2hfYmxvY2tfMSAgPSBfdHJfZmx1c2hfYmxvY2skMTtcbnZhciBfdHJfdGFsbHlfMSA9IF90cl90YWxseSQxO1xudmFyIF90cl9hbGlnbl8xID0gX3RyX2FsaWduJDE7XG5cbnZhciB0cmVlcyA9IHtcblx0X3RyX2luaXQ6IF90cl9pbml0XzEsXG5cdF90cl9zdG9yZWRfYmxvY2s6IF90cl9zdG9yZWRfYmxvY2tfMSxcblx0X3RyX2ZsdXNoX2Jsb2NrOiBfdHJfZmx1c2hfYmxvY2tfMSxcblx0X3RyX3RhbGx5OiBfdHJfdGFsbHlfMSxcblx0X3RyX2FsaWduOiBfdHJfYWxpZ25fMVxufTtcblxuLy8gTm90ZTogYWRsZXIzMiB0YWtlcyAxMiUgZm9yIGxldmVsIDAgYW5kIDIlIGZvciBsZXZlbCA2LlxuLy8gSXQgaXNuJ3Qgd29ydGggaXQgdG8gbWFrZSBhZGRpdGlvbmFsIG9wdGltaXphdGlvbnMgYXMgaW4gb3JpZ2luYWwuXG4vLyBTbWFsbCBzaXplIGlzIHByZWZlcmFibGUuXG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxuY29uc3QgYWRsZXIzMiA9IChhZGxlciwgYnVmLCBsZW4sIHBvcykgPT4ge1xuICBsZXQgczEgPSAoYWRsZXIgJiAweGZmZmYpIHwwLFxuICAgICAgczIgPSAoKGFkbGVyID4+PiAxNikgJiAweGZmZmYpIHwwLFxuICAgICAgbiA9IDA7XG5cbiAgd2hpbGUgKGxlbiAhPT0gMCkge1xuICAgIC8vIFNldCBsaW1pdCB+IHR3aWNlIGxlc3MgdGhhbiA1NTUyLCB0byBrZWVwXG4gICAgLy8gczIgaW4gMzEtYml0cywgYmVjYXVzZSB3ZSBmb3JjZSBzaWduZWQgaW50cy5cbiAgICAvLyBpbiBvdGhlciBjYXNlICU9IHdpbGwgZmFpbC5cbiAgICBuID0gbGVuID4gMjAwMCA/IDIwMDAgOiBsZW47XG4gICAgbGVuIC09IG47XG5cbiAgICBkbyB7XG4gICAgICBzMSA9IChzMSArIGJ1Zltwb3MrK10pIHwwO1xuICAgICAgczIgPSAoczIgKyBzMSkgfDA7XG4gICAgfSB3aGlsZSAoLS1uKTtcblxuICAgIHMxICU9IDY1NTIxO1xuICAgIHMyICU9IDY1NTIxO1xuICB9XG5cbiAgcmV0dXJuIChzMSB8IChzMiA8PCAxNikpIHwwO1xufTtcblxuXG52YXIgYWRsZXIzMl8xID0gYWRsZXIzMjtcblxuLy8gTm90ZTogd2UgY2FuJ3QgZ2V0IHNpZ25pZmljYW50IHNwZWVkIGJvb3N0IGhlcmUuXG4vLyBTbyB3cml0ZSBjb2RlIHRvIG1pbmltaXplIHNpemUgLSBubyBwcmVnZW5lcmF0ZWQgdGFibGVzXG4vLyBhbmQgYXJyYXkgdG9vbHMgZGVwZW5kZW5jaWVzLlxuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbi8vIFVzZSBvcmRpbmFyeSBhcnJheSwgc2luY2UgdW50eXBlZCBtYWtlcyBubyBib29zdCBoZXJlXG5jb25zdCBtYWtlVGFibGUgPSAoKSA9PiB7XG4gIGxldCBjLCB0YWJsZSA9IFtdO1xuXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgMjU2OyBuKyspIHtcbiAgICBjID0gbjtcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IDg7IGsrKykge1xuICAgICAgYyA9ICgoYyAmIDEpID8gKDB4RURCODgzMjAgXiAoYyA+Pj4gMSkpIDogKGMgPj4+IDEpKTtcbiAgICB9XG4gICAgdGFibGVbbl0gPSBjO1xuICB9XG5cbiAgcmV0dXJuIHRhYmxlO1xufTtcblxuLy8gQ3JlYXRlIHRhYmxlIG9uIGxvYWQuIEp1c3QgMjU1IHNpZ25lZCBsb25ncy4gTm90IGEgcHJvYmxlbS5cbmNvbnN0IGNyY1RhYmxlID0gbmV3IFVpbnQzMkFycmF5KG1ha2VUYWJsZSgpKTtcblxuXG5jb25zdCBjcmMzMiA9IChjcmMsIGJ1ZiwgbGVuLCBwb3MpID0+IHtcbiAgY29uc3QgdCA9IGNyY1RhYmxlO1xuICBjb25zdCBlbmQgPSBwb3MgKyBsZW47XG5cbiAgY3JjIF49IC0xO1xuXG4gIGZvciAobGV0IGkgPSBwb3M7IGkgPCBlbmQ7IGkrKykge1xuICAgIGNyYyA9IChjcmMgPj4+IDgpIF4gdFsoY3JjIF4gYnVmW2ldKSAmIDB4RkZdO1xuICB9XG5cbiAgcmV0dXJuIChjcmMgXiAoLTEpKTsgLy8gPj4+IDA7XG59O1xuXG5cbnZhciBjcmMzMl8xID0gY3JjMzI7XG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxudmFyIG1lc3NhZ2VzID0ge1xuICAyOiAgICAgICduZWVkIGRpY3Rpb25hcnknLCAgICAgLyogWl9ORUVEX0RJQ1QgICAgICAgMiAgKi9cbiAgMTogICAgICAnc3RyZWFtIGVuZCcsICAgICAgICAgIC8qIFpfU1RSRUFNX0VORCAgICAgIDEgICovXG4gIDA6ICAgICAgJycsICAgICAgICAgICAgICAgICAgICAvKiBaX09LICAgICAgICAgICAgICAwICAqL1xuICAnLTEnOiAgICdmaWxlIGVycm9yJywgICAgICAgICAgLyogWl9FUlJOTyAgICAgICAgICgtMSkgKi9cbiAgJy0yJzogICAnc3RyZWFtIGVycm9yJywgICAgICAgIC8qIFpfU1RSRUFNX0VSUk9SICAoLTIpICovXG4gICctMyc6ICAgJ2RhdGEgZXJyb3InLCAgICAgICAgICAvKiBaX0RBVEFfRVJST1IgICAgKC0zKSAqL1xuICAnLTQnOiAgICdpbnN1ZmZpY2llbnQgbWVtb3J5JywgLyogWl9NRU1fRVJST1IgICAgICgtNCkgKi9cbiAgJy01JzogICAnYnVmZmVyIGVycm9yJywgICAgICAgIC8qIFpfQlVGX0VSUk9SICAgICAoLTUpICovXG4gICctNic6ICAgJ2luY29tcGF0aWJsZSB2ZXJzaW9uJyAvKiBaX1ZFUlNJT05fRVJST1IgKC02KSAqL1xufTtcblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG52YXIgY29uc3RhbnRzJDIgPSB7XG5cbiAgLyogQWxsb3dlZCBmbHVzaCB2YWx1ZXM7IHNlZSBkZWZsYXRlKCkgYW5kIGluZmxhdGUoKSBiZWxvdyBmb3IgZGV0YWlscyAqL1xuICBaX05PX0ZMVVNIOiAgICAgICAgIDAsXG4gIFpfUEFSVElBTF9GTFVTSDogICAgMSxcbiAgWl9TWU5DX0ZMVVNIOiAgICAgICAyLFxuICBaX0ZVTExfRkxVU0g6ICAgICAgIDMsXG4gIFpfRklOSVNIOiAgICAgICAgICAgNCxcbiAgWl9CTE9DSzogICAgICAgICAgICA1LFxuICBaX1RSRUVTOiAgICAgICAgICAgIDYsXG5cbiAgLyogUmV0dXJuIGNvZGVzIGZvciB0aGUgY29tcHJlc3Npb24vZGVjb21wcmVzc2lvbiBmdW5jdGlvbnMuIE5lZ2F0aXZlIHZhbHVlc1xuICAqIGFyZSBlcnJvcnMsIHBvc2l0aXZlIHZhbHVlcyBhcmUgdXNlZCBmb3Igc3BlY2lhbCBidXQgbm9ybWFsIGV2ZW50cy5cbiAgKi9cbiAgWl9PSzogICAgICAgICAgICAgICAwLFxuICBaX1NUUkVBTV9FTkQ6ICAgICAgIDEsXG4gIFpfTkVFRF9ESUNUOiAgICAgICAgMixcbiAgWl9FUlJOTzogICAgICAgICAgIC0xLFxuICBaX1NUUkVBTV9FUlJPUjogICAgLTIsXG4gIFpfREFUQV9FUlJPUjogICAgICAtMyxcbiAgWl9NRU1fRVJST1I6ICAgICAgIC00LFxuICBaX0JVRl9FUlJPUjogICAgICAgLTUsXG4gIC8vWl9WRVJTSU9OX0VSUk9SOiAtNixcblxuICAvKiBjb21wcmVzc2lvbiBsZXZlbHMgKi9cbiAgWl9OT19DT01QUkVTU0lPTjogICAgICAgICAwLFxuICBaX0JFU1RfU1BFRUQ6ICAgICAgICAgICAgIDEsXG4gIFpfQkVTVF9DT01QUkVTU0lPTjogICAgICAgOSxcbiAgWl9ERUZBVUxUX0NPTVBSRVNTSU9OOiAgIC0xLFxuXG5cbiAgWl9GSUxURVJFRDogICAgICAgICAgICAgICAxLFxuICBaX0hVRkZNQU5fT05MWTogICAgICAgICAgIDIsXG4gIFpfUkxFOiAgICAgICAgICAgICAgICAgICAgMyxcbiAgWl9GSVhFRDogICAgICAgICAgICAgICAgICA0LFxuICBaX0RFRkFVTFRfU1RSQVRFR1k6ICAgICAgIDAsXG5cbiAgLyogUG9zc2libGUgdmFsdWVzIG9mIHRoZSBkYXRhX3R5cGUgZmllbGQgKHRob3VnaCBzZWUgaW5mbGF0ZSgpKSAqL1xuICBaX0JJTkFSWTogICAgICAgICAgICAgICAgIDAsXG4gIFpfVEVYVDogICAgICAgICAgICAgICAgICAgMSxcbiAgLy9aX0FTQ0lJOiAgICAgICAgICAgICAgICAxLCAvLyA9IFpfVEVYVCAoZGVwcmVjYXRlZClcbiAgWl9VTktOT1dOOiAgICAgICAgICAgICAgICAyLFxuXG4gIC8qIFRoZSBkZWZsYXRlIGNvbXByZXNzaW9uIG1ldGhvZCAqL1xuICBaX0RFRkxBVEVEOiAgICAgICAgICAgICAgIDhcbiAgLy9aX05VTEw6ICAgICAgICAgICAgICAgICBudWxsIC8vIFVzZSAtMSBvciBudWxsIGlubGluZSwgZGVwZW5kaW5nIG9uIHZhciB0eXBlXG59O1xuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbmNvbnN0IHsgX3RyX2luaXQsIF90cl9zdG9yZWRfYmxvY2ssIF90cl9mbHVzaF9ibG9jaywgX3RyX3RhbGx5LCBfdHJfYWxpZ24gfSA9IHRyZWVzO1xuXG5cblxuXG4vKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuY29uc3Qge1xuICBaX05PX0ZMVVNIOiBaX05PX0ZMVVNIJDIsIFpfUEFSVElBTF9GTFVTSCwgWl9GVUxMX0ZMVVNIOiBaX0ZVTExfRkxVU0gkMSwgWl9GSU5JU0g6IFpfRklOSVNIJDMsIFpfQkxPQ0s6IFpfQkxPQ0skMSxcbiAgWl9PSzogWl9PSyQzLCBaX1NUUkVBTV9FTkQ6IFpfU1RSRUFNX0VORCQzLCBaX1NUUkVBTV9FUlJPUjogWl9TVFJFQU1fRVJST1IkMiwgWl9EQVRBX0VSUk9SOiBaX0RBVEFfRVJST1IkMiwgWl9CVUZfRVJST1I6IFpfQlVGX0VSUk9SJDEsXG4gIFpfREVGQVVMVF9DT01QUkVTU0lPTjogWl9ERUZBVUxUX0NPTVBSRVNTSU9OJDEsXG4gIFpfRklMVEVSRUQsIFpfSFVGRk1BTl9PTkxZLCBaX1JMRSwgWl9GSVhFRCwgWl9ERUZBVUxUX1NUUkFURUdZOiBaX0RFRkFVTFRfU1RSQVRFR1kkMSxcbiAgWl9VTktOT1dOLFxuICBaX0RFRkxBVEVEOiBaX0RFRkxBVEVEJDJcbn0gPSBjb25zdGFudHMkMjtcblxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG5jb25zdCBNQVhfTUVNX0xFVkVMID0gOTtcbi8qIE1heGltdW0gdmFsdWUgZm9yIG1lbUxldmVsIGluIGRlZmxhdGVJbml0MiAqL1xuY29uc3QgTUFYX1dCSVRTJDEgPSAxNTtcbi8qIDMySyBMWjc3IHdpbmRvdyAqL1xuY29uc3QgREVGX01FTV9MRVZFTCA9IDg7XG5cblxuY29uc3QgTEVOR1RIX0NPREVTICA9IDI5O1xuLyogbnVtYmVyIG9mIGxlbmd0aCBjb2Rlcywgbm90IGNvdW50aW5nIHRoZSBzcGVjaWFsIEVORF9CTE9DSyBjb2RlICovXG5jb25zdCBMSVRFUkFMUyAgICAgID0gMjU2O1xuLyogbnVtYmVyIG9mIGxpdGVyYWwgYnl0ZXMgMC4uMjU1ICovXG5jb25zdCBMX0NPREVTICAgICAgID0gTElURVJBTFMgKyAxICsgTEVOR1RIX0NPREVTO1xuLyogbnVtYmVyIG9mIExpdGVyYWwgb3IgTGVuZ3RoIGNvZGVzLCBpbmNsdWRpbmcgdGhlIEVORF9CTE9DSyBjb2RlICovXG5jb25zdCBEX0NPREVTICAgICAgID0gMzA7XG4vKiBudW1iZXIgb2YgZGlzdGFuY2UgY29kZXMgKi9cbmNvbnN0IEJMX0NPREVTICAgICAgPSAxOTtcbi8qIG51bWJlciBvZiBjb2RlcyB1c2VkIHRvIHRyYW5zZmVyIHRoZSBiaXQgbGVuZ3RocyAqL1xuY29uc3QgSEVBUF9TSVpFICAgICA9IDIgKiBMX0NPREVTICsgMTtcbi8qIG1heGltdW0gaGVhcCBzaXplICovXG5jb25zdCBNQVhfQklUUyAgPSAxNTtcbi8qIEFsbCBjb2RlcyBtdXN0IG5vdCBleGNlZWQgTUFYX0JJVFMgYml0cyAqL1xuXG5jb25zdCBNSU5fTUFUQ0ggPSAzO1xuY29uc3QgTUFYX01BVENIID0gMjU4O1xuY29uc3QgTUlOX0xPT0tBSEVBRCA9IChNQVhfTUFUQ0ggKyBNSU5fTUFUQ0ggKyAxKTtcblxuY29uc3QgUFJFU0VUX0RJQ1QgPSAweDIwO1xuXG5jb25zdCBJTklUX1NUQVRFICAgID0gIDQyOyAgICAvKiB6bGliIGhlYWRlciAtPiBCVVNZX1NUQVRFICovXG4vLyNpZmRlZiBHWklQXG5jb25zdCBHWklQX1NUQVRFICAgID0gIDU3OyAgICAvKiBnemlwIGhlYWRlciAtPiBCVVNZX1NUQVRFIHwgRVhUUkFfU1RBVEUgKi9cbi8vI2VuZGlmXG5jb25zdCBFWFRSQV9TVEFURSAgID0gIDY5OyAgICAvKiBnemlwIGV4dHJhIGJsb2NrIC0+IE5BTUVfU1RBVEUgKi9cbmNvbnN0IE5BTUVfU1RBVEUgICAgPSAgNzM7ICAgIC8qIGd6aXAgZmlsZSBuYW1lIC0+IENPTU1FTlRfU1RBVEUgKi9cbmNvbnN0IENPTU1FTlRfU1RBVEUgPSAgOTE7ICAgIC8qIGd6aXAgY29tbWVudCAtPiBIQ1JDX1NUQVRFICovXG5jb25zdCBIQ1JDX1NUQVRFICAgID0gMTAzOyAgICAvKiBnemlwIGhlYWRlciBDUkMgLT4gQlVTWV9TVEFURSAqL1xuY29uc3QgQlVTWV9TVEFURSAgICA9IDExMzsgICAgLyogZGVmbGF0ZSAtPiBGSU5JU0hfU1RBVEUgKi9cbmNvbnN0IEZJTklTSF9TVEFURSAgPSA2NjY7ICAgIC8qIHN0cmVhbSBjb21wbGV0ZSAqL1xuXG5jb25zdCBCU19ORUVEX01PUkUgICAgICA9IDE7IC8qIGJsb2NrIG5vdCBjb21wbGV0ZWQsIG5lZWQgbW9yZSBpbnB1dCBvciBtb3JlIG91dHB1dCAqL1xuY29uc3QgQlNfQkxPQ0tfRE9ORSAgICAgPSAyOyAvKiBibG9jayBmbHVzaCBwZXJmb3JtZWQgKi9cbmNvbnN0IEJTX0ZJTklTSF9TVEFSVEVEID0gMzsgLyogZmluaXNoIHN0YXJ0ZWQsIG5lZWQgb25seSBtb3JlIG91dHB1dCBhdCBuZXh0IGRlZmxhdGUgKi9cbmNvbnN0IEJTX0ZJTklTSF9ET05FICAgID0gNDsgLyogZmluaXNoIGRvbmUsIGFjY2VwdCBubyBtb3JlIGlucHV0IG9yIG91dHB1dCAqL1xuXG5jb25zdCBPU19DT0RFID0gMHgwMzsgLy8gVW5peCA6KSAuIERvbid0IGRldGVjdCwgdXNlIHRoaXMgZGVmYXVsdC5cblxuY29uc3QgZXJyID0gKHN0cm0sIGVycm9yQ29kZSkgPT4ge1xuICBzdHJtLm1zZyA9IG1lc3NhZ2VzW2Vycm9yQ29kZV07XG4gIHJldHVybiBlcnJvckNvZGU7XG59O1xuXG5jb25zdCByYW5rID0gKGYpID0+IHtcbiAgcmV0dXJuICgoZikgKiAyKSAtICgoZikgPiA0ID8gOSA6IDApO1xufTtcblxuY29uc3QgemVybyA9IChidWYpID0+IHtcbiAgbGV0IGxlbiA9IGJ1Zi5sZW5ndGg7IHdoaWxlICgtLWxlbiA+PSAwKSB7IGJ1ZltsZW5dID0gMDsgfVxufTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTbGlkZSB0aGUgaGFzaCB0YWJsZSB3aGVuIHNsaWRpbmcgdGhlIHdpbmRvdyBkb3duIChjb3VsZCBiZSBhdm9pZGVkIHdpdGggMzJcbiAqIGJpdCB2YWx1ZXMgYXQgdGhlIGV4cGVuc2Ugb2YgbWVtb3J5IHVzYWdlKS4gV2Ugc2xpZGUgZXZlbiB3aGVuIGxldmVsID09IDAgdG9cbiAqIGtlZXAgdGhlIGhhc2ggdGFibGUgY29uc2lzdGVudCBpZiB3ZSBzd2l0Y2ggYmFjayB0byBsZXZlbCA+IDAgbGF0ZXIuXG4gKi9cbmNvbnN0IHNsaWRlX2hhc2ggPSAocykgPT4ge1xuICBsZXQgbiwgbTtcbiAgbGV0IHA7XG4gIGxldCB3c2l6ZSA9IHMud19zaXplO1xuXG4gIG4gPSBzLmhhc2hfc2l6ZTtcbiAgcCA9IG47XG4gIGRvIHtcbiAgICBtID0gcy5oZWFkWy0tcF07XG4gICAgcy5oZWFkW3BdID0gKG0gPj0gd3NpemUgPyBtIC0gd3NpemUgOiAwKTtcbiAgfSB3aGlsZSAoLS1uKTtcbiAgbiA9IHdzaXplO1xuLy8jaWZuZGVmIEZBU1RFU1RcbiAgcCA9IG47XG4gIGRvIHtcbiAgICBtID0gcy5wcmV2Wy0tcF07XG4gICAgcy5wcmV2W3BdID0gKG0gPj0gd3NpemUgPyBtIC0gd3NpemUgOiAwKTtcbiAgICAvKiBJZiBuIGlzIG5vdCBvbiBhbnkgaGFzaCBjaGFpbiwgcHJldltuXSBpcyBnYXJiYWdlIGJ1dFxuICAgICAqIGl0cyB2YWx1ZSB3aWxsIG5ldmVyIGJlIHVzZWQuXG4gICAgICovXG4gIH0gd2hpbGUgKC0tbik7XG4vLyNlbmRpZlxufTtcblxuLyogZXNsaW50LWRpc2FibGUgbmV3LWNhcCAqL1xubGV0IEhBU0hfWkxJQiA9IChzLCBwcmV2LCBkYXRhKSA9PiAoKHByZXYgPDwgcy5oYXNoX3NoaWZ0KSBeIGRhdGEpICYgcy5oYXNoX21hc2s7XG4vLyBUaGlzIGhhc2ggY2F1c2VzIGxlc3MgY29sbGlzaW9ucywgaHR0cHM6Ly9naXRodWIuY29tL25vZGVjYS9wYWtvL2lzc3Vlcy8xMzVcbi8vIEJ1dCBicmVha3MgYmluYXJ5IGNvbXBhdGliaWxpdHlcbi8vbGV0IEhBU0hfRkFTVCA9IChzLCBwcmV2LCBkYXRhKSA9PiAoKHByZXYgPDwgOCkgKyAocHJldiA+PiA4KSArIChkYXRhIDw8IDQpKSAmIHMuaGFzaF9tYXNrO1xubGV0IEhBU0ggPSBIQVNIX1pMSUI7XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogRmx1c2ggYXMgbXVjaCBwZW5kaW5nIG91dHB1dCBhcyBwb3NzaWJsZS4gQWxsIGRlZmxhdGUoKSBvdXRwdXQsIGV4Y2VwdCBmb3JcbiAqIHNvbWUgZGVmbGF0ZV9zdG9yZWQoKSBvdXRwdXQsIGdvZXMgdGhyb3VnaCB0aGlzIGZ1bmN0aW9uIHNvIHNvbWVcbiAqIGFwcGxpY2F0aW9ucyBtYXkgd2lzaCB0byBtb2RpZnkgaXQgdG8gYXZvaWQgYWxsb2NhdGluZyBhIGxhcmdlXG4gKiBzdHJtLT5uZXh0X291dCBidWZmZXIgYW5kIGNvcHlpbmcgaW50byBpdC4gKFNlZSBhbHNvIHJlYWRfYnVmKCkpLlxuICovXG5jb25zdCBmbHVzaF9wZW5kaW5nID0gKHN0cm0pID0+IHtcbiAgY29uc3QgcyA9IHN0cm0uc3RhdGU7XG5cbiAgLy9fdHJfZmx1c2hfYml0cyhzKTtcbiAgbGV0IGxlbiA9IHMucGVuZGluZztcbiAgaWYgKGxlbiA+IHN0cm0uYXZhaWxfb3V0KSB7XG4gICAgbGVuID0gc3RybS5hdmFpbF9vdXQ7XG4gIH1cbiAgaWYgKGxlbiA9PT0gMCkgeyByZXR1cm47IH1cblxuICBzdHJtLm91dHB1dC5zZXQocy5wZW5kaW5nX2J1Zi5zdWJhcnJheShzLnBlbmRpbmdfb3V0LCBzLnBlbmRpbmdfb3V0ICsgbGVuKSwgc3RybS5uZXh0X291dCk7XG4gIHN0cm0ubmV4dF9vdXQgICs9IGxlbjtcbiAgcy5wZW5kaW5nX291dCAgKz0gbGVuO1xuICBzdHJtLnRvdGFsX291dCArPSBsZW47XG4gIHN0cm0uYXZhaWxfb3V0IC09IGxlbjtcbiAgcy5wZW5kaW5nICAgICAgLT0gbGVuO1xuICBpZiAocy5wZW5kaW5nID09PSAwKSB7XG4gICAgcy5wZW5kaW5nX291dCA9IDA7XG4gIH1cbn07XG5cblxuY29uc3QgZmx1c2hfYmxvY2tfb25seSA9IChzLCBsYXN0KSA9PiB7XG4gIF90cl9mbHVzaF9ibG9jayhzLCAocy5ibG9ja19zdGFydCA+PSAwID8gcy5ibG9ja19zdGFydCA6IC0xKSwgcy5zdHJzdGFydCAtIHMuYmxvY2tfc3RhcnQsIGxhc3QpO1xuICBzLmJsb2NrX3N0YXJ0ID0gcy5zdHJzdGFydDtcbiAgZmx1c2hfcGVuZGluZyhzLnN0cm0pO1xufTtcblxuXG5jb25zdCBwdXRfYnl0ZSA9IChzLCBiKSA9PiB7XG4gIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gYjtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogUHV0IGEgc2hvcnQgaW4gdGhlIHBlbmRpbmcgYnVmZmVyLiBUaGUgMTYtYml0IHZhbHVlIGlzIHB1dCBpbiBNU0Igb3JkZXIuXG4gKiBJTiBhc3NlcnRpb246IHRoZSBzdHJlYW0gc3RhdGUgaXMgY29ycmVjdCBhbmQgdGhlcmUgaXMgZW5vdWdoIHJvb20gaW5cbiAqIHBlbmRpbmdfYnVmLlxuICovXG5jb25zdCBwdXRTaG9ydE1TQiA9IChzLCBiKSA9PiB7XG5cbiAgLy8gIHB1dF9ieXRlKHMsIChCeXRlKShiID4+IDgpKTtcbi8vICBwdXRfYnl0ZShzLCAoQnl0ZSkoYiAmIDB4ZmYpKTtcbiAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSAoYiA+Pj4gOCkgJiAweGZmO1xuICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IGIgJiAweGZmO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFJlYWQgYSBuZXcgYnVmZmVyIGZyb20gdGhlIGN1cnJlbnQgaW5wdXQgc3RyZWFtLCB1cGRhdGUgdGhlIGFkbGVyMzJcbiAqIGFuZCB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgcmVhZC4gIEFsbCBkZWZsYXRlKCkgaW5wdXQgZ29lcyB0aHJvdWdoXG4gKiB0aGlzIGZ1bmN0aW9uIHNvIHNvbWUgYXBwbGljYXRpb25zIG1heSB3aXNoIHRvIG1vZGlmeSBpdCB0byBhdm9pZFxuICogYWxsb2NhdGluZyBhIGxhcmdlIHN0cm0tPmlucHV0IGJ1ZmZlciBhbmQgY29weWluZyBmcm9tIGl0LlxuICogKFNlZSBhbHNvIGZsdXNoX3BlbmRpbmcoKSkuXG4gKi9cbmNvbnN0IHJlYWRfYnVmID0gKHN0cm0sIGJ1Ziwgc3RhcnQsIHNpemUpID0+IHtcblxuICBsZXQgbGVuID0gc3RybS5hdmFpbF9pbjtcblxuICBpZiAobGVuID4gc2l6ZSkgeyBsZW4gPSBzaXplOyB9XG4gIGlmIChsZW4gPT09IDApIHsgcmV0dXJuIDA7IH1cblxuICBzdHJtLmF2YWlsX2luIC09IGxlbjtcblxuICAvLyB6bWVtY3B5KGJ1Ziwgc3RybS0+bmV4dF9pbiwgbGVuKTtcbiAgYnVmLnNldChzdHJtLmlucHV0LnN1YmFycmF5KHN0cm0ubmV4dF9pbiwgc3RybS5uZXh0X2luICsgbGVuKSwgc3RhcnQpO1xuICBpZiAoc3RybS5zdGF0ZS53cmFwID09PSAxKSB7XG4gICAgc3RybS5hZGxlciA9IGFkbGVyMzJfMShzdHJtLmFkbGVyLCBidWYsIGxlbiwgc3RhcnQpO1xuICB9XG5cbiAgZWxzZSBpZiAoc3RybS5zdGF0ZS53cmFwID09PSAyKSB7XG4gICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgYnVmLCBsZW4sIHN0YXJ0KTtcbiAgfVxuXG4gIHN0cm0ubmV4dF9pbiArPSBsZW47XG4gIHN0cm0udG90YWxfaW4gKz0gbGVuO1xuXG4gIHJldHVybiBsZW47XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2V0IG1hdGNoX3N0YXJ0IHRvIHRoZSBsb25nZXN0IG1hdGNoIHN0YXJ0aW5nIGF0IHRoZSBnaXZlbiBzdHJpbmcgYW5kXG4gKiByZXR1cm4gaXRzIGxlbmd0aC4gTWF0Y2hlcyBzaG9ydGVyIG9yIGVxdWFsIHRvIHByZXZfbGVuZ3RoIGFyZSBkaXNjYXJkZWQsXG4gKiBpbiB3aGljaCBjYXNlIHRoZSByZXN1bHQgaXMgZXF1YWwgdG8gcHJldl9sZW5ndGggYW5kIG1hdGNoX3N0YXJ0IGlzXG4gKiBnYXJiYWdlLlxuICogSU4gYXNzZXJ0aW9uczogY3VyX21hdGNoIGlzIHRoZSBoZWFkIG9mIHRoZSBoYXNoIGNoYWluIGZvciB0aGUgY3VycmVudFxuICogICBzdHJpbmcgKHN0cnN0YXJ0KSBhbmQgaXRzIGRpc3RhbmNlIGlzIDw9IE1BWF9ESVNULCBhbmQgcHJldl9sZW5ndGggPj0gMVxuICogT1VUIGFzc2VydGlvbjogdGhlIG1hdGNoIGxlbmd0aCBpcyBub3QgZ3JlYXRlciB0aGFuIHMtPmxvb2thaGVhZC5cbiAqL1xuY29uc3QgbG9uZ2VzdF9tYXRjaCA9IChzLCBjdXJfbWF0Y2gpID0+IHtcblxuICBsZXQgY2hhaW5fbGVuZ3RoID0gcy5tYXhfY2hhaW5fbGVuZ3RoOyAgICAgIC8qIG1heCBoYXNoIGNoYWluIGxlbmd0aCAqL1xuICBsZXQgc2NhbiA9IHMuc3Ryc3RhcnQ7IC8qIGN1cnJlbnQgc3RyaW5nICovXG4gIGxldCBtYXRjaDsgICAgICAgICAgICAgICAgICAgICAgIC8qIG1hdGNoZWQgc3RyaW5nICovXG4gIGxldCBsZW47ICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogbGVuZ3RoIG9mIGN1cnJlbnQgbWF0Y2ggKi9cbiAgbGV0IGJlc3RfbGVuID0gcy5wcmV2X2xlbmd0aDsgICAgICAgICAgICAgIC8qIGJlc3QgbWF0Y2ggbGVuZ3RoIHNvIGZhciAqL1xuICBsZXQgbmljZV9tYXRjaCA9IHMubmljZV9tYXRjaDsgICAgICAgICAgICAgLyogc3RvcCBpZiBtYXRjaCBsb25nIGVub3VnaCAqL1xuICBjb25zdCBsaW1pdCA9IChzLnN0cnN0YXJ0ID4gKHMud19zaXplIC0gTUlOX0xPT0tBSEVBRCkpID9cbiAgICAgIHMuc3Ryc3RhcnQgLSAocy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKSA6IDAvKk5JTCovO1xuXG4gIGNvbnN0IF93aW4gPSBzLndpbmRvdzsgLy8gc2hvcnRjdXRcblxuICBjb25zdCB3bWFzayA9IHMud19tYXNrO1xuICBjb25zdCBwcmV2ICA9IHMucHJldjtcblxuICAvKiBTdG9wIHdoZW4gY3VyX21hdGNoIGJlY29tZXMgPD0gbGltaXQuIFRvIHNpbXBsaWZ5IHRoZSBjb2RlLFxuICAgKiB3ZSBwcmV2ZW50IG1hdGNoZXMgd2l0aCB0aGUgc3RyaW5nIG9mIHdpbmRvdyBpbmRleCAwLlxuICAgKi9cblxuICBjb25zdCBzdHJlbmQgPSBzLnN0cnN0YXJ0ICsgTUFYX01BVENIO1xuICBsZXQgc2Nhbl9lbmQxICA9IF93aW5bc2NhbiArIGJlc3RfbGVuIC0gMV07XG4gIGxldCBzY2FuX2VuZCAgID0gX3dpbltzY2FuICsgYmVzdF9sZW5dO1xuXG4gIC8qIFRoZSBjb2RlIGlzIG9wdGltaXplZCBmb3IgSEFTSF9CSVRTID49IDggYW5kIE1BWF9NQVRDSC0yIG11bHRpcGxlIG9mIDE2LlxuICAgKiBJdCBpcyBlYXN5IHRvIGdldCByaWQgb2YgdGhpcyBvcHRpbWl6YXRpb24gaWYgbmVjZXNzYXJ5LlxuICAgKi9cbiAgLy8gQXNzZXJ0KHMtPmhhc2hfYml0cyA+PSA4ICYmIE1BWF9NQVRDSCA9PSAyNTgsIFwiQ29kZSB0b28gY2xldmVyXCIpO1xuXG4gIC8qIERvIG5vdCB3YXN0ZSB0b28gbXVjaCB0aW1lIGlmIHdlIGFscmVhZHkgaGF2ZSBhIGdvb2QgbWF0Y2g6ICovXG4gIGlmIChzLnByZXZfbGVuZ3RoID49IHMuZ29vZF9tYXRjaCkge1xuICAgIGNoYWluX2xlbmd0aCA+Pj0gMjtcbiAgfVxuICAvKiBEbyBub3QgbG9vayBmb3IgbWF0Y2hlcyBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgaW5wdXQuIFRoaXMgaXMgbmVjZXNzYXJ5XG4gICAqIHRvIG1ha2UgZGVmbGF0ZSBkZXRlcm1pbmlzdGljLlxuICAgKi9cbiAgaWYgKG5pY2VfbWF0Y2ggPiBzLmxvb2thaGVhZCkgeyBuaWNlX21hdGNoID0gcy5sb29rYWhlYWQ7IH1cblxuICAvLyBBc3NlcnQoKHVsZylzLT5zdHJzdGFydCA8PSBzLT53aW5kb3dfc2l6ZS1NSU5fTE9PS0FIRUFELCBcIm5lZWQgbG9va2FoZWFkXCIpO1xuXG4gIGRvIHtcbiAgICAvLyBBc3NlcnQoY3VyX21hdGNoIDwgcy0+c3Ryc3RhcnQsIFwibm8gZnV0dXJlXCIpO1xuICAgIG1hdGNoID0gY3VyX21hdGNoO1xuXG4gICAgLyogU2tpcCB0byBuZXh0IG1hdGNoIGlmIHRoZSBtYXRjaCBsZW5ndGggY2Fubm90IGluY3JlYXNlXG4gICAgICogb3IgaWYgdGhlIG1hdGNoIGxlbmd0aCBpcyBsZXNzIHRoYW4gMi4gIE5vdGUgdGhhdCB0aGUgY2hlY2tzIGJlbG93XG4gICAgICogZm9yIGluc3VmZmljaWVudCBsb29rYWhlYWQgb25seSBvY2N1ciBvY2Nhc2lvbmFsbHkgZm9yIHBlcmZvcm1hbmNlXG4gICAgICogcmVhc29ucy4gIFRoZXJlZm9yZSB1bmluaXRpYWxpemVkIG1lbW9yeSB3aWxsIGJlIGFjY2Vzc2VkLCBhbmRcbiAgICAgKiBjb25kaXRpb25hbCBqdW1wcyB3aWxsIGJlIG1hZGUgdGhhdCBkZXBlbmQgb24gdGhvc2UgdmFsdWVzLlxuICAgICAqIEhvd2V2ZXIgdGhlIGxlbmd0aCBvZiB0aGUgbWF0Y2ggaXMgbGltaXRlZCB0byB0aGUgbG9va2FoZWFkLCBzb1xuICAgICAqIHRoZSBvdXRwdXQgb2YgZGVmbGF0ZSBpcyBub3QgYWZmZWN0ZWQgYnkgdGhlIHVuaW5pdGlhbGl6ZWQgdmFsdWVzLlxuICAgICAqL1xuXG4gICAgaWYgKF93aW5bbWF0Y2ggKyBiZXN0X2xlbl0gICAgICE9PSBzY2FuX2VuZCAgfHxcbiAgICAgICAgX3dpblttYXRjaCArIGJlc3RfbGVuIC0gMV0gIT09IHNjYW5fZW5kMSB8fFxuICAgICAgICBfd2luW21hdGNoXSAgICAgICAgICAgICAgICAhPT0gX3dpbltzY2FuXSB8fFxuICAgICAgICBfd2luWysrbWF0Y2hdICAgICAgICAgICAgICAhPT0gX3dpbltzY2FuICsgMV0pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8qIFRoZSBjaGVjayBhdCBiZXN0X2xlbi0xIGNhbiBiZSByZW1vdmVkIGJlY2F1c2UgaXQgd2lsbCBiZSBtYWRlXG4gICAgICogYWdhaW4gbGF0ZXIuIChUaGlzIGhldXJpc3RpYyBpcyBub3QgYWx3YXlzIGEgd2luLilcbiAgICAgKiBJdCBpcyBub3QgbmVjZXNzYXJ5IHRvIGNvbXBhcmUgc2NhblsyXSBhbmQgbWF0Y2hbMl0gc2luY2UgdGhleVxuICAgICAqIGFyZSBhbHdheXMgZXF1YWwgd2hlbiB0aGUgb3RoZXIgYnl0ZXMgbWF0Y2gsIGdpdmVuIHRoYXRcbiAgICAgKiB0aGUgaGFzaCBrZXlzIGFyZSBlcXVhbCBhbmQgdGhhdCBIQVNIX0JJVFMgPj0gOC5cbiAgICAgKi9cbiAgICBzY2FuICs9IDI7XG4gICAgbWF0Y2grKztcbiAgICAvLyBBc3NlcnQoKnNjYW4gPT0gKm1hdGNoLCBcIm1hdGNoWzJdP1wiKTtcblxuICAgIC8qIFdlIGNoZWNrIGZvciBpbnN1ZmZpY2llbnQgbG9va2FoZWFkIG9ubHkgZXZlcnkgOHRoIGNvbXBhcmlzb247XG4gICAgICogdGhlIDI1NnRoIGNoZWNrIHdpbGwgYmUgbWFkZSBhdCBzdHJzdGFydCsyNTguXG4gICAgICovXG4gICAgZG8ge1xuICAgICAgLypqc2hpbnQgbm9lbXB0eTpmYWxzZSovXG4gICAgfSB3aGlsZSAoX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJlxuICAgICAgICAgICAgIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJiBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgICAgICAgICBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiYgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJlxuICAgICAgICAgICAgIHNjYW4gPCBzdHJlbmQpO1xuXG4gICAgLy8gQXNzZXJ0KHNjYW4gPD0gcy0+d2luZG93Kyh1bnNpZ25lZCkocy0+d2luZG93X3NpemUtMSksIFwid2lsZCBzY2FuXCIpO1xuXG4gICAgbGVuID0gTUFYX01BVENIIC0gKHN0cmVuZCAtIHNjYW4pO1xuICAgIHNjYW4gPSBzdHJlbmQgLSBNQVhfTUFUQ0g7XG5cbiAgICBpZiAobGVuID4gYmVzdF9sZW4pIHtcbiAgICAgIHMubWF0Y2hfc3RhcnQgPSBjdXJfbWF0Y2g7XG4gICAgICBiZXN0X2xlbiA9IGxlbjtcbiAgICAgIGlmIChsZW4gPj0gbmljZV9tYXRjaCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHNjYW5fZW5kMSAgPSBfd2luW3NjYW4gKyBiZXN0X2xlbiAtIDFdO1xuICAgICAgc2Nhbl9lbmQgICA9IF93aW5bc2NhbiArIGJlc3RfbGVuXTtcbiAgICB9XG4gIH0gd2hpbGUgKChjdXJfbWF0Y2ggPSBwcmV2W2N1cl9tYXRjaCAmIHdtYXNrXSkgPiBsaW1pdCAmJiAtLWNoYWluX2xlbmd0aCAhPT0gMCk7XG5cbiAgaWYgKGJlc3RfbGVuIDw9IHMubG9va2FoZWFkKSB7XG4gICAgcmV0dXJuIGJlc3RfbGVuO1xuICB9XG4gIHJldHVybiBzLmxvb2thaGVhZDtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBGaWxsIHRoZSB3aW5kb3cgd2hlbiB0aGUgbG9va2FoZWFkIGJlY29tZXMgaW5zdWZmaWNpZW50LlxuICogVXBkYXRlcyBzdHJzdGFydCBhbmQgbG9va2FoZWFkLlxuICpcbiAqIElOIGFzc2VydGlvbjogbG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRFxuICogT1VUIGFzc2VydGlvbnM6IHN0cnN0YXJ0IDw9IHdpbmRvd19zaXplLU1JTl9MT09LQUhFQURcbiAqICAgIEF0IGxlYXN0IG9uZSBieXRlIGhhcyBiZWVuIHJlYWQsIG9yIGF2YWlsX2luID09IDA7IHJlYWRzIGFyZVxuICogICAgcGVyZm9ybWVkIGZvciBhdCBsZWFzdCB0d28gYnl0ZXMgKHJlcXVpcmVkIGZvciB0aGUgemlwIHRyYW5zbGF0ZV9lb2xcbiAqICAgIG9wdGlvbiAtLSBub3Qgc3VwcG9ydGVkIGhlcmUpLlxuICovXG5jb25zdCBmaWxsX3dpbmRvdyA9IChzKSA9PiB7XG5cbiAgY29uc3QgX3dfc2l6ZSA9IHMud19zaXplO1xuICBsZXQgbiwgbW9yZSwgc3RyO1xuXG4gIC8vQXNzZXJ0KHMtPmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQsIFwiYWxyZWFkeSBlbm91Z2ggbG9va2FoZWFkXCIpO1xuXG4gIGRvIHtcbiAgICBtb3JlID0gcy53aW5kb3dfc2l6ZSAtIHMubG9va2FoZWFkIC0gcy5zdHJzdGFydDtcblxuICAgIC8vIEpTIGludHMgaGF2ZSAzMiBiaXQsIGJsb2NrIGJlbG93IG5vdCBuZWVkZWRcbiAgICAvKiBEZWFsIHdpdGggIUAjJCUgNjRLIGxpbWl0OiAqL1xuICAgIC8vaWYgKHNpemVvZihpbnQpIDw9IDIpIHtcbiAgICAvLyAgICBpZiAobW9yZSA9PSAwICYmIHMtPnN0cnN0YXJ0ID09IDAgJiYgcy0+bG9va2FoZWFkID09IDApIHtcbiAgICAvLyAgICAgICAgbW9yZSA9IHdzaXplO1xuICAgIC8vXG4gICAgLy8gIH0gZWxzZSBpZiAobW9yZSA9PSAodW5zaWduZWQpKC0xKSkge1xuICAgIC8vICAgICAgICAvKiBWZXJ5IHVubGlrZWx5LCBidXQgcG9zc2libGUgb24gMTYgYml0IG1hY2hpbmUgaWZcbiAgICAvLyAgICAgICAgICogc3Ryc3RhcnQgPT0gMCAmJiBsb29rYWhlYWQgPT0gMSAoaW5wdXQgZG9uZSBhIGJ5dGUgYXQgdGltZSlcbiAgICAvLyAgICAgICAgICovXG4gICAgLy8gICAgICAgIG1vcmUtLTtcbiAgICAvLyAgICB9XG4gICAgLy99XG5cblxuICAgIC8qIElmIHRoZSB3aW5kb3cgaXMgYWxtb3N0IGZ1bGwgYW5kIHRoZXJlIGlzIGluc3VmZmljaWVudCBsb29rYWhlYWQsXG4gICAgICogbW92ZSB0aGUgdXBwZXIgaGFsZiB0byB0aGUgbG93ZXIgb25lIHRvIG1ha2Ugcm9vbSBpbiB0aGUgdXBwZXIgaGFsZi5cbiAgICAgKi9cbiAgICBpZiAocy5zdHJzdGFydCA+PSBfd19zaXplICsgKF93X3NpemUgLSBNSU5fTE9PS0FIRUFEKSkge1xuXG4gICAgICBzLndpbmRvdy5zZXQocy53aW5kb3cuc3ViYXJyYXkoX3dfc2l6ZSwgX3dfc2l6ZSArIF93X3NpemUgLSBtb3JlKSwgMCk7XG4gICAgICBzLm1hdGNoX3N0YXJ0IC09IF93X3NpemU7XG4gICAgICBzLnN0cnN0YXJ0IC09IF93X3NpemU7XG4gICAgICAvKiB3ZSBub3cgaGF2ZSBzdHJzdGFydCA+PSBNQVhfRElTVCAqL1xuICAgICAgcy5ibG9ja19zdGFydCAtPSBfd19zaXplO1xuICAgICAgaWYgKHMuaW5zZXJ0ID4gcy5zdHJzdGFydCkge1xuICAgICAgICBzLmluc2VydCA9IHMuc3Ryc3RhcnQ7XG4gICAgICB9XG4gICAgICBzbGlkZV9oYXNoKHMpO1xuICAgICAgbW9yZSArPSBfd19zaXplO1xuICAgIH1cbiAgICBpZiAocy5zdHJtLmF2YWlsX2luID09PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvKiBJZiB0aGVyZSB3YXMgbm8gc2xpZGluZzpcbiAgICAgKiAgICBzdHJzdGFydCA8PSBXU0laRStNQVhfRElTVC0xICYmIGxvb2thaGVhZCA8PSBNSU5fTE9PS0FIRUFEIC0gMSAmJlxuICAgICAqICAgIG1vcmUgPT0gd2luZG93X3NpemUgLSBsb29rYWhlYWQgLSBzdHJzdGFydFxuICAgICAqID0+IG1vcmUgPj0gd2luZG93X3NpemUgLSAoTUlOX0xPT0tBSEVBRC0xICsgV1NJWkUgKyBNQVhfRElTVC0xKVxuICAgICAqID0+IG1vcmUgPj0gd2luZG93X3NpemUgLSAyKldTSVpFICsgMlxuICAgICAqIEluIHRoZSBCSUdfTUVNIG9yIE1NQVAgY2FzZSAobm90IHlldCBzdXBwb3J0ZWQpLFxuICAgICAqICAgd2luZG93X3NpemUgPT0gaW5wdXRfc2l6ZSArIE1JTl9MT09LQUhFQUQgICYmXG4gICAgICogICBzdHJzdGFydCArIHMtPmxvb2thaGVhZCA8PSBpbnB1dF9zaXplID0+IG1vcmUgPj0gTUlOX0xPT0tBSEVBRC5cbiAgICAgKiBPdGhlcndpc2UsIHdpbmRvd19zaXplID09IDIqV1NJWkUgc28gbW9yZSA+PSAyLlxuICAgICAqIElmIHRoZXJlIHdhcyBzbGlkaW5nLCBtb3JlID49IFdTSVpFLiBTbyBpbiBhbGwgY2FzZXMsIG1vcmUgPj0gMi5cbiAgICAgKi9cbiAgICAvL0Fzc2VydChtb3JlID49IDIsIFwibW9yZSA8IDJcIik7XG4gICAgbiA9IHJlYWRfYnVmKHMuc3RybSwgcy53aW5kb3csIHMuc3Ryc3RhcnQgKyBzLmxvb2thaGVhZCwgbW9yZSk7XG4gICAgcy5sb29rYWhlYWQgKz0gbjtcblxuICAgIC8qIEluaXRpYWxpemUgdGhlIGhhc2ggdmFsdWUgbm93IHRoYXQgd2UgaGF2ZSBzb21lIGlucHV0OiAqL1xuICAgIGlmIChzLmxvb2thaGVhZCArIHMuaW5zZXJ0ID49IE1JTl9NQVRDSCkge1xuICAgICAgc3RyID0gcy5zdHJzdGFydCAtIHMuaW5zZXJ0O1xuICAgICAgcy5pbnNfaCA9IHMud2luZG93W3N0cl07XG5cbiAgICAgIC8qIFVQREFURV9IQVNIKHMsIHMtPmluc19oLCBzLT53aW5kb3dbc3RyICsgMV0pOyAqL1xuICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbc3RyICsgMV0pO1xuLy8jaWYgTUlOX01BVENIICE9IDNcbi8vICAgICAgICBDYWxsIHVwZGF0ZV9oYXNoKCkgTUlOX01BVENILTMgbW9yZSB0aW1lc1xuLy8jZW5kaWZcbiAgICAgIHdoaWxlIChzLmluc2VydCkge1xuICAgICAgICAvKiBVUERBVEVfSEFTSChzLCBzLT5pbnNfaCwgcy0+d2luZG93W3N0ciArIE1JTl9NQVRDSC0xXSk7ICovXG4gICAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3N0ciArIE1JTl9NQVRDSCAtIDFdKTtcblxuICAgICAgICBzLnByZXZbc3RyICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuICAgICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzdHI7XG4gICAgICAgIHN0cisrO1xuICAgICAgICBzLmluc2VydC0tO1xuICAgICAgICBpZiAocy5sb29rYWhlYWQgKyBzLmluc2VydCA8IE1JTl9NQVRDSCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qIElmIHRoZSB3aG9sZSBpbnB1dCBoYXMgbGVzcyB0aGFuIE1JTl9NQVRDSCBieXRlcywgaW5zX2ggaXMgZ2FyYmFnZSxcbiAgICAgKiBidXQgdGhpcyBpcyBub3QgaW1wb3J0YW50IHNpbmNlIG9ubHkgbGl0ZXJhbCBieXRlcyB3aWxsIGJlIGVtaXR0ZWQuXG4gICAgICovXG5cbiAgfSB3aGlsZSAocy5sb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFEICYmIHMuc3RybS5hdmFpbF9pbiAhPT0gMCk7XG5cbiAgLyogSWYgdGhlIFdJTl9JTklUIGJ5dGVzIGFmdGVyIHRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgZGF0YSBoYXZlIG5ldmVyIGJlZW5cbiAgICogd3JpdHRlbiwgdGhlbiB6ZXJvIHRob3NlIGJ5dGVzIGluIG9yZGVyIHRvIGF2b2lkIG1lbW9yeSBjaGVjayByZXBvcnRzIG9mXG4gICAqIHRoZSB1c2Ugb2YgdW5pbml0aWFsaXplZCAob3IgdW5pbml0aWFsaXNlZCBhcyBKdWxpYW4gd3JpdGVzKSBieXRlcyBieVxuICAgKiB0aGUgbG9uZ2VzdCBtYXRjaCByb3V0aW5lcy4gIFVwZGF0ZSB0aGUgaGlnaCB3YXRlciBtYXJrIGZvciB0aGUgbmV4dFxuICAgKiB0aW1lIHRocm91Z2ggaGVyZS4gIFdJTl9JTklUIGlzIHNldCB0byBNQVhfTUFUQ0ggc2luY2UgdGhlIGxvbmdlc3QgbWF0Y2hcbiAgICogcm91dGluZXMgYWxsb3cgc2Nhbm5pbmcgdG8gc3Ryc3RhcnQgKyBNQVhfTUFUQ0gsIGlnbm9yaW5nIGxvb2thaGVhZC5cbiAgICovXG4vLyAgaWYgKHMuaGlnaF93YXRlciA8IHMud2luZG93X3NpemUpIHtcbi8vICAgIGNvbnN0IGN1cnIgPSBzLnN0cnN0YXJ0ICsgcy5sb29rYWhlYWQ7XG4vLyAgICBsZXQgaW5pdCA9IDA7XG4vL1xuLy8gICAgaWYgKHMuaGlnaF93YXRlciA8IGN1cnIpIHtcbi8vICAgICAgLyogUHJldmlvdXMgaGlnaCB3YXRlciBtYXJrIGJlbG93IGN1cnJlbnQgZGF0YSAtLSB6ZXJvIFdJTl9JTklUXG4vLyAgICAgICAqIGJ5dGVzIG9yIHVwIHRvIGVuZCBvZiB3aW5kb3csIHdoaWNoZXZlciBpcyBsZXNzLlxuLy8gICAgICAgKi9cbi8vICAgICAgaW5pdCA9IHMud2luZG93X3NpemUgLSBjdXJyO1xuLy8gICAgICBpZiAoaW5pdCA+IFdJTl9JTklUKVxuLy8gICAgICAgIGluaXQgPSBXSU5fSU5JVDtcbi8vICAgICAgem1lbXplcm8ocy0+d2luZG93ICsgY3VyciwgKHVuc2lnbmVkKWluaXQpO1xuLy8gICAgICBzLT5oaWdoX3dhdGVyID0gY3VyciArIGluaXQ7XG4vLyAgICB9XG4vLyAgICBlbHNlIGlmIChzLT5oaWdoX3dhdGVyIDwgKHVsZyljdXJyICsgV0lOX0lOSVQpIHtcbi8vICAgICAgLyogSGlnaCB3YXRlciBtYXJrIGF0IG9yIGFib3ZlIGN1cnJlbnQgZGF0YSwgYnV0IGJlbG93IGN1cnJlbnQgZGF0YVxuLy8gICAgICAgKiBwbHVzIFdJTl9JTklUIC0tIHplcm8gb3V0IHRvIGN1cnJlbnQgZGF0YSBwbHVzIFdJTl9JTklULCBvciB1cFxuLy8gICAgICAgKiB0byBlbmQgb2Ygd2luZG93LCB3aGljaGV2ZXIgaXMgbGVzcy5cbi8vICAgICAgICovXG4vLyAgICAgIGluaXQgPSAodWxnKWN1cnIgKyBXSU5fSU5JVCAtIHMtPmhpZ2hfd2F0ZXI7XG4vLyAgICAgIGlmIChpbml0ID4gcy0+d2luZG93X3NpemUgLSBzLT5oaWdoX3dhdGVyKVxuLy8gICAgICAgIGluaXQgPSBzLT53aW5kb3dfc2l6ZSAtIHMtPmhpZ2hfd2F0ZXI7XG4vLyAgICAgIHptZW16ZXJvKHMtPndpbmRvdyArIHMtPmhpZ2hfd2F0ZXIsICh1bnNpZ25lZClpbml0KTtcbi8vICAgICAgcy0+aGlnaF93YXRlciArPSBpbml0O1xuLy8gICAgfVxuLy8gIH1cbi8vXG4vLyAgQXNzZXJ0KCh1bGcpcy0+c3Ryc3RhcnQgPD0gcy0+d2luZG93X3NpemUgLSBNSU5fTE9PS0FIRUFELFxuLy8gICAgXCJub3QgZW5vdWdoIHJvb20gZm9yIHNlYXJjaFwiKTtcbn07XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weSB3aXRob3V0IGNvbXByZXNzaW9uIGFzIG11Y2ggYXMgcG9zc2libGUgZnJvbSB0aGUgaW5wdXQgc3RyZWFtLCByZXR1cm5cbiAqIHRoZSBjdXJyZW50IGJsb2NrIHN0YXRlLlxuICpcbiAqIEluIGNhc2UgZGVmbGF0ZVBhcmFtcygpIGlzIHVzZWQgdG8gbGF0ZXIgc3dpdGNoIHRvIGEgbm9uLXplcm8gY29tcHJlc3Npb25cbiAqIGxldmVsLCBzLT5tYXRjaGVzIChvdGhlcndpc2UgdW51c2VkIHdoZW4gc3RvcmluZykga2VlcHMgdHJhY2sgb2YgdGhlIG51bWJlclxuICogb2YgaGFzaCB0YWJsZSBzbGlkZXMgdG8gcGVyZm9ybS4gSWYgcy0+bWF0Y2hlcyBpcyAxLCB0aGVuIG9uZSBoYXNoIHRhYmxlXG4gKiBzbGlkZSB3aWxsIGJlIGRvbmUgd2hlbiBzd2l0Y2hpbmcuIElmIHMtPm1hdGNoZXMgaXMgMiwgdGhlIG1heGltdW0gdmFsdWVcbiAqIGFsbG93ZWQgaGVyZSwgdGhlbiB0aGUgaGFzaCB0YWJsZSB3aWxsIGJlIGNsZWFyZWQsIHNpbmNlIHR3byBvciBtb3JlIHNsaWRlc1xuICogaXMgdGhlIHNhbWUgYXMgYSBjbGVhci5cbiAqXG4gKiBkZWZsYXRlX3N0b3JlZCgpIGlzIHdyaXR0ZW4gdG8gbWluaW1pemUgdGhlIG51bWJlciBvZiB0aW1lcyBhbiBpbnB1dCBieXRlIGlzXG4gKiBjb3BpZWQuIEl0IGlzIG1vc3QgZWZmaWNpZW50IHdpdGggbGFyZ2UgaW5wdXQgYW5kIG91dHB1dCBidWZmZXJzLCB3aGljaFxuICogbWF4aW1pemVzIHRoZSBvcHBvcnR1bml0ZXMgdG8gaGF2ZSBhIHNpbmdsZSBjb3B5IGZyb20gbmV4dF9pbiB0byBuZXh0X291dC5cbiAqL1xuY29uc3QgZGVmbGF0ZV9zdG9yZWQgPSAocywgZmx1c2gpID0+IHtcblxuICAvKiBTbWFsbGVzdCB3b3J0aHkgYmxvY2sgc2l6ZSB3aGVuIG5vdCBmbHVzaGluZyBvciBmaW5pc2hpbmcuIEJ5IGRlZmF1bHRcbiAgICogdGhpcyBpcyAzMksuIFRoaXMgY2FuIGJlIGFzIHNtYWxsIGFzIDUwNyBieXRlcyBmb3IgbWVtTGV2ZWwgPT0gMS4gRm9yXG4gICAqIGxhcmdlIGlucHV0IGFuZCBvdXRwdXQgYnVmZmVycywgdGhlIHN0b3JlZCBibG9jayBzaXplIHdpbGwgYmUgbGFyZ2VyLlxuICAgKi9cbiAgbGV0IG1pbl9ibG9jayA9IHMucGVuZGluZ19idWZfc2l6ZSAtIDUgPiBzLndfc2l6ZSA/IHMud19zaXplIDogcy5wZW5kaW5nX2J1Zl9zaXplIC0gNTtcblxuICAvKiBDb3B5IGFzIG1hbnkgbWluX2Jsb2NrIG9yIGxhcmdlciBzdG9yZWQgYmxvY2tzIGRpcmVjdGx5IHRvIG5leHRfb3V0IGFzXG4gICAqIHBvc3NpYmxlLiBJZiBmbHVzaGluZywgY29weSB0aGUgcmVtYWluaW5nIGF2YWlsYWJsZSBpbnB1dCB0byBuZXh0X291dCBhc1xuICAgKiBzdG9yZWQgYmxvY2tzLCBpZiB0aGVyZSBpcyBlbm91Z2ggc3BhY2UuXG4gICAqL1xuICBsZXQgbGVuLCBsZWZ0LCBoYXZlLCBsYXN0ID0gMDtcbiAgbGV0IHVzZWQgPSBzLnN0cm0uYXZhaWxfaW47XG4gIGRvIHtcbiAgICAvKiBTZXQgbGVuIHRvIHRoZSBtYXhpbXVtIHNpemUgYmxvY2sgdGhhdCB3ZSBjYW4gY29weSBkaXJlY3RseSB3aXRoIHRoZVxuICAgICAqIGF2YWlsYWJsZSBpbnB1dCBkYXRhIGFuZCBvdXRwdXQgc3BhY2UuIFNldCBsZWZ0IHRvIGhvdyBtdWNoIG9mIHRoYXRcbiAgICAgKiB3b3VsZCBiZSBjb3BpZWQgZnJvbSB3aGF0J3MgbGVmdCBpbiB0aGUgd2luZG93LlxuICAgICAqL1xuICAgIGxlbiA9IDY1NTM1LyogTUFYX1NUT1JFRCAqLzsgICAgIC8qIG1heGltdW0gZGVmbGF0ZSBzdG9yZWQgYmxvY2sgbGVuZ3RoICovXG4gICAgaGF2ZSA9IChzLmJpX3ZhbGlkICsgNDIpID4+IDM7ICAgICAvKiBudW1iZXIgb2YgaGVhZGVyIGJ5dGVzICovXG4gICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPCBoYXZlKSB7ICAgICAgICAgLyogbmVlZCByb29tIGZvciBoZWFkZXIgKi9cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAgIC8qIG1heGltdW0gc3RvcmVkIGJsb2NrIGxlbmd0aCB0aGF0IHdpbGwgZml0IGluIGF2YWlsX291dDogKi9cbiAgICBoYXZlID0gcy5zdHJtLmF2YWlsX291dCAtIGhhdmU7XG4gICAgbGVmdCA9IHMuc3Ryc3RhcnQgLSBzLmJsb2NrX3N0YXJ0OyAgLyogYnl0ZXMgbGVmdCBpbiB3aW5kb3cgKi9cbiAgICBpZiAobGVuID4gbGVmdCArIHMuc3RybS5hdmFpbF9pbikge1xuICAgICAgbGVuID0gbGVmdCArIHMuc3RybS5hdmFpbF9pbjsgICAvKiBsaW1pdCBsZW4gdG8gdGhlIGlucHV0ICovXG4gICAgfVxuICAgIGlmIChsZW4gPiBoYXZlKSB7XG4gICAgICBsZW4gPSBoYXZlOyAgICAgICAgICAgICAvKiBsaW1pdCBsZW4gdG8gdGhlIG91dHB1dCAqL1xuICAgIH1cblxuICAgIC8qIElmIHRoZSBzdG9yZWQgYmxvY2sgd291bGQgYmUgbGVzcyB0aGFuIG1pbl9ibG9jayBpbiBsZW5ndGgsIG9yIGlmXG4gICAgICogdW5hYmxlIHRvIGNvcHkgYWxsIG9mIHRoZSBhdmFpbGFibGUgaW5wdXQgd2hlbiBmbHVzaGluZywgdGhlbiB0cnlcbiAgICAgKiBjb3B5aW5nIHRvIHRoZSB3aW5kb3cgYW5kIHRoZSBwZW5kaW5nIGJ1ZmZlciBpbnN0ZWFkLiBBbHNvIGRvbid0XG4gICAgICogd3JpdGUgYW4gZW1wdHkgYmxvY2sgd2hlbiBmbHVzaGluZyAtLSBkZWZsYXRlKCkgZG9lcyB0aGF0LlxuICAgICAqL1xuICAgIGlmIChsZW4gPCBtaW5fYmxvY2sgJiYgKChsZW4gPT09IDAgJiYgZmx1c2ggIT09IFpfRklOSVNIJDMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmbHVzaCA9PT0gWl9OT19GTFVTSCQyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBsZW4gIT09IGxlZnQgKyBzLnN0cm0uYXZhaWxfaW4pKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvKiBNYWtlIGEgZHVtbXkgc3RvcmVkIGJsb2NrIGluIHBlbmRpbmcgdG8gZ2V0IHRoZSBoZWFkZXIgYnl0ZXMsXG4gICAgICogaW5jbHVkaW5nIGFueSBwZW5kaW5nIGJpdHMuIFRoaXMgYWxzbyB1cGRhdGVzIHRoZSBkZWJ1Z2dpbmcgY291bnRzLlxuICAgICAqL1xuICAgIGxhc3QgPSBmbHVzaCA9PT0gWl9GSU5JU0gkMyAmJiBsZW4gPT09IGxlZnQgKyBzLnN0cm0uYXZhaWxfaW4gPyAxIDogMDtcbiAgICBfdHJfc3RvcmVkX2Jsb2NrKHMsIDAsIDAsIGxhc3QpO1xuXG4gICAgLyogUmVwbGFjZSB0aGUgbGVuZ3RocyBpbiB0aGUgZHVtbXkgc3RvcmVkIGJsb2NrIHdpdGggbGVuLiAqL1xuICAgIHMucGVuZGluZ19idWZbcy5wZW5kaW5nIC0gNF0gPSBsZW47XG4gICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcgLSAzXSA9IGxlbiA+PiA4O1xuICAgIHMucGVuZGluZ19idWZbcy5wZW5kaW5nIC0gMl0gPSB+bGVuO1xuICAgIHMucGVuZGluZ19idWZbcy5wZW5kaW5nIC0gMV0gPSB+bGVuID4+IDg7XG5cbiAgICAvKiBXcml0ZSB0aGUgc3RvcmVkIGJsb2NrIGhlYWRlciBieXRlcy4gKi9cbiAgICBmbHVzaF9wZW5kaW5nKHMuc3RybSk7XG5cbi8vI2lmZGVmIFpMSUJfREVCVUdcbi8vICAgIC8qIFVwZGF0ZSBkZWJ1Z2dpbmcgY291bnRzIGZvciB0aGUgZGF0YSBhYm91dCB0byBiZSBjb3BpZWQuICovXG4vLyAgICBzLT5jb21wcmVzc2VkX2xlbiArPSBsZW4gPDwgMztcbi8vICAgIHMtPmJpdHNfc2VudCArPSBsZW4gPDwgMztcbi8vI2VuZGlmXG5cbiAgICAvKiBDb3B5IHVuY29tcHJlc3NlZCBieXRlcyBmcm9tIHRoZSB3aW5kb3cgdG8gbmV4dF9vdXQuICovXG4gICAgaWYgKGxlZnQpIHtcbiAgICAgIGlmIChsZWZ0ID4gbGVuKSB7XG4gICAgICAgIGxlZnQgPSBsZW47XG4gICAgICB9XG4gICAgICAvL3ptZW1jcHkocy0+c3RybS0+bmV4dF9vdXQsIHMtPndpbmRvdyArIHMtPmJsb2NrX3N0YXJ0LCBsZWZ0KTtcbiAgICAgIHMuc3RybS5vdXRwdXQuc2V0KHMud2luZG93LnN1YmFycmF5KHMuYmxvY2tfc3RhcnQsIHMuYmxvY2tfc3RhcnQgKyBsZWZ0KSwgcy5zdHJtLm5leHRfb3V0KTtcbiAgICAgIHMuc3RybS5uZXh0X291dCArPSBsZWZ0O1xuICAgICAgcy5zdHJtLmF2YWlsX291dCAtPSBsZWZ0O1xuICAgICAgcy5zdHJtLnRvdGFsX291dCArPSBsZWZ0O1xuICAgICAgcy5ibG9ja19zdGFydCArPSBsZWZ0O1xuICAgICAgbGVuIC09IGxlZnQ7XG4gICAgfVxuXG4gICAgLyogQ29weSB1bmNvbXByZXNzZWQgYnl0ZXMgZGlyZWN0bHkgZnJvbSBuZXh0X2luIHRvIG5leHRfb3V0LCB1cGRhdGluZ1xuICAgICAqIHRoZSBjaGVjayB2YWx1ZS5cbiAgICAgKi9cbiAgICBpZiAobGVuKSB7XG4gICAgICByZWFkX2J1ZihzLnN0cm0sIHMuc3RybS5vdXRwdXQsIHMuc3RybS5uZXh0X291dCwgbGVuKTtcbiAgICAgIHMuc3RybS5uZXh0X291dCArPSBsZW47XG4gICAgICBzLnN0cm0uYXZhaWxfb3V0IC09IGxlbjtcbiAgICAgIHMuc3RybS50b3RhbF9vdXQgKz0gbGVuO1xuICAgIH1cbiAgfSB3aGlsZSAobGFzdCA9PT0gMCk7XG5cbiAgLyogVXBkYXRlIHRoZSBzbGlkaW5nIHdpbmRvdyB3aXRoIHRoZSBsYXN0IHMtPndfc2l6ZSBieXRlcyBvZiB0aGUgY29waWVkXG4gICAqIGRhdGEsIG9yIGFwcGVuZCBhbGwgb2YgdGhlIGNvcGllZCBkYXRhIHRvIHRoZSBleGlzdGluZyB3aW5kb3cgaWYgbGVzc1xuICAgKiB0aGFuIHMtPndfc2l6ZSBieXRlcyB3ZXJlIGNvcGllZC4gQWxzbyB1cGRhdGUgdGhlIG51bWJlciBvZiBieXRlcyB0b1xuICAgKiBpbnNlcnQgaW4gdGhlIGhhc2ggdGFibGVzLCBpbiB0aGUgZXZlbnQgdGhhdCBkZWZsYXRlUGFyYW1zKCkgc3dpdGNoZXMgdG9cbiAgICogYSBub24temVybyBjb21wcmVzc2lvbiBsZXZlbC5cbiAgICovXG4gIHVzZWQgLT0gcy5zdHJtLmF2YWlsX2luOyAgICAvKiBudW1iZXIgb2YgaW5wdXQgYnl0ZXMgZGlyZWN0bHkgY29waWVkICovXG4gIGlmICh1c2VkKSB7XG4gICAgLyogSWYgYW55IGlucHV0IHdhcyB1c2VkLCB0aGVuIG5vIHVudXNlZCBpbnB1dCByZW1haW5zIGluIHRoZSB3aW5kb3csXG4gICAgICogdGhlcmVmb3JlIHMtPmJsb2NrX3N0YXJ0ID09IHMtPnN0cnN0YXJ0LlxuICAgICAqL1xuICAgIGlmICh1c2VkID49IHMud19zaXplKSB7ICAvKiBzdXBwbGFudCB0aGUgcHJldmlvdXMgaGlzdG9yeSAqL1xuICAgICAgcy5tYXRjaGVzID0gMjsgICAgIC8qIGNsZWFyIGhhc2ggKi9cbiAgICAgIC8vem1lbWNweShzLT53aW5kb3csIHMtPnN0cm0tPm5leHRfaW4gLSBzLT53X3NpemUsIHMtPndfc2l6ZSk7XG4gICAgICBzLndpbmRvdy5zZXQocy5zdHJtLmlucHV0LnN1YmFycmF5KHMuc3RybS5uZXh0X2luIC0gcy53X3NpemUsIHMuc3RybS5uZXh0X2luKSwgMCk7XG4gICAgICBzLnN0cnN0YXJ0ID0gcy53X3NpemU7XG4gICAgICBzLmluc2VydCA9IHMuc3Ryc3RhcnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKHMud2luZG93X3NpemUgLSBzLnN0cnN0YXJ0IDw9IHVzZWQpIHtcbiAgICAgICAgLyogU2xpZGUgdGhlIHdpbmRvdyBkb3duLiAqL1xuICAgICAgICBzLnN0cnN0YXJ0IC09IHMud19zaXplO1xuICAgICAgICAvL3ptZW1jcHkocy0+d2luZG93LCBzLT53aW5kb3cgKyBzLT53X3NpemUsIHMtPnN0cnN0YXJ0KTtcbiAgICAgICAgcy53aW5kb3cuc2V0KHMud2luZG93LnN1YmFycmF5KHMud19zaXplLCBzLndfc2l6ZSArIHMuc3Ryc3RhcnQpLCAwKTtcbiAgICAgICAgaWYgKHMubWF0Y2hlcyA8IDIpIHtcbiAgICAgICAgICBzLm1hdGNoZXMrKzsgICAvKiBhZGQgYSBwZW5kaW5nIHNsaWRlX2hhc2goKSAqL1xuICAgICAgICB9XG4gICAgICAgIGlmIChzLmluc2VydCA+IHMuc3Ryc3RhcnQpIHtcbiAgICAgICAgICBzLmluc2VydCA9IHMuc3Ryc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vem1lbWNweShzLT53aW5kb3cgKyBzLT5zdHJzdGFydCwgcy0+c3RybS0+bmV4dF9pbiAtIHVzZWQsIHVzZWQpO1xuICAgICAgcy53aW5kb3cuc2V0KHMuc3RybS5pbnB1dC5zdWJhcnJheShzLnN0cm0ubmV4dF9pbiAtIHVzZWQsIHMuc3RybS5uZXh0X2luKSwgcy5zdHJzdGFydCk7XG4gICAgICBzLnN0cnN0YXJ0ICs9IHVzZWQ7XG4gICAgICBzLmluc2VydCArPSB1c2VkID4gcy53X3NpemUgLSBzLmluc2VydCA/IHMud19zaXplIC0gcy5pbnNlcnQgOiB1c2VkO1xuICAgIH1cbiAgICBzLmJsb2NrX3N0YXJ0ID0gcy5zdHJzdGFydDtcbiAgfVxuICBpZiAocy5oaWdoX3dhdGVyIDwgcy5zdHJzdGFydCkge1xuICAgIHMuaGlnaF93YXRlciA9IHMuc3Ryc3RhcnQ7XG4gIH1cblxuICAvKiBJZiB0aGUgbGFzdCBibG9jayB3YXMgd3JpdHRlbiB0byBuZXh0X291dCwgdGhlbiBkb25lLiAqL1xuICBpZiAobGFzdCkge1xuICAgIHJldHVybiBCU19GSU5JU0hfRE9ORTtcbiAgfVxuXG4gIC8qIElmIGZsdXNoaW5nIGFuZCBhbGwgaW5wdXQgaGFzIGJlZW4gY29uc3VtZWQsIHRoZW4gZG9uZS4gKi9cbiAgaWYgKGZsdXNoICE9PSBaX05PX0ZMVVNIJDIgJiYgZmx1c2ggIT09IFpfRklOSVNIJDMgJiZcbiAgICBzLnN0cm0uYXZhaWxfaW4gPT09IDAgJiYgcy5zdHJzdGFydCA9PT0gcy5ibG9ja19zdGFydCkge1xuICAgIHJldHVybiBCU19CTE9DS19ET05FO1xuICB9XG5cbiAgLyogRmlsbCB0aGUgd2luZG93IHdpdGggYW55IHJlbWFpbmluZyBpbnB1dC4gKi9cbiAgaGF2ZSA9IHMud2luZG93X3NpemUgLSBzLnN0cnN0YXJ0O1xuICBpZiAocy5zdHJtLmF2YWlsX2luID4gaGF2ZSAmJiBzLmJsb2NrX3N0YXJ0ID49IHMud19zaXplKSB7XG4gICAgLyogU2xpZGUgdGhlIHdpbmRvdyBkb3duLiAqL1xuICAgIHMuYmxvY2tfc3RhcnQgLT0gcy53X3NpemU7XG4gICAgcy5zdHJzdGFydCAtPSBzLndfc2l6ZTtcbiAgICAvL3ptZW1jcHkocy0+d2luZG93LCBzLT53aW5kb3cgKyBzLT53X3NpemUsIHMtPnN0cnN0YXJ0KTtcbiAgICBzLndpbmRvdy5zZXQocy53aW5kb3cuc3ViYXJyYXkocy53X3NpemUsIHMud19zaXplICsgcy5zdHJzdGFydCksIDApO1xuICAgIGlmIChzLm1hdGNoZXMgPCAyKSB7XG4gICAgICBzLm1hdGNoZXMrKzsgICAgICAgLyogYWRkIGEgcGVuZGluZyBzbGlkZV9oYXNoKCkgKi9cbiAgICB9XG4gICAgaGF2ZSArPSBzLndfc2l6ZTsgICAgICAvKiBtb3JlIHNwYWNlIG5vdyAqL1xuICAgIGlmIChzLmluc2VydCA+IHMuc3Ryc3RhcnQpIHtcbiAgICAgIHMuaW5zZXJ0ID0gcy5zdHJzdGFydDtcbiAgICB9XG4gIH1cbiAgaWYgKGhhdmUgPiBzLnN0cm0uYXZhaWxfaW4pIHtcbiAgICBoYXZlID0gcy5zdHJtLmF2YWlsX2luO1xuICB9XG4gIGlmIChoYXZlKSB7XG4gICAgcmVhZF9idWYocy5zdHJtLCBzLndpbmRvdywgcy5zdHJzdGFydCwgaGF2ZSk7XG4gICAgcy5zdHJzdGFydCArPSBoYXZlO1xuICAgIHMuaW5zZXJ0ICs9IGhhdmUgPiBzLndfc2l6ZSAtIHMuaW5zZXJ0ID8gcy53X3NpemUgLSBzLmluc2VydCA6IGhhdmU7XG4gIH1cbiAgaWYgKHMuaGlnaF93YXRlciA8IHMuc3Ryc3RhcnQpIHtcbiAgICBzLmhpZ2hfd2F0ZXIgPSBzLnN0cnN0YXJ0O1xuICB9XG5cbiAgLyogVGhlcmUgd2FzIG5vdCBlbm91Z2ggYXZhaWxfb3V0IHRvIHdyaXRlIGEgY29tcGxldGUgd29ydGh5IG9yIGZsdXNoZWRcbiAgICogc3RvcmVkIGJsb2NrIHRvIG5leHRfb3V0LiBXcml0ZSBhIHN0b3JlZCBibG9jayB0byBwZW5kaW5nIGluc3RlYWQsIGlmIHdlXG4gICAqIGhhdmUgZW5vdWdoIGlucHV0IGZvciBhIHdvcnRoeSBibG9jaywgb3IgaWYgZmx1c2hpbmcgYW5kIHRoZXJlIGlzIGVub3VnaFxuICAgKiByb29tIGZvciB0aGUgcmVtYWluaW5nIGlucHV0IGFzIGEgc3RvcmVkIGJsb2NrIGluIHRoZSBwZW5kaW5nIGJ1ZmZlci5cbiAgICovXG4gIGhhdmUgPSAocy5iaV92YWxpZCArIDQyKSA+PiAzOyAgICAgLyogbnVtYmVyIG9mIGhlYWRlciBieXRlcyAqL1xuICAgIC8qIG1heGltdW0gc3RvcmVkIGJsb2NrIGxlbmd0aCB0aGF0IHdpbGwgZml0IGluIHBlbmRpbmc6ICovXG4gIGhhdmUgPSBzLnBlbmRpbmdfYnVmX3NpemUgLSBoYXZlID4gNjU1MzUvKiBNQVhfU1RPUkVEICovID8gNjU1MzUvKiBNQVhfU1RPUkVEICovIDogcy5wZW5kaW5nX2J1Zl9zaXplIC0gaGF2ZTtcbiAgbWluX2Jsb2NrID0gaGF2ZSA+IHMud19zaXplID8gcy53X3NpemUgOiBoYXZlO1xuICBsZWZ0ID0gcy5zdHJzdGFydCAtIHMuYmxvY2tfc3RhcnQ7XG4gIGlmIChsZWZ0ID49IG1pbl9ibG9jayB8fFxuICAgICAoKGxlZnQgfHwgZmx1c2ggPT09IFpfRklOSVNIJDMpICYmIGZsdXNoICE9PSBaX05PX0ZMVVNIJDIgJiZcbiAgICAgcy5zdHJtLmF2YWlsX2luID09PSAwICYmIGxlZnQgPD0gaGF2ZSkpIHtcbiAgICBsZW4gPSBsZWZ0ID4gaGF2ZSA/IGhhdmUgOiBsZWZ0O1xuICAgIGxhc3QgPSBmbHVzaCA9PT0gWl9GSU5JU0gkMyAmJiBzLnN0cm0uYXZhaWxfaW4gPT09IDAgJiZcbiAgICAgICAgIGxlbiA9PT0gbGVmdCA/IDEgOiAwO1xuICAgIF90cl9zdG9yZWRfYmxvY2socywgcy5ibG9ja19zdGFydCwgbGVuLCBsYXN0KTtcbiAgICBzLmJsb2NrX3N0YXJ0ICs9IGxlbjtcbiAgICBmbHVzaF9wZW5kaW5nKHMuc3RybSk7XG4gIH1cblxuICAvKiBXZSd2ZSBkb25lIGFsbCB3ZSBjYW4gd2l0aCB0aGUgYXZhaWxhYmxlIGlucHV0IGFuZCBvdXRwdXQuICovXG4gIHJldHVybiBsYXN0ID8gQlNfRklOSVNIX1NUQVJURUQgOiBCU19ORUVEX01PUkU7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29tcHJlc3MgYXMgbXVjaCBhcyBwb3NzaWJsZSBmcm9tIHRoZSBpbnB1dCBzdHJlYW0sIHJldHVybiB0aGUgY3VycmVudFxuICogYmxvY2sgc3RhdGUuXG4gKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHBlcmZvcm0gbGF6eSBldmFsdWF0aW9uIG9mIG1hdGNoZXMgYW5kIGluc2VydHNcbiAqIG5ldyBzdHJpbmdzIGluIHRoZSBkaWN0aW9uYXJ5IG9ubHkgZm9yIHVubWF0Y2hlZCBzdHJpbmdzIG9yIGZvciBzaG9ydFxuICogbWF0Y2hlcy4gSXQgaXMgdXNlZCBvbmx5IGZvciB0aGUgZmFzdCBjb21wcmVzc2lvbiBvcHRpb25zLlxuICovXG5jb25zdCBkZWZsYXRlX2Zhc3QgPSAocywgZmx1c2gpID0+IHtcblxuICBsZXQgaGFzaF9oZWFkOyAgICAgICAgLyogaGVhZCBvZiB0aGUgaGFzaCBjaGFpbiAqL1xuICBsZXQgYmZsdXNoOyAgICAgICAgICAgLyogc2V0IGlmIGN1cnJlbnQgYmxvY2sgbXVzdCBiZSBmbHVzaGVkICovXG5cbiAgZm9yICg7Oykge1xuICAgIC8qIE1ha2Ugc3VyZSB0aGF0IHdlIGFsd2F5cyBoYXZlIGVub3VnaCBsb29rYWhlYWQsIGV4Y2VwdFxuICAgICAqIGF0IHRoZSBlbmQgb2YgdGhlIGlucHV0IGZpbGUuIFdlIG5lZWQgTUFYX01BVENIIGJ5dGVzXG4gICAgICogZm9yIHRoZSBuZXh0IG1hdGNoLCBwbHVzIE1JTl9NQVRDSCBieXRlcyB0byBpbnNlcnQgdGhlXG4gICAgICogc3RyaW5nIGZvbGxvd2luZyB0aGUgbmV4dCBtYXRjaC5cbiAgICAgKi9cbiAgICBpZiAocy5sb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFEKSB7XG4gICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgIGlmIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQgJiYgZmx1c2ggPT09IFpfTk9fRkxVU0gkMikge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICAgIGJyZWFrOyAvKiBmbHVzaCB0aGUgY3VycmVudCBibG9jayAqL1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qIEluc2VydCB0aGUgc3RyaW5nIHdpbmRvd1tzdHJzdGFydCAuLiBzdHJzdGFydCsyXSBpbiB0aGVcbiAgICAgKiBkaWN0aW9uYXJ5LCBhbmQgc2V0IGhhc2hfaGVhZCB0byB0aGUgaGVhZCBvZiB0aGUgaGFzaCBjaGFpbjpcbiAgICAgKi9cbiAgICBoYXNoX2hlYWQgPSAwLypOSUwqLztcbiAgICBpZiAocy5sb29rYWhlYWQgPj0gTUlOX01BVENIKSB7XG4gICAgICAvKioqIElOU0VSVF9TVFJJTkcocywgcy5zdHJzdGFydCwgaGFzaF9oZWFkKTsgKioqL1xuICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbcy5zdHJzdGFydCArIE1JTl9NQVRDSCAtIDFdKTtcbiAgICAgIGhhc2hfaGVhZCA9IHMucHJldltzLnN0cnN0YXJ0ICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuICAgICAgcy5oZWFkW3MuaW5zX2hdID0gcy5zdHJzdGFydDtcbiAgICAgIC8qKiovXG4gICAgfVxuXG4gICAgLyogRmluZCB0aGUgbG9uZ2VzdCBtYXRjaCwgZGlzY2FyZGluZyB0aG9zZSA8PSBwcmV2X2xlbmd0aC5cbiAgICAgKiBBdCB0aGlzIHBvaW50IHdlIGhhdmUgYWx3YXlzIG1hdGNoX2xlbmd0aCA8IE1JTl9NQVRDSFxuICAgICAqL1xuICAgIGlmIChoYXNoX2hlYWQgIT09IDAvKk5JTCovICYmICgocy5zdHJzdGFydCAtIGhhc2hfaGVhZCkgPD0gKHMud19zaXplIC0gTUlOX0xPT0tBSEVBRCkpKSB7XG4gICAgICAvKiBUbyBzaW1wbGlmeSB0aGUgY29kZSwgd2UgcHJldmVudCBtYXRjaGVzIHdpdGggdGhlIHN0cmluZ1xuICAgICAgICogb2Ygd2luZG93IGluZGV4IDAgKGluIHBhcnRpY3VsYXIgd2UgaGF2ZSB0byBhdm9pZCBhIG1hdGNoXG4gICAgICAgKiBvZiB0aGUgc3RyaW5nIHdpdGggaXRzZWxmIGF0IHRoZSBzdGFydCBvZiB0aGUgaW5wdXQgZmlsZSkuXG4gICAgICAgKi9cbiAgICAgIHMubWF0Y2hfbGVuZ3RoID0gbG9uZ2VzdF9tYXRjaChzLCBoYXNoX2hlYWQpO1xuICAgICAgLyogbG9uZ2VzdF9tYXRjaCgpIHNldHMgbWF0Y2hfc3RhcnQgKi9cbiAgICB9XG4gICAgaWYgKHMubWF0Y2hfbGVuZ3RoID49IE1JTl9NQVRDSCkge1xuICAgICAgLy8gY2hlY2tfbWF0Y2gocywgcy5zdHJzdGFydCwgcy5tYXRjaF9zdGFydCwgcy5tYXRjaF9sZW5ndGgpOyAvLyBmb3IgZGVidWcgb25seVxuXG4gICAgICAvKioqIF90cl90YWxseV9kaXN0KHMsIHMuc3Ryc3RhcnQgLSBzLm1hdGNoX3N0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgcy5tYXRjaF9sZW5ndGggLSBNSU5fTUFUQ0gsIGJmbHVzaCk7ICoqKi9cbiAgICAgIGJmbHVzaCA9IF90cl90YWxseShzLCBzLnN0cnN0YXJ0IC0gcy5tYXRjaF9zdGFydCwgcy5tYXRjaF9sZW5ndGggLSBNSU5fTUFUQ0gpO1xuXG4gICAgICBzLmxvb2thaGVhZCAtPSBzLm1hdGNoX2xlbmd0aDtcblxuICAgICAgLyogSW5zZXJ0IG5ldyBzdHJpbmdzIGluIHRoZSBoYXNoIHRhYmxlIG9ubHkgaWYgdGhlIG1hdGNoIGxlbmd0aFxuICAgICAgICogaXMgbm90IHRvbyBsYXJnZS4gVGhpcyBzYXZlcyB0aW1lIGJ1dCBkZWdyYWRlcyBjb21wcmVzc2lvbi5cbiAgICAgICAqL1xuICAgICAgaWYgKHMubWF0Y2hfbGVuZ3RoIDw9IHMubWF4X2xhenlfbWF0Y2gvKm1heF9pbnNlcnRfbGVuZ3RoKi8gJiYgcy5sb29rYWhlYWQgPj0gTUlOX01BVENIKSB7XG4gICAgICAgIHMubWF0Y2hfbGVuZ3RoLS07IC8qIHN0cmluZyBhdCBzdHJzdGFydCBhbHJlYWR5IGluIHRhYmxlICovXG4gICAgICAgIGRvIHtcbiAgICAgICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICAgICAgLyoqKiBJTlNFUlRfU1RSSU5HKHMsIHMuc3Ryc3RhcnQsIGhhc2hfaGVhZCk7ICoqKi9cbiAgICAgICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIIC0gMV0pO1xuICAgICAgICAgIGhhc2hfaGVhZCA9IHMucHJldltzLnN0cnN0YXJ0ICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuICAgICAgICAgIHMuaGVhZFtzLmluc19oXSA9IHMuc3Ryc3RhcnQ7XG4gICAgICAgICAgLyoqKi9cbiAgICAgICAgICAvKiBzdHJzdGFydCBuZXZlciBleGNlZWRzIFdTSVpFLU1BWF9NQVRDSCwgc28gdGhlcmUgYXJlXG4gICAgICAgICAgICogYWx3YXlzIE1JTl9NQVRDSCBieXRlcyBhaGVhZC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgfSB3aGlsZSAoLS1zLm1hdGNoX2xlbmd0aCAhPT0gMCk7XG4gICAgICAgIHMuc3Ryc3RhcnQrKztcbiAgICAgIH0gZWxzZVxuICAgICAge1xuICAgICAgICBzLnN0cnN0YXJ0ICs9IHMubWF0Y2hfbGVuZ3RoO1xuICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IDA7XG4gICAgICAgIHMuaW5zX2ggPSBzLndpbmRvd1tzLnN0cnN0YXJ0XTtcbiAgICAgICAgLyogVVBEQVRFX0hBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbcy5zdHJzdGFydCsxXSk7ICovXG4gICAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3Muc3Ryc3RhcnQgKyAxXSk7XG5cbi8vI2lmIE1JTl9NQVRDSCAhPSAzXG4vLyAgICAgICAgICAgICAgICBDYWxsIFVQREFURV9IQVNIKCkgTUlOX01BVENILTMgbW9yZSB0aW1lc1xuLy8jZW5kaWZcbiAgICAgICAgLyogSWYgbG9va2FoZWFkIDwgTUlOX01BVENILCBpbnNfaCBpcyBnYXJiYWdlLCBidXQgaXQgZG9lcyBub3RcbiAgICAgICAgICogbWF0dGVyIHNpbmNlIGl0IHdpbGwgYmUgcmVjb21wdXRlZCBhdCBuZXh0IGRlZmxhdGUgY2FsbC5cbiAgICAgICAgICovXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIE5vIG1hdGNoLCBvdXRwdXQgYSBsaXRlcmFsIGJ5dGUgKi9cbiAgICAgIC8vVHJhY2V2digoc3RkZXJyLFwiJWNcIiwgcy53aW5kb3dbcy5zdHJzdGFydF0pKTtcbiAgICAgIC8qKiogX3RyX3RhbGx5X2xpdChzLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSwgYmZsdXNoKTsgKioqL1xuICAgICAgYmZsdXNoID0gX3RyX3RhbGx5KHMsIDAsIHMud2luZG93W3Muc3Ryc3RhcnRdKTtcblxuICAgICAgcy5sb29rYWhlYWQtLTtcbiAgICAgIHMuc3Ryc3RhcnQrKztcbiAgICB9XG4gICAgaWYgKGJmbHVzaCkge1xuICAgICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgICAgLyoqKi9cbiAgICB9XG4gIH1cbiAgcy5pbnNlcnQgPSAoKHMuc3Ryc3RhcnQgPCAoTUlOX01BVENIIC0gMSkpID8gcy5zdHJzdGFydCA6IE1JTl9NQVRDSCAtIDEpO1xuICBpZiAoZmx1c2ggPT09IFpfRklOSVNIJDMpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDEpOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEO1xuICAgIH1cbiAgICAvKioqL1xuICAgIHJldHVybiBCU19GSU5JU0hfRE9ORTtcbiAgfVxuICBpZiAocy5zeW1fbmV4dCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICB9XG4gICAgLyoqKi9cbiAgfVxuICByZXR1cm4gQlNfQkxPQ0tfRE9ORTtcbn07XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2FtZSBhcyBhYm92ZSwgYnV0IGFjaGlldmVzIGJldHRlciBjb21wcmVzc2lvbi4gV2UgdXNlIGEgbGF6eVxuICogZXZhbHVhdGlvbiBmb3IgbWF0Y2hlczogYSBtYXRjaCBpcyBmaW5hbGx5IGFkb3B0ZWQgb25seSBpZiB0aGVyZSBpc1xuICogbm8gYmV0dGVyIG1hdGNoIGF0IHRoZSBuZXh0IHdpbmRvdyBwb3NpdGlvbi5cbiAqL1xuY29uc3QgZGVmbGF0ZV9zbG93ID0gKHMsIGZsdXNoKSA9PiB7XG5cbiAgbGV0IGhhc2hfaGVhZDsgICAgICAgICAgLyogaGVhZCBvZiBoYXNoIGNoYWluICovXG4gIGxldCBiZmx1c2g7ICAgICAgICAgICAgICAvKiBzZXQgaWYgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQgKi9cblxuICBsZXQgbWF4X2luc2VydDtcblxuICAvKiBQcm9jZXNzIHRoZSBpbnB1dCBibG9jay4gKi9cbiAgZm9yICg7Oykge1xuICAgIC8qIE1ha2Ugc3VyZSB0aGF0IHdlIGFsd2F5cyBoYXZlIGVub3VnaCBsb29rYWhlYWQsIGV4Y2VwdFxuICAgICAqIGF0IHRoZSBlbmQgb2YgdGhlIGlucHV0IGZpbGUuIFdlIG5lZWQgTUFYX01BVENIIGJ5dGVzXG4gICAgICogZm9yIHRoZSBuZXh0IG1hdGNoLCBwbHVzIE1JTl9NQVRDSCBieXRlcyB0byBpbnNlcnQgdGhlXG4gICAgICogc3RyaW5nIGZvbGxvd2luZyB0aGUgbmV4dCBtYXRjaC5cbiAgICAgKi9cbiAgICBpZiAocy5sb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFEKSB7XG4gICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgIGlmIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQgJiYgZmx1c2ggPT09IFpfTk9fRkxVU0gkMikge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7IGJyZWFrOyB9IC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgfVxuXG4gICAgLyogSW5zZXJ0IHRoZSBzdHJpbmcgd2luZG93W3N0cnN0YXJ0IC4uIHN0cnN0YXJ0KzJdIGluIHRoZVxuICAgICAqIGRpY3Rpb25hcnksIGFuZCBzZXQgaGFzaF9oZWFkIHRvIHRoZSBoZWFkIG9mIHRoZSBoYXNoIGNoYWluOlxuICAgICAqL1xuICAgIGhhc2hfaGVhZCA9IDAvKk5JTCovO1xuICAgIGlmIChzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0gpIHtcbiAgICAgIC8qKiogSU5TRVJUX1NUUklORyhzLCBzLnN0cnN0YXJ0LCBoYXNoX2hlYWQpOyAqKiovXG4gICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIIC0gMV0pO1xuICAgICAgaGFzaF9oZWFkID0gcy5wcmV2W3Muc3Ryc3RhcnQgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG4gICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzLnN0cnN0YXJ0O1xuICAgICAgLyoqKi9cbiAgICB9XG5cbiAgICAvKiBGaW5kIHRoZSBsb25nZXN0IG1hdGNoLCBkaXNjYXJkaW5nIHRob3NlIDw9IHByZXZfbGVuZ3RoLlxuICAgICAqL1xuICAgIHMucHJldl9sZW5ndGggPSBzLm1hdGNoX2xlbmd0aDtcbiAgICBzLnByZXZfbWF0Y2ggPSBzLm1hdGNoX3N0YXJ0O1xuICAgIHMubWF0Y2hfbGVuZ3RoID0gTUlOX01BVENIIC0gMTtcblxuICAgIGlmIChoYXNoX2hlYWQgIT09IDAvKk5JTCovICYmIHMucHJldl9sZW5ndGggPCBzLm1heF9sYXp5X21hdGNoICYmXG4gICAgICAgIHMuc3Ryc3RhcnQgLSBoYXNoX2hlYWQgPD0gKHMud19zaXplIC0gTUlOX0xPT0tBSEVBRCkvKk1BWF9ESVNUKHMpKi8pIHtcbiAgICAgIC8qIFRvIHNpbXBsaWZ5IHRoZSBjb2RlLCB3ZSBwcmV2ZW50IG1hdGNoZXMgd2l0aCB0aGUgc3RyaW5nXG4gICAgICAgKiBvZiB3aW5kb3cgaW5kZXggMCAoaW4gcGFydGljdWxhciB3ZSBoYXZlIHRvIGF2b2lkIGEgbWF0Y2hcbiAgICAgICAqIG9mIHRoZSBzdHJpbmcgd2l0aCBpdHNlbGYgYXQgdGhlIHN0YXJ0IG9mIHRoZSBpbnB1dCBmaWxlKS5cbiAgICAgICAqL1xuICAgICAgcy5tYXRjaF9sZW5ndGggPSBsb25nZXN0X21hdGNoKHMsIGhhc2hfaGVhZCk7XG4gICAgICAvKiBsb25nZXN0X21hdGNoKCkgc2V0cyBtYXRjaF9zdGFydCAqL1xuXG4gICAgICBpZiAocy5tYXRjaF9sZW5ndGggPD0gNSAmJlxuICAgICAgICAgKHMuc3RyYXRlZ3kgPT09IFpfRklMVEVSRUQgfHwgKHMubWF0Y2hfbGVuZ3RoID09PSBNSU5fTUFUQ0ggJiYgcy5zdHJzdGFydCAtIHMubWF0Y2hfc3RhcnQgPiA0MDk2LypUT09fRkFSKi8pKSkge1xuXG4gICAgICAgIC8qIElmIHByZXZfbWF0Y2ggaXMgYWxzbyBNSU5fTUFUQ0gsIG1hdGNoX3N0YXJ0IGlzIGdhcmJhZ2VcbiAgICAgICAgICogYnV0IHdlIHdpbGwgaWdub3JlIHRoZSBjdXJyZW50IG1hdGNoIGFueXdheS5cbiAgICAgICAgICovXG4gICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gTUlOX01BVENIIC0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyogSWYgdGhlcmUgd2FzIGEgbWF0Y2ggYXQgdGhlIHByZXZpb3VzIHN0ZXAgYW5kIHRoZSBjdXJyZW50XG4gICAgICogbWF0Y2ggaXMgbm90IGJldHRlciwgb3V0cHV0IHRoZSBwcmV2aW91cyBtYXRjaDpcbiAgICAgKi9cbiAgICBpZiAocy5wcmV2X2xlbmd0aCA+PSBNSU5fTUFUQ0ggJiYgcy5tYXRjaF9sZW5ndGggPD0gcy5wcmV2X2xlbmd0aCkge1xuICAgICAgbWF4X2luc2VydCA9IHMuc3Ryc3RhcnQgKyBzLmxvb2thaGVhZCAtIE1JTl9NQVRDSDtcbiAgICAgIC8qIERvIG5vdCBpbnNlcnQgc3RyaW5ncyBpbiBoYXNoIHRhYmxlIGJleW9uZCB0aGlzLiAqL1xuXG4gICAgICAvL2NoZWNrX21hdGNoKHMsIHMuc3Ryc3RhcnQtMSwgcy5wcmV2X21hdGNoLCBzLnByZXZfbGVuZ3RoKTtcblxuICAgICAgLyoqKl90cl90YWxseV9kaXN0KHMsIHMuc3Ryc3RhcnQgLSAxIC0gcy5wcmV2X21hdGNoLFxuICAgICAgICAgICAgICAgICAgICAgcy5wcmV2X2xlbmd0aCAtIE1JTl9NQVRDSCwgYmZsdXNoKTsqKiovXG4gICAgICBiZmx1c2ggPSBfdHJfdGFsbHkocywgcy5zdHJzdGFydCAtIDEgLSBzLnByZXZfbWF0Y2gsIHMucHJldl9sZW5ndGggLSBNSU5fTUFUQ0gpO1xuICAgICAgLyogSW5zZXJ0IGluIGhhc2ggdGFibGUgYWxsIHN0cmluZ3MgdXAgdG8gdGhlIGVuZCBvZiB0aGUgbWF0Y2guXG4gICAgICAgKiBzdHJzdGFydC0xIGFuZCBzdHJzdGFydCBhcmUgYWxyZWFkeSBpbnNlcnRlZC4gSWYgdGhlcmUgaXMgbm90XG4gICAgICAgKiBlbm91Z2ggbG9va2FoZWFkLCB0aGUgbGFzdCB0d28gc3RyaW5ncyBhcmUgbm90IGluc2VydGVkIGluXG4gICAgICAgKiB0aGUgaGFzaCB0YWJsZS5cbiAgICAgICAqL1xuICAgICAgcy5sb29rYWhlYWQgLT0gcy5wcmV2X2xlbmd0aCAtIDE7XG4gICAgICBzLnByZXZfbGVuZ3RoIC09IDI7XG4gICAgICBkbyB7XG4gICAgICAgIGlmICgrK3Muc3Ryc3RhcnQgPD0gbWF4X2luc2VydCkge1xuICAgICAgICAgIC8qKiogSU5TRVJUX1NUUklORyhzLCBzLnN0cnN0YXJ0LCBoYXNoX2hlYWQpOyAqKiovXG4gICAgICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbcy5zdHJzdGFydCArIE1JTl9NQVRDSCAtIDFdKTtcbiAgICAgICAgICBoYXNoX2hlYWQgPSBzLnByZXZbcy5zdHJzdGFydCAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcbiAgICAgICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzLnN0cnN0YXJ0O1xuICAgICAgICAgIC8qKiovXG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKC0tcy5wcmV2X2xlbmd0aCAhPT0gMCk7XG4gICAgICBzLm1hdGNoX2F2YWlsYWJsZSA9IDA7XG4gICAgICBzLm1hdGNoX2xlbmd0aCA9IE1JTl9NQVRDSCAtIDE7XG4gICAgICBzLnN0cnN0YXJ0Kys7XG5cbiAgICAgIGlmIChiZmx1c2gpIHtcbiAgICAgICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICB9XG4gICAgICAgIC8qKiovXG4gICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKHMubWF0Y2hfYXZhaWxhYmxlKSB7XG4gICAgICAvKiBJZiB0aGVyZSB3YXMgbm8gbWF0Y2ggYXQgdGhlIHByZXZpb3VzIHBvc2l0aW9uLCBvdXRwdXQgYVxuICAgICAgICogc2luZ2xlIGxpdGVyYWwuIElmIHRoZXJlIHdhcyBhIG1hdGNoIGJ1dCB0aGUgY3VycmVudCBtYXRjaFxuICAgICAgICogaXMgbG9uZ2VyLCB0cnVuY2F0ZSB0aGUgcHJldmlvdXMgbWF0Y2ggdG8gYSBzaW5nbGUgbGl0ZXJhbC5cbiAgICAgICAqL1xuICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLT53aW5kb3dbcy0+c3Ryc3RhcnQtMV0pKTtcbiAgICAgIC8qKiogX3RyX3RhbGx5X2xpdChzLCBzLndpbmRvd1tzLnN0cnN0YXJ0LTFdLCBiZmx1c2gpOyAqKiovXG4gICAgICBiZmx1c2ggPSBfdHJfdGFsbHkocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydCAtIDFdKTtcblxuICAgICAgaWYgKGJmbHVzaCkge1xuICAgICAgICAvKioqIEZMVVNIX0JMT0NLX09OTFkocywgMCkgKioqL1xuICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgICAgLyoqKi9cbiAgICAgIH1cbiAgICAgIHMuc3Ryc3RhcnQrKztcbiAgICAgIHMubG9va2FoZWFkLS07XG4gICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBUaGVyZSBpcyBubyBwcmV2aW91cyBtYXRjaCB0byBjb21wYXJlIHdpdGgsIHdhaXQgZm9yXG4gICAgICAgKiB0aGUgbmV4dCBzdGVwIHRvIGRlY2lkZS5cbiAgICAgICAqL1xuICAgICAgcy5tYXRjaF9hdmFpbGFibGUgPSAxO1xuICAgICAgcy5zdHJzdGFydCsrO1xuICAgICAgcy5sb29rYWhlYWQtLTtcbiAgICB9XG4gIH1cbiAgLy9Bc3NlcnQgKGZsdXNoICE9IFpfTk9fRkxVU0gsIFwibm8gZmx1c2g/XCIpO1xuICBpZiAocy5tYXRjaF9hdmFpbGFibGUpIHtcbiAgICAvL1RyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMtPndpbmRvd1tzLT5zdHJzdGFydC0xXSkpO1xuICAgIC8qKiogX3RyX3RhbGx5X2xpdChzLCBzLndpbmRvd1tzLnN0cnN0YXJ0LTFdLCBiZmx1c2gpOyAqKiovXG4gICAgYmZsdXNoID0gX3RyX3RhbGx5KHMsIDAsIHMud2luZG93W3Muc3Ryc3RhcnQgLSAxXSk7XG5cbiAgICBzLm1hdGNoX2F2YWlsYWJsZSA9IDA7XG4gIH1cbiAgcy5pbnNlcnQgPSBzLnN0cnN0YXJ0IDwgTUlOX01BVENIIC0gMSA/IHMuc3Ryc3RhcnQgOiBNSU5fTUFUQ0ggLSAxO1xuICBpZiAoZmx1c2ggPT09IFpfRklOSVNIJDMpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDEpOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEO1xuICAgIH1cbiAgICAvKioqL1xuICAgIHJldHVybiBCU19GSU5JU0hfRE9ORTtcbiAgfVxuICBpZiAocy5zeW1fbmV4dCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICB9XG4gICAgLyoqKi9cbiAgfVxuXG4gIHJldHVybiBCU19CTE9DS19ET05FO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZvciBaX1JMRSwgc2ltcGx5IGxvb2sgZm9yIHJ1bnMgb2YgYnl0ZXMsIGdlbmVyYXRlIG1hdGNoZXMgb25seSBvZiBkaXN0YW5jZVxuICogb25lLiAgRG8gbm90IG1haW50YWluIGEgaGFzaCB0YWJsZS4gIChJdCB3aWxsIGJlIHJlZ2VuZXJhdGVkIGlmIHRoaXMgcnVuIG9mXG4gKiBkZWZsYXRlIHN3aXRjaGVzIGF3YXkgZnJvbSBaX1JMRS4pXG4gKi9cbmNvbnN0IGRlZmxhdGVfcmxlID0gKHMsIGZsdXNoKSA9PiB7XG5cbiAgbGV0IGJmbHVzaDsgICAgICAgICAgICAvKiBzZXQgaWYgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQgKi9cbiAgbGV0IHByZXY7ICAgICAgICAgICAgICAvKiBieXRlIGF0IGRpc3RhbmNlIG9uZSB0byBtYXRjaCAqL1xuICBsZXQgc2Nhbiwgc3RyZW5kOyAgICAgIC8qIHNjYW4gZ29lcyB1cCB0byBzdHJlbmQgZm9yIGxlbmd0aCBvZiBydW4gKi9cblxuICBjb25zdCBfd2luID0gcy53aW5kb3c7XG5cbiAgZm9yICg7Oykge1xuICAgIC8qIE1ha2Ugc3VyZSB0aGF0IHdlIGFsd2F5cyBoYXZlIGVub3VnaCBsb29rYWhlYWQsIGV4Y2VwdFxuICAgICAqIGF0IHRoZSBlbmQgb2YgdGhlIGlucHV0IGZpbGUuIFdlIG5lZWQgTUFYX01BVENIIGJ5dGVzXG4gICAgICogZm9yIHRoZSBsb25nZXN0IHJ1biwgcGx1cyBvbmUgZm9yIHRoZSB1bnJvbGxlZCBsb29wLlxuICAgICAqL1xuICAgIGlmIChzLmxvb2thaGVhZCA8PSBNQVhfTUFUQ0gpIHtcbiAgICAgIGZpbGxfd2luZG93KHMpO1xuICAgICAgaWYgKHMubG9va2FoZWFkIDw9IE1BWF9NQVRDSCAmJiBmbHVzaCA9PT0gWl9OT19GTFVTSCQyKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG4gICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHsgYnJlYWs7IH0gLyogZmx1c2ggdGhlIGN1cnJlbnQgYmxvY2sgKi9cbiAgICB9XG5cbiAgICAvKiBTZWUgaG93IG1hbnkgdGltZXMgdGhlIHByZXZpb3VzIGJ5dGUgcmVwZWF0cyAqL1xuICAgIHMubWF0Y2hfbGVuZ3RoID0gMDtcbiAgICBpZiAocy5sb29rYWhlYWQgPj0gTUlOX01BVENIICYmIHMuc3Ryc3RhcnQgPiAwKSB7XG4gICAgICBzY2FuID0gcy5zdHJzdGFydCAtIDE7XG4gICAgICBwcmV2ID0gX3dpbltzY2FuXTtcbiAgICAgIGlmIChwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmIHByZXYgPT09IF93aW5bKytzY2FuXSkge1xuICAgICAgICBzdHJlbmQgPSBzLnN0cnN0YXJ0ICsgTUFYX01BVENIO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgLypqc2hpbnQgbm9lbXB0eTpmYWxzZSovXG4gICAgICAgIH0gd2hpbGUgKHByZXYgPT09IF93aW5bKytzY2FuXSAmJiBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgICAgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmXG4gICAgICAgICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJiBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgICAgc2NhbiA8IHN0cmVuZCk7XG4gICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gTUFYX01BVENIIC0gKHN0cmVuZCAtIHNjYW4pO1xuICAgICAgICBpZiAocy5tYXRjaF9sZW5ndGggPiBzLmxvb2thaGVhZCkge1xuICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gcy5sb29rYWhlYWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vQXNzZXJ0KHNjYW4gPD0gcy0+d2luZG93Kyh1SW50KShzLT53aW5kb3dfc2l6ZS0xKSwgXCJ3aWxkIHNjYW5cIik7XG4gICAgfVxuXG4gICAgLyogRW1pdCBtYXRjaCBpZiBoYXZlIHJ1biBvZiBNSU5fTUFUQ0ggb3IgbG9uZ2VyLCBlbHNlIGVtaXQgbGl0ZXJhbCAqL1xuICAgIGlmIChzLm1hdGNoX2xlbmd0aCA+PSBNSU5fTUFUQ0gpIHtcbiAgICAgIC8vY2hlY2tfbWF0Y2gocywgcy5zdHJzdGFydCwgcy5zdHJzdGFydCAtIDEsIHMubWF0Y2hfbGVuZ3RoKTtcblxuICAgICAgLyoqKiBfdHJfdGFsbHlfZGlzdChzLCAxLCBzLm1hdGNoX2xlbmd0aCAtIE1JTl9NQVRDSCwgYmZsdXNoKTsgKioqL1xuICAgICAgYmZsdXNoID0gX3RyX3RhbGx5KHMsIDEsIHMubWF0Y2hfbGVuZ3RoIC0gTUlOX01BVENIKTtcblxuICAgICAgcy5sb29rYWhlYWQgLT0gcy5tYXRjaF9sZW5ndGg7XG4gICAgICBzLnN0cnN0YXJ0ICs9IHMubWF0Y2hfbGVuZ3RoO1xuICAgICAgcy5tYXRjaF9sZW5ndGggPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBObyBtYXRjaCwgb3V0cHV0IGEgbGl0ZXJhbCBieXRlICovXG4gICAgICAvL1RyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMtPndpbmRvd1tzLT5zdHJzdGFydF0pKTtcbiAgICAgIC8qKiogX3RyX3RhbGx5X2xpdChzLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSwgYmZsdXNoKTsgKioqL1xuICAgICAgYmZsdXNoID0gX3RyX3RhbGx5KHMsIDAsIHMud2luZG93W3Muc3Ryc3RhcnRdKTtcblxuICAgICAgcy5sb29rYWhlYWQtLTtcbiAgICAgIHMuc3Ryc3RhcnQrKztcbiAgICB9XG4gICAgaWYgKGJmbHVzaCkge1xuICAgICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgICAgLyoqKi9cbiAgICB9XG4gIH1cbiAgcy5pbnNlcnQgPSAwO1xuICBpZiAoZmx1c2ggPT09IFpfRklOSVNIJDMpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDEpOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEO1xuICAgIH1cbiAgICAvKioqL1xuICAgIHJldHVybiBCU19GSU5JU0hfRE9ORTtcbiAgfVxuICBpZiAocy5zeW1fbmV4dCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICB9XG4gICAgLyoqKi9cbiAgfVxuICByZXR1cm4gQlNfQkxPQ0tfRE9ORTtcbn07XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogRm9yIFpfSFVGRk1BTl9PTkxZLCBkbyBub3QgbG9vayBmb3IgbWF0Y2hlcy4gIERvIG5vdCBtYWludGFpbiBhIGhhc2ggdGFibGUuXG4gKiAoSXQgd2lsbCBiZSByZWdlbmVyYXRlZCBpZiB0aGlzIHJ1biBvZiBkZWZsYXRlIHN3aXRjaGVzIGF3YXkgZnJvbSBIdWZmbWFuLilcbiAqL1xuY29uc3QgZGVmbGF0ZV9odWZmID0gKHMsIGZsdXNoKSA9PiB7XG5cbiAgbGV0IGJmbHVzaDsgICAgICAgICAgICAgLyogc2V0IGlmIGN1cnJlbnQgYmxvY2sgbXVzdCBiZSBmbHVzaGVkICovXG5cbiAgZm9yICg7Oykge1xuICAgIC8qIE1ha2Ugc3VyZSB0aGF0IHdlIGhhdmUgYSBsaXRlcmFsIHRvIHdyaXRlLiAqL1xuICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgZmlsbF93aW5kb3cocyk7XG4gICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgaWYgKGZsdXNoID09PSBaX05PX0ZMVVNIJDIpIHtcbiAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrOyAgICAgIC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogT3V0cHV0IGEgbGl0ZXJhbCBieXRlICovXG4gICAgcy5tYXRjaF9sZW5ndGggPSAwO1xuICAgIC8vVHJhY2V2digoc3RkZXJyLFwiJWNcIiwgcy0+d2luZG93W3MtPnN0cnN0YXJ0XSkpO1xuICAgIC8qKiogX3RyX3RhbGx5X2xpdChzLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSwgYmZsdXNoKTsgKioqL1xuICAgIGJmbHVzaCA9IF90cl90YWxseShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSk7XG4gICAgcy5sb29rYWhlYWQtLTtcbiAgICBzLnN0cnN0YXJ0Kys7XG4gICAgaWYgKGJmbHVzaCkge1xuICAgICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgICAgLyoqKi9cbiAgICB9XG4gIH1cbiAgcy5pbnNlcnQgPSAwO1xuICBpZiAoZmx1c2ggPT09IFpfRklOSVNIJDMpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDEpOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEO1xuICAgIH1cbiAgICAvKioqL1xuICAgIHJldHVybiBCU19GSU5JU0hfRE9ORTtcbiAgfVxuICBpZiAocy5zeW1fbmV4dCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICB9XG4gICAgLyoqKi9cbiAgfVxuICByZXR1cm4gQlNfQkxPQ0tfRE9ORTtcbn07XG5cbi8qIFZhbHVlcyBmb3IgbWF4X2xhenlfbWF0Y2gsIGdvb2RfbWF0Y2ggYW5kIG1heF9jaGFpbl9sZW5ndGgsIGRlcGVuZGluZyBvblxuICogdGhlIGRlc2lyZWQgcGFjayBsZXZlbCAoMC4uOSkuIFRoZSB2YWx1ZXMgZ2l2ZW4gYmVsb3cgaGF2ZSBiZWVuIHR1bmVkIHRvXG4gKiBleGNsdWRlIHdvcnN0IGNhc2UgcGVyZm9ybWFuY2UgZm9yIHBhdGhvbG9naWNhbCBmaWxlcy4gQmV0dGVyIHZhbHVlcyBtYXkgYmVcbiAqIGZvdW5kIGZvciBzcGVjaWZpYyBmaWxlcy5cbiAqL1xuZnVuY3Rpb24gQ29uZmlnKGdvb2RfbGVuZ3RoLCBtYXhfbGF6eSwgbmljZV9sZW5ndGgsIG1heF9jaGFpbiwgZnVuYykge1xuXG4gIHRoaXMuZ29vZF9sZW5ndGggPSBnb29kX2xlbmd0aDtcbiAgdGhpcy5tYXhfbGF6eSA9IG1heF9sYXp5O1xuICB0aGlzLm5pY2VfbGVuZ3RoID0gbmljZV9sZW5ndGg7XG4gIHRoaXMubWF4X2NoYWluID0gbWF4X2NoYWluO1xuICB0aGlzLmZ1bmMgPSBmdW5jO1xufVxuXG5jb25zdCBjb25maWd1cmF0aW9uX3RhYmxlID0gW1xuICAvKiAgICAgIGdvb2QgbGF6eSBuaWNlIGNoYWluICovXG4gIG5ldyBDb25maWcoMCwgMCwgMCwgMCwgZGVmbGF0ZV9zdG9yZWQpLCAgICAgICAgICAvKiAwIHN0b3JlIG9ubHkgKi9cbiAgbmV3IENvbmZpZyg0LCA0LCA4LCA0LCBkZWZsYXRlX2Zhc3QpLCAgICAgICAgICAgIC8qIDEgbWF4IHNwZWVkLCBubyBsYXp5IG1hdGNoZXMgKi9cbiAgbmV3IENvbmZpZyg0LCA1LCAxNiwgOCwgZGVmbGF0ZV9mYXN0KSwgICAgICAgICAgIC8qIDIgKi9cbiAgbmV3IENvbmZpZyg0LCA2LCAzMiwgMzIsIGRlZmxhdGVfZmFzdCksICAgICAgICAgIC8qIDMgKi9cblxuICBuZXcgQ29uZmlnKDQsIDQsIDE2LCAxNiwgZGVmbGF0ZV9zbG93KSwgICAgICAgICAgLyogNCBsYXp5IG1hdGNoZXMgKi9cbiAgbmV3IENvbmZpZyg4LCAxNiwgMzIsIDMyLCBkZWZsYXRlX3Nsb3cpLCAgICAgICAgIC8qIDUgKi9cbiAgbmV3IENvbmZpZyg4LCAxNiwgMTI4LCAxMjgsIGRlZmxhdGVfc2xvdyksICAgICAgIC8qIDYgKi9cbiAgbmV3IENvbmZpZyg4LCAzMiwgMTI4LCAyNTYsIGRlZmxhdGVfc2xvdyksICAgICAgIC8qIDcgKi9cbiAgbmV3IENvbmZpZygzMiwgMTI4LCAyNTgsIDEwMjQsIGRlZmxhdGVfc2xvdyksICAgIC8qIDggKi9cbiAgbmV3IENvbmZpZygzMiwgMjU4LCAyNTgsIDQwOTYsIGRlZmxhdGVfc2xvdykgICAgIC8qIDkgbWF4IGNvbXByZXNzaW9uICovXG5dO1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW5pdGlhbGl6ZSB0aGUgXCJsb25nZXN0IG1hdGNoXCIgcm91dGluZXMgZm9yIGEgbmV3IHpsaWIgc3RyZWFtXG4gKi9cbmNvbnN0IGxtX2luaXQgPSAocykgPT4ge1xuXG4gIHMud2luZG93X3NpemUgPSAyICogcy53X3NpemU7XG5cbiAgLyoqKiBDTEVBUl9IQVNIKHMpOyAqKiovXG4gIHplcm8ocy5oZWFkKTsgLy8gRmlsbCB3aXRoIE5JTCAoPSAwKTtcblxuICAvKiBTZXQgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzOlxuICAgKi9cbiAgcy5tYXhfbGF6eV9tYXRjaCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubWF4X2xhenk7XG4gIHMuZ29vZF9tYXRjaCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0uZ29vZF9sZW5ndGg7XG4gIHMubmljZV9tYXRjaCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubmljZV9sZW5ndGg7XG4gIHMubWF4X2NoYWluX2xlbmd0aCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubWF4X2NoYWluO1xuXG4gIHMuc3Ryc3RhcnQgPSAwO1xuICBzLmJsb2NrX3N0YXJ0ID0gMDtcbiAgcy5sb29rYWhlYWQgPSAwO1xuICBzLmluc2VydCA9IDA7XG4gIHMubWF0Y2hfbGVuZ3RoID0gcy5wcmV2X2xlbmd0aCA9IE1JTl9NQVRDSCAtIDE7XG4gIHMubWF0Y2hfYXZhaWxhYmxlID0gMDtcbiAgcy5pbnNfaCA9IDA7XG59O1xuXG5cbmZ1bmN0aW9uIERlZmxhdGVTdGF0ZSgpIHtcbiAgdGhpcy5zdHJtID0gbnVsbDsgICAgICAgICAgICAvKiBwb2ludGVyIGJhY2sgdG8gdGhpcyB6bGliIHN0cmVhbSAqL1xuICB0aGlzLnN0YXR1cyA9IDA7ICAgICAgICAgICAgLyogYXMgdGhlIG5hbWUgaW1wbGllcyAqL1xuICB0aGlzLnBlbmRpbmdfYnVmID0gbnVsbDsgICAgICAvKiBvdXRwdXQgc3RpbGwgcGVuZGluZyAqL1xuICB0aGlzLnBlbmRpbmdfYnVmX3NpemUgPSAwOyAgLyogc2l6ZSBvZiBwZW5kaW5nX2J1ZiAqL1xuICB0aGlzLnBlbmRpbmdfb3V0ID0gMDsgICAgICAgLyogbmV4dCBwZW5kaW5nIGJ5dGUgdG8gb3V0cHV0IHRvIHRoZSBzdHJlYW0gKi9cbiAgdGhpcy5wZW5kaW5nID0gMDsgICAgICAgICAgIC8qIG5iIG9mIGJ5dGVzIGluIHRoZSBwZW5kaW5nIGJ1ZmZlciAqL1xuICB0aGlzLndyYXAgPSAwOyAgICAgICAgICAgICAgLyogYml0IDAgdHJ1ZSBmb3IgemxpYiwgYml0IDEgdHJ1ZSBmb3IgZ3ppcCAqL1xuICB0aGlzLmd6aGVhZCA9IG51bGw7ICAgICAgICAgLyogZ3ppcCBoZWFkZXIgaW5mb3JtYXRpb24gdG8gd3JpdGUgKi9cbiAgdGhpcy5nemluZGV4ID0gMDsgICAgICAgICAgIC8qIHdoZXJlIGluIGV4dHJhLCBuYW1lLCBvciBjb21tZW50ICovXG4gIHRoaXMubWV0aG9kID0gWl9ERUZMQVRFRCQyOyAvKiBjYW4gb25seSBiZSBERUZMQVRFRCAqL1xuICB0aGlzLmxhc3RfZmx1c2ggPSAtMTsgICAvKiB2YWx1ZSBvZiBmbHVzaCBwYXJhbSBmb3IgcHJldmlvdXMgZGVmbGF0ZSBjYWxsICovXG5cbiAgdGhpcy53X3NpemUgPSAwOyAgLyogTFo3NyB3aW5kb3cgc2l6ZSAoMzJLIGJ5IGRlZmF1bHQpICovXG4gIHRoaXMud19iaXRzID0gMDsgIC8qIGxvZzIod19zaXplKSAgKDguLjE2KSAqL1xuICB0aGlzLndfbWFzayA9IDA7ICAvKiB3X3NpemUgLSAxICovXG5cbiAgdGhpcy53aW5kb3cgPSBudWxsO1xuICAvKiBTbGlkaW5nIHdpbmRvdy4gSW5wdXQgYnl0ZXMgYXJlIHJlYWQgaW50byB0aGUgc2Vjb25kIGhhbGYgb2YgdGhlIHdpbmRvdyxcbiAgICogYW5kIG1vdmUgdG8gdGhlIGZpcnN0IGhhbGYgbGF0ZXIgdG8ga2VlcCBhIGRpY3Rpb25hcnkgb2YgYXQgbGVhc3Qgd1NpemVcbiAgICogYnl0ZXMuIFdpdGggdGhpcyBvcmdhbml6YXRpb24sIG1hdGNoZXMgYXJlIGxpbWl0ZWQgdG8gYSBkaXN0YW5jZSBvZlxuICAgKiB3U2l6ZS1NQVhfTUFUQ0ggYnl0ZXMsIGJ1dCB0aGlzIGVuc3VyZXMgdGhhdCBJTyBpcyBhbHdheXNcbiAgICogcGVyZm9ybWVkIHdpdGggYSBsZW5ndGggbXVsdGlwbGUgb2YgdGhlIGJsb2NrIHNpemUuXG4gICAqL1xuXG4gIHRoaXMud2luZG93X3NpemUgPSAwO1xuICAvKiBBY3R1YWwgc2l6ZSBvZiB3aW5kb3c6IDIqd1NpemUsIGV4Y2VwdCB3aGVuIHRoZSB1c2VyIGlucHV0IGJ1ZmZlclxuICAgKiBpcyBkaXJlY3RseSB1c2VkIGFzIHNsaWRpbmcgd2luZG93LlxuICAgKi9cblxuICB0aGlzLnByZXYgPSBudWxsO1xuICAvKiBMaW5rIHRvIG9sZGVyIHN0cmluZyB3aXRoIHNhbWUgaGFzaCBpbmRleC4gVG8gbGltaXQgdGhlIHNpemUgb2YgdGhpc1xuICAgKiBhcnJheSB0byA2NEssIHRoaXMgbGluayBpcyBtYWludGFpbmVkIG9ubHkgZm9yIHRoZSBsYXN0IDMySyBzdHJpbmdzLlxuICAgKiBBbiBpbmRleCBpbiB0aGlzIGFycmF5IGlzIHRodXMgYSB3aW5kb3cgaW5kZXggbW9kdWxvIDMySy5cbiAgICovXG5cbiAgdGhpcy5oZWFkID0gbnVsbDsgICAvKiBIZWFkcyBvZiB0aGUgaGFzaCBjaGFpbnMgb3IgTklMLiAqL1xuXG4gIHRoaXMuaW5zX2ggPSAwOyAgICAgICAvKiBoYXNoIGluZGV4IG9mIHN0cmluZyB0byBiZSBpbnNlcnRlZCAqL1xuICB0aGlzLmhhc2hfc2l6ZSA9IDA7ICAgLyogbnVtYmVyIG9mIGVsZW1lbnRzIGluIGhhc2ggdGFibGUgKi9cbiAgdGhpcy5oYXNoX2JpdHMgPSAwOyAgIC8qIGxvZzIoaGFzaF9zaXplKSAqL1xuICB0aGlzLmhhc2hfbWFzayA9IDA7ICAgLyogaGFzaF9zaXplLTEgKi9cblxuICB0aGlzLmhhc2hfc2hpZnQgPSAwO1xuICAvKiBOdW1iZXIgb2YgYml0cyBieSB3aGljaCBpbnNfaCBtdXN0IGJlIHNoaWZ0ZWQgYXQgZWFjaCBpbnB1dFxuICAgKiBzdGVwLiBJdCBtdXN0IGJlIHN1Y2ggdGhhdCBhZnRlciBNSU5fTUFUQ0ggc3RlcHMsIHRoZSBvbGRlc3RcbiAgICogYnl0ZSBubyBsb25nZXIgdGFrZXMgcGFydCBpbiB0aGUgaGFzaCBrZXksIHRoYXQgaXM6XG4gICAqICAgaGFzaF9zaGlmdCAqIE1JTl9NQVRDSCA+PSBoYXNoX2JpdHNcbiAgICovXG5cbiAgdGhpcy5ibG9ja19zdGFydCA9IDA7XG4gIC8qIFdpbmRvdyBwb3NpdGlvbiBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBjdXJyZW50IG91dHB1dCBibG9jay4gR2V0c1xuICAgKiBuZWdhdGl2ZSB3aGVuIHRoZSB3aW5kb3cgaXMgbW92ZWQgYmFja3dhcmRzLlxuICAgKi9cblxuICB0aGlzLm1hdGNoX2xlbmd0aCA9IDA7ICAgICAgLyogbGVuZ3RoIG9mIGJlc3QgbWF0Y2ggKi9cbiAgdGhpcy5wcmV2X21hdGNoID0gMDsgICAgICAgIC8qIHByZXZpb3VzIG1hdGNoICovXG4gIHRoaXMubWF0Y2hfYXZhaWxhYmxlID0gMDsgICAvKiBzZXQgaWYgcHJldmlvdXMgbWF0Y2ggZXhpc3RzICovXG4gIHRoaXMuc3Ryc3RhcnQgPSAwOyAgICAgICAgICAvKiBzdGFydCBvZiBzdHJpbmcgdG8gaW5zZXJ0ICovXG4gIHRoaXMubWF0Y2hfc3RhcnQgPSAwOyAgICAgICAvKiBzdGFydCBvZiBtYXRjaGluZyBzdHJpbmcgKi9cbiAgdGhpcy5sb29rYWhlYWQgPSAwOyAgICAgICAgIC8qIG51bWJlciBvZiB2YWxpZCBieXRlcyBhaGVhZCBpbiB3aW5kb3cgKi9cblxuICB0aGlzLnByZXZfbGVuZ3RoID0gMDtcbiAgLyogTGVuZ3RoIG9mIHRoZSBiZXN0IG1hdGNoIGF0IHByZXZpb3VzIHN0ZXAuIE1hdGNoZXMgbm90IGdyZWF0ZXIgdGhhbiB0aGlzXG4gICAqIGFyZSBkaXNjYXJkZWQuIFRoaXMgaXMgdXNlZCBpbiB0aGUgbGF6eSBtYXRjaCBldmFsdWF0aW9uLlxuICAgKi9cblxuICB0aGlzLm1heF9jaGFpbl9sZW5ndGggPSAwO1xuICAvKiBUbyBzcGVlZCB1cCBkZWZsYXRpb24sIGhhc2ggY2hhaW5zIGFyZSBuZXZlciBzZWFyY2hlZCBiZXlvbmQgdGhpc1xuICAgKiBsZW5ndGguICBBIGhpZ2hlciBsaW1pdCBpbXByb3ZlcyBjb21wcmVzc2lvbiByYXRpbyBidXQgZGVncmFkZXMgdGhlXG4gICAqIHNwZWVkLlxuICAgKi9cblxuICB0aGlzLm1heF9sYXp5X21hdGNoID0gMDtcbiAgLyogQXR0ZW1wdCB0byBmaW5kIGEgYmV0dGVyIG1hdGNoIG9ubHkgd2hlbiB0aGUgY3VycmVudCBtYXRjaCBpcyBzdHJpY3RseVxuICAgKiBzbWFsbGVyIHRoYW4gdGhpcyB2YWx1ZS4gVGhpcyBtZWNoYW5pc20gaXMgdXNlZCBvbmx5IGZvciBjb21wcmVzc2lvblxuICAgKiBsZXZlbHMgPj0gNC5cbiAgICovXG4gIC8vIFRoYXQncyBhbGlhcyB0byBtYXhfbGF6eV9tYXRjaCwgZG9uJ3QgdXNlIGRpcmVjdGx5XG4gIC8vdGhpcy5tYXhfaW5zZXJ0X2xlbmd0aCA9IDA7XG4gIC8qIEluc2VydCBuZXcgc3RyaW5ncyBpbiB0aGUgaGFzaCB0YWJsZSBvbmx5IGlmIHRoZSBtYXRjaCBsZW5ndGggaXMgbm90XG4gICAqIGdyZWF0ZXIgdGhhbiB0aGlzIGxlbmd0aC4gVGhpcyBzYXZlcyB0aW1lIGJ1dCBkZWdyYWRlcyBjb21wcmVzc2lvbi5cbiAgICogbWF4X2luc2VydF9sZW5ndGggaXMgdXNlZCBvbmx5IGZvciBjb21wcmVzc2lvbiBsZXZlbHMgPD0gMy5cbiAgICovXG5cbiAgdGhpcy5sZXZlbCA9IDA7ICAgICAvKiBjb21wcmVzc2lvbiBsZXZlbCAoMS4uOSkgKi9cbiAgdGhpcy5zdHJhdGVneSA9IDA7ICAvKiBmYXZvciBvciBmb3JjZSBIdWZmbWFuIGNvZGluZyovXG5cbiAgdGhpcy5nb29kX21hdGNoID0gMDtcbiAgLyogVXNlIGEgZmFzdGVyIHNlYXJjaCB3aGVuIHRoZSBwcmV2aW91cyBtYXRjaCBpcyBsb25nZXIgdGhhbiB0aGlzICovXG5cbiAgdGhpcy5uaWNlX21hdGNoID0gMDsgLyogU3RvcCBzZWFyY2hpbmcgd2hlbiBjdXJyZW50IG1hdGNoIGV4Y2VlZHMgdGhpcyAqL1xuXG4gICAgICAgICAgICAgIC8qIHVzZWQgYnkgdHJlZXMuYzogKi9cblxuICAvKiBEaWRuJ3QgdXNlIGN0X2RhdGEgdHlwZWRlZiBiZWxvdyB0byBzdXBwcmVzcyBjb21waWxlciB3YXJuaW5nICovXG5cbiAgLy8gc3RydWN0IGN0X2RhdGFfcyBkeW5fbHRyZWVbSEVBUF9TSVpFXTsgICAvKiBsaXRlcmFsIGFuZCBsZW5ndGggdHJlZSAqL1xuICAvLyBzdHJ1Y3QgY3RfZGF0YV9zIGR5bl9kdHJlZVsyKkRfQ09ERVMrMV07IC8qIGRpc3RhbmNlIHRyZWUgKi9cbiAgLy8gc3RydWN0IGN0X2RhdGFfcyBibF90cmVlWzIqQkxfQ09ERVMrMV07ICAvKiBIdWZmbWFuIHRyZWUgZm9yIGJpdCBsZW5ndGhzICovXG5cbiAgLy8gVXNlIGZsYXQgYXJyYXkgb2YgRE9VQkxFIHNpemUsIHdpdGggaW50ZXJsZWF2ZWQgZmF0YSxcbiAgLy8gYmVjYXVzZSBKUyBkb2VzIG5vdCBzdXBwb3J0IGVmZmVjdGl2ZVxuICB0aGlzLmR5bl9sdHJlZSAgPSBuZXcgVWludDE2QXJyYXkoSEVBUF9TSVpFICogMik7XG4gIHRoaXMuZHluX2R0cmVlICA9IG5ldyBVaW50MTZBcnJheSgoMiAqIERfQ09ERVMgKyAxKSAqIDIpO1xuICB0aGlzLmJsX3RyZWUgICAgPSBuZXcgVWludDE2QXJyYXkoKDIgKiBCTF9DT0RFUyArIDEpICogMik7XG4gIHplcm8odGhpcy5keW5fbHRyZWUpO1xuICB6ZXJvKHRoaXMuZHluX2R0cmVlKTtcbiAgemVybyh0aGlzLmJsX3RyZWUpO1xuXG4gIHRoaXMubF9kZXNjICAgPSBudWxsOyAgICAgICAgIC8qIGRlc2MuIGZvciBsaXRlcmFsIHRyZWUgKi9cbiAgdGhpcy5kX2Rlc2MgICA9IG51bGw7ICAgICAgICAgLyogZGVzYy4gZm9yIGRpc3RhbmNlIHRyZWUgKi9cbiAgdGhpcy5ibF9kZXNjICA9IG51bGw7ICAgICAgICAgLyogZGVzYy4gZm9yIGJpdCBsZW5ndGggdHJlZSAqL1xuXG4gIC8vdXNoIGJsX2NvdW50W01BWF9CSVRTKzFdO1xuICB0aGlzLmJsX2NvdW50ID0gbmV3IFVpbnQxNkFycmF5KE1BWF9CSVRTICsgMSk7XG4gIC8qIG51bWJlciBvZiBjb2RlcyBhdCBlYWNoIGJpdCBsZW5ndGggZm9yIGFuIG9wdGltYWwgdHJlZSAqL1xuXG4gIC8vaW50IGhlYXBbMipMX0NPREVTKzFdOyAgICAgIC8qIGhlYXAgdXNlZCB0byBidWlsZCB0aGUgSHVmZm1hbiB0cmVlcyAqL1xuICB0aGlzLmhlYXAgPSBuZXcgVWludDE2QXJyYXkoMiAqIExfQ09ERVMgKyAxKTsgIC8qIGhlYXAgdXNlZCB0byBidWlsZCB0aGUgSHVmZm1hbiB0cmVlcyAqL1xuICB6ZXJvKHRoaXMuaGVhcCk7XG5cbiAgdGhpcy5oZWFwX2xlbiA9IDA7ICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBoZWFwICovXG4gIHRoaXMuaGVhcF9tYXggPSAwOyAgICAgICAgICAgICAgIC8qIGVsZW1lbnQgb2YgbGFyZ2VzdCBmcmVxdWVuY3kgKi9cbiAgLyogVGhlIHNvbnMgb2YgaGVhcFtuXSBhcmUgaGVhcFsyKm5dIGFuZCBoZWFwWzIqbisxXS4gaGVhcFswXSBpcyBub3QgdXNlZC5cbiAgICogVGhlIHNhbWUgaGVhcCBhcnJheSBpcyB1c2VkIHRvIGJ1aWxkIGFsbCB0cmVlcy5cbiAgICovXG5cbiAgdGhpcy5kZXB0aCA9IG5ldyBVaW50MTZBcnJheSgyICogTF9DT0RFUyArIDEpOyAvL3VjaCBkZXB0aFsyKkxfQ09ERVMrMV07XG4gIHplcm8odGhpcy5kZXB0aCk7XG4gIC8qIERlcHRoIG9mIGVhY2ggc3VidHJlZSB1c2VkIGFzIHRpZSBicmVha2VyIGZvciB0cmVlcyBvZiBlcXVhbCBmcmVxdWVuY3lcbiAgICovXG5cbiAgdGhpcy5zeW1fYnVmID0gMDsgICAgICAgIC8qIGJ1ZmZlciBmb3IgZGlzdGFuY2VzIGFuZCBsaXRlcmFscy9sZW5ndGhzICovXG5cbiAgdGhpcy5saXRfYnVmc2l6ZSA9IDA7XG4gIC8qIFNpemUgb2YgbWF0Y2ggYnVmZmVyIGZvciBsaXRlcmFscy9sZW5ndGhzLiAgVGhlcmUgYXJlIDQgcmVhc29ucyBmb3JcbiAgICogbGltaXRpbmcgbGl0X2J1ZnNpemUgdG8gNjRLOlxuICAgKiAgIC0gZnJlcXVlbmNpZXMgY2FuIGJlIGtlcHQgaW4gMTYgYml0IGNvdW50ZXJzXG4gICAqICAgLSBpZiBjb21wcmVzc2lvbiBpcyBub3Qgc3VjY2Vzc2Z1bCBmb3IgdGhlIGZpcnN0IGJsb2NrLCBhbGwgaW5wdXRcbiAgICogICAgIGRhdGEgaXMgc3RpbGwgaW4gdGhlIHdpbmRvdyBzbyB3ZSBjYW4gc3RpbGwgZW1pdCBhIHN0b3JlZCBibG9jayBldmVuXG4gICAqICAgICB3aGVuIGlucHV0IGNvbWVzIGZyb20gc3RhbmRhcmQgaW5wdXQuICAoVGhpcyBjYW4gYWxzbyBiZSBkb25lIGZvclxuICAgKiAgICAgYWxsIGJsb2NrcyBpZiBsaXRfYnVmc2l6ZSBpcyBub3QgZ3JlYXRlciB0aGFuIDMySy4pXG4gICAqICAgLSBpZiBjb21wcmVzc2lvbiBpcyBub3Qgc3VjY2Vzc2Z1bCBmb3IgYSBmaWxlIHNtYWxsZXIgdGhhbiA2NEssIHdlIGNhblxuICAgKiAgICAgZXZlbiBlbWl0IGEgc3RvcmVkIGZpbGUgaW5zdGVhZCBvZiBhIHN0b3JlZCBibG9jayAoc2F2aW5nIDUgYnl0ZXMpLlxuICAgKiAgICAgVGhpcyBpcyBhcHBsaWNhYmxlIG9ubHkgZm9yIHppcCAobm90IGd6aXAgb3IgemxpYikuXG4gICAqICAgLSBjcmVhdGluZyBuZXcgSHVmZm1hbiB0cmVlcyBsZXNzIGZyZXF1ZW50bHkgbWF5IG5vdCBwcm92aWRlIGZhc3RcbiAgICogICAgIGFkYXB0YXRpb24gdG8gY2hhbmdlcyBpbiB0aGUgaW5wdXQgZGF0YSBzdGF0aXN0aWNzLiAoVGFrZSBmb3JcbiAgICogICAgIGV4YW1wbGUgYSBiaW5hcnkgZmlsZSB3aXRoIHBvb3JseSBjb21wcmVzc2libGUgY29kZSBmb2xsb3dlZCBieVxuICAgKiAgICAgYSBoaWdobHkgY29tcHJlc3NpYmxlIHN0cmluZyB0YWJsZS4pIFNtYWxsZXIgYnVmZmVyIHNpemVzIGdpdmVcbiAgICogICAgIGZhc3QgYWRhcHRhdGlvbiBidXQgaGF2ZSBvZiBjb3Vyc2UgdGhlIG92ZXJoZWFkIG9mIHRyYW5zbWl0dGluZ1xuICAgKiAgICAgdHJlZXMgbW9yZSBmcmVxdWVudGx5LlxuICAgKiAgIC0gSSBjYW4ndCBjb3VudCBhYm92ZSA0XG4gICAqL1xuXG4gIHRoaXMuc3ltX25leHQgPSAwOyAgICAgIC8qIHJ1bm5pbmcgaW5kZXggaW4gc3ltX2J1ZiAqL1xuICB0aGlzLnN5bV9lbmQgPSAwOyAgICAgICAvKiBzeW1ib2wgdGFibGUgZnVsbCB3aGVuIHN5bV9uZXh0IHJlYWNoZXMgdGhpcyAqL1xuXG4gIHRoaXMub3B0X2xlbiA9IDA7ICAgICAgIC8qIGJpdCBsZW5ndGggb2YgY3VycmVudCBibG9jayB3aXRoIG9wdGltYWwgdHJlZXMgKi9cbiAgdGhpcy5zdGF0aWNfbGVuID0gMDsgICAgLyogYml0IGxlbmd0aCBvZiBjdXJyZW50IGJsb2NrIHdpdGggc3RhdGljIHRyZWVzICovXG4gIHRoaXMubWF0Y2hlcyA9IDA7ICAgICAgIC8qIG51bWJlciBvZiBzdHJpbmcgbWF0Y2hlcyBpbiBjdXJyZW50IGJsb2NrICovXG4gIHRoaXMuaW5zZXJ0ID0gMDsgICAgICAgIC8qIGJ5dGVzIGF0IGVuZCBvZiB3aW5kb3cgbGVmdCB0byBpbnNlcnQgKi9cblxuXG4gIHRoaXMuYmlfYnVmID0gMDtcbiAgLyogT3V0cHV0IGJ1ZmZlci4gYml0cyBhcmUgaW5zZXJ0ZWQgc3RhcnRpbmcgYXQgdGhlIGJvdHRvbSAobGVhc3RcbiAgICogc2lnbmlmaWNhbnQgYml0cykuXG4gICAqL1xuICB0aGlzLmJpX3ZhbGlkID0gMDtcbiAgLyogTnVtYmVyIG9mIHZhbGlkIGJpdHMgaW4gYmlfYnVmLiAgQWxsIGJpdHMgYWJvdmUgdGhlIGxhc3QgdmFsaWQgYml0XG4gICAqIGFyZSBhbHdheXMgemVyby5cbiAgICovXG5cbiAgLy8gVXNlZCBmb3Igd2luZG93IG1lbW9yeSBpbml0LiBXZSBzYWZlbHkgaWdub3JlIGl0IGZvciBKUy4gVGhhdCBtYWtlc1xuICAvLyBzZW5zZSBvbmx5IGZvciBwb2ludGVycyBhbmQgbWVtb3J5IGNoZWNrIHRvb2xzLlxuICAvL3RoaXMuaGlnaF93YXRlciA9IDA7XG4gIC8qIEhpZ2ggd2F0ZXIgbWFyayBvZmZzZXQgaW4gd2luZG93IGZvciBpbml0aWFsaXplZCBieXRlcyAtLSBieXRlcyBhYm92ZVxuICAgKiB0aGlzIGFyZSBzZXQgdG8gemVybyBpbiBvcmRlciB0byBhdm9pZCBtZW1vcnkgY2hlY2sgd2FybmluZ3Mgd2hlblxuICAgKiBsb25nZXN0IG1hdGNoIHJvdXRpbmVzIGFjY2VzcyBieXRlcyBwYXN0IHRoZSBpbnB1dC4gIFRoaXMgaXMgdGhlblxuICAgKiB1cGRhdGVkIHRvIHRoZSBuZXcgaGlnaCB3YXRlciBtYXJrLlxuICAgKi9cbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDaGVjayBmb3IgYSB2YWxpZCBkZWZsYXRlIHN0cmVhbSBzdGF0ZS4gUmV0dXJuIDAgaWYgb2ssIDEgaWYgbm90LlxuICovXG5jb25zdCBkZWZsYXRlU3RhdGVDaGVjayA9IChzdHJtKSA9PiB7XG5cbiAgaWYgKCFzdHJtKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgY29uc3QgcyA9IHN0cm0uc3RhdGU7XG4gIGlmICghcyB8fCBzLnN0cm0gIT09IHN0cm0gfHwgKHMuc3RhdHVzICE9PSBJTklUX1NUQVRFICYmXG4vLyNpZmRlZiBHWklQXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc3RhdHVzICE9PSBHWklQX1NUQVRFICYmXG4vLyNlbmRpZlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyAhPT0gRVhUUkFfU1RBVEUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgIT09IE5BTUVfU1RBVEUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgIT09IENPTU1FTlRfU1RBVEUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgIT09IEhDUkNfU1RBVEUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgIT09IEJVU1lfU1RBVEUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgIT09IEZJTklTSF9TVEFURSkpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICByZXR1cm4gMDtcbn07XG5cblxuY29uc3QgZGVmbGF0ZVJlc2V0S2VlcCA9IChzdHJtKSA9PiB7XG5cbiAgaWYgKGRlZmxhdGVTdGF0ZUNoZWNrKHN0cm0pKSB7XG4gICAgcmV0dXJuIGVycihzdHJtLCBaX1NUUkVBTV9FUlJPUiQyKTtcbiAgfVxuXG4gIHN0cm0udG90YWxfaW4gPSBzdHJtLnRvdGFsX291dCA9IDA7XG4gIHN0cm0uZGF0YV90eXBlID0gWl9VTktOT1dOO1xuXG4gIGNvbnN0IHMgPSBzdHJtLnN0YXRlO1xuICBzLnBlbmRpbmcgPSAwO1xuICBzLnBlbmRpbmdfb3V0ID0gMDtcblxuICBpZiAocy53cmFwIDwgMCkge1xuICAgIHMud3JhcCA9IC1zLndyYXA7XG4gICAgLyogd2FzIG1hZGUgbmVnYXRpdmUgYnkgZGVmbGF0ZSguLi4sIFpfRklOSVNIKTsgKi9cbiAgfVxuICBzLnN0YXR1cyA9XG4vLyNpZmRlZiBHWklQXG4gICAgcy53cmFwID09PSAyID8gR1pJUF9TVEFURSA6XG4vLyNlbmRpZlxuICAgIHMud3JhcCA/IElOSVRfU1RBVEUgOiBCVVNZX1NUQVRFO1xuICBzdHJtLmFkbGVyID0gKHMud3JhcCA9PT0gMikgP1xuICAgIDAgIC8vIGNyYzMyKDAsIFpfTlVMTCwgMClcbiAgOlxuICAgIDE7IC8vIGFkbGVyMzIoMCwgWl9OVUxMLCAwKVxuICBzLmxhc3RfZmx1c2ggPSAtMjtcbiAgX3RyX2luaXQocyk7XG4gIHJldHVybiBaX09LJDM7XG59O1xuXG5cbmNvbnN0IGRlZmxhdGVSZXNldCA9IChzdHJtKSA9PiB7XG5cbiAgY29uc3QgcmV0ID0gZGVmbGF0ZVJlc2V0S2VlcChzdHJtKTtcbiAgaWYgKHJldCA9PT0gWl9PSyQzKSB7XG4gICAgbG1faW5pdChzdHJtLnN0YXRlKTtcbiAgfVxuICByZXR1cm4gcmV0O1xufTtcblxuXG5jb25zdCBkZWZsYXRlU2V0SGVhZGVyID0gKHN0cm0sIGhlYWQpID0+IHtcblxuICBpZiAoZGVmbGF0ZVN0YXRlQ2hlY2soc3RybSkgfHwgc3RybS5zdGF0ZS53cmFwICE9PSAyKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDI7XG4gIH1cbiAgc3RybS5zdGF0ZS5nemhlYWQgPSBoZWFkO1xuICByZXR1cm4gWl9PSyQzO1xufTtcblxuXG5jb25zdCBkZWZsYXRlSW5pdDIgPSAoc3RybSwgbGV2ZWwsIG1ldGhvZCwgd2luZG93Qml0cywgbWVtTGV2ZWwsIHN0cmF0ZWd5KSA9PiB7XG5cbiAgaWYgKCFzdHJtKSB7IC8vID09PSBaX05VTExcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1IkMjtcbiAgfVxuICBsZXQgd3JhcCA9IDE7XG5cbiAgaWYgKGxldmVsID09PSBaX0RFRkFVTFRfQ09NUFJFU1NJT04kMSkge1xuICAgIGxldmVsID0gNjtcbiAgfVxuXG4gIGlmICh3aW5kb3dCaXRzIDwgMCkgeyAvKiBzdXBwcmVzcyB6bGliIHdyYXBwZXIgKi9cbiAgICB3cmFwID0gMDtcbiAgICB3aW5kb3dCaXRzID0gLXdpbmRvd0JpdHM7XG4gIH1cblxuICBlbHNlIGlmICh3aW5kb3dCaXRzID4gMTUpIHtcbiAgICB3cmFwID0gMjsgICAgICAgICAgIC8qIHdyaXRlIGd6aXAgd3JhcHBlciBpbnN0ZWFkICovXG4gICAgd2luZG93Qml0cyAtPSAxNjtcbiAgfVxuXG5cbiAgaWYgKG1lbUxldmVsIDwgMSB8fCBtZW1MZXZlbCA+IE1BWF9NRU1fTEVWRUwgfHwgbWV0aG9kICE9PSBaX0RFRkxBVEVEJDIgfHxcbiAgICB3aW5kb3dCaXRzIDwgOCB8fCB3aW5kb3dCaXRzID4gMTUgfHwgbGV2ZWwgPCAwIHx8IGxldmVsID4gOSB8fFxuICAgIHN0cmF0ZWd5IDwgMCB8fCBzdHJhdGVneSA+IFpfRklYRUQgfHwgKHdpbmRvd0JpdHMgPT09IDggJiYgd3JhcCAhPT0gMSkpIHtcbiAgICByZXR1cm4gZXJyKHN0cm0sIFpfU1RSRUFNX0VSUk9SJDIpO1xuICB9XG5cblxuICBpZiAod2luZG93Qml0cyA9PT0gOCkge1xuICAgIHdpbmRvd0JpdHMgPSA5O1xuICB9XG4gIC8qIHVudGlsIDI1Ni1ieXRlIHdpbmRvdyBidWcgZml4ZWQgKi9cblxuICBjb25zdCBzID0gbmV3IERlZmxhdGVTdGF0ZSgpO1xuXG4gIHN0cm0uc3RhdGUgPSBzO1xuICBzLnN0cm0gPSBzdHJtO1xuICBzLnN0YXR1cyA9IElOSVRfU1RBVEU7ICAgICAvKiB0byBwYXNzIHN0YXRlIHRlc3QgaW4gZGVmbGF0ZVJlc2V0KCkgKi9cblxuICBzLndyYXAgPSB3cmFwO1xuICBzLmd6aGVhZCA9IG51bGw7XG4gIHMud19iaXRzID0gd2luZG93Qml0cztcbiAgcy53X3NpemUgPSAxIDw8IHMud19iaXRzO1xuICBzLndfbWFzayA9IHMud19zaXplIC0gMTtcblxuICBzLmhhc2hfYml0cyA9IG1lbUxldmVsICsgNztcbiAgcy5oYXNoX3NpemUgPSAxIDw8IHMuaGFzaF9iaXRzO1xuICBzLmhhc2hfbWFzayA9IHMuaGFzaF9zaXplIC0gMTtcbiAgcy5oYXNoX3NoaWZ0ID0gfn4oKHMuaGFzaF9iaXRzICsgTUlOX01BVENIIC0gMSkgLyBNSU5fTUFUQ0gpO1xuXG4gIHMud2luZG93ID0gbmV3IFVpbnQ4QXJyYXkocy53X3NpemUgKiAyKTtcbiAgcy5oZWFkID0gbmV3IFVpbnQxNkFycmF5KHMuaGFzaF9zaXplKTtcbiAgcy5wcmV2ID0gbmV3IFVpbnQxNkFycmF5KHMud19zaXplKTtcblxuICAvLyBEb24ndCBuZWVkIG1lbSBpbml0IG1hZ2ljIGZvciBKUy5cbiAgLy9zLmhpZ2hfd2F0ZXIgPSAwOyAgLyogbm90aGluZyB3cml0dGVuIHRvIHMtPndpbmRvdyB5ZXQgKi9cblxuICBzLmxpdF9idWZzaXplID0gMSA8PCAobWVtTGV2ZWwgKyA2KTsgLyogMTZLIGVsZW1lbnRzIGJ5IGRlZmF1bHQgKi9cblxuICAvKiBXZSBvdmVybGF5IHBlbmRpbmdfYnVmIGFuZCBzeW1fYnVmLiBUaGlzIHdvcmtzIHNpbmNlIHRoZSBhdmVyYWdlIHNpemVcbiAgICogZm9yIGxlbmd0aC9kaXN0YW5jZSBwYWlycyBvdmVyIGFueSBjb21wcmVzc2VkIGJsb2NrIGlzIGFzc3VyZWQgdG8gYmUgMzFcbiAgICogYml0cyBvciBsZXNzLlxuICAgKlxuICAgKiBBbmFseXNpczogVGhlIGxvbmdlc3QgZml4ZWQgY29kZXMgYXJlIGEgbGVuZ3RoIGNvZGUgb2YgOCBiaXRzIHBsdXMgNVxuICAgKiBleHRyYSBiaXRzLCBmb3IgbGVuZ3RocyAxMzEgdG8gMjU3LiBUaGUgbG9uZ2VzdCBmaXhlZCBkaXN0YW5jZSBjb2RlcyBhcmVcbiAgICogNSBiaXRzIHBsdXMgMTMgZXh0cmEgYml0cywgZm9yIGRpc3RhbmNlcyAxNjM4NSB0byAzMjc2OC4gVGhlIGxvbmdlc3RcbiAgICogcG9zc2libGUgZml4ZWQtY29kZXMgbGVuZ3RoL2Rpc3RhbmNlIHBhaXIgaXMgdGhlbiAzMSBiaXRzIHRvdGFsLlxuICAgKlxuICAgKiBzeW1fYnVmIHN0YXJ0cyBvbmUtZm91cnRoIG9mIHRoZSB3YXkgaW50byBwZW5kaW5nX2J1Zi4gU28gdGhlcmUgYXJlXG4gICAqIHRocmVlIGJ5dGVzIGluIHN5bV9idWYgZm9yIGV2ZXJ5IGZvdXIgYnl0ZXMgaW4gcGVuZGluZ19idWYuIEVhY2ggc3ltYm9sXG4gICAqIGluIHN5bV9idWYgaXMgdGhyZWUgYnl0ZXMgLS0gdHdvIGZvciB0aGUgZGlzdGFuY2UgYW5kIG9uZSBmb3IgdGhlXG4gICAqIGxpdGVyYWwvbGVuZ3RoLiBBcyBlYWNoIHN5bWJvbCBpcyBjb25zdW1lZCwgdGhlIHBvaW50ZXIgdG8gdGhlIG5leHRcbiAgICogc3ltX2J1ZiB2YWx1ZSB0byByZWFkIG1vdmVzIGZvcndhcmQgdGhyZWUgYnl0ZXMuIEZyb20gdGhhdCBzeW1ib2wsIHVwIHRvXG4gICAqIDMxIGJpdHMgYXJlIHdyaXR0ZW4gdG8gcGVuZGluZ19idWYuIFRoZSBjbG9zZXN0IHRoZSB3cml0dGVuIHBlbmRpbmdfYnVmXG4gICAqIGJpdHMgZ2V0cyB0byB0aGUgbmV4dCBzeW1fYnVmIHN5bWJvbCB0byByZWFkIGlzIGp1c3QgYmVmb3JlIHRoZSBsYXN0XG4gICAqIGNvZGUgaXMgd3JpdHRlbi4gQXQgdGhhdCB0aW1lLCAzMSoobi0yKSBiaXRzIGhhdmUgYmVlbiB3cml0dGVuLCBqdXN0XG4gICAqIGFmdGVyIDI0KihuLTIpIGJpdHMgaGF2ZSBiZWVuIGNvbnN1bWVkIGZyb20gc3ltX2J1Zi4gc3ltX2J1ZiBzdGFydHMgYXRcbiAgICogOCpuIGJpdHMgaW50byBwZW5kaW5nX2J1Zi4gKE5vdGUgdGhhdCB0aGUgc3ltYm9sIGJ1ZmZlciBmaWxscyB3aGVuIG4tMVxuICAgKiBzeW1ib2xzIGFyZSB3cml0dGVuLikgVGhlIGNsb3Nlc3QgdGhlIHdyaXRpbmcgZ2V0cyB0byB3aGF0IGlzIHVucmVhZCBpc1xuICAgKiB0aGVuIG4rMTQgYml0cy4gSGVyZSBuIGlzIGxpdF9idWZzaXplLCB3aGljaCBpcyAxNjM4NCBieSBkZWZhdWx0LCBhbmRcbiAgICogY2FuIHJhbmdlIGZyb20gMTI4IHRvIDMyNzY4LlxuICAgKlxuICAgKiBUaGVyZWZvcmUsIGF0IGEgbWluaW11bSwgdGhlcmUgYXJlIDE0MiBiaXRzIG9mIHNwYWNlIGJldHdlZW4gd2hhdCBpc1xuICAgKiB3cml0dGVuIGFuZCB3aGF0IGlzIHJlYWQgaW4gdGhlIG92ZXJsYWluIGJ1ZmZlcnMsIHNvIHRoZSBzeW1ib2xzIGNhbm5vdFxuICAgKiBiZSBvdmVyd3JpdHRlbiBieSB0aGUgY29tcHJlc3NlZCBkYXRhLiBUaGF0IHNwYWNlIGlzIGFjdHVhbGx5IDEzOSBiaXRzLFxuICAgKiBkdWUgdG8gdGhlIHRocmVlLWJpdCBmaXhlZC1jb2RlIGJsb2NrIGhlYWRlci5cbiAgICpcbiAgICogVGhhdCBjb3ZlcnMgdGhlIGNhc2Ugd2hlcmUgZWl0aGVyIFpfRklYRUQgaXMgc3BlY2lmaWVkLCBmb3JjaW5nIGZpeGVkXG4gICAqIGNvZGVzLCBvciB3aGVuIHRoZSB1c2Ugb2YgZml4ZWQgY29kZXMgaXMgY2hvc2VuLCBiZWNhdXNlIHRoYXQgY2hvaWNlXG4gICAqIHJlc3VsdHMgaW4gYSBzbWFsbGVyIGNvbXByZXNzZWQgYmxvY2sgdGhhbiBkeW5hbWljIGNvZGVzLiBUaGF0IGxhdHRlclxuICAgKiBjb25kaXRpb24gdGhlbiBhc3N1cmVzIHRoYXQgdGhlIGFib3ZlIGFuYWx5c2lzIGFsc28gY292ZXJzIGFsbCBkeW5hbWljXG4gICAqIGJsb2Nrcy4gQSBkeW5hbWljLWNvZGUgYmxvY2sgd2lsbCBvbmx5IGJlIGNob3NlbiB0byBiZSBlbWl0dGVkIGlmIGl0IGhhc1xuICAgKiBmZXdlciBiaXRzIHRoYW4gYSBmaXhlZC1jb2RlIGJsb2NrIHdvdWxkIGZvciB0aGUgc2FtZSBzZXQgb2Ygc3ltYm9scy5cbiAgICogVGhlcmVmb3JlIGl0cyBhdmVyYWdlIHN5bWJvbCBsZW5ndGggaXMgYXNzdXJlZCB0byBiZSBsZXNzIHRoYW4gMzEuIFNvXG4gICAqIHRoZSBjb21wcmVzc2VkIGRhdGEgZm9yIGEgZHluYW1pYyBibG9jayBhbHNvIGNhbm5vdCBvdmVyd3JpdGUgdGhlXG4gICAqIHN5bWJvbHMgZnJvbSB3aGljaCBpdCBpcyBiZWluZyBjb25zdHJ1Y3RlZC5cbiAgICovXG5cbiAgcy5wZW5kaW5nX2J1Zl9zaXplID0gcy5saXRfYnVmc2l6ZSAqIDQ7XG4gIHMucGVuZGluZ19idWYgPSBuZXcgVWludDhBcnJheShzLnBlbmRpbmdfYnVmX3NpemUpO1xuXG4gIC8vIEl0IGlzIG9mZnNldCBmcm9tIGBzLnBlbmRpbmdfYnVmYCAoc2l6ZSBpcyBgcy5saXRfYnVmc2l6ZSAqIDJgKVxuICAvL3MtPnN5bV9idWYgPSBzLT5wZW5kaW5nX2J1ZiArIHMtPmxpdF9idWZzaXplO1xuICBzLnN5bV9idWYgPSBzLmxpdF9idWZzaXplO1xuXG4gIC8vcy0+c3ltX2VuZCA9IChzLT5saXRfYnVmc2l6ZSAtIDEpICogMztcbiAgcy5zeW1fZW5kID0gKHMubGl0X2J1ZnNpemUgLSAxKSAqIDM7XG4gIC8qIFdlIGF2b2lkIGVxdWFsaXR5IHdpdGggbGl0X2J1ZnNpemUqMyBiZWNhdXNlIG9mIHdyYXBhcm91bmQgYXQgNjRLXG4gICAqIG9uIDE2IGJpdCBtYWNoaW5lcyBhbmQgYmVjYXVzZSBzdG9yZWQgYmxvY2tzIGFyZSByZXN0cmljdGVkIHRvXG4gICAqIDY0Sy0xIGJ5dGVzLlxuICAgKi9cblxuICBzLmxldmVsID0gbGV2ZWw7XG4gIHMuc3RyYXRlZ3kgPSBzdHJhdGVneTtcbiAgcy5tZXRob2QgPSBtZXRob2Q7XG5cbiAgcmV0dXJuIGRlZmxhdGVSZXNldChzdHJtKTtcbn07XG5cbmNvbnN0IGRlZmxhdGVJbml0ID0gKHN0cm0sIGxldmVsKSA9PiB7XG5cbiAgcmV0dXJuIGRlZmxhdGVJbml0MihzdHJtLCBsZXZlbCwgWl9ERUZMQVRFRCQyLCBNQVhfV0JJVFMkMSwgREVGX01FTV9MRVZFTCwgWl9ERUZBVUxUX1NUUkFURUdZJDEpO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5jb25zdCBkZWZsYXRlJDIgPSAoc3RybSwgZmx1c2gpID0+IHtcblxuICBpZiAoZGVmbGF0ZVN0YXRlQ2hlY2soc3RybSkgfHwgZmx1c2ggPiBaX0JMT0NLJDEgfHwgZmx1c2ggPCAwKSB7XG4gICAgcmV0dXJuIHN0cm0gPyBlcnIoc3RybSwgWl9TVFJFQU1fRVJST1IkMikgOiBaX1NUUkVBTV9FUlJPUiQyO1xuICB9XG5cbiAgY29uc3QgcyA9IHN0cm0uc3RhdGU7XG5cbiAgaWYgKCFzdHJtLm91dHB1dCB8fFxuICAgICAgKHN0cm0uYXZhaWxfaW4gIT09IDAgJiYgIXN0cm0uaW5wdXQpIHx8XG4gICAgICAocy5zdGF0dXMgPT09IEZJTklTSF9TVEFURSAmJiBmbHVzaCAhPT0gWl9GSU5JU0gkMykpIHtcbiAgICByZXR1cm4gZXJyKHN0cm0sIChzdHJtLmF2YWlsX291dCA9PT0gMCkgPyBaX0JVRl9FUlJPUiQxIDogWl9TVFJFQU1fRVJST1IkMik7XG4gIH1cblxuICBjb25zdCBvbGRfZmx1c2ggPSBzLmxhc3RfZmx1c2g7XG4gIHMubGFzdF9mbHVzaCA9IGZsdXNoO1xuXG4gIC8qIEZsdXNoIGFzIG11Y2ggcGVuZGluZyBvdXRwdXQgYXMgcG9zc2libGUgKi9cbiAgaWYgKHMucGVuZGluZyAhPT0gMCkge1xuICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAvKiBTaW5jZSBhdmFpbF9vdXQgaXMgMCwgZGVmbGF0ZSB3aWxsIGJlIGNhbGxlZCBhZ2FpbiB3aXRoXG4gICAgICAgKiBtb3JlIG91dHB1dCBzcGFjZSwgYnV0IHBvc3NpYmx5IHdpdGggYm90aCBwZW5kaW5nIGFuZFxuICAgICAgICogYXZhaWxfaW4gZXF1YWwgdG8gemVyby4gVGhlcmUgd29uJ3QgYmUgYW55dGhpbmcgdG8gZG8sXG4gICAgICAgKiBidXQgdGhpcyBpcyBub3QgYW4gZXJyb3Igc2l0dWF0aW9uIHNvIG1ha2Ugc3VyZSB3ZVxuICAgICAgICogcmV0dXJuIE9LIGluc3RlYWQgb2YgQlVGX0VSUk9SIGF0IG5leHQgY2FsbCBvZiBkZWZsYXRlOlxuICAgICAgICovXG4gICAgICBzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgIHJldHVybiBaX09LJDM7XG4gICAgfVxuXG4gICAgLyogTWFrZSBzdXJlIHRoZXJlIGlzIHNvbWV0aGluZyB0byBkbyBhbmQgYXZvaWQgZHVwbGljYXRlIGNvbnNlY3V0aXZlXG4gICAgICogZmx1c2hlcy4gRm9yIHJlcGVhdGVkIGFuZCB1c2VsZXNzIGNhbGxzIHdpdGggWl9GSU5JU0gsIHdlIGtlZXBcbiAgICAgKiByZXR1cm5pbmcgWl9TVFJFQU1fRU5EIGluc3RlYWQgb2YgWl9CVUZfRVJST1IuXG4gICAgICovXG4gIH0gZWxzZSBpZiAoc3RybS5hdmFpbF9pbiA9PT0gMCAmJiByYW5rKGZsdXNoKSA8PSByYW5rKG9sZF9mbHVzaCkgJiZcbiAgICBmbHVzaCAhPT0gWl9GSU5JU0gkMykge1xuICAgIHJldHVybiBlcnIoc3RybSwgWl9CVUZfRVJST1IkMSk7XG4gIH1cblxuICAvKiBVc2VyIG11c3Qgbm90IHByb3ZpZGUgbW9yZSBpbnB1dCBhZnRlciB0aGUgZmlyc3QgRklOSVNIOiAqL1xuICBpZiAocy5zdGF0dXMgPT09IEZJTklTSF9TVEFURSAmJiBzdHJtLmF2YWlsX2luICE9PSAwKSB7XG4gICAgcmV0dXJuIGVycihzdHJtLCBaX0JVRl9FUlJPUiQxKTtcbiAgfVxuXG4gIC8qIFdyaXRlIHRoZSBoZWFkZXIgKi9cbiAgaWYgKHMuc3RhdHVzID09PSBJTklUX1NUQVRFICYmIHMud3JhcCA9PT0gMCkge1xuICAgIHMuc3RhdHVzID0gQlVTWV9TVEFURTtcbiAgfVxuICBpZiAocy5zdGF0dXMgPT09IElOSVRfU1RBVEUpIHtcbiAgICAvKiB6bGliIGhlYWRlciAqL1xuICAgIGxldCBoZWFkZXIgPSAoWl9ERUZMQVRFRCQyICsgKChzLndfYml0cyAtIDgpIDw8IDQpKSA8PCA4O1xuICAgIGxldCBsZXZlbF9mbGFncyA9IC0xO1xuXG4gICAgaWYgKHMuc3RyYXRlZ3kgPj0gWl9IVUZGTUFOX09OTFkgfHwgcy5sZXZlbCA8IDIpIHtcbiAgICAgIGxldmVsX2ZsYWdzID0gMDtcbiAgICB9IGVsc2UgaWYgKHMubGV2ZWwgPCA2KSB7XG4gICAgICBsZXZlbF9mbGFncyA9IDE7XG4gICAgfSBlbHNlIGlmIChzLmxldmVsID09PSA2KSB7XG4gICAgICBsZXZlbF9mbGFncyA9IDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldmVsX2ZsYWdzID0gMztcbiAgICB9XG4gICAgaGVhZGVyIHw9IChsZXZlbF9mbGFncyA8PCA2KTtcbiAgICBpZiAocy5zdHJzdGFydCAhPT0gMCkgeyBoZWFkZXIgfD0gUFJFU0VUX0RJQ1Q7IH1cbiAgICBoZWFkZXIgKz0gMzEgLSAoaGVhZGVyICUgMzEpO1xuXG4gICAgcHV0U2hvcnRNU0IocywgaGVhZGVyKTtcblxuICAgIC8qIFNhdmUgdGhlIGFkbGVyMzIgb2YgdGhlIHByZXNldCBkaWN0aW9uYXJ5OiAqL1xuICAgIGlmIChzLnN0cnN0YXJ0ICE9PSAwKSB7XG4gICAgICBwdXRTaG9ydE1TQihzLCBzdHJtLmFkbGVyID4+PiAxNik7XG4gICAgICBwdXRTaG9ydE1TQihzLCBzdHJtLmFkbGVyICYgMHhmZmZmKTtcbiAgICB9XG4gICAgc3RybS5hZGxlciA9IDE7IC8vIGFkbGVyMzIoMEwsIFpfTlVMTCwgMCk7XG4gICAgcy5zdGF0dXMgPSBCVVNZX1NUQVRFO1xuXG4gICAgLyogQ29tcHJlc3Npb24gbXVzdCBzdGFydCB3aXRoIGFuIGVtcHR5IHBlbmRpbmcgYnVmZmVyICovXG4gICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICBpZiAocy5wZW5kaW5nICE9PSAwKSB7XG4gICAgICBzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgIHJldHVybiBaX09LJDM7XG4gICAgfVxuICB9XG4vLyNpZmRlZiBHWklQXG4gIGlmIChzLnN0YXR1cyA9PT0gR1pJUF9TVEFURSkge1xuICAgIC8qIGd6aXAgaGVhZGVyICovXG4gICAgc3RybS5hZGxlciA9IDA7ICAvL2NyYzMyKDBMLCBaX05VTEwsIDApO1xuICAgIHB1dF9ieXRlKHMsIDMxKTtcbiAgICBwdXRfYnl0ZShzLCAxMzkpO1xuICAgIHB1dF9ieXRlKHMsIDgpO1xuICAgIGlmICghcy5nemhlYWQpIHsgLy8gcy0+Z3poZWFkID09IFpfTlVMTFxuICAgICAgcHV0X2J5dGUocywgMCk7XG4gICAgICBwdXRfYnl0ZShzLCAwKTtcbiAgICAgIHB1dF9ieXRlKHMsIDApO1xuICAgICAgcHV0X2J5dGUocywgMCk7XG4gICAgICBwdXRfYnl0ZShzLCAwKTtcbiAgICAgIHB1dF9ieXRlKHMsIHMubGV2ZWwgPT09IDkgPyAyIDpcbiAgICAgICAgICAgICAgICAgIChzLnN0cmF0ZWd5ID49IFpfSFVGRk1BTl9PTkxZIHx8IHMubGV2ZWwgPCAyID9cbiAgICAgICAgICAgICAgICAgICA0IDogMCkpO1xuICAgICAgcHV0X2J5dGUocywgT1NfQ09ERSk7XG4gICAgICBzLnN0YXR1cyA9IEJVU1lfU1RBVEU7XG5cbiAgICAgIC8qIENvbXByZXNzaW9uIG11c3Qgc3RhcnQgd2l0aCBhbiBlbXB0eSBwZW5kaW5nIGJ1ZmZlciAqL1xuICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICAgIGlmIChzLnBlbmRpbmcgIT09IDApIHtcbiAgICAgICAgcy5sYXN0X2ZsdXNoID0gLTE7XG4gICAgICAgIHJldHVybiBaX09LJDM7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcHV0X2J5dGUocywgKHMuZ3poZWFkLnRleHQgPyAxIDogMCkgK1xuICAgICAgICAgICAgICAgICAgKHMuZ3poZWFkLmhjcmMgPyAyIDogMCkgK1xuICAgICAgICAgICAgICAgICAgKCFzLmd6aGVhZC5leHRyYSA/IDAgOiA0KSArXG4gICAgICAgICAgICAgICAgICAoIXMuZ3poZWFkLm5hbWUgPyAwIDogOCkgK1xuICAgICAgICAgICAgICAgICAgKCFzLmd6aGVhZC5jb21tZW50ID8gMCA6IDE2KVxuICAgICAgKTtcbiAgICAgIHB1dF9ieXRlKHMsIHMuZ3poZWFkLnRpbWUgJiAweGZmKTtcbiAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC50aW1lID4+IDgpICYgMHhmZik7XG4gICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQudGltZSA+PiAxNikgJiAweGZmKTtcbiAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC50aW1lID4+IDI0KSAmIDB4ZmYpO1xuICAgICAgcHV0X2J5dGUocywgcy5sZXZlbCA9PT0gOSA/IDIgOlxuICAgICAgICAgICAgICAgICAgKHMuc3RyYXRlZ3kgPj0gWl9IVUZGTUFOX09OTFkgfHwgcy5sZXZlbCA8IDIgP1xuICAgICAgICAgICAgICAgICAgIDQgOiAwKSk7XG4gICAgICBwdXRfYnl0ZShzLCBzLmd6aGVhZC5vcyAmIDB4ZmYpO1xuICAgICAgaWYgKHMuZ3poZWFkLmV4dHJhICYmIHMuZ3poZWFkLmV4dHJhLmxlbmd0aCkge1xuICAgICAgICBwdXRfYnl0ZShzLCBzLmd6aGVhZC5leHRyYS5sZW5ndGggJiAweGZmKTtcbiAgICAgICAgcHV0X2J5dGUocywgKHMuZ3poZWFkLmV4dHJhLmxlbmd0aCA+PiA4KSAmIDB4ZmYpO1xuICAgICAgfVxuICAgICAgaWYgKHMuZ3poZWFkLmhjcmMpIHtcbiAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nLCAwKTtcbiAgICAgIH1cbiAgICAgIHMuZ3ppbmRleCA9IDA7XG4gICAgICBzLnN0YXR1cyA9IEVYVFJBX1NUQVRFO1xuICAgIH1cbiAgfVxuICBpZiAocy5zdGF0dXMgPT09IEVYVFJBX1NUQVRFKSB7XG4gICAgaWYgKHMuZ3poZWFkLmV4dHJhLyogIT0gWl9OVUxMKi8pIHtcbiAgICAgIGxldCBiZWcgPSBzLnBlbmRpbmc7ICAgLyogc3RhcnQgb2YgYnl0ZXMgdG8gdXBkYXRlIGNyYyAqL1xuICAgICAgbGV0IGxlZnQgPSAocy5nemhlYWQuZXh0cmEubGVuZ3RoICYgMHhmZmZmKSAtIHMuZ3ppbmRleDtcbiAgICAgIHdoaWxlIChzLnBlbmRpbmcgKyBsZWZ0ID4gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgIGxldCBjb3B5ID0gcy5wZW5kaW5nX2J1Zl9zaXplIC0gcy5wZW5kaW5nO1xuICAgICAgICAvLyB6bWVtY3B5KHMucGVuZGluZ19idWYgKyBzLnBlbmRpbmcsXG4gICAgICAgIC8vICAgIHMuZ3poZWFkLmV4dHJhICsgcy5nemluZGV4LCBjb3B5KTtcbiAgICAgICAgcy5wZW5kaW5nX2J1Zi5zZXQocy5nemhlYWQuZXh0cmEuc3ViYXJyYXkocy5nemluZGV4LCBzLmd6aW5kZXggKyBjb3B5KSwgcy5wZW5kaW5nKTtcbiAgICAgICAgcy5wZW5kaW5nID0gcy5wZW5kaW5nX2J1Zl9zaXplO1xuICAgICAgICAvLy0tLSBIQ1JDX1VQREFURShiZWcpIC0tLS8vXG4gICAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgICAgfVxuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHMuZ3ppbmRleCArPSBjb3B5O1xuICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgICBpZiAocy5wZW5kaW5nICE9PSAwKSB7XG4gICAgICAgICAgcy5sYXN0X2ZsdXNoID0gLTE7XG4gICAgICAgICAgcmV0dXJuIFpfT0skMztcbiAgICAgICAgfVxuICAgICAgICBiZWcgPSAwO1xuICAgICAgICBsZWZ0IC09IGNvcHk7XG4gICAgICB9XG4gICAgICAvLyBKUyBzcGVjaWZpYzogcy5nemhlYWQuZXh0cmEgbWF5IGJlIFR5cGVkQXJyYXkgb3IgQXJyYXkgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgIC8vICAgICAgICAgICAgICBUeXBlZEFycmF5LnNsaWNlIGFuZCBUeXBlZEFycmF5LmZyb20gZG9uJ3QgZXhpc3QgaW4gSUUxMC1JRTExXG4gICAgICBsZXQgZ3poZWFkX2V4dHJhID0gbmV3IFVpbnQ4QXJyYXkocy5nemhlYWQuZXh0cmEpO1xuICAgICAgLy8gem1lbWNweShzLT5wZW5kaW5nX2J1ZiArIHMtPnBlbmRpbmcsXG4gICAgICAvLyAgICAgcy0+Z3poZWFkLT5leHRyYSArIHMtPmd6aW5kZXgsIGxlZnQpO1xuICAgICAgcy5wZW5kaW5nX2J1Zi5zZXQoZ3poZWFkX2V4dHJhLnN1YmFycmF5KHMuZ3ppbmRleCwgcy5nemluZGV4ICsgbGVmdCksIHMucGVuZGluZyk7XG4gICAgICBzLnBlbmRpbmcgKz0gbGVmdDtcbiAgICAgIC8vLS0tIEhDUkNfVVBEQVRFKGJlZykgLS0tLy9cbiAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICB9XG4gICAgICAvLy0tLS8vXG4gICAgICBzLmd6aW5kZXggPSAwO1xuICAgIH1cbiAgICBzLnN0YXR1cyA9IE5BTUVfU1RBVEU7XG4gIH1cbiAgaWYgKHMuc3RhdHVzID09PSBOQU1FX1NUQVRFKSB7XG4gICAgaWYgKHMuZ3poZWFkLm5hbWUvKiAhPSBaX05VTEwqLykge1xuICAgICAgbGV0IGJlZyA9IHMucGVuZGluZzsgICAvKiBzdGFydCBvZiBieXRlcyB0byB1cGRhdGUgY3JjICovXG4gICAgICBsZXQgdmFsO1xuICAgICAgZG8ge1xuICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAvLy0tLSBIQ1JDX1VQREFURShiZWcpIC0tLS8vXG4gICAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgICAgIGlmIChzLnBlbmRpbmcgIT09IDApIHtcbiAgICAgICAgICAgIHMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgICAgICAgcmV0dXJuIFpfT0skMztcbiAgICAgICAgICB9XG4gICAgICAgICAgYmVnID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBKUyBzcGVjaWZpYzogbGl0dGxlIG1hZ2ljIHRvIGFkZCB6ZXJvIHRlcm1pbmF0b3IgdG8gZW5kIG9mIHN0cmluZ1xuICAgICAgICBpZiAocy5nemluZGV4IDwgcy5nemhlYWQubmFtZS5sZW5ndGgpIHtcbiAgICAgICAgICB2YWwgPSBzLmd6aGVhZC5uYW1lLmNoYXJDb2RlQXQocy5nemluZGV4KyspICYgMHhmZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWwgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHB1dF9ieXRlKHMsIHZhbCk7XG4gICAgICB9IHdoaWxlICh2YWwgIT09IDApO1xuICAgICAgLy8tLS0gSENSQ19VUERBVEUoYmVnKSAtLS0vL1xuICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgIH1cbiAgICAgIC8vLS0tLy9cbiAgICAgIHMuZ3ppbmRleCA9IDA7XG4gICAgfVxuICAgIHMuc3RhdHVzID0gQ09NTUVOVF9TVEFURTtcbiAgfVxuICBpZiAocy5zdGF0dXMgPT09IENPTU1FTlRfU1RBVEUpIHtcbiAgICBpZiAocy5nemhlYWQuY29tbWVudC8qICE9IFpfTlVMTCovKSB7XG4gICAgICBsZXQgYmVnID0gcy5wZW5kaW5nOyAgIC8qIHN0YXJ0IG9mIGJ5dGVzIHRvIHVwZGF0ZSBjcmMgKi9cbiAgICAgIGxldCB2YWw7XG4gICAgICBkbyB7XG4gICAgICAgIGlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgIC8vLS0tIEhDUkNfVVBEQVRFKGJlZykgLS0tLy9cbiAgICAgICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICAgICAgaWYgKHMucGVuZGluZyAhPT0gMCkge1xuICAgICAgICAgICAgcy5sYXN0X2ZsdXNoID0gLTE7XG4gICAgICAgICAgICByZXR1cm4gWl9PSyQzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiZWcgPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIEpTIHNwZWNpZmljOiBsaXR0bGUgbWFnaWMgdG8gYWRkIHplcm8gdGVybWluYXRvciB0byBlbmQgb2Ygc3RyaW5nXG4gICAgICAgIGlmIChzLmd6aW5kZXggPCBzLmd6aGVhZC5jb21tZW50Lmxlbmd0aCkge1xuICAgICAgICAgIHZhbCA9IHMuZ3poZWFkLmNvbW1lbnQuY2hhckNvZGVBdChzLmd6aW5kZXgrKykgJiAweGZmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcHV0X2J5dGUocywgdmFsKTtcbiAgICAgIH0gd2hpbGUgKHZhbCAhPT0gMCk7XG4gICAgICAvLy0tLSBIQ1JDX1VQREFURShiZWcpIC0tLS8vXG4gICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgfVxuICAgICAgLy8tLS0vL1xuICAgIH1cbiAgICBzLnN0YXR1cyA9IEhDUkNfU1RBVEU7XG4gIH1cbiAgaWYgKHMuc3RhdHVzID09PSBIQ1JDX1NUQVRFKSB7XG4gICAgaWYgKHMuZ3poZWFkLmhjcmMpIHtcbiAgICAgIGlmIChzLnBlbmRpbmcgKyAyID4gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICAgIGlmIChzLnBlbmRpbmcgIT09IDApIHtcbiAgICAgICAgICBzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgICAgICByZXR1cm4gWl9PSyQzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwdXRfYnl0ZShzLCBzdHJtLmFkbGVyICYgMHhmZik7XG4gICAgICBwdXRfYnl0ZShzLCAoc3RybS5hZGxlciA+PiA4KSAmIDB4ZmYpO1xuICAgICAgc3RybS5hZGxlciA9IDA7IC8vY3JjMzIoMEwsIFpfTlVMTCwgMCk7XG4gICAgfVxuICAgIHMuc3RhdHVzID0gQlVTWV9TVEFURTtcblxuICAgIC8qIENvbXByZXNzaW9uIG11c3Qgc3RhcnQgd2l0aCBhbiBlbXB0eSBwZW5kaW5nIGJ1ZmZlciAqL1xuICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgaWYgKHMucGVuZGluZyAhPT0gMCkge1xuICAgICAgcy5sYXN0X2ZsdXNoID0gLTE7XG4gICAgICByZXR1cm4gWl9PSyQzO1xuICAgIH1cbiAgfVxuLy8jZW5kaWZcblxuICAvKiBTdGFydCBhIG5ldyBibG9jayBvciBjb250aW51ZSB0aGUgY3VycmVudCBvbmUuXG4gICAqL1xuICBpZiAoc3RybS5hdmFpbF9pbiAhPT0gMCB8fCBzLmxvb2thaGVhZCAhPT0gMCB8fFxuICAgIChmbHVzaCAhPT0gWl9OT19GTFVTSCQyICYmIHMuc3RhdHVzICE9PSBGSU5JU0hfU1RBVEUpKSB7XG4gICAgbGV0IGJzdGF0ZSA9IHMubGV2ZWwgPT09IDAgPyBkZWZsYXRlX3N0b3JlZChzLCBmbHVzaCkgOlxuICAgICAgICAgICAgICAgICBzLnN0cmF0ZWd5ID09PSBaX0hVRkZNQU5fT05MWSA/IGRlZmxhdGVfaHVmZihzLCBmbHVzaCkgOlxuICAgICAgICAgICAgICAgICBzLnN0cmF0ZWd5ID09PSBaX1JMRSA/IGRlZmxhdGVfcmxlKHMsIGZsdXNoKSA6XG4gICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0uZnVuYyhzLCBmbHVzaCk7XG5cbiAgICBpZiAoYnN0YXRlID09PSBCU19GSU5JU0hfU1RBUlRFRCB8fCBic3RhdGUgPT09IEJTX0ZJTklTSF9ET05FKSB7XG4gICAgICBzLnN0YXR1cyA9IEZJTklTSF9TVEFURTtcbiAgICB9XG4gICAgaWYgKGJzdGF0ZSA9PT0gQlNfTkVFRF9NT1JFIHx8IGJzdGF0ZSA9PT0gQlNfRklOSVNIX1NUQVJURUQpIHtcbiAgICAgIGlmIChzdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICBzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgICAgLyogYXZvaWQgQlVGX0VSUk9SIG5leHQgY2FsbCwgc2VlIGFib3ZlICovXG4gICAgICB9XG4gICAgICByZXR1cm4gWl9PSyQzO1xuICAgICAgLyogSWYgZmx1c2ggIT0gWl9OT19GTFVTSCAmJiBhdmFpbF9vdXQgPT0gMCwgdGhlIG5leHQgY2FsbFxuICAgICAgICogb2YgZGVmbGF0ZSBzaG91bGQgdXNlIHRoZSBzYW1lIGZsdXNoIHBhcmFtZXRlciB0byBtYWtlIHN1cmVcbiAgICAgICAqIHRoYXQgdGhlIGZsdXNoIGlzIGNvbXBsZXRlLiBTbyB3ZSBkb24ndCBoYXZlIHRvIG91dHB1dCBhblxuICAgICAgICogZW1wdHkgYmxvY2sgaGVyZSwgdGhpcyB3aWxsIGJlIGRvbmUgYXQgbmV4dCBjYWxsLiBUaGlzIGFsc29cbiAgICAgICAqIGVuc3VyZXMgdGhhdCBmb3IgYSB2ZXJ5IHNtYWxsIG91dHB1dCBidWZmZXIsIHdlIGVtaXQgYXQgbW9zdFxuICAgICAgICogb25lIGVtcHR5IGJsb2NrLlxuICAgICAgICovXG4gICAgfVxuICAgIGlmIChic3RhdGUgPT09IEJTX0JMT0NLX0RPTkUpIHtcbiAgICAgIGlmIChmbHVzaCA9PT0gWl9QQVJUSUFMX0ZMVVNIKSB7XG4gICAgICAgIF90cl9hbGlnbihzKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGZsdXNoICE9PSBaX0JMT0NLJDEpIHsgLyogRlVMTF9GTFVTSCBvciBTWU5DX0ZMVVNIICovXG5cbiAgICAgICAgX3RyX3N0b3JlZF9ibG9jayhzLCAwLCAwLCBmYWxzZSk7XG4gICAgICAgIC8qIEZvciBhIGZ1bGwgZmx1c2gsIHRoaXMgZW1wdHkgYmxvY2sgd2lsbCBiZSByZWNvZ25pemVkXG4gICAgICAgICAqIGFzIGEgc3BlY2lhbCBtYXJrZXIgYnkgaW5mbGF0ZV9zeW5jKCkuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoZmx1c2ggPT09IFpfRlVMTF9GTFVTSCQxKSB7XG4gICAgICAgICAgLyoqKiBDTEVBUl9IQVNIKHMpOyAqKiovICAgICAgICAgICAgIC8qIGZvcmdldCBoaXN0b3J5ICovXG4gICAgICAgICAgemVybyhzLmhlYWQpOyAvLyBGaWxsIHdpdGggTklMICg9IDApO1xuXG4gICAgICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICAgICAgICBzLnN0cnN0YXJ0ID0gMDtcbiAgICAgICAgICAgIHMuYmxvY2tfc3RhcnQgPSAwO1xuICAgICAgICAgICAgcy5pbnNlcnQgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICAgIGlmIChzdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICBzLmxhc3RfZmx1c2ggPSAtMTsgLyogYXZvaWQgQlVGX0VSUk9SIGF0IG5leHQgY2FsbCwgc2VlIGFib3ZlICovXG4gICAgICAgIHJldHVybiBaX09LJDM7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGZsdXNoICE9PSBaX0ZJTklTSCQzKSB7IHJldHVybiBaX09LJDM7IH1cbiAgaWYgKHMud3JhcCA8PSAwKSB7IHJldHVybiBaX1NUUkVBTV9FTkQkMzsgfVxuXG4gIC8qIFdyaXRlIHRoZSB0cmFpbGVyICovXG4gIGlmIChzLndyYXAgPT09IDIpIHtcbiAgICBwdXRfYnl0ZShzLCBzdHJtLmFkbGVyICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgKHN0cm0uYWRsZXIgPj4gOCkgJiAweGZmKTtcbiAgICBwdXRfYnl0ZShzLCAoc3RybS5hZGxlciA+PiAxNikgJiAweGZmKTtcbiAgICBwdXRfYnl0ZShzLCAoc3RybS5hZGxlciA+PiAyNCkgJiAweGZmKTtcbiAgICBwdXRfYnl0ZShzLCBzdHJtLnRvdGFsX2luICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgKHN0cm0udG90YWxfaW4gPj4gOCkgJiAweGZmKTtcbiAgICBwdXRfYnl0ZShzLCAoc3RybS50b3RhbF9pbiA+PiAxNikgJiAweGZmKTtcbiAgICBwdXRfYnl0ZShzLCAoc3RybS50b3RhbF9pbiA+PiAyNCkgJiAweGZmKTtcbiAgfVxuICBlbHNlXG4gIHtcbiAgICBwdXRTaG9ydE1TQihzLCBzdHJtLmFkbGVyID4+PiAxNik7XG4gICAgcHV0U2hvcnRNU0Iocywgc3RybS5hZGxlciAmIDB4ZmZmZik7XG4gIH1cblxuICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAvKiBJZiBhdmFpbF9vdXQgaXMgemVybywgdGhlIGFwcGxpY2F0aW9uIHdpbGwgY2FsbCBkZWZsYXRlIGFnYWluXG4gICAqIHRvIGZsdXNoIHRoZSByZXN0LlxuICAgKi9cbiAgaWYgKHMud3JhcCA+IDApIHsgcy53cmFwID0gLXMud3JhcDsgfVxuICAvKiB3cml0ZSB0aGUgdHJhaWxlciBvbmx5IG9uY2UhICovXG4gIHJldHVybiBzLnBlbmRpbmcgIT09IDAgPyBaX09LJDMgOiBaX1NUUkVBTV9FTkQkMztcbn07XG5cblxuY29uc3QgZGVmbGF0ZUVuZCA9IChzdHJtKSA9PiB7XG5cbiAgaWYgKGRlZmxhdGVTdGF0ZUNoZWNrKHN0cm0pKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDI7XG4gIH1cblxuICBjb25zdCBzdGF0dXMgPSBzdHJtLnN0YXRlLnN0YXR1cztcblxuICBzdHJtLnN0YXRlID0gbnVsbDtcblxuICByZXR1cm4gc3RhdHVzID09PSBCVVNZX1NUQVRFID8gZXJyKHN0cm0sIFpfREFUQV9FUlJPUiQyKSA6IFpfT0skMztcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW5pdGlhbGl6ZXMgdGhlIGNvbXByZXNzaW9uIGRpY3Rpb25hcnkgZnJvbSB0aGUgZ2l2ZW4gYnl0ZVxuICogc2VxdWVuY2Ugd2l0aG91dCBwcm9kdWNpbmcgYW55IGNvbXByZXNzZWQgb3V0cHV0LlxuICovXG5jb25zdCBkZWZsYXRlU2V0RGljdGlvbmFyeSA9IChzdHJtLCBkaWN0aW9uYXJ5KSA9PiB7XG5cbiAgbGV0IGRpY3RMZW5ndGggPSBkaWN0aW9uYXJ5Lmxlbmd0aDtcblxuICBpZiAoZGVmbGF0ZVN0YXRlQ2hlY2soc3RybSkpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1IkMjtcbiAgfVxuXG4gIGNvbnN0IHMgPSBzdHJtLnN0YXRlO1xuICBjb25zdCB3cmFwID0gcy53cmFwO1xuXG4gIGlmICh3cmFwID09PSAyIHx8ICh3cmFwID09PSAxICYmIHMuc3RhdHVzICE9PSBJTklUX1NUQVRFKSB8fCBzLmxvb2thaGVhZCkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUiQyO1xuICB9XG5cbiAgLyogd2hlbiB1c2luZyB6bGliIHdyYXBwZXJzLCBjb21wdXRlIEFkbGVyLTMyIGZvciBwcm92aWRlZCBkaWN0aW9uYXJ5ICovXG4gIGlmICh3cmFwID09PSAxKSB7XG4gICAgLyogYWRsZXIzMihzdHJtLT5hZGxlciwgZGljdGlvbmFyeSwgZGljdExlbmd0aCk7ICovXG4gICAgc3RybS5hZGxlciA9IGFkbGVyMzJfMShzdHJtLmFkbGVyLCBkaWN0aW9uYXJ5LCBkaWN0TGVuZ3RoLCAwKTtcbiAgfVxuXG4gIHMud3JhcCA9IDA7ICAgLyogYXZvaWQgY29tcHV0aW5nIEFkbGVyLTMyIGluIHJlYWRfYnVmICovXG5cbiAgLyogaWYgZGljdGlvbmFyeSB3b3VsZCBmaWxsIHdpbmRvdywganVzdCByZXBsYWNlIHRoZSBoaXN0b3J5ICovXG4gIGlmIChkaWN0TGVuZ3RoID49IHMud19zaXplKSB7XG4gICAgaWYgKHdyYXAgPT09IDApIHsgICAgICAgICAgICAvKiBhbHJlYWR5IGVtcHR5IG90aGVyd2lzZSAqL1xuICAgICAgLyoqKiBDTEVBUl9IQVNIKHMpOyAqKiovXG4gICAgICB6ZXJvKHMuaGVhZCk7IC8vIEZpbGwgd2l0aCBOSUwgKD0gMCk7XG4gICAgICBzLnN0cnN0YXJ0ID0gMDtcbiAgICAgIHMuYmxvY2tfc3RhcnQgPSAwO1xuICAgICAgcy5pbnNlcnQgPSAwO1xuICAgIH1cbiAgICAvKiB1c2UgdGhlIHRhaWwgKi9cbiAgICAvLyBkaWN0aW9uYXJ5ID0gZGljdGlvbmFyeS5zbGljZShkaWN0TGVuZ3RoIC0gcy53X3NpemUpO1xuICAgIGxldCB0bXBEaWN0ID0gbmV3IFVpbnQ4QXJyYXkocy53X3NpemUpO1xuICAgIHRtcERpY3Quc2V0KGRpY3Rpb25hcnkuc3ViYXJyYXkoZGljdExlbmd0aCAtIHMud19zaXplLCBkaWN0TGVuZ3RoKSwgMCk7XG4gICAgZGljdGlvbmFyeSA9IHRtcERpY3Q7XG4gICAgZGljdExlbmd0aCA9IHMud19zaXplO1xuICB9XG4gIC8qIGluc2VydCBkaWN0aW9uYXJ5IGludG8gd2luZG93IGFuZCBoYXNoICovXG4gIGNvbnN0IGF2YWlsID0gc3RybS5hdmFpbF9pbjtcbiAgY29uc3QgbmV4dCA9IHN0cm0ubmV4dF9pbjtcbiAgY29uc3QgaW5wdXQgPSBzdHJtLmlucHV0O1xuICBzdHJtLmF2YWlsX2luID0gZGljdExlbmd0aDtcbiAgc3RybS5uZXh0X2luID0gMDtcbiAgc3RybS5pbnB1dCA9IGRpY3Rpb25hcnk7XG4gIGZpbGxfd2luZG93KHMpO1xuICB3aGlsZSAocy5sb29rYWhlYWQgPj0gTUlOX01BVENIKSB7XG4gICAgbGV0IHN0ciA9IHMuc3Ryc3RhcnQ7XG4gICAgbGV0IG4gPSBzLmxvb2thaGVhZCAtIChNSU5fTUFUQ0ggLSAxKTtcbiAgICBkbyB7XG4gICAgICAvKiBVUERBVEVfSEFTSChzLCBzLT5pbnNfaCwgcy0+d2luZG93W3N0ciArIE1JTl9NQVRDSC0xXSk7ICovXG4gICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzdHIgKyBNSU5fTUFUQ0ggLSAxXSk7XG5cbiAgICAgIHMucHJldltzdHIgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG5cbiAgICAgIHMuaGVhZFtzLmluc19oXSA9IHN0cjtcbiAgICAgIHN0cisrO1xuICAgIH0gd2hpbGUgKC0tbik7XG4gICAgcy5zdHJzdGFydCA9IHN0cjtcbiAgICBzLmxvb2thaGVhZCA9IE1JTl9NQVRDSCAtIDE7XG4gICAgZmlsbF93aW5kb3cocyk7XG4gIH1cbiAgcy5zdHJzdGFydCArPSBzLmxvb2thaGVhZDtcbiAgcy5ibG9ja19zdGFydCA9IHMuc3Ryc3RhcnQ7XG4gIHMuaW5zZXJ0ID0gcy5sb29rYWhlYWQ7XG4gIHMubG9va2FoZWFkID0gMDtcbiAgcy5tYXRjaF9sZW5ndGggPSBzLnByZXZfbGVuZ3RoID0gTUlOX01BVENIIC0gMTtcbiAgcy5tYXRjaF9hdmFpbGFibGUgPSAwO1xuICBzdHJtLm5leHRfaW4gPSBuZXh0O1xuICBzdHJtLmlucHV0ID0gaW5wdXQ7XG4gIHN0cm0uYXZhaWxfaW4gPSBhdmFpbDtcbiAgcy53cmFwID0gd3JhcDtcbiAgcmV0dXJuIFpfT0skMztcbn07XG5cblxudmFyIGRlZmxhdGVJbml0XzEgPSBkZWZsYXRlSW5pdDtcbnZhciBkZWZsYXRlSW5pdDJfMSA9IGRlZmxhdGVJbml0MjtcbnZhciBkZWZsYXRlUmVzZXRfMSA9IGRlZmxhdGVSZXNldDtcbnZhciBkZWZsYXRlUmVzZXRLZWVwXzEgPSBkZWZsYXRlUmVzZXRLZWVwO1xudmFyIGRlZmxhdGVTZXRIZWFkZXJfMSA9IGRlZmxhdGVTZXRIZWFkZXI7XG52YXIgZGVmbGF0ZV8yJDEgPSBkZWZsYXRlJDI7XG52YXIgZGVmbGF0ZUVuZF8xID0gZGVmbGF0ZUVuZDtcbnZhciBkZWZsYXRlU2V0RGljdGlvbmFyeV8xID0gZGVmbGF0ZVNldERpY3Rpb25hcnk7XG52YXIgZGVmbGF0ZUluZm8gPSAncGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSc7XG5cbi8qIE5vdCBpbXBsZW1lbnRlZFxubW9kdWxlLmV4cG9ydHMuZGVmbGF0ZUJvdW5kID0gZGVmbGF0ZUJvdW5kO1xubW9kdWxlLmV4cG9ydHMuZGVmbGF0ZUNvcHkgPSBkZWZsYXRlQ29weTtcbm1vZHVsZS5leHBvcnRzLmRlZmxhdGVHZXREaWN0aW9uYXJ5ID0gZGVmbGF0ZUdldERpY3Rpb25hcnk7XG5tb2R1bGUuZXhwb3J0cy5kZWZsYXRlUGFyYW1zID0gZGVmbGF0ZVBhcmFtcztcbm1vZHVsZS5leHBvcnRzLmRlZmxhdGVQZW5kaW5nID0gZGVmbGF0ZVBlbmRpbmc7XG5tb2R1bGUuZXhwb3J0cy5kZWZsYXRlUHJpbWUgPSBkZWZsYXRlUHJpbWU7XG5tb2R1bGUuZXhwb3J0cy5kZWZsYXRlVHVuZSA9IGRlZmxhdGVUdW5lO1xuKi9cblxudmFyIGRlZmxhdGVfMSQyID0ge1xuXHRkZWZsYXRlSW5pdDogZGVmbGF0ZUluaXRfMSxcblx0ZGVmbGF0ZUluaXQyOiBkZWZsYXRlSW5pdDJfMSxcblx0ZGVmbGF0ZVJlc2V0OiBkZWZsYXRlUmVzZXRfMSxcblx0ZGVmbGF0ZVJlc2V0S2VlcDogZGVmbGF0ZVJlc2V0S2VlcF8xLFxuXHRkZWZsYXRlU2V0SGVhZGVyOiBkZWZsYXRlU2V0SGVhZGVyXzEsXG5cdGRlZmxhdGU6IGRlZmxhdGVfMiQxLFxuXHRkZWZsYXRlRW5kOiBkZWZsYXRlRW5kXzEsXG5cdGRlZmxhdGVTZXREaWN0aW9uYXJ5OiBkZWZsYXRlU2V0RGljdGlvbmFyeV8xLFxuXHRkZWZsYXRlSW5mbzogZGVmbGF0ZUluZm9cbn07XG5cbmNvbnN0IF9oYXMgPSAob2JqLCBrZXkpID0+IHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59O1xuXG52YXIgYXNzaWduID0gZnVuY3Rpb24gKG9iaiAvKmZyb20xLCBmcm9tMiwgZnJvbTMsIC4uLiovKSB7XG4gIGNvbnN0IHNvdXJjZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICB3aGlsZSAoc291cmNlcy5sZW5ndGgpIHtcbiAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VzLnNoaWZ0KCk7XG4gICAgaWYgKCFzb3VyY2UpIHsgY29udGludWU7IH1cblxuICAgIGlmICh0eXBlb2Ygc291cmNlICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzb3VyY2UgKyAnbXVzdCBiZSBub24tb2JqZWN0Jyk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBwIGluIHNvdXJjZSkge1xuICAgICAgaWYgKF9oYXMoc291cmNlLCBwKSkge1xuICAgICAgICBvYmpbcF0gPSBzb3VyY2VbcF07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cblxuLy8gSm9pbiBhcnJheSBvZiBjaHVua3MgdG8gc2luZ2xlIGFycmF5LlxudmFyIGZsYXR0ZW5DaHVua3MgPSAoY2h1bmtzKSA9PiB7XG4gIC8vIGNhbGN1bGF0ZSBkYXRhIGxlbmd0aFxuICBsZXQgbGVuID0gMDtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGNodW5rcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBsZW4gKz0gY2h1bmtzW2ldLmxlbmd0aDtcbiAgfVxuXG4gIC8vIGpvaW4gY2h1bmtzXG4gIGNvbnN0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGxlbik7XG5cbiAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IDAsIGwgPSBjaHVua3MubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgbGV0IGNodW5rID0gY2h1bmtzW2ldO1xuICAgIHJlc3VsdC5zZXQoY2h1bmssIHBvcyk7XG4gICAgcG9zICs9IGNodW5rLmxlbmd0aDtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgY29tbW9uID0ge1xuXHRhc3NpZ246IGFzc2lnbixcblx0ZmxhdHRlbkNodW5rczogZmxhdHRlbkNodW5rc1xufTtcblxuLy8gU3RyaW5nIGVuY29kZS9kZWNvZGUgaGVscGVyc1xuXG5cbi8vIFF1aWNrIGNoZWNrIGlmIHdlIGNhbiB1c2UgZmFzdCBhcnJheSB0byBiaW4gc3RyaW5nIGNvbnZlcnNpb25cbi8vXG4vLyAtIGFwcGx5KEFycmF5KSBjYW4gZmFpbCBvbiBBbmRyb2lkIDIuMlxuLy8gLSBhcHBseShVaW50OEFycmF5KSBjYW4gZmFpbCBvbiBpT1MgNS4xIFNhZmFyaVxuLy9cbmxldCBTVFJfQVBQTFlfVUlBX09LID0gdHJ1ZTtcblxudHJ5IHsgU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheSgxKSk7IH0gY2F0Y2ggKF9fKSB7IFNUUl9BUFBMWV9VSUFfT0sgPSBmYWxzZTsgfVxuXG5cbi8vIFRhYmxlIHdpdGggdXRmOCBsZW5ndGhzIChjYWxjdWxhdGVkIGJ5IGZpcnN0IGJ5dGUgb2Ygc2VxdWVuY2UpXG4vLyBOb3RlLCB0aGF0IDUgJiA2LWJ5dGUgdmFsdWVzIGFuZCBzb21lIDQtYnl0ZSB2YWx1ZXMgY2FuIG5vdCBiZSByZXByZXNlbnRlZCBpbiBKUyxcbi8vIGJlY2F1c2UgbWF4IHBvc3NpYmxlIGNvZGVwb2ludCBpcyAweDEwZmZmZlxuY29uc3QgX3V0ZjhsZW4gPSBuZXcgVWludDhBcnJheSgyNTYpO1xuZm9yIChsZXQgcSA9IDA7IHEgPCAyNTY7IHErKykge1xuICBfdXRmOGxlbltxXSA9IChxID49IDI1MiA/IDYgOiBxID49IDI0OCA/IDUgOiBxID49IDI0MCA/IDQgOiBxID49IDIyNCA/IDMgOiBxID49IDE5MiA/IDIgOiAxKTtcbn1cbl91dGY4bGVuWzI1NF0gPSBfdXRmOGxlblsyNTRdID0gMTsgLy8gSW52YWxpZCBzZXF1ZW5jZSBzdGFydFxuXG5cbi8vIGNvbnZlcnQgc3RyaW5nIHRvIGFycmF5ICh0eXBlZCwgd2hlbiBwb3NzaWJsZSlcbnZhciBzdHJpbmcyYnVmID0gKHN0cikgPT4ge1xuICBpZiAodHlwZW9mIFRleHRFbmNvZGVyID09PSAnZnVuY3Rpb24nICYmIFRleHRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGUpIHtcbiAgICByZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHN0cik7XG4gIH1cblxuICBsZXQgYnVmLCBjLCBjMiwgbV9wb3MsIGksIHN0cl9sZW4gPSBzdHIubGVuZ3RoLCBidWZfbGVuID0gMDtcblxuICAvLyBjb3VudCBiaW5hcnkgc2l6ZVxuICBmb3IgKG1fcG9zID0gMDsgbV9wb3MgPCBzdHJfbGVuOyBtX3BvcysrKSB7XG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KG1fcG9zKTtcbiAgICBpZiAoKGMgJiAweGZjMDApID09PSAweGQ4MDAgJiYgKG1fcG9zICsgMSA8IHN0cl9sZW4pKSB7XG4gICAgICBjMiA9IHN0ci5jaGFyQ29kZUF0KG1fcG9zICsgMSk7XG4gICAgICBpZiAoKGMyICYgMHhmYzAwKSA9PT0gMHhkYzAwKSB7XG4gICAgICAgIGMgPSAweDEwMDAwICsgKChjIC0gMHhkODAwKSA8PCAxMCkgKyAoYzIgLSAweGRjMDApO1xuICAgICAgICBtX3BvcysrO1xuICAgICAgfVxuICAgIH1cbiAgICBidWZfbGVuICs9IGMgPCAweDgwID8gMSA6IGMgPCAweDgwMCA/IDIgOiBjIDwgMHgxMDAwMCA/IDMgOiA0O1xuICB9XG5cbiAgLy8gYWxsb2NhdGUgYnVmZmVyXG4gIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGJ1Zl9sZW4pO1xuXG4gIC8vIGNvbnZlcnRcbiAgZm9yIChpID0gMCwgbV9wb3MgPSAwOyBpIDwgYnVmX2xlbjsgbV9wb3MrKykge1xuICAgIGMgPSBzdHIuY2hhckNvZGVBdChtX3Bvcyk7XG4gICAgaWYgKChjICYgMHhmYzAwKSA9PT0gMHhkODAwICYmIChtX3BvcyArIDEgPCBzdHJfbGVuKSkge1xuICAgICAgYzIgPSBzdHIuY2hhckNvZGVBdChtX3BvcyArIDEpO1xuICAgICAgaWYgKChjMiAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xuICAgICAgICBjID0gMHgxMDAwMCArICgoYyAtIDB4ZDgwMCkgPDwgMTApICsgKGMyIC0gMHhkYzAwKTtcbiAgICAgICAgbV9wb3MrKztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAvKiBvbmUgYnl0ZSAqL1xuICAgICAgYnVmW2krK10gPSBjO1xuICAgIH0gZWxzZSBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAvKiB0d28gYnl0ZXMgKi9cbiAgICAgIGJ1ZltpKytdID0gMHhDMCB8IChjID4+PiA2KTtcbiAgICAgIGJ1ZltpKytdID0gMHg4MCB8IChjICYgMHgzZik7XG4gICAgfSBlbHNlIGlmIChjIDwgMHgxMDAwMCkge1xuICAgICAgLyogdGhyZWUgYnl0ZXMgKi9cbiAgICAgIGJ1ZltpKytdID0gMHhFMCB8IChjID4+PiAxMik7XG4gICAgICBidWZbaSsrXSA9IDB4ODAgfCAoYyA+Pj4gNiAmIDB4M2YpO1xuICAgICAgYnVmW2krK10gPSAweDgwIHwgKGMgJiAweDNmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyogZm91ciBieXRlcyAqL1xuICAgICAgYnVmW2krK10gPSAweGYwIHwgKGMgPj4+IDE4KTtcbiAgICAgIGJ1ZltpKytdID0gMHg4MCB8IChjID4+PiAxMiAmIDB4M2YpO1xuICAgICAgYnVmW2krK10gPSAweDgwIHwgKGMgPj4+IDYgJiAweDNmKTtcbiAgICAgIGJ1ZltpKytdID0gMHg4MCB8IChjICYgMHgzZik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1Zjtcbn07XG5cbi8vIEhlbHBlclxuY29uc3QgYnVmMmJpbnN0cmluZyA9IChidWYsIGxlbikgPT4ge1xuICAvLyBPbiBDaHJvbWUsIHRoZSBhcmd1bWVudHMgaW4gYSBmdW5jdGlvbiBjYWxsIHRoYXQgYXJlIGFsbG93ZWQgaXMgYDY1NTM0YC5cbiAgLy8gSWYgdGhlIGxlbmd0aCBvZiB0aGUgYnVmZmVyIGlzIHNtYWxsZXIgdGhhbiB0aGF0LCB3ZSBjYW4gdXNlIHRoaXMgb3B0aW1pemF0aW9uLFxuICAvLyBvdGhlcndpc2Ugd2Ugd2lsbCB0YWtlIGEgc2xvd2VyIHBhdGguXG4gIGlmIChsZW4gPCA2NTUzNCkge1xuICAgIGlmIChidWYuc3ViYXJyYXkgJiYgU1RSX0FQUExZX1VJQV9PSykge1xuICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgYnVmLmxlbmd0aCA9PT0gbGVuID8gYnVmIDogYnVmLnN1YmFycmF5KDAsIGxlbikpO1xuICAgIH1cbiAgfVxuXG4gIGxldCByZXN1bHQgPSAnJztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLy8gY29udmVydCBhcnJheSB0byBzdHJpbmdcbnZhciBidWYyc3RyaW5nID0gKGJ1ZiwgbWF4KSA9PiB7XG4gIGNvbnN0IGxlbiA9IG1heCB8fCBidWYubGVuZ3RoO1xuXG4gIGlmICh0eXBlb2YgVGV4dERlY29kZXIgPT09ICdmdW5jdGlvbicgJiYgVGV4dERlY29kZXIucHJvdG90eXBlLmRlY29kZSkge1xuICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoYnVmLnN1YmFycmF5KDAsIG1heCkpO1xuICB9XG5cbiAgbGV0IGksIG91dDtcblxuICAvLyBSZXNlcnZlIG1heCBwb3NzaWJsZSBsZW5ndGggKDIgd29yZHMgcGVyIGNoYXIpXG4gIC8vIE5COiBieSB1bmtub3duIHJlYXNvbnMsIEFycmF5IGlzIHNpZ25pZmljYW50bHkgZmFzdGVyIGZvclxuICAvLyAgICAgU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseSB0aGFuIFVpbnQxNkFycmF5LlxuICBjb25zdCB1dGYxNmJ1ZiA9IG5ldyBBcnJheShsZW4gKiAyKTtcblxuICBmb3IgKG91dCA9IDAsIGkgPSAwOyBpIDwgbGVuOykge1xuICAgIGxldCBjID0gYnVmW2krK107XG4gICAgLy8gcXVpY2sgcHJvY2VzcyBhc2NpaVxuICAgIGlmIChjIDwgMHg4MCkgeyB1dGYxNmJ1ZltvdXQrK10gPSBjOyBjb250aW51ZTsgfVxuXG4gICAgbGV0IGNfbGVuID0gX3V0ZjhsZW5bY107XG4gICAgLy8gc2tpcCA1ICYgNiBieXRlIGNvZGVzXG4gICAgaWYgKGNfbGVuID4gNCkgeyB1dGYxNmJ1ZltvdXQrK10gPSAweGZmZmQ7IGkgKz0gY19sZW4gLSAxOyBjb250aW51ZTsgfVxuXG4gICAgLy8gYXBwbHkgbWFzayBvbiBmaXJzdCBieXRlXG4gICAgYyAmPSBjX2xlbiA9PT0gMiA/IDB4MWYgOiBjX2xlbiA9PT0gMyA/IDB4MGYgOiAweDA3O1xuICAgIC8vIGpvaW4gdGhlIHJlc3RcbiAgICB3aGlsZSAoY19sZW4gPiAxICYmIGkgPCBsZW4pIHtcbiAgICAgIGMgPSAoYyA8PCA2KSB8IChidWZbaSsrXSAmIDB4M2YpO1xuICAgICAgY19sZW4tLTtcbiAgICB9XG5cbiAgICAvLyB0ZXJtaW5hdGVkIGJ5IGVuZCBvZiBzdHJpbmc/XG4gICAgaWYgKGNfbGVuID4gMSkgeyB1dGYxNmJ1ZltvdXQrK10gPSAweGZmZmQ7IGNvbnRpbnVlOyB9XG5cbiAgICBpZiAoYyA8IDB4MTAwMDApIHtcbiAgICAgIHV0ZjE2YnVmW291dCsrXSA9IGM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGMgLT0gMHgxMDAwMDtcbiAgICAgIHV0ZjE2YnVmW291dCsrXSA9IDB4ZDgwMCB8ICgoYyA+PiAxMCkgJiAweDNmZik7XG4gICAgICB1dGYxNmJ1ZltvdXQrK10gPSAweGRjMDAgfCAoYyAmIDB4M2ZmKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmMmJpbnN0cmluZyh1dGYxNmJ1Ziwgb3V0KTtcbn07XG5cblxuLy8gQ2FsY3VsYXRlIG1heCBwb3NzaWJsZSBwb3NpdGlvbiBpbiB1dGY4IGJ1ZmZlcixcbi8vIHRoYXQgd2lsbCBub3QgYnJlYWsgc2VxdWVuY2UuIElmIHRoYXQncyBub3QgcG9zc2libGVcbi8vIC0gKHZlcnkgc21hbGwgbGltaXRzKSByZXR1cm4gbWF4IHNpemUgYXMgaXMuXG4vL1xuLy8gYnVmW10gLSB1dGY4IGJ5dGVzIGFycmF5XG4vLyBtYXggICAtIGxlbmd0aCBsaW1pdCAobWFuZGF0b3J5KTtcbnZhciB1dGY4Ym9yZGVyID0gKGJ1ZiwgbWF4KSA9PiB7XG5cbiAgbWF4ID0gbWF4IHx8IGJ1Zi5sZW5ndGg7XG4gIGlmIChtYXggPiBidWYubGVuZ3RoKSB7IG1heCA9IGJ1Zi5sZW5ndGg7IH1cblxuICAvLyBnbyBiYWNrIGZyb20gbGFzdCBwb3NpdGlvbiwgdW50aWwgc3RhcnQgb2Ygc2VxdWVuY2UgZm91bmRcbiAgbGV0IHBvcyA9IG1heCAtIDE7XG4gIHdoaWxlIChwb3MgPj0gMCAmJiAoYnVmW3Bvc10gJiAweEMwKSA9PT0gMHg4MCkgeyBwb3MtLTsgfVxuXG4gIC8vIFZlcnkgc21hbGwgYW5kIGJyb2tlbiBzZXF1ZW5jZSxcbiAgLy8gcmV0dXJuIG1heCwgYmVjYXVzZSB3ZSBzaG91bGQgcmV0dXJuIHNvbWV0aGluZyBhbnl3YXkuXG4gIGlmIChwb3MgPCAwKSB7IHJldHVybiBtYXg7IH1cblxuICAvLyBJZiB3ZSBjYW1lIHRvIHN0YXJ0IG9mIGJ1ZmZlciAtIHRoYXQgbWVhbnMgYnVmZmVyIGlzIHRvbyBzbWFsbCxcbiAgLy8gcmV0dXJuIG1heCB0b28uXG4gIGlmIChwb3MgPT09IDApIHsgcmV0dXJuIG1heDsgfVxuXG4gIHJldHVybiAocG9zICsgX3V0ZjhsZW5bYnVmW3Bvc11dID4gbWF4KSA/IHBvcyA6IG1heDtcbn07XG5cbnZhciBzdHJpbmdzID0ge1xuXHRzdHJpbmcyYnVmOiBzdHJpbmcyYnVmLFxuXHRidWYyc3RyaW5nOiBidWYyc3RyaW5nLFxuXHR1dGY4Ym9yZGVyOiB1dGY4Ym9yZGVyXG59O1xuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbmZ1bmN0aW9uIFpTdHJlYW0oKSB7XG4gIC8qIG5leHQgaW5wdXQgYnl0ZSAqL1xuICB0aGlzLmlucHV0ID0gbnVsbDsgLy8gSlMgc3BlY2lmaWMsIGJlY2F1c2Ugd2UgaGF2ZSBubyBwb2ludGVyc1xuICB0aGlzLm5leHRfaW4gPSAwO1xuICAvKiBudW1iZXIgb2YgYnl0ZXMgYXZhaWxhYmxlIGF0IGlucHV0ICovXG4gIHRoaXMuYXZhaWxfaW4gPSAwO1xuICAvKiB0b3RhbCBudW1iZXIgb2YgaW5wdXQgYnl0ZXMgcmVhZCBzbyBmYXIgKi9cbiAgdGhpcy50b3RhbF9pbiA9IDA7XG4gIC8qIG5leHQgb3V0cHV0IGJ5dGUgc2hvdWxkIGJlIHB1dCB0aGVyZSAqL1xuICB0aGlzLm91dHB1dCA9IG51bGw7IC8vIEpTIHNwZWNpZmljLCBiZWNhdXNlIHdlIGhhdmUgbm8gcG9pbnRlcnNcbiAgdGhpcy5uZXh0X291dCA9IDA7XG4gIC8qIHJlbWFpbmluZyBmcmVlIHNwYWNlIGF0IG91dHB1dCAqL1xuICB0aGlzLmF2YWlsX291dCA9IDA7XG4gIC8qIHRvdGFsIG51bWJlciBvZiBieXRlcyBvdXRwdXQgc28gZmFyICovXG4gIHRoaXMudG90YWxfb3V0ID0gMDtcbiAgLyogbGFzdCBlcnJvciBtZXNzYWdlLCBOVUxMIGlmIG5vIGVycm9yICovXG4gIHRoaXMubXNnID0gJycvKlpfTlVMTCovO1xuICAvKiBub3QgdmlzaWJsZSBieSBhcHBsaWNhdGlvbnMgKi9cbiAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gIC8qIGJlc3QgZ3Vlc3MgYWJvdXQgdGhlIGRhdGEgdHlwZTogYmluYXJ5IG9yIHRleHQgKi9cbiAgdGhpcy5kYXRhX3R5cGUgPSAyLypaX1VOS05PV04qLztcbiAgLyogYWRsZXIzMiB2YWx1ZSBvZiB0aGUgdW5jb21wcmVzc2VkIGRhdGEgKi9cbiAgdGhpcy5hZGxlciA9IDA7XG59XG5cbnZhciB6c3RyZWFtID0gWlN0cmVhbTtcblxuY29uc3QgdG9TdHJpbmckMSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qIFB1YmxpYyBjb25zdGFudHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5jb25zdCB7XG4gIFpfTk9fRkxVU0g6IFpfTk9fRkxVU0gkMSwgWl9TWU5DX0ZMVVNILCBaX0ZVTExfRkxVU0gsIFpfRklOSVNIOiBaX0ZJTklTSCQyLFxuICBaX09LOiBaX09LJDIsIFpfU1RSRUFNX0VORDogWl9TVFJFQU1fRU5EJDIsXG4gIFpfREVGQVVMVF9DT01QUkVTU0lPTixcbiAgWl9ERUZBVUxUX1NUUkFURUdZLFxuICBaX0RFRkxBVEVEOiBaX0RFRkxBVEVEJDFcbn0gPSBjb25zdGFudHMkMjtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG4vKipcbiAqIGNsYXNzIERlZmxhdGVcbiAqXG4gKiBHZW5lcmljIEpTLXN0eWxlIHdyYXBwZXIgZm9yIHpsaWIgY2FsbHMuIElmIHlvdSBkb24ndCBuZWVkXG4gKiBzdHJlYW1pbmcgYmVoYXZpb3VyIC0gdXNlIG1vcmUgc2ltcGxlIGZ1bmN0aW9uczogW1tkZWZsYXRlXV0sXG4gKiBbW2RlZmxhdGVSYXddXSBhbmQgW1tnemlwXV0uXG4gKiovXG5cbi8qIGludGVybmFsXG4gKiBEZWZsYXRlLmNodW5rcyAtPiBBcnJheVxuICpcbiAqIENodW5rcyBvZiBvdXRwdXQgZGF0YSwgaWYgW1tEZWZsYXRlI29uRGF0YV1dIG5vdCBvdmVycmlkZGVuLlxuICoqL1xuXG4vKipcbiAqIERlZmxhdGUucmVzdWx0IC0+IFVpbnQ4QXJyYXlcbiAqXG4gKiBDb21wcmVzc2VkIHJlc3VsdCwgZ2VuZXJhdGVkIGJ5IGRlZmF1bHQgW1tEZWZsYXRlI29uRGF0YV1dXG4gKiBhbmQgW1tEZWZsYXRlI29uRW5kXV0gaGFuZGxlcnMuIEZpbGxlZCBhZnRlciB5b3UgcHVzaCBsYXN0IGNodW5rXG4gKiAoY2FsbCBbW0RlZmxhdGUjcHVzaF1dIHdpdGggYFpfRklOSVNIYCAvIGB0cnVlYCBwYXJhbSkuXG4gKiovXG5cbi8qKlxuICogRGVmbGF0ZS5lcnIgLT4gTnVtYmVyXG4gKlxuICogRXJyb3IgY29kZSBhZnRlciBkZWZsYXRlIGZpbmlzaGVkLiAwIChaX09LKSBvbiBzdWNjZXNzLlxuICogWW91IHdpbGwgbm90IG5lZWQgaXQgaW4gcmVhbCBsaWZlLCBiZWNhdXNlIGRlZmxhdGUgZXJyb3JzXG4gKiBhcmUgcG9zc2libGUgb25seSBvbiB3cm9uZyBvcHRpb25zIG9yIGJhZCBgb25EYXRhYCAvIGBvbkVuZGBcbiAqIGN1c3RvbSBoYW5kbGVycy5cbiAqKi9cblxuLyoqXG4gKiBEZWZsYXRlLm1zZyAtPiBTdHJpbmdcbiAqXG4gKiBFcnJvciBtZXNzYWdlLCBpZiBbW0RlZmxhdGUuZXJyXV0gIT0gMFxuICoqL1xuXG5cbi8qKlxuICogbmV3IERlZmxhdGUob3B0aW9ucylcbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBkZWZsYXRlIG9wdGlvbnMuXG4gKlxuICogQ3JlYXRlcyBuZXcgZGVmbGF0b3IgaW5zdGFuY2Ugd2l0aCBzcGVjaWZpZWQgcGFyYW1zLiBUaHJvd3MgZXhjZXB0aW9uXG4gKiBvbiBiYWQgcGFyYW1zLiBTdXBwb3J0ZWQgb3B0aW9uczpcbiAqXG4gKiAtIGBsZXZlbGBcbiAqIC0gYHdpbmRvd0JpdHNgXG4gKiAtIGBtZW1MZXZlbGBcbiAqIC0gYHN0cmF0ZWd5YFxuICogLSBgZGljdGlvbmFyeWBcbiAqXG4gKiBbaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkXShodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWQpXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiB0aGVzZS5cbiAqXG4gKiBBZGRpdGlvbmFsIG9wdGlvbnMsIGZvciBpbnRlcm5hbCBuZWVkczpcbiAqXG4gKiAtIGBjaHVua1NpemVgIC0gc2l6ZSBvZiBnZW5lcmF0ZWQgZGF0YSBjaHVua3MgKDE2SyBieSBkZWZhdWx0KVxuICogLSBgcmF3YCAoQm9vbGVhbikgLSBkbyByYXcgZGVmbGF0ZVxuICogLSBgZ3ppcGAgKEJvb2xlYW4pIC0gY3JlYXRlIGd6aXAgd3JhcHBlclxuICogLSBgaGVhZGVyYCAoT2JqZWN0KSAtIGN1c3RvbSBoZWFkZXIgZm9yIGd6aXBcbiAqICAgLSBgdGV4dGAgKEJvb2xlYW4pIC0gdHJ1ZSBpZiBjb21wcmVzc2VkIGRhdGEgYmVsaWV2ZWQgdG8gYmUgdGV4dFxuICogICAtIGB0aW1lYCAoTnVtYmVyKSAtIG1vZGlmaWNhdGlvbiB0aW1lLCB1bml4IHRpbWVzdGFtcFxuICogICAtIGBvc2AgKE51bWJlcikgLSBvcGVyYXRpb24gc3lzdGVtIGNvZGVcbiAqICAgLSBgZXh0cmFgIChBcnJheSkgLSBhcnJheSBvZiBieXRlcyB3aXRoIGV4dHJhIGRhdGEgKG1heCA2NTUzNilcbiAqICAgLSBgbmFtZWAgKFN0cmluZykgLSBmaWxlIG5hbWUgKGJpbmFyeSBzdHJpbmcpXG4gKiAgIC0gYGNvbW1lbnRgIChTdHJpbmcpIC0gY29tbWVudCAoYmluYXJ5IHN0cmluZylcbiAqICAgLSBgaGNyY2AgKEJvb2xlYW4pIC0gdHJ1ZSBpZiBoZWFkZXIgY3JjIHNob3VsZCBiZSBhZGRlZFxuICpcbiAqICMjIyMjIEV4YW1wbGU6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgcGFrbyA9IHJlcXVpcmUoJ3Bha28nKVxuICogICAsIGNodW5rMSA9IG5ldyBVaW50OEFycmF5KFsxLDIsMyw0LDUsNiw3LDgsOV0pXG4gKiAgICwgY2h1bmsyID0gbmV3IFVpbnQ4QXJyYXkoWzEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5XSk7XG4gKlxuICogY29uc3QgZGVmbGF0ZSA9IG5ldyBwYWtvLkRlZmxhdGUoeyBsZXZlbDogM30pO1xuICpcbiAqIGRlZmxhdGUucHVzaChjaHVuazEsIGZhbHNlKTtcbiAqIGRlZmxhdGUucHVzaChjaHVuazIsIHRydWUpOyAgLy8gdHJ1ZSAtPiBsYXN0IGNodW5rXG4gKlxuICogaWYgKGRlZmxhdGUuZXJyKSB7IHRocm93IG5ldyBFcnJvcihkZWZsYXRlLmVycik7IH1cbiAqXG4gKiBjb25zb2xlLmxvZyhkZWZsYXRlLnJlc3VsdCk7XG4gKiBgYGBcbiAqKi9cbmZ1bmN0aW9uIERlZmxhdGUkMShvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IGNvbW1vbi5hc3NpZ24oe1xuICAgIGxldmVsOiBaX0RFRkFVTFRfQ09NUFJFU1NJT04sXG4gICAgbWV0aG9kOiBaX0RFRkxBVEVEJDEsXG4gICAgY2h1bmtTaXplOiAxNjM4NCxcbiAgICB3aW5kb3dCaXRzOiAxNSxcbiAgICBtZW1MZXZlbDogOCxcbiAgICBzdHJhdGVneTogWl9ERUZBVUxUX1NUUkFURUdZXG4gIH0sIG9wdGlvbnMgfHwge30pO1xuXG4gIGxldCBvcHQgPSB0aGlzLm9wdGlvbnM7XG5cbiAgaWYgKG9wdC5yYXcgJiYgKG9wdC53aW5kb3dCaXRzID4gMCkpIHtcbiAgICBvcHQud2luZG93Qml0cyA9IC1vcHQud2luZG93Qml0cztcbiAgfVxuXG4gIGVsc2UgaWYgKG9wdC5nemlwICYmIChvcHQud2luZG93Qml0cyA+IDApICYmIChvcHQud2luZG93Qml0cyA8IDE2KSkge1xuICAgIG9wdC53aW5kb3dCaXRzICs9IDE2O1xuICB9XG5cbiAgdGhpcy5lcnIgICAgPSAwOyAgICAgIC8vIGVycm9yIGNvZGUsIGlmIGhhcHBlbnMgKDAgPSBaX09LKVxuICB0aGlzLm1zZyAgICA9ICcnOyAgICAgLy8gZXJyb3IgbWVzc2FnZVxuICB0aGlzLmVuZGVkICA9IGZhbHNlOyAgLy8gdXNlZCB0byBhdm9pZCBtdWx0aXBsZSBvbkVuZCgpIGNhbGxzXG4gIHRoaXMuY2h1bmtzID0gW107ICAgICAvLyBjaHVua3Mgb2YgY29tcHJlc3NlZCBkYXRhXG5cbiAgdGhpcy5zdHJtID0gbmV3IHpzdHJlYW0oKTtcbiAgdGhpcy5zdHJtLmF2YWlsX291dCA9IDA7XG5cbiAgbGV0IHN0YXR1cyA9IGRlZmxhdGVfMSQyLmRlZmxhdGVJbml0MihcbiAgICB0aGlzLnN0cm0sXG4gICAgb3B0LmxldmVsLFxuICAgIG9wdC5tZXRob2QsXG4gICAgb3B0LndpbmRvd0JpdHMsXG4gICAgb3B0Lm1lbUxldmVsLFxuICAgIG9wdC5zdHJhdGVneVxuICApO1xuXG4gIGlmIChzdGF0dXMgIT09IFpfT0skMikge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlc1tzdGF0dXNdKTtcbiAgfVxuXG4gIGlmIChvcHQuaGVhZGVyKSB7XG4gICAgZGVmbGF0ZV8xJDIuZGVmbGF0ZVNldEhlYWRlcih0aGlzLnN0cm0sIG9wdC5oZWFkZXIpO1xuICB9XG5cbiAgaWYgKG9wdC5kaWN0aW9uYXJ5KSB7XG4gICAgbGV0IGRpY3Q7XG4gICAgLy8gQ29udmVydCBkYXRhIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2Ygb3B0LmRpY3Rpb25hcnkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBJZiB3ZSBuZWVkIHRvIGNvbXByZXNzIHRleHQsIGNoYW5nZSBlbmNvZGluZyB0byB1dGY4LlxuICAgICAgZGljdCA9IHN0cmluZ3Muc3RyaW5nMmJ1ZihvcHQuZGljdGlvbmFyeSk7XG4gICAgfSBlbHNlIGlmICh0b1N0cmluZyQxLmNhbGwob3B0LmRpY3Rpb25hcnkpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKSB7XG4gICAgICBkaWN0ID0gbmV3IFVpbnQ4QXJyYXkob3B0LmRpY3Rpb25hcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaWN0ID0gb3B0LmRpY3Rpb25hcnk7XG4gICAgfVxuXG4gICAgc3RhdHVzID0gZGVmbGF0ZV8xJDIuZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLCBkaWN0KTtcblxuICAgIGlmIChzdGF0dXMgIT09IFpfT0skMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2VzW3N0YXR1c10pO1xuICAgIH1cblxuICAgIHRoaXMuX2RpY3Rfc2V0ID0gdHJ1ZTtcbiAgfVxufVxuXG4vKipcbiAqIERlZmxhdGUjcHVzaChkYXRhWywgZmx1c2hfbW9kZV0pIC0+IEJvb2xlYW5cbiAqIC0gZGF0YSAoVWludDhBcnJheXxBcnJheUJ1ZmZlcnxTdHJpbmcpOiBpbnB1dCBkYXRhLiBTdHJpbmdzIHdpbGwgYmVcbiAqICAgY29udmVydGVkIHRvIHV0ZjggYnl0ZSBzZXF1ZW5jZS5cbiAqIC0gZmx1c2hfbW9kZSAoTnVtYmVyfEJvb2xlYW4pOiAwLi42IGZvciBjb3JyZXNwb25kaW5nIFpfTk9fRkxVU0guLlpfVFJFRSBtb2Rlcy5cbiAqICAgU2VlIGNvbnN0YW50cy4gU2tpcHBlZCBvciBgZmFsc2VgIG1lYW5zIFpfTk9fRkxVU0gsIGB0cnVlYCBtZWFucyBaX0ZJTklTSC5cbiAqXG4gKiBTZW5kcyBpbnB1dCBkYXRhIHRvIGRlZmxhdGUgcGlwZSwgZ2VuZXJhdGluZyBbW0RlZmxhdGUjb25EYXRhXV0gY2FsbHMgd2l0aFxuICogbmV3IGNvbXByZXNzZWQgY2h1bmtzLiBSZXR1cm5zIGB0cnVlYCBvbiBzdWNjZXNzLiBUaGUgbGFzdCBkYXRhIGJsb2NrIG11c3RcbiAqIGhhdmUgYGZsdXNoX21vZGVgIFpfRklOSVNIIChvciBgdHJ1ZWApLiBUaGF0IHdpbGwgZmx1c2ggaW50ZXJuYWwgcGVuZGluZ1xuICogYnVmZmVycyBhbmQgY2FsbCBbW0RlZmxhdGUjb25FbmRdXS5cbiAqXG4gKiBPbiBmYWlsIGNhbGwgW1tEZWZsYXRlI29uRW5kXV0gd2l0aCBlcnJvciBjb2RlIGFuZCByZXR1cm4gZmFsc2UuXG4gKlxuICogIyMjIyMgRXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIHB1c2goY2h1bmssIGZhbHNlKTsgLy8gcHVzaCBvbmUgb2YgZGF0YSBjaHVua3NcbiAqIC4uLlxuICogcHVzaChjaHVuaywgdHJ1ZSk7ICAvLyBwdXNoIGxhc3QgY2h1bmtcbiAqIGBgYFxuICoqL1xuRGVmbGF0ZSQxLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGRhdGEsIGZsdXNoX21vZGUpIHtcbiAgY29uc3Qgc3RybSA9IHRoaXMuc3RybTtcbiAgY29uc3QgY2h1bmtTaXplID0gdGhpcy5vcHRpb25zLmNodW5rU2l6ZTtcbiAgbGV0IHN0YXR1cywgX2ZsdXNoX21vZGU7XG5cbiAgaWYgKHRoaXMuZW5kZWQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgaWYgKGZsdXNoX21vZGUgPT09IH5+Zmx1c2hfbW9kZSkgX2ZsdXNoX21vZGUgPSBmbHVzaF9tb2RlO1xuICBlbHNlIF9mbHVzaF9tb2RlID0gZmx1c2hfbW9kZSA9PT0gdHJ1ZSA/IFpfRklOSVNIJDIgOiBaX05PX0ZMVVNIJDE7XG5cbiAgLy8gQ29udmVydCBkYXRhIGlmIG5lZWRlZFxuICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gSWYgd2UgbmVlZCB0byBjb21wcmVzcyB0ZXh0LCBjaGFuZ2UgZW5jb2RpbmcgdG8gdXRmOC5cbiAgICBzdHJtLmlucHV0ID0gc3RyaW5ncy5zdHJpbmcyYnVmKGRhdGEpO1xuICB9IGVsc2UgaWYgKHRvU3RyaW5nJDEuY2FsbChkYXRhKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykge1xuICAgIHN0cm0uaW5wdXQgPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHJtLmlucHV0ID0gZGF0YTtcbiAgfVxuXG4gIHN0cm0ubmV4dF9pbiA9IDA7XG4gIHN0cm0uYXZhaWxfaW4gPSBzdHJtLmlucHV0Lmxlbmd0aDtcblxuICBmb3IgKDs7KSB7XG4gICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICBzdHJtLm91dHB1dCA9IG5ldyBVaW50OEFycmF5KGNodW5rU2l6ZSk7XG4gICAgICBzdHJtLm5leHRfb3V0ID0gMDtcbiAgICAgIHN0cm0uYXZhaWxfb3V0ID0gY2h1bmtTaXplO1xuICAgIH1cblxuICAgIC8vIE1ha2Ugc3VyZSBhdmFpbF9vdXQgPiA2IHRvIGF2b2lkIHJlcGVhdGluZyBtYXJrZXJzXG4gICAgaWYgKChfZmx1c2hfbW9kZSA9PT0gWl9TWU5DX0ZMVVNIIHx8IF9mbHVzaF9tb2RlID09PSBaX0ZVTExfRkxVU0gpICYmIHN0cm0uYXZhaWxfb3V0IDw9IDYpIHtcbiAgICAgIHRoaXMub25EYXRhKHN0cm0ub3V0cHV0LnN1YmFycmF5KDAsIHN0cm0ubmV4dF9vdXQpKTtcbiAgICAgIHN0cm0uYXZhaWxfb3V0ID0gMDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHN0YXR1cyA9IGRlZmxhdGVfMSQyLmRlZmxhdGUoc3RybSwgX2ZsdXNoX21vZGUpO1xuXG4gICAgLy8gRW5kZWQgPT4gZmx1c2ggYW5kIGZpbmlzaFxuICAgIGlmIChzdGF0dXMgPT09IFpfU1RSRUFNX0VORCQyKSB7XG4gICAgICBpZiAoc3RybS5uZXh0X291dCA+IDApIHtcbiAgICAgICAgdGhpcy5vbkRhdGEoc3RybS5vdXRwdXQuc3ViYXJyYXkoMCwgc3RybS5uZXh0X291dCkpO1xuICAgICAgfVxuICAgICAgc3RhdHVzID0gZGVmbGF0ZV8xJDIuZGVmbGF0ZUVuZCh0aGlzLnN0cm0pO1xuICAgICAgdGhpcy5vbkVuZChzdGF0dXMpO1xuICAgICAgdGhpcy5lbmRlZCA9IHRydWU7XG4gICAgICByZXR1cm4gc3RhdHVzID09PSBaX09LJDI7XG4gICAgfVxuXG4gICAgLy8gRmx1c2ggaWYgb3V0IGJ1ZmZlciBmdWxsXG4gICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICB0aGlzLm9uRGF0YShzdHJtLm91dHB1dCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBGbHVzaCBpZiByZXF1ZXN0ZWQgYW5kIGhhcyBkYXRhXG4gICAgaWYgKF9mbHVzaF9tb2RlID4gMCAmJiBzdHJtLm5leHRfb3V0ID4gMCkge1xuICAgICAgdGhpcy5vbkRhdGEoc3RybS5vdXRwdXQuc3ViYXJyYXkoMCwgc3RybS5uZXh0X291dCkpO1xuICAgICAgc3RybS5hdmFpbF9vdXQgPSAwO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHN0cm0uYXZhaWxfaW4gPT09IDApIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5cbi8qKlxuICogRGVmbGF0ZSNvbkRhdGEoY2h1bmspIC0+IFZvaWRcbiAqIC0gY2h1bmsgKFVpbnQ4QXJyYXkpOiBvdXRwdXQgZGF0YS5cbiAqXG4gKiBCeSBkZWZhdWx0LCBzdG9yZXMgZGF0YSBibG9ja3MgaW4gYGNodW5rc1tdYCBwcm9wZXJ0eSBhbmQgZ2x1ZVxuICogdGhvc2UgaW4gYG9uRW5kYC4gT3ZlcnJpZGUgdGhpcyBoYW5kbGVyLCBpZiB5b3UgbmVlZCBhbm90aGVyIGJlaGF2aW91ci5cbiAqKi9cbkRlZmxhdGUkMS5wcm90b3R5cGUub25EYXRhID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gIHRoaXMuY2h1bmtzLnB1c2goY2h1bmspO1xufTtcblxuXG4vKipcbiAqIERlZmxhdGUjb25FbmQoc3RhdHVzKSAtPiBWb2lkXG4gKiAtIHN0YXR1cyAoTnVtYmVyKTogZGVmbGF0ZSBzdGF0dXMuIDAgKFpfT0spIG9uIHN1Y2Nlc3MsXG4gKiAgIG90aGVyIGlmIG5vdC5cbiAqXG4gKiBDYWxsZWQgb25jZSBhZnRlciB5b3UgdGVsbCBkZWZsYXRlIHRoYXQgdGhlIGlucHV0IHN0cmVhbSBpc1xuICogY29tcGxldGUgKFpfRklOSVNIKS4gQnkgZGVmYXVsdCAtIGpvaW4gY29sbGVjdGVkIGNodW5rcyxcbiAqIGZyZWUgbWVtb3J5IGFuZCBmaWxsIGByZXN1bHRzYCAvIGBlcnJgIHByb3BlcnRpZXMuXG4gKiovXG5EZWZsYXRlJDEucHJvdG90eXBlLm9uRW5kID0gZnVuY3Rpb24gKHN0YXR1cykge1xuICAvLyBPbiBzdWNjZXNzIC0gam9pblxuICBpZiAoc3RhdHVzID09PSBaX09LJDIpIHtcbiAgICB0aGlzLnJlc3VsdCA9IGNvbW1vbi5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKTtcbiAgfVxuICB0aGlzLmNodW5rcyA9IFtdO1xuICB0aGlzLmVyciA9IHN0YXR1cztcbiAgdGhpcy5tc2cgPSB0aGlzLnN0cm0ubXNnO1xufTtcblxuXG4vKipcbiAqIGRlZmxhdGUoZGF0YVssIG9wdGlvbnNdKSAtPiBVaW50OEFycmF5XG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXJ8U3RyaW5nKTogaW5wdXQgZGF0YSB0byBjb21wcmVzcy5cbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBkZWZsYXRlIG9wdGlvbnMuXG4gKlxuICogQ29tcHJlc3MgYGRhdGFgIHdpdGggZGVmbGF0ZSBhbGdvcml0aG0gYW5kIGBvcHRpb25zYC5cbiAqXG4gKiBTdXBwb3J0ZWQgb3B0aW9ucyBhcmU6XG4gKlxuICogLSBsZXZlbFxuICogLSB3aW5kb3dCaXRzXG4gKiAtIG1lbUxldmVsXG4gKiAtIHN0cmF0ZWd5XG4gKiAtIGRpY3Rpb25hcnlcbiAqXG4gKiBbaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkXShodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWQpXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiB0aGVzZS5cbiAqXG4gKiBTdWdhciAob3B0aW9ucyk6XG4gKlxuICogLSBgcmF3YCAoQm9vbGVhbikgLSBzYXkgdGhhdCB3ZSB3b3JrIHdpdGggcmF3IHN0cmVhbSwgaWYgeW91IGRvbid0IHdpc2ggdG8gc3BlY2lmeVxuICogICBuZWdhdGl2ZSB3aW5kb3dCaXRzIGltcGxpY2l0bHkuXG4gKlxuICogIyMjIyMgRXhhbXBsZTpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBwYWtvID0gcmVxdWlyZSgncGFrbycpXG4gKiBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoWzEsMiwzLDQsNSw2LDcsOCw5XSk7XG4gKlxuICogY29uc29sZS5sb2cocGFrby5kZWZsYXRlKGRhdGEpKTtcbiAqIGBgYFxuICoqL1xuZnVuY3Rpb24gZGVmbGF0ZSQxKGlucHV0LCBvcHRpb25zKSB7XG4gIGNvbnN0IGRlZmxhdG9yID0gbmV3IERlZmxhdGUkMShvcHRpb25zKTtcblxuICBkZWZsYXRvci5wdXNoKGlucHV0LCB0cnVlKTtcblxuICAvLyBUaGF0IHdpbGwgbmV2ZXIgaGFwcGVucywgaWYgeW91IGRvbid0IGNoZWF0IHdpdGggb3B0aW9ucyA6KVxuICBpZiAoZGVmbGF0b3IuZXJyKSB7IHRocm93IGRlZmxhdG9yLm1zZyB8fCBtZXNzYWdlc1tkZWZsYXRvci5lcnJdOyB9XG5cbiAgcmV0dXJuIGRlZmxhdG9yLnJlc3VsdDtcbn1cblxuXG4vKipcbiAqIGRlZmxhdGVSYXcoZGF0YVssIG9wdGlvbnNdKSAtPiBVaW50OEFycmF5XG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXJ8U3RyaW5nKTogaW5wdXQgZGF0YSB0byBjb21wcmVzcy5cbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBkZWZsYXRlIG9wdGlvbnMuXG4gKlxuICogVGhlIHNhbWUgYXMgW1tkZWZsYXRlXV0sIGJ1dCBjcmVhdGVzIHJhdyBkYXRhLCB3aXRob3V0IHdyYXBwZXJcbiAqIChoZWFkZXIgYW5kIGFkbGVyMzIgY3JjKS5cbiAqKi9cbmZ1bmN0aW9uIGRlZmxhdGVSYXckMShpbnB1dCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5yYXcgPSB0cnVlO1xuICByZXR1cm4gZGVmbGF0ZSQxKGlucHV0LCBvcHRpb25zKTtcbn1cblxuXG4vKipcbiAqIGd6aXAoZGF0YVssIG9wdGlvbnNdKSAtPiBVaW50OEFycmF5XG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXJ8U3RyaW5nKTogaW5wdXQgZGF0YSB0byBjb21wcmVzcy5cbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBkZWZsYXRlIG9wdGlvbnMuXG4gKlxuICogVGhlIHNhbWUgYXMgW1tkZWZsYXRlXV0sIGJ1dCBjcmVhdGUgZ3ppcCB3cmFwcGVyIGluc3RlYWQgb2ZcbiAqIGRlZmxhdGUgb25lLlxuICoqL1xuZnVuY3Rpb24gZ3ppcCQxKGlucHV0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLmd6aXAgPSB0cnVlO1xuICByZXR1cm4gZGVmbGF0ZSQxKGlucHV0LCBvcHRpb25zKTtcbn1cblxuXG52YXIgRGVmbGF0ZV8xJDEgPSBEZWZsYXRlJDE7XG52YXIgZGVmbGF0ZV8yID0gZGVmbGF0ZSQxO1xudmFyIGRlZmxhdGVSYXdfMSQxID0gZGVmbGF0ZVJhdyQxO1xudmFyIGd6aXBfMSQxID0gZ3ppcCQxO1xudmFyIGNvbnN0YW50cyQxID0gY29uc3RhbnRzJDI7XG5cbnZhciBkZWZsYXRlXzEkMSA9IHtcblx0RGVmbGF0ZTogRGVmbGF0ZV8xJDEsXG5cdGRlZmxhdGU6IGRlZmxhdGVfMixcblx0ZGVmbGF0ZVJhdzogZGVmbGF0ZVJhd18xJDEsXG5cdGd6aXA6IGd6aXBfMSQxLFxuXHRjb25zdGFudHM6IGNvbnN0YW50cyQxXG59O1xuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbi8vIFNlZSBzdGF0ZSBkZWZzIGZyb20gaW5mbGF0ZS5qc1xuY29uc3QgQkFEJDEgPSAxNjIwOTsgICAgICAgLyogZ290IGEgZGF0YSBlcnJvciAtLSByZW1haW4gaGVyZSB1bnRpbCByZXNldCAqL1xuY29uc3QgVFlQRSQxID0gMTYxOTE7ICAgICAgLyogaTogd2FpdGluZyBmb3IgdHlwZSBiaXRzLCBpbmNsdWRpbmcgbGFzdC1mbGFnIGJpdCAqL1xuXG4vKlxuICAgRGVjb2RlIGxpdGVyYWwsIGxlbmd0aCwgYW5kIGRpc3RhbmNlIGNvZGVzIGFuZCB3cml0ZSBvdXQgdGhlIHJlc3VsdGluZ1xuICAgbGl0ZXJhbCBhbmQgbWF0Y2ggYnl0ZXMgdW50aWwgZWl0aGVyIG5vdCBlbm91Z2ggaW5wdXQgb3Igb3V0cHV0IGlzXG4gICBhdmFpbGFibGUsIGFuIGVuZC1vZi1ibG9jayBpcyBlbmNvdW50ZXJlZCwgb3IgYSBkYXRhIGVycm9yIGlzIGVuY291bnRlcmVkLlxuICAgV2hlbiBsYXJnZSBlbm91Z2ggaW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIGFyZSBzdXBwbGllZCB0byBpbmZsYXRlKCksIGZvclxuICAgZXhhbXBsZSwgYSAxNksgaW5wdXQgYnVmZmVyIGFuZCBhIDY0SyBvdXRwdXQgYnVmZmVyLCBtb3JlIHRoYW4gOTUlIG9mIHRoZVxuICAgaW5mbGF0ZSBleGVjdXRpb24gdGltZSBpcyBzcGVudCBpbiB0aGlzIHJvdXRpbmUuXG5cbiAgIEVudHJ5IGFzc3VtcHRpb25zOlxuXG4gICAgICAgIHN0YXRlLm1vZGUgPT09IExFTlxuICAgICAgICBzdHJtLmF2YWlsX2luID49IDZcbiAgICAgICAgc3RybS5hdmFpbF9vdXQgPj0gMjU4XG4gICAgICAgIHN0YXJ0ID49IHN0cm0uYXZhaWxfb3V0XG4gICAgICAgIHN0YXRlLmJpdHMgPCA4XG5cbiAgIE9uIHJldHVybiwgc3RhdGUubW9kZSBpcyBvbmUgb2Y6XG5cbiAgICAgICAgTEVOIC0tIHJhbiBvdXQgb2YgZW5vdWdoIG91dHB1dCBzcGFjZSBvciBlbm91Z2ggYXZhaWxhYmxlIGlucHV0XG4gICAgICAgIFRZUEUgLS0gcmVhY2hlZCBlbmQgb2YgYmxvY2sgY29kZSwgaW5mbGF0ZSgpIHRvIGludGVycHJldCBuZXh0IGJsb2NrXG4gICAgICAgIEJBRCAtLSBlcnJvciBpbiBibG9jayBkYXRhXG5cbiAgIE5vdGVzOlxuXG4gICAgLSBUaGUgbWF4aW11bSBpbnB1dCBiaXRzIHVzZWQgYnkgYSBsZW5ndGgvZGlzdGFuY2UgcGFpciBpcyAxNSBiaXRzIGZvciB0aGVcbiAgICAgIGxlbmd0aCBjb2RlLCA1IGJpdHMgZm9yIHRoZSBsZW5ndGggZXh0cmEsIDE1IGJpdHMgZm9yIHRoZSBkaXN0YW5jZSBjb2RlLFxuICAgICAgYW5kIDEzIGJpdHMgZm9yIHRoZSBkaXN0YW5jZSBleHRyYS4gIFRoaXMgdG90YWxzIDQ4IGJpdHMsIG9yIHNpeCBieXRlcy5cbiAgICAgIFRoZXJlZm9yZSBpZiBzdHJtLmF2YWlsX2luID49IDYsIHRoZW4gdGhlcmUgaXMgZW5vdWdoIGlucHV0IHRvIGF2b2lkXG4gICAgICBjaGVja2luZyBmb3IgYXZhaWxhYmxlIGlucHV0IHdoaWxlIGRlY29kaW5nLlxuXG4gICAgLSBUaGUgbWF4aW11bSBieXRlcyB0aGF0IGEgc2luZ2xlIGxlbmd0aC9kaXN0YW5jZSBwYWlyIGNhbiBvdXRwdXQgaXMgMjU4XG4gICAgICBieXRlcywgd2hpY2ggaXMgdGhlIG1heGltdW0gbGVuZ3RoIHRoYXQgY2FuIGJlIGNvZGVkLiAgaW5mbGF0ZV9mYXN0KClcbiAgICAgIHJlcXVpcmVzIHN0cm0uYXZhaWxfb3V0ID49IDI1OCBmb3IgZWFjaCBsb29wIHRvIGF2b2lkIGNoZWNraW5nIGZvclxuICAgICAgb3V0cHV0IHNwYWNlLlxuICovXG52YXIgaW5mZmFzdCA9IGZ1bmN0aW9uIGluZmxhdGVfZmFzdChzdHJtLCBzdGFydCkge1xuICBsZXQgX2luOyAgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5pbnB1dCAqL1xuICBsZXQgbGFzdDsgICAgICAgICAgICAgICAgICAgLyogaGF2ZSBlbm91Z2ggaW5wdXQgd2hpbGUgaW4gPCBsYXN0ICovXG4gIGxldCBfb3V0OyAgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLm91dHB1dCAqL1xuICBsZXQgYmVnOyAgICAgICAgICAgICAgICAgICAgLyogaW5mbGF0ZSgpJ3MgaW5pdGlhbCBzdHJtLm91dHB1dCAqL1xuICBsZXQgZW5kOyAgICAgICAgICAgICAgICAgICAgLyogd2hpbGUgb3V0IDwgZW5kLCBlbm91Z2ggc3BhY2UgYXZhaWxhYmxlICovXG4vLyNpZmRlZiBJTkZMQVRFX1NUUklDVFxuICBsZXQgZG1heDsgICAgICAgICAgICAgICAgICAgLyogbWF4aW11bSBkaXN0YW5jZSBmcm9tIHpsaWIgaGVhZGVyICovXG4vLyNlbmRpZlxuICBsZXQgd3NpemU7ICAgICAgICAgICAgICAgICAgLyogd2luZG93IHNpemUgb3IgemVybyBpZiBub3QgdXNpbmcgd2luZG93ICovXG4gIGxldCB3aGF2ZTsgICAgICAgICAgICAgICAgICAvKiB2YWxpZCBieXRlcyBpbiB0aGUgd2luZG93ICovXG4gIGxldCB3bmV4dDsgICAgICAgICAgICAgICAgICAvKiB3aW5kb3cgd3JpdGUgaW5kZXggKi9cbiAgLy8gVXNlIGBzX3dpbmRvd2AgaW5zdGVhZCBgd2luZG93YCwgYXZvaWQgY29uZmxpY3Qgd2l0aCBpbnN0cnVtZW50YXRpb24gdG9vbHNcbiAgbGV0IHNfd2luZG93OyAgICAgICAgICAgICAgIC8qIGFsbG9jYXRlZCBzbGlkaW5nIHdpbmRvdywgaWYgd3NpemUgIT0gMCAqL1xuICBsZXQgaG9sZDsgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5ob2xkICovXG4gIGxldCBiaXRzOyAgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLmJpdHMgKi9cbiAgbGV0IGxjb2RlOyAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0ubGVuY29kZSAqL1xuICBsZXQgZGNvZGU7ICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5kaXN0Y29kZSAqL1xuICBsZXQgbG1hc2s7ICAgICAgICAgICAgICAgICAgLyogbWFzayBmb3IgZmlyc3QgbGV2ZWwgb2YgbGVuZ3RoIGNvZGVzICovXG4gIGxldCBkbWFzazsgICAgICAgICAgICAgICAgICAvKiBtYXNrIGZvciBmaXJzdCBsZXZlbCBvZiBkaXN0YW5jZSBjb2RlcyAqL1xuICBsZXQgaGVyZTsgICAgICAgICAgICAgICAgICAgLyogcmV0cmlldmVkIHRhYmxlIGVudHJ5ICovXG4gIGxldCBvcDsgICAgICAgICAgICAgICAgICAgICAvKiBjb2RlIGJpdHMsIG9wZXJhdGlvbiwgZXh0cmEgYml0cywgb3IgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qICB3aW5kb3cgcG9zaXRpb24sIHdpbmRvdyBieXRlcyB0byBjb3B5ICovXG4gIGxldCBsZW47ICAgICAgICAgICAgICAgICAgICAvKiBtYXRjaCBsZW5ndGgsIHVudXNlZCBieXRlcyAqL1xuICBsZXQgZGlzdDsgICAgICAgICAgICAgICAgICAgLyogbWF0Y2ggZGlzdGFuY2UgKi9cbiAgbGV0IGZyb207ICAgICAgICAgICAgICAgICAgIC8qIHdoZXJlIHRvIGNvcHkgbWF0Y2ggZnJvbSAqL1xuICBsZXQgZnJvbV9zb3VyY2U7XG5cblxuICBsZXQgaW5wdXQsIG91dHB1dDsgLy8gSlMgc3BlY2lmaWMsIGJlY2F1c2Ugd2UgaGF2ZSBubyBwb2ludGVyc1xuXG4gIC8qIGNvcHkgc3RhdGUgdG8gbG9jYWwgdmFyaWFibGVzICovXG4gIGNvbnN0IHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgLy9oZXJlID0gc3RhdGUuaGVyZTtcbiAgX2luID0gc3RybS5uZXh0X2luO1xuICBpbnB1dCA9IHN0cm0uaW5wdXQ7XG4gIGxhc3QgPSBfaW4gKyAoc3RybS5hdmFpbF9pbiAtIDUpO1xuICBfb3V0ID0gc3RybS5uZXh0X291dDtcbiAgb3V0cHV0ID0gc3RybS5vdXRwdXQ7XG4gIGJlZyA9IF9vdXQgLSAoc3RhcnQgLSBzdHJtLmF2YWlsX291dCk7XG4gIGVuZCA9IF9vdXQgKyAoc3RybS5hdmFpbF9vdXQgLSAyNTcpO1xuLy8jaWZkZWYgSU5GTEFURV9TVFJJQ1RcbiAgZG1heCA9IHN0YXRlLmRtYXg7XG4vLyNlbmRpZlxuICB3c2l6ZSA9IHN0YXRlLndzaXplO1xuICB3aGF2ZSA9IHN0YXRlLndoYXZlO1xuICB3bmV4dCA9IHN0YXRlLnduZXh0O1xuICBzX3dpbmRvdyA9IHN0YXRlLndpbmRvdztcbiAgaG9sZCA9IHN0YXRlLmhvbGQ7XG4gIGJpdHMgPSBzdGF0ZS5iaXRzO1xuICBsY29kZSA9IHN0YXRlLmxlbmNvZGU7XG4gIGRjb2RlID0gc3RhdGUuZGlzdGNvZGU7XG4gIGxtYXNrID0gKDEgPDwgc3RhdGUubGVuYml0cykgLSAxO1xuICBkbWFzayA9ICgxIDw8IHN0YXRlLmRpc3RiaXRzKSAtIDE7XG5cblxuICAvKiBkZWNvZGUgbGl0ZXJhbHMgYW5kIGxlbmd0aC9kaXN0YW5jZXMgdW50aWwgZW5kLW9mLWJsb2NrIG9yIG5vdCBlbm91Z2hcbiAgICAgaW5wdXQgZGF0YSBvciBvdXRwdXQgc3BhY2UgKi9cblxuICB0b3A6XG4gIGRvIHtcbiAgICBpZiAoYml0cyA8IDE1KSB7XG4gICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgYml0cyArPSA4O1xuICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgIGJpdHMgKz0gODtcbiAgICB9XG5cbiAgICBoZXJlID0gbGNvZGVbaG9sZCAmIGxtYXNrXTtcblxuICAgIGRvbGVuOlxuICAgIGZvciAoOzspIHsgLy8gR290byBlbXVsYXRpb25cbiAgICAgIG9wID0gaGVyZSA+Pj4gMjQvKmhlcmUuYml0cyovO1xuICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgYml0cyAtPSBvcDtcbiAgICAgIG9wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmYvKmhlcmUub3AqLztcbiAgICAgIGlmIChvcCA9PT0gMCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgLyogbGl0ZXJhbCAqL1xuICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgaGVyZS52YWwgPj0gMHgyMCAmJiBoZXJlLnZhbCA8IDB4N2YgP1xuICAgICAgICAvLyAgICAgICAgXCJpbmZsYXRlOiAgICAgICAgIGxpdGVyYWwgJyVjJ1xcblwiIDpcbiAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsIDB4JTAyeFxcblwiLCBoZXJlLnZhbCkpO1xuICAgICAgICBvdXRwdXRbX291dCsrXSA9IGhlcmUgJiAweGZmZmYvKmhlcmUudmFsKi87XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChvcCAmIDE2KSB7ICAgICAgICAgICAgICAgICAgICAgLyogbGVuZ3RoIGJhc2UgKi9cbiAgICAgICAgbGVuID0gaGVyZSAmIDB4ZmZmZi8qaGVyZS52YWwqLztcbiAgICAgICAgb3AgJj0gMTU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGV4dHJhIGJpdHMgKi9cbiAgICAgICAgaWYgKG9wKSB7XG4gICAgICAgICAgaWYgKGJpdHMgPCBvcCkge1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGVuICs9IGhvbGQgJiAoKDEgPDwgb3ApIC0gMSk7XG4gICAgICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgICAgIGJpdHMgLT0gb3A7XG4gICAgICAgIH1cbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBsZW5ndGggJXVcXG5cIiwgbGVuKSk7XG4gICAgICAgIGlmIChiaXRzIDwgMTUpIHtcbiAgICAgICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICBoZXJlID0gZGNvZGVbaG9sZCAmIGRtYXNrXTtcblxuICAgICAgICBkb2Rpc3Q6XG4gICAgICAgIGZvciAoOzspIHsgLy8gZ290byBlbXVsYXRpb25cbiAgICAgICAgICBvcCA9IGhlcmUgPj4+IDI0LypoZXJlLmJpdHMqLztcbiAgICAgICAgICBob2xkID4+Pj0gb3A7XG4gICAgICAgICAgYml0cyAtPSBvcDtcbiAgICAgICAgICBvcCA9IChoZXJlID4+PiAxNikgJiAweGZmLypoZXJlLm9wKi87XG5cbiAgICAgICAgICBpZiAob3AgJiAxNikgeyAgICAgICAgICAgICAgICAgICAgICAvKiBkaXN0YW5jZSBiYXNlICovXG4gICAgICAgICAgICBkaXN0ID0gaGVyZSAmIDB4ZmZmZi8qaGVyZS52YWwqLztcbiAgICAgICAgICAgIG9wICY9IDE1OyAgICAgICAgICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGV4dHJhIGJpdHMgKi9cbiAgICAgICAgICAgIGlmIChiaXRzIDwgb3ApIHtcbiAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICBpZiAoYml0cyA8IG9wKSB7XG4gICAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3QgKz0gaG9sZCAmICgoMSA8PCBvcCkgLSAxKTtcbi8vI2lmZGVmIElORkxBVEVfU1RSSUNUXG4gICAgICAgICAgICBpZiAoZGlzdCA+IGRtYXgpIHtcbiAgICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2snO1xuICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEJDE7XG4gICAgICAgICAgICAgIGJyZWFrIHRvcDtcbiAgICAgICAgICAgIH1cbi8vI2VuZGlmXG4gICAgICAgICAgICBob2xkID4+Pj0gb3A7XG4gICAgICAgICAgICBiaXRzIC09IG9wO1xuICAgICAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBkaXN0YW5jZSAldVxcblwiLCBkaXN0KSk7XG4gICAgICAgICAgICBvcCA9IF9vdXQgLSBiZWc7ICAgICAgICAgICAgICAgIC8qIG1heCBkaXN0YW5jZSBpbiBvdXRwdXQgKi9cbiAgICAgICAgICAgIGlmIChkaXN0ID4gb3ApIHsgICAgICAgICAgICAgICAgLyogc2VlIGlmIGNvcHkgZnJvbSB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgb3AgPSBkaXN0IC0gb3A7ICAgICAgICAgICAgICAgLyogZGlzdGFuY2UgYmFjayBpbiB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgaWYgKG9wID4gd2hhdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc2FuZSkge1xuICAgICAgICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2snO1xuICAgICAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRCQxO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgICAgICAgICAgIH1cblxuLy8gKCEpIFRoaXMgYmxvY2sgaXMgZGlzYWJsZWQgaW4gemxpYiBkZWZhdWx0cyxcbi8vIGRvbid0IGVuYWJsZSBpdCBmb3IgYmluYXJ5IGNvbXBhdGliaWxpdHlcbi8vI2lmZGVmIElORkxBVEVfQUxMT1dfSU5WQUxJRF9ESVNUQU5DRV9UT09GQVJfQVJSUlxuLy8gICAgICAgICAgICAgICAgaWYgKGxlbiA8PSBvcCAtIHdoYXZlKSB7XG4vLyAgICAgICAgICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IDA7XG4vLyAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tbGVuKTtcbi8vICAgICAgICAgICAgICAgICAgY29udGludWUgdG9wO1xuLy8gICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgbGVuIC09IG9wIC0gd2hhdmU7XG4vLyAgICAgICAgICAgICAgICBkbyB7XG4vLyAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gMDtcbi8vICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3AgPiB3aGF2ZSk7XG4vLyAgICAgICAgICAgICAgICBpZiAob3AgPT09IDApIHtcbi8vICAgICAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0O1xuLy8gICAgICAgICAgICAgICAgICBkbyB7XG4vLyAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbi8vICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1sZW4pO1xuLy8gICAgICAgICAgICAgICAgICBjb250aW51ZSB0b3A7XG4vLyAgICAgICAgICAgICAgICB9XG4vLyNlbmRpZlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZyb20gPSAwOyAvLyB3aW5kb3cgaW5kZXhcbiAgICAgICAgICAgICAgZnJvbV9zb3VyY2UgPSBzX3dpbmRvdztcbiAgICAgICAgICAgICAgaWYgKHduZXh0ID09PSAwKSB7ICAgICAgICAgICAvKiB2ZXJ5IGNvbW1vbiBjYXNlICovXG4gICAgICAgICAgICAgICAgZnJvbSArPSB3c2l6ZSAtIG9wO1xuICAgICAgICAgICAgICAgIGlmIChvcCA8IGxlbikgeyAgICAgICAgIC8qIHNvbWUgZnJvbSB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgIGxlbiAtPSBvcDtcbiAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCk7XG4gICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7ICAvKiByZXN0IGZyb20gb3V0cHV0ICovXG4gICAgICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiAod25leHQgPCBvcCkgeyAgICAgIC8qIHdyYXAgYXJvdW5kIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgIGZyb20gKz0gd3NpemUgKyB3bmV4dCAtIG9wO1xuICAgICAgICAgICAgICAgIG9wIC09IHduZXh0O1xuICAgICAgICAgICAgICAgIGlmIChvcCA8IGxlbikgeyAgICAgICAgIC8qIHNvbWUgZnJvbSBlbmQgb2Ygd2luZG93ICovXG4gICAgICAgICAgICAgICAgICBsZW4gLT0gb3A7XG4gICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gc193aW5kb3dbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3ApO1xuICAgICAgICAgICAgICAgICAgZnJvbSA9IDA7XG4gICAgICAgICAgICAgICAgICBpZiAod25leHQgPCBsZW4pIHsgIC8qIHNvbWUgZnJvbSBzdGFydCBvZiB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgICAgb3AgPSB3bmV4dDtcbiAgICAgICAgICAgICAgICAgICAgbGVuIC09IG9wO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW9wKTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0OyAgICAgIC8qIHJlc3QgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICAgICAgICAgICAgZnJvbV9zb3VyY2UgPSBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAvKiBjb250aWd1b3VzIGluIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgIGZyb20gKz0gd25leHQgLSBvcDtcbiAgICAgICAgICAgICAgICBpZiAob3AgPCBsZW4pIHsgICAgICAgICAvKiBzb21lIGZyb20gd2luZG93ICovXG4gICAgICAgICAgICAgICAgICBsZW4gLT0gb3A7XG4gICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gc193aW5kb3dbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3ApO1xuICAgICAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0OyAgLyogcmVzdCBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgICAgICAgICAgZnJvbV9zb3VyY2UgPSBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHdoaWxlIChsZW4gPiAyKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgbGVuIC09IDM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGxlbikge1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBpZiAobGVuID4gMSkge1xuICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGZyb20gPSBfb3V0IC0gZGlzdDsgICAgICAgICAgLyogY29weSBkaXJlY3QgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICAgICAgZG8geyAgICAgICAgICAgICAgICAgICAgICAgIC8qIG1pbmltdW0gbGVuZ3RoIGlzIHRocmVlICovXG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4gICAgICAgICAgICAgICAgbGVuIC09IDM7XG4gICAgICAgICAgICAgIH0gd2hpbGUgKGxlbiA+IDIpO1xuICAgICAgICAgICAgICBpZiAobGVuKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBpZiAobGVuID4gMSkge1xuICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoKG9wICYgNjQpID09PSAwKSB7ICAgICAgICAgIC8qIDJuZCBsZXZlbCBkaXN0YW5jZSBjb2RlICovXG4gICAgICAgICAgICBoZXJlID0gZGNvZGVbKGhlcmUgJiAweGZmZmYpLypoZXJlLnZhbCovICsgKGhvbGQgJiAoKDEgPDwgb3ApIC0gMSkpXTtcbiAgICAgICAgICAgIGNvbnRpbnVlIGRvZGlzdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIGNvZGUnO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRCQxO1xuICAgICAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrOyAvLyBuZWVkIHRvIGVtdWxhdGUgZ290byB2aWEgXCJjb250aW51ZVwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKChvcCAmIDY0KSA9PT0gMCkgeyAgICAgICAgICAgICAgLyogMm5kIGxldmVsIGxlbmd0aCBjb2RlICovXG4gICAgICAgIGhlcmUgPSBsY29kZVsoaGVyZSAmIDB4ZmZmZikvKmhlcmUudmFsKi8gKyAoaG9sZCAmICgoMSA8PCBvcCkgLSAxKSldO1xuICAgICAgICBjb250aW51ZSBkb2xlbjtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG9wICYgMzIpIHsgICAgICAgICAgICAgICAgICAgICAvKiBlbmQtb2YtYmxvY2sgKi9cbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBlbmQgb2YgYmxvY2tcXG5cIikpO1xuICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRSQxO1xuICAgICAgICBicmVhayB0b3A7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlJztcbiAgICAgICAgc3RhdGUubW9kZSA9IEJBRCQxO1xuICAgICAgICBicmVhayB0b3A7XG4gICAgICB9XG5cbiAgICAgIGJyZWFrOyAvLyBuZWVkIHRvIGVtdWxhdGUgZ290byB2aWEgXCJjb250aW51ZVwiXG4gICAgfVxuICB9IHdoaWxlIChfaW4gPCBsYXN0ICYmIF9vdXQgPCBlbmQpO1xuXG4gIC8qIHJldHVybiB1bnVzZWQgYnl0ZXMgKG9uIGVudHJ5LCBiaXRzIDwgOCwgc28gaW4gd29uJ3QgZ28gdG9vIGZhciBiYWNrKSAqL1xuICBsZW4gPSBiaXRzID4+IDM7XG4gIF9pbiAtPSBsZW47XG4gIGJpdHMgLT0gbGVuIDw8IDM7XG4gIGhvbGQgJj0gKDEgPDwgYml0cykgLSAxO1xuXG4gIC8qIHVwZGF0ZSBzdGF0ZSBhbmQgcmV0dXJuICovXG4gIHN0cm0ubmV4dF9pbiA9IF9pbjtcbiAgc3RybS5uZXh0X291dCA9IF9vdXQ7XG4gIHN0cm0uYXZhaWxfaW4gPSAoX2luIDwgbGFzdCA/IDUgKyAobGFzdCAtIF9pbikgOiA1IC0gKF9pbiAtIGxhc3QpKTtcbiAgc3RybS5hdmFpbF9vdXQgPSAoX291dCA8IGVuZCA/IDI1NyArIChlbmQgLSBfb3V0KSA6IDI1NyAtIChfb3V0IC0gZW5kKSk7XG4gIHN0YXRlLmhvbGQgPSBob2xkO1xuICBzdGF0ZS5iaXRzID0gYml0cztcbiAgcmV0dXJuO1xufTtcblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG5jb25zdCBNQVhCSVRTID0gMTU7XG5jb25zdCBFTk9VR0hfTEVOUyQxID0gODUyO1xuY29uc3QgRU5PVUdIX0RJU1RTJDEgPSA1OTI7XG4vL2NvbnN0IEVOT1VHSCA9IChFTk9VR0hfTEVOUytFTk9VR0hfRElTVFMpO1xuXG5jb25zdCBDT0RFUyQxID0gMDtcbmNvbnN0IExFTlMkMSA9IDE7XG5jb25zdCBESVNUUyQxID0gMjtcblxuY29uc3QgbGJhc2UgPSBuZXcgVWludDE2QXJyYXkoWyAvKiBMZW5ndGggY29kZXMgMjU3Li4yODUgYmFzZSAqL1xuICAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEzLCAxNSwgMTcsIDE5LCAyMywgMjcsIDMxLFxuICAzNSwgNDMsIDUxLCA1OSwgNjcsIDgzLCA5OSwgMTE1LCAxMzEsIDE2MywgMTk1LCAyMjcsIDI1OCwgMCwgMFxuXSk7XG5cbmNvbnN0IGxleHQgPSBuZXcgVWludDhBcnJheShbIC8qIExlbmd0aCBjb2RlcyAyNTcuLjI4NSBleHRyYSAqL1xuICAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE3LCAxNywgMTcsIDE3LCAxOCwgMTgsIDE4LCAxOCxcbiAgMTksIDE5LCAxOSwgMTksIDIwLCAyMCwgMjAsIDIwLCAyMSwgMjEsIDIxLCAyMSwgMTYsIDcyLCA3OFxuXSk7XG5cbmNvbnN0IGRiYXNlID0gbmV3IFVpbnQxNkFycmF5KFsgLyogRGlzdGFuY2UgY29kZXMgMC4uMjkgYmFzZSAqL1xuICAxLCAyLCAzLCA0LCA1LCA3LCA5LCAxMywgMTcsIDI1LCAzMywgNDksIDY1LCA5NywgMTI5LCAxOTMsXG4gIDI1NywgMzg1LCA1MTMsIDc2OSwgMTAyNSwgMTUzNywgMjA0OSwgMzA3MywgNDA5NywgNjE0NSxcbiAgODE5MywgMTIyODksIDE2Mzg1LCAyNDU3NywgMCwgMFxuXSk7XG5cbmNvbnN0IGRleHQgPSBuZXcgVWludDhBcnJheShbIC8qIERpc3RhbmNlIGNvZGVzIDAuLjI5IGV4dHJhICovXG4gIDE2LCAxNiwgMTYsIDE2LCAxNywgMTcsIDE4LCAxOCwgMTksIDE5LCAyMCwgMjAsIDIxLCAyMSwgMjIsIDIyLFxuICAyMywgMjMsIDI0LCAyNCwgMjUsIDI1LCAyNiwgMjYsIDI3LCAyNyxcbiAgMjgsIDI4LCAyOSwgMjksIDY0LCA2NFxuXSk7XG5cbmNvbnN0IGluZmxhdGVfdGFibGUgPSAodHlwZSwgbGVucywgbGVuc19pbmRleCwgY29kZXMsIHRhYmxlLCB0YWJsZV9pbmRleCwgd29yaywgb3B0cykgPT5cbntcbiAgY29uc3QgYml0cyA9IG9wdHMuYml0cztcbiAgICAgIC8vaGVyZSA9IG9wdHMuaGVyZTsgLyogdGFibGUgZW50cnkgZm9yIGR1cGxpY2F0aW9uICovXG5cbiAgbGV0IGxlbiA9IDA7ICAgICAgICAgICAgICAgLyogYSBjb2RlJ3MgbGVuZ3RoIGluIGJpdHMgKi9cbiAgbGV0IHN5bSA9IDA7ICAgICAgICAgICAgICAgLyogaW5kZXggb2YgY29kZSBzeW1ib2xzICovXG4gIGxldCBtaW4gPSAwLCBtYXggPSAwOyAgICAgICAgICAvKiBtaW5pbXVtIGFuZCBtYXhpbXVtIGNvZGUgbGVuZ3RocyAqL1xuICBsZXQgcm9vdCA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgaW5kZXggYml0cyBmb3Igcm9vdCB0YWJsZSAqL1xuICBsZXQgY3VyciA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgaW5kZXggYml0cyBmb3IgY3VycmVudCB0YWJsZSAqL1xuICBsZXQgZHJvcCA9IDA7ICAgICAgICAgICAgICAvKiBjb2RlIGJpdHMgdG8gZHJvcCBmb3Igc3ViLXRhYmxlICovXG4gIGxldCBsZWZ0ID0gMDsgICAgICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIHByZWZpeCBjb2RlcyBhdmFpbGFibGUgKi9cbiAgbGV0IHVzZWQgPSAwOyAgICAgICAgICAgICAgLyogY29kZSBlbnRyaWVzIGluIHRhYmxlIHVzZWQgKi9cbiAgbGV0IGh1ZmYgPSAwOyAgICAgICAgICAgICAgLyogSHVmZm1hbiBjb2RlICovXG4gIGxldCBpbmNyOyAgICAgICAgICAgICAgLyogZm9yIGluY3JlbWVudGluZyBjb2RlLCBpbmRleCAqL1xuICBsZXQgZmlsbDsgICAgICAgICAgICAgIC8qIGluZGV4IGZvciByZXBsaWNhdGluZyBlbnRyaWVzICovXG4gIGxldCBsb3c7ICAgICAgICAgICAgICAgLyogbG93IGJpdHMgZm9yIGN1cnJlbnQgcm9vdCBlbnRyeSAqL1xuICBsZXQgbWFzazsgICAgICAgICAgICAgIC8qIG1hc2sgZm9yIGxvdyByb290IGJpdHMgKi9cbiAgbGV0IG5leHQ7ICAgICAgICAgICAgIC8qIG5leHQgYXZhaWxhYmxlIHNwYWNlIGluIHRhYmxlICovXG4gIGxldCBiYXNlID0gbnVsbDsgICAgIC8qIGJhc2UgdmFsdWUgdGFibGUgdG8gdXNlICovXG4vLyAgbGV0IHNob2V4dHJhOyAgICAvKiBleHRyYSBiaXRzIHRhYmxlIHRvIHVzZSAqL1xuICBsZXQgbWF0Y2g7ICAgICAgICAgICAgICAgICAgLyogdXNlIGJhc2UgYW5kIGV4dHJhIGZvciBzeW1ib2wgPj0gbWF0Y2ggKi9cbiAgY29uc3QgY291bnQgPSBuZXcgVWludDE2QXJyYXkoTUFYQklUUyArIDEpOyAvL1tNQVhCSVRTKzFdOyAgICAvKiBudW1iZXIgb2YgY29kZXMgb2YgZWFjaCBsZW5ndGggKi9cbiAgY29uc3Qgb2ZmcyA9IG5ldyBVaW50MTZBcnJheShNQVhCSVRTICsgMSk7IC8vW01BWEJJVFMrMV07ICAgICAvKiBvZmZzZXRzIGluIHRhYmxlIGZvciBlYWNoIGxlbmd0aCAqL1xuICBsZXQgZXh0cmEgPSBudWxsO1xuXG4gIGxldCBoZXJlX2JpdHMsIGhlcmVfb3AsIGhlcmVfdmFsO1xuXG4gIC8qXG4gICBQcm9jZXNzIGEgc2V0IG9mIGNvZGUgbGVuZ3RocyB0byBjcmVhdGUgYSBjYW5vbmljYWwgSHVmZm1hbiBjb2RlLiAgVGhlXG4gICBjb2RlIGxlbmd0aHMgYXJlIGxlbnNbMC4uY29kZXMtMV0uICBFYWNoIGxlbmd0aCBjb3JyZXNwb25kcyB0byB0aGVcbiAgIHN5bWJvbHMgMC4uY29kZXMtMS4gIFRoZSBIdWZmbWFuIGNvZGUgaXMgZ2VuZXJhdGVkIGJ5IGZpcnN0IHNvcnRpbmcgdGhlXG4gICBzeW1ib2xzIGJ5IGxlbmd0aCBmcm9tIHNob3J0IHRvIGxvbmcsIGFuZCByZXRhaW5pbmcgdGhlIHN5bWJvbCBvcmRlclxuICAgZm9yIGNvZGVzIHdpdGggZXF1YWwgbGVuZ3Rocy4gIFRoZW4gdGhlIGNvZGUgc3RhcnRzIHdpdGggYWxsIHplcm8gYml0c1xuICAgZm9yIHRoZSBmaXJzdCBjb2RlIG9mIHRoZSBzaG9ydGVzdCBsZW5ndGgsIGFuZCB0aGUgY29kZXMgYXJlIGludGVnZXJcbiAgIGluY3JlbWVudHMgZm9yIHRoZSBzYW1lIGxlbmd0aCwgYW5kIHplcm9zIGFyZSBhcHBlbmRlZCBhcyB0aGUgbGVuZ3RoXG4gICBpbmNyZWFzZXMuICBGb3IgdGhlIGRlZmxhdGUgZm9ybWF0LCB0aGVzZSBiaXRzIGFyZSBzdG9yZWQgYmFja3dhcmRzXG4gICBmcm9tIHRoZWlyIG1vcmUgbmF0dXJhbCBpbnRlZ2VyIGluY3JlbWVudCBvcmRlcmluZywgYW5kIHNvIHdoZW4gdGhlXG4gICBkZWNvZGluZyB0YWJsZXMgYXJlIGJ1aWx0IGluIHRoZSBsYXJnZSBsb29wIGJlbG93LCB0aGUgaW50ZWdlciBjb2Rlc1xuICAgYXJlIGluY3JlbWVudGVkIGJhY2t3YXJkcy5cblxuICAgVGhpcyByb3V0aW5lIGFzc3VtZXMsIGJ1dCBkb2VzIG5vdCBjaGVjaywgdGhhdCBhbGwgb2YgdGhlIGVudHJpZXMgaW5cbiAgIGxlbnNbXSBhcmUgaW4gdGhlIHJhbmdlIDAuLk1BWEJJVFMuICBUaGUgY2FsbGVyIG11c3QgYXNzdXJlIHRoaXMuXG4gICAxLi5NQVhCSVRTIGlzIGludGVycHJldGVkIGFzIHRoYXQgY29kZSBsZW5ndGguICB6ZXJvIG1lYW5zIHRoYXQgdGhhdFxuICAgc3ltYm9sIGRvZXMgbm90IG9jY3VyIGluIHRoaXMgY29kZS5cblxuICAgVGhlIGNvZGVzIGFyZSBzb3J0ZWQgYnkgY29tcHV0aW5nIGEgY291bnQgb2YgY29kZXMgZm9yIGVhY2ggbGVuZ3RoLFxuICAgY3JlYXRpbmcgZnJvbSB0aGF0IGEgdGFibGUgb2Ygc3RhcnRpbmcgaW5kaWNlcyBmb3IgZWFjaCBsZW5ndGggaW4gdGhlXG4gICBzb3J0ZWQgdGFibGUsIGFuZCB0aGVuIGVudGVyaW5nIHRoZSBzeW1ib2xzIGluIG9yZGVyIGluIHRoZSBzb3J0ZWRcbiAgIHRhYmxlLiAgVGhlIHNvcnRlZCB0YWJsZSBpcyB3b3JrW10sIHdpdGggdGhhdCBzcGFjZSBiZWluZyBwcm92aWRlZCBieVxuICAgdGhlIGNhbGxlci5cblxuICAgVGhlIGxlbmd0aCBjb3VudHMgYXJlIHVzZWQgZm9yIG90aGVyIHB1cnBvc2VzIGFzIHdlbGwsIGkuZS4gZmluZGluZ1xuICAgdGhlIG1pbmltdW0gYW5kIG1heGltdW0gbGVuZ3RoIGNvZGVzLCBkZXRlcm1pbmluZyBpZiB0aGVyZSBhcmUgYW55XG4gICBjb2RlcyBhdCBhbGwsIGNoZWNraW5nIGZvciBhIHZhbGlkIHNldCBvZiBsZW5ndGhzLCBhbmQgbG9va2luZyBhaGVhZFxuICAgYXQgbGVuZ3RoIGNvdW50cyB0byBkZXRlcm1pbmUgc3ViLXRhYmxlIHNpemVzIHdoZW4gYnVpbGRpbmcgdGhlXG4gICBkZWNvZGluZyB0YWJsZXMuXG4gICAqL1xuXG4gIC8qIGFjY3VtdWxhdGUgbGVuZ3RocyBmb3IgY29kZXMgKGFzc3VtZXMgbGVuc1tdIGFsbCBpbiAwLi5NQVhCSVRTKSAqL1xuICBmb3IgKGxlbiA9IDA7IGxlbiA8PSBNQVhCSVRTOyBsZW4rKykge1xuICAgIGNvdW50W2xlbl0gPSAwO1xuICB9XG4gIGZvciAoc3ltID0gMDsgc3ltIDwgY29kZXM7IHN5bSsrKSB7XG4gICAgY291bnRbbGVuc1tsZW5zX2luZGV4ICsgc3ltXV0rKztcbiAgfVxuXG4gIC8qIGJvdW5kIGNvZGUgbGVuZ3RocywgZm9yY2Ugcm9vdCB0byBiZSB3aXRoaW4gY29kZSBsZW5ndGhzICovXG4gIHJvb3QgPSBiaXRzO1xuICBmb3IgKG1heCA9IE1BWEJJVFM7IG1heCA+PSAxOyBtYXgtLSkge1xuICAgIGlmIChjb3VudFttYXhdICE9PSAwKSB7IGJyZWFrOyB9XG4gIH1cbiAgaWYgKHJvb3QgPiBtYXgpIHtcbiAgICByb290ID0gbWF4O1xuICB9XG4gIGlmIChtYXggPT09IDApIHsgICAgICAgICAgICAgICAgICAgICAvKiBubyBzeW1ib2xzIHRvIGNvZGUgYXQgYWxsICovXG4gICAgLy90YWJsZS5vcFtvcHRzLnRhYmxlX2luZGV4XSA9IDY0OyAgLy9oZXJlLm9wID0gKHZhciBjaGFyKTY0OyAgICAvKiBpbnZhbGlkIGNvZGUgbWFya2VyICovXG4gICAgLy90YWJsZS5iaXRzW29wdHMudGFibGVfaW5kZXhdID0gMTsgICAvL2hlcmUuYml0cyA9ICh2YXIgY2hhcikxO1xuICAgIC8vdGFibGUudmFsW29wdHMudGFibGVfaW5kZXgrK10gPSAwOyAgIC8vaGVyZS52YWwgPSAodmFyIHNob3J0KTA7XG4gICAgdGFibGVbdGFibGVfaW5kZXgrK10gPSAoMSA8PCAyNCkgfCAoNjQgPDwgMTYpIHwgMDtcblxuXG4gICAgLy90YWJsZS5vcFtvcHRzLnRhYmxlX2luZGV4XSA9IDY0O1xuICAgIC8vdGFibGUuYml0c1tvcHRzLnRhYmxlX2luZGV4XSA9IDE7XG4gICAgLy90YWJsZS52YWxbb3B0cy50YWJsZV9pbmRleCsrXSA9IDA7XG4gICAgdGFibGVbdGFibGVfaW5kZXgrK10gPSAoMSA8PCAyNCkgfCAoNjQgPDwgMTYpIHwgMDtcblxuICAgIG9wdHMuYml0cyA9IDE7XG4gICAgcmV0dXJuIDA7ICAgICAvKiBubyBzeW1ib2xzLCBidXQgd2FpdCBmb3IgZGVjb2RpbmcgdG8gcmVwb3J0IGVycm9yICovXG4gIH1cbiAgZm9yIChtaW4gPSAxOyBtaW4gPCBtYXg7IG1pbisrKSB7XG4gICAgaWYgKGNvdW50W21pbl0gIT09IDApIHsgYnJlYWs7IH1cbiAgfVxuICBpZiAocm9vdCA8IG1pbikge1xuICAgIHJvb3QgPSBtaW47XG4gIH1cblxuICAvKiBjaGVjayBmb3IgYW4gb3Zlci1zdWJzY3JpYmVkIG9yIGluY29tcGxldGUgc2V0IG9mIGxlbmd0aHMgKi9cbiAgbGVmdCA9IDE7XG4gIGZvciAobGVuID0gMTsgbGVuIDw9IE1BWEJJVFM7IGxlbisrKSB7XG4gICAgbGVmdCA8PD0gMTtcbiAgICBsZWZ0IC09IGNvdW50W2xlbl07XG4gICAgaWYgKGxlZnQgPCAwKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfSAgICAgICAgLyogb3Zlci1zdWJzY3JpYmVkICovXG4gIH1cbiAgaWYgKGxlZnQgPiAwICYmICh0eXBlID09PSBDT0RFUyQxIHx8IG1heCAhPT0gMSkpIHtcbiAgICByZXR1cm4gLTE7ICAgICAgICAgICAgICAgICAgICAgIC8qIGluY29tcGxldGUgc2V0ICovXG4gIH1cblxuICAvKiBnZW5lcmF0ZSBvZmZzZXRzIGludG8gc3ltYm9sIHRhYmxlIGZvciBlYWNoIGxlbmd0aCBmb3Igc29ydGluZyAqL1xuICBvZmZzWzFdID0gMDtcbiAgZm9yIChsZW4gPSAxOyBsZW4gPCBNQVhCSVRTOyBsZW4rKykge1xuICAgIG9mZnNbbGVuICsgMV0gPSBvZmZzW2xlbl0gKyBjb3VudFtsZW5dO1xuICB9XG5cbiAgLyogc29ydCBzeW1ib2xzIGJ5IGxlbmd0aCwgYnkgc3ltYm9sIG9yZGVyIHdpdGhpbiBlYWNoIGxlbmd0aCAqL1xuICBmb3IgKHN5bSA9IDA7IHN5bSA8IGNvZGVzOyBzeW0rKykge1xuICAgIGlmIChsZW5zW2xlbnNfaW5kZXggKyBzeW1dICE9PSAwKSB7XG4gICAgICB3b3JrW29mZnNbbGVuc1tsZW5zX2luZGV4ICsgc3ltXV0rK10gPSBzeW07XG4gICAgfVxuICB9XG5cbiAgLypcbiAgIENyZWF0ZSBhbmQgZmlsbCBpbiBkZWNvZGluZyB0YWJsZXMuICBJbiB0aGlzIGxvb3AsIHRoZSB0YWJsZSBiZWluZ1xuICAgZmlsbGVkIGlzIGF0IG5leHQgYW5kIGhhcyBjdXJyIGluZGV4IGJpdHMuICBUaGUgY29kZSBiZWluZyB1c2VkIGlzIGh1ZmZcbiAgIHdpdGggbGVuZ3RoIGxlbi4gIFRoYXQgY29kZSBpcyBjb252ZXJ0ZWQgdG8gYW4gaW5kZXggYnkgZHJvcHBpbmcgZHJvcFxuICAgYml0cyBvZmYgb2YgdGhlIGJvdHRvbS4gIEZvciBjb2RlcyB3aGVyZSBsZW4gaXMgbGVzcyB0aGFuIGRyb3AgKyBjdXJyLFxuICAgdGhvc2UgdG9wIGRyb3AgKyBjdXJyIC0gbGVuIGJpdHMgYXJlIGluY3JlbWVudGVkIHRocm91Z2ggYWxsIHZhbHVlcyB0b1xuICAgZmlsbCB0aGUgdGFibGUgd2l0aCByZXBsaWNhdGVkIGVudHJpZXMuXG5cbiAgIHJvb3QgaXMgdGhlIG51bWJlciBvZiBpbmRleCBiaXRzIGZvciB0aGUgcm9vdCB0YWJsZS4gIFdoZW4gbGVuIGV4Y2VlZHNcbiAgIHJvb3QsIHN1Yi10YWJsZXMgYXJlIGNyZWF0ZWQgcG9pbnRlZCB0byBieSB0aGUgcm9vdCBlbnRyeSB3aXRoIGFuIGluZGV4XG4gICBvZiB0aGUgbG93IHJvb3QgYml0cyBvZiBodWZmLiAgVGhpcyBpcyBzYXZlZCBpbiBsb3cgdG8gY2hlY2sgZm9yIHdoZW4gYVxuICAgbmV3IHN1Yi10YWJsZSBzaG91bGQgYmUgc3RhcnRlZC4gIGRyb3AgaXMgemVybyB3aGVuIHRoZSByb290IHRhYmxlIGlzXG4gICBiZWluZyBmaWxsZWQsIGFuZCBkcm9wIGlzIHJvb3Qgd2hlbiBzdWItdGFibGVzIGFyZSBiZWluZyBmaWxsZWQuXG5cbiAgIFdoZW4gYSBuZXcgc3ViLXRhYmxlIGlzIG5lZWRlZCwgaXQgaXMgbmVjZXNzYXJ5IHRvIGxvb2sgYWhlYWQgaW4gdGhlXG4gICBjb2RlIGxlbmd0aHMgdG8gZGV0ZXJtaW5lIHdoYXQgc2l6ZSBzdWItdGFibGUgaXMgbmVlZGVkLiAgVGhlIGxlbmd0aFxuICAgY291bnRzIGFyZSB1c2VkIGZvciB0aGlzLCBhbmQgc28gY291bnRbXSBpcyBkZWNyZW1lbnRlZCBhcyBjb2RlcyBhcmVcbiAgIGVudGVyZWQgaW4gdGhlIHRhYmxlcy5cblxuICAgdXNlZCBrZWVwcyB0cmFjayBvZiBob3cgbWFueSB0YWJsZSBlbnRyaWVzIGhhdmUgYmVlbiBhbGxvY2F0ZWQgZnJvbSB0aGVcbiAgIHByb3ZpZGVkICp0YWJsZSBzcGFjZS4gIEl0IGlzIGNoZWNrZWQgZm9yIExFTlMgYW5kIERJU1QgdGFibGVzIGFnYWluc3RcbiAgIHRoZSBjb25zdGFudHMgRU5PVUdIX0xFTlMgYW5kIEVOT1VHSF9ESVNUUyB0byBndWFyZCBhZ2FpbnN0IGNoYW5nZXMgaW5cbiAgIHRoZSBpbml0aWFsIHJvb3QgdGFibGUgc2l6ZSBjb25zdGFudHMuICBTZWUgdGhlIGNvbW1lbnRzIGluIGluZnRyZWVzLmhcbiAgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXG4gICBzeW0gaW5jcmVtZW50cyB0aHJvdWdoIGFsbCBzeW1ib2xzLCBhbmQgdGhlIGxvb3AgdGVybWluYXRlcyB3aGVuXG4gICBhbGwgY29kZXMgb2YgbGVuZ3RoIG1heCwgaS5lLiBhbGwgY29kZXMsIGhhdmUgYmVlbiBwcm9jZXNzZWQuICBUaGlzXG4gICByb3V0aW5lIHBlcm1pdHMgaW5jb21wbGV0ZSBjb2Rlcywgc28gYW5vdGhlciBsb29wIGFmdGVyIHRoaXMgb25lIGZpbGxzXG4gICBpbiB0aGUgcmVzdCBvZiB0aGUgZGVjb2RpbmcgdGFibGVzIHdpdGggaW52YWxpZCBjb2RlIG1hcmtlcnMuXG4gICAqL1xuXG4gIC8qIHNldCB1cCBmb3IgY29kZSB0eXBlICovXG4gIC8vIHBvb3IgbWFuIG9wdGltaXphdGlvbiAtIHVzZSBpZi1lbHNlIGluc3RlYWQgb2Ygc3dpdGNoLFxuICAvLyB0byBhdm9pZCBkZW9wdHMgaW4gb2xkIHY4XG4gIGlmICh0eXBlID09PSBDT0RFUyQxKSB7XG4gICAgYmFzZSA9IGV4dHJhID0gd29yazsgICAgLyogZHVtbXkgdmFsdWUtLW5vdCB1c2VkICovXG4gICAgbWF0Y2ggPSAyMDtcblxuICB9IGVsc2UgaWYgKHR5cGUgPT09IExFTlMkMSkge1xuICAgIGJhc2UgPSBsYmFzZTtcbiAgICBleHRyYSA9IGxleHQ7XG4gICAgbWF0Y2ggPSAyNTc7XG5cbiAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgIC8qIERJU1RTICovXG4gICAgYmFzZSA9IGRiYXNlO1xuICAgIGV4dHJhID0gZGV4dDtcbiAgICBtYXRjaCA9IDA7XG4gIH1cblxuICAvKiBpbml0aWFsaXplIG9wdHMgZm9yIGxvb3AgKi9cbiAgaHVmZiA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIHN0YXJ0aW5nIGNvZGUgKi9cbiAgc3ltID0gMDsgICAgICAgICAgICAgICAgICAgIC8qIHN0YXJ0aW5nIGNvZGUgc3ltYm9sICovXG4gIGxlbiA9IG1pbjsgICAgICAgICAgICAgICAgICAvKiBzdGFydGluZyBjb2RlIGxlbmd0aCAqL1xuICBuZXh0ID0gdGFibGVfaW5kZXg7ICAgICAgICAgICAgICAvKiBjdXJyZW50IHRhYmxlIHRvIGZpbGwgaW4gKi9cbiAgY3VyciA9IHJvb3Q7ICAgICAgICAgICAgICAgIC8qIGN1cnJlbnQgdGFibGUgaW5kZXggYml0cyAqL1xuICBkcm9wID0gMDsgICAgICAgICAgICAgICAgICAgLyogY3VycmVudCBiaXRzIHRvIGRyb3AgZnJvbSBjb2RlIGZvciBpbmRleCAqL1xuICBsb3cgPSAtMTsgICAgICAgICAgICAgICAgICAgLyogdHJpZ2dlciBuZXcgc3ViLXRhYmxlIHdoZW4gbGVuID4gcm9vdCAqL1xuICB1c2VkID0gMSA8PCByb290OyAgICAgICAgICAvKiB1c2Ugcm9vdCB0YWJsZSBlbnRyaWVzICovXG4gIG1hc2sgPSB1c2VkIC0gMTsgICAgICAgICAgICAvKiBtYXNrIGZvciBjb21wYXJpbmcgbG93ICovXG5cbiAgLyogY2hlY2sgYXZhaWxhYmxlIHRhYmxlIHNwYWNlICovXG4gIGlmICgodHlwZSA9PT0gTEVOUyQxICYmIHVzZWQgPiBFTk9VR0hfTEVOUyQxKSB8fFxuICAgICh0eXBlID09PSBESVNUUyQxICYmIHVzZWQgPiBFTk9VR0hfRElTVFMkMSkpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIC8qIHByb2Nlc3MgYWxsIGNvZGVzIGFuZCBtYWtlIHRhYmxlIGVudHJpZXMgKi9cbiAgZm9yICg7Oykge1xuICAgIC8qIGNyZWF0ZSB0YWJsZSBlbnRyeSAqL1xuICAgIGhlcmVfYml0cyA9IGxlbiAtIGRyb3A7XG4gICAgaWYgKHdvcmtbc3ltXSArIDEgPCBtYXRjaCkge1xuICAgICAgaGVyZV9vcCA9IDA7XG4gICAgICBoZXJlX3ZhbCA9IHdvcmtbc3ltXTtcbiAgICB9XG4gICAgZWxzZSBpZiAod29ya1tzeW1dID49IG1hdGNoKSB7XG4gICAgICBoZXJlX29wID0gZXh0cmFbd29ya1tzeW1dIC0gbWF0Y2hdO1xuICAgICAgaGVyZV92YWwgPSBiYXNlW3dvcmtbc3ltXSAtIG1hdGNoXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBoZXJlX29wID0gMzIgKyA2NDsgICAgICAgICAvKiBlbmQgb2YgYmxvY2sgKi9cbiAgICAgIGhlcmVfdmFsID0gMDtcbiAgICB9XG5cbiAgICAvKiByZXBsaWNhdGUgZm9yIHRob3NlIGluZGljZXMgd2l0aCBsb3cgbGVuIGJpdHMgZXF1YWwgdG8gaHVmZiAqL1xuICAgIGluY3IgPSAxIDw8IChsZW4gLSBkcm9wKTtcbiAgICBmaWxsID0gMSA8PCBjdXJyO1xuICAgIG1pbiA9IGZpbGw7ICAgICAgICAgICAgICAgICAvKiBzYXZlIG9mZnNldCB0byBuZXh0IHRhYmxlICovXG4gICAgZG8ge1xuICAgICAgZmlsbCAtPSBpbmNyO1xuICAgICAgdGFibGVbbmV4dCArIChodWZmID4+IGRyb3ApICsgZmlsbF0gPSAoaGVyZV9iaXRzIDw8IDI0KSB8IChoZXJlX29wIDw8IDE2KSB8IGhlcmVfdmFsIHwwO1xuICAgIH0gd2hpbGUgKGZpbGwgIT09IDApO1xuXG4gICAgLyogYmFja3dhcmRzIGluY3JlbWVudCB0aGUgbGVuLWJpdCBjb2RlIGh1ZmYgKi9cbiAgICBpbmNyID0gMSA8PCAobGVuIC0gMSk7XG4gICAgd2hpbGUgKGh1ZmYgJiBpbmNyKSB7XG4gICAgICBpbmNyID4+PSAxO1xuICAgIH1cbiAgICBpZiAoaW5jciAhPT0gMCkge1xuICAgICAgaHVmZiAmPSBpbmNyIC0gMTtcbiAgICAgIGh1ZmYgKz0gaW5jcjtcbiAgICB9IGVsc2Uge1xuICAgICAgaHVmZiA9IDA7XG4gICAgfVxuXG4gICAgLyogZ28gdG8gbmV4dCBzeW1ib2wsIHVwZGF0ZSBjb3VudCwgbGVuICovXG4gICAgc3ltKys7XG4gICAgaWYgKC0tY291bnRbbGVuXSA9PT0gMCkge1xuICAgICAgaWYgKGxlbiA9PT0gbWF4KSB7IGJyZWFrOyB9XG4gICAgICBsZW4gPSBsZW5zW2xlbnNfaW5kZXggKyB3b3JrW3N5bV1dO1xuICAgIH1cblxuICAgIC8qIGNyZWF0ZSBuZXcgc3ViLXRhYmxlIGlmIG5lZWRlZCAqL1xuICAgIGlmIChsZW4gPiByb290ICYmIChodWZmICYgbWFzaykgIT09IGxvdykge1xuICAgICAgLyogaWYgZmlyc3QgdGltZSwgdHJhbnNpdGlvbiB0byBzdWItdGFibGVzICovXG4gICAgICBpZiAoZHJvcCA9PT0gMCkge1xuICAgICAgICBkcm9wID0gcm9vdDtcbiAgICAgIH1cblxuICAgICAgLyogaW5jcmVtZW50IHBhc3QgbGFzdCB0YWJsZSAqL1xuICAgICAgbmV4dCArPSBtaW47ICAgICAgICAgICAgLyogaGVyZSBtaW4gaXMgMSA8PCBjdXJyICovXG5cbiAgICAgIC8qIGRldGVybWluZSBsZW5ndGggb2YgbmV4dCB0YWJsZSAqL1xuICAgICAgY3VyciA9IGxlbiAtIGRyb3A7XG4gICAgICBsZWZ0ID0gMSA8PCBjdXJyO1xuICAgICAgd2hpbGUgKGN1cnIgKyBkcm9wIDwgbWF4KSB7XG4gICAgICAgIGxlZnQgLT0gY291bnRbY3VyciArIGRyb3BdO1xuICAgICAgICBpZiAobGVmdCA8PSAwKSB7IGJyZWFrOyB9XG4gICAgICAgIGN1cnIrKztcbiAgICAgICAgbGVmdCA8PD0gMTtcbiAgICAgIH1cblxuICAgICAgLyogY2hlY2sgZm9yIGVub3VnaCBzcGFjZSAqL1xuICAgICAgdXNlZCArPSAxIDw8IGN1cnI7XG4gICAgICBpZiAoKHR5cGUgPT09IExFTlMkMSAmJiB1c2VkID4gRU5PVUdIX0xFTlMkMSkgfHxcbiAgICAgICAgKHR5cGUgPT09IERJU1RTJDEgJiYgdXNlZCA+IEVOT1VHSF9ESVNUUyQxKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cblxuICAgICAgLyogcG9pbnQgZW50cnkgaW4gcm9vdCB0YWJsZSB0byBzdWItdGFibGUgKi9cbiAgICAgIGxvdyA9IGh1ZmYgJiBtYXNrO1xuICAgICAgLyp0YWJsZS5vcFtsb3ddID0gY3VycjtcbiAgICAgIHRhYmxlLmJpdHNbbG93XSA9IHJvb3Q7XG4gICAgICB0YWJsZS52YWxbbG93XSA9IG5leHQgLSBvcHRzLnRhYmxlX2luZGV4OyovXG4gICAgICB0YWJsZVtsb3ddID0gKHJvb3QgPDwgMjQpIHwgKGN1cnIgPDwgMTYpIHwgKG5leHQgLSB0YWJsZV9pbmRleCkgfDA7XG4gICAgfVxuICB9XG5cbiAgLyogZmlsbCBpbiByZW1haW5pbmcgdGFibGUgZW50cnkgaWYgY29kZSBpcyBpbmNvbXBsZXRlIChndWFyYW50ZWVkIHRvIGhhdmVcbiAgIGF0IG1vc3Qgb25lIHJlbWFpbmluZyBlbnRyeSwgc2luY2UgaWYgdGhlIGNvZGUgaXMgaW5jb21wbGV0ZSwgdGhlXG4gICBtYXhpbXVtIGNvZGUgbGVuZ3RoIHRoYXQgd2FzIGFsbG93ZWQgdG8gZ2V0IHRoaXMgZmFyIGlzIG9uZSBiaXQpICovXG4gIGlmIChodWZmICE9PSAwKSB7XG4gICAgLy90YWJsZS5vcFtuZXh0ICsgaHVmZl0gPSA2NDsgICAgICAgICAgICAvKiBpbnZhbGlkIGNvZGUgbWFya2VyICovXG4gICAgLy90YWJsZS5iaXRzW25leHQgKyBodWZmXSA9IGxlbiAtIGRyb3A7XG4gICAgLy90YWJsZS52YWxbbmV4dCArIGh1ZmZdID0gMDtcbiAgICB0YWJsZVtuZXh0ICsgaHVmZl0gPSAoKGxlbiAtIGRyb3ApIDw8IDI0KSB8ICg2NCA8PCAxNikgfDA7XG4gIH1cblxuICAvKiBzZXQgcmV0dXJuIHBhcmFtZXRlcnMgKi9cbiAgLy9vcHRzLnRhYmxlX2luZGV4ICs9IHVzZWQ7XG4gIG9wdHMuYml0cyA9IHJvb3Q7XG4gIHJldHVybiAwO1xufTtcblxuXG52YXIgaW5mdHJlZXMgPSBpbmZsYXRlX3RhYmxlO1xuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cblxuXG5cblxuXG5jb25zdCBDT0RFUyA9IDA7XG5jb25zdCBMRU5TID0gMTtcbmNvbnN0IERJU1RTID0gMjtcblxuLyogUHVibGljIGNvbnN0YW50cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbmNvbnN0IHtcbiAgWl9GSU5JU0g6IFpfRklOSVNIJDEsIFpfQkxPQ0ssIFpfVFJFRVMsXG4gIFpfT0s6IFpfT0skMSwgWl9TVFJFQU1fRU5EOiBaX1NUUkVBTV9FTkQkMSwgWl9ORUVEX0RJQ1Q6IFpfTkVFRF9ESUNUJDEsIFpfU1RSRUFNX0VSUk9SOiBaX1NUUkVBTV9FUlJPUiQxLCBaX0RBVEFfRVJST1I6IFpfREFUQV9FUlJPUiQxLCBaX01FTV9FUlJPUjogWl9NRU1fRVJST1IkMSwgWl9CVUZfRVJST1IsXG4gIFpfREVGTEFURURcbn0gPSBjb25zdGFudHMkMjtcblxuXG4vKiBTVEFURVMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG5jb25zdCAgICBIRUFEID0gMTYxODA7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIG1hZ2ljIGhlYWRlciAqL1xuY29uc3QgICAgRkxBR1MgPSAxNjE4MTsgICAgICAvKiBpOiB3YWl0aW5nIGZvciBtZXRob2QgYW5kIGZsYWdzIChnemlwKSAqL1xuY29uc3QgICAgVElNRSA9IDE2MTgyOyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBtb2RpZmljYXRpb24gdGltZSAoZ3ppcCkgKi9cbmNvbnN0ICAgIE9TID0gMTYxODM7ICAgICAgICAgLyogaTogd2FpdGluZyBmb3IgZXh0cmEgZmxhZ3MgYW5kIG9wZXJhdGluZyBzeXN0ZW0gKGd6aXApICovXG5jb25zdCAgICBFWExFTiA9IDE2MTg0OyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGV4dHJhIGxlbmd0aCAoZ3ppcCkgKi9cbmNvbnN0ICAgIEVYVFJBID0gMTYxODU7ICAgICAgLyogaTogd2FpdGluZyBmb3IgZXh0cmEgYnl0ZXMgKGd6aXApICovXG5jb25zdCAgICBOQU1FID0gMTYxODY7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGVuZCBvZiBmaWxlIG5hbWUgKGd6aXApICovXG5jb25zdCAgICBDT01NRU5UID0gMTYxODc7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIGVuZCBvZiBjb21tZW50IChnemlwKSAqL1xuY29uc3QgICAgSENSQyA9IDE2MTg4OyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBoZWFkZXIgY3JjIChnemlwKSAqL1xuY29uc3QgICAgRElDVElEID0gMTYxODk7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIGRpY3Rpb25hcnkgY2hlY2sgdmFsdWUgKi9cbmNvbnN0ICAgIERJQ1QgPSAxNjE5MDsgICAgICAvKiB3YWl0aW5nIGZvciBpbmZsYXRlU2V0RGljdGlvbmFyeSgpIGNhbGwgKi9cbmNvbnN0ICAgICAgICBUWVBFID0gMTYxOTE7ICAgICAgLyogaTogd2FpdGluZyBmb3IgdHlwZSBiaXRzLCBpbmNsdWRpbmcgbGFzdC1mbGFnIGJpdCAqL1xuY29uc3QgICAgICAgIFRZUEVETyA9IDE2MTkyOyAgICAvKiBpOiBzYW1lLCBidXQgc2tpcCBjaGVjayB0byBleGl0IGluZmxhdGUgb24gbmV3IGJsb2NrICovXG5jb25zdCAgICAgICAgU1RPUkVEID0gMTYxOTM7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIHN0b3JlZCBzaXplIChsZW5ndGggYW5kIGNvbXBsZW1lbnQpICovXG5jb25zdCAgICAgICAgQ09QWV8gPSAxNjE5NDsgICAgIC8qIGkvbzogc2FtZSBhcyBDT1BZIGJlbG93LCBidXQgb25seSBmaXJzdCB0aW1lIGluICovXG5jb25zdCAgICAgICAgQ09QWSA9IDE2MTk1OyAgICAgIC8qIGkvbzogd2FpdGluZyBmb3IgaW5wdXQgb3Igb3V0cHV0IHRvIGNvcHkgc3RvcmVkIGJsb2NrICovXG5jb25zdCAgICAgICAgVEFCTEUgPSAxNjE5NjsgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGR5bmFtaWMgYmxvY2sgdGFibGUgbGVuZ3RocyAqL1xuY29uc3QgICAgICAgIExFTkxFTlMgPSAxNjE5NzsgICAvKiBpOiB3YWl0aW5nIGZvciBjb2RlIGxlbmd0aCBjb2RlIGxlbmd0aHMgKi9cbmNvbnN0ICAgICAgICBDT0RFTEVOUyA9IDE2MTk4OyAgLyogaTogd2FpdGluZyBmb3IgbGVuZ3RoL2xpdCBhbmQgZGlzdGFuY2UgY29kZSBsZW5ndGhzICovXG5jb25zdCAgICAgICAgICAgIExFTl8gPSAxNjE5OTsgICAgICAvKiBpOiBzYW1lIGFzIExFTiBiZWxvdywgYnV0IG9ubHkgZmlyc3QgdGltZSBpbiAqL1xuY29uc3QgICAgICAgICAgICBMRU4gPSAxNjIwMDsgICAgICAgLyogaTogd2FpdGluZyBmb3IgbGVuZ3RoL2xpdC9lb2IgY29kZSAqL1xuY29uc3QgICAgICAgICAgICBMRU5FWFQgPSAxNjIwMTsgICAgLyogaTogd2FpdGluZyBmb3IgbGVuZ3RoIGV4dHJhIGJpdHMgKi9cbmNvbnN0ICAgICAgICAgICAgRElTVCA9IDE2MjAyOyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGRpc3RhbmNlIGNvZGUgKi9cbmNvbnN0ICAgICAgICAgICAgRElTVEVYVCA9IDE2MjAzOyAgIC8qIGk6IHdhaXRpbmcgZm9yIGRpc3RhbmNlIGV4dHJhIGJpdHMgKi9cbmNvbnN0ICAgICAgICAgICAgTUFUQ0ggPSAxNjIwNDsgICAgIC8qIG86IHdhaXRpbmcgZm9yIG91dHB1dCBzcGFjZSB0byBjb3B5IHN0cmluZyAqL1xuY29uc3QgICAgICAgICAgICBMSVQgPSAxNjIwNTsgICAgICAgLyogbzogd2FpdGluZyBmb3Igb3V0cHV0IHNwYWNlIHRvIHdyaXRlIGxpdGVyYWwgKi9cbmNvbnN0ICAgIENIRUNLID0gMTYyMDY7ICAgICAvKiBpOiB3YWl0aW5nIGZvciAzMi1iaXQgY2hlY2sgdmFsdWUgKi9cbmNvbnN0ICAgIExFTkdUSCA9IDE2MjA3OyAgICAvKiBpOiB3YWl0aW5nIGZvciAzMi1iaXQgbGVuZ3RoIChnemlwKSAqL1xuY29uc3QgICAgRE9ORSA9IDE2MjA4OyAgICAgIC8qIGZpbmlzaGVkIGNoZWNrLCBkb25lIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG5jb25zdCAgICBCQUQgPSAxNjIwOTsgICAgICAgLyogZ290IGEgZGF0YSBlcnJvciAtLSByZW1haW4gaGVyZSB1bnRpbCByZXNldCAqL1xuY29uc3QgICAgTUVNID0gMTYyMTA7ICAgICAgIC8qIGdvdCBhbiBpbmZsYXRlKCkgbWVtb3J5IGVycm9yIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG5jb25zdCAgICBTWU5DID0gMTYyMTE7ICAgICAgLyogbG9va2luZyBmb3Igc3luY2hyb25pemF0aW9uIGJ5dGVzIHRvIHJlc3RhcnQgaW5mbGF0ZSgpICovXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cblxuXG5jb25zdCBFTk9VR0hfTEVOUyA9IDg1MjtcbmNvbnN0IEVOT1VHSF9ESVNUUyA9IDU5Mjtcbi8vY29uc3QgRU5PVUdIID0gIChFTk9VR0hfTEVOUytFTk9VR0hfRElTVFMpO1xuXG5jb25zdCBNQVhfV0JJVFMgPSAxNTtcbi8qIDMySyBMWjc3IHdpbmRvdyAqL1xuY29uc3QgREVGX1dCSVRTID0gTUFYX1dCSVRTO1xuXG5cbmNvbnN0IHpzd2FwMzIgPSAocSkgPT4ge1xuXG4gIHJldHVybiAgKCgocSA+Pj4gMjQpICYgMHhmZikgK1xuICAgICAgICAgICgocSA+Pj4gOCkgJiAweGZmMDApICtcbiAgICAgICAgICAoKHEgJiAweGZmMDApIDw8IDgpICtcbiAgICAgICAgICAoKHEgJiAweGZmKSA8PCAyNCkpO1xufTtcblxuXG5mdW5jdGlvbiBJbmZsYXRlU3RhdGUoKSB7XG4gIHRoaXMuc3RybSA9IG51bGw7ICAgICAgICAgICAvKiBwb2ludGVyIGJhY2sgdG8gdGhpcyB6bGliIHN0cmVhbSAqL1xuICB0aGlzLm1vZGUgPSAwOyAgICAgICAgICAgICAgLyogY3VycmVudCBpbmZsYXRlIG1vZGUgKi9cbiAgdGhpcy5sYXN0ID0gZmFsc2U7ICAgICAgICAgIC8qIHRydWUgaWYgcHJvY2Vzc2luZyBsYXN0IGJsb2NrICovXG4gIHRoaXMud3JhcCA9IDA7ICAgICAgICAgICAgICAvKiBiaXQgMCB0cnVlIGZvciB6bGliLCBiaXQgMSB0cnVlIGZvciBnemlwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYml0IDIgdHJ1ZSB0byB2YWxpZGF0ZSBjaGVjayB2YWx1ZSAqL1xuICB0aGlzLmhhdmVkaWN0ID0gZmFsc2U7ICAgICAgLyogdHJ1ZSBpZiBkaWN0aW9uYXJ5IHByb3ZpZGVkICovXG4gIHRoaXMuZmxhZ3MgPSAwOyAgICAgICAgICAgICAvKiBnemlwIGhlYWRlciBtZXRob2QgYW5kIGZsYWdzICgwIGlmIHpsaWIpLCBvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTEgaWYgcmF3IG9yIG5vIGhlYWRlciB5ZXQgKi9cbiAgdGhpcy5kbWF4ID0gMDsgICAgICAgICAgICAgIC8qIHpsaWIgaGVhZGVyIG1heCBkaXN0YW5jZSAoSU5GTEFURV9TVFJJQ1QpICovXG4gIHRoaXMuY2hlY2sgPSAwOyAgICAgICAgICAgICAvKiBwcm90ZWN0ZWQgY29weSBvZiBjaGVjayB2YWx1ZSAqL1xuICB0aGlzLnRvdGFsID0gMDsgICAgICAgICAgICAgLyogcHJvdGVjdGVkIGNvcHkgb2Ygb3V0cHV0IGNvdW50ICovXG4gIC8vIFRPRE86IG1heSBiZSB7fVxuICB0aGlzLmhlYWQgPSBudWxsOyAgICAgICAgICAgLyogd2hlcmUgdG8gc2F2ZSBnemlwIGhlYWRlciBpbmZvcm1hdGlvbiAqL1xuXG4gIC8qIHNsaWRpbmcgd2luZG93ICovXG4gIHRoaXMud2JpdHMgPSAwOyAgICAgICAgICAgICAvKiBsb2cgYmFzZSAyIG9mIHJlcXVlc3RlZCB3aW5kb3cgc2l6ZSAqL1xuICB0aGlzLndzaXplID0gMDsgICAgICAgICAgICAgLyogd2luZG93IHNpemUgb3IgemVybyBpZiBub3QgdXNpbmcgd2luZG93ICovXG4gIHRoaXMud2hhdmUgPSAwOyAgICAgICAgICAgICAvKiB2YWxpZCBieXRlcyBpbiB0aGUgd2luZG93ICovXG4gIHRoaXMud25leHQgPSAwOyAgICAgICAgICAgICAvKiB3aW5kb3cgd3JpdGUgaW5kZXggKi9cbiAgdGhpcy53aW5kb3cgPSBudWxsOyAgICAgICAgIC8qIGFsbG9jYXRlZCBzbGlkaW5nIHdpbmRvdywgaWYgbmVlZGVkICovXG5cbiAgLyogYml0IGFjY3VtdWxhdG9yICovXG4gIHRoaXMuaG9sZCA9IDA7ICAgICAgICAgICAgICAvKiBpbnB1dCBiaXQgYWNjdW11bGF0b3IgKi9cbiAgdGhpcy5iaXRzID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBiaXRzIGluIFwiaW5cIiAqL1xuXG4gIC8qIGZvciBzdHJpbmcgYW5kIHN0b3JlZCBibG9jayBjb3B5aW5nICovXG4gIHRoaXMubGVuZ3RoID0gMDsgICAgICAgICAgICAvKiBsaXRlcmFsIG9yIGxlbmd0aCBvZiBkYXRhIHRvIGNvcHkgKi9cbiAgdGhpcy5vZmZzZXQgPSAwOyAgICAgICAgICAgIC8qIGRpc3RhbmNlIGJhY2sgdG8gY29weSBzdHJpbmcgZnJvbSAqL1xuXG4gIC8qIGZvciB0YWJsZSBhbmQgY29kZSBkZWNvZGluZyAqL1xuICB0aGlzLmV4dHJhID0gMDsgICAgICAgICAgICAgLyogZXh0cmEgYml0cyBuZWVkZWQgKi9cblxuICAvKiBmaXhlZCBhbmQgZHluYW1pYyBjb2RlIHRhYmxlcyAqL1xuICB0aGlzLmxlbmNvZGUgPSBudWxsOyAgICAgICAgICAvKiBzdGFydGluZyB0YWJsZSBmb3IgbGVuZ3RoL2xpdGVyYWwgY29kZXMgKi9cbiAgdGhpcy5kaXN0Y29kZSA9IG51bGw7ICAgICAgICAgLyogc3RhcnRpbmcgdGFibGUgZm9yIGRpc3RhbmNlIGNvZGVzICovXG4gIHRoaXMubGVuYml0cyA9IDA7ICAgICAgICAgICAvKiBpbmRleCBiaXRzIGZvciBsZW5jb2RlICovXG4gIHRoaXMuZGlzdGJpdHMgPSAwOyAgICAgICAgICAvKiBpbmRleCBiaXRzIGZvciBkaXN0Y29kZSAqL1xuXG4gIC8qIGR5bmFtaWMgdGFibGUgYnVpbGRpbmcgKi9cbiAgdGhpcy5uY29kZSA9IDA7ICAgICAgICAgICAgIC8qIG51bWJlciBvZiBjb2RlIGxlbmd0aCBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy5ubGVuID0gMDsgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBsZW5ndGggY29kZSBsZW5ndGhzICovXG4gIHRoaXMubmRpc3QgPSAwOyAgICAgICAgICAgICAvKiBudW1iZXIgb2YgZGlzdGFuY2UgY29kZSBsZW5ndGhzICovXG4gIHRoaXMuaGF2ZSA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgY29kZSBsZW5ndGhzIGluIGxlbnNbXSAqL1xuICB0aGlzLm5leHQgPSBudWxsOyAgICAgICAgICAgICAgLyogbmV4dCBhdmFpbGFibGUgc3BhY2UgaW4gY29kZXNbXSAqL1xuXG4gIHRoaXMubGVucyA9IG5ldyBVaW50MTZBcnJheSgzMjApOyAvKiB0ZW1wb3Jhcnkgc3RvcmFnZSBmb3IgY29kZSBsZW5ndGhzICovXG4gIHRoaXMud29yayA9IG5ldyBVaW50MTZBcnJheSgyODgpOyAvKiB3b3JrIGFyZWEgZm9yIGNvZGUgdGFibGUgYnVpbGRpbmcgKi9cblxuICAvKlxuICAgYmVjYXVzZSB3ZSBkb24ndCBoYXZlIHBvaW50ZXJzIGluIGpzLCB3ZSB1c2UgbGVuY29kZSBhbmQgZGlzdGNvZGUgZGlyZWN0bHlcbiAgIGFzIGJ1ZmZlcnMgc28gd2UgZG9uJ3QgbmVlZCBjb2Rlc1xuICAqL1xuICAvL3RoaXMuY29kZXMgPSBuZXcgSW50MzJBcnJheShFTk9VR0gpOyAgICAgICAvKiBzcGFjZSBmb3IgY29kZSB0YWJsZXMgKi9cbiAgdGhpcy5sZW5keW4gPSBudWxsOyAgICAgICAgICAgICAgLyogZHluYW1pYyB0YWJsZSBmb3IgbGVuZ3RoL2xpdGVyYWwgY29kZXMgKEpTIHNwZWNpZmljKSAqL1xuICB0aGlzLmRpc3RkeW4gPSBudWxsOyAgICAgICAgICAgICAvKiBkeW5hbWljIHRhYmxlIGZvciBkaXN0YW5jZSBjb2RlcyAoSlMgc3BlY2lmaWMpICovXG4gIHRoaXMuc2FuZSA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIGlmIGZhbHNlLCBhbGxvdyBpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgKi9cbiAgdGhpcy5iYWNrID0gMDsgICAgICAgICAgICAgICAgICAgLyogYml0cyBiYWNrIG9mIGxhc3QgdW5wcm9jZXNzZWQgbGVuZ3RoL2xpdCAqL1xuICB0aGlzLndhcyA9IDA7ICAgICAgICAgICAgICAgICAgICAvKiBpbml0aWFsIGxlbmd0aCBvZiBtYXRjaCAqL1xufVxuXG5cbmNvbnN0IGluZmxhdGVTdGF0ZUNoZWNrID0gKHN0cm0pID0+IHtcblxuICBpZiAoIXN0cm0pIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICBjb25zdCBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIGlmICghc3RhdGUgfHwgc3RhdGUuc3RybSAhPT0gc3RybSB8fFxuICAgIHN0YXRlLm1vZGUgPCBIRUFEIHx8IHN0YXRlLm1vZGUgPiBTWU5DKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5cbmNvbnN0IGluZmxhdGVSZXNldEtlZXAgPSAoc3RybSkgPT4ge1xuXG4gIGlmIChpbmZsYXRlU3RhdGVDaGVjayhzdHJtKSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1IkMTsgfVxuICBjb25zdCBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIHN0cm0udG90YWxfaW4gPSBzdHJtLnRvdGFsX291dCA9IHN0YXRlLnRvdGFsID0gMDtcbiAgc3RybS5tc2cgPSAnJzsgLypaX05VTEwqL1xuICBpZiAoc3RhdGUud3JhcCkgeyAgICAgICAvKiB0byBzdXBwb3J0IGlsbC1jb25jZWl2ZWQgSmF2YSB0ZXN0IHN1aXRlICovXG4gICAgc3RybS5hZGxlciA9IHN0YXRlLndyYXAgJiAxO1xuICB9XG4gIHN0YXRlLm1vZGUgPSBIRUFEO1xuICBzdGF0ZS5sYXN0ID0gMDtcbiAgc3RhdGUuaGF2ZWRpY3QgPSAwO1xuICBzdGF0ZS5mbGFncyA9IC0xO1xuICBzdGF0ZS5kbWF4ID0gMzI3Njg7XG4gIHN0YXRlLmhlYWQgPSBudWxsLypaX05VTEwqLztcbiAgc3RhdGUuaG9sZCA9IDA7XG4gIHN0YXRlLmJpdHMgPSAwO1xuICAvL3N0YXRlLmxlbmNvZGUgPSBzdGF0ZS5kaXN0Y29kZSA9IHN0YXRlLm5leHQgPSBzdGF0ZS5jb2RlcztcbiAgc3RhdGUubGVuY29kZSA9IHN0YXRlLmxlbmR5biA9IG5ldyBJbnQzMkFycmF5KEVOT1VHSF9MRU5TKTtcbiAgc3RhdGUuZGlzdGNvZGUgPSBzdGF0ZS5kaXN0ZHluID0gbmV3IEludDMyQXJyYXkoRU5PVUdIX0RJU1RTKTtcblxuICBzdGF0ZS5zYW5lID0gMTtcbiAgc3RhdGUuYmFjayA9IC0xO1xuICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6IHJlc2V0XFxuXCIpKTtcbiAgcmV0dXJuIFpfT0skMTtcbn07XG5cblxuY29uc3QgaW5mbGF0ZVJlc2V0ID0gKHN0cm0pID0+IHtcblxuICBpZiAoaW5mbGF0ZVN0YXRlQ2hlY2soc3RybSkpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDE7IH1cbiAgY29uc3Qgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBzdGF0ZS53c2l6ZSA9IDA7XG4gIHN0YXRlLndoYXZlID0gMDtcbiAgc3RhdGUud25leHQgPSAwO1xuICByZXR1cm4gaW5mbGF0ZVJlc2V0S2VlcChzdHJtKTtcblxufTtcblxuXG5jb25zdCBpbmZsYXRlUmVzZXQyID0gKHN0cm0sIHdpbmRvd0JpdHMpID0+IHtcbiAgbGV0IHdyYXA7XG5cbiAgLyogZ2V0IHRoZSBzdGF0ZSAqL1xuICBpZiAoaW5mbGF0ZVN0YXRlQ2hlY2soc3RybSkpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDE7IH1cbiAgY29uc3Qgc3RhdGUgPSBzdHJtLnN0YXRlO1xuXG4gIC8qIGV4dHJhY3Qgd3JhcCByZXF1ZXN0IGZyb20gd2luZG93Qml0cyBwYXJhbWV0ZXIgKi9cbiAgaWYgKHdpbmRvd0JpdHMgPCAwKSB7XG4gICAgd3JhcCA9IDA7XG4gICAgd2luZG93Qml0cyA9IC13aW5kb3dCaXRzO1xuICB9XG4gIGVsc2Uge1xuICAgIHdyYXAgPSAod2luZG93Qml0cyA+PiA0KSArIDU7XG4gICAgaWYgKHdpbmRvd0JpdHMgPCA0OCkge1xuICAgICAgd2luZG93Qml0cyAmPSAxNTtcbiAgICB9XG4gIH1cblxuICAvKiBzZXQgbnVtYmVyIG9mIHdpbmRvdyBiaXRzLCBmcmVlIHdpbmRvdyBpZiBkaWZmZXJlbnQgKi9cbiAgaWYgKHdpbmRvd0JpdHMgJiYgKHdpbmRvd0JpdHMgPCA4IHx8IHdpbmRvd0JpdHMgPiAxNSkpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1IkMTtcbiAgfVxuICBpZiAoc3RhdGUud2luZG93ICE9PSBudWxsICYmIHN0YXRlLndiaXRzICE9PSB3aW5kb3dCaXRzKSB7XG4gICAgc3RhdGUud2luZG93ID0gbnVsbDtcbiAgfVxuXG4gIC8qIHVwZGF0ZSBzdGF0ZSBhbmQgcmVzZXQgdGhlIHJlc3Qgb2YgaXQgKi9cbiAgc3RhdGUud3JhcCA9IHdyYXA7XG4gIHN0YXRlLndiaXRzID0gd2luZG93Qml0cztcbiAgcmV0dXJuIGluZmxhdGVSZXNldChzdHJtKTtcbn07XG5cblxuY29uc3QgaW5mbGF0ZUluaXQyID0gKHN0cm0sIHdpbmRvd0JpdHMpID0+IHtcblxuICBpZiAoIXN0cm0pIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDE7IH1cbiAgLy9zdHJtLm1zZyA9IFpfTlVMTDsgICAgICAgICAgICAgICAgIC8qIGluIGNhc2Ugd2UgcmV0dXJuIGFuIGVycm9yICovXG5cbiAgY29uc3Qgc3RhdGUgPSBuZXcgSW5mbGF0ZVN0YXRlKCk7XG5cbiAgLy9pZiAoc3RhdGUgPT09IFpfTlVMTCkgcmV0dXJuIFpfTUVNX0VSUk9SO1xuICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6IGFsbG9jYXRlZFxcblwiKSk7XG4gIHN0cm0uc3RhdGUgPSBzdGF0ZTtcbiAgc3RhdGUuc3RybSA9IHN0cm07XG4gIHN0YXRlLndpbmRvdyA9IG51bGwvKlpfTlVMTCovO1xuICBzdGF0ZS5tb2RlID0gSEVBRDsgICAgIC8qIHRvIHBhc3Mgc3RhdGUgdGVzdCBpbiBpbmZsYXRlUmVzZXQyKCkgKi9cbiAgY29uc3QgcmV0ID0gaW5mbGF0ZVJlc2V0MihzdHJtLCB3aW5kb3dCaXRzKTtcbiAgaWYgKHJldCAhPT0gWl9PSyQxKSB7XG4gICAgc3RybS5zdGF0ZSA9IG51bGwvKlpfTlVMTCovO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG5cbmNvbnN0IGluZmxhdGVJbml0ID0gKHN0cm0pID0+IHtcblxuICByZXR1cm4gaW5mbGF0ZUluaXQyKHN0cm0sIERFRl9XQklUUyk7XG59O1xuXG5cbi8qXG4gUmV0dXJuIHN0YXRlIHdpdGggbGVuZ3RoIGFuZCBkaXN0YW5jZSBkZWNvZGluZyB0YWJsZXMgYW5kIGluZGV4IHNpemVzIHNldCB0b1xuIGZpeGVkIGNvZGUgZGVjb2RpbmcuICBOb3JtYWxseSB0aGlzIHJldHVybnMgZml4ZWQgdGFibGVzIGZyb20gaW5mZml4ZWQuaC5cbiBJZiBCVUlMREZJWEVEIGlzIGRlZmluZWQsIHRoZW4gaW5zdGVhZCB0aGlzIHJvdXRpbmUgYnVpbGRzIHRoZSB0YWJsZXMgdGhlXG4gZmlyc3QgdGltZSBpdCdzIGNhbGxlZCwgYW5kIHJldHVybnMgdGhvc2UgdGFibGVzIHRoZSBmaXJzdCB0aW1lIGFuZFxuIHRoZXJlYWZ0ZXIuICBUaGlzIHJlZHVjZXMgdGhlIHNpemUgb2YgdGhlIGNvZGUgYnkgYWJvdXQgMksgYnl0ZXMsIGluXG4gZXhjaGFuZ2UgZm9yIGEgbGl0dGxlIGV4ZWN1dGlvbiB0aW1lLiAgSG93ZXZlciwgQlVJTERGSVhFRCBzaG91bGQgbm90IGJlXG4gdXNlZCBmb3IgdGhyZWFkZWQgYXBwbGljYXRpb25zLCBzaW5jZSB0aGUgcmV3cml0aW5nIG9mIHRoZSB0YWJsZXMgYW5kIHZpcmdpblxuIG1heSBub3QgYmUgdGhyZWFkLXNhZmUuXG4gKi9cbmxldCB2aXJnaW4gPSB0cnVlO1xuXG5sZXQgbGVuZml4LCBkaXN0Zml4OyAvLyBXZSBoYXZlIG5vIHBvaW50ZXJzIGluIEpTLCBzbyBrZWVwIHRhYmxlcyBzZXBhcmF0ZVxuXG5cbmNvbnN0IGZpeGVkdGFibGVzID0gKHN0YXRlKSA9PiB7XG5cbiAgLyogYnVpbGQgZml4ZWQgaHVmZm1hbiB0YWJsZXMgaWYgZmlyc3QgY2FsbCAobWF5IG5vdCBiZSB0aHJlYWQgc2FmZSkgKi9cbiAgaWYgKHZpcmdpbikge1xuICAgIGxlbmZpeCA9IG5ldyBJbnQzMkFycmF5KDUxMik7XG4gICAgZGlzdGZpeCA9IG5ldyBJbnQzMkFycmF5KDMyKTtcblxuICAgIC8qIGxpdGVyYWwvbGVuZ3RoIHRhYmxlICovXG4gICAgbGV0IHN5bSA9IDA7XG4gICAgd2hpbGUgKHN5bSA8IDE0NCkgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDg7IH1cbiAgICB3aGlsZSAoc3ltIDwgMjU2KSB7IHN0YXRlLmxlbnNbc3ltKytdID0gOTsgfVxuICAgIHdoaWxlIChzeW0gPCAyODApIHsgc3RhdGUubGVuc1tzeW0rK10gPSA3OyB9XG4gICAgd2hpbGUgKHN5bSA8IDI4OCkgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDg7IH1cblxuICAgIGluZnRyZWVzKExFTlMsICBzdGF0ZS5sZW5zLCAwLCAyODgsIGxlbmZpeCwgICAwLCBzdGF0ZS53b3JrLCB7IGJpdHM6IDkgfSk7XG5cbiAgICAvKiBkaXN0YW5jZSB0YWJsZSAqL1xuICAgIHN5bSA9IDA7XG4gICAgd2hpbGUgKHN5bSA8IDMyKSB7IHN0YXRlLmxlbnNbc3ltKytdID0gNTsgfVxuXG4gICAgaW5mdHJlZXMoRElTVFMsIHN0YXRlLmxlbnMsIDAsIDMyLCAgIGRpc3RmaXgsIDAsIHN0YXRlLndvcmssIHsgYml0czogNSB9KTtcblxuICAgIC8qIGRvIHRoaXMganVzdCBvbmNlICovXG4gICAgdmlyZ2luID0gZmFsc2U7XG4gIH1cblxuICBzdGF0ZS5sZW5jb2RlID0gbGVuZml4O1xuICBzdGF0ZS5sZW5iaXRzID0gOTtcbiAgc3RhdGUuZGlzdGNvZGUgPSBkaXN0Zml4O1xuICBzdGF0ZS5kaXN0Yml0cyA9IDU7XG59O1xuXG5cbi8qXG4gVXBkYXRlIHRoZSB3aW5kb3cgd2l0aCB0aGUgbGFzdCB3c2l6ZSAobm9ybWFsbHkgMzJLKSBieXRlcyB3cml0dGVuIGJlZm9yZVxuIHJldHVybmluZy4gIElmIHdpbmRvdyBkb2VzIG5vdCBleGlzdCB5ZXQsIGNyZWF0ZSBpdC4gIFRoaXMgaXMgb25seSBjYWxsZWRcbiB3aGVuIGEgd2luZG93IGlzIGFscmVhZHkgaW4gdXNlLCBvciB3aGVuIG91dHB1dCBoYXMgYmVlbiB3cml0dGVuIGR1cmluZyB0aGlzXG4gaW5mbGF0ZSBjYWxsLCBidXQgdGhlIGVuZCBvZiB0aGUgZGVmbGF0ZSBzdHJlYW0gaGFzIG5vdCBiZWVuIHJlYWNoZWQgeWV0LlxuIEl0IGlzIGFsc28gY2FsbGVkIHRvIGNyZWF0ZSBhIHdpbmRvdyBmb3IgZGljdGlvbmFyeSBkYXRhIHdoZW4gYSBkaWN0aW9uYXJ5XG4gaXMgbG9hZGVkLlxuXG4gUHJvdmlkaW5nIG91dHB1dCBidWZmZXJzIGxhcmdlciB0aGFuIDMySyB0byBpbmZsYXRlKCkgc2hvdWxkIHByb3ZpZGUgYSBzcGVlZFxuIGFkdmFudGFnZSwgc2luY2Ugb25seSB0aGUgbGFzdCAzMksgb2Ygb3V0cHV0IGlzIGNvcGllZCB0byB0aGUgc2xpZGluZyB3aW5kb3dcbiB1cG9uIHJldHVybiBmcm9tIGluZmxhdGUoKSwgYW5kIHNpbmNlIGFsbCBkaXN0YW5jZXMgYWZ0ZXIgdGhlIGZpcnN0IDMySyBvZlxuIG91dHB1dCB3aWxsIGZhbGwgaW4gdGhlIG91dHB1dCBkYXRhLCBtYWtpbmcgbWF0Y2ggY29waWVzIHNpbXBsZXIgYW5kIGZhc3Rlci5cbiBUaGUgYWR2YW50YWdlIG1heSBiZSBkZXBlbmRlbnQgb24gdGhlIHNpemUgb2YgdGhlIHByb2Nlc3NvcidzIGRhdGEgY2FjaGVzLlxuICovXG5jb25zdCB1cGRhdGV3aW5kb3cgPSAoc3RybSwgc3JjLCBlbmQsIGNvcHkpID0+IHtcblxuICBsZXQgZGlzdDtcbiAgY29uc3Qgc3RhdGUgPSBzdHJtLnN0YXRlO1xuXG4gIC8qIGlmIGl0IGhhc24ndCBiZWVuIGRvbmUgYWxyZWFkeSwgYWxsb2NhdGUgc3BhY2UgZm9yIHRoZSB3aW5kb3cgKi9cbiAgaWYgKHN0YXRlLndpbmRvdyA9PT0gbnVsbCkge1xuICAgIHN0YXRlLndzaXplID0gMSA8PCBzdGF0ZS53Yml0cztcbiAgICBzdGF0ZS53bmV4dCA9IDA7XG4gICAgc3RhdGUud2hhdmUgPSAwO1xuXG4gICAgc3RhdGUud2luZG93ID0gbmV3IFVpbnQ4QXJyYXkoc3RhdGUud3NpemUpO1xuICB9XG5cbiAgLyogY29weSBzdGF0ZS0+d3NpemUgb3IgbGVzcyBvdXRwdXQgYnl0ZXMgaW50byB0aGUgY2lyY3VsYXIgd2luZG93ICovXG4gIGlmIChjb3B5ID49IHN0YXRlLndzaXplKSB7XG4gICAgc3RhdGUud2luZG93LnNldChzcmMuc3ViYXJyYXkoZW5kIC0gc3RhdGUud3NpemUsIGVuZCksIDApO1xuICAgIHN0YXRlLnduZXh0ID0gMDtcbiAgICBzdGF0ZS53aGF2ZSA9IHN0YXRlLndzaXplO1xuICB9XG4gIGVsc2Uge1xuICAgIGRpc3QgPSBzdGF0ZS53c2l6ZSAtIHN0YXRlLnduZXh0O1xuICAgIGlmIChkaXN0ID4gY29weSkge1xuICAgICAgZGlzdCA9IGNvcHk7XG4gICAgfVxuICAgIC8vem1lbWNweShzdGF0ZS0+d2luZG93ICsgc3RhdGUtPnduZXh0LCBlbmQgLSBjb3B5LCBkaXN0KTtcbiAgICBzdGF0ZS53aW5kb3cuc2V0KHNyYy5zdWJhcnJheShlbmQgLSBjb3B5LCBlbmQgLSBjb3B5ICsgZGlzdCksIHN0YXRlLnduZXh0KTtcbiAgICBjb3B5IC09IGRpc3Q7XG4gICAgaWYgKGNvcHkpIHtcbiAgICAgIC8vem1lbWNweShzdGF0ZS0+d2luZG93LCBlbmQgLSBjb3B5LCBjb3B5KTtcbiAgICAgIHN0YXRlLndpbmRvdy5zZXQoc3JjLnN1YmFycmF5KGVuZCAtIGNvcHksIGVuZCksIDApO1xuICAgICAgc3RhdGUud25leHQgPSBjb3B5O1xuICAgICAgc3RhdGUud2hhdmUgPSBzdGF0ZS53c2l6ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzdGF0ZS53bmV4dCArPSBkaXN0O1xuICAgICAgaWYgKHN0YXRlLnduZXh0ID09PSBzdGF0ZS53c2l6ZSkgeyBzdGF0ZS53bmV4dCA9IDA7IH1cbiAgICAgIGlmIChzdGF0ZS53aGF2ZSA8IHN0YXRlLndzaXplKSB7IHN0YXRlLndoYXZlICs9IGRpc3Q7IH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5cbmNvbnN0IGluZmxhdGUkMiA9IChzdHJtLCBmbHVzaCkgPT4ge1xuXG4gIGxldCBzdGF0ZTtcbiAgbGV0IGlucHV0LCBvdXRwdXQ7ICAgICAgICAgIC8vIGlucHV0L291dHB1dCBidWZmZXJzXG4gIGxldCBuZXh0OyAgICAgICAgICAgICAgICAgICAvKiBuZXh0IGlucHV0IElOREVYICovXG4gIGxldCBwdXQ7ICAgICAgICAgICAgICAgICAgICAvKiBuZXh0IG91dHB1dCBJTkRFWCAqL1xuICBsZXQgaGF2ZSwgbGVmdDsgICAgICAgICAgICAgLyogYXZhaWxhYmxlIGlucHV0IGFuZCBvdXRwdXQgKi9cbiAgbGV0IGhvbGQ7ICAgICAgICAgICAgICAgICAgIC8qIGJpdCBidWZmZXIgKi9cbiAgbGV0IGJpdHM7ICAgICAgICAgICAgICAgICAgIC8qIGJpdHMgaW4gYml0IGJ1ZmZlciAqL1xuICBsZXQgX2luLCBfb3V0OyAgICAgICAgICAgICAgLyogc2F2ZSBzdGFydGluZyBhdmFpbGFibGUgaW5wdXQgYW5kIG91dHB1dCAqL1xuICBsZXQgY29weTsgICAgICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIHN0b3JlZCBvciBtYXRjaCBieXRlcyB0byBjb3B5ICovXG4gIGxldCBmcm9tOyAgICAgICAgICAgICAgICAgICAvKiB3aGVyZSB0byBjb3B5IG1hdGNoIGJ5dGVzIGZyb20gKi9cbiAgbGV0IGZyb21fc291cmNlO1xuICBsZXQgaGVyZSA9IDA7ICAgICAgICAgICAgICAgLyogY3VycmVudCBkZWNvZGluZyB0YWJsZSBlbnRyeSAqL1xuICBsZXQgaGVyZV9iaXRzLCBoZXJlX29wLCBoZXJlX3ZhbDsgLy8gcGFrZWQgXCJoZXJlXCIgZGVub3JtYWxpemVkIChKUyBzcGVjaWZpYylcbiAgLy9sZXQgbGFzdDsgICAgICAgICAgICAgICAgICAgLyogcGFyZW50IHRhYmxlIGVudHJ5ICovXG4gIGxldCBsYXN0X2JpdHMsIGxhc3Rfb3AsIGxhc3RfdmFsOyAvLyBwYWtlZCBcImxhc3RcIiBkZW5vcm1hbGl6ZWQgKEpTIHNwZWNpZmljKVxuICBsZXQgbGVuOyAgICAgICAgICAgICAgICAgICAgLyogbGVuZ3RoIHRvIGNvcHkgZm9yIHJlcGVhdHMsIGJpdHMgdG8gZHJvcCAqL1xuICBsZXQgcmV0OyAgICAgICAgICAgICAgICAgICAgLyogcmV0dXJuIGNvZGUgKi9cbiAgY29uc3QgaGJ1ZiA9IG5ldyBVaW50OEFycmF5KDQpOyAgICAvKiBidWZmZXIgZm9yIGd6aXAgaGVhZGVyIGNyYyBjYWxjdWxhdGlvbiAqL1xuICBsZXQgb3B0cztcblxuICBsZXQgbjsgLy8gdGVtcG9yYXJ5IHZhcmlhYmxlIGZvciBORUVEX0JJVFNcblxuICBjb25zdCBvcmRlciA9IC8qIHBlcm11dGF0aW9uIG9mIGNvZGUgbGVuZ3RocyAqL1xuICAgIG5ldyBVaW50OEFycmF5KFsgMTYsIDE3LCAxOCwgMCwgOCwgNywgOSwgNiwgMTAsIDUsIDExLCA0LCAxMiwgMywgMTMsIDIsIDE0LCAxLCAxNSBdKTtcblxuXG4gIGlmIChpbmZsYXRlU3RhdGVDaGVjayhzdHJtKSB8fCAhc3RybS5vdXRwdXQgfHxcbiAgICAgICghc3RybS5pbnB1dCAmJiBzdHJtLmF2YWlsX2luICE9PSAwKSkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUiQxO1xuICB9XG5cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBpZiAoc3RhdGUubW9kZSA9PT0gVFlQRSkgeyBzdGF0ZS5tb2RlID0gVFlQRURPOyB9ICAgIC8qIHNraXAgY2hlY2sgKi9cblxuXG4gIC8vLS0tIExPQUQoKSAtLS1cbiAgcHV0ID0gc3RybS5uZXh0X291dDtcbiAgb3V0cHV0ID0gc3RybS5vdXRwdXQ7XG4gIGxlZnQgPSBzdHJtLmF2YWlsX291dDtcbiAgbmV4dCA9IHN0cm0ubmV4dF9pbjtcbiAgaW5wdXQgPSBzdHJtLmlucHV0O1xuICBoYXZlID0gc3RybS5hdmFpbF9pbjtcbiAgaG9sZCA9IHN0YXRlLmhvbGQ7XG4gIGJpdHMgPSBzdGF0ZS5iaXRzO1xuICAvLy0tLVxuXG4gIF9pbiA9IGhhdmU7XG4gIF9vdXQgPSBsZWZ0O1xuICByZXQgPSBaX09LJDE7XG5cbiAgaW5mX2xlYXZlOiAvLyBnb3RvIGVtdWxhdGlvblxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChzdGF0ZS5tb2RlKSB7XG4gICAgICBjYXNlIEhFQUQ6XG4gICAgICAgIGlmIChzdGF0ZS53cmFwID09PSAwKSB7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IFRZUEVETztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLz09PSBORUVEQklUUygxNik7XG4gICAgICAgIHdoaWxlIChiaXRzIDwgMTYpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgaWYgKChzdGF0ZS53cmFwICYgMikgJiYgaG9sZCA9PT0gMHg4YjFmKSB7ICAvKiBnemlwIGhlYWRlciAqL1xuICAgICAgICAgIGlmIChzdGF0ZS53Yml0cyA9PT0gMCkge1xuICAgICAgICAgICAgc3RhdGUud2JpdHMgPSAxNTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhdGUuY2hlY2sgPSAwLypjcmMzMigwTCwgWl9OVUxMLCAwKSovO1xuICAgICAgICAgIC8vPT09IENSQzIoc3RhdGUuY2hlY2ssIGhvbGQpO1xuICAgICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyXzEoc3RhdGUuY2hlY2ssIGhidWYsIDIsIDApO1xuICAgICAgICAgIC8vPT09Ly9cblxuICAgICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgICAgYml0cyA9IDA7XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBGTEFHUztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQuZG9uZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKHN0YXRlLndyYXAgJiAxKSB8fCAgIC8qIGNoZWNrIGlmIHpsaWIgaGVhZGVyIGFsbG93ZWQgKi9cbiAgICAgICAgICAoKChob2xkICYgMHhmZikvKkJJVFMoOCkqLyA8PCA4KSArIChob2xkID4+IDgpKSAlIDMxKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW5jb3JyZWN0IGhlYWRlciBjaGVjayc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGhvbGQgJiAweDBmKS8qQklUUyg0KSovICE9PSBaX0RFRkxBVEVEKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAndW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoNCkgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IDQ7XG4gICAgICAgIGJpdHMgLT0gNDtcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBsZW4gPSAoaG9sZCAmIDB4MGYpLypCSVRTKDQpKi8gKyA4O1xuICAgICAgICBpZiAoc3RhdGUud2JpdHMgPT09IDApIHtcbiAgICAgICAgICBzdGF0ZS53Yml0cyA9IGxlbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVuID4gMTUgfHwgbGVuID4gc3RhdGUud2JpdHMpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIHdpbmRvdyBzaXplJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gISEhIHBha28gcGF0Y2guIEZvcmNlIHVzZSBgb3B0aW9ucy53aW5kb3dCaXRzYCBpZiBwYXNzZWQuXG4gICAgICAgIC8vIFJlcXVpcmVkIHRvIGFsd2F5cyB1c2UgbWF4IHdpbmRvdyBzaXplIGJ5IGRlZmF1bHQuXG4gICAgICAgIHN0YXRlLmRtYXggPSAxIDw8IHN0YXRlLndiaXRzO1xuICAgICAgICAvL3N0YXRlLmRtYXggPSAxIDw8IGxlbjtcblxuICAgICAgICBzdGF0ZS5mbGFncyA9IDA7ICAgICAgICAgICAgICAgLyogaW5kaWNhdGUgemxpYiBoZWFkZXIgKi9cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIHpsaWIgaGVhZGVyIG9rXFxuXCIpKTtcbiAgICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0gMS8qYWRsZXIzMigwTCwgWl9OVUxMLCAwKSovO1xuICAgICAgICBzdGF0ZS5tb2RlID0gaG9sZCAmIDB4MjAwID8gRElDVElEIDogVFlQRTtcbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGTEFHUzpcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMTYpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLmZsYWdzID0gaG9sZDtcbiAgICAgICAgaWYgKChzdGF0ZS5mbGFncyAmIDB4ZmYpICE9PSBaX0RFRkxBVEVEKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAndW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHhlMDAwKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAndW5rbm93biBoZWFkZXIgZmxhZ3Mgc2V0JztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC50ZXh0ID0gKChob2xkID4+IDgpICYgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzdGF0ZS5mbGFncyAmIDB4MDIwMCkgJiYgKHN0YXRlLndyYXAgJiA0KSkge1xuICAgICAgICAgIC8vPT09IENSQzIoc3RhdGUuY2hlY2ssIGhvbGQpO1xuICAgICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyXzEoc3RhdGUuY2hlY2ssIGhidWYsIDIsIDApO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgfVxuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubW9kZSA9IFRJTUU7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgVElNRTpcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMzIpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC50aW1lID0gaG9sZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHN0YXRlLmZsYWdzICYgMHgwMjAwKSAmJiAoc3RhdGUud3JhcCAmIDQpKSB7XG4gICAgICAgICAgLy89PT0gQ1JDNChzdGF0ZS5jaGVjaywgaG9sZClcbiAgICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgaGJ1ZlsyXSA9IChob2xkID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgIGhidWZbM10gPSAoaG9sZCA+Pj4gMjQpICYgMHhmZjtcbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyXzEoc3RhdGUuY2hlY2ssIGhidWYsIDQsIDApO1xuICAgICAgICAgIC8vPT09XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm1vZGUgPSBPUztcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBPUzpcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMTYpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC54ZmxhZ3MgPSAoaG9sZCAmIDB4ZmYpO1xuICAgICAgICAgIHN0YXRlLmhlYWQub3MgPSAoaG9sZCA+PiA4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHN0YXRlLmZsYWdzICYgMHgwMjAwKSAmJiAoc3RhdGUud3JhcCAmIDQpKSB7XG4gICAgICAgICAgLy89PT0gQ1JDMihzdGF0ZS5jaGVjaywgaG9sZCk7XG4gICAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzJfMShzdGF0ZS5jaGVjaywgaGJ1ZiwgMiwgMCk7XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICB9XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5tb2RlID0gRVhMRU47XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgRVhMRU46XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDQwMCkge1xuICAgICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgc3RhdGUubGVuZ3RoID0gaG9sZDtcbiAgICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgICAgc3RhdGUuaGVhZC5leHRyYV9sZW4gPSBob2xkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoKHN0YXRlLmZsYWdzICYgMHgwMjAwKSAmJiAoc3RhdGUud3JhcCAmIDQpKSB7XG4gICAgICAgICAgICAvLz09PSBDUkMyKHN0YXRlLmNoZWNrLCBob2xkKTtcbiAgICAgICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMl8xKHN0YXRlLmNoZWNrLCBoYnVmLCAyLCAwKTtcbiAgICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgICBob2xkID0gMDtcbiAgICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQuZXh0cmEgPSBudWxsLypaX05VTEwqLztcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5tb2RlID0gRVhUUkE7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgRVhUUkE6XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDQwMCkge1xuICAgICAgICAgIGNvcHkgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgICAgaWYgKGNvcHkgPiBoYXZlKSB7IGNvcHkgPSBoYXZlOyB9XG4gICAgICAgICAgaWYgKGNvcHkpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgICAgIGxlbiA9IHN0YXRlLmhlYWQuZXh0cmFfbGVuIC0gc3RhdGUubGVuZ3RoO1xuICAgICAgICAgICAgICBpZiAoIXN0YXRlLmhlYWQuZXh0cmEpIHtcbiAgICAgICAgICAgICAgICAvLyBVc2UgdW50eXBlZCBhcnJheSBmb3IgbW9yZSBjb252ZW5pZW50IHByb2Nlc3NpbmcgbGF0ZXJcbiAgICAgICAgICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhID0gbmV3IFVpbnQ4QXJyYXkoc3RhdGUuaGVhZC5leHRyYV9sZW4pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN0YXRlLmhlYWQuZXh0cmEuc2V0KFxuICAgICAgICAgICAgICAgIGlucHV0LnN1YmFycmF5KFxuICAgICAgICAgICAgICAgICAgbmV4dCxcbiAgICAgICAgICAgICAgICAgIC8vIGV4dHJhIGZpZWxkIGlzIGxpbWl0ZWQgdG8gNjU1MzYgYnl0ZXNcbiAgICAgICAgICAgICAgICAgIC8vIC0gbm8gbmVlZCBmb3IgYWRkaXRpb25hbCBzaXplIGNoZWNrXG4gICAgICAgICAgICAgICAgICBuZXh0ICsgY29weVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgLypsZW4gKyBjb3B5ID4gc3RhdGUuaGVhZC5leHRyYV9tYXggLSBsZW4gPyBzdGF0ZS5oZWFkLmV4dHJhX21heCA6IGNvcHksKi9cbiAgICAgICAgICAgICAgICBsZW5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgLy96bWVtY3B5KHN0YXRlLmhlYWQuZXh0cmEgKyBsZW4sIG5leHQsXG4gICAgICAgICAgICAgIC8vICAgICAgICBsZW4gKyBjb3B5ID4gc3RhdGUuaGVhZC5leHRyYV9tYXggP1xuICAgICAgICAgICAgICAvLyAgICAgICAgc3RhdGUuaGVhZC5leHRyYV9tYXggLSBsZW4gOiBjb3B5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoc3RhdGUuZmxhZ3MgJiAweDAyMDApICYmIChzdGF0ZS53cmFwICYgNCkpIHtcbiAgICAgICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMl8xKHN0YXRlLmNoZWNrLCBpbnB1dCwgY29weSwgbmV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYXZlIC09IGNvcHk7XG4gICAgICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0YXRlLmxlbmd0aCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5sZW5ndGggPSAwO1xuICAgICAgICBzdGF0ZS5tb2RlID0gTkFNRTtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBOQU1FOlxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDA4MDApIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBjb3B5ID0gMDtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAvLyBUT0RPOiAyIG9yIDEgYnl0ZXM/XG4gICAgICAgICAgICBsZW4gPSBpbnB1dFtuZXh0ICsgY29weSsrXTtcbiAgICAgICAgICAgIC8qIHVzZSBjb25zdGFudCBsaW1pdCBiZWNhdXNlIGluIGpzIHdlIHNob3VsZCBub3QgcHJlYWxsb2NhdGUgbWVtb3J5ICovXG4gICAgICAgICAgICBpZiAoc3RhdGUuaGVhZCAmJiBsZW4gJiZcbiAgICAgICAgICAgICAgICAoc3RhdGUubGVuZ3RoIDwgNjU1MzYgLypzdGF0ZS5oZWFkLm5hbWVfbWF4Ki8pKSB7XG4gICAgICAgICAgICAgIHN0YXRlLmhlYWQubmFtZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGxlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSB3aGlsZSAobGVuICYmIGNvcHkgPCBoYXZlKTtcblxuICAgICAgICAgIGlmICgoc3RhdGUuZmxhZ3MgJiAweDAyMDApICYmIChzdGF0ZS53cmFwICYgNCkpIHtcbiAgICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzJfMShzdGF0ZS5jaGVjaywgaW5wdXQsIGNvcHksIG5leHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYXZlIC09IGNvcHk7XG4gICAgICAgICAgbmV4dCArPSBjb3B5O1xuICAgICAgICAgIGlmIChsZW4pIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQubmFtZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubGVuZ3RoID0gMDtcbiAgICAgICAgc3RhdGUubW9kZSA9IENPTU1FTlQ7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgQ09NTUVOVDpcbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgxMDAwKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgY29weSA9IDA7XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgbGVuID0gaW5wdXRbbmV4dCArIGNvcHkrK107XG4gICAgICAgICAgICAvKiB1c2UgY29uc3RhbnQgbGltaXQgYmVjYXVzZSBpbiBqcyB3ZSBzaG91bGQgbm90IHByZWFsbG9jYXRlIG1lbW9yeSAqL1xuICAgICAgICAgICAgaWYgKHN0YXRlLmhlYWQgJiYgbGVuICYmXG4gICAgICAgICAgICAgICAgKHN0YXRlLmxlbmd0aCA8IDY1NTM2IC8qc3RhdGUuaGVhZC5jb21tX21heCovKSkge1xuICAgICAgICAgICAgICBzdGF0ZS5oZWFkLmNvbW1lbnQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShsZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gd2hpbGUgKGxlbiAmJiBjb3B5IDwgaGF2ZSk7XG4gICAgICAgICAgaWYgKChzdGF0ZS5mbGFncyAmIDB4MDIwMCkgJiYgKHN0YXRlLndyYXAgJiA0KSkge1xuICAgICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMl8xKHN0YXRlLmNoZWNrLCBpbnB1dCwgY29weSwgbmV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgICAgaWYgKGxlbikgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC5jb21tZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5tb2RlID0gSENSQztcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBIQ1JDOlxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDAyMDApIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUygxNik7ICovXG4gICAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIGlmICgoc3RhdGUud3JhcCAmIDQpICYmIGhvbGQgIT09IChzdGF0ZS5jaGVjayAmIDB4ZmZmZikpIHtcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2hlYWRlciBjcmMgbWlzbWF0Y2gnO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICAgIGhvbGQgPSAwO1xuICAgICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQuaGNyYyA9ICgoc3RhdGUuZmxhZ3MgPj4gOSkgJiAxKTtcbiAgICAgICAgICBzdGF0ZS5oZWFkLmRvbmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IDA7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElDVElEOlxuICAgICAgICAvLz09PSBORUVEQklUUygzMik7ICovXG4gICAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0genN3YXAzMihob2xkKTtcbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm1vZGUgPSBESUNUO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIERJQ1Q6XG4gICAgICAgIGlmIChzdGF0ZS5oYXZlZGljdCA9PT0gMCkge1xuICAgICAgICAgIC8vLS0tIFJFU1RPUkUoKSAtLS1cbiAgICAgICAgICBzdHJtLm5leHRfb3V0ID0gcHV0O1xuICAgICAgICAgIHN0cm0uYXZhaWxfb3V0ID0gbGVmdDtcbiAgICAgICAgICBzdHJtLm5leHRfaW4gPSBuZXh0O1xuICAgICAgICAgIHN0cm0uYXZhaWxfaW4gPSBoYXZlO1xuICAgICAgICAgIHN0YXRlLmhvbGQgPSBob2xkO1xuICAgICAgICAgIHN0YXRlLmJpdHMgPSBiaXRzO1xuICAgICAgICAgIC8vLS0tXG4gICAgICAgICAgcmV0dXJuIFpfTkVFRF9ESUNUJDE7XG4gICAgICAgIH1cbiAgICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0gMS8qYWRsZXIzMigwTCwgWl9OVUxMLCAwKSovO1xuICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBUWVBFOlxuICAgICAgICBpZiAoZmx1c2ggPT09IFpfQkxPQ0sgfHwgZmx1c2ggPT09IFpfVFJFRVMpIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgVFlQRURPOlxuICAgICAgICBpZiAoc3RhdGUubGFzdCkge1xuICAgICAgICAgIC8vLS0tIEJZVEVCSVRTKCkgLS0tLy9cbiAgICAgICAgICBob2xkID4+Pj0gYml0cyAmIDc7XG4gICAgICAgICAgYml0cyAtPSBiaXRzICYgNztcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgc3RhdGUubW9kZSA9IENIRUNLO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDMpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDMpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubGFzdCA9IChob2xkICYgMHgwMSkvKkJJVFMoMSkqLztcbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoMSkgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IDE7XG4gICAgICAgIGJpdHMgLT0gMTtcbiAgICAgICAgLy8tLS0vL1xuXG4gICAgICAgIHN3aXRjaCAoKGhvbGQgJiAweDAzKS8qQklUUygyKSovKSB7XG4gICAgICAgICAgY2FzZSAwOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogc3RvcmVkIGJsb2NrICovXG4gICAgICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICBzdG9yZWQgYmxvY2slc1xcblwiLFxuICAgICAgICAgICAgLy8gICAgICAgIHN0YXRlLmxhc3QgPyBcIiAobGFzdClcIiA6IFwiXCIpKTtcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBTVE9SRUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDE6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBmaXhlZCBibG9jayAqL1xuICAgICAgICAgICAgZml4ZWR0YWJsZXMoc3RhdGUpO1xuICAgICAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgZml4ZWQgY29kZXMgYmxvY2slc1xcblwiLFxuICAgICAgICAgICAgLy8gICAgICAgIHN0YXRlLmxhc3QgPyBcIiAobGFzdClcIiA6IFwiXCIpKTtcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBMRU5fOyAgICAgICAgICAgICAvKiBkZWNvZGUgY29kZXMgKi9cbiAgICAgICAgICAgIGlmIChmbHVzaCA9PT0gWl9UUkVFUykge1xuICAgICAgICAgICAgICAvLy0tLSBEUk9QQklUUygyKSAtLS0vL1xuICAgICAgICAgICAgICBob2xkID4+Pj0gMjtcbiAgICAgICAgICAgICAgYml0cyAtPSAyO1xuICAgICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjogICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGR5bmFtaWMgYmxvY2sgKi9cbiAgICAgICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgIGR5bmFtaWMgY29kZXMgYmxvY2slc1xcblwiLFxuICAgICAgICAgICAgLy8gICAgICAgIHN0YXRlLmxhc3QgPyBcIiAobGFzdClcIiA6IFwiXCIpKTtcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBUQUJMRTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgYmxvY2sgdHlwZSc7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICB9XG4gICAgICAgIC8vLS0tIERST1BCSVRTKDIpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSAyO1xuICAgICAgICBiaXRzIC09IDI7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNUT1JFRDpcbiAgICAgICAgLy8tLS0gQllURUJJVFMoKSAtLS0vLyAvKiBnbyB0byBieXRlIGJvdW5kYXJ5ICovXG4gICAgICAgIGhvbGQgPj4+PSBiaXRzICYgNztcbiAgICAgICAgYml0cyAtPSBiaXRzICYgNztcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICAvLz09PSBORUVEQklUUygzMik7ICovXG4gICAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgaWYgKChob2xkICYgMHhmZmZmKSAhPT0gKChob2xkID4+PiAxNikgXiAweGZmZmYpKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBzdG9yZWQgYmxvY2sgbGVuZ3Rocyc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5sZW5ndGggPSBob2xkICYgMHhmZmZmO1xuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgIHN0b3JlZCBsZW5ndGggJXVcXG5cIixcbiAgICAgICAgLy8gICAgICAgIHN0YXRlLmxlbmd0aCkpO1xuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubW9kZSA9IENPUFlfO1xuICAgICAgICBpZiAoZmx1c2ggPT09IFpfVFJFRVMpIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgQ09QWV86XG4gICAgICAgIHN0YXRlLm1vZGUgPSBDT1BZO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIENPUFk6XG4gICAgICAgIGNvcHkgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIGlmIChjb3B5KSB7XG4gICAgICAgICAgaWYgKGNvcHkgPiBoYXZlKSB7IGNvcHkgPSBoYXZlOyB9XG4gICAgICAgICAgaWYgKGNvcHkgPiBsZWZ0KSB7IGNvcHkgPSBsZWZ0OyB9XG4gICAgICAgICAgaWYgKGNvcHkgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgLy8tLS0gem1lbWNweShwdXQsIG5leHQsIGNvcHkpOyAtLS1cbiAgICAgICAgICBvdXRwdXQuc2V0KGlucHV0LnN1YmFycmF5KG5leHQsIG5leHQgKyBjb3B5KSwgcHV0KTtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgaGF2ZSAtPSBjb3B5O1xuICAgICAgICAgIG5leHQgKz0gY29weTtcbiAgICAgICAgICBsZWZ0IC09IGNvcHk7XG4gICAgICAgICAgcHV0ICs9IGNvcHk7XG4gICAgICAgICAgc3RhdGUubGVuZ3RoIC09IGNvcHk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICBzdG9yZWQgZW5kXFxuXCIpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUQUJMRTpcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMTQpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDE0KSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm5sZW4gPSAoaG9sZCAmIDB4MWYpLypCSVRTKDUpKi8gKyAyNTc7XG4gICAgICAgIC8vLS0tIERST1BCSVRTKDUpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSA1O1xuICAgICAgICBiaXRzIC09IDU7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUubmRpc3QgPSAoaG9sZCAmIDB4MWYpLypCSVRTKDUpKi8gKyAxO1xuICAgICAgICAvLy0tLSBEUk9QQklUUyg1KSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gNTtcbiAgICAgICAgYml0cyAtPSA1O1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLm5jb2RlID0gKGhvbGQgJiAweDBmKS8qQklUUyg0KSovICsgNDtcbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoNCkgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IDQ7XG4gICAgICAgIGJpdHMgLT0gNDtcbiAgICAgICAgLy8tLS0vL1xuLy8jaWZuZGVmIFBLWklQX0JVR19XT1JLQVJPVU5EXG4gICAgICAgIGlmIChzdGF0ZS5ubGVuID4gMjg2IHx8IHN0YXRlLm5kaXN0ID4gMzApIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICd0b28gbWFueSBsZW5ndGggb3IgZGlzdGFuY2Ugc3ltYm9scyc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuLy8jZW5kaWZcbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICB0YWJsZSBzaXplcyBva1xcblwiKSk7XG4gICAgICAgIHN0YXRlLmhhdmUgPSAwO1xuICAgICAgICBzdGF0ZS5tb2RlID0gTEVOTEVOUztcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBMRU5MRU5TOlxuICAgICAgICB3aGlsZSAoc3RhdGUuaGF2ZSA8IHN0YXRlLm5jb2RlKSB7XG4gICAgICAgICAgLy89PT0gTkVFREJJVFMoMyk7XG4gICAgICAgICAgd2hpbGUgKGJpdHMgPCAzKSB7XG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgc3RhdGUubGVuc1tvcmRlcltzdGF0ZS5oYXZlKytdXSA9IChob2xkICYgMHgwNyk7Ly9CSVRTKDMpO1xuICAgICAgICAgIC8vLS0tIERST1BCSVRTKDMpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IDM7XG4gICAgICAgICAgYml0cyAtPSAzO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoc3RhdGUuaGF2ZSA8IDE5KSB7XG4gICAgICAgICAgc3RhdGUubGVuc1tvcmRlcltzdGF0ZS5oYXZlKytdXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgaGF2ZSBzZXBhcmF0ZSB0YWJsZXMgJiBubyBwb2ludGVycy4gMiBjb21tZW50ZWQgbGluZXMgYmVsb3cgbm90IG5lZWRlZC5cbiAgICAgICAgLy9zdGF0ZS5uZXh0ID0gc3RhdGUuY29kZXM7XG4gICAgICAgIC8vc3RhdGUubGVuY29kZSA9IHN0YXRlLm5leHQ7XG4gICAgICAgIC8vIFN3aXRjaCB0byB1c2UgZHluYW1pYyB0YWJsZVxuICAgICAgICBzdGF0ZS5sZW5jb2RlID0gc3RhdGUubGVuZHluO1xuICAgICAgICBzdGF0ZS5sZW5iaXRzID0gNztcblxuICAgICAgICBvcHRzID0geyBiaXRzOiBzdGF0ZS5sZW5iaXRzIH07XG4gICAgICAgIHJldCA9IGluZnRyZWVzKENPREVTLCBzdGF0ZS5sZW5zLCAwLCAxOSwgc3RhdGUubGVuY29kZSwgMCwgc3RhdGUud29yaywgb3B0cyk7XG4gICAgICAgIHN0YXRlLmxlbmJpdHMgPSBvcHRzLmJpdHM7XG5cbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgY29kZSBsZW5ndGhzIHNldCc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgIGNvZGUgbGVuZ3RocyBva1xcblwiKSk7XG4gICAgICAgIHN0YXRlLmhhdmUgPSAwO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQ09ERUxFTlM7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgQ09ERUxFTlM6XG4gICAgICAgIHdoaWxlIChzdGF0ZS5oYXZlIDwgc3RhdGUubmxlbiArIHN0YXRlLm5kaXN0KSB7XG4gICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaGVyZSA9IHN0YXRlLmxlbmNvZGVbaG9sZCAmICgoMSA8PCBzdGF0ZS5sZW5iaXRzKSAtIDEpXTsvKkJJVFMoc3RhdGUubGVuYml0cykqL1xuICAgICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICAgIGlmICgoaGVyZV9iaXRzKSA8PSBiaXRzKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGVyZV92YWwgPCAxNikge1xuICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgc3RhdGUubGVuc1tzdGF0ZS5oYXZlKytdID0gaGVyZV92YWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGhlcmVfdmFsID09PSAxNikge1xuICAgICAgICAgICAgICAvLz09PSBORUVEQklUUyhoZXJlLmJpdHMgKyAyKTtcbiAgICAgICAgICAgICAgbiA9IGhlcmVfYml0cyArIDI7XG4gICAgICAgICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy89PT0vL1xuICAgICAgICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICAgIGlmIChzdGF0ZS5oYXZlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdCc7XG4gICAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsZW4gPSBzdGF0ZS5sZW5zW3N0YXRlLmhhdmUgLSAxXTtcbiAgICAgICAgICAgICAgY29weSA9IDMgKyAoaG9sZCAmIDB4MDMpOy8vQklUUygyKTtcbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMikgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IDI7XG4gICAgICAgICAgICAgIGJpdHMgLT0gMjtcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGVyZV92YWwgPT09IDE3KSB7XG4gICAgICAgICAgICAgIC8vPT09IE5FRURCSVRTKGhlcmUuYml0cyArIDMpO1xuICAgICAgICAgICAgICBuID0gaGVyZV9iaXRzICsgMztcbiAgICAgICAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgICAgbGVuID0gMDtcbiAgICAgICAgICAgICAgY29weSA9IDMgKyAoaG9sZCAmIDB4MDcpOy8vQklUUygzKTtcbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMykgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IDM7XG4gICAgICAgICAgICAgIGJpdHMgLT0gMztcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIC8vPT09IE5FRURCSVRTKGhlcmUuYml0cyArIDcpO1xuICAgICAgICAgICAgICBuID0gaGVyZV9iaXRzICsgNztcbiAgICAgICAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgICAgbGVuID0gMDtcbiAgICAgICAgICAgICAgY29weSA9IDExICsgKGhvbGQgJiAweDdmKTsvL0JJVFMoNyk7XG4gICAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKDcpIC0tLS8vXG4gICAgICAgICAgICAgIGhvbGQgPj4+PSA3O1xuICAgICAgICAgICAgICBiaXRzIC09IDc7XG4gICAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZS5oYXZlICsgY29weSA+IHN0YXRlLm5sZW4gKyBzdGF0ZS5uZGlzdCkge1xuICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0JztcbiAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoY29weS0tKSB7XG4gICAgICAgICAgICAgIHN0YXRlLmxlbnNbc3RhdGUuaGF2ZSsrXSA9IGxlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiBoYW5kbGUgZXJyb3IgYnJlYWtzIGluIHdoaWxlICovXG4gICAgICAgIGlmIChzdGF0ZS5tb2RlID09PSBCQUQpIHsgYnJlYWs7IH1cblxuICAgICAgICAvKiBjaGVjayBmb3IgZW5kLW9mLWJsb2NrIGNvZGUgKGJldHRlciBoYXZlIG9uZSkgKi9cbiAgICAgICAgaWYgKHN0YXRlLmxlbnNbMjU2XSA9PT0gMCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgY29kZSAtLSBtaXNzaW5nIGVuZC1vZi1ibG9jayc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIGJ1aWxkIGNvZGUgdGFibGVzIC0tIG5vdGU6IGRvIG5vdCBjaGFuZ2UgdGhlIGxlbmJpdHMgb3IgZGlzdGJpdHNcbiAgICAgICAgICAgdmFsdWVzIGhlcmUgKDkgYW5kIDYpIHdpdGhvdXQgcmVhZGluZyB0aGUgY29tbWVudHMgaW4gaW5mdHJlZXMuaFxuICAgICAgICAgICBjb25jZXJuaW5nIHRoZSBFTk9VR0ggY29uc3RhbnRzLCB3aGljaCBkZXBlbmQgb24gdGhvc2UgdmFsdWVzICovXG4gICAgICAgIHN0YXRlLmxlbmJpdHMgPSA5O1xuXG4gICAgICAgIG9wdHMgPSB7IGJpdHM6IHN0YXRlLmxlbmJpdHMgfTtcbiAgICAgICAgcmV0ID0gaW5mdHJlZXMoTEVOUywgc3RhdGUubGVucywgMCwgc3RhdGUubmxlbiwgc3RhdGUubGVuY29kZSwgMCwgc3RhdGUud29yaywgb3B0cyk7XG4gICAgICAgIC8vIFdlIGhhdmUgc2VwYXJhdGUgdGFibGVzICYgbm8gcG9pbnRlcnMuIDIgY29tbWVudGVkIGxpbmVzIGJlbG93IG5vdCBuZWVkZWQuXG4gICAgICAgIC8vIHN0YXRlLm5leHRfaW5kZXggPSBvcHRzLnRhYmxlX2luZGV4O1xuICAgICAgICBzdGF0ZS5sZW5iaXRzID0gb3B0cy5iaXRzO1xuICAgICAgICAvLyBzdGF0ZS5sZW5jb2RlID0gc3RhdGUubmV4dDtcblxuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBsaXRlcmFsL2xlbmd0aHMgc2V0JztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUuZGlzdGJpdHMgPSA2O1xuICAgICAgICAvL3N0YXRlLmRpc3Rjb2RlLmNvcHkoc3RhdGUuY29kZXMpO1xuICAgICAgICAvLyBTd2l0Y2ggdG8gdXNlIGR5bmFtaWMgdGFibGVcbiAgICAgICAgc3RhdGUuZGlzdGNvZGUgPSBzdGF0ZS5kaXN0ZHluO1xuICAgICAgICBvcHRzID0geyBiaXRzOiBzdGF0ZS5kaXN0Yml0cyB9O1xuICAgICAgICByZXQgPSBpbmZ0cmVlcyhESVNUUywgc3RhdGUubGVucywgc3RhdGUubmxlbiwgc3RhdGUubmRpc3QsIHN0YXRlLmRpc3Rjb2RlLCAwLCBzdGF0ZS53b3JrLCBvcHRzKTtcbiAgICAgICAgLy8gV2UgaGF2ZSBzZXBhcmF0ZSB0YWJsZXMgJiBubyBwb2ludGVycy4gMiBjb21tZW50ZWQgbGluZXMgYmVsb3cgbm90IG5lZWRlZC5cbiAgICAgICAgLy8gc3RhdGUubmV4dF9pbmRleCA9IG9wdHMudGFibGVfaW5kZXg7XG4gICAgICAgIHN0YXRlLmRpc3RiaXRzID0gb3B0cy5iaXRzO1xuICAgICAgICAvLyBzdGF0ZS5kaXN0Y29kZSA9IHN0YXRlLm5leHQ7XG5cbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2VzIHNldCc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCAnaW5mbGF0ZTogICAgICAgY29kZXMgb2tcXG4nKSk7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMRU5fO1xuICAgICAgICBpZiAoZmx1c2ggPT09IFpfVFJFRVMpIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTEVOXzpcbiAgICAgICAgc3RhdGUubW9kZSA9IExFTjtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBMRU46XG4gICAgICAgIGlmIChoYXZlID49IDYgJiYgbGVmdCA+PSAyNTgpIHtcbiAgICAgICAgICAvLy0tLSBSRVNUT1JFKCkgLS0tXG4gICAgICAgICAgc3RybS5uZXh0X291dCA9IHB1dDtcbiAgICAgICAgICBzdHJtLmF2YWlsX291dCA9IGxlZnQ7XG4gICAgICAgICAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgICAgICAgICBzdHJtLmF2YWlsX2luID0gaGF2ZTtcbiAgICAgICAgICBzdGF0ZS5ob2xkID0gaG9sZDtcbiAgICAgICAgICBzdGF0ZS5iaXRzID0gYml0cztcbiAgICAgICAgICAvLy0tLVxuICAgICAgICAgIGluZmZhc3Qoc3RybSwgX291dCk7XG4gICAgICAgICAgLy8tLS0gTE9BRCgpIC0tLVxuICAgICAgICAgIHB1dCA9IHN0cm0ubmV4dF9vdXQ7XG4gICAgICAgICAgb3V0cHV0ID0gc3RybS5vdXRwdXQ7XG4gICAgICAgICAgbGVmdCA9IHN0cm0uYXZhaWxfb3V0O1xuICAgICAgICAgIG5leHQgPSBzdHJtLm5leHRfaW47XG4gICAgICAgICAgaW5wdXQgPSBzdHJtLmlucHV0O1xuICAgICAgICAgIGhhdmUgPSBzdHJtLmF2YWlsX2luO1xuICAgICAgICAgIGhvbGQgPSBzdGF0ZS5ob2xkO1xuICAgICAgICAgIGJpdHMgPSBzdGF0ZS5iaXRzO1xuICAgICAgICAgIC8vLS0tXG5cbiAgICAgICAgICBpZiAoc3RhdGUubW9kZSA9PT0gVFlQRSkge1xuICAgICAgICAgICAgc3RhdGUuYmFjayA9IC0xO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5iYWNrID0gMDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgIGhlcmUgPSBzdGF0ZS5sZW5jb2RlW2hvbGQgJiAoKDEgPDwgc3RhdGUubGVuYml0cykgLSAxKV07ICAvKkJJVFMoc3RhdGUubGVuYml0cykqL1xuICAgICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICBpZiAoaGVyZV9iaXRzIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlcmVfb3AgJiYgKGhlcmVfb3AgJiAweGYwKSA9PT0gMCkge1xuICAgICAgICAgIGxhc3RfYml0cyA9IGhlcmVfYml0cztcbiAgICAgICAgICBsYXN0X29wID0gaGVyZV9vcDtcbiAgICAgICAgICBsYXN0X3ZhbCA9IGhlcmVfdmFsO1xuICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGhlcmUgPSBzdGF0ZS5sZW5jb2RlW2xhc3RfdmFsICtcbiAgICAgICAgICAgICAgICAgICAgKChob2xkICYgKCgxIDw8IChsYXN0X2JpdHMgKyBsYXN0X29wKSkgLSAxKSkvKkJJVFMobGFzdC5iaXRzICsgbGFzdC5vcCkqLyA+PiBsYXN0X2JpdHMpXTtcbiAgICAgICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICAgICAgaGVyZV9vcCA9IChoZXJlID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgICAgICBpZiAoKGxhc3RfYml0cyArIGhlcmVfYml0cykgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8tLS0gRFJPUEJJVFMobGFzdC5iaXRzKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSBsYXN0X2JpdHM7XG4gICAgICAgICAgYml0cyAtPSBsYXN0X2JpdHM7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIHN0YXRlLmJhY2sgKz0gbGFzdF9iaXRzO1xuICAgICAgICB9XG4gICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUuYmFjayArPSBoZXJlX2JpdHM7XG4gICAgICAgIHN0YXRlLmxlbmd0aCA9IGhlcmVfdmFsO1xuICAgICAgICBpZiAoaGVyZV9vcCA9PT0gMCkge1xuICAgICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBoZXJlLnZhbCA+PSAweDIwICYmIGhlcmUudmFsIDwgMHg3ZiA/XG4gICAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsICclYydcXG5cIiA6XG4gICAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsIDB4JTAyeFxcblwiLCBoZXJlLnZhbCkpO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBMSVQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlcmVfb3AgJiAzMikge1xuICAgICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgZW5kIG9mIGJsb2NrXFxuXCIpKTtcbiAgICAgICAgICBzdGF0ZS5iYWNrID0gLTE7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlcmVfb3AgJiA2NCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5leHRyYSA9IGhlcmVfb3AgJiAxNTtcbiAgICAgICAgc3RhdGUubW9kZSA9IExFTkVYVDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBMRU5FWFQ6XG4gICAgICAgIGlmIChzdGF0ZS5leHRyYSkge1xuICAgICAgICAgIC8vPT09IE5FRURCSVRTKHN0YXRlLmV4dHJhKTtcbiAgICAgICAgICBuID0gc3RhdGUuZXh0cmE7XG4gICAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgc3RhdGUubGVuZ3RoICs9IGhvbGQgJiAoKDEgPDwgc3RhdGUuZXh0cmEpIC0gMSkvKkJJVFMoc3RhdGUuZXh0cmEpKi87XG4gICAgICAgICAgLy8tLS0gRFJPUEJJVFMoc3RhdGUuZXh0cmEpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IHN0YXRlLmV4dHJhO1xuICAgICAgICAgIGJpdHMgLT0gc3RhdGUuZXh0cmE7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIHN0YXRlLmJhY2sgKz0gc3RhdGUuZXh0cmE7XG4gICAgICAgIH1cbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBsZW5ndGggJXVcXG5cIiwgc3RhdGUubGVuZ3RoKSk7XG4gICAgICAgIHN0YXRlLndhcyA9IHN0YXRlLmxlbmd0aDtcbiAgICAgICAgc3RhdGUubW9kZSA9IERJU1Q7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgRElTVDpcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgIGhlcmUgPSBzdGF0ZS5kaXN0Y29kZVtob2xkICYgKCgxIDw8IHN0YXRlLmRpc3RiaXRzKSAtIDEpXTsvKkJJVFMoc3RhdGUuZGlzdGJpdHMpKi9cbiAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgICAgaWYgKChoZXJlX2JpdHMpIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgIH1cbiAgICAgICAgaWYgKChoZXJlX29wICYgMHhmMCkgPT09IDApIHtcbiAgICAgICAgICBsYXN0X2JpdHMgPSBoZXJlX2JpdHM7XG4gICAgICAgICAgbGFzdF9vcCA9IGhlcmVfb3A7XG4gICAgICAgICAgbGFzdF92YWwgPSBoZXJlX3ZhbDtcbiAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBoZXJlID0gc3RhdGUuZGlzdGNvZGVbbGFzdF92YWwgK1xuICAgICAgICAgICAgICAgICAgICAoKGhvbGQgJiAoKDEgPDwgKGxhc3RfYml0cyArIGxhc3Rfb3ApKSAtIDEpKS8qQklUUyhsYXN0LmJpdHMgKyBsYXN0Lm9wKSovID4+IGxhc3RfYml0cyldO1xuICAgICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICAgIGlmICgobGFzdF9iaXRzICsgaGVyZV9iaXRzKSA8PSBiaXRzKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLy0tLSBEUk9QQklUUyhsYXN0LmJpdHMpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IGxhc3RfYml0cztcbiAgICAgICAgICBiaXRzIC09IGxhc3RfYml0cztcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgc3RhdGUuYmFjayArPSBsYXN0X2JpdHM7XG4gICAgICAgIH1cbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBzdGF0ZS5iYWNrICs9IGhlcmVfYml0cztcbiAgICAgICAgaWYgKGhlcmVfb3AgJiA2NCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgY29kZSc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5vZmZzZXQgPSBoZXJlX3ZhbDtcbiAgICAgICAgc3RhdGUuZXh0cmEgPSAoaGVyZV9vcCkgJiAxNTtcbiAgICAgICAgc3RhdGUubW9kZSA9IERJU1RFWFQ7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgRElTVEVYVDpcbiAgICAgICAgaWYgKHN0YXRlLmV4dHJhKSB7XG4gICAgICAgICAgLy89PT0gTkVFREJJVFMoc3RhdGUuZXh0cmEpO1xuICAgICAgICAgIG4gPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBzdGF0ZS5vZmZzZXQgKz0gaG9sZCAmICgoMSA8PCBzdGF0ZS5leHRyYSkgLSAxKS8qQklUUyhzdGF0ZS5leHRyYSkqLztcbiAgICAgICAgICAvLy0tLSBEUk9QQklUUyhzdGF0ZS5leHRyYSkgLS0tLy9cbiAgICAgICAgICBob2xkID4+Pj0gc3RhdGUuZXh0cmE7XG4gICAgICAgICAgYml0cyAtPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgc3RhdGUuYmFjayArPSBzdGF0ZS5leHRyYTtcbiAgICAgICAgfVxuLy8jaWZkZWYgSU5GTEFURV9TVFJJQ1RcbiAgICAgICAgaWYgKHN0YXRlLm9mZnNldCA+IHN0YXRlLmRtYXgpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuLy8jZW5kaWZcbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBkaXN0YW5jZSAldVxcblwiLCBzdGF0ZS5vZmZzZXQpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IE1BVENIO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIE1BVENIOlxuICAgICAgICBpZiAobGVmdCA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgY29weSA9IF9vdXQgLSBsZWZ0O1xuICAgICAgICBpZiAoc3RhdGUub2Zmc2V0ID4gY29weSkgeyAgICAgICAgIC8qIGNvcHkgZnJvbSB3aW5kb3cgKi9cbiAgICAgICAgICBjb3B5ID0gc3RhdGUub2Zmc2V0IC0gY29weTtcbiAgICAgICAgICBpZiAoY29weSA+IHN0YXRlLndoYXZlKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuc2FuZSkge1xuICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayc7XG4gICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuLy8gKCEpIFRoaXMgYmxvY2sgaXMgZGlzYWJsZWQgaW4gemxpYiBkZWZhdWx0cyxcbi8vIGRvbid0IGVuYWJsZSBpdCBmb3IgYmluYXJ5IGNvbXBhdGliaWxpdHlcbi8vI2lmZGVmIElORkxBVEVfQUxMT1dfSU5WQUxJRF9ESVNUQU5DRV9UT09GQVJfQVJSUlxuLy8gICAgICAgICAgVHJhY2UoKHN0ZGVyciwgXCJpbmZsYXRlLmMgdG9vIGZhclxcblwiKSk7XG4vLyAgICAgICAgICBjb3B5IC09IHN0YXRlLndoYXZlO1xuLy8gICAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS5sZW5ndGgpIHsgY29weSA9IHN0YXRlLmxlbmd0aDsgfVxuLy8gICAgICAgICAgaWYgKGNvcHkgPiBsZWZ0KSB7IGNvcHkgPSBsZWZ0OyB9XG4vLyAgICAgICAgICBsZWZ0IC09IGNvcHk7XG4vLyAgICAgICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbi8vICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgb3V0cHV0W3B1dCsrXSA9IDA7XG4vLyAgICAgICAgICB9IHdoaWxlICgtLWNvcHkpO1xuLy8gICAgICAgICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgeyBzdGF0ZS5tb2RlID0gTEVOOyB9XG4vLyAgICAgICAgICBicmVhaztcbi8vI2VuZGlmXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb3B5ID4gc3RhdGUud25leHQpIHtcbiAgICAgICAgICAgIGNvcHkgLT0gc3RhdGUud25leHQ7XG4gICAgICAgICAgICBmcm9tID0gc3RhdGUud3NpemUgLSBjb3B5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZyb20gPSBzdGF0ZS53bmV4dCAtIGNvcHk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb3B5ID4gc3RhdGUubGVuZ3RoKSB7IGNvcHkgPSBzdGF0ZS5sZW5ndGg7IH1cbiAgICAgICAgICBmcm9tX3NvdXJjZSA9IHN0YXRlLndpbmRvdztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBjb3B5IGZyb20gb3V0cHV0ICovXG4gICAgICAgICAgZnJvbV9zb3VyY2UgPSBvdXRwdXQ7XG4gICAgICAgICAgZnJvbSA9IHB1dCAtIHN0YXRlLm9mZnNldDtcbiAgICAgICAgICBjb3B5ID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb3B5ID4gbGVmdCkgeyBjb3B5ID0gbGVmdDsgfVxuICAgICAgICBsZWZ0IC09IGNvcHk7XG4gICAgICAgIHN0YXRlLmxlbmd0aCAtPSBjb3B5O1xuICAgICAgICBkbyB7XG4gICAgICAgICAgb3V0cHV0W3B1dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgIH0gd2hpbGUgKC0tY29weSk7XG4gICAgICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHsgc3RhdGUubW9kZSA9IExFTjsgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTElUOlxuICAgICAgICBpZiAobGVmdCA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgb3V0cHV0W3B1dCsrXSA9IHN0YXRlLmxlbmd0aDtcbiAgICAgICAgbGVmdC0tO1xuICAgICAgICBzdGF0ZS5tb2RlID0gTEVOO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ0hFQ0s6XG4gICAgICAgIGlmIChzdGF0ZS53cmFwKSB7XG4gICAgICAgICAgLy89PT0gTkVFREJJVFMoMzIpO1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgLy8gVXNlICd8JyBpbnN0ZWFkIG9mICcrJyB0byBtYWtlIHN1cmUgdGhhdCByZXN1bHQgaXMgc2lnbmVkXG4gICAgICAgICAgICBob2xkIHw9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIF9vdXQgLT0gbGVmdDtcbiAgICAgICAgICBzdHJtLnRvdGFsX291dCArPSBfb3V0O1xuICAgICAgICAgIHN0YXRlLnRvdGFsICs9IF9vdXQ7XG4gICAgICAgICAgaWYgKChzdGF0ZS53cmFwICYgNCkgJiYgX291dCkge1xuICAgICAgICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID1cbiAgICAgICAgICAgICAgICAvKlVQREFURV9DSEVDSyhzdGF0ZS5jaGVjaywgcHV0IC0gX291dCwgX291dCk7Ki9cbiAgICAgICAgICAgICAgICAoc3RhdGUuZmxhZ3MgPyBjcmMzMl8xKHN0YXRlLmNoZWNrLCBvdXRwdXQsIF9vdXQsIHB1dCAtIF9vdXQpIDogYWRsZXIzMl8xKHN0YXRlLmNoZWNrLCBvdXRwdXQsIF9vdXQsIHB1dCAtIF9vdXQpKTtcblxuICAgICAgICAgIH1cbiAgICAgICAgICBfb3V0ID0gbGVmdDtcbiAgICAgICAgICAvLyBOQjogY3JjMzIgc3RvcmVkIGFzIHNpZ25lZCAzMi1iaXQgaW50LCB6c3dhcDMyIHJldHVybnMgc2lnbmVkIHRvb1xuICAgICAgICAgIGlmICgoc3RhdGUud3JhcCAmIDQpICYmIChzdGF0ZS5mbGFncyA/IGhvbGQgOiB6c3dhcDMyKGhvbGQpKSAhPT0gc3RhdGUuY2hlY2spIHtcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2luY29ycmVjdCBkYXRhIGNoZWNrJztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgICBob2xkID0gMDtcbiAgICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIGNoZWNrIG1hdGNoZXMgdHJhaWxlclxcblwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubW9kZSA9IExFTkdUSDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBMRU5HVEg6XG4gICAgICAgIGlmIChzdGF0ZS53cmFwICYmIHN0YXRlLmZsYWdzKSB7XG4gICAgICAgICAgLy89PT0gTkVFREJJVFMoMzIpO1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBpZiAoKHN0YXRlLndyYXAgJiA0KSAmJiBob2xkICE9PSAoc3RhdGUudG90YWwgJiAweGZmZmZmZmZmKSkge1xuICAgICAgICAgICAgc3RybS5tc2cgPSAnaW5jb3JyZWN0IGxlbmd0aCBjaGVjayc7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgICAgYml0cyA9IDA7XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICBsZW5ndGggbWF0Y2hlcyB0cmFpbGVyXFxuXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5tb2RlID0gRE9ORTtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBET05FOlxuICAgICAgICByZXQgPSBaX1NUUkVBTV9FTkQkMTtcbiAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgY2FzZSBCQUQ6XG4gICAgICAgIHJldCA9IFpfREFUQV9FUlJPUiQxO1xuICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICBjYXNlIE1FTTpcbiAgICAgICAgcmV0dXJuIFpfTUVNX0VSUk9SJDE7XG4gICAgICBjYXNlIFNZTkM6XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUiQxO1xuICAgIH1cbiAgfVxuXG4gIC8vIGluZl9sZWF2ZSA8LSBoZXJlIGlzIHJlYWwgcGxhY2UgZm9yIFwiZ290byBpbmZfbGVhdmVcIiwgZW11bGF0ZWQgdmlhIFwiYnJlYWsgaW5mX2xlYXZlXCJcblxuICAvKlxuICAgICBSZXR1cm4gZnJvbSBpbmZsYXRlKCksIHVwZGF0aW5nIHRoZSB0b3RhbCBjb3VudHMgYW5kIHRoZSBjaGVjayB2YWx1ZS5cbiAgICAgSWYgdGhlcmUgd2FzIG5vIHByb2dyZXNzIGR1cmluZyB0aGUgaW5mbGF0ZSgpIGNhbGwsIHJldHVybiBhIGJ1ZmZlclxuICAgICBlcnJvci4gIENhbGwgdXBkYXRld2luZG93KCkgdG8gY3JlYXRlIGFuZC9vciB1cGRhdGUgdGhlIHdpbmRvdyBzdGF0ZS5cbiAgICAgTm90ZTogYSBtZW1vcnkgZXJyb3IgZnJvbSBpbmZsYXRlKCkgaXMgbm9uLXJlY292ZXJhYmxlLlxuICAgKi9cblxuICAvLy0tLSBSRVNUT1JFKCkgLS0tXG4gIHN0cm0ubmV4dF9vdXQgPSBwdXQ7XG4gIHN0cm0uYXZhaWxfb3V0ID0gbGVmdDtcbiAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgc3RybS5hdmFpbF9pbiA9IGhhdmU7XG4gIHN0YXRlLmhvbGQgPSBob2xkO1xuICBzdGF0ZS5iaXRzID0gYml0cztcbiAgLy8tLS1cblxuICBpZiAoc3RhdGUud3NpemUgfHwgKF9vdXQgIT09IHN0cm0uYXZhaWxfb3V0ICYmIHN0YXRlLm1vZGUgPCBCQUQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoc3RhdGUubW9kZSA8IENIRUNLIHx8IGZsdXNoICE9PSBaX0ZJTklTSCQxKSkpIHtcbiAgICBpZiAodXBkYXRld2luZG93KHN0cm0sIHN0cm0ub3V0cHV0LCBzdHJtLm5leHRfb3V0LCBfb3V0IC0gc3RybS5hdmFpbF9vdXQpKSA7XG4gIH1cbiAgX2luIC09IHN0cm0uYXZhaWxfaW47XG4gIF9vdXQgLT0gc3RybS5hdmFpbF9vdXQ7XG4gIHN0cm0udG90YWxfaW4gKz0gX2luO1xuICBzdHJtLnRvdGFsX291dCArPSBfb3V0O1xuICBzdGF0ZS50b3RhbCArPSBfb3V0O1xuICBpZiAoKHN0YXRlLndyYXAgJiA0KSAmJiBfb3V0KSB7XG4gICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0gLypVUERBVEVfQ0hFQ0soc3RhdGUuY2hlY2ssIHN0cm0ubmV4dF9vdXQgLSBfb3V0LCBfb3V0KTsqL1xuICAgICAgKHN0YXRlLmZsYWdzID8gY3JjMzJfMShzdGF0ZS5jaGVjaywgb3V0cHV0LCBfb3V0LCBzdHJtLm5leHRfb3V0IC0gX291dCkgOiBhZGxlcjMyXzEoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgc3RybS5uZXh0X291dCAtIF9vdXQpKTtcbiAgfVxuICBzdHJtLmRhdGFfdHlwZSA9IHN0YXRlLmJpdHMgKyAoc3RhdGUubGFzdCA/IDY0IDogMCkgK1xuICAgICAgICAgICAgICAgICAgICAoc3RhdGUubW9kZSA9PT0gVFlQRSA/IDEyOCA6IDApICtcbiAgICAgICAgICAgICAgICAgICAgKHN0YXRlLm1vZGUgPT09IExFTl8gfHwgc3RhdGUubW9kZSA9PT0gQ09QWV8gPyAyNTYgOiAwKTtcbiAgaWYgKCgoX2luID09PSAwICYmIF9vdXQgPT09IDApIHx8IGZsdXNoID09PSBaX0ZJTklTSCQxKSAmJiByZXQgPT09IFpfT0skMSkge1xuICAgIHJldCA9IFpfQlVGX0VSUk9SO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG5cbmNvbnN0IGluZmxhdGVFbmQgPSAoc3RybSkgPT4ge1xuXG4gIGlmIChpbmZsYXRlU3RhdGVDaGVjayhzdHJtKSkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUiQxO1xuICB9XG5cbiAgbGV0IHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgaWYgKHN0YXRlLndpbmRvdykge1xuICAgIHN0YXRlLndpbmRvdyA9IG51bGw7XG4gIH1cbiAgc3RybS5zdGF0ZSA9IG51bGw7XG4gIHJldHVybiBaX09LJDE7XG59O1xuXG5cbmNvbnN0IGluZmxhdGVHZXRIZWFkZXIgPSAoc3RybSwgaGVhZCkgPT4ge1xuXG4gIC8qIGNoZWNrIHN0YXRlICovXG4gIGlmIChpbmZsYXRlU3RhdGVDaGVjayhzdHJtKSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1IkMTsgfVxuICBjb25zdCBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIGlmICgoc3RhdGUud3JhcCAmIDIpID09PSAwKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUiQxOyB9XG5cbiAgLyogc2F2ZSBoZWFkZXIgc3RydWN0dXJlICovXG4gIHN0YXRlLmhlYWQgPSBoZWFkO1xuICBoZWFkLmRvbmUgPSBmYWxzZTtcbiAgcmV0dXJuIFpfT0skMTtcbn07XG5cblxuY29uc3QgaW5mbGF0ZVNldERpY3Rpb25hcnkgPSAoc3RybSwgZGljdGlvbmFyeSkgPT4ge1xuICBjb25zdCBkaWN0TGVuZ3RoID0gZGljdGlvbmFyeS5sZW5ndGg7XG5cbiAgbGV0IHN0YXRlO1xuICBsZXQgZGljdGlkO1xuICBsZXQgcmV0O1xuXG4gIC8qIGNoZWNrIHN0YXRlICovXG4gIGlmIChpbmZsYXRlU3RhdGVDaGVjayhzdHJtKSkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1IkMTsgfVxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG5cbiAgaWYgKHN0YXRlLndyYXAgIT09IDAgJiYgc3RhdGUubW9kZSAhPT0gRElDVCkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUiQxO1xuICB9XG5cbiAgLyogY2hlY2sgZm9yIGNvcnJlY3QgZGljdGlvbmFyeSBpZGVudGlmaWVyICovXG4gIGlmIChzdGF0ZS5tb2RlID09PSBESUNUKSB7XG4gICAgZGljdGlkID0gMTsgLyogYWRsZXIzMigwLCBudWxsLCAwKSovXG4gICAgLyogZGljdGlkID0gYWRsZXIzMihkaWN0aWQsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgpOyAqL1xuICAgIGRpY3RpZCA9IGFkbGVyMzJfMShkaWN0aWQsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgsIDApO1xuICAgIGlmIChkaWN0aWQgIT09IHN0YXRlLmNoZWNrKSB7XG4gICAgICByZXR1cm4gWl9EQVRBX0VSUk9SJDE7XG4gICAgfVxuICB9XG4gIC8qIGNvcHkgZGljdGlvbmFyeSB0byB3aW5kb3cgdXNpbmcgdXBkYXRld2luZG93KCksIHdoaWNoIHdpbGwgYW1lbmQgdGhlXG4gICBleGlzdGluZyBkaWN0aW9uYXJ5IGlmIGFwcHJvcHJpYXRlICovXG4gIHJldCA9IHVwZGF0ZXdpbmRvdyhzdHJtLCBkaWN0aW9uYXJ5LCBkaWN0TGVuZ3RoLCBkaWN0TGVuZ3RoKTtcbiAgaWYgKHJldCkge1xuICAgIHN0YXRlLm1vZGUgPSBNRU07XG4gICAgcmV0dXJuIFpfTUVNX0VSUk9SJDE7XG4gIH1cbiAgc3RhdGUuaGF2ZWRpY3QgPSAxO1xuICAvLyBUcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIGRpY3Rpb25hcnkgc2V0XFxuXCIpKTtcbiAgcmV0dXJuIFpfT0skMTtcbn07XG5cblxudmFyIGluZmxhdGVSZXNldF8xID0gaW5mbGF0ZVJlc2V0O1xudmFyIGluZmxhdGVSZXNldDJfMSA9IGluZmxhdGVSZXNldDI7XG52YXIgaW5mbGF0ZVJlc2V0S2VlcF8xID0gaW5mbGF0ZVJlc2V0S2VlcDtcbnZhciBpbmZsYXRlSW5pdF8xID0gaW5mbGF0ZUluaXQ7XG52YXIgaW5mbGF0ZUluaXQyXzEgPSBpbmZsYXRlSW5pdDI7XG52YXIgaW5mbGF0ZV8yJDEgPSBpbmZsYXRlJDI7XG52YXIgaW5mbGF0ZUVuZF8xID0gaW5mbGF0ZUVuZDtcbnZhciBpbmZsYXRlR2V0SGVhZGVyXzEgPSBpbmZsYXRlR2V0SGVhZGVyO1xudmFyIGluZmxhdGVTZXREaWN0aW9uYXJ5XzEgPSBpbmZsYXRlU2V0RGljdGlvbmFyeTtcbnZhciBpbmZsYXRlSW5mbyA9ICdwYWtvIGluZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpJztcblxuLyogTm90IGltcGxlbWVudGVkXG5tb2R1bGUuZXhwb3J0cy5pbmZsYXRlQ29kZXNVc2VkID0gaW5mbGF0ZUNvZGVzVXNlZDtcbm1vZHVsZS5leHBvcnRzLmluZmxhdGVDb3B5ID0gaW5mbGF0ZUNvcHk7XG5tb2R1bGUuZXhwb3J0cy5pbmZsYXRlR2V0RGljdGlvbmFyeSA9IGluZmxhdGVHZXREaWN0aW9uYXJ5O1xubW9kdWxlLmV4cG9ydHMuaW5mbGF0ZU1hcmsgPSBpbmZsYXRlTWFyaztcbm1vZHVsZS5leHBvcnRzLmluZmxhdGVQcmltZSA9IGluZmxhdGVQcmltZTtcbm1vZHVsZS5leHBvcnRzLmluZmxhdGVTeW5jID0gaW5mbGF0ZVN5bmM7XG5tb2R1bGUuZXhwb3J0cy5pbmZsYXRlU3luY1BvaW50ID0gaW5mbGF0ZVN5bmNQb2ludDtcbm1vZHVsZS5leHBvcnRzLmluZmxhdGVVbmRlcm1pbmUgPSBpbmZsYXRlVW5kZXJtaW5lO1xubW9kdWxlLmV4cG9ydHMuaW5mbGF0ZVZhbGlkYXRlID0gaW5mbGF0ZVZhbGlkYXRlO1xuKi9cblxudmFyIGluZmxhdGVfMSQyID0ge1xuXHRpbmZsYXRlUmVzZXQ6IGluZmxhdGVSZXNldF8xLFxuXHRpbmZsYXRlUmVzZXQyOiBpbmZsYXRlUmVzZXQyXzEsXG5cdGluZmxhdGVSZXNldEtlZXA6IGluZmxhdGVSZXNldEtlZXBfMSxcblx0aW5mbGF0ZUluaXQ6IGluZmxhdGVJbml0XzEsXG5cdGluZmxhdGVJbml0MjogaW5mbGF0ZUluaXQyXzEsXG5cdGluZmxhdGU6IGluZmxhdGVfMiQxLFxuXHRpbmZsYXRlRW5kOiBpbmZsYXRlRW5kXzEsXG5cdGluZmxhdGVHZXRIZWFkZXI6IGluZmxhdGVHZXRIZWFkZXJfMSxcblx0aW5mbGF0ZVNldERpY3Rpb25hcnk6IGluZmxhdGVTZXREaWN0aW9uYXJ5XzEsXG5cdGluZmxhdGVJbmZvOiBpbmZsYXRlSW5mb1xufTtcblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG5mdW5jdGlvbiBHWmhlYWRlcigpIHtcbiAgLyogdHJ1ZSBpZiBjb21wcmVzc2VkIGRhdGEgYmVsaWV2ZWQgdG8gYmUgdGV4dCAqL1xuICB0aGlzLnRleHQgICAgICAgPSAwO1xuICAvKiBtb2RpZmljYXRpb24gdGltZSAqL1xuICB0aGlzLnRpbWUgICAgICAgPSAwO1xuICAvKiBleHRyYSBmbGFncyAobm90IHVzZWQgd2hlbiB3cml0aW5nIGEgZ3ppcCBmaWxlKSAqL1xuICB0aGlzLnhmbGFncyAgICAgPSAwO1xuICAvKiBvcGVyYXRpbmcgc3lzdGVtICovXG4gIHRoaXMub3MgICAgICAgICA9IDA7XG4gIC8qIHBvaW50ZXIgdG8gZXh0cmEgZmllbGQgb3IgWl9OVUxMIGlmIG5vbmUgKi9cbiAgdGhpcy5leHRyYSAgICAgID0gbnVsbDtcbiAgLyogZXh0cmEgZmllbGQgbGVuZ3RoICh2YWxpZCBpZiBleHRyYSAhPSBaX05VTEwpICovXG4gIHRoaXMuZXh0cmFfbGVuICA9IDA7IC8vIEFjdHVhbGx5LCB3ZSBkb24ndCBuZWVkIGl0IGluIEpTLFxuICAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgbGVhdmUgZm9yIGZldyBjb2RlIG1vZGlmaWNhdGlvbnNcblxuICAvL1xuICAvLyBTZXR1cCBsaW1pdHMgaXMgbm90IG5lY2Vzc2FyeSBiZWNhdXNlIGluIGpzIHdlIHNob3VsZCBub3QgcHJlYWxsb2NhdGUgbWVtb3J5XG4gIC8vIGZvciBpbmZsYXRlIHVzZSBjb25zdGFudCBsaW1pdCBpbiA2NTUzNiBieXRlc1xuICAvL1xuXG4gIC8qIHNwYWNlIGF0IGV4dHJhIChvbmx5IHdoZW4gcmVhZGluZyBoZWFkZXIpICovXG4gIC8vIHRoaXMuZXh0cmFfbWF4ICA9IDA7XG4gIC8qIHBvaW50ZXIgdG8gemVyby10ZXJtaW5hdGVkIGZpbGUgbmFtZSBvciBaX05VTEwgKi9cbiAgdGhpcy5uYW1lICAgICAgID0gJyc7XG4gIC8qIHNwYWNlIGF0IG5hbWUgKG9ubHkgd2hlbiByZWFkaW5nIGhlYWRlcikgKi9cbiAgLy8gdGhpcy5uYW1lX21heCAgID0gMDtcbiAgLyogcG9pbnRlciB0byB6ZXJvLXRlcm1pbmF0ZWQgY29tbWVudCBvciBaX05VTEwgKi9cbiAgdGhpcy5jb21tZW50ICAgID0gJyc7XG4gIC8qIHNwYWNlIGF0IGNvbW1lbnQgKG9ubHkgd2hlbiByZWFkaW5nIGhlYWRlcikgKi9cbiAgLy8gdGhpcy5jb21tX21heCAgID0gMDtcbiAgLyogdHJ1ZSBpZiB0aGVyZSB3YXMgb3Igd2lsbCBiZSBhIGhlYWRlciBjcmMgKi9cbiAgdGhpcy5oY3JjICAgICAgID0gMDtcbiAgLyogdHJ1ZSB3aGVuIGRvbmUgcmVhZGluZyBnemlwIGhlYWRlciAobm90IHVzZWQgd2hlbiB3cml0aW5nIGEgZ3ppcCBmaWxlKSAqL1xuICB0aGlzLmRvbmUgICAgICAgPSBmYWxzZTtcbn1cblxudmFyIGd6aGVhZGVyID0gR1poZWFkZXI7XG5cbmNvbnN0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyogUHVibGljIGNvbnN0YW50cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbmNvbnN0IHtcbiAgWl9OT19GTFVTSCwgWl9GSU5JU0gsXG4gIFpfT0ssIFpfU1RSRUFNX0VORCwgWl9ORUVEX0RJQ1QsIFpfU1RSRUFNX0VSUk9SLCBaX0RBVEFfRVJST1IsIFpfTUVNX0VSUk9SXG59ID0gY29uc3RhbnRzJDI7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cblxuLyoqXG4gKiBjbGFzcyBJbmZsYXRlXG4gKlxuICogR2VuZXJpYyBKUy1zdHlsZSB3cmFwcGVyIGZvciB6bGliIGNhbGxzLiBJZiB5b3UgZG9uJ3QgbmVlZFxuICogc3RyZWFtaW5nIGJlaGF2aW91ciAtIHVzZSBtb3JlIHNpbXBsZSBmdW5jdGlvbnM6IFtbaW5mbGF0ZV1dXG4gKiBhbmQgW1tpbmZsYXRlUmF3XV0uXG4gKiovXG5cbi8qIGludGVybmFsXG4gKiBpbmZsYXRlLmNodW5rcyAtPiBBcnJheVxuICpcbiAqIENodW5rcyBvZiBvdXRwdXQgZGF0YSwgaWYgW1tJbmZsYXRlI29uRGF0YV1dIG5vdCBvdmVycmlkZGVuLlxuICoqL1xuXG4vKipcbiAqIEluZmxhdGUucmVzdWx0IC0+IFVpbnQ4QXJyYXl8U3RyaW5nXG4gKlxuICogVW5jb21wcmVzc2VkIHJlc3VsdCwgZ2VuZXJhdGVkIGJ5IGRlZmF1bHQgW1tJbmZsYXRlI29uRGF0YV1dXG4gKiBhbmQgW1tJbmZsYXRlI29uRW5kXV0gaGFuZGxlcnMuIEZpbGxlZCBhZnRlciB5b3UgcHVzaCBsYXN0IGNodW5rXG4gKiAoY2FsbCBbW0luZmxhdGUjcHVzaF1dIHdpdGggYFpfRklOSVNIYCAvIGB0cnVlYCBwYXJhbSkuXG4gKiovXG5cbi8qKlxuICogSW5mbGF0ZS5lcnIgLT4gTnVtYmVyXG4gKlxuICogRXJyb3IgY29kZSBhZnRlciBpbmZsYXRlIGZpbmlzaGVkLiAwIChaX09LKSBvbiBzdWNjZXNzLlxuICogU2hvdWxkIGJlIGNoZWNrZWQgaWYgYnJva2VuIGRhdGEgcG9zc2libGUuXG4gKiovXG5cbi8qKlxuICogSW5mbGF0ZS5tc2cgLT4gU3RyaW5nXG4gKlxuICogRXJyb3IgbWVzc2FnZSwgaWYgW1tJbmZsYXRlLmVycl1dICE9IDBcbiAqKi9cblxuXG4vKipcbiAqIG5ldyBJbmZsYXRlKG9wdGlvbnMpXG4gKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgaW5mbGF0ZSBvcHRpb25zLlxuICpcbiAqIENyZWF0ZXMgbmV3IGluZmxhdG9yIGluc3RhbmNlIHdpdGggc3BlY2lmaWVkIHBhcmFtcy4gVGhyb3dzIGV4Y2VwdGlvblxuICogb24gYmFkIHBhcmFtcy4gU3VwcG9ydGVkIG9wdGlvbnM6XG4gKlxuICogLSBgd2luZG93Qml0c2BcbiAqIC0gYGRpY3Rpb25hcnlgXG4gKlxuICogW2h0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZF0oaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkKVxuICogZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gdGhlc2UuXG4gKlxuICogQWRkaXRpb25hbCBvcHRpb25zLCBmb3IgaW50ZXJuYWwgbmVlZHM6XG4gKlxuICogLSBgY2h1bmtTaXplYCAtIHNpemUgb2YgZ2VuZXJhdGVkIGRhdGEgY2h1bmtzICgxNksgYnkgZGVmYXVsdClcbiAqIC0gYHJhd2AgKEJvb2xlYW4pIC0gZG8gcmF3IGluZmxhdGVcbiAqIC0gYHRvYCAoU3RyaW5nKSAtIGlmIGVxdWFsIHRvICdzdHJpbmcnLCB0aGVuIHJlc3VsdCB3aWxsIGJlIGNvbnZlcnRlZFxuICogICBmcm9tIHV0ZjggdG8gdXRmMTYgKGphdmFzY3JpcHQpIHN0cmluZy4gV2hlbiBzdHJpbmcgb3V0cHV0IHJlcXVlc3RlZCxcbiAqICAgY2h1bmsgbGVuZ3RoIGNhbiBkaWZmZXIgZnJvbSBgY2h1bmtTaXplYCwgZGVwZW5kaW5nIG9uIGNvbnRlbnQuXG4gKlxuICogQnkgZGVmYXVsdCwgd2hlbiBubyBvcHRpb25zIHNldCwgYXV0b2RldGVjdCBkZWZsYXRlL2d6aXAgZGF0YSBmb3JtYXQgdmlhXG4gKiB3cmFwcGVyIGhlYWRlci5cbiAqXG4gKiAjIyMjIyBFeGFtcGxlOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IHBha28gPSByZXF1aXJlKCdwYWtvJylcbiAqIGNvbnN0IGNodW5rMSA9IG5ldyBVaW50OEFycmF5KFsxLDIsMyw0LDUsNiw3LDgsOV0pXG4gKiBjb25zdCBjaHVuazIgPSBuZXcgVWludDhBcnJheShbMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTldKTtcbiAqXG4gKiBjb25zdCBpbmZsYXRlID0gbmV3IHBha28uSW5mbGF0ZSh7IGxldmVsOiAzfSk7XG4gKlxuICogaW5mbGF0ZS5wdXNoKGNodW5rMSwgZmFsc2UpO1xuICogaW5mbGF0ZS5wdXNoKGNodW5rMiwgdHJ1ZSk7ICAvLyB0cnVlIC0+IGxhc3QgY2h1bmtcbiAqXG4gKiBpZiAoaW5mbGF0ZS5lcnIpIHsgdGhyb3cgbmV3IEVycm9yKGluZmxhdGUuZXJyKTsgfVxuICpcbiAqIGNvbnNvbGUubG9nKGluZmxhdGUucmVzdWx0KTtcbiAqIGBgYFxuICoqL1xuZnVuY3Rpb24gSW5mbGF0ZSQxKG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gY29tbW9uLmFzc2lnbih7XG4gICAgY2h1bmtTaXplOiAxMDI0ICogNjQsXG4gICAgd2luZG93Qml0czogMTUsXG4gICAgdG86ICcnXG4gIH0sIG9wdGlvbnMgfHwge30pO1xuXG4gIGNvbnN0IG9wdCA9IHRoaXMub3B0aW9ucztcblxuICAvLyBGb3JjZSB3aW5kb3cgc2l6ZSBmb3IgYHJhd2AgZGF0YSwgaWYgbm90IHNldCBkaXJlY3RseSxcbiAgLy8gYmVjYXVzZSB3ZSBoYXZlIG5vIGhlYWRlciBmb3IgYXV0b2RldGVjdC5cbiAgaWYgKG9wdC5yYXcgJiYgKG9wdC53aW5kb3dCaXRzID49IDApICYmIChvcHQud2luZG93Qml0cyA8IDE2KSkge1xuICAgIG9wdC53aW5kb3dCaXRzID0gLW9wdC53aW5kb3dCaXRzO1xuICAgIGlmIChvcHQud2luZG93Qml0cyA9PT0gMCkgeyBvcHQud2luZG93Qml0cyA9IC0xNTsgfVxuICB9XG5cbiAgLy8gSWYgYHdpbmRvd0JpdHNgIG5vdCBkZWZpbmVkIChhbmQgbW9kZSBub3QgcmF3KSAtIHNldCBhdXRvZGV0ZWN0IGZsYWcgZm9yIGd6aXAvZGVmbGF0ZVxuICBpZiAoKG9wdC53aW5kb3dCaXRzID49IDApICYmIChvcHQud2luZG93Qml0cyA8IDE2KSAmJlxuICAgICAgIShvcHRpb25zICYmIG9wdGlvbnMud2luZG93Qml0cykpIHtcbiAgICBvcHQud2luZG93Qml0cyArPSAzMjtcbiAgfVxuXG4gIC8vIEd6aXAgaGVhZGVyIGhhcyBubyBpbmZvIGFib3V0IHdpbmRvd3Mgc2l6ZSwgd2UgY2FuIGRvIGF1dG9kZXRlY3Qgb25seVxuICAvLyBmb3IgZGVmbGF0ZS4gU28sIGlmIHdpbmRvdyBzaXplIG5vdCBzZXQsIGZvcmNlIGl0IHRvIG1heCB3aGVuIGd6aXAgcG9zc2libGVcbiAgaWYgKChvcHQud2luZG93Qml0cyA+IDE1KSAmJiAob3B0LndpbmRvd0JpdHMgPCA0OCkpIHtcbiAgICAvLyBiaXQgMyAoMTYpIC0+IGd6aXBwZWQgZGF0YVxuICAgIC8vIGJpdCA0ICgzMikgLT4gYXV0b2RldGVjdCBnemlwL2RlZmxhdGVcbiAgICBpZiAoKG9wdC53aW5kb3dCaXRzICYgMTUpID09PSAwKSB7XG4gICAgICBvcHQud2luZG93Qml0cyB8PSAxNTtcbiAgICB9XG4gIH1cblxuICB0aGlzLmVyciAgICA9IDA7ICAgICAgLy8gZXJyb3IgY29kZSwgaWYgaGFwcGVucyAoMCA9IFpfT0spXG4gIHRoaXMubXNnICAgID0gJyc7ICAgICAvLyBlcnJvciBtZXNzYWdlXG4gIHRoaXMuZW5kZWQgID0gZmFsc2U7ICAvLyB1c2VkIHRvIGF2b2lkIG11bHRpcGxlIG9uRW5kKCkgY2FsbHNcbiAgdGhpcy5jaHVua3MgPSBbXTsgICAgIC8vIGNodW5rcyBvZiBjb21wcmVzc2VkIGRhdGFcblxuICB0aGlzLnN0cm0gICA9IG5ldyB6c3RyZWFtKCk7XG4gIHRoaXMuc3RybS5hdmFpbF9vdXQgPSAwO1xuXG4gIGxldCBzdGF0dXMgID0gaW5mbGF0ZV8xJDIuaW5mbGF0ZUluaXQyKFxuICAgIHRoaXMuc3RybSxcbiAgICBvcHQud2luZG93Qml0c1xuICApO1xuXG4gIGlmIChzdGF0dXMgIT09IFpfT0spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZXNbc3RhdHVzXSk7XG4gIH1cblxuICB0aGlzLmhlYWRlciA9IG5ldyBnemhlYWRlcigpO1xuXG4gIGluZmxhdGVfMSQyLmluZmxhdGVHZXRIZWFkZXIodGhpcy5zdHJtLCB0aGlzLmhlYWRlcik7XG5cbiAgLy8gU2V0dXAgZGljdGlvbmFyeVxuICBpZiAob3B0LmRpY3Rpb25hcnkpIHtcbiAgICAvLyBDb252ZXJ0IGRhdGEgaWYgbmVlZGVkXG4gICAgaWYgKHR5cGVvZiBvcHQuZGljdGlvbmFyeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG9wdC5kaWN0aW9uYXJ5ID0gc3RyaW5ncy5zdHJpbmcyYnVmKG9wdC5kaWN0aW9uYXJ5KTtcbiAgICB9IGVsc2UgaWYgKHRvU3RyaW5nLmNhbGwob3B0LmRpY3Rpb25hcnkpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKSB7XG4gICAgICBvcHQuZGljdGlvbmFyeSA9IG5ldyBVaW50OEFycmF5KG9wdC5kaWN0aW9uYXJ5KTtcbiAgICB9XG4gICAgaWYgKG9wdC5yYXcpIHsgLy9JbiByYXcgbW9kZSB3ZSBuZWVkIHRvIHNldCB0aGUgZGljdGlvbmFyeSBlYXJseVxuICAgICAgc3RhdHVzID0gaW5mbGF0ZV8xJDIuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLCBvcHQuZGljdGlvbmFyeSk7XG4gICAgICBpZiAoc3RhdHVzICE9PSBaX09LKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlc1tzdGF0dXNdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbmZsYXRlI3B1c2goZGF0YVssIGZsdXNoX21vZGVdKSAtPiBCb29sZWFuXG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXIpOiBpbnB1dCBkYXRhXG4gKiAtIGZsdXNoX21vZGUgKE51bWJlcnxCb29sZWFuKTogMC4uNiBmb3IgY29ycmVzcG9uZGluZyBaX05PX0ZMVVNILi5aX1RSRUVcbiAqICAgZmx1c2ggbW9kZXMuIFNlZSBjb25zdGFudHMuIFNraXBwZWQgb3IgYGZhbHNlYCBtZWFucyBaX05PX0ZMVVNILFxuICogICBgdHJ1ZWAgbWVhbnMgWl9GSU5JU0guXG4gKlxuICogU2VuZHMgaW5wdXQgZGF0YSB0byBpbmZsYXRlIHBpcGUsIGdlbmVyYXRpbmcgW1tJbmZsYXRlI29uRGF0YV1dIGNhbGxzIHdpdGhcbiAqIG5ldyBvdXRwdXQgY2h1bmtzLiBSZXR1cm5zIGB0cnVlYCBvbiBzdWNjZXNzLiBJZiBlbmQgb2Ygc3RyZWFtIGRldGVjdGVkLFxuICogW1tJbmZsYXRlI29uRW5kXV0gd2lsbCBiZSBjYWxsZWQuXG4gKlxuICogYGZsdXNoX21vZGVgIGlzIG5vdCBuZWVkZWQgZm9yIG5vcm1hbCBvcGVyYXRpb24sIGJlY2F1c2UgZW5kIG9mIHN0cmVhbVxuICogZGV0ZWN0ZWQgYXV0b21hdGljYWxseS4gWW91IG1heSB0cnkgdG8gdXNlIGl0IGZvciBhZHZhbmNlZCB0aGluZ3MsIGJ1dFxuICogdGhpcyBmdW5jdGlvbmFsaXR5IHdhcyBub3QgdGVzdGVkLlxuICpcbiAqIE9uIGZhaWwgY2FsbCBbW0luZmxhdGUjb25FbmRdXSB3aXRoIGVycm9yIGNvZGUgYW5kIHJldHVybiBmYWxzZS5cbiAqXG4gKiAjIyMjIyBFeGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogcHVzaChjaHVuaywgZmFsc2UpOyAvLyBwdXNoIG9uZSBvZiBkYXRhIGNodW5rc1xuICogLi4uXG4gKiBwdXNoKGNodW5rLCB0cnVlKTsgIC8vIHB1c2ggbGFzdCBjaHVua1xuICogYGBgXG4gKiovXG5JbmZsYXRlJDEucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoZGF0YSwgZmx1c2hfbW9kZSkge1xuICBjb25zdCBzdHJtID0gdGhpcy5zdHJtO1xuICBjb25zdCBjaHVua1NpemUgPSB0aGlzLm9wdGlvbnMuY2h1bmtTaXplO1xuICBjb25zdCBkaWN0aW9uYXJ5ID0gdGhpcy5vcHRpb25zLmRpY3Rpb25hcnk7XG4gIGxldCBzdGF0dXMsIF9mbHVzaF9tb2RlLCBsYXN0X2F2YWlsX291dDtcblxuICBpZiAodGhpcy5lbmRlZCkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChmbHVzaF9tb2RlID09PSB+fmZsdXNoX21vZGUpIF9mbHVzaF9tb2RlID0gZmx1c2hfbW9kZTtcbiAgZWxzZSBfZmx1c2hfbW9kZSA9IGZsdXNoX21vZGUgPT09IHRydWUgPyBaX0ZJTklTSCA6IFpfTk9fRkxVU0g7XG5cbiAgLy8gQ29udmVydCBkYXRhIGlmIG5lZWRlZFxuICBpZiAodG9TdHJpbmcuY2FsbChkYXRhKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykge1xuICAgIHN0cm0uaW5wdXQgPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHJtLmlucHV0ID0gZGF0YTtcbiAgfVxuXG4gIHN0cm0ubmV4dF9pbiA9IDA7XG4gIHN0cm0uYXZhaWxfaW4gPSBzdHJtLmlucHV0Lmxlbmd0aDtcblxuICBmb3IgKDs7KSB7XG4gICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICBzdHJtLm91dHB1dCA9IG5ldyBVaW50OEFycmF5KGNodW5rU2l6ZSk7XG4gICAgICBzdHJtLm5leHRfb3V0ID0gMDtcbiAgICAgIHN0cm0uYXZhaWxfb3V0ID0gY2h1bmtTaXplO1xuICAgIH1cblxuICAgIHN0YXR1cyA9IGluZmxhdGVfMSQyLmluZmxhdGUoc3RybSwgX2ZsdXNoX21vZGUpO1xuXG4gICAgaWYgKHN0YXR1cyA9PT0gWl9ORUVEX0RJQ1QgJiYgZGljdGlvbmFyeSkge1xuICAgICAgc3RhdHVzID0gaW5mbGF0ZV8xJDIuaW5mbGF0ZVNldERpY3Rpb25hcnkoc3RybSwgZGljdGlvbmFyeSk7XG5cbiAgICAgIGlmIChzdGF0dXMgPT09IFpfT0spIHtcbiAgICAgICAgc3RhdHVzID0gaW5mbGF0ZV8xJDIuaW5mbGF0ZShzdHJtLCBfZmx1c2hfbW9kZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gWl9EQVRBX0VSUk9SKSB7XG4gICAgICAgIC8vIFJlcGxhY2UgY29kZSB3aXRoIG1vcmUgdmVyYm9zZVxuICAgICAgICBzdGF0dXMgPSBaX05FRURfRElDVDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTa2lwIHNueWMgbWFya2VycyBpZiBtb3JlIGRhdGEgZm9sbG93cyBhbmQgbm90IHJhdyBtb2RlXG4gICAgd2hpbGUgKHN0cm0uYXZhaWxfaW4gPiAwICYmXG4gICAgICAgICAgIHN0YXR1cyA9PT0gWl9TVFJFQU1fRU5EICYmXG4gICAgICAgICAgIHN0cm0uc3RhdGUud3JhcCA+IDAgJiZcbiAgICAgICAgICAgZGF0YVtzdHJtLm5leHRfaW5dICE9PSAwKVxuICAgIHtcbiAgICAgIGluZmxhdGVfMSQyLmluZmxhdGVSZXNldChzdHJtKTtcbiAgICAgIHN0YXR1cyA9IGluZmxhdGVfMSQyLmluZmxhdGUoc3RybSwgX2ZsdXNoX21vZGUpO1xuICAgIH1cblxuICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICBjYXNlIFpfU1RSRUFNX0VSUk9SOlxuICAgICAgY2FzZSBaX0RBVEFfRVJST1I6XG4gICAgICBjYXNlIFpfTkVFRF9ESUNUOlxuICAgICAgY2FzZSBaX01FTV9FUlJPUjpcbiAgICAgICAgdGhpcy5vbkVuZChzdGF0dXMpO1xuICAgICAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFJlbWVtYmVyIHJlYWwgYGF2YWlsX291dGAgdmFsdWUsIGJlY2F1c2Ugd2UgbWF5IHBhdGNoIG91dCBidWZmZXIgY29udGVudFxuICAgIC8vIHRvIGFsaWduIHV0Zjggc3RyaW5ncyBib3VuZGFyaWVzLlxuICAgIGxhc3RfYXZhaWxfb3V0ID0gc3RybS5hdmFpbF9vdXQ7XG5cbiAgICBpZiAoc3RybS5uZXh0X291dCkge1xuICAgICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwIHx8IHN0YXR1cyA9PT0gWl9TVFJFQU1fRU5EKSB7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50byA9PT0gJ3N0cmluZycpIHtcblxuICAgICAgICAgIGxldCBuZXh0X291dF91dGY4ID0gc3RyaW5ncy51dGY4Ym9yZGVyKHN0cm0ub3V0cHV0LCBzdHJtLm5leHRfb3V0KTtcblxuICAgICAgICAgIGxldCB0YWlsID0gc3RybS5uZXh0X291dCAtIG5leHRfb3V0X3V0Zjg7XG4gICAgICAgICAgbGV0IHV0ZjhzdHIgPSBzdHJpbmdzLmJ1ZjJzdHJpbmcoc3RybS5vdXRwdXQsIG5leHRfb3V0X3V0ZjgpO1xuXG4gICAgICAgICAgLy8gbW92ZSB0YWlsICYgcmVhbGlnbiBjb3VudGVyc1xuICAgICAgICAgIHN0cm0ubmV4dF9vdXQgPSB0YWlsO1xuICAgICAgICAgIHN0cm0uYXZhaWxfb3V0ID0gY2h1bmtTaXplIC0gdGFpbDtcbiAgICAgICAgICBpZiAodGFpbCkgc3RybS5vdXRwdXQuc2V0KHN0cm0ub3V0cHV0LnN1YmFycmF5KG5leHRfb3V0X3V0ZjgsIG5leHRfb3V0X3V0ZjggKyB0YWlsKSwgMCk7XG5cbiAgICAgICAgICB0aGlzLm9uRGF0YSh1dGY4c3RyKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMub25EYXRhKHN0cm0ub3V0cHV0Lmxlbmd0aCA9PT0gc3RybS5uZXh0X291dCA/IHN0cm0ub3V0cHV0IDogc3RybS5vdXRwdXQuc3ViYXJyYXkoMCwgc3RybS5uZXh0X291dCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTXVzdCByZXBlYXQgaXRlcmF0aW9uIGlmIG91dCBidWZmZXIgaXMgZnVsbFxuICAgIGlmIChzdGF0dXMgPT09IFpfT0sgJiYgbGFzdF9hdmFpbF9vdXQgPT09IDApIGNvbnRpbnVlO1xuXG4gICAgLy8gRmluYWxpemUgaWYgZW5kIG9mIHN0cmVhbSByZWFjaGVkLlxuICAgIGlmIChzdGF0dXMgPT09IFpfU1RSRUFNX0VORCkge1xuICAgICAgc3RhdHVzID0gaW5mbGF0ZV8xJDIuaW5mbGF0ZUVuZCh0aGlzLnN0cm0pO1xuICAgICAgdGhpcy5vbkVuZChzdGF0dXMpO1xuICAgICAgdGhpcy5lbmRlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoc3RybS5hdmFpbF9pbiA9PT0gMCkgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cblxuLyoqXG4gKiBJbmZsYXRlI29uRGF0YShjaHVuaykgLT4gVm9pZFxuICogLSBjaHVuayAoVWludDhBcnJheXxTdHJpbmcpOiBvdXRwdXQgZGF0YS4gV2hlbiBzdHJpbmcgb3V0cHV0IHJlcXVlc3RlZCxcbiAqICAgZWFjaCBjaHVuayB3aWxsIGJlIHN0cmluZy5cbiAqXG4gKiBCeSBkZWZhdWx0LCBzdG9yZXMgZGF0YSBibG9ja3MgaW4gYGNodW5rc1tdYCBwcm9wZXJ0eSBhbmQgZ2x1ZVxuICogdGhvc2UgaW4gYG9uRW5kYC4gT3ZlcnJpZGUgdGhpcyBoYW5kbGVyLCBpZiB5b3UgbmVlZCBhbm90aGVyIGJlaGF2aW91ci5cbiAqKi9cbkluZmxhdGUkMS5wcm90b3R5cGUub25EYXRhID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gIHRoaXMuY2h1bmtzLnB1c2goY2h1bmspO1xufTtcblxuXG4vKipcbiAqIEluZmxhdGUjb25FbmQoc3RhdHVzKSAtPiBWb2lkXG4gKiAtIHN0YXR1cyAoTnVtYmVyKTogaW5mbGF0ZSBzdGF0dXMuIDAgKFpfT0spIG9uIHN1Y2Nlc3MsXG4gKiAgIG90aGVyIGlmIG5vdC5cbiAqXG4gKiBDYWxsZWQgZWl0aGVyIGFmdGVyIHlvdSB0ZWxsIGluZmxhdGUgdGhhdCB0aGUgaW5wdXQgc3RyZWFtIGlzXG4gKiBjb21wbGV0ZSAoWl9GSU5JU0gpLiBCeSBkZWZhdWx0IC0gam9pbiBjb2xsZWN0ZWQgY2h1bmtzLFxuICogZnJlZSBtZW1vcnkgYW5kIGZpbGwgYHJlc3VsdHNgIC8gYGVycmAgcHJvcGVydGllcy5cbiAqKi9cbkluZmxhdGUkMS5wcm90b3R5cGUub25FbmQgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gIC8vIE9uIHN1Y2Nlc3MgLSBqb2luXG4gIGlmIChzdGF0dXMgPT09IFpfT0spIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnRvID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5yZXN1bHQgPSB0aGlzLmNodW5rcy5qb2luKCcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXN1bHQgPSBjb21tb24uZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcyk7XG4gICAgfVxuICB9XG4gIHRoaXMuY2h1bmtzID0gW107XG4gIHRoaXMuZXJyID0gc3RhdHVzO1xuICB0aGlzLm1zZyA9IHRoaXMuc3RybS5tc2c7XG59O1xuXG5cbi8qKlxuICogaW5mbGF0ZShkYXRhWywgb3B0aW9uc10pIC0+IFVpbnQ4QXJyYXl8U3RyaW5nXG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXIpOiBpbnB1dCBkYXRhIHRvIGRlY29tcHJlc3MuXG4gKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgaW5mbGF0ZSBvcHRpb25zLlxuICpcbiAqIERlY29tcHJlc3MgYGRhdGFgIHdpdGggaW5mbGF0ZS91bmd6aXAgYW5kIGBvcHRpb25zYC4gQXV0b2RldGVjdFxuICogZm9ybWF0IHZpYSB3cmFwcGVyIGhlYWRlciBieSBkZWZhdWx0LiBUaGF0J3Mgd2h5IHdlIGRvbid0IHByb3ZpZGVcbiAqIHNlcGFyYXRlIGB1bmd6aXBgIG1ldGhvZC5cbiAqXG4gKiBTdXBwb3J0ZWQgb3B0aW9ucyBhcmU6XG4gKlxuICogLSB3aW5kb3dCaXRzXG4gKlxuICogW2h0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZF0oaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkKVxuICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogU3VnYXIgKG9wdGlvbnMpOlxuICpcbiAqIC0gYHJhd2AgKEJvb2xlYW4pIC0gc2F5IHRoYXQgd2Ugd29yayB3aXRoIHJhdyBzdHJlYW0sIGlmIHlvdSBkb24ndCB3aXNoIHRvIHNwZWNpZnlcbiAqICAgbmVnYXRpdmUgd2luZG93Qml0cyBpbXBsaWNpdGx5LlxuICogLSBgdG9gIChTdHJpbmcpIC0gaWYgZXF1YWwgdG8gJ3N0cmluZycsIHRoZW4gcmVzdWx0IHdpbGwgYmUgY29udmVydGVkXG4gKiAgIGZyb20gdXRmOCB0byB1dGYxNiAoamF2YXNjcmlwdCkgc3RyaW5nLiBXaGVuIHN0cmluZyBvdXRwdXQgcmVxdWVzdGVkLFxuICogICBjaHVuayBsZW5ndGggY2FuIGRpZmZlciBmcm9tIGBjaHVua1NpemVgLCBkZXBlbmRpbmcgb24gY29udGVudC5cbiAqXG4gKlxuICogIyMjIyMgRXhhbXBsZTpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBwYWtvID0gcmVxdWlyZSgncGFrbycpO1xuICogY29uc3QgaW5wdXQgPSBwYWtvLmRlZmxhdGUobmV3IFVpbnQ4QXJyYXkoWzEsMiwzLDQsNSw2LDcsOCw5XSkpO1xuICogbGV0IG91dHB1dDtcbiAqXG4gKiB0cnkge1xuICogICBvdXRwdXQgPSBwYWtvLmluZmxhdGUoaW5wdXQpO1xuICogfSBjYXRjaCAoZXJyKSB7XG4gKiAgIGNvbnNvbGUubG9nKGVycik7XG4gKiB9XG4gKiBgYGBcbiAqKi9cbmZ1bmN0aW9uIGluZmxhdGUkMShpbnB1dCwgb3B0aW9ucykge1xuICBjb25zdCBpbmZsYXRvciA9IG5ldyBJbmZsYXRlJDEob3B0aW9ucyk7XG5cbiAgaW5mbGF0b3IucHVzaChpbnB1dCk7XG5cbiAgLy8gVGhhdCB3aWxsIG5ldmVyIGhhcHBlbnMsIGlmIHlvdSBkb24ndCBjaGVhdCB3aXRoIG9wdGlvbnMgOilcbiAgaWYgKGluZmxhdG9yLmVycikgdGhyb3cgaW5mbGF0b3IubXNnIHx8IG1lc3NhZ2VzW2luZmxhdG9yLmVycl07XG5cbiAgcmV0dXJuIGluZmxhdG9yLnJlc3VsdDtcbn1cblxuXG4vKipcbiAqIGluZmxhdGVSYXcoZGF0YVssIG9wdGlvbnNdKSAtPiBVaW50OEFycmF5fFN0cmluZ1xuICogLSBkYXRhIChVaW50OEFycmF5fEFycmF5QnVmZmVyKTogaW5wdXQgZGF0YSB0byBkZWNvbXByZXNzLlxuICogLSBvcHRpb25zIChPYmplY3QpOiB6bGliIGluZmxhdGUgb3B0aW9ucy5cbiAqXG4gKiBUaGUgc2FtZSBhcyBbW2luZmxhdGVdXSwgYnV0IGNyZWF0ZXMgcmF3IGRhdGEsIHdpdGhvdXQgd3JhcHBlclxuICogKGhlYWRlciBhbmQgYWRsZXIzMiBjcmMpLlxuICoqL1xuZnVuY3Rpb24gaW5mbGF0ZVJhdyQxKGlucHV0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLnJhdyA9IHRydWU7XG4gIHJldHVybiBpbmZsYXRlJDEoaW5wdXQsIG9wdGlvbnMpO1xufVxuXG5cbi8qKlxuICogdW5nemlwKGRhdGFbLCBvcHRpb25zXSkgLT4gVWludDhBcnJheXxTdHJpbmdcbiAqIC0gZGF0YSAoVWludDhBcnJheXxBcnJheUJ1ZmZlcik6IGlucHV0IGRhdGEgdG8gZGVjb21wcmVzcy5cbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBpbmZsYXRlIG9wdGlvbnMuXG4gKlxuICogSnVzdCBzaG9ydGN1dCB0byBbW2luZmxhdGVdXSwgYmVjYXVzZSBpdCBhdXRvZGV0ZWN0cyBmb3JtYXRcbiAqIGJ5IGhlYWRlci5jb250ZW50LiBEb25lIGZvciBjb252ZW5pZW5jZS5cbiAqKi9cblxuXG52YXIgSW5mbGF0ZV8xJDEgPSBJbmZsYXRlJDE7XG52YXIgaW5mbGF0ZV8yID0gaW5mbGF0ZSQxO1xudmFyIGluZmxhdGVSYXdfMSQxID0gaW5mbGF0ZVJhdyQxO1xudmFyIHVuZ3ppcCQxID0gaW5mbGF0ZSQxO1xudmFyIGNvbnN0YW50cyA9IGNvbnN0YW50cyQyO1xuXG52YXIgaW5mbGF0ZV8xJDEgPSB7XG5cdEluZmxhdGU6IEluZmxhdGVfMSQxLFxuXHRpbmZsYXRlOiBpbmZsYXRlXzIsXG5cdGluZmxhdGVSYXc6IGluZmxhdGVSYXdfMSQxLFxuXHR1bmd6aXA6IHVuZ3ppcCQxLFxuXHRjb25zdGFudHM6IGNvbnN0YW50c1xufTtcblxuY29uc3QgeyBEZWZsYXRlLCBkZWZsYXRlLCBkZWZsYXRlUmF3LCBnemlwIH0gPSBkZWZsYXRlXzEkMTtcblxuY29uc3QgeyBJbmZsYXRlLCBpbmZsYXRlLCBpbmZsYXRlUmF3LCB1bmd6aXAgfSA9IGluZmxhdGVfMSQxO1xuXG5cblxudmFyIERlZmxhdGVfMSA9IERlZmxhdGU7XG52YXIgZGVmbGF0ZV8xID0gZGVmbGF0ZTtcbnZhciBkZWZsYXRlUmF3XzEgPSBkZWZsYXRlUmF3O1xudmFyIGd6aXBfMSA9IGd6aXA7XG52YXIgSW5mbGF0ZV8xID0gSW5mbGF0ZTtcbnZhciBpbmZsYXRlXzEgPSBpbmZsYXRlO1xudmFyIGluZmxhdGVSYXdfMSA9IGluZmxhdGVSYXc7XG52YXIgdW5nemlwXzEgPSB1bmd6aXA7XG52YXIgY29uc3RhbnRzXzEgPSBjb25zdGFudHMkMjtcblxudmFyIHBha28gPSB7XG5cdERlZmxhdGU6IERlZmxhdGVfMSxcblx0ZGVmbGF0ZTogZGVmbGF0ZV8xLFxuXHRkZWZsYXRlUmF3OiBkZWZsYXRlUmF3XzEsXG5cdGd6aXA6IGd6aXBfMSxcblx0SW5mbGF0ZTogSW5mbGF0ZV8xLFxuXHRpbmZsYXRlOiBpbmZsYXRlXzEsXG5cdGluZmxhdGVSYXc6IGluZmxhdGVSYXdfMSxcblx0dW5nemlwOiB1bmd6aXBfMSxcblx0Y29uc3RhbnRzOiBjb25zdGFudHNfMVxufTtcblxuZXhwb3J0IHsgRGVmbGF0ZV8xIGFzIERlZmxhdGUsIEluZmxhdGVfMSBhcyBJbmZsYXRlLCBjb25zdGFudHNfMSBhcyBjb25zdGFudHMsIHBha28gYXMgZGVmYXVsdCwgZGVmbGF0ZV8xIGFzIGRlZmxhdGUsIGRlZmxhdGVSYXdfMSBhcyBkZWZsYXRlUmF3LCBnemlwXzEgYXMgZ3ppcCwgaW5mbGF0ZV8xIGFzIGluZmxhdGUsIGluZmxhdGVSYXdfMSBhcyBpbmZsYXRlUmF3LCB1bmd6aXBfMSBhcyB1bmd6aXAgfTtcbiJdLCJuYW1lcyI6WyJQb2ludCIsIngiLCJ5IiwidGhpcyIsIm1vZHVsZSIsImV4cG9ydHMiLCJwcm90b3R5cGUiLCJjbG9uZSIsImFkZCIsInAiLCJfYWRkIiwic3ViIiwiX3N1YiIsIm11bHRCeVBvaW50IiwiX211bHRCeVBvaW50IiwiZGl2QnlQb2ludCIsIl9kaXZCeVBvaW50IiwibXVsdCIsImsiLCJfbXVsdCIsImRpdiIsIl9kaXYiLCJyb3RhdGUiLCJhIiwiX3JvdGF0ZSIsInJvdGF0ZUFyb3VuZCIsIl9yb3RhdGVBcm91bmQiLCJtYXRNdWx0IiwibSIsIl9tYXRNdWx0IiwidW5pdCIsIl91bml0IiwicGVycCIsIl9wZXJwIiwicm91bmQiLCJfcm91bmQiLCJtYWciLCJNYXRoIiwic3FydCIsImVxdWFscyIsIm90aGVyIiwiZGlzdCIsImRpc3RTcXIiLCJkeCIsImR5IiwiYW5nbGUiLCJhdGFuMiIsImFuZ2xlVG8iLCJiIiwiYW5nbGVXaXRoIiwiYW5nbGVXaXRoU2VwIiwiY29zIiwic2luIiwiY29udmVydCIsIkFycmF5IiwiaXNBcnJheSIsIlZlY3RvclRpbGUiLCJWZWN0b3JUaWxlTGF5ZXIiLCJyZWFkVGlsZSIsInRhZyIsImxheWVycyIsInBiZiIsImxheWVyIiwicmVhZFZhcmludCIsInBvcyIsImxlbmd0aCIsIm5hbWUiLCJlbmQiLCJyZWFkRmllbGRzIiwiVmVjdG9yVGlsZUZlYXR1cmUiLCJleHRlbnQiLCJrZXlzIiwidmFsdWVzIiwicHJvcGVydGllcyIsInR5cGUiLCJfcGJmIiwiX2dlb21ldHJ5IiwiX2tleXMiLCJfdmFsdWVzIiwicmVhZEZlYXR1cmUiLCJmZWF0dXJlIiwiaWQiLCJrZXkiLCJ2YWx1ZSIsInJlYWRUYWciLCJzaWduZWRBcmVhIiwicmluZyIsInAxIiwicDIiLCJzdW0iLCJpIiwibGVuIiwiaiIsInR5cGVzIiwibG9hZEdlb21ldHJ5IiwibGluZSIsImNtZCIsImxpbmVzIiwiY21kTGVuIiwicmVhZFNWYXJpbnQiLCJwdXNoIiwiRXJyb3IiLCJiYm94IiwieDEiLCJJbmZpbml0eSIsIngyIiwieTEiLCJ5MiIsInRvR2VvSlNPTiIsInoiLCJzaXplIiwicG93IiwieDAiLCJ5MCIsImNvb3JkcyIsInByb2plY3QiLCJQSSIsImF0YW4iLCJleHAiLCJwb2ludHMiLCJyaW5ncyIsInBvbHlnb24iLCJjY3ciLCJwb2x5Z29ucyIsImFyZWEiLCJ1bmRlZmluZWQiLCJjbGFzc2lmeVJpbmdzIiwicmVzdWx0IiwiZ2VvbWV0cnkiLCJjb29yZGluYXRlcyIsInZlcnNpb24iLCJfZmVhdHVyZXMiLCJyZWFkTGF5ZXIiLCJyZWFkU3RyaW5nIiwicmVhZEZsb2F0IiwicmVhZERvdWJsZSIsInJlYWRWYXJpbnQ2NCIsInJlYWRCb29sZWFuIiwicmVhZFZhbHVlTWVzc2FnZSIsInJlYWQiLCJidWZmZXIiLCJvZmZzZXQiLCJpc0xFIiwibUxlbiIsIm5CeXRlcyIsImUiLCJlTGVuIiwiZU1heCIsImVCaWFzIiwibkJpdHMiLCJkIiwicyIsIk5hTiIsIndyaXRlIiwiYyIsInJ0IiwiYWJzIiwiaXNOYU4iLCJmbG9vciIsImxvZyIsIkxOMiIsIlBiZiIsImllZWU3NTQiLCJidWYiLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsIlVpbnQ4QXJyYXkiLCJWYXJpbnQiLCJGaXhlZDY0IiwiQnl0ZXMiLCJGaXhlZDMyIiwiU0hJRlRfTEVGVF8zMiIsIlNISUZUX1JJR0hUXzMyIiwidXRmOFRleHREZWNvZGVyIiwiVGV4dERlY29kZXIiLCJyZWFkUGFja2VkRW5kIiwidG9OdW0iLCJsb3ciLCJoaWdoIiwiaXNTaWduZWQiLCJtYWtlUm9vbUZvckV4dHJhTGVuZ3RoIiwic3RhcnRQb3MiLCJleHRyYUxlbiIsInJlYWxsb2MiLCJ3cml0ZVBhY2tlZFZhcmludCIsImFyciIsIndyaXRlVmFyaW50Iiwid3JpdGVQYWNrZWRTVmFyaW50Iiwid3JpdGVTVmFyaW50Iiwid3JpdGVQYWNrZWRGbG9hdCIsIndyaXRlRmxvYXQiLCJ3cml0ZVBhY2tlZERvdWJsZSIsIndyaXRlRG91YmxlIiwid3JpdGVQYWNrZWRCb29sZWFuIiwid3JpdGVCb29sZWFuIiwid3JpdGVQYWNrZWRGaXhlZDMyIiwid3JpdGVGaXhlZDMyIiwid3JpdGVQYWNrZWRTRml4ZWQzMiIsIndyaXRlU0ZpeGVkMzIiLCJ3cml0ZVBhY2tlZEZpeGVkNjQiLCJ3cml0ZUZpeGVkNjQiLCJ3cml0ZVBhY2tlZFNGaXhlZDY0Iiwid3JpdGVTRml4ZWQ2NCIsInJlYWRVSW50MzIiLCJ3cml0ZUludDMyIiwidmFsIiwicmVhZEludDMyIiwiZGVzdHJveSIsInJlYWRGaWVsZCIsInNraXAiLCJyZWFkTWVzc2FnZSIsInJlYWRGaXhlZDMyIiwicmVhZFNGaXhlZDMyIiwicmVhZEZpeGVkNjQiLCJyZWFkU0ZpeGVkNjQiLCJsIiwiaCIsInJlYWRWYXJpbnRSZW1haW5kZXIiLCJudW0iLCJCb29sZWFuIiwiZGVjb2RlIiwic3ViYXJyYXkiLCJyZWFkVXRmOFRleHREZWNvZGVyIiwic3RyIiwiYjEiLCJiMiIsImIzIiwiYjAiLCJieXRlc1BlclNlcXVlbmNlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwicmVhZFV0ZjgiLCJyZWFkQnl0ZXMiLCJyZWFkUGFja2VkVmFyaW50IiwicmVhZFBhY2tlZFNWYXJpbnQiLCJyZWFkUGFja2VkQm9vbGVhbiIsInJlYWRQYWNrZWRGbG9hdCIsInJlYWRQYWNrZWREb3VibGUiLCJyZWFkUGFja2VkRml4ZWQzMiIsInJlYWRQYWNrZWRTRml4ZWQzMiIsInJlYWRQYWNrZWRGaXhlZDY0IiwicmVhZFBhY2tlZFNGaXhlZDY0Iiwid3JpdGVUYWciLCJtaW4iLCJzZXQiLCJmaW5pc2giLCJ3cml0ZUJpZ1ZhcmludExvdyIsImxzYiIsIndyaXRlQmlnVmFyaW50SGlnaCIsIndyaXRlQmlnVmFyaW50Iiwid3JpdGVTdHJpbmciLCJsZWFkIiwiY2hhckNvZGVBdCIsIndyaXRlVXRmOCIsIndyaXRlQnl0ZXMiLCJ3cml0ZVJhd01lc3NhZ2UiLCJmbiIsIm9iaiIsIndyaXRlTWVzc2FnZSIsIndyaXRlQnl0ZXNGaWVsZCIsIndyaXRlRml4ZWQzMkZpZWxkIiwid3JpdGVTRml4ZWQzMkZpZWxkIiwid3JpdGVGaXhlZDY0RmllbGQiLCJ3cml0ZVNGaXhlZDY0RmllbGQiLCJ3cml0ZVZhcmludEZpZWxkIiwid3JpdGVTVmFyaW50RmllbGQiLCJ3cml0ZVN0cmluZ0ZpZWxkIiwid3JpdGVGbG9hdEZpZWxkIiwid3JpdGVEb3VibGVGaWVsZCIsIndyaXRlQm9vbGVhbkZpZWxkIiwidCIsInIiLCJuIiwibyIsImYiLCJ1IiwibWF4IiwiX21heEVudHJpZXMiLCJfbWluRW50cmllcyIsImNlaWwiLCJjbGVhciIsImluZGV4T2YiLCJjaGlsZHJlbiIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJsZWFmIiwiaGVpZ2h0IiwicG9wIiwiYWxsIiwiX2FsbCIsImRhdGEiLCJzZWFyY2giLCJ0b0JCb3giLCJjb2xsaWRlcyIsImxvYWQiLCJpbnNlcnQiLCJfYnVpbGQiLCJzbGljZSIsIl9zcGxpdFJvb3QiLCJfaW5zZXJ0IiwicmVtb3ZlIiwic3BsaWNlIiwiX2NvbmRlbnNlIiwiY29tcGFyZU1pblgiLCJjb21wYXJlTWluWSIsInRvSlNPTiIsImZyb21KU09OIiwiYXBwbHkiLCJfY2hvb3NlU3VidHJlZSIsIl9zcGxpdCIsIl9hZGp1c3RQYXJlbnRCQm94ZXMiLCJfY2hvb3NlU3BsaXRBeGlzIiwiX2Nob29zZVNwbGl0SW5kZXgiLCJ2IiwiTSIsIl9hbGxEaXN0TWFyZ2luIiwic29ydCIsIm1lc3NhZ2VzIiwiQXNzZXJ0aW9uRXJyb3IiLCJjb25zdHJ1Y3RvciIsImNvZGUiLCJtZXNzYWdlIiwic3VwZXIiLCJkaXNwb3NlZCIsImRpc3Bvc2UiLCJkaXNwb3NlSW50ZXJuYWwiLCJsaXN0ZW5JbWFnZSIsImltYWdlIiwibG9hZEhhbmRsZXIiLCJlcnJvckhhbmRsZXIiLCJpbWciLCJsaXN0ZW5pbmciLCJkZWNvZGluZyIsImxvYWRlZCIsImxpc3RlbmVyS2V5cyIsInNyYyIsInRoZW4iLCJjYXRjaCIsImVycm9yIiwiZm9yRWFjaCIsIklETEUiLCJMT0FESU5HIiwiTE9BREVEIiwiRVJST1IiLCJFTVBUWSIsIkltYWdlVGlsZSIsInRpbGVDb29yZCIsInN0YXRlIiwiY3Jvc3NPcmlnaW4iLCJ0aWxlTG9hZEZ1bmN0aW9uIiwib3B0aW9ucyIsImNyb3NzT3JpZ2luXyIsInNyY18iLCJpbWFnZV8iLCJJbWFnZSIsInVubGlzdGVuXyIsInRpbGVMb2FkRnVuY3Rpb25fIiwiZ2V0SW1hZ2UiLCJzZXRJbWFnZSIsImVsZW1lbnQiLCJ1bmxpc3RlbkltYWdlXyIsImNoYW5nZWQiLCJoYW5kbGVJbWFnZUVycm9yXyIsImN0eCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiY2FudmFzIiwiZ2V0QmxhbmtJbWFnZSIsImhhbmRsZUltYWdlTG9hZF8iLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiYmluZCIsIlByb3BlcnR5IiwiQ29sbGVjdGlvbkV2ZW50IiwiRXZlbnQiLCJpbmRleCIsIkNvbGxlY3Rpb24iLCJhcnJheSIsIm9uIiwib25jZSIsInVuIiwidW5pcXVlXyIsInVuaXF1ZSIsImFycmF5XyIsImlpIiwiYXNzZXJ0VW5pcXVlXyIsInVwZGF0ZUxlbmd0aF8iLCJnZXRMZW5ndGgiLCJleHRlbmQiLCJnZXRBcnJheSIsIml0ZW0iLCJnZXQiLCJpbnNlcnRBdCIsImVsZW0iLCJkaXNwYXRjaEV2ZW50IiwiQ29sbGVjdGlvbkV2ZW50VHlwZSIsInJlbW92ZUF0IiwicHJldiIsInNldEF0IiwiZXhjZXB0IiwiTWFwUmVuZGVyZXIiLCJEaXNwb3NhYmxlIiwibWFwIiwibWFwXyIsImRpc3BhdGNoUmVuZGVyRXZlbnQiLCJmcmFtZVN0YXRlIiwiY2FsY3VsYXRlTWF0cmljZXMyRCIsInZpZXdTdGF0ZSIsImNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtIiwicGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0iLCJyZXNvbHV0aW9uIiwicm90YXRpb24iLCJjZW50ZXIiLCJmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZSIsImNvb3JkaW5hdGUiLCJoaXRUb2xlcmFuY2UiLCJjaGVja1dyYXBwZWQiLCJjYWxsYmFjayIsInRoaXNBcmciLCJsYXllckZpbHRlciIsInRoaXNBcmcyIiwibWFuYWdlZCIsImNhbGwiLCJwcm9qZWN0aW9uIiwidHJhbnNsYXRlZENvb3JkaW5hdGUiLCJvZmZzZXRzIiwiY2FuV3JhcFgiLCJwcm9qZWN0aW9uRXh0ZW50IiwiZ2V0RXh0ZW50Iiwid29ybGRXaWR0aCIsImxheWVyU3RhdGVzIiwibGF5ZXJTdGF0ZXNBcnJheSIsIm51bUxheWVycyIsIm1hdGNoZXMiLCJ0bXBDb29yZCIsImxheWVyU3RhdGUiLCJoYXNSZW5kZXJlciIsImxheWVyUmVuZGVyZXIiLCJnZXRSZW5kZXJlciIsInNvdXJjZSIsImdldFNvdXJjZSIsImdldFdyYXBYIiwib3JkZXIiLCJkaXN0YW5jZVNxIiwic29tZSIsImhhc0ZlYXR1cmVBdENvb3JkaW5hdGUiLCJnZXRNYXAiLCJyZW5kZXJGcmFtZSIsInNjaGVkdWxlRXhwaXJlSWNvbkNhY2hlIiwicG9zdFJlbmRlckZ1bmN0aW9ucyIsImV4cGlyZUljb25DYWNoZSIsIk1hcCIsImZvbnRDaGFuZ2VMaXN0ZW5lcktleV8iLCJPYmplY3RFdmVudFR5cGUiLCJyZWRyYXdUZXh0IiwiZWxlbWVudF8iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsInBvc2l0aW9uIiwid2lkdGgiLCJ6SW5kZXgiLCJjbGFzc05hbWUiLCJjb250YWluZXIiLCJnZXRWaWV3cG9ydCIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJjaGlsZHJlbl8iLCJyZW5kZXJlZFZpc2libGVfIiwiaGFzTGlzdGVuZXIiLCJldmVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImRpc3BsYXkiLCJkZWNsdXR0ZXJMYXllcnMiLCJwcmV2aW91c0VsZW1lbnQiLCJsYXllckluZGV4Iiwic291cmNlU3RhdGUiLCJnZXRTb3VyY2VTdGF0ZSIsInVucmVuZGVyIiwicmVuZGVyIiwicmVuZGVyRGVjbHV0dGVyIiwiR3JvdXBFdmVudCIsIkxheWVyR3JvdXAiLCJCYXNlIiwiYmFzZU9wdGlvbnMiLCJPYmplY3QiLCJhc3NpZ24iLCJsYXllcnNMaXN0ZW5lcktleXNfIiwibGlzdGVuZXJLZXlzXyIsImFkZENoYW5nZUxpc3RlbmVyIiwiaGFuZGxlTGF5ZXJzQ2hhbmdlZF8iLCJzZXRMYXllcnMiLCJoYW5kbGVMYXllckNoYW5nZV8iLCJnZXRMYXllcnMiLCJoYW5kbGVMYXllcnNBZGRfIiwiaGFuZGxlTGF5ZXJzUmVtb3ZlXyIsImxheWVyc0FycmF5IiwicmVnaXN0ZXJMYXllckxpc3RlbmVyc18iLCJoYW5kbGVMYXllckdyb3VwQWRkXyIsImhhbmRsZUxheWVyR3JvdXBSZW1vdmVfIiwiY29sbGVjdGlvbkV2ZW50IiwiY29sbGVjdGlvbiIsImN1cnJlbnRMYXllcnMiLCJnZXRMYXllcnNBcnJheSIsImdldExheWVyU3RhdGVzQXJyYXkiLCJkZXN0Iiwic3RhdGVzIiwib3duTGF5ZXJTdGF0ZSIsImdldExheWVyU3RhdGUiLCJkZWZhdWx0WkluZGV4Iiwib3BhY2l0eSIsInZpc2libGUiLCJtYXhSZXNvbHV0aW9uIiwibWluUmVzb2x1dGlvbiIsIm1pblpvb20iLCJtYXhab29tIiwiTWFwRXZlbnQiLCJvcmlnaW5hbEV2ZW50IiwiZHJhZ2dpbmciLCJhY3RpdmVQb2ludGVycyIsInBpeGVsXyIsImNvb3JkaW5hdGVfIiwicGl4ZWwiLCJnZXRFdmVudFBpeGVsIiwiZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiU0lOR0xFQ0xJQ0siLCJDTElDSyIsIkRCTENMSUNLIiwiUE9JTlRFUkRSQUciLCJQT0lOVEVSTU9WRSIsIlBPSU5URVJET1dOIiwiUE9JTlRFUlVQIiwiUE9JTlRFUk9WRVIiLCJQT0lOVEVST1VUIiwiUE9JTlRFUkVOVEVSIiwiUE9JTlRFUkxFQVZFIiwiUE9JTlRFUkNBTkNFTCIsIk1hcEJyb3dzZXJFdmVudEhhbmRsZXIiLCJUYXJnZXQiLCJtb3ZlVG9sZXJhbmNlIiwiY2xpY2tUaW1lb3V0SWRfIiwiZW11bGF0ZUNsaWNrc18iLCJkcmFnZ2luZ18iLCJkcmFnTGlzdGVuZXJLZXlzXyIsIm1vdmVUb2xlcmFuY2VfIiwiZG93bl8iLCJhY3RpdmVQb2ludGVyc18iLCJ0cmFja2VkVG91Y2hlc18iLCJwb2ludGVyZG93bkxpc3RlbmVyS2V5XyIsImhhbmRsZVBvaW50ZXJEb3duXyIsIm9yaWdpbmFsUG9pbnRlck1vdmVFdmVudF8iLCJyZWxheWVkTGlzdGVuZXJLZXlfIiwicmVsYXlNb3ZlRXZlbnRfIiwiYm91bmRIYW5kbGVUb3VjaE1vdmVfIiwiaGFuZGxlVG91Y2hNb3ZlXyIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYXNzaXZlIiwiZW11bGF0ZUNsaWNrXyIsInBvaW50ZXJFdmVudCIsIm5ld0V2ZW50IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInVwZGF0ZUFjdGl2ZVBvaW50ZXJzXyIsInBvaW50ZXJJZCIsInRhcmdldCIsImhhbmRsZVBvaW50ZXJVcF8iLCJkZWZhdWx0UHJldmVudGVkIiwiaXNNb3VzZUFjdGlvbkJ1dHRvbl8iLCJidXR0b24iLCJwcm9wZXJ0eSIsImRvYyIsImdldE93bmVyRG9jdW1lbnQiLCJoYW5kbGVQb2ludGVyTW92ZV8iLCJnZXRSb290Tm9kZSIsImlzTW92aW5nXyIsImNhbmNlbGFibGUiLCJjbGllbnRYIiwiY2xpZW50WSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJEUk9QIiwicHJpb3JpdHlGdW5jdGlvbiIsImtleUZ1bmN0aW9uIiwicHJpb3JpdHlGdW5jdGlvbl8iLCJrZXlGdW5jdGlvbl8iLCJlbGVtZW50c18iLCJwcmlvcml0aWVzXyIsInF1ZXVlZEVsZW1lbnRzXyIsImRlcXVldWUiLCJlbGVtZW50cyIsInByaW9yaXRpZXMiLCJzaWZ0VXBfIiwiZWxlbWVudEtleSIsImVucXVldWUiLCJwcmlvcml0eSIsInNpZnREb3duXyIsImdldENvdW50IiwiZ2V0TGVmdENoaWxkSW5kZXhfIiwiZ2V0UmlnaHRDaGlsZEluZGV4XyIsImdldFBhcmVudEluZGV4XyIsImhlYXBpZnlfIiwiaXNFbXB0eSIsImlzS2V5UXVldWVkIiwiaXNRdWV1ZWQiLCJjb3VudCIsInN0YXJ0SW5kZXgiLCJsSW5kZXgiLCJySW5kZXgiLCJzbWFsbGVyQ2hpbGRJbmRleCIsInBhcmVudEluZGV4IiwicmVwcmlvcml0aXplIiwidGlsZVByaW9yaXR5RnVuY3Rpb24iLCJ0aWxlQ2hhbmdlQ2FsbGJhY2siLCJnZXRLZXkiLCJib3VuZEhhbmRsZVRpbGVDaGFuZ2VfIiwiaGFuZGxlVGlsZUNoYW5nZSIsInRpbGVDaGFuZ2VDYWxsYmFja18iLCJ0aWxlc0xvYWRpbmdfIiwidGlsZXNMb2FkaW5nS2V5c18iLCJhZGRlZCIsImdldFRpbGVzTG9hZGluZyIsInRpbGUiLCJnZXRTdGF0ZSIsIlRpbGVTdGF0ZSIsInRpbGVLZXkiLCJsb2FkTW9yZVRpbGVzIiwibWF4VG90YWxMb2FkaW5nIiwibWF4TmV3TG9hZHMiLCJuZXdMb2FkcyIsIkNvbnRyb2wiLCJwb2ludGVyRXZlbnRzIiwidGFyZ2V0XyIsInNldFRhcmdldCIsInNldE1hcCIsImdldE92ZXJsYXlDb250YWluZXJTdG9wRXZlbnQiLCJhcHBlbmRDaGlsZCIsIk1hcEV2ZW50VHlwZSIsIm1hcEV2ZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ1bEVsZW1lbnRfIiwiY29sbGFwc2VkXyIsImNvbGxhcHNlZCIsInVzZXJDb2xsYXBzZWRfIiwib3ZlcnJpZGVDb2xsYXBzaWJsZV8iLCJjb2xsYXBzaWJsZSIsImNvbGxhcHNpYmxlXyIsInRpcExhYmVsIiwiZXhwYW5kQ2xhc3NOYW1lIiwiY29sbGFwc2VMYWJlbCIsImNvbGxhcHNlQ2xhc3NOYW1lIiwiY29sbGFwc2VMYWJlbF8iLCJ0ZXh0Q29udGVudCIsImxhYmVsIiwibGFiZWxfIiwiYWN0aXZlTGFiZWwiLCJ0b2dnbGVCdXR0b25fIiwic2V0QXR0cmlidXRlIiwidGl0bGUiLCJoYW5kbGVDbGlja18iLCJjc3NDbGFzc2VzIiwicmVuZGVyZWRBdHRyaWJ1dGlvbnNfIiwiY29sbGVjdFNvdXJjZUF0dHJpYnV0aW9uc18iLCJsb29rdXAiLCJ2aXNpYmxlQXR0cmlidXRpb25zIiwiYXR0cmlidXRpb25HZXR0ZXIiLCJnZXRBdHRyaWJ1dGlvbnMiLCJhdHRyaWJ1dGlvbnMiLCJnZXRBdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSIsImpqIiwic2V0Q29sbGFwc2libGUiLCJ1cGRhdGVFbGVtZW50XyIsImlubmVySFRNTCIsImhhbmRsZVRvZ2dsZV8iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJnZXRDb2xsYXBzaWJsZSIsInNldENvbGxhcHNlZCIsImdldENvbGxhcHNlZCIsImNvbXBhc3NDbGFzc05hbWUiLCJjYWxsUmVzZXROb3J0aF8iLCJyZXNldE5vcnRoIiwiZHVyYXRpb25fIiwiZHVyYXRpb24iLCJhdXRvSGlkZV8iLCJhdXRvSGlkZSIsInJvdGF0aW9uXyIsInJlc2V0Tm9ydGhfIiwidmlldyIsImdldFZpZXciLCJnZXRSb3RhdGlvbiIsImFuaW1hdGUiLCJlYXNpbmciLCJzZXRSb3RhdGlvbiIsInRyYW5zZm9ybSIsImNvbnRhaW5zIiwiZGVsdGEiLCJ6b29tSW5DbGFzc05hbWUiLCJ6b29tT3V0Q2xhc3NOYW1lIiwiem9vbUluTGFiZWwiLCJ6b29tT3V0TGFiZWwiLCJ6b29tSW5UaXBMYWJlbCIsInpvb21PdXRUaXBMYWJlbCIsImluRWxlbWVudCIsImNyZWF0ZVRleHROb2RlIiwib3V0RWxlbWVudCIsInpvb21CeURlbHRhXyIsImN1cnJlbnRab29tIiwiZ2V0Wm9vbSIsIm5ld1pvb20iLCJnZXRDb25zdHJhaW5lZFpvb20iLCJnZXRBbmltYXRpbmciLCJjYW5jZWxBbmltYXRpb25zIiwiem9vbSIsInNldFpvb20iLCJJbnRlcmFjdGlvbiIsImhhbmRsZUV2ZW50Iiwic2V0QWN0aXZlIiwiZ2V0QWN0aXZlIiwibWFwQnJvd3NlckV2ZW50IiwiYWN0aXZlIiwiem9vbUJ5RGVsdGEiLCJhbmNob3IiLCJuZXdSZXNvbHV0aW9uIiwiZ2V0UmVzb2x1dGlvbkZvclpvb20iLCJkZWx0YV8iLCJzdG9wRXZlbnQiLCJicm93c2VyRXZlbnQiLCJzaGlmdEtleSIsImhhbmRsZURvd25FdmVudCIsImhhbmRsZURyYWdFdmVudCIsImhhbmRsZU1vdmVFdmVudCIsImhhbmRsZVVwRXZlbnQiLCJzdG9wRG93biIsImhhbmRsaW5nRG93blVwU2VxdWVuY2UiLCJ0YXJnZXRQb2ludGVycyIsImdldFBvaW50ZXJDb3VudCIsInVwZGF0ZVRyYWNrZWRQb2ludGVyc18iLCJoYW5kbGVkVXAiLCJoYW5kbGVkIiwidmFyX2FyZ3MiLCJjb25kaXRpb25zIiwiYXJndW1lbnRzIiwicGFzcyIsImFsdFNoaWZ0S2V5c09ubHkiLCJhbHRLZXkiLCJtZXRhS2V5IiwiY3RybEtleSIsImZvY3VzV2l0aFRhYmluZGV4IiwiZ2V0VGFyZ2V0RWxlbWVudCIsImhhc0F0dHJpYnV0ZSIsInRhcmdldEVsZW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiYWx3YXlzIiwibW91c2VBY3Rpb25CdXR0b24iLCJub01vZGlmaWVyS2V5cyIsInNoaWZ0S2V5T25seSIsInRhcmdldE5vdEVkaXRhYmxlIiwidGFnTmFtZSIsImlzQ29udGVudEVkaXRhYmxlIiwibW91c2VPbmx5IiwicG9pbnRlclR5cGUiLCJwcmltYXJ5QWN0aW9uIiwiaXNQcmltYXJ5IiwiUG9pbnRlciIsImtpbmV0aWNfIiwia2luZXRpYyIsImxhc3RDZW50cm9pZCIsImxhc3RQb2ludGVyc0NvdW50XyIsInBhbm5pbmdfIiwiY29uZGl0aW9uIiwiY29uZGl0aW9uXyIsIm9uRm9jdXNPbmx5Iiwibm9LaW5ldGljXyIsImJlZ2luSW50ZXJhY3Rpb24iLCJjZW50cm9pZCIsInVwZGF0ZSIsImdldFJlc29sdXRpb24iLCJhZGp1c3RDZW50ZXJJbnRlcm5hbCIsImJlZ2luIiwiZGlzdGFuY2UiLCJnZXREaXN0YW5jZSIsImdldEFuZ2xlIiwiZ2V0Q2VudGVySW50ZXJuYWwiLCJjZW50ZXJweCIsImdldFBpeGVsRnJvbUNvb3JkaW5hdGVJbnRlcm5hbCIsImdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbCIsImFuaW1hdGVJbnRlcm5hbCIsImdldENvbnN0cmFpbmVkQ2VudGVyIiwiZW5kSW50ZXJhY3Rpb24iLCJsYXN0QW5nbGVfIiwiZ2V0Q29uc3RyYWludHMiLCJnZXRTaXplIiwidGhldGEiLCJhZGp1c3RSb3RhdGlvbkludGVybmFsIiwiUmVuZGVyQm94IiwiZ2VvbWV0cnlfIiwic3RhcnRQaXhlbF8iLCJlbmRQaXhlbF8iLCJyZW5kZXJfIiwic3RhcnRQaXhlbCIsImVuZFBpeGVsIiwicHgiLCJsZWZ0IiwidG9wIiwiZ2V0T3ZlcmxheUNvbnRhaW5lciIsInNldFBpeGVscyIsImNyZWF0ZU9yVXBkYXRlR2VvbWV0cnkiLCJzZXRDb29yZGluYXRlcyIsIlBvbHlnb24iLCJnZXRHZW9tZXRyeSIsIkRyYWdCb3hFdmVudCIsImJveF8iLCJtaW5BcmVhXyIsIm1pbkFyZWEiLCJvbkJveEVuZCIsImJveEVuZENvbmRpdGlvbl8iLCJib3hFbmRDb25kaXRpb24iLCJkZWZhdWx0Qm94RW5kQ29uZGl0aW9uIiwiY29tcGxldGVCb3giLCJvdXRfIiwib3V0Iiwicm90YXRlZEV4dGVudCIsInJvdGF0ZWRFeHRlbnRGb3JHZW9tZXRyeSIsImdldFJlc29sdXRpb25Gb3JFeHRlbnRJbnRlcm5hbCIsImZhY3RvciIsInNjYWxlIiwiZml0SW50ZXJuYWwiLCJkZWZhdWx0Q29uZGl0aW9uXyIsInBpeGVsRGVsdGFfIiwicGl4ZWxEZWx0YSIsImtleUV2ZW50Iiwia2V5Q29kZSIsIm1hcFVuaXRzRGVsdGEiLCJkZWx0YVgiLCJkZWx0YVkiLCJjdXJyZW50Q2VudGVyIiwicGFuIiwiY2hhckNvZGUiLCJ0b3RhbERlbHRhXyIsImxhc3REZWx0YV8iLCJtYXhEZWx0YV8iLCJtYXhEZWx0YSIsInRpbWVvdXRfIiwidGltZW91dCIsInVzZUFuY2hvcl8iLCJ1c2VBbmNob3IiLCJjb25zdHJhaW5SZXNvbHV0aW9uXyIsImNvbnN0cmFpblJlc29sdXRpb24iLCJsYXN0QW5jaG9yXyIsInN0YXJ0VGltZV8iLCJ0aW1lb3V0SWRfIiwibW9kZV8iLCJ0cmFja3BhZEV2ZW50R2FwXyIsInRyYWNrcGFkVGltZW91dElkXyIsImRlbHRhUGVyWm9vbV8iLCJlbmRJbnRlcmFjdGlvbl8iLCJ3aGVlbEV2ZW50IiwiZGVsdGFNb2RlIiwiV2hlZWxFdmVudCIsIkRPTV9ERUxUQV9QSVhFTCIsIkRPTV9ERUxUQV9MSU5FIiwibm93IiwiRGF0ZSIsImdldENvbnN0cmFpblJlc29sdXRpb24iLCJhZGp1c3Rab29tIiwidGltZUxlZnQiLCJoYW5kbGVXaGVlbFpvb21fIiwic2V0TW91c2VBbmNob3IiLCJwb2ludGVyT3B0aW9ucyIsImFuY2hvcl8iLCJyb3RhdGluZ18iLCJyb3RhdGlvbkRlbHRhXyIsInRocmVzaG9sZF8iLCJ0aHJlc2hvbGQiLCJyb3RhdGlvbkRlbHRhIiwidG91Y2gwIiwidG91Y2gxIiwibGFzdERpc3RhbmNlXyIsImxhc3RTY2FsZURlbHRhXyIsInNjYWxlRGVsdGEiLCJhZGp1c3RSZXNvbHV0aW9uSW50ZXJuYWwiLCJkaXJlY3Rpb24iLCJyZW1vdmVMYXllck1hcFByb3BlcnR5IiwiTGF5ZXIiLCJzZXRNYXBJbnRlcm5hbCIsInNldExheWVyTWFwUHJvcGVydHkiLCJvcHRpb25zSW50ZXJuYWwiLCJrZXlib2FyZEV2ZW50VGFyZ2V0IiwibGF5ZXJHcm91cCIsImNvbnRyb2xzIiwiaW50ZXJhY3Rpb25zIiwib3ZlcmxheXMiLCJNYXBQcm9wZXJ0eSIsIlZpZXciLCJjcmVhdGVPcHRpb25zSW50ZXJuYWwiLCJyZW5kZXJDb21wbGV0ZV8iLCJsb2FkZWRfIiwiYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfIiwiaGFuZGxlQnJvd3NlckV2ZW50IiwibWF4VGlsZXNMb2FkaW5nXyIsIm1heFRpbGVzTG9hZGluZyIsInBpeGVsUmF0aW9fIiwicGl4ZWxSYXRpbyIsInBvc3RSZW5kZXJUaW1lb3V0SGFuZGxlXyIsImFuaW1hdGlvbkRlbGF5S2V5XyIsImFuaW1hdGlvbkRlbGF5XyIsImNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtXyIsInBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyIsImZyYW1lSW5kZXhfIiwiZnJhbWVTdGF0ZV8iLCJwcmV2aW91c0V4dGVudF8iLCJ2aWV3UHJvcGVydHlMaXN0ZW5lcktleV8iLCJ2aWV3Q2hhbmdlTGlzdGVuZXJLZXlfIiwibGF5ZXJHcm91cFByb3BlcnR5TGlzdGVuZXJLZXlzXyIsInZpZXdwb3J0XyIsIndpbmRvdyIsIm92ZXJmbG93Iiwib3ZlcmxheUNvbnRhaW5lcl8iLCJvdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50XyIsIm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfIiwia2V5Ym9hcmRFdmVudFRhcmdldF8iLCJ0YXJnZXRDaGFuZ2VIYW5kbGVyS2V5c18iLCJ0YXJnZXRFbGVtZW50XyIsInJlc2l6ZU9ic2VydmVyXyIsIlJlc2l6ZU9ic2VydmVyIiwidXBkYXRlU2l6ZSIsInpvb21PcHRpb25zIiwicm90YXRlT3B0aW9ucyIsImF0dHJpYnV0aW9uIiwiYXR0cmlidXRpb25PcHRpb25zIiwiZGVjYXkiLCJtaW5WZWxvY2l0eSIsImRlbGF5IiwiZGVjYXlfIiwibWluVmVsb2NpdHlfIiwiZGVsYXlfIiwicG9pbnRzXyIsImFuZ2xlXyIsImluaXRpYWxWZWxvY2l0eV8iLCJsYXN0SW5kZXgiLCJmaXJzdEluZGV4IiwiYWx0U2hpZnREcmFnUm90YXRlIiwiZG91YmxlQ2xpY2tab29tIiwiem9vbURlbHRhIiwiem9vbUR1cmF0aW9uIiwiZHJhZ1BhbiIsInBpbmNoUm90YXRlIiwicGluY2hab29tIiwia2V5Ym9hcmQiLCJtb3VzZVdoZWVsWm9vbSIsInNoaWZ0RHJhZ1pvb20iLCJvdmVybGF5c18iLCJvdmVybGF5SWRJbmRleF8iLCJyZW5kZXJlcl8iLCJwb3N0UmVuZGVyRnVuY3Rpb25zXyIsInRpbGVRdWV1ZV8iLCJnZXRUaWxlUHJpb3JpdHkiLCJoYW5kbGVUaWxlQ2hhbmdlXyIsImhhbmRsZUxheWVyR3JvdXBDaGFuZ2VkXyIsImhhbmRsZVZpZXdDaGFuZ2VkXyIsImhhbmRsZVNpemVDaGFuZ2VkXyIsImhhbmRsZVRhcmdldENoYW5nZWRfIiwic2V0UHJvcGVydGllcyIsInZpZXdPcHRpb25zIiwic2V0VmlldyIsImFkZE92ZXJsYXlJbnRlcm5hbF8iLCJnZXRJZCIsInRvU3RyaW5nIiwiY29udHJvbCIsImludGVyYWN0aW9uIiwiYWRkQ29udHJvbCIsImdldENvbnRyb2xzIiwiYWRkSW50ZXJhY3Rpb24iLCJnZXRJbnRlcmFjdGlvbnMiLCJhZGRMYXllciIsImdldExheWVyR3JvdXAiLCJoYW5kbGVMYXllckFkZF8iLCJhZGRPdmVybGF5Iiwib3ZlcmxheSIsImdldE92ZXJsYXlzIiwiZGlzY29ubmVjdCIsImZvckVhY2hGZWF0dXJlQXRQaXhlbCIsImdldEZlYXR1cmVzQXRQaXhlbCIsImZlYXR1cmVzIiwiZ2V0QWxsTGF5ZXJzIiwiYWRkTGF5ZXJzRnJvbSIsImhhc0ZlYXR1cmVBdFBpeGVsIiwiZ2V0RXZlbnRDb29yZGluYXRlIiwiZ2V0RXZlbnRDb29yZGluYXRlSW50ZXJuYWwiLCJ2aWV3cG9ydFBvc2l0aW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwidmlld3BvcnRTaXplIiwic2NhbGVYIiwic2NhbGVZIiwiZXZlbnRQb3NpdGlvbiIsImNoYW5nZWRUb3VjaGVzIiwiZ2V0VGFyZ2V0IiwiZ2V0UHJvamVjdGlvbiIsImdldE92ZXJsYXlCeUlkIiwiZ3JvdXAiLCJnZXRMb2FkaW5nT3JOb3RSZWFkeSIsInJlbmRlcmVyIiwicmVhZHkiLCJsb2FkaW5nIiwiZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZSIsInZpZXdDb29yZGluYXRlIiwib3duZXJEb2N1bWVudCIsInRpbGVTb3VyY2VLZXkiLCJ0aWxlQ2VudGVyIiwidGlsZVJlc29sdXRpb24iLCJ3YW50ZWRUaWxlcyIsImhhbmRsZU1hcEJyb3dzZXJFdmVudCIsImV2ZW50VHlwZSIsInJvb3ROb2RlIiwiZG9jdW1lbnRFbGVtZW50IiwiaW50ZXJhY3Rpb25zQXJyYXkiLCJwcm9wYWdhdGlvblN0b3BwZWQiLCJoYW5kbGVQb3N0UmVuZGVyIiwidGlsZVF1ZXVlIiwiaGludHMiLCJ2aWV3SGludHMiLCJWaWV3SGludCIsImxvd09uRnJhbWVCdWRnZXQiLCJ0aW1lIiwicmVzb2x2ZUNvbnN0cmFpbnRzIiwidW5vYnNlcnZlIiwiU2hhZG93Um9vdCIsImhvc3QiLCJDb21wb3NpdGUiLCJvYnNlcnZlIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJoYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXyIsInVwZGF0ZVZpZXdwb3J0U2l6ZV8iLCJoYW5kbGVMYXllclJlbW92ZV8iLCJpc1JlbmRlcmVkIiwicmVuZGVyRnJhbWVfIiwicmVuZGVyU3luYyIsImhhbmRsZUZvbnRzQ2hhbmdlZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJlbW92ZUNvbnRyb2wiLCJyZW1vdmVJbnRlcmFjdGlvbiIsInJlbW92ZUxheWVyIiwicmVtb3ZlT3ZlcmxheSIsInByZXZpb3VzRnJhbWVTdGF0ZSIsImlzRGVmIiwiZ2V0SGludHMiLCJkZWNsdXR0ZXJUcmVlIiwidXNlZFRpbGVzIiwibWFwSWQiLCJyZW5kZXJUYXJnZXRzIiwibmV4dENlbnRlciIsIm5leHRSZXNvbHV0aW9uIiwibmV4dFJvdGF0aW9uIiwibmV4dEV4dGVudCIsInNldExheWVyR3JvdXAiLCJvbGRMYXllckdyb3VwIiwic2V0U2l6ZSIsImNvbXB1dGVkU3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwib2Zmc2V0V2lkdGgiLCJwYXJzZUZsb2F0Iiwib2Zmc2V0SGVpZ2h0IiwiZ2V0Q2xpZW50UmVjdHMiLCJvbGRTaXplIiwicGFyc2VJbnQiLCJzZXRWaWV3cG9ydFNpemUiLCJPYmplY3RFdmVudCIsIm9sZFZhbHVlIiwiQmFzZU9iamVjdCIsInZhbHVlc18iLCJoYXNPd25Qcm9wZXJ0eSIsImdldEtleXMiLCJnZXRQcm9wZXJ0aWVzIiwiaGFzUHJvcGVydGllcyIsIm5vdGlmeSIsImxpc3RlbmVyIiwicmVtb3ZlQ2hhbmdlTGlzdGVuZXIiLCJzaWxlbnQiLCJhcHBseVByb3BlcnRpZXMiLCJ1bnNldCIsIlBST1BFUlRZQ0hBTkdFIiwiT2JzZXJ2YWJsZSIsInJldmlzaW9uXyIsImdldFJldmlzaW9uIiwib25JbnRlcm5hbCIsIm9uY2VJbnRlcm5hbCIsIm9sX2tleSIsInVuSW50ZXJuYWwiLCJ1bkJ5S2V5IiwiVGlsZSIsImludGVyaW1UaWxlIiwidHJhbnNpdGlvbl8iLCJ0cmFuc2l0aW9uIiwidHJhbnNpdGlvblN0YXJ0c18iLCJpbnRlcnBvbGF0ZSIsInJlbGVhc2UiLCJzZXRTdGF0ZSIsImdldEludGVyaW1UaWxlIiwicmVmcmVzaEludGVyaW1DaGFpbiIsImdldFRpbGVDb29yZCIsImdldEFscGhhIiwic3RhcnQiLCJpblRyYW5zaXRpb24iLCJlbmRUcmFuc2l0aW9uIiwiaGlnaFdhdGVyTWFyayIsImNvdW50XyIsImVudHJpZXNfIiwib2xkZXN0XyIsIm5ld2VzdF8iLCJjYW5FeHBpcmVDYWNoZSIsImV4cGlyZUNhY2hlIiwia2VlcCIsImNvbnRhaW5zS2V5IiwiZW50cnkiLCJ2YWx1ZV8iLCJrZXlfIiwibmV3ZXIiLCJvbGRlciIsImdldFZhbHVlcyIsInBlZWtMYXN0IiwicGVla0xhc3RLZXkiLCJwZWVrRmlyc3RLZXkiLCJwZWVrIiwicmVwbGFjZSIsInBydW5lRXhjZXB0TmV3ZXN0WiIsIlRpbGVSYW5nZSIsImNvbnRhaW5zWFkiLCJjb250YWluc1RpbGVSYW5nZSIsInRpbGVSYW5nZSIsImdldEhlaWdodCIsImdldFdpZHRoIiwiaW50ZXJzZWN0cyIsImNyZWF0ZU9yVXBkYXRlIiwiQ0VOVEVSIiwiUkVTT0xVVElPTiIsIlJPVEFUSU9OIiwiY3JlYXRlRXh0ZW50Iiwib25seUNlbnRlciIsInNtb290aCIsImlzTW92aW5nIiwiY2VudGVyU2hpZnQiLCJ2aWV3V2lkdGgiLCJ2aWV3SGVpZ2h0Iiwic2hpZnRYIiwic2hpZnRZIiwicmF0aW8iLCJub25lIiwiZ2V0Vmlld3BvcnRDbGFtcGVkUmVzb2x1dGlvbiIsIm1heEV4dGVudCIsInNob3dGdWxsRXh0ZW50IiwieFJlc29sdXRpb24iLCJ5UmVzb2x1dGlvbiIsImdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uIiwiY3JlYXRlTWluTWF4UmVzb2x1dGlvbiIsImNhcHBlZE1heFJlcyIsImhpbnRzXyIsImFuaW1hdGlvbnNfIiwidXBkYXRlQW5pbWF0aW9uS2V5XyIsInByb2plY3Rpb25fIiwidmlld3BvcnRTaXplXyIsInRhcmdldENlbnRlcl8iLCJ0YXJnZXRSZXNvbHV0aW9uXyIsInRhcmdldFJvdGF0aW9uXyIsIm5leHRDZW50ZXJfIiwibmV4dFJlc29sdXRpb25fIiwibmV4dFJvdGF0aW9uXyIsImNhbmNlbEFuY2hvcl8iLCJhcHBseU9wdGlvbnNfIiwiVmlld1Byb3BlcnR5IiwicmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvIiwicmVzb2x1dGlvbkNvbnN0cmFpbnQiLCJ6b29tRmFjdG9yIiwibXVsdGlXb3JsZCIsInNtb290aFJlc29sdXRpb25Db25zdHJhaW50IiwicHJvakV4dGVudCIsImNvbnN0cmFpbk9ubHlDZW50ZXIiLCJpc0dsb2JhbCIsInJlc29sdXRpb25zIiwiY2FwcGVkIiwiY3JlYXRlU25hcFRvUmVzb2x1dGlvbnMiLCJkZWZhdWx0TWF4UmVzb2x1dGlvbiIsImdldE1ldGVyc1BlclVuaXQiLCJkZWZhdWx0TWluUmVzb2x1dGlvbiIsImRlZmF1bHRNYXhab29tIiwicG93ZXIiLCJ0b2xlcmFuY2UiLCJtaW5ab29tTGV2ZWwiLCJjYXBwZWRab29tTGV2ZWwiLCJ6b29tTGV2ZWwiLCJjcmVhdGVTbmFwVG9Qb3dlciIsImNvbnN0cmFpbnQiLCJjcmVhdGVSZXNvbHV0aW9uQ29uc3RyYWludCIsIm1heFJlc29sdXRpb25fIiwibWluUmVzb2x1dGlvbl8iLCJ6b29tRmFjdG9yXyIsInJlc29sdXRpb25zXyIsInBhZGRpbmdfIiwicGFkZGluZyIsIm1pblpvb21fIiwiY2VudGVyQ29uc3RyYWludCIsInNtb290aEV4dGVudENvbnN0cmFpbnQiLCJjcmVhdGVDZW50ZXJDb25zdHJhaW50Iiwicm90YXRpb25Db25zdHJhaW50IiwiZW5hYmxlUm90YXRpb24iLCJjb25zdHJhaW5Sb3RhdGlvbiIsImNyZWF0ZVJvdGF0aW9uQ29uc3RyYWludCIsImNvbnN0cmFpbnRzXyIsInNldENlbnRlckludGVybmFsIiwic2V0UmVzb2x1dGlvbiIsIm9sZFBhZGRpbmciLCJnZXRDZW50ZXIiLCJuZXdQYWRkaW5nIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJnZXRVcGRhdGVkT3B0aW9uc18iLCJuZXdPcHRpb25zIiwiYXJncyIsImFuaW1hdGlvbkNvdW50IiwiYW5pbWF0aW9uQ2FsbGJhY2siLCJzZXJpZXMiLCJhbmltYXRpb24iLCJjb21wbGV0ZSIsInNvdXJjZUNlbnRlciIsInRhcmdldENlbnRlciIsInNvdXJjZVJlc29sdXRpb24iLCJ0YXJnZXRSZXNvbHV0aW9uIiwic291cmNlUm90YXRpb24iLCJ0YXJnZXRSb3RhdGlvbiIsImlzTm9vcEFuaW1hdGlvbiIsInNldEhpbnQiLCJ1cGRhdGVBbmltYXRpb25zXyIsImdldEludGVyYWN0aW5nIiwibW9yZSIsInNlcmllc0NvbXBsZXRlIiwiZWxhcHNlZCIsImZyYWN0aW9uIiwicHJvZ3Jlc3MiLCJnZXRWaWV3cG9ydFNpemVfIiwiY29uc3RyYWluZWRSZXNvbHV0aW9uIiwiY2FsY3VsYXRlQ2VudGVyWm9vbSIsImFwcGx5VGFyZ2V0U3RhdGVfIiwiY29uc3RyYWluZWRSb3RhdGlvbiIsImNhbGN1bGF0ZUNlbnRlclJvdGF0ZSIsImZpbHRlciIsImN1cnJlbnRSZXNvbHV0aW9uIiwidyIsImNhbGN1bGF0ZUV4dGVudCIsImNhbGN1bGF0ZUV4dGVudEludGVybmFsIiwiZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXyIsImdldE1heFJlc29sdXRpb24iLCJnZXRNaW5SZXNvbHV0aW9uIiwiZ2V0TWF4Wm9vbSIsImdldFpvb21Gb3JSZXNvbHV0aW9uIiwic2V0TWF4Wm9vbSIsImdldE1pblpvb20iLCJzZXRNaW5ab29tIiwic2V0Q29uc3RyYWluUmVzb2x1dGlvbiIsImVuYWJsZWQiLCJnZXRSZXNvbHV0aW9ucyIsImdldFJlc29sdXRpb25Gb3JFeHRlbnQiLCJnZXRSZXNvbHV0aW9uRm9yVmFsdWVGdW5jdGlvbiIsImdldENvbnN0cmFpbmVkUmVzb2x1dGlvbiIsImdldFZhbHVlRm9yUmVzb2x1dGlvbkZ1bmN0aW9uIiwibG9nUG93ZXIiLCJyZWR1Y2VkU2l6ZSIsImNhbGN1bGF0ZUNlbnRlck9uIiwibmVhcmVzdCIsImJhc2VMZXZlbCIsImZpdCIsImdlb21ldHJ5T3JFeHRlbnQiLCJnZXRUeXBlIiwidXNlclByb2plY3Rpb24iLCJjb3NBbmdsZSIsInNpbkFuZ2xlIiwiZ2V0RmxhdENvb3JkaW5hdGVzIiwic3RyaWRlIiwiZ2V0U3RyaWRlIiwibWluUm90WCIsIm1pblJvdFkiLCJtYXhSb3RYIiwibWF4Um90WSIsInJvdFgiLCJyb3RZIiwiY2VudGVyUm90IiwiY2VudGVyWCIsImNlbnRlclkiLCJjZW50ZXJPbiIsImNlbnRlck9uSW50ZXJuYWwiLCJjYWxjdWxhdGVDZW50ZXJTaGlmdCIsInNoaWZ0ZWRDZW50ZXIiLCJhZGp1c3RDZW50ZXIiLCJkZWx0YUNvb3JkaW5hdGVzIiwic2V0Q2VudGVyIiwiYWRqdXN0UmVzb2x1dGlvbiIsImFkanVzdFJvdGF0aW9uIiwibmV3Um90YXRpb24iLCJoaW50IiwiZG9Ob3RDYW5jZWxBbmltcyIsImZvcmNlTW92aW5nIiwibmV3Q2VudGVyIiwicmVzb2x1dGlvbkRpcmVjdGlvbiIsImVuZEludGVyYWN0aW9uSW50ZXJuYWwiLCJ0YXJnZXRab29tIiwidGFyZ2V0UmVzIiwicmV0dXJuVmFsdWUiLCJBTklNQVRJTkciLCJJTlRFUkFDVElORyIsImJpbmFyeVNlYXJjaCIsImhheXN0YWNrIiwibmVlZGxlIiwiY29tcGFyYXRvciIsIm1pZCIsImNtcCIsImFzY2VuZGluZyIsImZvdW5kIiwibGluZWFyRmluZE5lYXJlc3QiLCJyZXZlcnNlU3ViQXJyYXkiLCJ0bXAiLCJleHRlbnNpb24iLCJhcnIxIiwiYXJyMiIsImxlbjEiLCJpc1NvcnRlZCIsImZ1bmMiLCJzdHJpY3QiLCJjb21wYXJlIiwiZXZlcnkiLCJjdXJyZW50VmFsIiwicmVzIiwiYXNzZXJ0IiwiYXNzZXJ0aW9uIiwiZXJyb3JDb2RlIiwiSEVYX0NPTE9SX1JFXyIsIk5BTUVEX0NPTE9SX1JFXyIsImFzU3RyaW5nIiwiY29sb3IiLCJmcm9tU3RyaW5nIiwiY2FjaGUiLCJjYWNoZVNpemUiLCJnIiwiZXhlYyIsImVsIiwiYm9keSIsInJnYiIsImZyb21OYW1lZCIsImhhc0FscGhhIiwic3Vic3RyIiwic3RhcnRzV2l0aCIsInNwbGl0IiwiTnVtYmVyIiwibm9ybWFsaXplIiwiZnJvbVN0cmluZ0ludGVybmFsXyIsImFzQXJyYXkiLCJhc0NvbG9yTGlrZSIsImxldmVscyIsImluZm8iLCJ3YXJuIiwibGV2ZWwiLCJjb25zb2xlIiwiY29vcmRpbmF0ZTEiLCJjb29yZGluYXRlMiIsIndyYXBYIiwid29ybGRzQXdheSIsInNvdXJjZUV4dGVudFdpZHRoIiwiZ2V0V29ybGRzQXdheSIsIkNMQVNTX0hJRERFTiIsIkNMQVNTX1VOU0VMRUNUQUJMRSIsIkNMQVNTX0NPTlRST0wiLCJDTEFTU19DT0xMQVBTRUQiLCJmb250UmVnRXgiLCJSZWdFeHAiLCJqb2luIiwiZm9udFJlZ0V4TWF0Y2hJbmRleCIsImdldEZvbnRQYXJhbWV0ZXJzIiwiZm9udFNwZWMiLCJtYXRjaCIsImxpbmVIZWlnaHQiLCJ3ZWlnaHQiLCJ2YXJpYW50IiwiZmFtaWxpZXMiLCJmYW1pbHkiLCJjcmVhdGVDYW52YXNDb250ZXh0MkQiLCJjYW52YXNQb29sIiwic2V0dGluZ3MiLCJzaGlmdCIsIk9mZnNjcmVlbkNhbnZhcyIsImdldENvbnRleHQiLCJyZWxlYXNlQ2FudmFzIiwiY29udGV4dCIsImNsZWFyUmVjdCIsInJlcGxhY2VOb2RlIiwibmV3Tm9kZSIsIm9sZE5vZGUiLCJwYXJlbnQiLCJyZXBsYWNlQ2hpbGQiLCJyZW1vdmVOb2RlIiwibm9kZSIsInJlbW92ZUNoaWxkcmVuIiwibGFzdENoaWxkIiwicmVwbGFjZUNoaWxkcmVuIiwib2xkQ2hpbGRyZW4iLCJjaGlsZE5vZGVzIiwib2xkQ2hpbGQiLCJuZXdDaGlsZCIsImVhc2VJbiIsImVhc2VPdXQiLCJpbkFuZE91dCIsImxpbmVhciIsImxpc3RlbiIsIm9yaWdpbmFsTGlzdGVuZXIiLCJldmVudHNLZXkiLCJsaXN0ZW5PbmNlIiwidW5saXN0ZW5CeUtleSIsIkNIQU5HRSIsIkJMVVIiLCJDTEVBUiIsIkNPTlRFWFRNRU5VIiwiRFJBR0VOVEVSIiwiRFJBR09WRVIiLCJGT0NVUyIsIktFWURPV04iLCJLRVlQUkVTUyIsIkxPQUQiLCJSRVNJWkUiLCJUT1VDSE1PVkUiLCJXSEVFTCIsImV2ZW50VGFyZ2V0XyIsInBlbmRpbmdSZW1vdmFsc18iLCJkaXNwYXRjaGluZ18iLCJsaXN0ZW5lcnNfIiwibGlzdGVuZXJzIiwibGlzdGVuZXJzRm9yVHlwZSIsImluY2x1ZGVzIiwiaXNTdHJpbmciLCJldnQiLCJkaXNwYXRjaGluZyIsInBlbmRpbmdSZW1vdmFscyIsInByb3BhZ2F0ZSIsInByIiwiZ2V0TGlzdGVuZXJzIiwiYm91bmRpbmdFeHRlbnQiLCJleHRlbmRDb29yZGluYXRlIiwiY2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZIiwiY29udGFpbnNDb29yZGluYXRlIiwiY29udGFpbnNFeHRlbnQiLCJleHRlbnQxIiwiZXh0ZW50MiIsImNvb3JkaW5hdGVSZWxhdGlvbnNoaXAiLCJyZWxhdGlvbnNoaXAiLCJjcmVhdGVFbXB0eSIsImNyZWF0ZU9yVXBkYXRlRW1wdHkiLCJjcmVhdGVPclVwZGF0ZUZyb21Db29yZGluYXRlIiwiY3JlYXRlT3JVcGRhdGVGcm9tRmxhdENvb3JkaW5hdGVzIiwiZmxhdENvb3JkaW5hdGVzIiwiZXh0ZW5kRmxhdENvb3JkaW5hdGVzIiwiZXh0ZW5kWFkiLCJmb3JFYWNoQ29ybmVyIiwiZ2V0Qm90dG9tTGVmdCIsImdldEJvdHRvbVJpZ2h0IiwiZ2V0VG9wUmlnaHQiLCJnZXRUb3BMZWZ0IiwiZ2V0QXJlYSIsImdldENvcm5lciIsImNvcm5lciIsImdldEZvclZpZXdBbmRTaXplIiwieDMiLCJ5MyIsImdldFJvdGF0ZWRWaWV3cG9ydCIsImNvc1JvdGF0aW9uIiwic2luUm90YXRpb24iLCJ4Q29zIiwieFNpbiIsInlDb3MiLCJ5U2luIiwiZ2V0SW50ZXJzZWN0aW9uIiwiaW50ZXJzZWN0aW9uIiwicmV0dXJuT3JVcGRhdGUiLCJpbnRlcnNlY3RzU2VnbWVudCIsInN0YXJ0UmVsIiwiZW5kUmVsIiwic3RhcnRYIiwic3RhcnRZIiwiZW5kWCIsImVuZFkiLCJzbG9wZSIsImFwcGx5VHJhbnNmb3JtIiwidHJhbnNmb3JtRm4iLCJzdG9wcyIsInhzIiwieXMiLCJfYm91bmRpbmdFeHRlbnRYWXMiLCJVTktOT1dOIiwiSU5URVJTRUNUSU5HIiwiQUJPVkUiLCJSSUdIVCIsIkJFTE9XIiwiTEVGVCIsImRhdGFQcm9qZWN0aW9uIiwiZGVmYXVsdEZlYXR1cmVQcm9qZWN0aW9uIiwic3VwcG9ydGVkTWVkaWFUeXBlcyIsImdldFJlYWRPcHRpb25zIiwicmVhZFByb2plY3Rpb24iLCJnZXRVbml0cyIsInNldFdvcmxkRXh0ZW50IiwiZmVhdHVyZVByb2plY3Rpb24iLCJhZGFwdE9wdGlvbnMiLCJyZWFkRmVhdHVyZXMiLCJyZWFkR2VvbWV0cnkiLCJ3cml0ZUZlYXR1cmUiLCJ3cml0ZUZlYXR1cmVzIiwid3JpdGVHZW9tZXRyeSIsIlRSVUUiLCJGQUxTRSIsIlZPSUQiLCJtZW1vaXplT25lIiwibGFzdFJlc3VsdCIsImxhc3RBcmdzIiwibGFzdFRoaXMiLCJjYWxsZWQiLCJuZXh0QXJncyIsImFzc2lnbkNsb3Nlc3QiLCJvZmZzZXQxIiwib2Zmc2V0MiIsImNsb3Nlc3RQb2ludCIsIm1heFNxdWFyZWREZWx0YSIsInNxdWFyZWREZWx0YSIsImFzc2lnbkNsb3Nlc3RQb2ludCIsImlzUmluZyIsIm1pblNxdWFyZWREaXN0YW5jZSIsInRtcFBvaW50Iiwic3F1YXJlZERpc3RhbmNlIiwiZGVmbGF0ZUNvb3JkaW5hdGVzIiwibGluZWFyUmluZyIsInR3aWNlQXJlYSIsIkxpbmVhclJpbmciLCJTaW1wbGVHZW9tZXRyeSIsImxheW91dCIsIm1heERlbHRhUmV2aXNpb25fIiwic2V0RmxhdENvb3JkaW5hdGVzIiwiY2xvc2VzdFBvaW50WFkiLCJnZXRDb29yZGluYXRlcyIsImluZmxhdGUiLCJnZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbCIsInNxdWFyZWRUb2xlcmFuY2UiLCJzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIiwiaW50ZXJzZWN0c0V4dGVudCIsInNldExheW91dCIsInBvaW50IiwiY29tcHV0ZUV4dGVudCIsImRlZmxhdGVDb29yZGluYXRlIiwibGluZWFyUmluZ0lzQ2xvY2t3aXNlIiwiZWRnZSIsIm9yaWVudExpbmVhclJpbmdzIiwiZW5kcyIsInJpZ2h0IiwiaXNDbG9ja3dpc2UiLCJlbmRzXyIsImZsYXRJbnRlcmlvclBvaW50UmV2aXNpb25fIiwiZmxhdEludGVyaW9yUG9pbnRfIiwib3JpZW50ZWRSZXZpc2lvbl8iLCJvcmllbnRlZEZsYXRDb29yZGluYXRlc18iLCJhcHBlbmRMaW5lYXJSaW5nIiwiYXJyYXlNYXhTcXVhcmVkRGVsdGEiLCJhc3NpZ25DbG9zZXN0QXJyYXlQb2ludCIsImdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzIiwibGluZWFyUmluZ3MiLCJnZXRFbmRzIiwiZ2V0RmxhdEludGVyaW9yUG9pbnQiLCJmbGF0Q2VudGVyIiwiZ2V0SW50ZXJpb3JQb2ludCIsImdldExpbmVhclJpbmdDb3VudCIsImdldExpbmVhclJpbmciLCJnZXRMaW5lYXJSaW5ncyIsImxpbmVhclJpbmdzQXJlT3JpZW50ZWQiLCJzaW1wbGlmaWVkRW5kcyIsImNvb3JkaW5hdGVzcyIsImRlZmxhdGVDb29yZGluYXRlc0FycmF5IiwiZnJvbUV4dGVudCIsInRtcFRyYW5zZm9ybSIsIkdlb21ldHJ5IiwiZXh0ZW50XyIsImV4dGVudFJldmlzaW9uXyIsInNpbXBsaWZpZWRHZW9tZXRyeU1heE1pblNxdWFyZWRUb2xlcmFuY2UiLCJzaW1wbGlmaWVkR2VvbWV0cnlSZXZpc2lvbiIsInNpbXBsaWZ5VHJhbnNmb3JtZWRJbnRlcm5hbCIsInJldmlzaW9uIiwiZ2V0U2ltcGxpZmllZEdlb21ldHJ5Iiwic2ltcGxpZnlUcmFuc2Zvcm1lZCIsImNvb3JkIiwiZ2V0Q2xvc2VzdFBvaW50IiwiaW50ZXJzZWN0c0Nvb3JkaW5hdGUiLCJzeCIsInN5Iiwic2ltcGxpZnkiLCJ0cmFuc2xhdGUiLCJkZXN0aW5hdGlvbiIsInNvdXJjZVByb2oiLCJpbkNvb3JkaW5hdGVzIiwib3V0Q29vcmRpbmF0ZXMiLCJwaXhlbEV4dGVudCIsInByb2plY3RlZEV4dGVudCIsImdldFdvcmxkRXh0ZW50IiwiZ2V0U3RyaWRlRm9yTGF5b3V0IiwidHJhbnNmb3JtR2VvbTJEIiwic2ltcGxlR2VvbWV0cnkiLCJnZXRGaXJzdENvb3JkaW5hdGUiLCJnZXRMYXN0Q29vcmRpbmF0ZSIsImdldExheW91dCIsInNpbXBsaWZpZWRHZW9tZXRyeSIsIm5lc3RpbmciLCJnZXRMYXlvdXRGb3JTdHJpZGUiLCJsaW5lYXJSaW5nQ29udGFpbnNFeHRlbnQiLCJsaW5lYXJSaW5nQ29udGFpbnNYWSIsInduIiwibGluZWFyUmluZ3NDb250YWluc1hZIiwiaW5mbGF0ZUNvb3JkaW5hdGVzIiwiaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkiLCJpbmZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5IiwiZW5kc3MiLCJjb29yZGluYXRlc3NzIiwiZ2V0SW50ZXJpb3JQb2ludE9mQXJyYXkiLCJmbGF0Q2VudGVycyIsImZsYXRDZW50ZXJzT2Zmc2V0IiwiaW50ZXJzZWN0aW9ucyIsInJyIiwicG9pbnRYIiwibWF4U2VnbWVudExlbmd0aCIsInNlZ21lbnRMZW5ndGgiLCJnZXRJbnRlcmlvclBvaW50c09mTXVsdGlBcnJheSIsImludGVyaW9yUG9pbnRzIiwiaW50ZXJzZWN0c0xpbmVTdHJpbmciLCJjb29yZGluYXRlc0V4dGVudCIsInJldCIsInBvaW50MSIsInBvaW50MiIsImludGVyc2VjdHNMaW5lYXJSaW5nIiwiaW50ZXJzZWN0c0xpbmVhclJpbmdBcnJheSIsImRvdWdsYXNQZXVja2VyIiwic2ltcGxpZmllZE9mZnNldCIsIm1hcmtlcnMiLCJzdGFjayIsImxhc3QiLCJmaXJzdCIsIm1heFNxdWFyZWREaXN0YW5jZSIsInNuYXAiLCJxdWFudGl6ZSIsImR4MSIsImR5MSIsImR4MiIsImR5MiIsInF1YW50aXplQXJyYXkiLCJ0cmFuc2Zvcm0yRCIsImFuY2hvclgiLCJhbmNob3JZIiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0b0xvd2VyQ2FzZSIsIkZJUkVGT1giLCJXRUJLSVQiLCJ0ZXN0IiwiTUFDIiwiREVWSUNFX1BJWEVMX1JBVElPIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIldPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTIiwiV29ya2VyR2xvYmFsU2NvcGUiLCJzZWxmIiwiSU1BR0VfREVDT0RFIiwiUEFTU0lWRV9FVkVOVF9MSVNURU5FUlMiLCJkZWZpbmVQcm9wZXJ0eSIsIkJhc2VMYXllciIsImJhY2tncm91bmRfIiwiYmFja2dyb3VuZCIsImNsYXNzTmFtZV8iLCJzdGF0ZV8iLCJnZXRCYWNrZ3JvdW5kIiwiZ2V0Q2xhc3NOYW1lIiwiZ2V0WkluZGV4IiwiZ2V0T3BhY2l0eSIsImdldFZpc2libGUiLCJzZXRCYWNrZ3JvdW5kIiwic2V0RXh0ZW50Iiwic2V0TWF4UmVzb2x1dGlvbiIsInNldE1pblJlc29sdXRpb24iLCJzZXRPcGFjaXR5Iiwic2V0VmlzaWJsZSIsInNldFpJbmRleCIsInppbmRleCIsIm1hcFByZWNvbXBvc2VLZXlfIiwibWFwUmVuZGVyS2V5XyIsInNvdXJjZUNoYW5nZUtleV8iLCJzb3VyY2VSZWFkeV8iLCJyZW5kZXJlZCIsImhhbmRsZVNvdXJjZVByb3BlcnR5Q2hhbmdlXyIsInNldFNvdXJjZSIsImdldFJlbmRlclNvdXJjZSIsImhhbmRsZVNvdXJjZUNoYW5nZV8iLCJnZXRGZWF0dXJlcyIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ2V0RGF0YSIsInByZXBhcmVGcmFtZSIsImdldE1hcEludGVybmFsIiwiYXJyYXlMYXllclN0YXRlIiwiY3JlYXRlUmVuZGVyZXIiLCJpblZpZXciLCJPUEFDSVRZIiwiVklTSUJMRSIsIkVYVEVOVCIsIlpfSU5ERVgiLCJNQVhfUkVTT0xVVElPTiIsIk1JTl9SRVNPTFVUSU9OIiwiTUFYX1pPT00iLCJNSU5fWk9PTSIsIlNPVVJDRSIsIk1BUCIsIkJhc2VUaWxlTGF5ZXIiLCJwcmVsb2FkIiwidXNlSW50ZXJpbVRpbGVzT25FcnJvciIsInNldFByZWxvYWQiLCJzZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yIiwiZ2V0UHJlbG9hZCIsIlRpbGVQcm9wZXJ0eSIsImdldFVzZUludGVyaW1UaWxlc09uRXJyb3IiLCJCYXNlVGlsZSIsIlBSRUxPQUQiLCJVU0VfSU5URVJJTV9USUxFU19PTl9FUlJPUiIsInRhaW50ZWRUZXN0Q29udGV4dCIsIkljb25JbWFnZSIsImltYWdlU3RhdGUiLCJoaXREZXRlY3Rpb25JbWFnZV8iLCJjYW52YXNfIiwiY29sb3JfIiwiaW1hZ2VTdGF0ZV8iLCJzaXplXyIsInRhaW50ZWRfIiwiaW5pdGlhbGl6ZUltYWdlXyIsImlzVGFpbnRlZF8iLCJJbWFnZVN0YXRlIiwid2lsbFJlYWRGcmVxdWVudGx5IiwiZHJhd0ltYWdlIiwiZ2V0SW1hZ2VEYXRhIiwiZGlzcGF0Y2hDaGFuZ2VFdmVudF8iLCJFdmVudFR5cGUiLCJyZXBsYWNlQ29sb3JfIiwiZ2V0UGl4ZWxSYXRpbyIsImdldEltYWdlU3RhdGUiLCJnZXRIaXREZXRlY3Rpb25JbWFnZSIsImdldFNyYyIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsIkljb24iLCJyb3RhdGVXaXRoVmlldyIsImRpc3BsYWNlbWVudCIsImRlY2x1dHRlck1vZGUiLCJub3JtYWxpemVkQW5jaG9yXyIsImFuY2hvck9yaWdpbl8iLCJhbmNob3JPcmlnaW4iLCJhbmNob3JYVW5pdHNfIiwiYW5jaG9yWFVuaXRzIiwiYW5jaG9yWVVuaXRzXyIsImFuY2hvcllVbml0cyIsImltZ1NpemVfIiwiaW1nU2l6ZSIsImljb25JbWFnZV8iLCJpY29uSW1hZ2UiLCJvZmZzZXRfIiwib2Zmc2V0T3JpZ2luXyIsIm9mZnNldE9yaWdpbiIsIm9yaWdpbl8iLCJ3aWR0aF8iLCJoZWlnaHRfIiwic2V0U2NhbGUiLCJ1cGRhdGVTY2FsZUZyb21XaWR0aEFuZEhlaWdodCIsImdldFNjYWxlIiwiZ2V0Um90YXRlV2l0aFZpZXciLCJnZXREaXNwbGFjZW1lbnQiLCJnZXREZWNsdXR0ZXJNb2RlIiwiZ2V0QW5jaG9yIiwiZ2V0U2NhbGVBcnJheSIsInNldEFuY2hvciIsImdldENvbG9yIiwiZ2V0SW1hZ2VTaXplIiwiZ2V0T3JpZ2luIiwiaWNvbkltYWdlU2l6ZSIsInNldFdpZHRoIiwic2V0SGVpZ2h0Iiwid2lkdGhTY2FsZSIsImhlaWdodFNjYWxlIiwibGlzdGVuSW1hZ2VDaGFuZ2UiLCJ1bmxpc3RlbkltYWdlQ2hhbmdlIiwidG9TdHlsZSIsImZsYXRTdHlsZSIsIlN0eWxlIiwiZmlsbCIsImdldEZpbGwiLCJzdHJva2UiLCJnZXRTdHJva2UiLCJ0ZXh0IiwiZ2V0VGV4dCIsInByZWZpeCIsIkZpbGwiLCJTdHJva2UiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJsaW5lRGFzaCIsImxpbmVEYXNoT2Zmc2V0IiwibWl0ZXJMaW1pdCIsIlRleHQiLCJmb250IiwibWF4QW5nbGUiLCJwbGFjZW1lbnQiLCJ0ZXh0QWxpZ24iLCJqdXN0aWZ5IiwidGV4dEJhc2VsaW5lIiwiYmFja2dyb3VuZEZpbGwiLCJiYWNrZ3JvdW5kU3Ryb2tlIiwiaWNvblNyYyIsImljb25JbWciLCJzaGFwZVBvaW50cyIsIlJlZ3VsYXJTaGFwZSIsInJhZGl1cyIsInJhZGl1czEiLCJyYWRpdXMyIiwiY2lyY2xlUmFkaXVzIiwiQ2lyY2xlIiwiQmFzZVZlY3RvckxheWVyIiwicmVuZGVyQnVmZmVyIiwidXBkYXRlV2hpbGVBbmltYXRpbmciLCJ1cGRhdGVXaGlsZUludGVyYWN0aW5nIiwiZGVjbHV0dGVyXyIsImRlY2x1dHRlciIsInJlbmRlckJ1ZmZlcl8iLCJzdHlsZV8iLCJzdHlsZUZ1bmN0aW9uXyIsInNldFN0eWxlIiwidXBkYXRlV2hpbGVBbmltYXRpbmdfIiwidXBkYXRlV2hpbGVJbnRlcmFjdGluZ18iLCJnZXREZWNsdXR0ZXIiLCJnZXRSZW5kZXJCdWZmZXIiLCJnZXRSZW5kZXJPcmRlciIsImdldFN0eWxlIiwiZ2V0U3R5bGVGdW5jdGlvbiIsImdldFVwZGF0ZVdoaWxlQW5pbWF0aW5nIiwiZ2V0VXBkYXRlV2hpbGVJbnRlcmFjdGluZyIsInNldFJlbmRlck9yZGVyIiwicmVuZGVyT3JkZXIiLCJzdHlsZUxpa2UiLCJzdHlsZXMiLCJJbnN0cnVjdGlvbiIsIkJFR0lOX0dFT01FVFJZIiwiQkVHSU5fUEFUSCIsIkNJUkNMRSIsIkNMT1NFX1BBVEgiLCJDVVNUT00iLCJEUkFXX0NIQVJTIiwiRFJBV19JTUFHRSIsIkVORF9HRU9NRVRSWSIsIkZJTEwiLCJNT1ZFX1RPX0xJTkVfVE8iLCJTRVRfRklMTF9TVFlMRSIsIlNFVF9TVFJPS0VfU1RZTEUiLCJTVFJPS0UiLCJmaWxsSW5zdHJ1Y3Rpb24iLCJzdHJva2VJbnN0cnVjdGlvbiIsImJlZ2luUGF0aEluc3RydWN0aW9uIiwiY2xvc2VQYXRoSW5zdHJ1Y3Rpb24iLCJkcmF3Q3VzdG9tIiwiaGl0RGV0ZWN0aW9uUmVuZGVyZXIiLCJkcmF3R2VvbWV0cnkiLCJkcmF3Q2lyY2xlIiwiY2lyY2xlR2VvbWV0cnkiLCJkcmF3RmVhdHVyZSIsImRyYXdHZW9tZXRyeUNvbGxlY3Rpb24iLCJnZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSIsImRyYXdMaW5lU3RyaW5nIiwibGluZVN0cmluZ0dlb21ldHJ5IiwiZHJhd011bHRpTGluZVN0cmluZyIsIm11bHRpTGluZVN0cmluZ0dlb21ldHJ5IiwiZHJhd011bHRpUG9pbnQiLCJtdWx0aVBvaW50R2VvbWV0cnkiLCJkcmF3TXVsdGlQb2x5Z29uIiwibXVsdGlQb2x5Z29uR2VvbWV0cnkiLCJkcmF3UG9pbnQiLCJwb2ludEdlb21ldHJ5IiwiZHJhd1BvbHlnb24iLCJwb2x5Z29uR2VvbWV0cnkiLCJkcmF3VGV4dCIsInNldEZpbGxTdHJva2VTdHlsZSIsInN0cm9rZVN0eWxlIiwic2V0SW1hZ2VTdHlsZSIsImltYWdlU3R5bGUiLCJkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0Iiwic2V0VGV4dFN0eWxlIiwidGV4dFN0eWxlIiwibWF4TGluZVdpZHRoIiwiYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8iLCJiZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yXyIsImJ1ZmZlcmVkTWF4RXh0ZW50XyIsImluc3RydWN0aW9ucyIsInRtcENvb3JkaW5hdGVfIiwiaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zIiwiYXBwbHlQaXhlbFJhdGlvIiwiZGFzaEFycmF5IiwiZGFzaCIsImFwcGVuZEZsYXRQb2ludENvb3JkaW5hdGVzIiwiZ2V0QnVmZmVyZWRNYXhFeHRlbnQiLCJteUVuZCIsImFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMiLCJjbG9zZWQiLCJza2lwRmlyc3QiLCJsYXN0WENvb3JkIiwibGFzdFlDb29yZCIsIm5leHRDb29yZCIsImxhc3RSZWwiLCJuZXh0UmVsIiwic2tpcHBlZCIsIlJlbGF0aW9uc2hpcCIsImRyYXdDdXN0b21Db29yZGluYXRlc18iLCJidWlsZGVyRW5kcyIsImJ1aWxkZXJFbmQiLCJiZWdpbkdlb21ldHJ5IiwiYnVpbGRlckJlZ2luIiwiYnVpbGRlckVuZHNzIiwiZ2V0RW5kc3MiLCJteUVuZHMiLCJlbmRHZW9tZXRyeSIsInJldmVyc2VIaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMiLCJyZXZlcnNlIiwiaW5zdHJ1Y3Rpb24iLCJmaWxsU3R5bGVDb2xvciIsInN0cm9rZVN0eWxlQ29sb3IiLCJzdHJva2VTdHlsZUxpbmVDYXAiLCJnZXRMaW5lQ2FwIiwic3Ryb2tlU3R5bGVMaW5lRGFzaCIsImdldExpbmVEYXNoIiwic3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCIsImdldExpbmVEYXNoT2Zmc2V0Iiwic3Ryb2tlU3R5bGVMaW5lSm9pbiIsImdldExpbmVKb2luIiwic3Ryb2tlU3R5bGVXaWR0aCIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlTWl0ZXJMaW1pdCIsImdldE1pdGVyTGltaXQiLCJjcmVhdGVGaWxsIiwiYXBwbHlTdHJva2UiLCJjcmVhdGVTdHJva2UiLCJ1cGRhdGVGaWxsU3R5bGUiLCJjdXJyZW50RmlsbFN0eWxlIiwidXBkYXRlU3Ryb2tlU3R5bGUiLCJjdXJyZW50U3Ryb2tlU3R5bGUiLCJjdXJyZW50TGluZUNhcCIsImN1cnJlbnRMaW5lRGFzaCIsImN1cnJlbnRMaW5lRGFzaE9mZnNldCIsImN1cnJlbnRMaW5lSm9pbiIsImN1cnJlbnRMaW5lV2lkdGgiLCJjdXJyZW50TWl0ZXJMaW1pdCIsImVuZEdlb21ldHJ5SW5zdHJ1Y3Rpb24iLCJkcmF3RmxhdENvb3JkaW5hdGVzc18iLCJudW1FbmRzIiwibXlCZWdpbiIsIm1vdmVUb0xpbmVUb0luc3RydWN0aW9uIiwic2V0RmlsbFN0cm9rZVN0eWxlc18iLCJjaXJjbGVJbnN0cnVjdGlvbiIsIm1hdGNoaW5nQ2h1bmsiLCJhY29zIiwibTEyIiwibTIzIiwieDEyIiwieTEyIiwieDIzIiwieTIzIiwiY2h1bmtTdGFydCIsImNodW5rRW5kIiwiY2h1bmtNIiwiVEVYVF9BTElHTiIsIkJBVENIX0NPTlNUUlVDVE9SUyIsIlBvbHlnb25CdWlsZGVyIiwiQnVpbGRlciIsImltYWdlUGl4ZWxSYXRpb18iLCJhbmNob3JYXyIsImFuY2hvcllfIiwib3BhY2l0eV8iLCJvcmlnaW5YXyIsIm9yaWdpbllfIiwicm90YXRlV2l0aFZpZXdfIiwic2NhbGVfIiwiZGVjbHV0dGVyTW9kZV8iLCJkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyIsInNoYXJlZERhdGEiLCJvcmlnaW4iLCJkcmF3RmxhdENvb3JkaW5hdGVzXyIsImxhc3RTdHJva2UiLCJsYWJlbHNfIiwidGV4dF8iLCJ0ZXh0T2Zmc2V0WF8iLCJ0ZXh0T2Zmc2V0WV8iLCJ0ZXh0Um90YXRlV2l0aFZpZXdfIiwidGV4dFJvdGF0aW9uXyIsInRleHRGaWxsU3RhdGVfIiwiZmlsbFN0YXRlcyIsInRleHRTdHJva2VTdGF0ZV8iLCJzdHJva2VTdGF0ZXMiLCJ0ZXh0U3RhdGVfIiwidGV4dFN0YXRlcyIsInRleHRLZXlfIiwiZmlsbEtleV8iLCJzdHJva2VLZXlfIiwiZmlsbFN0YXRlIiwic3Ryb2tlU3RhdGUiLCJ0ZXh0U3RhdGUiLCJnZW9tZXRyeVR5cGUiLCJnZW9tZXRyeVdpZHRocyIsImdldEZsYXRNaWRwb2ludCIsImdldEZsYXRNaWRwb2ludHMiLCJnZXRGbGF0SW50ZXJpb3JQb2ludHMiLCJiZWciLCJzYXZlVGV4dFN0YXRlc18iLCJwMCIsInAzIiwiZmxhdEVuZCIsImZsYXRPZmZzZXQiLCJvbyIsInJhbmdlIiwiZHJhd0NoYXJzXyIsInN0cm9rZUtleSIsInRleHRLZXkiLCJmaWxsS2V5IiwiYmFzZWxpbmUiLCJzdHJva2VXaWR0aCIsInRleHRGaWxsU3R5bGUiLCJ0ZXh0U3Ryb2tlU3R5bGUiLCJnZXRGb250IiwidGV4dFNjYWxlIiwiZ2V0T3ZlcmZsb3ciLCJnZXRNYXhBbmdsZSIsImdldFBsYWNlbWVudCIsImdldFRleHRBbGlnbiIsImdldEp1c3RpZnkiLCJnZXRUZXh0QmFzZWxpbmUiLCJnZXRCYWNrZ3JvdW5kRmlsbCIsImdldEJhY2tncm91bmRTdHJva2UiLCJnZXRQYWRkaW5nIiwidGV4dE9mZnNldFgiLCJnZXRPZmZzZXRYIiwidGV4dE9mZnNldFkiLCJnZXRPZmZzZXRZIiwidGV4dFJvdGF0ZVdpdGhWaWV3IiwidGV4dFJvdGF0aW9uIiwidG9sZXJhbmNlXyIsIm1heEV4dGVudF8iLCJyZXNvbHV0aW9uXyIsImJ1aWxkZXJzQnlaSW5kZXhfIiwiYnVpbGRlckluc3RydWN0aW9ucyIsInpLZXkiLCJidWlsZGVycyIsImJ1aWxkZXJLZXkiLCJidWlsZGVySW5zdHJ1Y3Rpb24iLCJnZXRCdWlsZGVyIiwiYnVpbGRlclR5cGUiLCJ6SW5kZXhLZXkiLCJyZXBsYXlzIiwicmVwbGF5IiwiQ29uc3RydWN0b3IiLCJkcmF3VGV4dE9uUGF0aCIsInN0YXJ0TSIsIm1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aCIsInNlZ21lbnRNIiwiYWR2YW5jZSIsImJlZ2luWCIsImJlZ2luWSIsInN0YXJ0T2Zmc2V0Iiwic3RhcnRMZW5ndGgiLCJlbmRNIiwiZmxhdCIsInNpbmdsZVNlZ21lbnQiLCJwcmV2aW91c0FuZ2xlIiwiaVN0YXJ0IiwiY2hhckxlbmd0aCIsImNoYXJzIiwic3Vic3RyaW5nIiwibGluZVN0cmluZ0xlbmd0aCIsInRtcEV4dGVudCIsInA0IiwiZ2V0RGVjbHV0dGVyQm94IiwicmVwbGF5SW1hZ2VPckxhYmVsQXJncyIsImRlY2x1dHRlckJveCIsInJ0bFJlZ0V4IiwiaG9yaXpvbnRhbFRleHRBbGlnbiIsImFsaWduIiwiY3JlYXRlVGV4dENodW5rcyIsImFjYyIsIm92ZXJsYXBzIiwiYWxpZ25GaWxsXyIsImNvb3JkaW5hdGVDYWNoZV8iLCJyZW5kZXJlZFRyYW5zZm9ybV8iLCJwaXhlbENvb3JkaW5hdGVzXyIsInZpZXdSb3RhdGlvbl8iLCJ3aWR0aHNfIiwiY3JlYXRlTGFiZWwiLCJ0ZXh0SXNBcnJheSIsImNodW5rcyIsInJlZHVjZSIsIndpZHRocyIsImhlaWdodHMiLCJsaW5lV2lkdGhzIiwicmVuZGVyV2lkdGgiLCJjb250ZXh0SW5zdHJ1Y3Rpb25zIiwibGVmdFJpZ2h0Iiwic3Ryb2tlSW5zdHJ1Y3Rpb25zIiwiZmlsbEluc3RydWN0aW9ucyIsInByZXZpb3VzRm9udCIsImxpbmVPZmZzZXQiLCJ3aWR0aEhlaWdodEluZGV4IiwibGluZVdpZHRoSW5kZXgiLCJmaWxsU3Ryb2tlQXJncyIsInJlcGxheVRleHRCYWNrZ3JvdW5kXyIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsImZpbGxfIiwic2V0U3Ryb2tlU3R5bGVfIiwiY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18iLCJzaGVldFdpZHRoIiwic2hlZXRIZWlnaHQiLCJvcmlnaW5YIiwib3JpZ2luWSIsInNuYXBUb1BpeGVsIiwiZmlsbFN0cm9rZSIsImJveFciLCJib3hIIiwiYm94WCIsImJveFkiLCJkcmF3SW1hZ2VYIiwiZHJhd0ltYWdlWSIsImRyYXdJbWFnZVciLCJkcmF3SW1hZ2VIIiwiY2FudmFzVHJhbnNmb3JtIiwicmVwbGF5SW1hZ2VPckxhYmVsXyIsImNvbnRleHRTY2FsZSIsImltYWdlT3JMYWJlbCIsImRpbWVuc2lvbnMiLCJib3giLCJzdHJva2VQYWRkaW5nIiwicmVwZWF0U2l6ZSIsInNhdmUiLCJyZXN0b3JlIiwic2V0TGluZURhc2giLCJkcmF3TGFiZWxXaXRoUG9pbnRQbGFjZW1lbnRfIiwiZXhlY3V0ZV8iLCJmZWF0dXJlQ2FsbGJhY2siLCJoaXRFeHRlbnQiLCJwaXhlbENvb3JkaW5hdGVzIiwiZGQiLCJwcmV2WCIsInByZXZZIiwicm91bmRYIiwicm91bmRZIiwicGVuZGluZ0ZpbGwiLCJwZW5kaW5nU3Ryb2tlIiwibGFzdEZpbGxJbnN0cnVjdGlvbiIsImxhc3RTdHJva2VJbnN0cnVjdGlvbiIsImNvb3JkaW5hdGVDYWNoZSIsInZpZXdSb3RhdGlvbiIsInZpZXdSb3RhdGlvbkZyb21UcmFuc2Zvcm0iLCJiYXRjaFNpemUiLCJjdXJyZW50R2VvbWV0cnkiLCJhcmMiLCJjbG9zZVBhdGgiLCJsYWJlbFdpdGhBbmNob3IiLCJ3aWR0aEluZGV4IiwiaW1hZ2VBcmdzIiwiaW1hZ2VEZWNsdXR0ZXJCb3giLCJtZWFzdXJlUGl4ZWxSYXRpbyIsInBpeGVsUmF0aW9TY2FsZSIsImNhY2hlZFdpZHRocyIsInBhdGhMZW5ndGgiLCJ0ZXh0TGVuZ3RoIiwicGFydHMiLCJkcmF3Q2hhcnMiLCJjYyIsInBhcnQiLCJleGVjdXRlIiwiZXhlY3V0ZUhpdERldGVjdGlvbiIsIk9SREVSIiwiY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGUiLCJhbGxJbnN0cnVjdGlvbnMiLCJvdmVybGFwc18iLCJleGVjdXRvcnNCeVpJbmRleF8iLCJoaXREZXRlY3Rpb25Db250ZXh0XyIsImhpdERldGVjdGlvblRyYW5zZm9ybV8iLCJjcmVhdGVFeGVjdXRvcnNfIiwiY2xpcCIsImZsYXRDbGlwQ29vcmRzIiwiZ2V0Q2xpcENvb3JkcyIsImV4ZWN1dG9ycyIsImluc3RydWN0aW9uQnlaaW5kZXgiLCJoYXNFeGVjdXRvcnMiLCJjYW5kaWRhdGVzIiwiZGVjbHV0dGVyZWRGZWF0dXJlcyIsImNvbnRleHRTaXplIiwibmV3Q29udGV4dCIsImluZGV4ZXMiLCJtYXhEaXN0YW5jZVNxIiwiZGlzdGFuY2VzIiwicGl4ZWxJbmRleCIsImdldFBpeGVsSW5kZXhBcnJheSIsImltYWdlRGF0YSIsImlkeCIsInpzIiwiZXhlY3V0b3IiLCJidWlsZGVyVHlwZXMiLCJ1c2VyVHJhbnNmb3JtIiwiY29udGV4dF8iLCJ0cmFuc2Zvcm1fIiwidHJhbnNmb3JtUm90YXRpb25fIiwic3F1YXJlZFRvbGVyYW5jZV8iLCJ1c2VyVHJhbnNmb3JtXyIsImNvbnRleHRGaWxsU3RhdGVfIiwiY29udGV4dFN0cm9rZVN0YXRlXyIsImNvbnRleHRUZXh0U3RhdGVfIiwiZmlsbFN0YXRlXyIsInN0cm9rZVN0YXRlXyIsImltYWdlQW5jaG9yWF8iLCJpbWFnZUFuY2hvcllfIiwiaW1hZ2VIZWlnaHRfIiwiaW1hZ2VPcGFjaXR5XyIsImltYWdlT3JpZ2luWF8iLCJpbWFnZU9yaWdpbllfIiwiaW1hZ2VSb3RhdGVXaXRoVmlld18iLCJpbWFnZVJvdGF0aW9uXyIsImltYWdlU2NhbGVfIiwiaW1hZ2VXaWR0aF8iLCJ0ZXh0U2NhbGVfIiwidG1wTG9jYWxUcmFuc2Zvcm1fIiwiZHJhd0ltYWdlc18iLCJsb2NhbFRyYW5zZm9ybSIsImFscGhhIiwiZ2xvYmFsQWxwaGEiLCJzZXRUcmFuc2Zvcm0iLCJkcmF3VGV4dF8iLCJzZXRDb250ZXh0RmlsbFN0YXRlXyIsInNldENvbnRleHRTdHJva2VTdGF0ZV8iLCJzZXRDb250ZXh0VGV4dFN0YXRlXyIsInN0cm9rZVRleHQiLCJmaWxsVGV4dCIsIm1vdmVUb0xpbmVUb18iLCJjbG9zZSIsImRyYXdSaW5nc18iLCJnZXRHZW9tZXRyeUZ1bmN0aW9uIiwiZ2VvbWV0cmllcyIsImdldEdlb21ldHJpZXNBcnJheSIsImZsYXRNaWRwb2ludCIsImdlb21ldHJ5RXh0ZW50IiwiZmxhdE1pZHBvaW50cyIsImZsYXRJbnRlcmlvclBvaW50IiwiZmxhdEludGVyaW9yUG9pbnRzIiwiY29udGV4dEZpbGxTdGF0ZSIsImNvbnRleHRTdHJva2VTdGF0ZSIsImNvbnRleHRUZXh0U3RhdGUiLCJpbWFnZVNpemUiLCJpbWFnZVBpeGVsUmF0aW8iLCJpbWFnZUFuY2hvciIsImltYWdlT3JpZ2luIiwiaW1hZ2VTY2FsZSIsInRleHRGaWxsU3R5bGVDb2xvciIsInRleHRTdHJva2VTdHlsZUNvbG9yIiwidGV4dFN0cm9rZVN0eWxlTGluZUNhcCIsInRleHRTdHJva2VTdHlsZUxpbmVEYXNoIiwidGV4dFN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQiLCJ0ZXh0U3Ryb2tlU3R5bGVMaW5lSm9pbiIsInRleHRTdHJva2VTdHlsZVdpZHRoIiwidGV4dFN0cm9rZVN0eWxlTWl0ZXJMaW1pdCIsInRleHRGb250IiwidGV4dFRleHQiLCJ0ZXh0VGV4dEFsaWduIiwidGV4dFRleHRCYXNlbGluZSIsIkhJVF9ERVRFQ1RfUkVTT0xVVElPTiIsIlNJTVBMSUZZX1RPTEVSQU5DRSIsIkdFT01FVFJZX1JFTkRFUkVSUyIsImJ1aWxkZXJHcm91cCIsImRlY2x1dHRlckJ1aWxkZXJHcm91cCIsImltYWdlQnVpbGRlckdyb3VwIiwiaW1hZ2VSZXBsYXkiLCJ0ZXh0QnVpbGRlckdyb3VwIiwidGV4dFJlcGxheSIsImxpbmVTdHJpbmdSZXBsYXkiLCJwb2x5Z29uUmVwbGF5IiwicmVwbGF5R3JvdXAiLCJnZW9tZXRyeVJlbmRlcmVyIiwiY2lyY2xlUmVwbGF5IiwiZ2V0U3F1YXJlZFRvbGVyYW5jZSIsImdldFRvbGVyYW5jZSIsInJlbmRlckZlYXR1cmUiLCJyZW5kZXJHZW9tZXRyeSIsInJlbmRlckZlYXR1cmVJbnRlcm5hbCIsImdldEhpdERldGVjdGlvblJlbmRlcmVyIiwiZ2V0R2VvbWV0cmllcyIsIklNQUdFX1JFUExBWVMiLCJWRUNUT1JfUkVQTEFZUyIsIkNhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyIiwiYm91bmRIYW5kbGVTdHlsZUltYWdlQ2hhbmdlXyIsImhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfIiwicmVuZGVyZWRMYXllclJldmlzaW9uXyIsInJlbmRlcmVkUGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm1fIiwicmVuZGVyZWRSb3RhdGlvbl8iLCJ0bXBUcmFuc2Zvcm1fIiwicHJlcGFyZVRpbGUiLCJ1cGRhdGVFeGVjdXRvckdyb3VwXyIsInRpbGVJbWFnZU5lZWRzUmVuZGVyXyIsImdldFRpbGUiLCJnZXRMYXllciIsImhpZmkiLCJ3YW50ZWRSZXNvbHV0aW9uIiwiZ2V0UmVuZGVyTW9kZSIsInJlbmRlclRpbGVJbWFnZV8iLCJpc0RyYXdhYmxlVGlsZSIsImV4ZWN1dG9yR3JvdXBzIiwiaGFzQ29udGV4dCIsImdldFRpbGVJbWFnZSIsImxheWVyUmV2aXNpb24iLCJyZW5kZXJlZFRpbGVzIiwiYnVpbGRlclN0YXRlIiwiZ2V0UmVwbGF5U3RhdGUiLCJkaXJ0eSIsInJlbmRlcmVkUmVzb2x1dGlvbiIsInJlbmRlcmVkUmV2aXNpb24iLCJyZW5kZXJlZFJlbmRlck9yZGVyIiwic291cmNlVGlsZUdyaWQiLCJnZXRUaWxlR3JpZCIsInRpbGVFeHRlbnQiLCJnZXRUaWxlR3JpZEZvclByb2plY3Rpb24iLCJnZXRUaWxlQ29vcmRFeHRlbnQiLCJ3cmFwcGVkVGlsZUNvb3JkIiwic291cmNlVGlsZXMiLCJnZXRTb3VyY2VUaWxlcyIsImxheWVyVWlkIiwiaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhIiwiZGVjbHV0dGVyRXhlY3V0b3JHcm91cHMiLCJ0dCIsInNvdXJjZVRpbGUiLCJzb3VyY2VUaWxlQ29vcmQiLCJzb3VyY2VUaWxlRXh0ZW50Iiwic2hhcmVkRXh0ZW50IiwiYnVpbGRlckV4dGVudCIsImJ1ZmZlcmVkRXh0ZW50Iiwic3R5bGVGdW5jdGlvbiIsImV4ZWN1dG9yR3JvdXBJbnN0cnVjdGlvbnMiLCJyZXBsYXlFeHRlbnQiLCJyZW5kZXJpbmdSZXBsYXlHcm91cCIsImdldE92ZXJsYXBzIiwiZGVjbHV0dGVyRXhlY3V0b3JHcm91cCIsInRpbGVHcmlkIiwibGFzdEluZGV4T2YiLCJleGVjdXRvckdyb3VwIiwicmVqZWN0IiwicmVuZGVyZWRQcm9qZWN0aW9uIiwiZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRSZXNvbHV0aW9uIiwibG9hZGluZ1NvdXJjZVRpbGVzIiwidGlsZVBpeGVsIiwiYWNjdW11bGF0b3IiLCJjb25jYXQiLCJ0aWxlU2l6ZSIsImdldFRpbGVTaXplIiwiZ2V0WkZvclJlc29sdXRpb24iLCJ6RGlyZWN0aW9uIiwidHJhbnNmb3JtcyIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImZlYXR1cmVDb3VudCIsImluZGV4RmFjdG9yIiwiZmVhdHVyZXNCeVpJbmRleCIsImZlYXR1cmVTdHlsZUZ1bmN0aW9uIiwicGFkU3RhcnQiLCJvcmlnaW5hbFN0eWxlIiwic2V0Q29sb3IiLCJzZXRUZXh0IiwiaW1nQ29udGV4dCIsImJ5R2VvbWV0cnlUeXBlIiwiZ2V0R2VvbWV0cmllc0FycmF5UmVjdXJzaXZlIiwiekluZGV4S2V5cyIsImdlb21BbmRTdHlsZSIsImtrIiwiY3JlYXRlSGl0RGV0ZWN0aW9uSW1hZ2VEYXRhIiwiZ2V0UmVuZGVyVHJhbnNmb3JtIiwiZ2V0VGlsZUNvb3JkQ2VudGVyIiwicmVzdWx0RmVhdHVyZXMiLCJoaXREZXRlY3QiLCJyZW5kZXJJZlJlYWR5QW5kVmlzaWJsZSIsInRpbGVzIiwiZ2V0VGlsZVJlbmRlclRyYW5zZm9ybSIsIndvcmxkT2Zmc2V0IiwiaW52ZXJzZVBpeGVsVHJhbnNmb3JtIiwicG9zdFJlbmRlciIsInJlbmRlck1vZGUiLCJyZXBsYXlUeXBlcyIsInRpbGVTb3VyY2UiLCJjbGlwcyIsImNsaXBacyIsImN1cnJlbnRaIiwiY29udGV4dFNhdmVkIiwiY3VycmVudENsaXAiLCJyZXBsYXlTdGF0ZSIsInJlbmRlcmVkVGlsZVJlc29sdXRpb24iLCJyZW5kZXJlZFRpbGVSZXZpc2lvbiIsInJlbmRlclBpeGVsUmF0aW8iLCJnZXRUaWxlUGl4ZWxTaXplIiwicmVuZGVyU2NhbGUiLCJwaXhlbFNjYWxlIiwiQmFzZVZlY3RvciIsInJlbmRlck1vZGVfIiwiY2xhbXAiLCJzcXVhcmVkU2VnbWVudERpc3RhbmNlIiwic29sdmVMaW5lYXJTeXN0ZW0iLCJtYXQiLCJtYXhSb3ciLCJtYXhFbCIsImFic1ZhbHVlIiwiY29lZiIsInRvUmFkaWFucyIsImFuZ2xlSW5EZWdyZWVzIiwibW9kdWxvIiwibGVycCIsInRvRml4ZWQiLCJkZWNpbWFscyIsIm9iamVjdCIsIlJBRElVUyIsIkhBTEZfU0laRSIsIldPUkxEX0VYVEVOVCIsIk1BWF9TQUZFX1kiLCJ0YW4iLCJFUFNHMzg1N1Byb2plY3Rpb24iLCJQcm9qZWN0aW9uIiwidW5pdHMiLCJnbG9iYWwiLCJ3b3JsZEV4dGVudCIsImdldFBvaW50UmVzb2x1dGlvbiIsImNvc2giLCJQUk9KRUNUSU9OUyIsIkVQU0c0MzI2UHJvamVjdGlvbiIsImF4aXNPcmllbnRhdGlvbiIsIm1ldGVyc1BlclVuaXQiLCJzb3VyY2VDb2RlIiwiZ2V0Q29kZSIsImRlc3RpbmF0aW9uQ29kZSIsIkRFRkFVTFRfUkFESVVTIiwiYzEiLCJjMiIsImxhdDEiLCJsYXQyIiwiZGVsdGFMYXRCeTIiLCJkZWx0YUxvbkJ5MiIsInNob3dDb29yZGluYXRlV2FybmluZyIsImRpc2FibGVDb29yZGluYXRlV2FybmluZyIsImRpc2FibGUiLCJjbG9uZVRyYW5zZm9ybSIsImlucHV0Iiwib3V0cHV0IiwiaWRlbnRpdHlUcmFuc2Zvcm0iLCJhZGRQcm9qZWN0aW9uIiwicHJvamVjdGlvbkxpa2UiLCJwb2ludFJlc29sdXRpb24iLCJnZXR0ZXIiLCJnZXRQb2ludFJlc29sdXRpb25GdW5jIiwicHJvalVuaXRzIiwidG9FUFNHNDMyNiIsImdldFRyYW5zZm9ybUZyb21Qcm9qZWN0aW9ucyIsInZlcnRpY2VzIiwiYWRkRXF1aXZhbGVudFByb2plY3Rpb25zIiwicHJvamVjdGlvbnMiLCJhZGRQcm9qZWN0aW9ucyIsImNyZWF0ZVByb2plY3Rpb24iLCJkZWZhdWx0Q29kZSIsImZyb21Mb25MYXQiLCJlcXVpdmFsZW50IiwicHJvamVjdGlvbjEiLCJwcm9qZWN0aW9uMiIsImVxdWFsVW5pdHMiLCJzb3VyY2VQcm9qZWN0aW9uIiwiZGVzdGluYXRpb25Qcm9qZWN0aW9uIiwidHJhbnNmb3JtRnVuYyIsImdldFRyYW5zZm9ybSIsInRyYW5zZm9ybUV4dGVudCIsImdldFVzZXJQcm9qZWN0aW9uIiwidG9Vc2VyQ29vcmRpbmF0ZSIsImZyb21Vc2VyQ29vcmRpbmF0ZSIsImRlc3RQcm9qZWN0aW9uIiwidG9Vc2VyRXh0ZW50IiwiZnJvbVVzZXJFeHRlbnQiLCJwcm9qZWN0aW9uczIiLCJmb3J3YXJkVHJhbnNmb3JtIiwiaW52ZXJzZVRyYW5zZm9ybSIsImRpbWVuc2lvbiIsImNvZGVfIiwidW5pdHNfIiwid29ybGRFeHRlbnRfIiwiYXhpc09yaWVudGF0aW9uXyIsImdsb2JhbF8iLCJjYW5XcmFwWF8iLCJnZXRQb2ludFJlc29sdXRpb25GdW5jXyIsImRlZmF1bHRUaWxlR3JpZF8iLCJtZXRlcnNQZXJVbml0XyIsImdldEF4aXNPcmllbnRhdGlvbiIsInNldEdsb2JhbCIsImdldERlZmF1bHRUaWxlR3JpZCIsInNldERlZmF1bHRUaWxlR3JpZCIsInNldEdldFBvaW50UmVzb2x1dGlvbiIsIk1FVEVSU19QRVJfVU5JVCIsIlJlbmRlckV2ZW50IiwiUFJFUkVOREVSIiwiUE9TVFJFTkRFUiIsIlBSRUNPTVBPU0UiLCJQT1NUQ09NUE9TRSIsIlJFTkRFUkNPTVBMRVRFIiwiaW50ZXJwb2xhdGVQb2ludCIsImN1bXVsYXRpdmVMZW5ndGhzIiwiUmVuZGVyRmVhdHVyZSIsImlkXyIsInR5cGVfIiwiZmxhdENvb3JkaW5hdGVzXyIsImZsYXRJbnRlcmlvclBvaW50c18iLCJmbGF0TWlkcG9pbnRzXyIsInByb3BlcnRpZXNfIiwibGluZWFyUmluZ3NzIiwibWlkcG9pbnQiLCJkZWZhdWx0Rm9udCIsImRlZmF1bHRGaWxsU3R5bGUiLCJkZWZhdWx0TGluZUNhcCIsImRlZmF1bHRMaW5lRGFzaCIsImRlZmF1bHRMaW5lRGFzaE9mZnNldCIsImRlZmF1bHRMaW5lSm9pbiIsImRlZmF1bHRNaXRlckxpbWl0IiwiZGVmYXVsdFN0cm9rZVN0eWxlIiwiZGVmYXVsdFRleHRBbGlnbiIsImRlZmF1bHRUZXh0QmFzZWxpbmUiLCJkZWZhdWx0UGFkZGluZyIsImRlZmF1bHRMaW5lV2lkdGgiLCJjaGVja2VkRm9udHMiLCJtZWFzdXJlRm9udCIsIm1lYXN1cmVDb250ZXh0IiwidGV4dEhlaWdodHMiLCJyZWdpc3RlckZvbnQiLCJyZXRyaWVzIiwicmVmZXJlbmNlRm9udHMiLCJpbnRlcnZhbCIsInJlZmVyZW5jZVdpZHRoIiwiaXNBdmFpbGFibGUiLCJmb250U3R5bGUiLCJmb250V2VpZ2h0IiwiZm9udEZhbWlseSIsImF2YWlsYWJsZSIsInJlZmVyZW5jZUZvbnQiLCJtZWFzdXJlVGV4dFdpZHRoIiwiY2hlY2siLCJkb25lIiwiZm9udHMiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJtZWFzdXJlVGV4dEhlaWdodCIsIm1lYXN1cmVFbGVtZW50IiwibWV0cmljcyIsIm1lYXN1cmVUZXh0IiwiYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQiLCJhY3R1YWxCb3VuZGluZ0JveERlc2NlbnQiLCJtaW5IZWlnaHQiLCJtYXhIZWlnaHQiLCJib3JkZXIiLCJjdXJyIiwiZ2V0VGV4dERpbWVuc2lvbnMiLCJiYXNlU3R5bGUiLCJjdXJyZW50V2lkdGgiLCJjdXJyZW50SGVpZ2h0IiwiZHJhd0ltYWdlT3JMYWJlbCIsImxhYmVsT3JJbWFnZSIsImV4ZWN1dGVMYWJlbEluc3RydWN0aW9ucyIsIkxheWVyUmVuZGVyZXIiLCJib3VuZEhhbmRsZUltYWdlQ2hhbmdlXyIsImhhbmRsZUltYWdlQ2hhbmdlXyIsImxheWVyXyIsImxvYWRlZFRpbGVDYWxsYmFjayIsImNyZWF0ZUxvYWRlZFRpbGVGaW5kZXIiLCJmb3JFYWNoTG9hZGVkVGlsZSIsImxvYWRJbWFnZSIsInBpeGVsQ29udGV4dCIsInRlbXBUcmFuc2Zvcm0iLCJwaXhlbFRyYW5zZm9ybSIsImNvbnRhaW5lclJldXNlZCIsInBpeGVsQ29udGV4dF8iLCJjb2wiLCJyb3ciLCJlcnIiLCJ1c2VDb250YWluZXIiLCJiYWNrZ3JvdW5kQ29sb3IiLCJsYXllckNsYXNzTmFtZSIsImZpcnN0RWxlbWVudENoaWxkIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJjbGlwVW5yb3RhdGVkIiwidG9wTGVmdCIsInRvcFJpZ2h0IiwiYm90dG9tUmlnaHQiLCJib3R0b21MZWZ0IiwiaW52ZXJ0ZWQiLCJkaXNwYXRjaFJlbmRlckV2ZW50XyIsInByZVJlbmRlciIsInRpbGVMYXllciIsImV4dGVudENoYW5nZWQiLCJyZW5kZXJlZEV4dGVudF8iLCJyZW5kZXJlZFBpeGVsUmF0aW8iLCJuZXdUaWxlc18iLCJ0bXBUaWxlUmFuZ2VfIiwidGlsZVN0YXRlIiwibGF5ZXJFeHRlbnQiLCJ0aWxlUGl4ZWxSYXRpbyIsImdldFRpbGVQaXhlbFJhdGlvIiwiZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRaIiwidGlsZU9yaWdpbiIsImd1dHRlciIsImdldEd1dHRlckZvclByb2plY3Rpb24iLCJ2aWV3UmVzb2x1dGlvbiIsInZpZXdDZW50ZXIiLCJzb3VyY2VSZXZpc2lvbiIsImNhbnZhc0V4dGVudCIsImdldFRpbGVSYW5nZUZvckV4dGVudEFuZFoiLCJ0aWxlc1RvRHJhd0J5WiIsImZpbmRMb2FkZWRUaWxlcyIsInRtcFRpbGVSYW5nZSIsInZpZXdwb3J0IiwidGlsZUNvb3JkSW50ZXJzZWN0c1ZpZXdwb3J0IiwidWlkIiwiY2hpbGRUaWxlUmFuZ2UiLCJnZXRUaWxlQ29vcmRDaGlsZFRpbGVSYW5nZSIsImNvdmVyZWQiLCJmb3JFYWNoVGlsZUNvb3JkUGFyZW50VGlsZVJhbmdlIiwiY2FudmFzU2NhbGUiLCJnZXRJbnRlcnBvbGF0ZSIsImdldE9wYXF1ZSIsImN1cnJlbnRUaWxlUGl4ZWxTaXplIiwiY3VycmVudFNjYWxlIiwib3JpZ2luVGlsZUNvb3JkIiwib3JpZ2luVGlsZUV4dGVudCIsInRpbGVHdXR0ZXIiLCJ0aWxlc1RvRHJhdyIsInRpbGVDb29yZEtleSIsInhJbmRleCIsIm5leHRYIiwieUluZGV4IiwibmV4dFkiLCJkcmF3VGlsZUltYWdlIiwidW5zaGlmdCIsInVwZGF0ZVVzZWRUaWxlcyIsIm1hbmFnZVRpbGVQeXJhbWlkIiwic2NoZWR1bGVFeHBpcmVDYWNoZSIsImFscGhhQ2hhbmdlZCIsInBvc3RSZW5kZXJGdW5jdGlvbiIsInRpbGVDYWxsYmFjayIsInRpbGVDb3VudCIsInVzZVRpbGUiLCJ1cGRhdGVDYWNoZVNpemUiLCJicm9rZW5EaWFnb25hbFJlbmRlcmluZ18iLCJkcmF3VGVzdFRyaWFuZ2xlIiwidTEiLCJ2MSIsInUyIiwidjIiLCJ2ZXJpZnlCcm9rZW5EaWFnb25hbFJlbmRlcmluZyIsImNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24iLCJ0YXJnZXRQcm9qIiwidGFyZ2V0TWV0ZXJzUGVyVW5pdCIsInNvdXJjZU1ldGVyc1BlclVuaXQiLCJzb3VyY2VFeHRlbnQiLCJjb21wZW5zYXRpb25GYWN0b3IiLCJpc0Zpbml0ZSIsIlJlcHJvalRpbGUiLCJ0YXJnZXRUaWxlR3JpZCIsImdldFRpbGVGdW5jdGlvbiIsImVycm9yVGhyZXNob2xkIiwicmVuZGVyRWRnZXMiLCJyZW5kZXJFZGdlc18iLCJndXR0ZXJfIiwic291cmNlVGlsZUdyaWRfIiwidGFyZ2V0VGlsZUdyaWRfIiwid3JhcHBlZFRpbGVDb29yZF8iLCJzb3VyY2VUaWxlc18iLCJzb3VyY2VzTGlzdGVuZXJLZXlzXyIsInNvdXJjZVpfIiwidGFyZ2V0RXh0ZW50IiwibWF4VGFyZ2V0RXh0ZW50IiwibWF4U291cmNlRXh0ZW50IiwibGltaXRlZFRhcmdldEV4dGVudCIsInNvdXJjZVByb2pFeHRlbnQiLCJjYWxjdWxhdGVTb3VyY2VFeHRlbnRSZXNvbHV0aW9uIiwiZXJyb3JUaHJlc2hvbGRJblBpeGVscyIsInRyaWFuZ3VsYXRpb25fIiwiZGVzdGluYXRpb25SZXNvbHV0aW9uIiwic291cmNlUHJval8iLCJ0YXJnZXRQcm9qXyIsInRyYW5zZm9ybUludkNhY2hlIiwidHJhbnNmb3JtSW52IiwidHJhbnNmb3JtSW52XyIsIm1heFNvdXJjZUV4dGVudF8iLCJlcnJvclRocmVzaG9sZFNxdWFyZWRfIiwidHJpYW5nbGVzXyIsIndyYXBzWEluU291cmNlXyIsImNhbldyYXBYSW5Tb3VyY2VfIiwic291cmNlV29ybGRXaWR0aF8iLCJ0YXJnZXRXb3JsZFdpZHRoXyIsImRlc3RpbmF0aW9uVG9wTGVmdCIsImRlc3RpbmF0aW9uVG9wUmlnaHQiLCJkZXN0aW5hdGlvbkJvdHRvbVJpZ2h0IiwiZGVzdGluYXRpb25Cb3R0b21MZWZ0Iiwic291cmNlVG9wTGVmdCIsInNvdXJjZVRvcFJpZ2h0Iiwic291cmNlQm90dG9tUmlnaHQiLCJzb3VyY2VCb3R0b21MZWZ0IiwibWF4U3ViZGl2aXNpb24iLCJsb2cyIiwiYWRkUXVhZF8iLCJsZWZ0Qm91bmQiLCJ0cmlhbmdsZSIsIm5ld1RyaWFuZ2xlIiwiYWRkVHJpYW5nbGVfIiwiYVNyYyIsImJTcmMiLCJjU3JjIiwiZFNyYyIsInNvdXJjZVF1YWRFeHRlbnQiLCJzb3VyY2VDb3ZlcmFnZVgiLCJzb3VyY2VXb3JsZFdpZHRoIiwid3JhcHNYIiwibmVlZHNTdWJkaXZpc2lvbiIsInRhcmdldFF1YWRFeHRlbnQiLCJpc05vdEZpbml0ZSIsImNlbnRlclNyYyIsImJjIiwiYmNTcmMiLCJkYSIsImRhU3JjIiwiYWIiLCJhYlNyYyIsImNkIiwiY2RTcmMiLCJjYWxjdWxhdGVTb3VyY2VFeHRlbnQiLCJnZXRUcmlhbmdsZXMiLCJzb3VyY2VSYW5nZSIsInNyY1giLCJzcmNZIiwicmVwcm9qZWN0XyIsInNvdXJjZXMiLCJ0cmlhbmd1bGF0aW9uIiwicGl4ZWxSb3VuZCIsInNvdXJjZURhdGFFeHRlbnQiLCJjYW52YXNXaWR0aEluVW5pdHMiLCJjYW52YXNIZWlnaHRJblVuaXRzIiwic3RpdGNoQ29udGV4dCIsInN0aXRjaFNjYWxlIiwieFBvcyIsInlQb3MiLCJzcmNXaWR0aCIsInNyY0hlaWdodCIsInRhcmdldFRvcExlZnQiLCJ1MCIsInYwIiwic291cmNlTnVtZXJpY2FsU2hpZnRYIiwic291cmNlTnVtZXJpY2FsU2hpZnRZIiwiYXVnbWVudGVkTWF0cml4IiwiYWZmaW5lQ29lZnMiLCJpc0Jyb2tlbkRpYWdvbmFsUmVuZGVyaW5nIiwic3RlcHMiLCJ1ZCIsInZkIiwic3RlcCIsImxlZnRUb0xvYWQiLCJzb3VyY2VMaXN0ZW5LZXkiLCJ1bmxpc3RlblNvdXJjZXNfIiwiY3JlYXRlU25hcFRvTiIsImNyZWF0ZVNuYXBUb1plcm8iLCJoYXNBcmVhIiwidG9TaXplIiwiVGlsZURlYnVnIiwib3BhcXVlIiwidXJsIiwidGVtcGxhdGUiLCJzdHJva2VSZWN0IiwiU291cmNlIiwiYXR0cmlidXRpb25zXyIsImFkYXB0QXR0cmlidXRpb25zIiwiYXR0cmlidXRpb25zQ29sbGFwc2libGVfIiwiYXR0cmlidXRpb25zQ29sbGFwc2libGUiLCJ3cmFwWF8iLCJpbnRlcnBvbGF0ZV8iLCJ2aWV3UmVzb2x2ZXIiLCJ2aWV3UmVqZWN0b3IiLCJ2aWV3UHJvbWlzZV8iLCJyZWZyZXNoIiwic2V0QXR0cmlidXRpb25zIiwiYXR0cmlidXRpb25MaWtlIiwiVGlsZVNvdXJjZUV2ZW50Iiwib3BhcXVlXyIsInRpbGVQaXhlbFJhdGlvXyIsInRpbGVDYWNoZSIsIlRpbGVDYWNoZSIsInRtcFNpemUiLCJ0aWxlT3B0aW9ucyIsImdldFRpbGVDYWNoZUZvclByb2plY3Rpb24iLCJzZXRLZXkiLCJnZXRUaWxlQ29vcmRGb3JUaWxlVXJsRnVuY3Rpb24iLCJjcmVhdGVGcm9tVGVtcGxhdGUiLCJ6UmVnRXgiLCJ4UmVnRXgiLCJ5UmVnRXgiLCJkYXNoWVJlZ0V4IiwiZ2V0RnVsbFRpbGVSYW5nZSIsIlVybFRpbGUiLCJnZW5lcmF0ZVRpbGVVcmxGdW5jdGlvbl8iLCJ0aWxlVXJsRnVuY3Rpb24iLCJ1cmxzIiwic2V0VXJscyIsInNldFVybCIsInRpbGVMb2FkaW5nS2V5c18iLCJnZXRUaWxlTG9hZEZ1bmN0aW9uIiwiZ2V0VGlsZVVybEZ1bmN0aW9uIiwiZ2V0UHJvdG90eXBlT2YiLCJnZXRVcmxzIiwic2V0VGlsZUxvYWRGdW5jdGlvbiIsInNldFRpbGVVcmxGdW5jdGlvbiIsInN0YXJ0Q2hhckNvZGUiLCJzdG9wQ2hhckNvZGUiLCJzdG9wIiwiZXhwYW5kVXJsIiwidGVtcGxhdGVzIiwidGlsZVVybEZ1bmN0aW9ucyIsImNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zIiwiY3JlYXRlRnJvbVRlbXBsYXRlcyIsImZvcm1hdCIsImZvcm1hdF8iLCJmZWF0dXJlc18iLCJsb2FkZXJfIiwidXJsXyIsImdldEZvcm1hdCIsIm9uTG9hZCIsInNldEZlYXR1cmVzIiwib25FcnJvciIsInNldExvYWRlciIsImxvYWRlciIsIlZlY3RvclJlbmRlclRpbGUiLCJ1cmxUaWxlQ29vcmQiLCJyZXBsYXlTdGF0ZV8iLCJlcnJvclRpbGVLZXlzIiwicmVuZGVyZWRUaWxlWiIsIndpdGhDcmVkZW50aWFscyIsImRlZmF1bHRMb2FkRnVuY3Rpb24iLCJzb3VyY2VUaWxlQ2FjaGUiLCJ0aWxlQ2xhc3MiLCJ0aWxlR3JpZHNfIiwiZ2V0RmVhdHVyZXNJbkV4dGVudCIsInRpbGVGZWF0dXJlcyIsImNhbmRpZGF0ZSIsInVzZWRTb3VyY2VUaWxlcyIsImNhY2hlS2V5Iiwic291cmNlWiIsImZvckVhY2hUaWxlQ29vcmQiLCJ0aWxlVXJsIiwic291cmNlVGlsZVN0YXRlIiwibGlzdGVuQ2hhbmdlIiwic291cmNlVGlsZUtleSIsImNvb3JkS2V5IiwiZW1wdHkiLCJuZXdUaWxlIiwib3JpZ2lucyIsInRpbGVTaXplcyIsIlRpbGVHcmlkIiwic3VjY2VzcyIsImZhaWx1cmUiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJyZXNwb25zZVR5cGUiLCJvbmxvYWQiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZVhNTCIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsIm9uZXJyb3IiLCJzZW5kIiwibG9hZEZlYXR1cmVzWGhyIiwiVGlsZUltYWdlIiwiZGVmYXVsdFRpbGVMb2FkRnVuY3Rpb24iLCJ0aWxlQ2FjaGVGb3JQcm9qZWN0aW9uIiwidGlsZUdyaWRGb3JQcm9qZWN0aW9uIiwicmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGRfIiwicmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQiLCJyZW5kZXJSZXByb2plY3Rpb25FZGdlc18iLCJ1c2VkVGlsZUNhY2hlIiwiZ2V0R3V0dGVyIiwidGhpc1Byb2oiLCJwcm9qS2V5IiwiY3JlYXRlVGlsZV8iLCJnZXRUaWxlSW50ZXJuYWwiLCJzZXRSZW5kZXJSZXByb2plY3Rpb25FZGdlcyIsInNldFRpbGVHcmlkRm9yUHJvamVjdGlvbiIsInRpbGVncmlkIiwicHJvaiIsImltYWdlVGlsZSIsIkNpcmNsZVN0eWxlIiwiZ2V0UmFkaXVzIiwic2V0UmFkaXVzIiwicmFkaXVzXyIsInNoYXJlZCIsImNhY2hlXyIsImNhY2hlU2l6ZV8iLCJtYXhDYWNoZVNpemVfIiwiZXhwaXJlIiwibWF4Q2FjaGVTaXplIiwiSW1hZ2VTdHlsZSIsInNjYWxlQXJyYXlfIiwiZGlzcGxhY2VtZW50XyIsInNldERpc3BsYWNlbWVudCIsInNldFJvdGF0ZVdpdGhWaWV3IiwiaGl0RGV0ZWN0aW9uQ2FudmFzXyIsInJhZGl1czJfIiwic3Ryb2tlXyIsInJlbmRlck9wdGlvbnNfIiwiZ2V0UG9pbnRzIiwiZ2V0UmFkaXVzMiIsInNldEZpbGwiLCJjcmVhdGVIaXREZXRlY3Rpb25DYW52YXNfIiwicmVuZGVyT3B0aW9ucyIsImRyYXdfIiwic2V0U3Ryb2tlIiwiY2FsY3VsYXRlTGluZUpvaW5TaXplXyIsInIxIiwicjIiLCJtaXRlclJhdGlvIiwiYmV2ZWxBZGQiLCJhYSIsImlubmVyTWl0ZXJSYXRpbyIsImlubmVyTGVuZ3RoIiwiY3JlYXRlUmVuZGVyT3B0aW9ucyIsIm1heFJhZGl1cyIsImNyZWF0ZVBhdGhfIiwiZHJhd0hpdERldGVjdGlvbkNhbnZhc18iLCJzdGFydEFuZ2xlIiwiYW5nbGUwIiwicmFkaXVzQyIsImxpbmVDYXBfIiwibGluZURhc2hfIiwibGluZURhc2hPZmZzZXRfIiwibGluZUpvaW5fIiwibWl0ZXJMaW1pdF8iLCJzZXRMaW5lQ2FwIiwic2V0TGluZURhc2hPZmZzZXQiLCJzZXRMaW5lSm9pbiIsInNldE1pdGVyTGltaXQiLCJnZW9tZXRyeUZ1bmN0aW9uXyIsImRlZmF1bHRHZW9tZXRyeUZ1bmN0aW9uIiwic2V0R2VvbWV0cnkiLCJoaXREZXRlY3Rpb25SZW5kZXJlcl8iLCJ6SW5kZXhfIiwic2V0UmVuZGVyZXIiLCJzZXRIaXREZXRlY3Rpb25SZW5kZXJlciIsInRvRnVuY3Rpb24iLCJkZWZhdWx0U3R5bGVzIiwiY3JlYXRlRGVmYXVsdFN0eWxlIiwiZm9udF8iLCJ0ZXh0QWxpZ25fIiwianVzdGlmeV8iLCJ0ZXh0QmFzZWxpbmVfIiwibWF4QW5nbGVfIiwicGxhY2VtZW50XyIsIm92ZXJmbG93XyIsIm9mZnNldFhfIiwib2Zmc2V0WV8iLCJiYWNrZ3JvdW5kRmlsbF8iLCJiYWNrZ3JvdW5kU3Ryb2tlXyIsInNldE92ZXJmbG93Iiwic2V0Rm9udCIsInNldE1heEFuZ2xlIiwic2V0T2Zmc2V0WCIsInNldE9mZnNldFkiLCJzZXRQbGFjZW1lbnQiLCJzZXRUZXh0QWxpZ24iLCJzZXRKdXN0aWZ5Iiwic2V0VGV4dEJhc2VsaW5lIiwic2V0QmFja2dyb3VuZEZpbGwiLCJzZXRCYWNrZ3JvdW5kU3Ryb2tlIiwic2V0UGFkZGluZyIsImdldEtleVpYWSIsImdldENhY2hlS2V5Rm9yVGlsZUtleSIsImZyb21LZXkiLCJoYXNoIiwid2l0aGluRXh0ZW50QW5kWiIsImdldEZvclByb2plY3Rpb24iLCJyZXNvbHV0aW9uc0Zyb21FeHRlbnQiLCJjcmVhdGVGb3JFeHRlbnQiLCJleHRlbnRGcm9tUHJvamVjdGlvbiIsImNyZWF0ZUZvclByb2plY3Rpb24iLCJjcmVhdGVYWVoiLCJ4eXpPcHRpb25zIiwiZ3JpZE9wdGlvbnMiLCJoYWxmIiwidG1wVGlsZUNvb3JkIiwib3JpZ2luc18iLCJ0aWxlU2l6ZXNfIiwidGlsZVNpemVfIiwiZnVsbFRpbGVSYW5nZXNfIiwidG1wU2l6ZV8iLCJ0bXBFeHRlbnRfIiwic2l6ZXMiLCJyZXN0cmljdGVkVGlsZVJhbmdlIiwiY2FsY3VsYXRlVGlsZVJhbmdlc18iLCJ0ZW1wVGlsZVJhbmdlIiwidGVtcEV4dGVudCIsInRpbGVDb29yZEV4dGVudCIsImdldFRpbGVSYW5nZUZvclRpbGVDb29yZEFuZFoiLCJ0aWxlQ29vcmRaIiwidGlsZUNvb3JkWCIsInRpbGVDb29yZFkiLCJnZXRUaWxlUmFuZ2VFeHRlbnQiLCJnZXRUaWxlQ29vcmRGb3JYWUFuZFpfIiwib3B0X3RpbGVDb29yZCIsImdldFRpbGVDb29yZEZvclhZQW5kUmVzb2x1dGlvbl8iLCJyZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5IiwiZ2V0VGlsZUNvb3JkUmVzb2x1dGlvbiIsIm9wdF9kaXJlY3Rpb24iLCJmdWxsVGlsZVJhbmdlcyIsIkRFRkFVTFRfTUFYX1pPT00iLCJERUZBVUxUX1RJTEVfU0laRSIsInRtcF8iLCJjcmVhdGUiLCJyZXNldCIsIm11bHRpcGx5IiwidHJhbnNmb3JtMSIsInRyYW5zZm9ybTIiLCJhMSIsImQxIiwiZTEiLCJmMSIsImEyIiwiZDIiLCJlMiIsImYyIiwic2V0RnJvbUFycmF5IiwiY29tcG9zZSIsIm1ha2VJbnZlcnNlIiwiZGV0IiwidHJhbnNmb3JtU3RyaW5nRGl2IiwidHJhbnNmb3JtU3RyaW5nIiwiYWJzdHJhY3QiLCJ1aWRDb3VudGVyXyIsImdldFVpZCIsIm9sX3VpZCIsInplcm8kMSIsImV4dHJhX2xiaXRzIiwiZXh0cmFfZGJpdHMiLCJleHRyYV9ibGJpdHMiLCJibF9vcmRlciIsInN0YXRpY19sdHJlZSIsInN0YXRpY19kdHJlZSIsIkRfQ09ERVMkMSIsIl9kaXN0X2NvZGUiLCJfbGVuZ3RoX2NvZGUiLCJNQVhfTUFUQ0gkMSIsImJhc2VfbGVuZ3RoIiwiYmFzZV9kaXN0IiwiU3RhdGljVHJlZURlc2MiLCJzdGF0aWNfdHJlZSIsImV4dHJhX2JpdHMiLCJleHRyYV9iYXNlIiwiZWxlbXMiLCJtYXhfbGVuZ3RoIiwiaGFzX3N0cmVlIiwic3RhdGljX2xfZGVzYyIsInN0YXRpY19kX2Rlc2MiLCJzdGF0aWNfYmxfZGVzYyIsIlRyZWVEZXNjIiwiZHluX3RyZWUiLCJzdGF0X2Rlc2MiLCJtYXhfY29kZSIsImRfY29kZSIsInB1dF9zaG9ydCIsInBlbmRpbmdfYnVmIiwicGVuZGluZyIsInNlbmRfYml0cyIsImJpX3ZhbGlkIiwiYmlfYnVmIiwic2VuZF9jb2RlIiwidHJlZSIsImJpX3JldmVyc2UiLCJnZW5fY29kZXMiLCJibF9jb3VudCIsIm5leHRfY29kZSIsIk1BWF9CSVRTJDEiLCJiaXRzIiwiaW5pdF9ibG9jayIsIkxJVEVSQUxTJDEiLCJkeW5fbHRyZWUiLCJkeW5fZHRyZWUiLCJibF90cmVlIiwiRU5EX0JMT0NLIiwib3B0X2xlbiIsInN0YXRpY19sZW4iLCJzeW1fbmV4dCIsImJpX3dpbmR1cCIsInNtYWxsZXIiLCJkZXB0aCIsIl9uMiIsIl9tMiIsInBxZG93bmhlYXAiLCJoZWFwIiwiaGVhcF9sZW4iLCJjb21wcmVzc19ibG9jayIsImx0cmVlIiwiZHRyZWUiLCJsYyIsImV4dHJhIiwic3ltX2J1ZiIsImJ1aWxkX3RyZWUiLCJkZXNjIiwic3RyZWUiLCJoZWFwX21heCIsImJhc2UiLCJ4Yml0cyIsImdlbl9iaXRsZW4iLCJzY2FuX3RyZWUiLCJjdXJsZW4iLCJwcmV2bGVuIiwibmV4dGxlbiIsIm1heF9jb3VudCIsIm1pbl9jb3VudCIsIlJFUF8zXzYiLCJSRVBaXzNfMTAiLCJSRVBaXzExXzEzOCIsInNlbmRfdHJlZSIsInN0YXRpY19pbml0X2RvbmUiLCJfdHJfc3RvcmVkX2Jsb2NrJDEiLCJzdG9yZWRfbGVuIiwidHJlZXMiLCJfdHJfaW5pdCIsIkxFTkdUSF9DT0RFUyQxIiwiTF9DT0RFUyQxIiwidHJfc3RhdGljX2luaXQiLCJsX2Rlc2MiLCJkX2Rlc2MiLCJibF9kZXNjIiwiX3RyX3N0b3JlZF9ibG9jayIsIl90cl9mbHVzaF9ibG9jayIsIm9wdF9sZW5iIiwic3RhdGljX2xlbmIiLCJtYXhfYmxpbmRleCIsInN0cm0iLCJkYXRhX3R5cGUiLCJibG9ja19tYXNrIiwiZGV0ZWN0X2RhdGFfdHlwZSIsIkJMX0NPREVTJDEiLCJidWlsZF9ibF90cmVlIiwic3RyYXRlZ3kiLCJsY29kZXMiLCJkY29kZXMiLCJibGNvZGVzIiwicmFuayIsInNlbmRfYWxsX3RyZWVzIiwiX3RyX3RhbGx5Iiwic3ltX2VuZCIsIl90cl9hbGlnbiIsIlNUQVRJQ19UUkVFUyIsImJpX2ZsdXNoIiwiYWRsZXIzMl8xIiwiYWRsZXIiLCJzMSIsInMyIiwiY3JjVGFibGUiLCJVaW50MzJBcnJheSIsInRhYmxlIiwibWFrZVRhYmxlIiwiY3JjMzJfMSIsImNyYyIsImNvbnN0YW50cyQyIiwiWl9OT19GTFVTSCIsIlpfUEFSVElBTF9GTFVTSCIsIlpfU1lOQ19GTFVTSCIsIlpfRlVMTF9GTFVTSCIsIlpfRklOSVNIIiwiWl9CTE9DSyIsIlpfVFJFRVMiLCJaX09LIiwiWl9TVFJFQU1fRU5EIiwiWl9ORUVEX0RJQ1QiLCJaX0VSUk5PIiwiWl9TVFJFQU1fRVJST1IiLCJaX0RBVEFfRVJST1IiLCJaX01FTV9FUlJPUiIsIlpfQlVGX0VSUk9SIiwiWl9OT19DT01QUkVTU0lPTiIsIlpfQkVTVF9TUEVFRCIsIlpfQkVTVF9DT01QUkVTU0lPTiIsIlpfREVGQVVMVF9DT01QUkVTU0lPTiIsIlpfRklMVEVSRUQiLCJaX0hVRkZNQU5fT05MWSIsIlpfUkxFIiwiWl9GSVhFRCIsIlpfREVGQVVMVF9TVFJBVEVHWSIsIlpfQklOQVJZIiwiWl9URVhUIiwiWl9VTktOT1dOIiwiWl9ERUZMQVRFRCIsIlpfTk9fRkxVU0gkMiIsIlpfRlVMTF9GTFVTSCQxIiwiWl9GSU5JU0gkMyIsIlpfQkxPQ0skMSIsIlpfT0skMyIsIlpfU1RSRUFNX0VORCQzIiwiWl9TVFJFQU1fRVJST1IkMiIsIlpfREFUQV9FUlJPUiQyIiwiWl9CVUZfRVJST1IkMSIsIlpfREVGQVVMVF9DT01QUkVTU0lPTiQxIiwiWl9ERUZBVUxUX1NUUkFURUdZJDEiLCJaX0RFRkxBVEVEJDIiLCJMX0NPREVTIiwiTElURVJBTFMiLCJEX0NPREVTIiwiQkxfQ09ERVMiLCJIRUFQX1NJWkUiLCJNQVhfQklUUyIsIk1BWF9NQVRDSCIsIk1JTl9MT09LQUhFQUQiLCJJTklUX1NUQVRFIiwiQlVTWV9TVEFURSIsIkZJTklTSF9TVEFURSIsIm1zZyIsInplcm8iLCJzbGlkZV9oYXNoIiwid3NpemUiLCJ3X3NpemUiLCJoYXNoX3NpemUiLCJoZWFkIiwiSEFTSCIsImhhc2hfc2hpZnQiLCJoYXNoX21hc2siLCJmbHVzaF9wZW5kaW5nIiwiYXZhaWxfb3V0IiwicGVuZGluZ19vdXQiLCJuZXh0X291dCIsInRvdGFsX291dCIsImZsdXNoX2Jsb2NrX29ubHkiLCJibG9ja19zdGFydCIsInN0cnN0YXJ0IiwicHV0X2J5dGUiLCJwdXRTaG9ydE1TQiIsInJlYWRfYnVmIiwiYXZhaWxfaW4iLCJuZXh0X2luIiwid3JhcCIsInRvdGFsX2luIiwibG9uZ2VzdF9tYXRjaCIsImN1cl9tYXRjaCIsImNoYWluX2xlbmd0aCIsIm1heF9jaGFpbl9sZW5ndGgiLCJzY2FuIiwiYmVzdF9sZW4iLCJwcmV2X2xlbmd0aCIsIm5pY2VfbWF0Y2giLCJsaW1pdCIsIl93aW4iLCJ3bWFzayIsIndfbWFzayIsInN0cmVuZCIsInNjYW5fZW5kMSIsInNjYW5fZW5kIiwiZ29vZF9tYXRjaCIsImxvb2thaGVhZCIsIm1hdGNoX3N0YXJ0IiwiZmlsbF93aW5kb3ciLCJfd19zaXplIiwid2luZG93X3NpemUiLCJpbnNfaCIsImRlZmxhdGVfc3RvcmVkIiwiZmx1c2giLCJoYXZlIiwibWluX2Jsb2NrIiwicGVuZGluZ19idWZfc2l6ZSIsInVzZWQiLCJoaWdoX3dhdGVyIiwiZGVmbGF0ZV9mYXN0IiwiaGFzaF9oZWFkIiwiYmZsdXNoIiwibWF0Y2hfbGVuZ3RoIiwibWF4X2xhenlfbWF0Y2giLCJNSU5fTUFUQ0giLCJkZWZsYXRlX3Nsb3ciLCJtYXhfaW5zZXJ0IiwicHJldl9tYXRjaCIsIm1hdGNoX2F2YWlsYWJsZSIsIkNvbmZpZyIsImdvb2RfbGVuZ3RoIiwibWF4X2xhenkiLCJuaWNlX2xlbmd0aCIsIm1heF9jaGFpbiIsImNvbmZpZ3VyYXRpb25fdGFibGUiLCJEZWZsYXRlU3RhdGUiLCJnemhlYWQiLCJnemluZGV4IiwibWV0aG9kIiwibGFzdF9mbHVzaCIsIndfYml0cyIsImhhc2hfYml0cyIsIlVpbnQxNkFycmF5IiwibGl0X2J1ZnNpemUiLCJkZWZsYXRlU3RhdGVDaGVjayIsImRlZmxhdGVSZXNldEtlZXAiLCJkZWZsYXRlUmVzZXQiLCJkZWZsYXRlSW5pdDIiLCJ3aW5kb3dCaXRzIiwibWVtTGV2ZWwiLCJkZWZsYXRlXzEkMiIsImRlZmxhdGVJbml0IiwiZGVmbGF0ZVNldEhlYWRlciIsImRlZmxhdGUiLCJvbGRfZmx1c2giLCJoZWFkZXIiLCJsZXZlbF9mbGFncyIsImhjcmMiLCJjb21tZW50Iiwib3MiLCJjb3B5IiwiZ3poZWFkX2V4dHJhIiwiYnN0YXRlIiwiZGVmbGF0ZV9odWZmIiwiZGVmbGF0ZV9ybGUiLCJkZWZsYXRlRW5kIiwiZGVmbGF0ZVNldERpY3Rpb25hcnkiLCJkaWN0aW9uYXJ5IiwiZGljdExlbmd0aCIsInRtcERpY3QiLCJhdmFpbCIsIm5leHQiLCJkZWZsYXRlSW5mbyIsIl9oYXMiLCJjb21tb24iLCJUeXBlRXJyb3IiLCJmbGF0dGVuQ2h1bmtzIiwiY2h1bmsiLCJTVFJfQVBQTFlfVUlBX09LIiwiX18iLCJfdXRmOGxlbiIsInEiLCJzdHJpbmdzIiwic3RyaW5nMmJ1ZiIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwibV9wb3MiLCJzdHJfbGVuIiwiYnVmX2xlbiIsImJ1ZjJzdHJpbmciLCJ1dGYxNmJ1ZiIsImNfbGVuIiwiYnVmMmJpbnN0cmluZyIsInV0Zjhib3JkZXIiLCJ6c3RyZWFtIiwidG9TdHJpbmckMSIsIlpfTk9fRkxVU0gkMSIsIlpfRklOSVNIJDIiLCJaX09LJDIiLCJaX1NUUkVBTV9FTkQkMiIsIlpfREVGTEFURUQkMSIsIkRlZmxhdGUkMSIsImNodW5rU2l6ZSIsIm9wdCIsInJhdyIsImd6aXAiLCJlbmRlZCIsImRpY3QiLCJfZGljdF9zZXQiLCJkZWZsYXRlJDEiLCJkZWZsYXRvciIsImZsdXNoX21vZGUiLCJfZmx1c2hfbW9kZSIsIm9uRGF0YSIsIm9uRW5kIiwiZGVmbGF0ZV8xJDEiLCJEZWZsYXRlIiwiZGVmbGF0ZVJhdyIsImNvbnN0YW50cyIsIkJBRCQxIiwiaW5mZmFzdCIsIl9pbiIsIl9vdXQiLCJkbWF4Iiwid2hhdmUiLCJ3bmV4dCIsInNfd2luZG93IiwiaG9sZCIsImxjb2RlIiwiZGNvZGUiLCJsbWFzayIsImRtYXNrIiwiaGVyZSIsIm9wIiwiZnJvbSIsImZyb21fc291cmNlIiwibGVuY29kZSIsImRpc3Rjb2RlIiwibGVuYml0cyIsImRpc3RiaXRzIiwiZG9sZW4iLCJtb2RlIiwiZG9kaXN0Iiwic2FuZSIsImxiYXNlIiwibGV4dCIsImRiYXNlIiwiZGV4dCIsImluZnRyZWVzIiwibGVucyIsImxlbnNfaW5kZXgiLCJjb2RlcyIsInRhYmxlX2luZGV4Iiwid29yayIsIm9wdHMiLCJpbmNyIiwibWFzayIsInN5bSIsInJvb3QiLCJkcm9wIiwiaHVmZiIsIk1BWEJJVFMiLCJvZmZzIiwiaGVyZV9iaXRzIiwiaGVyZV9vcCIsImhlcmVfdmFsIiwiWl9GSU5JU0gkMSIsIlpfT0skMSIsIlpfU1RSRUFNX0VORCQxIiwiWl9ORUVEX0RJQ1QkMSIsIlpfU1RSRUFNX0VSUk9SJDEiLCJaX0RBVEFfRVJST1IkMSIsIlpfTUVNX0VSUk9SJDEiLCJIRUFEIiwiRElDVCIsIlRZUEUiLCJUWVBFRE8iLCJDT1BZXyIsIkxFTl8iLCJMRU4iLCJDSEVDSyIsIkJBRCIsInpzd2FwMzIiLCJJbmZsYXRlU3RhdGUiLCJoYXZlZGljdCIsImZsYWdzIiwidG90YWwiLCJ3Yml0cyIsIm5jb2RlIiwibmxlbiIsIm5kaXN0IiwibGVuZHluIiwiZGlzdGR5biIsImJhY2siLCJ3YXMiLCJpbmZsYXRlU3RhdGVDaGVjayIsImluZmxhdGVSZXNldEtlZXAiLCJJbnQzMkFycmF5IiwiaW5mbGF0ZVJlc2V0IiwiaW5mbGF0ZVJlc2V0MiIsImluZmxhdGVJbml0MiIsImxlbmZpeCIsImRpc3RmaXgiLCJ2aXJnaW4iLCJmaXhlZHRhYmxlcyIsInVwZGF0ZXdpbmRvdyIsImluZmxhdGVfMSQyIiwiaW5mbGF0ZUluaXQiLCJwdXQiLCJsYXN0X2JpdHMiLCJsYXN0X29wIiwibGFzdF92YWwiLCJoYnVmIiwiaW5mX2xlYXZlIiwieGZsYWdzIiwiZXh0cmFfbGVuIiwiaW5mbGF0ZUVuZCIsImluZmxhdGVHZXRIZWFkZXIiLCJpbmZsYXRlU2V0RGljdGlvbmFyeSIsImRpY3RpZCIsImluZmxhdGVJbmZvIiwiZ3poZWFkZXIiLCJJbmZsYXRlJDEiLCJ0byIsImluZmxhdGUkMSIsImluZmxhdG9yIiwibGFzdF9hdmFpbF9vdXQiLCJuZXh0X291dF91dGY4IiwidGFpbCIsInV0ZjhzdHIiLCJpbmZsYXRlXzEkMSIsIkluZmxhdGUiLCJpbmZsYXRlUmF3IiwidW5nemlwIiwidW5nemlwXzEiXSwic291cmNlUm9vdCI6IiJ9