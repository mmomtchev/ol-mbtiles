/*! For license information please see 314.bundle.js.LICENSE.txt */
(self.webpackChunkol_mbtiles=self.webpackChunkol_mbtiles||[]).push([[314],{5550:t=>{"use strict";function e(t,e){this.x=t,this.y=e}t.exports=e,e.prototype={clone:function(){return new e(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=e*this.x-i*this.y,s=i*this.x+e*this.y;return this.x=n,this.y=s,this},_rotateAround:function(t,e){var i=Math.cos(t),n=Math.sin(t),s=e.x+i*(this.x-e.x)-n*(this.y-e.y),r=e.y+n*(this.x-e.x)+i*(this.y-e.y);return this.x=s,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},e.convert=function(t){return t instanceof e?t:Array.isArray(t)?new e(t[0],t[1]):t}},8929:(t,e,i)=>{t.exports.VectorTile=i(2779),i(6024),i(9701)},2779:(t,e,i)=>{"use strict";var n=i(9701);function s(t,e,i){if(3===t){var s=new n(i,i.readVarint()+i.pos);s.length&&(e[s.name]=s)}}t.exports=function(t,e){this.layers=t.readFields(s,{},e)}},6024:(t,e,i)=>{"use strict";var n=i(5550);function s(t,e,i,n,s){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=s,t.readFields(r,this,e)}function r(t,e,i){1==t?e.id=i.readVarint():2==t?function(t,e){for(var i=t.readVarint()+t.pos;t.pos<i;){var n=e._keys[t.readVarint()],s=e._values[t.readVarint()];e.properties[n]=s}}(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function o(t){for(var e,i,n=0,s=0,r=t.length,o=r-1;s<r;o=s++)e=t[s],n+=((i=t[o]).x-e.x)*(e.y+i.y);return n}t.exports=s,s.types=["Unknown","Point","LineString","Polygon"],s.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,s=1,r=0,o=0,a=0,l=[];t.pos<i;){if(r<=0){var h=t.readVarint();s=7&h,r=h>>3}if(r--,1===s||2===s)o+=t.readSVarint(),a+=t.readSVarint(),1===s&&(e&&l.push(e),e=[]),e.push(new n(o,a));else{if(7!==s)throw new Error("unknown command "+s);e&&e.push(e[0].clone())}}return e&&l.push(e),l},s.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,n=0,s=0,r=0,o=1/0,a=-1/0,l=1/0,h=-1/0;t.pos<e;){if(n<=0){var c=t.readVarint();i=7&c,n=c>>3}if(n--,1===i||2===i)(s+=t.readSVarint())<o&&(o=s),s>a&&(a=s),(r+=t.readSVarint())<l&&(l=r),r>h&&(h=r);else if(7!==i)throw new Error("unknown command "+i)}return[o,l,a,h]},s.prototype.toGeoJSON=function(t,e,i){var n,r,a=this.extent*Math.pow(2,i),l=this.extent*t,h=this.extent*e,c=this.loadGeometry(),u=s.types[this.type];function d(t){for(var e=0;e<t.length;e++){var i=t[e],n=180-360*(i.y+h)/a;t[e]=[360*(i.x+l)/a-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}switch(this.type){case 1:var g=[];for(n=0;n<c.length;n++)g[n]=c[n][0];d(c=g);break;case 2:for(n=0;n<c.length;n++)d(c[n]);break;case 3:for(c=function(t){var e=t.length;if(e<=1)return[t];for(var i,n,s=[],r=0;r<e;r++){var a=o(t[r]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(i&&s.push(i),i=[t[r]]):i.push(t[r]))}return i&&s.push(i),s}(c),n=0;n<c.length;n++)for(r=0;r<c[n].length;r++)d(c[n][r])}1===c.length?c=c[0]:u="Multi"+u;var _={type:"Feature",geometry:{type:u,coordinates:c},properties:this.properties};return"id"in this&&(_.id=this.id),_}},9701:(t,e,i)=>{"use strict";var n=i(6024);function s(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(r,this,e),this.length=this._features.length}function r(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(function(t){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}(i))}t.exports=s,s.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new n(this._pbf,e,this.extent,this._keys,this._values)}},645:(t,e)=>{e.read=function(t,e,i,n,s){var r,o,a=8*s-n-1,l=(1<<a)-1,h=l>>1,c=-7,u=i?s-1:0,d=i?-1:1,g=t[e+u];for(u+=d,r=g&(1<<-c)-1,g>>=-c,c+=a;c>0;r=256*r+t[e+u],u+=d,c-=8);for(o=r&(1<<-c)-1,r>>=-c,c+=n;c>0;o=256*o+t[e+u],u+=d,c-=8);if(0===r)r=1-h;else{if(r===l)return o?NaN:1/0*(g?-1:1);o+=Math.pow(2,n),r-=h}return(g?-1:1)*o*Math.pow(2,r-n)},e.write=function(t,e,i,n,s,r){var o,a,l,h=8*r-s-1,c=(1<<h)-1,u=c>>1,d=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:r-1,_=n?1:-1,f=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=c?(a=0,o=c):o+u>=1?(a=(e*l-1)*Math.pow(2,s),o+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,s),o=0));s>=8;t[i+g]=255&a,g+=_,a/=256,s-=8);for(o=o<<s|a,h+=s;h>0;t[i+g]=255&o,g+=_,o/=256,h-=8);t[i+g-_]|=128*f}},3614:(t,e,i)=>{"use strict";t.exports=s;var n=i(645);function s(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}s.Varint=0,s.Fixed64=1,s.Bytes=2,s.Fixed32=5;var r=4294967296,o=1/r,a="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function l(t){return t.type===s.Bytes?t.readVarint()+t.pos:t.pos+1}function h(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function c(t,e,i){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));i.realloc(n);for(var s=i.pos-1;s>=t;s--)i.buf[s+n]=i.buf[s]}function u(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function d(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function g(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function _(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function f(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function p(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function m(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function v(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function y(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function x(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function w(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function S(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}s.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var n=this.readVarint(),s=n>>3,r=this.pos;this.type=7&n,t(s,e,this),this.pos===r&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=x(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=S(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=x(this.buf,this.pos)+x(this.buf,this.pos+4)*r;return this.pos+=8,t},readSFixed64:function(){var t=x(this.buf,this.pos)+S(this.buf,this.pos+4)*r;return this.pos+=8,t},readFloat:function(){var t=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,n=this.buf;return e=127&(i=n[this.pos++]),i<128?e:(e|=(127&(i=n[this.pos++]))<<7,i<128?e:(e|=(127&(i=n[this.pos++]))<<14,i<128?e:(e|=(127&(i=n[this.pos++]))<<21,i<128?e:function(t,e,i){var n,s,r=i.buf;if(n=(112&(s=r[i.pos++]))>>4,s<128)return h(t,n,e);if(n|=(127&(s=r[i.pos++]))<<3,s<128)return h(t,n,e);if(n|=(127&(s=r[i.pos++]))<<10,s<128)return h(t,n,e);if(n|=(127&(s=r[i.pos++]))<<17,s<128)return h(t,n,e);if(n|=(127&(s=r[i.pos++]))<<24,s<128)return h(t,n,e);if(n|=(1&(s=r[i.pos++]))<<31,s<128)return h(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&a?function(t,e,i){return a.decode(t.subarray(e,i))}(this.buf,e,t):function(t,e,i){for(var n="",s=e;s<i;){var r,o,a,l=t[s],h=null,c=l>239?4:l>223?3:l>191?2:1;if(s+c>i)break;1===c?l<128&&(h=l):2===c?128==(192&(r=t[s+1]))&&(h=(31&l)<<6|63&r)<=127&&(h=null):3===c?(r=t[s+1],o=t[s+2],128==(192&r)&&128==(192&o)&&((h=(15&l)<<12|(63&r)<<6|63&o)<=2047||h>=55296&&h<=57343)&&(h=null)):4===c&&(r=t[s+1],o=t[s+2],a=t[s+3],128==(192&r)&&128==(192&o)&&128==(192&a)&&((h=(15&l)<<18|(63&r)<<12|(63&o)<<6|63&a)<=65535||h>=1114112)&&(h=null)),null===h?(h=65533,c=1):h>65535&&(h-=65536,n+=String.fromCharCode(h>>>10&1023|55296),h=56320|1023&h),n+=String.fromCharCode(h),s+=c}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==s.Bytes)return t.push(this.readVarint(e));var i=l(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==s.Bytes)return t.push(this.readSVarint());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==s.Bytes)return t.push(this.readBoolean());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==s.Bytes)return t.push(this.readFloat());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==s.Bytes)return t.push(this.readDouble());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==s.Bytes)return t.push(this.readFixed32());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==s.Bytes)return t.push(this.readSFixed32());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==s.Bytes)return t.push(this.readFixed64());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==s.Bytes)return t.push(this.readSFixed64());var e=l(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===s.Varint)for(;this.buf[this.pos++]>127;);else if(e===s.Bytes)this.pos=this.readVarint()+this.pos;else if(e===s.Fixed32)this.pos+=4;else{if(e!==s.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),w(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),w(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),w(this.buf,-1&t,this.pos),w(this.buf,Math.floor(t*o),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),w(this.buf,-1&t,this.pos),w(this.buf,Math.floor(t*o),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var i,n;if(t>=0?(i=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(i=~(-t%4294967296))?i=i+1|0:(i=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,i){i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos]=127&t}(i,0,e),function(t,e){var i=(7&t)<<4;e.buf[e.pos++]|=i|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,i){for(var n,s,r=0;r<e.length;r++){if((n=e.charCodeAt(r))>55295&&n<57344){if(!s){n>56319||r+1===e.length?(t[i++]=239,t[i++]=191,t[i++]=189):s=n;continue}if(n<56320){t[i++]=239,t[i++]=191,t[i++]=189,s=n;continue}n=s-55296<<10|n-56320|65536,s=null}else s&&(t[i++]=239,t[i++]=191,t[i++]=189,s=null);n<128?t[i++]=n:(n<2048?t[i++]=n>>6|192:(n<65536?t[i++]=n>>12|224:(t[i++]=n>>18|240,t[i++]=n>>12&63|128),t[i++]=n>>6&63|128),t[i++]=63&n|128)}return i}(this.buf,t,this.pos);var i=this.pos-e;i>=128&&c(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),n.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),n.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var n=this.pos-i;n>=128&&c(i,n,this),this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,i){this.writeTag(t,s.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,u,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,_,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,v,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,y,e)},writeBytesField:function(t,e){this.writeTag(t,s.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,s.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,s.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,s.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,s.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,s.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,s.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,s.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,s.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,s.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},2582:function(t){t.exports=function(){"use strict";function t(t,n,s,r,o){!function t(i,n,s,r,o){for(;r>s;){if(r-s>600){var a=r-s+1,l=n-s+1,h=Math.log(a),c=.5*Math.exp(2*h/3),u=.5*Math.sqrt(h*c*(a-c)/a)*(l-a/2<0?-1:1);t(i,n,Math.max(s,Math.floor(n-l*c/a+u)),Math.min(r,Math.floor(n+(a-l)*c/a+u)),o)}var d=i[n],g=s,_=r;for(e(i,s,n),o(i[r],d)>0&&e(i,s,r);g<_;){for(e(i,g,_),g++,_--;o(i[g],d)<0;)g++;for(;o(i[_],d)>0;)_--}0===o(i[s],d)?e(i,s,_):e(i,++_,r),_<=n&&(s=_+1),n<=_&&(r=_-1)}}(t,n,s||0,r||t.length-1,o||i)}function e(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function i(t,e){return t<e?-1:t>e?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function s(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function r(t,e){o(t,0,t.children.length,e,t)}function o(t,e,i,n,s){s||(s=_(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(var r=e;r<i;r++){var o=t.children[r];a(s,t.leaf?n(o):o)}return s}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function h(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function g(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function _(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function f(e,i,n,s,r){for(var o=[i,n];o.length;)if(!((n=o.pop())-(i=o.pop())<=s)){var a=i+Math.ceil((n-i)/s/2)*s;t(e,a,i,n,r),o.push(i,a,a,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var e=this.data,i=[];if(!g(t,e))return i;for(var n=this.toBBox,s=[];e;){for(var r=0;r<e.children.length;r++){var o=e.children[r],a=e.leaf?n(o):o;g(t,a)&&(e.leaf?i.push(o):d(t,a)?this._all(o,i):s.push(o))}e=s.pop()}return i},n.prototype.collides=function(t){var e=this.data;if(!g(t,e))return!1;for(var i=[];e;){for(var n=0;n<e.children.length;n++){var s=e.children[n],r=e.leaf?this.toBBox(s):s;if(g(t,r)){if(e.leaf||d(t,r))return!0;i.push(s)}}e=i.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=_([]),this},n.prototype.remove=function(t,e){if(!t)return this;for(var i,n,r,o=this.data,a=this.toBBox(t),l=[],h=[];o||l.length;){if(o||(o=l.pop(),n=l[l.length-1],i=h.pop(),r=!0),o.leaf){var c=s(t,o.children,e);if(-1!==c)return o.children.splice(c,1),l.push(o),this._condense(l),this}r||o.leaf||!d(o,a)?n?(i++,o=n.children[i],r=!1):o=null:(l.push(o),h.push(i),i=0,n=o,o=o.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,e){return t.minX-e.minX},n.prototype.compareMinY=function(t,e){return t.minY-e.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},n.prototype._build=function(t,e,i,n){var s,o=i-e+1,a=this._maxEntries;if(o<=a)return r(s=_(t.slice(e,i+1)),this.toBBox),s;n||(n=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,n-1))),(s=_([])).leaf=!1,s.height=n;var l=Math.ceil(o/a),h=l*Math.ceil(Math.sqrt(a));f(t,e,i,h,this.compareMinX);for(var c=e;c<=i;c+=h){var u=Math.min(c+h-1,i);f(t,c,u,l,this.compareMinY);for(var d=c;d<=u;d+=l){var g=Math.min(d+l-1,u);s.children.push(this._build(t,d,g,n-1))}}return r(s,this.toBBox),s},n.prototype._chooseSubtree=function(t,e,i,n){for(;n.push(e),!e.leaf&&n.length-1!==i;){for(var s=1/0,r=1/0,o=void 0,a=0;a<e.children.length;a++){var l=e.children[a],h=c(l),u=(d=t,g=l,(Math.max(g.maxX,d.maxX)-Math.min(g.minX,d.minX))*(Math.max(g.maxY,d.maxY)-Math.min(g.minY,d.minY))-h);u<r?(r=u,s=h<s?h:s,o=l):u===r&&h<s&&(s=h,o=l)}e=o||e.children[0]}var d,g;return e},n.prototype._insert=function(t,e,i){var n=i?t:this.toBBox(t),s=[],r=this._chooseSubtree(n,this.data,e,s);for(r.children.push(t),a(r,n);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(n,s,e)},n.prototype._split=function(t,e){var i=t[e],n=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,n);var o=this._chooseSplitIndex(i,s,n),a=_(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,r(i,this.toBBox),r(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},n.prototype._splitRoot=function(t,e){this.data=_([t,e]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,e,i){for(var n,s,r,a,l,h,u,d=1/0,g=1/0,_=e;_<=i-e;_++){var f=o(t,0,_,this.toBBox),p=o(t,_,i,this.toBBox),m=(s=f,r=p,void 0,void 0,void 0,void 0,a=Math.max(s.minX,r.minX),l=Math.max(s.minY,r.minY),h=Math.min(s.maxX,r.maxX),u=Math.min(s.maxY,r.maxY),Math.max(0,h-a)*Math.max(0,u-l)),v=c(f)+c(p);m<d?(d=m,n=_,g=v<g?v:g):m===d&&v<g&&(g=v,n=_)}return n||i-e},n.prototype._chooseSplitAxis=function(t,e,i){var n=t.leaf?this.compareMinX:l,s=t.leaf?this.compareMinY:h;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,s)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,e,i,n){t.children.sort(n);for(var s=this.toBBox,r=o(t,0,e,s),l=o(t,i-e,i,s),h=u(r)+u(l),c=e;c<i-e;c++){var d=t.children[c];a(r,t.leaf?s(d):d),h+=u(r)}for(var g=i-e-1;g>=e;g--){var _=t.children[g];a(l,t.leaf?s(_):_),h+=u(l)}return h},n.prototype._adjustParentBBoxes=function(t,e,i){for(var n=i;n>=0;n--)a(e[n],t)},n.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():r(t[e],this.toBBox)},n}()},2891:function(t){t.exports=(()=>{"use strict";var t={870:(t,e,i)=>{i.r(e),i.d(e,{createEndpoint:()=>s,expose:()=>h,proxy:()=>m,proxyMarker:()=>n,releaseProxy:()=>r,transfer:()=>p,transferHandlers:()=>l,windowEndpoint:()=>v,wrap:()=>u});const n=Symbol("Comlink.proxy"),s=Symbol("Comlink.endpoint"),r=Symbol("Comlink.releaseProxy"),o=Symbol("Comlink.thrown"),a=t=>"object"==typeof t&&null!==t||"function"==typeof t,l=new Map([["proxy",{canHandle:t=>a(t)&&t[n],serialize(t){const{port1:e,port2:i}=new MessageChannel;return h(t,e),[i,[i]]},deserialize:t=>(t.start(),u(t))}],["throw",{canHandle:t=>a(t)&&o in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function h(t,e=self){e.addEventListener("message",(function i(n){if(!n||!n.data)return;const{id:s,type:r,path:a}=Object.assign({path:[]},n.data),l=(n.data.argumentList||[]).map(x);let u;try{const e=a.slice(0,-1).reduce(((t,e)=>t[e]),t),i=a.reduce(((t,e)=>t[e]),t);switch(r){case 0:u=i;break;case 1:e[a.slice(-1)[0]]=x(n.data.value),u=!0;break;case 2:u=i.apply(e,l);break;case 3:u=m(new i(...l));break;case 4:{const{port1:e,port2:i}=new MessageChannel;h(t,i),u=p(e,[e])}break;case 5:u=void 0}}catch(t){u={value:t,[o]:0}}Promise.resolve(u).catch((t=>({value:t,[o]:0}))).then((t=>{const[n,o]=y(t);e.postMessage(Object.assign(Object.assign({},n),{id:s}),o),5===r&&(e.removeEventListener("message",i),c(e))}))})),e.start&&e.start()}function c(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function u(t,e){return g(t,[],e)}function d(t){if(t)throw new Error("Proxy has been released and is not useable")}function g(t,e=[],i=function(){}){let n=!1;const o=new Proxy(i,{get(i,s){if(d(n),s===r)return()=>w(t,{type:5,path:e.map((t=>t.toString()))}).then((()=>{c(t),n=!0}));if("then"===s){if(0===e.length)return{then:()=>o};const i=w(t,{type:0,path:e.map((t=>t.toString()))}).then(x);return i.then.bind(i)}return g(t,[...e,s])},set(i,s,r){d(n);const[o,a]=y(r);return w(t,{type:1,path:[...e,s].map((t=>t.toString())),value:o},a).then(x)},apply(i,r,o){d(n);const a=e[e.length-1];if(a===s)return w(t,{type:4}).then(x);if("bind"===a)return g(t,e.slice(0,-1));const[l,h]=_(o);return w(t,{type:2,path:e.map((t=>t.toString())),argumentList:l},h).then(x)},construct(i,s){d(n);const[r,o]=_(s);return w(t,{type:3,path:e.map((t=>t.toString())),argumentList:r},o).then(x)}});return o}function _(t){const e=t.map(y);return[e.map((t=>t[0])),(i=e.map((t=>t[1])),Array.prototype.concat.apply([],i))];var i}const f=new WeakMap;function p(t,e){return f.set(t,e),t}function m(t){return Object.assign(t,{[n]:!0})}function v(t,e=self,i="*"){return{postMessage:(e,n)=>t.postMessage(e,i,n),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}function y(t){for(const[e,i]of l)if(i.canHandle(t)){const[n,s]=i.serialize(t);return[{type:3,name:e,value:n},s]}return[{type:0,value:t},f.get(t)||[]]}function x(t){switch(t.type){case 3:return l.get(t.name).deserialize(t.value);case 0:return t.value}}function w(t,e,i){return new Promise((n=>{const s=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.addEventListener("message",(function e(i){i.data&&i.data.id&&i.data.id===s&&(t.removeEventListener("message",e),n(i.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:s},e),i)}))}},162:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.createDbWorker=void 0;const o=r(i(870));async function a(t){if(t.data&&"eval"===t.data.action){const e=new Int32Array(t.data.notify,0,2),i=new Uint8Array(t.data.notify,8);let n;try{n={ok:await c(t.data.request)}}catch(e){console.error("worker request error",t.data.request,e),n={err:String(e)}}const s=(new TextEncoder).encode(JSON.stringify(n));i.set(s,0),e[1]=s.length,Atomics.notify(e,0)}}function l(t){if("BODY"===t.tagName)return"body";const e=[];for(;t.parentElement&&"BODY"!==t.tagName;){if(t.id){e.unshift("#"+t.id);break}{let i=1,n=t;for(;n.previousElementSibling;)n=n.previousElementSibling,i++;e.unshift(t.tagName.toLowerCase()+":nth-child("+i+")")}t=t.parentElement}return e.join(" > ")}function h(t){return Object.keys(t)}async function c(t){if(console.log("dom vtable request",t),"select"===t.type)return[...document.querySelectorAll(t.selector)].map((e=>{const i={};for(const n of t.columns)"selector"===n?i.selector=l(e):"parent"===n?e.parentElement&&(i.parent=e.parentElement?l(e.parentElement):null):"idx"===n||(i[n]=e[n]);return i}));if("insert"===t.type){if(!t.value.parent)throw Error('"parent" column must be set when inserting');const e=document.querySelectorAll(t.value.parent);if(0===e.length)throw Error(`Parent element ${t.value.parent} could not be found`);if(e.length>1)throw Error(`Parent element ${t.value.parent} ambiguous (${e.length} results)`);const i=e[0];if(!t.value.tagName)throw Error("tagName must be set for inserting");const n=document.createElement(t.value.tagName);for(const e of h(t.value))if(null!==t.value[e]){if("tagName"===e||"parent"===e)continue;if("idx"===e||"selector"===e)throw Error(`${e} can't be set`);n[e]=t.value[e]}return i.appendChild(n),null}if("update"===t.type){const e=document.querySelector(t.value.selector);if(!e)throw Error(`Element ${t.value.selector} not found!`);const i=[];for(const n of h(t.value)){const s=t.value[n];if("parent"!==n){if("idx"!==n&&"selector"!==n&&s!==e[n]){if(console.log("SETTING ",n,e[n],"->",s),"tagName"===n)throw Error("can't change tagName");i.push(n)}}else if(s!==l(e.parentElement)){const t=document.querySelectorAll(s);if(1!==t.length)throw Error(`Invalid target parent: found ${t.length} matches`);t[0].appendChild(e)}}for(const n of i)e[n]=t.value[n];return null}throw Error(`unknown request ${t.type}`)}o.transferHandlers.set("WORKERSQLPROXIES",{canHandle:t=>!1,serialize(t){throw Error("no")},deserialize:t=>(t.start(),o.wrap(t))}),e.createDbWorker=async function(t,e,i,n=1/0){const s=new Worker(e),r=o.wrap(s),l=await r.SplitFileHttpDatabase(i,t,void 0,n);return s.addEventListener("message",a),{db:l,worker:r,configs:t}}},432:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),s(i(162),e)}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,i),r.exports}return i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(432)})()},3611:(t,e,i)=>{"use strict";t.exports=i.p+"8a2a3c8efae774018112.wasm"},421:(t,e,i)=>{"use strict";t.exports=i.p+"55d3459a09daf1539fb9.js"},6813:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});const n={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class s extends Error{constructor(t){const e=n[t];super(e),this.code=t,this.name="AssertionError",this.message=e}}const r=s},5431:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}},8096:(t,e,i)=>{"use strict";i.d(e,{K:()=>o});var n=i(5487),s=i(177),r=i(5818);function o(t,e,i){const o=t;let a=!0,l=!1,h=!1;const c=[(0,r.Vx)(o,n.Z.LOAD,(function(){h=!0,l||e()}))];return o.src&&s.Tp?(l=!0,o.decode().then((function(){a&&e()})).catch((function(t){a&&(h?e():i())}))):c.push((0,r.Vx)(o,n.Z.ERROR,i)),function(){a=!1,c.forEach(r.bN)}}},553:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},825:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var n=i(4806),s=i(7195),r=i(8326),o=i(8096);class a extends n.Z{constructor(t,e,i,n,s,r){super(t,e,r),this.crossOrigin_=n,this.src_=i,this.key=i,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(t){this.image_=t,this.state=s.Z.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=s.Z.ERROR,this.unlistenImage_(),this.image_=function(){const t=(0,r.E4)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=s.Z.LOADED:this.state=s.Z.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==s.Z.ERROR&&(this.state=s.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==s.Z.IDLE&&(this.state=s.Z.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,o.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}const l=a},8854:(t,e,i)=>{"use strict";i.d(e,{Z:()=>$t});var n=i(2971),s=i(6813);const r="add",o="remove";var a=i(291);const l="length";class h extends a.ZP{constructor(t,e,i){super(t),this.element=e,this.index=i}}class c extends n.Z{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let t=0,e=this.array_.length;t<e;++t)this.assertUnique_(this.array_[t],t);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,i=t.length;e<i;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let i=0,n=e.length;i<n;++i)t(e[i],i,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(l)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new h(r,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new h(o,e,t)),e}setAt(t,e){if(t>=this.getLength())return void this.insertAt(t,e);if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new h(o,i,t)),this.dispatchEvent(new h(r,e,t))}updateLength_(){this.set(l,this.array_.length)}assertUnique_(t,e){for(let i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw new s.Z(58)}}const u=c;var d=i(5431),g=i(6885),_=i(4187),f=i(6101),p=i(8641),m=i(2710),v=i(1295),y=i(1900);class x extends d.Z{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){(0,_.O3)()}calculateMatrices2D(t){const e=t.viewState,i=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;(0,f.qC)(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,f.nb)(n,i)}forEachFeatureAtCoordinate(t,e,i,n,s,r,o,a){let l;const h=e.viewState;function c(t,e,i,n){return s.call(r,e,t?i:null,n)}const u=h.projection,d=(0,y.Cf)(t.slice(),u),g=[[0,0]];if(u.canWrapX()&&n){const t=u.getExtent(),e=(0,p.dz)(t);g.push([-e,0],[e,0])}const _=e.layerStatesArray,f=_.length,m=[],x=[];for(let n=0;n<g.length;n++)for(let s=f-1;s>=0;--s){const r=_[s],u=r.layer;if(u.hasRenderer()&&(0,v.j)(r,h)&&o.call(a,u)){const s=u.getRenderer(),o=u.getSource();if(s&&o){const a=o.getWrapX()?d:t,h=c.bind(null,r.managed);x[0]=a[0]+g[n][0],x[1]=a[1]+g[n][1],l=s.forEachFeatureAtCoordinate(x,e,i,h,m)}if(l)return l}}if(0===m.length)return;const w=1/m.length;return m.forEach(((t,e)=>t.distanceSq+=e*w)),m.sort(((t,e)=>t.distanceSq-e.distanceSq)),m.some((t=>l=t.callback(t.feature,t.layer,t.geometry))),l}hasFeatureAtCoordinate(t,e,i,n,s,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,i,n,g.uX,this,s,r)}getMap(){return this.map_}renderFrame(t){(0,_.O3)()}scheduleExpireIconCache(t){m.c.canExpireCache()&&t.postRenderFunctions.push(w)}}function w(t,e){m.c.expire()}const S=x;var E=i(5990),b=i(7380),C=i(8771),T=i(245),R=i(147),I=i(5818),k=i(8326);const M=class extends S{constructor(t){super(t),this.fontChangeListenerKey_=(0,I.oL)(R.sG,E.Z.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=T.XV+" ol-layers";const i=t.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const i=this.getMap();if(i.hasListener(t)){const n=new b.Z(t,void 0,e);i.dispatchEvent(n)}}disposeInternal(){(0,I.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(C.Z.PRECOMPOSE,t);const e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),i=t.viewState;this.children_.length=0;const n=[];let s=null;for(let r=0,o=e.length;r<o;++r){const o=e[r];t.layerIndex=r;const a=o.layer,l=a.getSourceState();if(!(0,v.j)(o,i)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const h=a.render(t,s);h&&(h!==s&&(this.children_.push(h),s=h),"getDeclutter"in a&&n.push(a))}for(let e=n.length-1;e>=0;--e)n[e].renderDeclutter(t);(0,k.hF)(this.element_,this.children_),this.dispatchRenderEvent(C.Z.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}};var L=i(5487),P=i(947),O=i(9515),A=i(9374);class Z extends a.ZP{constructor(t,e){super(t),this.layer=e}}const F="layers";class D extends P.Z{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let i=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(F,this.handleLayersChanged_),i?Array.isArray(i)?i=new u(i.slice(),{unique:!0}):(0,O.h)("function"==typeof i.getArray,43):i=new u(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(I.bN),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push((0,I.oL)(t,r,this.handleLayersAdd_,this),(0,I.oL)(t,o,this.handleLayersRemove_,this));for(const t in this.listenerKeys_)this.listenerKeys_[t].forEach(I.bN);(0,A.Z)(this.listenerKeys_);const e=t.getArray();for(let t=0,i=e.length;t<i;t++){const i=e[t];this.registerLayerListeners_(i),this.dispatchEvent(new Z("addlayer",i))}this.changed()}registerLayerListeners_(t){const e=[(0,I.oL)(t,E.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,I.oL)(t,L.Z.CHANGE,this.handleLayerChange_,this)];t instanceof D&&e.push((0,I.oL)(t,"addlayer",this.handleLayerGroupAdd_,this),(0,I.oL)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,_.sq)(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new Z("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new Z("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new Z("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,i=(0,_.sq)(e);this.listenerKeys_[i].forEach(I.bN),delete this.listenerKeys_[i],this.dispatchEvent(new Z("removelayer",e)),this.changed()}getLayers(){return this.get(F)}setLayers(t){const e=this.getLayers();if(e){const t=e.getArray();for(let e=0,i=t.length;e<i;++e)this.dispatchEvent(new Z("removelayer",t[e]))}this.set(F,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach((function(e){e.getLayersArray(t)})),t}getLayerStatesArray(t){const e=void 0!==t?t:[],i=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));const n=this.getLayerState();let s=n.zIndex;t||void 0!==n.zIndex||(s=0);for(let t=i,r=e.length;t<r;t++){const i=e[t];i.opacity*=n.opacity,i.visible=i.visible&&n.visible,i.maxResolution=Math.min(i.maxResolution,n.maxResolution),i.minResolution=Math.max(i.minResolution,n.minResolution),i.minZoom=Math.max(i.minZoom,n.minZoom),i.maxZoom=Math.min(i.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==i.extent?i.extent=(0,p.Ed)(i.extent,n.extent):i.extent=n.extent),void 0===i.zIndex&&(i.zIndex=s)}return e}getSourceState(){return"ready"}}const z=D;class N extends a.ZP{constructor(t,e,i){super(t),this.map=e,this.frameState=void 0!==i?i:null}}const G=N,B=class extends G{constructor(t,e,i,n,s,r){super(t,e,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==n&&n,this.activePointers=r}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},W={SINGLECLICK:"singleclick",CLICK:L.Z.CLICK,DBLCLICK:L.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},j="pointerdown";var U=i(208),Y=i(177);class V extends U.Z{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===e?1:e,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=(0,I.oL)(i,j,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=(0,I.oL)(i,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(L.Z.TOUCHMOVE,this.boundHandleTouchMove_,!!Y.bM&&{passive:!1})}emulateClick_(t){let e=new B(W.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new B(W.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const e=new B(W.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}),250)}updateActivePointers_(t){const e=t,i=e.pointerId;if(e.type==W.POINTERUP||e.type==W.POINTERCANCEL){delete this.trackedTouches_[i];for(const t in this.trackedTouches_)if(this.trackedTouches_[t].target!==e.target){delete this.trackedTouches_[t];break}}else e.type!=W.POINTERDOWN&&e.type!=W.POINTERMOVE||(this.trackedTouches_[i]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new B(W.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(I.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);const e=new B(W.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.down_={};for(const e in t){const i=t[e];this.down_[e]="function"==typeof i?g.Zn:i}if(0===this.dragListenerKeys_.length){const t=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,I.oL)(t,W.POINTERMOVE,this.handlePointerMove_,this),(0,I.oL)(t,W.POINTERUP,this.handlePointerUp_,this),(0,I.oL)(this.element_,W.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push((0,I.oL)(this.element_.getRootNode(),W.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new B(W.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new B(W.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,I.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(L.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,I.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(I.bN),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const X=V,K="postrender",H="loadstart",q="loadend",J="layergroup",$="size",Q="target",tt="view",et=1/0,it=class{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,(0,A.Z)(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const n=this.keyFunction_(i);return delete this.queuedElements_[n],i}enqueue(t){(0,O.h)(!(this.keyFunction_(t)in this.queuedElements_),31);const e=this.priorityFunction_(t);return e!=et&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,i=this.priorities_,n=e.length,s=e[t],r=i[t],o=t;for(;t<n>>1;){const s=this.getLeftChildIndex_(t),r=this.getRightChildIndex_(t),o=r<n&&i[r]<i[s]?r:s;e[t]=e[o],i[t]=i[o],t=o}e[t]=s,i[t]=r,this.siftDown_(o,t)}siftDown_(t,e){const i=this.elements_,n=this.priorities_,s=i[e],r=n[e];for(;e>t;){const t=this.getParentIndex_(e);if(!(n[t]>r))break;i[e]=i[t],n[e]=n[t],e=t}i[e]=s,n[e]=r}reprioritize(){const t=this.priorityFunction_,e=this.elements_,i=this.priorities_;let n=0;const s=e.length;let r,o,a;for(o=0;o<s;++o)r=e[o],a=t(r),a==et?delete this.queuedElements_[this.keyFunction_(r)]:(i[n]=a,e[n++]=r);e.length=n,i.length=n,this.heapify_()}};var nt=i(7195);const st=class extends it{constructor(t,e){super((function(e){return t.apply(null,e)}),(function(t){return t[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);return e&&t[0].addEventListener(L.Z.CHANGE,this.boundHandleTileChange_),e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,i=e.getState();if(i===nt.Z.LOADED||i===nt.Z.ERROR||i===nt.Z.EMPTY){i!==nt.Z.ERROR&&e.removeEventListener(L.Z.CHANGE,this.boundHandleTileChange_);const t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let i,n,s,r=0;for(;this.tilesLoading_<t&&r<e&&this.getCount()>0;)n=this.dequeue()[0],s=n.getKey(),i=n.getState(),i!==nt.Z.IDLE||s in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++r,n.load())}};var rt=i(9090),ot=i(7755);class at extends n.Z{constructor(t){super();const e=t.element;!e||t.target||e.style.pointerEvents||(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){(0,k.ZF)(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&(0,k.ZF)(this.element);for(let t=0,e=this.listenerKeys.length;t<e;++t)(0,I.bN)(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==g.Zn&&this.listenerKeys.push((0,I.oL)(t,K,this.render,this)),t.render())}render(t){}setTarget(t){this.target_="string"==typeof t?document.getElementById(t):t}}const lt=at;var ht=i(5537);const ct=class extends lt{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===t.collapsed||t.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==t.collapsible,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1);const e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.expandClassName?t.expandClassName:e+"-expand",s=void 0!==t.collapseLabel?t.collapseLabel:"›",r=void 0!==t.collapseClassName?t.collapseClassName:e+"-collapse";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=r):this.collapseLabel_=s;const o=void 0!==t.label?t.label:"i";"string"==typeof o?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=n):this.label_=o;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(L.Z.CLICK,this.handleClick_.bind(this),!1);const l=e+" "+T.XV+" "+T.hg+(this.collapsed_&&this.collapsible_?" "+T.hN:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=l,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e={},i=[];let n=!0;const s=t.layerStatesArray;for(let r=0,o=s.length;r<o;++r){const o=s[r];if(!(0,v.j)(o,t.viewState))continue;const a=o.layer.getSource();if(!a)continue;const l=a.getAttributions();if(!l)continue;const h=l(t);if(h)if(n=n&&!1!==a.getAttributionsCollapsible(),Array.isArray(h))for(let t=0,n=h.length;t<n;++t)h[t]in e||(i.push(h[t]),e[h[t]]=!0);else h in e||(i.push(h),e[h]=!0)}return this.overrideCollapsible_||this.setCollapsible(n),i}updateElement_(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!(0,ht.fS)(e,this.renderedAttributions_)){(0,k.ep)(this.ulElement_);for(let t=0,i=e.length;t<i;++t){const i=document.createElement("li");i.innerHTML=e[t],this.ulElement_.appendChild(i)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(T.hN),this.collapsed_?(0,k.$H)(this.collapseLabel_,this.label_):(0,k.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}};var ut=i(1015);const dt=class extends lt{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=void 0!==t.className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"⇧",n=void 0!==t.compassClassName?t.compassClassName:"ol-compass";this.label_=null,"string"==typeof i?(this.label_=document.createElement("span"),this.label_.className=n,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(n));const s=t.tipLabel?t.tipLabel:"Reset rotation",r=document.createElement("button");r.className=e+"-reset",r.setAttribute("type","button"),r.title=s,r.appendChild(this.label_),r.addEventListener(L.Z.CLICK,this.handleClick_.bind(this),!1);const o=e+" "+T.XV+" "+T.hg,a=this.element;a.className=o,a.appendChild(r),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(T.oj)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:ut.Vv}):t.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const i=e.viewState.rotation;if(i!=this.rotation_){const t="rotate("+i+"rad)";if(this.autoHide_){const t=this.element.classList.contains(T.oj);t||0!==i?t&&0!==i&&this.element.classList.remove(T.oj):this.element.classList.add(T.oj)}this.label_.style.transform=t}this.rotation_=i}},gt=class extends lt{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=void 0!==t.className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInClassName?t.zoomInClassName:e+"-in",s=void 0!==t.zoomOutClassName?t.zoomOutClassName:e+"-out",r=void 0!==t.zoomInLabel?t.zoomInLabel:"+",o=void 0!==t.zoomOutLabel?t.zoomOutLabel:"–",a=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",l=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=n,h.setAttribute("type","button"),h.title=a,h.appendChild("string"==typeof r?document.createTextNode(r):r),h.addEventListener(L.Z.CLICK,this.handleClick_.bind(this,i),!1);const c=document.createElement("button");c.className=s,c.setAttribute("type","button"),c.title=l,c.appendChild("string"==typeof o?document.createTextNode(o):o),c.addEventListener(L.Z.CLICK,this.handleClick_.bind(this,-i),!1);const u=e+" "+T.XV+" "+T.hg,d=this.element;d.className=u,d.appendChild(h),d.appendChild(c),this.duration_=void 0!==t.duration?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const e=this.getMap().getView();if(!e)return;const i=e.getZoom();if(void 0!==i){const n=e.getConstrainedZoom(i+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:n,duration:this.duration_,easing:ut.Vv})):e.setZoom(n)}}},_t="active";class ft extends n.Z{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(_t)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(_t,t)}setMap(t){this.map_=t}}function pt(t,e,i,n){const s=t.getZoom();if(void 0===s)return;const r=t.getConstrainedZoom(s+e),o=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:i,duration:void 0!==n?n:250,easing:ut.Vv})}const mt=ft,vt=class extends mt{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==W.DBLCLICK){const i=t.originalEvent,n=t.map,s=t.coordinate,r=i.shiftKey?-this.delta_:this.delta_;pt(n.getView(),r,s,this.duration_),i.preventDefault(),e=!0}return!e}};function yt(t){const e=t.length;let i=0,n=0;for(let s=0;s<e;s++)i+=t[s].clientX,n+=t[s].clientY;return{clientX:i/e,clientY:n/e}}const xt=class extends mt{constructor(t){super(t=t||{}),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==W.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==W.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==W.POINTERDOWN){const i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==W.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}};function wt(t){const e=arguments;return function(t){let i=!0;for(let n=0,s=e.length;n<s&&(i=i&&e[n](t),i);++n);return i}}const St=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Et=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){const e=t.map.getTargetElement(),i=t.map.getOwnerDocument().activeElement;return e.contains(i)}(t)},bt=g.uX,Ct=function(t){const e=t.originalEvent;return 0==e.button&&!(Y.G$&&Y.tK&&e.ctrlKey)},Tt=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Rt=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},It=function(t){const e=t.originalEvent,i=e.target.tagName;return"INPUT"!==i&&"SELECT"!==i&&"TEXTAREA"!==i&&!e.target.isContentEditable},kt=function(t){const e=t.originalEvent;return(0,O.h)(void 0!==e,56),"mouse"==e.pointerType},Mt=function(t){const e=t.originalEvent;return(0,O.h)(void 0!==e,56),e.isPrimary&&0===e.button},Lt=class extends xt{constructor(t){super({stopDown:g.Dv}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:wt(Tt,Mt);this.condition_=t.onFocusOnly?wt(Et,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const i=this.targetPointers,n=e.getEventPixel(yt(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){const e=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],i=t.map.getView();(0,y.bA)(e,i.getResolution()),(0,y.U1)(e,i.getRotation()),i.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),s=i.getCenterInternal(),r=e.getPixelFromCoordinateInternal(s),o=e.getCoordinateFromPixelInternal([r[0]-t*Math.cos(n),r[1]-t*Math.sin(n)]);i.animateInternal({center:i.getConstrainedCenter(o),duration:500,easing:ut.Vv})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};var Pt=i(828);const Ot=class extends xt{constructor(t){t=t||{},super({stopDown:g.Dv}),this.condition_=t.condition?t.condition:St,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!kt(t))return;const e=t.map,i=e.getView();if(i.getConstraints().rotation===Pt.h$)return;const n=e.getSize(),s=t.pixel,r=Math.atan2(n[1]/2-s[1],s[0]-n[0]/2);if(void 0!==this.lastAngle_){const t=r-this.lastAngle_;i.adjustRotationInternal(-t)}this.lastAngle_=r}handleUpEvent(t){return!kt(t)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){return!!kt(t)&&(!(!Ct(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}};var At=i(1082);class Zt extends d.Z{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,i="px",n=this.element_.style;n.left=Math.min(t[0],e[0])+i,n.top=Math.min(t[1],e[1])+i,n.width=Math.abs(e[0]-t[0])+i,n.height=Math.abs(e[1]-t[1])+i}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new At.ZP([i])}getGeometry(){return this.geometry_}}const Ft=Zt;class Dt extends a.ZP{constructor(t,e,i){super(t),this.coordinate=e,this.mapBrowserEvent=i}}const zt=class extends xt{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new Ft(t.className||"ol-dragbox"),this.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:Ct,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,i){const n=i[0]-e[0],s=i[1]-e[1];return n*n+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Dt("boxdrag",t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Dt(e?"boxend":"boxcancel",t.coordinate,t)),!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Dt("boxstart",t.coordinate,t)),!0)}onBoxEnd(t){}},Nt=class extends zt{constructor(t){super({condition:(t=t||{}).condition?t.condition:Rt,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const e=this.getMap().getView();let i=this.getGeometry();if(this.out_){const t=e.rotatedExtentForGeometry(i),n=e.getResolutionForExtentInternal(t),s=e.getResolution()/n;i=i.clone(),i.scale(s*s)}e.fitInternal(i,{duration:this.duration_,easing:ut.Vv})}},Gt=class extends mt{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return Tt(t)&&It(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==L.Z.KEYDOWN){const i=t.originalEvent,n=i.keyCode;if(this.condition_(t)&&(40==n||37==n||39==n||38==n)){const s=t.map.getView(),r=s.getResolution()*this.pixelDelta_;let o=0,a=0;40==n?a=-r:37==n?o=-r:39==n?o=r:a=r;const l=[o,a];(0,y.U1)(l,s.getRotation()),function(t,e,i){const n=t.getCenterInternal();if(n){const s=[n[0]+e[0],n[1]+e[1]];t.animateInternal({duration:void 0!==i?i:250,easing:ut.GE,center:t.getConstrainedCenter(s)})}}(s,l,this.duration_),i.preventDefault(),e=!0}}return!e}},Bt=class extends mt{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:It,this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==L.Z.KEYDOWN||t.type==L.Z.KEYPRESS){const i=t.originalEvent,n=i.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){const s=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_;pt(s.getView(),r,void 0,this.duration_),i.preventDefault(),e=!0}}return!e}};var Wt=i(3983);const jt=class extends mt{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:bt;this.condition_=t.onFocusOnly?wt(Et,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();t&&t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t))return!0;if(t.type!==L.Z.WHEEL)return!0;const e=t.map,i=t.originalEvent;let n;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==L.Z.WHEEL&&(n=i.deltaY,Y.V&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=Y.MP),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)),0===n)return!1;this.lastDelta_=n;const s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?"trackpad":"wheel");const r=e.getView();if("trackpad"===this.mode_&&!r.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(r.getAnimating()&&r.cancelAnimations(),r.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),r.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=n;const o=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,e),o),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let i=-(0,Wt.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),pt(e,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}},Ut=class extends xt{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=g.Dv),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0;const i=this.targetPointers[0],n=this.targetPointers[1],s=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){const t=s-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=s;const r=t.map,o=r.getView();o.getConstraints().rotation!==Pt.h$&&(this.anchor_=r.getCoordinateFromPixelInternal(r.getEventPixel(yt(this.targetPointers))),this.rotating_&&(r.render(),o.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}},Yt=class extends xt{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=g.Dv),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const i=this.targetPointers[0],n=this.targetPointers[1],s=i.clientX-n.clientX,r=i.clientY-n.clientY,o=Math.sqrt(s*s+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/o),this.lastDistance_=o;const a=t.map,l=a.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(yt(this.targetPointers))),a.render(),l.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map.getView(),i=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}};var Vt=i(8661),Xt=i(4307),Kt=i(44);function Ht(t){t instanceof v.Z?t.setMapInternal(null):t instanceof z&&t.getLayers().forEach(Ht)}function qt(t,e){if(t instanceof v.Z)t.setMapInternal(e);else if(t instanceof z){const i=t.getLayers().getArray();for(let t=0,n=i.length;t<n;++t)qt(i[t],e)}}class Jt extends n.Z{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=function(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const i={},n=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new z({layers:t.layers});let s,r,o;return i[J]=n,i[Q]=t.target,i[tt]=t.view instanceof rt.ZP?t.view:new rt.ZP,void 0!==t.controls&&(Array.isArray(t.controls)?s=new u(t.controls.slice()):((0,O.h)("function"==typeof t.controls.getArray,47),s=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new u(t.interactions.slice()):((0,O.h)("function"==typeof t.interactions.getArray,48),r=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new u(t.overlays.slice()):((0,O.h)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new u,{controls:s,interactions:r,keyboardEventTarget:e,overlays:o,values:i}}(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:Y.MP,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=(0,f.Ue)(),this.pixelToCoordinateTransform_=(0,f.Ue)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=e.controls||function(t){t=t||{};const e=new u;return(void 0===t.zoom||t.zoom)&&e.push(new gt(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new dt(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new ct(t.attributionOptions)),e}(),this.interactions=e.interactions||function(t){t=t||{};const e=new u,i=new class{constructor(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let i=e-3;for(;i>0&&this.points_[i+2]>t;)i-=3;const n=this.points_[e+2]-this.points_[i+2];if(n<1e3/60)return!1;const s=this.points_[e]-this.points_[i],r=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(r,s),this.initialVelocity_=Math.sqrt(s*s+r*r)/n,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new Ot),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new vt({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new Lt({onFocusOnly:t.onFocusOnly,kinetic:i})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new Ut),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new Yt({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new Gt),e.push(new Bt({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new jt({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new Nt({duration:t.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new st(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(J,this.handleLayerGroupChanged_),this.addChangeListener(tt,this.handleViewChanged_),this.addChangeListener($,this.handleSizeChanged_),this.addChangeListener(Q,this.handleTargetChanged_),this.setProperties(e.values);const i=this;!t.view||t.view instanceof rt.ZP||t.view.then((function(t){i.setView(new rt.ZP(t))})),this.controls.addEventListener(r,(t=>{t.element.setMap(this)})),this.controls.addEventListener(o,(t=>{t.element.setMap(null)})),this.interactions.addEventListener(r,(t=>{t.element.setMap(this)})),this.interactions.addEventListener(o,(t=>{t.element.setMap(null)})),this.overlays_.addEventListener(r,(t=>{this.addOverlayInternal_(t.element)})),this.overlays_.addEventListener(o,(t=>{const e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)})),this.controls.forEach((t=>{t.setMap(this)})),this.interactions.forEach((t=>{t.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){qt(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,i){if(!this.frameState_||!this.renderer_)return;const n=this.getCoordinateFromPixelInternal(t),s=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,r=void 0!==i.layerFilter?i.layerFilter:g.uX,o=!1!==i.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,s,o,e,null,r,null)}getFeaturesAtPixel(t,e){const i=[];return this.forEachFeatureAtPixel(t,(function(t){i.push(t)}),e),i}getAllLayers(){const t=[];return function e(i){i.forEach((function(i){i instanceof z?e(i.getLayers()):t.push(i)}))}(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(t),n=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:g.uX,s=void 0!==e.hitTolerance?e.hitTolerance:0,r=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,r,n,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const e=this.viewport_.getBoundingClientRect(),i=this.getSize(),n=e.width/i[0],s=e.height/i[1],r="changedTouches"in t?t.changedTouches[0]:t;return[(r.clientX-e.left)/n,(r.clientY-e.top)/s]}getTarget(){return this.get(Q)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return(0,Vt.lO)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?(0,f.nn)(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(J)}setLayers(t){const e=this.getLayerGroup();if(t instanceof u)return void e.setLayers(t);const i=e.getLayers();i.clear(),i.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,i=t.length;e<i;++e){const i=t[e];if(!i.visible)continue;const n=i.layer.getRenderer();if(n&&!n.ready)return!0;const s=i.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(t){const e=(0,Vt.Vs)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?(0,f.nn)(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get($)}getView(){return this.get(tt)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,i,n){return function(t,e,i,n,s){if(!t||!(i in t.wantedTiles))return et;if(!t.wantedTiles[i][e.getKey()])return et;const r=t.viewState.center,o=n[0]-r[0],a=n[1]-r[1];return 65536*Math.log(s)+Math.sqrt(o*o+a*a)/s}(this.frameState_,t,e,i,n)}handleBrowserEvent(t,e){e=e||t.type;const i=new B(e,this,t);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,i=e.type;if(i===j||i===L.Z.WHEEL||i===L.Z.KEYDOWN){const t=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():t,n=e.target;if(this.overlayContainerStopEvent_.contains(n)||!(i===t?t.documentElement:i).contains(n))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){const e=this.getInteractions().getArray().slice();for(let i=e.length-1;i>=0;i--){const n=e[i];if(n.getMap()===this&&n.getActive()&&this.getTargetElement()&&(!n.handleEvent(t)||t.propagationStopped))break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let i=this.maxTilesLoading_,n=i;if(t){const e=t.viewHints;if(e[ot.Z.ANIMATING]||e[ot.Z.INTERACTING]){const e=Date.now()-t.time>8;i=e?0:8,n=e?0:2}}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,n))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(C.Z.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(C.Z.RENDERCOMPLETE,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new G(q,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new G(H,this,t))));const i=this.postRenderFunctions_;for(let e=0,n=i.length;e<n;++e)i[e](this,t);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)(0,I.bN)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(L.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(L.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,k.ZF)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host)}const t=this.getTarget(),e="string"==typeof t?document.getElementById(t):t;if(this.targetElement_=e,e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new M(this)),this.mapBrowserEventHandler_=new X(this,this.moveTolerance_);for(const t in W)this.mapBrowserEventHandler_.addEventListener(W[t],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(L.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(L.Z.WHEEL,this.boundHandleBrowserEvent_,!!Y.bM&&{passive:!1});const t=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[(0,I.oL)(t,L.Z.KEYDOWN,this.handleBrowserEvent,this),(0,I.oL)(t,L.Z.KEYPRESS,this.handleBrowserEvent,this)];const i=e.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(e)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,I.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,I.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,I.oL)(t,E.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,I.oL)(t,L.Z.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(I.bN),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Z("addlayer",t)),this.layerGroupPropertyListenerKeys_=[(0,I.oL)(t,E.Z.PROPERTYCHANGE,this.render,this),(0,I.oL)(t,L.Z.CHANGE,this.render,this),(0,I.oL)(t,"addlayer",this.handleLayerAdd_,this),(0,I.oL)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,i=t.length;e<i;++e){const i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){Ht(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),i=this.getView(),n=this.frameState_;let s=null;if(void 0!==e&&(0,Xt.py)(e)&&i&&i.isDef()){const n=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),r=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,p.p8)(r.center,r.resolution,r.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:r,viewHints:n,wantedTiles:{},mapId:(0,_.sq)(this),renderTargets:{}},r.nextCenter&&r.nextResolution){const t=isNaN(r.nextRotation)?r.rotation:r.nextRotation;s.nextExtent=(0,p.p8)(r.nextCenter,r.nextResolution,t,e)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),n&&(!this.previousExtent_||!(0,p.xb)(this.previousExtent_)&&!(0,p.fS)(s.extent,this.previousExtent_))&&(this.dispatchEvent(new G("movestart",this,n)),this.previousExtent_=(0,p.YN)(this.previousExtent_)),this.previousExtent_&&!s.viewHints[ot.Z.ANIMATING]&&!s.viewHints[ot.Z.INTERACTING]&&!(0,p.fS)(s.extent,this.previousExtent_)&&(this.dispatchEvent(new G("moveend",this,s)),(0,p.d9)(s.extent,this.previousExtent_))),this.dispatchEvent(new G(K,this,s)),this.renderComplete_=this.hasListener(H)||this.hasListener(q)||this.hasListener(C.Z.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new Z("removelayer",e)),this.set(J,t)}setSize(t){this.set($,t)}setTarget(t){this.set(Q,t)}setView(t){if(!t||t instanceof rt.ZP)return void this.set(tt,t);this.set(tt,new rt.ZP);const e=this;t.then((function(t){e.setView(new rt.ZP(t))}))}updateSize(){const t=this.getTargetElement();let e;if(t){const i=getComputedStyle(t),n=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);isNaN(n)||isNaN(s)||(e=[n,s],!(0,Xt.py)(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&(0,Kt.ZK)("No map visible because the map container's width or height are 0."))}const i=this.getSize();!e||i&&(0,ht.fS)(e,i)||(this.setSize(e),this.updateViewportSize_())}updateViewportSize_(){const t=this.getView();if(t){let e;const i=getComputedStyle(this.viewport_);i.width&&i.height&&(e=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(e)}}}const $t=Jt},2971:(t,e,i)=>{"use strict";i.d(e,{Z:()=>c});var n=i(291),s=i(5990),r=i(2706),o=i(4187),a=i(9374);class l extends n.ZP{constructor(t,e,i){super(t),this.key=e,this.oldValue=i}}class h extends r.Z{constructor(t){super(),this.on,this.once,this.un,(0,o.sq)(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(t,e){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new l(i,t,e)),i=s.Z.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new l(i,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,i){const n=this.values_||(this.values_={});if(i)n[t]=e;else{const i=n[t];n[t]=e,i!==e&&this.notify(t,i)}}setProperties(t,e){for(const i in t)this.set(i,t[i],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const i=this.values_[t];delete this.values_[t],(0,a.x)(this.values_)&&(this.values_=null),e||this.notify(t,i)}}}const c=h},5990:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={PROPERTYCHANGE:"propertychange"}},2706:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(208),s=i(5487),r=i(5818);class o extends n.Z{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(s.Z.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const i=t.length,n=new Array(i);for(let s=0;s<i;++s)n[s]=(0,r.oL)(this,t[s],e);return n}return(0,r.oL)(this,t,e)}onceInternal(t,e){let i;if(Array.isArray(t)){const n=t.length;i=new Array(n);for(let s=0;s<n;++s)i[s]=(0,r.Vx)(this,t[s],e)}else i=(0,r.Vx)(this,t,e);return e.ol_key=i,i}unInternal(t,e){const i=e.ol_key;if(i)!function(t){if(Array.isArray(t))for(let e=0,i=t.length;e<i;++e)(0,r.bN)(t[e]);else(0,r.bN)(t)}(i);else if(Array.isArray(t))for(let i=0,n=t.length;i<n;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}}o.prototype.on,o.prototype.once,o.prototype.un;const a=o},4806:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h});var n=i(208),s=i(5487),r=i(7195),o=i(4187),a=i(1015);class l extends n.Z{constructor(t,e,i){super(),i=i||{},this.tileCoord=t,this.state=e,this.interimTile=null,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(s.Z.CHANGE)}release(){this.state===r.Z.ERROR&&this.setState(r.Z.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let t=this.interimTile;do{if(t.getState()==r.Z.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){if(!this.interimTile)return;let t=this.interimTile,e=this;do{if(t.getState()==r.Z.LOADED){t.interimTile=null;break}t.getState()==r.Z.LOADING?e=t:t.getState()==r.Z.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==r.Z.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){(0,o.O3)()}getAlpha(t,e){if(!this.transition_)return 1;let i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;const n=e-i+1e3/60;return n>=this.transition_?1:(0,a.YQ)(n/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}const h=l},5532:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var n=i(9515);const s=class{constructor(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const i=this.entries_[t];return(0,n.h)(void 0!==i,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(t){const e=this.entries_[t];return(0,n.h)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e,i=0;for(e=this.newest_;e;e=e.older)t[i++]=e.key_;return t}getValues(){const t=new Array(this.count_);let e,i=0;for(e=this.newest_;e;e=e.older)t[i++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){if(this.containsKey(t))return this.entries_[t].value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){(0,n.h)(!(t in this.entries_),16);const i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_}setSize(t){this.highWaterMark=t}};var r=i(8634);const o=class extends s{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const t=this.peekFirstKey(),e=(0,r.Ul)(t)[0];this.forEach((t=>{t.tileCoord[0]!==e&&(this.remove((0,r.km)(t.tileCoord)),t.release())}))}}},2519:(t,e,i)=>{"use strict";i.d(e,{T:()=>s,Z:()=>r});class n{constructor(t,e,i,n){this.minX=t,this.maxX=e,this.minY=i,this.maxY=n}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function s(t,e,i,s,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=i,r.maxY=s,r):new n(t,e,i,s)}const r=n},7195:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},9090:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>T});var n=i(2971),s=i(7755);const r={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var o=i(4768),a=i(8661),l=i(6885),h=i(1900),c=i(9515),u=i(3983);function d(t,e,i){return function(n,s,r,o,a){if(!n)return;if(!s&&!e)return n;const l=e?0:r[0]*s,h=e?0:r[1]*s,c=a?a[0]:0,d=a?a[1]:0;let g=t[0]+l/2+c,_=t[2]-l/2+c,f=t[1]+h/2+d,p=t[3]-h/2+d;g>_&&(g=(_+g)/2,_=g),f>p&&(f=(p+f)/2,p=f);let m=(0,u.uZ)(n[0],g,_),v=(0,u.uZ)(n[1],f,p);if(o&&i&&s){const t=30*s;m+=-t*Math.log(1+Math.max(0,g-n[0])/t)+t*Math.log(1+Math.max(0,n[0]-_)/t),v+=-t*Math.log(1+Math.max(0,f-n[1])/t)+t*Math.log(1+Math.max(0,n[1]-p)/t)}return[m,v]}}function g(t){return t}var _=i(8641),f=i(5537);function p(t,e,i,n){const s=(0,_.dz)(e)/i[0],r=(0,_.Cr)(e)/i[1];return n?Math.min(t,Math.max(s,r)):Math.min(t,Math.min(s,r))}function m(t,e,i){let n=Math.min(t,e);return n*=Math.log(1+50*Math.max(0,t/e-1))/50+1,i&&(n=Math.max(n,i),n/=Math.log(1+50*Math.max(0,i/t-1))/50+1),(0,u.uZ)(n,i/2,2*e)}function v(t,e,i,n,s){return i=void 0===i||i,function(r,o,a,l){if(void 0!==r){const o=n?p(t,n,a,s):t;return i&&l?m(r,o,e):(0,u.uZ)(r,e,o)}}}var y=i(828),x=i(1015),w=i(1082);class S extends n.Z{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=(0,a.UQ)(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&(0,a.h_)(),t.center&&(t.center=(0,a.Vs)(t.center,this.projection_)),t.extent&&(t.extent=(0,a.dY)(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const t in r)delete e[t];this.setProperties(e,!0);const i=function(t){let e,i,n;let s=void 0!==t.minZoom?t.minZoom:0,r=void 0!==t.maxZoom?t.maxZoom:28;const l=void 0!==t.zoomFactor?t.zoomFactor:2,h=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,d=void 0!==t.showFullExtent&&t.showFullExtent,g=(0,a.UQ)(t.projection,"EPSG:3857"),y=g.getExtent();let x=t.constrainOnlyCenter,w=t.extent;if(h||w||!g.isGlobal()||(x=!1,w=y),void 0!==t.resolutions){const o=t.resolutions;i=o[s],n=void 0!==o[r]?o[r]:o[o.length-1],e=t.constrainResolution?function(t,e,i,n){return e=void 0===e||e,function(s,r,o,a){if(void 0!==s){const l=t[0],h=t[t.length-1],c=i?p(l,i,o,n):l;if(a)return e?m(s,c,h):(0,u.uZ)(s,h,c);const d=Math.min(c,s),g=Math.floor((0,f.h7)(t,d,r));return t[g]>c&&g<t.length-1?t[g+1]:t[g]}}}(o,c,!x&&w,d):v(i,n,c,!x&&w,d)}else{const h=(y?Math.max((0,_.dz)(y),(0,_.Cr)(y)):360*a.Wm.degrees/g.getMetersPerUnit())/o.S/Math.pow(2,0),f=h/Math.pow(2,28);i=t.maxResolution,void 0!==i?s=0:i=h/Math.pow(l,s),n=t.minResolution,void 0===n&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(l,r):h/Math.pow(l,r):f),r=s+Math.floor(Math.log(i/n)/Math.log(l)),n=i/Math.pow(l,r-s),e=t.constrainResolution?function(t,e,i,n,s,r){return n=void 0===n||n,i=void 0!==i?i:0,function(o,a,l,h){if(void 0!==o){const c=s?p(e,s,l,r):e;if(h)return n?m(o,c,i):(0,u.uZ)(o,i,c);const d=1e-9,g=Math.ceil(Math.log(e/c)/Math.log(t)-d),_=-a*(.5-d)+.5,f=Math.min(c,o),v=Math.floor(Math.log(e/f)/Math.log(t)+_),y=Math.max(g,v),x=e/Math.pow(t,y);return(0,u.uZ)(x,i,c)}}}(l,i,n,c,!x&&w,d):v(i,n,c,!x&&w,d)}return{constraint:e,maxResolution:i,minResolution:n,minZoom:s,zoomFactor:l}}(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;const n=function(t){if(void 0!==t.extent){const e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return d(t.extent,t.constrainOnlyCenter,e)}const e=(0,a.UQ)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,d(t,!1,!1)}return g}(t),s=i.constraint,l=function(t){if(void 0===t.enableRotation||t.enableRotation){const e=t.constrainRotation;return void 0===e||!0===e?(0,y.Gw)():!1===e?y.YP:"number"==typeof e?(0,y.gE)(e):y.YP}return y.h$}(t);this.constraints_={center:n,resolution:s,rotation:l},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const i=this.getCenter();if(i){const n=t||[0,0,0,0];e=e||[0,0,0,0];const s=this.getResolution(),r=s/2*(n[3]-e[3]+e[1]-n[1]),o=s/2*(n[0]-e[0]+e[2]-n[2]);this.setCenterInternal([i[0]+r,i[1]-o])}}getUpdatedOptions_(t){const e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let t=0;t<e.length;++t){let i=arguments[t];i.center&&(i=Object.assign({},i),i.center=(0,a.Vs)(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=(0,a.Vs)(i.anchor,this.getProjection())),e[t]=i}this.animateInternal.apply(this,e)}animateInternal(t){let e,i=arguments.length;i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i);let n=0;for(;n<i&&!this.isDef();++n){const t=arguments[n];t.center&&this.setCenterInternal(t.center),void 0!==t.zoom?this.setZoom(t.zoom):t.resolution&&this.setResolution(t.resolution),void 0!==t.rotation&&this.setRotation(t.rotation)}if(n===i)return void(e&&E(e,!0));let r=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const h=[];for(;n<i;++n){const t=arguments[n],i={start:r,complete:!1,anchor:t.anchor,duration:void 0!==t.duration?t.duration:1e3,easing:t.easing||x.rd,callback:e};if(t.center&&(i.sourceCenter=o,i.targetCenter=t.center.slice(),o=i.targetCenter),void 0!==t.zoom?(i.sourceResolution=a,i.targetResolution=this.getResolutionForZoom(t.zoom),a=i.targetResolution):t.resolution&&(i.sourceResolution=a,i.targetResolution=t.resolution,a=i.targetResolution),void 0!==t.rotation){i.sourceRotation=l;const e=(0,u.$W)(t.rotation-l+Math.PI,2*Math.PI)-Math.PI;i.targetRotation=l+e,l=i.targetRotation}b(i)?i.complete=!0:r+=i.duration,h.push(i)}this.animations_.push(h),this.setHint(s.Z.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[s.Z.ANIMATING]>0}getInteracting(){return this.hints_[s.Z.INTERACTING]>0}cancelAnimations(){let t;this.setHint(s.Z.ANIMATING,-this.hints_[s.Z.ANIMATING]);for(let e=0,i=this.animations_.length;e<i;++e){const i=this.animations_[e];if(i[0].callback&&E(i[0].callback,!1),!t)for(let e=0,n=i.length;e<n;++e){const n=i[e];if(!n.complete){t=n.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let i=this.animations_.length-1;i>=0;--i){const n=this.animations_[i];let r=!0;for(let i=0,s=n.length;i<s;++i){const s=n[i];if(s.complete)continue;const o=t-s.start;let a=s.duration>0?o/s.duration:1;a>=1?(s.complete=!0,a=1):r=!1;const l=s.easing(a);if(s.sourceCenter){const t=s.sourceCenter[0],e=s.sourceCenter[1],i=s.targetCenter[0],n=s.targetCenter[1];this.nextCenter_=s.targetCenter;const r=t+l*(i-t),o=e+l*(n-e);this.targetCenter_=[r,o]}if(s.sourceResolution&&s.targetResolution){const t=1===l?s.targetResolution:s.sourceResolution+l*(s.targetResolution-s.sourceResolution);if(s.anchor){const e=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(t,0,e,!0);this.targetCenter_=this.calculateCenterZoom(i,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=t,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){const t=1===l?(0,u.$W)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+l*(s.targetRotation-s.sourceRotation);if(s.anchor){const e=this.constraints_.rotation(t,!0);this.targetCenter_=this.calculateCenterRotate(e,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=t}if(this.applyTargetState_(!0),e=!0,!s.complete)break}if(r){this.animations_[i]=null,this.setHint(s.Z.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const t=n[0].callback;t&&E(t,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let i;const n=this.getCenterInternal();return void 0!==n&&(i=[n[0]-e[0],n[1]-e[1]],(0,h.U1)(i,t-this.getRotation()),(0,h.IH)(i,e)),i}calculateCenterZoom(t,e){let i;const n=this.getCenterInternal(),s=this.getResolution();return void 0!==n&&void 0!==s&&(i=[e[0]-t*(e[0]-n[0])/s,e[1]-t*(e[1]-n[1])/s]),i}getViewportSize_(t){const e=this.viewportSize_;if(t){const i=e[0],n=e[1];return[Math.abs(i*Math.cos(t))+Math.abs(n*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(n*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t?(0,a.lO)(t,this.getProjection()):t}getCenterInternal(){return this.get(r.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const e=this.calculateExtentInternal(t);return(0,a.Fj)(e,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();(0,c.h)(e,1);const i=this.getResolution();(0,c.h)(void 0!==i,2);const n=this.getRotation();return(0,c.h)(void 0!==n,3),(0,_.p8)(e,i,n,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(r.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal((0,a.dY)(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const i=(0,_.dz)(t)/e[0],n=(0,_.Cr)(t)/e[1];return Math.max(i,n)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,n=Math.log(e/i)/Math.log(t);return function(i){return e/Math.pow(t,i*n)}}getRotation(){return this.get(r.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,s=Math.log(i/n)/e;return function(t){return Math.log(i/t)/e/s}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const i=this.padding_;return i&&(e=[e[0]-i[1]-i[3],e[1]-i[0]-i[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),i=this.getRotation();let n=this.getCenterInternal();const s=this.padding_;if(s){const t=this.getViewportSizeMinusPadding_();n=C(n,this.getViewportSize_(),[t[0]/2+s[3],t[1]/2+s[0]],e,i)}return{center:n.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getZoom(){let t;const e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,i,n=this.minZoom_||0;if(this.resolutions_){const s=(0,f.h7)(this.resolutions_,t,1);n=s,e=this.resolutions_[s],i=s==this.resolutions_.length-1?2:e/this.resolutions_[s+1]}else e=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(e/t)/Math.log(i)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const e=(0,u.uZ)(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(i,(0,u.uZ)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let i;if((0,c.h)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){(0,c.h)(!(0,_.xb)(t),25);const e=(0,a.dY)(t,this.getProjection());i=(0,w.oJ)(e)}else if("Circle"===t.getType()){const e=(0,a.dY)(t.getExtent(),this.getProjection());i=(0,w.oJ)(e),i.rotate(this.getRotation(),(0,_.qg)(e))}else{const e=(0,a.Cs)();i=e?t.clone().transform(e,this.getProjection()):t}this.fitInternal(i,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),i=Math.cos(e),n=Math.sin(-e),s=t.getFlatCoordinates(),r=t.getStride();let o=1/0,a=1/0,l=-1/0,h=-1/0;for(let t=0,e=s.length;t<e;t+=r){const e=s[t]*i-s[t+1]*n,r=s[t]*n+s[t+1]*i;o=Math.min(o,e),a=Math.min(a,r),l=Math.max(l,e),h=Math.max(h,r)}return[o,a,l,h]}fitInternal(t,e){let i=(e=e||{}).size;i||(i=this.getViewportSizeMinusPadding_());const n=void 0!==e.padding?e.padding:[0,0,0,0],s=void 0!==e.nearest&&e.nearest;let r;r=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;const o=this.rotatedExtentForGeometry(t);let a=this.getResolutionForExtentInternal(o,[i[0]-n[1]-n[3],i[1]-n[0]-n[2]]);a=isNaN(a)?r:Math.max(a,r),a=this.getConstrainedResolution(a,s?0:1);const h=this.getRotation(),c=Math.sin(h),u=Math.cos(h),d=(0,_.qg)(o);d[0]+=(n[1]-n[3])/2*a,d[1]+=(n[0]-n[2])/2*a;const g=d[0]*u-d[1]*c,f=d[1]*u+d[0]*c,p=this.getConstrainedCenter([g,f],a),m=e.callback?e.callback:l.Zn;void 0!==e.duration?this.animateInternal({resolution:a,center:p,duration:e.duration,easing:e.easing},m):(this.targetResolution_=a,this.targetCenter_=p,this.applyTargetState_(!1,!0),E(m,!0))}centerOn(t,e,i){this.centerOnInternal((0,a.Vs)(t,this.getProjection()),e,i)}centerOnInternal(t,e,i){this.setCenterInternal(C(t,e,i,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,i,n){let s;const r=this.padding_;if(r&&t){const o=this.getViewportSizeMinusPadding_(-i),a=C(t,n,[o[0]/2+r[3],o[1]/2+r[0]],e,i);s=[t[0]-a[0],t[1]-a[1]]}return s}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){const e=(0,a.lO)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&(0,a.Vs)(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const i=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,n,i);e&&(this.targetCenter_=this.calculateCenterZoom(s,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=(0,a.Vs)(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const i=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+t,i);e&&(this.targetCenter_=this.calculateCenterRotate(n,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t?(0,a.Vs)(t,this.getProjection()):t)}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const i=this.getAnimating()||this.getInteracting()||e,n=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(n),o=this.constraints_.resolution(this.targetResolution_,0,s,i),a=this.constraints_.center(this.targetCenter_,o,s,i,this.calculateCenterShift(this.targetCenter_,o,n,s));this.get(r.ROTATION)!==n&&this.set(r.ROTATION,n),this.get(r.RESOLUTION)!==o&&(this.set(r.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),a&&this.get(r.CENTER)&&(0,h.fS)(this.get(r.CENTER),a)||this.set(r.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,i){t=void 0!==t?t:200;const n=e||0,s=this.constraints_.rotation(this.targetRotation_),r=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,n,r),a=this.constraints_.center(this.targetCenter_,o,r,!1,this.calculateCenterShift(this.targetCenter_,o,s,r));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=o,this.targetRotation_=s,this.targetCenter_=a,void this.applyTargetState_();i=i||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===o&&this.getRotation()===s&&this.getCenterInternal()&&(0,h.fS)(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:a,resolution:o,duration:t,easing:x.Vv,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(s.Z.INTERACTING,1)}endInteraction(t,e,i){i=i&&(0,a.Vs)(i,this.getProjection()),this.endInteractionInternal(t,e,i)}endInteractionInternal(t,e,i){this.setHint(s.Z.INTERACTING,-1),this.resolveConstraints(t,e,i)}getConstrainedCenter(t,e){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),i)}getConstrainedZoom(t,e){const i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,e))}getConstrainedResolution(t,e){e=e||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,i)}}function E(t,e){setTimeout((function(){t(e)}),0)}function b(t){return!(t.sourceCenter&&t.targetCenter&&!(0,h.fS)(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function C(t,e,i,n,s){const r=Math.cos(-s);let o=Math.sin(-s),a=t[0]*r-t[1]*o,l=t[1]*r+t[0]*o;return a+=(e[0]/2-i[0])*n,l+=(i[1]-e[1]/2)*n,o=-o,[a*r-l*o,l*r+a*o]}const T=S},7755:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={ANIMATING:0,INTERACTING:1}},5537:(t,e,i)=>{"use strict";function n(t,e,i){let n,r;i=i||s;let o=0,a=t.length,l=!1;for(;o<a;)n=o+(a-o>>1),r=+i(t[n],e),r<0?o=n+1:(a=n,l=!r);return l?o:~o}function s(t,e){return t>e?1:t<e?-1:0}function r(t,e,i){const n=t.length;if(t[0]<=e)return 0;if(e<=t[n-1])return n-1;let s;if(i>0){for(s=1;s<n;++s)if(t[s]<e)return s-1}else if(i<0){for(s=1;s<n;++s)if(t[s]<=e)return s}else for(s=1;s<n;++s){if(t[s]==e)return s;if(t[s]<e)return"function"==typeof i?i(e,t[s-1],t[s])>0?s-1:s:t[s-1]-e<e-t[s]?s-1:s}return n-1}function o(t,e,i){for(;e<i;){const n=t[e];t[e]=t[i],t[i]=n,++e,--i}}function a(t,e){const i=Array.isArray(e)?e:[e],n=i.length;for(let e=0;e<n;e++)t[t.length]=i[e]}function l(t,e){const i=t.length;if(i!==e.length)return!1;for(let n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function h(t,e,i){const n=e||s;return t.every((function(e,s){if(0===s)return!0;const r=n(t[s-1],e);return!(r>0||i&&0===r)}))}i.d(e,{FZ:()=>o,fS:()=>l,h7:()=>r,j2:()=>s,l7:()=>a,pT:()=>h,ry:()=>n})},9515:(t,e,i)=>{"use strict";i.d(e,{h:()=>s});var n=i(6813);function s(t,e){if(!t)throw new n.Z(e)}},9706:(t,e,i)=>{"use strict";i.d(e,{BB:()=>u,XC:()=>a,_2:()=>h});var n=i(9515),s=i(3983);const r=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,o=/^([a-z]*)$|^hsla?\(.*\)$/i;function a(t){return"string"==typeof t?t:u(t)}const l=function(){const t={};let e=0;return function(i){let s;if(t.hasOwnProperty(i))s=t[i];else{if(e>=1024){let i=0;for(const n in t)0==(3&i++)&&(delete t[n],--e)}s=function(t){let e,i,s,a,l;if(o.exec(t)&&(t=function(t){const e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}(t)),r.exec(t)){const n=t.length-1;let r;r=n<=4?1:2;const o=4===n||8===n;e=parseInt(t.substr(1+0*r,r),16),i=parseInt(t.substr(1+1*r,r),16),s=parseInt(t.substr(1+2*r,r),16),a=o?parseInt(t.substr(1+3*r,r),16):255,1==r&&(e=(e<<4)+e,i=(i<<4)+i,s=(s<<4)+s,o&&(a=(a<<4)+a)),l=[e,i,s,a/255]}else t.startsWith("rgba(")?(l=t.slice(5,-1).split(",").map(Number),c(l)):t.startsWith("rgb(")?(l=t.slice(4,-1).split(",").map(Number),l.push(1),c(l)):(0,n.h)(!1,14);return l}(i),t[i]=s,++e}return s}}();function h(t){return Array.isArray(t)?t:l(t)}function c(t){return t[0]=(0,s.uZ)(t[0]+.5|0,0,255),t[1]=(0,s.uZ)(t[1]+.5|0,0,255),t[2]=(0,s.uZ)(t[2]+.5|0,0,255),t[3]=(0,s.uZ)(t[3],0,1),t}function u(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let i=t[1];i!=(0|i)&&(i=i+.5|0);let n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+i+","+n+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}},6620:(t,e,i)=>{"use strict";i.d(e,{y:()=>s});var n=i(9706);function s(t){return Array.isArray(t)?(0,n.BB)(t):t}},44:(t,e,i)=>{"use strict";i.d(e,{ZK:()=>r});const n={info:1,warn:2,error:3,none:4};let s=n.info;function r(...t){s>n.warn||console.warn(...t)}},1900:(t,e,i)=>{"use strict";i.d(e,{Cf:()=>l,IH:()=>s,U1:()=>o,bA:()=>a,fS:()=>r});var n=i(8641);function s(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function r(t,e){let i=!0;for(let n=t.length-1;n>=0;--n)if(t[n]!=e[n]){i=!1;break}return i}function o(t,e){const i=Math.cos(e),n=Math.sin(e),s=t[0]*i-t[1]*n,r=t[1]*i+t[0]*n;return t[0]=s,t[1]=r,t}function a(t,e){return t[0]*=e,t[1]*=e,t}function l(t,e){if(e.canWrapX()){const i=(0,n.dz)(e.getExtent()),s=function(t,e,i){const s=e.getExtent();let r=0;return e.canWrapX()&&(t[0]<s[0]||t[0]>s[2])&&(i=i||(0,n.dz)(s),r=Math.floor((t[0]-s[0])/i)),r}(t,e,i);s&&(t[0]-=s*i)}return t}},245:(t,e,i)=>{"use strict";i.d(e,{XV:()=>s,hN:()=>o,hg:()=>r,oj:()=>n,p:()=>h});const n="ol-hidden",s="ol-unselectable",r="ol-control",o="ol-collapsed",a=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),l=["style","variant","weight","size","lineHeight","family"],h=function(t){const e=t.match(a);if(!e)return null;const i={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let t=0,n=l.length;t<n;++t){const n=e[t+1];void 0!==n&&(i[l[t]]=n)}return i.families=i.family.split(/,\s?/),i}},8326:(t,e,i)=>{"use strict";i.d(e,{$H:()=>o,E4:()=>s,ZF:()=>a,ep:()=>l,hF:()=>h,jy:()=>r});var n=i(177);function s(t,e,i,s){let r;return r=i&&i.length?i.shift():n.Id?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("2d",s)}function r(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function o(t,e){const i=e.parentNode;i&&i.replaceChild(t,e)}function a(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function h(t,e){const i=t.childNodes;for(let n=0;;++n){const s=i[n],r=e[n];if(!s&&!r)break;s!==r&&(s?r?t.insertBefore(r,s):(t.removeChild(s),--n):t.appendChild(r))}}},1015:(t,e,i)=>{"use strict";function n(t){return Math.pow(t,3)}function s(t){return 1-n(1-t)}function r(t){return 3*t*t-2*t*t*t}function o(t){return t}i.d(e,{GE:()=>o,Vv:()=>s,YQ:()=>n,rd:()=>r})},5818:(t,e,i)=>{"use strict";i.d(e,{Vx:()=>r,bN:()=>o,oL:()=>s});var n=i(9374);function s(t,e,i,n,s){if(n&&n!==t&&(i=i.bind(n)),s){const n=i;i=function(){t.removeEventListener(e,i),n.apply(this,arguments)}}const r={target:t,type:e,listener:i};return t.addEventListener(e,i),r}function r(t,e,i,n){return s(t,e,i,n,!0)}function o(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,n.Z)(t))}},291:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>n});const n=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}},5487:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},208:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var n=i(5431),s=i(291),r=i(6885),o=i(9374);class a extends n.Z{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const i=this.listeners_||(this.listeners_={}),n=i[t]||(i[t]=[]);n.includes(e)||n.push(e)}dispatchEvent(t){const e="string"==typeof t,i=e?t:t.type,n=this.listeners_&&this.listeners_[i];if(!n)return;const o=e?new s.ZP(t):t;o.target||(o.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});let h;i in a||(a[i]=0,l[i]=0),++a[i];for(let t=0,e=n.length;t<e;++t)if(h="handleEvent"in n[t]?n[t].handleEvent(o):n[t].call(this,o),!1===h||o.propagationStopped){h=!1;break}if(0==--a[i]){let t=l[i];for(delete l[i];t--;)this.removeEventListener(i,r.Zn);delete a[i]}return h}disposeInternal(){this.listeners_&&(0,o.Z)(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){const i=this.listeners_&&this.listeners_[t];if(i){const n=i.indexOf(e);-1!==n&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[n]=r.Zn,++this.pendingRemovals_[t]):(i.splice(n,1),0===i.length&&delete this.listeners_[t]))}}}const l=a},8641:(t,e,i)=>{"use strict";i.d(e,{Cr:()=>L,EO:()=>z,Ed:()=>P,GN:()=>m,H6:()=>E,HK:()=>p,I7:()=>N,Ne:()=>G,T9:()=>_,Wj:()=>x,Xv:()=>A,YN:()=>f,b8:()=>h,bg:()=>b,d9:()=>a,dY:()=>M,dz:()=>Z,f3:()=>o,fS:()=>v,g0:()=>I,hC:()=>C,hI:()=>r,jE:()=>u,kK:()=>F,l7:()=>y,lJ:()=>g,p8:()=>k,pX:()=>d,qP:()=>w,qf:()=>l,qg:()=>R,r4:()=>c,rL:()=>O,w$:()=>T,xb:()=>D});var n=i(8716),s=i(9515);function r(t){const e=[1/0,1/0,-1/0,-1/0];for(let i=0,n=t.length;i<n;++i)x(e,t[i]);return e}function o(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function a(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function l(t,e,i){let n,s;return n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,s=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0,n*n+s*s}function h(t,e){return u(t,e[0],e[1])}function c(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function u(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function d(t,e){const i=t[0],s=t[1],r=t[2],o=t[3],a=e[0],l=e[1];let h=n.Z.UNKNOWN;return a<i?h|=n.Z.LEFT:a>r&&(h|=n.Z.RIGHT),l<s?h|=n.Z.BELOW:l>o&&(h|=n.Z.ABOVE),h===n.Z.UNKNOWN&&(h=n.Z.INTERSECTING),h}function g(){return[1/0,1/0,-1/0,-1/0]}function _(t,e,i,n,s){return s?(s[0]=t,s[1]=e,s[2]=i,s[3]=n,s):[t,e,i,n]}function f(t){return _(1/0,1/0,-1/0,-1/0,t)}function p(t,e){const i=t[0],n=t[1];return _(i,n,i,n,e)}function m(t,e,i,n,s){return w(f(s),t,e,i,n)}function v(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function y(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function x(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function w(t,e,i,n,s){for(;i<n;i+=s)S(t,e[i],e[i+1]);return t}function S(t,e,i){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],i),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],i)}function E(t,e){let i;return i=e(C(t)),i||(i=e(T(t)),i||(i=e(A(t)),i||(i=e(O(t)),i||!1)))}function b(t){let e=0;return D(t)||(e=Z(t)*L(t)),e}function C(t){return[t[0],t[1]]}function T(t){return[t[2],t[1]]}function R(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function I(t,e){let i;return"bottom-left"===e?i=C(t):"bottom-right"===e?i=T(t):"top-left"===e?i=O(t):"top-right"===e?i=A(t):(0,s.h)(!1,13),i}function k(t,e,i,n,s){const[r,o,a,l,h,c,u,d]=M(t,e,i,n);return _(Math.min(r,a,h,u),Math.min(o,l,c,d),Math.max(r,a,h,u),Math.max(o,l,c,d),s)}function M(t,e,i,n){const s=e*n[0]/2,r=e*n[1]/2,o=Math.cos(i),a=Math.sin(i),l=s*o,h=s*a,c=r*o,u=r*a,d=t[0],g=t[1];return[d-l+u,g-h-c,d-l-u,g-h+c,d+l-u,g+h+c,d+l+u,g+h-c,d-l+u,g-h-c]}function L(t){return t[3]-t[1]}function P(t,e,i){const n=i||[1/0,1/0,-1/0,-1/0];return F(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):f(n),n}function O(t){return[t[0],t[3]]}function A(t){return[t[2],t[3]]}function Z(t){return t[2]-t[0]}function F(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function D(t){return t[2]<t[0]||t[3]<t[1]}function z(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function N(t,e,i){let s=!1;const r=d(t,e),o=d(t,i);if(r===n.Z.INTERSECTING||o===n.Z.INTERSECTING)s=!0;else{const a=t[0],l=t[1],h=t[2],c=t[3],u=e[0],d=e[1],g=i[0],_=i[1],f=(_-d)/(g-u);let p,m;o&n.Z.ABOVE&&!(r&n.Z.ABOVE)&&(p=g-(_-c)/f,s=p>=a&&p<=h),s||!(o&n.Z.RIGHT)||r&n.Z.RIGHT||(m=_-(g-h)*f,s=m>=l&&m<=c),s||!(o&n.Z.BELOW)||r&n.Z.BELOW||(p=g-(_-l)/f,s=p>=a&&p<=h),s||!(o&n.Z.LEFT)||r&n.Z.LEFT||(m=_-(g-a)*f,s=m>=l&&m<=c)}return s}function G(t,e,i,n){let s=[];if(n>1){const e=t[2]-t[0],i=t[3]-t[1];for(let r=0;r<n;++r)s.push(t[0]+e*r/n,t[1],t[2],t[1]+i*r/n,t[2]-e*r/n,t[3],t[0],t[3]-i*r/n)}else s=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(s,s,2);const r=[],o=[];for(let t=0,e=s.length;t<e;t+=2)r.push(s[t]),o.push(s[t+1]);return function(t,e,i){return _(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),i)}(r,o,i)}},8716:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},9646:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>r});var n=i(4187),s=i(8661);const r=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let i=e.dataProjection?(0,s.U2)(e.dataProjection):this.readProjection(t);e.extent&&i&&"tile-pixels"===i.getUnits()&&(i=(0,s.U2)(i),i.setWorldExtent(e.extent)),e={dataProjection:i,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)}getType(){return(0,n.O3)()}readFeature(t,e){return(0,n.O3)()}readFeatures(t,e){return(0,n.O3)()}readGeometry(t,e){return(0,n.O3)()}readProjection(t){return(0,n.O3)()}writeFeature(t,e){return(0,n.O3)()}writeFeatures(t,e){return(0,n.O3)()}writeGeometry(t,e){return(0,n.O3)()}}},6885:(t,e,i)=>{"use strict";i.d(e,{Dv:()=>r,Zn:()=>o,qe:()=>a,uX:()=>s});var n=i(5537);function s(){return!0}function r(){return!1}function o(){}function a(t){let e,i,s,r=!1;return function(){const o=Array.prototype.slice.call(arguments);return r&&this===s&&(0,n.fS)(o,i)||(r=!0,s=this,i=o,e=t.apply(this,arguments)),e}}},1082:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>C,oJ:()=>T});var n=i(6762),s=i(3983);function r(t,e,i,n,r,o,a){const l=t[e],h=t[e+1],c=t[i]-l,u=t[i+1]-h;let d;if(0===c&&0===u)d=e;else{const g=((r-l)*c+(o-h)*u)/(c*c+u*u);if(g>1)d=i;else{if(g>0){for(let r=0;r<n;++r)a[r]=(0,s.t7)(t[e+r],t[i+r],g);return void(a.length=n)}d=e}}for(let e=0;e<n;++e)a[e]=t[d+e];a.length=n}function o(t,e,i,n,r){let o=t[e],a=t[e+1];for(e+=n;e<i;e+=n){const i=t[e],n=t[e+1],l=(0,s.bI)(o,a,i,n);l>r&&(r=l),o=i,a=n}return r}function a(t,e,i,n,o,a,l,h,c,u,d){if(e==i)return u;let g,_;if(0===o){if(_=(0,s.bI)(l,h,t[e],t[e+1]),_<u){for(g=0;g<n;++g)c[g]=t[e+g];return c.length=n,_}return u}d=d||[NaN,NaN];let f=e+n;for(;f<i;)if(r(t,f-n,f,n,l,h,d),_=(0,s.bI)(l,h,d[0],d[1]),_<u){for(u=_,g=0;g<n;++g)c[g]=d[g];c.length=n,f+=n}else f+=n*Math.max((Math.sqrt(_)-Math.sqrt(u))/o|0,1);if(a&&(r(t,i-n,e,n,l,h,d),_=(0,s.bI)(l,h,d[0],d[1]),_<u)){for(u=_,g=0;g<n;++g)c[g]=d[g];c.length=n}return u}var l=i(8641);function h(t,e,i,n){for(let s=0,r=i.length;s<r;++s){const r=i[s];for(let i=0;i<n;++i)t[e++]=r[i]}return e}var c=i(226),u=i(9241);function d(t,e,i,n){let s=0,r=t[i-n],o=t[i-n+1];for(;e<i;e+=n){const i=t[e],n=t[e+1];s+=o*i-r*n,r=i,o=n}return s/2}class g extends n.ZP{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new g(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,i,n){return n<(0,l.qf)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(o(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),a(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,n))}getArea(){return d(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return(0,u.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=(0,c.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new g(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=h(this.flatCoordinates,0,t,this.stride),this.changed()}}const _=g;class f extends n.ZP{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new f(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,n){const r=this.flatCoordinates,o=(0,s.bI)(t,e,r[0],r[1]);if(o<n){const t=this.stride;for(let e=0;e<t;++e)i[e]=r[e];return i.length=t,o}return n}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(t){return(0,l.HK)(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return(0,l.jE)(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,i,n){for(let n=0,s=i.length;n<s;++n)t[e++]=i[n];return e}(this.flatCoordinates,0,t,this.stride),this.changed()}}const p=f;var m=i(5537),v=i(3448),y=i(969);function x(t,e,i,n){for(;e<i-n;){for(let s=0;s<n;++s){const r=t[e+s];t[e+s]=t[i-n+s],t[i-n+s]=r}e+=n,i-=n}}function w(t,e,i,n){let s=0,r=t[i-n],o=t[i-n+1];for(;e<i;e+=n){const i=t[e],n=t[e+1];s+=(i-r)*(n+o),r=i,o=n}return 0===s?void 0:s>0}function S(t,e,i,n,s){s=void 0!==s&&s;for(let r=0,o=i.length;r<o;++r){const o=i[r],a=w(t,e,o,n);(0===r?s&&a||!s&&!a:s&&!a||!s&&a)&&x(t,e,o,n),e=o}return e}var E=i(9679);class b extends n.ZP{constructor(t,e,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&i?(this.setFlatCoordinates(e,t),this.ends_=i):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?(0,m.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new b(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,i,n){return n<(0,l.qf)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,i,n,s){for(let r=0,a=i.length;r<a;++r){const a=i[r];s=o(t,e,a,n,s),e=a}return s}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,i,n,s,r,o,l,h,c,u){u=u||[NaN,NaN];for(let d=0,g=i.length;d<g;++d){const g=i[d];c=a(t,e,g,n,s,r,o,l,h,c,u),e=g}return c}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,n))}containsXY(t,e){return(0,E.wY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return function(t,e,i,n){let s=0;for(let r=0,o=i.length;r<o;++r){const o=i[r];s+=d(t,e,o,n),e=o}return s}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),S(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,u.o1)(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=(0,l.qg)(this.getExtent());this.flatInteriorPoint_=(0,v.X)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new p(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new _(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,i=this.ends_,n=[];let s=0;for(let r=0,o=i.length;r<o;++r){const o=i[r],a=new _(e.slice(s,o),t);n.push(a),s=o}return n}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;!function(t,e,i,n,s){s=void 0!==s&&s;for(let r=0,o=i.length;r<o;++r){const o=i[r],a=w(t,e,o,n);if(0===r){if(s&&a||!s&&!a)return!1}else if(s&&!a||!s&&a)return!1;e=o}return!0}(t,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=S(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],i=[];return e.length=(0,c.Zh)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i),new b(e,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return(0,y.ac)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=function(t,e,i,n,s){s=s||[];let r=0;for(let o=0,a=i.length;o<a;++o){const a=h(t,e,i[o],n);s[r++]=a,e=a}return s.length=r,s}(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}}const C=b;function T(t){const e=t[0],i=t[1],n=t[2],s=t[3],r=[e,i,e,s,n,s,n,i,e,i];return new b(r,"XY",[r.length])}},6762:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>f,Kr:()=>_});var n=i(2971),s=i(4187),r=i(6101),o=i(8641),a=i(8661),l=i(6885),h=i(6442);const c=(0,r.Ue)();class u extends n.Z{constructor(){super(),this.extent_=(0,o.lJ)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=(0,l.qe)((function(t,e,i){if(!i)return this.getSimplifiedGeometry(e);const n=this.clone();return n.applyTransform(i),n.getSimplifiedGeometry(e)}))}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return(0,s.O3)()}closestPointXY(t,e,i,n){return(0,s.O3)()}containsXY(t,e){const i=this.getClosestPoint([t,e]);return i[0]===t&&i[1]===e}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return(0,s.O3)()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&(0,o.YN)(t),this.extentRevision_=this.getRevision()}return(0,o.EO)(this.extent_,t)}rotate(t,e){(0,s.O3)()}scale(t,e,i){(0,s.O3)()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return(0,s.O3)()}getType(){return(0,s.O3)()}applyTransform(t){(0,s.O3)()}intersectsExtent(t){return(0,s.O3)()}translate(t,e){(0,s.O3)()}transform(t,e){const i=(0,a.U2)(t),n="tile-pixels"==i.getUnits()?function(t,n,s){const l=i.getExtent(),u=i.getWorldExtent(),d=(0,o.Cr)(u)/(0,o.Cr)(l);return(0,r.qC)(c,u[0],u[3],d,-d,0,0,0),(0,h.vT)(t,0,t.length,s,c,n),(0,a.Ck)(i,e)(t,n,s)}:(0,a.Ck)(i,e);return this.applyTransform(n),this}}const d=u;function g(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function _(t,e,i){const n=t.getFlatCoordinates();if(!n)return null;const s=t.getStride();return(0,h.vT)(n,0,n.length,s,e,i)}const f=class extends d{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(t){return(0,o.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return(0,s.O3)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=g(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){(0,s.O3)()}setLayout(t,e,i){let n;if(t)n=g(t);else{for(let t=0;t<i;++t){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}n=e.length,t=function(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}(n)}this.layout=t,this.stride=n}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){const i=this.getFlatCoordinates();if(i){const n=this.getStride();(0,h.U1)(i,0,i.length,n,t,e,i),this.changed()}}scale(t,e,i){void 0===e&&(e=t),i||(i=(0,o.qg)(this.getExtent()));const n=this.getFlatCoordinates();if(n){const s=this.getStride();(0,h.bA)(n,0,n.length,s,t,e,i,n),this.changed()}}translate(t,e){const i=this.getFlatCoordinates();if(i){const n=this.getStride();(0,h.Iu)(i,0,i.length,n,t,e,i),this.changed()}}}},9679:(t,e,i)=>{"use strict";i.d(e,{TG:()=>r,uG:()=>s,wY:()=>o});var n=i(8641);function s(t,e,i,s,o){return!(0,n.H6)(o,(function(n){return!r(t,e,i,s,n[0],n[1])}))}function r(t,e,i,n,s,r){let o=0,a=t[i-n],l=t[i-n+1];for(;e<i;e+=n){const i=t[e],n=t[e+1];l<=r?n>r&&(i-a)*(r-l)-(s-a)*(n-l)>0&&o++:n<=r&&(i-a)*(r-l)-(s-a)*(n-l)<0&&o--,a=i,l=n}return 0!==o}function o(t,e,i,n,s,o){if(0===i.length)return!1;if(!r(t,e,i[0],n,s,o))return!1;for(let e=1,a=i.length;e<a;++e)if(r(t,i[e-1],i[e],n,s,o))return!1;return!0}},9241:(t,e,i)=>{"use strict";function n(t,e,i,n,s){s=void 0!==s?s:[];let r=0;for(let o=e;o<i;o+=n)s[r++]=t.slice(o,o+n);return s.length=r,s}function s(t,e,i,s,r){r=void 0!==r?r:[];let o=0;for(let a=0,l=i.length;a<l;++a){const l=i[a];r[o++]=n(t,e,l,s,r[o]),e=l}return r.length=o,r}function r(t,e,i,n,r){r=void 0!==r?r:[];let o=0;for(let a=0,l=i.length;a<l;++a){const l=i[a];r[o++]=1===l.length&&l[0]===e?[]:s(t,e,l,n,r[o]),e=l[l.length-1]}return r.length=o,r}i.d(e,{Ml:()=>n,o1:()=>s,ug:()=>r})},3448:(t,e,i)=>{"use strict";i.d(e,{U:()=>o,X:()=>r});var n=i(5537),s=i(9679);function r(t,e,i,r,o,a,l){let h,c,u,d,g,_,f;const p=o[a+1],m=[];for(let n=0,s=i.length;n<s;++n){const s=i[n];for(d=t[s-r],_=t[s-r+1],h=e;h<s;h+=r)g=t[h],f=t[h+1],(p<=_&&f<=p||_<=p&&p<=f)&&(u=(p-_)/(f-_)*(g-d)+d,m.push(u)),d=g,_=f}let v=NaN,y=-1/0;for(m.sort(n.j2),d=m[0],h=1,c=m.length;h<c;++h){g=m[h];const n=Math.abs(g-d);n>y&&(u=(d+g)/2,(0,s.wY)(t,e,i,r,u,p)&&(v=u,y=n)),d=g}return isNaN(v)&&(v=o[a]),l?(l.push(v,p,y),l):[v,p,y]}function o(t,e,i,n,s){let o=[];for(let a=0,l=i.length;a<l;++a){const l=i[a];o=r(t,e,l,n,s,2*a,o),e=l[l.length-1]}return o}},969:(t,e,i)=>{"use strict";i.d(e,{mV:()=>o,ac:()=>a});var n=i(8641),s=i(9679);function r(t,e,i,s,r){const o=(0,n.qP)((0,n.lJ)(),t,e,i,s);return!!(0,n.kK)(r,o)&&(!!(0,n.r4)(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||function(t,e,i,s,o){let a;for(e+=s;e<i;e+=s)if(l=t.slice(e-s,e),h=t.slice(e,e+s),a=(0,n.I7)(r,l,h),a)return a;var l,h;return!1}(t,e,i,s))}function o(t,e,i,n,o){return!!(r(t,e,i,n,o)||(0,s.TG)(t,e,i,n,o[0],o[1])||(0,s.TG)(t,e,i,n,o[0],o[3])||(0,s.TG)(t,e,i,n,o[2],o[1])||(0,s.TG)(t,e,i,n,o[2],o[3]))}function a(t,e,i,n,a){if(!o(t,e,i[0],n,a))return!1;if(1===i.length)return!0;for(let e=1,o=i.length;e<o;++e)if((0,s.uG)(t,i[e-1],i[e],n,a)&&!r(t,i[e-1],i[e],n,a))return!1;return!0}},226:(t,e,i)=>{"use strict";i.d(e,{Zh:()=>a,dt:()=>s,uZ:()=>r});var n=i(3983);function s(t,e,i,s,r,o,a){const l=(i-e)/s;if(l<3){for(;e<i;e+=s)o[a++]=t[e],o[a++]=t[e+1];return a}const h=new Array(l);h[0]=1,h[l-1]=1;const c=[e,i-s];let u=0;for(;c.length>0;){const i=c.pop(),o=c.pop();let a=0;const l=t[o],d=t[o+1],g=t[i],_=t[i+1];for(let e=o+s;e<i;e+=s){const i=t[e],s=t[e+1],r=(0,n.rU)(i,s,l,d,g,_);r>a&&(u=e,a=r)}a>r&&(h[(u-e)/s]=1,o+s<u&&c.push(o,u),u+s<i&&c.push(u,i))}for(let i=0;i<l;++i)h[i]&&(o[a++]=t[e+i*s],o[a++]=t[e+i*s+1]);return a}function r(t,e){return e*Math.round(t/e)}function o(t,e,i,n,s,o,a){if(e==i)return a;let l,h,c=r(t[e],s),u=r(t[e+1],s);e+=n,o[a++]=c,o[a++]=u;do{if(l=r(t[e],s),h=r(t[e+1],s),(e+=n)==i)return o[a++]=l,o[a++]=h,a}while(l==c&&h==u);for(;e<i;){const i=r(t[e],s),d=r(t[e+1],s);if(e+=n,i==l&&d==h)continue;const g=l-c,_=h-u,f=i-c,p=d-u;g*p==_*f&&(g<0&&f<g||g==f||g>0&&f>g)&&(_<0&&p<_||_==p||_>0&&p>_)?(l=i,h=d):(o[a++]=l,o[a++]=h,c=l,u=h,l=i,h=d)}return o[a++]=l,o[a++]=h,a}function a(t,e,i,n,s,r,a,l){for(let h=0,c=i.length;h<c;++h){const c=i[h];a=o(t,e,c,n,s,r,a),l.push(a),e=c}return a}},6442:(t,e,i)=>{"use strict";function n(t,e,i,n,s,r){r=r||[];let o=0;for(let a=e;a<i;a+=n){const e=t[a],i=t[a+1];r[o++]=s[0]*e+s[2]*i+s[4],r[o++]=s[1]*e+s[3]*i+s[5]}return r&&r.length!=o&&(r.length=o),r}function s(t,e,i,n,s,r,o){o=o||[];const a=Math.cos(s),l=Math.sin(s),h=r[0],c=r[1];let u=0;for(let s=e;s<i;s+=n){const e=t[s]-h,i=t[s+1]-c;o[u++]=h+e*a-i*l,o[u++]=c+e*l+i*a;for(let e=s+2;e<s+n;++e)o[u++]=t[e]}return o&&o.length!=u&&(o.length=u),o}function r(t,e,i,n,s,r,o,a){a=a||[];const l=o[0],h=o[1];let c=0;for(let o=e;o<i;o+=n){const e=t[o]-l,i=t[o+1]-h;a[c++]=l+s*e,a[c++]=h+r*i;for(let e=o+2;e<o+n;++e)a[c++]=t[e]}return a&&a.length!=c&&(a.length=c),a}function o(t,e,i,n,s,r,o){o=o||[];let a=0;for(let l=e;l<i;l+=n){o[a++]=t[l]+s,o[a++]=t[l+1]+r;for(let e=l+2;e<l+n;++e)o[a++]=t[e]}return o&&o.length!=a&&(o.length=a),o}i.d(e,{Iu:()=>o,U1:()=>s,bA:()=>r,vT:()=>n})},177:(t,e,i)=>{"use strict";i.d(e,{G$:()=>r,Id:()=>l,MP:()=>a,Tp:()=>h,V:()=>s,bM:()=>c,tK:()=>o});const n="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",s=n.includes("firefox"),r=(n.includes("safari")&&!n.includes("chrom")&&(n.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(n)),n.includes("webkit")&&!n.includes("edge")),o=n.includes("macintosh"),a="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,l="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,h="undefined"!=typeof Image&&Image.prototype.decode,c=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},947:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h});var n=i(2971),s=i(1912),r=i(4187),o=i(9515),a=i(3983);class l extends n.Z{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"==typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[s.Z.OPACITY]=void 0!==t.opacity?t.opacity:1,(0,o.h)("number"==typeof e[s.Z.OPACITY],64),e[s.Z.VISIBLE]=void 0===t.visible||t.visible,e[s.Z.Z_INDEX]=t.zIndex,e[s.Z.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[s.Z.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,e[s.Z.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,e[s.Z.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},i=this.getZIndex();return e.opacity=(0,a.uZ)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==i||e.managed?i:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return(0,r.O3)()}getLayerStatesArray(t){return(0,r.O3)()}getExtent(){return this.get(s.Z.EXTENT)}getMaxResolution(){return this.get(s.Z.MAX_RESOLUTION)}getMinResolution(){return this.get(s.Z.MIN_RESOLUTION)}getMinZoom(){return this.get(s.Z.MIN_ZOOM)}getMaxZoom(){return this.get(s.Z.MAX_ZOOM)}getOpacity(){return this.get(s.Z.OPACITY)}getSourceState(){return(0,r.O3)()}getVisible(){return this.get(s.Z.VISIBLE)}getZIndex(){return this.get(s.Z.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(s.Z.EXTENT,t)}setMaxResolution(t){this.set(s.Z.MAX_RESOLUTION,t)}setMinResolution(t){this.set(s.Z.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(s.Z.MAX_ZOOM,t)}setMinZoom(t){this.set(s.Z.MIN_ZOOM,t)}setOpacity(t){(0,o.h)("number"==typeof t,64),this.set(s.Z.OPACITY,t)}setVisible(t){this.set(s.Z.VISIBLE,t)}setZIndex(t){this.set(s.Z.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const h=l},1295:(t,e,i)=>{"use strict";i.d(e,{Z:()=>u,j:()=>c});var n=i(947),s=i(5487),r=i(1912),o=i(8771),a=i(9515),l=i(5818);class h extends n.Z{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(r.Z.SOURCE,this.handleSourcePropertyChange_);const i=t.source?t.source:null;this.setSource(i)}getLayersArray(t){return(t=t||[]).push(this),t}getLayerStatesArray(t){return(t=t||[]).push(this.getLayerState()),t}getSource(){return this.get(r.Z.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,l.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=(0,l.oL)(t,s.Z.CHANGE,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}render(t,e){const i=this.getRenderer();if(i.prepareFrame(t))return this.rendered=!0,i.renderFrame(t,e)}unrender(){this.rendered=!1}setMapInternal(t){t||this.unrender(),this.set(r.Z.MAP,t)}getMapInternal(){return this.get(r.Z.MAP)}setMap(t){this.mapPrecomposeKey_&&((0,l.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,l.bN)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,l.oL)(t,o.Z.PRECOMPOSE,(function(t){const e=t.frameState.layerStatesArray,i=this.getLayerState(!1);(0,a.h)(!e.some((function(t){return t.layer===i.layer})),67),e.push(i)}),this),this.mapRenderKey_=(0,l.oL)(this,s.Z.CHANGE,t.render,t),this.changed())}setSource(t){this.set(r.Z.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function c(t,e){if(!t.visible)return!1;const i=e.resolution;if(i<t.minResolution||i>=t.maxResolution)return!1;const n=e.zoom;return n>t.minZoom&&n<=t.maxZoom}const u=h},1912:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},2479:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});var n=i(1295),s=i(8280);class r extends n.Z{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}getPreload(){return this.get(s.Z.PRELOAD)}setPreload(t){this.set(s.Z.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(s.Z.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(s.Z.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}const o=r;var a=i(4708);const l=class extends o{constructor(t){super(t)}createRenderer(){return new a.Z(this)}}},8280:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},9731:(t,e,i)=>{"use strict";i.d(e,{Z:()=>Ft});var n=i(1295),s=i(2582),r=i(7539),o=i(283),a=i(1345),l=i(5487),h=i(553),c=i(8443),u=i(9706),d=i(9515),g=i(208),_=i(8326),f=i(2710),p=i(8096);let m=null;class v extends g.Z{constructor(t,e,i,n,s,r){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=n,this.canvas_={},this.color_=r,this.unlisten_=null,this.imageState_=s,this.size_=i,this.src_=e,this.tainted_}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===h.Z.LOADED){m||(m=(0,_.E4)(1,1,void 0,{willReadFrequently:!0})),m.drawImage(this.image_,0,0);try{m.getImageData(0,0,1,1),this.tainted_=!1}catch(t){m=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(l.Z.CHANGE)}handleImageError_(){this.imageState_=h.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=h.Z.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],i=(0,_.E4)(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===h.Z.IDLE){this.image_||this.initializeImage_(),this.imageState_=h.Z.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=(0,p.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==h.Z.LOADED)return;const e=this.image_,i=document.createElement("canvas");i.width=Math.ceil(e.width*t),i.height=Math.ceil(e.height*t);const n=i.getContext("2d");n.scale(t,t),n.drawImage(e,0,0),n.globalCompositeOperation="multiply",n.fillStyle=(0,u.XC)(this.color_),n.fillRect(0,0,i.width/t,i.height/t),n.globalCompositeOperation="destination-in",n.drawImage(e,0,0),this.canvas_[t]=i}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}var y=i(4187);class x extends c.Z{constructor(t){const e=void 0!==(t=t||{}).opacity?t.opacity:1,i=void 0!==t.rotation?t.rotation:0,n=void 0!==t.scale?t.scale:1,s=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:i,scale:n,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:s,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const r=void 0!==t.img?t.img:null;this.imgSize_=t.imgSize;let o=t.src;(0,d.h)(!(void 0!==o&&r),4),(0,d.h)(!r||r&&this.imgSize_,5),void 0!==o&&0!==o.length||!r||(o=r.src||(0,y.sq)(r)),(0,d.h)(void 0!==o&&o.length>0,6),(0,d.h)(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),69);const a=void 0!==t.src?h.Z.IDLE:h.Z.LOADED;if(this.color_=void 0!==t.color?(0,u._2)(t.color):null,this.iconImage_=function(t,e,i,n,s,r){let o=f.c.get(e,n,r);return o||(o=new v(t,e,i,n,s,r),f.c.set(e,n,r,o)),o}(r,o,void 0!==this.imgSize_?this.imgSize_:null,this.crossOrigin_,a,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,this.width_=t.width,this.height_=t.height,void 0!==this.width_||void 0!==this.height_){const t=this.getImage(1),e=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};t.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):t.addEventListener("load",e)}}clone(){const t=this.getScale();return new x({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(t,e){const i=this.getImage(1);void 0!==t&&void 0!==e?super.setScale([t/i.width,e/i.height]):void 0!==t?super.setScale([t/i.width,t/i.width]):void 0!==e?super.setScale([e/i.height,e/i.height]):super.setScale([1,1])}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),i=this.getScaleArray();return[t[0]-e[0]/i[0],t[1]+e[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=i[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(t){this.width_=t,this.updateScaleFromWidthAndHeight(t,this.height_)}setHeight(t){this.height_=t,this.updateScaleFromWidthAndHeight(this.width_,t)}setScale(t){super.setScale(t);const e=this.getImage(1);if(e){const i=Array.isArray(t)?t[0]:t;void 0!==i&&(this.width_=i*e.width);const n=Array.isArray(t)?t[1]:t;void 0!==n&&(this.height_=n*e.height)}}listenImageChange(t){this.iconImage_.addEventListener(l.Z.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(l.Z.CHANGE,t)}}const w=x;var S=i(5393),E=i(8958),b=i(1280);function C(t){return new r.ZP({fill:T(t,""),stroke:R(t,""),text:I(t),image:k(t)})}function T(t,e){const i=t[e+"fill-color"];if(i)return new a.Z({color:i})}function R(t,e){const i=t[e+"stroke-width"],n=t[e+"stroke-color"];if(i||n)return new E.Z({width:i,color:n,lineCap:t[e+"stroke-line-cap"],lineJoin:t[e+"stroke-line-join"],lineDash:t[e+"stroke-line-dash"],lineDashOffset:t[e+"stroke-line-dash-offset"],miterLimit:t[e+"stroke-miter-limit"]})}function I(t){const e=t["text-value"];if(e)return new b.Z({text:e,font:t["text-font"],maxAngle:t["text-max-angle"],offsetX:t["text-offset-x"],offsetY:t["text-offset-y"],overflow:t["text-overflow"],placement:t["text-placement"],scale:t["text-scale"],rotateWithView:t["text-rotate-with-view"],rotation:t["text-rotation"],textAlign:t["text-align"],justify:t["text-justify"],textBaseline:t["text-baseline"],padding:t["text-padding"],fill:T(t,"text-"),backgroundFill:T(t,"text-background-"),stroke:R(t,"text-"),backgroundStroke:R(t,"text-background-")})}function k(t){const e=t["icon-src"],i=t["icon-img"];if(e||i)return new w({src:e,img:i,imgSize:t["icon-img-size"],anchor:t["icon-anchor"],anchorOrigin:t["icon-anchor-origin"],anchorXUnits:t["icon-anchor-x-units"],anchorYUnits:t["icon-anchor-y-units"],color:t["icon-color"],crossOrigin:t["icon-cross-origin"],offset:t["icon-offset"],displacement:t["icon-displacement"],opacity:t["icon-opacity"],scale:t["icon-scale"],rotation:t["icon-rotation"],rotateWithView:t["icon-rotate-with-view"],size:t["icon-size"],declutterMode:t["icon-declutter-mode"]});const n=t["shape-points"];if(n){const e="shape-";return new S.Z({points:n,fill:T(t,e),stroke:R(t,e),radius:t["shape-radius"],radius1:t["shape-radius1"],radius2:t["shape-radius2"],angle:t["shape-angle"],displacement:t["shape-displacement"],rotation:t["shape-rotation"],rotateWithView:t["shape-rotate-with-view"],scale:t["shape-scale"],declutterMode:t["shape-declutter-mode"]})}const s=t["circle-radius"];if(s){const e="circle-";return new o.Z({radius:s,fill:T(t,e),stroke:R(t,e),displacement:t["circle-displacement"],scale:t["circle-scale"],rotation:t["circle-rotation"],rotateWithView:t["circle-rotate-with-view"],declutterMode:t["circle-declutter-mode"]})}}const M="renderOrder";class L extends n.Z{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=void 0!==t.declutter&&t.declutter,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(M)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t){t.declutterTree||(t.declutterTree=new s(9)),this.getRenderer().renderDeclutter(t)}setRenderOrder(t){this.set(M,t)}setStyle(t){let e;if(void 0===t)e=r.yF;else if(null===t)e=null;else if("function"==typeof t)e=t;else if(t instanceof r.ZP)e=t;else if(Array.isArray(t)){const i=t.length,n=new Array(i);for(let e=0;e<i;++e){const i=t[e];i instanceof r.ZP?n[e]=i:n[e]=C(i)}e=n}else e=C(t);this.style_=e,this.styleFunction_=null===t?void 0:(0,r.J$)(this.style_),this.changed()}}const P=L,O={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},A=[O.FILL],Z=[O.STROKE],F=[O.BEGIN_PATH],D=[O.CLOSE_PATH],z=O;var N=i(8716);const G=class{drawCustom(t,e,i,n){}drawGeometry(t){}setStyle(t){}drawCircle(t,e){}drawFeature(t,e){}drawGeometryCollection(t,e){}drawLineString(t,e){}drawMultiLineString(t,e){}drawMultiPoint(t,e){}drawMultiPolygon(t,e){}drawPoint(t,e){}drawPolygon(t,e){}drawText(t,e){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}};var B=i(6620),W=i(8641),j=i(147),U=i(5537),Y=i(9241);const V=class extends G{constructor(t,e,i,n){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))}appendFlatPointCoordinates(t,e){const i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,s=this.coordinates;let r=s.length;for(let o=0,a=t.length;o<a;o+=e)n[0]=t[o],n[1]=t[o+1],(0,W.b8)(i,n)&&(s[r++]=n[0],s[r++]=n[1]);return r}appendFlatLineCoordinates(t,e,i,n,s,r){const o=this.coordinates;let a=o.length;const l=this.getBufferedMaxExtent();r&&(e+=n);let h=t[e],c=t[e+1];const u=this.tmpCoordinate_;let d,g,_,f=!0;for(d=e+n;d<i;d+=n)u[0]=t[d],u[1]=t[d+1],_=(0,W.pX)(l,u),_!==g?(f&&(o[a++]=h,o[a++]=c,f=!1),o[a++]=u[0],o[a++]=u[1]):_===N.Z.INTERSECTING?(o[a++]=u[0],o[a++]=u[1],f=!1):f=!0,h=u[0],c=u[1],g=_;return(s&&f||d===e+n)&&(o[a++]=h,o[a++]=c),a}drawCustomCoordinates_(t,e,i,n,s){for(let r=0,o=i.length;r<o;++r){const o=i[r],a=this.appendFlatLineCoordinates(t,e,o,n,!1,!1);s.push(a),e=o}return e}drawCustom(t,e,i,n){this.beginGeometry(t,e);const s=t.getType(),r=t.getStride(),o=this.coordinates.length;let a,l,h,c,u;switch(s){case"MultiPolygon":a=t.getOrientedFlatCoordinates(),c=[];const e=t.getEndss();u=0;for(let t=0,i=e.length;t<i;++t){const i=[];u=this.drawCustomCoordinates_(a,u,e[t],r,i),c.push(i)}this.instructions.push([z.CUSTOM,o,c,t,i,Y.ug]),this.hitDetectionInstructions.push([z.CUSTOM,o,c,t,n||i,Y.ug]);break;case"Polygon":case"MultiLineString":h=[],a="Polygon"==s?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),u=this.drawCustomCoordinates_(a,0,t.getEnds(),r,h),this.instructions.push([z.CUSTOM,o,h,t,i,Y.o1]),this.hitDetectionInstructions.push([z.CUSTOM,o,h,t,n||i,Y.o1]);break;case"LineString":case"Circle":a=t.getFlatCoordinates(),l=this.appendFlatLineCoordinates(a,0,a.length,r,!1,!1),this.instructions.push([z.CUSTOM,o,l,t,i,Y.Ml]),this.hitDetectionInstructions.push([z.CUSTOM,o,l,t,n||i,Y.Ml]);break;case"MultiPoint":a=t.getFlatCoordinates(),l=this.appendFlatPointCoordinates(a,r),l>o&&(this.instructions.push([z.CUSTOM,o,l,t,i,Y.Ml]),this.hitDetectionInstructions.push([z.CUSTOM,o,l,t,n||i,Y.Ml]));break;case"Point":a=t.getFlatCoordinates(),this.coordinates.push(a[0],a[1]),l=this.coordinates.length,this.instructions.push([z.CUSTOM,o,l,t,i]),this.hitDetectionInstructions.push([z.CUSTOM,o,l,t,n||i])}this.endGeometry(e)}beginGeometry(t,e){this.beginGeometryInstruction1_=[z.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[z.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let e;t.reverse();const i=t.length;let n,s,r=-1;for(e=0;e<i;++e)n=t[e],s=n[0],s==z.END_GEOMETRY?r=e:s==z.BEGIN_GEOMETRY&&(n[2]=e,(0,U.FZ)(this.hitDetectionInstructions,r,e),r=-1)}setFillStrokeStyle(t,e){const i=this.state;if(t){const e=t.getColor();i.fillStyle=(0,B.y)(e||j.bL)}else i.fillStyle=void 0;if(e){const t=e.getColor();i.strokeStyle=(0,B.y)(t||j.Tx);const n=e.getLineCap();i.lineCap=void 0!==n?n:j.mb;const s=e.getLineDash();i.lineDash=s?s.slice():j.X9;const r=e.getLineDashOffset();i.lineDashOffset=r||j.He;const o=e.getLineJoin();i.lineJoin=void 0!==o?o:j.rc;const a=e.getWidth();i.lineWidth=void 0!==a?a:j.yC;const l=e.getMiterLimit();i.miterLimit=void 0!==l?l:j.V4,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(t){const e=t.fillStyle,i=[z.SET_FILL_STYLE,e];return"string"!=typeof e&&i.push(!0),i}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[z.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)}updateStrokeStyle(t,e){const i=t.strokeStyle,n=t.lineCap,s=t.lineDash,r=t.lineDashOffset,o=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=n||s!=t.currentLineDash&&!(0,U.fS)(t.currentLineDash,s)||t.currentLineDashOffset!=r||t.currentLineJoin!=o||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=s,t.currentLineDashOffset=r,t.currentLineJoin=o,t.currentLineWidth=a,t.currentMiterLimit=l)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[z.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,W.d9)(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;(0,W.f3)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}};var X=i(226);const K=class extends V{constructor(t,e,i,n){super(t,e,i,n)}drawFlatCoordinatess_(t,e,i,n){const s=this.state,r=void 0!==s.fillStyle,o=void 0!==s.strokeStyle,a=i.length;this.instructions.push(F),this.hitDetectionInstructions.push(F);for(let s=0;s<a;++s){const r=i[s],a=this.coordinates.length,l=this.appendFlatLineCoordinates(t,e,r,n,!0,!o),h=[z.MOVE_TO_LINE_TO,a,l];this.instructions.push(h),this.hitDetectionInstructions.push(h),o&&(this.instructions.push(D),this.hitDetectionInstructions.push(D)),e=r}return r&&(this.instructions.push(A),this.hitDetectionInstructions.push(A)),o&&(this.instructions.push(Z),this.hitDetectionInstructions.push(Z)),e}drawCircle(t,e){const i=this.state,n=i.fillStyle,s=i.strokeStyle;if(void 0===n&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([z.SET_FILL_STYLE,j.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const r=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length;this.appendFlatLineCoordinates(r,0,r.length,o,!1,!1);const l=[z.CIRCLE,a];this.instructions.push(F,l),this.hitDetectionInstructions.push(F,l),void 0!==i.fillStyle&&(this.instructions.push(A),this.hitDetectionInstructions.push(A)),void 0!==i.strokeStyle&&(this.instructions.push(Z),this.hitDetectionInstructions.push(Z)),this.endGeometry(e)}drawPolygon(t,e){const i=this.state,n=i.fillStyle,s=i.strokeStyle;if(void 0===n&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([z.SET_FILL_STYLE,j.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const r=t.getEnds(),o=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(o,0,r,a),this.endGeometry(e)}drawMultiPolygon(t,e){const i=this.state,n=i.fillStyle,s=i.strokeStyle;if(void 0===n&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([z.SET_FILL_STYLE,j.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const r=t.getEndss(),o=t.getOrientedFlatCoordinates(),a=t.getStride();let l=0;for(let t=0,e=r.length;t<e;++t)l=this.drawFlatCoordinatess_(o,l,r[t],a);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let i=0,n=e.length;i<n;++i)e[i]=(0,X.uZ)(e[i],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}};function H(t,e,i,n,s){let r,o,a,l,h,c,u,d,g,_,f=i,p=i,m=0,v=0,y=i;for(o=i;o<n;o+=s){const i=e[o],n=e[o+1];void 0!==h&&(g=i-h,_=n-c,l=Math.sqrt(g*g+_*_),void 0!==u&&(v+=a,r=Math.acos((u*g+d*_)/(a*l)),r>t&&(v>m&&(m=v,f=y,p=o),v=0,y=o-s)),a=l,u=g,d=_),h=i,c=n}return v+=l,v>m?[y,o]:[f,p]}const q={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},J={Circle:K,Default:V,Image:class extends V{constructor(t,e,i,n){super(t,e,i,n),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const i=t.getFlatCoordinates(),n=t.getStride(),s=this.coordinates.length,r=this.appendFlatPointCoordinates(i,n);this.instructions.push([z.DRAW_IMAGE,s,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([z.DRAW_IMAGE,s,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const i=t.getFlatCoordinates(),n=t.getStride(),s=this.coordinates.length,r=this.appendFlatPointCoordinates(i,n);this.instructions.push([z.DRAW_IMAGE,s,r,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([z.DRAW_IMAGE,s,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const i=t.getAnchor(),n=t.getSize(),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=n[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}},LineString:class extends V{constructor(t,e,i,n){super(t,e,i,n)}drawFlatCoordinates_(t,e,i,n){const s=this.coordinates.length,r=this.appendFlatLineCoordinates(t,e,i,n,!1,!1),o=[z.MOVE_TO_LINE_TO,s,r];return this.instructions.push(o),this.hitDetectionInstructions.push(o),i}drawLineString(t,e){const i=this.state,n=i.strokeStyle,s=i.lineWidth;if(void 0===n||void 0===s)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,j.X9,j.He],F);const r=t.getFlatCoordinates(),o=t.getStride();this.drawFlatCoordinates_(r,0,r.length,o),this.hitDetectionInstructions.push(Z),this.endGeometry(e)}drawMultiLineString(t,e){const i=this.state,n=i.strokeStyle,s=i.lineWidth;if(void 0===n||void 0===s)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],F);const r=t.getEnds(),o=t.getFlatCoordinates(),a=t.getStride();let l=0;for(let t=0,e=r.length;t<e;++t)l=this.drawFlatCoordinates_(o,l,r[t],a);this.hitDetectionInstructions.push(Z),this.endGeometry(e)}finish(){const t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Z),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(Z),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(F)}},Polygon:K,Text:class extends V{constructor(t,e,i,n){super(t,e,i,n),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e){const i=this.textFillState_,n=this.textStrokeState_,s=this.textState_;if(""===this.text_||!s||!i&&!n)return;const r=this.coordinates;let o=r.length;const a=t.getType();let l=null,h=t.getStride();if("line"!==s.placement||"LineString"!=a&&"MultiLineString"!=a&&"Polygon"!=a&&"MultiPolygon"!=a){let i=s.overflow?null:[];switch(a){case"Point":case"MultiPoint":l=t.getFlatCoordinates();break;case"LineString":l=t.getFlatMidpoint();break;case"Circle":l=t.getCenter();break;case"MultiLineString":l=t.getFlatMidpoints(),h=2;break;case"Polygon":l=t.getFlatInteriorPoint(),s.overflow||i.push(l[2]/this.resolution),h=3;break;case"MultiPolygon":const e=t.getFlatInteriorPoints();l=[];for(let t=0,n=e.length;t<n;t+=3)s.overflow||i.push(e[t+2]/this.resolution),l.push(e[t],e[t+1]);if(0===l.length)return;h=2}const n=this.appendFlatPointCoordinates(l,h);if(n===o)return;if(i&&(n-o)/2!=l.length/h){let t=o/2;i=i.filter(((e,i)=>{const n=r[2*(t+i)]===l[i*h]&&r[2*(t+i)+1]===l[i*h+1];return n||--t,n}))}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);let c=s.padding;if(c!=j.oB&&(s.scale[0]<0||s.scale[1]<0)){let t=s.padding[0],e=s.padding[1],i=s.padding[2],n=s.padding[3];s.scale[0]<0&&(e=-e,n=-n),s.scale[1]<0&&(t=-t,i=-i),c=[t,e,i,n]}const u=this.pixelRatio;this.instructions.push([z.DRAW_IMAGE,o,n,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,c==j.oB?j.oB:c.map((function(t){return t*u})),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]);const d=1/u;this.hitDetectionInstructions.push([z.DRAW_IMAGE,o,n,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[d,d],NaN,void 0,this.declutterImageWithText_,c,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]),this.endGeometry(e)}else{if(!(0,W.kK)(this.getBufferedMaxExtent(),t.getExtent()))return;let i;if(l=t.getFlatCoordinates(),"LineString"==a)i=[l.length];else if("MultiLineString"==a)i=t.getEnds();else if("Polygon"==a)i=t.getEnds().slice(0,1);else if("MultiPolygon"==a){const e=t.getEndss();i=[];for(let t=0,n=e.length;t<n;++t)i.push(e[t][0])}this.beginGeometry(t,e);const n=s.textAlign;let c,u=0;for(let t=0,e=i.length;t<e;++t){if(null==n){const e=H(s.maxAngle,l,u,i[t],h);u=e[0],c=e[1]}else c=i[t];for(let t=u;t<c;t+=h)r.push(l[t],l[t+1]);const e=r.length;u=i[t],this.drawChars_(o,e),o=e}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,n=this.strokeKey_;t&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:e.font,textAlign:e.textAlign||j.PH,justify:e.justify,textBaseline:e.textBaseline||j.ru,scale:e.scale});const r=this.fillKey_;i&&(r in this.fillStates||(this.fillStates[r]={fillStyle:i.fillStyle}))}drawChars_(t,e){const i=this.textStrokeState_,n=this.textState_,s=this.strokeKey_,r=this.textKey_,o=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,l=q[n.textBaseline],h=this.textOffsetY_*a,c=this.text_,u=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([z.DRAW_CHARS,t,e,l,n.overflow,o,n.maxAngle,a,h,s,u*a,c,r,1]),this.hitDetectionInstructions.push([z.DRAW_CHARS,t,e,l,n.overflow,o,n.maxAngle,1,h,s,u,c,r,1/a])}setTextStyle(t,e){let i,n,s;if(t){const e=t.getFill();e?(n=this.textFillState_,n||(n={},this.textFillState_=n),n.fillStyle=(0,B.y)(e.getColor()||j.bL)):(n=null,this.textFillState_=n);const r=t.getStroke();if(r){s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const t=r.getLineDash(),e=r.getLineDashOffset(),i=r.getWidth(),n=r.getMiterLimit();s.lineCap=r.getLineCap()||j.mb,s.lineDash=t?t.slice():j.X9,s.lineDashOffset=void 0===e?j.He:e,s.lineJoin=r.getLineJoin()||j.rc,s.lineWidth=void 0===i?j.yC:i,s.miterLimit=void 0===n?j.V4:n,s.strokeStyle=(0,B.y)(r.getColor()||j.Tx)}else s=null,this.textStrokeState_=s;i=this.textState_;const o=t.getFont()||j.Df;(0,j.Qx)(o);const a=t.getScaleArray();i.overflow=t.getOverflow(),i.font=o,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||j.ru,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||j.oB,i.scale=void 0===a?[1,1]:a;const l=t.getOffsetX(),h=t.getOffsetY(),c=t.getRotateWithView(),u=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===l?0:l,this.textOffsetY_=void 0===h?0:h,this.textRotateWithView_=void 0!==c&&c,this.textRotation_=void 0===u?0:u,this.strokeKey_=s?("string"==typeof s.strokeStyle?s.strokeStyle:(0,y.sq)(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+(0,y.sq)(n.fillStyle):""}else this.text_="";this.declutterImageWithText_=e}}},$=class{constructor(t,e,i,n){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const i=this.buildersByZIndex_[e];for(const n in i){const s=i[n].finish();t[e][n]=s}}return t}getBuilder(t,e){const i=void 0!==t?t.toString():"0";let n=this.buildersByZIndex_[i];void 0===n&&(n={},this.buildersByZIndex_[i]=n);let s=n[e];return void 0===s&&(s=new(0,J[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=s),s}};var Q=i(6101),tt=i(3983),et=i(6442);function it(t,e,i,n,s,r,o,a,l,h,c,u){let d=t[e],g=t[e+1],_=0,f=0,p=0,m=0;function v(){_=d,f=g,d=t[e+=n],g=t[e+1],m+=p,p=Math.sqrt((d-_)*(d-_)+(g-f)*(g-f))}do{v()}while(e<i-n&&m+p<r);let y=0===p?0:(r-m)/p;const x=(0,tt.t7)(_,d,y),w=(0,tt.t7)(f,g,y),S=e-n,E=m,b=r+a*l(h,s,c);for(;e<i-n&&m+p<b;)v();y=0===p?0:(b-m)/p;const C=(0,tt.t7)(_,d,y),T=(0,tt.t7)(f,g,y);let R;if(u){const t=[x,w,C,T];(0,et.U1)(t,0,4,2,u,t,t),R=t[0]>t[2]}else R=x>C;const I=Math.PI,k=[],M=S+n===e;let L;if(p=0,m=E,d=t[e=S],g=t[e+1],M){v(),L=Math.atan2(g-f,d-_),R&&(L+=L>0?-I:I);const t=(C+x)/2,e=(T+w)/2;return k[0]=[t,e,(b-r)/2,L,s],k}for(let t=0,u=(s=s.replace(/\n/g," ")).length;t<u;){v();let x=Math.atan2(g-f,d-_);if(R&&(x+=x>0?-I:I),void 0!==L){let t=x-L;if(t+=t>I?-2*I:t<-I?2*I:0,Math.abs(t)>o)return null}L=x;const w=t;let S=0;for(;t<u;++t){const o=a*l(h,s[R?u-t-1:t],c);if(e+n<i&&m+p<r+S+o/2)break;S+=o}if(t===w)continue;const E=R?s.substring(u-w,u-t):s.substring(w,t);y=0===p?0:(r+S/2-m)/p;const b=(0,tt.t7)(_,d,y),C=(0,tt.t7)(f,g,y);k.push([b,C,S/2,x,E]),r+=S}return k}function nt(t,e,i,n){let s=t[e],r=t[e+1],o=0;for(let a=e+n;a<i;a+=n){const e=t[a],i=t[a+1];o+=Math.sqrt((e-s)*(e-s)+(i-r)*(i-r)),s=e,r=i}return o}const st=(0,W.lJ)(),rt=[],ot=[],at=[],lt=[];function ht(t){return t[3].declutterBox}const ct=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function ut(t,e){return"start"!==e&&"end"!==e||ct.test(t)||(e="start"===e?"left":"right"),q[e]}function dt(t,e,i){return i>0&&t.push("\n",""),t.push(e,""),t}const gt=class{constructor(t,e,i,n){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,Q.Ue)(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}createLabel(t,e,i,n){const s=t+e+i+n;if(this.labels_[s])return this.labels_[s];const r=n?this.strokeStates[n]:null,o=i?this.fillStates[i]:null,a=this.textStates[e],l=this.pixelRatio,h=[a.scale[0]*l,a.scale[1]*l],c=Array.isArray(t),u=a.justify?q[a.justify]:ut(Array.isArray(t)?t[0]:t,a.textAlign||j.PH),d=n&&r.lineWidth?r.lineWidth:0,g=c?t:t.split("\n").reduce(dt,[]),{width:_,height:f,widths:p,heights:m,lineWidths:v}=(0,j.Zw)(a,g),y=_+d,x=[],w=(y+2)*h[0],S=(f+d)*h[1],E={width:w<0?Math.floor(w):Math.ceil(w),height:S<0?Math.floor(S):Math.ceil(S),contextInstructions:x};1==h[0]&&1==h[1]||x.push("scale",h),n&&(x.push("strokeStyle",r.strokeStyle),x.push("lineWidth",d),x.push("lineCap",r.lineCap),x.push("lineJoin",r.lineJoin),x.push("miterLimit",r.miterLimit),x.push("setLineDash",[r.lineDash]),x.push("lineDashOffset",r.lineDashOffset)),i&&x.push("fillStyle",o.fillStyle),x.push("textBaseline","middle"),x.push("textAlign","center");const b=.5-u;let C=u*y+b*d;const T=[],R=[];let I,k=0,M=0,L=0,P=0;for(let t=0,e=g.length;t<e;t+=2){const e=g[t];if("\n"===e){M+=k,k=0,C=u*y+b*d,++P;continue}const s=g[t+1]||a.font;s!==I&&(n&&T.push("font",s),i&&R.push("font",s),I=s),k=Math.max(k,m[L]);const r=[e,C+b*p[L]+u*(p[L]-v[P]),.5*(d+k)+M];C+=p[L],n&&T.push("strokeText",r),i&&R.push("fillText",r),++L}return Array.prototype.push.apply(x,T),Array.prototype.push.apply(x,R),this.labels_[s]=E,E}replayTextBackground_(t,e,i,n,s,r,o){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,s),t.lineTo.apply(t,e),r&&(this.alignFill_=r[2],this.fill_(t)),o&&(this.setStrokeStyle_(t,o),t.stroke())}calculateImageOrLabelDimensions_(t,e,i,n,s,r,o,a,l,h,c,u,d,g,_,f){let p=i-(o*=u[0]),m=n-(a*=u[1]);const v=s+l>t?t-l:s,y=r+h>e?e-h:r,x=g[3]+v*u[0]+g[1],w=g[0]+y*u[1]+g[2],S=p-g[3],E=m-g[0];let b;return(_||0!==c)&&(rt[0]=S,lt[0]=S,rt[1]=E,ot[1]=E,ot[0]=S+x,at[0]=ot[0],at[1]=E+w,lt[1]=at[1]),0!==c?(b=(0,Q.qC)((0,Q.Ue)(),i,n,1,1,c,-i,-n),(0,Q.nn)(b,rt),(0,Q.nn)(b,ot),(0,Q.nn)(b,at),(0,Q.nn)(b,lt),(0,W.T9)(Math.min(rt[0],ot[0],at[0],lt[0]),Math.min(rt[1],ot[1],at[1],lt[1]),Math.max(rt[0],ot[0],at[0],lt[0]),Math.max(rt[1],ot[1],at[1],lt[1]),st)):(0,W.T9)(Math.min(S,S+x),Math.min(E,E+w),Math.max(S,S+x),Math.max(E,E+w),st),d&&(p=Math.round(p),m=Math.round(m)),{drawImageX:p,drawImageY:m,drawImageW:v,drawImageH:y,originX:l,originY:h,declutterBox:{minX:st[0],minY:st[1],maxX:st[2],maxY:st[3],value:f},canvasTransform:b,scale:u}}replayImageOrLabel_(t,e,i,n,s,r,o){const a=!(!r&&!o),l=n.declutterBox,h=t.canvas,c=o?o[2]*n.scale[0]/2:0;return l.minX-c<=h.width/e&&l.maxX+c>=0&&l.minY-c<=h.height/e&&l.maxY+c>=0&&(a&&this.replayTextBackground_(t,rt,ot,at,lt,r,o),(0,j._f)(t,n.canvasTransform,s,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0}fill_(t){if(this.alignFill_){const e=(0,Q.nn)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,i,n){const s=this.textStates[e],r=this.createLabel(t,e,n,i),o=this.strokeStates[i],a=this.pixelRatio,l=ut(Array.isArray(t)?t[0]:t,s.textAlign||j.PH),h=q[s.textBaseline||j.ru],c=o&&o.lineWidth?o.lineWidth:0;return{label:r,anchorX:l*(r.width/a-2*s.scale[0])+2*(.5-l)*c,anchorY:h*r.height/a+2*(.5-h)*c}}execute_(t,e,i,n,s,r,o,a){let l;this.pixelCoordinates_&&(0,U.fS)(i,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=(0,et.vT)(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),(0,Q.lk)(this.renderedTransform_,i));let h=0;const c=n.length;let u,d,g,_,f,p,m,v,y,x,w,S,E=0,b=0,C=0,T=null,R=null;const I=this.coordinateCache_,k=this.viewRotation_,M=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,L={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:k},P=this.instructions!=n||this.overlaps?0:200;let O,A,Z,F;for(;h<c;){const i=n[h];switch(i[0]){case z.BEGIN_GEOMETRY:O=i[1],F=i[3],O.getGeometry()?void 0===o||(0,W.kK)(o,F.getExtent())?++h:h=i[2]+1:h=i[2];break;case z.BEGIN_PATH:b>P&&(this.fill_(t),b=0),C>P&&(t.stroke(),C=0),b||C||(t.beginPath(),_=NaN,f=NaN),++h;break;case z.CIRCLE:E=i[1];const n=l[E],c=l[E+1],D=l[E+2]-n,N=l[E+3]-c,G=Math.sqrt(D*D+N*N);t.moveTo(n+G,c),t.arc(n,c,G,0,2*Math.PI,!0),++h;break;case z.CLOSE_PATH:t.closePath(),++h;break;case z.CUSTOM:E=i[1],u=i[2];const B=i[3],U=i[4],Y=6==i.length?i[5]:void 0;L.geometry=B,L.feature=O,h in I||(I[h]=[]);const V=I[h];Y?Y(l,E,u,2,V):(V[0]=l[E],V[1]=l[E+1],V.length=2),U(V,L),++h;break;case z.DRAW_IMAGE:E=i[1],u=i[2],v=i[3],d=i[4],g=i[5];let X=i[6];const K=i[7],H=i[8],J=i[9],$=i[10];let Q=i[11];const tt=i[12];let et=i[13];const st=i[14],rt=i[15];if(!v&&i.length>=20){y=i[19],x=i[20],w=i[21],S=i[22];const t=this.drawLabelWithPointPlacement_(y,x,w,S);v=t.label,i[3]=v;const e=i[23];d=(t.anchorX-e)*this.pixelRatio,i[4]=d;const n=i[24];g=(t.anchorY-n)*this.pixelRatio,i[5]=g,X=v.height,i[6]=X,et=v.width,i[13]=et}let ot,at,lt,ct;i.length>25&&(ot=i[25]),i.length>17?(at=i[16],lt=i[17],ct=i[18]):(at=j.oB,lt=!1,ct=!1),$&&M?Q+=k:$||M||(Q-=k);let ut=0;for(;E<u;E+=2){if(ot&&ot[ut++]<et/this.pixelRatio)continue;const i=this.calculateImageOrLabelDimensions_(v.width,v.height,l[E],l[E+1],et,X,d,g,H,J,Q,tt,s,at,lt||ct,O),n=[t,e,v,i,K,lt?T:null,ct?R:null];if(a){if("none"===st)continue;if("obstacle"===st){a.insert(i.declutterBox);continue}{let t,e;if(rt){const i=u-E;if(!rt[i]){rt[i]=n;continue}if(t=rt[i],delete rt[i],e=ht(t),a.collides(e))continue}if(a.collides(i.declutterBox))continue;t&&(a.insert(e),this.replayImageOrLabel_.apply(this,t)),a.insert(i.declutterBox)}}this.replayImageOrLabel_.apply(this,n)}++h;break;case z.DRAW_CHARS:const dt=i[1],gt=i[2],_t=i[3],ft=i[4];S=i[5];const pt=i[6],mt=i[7],vt=i[8];w=i[9];const yt=i[10];y=i[11],x=i[12];const xt=[i[13],i[13]],wt=this.textStates[x],St=wt.font,Et=[wt.scale[0]*mt,wt.scale[1]*mt];let bt;St in this.widths_?bt=this.widths_[St]:(bt={},this.widths_[St]=bt);const Ct=nt(l,dt,gt,2),Tt=Math.abs(Et[0])*(0,j.Kd)(St,y,bt);if(ft||Tt<=Ct){const i=this.textStates[x].textAlign,n=it(l,dt,gt,2,y,(Ct-Tt)*q[i],pt,Math.abs(Et[0]),j.Kd,St,bt,M?0:this.viewRotation_);t:if(n){const i=[];let s,r,o,l,h;if(w)for(s=0,r=n.length;s<r;++s){h=n[s],o=h[4],l=this.createLabel(o,x,"",w),d=h[2]+(Et[0]<0?-yt:yt),g=_t*l.height+2*(.5-_t)*yt*Et[1]/Et[0]-vt;const r=this.calculateImageOrLabelDimensions_(l.width,l.height,h[0],h[1],l.width,l.height,d,g,0,0,h[3],xt,!1,j.oB,!1,O);if(a&&a.collides(r.declutterBox))break t;i.push([t,e,l,r,1,null,null])}if(S)for(s=0,r=n.length;s<r;++s){h=n[s],o=h[4],l=this.createLabel(o,x,S,""),d=h[2],g=_t*l.height-vt;const r=this.calculateImageOrLabelDimensions_(l.width,l.height,h[0],h[1],l.width,l.height,d,g,0,0,h[3],xt,!1,j.oB,!1,O);if(a&&a.collides(r.declutterBox))break t;i.push([t,e,l,r,1,null,null])}a&&a.load(i.map(ht));for(let t=0,e=i.length;t<e;++t)this.replayImageOrLabel_.apply(this,i[t])}}++h;break;case z.END_GEOMETRY:if(void 0!==r){O=i[1];const t=r(O,F);if(t)return t}++h;break;case z.FILL:P?b++:this.fill_(t),++h;break;case z.MOVE_TO_LINE_TO:for(E=i[1],u=i[2],A=l[E],Z=l[E+1],p=A+.5|0,m=Z+.5|0,p===_&&m===f||(t.moveTo(A,Z),_=p,f=m),E+=2;E<u;E+=2)A=l[E],Z=l[E+1],p=A+.5|0,m=Z+.5|0,E!=u-2&&p===_&&m===f||(t.lineTo(A,Z),_=p,f=m);++h;break;case z.SET_FILL_STYLE:T=i,this.alignFill_=i[2],b&&(this.fill_(t),b=0,C&&(t.stroke(),C=0)),t.fillStyle=i[1],++h;break;case z.SET_STROKE_STYLE:R=i,C&&(t.stroke(),C=0),this.setStrokeStyle_(t,i),++h;break;case z.STROKE:P?C++:t.stroke(),++h;break;default:++h}}b&&this.fill_(t),C&&t.stroke()}execute(t,e,i,n,s,r){this.viewRotation_=n,this.execute_(t,e,i,this.instructions,s,void 0,void 0,r)}executeHitDetection(t,e,i,n,s){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,n,s)}};var _t=i(9374);const ft=["Polygon","Circle","LineString","Image","Text","Default"],pt={},mt=class{constructor(t,e,i,n,s,r){this.maxExtent_=t,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=r,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,Q.Ue)(),this.createExecutors_(s)}clip(t,e){const i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()}createExecutors_(t){for(const e in t){let i=this.executorsByZIndex_[e];void 0===i&&(i={},this.executorsByZIndex_[e]=i);const n=t[e];for(const t in n){const e=n[t];i[t]=new gt(this.resolution_,this.pixelRatio_,this.overlaps_,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const i=this.executorsByZIndex_[e];for(let e=0,n=t.length;e<n;++e)if(t[e]in i)return!0}return!1}forEachFeatureAtCoordinate(t,e,i,n,s,r){const o=2*(n=Math.round(n))+1,a=(0,Q.qC)(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=(0,_.E4)(o,o,void 0,{willReadFrequently:!0}));const h=this.hitDetectionContext_;let c;h.canvas.width!==o||h.canvas.height!==o?(h.canvas.width=o,h.canvas.height=o):l||h.clearRect(0,0,o,o),void 0!==this.renderBuffer_&&(c=(0,W.lJ)(),(0,W.Wj)(c,t),(0,W.f3)(c,e*(this.renderBuffer_+n),c));const u=function(t){if(void 0!==pt[t])return pt[t];const e=2*t+1,i=t*t,n=new Array(i+1);for(let s=0;s<=t;++s)for(let r=0;r<=t;++r){const o=s*s+r*r;if(o>i)break;let a=n[o];a||(a=[],n[o]=a),a.push(4*((t+s)*e+(t+r))+3),s>0&&a.push(4*((t-s)*e+(t+r))+3),r>0&&(a.push(4*((t+s)*e+(t-r))+3),s>0&&a.push(4*((t-s)*e+(t-r))+3))}const s=[];for(let t=0,e=n.length;t<e;++t)n[t]&&s.push(...n[t]);return pt[t]=s,s}(n);let d;function g(t,e){const i=h.getImageData(0,0,o,o).data;for(let a=0,l=u.length;a<l;a++)if(i[u[a]]>0){if(!r||"Image"!==d&&"Text"!==d||r.includes(t)){const i=(u[a]-3)/4,r=n-i%o,l=n-(i/o|0),h=s(t,e,r*r+l*l);if(h)return h}h.clearRect(0,0,o,o);break}}const f=Object.keys(this.executorsByZIndex_).map(Number);let p,m,v,y,x;for(f.sort(U.j2),p=f.length-1;p>=0;--p){const t=f[p].toString();for(v=this.executorsByZIndex_[t],m=ft.length-1;m>=0;--m)if(d=ft[m],y=v[d],void 0!==y&&(x=y.executeHitDetection(h,a,i,g,c),x))return x}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const i=e[0],n=e[1],s=e[2],r=e[3],o=[i,n,i,r,s,r,s,n];return(0,et.vT)(o,0,8,2,t,o),o}isEmpty(){return(0,_t.x)(this.executorsByZIndex_)}execute(t,e,i,n,s,r,o){const a=Object.keys(this.executorsByZIndex_).map(Number);let l,h,c,u,d,g;for(a.sort(U.j2),this.maxExtent_&&(t.save(),this.clip(t,i)),r=r||ft,o&&a.reverse(),l=0,h=a.length;l<h;++l){const h=a[l].toString();for(d=this.executorsByZIndex_[h],c=0,u=r.length;c<u;++c)g=d[r[c]],void 0!==g&&g.execute(t,e,i,n,s,o)}this.maxExtent_&&t.restore()}};var vt=i(4708),yt=i(7195),xt=i(7755),wt=i(6762);const St=class extends G{constructor(t,e,i,n,s,r,o){super(),this.context_=t,this.pixelRatio_=e,this.extent_=i,this.transform_=n,this.transformRotation_=n?(0,tt.FH)(Math.atan2(n[1],n[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=r,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,Q.Ue)()}drawImages_(t,e,i,n){if(!this.image_)return;const s=(0,et.vT)(t,e,i,n,this.transform_,this.pixelCoordinates_),r=this.context_,o=this.tmpLocalTransform_,a=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=a*this.imageOpacity_);let l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(let t=0,e=s.length;t<e;t+=2){const e=s[t]-this.imageAnchorX_,i=s[t+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const t=e+this.imageAnchorX_,n=i+this.imageAnchorY_;(0,Q.qC)(o,t,n,1,1,l,-t,-n),r.setTransform.apply(r,o),r.translate(t,n),r.scale(this.imageScale_[0],this.imageScale_[1]),r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),r.setTransform(1,0,0,1,0,0)}else r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,e,i,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(r.globalAlpha=a)}drawText_(t,e,i,n){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=(0,et.vT)(t,e,i,n,this.transform_,this.pixelCoordinates_),r=this.context_;let o=this.textRotation_;for(0===this.transformRotation_&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);e<i;e+=n){const t=s[e]+this.textOffsetX_,i=s[e+1]+this.textOffsetY_;0!==o||1!=this.textScale_[0]||1!=this.textScale_[1]?(r.translate(t-this.textOffsetX_,i-this.textOffsetY_),r.rotate(o),r.translate(this.textOffsetX_,this.textOffsetY_),r.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&r.strokeText(this.text_,0,0),this.textFillState_&&r.fillText(this.text_,0,0),r.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&r.strokeText(this.text_,t,i),this.textFillState_&&r.fillText(this.text_,t,i))}}moveToLineTo_(t,e,i,n,s){const r=this.context_,o=(0,et.vT)(t,e,i,n,this.transform_,this.pixelCoordinates_);r.moveTo(o[0],o[1]);let a=o.length;s&&(a-=2);for(let t=2;t<a;t+=2)r.lineTo(o[t],o[t+1]);return s&&r.closePath(),i}drawRings_(t,e,i,n){for(let s=0,r=i.length;s<r;++s)e=this.moveToLineTo_(t,e,i[s],n,!0);return e}drawCircle(t){if((0,W.kK)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=(0,wt.Kr)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],s=Math.sqrt(i*i+n*n),r=this.context_;r.beginPath(),r.arc(e[0],e[1],s,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}}drawFeature(t,e){const i=e.getGeometryFunction()(t);i&&(0,W.kK)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let t=0,i=e.length;t<i;++t)this.drawGeometry(e[t])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,W.kK)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if((0,W.kK)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getFlatCoordinates();let n=0;const s=t.getEnds(),r=t.getStride();e.beginPath();for(let t=0,e=s.length;t<e;++t)n=this.moveToLineTo_(i,n,s[t],r,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,W.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,W.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getOrientedFlatCoordinates();let n=0;const s=t.getEndss(),r=t.getStride();e.beginPath();for(let t=0,e=s.length;t<e;++t){const e=s[t];n=this.drawRings_(i,n,e,r)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),(0,U.fS)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:j.PH;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=n&&(i.textAlign=n,e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:(0,B.y)(e||j.bL)}}else this.fillState_=null;if(e){const t=e.getColor(),i=e.getLineCap(),n=e.getLineDash(),s=e.getLineDashOffset(),r=e.getLineJoin(),o=e.getWidth(),a=e.getMiterLimit(),l=n||j.X9;this.strokeState_={lineCap:void 0!==i?i:j.mb,lineDash:1===this.pixelRatio_?l:l.map((t=>t*this.pixelRatio_)),lineDashOffset:(s||j.He)*this.pixelRatio_,lineJoin:void 0!==r?r:j.rc,lineWidth:(void 0!==o?o:j.yC)*this.pixelRatio_,miterLimit:void 0!==a?a:j.V4,strokeStyle:(0,B.y)(t||j.Tx)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize()))return void(this.image_=null);const i=t.getPixelRatio(this.pixelRatio_),n=t.getAnchor(),s=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*i,this.imageAnchorY_=n[1]*i,this.imageHeight_=e[1]*i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const r=t.getScaleArray();this.imageScale_=[r[0]*this.pixelRatio_/i,r[1]*this.pixelRatio_/i],this.imageWidth_=e[0]*i}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:(0,B.y)(t||j.bL)}}else this.textFillState_=null;const i=t.getStroke();if(i){const t=i.getColor(),e=i.getLineCap(),n=i.getLineDash(),s=i.getLineDashOffset(),r=i.getLineJoin(),o=i.getWidth(),a=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:j.mb,lineDash:n||j.X9,lineDashOffset:s||j.He,lineJoin:void 0!==r?r:j.rc,lineWidth:void 0!==o?o:j.yC,miterLimit:void 0!==a?a:j.V4,strokeStyle:(0,B.y)(t||j.Tx)}}else this.textStrokeState_=null;const n=t.getFont(),s=t.getOffsetX(),r=t.getOffsetY(),o=t.getRotateWithView(),a=t.getRotation(),l=t.getScaleArray(),h=t.getText(),c=t.getTextAlign(),u=t.getTextBaseline();this.textState_={font:void 0!==n?n:j.Df,textAlign:void 0!==c?c:j.PH,textBaseline:void 0!==u?u:j.ru},this.text_=void 0!==h?Array.isArray(h)?h.reduce(((t,e,i)=>t+(i%2?" ":e)),""):h:"",this.textOffsetX_=void 0!==s?this.pixelRatio_*s:0,this.textOffsetY_=void 0!==r?this.pixelRatio_*r:0,this.textRotateWithView_=void 0!==o&&o,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*l[0],this.pixelRatio_*l[1]]}else this.text_=""}},Et=.5,bt=.5,Ct={Point:function(t,e,i,n,s){const r=i.getImage(),o=i.getText();let a;if(r){if(r.getImageState()!=h.Z.LOADED)return;let l=t;if(s){const h=r.getDeclutterMode();if("none"!==h)if(l=s,"obstacle"===h){const s=t.getBuilder(i.getZIndex(),"Image");s.setImageStyle(r,a),s.drawPoint(e,n)}else o&&o.getText()&&(a={})}const c=l.getBuilder(i.getZIndex(),"Image");c.setImageStyle(r,a),c.drawPoint(e,n)}if(o&&o.getText()){let r=t;s&&(r=s);const l=r.getBuilder(i.getZIndex(),"Text");l.setTextStyle(o,a),l.drawText(e,n)}},LineString:function(t,e,i,n,s){const r=i.getStroke();if(r){const s=t.getBuilder(i.getZIndex(),"LineString");s.setFillStrokeStyle(null,r),s.drawLineString(e,n)}const o=i.getText();if(o&&o.getText()){const r=(s||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(o),r.drawText(e,n)}},Polygon:function(t,e,i,n,s){const r=i.getFill(),o=i.getStroke();if(r||o){const s=t.getBuilder(i.getZIndex(),"Polygon");s.setFillStrokeStyle(r,o),s.drawPolygon(e,n)}const a=i.getText();if(a&&a.getText()){const r=(s||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,n)}},MultiPoint:function(t,e,i,n,s){const r=i.getImage(),o=i.getText();let a;if(r){if(r.getImageState()!=h.Z.LOADED)return;let l=t;if(s){const h=r.getDeclutterMode();if("none"!==h)if(l=s,"obstacle"===h){const s=t.getBuilder(i.getZIndex(),"Image");s.setImageStyle(r,a),s.drawMultiPoint(e,n)}else o&&o.getText()&&(a={})}const c=l.getBuilder(i.getZIndex(),"Image");c.setImageStyle(r,a),c.drawMultiPoint(e,n)}if(o&&o.getText()){let r=t;s&&(r=s);const l=r.getBuilder(i.getZIndex(),"Text");l.setTextStyle(o,a),l.drawText(e,n)}},MultiLineString:function(t,e,i,n,s){const r=i.getStroke();if(r){const s=t.getBuilder(i.getZIndex(),"LineString");s.setFillStrokeStyle(null,r),s.drawMultiLineString(e,n)}const o=i.getText();if(o&&o.getText()){const r=(s||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(o),r.drawText(e,n)}},MultiPolygon:function(t,e,i,n,s){const r=i.getFill(),o=i.getStroke();if(o||r){const s=t.getBuilder(i.getZIndex(),"Polygon");s.setFillStrokeStyle(r,o),s.drawMultiPolygon(e,n)}const a=i.getText();if(a&&a.getText()){const r=(s||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,n)}},GeometryCollection:function(t,e,i,n,s){const r=e.getGeometriesArray();let o,a;for(o=0,a=r.length;o<a;++o)(0,Ct[r[o].getType()])(t,r[o],i,n,s)},Circle:function(t,e,i,n,s){const r=i.getFill(),o=i.getStroke();if(r||o){const s=t.getBuilder(i.getZIndex(),"Circle");s.setFillStrokeStyle(r,o),s.drawCircle(e,n)}const a=i.getText();if(a&&a.getText()){const r=(s||t).getBuilder(i.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,n)}}};function Tt(t,e){const i=function(t,e){return bt*t/e}(t,e);return i*i}function Rt(t,e,i,n,s,r,o){let a=!1;const l=i.getImage();if(l){const t=l.getImageState();t==h.Z.LOADED||t==h.Z.ERROR?l.unlistenImageChange(s):(t==h.Z.IDLE&&l.load(),l.listenImageChange(s),a=!0)}return function(t,e,i,n,s,r){const o=i.getGeometryFunction()(e);if(!o)return;const a=o.simplifyTransformed(n,s);i.getRenderer()?It(t,a,i,e):(0,Ct[a.getType()])(t,a,i,e,r)}(t,e,i,n,r,o),a}function It(t,e,i,n){if("GeometryCollection"!=e.getType())t.getBuilder(i.getZIndex(),"Default").drawCustom(e,n,i.getRenderer(),i.getHitDetectionRenderer());else{const s=e.getGeometries();for(let e=0,r=s.length;e<r;++e)It(t,s[e],i,n)}}var kt=i(4307),Mt=i(1900);const Lt={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},Pt={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class Ot extends vt.Z{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.tmpTransform_=(0,Q.Ue)()}prepareTile(t,e,i){let n;const s=t.getState();return s!==yt.Z.LOADED&&s!==yt.Z.ERROR||(this.updateExecutorGroup_(t,e,i),this.tileImageNeedsRender_(t)&&(n=!0)),n}getTile(t,e,i,n){const s=n.pixelRatio,r=n.viewState,o=r.resolution,a=r.projection,l=this.getLayer(),h=l.getSource().getTile(t,e,i,s,a),c=n.viewHints,u=!(c[xt.Z.ANIMATING]||c[xt.Z.INTERACTING]);return!u&&h.wantedResolution||(h.wantedResolution=o),this.prepareTile(h,s,a)&&(u||Date.now()-n.time<8)&&"vector"!==l.getRenderMode()&&this.renderTileImage_(h,n),super.getTile(t,e,i,n)}isDrawableTile(t){const e=this.getLayer();return super.isDrawableTile(t)&&("vector"===e.getRenderMode()?(0,y.sq)(e)in t.executorGroups:t.hasContext(e))}getTileImage(t){return t.getImage(this.getLayer())}prepareFrame(t){const e=this.getLayer().getRevision();return this.renderedLayerRevision_!==e&&(this.renderedLayerRevision_=e,this.renderedTiles.length=0),super.prepareFrame(t)}updateExecutorGroup_(t,e,i){const n=this.getLayer(),s=n.getRevision(),r=n.getRenderOrder()||null,o=t.wantedResolution,a=t.getReplayState(n);if(!a.dirty&&a.renderedResolution===o&&a.renderedRevision==s&&a.renderedRenderOrder==r)return;const l=n.getSource(),h=n.getDeclutter(),c=l.getTileGrid(),u=l.getTileGridForProjection(i).getTileCoordExtent(t.wrappedTileCoord),d=l.getSourceTiles(e,i,t),g=(0,y.sq)(n);delete t.hitDetectionImageData[g],t.executorGroups[g]=[],h&&(t.declutterExecutorGroups[g]=[]),a.dirty=!1;for(let i=0,s=d.length;i<s;++i){const s=d[i];if(s.getState()!=yt.Z.LOADED)continue;const _=s.tileCoord,f=c.getTileCoordExtent(_),p=(0,W.Ed)(u,f),m=(0,W.f3)(p,n.getRenderBuffer()*o,this.tmpExtent),v=(0,W.fS)(f,p)?null:m,y=new $(0,m,o,e),x=h?new $(0,p,o,e):void 0,w=Tt(o,e),S=function(t){let e;const i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,o)),e){const i=this.renderFeature(t,w,e,y,x);a.dirty=a.dirty||i}},E=s.getFeatures();r&&r!==a.renderedRenderOrder&&E.sort(r);for(let t=0,e=E.length;t<e;++t){const e=E[t];v&&!(0,W.kK)(v,e.getGeometry().getExtent())||S.call(this,e)}const b=y.finish(),C="vector"!==n.getRenderMode()&&h&&1===d.length?null:p,T=new mt(C,o,e,l.getOverlaps(),b,n.getRenderBuffer());if(t.executorGroups[g].push(T),x){const i=new mt(null,o,e,l.getOverlaps(),x.finish(),n.getRenderBuffer());t.declutterExecutorGroups[g].push(i)}}a.renderedRevision=s,a.renderedRenderOrder=r,a.renderedResolution=o}forEachFeatureAtCoordinate(t,e,i,n,s){const r=e.viewState.resolution,o=e.viewState.rotation;i=null==i?0:i;const a=this.getLayer(),l=a.getSource().getTileGridForProjection(e.viewState.projection),h=(0,W.hI)([t]);(0,W.f3)(h,r*i,h);const c={},u=function(t,e,i){let r=t.getId();void 0===r&&(r=(0,y.sq)(t));const o=c[r];if(o){if(!0!==o&&i<o.distanceSq){if(0===i)return c[r]=!0,s.splice(s.lastIndexOf(o),1),n(t,a,e);o.geometry=e,o.distanceSq=i}}else{if(0===i)return c[r]=!0,n(t,a,e);s.push(c[r]={feature:t,layer:a,geometry:e,distanceSq:i,callback:n})}},d=this.renderedTiles;let g;for(let n=0,s=d.length;!g&&n<s;++n){const s=d[n],c=l.getTileCoordExtent(s.wrappedTileCoord);if(!(0,W.kK)(c,h))continue;const _=(0,y.sq)(a),f=[s.executorGroups[_]],p=s.declutterExecutorGroups[_];p&&f.push(p),f.some((n=>{const s=n===p?e.declutterTree.all().map((t=>t.value)):null;for(let e=0,a=n.length;e<a;++e){const a=n[e];if(g=a.forEachFeatureAtCoordinate(t,r,o,i,u,s),g)return!0}}))}return g}getFeatures(t){return new Promise(((e,i)=>{const n=this.getLayer(),s=(0,y.sq)(n),r=n.getSource(),o=this.renderedProjection,a=o.getExtent(),l=this.renderedResolution,h=r.getTileGridForProjection(o),c=(0,Q.nn)(this.renderedPixelToCoordinateTransform_,t.slice()),u=h.getTileCoordForCoordAndResolution(c,l);let d;for(let t=0,e=this.renderedTiles.length;t<e;++t)if(u.toString()===this.renderedTiles[t].tileCoord.toString()){if(d=this.renderedTiles[t],d.getState()===yt.Z.LOADED){const t=h.getTileCoordExtent(d.tileCoord);r.getWrapX()&&o.canWrapX()&&!(0,W.r4)(a,t)&&(0,Mt.Cf)(c,o);break}d=void 0}if(!d||d.loadingSourceTiles>0)return void e([]);const g=h.getTileCoordExtent(d.wrappedTileCoord),f=(0,W.rL)(g),p=[(c[0]-f[0])/l,(f[1]-c[1])/l],m=d.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]);let v=d.hitDetectionImageData[s];if(!v){const t=(0,kt.Pq)(h.getTileSize(h.getZForResolution(l,r.zDirection))),e=this.renderedRotation_;v=function(t,e,i,n,s,r,o){const a=t[0]*Et,l=t[1]*Et,h=(0,_.E4)(a,l);h.imageSmoothingEnabled=!1;const c=h.canvas,u=new St(h,Et,s,null,o),d=i.length,g=Math.floor(16777215/d),f={};for(let t=1;t<=d;++t){const e=i[t-1],o=e.getStyleFunction()||n;if(!n)continue;let a=o(e,r);if(!a)continue;Array.isArray(a)||(a=[a]);const l=(t*g).toString(16).padStart(7,"#00000");for(let t=0,i=a.length;t<i;++t){const i=a[t],n=i.getGeometryFunction()(e);if(!n||!(0,W.kK)(s,n.getExtent()))continue;const r=i.clone(),o=r.getFill();o&&o.setColor(l);const h=r.getStroke();h&&(h.setColor(l),h.setLineDash(null)),r.setText(void 0);const c=i.getImage();if(c&&0!==c.getOpacity()){const t=c.getImageSize();if(!t)continue;const e=(0,_.E4)(t[0],t[1],void 0,{alpha:!1}),i=e.canvas;e.fillStyle=l,e.fillRect(0,0,i.width,i.height),r.setImage(new w({img:i,imgSize:t,anchor:c.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:c.getOrigin(),opacity:1,size:c.getSize(),scale:c.getScale(),rotation:c.getRotation(),rotateWithView:c.getRotateWithView()}))}const u=r.getZIndex()||0;let d=f[u];d||(d={},f[u]=d,d.Polygon=[],d.Circle=[],d.LineString=[],d.Point=[]);const g=n.getType();if("GeometryCollection"===g){const t=n.getGeometriesArrayRecursive();for(let e=0,i=t.length;e<i;++e){const i=t[e];d[i.getType().replace("Multi","")].push(i,r)}}else d[g.replace("Multi","")].push(n,r)}}const p=Object.keys(f).map(Number).sort(U.j2);for(let t=0,i=p.length;t<i;++t){const i=f[p[t]];for(const t in i){const n=i[t];for(let t=0,i=n.length;t<i;t+=2){u.setStyle(n[t+1]);for(let i=0,s=e.length;i<s;++i)u.setTransform(e[i]),u.drawGeometry(n[t])}}}return h.getImageData(0,0,c.width,c.height)}(t,[this.getRenderTransform(h.getTileCoordCenter(d.wrappedTileCoord),l,0,Et,t[0]*Et,t[1]*Et,0)],m,n.getStyleFunction(),h.getTileCoordExtent(d.wrappedTileCoord),d.getReplayState(n).renderedResolution,e),d.hitDetectionImageData[s]=v}e(function(t,e,i){const n=[];if(i){const s=Math.floor(Math.round(t[0])*Et),r=Math.floor(Math.round(t[1])*Et),o=4*((0,tt.uZ)(s,0,i.width-1)+(0,tt.uZ)(r,0,i.height-1)*i.width),a=i.data[o],l=i.data[o+1],h=i.data[o+2]+256*(l+256*a),c=Math.floor(16777215/e.length);h&&h%c==0&&n.push(e[h/c-1])}return n}(p,m,v))}))}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}renderDeclutter(t){const e=this.context,i=e.globalAlpha;e.globalAlpha=this.getLayer().getOpacity();const n=t.viewHints,s=!(n[xt.Z.ANIMATING]||n[xt.Z.INTERACTING]),r=this.renderedTiles;for(let e=0,i=r.length;e<i;++e){const i=r[e],n=i.declutterExecutorGroups[(0,y.sq)(this.getLayer())];if(n)for(let e=n.length-1;e>=0;--e)n[e].execute(this.context,1,this.getTileRenderTransform(i,t),t.viewState.rotation,s,void 0,t.declutterTree)}e.globalAlpha=i}getTileRenderTransform(t,e){const i=e.pixelRatio,n=e.viewState,s=n.center,r=n.resolution,o=n.rotation,a=e.size,l=Math.round(a[0]*i),h=Math.round(a[1]*i),c=this.getLayer().getSource().getTileGridForProjection(e.viewState.projection),u=t.tileCoord,d=c.getTileCoordExtent(t.wrappedTileCoord),g=c.getTileCoordExtent(u,this.tmpExtent)[0]-d[0];return(0,Q.Jp)((0,Q.bA)(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(s,r,o,i,l,h,g))}postRender(t,e){const i=e.viewHints,n=!(i[xt.Z.ANIMATING]||i[xt.Z.INTERACTING]);this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;const s=this.getLayer(),r=s.getRenderMode(),o=t.globalAlpha;t.globalAlpha=s.getOpacity();const a=Pt[r],l=e.viewState,h=l.rotation,c=s.getSource(),u=c.getTileGridForProjection(l.projection).getZForResolution(l.resolution,c.zDirection),d=this.renderedTiles,g=[],_=[];let f=!0;for(let i=d.length-1;i>=0;--i){const r=d[i];f=f&&!r.getReplayState(s).dirty;const o=r.executorGroups[(0,y.sq)(s)].filter((t=>t.hasExecutors(a)));if(0===o.length)continue;const l=this.getTileRenderTransform(r,e),c=r.tileCoord[0];let p=!1;const m=o[0].getClipCoords(l);if(m){for(let e=0,i=g.length;e<i;++e)if(u!==c&&c<_[e]){const i=g[e];(0,W.kK)([m[0],m[3],m[4],m[7]],[i[0],i[3],i[4],i[7]])&&(p||(t.save(),p=!0),t.beginPath(),t.moveTo(m[0],m[1]),t.lineTo(m[2],m[3]),t.lineTo(m[4],m[5]),t.lineTo(m[6],m[7]),t.moveTo(i[6],i[7]),t.lineTo(i[4],i[5]),t.lineTo(i[2],i[3]),t.lineTo(i[0],i[1]),t.clip())}g.push(m),_.push(c)}for(let e=0,i=o.length;e<i;++e)o[e].execute(t,1,l,h,n,a);p&&t.restore()}t.globalAlpha=o,this.ready=f,super.postRender(t,e)}renderFeature(t,e,i,n,s){if(!i)return!1;let r=!1;if(Array.isArray(i))for(let o=0,a=i.length;o<a;++o)r=Rt(n,t,i[o],e,this.boundHandleStyleImageChange_,void 0,s)||r;else r=Rt(n,t,i,e,this.boundHandleStyleImageChange_,void 0,s);return r}tileImageNeedsRender_(t){const e=this.getLayer();if("vector"===e.getRenderMode())return!1;const i=t.getReplayState(e),n=e.getRevision(),s=t.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==n}renderTileImage_(t,e){const i=this.getLayer(),n=t.getReplayState(i),s=i.getRevision(),r=t.executorGroups[(0,y.sq)(i)];n.renderedTileRevision=s;const o=t.wrappedTileCoord,a=o[0],l=i.getSource();let h=e.pixelRatio;const c=e.viewState.projection,u=l.getTileGridForProjection(c),d=u.getResolution(t.tileCoord[0]),g=e.pixelRatio/t.wantedResolution*d,_=u.getResolution(a),f=t.getContext(i);h=Math.round(Math.max(h,g/h));const p=l.getTilePixelSize(a,h,c);f.canvas.width=p[0],f.canvas.height=p[1];const m=h/g;if(1!==m){const t=(0,Q.mc)(this.tmpTransform_);(0,Q.bA)(t,m,m),f.setTransform.apply(f,t)}const v=u.getTileCoordExtent(o,this.tmpExtent),x=g/_,w=(0,Q.mc)(this.tmpTransform_);(0,Q.bA)(w,x,-x),(0,Q.Iu)(w,-v[0],-v[3]);for(let t=0,e=r.length;t<e;++t)r[t].execute(f,m,w,0,!0,Lt[i.getRenderMode()]);n.renderedTileResolution=t.wantedResolution}}const At=Ot;var Zt=i(8280);const Ft=class extends P{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un;const i=t.renderMode||"hybrid";(0,d.h)("hybrid"==i||"vector"==i,28),this.renderMode_=i,this.setPreload(t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError),this.getBackground,this.setBackground}createRenderer(){return new At(this)}getFeatures(t){return super.getFeatures(t)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(Zt.Z.PRELOAD)}getUseInterimTilesOnError(){return this.get(Zt.Z.USE_INTERIM_TILES_ON_ERROR)}setPreload(t){this.set(Zt.Z.PRELOAD,t)}setUseInterimTilesOnError(t){this.set(Zt.Z.USE_INTERIM_TILES_ON_ERROR,t)}}},3983:(t,e,i)=>{"use strict";function n(t,e,i){return Math.min(Math.max(t,e),i)}function s(t,e,i,n,s,o){const a=s-i,l=o-n;if(0!==a||0!==l){const r=((t-i)*a+(e-n)*l)/(a*a+l*l);r>1?(i=s,n=o):r>0&&(i+=a*r,n+=l*r)}return r(t,e,i,n)}function r(t,e,i,n){const s=i-t,r=n-e;return s*s+r*r}function o(t){const e=t.length;for(let i=0;i<e;i++){let n=i,s=Math.abs(t[i][i]);for(let r=i+1;r<e;r++){const e=Math.abs(t[r][i]);e>s&&(s=e,n=r)}if(0===s)return null;const r=t[n];t[n]=t[i],t[i]=r;for(let n=i+1;n<e;n++){const s=-t[n][i]/t[i][i];for(let r=i;r<e+1;r++)i==r?t[n][r]=0:t[n][r]+=s*t[i][r]}}const i=new Array(e);for(let n=e-1;n>=0;n--){i[n]=t[n][e]/t[n][n];for(let s=n-1;s>=0;s--)t[s][e]-=t[s][n]*i[n]}return i}function a(t){return t*Math.PI/180}function l(t,e){const i=t%e;return i*e<0?i+e:i}function h(t,e,i){return t+i*(e-t)}function c(t,e){const i=Math.pow(10,e);return Math.round(t*i)/i}function u(t,e){return Math.floor(c(t,e))}function d(t,e){return Math.ceil(c(t,e))}i.d(e,{$W:()=>l,FH:()=>c,GW:()=>u,SV:()=>o,Yr:()=>a,bI:()=>r,mD:()=>d,rU:()=>s,t7:()=>h,uZ:()=>n})},9374:(t,e,i)=>{"use strict";function n(t){for(const e in t)delete t[e]}function s(t){let e;for(e in t)return!1;return!e}i.d(e,{Z:()=>n,x:()=>s})},8661:(t,e,i)=>{"use strict";i.d(e,{Wm:()=>f.W,UQ:()=>O,h_:()=>T,OP:()=>Z,mi:()=>A,Vs:()=>j,dY:()=>Y,U2:()=>M,_Q:()=>L,Ck:()=>D,Cs:()=>B,lO:()=>W,Fj:()=>U,vs:()=>z});var n=i(9619);const s=6378137,r=Math.PI*s,o=[-r,-r,r,r],a=[-180,-85,180,85],l=s*Math.log(Math.tan(Math.PI/2));class h extends n.Z{constructor(t){super({code:t,units:"m",extent:o,global:!0,worldExtent:a,getPointResolution:function(t,e){return t/Math.cosh(e[1]/s)}})}}const c=[new h("EPSG:3857"),new h("EPSG:102100"),new h("EPSG:102113"),new h("EPSG:900913"),new h("http://www.opengis.net/def/crs/EPSG/0/3857"),new h("http://www.opengis.net/gml/srs/epsg.xml#3857")];const u=[-180,-90,180,90],d=6378137*Math.PI/180;class g extends n.Z{constructor(t,e){super({code:t,units:"degrees",extent:u,axisOrientation:e,global:!0,metersPerUnit:d,worldExtent:u})}}const _=[new g("CRS:84"),new g("EPSG:4326","neu"),new g("urn:ogc:def:crs:OGC:1.3:CRS84"),new g("urn:ogc:def:crs:OGC:2:84"),new g("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new g("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new g("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var f=i(8375);let p={},m={};function v(t,e,i){const n=t.getCode(),s=e.getCode();n in m||(m[n]={}),m[n][s]=i}var y=i(8641),x=i(1900),w=i(3983);const S=6371008.8;function E(t,e,i){i=i||S;const n=(0,w.Yr)(t[1]),s=(0,w.Yr)(e[1]),r=(s-n)/2,o=(0,w.Yr)(e[0]-t[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(n)*Math.cos(s);return 2*i*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var b=i(44);let C=!0;function T(t){C=!(void 0===t||t)}function R(t,e){if(void 0!==e)for(let i=0,n=t.length;i<n;++i)e[i]=t[i];else e=t.slice();return e}function I(t,e){if(void 0!==e&&t!==e){for(let i=0,n=t.length;i<n;++i)e[i]=t[i];t=e}return t}function k(t){!function(t,e){p[t]=e}(t.getCode(),t),v(t,t,R)}function M(t){return"string"==typeof t?p[e=t]||p[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function L(t,e,i,n){let s;const r=(t=M(t)).getPointResolutionFunc();if(r){if(s=r(e,i),n&&n!==t.getUnits()){const e=t.getMetersPerUnit();e&&(s=s*e/f.W[n])}}else{const r=t.getUnits();if("degrees"==r&&!n||"degrees"==n)s=e;else{const o=F(t,M("EPSG:4326"));if(o===I&&"degrees"!==r)s=e*t.getMetersPerUnit();else{let t=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2];t=o(t,t,2),s=(E(t.slice(0,2),t.slice(2,4))+E(t.slice(4,6),t.slice(6,8)))/2}const a=n?f.W[n]:t.getMetersPerUnit();void 0!==a&&(s/=a)}}return s}function P(t){!function(t){t.forEach(k)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&v(e,t,R)}))}))}function O(t,e){return t?"string"==typeof t?M(t):t:M(e)}function A(t,e){return T(),z(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function Z(t,e){if(t===e)return!0;const i=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||F(t,e)===R)&&i}function F(t,e){let i=function(t,e){let i;return t in m&&e in m[t]&&(i=m[t][e]),i}(t.getCode(),e.getCode());return i||(i=I),i}function D(t,e){return F(M(t),M(e))}function z(t,e,i){return D(e,i)(t,void 0,t.length)}function N(t,e,i,n){const s=D(e,i);return(0,y.Ne)(t,s,void 0,n)}let G=null;function B(){return G}function W(t,e){return G?z(t,e,G):t}function j(t,e){return G?z(t,G,e):(C&&!(0,x.fS)(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(C=!1,(0,b.ZK)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function U(t,e){return G?N(t,e,G):t}function Y(t,e){return G?N(t,G,e):t}var V,X,K;P(c),P(_),V=c,X=function(t,e,i){const n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():new Array(n));for(let o=0;o<n;o+=i){e[o]=r*t[o]/180;let i=s*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));i>l?i=l:i<-l&&(i=-l),e[o+1]=i}return e},K=function(t,e,i){const n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():new Array(n));for(let o=0;o<n;o+=i)e[o]=180*t[o]/r,e[o+1]=360*Math.atan(Math.exp(t[o+1]/s))/Math.PI-90;return e},_.forEach((function(t){V.forEach((function(e){v(t,e,X),v(e,t,K)}))}))},9619:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var n=i(8375);const s=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||n.W[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}},8375:(t,e,i)=>{"use strict";i.d(e,{W:()=>n});const n={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937}},7380:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var n=i(291);class s extends n.ZP{constructor(t,e,i,n){super(t),this.inversePixelTransform=e,this.frameState=i,this.context=n}}const r=s},8771:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},3433:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>g});var n=i(6101),s=i(8641),r=i(5537),o=i(3448),a=i(8661),l=i(3983);function h(t,e,i,n,s,o,a){let h,c;const u=(i-e)/n;if(1===u)h=e;else if(2===u)h=e,c=s;else if(0!==u){let o=t[e],a=t[e+1],l=0;const u=[0];for(let s=e+n;s<i;s+=n){const e=t[s],i=t[s+1];l+=Math.sqrt((e-o)*(e-o)+(i-a)*(i-a)),u.push(l),o=e,a=i}const d=s*l,g=(0,r.ry)(u,d);g<0?(c=(d-u[-g-2])/(u[-g-1]-u[-g-2]),h=e+(-g-2)*n):h=e+g*n}a=a>1?a:2,o=o||new Array(a);for(let e=0;e<a;++e)o[e]=void 0===h?NaN:void 0===c?t[h+e]:(0,l.t7)(t[h+e],t[h+n+e],c);return o}var c=i(6442);const u=(0,n.Ue)();class d{constructor(t,e,i,n,s){this.styleFunction,this.extent_,this.id_=s,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i,this.properties_=n}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,s.HK)(this.flatCoordinates_):(0,s.GN)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=(0,s.qg)(this.getExtent());this.flatInteriorPoints_=(0,o.X)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=function(t,e,i,n){const r=[];let o=(0,s.lJ)();for(let n=0,a=i.length;n<a;++n){const a=i[n];o=(0,s.GN)(t,e,a[0],2),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=a[a.length-1]}return r}(this.flatCoordinates_,0,this.ends_);this.flatInteriorPoints_=(0,o.U)(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=h(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const i=this.ends_;for(let n=0,s=i.length;n<s;++n){const s=i[n],o=h(t,e,s,2,.5);(0,r.l7)(this.flatMidpoints_,o),e=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getStride(){return 2}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){const e=(t=(0,a.U2)(t)).getExtent(),i=t.getWorldExtent();if(e&&i){const t=(0,s.Cr)(i)/(0,s.Cr)(e);(0,n.qC)(u,i[0],i[3],t,-t,0,0,0),(0,c.vT)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,u,this.flatCoordinates_)}}getEnds(){return this.ends_}}d.prototype.getEndss=d.prototype.getEnds,d.prototype.getFlatCoordinates=d.prototype.getOrientedFlatCoordinates;const g=d},147:(t,e,i)=>{"use strict";i.d(e,{Df:()=>l,He:()=>d,Kd:()=>I,PH:()=>p,Qx:()=>b,Tx:()=>f,V4:()=>_,X9:()=>u,Zw:()=>k,_f:()=>M,bL:()=>h,mb:()=>c,oB:()=>v,rc:()=>g,ru:()=>m,sG:()=>x,yC:()=>y});var n=i(2971),s=i(177),r=i(9374),o=i(8326),a=i(245);const l="10px sans-serif",h="#000",c="round",u=[],d=0,g="round",_=10,f="#000",p="center",m="middle",v=[0,0,0,0],y=1,x=new n.Z;let w,S=null;const E={},b=function(){const t=100,e="32px ",i=["monospace","serif"],n=i.length,s="wmytzilWMYTZIL@#/&?$%10";let o,l;function h(t,r,o){let a=!0;for(let h=0;h<n;++h){const n=i[h];if(l=R(t+" "+r+" "+e+n,s),o!=n){const i=R(t+" "+r+" "+e+o+","+n,s);a=a&&i!=l}}return!!a}function c(){let e=!0;const i=x.getKeys();for(let n=0,s=i.length;n<s;++n){const s=i[n];x.get(s)<t&&(h.apply(this,s.split("\n"))?((0,r.Z)(E),S=null,w=void 0,x.set(s,t)):(x.set(s,x.get(s)+1,!0),e=!1))}e&&(clearInterval(o),o=void 0)}return function(e){const i=(0,a.p)(e);if(!i)return;const n=i.families;for(let e=0,s=n.length;e<s;++e){const s=n[e],r=i.style+"\n"+i.weight+"\n"+s;void 0===x.get(r)&&(x.set(r,t,!0),h(i.style,i.weight,s)||(x.set(r,0,!0),void 0===o&&(o=setInterval(c,32))))}}}(),C=function(){let t;return function(e){let i=E[e];if(null==i){if(s.Id){const t=(0,a.p)(e),n=T(e,"Žg");i=(isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),i=t.offsetHeight,document.body.removeChild(t);E[e]=i}return i}}();function T(t,e){return S||(S=(0,o.E4)(1,1)),t!=w&&(S.font=t,w=S.font),S.measureText(e)}function R(t,e){return T(t,e).width}function I(t,e,i){if(e in i)return i[e];const n=e.split("\n").reduce(((e,i)=>Math.max(e,R(t,i))),0);return i[e]=n,n}function k(t,e){const i=[],n=[],s=[];let r=0,o=0,a=0,l=0;for(let h=0,c=e.length;h<=c;h+=2){const u=e[h];if("\n"===u||h===c){r=Math.max(r,o),s.push(o),o=0,a+=l;continue}const d=e[h+1]||t.font,g=R(d,u);i.push(g),o+=g;const _=C(d);n.push(_),l=Math.max(l,_)}return{width:r,height:a,widths:i,heights:n,lineWidths:s}}function M(t,e,i,n,s,r,o,a,l,h,c){t.save(),1!==i&&(t.globalAlpha*=i),e&&t.setTransform.apply(t,e),n.contextInstructions?(t.translate(l,h),t.scale(c[0],c[1]),function(t,e){const i=t.contextInstructions;for(let t=0,n=i.length;t<n;t+=2)Array.isArray(i[t+1])?e[i[t]].apply(e,i[t+1]):e[i[t]]=i[t+1]}(n,t)):c[0]<0||c[1]<0?(t.translate(l,h),t.scale(c[0],c[1]),t.drawImage(n,s,r,o,a,0,0,o,a)):t.drawImage(n,s,r,o,a,l,h,o*c[0],a*c[1]),t.restore()}},4708:(t,e,i)=>{"use strict";i.d(e,{Z:()=>b});var n=i(5487),s=i(553),r=i(2706),o=i(4187);class a extends r.Z{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.declutterExecutorGroup=null}getFeatures(t){return(0,o.O3)()}getData(t){return null}prepareFrame(t){return(0,o.O3)()}renderFrame(t,e){return(0,o.O3)()}loadedTileCallback(t,e,i){t[e]||(t[e]={}),t[e][i.tileCoord.toString()]=i}createLoadedTileFinder(t,e,i){return(n,s)=>{const r=this.loadedTileCallback.bind(this,i,n);return t.forEachLoadedTile(e,n,s,r)}}forEachFeatureAtCoordinate(t,e,i,n,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){t.target.getState()===s.Z.LOADED&&this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=s.Z.LOADED&&e!=s.Z.ERROR&&t.addEventListener(n.Z.CHANGE,this.boundHandleImageChange_),e==s.Z.IDLE&&(t.load(),e=t.getState()),e==s.Z.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}const l=a;var h=i(7380),c=i(8771),u=i(6101),d=i(9706),g=i(8326),_=i(5537),f=i(8641);let p=null;const m=class extends l{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=(0,u.Ue)(),this.pixelTransform=(0,u.Ue)(),this.inversePixelTransform=(0,u.Ue)(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,e,i){let n;p||(p=(0,g.E4)(1,1,void 0,{willReadFrequently:!0})),p.clearRect(0,0,1,1);try{p.drawImage(t,e,i,1,1,0,0,1,1),n=p.getImageData(0,0,1,1).data}catch(t){return p=null,null}return n}getBackground(t){let e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0}useContainer(t,e,i){const n=this.getLayer().getClassName();let s,r;if(t&&t.className===n&&(!i||t&&t.style.backgroundColor&&(0,_.fS)((0,d._2)(t.style.backgroundColor),(0,d._2)(i)))){const e=t.firstElementChild;e instanceof HTMLCanvasElement&&(r=e.getContext("2d"))}if(r&&r.canvas.style.transform===e?(this.container=t,this.context=r,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=n;let t=s.style;t.position="absolute",t.width="100%",t.height="100%",r=(0,g.E4)();const e=r.canvas;s.appendChild(e),t=e.style,t.position="absolute",t.left="0",t.transformOrigin="top left",this.container=s,this.context=r}this.containerReused||!i||this.container.style.backgroundColor||(this.container.style.backgroundColor=i)}clipUnrotated(t,e,i){const n=(0,f.rL)(i),s=(0,f.Xv)(i),r=(0,f.w$)(i),o=(0,f.hC)(i);(0,u.nn)(e.coordinateToPixelTransform,n),(0,u.nn)(e.coordinateToPixelTransform,s),(0,u.nn)(e.coordinateToPixelTransform,r),(0,u.nn)(e.coordinateToPixelTransform,o);const a=this.inversePixelTransform;(0,u.nn)(a,n),(0,u.nn)(a,s),(0,u.nn)(a,r),(0,u.nn)(a,o),t.save(),t.beginPath(),t.moveTo(Math.round(n[0]),Math.round(n[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.clip()}dispatchRenderEvent_(t,e,i){const n=this.getLayer();if(n.hasListener(t)){const s=new h.Z(t,this.inversePixelTransform,i,e);n.dispatchEvent(s)}}preRender(t,e){this.frameState=e,this.dispatchRenderEvent_(c.Z.PRERENDER,t,e)}postRender(t,e){this.dispatchRenderEvent_(c.Z.POSTRENDER,t,e)}getRenderTransform(t,e,i,n,s,r,o){const a=s/2,l=r/2,h=n/e,c=-h,d=-t[0]+o,g=-t[1];return(0,u.qC)(this.tempTransform,a,l,h,c,-i,d,g)}disposeInternal(){delete this.frameState,super.disposeInternal()}};var v=i(825),y=i(3883),x=i(2519),w=i(7195),S=i(8661),E=i(4307);const b=class extends m{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,f.lJ)(),this.tmpTileRange_=new x.Z(0,0,0,0)}isDrawableTile(t){const e=this.getLayer(),i=t.getState(),n=e.getUseInterimTilesOnError();return i==w.Z.LOADED||i==w.Z.EMPTY||i==w.Z.ERROR&&!n}getTile(t,e,i,n){const s=n.pixelRatio,r=n.viewState.projection,o=this.getLayer();let a=o.getSource().getTile(t,e,i,s,r);return a.getState()==w.Z.ERROR&&o.getUseInterimTilesOnError()&&o.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(a)||(a=a.getInterimTile()),a}getData(t){const e=this.frameState;if(!e)return null;const i=this.getLayer(),n=(0,u.nn)(e.pixelToCoordinateTransform,t.slice()),s=i.getExtent();if(s&&!(0,f.b8)(s,n))return null;const r=e.pixelRatio,o=e.viewState.projection,a=e.viewState,l=i.getRenderSource(),h=l.getTileGridForProjection(a.projection),c=l.getTilePixelRatio(e.pixelRatio);for(let t=h.getZForResolution(a.resolution);t>=h.getMinZoom();--t){const e=h.getTileCoordForCoordAndZ(n,t),i=l.getTile(t,e[1],e[2],r,o);if(!(i instanceof v.Z||i instanceof y.Z)||i instanceof y.Z&&i.getState()===w.Z.EMPTY)return null;if(i.getState()!==w.Z.LOADED)continue;const s=h.getOrigin(t),u=(0,E.Pq)(h.getTileSize(t)),d=h.getResolution(t),g=Math.floor(c*((n[0]-s[0])/d-e[1]*u[0])),_=Math.floor(c*((s[1]-n[1])/d-e[2]*u[1])),f=Math.round(c*l.getGutterForProjection(a.projection));return this.getImageData(i.getImage(),g+f,_+f)}return null}loadedTileCallback(t,e,i){return!!this.isDrawableTile(i)&&super.loadedTileCallback(t,e,i)}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,e){const i=t.layerStatesArray[t.layerIndex],n=t.viewState,s=n.projection,r=n.resolution,a=n.center,l=n.rotation,h=t.pixelRatio,c=this.getLayer(),d=c.getSource(),g=d.getRevision(),p=d.getTileGridForProjection(s),m=p.getZForResolution(r,d.zDirection),v=p.getResolution(m);let y=t.extent;const x=t.viewState.resolution,E=d.getTilePixelRatio(h),b=Math.round((0,f.dz)(y)/x*h),C=Math.round((0,f.Cr)(y)/x*h),T=i.extent&&(0,S.dY)(i.extent,s);T&&(y=(0,f.Ed)(y,(0,S.dY)(i.extent,s)));const R=v*b/2/E,I=v*C/2/E,k=[a[0]-R,a[1]-I,a[0]+R,a[1]+I],M=p.getTileRangeForExtentAndZ(y,m),L={};L[m]={};const P=this.createLoadedTileFinder(d,s,L),O=this.tmpExtent,A=this.tmpTileRange_;this.newTiles_=!1;const Z=l?(0,f.dY)(n.center,x,l,t.size):void 0;for(let e=M.minX;e<=M.maxX;++e)for(let n=M.minY;n<=M.maxY;++n){if(l&&!p.tileCoordIntersectsViewport([m,e,n],Z))continue;const s=this.getTile(m,e,n,t);if(this.isDrawableTile(s)){const e=(0,o.sq)(this);if(s.getState()==w.Z.LOADED){L[m][s.tileCoord.toString()]=s;let t=s.inTransition(e);t&&1!==i.opacity&&(s.endTransition(e),t=!1),this.newTiles_||!t&&this.renderedTiles.includes(s)||(this.newTiles_=!0)}if(1===s.getAlpha(e,t.time))continue}const r=p.getTileCoordChildTileRange(s.tileCoord,A,O);let a=!1;r&&(a=P(m+1,r)),a||p.forEachTileCoordParentTileRange(s.tileCoord,P,A,O)}const F=v/r*h/E;(0,u.qC)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/h,1/h,l,-b/2,-C/2);const D=(0,u.BB)(this.pixelTransform);this.useContainer(e,D,this.getBackground(t));const z=this.context,N=z.canvas;(0,u.nb)(this.inversePixelTransform,this.pixelTransform),(0,u.qC)(this.tempTransform,b/2,C/2,F,F,0,-b/2,-C/2),N.width!=b||N.height!=C?(N.width=b,N.height=C):this.containerReused||z.clearRect(0,0,b,C),T&&this.clipUnrotated(z,t,T),d.getInterpolate()||(z.imageSmoothingEnabled=!1),this.preRender(z,t),this.renderedTiles.length=0;let G,B,W,j=Object.keys(L).map(Number);j.sort(_.j2),1!==i.opacity||this.containerReused&&!d.getOpaque(t.viewState.projection)?(G=[],B=[]):j=j.reverse();for(let e=j.length-1;e>=0;--e){const i=j[e],n=d.getTilePixelSize(i,h,s),r=p.getResolution(i)/v,a=n[0]*r*F,l=n[1]*r*F,c=p.getTileCoordForCoordAndZ((0,f.rL)(k),i),g=p.getTileCoordExtent(c),_=(0,u.nn)(this.tempTransform,[E*(g[0]-k[0])/v,E*(k[3]-g[3])/v]),y=E*d.getGutterForProjection(s),x=L[i];for(const e in x){const n=x[e],s=n.tileCoord,r=c[1]-s[1],h=Math.round(_[0]-(r-1)*a),u=c[2]-s[2],g=Math.round(_[1]-(u-1)*l),p=Math.round(_[0]-r*a),v=Math.round(_[1]-u*l),w=h-p,S=g-v,E=m===i,b=E&&1!==n.getAlpha((0,o.sq)(this),t.time);let C=!1;if(!b)if(G){W=[p,v,p+w,v,p+w,v+S,p,v+S];for(let t=0,e=G.length;t<e;++t)if(m!==i&&i<B[t]){const e=G[t];(0,f.kK)([p,v,p+w,v+S],[e[0],e[3],e[4],e[7]])&&(C||(z.save(),C=!0),z.beginPath(),z.moveTo(W[0],W[1]),z.lineTo(W[2],W[3]),z.lineTo(W[4],W[5]),z.lineTo(W[6],W[7]),z.moveTo(e[6],e[7]),z.lineTo(e[4],e[5]),z.lineTo(e[2],e[3]),z.lineTo(e[0],e[1]),z.clip())}G.push(W),B.push(i)}else z.clearRect(p,v,w,S);this.drawTileImage(n,t,p,v,w,S,y,E),G&&!b?(C&&z.restore(),this.renderedTiles.unshift(n)):this.renderedTiles.push(n),this.updateUsedTiles(t.usedTiles,d,n)}}return this.renderedRevision=g,this.renderedResolution=v,this.extentChanged=!this.renderedExtent_||!(0,f.fS)(this.renderedExtent_,k),this.renderedExtent_=k,this.renderedPixelRatio=h,this.renderedProjection=s,this.manageTilePyramid(t,d,p,h,s,y,m,c.getPreload()),this.scheduleExpireCache(t,d),this.postRender(z,t),i.extent&&z.restore(),z.imageSmoothingEnabled=!0,D!==N.style.transform&&(N.style.transform=D),this.container}drawTileImage(t,e,i,n,s,r,a,l){const h=this.getTileImage(t);if(!h)return;const c=(0,o.sq)(this),u=e.layerStatesArray[e.layerIndex],d=u.opacity*(l?t.getAlpha(c,e.time):1),g=d!==this.context.globalAlpha;g&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(h,a,a,h.width-2*a,h.height-2*a,i,n,s,r),g&&this.context.restore(),d!==u.opacity?e.animate=!0:l&&t.endTransition(c)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,e){if(e.canExpireCache()){const i=function(t,e,i){const n=(0,o.sq)(t);n in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[n])}.bind(null,e);t.postRenderFunctions.push(i)}}updateUsedTiles(t,e,i){const n=(0,o.sq)(e);n in t||(t[n]={}),t[n][i.getKey()]=!0}manageTilePyramid(t,e,i,n,s,r,a,l,h){const c=(0,o.sq)(e);c in t.wantedTiles||(t.wantedTiles[c]={});const u=t.wantedTiles[c],d=t.tileQueue,g=i.getMinZoom(),_=t.viewState.rotation,p=_?(0,f.dY)(t.viewState.center,t.viewState.resolution,_,t.size):void 0;let m,v,y,x,S,E,b=0;for(E=g;E<=a;++E)for(v=i.getTileRangeForExtentAndZ(r,E,v),y=i.getResolution(E),x=v.minX;x<=v.maxX;++x)for(S=v.minY;S<=v.maxY;++S)_&&!i.tileCoordIntersectsViewport([E,x,S],p)||(a-E<=l?(++b,m=e.getTile(E,x,S,n,s),m.getState()==w.Z.IDLE&&(u[m.getKey()]=!0,d.isKeyQueued(m.getKey())||d.enqueue([m,c,i.getTileCoordCenter(m.tileCoord),y])),void 0!==h&&h(m)):e.useTile(E,x,S,s));e.updateCacheSize(b,s)}}},3883:(t,e,i)=>{"use strict";i.d(e,{Z:()=>m});var n=i(5487),s=i(4806),r=i(7195),o=i(8641),a=i(8661),l=i(3983);var h=i(8326);let c;const u=[];function d(t,e,i,n,s){t.beginPath(),t.moveTo(0,0),t.lineTo(e,i),t.lineTo(n,s),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,n)+1,Math.max(i,s)),t.restore()}function g(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function _(t,e,i,n){const s=(0,a.vs)(i,e,t);let r=(0,a._Q)(e,n,i);const l=e.getMetersPerUnit();void 0!==l&&(r*=l);const h=t.getMetersPerUnit();void 0!==h&&(r/=h);const c=t.getExtent();if(!c||(0,o.b8)(c,s)){const e=(0,a._Q)(t,r,s)/r;isFinite(e)&&e>0&&(r/=e)}return r}var f=i(5818);class p extends s.Z{constructor(t,e,i,n,s,h,c,u,d,g,f,p){super(s,r.Z.IDLE,{interpolate:!!p}),this.renderEdges_=void 0!==f&&f,this.pixelRatio_=c,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=n,this.wrappedTileCoord_=h||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const m=n.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent();let y=this.sourceTileGrid_.getExtent();const x=v?(0,o.Ed)(m,v):m;if(0===(0,o.bg)(x))return void(this.state=r.Z.EMPTY);const w=t.getExtent();w&&(y=y?(0,o.Ed)(y,w):w);const S=n.getResolution(this.wrappedTileCoord_[0]),E=function(t,e,i,n){const s=(0,o.qg)(i);let r=_(t,e,s,n);return(!isFinite(r)||r<=0)&&(0,o.H6)(i,(function(i){return r=_(t,e,i,n),isFinite(r)&&r>0})),r}(t,i,x,S);if(!isFinite(E)||E<=0)return void(this.state=r.Z.EMPTY);const b=void 0!==g?g:.5;if(this.triangulation_=new class{constructor(t,e,i,n,s,r){this.sourceProj_=t,this.targetProj_=e;let l={};const h=(0,a.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return l[e]||(l[e]=h(t)),l[e]},this.maxSourceExtent_=n,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&(0,o.dz)(n)==(0,o.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,o.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,o.dz)(this.targetProj_.getExtent()):null;const c=(0,o.rL)(i),u=(0,o.Xv)(i),d=(0,o.w$)(i),g=(0,o.hC)(i),_=this.transformInv_(c),f=this.transformInv_(u),p=this.transformInv_(d),m=this.transformInv_(g),v=10+(r?Math.max(0,Math.ceil(Math.log2((0,o.bg)(i)/(r*r*256*256)))):0);if(this.addQuad_(c,u,d,g,_,f,p,m,v),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach((function(e,i,n){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const i=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];i[0][0]-t>this.sourceWorldWidth_/2&&(i[0][0]-=this.sourceWorldWidth_),i[1][0]-t>this.sourceWorldWidth_/2&&(i[1][0]-=this.sourceWorldWidth_),i[2][0]-t>this.sourceWorldWidth_/2&&(i[2][0]-=this.sourceWorldWidth_);const n=Math.min(i[0][0],i[1][0],i[2][0]);Math.max(i[0][0],i[1][0],i[2][0])-n<this.sourceWorldWidth_/2&&(e.source=i)}}))}l={}}addTriangle_(t,e,i,n,s,r){this.triangles_.push({source:[n,s,r],target:[t,e,i]})}addQuad_(t,e,i,n,s,r,a,h,c){const u=(0,o.hI)([s,r,a,h]),d=this.sourceWorldWidth_?(0,o.dz)(u)/this.sourceWorldWidth_:null,g=this.sourceWorldWidth_,_=this.sourceProj_.canWrapX()&&d>.5&&d<1;let f=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const s=(0,o.hI)([t,e,i,n]);f=(0,o.dz)(s)/this.targetWorldWidth_>.25||f}!_&&this.sourceProj_.isGlobal()&&d&&(f=d>.25||f)}if(!f&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!(0,o.kK)(u,this.maxSourceExtent_))return;let p=0;if(!(f||isFinite(s[0])&&isFinite(s[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1])))if(c>0)f=!0;else if(p=(isFinite(s[0])&&isFinite(s[1])?0:8)+(isFinite(r[0])&&isFinite(r[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(h[0])&&isFinite(h[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(c>0){if(!f){const e=[(t[0]+i[0])/2,(t[1]+i[1])/2],n=this.transformInv_(e);let r;r=_?((0,l.$W)(s[0],g)+(0,l.$W)(a[0],g))/2-(0,l.$W)(n[0],g):(s[0]+a[0])/2-n[0];const o=(s[1]+a[1])/2-n[1];f=r*r+o*o>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){const o=[(e[0]+i[0])/2,(e[1]+i[1])/2],l=this.transformInv_(o),u=[(n[0]+t[0])/2,(n[1]+t[1])/2],d=this.transformInv_(u);this.addQuad_(t,e,o,u,s,r,l,d,c-1),this.addQuad_(u,o,i,n,d,l,a,h,c-1)}else{const o=[(t[0]+e[0])/2,(t[1]+e[1])/2],l=this.transformInv_(o),u=[(i[0]+n[0])/2,(i[1]+n[1])/2],d=this.transformInv_(u);this.addQuad_(t,o,u,n,s,l,d,h,c-1),this.addQuad_(o,e,i,u,l,r,a,d,c-1)}return}}if(_){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&p)&&this.addTriangle_(t,i,n,s,a,h),0==(14&p)&&this.addTriangle_(t,i,e,s,a,r),p&&(0==(13&p)&&this.addTriangle_(e,n,t,r,h,s),0==(7&p)&&this.addTriangle_(e,n,i,r,h,a))}calculateSourceExtent(){const t=(0,o.lJ)();return this.triangles_.forEach((function(e,i,n){const s=e.source;(0,o.Wj)(t,s[0]),(0,o.Wj)(t,s[1]),(0,o.Wj)(t,s[2])})),t}getTriangles(){return this.triangles_}}(t,i,x,y,E*b,S),0===this.triangulation_.getTriangles().length)return void(this.state=r.Z.EMPTY);this.sourceZ_=e.getZForResolution(E);let C=this.triangulation_.calculateSourceExtent();if(y&&(t.canWrapX()?(C[1]=(0,l.uZ)(C[1],y[1],y[3]),C[3]=(0,l.uZ)(C[3],y[1],y[3])):C=(0,o.Ed)(C,y)),(0,o.bg)(C)){const t=e.getTileRangeForExtentAndZ(C,this.sourceZ_);for(let e=t.minX;e<=t.maxX;e++)for(let i=t.minY;i<=t.maxY;i++){const t=d(this.sourceZ_,e,i,c);t&&this.sourceTiles_.push(t)}0===this.sourceTiles_.length&&(this.state=r.Z.EMPTY)}else this.state=r.Z.EMPTY}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach((e=>{e&&e.getState()==r.Z.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})})),this.sourceTiles_.length=0,0===t.length)this.state=r.Z.ERROR;else{const e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),n="number"==typeof i?i:i[0],s="number"==typeof i?i:i[1],a=this.targetTileGrid_.getResolution(e),_=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,i,n,s,r,a,_,f,p,m,v){const y=(0,h.E4)(Math.round(i*t),Math.round(i*e),u);if(v||(y.imageSmoothingEnabled=!1),0===f.length)return y.canvas;function x(t){return Math.round(t*i)/i}y.scale(i,i),y.globalCompositeOperation="lighter";const w=(0,o.lJ)();f.forEach((function(t,e,i){(0,o.l7)(w,t.extent)}));const S=(0,o.dz)(w),E=(0,o.Cr)(w),b=(0,h.E4)(Math.round(i*S/n),Math.round(i*E/n),u);v||(b.imageSmoothingEnabled=!1);const C=i/n;f.forEach((function(t,e,i){const n=t.extent[0]-w[0],s=-(t.extent[3]-w[3]),r=(0,o.dz)(t.extent),a=(0,o.Cr)(t.extent);t.image.width>0&&t.image.height>0&&b.drawImage(t.image,p,p,t.image.width-2*p,t.image.height-2*p,n*C,s*C,r*C,a*C)}));const T=(0,o.rL)(a);return _.getTriangles().forEach((function(t,e,s){const o=t.source,a=t.target;let _=o[0][0],f=o[0][1],p=o[1][0],m=o[1][1],S=o[2][0],E=o[2][1];const C=x((a[0][0]-T[0])/r),R=x(-(a[0][1]-T[1])/r),I=x((a[1][0]-T[0])/r),k=x(-(a[1][1]-T[1])/r),M=x((a[2][0]-T[0])/r),L=x(-(a[2][1]-T[1])/r),P=_,O=f;_=0,f=0,p-=P,m-=O,S-=P,E-=O;const A=[[p,m,0,0,I-C],[S,E,0,0,M-C],[0,0,p,m,k-R],[0,0,S,E,L-R]],Z=(0,l.SV)(A);if(Z){if(y.save(),y.beginPath(),function(){if(void 0===c){const t=(0,h.E4)(6,6,u);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",d(t,4,5,4,0),d(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;c=g(e,0)||g(e,4)||g(e,8),(0,h.jy)(t),u.push(t.canvas)}return c}()||!v){y.moveTo(I,k);const t=4,e=C-I,i=R-k;for(let n=0;n<t;n++)y.lineTo(I+x((n+1)*e/t),k+x(n*i/(t-1))),n!=t-1&&y.lineTo(I+x((n+1)*e/t),k+x((n+1)*i/(t-1)));y.lineTo(M,L)}else y.moveTo(I,k),y.lineTo(C,R),y.lineTo(M,L);y.clip(),y.transform(Z[0],Z[2],Z[1],Z[3],C,R),y.translate(w[0]-P,w[3]-O),y.scale(n/i,-n/i),y.drawImage(b.canvas,0,0),y.restore()}})),(0,h.jy)(b),u.push(b.canvas),m&&(y.save(),y.globalCompositeOperation="source-over",y.strokeStyle="black",y.lineWidth=1,_.getTriangles().forEach((function(t,e,i){const n=t.target,s=(n[0][0]-T[0])/r,o=-(n[0][1]-T[1])/r,a=(n[1][0]-T[0])/r,l=-(n[1][1]-T[1])/r,h=(n[2][0]-T[0])/r,c=-(n[2][1]-T[1])/r;y.beginPath(),y.moveTo(a,l),y.lineTo(s,o),y.lineTo(h,c),y.closePath(),y.stroke()})),y.restore()),y.canvas}(n,s,this.pixelRatio_,_,this.sourceTileGrid_.getExtent(),a,f,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=r.Z.LOADED}this.changed()}load(){if(this.state==r.Z.IDLE){this.state=r.Z.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((e=>{const i=e.getState();if(i==r.Z.IDLE||i==r.Z.LOADING){t++;const i=(0,f.oL)(e,n.Z.CHANGE,(function(n){const s=e.getState();s!=r.Z.LOADED&&s!=r.Z.ERROR&&s!=r.Z.EMPTY||((0,f.bN)(i),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(i)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,i){t.getState()==r.Z.IDLE&&t.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(f.bN),this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,h.jy)(this.canvas_.getContext("2d")),u.push(this.canvas_),this.canvas_=null),super.release()}}const m=p},828:(t,e,i)=>{"use strict";i.d(e,{Gw:()=>a,YP:()=>r,gE:()=>o,h$:()=>s});var n=i(3983);function s(t){if(void 0!==t)return 0}function r(t){if(void 0!==t)return t}function o(t){const e=2*Math.PI/t;return function(t,i){return i?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function a(t){return t=t||(0,n.Yr)(5),function(e,i){return i?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}},4307:(t,e,i)=>{"use strict";function n(t){return t[0]>0&&t[1]>0}function s(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function r(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}i.d(e,{Pq:()=>r,bA:()=>s,py:()=>n})},6263:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(6841),s=i(8326),r=i(4307);class o extends n.Z{constructor(t){super({opaque:!1,projection:(t=t||{}).projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX,zDirection:t.zDirection,url:t.template||"z:{z} x:{x} y:{y}",tileLoadFunction:(t,e)=>{const i=t.getTileCoord()[0],n=(0,r.Pq)(this.tileGrid.getTileSize(i)),o=(0,s.E4)(n[0],n[1]);o.strokeStyle="grey",o.strokeRect(.5,.5,n[0]+.5,n[1]+.5),o.fillStyle="grey",o.strokeStyle="white",o.textAlign="center",o.textBaseline="middle",o.font="24px sans-serif",o.lineWidth=4,o.strokeText(e,n[0]/2,n[1]/2,n[0]),o.fillText(e,n[0]/2,n[1]/2,n[0]),t.setImage(o.canvas)}})}}const a=o},5231:(t,e,i)=>{"use strict";i.d(e,{Z:()=>w});var n=i(291),s=i(2971),r=i(8661);class o extends s.Z{constructor(t){super(),this.projection=(0,r.U2)(t.projection),this.attributions_=a(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise((function(t,i){e.viewResolver=t,e.viewRejector=i}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=a(t),this.changed()}setState(t){this.state_=t,this.changed()}}function a(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const l=o;var h=i(5532),c=i(7195),u=i(4187),d=i(9515),g=i(8634),_=i(7248),f=i(4307);class p extends n.ZP{constructor(t,e){super(t),this.tile=e}}const m=class extends l{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;this.tileGrid&&(0,f.Pq)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new h.Z(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,e){const i=this.getTileCacheForProjection(t);i&&i.expireCache(e)}forEachLoadedTile(t,e,i,n){const s=this.getTileCacheForProjection(t);if(!s)return!1;let r,o,a,l=!0;for(let t=i.minX;t<=i.maxX;++t)for(let h=i.minY;h<=i.maxY;++h)o=(0,g.lg)(e,t,h),a=!1,s.containsKey(o)&&(r=s.get(o),a=r.getState()===c.Z.LOADED,a&&(a=!1!==n(r))),a||(l=!1);return l}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,i,n,s){return(0,u.O3)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:(0,_.X$)(t)}getTileCacheForProjection(t){const e=this.getProjection();return(0,d.h)(null===e||(0,r.OP)(e,t),68),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,i){const n=this.getTileGridForProjection(i),s=this.getTilePixelRatio(e),r=(0,f.Pq)(n.getTileSize(t),this.tmpSize);return 1==s?r:(0,f.bA)(r,s,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){e=void 0!==e?e:this.getProjection();const i=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=(0,_.Cf)(i,t,e)),(0,g.tE)(t,i)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,e){const i=this.getTileCacheForProjection(e);t>i.highWaterMark&&(i.highWaterMark=t)}useTile(t,e,i,n){}};var v=i(3983);function y(t,e){const i=/\{z\}/g,n=/\{x\}/g,s=/\{y\}/g,r=/\{-y\}/g;return function(o,a,l){if(o)return t.replace(i,o[0].toString()).replace(n,o[1].toString()).replace(s,o[2].toString()).replace(r,(function(){const t=o[0],i=e.getFullTileRange(t);return(0,d.h)(i,55),(i.getHeight()-o[2]-1).toString()}))}}class x extends m{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===x.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,i=(0,u.sq)(e),n=e.getState();let s;n==c.Z.LOADING?(this.tileLoadingKeys_[i]=!0,s="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=n==c.Z.ERROR?"tileloaderror":n==c.Z.LOADED?"tileloadend":void 0),null!=s&&this.dispatchEvent(new p(s,e))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()}setUrl(t){const e=function(t){const e=[];let i=/\{([a-z])-([a-z])\}/.exec(t);if(i){const n=i[1].charCodeAt(0),s=i[2].charCodeAt(0);let r;for(r=n;r<=s;++r)e.push(t.replace(i[0],String.fromCharCode(r)));return e}if(i=/\{(\d+)-(\d+)\}/.exec(t),i){const n=parseInt(i[2],10);for(let s=parseInt(i[1],10);s<=n;s++)e.push(t.replace(i[0],s.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){const i=t.length,n=new Array(i);for(let s=0;s<i;++s)n[s]=y(t[s],e);return function(t){return 1===t.length?t[0]:function(e,i,n){if(!e)return;const s=(0,g.vp)(e),r=(0,v.$W)(s,t.length);return t[r](e,i,n)}}(n)}(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,i){}useTile(t,e,i){const n=(0,g.lg)(t,e,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)}}const w=x},7205:(t,e,i)=>{"use strict";i.d(e,{Z:()=>b});var n=i(5487),s=i(4806),r=i(7195);class o extends s.Z{constructor(t,e,i,n,s,r){super(t,e,r),this.extent=null,this.format_=n,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=s,this.url_=i,this.key=i}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==r.Z.IDLE&&(this.setState(r.Z.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(t,e){this.setFeatures(t)}onError(){this.setState(r.Z.ERROR)}setFeatures(t){this.features_=t,this.setState(r.Z.LOADED)}setLoader(t){this.loader_=t}}const a=o;var l=i(5532),h=i(8738),c=i(5231),u=i(8326),d=i(4187);const g=[];class _ extends s.Z{constructor(t,e,i,n){super(t,e,{transition:0}),this.context_={},this.executorGroups={},this.declutterExecutorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=n.bind(void 0,this),this.wrappedTileCoord=i}getContext(t){const e=(0,d.sq)(t);return e in this.context_||(this.context_[e]=(0,u.E4)(1,1,g)),this.context_[e]}hasContext(t){return(0,d.sq)(t)in this.context_}getImage(t){return this.hasContext(t)?this.getContext(t).canvas:null}getReplayState(t){const e=(0,d.sq)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[e]}load(){this.getSourceTiles()}release(){for(const t in this.context_){const e=this.context_[t];(0,u.jy)(e),g.push(e.canvas),delete this.context_[t]}super.release()}}const f=_;var p=i(4768),m=i(8641),v=i(7248),y=i(8634),x=i(9374);let w=!1;var S=i(4307);class E extends c.Z{constructor(t){const e=t.projection||"EPSG:3857",i=t.extent||(0,v.Tl)(e),n=t.tileGrid||(0,v.dl)({extent:i,maxResolution:t.maxResolution,maxZoom:void 0!==t.maxZoom?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,interpolate:!0,opaque:!1,projection:e,state:t.state,tileGrid:n,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:C,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:void 0===t.zDirection?1:t.zDirection}),this.format_=t.format?t.format:null,this.sourceTileCache=new l.Z(this.tileCache.highWaterMark),this.overlaps_=null==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:a,this.tileGrids_={}}getFeaturesInExtent(t){const e=[],i=this.tileCache;if(0===i.getCount())return e;const n=(0,y.Ul)(i.peekFirstKey())[0],s=this.tileGrid;return i.forEach((function(i){if(i.tileCoord[0]!==n||i.getState()!==r.Z.LOADED)return;const o=i.getSourceTiles();for(let i=0,n=o.length;i<n;++i){const n=o[i],r=n.tileCoord;if((0,m.kK)(t,s.getTileCoordExtent(r))){const i=n.getFeatures();if(i)for(let n=0,s=i.length;n<s;++n){const s=i[n],r=s.getGeometry();(0,m.kK)(t,r.getExtent())&&e.push(s)}}}})),e}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear(),this.sourceTileCache.clear()}expireCache(t,e){const i=this.getTileCacheForProjection(t),n=Object.keys(e).reduce(((t,e)=>{const n=(0,y.MY)(e),s=i.peek(n);if(s){const e=s.sourceTiles;for(let i=0,n=e.length;i<n;++i)t[e[i].getKey()]=!0}return t}),{});super.expireCache(t,e),this.sourceTileCache.expireCache(n)}getSourceTiles(t,e,i){if(i.getState()===r.Z.IDLE){i.setState(r.Z.LOADING);const s=i.wrappedTileCoord,o=this.getTileGridForProjection(e),a=o.getTileCoordExtent(s),l=s[0],h=o.getResolution(l);(0,m.f3)(a,-h,a);const c=this.tileGrid,u=c.getExtent();u&&(0,m.Ed)(a,u,a);const d=c.getZForResolution(h,this.zDirection);c.forEachTileCoord(a,d,(s=>{const o=this.tileUrlFunction(s,t,e),a=this.sourceTileCache.containsKey(o)?this.sourceTileCache.get(o):new this.tileClass(s,o?r.Z.IDLE:r.Z.EMPTY,o,this.format_,this.tileLoadFunction);i.sourceTiles.push(a);const l=a.getState();if(l<r.Z.LOADED){const t=e=>{this.handleTileChange(e);const s=a.getState();if(s===r.Z.LOADED||s===r.Z.ERROR){const e=a.getKey();e in i.errorTileKeys?a.getState()===r.Z.LOADED&&delete i.errorTileKeys[e]:i.loadingSourceTiles--,s===r.Z.ERROR?i.errorTileKeys[e]=!0:a.removeEventListener(n.Z.CHANGE,t),0===i.loadingSourceTiles&&i.setState((0,x.x)(i.errorTileKeys)?r.Z.LOADED:r.Z.ERROR)}};a.addEventListener(n.Z.CHANGE,t),i.loadingSourceTiles++}l===r.Z.IDLE&&(a.extent=c.getTileCoordExtent(s),a.projection=e,a.resolution=c.getResolution(s[0]),this.sourceTileCache.set(o,a),a.load())})),i.loadingSourceTiles||i.setState(i.sourceTiles.some((t=>t.getState()===r.Z.ERROR))?r.Z.ERROR:r.Z.LOADED)}return i.sourceTiles}getTile(t,e,i,n,s){const o=(0,y.lg)(t,e,i),a=this.getKey();let l;if(this.tileCache.containsKey(o)&&(l=this.tileCache.get(o),l.key===a))return l;const h=[t,e,i];let c=this.getTileCoordForTileUrlFunction(h,s);const u=this.getTileGrid().getExtent(),d=this.getTileGridForProjection(s);if(c&&u){const e=d.getTileCoordExtent(c);(0,m.f3)(e,-d.getResolution(t),e),(0,m.kK)(u,e)||(c=null)}let g=!0;if(null!==c){const e=this.tileGrid,i=d.getResolution(t),r=e.getZForResolution(i,1),o=d.getTileCoordExtent(c);(0,m.f3)(o,-i,o),e.forEachTileCoord(o,r,(t=>{g=g&&!this.tileUrlFunction(t,n,s)}))}const _=new f(h,g?r.Z.EMPTY:r.Z.IDLE,c,this.getSourceTiles.bind(this,n,s));return _.key=a,l?(_.interimTile=l,_.refreshInterimChain(),this.tileCache.replace(o,_)):this.tileCache.set(o,_),_}getTileGridForProjection(t){const e=t.getCode();let i=this.tileGrids_[e];if(!i){const t=this.tileGrid,n=t.getResolutions().slice(),s=n.map((function(e,i){return t.getOrigin(i)})),r=n.map((function(e,i){return t.getTileSize(i)})),o=p.e+1;for(let t=n.length;t<o;++t)n.push(n[t-1]/2),s.push(s[t-1]),r.push(r[t-1]);i=new h.Z({extent:t.getExtent(),origins:s,resolutions:n,tileSizes:r}),this.tileGrids_[e]=i}return i}getTilePixelRatio(t){return t}getTilePixelSize(t,e,i){const n=this.getTileGridForProjection(i),s=(0,S.Pq)(n.getTileSize(t),this.tmpSize);return[Math.round(s[0]*e),Math.round(s[1]*e)]}updateCacheSize(t,e){super.updateCacheSize(2*t,e),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(e).highWaterMark}}const b=E;function C(t,e){t.setLoader((function(i,n,s){!function(t,e,i,n,s,r,o){const a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(i,n,s):t,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=w,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){const t=e.getType();let n;"json"==t||"text"==t?n=a.responseText:"xml"==t?(n=a.responseXML,n||(n=(new DOMParser).parseFromString(a.responseText,"application/xml"))):"arraybuffer"==t&&(n=a.response),n?r(e.readFeatures(n,{extent:i,featureProjection:s}),e.readProjection(n)):o()}else o()},a.onerror=o,a.send()}(e,t.getFormat(),i,n,s,t.onLoad.bind(t),t.onError.bind(t))}))}},6841:(t,e,i)=>{"use strict";i.d(e,{Z:()=>p});var n=i(5487),s=i(825),r=i(3883),o=i(5532),a=i(7195),l=i(5231),h=i(8661),c=i(8634),u=i(7248),d=i(4187);class g extends l.Z{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:_,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:s.Z,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,e){const i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?e:{});for(const t in this.tileCacheForProjection){const n=this.tileCacheForProjection[t];n.expireCache(n==i?e:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!(0,h.OP)(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return!(this.getProjection()&&t&&!(0,h.OP)(this.getProjection(),t))&&super.getOpaque(t)}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||(0,h.OP)(e,t)))return this.tileGrid;const i=(0,d.sq)(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=(0,u.X$)(t)),this.tileGridForProjection[i]}getTileCacheForProjection(t){const e=this.getProjection();if(!e||(0,h.OP)(e,t))return this.tileCache;const i=(0,d.sq)(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new o.Z(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(t,e,i,s,r,o){const l=[t,e,i],h=this.getTileCoordForTileUrlFunction(l,r),c=h?this.tileUrlFunction(h,s,r):void 0,u=new this.tileClass(l,void 0!==c?a.Z.IDLE:a.Z.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(n.Z.CHANGE,this.handleTileChange.bind(this)),u}getTile(t,e,i,n,s){const o=this.getProjection();if(!o||!s||(0,h.OP)(o,s))return this.getTileInternal(t,e,i,n,o||s);const a=this.getTileCacheForProjection(s),l=[t,e,i];let u;const d=(0,c.km)(l);a.containsKey(d)&&(u=a.get(d));const g=this.getKey();if(u&&u.key==g)return u;const _=this.getTileGridForProjection(o),f=this.getTileGridForProjection(s),p=this.getTileCoordForTileUrlFunction(l,s),m=new r.Z(o,_,s,f,l,p,this.getTilePixelRatio(n),this.getGutter(),((t,e,i,n)=>this.getTileInternal(t,e,i,n,o)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return m.key=g,u?(m.interimTile=u,m.refreshInterimChain(),a.replace(d,m)):a.set(d,m),m}getTileInternal(t,e,i,n,s){let r=null;const o=(0,c.lg)(t,e,i),l=this.getKey();if(this.tileCache.containsKey(o)){if(r=this.tileCache.get(o),r.key!=l){const h=r;r=this.createTile_(t,e,i,n,s,l),h.getState()==a.Z.IDLE?r.interimTile=h.interimTile:r.interimTile=h,r.refreshInterimChain(),this.tileCache.replace(o,r)}}else r=this.createTile_(t,e,i,n,s,l),this.tileCache.set(o,r);return r}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(t,e){const i=(0,h.U2)(t);if(i){const t=(0,d.sq)(i);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}}function _(t,e){t.getImage().src=e}const f=g,p=class extends f{constructor(t){const e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",i=void 0!==t.tileGrid?t.tileGrid:(0,u.dl)({extent:(0,u.Tl)(e),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0}getGutter(){return this.gutter_}}},283:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var n=i(5393);class s extends n.Z{constructor(t){super({points:1/0,fill:(t=t||{radius:5}).fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new s({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius_=t,this.render()}}const r=s},1345:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});class n{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null}clone(){const t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){this.color_=t}}const s=n},2710:(t,e,i)=>{"use strict";i.d(e,{c:()=>r});var n=i(9706);function s(t,e,i){return e+":"+t+":"+(i?(0,n.XC)(i):"null")}const r=new class{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const i=this.cache_[e];0!=(3&t++)||i.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}}get(t,e,i){const n=s(t,e,i);return n in this.cache_?this.cache_[n]:null}set(t,e,i,n){const r=s(t,e,i);this.cache_[r]=n,++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}},8443:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var n=i(4187),s=i(4307);class r{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=(0,s.Pq)(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new r({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return(0,n.O3)()}getImage(t){return(0,n.O3)()}getHitDetectionImage(){return(0,n.O3)()}getPixelRatio(t){return 1}getImageState(){return(0,n.O3)()}getImageSize(){return(0,n.O3)()}getOrigin(){return(0,n.O3)()}getSize(){return(0,n.O3)()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,s.Pq)(t)}listenImageChange(t){(0,n.O3)()}load(){(0,n.O3)()}unlistenImageChange(t){(0,n.O3)()}}const o=r},5393:(t,e,i)=>{"use strict";i.d(e,{Z:()=>c});var n=i(553),s=i(8443),r=i(9706),o=i(6620),a=i(8326),l=i(147);class h extends s.Z{constructor(t){super({opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const t=this.getScale(),e=new h({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_;if(!t)return null;const e=this.getDisplacement(),i=this.getScaleArray();return[t[0]/2-e[0]/i[0],t[1]/2+e[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(t){let e=this.canvas_[t];if(!e){const i=this.renderOptions_,n=(0,a.E4)(i.size*t,i.size*t);this.draw_(i,n,t),e=n.canvas,this.canvas_[t]=e}return e}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return n.Z.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,i){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let n=this.radius_,s=void 0===this.radius2_?n:this.radius2_;if(n<s){const t=n;n=s,s=t}const r=void 0===this.radius2_?this.points_:2*this.points_,o=2*Math.PI/r,a=s*Math.sin(o),l=n-Math.sqrt(s*s-a*a),h=Math.sqrt(a*a+l*l),c=h/a;if("miter"===t&&c<=i)return c*e;const u=e/2/c,d=e/2*(l/h),g=Math.sqrt((n+u)*(n+u)+d*d)-n;if(void 0===this.radius2_||"bevel"===t)return 2*g;const _=n*Math.sin(o),f=s-Math.sqrt(n*n-_*_),p=Math.sqrt(_*_+f*f)/_;if(p<=i){const t=p*e/2-s-n;return 2*Math.max(g,t)}return 2*g}createRenderOptions(){let t,e=l.rc,i=0,n=null,s=0,r=0;this.stroke_&&(t=this.stroke_.getColor(),null===t&&(t=l.Tx),t=(0,o.y)(t),r=this.stroke_.getWidth(),void 0===r&&(r=l.yC),n=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),void 0===e&&(e=l.rc),i=this.stroke_.getMiterLimit(),void 0===i&&(i=l.V4));const a=this.calculateLineJoinSize_(e,r,i),h=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:r,size:Math.ceil(2*h+a),lineDash:n,lineDashOffset:s,lineJoin:e,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]}draw_(t,e,i){if(e.scale(i,i),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let t=this.fill_.getColor();null===t&&(t=l.bL),e.fillStyle=(0,o.y)(t),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){if(this.fill_){let e=this.fill_.getColor(),i=0;if("string"==typeof e&&(e=(0,r._2)(e)),null===e?i=1:Array.isArray(e)&&(i=4===e.length?e[3]:1),0===i){const e=(0,a.E4)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(t){let e=this.points_;const i=this.radius_;if(e===1/0)t.arc(0,0,i,0,2*Math.PI);else{const n=void 0===this.radius2_?i:this.radius2_;void 0!==this.radius2_&&(e*=2);const s=this.angle_-Math.PI/2,r=2*Math.PI/e;for(let o=0;o<e;o++){const e=s+o*r,a=o%2==0?i:n;t.lineTo(a*Math.cos(e),a*Math.sin(e))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=l.bL,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}}const c=h},8958:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});class n{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}const s=n},7539:(t,e,i)=>{"use strict";i.d(e,{J$:()=>l,ZP:()=>d,yF:()=>c});var n=i(283),s=i(1345),r=i(8958),o=i(9515);class a{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=u,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new a({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=u,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function l(t){let e;if("function"==typeof t)e=t;else{let i;Array.isArray(t)?i=t:((0,o.h)("function"==typeof t.getZIndex,41),i=[t]),e=function(){return i}}return e}let h=null;function c(t,e){if(!h){const t=new s.Z({color:"rgba(255,255,255,0.4)"}),e=new r.Z({color:"#3399CC",width:1.25});h=[new a({image:new n.Z({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return h}function u(t){return t.getGeometry()}const d=a},1280:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var n=i(1345),s=i(4307);class r{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=(0,s.Pq)(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new n.Z({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}clone(){const t=this.getScale();return new r({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,s.Pq)(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const o=r},8634:(t,e,i)=>{"use strict";function n(t,e,i,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=i,n):[t,e,i]}function s(t,e,i){return t+"/"+e+"/"+i}function r(t){return s(t[0],t[1],t[2])}function o(t){const[e,i,n]=t.substring(t.lastIndexOf("/")+1,t.length).split(",").map(Number);return s(e,i,n)}function a(t){return t.split("/").map(Number)}function l(t){return(t[1]<<t[0])+t[2]}function h(t,e){const i=t[0],n=t[1],s=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;const r=e.getFullTileRange(i);return!r||r.containsXY(n,s)}i.d(e,{MY:()=>o,T9:()=>n,Ul:()=>a,km:()=>r,lg:()=>s,tE:()=>h,vp:()=>l})},7248:(t,e,i)=>{"use strict";i.d(e,{Cf:()=>h,Tl:()=>d,X$:()=>l,dl:()=>c});var n=i(8738),s=i(4768),r=i(8661),o=i(8641),a=i(4307);function l(t){let e=t.getDefaultTileGrid();return e||(e=function(t,e,i,s){return function(t,e,i,s){s=void 0!==s?s:"top-left";const r=u(t,undefined,i);return new n.Z({extent:t,origin:(0,o.g0)(t,s),resolutions:r,tileSize:i})}(d(t),0,void 0,void 0)}(t),t.setDefaultTileGrid(e)),e}function h(t,e,i){const n=e[0],s=t.getTileCoordCenter(e),r=d(i);if(!(0,o.b8)(r,s)){const e=(0,o.dz)(r),i=Math.ceil((r[0]-s[0])/e);return s[0]+=e*i,t.getTileCoordForCoordAndZ(s,n)}return e}function c(t){const e=t||{},i=e.extent||(0,r.U2)("EPSG:3857").getExtent(),s={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:u(i,e.maxZoom,e.tileSize,e.maxResolution)};return new n.Z(s)}function u(t,e,i,n){e=void 0!==e?e:s.e,i=(0,a.Pq)(void 0!==i?i:s.S);const r=(0,o.Cr)(t),l=(0,o.dz)(t);n=n>0?n:Math.max(l/i[0],r/i[1]);const h=e+1,c=new Array(h);for(let t=0;t<h;++t)c[t]=n/Math.pow(2,t);return c}function d(t){let e=(t=(0,r.U2)(t)).getExtent();if(!e){const i=180*r.Wm.degrees/t.getMetersPerUnit();e=(0,o.T9)(-i,-i,i,i)}return e}},8738:(t,e,i)=>{"use strict";i.d(e,{Z:()=>g});var n=i(2519),s=i(4768),r=i(9515),o=i(3983),a=i(8641),l=i(8634),h=i(969),c=i(5537),u=i(4307);const d=[0,0,0],g=class{constructor(t){let e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,r.h)((0,c.pT)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(let t=0,i=this.resolutions_.length-1;t<i;++t)if(e){if(this.resolutions_[t]/this.resolutions_[t+1]!==e){e=void 0;break}}else e=this.resolutions_[t]/this.resolutions_[t+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,r.h)(this.origins_.length==this.resolutions_.length,20));const i=t.extent;void 0===i||this.origin_||this.origins_||(this.origin_=(0,a.rL)(i)),(0,r.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,r.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:s.S,(0,r.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){const s=new n.Z(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(i){const t=this.getTileRangeForExtentAndZ(i,e);s.minX=Math.max(t.minX,s.minX),s.maxX=Math.min(t.maxX,s.maxX),s.minY=Math.max(t.minY,s.minY),s.maxY=Math.min(t.maxY,s.maxY)}return s}),this):i&&this.calculateTileRanges_(i)}forEachTileCoord(t,e,i){const n=this.getTileRangeForExtentAndZ(t,e);for(let t=n.minX,s=n.maxX;t<=s;++t)for(let s=n.minY,r=n.maxY;s<=r;++s)i([e,t,s])}forEachTileCoordParentTileRange(t,e,i,s){let r,o,a,l=null,h=t[0]-1;for(2===this.zoomFactor_?(o=t[1],a=t[2]):l=this.getTileCoordExtent(t,s);h>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),a=Math.floor(a/2),r=(0,n.T)(o,o,a,a,i)):r=this.getTileRangeForExtentAndZ(l,h,i),e(h,r))return!0;--h}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){const i=2*t[1],s=2*t[2];return(0,n.T)(i,i+1,s,s+1,e)}const s=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,i){if(e>this.maxZoom||e<this.minZoom)return null;const s=t[0],r=t[1],o=t[2];if(e===s)return(0,n.T)(r,o,r,o,i);if(this.zoomFactor_){const t=Math.pow(this.zoomFactor_,e-s),a=Math.floor(r*t),l=Math.floor(o*t);if(e<s)return(0,n.T)(a,a,l,l,i);const h=Math.floor(t*(r+1))-1,c=Math.floor(t*(o+1))-1;return(0,n.T)(a,h,l,c,i)}const a=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,e,i)}getTileRangeExtent(t,e,i){const n=this.getOrigin(t),s=this.getResolution(t),r=(0,u.Pq)(this.getTileSize(t),this.tmpSize_),o=n[0]+e.minX*r[0]*s,l=n[0]+(e.maxX+1)*r[0]*s,h=n[1]+e.minY*r[1]*s,c=n[1]+(e.maxY+1)*r[1]*s;return(0,a.T9)(o,h,l,c,i)}getTileRangeForExtentAndZ(t,e,i){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,d);const s=d[1],r=d[2];this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,d);const o=d[1],a=d[2];return(0,n.T)(s,o,r,a,i)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),i=this.getResolution(t[0]),n=(0,u.Pq)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*n[0]*i,e[1]-(t[2]+.5)*n[1]*i]}getTileCoordExtent(t,e){const i=this.getOrigin(t[0]),n=this.getResolution(t[0]),s=(0,u.Pq)(this.getTileSize(t[0]),this.tmpSize_),r=i[0]+t[1]*s[0]*n,o=i[1]-(t[2]+1)*s[1]*n,l=r+s[0]*n,h=o+s[1]*n;return(0,a.T9)(r,o,l,h,e)}getTileCoordForCoordAndResolution(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)}getTileCoordForXYAndResolution_(t,e,i,n,s){const r=this.getZForResolution(i),a=i/this.getResolution(r),h=this.getOrigin(r),c=(0,u.Pq)(this.getTileSize(r),this.tmpSize_);let d=a*(t-h[0])/i/c[0],g=a*(h[1]-e)/i/c[1];return n?(d=(0,o.mD)(d,5)-1,g=(0,o.mD)(g,5)-1):(d=(0,o.GW)(d,5),g=(0,o.GW)(g,5)),(0,l.T9)(r,d,g,s)}getTileCoordForXYAndZ_(t,e,i,n,s){const r=this.getOrigin(i),a=this.getResolution(i),h=(0,u.Pq)(this.getTileSize(i),this.tmpSize_);let c=(t-r[0])/a/h[0],d=(r[1]-e)/a/h[1];return n?(c=(0,o.mD)(c,5)-1,d=(0,o.mD)(d,5)-1):(c=(0,o.GW)(c,5),d=(0,o.GW)(d,5)),(0,l.T9)(i,c,d,s)}getTileCoordForCoordAndZ(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){const i=(0,c.h7)(this.resolutions_,t,e||0);return(0,o.uZ)(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return(0,h.mV)(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,i=new Array(e);for(let n=this.minZoom;n<e;++n)i[n]=this.getTileRangeForExtentAndZ(t,n);this.fullTileRanges_=i}}},4768:(t,e,i)=>{"use strict";i.d(e,{S:()=>s,e:()=>n});const n=42,s=256},6101:(t,e,i)=>{"use strict";i.d(e,{BB:()=>m,Iu:()=>g,Jp:()=>l,Ue:()=>o,bA:()=>d,lk:()=>c,mc:()=>a,nb:()=>f,nn:()=>u,qC:()=>_});var n=i(177),s=i(9515);const r=new Array(6);function o(){return[1,0,0,1,0,0]}function a(t){return h(t,1,0,0,1,0,0)}function l(t,e){const i=t[0],n=t[1],s=t[2],r=t[3],o=t[4],a=t[5],l=e[0],h=e[1],c=e[2],u=e[3],d=e[4],g=e[5];return t[0]=i*l+s*h,t[1]=n*l+r*h,t[2]=i*c+s*u,t[3]=n*c+r*u,t[4]=i*d+s*g+o,t[5]=n*d+r*g+a,t}function h(t,e,i,n,s,r,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=s,t[4]=r,t[5]=o,t}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function u(t,e){const i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function d(t,e,i){return l(t,h(r,e,0,0,i,0,0))}function g(t,e,i){return l(t,h(r,1,0,0,1,e,i))}function _(t,e,i,n,s,r,o,a){const l=Math.sin(r),h=Math.cos(r);return t[0]=n*h,t[1]=s*l,t[2]=-n*l,t[3]=s*h,t[4]=o*n*h-a*n*l+e,t[5]=o*s*l+a*s*h+i,t}function f(t,e){const i=(n=e)[0]*n[3]-n[1]*n[2];var n;(0,s.h)(0!==i,32);const r=e[0],o=e[1],a=e[2],l=e[3],h=e[4],c=e[5];return t[0]=l/i,t[1]=-o/i,t[2]=-a/i,t[3]=r/i,t[4]=(a*c-l*h)/i,t[5]=-(r*c-o*h)/i,t}let p;function m(t){const e="matrix("+t.join(", ")+")";if(n.Id)return e;const i=p||(p=document.createElement("div"));return i.style.transform=e,i.style.transform}},4187:(t,e,i)=>{"use strict";function n(){throw new Error("Unimplemented abstract method.")}i.d(e,{O3:()=>n,sq:()=>r});let s=0;function r(t){return t.ol_uid||(t.ol_uid=String(++s))}},7885:(t,e,i)=>{"use strict";function n(t){let e=t.length;for(;--e>=0;)t[e]=0}i.d(e,{ec:()=>fi});const s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),r=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),a=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=new Array(576);n(l);const h=new Array(60);n(h);const c=new Array(512);n(c);const u=new Array(256);n(u);const d=new Array(29);n(d);const g=new Array(30);function _(t,e,i,n,s){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=s,this.has_stree=t&&t.length}let f,p,m;function v(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}n(g);const y=t=>t<256?c[t]:c[256+(t>>>7)],x=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},w=(t,e,i)=>{t.bi_valid>16-i?(t.bi_buf|=e<<t.bi_valid&65535,x(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)},S=(t,e,i)=>{w(t,i[2*e],i[2*e+1])},E=(t,e)=>{let i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1},b=(t,e,i)=>{const n=new Array(16);let s,r,o=0;for(s=1;s<=15;s++)o=o+i[s-1]<<1,n[s]=o;for(r=0;r<=e;r++){let e=t[2*r+1];0!==e&&(t[2*r]=E(n[e]++,e))}},C=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},T=t=>{t.bi_valid>8?x(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},R=(t,e,i,n)=>{const s=2*e,r=2*i;return t[s]<t[r]||t[s]===t[r]&&n[e]<=n[i]},I=(t,e,i)=>{const n=t.heap[i];let s=i<<1;for(;s<=t.heap_len&&(s<t.heap_len&&R(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!R(e,n,t.heap[s],t.depth));)t.heap[i]=t.heap[s],i=s,s<<=1;t.heap[i]=n},k=(t,e,i)=>{let n,o,a,l,h=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+h++],n+=(255&t.pending_buf[t.sym_buf+h++])<<8,o=t.pending_buf[t.sym_buf+h++],0===n?S(t,o,e):(a=u[o],S(t,a+256+1,e),l=s[a],0!==l&&(o-=d[a],w(t,o,l)),n--,a=y(n),S(t,a,i),l=r[a],0!==l&&(n-=g[a],w(t,n,l)))}while(h<t.sym_next);S(t,256,e)},M=(t,e)=>{const i=e.dyn_tree,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,r=e.stat_desc.elems;let o,a,l,h=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<r;o++)0!==i[2*o]?(t.heap[++t.heap_len]=h=o,t.depth[o]=0):i[2*o+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=h<2?++h:0,i[2*l]=1,t.depth[l]=0,t.opt_len--,s&&(t.static_len-=n[2*l+1]);for(e.max_code=h,o=t.heap_len>>1;o>=1;o--)I(t,i,o);l=r;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],I(t,i,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,i[2*l]=i[2*o]+i[2*a],t.depth[l]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,i[2*o+1]=i[2*a+1]=l,t.heap[1]=l++,I(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const i=e.dyn_tree,n=e.max_code,s=e.stat_desc.static_tree,r=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let h,c,u,d,g,_,f=0;for(d=0;d<=15;d++)t.bl_count[d]=0;for(i[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<573;h++)c=t.heap[h],d=i[2*i[2*c+1]+1]+1,d>l&&(d=l,f++),i[2*c+1]=d,c>n||(t.bl_count[d]++,g=0,c>=a&&(g=o[c-a]),_=i[2*c],t.opt_len+=_*(d+g),r&&(t.static_len+=_*(s[2*c+1]+g)));if(0!==f){do{for(d=l-1;0===t.bl_count[d];)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[l]--,f-=2}while(f>0);for(d=l;0!==d;d--)for(c=t.bl_count[d];0!==c;)u=t.heap[--h],u>n||(i[2*u+1]!==d&&(t.opt_len+=(d-i[2*u+1])*i[2*u],i[2*u+1]=d),c--)}})(t,e),b(i,h,t.bl_count)},L=(t,e,i)=>{let n,s,r=-1,o=e[1],a=0,l=7,h=4;for(0===o&&(l=138,h=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)s=o,o=e[2*(n+1)+1],++a<l&&s===o||(a<h?t.bl_tree[2*s]+=a:0!==s?(s!==r&&t.bl_tree[2*s]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,r=s,0===o?(l=138,h=3):s===o?(l=6,h=3):(l=7,h=4))},P=(t,e,i)=>{let n,s,r=-1,o=e[1],a=0,l=7,h=4;for(0===o&&(l=138,h=3),n=0;n<=i;n++)if(s=o,o=e[2*(n+1)+1],!(++a<l&&s===o)){if(a<h)do{S(t,s,t.bl_tree)}while(0!=--a);else 0!==s?(s!==r&&(S(t,s,t.bl_tree),a--),S(t,16,t.bl_tree),w(t,a-3,2)):a<=10?(S(t,17,t.bl_tree),w(t,a-3,3)):(S(t,18,t.bl_tree),w(t,a-11,7));a=0,r=s,0===o?(l=138,h=3):s===o?(l=6,h=3):(l=7,h=4)}};let O=!1;const A=(t,e,i,n)=>{w(t,0+(n?1:0),3),T(t),x(t,i),x(t,~i),i&&t.pending_buf.set(t.window.subarray(e,e+i),t.pending),t.pending+=i};var Z={_tr_init:t=>{O||((()=>{let t,e,i,n,a;const v=new Array(16);for(i=0,n=0;n<28;n++)for(d[n]=i,t=0;t<1<<s[n];t++)u[i++]=n;for(u[i-1]=n,a=0,n=0;n<16;n++)for(g[n]=a,t=0;t<1<<r[n];t++)c[a++]=n;for(a>>=7;n<30;n++)for(g[n]=a<<7,t=0;t<1<<r[n]-7;t++)c[256+a++]=n;for(e=0;e<=15;e++)v[e]=0;for(t=0;t<=143;)l[2*t+1]=8,t++,v[8]++;for(;t<=255;)l[2*t+1]=9,t++,v[9]++;for(;t<=279;)l[2*t+1]=7,t++,v[7]++;for(;t<=287;)l[2*t+1]=8,t++,v[8]++;for(b(l,287,v),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=E(t,5);f=new _(l,s,257,286,15),p=new _(h,r,0,30,15),m=new _(new Array(0),o,0,19,7)})(),O=!0),t.l_desc=new v(t.dyn_ltree,f),t.d_desc=new v(t.dyn_dtree,p),t.bl_desc=new v(t.bl_tree,m),t.bi_buf=0,t.bi_valid=0,C(t)},_tr_stored_block:A,_tr_flush_block:(t,e,i,n)=>{let s,r,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),M(t,t.l_desc),M(t,t.d_desc),o=(t=>{let e;for(L(t,t.dyn_ltree,t.l_desc.max_code),L(t,t.dyn_dtree,t.d_desc.max_code),M(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*a[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),s=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=s&&(s=r)):s=r=i+5,i+4<=s&&-1!==e?A(t,e,i,n):4===t.strategy||r===s?(w(t,2+(n?1:0),3),k(t,l,h)):(w(t,4+(n?1:0),3),((t,e,i,n)=>{let s;for(w(t,e-257,5),w(t,i-1,5),w(t,n-4,4),s=0;s<n;s++)w(t,t.bl_tree[2*a[s]+1],3);P(t,t.dyn_ltree,e-1),P(t,t.dyn_dtree,i-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),k(t,t.dyn_ltree,t.dyn_dtree)),C(t),n&&T(t)},_tr_tally:(t,e,i)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=i,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(u[i]+256+1)]++,t.dyn_dtree[2*y(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{w(t,2,3),S(t,256,l),(t=>{16===t.bi_valid?(x(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},F=(t,e,i,n)=>{let s=65535&t|0,r=t>>>16&65535|0,o=0;for(;0!==i;){o=i>2e3?2e3:i,i-=o;do{s=s+e[n++]|0,r=r+s|0}while(--o);s%=65521,r%=65521}return s|r<<16|0};const D=new Uint32Array((()=>{let t,e=[];for(var i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e})());var z=(t,e,i,n)=>{const s=D,r=n+i;t^=-1;for(let i=n;i<r;i++)t=t>>>8^s[255&(t^e[i])];return-1^t},N={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},G={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:B,_tr_stored_block:W,_tr_flush_block:j,_tr_tally:U,_tr_align:Y}=Z,{Z_NO_FLUSH:V,Z_PARTIAL_FLUSH:X,Z_FULL_FLUSH:K,Z_FINISH:H,Z_BLOCK:q,Z_OK:J,Z_STREAM_END:$,Z_STREAM_ERROR:Q,Z_DATA_ERROR:tt,Z_BUF_ERROR:et,Z_DEFAULT_COMPRESSION:it,Z_FILTERED:nt,Z_HUFFMAN_ONLY:st,Z_RLE:rt,Z_FIXED:ot,Z_DEFAULT_STRATEGY:at,Z_UNKNOWN:lt,Z_DEFLATED:ht}=G,ct=286,ut=30,dt=19,gt=2*ct+1,_t=15,ft=258,pt=262,mt=42,vt=113,yt=666,xt=(t,e)=>(t.msg=N[e],e),wt=t=>2*t-(t>4?9:0),St=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Et=t=>{let e,i,n,s=t.w_size;e=t.hash_size,n=e;do{i=t.head[--n],t.head[n]=i>=s?i-s:0}while(--e);e=s,n=e;do{i=t.prev[--n],t.prev[n]=i>=s?i-s:0}while(--e)};let bt=(t,e,i)=>(e<<t.hash_shift^i)&t.hash_mask;const Ct=t=>{const e=t.state;let i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+i),t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))},Tt=(t,e)=>{j(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ct(t.strm)},Rt=(t,e)=>{t.pending_buf[t.pending++]=e},It=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},kt=(t,e,i,n)=>{let s=t.avail_in;return s>n&&(s=n),0===s?0:(t.avail_in-=s,e.set(t.input.subarray(t.next_in,t.next_in+s),i),1===t.state.wrap?t.adler=F(t.adler,e,s,i):2===t.state.wrap&&(t.adler=z(t.adler,e,s,i)),t.next_in+=s,t.total_in+=s,s)},Mt=(t,e)=>{let i,n,s=t.max_chain_length,r=t.strstart,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-pt?t.strstart-(t.w_size-pt):0,h=t.window,c=t.w_mask,u=t.prev,d=t.strstart+ft;let g=h[r+o-1],_=h[r+o];t.prev_length>=t.good_match&&(s>>=2),a>t.lookahead&&(a=t.lookahead);do{if(i=e,h[i+o]===_&&h[i+o-1]===g&&h[i]===h[r]&&h[++i]===h[r+1]){r+=2,i++;do{}while(h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&r<d);if(n=ft-(d-r),r=d-ft,n>o){if(t.match_start=e,o=n,n>=a)break;g=h[r+o-1],_=h[r+o]}}}while((e=u[e&c])>l&&0!=--s);return o<=t.lookahead?o:t.lookahead},Lt=t=>{const e=t.w_size;let i,n,s;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-pt)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Et(t),n+=e),0===t.strm.avail_in)break;if(i=kt(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=i,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=bt(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=bt(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<pt&&0!==t.strm.avail_in)},Pt=(t,e)=>{let i,n,s,r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,o=0,a=t.strm.avail_in;do{if(i=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s)break;if(s=t.strm.avail_out-s,n=t.strstart-t.block_start,i>n+t.strm.avail_in&&(i=n+t.strm.avail_in),i>s&&(i=s),i<r&&(0===i&&e!==H||e===V||i!==n+t.strm.avail_in))break;o=e===H&&i===n+t.strm.avail_in?1:0,W(t,0,0,o),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,Ct(t.strm),n&&(n>i&&(n=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,i-=n),i&&(kt(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(0===o);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?4:e!==V&&e!==H&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(kt(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,r=s>t.w_size?t.w_size:s,n=t.strstart-t.block_start,(n>=r||(n||e===H)&&e!==V&&0===t.strm.avail_in&&n<=s)&&(i=n>s?s:n,o=e===H&&0===t.strm.avail_in&&i===n?1:0,W(t,t.block_start,i,o),t.block_start+=i,Ct(t.strm)),o?3:1)},Ot=(t,e)=>{let i,n;for(;;){if(t.lookahead<pt){if(Lt(t),t.lookahead<pt&&e===V)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=bt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-pt&&(t.match_length=Mt(t,i)),t.match_length>=3)if(n=U(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=bt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=bt(t,t.ins_h,t.window[t.strstart+1]);else n=U(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Tt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===H?(Tt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Tt(t,!1),0===t.strm.avail_out)?1:2},At=(t,e)=>{let i,n,s;for(;;){if(t.lookahead<pt){if(Lt(t),t.lookahead<pt&&e===V)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=bt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-pt&&(t.match_length=Mt(t,i),t.match_length<=5&&(t.strategy===nt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-3,n=U(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=s&&(t.ins_h=bt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Tt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=U(t,0,t.window[t.strstart-1]),n&&Tt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=U(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===H?(Tt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Tt(t,!1),0===t.strm.avail_out)?1:2};function Zt(t,e,i,n,s){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=s}const Ft=[new Zt(0,0,0,0,Pt),new Zt(4,4,8,4,Ot),new Zt(4,5,16,8,Ot),new Zt(4,6,32,32,Ot),new Zt(4,4,16,16,At),new Zt(8,16,32,32,At),new Zt(8,16,128,128,At),new Zt(8,32,128,256,At),new Zt(32,128,258,1024,At),new Zt(32,258,258,4096,At)];function Dt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ht,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*gt),this.dyn_dtree=new Uint16Array(2*(2*ut+1)),this.bl_tree=new Uint16Array(2*(2*dt+1)),St(this.dyn_ltree),St(this.dyn_dtree),St(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(_t+1),this.heap=new Uint16Array(2*ct+1),St(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ct+1),St(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const zt=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==mt&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==vt&&e.status!==yt?1:0},Nt=t=>{if(zt(t))return xt(t,Q);t.total_in=t.total_out=0,t.data_type=lt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?mt:vt,t.adler=2===e.wrap?0:1,e.last_flush=-2,B(e),J},Gt=t=>{const e=Nt(t);var i;return e===J&&((i=t.state).window_size=2*i.w_size,St(i.head),i.max_lazy_match=Ft[i.level].max_lazy,i.good_match=Ft[i.level].good_length,i.nice_match=Ft[i.level].nice_length,i.max_chain_length=Ft[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),e},Bt=(t,e,i,n,s,r)=>{if(!t)return Q;let o=1;if(e===it&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),s<1||s>9||i!==ht||n<8||n>15||e<0||e>9||r<0||r>ot||8===n&&1!==o)return xt(t,Q);8===n&&(n=9);const a=new Dt;return t.state=a,a.strm=t,a.status=mt,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=s+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<s+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=r,a.method=i,Gt(t)};var Wt={deflateInit:(t,e)=>Bt(t,e,ht,15,8,at),deflateInit2:Bt,deflateReset:Gt,deflateResetKeep:Nt,deflateSetHeader:(t,e)=>zt(t)||2!==t.state.wrap?Q:(t.state.gzhead=e,J),deflate:(t,e)=>{if(zt(t)||e>q||e<0)return t?xt(t,Q):Q;const i=t.state;if(!t.output||0!==t.avail_in&&!t.input||i.status===yt&&e!==H)return xt(t,0===t.avail_out?et:Q);const n=i.last_flush;if(i.last_flush=e,0!==i.pending){if(Ct(t),0===t.avail_out)return i.last_flush=-1,J}else if(0===t.avail_in&&wt(e)<=wt(n)&&e!==H)return xt(t,et);if(i.status===yt&&0!==t.avail_in)return xt(t,et);if(i.status===mt&&0===i.wrap&&(i.status=vt),i.status===mt){let e=ht+(i.w_bits-8<<4)<<8,n=-1;if(n=i.strategy>=st||i.level<2?0:i.level<6?1:6===i.level?2:3,e|=n<<6,0!==i.strstart&&(e|=32),e+=31-e%31,It(i,e),0!==i.strstart&&(It(i,t.adler>>>16),It(i,65535&t.adler)),t.adler=1,i.status=vt,Ct(t),0!==i.pending)return i.last_flush=-1,J}if(57===i.status)if(t.adler=0,Rt(i,31),Rt(i,139),Rt(i,8),i.gzhead)Rt(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Rt(i,255&i.gzhead.time),Rt(i,i.gzhead.time>>8&255),Rt(i,i.gzhead.time>>16&255),Rt(i,i.gzhead.time>>24&255),Rt(i,9===i.level?2:i.strategy>=st||i.level<2?4:0),Rt(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Rt(i,255&i.gzhead.extra.length),Rt(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=z(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(Rt(i,0),Rt(i,0),Rt(i,0),Rt(i,0),Rt(i,0),Rt(i,9===i.level?2:i.strategy>=st||i.level<2?4:0),Rt(i,3),i.status=vt,Ct(t),0!==i.pending)return i.last_flush=-1,J;if(69===i.status){if(i.gzhead.extra){let e=i.pending,n=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let s=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+s),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>e&&(t.adler=z(t.adler,i.pending_buf,i.pending-e,e)),i.gzindex+=s,Ct(t),0!==i.pending)return i.last_flush=-1,J;e=0,n-=s}let s=new Uint8Array(i.gzhead.extra);i.pending_buf.set(s.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>e&&(t.adler=z(t.adler,i.pending_buf,i.pending-e,e)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let e,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(t.adler=z(t.adler,i.pending_buf,i.pending-n,n)),Ct(t),0!==i.pending)return i.last_flush=-1,J;n=0}e=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Rt(i,e)}while(0!==e);i.gzhead.hcrc&&i.pending>n&&(t.adler=z(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let e,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(t.adler=z(t.adler,i.pending_buf,i.pending-n,n)),Ct(t),0!==i.pending)return i.last_flush=-1,J;n=0}e=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Rt(i,e)}while(0!==e);i.gzhead.hcrc&&i.pending>n&&(t.adler=z(t.adler,i.pending_buf,i.pending-n,n))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(Ct(t),0!==i.pending))return i.last_flush=-1,J;Rt(i,255&t.adler),Rt(i,t.adler>>8&255),t.adler=0}if(i.status=vt,Ct(t),0!==i.pending)return i.last_flush=-1,J}if(0!==t.avail_in||0!==i.lookahead||e!==V&&i.status!==yt){let n=0===i.level?Pt(i,e):i.strategy===st?((t,e)=>{let i;for(;;){if(0===t.lookahead&&(Lt(t),0===t.lookahead)){if(e===V)return 1;break}if(t.match_length=0,i=U(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(Tt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===H?(Tt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Tt(t,!1),0===t.strm.avail_out)?1:2})(i,e):i.strategy===rt?((t,e)=>{let i,n,s,r;const o=t.window;for(;;){if(t.lookahead<=ft){if(Lt(t),t.lookahead<=ft&&e===V)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(s=t.strstart-1,n=o[s],n===o[++s]&&n===o[++s]&&n===o[++s])){r=t.strstart+ft;do{}while(n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&s<r);t.match_length=ft-(r-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=U(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=U(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(Tt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===H?(Tt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Tt(t,!1),0===t.strm.avail_out)?1:2})(i,e):Ft[i.level].func(i,e);if(3!==n&&4!==n||(i.status=yt),1===n||3===n)return 0===t.avail_out&&(i.last_flush=-1),J;if(2===n&&(e===X?Y(i):e!==q&&(W(i,0,0,!1),e===K&&(St(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Ct(t),0===t.avail_out))return i.last_flush=-1,J}return e!==H?J:i.wrap<=0?$:(2===i.wrap?(Rt(i,255&t.adler),Rt(i,t.adler>>8&255),Rt(i,t.adler>>16&255),Rt(i,t.adler>>24&255),Rt(i,255&t.total_in),Rt(i,t.total_in>>8&255),Rt(i,t.total_in>>16&255),Rt(i,t.total_in>>24&255)):(It(i,t.adler>>>16),It(i,65535&t.adler)),Ct(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?J:$)},deflateEnd:t=>{if(zt(t))return Q;const e=t.state.status;return t.state=null,e===vt?xt(t,tt):J},deflateSetDictionary:(t,e)=>{let i=e.length;if(zt(t))return Q;const n=t.state,s=n.wrap;if(2===s||1===s&&n.status!==mt||n.lookahead)return Q;if(1===s&&(t.adler=F(t.adler,e,i,0)),n.wrap=0,i>=n.w_size){0===s&&(St(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(i-n.w_size,i),0),e=t,i=n.w_size}const r=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=i,t.next_in=0,t.input=e,Lt(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=bt(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,Lt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=o,t.input=a,t.avail_in=r,n.wrap=s,J},deflateInfo:"pako deflate (from Nodeca project)"};const jt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Ut={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const e in i)jt(i,e)&&(t[e]=i[e])}}return t},flattenChunks:t=>{let e=0;for(let i=0,n=t.length;i<n;i++)e+=t[i].length;const i=new Uint8Array(e);for(let e=0,n=0,s=t.length;e<s;e++){let s=t[e];i.set(s,n),n+=s.length}return i}};let Yt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Yt=!1}const Vt=new Uint8Array(256);for(let t=0;t<256;t++)Vt[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Vt[254]=Vt[254]=1;var Xt={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,i,n,s,r,o=t.length,a=0;for(s=0;s<o;s++)i=t.charCodeAt(s),55296==(64512&i)&&s+1<o&&(n=t.charCodeAt(s+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),s++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(e=new Uint8Array(a),r=0,s=0;r<a;s++)i=t.charCodeAt(s),55296==(64512&i)&&s+1<o&&(n=t.charCodeAt(s+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),s++)),i<128?e[r++]=i:i<2048?(e[r++]=192|i>>>6,e[r++]=128|63&i):i<65536?(e[r++]=224|i>>>12,e[r++]=128|i>>>6&63,e[r++]=128|63&i):(e[r++]=240|i>>>18,e[r++]=128|i>>>12&63,e[r++]=128|i>>>6&63,e[r++]=128|63&i);return e},buf2string:(t,e)=>{const i=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,s;const r=new Array(2*i);for(s=0,n=0;n<i;){let e=t[n++];if(e<128){r[s++]=e;continue}let o=Vt[e];if(o>4)r[s++]=65533,n+=o-1;else{for(e&=2===o?31:3===o?15:7;o>1&&n<i;)e=e<<6|63&t[n++],o--;o>1?r[s++]=65533:e<65536?r[s++]=e:(e-=65536,r[s++]=55296|e>>10&1023,r[s++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Yt)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let i="";for(let n=0;n<e;n++)i+=String.fromCharCode(t[n]);return i})(r,s)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let i=e-1;for(;i>=0&&128==(192&t[i]);)i--;return i<0||0===i?e:i+Vt[t[i]]>e?i:e}},Kt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ht=Object.prototype.toString,{Z_NO_FLUSH:qt,Z_SYNC_FLUSH:Jt,Z_FULL_FLUSH:$t,Z_FINISH:Qt,Z_OK:te,Z_STREAM_END:ee,Z_DEFAULT_COMPRESSION:ie,Z_DEFAULT_STRATEGY:ne,Z_DEFLATED:se}=G;function re(t){this.options=Ut.assign({level:ie,method:se,chunkSize:16384,windowBits:15,memLevel:8,strategy:ne},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kt,this.strm.avail_out=0;let i=Wt.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==te)throw new Error(N[i]);if(e.header&&Wt.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Xt.string2buf(e.dictionary):"[object ArrayBuffer]"===Ht.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,i=Wt.deflateSetDictionary(this.strm,t),i!==te)throw new Error(N[i]);this._dict_set=!0}}function oe(t,e){const i=new re(e);if(i.push(t,!0),i.err)throw i.msg||N[i.err];return i.result}re.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize;let s,r;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Qt:qt,"string"==typeof t?i.input=Xt.string2buf(t):"[object ArrayBuffer]"===Ht.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(r===Jt||r===$t)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(s=Wt.deflate(i,r),s===ee)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),s=Wt.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===te;if(0!==i.avail_out){if(r>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},re.prototype.onData=function(t){this.chunks.push(t)},re.prototype.onEnd=function(t){t===te&&(this.result=Ut.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ae={Deflate:re,deflate:oe,deflateRaw:function(t,e){return(e=e||{}).raw=!0,oe(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,oe(t,e)},constants:G};const le=16209;var he=function(t,e){let i,n,s,r,o,a,l,h,c,u,d,g,_,f,p,m,v,y,x,w,S,E,b,C;const T=t.state;i=t.next_in,b=t.input,n=i+(t.avail_in-5),s=t.next_out,C=t.output,r=s-(e-t.avail_out),o=s+(t.avail_out-257),a=T.dmax,l=T.wsize,h=T.whave,c=T.wnext,u=T.window,d=T.hold,g=T.bits,_=T.lencode,f=T.distcode,p=(1<<T.lenbits)-1,m=(1<<T.distbits)-1;t:do{g<15&&(d+=b[i++]<<g,g+=8,d+=b[i++]<<g,g+=8),v=_[d&p];e:for(;;){if(y=v>>>24,d>>>=y,g-=y,y=v>>>16&255,0===y)C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=_[(65535&v)+(d&(1<<y)-1)];continue e}if(32&y){T.mode=16191;break t}t.msg="invalid literal/length code",T.mode=le;break t}x=65535&v,y&=15,y&&(g<y&&(d+=b[i++]<<g,g+=8),x+=d&(1<<y)-1,d>>>=y,g-=y),g<15&&(d+=b[i++]<<g,g+=8,d+=b[i++]<<g,g+=8),v=f[d&m];i:for(;;){if(y=v>>>24,d>>>=y,g-=y,y=v>>>16&255,!(16&y)){if(0==(64&y)){v=f[(65535&v)+(d&(1<<y)-1)];continue i}t.msg="invalid distance code",T.mode=le;break t}if(w=65535&v,y&=15,g<y&&(d+=b[i++]<<g,g+=8,g<y&&(d+=b[i++]<<g,g+=8)),w+=d&(1<<y)-1,w>a){t.msg="invalid distance too far back",T.mode=le;break t}if(d>>>=y,g-=y,y=s-r,w>y){if(y=w-y,y>h&&T.sane){t.msg="invalid distance too far back",T.mode=le;break t}if(S=0,E=u,0===c){if(S+=l-y,y<x){x-=y;do{C[s++]=u[S++]}while(--y);S=s-w,E=C}}else if(c<y){if(S+=l+c-y,y-=c,y<x){x-=y;do{C[s++]=u[S++]}while(--y);if(S=0,c<x){y=c,x-=y;do{C[s++]=u[S++]}while(--y);S=s-w,E=C}}}else if(S+=c-y,y<x){x-=y;do{C[s++]=u[S++]}while(--y);S=s-w,E=C}for(;x>2;)C[s++]=E[S++],C[s++]=E[S++],C[s++]=E[S++],x-=3;x&&(C[s++]=E[S++],x>1&&(C[s++]=E[S++]))}else{S=s-w;do{C[s++]=C[S++],C[s++]=C[S++],C[s++]=C[S++],x-=3}while(x>2);x&&(C[s++]=C[S++],x>1&&(C[s++]=C[S++]))}break}}break}}while(i<n&&s<o);x=g>>3,i-=x,g-=x<<3,d&=(1<<g)-1,t.next_in=i,t.next_out=s,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=s<o?o-s+257:257-(s-o),T.hold=d,T.bits=g};const ce=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ue=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),de=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ge=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var _e=(t,e,i,n,s,r,o,a)=>{const l=a.bits;let h,c,u,d,g,_,f=0,p=0,m=0,v=0,y=0,x=0,w=0,S=0,E=0,b=0,C=null;const T=new Uint16Array(16),R=new Uint16Array(16);let I,k,M,L=null;for(f=0;f<=15;f++)T[f]=0;for(p=0;p<n;p++)T[e[i+p]]++;for(y=l,v=15;v>=1&&0===T[v];v--);if(y>v&&(y=v),0===v)return s[r++]=20971520,s[r++]=20971520,a.bits=1,0;for(m=1;m<v&&0===T[m];m++);for(y<m&&(y=m),S=1,f=1;f<=15;f++)if(S<<=1,S-=T[f],S<0)return-1;if(S>0&&(0===t||1!==v))return-1;for(R[1]=0,f=1;f<15;f++)R[f+1]=R[f]+T[f];for(p=0;p<n;p++)0!==e[i+p]&&(o[R[e[i+p]]++]=p);if(0===t?(C=L=o,_=20):1===t?(C=ce,L=ue,_=257):(C=de,L=ge,_=0),b=0,p=0,f=m,g=r,x=y,w=0,u=-1,E=1<<y,d=E-1,1===t&&E>852||2===t&&E>592)return 1;for(;;){I=f-w,o[p]+1<_?(k=0,M=o[p]):o[p]>=_?(k=L[o[p]-_],M=C[o[p]-_]):(k=96,M=0),h=1<<f-w,c=1<<x,m=c;do{c-=h,s[g+(b>>w)+c]=I<<24|k<<16|M|0}while(0!==c);for(h=1<<f-1;b&h;)h>>=1;if(0!==h?(b&=h-1,b+=h):b=0,p++,0==--T[f]){if(f===v)break;f=e[i+o[p]]}if(f>y&&(b&d)!==u){for(0===w&&(w=y),g+=m,x=f-w,S=1<<x;x+w<v&&(S-=T[x+w],!(S<=0));)x++,S<<=1;if(E+=1<<x,1===t&&E>852||2===t&&E>592)return 1;u=b&d,s[u]=y<<24|x<<16|g-r|0}}return 0!==b&&(s[g+b]=f-w<<24|64<<16|0),a.bits=y,0};const{Z_FINISH:fe,Z_BLOCK:pe,Z_TREES:me,Z_OK:ve,Z_STREAM_END:ye,Z_NEED_DICT:xe,Z_STREAM_ERROR:we,Z_DATA_ERROR:Se,Z_MEM_ERROR:Ee,Z_BUF_ERROR:be,Z_DEFLATED:Ce}=G,Te=16180,Re=16190,Ie=16191,ke=16192,Me=16194,Le=16199,Pe=16200,Oe=16206,Ae=16209,Ze=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Fe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const De=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Te||e.mode>16211?1:0},ze=t=>{if(De(t))return we;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Te,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ve},Ne=t=>{if(De(t))return we;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ze(t)},Ge=(t,e)=>{let i;if(De(t))return we;const n=t.state;return e<0?(i=0,e=-e):(i=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?we:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,Ne(t))},Be=(t,e)=>{if(!t)return we;const i=new Fe;t.state=i,i.strm=t,i.window=null,i.mode=Te;const n=Ge(t,e);return n!==ve&&(t.state=null),n};let We,je,Ue=!0;const Ye=t=>{if(Ue){We=new Int32Array(512),je=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(_e(1,t.lens,0,288,We,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;_e(2,t.lens,0,32,je,0,t.work,{bits:5}),Ue=!1}t.lencode=We,t.lenbits=9,t.distcode=je,t.distbits=5},Ve=(t,e,i,n)=>{let s;const r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(e.subarray(i-r.wsize,i),0),r.wnext=0,r.whave=r.wsize):(s=r.wsize-r.wnext,s>n&&(s=n),r.window.set(e.subarray(i-n,i-n+s),r.wnext),(n-=s)?(r.window.set(e.subarray(i-n,i),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=s,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=s))),0};var Xe={inflateReset:Ne,inflateReset2:Ge,inflateResetKeep:ze,inflateInit:t=>Be(t,15),inflateInit2:Be,inflate:(t,e)=>{let i,n,s,r,o,a,l,h,c,u,d,g,_,f,p,m,v,y,x,w,S,E,b=0;const C=new Uint8Array(4);let T,R;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(De(t)||!t.output||!t.input&&0!==t.avail_in)return we;i=t.state,i.mode===Ie&&(i.mode=ke),o=t.next_out,s=t.output,l=t.avail_out,r=t.next_in,n=t.input,a=t.avail_in,h=i.hold,c=i.bits,u=a,d=l,E=ve;t:for(;;)switch(i.mode){case Te:if(0===i.wrap){i.mode=ke;break}for(;c<16;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}if(2&i.wrap&&35615===h){0===i.wbits&&(i.wbits=15),i.check=0,C[0]=255&h,C[1]=h>>>8&255,i.check=z(i.check,C,2,0),h=0,c=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",i.mode=Ae;break}if((15&h)!==Ce){t.msg="unknown compression method",i.mode=Ae;break}if(h>>>=4,c-=4,S=8+(15&h),0===i.wbits&&(i.wbits=S),S>15||S>i.wbits){t.msg="invalid window size",i.mode=Ae;break}i.dmax=1<<i.wbits,i.flags=0,t.adler=i.check=1,i.mode=512&h?16189:Ie,h=0,c=0;break;case 16181:for(;c<16;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}if(i.flags=h,(255&i.flags)!==Ce){t.msg="unknown compression method",i.mode=Ae;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=Ae;break}i.head&&(i.head.text=h>>8&1),512&i.flags&&4&i.wrap&&(C[0]=255&h,C[1]=h>>>8&255,i.check=z(i.check,C,2,0)),h=0,c=0,i.mode=16182;case 16182:for(;c<32;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}i.head&&(i.head.time=h),512&i.flags&&4&i.wrap&&(C[0]=255&h,C[1]=h>>>8&255,C[2]=h>>>16&255,C[3]=h>>>24&255,i.check=z(i.check,C,4,0)),h=0,c=0,i.mode=16183;case 16183:for(;c<16;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}i.head&&(i.head.xflags=255&h,i.head.os=h>>8),512&i.flags&&4&i.wrap&&(C[0]=255&h,C[1]=h>>>8&255,i.check=z(i.check,C,2,0)),h=0,c=0,i.mode=16184;case 16184:if(1024&i.flags){for(;c<16;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}i.length=h,i.head&&(i.head.extra_len=h),512&i.flags&&4&i.wrap&&(C[0]=255&h,C[1]=h>>>8&255,i.check=z(i.check,C,2,0)),h=0,c=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(g=i.length,g>a&&(g=a),g&&(i.head&&(S=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(r,r+g),S)),512&i.flags&&4&i.wrap&&(i.check=z(i.check,n,g,r)),a-=g,r+=g,i.length-=g),i.length))break t;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===a)break t;g=0;do{S=n[r+g++],i.head&&S&&i.length<65536&&(i.head.name+=String.fromCharCode(S))}while(S&&g<a);if(512&i.flags&&4&i.wrap&&(i.check=z(i.check,n,g,r)),a-=g,r+=g,S)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===a)break t;g=0;do{S=n[r+g++],i.head&&S&&i.length<65536&&(i.head.comment+=String.fromCharCode(S))}while(S&&g<a);if(512&i.flags&&4&i.wrap&&(i.check=z(i.check,n,g,r)),a-=g,r+=g,S)break t}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;c<16;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}if(4&i.wrap&&h!==(65535&i.check)){t.msg="header crc mismatch",i.mode=Ae;break}h=0,c=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=Ie;break;case 16189:for(;c<32;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}t.adler=i.check=Ze(h),h=0,c=0,i.mode=Re;case Re:if(0===i.havedict)return t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=a,i.hold=h,i.bits=c,xe;t.adler=i.check=1,i.mode=Ie;case Ie:if(e===pe||e===me)break t;case ke:if(i.last){h>>>=7&c,c-=7&c,i.mode=Oe;break}for(;c<3;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}switch(i.last=1&h,h>>>=1,c-=1,3&h){case 0:i.mode=16193;break;case 1:if(Ye(i),i.mode=Le,e===me){h>>>=2,c-=2;break t}break;case 2:i.mode=16196;break;case 3:t.msg="invalid block type",i.mode=Ae}h>>>=2,c-=2;break;case 16193:for(h>>>=7&c,c-=7&c;c<32;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",i.mode=Ae;break}if(i.length=65535&h,h=0,c=0,i.mode=Me,e===me)break t;case Me:i.mode=16195;case 16195:if(g=i.length,g){if(g>a&&(g=a),g>l&&(g=l),0===g)break t;s.set(n.subarray(r,r+g),o),a-=g,r+=g,l-=g,o+=g,i.length-=g;break}i.mode=Ie;break;case 16196:for(;c<14;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}if(i.nlen=257+(31&h),h>>>=5,c-=5,i.ndist=1+(31&h),h>>>=5,c-=5,i.ncode=4+(15&h),h>>>=4,c-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=Ae;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;c<3;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}i.lens[I[i.have++]]=7&h,h>>>=3,c-=3}for(;i.have<19;)i.lens[I[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,T={bits:i.lenbits},E=_e(0,i.lens,0,19,i.lencode,0,i.work,T),i.lenbits=T.bits,E){t.msg="invalid code lengths set",i.mode=Ae;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;b=i.lencode[h&(1<<i.lenbits)-1],p=b>>>24,m=b>>>16&255,v=65535&b,!(p<=c);){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}if(v<16)h>>>=p,c-=p,i.lens[i.have++]=v;else{if(16===v){for(R=p+2;c<R;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}if(h>>>=p,c-=p,0===i.have){t.msg="invalid bit length repeat",i.mode=Ae;break}S=i.lens[i.have-1],g=3+(3&h),h>>>=2,c-=2}else if(17===v){for(R=p+3;c<R;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}h>>>=p,c-=p,S=0,g=3+(7&h),h>>>=3,c-=3}else{for(R=p+7;c<R;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}h>>>=p,c-=p,S=0,g=11+(127&h),h>>>=7,c-=7}if(i.have+g>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=Ae;break}for(;g--;)i.lens[i.have++]=S}}if(i.mode===Ae)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=Ae;break}if(i.lenbits=9,T={bits:i.lenbits},E=_e(1,i.lens,0,i.nlen,i.lencode,0,i.work,T),i.lenbits=T.bits,E){t.msg="invalid literal/lengths set",i.mode=Ae;break}if(i.distbits=6,i.distcode=i.distdyn,T={bits:i.distbits},E=_e(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,T),i.distbits=T.bits,E){t.msg="invalid distances set",i.mode=Ae;break}if(i.mode=Le,e===me)break t;case Le:i.mode=Pe;case Pe:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=a,i.hold=h,i.bits=c,he(t,d),o=t.next_out,s=t.output,l=t.avail_out,r=t.next_in,n=t.input,a=t.avail_in,h=i.hold,c=i.bits,i.mode===Ie&&(i.back=-1);break}for(i.back=0;b=i.lencode[h&(1<<i.lenbits)-1],p=b>>>24,m=b>>>16&255,v=65535&b,!(p<=c);){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}if(m&&0==(240&m)){for(y=p,x=m,w=v;b=i.lencode[w+((h&(1<<y+x)-1)>>y)],p=b>>>24,m=b>>>16&255,v=65535&b,!(y+p<=c);){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}h>>>=y,c-=y,i.back+=y}if(h>>>=p,c-=p,i.back+=p,i.length=v,0===m){i.mode=16205;break}if(32&m){i.back=-1,i.mode=Ie;break}if(64&m){t.msg="invalid literal/length code",i.mode=Ae;break}i.extra=15&m,i.mode=16201;case 16201:if(i.extra){for(R=i.extra;c<R;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}i.length+=h&(1<<i.extra)-1,h>>>=i.extra,c-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;b=i.distcode[h&(1<<i.distbits)-1],p=b>>>24,m=b>>>16&255,v=65535&b,!(p<=c);){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}if(0==(240&m)){for(y=p,x=m,w=v;b=i.distcode[w+((h&(1<<y+x)-1)>>y)],p=b>>>24,m=b>>>16&255,v=65535&b,!(y+p<=c);){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}h>>>=y,c-=y,i.back+=y}if(h>>>=p,c-=p,i.back+=p,64&m){t.msg="invalid distance code",i.mode=Ae;break}i.offset=v,i.extra=15&m,i.mode=16203;case 16203:if(i.extra){for(R=i.extra;c<R;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}i.offset+=h&(1<<i.extra)-1,h>>>=i.extra,c-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=Ae;break}i.mode=16204;case 16204:if(0===l)break t;if(g=d-l,i.offset>g){if(g=i.offset-g,g>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=Ae;break}g>i.wnext?(g-=i.wnext,_=i.wsize-g):_=i.wnext-g,g>i.length&&(g=i.length),f=i.window}else f=s,_=o-i.offset,g=i.length;g>l&&(g=l),l-=g,i.length-=g;do{s[o++]=f[_++]}while(--g);0===i.length&&(i.mode=Pe);break;case 16205:if(0===l)break t;s[o++]=i.length,l--,i.mode=Pe;break;case Oe:if(i.wrap){for(;c<32;){if(0===a)break t;a--,h|=n[r++]<<c,c+=8}if(d-=l,t.total_out+=d,i.total+=d,4&i.wrap&&d&&(t.adler=i.check=i.flags?z(i.check,s,d,o-d):F(i.check,s,d,o-d)),d=l,4&i.wrap&&(i.flags?h:Ze(h))!==i.check){t.msg="incorrect data check",i.mode=Ae;break}h=0,c=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;c<32;){if(0===a)break t;a--,h+=n[r++]<<c,c+=8}if(4&i.wrap&&h!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=Ae;break}h=0,c=0}i.mode=16208;case 16208:E=ye;break t;case Ae:E=Se;break t;case 16210:return Ee;default:return we}return t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=a,i.hold=h,i.bits=c,(i.wsize||d!==t.avail_out&&i.mode<Ae&&(i.mode<Oe||e!==fe))&&Ve(t,t.output,t.next_out,d-t.avail_out),u-=t.avail_in,d-=t.avail_out,t.total_in+=u,t.total_out+=d,i.total+=d,4&i.wrap&&d&&(t.adler=i.check=i.flags?z(i.check,s,d,t.next_out-d):F(i.check,s,d,t.next_out-d)),t.data_type=i.bits+(i.last?64:0)+(i.mode===Ie?128:0)+(i.mode===Le||i.mode===Me?256:0),(0===u&&0===d||e===fe)&&E===ve&&(E=be),E},inflateEnd:t=>{if(De(t))return we;let e=t.state;return e.window&&(e.window=null),t.state=null,ve},inflateGetHeader:(t,e)=>{if(De(t))return we;const i=t.state;return 0==(2&i.wrap)?we:(i.head=e,e.done=!1,ve)},inflateSetDictionary:(t,e)=>{const i=e.length;let n,s,r;return De(t)?we:(n=t.state,0!==n.wrap&&n.mode!==Re?we:n.mode===Re&&(s=1,s=F(s,e,i,0),s!==n.check)?Se:(r=Ve(t,e,i,i),r?(n.mode=16210,Ee):(n.havedict=1,ve)))},inflateInfo:"pako inflate (from Nodeca project)"},Ke=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const He=Object.prototype.toString,{Z_NO_FLUSH:qe,Z_FINISH:Je,Z_OK:$e,Z_STREAM_END:Qe,Z_NEED_DICT:ti,Z_STREAM_ERROR:ei,Z_DATA_ERROR:ii,Z_MEM_ERROR:ni}=G;function si(t){this.options=Ut.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kt,this.strm.avail_out=0;let i=Xe.inflateInit2(this.strm,e.windowBits);if(i!==$e)throw new Error(N[i]);if(this.header=new Ke,Xe.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Xt.string2buf(e.dictionary):"[object ArrayBuffer]"===He.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=Xe.inflateSetDictionary(this.strm,e.dictionary),i!==$e)))throw new Error(N[i])}function ri(t,e){const i=new si(e);if(i.push(t),i.err)throw i.msg||N[i.err];return i.result}si.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let r,o,a;if(this.ended)return!1;for(o=e===~~e?e:!0===e?Je:qe,"[object ArrayBuffer]"===He.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),r=Xe.inflate(i,o),r===ti&&s&&(r=Xe.inflateSetDictionary(i,s),r===$e?r=Xe.inflate(i,o):r===ii&&(r=ti));i.avail_in>0&&r===Qe&&i.state.wrap>0&&0!==t[i.next_in];)Xe.inflateReset(i),r=Xe.inflate(i,o);switch(r){case ei:case ii:case ti:case ni:return this.onEnd(r),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||r===Qe))if("string"===this.options.to){let t=Xt.utf8border(i.output,i.next_out),e=i.next_out-t,s=Xt.buf2string(i.output,t);i.next_out=e,i.avail_out=n-e,e&&i.output.set(i.output.subarray(t,t+e),0),this.onData(s)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(r!==$e||0!==a){if(r===Qe)return r=Xe.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},si.prototype.onData=function(t){this.chunks.push(t)},si.prototype.onEnd=function(t){t===$e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ut.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var oi={Inflate:si,inflate:ri,inflateRaw:function(t,e){return(e=e||{}).raw=!0,ri(t,e)},ungzip:ri,constants:G};const{Deflate:ai,deflate:li,deflateRaw:hi,gzip:ci}=ae,{Inflate:ui,inflate:di,inflateRaw:gi,ungzip:_i}=oi;var fi=_i}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBUGlCVCxHQVFqQnY0RCxRQVBleTRELEdBUWZRLFdBMUJELFNBQXNCMWdDLEVBQU96aEUsR0FHM0IsT0FGQUEsRUFBVUEsR0FBVyxDQUFDLEdBQ2RvNkYsS0FBTSxFQUNQdUgsR0FBVWxnQyxFQUFPemhFLEVBQzFCLEVBdUJDb2lHLE9BUGNULEdBUWR6RyxVQVBlMU0sR0FVaEIsTUFBTSxRQUFFd00sR0FBTyxRQUFFN0QsR0FBTyxXQUFFOEQsR0FBVSxLQUFFWixJQUFTVSxJQUV6QyxRQUFFbUgsR0FBTyxRQUFFaDVELEdBQU8sV0FBRWk1RCxHQUFVLE9BQUVDLElBQVdILEdBSWpELElBT0lJLEdBQVdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9AbWFwYm94L3BvaW50LWdlb21ldHJ5L2luZGV4LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvQG1hcGJveC92ZWN0b3ItdGlsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvdmVjdG9yLXRpbGUvbGliL3ZlY3RvcnRpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9AbWFwYm94L3ZlY3Rvci10aWxlL2xpYi92ZWN0b3J0aWxlZmVhdHVyZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL0BtYXBib3gvdmVjdG9yLXRpbGUvbGliL3ZlY3RvcnRpbGVsYXllci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL2llZWU3NTQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9wYmYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9yYnVzaC9yYnVzaC5taW4uanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9zcWwuanMtaHR0cHZmcy9kaXN0L2luZGV4LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvQXNzZXJ0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9EaXNwb3NhYmxlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9JbWFnZVN0YXRlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvSW1hZ2VUaWxlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL0NvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9NYXAuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXJlci9Db21wb3NpdGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9Hcm91cC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL01hcEV2ZW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3BvaW50ZXIvRXZlbnRUeXBlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvTWFwQnJvd3NlckV2ZW50SGFuZGxlci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL01hcEV2ZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL01hcFByb3BlcnR5LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3RydWN0cy9Qcmlvcml0eVF1ZXVlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZVF1ZXVlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9Db250cm9sLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9BdHRyaWJ1dGlvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2NvbnRyb2wvUm90YXRlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY29udHJvbC9ab29tLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RvdWJsZUNsaWNrWm9vbS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL1BvaW50ZXIuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvY29uZGl0aW9uLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhZ1Bhbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdSb3RhdGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvQm94LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vRHJhZ0JveC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0RyYWdab29tLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW4uanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvS2V5Q29kZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL0tleWJvYXJkWm9vbS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2ludGVyYWN0aW9uL01vdXNlV2hlZWxab29tLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vUGluY2hSb3RhdGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9pbnRlcmFjdGlvbi9QaW5jaFpvb20uanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9NYXAuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9jb250cm9sL2RlZmF1bHRzLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvaW50ZXJhY3Rpb24vZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9LaW5ldGljLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvT2JqZWN0LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvT2JqZWN0RXZlbnRUeXBlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL1RpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zdHJ1Y3RzL0xSVUNhY2hlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZUNhY2hlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZVJhbmdlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVGlsZVN0YXRlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVmlld1Byb3BlcnR5LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY2VudGVyY29uc3RyYWludC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3Jlc29sdXRpb25jb25zdHJhaW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVmlldy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL1ZpZXdIaW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvYXJyYXkuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9hc3NlcnRzLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY29sb3IuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9jb2xvcmxpa2UuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9jb25zb2xlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvY29vcmRpbmF0ZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2Nzcy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2RvbS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2Vhc2luZy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy9FdmVudC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2V2ZW50cy9FdmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9ldmVudHMvVGFyZ2V0LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZXh0ZW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZXh0ZW50L1JlbGF0aW9uc2hpcC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2Zvcm1hdC9GZWF0dXJlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZnVuY3Rpb25zLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2Nsb3Nlc3QuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvZGVmbGF0ZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9hcmVhLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9MaW5lYXJSaW5nLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9Qb2ludC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9yZXZlcnNlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L29yaWVudC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vUG9seWdvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vR2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2NvbnRhaW5zLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2luZmxhdGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvaW50ZXJpb3Jwb2ludC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9pbnRlcnNlY3RzZXh0ZW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3NlZ21lbnRzLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3NpbXBsaWZ5LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2hhcy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL0Jhc2UuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9MYXllci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1Byb3BlcnR5LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvQmFzZVRpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9UaWxlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvbGF5ZXIvVGlsZVByb3BlcnR5LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSWNvbkltYWdlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvSWNvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL2ZsYXQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9sYXllci9CYXNlVmVjdG9yLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9JbnN0cnVjdGlvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9WZWN0b3JDb250ZXh0LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9CdWlsZGVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9Qb2x5Z29uQnVpbGRlci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2dlb20vZmxhdC9zdHJhaWdodGNodW5rLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9UZXh0QnVpbGRlci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy9JbWFnZUJ1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0xpbmVTdHJpbmdCdWlsZGVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L3RleHRwYXRoLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2xlbmd0aC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvRXhlY3V0b3IuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXAuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvY2FudmFzL0ltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlci9jYW52YXMvaGl0ZGV0ZWN0LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvdmVjdG9yLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL1ZlY3RvclRpbGVMYXllci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL2xheWVyL1ZlY3RvclRpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9tYXRoLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvb2JqLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcHJvai9lcHNnMzg1Ny5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovZXBzZzQzMjYuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9wcm9qL3Byb2plY3Rpb25zLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcHJvai90cmFuc2Zvcm1zLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3BoZXJlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcHJvai5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovUHJvamVjdGlvbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3Byb2ovVW5pdHMuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvRXZlbnQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9yZW5kZXIvRXZlbnRUeXBlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvZ2VvbS9mbGF0L2ludGVycG9sYXRlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL0ZlYXR1cmUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9nZW9tL2ZsYXQvY2VudGVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyL2NhbnZhcy5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlbmRlcmVyL0xheWVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL0xheWVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVuZGVyZXIvY2FudmFzL1RpbGVMYXllci5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlcHJvai5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlcHJvai9UaWxlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcmVwcm9qL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3JlcHJvai9Ucmlhbmd1bGF0aW9uLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvcm90YXRpb25jb25zdHJhaW50LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc2l6ZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9UaWxlRGVidWcuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvU291cmNlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1RpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC90aWxldXJsZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVXJsVGlsZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3NvdXJjZS9UaWxlRXZlbnRUeXBlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvVmVjdG9yVGlsZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL1ZlY3RvclJlbmRlclRpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9mZWF0dXJlbG9hZGVyLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1ZlY3RvclRpbGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zb3VyY2UvVGlsZUltYWdlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc291cmNlL1hZWi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0NpcmNsZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ZpbGwuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9JY29uSW1hZ2VDYWNoZS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3N0eWxlL0ltYWdlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvUmVndWxhclNoYXBlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvU3Ryb2tlLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvc3R5bGUvU3R5bGUuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC9zdHlsZS9UZXh0LmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWNvb3JkLmpzIiwid2VicGFjazovL29sLW1idGlsZXMvLi9ub2RlX21vZHVsZXMvb2wvdGlsZWdyaWQuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9vbC90aWxlZ3JpZC9UaWxlR3JpZC5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3RpbGVncmlkL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9vbC1tYnRpbGVzLy4vbm9kZV9tb2R1bGVzL29sL3V0aWwuanMiLCJ3ZWJwYWNrOi8vb2wtbWJ0aWxlcy8uL25vZGVfbW9kdWxlcy9wYWtvL2Rpc3QvcGFrby5lc20ubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBQb2ludDtcblxuLyoqXG4gKiBBIHN0YW5kYWxvbmUgcG9pbnQgZ2VvbWV0cnkgd2l0aCB1c2VmdWwgYWNjZXNzb3IsIGNvbXBhcmlzb24sIGFuZFxuICogbW9kaWZpY2F0aW9uIG1ldGhvZHMuXG4gKlxuICogQGNsYXNzIFBvaW50XG4gKiBAcGFyYW0ge051bWJlcn0geCB0aGUgeC1jb29yZGluYXRlLiB0aGlzIGNvdWxkIGJlIGxvbmdpdHVkZSBvciBzY3JlZW5cbiAqIHBpeGVscywgb3IgYW55IG90aGVyIHNvcnQgb2YgdW5pdC5cbiAqIEBwYXJhbSB7TnVtYmVyfSB5IHRoZSB5LWNvb3JkaW5hdGUuIHRoaXMgY291bGQgYmUgbGF0aXR1ZGUgb3Igc2NyZWVuXG4gKiBwaXhlbHMsIG9yIGFueSBvdGhlciBzb3J0IG9mIHVuaXQuXG4gKiBAZXhhbXBsZVxuICogdmFyIHBvaW50ID0gbmV3IFBvaW50KC03NywgMzgpO1xuICovXG5mdW5jdGlvbiBQb2ludCh4LCB5KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xufVxuXG5Qb2ludC5wcm90b3R5cGUgPSB7XG5cbiAgICAvKipcbiAgICAgKiBDbG9uZSB0aGlzIHBvaW50LCByZXR1cm5pbmcgYSBuZXcgcG9pbnQgdGhhdCBjYW4gYmUgbW9kaWZpZWRcbiAgICAgKiB3aXRob3V0IGFmZmVjdGluZyB0aGUgb2xkIG9uZS5cbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gdGhlIGNsb25lXG4gICAgICovXG4gICAgY2xvbmU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTsgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZCB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgdG8gYW5vdGhlciBwb2ludCxcbiAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBhZGQ6ICAgICBmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX2FkZChwKTsgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyB0byBmcm9tIHBvaW50LFxuICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIHN1YjogICAgIGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKHApOyB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIGJ5IHBvaW50LFxuICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgdGhlIG90aGVyIHBvaW50XG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIG11bHRCeVBvaW50OiAgICBmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX211bHRCeVBvaW50KHApOyB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlIHRoaXMgcG9pbnQncyB4ICYgeSBjb29yZGluYXRlcyBieSBwb2ludCxcbiAgICAgKiB5aWVsZGluZyBhIG5ldyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBkaXZCeVBvaW50OiAgICAgZnVuY3Rpb24ocCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZCeVBvaW50KHApOyB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGhpcyBwb2ludCdzIHggJiB5IGNvb3JkaW5hdGVzIGJ5IGEgZmFjdG9yLFxuICAgICAqIHlpZWxkaW5nIGEgbmV3IHBvaW50LlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IGsgZmFjdG9yXG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIG11bHQ6ICAgIGZ1bmN0aW9uKGspIHsgcmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdChrKTsgfSxcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0aGlzIHBvaW50J3MgeCAmIHkgY29vcmRpbmF0ZXMgYnkgYSBmYWN0b3IsXG4gICAgICogeWllbGRpbmcgYSBuZXcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtQb2ludH0gayBmYWN0b3JcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgZGl2OiAgICAgZnVuY3Rpb24oaykgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXYoayk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgdGhpcyBwb2ludCBhcm91bmQgdGhlIDAsIDAgb3JpZ2luIGJ5IGFuIGFuZ2xlIGEsXG4gICAgICogZ2l2ZW4gaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIGFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQsIGluIHJhZGlhbnNcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gb3V0cHV0IHBvaW50XG4gICAgICovXG4gICAgcm90YXRlOiAgZnVuY3Rpb24oYSkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGUoYSk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgdGhpcyBwb2ludCBhcm91bmQgcCBwb2ludCBieSBhbiBhbmdsZSBhLFxuICAgICAqIGdpdmVuIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYSBhbmdsZSB0byByb3RhdGUgYXJvdW5kLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtQb2ludH0gcCBQb2ludCB0byByb3RhdGUgYXJvdW5kXG4gICAgICogQHJldHVybiB7UG9pbnR9IG91dHB1dCBwb2ludFxuICAgICAqL1xuICAgIHJvdGF0ZUFyb3VuZDogIGZ1bmN0aW9uKGEscCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGVBcm91bmQoYSxwKTsgfSxcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoaXMgcG9pbnQgYnkgYSA0eDEgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBtIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBvdXRwdXQgcG9pbnRcbiAgICAgKi9cbiAgICBtYXRNdWx0OiBmdW5jdGlvbihtKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX21hdE11bHQobSk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhpcyBwb2ludCBidXQgYXMgYSB1bml0IHZlY3RvciBmcm9tIDAsIDAsIG1lYW5pbmdcbiAgICAgKiB0aGF0IHRoZSBkaXN0YW5jZSBmcm9tIHRoZSByZXN1bHRpbmcgcG9pbnQgdG8gdGhlIDAsIDBcbiAgICAgKiBjb29yZGluYXRlIHdpbGwgYmUgZXF1YWwgdG8gMSBhbmQgdGhlIGFuZ2xlIGZyb20gdGhlIHJlc3VsdGluZ1xuICAgICAqIHBvaW50IHRvIHRoZSAwLCAwIGNvb3JkaW5hdGUgd2lsbCBiZSB0aGUgc2FtZSBhcyBiZWZvcmUuXG4gICAgICogQHJldHVybiB7UG9pbnR9IHVuaXQgdmVjdG9yIHBvaW50XG4gICAgICovXG4gICAgdW5pdDogICAgZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3VuaXQoKTsgfSxcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgYSBwZXJwZW5kaWN1bGFyIHBvaW50LCB3aGVyZSB0aGUgbmV3IHkgY29vcmRpbmF0ZVxuICAgICAqIGlzIHRoZSBvbGQgeCBjb29yZGluYXRlIGFuZCB0aGUgbmV3IHggY29vcmRpbmF0ZSBpcyB0aGUgb2xkIHlcbiAgICAgKiBjb29yZGluYXRlIG11bHRpcGxpZWQgYnkgLTFcbiAgICAgKiBAcmV0dXJuIHtQb2ludH0gcGVycGVuZGljdWxhciBwb2ludFxuICAgICAqL1xuICAgIHBlcnA6ICAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5jbG9uZSgpLl9wZXJwKCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSB2ZXJzaW9uIG9mIHRoaXMgcG9pbnQgd2l0aCB0aGUgeCAmIHkgY29vcmRpbmF0ZXNcbiAgICAgKiByb3VuZGVkIHRvIGludGVnZXJzLlxuICAgICAqIEByZXR1cm4ge1BvaW50fSByb3VuZGVkIHBvaW50XG4gICAgICovXG4gICAgcm91bmQ6ICAgZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCk7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG1hZ2l0dWRlIG9mIHRoaXMgcG9pbnQ6IHRoaXMgaXMgdGhlIEV1Y2xpZGVhblxuICAgICAqIGRpc3RhbmNlIGZyb20gdGhlIDAsIDAgY29vcmRpbmF0ZSB0byB0aGlzIHBvaW50J3MgeCBhbmQgeVxuICAgICAqIGNvb3JkaW5hdGVzLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gbWFnbml0dWRlXG4gICAgICovXG4gICAgbWFnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBKdWRnZSB3aGV0aGVyIHRoaXMgcG9pbnQgaXMgZXF1YWwgdG8gYW5vdGhlciBwb2ludCwgcmV0dXJuaW5nXG4gICAgICogdHJ1ZSBvciBmYWxzZS5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBvdGhlciB0aGUgb3RoZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZSBwb2ludHMgYXJlIGVxdWFsXG4gICAgICovXG4gICAgZXF1YWxzOiBmdW5jdGlvbihvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlci54ICYmXG4gICAgICAgICAgICAgICB0aGlzLnkgPT09IG90aGVyLnk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnRcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAgICAgKi9cbiAgICBkaXN0OiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0U3FyKHApKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludCxcbiAgICAgKiB3aXRob3V0IHRoZSBzcXVhcmUgcm9vdCBzdGVwLiBVc2VmdWwgaWYgeW91J3JlIGNvbXBhcmluZ1xuICAgICAqIHJlbGF0aXZlIGRpc3RhbmNlcy5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAgICAgKi9cbiAgICBkaXN0U3FyOiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHZhciBkeCA9IHAueCAtIHRoaXMueCxcbiAgICAgICAgICAgIGR5ID0gcC55IC0gdGhpcy55O1xuICAgICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW5nbGUgZnJvbSB0aGUgMCwgMCBjb29yZGluYXRlIHRvIHRoaXMgcG9pbnQsIGluIHJhZGlhbnNcbiAgICAgKiBjb29yZGluYXRlcy5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG4gICAgICovXG4gICAgYW5nbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksIHRoaXMueCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYW5nbGUgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnQsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBiIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAgICAgKi9cbiAgICBhbmdsZVRvOiBmdW5jdGlvbihiKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMueSAtIGIueSwgdGhpcy54IC0gYi54KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHRoaXMgcG9pbnQgYW5kIGFub3RoZXIgcG9pbnQsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBiIHRoZSBvdGhlciBwb2ludFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAgICAgKi9cbiAgICBhbmdsZVdpdGg6IGZ1bmN0aW9uKGIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5nbGVXaXRoU2VwKGIueCwgYi55KTtcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBGaW5kIHRoZSBhbmdsZSBvZiB0aGUgdHdvIHZlY3RvcnMsIHNvbHZpbmcgdGhlIGZvcm11bGEgZm9yXG4gICAgICogdGhlIGNyb3NzIHByb2R1Y3QgYSB4IGIgPSB8YXx8YnxzaW4ozrgpIGZvciDOuC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCB0aGUgeC1jb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgdGhlIHktY29vcmRpbmF0ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gdGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAgICAgKi9cbiAgICBhbmdsZVdpdGhTZXA6IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIoXG4gICAgICAgICAgICB0aGlzLnggKiB5IC0gdGhpcy55ICogeCxcbiAgICAgICAgICAgIHRoaXMueCAqIHggKyB0aGlzLnkgKiB5KTtcbiAgICB9LFxuXG4gICAgX21hdE11bHQ6IGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgdmFyIHggPSBtWzBdICogdGhpcy54ICsgbVsxXSAqIHRoaXMueSxcbiAgICAgICAgICAgIHkgPSBtWzJdICogdGhpcy54ICsgbVszXSAqIHRoaXMueTtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9hZGQ6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdGhpcy54ICs9IHAueDtcbiAgICAgICAgdGhpcy55ICs9IHAueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9zdWI6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdGhpcy54IC09IHAueDtcbiAgICAgICAgdGhpcy55IC09IHAueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9tdWx0OiBmdW5jdGlvbihrKSB7XG4gICAgICAgIHRoaXMueCAqPSBrO1xuICAgICAgICB0aGlzLnkgKj0gaztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIF9kaXY6IGZ1bmN0aW9uKGspIHtcbiAgICAgICAgdGhpcy54IC89IGs7XG4gICAgICAgIHRoaXMueSAvPSBrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX211bHRCeVBvaW50OiBmdW5jdGlvbihwKSB7XG4gICAgICAgIHRoaXMueCAqPSBwLng7XG4gICAgICAgIHRoaXMueSAqPSBwLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfZGl2QnlQb2ludDogZnVuY3Rpb24ocCkge1xuICAgICAgICB0aGlzLnggLz0gcC54O1xuICAgICAgICB0aGlzLnkgLz0gcC55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3VuaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9kaXYodGhpcy5tYWcoKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfcGVycDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB5ID0gdGhpcy55O1xuICAgICAgICB0aGlzLnkgPSB0aGlzLng7XG4gICAgICAgIHRoaXMueCA9IC15O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3JvdGF0ZTogZnVuY3Rpb24oYW5nbGUpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICAgIHNpbiA9IE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgICAgIHggPSBjb3MgKiB0aGlzLnggLSBzaW4gKiB0aGlzLnksXG4gICAgICAgICAgICB5ID0gc2luICogdGhpcy54ICsgY29zICogdGhpcy55O1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgX3JvdGF0ZUFyb3VuZDogZnVuY3Rpb24oYW5nbGUsIHApIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICAgIHNpbiA9IE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgICAgIHggPSBwLnggKyBjb3MgKiAodGhpcy54IC0gcC54KSAtIHNpbiAqICh0aGlzLnkgLSBwLnkpLFxuICAgICAgICAgICAgeSA9IHAueSArIHNpbiAqICh0aGlzLnggLSBwLngpICsgY29zICogKHRoaXMueSAtIHAueSk7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBfcm91bmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnggPSBNYXRoLnJvdW5kKHRoaXMueCk7XG4gICAgICAgIHRoaXMueSA9IE1hdGgucm91bmQodGhpcy55KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDb25zdHJ1Y3QgYSBwb2ludCBmcm9tIGFuIGFycmF5IGlmIG5lY2Vzc2FyeSwgb3RoZXJ3aXNlIGlmIHRoZSBpbnB1dFxuICogaXMgYWxyZWFkeSBhIFBvaW50LCBvciBhbiB1bmtub3duIHR5cGUsIHJldHVybiBpdCB1bmNoYW5nZWRcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPnxQb2ludHwqfSBhIGFueSBraW5kIG9mIGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtQb2ludH0gY29uc3RydWN0ZWQgcG9pbnQsIG9yIHBhc3NlZC10aHJvdWdoIHZhbHVlLlxuICogQGV4YW1wbGVcbiAqIC8vIHRoaXNcbiAqIHZhciBwb2ludCA9IFBvaW50LmNvbnZlcnQoWzAsIDFdKTtcbiAqIC8vIGlzIGVxdWl2YWxlbnQgdG9cbiAqIHZhciBwb2ludCA9IG5ldyBQb2ludCgwLCAxKTtcbiAqL1xuUG9pbnQuY29udmVydCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgaWYgKGEgaW5zdGFuY2VvZiBQb2ludCkge1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChhWzBdLCBhWzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIGE7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMuVmVjdG9yVGlsZSA9IHJlcXVpcmUoJy4vbGliL3ZlY3RvcnRpbGUuanMnKTtcbm1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGVGZWF0dXJlID0gcmVxdWlyZSgnLi9saWIvdmVjdG9ydGlsZWZlYXR1cmUuanMnKTtcbm1vZHVsZS5leHBvcnRzLlZlY3RvclRpbGVMYXllciA9IHJlcXVpcmUoJy4vbGliL3ZlY3RvcnRpbGVsYXllci5qcycpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVmVjdG9yVGlsZUxheWVyID0gcmVxdWlyZSgnLi92ZWN0b3J0aWxlbGF5ZXInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBWZWN0b3JUaWxlO1xuXG5mdW5jdGlvbiBWZWN0b3JUaWxlKHBiZiwgZW5kKSB7XG4gICAgdGhpcy5sYXllcnMgPSBwYmYucmVhZEZpZWxkcyhyZWFkVGlsZSwge30sIGVuZCk7XG59XG5cbmZ1bmN0aW9uIHJlYWRUaWxlKHRhZywgbGF5ZXJzLCBwYmYpIHtcbiAgICBpZiAodGFnID09PSAzKSB7XG4gICAgICAgIHZhciBsYXllciA9IG5ldyBWZWN0b3JUaWxlTGF5ZXIocGJmLCBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcyk7XG4gICAgICAgIGlmIChsYXllci5sZW5ndGgpIGxheWVyc1tsYXllci5uYW1lXSA9IGxheWVyO1xuICAgIH1cbn1cblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUG9pbnQgPSByZXF1aXJlKCdAbWFwYm94L3BvaW50LWdlb21ldHJ5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmVjdG9yVGlsZUZlYXR1cmU7XG5cbmZ1bmN0aW9uIFZlY3RvclRpbGVGZWF0dXJlKHBiZiwgZW5kLCBleHRlbnQsIGtleXMsIHZhbHVlcykge1xuICAgIC8vIFB1YmxpY1xuICAgIHRoaXMucHJvcGVydGllcyA9IHt9O1xuICAgIHRoaXMuZXh0ZW50ID0gZXh0ZW50O1xuICAgIHRoaXMudHlwZSA9IDA7XG5cbiAgICAvLyBQcml2YXRlXG4gICAgdGhpcy5fcGJmID0gcGJmO1xuICAgIHRoaXMuX2dlb21ldHJ5ID0gLTE7XG4gICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuXG4gICAgcGJmLnJlYWRGaWVsZHMocmVhZEZlYXR1cmUsIHRoaXMsIGVuZCk7XG59XG5cbmZ1bmN0aW9uIHJlYWRGZWF0dXJlKHRhZywgZmVhdHVyZSwgcGJmKSB7XG4gICAgaWYgKHRhZyA9PSAxKSBmZWF0dXJlLmlkID0gcGJmLnJlYWRWYXJpbnQoKTtcbiAgICBlbHNlIGlmICh0YWcgPT0gMikgcmVhZFRhZyhwYmYsIGZlYXR1cmUpO1xuICAgIGVsc2UgaWYgKHRhZyA9PSAzKSBmZWF0dXJlLnR5cGUgPSBwYmYucmVhZFZhcmludCgpO1xuICAgIGVsc2UgaWYgKHRhZyA9PSA0KSBmZWF0dXJlLl9nZW9tZXRyeSA9IHBiZi5wb3M7XG59XG5cbmZ1bmN0aW9uIHJlYWRUYWcocGJmLCBmZWF0dXJlKSB7XG4gICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zO1xuXG4gICAgd2hpbGUgKHBiZi5wb3MgPCBlbmQpIHtcbiAgICAgICAgdmFyIGtleSA9IGZlYXR1cmUuX2tleXNbcGJmLnJlYWRWYXJpbnQoKV0sXG4gICAgICAgICAgICB2YWx1ZSA9IGZlYXR1cmUuX3ZhbHVlc1twYmYucmVhZFZhcmludCgpXTtcbiAgICAgICAgZmVhdHVyZS5wcm9wZXJ0aWVzW2tleV0gPSB2YWx1ZTtcbiAgICB9XG59XG5cblZlY3RvclRpbGVGZWF0dXJlLnR5cGVzID0gWydVbmtub3duJywgJ1BvaW50JywgJ0xpbmVTdHJpbmcnLCAnUG9seWdvbiddO1xuXG5WZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUubG9hZEdlb21ldHJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBiZiA9IHRoaXMuX3BiZjtcbiAgICBwYmYucG9zID0gdGhpcy5fZ2VvbWV0cnk7XG5cbiAgICB2YXIgZW5kID0gcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MsXG4gICAgICAgIGNtZCA9IDEsXG4gICAgICAgIGxlbmd0aCA9IDAsXG4gICAgICAgIHggPSAwLFxuICAgICAgICB5ID0gMCxcbiAgICAgICAgbGluZXMgPSBbXSxcbiAgICAgICAgbGluZTtcblxuICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG4gICAgICAgIGlmIChsZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgdmFyIGNtZExlbiA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgICAgICAgICBjbWQgPSBjbWRMZW4gJiAweDc7XG4gICAgICAgICAgICBsZW5ndGggPSBjbWRMZW4gPj4gMztcbiAgICAgICAgfVxuXG4gICAgICAgIGxlbmd0aC0tO1xuXG4gICAgICAgIGlmIChjbWQgPT09IDEgfHwgY21kID09PSAyKSB7XG4gICAgICAgICAgICB4ICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuICAgICAgICAgICAgeSArPSBwYmYucmVhZFNWYXJpbnQoKTtcblxuICAgICAgICAgICAgaWYgKGNtZCA9PT0gMSkgeyAvLyBtb3ZlVG9cbiAgICAgICAgICAgICAgICBpZiAobGluZSkgbGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgICAgICAgICBsaW5lID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmUucHVzaChuZXcgUG9pbnQoeCwgeSkpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY21kID09PSA3KSB7XG5cbiAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwbmlrLXZlY3Rvci10aWxlL2lzc3Vlcy85MFxuICAgICAgICAgICAgaWYgKGxpbmUpIHtcbiAgICAgICAgICAgICAgICBsaW5lLnB1c2gobGluZVswXS5jbG9uZSgpKTsgLy8gY2xvc2VQb2x5Z29uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBjb21tYW5kICcgKyBjbWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGxpbmUpIGxpbmVzLnB1c2gobGluZSk7XG5cbiAgICByZXR1cm4gbGluZXM7XG59O1xuXG5WZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUuYmJveCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYmYgPSB0aGlzLl9wYmY7XG4gICAgcGJmLnBvcyA9IHRoaXMuX2dlb21ldHJ5O1xuXG4gICAgdmFyIGVuZCA9IHBiZi5yZWFkVmFyaW50KCkgKyBwYmYucG9zLFxuICAgICAgICBjbWQgPSAxLFxuICAgICAgICBsZW5ndGggPSAwLFxuICAgICAgICB4ID0gMCxcbiAgICAgICAgeSA9IDAsXG4gICAgICAgIHgxID0gSW5maW5pdHksXG4gICAgICAgIHgyID0gLUluZmluaXR5LFxuICAgICAgICB5MSA9IEluZmluaXR5LFxuICAgICAgICB5MiA9IC1JbmZpbml0eTtcblxuICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG4gICAgICAgIGlmIChsZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgdmFyIGNtZExlbiA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgICAgICAgICBjbWQgPSBjbWRMZW4gJiAweDc7XG4gICAgICAgICAgICBsZW5ndGggPSBjbWRMZW4gPj4gMztcbiAgICAgICAgfVxuXG4gICAgICAgIGxlbmd0aC0tO1xuXG4gICAgICAgIGlmIChjbWQgPT09IDEgfHwgY21kID09PSAyKSB7XG4gICAgICAgICAgICB4ICs9IHBiZi5yZWFkU1ZhcmludCgpO1xuICAgICAgICAgICAgeSArPSBwYmYucmVhZFNWYXJpbnQoKTtcbiAgICAgICAgICAgIGlmICh4IDwgeDEpIHgxID0geDtcbiAgICAgICAgICAgIGlmICh4ID4geDIpIHgyID0geDtcbiAgICAgICAgICAgIGlmICh5IDwgeTEpIHkxID0geTtcbiAgICAgICAgICAgIGlmICh5ID4geTIpIHkyID0geTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNtZCAhPT0gNykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGNvbW1hbmQgJyArIGNtZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gW3gxLCB5MSwgeDIsIHkyXTtcbn07XG5cblZlY3RvclRpbGVGZWF0dXJlLnByb3RvdHlwZS50b0dlb0pTT04gPSBmdW5jdGlvbih4LCB5LCB6KSB7XG4gICAgdmFyIHNpemUgPSB0aGlzLmV4dGVudCAqIE1hdGgucG93KDIsIHopLFxuICAgICAgICB4MCA9IHRoaXMuZXh0ZW50ICogeCxcbiAgICAgICAgeTAgPSB0aGlzLmV4dGVudCAqIHksXG4gICAgICAgIGNvb3JkcyA9IHRoaXMubG9hZEdlb21ldHJ5KCksXG4gICAgICAgIHR5cGUgPSBWZWN0b3JUaWxlRmVhdHVyZS50eXBlc1t0aGlzLnR5cGVdLFxuICAgICAgICBpLCBqO1xuXG4gICAgZnVuY3Rpb24gcHJvamVjdChsaW5lKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIHAgPSBsaW5lW2pdLCB5MiA9IDE4MCAtIChwLnkgKyB5MCkgKiAzNjAgLyBzaXplO1xuICAgICAgICAgICAgbGluZVtqXSA9IFtcbiAgICAgICAgICAgICAgICAocC54ICsgeDApICogMzYwIC8gc2l6ZSAtIDE4MCxcbiAgICAgICAgICAgICAgICAzNjAgLyBNYXRoLlBJICogTWF0aC5hdGFuKE1hdGguZXhwKHkyICogTWF0aC5QSSAvIDE4MCkpIC0gOTBcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgIGNhc2UgMTpcbiAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwb2ludHNbaV0gPSBjb29yZHNbaV1bMF07XG4gICAgICAgIH1cbiAgICAgICAgY29vcmRzID0gcG9pbnRzO1xuICAgICAgICBwcm9qZWN0KGNvb3Jkcyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAyOlxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwcm9qZWN0KGNvb3Jkc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDM6XG4gICAgICAgIGNvb3JkcyA9IGNsYXNzaWZ5UmluZ3MoY29vcmRzKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvb3Jkc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHByb2plY3QoY29vcmRzW2ldW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoY29vcmRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb29yZHMgPSBjb29yZHNbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdHlwZSA9ICdNdWx0aScgKyB0eXBlO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIHR5cGU6IFwiRmVhdHVyZVwiLFxuICAgICAgICBnZW9tZXRyeToge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZHNcbiAgICAgICAgfSxcbiAgICAgICAgcHJvcGVydGllczogdGhpcy5wcm9wZXJ0aWVzXG4gICAgfTtcblxuICAgIGlmICgnaWQnIGluIHRoaXMpIHtcbiAgICAgICAgcmVzdWx0LmlkID0gdGhpcy5pZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gY2xhc3NpZmllcyBhbiBhcnJheSBvZiByaW5ncyBpbnRvIHBvbHlnb25zIHdpdGggb3V0ZXIgcmluZ3MgYW5kIGhvbGVzXG5cbmZ1bmN0aW9uIGNsYXNzaWZ5UmluZ3MocmluZ3MpIHtcbiAgICB2YXIgbGVuID0gcmluZ3MubGVuZ3RoO1xuXG4gICAgaWYgKGxlbiA8PSAxKSByZXR1cm4gW3JpbmdzXTtcblxuICAgIHZhciBwb2x5Z29ucyA9IFtdLFxuICAgICAgICBwb2x5Z29uLFxuICAgICAgICBjY3c7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBhcmVhID0gc2lnbmVkQXJlYShyaW5nc1tpXSk7XG4gICAgICAgIGlmIChhcmVhID09PSAwKSBjb250aW51ZTtcblxuICAgICAgICBpZiAoY2N3ID09PSB1bmRlZmluZWQpIGNjdyA9IGFyZWEgPCAwO1xuXG4gICAgICAgIGlmIChjY3cgPT09IGFyZWEgPCAwKSB7XG4gICAgICAgICAgICBpZiAocG9seWdvbikgcG9seWdvbnMucHVzaChwb2x5Z29uKTtcbiAgICAgICAgICAgIHBvbHlnb24gPSBbcmluZ3NbaV1dO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb2x5Z29uLnB1c2gocmluZ3NbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwb2x5Z29uKSBwb2x5Z29ucy5wdXNoKHBvbHlnb24pO1xuXG4gICAgcmV0dXJuIHBvbHlnb25zO1xufVxuXG5mdW5jdGlvbiBzaWduZWRBcmVhKHJpbmcpIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmluZy5sZW5ndGgsIGogPSBsZW4gLSAxLCBwMSwgcDI7IGkgPCBsZW47IGogPSBpKyspIHtcbiAgICAgICAgcDEgPSByaW5nW2ldO1xuICAgICAgICBwMiA9IHJpbmdbal07XG4gICAgICAgIHN1bSArPSAocDIueCAtIHAxLngpICogKHAxLnkgKyBwMi55KTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFZlY3RvclRpbGVGZWF0dXJlID0gcmVxdWlyZSgnLi92ZWN0b3J0aWxlZmVhdHVyZS5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZlY3RvclRpbGVMYXllcjtcblxuZnVuY3Rpb24gVmVjdG9yVGlsZUxheWVyKHBiZiwgZW5kKSB7XG4gICAgLy8gUHVibGljXG4gICAgdGhpcy52ZXJzaW9uID0gMTtcbiAgICB0aGlzLm5hbWUgPSBudWxsO1xuICAgIHRoaXMuZXh0ZW50ID0gNDA5NjtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG5cbiAgICAvLyBQcml2YXRlXG4gICAgdGhpcy5fcGJmID0gcGJmO1xuICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICB0aGlzLl9mZWF0dXJlcyA9IFtdO1xuXG4gICAgcGJmLnJlYWRGaWVsZHMocmVhZExheWVyLCB0aGlzLCBlbmQpO1xuXG4gICAgdGhpcy5sZW5ndGggPSB0aGlzLl9mZWF0dXJlcy5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIHJlYWRMYXllcih0YWcsIGxheWVyLCBwYmYpIHtcbiAgICBpZiAodGFnID09PSAxNSkgbGF5ZXIudmVyc2lvbiA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09PSAxKSBsYXllci5uYW1lID0gcGJmLnJlYWRTdHJpbmcoKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDUpIGxheWVyLmV4dGVudCA9IHBiZi5yZWFkVmFyaW50KCk7XG4gICAgZWxzZSBpZiAodGFnID09PSAyKSBsYXllci5fZmVhdHVyZXMucHVzaChwYmYucG9zKTtcbiAgICBlbHNlIGlmICh0YWcgPT09IDMpIGxheWVyLl9rZXlzLnB1c2gocGJmLnJlYWRTdHJpbmcoKSk7XG4gICAgZWxzZSBpZiAodGFnID09PSA0KSBsYXllci5fdmFsdWVzLnB1c2gocmVhZFZhbHVlTWVzc2FnZShwYmYpKTtcbn1cblxuZnVuY3Rpb24gcmVhZFZhbHVlTWVzc2FnZShwYmYpIHtcbiAgICB2YXIgdmFsdWUgPSBudWxsLFxuICAgICAgICBlbmQgPSBwYmYucmVhZFZhcmludCgpICsgcGJmLnBvcztcblxuICAgIHdoaWxlIChwYmYucG9zIDwgZW5kKSB7XG4gICAgICAgIHZhciB0YWcgPSBwYmYucmVhZFZhcmludCgpID4+IDM7XG5cbiAgICAgICAgdmFsdWUgPSB0YWcgPT09IDEgPyBwYmYucmVhZFN0cmluZygpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gMiA/IHBiZi5yZWFkRmxvYXQoKSA6XG4gICAgICAgICAgICB0YWcgPT09IDMgPyBwYmYucmVhZERvdWJsZSgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNCA/IHBiZi5yZWFkVmFyaW50NjQoKSA6XG4gICAgICAgICAgICB0YWcgPT09IDUgPyBwYmYucmVhZFZhcmludCgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNiA/IHBiZi5yZWFkU1ZhcmludCgpIDpcbiAgICAgICAgICAgIHRhZyA9PT0gNyA/IHBiZi5yZWFkQm9vbGVhbigpIDogbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8vIHJldHVybiBmZWF0dXJlIGBpYCBmcm9tIHRoaXMgbGF5ZXIgYXMgYSBgVmVjdG9yVGlsZUZlYXR1cmVgXG5WZWN0b3JUaWxlTGF5ZXIucHJvdG90eXBlLmZlYXR1cmUgPSBmdW5jdGlvbihpKSB7XG4gICAgaWYgKGkgPCAwIHx8IGkgPj0gdGhpcy5fZmVhdHVyZXMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ2ZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kcycpO1xuXG4gICAgdGhpcy5fcGJmLnBvcyA9IHRoaXMuX2ZlYXR1cmVzW2ldO1xuXG4gICAgdmFyIGVuZCA9IHRoaXMuX3BiZi5yZWFkVmFyaW50KCkgKyB0aGlzLl9wYmYucG9zO1xuICAgIHJldHVybiBuZXcgVmVjdG9yVGlsZUZlYXR1cmUodGhpcy5fcGJmLCBlbmQsIHRoaXMuZXh0ZW50LCB0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMpO1xufTtcbiIsIi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5leHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGJmO1xuXG52YXIgaWVlZTc1NCA9IHJlcXVpcmUoJ2llZWU3NTQnKTtcblxuZnVuY3Rpb24gUGJmKGJ1Zikge1xuICAgIHRoaXMuYnVmID0gQXJyYXlCdWZmZXIuaXNWaWV3ICYmIEFycmF5QnVmZmVyLmlzVmlldyhidWYpID8gYnVmIDogbmV3IFVpbnQ4QXJyYXkoYnVmIHx8IDApO1xuICAgIHRoaXMucG9zID0gMDtcbiAgICB0aGlzLnR5cGUgPSAwO1xuICAgIHRoaXMubGVuZ3RoID0gdGhpcy5idWYubGVuZ3RoO1xufVxuXG5QYmYuVmFyaW50ICA9IDA7IC8vIHZhcmludDogaW50MzIsIGludDY0LCB1aW50MzIsIHVpbnQ2NCwgc2ludDMyLCBzaW50NjQsIGJvb2wsIGVudW1cblBiZi5GaXhlZDY0ID0gMTsgLy8gNjQtYml0OiBkb3VibGUsIGZpeGVkNjQsIHNmaXhlZDY0XG5QYmYuQnl0ZXMgICA9IDI7IC8vIGxlbmd0aC1kZWxpbWl0ZWQ6IHN0cmluZywgYnl0ZXMsIGVtYmVkZGVkIG1lc3NhZ2VzLCBwYWNrZWQgcmVwZWF0ZWQgZmllbGRzXG5QYmYuRml4ZWQzMiA9IDU7IC8vIDMyLWJpdDogZmxvYXQsIGZpeGVkMzIsIHNmaXhlZDMyXG5cbnZhciBTSElGVF9MRUZUXzMyID0gKDEgPDwgMTYpICogKDEgPDwgMTYpLFxuICAgIFNISUZUX1JJR0hUXzMyID0gMSAvIFNISUZUX0xFRlRfMzI7XG5cbi8vIFRocmVzaG9sZCBjaG9zZW4gYmFzZWQgb24gYm90aCBiZW5jaG1hcmtpbmcgYW5kIGtub3dsZWRnZSBhYm91dCBicm93c2VyIHN0cmluZ1xuLy8gZGF0YSBzdHJ1Y3R1cmVzICh3aGljaCBjdXJyZW50bHkgc3dpdGNoIHN0cnVjdHVyZSB0eXBlcyBhdCAxMiBieXRlcyBvciBtb3JlKVxudmFyIFRFWFRfREVDT0RFUl9NSU5fTEVOR1RIID0gMTI7XG52YXIgdXRmOFRleHREZWNvZGVyID0gdHlwZW9mIFRleHREZWNvZGVyID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiBuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKTtcblxuUGJmLnByb3RvdHlwZSA9IHtcblxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmJ1ZiA9IG51bGw7XG4gICAgfSxcblxuICAgIC8vID09PSBSRUFESU5HID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICByZWFkRmllbGRzOiBmdW5jdGlvbihyZWFkRmllbGQsIHJlc3VsdCwgZW5kKSB7XG4gICAgICAgIGVuZCA9IGVuZCB8fCB0aGlzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLnJlYWRWYXJpbnQoKSxcbiAgICAgICAgICAgICAgICB0YWcgPSB2YWwgPj4gMyxcbiAgICAgICAgICAgICAgICBzdGFydFBvcyA9IHRoaXMucG9zO1xuXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSB2YWwgJiAweDc7XG4gICAgICAgICAgICByZWFkRmllbGQodGFnLCByZXN1bHQsIHRoaXMpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPT09IHN0YXJ0UG9zKSB0aGlzLnNraXAodmFsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICByZWFkTWVzc2FnZTogZnVuY3Rpb24ocmVhZEZpZWxkLCByZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEZpZWxkcyhyZWFkRmllbGQsIHJlc3VsdCwgdGhpcy5yZWFkVmFyaW50KCkgKyB0aGlzLnBvcyk7XG4gICAgfSxcblxuICAgIHJlYWRGaXhlZDMyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IHJlYWRVSW50MzIodGhpcy5idWYsIHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgcmVhZFNGaXhlZDMyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IHJlYWRJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICAvLyA2NC1iaXQgaW50IGhhbmRsaW5nIGlzIGJhc2VkIG9uIGdpdGh1Yi5jb20vZHB3L25vZGUtYnVmZmVyLW1vcmUtaW50cyAoTUlULWxpY2Vuc2VkKVxuXG4gICAgcmVhZEZpeGVkNjQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsID0gcmVhZFVJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MpICsgcmVhZFVJbnQzMih0aGlzLmJ1ZiwgdGhpcy5wb3MgKyA0KSAqIFNISUZUX0xFRlRfMzI7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfSxcblxuICAgIHJlYWRTRml4ZWQ2NDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWwgPSByZWFkVUludDMyKHRoaXMuYnVmLCB0aGlzLnBvcykgKyByZWFkSW50MzIodGhpcy5idWYsIHRoaXMucG9zICsgNCkgKiBTSElGVF9MRUZUXzMyO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICByZWFkRmxvYXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsID0gaWVlZTc1NC5yZWFkKHRoaXMuYnVmLCB0aGlzLnBvcywgdHJ1ZSwgMjMsIDQpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICByZWFkRG91YmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbCA9IGllZWU3NTQucmVhZCh0aGlzLmJ1ZiwgdGhpcy5wb3MsIHRydWUsIDUyLCA4KTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgcmVhZFZhcmludDogZnVuY3Rpb24oaXNTaWduZWQpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IHRoaXMuYnVmLFxuICAgICAgICAgICAgdmFsLCBiO1xuXG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCAgPSAgYiAmIDB4N2Y7ICAgICAgICBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDc7ICBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDE0OyBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3MrK107IHZhbCB8PSAoYiAmIDB4N2YpIDw8IDIxOyBpZiAoYiA8IDB4ODApIHJldHVybiB2YWw7XG4gICAgICAgIGIgPSBidWZbdGhpcy5wb3NdOyAgIHZhbCB8PSAoYiAmIDB4MGYpIDw8IDI4O1xuXG4gICAgICAgIHJldHVybiByZWFkVmFyaW50UmVtYWluZGVyKHZhbCwgaXNTaWduZWQsIHRoaXMpO1xuICAgIH0sXG5cbiAgICByZWFkVmFyaW50NjQ6IGZ1bmN0aW9uKCkgeyAvLyBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHYyLjAuMVxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkVmFyaW50KHRydWUpO1xuICAgIH0sXG5cbiAgICByZWFkU1ZhcmludDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBudW0gPSB0aGlzLnJlYWRWYXJpbnQoKTtcbiAgICAgICAgcmV0dXJuIG51bSAlIDIgPT09IDEgPyAobnVtICsgMSkgLyAtMiA6IG51bSAvIDI7IC8vIHppZ3phZyBlbmNvZGluZ1xuICAgIH0sXG5cbiAgICByZWFkQm9vbGVhbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHRoaXMucmVhZFZhcmludCgpKTtcbiAgICB9LFxuXG4gICAgcmVhZFN0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlbmQgPSB0aGlzLnJlYWRWYXJpbnQoKSArIHRoaXMucG9zO1xuICAgICAgICB2YXIgcG9zID0gdGhpcy5wb3M7XG4gICAgICAgIHRoaXMucG9zID0gZW5kO1xuXG4gICAgICAgIGlmIChlbmQgLSBwb3MgPj0gVEVYVF9ERUNPREVSX01JTl9MRU5HVEggJiYgdXRmOFRleHREZWNvZGVyKSB7XG4gICAgICAgICAgICAvLyBsb25nZXIgc3RyaW5ncyBhcmUgZmFzdCB3aXRoIHRoZSBidWlsdC1pbiBicm93c2VyIFRleHREZWNvZGVyIEFQSVxuICAgICAgICAgICAgcmV0dXJuIHJlYWRVdGY4VGV4dERlY29kZXIodGhpcy5idWYsIHBvcywgZW5kKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzaG9ydCBzdHJpbmdzIGFyZSBmYXN0IHdpdGggb3VyIGN1c3RvbSBpbXBsZW1lbnRhdGlvblxuICAgICAgICByZXR1cm4gcmVhZFV0ZjgodGhpcy5idWYsIHBvcywgZW5kKTtcbiAgICB9LFxuXG4gICAgcmVhZEJ5dGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMucmVhZFZhcmludCgpICsgdGhpcy5wb3MsXG4gICAgICAgICAgICBidWZmZXIgPSB0aGlzLmJ1Zi5zdWJhcnJheSh0aGlzLnBvcywgZW5kKTtcbiAgICAgICAgdGhpcy5wb3MgPSBlbmQ7XG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfSxcblxuICAgIC8vIHZlcmJvc2UgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM7IGRvZXNuJ3QgYWZmZWN0IGd6aXBwZWQgc2l6ZVxuXG4gICAgcmVhZFBhY2tlZFZhcmludDogZnVuY3Rpb24oYXJyLCBpc1NpZ25lZCkge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRWYXJpbnQoaXNTaWduZWQpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRWYXJpbnQoaXNTaWduZWQpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWRTVmFyaW50OiBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZEJvb2xlYW46IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRCb29sZWFuKCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICByZWFkUGFja2VkRmxvYXQ6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWREb3VibGU6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7XG4gICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuICAgICAgICBhcnIgPSBhcnIgfHwgW107XG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkRG91YmxlKCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZEZpeGVkMzI6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRGaXhlZDMyKCkpO1xuICAgICAgICB2YXIgZW5kID0gcmVhZFBhY2tlZEVuZCh0aGlzKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgPCBlbmQpIGFyci5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICByZWFkUGFja2VkU0ZpeGVkMzI6IGZ1bmN0aW9uKGFycikge1xuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBQYmYuQnl0ZXMpIHJldHVybiBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIHJlYWRQYWNrZWRGaXhlZDY0OiBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTtcbiAgICAgICAgdmFyIGVuZCA9IHJlYWRQYWNrZWRFbmQodGhpcyk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucG9zIDwgZW5kKSBhcnIucHVzaCh0aGlzLnJlYWRGaXhlZDY0KCkpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgcmVhZFBhY2tlZFNGaXhlZDY0OiBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gUGJmLkJ5dGVzKSByZXR1cm4gYXJyLnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7XG4gICAgICAgIHZhciBlbmQgPSByZWFkUGFja2VkRW5kKHRoaXMpO1xuICAgICAgICBhcnIgPSBhcnIgfHwgW107XG4gICAgICAgIHdoaWxlICh0aGlzLnBvcyA8IGVuZCkgYXJyLnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcblxuICAgIHNraXA6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB2YXIgdHlwZSA9IHZhbCAmIDB4NztcbiAgICAgICAgaWYgKHR5cGUgPT09IFBiZi5WYXJpbnQpIHdoaWxlICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA+IDB4N2YpIHt9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFBiZi5CeXRlcykgdGhpcy5wb3MgPSB0aGlzLnJlYWRWYXJpbnQoKSArIHRoaXMucG9zO1xuICAgICAgICBlbHNlIGlmICh0eXBlID09PSBQYmYuRml4ZWQzMikgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gUGJmLkZpeGVkNjQpIHRoaXMucG9zICs9IDg7XG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdVbmltcGxlbWVudGVkIHR5cGU6ICcgKyB0eXBlKTtcbiAgICB9LFxuXG4gICAgLy8gPT09IFdSSVRJTkcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHdyaXRlVGFnOiBmdW5jdGlvbih0YWcsIHR5cGUpIHtcbiAgICAgICAgdGhpcy53cml0ZVZhcmludCgodGFnIDw8IDMpIHwgdHlwZSk7XG4gICAgfSxcblxuICAgIHJlYWxsb2M6IGZ1bmN0aW9uKG1pbikge1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfHwgMTY7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aCA8IHRoaXMucG9zICsgbWluKSBsZW5ndGggKj0gMjtcblxuICAgICAgICBpZiAobGVuZ3RoICE9PSB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgICAgICAgICBidWYuc2V0KHRoaXMuYnVmKTtcbiAgICAgICAgICAgIHRoaXMuYnVmID0gYnVmO1xuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLnBvcztcbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcy5idWYuc3ViYXJyYXkoMCwgdGhpcy5sZW5ndGgpO1xuICAgIH0sXG5cbiAgICB3cml0ZUZpeGVkMzI6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLnJlYWxsb2MoNCk7XG4gICAgICAgIHdyaXRlSW50MzIodGhpcy5idWYsIHZhbCwgdGhpcy5wb3MpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH0sXG5cbiAgICB3cml0ZVNGaXhlZDMyOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5yZWFsbG9jKDQpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCB2YWwsIHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICB9LFxuXG4gICAgd3JpdGVGaXhlZDY0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5yZWFsbG9jKDgpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCB2YWwgJiAtMSwgdGhpcy5wb3MpO1xuICAgICAgICB3cml0ZUludDMyKHRoaXMuYnVmLCBNYXRoLmZsb29yKHZhbCAqIFNISUZUX1JJR0hUXzMyKSwgdGhpcy5wb3MgKyA0KTtcbiAgICAgICAgdGhpcy5wb3MgKz0gODtcbiAgICB9LFxuXG4gICAgd3JpdGVTRml4ZWQ2NDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMucmVhbGxvYyg4KTtcbiAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgdmFsICYgLTEsIHRoaXMucG9zKTtcbiAgICAgICAgd3JpdGVJbnQzMih0aGlzLmJ1ZiwgTWF0aC5mbG9vcih2YWwgKiBTSElGVF9SSUdIVF8zMiksIHRoaXMucG9zICsgNCk7XG4gICAgICAgIHRoaXMucG9zICs9IDg7XG4gICAgfSxcblxuICAgIHdyaXRlVmFyaW50OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdmFsID0gK3ZhbCB8fCAwO1xuXG4gICAgICAgIGlmICh2YWwgPiAweGZmZmZmZmYgfHwgdmFsIDwgMCkge1xuICAgICAgICAgICAgd3JpdGVCaWdWYXJpbnQodmFsLCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVhbGxvYyg0KTtcblxuICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9ICAgICAgICAgICB2YWwgJiAweDdmICB8ICh2YWwgPiAweDdmID8gMHg4MCA6IDApOyBpZiAodmFsIDw9IDB4N2YpIHJldHVybjtcbiAgICAgICAgdGhpcy5idWZbdGhpcy5wb3MrK10gPSAoKHZhbCA+Pj49IDcpICYgMHg3ZikgfCAodmFsID4gMHg3ZiA/IDB4ODAgOiAwKTsgaWYgKHZhbCA8PSAweDdmKSByZXR1cm47XG4gICAgICAgIHRoaXMuYnVmW3RoaXMucG9zKytdID0gKCh2YWwgPj4+PSA3KSAmIDB4N2YpIHwgKHZhbCA+IDB4N2YgPyAweDgwIDogMCk7IGlmICh2YWwgPD0gMHg3ZikgcmV0dXJuO1xuICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvcysrXSA9ICAgKHZhbCA+Pj4gNykgJiAweDdmO1xuICAgIH0sXG5cbiAgICB3cml0ZVNWYXJpbnQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50KHZhbCA8IDAgPyAtdmFsICogMiAtIDEgOiB2YWwgKiAyKTtcbiAgICB9LFxuXG4gICAgd3JpdGVCb29sZWFuOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVZhcmludChCb29sZWFuKHZhbCkpO1xuICAgIH0sXG5cbiAgICB3cml0ZVN0cmluZzogZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHN0ciA9IFN0cmluZyhzdHIpO1xuICAgICAgICB0aGlzLnJlYWxsb2Moc3RyLmxlbmd0aCAqIDQpO1xuXG4gICAgICAgIHRoaXMucG9zKys7IC8vIHJlc2VydmUgMSBieXRlIGZvciBzaG9ydCBzdHJpbmcgbGVuZ3RoXG5cbiAgICAgICAgdmFyIHN0YXJ0UG9zID0gdGhpcy5wb3M7XG4gICAgICAgIC8vIHdyaXRlIHRoZSBzdHJpbmcgZGlyZWN0bHkgdG8gdGhlIGJ1ZmZlciBhbmQgc2VlIGhvdyBtdWNoIHdhcyB3cml0dGVuXG4gICAgICAgIHRoaXMucG9zID0gd3JpdGVVdGY4KHRoaXMuYnVmLCBzdHIsIHRoaXMucG9zKTtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMucG9zIC0gc3RhcnRQb3M7XG5cbiAgICAgICAgaWYgKGxlbiA+PSAweDgwKSBtYWtlUm9vbUZvckV4dHJhTGVuZ3RoKHN0YXJ0UG9zLCBsZW4sIHRoaXMpO1xuXG4gICAgICAgIC8vIGZpbmFsbHksIHdyaXRlIHRoZSBtZXNzYWdlIGxlbmd0aCBpbiB0aGUgcmVzZXJ2ZWQgcGxhY2UgYW5kIHJlc3RvcmUgdGhlIHBvc2l0aW9uXG4gICAgICAgIHRoaXMucG9zID0gc3RhcnRQb3MgLSAxO1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50KGxlbik7XG4gICAgICAgIHRoaXMucG9zICs9IGxlbjtcbiAgICB9LFxuXG4gICAgd3JpdGVGbG9hdDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMucmVhbGxvYyg0KTtcbiAgICAgICAgaWVlZTc1NC53cml0ZSh0aGlzLmJ1ZiwgdmFsLCB0aGlzLnBvcywgdHJ1ZSwgMjMsIDQpO1xuICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgIH0sXG5cbiAgICB3cml0ZURvdWJsZTogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMucmVhbGxvYyg4KTtcbiAgICAgICAgaWVlZTc1NC53cml0ZSh0aGlzLmJ1ZiwgdmFsLCB0aGlzLnBvcywgdHJ1ZSwgNTIsIDgpO1xuICAgICAgICB0aGlzLnBvcyArPSA4O1xuICAgIH0sXG5cbiAgICB3cml0ZUJ5dGVzOiBmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgICAgdmFyIGxlbiA9IGJ1ZmZlci5sZW5ndGg7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQobGVuKTtcbiAgICAgICAgdGhpcy5yZWFsbG9jKGxlbik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHRoaXMuYnVmW3RoaXMucG9zKytdID0gYnVmZmVyW2ldO1xuICAgIH0sXG5cbiAgICB3cml0ZVJhd01lc3NhZ2U6IGZ1bmN0aW9uKGZuLCBvYmopIHtcbiAgICAgICAgdGhpcy5wb3MrKzsgLy8gcmVzZXJ2ZSAxIGJ5dGUgZm9yIHNob3J0IG1lc3NhZ2UgbGVuZ3RoXG5cbiAgICAgICAgLy8gd3JpdGUgdGhlIG1lc3NhZ2UgZGlyZWN0bHkgdG8gdGhlIGJ1ZmZlciBhbmQgc2VlIGhvdyBtdWNoIHdhcyB3cml0dGVuXG4gICAgICAgIHZhciBzdGFydFBvcyA9IHRoaXMucG9zO1xuICAgICAgICBmbihvYmosIHRoaXMpO1xuICAgICAgICB2YXIgbGVuID0gdGhpcy5wb3MgLSBzdGFydFBvcztcblxuICAgICAgICBpZiAobGVuID49IDB4ODApIG1ha2VSb29tRm9yRXh0cmFMZW5ndGgoc3RhcnRQb3MsIGxlbiwgdGhpcyk7XG5cbiAgICAgICAgLy8gZmluYWxseSwgd3JpdGUgdGhlIG1lc3NhZ2UgbGVuZ3RoIGluIHRoZSByZXNlcnZlZCBwbGFjZSBhbmQgcmVzdG9yZSB0aGUgcG9zaXRpb25cbiAgICAgICAgdGhpcy5wb3MgPSBzdGFydFBvcyAtIDE7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQobGVuKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gbGVuO1xuICAgIH0sXG5cbiAgICB3cml0ZU1lc3NhZ2U6IGZ1bmN0aW9uKHRhZywgZm4sIG9iaikge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcbiAgICAgICAgdGhpcy53cml0ZVJhd01lc3NhZ2UoZm4sIG9iaik7XG4gICAgfSxcblxuICAgIHdyaXRlUGFja2VkVmFyaW50OiAgIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkVmFyaW50LCBhcnIpOyAgIH0sXG4gICAgd3JpdGVQYWNrZWRTVmFyaW50OiAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRTVmFyaW50LCBhcnIpOyAgfSxcbiAgICB3cml0ZVBhY2tlZEJvb2xlYW46ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZEJvb2xlYW4sIGFycik7ICB9LFxuICAgIHdyaXRlUGFja2VkRmxvYXQ6ICAgIGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkRmxvYXQsIGFycik7ICAgIH0sXG4gICAgd3JpdGVQYWNrZWREb3VibGU6ICAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWREb3VibGUsIGFycik7ICAgfSxcbiAgICB3cml0ZVBhY2tlZEZpeGVkMzI6ICBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZEZpeGVkMzIsIGFycik7ICB9LFxuICAgIHdyaXRlUGFja2VkU0ZpeGVkMzI6IGZ1bmN0aW9uKHRhZywgYXJyKSB7IGlmIChhcnIubGVuZ3RoKSB0aGlzLndyaXRlTWVzc2FnZSh0YWcsIHdyaXRlUGFja2VkU0ZpeGVkMzIsIGFycik7IH0sXG4gICAgd3JpdGVQYWNrZWRGaXhlZDY0OiAgZnVuY3Rpb24odGFnLCBhcnIpIHsgaWYgKGFyci5sZW5ndGgpIHRoaXMud3JpdGVNZXNzYWdlKHRhZywgd3JpdGVQYWNrZWRGaXhlZDY0LCBhcnIpOyAgfSxcbiAgICB3cml0ZVBhY2tlZFNGaXhlZDY0OiBmdW5jdGlvbih0YWcsIGFycikgeyBpZiAoYXJyLmxlbmd0aCkgdGhpcy53cml0ZU1lc3NhZ2UodGFnLCB3cml0ZVBhY2tlZFNGaXhlZDY0LCBhcnIpOyB9LFxuXG4gICAgd3JpdGVCeXRlc0ZpZWxkOiBmdW5jdGlvbih0YWcsIGJ1ZmZlcikge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcbiAgICAgICAgdGhpcy53cml0ZUJ5dGVzKGJ1ZmZlcik7XG4gICAgfSxcbiAgICB3cml0ZUZpeGVkMzJGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDMyKTtcbiAgICAgICAgdGhpcy53cml0ZUZpeGVkMzIodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlU0ZpeGVkMzJGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDMyKTtcbiAgICAgICAgdGhpcy53cml0ZVNGaXhlZDMyKHZhbCk7XG4gICAgfSxcbiAgICB3cml0ZUZpeGVkNjRGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDY0KTtcbiAgICAgICAgdGhpcy53cml0ZUZpeGVkNjQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlU0ZpeGVkNjRGaWVsZDogZnVuY3Rpb24odGFnLCB2YWwpIHtcbiAgICAgICAgdGhpcy53cml0ZVRhZyh0YWcsIFBiZi5GaXhlZDY0KTtcbiAgICAgICAgdGhpcy53cml0ZVNGaXhlZDY0KHZhbCk7XG4gICAgfSxcbiAgICB3cml0ZVZhcmludEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLlZhcmludCk7XG4gICAgICAgIHRoaXMud3JpdGVWYXJpbnQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlU1ZhcmludEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLlZhcmludCk7XG4gICAgICAgIHRoaXMud3JpdGVTVmFyaW50KHZhbCk7XG4gICAgfSxcbiAgICB3cml0ZVN0cmluZ0ZpZWxkOiBmdW5jdGlvbih0YWcsIHN0cikge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkJ5dGVzKTtcbiAgICAgICAgdGhpcy53cml0ZVN0cmluZyhzdHIpO1xuICAgIH0sXG4gICAgd3JpdGVGbG9hdEZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVGFnKHRhZywgUGJmLkZpeGVkMzIpO1xuICAgICAgICB0aGlzLndyaXRlRmxvYXQodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlRG91YmxlRmllbGQ6IGZ1bmN0aW9uKHRhZywgdmFsKSB7XG4gICAgICAgIHRoaXMud3JpdGVUYWcodGFnLCBQYmYuRml4ZWQ2NCk7XG4gICAgICAgIHRoaXMud3JpdGVEb3VibGUodmFsKTtcbiAgICB9LFxuICAgIHdyaXRlQm9vbGVhbkZpZWxkOiBmdW5jdGlvbih0YWcsIHZhbCkge1xuICAgICAgICB0aGlzLndyaXRlVmFyaW50RmllbGQodGFnLCBCb29sZWFuKHZhbCkpO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIHJlYWRWYXJpbnRSZW1haW5kZXIobCwgcywgcCkge1xuICAgIHZhciBidWYgPSBwLmJ1ZixcbiAgICAgICAgaCwgYjtcblxuICAgIGIgPSBidWZbcC5wb3MrK107IGggID0gKGIgJiAweDcwKSA+PiA0OyAgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG4gICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4N2YpIDw8IDM7ICBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcbiAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHg3ZikgPDwgMTA7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuICAgIGIgPSBidWZbcC5wb3MrK107IGggfD0gKGIgJiAweDdmKSA8PCAxNzsgaWYgKGIgPCAweDgwKSByZXR1cm4gdG9OdW0obCwgaCwgcyk7XG4gICAgYiA9IGJ1ZltwLnBvcysrXTsgaCB8PSAoYiAmIDB4N2YpIDw8IDI0OyBpZiAoYiA8IDB4ODApIHJldHVybiB0b051bShsLCBoLCBzKTtcbiAgICBiID0gYnVmW3AucG9zKytdOyBoIHw9IChiICYgMHgwMSkgPDwgMzE7IGlmIChiIDwgMHg4MCkgcmV0dXJuIHRvTnVtKGwsIGgsIHMpO1xuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB2YXJpbnQgbm90IG1vcmUgdGhhbiAxMCBieXRlcycpO1xufVxuXG5mdW5jdGlvbiByZWFkUGFja2VkRW5kKHBiZikge1xuICAgIHJldHVybiBwYmYudHlwZSA9PT0gUGJmLkJ5dGVzID9cbiAgICAgICAgcGJmLnJlYWRWYXJpbnQoKSArIHBiZi5wb3MgOiBwYmYucG9zICsgMTtcbn1cblxuZnVuY3Rpb24gdG9OdW0obG93LCBoaWdoLCBpc1NpZ25lZCkge1xuICAgIGlmIChpc1NpZ25lZCkge1xuICAgICAgICByZXR1cm4gaGlnaCAqIDB4MTAwMDAwMDAwICsgKGxvdyA+Pj4gMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgoaGlnaCA+Pj4gMCkgKiAweDEwMDAwMDAwMCkgKyAobG93ID4+PiAwKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVCaWdWYXJpbnQodmFsLCBwYmYpIHtcbiAgICB2YXIgbG93LCBoaWdoO1xuXG4gICAgaWYgKHZhbCA+PSAwKSB7XG4gICAgICAgIGxvdyAgPSAodmFsICUgMHgxMDAwMDAwMDApIHwgMDtcbiAgICAgICAgaGlnaCA9ICh2YWwgLyAweDEwMDAwMDAwMCkgfCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxvdyAgPSB+KC12YWwgJSAweDEwMDAwMDAwMCk7XG4gICAgICAgIGhpZ2ggPSB+KC12YWwgLyAweDEwMDAwMDAwMCk7XG5cbiAgICAgICAgaWYgKGxvdyBeIDB4ZmZmZmZmZmYpIHtcbiAgICAgICAgICAgIGxvdyA9IChsb3cgKyAxKSB8IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb3cgPSAwO1xuICAgICAgICAgICAgaGlnaCA9IChoaWdoICsgMSkgfCAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHZhbCA+PSAweDEwMDAwMDAwMDAwMDAwMDAwIHx8IHZhbCA8IC0weDEwMDAwMDAwMDAwMDAwMDAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignR2l2ZW4gdmFyaW50IGRvZXNuXFwndCBmaXQgaW50byAxMCBieXRlcycpO1xuICAgIH1cblxuICAgIHBiZi5yZWFsbG9jKDEwKTtcblxuICAgIHdyaXRlQmlnVmFyaW50TG93KGxvdywgaGlnaCwgcGJmKTtcbiAgICB3cml0ZUJpZ1ZhcmludEhpZ2goaGlnaCwgcGJmKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVCaWdWYXJpbnRMb3cobG93LCBoaWdoLCBwYmYpIHtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gPSBsb3cgJiAweDdmIHwgMHg4MDsgbG93ID4+Pj0gNztcbiAgICBwYmYuYnVmW3BiZi5wb3NdICAgPSBsb3cgJiAweDdmO1xufVxuXG5mdW5jdGlvbiB3cml0ZUJpZ1ZhcmludEhpZ2goaGlnaCwgcGJmKSB7XG4gICAgdmFyIGxzYiA9IChoaWdoICYgMHgwNykgPDwgNDtcblxuICAgIHBiZi5idWZbcGJmLnBvcysrXSB8PSBsc2IgICAgICAgICB8ICgoaGlnaCA+Pj49IDMpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2YgfCAoKGhpZ2ggPj4+PSA3KSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG4gICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmIHwgKChoaWdoID4+Pj0gNykgPyAweDgwIDogMCk7IGlmICghaGlnaCkgcmV0dXJuO1xuICAgIHBiZi5idWZbcGJmLnBvcysrXSAgPSBoaWdoICYgMHg3ZiB8ICgoaGlnaCA+Pj49IDcpID8gMHg4MCA6IDApOyBpZiAoIWhpZ2gpIHJldHVybjtcbiAgICBwYmYuYnVmW3BiZi5wb3MrK10gID0gaGlnaCAmIDB4N2YgfCAoKGhpZ2ggPj4+PSA3KSA/IDB4ODAgOiAwKTsgaWYgKCFoaWdoKSByZXR1cm47XG4gICAgcGJmLmJ1ZltwYmYucG9zKytdICA9IGhpZ2ggJiAweDdmO1xufVxuXG5mdW5jdGlvbiBtYWtlUm9vbUZvckV4dHJhTGVuZ3RoKHN0YXJ0UG9zLCBsZW4sIHBiZikge1xuICAgIHZhciBleHRyYUxlbiA9XG4gICAgICAgIGxlbiA8PSAweDNmZmYgPyAxIDpcbiAgICAgICAgbGVuIDw9IDB4MWZmZmZmID8gMiA6XG4gICAgICAgIGxlbiA8PSAweGZmZmZmZmYgPyAzIDogTWF0aC5mbG9vcihNYXRoLmxvZyhsZW4pIC8gKE1hdGguTE4yICogNykpO1xuXG4gICAgLy8gaWYgMSBieXRlIGlzbid0IGVub3VnaCBmb3IgZW5jb2RpbmcgbWVzc2FnZSBsZW5ndGgsIHNoaWZ0IHRoZSBkYXRhIHRvIHRoZSByaWdodFxuICAgIHBiZi5yZWFsbG9jKGV4dHJhTGVuKTtcbiAgICBmb3IgKHZhciBpID0gcGJmLnBvcyAtIDE7IGkgPj0gc3RhcnRQb3M7IGktLSkgcGJmLmJ1ZltpICsgZXh0cmFMZW5dID0gcGJmLmJ1ZltpXTtcbn1cblxuZnVuY3Rpb24gd3JpdGVQYWNrZWRWYXJpbnQoYXJyLCBwYmYpICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlVmFyaW50KGFycltpXSk7ICAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRTVmFyaW50KGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU1ZhcmludChhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRGbG9hdChhcnIsIHBiZikgICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRmxvYXQoYXJyW2ldKTsgICAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWREb3VibGUoYXJyLCBwYmYpICAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRG91YmxlKGFycltpXSk7ICAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRCb29sZWFuKGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlQm9vbGVhbihhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRGaXhlZDMyKGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRml4ZWQzMihhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRTRml4ZWQzMihhcnIsIHBiZikgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU0ZpeGVkMzIoYXJyW2ldKTsgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRGaXhlZDY0KGFyciwgcGJmKSAgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlRml4ZWQ2NChhcnJbaV0pOyAgfVxuZnVuY3Rpb24gd3JpdGVQYWNrZWRTRml4ZWQ2NChhcnIsIHBiZikgeyBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgcGJmLndyaXRlU0ZpeGVkNjQoYXJyW2ldKTsgfVxuXG4vLyBCdWZmZXIgY29kZSBiZWxvdyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyLCBNSVQtbGljZW5zZWRcblxuZnVuY3Rpb24gcmVhZFVJbnQzMihidWYsIHBvcykge1xuICAgIHJldHVybiAoKGJ1Zltwb3NdKSB8XG4gICAgICAgIChidWZbcG9zICsgMV0gPDwgOCkgfFxuICAgICAgICAoYnVmW3BvcyArIDJdIDw8IDE2KSkgK1xuICAgICAgICAoYnVmW3BvcyArIDNdICogMHgxMDAwMDAwKTtcbn1cblxuZnVuY3Rpb24gd3JpdGVJbnQzMihidWYsIHZhbCwgcG9zKSB7XG4gICAgYnVmW3Bvc10gPSB2YWw7XG4gICAgYnVmW3BvcyArIDFdID0gKHZhbCA+Pj4gOCk7XG4gICAgYnVmW3BvcyArIDJdID0gKHZhbCA+Pj4gMTYpO1xuICAgIGJ1Zltwb3MgKyAzXSA9ICh2YWwgPj4+IDI0KTtcbn1cblxuZnVuY3Rpb24gcmVhZEludDMyKGJ1ZiwgcG9zKSB7XG4gICAgcmV0dXJuICgoYnVmW3Bvc10pIHxcbiAgICAgICAgKGJ1Zltwb3MgKyAxXSA8PCA4KSB8XG4gICAgICAgIChidWZbcG9zICsgMl0gPDwgMTYpKSArXG4gICAgICAgIChidWZbcG9zICsgM10gPDwgMjQpO1xufVxuXG5mdW5jdGlvbiByZWFkVXRmOChidWYsIHBvcywgZW5kKSB7XG4gICAgdmFyIHN0ciA9ICcnO1xuICAgIHZhciBpID0gcG9zO1xuXG4gICAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICAgICAgdmFyIGIwID0gYnVmW2ldO1xuICAgICAgICB2YXIgYyA9IG51bGw7IC8vIGNvZGVwb2ludFxuICAgICAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9XG4gICAgICAgICAgICBiMCA+IDB4RUYgPyA0IDpcbiAgICAgICAgICAgIGIwID4gMHhERiA/IDMgOlxuICAgICAgICAgICAgYjAgPiAweEJGID8gMiA6IDE7XG5cbiAgICAgICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlID4gZW5kKSBicmVhaztcblxuICAgICAgICB2YXIgYjEsIGIyLCBiMztcblxuICAgICAgICBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKGIwIDwgMHg4MCkge1xuICAgICAgICAgICAgICAgIGMgPSBiMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChieXRlc1BlclNlcXVlbmNlID09PSAyKSB7XG4gICAgICAgICAgICBiMSA9IGJ1ZltpICsgMV07XG4gICAgICAgICAgICBpZiAoKGIxICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgICAgICBjID0gKGIwICYgMHgxRikgPDwgMHg2IHwgKGIxICYgMHgzRik7XG4gICAgICAgICAgICAgICAgaWYgKGMgPD0gMHg3Rikge1xuICAgICAgICAgICAgICAgICAgICBjID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gMykge1xuICAgICAgICAgICAgYjEgPSBidWZbaSArIDFdO1xuICAgICAgICAgICAgYjIgPSBidWZbaSArIDJdO1xuICAgICAgICAgICAgaWYgKChiMSAmIDB4QzApID09PSAweDgwICYmIChiMiAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICAgICAgYyA9IChiMCAmIDB4RikgPDwgMHhDIHwgKGIxICYgMHgzRikgPDwgMHg2IHwgKGIyICYgMHgzRik7XG4gICAgICAgICAgICAgICAgaWYgKGMgPD0gMHg3RkYgfHwgKGMgPj0gMHhEODAwICYmIGMgPD0gMHhERkZGKSkge1xuICAgICAgICAgICAgICAgICAgICBjID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYnl0ZXNQZXJTZXF1ZW5jZSA9PT0gNCkge1xuICAgICAgICAgICAgYjEgPSBidWZbaSArIDFdO1xuICAgICAgICAgICAgYjIgPSBidWZbaSArIDJdO1xuICAgICAgICAgICAgYjMgPSBidWZbaSArIDNdO1xuICAgICAgICAgICAgaWYgKChiMSAmIDB4QzApID09PSAweDgwICYmIChiMiAmIDB4QzApID09PSAweDgwICYmIChiMyAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICAgICAgYyA9IChiMCAmIDB4RikgPDwgMHgxMiB8IChiMSAmIDB4M0YpIDw8IDB4QyB8IChiMiAmIDB4M0YpIDw8IDB4NiB8IChiMyAmIDB4M0YpO1xuICAgICAgICAgICAgICAgIGlmIChjIDw9IDB4RkZGRiB8fCBjID49IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjID09PSBudWxsKSB7XG4gICAgICAgICAgICBjID0gMHhGRkZEO1xuICAgICAgICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDE7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjID4gMHhGRkZGKSB7XG4gICAgICAgICAgICBjIC09IDB4MTAwMDA7XG4gICAgICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcbiAgICAgICAgICAgIGMgPSAweERDMDAgfCBjICYgMHgzRkY7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgICAgaSArPSBieXRlc1BlclNlcXVlbmNlO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG59XG5cbmZ1bmN0aW9uIHJlYWRVdGY4VGV4dERlY29kZXIoYnVmLCBwb3MsIGVuZCkge1xuICAgIHJldHVybiB1dGY4VGV4dERlY29kZXIuZGVjb2RlKGJ1Zi5zdWJhcnJheShwb3MsIGVuZCkpO1xufVxuXG5mdW5jdGlvbiB3cml0ZVV0ZjgoYnVmLCBzdHIsIHBvcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBjLCBsZWFkOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKTsgLy8gY29kZSBwb2ludFxuXG4gICAgICAgIGlmIChjID4gMHhEN0ZGICYmIGMgPCAweEUwMDApIHtcbiAgICAgICAgICAgIGlmIChsZWFkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGMgPCAweERDMDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4RUY7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJGO1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhCRDtcbiAgICAgICAgICAgICAgICAgICAgbGVhZCA9IGM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBsZWFkIC0gMHhEODAwIDw8IDEwIHwgYyAtIDB4REMwMCB8IDB4MTAwMDA7XG4gICAgICAgICAgICAgICAgICAgIGxlYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGMgPiAweERCRkYgfHwgKGkgKyAxID09PSBzdHIubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gMHhFRjtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkY7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxlYWQgPSBjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChsZWFkKSB7XG4gICAgICAgICAgICBidWZbcG9zKytdID0gMHhFRjtcbiAgICAgICAgICAgIGJ1Zltwb3MrK10gPSAweEJGO1xuICAgICAgICAgICAgYnVmW3BvcysrXSA9IDB4QkQ7XG4gICAgICAgICAgICBsZWFkID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgYnVmW3BvcysrXSA9IGM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHg2IHwgMHhDMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGMgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4QyB8IDB4RTA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmW3BvcysrXSA9IGMgPj4gMHgxMiB8IDB4RjA7XG4gICAgICAgICAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjID4+IDB4QyAmIDB4M0YgfCAweDgwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidWZbcG9zKytdID0gYyA+PiAweDYgJiAweDNGIHwgMHg4MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1Zltwb3MrK10gPSBjICYgMHgzRiB8IDB4ODA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvcztcbn1cbiIsIiFmdW5jdGlvbih0LGkpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWkoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGkpOih0PXR8fHNlbGYpLlJCdXNoPWkoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxyLGUsYSxoKXshZnVuY3Rpb24gdChuLHIsZSxhLGgpe2Zvcig7YT5lOyl7aWYoYS1lPjYwMCl7dmFyIG89YS1lKzEscz1yLWUrMSxsPU1hdGgubG9nKG8pLGY9LjUqTWF0aC5leHAoMipsLzMpLHU9LjUqTWF0aC5zcXJ0KGwqZiooby1mKS9vKSoocy1vLzI8MD8tMToxKSxtPU1hdGgubWF4KGUsTWF0aC5mbG9vcihyLXMqZi9vK3UpKSxjPU1hdGgubWluKGEsTWF0aC5mbG9vcihyKyhvLXMpKmYvbyt1KSk7dChuLHIsbSxjLGgpfXZhciBwPW5bcl0sZD1lLHg9YTtmb3IoaShuLGUsciksaChuW2FdLHApPjAmJmkobixlLGEpO2Q8eDspe2ZvcihpKG4sZCx4KSxkKysseC0tO2gobltkXSxwKTwwOylkKys7Zm9yKDtoKG5beF0scCk+MDspeC0tfTA9PT1oKG5bZV0scCk/aShuLGUseCk6aShuLCsreCxhKSx4PD1yJiYoZT14KzEpLHI8PXgmJihhPXgtMSl9fSh0LHIsZXx8MCxhfHx0Lmxlbmd0aC0xLGh8fG4pfWZ1bmN0aW9uIGkodCxpLG4pe3ZhciByPXRbaV07dFtpXT10W25dLHRbbl09cn1mdW5jdGlvbiBuKHQsaSl7cmV0dXJuIHQ8aT8tMTp0Pmk/MTowfXZhciByPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PTkpLHRoaXMuX21heEVudHJpZXM9TWF0aC5tYXgoNCx0KSx0aGlzLl9taW5FbnRyaWVzPU1hdGgubWF4KDIsTWF0aC5jZWlsKC40KnRoaXMuX21heEVudHJpZXMpKSx0aGlzLmNsZWFyKCl9O2Z1bmN0aW9uIGUodCxpLG4pe2lmKCFuKXJldHVybiBpLmluZGV4T2YodCk7Zm9yKHZhciByPTA7cjxpLmxlbmd0aDtyKyspaWYobih0LGlbcl0pKXJldHVybiByO3JldHVybi0xfWZ1bmN0aW9uIGEodCxpKXtoKHQsMCx0LmNoaWxkcmVuLmxlbmd0aCxpLHQpfWZ1bmN0aW9uIGgodCxpLG4scixlKXtlfHwoZT1wKG51bGwpKSxlLm1pblg9MS8wLGUubWluWT0xLzAsZS5tYXhYPS0xLzAsZS5tYXhZPS0xLzA7Zm9yKHZhciBhPWk7YTxuO2ErKyl7dmFyIGg9dC5jaGlsZHJlblthXTtvKGUsdC5sZWFmP3IoaCk6aCl9cmV0dXJuIGV9ZnVuY3Rpb24gbyh0LGkpe3JldHVybiB0Lm1pblg9TWF0aC5taW4odC5taW5YLGkubWluWCksdC5taW5ZPU1hdGgubWluKHQubWluWSxpLm1pblkpLHQubWF4WD1NYXRoLm1heCh0Lm1heFgsaS5tYXhYKSx0Lm1heFk9TWF0aC5tYXgodC5tYXhZLGkubWF4WSksdH1mdW5jdGlvbiBzKHQsaSl7cmV0dXJuIHQubWluWC1pLm1pblh9ZnVuY3Rpb24gbCh0LGkpe3JldHVybiB0Lm1pblktaS5taW5ZfWZ1bmN0aW9uIGYodCl7cmV0dXJuKHQubWF4WC10Lm1pblgpKih0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiB1KHQpe3JldHVybiB0Lm1heFgtdC5taW5YKyh0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiBtKHQsaSl7cmV0dXJuIHQubWluWDw9aS5taW5YJiZ0Lm1pblk8PWkubWluWSYmaS5tYXhYPD10Lm1heFgmJmkubWF4WTw9dC5tYXhZfWZ1bmN0aW9uIGModCxpKXtyZXR1cm4gaS5taW5YPD10Lm1heFgmJmkubWluWTw9dC5tYXhZJiZpLm1heFg+PXQubWluWCYmaS5tYXhZPj10Lm1pbll9ZnVuY3Rpb24gcCh0KXtyZXR1cm57Y2hpbGRyZW46dCxoZWlnaHQ6MSxsZWFmOiEwLG1pblg6MS8wLG1pblk6MS8wLG1heFg6LTEvMCxtYXhZOi0xLzB9fWZ1bmN0aW9uIGQoaSxuLHIsZSxhKXtmb3IodmFyIGg9W24scl07aC5sZW5ndGg7KWlmKCEoKHI9aC5wb3AoKSktKG49aC5wb3AoKSk8PWUpKXt2YXIgbz1uK01hdGguY2VpbCgoci1uKS9lLzIpKmU7dChpLG8sbixyLGEpLGgucHVzaChuLG8sbyxyKX19cmV0dXJuIHIucHJvdG90eXBlLmFsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbGwodGhpcy5kYXRhLFtdKX0sci5wcm90b3R5cGUuc2VhcmNoPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZGF0YSxuPVtdO2lmKCFjKHQsaSkpcmV0dXJuIG47Zm9yKHZhciByPXRoaXMudG9CQm94LGU9W107aTspe2Zvcih2YXIgYT0wO2E8aS5jaGlsZHJlbi5sZW5ndGg7YSsrKXt2YXIgaD1pLmNoaWxkcmVuW2FdLG89aS5sZWFmP3IoaCk6aDtjKHQsbykmJihpLmxlYWY/bi5wdXNoKGgpOm0odCxvKT90aGlzLl9hbGwoaCxuKTplLnB1c2goaCkpfWk9ZS5wb3AoKX1yZXR1cm4gbn0sci5wcm90b3R5cGUuY29sbGlkZXM9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5kYXRhO2lmKCFjKHQsaSkpcmV0dXJuITE7Zm9yKHZhciBuPVtdO2k7KXtmb3IodmFyIHI9MDtyPGkuY2hpbGRyZW4ubGVuZ3RoO3IrKyl7dmFyIGU9aS5jaGlsZHJlbltyXSxhPWkubGVhZj90aGlzLnRvQkJveChlKTplO2lmKGModCxhKSl7aWYoaS5sZWFmfHxtKHQsYSkpcmV0dXJuITA7bi5wdXNoKGUpfX1pPW4ucG9wKCl9cmV0dXJuITF9LHIucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCl7aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4gdGhpcztpZih0Lmxlbmd0aDx0aGlzLl9taW5FbnRyaWVzKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl0aGlzLmluc2VydCh0W2ldKTtyZXR1cm4gdGhpc312YXIgbj10aGlzLl9idWlsZCh0LnNsaWNlKCksMCx0Lmxlbmd0aC0xLDApO2lmKHRoaXMuZGF0YS5jaGlsZHJlbi5sZW5ndGgpaWYodGhpcy5kYXRhLmhlaWdodD09PW4uaGVpZ2h0KXRoaXMuX3NwbGl0Um9vdCh0aGlzLmRhdGEsbik7ZWxzZXtpZih0aGlzLmRhdGEuaGVpZ2h0PG4uaGVpZ2h0KXt2YXIgcj10aGlzLmRhdGE7dGhpcy5kYXRhPW4sbj1yfXRoaXMuX2luc2VydChuLHRoaXMuZGF0YS5oZWlnaHQtbi5oZWlnaHQtMSwhMCl9ZWxzZSB0aGlzLmRhdGE9bjtyZXR1cm4gdGhpc30sci5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0aGlzLl9pbnNlcnQodCx0aGlzLmRhdGEuaGVpZ2h0LTEpLHRoaXN9LHIucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YT1wKFtdKSx0aGlzfSxyLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxpKXtpZighdClyZXR1cm4gdGhpcztmb3IodmFyIG4scixhLGg9dGhpcy5kYXRhLG89dGhpcy50b0JCb3godCkscz1bXSxsPVtdO2h8fHMubGVuZ3RoOyl7aWYoaHx8KGg9cy5wb3AoKSxyPXNbcy5sZW5ndGgtMV0sbj1sLnBvcCgpLGE9ITApLGgubGVhZil7dmFyIGY9ZSh0LGguY2hpbGRyZW4saSk7aWYoLTEhPT1mKXJldHVybiBoLmNoaWxkcmVuLnNwbGljZShmLDEpLHMucHVzaChoKSx0aGlzLl9jb25kZW5zZShzKSx0aGlzfWF8fGgubGVhZnx8IW0oaCxvKT9yPyhuKyssaD1yLmNoaWxkcmVuW25dLGE9ITEpOmg9bnVsbDoocy5wdXNoKGgpLGwucHVzaChuKSxuPTAscj1oLGg9aC5jaGlsZHJlblswXSl9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLnRvQkJveD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sci5wcm90b3R5cGUuY29tcGFyZU1pblg9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdC5taW5YLWkubWluWH0sci5wcm90b3R5cGUuY29tcGFyZU1pblk9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdC5taW5ZLWkubWluWX0sci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YX0sci5wcm90b3R5cGUuZnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YT10LHRoaXN9LHIucHJvdG90eXBlLl9hbGw9ZnVuY3Rpb24odCxpKXtmb3IodmFyIG49W107dDspdC5sZWFmP2kucHVzaC5hcHBseShpLHQuY2hpbGRyZW4pOm4ucHVzaC5hcHBseShuLHQuY2hpbGRyZW4pLHQ9bi5wb3AoKTtyZXR1cm4gaX0sci5wcm90b3R5cGUuX2J1aWxkPWZ1bmN0aW9uKHQsaSxuLHIpe3ZhciBlLGg9bi1pKzEsbz10aGlzLl9tYXhFbnRyaWVzO2lmKGg8PW8pcmV0dXJuIGEoZT1wKHQuc2xpY2UoaSxuKzEpKSx0aGlzLnRvQkJveCksZTtyfHwocj1NYXRoLmNlaWwoTWF0aC5sb2coaCkvTWF0aC5sb2cobykpLG89TWF0aC5jZWlsKGgvTWF0aC5wb3cobyxyLTEpKSksKGU9cChbXSkpLmxlYWY9ITEsZS5oZWlnaHQ9cjt2YXIgcz1NYXRoLmNlaWwoaC9vKSxsPXMqTWF0aC5jZWlsKE1hdGguc3FydChvKSk7ZCh0LGksbixsLHRoaXMuY29tcGFyZU1pblgpO2Zvcih2YXIgZj1pO2Y8PW47Zis9bCl7dmFyIHU9TWF0aC5taW4oZitsLTEsbik7ZCh0LGYsdSxzLHRoaXMuY29tcGFyZU1pblkpO2Zvcih2YXIgbT1mO208PXU7bSs9cyl7dmFyIGM9TWF0aC5taW4obStzLTEsdSk7ZS5jaGlsZHJlbi5wdXNoKHRoaXMuX2J1aWxkKHQsbSxjLHItMSkpfX1yZXR1cm4gYShlLHRoaXMudG9CQm94KSxlfSxyLnByb3RvdHlwZS5fY2hvb3NlU3VidHJlZT1mdW5jdGlvbih0LGksbixyKXtmb3IoO3IucHVzaChpKSwhaS5sZWFmJiZyLmxlbmd0aC0xIT09bjspe2Zvcih2YXIgZT0xLzAsYT0xLzAsaD12b2lkIDAsbz0wO288aS5jaGlsZHJlbi5sZW5ndGg7bysrKXt2YXIgcz1pLmNoaWxkcmVuW29dLGw9ZihzKSx1PShtPXQsYz1zLChNYXRoLm1heChjLm1heFgsbS5tYXhYKS1NYXRoLm1pbihjLm1pblgsbS5taW5YKSkqKE1hdGgubWF4KGMubWF4WSxtLm1heFkpLU1hdGgubWluKGMubWluWSxtLm1pblkpKS1sKTt1PGE/KGE9dSxlPWw8ZT9sOmUsaD1zKTp1PT09YSYmbDxlJiYoZT1sLGg9cyl9aT1ofHxpLmNoaWxkcmVuWzBdfXZhciBtLGM7cmV0dXJuIGl9LHIucHJvdG90eXBlLl9pbnNlcnQ9ZnVuY3Rpb24odCxpLG4pe3ZhciByPW4/dDp0aGlzLnRvQkJveCh0KSxlPVtdLGE9dGhpcy5fY2hvb3NlU3VidHJlZShyLHRoaXMuZGF0YSxpLGUpO2ZvcihhLmNoaWxkcmVuLnB1c2godCksbyhhLHIpO2k+PTAmJmVbaV0uY2hpbGRyZW4ubGVuZ3RoPnRoaXMuX21heEVudHJpZXM7KXRoaXMuX3NwbGl0KGUsaSksaS0tO3RoaXMuX2FkanVzdFBhcmVudEJCb3hlcyhyLGUsaSl9LHIucHJvdG90eXBlLl9zcGxpdD1mdW5jdGlvbih0LGkpe3ZhciBuPXRbaV0scj1uLmNoaWxkcmVuLmxlbmd0aCxlPXRoaXMuX21pbkVudHJpZXM7dGhpcy5fY2hvb3NlU3BsaXRBeGlzKG4sZSxyKTt2YXIgaD10aGlzLl9jaG9vc2VTcGxpdEluZGV4KG4sZSxyKSxvPXAobi5jaGlsZHJlbi5zcGxpY2UoaCxuLmNoaWxkcmVuLmxlbmd0aC1oKSk7by5oZWlnaHQ9bi5oZWlnaHQsby5sZWFmPW4ubGVhZixhKG4sdGhpcy50b0JCb3gpLGEobyx0aGlzLnRvQkJveCksaT90W2ktMV0uY2hpbGRyZW4ucHVzaChvKTp0aGlzLl9zcGxpdFJvb3QobixvKX0sci5wcm90b3R5cGUuX3NwbGl0Um9vdD1mdW5jdGlvbih0LGkpe3RoaXMuZGF0YT1wKFt0LGldKSx0aGlzLmRhdGEuaGVpZ2h0PXQuaGVpZ2h0KzEsdGhpcy5kYXRhLmxlYWY9ITEsYSh0aGlzLmRhdGEsdGhpcy50b0JCb3gpfSxyLnByb3RvdHlwZS5fY2hvb3NlU3BsaXRJbmRleD1mdW5jdGlvbih0LGksbil7Zm9yKHZhciByLGUsYSxvLHMsbCx1LG09MS8wLGM9MS8wLHA9aTtwPD1uLWk7cCsrKXt2YXIgZD1oKHQsMCxwLHRoaXMudG9CQm94KSx4PWgodCxwLG4sdGhpcy50b0JCb3gpLHY9KGU9ZCxhPXgsbz12b2lkIDAscz12b2lkIDAsbD12b2lkIDAsdT12b2lkIDAsbz1NYXRoLm1heChlLm1pblgsYS5taW5YKSxzPU1hdGgubWF4KGUubWluWSxhLm1pblkpLGw9TWF0aC5taW4oZS5tYXhYLGEubWF4WCksdT1NYXRoLm1pbihlLm1heFksYS5tYXhZKSxNYXRoLm1heCgwLGwtbykqTWF0aC5tYXgoMCx1LXMpKSxNPWYoZCkrZih4KTt2PG0/KG09dixyPXAsYz1NPGM/TTpjKTp2PT09bSYmTTxjJiYoYz1NLHI9cCl9cmV0dXJuIHJ8fG4taX0sci5wcm90b3R5cGUuX2Nob29zZVNwbGl0QXhpcz1mdW5jdGlvbih0LGksbil7dmFyIHI9dC5sZWFmP3RoaXMuY29tcGFyZU1pblg6cyxlPXQubGVhZj90aGlzLmNvbXBhcmVNaW5ZOmw7dGhpcy5fYWxsRGlzdE1hcmdpbih0LGksbixyKTx0aGlzLl9hbGxEaXN0TWFyZ2luKHQsaSxuLGUpJiZ0LmNoaWxkcmVuLnNvcnQocil9LHIucHJvdG90eXBlLl9hbGxEaXN0TWFyZ2luPWZ1bmN0aW9uKHQsaSxuLHIpe3QuY2hpbGRyZW4uc29ydChyKTtmb3IodmFyIGU9dGhpcy50b0JCb3gsYT1oKHQsMCxpLGUpLHM9aCh0LG4taSxuLGUpLGw9dShhKSt1KHMpLGY9aTtmPG4taTtmKyspe3ZhciBtPXQuY2hpbGRyZW5bZl07byhhLHQubGVhZj9lKG0pOm0pLGwrPXUoYSl9Zm9yKHZhciBjPW4taS0xO2M+PWk7Yy0tKXt2YXIgcD10LmNoaWxkcmVuW2NdO28ocyx0LmxlYWY/ZShwKTpwKSxsKz11KHMpfXJldHVybiBsfSxyLnByb3RvdHlwZS5fYWRqdXN0UGFyZW50QkJveGVzPWZ1bmN0aW9uKHQsaSxuKXtmb3IodmFyIHI9bjtyPj0wO3ItLSlvKGlbcl0sdCl9LHIucHJvdG90eXBlLl9jb25kZW5zZT1mdW5jdGlvbih0KXtmb3IodmFyIGk9dC5sZW5ndGgtMSxuPXZvaWQgMDtpPj0wO2ktLSkwPT09dFtpXS5jaGlsZHJlbi5sZW5ndGg/aT4wPyhuPXRbaS0xXS5jaGlsZHJlbikuc3BsaWNlKG4uaW5kZXhPZih0W2ldKSwxKTp0aGlzLmNsZWFyKCk6YSh0W2ldLHRoaXMudG9CQm94KX0scn0pO1xuIiwiIWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9dCgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNle3ZhciBuPXQoKTtmb3IodmFyIHIgaW4gbikoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0czplKVtyXT1uW3JdfX0odGhpcywoZnVuY3Rpb24oKXtyZXR1cm4oKCk9PntcInVzZSBzdHJpY3RcIjt2YXIgZT17ODcwOihlLHQsbik9PntuLnIodCksbi5kKHQse2NyZWF0ZUVuZHBvaW50OigpPT5vLGV4cG9zZTooKT0+bCxwcm94eTooKT0+dixwcm94eU1hcmtlcjooKT0+cixyZWxlYXNlUHJveHk6KCk9PmEsdHJhbnNmZXI6KCk9PnksdHJhbnNmZXJIYW5kbGVyczooKT0+Yyx3aW5kb3dFbmRwb2ludDooKT0+Zyx3cmFwOigpPT5mfSk7Y29uc3Qgcj1TeW1ib2woXCJDb21saW5rLnByb3h5XCIpLG89U3ltYm9sKFwiQ29tbGluay5lbmRwb2ludFwiKSxhPVN5bWJvbChcIkNvbWxpbmsucmVsZWFzZVByb3h5XCIpLGk9U3ltYm9sKFwiQ29tbGluay50aHJvd25cIikscz1lPT5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUsYz1uZXcgTWFwKFtbXCJwcm94eVwiLHtjYW5IYW5kbGU6ZT0+cyhlKSYmZVtyXSxzZXJpYWxpemUoZSl7Y29uc3R7cG9ydDE6dCxwb3J0MjpufT1uZXcgTWVzc2FnZUNoYW5uZWw7cmV0dXJuIGwoZSx0KSxbbixbbl1dfSxkZXNlcmlhbGl6ZTplPT4oZS5zdGFydCgpLGYoZSkpfV0sW1widGhyb3dcIix7Y2FuSGFuZGxlOmU9PnMoZSkmJmkgaW4gZSxzZXJpYWxpemUoe3ZhbHVlOmV9KXtsZXQgdDtyZXR1cm4gdD1lIGluc3RhbmNlb2YgRXJyb3I/e2lzRXJyb3I6ITAsdmFsdWU6e21lc3NhZ2U6ZS5tZXNzYWdlLG5hbWU6ZS5uYW1lLHN0YWNrOmUuc3RhY2t9fTp7aXNFcnJvcjohMSx2YWx1ZTplfSxbdCxbXV19LGRlc2VyaWFsaXplKGUpe2lmKGUuaXNFcnJvcil0aHJvdyBPYmplY3QuYXNzaWduKG5ldyBFcnJvcihlLnZhbHVlLm1lc3NhZ2UpLGUudmFsdWUpO3Rocm93IGUudmFsdWV9fV1dKTtmdW5jdGlvbiBsKGUsdD1zZWxmKXt0LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsKGZ1bmN0aW9uIG4ocil7aWYoIXJ8fCFyLmRhdGEpcmV0dXJuO2NvbnN0e2lkOm8sdHlwZTphLHBhdGg6c309T2JqZWN0LmFzc2lnbih7cGF0aDpbXX0sci5kYXRhKSxjPShyLmRhdGEuYXJndW1lbnRMaXN0fHxbXSkubWFwKHcpO2xldCBmO3RyeXtjb25zdCB0PXMuc2xpY2UoMCwtMSkucmVkdWNlKCgoZSx0KT0+ZVt0XSksZSksbj1zLnJlZHVjZSgoKGUsdCk9PmVbdF0pLGUpO3N3aXRjaChhKXtjYXNlIDA6Zj1uO2JyZWFrO2Nhc2UgMTp0W3Muc2xpY2UoLTEpWzBdXT13KHIuZGF0YS52YWx1ZSksZj0hMDticmVhaztjYXNlIDI6Zj1uLmFwcGx5KHQsYyk7YnJlYWs7Y2FzZSAzOmY9dihuZXcgbiguLi5jKSk7YnJlYWs7Y2FzZSA0Ontjb25zdHtwb3J0MTp0LHBvcnQyOm59PW5ldyBNZXNzYWdlQ2hhbm5lbDtsKGUsbiksZj15KHQsW3RdKX1icmVhaztjYXNlIDU6Zj12b2lkIDB9fWNhdGNoKGUpe2Y9e3ZhbHVlOmUsW2ldOjB9fVByb21pc2UucmVzb2x2ZShmKS5jYXRjaCgoZT0+KHt2YWx1ZTplLFtpXTowfSkpKS50aGVuKChlPT57Y29uc3RbcixpXT1iKGUpO3QucG9zdE1lc3NhZ2UoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHIpLHtpZDpvfSksaSksNT09PWEmJih0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsbiksdSh0KSl9KSl9KSksdC5zdGFydCYmdC5zdGFydCgpfWZ1bmN0aW9uIHUoZSl7KGZ1bmN0aW9uKGUpe3JldHVyblwiTWVzc2FnZVBvcnRcIj09PWUuY29uc3RydWN0b3IubmFtZX0pKGUpJiZlLmNsb3NlKCl9ZnVuY3Rpb24gZihlLHQpe3JldHVybiBkKGUsW10sdCl9ZnVuY3Rpb24gcChlKXtpZihlKXRocm93IG5ldyBFcnJvcihcIlByb3h5IGhhcyBiZWVuIHJlbGVhc2VkIGFuZCBpcyBub3QgdXNlYWJsZVwiKX1mdW5jdGlvbiBkKGUsdD1bXSxuPWZ1bmN0aW9uKCl7fSl7bGV0IHI9ITE7Y29uc3QgaT1uZXcgUHJveHkobix7Z2V0KG4sbyl7aWYocChyKSxvPT09YSlyZXR1cm4oKT0+RShlLHt0eXBlOjUscGF0aDp0Lm1hcCgoZT0+ZS50b1N0cmluZygpKSl9KS50aGVuKCgoKT0+e3UoZSkscj0hMH0pKTtpZihcInRoZW5cIj09PW8pe2lmKDA9PT10Lmxlbmd0aClyZXR1cm57dGhlbjooKT0+aX07Y29uc3Qgbj1FKGUse3R5cGU6MCxwYXRoOnQubWFwKChlPT5lLnRvU3RyaW5nKCkpKX0pLnRoZW4odyk7cmV0dXJuIG4udGhlbi5iaW5kKG4pfXJldHVybiBkKGUsWy4uLnQsb10pfSxzZXQobixvLGEpe3Aocik7Y29uc3RbaSxzXT1iKGEpO3JldHVybiBFKGUse3R5cGU6MSxwYXRoOlsuLi50LG9dLm1hcCgoZT0+ZS50b1N0cmluZygpKSksdmFsdWU6aX0scykudGhlbih3KX0sYXBwbHkobixhLGkpe3Aocik7Y29uc3Qgcz10W3QubGVuZ3RoLTFdO2lmKHM9PT1vKXJldHVybiBFKGUse3R5cGU6NH0pLnRoZW4odyk7aWYoXCJiaW5kXCI9PT1zKXJldHVybiBkKGUsdC5zbGljZSgwLC0xKSk7Y29uc3RbYyxsXT1tKGkpO3JldHVybiBFKGUse3R5cGU6MixwYXRoOnQubWFwKChlPT5lLnRvU3RyaW5nKCkpKSxhcmd1bWVudExpc3Q6Y30sbCkudGhlbih3KX0sY29uc3RydWN0KG4sbyl7cChyKTtjb25zdFthLGldPW0obyk7cmV0dXJuIEUoZSx7dHlwZTozLHBhdGg6dC5tYXAoKGU9PmUudG9TdHJpbmcoKSkpLGFyZ3VtZW50TGlzdDphfSxpKS50aGVuKHcpfX0pO3JldHVybiBpfWZ1bmN0aW9uIG0oZSl7Y29uc3QgdD1lLm1hcChiKTtyZXR1cm5bdC5tYXAoKGU9PmVbMF0pKSwobj10Lm1hcCgoZT0+ZVsxXSkpLEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sbikpXTt2YXIgbn1jb25zdCBoPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIHkoZSx0KXtyZXR1cm4gaC5zZXQoZSx0KSxlfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIE9iamVjdC5hc3NpZ24oZSx7W3JdOiEwfSl9ZnVuY3Rpb24gZyhlLHQ9c2VsZixuPVwiKlwiKXtyZXR1cm57cG9zdE1lc3NhZ2U6KHQscik9PmUucG9zdE1lc3NhZ2UodCxuLHIpLGFkZEV2ZW50TGlzdGVuZXI6dC5hZGRFdmVudExpc3RlbmVyLmJpbmQodCkscmVtb3ZlRXZlbnRMaXN0ZW5lcjp0LnJlbW92ZUV2ZW50TGlzdGVuZXIuYmluZCh0KX19ZnVuY3Rpb24gYihlKXtmb3IoY29uc3RbdCxuXW9mIGMpaWYobi5jYW5IYW5kbGUoZSkpe2NvbnN0W3Isb109bi5zZXJpYWxpemUoZSk7cmV0dXJuW3t0eXBlOjMsbmFtZTp0LHZhbHVlOnJ9LG9dfXJldHVyblt7dHlwZTowLHZhbHVlOmV9LGguZ2V0KGUpfHxbXV19ZnVuY3Rpb24gdyhlKXtzd2l0Y2goZS50eXBlKXtjYXNlIDM6cmV0dXJuIGMuZ2V0KGUubmFtZSkuZGVzZXJpYWxpemUoZS52YWx1ZSk7Y2FzZSAwOnJldHVybiBlLnZhbHVlfX1mdW5jdGlvbiBFKGUsdCxuKXtyZXR1cm4gbmV3IFByb21pc2UoKHI9Pntjb25zdCBvPW5ldyBBcnJheSg0KS5maWxsKDApLm1hcCgoKCk9Pk1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikudG9TdHJpbmcoMTYpKSkuam9pbihcIi1cIik7ZS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLChmdW5jdGlvbiB0KG4pe24uZGF0YSYmbi5kYXRhLmlkJiZuLmRhdGEuaWQ9PT1vJiYoZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHQpLHIobi5kYXRhKSl9KSksZS5zdGFydCYmZS5zdGFydCgpLGUucG9zdE1lc3NhZ2UoT2JqZWN0LmFzc2lnbih7aWQ6b30sdCksbil9KSl9fSwxNjI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQsbixyKXt2b2lkIDA9PT1yJiYocj1uKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W25dfX0pfTpmdW5jdGlvbihlLHQsbixyKXt2b2lkIDA9PT1yJiYocj1uKSxlW3JdPXRbbl19KSxvPXRoaXMmJnRoaXMuX19zZXRNb2R1bGVEZWZhdWx0fHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KX06ZnVuY3Rpb24oZSx0KXtlLmRlZmF1bHQ9dH0pLGE9dGhpcyYmdGhpcy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbiBpbiBlKVwiZGVmYXVsdFwiIT09biYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJnIodCxlLG4pO3JldHVybiBvKHQsZSksdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jcmVhdGVEYldvcmtlcj12b2lkIDA7Y29uc3QgaT1hKG4oODcwKSk7YXN5bmMgZnVuY3Rpb24gcyhlKXtpZihlLmRhdGEmJlwiZXZhbFwiPT09ZS5kYXRhLmFjdGlvbil7Y29uc3QgdD1uZXcgSW50MzJBcnJheShlLmRhdGEubm90aWZ5LDAsMiksbj1uZXcgVWludDhBcnJheShlLmRhdGEubm90aWZ5LDgpO2xldCByO3RyeXtyPXtvazphd2FpdCB1KGUuZGF0YS5yZXF1ZXN0KX19Y2F0Y2godCl7Y29uc29sZS5lcnJvcihcIndvcmtlciByZXF1ZXN0IGVycm9yXCIsZS5kYXRhLnJlcXVlc3QsdCkscj17ZXJyOlN0cmluZyh0KX19Y29uc3Qgbz0obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoSlNPTi5zdHJpbmdpZnkocikpO24uc2V0KG8sMCksdFsxXT1vLmxlbmd0aCxBdG9taWNzLm5vdGlmeSh0LDApfX1mdW5jdGlvbiBjKGUpe2lmKFwiQk9EWVwiPT09ZS50YWdOYW1lKXJldHVyblwiYm9keVwiO2NvbnN0IHQ9W107Zm9yKDtlLnBhcmVudEVsZW1lbnQmJlwiQk9EWVwiIT09ZS50YWdOYW1lOyl7aWYoZS5pZCl7dC51bnNoaWZ0KFwiI1wiK2UuaWQpO2JyZWFrfXtsZXQgbj0xLHI9ZTtmb3IoO3IucHJldmlvdXNFbGVtZW50U2libGluZzspcj1yLnByZXZpb3VzRWxlbWVudFNpYmxpbmcsbisrO3QudW5zaGlmdChlLnRhZ05hbWUudG9Mb3dlckNhc2UoKStcIjpudGgtY2hpbGQoXCIrbitcIilcIil9ZT1lLnBhcmVudEVsZW1lbnR9cmV0dXJuIHQuam9pbihcIiA+IFwiKX1mdW5jdGlvbiBsKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKX1hc3luYyBmdW5jdGlvbiB1KGUpe2lmKGNvbnNvbGUubG9nKFwiZG9tIHZ0YWJsZSByZXF1ZXN0XCIsZSksXCJzZWxlY3RcIj09PWUudHlwZSlyZXR1cm5bLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlLnNlbGVjdG9yKV0ubWFwKCh0PT57Y29uc3Qgbj17fTtmb3IoY29uc3QgciBvZiBlLmNvbHVtbnMpXCJzZWxlY3RvclwiPT09cj9uLnNlbGVjdG9yPWModCk6XCJwYXJlbnRcIj09PXI/dC5wYXJlbnRFbGVtZW50JiYobi5wYXJlbnQ9dC5wYXJlbnRFbGVtZW50P2ModC5wYXJlbnRFbGVtZW50KTpudWxsKTpcImlkeFwiPT09cnx8KG5bcl09dFtyXSk7cmV0dXJuIG59KSk7aWYoXCJpbnNlcnRcIj09PWUudHlwZSl7aWYoIWUudmFsdWUucGFyZW50KXRocm93IEVycm9yKCdcInBhcmVudFwiIGNvbHVtbiBtdXN0IGJlIHNldCB3aGVuIGluc2VydGluZycpO2NvbnN0IHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlLnZhbHVlLnBhcmVudCk7aWYoMD09PXQubGVuZ3RoKXRocm93IEVycm9yKGBQYXJlbnQgZWxlbWVudCAke2UudmFsdWUucGFyZW50fSBjb3VsZCBub3QgYmUgZm91bmRgKTtpZih0Lmxlbmd0aD4xKXRocm93IEVycm9yKGBQYXJlbnQgZWxlbWVudCAke2UudmFsdWUucGFyZW50fSBhbWJpZ3VvdXMgKCR7dC5sZW5ndGh9IHJlc3VsdHMpYCk7Y29uc3Qgbj10WzBdO2lmKCFlLnZhbHVlLnRhZ05hbWUpdGhyb3cgRXJyb3IoXCJ0YWdOYW1lIG11c3QgYmUgc2V0IGZvciBpbnNlcnRpbmdcIik7Y29uc3Qgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUudmFsdWUudGFnTmFtZSk7Zm9yKGNvbnN0IHQgb2YgbChlLnZhbHVlKSlpZihudWxsIT09ZS52YWx1ZVt0XSl7aWYoXCJ0YWdOYW1lXCI9PT10fHxcInBhcmVudFwiPT09dCljb250aW51ZTtpZihcImlkeFwiPT09dHx8XCJzZWxlY3RvclwiPT09dCl0aHJvdyBFcnJvcihgJHt0fSBjYW4ndCBiZSBzZXRgKTtyW3RdPWUudmFsdWVbdF19cmV0dXJuIG4uYXBwZW5kQ2hpbGQociksbnVsbH1pZihcInVwZGF0ZVwiPT09ZS50eXBlKXtjb25zdCB0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZS52YWx1ZS5zZWxlY3Rvcik7aWYoIXQpdGhyb3cgRXJyb3IoYEVsZW1lbnQgJHtlLnZhbHVlLnNlbGVjdG9yfSBub3QgZm91bmQhYCk7Y29uc3Qgbj1bXTtmb3IoY29uc3QgciBvZiBsKGUudmFsdWUpKXtjb25zdCBvPWUudmFsdWVbcl07aWYoXCJwYXJlbnRcIiE9PXIpe2lmKFwiaWR4XCIhPT1yJiZcInNlbGVjdG9yXCIhPT1yJiZvIT09dFtyXSl7aWYoY29uc29sZS5sb2coXCJTRVRUSU5HIFwiLHIsdFtyXSxcIi0+XCIsbyksXCJ0YWdOYW1lXCI9PT1yKXRocm93IEVycm9yKFwiY2FuJ3QgY2hhbmdlIHRhZ05hbWVcIik7bi5wdXNoKHIpfX1lbHNlIGlmKG8hPT1jKHQucGFyZW50RWxlbWVudCkpe2NvbnN0IGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvKTtpZigxIT09ZS5sZW5ndGgpdGhyb3cgRXJyb3IoYEludmFsaWQgdGFyZ2V0IHBhcmVudDogZm91bmQgJHtlLmxlbmd0aH0gbWF0Y2hlc2ApO2VbMF0uYXBwZW5kQ2hpbGQodCl9fWZvcihjb25zdCByIG9mIG4pdFtyXT1lLnZhbHVlW3JdO3JldHVybiBudWxsfXRocm93IEVycm9yKGB1bmtub3duIHJlcXVlc3QgJHtlLnR5cGV9YCl9aS50cmFuc2ZlckhhbmRsZXJzLnNldChcIldPUktFUlNRTFBST1hJRVNcIix7Y2FuSGFuZGxlOmU9PiExLHNlcmlhbGl6ZShlKXt0aHJvdyBFcnJvcihcIm5vXCIpfSxkZXNlcmlhbGl6ZTplPT4oZS5zdGFydCgpLGkud3JhcChlKSl9KSx0LmNyZWF0ZURiV29ya2VyPWFzeW5jIGZ1bmN0aW9uKGUsdCxuLHI9MS8wKXtjb25zdCBvPW5ldyBXb3JrZXIodCksYT1pLndyYXAobyksYz1hd2FpdCBhLlNwbGl0RmlsZUh0dHBEYXRhYmFzZShuLGUsdm9pZCAwLHIpO3JldHVybiBvLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIscykse2RiOmMsd29ya2VyOmEsY29uZmlnczplfX19LDQzMjpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCxuLHIpe3ZvaWQgMD09PXImJihyPW4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19fSl9OmZ1bmN0aW9uKGUsdCxuLHIpe3ZvaWQgMD09PXImJihyPW4pLGVbcl09dFtuXX0pLG89dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUpXCJkZWZhdWx0XCI9PT1ufHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKXx8cih0LGUsbil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG8obigxNjIpLHQpfX0sdD17fTtmdW5jdGlvbiBuKHIpe3ZhciBvPXRbcl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBhPXRbcl09e2V4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoYS5leHBvcnRzLGEsYS5leHBvcnRzLG4pLGEuZXhwb3J0c31yZXR1cm4gbi5kPShlLHQpPT57Zm9yKHZhciByIGluIHQpbi5vKHQscikmJiFuLm8oZSxyKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7ZW51bWVyYWJsZTohMCxnZXQ6dFtyXX0pfSxuLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLG4ucj1lPT57XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbig0MzIpfSkoKX0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qKlxuICogQG1vZHVsZSBvbC9Bc3NlcnRpb25FcnJvclxuICovXG5cbi8qKiBAdHlwZSB7T2JqZWN0PG51bWJlciwgc3RyaW5nPn0gKi9cbmNvbnN0IG1lc3NhZ2VzID0ge1xuICAxOiAnVGhlIHZpZXcgY2VudGVyIGlzIG5vdCBkZWZpbmVkJyxcbiAgMjogJ1RoZSB2aWV3IHJlc29sdXRpb24gaXMgbm90IGRlZmluZWQnLFxuICAzOiAnVGhlIHZpZXcgcm90YXRpb24gaXMgbm90IGRlZmluZWQnLFxuICA0OiAnYGltYWdlYCBhbmQgYHNyY2AgY2Fubm90IGJlIHByb3ZpZGVkIGF0IHRoZSBzYW1lIHRpbWUnLFxuICA1OiAnYGltZ1NpemVgIG11c3QgYmUgc2V0IHdoZW4gYGltYWdlYCBpcyBwcm92aWRlZCcsXG4gIDc6ICdgZm9ybWF0YCBtdXN0IGJlIHNldCB3aGVuIGB1cmxgIGlzIHNldCcsXG4gIDg6ICdVbmtub3duIGBzZXJ2ZXJUeXBlYCBjb25maWd1cmVkJyxcbiAgOTogJ2B1cmxgIG11c3QgYmUgY29uZmlndXJlZCBvciBzZXQgdXNpbmcgYCNzZXRVcmwoKWAnLFxuICAxMDogJ1RoZSBkZWZhdWx0IGBnZW9tZXRyeUZ1bmN0aW9uYCBjYW4gb25seSBoYW5kbGUgYFBvaW50YCBnZW9tZXRyaWVzJyxcbiAgMTE6ICdgb3B0aW9ucy5mZWF0dXJlVHlwZXNgIG11c3QgYmUgYW4gQXJyYXknLFxuICAxMjogJ2BvcHRpb25zLmdlb21ldHJ5TmFtZWAgbXVzdCBhbHNvIGJlIHByb3ZpZGVkIHdoZW4gYG9wdGlvbnMuYmJveGAgaXMgc2V0JyxcbiAgMTM6ICdJbnZhbGlkIGNvcm5lcicsXG4gIDE0OiAnSW52YWxpZCBjb2xvcicsXG4gIDE1OiAnVHJpZWQgdG8gZ2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGNhY2hlJyxcbiAgMTY6ICdUcmllZCB0byBzZXQgYSB2YWx1ZSBmb3IgYSBrZXkgdGhhdCBpcyB1c2VkIGFscmVhZHknLFxuICAxNzogJ2ByZXNvbHV0aW9uc2AgbXVzdCBiZSBzb3J0ZWQgaW4gZGVzY2VuZGluZyBvcmRlcicsXG4gIDE4OiAnRWl0aGVyIGBvcmlnaW5gIG9yIGBvcmlnaW5zYCBtdXN0IGJlIGNvbmZpZ3VyZWQsIG5ldmVyIGJvdGgnLFxuICAxOTogJ051bWJlciBvZiBgdGlsZVNpemVzYCBhbmQgYHJlc29sdXRpb25zYCBtdXN0IGJlIGVxdWFsJyxcbiAgMjA6ICdOdW1iZXIgb2YgYG9yaWdpbnNgIGFuZCBgcmVzb2x1dGlvbnNgIG11c3QgYmUgZXF1YWwnLFxuICAyMjogJ0VpdGhlciBgdGlsZVNpemVgIG9yIGB0aWxlU2l6ZXNgIG11c3QgYmUgY29uZmlndXJlZCwgbmV2ZXIgYm90aCcsXG4gIDI0OiAnSW52YWxpZCBleHRlbnQgb3IgZ2VvbWV0cnkgcHJvdmlkZWQgYXMgYGdlb21ldHJ5YCcsXG4gIDI1OiAnQ2Fubm90IGZpdCBlbXB0eSBleHRlbnQgcHJvdmlkZWQgYXMgYGdlb21ldHJ5YCcsXG4gIDI2OiAnRmVhdHVyZXMgbXVzdCBoYXZlIGFuIGlkIHNldCcsXG4gIDI3OiAnRmVhdHVyZXMgbXVzdCBoYXZlIGFuIGlkIHNldCcsXG4gIDI4OiAnYHJlbmRlck1vZGVgIG11c3QgYmUgYFwiaHlicmlkXCJgIG9yIGBcInZlY3RvclwiYCcsXG4gIDMwOiAnVGhlIHBhc3NlZCBgZmVhdHVyZWAgd2FzIGFscmVhZHkgYWRkZWQgdG8gdGhlIHNvdXJjZScsXG4gIDMxOiAnVHJpZWQgdG8gZW5xdWV1ZSBhbiBgZWxlbWVudGAgdGhhdCB3YXMgYWxyZWFkeSBhZGRlZCB0byB0aGUgcXVldWUnLFxuICAzMjogJ1RyYW5zZm9ybWF0aW9uIG1hdHJpeCBjYW5ub3QgYmUgaW52ZXJ0ZWQnLFxuICAzMzogJ0ludmFsaWQgdW5pdHMnLFxuICAzNDogJ0ludmFsaWQgZ2VvbWV0cnkgbGF5b3V0JyxcbiAgMzY6ICdVbmtub3duIFNSUyB0eXBlJyxcbiAgMzc6ICdVbmtub3duIGdlb21ldHJ5IHR5cGUgZm91bmQnLFxuICAzODogJ2BzdHlsZU1hcFZhbHVlYCBoYXMgYW4gdW5rbm93biB0eXBlJyxcbiAgMzk6ICdVbmtub3duIGdlb21ldHJ5IHR5cGUnLFxuICA0MDogJ0V4cGVjdGVkIGBmZWF0dXJlYCB0byBoYXZlIGEgZ2VvbWV0cnknLFxuICA0MTogJ0V4cGVjdGVkIGFuIGBvbC9zdHlsZS9TdHlsZWAgb3IgYW4gYXJyYXkgb2YgYG9sL3N0eWxlL1N0eWxlLmpzYCcsXG4gIDQyOiAnUXVlc3Rpb24gdW5rbm93biwgdGhlIGFuc3dlciBpcyA0MicsXG4gIDQzOiAnRXhwZWN0ZWQgYGxheWVyc2AgdG8gYmUgYW4gYXJyYXkgb3IgYSBgQ29sbGVjdGlvbmAnLFxuICA0NzogJ0V4cGVjdGVkIGBjb250cm9sc2AgdG8gYmUgYW4gYXJyYXkgb3IgYW4gYG9sL0NvbGxlY3Rpb25gJyxcbiAgNDg6ICdFeHBlY3RlZCBgaW50ZXJhY3Rpb25zYCB0byBiZSBhbiBhcnJheSBvciBhbiBgb2wvQ29sbGVjdGlvbmAnLFxuICA0OTogJ0V4cGVjdGVkIGBvdmVybGF5c2AgdG8gYmUgYW4gYXJyYXkgb3IgYW4gYG9sL0NvbGxlY3Rpb25gJyxcbiAgNTA6ICdgb3B0aW9ucy5mZWF0dXJlVHlwZXNgIHNob3VsZCBiZSBhbiBBcnJheScsXG4gIDUxOiAnRWl0aGVyIGB1cmxgIG9yIGB0aWxlSlNPTmAgb3B0aW9ucyBtdXN0IGJlIHByb3ZpZGVkJyxcbiAgNTI6ICdVbmtub3duIGBzZXJ2ZXJUeXBlYCBjb25maWd1cmVkJyxcbiAgNTM6ICdVbmtub3duIGB0aWVyU2l6ZUNhbGN1bGF0aW9uYCBjb25maWd1cmVkJyxcbiAgNTU6ICdUaGUgey15fSBwbGFjZWhvbGRlciByZXF1aXJlcyBhIHRpbGUgZ3JpZCB3aXRoIGV4dGVudCcsXG4gIDU2OiAnbWFwQnJvd3NlckV2ZW50IG11c3Qgb3JpZ2luYXRlIGZyb20gYSBwb2ludGVyIGV2ZW50JyxcbiAgNTc6ICdBdCBsZWFzdCAyIGNvbmRpdGlvbnMgYXJlIHJlcXVpcmVkJyxcbiAgNTk6ICdJbnZhbGlkIGNvbW1hbmQgZm91bmQgaW4gdGhlIFBCRicsXG4gIDYwOiAnTWlzc2luZyBvciBpbnZhbGlkIGBzaXplYCcsXG4gIDYxOiAnQ2Fubm90IGRldGVybWluZSBJSUlGIEltYWdlIEFQSSB2ZXJzaW9uIGZyb20gcHJvdmlkZWQgaW1hZ2UgaW5mb3JtYXRpb24gSlNPTicsXG4gIDYyOiAnQSBgV2ViR0xBcnJheUJ1ZmZlcmAgbXVzdCBlaXRoZXIgYmUgb2YgdHlwZSBgRUxFTUVOVF9BUlJBWV9CVUZGRVJgIG9yIGBBUlJBWV9CVUZGRVJgJyxcbiAgNjQ6ICdMYXllciBvcGFjaXR5IG11c3QgYmUgYSBudW1iZXInLFxuICA2NjogJ2Bmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZWAgY2Fubm90IGJlIHVzZWQgb24gYSBXZWJHTCBsYXllciBpZiB0aGUgaGl0IGRldGVjdGlvbiBsb2dpYyBoYXMgbm90IGJlZW4gZW5hYmxlZC4gVGhpcyBpcyBkb25lIGJ5IHByb3ZpZGluZyBhZGVxdWF0ZSBzaGFkZXJzIHVzaW5nIHRoZSBgaGl0VmVydGV4U2hhZGVyYCBhbmQgYGhpdEZyYWdtZW50U2hhZGVyYCBwcm9wZXJ0aWVzIG9mIGBXZWJHTFBvaW50c0xheWVyUmVuZGVyZXJgJyxcbiAgNjc6ICdBIGxheWVyIGNhbiBvbmx5IGJlIGFkZGVkIHRvIHRoZSBtYXAgb25jZS4gVXNlIGVpdGhlciBgbGF5ZXIuc2V0TWFwKClgIG9yIGBtYXAuYWRkTGF5ZXIoKWAsIG5vdCBib3RoJyxcbiAgNjg6ICdBIFZlY3RvclRpbGUgc291cmNlIGNhbiBvbmx5IGJlIHJlbmRlcmVkIGlmIGl0IGhhcyBhIHByb2plY3Rpb24gY29tcGF0aWJsZSB3aXRoIHRoZSB2aWV3IHByb2plY3Rpb24nLFxuICA2OTogJ2B3aWR0aGAgb3IgYGhlaWdodGAgY2Fubm90IGJlIHByb3ZpZGVkIHRvZ2V0aGVyIHdpdGggYHNjYWxlYCcsXG59O1xuXG4vKipcbiAqIEVycm9yIG9iamVjdCB0aHJvd24gd2hlbiBhbiBhc3NlcnRpb24gZmFpbGVkLiBUaGlzIGlzIGFuIEVDTUEtMjYyIEVycm9yLFxuICogZXh0ZW5kZWQgd2l0aCBhIGBjb2RlYCBwcm9wZXJ0eS5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9FcnJvci5cbiAqL1xuY2xhc3MgQXNzZXJ0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gY29kZSBFcnJvciBjb2RlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29kZSkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBtZXNzYWdlc1tjb2RlXTtcblxuICAgIHN1cGVyKG1lc3NhZ2UpO1xuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZS4gVGhlIG1lYW5pbmcgb2YgdGhlIGNvZGUgY2FuIGJlIGZvdW5kIG9uXG4gICAgICogaHR0cHM6Ly9vcGVubGF5ZXJzLm9yZy9lbi9sYXRlc3QvZG9jL2Vycm9ycy8gKHJlcGxhY2UgYGxhdGVzdGAgd2l0aFxuICAgICAqIHRoZSB2ZXJzaW9uIGZvdW5kIGluIHRoZSBPcGVuTGF5ZXJzIHNjcmlwdCdzIGhlYWRlciBjb21tZW50IGlmIGEgdmVyc2lvblxuICAgICAqIG90aGVyIHRoYW4gdGhlIGxhdGVzdCBpcyB1c2VkKS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZXByZWNhdGVkIG9sL0Fzc2VydGlvbkVycm9yIGFuZCBlcnJvciBjb2RlcyB3aWxsIGJlIHJlbW92ZWQgaW4gdjguMFxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLm5hbWUgPSAnQXNzZXJ0aW9uRXJyb3InO1xuXG4gICAgLy8gUmUtYXNzaWduIG1lc3NhZ2UsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vUmljaC1IYXJyaXMvYnVibGUvaXNzdWVzLzQwXG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBc3NlcnRpb25FcnJvcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9EaXNwb3NhYmxlXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBPYmplY3RzIHRoYXQgbmVlZCB0byBjbGVhbiB1cCBhZnRlciB0aGVtc2VsdmVzLlxuICovXG5jbGFzcyBEaXNwb3NhYmxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdCBoYXMgYWxyZWFkeSBiZWVuIGRpc3Bvc2VkLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLmRpc3Bvc2VkID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAuXG4gICAqL1xuICBkaXNwb3NlKCkge1xuICAgIGlmICghdGhpcy5kaXNwb3NlZCkge1xuICAgICAgdGhpcy5kaXNwb3NlZCA9IHRydWU7XG4gICAgICB0aGlzLmRpc3Bvc2VJbnRlcm5hbCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRlbnNpb24gcG9pbnQgZm9yIGRpc3Bvc2FibGUgb2JqZWN0cy5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZGlzcG9zZUludGVybmFsKCkge31cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGlzcG9zYWJsZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9JbWFnZVxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW1hZ2VCYXNlIGZyb20gJy4vSW1hZ2VCYXNlLmpzJztcbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQge0lNQUdFX0RFQ09ERX0gZnJvbSAnLi9oYXMuanMnO1xuaW1wb3J0IHtnZXRIZWlnaHR9IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7bGlzdGVuT25jZSwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi9ldmVudHMuanMnO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL0ltYWdlfkltYWdlV3JhcHBlcn0gZm9yIHRoZSBpbWFnZSBhbmQgYVxuICogYHtzdHJpbmd9YCBmb3IgdGhlIHNyYyBhcyBhcmd1bWVudHMuIEl0IGlzIHN1cHBvc2VkIHRvIG1ha2UgaXQgc28gdGhlXG4gKiB1bmRlcmx5aW5nIGltYWdlIHtAbGluayBtb2R1bGU6b2wvSW1hZ2V+SW1hZ2VXcmFwcGVyI2dldEltYWdlfSBpcyBhc3NpZ25lZCB0aGVcbiAqIGNvbnRlbnQgc3BlY2lmaWVkIGJ5IHRoZSBzcmMuIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBkZWZhdWx0IGlzXG4gKlxuICogICAgIGZ1bmN0aW9uKGltYWdlLCBzcmMpIHtcbiAqICAgICAgIGltYWdlLmdldEltYWdlKCkuc3JjID0gc3JjO1xuICogICAgIH1cbiAqXG4gKiBQcm92aWRpbmcgYSBjdXN0b20gYGltYWdlTG9hZEZ1bmN0aW9uYCBjYW4gYmUgdXNlZnVsIHRvIGxvYWQgaW1hZ2VzIHdpdGhcbiAqIHBvc3QgcmVxdWVzdHMgb3IgLSBpbiBnZW5lcmFsIC0gdGhyb3VnaCBYSFIgcmVxdWVzdHMsIHdoZXJlIHRoZSBzcmMgb2YgdGhlXG4gKiBpbWFnZSBlbGVtZW50IHdvdWxkIGJlIHNldCB0byBhIGRhdGEgVVJJIHdoZW4gdGhlIGNvbnRlbnQgaXMgbG9hZGVkLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihJbWFnZVdyYXBwZXIsIHN0cmluZyk6IHZvaWR9IExvYWRGdW5jdGlvblxuICogQGFwaVxuICovXG5cbmNsYXNzIEltYWdlV3JhcHBlciBleHRlbmRzIEltYWdlQmFzZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIEltYWdlIHNvdXJjZSBVUkkuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuICAgKiBAcGFyYW0ge0xvYWRGdW5jdGlvbn0gaW1hZ2VMb2FkRnVuY3Rpb24gSW1hZ2UgbG9hZCBmdW5jdGlvbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIGV4dGVudCxcbiAgICByZXNvbHV0aW9uLFxuICAgIHBpeGVsUmF0aW8sXG4gICAgc3JjLFxuICAgIGNyb3NzT3JpZ2luLFxuICAgIGltYWdlTG9hZEZ1bmN0aW9uXG4gICkge1xuICAgIHN1cGVyKGV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbywgSW1hZ2VTdGF0ZS5JRExFKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnNyY18gPSBzcmM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZV8gPSBuZXcgSW1hZ2UoKTtcbiAgICBpZiAoY3Jvc3NPcmlnaW4gIT09IG51bGwpIHtcbiAgICAgIHRoaXMuaW1hZ2VfLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2Z1bmN0aW9uKCk6dm9pZH1cbiAgICAgKi9cbiAgICB0aGlzLnVubGlzdGVuXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLklETEU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtMb2FkRnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5pbWFnZUxvYWRGdW5jdGlvbl8gPSBpbWFnZUxvYWRGdW5jdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IEltYWdlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRJbWFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZV87XG4gIH1cblxuICAvKipcbiAgICogVHJhY2tzIGxvYWRpbmcgb3IgcmVhZCBlcnJvcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVJbWFnZUVycm9yXygpIHtcbiAgICB0aGlzLnN0YXRlID0gSW1hZ2VTdGF0ZS5FUlJPUjtcbiAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogVHJhY2tzIHN1Y2Nlc3NmdWwgaW1hZ2UgbG9hZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUltYWdlTG9hZF8oKSB7XG4gICAgaWYgKHRoaXMucmVzb2x1dGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnJlc29sdXRpb24gPSBnZXRIZWlnaHQodGhpcy5leHRlbnQpIC8gdGhpcy5pbWFnZV8uaGVpZ2h0O1xuICAgIH1cbiAgICB0aGlzLnN0YXRlID0gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgdGhlIGltYWdlIG9yIHJldHJ5IGlmIGxvYWRpbmcgcHJldmlvdXNseSBmYWlsZWQuXG4gICAqIExvYWRpbmcgaXMgdGFrZW4gY2FyZSBvZiBieSB0aGUgdGlsZSBxdWV1ZSwgYW5kIGNhbGxpbmcgdGhpcyBtZXRob2QgaXNcbiAgICogb25seSBuZWVkZWQgZm9yIHByZWxvYWRpbmcgb3IgZm9yIHJlbG9hZGluZyBpbiBjYXNlIG9mIGFuIGVycm9yLlxuICAgKiBAYXBpXG4gICAqL1xuICBsb2FkKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuSURMRSB8fCB0aGlzLnN0YXRlID09IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBJbWFnZVN0YXRlLkxPQURJTkc7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgIHRoaXMuaW1hZ2VMb2FkRnVuY3Rpb25fKHRoaXMsIHRoaXMuc3JjXyk7XG4gICAgICB0aGlzLnVubGlzdGVuXyA9IGxpc3RlbkltYWdlKFxuICAgICAgICB0aGlzLmltYWdlXyxcbiAgICAgICAgdGhpcy5oYW5kbGVJbWFnZUxvYWRfLmJpbmQodGhpcyksXG4gICAgICAgIHRoaXMuaGFuZGxlSW1hZ2VFcnJvcl8uYmluZCh0aGlzKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIEltYWdlLlxuICAgKi9cbiAgc2V0SW1hZ2UoaW1hZ2UpIHtcbiAgICB0aGlzLmltYWdlXyA9IGltYWdlO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IGdldEhlaWdodCh0aGlzLmV4dGVudCkgLyB0aGlzLmltYWdlXy5oZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogRGlzY2FyZHMgZXZlbnQgaGFuZGxlcnMgd2hpY2ggbGlzdGVuIGZvciBsb2FkIGNvbXBsZXRpb24gb3IgZXJyb3JzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdW5saXN0ZW5JbWFnZV8oKSB7XG4gICAgaWYgKHRoaXMudW5saXN0ZW5fKSB7XG4gICAgICB0aGlzLnVubGlzdGVuXygpO1xuICAgICAgdGhpcy51bmxpc3Rlbl8gPSBudWxsO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBpbWFnZSBJbWFnZSBlbGVtZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbigpOmFueX0gbG9hZEhhbmRsZXIgTG9hZCBjYWxsYmFjayBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKTphbnl9IGVycm9ySGFuZGxlciBFcnJvciBjYWxsYmFjayBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKCk6dm9pZH0gQ2FsbGJhY2sgdG8gc3RvcCBsaXN0ZW5pbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5JbWFnZShpbWFnZSwgbG9hZEhhbmRsZXIsIGVycm9ySGFuZGxlcikge1xuICBjb25zdCBpbWcgPSAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR9ICovIChpbWFnZSk7XG4gIGxldCBsaXN0ZW5pbmcgPSB0cnVlO1xuICBsZXQgZGVjb2RpbmcgPSBmYWxzZTtcbiAgbGV0IGxvYWRlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IGxpc3RlbmVyS2V5cyA9IFtcbiAgICBsaXN0ZW5PbmNlKGltZywgRXZlbnRUeXBlLkxPQUQsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxvYWRlZCA9IHRydWU7XG4gICAgICBpZiAoIWRlY29kaW5nKSB7XG4gICAgICAgIGxvYWRIYW5kbGVyKCk7XG4gICAgICB9XG4gICAgfSksXG4gIF07XG5cbiAgaWYgKGltZy5zcmMgJiYgSU1BR0VfREVDT0RFKSB7XG4gICAgZGVjb2RpbmcgPSB0cnVlO1xuICAgIGltZ1xuICAgICAgLmRlY29kZSgpXG4gICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChsaXN0ZW5pbmcpIHtcbiAgICAgICAgICBsb2FkSGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAobGlzdGVuaW5nKSB7XG4gICAgICAgICAgaWYgKGxvYWRlZCkge1xuICAgICAgICAgICAgbG9hZEhhbmRsZXIoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3JIYW5kbGVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBsaXN0ZW5lcktleXMucHVzaChsaXN0ZW5PbmNlKGltZywgRXZlbnRUeXBlLkVSUk9SLCBlcnJvckhhbmRsZXIpKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiB1bmxpc3RlbigpIHtcbiAgICBsaXN0ZW5pbmcgPSBmYWxzZTtcbiAgICBsaXN0ZW5lcktleXMuZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VXcmFwcGVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0ltYWdlU3RhdGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgSURMRTogMCxcbiAgTE9BRElORzogMSxcbiAgTE9BREVEOiAyLFxuICBFUlJPUjogMyxcbiAgRU1QVFk6IDQsXG59O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL0ltYWdlVGlsZVxuICovXG5pbXBvcnQgVGlsZSBmcm9tICcuL1RpbGUuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHtsaXN0ZW5JbWFnZX0gZnJvbSAnLi9JbWFnZS5qcyc7XG5cbmNsYXNzIEltYWdlVGlsZSBleHRlbmRzIFRpbGUge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH0gc3RhdGUgU3RhdGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgSW1hZ2Ugc291cmNlIFVSSS5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gdGlsZUxvYWRGdW5jdGlvbiBUaWxlIGxvYWQgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLk9wdGlvbnN9IFtvcHRpb25zXSBUaWxlIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0aWxlQ29vcmQsIHN0YXRlLCBzcmMsIGNyb3NzT3JpZ2luLCB0aWxlTG9hZEZ1bmN0aW9uLCBvcHRpb25zKSB7XG4gICAgc3VwZXIodGlsZUNvb3JkLCBzdGF0ZSwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuY3Jvc3NPcmlnaW5fID0gY3Jvc3NPcmlnaW47XG5cbiAgICAvKipcbiAgICAgKiBJbWFnZSBVUklcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnNyY18gPSBzcmM7XG5cbiAgICB0aGlzLmtleSA9IHNyYztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZV8gPSBuZXcgSW1hZ2UoKTtcbiAgICBpZiAoY3Jvc3NPcmlnaW4gIT09IG51bGwpIHtcbiAgICAgIHRoaXMuaW1hZ2VfLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2Z1bmN0aW9uKCk6dm9pZH1cbiAgICAgKi9cbiAgICB0aGlzLnVubGlzdGVuXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbl8gPSB0aWxlTG9hZEZ1bmN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgSFRNTCBpbWFnZSBlbGVtZW50IGZvciB0aGlzIHRpbGUgKG1heSBiZSBhIENhbnZhcywgSW1hZ2UsIG9yIFZpZGVvKS5cbiAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBJbWFnZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0SW1hZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYW4gSFRNTCBpbWFnZSBlbGVtZW50IGZvciB0aGlzIHRpbGUgKG1heSBiZSBhIENhbnZhcyBvciBwcmVsb2FkZWQgSW1hZ2UpLlxuICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudC5cbiAgICovXG4gIHNldEltYWdlKGVsZW1lbnQpIHtcbiAgICB0aGlzLmltYWdlXyA9IGVsZW1lbnQ7XG4gICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5MT0FERUQ7XG4gICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYWNrcyBsb2FkaW5nIG9yIHJlYWQgZXJyb3JzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlSW1hZ2VFcnJvcl8oKSB7XG4gICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FUlJPUjtcbiAgICB0aGlzLnVubGlzdGVuSW1hZ2VfKCk7XG4gICAgdGhpcy5pbWFnZV8gPSBnZXRCbGFua0ltYWdlKCk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogVHJhY2tzIHN1Y2Nlc3NmdWwgaW1hZ2UgbG9hZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUltYWdlTG9hZF8oKSB7XG4gICAgY29uc3QgaW1hZ2UgPSAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR9ICovICh0aGlzLmltYWdlXyk7XG4gICAgaWYgKGltYWdlLm5hdHVyYWxXaWR0aCAmJiBpbWFnZS5uYXR1cmFsSGVpZ2h0KSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURFRDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICB9XG4gICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgdGhlIGltYWdlIG9yIHJldHJ5IGlmIGxvYWRpbmcgcHJldmlvdXNseSBmYWlsZWQuXG4gICAqIExvYWRpbmcgaXMgdGFrZW4gY2FyZSBvZiBieSB0aGUgdGlsZSBxdWV1ZSwgYW5kIGNhbGxpbmcgdGhpcyBtZXRob2QgaXNcbiAgICogb25seSBuZWVkZWQgZm9yIHByZWxvYWRpbmcgb3IgZm9yIHJlbG9hZGluZyBpbiBjYXNlIG9mIGFuIGVycm9yLlxuICAgKlxuICAgKiBUbyByZXRyeSBsb2FkaW5nIHRpbGVzIG9uIGZhaWxlZCByZXF1ZXN0cywgdXNlIGEgY3VzdG9tIGB0aWxlTG9hZEZ1bmN0aW9uYFxuICAgKiB0aGF0IGNoZWNrcyBmb3IgZXJyb3Igc3RhdHVzIGNvZGVzIGFuZCByZWxvYWRzIG9ubHkgd2hlbiB0aGUgc3RhdHVzIGNvZGUgaXNcbiAgICogNDA4LCA0MjksIDUwMCwgNTAyLCA1MDMgYW5kIDUwNCwgYW5kIG9ubHkgd2hlbiBub3QgdG9vIG1hbnkgcmV0cmllcyBoYXZlIGJlZW5cbiAgICogbWFkZSBhbHJlYWR5OlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBjb25zdCByZXRyeUNvZGVzID0gWzQwOCwgNDI5LCA1MDAsIDUwMiwgNTAzLCA1MDRdO1xuICAgKiBjb25zdCByZXRyaWVzID0ge307XG4gICAqIHNvdXJjZS5zZXRUaWxlTG9hZEZ1bmN0aW9uKCh0aWxlLCBzcmMpID0+IHtcbiAgICogICBjb25zdCBpbWFnZSA9IHRpbGUuZ2V0SW1hZ2UoKTtcbiAgICogICBmZXRjaChzcmMpXG4gICAqICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICogICAgICAgaWYgKHJldHJ5Q29kZXMuaW5jbHVkZXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgKiAgICAgICAgIHJldHJpZXNbc3JjXSA9IChyZXRyaWVzW3NyY10gfHwgMCkgKyAxO1xuICAgKiAgICAgICAgIGlmIChyZXRyaWVzW3NyY10gPD0gMykge1xuICAgKiAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aWxlLmxvYWQoKSwgcmV0cmllc1tzcmNdICogMTAwMCk7XG4gICAqICAgICAgICAgfVxuICAgKiAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgKiAgICAgICB9XG4gICAqICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAqICAgICB9KVxuICAgKiAgICAgLnRoZW4oKGJsb2IpID0+IHtcbiAgICogICAgICAgY29uc3QgaW1hZ2VVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgKiAgICAgICBpbWFnZS5zcmMgPSBpbWFnZVVybDtcbiAgICogICAgICAgc2V0VGltZW91dCgoKSA9PiBVUkwucmV2b2tlT2JqZWN0VVJMKGltYWdlVXJsKSwgNTAwMCk7XG4gICAqICAgICB9KVxuICAgKiAgICAgLmNhdGNoKCgpID0+IHRpbGUuc2V0U3RhdGUoMykpOyAvLyBlcnJvclxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBhcGlcbiAgICovXG4gIGxvYWQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gVGlsZVN0YXRlLkVSUk9SKSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLklETEU7XG4gICAgICB0aGlzLmltYWdlXyA9IG5ldyBJbWFnZSgpO1xuICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW5fICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VfLmNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpbl87XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURJTkc7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbl8odGhpcywgdGhpcy5zcmNfKTtcbiAgICAgIHRoaXMudW5saXN0ZW5fID0gbGlzdGVuSW1hZ2UoXG4gICAgICAgIHRoaXMuaW1hZ2VfLFxuICAgICAgICB0aGlzLmhhbmRsZUltYWdlTG9hZF8uYmluZCh0aGlzKSxcbiAgICAgICAgdGhpcy5oYW5kbGVJbWFnZUVycm9yXy5iaW5kKHRoaXMpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjYXJkcyBldmVudCBoYW5kbGVycyB3aGljaCBsaXN0ZW4gZm9yIGxvYWQgY29tcGxldGlvbiBvciBlcnJvcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB1bmxpc3RlbkltYWdlXygpIHtcbiAgICBpZiAodGhpcy51bmxpc3Rlbl8pIHtcbiAgICAgIHRoaXMudW5saXN0ZW5fKCk7XG4gICAgICB0aGlzLnVubGlzdGVuXyA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogR2V0IGEgMS1waXhlbCBibGFuayBpbWFnZS5cbiAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBCbGFuayBpbWFnZS5cbiAqL1xuZnVuY3Rpb24gZ2V0QmxhbmtJbWFnZSgpIHtcbiAgY29uc3QgY3R4ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKDEsIDEpO1xuICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMCknO1xuICBjdHguZmlsbFJlY3QoMCwgMCwgMSwgMSk7XG4gIHJldHVybiBjdHguY2FudmFzO1xufVxuXG5leHBvcnQgZGVmYXVsdCBJbWFnZVRpbGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvQ29sbGVjdGlvbkV2ZW50VHlwZVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gYW4gaXRlbSBpcyBhZGRlZCB0byB0aGUgY29sbGVjdGlvbi5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9Db2xsZWN0aW9uLkNvbGxlY3Rpb25FdmVudCNhZGRcbiAgICogQGFwaVxuICAgKi9cbiAgQUREOiAnYWRkJyxcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGFuIGl0ZW0gaXMgcmVtb3ZlZCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL0NvbGxlY3Rpb24uQ29sbGVjdGlvbkV2ZW50I3JlbW92ZVxuICAgKiBAYXBpXG4gICAqL1xuICBSRU1PVkU6ICdyZW1vdmUnLFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9Db2xsZWN0aW9uXG4gKi9cbmltcG9ydCBBc3NlcnRpb25FcnJvciBmcm9tICcuL0Fzc2VydGlvbkVycm9yLmpzJztcbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4vT2JqZWN0LmpzJztcbmltcG9ydCBDb2xsZWN0aW9uRXZlbnRUeXBlIGZyb20gJy4vQ29sbGVjdGlvbkV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudHMvRXZlbnQuanMnO1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBQcm9wZXJ0eSA9IHtcbiAgTEVOR1RIOiAnbGVuZ3RoJyxcbn07XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRXZlbnRzIGVtaXR0ZWQgYnkge0BsaW5rIG1vZHVsZTpvbC9Db2xsZWN0aW9ufkNvbGxlY3Rpb259IGluc3RhbmNlcyBhcmUgaW5zdGFuY2VzIG9mIHRoaXNcbiAqIHR5cGUuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgY2xhc3MgQ29sbGVjdGlvbkV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb25FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBUeXBlLlxuICAgKiBAcGFyYW0ge1R9IGVsZW1lbnQgRWxlbWVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgYWRkZWQgb3IgcmVtb3ZlZCBlbGVtZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSwgZWxlbWVudCwgaW5kZXgpIHtcbiAgICBzdXBlcih0eXBlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBlbGVtZW50IHRoYXQgaXMgYWRkZWQgdG8gb3IgcmVtb3ZlZCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqIEB0eXBlIHtUfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBhZGRlZCBvciByZW1vdmVkIGVsZW1lbnQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICB9XG59XG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfCdjaGFuZ2U6bGVuZ3RoJywgaW1wb3J0KFwiLi9PYmplY3RcIikuT2JqZWN0RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8J2FkZCd8J3JlbW92ZScsIENvbGxlY3Rpb25FdmVudDxUPiwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfGltcG9ydChcIi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfFxuICogICAgICdjaGFuZ2U6bGVuZ3RoJ3wnYWRkJ3wncmVtb3ZlJyxSZXR1cm4+fSBDb2xsZWN0aW9uT25TaWduYXR1cmVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VuaXF1ZT1mYWxzZV0gRGlzYWxsb3cgdGhlIHNhbWUgaXRlbSBmcm9tIGJlaW5nIGFkZGVkIHRvXG4gKiB0aGUgY29sbGVjdGlvbiB0d2ljZS5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFuIGV4cGFuZGVkIHZlcnNpb24gb2Ygc3RhbmRhcmQgSlMgQXJyYXksIGFkZGluZyBjb252ZW5pZW5jZSBtZXRob2RzIGZvclxuICogbWFuaXB1bGF0aW9uLiBBZGQgYW5kIHJlbW92ZSBjaGFuZ2VzIHRvIHRoZSBDb2xsZWN0aW9uIHRyaWdnZXIgYSBDb2xsZWN0aW9uXG4gKiBldmVudC4gTm90ZSB0aGF0IHRoaXMgZG9lcyBub3QgY292ZXIgY2hhbmdlcyB0byB0aGUgb2JqZWN0cyBfd2l0aGluXyB0aGVcbiAqIENvbGxlY3Rpb247IHRoZXkgdHJpZ2dlciBldmVudHMgb24gdGhlIGFwcHJvcHJpYXRlIG9iamVjdCwgbm90IG9uIHRoZVxuICogQ29sbGVjdGlvbiBhcyBhIHdob2xlLlxuICpcbiAqIEBmaXJlcyBDb2xsZWN0aW9uRXZlbnRcbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQGFwaVxuICovXG5jbGFzcyBDb2xsZWN0aW9uIGV4dGVuZHMgQmFzZU9iamVjdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PFQ+fSBbYXJyYXldIEFycmF5LlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBDb2xsZWN0aW9uIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhcnJheSwgb3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0NvbGxlY3Rpb25PblNpZ25hdHVyZTxULCBpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0NvbGxlY3Rpb25PblNpZ25hdHVyZTxULCBpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbk9uU2lnbmF0dXJlPFQsIHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy51bmlxdWVfID0gISFvcHRpb25zLnVuaXF1ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFBcnJheTxUPn1cbiAgICAgKi9cbiAgICB0aGlzLmFycmF5XyA9IGFycmF5ID8gYXJyYXkgOiBbXTtcblxuICAgIGlmICh0aGlzLnVuaXF1ZV8pIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHRoaXMuYXJyYXlfLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdGhpcy5hc3NlcnRVbmlxdWVfKHRoaXMuYXJyYXlfW2ldLCBpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZUxlbmd0aF8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIGVsZW1lbnRzIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHdoaWxlICh0aGlzLmdldExlbmd0aCgpID4gMCkge1xuICAgICAgdGhpcy5wb3AoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGVsZW1lbnRzIHRvIHRoZSBjb2xsZWN0aW9uLiAgVGhpcyBwdXNoZXMgZWFjaCBpdGVtIGluIHRoZSBwcm92aWRlZCBhcnJheVxuICAgKiB0byB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0geyFBcnJheTxUPn0gYXJyIEFycmF5LlxuICAgKiBAcmV0dXJuIHtDb2xsZWN0aW9uPFQ+fSBUaGlzIGNvbGxlY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGV4dGVuZChhcnIpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBhcnIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgdGhpcy5wdXNoKGFycltpXSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgb3ZlciBlYWNoIGVsZW1lbnQsIGNhbGxpbmcgdGhlIHByb3ZpZGVkIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFQsIG51bWJlciwgQXJyYXk8VD4pOiAqfSBmIFRoZSBmdW5jdGlvbiB0byBjYWxsXG4gICAqICAgICBmb3IgZXZlcnkgZWxlbWVudC4gVGhpcyBmdW5jdGlvbiB0YWtlcyAzIGFyZ3VtZW50cyAodGhlIGVsZW1lbnQsIHRoZVxuICAgKiAgICAgaW5kZXggYW5kIHRoZSBhcnJheSkuIFRoZSByZXR1cm4gdmFsdWUgaXMgaWdub3JlZC5cbiAgICogQGFwaVxuICAgKi9cbiAgZm9yRWFjaChmKSB7XG4gICAgY29uc3QgYXJyYXkgPSB0aGlzLmFycmF5XztcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBhcnJheS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBmKGFycmF5W2ldLCBpLCBhcnJheSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgdW5kZXJseWluZyBBcnJheSBvYmplY3QuIFdhcm5pbmc6IGlmIHRoZSBhcnJheVxuICAgKiBpcyBtdXRhdGVkLCBubyBldmVudHMgd2lsbCBiZSBkaXNwYXRjaGVkIGJ5IHRoZSBjb2xsZWN0aW9uLCBhbmQgdGhlXG4gICAqIGNvbGxlY3Rpb24ncyBcImxlbmd0aFwiIHByb3BlcnR5IHdvbid0IGJlIGluIHN5bmMgd2l0aCB0aGUgYWN0dWFsIGxlbmd0aFxuICAgKiBvZiB0aGUgYXJyYXkuXG4gICAqIEByZXR1cm4geyFBcnJheTxUPn0gQXJyYXkuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEFycmF5KCkge1xuICAgIHJldHVybiB0aGlzLmFycmF5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGVsZW1lbnQgYXQgdGhlIHByb3ZpZGVkIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEByZXR1cm4ge1R9IEVsZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGl0ZW0oaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5hcnJheV9baW5kZXhdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoaXMgY29sbGVjdGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGVuZ3RoIG9mIHRoZSBhcnJheS5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLmdldChQcm9wZXJ0eS5MRU5HVEgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydCBhbiBlbGVtZW50IGF0IHRoZSBwcm92aWRlZCBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgaW5zZXJ0QXQoaW5kZXgsIGVsZW0pIHtcbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5nZXRMZW5ndGgoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmRleCBvdXQgb2YgYm91bmRzOiAnICsgaW5kZXgpO1xuICAgIH1cbiAgICBpZiAodGhpcy51bmlxdWVfKSB7XG4gICAgICB0aGlzLmFzc2VydFVuaXF1ZV8oZWxlbSk7XG4gICAgfVxuICAgIHRoaXMuYXJyYXlfLnNwbGljZShpbmRleCwgMCwgZWxlbSk7XG4gICAgdGhpcy51cGRhdGVMZW5ndGhfKCk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IENvbGxlY3Rpb25FdmVudChDb2xsZWN0aW9uRXZlbnRUeXBlLkFERCwgZWxlbSwgaW5kZXgpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGxhc3QgZWxlbWVudCBvZiB0aGUgY29sbGVjdGlvbiBhbmQgcmV0dXJuIGl0LlxuICAgKiBSZXR1cm4gYHVuZGVmaW5lZGAgaWYgdGhlIGNvbGxlY3Rpb24gaXMgZW1wdHkuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBFbGVtZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBwb3AoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlQXQodGhpcy5nZXRMZW5ndGgoKSAtIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydCB0aGUgcHJvdmlkZWQgZWxlbWVudCBhdCB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBOZXcgbGVuZ3RoIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBwdXNoKGVsZW0pIHtcbiAgICBpZiAodGhpcy51bmlxdWVfKSB7XG4gICAgICB0aGlzLmFzc2VydFVuaXF1ZV8oZWxlbSk7XG4gICAgfVxuICAgIGNvbnN0IG4gPSB0aGlzLmdldExlbmd0aCgpO1xuICAgIHRoaXMuaW5zZXJ0QXQobiwgZWxlbSk7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TGVuZ3RoKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGFuIGVsZW1lbnQgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIHtUfSBlbGVtIEVsZW1lbnQuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBUaGUgcmVtb3ZlZCBlbGVtZW50IG9yIHVuZGVmaW5lZCBpZiBub25lIGZvdW5kLlxuICAgKiBAYXBpXG4gICAqL1xuICByZW1vdmUoZWxlbSkge1xuICAgIGNvbnN0IGFyciA9IHRoaXMuYXJyYXlfO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGFyci5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBpZiAoYXJyW2ldID09PSBlbGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUF0KGkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgZWxlbWVudCBhdCB0aGUgcHJvdmlkZWQgaW5kZXggYW5kIHJldHVybiBpdC5cbiAgICogUmV0dXJuIGB1bmRlZmluZWRgIGlmIHRoZSBjb2xsZWN0aW9uIGRvZXMgbm90IGNvbnRhaW4gdGhpcyBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gVmFsdWUuXG4gICAqIEBhcGlcbiAgICovXG4gIHJlbW92ZUF0KGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmdldExlbmd0aCgpKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBwcmV2ID0gdGhpcy5hcnJheV9baW5kZXhdO1xuICAgIHRoaXMuYXJyYXlfLnNwbGljZShpbmRleCwgMSk7XG4gICAgdGhpcy51cGRhdGVMZW5ndGhfKCk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgLyoqIEB0eXBlIHtDb2xsZWN0aW9uRXZlbnQ8VD59ICovIChcbiAgICAgICAgbmV3IENvbGxlY3Rpb25FdmVudChDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgcHJldiwgaW5kZXgpXG4gICAgICApXG4gICAgKTtcbiAgICByZXR1cm4gcHJldjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGVsZW1lbnQgYXQgdGhlIHByb3ZpZGVkIGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXguXG4gICAqIEBwYXJhbSB7VH0gZWxlbSBFbGVtZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRBdChpbmRleCwgZWxlbSkge1xuICAgIGNvbnN0IG4gPSB0aGlzLmdldExlbmd0aCgpO1xuICAgIGlmIChpbmRleCA+PSBuKSB7XG4gICAgICB0aGlzLmluc2VydEF0KGluZGV4LCBlbGVtKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmRleCBvdXQgb2YgYm91bmRzOiAnICsgaW5kZXgpO1xuICAgIH1cbiAgICBpZiAodGhpcy51bmlxdWVfKSB7XG4gICAgICB0aGlzLmFzc2VydFVuaXF1ZV8oZWxlbSwgaW5kZXgpO1xuICAgIH1cbiAgICBjb25zdCBwcmV2ID0gdGhpcy5hcnJheV9baW5kZXhdO1xuICAgIHRoaXMuYXJyYXlfW2luZGV4XSA9IGVsZW07XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgLyoqIEB0eXBlIHtDb2xsZWN0aW9uRXZlbnQ8VD59ICovIChcbiAgICAgICAgbmV3IENvbGxlY3Rpb25FdmVudChDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgcHJldiwgaW5kZXgpXG4gICAgICApXG4gICAgKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAvKiogQHR5cGUge0NvbGxlY3Rpb25FdmVudDxUPn0gKi8gKFxuICAgICAgICBuZXcgQ29sbGVjdGlvbkV2ZW50KENvbGxlY3Rpb25FdmVudFR5cGUuQURELCBlbGVtLCBpbmRleClcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB1cGRhdGVMZW5ndGhfKCkge1xuICAgIHRoaXMuc2V0KFByb3BlcnR5LkxFTkdUSCwgdGhpcy5hcnJheV8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1R9IGVsZW0gRWxlbWVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtleGNlcHRdIE9wdGlvbmFsIGluZGV4IHRvIGlnbm9yZS5cbiAgICovXG4gIGFzc2VydFVuaXF1ZV8oZWxlbSwgZXhjZXB0KSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdGhpcy5hcnJheV8ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgaWYgKHRoaXMuYXJyYXlfW2ldID09PSBlbGVtICYmIGkgIT09IGV4Y2VwdCkge1xuICAgICAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoNTgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb2xsZWN0aW9uO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL01hcFxuICovXG5pbXBvcnQgRGlzcG9zYWJsZSBmcm9tICcuLi9EaXNwb3NhYmxlLmpzJztcbmltcG9ydCB7VFJVRX0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7YWJzdHJhY3R9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHtjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sIG1ha2VJbnZlcnNlfSBmcm9tICcuLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHtnZXRXaWR0aH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7c2hhcmVkIGFzIGljb25JbWFnZUNhY2hlfSBmcm9tICcuLi9zdHlsZS9JY29uSW1hZ2VDYWNoZS5qcyc7XG5pbXBvcnQge2luVmlld30gZnJvbSAnLi4vbGF5ZXIvTGF5ZXIuanMnO1xuaW1wb3J0IHt3cmFwWH0gZnJvbSAnLi4vY29vcmRpbmF0ZS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYgSGl0TWF0Y2hcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkaXN0YW5jZVNxIFNxdWFyZWQgZGlzdGFuY2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vdmVjdG9yLmpzXCIpLkZlYXR1cmVDYWxsYmFjazxUPn0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKiBAdGVtcGxhdGUgVFxuICovXG5cbi8qKlxuICogQGFic3RyYWN0XG4gKi9cbmNsYXNzIE1hcFJlbmRlcmVyIGV4dGVuZHMgRGlzcG9zYWJsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgKi9cbiAgY29uc3RydWN0b3IobWFwKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMubWFwXyA9IG1hcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRUeXBlLmpzXCIpLmRlZmF1bHR9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICovXG4gIGRpc3BhdGNoUmVuZGVyRXZlbnQodHlwZSwgZnJhbWVTdGF0ZSkge1xuICAgIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZVN0YXRlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBjYWxjdWxhdGVNYXRyaWNlczJEKGZyYW1lU3RhdGUpIHtcbiAgICBjb25zdCB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICBjb25zdCBjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSA9IGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm07XG4gICAgY29uc3QgcGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0gPSBmcmFtZVN0YXRlLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtO1xuXG4gICAgY29tcG9zZVRyYW5zZm9ybShcbiAgICAgIGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLFxuICAgICAgZnJhbWVTdGF0ZS5zaXplWzBdIC8gMixcbiAgICAgIGZyYW1lU3RhdGUuc2l6ZVsxXSAvIDIsXG4gICAgICAxIC8gdmlld1N0YXRlLnJlc29sdXRpb24sXG4gICAgICAtMSAvIHZpZXdTdGF0ZS5yZXNvbHV0aW9uLFxuICAgICAgLXZpZXdTdGF0ZS5yb3RhdGlvbixcbiAgICAgIC12aWV3U3RhdGUuY2VudGVyWzBdLFxuICAgICAgLXZpZXdTdGF0ZS5jZW50ZXJbMV1cbiAgICApO1xuXG4gICAgbWFrZUludmVyc2UocGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0sIGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lU3RhdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2hlY2tXcmFwcGVkIENoZWNrIGZvciB3cmFwcGVkIGdlb21ldHJpZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi92ZWN0b3IuanNcIikuRmVhdHVyZUNhbGxiYWNrPFQ+fSBjYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge1N9IHRoaXNBcmcgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgY2FsbGJhY2tgLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFUsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBsYXllckZpbHRlciBMYXllciBmaWx0ZXJcbiAgICogICAgIGZ1bmN0aW9uLCBvbmx5IGxheWVycyB3aGljaCBhcmUgdmlzaWJsZSBhbmQgZm9yIHdoaWNoIHRoaXMgZnVuY3Rpb25cbiAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAqICAgICBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gICAqIEBwYXJhbSB7VX0gdGhpc0FyZzIgVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBgbGF5ZXJGaWx0ZXJgLlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgKiBAdGVtcGxhdGUgUyxULFVcbiAgICovXG4gIGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKFxuICAgIGNvb3JkaW5hdGUsXG4gICAgZnJhbWVTdGF0ZSxcbiAgICBoaXRUb2xlcmFuY2UsXG4gICAgY2hlY2tXcmFwcGVkLFxuICAgIGNhbGxiYWNrLFxuICAgIHRoaXNBcmcsXG4gICAgbGF5ZXJGaWx0ZXIsXG4gICAgdGhpc0FyZzJcbiAgKSB7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBjb25zdCB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbWFuYWdlZCBNYW5hZ2VkIGxheWVyLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICAgICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUobWFuYWdlZCwgZmVhdHVyZSwgbGF5ZXIsIGdlb21ldHJ5KSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBmZWF0dXJlLCBtYW5hZ2VkID8gbGF5ZXIgOiBudWxsLCBnZW9tZXRyeSk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuXG4gICAgY29uc3QgdHJhbnNsYXRlZENvb3JkaW5hdGUgPSB3cmFwWChjb29yZGluYXRlLnNsaWNlKCksIHByb2plY3Rpb24pO1xuICAgIGNvbnN0IG9mZnNldHMgPSBbWzAsIDBdXTtcbiAgICBpZiAocHJvamVjdGlvbi5jYW5XcmFwWCgpICYmIGNoZWNrV3JhcHBlZCkge1xuICAgICAgY29uc3QgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgICBjb25zdCB3b3JsZFdpZHRoID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgICBvZmZzZXRzLnB1c2goWy13b3JsZFdpZHRoLCAwXSwgW3dvcmxkV2lkdGgsIDBdKTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXllclN0YXRlcyA9IGZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICBjb25zdCBudW1MYXllcnMgPSBsYXllclN0YXRlcy5sZW5ndGg7XG5cbiAgICBjb25zdCBtYXRjaGVzID0gLyoqIEB0eXBlIHtBcnJheTxIaXRNYXRjaDxUPj59ICovIChbXSk7XG4gICAgY29uc3QgdG1wQ29vcmQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9mZnNldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSBudW1MYXllcnMgLSAxOyBqID49IDA7IC0taikge1xuICAgICAgICBjb25zdCBsYXllclN0YXRlID0gbGF5ZXJTdGF0ZXNbal07XG4gICAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJTdGF0ZS5sYXllcjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGxheWVyLmhhc1JlbmRlcmVyKCkgJiZcbiAgICAgICAgICBpblZpZXcobGF5ZXJTdGF0ZSwgdmlld1N0YXRlKSAmJlxuICAgICAgICAgIGxheWVyRmlsdGVyLmNhbGwodGhpc0FyZzIsIGxheWVyKVxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBsYXllclJlbmRlcmVyID0gbGF5ZXIuZ2V0UmVuZGVyZXIoKTtcbiAgICAgICAgICBjb25zdCBzb3VyY2UgPSBsYXllci5nZXRTb3VyY2UoKTtcbiAgICAgICAgICBpZiAobGF5ZXJSZW5kZXJlciAmJiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gc291cmNlLmdldFdyYXBYKClcbiAgICAgICAgICAgICAgPyB0cmFuc2xhdGVkQ29vcmRpbmF0ZVxuICAgICAgICAgICAgICA6IGNvb3JkaW5hdGU7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IGZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlLmJpbmQoXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIGxheWVyU3RhdGUubWFuYWdlZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRtcENvb3JkWzBdID0gY29vcmRpbmF0ZXNbMF0gKyBvZmZzZXRzW2ldWzBdO1xuICAgICAgICAgICAgdG1wQ29vcmRbMV0gPSBjb29yZGluYXRlc1sxXSArIG9mZnNldHNbaV1bMV07XG4gICAgICAgICAgICByZXN1bHQgPSBsYXllclJlbmRlcmVyLmZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlKFxuICAgICAgICAgICAgICB0bXBDb29yZCxcbiAgICAgICAgICAgICAgZnJhbWVTdGF0ZSxcbiAgICAgICAgICAgICAgaGl0VG9sZXJhbmNlLFxuICAgICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgICAgbWF0Y2hlc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1hdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBvcmRlciA9IDEgLyBtYXRjaGVzLmxlbmd0aDtcbiAgICBtYXRjaGVzLmZvckVhY2goKG0sIGkpID0+IChtLmRpc3RhbmNlU3EgKz0gaSAqIG9yZGVyKSk7XG4gICAgbWF0Y2hlcy5zb3J0KChhLCBiKSA9PiBhLmRpc3RhbmNlU3EgLSBiLmRpc3RhbmNlU3EpO1xuICAgIG1hdGNoZXMuc29tZSgobSkgPT4ge1xuICAgICAgcmV0dXJuIChyZXN1bHQgPSBtLmNhbGxiYWNrKG0uZmVhdHVyZSwgbS5sYXllciwgbS5nZW9tZXRyeSkpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZVN0YXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGl0VG9sZXJhbmNlIEhpdCB0b2xlcmFuY2UgaW4gcGl4ZWxzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNoZWNrV3JhcHBlZCBDaGVjayBmb3Igd3JhcHBlZCBnZW9tZXRyaWVzLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6IFUsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQpOiBib29sZWFufSBsYXllckZpbHRlciBMYXllciBmaWx0ZXJcbiAgICogICAgIGZ1bmN0aW9uLCBvbmx5IGxheWVycyB3aGljaCBhcmUgdmlzaWJsZSBhbmQgZm9yIHdoaWNoIHRoaXMgZnVuY3Rpb25cbiAgICogICAgIHJldHVybnMgYHRydWVgIHdpbGwgYmUgdGVzdGVkIGZvciBmZWF0dXJlcy4gIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlXG4gICAqICAgICBsYXllcnMgd2lsbCBiZSB0ZXN0ZWQuXG4gICAqIEBwYXJhbSB7VX0gdGhpc0FyZyBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGBsYXllckZpbHRlcmAuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIHRoZXJlIGEgZmVhdHVyZSBhdCB0aGUgZ2l2ZW4gY29vcmRpbmF0ZT9cbiAgICogQHRlbXBsYXRlIFVcbiAgICovXG4gIGhhc0ZlYXR1cmVBdENvb3JkaW5hdGUoXG4gICAgY29vcmRpbmF0ZSxcbiAgICBmcmFtZVN0YXRlLFxuICAgIGhpdFRvbGVyYW5jZSxcbiAgICBjaGVja1dyYXBwZWQsXG4gICAgbGF5ZXJGaWx0ZXIsXG4gICAgdGhpc0FyZ1xuICApIHtcbiAgICBjb25zdCBoYXNGZWF0dXJlID0gdGhpcy5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShcbiAgICAgIGNvb3JkaW5hdGUsXG4gICAgICBmcmFtZVN0YXRlLFxuICAgICAgaGl0VG9sZXJhbmNlLFxuICAgICAgY2hlY2tXcmFwcGVkLFxuICAgICAgVFJVRSxcbiAgICAgIHRoaXMsXG4gICAgICBsYXllckZpbHRlcixcbiAgICAgIHRoaXNBcmdcbiAgICApO1xuXG4gICAgcmV0dXJuIGhhc0ZlYXR1cmUgIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdH0gTWFwLlxuICAgKi9cbiAgZ2V0TWFwKCkge1xuICAgIHJldHVybiB0aGlzLm1hcF87XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqL1xuICByZW5kZXJGcmFtZShmcmFtZVN0YXRlKSB7XG4gICAgYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzY2hlZHVsZUV4cGlyZUljb25DYWNoZShmcmFtZVN0YXRlKSB7XG4gICAgaWYgKGljb25JbWFnZUNhY2hlLmNhbkV4cGlyZUNhY2hlKCkpIHtcbiAgICAgIGZyYW1lU3RhdGUucG9zdFJlbmRlckZ1bmN0aW9ucy5wdXNoKGV4cGlyZUljb25DYWNoZSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gKi9cbmZ1bmN0aW9uIGV4cGlyZUljb25DYWNoZShtYXAsIGZyYW1lU3RhdGUpIHtcbiAgaWNvbkltYWdlQ2FjaGUuZXhwaXJlKCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1hcFJlbmRlcmVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL0NvbXBvc2l0ZVxuICovXG5pbXBvcnQgTWFwUmVuZGVyZXIgZnJvbSAnLi9NYXAuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuLi9PYmplY3RFdmVudFR5cGUuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50IGZyb20gJy4uL3JlbmRlci9FdmVudC5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4uL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtDTEFTU19VTlNFTEVDVEFCTEV9IGZyb20gJy4uL2Nzcy5qcyc7XG5pbXBvcnQge2NoZWNrZWRGb250c30gZnJvbSAnLi4vcmVuZGVyL2NhbnZhcy5qcyc7XG5pbXBvcnQge2luVmlld30gZnJvbSAnLi4vbGF5ZXIvTGF5ZXIuanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXl9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5pbXBvcnQge3JlcGxhY2VDaGlsZHJlbn0gZnJvbSAnLi4vZG9tLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDYW52YXMgbWFwIHJlbmRlcmVyLlxuICogQGFwaVxuICovXG5jbGFzcyBDb21wb3NpdGVNYXBSZW5kZXJlciBleHRlbmRzIE1hcFJlbmRlcmVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR9IG1hcCBNYXAuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYXApIHtcbiAgICBzdXBlcihtYXApO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICovXG4gICAgdGhpcy5mb250Q2hhbmdlTGlzdGVuZXJLZXlfID0gbGlzdGVuKFxuICAgICAgY2hlY2tlZEZvbnRzLFxuICAgICAgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLFxuICAgICAgbWFwLnJlZHJhd1RleHQuYmluZChtYXApXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxEaXZFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuZWxlbWVudF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuZWxlbWVudF8uc3R5bGU7XG4gICAgc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICBzdHlsZS56SW5kZXggPSAnMCc7XG5cbiAgICB0aGlzLmVsZW1lbnRfLmNsYXNzTmFtZSA9IENMQVNTX1VOU0VMRUNUQUJMRSArICcgb2wtbGF5ZXJzJztcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IG1hcC5nZXRWaWV3cG9ydCgpO1xuICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50XywgY29udGFpbmVyLmZpcnN0Q2hpbGQgfHwgbnVsbCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxIVE1MRWxlbWVudD59XG4gICAgICovXG4gICAgdGhpcy5jaGlsZHJlbl8gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBFdmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKi9cbiAgZGlzcGF0Y2hSZW5kZXJFdmVudCh0eXBlLCBmcmFtZVN0YXRlKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5nZXRNYXAoKTtcbiAgICBpZiAobWFwLmhhc0xpc3RlbmVyKHR5cGUpKSB7XG4gICAgICBjb25zdCBldmVudCA9IG5ldyBSZW5kZXJFdmVudCh0eXBlLCB1bmRlZmluZWQsIGZyYW1lU3RhdGUpO1xuICAgICAgbWFwLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGRpc3Bvc2VJbnRlcm5hbCgpIHtcbiAgICB1bmxpc3RlbkJ5S2V5KHRoaXMuZm9udENoYW5nZUxpc3RlbmVyS2V5Xyk7XG4gICAgdGhpcy5lbGVtZW50Xy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudF8pO1xuICAgIHN1cGVyLmRpc3Bvc2VJbnRlcm5hbCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlci5cbiAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqL1xuICByZW5kZXJGcmFtZShmcmFtZVN0YXRlKSB7XG4gICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICBpZiAodGhpcy5yZW5kZXJlZFZpc2libGVfKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudF8uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jYWxjdWxhdGVNYXRyaWNlczJEKGZyYW1lU3RhdGUpO1xuICAgIHRoaXMuZGlzcGF0Y2hSZW5kZXJFdmVudChSZW5kZXJFdmVudFR5cGUuUFJFQ09NUE9TRSwgZnJhbWVTdGF0ZSk7XG5cbiAgICBjb25zdCBsYXllclN0YXRlc0FycmF5ID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLnpJbmRleCAtIGIuekluZGV4O1xuICAgIH0pO1xuICAgIGNvbnN0IHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuXG4gICAgdGhpcy5jaGlsZHJlbl8ubGVuZ3RoID0gMDtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vbGF5ZXIvQmFzZVZlY3Rvci5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICBjb25zdCBkZWNsdXR0ZXJMYXllcnMgPSBbXTtcbiAgICBsZXQgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBsYXllclN0YXRlc0FycmF5Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGNvbnN0IGxheWVyU3RhdGUgPSBsYXllclN0YXRlc0FycmF5W2ldO1xuICAgICAgZnJhbWVTdGF0ZS5sYXllckluZGV4ID0gaTtcblxuICAgICAgY29uc3QgbGF5ZXIgPSBsYXllclN0YXRlLmxheWVyO1xuICAgICAgY29uc3Qgc291cmNlU3RhdGUgPSBsYXllci5nZXRTb3VyY2VTdGF0ZSgpO1xuICAgICAgaWYgKFxuICAgICAgICAhaW5WaWV3KGxheWVyU3RhdGUsIHZpZXdTdGF0ZSkgfHxcbiAgICAgICAgKHNvdXJjZVN0YXRlICE9ICdyZWFkeScgJiYgc291cmNlU3RhdGUgIT0gJ3VuZGVmaW5lZCcpXG4gICAgICApIHtcbiAgICAgICAgbGF5ZXIudW5yZW5kZXIoKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBsYXllci5yZW5kZXIoZnJhbWVTdGF0ZSwgcHJldmlvdXNFbGVtZW50KTtcbiAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtZW50ICE9PSBwcmV2aW91c0VsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbl8ucHVzaChlbGVtZW50KTtcbiAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIH1cbiAgICAgIGlmICgnZ2V0RGVjbHV0dGVyJyBpbiBsYXllcikge1xuICAgICAgICBkZWNsdXR0ZXJMYXllcnMucHVzaChcbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL2xheWVyL0Jhc2VWZWN0b3IuanNcIikuZGVmYXVsdH0gKi8gKGxheWVyKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gZGVjbHV0dGVyTGF5ZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBkZWNsdXR0ZXJMYXllcnNbaV0ucmVuZGVyRGVjbHV0dGVyKGZyYW1lU3RhdGUpO1xuICAgIH1cblxuICAgIHJlcGxhY2VDaGlsZHJlbih0aGlzLmVsZW1lbnRfLCB0aGlzLmNoaWxkcmVuXyk7XG5cbiAgICB0aGlzLmRpc3BhdGNoUmVuZGVyRXZlbnQoUmVuZGVyRXZlbnRUeXBlLlBPU1RDT01QT1NFLCBmcmFtZVN0YXRlKTtcblxuICAgIGlmICghdGhpcy5yZW5kZXJlZFZpc2libGVfKSB7XG4gICAgICB0aGlzLmVsZW1lbnRfLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5zY2hlZHVsZUV4cGlyZUljb25DYWNoZShmcmFtZVN0YXRlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb21wb3NpdGVNYXBSZW5kZXJlcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9Hcm91cFxuICovXG5pbXBvcnQgQmFzZUxheWVyIGZyb20gJy4vQmFzZS5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBDb2xsZWN0aW9uRXZlbnRUeXBlIGZyb20gJy4uL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuLi9PYmplY3RFdmVudFR5cGUuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtjbGVhcn0gZnJvbSAnLi4vb2JqLmpzJztcbmltcG9ydCB7Z2V0SW50ZXJzZWN0aW9ufSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHtsaXN0ZW4sIHVubGlzdGVuQnlLZXl9IGZyb20gJy4uL2V2ZW50cy5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYgeydhZGRsYXllcid8J3JlbW92ZWxheWVyJ30gRXZlbnRUeXBlXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGxheWVyIGdyb3VwIHRyaWdnZXJzICdhZGRsYXllcicgYW5kICdyZW1vdmVsYXllcicgZXZlbnRzIHdoZW4gbGF5ZXJzIGFyZSBhZGRlZCB0byBvciByZW1vdmVkIGZyb21cbiAqIHRoZSBncm91cCBvciBvbmUgb2YgaXRzIGNoaWxkIGdyb3Vwcy4gIFdoZW4gYSBsYXllciBncm91cCBpcyBhZGRlZCB0byBvciByZW1vdmVkIGZyb20gYW5vdGhlciBsYXllciBncm91cCxcbiAqIGEgc2luZ2xlIGV2ZW50IHdpbGwgYmUgdHJpZ2dlcmVkIChpbnN0ZWFkIG9mIG9uZSBwZXIgbGF5ZXIgaW4gdGhlIGdyb3VwIGFkZGVkIG9yIHJlbW92ZWQpLlxuICovXG5leHBvcnQgY2xhc3MgR3JvdXBFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RXZlbnRUeXBlfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge0Jhc2VMYXllcn0gbGF5ZXIgVGhlIGxheWVyLlxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSwgbGF5ZXIpIHtcbiAgICBzdXBlcih0eXBlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhZGRlZCBvciByZW1vdmVkIGxheWVyLlxuICAgICAqIEB0eXBlIHtCYXNlTGF5ZXJ9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMubGF5ZXIgPSBsYXllcjtcbiAgfVxufVxuXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3xcbiAqICAgICAnY2hhbmdlOmxheWVycycsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi9CYXNlXCIpLkJhc2VMYXllck9iamVjdEV2ZW50VHlwZXN8J2NoYW5nZTpsYXllcnMnLCBSZXR1cm4+fSBHcm91cE9uU2lnbmF0dXJlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fENvbGxlY3Rpb248aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBbbGF5ZXJzXSBDaGlsZCBsYXllcnMuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsICo+fSBbcHJvcGVydGllc10gQXJiaXRyYXJ5IG9ic2VydmFibGUgcHJvcGVydGllcy4gQ2FuIGJlIGFjY2Vzc2VkIHdpdGggYCNnZXQoKWAgYW5kIGAjc2V0KClgLlxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IFByb3BlcnR5ID0ge1xuICBMQVlFUlM6ICdsYXllcnMnLFxufTtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSBvZiBsYXllcnMgdGhhdCBhcmUgaGFuZGxlZCB0b2dldGhlci5cbiAqXG4gKiBBIGdlbmVyaWMgYGNoYW5nZWAgZXZlbnQgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIGdyb3VwL0NvbGxlY3Rpb24gY2hhbmdlcy5cbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIExheWVyR3JvdXAgZXh0ZW5kcyBCYXNlTGF5ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gTGF5ZXIgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCBiYXNlT3B0aW9ucyA9IC8qKiBAdHlwZSB7T3B0aW9uc30gKi8gKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpKTtcbiAgICBkZWxldGUgYmFzZU9wdGlvbnMubGF5ZXJzO1xuXG4gICAgbGV0IGxheWVycyA9IG9wdGlvbnMubGF5ZXJzO1xuXG4gICAgc3VwZXIoYmFzZU9wdGlvbnMpO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtHcm91cE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0dyb3VwT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbmNlO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtHcm91cE9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLmxheWVyc0xpc3RlbmVyS2V5c18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIEFycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmxpc3RlbmVyS2V5c18gPSB7fTtcblxuICAgIHRoaXMuYWRkQ2hhbmdlTGlzdGVuZXIoUHJvcGVydHkuTEFZRVJTLCB0aGlzLmhhbmRsZUxheWVyc0NoYW5nZWRfKTtcblxuICAgIGlmIChsYXllcnMpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGxheWVycykpIHtcbiAgICAgICAgbGF5ZXJzID0gbmV3IENvbGxlY3Rpb24obGF5ZXJzLnNsaWNlKCksIHt1bmlxdWU6IHRydWV9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2VydCh0eXBlb2YgKC8qKiBAdHlwZSB7P30gKi8gKGxheWVycykuZ2V0QXJyYXkpID09PSAnZnVuY3Rpb24nLCA0Myk7IC8vIEV4cGVjdGVkIGBsYXllcnNgIHRvIGJlIGFuIGFycmF5IG9yIGEgYENvbGxlY3Rpb25gXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxheWVycyA9IG5ldyBDb2xsZWN0aW9uKHVuZGVmaW5lZCwge3VuaXF1ZTogdHJ1ZX0pO1xuICAgIH1cblxuICAgIHRoaXMuc2V0TGF5ZXJzKGxheWVycyk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUxheWVyQ2hhbmdlXygpIHtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlTGF5ZXJzQ2hhbmdlZF8oKSB7XG4gICAgdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgdGhpcy5sYXllcnNMaXN0ZW5lcktleXNfLmxlbmd0aCA9IDA7XG5cbiAgICBjb25zdCBsYXllcnMgPSB0aGlzLmdldExheWVycygpO1xuICAgIHRoaXMubGF5ZXJzTGlzdGVuZXJLZXlzXy5wdXNoKFxuICAgICAgbGlzdGVuKGxheWVycywgQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsIHRoaXMuaGFuZGxlTGF5ZXJzQWRkXywgdGhpcyksXG4gICAgICBsaXN0ZW4obGF5ZXJzLCBDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSwgdGhpcy5oYW5kbGVMYXllcnNSZW1vdmVfLCB0aGlzKVxuICAgICk7XG5cbiAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMubGlzdGVuZXJLZXlzXykge1xuICAgICAgdGhpcy5saXN0ZW5lcktleXNfW2lkXS5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgIH1cbiAgICBjbGVhcih0aGlzLmxpc3RlbmVyS2V5c18pO1xuXG4gICAgY29uc3QgbGF5ZXJzQXJyYXkgPSBsYXllcnMuZ2V0QXJyYXkoKTtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBsYXllcnNBcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBjb25zdCBsYXllciA9IGxheWVyc0FycmF5W2ldO1xuICAgICAgdGhpcy5yZWdpc3RlckxheWVyTGlzdGVuZXJzXyhsYXllcik7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdyb3VwRXZlbnQoJ2FkZGxheWVyJywgbGF5ZXIpKTtcbiAgICB9XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtCYXNlTGF5ZXJ9IGxheWVyIFRoZSBsYXllci5cbiAgICovXG4gIHJlZ2lzdGVyTGF5ZXJMaXN0ZW5lcnNfKGxheWVyKSB7XG4gICAgY29uc3QgbGlzdGVuZXJLZXlzID0gW1xuICAgICAgbGlzdGVuKFxuICAgICAgICBsYXllcixcbiAgICAgICAgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLFxuICAgICAgICB0aGlzLmhhbmRsZUxheWVyQ2hhbmdlXyxcbiAgICAgICAgdGhpc1xuICAgICAgKSxcbiAgICAgIGxpc3RlbihsYXllciwgRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5oYW5kbGVMYXllckNoYW5nZV8sIHRoaXMpLFxuICAgIF07XG5cbiAgICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMYXllckdyb3VwKSB7XG4gICAgICBsaXN0ZW5lcktleXMucHVzaChcbiAgICAgICAgbGlzdGVuKGxheWVyLCAnYWRkbGF5ZXInLCB0aGlzLmhhbmRsZUxheWVyR3JvdXBBZGRfLCB0aGlzKSxcbiAgICAgICAgbGlzdGVuKGxheWVyLCAncmVtb3ZlbGF5ZXInLCB0aGlzLmhhbmRsZUxheWVyR3JvdXBSZW1vdmVfLCB0aGlzKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLmxpc3RlbmVyS2V5c19bZ2V0VWlkKGxheWVyKV0gPSBsaXN0ZW5lcktleXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtHcm91cEV2ZW50fSBldmVudCBUaGUgbGF5ZXIgZ3JvdXAgZXZlbnQuXG4gICAqL1xuICBoYW5kbGVMYXllckdyb3VwQWRkXyhldmVudCkge1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgR3JvdXBFdmVudCgnYWRkbGF5ZXInLCBldmVudC5sYXllcikpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7R3JvdXBFdmVudH0gZXZlbnQgVGhlIGxheWVyIGdyb3VwIGV2ZW50LlxuICAgKi9cbiAgaGFuZGxlTGF5ZXJHcm91cFJlbW92ZV8oZXZlbnQpIHtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdyb3VwRXZlbnQoJ3JlbW92ZWxheWVyJywgZXZlbnQubGF5ZXIpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50PGltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0Pn0gY29sbGVjdGlvbkV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUxheWVyc0FkZF8oY29sbGVjdGlvbkV2ZW50KSB7XG4gICAgY29uc3QgbGF5ZXIgPSBjb2xsZWN0aW9uRXZlbnQuZWxlbWVudDtcbiAgICB0aGlzLnJlZ2lzdGVyTGF5ZXJMaXN0ZW5lcnNfKGxheWVyKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdyb3VwRXZlbnQoJ2FkZGxheWVyJywgbGF5ZXIpKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50PGltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0Pn0gY29sbGVjdGlvbkV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUxheWVyc1JlbW92ZV8oY29sbGVjdGlvbkV2ZW50KSB7XG4gICAgY29uc3QgbGF5ZXIgPSBjb2xsZWN0aW9uRXZlbnQuZWxlbWVudDtcbiAgICBjb25zdCBrZXkgPSBnZXRVaWQobGF5ZXIpO1xuICAgIHRoaXMubGlzdGVuZXJLZXlzX1trZXldLmZvckVhY2godW5saXN0ZW5CeUtleSk7XG4gICAgZGVsZXRlIHRoaXMubGlzdGVuZXJLZXlzX1trZXldO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgR3JvdXBFdmVudCgncmVtb3ZlbGF5ZXInLCBsYXllcikpO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9uIGNvbGxlY3Rpb259IG9mIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIgbGF5ZXJzfVxuICAgKiBpbiB0aGlzIGdyb3VwLlxuICAgKiBAcmV0dXJuIHshQ29sbGVjdGlvbjxpbXBvcnQoXCIuL0Jhc2UuanNcIikuZGVmYXVsdD59IENvbGxlY3Rpb24gb2ZcbiAgICogICB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0Jhc2V+QmFzZUxheWVyIGxheWVyc30gdGhhdCBhcmUgcGFydCBvZiB0aGlzIGdyb3VwLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRMYXllcnMoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IUNvbGxlY3Rpb248aW1wb3J0KFwiLi9CYXNlLmpzXCIpLmRlZmF1bHQ+fSAqLyAoXG4gICAgICB0aGlzLmdldChQcm9wZXJ0eS5MQVlFUlMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9uIGNvbGxlY3Rpb259IG9mIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvTGF5ZXJ+TGF5ZXIgbGF5ZXJzfVxuICAgKiBpbiB0aGlzIGdyb3VwLlxuICAgKiBAcGFyYW0geyFDb2xsZWN0aW9uPGltcG9ydChcIi4vQmFzZS5qc1wiKS5kZWZhdWx0Pn0gbGF5ZXJzIENvbGxlY3Rpb24gb2ZcbiAgICogICB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0Jhc2V+QmFzZUxheWVyIGxheWVyc30gdGhhdCBhcmUgcGFydCBvZiB0aGlzIGdyb3VwLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRMYXllcnMobGF5ZXJzKSB7XG4gICAgY29uc3QgY29sbGVjdGlvbiA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG4gICAgaWYgKGNvbGxlY3Rpb24pIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRMYXllcnMgPSBjb2xsZWN0aW9uLmdldEFycmF5KCk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBjdXJyZW50TGF5ZXJzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBHcm91cEV2ZW50KCdyZW1vdmVsYXllcicsIGN1cnJlbnRMYXllcnNbaV0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnNldChQcm9wZXJ0eS5MQVlFUlMsIGxheWVycyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBbYXJyYXldIEFycmF5IG9mIGxheWVycyAodG8gYmUgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBBcnJheSBvZiBsYXllcnMuXG4gICAqL1xuICBnZXRMYXllcnNBcnJheShhcnJheSkge1xuICAgIGFycmF5ID0gYXJyYXkgIT09IHVuZGVmaW5lZCA/IGFycmF5IDogW107XG4gICAgdGhpcy5nZXRMYXllcnMoKS5mb3JFYWNoKGZ1bmN0aW9uIChsYXllcikge1xuICAgICAgbGF5ZXIuZ2V0TGF5ZXJzQXJyYXkoYXJyYXkpO1xuICAgIH0pO1xuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxheWVyIHN0YXRlcyBsaXN0IGFuZCB1c2UgdGhpcyBncm91cHMgei1pbmRleCBhcyB0aGUgZGVmYXVsdFxuICAgKiBmb3IgYWxsIGxheWVycyBpbiB0aGlzIGFuZCBuZXN0ZWQgZ3JvdXBzLCBpZiBpdCBpcyB1bnNldCBhdCB0aGlzIHBvaW50LlxuICAgKiBJZiBkZXN0IGlzIG5vdCBwcm92aWRlZCBhbmQgdGhpcyBncm91cCdzIHotaW5kZXggaXMgdW5kZWZpbmVkXG4gICAqIDAgaXMgdXNlZCBhIHRoZSBkZWZhdWx0IHotaW5kZXguXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZT59IFtkZXN0XSBPcHRpb25hbCBsaXN0XG4gICAqIG9mIGxheWVyIHN0YXRlcyAodG8gYmUgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gTGlzdCBvZiBsYXllciBzdGF0ZXMuXG4gICAqL1xuICBnZXRMYXllclN0YXRlc0FycmF5KGRlc3QpIHtcbiAgICBjb25zdCBzdGF0ZXMgPSBkZXN0ICE9PSB1bmRlZmluZWQgPyBkZXN0IDogW107XG4gICAgY29uc3QgcG9zID0gc3RhdGVzLmxlbmd0aDtcblxuICAgIHRoaXMuZ2V0TGF5ZXJzKCkuZm9yRWFjaChmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgIGxheWVyLmdldExheWVyU3RhdGVzQXJyYXkoc3RhdGVzKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG93bkxheWVyU3RhdGUgPSB0aGlzLmdldExheWVyU3RhdGUoKTtcbiAgICBsZXQgZGVmYXVsdFpJbmRleCA9IG93bkxheWVyU3RhdGUuekluZGV4O1xuICAgIGlmICghZGVzdCAmJiBvd25MYXllclN0YXRlLnpJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWZhdWx0WkluZGV4ID0gMDtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IHBvcywgaWkgPSBzdGF0ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgY29uc3QgbGF5ZXJTdGF0ZSA9IHN0YXRlc1tpXTtcbiAgICAgIGxheWVyU3RhdGUub3BhY2l0eSAqPSBvd25MYXllclN0YXRlLm9wYWNpdHk7XG4gICAgICBsYXllclN0YXRlLnZpc2libGUgPSBsYXllclN0YXRlLnZpc2libGUgJiYgb3duTGF5ZXJTdGF0ZS52aXNpYmxlO1xuICAgICAgbGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uID0gTWF0aC5taW4oXG4gICAgICAgIGxheWVyU3RhdGUubWF4UmVzb2x1dGlvbixcbiAgICAgICAgb3duTGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uXG4gICAgICApO1xuICAgICAgbGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uID0gTWF0aC5tYXgoXG4gICAgICAgIGxheWVyU3RhdGUubWluUmVzb2x1dGlvbixcbiAgICAgICAgb3duTGF5ZXJTdGF0ZS5taW5SZXNvbHV0aW9uXG4gICAgICApO1xuICAgICAgbGF5ZXJTdGF0ZS5taW5ab29tID0gTWF0aC5tYXgobGF5ZXJTdGF0ZS5taW5ab29tLCBvd25MYXllclN0YXRlLm1pblpvb20pO1xuICAgICAgbGF5ZXJTdGF0ZS5tYXhab29tID0gTWF0aC5taW4obGF5ZXJTdGF0ZS5tYXhab29tLCBvd25MYXllclN0YXRlLm1heFpvb20pO1xuICAgICAgaWYgKG93bkxheWVyU3RhdGUuZXh0ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGxheWVyU3RhdGUuZXh0ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBsYXllclN0YXRlLmV4dGVudCA9IGdldEludGVyc2VjdGlvbihcbiAgICAgICAgICAgIGxheWVyU3RhdGUuZXh0ZW50LFxuICAgICAgICAgICAgb3duTGF5ZXJTdGF0ZS5leHRlbnRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxheWVyU3RhdGUuZXh0ZW50ID0gb3duTGF5ZXJTdGF0ZS5leHRlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsYXllclN0YXRlLnpJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxheWVyU3RhdGUuekluZGV4ID0gZGVmYXVsdFpJbmRleDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3RhdGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NvdXJjZS9Tb3VyY2UuanNcIikuU3RhdGV9IFNvdXJjZSBzdGF0ZS5cbiAgICovXG4gIGdldFNvdXJjZVN0YXRlKCkge1xuICAgIHJldHVybiAncmVhZHknO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExheWVyR3JvdXA7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwRXZlbnRcbiAqL1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vZXZlbnRzL0V2ZW50LmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBhcyBtYXAgZXZlbnRzIGFyZSBpbnN0YW5jZXMgb2YgdGhpcyB0eXBlLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0gZm9yIHdoaWNoIGV2ZW50cyB0cmlnZ2VyIGEgbWFwIGV2ZW50LlxuICovXG5jbGFzcyBNYXBFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9NYXAuanNcIikuZGVmYXVsdH0gbWFwIE1hcC5cbiAgICogQHBhcmFtIHs/aW1wb3J0KFwiLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gW2ZyYW1lU3RhdGVdIEZyYW1lIHN0YXRlLlxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSwgbWFwLCBmcmFtZVN0YXRlKSB7XG4gICAgc3VwZXIodHlwZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWFwIHdoZXJlIHRoZSBldmVudCBvY2N1cnJlZC5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9NYXAuanNcIikuZGVmYXVsdH1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5tYXAgPSBtYXA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUgc3RhdGUgYXQgdGhlIHRpbWUgb2YgdGhlIGV2ZW50LlxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi9NYXAuanNcIikuRnJhbWVTdGF0ZX1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5mcmFtZVN0YXRlID0gZnJhbWVTdGF0ZSAhPT0gdW5kZWZpbmVkID8gZnJhbWVTdGF0ZSA6IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFwRXZlbnQ7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwQnJvd3NlckV2ZW50XG4gKi9cbmltcG9ydCBNYXBFdmVudCBmcm9tICcuL01hcEV2ZW50LmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBhcyBtYXAgYnJvd3NlciBldmVudHMgYXJlIGluc3RhbmNlcyBvZiB0aGlzIHR5cGUuXG4gKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwfSBmb3Igd2hpY2ggZXZlbnRzIHRyaWdnZXIgYSBtYXAgYnJvd3NlciBldmVudC5cbiAqIEB0ZW1wbGF0ZSB7VUlFdmVudH0gRVZFTlRcbiAqL1xuY2xhc3MgTWFwQnJvd3NlckV2ZW50IGV4dGVuZHMgTWFwRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL01hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgKiBAcGFyYW0ge0VWRU5UfSBvcmlnaW5hbEV2ZW50IE9yaWdpbmFsIGV2ZW50LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkcmFnZ2luZ10gSXMgdGhlIG1hcCBjdXJyZW50bHkgYmVpbmcgZHJhZ2dlZD9cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBbZnJhbWVTdGF0ZV0gRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7QXJyYXk8UG9pbnRlckV2ZW50Pn0gW2FjdGl2ZVBvaW50ZXJzXSBBY3RpdmUgcG9pbnRlcnMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBtYXAsIG9yaWdpbmFsRXZlbnQsIGRyYWdnaW5nLCBmcmFtZVN0YXRlLCBhY3RpdmVQb2ludGVycykge1xuICAgIHN1cGVyKHR5cGUsIG1hcCwgZnJhbWVTdGF0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3JpZ2luYWwgYnJvd3NlciBldmVudC5cbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7RVZFTlR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWFwIHBpeGVsIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydCBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBicm93c2VyIGV2ZW50LlxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29vcmRpbmF0ZSBpbiB0aGUgdXNlciBwcm9qZWN0aW9uIGNvcnJlc3BvbmRpbmcgdG8gdGhlIG9yaWdpbmFsIGJyb3dzZXIgZXZlbnQuXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmNvb3JkaW5hdGVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGUgbWFwIGlzIGN1cnJlbnRseSBiZWluZyBkcmFnZ2VkLiBPbmx5IHNldCBmb3JcbiAgICAgKiBgUE9JTlRFUkRSQUdgIGFuZCBgUE9JTlRFUk1PVkVgIGV2ZW50cy4gRGVmYXVsdCBpcyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuZHJhZ2dpbmcgPSBkcmFnZ2luZyAhPT0gdW5kZWZpbmVkID8gZHJhZ2dpbmcgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxQb2ludGVyRXZlbnQ+fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmFjdGl2ZVBvaW50ZXJzID0gYWN0aXZlUG9pbnRlcnM7XG4gIH1cblxuICAvKipcbiAgICogVGhlIG1hcCBwaXhlbCByZWxhdGl2ZSB0byB0aGUgdmlld3BvcnQgY29ycmVzcG9uZGluZyB0byB0aGUgb3JpZ2luYWwgZXZlbnQuXG4gICAqIEB0eXBlIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXQgcGl4ZWwoKSB7XG4gICAgaWYgKCF0aGlzLnBpeGVsXykge1xuICAgICAgdGhpcy5waXhlbF8gPSB0aGlzLm1hcC5nZXRFdmVudFBpeGVsKHRoaXMub3JpZ2luYWxFdmVudCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBpeGVsXztcbiAgfVxuICBzZXQgcGl4ZWwocGl4ZWwpIHtcbiAgICB0aGlzLnBpeGVsXyA9IHBpeGVsO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjb29yZGluYXRlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIG9yaWdpbmFsIGJyb3dzZXIgZXZlbnQuICBUaGlzIHdpbGwgYmUgaW4gdGhlIHVzZXJcbiAgICogcHJvamVjdGlvbiBpZiBvbmUgaXMgc2V0LiAgT3RoZXJ3aXNlIGl0IHdpbGwgYmUgaW4gdGhlIHZpZXcgcHJvamVjdGlvbi5cbiAgICogQHR5cGUge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXQgY29vcmRpbmF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuY29vcmRpbmF0ZV8pIHtcbiAgICAgIHRoaXMuY29vcmRpbmF0ZV8gPSB0aGlzLm1hcC5nZXRDb29yZGluYXRlRnJvbVBpeGVsKHRoaXMucGl4ZWwpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb29yZGluYXRlXztcbiAgfVxuICBzZXQgY29vcmRpbmF0ZShjb29yZGluYXRlKSB7XG4gICAgdGhpcy5jb29yZGluYXRlXyA9IGNvb3JkaW5hdGU7XG4gIH1cblxuICAvKipcbiAgICogUHJldmVudHMgdGhlIGRlZmF1bHQgYnJvd3NlciBhY3Rpb24uXG4gICAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvZXZlbnQucHJldmVudERlZmF1bHQuXG4gICAqIEBhcGlcbiAgICovXG4gIHByZXZlbnREZWZhdWx0KCkge1xuICAgIHN1cGVyLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCdwcmV2ZW50RGVmYXVsdCcgaW4gdGhpcy5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAvKiogQHR5cGUge1VJRXZlbnR9ICovICh0aGlzLm9yaWdpbmFsRXZlbnQpLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFByZXZlbnRzIGZ1cnRoZXIgcHJvcGFnYXRpb24gb2YgdGhlIGN1cnJlbnQgZXZlbnQuXG4gICAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvZXZlbnQuc3RvcFByb3BhZ2F0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgc3VwZXIuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKCdzdG9wUHJvcGFnYXRpb24nIGluIHRoaXMub3JpZ2luYWxFdmVudCkge1xuICAgICAgLyoqIEB0eXBlIHtVSUV2ZW50fSAqLyAodGhpcy5vcmlnaW5hbEV2ZW50KS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFwQnJvd3NlckV2ZW50O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL01hcEJyb3dzZXJFdmVudFR5cGVcbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuXG4vKipcbiAqIENvbnN0YW50cyBmb3IgZXZlbnQgbmFtZXMuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgKiBBIHRydWUgc2luZ2xlIGNsaWNrIHdpdGggbm8gZHJhZ2dpbmcgYW5kIG5vIGRvdWJsZSBjbGljay4gTm90ZSB0aGF0IHRoaXNcbiAgICogZXZlbnQgaXMgZGVsYXllZCBieSAyNTAgbXMgdG8gZW5zdXJlIHRoYXQgaXQgaXMgbm90IGEgZG91YmxlIGNsaWNrLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQjc2luZ2xlY2xpY2tcbiAgICogQGFwaVxuICAgKi9cbiAgU0lOR0xFQ0xJQ0s6ICdzaW5nbGVjbGljaycsXG5cbiAgLyoqXG4gICAqIEEgY2xpY2sgd2l0aCBubyBkcmFnZ2luZy4gQSBkb3VibGUgY2xpY2sgd2lsbCBmaXJlIHR3byBvZiB0aGlzLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQjY2xpY2tcbiAgICogQGFwaVxuICAgKi9cbiAgQ0xJQ0s6IEV2ZW50VHlwZS5DTElDSyxcblxuICAvKipcbiAgICogQSB0cnVlIGRvdWJsZSBjbGljaywgd2l0aCBubyBkcmFnZ2luZy5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I2RibGNsaWNrXG4gICAqIEBhcGlcbiAgICovXG4gIERCTENMSUNLOiBFdmVudFR5cGUuREJMQ0xJQ0ssXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgcG9pbnRlciBpcyBkcmFnZ2VkLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQjcG9pbnRlcmRyYWdcbiAgICogQGFwaVxuICAgKi9cbiAgUE9JTlRFUkRSQUc6ICdwb2ludGVyZHJhZycsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgcG9pbnRlciBpcyBtb3ZlZC4gTm90ZSB0aGF0IG9uIHRvdWNoIGRldmljZXMgdGhpcyBpc1xuICAgKiB0cmlnZ2VyZWQgd2hlbiB0aGUgbWFwIGlzIHBhbm5lZCwgc28gaXMgbm90IHRoZSBzYW1lIGFzIG1vdXNlbW92ZS5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50I3BvaW50ZXJtb3ZlXG4gICAqIEBhcGlcbiAgICovXG4gIFBPSU5URVJNT1ZFOiAncG9pbnRlcm1vdmUnLFxuXG4gIFBPSU5URVJET1dOOiAncG9pbnRlcmRvd24nLFxuICBQT0lOVEVSVVA6ICdwb2ludGVydXAnLFxuICBQT0lOVEVST1ZFUjogJ3BvaW50ZXJvdmVyJyxcbiAgUE9JTlRFUk9VVDogJ3BvaW50ZXJvdXQnLFxuICBQT0lOVEVSRU5URVI6ICdwb2ludGVyZW50ZXInLFxuICBQT0lOVEVSTEVBVkU6ICdwb2ludGVybGVhdmUnLFxuICBQT0lOVEVSQ0FOQ0VMOiAncG9pbnRlcmNhbmNlbCcsXG59O1xuXG4vKioqXG4gKiBAdHlwZWRlZiB7J3NpbmdsZWNsaWNrJ3wnY2xpY2snfCdkYmxjbGljayd8J3BvaW50ZXJkcmFnJ3wncG9pbnRlcm1vdmUnfSBUeXBlc1xuICovXG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcG9pbnRlci9FdmVudFR5cGVcbiAqL1xuXG4vKipcbiAqIENvbnN0YW50cyBmb3IgZXZlbnQgbmFtZXMuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIFBPSU5URVJNT1ZFOiAncG9pbnRlcm1vdmUnLFxuICBQT0lOVEVSRE9XTjogJ3BvaW50ZXJkb3duJyxcbiAgUE9JTlRFUlVQOiAncG9pbnRlcnVwJyxcbiAgUE9JTlRFUk9WRVI6ICdwb2ludGVyb3ZlcicsXG4gIFBPSU5URVJPVVQ6ICdwb2ludGVyb3V0JyxcbiAgUE9JTlRFUkVOVEVSOiAncG9pbnRlcmVudGVyJyxcbiAgUE9JTlRFUkxFQVZFOiAncG9pbnRlcmxlYXZlJyxcbiAgUE9JTlRFUkNBTkNFTDogJ3BvaW50ZXJjYW5jZWwnLFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBCcm93c2VyRXZlbnRIYW5kbGVyXG4gKi9cblxuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudCBmcm9tICcuL01hcEJyb3dzZXJFdmVudC5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuL01hcEJyb3dzZXJFdmVudFR5cGUuanMnO1xuaW1wb3J0IFBvaW50ZXJFdmVudFR5cGUgZnJvbSAnLi9wb2ludGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQge1BBU1NJVkVfRVZFTlRfTElTVEVORVJTfSBmcm9tICcuL2hhcy5qcyc7XG5pbXBvcnQge1ZPSUR9IGZyb20gJy4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7bGlzdGVuLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5cbmNsYXNzIE1hcEJyb3dzZXJFdmVudEhhbmRsZXIgZXh0ZW5kcyBUYXJnZXQge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL01hcC5qc1wiKS5kZWZhdWx0fSBtYXAgVGhlIG1hcCB3aXRoIHRoZSB2aWV3cG9ydCB0byBsaXN0ZW4gdG8gZXZlbnRzIG9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW21vdmVUb2xlcmFuY2VdIFRoZSBtaW5pbWFsIGRpc3RhbmNlIHRoZSBwb2ludGVyIG11c3QgdHJhdmVsIHRvIHRyaWdnZXIgYSBtb3ZlLlxuICAgKi9cbiAgY29uc3RydWN0b3IobWFwLCBtb3ZlVG9sZXJhbmNlKSB7XG4gICAgc3VwZXIobWFwKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIGVsZW1lbnQgdGhhdCB3ZSB3aWxsIGxpc3RlbiB0byB0aGUgcmVhbCBldmVudHMgb24uXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vTWFwLmpzXCIpLmRlZmF1bHR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1hcF8gPSBtYXA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7YW55fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5jbGlja1RpbWVvdXRJZF87XG5cbiAgICAvKipcbiAgICAgKiBFbXVsYXRlIGRibGNsaWNrIGFuZCBzaW5nbGVjbGljay4gV2lsbCBiZSB0cnVlIHdoZW4gb25seSBvbmUgcG9pbnRlciBpcyBhY3RpdmUuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5lbXVsYXRlQ2xpY2tzXyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRyYWdnaW5nXyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubW92ZVRvbGVyYW5jZV8gPSBtb3ZlVG9sZXJhbmNlID09PSB1bmRlZmluZWQgPyAxIDogbW92ZVRvbGVyYW5jZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtb3N0IHJlY2VudCBcImRvd25cIiB0eXBlIGV2ZW50IChvciBudWxsIGlmIG5vbmUgaGF2ZSBvY2N1cnJlZCkuXG4gICAgICogU2V0IG9uIHBvaW50ZXJkb3duLlxuICAgICAqIEB0eXBlIHtQb2ludGVyRXZlbnR8bnVsbH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZG93bl8gPSBudWxsO1xuXG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMubWFwXy5nZXRWaWV3cG9ydCgpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PFBvaW50ZXJFdmVudD59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmFjdGl2ZVBvaW50ZXJzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8bnVtYmVyLCBFdmVudD59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRyYWNrZWRUb3VjaGVzXyA9IHt9O1xuXG4gICAgdGhpcy5lbGVtZW50XyA9IGVsZW1lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRlcmRvd25MaXN0ZW5lcktleV8gPSBsaXN0ZW4oXG4gICAgICBlbGVtZW50LFxuICAgICAgUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSRE9XTixcbiAgICAgIHRoaXMuaGFuZGxlUG9pbnRlckRvd25fLFxuICAgICAgdGhpc1xuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7UG9pbnRlckV2ZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnJlbGF5ZWRMaXN0ZW5lcktleV8gPSBsaXN0ZW4oXG4gICAgICBlbGVtZW50LFxuICAgICAgUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSTU9WRSxcbiAgICAgIHRoaXMucmVsYXlNb3ZlRXZlbnRfLFxuICAgICAgdGhpc1xuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuYm91bmRIYW5kbGVUb3VjaE1vdmVfID0gdGhpcy5oYW5kbGVUb3VjaE1vdmVfLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBFdmVudFR5cGUuVE9VQ0hNT1ZFLFxuICAgICAgdGhpcy5ib3VuZEhhbmRsZVRvdWNoTW92ZV8sXG4gICAgICBQQVNTSVZFX0VWRU5UX0xJU1RFTkVSUyA/IHtwYXNzaXZlOiBmYWxzZX0gOiBmYWxzZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAqIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZW11bGF0ZUNsaWNrXyhwb2ludGVyRXZlbnQpIHtcbiAgICBsZXQgbmV3RXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KFxuICAgICAgTWFwQnJvd3NlckV2ZW50VHlwZS5DTElDSyxcbiAgICAgIHRoaXMubWFwXyxcbiAgICAgIHBvaW50ZXJFdmVudFxuICAgICk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICBpZiAodGhpcy5jbGlja1RpbWVvdXRJZF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gZG91YmxlLWNsaWNrXG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5jbGlja1RpbWVvdXRJZF8pO1xuICAgICAgdGhpcy5jbGlja1RpbWVvdXRJZF8gPSB1bmRlZmluZWQ7XG4gICAgICBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoXG4gICAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuREJMQ0xJQ0ssXG4gICAgICAgIHRoaXMubWFwXyxcbiAgICAgICAgcG9pbnRlckV2ZW50XG4gICAgICApO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY2xpY2tcbiAgICAgIHRoaXMuY2xpY2tUaW1lb3V0SWRfID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xpY2tUaW1lb3V0SWRfID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoXG4gICAgICAgICAgTWFwQnJvd3NlckV2ZW50VHlwZS5TSU5HTEVDTElDSyxcbiAgICAgICAgICB0aGlzLm1hcF8sXG4gICAgICAgICAgcG9pbnRlckV2ZW50XG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICB9LCAyNTApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBLZWVwcyB0cmFjayBvbiBob3cgbWFueSBwb2ludGVycyBhcmUgY3VycmVudGx5IGFjdGl2ZS5cbiAgICpcbiAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAqIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdXBkYXRlQWN0aXZlUG9pbnRlcnNfKHBvaW50ZXJFdmVudCkge1xuICAgIGNvbnN0IGV2ZW50ID0gcG9pbnRlckV2ZW50O1xuICAgIGNvbnN0IGlkID0gZXZlbnQucG9pbnRlcklkO1xuXG4gICAgaWYgKFxuICAgICAgZXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCB8fFxuICAgICAgZXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJDQU5DRUxcbiAgICApIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnRyYWNrZWRUb3VjaGVzX1tpZF07XG4gICAgICBmb3IgKGNvbnN0IHBvaW50ZXJJZCBpbiB0aGlzLnRyYWNrZWRUb3VjaGVzXykge1xuICAgICAgICBpZiAodGhpcy50cmFja2VkVG91Y2hlc19bcG9pbnRlcklkXS50YXJnZXQgIT09IGV2ZW50LnRhcmdldCkge1xuICAgICAgICAgIC8vIFNvbWUgcGxhdGZvcm1zIGFzc2lnbiBhIG5ldyBwb2ludGVySWQgd2hlbiB0aGUgdGFyZ2V0IGNoYW5nZXMuXG4gICAgICAgICAgLy8gSWYgdGhpcyBoYXBwZW5zLCBkZWxldGUgb25lIHRyYWNrZWQgcG9pbnRlci4gSWYgdGhlcmUgaXMgbW9yZVxuICAgICAgICAgIC8vIHRoYW4gb25lIHRyYWNrZWQgcG9pbnRlciBmb3IgdGhlIG9sZCB0YXJnZXQsIGl0IHdpbGwgYmUgY2xlYXJlZFxuICAgICAgICAgIC8vIGJ5IHN1YnNlcXVlbnQgUE9JTlRFUlVQIGV2ZW50cyBmcm9tIG90aGVyIHBvaW50ZXJzLlxuICAgICAgICAgIGRlbGV0ZSB0aGlzLnRyYWNrZWRUb3VjaGVzX1twb2ludGVySWRdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSRE9XTiB8fFxuICAgICAgZXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJNT1ZFXG4gICAgKSB7XG4gICAgICB0aGlzLnRyYWNrZWRUb3VjaGVzX1tpZF0gPSBldmVudDtcbiAgICB9XG4gICAgdGhpcy5hY3RpdmVQb2ludGVyc18gPSBPYmplY3QudmFsdWVzKHRoaXMudHJhY2tlZFRvdWNoZXNfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IFBvaW50ZXJcbiAgICogZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVQb2ludGVyVXBfKHBvaW50ZXJFdmVudCkge1xuICAgIHRoaXMudXBkYXRlQWN0aXZlUG9pbnRlcnNfKHBvaW50ZXJFdmVudCk7XG4gICAgY29uc3QgbmV3RXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KFxuICAgICAgTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVAsXG4gICAgICB0aGlzLm1hcF8sXG4gICAgICBwb2ludGVyRXZlbnQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB0aGlzLmFjdGl2ZVBvaW50ZXJzX1xuICAgICk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcblxuICAgIC8vIFdlIGVtdWxhdGUgY2xpY2sgZXZlbnRzIG9uIGxlZnQgbW91c2UgYnV0dG9uIGNsaWNrLCB0b3VjaCBjb250YWN0LCBhbmQgcGVuXG4gICAgLy8gY29udGFjdC4gaXNNb3VzZUFjdGlvbkJ1dHRvbiByZXR1cm5zIHRydWUgaW4gdGhlc2UgY2FzZXMgKGV2dC5idXR0b24gaXMgc2V0XG4gICAgLy8gdG8gMCkuXG4gICAgLy8gU2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL3BvaW50ZXJldmVudHMvI2J1dHRvbi1zdGF0ZXNcbiAgICAvLyBXZSBvbmx5IGZpcmUgY2xpY2ssIHNpbmdsZWNsaWNrLCBhbmQgZG91YmxlY2xpY2sgaWYgbm9ib2R5IGhhcyBjYWxsZWRcbiAgICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpLlxuICAgIGlmIChcbiAgICAgIHRoaXMuZW11bGF0ZUNsaWNrc18gJiZcbiAgICAgICFuZXdFdmVudC5kZWZhdWx0UHJldmVudGVkICYmXG4gICAgICAhdGhpcy5kcmFnZ2luZ18gJiZcbiAgICAgIHRoaXMuaXNNb3VzZUFjdGlvbkJ1dHRvbl8ocG9pbnRlckV2ZW50KVxuICAgICkge1xuICAgICAgdGhpcy5lbXVsYXRlQ2xpY2tfKHRoaXMuZG93bl8pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFjdGl2ZVBvaW50ZXJzXy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMuZHJhZ2dpbmdfID0gZmFsc2U7XG4gICAgICB0aGlzLmRvd25fID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCBQb2ludGVyXG4gICAqIGV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgbGVmdCBtb3VzZSBidXR0b24gd2FzIHByZXNzZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc01vdXNlQWN0aW9uQnV0dG9uXyhwb2ludGVyRXZlbnQpIHtcbiAgICByZXR1cm4gcG9pbnRlckV2ZW50LmJ1dHRvbiA9PT0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IFBvaW50ZXJcbiAgICogZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVQb2ludGVyRG93bl8ocG9pbnRlckV2ZW50KSB7XG4gICAgdGhpcy5lbXVsYXRlQ2xpY2tzXyA9IHRoaXMuYWN0aXZlUG9pbnRlcnNfLmxlbmd0aCA9PT0gMDtcbiAgICB0aGlzLnVwZGF0ZUFjdGl2ZVBvaW50ZXJzXyhwb2ludGVyRXZlbnQpO1xuICAgIGNvbnN0IG5ld0V2ZW50ID0gbmV3IE1hcEJyb3dzZXJFdmVudChcbiAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04sXG4gICAgICB0aGlzLm1hcF8sXG4gICAgICBwb2ludGVyRXZlbnQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB0aGlzLmFjdGl2ZVBvaW50ZXJzX1xuICAgICk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcblxuICAgIC8vIFN0b3JlIGEgY29weSBvZiB0aGUgZG93biBldmVudFxuICAgIHRoaXMuZG93bl8gPSAvKiogQHR5cGUge1BvaW50ZXJFdmVudH0gKi8gKHt9KTtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIHBvaW50ZXJFdmVudCkge1xuICAgICAgY29uc3QgdmFsdWUgPSBwb2ludGVyRXZlbnRbcHJvcGVydHldO1xuICAgICAgdGhpcy5kb3duX1twcm9wZXJ0eV0gPSB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyBWT0lEIDogdmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBkb2MgPSB0aGlzLm1hcF8uZ2V0T3duZXJEb2N1bWVudCgpO1xuICAgICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5wdXNoKFxuICAgICAgICBsaXN0ZW4oXG4gICAgICAgICAgZG9jLFxuICAgICAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUk1PVkUsXG4gICAgICAgICAgdGhpcy5oYW5kbGVQb2ludGVyTW92ZV8sXG4gICAgICAgICAgdGhpc1xuICAgICAgICApLFxuICAgICAgICBsaXN0ZW4oZG9jLCBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCwgdGhpcy5oYW5kbGVQb2ludGVyVXBfLCB0aGlzKSxcbiAgICAgICAgLyogTm90ZSB0aGF0IHRoZSBsaXN0ZW5lciBmb3IgYHBvaW50ZXJjYW5jZWwgaXMgc2V0IHVwIG9uXG4gICAgICAgICAqIGBwb2ludGVyRXZlbnRIYW5kbGVyX2AgYW5kIG5vdCBgZG9jdW1lbnRQb2ludGVyRXZlbnRIYW5kbGVyX2AgbGlrZVxuICAgICAgICAgKiB0aGUgYHBvaW50ZXJ1cGAgYW5kIGBwb2ludGVybW92ZWAgbGlzdGVuZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgcmVhc29uIGZvciB0aGlzIGlzIHRoZSBmb2xsb3dpbmc6IGBUb3VjaFNvdXJjZS52YWN1dW1Ub3VjaGVzXygpYFxuICAgICAgICAgKiBpc3N1ZXMgYHBvaW50ZXJjYW5jZWxgIGV2ZW50cywgd2hlbiB0aGVyZSB3YXMgbm8gYHRvdWNoZW5kYCBmb3IgYVxuICAgICAgICAgKiBgdG91Y2hzdGFydGAuIE5vdywgbGV0J3Mgc2F5IGEgZmlyc3QgYHRvdWNoc3RhcnRgIGlzIHJlZ2lzdGVyZWQgb25cbiAgICAgICAgICogYHBvaW50ZXJFdmVudEhhbmRsZXJfYC4gVGhlIGBkb2N1bWVudFBvaW50ZXJFdmVudEhhbmRsZXJfYCBpcyBzZXQgdXAuXG4gICAgICAgICAqIEJ1dCBgZG9jdW1lbnRQb2ludGVyRXZlbnRIYW5kbGVyX2AgZG9lc24ndCBrbm93IGFib3V0IHRoZSBmaXJzdFxuICAgICAgICAgKiBgdG91Y2hzdGFydGAuIElmIHRoZXJlIGlzIG5vIGB0b3VjaGVuZGAgZm9yIHRoZSBgdG91Y2hzdGFydGAsIHdlIGNhblxuICAgICAgICAgKiBvbmx5IHJlY2VpdmUgYSBgdG91Y2hjYW5jZWxgIGZyb20gYHBvaW50ZXJFdmVudEhhbmRsZXJfYCwgYmVjYXVzZSBpdCBpc1xuICAgICAgICAgKiBvbmx5IHJlZ2lzdGVyZWQgdGhlcmUuXG4gICAgICAgICAqL1xuICAgICAgICBsaXN0ZW4oXG4gICAgICAgICAgdGhpcy5lbGVtZW50XyxcbiAgICAgICAgICBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJDQU5DRUwsXG4gICAgICAgICAgdGhpcy5oYW5kbGVQb2ludGVyVXBfLFxuICAgICAgICAgIHRoaXNcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIGlmICh0aGlzLmVsZW1lbnRfLmdldFJvb3ROb2RlICYmIHRoaXMuZWxlbWVudF8uZ2V0Um9vdE5vZGUoKSAhPT0gZG9jKSB7XG4gICAgICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ucHVzaChcbiAgICAgICAgICBsaXN0ZW4oXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRfLmdldFJvb3ROb2RlKCksXG4gICAgICAgICAgICBNYXBCcm93c2VyRXZlbnRUeXBlLlBPSU5URVJVUCxcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUG9pbnRlclVwXyxcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgKiBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVBvaW50ZXJNb3ZlXyhwb2ludGVyRXZlbnQpIHtcbiAgICAvLyBCZXR3ZWVuIHBvaW50ZXJkb3duIGFuZCBwb2ludGVydXAsIHBvaW50ZXJtb3ZlIGV2ZW50cyBhcmUgdHJpZ2dlcmVkLlxuICAgIC8vIFRvIGF2b2lkIGEgJ2ZhbHNlJyB0b3VjaG1vdmUgZXZlbnQgdG8gYmUgZGlzcGF0Y2hlZCwgd2UgdGVzdCBpZiB0aGUgcG9pbnRlclxuICAgIC8vIG1vdmVkIGEgc2lnbmlmaWNhbnQgZGlzdGFuY2UuXG4gICAgaWYgKHRoaXMuaXNNb3ZpbmdfKHBvaW50ZXJFdmVudCkpIHtcbiAgICAgIHRoaXMudXBkYXRlQWN0aXZlUG9pbnRlcnNfKHBvaW50ZXJFdmVudCk7XG4gICAgICB0aGlzLmRyYWdnaW5nXyA9IHRydWU7XG4gICAgICBjb25zdCBuZXdFdmVudCA9IG5ldyBNYXBCcm93c2VyRXZlbnQoXG4gICAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRSQUcsXG4gICAgICAgIHRoaXMubWFwXyxcbiAgICAgICAgcG9pbnRlckV2ZW50LFxuICAgICAgICB0aGlzLmRyYWdnaW5nXyxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB0aGlzLmFjdGl2ZVBvaW50ZXJzX1xuICAgICAgKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdyYXAgYW5kIHJlbGF5IGEgcG9pbnRlcm1vdmUgZXZlbnQuXG4gICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgKiBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlbGF5TW92ZUV2ZW50Xyhwb2ludGVyRXZlbnQpIHtcbiAgICB0aGlzLm9yaWdpbmFsUG9pbnRlck1vdmVFdmVudF8gPSBwb2ludGVyRXZlbnQ7XG4gICAgY29uc3QgZHJhZ2dpbmcgPSAhISh0aGlzLmRvd25fICYmIHRoaXMuaXNNb3ZpbmdfKHBvaW50ZXJFdmVudCkpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBNYXBCcm93c2VyRXZlbnQoXG4gICAgICAgIE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUk1PVkUsXG4gICAgICAgIHRoaXMubWFwXyxcbiAgICAgICAgcG9pbnRlckV2ZW50LFxuICAgICAgICBkcmFnZ2luZ1xuICAgICAgKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRmxleGlibGUgaGFuZGxpbmcgb2YgYSBgdG91Y2gtYWN0aW9uOiBub25lYCBjc3MgZXF1aXZhbGVudDogYmVjYXVzZSBjYWxsaW5nXG4gICAqIGBwcmV2ZW50RGVmYXVsdCgpYCBvbiBhIGBwb2ludGVybW92ZWAgZXZlbnQgZG9lcyBub3Qgc3RvcCBuYXRpdmUgcGFnZSBzY3JvbGxpbmdcbiAgICogYW5kIHpvb21pbmcsIHdlIGFsc28gbGlzdGVuIGZvciBgdG91Y2htb3ZlYCBhbmQgY2FsbCBgcHJldmVudERlZmF1bHQoKWAgb24gaXRcbiAgICogd2hlbiBhbiBpbnRlcmFjdGlvbiAoY3VycmVudGx5IGBEcmFnUGFuYCBoYW5kbGVzIHRoZSBldmVudC5cbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBldmVudCBFdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVRvdWNoTW92ZV8oZXZlbnQpIHtcbiAgICAvLyBEdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL21waXplbmJlcmcvZWxtLXBlcC9pc3N1ZXMvMiwgYHRoaXMub3JpZ2luYWxQb2ludGVyTW92ZUV2ZW50X2BcbiAgICAvLyBtYXkgbm90IGJlIGluaXRpYWxpemVkIHlldCB3aGVuIHdlIGdldCBoZXJlIG9uIGEgcGxhdGZvcm0gd2l0aG91dCBuYXRpdmUgcG9pbnRlciBldmVudHMuXG4gICAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IHRoaXMub3JpZ2luYWxQb2ludGVyTW92ZUV2ZW50XztcbiAgICBpZiAoXG4gICAgICAoIW9yaWdpbmFsRXZlbnQgfHwgb3JpZ2luYWxFdmVudC5kZWZhdWx0UHJldmVudGVkKSAmJlxuICAgICAgKHR5cGVvZiBldmVudC5jYW5jZWxhYmxlICE9PSAnYm9vbGVhbicgfHwgZXZlbnQuY2FuY2VsYWJsZSA9PT0gdHJ1ZSlcbiAgICApIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgUG9pbnRlclxuICAgKiBldmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgbW92aW5nLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaXNNb3ZpbmdfKHBvaW50ZXJFdmVudCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmRyYWdnaW5nXyB8fFxuICAgICAgTWF0aC5hYnMocG9pbnRlckV2ZW50LmNsaWVudFggLSB0aGlzLmRvd25fLmNsaWVudFgpID5cbiAgICAgICAgdGhpcy5tb3ZlVG9sZXJhbmNlXyB8fFxuICAgICAgTWF0aC5hYnMocG9pbnRlckV2ZW50LmNsaWVudFkgLSB0aGlzLmRvd25fLmNsaWVudFkpID4gdGhpcy5tb3ZlVG9sZXJhbmNlX1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAuXG4gICAqL1xuICBkaXNwb3NlSW50ZXJuYWwoKSB7XG4gICAgaWYgKHRoaXMucmVsYXllZExpc3RlbmVyS2V5Xykge1xuICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLnJlbGF5ZWRMaXN0ZW5lcktleV8pO1xuICAgICAgdGhpcy5yZWxheWVkTGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgRXZlbnRUeXBlLlRPVUNITU9WRSxcbiAgICAgIHRoaXMuYm91bmRIYW5kbGVUb3VjaE1vdmVfXG4gICAgKTtcblxuICAgIGlmICh0aGlzLnBvaW50ZXJkb3duTGlzdGVuZXJLZXlfKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMucG9pbnRlcmRvd25MaXN0ZW5lcktleV8pO1xuICAgICAgdGhpcy5wb2ludGVyZG93bkxpc3RlbmVyS2V5XyA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5kcmFnTGlzdGVuZXJLZXlzXy5mb3JFYWNoKHVubGlzdGVuQnlLZXkpO1xuICAgIHRoaXMuZHJhZ0xpc3RlbmVyS2V5c18ubGVuZ3RoID0gMDtcblxuICAgIHRoaXMuZWxlbWVudF8gPSBudWxsO1xuICAgIHN1cGVyLmRpc3Bvc2VJbnRlcm5hbCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1hcEJyb3dzZXJFdmVudEhhbmRsZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwRXZlbnRUeXBlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgYSBtYXAgZnJhbWUgaXMgcmVuZGVyZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvTWFwRXZlbnR+TWFwRXZlbnQjcG9zdHJlbmRlclxuICAgKiBAYXBpXG4gICAqL1xuICBQT1NUUkVOREVSOiAncG9zdHJlbmRlcicsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIHRoZSBtYXAgc3RhcnRzIG1vdmluZy5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBFdmVudH5NYXBFdmVudCNtb3Zlc3RhcnRcbiAgICogQGFwaVxuICAgKi9cbiAgTU9WRVNUQVJUOiAnbW92ZXN0YXJ0JyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSBtYXAgaXMgbW92ZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvTWFwRXZlbnR+TWFwRXZlbnQjbW92ZWVuZFxuICAgKiBAYXBpXG4gICAqL1xuICBNT1ZFRU5EOiAnbW92ZWVuZCcsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGxvYWRpbmcgb2YgYWRkaXRpb25hbCBtYXAgZGF0YSAodGlsZXMsIGltYWdlcywgZmVhdHVyZXMpIHN0YXJ0cy5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9NYXBFdmVudH5NYXBFdmVudCNsb2Fkc3RhcnRcbiAgICogQGFwaVxuICAgKi9cbiAgTE9BRFNUQVJUOiAnbG9hZHN0YXJ0JyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gbG9hZGluZyBvZiBhZGRpdGlvbmFsIG1hcCBkYXRhIGhhcyBjb21wbGV0ZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvTWFwRXZlbnR+TWFwRXZlbnQjbG9hZGVuZFxuICAgKiBAYXBpXG4gICAqL1xuICBMT0FERU5EOiAnbG9hZGVuZCcsXG59O1xuXG4vKioqXG4gKiBAdHlwZWRlZiB7J3Bvc3RyZW5kZXInfCdtb3Zlc3RhcnQnfCdtb3ZlZW5kJ3wnbG9hZHN0YXJ0J3wnbG9hZGVuZCd9IFR5cGVzXG4gKi9cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9NYXBQcm9wZXJ0eVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBMQVlFUkdST1VQOiAnbGF5ZXJncm91cCcsXG4gIFNJWkU6ICdzaXplJyxcbiAgVEFSR0VUOiAndGFyZ2V0JyxcbiAgVklFVzogJ3ZpZXcnLFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHJ1Y3RzL1ByaW9yaXR5UXVldWVcbiAqL1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtjbGVhcn0gZnJvbSAnLi4vb2JqLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgRFJPUCA9IEluZmluaXR5O1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFByaW9yaXR5IHF1ZXVlLlxuICpcbiAqIFRoZSBpbXBsZW1lbnRhdGlvbiBpcyBpbnNwaXJlZCBmcm9tIHRoZSBDbG9zdXJlIExpYnJhcnkncyBIZWFwIGNsYXNzIGFuZFxuICogUHl0aG9uJ3MgaGVhcHEgbW9kdWxlLlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtbGlicmFyeS9ibG9iL21hc3Rlci9jbG9zdXJlL2dvb2cvc3RydWN0cy9oZWFwLmpzXG4gKiBhbmQgaHR0cHM6Ly9oZy5weXRob24ub3JnL2NweXRob24vZmlsZS8yLjcvTGliL2hlYXBxLnB5LlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmNsYXNzIFByaW9yaXR5UXVldWUge1xuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihUKTogbnVtYmVyfSBwcmlvcml0eUZ1bmN0aW9uIFByaW9yaXR5IGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFQpOiBzdHJpbmd9IGtleUZ1bmN0aW9uIEtleSBmdW5jdGlvbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHByaW9yaXR5RnVuY3Rpb24sIGtleUZ1bmN0aW9uKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge2Z1bmN0aW9uKFQpOiBudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnByaW9yaXR5RnVuY3Rpb25fID0gcHJpb3JpdHlGdW5jdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbihUKTogc3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5rZXlGdW5jdGlvbl8gPSBrZXlGdW5jdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxUPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZWxlbWVudHNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucHJpb3JpdGllc18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnF1ZXVlZEVsZW1lbnRzXyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5lbGVtZW50c18ubGVuZ3RoID0gMDtcbiAgICB0aGlzLnByaW9yaXRpZXNfLmxlbmd0aCA9IDA7XG4gICAgY2xlYXIodGhpcy5xdWV1ZWRFbGVtZW50c18pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbmQgcmV0dXJuIHRoZSBoaWdoZXN0LXByaW9yaXR5IGVsZW1lbnQuIE8obG9nIE4pLlxuICAgKiBAcmV0dXJuIHtUfSBFbGVtZW50LlxuICAgKi9cbiAgZGVxdWV1ZSgpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICAgIGNvbnN0IHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1swXTtcbiAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgIGVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgICBwcmlvcml0aWVzLmxlbmd0aCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnRzWzBdID0gZWxlbWVudHMucG9wKCk7XG4gICAgICBwcmlvcml0aWVzWzBdID0gcHJpb3JpdGllcy5wb3AoKTtcbiAgICAgIHRoaXMuc2lmdFVwXygwKTtcbiAgICB9XG4gICAgY29uc3QgZWxlbWVudEtleSA9IHRoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpO1xuICAgIGRlbGV0ZSB0aGlzLnF1ZXVlZEVsZW1lbnRzX1tlbGVtZW50S2V5XTtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnF1ZXVlIGFuIGVsZW1lbnQuIE8obG9nIE4pLlxuICAgKiBAcGFyYW0ge1R9IGVsZW1lbnQgRWxlbWVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGVsZW1lbnQgd2FzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAgICovXG4gIGVucXVldWUoZWxlbWVudCkge1xuICAgIGFzc2VydCghKHRoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpIGluIHRoaXMucXVldWVkRWxlbWVudHNfKSwgMzEpOyAvLyBUcmllZCB0byBlbnF1ZXVlIGFuIGBlbGVtZW50YCB0aGF0IHdhcyBhbHJlYWR5IGFkZGVkIHRvIHRoZSBxdWV1ZVxuICAgIGNvbnN0IHByaW9yaXR5ID0gdGhpcy5wcmlvcml0eUZ1bmN0aW9uXyhlbGVtZW50KTtcbiAgICBpZiAocHJpb3JpdHkgIT0gRFJPUCkge1xuICAgICAgdGhpcy5lbGVtZW50c18ucHVzaChlbGVtZW50KTtcbiAgICAgIHRoaXMucHJpb3JpdGllc18ucHVzaChwcmlvcml0eSk7XG4gICAgICB0aGlzLnF1ZXVlZEVsZW1lbnRzX1t0aGlzLmtleUZ1bmN0aW9uXyhlbGVtZW50KV0gPSB0cnVlO1xuICAgICAgdGhpcy5zaWZ0RG93bl8oMCwgdGhpcy5lbGVtZW50c18ubGVuZ3RoIC0gMSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gQ291bnQuXG4gICAqL1xuICBnZXRDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50c18ubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGluZGV4IG9mIHRoZSBsZWZ0IGNoaWxkIG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBnZXQgdGhlIGxlZnQgY2hpbGQgZm9yLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgbGVmdCBjaGlsZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldExlZnRDaGlsZEluZGV4XyhpbmRleCkge1xuICAgIHJldHVybiBpbmRleCAqIDIgKyAxO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGluZGV4IG9mIHRoZSByaWdodCBjaGlsZCBvZiB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgdG8gZ2V0IHRoZSByaWdodCBjaGlsZCBmb3IuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSByaWdodCBjaGlsZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFJpZ2h0Q2hpbGRJbmRleF8oaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXggKiAyICsgMjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBpbmRleCBvZiB0aGUgcGFyZW50IG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbm9kZSB0byBnZXQgdGhlIHBhcmVudCBmb3IuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSBwYXJlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRQYXJlbnRJbmRleF8oaW5kZXgpIHtcbiAgICByZXR1cm4gKGluZGV4IC0gMSkgPj4gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIHRoaXMgYSBoZWFwLiBPKE4pLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGVhcGlmeV8oKSB7XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gKHRoaXMuZWxlbWVudHNfLmxlbmd0aCA+PiAxKSAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB0aGlzLnNpZnRVcF8oaSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGVtcHR5LlxuICAgKi9cbiAgaXNFbXB0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50c18ubGVuZ3RoID09PSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBrZXkgcXVldWVkLlxuICAgKi9cbiAgaXNLZXlRdWV1ZWQoa2V5KSB7XG4gICAgcmV0dXJuIGtleSBpbiB0aGlzLnF1ZXVlZEVsZW1lbnRzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1R9IGVsZW1lbnQgRWxlbWVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgcXVldWVkLlxuICAgKi9cbiAgaXNRdWV1ZWQoZWxlbWVudCkge1xuICAgIHJldHVybiB0aGlzLmlzS2V5UXVldWVkKHRoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIG1vdmUgZG93bi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNpZnRVcF8oaW5kZXgpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICAgIGNvbnN0IHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgIGNvbnN0IGNvdW50ID0gZWxlbWVudHMubGVuZ3RoO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XG4gICAgY29uc3QgcHJpb3JpdHkgPSBwcmlvcml0aWVzW2luZGV4XTtcbiAgICBjb25zdCBzdGFydEluZGV4ID0gaW5kZXg7XG5cbiAgICB3aGlsZSAoaW5kZXggPCBjb3VudCA+PiAxKSB7XG4gICAgICBjb25zdCBsSW5kZXggPSB0aGlzLmdldExlZnRDaGlsZEluZGV4XyhpbmRleCk7XG4gICAgICBjb25zdCBySW5kZXggPSB0aGlzLmdldFJpZ2h0Q2hpbGRJbmRleF8oaW5kZXgpO1xuXG4gICAgICBjb25zdCBzbWFsbGVyQ2hpbGRJbmRleCA9XG4gICAgICAgIHJJbmRleCA8IGNvdW50ICYmIHByaW9yaXRpZXNbckluZGV4XSA8IHByaW9yaXRpZXNbbEluZGV4XVxuICAgICAgICAgID8gckluZGV4XG4gICAgICAgICAgOiBsSW5kZXg7XG5cbiAgICAgIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnRzW3NtYWxsZXJDaGlsZEluZGV4XTtcbiAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdGllc1tzbWFsbGVyQ2hpbGRJbmRleF07XG4gICAgICBpbmRleCA9IHNtYWxsZXJDaGlsZEluZGV4O1xuICAgIH1cblxuICAgIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnQ7XG4gICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0eTtcbiAgICB0aGlzLnNpZnREb3duXyhzdGFydEluZGV4LCBpbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggVGhlIGluZGV4IG9mIHRoZSByb290LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBub2RlIHRvIG1vdmUgdXAuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzaWZ0RG93bl8oc3RhcnRJbmRleCwgaW5kZXgpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICAgIGNvbnN0IHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XG4gICAgY29uc3QgcHJpb3JpdHkgPSBwcmlvcml0aWVzW2luZGV4XTtcblxuICAgIHdoaWxlIChpbmRleCA+IHN0YXJ0SW5kZXgpIHtcbiAgICAgIGNvbnN0IHBhcmVudEluZGV4ID0gdGhpcy5nZXRQYXJlbnRJbmRleF8oaW5kZXgpO1xuICAgICAgaWYgKHByaW9yaXRpZXNbcGFyZW50SW5kZXhdID4gcHJpb3JpdHkpIHtcbiAgICAgICAgZWxlbWVudHNbaW5kZXhdID0gZWxlbWVudHNbcGFyZW50SW5kZXhdO1xuICAgICAgICBwcmlvcml0aWVzW2luZGV4XSA9IHByaW9yaXRpZXNbcGFyZW50SW5kZXhdO1xuICAgICAgICBpbmRleCA9IHBhcmVudEluZGV4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnQ7XG4gICAgcHJpb3JpdGllc1tpbmRleF0gPSBwcmlvcml0eTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGSVhNRSBlbXB0eSBkZXNjcmlwdGlvbiBmb3IganNkb2NcbiAgICovXG4gIHJlcHJpb3JpdGl6ZSgpIHtcbiAgICBjb25zdCBwcmlvcml0eUZ1bmN0aW9uID0gdGhpcy5wcmlvcml0eUZ1bmN0aW9uXztcbiAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHNfO1xuICAgIGNvbnN0IHByaW9yaXRpZXMgPSB0aGlzLnByaW9yaXRpZXNfO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgY29uc3QgbiA9IGVsZW1lbnRzLmxlbmd0aDtcbiAgICBsZXQgZWxlbWVudCwgaSwgcHJpb3JpdHk7XG4gICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgcHJpb3JpdHkgPSBwcmlvcml0eUZ1bmN0aW9uKGVsZW1lbnQpO1xuICAgICAgaWYgKHByaW9yaXR5ID09IERST1ApIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucXVldWVkRWxlbWVudHNfW3RoaXMua2V5RnVuY3Rpb25fKGVsZW1lbnQpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByaW9yaXRpZXNbaW5kZXhdID0gcHJpb3JpdHk7XG4gICAgICAgIGVsZW1lbnRzW2luZGV4KytdID0gZWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudHMubGVuZ3RoID0gaW5kZXg7XG4gICAgcHJpb3JpdGllcy5sZW5ndGggPSBpbmRleDtcbiAgICB0aGlzLmhlYXBpZnlfKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJpb3JpdHlRdWV1ZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9UaWxlUXVldWVcbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFByaW9yaXR5UXVldWUsIHtEUk9QfSBmcm9tICcuL3N0cnVjdHMvUHJpb3JpdHlRdWV1ZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4vVGlsZVN0YXRlLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9UaWxlLmpzXCIpLmRlZmF1bHQsIHN0cmluZywgaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUsIG51bWJlcik6IG51bWJlcn0gUHJpb3JpdHlGdW5jdGlvblxuICovXG5cbmNsYXNzIFRpbGVRdWV1ZSBleHRlbmRzIFByaW9yaXR5UXVldWUge1xuICAvKipcbiAgICogQHBhcmFtIHtQcmlvcml0eUZ1bmN0aW9ufSB0aWxlUHJpb3JpdHlGdW5jdGlvbiBUaWxlIHByaW9yaXR5IGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6ID99IHRpbGVDaGFuZ2VDYWxsYmFjayBGdW5jdGlvbiBjYWxsZWQgb24gZWFjaCB0aWxlIGNoYW5nZSBldmVudC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRpbGVQcmlvcml0eUZ1bmN0aW9uLCB0aWxlQ2hhbmdlQ2FsbGJhY2spIHtcbiAgICBzdXBlcihcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtBcnJheX0gZWxlbWVudCBFbGVtZW50LlxuICAgICAgICogQHJldHVybiB7bnVtYmVyfSBQcmlvcml0eS5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRpbGVQcmlvcml0eUZ1bmN0aW9uLmFwcGx5KG51bGwsIGVsZW1lbnQpO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtBcnJheX0gZWxlbWVudCBFbGVtZW50LlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBLZXkuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoZWxlbWVudFswXSkuZ2V0S2V5KCk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIHRoaXMuYm91bmRIYW5kbGVUaWxlQ2hhbmdlXyA9IHRoaXMuaGFuZGxlVGlsZUNoYW5nZS5iaW5kKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oKTogP31cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVDaGFuZ2VDYWxsYmFja18gPSB0aWxlQ2hhbmdlQ2FsbGJhY2s7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50aWxlc0xvYWRpbmdfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLGJvb2xlYW4+fVxuICAgICAqL1xuICAgIHRoaXMudGlsZXNMb2FkaW5nS2V5c18gPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50IEVsZW1lbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBlbGVtZW50IHdhcyBhZGRlZCB0byB0aGUgcXVldWUuXG4gICAqL1xuICBlbnF1ZXVlKGVsZW1lbnQpIHtcbiAgICBjb25zdCBhZGRlZCA9IHN1cGVyLmVucXVldWUoZWxlbWVudCk7XG4gICAgaWYgKGFkZGVkKSB7XG4gICAgICBjb25zdCB0aWxlID0gZWxlbWVudFswXTtcbiAgICAgIHRpbGUuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmJvdW5kSGFuZGxlVGlsZUNoYW5nZV8pO1xuICAgIH1cbiAgICByZXR1cm4gYWRkZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgb2YgdGlsZXMgbG9hZGluZy5cbiAgICovXG4gIGdldFRpbGVzTG9hZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy50aWxlc0xvYWRpbmdfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGhhbmRsZVRpbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCB0aWxlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgY29uc3Qgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgaWYgKFxuICAgICAgc3RhdGUgPT09IFRpbGVTdGF0ZS5MT0FERUQgfHxcbiAgICAgIHN0YXRlID09PSBUaWxlU3RhdGUuRVJST1IgfHxcbiAgICAgIHN0YXRlID09PSBUaWxlU3RhdGUuRU1QVFlcbiAgICApIHtcbiAgICAgIGlmIChzdGF0ZSAhPT0gVGlsZVN0YXRlLkVSUk9SKSB7XG4gICAgICAgIHRpbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmJvdW5kSGFuZGxlVGlsZUNoYW5nZV8pO1xuICAgICAgfVxuICAgICAgY29uc3QgdGlsZUtleSA9IHRpbGUuZ2V0S2V5KCk7XG4gICAgICBpZiAodGlsZUtleSBpbiB0aGlzLnRpbGVzTG9hZGluZ0tleXNfKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnRpbGVzTG9hZGluZ0tleXNfW3RpbGVLZXldO1xuICAgICAgICAtLXRoaXMudGlsZXNMb2FkaW5nXztcbiAgICAgIH1cbiAgICAgIHRoaXMudGlsZUNoYW5nZUNhbGxiYWNrXygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VG90YWxMb2FkaW5nIE1heGltdW0gbnVtYmVyIHRpbGVzIHRvIGxvYWQgc2ltdWx0YW5lb3VzbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhOZXdMb2FkcyBNYXhpbXVtIG51bWJlciBvZiBuZXcgdGlsZXMgdG8gbG9hZC5cbiAgICovXG4gIGxvYWRNb3JlVGlsZXMobWF4VG90YWxMb2FkaW5nLCBtYXhOZXdMb2Fkcykge1xuICAgIGxldCBuZXdMb2FkcyA9IDA7XG4gICAgbGV0IHN0YXRlLCB0aWxlLCB0aWxlS2V5O1xuICAgIHdoaWxlIChcbiAgICAgIHRoaXMudGlsZXNMb2FkaW5nXyA8IG1heFRvdGFsTG9hZGluZyAmJlxuICAgICAgbmV3TG9hZHMgPCBtYXhOZXdMb2FkcyAmJlxuICAgICAgdGhpcy5nZXRDb3VudCgpID4gMFxuICAgICkge1xuICAgICAgdGlsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLmRlZmF1bHR9ICovICh0aGlzLmRlcXVldWUoKVswXSk7XG4gICAgICB0aWxlS2V5ID0gdGlsZS5nZXRLZXkoKTtcbiAgICAgIHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgaWYgKHN0YXRlID09PSBUaWxlU3RhdGUuSURMRSAmJiAhKHRpbGVLZXkgaW4gdGhpcy50aWxlc0xvYWRpbmdLZXlzXykpIHtcbiAgICAgICAgdGhpcy50aWxlc0xvYWRpbmdLZXlzX1t0aWxlS2V5XSA9IHRydWU7XG4gICAgICAgICsrdGhpcy50aWxlc0xvYWRpbmdfO1xuICAgICAgICArK25ld0xvYWRzO1xuICAgICAgICB0aWxlLmxvYWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGlsZVF1ZXVlO1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL01hcC5qcycpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGlsZVNvdXJjZUtleSBUaWxlIHNvdXJjZSBrZXkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSB0aWxlQ2VudGVyIFRpbGUgY2VudGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IHRpbGVSZXNvbHV0aW9uIFRpbGUgcmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gVGlsZSBwcmlvcml0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRpbGVQcmlvcml0eShcbiAgZnJhbWVTdGF0ZSxcbiAgdGlsZSxcbiAgdGlsZVNvdXJjZUtleSxcbiAgdGlsZUNlbnRlcixcbiAgdGlsZVJlc29sdXRpb25cbikge1xuICAvLyBGaWx0ZXIgb3V0IHRpbGVzIGF0IGhpZ2hlciB6b29tIGxldmVscyB0aGFuIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwsIG9yIHRoYXRcbiAgLy8gYXJlIG91dHNpZGUgdGhlIHZpc2libGUgZXh0ZW50LlxuICBpZiAoIWZyYW1lU3RhdGUgfHwgISh0aWxlU291cmNlS2V5IGluIGZyYW1lU3RhdGUud2FudGVkVGlsZXMpKSB7XG4gICAgcmV0dXJuIERST1A7XG4gIH1cbiAgaWYgKCFmcmFtZVN0YXRlLndhbnRlZFRpbGVzW3RpbGVTb3VyY2VLZXldW3RpbGUuZ2V0S2V5KCldKSB7XG4gICAgcmV0dXJuIERST1A7XG4gIH1cbiAgLy8gUHJpb3JpdGl6ZSB0aGUgaGlnaGVzdCB6b29tIGxldmVsIHRpbGVzIGNsb3Nlc3QgdG8gdGhlIGZvY3VzLlxuICAvLyBUaWxlcyBhdCBoaWdoZXIgem9vbSBsZXZlbHMgYXJlIHByaW9yaXRpemVkIHVzaW5nIE1hdGgubG9nKHRpbGVSZXNvbHV0aW9uKS5cbiAgLy8gV2l0aGluIGEgem9vbSBsZXZlbCwgdGlsZXMgYXJlIHByaW9yaXRpemVkIGJ5IHRoZSBkaXN0YW5jZSBpbiBwaXhlbHMgYmV0d2VlblxuICAvLyB0aGUgY2VudGVyIG9mIHRoZSB0aWxlIGFuZCB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydC4gIFRoZSBmYWN0b3Igb2YgNjU1MzZcbiAgLy8gbWVhbnMgdGhhdCB0aGUgcHJpb3JpdGl6YXRpb24gc2hvdWxkIGJlaGF2ZSBhcyBkZXNpcmVkIGZvciB0aWxlcyB1cCB0b1xuICAvLyA2NTUzNiAqIE1hdGgubG9nKDIpID0gNDU0MjYgcGl4ZWxzIGZyb20gdGhlIGZvY3VzLlxuICBjb25zdCBjZW50ZXIgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5jZW50ZXI7XG4gIGNvbnN0IGRlbHRhWCA9IHRpbGVDZW50ZXJbMF0gLSBjZW50ZXJbMF07XG4gIGNvbnN0IGRlbHRhWSA9IHRpbGVDZW50ZXJbMV0gLSBjZW50ZXJbMV07XG4gIHJldHVybiAoXG4gICAgNjU1MzYgKiBNYXRoLmxvZyh0aWxlUmVzb2x1dGlvbikgK1xuICAgIE1hdGguc3FydChkZWx0YVggKiBkZWx0YVggKyBkZWx0YVkgKiBkZWx0YVkpIC8gdGlsZVJlc29sdXRpb25cbiAgKTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9jb250cm9sL0NvbnRyb2xcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBNYXBFdmVudFR5cGUgZnJvbSAnLi4vTWFwRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7Vk9JRH0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7bGlzdGVuLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IHtyZW1vdmVOb2RlfSBmcm9tICcuLi9kb20uanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR9IFtlbGVtZW50XSBUaGUgZWxlbWVudCBpcyB0aGUgY29udHJvbCdzXG4gKiBjb250YWluZXIgZWxlbWVudC4gVGhpcyBvbmx5IG5lZWRzIHRvIGJlIHNwZWNpZmllZCBpZiB5b3UncmUgZGV2ZWxvcGluZ1xuICogYSBjdXN0b20gY29udHJvbC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdCk6dm9pZH0gW3JlbmRlcl0gRnVuY3Rpb24gY2FsbGVkIHdoZW5cbiAqIHRoZSBjb250cm9sIHNob3VsZCBiZSByZS1yZW5kZXJlZC4gVGhpcyBpcyBjYWxsZWQgaW4gYSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYFxuICogY2FsbGJhY2suXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3Ugd2FudFxuICogdGhlIGNvbnRyb2wgdG8gYmUgcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3Mgdmlld3BvcnQuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGNvbnRyb2wgaXMgYSB2aXNpYmxlIHdpZGdldCB3aXRoIGEgRE9NIGVsZW1lbnQgaW4gYSBmaXhlZCBwb3NpdGlvbiBvbiB0aGVcbiAqIHNjcmVlbi4gVGhleSBjYW4gaW52b2x2ZSB1c2VyIGlucHV0IChidXR0b25zKSwgb3IgYmUgaW5mb3JtYXRpb25hbCBvbmx5O1xuICogdGhlIHBvc2l0aW9uIGlzIGRldGVybWluZWQgdXNpbmcgQ1NTLiBCeSBkZWZhdWx0IHRoZXNlIGFyZSBwbGFjZWQgaW4gdGhlXG4gKiBjb250YWluZXIgd2l0aCBDU1MgY2xhc3MgbmFtZSBgb2wtb3ZlcmxheWNvbnRhaW5lci1zdG9wZXZlbnRgLCBidXQgY2FuIHVzZVxuICogYW55IG91dHNpZGUgRE9NIGVsZW1lbnQuXG4gKlxuICogVGhpcyBpcyB0aGUgYmFzZSBjbGFzcyBmb3IgY29udHJvbHMuIFlvdSBjYW4gdXNlIGl0IGZvciBzaW1wbGUgY3VzdG9tXG4gKiBjb250cm9scyBieSBjcmVhdGluZyB0aGUgZWxlbWVudCB3aXRoIGxpc3RlbmVycywgY3JlYXRpbmcgYW4gaW5zdGFuY2U6XG4gKiBgYGBqc1xuICogY29uc3QgbXlDb250cm9sID0gbmV3IENvbnRyb2woe2VsZW1lbnQ6IG15RWxlbWVudH0pO1xuICogYGBgXG4gKiBhbmQgdGhlbiBhZGRpbmcgdGhpcyB0byB0aGUgbWFwLlxuICpcbiAqIFRoZSBtYWluIGFkdmFudGFnZSBvZiBoYXZpbmcgdGhpcyBhcyBhIGNvbnRyb2wgcmF0aGVyIHRoYW4gYSBzaW1wbGUgc2VwYXJhdGVcbiAqIERPTSBlbGVtZW50IGlzIHRoYXQgcHJldmVudGluZyBwcm9wYWdhdGlvbiBpcyBoYW5kbGVkIGZvciB5b3UuIENvbnRyb2xzXG4gKiB3aWxsIGFsc28gYmUgb2JqZWN0cyBpbiBhIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSwgc28geW91IGNhbiB1c2UgdGhlaXIgbWV0aG9kcy5cbiAqXG4gKiBZb3UgY2FuIGFsc28gZXh0ZW5kIHRoaXMgYmFzZSBmb3IgeW91ciBvd24gY29udHJvbCBjbGFzcy4gU2VlXG4gKiBleGFtcGxlcy9jdXN0b20tY29udHJvbHMgZm9yIGFuIGV4YW1wbGUgb2YgaG93IHRvIGRvIHRoaXMuXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBDb250cm9sIGV4dGVuZHMgQmFzZU9iamVjdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgQ29udHJvbCBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICBjb25zdCBlbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50O1xuICAgIGlmIChlbGVtZW50ICYmICFvcHRpb25zLnRhcmdldCAmJiAhZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzKSB7XG4gICAgICBlbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50ID8gZWxlbWVudCA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLm1hcF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHshQXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5saXN0ZW5lcktleXMgPSBbXTtcblxuICAgIGlmIChvcHRpb25zLnJlbmRlcikge1xuICAgICAgdGhpcy5yZW5kZXIgPSBvcHRpb25zLnJlbmRlcjtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy50YXJnZXQpIHtcbiAgICAgIHRoaXMuc2V0VGFyZ2V0KG9wdGlvbnMudGFyZ2V0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAuXG4gICAqL1xuICBkaXNwb3NlSW50ZXJuYWwoKSB7XG4gICAgcmVtb3ZlTm9kZSh0aGlzLmVsZW1lbnQpO1xuICAgIHN1cGVyLmRpc3Bvc2VJbnRlcm5hbCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWFwIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGNvbnRyb2wuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9IE1hcC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TWFwKCkge1xuICAgIHJldHVybiB0aGlzLm1hcF87XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBjb250cm9sIGZyb20gaXRzIGN1cnJlbnQgbWFwIGFuZCBhdHRhY2ggaXQgdG8gdGhlIG5ldyBtYXAuXG4gICAqIFBhc3MgYG51bGxgIHRvIGp1c3QgcmVtb3ZlIHRoZSBjb250cm9sIGZyb20gdGhlIGN1cnJlbnQgbWFwLlxuICAgKiBTdWJjbGFzc2VzIG1heSBzZXQgdXAgZXZlbnQgaGFuZGxlcnMgdG8gZ2V0IG5vdGlmaWVkIGFib3V0IGNoYW5nZXMgdG9cbiAgICogdGhlIG1hcCBoZXJlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9IG1hcCBNYXAuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE1hcChtYXApIHtcbiAgICBpZiAodGhpcy5tYXBfKSB7XG4gICAgICByZW1vdmVOb2RlKHRoaXMuZWxlbWVudCk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHRoaXMubGlzdGVuZXJLZXlzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5saXN0ZW5lcktleXNbaV0pO1xuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVyS2V5cy5sZW5ndGggPSAwO1xuICAgIHRoaXMubWFwXyA9IG1hcDtcbiAgICBpZiAobWFwKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLnRhcmdldF9cbiAgICAgICAgPyB0aGlzLnRhcmdldF9cbiAgICAgICAgOiBtYXAuZ2V0T3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudCgpO1xuICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgICBpZiAodGhpcy5yZW5kZXIgIT09IFZPSUQpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcktleXMucHVzaChcbiAgICAgICAgICBsaXN0ZW4obWFwLCBNYXBFdmVudFR5cGUuUE9TVFJFTkRFUiwgdGhpcy5yZW5kZXIsIHRoaXMpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBtYXAucmVuZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgdGhlIGNvbnRyb2wuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwRXZlbnQgTWFwIGV2ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICByZW5kZXIobWFwRXZlbnQpIHt9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBzZXQgYSB0YXJnZXQgZWxlbWVudCBmb3IgdGhlIGNvbnRyb2wuIEl0IGhhcyBub1xuICAgKiBlZmZlY3QgaWYgaXQgaXMgY2FsbGVkIGFmdGVyIHRoZSBjb250cm9sIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBtYXAgKGkuZS5cbiAgICogYWZ0ZXIgYHNldE1hcGAgaXMgY2FsbGVkIG9uIHRoZSBjb250cm9sKS4gSWYgbm8gYHRhcmdldGAgaXMgc2V0IGluIHRoZVxuICAgKiBvcHRpb25zIHBhc3NlZCB0byB0aGUgY29udHJvbCBjb25zdHJ1Y3RvciBhbmQgaWYgYHNldFRhcmdldGAgaXMgbm90IGNhbGxlZFxuICAgKiB0aGVuIHRoZSBjb250cm9sIGlzIGFkZGVkIHRvIHRoZSBtYXAncyBvdmVybGF5IGNvbnRhaW5lci5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IHRhcmdldCBUYXJnZXQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFRhcmdldCh0YXJnZXQpIHtcbiAgICB0aGlzLnRhcmdldF8gPVxuICAgICAgdHlwZW9mIHRhcmdldCA9PT0gJ3N0cmluZycgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpIDogdGFyZ2V0O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2w7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvY29udHJvbC9BdHRyaWJ1dGlvblxuICovXG5pbXBvcnQgQ29udHJvbCBmcm9tICcuL0NvbnRyb2wuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7Q0xBU1NfQ09MTEFQU0VELCBDTEFTU19DT05UUk9MLCBDTEFTU19VTlNFTEVDVEFCTEV9IGZyb20gJy4uL2Nzcy5qcyc7XG5pbXBvcnQge2VxdWFsc30gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtpblZpZXd9IGZyb20gJy4uL2xheWVyL0xheWVyLmpzJztcbmltcG9ydCB7cmVtb3ZlQ2hpbGRyZW4sIHJlcGxhY2VOb2RlfSBmcm9tICcuLi9kb20uanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1hdHRyaWJ1dGlvbiddIENTUyBjbGFzcyBuYW1lLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudHxzdHJpbmd9IFt0YXJnZXRdIFNwZWNpZnkgYSB0YXJnZXQgaWYgeW91XG4gKiB3YW50IHRoZSBjb250cm9sIHRvIGJlIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhlIG1hcCdzXG4gKiB2aWV3cG9ydC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbGxhcHNpYmxlXSBTcGVjaWZ5IGlmIGF0dHJpYnV0aW9ucyBjYW5cbiAqIGJlIGNvbGxhcHNlZC4gSWYgbm90IHNwZWNpZmllZCwgc291cmNlcyBjb250cm9sIHRoaXMgYmVoYXZpb3Igd2l0aCB0aGVpclxuICogYGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlYCBzZXR0aW5nLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY29sbGFwc2VkPXRydWVdIFNwZWNpZnkgaWYgYXR0cmlidXRpb25zIHNob3VsZFxuICogYmUgY29sbGFwc2VkIGF0IHN0YXJ0dXAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RpcExhYmVsPSdBdHRyaWJ1dGlvbnMnXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlIGJ1dHRvbiB0aXAuXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MRWxlbWVudH0gW2xhYmVsPSdpJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZVxuICogY29sbGFwc2VkIGF0dHJpYnV0aW9ucyBidXR0b24uXG4gKiBJbnN0ZWFkIG9mIHRleHQsIGFsc28gYW4gZWxlbWVudCAoZS5nLiBhIGBzcGFuYCBlbGVtZW50KSBjYW4gYmUgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZXhwYW5kQ2xhc3NOYW1lPWNsYXNzTmFtZSArICctZXhwYW5kJ10gQ1NTIGNsYXNzIG5hbWUgZm9yIHRoZVxuICogY29sbGFwc2VkIGF0dHJpYnV0aW9ucyBidXR0b24uXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MRWxlbWVudH0gW2NvbGxhcHNlTGFiZWw9J+KAuiddIFRleHQgbGFiZWwgdG8gdXNlXG4gKiBmb3IgdGhlIGV4cGFuZGVkIGF0dHJpYnV0aW9ucyBidXR0b24uXG4gKiBJbnN0ZWFkIG9mIHRleHQsIGFsc28gYW4gZWxlbWVudCAoZS5nLiBhIGBzcGFuYCBlbGVtZW50KSBjYW4gYmUgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY29sbGFwc2VDbGFzc05hbWU9Y2xhc3NOYW1lICsgJy1jb2xsYXBzZSddIENTUyBjbGFzcyBuYW1lIGZvciB0aGVcbiAqIGV4cGFuZGVkIGF0dHJpYnV0aW9ucyBidXR0b24uXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEV2ZW50LmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtyZW5kZXJdIEZ1bmN0aW9uIGNhbGxlZCB3aGVuXG4gKiB0aGUgY29udHJvbCBzaG91bGQgYmUgcmUtcmVuZGVyZWQuIFRoaXMgaXMgY2FsbGVkIGluIGEgYHJlcXVlc3RBbmltYXRpb25GcmFtZWBcbiAqIGNhbGxiYWNrLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ29udHJvbCB0byBzaG93IGFsbCB0aGUgYXR0cmlidXRpb25zIGFzc29jaWF0ZWQgd2l0aCB0aGUgbGF5ZXIgc291cmNlc1xuICogaW4gdGhlIG1hcC4gVGhpcyBjb250cm9sIGlzIG9uZSBvZiB0aGUgZGVmYXVsdCBjb250cm9scyBpbmNsdWRlZCBpbiBtYXBzLlxuICogQnkgZGVmYXVsdCBpdCB3aWxsIHNob3cgaW4gdGhlIGJvdHRvbSByaWdodCBwb3J0aW9uIG9mIHRoZSBtYXAsIGJ1dCB0aGlzIGNhblxuICogYmUgY2hhbmdlZCBieSB1c2luZyBhIGNzcyBzZWxlY3RvciBmb3IgYC5vbC1hdHRyaWJ1dGlvbmAuXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBBdHRyaWJ1dGlvbiBleHRlbmRzIENvbnRyb2wge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gQXR0cmlidXRpb24gb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIHN1cGVyKHtcbiAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgcmVuZGVyOiBvcHRpb25zLnJlbmRlcixcbiAgICAgIHRhcmdldDogb3B0aW9ucy50YXJnZXQsXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLnVsRWxlbWVudF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbGxhcHNlZF8gPVxuICAgICAgb3B0aW9ucy5jb2xsYXBzZWQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGFwc2VkIDogdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy51c2VyQ29sbGFwc2VkXyA9IHRoaXMuY29sbGFwc2VkXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5vdmVycmlkZUNvbGxhcHNpYmxlXyA9IG9wdGlvbnMuY29sbGFwc2libGUgIT09IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5jb2xsYXBzaWJsZV8gPVxuICAgICAgb3B0aW9ucy5jb2xsYXBzaWJsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsYXBzaWJsZSA6IHRydWU7XG5cbiAgICBpZiAoIXRoaXMuY29sbGFwc2libGVfKSB7XG4gICAgICB0aGlzLmNvbGxhcHNlZF8gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBjbGFzc05hbWUgPVxuICAgICAgb3B0aW9ucy5jbGFzc05hbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xhc3NOYW1lIDogJ29sLWF0dHJpYnV0aW9uJztcblxuICAgIGNvbnN0IHRpcExhYmVsID1cbiAgICAgIG9wdGlvbnMudGlwTGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGlwTGFiZWwgOiAnQXR0cmlidXRpb25zJztcblxuICAgIGNvbnN0IGV4cGFuZENsYXNzTmFtZSA9XG4gICAgICBvcHRpb25zLmV4cGFuZENsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy5leHBhbmRDbGFzc05hbWVcbiAgICAgICAgOiBjbGFzc05hbWUgKyAnLWV4cGFuZCc7XG5cbiAgICBjb25zdCBjb2xsYXBzZUxhYmVsID1cbiAgICAgIG9wdGlvbnMuY29sbGFwc2VMYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsYXBzZUxhYmVsIDogJ1xcdTIwM0EnO1xuXG4gICAgY29uc3QgY29sbGFwc2VDbGFzc05hbWUgPVxuICAgICAgb3B0aW9ucy5jb2xsYXBzZUNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy5jb2xsYXBzZUNsYXNzTmFtZVxuICAgICAgICA6IGNsYXNzTmFtZSArICctY29sbGFwc2UnO1xuXG4gICAgaWYgKHR5cGVvZiBjb2xsYXBzZUxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICovXG4gICAgICB0aGlzLmNvbGxhcHNlTGFiZWxfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgdGhpcy5jb2xsYXBzZUxhYmVsXy50ZXh0Q29udGVudCA9IGNvbGxhcHNlTGFiZWw7XG4gICAgICB0aGlzLmNvbGxhcHNlTGFiZWxfLmNsYXNzTmFtZSA9IGNvbGxhcHNlQ2xhc3NOYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbGxhcHNlTGFiZWxfID0gY29sbGFwc2VMYWJlbDtcbiAgICB9XG5cbiAgICBjb25zdCBsYWJlbCA9IG9wdGlvbnMubGFiZWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubGFiZWwgOiAnaSc7XG5cbiAgICBpZiAodHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICovXG4gICAgICB0aGlzLmxhYmVsXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHRoaXMubGFiZWxfLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICB0aGlzLmxhYmVsXy5jbGFzc05hbWUgPSBleHBhbmRDbGFzc05hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubGFiZWxfID0gbGFiZWw7XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZlTGFiZWwgPVxuICAgICAgdGhpcy5jb2xsYXBzaWJsZV8gJiYgIXRoaXMuY29sbGFwc2VkXyA/IHRoaXMuY29sbGFwc2VMYWJlbF8gOiB0aGlzLmxhYmVsXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uXy5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgdGhpcy50b2dnbGVCdXR0b25fLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghdGhpcy5jb2xsYXBzZWRfKSk7XG4gICAgdGhpcy50b2dnbGVCdXR0b25fLnRpdGxlID0gdGlwTGFiZWw7XG4gICAgdGhpcy50b2dnbGVCdXR0b25fLmFwcGVuZENoaWxkKGFjdGl2ZUxhYmVsKTtcblxuICAgIHRoaXMudG9nZ2xlQnV0dG9uXy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgRXZlbnRUeXBlLkNMSUNLLFxuICAgICAgdGhpcy5oYW5kbGVDbGlja18uYmluZCh0aGlzKSxcbiAgICAgIGZhbHNlXG4gICAgKTtcblxuICAgIGNvbnN0IGNzc0NsYXNzZXMgPVxuICAgICAgY2xhc3NOYW1lICtcbiAgICAgICcgJyArXG4gICAgICBDTEFTU19VTlNFTEVDVEFCTEUgK1xuICAgICAgJyAnICtcbiAgICAgIENMQVNTX0NPTlRST0wgK1xuICAgICAgKHRoaXMuY29sbGFwc2VkXyAmJiB0aGlzLmNvbGxhcHNpYmxlXyA/ICcgJyArIENMQVNTX0NPTExBUFNFRCA6ICcnKSArXG4gICAgICAodGhpcy5jb2xsYXBzaWJsZV8gPyAnJyA6ICcgb2wtdW5jb2xsYXBzaWJsZScpO1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzc2VzO1xuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy50b2dnbGVCdXR0b25fKTtcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRoaXMudWxFbGVtZW50Xyk7XG5cbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgY3VycmVudGx5IHJlbmRlcmVkIHJlc29sdXRpb25zLlxuICAgICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZEF0dHJpYnV0aW9uc18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlZFZpc2libGVfID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb2xsZWN0IGEgbGlzdCBvZiB2aXNpYmxlIGF0dHJpYnV0aW9ucyBhbmQgc2V0IHRoZSBjb2xsYXBzaWJsZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn0gQXR0cmlidXRpb25zLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29sbGVjdFNvdXJjZUF0dHJpYnV0aW9uc18oZnJhbWVTdGF0ZSkge1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gZGV0ZXJtaW5lIGlmIGFuIGF0dHJpYnV0aW9uIGFscmVhZHkgZXhpc3RzLlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gICAgICovXG4gICAgY29uc3QgbG9va3VwID0ge307XG5cbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgdmlzaWJsZSBhdHRyaWJ1dGlvbnMuXG4gICAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAgICovXG4gICAgY29uc3QgdmlzaWJsZUF0dHJpYnV0aW9ucyA9IFtdO1xuXG4gICAgbGV0IGNvbGxhcHNpYmxlID0gdHJ1ZTtcbiAgICBjb25zdCBsYXllclN0YXRlc0FycmF5ID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5O1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGxheWVyU3RhdGVzQXJyYXkubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgbGF5ZXJTdGF0ZSA9IGxheWVyU3RhdGVzQXJyYXlbaV07XG4gICAgICBpZiAoIWluVmlldyhsYXllclN0YXRlLCBmcmFtZVN0YXRlLnZpZXdTdGF0ZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNvdXJjZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBsYXllclN0YXRlLmxheWVyXG4gICAgICApLmdldFNvdXJjZSgpO1xuICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGF0dHJpYnV0aW9uR2V0dGVyID0gc291cmNlLmdldEF0dHJpYnV0aW9ucygpO1xuICAgICAgaWYgKCFhdHRyaWJ1dGlvbkdldHRlcikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYXR0cmlidXRpb25zID0gYXR0cmlidXRpb25HZXR0ZXIoZnJhbWVTdGF0ZSk7XG4gICAgICBpZiAoIWF0dHJpYnV0aW9ucykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29sbGFwc2libGUgPVxuICAgICAgICBjb2xsYXBzaWJsZSAmJiBzb3VyY2UuZ2V0QXR0cmlidXRpb25zQ29sbGFwc2libGUoKSAhPT0gZmFsc2U7XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGF0dHJpYnV0aW9ucykpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDAsIGpqID0gYXR0cmlidXRpb25zLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICBpZiAoIShhdHRyaWJ1dGlvbnNbal0gaW4gbG9va3VwKSkge1xuICAgICAgICAgICAgdmlzaWJsZUF0dHJpYnV0aW9ucy5wdXNoKGF0dHJpYnV0aW9uc1tqXSk7XG4gICAgICAgICAgICBsb29rdXBbYXR0cmlidXRpb25zW2pdXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIShhdHRyaWJ1dGlvbnMgaW4gbG9va3VwKSkge1xuICAgICAgICAgIHZpc2libGVBdHRyaWJ1dGlvbnMucHVzaChhdHRyaWJ1dGlvbnMpO1xuICAgICAgICAgIGxvb2t1cFthdHRyaWJ1dGlvbnNdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMub3ZlcnJpZGVDb2xsYXBzaWJsZV8pIHtcbiAgICAgIHRoaXMuc2V0Q29sbGFwc2libGUoY29sbGFwc2libGUpO1xuICAgIH1cbiAgICByZXR1cm4gdmlzaWJsZUF0dHJpYnV0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0gez9pbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICovXG4gIHVwZGF0ZUVsZW1lbnRfKGZyYW1lU3RhdGUpIHtcbiAgICBpZiAoIWZyYW1lU3RhdGUpIHtcbiAgICAgIGlmICh0aGlzLnJlbmRlcmVkVmlzaWJsZV8pIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGF0dHJpYnV0aW9ucyA9IHRoaXMuY29sbGVjdFNvdXJjZUF0dHJpYnV0aW9uc18oZnJhbWVTdGF0ZSk7XG5cbiAgICBjb25zdCB2aXNpYmxlID0gYXR0cmlidXRpb25zLmxlbmd0aCA+IDA7XG4gICAgaWYgKHRoaXMucmVuZGVyZWRWaXNpYmxlXyAhPSB2aXNpYmxlKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IHZpc2libGUgPyAnJyA6ICdub25lJztcbiAgICAgIHRoaXMucmVuZGVyZWRWaXNpYmxlXyA9IHZpc2libGU7XG4gICAgfVxuXG4gICAgaWYgKGVxdWFscyhhdHRyaWJ1dGlvbnMsIHRoaXMucmVuZGVyZWRBdHRyaWJ1dGlvbnNfKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlbW92ZUNoaWxkcmVuKHRoaXMudWxFbGVtZW50Xyk7XG5cbiAgICAvLyBhcHBlbmQgdGhlIGF0dHJpYnV0aW9uc1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGF0dHJpYnV0aW9ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gYXR0cmlidXRpb25zW2ldO1xuICAgICAgdGhpcy51bEVsZW1lbnRfLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHRoaXMucmVuZGVyZWRBdHRyaWJ1dGlvbnNfID0gYXR0cmlidXRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIGhhbmRsZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlQ2xpY2tfKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmhhbmRsZVRvZ2dsZV8oKTtcbiAgICB0aGlzLnVzZXJDb2xsYXBzZWRfID0gdGhpcy5jb2xsYXBzZWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVUb2dnbGVfKCkge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKENMQVNTX0NPTExBUFNFRCk7XG4gICAgaWYgKHRoaXMuY29sbGFwc2VkXykge1xuICAgICAgcmVwbGFjZU5vZGUodGhpcy5jb2xsYXBzZUxhYmVsXywgdGhpcy5sYWJlbF8pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlTm9kZSh0aGlzLmxhYmVsXywgdGhpcy5jb2xsYXBzZUxhYmVsXyk7XG4gICAgfVxuICAgIHRoaXMuY29sbGFwc2VkXyA9ICF0aGlzLmNvbGxhcHNlZF87XG4gICAgdGhpcy50b2dnbGVCdXR0b25fLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghdGhpcy5jb2xsYXBzZWRfKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgYXR0cmlidXRpb24gaXMgY29sbGFwc2libGUsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgY29sbGFwc2libGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENvbGxhcHNpYmxlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbGxhcHNpYmxlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB0aGUgYXR0cmlidXRpb24gc2hvdWxkIGJlIGNvbGxhcHNpYmxlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNvbGxhcHNpYmxlIFRydWUgaWYgdGhlIHdpZGdldCBpcyBjb2xsYXBzaWJsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Q29sbGFwc2libGUoY29sbGFwc2libGUpIHtcbiAgICBpZiAodGhpcy5jb2xsYXBzaWJsZV8gPT09IGNvbGxhcHNpYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY29sbGFwc2libGVfID0gY29sbGFwc2libGU7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ29sLXVuY29sbGFwc2libGUnKTtcbiAgICBpZiAodGhpcy51c2VyQ29sbGFwc2VkXykge1xuICAgICAgdGhpcy5oYW5kbGVUb2dnbGVfKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbGxhcHNlIG9yIGV4cGFuZCB0aGUgYXR0cmlidXRpb24gYWNjb3JkaW5nIHRvIHRoZSBwYXNzZWQgcGFyYW1ldGVyLiBXaWxsXG4gICAqIG5vdCBkbyBhbnl0aGluZyBpZiB0aGUgYXR0cmlidXRpb24gaXNuJ3QgY29sbGFwc2libGUgb3IgaWYgdGhlIGN1cnJlbnRcbiAgICogY29sbGFwc2VkIHN0YXRlIGlzIGFscmVhZHkgdGhlIG9uZSByZXF1ZXN0ZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY29sbGFwc2VkIFRydWUgaWYgdGhlIHdpZGdldCBpcyBjb2xsYXBzZWQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldENvbGxhcHNlZChjb2xsYXBzZWQpIHtcbiAgICB0aGlzLnVzZXJDb2xsYXBzZWRfID0gY29sbGFwc2VkO1xuICAgIGlmICghdGhpcy5jb2xsYXBzaWJsZV8gfHwgdGhpcy5jb2xsYXBzZWRfID09PSBjb2xsYXBzZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVUb2dnbGVfKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGB0cnVlYCB3aGVuIHRoZSBhdHRyaWJ1dGlvbiBpcyBjdXJyZW50bHkgY29sbGFwc2VkIG9yIGBmYWxzZWBcbiAgICogb3RoZXJ3aXNlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgY29sbGFwc2VkLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRDb2xsYXBzZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sbGFwc2VkXztcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGF0dHJpYnV0aW9uIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwRXZlbnQgTWFwIGV2ZW50LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHJlbmRlcihtYXBFdmVudCkge1xuICAgIHRoaXMudXBkYXRlRWxlbWVudF8obWFwRXZlbnQuZnJhbWVTdGF0ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXR0cmlidXRpb247XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvY29udHJvbC9Sb3RhdGVcbiAqL1xuaW1wb3J0IENvbnRyb2wgZnJvbSAnLi9Db250cm9sLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge0NMQVNTX0NPTlRST0wsIENMQVNTX0hJRERFTiwgQ0xBU1NfVU5TRUxFQ1RBQkxFfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHtlYXNlT3V0fSBmcm9tICcuLi9lYXNpbmcuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1yb3RhdGUnXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfEhUTUxFbGVtZW50fSBbbGFiZWw9J+KHpyddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgcm90YXRlIGJ1dHRvbi5cbiAqIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0aXBMYWJlbD0nUmVzZXQgcm90YXRpb24nXSBUZXh0IGxhYmVsIHRvIHVzZSBmb3IgdGhlIHJvdGF0ZSB0aXAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbXBhc3NDbGFzc05hbWU9J29sLWNvbXBhc3MnXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlIGNvbXBhc3MuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTI1MF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F1dG9IaWRlPXRydWVdIEhpZGUgdGhlIGNvbnRyb2wgd2hlbiByb3RhdGlvbiBpcyAwLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbcmVuZGVyXSBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgY29udHJvbCBzaG91bGRcbiAqIGJlIHJlLXJlbmRlcmVkLiBUaGlzIGlzIGNhbGxlZCBpbiBhIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGNhbGxiYWNrLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbigpOnZvaWR9IFtyZXNldE5vcnRoXSBGdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgY29udHJvbCBpcyBjbGlja2VkLlxuICogVGhpcyB3aWxsIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGByZXNldE5vcnRoYC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBTcGVjaWZ5IGEgdGFyZ2V0IGlmIHlvdSB3YW50IHRoZSBjb250cm9sIHRvIGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoZSBtYXAncyB2aWV3cG9ydC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgYnV0dG9uIGNvbnRyb2wgdG8gcmVzZXQgcm90YXRpb24gdG8gMC5cbiAqIFRvIHN0eWxlIHRoaXMgY29udHJvbCB1c2UgY3NzIHNlbGVjdG9yIGAub2wtcm90YXRlYC4gQSBgLm9sLWhpZGRlbmAgY3NzXG4gKiBzZWxlY3RvciBpcyBhZGRlZCB0byB0aGUgYnV0dG9uIHdoZW4gdGhlIHJvdGF0aW9uIGlzIDAuXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBSb3RhdGUgZXh0ZW5kcyBDb250cm9sIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIFJvdGF0ZSBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gICAgc3VwZXIoe1xuICAgICAgZWxlbWVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICByZW5kZXI6IG9wdGlvbnMucmVuZGVyLFxuICAgICAgdGFyZ2V0OiBvcHRpb25zLnRhcmdldCxcbiAgICB9KTtcblxuICAgIGNvbnN0IGNsYXNzTmFtZSA9XG4gICAgICBvcHRpb25zLmNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbGFzc05hbWUgOiAnb2wtcm90YXRlJztcblxuICAgIGNvbnN0IGxhYmVsID0gb3B0aW9ucy5sYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sYWJlbCA6ICdcXHUyMUU3JztcblxuICAgIGNvbnN0IGNvbXBhc3NDbGFzc05hbWUgPVxuICAgICAgb3B0aW9ucy5jb21wYXNzQ2xhc3NOYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLmNvbXBhc3NDbGFzc05hbWVcbiAgICAgICAgOiAnb2wtY29tcGFzcyc7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmxhYmVsXyA9IG51bGw7XG5cbiAgICBpZiAodHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5sYWJlbF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICB0aGlzLmxhYmVsXy5jbGFzc05hbWUgPSBjb21wYXNzQ2xhc3NOYW1lO1xuICAgICAgdGhpcy5sYWJlbF8udGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sYWJlbF8gPSBsYWJlbDtcbiAgICAgIHRoaXMubGFiZWxfLmNsYXNzTGlzdC5hZGQoY29tcGFzc0NsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgY29uc3QgdGlwTGFiZWwgPSBvcHRpb25zLnRpcExhYmVsID8gb3B0aW9ucy50aXBMYWJlbCA6ICdSZXNldCByb3RhdGlvbic7XG5cbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBidXR0b24uY2xhc3NOYW1lID0gY2xhc3NOYW1lICsgJy1yZXNldCc7XG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICBidXR0b24udGl0bGUgPSB0aXBMYWJlbDtcbiAgICBidXR0b24uYXBwZW5kQ2hpbGQodGhpcy5sYWJlbF8pO1xuXG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBFdmVudFR5cGUuQ0xJQ0ssXG4gICAgICB0aGlzLmhhbmRsZUNsaWNrXy5iaW5kKHRoaXMpLFxuICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgY29uc3QgY3NzQ2xhc3NlcyA9XG4gICAgICBjbGFzc05hbWUgKyAnICcgKyBDTEFTU19VTlNFTEVDVEFCTEUgKyAnICcgKyBDTEFTU19DT05UUk9MO1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzc2VzO1xuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblxuICAgIHRoaXMuY2FsbFJlc2V0Tm9ydGhfID0gb3B0aW9ucy5yZXNldE5vcnRoID8gb3B0aW9ucy5yZXNldE5vcnRoIDogdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDI1MDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5hdXRvSGlkZV8gPSBvcHRpb25zLmF1dG9IaWRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9IaWRlIDogdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5yb3RhdGlvbl8gPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAodGhpcy5hdXRvSGlkZV8pIHtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX0hJRERFTik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRvIGhhbmRsZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlQ2xpY2tfKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAodGhpcy5jYWxsUmVzZXROb3J0aF8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jYWxsUmVzZXROb3J0aF8oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXNldE5vcnRoXygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVzZXROb3J0aF8oKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5nZXRNYXAoKTtcbiAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICBpZiAoIXZpZXcpIHtcbiAgICAgIC8vIHRoZSBtYXAgZG9lcyBub3QgaGF2ZSBhIHZpZXcsIHNvIHdlIGNhbid0IGFjdFxuICAgICAgLy8gdXBvbiBpdFxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByb3RhdGlvbiA9IHZpZXcuZ2V0Um90YXRpb24oKTtcbiAgICBpZiAocm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHRoaXMuZHVyYXRpb25fID4gMCAmJiByb3RhdGlvbiAlICgyICogTWF0aC5QSSkgIT09IDApIHtcbiAgICAgICAgdmlldy5hbmltYXRlKHtcbiAgICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbl8sXG4gICAgICAgICAgZWFzaW5nOiBlYXNlT3V0LFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZpZXcuc2V0Um90YXRpb24oMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgcm90YXRlIGNvbnRyb2wgZWxlbWVudC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBFdmVudCBNYXAgZXZlbnQuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVuZGVyKG1hcEV2ZW50KSB7XG4gICAgY29uc3QgZnJhbWVTdGF0ZSA9IG1hcEV2ZW50LmZyYW1lU3RhdGU7XG4gICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJvdGF0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb247XG4gICAgaWYgKHJvdGF0aW9uICE9IHRoaXMucm90YXRpb25fKSB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSAncm90YXRlKCcgKyByb3RhdGlvbiArICdyYWQpJztcbiAgICAgIGlmICh0aGlzLmF1dG9IaWRlXykge1xuICAgICAgICBjb25zdCBjb250YWlucyA9IHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfSElEREVOKTtcbiAgICAgICAgaWYgKCFjb250YWlucyAmJiByb3RhdGlvbiA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX0hJRERFTik7XG4gICAgICAgIH0gZWxzZSBpZiAoY29udGFpbnMgJiYgcm90YXRpb24gIT09IDApIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19ISURERU4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmxhYmVsXy5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgfVxuICAgIHRoaXMucm90YXRpb25fID0gcm90YXRpb247XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUm90YXRlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnRyb2wvWm9vbVxuICovXG5pbXBvcnQgQ29udHJvbCBmcm9tICcuL0NvbnRyb2wuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7Q0xBU1NfQ09OVFJPTCwgQ0xBU1NfVU5TRUxFQ1RBQkxFfSBmcm9tICcuLi9jc3MuanMnO1xuaW1wb3J0IHtlYXNlT3V0fSBmcm9tICcuLi9lYXNpbmcuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLXpvb20nXSBDU1MgY2xhc3MgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbem9vbUluQ2xhc3NOYW1lPWNsYXNzTmFtZSArICctaW4nXSBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlIHpvb20taW4gYnV0dG9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt6b29tT3V0Q2xhc3NOYW1lPWNsYXNzTmFtZSArICctb3V0J10gQ1NTIGNsYXNzIG5hbWUgZm9yIHRoZSB6b29tLW91dCBidXR0b24uXG4gKiBAcHJvcGVydHkge3N0cmluZ3xIVE1MRWxlbWVudH0gW3pvb21JbkxhYmVsPScrJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSB6b29tLWluXG4gKiBidXR0b24uIEluc3RlYWQgb2YgdGV4dCwgYWxzbyBhbiBlbGVtZW50IChlLmcuIGEgYHNwYW5gIGVsZW1lbnQpIGNhbiBiZSB1c2VkLlxuICogQHByb3BlcnR5IHtzdHJpbmd8SFRNTEVsZW1lbnR9IFt6b29tT3V0TGFiZWw9J+KAkyddIFRleHQgbGFiZWwgdG8gdXNlIGZvciB0aGUgem9vbS1vdXQgYnV0dG9uLlxuICogSW5zdGVhZCBvZiB0ZXh0LCBhbHNvIGFuIGVsZW1lbnQgKGUuZy4gYSBgc3BhbmAgZWxlbWVudCkgY2FuIGJlIHVzZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3pvb21JblRpcExhYmVsPSdab29tIGluJ10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt6b29tT3V0VGlwTGFiZWw9J1pvb20gb3V0J10gVGV4dCBsYWJlbCB0byB1c2UgZm9yIHRoZSBidXR0b24gdGlwLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkZWx0YT0xXSBUaGUgem9vbSBkZWx0YSBhcHBsaWVkIG9uIGVhY2ggY2xpY2suXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3RhcmdldF0gU3BlY2lmeSBhIHRhcmdldCBpZiB5b3Ugd2FudCB0aGUgY29udHJvbCB0byBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgbWFwJ3Mgdmlld3BvcnQuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGNvbnRyb2wgd2l0aCAyIGJ1dHRvbnMsIG9uZSBmb3Igem9vbSBpbiBhbmQgb25lIGZvciB6b29tIG91dC5cbiAqIFRoaXMgY29udHJvbCBpcyBvbmUgb2YgdGhlIGRlZmF1bHQgY29udHJvbHMgb2YgYSBtYXAuIFRvIHN0eWxlIHRoaXMgY29udHJvbFxuICogdXNlIGNzcyBzZWxlY3RvcnMgYC5vbC16b29tLWluYCBhbmQgYC5vbC16b29tLW91dGAuXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBab29tIGV4dGVuZHMgQ29udHJvbCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBab29tIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICBzdXBlcih7XG4gICAgICBlbGVtZW50OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIHRhcmdldDogb3B0aW9ucy50YXJnZXQsXG4gICAgfSk7XG5cbiAgICBjb25zdCBjbGFzc05hbWUgPVxuICAgICAgb3B0aW9ucy5jbGFzc05hbWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xhc3NOYW1lIDogJ29sLXpvb20nO1xuXG4gICAgY29uc3QgZGVsdGEgPSBvcHRpb25zLmRlbHRhICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRlbHRhIDogMTtcblxuICAgIGNvbnN0IHpvb21JbkNsYXNzTmFtZSA9XG4gICAgICBvcHRpb25zLnpvb21JbkNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy56b29tSW5DbGFzc05hbWVcbiAgICAgICAgOiBjbGFzc05hbWUgKyAnLWluJztcblxuICAgIGNvbnN0IHpvb21PdXRDbGFzc05hbWUgPVxuICAgICAgb3B0aW9ucy56b29tT3V0Q2xhc3NOYW1lICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLnpvb21PdXRDbGFzc05hbWVcbiAgICAgICAgOiBjbGFzc05hbWUgKyAnLW91dCc7XG5cbiAgICBjb25zdCB6b29tSW5MYWJlbCA9XG4gICAgICBvcHRpb25zLnpvb21JbkxhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnpvb21JbkxhYmVsIDogJysnO1xuICAgIGNvbnN0IHpvb21PdXRMYWJlbCA9XG4gICAgICBvcHRpb25zLnpvb21PdXRMYWJlbCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy56b29tT3V0TGFiZWwgOiAnXFx1MjAxMyc7XG5cbiAgICBjb25zdCB6b29tSW5UaXBMYWJlbCA9XG4gICAgICBvcHRpb25zLnpvb21JblRpcExhYmVsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnpvb21JblRpcExhYmVsIDogJ1pvb20gaW4nO1xuICAgIGNvbnN0IHpvb21PdXRUaXBMYWJlbCA9XG4gICAgICBvcHRpb25zLnpvb21PdXRUaXBMYWJlbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy56b29tT3V0VGlwTGFiZWxcbiAgICAgICAgOiAnWm9vbSBvdXQnO1xuXG4gICAgY29uc3QgaW5FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgaW5FbGVtZW50LmNsYXNzTmFtZSA9IHpvb21JbkNsYXNzTmFtZTtcbiAgICBpbkVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgIGluRWxlbWVudC50aXRsZSA9IHpvb21JblRpcExhYmVsO1xuICAgIGluRWxlbWVudC5hcHBlbmRDaGlsZChcbiAgICAgIHR5cGVvZiB6b29tSW5MYWJlbCA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh6b29tSW5MYWJlbClcbiAgICAgICAgOiB6b29tSW5MYWJlbFxuICAgICk7XG5cbiAgICBpbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIEV2ZW50VHlwZS5DTElDSyxcbiAgICAgIHRoaXMuaGFuZGxlQ2xpY2tfLmJpbmQodGhpcywgZGVsdGEpLFxuICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgY29uc3Qgb3V0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIG91dEVsZW1lbnQuY2xhc3NOYW1lID0gem9vbU91dENsYXNzTmFtZTtcbiAgICBvdXRFbGVtZW50LnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICBvdXRFbGVtZW50LnRpdGxlID0gem9vbU91dFRpcExhYmVsO1xuICAgIG91dEVsZW1lbnQuYXBwZW5kQ2hpbGQoXG4gICAgICB0eXBlb2Ygem9vbU91dExhYmVsID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHpvb21PdXRMYWJlbClcbiAgICAgICAgOiB6b29tT3V0TGFiZWxcbiAgICApO1xuXG4gICAgb3V0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgRXZlbnRUeXBlLkNMSUNLLFxuICAgICAgdGhpcy5oYW5kbGVDbGlja18uYmluZCh0aGlzLCAtZGVsdGEpLFxuICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgY29uc3QgY3NzQ2xhc3NlcyA9XG4gICAgICBjbGFzc05hbWUgKyAnICcgKyBDTEFTU19VTlNFTEVDVEFCTEUgKyAnICcgKyBDTEFTU19DT05UUk9MO1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBjc3NDbGFzc2VzO1xuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5FbGVtZW50KTtcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKG91dEVsZW1lbnQpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDI1MDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgWm9vbSBkZWx0YS5cbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBUaGUgZXZlbnQgdG8gaGFuZGxlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVDbGlja18oZGVsdGEsIGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnpvb21CeURlbHRhXyhkZWx0YSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIFpvb20gZGVsdGEuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB6b29tQnlEZWx0YV8oZGVsdGEpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIGlmICghdmlldykge1xuICAgICAgLy8gdGhlIG1hcCBkb2VzIG5vdCBoYXZlIGEgdmlldywgc28gd2UgY2FuJ3QgYWN0XG4gICAgICAvLyB1cG9uIGl0XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRab29tID0gdmlldy5nZXRab29tKCk7XG4gICAgaWYgKGN1cnJlbnRab29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IG5ld1pvb20gPSB2aWV3LmdldENvbnN0cmFpbmVkWm9vbShjdXJyZW50Wm9vbSArIGRlbHRhKTtcbiAgICAgIGlmICh0aGlzLmR1cmF0aW9uXyA+IDApIHtcbiAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICB2aWV3LmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICB2aWV3LmFuaW1hdGUoe1xuICAgICAgICAgIHpvb206IG5ld1pvb20sXG4gICAgICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb25fLFxuICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2aWV3LnNldFpvb20obmV3Wm9vbSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFpvb207XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUHJvcGVydHlcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgQUNUSVZFOiAnYWN0aXZlJyxcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25cbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCBJbnRlcmFjdGlvblByb3BlcnR5IGZyb20gJy4vUHJvcGVydHkuanMnO1xuaW1wb3J0IHtlYXNlT3V0LCBsaW5lYXJ9IGZyb20gJy4uL2Vhc2luZy5qcyc7XG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICAnY2hhbmdlOmFjdGl2ZScsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfFxuICogICAgICdjaGFuZ2U6YWN0aXZlJywgUmV0dXJuPn0gSW50ZXJhY3Rpb25PblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogT2JqZWN0IGxpdGVyYWwgd2l0aCBjb25maWcgb3B0aW9ucyBmb3IgaW50ZXJhY3Rpb25zLlxuICogQHR5cGVkZWYge09iamVjdH0gSW50ZXJhY3Rpb25PcHRpb25zXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBoYW5kbGVFdmVudFxuICogTWV0aG9kIGNhbGxlZCBieSB0aGUgbWFwIHRvIG5vdGlmeSB0aGUgaW50ZXJhY3Rpb24gdGhhdCBhIGJyb3dzZXIgZXZlbnQgd2FzXG4gKiBkaXNwYXRjaGVkIHRvIHRoZSBtYXAuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIHByb3BhZ2F0aW9uIG9mXG4gKiB0aGUgZXZlbnQgdG8gb3RoZXIgaW50ZXJhY3Rpb25zIGluIHRoZSBtYXAncyBpbnRlcmFjdGlvbnMgY2hhaW4gd2lsbCBiZVxuICogcHJldmVudGVkICh0aGlzIGluY2x1ZGVzIGZ1bmN0aW9ucyB3aXRoIG5vIGV4cGxpY2l0IHJldHVybikuIFRoZSBpbnRlcmFjdGlvbnNcbiAqIGFyZSB0cmF2ZXJzZWQgaW4gcmV2ZXJzZSBvcmRlciBvZiB0aGUgaW50ZXJhY3Rpb25zIGNvbGxlY3Rpb24gb2YgdGhlIG1hcC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3M7IG5vcm1hbGx5IG9ubHkgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90XG4gKiBpbnN0YW50aWF0ZWQgaW4gYXBwcy5cbiAqIFVzZXIgYWN0aW9ucyB0aGF0IGNoYW5nZSB0aGUgc3RhdGUgb2YgdGhlIG1hcC4gU29tZSBhcmUgc2ltaWxhciB0byBjb250cm9scyxcbiAqIGJ1dCBhcmUgbm90IGFzc29jaWF0ZWQgd2l0aCBhIERPTSBlbGVtZW50LlxuICogRm9yIGV4YW1wbGUsIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tfktleWJvYXJkWm9vbX0gaXNcbiAqIGZ1bmN0aW9uYWxseSB0aGUgc2FtZSBhcyB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvWm9vbX5ab29tfSwgYnV0IHRyaWdnZXJlZFxuICogYnkgYSBrZXlib2FyZCBldmVudCBub3QgYSBidXR0b24gZWxlbWVudCBldmVudC5cbiAqIEFsdGhvdWdoIGludGVyYWN0aW9ucyBkbyBub3QgaGF2ZSBhIERPTSBlbGVtZW50LCBzb21lIG9mIHRoZW0gZG8gcmVuZGVyXG4gKiB2ZWN0b3JzIGFuZCBzbyBhcmUgdmlzaWJsZSBvbiB0aGUgc2NyZWVuLlxuICogQGFwaVxuICovXG5jbGFzcyBJbnRlcmFjdGlvbiBleHRlbmRzIEJhc2VPYmplY3Qge1xuICAvKipcbiAgICogQHBhcmFtIHtJbnRlcmFjdGlvbk9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0ludGVyYWN0aW9uT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7SW50ZXJhY3Rpb25PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uY2U7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0ludGVyYWN0aW9uT25TaWduYXR1cmU8dm9pZD59XG4gICAgICovXG4gICAgdGhpcy51bjtcblxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaGFuZGxlRXZlbnQpIHtcbiAgICAgIHRoaXMuaGFuZGxlRXZlbnQgPSBvcHRpb25zLmhhbmRsZUV2ZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9XG4gICAgICovXG4gICAgdGhpcy5tYXBfID0gbnVsbDtcblxuICAgIHRoaXMuc2V0QWN0aXZlKHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB3aGV0aGVyIHRoZSBpbnRlcmFjdGlvbiBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGludGVyYWN0aW9uIGlzIGFjdGl2ZSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEFjdGl2ZSgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtib29sZWFufSAqLyAodGhpcy5nZXQoSW50ZXJhY3Rpb25Qcm9wZXJ0eS5BQ1RJVkUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hcCBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnRlcmFjdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR8bnVsbH0gTWFwLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwXztcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnQgbWFwIGJyb3dzZXIgZXZlbnR9LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgaGFuZGxlRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQWN0aXZhdGUgb3IgZGVhY3RpdmF0ZSB0aGUgaW50ZXJhY3Rpb24uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gYWN0aXZlIEFjdGl2ZS5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0QWN0aXZlKGFjdGl2ZSkge1xuICAgIHRoaXMuc2V0KEludGVyYWN0aW9uUHJvcGVydHkuQUNUSVZFLCBhY3RpdmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgaW50ZXJhY3Rpb24gZnJvbSBpdHMgY3VycmVudCBtYXAgYW5kIGF0dGFjaCBpdCB0byB0aGUgbmV3IG1hcC5cbiAgICogU3ViY2xhc3NlcyBtYXkgc2V0IHVwIGV2ZW50IGhhbmRsZXJzIHRvIGdldCBub3RpZmllZCBhYm91dCBjaGFuZ2VzIHRvXG4gICAqIHRoZSBtYXAgaGVyZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdHxudWxsfSBtYXAgTWFwLlxuICAgKi9cbiAgc2V0TWFwKG1hcCkge1xuICAgIHRoaXMubWFwXyA9IG1hcDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5kZWZhdWx0fSB2aWV3IFZpZXcuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZGVsdGEgRGVsdGEuXG4gKiBAcGFyYW0ge251bWJlcn0gW2R1cmF0aW9uXSBEdXJhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhbih2aWV3LCBkZWx0YSwgZHVyYXRpb24pIHtcbiAgY29uc3QgY3VycmVudENlbnRlciA9IHZpZXcuZ2V0Q2VudGVySW50ZXJuYWwoKTtcbiAgaWYgKGN1cnJlbnRDZW50ZXIpIHtcbiAgICBjb25zdCBjZW50ZXIgPSBbY3VycmVudENlbnRlclswXSArIGRlbHRhWzBdLCBjdXJyZW50Q2VudGVyWzFdICsgZGVsdGFbMV1dO1xuICAgIHZpZXcuYW5pbWF0ZUludGVybmFsKHtcbiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gZHVyYXRpb24gOiAyNTAsXG4gICAgICBlYXNpbmc6IGxpbmVhcixcbiAgICAgIGNlbnRlcjogdmlldy5nZXRDb25zdHJhaW5lZENlbnRlcihjZW50ZXIpLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9WaWV3LmpzXCIpLmRlZmF1bHR9IHZpZXcgVmlldy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YSBmcm9tIHByZXZpb3VzIHpvb20gbGV2ZWwuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gQW5jaG9yIGNvb3JkaW5hdGUgaW4gdGhlIHVzZXIgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZHVyYXRpb25dIER1cmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIGFuY2hvciwgZHVyYXRpb24pIHtcbiAgY29uc3QgY3VycmVudFpvb20gPSB2aWV3LmdldFpvb20oKTtcblxuICBpZiAoY3VycmVudFpvb20gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG5ld1pvb20gPSB2aWV3LmdldENvbnN0cmFpbmVkWm9vbShjdXJyZW50Wm9vbSArIGRlbHRhKTtcbiAgY29uc3QgbmV3UmVzb2x1dGlvbiA9IHZpZXcuZ2V0UmVzb2x1dGlvbkZvclpvb20obmV3Wm9vbSk7XG5cbiAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICB2aWV3LmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgfVxuICB2aWV3LmFuaW1hdGUoe1xuICAgIHJlc29sdXRpb246IG5ld1Jlc29sdXRpb24sXG4gICAgYW5jaG9yOiBhbmNob3IsXG4gICAgZHVyYXRpb246IGR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBkdXJhdGlvbiA6IDI1MCxcbiAgICBlYXNpbmc6IGVhc2VPdXQsXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcmFjdGlvbjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9Eb3VibGVDbGlja1pvb21cbiAqL1xuaW1wb3J0IEludGVyYWN0aW9uLCB7em9vbUJ5RGVsdGF9IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IE1hcEJyb3dzZXJFdmVudFR5cGUgZnJvbSAnLi4vTWFwQnJvd3NlckV2ZW50VHlwZS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkdXJhdGlvbj0yNTBdIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2RlbHRhPTFdIFRoZSB6b29tIGRlbHRhIGFwcGxpZWQgb24gZWFjaCBkb3VibGUgY2xpY2suXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gem9vbSBieSBkb3VibGUtY2xpY2tpbmcgb24gdGhlIG1hcC5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgRG91YmxlQ2xpY2tab29tIGV4dGVuZHMgSW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kZWx0YV8gPSBvcHRpb25zLmRlbHRhID8gb3B0aW9ucy5kZWx0YSA6IDE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gKGlmIGl0IHdhcyBhXG4gICAqIGRvdWJsZWNsaWNrKSBhbmQgZXZlbnR1YWxseSB6b29tcyB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGBmYWxzZWAgdG8gc3RvcCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICovXG4gIGhhbmRsZUV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGxldCBzdG9wRXZlbnQgPSBmYWxzZTtcbiAgICBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5EQkxDTElDSykge1xuICAgICAgY29uc3QgYnJvd3NlckV2ZW50ID0gLyoqIEB0eXBlIHtNb3VzZUV2ZW50fSAqLyAoXG4gICAgICAgIG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50XG4gICAgICApO1xuICAgICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgIGNvbnN0IGFuY2hvciA9IG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlO1xuICAgICAgY29uc3QgZGVsdGEgPSBicm93c2VyRXZlbnQuc2hpZnRLZXkgPyAtdGhpcy5kZWx0YV8gOiB0aGlzLmRlbHRhXztcbiAgICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgem9vbUJ5RGVsdGEodmlldywgZGVsdGEsIGFuY2hvciwgdGhpcy5kdXJhdGlvbl8pO1xuICAgICAgYnJvd3NlckV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzdG9wRXZlbnQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gIXN0b3BFdmVudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEb3VibGVDbGlja1pvb207XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUG9pbnRlclxuICovXG5pbXBvcnQgSW50ZXJhY3Rpb24gZnJvbSAnLi9JbnRlcmFjdGlvbi5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBbaGFuZGxlRG93bkV2ZW50XVxuICogRnVuY3Rpb24gaGFuZGxpbmcgXCJkb3duXCIgZXZlbnRzLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWAgdGhlbiBhIGRyYWdcbiAqIHNlcXVlbmNlIGlzIHN0YXJ0ZWQuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTp2b2lkfSBbaGFuZGxlRHJhZ0V2ZW50XVxuICogRnVuY3Rpb24gaGFuZGxpbmcgXCJkcmFnXCIgZXZlbnRzLiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBcIm1vdmVcIiBldmVudHNcbiAqIGR1cmluZyBhIGRyYWcgc2VxdWVuY2UuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBbaGFuZGxlRXZlbnRdXG4gKiBNZXRob2QgY2FsbGVkIGJ5IHRoZSBtYXAgdG8gbm90aWZ5IHRoZSBpbnRlcmFjdGlvbiB0aGF0IGEgYnJvd3NlciBldmVudCB3YXNcbiAqIGRpc3BhdGNoZWQgdG8gdGhlIG1hcC4gVGhlIGZ1bmN0aW9uIG1heSByZXR1cm4gYGZhbHNlYCB0byBwcmV2ZW50IHRoZVxuICogcHJvcGFnYXRpb24gb2YgdGhlIGV2ZW50IHRvIG90aGVyIGludGVyYWN0aW9ucyBpbiB0aGUgbWFwJ3MgaW50ZXJhY3Rpb25zXG4gKiBjaGFpbi5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHQpOnZvaWR9IFtoYW5kbGVNb3ZlRXZlbnRdXG4gKiBGdW5jdGlvbiBoYW5kbGluZyBcIm1vdmVcIiBldmVudHMuIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIFwibW92ZVwiIGV2ZW50cy5cbiAqIFRoaXMgZnVuY3Rpb25zIGlzIGFsc28gY2FsbGVkIGR1cmluZyBhIGRyYWcgc2VxdWVuY2UsIHNvIGR1cmluZyBhIGRyYWdcbiAqIHNlcXVlbmNlIGJvdGggdGhlIGBoYW5kbGVEcmFnRXZlbnRgIGZ1bmN0aW9uIGFuZCB0aGlzIGZ1bmN0aW9uIGFyZSBjYWxsZWQuXG4gKiBJZiBgaGFuZGxlRG93bkV2ZW50YCBpcyBkZWZpbmVkIGFuZCBpdCByZXR1cm5zIHRydWUgdGhpcyBmdW5jdGlvbiB3aWxsIG5vdFxuICogYmUgY2FsbGVkIGR1cmluZyBhIGRyYWcgc2VxdWVuY2UuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTpib29sZWFufSBbaGFuZGxlVXBFdmVudF1cbiAqICBGdW5jdGlvbiBoYW5kbGluZyBcInVwXCIgZXZlbnRzLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBgZmFsc2VgIHRoZW4gdGhlXG4gKiBjdXJyZW50IGRyYWcgc2VxdWVuY2UgaXMgc3RvcHBlZC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24oYm9vbGVhbik6Ym9vbGVhbn0gW3N0b3BEb3duXVxuICogU2hvdWxkIHRoZSBkb3duIGV2ZW50IGJlIHByb3BhZ2F0ZWQgdG8gb3RoZXIgaW50ZXJhY3Rpb25zLCBvciBzaG91bGQgYmVcbiAqIHN0b3BwZWQ/XG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIHRoYXQgY2FsbHMgdXNlci1kZWZpbmVkIGZ1bmN0aW9ucyBvbiBgZG93bmAsIGBtb3ZlYCBhbmQgYHVwYFxuICogZXZlbnRzLiBUaGlzIGNsYXNzIGFsc28gbWFuYWdlcyBcImRyYWcgc2VxdWVuY2VzXCIuXG4gKlxuICogV2hlbiB0aGUgYGhhbmRsZURvd25FdmVudGAgdXNlciBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBhIGRyYWcgc2VxdWVuY2UgaXNcbiAqIHN0YXJ0ZWQuIER1cmluZyBhIGRyYWcgc2VxdWVuY2UgdGhlIGBoYW5kbGVEcmFnRXZlbnRgIHVzZXIgZnVuY3Rpb24gaXNcbiAqIGNhbGxlZCBvbiBgbW92ZWAgZXZlbnRzLiBUaGUgZHJhZyBzZXF1ZW5jZSBlbmRzIHdoZW4gdGhlIGBoYW5kbGVVcEV2ZW50YFxuICogdXNlciBmdW5jdGlvbiBpcyBjYWxsZWQgYW5kIHJldHVybnMgYGZhbHNlYC5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgUG9pbnRlckludGVyYWN0aW9uIGV4dGVuZHMgSW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIHN1cGVyKFxuICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0ludGVyYWN0aW9uLmpzXCIpLkludGVyYWN0aW9uT3B0aW9uc30gKi8gKG9wdGlvbnMpXG4gICAgKTtcblxuICAgIGlmIChvcHRpb25zLmhhbmRsZURvd25FdmVudCkge1xuICAgICAgdGhpcy5oYW5kbGVEb3duRXZlbnQgPSBvcHRpb25zLmhhbmRsZURvd25FdmVudDtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5oYW5kbGVEcmFnRXZlbnQpIHtcbiAgICAgIHRoaXMuaGFuZGxlRHJhZ0V2ZW50ID0gb3B0aW9ucy5oYW5kbGVEcmFnRXZlbnQ7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaGFuZGxlTW92ZUV2ZW50KSB7XG4gICAgICB0aGlzLmhhbmRsZU1vdmVFdmVudCA9IG9wdGlvbnMuaGFuZGxlTW92ZUV2ZW50O1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmhhbmRsZVVwRXZlbnQpIHtcbiAgICAgIHRoaXMuaGFuZGxlVXBFdmVudCA9IG9wdGlvbnMuaGFuZGxlVXBFdmVudDtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5zdG9wRG93bikge1xuICAgICAgdGhpcy5zdG9wRG93biA9IG9wdGlvbnMuc3RvcERvd247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PFBvaW50ZXJFdmVudD59XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0UG9pbnRlcnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IG51bWJlciBvZiBwb2ludGVycyBpbnZvbHZlZCBpbiB0aGUgaW50ZXJhY3Rpb24sXG4gICAqIGUuZy4gYDJgIHdoZW4gdHdvIGZpbmdlcnMgYXJlIHVzZWQuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG51bWJlciBvZiBwb2ludGVycy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UG9pbnRlckNvdW50KCkge1xuICAgIHJldHVybiB0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBoYW5kbGVEb3duRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIGRyYWcgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGhhbmRsZURyYWdFdmVudChtYXBCcm93c2VyRXZlbnQpIHt9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gYW5kIG1heSBjYWxsIGludG9cbiAgICogb3RoZXIgZnVuY3Rpb25zLCBpZiBldmVudCBzZXF1ZW5jZXMgbGlrZSBlLmcuICdkcmFnJyBvciAnZG93bi11cCcgZXRjLiBhcmVcbiAgICogZGV0ZWN0ZWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gYGZhbHNlYCB0byBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBoYW5kbGVFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoIW1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBsZXQgc3RvcEV2ZW50ID0gZmFsc2U7XG4gICAgdGhpcy51cGRhdGVUcmFja2VkUG9pbnRlcnNfKG1hcEJyb3dzZXJFdmVudCk7XG4gICAgaWYgKHRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSkge1xuICAgICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRSQUcpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVEcmFnRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgICAgLy8gcHJldmVudCBwYWdlIHNjcm9sbGluZyBkdXJpbmcgZHJhZ2dpbmdcbiAgICAgICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0gZWxzZSBpZiAobWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5QT0lOVEVSVVApIHtcbiAgICAgICAgY29uc3QgaGFuZGxlZFVwID0gdGhpcy5oYW5kbGVVcEV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgIHRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSA9XG4gICAgICAgICAgaGFuZGxlZFVwICYmIHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID4gMDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUkRPV04pIHtcbiAgICAgICAgY29uc3QgaGFuZGxlZCA9IHRoaXMuaGFuZGxlRG93bkV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgIHRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSA9IGhhbmRsZWQ7XG4gICAgICAgIHN0b3BFdmVudCA9IHRoaXMuc3RvcERvd24oaGFuZGxlZCk7XG4gICAgICB9IGVsc2UgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IE1hcEJyb3dzZXJFdmVudFR5cGUuUE9JTlRFUk1PVkUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVNb3ZlRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICFzdG9wRXZlbnQ7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgbW92ZSBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgaGFuZGxlTW92ZUV2ZW50KG1hcEJyb3dzZXJFdmVudCkge31cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGhhbmRsZVVwRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBkZXRlcm1pbmUgaWYgXCJkb3duXCIgZXZlbnRzIHNob3VsZCBiZSBwcm9wYWdhdGVkXG4gICAqIHRvIG90aGVyIGludGVyYWN0aW9ucyBvciBzaG91bGQgYmUgc3RvcHBlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBoYW5kbGVkIFdhcyB0aGUgZXZlbnQgaGFuZGxlZCBieSB0aGUgaW50ZXJhY3Rpb24/XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFNob3VsZCB0aGUgYGRvd25gIGV2ZW50IGJlIHN0b3BwZWQ/XG4gICAqL1xuICBzdG9wRG93bihoYW5kbGVkKSB7XG4gICAgcmV0dXJuIGhhbmRsZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdXBkYXRlVHJhY2tlZFBvaW50ZXJzXyhtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAobWFwQnJvd3NlckV2ZW50LmFjdGl2ZVBvaW50ZXJzKSB7XG4gICAgICB0aGlzLnRhcmdldFBvaW50ZXJzID0gbWFwQnJvd3NlckV2ZW50LmFjdGl2ZVBvaW50ZXJzO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8UG9pbnRlckV2ZW50Pn0gcG9pbnRlckV2ZW50cyBMaXN0IG9mIGV2ZW50cy5cbiAqIEByZXR1cm4ge3tjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcn19IENlbnRyb2lkIHBpeGVsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VudHJvaWQocG9pbnRlckV2ZW50cykge1xuICBjb25zdCBsZW5ndGggPSBwb2ludGVyRXZlbnRzLmxlbmd0aDtcbiAgbGV0IGNsaWVudFggPSAwO1xuICBsZXQgY2xpZW50WSA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjbGllbnRYICs9IHBvaW50ZXJFdmVudHNbaV0uY2xpZW50WDtcbiAgICBjbGllbnRZICs9IHBvaW50ZXJFdmVudHNbaV0uY2xpZW50WTtcbiAgfVxuICByZXR1cm4ge2NsaWVudFg6IGNsaWVudFggLyBsZW5ndGgsIGNsaWVudFk6IGNsaWVudFkgLyBsZW5ndGh9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBQb2ludGVySW50ZXJhY3Rpb247XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL2NvbmRpdGlvblxuICovXG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuLi9NYXBCcm93c2VyRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7RkFMU0UsIFRSVUV9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge01BQywgV0VCS0lUfSBmcm9tICcuLi9oYXMuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGB7Ym9vbGVhbn1gLiBJZiB0aGUgY29uZGl0aW9uIGlzIG1ldCwgdHJ1ZSBzaG91bGQgYmUgcmV0dXJuZWQuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKHRoaXM6ID8sIGltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gQ29uZGl0aW9uXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgY29uZGl0aW9uIGZ1bmN0aW9uIHRoYXQgcGFzc2VzIHdoZW4gYWxsIHByb3ZpZGVkIGNvbmRpdGlvbnMgcGFzcy5cbiAqIEBwYXJhbSB7Li4uQ29uZGl0aW9ufSB2YXJfYXJncyBDb25kaXRpb25zIHRvIGNoZWNrLlxuICogQHJldHVybiB7Q29uZGl0aW9ufSBDb25kaXRpb24gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbGwodmFyX2FyZ3MpIHtcbiAgY29uc3QgY29uZGl0aW9ucyA9IGFyZ3VtZW50cztcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBBbGwgY29uZGl0aW9ucyBwYXNzZWQuXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgbGV0IHBhc3MgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGNvbmRpdGlvbnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgcGFzcyA9IHBhc3MgJiYgY29uZGl0aW9uc1tpXShldmVudCk7XG4gICAgICBpZiAoIXBhc3MpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXNzO1xuICB9O1xufVxuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgb25seSB0aGUgYWx0LWtleSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZSAoZS5nLiB3aGVuXG4gKiBhZGRpdGlvbmFsbHkgdGhlIHNoaWZ0LWtleSBpcyBwcmVzc2VkKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG9ubHkgdGhlIGFsdCBrZXkgaXMgcHJlc3NlZC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IGFsdEtleU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIGNvbnN0IG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAoXG4gICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgKTtcbiAgcmV0dXJuIChcbiAgICBvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICEob3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IG9yaWdpbmFsRXZlbnQuY3RybEtleSkgJiZcbiAgICAhb3JpZ2luYWxFdmVudC5zaGlmdEtleVxuICApO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIG9ubHkgdGhlIGFsdC1rZXkgYW5kIHNoaWZ0LWtleSBpcyBwcmVzc2VkLCBgZmFsc2VgIG90aGVyd2lzZVxuICogKGUuZy4gd2hlbiBhZGRpdGlvbmFsbHkgdGhlIHBsYXRmb3JtLW1vZGlmaWVyLWtleSBpcyBwcmVzc2VkKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG9ubHkgdGhlIGFsdCBhbmQgc2hpZnQga2V5cyBhcmUgcHJlc3NlZC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IGFsdFNoaWZ0S2V5c09ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIGNvbnN0IG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAoXG4gICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgKTtcbiAgcmV0dXJuIChcbiAgICBvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgICEob3JpZ2luYWxFdmVudC5tZXRhS2V5IHx8IG9yaWdpbmFsRXZlbnQuY3RybEtleSkgJiZcbiAgICBvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5XG4gICk7XG59O1xuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIG1hcCBoYXMgdGhlIGZvY3VzLiBUaGlzIGNvbmRpdGlvbiByZXF1aXJlcyBhIG1hcCB0YXJnZXRcbiAqIGVsZW1lbnQgd2l0aCBhIGB0YWJpbmRleGAgYXR0cmlidXRlLCBlLmcuIGA8ZGl2IGlkPVwibWFwXCIgdGFiaW5kZXg9XCIxXCI+YC5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBtYXAgaGFzIHRoZSBmb2N1cy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IGZvY3VzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBldmVudC5tYXAuZ2V0VGFyZ2V0RWxlbWVudCgpO1xuICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZXZlbnQubWFwLmdldE93bmVyRG9jdW1lbnQoKS5hY3RpdmVFbGVtZW50O1xuICByZXR1cm4gdGFyZ2V0RWxlbWVudC5jb250YWlucyhhY3RpdmVFbGVtZW50KTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgbWFwIGhhcyB0aGUgZm9jdXMgb3Igbm8gJ3RhYmluZGV4JyBhdHRyaWJ1dGUgc2V0LlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IGV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIG1hcCBjb250YWluZXIgaGFzIHRoZSBmb2N1cyBvciBubyAndGFiaW5kZXgnIGF0dHJpYnV0ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGZvY3VzV2l0aFRhYmluZGV4ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHJldHVybiBldmVudC5tYXAuZ2V0VGFyZ2V0RWxlbWVudCgpLmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKVxuICAgID8gZm9jdXMoZXZlbnQpXG4gICAgOiB0cnVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYWx3YXlzIHRydWUuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IGFsd2F5cyA9IFRSVUU7XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaXMgYSBgY2xpY2tgIGV2ZW50LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBhIG1hcCBgY2xpY2tgIGV2ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgY2xpY2sgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIHJldHVybiBtYXBCcm93c2VyRXZlbnQudHlwZSA9PSBNYXBCcm93c2VyRXZlbnRUeXBlLkNMSUNLO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBoYXMgYW4gXCJhY3Rpb25cIi1wcm9kdWNpbmcgbW91c2UgYnV0dG9uLlxuICpcbiAqIEJ5IGRlZmluaXRpb24sIHRoaXMgaW5jbHVkZXMgbGVmdC1jbGljayBvbiB3aW5kb3dzL2xpbnV4LCBhbmQgbGVmdC1jbGlja1xuICogd2l0aG91dCB0aGUgY3RybCBrZXkgb24gTWFjcy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgcmVzdWx0LlxuICovXG5leHBvcnQgY29uc3QgbW91c2VBY3Rpb25CdXR0b24gPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIGNvbnN0IG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge01vdXNlRXZlbnR9ICovIChcbiAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICApO1xuICByZXR1cm4gb3JpZ2luYWxFdmVudC5idXR0b24gPT0gMCAmJiAhKFdFQktJVCAmJiBNQUMgJiYgb3JpZ2luYWxFdmVudC5jdHJsS2V5KTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGFsd2F5cyBmYWxzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBGYWxzZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IG5ldmVyID0gRkFMU0U7XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgYnJvd3NlciBldmVudCBpcyBhIGBwb2ludGVybW92ZWAgZXZlbnQsIGBmYWxzZWBcbiAqIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBicm93c2VyIGV2ZW50IGlzIGEgYHBvaW50ZXJtb3ZlYCBldmVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IHBvaW50ZXJNb3ZlID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICByZXR1cm4gbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gJ3BvaW50ZXJtb3ZlJztcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaXMgYSBtYXAgYHNpbmdsZWNsaWNrYCBldmVudCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgaXMgYSBtYXAgYHNpbmdsZWNsaWNrYCBldmVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IHNpbmdsZUNsaWNrID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICByZXR1cm4gbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5TSU5HTEVDTElDSztcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgaXMgYSBtYXAgYGRibGNsaWNrYCBldmVudCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgaXMgYSBtYXAgYGRibGNsaWNrYCBldmVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGNvbnN0IGRvdWJsZUNsaWNrID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICByZXR1cm4gbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gTWFwQnJvd3NlckV2ZW50VHlwZS5EQkxDTElDSztcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiBubyBtb2RpZmllciBrZXkgKGFsdC0sIHNoaWZ0LSBvciBwbGF0Zm9ybS1tb2RpZmllci1rZXkpIGlzXG4gKiBwcmVzc2VkLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgb25seSBpZiB0aGVyZSBubyBtb2RpZmllciBrZXlzIGFyZSBwcmVzc2VkLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3Qgbm9Nb2RpZmllcktleXMgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIGNvbnN0IG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAoXG4gICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgKTtcbiAgcmV0dXJuIChcbiAgICAhb3JpZ2luYWxFdmVudC5hbHRLZXkgJiZcbiAgICAhKG9yaWdpbmFsRXZlbnQubWV0YUtleSB8fCBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpICYmXG4gICAgIW9yaWdpbmFsRXZlbnQuc2hpZnRLZXlcbiAgKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiBvbmx5IHRoZSBwbGF0Zm9ybS1tb2RpZmllci1rZXkgKHRoZSBtZXRhLWtleSBvbiBNYWMsXG4gKiBjdHJsLWtleSBvdGhlcndpc2UpIGlzIHByZXNzZWQsIGBmYWxzZWAgb3RoZXJ3aXNlIChlLmcuIHdoZW4gYWRkaXRpb25hbGx5XG4gKiB0aGUgc2hpZnQta2V5IGlzIHByZXNzZWQpLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgb25seSB0aGUgcGxhdGZvcm0gbW9kaWZpZXIga2V5IGlzIHByZXNzZWQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCBwbGF0Zm9ybU1vZGlmaWVyS2V5T25seSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudHxNb3VzZUV2ZW50fFRvdWNoRXZlbnR9ICovIChcbiAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICApO1xuICByZXR1cm4gKFxuICAgICFvcmlnaW5hbEV2ZW50LmFsdEtleSAmJlxuICAgIChNQUMgPyBvcmlnaW5hbEV2ZW50Lm1ldGFLZXkgOiBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpICYmXG4gICAgIW9yaWdpbmFsRXZlbnQuc2hpZnRLZXlcbiAgKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiBvbmx5IHRoZSBzaGlmdC1rZXkgaXMgcHJlc3NlZCwgYGZhbHNlYCBvdGhlcndpc2UgKGUuZy4gd2hlblxuICogYWRkaXRpb25hbGx5IHRoZSBhbHQta2V5IGlzIHByZXNzZWQpLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgb25seSB0aGUgc2hpZnQga2V5IGlzIHByZXNzZWQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBjb25zdCBzaGlmdEtleU9ubHkgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIGNvbnN0IG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAoXG4gICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgKTtcbiAgcmV0dXJuIChcbiAgICAhb3JpZ2luYWxFdmVudC5hbHRLZXkgJiZcbiAgICAhKG9yaWdpbmFsRXZlbnQubWV0YUtleSB8fCBvcmlnaW5hbEV2ZW50LmN0cmxLZXkpICYmXG4gICAgb3JpZ2luYWxFdmVudC5zaGlmdEtleVxuICApO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBub3QgZWRpdGFibGUsIGkuZS4gbm90IGFuIGBpbnB1dGAsXG4gKiBgc2VsZWN0YCwgb3IgYHRleHRhcmVhYCBlbGVtZW50IGFuZCBubyBgY29udGVudGVkaXRhYmxlYCBhdHRyaWJ1dGUgaXNcbiAqIHNldCBvciBpbmhlcml0ZWQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgb25seSBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgbm90IGVkaXRhYmxlLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgdGFyZ2V0Tm90RWRpdGFibGUgPSBmdW5jdGlvbiAobWFwQnJvd3NlckV2ZW50KSB7XG4gIGNvbnN0IG9yaWdpbmFsRXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR8TW91c2VFdmVudHxUb3VjaEV2ZW50fSAqLyAoXG4gICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgKTtcbiAgY29uc3QgdGFnTmFtZSA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKG9yaWdpbmFsRXZlbnQudGFyZ2V0KS50YWdOYW1lO1xuICByZXR1cm4gKFxuICAgIHRhZ05hbWUgIT09ICdJTlBVVCcgJiZcbiAgICB0YWdOYW1lICE9PSAnU0VMRUNUJyAmJlxuICAgIHRhZ05hbWUgIT09ICdURVhUQVJFQScgJiZcbiAgICAvLyBgaXNDb250ZW50RWRpdGFibGVgIGlzIG9ubHkgYXZhaWxhYmxlIG9uIGBIVE1MRWxlbWVudGAsIGJ1dCBpdCBtYXkgYWxzbyBiZSBhXG4gICAgLy8gZGlmZmVyZW50IHR5cGUgbGlrZSBgU1ZHRWxlbWVudGAuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgICFvcmlnaW5hbEV2ZW50LnRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZVxuICApO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYHRydWVgIGlmIHRoZSBldmVudCBvcmlnaW5hdGVzIGZyb20gYSBtb3VzZSBkZXZpY2UuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgbW91c2UgZGV2aWNlLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgbW91c2VPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICBjb25zdCBwb2ludGVyRXZlbnQgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudFwiKS5kZWZhdWx0fSAqLyAoXG4gICAgbWFwQnJvd3NlckV2ZW50XG4gICkub3JpZ2luYWxFdmVudDtcbiAgYXNzZXJ0KHBvaW50ZXJFdmVudCAhPT0gdW5kZWZpbmVkLCA1Nik7IC8vIG1hcEJyb3dzZXJFdmVudCBtdXN0IG9yaWdpbmF0ZSBmcm9tIGEgcG9pbnRlciBldmVudFxuICAvLyBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL3BvaW50ZXJldmVudHMvI3dpZGwtUG9pbnRlckV2ZW50LXBvaW50ZXJUeXBlXG4gIHJldHVybiBwb2ludGVyRXZlbnQucG9pbnRlclR5cGUgPT0gJ21vdXNlJztcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgdG91Y2hhYmxlIGRldmljZS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgTWFwIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBvcmlnaW5hdGVzIGZyb20gYSB0b3VjaGFibGUgZGV2aWNlLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgdG91Y2hPbmx5ID0gZnVuY3Rpb24gKG1hcEJyb3dzZXJFdmVudCkge1xuICBjb25zdCBwb2ludGVyRXZ0ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnRcIikuZGVmYXVsdH0gKi8gKFxuICAgIG1hcEJyb3dzZXJFdmVudFxuICApLm9yaWdpbmFsRXZlbnQ7XG4gIGFzc2VydChwb2ludGVyRXZ0ICE9PSB1bmRlZmluZWQsIDU2KTsgLy8gbWFwQnJvd3NlckV2ZW50IG11c3Qgb3JpZ2luYXRlIGZyb20gYSBwb2ludGVyIGV2ZW50XG4gIC8vIHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy8jd2lkbC1Qb2ludGVyRXZlbnQtcG9pbnRlclR5cGVcbiAgcmV0dXJuIHBvaW50ZXJFdnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG59O1xuXG4vKipcbiAqIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIGRpZ2l0YWwgcGVuLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBNYXAgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IG9yaWdpbmF0ZXMgZnJvbSBhIGRpZ2l0YWwgcGVuLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgcGVuT25seSA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgY29uc3QgcG9pbnRlckV2dCA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50XCIpLmRlZmF1bHR9ICovIChcbiAgICBtYXBCcm93c2VyRXZlbnRcbiAgKS5vcmlnaW5hbEV2ZW50O1xuICBhc3NlcnQocG9pbnRlckV2dCAhPT0gdW5kZWZpbmVkLCA1Nik7IC8vIG1hcEJyb3dzZXJFdmVudCBtdXN0IG9yaWdpbmF0ZSBmcm9tIGEgcG9pbnRlciBldmVudFxuICAvLyBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL3BvaW50ZXJldmVudHMvI3dpZGwtUG9pbnRlckV2ZW50LXBvaW50ZXJUeXBlXG4gIHJldHVybiBwb2ludGVyRXZ0LnBvaW50ZXJUeXBlID09PSAncGVuJztcbn07XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgcHJpbWFyeSBwb2ludGVyIGluXG4gKiBjb250YWN0IHdpdGggdGhlIHN1cmZhY2Ugb3IgaWYgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGlzIHByZXNzZWQuXG4gKiBTZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL3BvaW50ZXJldmVudHMvI2J1dHRvbi1zdGF0ZXMuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgb3JpZ2luYXRlcyBmcm9tIGEgcHJpbWFyeSBwb2ludGVyLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgcHJpbWFyeUFjdGlvbiA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgY29uc3QgcG9pbnRlckV2ZW50ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnRcIikuZGVmYXVsdH0gKi8gKFxuICAgIG1hcEJyb3dzZXJFdmVudFxuICApLm9yaWdpbmFsRXZlbnQ7XG4gIGFzc2VydChwb2ludGVyRXZlbnQgIT09IHVuZGVmaW5lZCwgNTYpOyAvLyBtYXBCcm93c2VyRXZlbnQgbXVzdCBvcmlnaW5hdGUgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgcmV0dXJuIHBvaW50ZXJFdmVudC5pc1ByaW1hcnkgJiYgcG9pbnRlckV2ZW50LmJ1dHRvbiA9PT0gMDtcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vRHJhZ1BhblxuICovXG5pbXBvcnQgUG9pbnRlckludGVyYWN0aW9uLCB7XG4gIGNlbnRyb2lkIGFzIGNlbnRyb2lkRnJvbVBvaW50ZXJzLFxufSBmcm9tICcuL1BvaW50ZXIuanMnO1xuaW1wb3J0IHtGQUxTRX0gZnJvbSAnLi4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7XG4gIGFsbCxcbiAgZm9jdXNXaXRoVGFiaW5kZXgsXG4gIG5vTW9kaWZpZXJLZXlzLFxuICBwcmltYXJ5QWN0aW9uLFxufSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbmltcG9ydCB7ZWFzZU91dH0gZnJvbSAnLi4vZWFzaW5nLmpzJztcbmltcG9ydCB7XG4gIHJvdGF0ZSBhcyByb3RhdGVDb29yZGluYXRlLFxuICBzY2FsZSBhcyBzY2FsZUNvb3JkaW5hdGUsXG59IGZyb20gJy4uL2Nvb3JkaW5hdGUuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGEgYm9vbGVhblxuICogdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24ubm9Nb2RpZmllcktleXN9IGFuZCB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24ucHJpbWFyeUFjdGlvbn0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvbkZvY3VzT25seT1mYWxzZV0gV2hlbiB0aGUgbWFwJ3MgdGFyZ2V0IGhhcyBhIGB0YWJpbmRleGAgYXR0cmlidXRlIHNldCxcbiAqIHRoZSBpbnRlcmFjdGlvbiB3aWxsIG9ubHkgaGFuZGxlIGV2ZW50cyB3aGVuIHRoZSBtYXAgaGFzIHRoZSBmb2N1cy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vS2luZXRpYy5qc1wiKS5kZWZhdWx0fSBba2luZXRpY10gS2luZXRpYyBpbmVydGlhIHRvIGFwcGx5IHRvIHRoZSBwYW4uXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcGFuIHRoZSBtYXAgYnkgZHJhZ2dpbmcgdGhlIG1hcC5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgRHJhZ1BhbiBleHRlbmRzIFBvaW50ZXJJbnRlcmFjdGlvbiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKHtcbiAgICAgIHN0b3BEb3duOiBGQUxTRSxcbiAgICB9KTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vS2luZXRpYy5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmtpbmV0aWNfID0gb3B0aW9ucy5raW5ldGljO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAqL1xuICAgIHRoaXMubGFzdENlbnRyb2lkID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sYXN0UG9pbnRlcnNDb3VudF87XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnBhbm5pbmdfID0gZmFsc2U7XG5cbiAgICBjb25zdCBjb25kaXRpb24gPSBvcHRpb25zLmNvbmRpdGlvblxuICAgICAgPyBvcHRpb25zLmNvbmRpdGlvblxuICAgICAgOiBhbGwobm9Nb2RpZmllcktleXMsIHByaW1hcnlBY3Rpb24pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICovXG4gICAgdGhpcy5jb25kaXRpb25fID0gb3B0aW9ucy5vbkZvY3VzT25seVxuICAgICAgPyBhbGwoZm9jdXNXaXRoVGFiaW5kZXgsIGNvbmRpdGlvbilcbiAgICAgIDogY29uZGl0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm5vS2luZXRpY18gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBkcmFnIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKi9cbiAgaGFuZGxlRHJhZ0V2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgaWYgKCF0aGlzLnBhbm5pbmdfKSB7XG4gICAgICB0aGlzLnBhbm5pbmdfID0gdHJ1ZTtcbiAgICAgIG1hcC5nZXRWaWV3KCkuYmVnaW5JbnRlcmFjdGlvbigpO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXRQb2ludGVycyA9IHRoaXMudGFyZ2V0UG9pbnRlcnM7XG4gICAgY29uc3QgY2VudHJvaWQgPSBtYXAuZ2V0RXZlbnRQaXhlbChjZW50cm9pZEZyb21Qb2ludGVycyh0YXJnZXRQb2ludGVycykpO1xuICAgIGlmICh0YXJnZXRQb2ludGVycy5sZW5ndGggPT0gdGhpcy5sYXN0UG9pbnRlcnNDb3VudF8pIHtcbiAgICAgIGlmICh0aGlzLmtpbmV0aWNfKSB7XG4gICAgICAgIHRoaXMua2luZXRpY18udXBkYXRlKGNlbnRyb2lkWzBdLCBjZW50cm9pZFsxXSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5sYXN0Q2VudHJvaWQpIHtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBbXG4gICAgICAgICAgdGhpcy5sYXN0Q2VudHJvaWRbMF0gLSBjZW50cm9pZFswXSxcbiAgICAgICAgICBjZW50cm9pZFsxXSAtIHRoaXMubGFzdENlbnRyb2lkWzFdLFxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgc2NhbGVDb29yZGluYXRlKGRlbHRhLCB2aWV3LmdldFJlc29sdXRpb24oKSk7XG4gICAgICAgIHJvdGF0ZUNvb3JkaW5hdGUoZGVsdGEsIHZpZXcuZ2V0Um90YXRpb24oKSk7XG4gICAgICAgIHZpZXcuYWRqdXN0Q2VudGVySW50ZXJuYWwoZGVsdGEpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5raW5ldGljXykge1xuICAgICAgLy8gcmVzZXQgc28gd2UgZG9uJ3Qgb3ZlcmVzdGltYXRlIHRoZSBraW5ldGljIGVuZXJneSBhZnRlclxuICAgICAgLy8gYWZ0ZXIgb25lIGZpbmdlciBkb3duLCB0aW55IGRyYWcsIHNlY29uZCBmaW5nZXIgZG93blxuICAgICAgdGhpcy5raW5ldGljXy5iZWdpbigpO1xuICAgIH1cbiAgICB0aGlzLmxhc3RDZW50cm9pZCA9IGNlbnRyb2lkO1xuICAgIHRoaXMubGFzdFBvaW50ZXJzQ291bnRfID0gdGFyZ2V0UG9pbnRlcnMubGVuZ3RoO1xuICAgIG1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgdXAgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAqL1xuICBoYW5kbGVVcEV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgY29uc3QgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAoIXRoaXMubm9LaW5ldGljXyAmJiB0aGlzLmtpbmV0aWNfICYmIHRoaXMua2luZXRpY18uZW5kKCkpIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLmtpbmV0aWNfLmdldERpc3RhbmNlKCk7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gdGhpcy5raW5ldGljXy5nZXRBbmdsZSgpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB2aWV3LmdldENlbnRlckludGVybmFsKCk7XG4gICAgICAgIGNvbnN0IGNlbnRlcnB4ID0gbWFwLmdldFBpeGVsRnJvbUNvb3JkaW5hdGVJbnRlcm5hbChjZW50ZXIpO1xuICAgICAgICBjb25zdCBkZXN0ID0gbWFwLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChbXG4gICAgICAgICAgY2VudGVycHhbMF0gLSBkaXN0YW5jZSAqIE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICBjZW50ZXJweFsxXSAtIGRpc3RhbmNlICogTWF0aC5zaW4oYW5nbGUpLFxuICAgICAgICBdKTtcbiAgICAgICAgdmlldy5hbmltYXRlSW50ZXJuYWwoe1xuICAgICAgICAgIGNlbnRlcjogdmlldy5nZXRDb25zdHJhaW5lZENlbnRlcihkZXN0KSxcbiAgICAgICAgICBkdXJhdGlvbjogNTAwLFxuICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wYW5uaW5nXykge1xuICAgICAgICB0aGlzLnBhbm5pbmdfID0gZmFsc2U7XG4gICAgICAgIHZpZXcuZW5kSW50ZXJhY3Rpb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMua2luZXRpY18pIHtcbiAgICAgIC8vIHJlc2V0IHNvIHdlIGRvbid0IG92ZXJlc3RpbWF0ZSB0aGUga2luZXRpYyBlbmVyZ3kgYWZ0ZXJcbiAgICAgIC8vIGFmdGVyIG9uZSBmaW5nZXIgdXAsIHRpbnkgZHJhZywgc2Vjb25kIGZpbmdlciB1cFxuICAgICAgdGhpcy5raW5ldGljXy5iZWdpbigpO1xuICAgIH1cbiAgICB0aGlzLmxhc3RDZW50cm9pZCA9IG51bGw7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgZG93biBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICovXG4gIGhhbmRsZURvd25FdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPiAwICYmIHRoaXMuY29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgY29uc3QgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICB0aGlzLmxhc3RDZW50cm9pZCA9IG51bGw7XG4gICAgICAvLyBzdG9wIGFueSBjdXJyZW50IGFuaW1hdGlvblxuICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5raW5ldGljXykge1xuICAgICAgICB0aGlzLmtpbmV0aWNfLmJlZ2luKCk7XG4gICAgICB9XG4gICAgICAvLyBObyBraW5ldGljIGFzIHNvb24gYXMgbW9yZSB0aGFuIG9uZSBwb2ludGVyIG9uIHRoZSBzY3JlZW4gaXNcbiAgICAgIC8vIGRldGVjdGVkLiBUaGlzIGlzIHRvIHByZXZlbnQgbmFzdHkgcGFucyBhZnRlciBwaW5jaC5cbiAgICAgIHRoaXMubm9LaW5ldGljXyA9IHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID4gMTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRHJhZ1BhbjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnUm90YXRlXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24gZnJvbSAnLi9Qb2ludGVyLmpzJztcbmltcG9ydCB7RkFMU0V9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge1xuICBhbHRTaGlmdEtleXNPbmx5LFxuICBtb3VzZUFjdGlvbkJ1dHRvbixcbiAgbW91c2VPbmx5LFxufSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbmltcG9ydCB7ZGlzYWJsZX0gZnJvbSAnLi4vcm90YXRpb25jb25zdHJhaW50LmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufSBbY29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW5cbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0gYW5kIHJldHVybnMgYSBib29sZWFuXG4gKiB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoYXQgZXZlbnQgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbi5hbHRTaGlmdEtleXNPbmx5fS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHJvdGF0ZSB0aGUgbWFwIGJ5IGNsaWNraW5nIGFuZCBkcmFnZ2luZyBvbiB0aGUgbWFwLFxuICogbm9ybWFsbHkgY29tYmluZWQgd2l0aCBhbiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb259IHRoYXQgbGltaXRzXG4gKiBpdCB0byB3aGVuIHRoZSBhbHQgYW5kIHNoaWZ0IGtleXMgYXJlIGhlbGQgZG93bi5cbiAqXG4gKiBUaGlzIGludGVyYWN0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBtb3VzZSBkZXZpY2VzLlxuICogQGFwaVxuICovXG5jbGFzcyBEcmFnUm90YXRlIGV4dGVuZHMgUG9pbnRlckludGVyYWN0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICBzdXBlcih7XG4gICAgICBzdG9wRG93bjogRkFMU0UsXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbmRpdGlvbl8gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogYWx0U2hpZnRLZXlzT25seTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5sYXN0QW5nbGVfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZHVyYXRpb25fID0gb3B0aW9ucy5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kdXJhdGlvbiA6IDI1MDtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBkcmFnIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKi9cbiAgaGFuZGxlRHJhZ0V2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICghbW91c2VPbmx5KG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIGlmICh2aWV3LmdldENvbnN0cmFpbnRzKCkucm90YXRpb24gPT09IGRpc2FibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2l6ZSA9IG1hcC5nZXRTaXplKCk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gbWFwQnJvd3NlckV2ZW50LnBpeGVsO1xuICAgIGNvbnN0IHRoZXRhID0gTWF0aC5hdGFuMihzaXplWzFdIC8gMiAtIG9mZnNldFsxXSwgb2Zmc2V0WzBdIC0gc2l6ZVswXSAvIDIpO1xuICAgIGlmICh0aGlzLmxhc3RBbmdsZV8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgZGVsdGEgPSB0aGV0YSAtIHRoaXMubGFzdEFuZ2xlXztcbiAgICAgIHZpZXcuYWRqdXN0Um90YXRpb25JbnRlcm5hbCgtZGVsdGEpO1xuICAgIH1cbiAgICB0aGlzLmxhc3RBbmdsZV8gPSB0aGV0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciB1cCBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICovXG4gIGhhbmRsZVVwRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKCFtb3VzZU9ubHkobWFwQnJvd3NlckV2ZW50KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICB2aWV3LmVuZEludGVyYWN0aW9uKHRoaXMuZHVyYXRpb25fKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgZG93biBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICovXG4gIGhhbmRsZURvd25FdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoIW1vdXNlT25seShtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgbW91c2VBY3Rpb25CdXR0b24obWFwQnJvd3NlckV2ZW50KSAmJlxuICAgICAgdGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudClcbiAgICApIHtcbiAgICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICBtYXAuZ2V0VmlldygpLmJlZ2luSW50ZXJhY3Rpb24oKTtcbiAgICAgIHRoaXMubGFzdEFuZ2xlXyA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRHJhZ1JvdGF0ZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvQm94XG4gKi9cblxuaW1wb3J0IERpc3Bvc2FibGUgZnJvbSAnLi4vRGlzcG9zYWJsZS5qcyc7XG5pbXBvcnQgUG9seWdvbiBmcm9tICcuLi9nZW9tL1BvbHlnb24uanMnO1xuXG5jbGFzcyBSZW5kZXJCb3ggZXh0ZW5kcyBEaXNwb3NhYmxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgQ1NTIGNsYXNzIG5hbWUuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjbGFzc05hbWUpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5nZW9tZXRyeV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0hUTUxEaXZFbGVtZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5lbGVtZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZWxlbWVudF8uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuZWxlbWVudF8uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICB0aGlzLmVsZW1lbnRfLmNsYXNzTmFtZSA9ICdvbC1ib3ggJyArIGNsYXNzTmFtZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9XG4gICAgICovXG4gICAgdGhpcy5tYXBfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsfVxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRQaXhlbF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9XG4gICAgICovXG4gICAgdGhpcy5lbmRQaXhlbF8gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwLlxuICAgKi9cbiAgZGlzcG9zZUludGVybmFsKCkge1xuICAgIHRoaXMuc2V0TWFwKG51bGwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZW5kZXJfKCkge1xuICAgIGNvbnN0IHN0YXJ0UGl4ZWwgPSB0aGlzLnN0YXJ0UGl4ZWxfO1xuICAgIGNvbnN0IGVuZFBpeGVsID0gdGhpcy5lbmRQaXhlbF87XG4gICAgY29uc3QgcHggPSAncHgnO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5lbGVtZW50Xy5zdHlsZTtcbiAgICBzdHlsZS5sZWZ0ID0gTWF0aC5taW4oc3RhcnRQaXhlbFswXSwgZW5kUGl4ZWxbMF0pICsgcHg7XG4gICAgc3R5bGUudG9wID0gTWF0aC5taW4oc3RhcnRQaXhlbFsxXSwgZW5kUGl4ZWxbMV0pICsgcHg7XG4gICAgc3R5bGUud2lkdGggPSBNYXRoLmFicyhlbmRQaXhlbFswXSAtIHN0YXJ0UGl4ZWxbMF0pICsgcHg7XG4gICAgc3R5bGUuaGVpZ2h0ID0gTWF0aC5hYnMoZW5kUGl4ZWxbMV0gLSBzdGFydFBpeGVsWzFdKSArIHB4O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR8bnVsbH0gbWFwIE1hcC5cbiAgICovXG4gIHNldE1hcChtYXApIHtcbiAgICBpZiAodGhpcy5tYXBfKSB7XG4gICAgICB0aGlzLm1hcF8uZ2V0T3ZlcmxheUNvbnRhaW5lcigpLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudF8pO1xuICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmVsZW1lbnRfLnN0eWxlO1xuICAgICAgc3R5bGUubGVmdCA9ICdpbmhlcml0JztcbiAgICAgIHN0eWxlLnRvcCA9ICdpbmhlcml0JztcbiAgICAgIHN0eWxlLndpZHRoID0gJ2luaGVyaXQnO1xuICAgICAgc3R5bGUuaGVpZ2h0ID0gJ2luaGVyaXQnO1xuICAgIH1cbiAgICB0aGlzLm1hcF8gPSBtYXA7XG4gICAgaWYgKHRoaXMubWFwXykge1xuICAgICAgdGhpcy5tYXBfLmdldE92ZXJsYXlDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRfKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gc3RhcnRQaXhlbCBTdGFydCBwaXhlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gZW5kUGl4ZWwgRW5kIHBpeGVsLlxuICAgKi9cbiAgc2V0UGl4ZWxzKHN0YXJ0UGl4ZWwsIGVuZFBpeGVsKSB7XG4gICAgdGhpcy5zdGFydFBpeGVsXyA9IHN0YXJ0UGl4ZWw7XG4gICAgdGhpcy5lbmRQaXhlbF8gPSBlbmRQaXhlbDtcbiAgICB0aGlzLmNyZWF0ZU9yVXBkYXRlR2VvbWV0cnkoKTtcbiAgICB0aGlzLnJlbmRlcl8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIG9yIHVwZGF0ZXMgdGhlIGNhY2hlZCBnZW9tZXRyeS5cbiAgICovXG4gIGNyZWF0ZU9yVXBkYXRlR2VvbWV0cnkoKSB7XG4gICAgY29uc3Qgc3RhcnRQaXhlbCA9IHRoaXMuc3RhcnRQaXhlbF87XG4gICAgY29uc3QgZW5kUGl4ZWwgPSB0aGlzLmVuZFBpeGVsXztcbiAgICBjb25zdCBwaXhlbHMgPSBbXG4gICAgICBzdGFydFBpeGVsLFxuICAgICAgW3N0YXJ0UGl4ZWxbMF0sIGVuZFBpeGVsWzFdXSxcbiAgICAgIGVuZFBpeGVsLFxuICAgICAgW2VuZFBpeGVsWzBdLCBzdGFydFBpeGVsWzFdXSxcbiAgICBdO1xuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gcGl4ZWxzLm1hcChcbiAgICAgIHRoaXMubWFwXy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwsXG4gICAgICB0aGlzLm1hcF9cbiAgICApO1xuICAgIC8vIGNsb3NlIHRoZSBwb2x5Z29uXG4gICAgY29vcmRpbmF0ZXNbNF0gPSBjb29yZGluYXRlc1swXS5zbGljZSgpO1xuICAgIGlmICghdGhpcy5nZW9tZXRyeV8pIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnlfID0gbmV3IFBvbHlnb24oW2Nvb3JkaW5hdGVzXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnlfLnNldENvb3JkaW5hdGVzKFtjb29yZGluYXRlc10pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gR2VvbWV0cnkuXG4gICAqL1xuICBnZXRHZW9tZXRyeSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeV87XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVuZGVyQm94O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL0RyYWdCb3hcbiAqL1xuLy8gRklYTUUgZHJhdyBkcmFnIGJveFxuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgUG9pbnRlckludGVyYWN0aW9uIGZyb20gJy4vUG9pbnRlci5qcyc7XG5pbXBvcnQgUmVuZGVyQm94IGZyb20gJy4uL3JlbmRlci9Cb3guanMnO1xuaW1wb3J0IHttb3VzZUFjdGlvbkJ1dHRvbn0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgdHdvXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3BpeGVsflBpeGVsfXMgYW5kIHJldHVybnMgYSBge2Jvb2xlYW59YC4gSWYgdGhlIGNvbmRpdGlvbiBpcyBtZXQsXG4gKiB0cnVlIHNob3VsZCBiZSByZXR1cm5lZC5cbiAqIEB0eXBlZGVmIHtmdW5jdGlvbih0aGlzOiA/LCBpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCwgaW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWwsIGltcG9ydChcIi4uL3BpeGVsLmpzXCIpLlBpeGVsKTpib29sZWFufSBFbmRDb25kaXRpb25cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1kcmFnYm94J10gQ1NTIGNsYXNzIG5hbWUgZm9yIHN0eWxpbmcgdGhlIGJveC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGEgYm9vbGVhblxuICogdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgb2wvZXZlbnRzL2NvbmRpdGlvbn5tb3VzZUFjdGlvbkJ1dHRvbn0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pbkFyZWE9NjRdIFRoZSBtaW5pbXVtIGFyZWEgb2YgdGhlIGJveCBpbiBwaXhlbCwgdGhpcyB2YWx1ZSBpcyB1c2VkIGJ5IHRoZSBkZWZhdWx0XG4gKiBgYm94RW5kQ29uZGl0aW9uYCBmdW5jdGlvbi5cbiAqIEBwcm9wZXJ0eSB7RW5kQ29uZGl0aW9ufSBbYm94RW5kQ29uZGl0aW9uXSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCB0d29cbiAqIHtAbGluayBtb2R1bGU6b2wvcGl4ZWx+UGl4ZWx9cyB0byBpbmRpY2F0ZSB3aGV0aGVyIGEgYGJveGVuZGAgZXZlbnQgc2hvdWxkIGJlIGZpcmVkLlxuICogRGVmYXVsdCBpcyBgdHJ1ZWAgaWYgdGhlIGFyZWEgb2YgdGhlIGJveCBpcyBiaWdnZXIgdGhhbiB0aGUgYG1pbkFyZWFgIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24odGhpczpEcmFnQm94LCBpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdCk6dm9pZH0gW29uQm94RW5kXSBDb2RlIHRvIGV4ZWN1dGUganVzdFxuICogYmVmb3JlIGBib3hlbmRgIGlzIGZpcmVkLlxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuY29uc3QgRHJhZ0JveEV2ZW50VHlwZSA9IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB1cG9uIGRyYWcgYm94IHN0YXJ0LlxuICAgKiBAZXZlbnQgRHJhZ0JveEV2ZW50I2JveHN0YXJ0XG4gICAqIEBhcGlcbiAgICovXG4gIEJPWFNUQVJUOiAnYm94c3RhcnQnLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgb24gZHJhZyB3aGVuIGJveCBpcyBhY3RpdmUuXG4gICAqIEBldmVudCBEcmFnQm94RXZlbnQjYm94ZHJhZ1xuICAgKiBAYXBpXG4gICAqL1xuICBCT1hEUkFHOiAnYm94ZHJhZycsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB1cG9uIGRyYWcgYm94IGVuZC5cbiAgICogQGV2ZW50IERyYWdCb3hFdmVudCNib3hlbmRcbiAgICogQGFwaVxuICAgKi9cbiAgQk9YRU5EOiAnYm94ZW5kJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHVwb24gZHJhZyBib3ggY2FuY2VsZWQuXG4gICAqIEBldmVudCBEcmFnQm94RXZlbnQjYm94Y2FuY2VsXG4gICAqIEBhcGlcbiAgICovXG4gIEJPWENBTkNFTDogJ2JveGNhbmNlbCcsXG59O1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ0JveH5EcmFnQm94fSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZlxuICogdGhpcyB0eXBlLlxuICovXG5leHBvcnQgY2xhc3MgRHJhZ0JveEV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIFRoZSBldmVudCBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgT3JpZ2luYXRpbmcgZXZlbnQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBjb29yZGluYXRlLCBtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBzdXBlcih0eXBlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBkcmFnIGV2ZW50LlxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuY29vcmRpbmF0ZSA9IGNvb3JkaW5hdGU7XG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMubWFwQnJvd3NlckV2ZW50ID0gbWFwQnJvd3NlckV2ZW50O1xuICB9XG59XG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3xcbiAqICAgICAnY2hhbmdlOmFjdGl2ZScsIGltcG9ydChcIi4uL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8J2JveGNhbmNlbCd8J2JveGRyYWcnfCdib3hlbmQnfCdib3hzdGFydCcsIERyYWdCb3hFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzfFxuICogICAgICdjaGFuZ2U6YWN0aXZlJ3wnYm94Y2FuY2VsJ3wnYm94ZHJhZyd8J2JveGVuZCcsIFJldHVybj59IERyYWdCb3hPblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIGRyYXcgYSB2ZWN0b3IgYm94IGJ5IGNsaWNraW5nIGFuZCBkcmFnZ2luZyBvbiB0aGUgbWFwLFxuICogbm9ybWFsbHkgY29tYmluZWQgd2l0aCBhbiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb259IHRoYXQgbGltaXRzXG4gKiBpdCB0byB3aGVuIHRoZSBzaGlmdCBvciBvdGhlciBrZXkgaXMgaGVsZCBkb3duLiBUaGlzIGlzIHVzZWQsIGZvciBleGFtcGxlLFxuICogZm9yIHpvb21pbmcgdG8gYSBzcGVjaWZpYyBhcmVhIG9mIHRoZSBtYXBcbiAqIChzZWUge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnWm9vbX5EcmFnWm9vbX0gYW5kXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RyYWdSb3RhdGVBbmRab29tfkRyYWdSb3RhdGVBbmRab29tfSkuXG4gKlxuICogQGZpcmVzIERyYWdCb3hFdmVudFxuICogQGFwaVxuICovXG5jbGFzcyBEcmFnQm94IGV4dGVuZHMgUG9pbnRlckludGVyYWN0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7RHJhZ0JveE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0RyYWdCb3hPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uY2U7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0RyYWdCb3hPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgKi9cbiAgICB0aGlzLnVuO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyL0JveC5qc1wiKS5kZWZhdWx0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5ib3hfID0gbmV3IFJlbmRlckJveChvcHRpb25zLmNsYXNzTmFtZSB8fCAnb2wtZHJhZ2JveCcpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubWluQXJlYV8gPSBvcHRpb25zLm1pbkFyZWEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWluQXJlYSA6IDY0O1xuXG4gICAgaWYgKG9wdGlvbnMub25Cb3hFbmQpIHtcbiAgICAgIHRoaXMub25Cb3hFbmQgPSBvcHRpb25zLm9uQm94RW5kO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRQaXhlbF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICovXG4gICAgdGhpcy5jb25kaXRpb25fID0gb3B0aW9ucy5jb25kaXRpb24gPyBvcHRpb25zLmNvbmRpdGlvbiA6IG1vdXNlQWN0aW9uQnV0dG9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7RW5kQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuYm94RW5kQ29uZGl0aW9uXyA9IG9wdGlvbnMuYm94RW5kQ29uZGl0aW9uXG4gICAgICA/IG9wdGlvbnMuYm94RW5kQ29uZGl0aW9uXG4gICAgICA6IHRoaXMuZGVmYXVsdEJveEVuZENvbmRpdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBjb25kaXRpb24gZm9yIGRldGVybWluaW5nIHdoZXRoZXIgdGhlIGJveGVuZCBldmVudFxuICAgKiBzaG91bGQgZmlyZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IFRoZSBvcmlnaW5hdGluZyBNYXBCcm93c2VyRXZlbnRcbiAgICogICAgIGxlYWRpbmcgdG8gdGhlIGJveCBlbmQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHN0YXJ0UGl4ZWwgVGhlIHN0YXJ0aW5nIHBpeGVsIG9mIHRoZSBib3guXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWwuanNcIikuUGl4ZWx9IGVuZFBpeGVsIFRoZSBlbmQgcGl4ZWwgb2YgdGhlIGJveC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGJveGVuZCBjb25kaXRpb24gc2hvdWxkIGJlIGZpcmVkLlxuICAgKi9cbiAgZGVmYXVsdEJveEVuZENvbmRpdGlvbihtYXBCcm93c2VyRXZlbnQsIHN0YXJ0UGl4ZWwsIGVuZFBpeGVsKSB7XG4gICAgY29uc3Qgd2lkdGggPSBlbmRQaXhlbFswXSAtIHN0YXJ0UGl4ZWxbMF07XG4gICAgY29uc3QgaGVpZ2h0ID0gZW5kUGl4ZWxbMV0gLSBzdGFydFBpeGVsWzFdO1xuICAgIHJldHVybiB3aWR0aCAqIHdpZHRoICsgaGVpZ2h0ICogaGVpZ2h0ID49IHRoaXMubWluQXJlYV87XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBnZW9tZXRyeSBvZiBsYXN0IGRyYXduIGJveC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9IEdlb21ldHJ5LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRHZW9tZXRyeSgpIHtcbiAgICByZXR1cm4gdGhpcy5ib3hfLmdldEdlb21ldHJ5KCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICovXG4gIGhhbmRsZURyYWdFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB0aGlzLmJveF8uc2V0UGl4ZWxzKHRoaXMuc3RhcnRQaXhlbF8sIG1hcEJyb3dzZXJFdmVudC5waXhlbCk7XG5cbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgRHJhZ0JveEV2ZW50KFxuICAgICAgICBEcmFnQm94RXZlbnRUeXBlLkJPWERSQUcsXG4gICAgICAgIG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlLFxuICAgICAgICBtYXBCcm93c2VyRXZlbnRcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgKi9cbiAgaGFuZGxlVXBFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICB0aGlzLmJveF8uc2V0TWFwKG51bGwpO1xuXG4gICAgY29uc3QgY29tcGxldGVCb3ggPSB0aGlzLmJveEVuZENvbmRpdGlvbl8oXG4gICAgICBtYXBCcm93c2VyRXZlbnQsXG4gICAgICB0aGlzLnN0YXJ0UGl4ZWxfLFxuICAgICAgbWFwQnJvd3NlckV2ZW50LnBpeGVsXG4gICAgKTtcbiAgICBpZiAoY29tcGxldGVCb3gpIHtcbiAgICAgIHRoaXMub25Cb3hFbmQobWFwQnJvd3NlckV2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IERyYWdCb3hFdmVudChcbiAgICAgICAgY29tcGxldGVCb3ggPyBEcmFnQm94RXZlbnRUeXBlLkJPWEVORCA6IERyYWdCb3hFdmVudFR5cGUuQk9YQ0FOQ0VMLFxuICAgICAgICBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZSxcbiAgICAgICAgbWFwQnJvd3NlckV2ZW50XG4gICAgICApXG4gICAgKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgZG93biBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICovXG4gIGhhbmRsZURvd25FdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAodGhpcy5jb25kaXRpb25fKG1hcEJyb3dzZXJFdmVudCkpIHtcbiAgICAgIHRoaXMuc3RhcnRQaXhlbF8gPSBtYXBCcm93c2VyRXZlbnQucGl4ZWw7XG4gICAgICB0aGlzLmJveF8uc2V0TWFwKG1hcEJyb3dzZXJFdmVudC5tYXApO1xuICAgICAgdGhpcy5ib3hfLnNldFBpeGVscyh0aGlzLnN0YXJ0UGl4ZWxfLCB0aGlzLnN0YXJ0UGl4ZWxfKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IERyYWdCb3hFdmVudChcbiAgICAgICAgICBEcmFnQm94RXZlbnRUeXBlLkJPWFNUQVJULFxuICAgICAgICAgIG1hcEJyb3dzZXJFdmVudC5jb29yZGluYXRlLFxuICAgICAgICAgIG1hcEJyb3dzZXJFdmVudFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0byBleGVjdXRlIGp1c3QgYmVmb3JlIGBvbmJveGVuZGAgaXMgZmlyZWRcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAqL1xuICBvbkJveEVuZChldmVudCkge31cbn1cblxuZXhwb3J0IGRlZmF1bHQgRHJhZ0JveDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9EcmFnWm9vbVxuICovXG5pbXBvcnQgRHJhZ0JveCBmcm9tICcuL0RyYWdCb3guanMnO1xuaW1wb3J0IHtlYXNlT3V0fSBmcm9tICcuLi9lYXNpbmcuanMnO1xuaW1wb3J0IHtzaGlmdEtleU9ubHl9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1kcmFnem9vbSddIENTUyBjbGFzcyBuYW1lIGZvciBzdHlsaW5nIHRoZVxuICogYm94LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0XG4gKiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24uc2hpZnRLZXlPbmx5fS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjAwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3V0PWZhbHNlXSBVc2UgaW50ZXJhY3Rpb24gZm9yIHpvb21pbmcgb3V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5BcmVhPTY0XSBUaGUgbWluaW11bSBhcmVhIG9mIHRoZSBib3ggaW4gcGl4ZWwsIHRoaXMgdmFsdWUgaXMgdXNlZCBieSB0aGUgcGFyZW50IGRlZmF1bHRcbiAqIGBib3hFbmRDb25kaXRpb25gIGZ1bmN0aW9uLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBieSBjbGlja2luZyBhbmQgZHJhZ2dpbmcgb24gdGhlIG1hcCxcbiAqIG5vcm1hbGx5IGNvbWJpbmVkIHdpdGggYW4ge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9ufSB0aGF0IGxpbWl0c1xuICogaXQgdG8gd2hlbiBhIGtleSwgc2hpZnQgYnkgZGVmYXVsdCwgaXMgaGVsZCBkb3duLlxuICpcbiAqIFRvIGNoYW5nZSB0aGUgc3R5bGUgb2YgdGhlIGJveCwgdXNlIENTUyBhbmQgdGhlIGAub2wtZHJhZ3pvb21gIHNlbGVjdG9yLCBvclxuICogeW91ciBjdXN0b20gb25lIGNvbmZpZ3VyZWQgd2l0aCBgY2xhc3NOYW1lYC5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgRHJhZ1pvb20gZXh0ZW5kcyBEcmFnQm94IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICBjb25zdCBjb25kaXRpb24gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogc2hpZnRLZXlPbmx5O1xuXG4gICAgc3VwZXIoe1xuICAgICAgY29uZGl0aW9uOiBjb25kaXRpb24sXG4gICAgICBjbGFzc05hbWU6IG9wdGlvbnMuY2xhc3NOYW1lIHx8ICdvbC1kcmFnem9vbScsXG4gICAgICBtaW5BcmVhOiBvcHRpb25zLm1pbkFyZWEsXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm91dF8gPSBvcHRpb25zLm91dCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vdXQgOiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0byBleGVjdXRlIGp1c3QgYmVmb3JlIGBvbmJveGVuZGAgaXMgZmlyZWRcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgRXZlbnQuXG4gICAqL1xuICBvbkJveEVuZChldmVudCkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuZ2V0TWFwKCk7XG4gICAgY29uc3QgdmlldyA9IC8qKiBAdHlwZSB7IWltcG9ydChcIi4uL1ZpZXcuanNcIikuZGVmYXVsdH0gKi8gKG1hcC5nZXRWaWV3KCkpO1xuICAgIGxldCBnZW9tZXRyeSA9IHRoaXMuZ2V0R2VvbWV0cnkoKTtcblxuICAgIGlmICh0aGlzLm91dF8pIHtcbiAgICAgIGNvbnN0IHJvdGF0ZWRFeHRlbnQgPSB2aWV3LnJvdGF0ZWRFeHRlbnRGb3JHZW9tZXRyeShnZW9tZXRyeSk7XG4gICAgICBjb25zdCByZXNvbHV0aW9uID0gdmlldy5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwocm90YXRlZEV4dGVudCk7XG4gICAgICBjb25zdCBmYWN0b3IgPSB2aWV3LmdldFJlc29sdXRpb24oKSAvIHJlc29sdXRpb247XG4gICAgICBnZW9tZXRyeSA9IGdlb21ldHJ5LmNsb25lKCk7XG4gICAgICBnZW9tZXRyeS5zY2FsZShmYWN0b3IgKiBmYWN0b3IpO1xuICAgIH1cblxuICAgIHZpZXcuZml0SW50ZXJuYWwoZ2VvbWV0cnksIHtcbiAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uXyxcbiAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEcmFnWm9vbTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFBhblxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEludGVyYWN0aW9uLCB7cGFufSBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCBLZXlDb2RlIGZyb20gJy4uL2V2ZW50cy9LZXlDb2RlLmpzJztcbmltcG9ydCB7bm9Nb2RpZmllcktleXMsIHRhcmdldE5vdEVkaXRhYmxlfSBmcm9tICcuLi9ldmVudHMvY29uZGl0aW9uLmpzJztcbmltcG9ydCB7cm90YXRlIGFzIHJvdGF0ZUNvb3JkaW5hdGV9IGZyb20gJy4uL2Nvb3JkaW5hdGUuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdFxuICogdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC4gRGVmYXVsdCBpc1xuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9uLm5vTW9kaWZpZXJLZXlzfSBhbmRcbiAqIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzL2NvbmRpdGlvbi50YXJnZXROb3RFZGl0YWJsZX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTEwMF0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGl4ZWxEZWx0YT0xMjhdIFRoZSBhbW91bnQgb2YgcGl4ZWxzIHRvIHBhbiBvbiBlYWNoIGtleVxuICogcHJlc3MuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcGFuIHRoZSBtYXAgdXNpbmcga2V5Ym9hcmQgYXJyb3dzLlxuICogTm90ZSB0aGF0LCBhbHRob3VnaCB0aGlzIGludGVyYWN0aW9uIGlzIGJ5IGRlZmF1bHQgaW5jbHVkZWQgaW4gbWFwcyxcbiAqIHRoZSBrZXlzIGNhbiBvbmx5IGJlIHVzZWQgd2hlbiBicm93c2VyIGZvY3VzIGlzIG9uIHRoZSBlbGVtZW50IHRvIHdoaWNoXG4gKiB0aGUga2V5Ym9hcmQgZXZlbnRzIGFyZSBhdHRhY2hlZC4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgbWFwIGRpdixcbiAqIHRob3VnaCB5b3UgY2FuIGNoYW5nZSB0aGlzIHdpdGggdGhlIGBrZXlib2FyZEV2ZW50VGFyZ2V0YCBpblxuICoge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwfS4gYGRvY3VtZW50YCBuZXZlciBsb3NlcyBmb2N1cyBidXQsIGZvciBhbnkgb3RoZXJcbiAqIGVsZW1lbnQsIGZvY3VzIHdpbGwgaGF2ZSB0byBiZSBvbiwgYW5kIHJldHVybmVkIHRvLCB0aGlzIGVsZW1lbnQgaWYgdGhlIGtleXNcbiAqIGFyZSB0byBmdW5jdGlvbi5cbiAqIFNlZSBhbHNvIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tfktleWJvYXJkWm9vbX0uXG4gKiBAYXBpXG4gKi9cbmNsYXNzIEtleWJvYXJkUGFuIGV4dGVuZHMgSW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBCcm93c2VyIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbWJpbmVkIGNvbmRpdGlvbiByZXN1bHQuXG4gICAgICovXG4gICAgdGhpcy5kZWZhdWx0Q29uZGl0aW9uXyA9IGZ1bmN0aW9uIChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIG5vTW9kaWZpZXJLZXlzKG1hcEJyb3dzZXJFdmVudCkgJiYgdGFyZ2V0Tm90RWRpdGFibGUobWFwQnJvd3NlckV2ZW50KVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259XG4gICAgICovXG4gICAgdGhpcy5jb25kaXRpb25fID1cbiAgICAgIG9wdGlvbnMuY29uZGl0aW9uICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLmNvbmRpdGlvblxuICAgICAgICA6IHRoaXMuZGVmYXVsdENvbmRpdGlvbl87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMTAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxEZWx0YV8gPVxuICAgICAgb3B0aW9ucy5waXhlbERlbHRhICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBpeGVsRGVsdGEgOiAxMjg7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSBpZiBpdCB3YXMgYVxuICAgKiBgS2V5RXZlbnRgLCBhbmQgZGVjaWRlcyB0aGUgZGlyZWN0aW9uIHRvIHBhbiB0byAoaWYgYW4gYXJyb3cga2V5IHdhc1xuICAgKiBwcmVzc2VkKS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAqL1xuICBoYW5kbGVFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBsZXQgc3RvcEV2ZW50ID0gZmFsc2U7XG4gICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IEV2ZW50VHlwZS5LRVlET1dOKSB7XG4gICAgICBjb25zdCBrZXlFdmVudCA9IC8qKiBAdHlwZSB7S2V5Ym9hcmRFdmVudH0gKi8gKFxuICAgICAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGtleUNvZGUgPSBrZXlFdmVudC5rZXlDb2RlO1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSAmJlxuICAgICAgICAoa2V5Q29kZSA9PSBLZXlDb2RlLkRPV04gfHxcbiAgICAgICAgICBrZXlDb2RlID09IEtleUNvZGUuTEVGVCB8fFxuICAgICAgICAgIGtleUNvZGUgPT0gS2V5Q29kZS5SSUdIVCB8fFxuICAgICAgICAgIGtleUNvZGUgPT0gS2V5Q29kZS5VUClcbiAgICAgICkge1xuICAgICAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICAgICAgY29uc3QgbWFwVW5pdHNEZWx0YSA9IHZpZXcuZ2V0UmVzb2x1dGlvbigpICogdGhpcy5waXhlbERlbHRhXztcbiAgICAgICAgbGV0IGRlbHRhWCA9IDAsXG4gICAgICAgICAgZGVsdGFZID0gMDtcbiAgICAgICAgaWYgKGtleUNvZGUgPT0gS2V5Q29kZS5ET1dOKSB7XG4gICAgICAgICAgZGVsdGFZID0gLW1hcFVuaXRzRGVsdGE7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA9PSBLZXlDb2RlLkxFRlQpIHtcbiAgICAgICAgICBkZWx0YVggPSAtbWFwVW5pdHNEZWx0YTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXlDb2RlID09IEtleUNvZGUuUklHSFQpIHtcbiAgICAgICAgICBkZWx0YVggPSBtYXBVbml0c0RlbHRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbHRhWSA9IG1hcFVuaXRzRGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVsdGEgPSBbZGVsdGFYLCBkZWx0YVldO1xuICAgICAgICByb3RhdGVDb29yZGluYXRlKGRlbHRhLCB2aWV3LmdldFJvdGF0aW9uKCkpO1xuICAgICAgICBwYW4odmlldywgZGVsdGEsIHRoaXMuZHVyYXRpb25fKTtcbiAgICAgICAga2V5RXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc3RvcEV2ZW50ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICFzdG9wRXZlbnQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgS2V5Ym9hcmRQYW47XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL0tleUNvZGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAY29uc3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBMRUZUOiAzNyxcbiAgVVA6IDM4LFxuICBSSUdIVDogMzksXG4gIERPV046IDQwLFxufTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9LZXlib2FyZFpvb21cbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbnRlcmFjdGlvbiwge3pvb21CeURlbHRhfSBmcm9tICcuL0ludGVyYWN0aW9uLmpzJztcbmltcG9ydCB7dGFyZ2V0Tm90RWRpdGFibGV9IGZyb20gJy4uL2V2ZW50cy9jb25kaXRpb24uanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MTAwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn0gW2NvbmRpdGlvbl0gQSBmdW5jdGlvbiB0aGF0XG4gKiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL01hcEJyb3dzZXJFdmVudH5NYXBCcm93c2VyRXZlbnR9IGFuZCByZXR1cm5zIGFcbiAqIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciB0aGF0IGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkLiBEZWZhdWx0IGlzXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9jb25kaXRpb24udGFyZ2V0Tm90RWRpdGFibGV9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkZWx0YT0xXSBUaGUgem9vbSBsZXZlbCBkZWx0YSBvbiBlYWNoIGtleSBwcmVzcy5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgdXNpbmcga2V5Ym9hcmQgKyBhbmQgLS5cbiAqIE5vdGUgdGhhdCwgYWx0aG91Z2ggdGhpcyBpbnRlcmFjdGlvbiBpcyBieSBkZWZhdWx0IGluY2x1ZGVkIGluIG1hcHMsXG4gKiB0aGUga2V5cyBjYW4gb25seSBiZSB1c2VkIHdoZW4gYnJvd3NlciBmb2N1cyBpcyBvbiB0aGUgZWxlbWVudCB0byB3aGljaFxuICogdGhlIGtleWJvYXJkIGV2ZW50cyBhcmUgYXR0YWNoZWQuIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIG1hcCBkaXYsXG4gKiB0aG91Z2ggeW91IGNhbiBjaGFuZ2UgdGhpcyB3aXRoIHRoZSBga2V5Ym9hcmRFdmVudFRhcmdldGAgaW5cbiAqIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0uIGBkb2N1bWVudGAgbmV2ZXIgbG9zZXMgZm9jdXMgYnV0LCBmb3IgYW55IG90aGVyXG4gKiBlbGVtZW50LCBmb2N1cyB3aWxsIGhhdmUgdG8gYmUgb24sIGFuZCByZXR1cm5lZCB0bywgdGhpcyBlbGVtZW50IGlmIHRoZSBrZXlzXG4gKiBhcmUgdG8gZnVuY3Rpb24uXG4gKiBTZWUgYWxzbyB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0tleWJvYXJkUGFufktleWJvYXJkUGFufS5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgS2V5Ym9hcmRab29tIGV4dGVuZHMgSW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9ldmVudHMvY29uZGl0aW9uLmpzXCIpLkNvbmRpdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbmRpdGlvbl8gPSBvcHRpb25zLmNvbmRpdGlvbiA/IG9wdGlvbnMuY29uZGl0aW9uIDogdGFyZ2V0Tm90RWRpdGFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kZWx0YV8gPSBvcHRpb25zLmRlbHRhID8gb3B0aW9ucy5kZWx0YSA6IDE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMTAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudCBtYXAgYnJvd3NlciBldmVudH0gaWYgaXQgd2FzIGFcbiAgICogYEtleUV2ZW50YCwgYW5kIGRlY2lkZXMgd2hldGhlciB0byB6b29tIGluIG9yIG91dCAoZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlXG4gICAqIGtleSBwcmVzc2VkIHdhcyAnKycgb3IgJy0nKS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAqL1xuICBoYW5kbGVFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBsZXQgc3RvcEV2ZW50ID0gZmFsc2U7XG4gICAgaWYgKFxuICAgICAgbWFwQnJvd3NlckV2ZW50LnR5cGUgPT0gRXZlbnRUeXBlLktFWURPV04gfHxcbiAgICAgIG1hcEJyb3dzZXJFdmVudC50eXBlID09IEV2ZW50VHlwZS5LRVlQUkVTU1xuICAgICkge1xuICAgICAgY29uc3Qga2V5RXZlbnQgPSAvKiogQHR5cGUge0tleWJvYXJkRXZlbnR9ICovIChcbiAgICAgICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICAgICk7XG4gICAgICBjb25zdCBjaGFyQ29kZSA9IGtleUV2ZW50LmNoYXJDb2RlO1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmNvbmRpdGlvbl8obWFwQnJvd3NlckV2ZW50KSAmJlxuICAgICAgICAoY2hhckNvZGUgPT0gJysnLmNoYXJDb2RlQXQoMCkgfHwgY2hhckNvZGUgPT0gJy0nLmNoYXJDb2RlQXQoMCkpXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgICAgY29uc3QgZGVsdGEgPVxuICAgICAgICAgIGNoYXJDb2RlID09ICcrJy5jaGFyQ29kZUF0KDApID8gdGhpcy5kZWx0YV8gOiAtdGhpcy5kZWx0YV87XG4gICAgICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgICB6b29tQnlEZWx0YSh2aWV3LCBkZWx0YSwgdW5kZWZpbmVkLCB0aGlzLmR1cmF0aW9uXyk7XG4gICAgICAgIGtleUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHN0b3BFdmVudCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAhc3RvcEV2ZW50O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEtleWJvYXJkWm9vbTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbVxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEludGVyYWN0aW9uLCB7em9vbUJ5RGVsdGF9IGZyb20gJy4vSW50ZXJhY3Rpb24uanMnO1xuaW1wb3J0IHtERVZJQ0VfUElYRUxfUkFUSU8sIEZJUkVGT1h9IGZyb20gJy4uL2hhcy5qcyc7XG5pbXBvcnQge2FsbCwgYWx3YXlzLCBmb2N1c1dpdGhUYWJpbmRleH0gZnJvbSAnLi4vZXZlbnRzL2NvbmRpdGlvbi5qcyc7XG5pbXBvcnQge2NsYW1wfSBmcm9tICcuLi9tYXRoLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7J3RyYWNrcGFkJyB8ICd3aGVlbCd9IE1vZGVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXZlbnRzL2NvbmRpdGlvbi5qc1wiKS5Db25kaXRpb259IFtjb25kaXRpb25dIEEgZnVuY3Rpb24gdGhhdFxuICogdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fSBhbmQgcmV0dXJucyBhXG4gKiBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgdGhhdCBldmVudCBzaG91bGQgYmUgaGFuZGxlZC4gRGVmYXVsdCBpc1xuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMvY29uZGl0aW9uLmFsd2F5c30uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvbkZvY3VzT25seT1mYWxzZV0gV2hlbiB0aGUgbWFwJ3MgdGFyZ2V0IGhhcyBhIGB0YWJpbmRleGAgYXR0cmlidXRlIHNldCxcbiAqIHRoZSBpbnRlcmFjdGlvbiB3aWxsIG9ubHkgaGFuZGxlIGV2ZW50cyB3aGVuIHRoZSBtYXAgaGFzIHRoZSBmb2N1cy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4RGVsdGE9MV0gTWF4aW11bSBtb3VzZSB3aGVlbCBkZWx0YS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0PTgwXSBNb3VzZSB3aGVlbCB0aW1lb3V0IGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZUFuY2hvcj10cnVlXSBFbmFibGUgem9vbWluZyB1c2luZyB0aGUgbW91c2Unc1xuICogbG9jYXRpb24gYXMgdGhlIGFuY2hvci4gV2hlbiBzZXQgdG8gYGZhbHNlYCwgem9vbWluZyBpbiBhbmQgb3V0IHdpbGwgem9vbSB0b1xuICogdGhlIGNlbnRlciBvZiB0aGUgc2NyZWVuIGluc3RlYWQgb2Ygem9vbWluZyBvbiB0aGUgbW91c2UncyBsb2NhdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NvbnN0cmFpblJlc29sdXRpb249ZmFsc2VdIElmIHRydWUsIHRoZSBtb3VzZSB3aGVlbCB6b29tXG4gKiBldmVudCB3aWxsIGFsd2F5cyBhbmltYXRlIHRvIHRoZSBjbG9zZXN0IHpvb20gbGV2ZWwgYWZ0ZXIgYW4gaW50ZXJhY3Rpb247XG4gKiBmYWxzZSBtZWFucyBpbnRlcm1lZGlhcnkgem9vbSBsZXZlbHMgYXJlIGFsbG93ZWQuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gem9vbSB0aGUgbWFwIGJ5IHNjcm9sbGluZyB0aGUgbW91c2Ugd2hlZWwuXG4gKiBAYXBpXG4gKi9cbmNsYXNzIE1vdXNlV2hlZWxab29tIGV4dGVuZHMgSW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIHN1cGVyKFxuICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0ludGVyYWN0aW9uLmpzXCIpLkludGVyYWN0aW9uT3B0aW9uc30gKi8gKG9wdGlvbnMpXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRvdGFsRGVsdGFfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxhc3REZWx0YV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4RGVsdGFfID0gb3B0aW9ucy5tYXhEZWx0YSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhEZWx0YSA6IDE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGltZW91dF8gPSBvcHRpb25zLnRpbWVvdXQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGltZW91dCA6IDgwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnVzZUFuY2hvcl8gPVxuICAgICAgb3B0aW9ucy51c2VBbmNob3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXNlQW5jaG9yIDogdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uXyA9XG4gICAgICBvcHRpb25zLmNvbnN0cmFpblJlc29sdXRpb24gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvblxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgY29uc3QgY29uZGl0aW9uID0gb3B0aW9ucy5jb25kaXRpb24gPyBvcHRpb25zLmNvbmRpdGlvbiA6IGFsd2F5cztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2V2ZW50cy9jb25kaXRpb24uanNcIikuQ29uZGl0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY29uZGl0aW9uXyA9IG9wdGlvbnMub25Gb2N1c09ubHlcbiAgICAgID8gYWxsKGZvY3VzV2l0aFRhYmluZGV4LCBjb25kaXRpb24pXG4gICAgICA6IGNvbmRpdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICovXG4gICAgdGhpcy5sYXN0QW5jaG9yXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRUaW1lXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez99XG4gICAgICovXG4gICAgdGhpcy50aW1lb3V0SWRfO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7TW9kZXx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5tb2RlXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIFRyYWNrcGFkIGV2ZW50cyBzZXBhcmF0ZWQgYnkgdGhpcyBkZWxheSB3aWxsIGJlIGNvbnNpZGVyZWQgc2VwYXJhdGVcbiAgICAgKiBpbnRlcmFjdGlvbnMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRyYWNrcGFkRXZlbnRHYXBfID0gNDAwO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgez99XG4gICAgICovXG4gICAgdGhpcy50cmFja3BhZFRpbWVvdXRJZF87XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGRlbHRhIHZhbHVlcyBwZXIgem9vbSBsZXZlbFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmRlbHRhUGVyWm9vbV8gPSAzMDA7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGVuZEludGVyYWN0aW9uXygpIHtcbiAgICB0aGlzLnRyYWNrcGFkVGltZW91dElkXyA9IHVuZGVmaW5lZDtcbiAgICBjb25zdCBtYXAgPSB0aGlzLmdldE1hcCgpO1xuICAgIGlmICghbWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIHZpZXcuZW5kSW50ZXJhY3Rpb24oXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB0aGlzLmxhc3REZWx0YV8gPyAodGhpcy5sYXN0RGVsdGFfID4gMCA/IDEgOiAtMSkgOiAwLFxuICAgICAgdGhpcy5sYXN0QW5jaG9yX1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50IG1hcCBicm93c2VyIGV2ZW50fSAoaWYgaXQgd2FzIGEgbW91c2V3aGVlbC1ldmVudCkgYW5kIGV2ZW50dWFsbHlcbiAgICogem9vbXMgdGhlIG1hcC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IE1hcCBicm93c2VyIGV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgZmFsc2VgIHRvIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAqL1xuICBoYW5kbGVFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuY29uZGl0aW9uXyhtYXBCcm93c2VyRXZlbnQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IG1hcEJyb3dzZXJFdmVudC50eXBlO1xuICAgIGlmICh0eXBlICE9PSBFdmVudFR5cGUuV0hFRUwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgY29uc3Qgd2hlZWxFdmVudCA9IC8qKiBAdHlwZSB7V2hlZWxFdmVudH0gKi8gKFxuICAgICAgbWFwQnJvd3NlckV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICApO1xuICAgIHdoZWVsRXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICh0aGlzLnVzZUFuY2hvcl8pIHtcbiAgICAgIHRoaXMubGFzdEFuY2hvcl8gPSBtYXBCcm93c2VyRXZlbnQuY29vcmRpbmF0ZTtcbiAgICB9XG5cbiAgICAvLyBEZWx0YSBub3JtYWxpc2F0aW9uIGluc3BpcmVkIGJ5XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvYmxvYi8wMDFjN2I5L2pzL3VpL2hhbmRsZXIvc2Nyb2xsX3pvb20uanNcbiAgICBsZXQgZGVsdGE7XG4gICAgaWYgKG1hcEJyb3dzZXJFdmVudC50eXBlID09IEV2ZW50VHlwZS5XSEVFTCkge1xuICAgICAgZGVsdGEgPSB3aGVlbEV2ZW50LmRlbHRhWTtcbiAgICAgIGlmIChGSVJFRk9YICYmIHdoZWVsRXZlbnQuZGVsdGFNb2RlID09PSBXaGVlbEV2ZW50LkRPTV9ERUxUQV9QSVhFTCkge1xuICAgICAgICBkZWx0YSAvPSBERVZJQ0VfUElYRUxfUkFUSU87XG4gICAgICB9XG4gICAgICBpZiAod2hlZWxFdmVudC5kZWx0YU1vZGUgPT09IFdoZWVsRXZlbnQuRE9NX0RFTFRBX0xJTkUpIHtcbiAgICAgICAgZGVsdGEgKj0gNDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRlbHRhID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMubGFzdERlbHRhXyA9IGRlbHRhO1xuXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGlmICh0aGlzLnN0YXJ0VGltZV8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zdGFydFRpbWVfID0gbm93O1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tb2RlXyB8fCBub3cgLSB0aGlzLnN0YXJ0VGltZV8gPiB0aGlzLnRyYWNrcGFkRXZlbnRHYXBfKSB7XG4gICAgICB0aGlzLm1vZGVfID0gTWF0aC5hYnMoZGVsdGEpIDwgNCA/ICd0cmFja3BhZCcgOiAnd2hlZWwnO1xuICAgIH1cblxuICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgIGlmIChcbiAgICAgIHRoaXMubW9kZV8gPT09ICd0cmFja3BhZCcgJiZcbiAgICAgICEodmlldy5nZXRDb25zdHJhaW5SZXNvbHV0aW9uKCkgfHwgdGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uXylcbiAgICApIHtcbiAgICAgIGlmICh0aGlzLnRyYWNrcGFkVGltZW91dElkXykge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50cmFja3BhZFRpbWVvdXRJZF8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHZpZXcuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgICAgICB2aWV3LmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICB2aWV3LmJlZ2luSW50ZXJhY3Rpb24oKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudHJhY2twYWRUaW1lb3V0SWRfID0gc2V0VGltZW91dChcbiAgICAgICAgdGhpcy5lbmRJbnRlcmFjdGlvbl8uYmluZCh0aGlzKSxcbiAgICAgICAgdGhpcy50aW1lb3V0X1xuICAgICAgKTtcbiAgICAgIHZpZXcuYWRqdXN0Wm9vbSgtZGVsdGEgLyB0aGlzLmRlbHRhUGVyWm9vbV8sIHRoaXMubGFzdEFuY2hvcl8pO1xuICAgICAgdGhpcy5zdGFydFRpbWVfID0gbm93O1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMudG90YWxEZWx0YV8gKz0gZGVsdGE7XG5cbiAgICBjb25zdCB0aW1lTGVmdCA9IE1hdGgubWF4KHRoaXMudGltZW91dF8gLSAobm93IC0gdGhpcy5zdGFydFRpbWVfKSwgMCk7XG5cbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWRfKTtcbiAgICB0aGlzLnRpbWVvdXRJZF8gPSBzZXRUaW1lb3V0KFxuICAgICAgdGhpcy5oYW5kbGVXaGVlbFpvb21fLmJpbmQodGhpcywgbWFwKSxcbiAgICAgIHRpbWVMZWZ0XG4gICAgKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgKi9cbiAgaGFuZGxlV2hlZWxab29tXyhtYXApIHtcbiAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICBpZiAodmlldy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgdmlldy5jYW5jZWxBbmltYXRpb25zKCk7XG4gICAgfVxuICAgIGxldCBkZWx0YSA9XG4gICAgICAtY2xhbXAoXG4gICAgICAgIHRoaXMudG90YWxEZWx0YV8sXG4gICAgICAgIC10aGlzLm1heERlbHRhXyAqIHRoaXMuZGVsdGFQZXJab29tXyxcbiAgICAgICAgdGhpcy5tYXhEZWx0YV8gKiB0aGlzLmRlbHRhUGVyWm9vbV9cbiAgICAgICkgLyB0aGlzLmRlbHRhUGVyWm9vbV87XG4gICAgaWYgKHZpZXcuZ2V0Q29uc3RyYWluUmVzb2x1dGlvbigpIHx8IHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbl8pIHtcbiAgICAgIC8vIHZpZXcgaGFzIGEgem9vbSBjb25zdHJhaW50LCB6b29tIGJ5IDFcbiAgICAgIGRlbHRhID0gZGVsdGEgPyAoZGVsdGEgPiAwID8gMSA6IC0xKSA6IDA7XG4gICAgfVxuICAgIHpvb21CeURlbHRhKHZpZXcsIGRlbHRhLCB0aGlzLmxhc3RBbmNob3JfLCB0aGlzLmR1cmF0aW9uXyk7XG5cbiAgICB0aGlzLm1vZGVfID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudG90YWxEZWx0YV8gPSAwO1xuICAgIHRoaXMubGFzdEFuY2hvcl8gPSBudWxsO1xuICAgIHRoaXMuc3RhcnRUaW1lXyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnRpbWVvdXRJZF8gPSB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUgdXNpbmcgdGhlIG1vdXNlJ3MgbG9jYXRpb24gYXMgYW4gYW5jaG9yIHdoZW4gem9vbWluZ1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUFuY2hvciB0cnVlIHRvIHpvb20gdG8gdGhlIG1vdXNlJ3MgbG9jYXRpb24sIGZhbHNlXG4gICAqIHRvIHpvb20gdG8gdGhlIGNlbnRlciBvZiB0aGUgbWFwXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE1vdXNlQW5jaG9yKHVzZUFuY2hvcikge1xuICAgIHRoaXMudXNlQW5jaG9yXyA9IHVzZUFuY2hvcjtcbiAgICBpZiAoIXVzZUFuY2hvcikge1xuICAgICAgdGhpcy5sYXN0QW5jaG9yXyA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vdXNlV2hlZWxab29tO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL1BpbmNoUm90YXRlXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24sIHtcbiAgY2VudHJvaWQgYXMgY2VudHJvaWRGcm9tUG9pbnRlcnMsXG59IGZyb20gJy4vUG9pbnRlci5qcyc7XG5pbXBvcnQge0ZBTFNFfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHtkaXNhYmxlfSBmcm9tICcuLi9yb3RhdGlvbmNvbnN0cmFpbnQuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249MjUwXSBUaGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiBpblxuICogbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aHJlc2hvbGQ9MC4zXSBNaW5pbWFsIGFuZ2xlIGluIHJhZGlhbnMgdG8gc3RhcnQgYSByb3RhdGlvbi5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEFsbG93cyB0aGUgdXNlciB0byByb3RhdGUgdGhlIG1hcCBieSB0d2lzdGluZyB3aXRoIHR3byBmaW5nZXJzXG4gKiBvbiBhIHRvdWNoIHNjcmVlbi5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgUGluY2hSb3RhdGUgZXh0ZW5kcyBQb2ludGVySW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIGNvbnN0IHBvaW50ZXJPcHRpb25zID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL1BvaW50ZXIuanNcIikuT3B0aW9uc30gKi8gKFxuICAgICAgb3B0aW9uc1xuICAgICk7XG5cbiAgICBpZiAoIXBvaW50ZXJPcHRpb25zLnN0b3BEb3duKSB7XG4gICAgICBwb2ludGVyT3B0aW9ucy5zdG9wRG93biA9IEZBTFNFO1xuICAgIH1cblxuICAgIHN1cGVyKHBvaW50ZXJPcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmFuY2hvcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmxhc3RBbmdsZV8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucm90YXRpbmdfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yb3RhdGlvbkRlbHRhXyA9IDAuMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRocmVzaG9sZF8gPSBvcHRpb25zLnRocmVzaG9sZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50aHJlc2hvbGQgOiAwLjM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kdXJhdGlvbl8gPSBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMjUwO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIGRyYWcgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqL1xuICBoYW5kbGVEcmFnRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgbGV0IHJvdGF0aW9uRGVsdGEgPSAwLjA7XG5cbiAgICBjb25zdCB0b3VjaDAgPSB0aGlzLnRhcmdldFBvaW50ZXJzWzBdO1xuICAgIGNvbnN0IHRvdWNoMSA9IHRoaXMudGFyZ2V0UG9pbnRlcnNbMV07XG5cbiAgICAvLyBhbmdsZSBiZXR3ZWVuIHRvdWNoZXNcbiAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoXG4gICAgICB0b3VjaDEuY2xpZW50WSAtIHRvdWNoMC5jbGllbnRZLFxuICAgICAgdG91Y2gxLmNsaWVudFggLSB0b3VjaDAuY2xpZW50WFxuICAgICk7XG5cbiAgICBpZiAodGhpcy5sYXN0QW5nbGVfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGRlbHRhID0gYW5nbGUgLSB0aGlzLmxhc3RBbmdsZV87XG4gICAgICB0aGlzLnJvdGF0aW9uRGVsdGFfICs9IGRlbHRhO1xuICAgICAgaWYgKCF0aGlzLnJvdGF0aW5nXyAmJiBNYXRoLmFicyh0aGlzLnJvdGF0aW9uRGVsdGFfKSA+IHRoaXMudGhyZXNob2xkXykge1xuICAgICAgICB0aGlzLnJvdGF0aW5nXyA9IHRydWU7XG4gICAgICB9XG4gICAgICByb3RhdGlvbkRlbHRhID0gZGVsdGE7XG4gICAgfVxuICAgIHRoaXMubGFzdEFuZ2xlXyA9IGFuZ2xlO1xuXG4gICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcbiAgICBpZiAodmlldy5nZXRDb25zdHJhaW50cygpLnJvdGF0aW9uID09PSBkaXNhYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gcm90YXRlIGFuY2hvciBwb2ludC5cbiAgICAvLyBGSVhNRTogc2hvdWxkIGJlIHRoZSBpbnRlcnNlY3Rpb24gcG9pbnQgYmV0d2VlbiB0aGUgbGluZXM6XG4gICAgLy8gICAgIHRvdWNoMCx0b3VjaDEgYW5kIHByZXZpb3VzVG91Y2gwLHByZXZpb3VzVG91Y2gxXG4gICAgdGhpcy5hbmNob3JfID0gbWFwLmdldENvb3JkaW5hdGVGcm9tUGl4ZWxJbnRlcm5hbChcbiAgICAgIG1hcC5nZXRFdmVudFBpeGVsKGNlbnRyb2lkRnJvbVBvaW50ZXJzKHRoaXMudGFyZ2V0UG9pbnRlcnMpKVxuICAgICk7XG5cbiAgICAvLyByb3RhdGVcbiAgICBpZiAodGhpcy5yb3RhdGluZ18pIHtcbiAgICAgIG1hcC5yZW5kZXIoKTtcbiAgICAgIHZpZXcuYWRqdXN0Um90YXRpb25JbnRlcm5hbChyb3RhdGlvbkRlbHRhLCB0aGlzLmFuY2hvcl8pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciB1cCBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGV2ZW50IHdhcyBjb25zdW1lZC5cbiAgICovXG4gIGhhbmRsZVVwRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoIDwgMikge1xuICAgICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICAgIGNvbnN0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuICAgICAgdmlldy5lbmRJbnRlcmFjdGlvbih0aGlzLmR1cmF0aW9uXyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIGRvd24gZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcEJyb3dzZXJFdmVudC5qc1wiKS5kZWZhdWx0fSBtYXBCcm93c2VyRXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBldmVudCB3YXMgY29uc3VtZWQuXG4gICAqL1xuICBoYW5kbGVEb3duRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKHRoaXMudGFyZ2V0UG9pbnRlcnMubGVuZ3RoID49IDIpIHtcbiAgICAgIGNvbnN0IG1hcCA9IG1hcEJyb3dzZXJFdmVudC5tYXA7XG4gICAgICB0aGlzLmFuY2hvcl8gPSBudWxsO1xuICAgICAgdGhpcy5sYXN0QW5nbGVfID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5yb3RhdGluZ18gPSBmYWxzZTtcbiAgICAgIHRoaXMucm90YXRpb25EZWx0YV8gPSAwLjA7XG4gICAgICBpZiAoIXRoaXMuaGFuZGxpbmdEb3duVXBTZXF1ZW5jZSkge1xuICAgICAgICBtYXAuZ2V0VmlldygpLmJlZ2luSW50ZXJhY3Rpb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGluY2hSb3RhdGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvaW50ZXJhY3Rpb24vUGluY2hab29tXG4gKi9cbmltcG9ydCBQb2ludGVySW50ZXJhY3Rpb24sIHtcbiAgY2VudHJvaWQgYXMgY2VudHJvaWRGcm9tUG9pbnRlcnMsXG59IGZyb20gJy4vUG9pbnRlci5qcyc7XG5pbXBvcnQge0ZBTFNFfSBmcm9tICcuLi9mdW5jdGlvbnMuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb249NDAwXSBBbmltYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBieSBwaW5jaGluZyB3aXRoIHR3byBmaW5nZXJzXG4gKiBvbiBhIHRvdWNoIHNjcmVlbi5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgUGluY2hab29tIGV4dGVuZHMgUG9pbnRlckludGVyYWN0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICBjb25zdCBwb2ludGVyT3B0aW9ucyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9Qb2ludGVyLmpzXCIpLk9wdGlvbnN9ICovIChcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuXG4gICAgaWYgKCFwb2ludGVyT3B0aW9ucy5zdG9wRG93bikge1xuICAgICAgcG9pbnRlck9wdGlvbnMuc3RvcERvd24gPSBGQUxTRTtcbiAgICB9XG5cbiAgICBzdXBlcihwb2ludGVyT3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9XG4gICAgICovXG4gICAgdGhpcy5hbmNob3JfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uXyA9IG9wdGlvbnMuZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZHVyYXRpb24gOiA0MDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMubGFzdERpc3RhbmNlXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxhc3RTY2FsZURlbHRhXyA9IDE7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHBvaW50ZXIgZHJhZyBldmVudHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwQnJvd3NlckV2ZW50LmpzXCIpLmRlZmF1bHR9IG1hcEJyb3dzZXJFdmVudCBFdmVudC5cbiAgICovXG4gIGhhbmRsZURyYWdFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBsZXQgc2NhbGVEZWx0YSA9IDEuMDtcblxuICAgIGNvbnN0IHRvdWNoMCA9IHRoaXMudGFyZ2V0UG9pbnRlcnNbMF07XG4gICAgY29uc3QgdG91Y2gxID0gdGhpcy50YXJnZXRQb2ludGVyc1sxXTtcbiAgICBjb25zdCBkeCA9IHRvdWNoMC5jbGllbnRYIC0gdG91Y2gxLmNsaWVudFg7XG4gICAgY29uc3QgZHkgPSB0b3VjaDAuY2xpZW50WSAtIHRvdWNoMS5jbGllbnRZO1xuXG4gICAgLy8gZGlzdGFuY2UgYmV0d2VlbiB0b3VjaGVzXG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuXG4gICAgaWYgKHRoaXMubGFzdERpc3RhbmNlXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzY2FsZURlbHRhID0gdGhpcy5sYXN0RGlzdGFuY2VfIC8gZGlzdGFuY2U7XG4gICAgfVxuICAgIHRoaXMubGFzdERpc3RhbmNlXyA9IGRpc3RhbmNlO1xuXG4gICAgY29uc3QgbWFwID0gbWFwQnJvd3NlckV2ZW50Lm1hcDtcbiAgICBjb25zdCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcblxuICAgIGlmIChzY2FsZURlbHRhICE9IDEuMCkge1xuICAgICAgdGhpcy5sYXN0U2NhbGVEZWx0YV8gPSBzY2FsZURlbHRhO1xuICAgIH1cblxuICAgIC8vIHNjYWxlIGFuY2hvciBwb2ludC5cbiAgICB0aGlzLmFuY2hvcl8gPSBtYXAuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKFxuICAgICAgbWFwLmdldEV2ZW50UGl4ZWwoY2VudHJvaWRGcm9tUG9pbnRlcnModGhpcy50YXJnZXRQb2ludGVycykpXG4gICAgKTtcblxuICAgIC8vIHNjYWxlLCBieXBhc3MgdGhlIHJlc29sdXRpb24gY29uc3RyYWludFxuICAgIG1hcC5yZW5kZXIoKTtcbiAgICB2aWV3LmFkanVzdFJlc29sdXRpb25JbnRlcm5hbChzY2FsZURlbHRhLCB0aGlzLmFuY2hvcl8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBwb2ludGVyIHVwIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgKi9cbiAgaGFuZGxlVXBFdmVudChtYXBCcm93c2VyRXZlbnQpIHtcbiAgICBpZiAodGhpcy50YXJnZXRQb2ludGVycy5sZW5ndGggPCAyKSB7XG4gICAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgY29uc3QgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmxhc3RTY2FsZURlbHRhXyA+IDEgPyAxIDogLTE7XG4gICAgICB2aWV3LmVuZEludGVyYWN0aW9uKHRoaXMuZHVyYXRpb25fLCBkaXJlY3Rpb24pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcG9pbnRlciBkb3duIGV2ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXBCcm93c2VyRXZlbnQuanNcIikuZGVmYXVsdH0gbWFwQnJvd3NlckV2ZW50IEV2ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZXZlbnQgd2FzIGNvbnN1bWVkLlxuICAgKi9cbiAgaGFuZGxlRG93bkV2ZW50KG1hcEJyb3dzZXJFdmVudCkge1xuICAgIGlmICh0aGlzLnRhcmdldFBvaW50ZXJzLmxlbmd0aCA+PSAyKSB7XG4gICAgICBjb25zdCBtYXAgPSBtYXBCcm93c2VyRXZlbnQubWFwO1xuICAgICAgdGhpcy5hbmNob3JfID0gbnVsbDtcbiAgICAgIHRoaXMubGFzdERpc3RhbmNlXyA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMubGFzdFNjYWxlRGVsdGFfID0gMTtcbiAgICAgIGlmICghdGhpcy5oYW5kbGluZ0Rvd25VcFNlcXVlbmNlKSB7XG4gICAgICAgIG1hcC5nZXRWaWV3KCkuYmVnaW5JbnRlcmFjdGlvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQaW5jaFpvb207XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvTWFwXG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4vT2JqZWN0LmpzJztcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4vQ29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbkV2ZW50VHlwZSBmcm9tICcuL0NvbGxlY3Rpb25FdmVudFR5cGUuanMnO1xuaW1wb3J0IENvbXBvc2l0ZU1hcFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXIvQ29tcG9zaXRlLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBMYXllciBmcm9tICcuL2xheWVyL0xheWVyLmpzJztcbmltcG9ydCBMYXllckdyb3VwLCB7R3JvdXBFdmVudH0gZnJvbSAnLi9sYXllci9Hcm91cC5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50IGZyb20gJy4vTWFwQnJvd3NlckV2ZW50LmpzJztcbmltcG9ydCBNYXBCcm93c2VyRXZlbnRIYW5kbGVyIGZyb20gJy4vTWFwQnJvd3NlckV2ZW50SGFuZGxlci5qcyc7XG5pbXBvcnQgTWFwQnJvd3NlckV2ZW50VHlwZSBmcm9tICcuL01hcEJyb3dzZXJFdmVudFR5cGUuanMnO1xuaW1wb3J0IE1hcEV2ZW50IGZyb20gJy4vTWFwRXZlbnQuanMnO1xuaW1wb3J0IE1hcEV2ZW50VHlwZSBmcm9tICcuL01hcEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgTWFwUHJvcGVydHkgZnJvbSAnLi9NYXBQcm9wZXJ0eS5qcyc7XG5pbXBvcnQgT2JqZWN0RXZlbnRUeXBlIGZyb20gJy4vT2JqZWN0RXZlbnRUeXBlLmpzJztcbmltcG9ydCBQb2ludGVyRXZlbnRUeXBlIGZyb20gJy4vcG9pbnRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50VHlwZSBmcm9tICcuL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFRpbGVRdWV1ZSwge2dldFRpbGVQcmlvcml0eX0gZnJvbSAnLi9UaWxlUXVldWUuanMnO1xuaW1wb3J0IFZpZXcgZnJvbSAnLi9WaWV3LmpzJztcbmltcG9ydCBWaWV3SGludCBmcm9tICcuL1ZpZXdIaW50LmpzJztcbmltcG9ydCB7REVWSUNFX1BJWEVMX1JBVElPLCBQQVNTSVZFX0VWRU5UX0xJU1RFTkVSU30gZnJvbSAnLi9oYXMuanMnO1xuaW1wb3J0IHtUUlVFfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge1xuICBhcHBseSBhcyBhcHBseVRyYW5zZm9ybSxcbiAgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSxcbn0gZnJvbSAnLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge1xuICBjbG9uZSxcbiAgY3JlYXRlT3JVcGRhdGVFbXB0eSxcbiAgZXF1YWxzIGFzIGVxdWFsc0V4dGVudCxcbiAgZ2V0Rm9yVmlld0FuZFNpemUsXG4gIGlzRW1wdHksXG59IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7ZGVmYXVsdHMgYXMgZGVmYXVsdENvbnRyb2xzfSBmcm9tICcuL2NvbnRyb2wvZGVmYXVsdHMuanMnO1xuaW1wb3J0IHtkZWZhdWx0cyBhcyBkZWZhdWx0SW50ZXJhY3Rpb25zfSBmcm9tICcuL2ludGVyYWN0aW9uL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7ZXF1YWxzfSBmcm9tICcuL2FycmF5LmpzJztcbmltcG9ydCB7ZnJvbVVzZXJDb29yZGluYXRlLCB0b1VzZXJDb29yZGluYXRlfSBmcm9tICcuL3Byb2ouanMnO1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQge2hhc0FyZWF9IGZyb20gJy4vc2l6ZS5qcyc7XG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi9ldmVudHMuanMnO1xuaW1wb3J0IHtyZW1vdmVOb2RlfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge3dhcm59IGZyb20gJy4vY29uc29sZS5qcyc7XG5cbi8qKlxuICogU3RhdGUgb2YgdGhlIGN1cnJlbnQgZnJhbWUuIE9ubHkgYHBpeGVsUmF0aW9gLCBgdGltZWAgYW5kIGB2aWV3U3RhdGVgIHNob3VsZFxuICogYmUgdXNlZCBpbiBhcHBsaWNhdGlvbnMuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGcmFtZVN0YXRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gcGl4ZWxSYXRpbyBUaGUgcGl4ZWwgcmF0aW8gb2YgdGhlIGZyYW1lLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWUgVGhlIHRpbWUgd2hlbiByZW5kZXJpbmcgb2YgdGhlIGZyYW1lIHdhcyByZXF1ZXN0ZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vVmlldy5qc1wiKS5TdGF0ZX0gdmlld1N0YXRlIFRoZSBzdGF0ZSBvZiB0aGUgY3VycmVudCB2aWV3LlxuICogQHByb3BlcnR5IHtib29sZWFufSBhbmltYXRlIEFuaW1hdGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0gQ29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcInJidXNoXCIpLmRlZmF1bHR9IGRlY2x1dHRlclRyZWUgRGVjbHV0dGVyVHJlZS5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW25leHRFeHRlbnRdIE5leHQgZXh0ZW50IGR1cmluZyBhbiBhbmltYXRpb24gc2VyaWVzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLlN0YXRlPn0gbGF5ZXJTdGF0ZXNBcnJheSBMYXllclN0YXRlc0FycmF5LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxheWVySW5kZXggTGF5ZXJJbmRleC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSBwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSBQaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8UG9zdFJlbmRlckZ1bmN0aW9uPn0gcG9zdFJlbmRlckZ1bmN0aW9ucyBQb3N0UmVuZGVyRnVuY3Rpb25zLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICogQHByb3BlcnR5IHtUaWxlUXVldWV9IHRpbGVRdWV1ZSBUaWxlUXVldWUuXG4gKiBAcHJvcGVydHkgeyFPYmplY3Q8c3RyaW5nLCBPYmplY3Q8c3RyaW5nLCBib29sZWFuPj59IHVzZWRUaWxlcyBVc2VkVGlsZXMuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IHZpZXdIaW50cyBWaWV3SGludHMuXG4gKiBAcHJvcGVydHkgeyFPYmplY3Q8c3RyaW5nLCBPYmplY3Q8c3RyaW5nLCBib29sZWFuPj59IHdhbnRlZFRpbGVzIFdhbnRlZFRpbGVzLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1hcElkIFRoZSBpZCBvZiB0aGUgbWFwLlxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gcmVuZGVyVGFyZ2V0cyBJZGVudGlmaWVycyBvZiBwcmV2aW91c2x5IHJlbmRlcmVkIGVsZW1lbnRzLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKE1hcCwgP0ZyYW1lU3RhdGUpOiBhbnl9IFBvc3RSZW5kZXJGdW5jdGlvblxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQXRQaXhlbE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7dW5kZWZpbmVkfGZ1bmN0aW9uKGltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdDxpbXBvcnQoXCIuL3NvdXJjZS9Tb3VyY2VcIikuZGVmYXVsdD4pOiBib29sZWFufSBbbGF5ZXJGaWx0ZXJdIExheWVyIGZpbHRlclxuICogZnVuY3Rpb24uIFRoZSBmaWx0ZXIgZnVuY3Rpb24gd2lsbCByZWNlaXZlIG9uZSBhcmd1bWVudCwgdGhlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyIGxheWVyLWNhbmRpZGF0ZX0gYW5kIGl0IHNob3VsZCByZXR1cm4gYSBib29sZWFuIHZhbHVlLlxuICogT25seSBsYXllcnMgd2hpY2ggYXJlIHZpc2libGUgYW5kIGZvciB3aGljaCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgXG4gKiB3aWxsIGJlIHRlc3RlZCBmb3IgZmVhdHVyZXMuIEJ5IGRlZmF1bHQsIGFsbCB2aXNpYmxlIGxheWVycyB3aWxsIGJlIHRlc3RlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaGl0VG9sZXJhbmNlPTBdIEhpdC1kZXRlY3Rpb24gdG9sZXJhbmNlIGluIGNzcyBwaXhlbHMuIFBpeGVsc1xuICogaW5zaWRlIHRoZSByYWRpdXMgYXJvdW5kIHRoZSBnaXZlbiBwb3NpdGlvbiB3aWxsIGJlIGNoZWNrZWQgZm9yIGZlYXR1cmVzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY2hlY2tXcmFwcGVkPXRydWVdIENoZWNrLVdyYXBwZWQgV2lsbCBjaGVjayBmb3Igd3JhcHBlZCBnZW9tZXRyaWVzIGluc2lkZSB0aGUgcmFuZ2Ugb2ZcbiAqICAgKy8tIDEgd29ybGQgd2lkdGguIFdvcmtzIG9ubHkgaWYgYSBwcm9qZWN0aW9uIGlzIHVzZWQgdGhhdCBjYW4gYmUgd3JhcHBlZC5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcE9wdGlvbnNJbnRlcm5hbFxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBbY29udHJvbHNdIENvbnRyb2xzLlxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59IFtpbnRlcmFjdGlvbnNdIEludGVyYWN0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR9IGtleWJvYXJkRXZlbnRUYXJnZXQgS2V5Ym9hcmRFdmVudFRhcmdldC5cbiAqIEBwcm9wZXJ0eSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59IG92ZXJsYXlzIE92ZXJsYXlzLlxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCAqPn0gdmFsdWVzIFZhbHVlcy5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3wnY2hhbmdlOmxheWVyZ3JvdXAnfCdjaGFuZ2U6c2l6ZSd8J2NoYW5nZTp0YXJnZXQnfCdjaGFuZ2U6dmlldyd9IE1hcE9iamVjdEV2ZW50VHlwZXNcbiAqL1xuXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxNYXBPYmplY3RFdmVudFR5cGVzLCBpbXBvcnQoXCIuL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9NYXBCcm93c2VyRXZlbnRUeXBlXCIpLlR5cGVzLCBpbXBvcnQoXCIuL01hcEJyb3dzZXJFdmVudFwiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL01hcEV2ZW50VHlwZVwiKS5UeXBlcywgaW1wb3J0KFwiLi9NYXBFdmVudFwiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL3JlbmRlci9FdmVudFR5cGVcIikuTWFwUmVuZGVyRXZlbnRUeXBlcywgaW1wb3J0KFwiLi9yZW5kZXIvRXZlbnRcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xNYXBPYmplY3RFdmVudFR5cGVzfFxuICogICAgICBpbXBvcnQoXCIuL01hcEJyb3dzZXJFdmVudFR5cGVcIikuVHlwZXN8aW1wb3J0KFwiLi9NYXBFdmVudFR5cGVcIikuVHlwZXN8XG4gKiAgICAgIGltcG9ydChcIi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5NYXBSZW5kZXJFdmVudFR5cGVzLCBSZXR1cm4+fSBNYXBFdmVudEhhbmRsZXJcbiAqL1xuXG4vKipcbiAqIE9iamVjdCBsaXRlcmFsIHdpdGggY29uZmlnIG9wdGlvbnMgZm9yIHRoZSBtYXAuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNYXBPcHRpb25zXG4gKiBAcHJvcGVydHkge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD58QXJyYXk8aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD59IFtjb250cm9sc11cbiAqIENvbnRyb2xzIGluaXRpYWxseSBhZGRlZCB0byB0aGUgbWFwLiBJZiBub3Qgc3BlY2lmaWVkLFxuICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL2RlZmF1bHRzLmRlZmF1bHRzfSBpcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtwaXhlbFJhdGlvPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvXSBUaGUgcmF0aW8gYmV0d2VlblxuICogcGh5c2ljYWwgcGl4ZWxzIGFuZCBkZXZpY2UtaW5kZXBlbmRlbnQgcGl4ZWxzIChkaXBzKSBvbiB0aGUgZGV2aWNlLlxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD58QXJyYXk8aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn0gW2ludGVyYWN0aW9uc11cbiAqIEludGVyYWN0aW9ucyB0aGF0IGFyZSBpbml0aWFsbHkgYWRkZWQgdG8gdGhlIG1hcC4gSWYgbm90IHNwZWNpZmllZCxcbiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vZGVmYXVsdHMuZGVmYXVsdHN9IGlzIHVzZWQuXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fERvY3VtZW50fHN0cmluZ30gW2tleWJvYXJkRXZlbnRUYXJnZXRdIFRoZSBlbGVtZW50IHRvXG4gKiBsaXN0ZW4gdG8ga2V5Ym9hcmQgZXZlbnRzIG9uLiBUaGlzIGRldGVybWluZXMgd2hlbiB0aGUgYEtleWJvYXJkUGFuYCBhbmRcbiAqIGBLZXlib2FyZFpvb21gIGludGVyYWN0aW9ucyB0cmlnZ2VyLiBGb3IgZXhhbXBsZSwgaWYgdGhpcyBvcHRpb24gaXMgc2V0IHRvXG4gKiBgZG9jdW1lbnRgIHRoZSBrZXlib2FyZCBpbnRlcmFjdGlvbnMgd2lsbCBhbHdheXMgdHJpZ2dlci4gSWYgdGhpcyBvcHRpb24gaXNcbiAqIG5vdCBzcGVjaWZpZWQsIHRoZSBlbGVtZW50IHRoZSBsaWJyYXJ5IGxpc3RlbnMgdG8ga2V5Ym9hcmQgZXZlbnRzIG9uIGlzIHRoZVxuICogbWFwIHRhcmdldCAoaS5lLiB0aGUgdXNlci1wcm92aWRlZCBkaXYgZm9yIHRoZSBtYXApLiBJZiB0aGlzIGlzIG5vdFxuICogYGRvY3VtZW50YCwgdGhlIHRhcmdldCBlbGVtZW50IG5lZWRzIHRvIGJlIGZvY3VzZWQgZm9yIGtleSBldmVudHMgdG8gYmVcbiAqIGVtaXR0ZWQsIHJlcXVpcmluZyB0aGF0IHRoZSB0YXJnZXQgZWxlbWVudCBoYXMgYSBgdGFiaW5kZXhgIGF0dHJpYnV0ZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fENvbGxlY3Rpb248aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fExheWVyR3JvdXB9IFtsYXllcnNdXG4gKiBMYXllcnMuIElmIHRoaXMgaXMgbm90IGRlZmluZWQsIGEgbWFwIHdpdGggbm8gbGF5ZXJzIHdpbGwgYmUgcmVuZGVyZWQuIE5vdGVcbiAqIHRoYXQgbGF5ZXJzIGFyZSByZW5kZXJlZCBpbiB0aGUgb3JkZXIgc3VwcGxpZWQsIHNvIGlmIHlvdSB3YW50LCBmb3IgZXhhbXBsZSxcbiAqIGEgdmVjdG9yIGxheWVyIHRvIGFwcGVhciBvbiB0b3Agb2YgYSB0aWxlIGxheWVyLCBpdCBtdXN0IGNvbWUgYWZ0ZXIgdGhlIHRpbGVcbiAqIGxheWVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhUaWxlc0xvYWRpbmc9MTZdIE1heGltdW0gbnVtYmVyIHRpbGVzIHRvIGxvYWRcbiAqIHNpbXVsdGFuZW91c2x5LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttb3ZlVG9sZXJhbmNlPTFdIFRoZSBtaW5pbXVtIGRpc3RhbmNlIGluIHBpeGVscyB0aGVcbiAqIGN1cnNvciBtdXN0IG1vdmUgdG8gYmUgZGV0ZWN0ZWQgYXMgYSBtYXAgbW92ZSBldmVudCBpbnN0ZWFkIG9mIGEgY2xpY2suXG4gKiBJbmNyZWFzaW5nIHRoaXMgdmFsdWUgY2FuIG1ha2UgaXQgZWFzaWVyIHRvIGNsaWNrIG9uIHRoZSBtYXAuXG4gKiBAcHJvcGVydHkge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fEFycmF5PGltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0Pn0gW292ZXJsYXlzXVxuICogT3ZlcmxheXMgaW5pdGlhbGx5IGFkZGVkIHRvIHRoZSBtYXAuIEJ5IGRlZmF1bHQsIG5vIG92ZXJsYXlzIGFyZSBhZGRlZC5cbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBUaGUgY29udGFpbmVyIGZvciB0aGUgbWFwLCBlaXRoZXIgdGhlXG4gKiBlbGVtZW50IGl0c2VsZiBvciB0aGUgYGlkYCBvZiB0aGUgZWxlbWVudC4gSWYgbm90IHNwZWNpZmllZCBhdCBjb25zdHJ1Y3Rpb25cbiAqIHRpbWUsIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcCNzZXRUYXJnZXR9IG11c3QgYmUgY2FsbGVkIGZvciB0aGUgbWFwIHRvIGJlXG4gKiByZW5kZXJlZC4gSWYgcGFzc2VkIGJ5IGVsZW1lbnQsIHRoZSBjb250YWluZXIgY2FuIGJlIGluIGEgc2Vjb25kYXJ5IGRvY3VtZW50LlxuICogKipOb3RlOioqIENTUyBgdHJhbnNmb3JtYCBzdXBwb3J0IGZvciB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgbGltaXRlZCB0byBgc2NhbGVgLlxuICogQHByb3BlcnR5IHtWaWV3fFByb21pc2U8aW1wb3J0KFwiLi9WaWV3LmpzXCIpLlZpZXdPcHRpb25zPn0gW3ZpZXddIFRoZSBtYXAncyB2aWV3LiAgTm8gbGF5ZXIgc291cmNlcyB3aWxsIGJlXG4gKiBmZXRjaGVkIHVubGVzcyB0aGlzIGlzIHNwZWNpZmllZCBhdCBjb25zdHJ1Y3Rpb24gdGltZSBvciB0aHJvdWdoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXAjc2V0Vmlld30uXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTGF5ZXJNYXBQcm9wZXJ0eShsYXllcikge1xuICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMYXllcikge1xuICAgIGxheWVyLnNldE1hcEludGVybmFsKG51bGwpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMYXllckdyb3VwKSB7XG4gICAgbGF5ZXIuZ2V0TGF5ZXJzKCkuZm9yRWFjaChyZW1vdmVMYXllck1hcFByb3BlcnR5KTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICogQHBhcmFtIHtNYXB9IG1hcCBNYXAuXG4gKi9cbmZ1bmN0aW9uIHNldExheWVyTWFwUHJvcGVydHkobGF5ZXIsIG1hcCkge1xuICBpZiAobGF5ZXIgaW5zdGFuY2VvZiBMYXllcikge1xuICAgIGxheWVyLnNldE1hcEludGVybmFsKG1hcCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChsYXllciBpbnN0YW5jZW9mIExheWVyR3JvdXApIHtcbiAgICBjb25zdCBsYXllcnMgPSBsYXllci5nZXRMYXllcnMoKS5nZXRBcnJheSgpO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGxheWVycy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBzZXRMYXllck1hcFByb3BlcnR5KGxheWVyc1tpXSwgbWFwKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBUaGUgbWFwIGlzIHRoZSBjb3JlIGNvbXBvbmVudCBvZiBPcGVuTGF5ZXJzLiBGb3IgYSBtYXAgdG8gcmVuZGVyLCBhIHZpZXcsXG4gKiBvbmUgb3IgbW9yZSBsYXllcnMsIGFuZCBhIHRhcmdldCBjb250YWluZXIgYXJlIG5lZWRlZDpcbiAqXG4gKiAgICAgaW1wb3J0IE1hcCBmcm9tICdvbC9NYXAuanMnO1xuICogICAgIGltcG9ydCBWaWV3IGZyb20gJ29sL1ZpZXcuanMnO1xuICogICAgIGltcG9ydCBUaWxlTGF5ZXIgZnJvbSAnb2wvbGF5ZXIvVGlsZS5qcyc7XG4gKiAgICAgaW1wb3J0IE9TTSBmcm9tICdvbC9zb3VyY2UvT1NNLmpzJztcbiAqXG4gKiAgICAgY29uc3QgbWFwID0gbmV3IE1hcCh7XG4gKiAgICAgICB2aWV3OiBuZXcgVmlldyh7XG4gKiAgICAgICAgIGNlbnRlcjogWzAsIDBdLFxuICogICAgICAgICB6b29tOiAxLFxuICogICAgICAgfSksXG4gKiAgICAgICBsYXllcnM6IFtcbiAqICAgICAgICAgbmV3IFRpbGVMYXllcih7XG4gKiAgICAgICAgICAgc291cmNlOiBuZXcgT1NNKCksXG4gKiAgICAgICAgIH0pLFxuICogICAgICAgXSxcbiAqICAgICAgIHRhcmdldDogJ21hcCcsXG4gKiAgICAgfSk7XG4gKlxuICogVGhlIGFib3ZlIHNuaXBwZXQgY3JlYXRlcyBhIG1hcCB1c2luZyBhIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvVGlsZX5UaWxlTGF5ZXJ9IHRvXG4gKiBkaXNwbGF5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL09TTX5PU019IE9TTSBkYXRhIGFuZCByZW5kZXIgaXQgdG8gYSBET01cbiAqIGVsZW1lbnQgd2l0aCB0aGUgaWQgYG1hcGAuXG4gKlxuICogVGhlIGNvbnN0cnVjdG9yIHBsYWNlcyBhIHZpZXdwb3J0IGNvbnRhaW5lciAod2l0aCBDU1MgY2xhc3MgbmFtZVxuICogYG9sLXZpZXdwb3J0YCkgaW4gdGhlIHRhcmdldCBlbGVtZW50IChzZWUgYGdldFZpZXdwb3J0KClgKSwgYW5kIHRoZW4gdHdvXG4gKiBmdXJ0aGVyIGVsZW1lbnRzIHdpdGhpbiB0aGUgdmlld3BvcnQ6IG9uZSB3aXRoIENTUyBjbGFzcyBuYW1lXG4gKiBgb2wtb3ZlcmxheWNvbnRhaW5lci1zdG9wZXZlbnRgIGZvciBjb250cm9scyBhbmQgc29tZSBvdmVybGF5cywgYW5kIG9uZSB3aXRoXG4gKiBDU1MgY2xhc3MgbmFtZSBgb2wtb3ZlcmxheWNvbnRhaW5lcmAgZm9yIG90aGVyIG92ZXJsYXlzIChzZWUgdGhlIGBzdG9wRXZlbnRgXG4gKiBvcHRpb24gb2Yge0BsaW5rIG1vZHVsZTpvbC9PdmVybGF5fk92ZXJsYXl9IGZvciB0aGUgZGlmZmVyZW5jZSkuIFRoZSBtYXBcbiAqIGl0c2VsZiBpcyBwbGFjZWQgaW4gYSBmdXJ0aGVyIGVsZW1lbnQgd2l0aGluIHRoZSB2aWV3cG9ydC5cbiAqXG4gKiBMYXllcnMgYXJlIHN0b3JlZCBhcyBhIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSBpblxuICogbGF5ZXJHcm91cHMuIEEgdG9wLWxldmVsIGdyb3VwIGlzIHByb3ZpZGVkIGJ5IHRoZSBsaWJyYXJ5LiBUaGlzIGlzIHdoYXQgaXNcbiAqIGFjY2Vzc2VkIGJ5IGBnZXRMYXllckdyb3VwYCBhbmQgYHNldExheWVyR3JvdXBgLiBMYXllcnMgZW50ZXJlZCBpbiB0aGVcbiAqIG9wdGlvbnMgYXJlIGFkZGVkIHRvIHRoaXMgZ3JvdXAsIGFuZCBgYWRkTGF5ZXJgIGFuZCBgcmVtb3ZlTGF5ZXJgIGNoYW5nZSB0aGVcbiAqIGxheWVyIGNvbGxlY3Rpb24gaW4gdGhlIGdyb3VwLiBgZ2V0TGF5ZXJzYCBpcyBhIGNvbnZlbmllbmNlIGZ1bmN0aW9uIGZvclxuICogYGdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKWAuIE5vdGUgdGhhdCB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0dyb3VwfkxheWVyR3JvdXB9XG4gKiBpcyBhIHN1YmNsYXNzIG9mIHtAbGluayBtb2R1bGU6b2wvbGF5ZXIvQmFzZX5CYXNlTGF5ZXJ9LCBzbyBsYXllcnMgZW50ZXJlZCBpbiB0aGVcbiAqIG9wdGlvbnMgb3IgYWRkZWQgd2l0aCBgYWRkTGF5ZXJgIGNhbiBiZSBncm91cHMsIHdoaWNoIGNhbiBjb250YWluIGZ1cnRoZXJcbiAqIGdyb3VwcywgYW5kIHNvIG9uLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL01hcEJyb3dzZXJFdmVudC5qc1wiKS5NYXBCcm93c2VyRXZlbnRcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL01hcEV2ZW50LmpzXCIpLk1hcEV2ZW50XG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9yZW5kZXIvRXZlbnQuanNcIikuZGVmYXVsdCNwcmVjb21wb3NlXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9yZW5kZXIvRXZlbnQuanNcIikuZGVmYXVsdCNwb3N0Y29tcG9zZVxuICogQGZpcmVzIGltcG9ydChcIi4vcmVuZGVyL0V2ZW50LmpzXCIpLmRlZmF1bHQjcmVuZGVyY29tcGxldGVcbiAqIEBhcGlcbiAqL1xuY2xhc3MgTWFwIGV4dGVuZHMgQmFzZU9iamVjdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge01hcE9wdGlvbnN9IFtvcHRpb25zXSBNYXAgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge01hcEV2ZW50SGFuZGxlcjxpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge01hcEV2ZW50SGFuZGxlcjxpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7TWFwRXZlbnRIYW5kbGVyPHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICBjb25zdCBvcHRpb25zSW50ZXJuYWwgPSBjcmVhdGVPcHRpb25zSW50ZXJuYWwob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlckNvbXBsZXRlXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5sb2FkZWRfID0gdHJ1ZTtcblxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIHRoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfID0gdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQuYmluZCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heFRpbGVzTG9hZGluZ18gPVxuICAgICAgb3B0aW9ucy5tYXhUaWxlc0xvYWRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4VGlsZXNMb2FkaW5nIDogMTY7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5waXhlbFJhdGlvXyA9XG4gICAgICBvcHRpb25zLnBpeGVsUmF0aW8gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMucGl4ZWxSYXRpb1xuICAgICAgICA6IERFVklDRV9QSVhFTF9SQVRJTztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyp9XG4gICAgICovXG4gICAgdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmFuaW1hdGlvbkRlbGF5XyA9IHRoaXMuYW5pbWF0aW9uRGVsYXlfLmJpbmQodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZnJhbWVJbmRleF8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P0ZyYW1lU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZVN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZXh0ZW50IGF0IHRoZSBwcmV2aW91cyAnbW92ZWVuZCcgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMucHJldmlvdXNFeHRlbnRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9XG4gICAgICovXG4gICAgdGhpcy52aWV3UHJvcGVydHlMaXN0ZW5lcktleV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P0FycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5sYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXdwb3J0XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMudmlld3BvcnRfLmNsYXNzTmFtZSA9XG4gICAgICAnb2wtdmlld3BvcnQnICsgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyA/ICcgb2wtdG91Y2gnIDogJycpO1xuICAgIHRoaXMudmlld3BvcnRfLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLnZpZXdwb3J0Xy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIHRoaXMudmlld3BvcnRfLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHRoaXMudmlld3BvcnRfLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLm92ZXJsYXlDb250YWluZXJfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyXy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyXy5zdHlsZS56SW5kZXggPSAnMCc7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyXy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLm92ZXJsYXlDb250YWluZXJfLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyXy5jbGFzc05hbWUgPSAnb2wtb3ZlcmxheWNvbnRhaW5lcic7XG4gICAgdGhpcy52aWV3cG9ydF8uYXBwZW5kQ2hpbGQodGhpcy5vdmVybGF5Q29udGFpbmVyXyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshSFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uc3R5bGUuekluZGV4ID0gJzAnO1xuICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50Xy5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uY2xhc3NOYW1lID0gJ29sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50JztcbiAgICB0aGlzLnZpZXdwb3J0Xy5hcHBlbmRDaGlsZCh0aGlzLm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge01hcEJyb3dzZXJFdmVudEhhbmRsZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXBCcm93c2VyRXZlbnRIYW5kbGVyXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tb3ZlVG9sZXJhbmNlXyA9IG9wdGlvbnMubW92ZVRvbGVyYW5jZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fERvY3VtZW50fVxuICAgICAqL1xuICAgIHRoaXMua2V5Ym9hcmRFdmVudFRhcmdldF8gPSBvcHRpb25zSW50ZXJuYWwua2V5Ym9hcmRFdmVudFRhcmdldDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9BcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0Q2hhbmdlSGFuZGxlcktleXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fG51bGx9XG4gICAgICovXG4gICAgdGhpcy50YXJnZXRFbGVtZW50XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7UmVzaXplT2JzZXJ2ZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZXNpemVPYnNlcnZlcl8gPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gdGhpcy51cGRhdGVTaXplKCkpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdD59XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuY29udHJvbHMgPSBvcHRpb25zSW50ZXJuYWwuY29udHJvbHMgfHwgZGVmYXVsdENvbnRyb2xzKCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLmludGVyYWN0aW9ucyA9XG4gICAgICBvcHRpb25zSW50ZXJuYWwuaW50ZXJhY3Rpb25zIHx8XG4gICAgICBkZWZhdWx0SW50ZXJhY3Rpb25zKHtcbiAgICAgICAgb25Gb2N1c09ubHk6IHRydWUsXG4gICAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMub3ZlcmxheXNfID0gb3B0aW9uc0ludGVybmFsLm92ZXJsYXlzO1xuXG4gICAgLyoqXG4gICAgICogQSBsb29rdXAgb2Ygb3ZlcmxheXMgYnkgaWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMub3ZlcmxheUlkSW5kZXhfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9yZW5kZXJlci9NYXAuanNcIikuZGVmYXVsdHxudWxsfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IUFycmF5PFBvc3RSZW5kZXJGdW5jdGlvbj59XG4gICAgICovXG4gICAgdGhpcy5wb3N0UmVuZGVyRnVuY3Rpb25zXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7VGlsZVF1ZXVlfVxuICAgICAqL1xuICAgIHRoaXMudGlsZVF1ZXVlXyA9IG5ldyBUaWxlUXVldWUoXG4gICAgICB0aGlzLmdldFRpbGVQcmlvcml0eS5iaW5kKHRoaXMpLFxuICAgICAgdGhpcy5oYW5kbGVUaWxlQ2hhbmdlXy5iaW5kKHRoaXMpXG4gICAgKTtcblxuICAgIHRoaXMuYWRkQ2hhbmdlTGlzdGVuZXIoXG4gICAgICBNYXBQcm9wZXJ0eS5MQVlFUkdST1VQLFxuICAgICAgdGhpcy5oYW5kbGVMYXllckdyb3VwQ2hhbmdlZF9cbiAgICApO1xuICAgIHRoaXMuYWRkQ2hhbmdlTGlzdGVuZXIoTWFwUHJvcGVydHkuVklFVywgdGhpcy5oYW5kbGVWaWV3Q2hhbmdlZF8pO1xuICAgIHRoaXMuYWRkQ2hhbmdlTGlzdGVuZXIoTWFwUHJvcGVydHkuU0laRSwgdGhpcy5oYW5kbGVTaXplQ2hhbmdlZF8pO1xuICAgIHRoaXMuYWRkQ2hhbmdlTGlzdGVuZXIoTWFwUHJvcGVydHkuVEFSR0VULCB0aGlzLmhhbmRsZVRhcmdldENoYW5nZWRfKTtcblxuICAgIC8vIHNldFByb3BlcnRpZXMgd2lsbCB0cmlnZ2VyIHRoZSByZW5kZXJpbmcgb2YgdGhlIG1hcCBpZiB0aGUgbWFwXG4gICAgLy8gaXMgXCJkZWZpbmVkXCIgYWxyZWFkeS5cbiAgICB0aGlzLnNldFByb3BlcnRpZXMob3B0aW9uc0ludGVybmFsLnZhbHVlcyk7XG5cbiAgICBjb25zdCBtYXAgPSB0aGlzO1xuICAgIGlmIChvcHRpb25zLnZpZXcgJiYgIShvcHRpb25zLnZpZXcgaW5zdGFuY2VvZiBWaWV3KSkge1xuICAgICAgb3B0aW9ucy52aWV3LnRoZW4oZnVuY3Rpb24gKHZpZXdPcHRpb25zKSB7XG4gICAgICAgIG1hcC5zZXRWaWV3KG5ldyBWaWV3KHZpZXdPcHRpb25zKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBDb2xsZWN0aW9uRXZlbnRUeXBlLkFERCxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50PGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBldmVudCBDb2xsZWN0aW9uRXZlbnRcbiAgICAgICAqL1xuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKHRoaXMpO1xuICAgICAgfVxuICAgICk7XG5cbiAgICB0aGlzLmNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50PGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgKi9cbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5lbGVtZW50LnNldE1hcChudWxsKTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgdGhpcy5pbnRlcmFjdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIENvbGxlY3Rpb25FdmVudFR5cGUuQURELFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnQ8aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn0gZXZlbnQgQ29sbGVjdGlvbkV2ZW50LlxuICAgICAgICovXG4gICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuZWxlbWVudC5zZXRNYXAodGhpcyk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIHRoaXMuaW50ZXJhY3Rpb25zLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBDb2xsZWN0aW9uRXZlbnRUeXBlLlJFTU9WRSxcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbkV2ZW50PGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAqL1xuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LmVsZW1lbnQuc2V0TWFwKG51bGwpO1xuICAgICAgfVxuICAgICk7XG5cbiAgICB0aGlzLm92ZXJsYXlzXy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgQ29sbGVjdGlvbkV2ZW50VHlwZS5BREQsXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25FdmVudDxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59IGV2ZW50IENvbGxlY3Rpb25FdmVudC5cbiAgICAgICAqL1xuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuYWRkT3ZlcmxheUludGVybmFsXyhldmVudC5lbGVtZW50KTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgdGhpcy5vdmVybGF5c18uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIENvbGxlY3Rpb25FdmVudFR5cGUuUkVNT1ZFLFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQ29sbGVjdGlvbi5qc1wiKS5Db2xsZWN0aW9uRXZlbnQ8aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fSBldmVudCBDb2xsZWN0aW9uRXZlbnQuXG4gICAgICAgKi9cbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGV2ZW50LmVsZW1lbnQuZ2V0SWQoKTtcbiAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5vdmVybGF5SWRJbmRleF9baWQudG9TdHJpbmcoKV07XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQuZWxlbWVudC5zZXRNYXAobnVsbCk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIHRoaXMuY29udHJvbHMuZm9yRWFjaChcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2NvbnRyb2wvQ29udHJvbC5qc1wiKS5kZWZhdWx0fSBjb250cm9sIENvbnRyb2wuXG4gICAgICAgKi9cbiAgICAgIChjb250cm9sKSA9PiB7XG4gICAgICAgIGNvbnRyb2wuc2V0TWFwKHRoaXMpO1xuICAgICAgfVxuICAgICk7XG5cbiAgICB0aGlzLmludGVyYWN0aW9ucy5mb3JFYWNoKFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdH0gaW50ZXJhY3Rpb24gSW50ZXJhY3Rpb24uXG4gICAgICAgKi9cbiAgICAgIChpbnRlcmFjdGlvbikgPT4ge1xuICAgICAgICBpbnRlcmFjdGlvbi5zZXRNYXAodGhpcyk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIHRoaXMub3ZlcmxheXNfLmZvckVhY2godGhpcy5hZGRPdmVybGF5SW50ZXJuYWxfLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUgZ2l2ZW4gY29udHJvbCB0byB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHR9IGNvbnRyb2wgQ29udHJvbC5cbiAgICogQGFwaVxuICAgKi9cbiAgYWRkQ29udHJvbChjb250cm9sKSB7XG4gICAgdGhpcy5nZXRDb250cm9scygpLnB1c2goY29udHJvbCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSBnaXZlbiBpbnRlcmFjdGlvbiB0byB0aGUgbWFwLiBJZiB5b3Ugd2FudCB0byBhZGQgYW4gaW50ZXJhY3Rpb25cbiAgICogYXQgYW5vdGhlciBwb2ludCBvZiB0aGUgY29sbGVjdGlvbiB1c2UgYGdldEludGVyYWN0aW9ucygpYCBhbmQgdGhlIG1ldGhvZHNcbiAgICogYXZhaWxhYmxlIG9uIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufS4gVGhpcyBjYW4gYmUgdXNlZCB0b1xuICAgKiBzdG9wIHRoZSBldmVudCBwcm9wYWdhdGlvbiBmcm9tIHRoZSBoYW5kbGVFdmVudCBmdW5jdGlvbi4gVGhlIGludGVyYWN0aW9uc1xuICAgKiBnZXQgdG8gaGFuZGxlIHRoZSBldmVudHMgaW4gdGhlIHJldmVyc2Ugb3JkZXIgb2YgdGhpcyBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdH0gaW50ZXJhY3Rpb24gSW50ZXJhY3Rpb24gdG8gYWRkLlxuICAgKiBAYXBpXG4gICAqL1xuICBhZGRJbnRlcmFjdGlvbihpbnRlcmFjdGlvbikge1xuICAgIHRoaXMuZ2V0SW50ZXJhY3Rpb25zKCkucHVzaChpbnRlcmFjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgZ2l2ZW4gbGF5ZXIgdG8gdGhlIHRvcCBvZiB0aGlzIG1hcC4gSWYgeW91IHdhbnQgdG8gYWRkIGEgbGF5ZXJcbiAgICogZWxzZXdoZXJlIGluIHRoZSBzdGFjaywgdXNlIGBnZXRMYXllcnMoKWAgYW5kIHRoZSBtZXRob2RzIGF2YWlsYWJsZSBvblxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL0NvbGxlY3Rpb25+Q29sbGVjdGlvbn0uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgKiBAYXBpXG4gICAqL1xuICBhZGRMYXllcihsYXllcikge1xuICAgIGNvbnN0IGxheWVycyA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVycygpO1xuICAgIGxheWVycy5wdXNoKGxheWVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvR3JvdXAuanNcIikuR3JvdXBFdmVudH0gZXZlbnQgVGhlIGxheWVyIGFkZCBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUxheWVyQWRkXyhldmVudCkge1xuICAgIHNldExheWVyTWFwUHJvcGVydHkoZXZlbnQubGF5ZXIsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUgZ2l2ZW4gb3ZlcmxheSB0byB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSBvdmVybGF5IE92ZXJsYXkuXG4gICAqIEBhcGlcbiAgICovXG4gIGFkZE92ZXJsYXkob3ZlcmxheSkge1xuICAgIHRoaXMuZ2V0T3ZlcmxheXMoKS5wdXNoKG92ZXJsYXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZGVhbHMgd2l0aCBtYXAncyBvdmVybGF5IGNvbGxlY3Rpb24gY2hhbmdlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdH0gb3ZlcmxheSBPdmVybGF5LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYWRkT3ZlcmxheUludGVybmFsXyhvdmVybGF5KSB7XG4gICAgY29uc3QgaWQgPSBvdmVybGF5LmdldElkKCk7XG4gICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3ZlcmxheUlkSW5kZXhfW2lkLnRvU3RyaW5nKCldID0gb3ZlcmxheTtcbiAgICB9XG4gICAgb3ZlcmxheS5zZXRNYXAodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQ2xlYW4gdXAuXG4gICAqL1xuICBkaXNwb3NlSW50ZXJuYWwoKSB7XG4gICAgdGhpcy5jb250cm9scy5jbGVhcigpO1xuICAgIHRoaXMuaW50ZXJhY3Rpb25zLmNsZWFyKCk7XG4gICAgdGhpcy5vdmVybGF5c18uY2xlYXIoKTtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyXy5kaXNjb25uZWN0KCk7XG4gICAgdGhpcy5zZXRUYXJnZXQobnVsbCk7XG4gICAgc3VwZXIuZGlzcG9zZUludGVybmFsKCk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZWN0IGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LCBhbmQgZXhlY3V0ZSBhXG4gICAqIGNhbGxiYWNrIHdpdGggZWFjaCBpbnRlcnNlY3RpbmcgZmVhdHVyZS4gTGF5ZXJzIGluY2x1ZGVkIGluIHRoZSBkZXRlY3Rpb24gY2FuXG4gICAqIGJlIGNvbmZpZ3VyZWQgdGhyb3VnaCB0aGUgYGxheWVyRmlsdGVyYCBvcHRpb24gaW4gYG9wdGlvbnNgLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSwgaW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4vc291cmNlL1NvdXJjZVwiKS5kZWZhdWx0PiwgaW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQpOiBUfSBjYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLiBUaGUgY2FsbGJhY2sgd2lsbCBiZVxuICAgKiAgICAgY2FsbGVkIHdpdGggdHdvIGFyZ3VtZW50cy4gVGhlIGZpcnN0IGFyZ3VtZW50IGlzIG9uZVxuICAgKiAgICAge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmUgZmVhdHVyZX0gb3JcbiAgICogICAgIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL0ZlYXR1cmV+UmVuZGVyRmVhdHVyZSByZW5kZXIgZmVhdHVyZX0gYXQgdGhlIHBpeGVsLCB0aGUgc2Vjb25kIGlzXG4gICAqICAgICB0aGUge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllcn5MYXllciBsYXllcn0gb2YgdGhlIGZlYXR1cmUgYW5kIHdpbGwgYmUgbnVsbCBmb3JcbiAgICogICAgIHVubWFuYWdlZCBsYXllcnMuIFRvIHN0b3AgZGV0ZWN0aW9uLCBjYWxsYmFjayBmdW5jdGlvbnMgY2FuIHJldHVybiBhXG4gICAqICAgICB0cnV0aHkgdmFsdWUuXG4gICAqIEBwYXJhbSB7QXRQaXhlbE9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25hbCBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LCBpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YgbGFzdFxuICAgKiBjYWxsYmFjayBleGVjdXRpb24sIG9yIHRoZSBmaXJzdCB0cnV0aHkgY2FsbGJhY2sgcmV0dXJuIHZhbHVlLlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKiBAYXBpXG4gICAqL1xuICBmb3JFYWNoRmVhdHVyZUF0UGl4ZWwocGl4ZWwsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmZyYW1lU3RhdGVfIHx8ICF0aGlzLnJlbmRlcmVyXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwocGl4ZWwpO1xuICAgIG9wdGlvbnMgPSBvcHRpb25zICE9PSB1bmRlZmluZWQgPyBvcHRpb25zIDoge307XG4gICAgY29uc3QgaGl0VG9sZXJhbmNlID1cbiAgICAgIG9wdGlvbnMuaGl0VG9sZXJhbmNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmhpdFRvbGVyYW5jZSA6IDA7XG4gICAgY29uc3QgbGF5ZXJGaWx0ZXIgPVxuICAgICAgb3B0aW9ucy5sYXllckZpbHRlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sYXllckZpbHRlciA6IFRSVUU7XG4gICAgY29uc3QgY2hlY2tXcmFwcGVkID0gb3B0aW9ucy5jaGVja1dyYXBwZWQgIT09IGZhbHNlO1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXy5mb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShcbiAgICAgIGNvb3JkaW5hdGUsXG4gICAgICB0aGlzLmZyYW1lU3RhdGVfLFxuICAgICAgaGl0VG9sZXJhbmNlLFxuICAgICAgY2hlY2tXcmFwcGVkLFxuICAgICAgY2FsbGJhY2ssXG4gICAgICBudWxsLFxuICAgICAgbGF5ZXJGaWx0ZXIsXG4gICAgICBudWxsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcGFyYW0ge0F0UGl4ZWxPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9uYWwgb3B0aW9ucy5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlPn0gVGhlIGRldGVjdGVkIGZlYXR1cmVzIG9yXG4gICAqIGFuIGVtcHR5IGFycmF5IGlmIG5vbmUgd2VyZSBmb3VuZC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RmVhdHVyZXNBdFBpeGVsKHBpeGVsLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcbiAgICB0aGlzLmZvckVhY2hGZWF0dXJlQXRQaXhlbChcbiAgICAgIHBpeGVsLFxuICAgICAgZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgZmVhdHVyZXMucHVzaChmZWF0dXJlKTtcbiAgICAgIH0sXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgICByZXR1cm4gZmVhdHVyZXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBsYXllcnMgZnJvbSBhbGwgbGF5ZXIgZ3JvdXBzLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBMYXllcnMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEFsbExheWVycygpIHtcbiAgICBjb25zdCBsYXllcnMgPSBbXTtcbiAgICBmdW5jdGlvbiBhZGRMYXllcnNGcm9tKGxheWVyR3JvdXApIHtcbiAgICAgIGxheWVyR3JvdXAuZm9yRWFjaChmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgaWYgKGxheWVyIGluc3RhbmNlb2YgTGF5ZXJHcm91cCkge1xuICAgICAgICAgIGFkZExheWVyc0Zyb20obGF5ZXIuZ2V0TGF5ZXJzKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxheWVycy5wdXNoKGxheWVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGFkZExheWVyc0Zyb20odGhpcy5nZXRMYXllcnMoKSk7XG4gICAgcmV0dXJuIGxheWVycztcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlY3QgaWYgZmVhdHVyZXMgaW50ZXJzZWN0IGEgcGl4ZWwgb24gdGhlIHZpZXdwb3J0LiBMYXllcnMgaW5jbHVkZWQgaW4gdGhlXG4gICAqIGRldGVjdGlvbiBjYW4gYmUgY29uZmlndXJlZCB0aHJvdWdoIHRoZSBgbGF5ZXJGaWx0ZXJgIG9wdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbC5cbiAgICogQHBhcmFtIHtBdFBpeGVsT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbmFsIG9wdGlvbnMuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIHRoZXJlIGEgZmVhdHVyZSBhdCB0aGUgZ2l2ZW4gcGl4ZWw/XG4gICAqIEBhcGlcbiAgICovXG4gIGhhc0ZlYXR1cmVBdFBpeGVsKHBpeGVsLCBvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmZyYW1lU3RhdGVfIHx8ICF0aGlzLnJlbmRlcmVyXykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBjb29yZGluYXRlID0gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwocGl4ZWwpO1xuICAgIG9wdGlvbnMgPSBvcHRpb25zICE9PSB1bmRlZmluZWQgPyBvcHRpb25zIDoge307XG4gICAgY29uc3QgbGF5ZXJGaWx0ZXIgPVxuICAgICAgb3B0aW9ucy5sYXllckZpbHRlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sYXllckZpbHRlciA6IFRSVUU7XG4gICAgY29uc3QgaGl0VG9sZXJhbmNlID1cbiAgICAgIG9wdGlvbnMuaGl0VG9sZXJhbmNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmhpdFRvbGVyYW5jZSA6IDA7XG4gICAgY29uc3QgY2hlY2tXcmFwcGVkID0gb3B0aW9ucy5jaGVja1dyYXBwZWQgIT09IGZhbHNlO1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXy5oYXNGZWF0dXJlQXRDb29yZGluYXRlKFxuICAgICAgY29vcmRpbmF0ZSxcbiAgICAgIHRoaXMuZnJhbWVTdGF0ZV8sXG4gICAgICBoaXRUb2xlcmFuY2UsXG4gICAgICBjaGVja1dyYXBwZWQsXG4gICAgICBsYXllckZpbHRlcixcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNvb3JkaW5hdGUgaW4gdXNlciBwcm9qZWN0aW9uIGZvciBhIGJyb3dzZXIgZXZlbnQuXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRFdmVudENvb3JkaW5hdGUoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsKHRoaXMuZ2V0RXZlbnRQaXhlbChldmVudCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNvb3JkaW5hdGUgaW4gdmlldyBwcm9qZWN0aW9uIGZvciBhIGJyb3dzZXIgZXZlbnQuXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlLlxuICAgKi9cbiAgZ2V0RXZlbnRDb29yZGluYXRlSW50ZXJuYWwoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwodGhpcy5nZXRFdmVudFBpeGVsKGV2ZW50KSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbWFwIHBpeGVsIHBvc2l0aW9uIGZvciBhIGJyb3dzZXIgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0LlxuICAgKiBAcGFyYW0ge1VJRXZlbnR8e2NsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyfX0gZXZlbnQgRXZlbnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IFBpeGVsLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRFdmVudFBpeGVsKGV2ZW50KSB7XG4gICAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLnZpZXdwb3J0XztcbiAgICBjb25zdCB2aWV3cG9ydFBvc2l0aW9uID0gdmlld3BvcnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3Qgdmlld3BvcnRTaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgY29uc3Qgc2NhbGVYID0gdmlld3BvcnRQb3NpdGlvbi53aWR0aCAvIHZpZXdwb3J0U2l6ZVswXTtcbiAgICBjb25zdCBzY2FsZVkgPSB2aWV3cG9ydFBvc2l0aW9uLmhlaWdodCAvIHZpZXdwb3J0U2l6ZVsxXTtcbiAgICBjb25zdCBldmVudFBvc2l0aW9uID1cbiAgICAgIC8vRklYTUUgQXJlIHdlIHJlYWxseSBjYWxsaW5nIHRoaXMgd2l0aCBhIFRvdWNoRXZlbnQgYW55d2hlcmU/XG4gICAgICAnY2hhbmdlZFRvdWNoZXMnIGluIGV2ZW50XG4gICAgICAgID8gLyoqIEB0eXBlIHtUb3VjaEV2ZW50fSAqLyAoZXZlbnQpLmNoYW5nZWRUb3VjaGVzWzBdXG4gICAgICAgIDogLyoqIEB0eXBlIHtNb3VzZUV2ZW50fSAqLyAoZXZlbnQpO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIChldmVudFBvc2l0aW9uLmNsaWVudFggLSB2aWV3cG9ydFBvc2l0aW9uLmxlZnQpIC8gc2NhbGVYLFxuICAgICAgKGV2ZW50UG9zaXRpb24uY2xpZW50WSAtIHZpZXdwb3J0UG9zaXRpb24udG9wKSAvIHNjYWxlWSxcbiAgICBdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGFyZ2V0IGluIHdoaWNoIHRoaXMgbWFwIGlzIHJlbmRlcmVkLlxuICAgKiBOb3RlIHRoYXQgdGhpcyByZXR1cm5zIHdoYXQgaXMgZW50ZXJlZCBhcyBhbiBvcHRpb24gb3IgaW4gc2V0VGFyZ2V0OlxuICAgKiBpZiB0aGF0IHdhcyBhbiBlbGVtZW50LCBpdCByZXR1cm5zIGFuIGVsZW1lbnQ7IGlmIGEgc3RyaW5nLCBpdCByZXR1cm5zIHRoYXQuXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fHN0cmluZ3x1bmRlZmluZWR9IFRoZSBFbGVtZW50IG9yIGlkIG9mIHRoZSBFbGVtZW50IHRoYXQgdGhlXG4gICAqICAgICBtYXAgaXMgcmVuZGVyZWQgaW4uXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRhcmdldCgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtIVE1MRWxlbWVudHxzdHJpbmd8dW5kZWZpbmVkfSAqLyAoXG4gICAgICB0aGlzLmdldChNYXBQcm9wZXJ0eS5UQVJHRVQpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIERPTSBlbGVtZW50IGludG8gd2hpY2ggdGhpcyBtYXAgaXMgcmVuZGVyZWQuIEluIGNvbnRyYXN0IHRvXG4gICAqIGBnZXRUYXJnZXRgIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm4gYW4gYEVsZW1lbnRgLCBvciBgbnVsbGAgaWYgdGhlXG4gICAqIG1hcCBoYXMgbm8gdGFyZ2V0LlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIGVsZW1lbnQgdGhhdCB0aGUgbWFwIGlzIHJlbmRlcmVkIGluLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUYXJnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLnRhcmdldEVsZW1lbnRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29vcmRpbmF0ZSBmb3IgYSBnaXZlbiBwaXhlbC4gIFRoaXMgcmV0dXJucyBhIGNvb3JkaW5hdGUgaW4gdGhlXG4gICAqIHVzZXIgcHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwaXhlbCBQaXhlbCBwb3NpdGlvbiBpbiB0aGUgbWFwIHZpZXdwb3J0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gVGhlIGNvb3JkaW5hdGUgZm9yIHRoZSBwaXhlbCBwb3NpdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbChwaXhlbCkge1xuICAgIHJldHVybiB0b1VzZXJDb29yZGluYXRlKFxuICAgICAgdGhpcy5nZXRDb29yZGluYXRlRnJvbVBpeGVsSW50ZXJuYWwocGl4ZWwpLFxuICAgICAgdGhpcy5nZXRWaWV3KCkuZ2V0UHJvamVjdGlvbigpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvb3JkaW5hdGUgZm9yIGEgZ2l2ZW4gcGl4ZWwuICBUaGlzIHJldHVybnMgYSBjb29yZGluYXRlIGluIHRoZVxuICAgKiBtYXAgdmlldyBwcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUaGUgY29vcmRpbmF0ZSBmb3IgdGhlIHBpeGVsIHBvc2l0aW9uLlxuICAgKi9cbiAgZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsKHBpeGVsKSB7XG4gICAgY29uc3QgZnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZV87XG4gICAgaWYgKCFmcmFtZVN0YXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0sIHBpeGVsLnNsaWNlKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWFwIGNvbnRyb2xzLiBNb2RpZnlpbmcgdGhpcyBjb2xsZWN0aW9uIGNoYW5nZXMgdGhlIGNvbnRyb2xzXG4gICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWFwLlxuICAgKiBAcmV0dXJuIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSBDb250cm9scy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Q29udHJvbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udHJvbHM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtYXAgb3ZlcmxheXMuIE1vZGlmeWluZyB0aGlzIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgb3ZlcmxheXNcbiAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSBtYXAuXG4gICAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHQ+fSBPdmVybGF5cy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0T3ZlcmxheXMoKSB7XG4gICAgcmV0dXJuIHRoaXMub3ZlcmxheXNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiBvdmVybGF5IGJ5IGl0cyBpZGVudGlmaWVyICh0aGUgdmFsdWUgcmV0dXJuZWQgYnkgb3ZlcmxheS5nZXRJZCgpKS5cbiAgICogTm90ZSB0aGF0IHRoZSBpbmRleCB0cmVhdHMgc3RyaW5nIGFuZCBudW1lcmljIGlkZW50aWZpZXJzIGFzIHRoZSBzYW1lLiBTb1xuICAgKiBgbWFwLmdldE92ZXJsYXlCeUlkKDIpYCB3aWxsIHJldHVybiBhbiBvdmVybGF5IHdpdGggaWQgYCcyJ2Agb3IgYDJgLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGlkIE92ZXJsYXkgaWRlbnRpZmllci5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9PdmVybGF5LmpzXCIpLmRlZmF1bHR9IE92ZXJsYXkuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE92ZXJsYXlCeUlkKGlkKSB7XG4gICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMub3ZlcmxheUlkSW5kZXhfW2lkLnRvU3RyaW5nKCldO1xuICAgIHJldHVybiBvdmVybGF5ICE9PSB1bmRlZmluZWQgPyBvdmVybGF5IDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hcCBpbnRlcmFjdGlvbnMuIE1vZGlmeWluZyB0aGlzIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgaW50ZXJhY3Rpb25zXG4gICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWFwLlxuICAgKlxuICAgKiBJbnRlcmFjdGlvbnMgYXJlIHVzZWQgZm9yIGUuZy4gcGFuLCB6b29tIGFuZCByb3RhdGUuXG4gICAqIEByZXR1cm4ge0NvbGxlY3Rpb248aW1wb3J0KFwiLi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbi5qc1wiKS5kZWZhdWx0Pn0gSW50ZXJhY3Rpb25zLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRJbnRlcmFjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJhY3Rpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGF5ZXJncm91cCBhc3NvY2lhdGVkIHdpdGggdGhpcyBtYXAuXG4gICAqIEByZXR1cm4ge0xheWVyR3JvdXB9IEEgbGF5ZXIgZ3JvdXAgY29udGFpbmluZyB0aGUgbGF5ZXJzIGluIHRoaXMgbWFwLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRMYXllckdyb3VwKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge0xheWVyR3JvdXB9ICovICh0aGlzLmdldChNYXBQcm9wZXJ0eS5MQVlFUkdST1VQKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYW55IGV4aXN0aW5nIGxheWVycyBhbmQgYWRkIGxheWVycyB0byB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0PnxDb2xsZWN0aW9uPGltcG9ydChcIi4vbGF5ZXIvQmFzZS5qc1wiKS5kZWZhdWx0Pn0gbGF5ZXJzIFRoZSBsYXllcnMgdG8gYmUgYWRkZWQgdG8gdGhlIG1hcC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TGF5ZXJzKGxheWVycykge1xuICAgIGNvbnN0IGdyb3VwID0gdGhpcy5nZXRMYXllckdyb3VwKCk7XG4gICAgaWYgKGxheWVycyBpbnN0YW5jZW9mIENvbGxlY3Rpb24pIHtcbiAgICAgIGdyb3VwLnNldExheWVycyhsYXllcnMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBncm91cC5nZXRMYXllcnMoKTtcbiAgICBjb2xsZWN0aW9uLmNsZWFyKCk7XG4gICAgY29sbGVjdGlvbi5leHRlbmQobGF5ZXJzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbGxlY3Rpb24gb2YgbGF5ZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1hcC5cbiAgICogQHJldHVybiB7IUNvbGxlY3Rpb248aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fSBMYXllcnMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldExheWVycygpIHtcbiAgICBjb25zdCBsYXllcnMgPSB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKTtcbiAgICByZXR1cm4gbGF5ZXJzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IExheWVycyBoYXZlIHNvdXJjZXMgdGhhdCBhcmUgc3RpbGwgbG9hZGluZy5cbiAgICovXG4gIGdldExvYWRpbmdPck5vdFJlYWR5KCkge1xuICAgIGNvbnN0IGxheWVyU3RhdGVzQXJyYXkgPSB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllclN0YXRlc0FycmF5KCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gbGF5ZXJTdGF0ZXNBcnJheS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IGxheWVyU3RhdGVzQXJyYXlbaV07XG4gICAgICBpZiAoIXN0YXRlLnZpc2libGUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCByZW5kZXJlciA9IHN0YXRlLmxheWVyLmdldFJlbmRlcmVyKCk7XG4gICAgICBpZiAocmVuZGVyZXIgJiYgIXJlbmRlcmVyLnJlYWR5KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3Qgc291cmNlID0gc3RhdGUubGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgICBpZiAoc291cmNlICYmIHNvdXJjZS5sb2FkaW5nKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwaXhlbCBmb3IgYSBjb29yZGluYXRlLiAgVGhpcyB0YWtlcyBhIGNvb3JkaW5hdGUgaW4gdGhlIHVzZXJcbiAgICogcHJvamVjdGlvbiBhbmQgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBwaXhlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBBIG1hcCBjb29yZGluYXRlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBBIHBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFBpeGVsRnJvbUNvb3JkaW5hdGUoY29vcmRpbmF0ZSkge1xuICAgIGNvbnN0IHZpZXdDb29yZGluYXRlID0gZnJvbVVzZXJDb29yZGluYXRlKFxuICAgICAgY29vcmRpbmF0ZSxcbiAgICAgIHRoaXMuZ2V0VmlldygpLmdldFByb2plY3Rpb24oKVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsKHZpZXdDb29yZGluYXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHBpeGVsIGZvciBhIGNvb3JkaW5hdGUuICBUaGlzIHRha2VzIGEgY29vcmRpbmF0ZSBpbiB0aGUgbWFwIHZpZXdcbiAgICogcHJvamVjdGlvbiBhbmQgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBwaXhlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBBIG1hcCBjb29yZGluYXRlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBBIHBpeGVsIHBvc2l0aW9uIGluIHRoZSBtYXAgdmlld3BvcnQuXG4gICAqL1xuICBnZXRQaXhlbEZyb21Db29yZGluYXRlSW50ZXJuYWwoY29vcmRpbmF0ZSkge1xuICAgIGNvbnN0IGZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuICAgIGlmICghZnJhbWVTdGF0ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBhcHBseVRyYW5zZm9ybShcbiAgICAgIGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sXG4gICAgICBjb29yZGluYXRlLnNsaWNlKDAsIDIpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hcCByZW5kZXJlci5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9yZW5kZXJlci9NYXAuanNcIikuZGVmYXVsdHxudWxsfSBSZW5kZXJlclxuICAgKi9cbiAgZ2V0UmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc2l6ZSBvZiB0aGlzIG1hcC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfSBUaGUgc2l6ZSBpbiBwaXhlbHMgb2YgdGhlIG1hcCBpbiB0aGUgRE9NLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRTaXplKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH0gKi8gKFxuICAgICAgdGhpcy5nZXQoTWFwUHJvcGVydHkuU0laRSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldyBhc3NvY2lhdGVkIHdpdGggdGhpcyBtYXAuIEEgdmlldyBtYW5hZ2VzIHByb3BlcnRpZXMgc3VjaCBhc1xuICAgKiBjZW50ZXIgYW5kIHJlc29sdXRpb24uXG4gICAqIEByZXR1cm4ge1ZpZXd9IFRoZSB2aWV3IHRoYXQgY29udHJvbHMgdGhpcyBtYXAuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFZpZXcoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7Vmlld30gKi8gKHRoaXMuZ2V0KE1hcFByb3BlcnR5LlZJRVcpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGVsZW1lbnQgdGhhdCBzZXJ2ZXMgYXMgdGhlIG1hcCB2aWV3cG9ydC5cbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFZpZXdwb3J0LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRWaWV3cG9ydCgpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3cG9ydF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBlbGVtZW50IHRoYXQgc2VydmVzIGFzIHRoZSBjb250YWluZXIgZm9yIG92ZXJsYXlzLiAgRWxlbWVudHMgYWRkZWQgdG9cbiAgICogdGhpcyBjb250YWluZXIgd2lsbCBsZXQgbW91c2Vkb3duIGFuZCB0b3VjaHN0YXJ0IGV2ZW50cyB0aHJvdWdoIHRvIHRoZSBtYXAsXG4gICAqIHNvIGNsaWNrcyBhbmQgZ2VzdHVyZXMgb24gYW4gb3ZlcmxheSB3aWxsIHRyaWdnZXIge0BsaW5rIG1vZHVsZTpvbC9NYXBCcm93c2VyRXZlbnR+TWFwQnJvd3NlckV2ZW50fVxuICAgKiBldmVudHMuXG4gICAqIEByZXR1cm4geyFIVE1MRWxlbWVudH0gVGhlIG1hcCdzIG92ZXJsYXkgY29udGFpbmVyLlxuICAgKi9cbiAgZ2V0T3ZlcmxheUNvbnRhaW5lcigpIHtcbiAgICByZXR1cm4gdGhpcy5vdmVybGF5Q29udGFpbmVyXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGVsZW1lbnQgdGhhdCBzZXJ2ZXMgYXMgYSBjb250YWluZXIgZm9yIG92ZXJsYXlzIHRoYXQgZG9uJ3QgYWxsb3dcbiAgICogZXZlbnQgcHJvcGFnYXRpb24uIEVsZW1lbnRzIGFkZGVkIHRvIHRoaXMgY29udGFpbmVyIHdvbid0IGxldCBtb3VzZWRvd24gYW5kXG4gICAqIHRvdWNoc3RhcnQgZXZlbnRzIHRocm91Z2ggdG8gdGhlIG1hcCwgc28gY2xpY2tzIGFuZCBnZXN0dXJlcyBvbiBhbiBvdmVybGF5XG4gICAqIGRvbid0IHRyaWdnZXIgYW55IHtAbGluayBtb2R1bGU6b2wvTWFwQnJvd3NlckV2ZW50fk1hcEJyb3dzZXJFdmVudH0uXG4gICAqIEByZXR1cm4geyFIVE1MRWxlbWVudH0gVGhlIG1hcCdzIG92ZXJsYXkgY29udGFpbmVyIHRoYXQgc3RvcHMgZXZlbnRzLlxuICAgKi9cbiAgZ2V0T3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5vdmVybGF5Q29udGFpbmVyU3RvcEV2ZW50XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshRG9jdW1lbnR9IFRoZSBkb2N1bWVudCB3aGVyZSB0aGUgbWFwIGlzIGRpc3BsYXllZC5cbiAgICovXG4gIGdldE93bmVyRG9jdW1lbnQoKSB7XG4gICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IHRoaXMuZ2V0VGFyZ2V0RWxlbWVudCgpO1xuICAgIHJldHVybiB0YXJnZXRFbGVtZW50ID8gdGFyZ2V0RWxlbWVudC5vd25lckRvY3VtZW50IDogZG9jdW1lbnQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGlsZVNvdXJjZUtleSBUaWxlIHNvdXJjZSBrZXkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHRpbGVDZW50ZXIgVGlsZSBjZW50ZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aWxlUmVzb2x1dGlvbiBUaWxlIHJlc29sdXRpb24uXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGlsZSBwcmlvcml0eS5cbiAgICovXG4gIGdldFRpbGVQcmlvcml0eSh0aWxlLCB0aWxlU291cmNlS2V5LCB0aWxlQ2VudGVyLCB0aWxlUmVzb2x1dGlvbikge1xuICAgIHJldHVybiBnZXRUaWxlUHJpb3JpdHkoXG4gICAgICB0aGlzLmZyYW1lU3RhdGVfLFxuICAgICAgdGlsZSxcbiAgICAgIHRpbGVTb3VyY2VLZXksXG4gICAgICB0aWxlQ2VudGVyLFxuICAgICAgdGlsZVJlc29sdXRpb25cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VUlFdmVudH0gYnJvd3NlckV2ZW50IEJyb3dzZXIgZXZlbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZV0gVHlwZS5cbiAgICovXG4gIGhhbmRsZUJyb3dzZXJFdmVudChicm93c2VyRXZlbnQsIHR5cGUpIHtcbiAgICB0eXBlID0gdHlwZSB8fCBicm93c2VyRXZlbnQudHlwZTtcbiAgICBjb25zdCBtYXBCcm93c2VyRXZlbnQgPSBuZXcgTWFwQnJvd3NlckV2ZW50KHR5cGUsIHRoaXMsIGJyb3dzZXJFdmVudCk7XG4gICAgdGhpcy5oYW5kbGVNYXBCcm93c2VyRXZlbnQobWFwQnJvd3NlckV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01hcEJyb3dzZXJFdmVudH0gbWFwQnJvd3NlckV2ZW50IFRoZSBldmVudCB0byBoYW5kbGUuXG4gICAqL1xuICBoYW5kbGVNYXBCcm93c2VyRXZlbnQobWFwQnJvd3NlckV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmZyYW1lU3RhdGVfKSB7XG4gICAgICAvLyBXaXRoIG5vIHZpZXcgZGVmaW5lZCwgd2UgY2Fubm90IHRyYW5zbGF0ZSBwaXhlbHMgaW50byBnZW9ncmFwaGljYWxcbiAgICAgIC8vIGNvb3JkaW5hdGVzIHNvIGludGVyYWN0aW9ucyBjYW5ub3QgYmUgdXNlZC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IC8qKiBAdHlwZSB7UG9pbnRlckV2ZW50fSAqLyAoXG4gICAgICBtYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudFxuICAgICk7XG4gICAgY29uc3QgZXZlbnRUeXBlID0gb3JpZ2luYWxFdmVudC50eXBlO1xuICAgIGlmIChcbiAgICAgIGV2ZW50VHlwZSA9PT0gUG9pbnRlckV2ZW50VHlwZS5QT0lOVEVSRE9XTiB8fFxuICAgICAgZXZlbnRUeXBlID09PSBFdmVudFR5cGUuV0hFRUwgfHxcbiAgICAgIGV2ZW50VHlwZSA9PT0gRXZlbnRUeXBlLktFWURPV05cbiAgICApIHtcbiAgICAgIGNvbnN0IGRvYyA9IHRoaXMuZ2V0T3duZXJEb2N1bWVudCgpO1xuICAgICAgY29uc3Qgcm9vdE5vZGUgPSB0aGlzLnZpZXdwb3J0Xy5nZXRSb290Tm9kZVxuICAgICAgICA/IHRoaXMudmlld3BvcnRfLmdldFJvb3ROb2RlKClcbiAgICAgICAgOiBkb2M7XG4gICAgICBjb25zdCB0YXJnZXQgPSAvKiogQHR5cGUge05vZGV9ICovIChvcmlnaW5hbEV2ZW50LnRhcmdldCk7XG4gICAgICBpZiAoXG4gICAgICAgIC8vIEFib3J0IGlmIHRoZSB0YXJnZXQgaXMgYSBjaGlsZCBvZiB0aGUgY29udGFpbmVyIGZvciBlbGVtZW50cyB3aG9zZSBldmVudHMgYXJlIG5vdCBtZWFudFxuICAgICAgICAvLyB0byBiZSBoYW5kbGVkIGJ5IG1hcCBpbnRlcmFjdGlvbnMuXG4gICAgICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudF8uY29udGFpbnModGFyZ2V0KSB8fFxuICAgICAgICAvLyBBYm9ydCBpZiB0aGUgZXZlbnQgdGFyZ2V0IGlzIGEgY2hpbGQgb2YgdGhlIGNvbnRhaW5lciB0aGF0IGlzIG5vIGxvbmdlciBpbiB0aGUgcGFnZS5cbiAgICAgICAgLy8gSXQncyBwb3NzaWJsZSBmb3IgdGhlIHRhcmdldCB0byBubyBsb25nZXIgYmUgaW4gdGhlIHBhZ2UgaWYgaXQgaGFzIGJlZW4gcmVtb3ZlZCBpbiBhblxuICAgICAgICAvLyBldmVudCBsaXN0ZW5lciwgdGhpcyBtaWdodCBoYXBwZW4gaW4gYSBDb250cm9sIHRoYXQgcmVjcmVhdGVzIGl0J3MgY29udGVudCBiYXNlZCBvblxuICAgICAgICAvLyB1c2VyIGludGVyYWN0aW9uIGVpdGhlciBtYW51YWxseSBvciB2aWEgYSByZW5kZXIgaW4gc29tZXRoaW5nIGxpa2UgaHR0cHM6Ly9yZWFjdGpzLm9yZy9cbiAgICAgICAgIShyb290Tm9kZSA9PT0gZG9jID8gZG9jLmRvY3VtZW50RWxlbWVudCA6IHJvb3ROb2RlKS5jb250YWlucyh0YXJnZXQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBtYXBCcm93c2VyRXZlbnQuZnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZV87XG4gICAgaWYgKHRoaXMuZGlzcGF0Y2hFdmVudChtYXBCcm93c2VyRXZlbnQpICE9PSBmYWxzZSkge1xuICAgICAgY29uc3QgaW50ZXJhY3Rpb25zQXJyYXkgPSB0aGlzLmdldEludGVyYWN0aW9ucygpLmdldEFycmF5KCkuc2xpY2UoKTtcbiAgICAgIGZvciAobGV0IGkgPSBpbnRlcmFjdGlvbnNBcnJheS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uc0FycmF5W2ldO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaW50ZXJhY3Rpb24uZ2V0TWFwKCkgIT09IHRoaXMgfHxcbiAgICAgICAgICAhaW50ZXJhY3Rpb24uZ2V0QWN0aXZlKCkgfHxcbiAgICAgICAgICAhdGhpcy5nZXRUYXJnZXRFbGVtZW50KClcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udCA9IGludGVyYWN0aW9uLmhhbmRsZUV2ZW50KG1hcEJyb3dzZXJFdmVudCk7XG4gICAgICAgIGlmICghY29udCB8fCBtYXBCcm93c2VyRXZlbnQucHJvcGFnYXRpb25TdG9wcGVkKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgaGFuZGxlUG9zdFJlbmRlcigpIHtcbiAgICBjb25zdCBmcmFtZVN0YXRlID0gdGhpcy5mcmFtZVN0YXRlXztcblxuICAgIC8vIE1hbmFnZSB0aGUgdGlsZSBxdWV1ZVxuICAgIC8vIEltYWdlIGxvYWRzIGFyZSBleHBlbnNpdmUgYW5kIGEgbGltaXRlZCByZXNvdXJjZSwgc28gdHJ5IHRvIHVzZSB0aGVtXG4gICAgLy8gZWZmaWNpZW50bHk6XG4gICAgLy8gKiBXaGVuIHRoZSB2aWV3IGlzIHN0YXRpYyB3ZSBhbGxvdyBhIGxhcmdlIG51bWJlciBvZiBwYXJhbGxlbCB0aWxlIGxvYWRzXG4gICAgLy8gICB0byBjb21wbGV0ZSB0aGUgZnJhbWUgYXMgcXVpY2tseSBhcyBwb3NzaWJsZS5cbiAgICAvLyAqIFdoZW4gYW5pbWF0aW5nIG9yIGludGVyYWN0aW5nLCBpbWFnZSBsb2FkcyBjYW4gY2F1c2UgamFua3MsIHNvIHdlIHJlZHVjZVxuICAgIC8vICAgdGhlIG1heGltdW0gbnVtYmVyIG9mIGxvYWRzIHBlciBmcmFtZSBhbmQgbGltaXQgdGhlIG51bWJlciBvZiBwYXJhbGxlbFxuICAgIC8vICAgdGlsZSBsb2FkcyB0byByZW1haW4gcmVhY3RpdmUgdG8gdmlldyBjaGFuZ2VzIGFuZCB0byByZWR1Y2UgdGhlIGNoYW5jZSBvZlxuICAgIC8vICAgbG9hZGluZyB0aWxlcyB0aGF0IHdpbGwgcXVpY2tseSBkaXNhcHBlYXIgZnJvbSB2aWV3LlxuICAgIGNvbnN0IHRpbGVRdWV1ZSA9IHRoaXMudGlsZVF1ZXVlXztcbiAgICBpZiAoIXRpbGVRdWV1ZS5pc0VtcHR5KCkpIHtcbiAgICAgIGxldCBtYXhUb3RhbExvYWRpbmcgPSB0aGlzLm1heFRpbGVzTG9hZGluZ187XG4gICAgICBsZXQgbWF4TmV3TG9hZHMgPSBtYXhUb3RhbExvYWRpbmc7XG4gICAgICBpZiAoZnJhbWVTdGF0ZSkge1xuICAgICAgICBjb25zdCBoaW50cyA9IGZyYW1lU3RhdGUudmlld0hpbnRzO1xuICAgICAgICBpZiAoaGludHNbVmlld0hpbnQuQU5JTUFUSU5HXSB8fCBoaW50c1tWaWV3SGludC5JTlRFUkFDVElOR10pIHtcbiAgICAgICAgICBjb25zdCBsb3dPbkZyYW1lQnVkZ2V0ID0gRGF0ZS5ub3coKSAtIGZyYW1lU3RhdGUudGltZSA+IDg7XG4gICAgICAgICAgbWF4VG90YWxMb2FkaW5nID0gbG93T25GcmFtZUJ1ZGdldCA/IDAgOiA4O1xuICAgICAgICAgIG1heE5ld0xvYWRzID0gbG93T25GcmFtZUJ1ZGdldCA/IDAgOiAyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGlsZVF1ZXVlLmdldFRpbGVzTG9hZGluZygpIDwgbWF4VG90YWxMb2FkaW5nKSB7XG4gICAgICAgIHRpbGVRdWV1ZS5yZXByaW9yaXRpemUoKTsgLy8gRklYTUUgb25seSBjYWxsIGlmIHZpZXcgaGFzIGNoYW5nZWRcbiAgICAgICAgdGlsZVF1ZXVlLmxvYWRNb3JlVGlsZXMobWF4VG90YWxMb2FkaW5nLCBtYXhOZXdMb2Fkcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZyYW1lU3RhdGUgJiYgdGhpcy5yZW5kZXJlcl8gJiYgIWZyYW1lU3RhdGUuYW5pbWF0ZSkge1xuICAgICAgaWYgKHRoaXMucmVuZGVyQ29tcGxldGVfID09PSB0cnVlKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0xpc3RlbmVyKFJlbmRlckV2ZW50VHlwZS5SRU5ERVJDT01QTEVURSkpIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyXy5kaXNwYXRjaFJlbmRlckV2ZW50KFxuICAgICAgICAgICAgUmVuZGVyRXZlbnRUeXBlLlJFTkRFUkNPTVBMRVRFLFxuICAgICAgICAgICAgZnJhbWVTdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubG9hZGVkXyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLmxvYWRlZF8gPSB0cnVlO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIG5ldyBNYXBFdmVudChNYXBFdmVudFR5cGUuTE9BREVORCwgdGhpcywgZnJhbWVTdGF0ZSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubG9hZGVkXyA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmxvYWRlZF8gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgIG5ldyBNYXBFdmVudChNYXBFdmVudFR5cGUuTE9BRFNUQVJULCB0aGlzLCBmcmFtZVN0YXRlKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHBvc3RSZW5kZXJGdW5jdGlvbnMgPSB0aGlzLnBvc3RSZW5kZXJGdW5jdGlvbnNfO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHBvc3RSZW5kZXJGdW5jdGlvbnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgcG9zdFJlbmRlckZ1bmN0aW9uc1tpXSh0aGlzLCBmcmFtZVN0YXRlKTtcbiAgICB9XG4gICAgcG9zdFJlbmRlckZ1bmN0aW9ucy5sZW5ndGggPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVTaXplQ2hhbmdlZF8oKSB7XG4gICAgaWYgKHRoaXMuZ2V0VmlldygpICYmICF0aGlzLmdldFZpZXcoKS5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgdGhpcy5nZXRWaWV3KCkucmVzb2x2ZUNvbnN0cmFpbnRzKDApO1xuICAgIH1cblxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVRhcmdldENoYW5nZWRfKCkge1xuICAgIGlmICh0aGlzLm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSB0aGlzLnRhcmdldENoYW5nZUhhbmRsZXJLZXlzXy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIHVubGlzdGVuQnlLZXkodGhpcy50YXJnZXRDaGFuZ2VIYW5kbGVyS2V5c19baV0pO1xuICAgICAgfVxuICAgICAgdGhpcy50YXJnZXRDaGFuZ2VIYW5kbGVyS2V5c18gPSBudWxsO1xuICAgICAgdGhpcy52aWV3cG9ydF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgRXZlbnRUeXBlLkNPTlRFWFRNRU5VLFxuICAgICAgICB0aGlzLmJvdW5kSGFuZGxlQnJvd3NlckV2ZW50X1xuICAgICAgKTtcbiAgICAgIHRoaXMudmlld3BvcnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIEV2ZW50VHlwZS5XSEVFTCxcbiAgICAgICAgdGhpcy5ib3VuZEhhbmRsZUJyb3dzZXJFdmVudF9cbiAgICAgICk7XG4gICAgICB0aGlzLm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8gPSBudWxsO1xuICAgICAgcmVtb3ZlTm9kZSh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGFyZ2V0RWxlbWVudF8pIHtcbiAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXJfLnVub2JzZXJ2ZSh0aGlzLnRhcmdldEVsZW1lbnRfKTtcbiAgICAgIGNvbnN0IHJvb3ROb2RlID0gdGhpcy50YXJnZXRFbGVtZW50Xy5nZXRSb290Tm9kZSgpO1xuICAgICAgaWYgKHJvb3ROb2RlIGluc3RhbmNlb2YgU2hhZG93Um9vdCkge1xuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyXy51bm9ic2VydmUocm9vdE5vZGUuaG9zdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdGFyZ2V0IG1heSBiZSB1bmRlZmluZWQsIG51bGwsIGEgc3RyaW5nIG9yIGFuIEVsZW1lbnQuXG4gICAgLy8gSWYgaXQncyBhIHN0cmluZyB3ZSBjb252ZXJ0IGl0IHRvIGFuIEVsZW1lbnQgYmVmb3JlIHByb2NlZWRpbmcuXG4gICAgLy8gSWYgaXQncyBub3Qgbm93IGFuIEVsZW1lbnQgd2UgcmVtb3ZlIHRoZSB2aWV3cG9ydCBmcm9tIHRoZSBET00uXG4gICAgLy8gSWYgaXQncyBhbiBFbGVtZW50IHdlIGFwcGVuZCB0aGUgdmlld3BvcnQgZWxlbWVudCB0byBpdC5cblxuICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuZ2V0VGFyZ2V0KCk7XG4gICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9XG4gICAgICB0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCkgOiB0YXJnZXQ7XG4gICAgdGhpcy50YXJnZXRFbGVtZW50XyA9IHRhcmdldEVsZW1lbnQ7XG4gICAgaWYgKCF0YXJnZXRFbGVtZW50KSB7XG4gICAgICBpZiAodGhpcy5yZW5kZXJlcl8pIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfKTtcbiAgICAgICAgdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucG9zdFJlbmRlckZ1bmN0aW9uc18ubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5yZW5kZXJlcl8uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyXyA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5hbmltYXRpb25EZWxheUtleV8pIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25EZWxheUtleV8pO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkRlbGF5S2V5XyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnZpZXdwb3J0Xyk7XG4gICAgICBpZiAoIXRoaXMucmVuZGVyZXJfKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXJfID0gbmV3IENvbXBvc2l0ZU1hcFJlbmRlcmVyKHRoaXMpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1hcEJyb3dzZXJFdmVudEhhbmRsZXJfID0gbmV3IE1hcEJyb3dzZXJFdmVudEhhbmRsZXIoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHRoaXMubW92ZVRvbGVyYW5jZV9cbiAgICAgICk7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBNYXBCcm93c2VyRXZlbnRUeXBlKSB7XG4gICAgICAgIHRoaXMubWFwQnJvd3NlckV2ZW50SGFuZGxlcl8uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBNYXBCcm93c2VyRXZlbnRUeXBlW2tleV0sXG4gICAgICAgICAgdGhpcy5oYW5kbGVNYXBCcm93c2VyRXZlbnQuYmluZCh0aGlzKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy52aWV3cG9ydF8uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgRXZlbnRUeXBlLkNPTlRFWFRNRU5VLFxuICAgICAgICB0aGlzLmJvdW5kSGFuZGxlQnJvd3NlckV2ZW50XyxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgICB0aGlzLnZpZXdwb3J0Xy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBFdmVudFR5cGUuV0hFRUwsXG4gICAgICAgIHRoaXMuYm91bmRIYW5kbGVCcm93c2VyRXZlbnRfLFxuICAgICAgICBQQVNTSVZFX0VWRU5UX0xJU1RFTkVSUyA/IHtwYXNzaXZlOiBmYWxzZX0gOiBmYWxzZVxuICAgICAgKTtcblxuICAgICAgY29uc3Qga2V5Ym9hcmRFdmVudFRhcmdldCA9ICF0aGlzLmtleWJvYXJkRXZlbnRUYXJnZXRfXG4gICAgICAgID8gdGFyZ2V0RWxlbWVudFxuICAgICAgICA6IHRoaXMua2V5Ym9hcmRFdmVudFRhcmdldF87XG4gICAgICB0aGlzLnRhcmdldENoYW5nZUhhbmRsZXJLZXlzXyA9IFtcbiAgICAgICAgbGlzdGVuKFxuICAgICAgICAgIGtleWJvYXJkRXZlbnRUYXJnZXQsXG4gICAgICAgICAgRXZlbnRUeXBlLktFWURPV04sXG4gICAgICAgICAgdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQsXG4gICAgICAgICAgdGhpc1xuICAgICAgICApLFxuICAgICAgICBsaXN0ZW4oXG4gICAgICAgICAga2V5Ym9hcmRFdmVudFRhcmdldCxcbiAgICAgICAgICBFdmVudFR5cGUuS0VZUFJFU1MsXG4gICAgICAgICAgdGhpcy5oYW5kbGVCcm93c2VyRXZlbnQsXG4gICAgICAgICAgdGhpc1xuICAgICAgICApLFxuICAgICAgXTtcbiAgICAgIGNvbnN0IHJvb3ROb2RlID0gdGFyZ2V0RWxlbWVudC5nZXRSb290Tm9kZSgpO1xuICAgICAgaWYgKHJvb3ROb2RlIGluc3RhbmNlb2YgU2hhZG93Um9vdCkge1xuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyXy5vYnNlcnZlKHJvb3ROb2RlLmhvc3QpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZXNpemVPYnNlcnZlcl8ub2JzZXJ2ZSh0YXJnZXRFbGVtZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVNpemUoKTtcbiAgICAvLyB1cGRhdGVTaXplIGNhbGxzIHNldFNpemUsIHNvIG5vIG5lZWQgdG8gY2FsbCB0aGlzLnJlbmRlclxuICAgIC8vIG91cnNlbHZlcyBoZXJlLlxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVUaWxlQ2hhbmdlXygpIHtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXygpIHtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVWaWV3Q2hhbmdlZF8oKSB7XG4gICAgaWYgKHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfKTtcbiAgICAgIHRoaXMudmlld1Byb3BlcnR5TGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMudmlld0NoYW5nZUxpc3RlbmVyS2V5Xykge1xuICAgICAgdW5saXN0ZW5CeUtleSh0aGlzLnZpZXdDaGFuZ2VMaXN0ZW5lcktleV8pO1xuICAgICAgdGhpcy52aWV3Q2hhbmdlTGlzdGVuZXJLZXlfID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgdmlldyA9IHRoaXMuZ2V0VmlldygpO1xuICAgIGlmICh2aWV3KSB7XG4gICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0U2l6ZV8oKTtcblxuICAgICAgdGhpcy52aWV3UHJvcGVydHlMaXN0ZW5lcktleV8gPSBsaXN0ZW4oXG4gICAgICAgIHZpZXcsXG4gICAgICAgIE9iamVjdEV2ZW50VHlwZS5QUk9QRVJUWUNIQU5HRSxcbiAgICAgICAgdGhpcy5oYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXyxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICAgIHRoaXMudmlld0NoYW5nZUxpc3RlbmVyS2V5XyA9IGxpc3RlbihcbiAgICAgICAgdmlldyxcbiAgICAgICAgRXZlbnRUeXBlLkNIQU5HRSxcbiAgICAgICAgdGhpcy5oYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXyxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcblxuICAgICAgdmlldy5yZXNvbHZlQ29uc3RyYWludHMoMCk7XG4gICAgfVxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUxheWVyR3JvdXBDaGFuZ2VkXygpIHtcbiAgICBpZiAodGhpcy5sYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfKSB7XG4gICAgICB0aGlzLmxheWVyR3JvdXBQcm9wZXJ0eUxpc3RlbmVyS2V5c18uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICAgIHRoaXMubGF5ZXJHcm91cFByb3BlcnR5TGlzdGVuZXJLZXlzXyA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGxheWVyR3JvdXAgPSB0aGlzLmdldExheWVyR3JvdXAoKTtcbiAgICBpZiAobGF5ZXJHcm91cCkge1xuICAgICAgdGhpcy5oYW5kbGVMYXllckFkZF8obmV3IEdyb3VwRXZlbnQoJ2FkZGxheWVyJywgbGF5ZXJHcm91cCkpO1xuICAgICAgdGhpcy5sYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfID0gW1xuICAgICAgICBsaXN0ZW4obGF5ZXJHcm91cCwgT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFLCB0aGlzLnJlbmRlciwgdGhpcyksXG4gICAgICAgIGxpc3RlbihsYXllckdyb3VwLCBFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLnJlbmRlciwgdGhpcyksXG4gICAgICAgIGxpc3RlbihsYXllckdyb3VwLCAnYWRkbGF5ZXInLCB0aGlzLmhhbmRsZUxheWVyQWRkXywgdGhpcyksXG4gICAgICAgIGxpc3RlbihsYXllckdyb3VwLCAncmVtb3ZlbGF5ZXInLCB0aGlzLmhhbmRsZUxheWVyUmVtb3ZlXywgdGhpcyksXG4gICAgICBdO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElzIHJlbmRlcmVkLlxuICAgKi9cbiAgaXNSZW5kZXJlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLmZyYW1lU3RhdGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhbmltYXRpb25EZWxheV8oKSB7XG4gICAgdGhpcy5hbmltYXRpb25EZWxheUtleV8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5yZW5kZXJGcmFtZV8oRGF0ZS5ub3coKSk7XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdHMgYW4gaW1tZWRpYXRlIHJlbmRlciBpbiBhIHN5bmNocm9ub3VzIG1hbm5lci5cbiAgICogQGFwaVxuICAgKi9cbiAgcmVuZGVyU3luYygpIHtcbiAgICBpZiAodGhpcy5hbmltYXRpb25EZWxheUtleV8pIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRGVsYXlLZXlfKTtcbiAgICB9XG4gICAgdGhpcy5hbmltYXRpb25EZWxheV8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWRyYXdzIGFsbCB0ZXh0IGFmdGVyIG5ldyBmb250cyBoYXZlIGxvYWRlZFxuICAgKi9cbiAgcmVkcmF3VGV4dCgpIHtcbiAgICBjb25zdCBsYXllclN0YXRlcyA9IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVyU3RhdGVzQXJyYXkoKTtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBsYXllclN0YXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBjb25zdCBsYXllciA9IGxheWVyU3RhdGVzW2ldLmxheWVyO1xuICAgICAgaWYgKGxheWVyLmhhc1JlbmRlcmVyKCkpIHtcbiAgICAgICAgbGF5ZXIuZ2V0UmVuZGVyZXIoKS5oYW5kbGVGb250c0NoYW5nZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdCBhIG1hcCByZW5kZXJpbmcgKGF0IHRoZSBuZXh0IGFuaW1hdGlvbiBmcmFtZSkuXG4gICAqIEBhcGlcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJlcl8gJiYgdGhpcy5hbmltYXRpb25EZWxheUtleV8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5hbmltYXRpb25EZWxheUtleV8gPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25EZWxheV8pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGdpdmVuIGNvbnRyb2wgZnJvbSB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHR9IGNvbnRyb2wgQ29udHJvbC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb250cm9sL0NvbnRyb2wuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIGNvbnRyb2wgKG9yIHVuZGVmaW5lZFxuICAgKiAgICAgaWYgdGhlIGNvbnRyb2wgd2FzIG5vdCBmb3VuZCkuXG4gICAqIEBhcGlcbiAgICovXG4gIHJlbW92ZUNvbnRyb2woY29udHJvbCkge1xuICAgIHJldHVybiB0aGlzLmdldENvbnRyb2xzKCkucmVtb3ZlKGNvbnRyb2wpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgZ2l2ZW4gaW50ZXJhY3Rpb24gZnJvbSB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdH0gaW50ZXJhY3Rpb24gSW50ZXJhY3Rpb24gdG8gcmVtb3ZlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHR8dW5kZWZpbmVkfSBUaGUgcmVtb3ZlZCBpbnRlcmFjdGlvbiAob3JcbiAgICogICAgIHVuZGVmaW5lZCBpZiB0aGUgaW50ZXJhY3Rpb24gd2FzIG5vdCBmb3VuZCkuXG4gICAqIEBhcGlcbiAgICovXG4gIHJlbW92ZUludGVyYWN0aW9uKGludGVyYWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0SW50ZXJhY3Rpb25zKCkucmVtb3ZlKGludGVyYWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBnaXZlbiBsYXllciBmcm9tIHRoZSBtYXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSByZW1vdmVkIGxheWVyIChvciB1bmRlZmluZWQgaWYgdGhlXG4gICAqICAgICBsYXllciB3YXMgbm90IGZvdW5kKS5cbiAgICogQGFwaVxuICAgKi9cbiAgcmVtb3ZlTGF5ZXIobGF5ZXIpIHtcbiAgICBjb25zdCBsYXllcnMgPSB0aGlzLmdldExheWVyR3JvdXAoKS5nZXRMYXllcnMoKTtcbiAgICByZXR1cm4gbGF5ZXJzLnJlbW92ZShsYXllcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0dyb3VwLmpzXCIpLkdyb3VwRXZlbnR9IGV2ZW50IFRoZSBsYXllciByZW1vdmUgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVMYXllclJlbW92ZV8oZXZlbnQpIHtcbiAgICByZW1vdmVMYXllck1hcFByb3BlcnR5KGV2ZW50LmxheWVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGdpdmVuIG92ZXJsYXkgZnJvbSB0aGUgbWFwLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fSBvdmVybGF5IE92ZXJsYXkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vT3ZlcmxheS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gVGhlIHJlbW92ZWQgb3ZlcmxheSAob3IgdW5kZWZpbmVkXG4gICAqICAgICBpZiB0aGUgb3ZlcmxheSB3YXMgbm90IGZvdW5kKS5cbiAgICogQGFwaVxuICAgKi9cbiAgcmVtb3ZlT3ZlcmxheShvdmVybGF5KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0T3ZlcmxheXMoKS5yZW1vdmUob3ZlcmxheSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgVGltZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlbmRlckZyYW1lXyh0aW1lKSB7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuICAgIGNvbnN0IHZpZXcgPSB0aGlzLmdldFZpZXcoKTtcbiAgICBjb25zdCBwcmV2aW91c0ZyYW1lU3RhdGUgPSB0aGlzLmZyYW1lU3RhdGVfO1xuICAgIC8qKiBAdHlwZSB7P0ZyYW1lU3RhdGV9ICovXG4gICAgbGV0IGZyYW1lU3RhdGUgPSBudWxsO1xuICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQgJiYgaGFzQXJlYShzaXplKSAmJiB2aWV3ICYmIHZpZXcuaXNEZWYoKSkge1xuICAgICAgY29uc3Qgdmlld0hpbnRzID0gdmlldy5nZXRIaW50cyhcbiAgICAgICAgdGhpcy5mcmFtZVN0YXRlXyA/IHRoaXMuZnJhbWVTdGF0ZV8udmlld0hpbnRzIDogdW5kZWZpbmVkXG4gICAgICApO1xuICAgICAgY29uc3Qgdmlld1N0YXRlID0gdmlldy5nZXRTdGF0ZSgpO1xuICAgICAgZnJhbWVTdGF0ZSA9IHtcbiAgICAgICAgYW5pbWF0ZTogZmFsc2UsXG4gICAgICAgIGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtOiB0aGlzLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtXyxcbiAgICAgICAgZGVjbHV0dGVyVHJlZTogbnVsbCxcbiAgICAgICAgZXh0ZW50OiBnZXRGb3JWaWV3QW5kU2l6ZShcbiAgICAgICAgICB2aWV3U3RhdGUuY2VudGVyLFxuICAgICAgICAgIHZpZXdTdGF0ZS5yZXNvbHV0aW9uLFxuICAgICAgICAgIHZpZXdTdGF0ZS5yb3RhdGlvbixcbiAgICAgICAgICBzaXplXG4gICAgICAgICksXG4gICAgICAgIGluZGV4OiB0aGlzLmZyYW1lSW5kZXhfKyssXG4gICAgICAgIGxheWVySW5kZXg6IDAsXG4gICAgICAgIGxheWVyU3RhdGVzQXJyYXk6IHRoaXMuZ2V0TGF5ZXJHcm91cCgpLmdldExheWVyU3RhdGVzQXJyYXkoKSxcbiAgICAgICAgcGl4ZWxSYXRpbzogdGhpcy5waXhlbFJhdGlvXyxcbiAgICAgICAgcGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm06IHRoaXMucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm1fLFxuICAgICAgICBwb3N0UmVuZGVyRnVuY3Rpb25zOiBbXSxcbiAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgdGlsZVF1ZXVlOiB0aGlzLnRpbGVRdWV1ZV8sXG4gICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgIHVzZWRUaWxlczoge30sXG4gICAgICAgIHZpZXdTdGF0ZTogdmlld1N0YXRlLFxuICAgICAgICB2aWV3SGludHM6IHZpZXdIaW50cyxcbiAgICAgICAgd2FudGVkVGlsZXM6IHt9LFxuICAgICAgICBtYXBJZDogZ2V0VWlkKHRoaXMpLFxuICAgICAgICByZW5kZXJUYXJnZXRzOiB7fSxcbiAgICAgIH07XG4gICAgICBpZiAodmlld1N0YXRlLm5leHRDZW50ZXIgJiYgdmlld1N0YXRlLm5leHRSZXNvbHV0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJvdGF0aW9uID0gaXNOYU4odmlld1N0YXRlLm5leHRSb3RhdGlvbilcbiAgICAgICAgICA/IHZpZXdTdGF0ZS5yb3RhdGlvblxuICAgICAgICAgIDogdmlld1N0YXRlLm5leHRSb3RhdGlvbjtcblxuICAgICAgICBmcmFtZVN0YXRlLm5leHRFeHRlbnQgPSBnZXRGb3JWaWV3QW5kU2l6ZShcbiAgICAgICAgICB2aWV3U3RhdGUubmV4dENlbnRlcixcbiAgICAgICAgICB2aWV3U3RhdGUubmV4dFJlc29sdXRpb24sXG4gICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgc2l6ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZnJhbWVTdGF0ZV8gPSBmcmFtZVN0YXRlO1xuICAgIHRoaXMucmVuZGVyZXJfLnJlbmRlckZyYW1lKGZyYW1lU3RhdGUpO1xuXG4gICAgaWYgKGZyYW1lU3RhdGUpIHtcbiAgICAgIGlmIChmcmFtZVN0YXRlLmFuaW1hdGUpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH1cbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KFxuICAgICAgICB0aGlzLnBvc3RSZW5kZXJGdW5jdGlvbnNfLFxuICAgICAgICBmcmFtZVN0YXRlLnBvc3RSZW5kZXJGdW5jdGlvbnNcbiAgICAgICk7XG5cbiAgICAgIGlmIChwcmV2aW91c0ZyYW1lU3RhdGUpIHtcbiAgICAgICAgY29uc3QgbW92ZVN0YXJ0ID1cbiAgICAgICAgICAhdGhpcy5wcmV2aW91c0V4dGVudF8gfHxcbiAgICAgICAgICAoIWlzRW1wdHkodGhpcy5wcmV2aW91c0V4dGVudF8pICYmXG4gICAgICAgICAgICAhZXF1YWxzRXh0ZW50KGZyYW1lU3RhdGUuZXh0ZW50LCB0aGlzLnByZXZpb3VzRXh0ZW50XykpO1xuICAgICAgICBpZiAobW92ZVN0YXJ0KSB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgbmV3IE1hcEV2ZW50KE1hcEV2ZW50VHlwZS5NT1ZFU1RBUlQsIHRoaXMsIHByZXZpb3VzRnJhbWVTdGF0ZSlcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMucHJldmlvdXNFeHRlbnRfID0gY3JlYXRlT3JVcGRhdGVFbXB0eSh0aGlzLnByZXZpb3VzRXh0ZW50Xyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgaWRsZSA9XG4gICAgICAgIHRoaXMucHJldmlvdXNFeHRlbnRfICYmXG4gICAgICAgICFmcmFtZVN0YXRlLnZpZXdIaW50c1tWaWV3SGludC5BTklNQVRJTkddICYmXG4gICAgICAgICFmcmFtZVN0YXRlLnZpZXdIaW50c1tWaWV3SGludC5JTlRFUkFDVElOR10gJiZcbiAgICAgICAgIWVxdWFsc0V4dGVudChmcmFtZVN0YXRlLmV4dGVudCwgdGhpcy5wcmV2aW91c0V4dGVudF8pO1xuXG4gICAgICBpZiAoaWRsZSkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgbmV3IE1hcEV2ZW50KE1hcEV2ZW50VHlwZS5NT1ZFRU5ELCB0aGlzLCBmcmFtZVN0YXRlKVxuICAgICAgICApO1xuICAgICAgICBjbG9uZShmcmFtZVN0YXRlLmV4dGVudCwgdGhpcy5wcmV2aW91c0V4dGVudF8pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTWFwRXZlbnQoTWFwRXZlbnRUeXBlLlBPU1RSRU5ERVIsIHRoaXMsIGZyYW1lU3RhdGUpKTtcblxuICAgIHRoaXMucmVuZGVyQ29tcGxldGVfID1cbiAgICAgIHRoaXMuaGFzTGlzdGVuZXIoTWFwRXZlbnRUeXBlLkxPQURTVEFSVCkgfHxcbiAgICAgIHRoaXMuaGFzTGlzdGVuZXIoTWFwRXZlbnRUeXBlLkxPQURFTkQpIHx8XG4gICAgICB0aGlzLmhhc0xpc3RlbmVyKFJlbmRlckV2ZW50VHlwZS5SRU5ERVJDT01QTEVURSlcbiAgICAgICAgPyAhdGhpcy50aWxlUXVldWVfLmdldFRpbGVzTG9hZGluZygpICYmXG4gICAgICAgICAgIXRoaXMudGlsZVF1ZXVlXy5nZXRDb3VudCgpICYmXG4gICAgICAgICAgIXRoaXMuZ2V0TG9hZGluZ09yTm90UmVhZHkoKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmICghdGhpcy5wb3N0UmVuZGVyVGltZW91dEhhbmRsZV8pIHtcbiAgICAgIHRoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMucG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhhbmRsZVBvc3RSZW5kZXIoKTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsYXllcmdyb3VwIG9mIHRoaXMgbWFwLlxuICAgKiBAcGFyYW0ge0xheWVyR3JvdXB9IGxheWVyR3JvdXAgQSBsYXllciBncm91cCBjb250YWluaW5nIHRoZSBsYXllcnMgaW4gdGhpcyBtYXAuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldExheWVyR3JvdXAobGF5ZXJHcm91cCkge1xuICAgIGNvbnN0IG9sZExheWVyR3JvdXAgPSB0aGlzLmdldExheWVyR3JvdXAoKTtcbiAgICBpZiAob2xkTGF5ZXJHcm91cCkge1xuICAgICAgdGhpcy5oYW5kbGVMYXllclJlbW92ZV8obmV3IEdyb3VwRXZlbnQoJ3JlbW92ZWxheWVyJywgb2xkTGF5ZXJHcm91cCkpO1xuICAgIH1cbiAgICB0aGlzLnNldChNYXBQcm9wZXJ0eS5MQVlFUkdST1VQLCBsYXllckdyb3VwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHNpemUgb2YgdGhpcyBtYXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfSBzaXplIFRoZSBzaXplIGluIHBpeGVscyBvZiB0aGUgbWFwIGluIHRoZSBET00uXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFNpemUoc2l6ZSkge1xuICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlNJWkUsIHNpemUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdGFyZ2V0IGVsZW1lbnQgdG8gcmVuZGVyIHRoaXMgbWFwIGludG8uXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBbdGFyZ2V0XSBUaGUgRWxlbWVudCBvciBpZCBvZiB0aGUgRWxlbWVudFxuICAgKiAgICAgdGhhdCB0aGUgbWFwIGlzIHJlbmRlcmVkIGluLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRUYXJnZXQodGFyZ2V0KSB7XG4gICAgdGhpcy5zZXQoTWFwUHJvcGVydHkuVEFSR0VULCB0YXJnZXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmlldyBmb3IgdGhpcyBtYXAuXG4gICAqIEBwYXJhbSB7Vmlld3xQcm9taXNlPGltcG9ydChcIi4vVmlldy5qc1wiKS5WaWV3T3B0aW9ucz59IHZpZXcgVGhlIHZpZXcgdGhhdCBjb250cm9scyB0aGlzIG1hcC5cbiAgICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0byBwYXNzIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIG9wdGlvbnMgZm9yIGNvbnN0cnVjdGluZyBhIHZpZXcuICBUaGlzXG4gICAqIGFsdGVybmF0aXZlIGFsbG93cyB2aWV3IHByb3BlcnRpZXMgdG8gYmUgcmVzb2x2ZWQgYnkgc291cmNlcyBvciBvdGhlciBjb21wb25lbnRzIHRoYXQgbG9hZFxuICAgKiB2aWV3LXJlbGF0ZWQgbWV0YWRhdGEuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFZpZXcodmlldykge1xuICAgIGlmICghdmlldyB8fCB2aWV3IGluc3RhbmNlb2YgVmlldykge1xuICAgICAgdGhpcy5zZXQoTWFwUHJvcGVydHkuVklFVywgdmlldyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0KE1hcFByb3BlcnR5LlZJRVcsIG5ldyBWaWV3KCkpO1xuXG4gICAgY29uc3QgbWFwID0gdGhpcztcbiAgICB2aWV3LnRoZW4oZnVuY3Rpb24gKHZpZXdPcHRpb25zKSB7XG4gICAgICBtYXAuc2V0VmlldyhuZXcgVmlldyh2aWV3T3B0aW9ucykpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlIGEgcmVjYWxjdWxhdGlvbiBvZiB0aGUgbWFwIHZpZXdwb3J0IHNpemUuICBUaGlzIHNob3VsZCBiZSBjYWxsZWQgd2hlblxuICAgKiB0aGlyZC1wYXJ0eSBjb2RlIGNoYW5nZXMgdGhlIHNpemUgb2YgdGhlIG1hcCB2aWV3cG9ydC5cbiAgICogQGFwaVxuICAgKi9cbiAgdXBkYXRlU2l6ZSgpIHtcbiAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gdGhpcy5nZXRUYXJnZXRFbGVtZW50KCk7XG5cbiAgICBsZXQgc2l6ZSA9IHVuZGVmaW5lZDtcbiAgICBpZiAodGFyZ2V0RWxlbWVudCkge1xuICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodGFyZ2V0RWxlbWVudCk7XG4gICAgICBjb25zdCB3aWR0aCA9XG4gICAgICAgIHRhcmdldEVsZW1lbnQub2Zmc2V0V2lkdGggLVxuICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ2JvcmRlckxlZnRXaWR0aCddKSAtXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsncGFkZGluZ0xlZnQnXSkgLVxuICAgICAgICBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGVbJ3BhZGRpbmdSaWdodCddKSAtXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsnYm9yZGVyUmlnaHRXaWR0aCddKTtcbiAgICAgIGNvbnN0IGhlaWdodCA9XG4gICAgICAgIHRhcmdldEVsZW1lbnQub2Zmc2V0SGVpZ2h0IC1cbiAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlWydib3JkZXJUb3BXaWR0aCddKSAtXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsncGFkZGluZ1RvcCddKSAtXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsncGFkZGluZ0JvdHRvbSddKSAtXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsnYm9yZGVyQm90dG9tV2lkdGgnXSk7XG4gICAgICBpZiAoIWlzTmFOKHdpZHRoKSAmJiAhaXNOYU4oaGVpZ2h0KSkge1xuICAgICAgICBzaXplID0gW3dpZHRoLCBoZWlnaHRdO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWhhc0FyZWEoc2l6ZSkgJiZcbiAgICAgICAgICAhIShcbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQub2Zmc2V0V2lkdGggfHxcbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8XG4gICAgICAgICAgICB0YXJnZXRFbGVtZW50LmdldENsaWVudFJlY3RzKCkubGVuZ3RoXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgXCJObyBtYXAgdmlzaWJsZSBiZWNhdXNlIHRoZSBtYXAgY29udGFpbmVyJ3Mgd2lkdGggb3IgaGVpZ2h0IGFyZSAwLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG9sZFNpemUgPSB0aGlzLmdldFNpemUoKTtcbiAgICBpZiAoc2l6ZSAmJiAoIW9sZFNpemUgfHwgIWVxdWFscyhzaXplLCBvbGRTaXplKSkpIHtcbiAgICAgIHRoaXMuc2V0U2l6ZShzaXplKTtcbiAgICAgIHRoaXMudXBkYXRlVmlld3BvcnRTaXplXygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWNvbXB1dGVzIHRoZSB2aWV3cG9ydCBzaXplIGFuZCBzYXZlIGl0IG9uIHRoZSB2aWV3IG9iamVjdCAoaWYgYW55KVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdXBkYXRlVmlld3BvcnRTaXplXygpIHtcbiAgICBjb25zdCB2aWV3ID0gdGhpcy5nZXRWaWV3KCk7XG4gICAgaWYgKHZpZXcpIHtcbiAgICAgIGxldCBzaXplID0gdW5kZWZpbmVkO1xuICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodGhpcy52aWV3cG9ydF8pO1xuICAgICAgaWYgKGNvbXB1dGVkU3R5bGUud2lkdGggJiYgY29tcHV0ZWRTdHlsZS5oZWlnaHQpIHtcbiAgICAgICAgc2l6ZSA9IFtcbiAgICAgICAgICBwYXJzZUludChjb21wdXRlZFN0eWxlLndpZHRoLCAxMCksXG4gICAgICAgICAgcGFyc2VJbnQoY29tcHV0ZWRTdHlsZS5oZWlnaHQsIDEwKSxcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIHZpZXcuc2V0Vmlld3BvcnRTaXplKHNpemUpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7TWFwT3B0aW9uc30gb3B0aW9ucyBNYXAgb3B0aW9ucy5cbiAqIEByZXR1cm4ge01hcE9wdGlvbnNJbnRlcm5hbH0gSW50ZXJuYWwgbWFwIG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnNJbnRlcm5hbChvcHRpb25zKSB7XG4gIC8qKlxuICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR8RG9jdW1lbnR9XG4gICAqL1xuICBsZXQga2V5Ym9hcmRFdmVudFRhcmdldCA9IG51bGw7XG4gIGlmIChvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQgIT09IHVuZGVmaW5lZCkge1xuICAgIGtleWJvYXJkRXZlbnRUYXJnZXQgPVxuICAgICAgdHlwZW9mIG9wdGlvbnMua2V5Ym9hcmRFdmVudFRhcmdldCA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcHRpb25zLmtleWJvYXJkRXZlbnRUYXJnZXQpXG4gICAgICAgIDogb3B0aW9ucy5rZXlib2FyZEV2ZW50VGFyZ2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCAqPn1cbiAgICovXG4gIGNvbnN0IHZhbHVlcyA9IHt9O1xuXG4gIGNvbnN0IGxheWVyR3JvdXAgPVxuICAgIG9wdGlvbnMubGF5ZXJzICYmXG4gICAgdHlwZW9mICgvKiogQHR5cGUgez99ICovIChvcHRpb25zLmxheWVycykuZ2V0TGF5ZXJzKSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgPyAvKiogQHR5cGUge0xheWVyR3JvdXB9ICovIChvcHRpb25zLmxheWVycylcbiAgICAgIDogbmV3IExheWVyR3JvdXAoe1xuICAgICAgICAgIGxheWVyczpcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL2xheWVyL0Jhc2UuanNcIikuZGVmYXVsdD58QXJyYXk8aW1wb3J0KFwiLi9sYXllci9CYXNlLmpzXCIpLmRlZmF1bHQ+fSAqLyAoXG4gICAgICAgICAgICAgIG9wdGlvbnMubGF5ZXJzXG4gICAgICAgICAgICApLFxuICAgICAgICB9KTtcbiAgdmFsdWVzW01hcFByb3BlcnR5LkxBWUVSR1JPVVBdID0gbGF5ZXJHcm91cDtcblxuICB2YWx1ZXNbTWFwUHJvcGVydHkuVEFSR0VUXSA9IG9wdGlvbnMudGFyZ2V0O1xuXG4gIHZhbHVlc1tNYXBQcm9wZXJ0eS5WSUVXXSA9XG4gICAgb3B0aW9ucy52aWV3IGluc3RhbmNlb2YgVmlldyA/IG9wdGlvbnMudmlldyA6IG5ldyBWaWV3KCk7XG5cbiAgLyoqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vY29udHJvbC9Db250cm9sLmpzXCIpLmRlZmF1bHQ+fSAqL1xuICBsZXQgY29udHJvbHM7XG4gIGlmIChvcHRpb25zLmNvbnRyb2xzICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmNvbnRyb2xzKSkge1xuICAgICAgY29udHJvbHMgPSBuZXcgQ29sbGVjdGlvbihvcHRpb25zLmNvbnRyb2xzLnNsaWNlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQoXG4gICAgICAgIHR5cGVvZiAoLyoqIEB0eXBlIHs/fSAqLyAob3B0aW9ucy5jb250cm9scykuZ2V0QXJyYXkpID09PSAnZnVuY3Rpb24nLFxuICAgICAgICA0N1xuICAgICAgKTsgLy8gRXhwZWN0ZWQgYGNvbnRyb2xzYCB0byBiZSBhbiBhcnJheSBvciBhbiBgaW1wb3J0KFwiLi9Db2xsZWN0aW9uLmpzXCIpLkNvbGxlY3Rpb25gXG4gICAgICBjb250cm9scyA9IG9wdGlvbnMuY29udHJvbHM7XG4gICAgfVxuICB9XG5cbiAgLyoqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25cIikuZGVmYXVsdD59ICovXG4gIGxldCBpbnRlcmFjdGlvbnM7XG4gIGlmIChvcHRpb25zLmludGVyYWN0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5pbnRlcmFjdGlvbnMpKSB7XG4gICAgICBpbnRlcmFjdGlvbnMgPSBuZXcgQ29sbGVjdGlvbihvcHRpb25zLmludGVyYWN0aW9ucy5zbGljZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzZXJ0KFxuICAgICAgICB0eXBlb2YgKC8qKiBAdHlwZSB7P30gKi8gKG9wdGlvbnMuaW50ZXJhY3Rpb25zKS5nZXRBcnJheSkgPT09XG4gICAgICAgICAgJ2Z1bmN0aW9uJyxcbiAgICAgICAgNDhcbiAgICAgICk7IC8vIEV4cGVjdGVkIGBpbnRlcmFjdGlvbnNgIHRvIGJlIGFuIGFycmF5IG9yIGFuIGBpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbmBcbiAgICAgIGludGVyYWN0aW9ucyA9IG9wdGlvbnMuaW50ZXJhY3Rpb25zO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL092ZXJsYXkuanNcIikuZGVmYXVsdD59ICovXG4gIGxldCBvdmVybGF5cztcbiAgaWYgKG9wdGlvbnMub3ZlcmxheXMgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMub3ZlcmxheXMpKSB7XG4gICAgICBvdmVybGF5cyA9IG5ldyBDb2xsZWN0aW9uKG9wdGlvbnMub3ZlcmxheXMuc2xpY2UoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydChcbiAgICAgICAgdHlwZW9mICgvKiogQHR5cGUgez99ICovIChvcHRpb25zLm92ZXJsYXlzKS5nZXRBcnJheSkgPT09ICdmdW5jdGlvbicsXG4gICAgICAgIDQ5XG4gICAgICApOyAvLyBFeHBlY3RlZCBgb3ZlcmxheXNgIHRvIGJlIGFuIGFycmF5IG9yIGFuIGBpbXBvcnQoXCIuL0NvbGxlY3Rpb24uanNcIikuQ29sbGVjdGlvbmBcbiAgICAgIG92ZXJsYXlzID0gb3B0aW9ucy5vdmVybGF5cztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3ZlcmxheXMgPSBuZXcgQ29sbGVjdGlvbigpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjb250cm9sczogY29udHJvbHMsXG4gICAgaW50ZXJhY3Rpb25zOiBpbnRlcmFjdGlvbnMsXG4gICAga2V5Ym9hcmRFdmVudFRhcmdldDoga2V5Ym9hcmRFdmVudFRhcmdldCxcbiAgICBvdmVybGF5czogb3ZlcmxheXMsXG4gICAgdmFsdWVzOiB2YWx1ZXMsXG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCBNYXA7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvY29udHJvbC9kZWZhdWx0c1xuICovXG5pbXBvcnQgQXR0cmlidXRpb24gZnJvbSAnLi9BdHRyaWJ1dGlvbi5qcyc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuLi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCBSb3RhdGUgZnJvbSAnLi9Sb3RhdGUuanMnO1xuaW1wb3J0IFpvb20gZnJvbSAnLi9ab29tLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBEZWZhdWx0c09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uPXRydWVdIEluY2x1ZGVcbiAqIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9BdHRyaWJ1dGlvbn5BdHRyaWJ1dGlvbn0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vQXR0cmlidXRpb24uanNcIikuT3B0aW9uc30gW2F0dHJpYnV0aW9uT3B0aW9uc11cbiAqIE9wdGlvbnMgZm9yIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9BdHRyaWJ1dGlvbn5BdHRyaWJ1dGlvbn0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyb3RhdGU9dHJ1ZV0gSW5jbHVkZVxuICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL1JvdGF0ZX5Sb3RhdGV9LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1JvdGF0ZS5qc1wiKS5PcHRpb25zfSBbcm90YXRlT3B0aW9uc10gT3B0aW9uc1xuICogZm9yIHtAbGluayBtb2R1bGU6b2wvY29udHJvbC9Sb3RhdGV+Um90YXRlfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3pvb21dIEluY2x1ZGUge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL1pvb21+Wm9vbX0uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vWm9vbS5qc1wiKS5PcHRpb25zfSBbem9vbU9wdGlvbnNdIE9wdGlvbnMgZm9yXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvWm9vbX5ab29tfS5cbiAqL1xuXG4vKipcbiAqIFNldCBvZiBjb250cm9scyBpbmNsdWRlZCBpbiBtYXBzIGJ5IGRlZmF1bHQuIFVubGVzcyBjb25maWd1cmVkIG90aGVyd2lzZSxcbiAqIHRoaXMgcmV0dXJucyBhIGNvbGxlY3Rpb24gY29udGFpbmluZyBhbiBpbnN0YW5jZSBvZiBlYWNoIG9mIHRoZSBmb2xsb3dpbmdcbiAqIGNvbnRyb2xzOlxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvWm9vbX5ab29tfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2NvbnRyb2wvUm90YXRlflJvdGF0ZX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9jb250cm9sL0F0dHJpYnV0aW9ufkF0dHJpYnV0aW9ufVxuICpcbiAqIEBwYXJhbSB7RGVmYXVsdHNPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucyBmb3IgdGhlIGRlZmF1bHQgY29udHJvbHMuXG4gKiBAcmV0dXJuIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn0gQSBjb2xsZWN0aW9uIG9mIGNvbnRyb2xzXG4gKiB0byBiZSB1c2VkIHdpdGggdGhlIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0gY29uc3RydWN0b3IncyBgY29udHJvbHNgIG9wdGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgLyoqIEB0eXBlIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vQ29udHJvbC5qc1wiKS5kZWZhdWx0Pn0gKi9cbiAgY29uc3QgY29udHJvbHMgPSBuZXcgQ29sbGVjdGlvbigpO1xuXG4gIGNvbnN0IHpvb21Db250cm9sID0gb3B0aW9ucy56b29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnpvb20gOiB0cnVlO1xuICBpZiAoem9vbUNvbnRyb2wpIHtcbiAgICBjb250cm9scy5wdXNoKG5ldyBab29tKG9wdGlvbnMuem9vbU9wdGlvbnMpKTtcbiAgfVxuXG4gIGNvbnN0IHJvdGF0ZUNvbnRyb2wgPSBvcHRpb25zLnJvdGF0ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGUgOiB0cnVlO1xuICBpZiAocm90YXRlQ29udHJvbCkge1xuICAgIGNvbnRyb2xzLnB1c2gobmV3IFJvdGF0ZShvcHRpb25zLnJvdGF0ZU9wdGlvbnMpKTtcbiAgfVxuXG4gIGNvbnN0IGF0dHJpYnV0aW9uQ29udHJvbCA9XG4gICAgb3B0aW9ucy5hdHRyaWJ1dGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hdHRyaWJ1dGlvbiA6IHRydWU7XG4gIGlmIChhdHRyaWJ1dGlvbkNvbnRyb2wpIHtcbiAgICBjb250cm9scy5wdXNoKG5ldyBBdHRyaWJ1dGlvbihvcHRpb25zLmF0dHJpYnV0aW9uT3B0aW9ucykpO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRyb2xzO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ludGVyYWN0aW9uL2RlZmF1bHRzXG4gKi9cbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4uL0NvbGxlY3Rpb24uanMnO1xuaW1wb3J0IERvdWJsZUNsaWNrWm9vbSBmcm9tICcuL0RvdWJsZUNsaWNrWm9vbS5qcyc7XG5pbXBvcnQgRHJhZ1BhbiBmcm9tICcuL0RyYWdQYW4uanMnO1xuaW1wb3J0IERyYWdSb3RhdGUgZnJvbSAnLi9EcmFnUm90YXRlLmpzJztcbmltcG9ydCBEcmFnWm9vbSBmcm9tICcuL0RyYWdab29tLmpzJztcbmltcG9ydCBLZXlib2FyZFBhbiBmcm9tICcuL0tleWJvYXJkUGFuLmpzJztcbmltcG9ydCBLZXlib2FyZFpvb20gZnJvbSAnLi9LZXlib2FyZFpvb20uanMnO1xuaW1wb3J0IEtpbmV0aWMgZnJvbSAnLi4vS2luZXRpYy5qcyc7XG5pbXBvcnQgTW91c2VXaGVlbFpvb20gZnJvbSAnLi9Nb3VzZVdoZWVsWm9vbS5qcyc7XG5pbXBvcnQgUGluY2hSb3RhdGUgZnJvbSAnLi9QaW5jaFJvdGF0ZS5qcyc7XG5pbXBvcnQgUGluY2hab29tIGZyb20gJy4vUGluY2hab29tLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBEZWZhdWx0c09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2FsdFNoaWZ0RHJhZ1JvdGF0ZT10cnVlXSBXaGV0aGVyIEFsdC1TaGlmdC1kcmFnIHJvdGF0ZSBpc1xuICogZGVzaXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29uRm9jdXNPbmx5PWZhbHNlXSBJbnRlcmFjdCBvbmx5IHdoZW4gdGhlIG1hcCBoYXMgdGhlXG4gKiBmb2N1cy4gVGhpcyBhZmZlY3RzIHRoZSBgTW91c2VXaGVlbFpvb21gIGFuZCBgRHJhZ1BhbmAgaW50ZXJhY3Rpb25zIGFuZCBpc1xuICogdXNlZnVsIHdoZW4gcGFnZSBzY3JvbGwgaXMgZGVzaXJlZCBmb3IgbWFwcyB0aGF0IGRvIG5vdCBoYXZlIHRoZSBicm93c2VyJ3NcbiAqIGZvY3VzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZG91YmxlQ2xpY2tab29tPXRydWVdIFdoZXRoZXIgZG91YmxlIGNsaWNrIHpvb20gaXNcbiAqIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtrZXlib2FyZD10cnVlXSBXaGV0aGVyIGtleWJvYXJkIGludGVyYWN0aW9uIGlzIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFttb3VzZVdoZWVsWm9vbT10cnVlXSBXaGV0aGVyIG1vdXNld2hlZWwgem9vbSBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc2hpZnREcmFnWm9vbT10cnVlXSBXaGV0aGVyIFNoaWZ0LWRyYWcgem9vbSBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZHJhZ1Bhbj10cnVlXSBXaGV0aGVyIGRyYWcgcGFuIGlzIGRlc2lyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtwaW5jaFJvdGF0ZT10cnVlXSBXaGV0aGVyIHBpbmNoIHJvdGF0ZSBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcGluY2hab29tPXRydWVdIFdoZXRoZXIgcGluY2ggem9vbSBpcyBkZXNpcmVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6b29tRGVsdGFdIFpvb20gbGV2ZWwgZGVsdGEgd2hlbiB1c2luZyBrZXlib2FyZCBvciBkb3VibGUgY2xpY2sgem9vbS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbUR1cmF0aW9uXSBEdXJhdGlvbiBvZiB0aGUgem9vbSBhbmltYXRpb24gaW5cbiAqIG1pbGxpc2Vjb25kcy5cbiAqL1xuXG4vKipcbiAqIFNldCBvZiBpbnRlcmFjdGlvbnMgaW5jbHVkZWQgaW4gbWFwcyBieSBkZWZhdWx0LiBTcGVjaWZpYyBpbnRlcmFjdGlvbnMgY2FuIGJlXG4gKiBleGNsdWRlZCBieSBzZXR0aW5nIHRoZSBhcHByb3ByaWF0ZSBvcHRpb24gdG8gZmFsc2UgaW4gdGhlIGNvbnN0cnVjdG9yXG4gKiBvcHRpb25zLCBidXQgdGhlIG9yZGVyIG9mIHRoZSBpbnRlcmFjdGlvbnMgaXMgZml4ZWQuICBJZiB5b3Ugd2FudCB0byBzcGVjaWZ5XG4gKiBhIGRpZmZlcmVudCBvcmRlciBmb3IgaW50ZXJhY3Rpb25zLCB5b3Ugd2lsbCBuZWVkIHRvIGNyZWF0ZSB5b3VyIG93blxuICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvbn5JbnRlcmFjdGlvbn0gaW5zdGFuY2VzIGFuZCBpbnNlcnRcbiAqIHRoZW0gaW50byBhIHtAbGluayBtb2R1bGU6b2wvQ29sbGVjdGlvbn5Db2xsZWN0aW9ufSBpbiB0aGUgb3JkZXIgeW91IHdhbnRcbiAqIGJlZm9yZSBjcmVhdGluZyB5b3VyIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcH0gaW5zdGFuY2UuIENoYW5naW5nIHRoZSBvcmRlciBjYW5cbiAqIGJlIG9mIGludGVyZXN0IGlmIHRoZSBldmVudCBwcm9wYWdhdGlvbiBuZWVkcyB0byBiZSBzdG9wcGVkIGF0IGEgcG9pbnQuXG4gKiBUaGUgZGVmYXVsdCBzZXQgb2YgaW50ZXJhY3Rpb25zLCBpbiBzZXF1ZW5jZSwgaXM6XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1JvdGF0ZX5EcmFnUm90YXRlfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RvdWJsZUNsaWNrWm9vbX5Eb3VibGVDbGlja1pvb219XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vRHJhZ1Bhbn5EcmFnUGFufVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL1BpbmNoUm90YXRlflBpbmNoUm90YXRlfVxuICogKiB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL1BpbmNoWm9vbX5QaW5jaFpvb219XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRQYW5+S2V5Ym9hcmRQYW59XG4gKiAqIHtAbGluayBtb2R1bGU6b2wvaW50ZXJhY3Rpb24vS2V5Ym9hcmRab29tfktleWJvYXJkWm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9Nb3VzZVdoZWVsWm9vbX5Nb3VzZVdoZWVsWm9vbX1cbiAqICoge0BsaW5rIG1vZHVsZTpvbC9pbnRlcmFjdGlvbi9EcmFnWm9vbX5EcmFnWm9vbX1cbiAqXG4gKiBAcGFyYW0ge0RlZmF1bHRzT3B0aW9uc30gW29wdGlvbnNdIERlZmF1bHRzIG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtDb2xsZWN0aW9uPGltcG9ydChcIi4vSW50ZXJhY3Rpb24uanNcIikuZGVmYXVsdD59XG4gKiBBIGNvbGxlY3Rpb24gb2YgaW50ZXJhY3Rpb25zIHRvIGJlIHVzZWQgd2l0aCB0aGUge0BsaW5rIG1vZHVsZTpvbC9NYXB+TWFwfVxuICogY29uc3RydWN0b3IncyBgaW50ZXJhY3Rpb25zYCBvcHRpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0cyhvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gIC8qKiBAdHlwZSB7Q29sbGVjdGlvbjxpbXBvcnQoXCIuL0ludGVyYWN0aW9uLmpzXCIpLmRlZmF1bHQ+fSAqL1xuICBjb25zdCBpbnRlcmFjdGlvbnMgPSBuZXcgQ29sbGVjdGlvbigpO1xuXG4gIGNvbnN0IGtpbmV0aWMgPSBuZXcgS2luZXRpYygtMC4wMDUsIDAuMDUsIDEwMCk7XG5cbiAgY29uc3QgYWx0U2hpZnREcmFnUm90YXRlID1cbiAgICBvcHRpb25zLmFsdFNoaWZ0RHJhZ1JvdGF0ZSAhPT0gdW5kZWZpbmVkXG4gICAgICA/IG9wdGlvbnMuYWx0U2hpZnREcmFnUm90YXRlXG4gICAgICA6IHRydWU7XG4gIGlmIChhbHRTaGlmdERyYWdSb3RhdGUpIHtcbiAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgRHJhZ1JvdGF0ZSgpKTtcbiAgfVxuXG4gIGNvbnN0IGRvdWJsZUNsaWNrWm9vbSA9XG4gICAgb3B0aW9ucy5kb3VibGVDbGlja1pvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZG91YmxlQ2xpY2tab29tIDogdHJ1ZTtcbiAgaWYgKGRvdWJsZUNsaWNrWm9vbSkge1xuICAgIGludGVyYWN0aW9ucy5wdXNoKFxuICAgICAgbmV3IERvdWJsZUNsaWNrWm9vbSh7XG4gICAgICAgIGRlbHRhOiBvcHRpb25zLnpvb21EZWx0YSxcbiAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuem9vbUR1cmF0aW9uLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZHJhZ1BhbiA9IG9wdGlvbnMuZHJhZ1BhbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kcmFnUGFuIDogdHJ1ZTtcbiAgaWYgKGRyYWdQYW4pIHtcbiAgICBpbnRlcmFjdGlvbnMucHVzaChcbiAgICAgIG5ldyBEcmFnUGFuKHtcbiAgICAgICAgb25Gb2N1c09ubHk6IG9wdGlvbnMub25Gb2N1c09ubHksXG4gICAgICAgIGtpbmV0aWM6IGtpbmV0aWMsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBjb25zdCBwaW5jaFJvdGF0ZSA9XG4gICAgb3B0aW9ucy5waW5jaFJvdGF0ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5waW5jaFJvdGF0ZSA6IHRydWU7XG4gIGlmIChwaW5jaFJvdGF0ZSkge1xuICAgIGludGVyYWN0aW9ucy5wdXNoKG5ldyBQaW5jaFJvdGF0ZSgpKTtcbiAgfVxuXG4gIGNvbnN0IHBpbmNoWm9vbSA9IG9wdGlvbnMucGluY2hab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBpbmNoWm9vbSA6IHRydWU7XG4gIGlmIChwaW5jaFpvb20pIHtcbiAgICBpbnRlcmFjdGlvbnMucHVzaChcbiAgICAgIG5ldyBQaW5jaFpvb20oe1xuICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy56b29tRHVyYXRpb24sXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBjb25zdCBrZXlib2FyZCA9IG9wdGlvbnMua2V5Ym9hcmQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMua2V5Ym9hcmQgOiB0cnVlO1xuICBpZiAoa2V5Ym9hcmQpIHtcbiAgICBpbnRlcmFjdGlvbnMucHVzaChuZXcgS2V5Ym9hcmRQYW4oKSk7XG4gICAgaW50ZXJhY3Rpb25zLnB1c2goXG4gICAgICBuZXcgS2V5Ym9hcmRab29tKHtcbiAgICAgICAgZGVsdGE6IG9wdGlvbnMuem9vbURlbHRhLFxuICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy56b29tRHVyYXRpb24sXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBjb25zdCBtb3VzZVdoZWVsWm9vbSA9XG4gICAgb3B0aW9ucy5tb3VzZVdoZWVsWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tb3VzZVdoZWVsWm9vbSA6IHRydWU7XG4gIGlmIChtb3VzZVdoZWVsWm9vbSkge1xuICAgIGludGVyYWN0aW9ucy5wdXNoKFxuICAgICAgbmV3IE1vdXNlV2hlZWxab29tKHtcbiAgICAgICAgb25Gb2N1c09ubHk6IG9wdGlvbnMub25Gb2N1c09ubHksXG4gICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvbixcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHNoaWZ0RHJhZ1pvb20gPVxuICAgIG9wdGlvbnMuc2hpZnREcmFnWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zaGlmdERyYWdab29tIDogdHJ1ZTtcbiAgaWYgKHNoaWZ0RHJhZ1pvb20pIHtcbiAgICBpbnRlcmFjdGlvbnMucHVzaChcbiAgICAgIG5ldyBEcmFnWm9vbSh7XG4gICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLnpvb21EdXJhdGlvbixcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBpbnRlcmFjdGlvbnM7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvS2luZXRpY1xuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogSW1wbGVtZW50YXRpb24gb2YgaW5lcnRpYWwgZGVjZWxlcmF0aW9uIGZvciBtYXAgbW92ZW1lbnQuXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBLaW5ldGljIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWNheSBSYXRlIG9mIGRlY2F5IChtdXN0IGJlIG5lZ2F0aXZlKS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblZlbG9jaXR5IE1pbmltdW0gdmVsb2NpdHkgKHBpeGVscy9taWxsaXNlY29uZCkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBEZWxheSB0byBjb25zaWRlciB0byBjYWxjdWxhdGUgdGhlIGtpbmV0aWNcbiAgICogICAgIGluaXRpYWwgdmFsdWVzIChtaWxsaXNlY29uZHMpLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZGVjYXksIG1pblZlbG9jaXR5LCBkZWxheSkge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmRlY2F5XyA9IGRlY2F5O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWluVmVsb2NpdHlfID0gbWluVmVsb2NpdHk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kZWxheV8gPSBkZWxheTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5wb2ludHNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5hbmdsZV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW5pdGlhbFZlbG9jaXR5XyA9IDA7XG4gIH1cblxuICAvKipcbiAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAqL1xuICBiZWdpbigpIHtcbiAgICB0aGlzLnBvaW50c18ubGVuZ3RoID0gMDtcbiAgICB0aGlzLmFuZ2xlXyA9IDA7XG4gICAgdGhpcy5pbml0aWFsVmVsb2NpdHlfID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgKi9cbiAgdXBkYXRlKHgsIHkpIHtcbiAgICB0aGlzLnBvaW50c18ucHVzaCh4LCB5LCBEYXRlLm5vdygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHdlIHNob3VsZCBkbyBraW5ldGljIGFuaW1hdGlvbi5cbiAgICovXG4gIGVuZCgpIHtcbiAgICBpZiAodGhpcy5wb2ludHNfLmxlbmd0aCA8IDYpIHtcbiAgICAgIC8vIGF0IGxlYXN0IDIgcG9pbnRzIGFyZSByZXF1aXJlZCAoaS5lLiB0aGVyZSBtdXN0IGJlIGF0IGxlYXN0IDYgZWxlbWVudHNcbiAgICAgIC8vIGluIHRoZSBhcnJheSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgZGVsYXkgPSBEYXRlLm5vdygpIC0gdGhpcy5kZWxheV87XG4gICAgY29uc3QgbGFzdEluZGV4ID0gdGhpcy5wb2ludHNfLmxlbmd0aCAtIDM7XG4gICAgaWYgKHRoaXMucG9pbnRzX1tsYXN0SW5kZXggKyAyXSA8IGRlbGF5KSB7XG4gICAgICAvLyB0aGUgbGFzdCB0cmFja2VkIHBvaW50IGlzIHRvbyBvbGQsIHdoaWNoIG1lYW5zIHRoYXQgdGhlIHVzZXIgc3RvcHBlZFxuICAgICAgLy8gcGFubmluZyBiZWZvcmUgcmVsZWFzaW5nIHRoZSBtYXBcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBnZXQgdGhlIGZpcnN0IHBvaW50IHdoaWNoIHN0aWxsIGZhbGxzIGludG8gdGhlIGRlbGF5IHRpbWVcbiAgICBsZXQgZmlyc3RJbmRleCA9IGxhc3RJbmRleCAtIDM7XG4gICAgd2hpbGUgKGZpcnN0SW5kZXggPiAwICYmIHRoaXMucG9pbnRzX1tmaXJzdEluZGV4ICsgMl0gPiBkZWxheSkge1xuICAgICAgZmlyc3RJbmRleCAtPSAzO1xuICAgIH1cblxuICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5wb2ludHNfW2xhc3RJbmRleCArIDJdIC0gdGhpcy5wb2ludHNfW2ZpcnN0SW5kZXggKyAyXTtcbiAgICAvLyB3ZSBkb24ndCB3YW50IGEgZHVyYXRpb24gb2YgMCAoZGl2aWRlIGJ5IHplcm8pXG4gICAgLy8gd2UgYWxzbyBtYWtlIHN1cmUgdGhlIHVzZXIgcGFubmVkIGZvciBhIGR1cmF0aW9uIG9mIGF0IGxlYXN0IG9uZSBmcmFtZVxuICAgIC8vICgxLzYwcykgdG8gY29tcHV0ZSBzYW5lIGRpc3BsYWNlbWVudCB2YWx1ZXNcbiAgICBpZiAoZHVyYXRpb24gPCAxMDAwIC8gNjApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBkeCA9IHRoaXMucG9pbnRzX1tsYXN0SW5kZXhdIC0gdGhpcy5wb2ludHNfW2ZpcnN0SW5kZXhdO1xuICAgIGNvbnN0IGR5ID0gdGhpcy5wb2ludHNfW2xhc3RJbmRleCArIDFdIC0gdGhpcy5wb2ludHNfW2ZpcnN0SW5kZXggKyAxXTtcbiAgICB0aGlzLmFuZ2xlXyA9IE1hdGguYXRhbjIoZHksIGR4KTtcbiAgICB0aGlzLmluaXRpYWxWZWxvY2l0eV8gPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpIC8gZHVyYXRpb247XG4gICAgcmV0dXJuIHRoaXMuaW5pdGlhbFZlbG9jaXR5XyA+IHRoaXMubWluVmVsb2NpdHlfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gVG90YWwgZGlzdGFuY2UgdHJhdmVsbGVkIChwaXhlbHMpLlxuICAgKi9cbiAgZ2V0RGlzdGFuY2UoKSB7XG4gICAgcmV0dXJuICh0aGlzLm1pblZlbG9jaXR5XyAtIHRoaXMuaW5pdGlhbFZlbG9jaXR5XykgLyB0aGlzLmRlY2F5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFuZ2xlIG9mIHRoZSBraW5ldGljIHBhbm5pbmcgYW5pbWF0aW9uIChyYWRpYW5zKS5cbiAgICovXG4gIGdldEFuZ2xlKCkge1xuICAgIHJldHVybiB0aGlzLmFuZ2xlXztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBLaW5ldGljO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL09iamVjdFxuICovXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudHMvRXZlbnQuanMnO1xuaW1wb3J0IE9iamVjdEV2ZW50VHlwZSBmcm9tICcuL09iamVjdEV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgT2JzZXJ2YWJsZSBmcm9tICcuL09ic2VydmFibGUuanMnO1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQge2lzRW1wdHl9IGZyb20gJy4vb2JqLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBFdmVudHMgZW1pdHRlZCBieSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fSBpbnN0YW5jZXMgYXJlIGluc3RhbmNlcyBvZiB0aGlzIHR5cGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBPYmplY3RFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBwcm9wZXJ0eSBuYW1lLlxuICAgKiBAcGFyYW0geyp9IG9sZFZhbHVlIFRoZSBvbGQgdmFsdWUgZm9yIGBrZXlgLlxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSwga2V5LCBvbGRWYWx1ZSkge1xuICAgIHN1cGVyKHR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHdob3NlIHZhbHVlIGlzIGNoYW5naW5nLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMua2V5ID0ga2V5O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9sZCB2YWx1ZS4gVG8gZ2V0IHRoZSBuZXcgdmFsdWUgdXNlIGBlLnRhcmdldC5nZXQoZS5rZXkpYCB3aGVyZVxuICAgICAqIGBlYCBpcyB0aGUgZXZlbnQgb2JqZWN0LlxuICAgICAqIEB0eXBlIHsqfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLm9sZFZhbHVlID0gb2xkVmFsdWU7XG4gIH1cbn1cblxuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgICBpbXBvcnQoXCIuL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXMsIE9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfGltcG9ydChcIi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzLCBSZXR1cm4+fSBPYmplY3RPblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogTW9zdCBub24tdHJpdmlhbCBjbGFzc2VzIGluaGVyaXQgZnJvbSB0aGlzLlxuICpcbiAqIFRoaXMgZXh0ZW5kcyB7QGxpbmsgbW9kdWxlOm9sL09ic2VydmFibGV+T2JzZXJ2YWJsZX0gd2l0aCBvYnNlcnZhYmxlXG4gKiBwcm9wZXJ0aWVzLCB3aGVyZSBlYWNoIHByb3BlcnR5IGlzIG9ic2VydmFibGUgYXMgd2VsbCBhcyB0aGUgb2JqZWN0IGFzIGFcbiAqIHdob2xlLlxuICpcbiAqIENsYXNzZXMgdGhhdCBpbmhlcml0IGZyb20gdGhpcyBoYXZlIHByZS1kZWZpbmVkIHByb3BlcnRpZXMsIHRvIHdoaWNoIHlvdSBjYW5cbiAqIGFkZCB5b3VyIG93bnMuIFRoZSBwcmUtZGVmaW5lZCBwcm9wZXJ0aWVzIGFyZSBsaXN0ZWQgaW4gdGhpcyBkb2N1bWVudGF0aW9uIGFzXG4gKiAnT2JzZXJ2YWJsZSBQcm9wZXJ0aWVzJywgYW5kIGhhdmUgdGhlaXIgb3duIGFjY2Vzc29yczsgZm9yIGV4YW1wbGUsXG4gKiB7QGxpbmsgbW9kdWxlOm9sL01hcH5NYXB9IGhhcyBhIGB0YXJnZXRgIHByb3BlcnR5LCBhY2Nlc3NlZCB3aXRoXG4gKiBgZ2V0VGFyZ2V0KClgIGFuZCBjaGFuZ2VkIHdpdGggYHNldFRhcmdldCgpYC4gTm90IGFsbCBwcm9wZXJ0aWVzIGFyZSBob3dldmVyXG4gKiBzZXR0YWJsZS4gVGhlcmUgYXJlIGFsc28gZ2VuZXJhbC1wdXJwb3NlIGFjY2Vzc29ycyBgZ2V0KClgIGFuZCBgc2V0KClgLiBGb3JcbiAqIGV4YW1wbGUsIGBnZXQoJ3RhcmdldCcpYCBpcyBlcXVpdmFsZW50IHRvIGBnZXRUYXJnZXQoKWAuXG4gKlxuICogVGhlIGBzZXRgIGFjY2Vzc29ycyB0cmlnZ2VyIGEgY2hhbmdlIGV2ZW50LCBhbmQgeW91IGNhbiBtb25pdG9yIHRoaXMgYnlcbiAqIHJlZ2lzdGVyaW5nIGEgbGlzdGVuZXIuIEZvciBleGFtcGxlLCB7QGxpbmsgbW9kdWxlOm9sL1ZpZXd+Vmlld30gaGFzIGFcbiAqIGBjZW50ZXJgIHByb3BlcnR5LCBzbyBgdmlldy5vbignY2hhbmdlOmNlbnRlcicsIGZ1bmN0aW9uKGV2dCkgey4uLn0pO2Agd291bGRcbiAqIGNhbGwgdGhlIGZ1bmN0aW9uIHdoZW5ldmVyIHRoZSB2YWx1ZSBvZiB0aGUgY2VudGVyIHByb3BlcnR5IGNoYW5nZXMuIFdpdGhpblxuICogdGhlIGZ1bmN0aW9uLCBgZXZ0LnRhcmdldGAgd291bGQgYmUgdGhlIHZpZXcsIHNvIGBldnQudGFyZ2V0LmdldENlbnRlcigpYFxuICogd291bGQgcmV0dXJuIHRoZSBuZXcgY2VudGVyLlxuICpcbiAqIFlvdSBjYW4gYWRkIHlvdXIgb3duIG9ic2VydmFibGUgcHJvcGVydGllcyB3aXRoXG4gKiBgb2JqZWN0LnNldCgncHJvcCcsICd2YWx1ZScpYCwgYW5kIHJldHJpZXZlIHRoYXQgd2l0aCBgb2JqZWN0LmdldCgncHJvcCcpYC5cbiAqIFlvdSBjYW4gbGlzdGVuIGZvciBjaGFuZ2VzIG9uIHRoYXQgcHJvcGVydHkgdmFsdWUgd2l0aFxuICogYG9iamVjdC5vbignY2hhbmdlOnByb3AnLCBsaXN0ZW5lcilgLiBZb3UgY2FuIGdldCBhIGxpc3Qgb2YgYWxsXG4gKiBwcm9wZXJ0aWVzIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdCNnZXRQcm9wZXJ0aWVzfS5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIG9ic2VydmFibGUgcHJvcGVydGllcyBhcmUgc2VwYXJhdGUgZnJvbSBzdGFuZGFyZCBKUyBwcm9wZXJ0aWVzLlxuICogWW91IGNhbiwgZm9yIGV4YW1wbGUsIGdpdmUgeW91ciBtYXAgb2JqZWN0IGEgdGl0bGUgd2l0aFxuICogYG1hcC50aXRsZT0nTmV3IHRpdGxlJ2AgYW5kIHdpdGggYG1hcC5zZXQoJ3RpdGxlJywgJ0Fub3RoZXIgdGl0bGUnKWAuIFRoZVxuICogZmlyc3Qgd2lsbCBiZSBhIGBoYXNPd25Qcm9wZXJ0eWA7IHRoZSBzZWNvbmQgd2lsbCBhcHBlYXIgaW5cbiAqIGBnZXRQcm9wZXJ0aWVzKClgLiBPbmx5IHRoZSBzZWNvbmQgaXMgb2JzZXJ2YWJsZS5cbiAqXG4gKiBQcm9wZXJ0aWVzIGNhbiBiZSBkZWxldGVkIGJ5IHVzaW5nIHRoZSB1bnNldCBtZXRob2QuIEUuZy5cbiAqIG9iamVjdC51bnNldCgnZm9vJykuXG4gKlxuICogQGZpcmVzIE9iamVjdEV2ZW50XG4gKiBAYXBpXG4gKi9cbmNsYXNzIEJhc2VPYmplY3QgZXh0ZW5kcyBPYnNlcnZhYmxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgKj59IFt2YWx1ZXNdIEFuIG9iamVjdCB3aXRoIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHZhbHVlcykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge09iamVjdE9uU2lnbmF0dXJlPGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbjtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0T25TaWduYXR1cmU8aW1wb3J0KFwiLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uY2U7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge09iamVjdE9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICAvLyBDYWxsIHtAbGluayBtb2R1bGU6b2wvdXRpbC5nZXRVaWR9IHRvIGVuc3VyZSB0aGF0IHRoZSBvcmRlciBvZiBvYmplY3RzJyBpZHMgaXNcbiAgICAvLyB0aGUgc2FtZSBhcyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSB3ZXJlIGNyZWF0ZWQuICBUaGlzIGFsc28gaGVscHMgdG9cbiAgICAvLyBlbnN1cmUgdGhhdCBvYmplY3QgcHJvcGVydGllcyBhcmUgYWx3YXlzIGFkZGVkIGluIHRoZSBzYW1lIG9yZGVyLCB3aGljaFxuICAgIC8vIGhlbHBzIG1hbnkgSmF2YVNjcmlwdCBlbmdpbmVzIGdlbmVyYXRlIGZhc3RlciBjb2RlLlxuICAgIGdldFVpZCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fVxuICAgICAqL1xuICAgIHRoaXMudmFsdWVzXyA9IG51bGw7XG5cbiAgICBpZiAodmFsdWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0UHJvcGVydGllcyh2YWx1ZXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgdmFsdWUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gICAqIEByZXR1cm4geyp9IFZhbHVlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXQoa2V5KSB7XG4gICAgbGV0IHZhbHVlO1xuICAgIGlmICh0aGlzLnZhbHVlc18gJiYgdGhpcy52YWx1ZXNfLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHZhbHVlID0gdGhpcy52YWx1ZXNfW2tleV07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBsaXN0IG9mIG9iamVjdCBwcm9wZXJ0eSBuYW1lcy5cbiAgICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn0gTGlzdCBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0S2V5cygpIHtcbiAgICByZXR1cm4gKHRoaXMudmFsdWVzXyAmJiBPYmplY3Qua2V5cyh0aGlzLnZhbHVlc18pKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYW4gb2JqZWN0IG9mIGFsbCBwcm9wZXJ0eSBuYW1lcyBhbmQgdmFsdWVzLlxuICAgKiBAcmV0dXJuIHtPYmplY3Q8c3RyaW5nLCAqPn0gT2JqZWN0LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRQcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiAodGhpcy52YWx1ZXNfICYmIE9iamVjdC5hc3NpZ24oe30sIHRoaXMudmFsdWVzXykpIHx8IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBvYmplY3QgaGFzIHByb3BlcnRpZXMuXG4gICAqL1xuICBoYXNQcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiAhIXRoaXMudmFsdWVzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgKiBAcGFyYW0geyp9IG9sZFZhbHVlIE9sZCB2YWx1ZS5cbiAgICovXG4gIG5vdGlmeShrZXksIG9sZFZhbHVlKSB7XG4gICAgbGV0IGV2ZW50VHlwZTtcbiAgICBldmVudFR5cGUgPSBgY2hhbmdlOiR7a2V5fWA7XG4gICAgaWYgKHRoaXMuaGFzTGlzdGVuZXIoZXZlbnRUeXBlKSkge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBPYmplY3RFdmVudChldmVudFR5cGUsIGtleSwgb2xkVmFsdWUpKTtcbiAgICB9XG4gICAgZXZlbnRUeXBlID0gT2JqZWN0RXZlbnRUeXBlLlBST1BFUlRZQ0hBTkdFO1xuICAgIGlmICh0aGlzLmhhc0xpc3RlbmVyKGV2ZW50VHlwZSkpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgT2JqZWN0RXZlbnQoZXZlbnRUeXBlLCBrZXksIG9sZFZhbHVlKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IG5hbWUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuTGlzdGVuZXJ9IGxpc3RlbmVyIExpc3RlbmVyLlxuICAgKi9cbiAgYWRkQ2hhbmdlTGlzdGVuZXIoa2V5LCBsaXN0ZW5lcikge1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlOiR7a2V5fWAsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyfSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAgICovXG4gIHJlbW92ZUNoYW5nZUxpc3RlbmVyKGtleSwgbGlzdGVuZXIpIHtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoYGNoYW5nZToke2tleX1gLCBsaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhIHZhbHVlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzaWxlbnRdIFVwZGF0ZSB3aXRob3V0IHRyaWdnZXJpbmcgYW4gZXZlbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldChrZXksIHZhbHVlLCBzaWxlbnQpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLnZhbHVlc18gfHwgKHRoaXMudmFsdWVzXyA9IHt9KTtcbiAgICBpZiAoc2lsZW50KSB7XG4gICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IHZhbHVlc1trZXldO1xuICAgICAgdmFsdWVzW2tleV0gPSB2YWx1ZTtcbiAgICAgIGlmIChvbGRWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgdGhpcy5ub3RpZnkoa2V5LCBvbGRWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYSBjb2xsZWN0aW9uIG9mIGtleS12YWx1ZSBwYWlycy4gIE5vdGUgdGhhdCB0aGlzIGNoYW5nZXMgYW55IGV4aXN0aW5nXG4gICAqIHByb3BlcnRpZXMgYW5kIGFkZHMgbmV3IG9uZXMgKGl0IGRvZXMgbm90IHJlbW92ZSBhbnkgZXhpc3RpbmcgcHJvcGVydGllcykuXG4gICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgKj59IHZhbHVlcyBWYWx1ZXMuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NpbGVudF0gVXBkYXRlIHdpdGhvdXQgdHJpZ2dlcmluZyBhbiBldmVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0UHJvcGVydGllcyh2YWx1ZXMsIHNpbGVudCkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlcykge1xuICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZXNba2V5XSwgc2lsZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYW55IHByb3BlcnRpZXMgZnJvbSBhbm90aGVyIG9iamVjdCB3aXRob3V0IHRyaWdnZXJpbmcgZXZlbnRzLlxuICAgKiBAcGFyYW0ge0Jhc2VPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgYXBwbHlQcm9wZXJ0aWVzKHNvdXJjZSkge1xuICAgIGlmICghc291cmNlLnZhbHVlc18pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLnZhbHVlc18gfHwgKHRoaXMudmFsdWVzXyA9IHt9KSwgc291cmNlLnZhbHVlc18pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuc2V0cyBhIHByb3BlcnR5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleSBuYW1lLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzaWxlbnRdIFVuc2V0IHdpdGhvdXQgdHJpZ2dlcmluZyBhbiBldmVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgdW5zZXQoa2V5LCBzaWxlbnQpIHtcbiAgICBpZiAodGhpcy52YWx1ZXNfICYmIGtleSBpbiB0aGlzLnZhbHVlc18pIHtcbiAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy52YWx1ZXNfW2tleV07XG4gICAgICBkZWxldGUgdGhpcy52YWx1ZXNfW2tleV07XG4gICAgICBpZiAoaXNFbXB0eSh0aGlzLnZhbHVlc18pKSB7XG4gICAgICAgIHRoaXMudmFsdWVzXyA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoIXNpbGVudCkge1xuICAgICAgICB0aGlzLm5vdGlmeShrZXksIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFzZU9iamVjdDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9PYmplY3RFdmVudFR5cGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCB3aGVuIGEgcHJvcGVydHkgaXMgY2hhbmdlZC5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9PYmplY3QuT2JqZWN0RXZlbnQjcHJvcGVydHljaGFuZ2VcbiAgICogQGFwaVxuICAgKi9cbiAgUFJPUEVSVFlDSEFOR0U6ICdwcm9wZXJ0eWNoYW5nZScsXG59O1xuXG4vKipcbiAqIEB0eXBlZGVmIHsncHJvcGVydHljaGFuZ2UnfSBUeXBlc1xuICovXG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvT2JzZXJ2YWJsZVxuICovXG5pbXBvcnQgRXZlbnRUYXJnZXQgZnJvbSAnLi9ldmVudHMvVGFyZ2V0LmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCB7bGlzdGVuLCBsaXN0ZW5PbmNlLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuL2V2ZW50cy5qcyc7XG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSB7c3RyaW5nfSBUeXBlXG4gKiBAdGVtcGxhdGUge0V2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHR9IEV2ZW50Q2xhc3NcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHsodHlwZTogVHlwZSwgbGlzdGVuZXI6IChldmVudDogRXZlbnRDbGFzcykgPT4gPykgPT4gUmV0dXJufSBPblNpZ25hdHVyZVxuICovXG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSB7c3RyaW5nfSBUeXBlXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7KHR5cGU6IFR5cGVbXSwgbGlzdGVuZXI6IChldmVudDogRXZlbnR8aW1wb3J0KFwiLi9ldmVudHMvRXZlbnRcIikuZGVmYXVsdCkgPT4gPykgPT4gUmV0dXJuIGV4dGVuZHMgdm9pZCA/IHZvaWQgOiBSZXR1cm5bXX0gQ29tYmluZWRPblNpZ25hdHVyZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeydjaGFuZ2UnfCdlcnJvcid9IEV2ZW50VHlwZXNcbiAqL1xuXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7T25TaWduYXR1cmU8RXZlbnRUeXBlcywgaW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmIENvbWJpbmVkT25TaWduYXR1cmU8RXZlbnRUeXBlcywgUmV0dXJuPn0gT2JzZXJ2YWJsZU9uU2lnbmF0dXJlXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBBbiBldmVudCB0YXJnZXQgcHJvdmlkaW5nIGNvbnZlbmllbnQgbWV0aG9kcyBmb3IgbGlzdGVuZXIgcmVnaXN0cmF0aW9uXG4gKiBhbmQgdW5yZWdpc3RyYXRpb24uIEEgZ2VuZXJpYyBgY2hhbmdlYCBldmVudCBpcyBhbHdheXMgYXZhaWxhYmxlIHRocm91Z2hcbiAqIHtAbGluayBtb2R1bGU6b2wvT2JzZXJ2YWJsZX5PYnNlcnZhYmxlI2NoYW5nZWR9LlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0XG4gKiBAYXBpXG4gKi9cbmNsYXNzIE9ic2VydmFibGUgZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLm9uID1cbiAgICAgIC8qKiBAdHlwZSB7T2JzZXJ2YWJsZU9uU2lnbmF0dXJlPGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59ICovIChcbiAgICAgICAgdGhpcy5vbkludGVybmFsXG4gICAgICApO1xuXG4gICAgdGhpcy5vbmNlID1cbiAgICAgIC8qKiBAdHlwZSB7T2JzZXJ2YWJsZU9uU2lnbmF0dXJlPGltcG9ydChcIi4vZXZlbnRzXCIpLkV2ZW50c0tleT59ICovIChcbiAgICAgICAgdGhpcy5vbmNlSW50ZXJuYWxcbiAgICAgICk7XG5cbiAgICB0aGlzLnVuID0gLyoqIEB0eXBlIHtPYnNlcnZhYmxlT25TaWduYXR1cmU8dm9pZD59ICovICh0aGlzLnVuSW50ZXJuYWwpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmV2aXNpb25fID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmNyZWFzZXMgdGhlIHJldmlzaW9uIGNvdW50ZXIgYW5kIGRpc3BhdGNoZXMgYSAnY2hhbmdlJyBldmVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgY2hhbmdlZCgpIHtcbiAgICArK3RoaXMucmV2aXNpb25fO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuQ0hBTkdFKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZlcnNpb24gbnVtYmVyIGZvciB0aGlzIG9iamVjdC4gIEVhY2ggdGltZSB0aGUgb2JqZWN0IGlzIG1vZGlmaWVkLFxuICAgKiBpdHMgdmVyc2lvbiBudW1iZXIgd2lsbCBiZSBpbmNyZW1lbnRlZC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBSZXZpc2lvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UmV2aXNpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucmV2aXNpb25fO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IHR5cGUgVHlwZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbigoRXZlbnR8aW1wb3J0KFwiLi9ldmVudHMvRXZlbnRcIikuZGVmYXVsdCkpOiA/fSBsaXN0ZW5lciBMaXN0ZW5lci5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fEFycmF5PGltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleT59IEV2ZW50IGtleS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgb25JbnRlcm5hbCh0eXBlLCBsaXN0ZW5lcikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICBjb25zdCBsZW4gPSB0eXBlLmxlbmd0aDtcbiAgICAgIGNvbnN0IGtleXMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAga2V5c1tpXSA9IGxpc3Rlbih0aGlzLCB0eXBlW2ldLCBsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5cztcbiAgICB9XG4gICAgcmV0dXJuIGxpc3Rlbih0aGlzLCAvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpLCBsaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUeXBlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIExpc3RlbmVyLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl8QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn0gRXZlbnQga2V5LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBvbmNlSW50ZXJuYWwodHlwZSwgbGlzdGVuZXIpIHtcbiAgICBsZXQga2V5O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICBjb25zdCBsZW4gPSB0eXBlLmxlbmd0aDtcbiAgICAgIGtleSA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBrZXlbaV0gPSBsaXN0ZW5PbmNlKHRoaXMsIHR5cGVbaV0sIGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAga2V5ID0gbGlzdGVuT25jZSh0aGlzLCAvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpLCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqLyAobGlzdGVuZXIpLm9sX2tleSA9IGtleTtcbiAgICByZXR1cm4ga2V5O1xuICB9XG5cbiAgLyoqXG4gICAqIFVubGlzdGVuIGZvciBhIGNlcnRhaW4gdHlwZSBvZiBldmVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUeXBlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIExpc3RlbmVyLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICB1bkludGVybmFsKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgY29uc3Qga2V5ID0gLyoqIEB0eXBlIHtPYmplY3R9ICovIChsaXN0ZW5lcikub2xfa2V5O1xuICAgIGlmIChrZXkpIHtcbiAgICAgIHVuQnlLZXkoa2V5KTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHR5cGUubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZVtpXSwgbGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIExpc3RlbiBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IHR5cGUgVGhlIGV2ZW50IHR5cGUgb3IgYXJyYXkgb2YgZXZlbnQgdHlwZXMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBVbmlxdWUga2V5IGZvciB0aGUgbGlzdGVuZXIuIElmXG4gKiAgICAgY2FsbGVkIHdpdGggYW4gYXJyYXkgb2YgZXZlbnQgdHlwZXMgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgcmV0dXJuXG4gKiAgICAgd2lsbCBiZSBhbiBhcnJheSBvZiBrZXlzLlxuICogQGFwaVxuICovXG5PYnNlcnZhYmxlLnByb3RvdHlwZS5vbjtcblxuLyoqXG4gKiBMaXN0ZW4gb25jZSBmb3IgYSBjZXJ0YWluIHR5cGUgb2YgZXZlbnQuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IHR5cGUgVGhlIGV2ZW50IHR5cGUgb3IgYXJyYXkgb2YgZXZlbnQgdHlwZXMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKChFdmVudHxpbXBvcnQoXCIuL2V2ZW50cy9FdmVudFwiKS5kZWZhdWx0KSk6ID99IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleXxBcnJheTxpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXk+fSBVbmlxdWUga2V5IGZvciB0aGUgbGlzdGVuZXIuIElmXG4gKiAgICAgY2FsbGVkIHdpdGggYW4gYXJyYXkgb2YgZXZlbnQgdHlwZXMgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgcmV0dXJuXG4gKiAgICAgd2lsbCBiZSBhbiBhcnJheSBvZiBrZXlzLlxuICogQGFwaVxuICovXG5PYnNlcnZhYmxlLnByb3RvdHlwZS5vbmNlO1xuXG4vKipcbiAqIFVubGlzdGVuIGZvciBhIGNlcnRhaW4gdHlwZSBvZiBldmVudC5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdHlwZSBUaGUgZXZlbnQgdHlwZSBvciBhcnJheSBvZiBldmVudCB0eXBlcy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKEV2ZW50fGltcG9ydChcIi4vZXZlbnRzL0V2ZW50XCIpLmRlZmF1bHQpKTogP30gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQGFwaVxuICovXG5PYnNlcnZhYmxlLnByb3RvdHlwZS51bjtcblxuLyoqXG4gKiBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIHVzaW5nIHRoZSBrZXkgcmV0dXJuZWQgYnkgYG9uKClgIG9yIGBvbmNlKClgLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl8QXJyYXk8aW1wb3J0KFwiLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn0ga2V5IFRoZSBrZXkgcmV0dXJuZWQgYnkgYG9uKClgXG4gKiAgICAgb3IgYG9uY2UoKWAgKG9yIGFuIGFycmF5IG9mIGtleXMpLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5CeUtleShrZXkpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGtleS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KGtleVtpXSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHVubGlzdGVuQnlLZXkoLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2V2ZW50cy5qc1wiKS5FdmVudHNLZXl9ICovIChrZXkpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBPYnNlcnZhYmxlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1RpbGVcbiAqL1xuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4vZXZlbnRzL1RhcmdldC5qcyc7XG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7YWJzdHJhY3R9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQge2Vhc2VJbn0gZnJvbSAnLi9lYXNpbmcuanMnO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL1RpbGV+VGlsZX0gZm9yIHRoZSB0aWxlIGFuZCBhXG4gKiBge3N0cmluZ31gIGZvciB0aGUgdXJsIGFzIGFyZ3VtZW50cy4gVGhlIGRlZmF1bHQgaXNcbiAqIGBgYGpzXG4gKiBzb3VyY2Uuc2V0VGlsZUxvYWRGdW5jdGlvbihmdW5jdGlvbih0aWxlLCBzcmMpIHtcbiAqICAgdGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH0pO1xuICogYGBgXG4gKiBGb3IgbW9yZSBmaW5lIGdyYWluZWQgY29udHJvbCwgdGhlIGxvYWQgZnVuY3Rpb24gY2FuIHVzZSBmZXRjaCBvciBYTUxIdHRwUmVxdWVzdCBhbmQgaW52b2x2ZVxuICogZXJyb3IgaGFuZGxpbmc6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCBUaWxlU3RhdGUgZnJvbSAnb2wvVGlsZVN0YXRlLmpzJztcbiAqXG4gKiBzb3VyY2Uuc2V0VGlsZUxvYWRGdW5jdGlvbihmdW5jdGlvbih0aWxlLCBzcmMpIHtcbiAqICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gKiAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYic7XG4gKiAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkZW5kJywgZnVuY3Rpb24gKGV2dCkge1xuICogICAgIGNvbnN0IGRhdGEgPSB0aGlzLnJlc3BvbnNlO1xuICogICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAqICAgICAgIHRpbGUuZ2V0SW1hZ2UoKS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGRhdGEpO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICB0aWxlLnNldFN0YXRlKFRpbGVTdGF0ZS5FUlJPUik7XG4gKiAgICAgfVxuICogICB9KTtcbiAqICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xuICogICAgIHRpbGUuc2V0U3RhdGUoVGlsZVN0YXRlLkVSUk9SKTtcbiAqICAgfSk7XG4gKiAgIHhoci5vcGVuKCdHRVQnLCBzcmMpO1xuICogICB4aHIuc2VuZCgpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oVGlsZSwgc3RyaW5nKTogdm9pZH0gTG9hZEZ1bmN0aW9uXG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9UaWxlflRpbGVTb3VyY2V9IHNvdXJjZXMgdXNlIGEgZnVuY3Rpb24gb2YgdGhpcyB0eXBlIHRvIGdldFxuICogdGhlIHVybCB0aGF0IHByb3ZpZGVzIGEgdGlsZSBmb3IgYSBnaXZlbiB0aWxlIGNvb3JkaW5hdGUuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyBhbiB7QGxpbmsgbW9kdWxlOm9sL3RpbGVjb29yZH5UaWxlQ29vcmR9IGZvciB0aGUgdGlsZVxuICogY29vcmRpbmF0ZSwgYSBge251bWJlcn1gIHJlcHJlc2VudGluZyB0aGUgcGl4ZWwgcmF0aW8gYW5kIGFcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IGZvciB0aGUgcHJvamVjdGlvbiAgYXMgYXJndW1lbnRzXG4gKiBhbmQgcmV0dXJucyBhIGB7c3RyaW5nfWAgcmVwcmVzZW50aW5nIHRoZSB0aWxlIFVSTCwgb3IgdW5kZWZpbmVkIGlmIG5vIHRpbGVcbiAqIHNob3VsZCBiZSByZXF1ZXN0ZWQgZm9yIHRoZSBwYXNzZWQgdGlsZSBjb29yZGluYXRlLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQsIG51bWJlcixcbiAqICAgICAgICAgICBpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0KTogKHN0cmluZ3x1bmRlZmluZWQpfSBVcmxGdW5jdGlvblxuICogQGFwaVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uPTI1MF0gQSBkdXJhdGlvbiBmb3IgdGlsZSBvcGFjaXR5XG4gKiB0cmFuc2l0aW9ucyBpbiBtaWxsaXNlY29uZHMuIEEgZHVyYXRpb24gb2YgMCBkaXNhYmxlcyB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW50ZXJwb2xhdGU9ZmFsc2VdIFVzZSBpbnRlcnBvbGF0ZWQgdmFsdWVzIHdoZW4gcmVzYW1wbGluZy4gIEJ5IGRlZmF1bHQsXG4gKiB0aGUgbmVhcmVzdCBuZWlnaGJvciBpcyB1c2VkIHdoZW4gcmVzYW1wbGluZy5cbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEJhc2UgY2xhc3MgZm9yIHRpbGVzLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBUaWxlIGV4dGVuZHMgRXZlbnRUYXJnZXQge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH0gc3RhdGUgU3RhdGUuXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIFRpbGUgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRpbGVDb29yZCwgc3RhdGUsIG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfVxuICAgICAqL1xuICAgIHRoaXMudGlsZUNvb3JkID0gdGlsZUNvb3JkO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcblxuICAgIC8qKlxuICAgICAqIEFuIFwiaW50ZXJpbVwiIHRpbGUgZm9yIHRoaXMgdGlsZS4gVGhlIGludGVyaW0gdGlsZSBtYXkgYmUgdXNlZCB3aGlsZSB0aGlzXG4gICAgICogb25lIGlzIGxvYWRpbmcsIGZvciBcInNtb290aFwiIHRyYW5zaXRpb25zIHdoZW4gY2hhbmdpbmcgcGFyYW1zL2RpbWVuc2lvbnNcbiAgICAgKiBvbiB0aGUgc291cmNlLlxuICAgICAqIEB0eXBlIHtUaWxlfVxuICAgICAqL1xuICAgIHRoaXMuaW50ZXJpbVRpbGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBrZXkgYXNzaWduZWQgdG8gdGhlIHRpbGUuIFRoaXMgaXMgdXNlZCBieSB0aGUgdGlsZSBzb3VyY2UgdG8gZGV0ZXJtaW5lXG4gICAgICogaWYgdGhpcyB0aWxlIGNhbiBlZmZlY3RpdmVseSBiZSB1c2VkLCBvciBpZiBhIG5ldyB0aWxlIHNob3VsZCBiZSBjcmVhdGVkXG4gICAgICogYW5kIHRoaXMgb25lIGJlIHVzZWQgYXMgYW4gaW50ZXJpbSB0aWxlIGZvciB0aGlzIG5ldyB0aWxlLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5rZXkgPSAnJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBkdXJhdGlvbiBmb3IgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbi5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudHJhbnNpdGlvbl8gPVxuICAgICAgb3B0aW9ucy50cmFuc2l0aW9uID09PSB1bmRlZmluZWQgPyAyNTAgOiBvcHRpb25zLnRyYW5zaXRpb247XG5cbiAgICAvKipcbiAgICAgKiBMb29rdXAgb2Ygc3RhcnQgdGltZXMgZm9yIHJlbmRlcmluZyB0cmFuc2l0aW9ucy4gIElmIHRoZSBzdGFydCB0aW1lIGlzXG4gICAgICogZXF1YWwgdG8gLTEsIHRoZSB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlLlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMudHJhbnNpdGlvblN0YXJ0c18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaW50ZXJwb2xhdGUgPSAhIW9wdGlvbnMuaW50ZXJwb2xhdGU7XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgY2hhbmdlZCgpIHtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlLkNIQU5HRSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGJ5IHRoZSB0aWxlIGNhY2hlIHdoZW4gdGhlIHRpbGUgaXMgcmVtb3ZlZCBmcm9tIHRoZSBjYWNoZSBkdWUgdG8gZXhwaXJ5XG4gICAqL1xuICByZWxlYXNlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09PSBUaWxlU3RhdGUuRVJST1IpIHtcbiAgICAgIC8vIHRvIHJlbW92ZSB0aGUgYGNoYW5nZWAgbGlzdGVuZXIgb24gdGhpcyB0aWxlIGluIGBvbC9UaWxlUXVldWUjaGFuZGxlVGlsZUNoYW5nZWBcbiAgICAgIHRoaXMuc2V0U3RhdGUoVGlsZVN0YXRlLkVNUFRZKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfSBLZXkuXG4gICAqL1xuICBnZXRLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMua2V5ICsgJy8nICsgdGhpcy50aWxlQ29vcmQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBpbnRlcmltIHRpbGUgbW9zdCBzdWl0YWJsZSBmb3IgcmVuZGVyaW5nIHVzaW5nIHRoZSBjaGFpbiBvZiBpbnRlcmltXG4gICAqIHRpbGVzLiBUaGlzIGNvcnJlc3BvbmRzIHRvIHRoZSAgbW9zdCByZWNlbnQgdGlsZSB0aGF0IGhhcyBiZWVuIGxvYWRlZCwgaWYgbm9cbiAgICogc3VjaCB0aWxlIGV4aXN0cywgdGhlIG9yaWdpbmFsIHRpbGUgaXMgcmV0dXJuZWQuXG4gICAqIEByZXR1cm4geyFUaWxlfSBCZXN0IHRpbGUgZm9yIHJlbmRlcmluZy5cbiAgICovXG4gIGdldEludGVyaW1UaWxlKCkge1xuICAgIGlmICghdGhpcy5pbnRlcmltVGlsZSkge1xuICAgICAgLy9lbXB0eSBjaGFpblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGxldCB0aWxlID0gdGhpcy5pbnRlcmltVGlsZTtcblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGxvYWRlZCB0aWxlIGFuZCByZXR1cm4gaXQuIFNpbmNlIHRoZSBjaGFpbiBpcyBzb3J0ZWQgaW5cbiAgICAvLyBkZWNyZWFzaW5nIG9yZGVyIG9mIGNyZWF0aW9uIHRpbWUsIHRoZXJlIGlzIG5vIG5lZWQgdG8gc2VhcmNoIHRoZSByZW1haW5kZXJcbiAgICAvLyBvZiB0aGUgbGlzdCAoYWxsIHRob3NlIHRpbGVzIGNvcnJlc3BvbmQgdG8gb2xkZXIgcmVxdWVzdHMgYW5kIHdpbGwgYmVcbiAgICAvLyBjbGVhbmVkIHVwIGJ5IHJlZnJlc2hJbnRlcmltQ2hhaW4pXG4gICAgZG8ge1xuICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgIC8vIFNob3cgdGlsZSBpbW1lZGlhdGVseSBpbnN0ZWFkIG9mIGZhZGluZyBpdCBpbiBhZnRlciBsb2FkaW5nLCBiZWNhdXNlXG4gICAgICAgIC8vIHRoZSBpbnRlcmltIHRpbGUgaXMgaW4gcGxhY2UgYWxyZWFkeVxuICAgICAgICB0aGlzLnRyYW5zaXRpb25fID0gMDtcbiAgICAgICAgcmV0dXJuIHRpbGU7XG4gICAgICB9XG4gICAgICB0aWxlID0gdGlsZS5pbnRlcmltVGlsZTtcbiAgICB9IHdoaWxlICh0aWxlKTtcblxuICAgIC8vIHdlIGNhbiBub3QgZmluZCBhIGJldHRlciB0aWxlXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogR29lcyB0aHJvdWdoIHRoZSBjaGFpbiBvZiBpbnRlcmltIHRpbGVzIGFuZCBkaXNjYXJkcyBzZWN0aW9ucyBvZiB0aGUgY2hhaW5cbiAgICogdGhhdCBhcmUgbm8gbG9uZ2VyIHJlbGV2YW50LlxuICAgKi9cbiAgcmVmcmVzaEludGVyaW1DaGFpbigpIHtcbiAgICBpZiAoIXRoaXMuaW50ZXJpbVRpbGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgdGlsZSA9IHRoaXMuaW50ZXJpbVRpbGU7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VGlsZX1cbiAgICAgKi9cbiAgICBsZXQgcHJldiA9IHRoaXM7XG5cbiAgICBkbyB7XG4gICAgICBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgLy93ZSBoYXZlIGEgbG9hZGVkIHRpbGUsIHdlIGNhbiBkaXNjYXJkIHRoZSByZXN0IG9mIHRoZSBsaXN0XG4gICAgICAgIC8vd2Ugd291bGQgY291bGQgYWJvcnQgYW55IExPQURJTkcgdGlsZSByZXF1ZXN0XG4gICAgICAgIC8vb2xkZXIgdGhhbiB0aGlzIHRpbGUgKGkuZS4gYW55IExPQURJTkcgdGlsZSBmb2xsb3dpbmcgdGhpcyBlbnRyeSBpbiB0aGUgY2hhaW4pXG4gICAgICAgIHRpbGUuaW50ZXJpbVRpbGUgPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FESU5HKSB7XG4gICAgICAgIC8va2VlcCB0aGlzIExPQURJTkcgdGlsZSBhbnkgbG9hZGVkIHRpbGVzIGxhdGVyIGluIHRoZSBjaGFpbiBhcmVcbiAgICAgICAgLy9vbGRlciB0aGFuIHRoaXMgdGlsZSwgc28gd2UncmUgc3RpbGwgaW50ZXJlc3RlZCBpbiB0aGUgcmVxdWVzdFxuICAgICAgICBwcmV2ID0gdGlsZTtcbiAgICAgIH0gZWxzZSBpZiAodGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICAgIC8vdGhlIGhlYWQgb2YgdGhlIGxpc3QgaXMgdGhlIG1vc3QgY3VycmVudCB0aWxlLCB3ZSBkb24ndCBuZWVkXG4gICAgICAgIC8vdG8gc3RhcnQgYW55IG90aGVyIHJlcXVlc3RzIGZvciB0aGlzIGNoYWluXG4gICAgICAgIHByZXYuaW50ZXJpbVRpbGUgPSB0aWxlLmludGVyaW1UaWxlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldiA9IHRpbGU7XG4gICAgICB9XG4gICAgICB0aWxlID0gcHJldi5pbnRlcmltVGlsZTtcbiAgICB9IHdoaWxlICh0aWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRpbGUgY29vcmRpbmF0ZSBmb3IgdGhpcyB0aWxlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFRoZSB0aWxlIGNvb3JkaW5hdGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRpbGVDb29yZCgpIHtcbiAgICByZXR1cm4gdGhpcy50aWxlQ29vcmQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH0gU3RhdGUuXG4gICAqL1xuICBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzdGF0ZSBvZiB0aGlzIHRpbGUuIElmIHlvdSB3cml0ZSB5b3VyIG93biB7QGxpbmsgbW9kdWxlOm9sL1RpbGV+TG9hZEZ1bmN0aW9uIHRpbGVMb2FkRnVuY3Rpb259ICxcbiAgICogaXQgaXMgaW1wb3J0YW50IHRvIHNldCB0aGUgc3RhdGUgY29ycmVjdGx5IHRvIHtAbGluayBtb2R1bGU6b2wvVGlsZVN0YXRlfkVSUk9SfVxuICAgKiB3aGVuIHRoZSB0aWxlIGNhbm5vdCBiZSBsb2FkZWQuIE90aGVyd2lzZSB0aGUgdGlsZSBjYW5ub3QgYmUgcmVtb3ZlZCBmcm9tXG4gICAqIHRoZSB0aWxlIHF1ZXVlIGFuZCB3aWxsIGJsb2NrIG90aGVyIHJlcXVlc3RzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vVGlsZVN0YXRlLmpzXCIpLmRlZmF1bHR9IHN0YXRlIFN0YXRlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRTdGF0ZShzdGF0ZSkge1xuICAgIGlmICh0aGlzLnN0YXRlICE9PSBUaWxlU3RhdGUuRVJST1IgJiYgdGhpcy5zdGF0ZSA+IHN0YXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RpbGUgbG9hZCBzZXF1ZW5jZSB2aW9sYXRpb24nKTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgdGhlIGltYWdlIG9yIHJldHJ5IGlmIGxvYWRpbmcgcHJldmlvdXNseSBmYWlsZWQuXG4gICAqIExvYWRpbmcgaXMgdGFrZW4gY2FyZSBvZiBieSB0aGUgdGlsZSBxdWV1ZSwgYW5kIGNhbGxpbmcgdGhpcyBtZXRob2QgaXNcbiAgICogb25seSBuZWVkZWQgZm9yIHByZWxvYWRpbmcgb3IgZm9yIHJlbG9hZGluZyBpbiBjYXNlIG9mIGFuIGVycm9yLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQGFwaVxuICAgKi9cbiAgbG9hZCgpIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYWxwaGEgdmFsdWUgZm9yIHJlbmRlcmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIEFuIGlkIGZvciB0aGUgcmVuZGVyZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIFRoZSByZW5kZXIgZnJhbWUgdGltZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuXG4gICAqL1xuICBnZXRBbHBoYShpZCwgdGltZSkge1xuICAgIGlmICghdGhpcy50cmFuc2l0aW9uXykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgbGV0IHN0YXJ0ID0gdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF07XG4gICAgaWYgKCFzdGFydCkge1xuICAgICAgc3RhcnQgPSB0aW1lO1xuICAgICAgdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF0gPSBzdGFydDtcbiAgICB9IGVsc2UgaWYgKHN0YXJ0ID09PSAtMSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgY29uc3QgZGVsdGEgPSB0aW1lIC0gc3RhcnQgKyAxMDAwIC8gNjA7IC8vIGF2b2lkIHJlbmRlcmluZyBhdCAwXG4gICAgaWYgKGRlbHRhID49IHRoaXMudHJhbnNpdGlvbl8pIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gZWFzZUluKGRlbHRhIC8gdGhpcy50cmFuc2l0aW9uXyk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIGlmIGEgdGlsZSBpcyBpbiBhbiBhbHBoYSB0cmFuc2l0aW9uLiAgQSB0aWxlIGlzIGNvbnNpZGVyZWQgaW5cbiAgICogdHJhbnNpdGlvbiBpZiB0aWxlLmdldEFscGhhKCkgaGFzIG5vdCB5ZXQgYmVlbiBjYWxsZWQgb3IgaGFzIGJlZW4gY2FsbGVkXG4gICAqIGFuZCByZXR1cm5lZCAxLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgQW4gaWQgZm9yIHRoZSByZW5kZXJlci5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHRpbGUgaXMgaW4gdHJhbnNpdGlvbi5cbiAgICovXG4gIGluVHJhbnNpdGlvbihpZCkge1xuICAgIGlmICghdGhpcy50cmFuc2l0aW9uXykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF0gIT09IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmsgYSB0cmFuc2l0aW9uIGFzIGNvbXBsZXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgQW4gaWQgZm9yIHRoZSByZW5kZXJlci5cbiAgICovXG4gIGVuZFRyYW5zaXRpb24oaWQpIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uXykge1xuICAgICAgdGhpcy50cmFuc2l0aW9uU3RhcnRzX1tpZF0gPSAtMTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGlsZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHJ1Y3RzL0xSVUNhY2hlXG4gKi9cblxuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEVudHJ5XG4gKiBAcHJvcGVydHkge3N0cmluZ30ga2V5XyBLZXkuXG4gKiBAcHJvcGVydHkge09iamVjdH0gbmV3ZXIgTmV3ZXIuXG4gKiBAcHJvcGVydHkge09iamVjdH0gb2xkZXIgT2xkZXIuXG4gKiBAcHJvcGVydHkgeyp9IHZhbHVlXyBWYWx1ZS5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEltcGxlbWVudHMgYSBMZWFzdC1SZWNlbnRseS1Vc2VkIGNhY2hlIHdoZXJlIHRoZSBrZXlzIGRvIG5vdCBjb25mbGljdCB3aXRoXG4gKiBPYmplY3QncyBwcm9wZXJ0aWVzIChlLmcuICdoYXNPd25Qcm9wZXJ0eScgaXMgbm90IGFsbG93ZWQgYXMgYSBrZXkpLiBFeHBpcmluZ1xuICogaXRlbXMgZnJvbSB0aGUgY2FjaGUgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSB1c2VyLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdFxuICogQHRlbXBsYXRlIFRcbiAqL1xuY2xhc3MgTFJVQ2FjaGUge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtoaWdoV2F0ZXJNYXJrXSBIaWdoIHdhdGVyIG1hcmsuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihoaWdoV2F0ZXJNYXJrKSB7XG4gICAgLyoqXG4gICAgICogRGVzaXJlZCBtYXggY2FjaGUgc2l6ZSBhZnRlciBleHBpcmVDYWNoZSgpLiBJZiBzZXQgdG8gMCwgbm8gY2FjaGUgZW50cmllc1xuICAgICAqIHdpbGwgYmUgcHJ1bmVkIGF0IGFsbC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGlnaFdhdGVyTWFyayA9IGhpZ2hXYXRlck1hcmsgIT09IHVuZGVmaW5lZCA/IGhpZ2hXYXRlck1hcmsgOiAyMDQ4O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuY291bnRfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBFbnRyeT59XG4gICAgICovXG4gICAgdGhpcy5lbnRyaWVzXyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P0VudHJ5fVxuICAgICAqL1xuICAgIHRoaXMub2xkZXN0XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/RW50cnl9XG4gICAgICovXG4gICAgdGhpcy5uZXdlc3RfID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBDYW4gZXhwaXJlIGNhY2hlLlxuICAgKi9cbiAgY2FuRXhwaXJlQ2FjaGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGlnaFdhdGVyTWFyayA+IDAgJiYgdGhpcy5nZXRDb3VudCgpID4gdGhpcy5oaWdoV2F0ZXJNYXJrO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4cGlyZSB0aGUgY2FjaGUuXG4gICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSBba2VlcF0gS2V5cyB0byBrZWVwLiBUbyBiZSBpbXBsZW1lbnRlZCBieSBzdWJjbGFzc2VzLlxuICAgKi9cbiAgZXhwaXJlQ2FjaGUoa2VlcCkge1xuICAgIHdoaWxlICh0aGlzLmNhbkV4cGlyZUNhY2hlKCkpIHtcbiAgICAgIHRoaXMucG9wKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZJWE1FIGVtcHR5IGRlc2NyaXB0aW9uIGZvciBqc2RvY1xuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5jb3VudF8gPSAwO1xuICAgIHRoaXMuZW50cmllc18gPSB7fTtcbiAgICB0aGlzLm9sZGVzdF8gPSBudWxsO1xuICAgIHRoaXMubmV3ZXN0XyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zIGtleS5cbiAgICovXG4gIGNvbnRhaW5zS2V5KGtleSkge1xuICAgIHJldHVybiB0aGlzLmVudHJpZXNfLmhhc093blByb3BlcnR5KGtleSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihULCBzdHJpbmcsIExSVUNhY2hlPFQ+KTogP30gZiBUaGUgZnVuY3Rpb25cbiAgICogICAgIHRvIGNhbGwgZm9yIGV2ZXJ5IGVudHJ5IGZyb20gdGhlIG9sZGVzdCB0byB0aGUgbmV3ZXIuIFRoaXMgZnVuY3Rpb24gdGFrZXNcbiAgICogICAgIDMgYXJndW1lbnRzICh0aGUgZW50cnkgdmFsdWUsIHRoZSBlbnRyeSBrZXkgYW5kIHRoZSBMUlVDYWNoZSBvYmplY3QpLlxuICAgKiAgICAgVGhlIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLlxuICAgKi9cbiAgZm9yRWFjaChmKSB7XG4gICAgbGV0IGVudHJ5ID0gdGhpcy5vbGRlc3RfO1xuICAgIHdoaWxlIChlbnRyeSkge1xuICAgICAgZihlbnRyeS52YWx1ZV8sIGVudHJ5LmtleV8sIHRoaXMpO1xuICAgICAgZW50cnkgPSBlbnRyeS5uZXdlcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE9wdGlvbnMgKHJlc2VydmVkIGZvciBzdWJjbGFzc2VzKS5cbiAgICogQHJldHVybiB7VH0gVmFsdWUuXG4gICAqL1xuICBnZXQoa2V5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmVudHJpZXNfW2tleV07XG4gICAgYXNzZXJ0KGVudHJ5ICE9PSB1bmRlZmluZWQsIDE1KTsgLy8gVHJpZWQgdG8gZ2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGNhY2hlXG4gICAgaWYgKGVudHJ5ID09PSB0aGlzLm5ld2VzdF8pIHtcbiAgICAgIHJldHVybiBlbnRyeS52YWx1ZV87XG4gICAgfSBlbHNlIGlmIChlbnRyeSA9PT0gdGhpcy5vbGRlc3RfKSB7XG4gICAgICB0aGlzLm9sZGVzdF8gPSAvKiogQHR5cGUge0VudHJ5fSAqLyAodGhpcy5vbGRlc3RfLm5ld2VyKTtcbiAgICAgIHRoaXMub2xkZXN0Xy5vbGRlciA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVudHJ5Lm5ld2VyLm9sZGVyID0gZW50cnkub2xkZXI7XG4gICAgICBlbnRyeS5vbGRlci5uZXdlciA9IGVudHJ5Lm5ld2VyO1xuICAgIH1cbiAgICBlbnRyeS5uZXdlciA9IG51bGw7XG4gICAgZW50cnkub2xkZXIgPSB0aGlzLm5ld2VzdF87XG4gICAgdGhpcy5uZXdlc3RfLm5ld2VyID0gZW50cnk7XG4gICAgdGhpcy5uZXdlc3RfID0gZW50cnk7XG4gICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gZW50cnkgZnJvbSB0aGUgY2FjaGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGVudHJ5IGtleS5cbiAgICogQHJldHVybiB7VH0gVGhlIHJlbW92ZWQgZW50cnkuXG4gICAqL1xuICByZW1vdmUoa2V5KSB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmVudHJpZXNfW2tleV07XG4gICAgYXNzZXJ0KGVudHJ5ICE9PSB1bmRlZmluZWQsIDE1KTsgLy8gVHJpZWQgdG8gZ2V0IGEgdmFsdWUgZm9yIGEga2V5IHRoYXQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGNhY2hlXG4gICAgaWYgKGVudHJ5ID09PSB0aGlzLm5ld2VzdF8pIHtcbiAgICAgIHRoaXMubmV3ZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovIChlbnRyeS5vbGRlcik7XG4gICAgICBpZiAodGhpcy5uZXdlc3RfKSB7XG4gICAgICAgIHRoaXMubmV3ZXN0Xy5uZXdlciA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbnRyeSA9PT0gdGhpcy5vbGRlc3RfKSB7XG4gICAgICB0aGlzLm9sZGVzdF8gPSAvKiogQHR5cGUge0VudHJ5fSAqLyAoZW50cnkubmV3ZXIpO1xuICAgICAgaWYgKHRoaXMub2xkZXN0Xykge1xuICAgICAgICB0aGlzLm9sZGVzdF8ub2xkZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlbnRyeS5uZXdlci5vbGRlciA9IGVudHJ5Lm9sZGVyO1xuICAgICAgZW50cnkub2xkZXIubmV3ZXIgPSBlbnRyeS5uZXdlcjtcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMuZW50cmllc19ba2V5XTtcbiAgICAtLXRoaXMuY291bnRfO1xuICAgIHJldHVybiBlbnRyeS52YWx1ZV87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBDb3VudC5cbiAgICovXG4gIGdldENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLmNvdW50XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBLZXlzLlxuICAgKi9cbiAgZ2V0S2V5cygpIHtcbiAgICBjb25zdCBrZXlzID0gbmV3IEFycmF5KHRoaXMuY291bnRfKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGVudHJ5O1xuICAgIGZvciAoZW50cnkgPSB0aGlzLm5ld2VzdF87IGVudHJ5OyBlbnRyeSA9IGVudHJ5Lm9sZGVyKSB7XG4gICAgICBrZXlzW2krK10gPSBlbnRyeS5rZXlfO1xuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxUPn0gVmFsdWVzLlxuICAgKi9cbiAgZ2V0VmFsdWVzKCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBBcnJheSh0aGlzLmNvdW50Xyk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBlbnRyeTtcbiAgICBmb3IgKGVudHJ5ID0gdGhpcy5uZXdlc3RfOyBlbnRyeTsgZW50cnkgPSBlbnRyeS5vbGRlcikge1xuICAgICAgdmFsdWVzW2krK10gPSBlbnRyeS52YWx1ZV87XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7VH0gTGFzdCB2YWx1ZS5cbiAgICovXG4gIHBlZWtMYXN0KCkge1xuICAgIHJldHVybiB0aGlzLm9sZGVzdF8udmFsdWVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gTGFzdCBrZXkuXG4gICAqL1xuICBwZWVrTGFzdEtleSgpIHtcbiAgICByZXR1cm4gdGhpcy5vbGRlc3RfLmtleV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBrZXkgb2YgdGhlIG5ld2VzdCBpdGVtIGluIHRoZSBjYWNoZS4gIFRocm93cyBpZiB0aGUgY2FjaGUgaXMgZW1wdHkuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG5ld2VzdCBrZXkuXG4gICAqL1xuICBwZWVrRmlyc3RLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMubmV3ZXN0Xy5rZXlfO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhbiBlbnRyeSB3aXRob3V0IHVwZGF0aW5nIGxlYXN0IHJlY2VudGx5IHVzZWQgdGltZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAqIEByZXR1cm4ge1R9IFZhbHVlLlxuICAgKi9cbiAgcGVlayhrZXkpIHtcbiAgICBpZiAoIXRoaXMuY29udGFpbnNLZXkoa2V5KSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZW50cmllc19ba2V5XS52YWx1ZV87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7VH0gdmFsdWUgVmFsdWUuXG4gICAqL1xuICBwb3AoKSB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLm9sZGVzdF87XG4gICAgZGVsZXRlIHRoaXMuZW50cmllc19bZW50cnkua2V5X107XG4gICAgaWYgKGVudHJ5Lm5ld2VyKSB7XG4gICAgICBlbnRyeS5uZXdlci5vbGRlciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMub2xkZXN0XyA9IC8qKiBAdHlwZSB7RW50cnl9ICovIChlbnRyeS5uZXdlcik7XG4gICAgaWYgKCF0aGlzLm9sZGVzdF8pIHtcbiAgICAgIHRoaXMubmV3ZXN0XyA9IG51bGw7XG4gICAgfVxuICAgIC0tdGhpcy5jb3VudF87XG4gICAgcmV0dXJuIGVudHJ5LnZhbHVlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEtleS5cbiAgICogQHBhcmFtIHtUfSB2YWx1ZSBWYWx1ZS5cbiAgICovXG4gIHJlcGxhY2Uoa2V5LCB2YWx1ZSkge1xuICAgIHRoaXMuZ2V0KGtleSk7IC8vIHVwZGF0ZSBgbmV3ZXN0X2BcbiAgICB0aGlzLmVudHJpZXNfW2tleV0udmFsdWVfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBLZXkuXG4gICAqIEBwYXJhbSB7VH0gdmFsdWUgVmFsdWUuXG4gICAqL1xuICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIGFzc2VydCghKGtleSBpbiB0aGlzLmVudHJpZXNfKSwgMTYpOyAvLyBUcmllZCB0byBzZXQgYSB2YWx1ZSBmb3IgYSBrZXkgdGhhdCBpcyB1c2VkIGFscmVhZHlcbiAgICBjb25zdCBlbnRyeSA9IHtcbiAgICAgIGtleV86IGtleSxcbiAgICAgIG5ld2VyOiBudWxsLFxuICAgICAgb2xkZXI6IHRoaXMubmV3ZXN0XyxcbiAgICAgIHZhbHVlXzogdmFsdWUsXG4gICAgfTtcbiAgICBpZiAoIXRoaXMubmV3ZXN0Xykge1xuICAgICAgdGhpcy5vbGRlc3RfID0gZW50cnk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubmV3ZXN0Xy5uZXdlciA9IGVudHJ5O1xuICAgIH1cbiAgICB0aGlzLm5ld2VzdF8gPSBlbnRyeTtcbiAgICB0aGlzLmVudHJpZXNfW2tleV0gPSBlbnRyeTtcbiAgICArK3RoaXMuY291bnRfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIG1heGltdW0gbnVtYmVyIG9mIGVudHJpZXMgZm9yIHRoZSBjYWNoZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgQ2FjaGUgc2l6ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U2l6ZShzaXplKSB7XG4gICAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gc2l6ZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMUlVDYWNoZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9UaWxlQ2FjaGVcbiAqL1xuaW1wb3J0IExSVUNhY2hlIGZyb20gJy4vc3RydWN0cy9MUlVDYWNoZS5qcyc7XG5pbXBvcnQge2Zyb21LZXksIGdldEtleX0gZnJvbSAnLi90aWxlY29vcmQuanMnO1xuXG5jbGFzcyBUaWxlQ2FjaGUgZXh0ZW5kcyBMUlVDYWNoZSB7XG4gIGNsZWFyKCkge1xuICAgIHdoaWxlICh0aGlzLmdldENvdW50KCkgPiAwKSB7XG4gICAgICB0aGlzLnBvcCgpLnJlbGVhc2UoKTtcbiAgICB9XG4gICAgc3VwZXIuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gdXNlZFRpbGVzIFVzZWQgdGlsZXMuXG4gICAqL1xuICBleHBpcmVDYWNoZSh1c2VkVGlsZXMpIHtcbiAgICB3aGlsZSAodGhpcy5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICBjb25zdCB0aWxlID0gdGhpcy5wZWVrTGFzdCgpO1xuICAgICAgaWYgKHRpbGUuZ2V0S2V5KCkgaW4gdXNlZFRpbGVzKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wb3AoKS5yZWxlYXNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBydW5lIGFsbCB0aWxlcyBmcm9tIHRoZSBjYWNoZSB0aGF0IGRvbid0IGhhdmUgdGhlIHNhbWUgeiBhcyB0aGUgbmV3ZXN0IHRpbGUuXG4gICAqL1xuICBwcnVuZUV4Y2VwdE5ld2VzdFooKSB7XG4gICAgaWYgKHRoaXMuZ2V0Q291bnQoKSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSB0aGlzLnBlZWtGaXJzdEtleSgpO1xuICAgIGNvbnN0IHRpbGVDb29yZCA9IGZyb21LZXkoa2V5KTtcbiAgICBjb25zdCB6ID0gdGlsZUNvb3JkWzBdO1xuICAgIHRoaXMuZm9yRWFjaCgodGlsZSkgPT4ge1xuICAgICAgaWYgKHRpbGUudGlsZUNvb3JkWzBdICE9PSB6KSB7XG4gICAgICAgIHRoaXMucmVtb3ZlKGdldEtleSh0aWxlLnRpbGVDb29yZCkpO1xuICAgICAgICB0aWxlLnJlbGVhc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlQ2FjaGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvVGlsZVJhbmdlXG4gKi9cblxuLyoqXG4gKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgY29udGlndW91cyBibG9jayBvZiB0aWxlcy4gIEEgdGlsZSByYW5nZSBpcyBzcGVjaWZpZWRcbiAqIGJ5IGl0cyBtaW4vbWF4IHRpbGUgY29vcmRpbmF0ZXMgYW5kIGlzIGluY2x1c2l2ZSBvZiBjb29yZGluYXRlcy5cbiAqL1xuY2xhc3MgVGlsZVJhbmdlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5YIE1pbmltdW0gWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heFggTWF4aW11bSBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluWSBNaW5pbXVtIFkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhZIE1heGltdW0gWS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG1pblgsIG1heFgsIG1pblksIG1heFkpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWluWCA9IG1pblg7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4WCA9IG1heFg7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWluWSA9IG1pblk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4WSA9IG1heFk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zIHRpbGUgY29vcmRpbmF0ZS5cbiAgICovXG4gIGNvbnRhaW5zKHRpbGVDb29yZCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRhaW5zWFkodGlsZUNvb3JkWzFdLCB0aWxlQ29vcmRbMl0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VGlsZVJhbmdlfSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMuXG4gICAqL1xuICBjb250YWluc1RpbGVSYW5nZSh0aWxlUmFuZ2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5taW5YIDw9IHRpbGVSYW5nZS5taW5YICYmXG4gICAgICB0aWxlUmFuZ2UubWF4WCA8PSB0aGlzLm1heFggJiZcbiAgICAgIHRoaXMubWluWSA8PSB0aWxlUmFuZ2UubWluWSAmJlxuICAgICAgdGlsZVJhbmdlLm1heFkgPD0gdGhpcy5tYXhZXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IENvbnRhaW5zIGNvb3JkaW5hdGUuXG4gICAqL1xuICBjb250YWluc1hZKHgsIHkpIHtcbiAgICByZXR1cm4gdGhpcy5taW5YIDw9IHggJiYgeCA8PSB0aGlzLm1heFggJiYgdGhpcy5taW5ZIDw9IHkgJiYgeSA8PSB0aGlzLm1heFk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUaWxlUmFuZ2V9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBFcXVhbHMuXG4gICAqL1xuICBlcXVhbHModGlsZVJhbmdlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMubWluWCA9PSB0aWxlUmFuZ2UubWluWCAmJlxuICAgICAgdGhpcy5taW5ZID09IHRpbGVSYW5nZS5taW5ZICYmXG4gICAgICB0aGlzLm1heFggPT0gdGlsZVJhbmdlLm1heFggJiZcbiAgICAgIHRoaXMubWF4WSA9PSB0aWxlUmFuZ2UubWF4WVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtUaWxlUmFuZ2V9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgKi9cbiAgZXh0ZW5kKHRpbGVSYW5nZSkge1xuICAgIGlmICh0aWxlUmFuZ2UubWluWCA8IHRoaXMubWluWCkge1xuICAgICAgdGhpcy5taW5YID0gdGlsZVJhbmdlLm1pblg7XG4gICAgfVxuICAgIGlmICh0aWxlUmFuZ2UubWF4WCA+IHRoaXMubWF4WCkge1xuICAgICAgdGhpcy5tYXhYID0gdGlsZVJhbmdlLm1heFg7XG4gICAgfVxuICAgIGlmICh0aWxlUmFuZ2UubWluWSA8IHRoaXMubWluWSkge1xuICAgICAgdGhpcy5taW5ZID0gdGlsZVJhbmdlLm1pblk7XG4gICAgfVxuICAgIGlmICh0aWxlUmFuZ2UubWF4WSA+IHRoaXMubWF4WSkge1xuICAgICAgdGhpcy5tYXhZID0gdGlsZVJhbmdlLm1heFk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gSGVpZ2h0LlxuICAgKi9cbiAgZ2V0SGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLm1heFkgLSB0aGlzLm1pblkgKyAxO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBTaXplLlxuICAgKi9cbiAgZ2V0U2l6ZSgpIHtcbiAgICByZXR1cm4gW3RoaXMuZ2V0V2lkdGgoKSwgdGhpcy5nZXRIZWlnaHQoKV07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBXaWR0aC5cbiAgICovXG4gIGdldFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLm1heFggLSB0aGlzLm1pblggKyAxO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7VGlsZVJhbmdlfSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSW50ZXJzZWN0cy5cbiAgICovXG4gIGludGVyc2VjdHModGlsZVJhbmdlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMubWluWCA8PSB0aWxlUmFuZ2UubWF4WCAmJlxuICAgICAgdGhpcy5tYXhYID49IHRpbGVSYW5nZS5taW5YICYmXG4gICAgICB0aGlzLm1pblkgPD0gdGlsZVJhbmdlLm1heFkgJiZcbiAgICAgIHRoaXMubWF4WSA+PSB0aWxlUmFuZ2UubWluWVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbWluWCBNaW5pbXVtIFguXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4WCBNYXhpbXVtIFguXG4gKiBAcGFyYW0ge251bWJlcn0gbWluWSBNaW5pbXVtIFkuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4WSBNYXhpbXVtIFkuXG4gKiBAcGFyYW0ge1RpbGVSYW5nZX0gW3RpbGVSYW5nZV0gVGlsZVJhbmdlLlxuICogQHJldHVybiB7VGlsZVJhbmdlfSBUaWxlIHJhbmdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGUobWluWCwgbWF4WCwgbWluWSwgbWF4WSwgdGlsZVJhbmdlKSB7XG4gIGlmICh0aWxlUmFuZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgIHRpbGVSYW5nZS5taW5YID0gbWluWDtcbiAgICB0aWxlUmFuZ2UubWF4WCA9IG1heFg7XG4gICAgdGlsZVJhbmdlLm1pblkgPSBtaW5ZO1xuICAgIHRpbGVSYW5nZS5tYXhZID0gbWF4WTtcbiAgICByZXR1cm4gdGlsZVJhbmdlO1xuICB9XG4gIHJldHVybiBuZXcgVGlsZVJhbmdlKG1pblgsIG1heFgsIG1pblksIG1heFkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlUmFuZ2U7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvVGlsZVN0YXRlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIElETEU6IDAsXG4gIExPQURJTkc6IDEsXG4gIExPQURFRDogMixcbiAgLyoqXG4gICAqIEluZGljYXRlcyB0aGF0IHRpbGUgbG9hZGluZyBmYWlsZWRcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIEVSUk9SOiAzLFxuICBFTVBUWTogNCxcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvVmlld1Byb3BlcnR5XG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIENFTlRFUjogJ2NlbnRlcicsXG4gIFJFU09MVVRJT046ICdyZXNvbHV0aW9uJyxcbiAgUk9UQVRJT046ICdyb3RhdGlvbicsXG59O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NlbnRlcmNvbnN0cmFpbnRcbiAqL1xuaW1wb3J0IHtjbGFtcH0gZnJvbSAnLi9tYXRoLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZCksIG51bWJlciwgaW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemUsIGJvb2xlYW49LCBBcnJheTxudW1iZXI+PSk6IChpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWQpfSBUeXBlXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb25seUNlbnRlciBJZiB0cnVlLCB0aGUgY29uc3RyYWludCB3aWxsIG9ubHkgYXBwbHkgdG8gdGhlIHZpZXcgY2VudGVyLlxuICogQHBhcmFtIHtib29sZWFufSBzbW9vdGggSWYgdHJ1ZSwgdGhlIHZpZXcgd2lsbCBiZSBhYmxlIHRvIGdvIHNsaWdodGx5IG91dCBvZiB0aGUgZ2l2ZW4gZXh0ZW50XG4gKiAob25seSBkdXJpbmcgaW50ZXJhY3Rpb24gYW5kIGFuaW1hdGlvbikuXG4gKiBAcmV0dXJuIHtUeXBlfSBUaGUgY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4dGVudChleHRlbnQsIG9ubHlDZW50ZXIsIHNtb290aCkge1xuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBjZW50ZXIgQ2VudGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZTsgdW51c2VkIGlmIGBvbmx5Q2VudGVyYCB3YXMgc3BlY2lmaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzTW92aW5nXSBUcnVlIGlmIGFuIGludGVyYWN0aW9uIG9yIGFuaW1hdGlvbiBpcyBpbiBwcm9ncmVzcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtjZW50ZXJTaGlmdF0gU2hpZnQgYmV0d2VlbiBtYXAgY2VudGVyIGFuZCB2aWV3cG9ydCBjZW50ZXIuXG4gICAgICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSBDZW50ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKGNlbnRlciwgcmVzb2x1dGlvbiwgc2l6ZSwgaXNNb3ZpbmcsIGNlbnRlclNoaWZ0KSB7XG4gICAgICBpZiAoIWNlbnRlcikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKCFyZXNvbHV0aW9uICYmICFvbmx5Q2VudGVyKSB7XG4gICAgICAgIHJldHVybiBjZW50ZXI7XG4gICAgICB9XG4gICAgICBjb25zdCB2aWV3V2lkdGggPSBvbmx5Q2VudGVyID8gMCA6IHNpemVbMF0gKiByZXNvbHV0aW9uO1xuICAgICAgY29uc3Qgdmlld0hlaWdodCA9IG9ubHlDZW50ZXIgPyAwIDogc2l6ZVsxXSAqIHJlc29sdXRpb247XG4gICAgICBjb25zdCBzaGlmdFggPSBjZW50ZXJTaGlmdCA/IGNlbnRlclNoaWZ0WzBdIDogMDtcbiAgICAgIGNvbnN0IHNoaWZ0WSA9IGNlbnRlclNoaWZ0ID8gY2VudGVyU2hpZnRbMV0gOiAwO1xuICAgICAgbGV0IG1pblggPSBleHRlbnRbMF0gKyB2aWV3V2lkdGggLyAyICsgc2hpZnRYO1xuICAgICAgbGV0IG1heFggPSBleHRlbnRbMl0gLSB2aWV3V2lkdGggLyAyICsgc2hpZnRYO1xuICAgICAgbGV0IG1pblkgPSBleHRlbnRbMV0gKyB2aWV3SGVpZ2h0IC8gMiArIHNoaWZ0WTtcbiAgICAgIGxldCBtYXhZID0gZXh0ZW50WzNdIC0gdmlld0hlaWdodCAvIDIgKyBzaGlmdFk7XG5cbiAgICAgIC8vIG5vdGU6IHdoZW4gem9vbWluZyBvdXQgb2YgYm91bmRzLCBtaW4gYW5kIG1heCB2YWx1ZXMgZm9yIHggYW5kIHkgbWF5XG4gICAgICAvLyBlbmQgdXAgaW52ZXJ0ZWQgKG1pbiA+IG1heCk7IHRoaXMgaGFzIHRvIGJlIGFjY291bnRlZCBmb3JcbiAgICAgIGlmIChtaW5YID4gbWF4WCkge1xuICAgICAgICBtaW5YID0gKG1heFggKyBtaW5YKSAvIDI7XG4gICAgICAgIG1heFggPSBtaW5YO1xuICAgICAgfVxuICAgICAgaWYgKG1pblkgPiBtYXhZKSB7XG4gICAgICAgIG1pblkgPSAobWF4WSArIG1pblkpIC8gMjtcbiAgICAgICAgbWF4WSA9IG1pblk7XG4gICAgICB9XG5cbiAgICAgIGxldCB4ID0gY2xhbXAoY2VudGVyWzBdLCBtaW5YLCBtYXhYKTtcbiAgICAgIGxldCB5ID0gY2xhbXAoY2VudGVyWzFdLCBtaW5ZLCBtYXhZKTtcblxuICAgICAgLy8gZHVyaW5nIGFuIGludGVyYWN0aW9uLCBhbGxvdyBzb21lIG92ZXJzY3JvbGxcbiAgICAgIGlmIChpc01vdmluZyAmJiBzbW9vdGggJiYgcmVzb2x1dGlvbikge1xuICAgICAgICBjb25zdCByYXRpbyA9IDMwICogcmVzb2x1dGlvbjtcbiAgICAgICAgeCArPVxuICAgICAgICAgIC1yYXRpbyAqIE1hdGgubG9nKDEgKyBNYXRoLm1heCgwLCBtaW5YIC0gY2VudGVyWzBdKSAvIHJhdGlvKSArXG4gICAgICAgICAgcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgY2VudGVyWzBdIC0gbWF4WCkgLyByYXRpbyk7XG4gICAgICAgIHkgKz1cbiAgICAgICAgICAtcmF0aW8gKiBNYXRoLmxvZygxICsgTWF0aC5tYXgoMCwgbWluWSAtIGNlbnRlclsxXSkgLyByYXRpbykgK1xuICAgICAgICAgIHJhdGlvICogTWF0aC5sb2coMSArIE1hdGgubWF4KDAsIGNlbnRlclsxXSAtIG1heFkpIC8gcmF0aW8pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW3gsIHldO1xuICAgIH1cbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbY2VudGVyXSBDZW50ZXIuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vbmUoY2VudGVyKSB7XG4gIHJldHVybiBjZW50ZXI7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVzb2x1dGlvbmNvbnN0cmFpbnRcbiAqL1xuaW1wb3J0IHtjbGFtcH0gZnJvbSAnLi9tYXRoLmpzJztcbmltcG9ydCB7Z2V0SGVpZ2h0LCBnZXRXaWR0aH0gZnJvbSAnLi9leHRlbnQuanMnO1xuaW1wb3J0IHtsaW5lYXJGaW5kTmVhcmVzdH0gZnJvbSAnLi9hcnJheS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChudW1iZXJ8dW5kZWZpbmVkKSwgbnVtYmVyLCBpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZSwgYm9vbGVhbj0pOiAobnVtYmVyfHVuZGVmaW5lZCl9IFR5cGVcbiAqL1xuXG4vKipcbiAqIFJldHVybnMgYSBtb2RpZmllZCByZXNvbHV0aW9uIHRha2luZyBpbnRvIGFjY291bnQgdGhlIHZpZXdwb3J0IHNpemUgYW5kIG1heGltdW1cbiAqIGFsbG93ZWQgZXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvblxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXhpbXVtIGFsbG93ZWQgZXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gdmlld3BvcnRTaXplIFZpZXdwb3J0IHNpemUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNob3dGdWxsRXh0ZW50IFdoZXRoZXIgdG8gc2hvdyB0aGUgZnVsbCBleHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IENhcHBlZCByZXNvbHV0aW9uLlxuICovXG5mdW5jdGlvbiBnZXRWaWV3cG9ydENsYW1wZWRSZXNvbHV0aW9uKFxuICByZXNvbHV0aW9uLFxuICBtYXhFeHRlbnQsXG4gIHZpZXdwb3J0U2l6ZSxcbiAgc2hvd0Z1bGxFeHRlbnRcbikge1xuICBjb25zdCB4UmVzb2x1dGlvbiA9IGdldFdpZHRoKG1heEV4dGVudCkgLyB2aWV3cG9ydFNpemVbMF07XG4gIGNvbnN0IHlSZXNvbHV0aW9uID0gZ2V0SGVpZ2h0KG1heEV4dGVudCkgLyB2aWV3cG9ydFNpemVbMV07XG5cbiAgaWYgKHNob3dGdWxsRXh0ZW50KSB7XG4gICAgcmV0dXJuIE1hdGgubWluKHJlc29sdXRpb24sIE1hdGgubWF4KHhSZXNvbHV0aW9uLCB5UmVzb2x1dGlvbikpO1xuICB9XG4gIHJldHVybiBNYXRoLm1pbihyZXNvbHV0aW9uLCBNYXRoLm1pbih4UmVzb2x1dGlvbiwgeVJlc29sdXRpb24pKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbW9kaWZpZWQgcmVzb2x1dGlvbiB0byBiZSBiZXR3ZWVuIG1heFJlc29sdXRpb24gYW5kIG1pblJlc29sdXRpb24gd2hpbGVcbiAqIHN0aWxsIGFsbG93aW5nIHRoZSB2YWx1ZSB0byBiZSBzbGlnaHRseSBvdXQgb2YgYm91bmRzLlxuICogTm90ZTogdGhlIGNvbXB1dGF0aW9uIGlzIGJhc2VkIG9uIHRoZSBsb2dhcml0aG0gZnVuY3Rpb24gKGxuKTpcbiAqICAtIGF0IDEsIGxuKHgpIGlzIDBcbiAqICAtIGFib3ZlIDEsIGxuKHgpIGtlZXBzIGluY3JlYXNpbmcgYnV0IGF0IGEgbXVjaCBzbG93ZXIgcGFjZSB0aGFuIHhcbiAqIFRoZSBmaW5hbCByZXN1bHQgaXMgY2xhbXBlZCB0byBwcmV2ZW50IGdldHRpbmcgdG9vIGZhciBhd2F5IGZyb20gYm91bmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIE1heCByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblJlc29sdXRpb24gTWluIHJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNtb290aGVkIHJlc29sdXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uKHJlc29sdXRpb24sIG1heFJlc29sdXRpb24sIG1pblJlc29sdXRpb24pIHtcbiAgbGV0IHJlc3VsdCA9IE1hdGgubWluKHJlc29sdXRpb24sIG1heFJlc29sdXRpb24pO1xuICBjb25zdCByYXRpbyA9IDUwO1xuXG4gIHJlc3VsdCAqPVxuICAgIE1hdGgubG9nKDEgKyByYXRpbyAqIE1hdGgubWF4KDAsIHJlc29sdXRpb24gLyBtYXhSZXNvbHV0aW9uIC0gMSkpIC8gcmF0aW8gK1xuICAgIDE7XG4gIGlmIChtaW5SZXNvbHV0aW9uKSB7XG4gICAgcmVzdWx0ID0gTWF0aC5tYXgocmVzdWx0LCBtaW5SZXNvbHV0aW9uKTtcbiAgICByZXN1bHQgLz1cbiAgICAgIE1hdGgubG9nKDEgKyByYXRpbyAqIE1hdGgubWF4KDAsIG1pblJlc29sdXRpb24gLyByZXNvbHV0aW9uIC0gMSkpIC9cbiAgICAgICAgcmF0aW8gK1xuICAgICAgMTtcbiAgfVxuICByZXR1cm4gY2xhbXAocmVzdWx0LCBtaW5SZXNvbHV0aW9uIC8gMiwgbWF4UmVzb2x1dGlvbiAqIDIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gcmVzb2x1dGlvbnMgUmVzb2x1dGlvbnMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzbW9vdGhdIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBzbGlnaHRseSBleGNlZWQgcmVzb2x1dGlvbiBsaW1pdHMuIERlZmF1bHQ6IHRydWUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW21heEV4dGVudF0gTWF4aW11bSBhbGxvd2VkIGV4dGVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Nob3dGdWxsRXh0ZW50XSBJZiB0cnVlLCBhbGxvd3MgdXMgdG8gc2hvdyB0aGUgZnVsbCBleHRlbnQuIERlZmF1bHQ6IGZhbHNlLlxuICogQHJldHVybiB7VHlwZX0gWm9vbSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNuYXBUb1Jlc29sdXRpb25zKFxuICByZXNvbHV0aW9ucyxcbiAgc21vb3RoLFxuICBtYXhFeHRlbnQsXG4gIHNob3dGdWxsRXh0ZW50XG4pIHtcbiAgc21vb3RoID0gc21vb3RoICE9PSB1bmRlZmluZWQgPyBzbW9vdGggOiB0cnVlO1xuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gRGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc01vdmluZ10gVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocmVzb2x1dGlvbiwgZGlyZWN0aW9uLCBzaXplLCBpc01vdmluZykge1xuICAgICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBtYXhSZXNvbHV0aW9uID0gcmVzb2x1dGlvbnNbMF07XG4gICAgICAgIGNvbnN0IG1pblJlc29sdXRpb24gPSByZXNvbHV0aW9uc1tyZXNvbHV0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgY2FwcGVkTWF4UmVzID0gbWF4RXh0ZW50XG4gICAgICAgICAgPyBnZXRWaWV3cG9ydENsYW1wZWRSZXNvbHV0aW9uKFxuICAgICAgICAgICAgICBtYXhSZXNvbHV0aW9uLFxuICAgICAgICAgICAgICBtYXhFeHRlbnQsXG4gICAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICAgIHNob3dGdWxsRXh0ZW50XG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBtYXhSZXNvbHV0aW9uO1xuXG4gICAgICAgIC8vIGR1cmluZyBpbnRlcmFjdGluZyBvciBhbmltYXRpbmcsIGFsbG93IGludGVybWVkaWFyeSB2YWx1ZXNcbiAgICAgICAgaWYgKGlzTW92aW5nKSB7XG4gICAgICAgICAgaWYgKCFzbW9vdGgpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGFtcChyZXNvbHV0aW9uLCBtaW5SZXNvbHV0aW9uLCBjYXBwZWRNYXhSZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZ2V0U21vb3RoQ2xhbXBlZFJlc29sdXRpb24oXG4gICAgICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICAgICAgY2FwcGVkTWF4UmVzLFxuICAgICAgICAgICAgbWluUmVzb2x1dGlvblxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYXBwZWQgPSBNYXRoLm1pbihjYXBwZWRNYXhSZXMsIHJlc29sdXRpb24pO1xuICAgICAgICBjb25zdCB6ID0gTWF0aC5mbG9vcihsaW5lYXJGaW5kTmVhcmVzdChyZXNvbHV0aW9ucywgY2FwcGVkLCBkaXJlY3Rpb24pKTtcbiAgICAgICAgaWYgKHJlc29sdXRpb25zW3pdID4gY2FwcGVkTWF4UmVzICYmIHogPCByZXNvbHV0aW9ucy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdXRpb25zW3ogKyAxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbnNbel07XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcG93ZXIgUG93ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4UmVzb2x1dGlvbiBNYXhpbXVtIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW21pblJlc29sdXRpb25dIE1pbmltdW0gcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Ntb290aF0gSWYgdHJ1ZSwgdGhlIHZpZXcgd2lsbCBiZSBhYmxlIHRvIHNsaWdodGx5IGV4Y2VlZCByZXNvbHV0aW9uIGxpbWl0cy4gRGVmYXVsdDogdHJ1ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBbbWF4RXh0ZW50XSBNYXhpbXVtIGFsbG93ZWQgZXh0ZW50LlxuICogQHBhcmFtIHtib29sZWFufSBbc2hvd0Z1bGxFeHRlbnRdIElmIHRydWUsIGFsbG93cyB1cyB0byBzaG93IHRoZSBmdWxsIGV4dGVudC4gRGVmYXVsdDogZmFsc2UuXG4gKiBAcmV0dXJuIHtUeXBlfSBab29tIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU25hcFRvUG93ZXIoXG4gIHBvd2VyLFxuICBtYXhSZXNvbHV0aW9uLFxuICBtaW5SZXNvbHV0aW9uLFxuICBzbW9vdGgsXG4gIG1heEV4dGVudCxcbiAgc2hvd0Z1bGxFeHRlbnRcbikge1xuICBzbW9vdGggPSBzbW9vdGggIT09IHVuZGVmaW5lZCA/IHNtb290aCA6IHRydWU7XG4gIG1pblJlc29sdXRpb24gPSBtaW5SZXNvbHV0aW9uICE9PSB1bmRlZmluZWQgPyBtaW5SZXNvbHV0aW9uIDogMDtcblxuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gRGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc01vdmluZ10gVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocmVzb2x1dGlvbiwgZGlyZWN0aW9uLCBzaXplLCBpc01vdmluZykge1xuICAgICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBjYXBwZWRNYXhSZXMgPSBtYXhFeHRlbnRcbiAgICAgICAgICA/IGdldFZpZXdwb3J0Q2xhbXBlZFJlc29sdXRpb24oXG4gICAgICAgICAgICAgIG1heFJlc29sdXRpb24sXG4gICAgICAgICAgICAgIG1heEV4dGVudCxcbiAgICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgICAgc2hvd0Z1bGxFeHRlbnRcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IG1heFJlc29sdXRpb247XG5cbiAgICAgICAgLy8gZHVyaW5nIGludGVyYWN0aW5nIG9yIGFuaW1hdGluZywgYWxsb3cgaW50ZXJtZWRpYXJ5IHZhbHVlc1xuICAgICAgICBpZiAoaXNNb3ZpbmcpIHtcbiAgICAgICAgICBpZiAoIXNtb290aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNsYW1wKHJlc29sdXRpb24sIG1pblJlc29sdXRpb24sIGNhcHBlZE1heFJlcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBnZXRTbW9vdGhDbGFtcGVkUmVzb2x1dGlvbihcbiAgICAgICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgICAgICBjYXBwZWRNYXhSZXMsXG4gICAgICAgICAgICBtaW5SZXNvbHV0aW9uXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRvbGVyYW5jZSA9IDFlLTk7XG4gICAgICAgIGNvbnN0IG1pblpvb21MZXZlbCA9IE1hdGguY2VpbChcbiAgICAgICAgICBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gY2FwcGVkTWF4UmVzKSAvIE1hdGgubG9nKHBvd2VyKSAtIHRvbGVyYW5jZVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSAtZGlyZWN0aW9uICogKDAuNSAtIHRvbGVyYW5jZSkgKyAwLjU7XG4gICAgICAgIGNvbnN0IGNhcHBlZCA9IE1hdGgubWluKGNhcHBlZE1heFJlcywgcmVzb2x1dGlvbik7XG4gICAgICAgIGNvbnN0IGNhcHBlZFpvb21MZXZlbCA9IE1hdGguZmxvb3IoXG4gICAgICAgICAgTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIGNhcHBlZCkgLyBNYXRoLmxvZyhwb3dlcikgKyBvZmZzZXRcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgem9vbUxldmVsID0gTWF0aC5tYXgobWluWm9vbUxldmVsLCBjYXBwZWRab29tTGV2ZWwpO1xuICAgICAgICBjb25zdCBuZXdSZXNvbHV0aW9uID0gbWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHBvd2VyLCB6b29tTGV2ZWwpO1xuICAgICAgICByZXR1cm4gY2xhbXAobmV3UmVzb2x1dGlvbiwgbWluUmVzb2x1dGlvbiwgY2FwcGVkTWF4UmVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIE1heCByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblJlc29sdXRpb24gTWluIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzbW9vdGhdIElmIHRydWUsIHRoZSB2aWV3IHdpbGwgYmUgYWJsZSB0byBzbGlnaHRseSBleGNlZWQgcmVzb2x1dGlvbiBsaW1pdHMuIERlZmF1bHQ6IHRydWUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW21heEV4dGVudF0gTWF4aW11bSBhbGxvd2VkIGV4dGVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Nob3dGdWxsRXh0ZW50XSBJZiB0cnVlLCBhbGxvd3MgdXMgdG8gc2hvdyB0aGUgZnVsbCBleHRlbnQuIERlZmF1bHQ6IGZhbHNlLlxuICogQHJldHVybiB7VHlwZX0gWm9vbSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1pbk1heFJlc29sdXRpb24oXG4gIG1heFJlc29sdXRpb24sXG4gIG1pblJlc29sdXRpb24sXG4gIHNtb290aCxcbiAgbWF4RXh0ZW50LFxuICBzaG93RnVsbEV4dGVudFxuKSB7XG4gIHNtb290aCA9IHNtb290aCAhPT0gdW5kZWZpbmVkID8gc21vb3RoIDogdHJ1ZTtcblxuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gRGlyZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgVmlld3BvcnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc01vdmluZ10gVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmVzb2x1dGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocmVzb2x1dGlvbiwgZGlyZWN0aW9uLCBzaXplLCBpc01vdmluZykge1xuICAgICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBjYXBwZWRNYXhSZXMgPSBtYXhFeHRlbnRcbiAgICAgICAgICA/IGdldFZpZXdwb3J0Q2xhbXBlZFJlc29sdXRpb24oXG4gICAgICAgICAgICAgIG1heFJlc29sdXRpb24sXG4gICAgICAgICAgICAgIG1heEV4dGVudCxcbiAgICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgICAgc2hvd0Z1bGxFeHRlbnRcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IG1heFJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKCFzbW9vdGggfHwgIWlzTW92aW5nKSB7XG4gICAgICAgICAgcmV0dXJuIGNsYW1wKHJlc29sdXRpb24sIG1pblJlc29sdXRpb24sIGNhcHBlZE1heFJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdldFNtb290aENsYW1wZWRSZXNvbHV0aW9uKFxuICAgICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgICAgY2FwcGVkTWF4UmVzLFxuICAgICAgICAgIG1pblJlc29sdXRpb25cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICApO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1ZpZXdcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi9PYmplY3QuanMnO1xuaW1wb3J0IFZpZXdIaW50IGZyb20gJy4vVmlld0hpbnQuanMnO1xuaW1wb3J0IFZpZXdQcm9wZXJ0eSBmcm9tICcuL1ZpZXdQcm9wZXJ0eS5qcyc7XG5pbXBvcnQge0RFRkFVTFRfVElMRV9TSVpFfSBmcm9tICcuL3RpbGVncmlkL2NvbW1vbi5qcyc7XG5pbXBvcnQge1xuICBNRVRFUlNfUEVSX1VOSVQsXG4gIGNyZWF0ZVByb2plY3Rpb24sXG4gIGRpc2FibGVDb29yZGluYXRlV2FybmluZyxcbiAgZnJvbVVzZXJDb29yZGluYXRlLFxuICBmcm9tVXNlckV4dGVudCxcbiAgZ2V0VXNlclByb2plY3Rpb24sXG4gIHRvVXNlckNvb3JkaW5hdGUsXG4gIHRvVXNlckV4dGVudCxcbn0gZnJvbSAnLi9wcm9qLmpzJztcbmltcG9ydCB7Vk9JRH0gZnJvbSAnLi9mdW5jdGlvbnMuanMnO1xuaW1wb3J0IHtcbiAgYWRkIGFzIGFkZENvb3JkaW5hdGUsXG4gIGVxdWFscyBhcyBjb29yZGluYXRlc0VxdWFsLFxuICBlcXVhbHMsXG4gIHJvdGF0ZSBhcyByb3RhdGVDb29yZGluYXRlLFxufSBmcm9tICcuL2Nvb3JkaW5hdGUuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge25vbmUgYXMgY2VudGVyTm9uZSwgY3JlYXRlRXh0ZW50fSBmcm9tICcuL2NlbnRlcmNvbnN0cmFpbnQuanMnO1xuaW1wb3J0IHtjbGFtcCwgbW9kdWxvfSBmcm9tICcuL21hdGguanMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlTWluTWF4UmVzb2x1dGlvbixcbiAgY3JlYXRlU25hcFRvUG93ZXIsXG4gIGNyZWF0ZVNuYXBUb1Jlc29sdXRpb25zLFxufSBmcm9tICcuL3Jlc29sdXRpb25jb25zdHJhaW50LmpzJztcbmltcG9ydCB7XG4gIGNyZWF0ZVNuYXBUb04sXG4gIGNyZWF0ZVNuYXBUb1plcm8sXG4gIGRpc2FibGUsXG4gIG5vbmUgYXMgcm90YXRpb25Ob25lLFxufSBmcm9tICcuL3JvdGF0aW9uY29uc3RyYWludC5qcyc7XG5pbXBvcnQge2Vhc2VPdXQsIGluQW5kT3V0fSBmcm9tICcuL2Vhc2luZy5qcyc7XG5pbXBvcnQge1xuICBnZXRDZW50ZXIsXG4gIGdldEZvclZpZXdBbmRTaXplLFxuICBnZXRIZWlnaHQsXG4gIGdldFdpZHRoLFxuICBpc0VtcHR5LFxufSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQge2xpbmVhckZpbmROZWFyZXN0fSBmcm9tICcuL2FycmF5LmpzJztcbmltcG9ydCB7ZnJvbUV4dGVudCBhcyBwb2x5Z29uRnJvbUV4dGVudH0gZnJvbSAnLi9nZW9tL1BvbHlnb24uanMnO1xuXG4vKipcbiAqIEFuIGFuaW1hdGlvbiBjb25maWd1cmF0aW9uXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gQW5pbWF0aW9uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbc291cmNlQ2VudGVyXSBTb3VyY2UgY2VudGVyLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW3RhcmdldENlbnRlcl0gVGFyZ2V0IGNlbnRlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc291cmNlUmVzb2x1dGlvbl0gU291cmNlIHJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RhcmdldFJlc29sdXRpb25dIFRhcmdldCByZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzb3VyY2VSb3RhdGlvbl0gU291cmNlIHJvdGF0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0YXJnZXRSb3RhdGlvbl0gVGFyZ2V0IHJvdGF0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gQW5jaG9yLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0IFN0YXJ0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGR1cmF0aW9uIER1cmF0aW9uLlxuICogQHByb3BlcnR5IHtib29sZWFufSBjb21wbGV0ZSBDb21wbGV0ZS5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24obnVtYmVyKTpudW1iZXJ9IGVhc2luZyBFYXNpbmcuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGJvb2xlYW4pOnZvaWR9IGNhbGxiYWNrIENhbGxiYWNrLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ29uc3RyYWludHNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jZW50ZXJjb25zdHJhaW50LmpzXCIpLlR5cGV9IGNlbnRlciBDZW50ZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vcmVzb2x1dGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZX0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3JvdGF0aW9uY29uc3RyYWludC5qc1wiKS5UeXBlfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZpdE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFtzaXplXSBUaGUgc2l6ZSBpbiBwaXhlbHMgb2YgdGhlIGJveCB0byBmaXRcbiAqIHRoZSBleHRlbnQgaW50by4gRGVmYXVsdCBpcyB0aGUgY3VycmVudCBzaXplIG9mIHRoZSBmaXJzdCBtYXAgaW4gdGhlIERPTSB0aGF0XG4gKiB1c2VzIHRoaXMgdmlldywgb3IgYFsxMDAsIDEwMF1gIGlmIG5vIHN1Y2ggbWFwIGlzIGZvdW5kLlxuICogQHByb3BlcnR5IHshQXJyYXk8bnVtYmVyPn0gW3BhZGRpbmc9WzAsIDAsIDAsIDBdXSBQYWRkaW5nIChpbiBwaXhlbHMpIHRvIGJlXG4gKiBjbGVhcmVkIGluc2lkZSB0aGUgdmlldy4gVmFsdWVzIGluIHRoZSBhcnJheSBhcmUgdG9wLCByaWdodCwgYm90dG9tIGFuZCBsZWZ0XG4gKiBwYWRkaW5nLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbbmVhcmVzdD1mYWxzZV0gSWYgdGhlIHZpZXcgYGNvbnN0cmFpblJlc29sdXRpb25gIG9wdGlvbiBpcyBgdHJ1ZWAsXG4gKiBnZXQgdGhlIG5lYXJlc3QgZXh0ZW50IGluc3RlYWQgb2YgdGhlIGNsb3Nlc3QgdGhhdCBhY3R1YWxseSBmaXRzIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uPTBdIE1pbmltdW0gcmVzb2x1dGlvbiB0aGF0IHdlIHpvb20gdG8uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIE1heGltdW0gem9vbSBsZXZlbCB0aGF0IHdlIHpvb20gdG8uIElmXG4gKiBgbWluUmVzb2x1dGlvbmAgaXMgZ2l2ZW4sIHRoaXMgcHJvcGVydHkgaXMgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZHVyYXRpb25dIFRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEJ5IGRlZmF1bHQsIHRoZXJlIGlzIG5vIGFuaW1hdGlvbiB0byB0aGUgdGFyZ2V0IGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24obnVtYmVyKTpudW1iZXJ9IFtlYXNpbmddIFRoZSBlYXNpbmcgZnVuY3Rpb24gdXNlZCBkdXJpbmdcbiAqIHRoZSBhbmltYXRpb24gKGRlZmF1bHRzIHRvIHtAbGluayBtb2R1bGU6b2wvZWFzaW5nLmluQW5kT3V0fSkuXG4gKiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggZnJhbWUgd2l0aCBhIG51bWJlciByZXByZXNlbnRpbmcgYVxuICogZnJhY3Rpb24gb2YgdGhlIGFuaW1hdGlvbidzIGR1cmF0aW9uLiAgVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBudW1iZXJcbiAqIGJldHdlZW4gMCBhbmQgMSByZXByZXNlbnRpbmcgdGhlIHByb2dyZXNzIHRvd2FyZCB0aGUgZGVzdGluYXRpb24gc3RhdGUuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKGJvb2xlYW4pOnZvaWR9IFtjYWxsYmFja10gRnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIHZpZXcgaXMgaW5cbiAqIGl0cyBmaW5hbCBwb3NpdGlvbi4gVGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggYHRydWVgIGlmIHRoZSBhbmltYXRpb25cbiAqIHNlcmllcyBjb21wbGV0ZWQgb24gaXRzIG93biBvciBgZmFsc2VgIGlmIGl0IHdhcyBjYW5jZWxsZWQuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBWaWV3T3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2NlbnRlcl0gVGhlIGluaXRpYWwgY2VudGVyIGZvclxuICogdGhlIHZpZXcuIElmIGEgdXNlciBwcm9qZWN0aW9uIGlzIG5vdCBzZXQsIHRoZSBjb29yZGluYXRlIHN5c3RlbSBmb3IgdGhlIGNlbnRlciBpc1xuICogc3BlY2lmaWVkIHdpdGggdGhlIGBwcm9qZWN0aW9uYCBvcHRpb24uIExheWVyIHNvdXJjZXMgd2lsbCBub3QgYmUgZmV0Y2hlZCBpZiB0aGlzXG4gKiBpcyBub3Qgc2V0LCBidXQgdGhlIGNlbnRlciBjYW4gYmUgc2V0IGxhdGVyIHdpdGgge0BsaW5rICNzZXRDZW50ZXJ9LlxuICogQHByb3BlcnR5IHtib29sZWFufG51bWJlcn0gW2NvbnN0cmFpblJvdGF0aW9uPXRydWVdIFJvdGF0aW9uIGNvbnN0cmFpbnQuXG4gKiBgZmFsc2VgIG1lYW5zIG5vIGNvbnN0cmFpbnQuIGB0cnVlYCBtZWFucyBubyBjb25zdHJhaW50LCBidXQgc25hcCB0byB6ZXJvXG4gKiBuZWFyIHplcm8uIEEgbnVtYmVyIGNvbnN0cmFpbnMgdGhlIHJvdGF0aW9uIHRvIHRoYXQgbnVtYmVyIG9mIHZhbHVlcy4gRm9yXG4gKiBleGFtcGxlLCBgNGAgd2lsbCBjb25zdHJhaW4gdGhlIHJvdGF0aW9uIHRvIDAsIDkwLCAxODAsIGFuZCAyNzAgZGVncmVlcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2VuYWJsZVJvdGF0aW9uPXRydWVdIEVuYWJsZSByb3RhdGlvbi5cbiAqIElmIGBmYWxzZWAsIGEgcm90YXRpb24gY29uc3RyYWludCB0aGF0IGFsd2F5cyBzZXRzIHRoZSByb3RhdGlvbiB0byB6ZXJvIGlzXG4gKiB1c2VkLiBUaGUgYGNvbnN0cmFpblJvdGF0aW9uYCBvcHRpb24gaGFzIG5vIGVmZmVjdCBpZiBgZW5hYmxlUm90YXRpb25gIGlzXG4gKiBgZmFsc2VgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBleHRlbnQgdGhhdCBjb25zdHJhaW5zIHRoZVxuICogdmlldywgaW4gb3RoZXIgd29yZHMsIG5vdGhpbmcgb3V0c2lkZSBvZiB0aGlzIGV4dGVudCBjYW4gYmUgdmlzaWJsZSBvbiB0aGUgbWFwLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY29uc3RyYWluT25seUNlbnRlcj1mYWxzZV0gSWYgdHJ1ZSwgdGhlIGV4dGVudFxuICogY29uc3RyYWludCB3aWxsIG9ubHkgYXBwbHkgdG8gdGhlIHZpZXcgY2VudGVyIGFuZCBub3QgdGhlIHdob2xlIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Ntb290aEV4dGVudENvbnN0cmFpbnQ9dHJ1ZV0gSWYgdHJ1ZSwgdGhlIGV4dGVudFxuICogY29uc3RyYWludCB3aWxsIGJlIGFwcGxpZWQgc21vb3RobHksIGkuZS4gYWxsb3cgdGhlIHZpZXcgdG8gZ28gc2xpZ2h0bHkgb3V0c2lkZVxuICogb2YgdGhlIGdpdmVuIGBleHRlbnRgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIHVzZWQgdG8gZGV0ZXJtaW5lXG4gKiB0aGUgcmVzb2x1dGlvbiBjb25zdHJhaW50LiBJdCBpcyB1c2VkIHRvZ2V0aGVyIHdpdGggYG1pblJlc29sdXRpb25gIChvclxuICogYG1heFpvb21gKSBhbmQgYHpvb21GYWN0b3JgLiBJZiB1bnNwZWNpZmllZCBpdCBpcyBjYWxjdWxhdGVkIGluIHN1Y2ggYSB3YXlcbiAqIHRoYXQgdGhlIHByb2plY3Rpb24ncyB2YWxpZGl0eSBleHRlbnQgZml0cyBpbiBhIDI1NngyNTYgcHggdGlsZS4gSWYgdGhlXG4gKiBwcm9qZWN0aW9uIGlzIFNwaGVyaWNhbCBNZXJjYXRvciAodGhlIGRlZmF1bHQpIHRoZW4gYG1heFJlc29sdXRpb25gIGRlZmF1bHRzXG4gKiB0byBgNDAwNzUwMTYuNjg1NTc4NDkgLyAyNTYgPSAxNTY1NDMuMDMzOTI4MDQwOTdgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIHVzZWQgdG8gZGV0ZXJtaW5lXG4gKiB0aGUgcmVzb2x1dGlvbiBjb25zdHJhaW50LiAgSXQgaXMgdXNlZCB0b2dldGhlciB3aXRoIGBtYXhSZXNvbHV0aW9uYCAob3JcbiAqIGBtaW5ab29tYCkgYW5kIGB6b29tRmFjdG9yYC4gIElmIHVuc3BlY2lmaWVkIGl0IGlzIGNhbGN1bGF0ZWQgYXNzdW1pbmcgMjlcbiAqIHpvb20gbGV2ZWxzICh3aXRoIGEgZmFjdG9yIG9mIDIpLiBJZiB0aGUgcHJvamVjdGlvbiBpcyBTcGhlcmljYWwgTWVyY2F0b3JcbiAqICh0aGUgZGVmYXVsdCkgdGhlbiBgbWluUmVzb2x1dGlvbmAgZGVmYXVsdHMgdG9cbiAqIGA0MDA3NTAxNi42ODU1Nzg0OSAvIDI1NiAvIE1hdGgucG93KDIsIDI4KSA9IDAuMDAwNTgzMTY4MjQ1NTgzOTI1M2AuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb209MjhdIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgdXNlZCB0byBkZXRlcm1pbmUgdGhlXG4gKiByZXNvbHV0aW9uIGNvbnN0cmFpbnQuIEl0IGlzIHVzZWQgdG9nZXRoZXIgd2l0aCBgbWluWm9vbWAgKG9yXG4gKiBgbWF4UmVzb2x1dGlvbmApIGFuZCBgem9vbUZhY3RvcmAuICBOb3RlIHRoYXQgaWYgYG1pblJlc29sdXRpb25gIGlzIGFsc29cbiAqIHByb3ZpZGVkLCBpdCBpcyBnaXZlbiBwcmVjZWRlbmNlIG92ZXIgYG1heFpvb21gLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tPTBdIFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgdXNlZCB0byBkZXRlcm1pbmUgdGhlXG4gKiByZXNvbHV0aW9uIGNvbnN0cmFpbnQuIEl0IGlzIHVzZWQgdG9nZXRoZXIgd2l0aCBgbWF4Wm9vbWAgKG9yXG4gKiBgbWluUmVzb2x1dGlvbmApIGFuZCBgem9vbUZhY3RvcmAuICBOb3RlIHRoYXQgaWYgYG1heFJlc29sdXRpb25gIGlzIGFsc29cbiAqIHByb3ZpZGVkLCBpdCBpcyBnaXZlbiBwcmVjZWRlbmNlIG92ZXIgYG1pblpvb21gLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbbXVsdGlXb3JsZD1mYWxzZV0gSWYgYGZhbHNlYCB0aGUgdmlldyBpcyBjb25zdHJhaW5lZCBzb1xuICogb25seSBvbmUgd29ybGQgaXMgdmlzaWJsZSwgYW5kIHlvdSBjYW5ub3QgcGFuIG9mZiB0aGUgZWRnZS4gIElmIGB0cnVlYCB0aGUgbWFwXG4gKiBtYXkgc2hvdyBtdWx0aXBsZSB3b3JsZHMgYXQgbG93IHpvb20gbGV2ZWxzLiAgT25seSB1c2VkIGlmIHRoZSBgcHJvamVjdGlvbmAgaXNcbiAqIGdsb2JhbC4gIE5vdGUgdGhhdCBpZiBgZXh0ZW50YCBpcyBhbHNvIHByb3ZpZGVkIGl0IGlzIGdpdmVuIHByZWNlZGVuY2UuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb25zdHJhaW5SZXNvbHV0aW9uPWZhbHNlXSBJZiB0cnVlLCB0aGUgdmlldyB3aWxsIGFsd2F5c1xuICogYW5pbWF0ZSB0byB0aGUgY2xvc2VzdCB6b29tIGxldmVsIGFmdGVyIGFuIGludGVyYWN0aW9uOyBmYWxzZSBtZWFuc1xuICogaW50ZXJtZWRpYXJ5IHpvb20gbGV2ZWxzIGFyZSBhbGxvd2VkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc21vb3RoUmVzb2x1dGlvbkNvbnN0cmFpbnQ9dHJ1ZV0gSWYgdHJ1ZSwgdGhlIHJlc29sdXRpb25cbiAqIG1pbi9tYXggdmFsdWVzIHdpbGwgYmUgYXBwbGllZCBzbW9vdGhseSwgaS4gZS4gYWxsb3cgdGhlIHZpZXcgdG8gZXhjZWVkIHNsaWdodGx5XG4gKiB0aGUgZ2l2ZW4gcmVzb2x1dGlvbiBvciB6b29tIGJvdW5kcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Nob3dGdWxsRXh0ZW50PWZhbHNlXSBBbGxvdyB0aGUgdmlldyB0byBiZSB6b29tZWQgb3V0IHRvXG4gKiBzaG93IHRoZSBmdWxsIGNvbmZpZ3VyZWQgZXh0ZW50LiBCeSBkZWZhdWx0LCB3aGVuIGEgdmlldyBpcyBjb25maWd1cmVkIHdpdGggYW5cbiAqIGV4dGVudCwgdXNlcnMgd2lsbCBub3QgYmUgYWJsZSB0byB6b29tIG91dCBzbyB0aGUgdmlld3BvcnQgZXhjZWVkcyB0aGUgZXh0ZW50IGluXG4gKiBlaXRoZXIgZGltZW5zaW9uLiBUaGlzIG1lYW5zIHRoZSBmdWxsIGV4dGVudCBtYXkgbm90IGJlIHZpc2libGUgaWYgdGhlIHZpZXdwb3J0XG4gKiBpcyB0YWxsZXIgb3Igd2lkZXIgdGhhbiB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSBjb25maWd1cmVkIGV4dGVudC4gSWZcbiAqIHNob3dGdWxsRXh0ZW50IGlzIHRydWUsIHRoZSB1c2VyIHdpbGwgYmUgYWJsZSB0byB6b29tIG91dCBzbyB0aGF0IHRoZSB2aWV3cG9ydFxuICogZXhjZWVkcyB0aGUgaGVpZ2h0IG9yIHdpZHRoIG9mIHRoZSBjb25maWd1cmVkIGV4dGVudCwgYnV0IG5vdCBib3RoLCBhbGxvd2luZyB0aGVcbiAqIGZ1bGwgZXh0ZW50IHRvIGJlIHNob3duLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uPSdFUFNHOjM4NTcnXSBUaGVcbiAqIHByb2plY3Rpb24uIFRoZSBkZWZhdWx0IGlzIFNwaGVyaWNhbCBNZXJjYXRvci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gVGhlIGluaXRpYWwgcmVzb2x1dGlvbiBmb3IgdGhlIHZpZXcuIFRoZVxuICogdW5pdHMgYXJlIGBwcm9qZWN0aW9uYCB1bml0cyBwZXIgcGl4ZWwgKGUuZy4gbWV0ZXJzIHBlciBwaXhlbCkuIEFuXG4gKiBhbHRlcm5hdGl2ZSB0byBzZXR0aW5nIHRoaXMgaXMgdG8gc2V0IGB6b29tYC4gTGF5ZXIgc291cmNlcyB3aWxsIG5vdCBiZVxuICogZmV0Y2hlZCBpZiBuZWl0aGVyIHRoaXMgbm9yIGB6b29tYCBhcmUgZGVmaW5lZCwgYnV0IHRoZXkgY2FuIGJlIHNldCBsYXRlclxuICogd2l0aCB7QGxpbmsgI3NldFpvb219IG9yIHtAbGluayAjc2V0UmVzb2x1dGlvbn0uXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtyZXNvbHV0aW9uc10gUmVzb2x1dGlvbnMgdGhhdCBkZXRlcm1pbmUgdGhlXG4gKiB6b29tIGxldmVscyBpZiBzcGVjaWZpZWQuIFRoZSBpbmRleCBpbiB0aGUgYXJyYXkgY29ycmVzcG9uZHMgdG8gdGhlIHpvb20gbGV2ZWwsXG4gKiB0aGVyZWZvcmUgdGhlIHJlc29sdXRpb24gdmFsdWVzIGhhdmUgdG8gYmUgaW4gZGVzY2VuZGluZyBvcmRlci4gSXQgYWxzbyBjb25zdHJhaW5zXG4gKiB0aGUgcmVzb2x1dGlvbiBieSB0aGUgbWluaW11bSBhbmQgbWF4aW11bSB2YWx1ZS4gSWYgc2V0IHRoZSBgbWF4UmVzb2x1dGlvbmAsXG4gKiBgbWluUmVzb2x1dGlvbmAsIGBtaW5ab29tYCwgYG1heFpvb21gLCBhbmQgYHpvb21GYWN0b3JgIG9wdGlvbnMgYXJlIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JvdGF0aW9uPTBdIFRoZSBpbml0aWFsIHJvdGF0aW9uIGZvciB0aGUgdmlldyBpbiByYWRpYW5zXG4gKiAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlLCAwIG1lYW5zIE5vcnRoKS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbV0gT25seSB1c2VkIGlmIGByZXNvbHV0aW9uYCBpcyBub3QgZGVmaW5lZC4gWm9vbVxuICogbGV2ZWwgdXNlZCB0byBjYWxjdWxhdGUgdGhlIGluaXRpYWwgcmVzb2x1dGlvbiBmb3IgdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pvb21GYWN0b3I9Ml0gVGhlIHpvb20gZmFjdG9yIHVzZWQgdG8gY29tcHV0ZSB0aGVcbiAqIGNvcnJlc3BvbmRpbmcgcmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7IUFycmF5PG51bWJlcj59IFtwYWRkaW5nPVswLCAwLCAwLCAwXV0gUGFkZGluZyAoaW4gY3NzIHBpeGVscykuXG4gKiBJZiB0aGUgbWFwIHZpZXdwb3J0IGlzIHBhcnRpYWxseSBjb3ZlcmVkIHdpdGggb3RoZXIgY29udGVudCAob3ZlcmxheXMpIGFsb25nXG4gKiBpdHMgZWRnZXMsIHRoaXMgc2V0dGluZyBhbGxvd3MgdG8gc2hpZnQgdGhlIGNlbnRlciBvZiB0aGUgdmlld3BvcnQgYXdheSBmcm9tXG4gKiB0aGF0IGNvbnRlbnQuIFRoZSBvcmRlciBvZiB0aGUgdmFsdWVzIGlzIHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdC5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEFuaW1hdGlvbk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtjZW50ZXJdIFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcgYXQgdGhlIGVuZCBvZlxuICogdGhlIGFuaW1hdGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbem9vbV0gVGhlIHpvb20gbGV2ZWwgb2YgdGhlIHZpZXcgYXQgdGhlIGVuZCBvZiB0aGVcbiAqIGFuaW1hdGlvbi4gVGhpcyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYHJlc29sdXRpb25gLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdmlldyBhdCB0aGUgZW5kXG4gKiBvZiB0aGUgYW5pbWF0aW9uLiAgSWYgYHpvb21gIGlzIGFsc28gcHJvdmlkZWQsIHRoaXMgb3B0aW9uIHdpbGwgYmUgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm90YXRpb25dIFRoZSByb3RhdGlvbiBvZiB0aGUgdmlldyBhdCB0aGUgZW5kIG9mXG4gKiB0aGUgYW5pbWF0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gT3B0aW9uYWwgYW5jaG9yIHRvIHJlbWFpbiBmaXhlZFxuICogZHVyaW5nIGEgcm90YXRpb24gb3IgcmVzb2x1dGlvbiBhbmltYXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2R1cmF0aW9uPTEwMDBdIFRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24obnVtYmVyKTpudW1iZXJ9IFtlYXNpbmddIFRoZSBlYXNpbmcgZnVuY3Rpb24gdXNlZFxuICogZHVyaW5nIHRoZSBhbmltYXRpb24gKGRlZmF1bHRzIHRvIHtAbGluayBtb2R1bGU6b2wvZWFzaW5nLmluQW5kT3V0fSkuXG4gKiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggZnJhbWUgd2l0aCBhIG51bWJlciByZXByZXNlbnRpbmcgYVxuICogZnJhY3Rpb24gb2YgdGhlIGFuaW1hdGlvbidzIGR1cmF0aW9uLiAgVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBudW1iZXJcbiAqIGJldHdlZW4gMCBhbmQgMSByZXByZXNlbnRpbmcgdGhlIHByb2dyZXNzIHRvd2FyZCB0aGUgZGVzdGluYXRpb24gc3RhdGUuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTdGF0ZVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlci5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFtuZXh0Q2VudGVyXSBUaGUgbmV4dCBjZW50ZXIgZHVyaW5nIGFuIGFuaW1hdGlvbiBzZXJpZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW25leHRSZXNvbHV0aW9uXSBUaGUgbmV4dCByZXNvbHV0aW9uIGR1cmluZyBhbiBhbmltYXRpb24gc2VyaWVzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtuZXh0Um90YXRpb25dIFRoZSBuZXh0IHJvdGF0aW9uIGR1cmluZyBhbiBhbmltYXRpb24gc2VyaWVzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHpvb20gWm9vbS5cbiAqL1xuXG4vKipcbiAqIERlZmF1bHQgbWluIHpvb20gbGV2ZWwgZm9yIHRoZSBtYXAgdmlldy5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmNvbnN0IERFRkFVTFRfTUlOX1pPT00gPSAwO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3wnY2hhbmdlOmNlbnRlcid8J2NoYW5nZTpyZXNvbHV0aW9uJ3wnY2hhbmdlOnJvdGF0aW9uJ30gVmlld09iamVjdEV2ZW50VHlwZXNcbiAqL1xuXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPFZpZXdPYmplY3RFdmVudFR5cGVzLCBpbXBvcnQoXCIuL09iamVjdFwiKS5PYmplY3RFdmVudCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfFZpZXdPYmplY3RFdmVudFR5cGVzLCBSZXR1cm4+fSBWaWV3T25TaWduYXR1cmVcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgVmlldyBvYmplY3QgcmVwcmVzZW50cyBhIHNpbXBsZSAyRCB2aWV3IG9mIHRoZSBtYXAuXG4gKlxuICogVGhpcyBpcyB0aGUgb2JqZWN0IHRvIGFjdCB1cG9uIHRvIGNoYW5nZSB0aGUgY2VudGVyLCByZXNvbHV0aW9uLFxuICogYW5kIHJvdGF0aW9uIG9mIHRoZSBtYXAuXG4gKlxuICogQSBWaWV3IGhhcyBhIGBwcm9qZWN0aW9uYC4gVGhlIHByb2plY3Rpb24gZGV0ZXJtaW5lcyB0aGVcbiAqIGNvb3JkaW5hdGUgc3lzdGVtIG9mIHRoZSBjZW50ZXIsIGFuZCBpdHMgdW5pdHMgZGV0ZXJtaW5lIHRoZSB1bml0cyBvZiB0aGVcbiAqIHJlc29sdXRpb24gKHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsKS4gVGhlIGRlZmF1bHQgcHJvamVjdGlvbiBpc1xuICogV2ViIE1lcmNhdG9yIChFUFNHOjM4NTcpLlxuICpcbiAqICMjIyBUaGUgdmlldyBzdGF0ZXNcbiAqXG4gKiBBIFZpZXcgaXMgZGV0ZXJtaW5lZCBieSB0aHJlZSBzdGF0ZXM6IGBjZW50ZXJgLCBgcmVzb2x1dGlvbmAsXG4gKiBhbmQgYHJvdGF0aW9uYC4gRWFjaCBzdGF0ZSBoYXMgYSBjb3JyZXNwb25kaW5nIGdldHRlciBhbmQgc2V0dGVyLCBlLmcuXG4gKiBgZ2V0Q2VudGVyYCBhbmQgYHNldENlbnRlcmAgZm9yIHRoZSBgY2VudGVyYCBzdGF0ZS5cbiAqXG4gKiBUaGUgYHpvb21gIHN0YXRlIGlzIGFjdHVhbGx5IG5vdCBzYXZlZCBvbiB0aGUgdmlldzogYWxsIGNvbXB1dGF0aW9uc1xuICogaW50ZXJuYWxseSB1c2UgdGhlIGByZXNvbHV0aW9uYCBzdGF0ZS4gU3RpbGwsIHRoZSBgc2V0Wm9vbWAgYW5kIGBnZXRab29tYFxuICogbWV0aG9kcyBhcmUgYXZhaWxhYmxlLCBhcyB3ZWxsIGFzIGBnZXRSZXNvbHV0aW9uRm9yWm9vbWAgYW5kXG4gKiBgZ2V0Wm9vbUZvclJlc29sdXRpb25gIHRvIHN3aXRjaCBmcm9tIG9uZSBzeXN0ZW0gdG8gdGhlIG90aGVyLlxuICpcbiAqICMjIyBUaGUgY29uc3RyYWludHNcbiAqXG4gKiBgc2V0Q2VudGVyYCwgYHNldFJlc29sdXRpb25gIGFuZCBgc2V0Um90YXRpb25gIGNhbiBiZSB1c2VkIHRvIGNoYW5nZSB0aGVcbiAqIHN0YXRlcyBvZiB0aGUgdmlldywgYnV0IGFueSBjb25zdHJhaW50IGRlZmluZWQgaW4gdGhlIGNvbnN0cnVjdG9yIHdpbGxcbiAqIGJlIGFwcGxpZWQgYWxvbmcgdGhlIHdheS5cbiAqXG4gKiBBIFZpZXcgb2JqZWN0IGNhbiBoYXZlIGEgKnJlc29sdXRpb24gY29uc3RyYWludCosIGEgKnJvdGF0aW9uIGNvbnN0cmFpbnQqXG4gKiBhbmQgYSAqY2VudGVyIGNvbnN0cmFpbnQqLlxuICpcbiAqIFRoZSAqcmVzb2x1dGlvbiBjb25zdHJhaW50KiB0eXBpY2FsbHkgcmVzdHJpY3RzIG1pbi9tYXggdmFsdWVzIGFuZFxuICogc25hcHMgdG8gc3BlY2lmaWMgcmVzb2x1dGlvbnMuIEl0IGlzIGRldGVybWluZWQgYnkgdGhlIGZvbGxvd2luZ1xuICogb3B0aW9uczogYHJlc29sdXRpb25zYCwgYG1heFJlc29sdXRpb25gLCBgbWF4Wm9vbWAgYW5kIGB6b29tRmFjdG9yYC5cbiAqIElmIGByZXNvbHV0aW9uc2AgaXMgc2V0LCB0aGUgb3RoZXIgdGhyZWUgb3B0aW9ucyBhcmUgaWdub3JlZC4gU2VlXG4gKiBkb2N1bWVudGF0aW9uIGZvciBlYWNoIG9wdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gQnkgZGVmYXVsdCwgdGhlIHZpZXdcbiAqIG9ubHkgaGFzIGEgbWluL21heCByZXN0cmljdGlvbiBhbmQgYWxsb3cgaW50ZXJtZWRpYXJ5IHpvb20gbGV2ZWxzIHdoZW5cbiAqIHBpbmNoLXpvb21pbmcgZm9yIGV4YW1wbGUuXG4gKlxuICogVGhlICpyb3RhdGlvbiBjb25zdHJhaW50KiBzbmFwcyB0byBzcGVjaWZpYyBhbmdsZXMuIEl0IGlzIGRldGVybWluZWRcbiAqIGJ5IHRoZSBmb2xsb3dpbmcgb3B0aW9uczogYGVuYWJsZVJvdGF0aW9uYCBhbmQgYGNvbnN0cmFpblJvdGF0aW9uYC5cbiAqIEJ5IGRlZmF1bHQgcm90YXRpb24gaXMgYWxsb3dlZCBhbmQgaXRzIHZhbHVlIGlzIHNuYXBwZWQgdG8gemVybyB3aGVuIGFwcHJvYWNoaW5nIHRoZVxuICogaG9yaXpvbnRhbC5cbiAqXG4gKiBUaGUgKmNlbnRlciBjb25zdHJhaW50KiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBgZXh0ZW50YCBvcHRpb24uIEJ5XG4gKiBkZWZhdWx0IHRoZSB2aWV3IGNlbnRlciBpcyBub3QgY29uc3RyYWluZWQgYXQgYWxsLlxuICpcbiAqICMjIyBDaGFuZ2luZyB0aGUgdmlldyBzdGF0ZVxuICpcbiAqIEl0IGlzIGltcG9ydGFudCB0byBub3RlIHRoYXQgYHNldFpvb21gLCBgc2V0UmVzb2x1dGlvbmAsIGBzZXRDZW50ZXJgIGFuZFxuICogYHNldFJvdGF0aW9uYCBhcmUgc3ViamVjdCB0byB0aGUgYWJvdmUgbWVudGlvbmVkIGNvbnN0cmFpbnRzLiBBcyBzdWNoLCBpdFxuICogbWF5IHNvbWV0aW1lcyBub3QgYmUgcG9zc2libGUgdG8ga25vdyBpbiBhZHZhbmNlIHRoZSByZXN1bHRpbmcgc3RhdGUgb2YgdGhlXG4gKiBWaWV3LiBGb3IgZXhhbXBsZSwgY2FsbGluZyBgc2V0UmVzb2x1dGlvbigxMClgIGRvZXMgbm90IGd1YXJhbnRlZSB0aGF0XG4gKiBgZ2V0UmVzb2x1dGlvbigpYCB3aWxsIHJldHVybiBgMTBgLlxuICpcbiAqIEEgY29uc2VxdWVuY2Ugb2YgdGhpcyBpcyB0aGF0LCB3aGVuIGFwcGx5aW5nIGEgZGVsdGEgb24gdGhlIHZpZXcgc3RhdGUsIG9uZVxuICogc2hvdWxkIHVzZSBgYWRqdXN0Q2VudGVyYCwgYGFkanVzdFJvdGF0aW9uYCwgYGFkanVzdFpvb21gIGFuZCBgYWRqdXN0UmVzb2x1dGlvbmBcbiAqIHJhdGhlciB0aGFuIHRoZSBjb3JyZXNwb25kaW5nIHNldHRlcnMuIFRoaXMgd2lsbCBsZXQgdmlldyBkbyBpdHMgaW50ZXJuYWxcbiAqIGNvbXB1dGF0aW9ucy4gQmVzaWRlcywgdGhlIGBhZGp1c3QqYCBtZXRob2RzIGFsc28gdGFrZSBhbiBgYW5jaG9yYFxuICogYXJndW1lbnQgd2hpY2ggYWxsb3dzIHNwZWNpZnlpbmcgYW4gb3JpZ2luIGZvciB0aGUgdHJhbnNmb3JtYXRpb24uXG4gKlxuICogIyMjIEludGVyYWN0aW5nIHdpdGggdGhlIHZpZXdcbiAqXG4gKiBWaWV3IGNvbnN0cmFpbnRzIGFyZSB1c3VhbGx5IG9ubHkgYXBwbGllZCB3aGVuIHRoZSB2aWV3IGlzICphdCByZXN0KiwgbWVhbmluZyB0aGF0XG4gKiBubyBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgb25nb2luZy4gQXMgc3VjaCwgaWYgdGhlIHVzZXIgcHV0cyB0aGUgdmlldyBpbiBhXG4gKiBzdGF0ZSB0aGF0IGlzIG5vdCBlcXVpdmFsZW50IHRvIGEgY29uc3RyYWluZWQgb25lIChlLmcuIHJvdGF0aW5nIHRoZSB2aWV3IHdoZW5cbiAqIHRoZSBzbmFwIGFuZ2xlIGlzIDApLCBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQgYXQgdGhlIGludGVyYWN0aW9uIGVuZCB0b1xuICogcHV0IGJhY2sgdGhlIHZpZXcgdG8gYSBzdGFibGUgc3RhdGU7XG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBWaWV3IGV4dGVuZHMgQmFzZU9iamVjdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1ZpZXdPcHRpb25zfSBbb3B0aW9uc10gVmlldyBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge1ZpZXdPblNpZ25hdHVyZTxpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge1ZpZXdPblNpZ25hdHVyZTxpbXBvcnQoXCIuL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7Vmlld09uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuaGludHNfID0gWzAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8QXJyYXk8QW5pbWF0aW9uPj59XG4gICAgICovXG4gICAgdGhpcy5hbmltYXRpb25zXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMucHJvamVjdGlvbl8gPSBjcmVhdGVQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbiwgJ0VQU0c6Mzg1NycpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy52aWV3cG9ydFNpemVfID0gWzEwMCwgMTAwXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldFJlc29sdXRpb25fO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldFJvdGF0aW9uXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqL1xuICAgIHRoaXMubmV4dENlbnRlcl8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubmV4dFJlc29sdXRpb25fO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubmV4dFJvdGF0aW9uXztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmNhbmNlbEFuY2hvcl8gPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAob3B0aW9ucy5wcm9qZWN0aW9uKSB7XG4gICAgICBkaXNhYmxlQ29vcmRpbmF0ZVdhcm5pbmcoKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICBvcHRpb25zLmNlbnRlciA9IGZyb21Vc2VyQ29vcmRpbmF0ZShvcHRpb25zLmNlbnRlciwgdGhpcy5wcm9qZWN0aW9uXyk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmV4dGVudCkge1xuICAgICAgb3B0aW9ucy5leHRlbnQgPSBmcm9tVXNlckV4dGVudChvcHRpb25zLmV4dGVudCwgdGhpcy5wcm9qZWN0aW9uXyk7XG4gICAgfVxuXG4gICAgdGhpcy5hcHBseU9wdGlvbnNfKG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB1cCB0aGUgdmlldyB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuICAgKiBAcGFyYW0ge1ZpZXdPcHRpb25zfSBvcHRpb25zIFZpZXcgb3B0aW9ucy5cbiAgICovXG4gIGFwcGx5T3B0aW9uc18ob3B0aW9ucykge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBWaWV3UHJvcGVydHkpIHtcbiAgICAgIGRlbGV0ZSBwcm9wZXJ0aWVzW2tleV07XG4gICAgfVxuICAgIHRoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzLCB0cnVlKTtcblxuICAgIGNvbnN0IHJlc29sdXRpb25Db25zdHJhaW50SW5mbyA9IGNyZWF0ZVJlc29sdXRpb25Db25zdHJhaW50KG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4UmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uQ29uc3RyYWludEluZm8ubWF4UmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1pblJlc29sdXRpb25fID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLm1pblJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy56b29tRmFjdG9yXyA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby56b29tRmFjdG9yO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uc18gPSBvcHRpb25zLnJlc29sdXRpb25zO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj58dW5kZWZpbmVkfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5wYWRkaW5nXyA9IG9wdGlvbnMucGFkZGluZztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1pblpvb21fID0gcmVzb2x1dGlvbkNvbnN0cmFpbnRJbmZvLm1pblpvb207XG5cbiAgICBjb25zdCBjZW50ZXJDb25zdHJhaW50ID0gY3JlYXRlQ2VudGVyQ29uc3RyYWludChvcHRpb25zKTtcbiAgICBjb25zdCByZXNvbHV0aW9uQ29uc3RyYWludCA9IHJlc29sdXRpb25Db25zdHJhaW50SW5mby5jb25zdHJhaW50O1xuICAgIGNvbnN0IHJvdGF0aW9uQ29uc3RyYWludCA9IGNyZWF0ZVJvdGF0aW9uQ29uc3RyYWludChvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NvbnN0cmFpbnRzfVxuICAgICAqL1xuICAgIHRoaXMuY29uc3RyYWludHNfID0ge1xuICAgICAgY2VudGVyOiBjZW50ZXJDb25zdHJhaW50LFxuICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbkNvbnN0cmFpbnQsXG4gICAgICByb3RhdGlvbjogcm90YXRpb25Db25zdHJhaW50LFxuICAgIH07XG5cbiAgICB0aGlzLnNldFJvdGF0aW9uKG9wdGlvbnMucm90YXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRpb24gOiAwKTtcbiAgICB0aGlzLnNldENlbnRlckludGVybmFsKFxuICAgICAgb3B0aW9ucy5jZW50ZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2VudGVyIDogbnVsbFxuICAgICk7XG4gICAgaWYgKG9wdGlvbnMucmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldFJlc29sdXRpb24ob3B0aW9ucy5yZXNvbHV0aW9uKTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldFpvb20ob3B0aW9ucy56b29tKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGFkZGluZyAoaW4gY3NzIHBpeGVscykuXG4gICAqIElmIHRoZSBtYXAgdmlld3BvcnQgaXMgcGFydGlhbGx5IGNvdmVyZWQgd2l0aCBvdGhlciBjb250ZW50IChvdmVybGF5cykgYWxvbmdcbiAgICogaXRzIGVkZ2VzLCB0aGlzIHNldHRpbmcgYWxsb3dzIHRvIHNoaWZ0IHRoZSBjZW50ZXIgb2YgdGhlIHZpZXdwb3J0IGF3YXkgZnJvbSB0aGF0XG4gICAqIGNvbnRlbnQuIFRoZSBvcmRlciBvZiB0aGUgdmFsdWVzIGluIHRoZSBhcnJheSBpcyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQuXG4gICAqIFRoZSBkZWZhdWx0IGlzIG5vIHBhZGRpbmcsIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gYFswLCAwLCAwLCAwXWAuXG4gICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fHVuZGVmaW5lZH1cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0IHBhZGRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFkZGluZ187XG4gIH1cbiAgc2V0IHBhZGRpbmcocGFkZGluZykge1xuICAgIGxldCBvbGRQYWRkaW5nID0gdGhpcy5wYWRkaW5nXztcbiAgICB0aGlzLnBhZGRpbmdfID0gcGFkZGluZztcbiAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmdldENlbnRlcigpO1xuICAgIGlmIChjZW50ZXIpIHtcbiAgICAgIGNvbnN0IG5ld1BhZGRpbmcgPSBwYWRkaW5nIHx8IFswLCAwLCAwLCAwXTtcbiAgICAgIG9sZFBhZGRpbmcgPSBvbGRQYWRkaW5nIHx8IFswLCAwLCAwLCAwXTtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oKTtcbiAgICAgIGNvbnN0IG9mZnNldFggPVxuICAgICAgICAocmVzb2x1dGlvbiAvIDIpICpcbiAgICAgICAgKG5ld1BhZGRpbmdbM10gLSBvbGRQYWRkaW5nWzNdICsgb2xkUGFkZGluZ1sxXSAtIG5ld1BhZGRpbmdbMV0pO1xuICAgICAgY29uc3Qgb2Zmc2V0WSA9XG4gICAgICAgIChyZXNvbHV0aW9uIC8gMikgKlxuICAgICAgICAobmV3UGFkZGluZ1swXSAtIG9sZFBhZGRpbmdbMF0gKyBvbGRQYWRkaW5nWzJdIC0gbmV3UGFkZGluZ1syXSk7XG4gICAgICB0aGlzLnNldENlbnRlckludGVybmFsKFtjZW50ZXJbMF0gKyBvZmZzZXRYLCBjZW50ZXJbMV0gLSBvZmZzZXRZXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiB1cGRhdGVkIHZlcnNpb24gb2YgdGhlIHZpZXcgb3B0aW9ucyB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgdmlldy4gIFRoZVxuICAgKiBjdXJyZW50IHJlc29sdXRpb24gKG9yIHpvb20pLCBjZW50ZXIsIGFuZCByb3RhdGlvbiBhcmUgYXBwbGllZCB0byBhbnkgc3RvcmVkXG4gICAqIG9wdGlvbnMuICBUaGUgcHJvdmlkZWQgb3B0aW9ucyBjYW4gYmUgdXNlZCB0byBhcHBseSBuZXcgbWluL21heCB6b29tIG9yXG4gICAqIHJlc29sdXRpb24gbGltaXRzLlxuICAgKiBAcGFyYW0ge1ZpZXdPcHRpb25zfSBuZXdPcHRpb25zIE5ldyBvcHRpb25zIHRvIGJlIGFwcGxpZWQuXG4gICAqIEByZXR1cm4ge1ZpZXdPcHRpb25zfSBOZXcgb3B0aW9ucyB1cGRhdGVkIHdpdGggdGhlIGN1cnJlbnQgdmlldyBzdGF0ZS5cbiAgICovXG4gIGdldFVwZGF0ZWRPcHRpb25zXyhuZXdPcHRpb25zKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuZ2V0UHJvcGVydGllcygpO1xuXG4gICAgLy8gcHJlc2VydmUgcmVzb2x1dGlvbiAob3Igem9vbSlcbiAgICBpZiAob3B0aW9ucy5yZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdGlvbnMucmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zLnpvb20gPSB0aGlzLmdldFpvb20oKTtcbiAgICB9XG5cbiAgICAvLyBwcmVzZXJ2ZSBjZW50ZXJcbiAgICBvcHRpb25zLmNlbnRlciA9IHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKTtcblxuICAgIC8vIHByZXNlcnZlIHJvdGF0aW9uXG4gICAgb3B0aW9ucy5yb3RhdGlvbiA9IHRoaXMuZ2V0Um90YXRpb24oKTtcblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCBuZXdPcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbmltYXRlIHRoZSB2aWV3LiAgVGhlIHZpZXcncyBjZW50ZXIsIHpvb20gKG9yIHJlc29sdXRpb24pLCBhbmQgcm90YXRpb25cbiAgICogY2FuIGJlIGFuaW1hdGVkIGZvciBzbW9vdGggdHJhbnNpdGlvbnMgYmV0d2VlbiB2aWV3IHN0YXRlcy4gIEZvciBleGFtcGxlLFxuICAgKiB0byBhbmltYXRlIHRoZSB2aWV3IHRvIGEgbmV3IHpvb20gbGV2ZWw6XG4gICAqXG4gICAqICAgICB2aWV3LmFuaW1hdGUoe3pvb206IHZpZXcuZ2V0Wm9vbSgpICsgMX0pO1xuICAgKlxuICAgKiBCeSBkZWZhdWx0LCB0aGUgYW5pbWF0aW9uIGxhc3RzIG9uZSBzZWNvbmQgYW5kIHVzZXMgaW4tYW5kLW91dCBlYXNpbmcuICBZb3VcbiAgICogY2FuIGN1c3RvbWl6ZSB0aGlzIGJlaGF2aW9yIGJ5IGluY2x1ZGluZyBgZHVyYXRpb25gIChpbiBtaWxsaXNlY29uZHMpIGFuZFxuICAgKiBgZWFzaW5nYCBvcHRpb25zIChzZWUge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmd9KS5cbiAgICpcbiAgICogVG8gY2hhaW4gdG9nZXRoZXIgbXVsdGlwbGUgYW5pbWF0aW9ucywgY2FsbCB0aGUgbWV0aG9kIHdpdGggbXVsdGlwbGVcbiAgICogYW5pbWF0aW9uIG9iamVjdHMuICBGb3IgZXhhbXBsZSwgdG8gZmlyc3Qgem9vbSBhbmQgdGhlbiBwYW46XG4gICAqXG4gICAqICAgICB2aWV3LmFuaW1hdGUoe3pvb206IDEwfSwge2NlbnRlcjogWzAsIDBdfSk7XG4gICAqXG4gICAqIElmIHlvdSBwcm92aWRlIGEgZnVuY3Rpb24gYXMgdGhlIGxhc3QgYXJndW1lbnQgdG8gdGhlIGFuaW1hdGUgbWV0aG9kLCBpdFxuICAgKiB3aWxsIGdldCBjYWxsZWQgYXQgdGhlIGVuZCBvZiBhbiBhbmltYXRpb24gc2VyaWVzLiAgVGhlIGNhbGxiYWNrIHdpbGwgYmVcbiAgICogY2FsbGVkIHdpdGggYHRydWVgIGlmIHRoZSBhbmltYXRpb24gc2VyaWVzIGNvbXBsZXRlZCBvbiBpdHMgb3duIG9yIGBmYWxzZWBcbiAgICogaWYgaXQgd2FzIGNhbmNlbGxlZC5cbiAgICpcbiAgICogQW5pbWF0aW9ucyBhcmUgY2FuY2VsbGVkIGJ5IHVzZXIgaW50ZXJhY3Rpb25zIChlLmcuIGRyYWdnaW5nIHRoZSBtYXApIG9yIGJ5XG4gICAqIGNhbGxpbmcgYHZpZXcuc2V0Q2VudGVyKClgLCBgdmlldy5zZXRSZXNvbHV0aW9uKClgLCBvciBgdmlldy5zZXRSb3RhdGlvbigpYFxuICAgKiAob3IgYW5vdGhlciBtZXRob2QgdGhhdCBjYWxscyBvbmUgb2YgdGhlc2UpLlxuICAgKlxuICAgKiBAcGFyYW0gey4uLihBbmltYXRpb25PcHRpb25zfGZ1bmN0aW9uKGJvb2xlYW4pOiB2b2lkKX0gdmFyX2FyZ3MgQW5pbWF0aW9uXG4gICAqICAgICBvcHRpb25zLiAgTXVsdGlwbGUgYW5pbWF0aW9ucyBjYW4gYmUgcnVuIGluIHNlcmllcyBieSBwYXNzaW5nIG11bHRpcGxlXG4gICAqICAgICBvcHRpb25zIG9iamVjdHMuICBUbyBydW4gbXVsdGlwbGUgYW5pbWF0aW9ucyBpbiBwYXJhbGxlbCwgY2FsbCB0aGUgbWV0aG9kXG4gICAqICAgICBtdWx0aXBsZSB0aW1lcy4gIEFuIG9wdGlvbmFsIGNhbGxiYWNrIGNhbiBiZSBwcm92aWRlZCBhcyBhIGZpbmFsXG4gICAqICAgICBhcmd1bWVudC4gIFRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXJcbiAgICogICAgIHRoZSBhbmltYXRpb24gY29tcGxldGVkIHdpdGhvdXQgYmVpbmcgY2FuY2VsbGVkLlxuICAgKiBAYXBpXG4gICAqL1xuICBhbmltYXRlKHZhcl9hcmdzKSB7XG4gICAgaWYgKHRoaXMuaXNEZWYoKSAmJiAhdGhpcy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgdGhpcy5yZXNvbHZlQ29uc3RyYWludHMoMCk7XG4gICAgfVxuICAgIGNvbnN0IGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XG4gICAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGlmIChvcHRpb25zLmNlbnRlcikge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMuY2VudGVyID0gZnJvbVVzZXJDb29yZGluYXRlKFxuICAgICAgICAgIG9wdGlvbnMuY2VudGVyLFxuICAgICAgICAgIHRoaXMuZ2V0UHJvamVjdGlvbigpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5hbmNob3IpIHtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICBvcHRpb25zLmFuY2hvciA9IGZyb21Vc2VyQ29vcmRpbmF0ZShcbiAgICAgICAgICBvcHRpb25zLmFuY2hvcixcbiAgICAgICAgICB0aGlzLmdldFByb2plY3Rpb24oKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgYXJnc1tpXSA9IG9wdGlvbnM7XG4gICAgfVxuICAgIHRoaXMuYW5pbWF0ZUludGVybmFsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Li4uKEFuaW1hdGlvbk9wdGlvbnN8ZnVuY3Rpb24oYm9vbGVhbik6IHZvaWQpfSB2YXJfYXJncyBBbmltYXRpb24gb3B0aW9ucy5cbiAgICovXG4gIGFuaW1hdGVJbnRlcm5hbCh2YXJfYXJncykge1xuICAgIGxldCBhbmltYXRpb25Db3VudCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgbGV0IGNhbGxiYWNrO1xuICAgIGlmIChcbiAgICAgIGFuaW1hdGlvbkNvdW50ID4gMSAmJlxuICAgICAgdHlwZW9mIGFyZ3VtZW50c1thbmltYXRpb25Db3VudCAtIDFdID09PSAnZnVuY3Rpb24nXG4gICAgKSB7XG4gICAgICBjYWxsYmFjayA9IGFyZ3VtZW50c1thbmltYXRpb25Db3VudCAtIDFdO1xuICAgICAgLS1hbmltYXRpb25Db3VudDtcbiAgICB9XG5cbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yICg7IGkgPCBhbmltYXRpb25Db3VudCAmJiAhdGhpcy5pc0RlZigpOyArK2kpIHtcbiAgICAgIC8vIGlmIHZpZXcgcHJvcGVydGllcyBhcmUgbm90IHlldCBzZXQsIHNob3J0Y3V0IHRvIHRoZSBmaW5hbCBzdGF0ZVxuICAgICAgY29uc3Qgc3RhdGUgPSBhcmd1bWVudHNbaV07XG4gICAgICBpZiAoc3RhdGUuY2VudGVyKSB7XG4gICAgICAgIHRoaXMuc2V0Q2VudGVySW50ZXJuYWwoc3RhdGUuY2VudGVyKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS56b29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXRab29tKHN0YXRlLnpvb20pO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5yZXNvbHV0aW9uKSB7XG4gICAgICAgIHRoaXMuc2V0UmVzb2x1dGlvbihzdGF0ZS5yZXNvbHV0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuc2V0Um90YXRpb24oc3RhdGUucm90YXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaSA9PT0gYW5pbWF0aW9uQ291bnQpIHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBhbmltYXRpb25DYWxsYmFjayhjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICBsZXQgY2VudGVyID0gdGhpcy50YXJnZXRDZW50ZXJfLnNsaWNlKCk7XG4gICAgbGV0IHJlc29sdXRpb24gPSB0aGlzLnRhcmdldFJlc29sdXRpb25fO1xuICAgIGxldCByb3RhdGlvbiA9IHRoaXMudGFyZ2V0Um90YXRpb25fO1xuICAgIGNvbnN0IHNlcmllcyA9IFtdO1xuICAgIGZvciAoOyBpIDwgYW5pbWF0aW9uQ291bnQ7ICsraSkge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IC8qKiBAdHlwZSB7QW5pbWF0aW9uT3B0aW9uc30gKi8gKGFyZ3VtZW50c1tpXSk7XG5cbiAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBjb21wbGV0ZTogZmFsc2UsXG4gICAgICAgIGFuY2hvcjogb3B0aW9ucy5hbmNob3IsXG4gICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmR1cmF0aW9uIDogMTAwMCxcbiAgICAgICAgZWFzaW5nOiBvcHRpb25zLmVhc2luZyB8fCBpbkFuZE91dCxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgfTtcblxuICAgICAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgICAgIGFuaW1hdGlvbi5zb3VyY2VDZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgIGFuaW1hdGlvbi50YXJnZXRDZW50ZXIgPSBvcHRpb25zLmNlbnRlci5zbGljZSgpO1xuICAgICAgICBjZW50ZXIgPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy56b29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbkZvclpvb20ob3B0aW9ucy56b29tKTtcbiAgICAgICAgcmVzb2x1dGlvbiA9IGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnJlc29sdXRpb24pIHtcbiAgICAgICAgYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbjtcbiAgICAgICAgcmVzb2x1dGlvbiA9IGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFuaW1hdGlvbi5zb3VyY2VSb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICBjb25zdCBkZWx0YSA9XG4gICAgICAgICAgbW9kdWxvKG9wdGlvbnMucm90YXRpb24gLSByb3RhdGlvbiArIE1hdGguUEksIDIgKiBNYXRoLlBJKSAtIE1hdGguUEk7XG4gICAgICAgIGFuaW1hdGlvbi50YXJnZXRSb3RhdGlvbiA9IHJvdGF0aW9uICsgZGVsdGE7XG4gICAgICAgIHJvdGF0aW9uID0gYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uO1xuICAgICAgfVxuXG4gICAgICAvLyBjaGVjayBpZiBhbmltYXRpb24gaXMgYSBuby1vcFxuICAgICAgaWYgKGlzTm9vcEFuaW1hdGlvbihhbmltYXRpb24pKSB7XG4gICAgICAgIGFuaW1hdGlvbi5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIC8vIHdlIHN0aWxsIHB1c2ggaXQgb250byB0aGUgc2VyaWVzIGZvciBjYWxsYmFjayBoYW5kbGluZ1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnQgKz0gYW5pbWF0aW9uLmR1cmF0aW9uO1xuICAgICAgfVxuICAgICAgc2VyaWVzLnB1c2goYW5pbWF0aW9uKTtcbiAgICB9XG4gICAgdGhpcy5hbmltYXRpb25zXy5wdXNoKHNlcmllcyk7XG4gICAgdGhpcy5zZXRIaW50KFZpZXdIaW50LkFOSU1BVElORywgMSk7XG4gICAgdGhpcy51cGRhdGVBbmltYXRpb25zXygpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBpZiB0aGUgdmlldyBpcyBiZWluZyBhbmltYXRlZC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHZpZXcgaXMgYmVpbmcgYW5pbWF0ZWQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEFuaW1hdGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5oaW50c19bVmlld0hpbnQuQU5JTUFUSU5HXSA+IDA7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIGlmIHRoZSB1c2VyIGlzIGludGVyYWN0aW5nIHdpdGggdGhlIHZpZXcsIHN1Y2ggYXMgcGFubmluZyBvciB6b29taW5nLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdmlldyBpcyBiZWluZyBpbnRlcmFjdGVkIHdpdGguXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEludGVyYWN0aW5nKCkge1xuICAgIHJldHVybiB0aGlzLmhpbnRzX1tWaWV3SGludC5JTlRFUkFDVElOR10gPiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbCBhbnkgb25nb2luZyBhbmltYXRpb25zLlxuICAgKiBAYXBpXG4gICAqL1xuICBjYW5jZWxBbmltYXRpb25zKCkge1xuICAgIHRoaXMuc2V0SGludChWaWV3SGludC5BTklNQVRJTkcsIC10aGlzLmhpbnRzX1tWaWV3SGludC5BTklNQVRJTkddKTtcbiAgICBsZXQgYW5jaG9yO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHRoaXMuYW5pbWF0aW9uc18ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5hbmltYXRpb25zX1tpXTtcbiAgICAgIGlmIChzZXJpZXNbMF0uY2FsbGJhY2spIHtcbiAgICAgICAgYW5pbWF0aW9uQ2FsbGJhY2soc2VyaWVzWzBdLmNhbGxiYWNrLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBpZiAoIWFuY2hvcikge1xuICAgICAgICBmb3IgKGxldCBqID0gMCwgamogPSBzZXJpZXMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IHNlcmllc1tqXTtcbiAgICAgICAgICBpZiAoIWFuaW1hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgICAgICAgYW5jaG9yID0gYW5pbWF0aW9uLmFuY2hvcjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFuaW1hdGlvbnNfLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5jYW5jZWxBbmNob3JfID0gYW5jaG9yO1xuICAgIHRoaXMubmV4dENlbnRlcl8gPSBudWxsO1xuICAgIHRoaXMubmV4dFJlc29sdXRpb25fID0gTmFOO1xuICAgIHRoaXMubmV4dFJvdGF0aW9uXyA9IE5hTjtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYWxsIGFuaW1hdGlvbnMuXG4gICAqL1xuICB1cGRhdGVBbmltYXRpb25zXygpIHtcbiAgICBpZiAodGhpcy51cGRhdGVBbmltYXRpb25LZXlfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5Xyk7XG4gICAgICB0aGlzLnVwZGF0ZUFuaW1hdGlvbktleV8gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICghdGhpcy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGxldCBtb3JlID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuYW5pbWF0aW9uc18ubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMuYW5pbWF0aW9uc19baV07XG4gICAgICBsZXQgc2VyaWVzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgZm9yIChsZXQgaiA9IDAsIGpqID0gc2VyaWVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gc2VyaWVzW2pdO1xuICAgICAgICBpZiAoYW5pbWF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IG5vdyAtIGFuaW1hdGlvbi5zdGFydDtcbiAgICAgICAgbGV0IGZyYWN0aW9uID1cbiAgICAgICAgICBhbmltYXRpb24uZHVyYXRpb24gPiAwID8gZWxhcHNlZCAvIGFuaW1hdGlvbi5kdXJhdGlvbiA6IDE7XG4gICAgICAgIGlmIChmcmFjdGlvbiA+PSAxKSB7XG4gICAgICAgICAgYW5pbWF0aW9uLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICBmcmFjdGlvbiA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VyaWVzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9ncmVzcyA9IGFuaW1hdGlvbi5lYXNpbmcoZnJhY3Rpb24pO1xuICAgICAgICBpZiAoYW5pbWF0aW9uLnNvdXJjZUNlbnRlcikge1xuICAgICAgICAgIGNvbnN0IHgwID0gYW5pbWF0aW9uLnNvdXJjZUNlbnRlclswXTtcbiAgICAgICAgICBjb25zdCB5MCA9IGFuaW1hdGlvbi5zb3VyY2VDZW50ZXJbMV07XG4gICAgICAgICAgY29uc3QgeDEgPSBhbmltYXRpb24udGFyZ2V0Q2VudGVyWzBdO1xuICAgICAgICAgIGNvbnN0IHkxID0gYW5pbWF0aW9uLnRhcmdldENlbnRlclsxXTtcbiAgICAgICAgICB0aGlzLm5leHRDZW50ZXJfID0gYW5pbWF0aW9uLnRhcmdldENlbnRlcjtcbiAgICAgICAgICBjb25zdCB4ID0geDAgKyBwcm9ncmVzcyAqICh4MSAtIHgwKTtcbiAgICAgICAgICBjb25zdCB5ID0geTAgKyBwcm9ncmVzcyAqICh5MSAtIHkwKTtcbiAgICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBbeCwgeV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uICYmIGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgY29uc3QgcmVzb2x1dGlvbiA9XG4gICAgICAgICAgICBwcm9ncmVzcyA9PT0gMVxuICAgICAgICAgICAgICA/IGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uXG4gICAgICAgICAgICAgIDogYW5pbWF0aW9uLnNvdXJjZVJlc29sdXRpb24gK1xuICAgICAgICAgICAgICAgIHByb2dyZXNzICpcbiAgICAgICAgICAgICAgICAgIChhbmltYXRpb24udGFyZ2V0UmVzb2x1dGlvbiAtIGFuaW1hdGlvbi5zb3VyY2VSZXNvbHV0aW9uKTtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uLmFuY2hvcikge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplXyh0aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgICAgICAgICAgY29uc3QgY29uc3RyYWluZWRSZXNvbHV0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucmVzb2x1dGlvbihcbiAgICAgICAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IHRoaXMuY2FsY3VsYXRlQ2VudGVyWm9vbShcbiAgICAgICAgICAgICAgY29uc3RyYWluZWRSZXNvbHV0aW9uLFxuICAgICAgICAgICAgICBhbmltYXRpb24uYW5jaG9yXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLm5leHRSZXNvbHV0aW9uXyA9IGFuaW1hdGlvbi50YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbl8gPSByZXNvbHV0aW9uO1xuICAgICAgICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8odHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGFuaW1hdGlvbi5zb3VyY2VSb3RhdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uICE9PSB1bmRlZmluZWRcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3Qgcm90YXRpb24gPVxuICAgICAgICAgICAgcHJvZ3Jlc3MgPT09IDFcbiAgICAgICAgICAgICAgPyBtb2R1bG8oYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uICsgTWF0aC5QSSwgMiAqIE1hdGguUEkpIC1cbiAgICAgICAgICAgICAgICBNYXRoLlBJXG4gICAgICAgICAgICAgIDogYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uICtcbiAgICAgICAgICAgICAgICBwcm9ncmVzcyAqXG4gICAgICAgICAgICAgICAgICAoYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uIC0gYW5pbWF0aW9uLnNvdXJjZVJvdGF0aW9uKTtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uLmFuY2hvcikge1xuICAgICAgICAgICAgY29uc3QgY29uc3RyYWluZWRSb3RhdGlvbiA9IHRoaXMuY29uc3RyYWludHNfLnJvdGF0aW9uKFxuICAgICAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyA9IHRoaXMuY2FsY3VsYXRlQ2VudGVyUm90YXRlKFxuICAgICAgICAgICAgICBjb25zdHJhaW5lZFJvdGF0aW9uLFxuICAgICAgICAgICAgICBhbmltYXRpb24uYW5jaG9yXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLm5leHRSb3RhdGlvbl8gPSBhbmltYXRpb24udGFyZ2V0Um90YXRpb247XG4gICAgICAgICAgdGhpcy50YXJnZXRSb3RhdGlvbl8gPSByb3RhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKHRydWUpO1xuICAgICAgICBtb3JlID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFhbmltYXRpb24uY29tcGxldGUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNlcmllc0NvbXBsZXRlKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc19baV0gPSBudWxsO1xuICAgICAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuQU5JTUFUSU5HLCAtMSk7XG4gICAgICAgIHRoaXMubmV4dENlbnRlcl8gPSBudWxsO1xuICAgICAgICB0aGlzLm5leHRSZXNvbHV0aW9uXyA9IE5hTjtcbiAgICAgICAgdGhpcy5uZXh0Um90YXRpb25fID0gTmFOO1xuICAgICAgICBjb25zdCBjYWxsYmFjayA9IHNlcmllc1swXS5jYWxsYmFjaztcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgYW5pbWF0aW9uQ2FsbGJhY2soY2FsbGJhY2ssIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIHBydW5lIGNvbXBsZXRlZCBzZXJpZXNcbiAgICB0aGlzLmFuaW1hdGlvbnNfID0gdGhpcy5hbmltYXRpb25zXy5maWx0ZXIoQm9vbGVhbik7XG4gICAgaWYgKG1vcmUgJiYgdGhpcy51cGRhdGVBbmltYXRpb25LZXlfID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlQW5pbWF0aW9uS2V5XyA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShcbiAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25zXy5iaW5kKHRoaXMpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gVGFyZ2V0IHJvdGF0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhbmNob3IgUm90YXRpb24gYW5jaG9yLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlciBmb3Igcm90YXRpb24gYW5kIGFuY2hvci5cbiAgICovXG4gIGNhbGN1bGF0ZUNlbnRlclJvdGF0ZShyb3RhdGlvbiwgYW5jaG9yKSB7XG4gICAgbGV0IGNlbnRlcjtcbiAgICBjb25zdCBjdXJyZW50Q2VudGVyID0gdGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpO1xuICAgIGlmIChjdXJyZW50Q2VudGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNlbnRlciA9IFtjdXJyZW50Q2VudGVyWzBdIC0gYW5jaG9yWzBdLCBjdXJyZW50Q2VudGVyWzFdIC0gYW5jaG9yWzFdXTtcbiAgICAgIHJvdGF0ZUNvb3JkaW5hdGUoY2VudGVyLCByb3RhdGlvbiAtIHRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgICBhZGRDb29yZGluYXRlKGNlbnRlciwgYW5jaG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIGNlbnRlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYW5jaG9yIFpvb20gYW5jaG9yLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IENlbnRlciBmb3IgcmVzb2x1dGlvbiBhbmQgYW5jaG9yLlxuICAgKi9cbiAgY2FsY3VsYXRlQ2VudGVyWm9vbShyZXNvbHV0aW9uLCBhbmNob3IpIHtcbiAgICBsZXQgY2VudGVyO1xuICAgIGNvbnN0IGN1cnJlbnRDZW50ZXIgPSB0aGlzLmdldENlbnRlckludGVybmFsKCk7XG4gICAgY29uc3QgY3VycmVudFJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oKTtcbiAgICBpZiAoY3VycmVudENlbnRlciAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnRSZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHggPVxuICAgICAgICBhbmNob3JbMF0gLVxuICAgICAgICAocmVzb2x1dGlvbiAqIChhbmNob3JbMF0gLSBjdXJyZW50Q2VudGVyWzBdKSkgLyBjdXJyZW50UmVzb2x1dGlvbjtcbiAgICAgIGNvbnN0IHkgPVxuICAgICAgICBhbmNob3JbMV0gLVxuICAgICAgICAocmVzb2x1dGlvbiAqIChhbmNob3JbMV0gLSBjdXJyZW50Q2VudGVyWzFdKSkgLyBjdXJyZW50UmVzb2x1dGlvbjtcbiAgICAgIGNlbnRlciA9IFt4LCB5XTtcbiAgICB9XG4gICAgcmV0dXJuIGNlbnRlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZpZXdwb3J0IHNpemUuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb25dIFRha2UgaW50byBhY2NvdW50IHRoZSByb3RhdGlvbiBvZiB0aGUgdmlld3BvcnQgd2hlbiBnaXZpbmcgdGhlIHNpemVcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFZpZXdwb3J0IHNpemUgb3IgYFsxMDAsIDEwMF1gIHdoZW4gbm8gdmlld3BvcnQgaXMgZm91bmQuXG4gICAqL1xuICBnZXRWaWV3cG9ydFNpemVfKHJvdGF0aW9uKSB7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMudmlld3BvcnRTaXplXztcbiAgICBpZiAocm90YXRpb24pIHtcbiAgICAgIGNvbnN0IHcgPSBzaXplWzBdO1xuICAgICAgY29uc3QgaCA9IHNpemVbMV07XG4gICAgICByZXR1cm4gW1xuICAgICAgICBNYXRoLmFicyh3ICogTWF0aC5jb3Mocm90YXRpb24pKSArIE1hdGguYWJzKGggKiBNYXRoLnNpbihyb3RhdGlvbikpLFxuICAgICAgICBNYXRoLmFicyh3ICogTWF0aC5zaW4ocm90YXRpb24pKSArIE1hdGguYWJzKGggKiBNYXRoLmNvcyhyb3RhdGlvbikpLFxuICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIHNpemU7XG4gIH1cblxuICAvKipcbiAgICogU3RvcmVzIHRoZSB2aWV3cG9ydCBzaXplIG9uIHRoZSB2aWV3LiBUaGUgdmlld3BvcnQgc2l6ZSBpcyBub3QgcmVhZCBldmVyeSB0aW1lIGZyb20gdGhlIERPTVxuICAgKiB0byBhdm9pZCBwZXJmb3JtYW5jZSBoaXQgYW5kIGxheW91dCByZWZsb3cuXG4gICAqIFRoaXMgc2hvdWxkIGJlIGRvbmUgb24gbWFwIHNpemUgY2hhbmdlLlxuICAgKiBOb3RlOiB0aGUgY29uc3RyYWludHMgYXJlIG5vdCByZXNvbHZlZCBkdXJpbmcgYW4gYW5pbWF0aW9uIHRvIGF2b2lkIHN0b3BwaW5nIGl0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFtzaXplXSBWaWV3cG9ydCBzaXplOyBpZiB1bmRlZmluZWQsIFsxMDAsIDEwMF0gaXMgYXNzdW1lZFxuICAgKi9cbiAgc2V0Vmlld3BvcnRTaXplKHNpemUpIHtcbiAgICB0aGlzLnZpZXdwb3J0U2l6ZV8gPSBBcnJheS5pc0FycmF5KHNpemUpID8gc2l6ZS5zbGljZSgpIDogWzEwMCwgMTAwXTtcbiAgICBpZiAoIXRoaXMuZ2V0QW5pbWF0aW5nKCkpIHtcbiAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKDApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZpZXcgY2VudGVyLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldENlbnRlcigpIHtcbiAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmdldENlbnRlckludGVybmFsKCk7XG4gICAgaWYgKCFjZW50ZXIpIHtcbiAgICAgIHJldHVybiBjZW50ZXI7XG4gICAgfVxuICAgIHJldHVybiB0b1VzZXJDb29yZGluYXRlKGNlbnRlciwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldyBjZW50ZXIgd2l0aG91dCB0cmFuc2Zvcm1pbmcgdG8gdXNlciBwcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuXG4gICAqL1xuICBnZXRDZW50ZXJJbnRlcm5hbCgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9ICovIChcbiAgICAgIHRoaXMuZ2V0KFZpZXdQcm9wZXJ0eS5DRU5URVIpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtDb25zdHJhaW50c30gQ29uc3RyYWludHMuXG4gICAqL1xuICBnZXRDb25zdHJhaW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50c187XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmVzb2x1dGlvbiBjb25zdHJhaW50IGlzIHNldFxuICAgKi9cbiAgZ2V0Q29uc3RyYWluUmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoJ2NvbnN0cmFpblJlc29sdXRpb24nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtoaW50c10gRGVzdGluYXRpb24gYXJyYXkuXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEhpbnQuXG4gICAqL1xuICBnZXRIaW50cyhoaW50cykge1xuICAgIGlmIChoaW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBoaW50c1swXSA9IHRoaXMuaGludHNfWzBdO1xuICAgICAgaGludHNbMV0gPSB0aGlzLmhpbnRzX1sxXTtcbiAgICAgIHJldHVybiBoaW50cztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaGludHNfLnNsaWNlKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBleHRlbnQgZm9yIHRoZSBjdXJyZW50IHZpZXcgc3RhdGUgYW5kIHRoZSBwYXNzZWQgc2l6ZS5cbiAgICogVGhlIHNpemUgaXMgdGhlIHBpeGVsIGRpbWVuc2lvbnMgb2YgdGhlIGJveCBpbnRvIHdoaWNoIHRoZSBjYWxjdWxhdGVkIGV4dGVudFxuICAgKiBzaG91bGQgZml0LiBJbiBtb3N0IGNhc2VzIHlvdSB3YW50IHRvIGdldCB0aGUgZXh0ZW50IG9mIHRoZSBlbnRpcmUgbWFwLFxuICAgKiB0aGF0IGlzIGBtYXAuZ2V0U2l6ZSgpYC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW3NpemVdIEJveCBwaXhlbCBzaXplLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBzaXplXG4gICAqIG9mIHRoZSBtYXAgdGhhdCB1c2VzIHRoaXMgdmlldyB3aWxsIGJlIHVzZWQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBjYWxjdWxhdGVFeHRlbnQoc2l6ZSkge1xuICAgIGNvbnN0IGV4dGVudCA9IHRoaXMuY2FsY3VsYXRlRXh0ZW50SW50ZXJuYWwoc2l6ZSk7XG4gICAgcmV0dXJuIHRvVXNlckV4dGVudChleHRlbnQsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbc2l6ZV0gQm94IHBpeGVsIHNpemUuIElmIG5vdCBwcm92aWRlZCxcbiAgICogdGhlIG1hcCdzIGxhc3Qga25vd24gdmlld3BvcnQgc2l6ZSB3aWxsIGJlIHVzZWQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgKi9cbiAgY2FsY3VsYXRlRXh0ZW50SW50ZXJuYWwoc2l6ZSkge1xuICAgIHNpemUgPSBzaXplIHx8IHRoaXMuZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXygpO1xuICAgIGNvbnN0IGNlbnRlciA9IC8qKiBAdHlwZSB7IWltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSAqLyAoXG4gICAgICB0aGlzLmdldENlbnRlckludGVybmFsKClcbiAgICApO1xuICAgIGFzc2VydChjZW50ZXIsIDEpOyAvLyBUaGUgdmlldyBjZW50ZXIgaXMgbm90IGRlZmluZWRcbiAgICBjb25zdCByZXNvbHV0aW9uID0gLyoqIEB0eXBlIHshbnVtYmVyfSAqLyAodGhpcy5nZXRSZXNvbHV0aW9uKCkpO1xuICAgIGFzc2VydChyZXNvbHV0aW9uICE9PSB1bmRlZmluZWQsIDIpOyAvLyBUaGUgdmlldyByZXNvbHV0aW9uIGlzIG5vdCBkZWZpbmVkXG4gICAgY29uc3Qgcm90YXRpb24gPSAvKiogQHR5cGUgeyFudW1iZXJ9ICovICh0aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgIGFzc2VydChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkLCAzKTsgLy8gVGhlIHZpZXcgcm90YXRpb24gaXMgbm90IGRlZmluZWRcblxuICAgIHJldHVybiBnZXRGb3JWaWV3QW5kU2l6ZShjZW50ZXIsIHJlc29sdXRpb24sIHJvdGF0aW9uLCBzaXplKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1heGltdW0gcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNYXhSZXNvbHV0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1heFJlc29sdXRpb25fO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWluaW11bSByZXNvbHV0aW9uIG9mIHRoZSB2aWV3LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtaW5pbXVtIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1pblJlc29sdXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubWluUmVzb2x1dGlvbl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSB2aWV3LlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1heFpvb20oKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoXG4gICAgICB0aGlzLmdldFpvb21Gb3JSZXNvbHV0aW9uKHRoaXMubWluUmVzb2x1dGlvbl8pXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYSBuZXcgbWF4aW11bSB6b29tIGxldmVsIGZvciB0aGUgdmlldy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gVGhlIG1heGltdW0gem9vbSBsZXZlbC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TWF4Wm9vbSh6b29tKSB7XG4gICAgdGhpcy5hcHBseU9wdGlvbnNfKHRoaXMuZ2V0VXBkYXRlZE9wdGlvbnNfKHttYXhab29tOiB6b29tfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWluaW11bSB6b29tIGxldmVsIGZvciB0aGUgdmlldy5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWluaW11bSB6b29tIGxldmVsLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNaW5ab29tKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKFxuICAgICAgdGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbih0aGlzLm1heFJlc29sdXRpb25fKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgbmV3IG1pbmltdW0gem9vbSBsZXZlbCBmb3IgdGhlIHZpZXcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6b29tIFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE1pblpvb20oem9vbSkge1xuICAgIHRoaXMuYXBwbHlPcHRpb25zXyh0aGlzLmdldFVwZGF0ZWRPcHRpb25zXyh7bWluWm9vbTogem9vbX0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB0aGUgdmlldyBzaG91bGQgYWxsb3cgaW50ZXJtZWRpYXJ5IHpvb20gbGV2ZWxzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgV2hldGhlciB0aGUgcmVzb2x1dGlvbiBpcyBjb25zdHJhaW5lZC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Q29uc3RyYWluUmVzb2x1dGlvbihlbmFibGVkKSB7XG4gICAgdGhpcy5hcHBseU9wdGlvbnNfKHRoaXMuZ2V0VXBkYXRlZE9wdGlvbnNfKHtjb25zdHJhaW5SZXNvbHV0aW9uOiBlbmFibGVkfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBUaGUgcHJvamVjdGlvbiBvZiB0aGUgdmlldy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UHJvamVjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZpZXcgcmVzb2x1dGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHZpZXcuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJlc29sdXRpb24oKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH0gKi8gKHRoaXMuZ2V0KFZpZXdQcm9wZXJ0eS5SRVNPTFVUSU9OKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSByZXNvbHV0aW9ucyBmb3IgdGhlIHZpZXcuIFRoaXMgcmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzb2x1dGlvbnNcbiAgICogcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgVmlldywgb3IgdW5kZWZpbmVkIGlmIG5vbmUgd2VyZSBnaXZlbi5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9IFRoZSByZXNvbHV0aW9ucyBvZiB0aGUgdmlldy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UmVzb2x1dGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzb2x1dGlvbnNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSBwcm92aWRlZCBleHRlbnQgKGluIG1hcCB1bml0cykgYW5kIHNpemUgKGluIHBpeGVscykuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbc2l6ZV0gQm94IHBpeGVsIHNpemUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHJlc29sdXRpb24gYXQgd2hpY2ggdGhlIHByb3ZpZGVkIGV4dGVudCB3aWxsIHJlbmRlciBhdFxuICAgKiAgICAgdGhlIGdpdmVuIHNpemUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJlc29sdXRpb25Gb3JFeHRlbnQoZXh0ZW50LCBzaXplKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVzb2x1dGlvbkZvckV4dGVudEludGVybmFsKFxuICAgICAgZnJvbVVzZXJFeHRlbnQoZXh0ZW50LCB0aGlzLmdldFByb2plY3Rpb24oKSksXG4gICAgICBzaXplXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHJlc29sdXRpb24gZm9yIGEgcHJvdmlkZWQgZXh0ZW50IChpbiBtYXAgdW5pdHMpIGFuZCBzaXplIChpbiBwaXhlbHMpLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW3NpemVdIEJveCBwaXhlbCBzaXplLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByZXNvbHV0aW9uIGF0IHdoaWNoIHRoZSBwcm92aWRlZCBleHRlbnQgd2lsbCByZW5kZXIgYXRcbiAgICogICAgIHRoZSBnaXZlbiBzaXplLlxuICAgKi9cbiAgZ2V0UmVzb2x1dGlvbkZvckV4dGVudEludGVybmFsKGV4dGVudCwgc2l6ZSkge1xuICAgIHNpemUgPSBzaXplIHx8IHRoaXMuZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXygpO1xuICAgIGNvbnN0IHhSZXNvbHV0aW9uID0gZ2V0V2lkdGgoZXh0ZW50KSAvIHNpemVbMF07XG4gICAgY29uc3QgeVJlc29sdXRpb24gPSBnZXRIZWlnaHQoZXh0ZW50KSAvIHNpemVbMV07XG4gICAgcmV0dXJuIE1hdGgubWF4KHhSZXNvbHV0aW9uLCB5UmVzb2x1dGlvbik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxIGZvciBhXG4gICAqIHJlc29sdXRpb24uIEV4cG9uZW50aWFsIHNjYWxpbmcgaXMgYXNzdW1lZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3dlcl0gUG93ZXIuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9uKG51bWJlcik6IG51bWJlcn0gUmVzb2x1dGlvbiBmb3IgdmFsdWUgZnVuY3Rpb24uXG4gICAqL1xuICBnZXRSZXNvbHV0aW9uRm9yVmFsdWVGdW5jdGlvbihwb3dlcikge1xuICAgIHBvd2VyID0gcG93ZXIgfHwgMjtcbiAgICBjb25zdCBtYXhSZXNvbHV0aW9uID0gdGhpcy5nZXRDb25zdHJhaW5lZFJlc29sdXRpb24odGhpcy5tYXhSZXNvbHV0aW9uXyk7XG4gICAgY29uc3QgbWluUmVzb2x1dGlvbiA9IHRoaXMubWluUmVzb2x1dGlvbl87XG4gICAgY29uc3QgbWF4ID0gTWF0aC5sb2cobWF4UmVzb2x1dGlvbiAvIG1pblJlc29sdXRpb24pIC8gTWF0aC5sb2cocG93ZXIpO1xuICAgIHJldHVybiAoXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZS5cbiAgICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbi5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3cocG93ZXIsIHZhbHVlICogbWF4KTtcbiAgICAgICAgcmV0dXJuIHJlc29sdXRpb247XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZpZXcgcm90YXRpb24uXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3IGluIHJhZGlhbnMuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJvdGF0aW9uKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KFZpZXdQcm9wZXJ0eS5ST1RBVElPTikpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHJlc29sdXRpb24gZm9yIGEgdmFsdWUgYmV0d2VlblxuICAgKiAwIGFuZCAxLiBFeHBvbmVudGlhbCBzY2FsaW5nIGlzIGFzc3VtZWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcG93ZXJdIFBvd2VyLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbihudW1iZXIpOiBudW1iZXJ9IFZhbHVlIGZvciByZXNvbHV0aW9uIGZ1bmN0aW9uLlxuICAgKi9cbiAgZ2V0VmFsdWVGb3JSZXNvbHV0aW9uRnVuY3Rpb24ocG93ZXIpIHtcbiAgICBjb25zdCBsb2dQb3dlciA9IE1hdGgubG9nKHBvd2VyIHx8IDIpO1xuICAgIGNvbnN0IG1heFJlc29sdXRpb24gPSB0aGlzLmdldENvbnN0cmFpbmVkUmVzb2x1dGlvbih0aGlzLm1heFJlc29sdXRpb25fKTtcbiAgICBjb25zdCBtaW5SZXNvbHV0aW9uID0gdGhpcy5taW5SZXNvbHV0aW9uXztcbiAgICBjb25zdCBtYXggPSBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gbWluUmVzb2x1dGlvbikgLyBsb2dQb3dlcjtcbiAgICByZXR1cm4gKFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgICAgICogQHJldHVybiB7bnVtYmVyfSBWYWx1ZS5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gKHJlc29sdXRpb24pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLmxvZyhtYXhSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbikgLyBsb2dQb3dlciAvIG1heDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgc2l6ZSBvZiB0aGUgdmlld3BvcnQgbWludXMgcGFkZGluZy5cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbl0gVGFrZSBpbnRvIGFjY291bnQgdGhlIHJvdGF0aW9uIG9mIHRoZSB2aWV3cG9ydCB3aGVuIGdpdmluZyB0aGUgc2l6ZVxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gVmlld3BvcnQgc2l6ZSByZWR1Y2VkIGJ5IHRoZSBwYWRkaW5nLlxuICAgKi9cbiAgZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXyhyb3RhdGlvbikge1xuICAgIGxldCBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVfKHJvdGF0aW9uKTtcbiAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5wYWRkaW5nXztcbiAgICBpZiAocGFkZGluZykge1xuICAgICAgc2l6ZSA9IFtcbiAgICAgICAgc2l6ZVswXSAtIHBhZGRpbmdbMV0gLSBwYWRkaW5nWzNdLFxuICAgICAgICBzaXplWzFdIC0gcGFkZGluZ1swXSAtIHBhZGRpbmdbMl0sXG4gICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtTdGF0ZX0gVmlldyBzdGF0ZS5cbiAgICovXG4gIGdldFN0YXRlKCkge1xuICAgIGNvbnN0IHByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgY29uc3Qgcm90YXRpb24gPSB0aGlzLmdldFJvdGF0aW9uKCk7XG4gICAgbGV0IGNlbnRlciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovIChcbiAgICAgIHRoaXMuZ2V0Q2VudGVySW50ZXJuYWwoKVxuICAgICk7XG4gICAgY29uc3QgcGFkZGluZyA9IHRoaXMucGFkZGluZ187XG4gICAgaWYgKHBhZGRpbmcpIHtcbiAgICAgIGNvbnN0IHJlZHVjZWRTaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKCk7XG4gICAgICBjZW50ZXIgPSBjYWxjdWxhdGVDZW50ZXJPbihcbiAgICAgICAgY2VudGVyLFxuICAgICAgICB0aGlzLmdldFZpZXdwb3J0U2l6ZV8oKSxcbiAgICAgICAgW3JlZHVjZWRTaXplWzBdIC8gMiArIHBhZGRpbmdbM10sIHJlZHVjZWRTaXplWzFdIC8gMiArIHBhZGRpbmdbMF1dLFxuICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICByb3RhdGlvblxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGNlbnRlcjogY2VudGVyLnNsaWNlKDApLFxuICAgICAgcHJvamVjdGlvbjogcHJvamVjdGlvbiAhPT0gdW5kZWZpbmVkID8gcHJvamVjdGlvbiA6IG51bGwsXG4gICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uLFxuICAgICAgbmV4dENlbnRlcjogdGhpcy5uZXh0Q2VudGVyXyxcbiAgICAgIG5leHRSZXNvbHV0aW9uOiB0aGlzLm5leHRSZXNvbHV0aW9uXyxcbiAgICAgIG5leHRSb3RhdGlvbjogdGhpcy5uZXh0Um90YXRpb25fLFxuICAgICAgcm90YXRpb246IHJvdGF0aW9uLFxuICAgICAgem9vbTogdGhpcy5nZXRab29tKCksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgem9vbSBsZXZlbC4gVGhpcyBtZXRob2QgbWF5IHJldHVybiBub24taW50ZWdlciB6b29tIGxldmVsc1xuICAgKiBpZiB0aGUgdmlldyBkb2VzIG5vdCBjb25zdHJhaW4gdGhlIHJlc29sdXRpb24sIG9yIGlmIGFuIGludGVyYWN0aW9uIG9yXG4gICAqIGFuaW1hdGlvbiBpcyB1bmRlcndheS5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gWm9vbS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Wm9vbSgpIHtcbiAgICBsZXQgem9vbTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKCk7XG4gICAgaWYgKHJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgem9vbSA9IHRoaXMuZ2V0Wm9vbUZvclJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgfVxuICAgIHJldHVybiB6b29tO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgem9vbSBsZXZlbCBmb3IgYSByZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBUaGUgcmVzb2x1dGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVGhlIHpvb20gbGV2ZWwgZm9yIHRoZSBwcm92aWRlZCByZXNvbHV0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRab29tRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uKSB7XG4gICAgbGV0IG9mZnNldCA9IHRoaXMubWluWm9vbV8gfHwgMDtcbiAgICBsZXQgbWF4LCB6b29tRmFjdG9yO1xuICAgIGlmICh0aGlzLnJlc29sdXRpb25zXykge1xuICAgICAgY29uc3QgbmVhcmVzdCA9IGxpbmVhckZpbmROZWFyZXN0KHRoaXMucmVzb2x1dGlvbnNfLCByZXNvbHV0aW9uLCAxKTtcbiAgICAgIG9mZnNldCA9IG5lYXJlc3Q7XG4gICAgICBtYXggPSB0aGlzLnJlc29sdXRpb25zX1tuZWFyZXN0XTtcbiAgICAgIGlmIChuZWFyZXN0ID09IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgem9vbUZhY3RvciA9IDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB6b29tRmFjdG9yID0gbWF4IC8gdGhpcy5yZXNvbHV0aW9uc19bbmVhcmVzdCArIDFdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtYXggPSB0aGlzLm1heFJlc29sdXRpb25fO1xuICAgICAgem9vbUZhY3RvciA9IHRoaXMuem9vbUZhY3Rvcl87XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQgKyBNYXRoLmxvZyhtYXggLyByZXNvbHV0aW9uKSAvIE1hdGgubG9nKHpvb21GYWN0b3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcmVzb2x1dGlvbiBmb3IgYSB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBab29tIGxldmVsLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB2aWV3IHJlc29sdXRpb24gZm9yIHRoZSBwcm92aWRlZCB6b29tIGxldmVsLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRSZXNvbHV0aW9uRm9yWm9vbSh6b29tKSB7XG4gICAgaWYgKHRoaXMucmVzb2x1dGlvbnNfKSB7XG4gICAgICBpZiAodGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBjb25zdCBiYXNlTGV2ZWwgPSBjbGFtcChcbiAgICAgICAgTWF0aC5mbG9vcih6b29tKSxcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIC0gMlxuICAgICAgKTtcbiAgICAgIGNvbnN0IHpvb21GYWN0b3IgPVxuICAgICAgICB0aGlzLnJlc29sdXRpb25zX1tiYXNlTGV2ZWxdIC8gdGhpcy5yZXNvbHV0aW9uc19bYmFzZUxldmVsICsgMV07XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLnJlc29sdXRpb25zX1tiYXNlTGV2ZWxdIC9cbiAgICAgICAgTWF0aC5wb3coem9vbUZhY3RvciwgY2xhbXAoem9vbSAtIGJhc2VMZXZlbCwgMCwgMSkpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5tYXhSZXNvbHV0aW9uXyAvIE1hdGgucG93KHRoaXMuem9vbUZhY3Rvcl8sIHpvb20gLSB0aGlzLm1pblpvb21fKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRml0IHRoZSBnaXZlbiBnZW9tZXRyeSBvciBleHRlbnQgYmFzZWQgb24gdGhlIGdpdmVuIG1hcCBzaXplIGFuZCBib3JkZXIuXG4gICAqIFRoZSBzaXplIGlzIHBpeGVsIGRpbWVuc2lvbnMgb2YgdGhlIGJveCB0byBmaXQgdGhlIGV4dGVudCBpbnRvLlxuICAgKiBJbiBtb3N0IGNhc2VzIHlvdSB3aWxsIHdhbnQgdG8gdXNlIHRoZSBtYXAgc2l6ZSwgdGhhdCBpcyBgbWFwLmdldFNpemUoKWAuXG4gICAqIFRha2VzIGNhcmUgb2YgdGhlIG1hcCBhbmdsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGdlb21ldHJ5T3JFeHRlbnQgVGhlIGdlb21ldHJ5IG9yXG4gICAqICAgICBleHRlbnQgdG8gZml0IHRoZSB2aWV3IHRvLlxuICAgKiBAcGFyYW0ge0ZpdE9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKiBAYXBpXG4gICAqL1xuICBmaXQoZ2VvbWV0cnlPckV4dGVudCwgb3B0aW9ucykge1xuICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovXG4gICAgbGV0IGdlb21ldHJ5O1xuICAgIGFzc2VydChcbiAgICAgIEFycmF5LmlzQXJyYXkoZ2VvbWV0cnlPckV4dGVudCkgfHxcbiAgICAgICAgdHlwZW9mICgvKiogQHR5cGUgez99ICovIChnZW9tZXRyeU9yRXh0ZW50KS5nZXRTaW1wbGlmaWVkR2VvbWV0cnkpID09PVxuICAgICAgICAgICdmdW5jdGlvbicsXG4gICAgICAyNFxuICAgICk7IC8vIEludmFsaWQgZXh0ZW50IG9yIGdlb21ldHJ5IHByb3ZpZGVkIGFzIGBnZW9tZXRyeWBcbiAgICBpZiAoQXJyYXkuaXNBcnJheShnZW9tZXRyeU9yRXh0ZW50KSkge1xuICAgICAgYXNzZXJ0KCFpc0VtcHR5KGdlb21ldHJ5T3JFeHRlbnQpLCAyNSk7IC8vIENhbm5vdCBmaXQgZW1wdHkgZXh0ZW50IHByb3ZpZGVkIGFzIGBnZW9tZXRyeWBcbiAgICAgIGNvbnN0IGV4dGVudCA9IGZyb21Vc2VyRXh0ZW50KGdlb21ldHJ5T3JFeHRlbnQsIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICAgIGdlb21ldHJ5ID0gcG9seWdvbkZyb21FeHRlbnQoZXh0ZW50KTtcbiAgICB9IGVsc2UgaWYgKGdlb21ldHJ5T3JFeHRlbnQuZ2V0VHlwZSgpID09PSAnQ2lyY2xlJykge1xuICAgICAgY29uc3QgZXh0ZW50ID0gZnJvbVVzZXJFeHRlbnQoXG4gICAgICAgIGdlb21ldHJ5T3JFeHRlbnQuZ2V0RXh0ZW50KCksXG4gICAgICAgIHRoaXMuZ2V0UHJvamVjdGlvbigpXG4gICAgICApO1xuICAgICAgZ2VvbWV0cnkgPSBwb2x5Z29uRnJvbUV4dGVudChleHRlbnQpO1xuICAgICAgZ2VvbWV0cnkucm90YXRlKHRoaXMuZ2V0Um90YXRpb24oKSwgZ2V0Q2VudGVyKGV4dGVudCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB1c2VyUHJvamVjdGlvbiA9IGdldFVzZXJQcm9qZWN0aW9uKCk7XG4gICAgICBpZiAodXNlclByb2plY3Rpb24pIHtcbiAgICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgZ2VvbWV0cnlPckV4dGVudFxuICAgICAgICAgICAgLmNsb25lKClcbiAgICAgICAgICAgIC50cmFuc2Zvcm0odXNlclByb2plY3Rpb24sIHRoaXMuZ2V0UHJvamVjdGlvbigpKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyeU9yRXh0ZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZml0SW50ZXJuYWwoZ2VvbWV0cnksIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSByb3RhdGVkIGV4dGVudFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBUaGUgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZXh0ZW50XCIpLkV4dGVudH0gVGhlIHJvdGF0ZWQgZXh0ZW50IGZvciB0aGUgZ2VvbWV0cnkuXG4gICAqL1xuICByb3RhdGVkRXh0ZW50Rm9yR2VvbWV0cnkoZ2VvbWV0cnkpIHtcbiAgICBjb25zdCByb3RhdGlvbiA9IHRoaXMuZ2V0Um90YXRpb24oKTtcbiAgICBjb25zdCBjb3NBbmdsZSA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgICBjb25zdCBzaW5BbmdsZSA9IE1hdGguc2luKC1yb3RhdGlvbik7XG4gICAgY29uc3QgY29vcmRzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgY29uc3Qgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgbGV0IG1pblJvdFggPSArSW5maW5pdHk7XG4gICAgbGV0IG1pblJvdFkgPSArSW5maW5pdHk7XG4gICAgbGV0IG1heFJvdFggPSAtSW5maW5pdHk7XG4gICAgbGV0IG1heFJvdFkgPSAtSW5maW5pdHk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gY29vcmRzLmxlbmd0aDsgaSA8IGlpOyBpICs9IHN0cmlkZSkge1xuICAgICAgY29uc3Qgcm90WCA9IGNvb3Jkc1tpXSAqIGNvc0FuZ2xlIC0gY29vcmRzW2kgKyAxXSAqIHNpbkFuZ2xlO1xuICAgICAgY29uc3Qgcm90WSA9IGNvb3Jkc1tpXSAqIHNpbkFuZ2xlICsgY29vcmRzW2kgKyAxXSAqIGNvc0FuZ2xlO1xuICAgICAgbWluUm90WCA9IE1hdGgubWluKG1pblJvdFgsIHJvdFgpO1xuICAgICAgbWluUm90WSA9IE1hdGgubWluKG1pblJvdFksIHJvdFkpO1xuICAgICAgbWF4Um90WCA9IE1hdGgubWF4KG1heFJvdFgsIHJvdFgpO1xuICAgICAgbWF4Um90WSA9IE1hdGgubWF4KG1heFJvdFksIHJvdFkpO1xuICAgIH1cbiAgICByZXR1cm4gW21pblJvdFgsIG1pblJvdFksIG1heFJvdFgsIG1heFJvdFldO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IFRoZSBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtGaXRPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGZpdEludGVybmFsKGdlb21ldHJ5LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgbGV0IHNpemUgPSBvcHRpb25zLnNpemU7XG4gICAgaWYgKCFzaXplKSB7XG4gICAgICBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVNaW51c1BhZGRpbmdfKCk7XG4gICAgfVxuICAgIGNvbnN0IHBhZGRpbmcgPVxuICAgICAgb3B0aW9ucy5wYWRkaW5nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnBhZGRpbmcgOiBbMCwgMCwgMCwgMF07XG4gICAgY29uc3QgbmVhcmVzdCA9IG9wdGlvbnMubmVhcmVzdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uZWFyZXN0IDogZmFsc2U7XG4gICAgbGV0IG1pblJlc29sdXRpb247XG4gICAgaWYgKG9wdGlvbnMubWluUmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBtaW5SZXNvbHV0aW9uID0gb3B0aW9ucy5taW5SZXNvbHV0aW9uO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1pblJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb25Gb3Jab29tKG9wdGlvbnMubWF4Wm9vbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pblJlc29sdXRpb24gPSAwO1xuICAgIH1cblxuICAgIGNvbnN0IHJvdGF0ZWRFeHRlbnQgPSB0aGlzLnJvdGF0ZWRFeHRlbnRGb3JHZW9tZXRyeShnZW9tZXRyeSk7XG5cbiAgICAvLyBjYWxjdWxhdGUgcmVzb2x1dGlvblxuICAgIGxldCByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yRXh0ZW50SW50ZXJuYWwocm90YXRlZEV4dGVudCwgW1xuICAgICAgc2l6ZVswXSAtIHBhZGRpbmdbMV0gLSBwYWRkaW5nWzNdLFxuICAgICAgc2l6ZVsxXSAtIHBhZGRpbmdbMF0gLSBwYWRkaW5nWzJdLFxuICAgIF0pO1xuICAgIHJlc29sdXRpb24gPSBpc05hTihyZXNvbHV0aW9uKVxuICAgICAgPyBtaW5SZXNvbHV0aW9uXG4gICAgICA6IE1hdGgubWF4KHJlc29sdXRpb24sIG1pblJlc29sdXRpb24pO1xuICAgIHJlc29sdXRpb24gPSB0aGlzLmdldENvbnN0cmFpbmVkUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBuZWFyZXN0ID8gMCA6IDEpO1xuXG4gICAgLy8gY2FsY3VsYXRlIGNlbnRlclxuICAgIGNvbnN0IHJvdGF0aW9uID0gdGhpcy5nZXRSb3RhdGlvbigpO1xuICAgIGNvbnN0IHNpbkFuZ2xlID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICAgIGNvbnN0IGNvc0FuZ2xlID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICAgIGNvbnN0IGNlbnRlclJvdCA9IGdldENlbnRlcihyb3RhdGVkRXh0ZW50KTtcbiAgICBjZW50ZXJSb3RbMF0gKz0gKChwYWRkaW5nWzFdIC0gcGFkZGluZ1szXSkgLyAyKSAqIHJlc29sdXRpb247XG4gICAgY2VudGVyUm90WzFdICs9ICgocGFkZGluZ1swXSAtIHBhZGRpbmdbMl0pIC8gMikgKiByZXNvbHV0aW9uO1xuICAgIGNvbnN0IGNlbnRlclggPSBjZW50ZXJSb3RbMF0gKiBjb3NBbmdsZSAtIGNlbnRlclJvdFsxXSAqIHNpbkFuZ2xlO1xuICAgIGNvbnN0IGNlbnRlclkgPSBjZW50ZXJSb3RbMV0gKiBjb3NBbmdsZSArIGNlbnRlclJvdFswXSAqIHNpbkFuZ2xlO1xuICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuZ2V0Q29uc3RyYWluZWRDZW50ZXIoW2NlbnRlclgsIGNlbnRlclldLCByZXNvbHV0aW9uKTtcbiAgICBjb25zdCBjYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2sgPyBvcHRpb25zLmNhbGxiYWNrIDogVk9JRDtcblxuICAgIGlmIChvcHRpb25zLmR1cmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuYW5pbWF0ZUludGVybmFsKFxuICAgICAgICB7XG4gICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICBlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLFxuICAgICAgICB9LFxuICAgICAgICBjYWxsYmFja1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBjZW50ZXI7XG4gICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKGZhbHNlLCB0cnVlKTtcbiAgICAgIGFuaW1hdGlvbkNhbGxiYWNrKGNhbGxiYWNrLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2VudGVyIG9uIGNvb3JkaW5hdGUgYW5kIHZpZXcgcG9zaXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBCb3ggcGl4ZWwgc2l6ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3BpeGVsLmpzXCIpLlBpeGVsfSBwb3NpdGlvbiBQb3NpdGlvbiBvbiB0aGUgdmlldyB0byBjZW50ZXIgb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGNlbnRlck9uKGNvb3JkaW5hdGUsIHNpemUsIHBvc2l0aW9uKSB7XG4gICAgdGhpcy5jZW50ZXJPbkludGVybmFsKFxuICAgICAgZnJvbVVzZXJDb29yZGluYXRlKGNvb3JkaW5hdGUsIHRoaXMuZ2V0UHJvamVjdGlvbigpKSxcbiAgICAgIHNpemUsXG4gICAgICBwb3NpdGlvblxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBzaXplIEJveCBwaXhlbCBzaXplLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBvc2l0aW9uIFBvc2l0aW9uIG9uIHRoZSB2aWV3IHRvIGNlbnRlciBvbi5cbiAgICovXG4gIGNlbnRlck9uSW50ZXJuYWwoY29vcmRpbmF0ZSwgc2l6ZSwgcG9zaXRpb24pIHtcbiAgICB0aGlzLnNldENlbnRlckludGVybmFsKFxuICAgICAgY2FsY3VsYXRlQ2VudGVyT24oXG4gICAgICAgIGNvb3JkaW5hdGUsXG4gICAgICAgIHNpemUsXG4gICAgICAgIHBvc2l0aW9uLFxuICAgICAgICB0aGlzLmdldFJlc29sdXRpb24oKSxcbiAgICAgICAgdGhpcy5nZXRSb3RhdGlvbigpXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBzaGlmdCBiZXR3ZWVuIG1hcCBhbmQgdmlld3BvcnQgY2VudGVyLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgU2l6ZS5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnx1bmRlZmluZWR9IENlbnRlciBzaGlmdC5cbiAgICovXG4gIGNhbGN1bGF0ZUNlbnRlclNoaWZ0KGNlbnRlciwgcmVzb2x1dGlvbiwgcm90YXRpb24sIHNpemUpIHtcbiAgICBsZXQgY2VudGVyU2hpZnQ7XG4gICAgY29uc3QgcGFkZGluZyA9IHRoaXMucGFkZGluZ187XG4gICAgaWYgKHBhZGRpbmcgJiYgY2VudGVyKSB7XG4gICAgICBjb25zdCByZWR1Y2VkU2l6ZSA9IHRoaXMuZ2V0Vmlld3BvcnRTaXplTWludXNQYWRkaW5nXygtcm90YXRpb24pO1xuICAgICAgY29uc3Qgc2hpZnRlZENlbnRlciA9IGNhbGN1bGF0ZUNlbnRlck9uKFxuICAgICAgICBjZW50ZXIsXG4gICAgICAgIHNpemUsXG4gICAgICAgIFtyZWR1Y2VkU2l6ZVswXSAvIDIgKyBwYWRkaW5nWzNdLCByZWR1Y2VkU2l6ZVsxXSAvIDIgKyBwYWRkaW5nWzBdXSxcbiAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgcm90YXRpb25cbiAgICAgICk7XG4gICAgICBjZW50ZXJTaGlmdCA9IFtcbiAgICAgICAgY2VudGVyWzBdIC0gc2hpZnRlZENlbnRlclswXSxcbiAgICAgICAgY2VudGVyWzFdIC0gc2hpZnRlZENlbnRlclsxXSxcbiAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiBjZW50ZXJTaGlmdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJcyBkZWZpbmVkLlxuICAgKi9cbiAgaXNEZWYoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpICYmIHRoaXMuZ2V0UmVzb2x1dGlvbigpICE9PSB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyByZWxhdGl2ZSBjb29yZGluYXRlcyB0byB0aGUgY2VudGVyIG9mIHRoZSB2aWV3LiBBbnkgZXh0ZW50IGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZGVsdGFDb29yZGluYXRlcyBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQuXG4gICAqIEBhcGlcbiAgICovXG4gIGFkanVzdENlbnRlcihkZWx0YUNvb3JkaW5hdGVzKSB7XG4gICAgY29uc3QgY2VudGVyID0gdG9Vc2VyQ29vcmRpbmF0ZSh0aGlzLnRhcmdldENlbnRlcl8sIHRoaXMuZ2V0UHJvamVjdGlvbigpKTtcbiAgICB0aGlzLnNldENlbnRlcihbXG4gICAgICBjZW50ZXJbMF0gKyBkZWx0YUNvb3JkaW5hdGVzWzBdLFxuICAgICAgY2VudGVyWzFdICsgZGVsdGFDb29yZGluYXRlc1sxXSxcbiAgICBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHJlbGF0aXZlIGNvb3JkaW5hdGVzIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuIEFueSBleHRlbnQgY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBkZWx0YUNvb3JkaW5hdGVzIFJlbGF0aXZlIHZhbHVlIHRvIGFkZC5cbiAgICovXG4gIGFkanVzdENlbnRlckludGVybmFsKGRlbHRhQ29vcmRpbmF0ZXMpIHtcbiAgICBjb25zdCBjZW50ZXIgPSB0aGlzLnRhcmdldENlbnRlcl87XG4gICAgdGhpcy5zZXRDZW50ZXJJbnRlcm5hbChbXG4gICAgICBjZW50ZXJbMF0gKyBkZWx0YUNvb3JkaW5hdGVzWzBdLFxuICAgICAgY2VudGVyWzFdICsgZGVsdGFDb29yZGluYXRlc1sxXSxcbiAgICBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNdWx0aXBseSB0aGUgdmlldyByZXNvbHV0aW9uIGJ5IGEgcmF0aW8sIG9wdGlvbmFsbHkgdXNpbmcgYW4gYW5jaG9yLiBBbnkgcmVzb2x1dGlvblxuICAgKiBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByYXRpbyBUaGUgcmF0aW8gdG8gYXBwbHkgb24gdGhlIHZpZXcgcmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmb3JtYXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGFkanVzdFJlc29sdXRpb24ocmF0aW8sIGFuY2hvcikge1xuICAgIGFuY2hvciA9IGFuY2hvciAmJiBmcm9tVXNlckNvb3JkaW5hdGUoYW5jaG9yLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgdGhpcy5hZGp1c3RSZXNvbHV0aW9uSW50ZXJuYWwocmF0aW8sIGFuY2hvcik7XG4gIH1cblxuICAvKipcbiAgICogTXVsdGlwbHkgdGhlIHZpZXcgcmVzb2x1dGlvbiBieSBhIHJhdGlvLCBvcHRpb25hbGx5IHVzaW5nIGFuIGFuY2hvci4gQW55IHJlc29sdXRpb25cbiAgICogY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmF0aW8gVGhlIHJhdGlvIHRvIGFwcGx5IG9uIHRoZSB2aWV3IHJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFthbmNob3JdIFRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICAgKi9cbiAgYWRqdXN0UmVzb2x1dGlvbkludGVybmFsKHJhdGlvLCBhbmNob3IpIHtcbiAgICBjb25zdCBpc01vdmluZyA9IHRoaXMuZ2V0QW5pbWF0aW5nKCkgfHwgdGhpcy5nZXRJbnRlcmFjdGluZygpO1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8odGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICBjb25zdCBuZXdSZXNvbHV0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucmVzb2x1dGlvbihcbiAgICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbl8gKiByYXRpbyxcbiAgICAgIDAsXG4gICAgICBzaXplLFxuICAgICAgaXNNb3ZpbmdcbiAgICApO1xuXG4gICAgaWYgKGFuY2hvcikge1xuICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJab29tKG5ld1Jlc29sdXRpb24sIGFuY2hvcik7XG4gICAgfVxuXG4gICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyAqPSByYXRpbztcbiAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIHZhbHVlIHRvIHRoZSB2aWV3IHpvb20gbGV2ZWwsIG9wdGlvbmFsbHkgdXNpbmcgYW4gYW5jaG9yLiBBbnkgcmVzb2x1dGlvblxuICAgKiBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBSZWxhdGl2ZSB2YWx1ZSB0byBhZGQgdG8gdGhlIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFthbmNob3JdIFRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZm9ybWF0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBhZGp1c3Rab29tKGRlbHRhLCBhbmNob3IpIHtcbiAgICB0aGlzLmFkanVzdFJlc29sdXRpb24oTWF0aC5wb3codGhpcy56b29tRmFjdG9yXywgLWRlbHRhKSwgYW5jaG9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgdmFsdWUgdG8gdGhlIHZpZXcgcm90YXRpb24sIG9wdGlvbmFsbHkgdXNpbmcgYW4gYW5jaG9yLiBBbnkgcm90YXRpb25cbiAgICogY29uc3RyYWludCB3aWxsIGFwcGx5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGEgUmVsYXRpdmUgdmFsdWUgdG8gYWRkIHRvIHRoZSB6b29tIHJvdGF0aW9uLCBpbiByYWRpYW5zLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBUaGUgcm90YXRpb24gY2VudGVyLlxuICAgKiBAYXBpXG4gICAqL1xuICBhZGp1c3RSb3RhdGlvbihkZWx0YSwgYW5jaG9yKSB7XG4gICAgaWYgKGFuY2hvcikge1xuICAgICAgYW5jaG9yID0gZnJvbVVzZXJDb29yZGluYXRlKGFuY2hvciwgdGhpcy5nZXRQcm9qZWN0aW9uKCkpO1xuICAgIH1cbiAgICB0aGlzLmFkanVzdFJvdGF0aW9uSW50ZXJuYWwoZGVsdGEsIGFuY2hvcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhIFJlbGF0aXZlIHZhbHVlIHRvIGFkZCB0byB0aGUgem9vbSByb3RhdGlvbiwgaW4gcmFkaWFucy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gVGhlIHJvdGF0aW9uIGNlbnRlci5cbiAgICovXG4gIGFkanVzdFJvdGF0aW9uSW50ZXJuYWwoZGVsdGEsIGFuY2hvcikge1xuICAgIGNvbnN0IGlzTW92aW5nID0gdGhpcy5nZXRBbmltYXRpbmcoKSB8fCB0aGlzLmdldEludGVyYWN0aW5nKCk7XG4gICAgY29uc3QgbmV3Um90YXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yb3RhdGlvbihcbiAgICAgIHRoaXMudGFyZ2V0Um90YXRpb25fICsgZGVsdGEsXG4gICAgICBpc01vdmluZ1xuICAgICk7XG4gICAgaWYgKGFuY2hvcikge1xuICAgICAgdGhpcy50YXJnZXRDZW50ZXJfID0gdGhpcy5jYWxjdWxhdGVDZW50ZXJSb3RhdGUobmV3Um90YXRpb24sIGFuY2hvcik7XG4gICAgfVxuICAgIHRoaXMudGFyZ2V0Um90YXRpb25fICs9IGRlbHRhO1xuICAgIHRoaXMuYXBwbHlUYXJnZXRTdGF0ZV8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNlbnRlciBvZiB0aGUgY3VycmVudCB2aWV3LiBBbnkgZXh0ZW50IGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IGNlbnRlciBUaGUgY2VudGVyIG9mIHRoZSB2aWV3LlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRDZW50ZXIoY2VudGVyKSB7XG4gICAgdGhpcy5zZXRDZW50ZXJJbnRlcm5hbChcbiAgICAgIGNlbnRlciA/IGZyb21Vc2VyQ29vcmRpbmF0ZShjZW50ZXIsIHRoaXMuZ2V0UHJvamVjdGlvbigpKSA6IGNlbnRlclxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjZW50ZXIgdXNpbmcgdGhlIHZpZXcgcHJvamVjdGlvbiAobm90IHRoZSB1c2VyIHByb2plY3Rpb24pLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfHVuZGVmaW5lZH0gY2VudGVyIFRoZSBjZW50ZXIgb2YgdGhlIHZpZXcuXG4gICAqL1xuICBzZXRDZW50ZXJJbnRlcm5hbChjZW50ZXIpIHtcbiAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBjZW50ZXI7XG4gICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9WaWV3SGludC5qc1wiKS5kZWZhdWx0fSBoaW50IEhpbnQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YSBEZWx0YS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBOZXcgdmFsdWUuXG4gICAqL1xuICBzZXRIaW50KGhpbnQsIGRlbHRhKSB7XG4gICAgdGhpcy5oaW50c19baGludF0gKz0gZGVsdGE7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gICAgcmV0dXJuIHRoaXMuaGludHNfW2hpbnRdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcmVzb2x1dGlvbiBmb3IgdGhpcyB2aWV3LiBBbnkgcmVzb2x1dGlvbiBjb25zdHJhaW50IHdpbGwgYXBwbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcmVzb2x1dGlvbiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdmlldy5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKSB7XG4gICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG4gICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcm90YXRpb24gZm9yIHRoaXMgdmlldy4gQW55IHJvdGF0aW9uIGNvbnN0cmFpbnQgd2lsbCBhcHBseS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFRoZSByb3RhdGlvbiBvZiB0aGUgdmlldyBpbiByYWRpYW5zLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRSb3RhdGlvbihyb3RhdGlvbikge1xuICAgIHRoaXMudGFyZ2V0Um90YXRpb25fID0gcm90YXRpb247XG4gICAgdGhpcy5hcHBseVRhcmdldFN0YXRlXygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFpvb20gdG8gYSBzcGVjaWZpYyB6b29tIGxldmVsLiBBbnkgcmVzb2x1dGlvbiBjb25zdHJhaW4gd2lsbCBhcHBseS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gWm9vbSBsZXZlbC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Wm9vbSh6b29tKSB7XG4gICAgdGhpcy5zZXRSZXNvbHV0aW9uKHRoaXMuZ2V0UmVzb2x1dGlvbkZvclpvb20oem9vbSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlY29tcHV0ZSByb3RhdGlvbi9yZXNvbHV0aW9uL2NlbnRlciBiYXNlZCBvbiB0YXJnZXQgdmFsdWVzLlxuICAgKiBOb3RlOiB3ZSBoYXZlIHRvIGNvbXB1dGUgcm90YXRpb24gZmlyc3QsIHRoZW4gcmVzb2x1dGlvbiBhbmQgY2VudGVyIGNvbnNpZGVyaW5nIHRoYXRcbiAgICogcGFyYW1ldGVycyBjYW4gaW5mbHVlbmNlIG9uZSBhbm90aGVyIGluIGNhc2UgYSB2aWV3IGV4dGVudCBjb25zdHJhaW50IGlzIHByZXNlbnQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RvTm90Q2FuY2VsQW5pbXNdIERvIG5vdCBjYW5jZWwgYW5pbWF0aW9ucy5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VNb3ZpbmddIEFwcGx5IGNvbnN0cmFpbnRzIGFzIGlmIHRoZSB2aWV3IGlzIG1vdmluZy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFwcGx5VGFyZ2V0U3RhdGVfKGRvTm90Q2FuY2VsQW5pbXMsIGZvcmNlTW92aW5nKSB7XG4gICAgY29uc3QgaXNNb3ZpbmcgPVxuICAgICAgdGhpcy5nZXRBbmltYXRpbmcoKSB8fCB0aGlzLmdldEludGVyYWN0aW5nKCkgfHwgZm9yY2VNb3Zpbmc7XG5cbiAgICAvLyBjb21wdXRlIHJvdGF0aW9uXG4gICAgY29uc3QgbmV3Um90YXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yb3RhdGlvbihcbiAgICAgIHRoaXMudGFyZ2V0Um90YXRpb25fLFxuICAgICAgaXNNb3ZpbmdcbiAgICApO1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8obmV3Um90YXRpb24pO1xuICAgIGNvbnN0IG5ld1Jlc29sdXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yZXNvbHV0aW9uKFxuICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyxcbiAgICAgIDAsXG4gICAgICBzaXplLFxuICAgICAgaXNNb3ZpbmdcbiAgICApO1xuICAgIGNvbnN0IG5ld0NlbnRlciA9IHRoaXMuY29uc3RyYWludHNfLmNlbnRlcihcbiAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyxcbiAgICAgIG5ld1Jlc29sdXRpb24sXG4gICAgICBzaXplLFxuICAgICAgaXNNb3ZpbmcsXG4gICAgICB0aGlzLmNhbGN1bGF0ZUNlbnRlclNoaWZ0KFxuICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8sXG4gICAgICAgIG5ld1Jlc29sdXRpb24sXG4gICAgICAgIG5ld1JvdGF0aW9uLFxuICAgICAgICBzaXplXG4gICAgICApXG4gICAgKTtcblxuICAgIGlmICh0aGlzLmdldChWaWV3UHJvcGVydHkuUk9UQVRJT04pICE9PSBuZXdSb3RhdGlvbikge1xuICAgICAgdGhpcy5zZXQoVmlld1Byb3BlcnR5LlJPVEFUSU9OLCBuZXdSb3RhdGlvbik7XG4gICAgfVxuICAgIGlmICh0aGlzLmdldChWaWV3UHJvcGVydHkuUkVTT0xVVElPTikgIT09IG5ld1Jlc29sdXRpb24pIHtcbiAgICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5SRVNPTFVUSU9OLCBuZXdSZXNvbHV0aW9uKTtcbiAgICAgIHRoaXMuc2V0KCd6b29tJywgdGhpcy5nZXRab29tKCksIHRydWUpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhbmV3Q2VudGVyIHx8XG4gICAgICAhdGhpcy5nZXQoVmlld1Byb3BlcnR5LkNFTlRFUikgfHxcbiAgICAgICFlcXVhbHModGhpcy5nZXQoVmlld1Byb3BlcnR5LkNFTlRFUiksIG5ld0NlbnRlcilcbiAgICApIHtcbiAgICAgIHRoaXMuc2V0KFZpZXdQcm9wZXJ0eS5DRU5URVIsIG5ld0NlbnRlcik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ2V0QW5pbWF0aW5nKCkgJiYgIWRvTm90Q2FuY2VsQW5pbXMpIHtcbiAgICAgIHRoaXMuY2FuY2VsQW5pbWF0aW9ucygpO1xuICAgIH1cbiAgICB0aGlzLmNhbmNlbEFuY2hvcl8gPSB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogSWYgYW55IGNvbnN0cmFpbnRzIG5lZWQgdG8gYmUgYXBwbGllZCwgYW4gYW5pbWF0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkLlxuICAgKiBUaGlzIGlzIHR5cGljYWxseSBkb25lIG9uIGludGVyYWN0aW9uIGVuZC5cbiAgICogTm90ZTogY2FsbGluZyB0aGlzIHdpdGggYSBkdXJhdGlvbiBvZiAwIHdpbGwgYXBwbHkgdGhlIGNvbnN0cmFpbmVkIHZhbHVlcyBzdHJhaWdodCBhd2F5LFxuICAgKiB3aXRob3V0IGFuaW1hdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkdXJhdGlvbl0gVGhlIGFuaW1hdGlvbiBkdXJhdGlvbiBpbiBtcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uRGlyZWN0aW9uXSBXaGljaCBkaXJlY3Rpb24gdG8gem9vbS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gVGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmb3JtYXRpb24uXG4gICAqL1xuICByZXNvbHZlQ29uc3RyYWludHMoZHVyYXRpb24sIHJlc29sdXRpb25EaXJlY3Rpb24sIGFuY2hvcikge1xuICAgIGR1cmF0aW9uID0gZHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IGR1cmF0aW9uIDogMjAwO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHJlc29sdXRpb25EaXJlY3Rpb24gfHwgMDtcblxuICAgIGNvbnN0IG5ld1JvdGF0aW9uID0gdGhpcy5jb25zdHJhaW50c18ucm90YXRpb24odGhpcy50YXJnZXRSb3RhdGlvbl8pO1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8obmV3Um90YXRpb24pO1xuICAgIGNvbnN0IG5ld1Jlc29sdXRpb24gPSB0aGlzLmNvbnN0cmFpbnRzXy5yZXNvbHV0aW9uKFxuICAgICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uXyxcbiAgICAgIGRpcmVjdGlvbixcbiAgICAgIHNpemVcbiAgICApO1xuICAgIGNvbnN0IG5ld0NlbnRlciA9IHRoaXMuY29uc3RyYWludHNfLmNlbnRlcihcbiAgICAgIHRoaXMudGFyZ2V0Q2VudGVyXyxcbiAgICAgIG5ld1Jlc29sdXRpb24sXG4gICAgICBzaXplLFxuICAgICAgZmFsc2UsXG4gICAgICB0aGlzLmNhbGN1bGF0ZUNlbnRlclNoaWZ0KFxuICAgICAgICB0aGlzLnRhcmdldENlbnRlcl8sXG4gICAgICAgIG5ld1Jlc29sdXRpb24sXG4gICAgICAgIG5ld1JvdGF0aW9uLFxuICAgICAgICBzaXplXG4gICAgICApXG4gICAgKTtcblxuICAgIGlmIChkdXJhdGlvbiA9PT0gMCAmJiAhdGhpcy5jYW5jZWxBbmNob3JfKSB7XG4gICAgICB0aGlzLnRhcmdldFJlc29sdXRpb25fID0gbmV3UmVzb2x1dGlvbjtcbiAgICAgIHRoaXMudGFyZ2V0Um90YXRpb25fID0gbmV3Um90YXRpb247XG4gICAgICB0aGlzLnRhcmdldENlbnRlcl8gPSBuZXdDZW50ZXI7XG4gICAgICB0aGlzLmFwcGx5VGFyZ2V0U3RhdGVfKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYW5jaG9yID0gYW5jaG9yIHx8IChkdXJhdGlvbiA9PT0gMCA/IHRoaXMuY2FuY2VsQW5jaG9yXyA6IHVuZGVmaW5lZCk7XG4gICAgdGhpcy5jYW5jZWxBbmNob3JfID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5nZXRSZXNvbHV0aW9uKCkgIT09IG5ld1Jlc29sdXRpb24gfHxcbiAgICAgIHRoaXMuZ2V0Um90YXRpb24oKSAhPT0gbmV3Um90YXRpb24gfHxcbiAgICAgICF0aGlzLmdldENlbnRlckludGVybmFsKCkgfHxcbiAgICAgICFlcXVhbHModGhpcy5nZXRDZW50ZXJJbnRlcm5hbCgpLCBuZXdDZW50ZXIpXG4gICAgKSB7XG4gICAgICBpZiAodGhpcy5nZXRBbmltYXRpbmcoKSkge1xuICAgICAgICB0aGlzLmNhbmNlbEFuaW1hdGlvbnMoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hbmltYXRlSW50ZXJuYWwoe1xuICAgICAgICByb3RhdGlvbjogbmV3Um90YXRpb24sXG4gICAgICAgIGNlbnRlcjogbmV3Q2VudGVyLFxuICAgICAgICByZXNvbHV0aW9uOiBuZXdSZXNvbHV0aW9uLFxuICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogZWFzZU91dCxcbiAgICAgICAgYW5jaG9yOiBhbmNob3IsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTm90aWZ5IHRoZSBWaWV3IHRoYXQgYW4gaW50ZXJhY3Rpb24gaGFzIHN0YXJ0ZWQuXG4gICAqIFRoZSB2aWV3IHN0YXRlIHdpbGwgYmUgcmVzb2x2ZWQgdG8gYSBzdGFibGUgb25lIGlmIG5lZWRlZFxuICAgKiAoZGVwZW5kaW5nIG9uIGl0cyBjb25zdHJhaW50cykuXG4gICAqIEBhcGlcbiAgICovXG4gIGJlZ2luSW50ZXJhY3Rpb24oKSB7XG4gICAgdGhpcy5yZXNvbHZlQ29uc3RyYWludHMoMCk7XG5cbiAgICB0aGlzLnNldEhpbnQoVmlld0hpbnQuSU5URVJBQ1RJTkcsIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmeSB0aGUgVmlldyB0aGF0IGFuIGludGVyYWN0aW9uIGhhcyBlbmRlZC4gVGhlIHZpZXcgc3RhdGUgd2lsbCBiZSByZXNvbHZlZFxuICAgKiB0byBhIHN0YWJsZSBvbmUgaWYgbmVlZGVkIChkZXBlbmRpbmcgb24gaXRzIGNvbnN0cmFpbnRzKS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkdXJhdGlvbl0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1zLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25EaXJlY3Rpb25dIFdoaWNoIGRpcmVjdGlvbiB0byB6b29tLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZW5kSW50ZXJhY3Rpb24oZHVyYXRpb24sIHJlc29sdXRpb25EaXJlY3Rpb24sIGFuY2hvcikge1xuICAgIGFuY2hvciA9IGFuY2hvciAmJiBmcm9tVXNlckNvb3JkaW5hdGUoYW5jaG9yLCB0aGlzLmdldFByb2plY3Rpb24oKSk7XG4gICAgdGhpcy5lbmRJbnRlcmFjdGlvbkludGVybmFsKGR1cmF0aW9uLCByZXNvbHV0aW9uRGlyZWN0aW9uLCBhbmNob3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmeSB0aGUgVmlldyB0aGF0IGFuIGludGVyYWN0aW9uIGhhcyBlbmRlZC4gVGhlIHZpZXcgc3RhdGUgd2lsbCBiZSByZXNvbHZlZFxuICAgKiB0byBhIHN0YWJsZSBvbmUgaWYgbmVlZGVkIChkZXBlbmRpbmcgb24gaXRzIGNvbnN0cmFpbnRzKS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkdXJhdGlvbl0gQW5pbWF0aW9uIGR1cmF0aW9uIGluIG1zLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25EaXJlY3Rpb25dIFdoaWNoIGRpcmVjdGlvbiB0byB6b29tLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBbYW5jaG9yXSBUaGUgb3JpZ2luIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICovXG4gIGVuZEludGVyYWN0aW9uSW50ZXJuYWwoZHVyYXRpb24sIHJlc29sdXRpb25EaXJlY3Rpb24sIGFuY2hvcikge1xuICAgIHRoaXMuc2V0SGludChWaWV3SGludC5JTlRFUkFDVElORywgLTEpO1xuXG4gICAgdGhpcy5yZXNvbHZlQ29uc3RyYWludHMoZHVyYXRpb24sIHJlc29sdXRpb25EaXJlY3Rpb24sIGFuY2hvcik7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdmFsaWQgcG9zaXRpb24gZm9yIHRoZSB2aWV3IGNlbnRlciBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgY29uc3RyYWludHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8dW5kZWZpbmVkfSB0YXJnZXRDZW50ZXIgVGFyZ2V0IGNlbnRlciBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFt0YXJnZXRSZXNvbHV0aW9uXSBUYXJnZXQgcmVzb2x1dGlvbi4gSWYgbm90IHN1cHBsaWVkLCB0aGUgY3VycmVudCBvbmUgd2lsbCBiZSB1c2VkLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB0byBndWVzcyBhIHZhbGlkIGNlbnRlciBwb3NpdGlvbiBhdCBhIGRpZmZlcmVudCB6b29tIGxldmVsLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXx1bmRlZmluZWR9IFZhbGlkIGNlbnRlciBwb3NpdGlvbi5cbiAgICovXG4gIGdldENvbnN0cmFpbmVkQ2VudGVyKHRhcmdldENlbnRlciwgdGFyZ2V0UmVzb2x1dGlvbikge1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFZpZXdwb3J0U2l6ZV8odGhpcy5nZXRSb3RhdGlvbigpKTtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50c18uY2VudGVyKFxuICAgICAgdGFyZ2V0Q2VudGVyLFxuICAgICAgdGFyZ2V0UmVzb2x1dGlvbiB8fCB0aGlzLmdldFJlc29sdXRpb24oKSxcbiAgICAgIHNpemVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHZhbGlkIHpvb20gbGV2ZWwgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHZpZXcgY29uc3RyYWludHMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gdGFyZ2V0Wm9vbSBUYXJnZXQgem9vbS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkaXJlY3Rpb249MF0gSW5kaWNhdGUgd2hpY2ggcmVzb2x1dGlvbiBzaG91bGQgYmUgdXNlZFxuICAgKiBieSBhIHJlbmRlcmVyIGlmIHRoZSB2aWV3IHJlc29sdXRpb24gZG9lcyBub3QgbWF0Y2ggYW55IHJlc29sdXRpb24gb2YgdGhlIHRpbGUgc291cmNlLlxuICAgKiBJZiAwLCB0aGUgbmVhcmVzdCByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC4gSWYgMSwgdGhlIG5lYXJlc3QgbG93ZXIgcmVzb2x1dGlvblxuICAgKiB3aWxsIGJlIHVzZWQuIElmIC0xLCB0aGUgbmVhcmVzdCBoaWdoZXIgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuXG4gICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFZhbGlkIHpvb20gbGV2ZWwuXG4gICAqL1xuICBnZXRDb25zdHJhaW5lZFpvb20odGFyZ2V0Wm9vbSwgZGlyZWN0aW9uKSB7XG4gICAgY29uc3QgdGFyZ2V0UmVzID0gdGhpcy5nZXRSZXNvbHV0aW9uRm9yWm9vbSh0YXJnZXRab29tKTtcbiAgICByZXR1cm4gdGhpcy5nZXRab29tRm9yUmVzb2x1dGlvbihcbiAgICAgIHRoaXMuZ2V0Q29uc3RyYWluZWRSZXNvbHV0aW9uKHRhcmdldFJlcywgZGlyZWN0aW9uKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdmFsaWQgcmVzb2x1dGlvbiBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgdmlldyBjb25zdHJhaW50cy5cbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSB0YXJnZXRSZXNvbHV0aW9uIFRhcmdldCByZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2RpcmVjdGlvbj0wXSBJbmRpY2F0ZSB3aGljaCByZXNvbHV0aW9uIHNob3VsZCBiZSB1c2VkXG4gICAqIGJ5IGEgcmVuZGVyZXIgaWYgdGhlIHZpZXcgcmVzb2x1dGlvbiBkb2VzIG5vdCBtYXRjaCBhbnkgcmVzb2x1dGlvbiBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gICAqIElmIDAsIHRoZSBuZWFyZXN0IHJlc29sdXRpb24gd2lsbCBiZSB1c2VkLiBJZiAxLCB0aGUgbmVhcmVzdCBsb3dlciByZXNvbHV0aW9uXG4gICAqIHdpbGwgYmUgdXNlZC4gSWYgLTEsIHRoZSBuZWFyZXN0IGhpZ2hlciByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gVmFsaWQgcmVzb2x1dGlvbi5cbiAgICovXG4gIGdldENvbnN0cmFpbmVkUmVzb2x1dGlvbih0YXJnZXRSZXNvbHV0aW9uLCBkaXJlY3Rpb24pIHtcbiAgICBkaXJlY3Rpb24gPSBkaXJlY3Rpb24gfHwgMDtcbiAgICBjb25zdCBzaXplID0gdGhpcy5nZXRWaWV3cG9ydFNpemVfKHRoaXMuZ2V0Um90YXRpb24oKSk7XG5cbiAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50c18ucmVzb2x1dGlvbih0YXJnZXRSZXNvbHV0aW9uLCBkaXJlY3Rpb24sIHNpemUpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gKiBAcGFyYW0geyp9IHJldHVyblZhbHVlIFJldHVybiB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYW5pbWF0aW9uQ2FsbGJhY2soY2FsbGJhY2ssIHJldHVyblZhbHVlKSB7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGNhbGxiYWNrKHJldHVyblZhbHVlKTtcbiAgfSwgMCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtWaWV3T3B0aW9uc30gb3B0aW9ucyBWaWV3IG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2NlbnRlcmNvbnN0cmFpbnQuanNcIikuVHlwZX0gVGhlIGNvbnN0cmFpbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDZW50ZXJDb25zdHJhaW50KG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMuZXh0ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBzbW9vdGggPVxuICAgICAgb3B0aW9ucy5zbW9vdGhFeHRlbnRDb25zdHJhaW50ICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLnNtb290aEV4dGVudENvbnN0cmFpbnRcbiAgICAgICAgOiB0cnVlO1xuICAgIHJldHVybiBjcmVhdGVFeHRlbnQob3B0aW9ucy5leHRlbnQsIG9wdGlvbnMuY29uc3RyYWluT25seUNlbnRlciwgc21vb3RoKTtcbiAgfVxuXG4gIGNvbnN0IHByb2plY3Rpb24gPSBjcmVhdGVQcm9qZWN0aW9uKG9wdGlvbnMucHJvamVjdGlvbiwgJ0VQU0c6Mzg1NycpO1xuICBpZiAob3B0aW9ucy5tdWx0aVdvcmxkICE9PSB0cnVlICYmIHByb2plY3Rpb24uaXNHbG9iYWwoKSkge1xuICAgIGNvbnN0IGV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCkuc2xpY2UoKTtcbiAgICBleHRlbnRbMF0gPSAtSW5maW5pdHk7XG4gICAgZXh0ZW50WzJdID0gSW5maW5pdHk7XG4gICAgcmV0dXJuIGNyZWF0ZUV4dGVudChleHRlbnQsIGZhbHNlLCBmYWxzZSk7XG4gIH1cblxuICByZXR1cm4gY2VudGVyTm9uZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1ZpZXdPcHRpb25zfSBvcHRpb25zIFZpZXcgb3B0aW9ucy5cbiAqIEByZXR1cm4ge3tjb25zdHJhaW50OiBpbXBvcnQoXCIuL3Jlc29sdXRpb25jb25zdHJhaW50LmpzXCIpLlR5cGUsIG1heFJlc29sdXRpb246IG51bWJlcixcbiAqICAgICBtaW5SZXNvbHV0aW9uOiBudW1iZXIsIG1pblpvb206IG51bWJlciwgem9vbUZhY3RvcjogbnVtYmVyfX0gVGhlIGNvbnN0cmFpbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXNvbHV0aW9uQ29uc3RyYWludChvcHRpb25zKSB7XG4gIGxldCByZXNvbHV0aW9uQ29uc3RyYWludDtcbiAgbGV0IG1heFJlc29sdXRpb247XG4gIGxldCBtaW5SZXNvbHV0aW9uO1xuXG4gIC8vIFRPRE86IG1vdmUgdGhlc2UgdG8gYmUgb2wgY29uc3RhbnRzXG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vb3BlbmxheWVycy9vcGVubGF5ZXJzL2lzc3Vlcy8yMDc2XG4gIGNvbnN0IGRlZmF1bHRNYXhab29tID0gMjg7XG4gIGNvbnN0IGRlZmF1bHRab29tRmFjdG9yID0gMjtcblxuICBsZXQgbWluWm9vbSA9XG4gICAgb3B0aW9ucy5taW5ab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pblpvb20gOiBERUZBVUxUX01JTl9aT09NO1xuXG4gIGxldCBtYXhab29tID1cbiAgICBvcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4Wm9vbSA6IGRlZmF1bHRNYXhab29tO1xuXG4gIGNvbnN0IHpvb21GYWN0b3IgPVxuICAgIG9wdGlvbnMuem9vbUZhY3RvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy56b29tRmFjdG9yIDogZGVmYXVsdFpvb21GYWN0b3I7XG5cbiAgY29uc3QgbXVsdGlXb3JsZCA9XG4gICAgb3B0aW9ucy5tdWx0aVdvcmxkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm11bHRpV29ybGQgOiBmYWxzZTtcblxuICBjb25zdCBzbW9vdGggPVxuICAgIG9wdGlvbnMuc21vb3RoUmVzb2x1dGlvbkNvbnN0cmFpbnQgIT09IHVuZGVmaW5lZFxuICAgICAgPyBvcHRpb25zLnNtb290aFJlc29sdXRpb25Db25zdHJhaW50XG4gICAgICA6IHRydWU7XG5cbiAgY29uc3Qgc2hvd0Z1bGxFeHRlbnQgPVxuICAgIG9wdGlvbnMuc2hvd0Z1bGxFeHRlbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2hvd0Z1bGxFeHRlbnQgOiBmYWxzZTtcblxuICBjb25zdCBwcm9qZWN0aW9uID0gY3JlYXRlUHJvamVjdGlvbihvcHRpb25zLnByb2plY3Rpb24sICdFUFNHOjM4NTcnKTtcbiAgY29uc3QgcHJvakV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gIGxldCBjb25zdHJhaW5Pbmx5Q2VudGVyID0gb3B0aW9ucy5jb25zdHJhaW5Pbmx5Q2VudGVyO1xuICBsZXQgZXh0ZW50ID0gb3B0aW9ucy5leHRlbnQ7XG4gIGlmICghbXVsdGlXb3JsZCAmJiAhZXh0ZW50ICYmIHByb2plY3Rpb24uaXNHbG9iYWwoKSkge1xuICAgIGNvbnN0cmFpbk9ubHlDZW50ZXIgPSBmYWxzZTtcbiAgICBleHRlbnQgPSBwcm9qRXh0ZW50O1xuICB9XG5cbiAgaWYgKG9wdGlvbnMucmVzb2x1dGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHJlc29sdXRpb25zID0gb3B0aW9ucy5yZXNvbHV0aW9ucztcbiAgICBtYXhSZXNvbHV0aW9uID0gcmVzb2x1dGlvbnNbbWluWm9vbV07XG4gICAgbWluUmVzb2x1dGlvbiA9XG4gICAgICByZXNvbHV0aW9uc1ttYXhab29tXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcmVzb2x1dGlvbnNbbWF4Wm9vbV1cbiAgICAgICAgOiByZXNvbHV0aW9uc1tyZXNvbHV0aW9ucy5sZW5ndGggLSAxXTtcblxuICAgIGlmIChvcHRpb25zLmNvbnN0cmFpblJlc29sdXRpb24pIHtcbiAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlU25hcFRvUmVzb2x1dGlvbnMoXG4gICAgICAgIHJlc29sdXRpb25zLFxuICAgICAgICBzbW9vdGgsXG4gICAgICAgICFjb25zdHJhaW5Pbmx5Q2VudGVyICYmIGV4dGVudCxcbiAgICAgICAgc2hvd0Z1bGxFeHRlbnRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdXRpb25Db25zdHJhaW50ID0gY3JlYXRlTWluTWF4UmVzb2x1dGlvbihcbiAgICAgICAgbWF4UmVzb2x1dGlvbixcbiAgICAgICAgbWluUmVzb2x1dGlvbixcbiAgICAgICAgc21vb3RoLFxuICAgICAgICAhY29uc3RyYWluT25seUNlbnRlciAmJiBleHRlbnQsXG4gICAgICAgIHNob3dGdWxsRXh0ZW50XG4gICAgICApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBjYWxjdWxhdGUgdGhlIGRlZmF1bHQgbWluIGFuZCBtYXggcmVzb2x1dGlvblxuICAgIGNvbnN0IHNpemUgPSAhcHJvakV4dGVudFxuICAgICAgPyAvLyB1c2UgYW4gZXh0ZW50IHRoYXQgY2FuIGZpdCB0aGUgd2hvbGUgd29ybGQgaWYgbmVlZCBiZVxuICAgICAgICAoMzYwICogTUVURVJTX1BFUl9VTklULmRlZ3JlZXMpIC8gcHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KClcbiAgICAgIDogTWF0aC5tYXgoZ2V0V2lkdGgocHJvakV4dGVudCksIGdldEhlaWdodChwcm9qRXh0ZW50KSk7XG5cbiAgICBjb25zdCBkZWZhdWx0TWF4UmVzb2x1dGlvbiA9XG4gICAgICBzaXplIC8gREVGQVVMVF9USUxFX1NJWkUgLyBNYXRoLnBvdyhkZWZhdWx0Wm9vbUZhY3RvciwgREVGQVVMVF9NSU5fWk9PTSk7XG5cbiAgICBjb25zdCBkZWZhdWx0TWluUmVzb2x1dGlvbiA9XG4gICAgICBkZWZhdWx0TWF4UmVzb2x1dGlvbiAvXG4gICAgICBNYXRoLnBvdyhkZWZhdWx0Wm9vbUZhY3RvciwgZGVmYXVsdE1heFpvb20gLSBERUZBVUxUX01JTl9aT09NKTtcblxuICAgIC8vIHVzZXIgcHJvdmlkZWQgbWF4UmVzb2x1dGlvbiB0YWtlcyBwcmVjZWRlbmNlXG4gICAgbWF4UmVzb2x1dGlvbiA9IG9wdGlvbnMubWF4UmVzb2x1dGlvbjtcbiAgICBpZiAobWF4UmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBtaW5ab29tID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgbWF4UmVzb2x1dGlvbiA9IGRlZmF1bHRNYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coem9vbUZhY3RvciwgbWluWm9vbSk7XG4gICAgfVxuXG4gICAgLy8gdXNlciBwcm92aWRlZCBtaW5SZXNvbHV0aW9uIHRha2VzIHByZWNlZGVuY2VcbiAgICBtaW5SZXNvbHV0aW9uID0gb3B0aW9ucy5taW5SZXNvbHV0aW9uO1xuICAgIGlmIChtaW5SZXNvbHV0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChvcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAob3B0aW9ucy5tYXhSZXNvbHV0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBtaW5SZXNvbHV0aW9uID0gbWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHpvb21GYWN0b3IsIG1heFpvb20pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1pblJlc29sdXRpb24gPSBkZWZhdWx0TWF4UmVzb2x1dGlvbiAvIE1hdGgucG93KHpvb21GYWN0b3IsIG1heFpvb20pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtaW5SZXNvbHV0aW9uID0gZGVmYXVsdE1pblJlc29sdXRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZ2l2ZW4gZGlzY3JldGUgem9vbSBsZXZlbHMsIG1pblJlc29sdXRpb24gbWF5IGJlIGRpZmZlcmVudCB0aGFuIHByb3ZpZGVkXG4gICAgbWF4Wm9vbSA9XG4gICAgICBtaW5ab29tICtcbiAgICAgIE1hdGguZmxvb3IoXG4gICAgICAgIE1hdGgubG9nKG1heFJlc29sdXRpb24gLyBtaW5SZXNvbHV0aW9uKSAvIE1hdGgubG9nKHpvb21GYWN0b3IpXG4gICAgICApO1xuICAgIG1pblJlc29sdXRpb24gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coem9vbUZhY3RvciwgbWF4Wm9vbSAtIG1pblpvb20pO1xuXG4gICAgaWYgKG9wdGlvbnMuY29uc3RyYWluUmVzb2x1dGlvbikge1xuICAgICAgcmVzb2x1dGlvbkNvbnN0cmFpbnQgPSBjcmVhdGVTbmFwVG9Qb3dlcihcbiAgICAgICAgem9vbUZhY3RvcixcbiAgICAgICAgbWF4UmVzb2x1dGlvbixcbiAgICAgICAgbWluUmVzb2x1dGlvbixcbiAgICAgICAgc21vb3RoLFxuICAgICAgICAhY29uc3RyYWluT25seUNlbnRlciAmJiBleHRlbnQsXG4gICAgICAgIHNob3dGdWxsRXh0ZW50XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHV0aW9uQ29uc3RyYWludCA9IGNyZWF0ZU1pbk1heFJlc29sdXRpb24oXG4gICAgICAgIG1heFJlc29sdXRpb24sXG4gICAgICAgIG1pblJlc29sdXRpb24sXG4gICAgICAgIHNtb290aCxcbiAgICAgICAgIWNvbnN0cmFpbk9ubHlDZW50ZXIgJiYgZXh0ZW50LFxuICAgICAgICBzaG93RnVsbEV4dGVudFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBjb25zdHJhaW50OiByZXNvbHV0aW9uQ29uc3RyYWludCxcbiAgICBtYXhSZXNvbHV0aW9uOiBtYXhSZXNvbHV0aW9uLFxuICAgIG1pblJlc29sdXRpb246IG1pblJlc29sdXRpb24sXG4gICAgbWluWm9vbTogbWluWm9vbSxcbiAgICB6b29tRmFjdG9yOiB6b29tRmFjdG9yLFxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Vmlld09wdGlvbnN9IG9wdGlvbnMgVmlldyBvcHRpb25zLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9yb3RhdGlvbmNvbnN0cmFpbnQuanNcIikuVHlwZX0gUm90YXRpb24gY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJvdGF0aW9uQ29uc3RyYWludChvcHRpb25zKSB7XG4gIGNvbnN0IGVuYWJsZVJvdGF0aW9uID1cbiAgICBvcHRpb25zLmVuYWJsZVJvdGF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmVuYWJsZVJvdGF0aW9uIDogdHJ1ZTtcbiAgaWYgKGVuYWJsZVJvdGF0aW9uKSB7XG4gICAgY29uc3QgY29uc3RyYWluUm90YXRpb24gPSBvcHRpb25zLmNvbnN0cmFpblJvdGF0aW9uO1xuICAgIGlmIChjb25zdHJhaW5Sb3RhdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGNvbnN0cmFpblJvdGF0aW9uID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gY3JlYXRlU25hcFRvWmVybygpO1xuICAgIH0gZWxzZSBpZiAoY29uc3RyYWluUm90YXRpb24gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gcm90YXRpb25Ob25lO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbnN0cmFpblJvdGF0aW9uID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVNuYXBUb04oY29uc3RyYWluUm90YXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gcm90YXRpb25Ob25lO1xuICB9XG4gIHJldHVybiBkaXNhYmxlO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhbiBhbmltYXRpb24gaW52b2x2ZXMgbm8gdmlldyBjaGFuZ2UuXG4gKiBAcGFyYW0ge0FuaW1hdGlvbn0gYW5pbWF0aW9uIFRoZSBhbmltYXRpb24uXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgYW5pbWF0aW9uIGludm9sdmVzIG5vIHZpZXcgY2hhbmdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOb29wQW5pbWF0aW9uKGFuaW1hdGlvbikge1xuICBpZiAoYW5pbWF0aW9uLnNvdXJjZUNlbnRlciAmJiBhbmltYXRpb24udGFyZ2V0Q2VudGVyKSB7XG4gICAgaWYgKCFjb29yZGluYXRlc0VxdWFsKGFuaW1hdGlvbi5zb3VyY2VDZW50ZXIsIGFuaW1hdGlvbi50YXJnZXRDZW50ZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChhbmltYXRpb24uc291cmNlUmVzb2x1dGlvbiAhPT0gYW5pbWF0aW9uLnRhcmdldFJlc29sdXRpb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGFuaW1hdGlvbi5zb3VyY2VSb3RhdGlvbiAhPT0gYW5pbWF0aW9uLnRhcmdldFJvdGF0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgQm94IHBpeGVsIHNpemUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBvc2l0aW9uIFBvc2l0aW9uIG9uIHRoZSB2aWV3IHRvIGNlbnRlciBvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gU2hpZnRlZCBjZW50ZXIuXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZUNlbnRlck9uKGNvb3JkaW5hdGUsIHNpemUsIHBvc2l0aW9uLCByZXNvbHV0aW9uLCByb3RhdGlvbikge1xuICAvLyBjYWxjdWxhdGUgcm90YXRlZCBwb3NpdGlvblxuICBjb25zdCBjb3NBbmdsZSA9IE1hdGguY29zKC1yb3RhdGlvbik7XG4gIGxldCBzaW5BbmdsZSA9IE1hdGguc2luKC1yb3RhdGlvbik7XG4gIGxldCByb3RYID0gY29vcmRpbmF0ZVswXSAqIGNvc0FuZ2xlIC0gY29vcmRpbmF0ZVsxXSAqIHNpbkFuZ2xlO1xuICBsZXQgcm90WSA9IGNvb3JkaW5hdGVbMV0gKiBjb3NBbmdsZSArIGNvb3JkaW5hdGVbMF0gKiBzaW5BbmdsZTtcbiAgcm90WCArPSAoc2l6ZVswXSAvIDIgLSBwb3NpdGlvblswXSkgKiByZXNvbHV0aW9uO1xuICByb3RZICs9IChwb3NpdGlvblsxXSAtIHNpemVbMV0gLyAyKSAqIHJlc29sdXRpb247XG5cbiAgLy8gZ28gYmFjayB0byBvcmlnaW5hbCBhbmdsZVxuICBzaW5BbmdsZSA9IC1zaW5BbmdsZTsgLy8gZ28gYmFjayB0byBvcmlnaW5hbCByb3RhdGlvblxuICBjb25zdCBjZW50ZXJYID0gcm90WCAqIGNvc0FuZ2xlIC0gcm90WSAqIHNpbkFuZ2xlO1xuICBjb25zdCBjZW50ZXJZID0gcm90WSAqIGNvc0FuZ2xlICsgcm90WCAqIHNpbkFuZ2xlO1xuXG4gIHJldHVybiBbY2VudGVyWCwgY2VudGVyWV07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXc7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvVmlld0hpbnRcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgQU5JTUFUSU5HOiAwLFxuICBJTlRFUkFDVElORzogMSxcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvYXJyYXlcbiAqL1xuXG4vKipcbiAqIFBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvbiB0aGUgcHJvdmlkZWQgc29ydGVkIGxpc3QgYW5kIHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBpdGVtIGlmIGZvdW5kLiBJZiBpdCBjYW4ndCBiZSBmb3VuZCBpdCdsbCByZXR1cm4gLTEuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZGFya3NreWFwcC9iaW5hcnktc2VhcmNoXG4gKlxuICogQHBhcmFtIHtBcnJheTwqPn0gaGF5c3RhY2sgSXRlbXMgdG8gc2VhcmNoIHRocm91Z2guXG4gKiBAcGFyYW0geyp9IG5lZWRsZSBUaGUgaXRlbSB0byBsb29rIGZvci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBDb21wYXJhdG9yIGZ1bmN0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIGl0ZW0gaWYgZm91bmQsIC0xIGlmIG5vdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmFyeVNlYXJjaChoYXlzdGFjaywgbmVlZGxlLCBjb21wYXJhdG9yKSB7XG4gIGxldCBtaWQsIGNtcDtcbiAgY29tcGFyYXRvciA9IGNvbXBhcmF0b3IgfHwgYXNjZW5kaW5nO1xuICBsZXQgbG93ID0gMDtcbiAgbGV0IGhpZ2ggPSBoYXlzdGFjay5sZW5ndGg7XG4gIGxldCBmb3VuZCA9IGZhbHNlO1xuXG4gIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgLyogTm90ZSB0aGF0IFwiKGxvdyArIGhpZ2gpID4+PiAxXCIgbWF5IG92ZXJmbG93LCBhbmQgcmVzdWx0cyBpbiBhIHR5cGVjYXN0XG4gICAgICogdG8gZG91YmxlICh3aGljaCBnaXZlcyB0aGUgd3JvbmcgcmVzdWx0cykuICovXG4gICAgbWlkID0gbG93ICsgKChoaWdoIC0gbG93KSA+PiAxKTtcbiAgICBjbXAgPSArY29tcGFyYXRvcihoYXlzdGFja1ttaWRdLCBuZWVkbGUpO1xuXG4gICAgaWYgKGNtcCA8IDAuMCkge1xuICAgICAgLyogVG9vIGxvdy4gKi9cbiAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIEtleSBmb3VuZCBvciB0b28gaGlnaCAqL1xuICAgICAgaGlnaCA9IG1pZDtcbiAgICAgIGZvdW5kID0gIWNtcDtcbiAgICB9XG4gIH1cblxuICAvKiBLZXkgbm90IGZvdW5kLiAqL1xuICByZXR1cm4gZm91bmQgPyBsb3cgOiB+bG93O1xufVxuXG4vKipcbiAqIENvbXBhcmUgZnVuY3Rpb24gc29ydGluZyBhcnJheXMgaW4gYXNjZW5kaW5nIG9yZGVyLiAgU2FmZSB0byB1c2UgZm9yIG51bWVyaWMgdmFsdWVzLlxuICogQHBhcmFtIHsqfSBhIFRoZSBmaXJzdCBvYmplY3QgdG8gYmUgY29tcGFyZWQuXG4gKiBAcGFyYW0geyp9IGIgVGhlIHNlY29uZCBvYmplY3QgdG8gYmUgY29tcGFyZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgbmVnYXRpdmUgbnVtYmVyLCB6ZXJvLCBvciBhIHBvc2l0aXZlIG51bWJlciBhcyB0aGUgZmlyc3RcbiAqICAgICBhcmd1bWVudCBpcyBsZXNzIHRoYW4sIGVxdWFsIHRvLCBvciBncmVhdGVyIHRoYW4gdGhlIHNlY29uZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7XG4gIHJldHVybiBhID4gYiA/IDEgOiBhIDwgYiA/IC0xIDogMDtcbn1cblxuLyoqXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3RpbGVncmlkL1RpbGVHcmlkflRpbGVHcmlkI2dldFpGb3JSZXNvbHV0aW9ufSBjYW4gdXNlIGEgZnVuY3Rpb25cbiAqIG9mIHRoaXMgdHlwZSB0byBkZXRlcm1pbmUgd2hpY2ggbmVhcmVzdCByZXNvbHV0aW9uIHRvIHVzZS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIGEgYHtudW1iZXJ9YCByZXByZXNlbnRpbmcgYSB2YWx1ZSBiZXR3ZWVuIHR3byBhcnJheSBlbnRyaWVzLFxuICogYSBge251bWJlcn1gIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhlIG5lYXJlc3QgaGlnaGVyIGVudHJ5IGFuZFxuICogYSBge251bWJlcn1gIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhlIG5lYXJlc3QgbG93ZXIgZW50cnlcbiAqIGFzIGFyZ3VtZW50cyBhbmQgcmV0dXJucyBhIGB7bnVtYmVyfWAuIElmIGEgbmVnYXRpdmUgbnVtYmVyIG9yIHplcm8gaXMgcmV0dXJuZWRcbiAqIHRoZSBsb3dlciB2YWx1ZSB3aWxsIGJlIHVzZWQsIGlmIGEgcG9zaXRpdmUgbnVtYmVyIGlzIHJldHVybmVkIHRoZSBoaWdoZXIgdmFsdWVcbiAqIHdpbGwgYmUgdXNlZC5cbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihudW1iZXIsIG51bWJlciwgbnVtYmVyKTogbnVtYmVyfSBOZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYXJyIEFycmF5IGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0IFRhcmdldC5cbiAqIEBwYXJhbSB7bnVtYmVyfE5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gZGlyZWN0aW9uXG4gKiAgICAwIG1lYW5zIHJldHVybiB0aGUgbmVhcmVzdCxcbiAqICAgID4gMCBtZWFucyByZXR1cm4gdGhlIGxhcmdlc3QgbmVhcmVzdCxcbiAqICAgIDwgMCBtZWFucyByZXR1cm4gdGhlIHNtYWxsZXN0IG5lYXJlc3QuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEluZGV4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyRmluZE5lYXJlc3QoYXJyLCB0YXJnZXQsIGRpcmVjdGlvbikge1xuICBjb25zdCBuID0gYXJyLmxlbmd0aDtcbiAgaWYgKGFyclswXSA8PSB0YXJnZXQpIHtcbiAgICByZXR1cm4gMDtcbiAgfSBlbHNlIGlmICh0YXJnZXQgPD0gYXJyW24gLSAxXSkge1xuICAgIHJldHVybiBuIC0gMTtcbiAgfVxuICBsZXQgaTtcbiAgaWYgKGRpcmVjdGlvbiA+IDApIHtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoYXJyW2ldIDwgdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBpIC0gMTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoZGlyZWN0aW9uIDwgMCkge1xuICAgIGZvciAoaSA9IDE7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChhcnJbaV0gPD0gdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoYXJyW2ldID09IHRhcmdldCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH0gZWxzZSBpZiAoYXJyW2ldIDwgdGFyZ2V0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGlyZWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaWYgKGRpcmVjdGlvbih0YXJnZXQsIGFycltpIC0gMV0sIGFycltpXSkgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gaSAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKGFycltpIC0gMV0gLSB0YXJnZXQgPCB0YXJnZXQgLSBhcnJbaV0pIHtcbiAgICAgICAgICByZXR1cm4gaSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBuIC0gMTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBhcnIgQXJyYXkuXG4gKiBAcGFyYW0ge251bWJlcn0gYmVnaW4gQmVnaW4gaW5kZXguXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZCBpbmRleC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJldmVyc2VTdWJBcnJheShhcnIsIGJlZ2luLCBlbmQpIHtcbiAgd2hpbGUgKGJlZ2luIDwgZW5kKSB7XG4gICAgY29uc3QgdG1wID0gYXJyW2JlZ2luXTtcbiAgICBhcnJbYmVnaW5dID0gYXJyW2VuZF07XG4gICAgYXJyW2VuZF0gPSB0bXA7XG4gICAgKytiZWdpbjtcbiAgICAtLWVuZDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8VkFMVUU+fSBhcnIgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7IUFycmF5PFZBTFVFPnxWQUxVRX0gZGF0YSBUaGUgZWxlbWVudHMgb3IgYXJyYXlzIG9mIGVsZW1lbnRzIHRvIGFkZCB0byBhcnIuXG4gKiBAdGVtcGxhdGUgVkFMVUVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChhcnIsIGRhdGEpIHtcbiAgY29uc3QgZXh0ZW5zaW9uID0gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV07XG4gIGNvbnN0IGxlbmd0aCA9IGV4dGVuc2lvbi5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBhcnJbYXJyLmxlbmd0aF0gPSBleHRlbnNpb25baV07XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFZBTFVFPn0gYXJyIFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge1ZBTFVFfSBvYmogVGhlIGVsZW1lbnQgdG8gcmVtb3ZlLlxuICogQHRlbXBsYXRlIFZBTFVFXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgZWxlbWVudCB3YXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnIsIG9iaikge1xuICBjb25zdCBpID0gYXJyLmluZGV4T2Yob2JqKTtcbiAgY29uc3QgZm91bmQgPSBpID4gLTE7XG4gIGlmIChmb3VuZCkge1xuICAgIGFyci5zcGxpY2UoaSwgMSk7XG4gIH1cbiAgcmV0dXJuIGZvdW5kO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXl8VWludDhDbGFtcGVkQXJyYXl9IGFycjEgVGhlIGZpcnN0IGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0FycmF5fFVpbnQ4Q2xhbXBlZEFycmF5fSBhcnIyIFRoZSBzZWNvbmQgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHR3byBhcnJheXMgYXJlIGVxdWFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGFycjEsIGFycjIpIHtcbiAgY29uc3QgbGVuMSA9IGFycjEubGVuZ3RoO1xuICBpZiAobGVuMSAhPT0gYXJyMi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW4xOyBpKyspIHtcbiAgICBpZiAoYXJyMVtpXSAhPT0gYXJyMltpXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBTb3J0IHRoZSBwYXNzZWQgYXJyYXkgc3VjaCB0aGF0IHRoZSByZWxhdGl2ZSBvcmRlciBvZiBlcXVhbCBlbGVtZW50cyBpcyBwcmVzZXJ2ZWQuXG4gKiBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU29ydGluZ19hbGdvcml0aG0jU3RhYmlsaXR5IGZvciBkZXRhaWxzLlxuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSBhcnJheSB0byBzb3J0IChtb2RpZmllcyBvcmlnaW5hbCkuXG4gKiBAcGFyYW0geyFmdW5jdGlvbigqLCAqKTogbnVtYmVyfSBjb21wYXJlRm5jIENvbXBhcmlzb24gZnVuY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFibGVTb3J0KGFyciwgY29tcGFyZUZuYykge1xuICBjb25zdCBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICBjb25zdCB0bXAgPSBBcnJheShhcnIubGVuZ3RoKTtcbiAgbGV0IGk7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHRtcFtpXSA9IHtpbmRleDogaSwgdmFsdWU6IGFycltpXX07XG4gIH1cbiAgdG1wLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gY29tcGFyZUZuYyhhLnZhbHVlLCBiLnZhbHVlKSB8fCBhLmluZGV4IC0gYi5pbmRleDtcbiAgfSk7XG4gIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBhcnJbaV0gPSB0bXBbaV0udmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBhcnIgVGhlIGFycmF5IHRvIHRlc3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gQ29tcGFyaXNvbiBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF0gU3RyaWN0bHkgc29ydGVkIChkZWZhdWx0IGZhbHNlKS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybiBpbmRleC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU29ydGVkKGFyciwgZnVuYywgc3RyaWN0KSB7XG4gIGNvbnN0IGNvbXBhcmUgPSBmdW5jIHx8IGFzY2VuZGluZztcbiAgcmV0dXJuIGFyci5ldmVyeShmdW5jdGlvbiAoY3VycmVudFZhbCwgaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBjb21wYXJlKGFycltpbmRleCAtIDFdLCBjdXJyZW50VmFsKTtcbiAgICByZXR1cm4gIShyZXMgPiAwIHx8IChzdHJpY3QgJiYgcmVzID09PSAwKSk7XG4gIH0pO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Fzc2VydHNcbiAqL1xuaW1wb3J0IEFzc2VydGlvbkVycm9yIGZyb20gJy4vQXNzZXJ0aW9uRXJyb3IuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7Kn0gYXNzZXJ0aW9uIEFzc2VydGlvbiB3ZSBleHBlY3RlZCB0byBiZSB0cnV0aHkuXG4gKiBAcGFyYW0ge251bWJlcn0gZXJyb3JDb2RlIEVycm9yIGNvZGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoYXNzZXJ0aW9uLCBlcnJvckNvZGUpIHtcbiAgaWYgKCFhc3NlcnRpb24pIHtcbiAgICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3IoZXJyb3JDb2RlKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbG9yXG4gKi9cbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtjbGFtcH0gZnJvbSAnLi9tYXRoLmpzJztcblxuLyoqXG4gKiBBIGNvbG9yIHJlcHJlc2VudGVkIGFzIGEgc2hvcnQgYXJyYXkgW3JlZCwgZ3JlZW4sIGJsdWUsIGFscGhhXS5cbiAqIHJlZCwgZ3JlZW4sIGFuZCBibHVlIHNob3VsZCBiZSBpbnRlZ2VycyBpbiB0aGUgcmFuZ2UgMC4uMjU1IGluY2x1c2l2ZS5cbiAqIGFscGhhIHNob3VsZCBiZSBhIGZsb2F0IGluIHRoZSByYW5nZSAwLi4xIGluY2x1c2l2ZS4gSWYgbm8gYWxwaGEgdmFsdWUgaXNcbiAqIGdpdmVuIHRoZW4gYDFgIHdpbGwgYmUgdXNlZC5cbiAqIEB0eXBlZGVmIHtBcnJheTxudW1iZXI+fSBDb2xvclxuICogQGFwaVxuICovXG5cbi8qKlxuICogVGhpcyBSZWdFeHAgbWF0Y2hlcyAjIGZvbGxvd2VkIGJ5IDMsIDQsIDYsIG9yIDggaGV4IGRpZ2l0cy5cbiAqIEBjb25zdFxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IEhFWF9DT0xPUl9SRV8gPSAvXiMoW2EtZjAtOV17M318W2EtZjAtOV17NH0oPzpbYS1mMC05XXsyfSl7MCwyfSkkL2k7XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIGZvciBtYXRjaGluZyBwb3RlbnRpYWwgbmFtZWQgY29sb3Igc3R5bGUgc3RyaW5ncy5cbiAqIEBjb25zdFxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IE5BTUVEX0NPTE9SX1JFXyA9IC9eKFthLXpdKikkfF5oc2xhP1xcKC4qXFwpJC9pO1xuXG4vKipcbiAqIFJldHVybiB0aGUgY29sb3IgYXMgYW4gcmdiYSBzdHJpbmcuXG4gKiBAcGFyYW0ge0NvbG9yfHN0cmluZ30gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFJnYmEgc3RyaW5nLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNTdHJpbmcoY29sb3IpIHtcbiAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH1cbiAgcmV0dXJuIHRvU3RyaW5nKGNvbG9yKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gbmFtZWQgY29sb3IgYXMgYW4gcmdiYSBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgTmFtZWQgY29sb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFJnYiBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGZyb21OYW1lZChjb2xvcikge1xuICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBlbC5zdHlsZS5jb2xvciA9IGNvbG9yO1xuICBpZiAoZWwuc3R5bGUuY29sb3IgIT09ICcnKSB7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XG4gICAgY29uc3QgcmdiID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCkuY29sb3I7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XG4gICAgcmV0dXJuIHJnYjtcbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHMgU3RyaW5nLlxuICogQHJldHVybiB7Q29sb3J9IENvbG9yLlxuICovXG5leHBvcnQgY29uc3QgZnJvbVN0cmluZyA9IChmdW5jdGlvbiAoKSB7XG4gIC8vIFdlIG1haW50YWluIGEgc21hbGwgY2FjaGUgb2YgcGFyc2VkIHN0cmluZ3MuICBUbyBwcm92aWRlIGNoZWFwIExSVS1saWtlXG4gIC8vIHNlbWFudGljcywgd2hlbmV2ZXIgdGhlIGNhY2hlIGdyb3dzIHRvbyBsYXJnZSB3ZSBzaW1wbHkgZGVsZXRlIGFuXG4gIC8vIGFyYml0cmFyeSAyNSUgb2YgdGhlIGVudHJpZXMuXG5cbiAgLyoqXG4gICAqIEBjb25zdFxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgY29uc3QgTUFYX0NBQ0hFX1NJWkUgPSAxMDI0O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgQ29sb3I+fVxuICAgKi9cbiAgY29uc3QgY2FjaGUgPSB7fTtcblxuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIGxldCBjYWNoZVNpemUgPSAwO1xuXG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHMgU3RyaW5nLlxuICAgICAqIEByZXR1cm4ge0NvbG9yfSBDb2xvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocykge1xuICAgICAgbGV0IGNvbG9yO1xuICAgICAgaWYgKGNhY2hlLmhhc093blByb3BlcnR5KHMpKSB7XG4gICAgICAgIGNvbG9yID0gY2FjaGVbc107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY2FjaGVTaXplID49IE1BWF9DQUNIRV9TSVpFKSB7XG4gICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNhY2hlKSB7XG4gICAgICAgICAgICBpZiAoKGkrKyAmIDMpID09PSAwKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBjYWNoZVtrZXldO1xuICAgICAgICAgICAgICAtLWNhY2hlU2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29sb3IgPSBmcm9tU3RyaW5nSW50ZXJuYWxfKHMpO1xuICAgICAgICBjYWNoZVtzXSA9IGNvbG9yO1xuICAgICAgICArK2NhY2hlU2l6ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG4gICk7XG59KSgpO1xuXG4vKipcbiAqIFJldHVybiB0aGUgY29sb3IgYXMgYW4gYXJyYXkuIFRoaXMgZnVuY3Rpb24gbWFpbnRhaW5zIGEgY2FjaGUgb2YgY2FsY3VsYXRlZFxuICogYXJyYXlzIHdoaWNoIG1lYW5zIHRoZSByZXN1bHQgc2hvdWxkIG5vdCBiZSBtb2RpZmllZC5cbiAqIEBwYXJhbSB7Q29sb3J8c3RyaW5nfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge0NvbG9yfSBDb2xvci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzQXJyYXkoY29sb3IpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG4gIHJldHVybiBmcm9tU3RyaW5nKGNvbG9yKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcyBTdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7Q29sb3J9IENvbG9yLlxuICovXG5mdW5jdGlvbiBmcm9tU3RyaW5nSW50ZXJuYWxfKHMpIHtcbiAgbGV0IHIsIGcsIGIsIGEsIGNvbG9yO1xuXG4gIGlmIChOQU1FRF9DT0xPUl9SRV8uZXhlYyhzKSkge1xuICAgIHMgPSBmcm9tTmFtZWQocyk7XG4gIH1cblxuICBpZiAoSEVYX0NPTE9SX1JFXy5leGVjKHMpKSB7XG4gICAgLy8gaGV4XG4gICAgY29uc3QgbiA9IHMubGVuZ3RoIC0gMTsgLy8gbnVtYmVyIG9mIGhleCBkaWdpdHNcbiAgICBsZXQgZDsgLy8gbnVtYmVyIG9mIGRpZ2l0cyBwZXIgY2hhbm5lbFxuICAgIGlmIChuIDw9IDQpIHtcbiAgICAgIGQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBkID0gMjtcbiAgICB9XG4gICAgY29uc3QgaGFzQWxwaGEgPSBuID09PSA0IHx8IG4gPT09IDg7XG4gICAgciA9IHBhcnNlSW50KHMuc3Vic3RyKDEgKyAwICogZCwgZCksIDE2KTtcbiAgICBnID0gcGFyc2VJbnQocy5zdWJzdHIoMSArIDEgKiBkLCBkKSwgMTYpO1xuICAgIGIgPSBwYXJzZUludChzLnN1YnN0cigxICsgMiAqIGQsIGQpLCAxNik7XG4gICAgaWYgKGhhc0FscGhhKSB7XG4gICAgICBhID0gcGFyc2VJbnQocy5zdWJzdHIoMSArIDMgKiBkLCBkKSwgMTYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhID0gMjU1O1xuICAgIH1cbiAgICBpZiAoZCA9PSAxKSB7XG4gICAgICByID0gKHIgPDwgNCkgKyByO1xuICAgICAgZyA9IChnIDw8IDQpICsgZztcbiAgICAgIGIgPSAoYiA8PCA0KSArIGI7XG4gICAgICBpZiAoaGFzQWxwaGEpIHtcbiAgICAgICAgYSA9IChhIDw8IDQpICsgYTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29sb3IgPSBbciwgZywgYiwgYSAvIDI1NV07XG4gIH0gZWxzZSBpZiAocy5zdGFydHNXaXRoKCdyZ2JhKCcpKSB7XG4gICAgLy8gcmdiYSgpXG4gICAgY29sb3IgPSBzLnNsaWNlKDUsIC0xKS5zcGxpdCgnLCcpLm1hcChOdW1iZXIpO1xuICAgIG5vcm1hbGl6ZShjb2xvcik7XG4gIH0gZWxzZSBpZiAocy5zdGFydHNXaXRoKCdyZ2IoJykpIHtcbiAgICAvLyByZ2IoKVxuICAgIGNvbG9yID0gcy5zbGljZSg0LCAtMSkuc3BsaXQoJywnKS5tYXAoTnVtYmVyKTtcbiAgICBjb2xvci5wdXNoKDEpO1xuICAgIG5vcm1hbGl6ZShjb2xvcik7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KGZhbHNlLCAxNCk7IC8vIEludmFsaWQgY29sb3JcbiAgfVxuICByZXR1cm4gY29sb3I7XG59XG5cbi8qKlxuICogVE9ETyB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgdXNlZCBpbiB0aGUgdGVzdCwgd2UgcHJvYmFibHkgc2hvdWxkbid0IGV4cG9ydCBpdFxuICogQHBhcmFtIHtDb2xvcn0gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtDb2xvcn0gQ2xhbXBlZCBjb2xvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShjb2xvcikge1xuICBjb2xvclswXSA9IGNsYW1wKChjb2xvclswXSArIDAuNSkgfCAwLCAwLCAyNTUpO1xuICBjb2xvclsxXSA9IGNsYW1wKChjb2xvclsxXSArIDAuNSkgfCAwLCAwLCAyNTUpO1xuICBjb2xvclsyXSA9IGNsYW1wKChjb2xvclsyXSArIDAuNSkgfCAwLCAwLCAyNTUpO1xuICBjb2xvclszXSA9IGNsYW1wKGNvbG9yWzNdLCAwLCAxKTtcbiAgcmV0dXJuIGNvbG9yO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29sb3J9IGNvbG9yIENvbG9yLlxuICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZyhjb2xvcikge1xuICBsZXQgciA9IGNvbG9yWzBdO1xuICBpZiAociAhPSAociB8IDApKSB7XG4gICAgciA9IChyICsgMC41KSB8IDA7XG4gIH1cbiAgbGV0IGcgPSBjb2xvclsxXTtcbiAgaWYgKGcgIT0gKGcgfCAwKSkge1xuICAgIGcgPSAoZyArIDAuNSkgfCAwO1xuICB9XG4gIGxldCBiID0gY29sb3JbMl07XG4gIGlmIChiICE9IChiIHwgMCkpIHtcbiAgICBiID0gKGIgKyAwLjUpIHwgMDtcbiAgfVxuICBjb25zdCBhID0gY29sb3JbM10gPT09IHVuZGVmaW5lZCA/IDEgOiBNYXRoLnJvdW5kKGNvbG9yWzNdICogMTAwKSAvIDEwMDtcbiAgcmV0dXJuICdyZ2JhKCcgKyByICsgJywnICsgZyArICcsJyArIGIgKyAnLCcgKyBhICsgJyknO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzIFN0cmluZy5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHN0cmluZyBpcyBhY3R1YWxseSBhIHZhbGlkIGNvbG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZ0NvbG9yKHMpIHtcbiAgaWYgKE5BTUVEX0NPTE9SX1JFXy50ZXN0KHMpKSB7XG4gICAgcyA9IGZyb21OYW1lZChzKTtcbiAgfVxuICByZXR1cm4gSEVYX0NPTE9SX1JFXy50ZXN0KHMpIHx8IHMuc3RhcnRzV2l0aCgncmdiYSgnKSB8fCBzLnN0YXJ0c1dpdGgoJ3JnYignKTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9jb2xvcmxpa2VcbiAqL1xuaW1wb3J0IHt0b1N0cmluZ30gZnJvbSAnLi9jb2xvci5qcyc7XG5cbi8qKlxuICogQSB0eXBlIGFjY2VwdGVkIGJ5IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5maWxsU3R5bGVcbiAqIG9yIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5zdHJva2VTdHlsZS5cbiAqIFJlcHJlc2VudHMgYSBjb2xvciwgcGF0dGVybiwgb3IgZ3JhZGllbnQuIFRoZSBvcmlnaW4gZm9yIHBhdHRlcm5zIGFuZFxuICogZ3JhZGllbnRzIGFzIGZpbGwgc3R5bGUgaXMgYW4gaW5jcmVtZW50IG9mIDUxMiBjc3MgcGl4ZWxzIGZyb20gbWFwIGNvb3JkaW5hdGVcbiAqIGBbMCwgMF1gLiBGb3Igc2VhbWxlc3MgcmVwZWF0IHBhdHRlcm5zLCB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBwYXR0ZXJuIGltYWdlXG4gKiBtdXN0IGJlIGEgZmFjdG9yIG9mIHR3byAoMiwgNCwgOCwgLi4uLCA1MTIpLlxuICpcbiAqIEB0eXBlZGVmIHtzdHJpbmd8Q2FudmFzUGF0dGVybnxDYW52YXNHcmFkaWVudH0gQ29sb3JMaWtlXG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29sb3IuanNcIikuQ29sb3J8Q29sb3JMaWtlfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge0NvbG9yTGlrZX0gVGhlIGNvbG9yIGFzIGFuIHtAbGluayBvbC9jb2xvcmxpa2V+Q29sb3JMaWtlfS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzQ29sb3JMaWtlKGNvbG9yKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGNvbG9yKSkge1xuICAgIHJldHVybiB0b1N0cmluZyhjb2xvcik7XG4gIH1cbiAgcmV0dXJuIGNvbG9yO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2NvbnNvbGVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsnaW5mbyd8J3dhcm4nfCdlcnJvcid8J25vbmUnfSBMZXZlbFxuICovXG5cbi8qKlxuICogQHR5cGUge09iamVjdDxMZXZlbCwgbnVtYmVyPn1cbiAqL1xuY29uc3QgbGV2ZWxzID0ge1xuICBpbmZvOiAxLFxuICB3YXJuOiAyLFxuICBlcnJvcjogMyxcbiAgbm9uZTogNCxcbn07XG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqL1xubGV0IGxldmVsID0gbGV2ZWxzLmluZm87XG5cbi8qKlxuICogU2V0IHRoZSBsb2dnaW5nIGxldmVsLiAgQnkgZGVmYXVsdCwgdGhlIGxldmVsIGlzIHNldCB0byAnaW5mbycgYW5kIGFsbFxuICogbWVzc2FnZXMgd2lsbCBiZSBsb2dnZWQuICBTZXQgdG8gJ3dhcm4nIHRvIG9ubHkgZGlzcGxheSB3YXJuaW5ncyBhbmQgZXJyb3JzLlxuICogU2V0IHRvICdlcnJvcicgdG8gb25seSBkaXNwbGF5IGVycm9ycy4gIFNldCB0byAnbm9uZScgdG8gc2lsZW5jZSBhbGwgbWVzc2FnZXMuXG4gKlxuICogQHBhcmFtIHtMZXZlbH0gbCBUaGUgbmV3IGxldmVsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0TGV2ZWwobCkge1xuICBsZXZlbCA9IGxldmVsc1tsXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZyguLi5hcmdzKSB7XG4gIGlmIChsZXZlbCA+IGxldmVscy5pbmZvKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUubG9nKC4uLmFyZ3MpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdhcm4oLi4uYXJncykge1xuICBpZiAobGV2ZWwgPiBsZXZlbHMud2Fybikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zb2xlLndhcm4oLi4uYXJncyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXJyb3IoLi4uYXJncykge1xuICBpZiAobGV2ZWwgPiBsZXZlbHMuZXJyb3IpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc29sZS5lcnJvciguLi5hcmdzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvY29vcmRpbmF0ZVxuICovXG5pbXBvcnQge2dldFdpZHRofSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQge21vZHVsbywgdG9GaXhlZH0gZnJvbSAnLi9tYXRoLmpzJztcbmltcG9ydCB7cGFkTnVtYmVyfSBmcm9tICcuL3N0cmluZy5qcyc7XG5cbi8qKlxuICogQW4gYXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgYW4geHkgY29vcmRpbmF0ZS4gRXhhbXBsZTogYFsxNiwgNDhdYC5cbiAqIEB0eXBlZGVmIHtBcnJheTxudW1iZXI+fSBDb29yZGluYXRlXG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYW5kXG4gKiB0cmFuc2Zvcm1zIGl0IGludG8gYSBge3N0cmluZ31gLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoQ29vcmRpbmF0ZXx1bmRlZmluZWQpKTogc3RyaW5nfSBDb29yZGluYXRlRm9ybWF0XG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiBBZGQgYGRlbHRhYCB0byBgY29vcmRpbmF0ZWAuIGBjb29yZGluYXRlYCBpcyBtb2RpZmllZCBpbiBwbGFjZSBhbmQgcmV0dXJuZWRcbiAqIGJ5IHRoZSBmdW5jdGlvbi5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBpbXBvcnQge2FkZH0gZnJvbSAnb2wvY29vcmRpbmF0ZS5qcyc7XG4gKlxuICogICAgIGNvbnN0IGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgYWRkKGNvb3JkLCBbLTIsIDRdKTtcbiAqICAgICAvLyBjb29yZCBpcyBub3cgWzUuODUsIDUxLjk4MzMzM11cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gZGVsdGEgRGVsdGEuXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBUaGUgaW5wdXQgY29vcmRpbmF0ZSBhZGp1c3RlZCBieVxuICogdGhlIGdpdmVuIGRlbHRhLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKGNvb3JkaW5hdGUsIGRlbHRhKSB7XG4gIGNvb3JkaW5hdGVbMF0gKz0gK2RlbHRhWzBdO1xuICBjb29yZGluYXRlWzFdICs9ICtkZWx0YVsxXTtcbiAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgcG9pbnQgY2xvc2VzdCB0byB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgb24gdGhlIHBhc3NlZCBjaXJjbGUuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIFRoZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGNpcmNsZSBUaGUgY2lyY2xlLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gQ2xvc2VzdCBwb2ludCBvbiB0aGUgY2lyY3VtZmVyZW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3RPbkNpcmNsZShjb29yZGluYXRlLCBjaXJjbGUpIHtcbiAgY29uc3QgciA9IGNpcmNsZS5nZXRSYWRpdXMoKTtcbiAgY29uc3QgY2VudGVyID0gY2lyY2xlLmdldENlbnRlcigpO1xuICBjb25zdCB4MCA9IGNlbnRlclswXTtcbiAgY29uc3QgeTAgPSBjZW50ZXJbMV07XG4gIGNvbnN0IHgxID0gY29vcmRpbmF0ZVswXTtcbiAgY29uc3QgeTEgPSBjb29yZGluYXRlWzFdO1xuXG4gIGxldCBkeCA9IHgxIC0geDA7XG4gIGNvbnN0IGR5ID0geTEgLSB5MDtcbiAgaWYgKGR4ID09PSAwICYmIGR5ID09PSAwKSB7XG4gICAgZHggPSAxO1xuICB9XG4gIGNvbnN0IGQgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuXG4gIGNvbnN0IHggPSB4MCArIChyICogZHgpIC8gZDtcbiAgY29uc3QgeSA9IHkwICsgKHIgKiBkeSkgLyBkO1xuXG4gIHJldHVybiBbeCwgeV07XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgcG9pbnQgY2xvc2VzdCB0byB0aGUgcGFzc2VkIGNvb3JkaW5hdGUgb24gdGhlIHBhc3NlZCBzZWdtZW50LlxuICogVGhpcyBpcyB0aGUgZm9vdCBvZiB0aGUgcGVycGVuZGljdWxhciBvZiB0aGUgY29vcmRpbmF0ZSB0byB0aGUgc2VnbWVudCB3aGVuXG4gKiB0aGUgZm9vdCBpcyBvbiB0aGUgc2VnbWVudCwgb3IgdGhlIGNsb3Nlc3Qgc2VnbWVudCBjb29yZGluYXRlIHdoZW4gdGhlIGZvb3RcbiAqIGlzIG91dHNpZGUgdGhlIHNlZ21lbnQuXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIFRoZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtBcnJheTxDb29yZGluYXRlPn0gc2VnbWVudCBUaGUgdHdvIGNvb3JkaW5hdGVzXG4gKiBvZiB0aGUgc2VnbWVudC5cbiAqIEByZXR1cm4ge0Nvb3JkaW5hdGV9IFRoZSBmb290IG9mIHRoZSBwZXJwZW5kaWN1bGFyIG9mXG4gKiB0aGUgY29vcmRpbmF0ZSB0byB0aGUgc2VnbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3RPblNlZ21lbnQoY29vcmRpbmF0ZSwgc2VnbWVudCkge1xuICBjb25zdCB4MCA9IGNvb3JkaW5hdGVbMF07XG4gIGNvbnN0IHkwID0gY29vcmRpbmF0ZVsxXTtcbiAgY29uc3Qgc3RhcnQgPSBzZWdtZW50WzBdO1xuICBjb25zdCBlbmQgPSBzZWdtZW50WzFdO1xuICBjb25zdCB4MSA9IHN0YXJ0WzBdO1xuICBjb25zdCB5MSA9IHN0YXJ0WzFdO1xuICBjb25zdCB4MiA9IGVuZFswXTtcbiAgY29uc3QgeTIgPSBlbmRbMV07XG4gIGNvbnN0IGR4ID0geDIgLSB4MTtcbiAgY29uc3QgZHkgPSB5MiAtIHkxO1xuICBjb25zdCBhbG9uZyA9XG4gICAgZHggPT09IDAgJiYgZHkgPT09IDBcbiAgICAgID8gMFxuICAgICAgOiAoZHggKiAoeDAgLSB4MSkgKyBkeSAqICh5MCAtIHkxKSkgLyAoZHggKiBkeCArIGR5ICogZHkgfHwgMCk7XG4gIGxldCB4LCB5O1xuICBpZiAoYWxvbmcgPD0gMCkge1xuICAgIHggPSB4MTtcbiAgICB5ID0geTE7XG4gIH0gZWxzZSBpZiAoYWxvbmcgPj0gMSkge1xuICAgIHggPSB4MjtcbiAgICB5ID0geTI7XG4gIH0gZWxzZSB7XG4gICAgeCA9IHgxICsgYWxvbmcgKiBkeDtcbiAgICB5ID0geTEgKyBhbG9uZyAqIGR5O1xuICB9XG4gIHJldHVybiBbeCwgeV07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlRm9ybWF0fSBmdW5jdGlvbiB0aGF0IGNhbiBiZVxuICogdXNlZCB0byBmb3JtYXRcbiAqIGEge0Nvb3JkaW5hdGV9IHRvIGEgc3RyaW5nLlxuICpcbiAqIEV4YW1wbGUgd2l0aG91dCBzcGVjaWZ5aW5nIHRoZSBmcmFjdGlvbmFsIGRpZ2l0czpcbiAqXG4gKiAgICAgaW1wb3J0IHtjcmVhdGVTdHJpbmdYWX0gZnJvbSAnb2wvY29vcmRpbmF0ZS5qcyc7XG4gKlxuICogICAgIGNvbnN0IGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgY29uc3Qgc3RyaW5naWZ5RnVuYyA9IGNyZWF0ZVN0cmluZ1hZKCk7XG4gKiAgICAgY29uc3Qgb3V0ID0gc3RyaW5naWZ5RnVuYyhjb29yZCk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnOCwgNDgnXG4gKlxuICogRXhhbXBsZSB3aXRoIGV4cGxpY2l0bHkgc3BlY2lmeWluZyAyIGZyYWN0aW9uYWwgZGlnaXRzOlxuICpcbiAqICAgICBpbXBvcnQge2NyZWF0ZVN0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlLmpzJztcbiAqXG4gKiAgICAgY29uc3QgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBjb25zdCBzdHJpbmdpZnlGdW5jID0gY3JlYXRlU3RyaW5nWFkoMik7XG4gKiAgICAgY29uc3Qgb3V0ID0gc3RyaW5naWZ5RnVuYyhjb29yZCk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnNy44NSwgNDcuOTgnXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtmcmFjdGlvbkRpZ2l0c10gVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZUZvcm1hdH0gQ29vcmRpbmF0ZSBmb3JtYXQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHJpbmdYWShmcmFjdGlvbkRpZ2l0cykge1xuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gU3RyaW5nIFhZLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmdYWShjb29yZGluYXRlLCBmcmFjdGlvbkRpZ2l0cyk7XG4gICAgfVxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBoZW1pc3BoZXJlcyBIZW1pc3BoZXJlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWdyZWVzIERlZ3JlZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gW2ZyYWN0aW9uRGlnaXRzXSBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBpbmNsdWRlXG4gKiAgICBhZnRlciB0aGUgZGVjaW1hbCBwb2ludC4gRGVmYXVsdCBpcyBgMGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZ3JlZXNUb1N0cmluZ0hETVMoaGVtaXNwaGVyZXMsIGRlZ3JlZXMsIGZyYWN0aW9uRGlnaXRzKSB7XG4gIGNvbnN0IG5vcm1hbGl6ZWREZWdyZWVzID0gbW9kdWxvKGRlZ3JlZXMgKyAxODAsIDM2MCkgLSAxODA7XG4gIGNvbnN0IHggPSBNYXRoLmFicygzNjAwICogbm9ybWFsaXplZERlZ3JlZXMpO1xuICBjb25zdCBkZWNpbWFscyA9IGZyYWN0aW9uRGlnaXRzIHx8IDA7XG5cbiAgbGV0IGRlZyA9IE1hdGguZmxvb3IoeCAvIDM2MDApO1xuICBsZXQgbWluID0gTWF0aC5mbG9vcigoeCAtIGRlZyAqIDM2MDApIC8gNjApO1xuICBsZXQgc2VjID0gdG9GaXhlZCh4IC0gZGVnICogMzYwMCAtIG1pbiAqIDYwLCBkZWNpbWFscyk7XG5cbiAgaWYgKHNlYyA+PSA2MCkge1xuICAgIHNlYyA9IDA7XG4gICAgbWluICs9IDE7XG4gIH1cblxuICBpZiAobWluID49IDYwKSB7XG4gICAgbWluID0gMDtcbiAgICBkZWcgKz0gMTtcbiAgfVxuXG4gIGxldCBoZG1zID0gZGVnICsgJ1xcdTAwYjAnO1xuICBpZiAobWluICE9PSAwIHx8IHNlYyAhPT0gMCkge1xuICAgIGhkbXMgKz0gJyAnICsgcGFkTnVtYmVyKG1pbiwgMikgKyAnXFx1MjAzMic7XG4gIH1cbiAgaWYgKHNlYyAhPT0gMCkge1xuICAgIGhkbXMgKz0gJyAnICsgcGFkTnVtYmVyKHNlYywgMiwgZGVjaW1hbHMpICsgJ1xcdTIwMzMnO1xuICB9XG4gIGlmIChub3JtYWxpemVkRGVncmVlcyAhPT0gMCkge1xuICAgIGhkbXMgKz0gJyAnICsgaGVtaXNwaGVyZXMuY2hhckF0KG5vcm1hbGl6ZWREZWdyZWVzIDwgMCA/IDEgOiAwKTtcbiAgfVxuXG4gIHJldHVybiBoZG1zO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIGdpdmVuIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlfSB0byBhIHN0cmluZ1xuICogdXNpbmcgdGhlIGdpdmVuIHN0cmluZyB0ZW1wbGF0ZS4gVGhlIHN0cmluZ3MgYHt4fWAgYW5kIGB7eX1gIGluIHRoZSB0ZW1wbGF0ZVxuICogd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSBmaXJzdCBhbmQgc2Vjb25kIGNvb3JkaW5hdGUgdmFsdWVzIHJlc3BlY3RpdmVseS5cbiAqXG4gKiBFeGFtcGxlIHdpdGhvdXQgc3BlY2lmeWluZyB0aGUgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7Zm9ybWF0fSBmcm9tICdvbC9jb29yZGluYXRlLmpzJztcbiAqXG4gKiAgICAgY29uc3QgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBjb25zdCB0ZW1wbGF0ZSA9ICdDb29yZGluYXRlIGlzICh7eH18e3l9KS4nO1xuICogICAgIGNvbnN0IG91dCA9IGZvcm1hdChjb29yZCwgdGVtcGxhdGUpO1xuICogICAgIC8vIG91dCBpcyBub3cgJ0Nvb3JkaW5hdGUgaXMgKDh8NDgpLidcbiAqXG4gKiBFeGFtcGxlIGV4cGxpY2l0bHkgc3BlY2lmeWluZyB0aGUgZnJhY3Rpb25hbCBkaWdpdHM6XG4gKlxuICogICAgIGltcG9ydCB7Zm9ybWF0fSBmcm9tICdvbC9jb29yZGluYXRlLmpzJztcbiAqXG4gKiAgICAgY29uc3QgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBjb25zdCB0ZW1wbGF0ZSA9ICdDb29yZGluYXRlIGlzICh7eH18e3l9KS4nO1xuICogICAgIGNvbnN0IG91dCA9IGZvcm1hdChjb29yZCwgdGVtcGxhdGUsIDIpO1xuICogICAgIC8vIG91dCBpcyBub3cgJ0Nvb3JkaW5hdGUgaXMgKDcuODV8NDcuOTgpLidcbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZSBBIHRlbXBsYXRlIHN0cmluZyB3aXRoIGB7eH1gIGFuZCBge3l9YCBwbGFjZWhvbGRlcnNcbiAqICAgICB0aGF0IHdpbGwgYmUgcmVwbGFjZWQgYnkgZmlyc3QgYW5kIHNlY29uZCBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZnJhY3Rpb25EaWdpdHNdIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIGluY2x1ZGVcbiAqICAgIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBEZWZhdWx0IGlzIGAwYC5cbiAqIEByZXR1cm4ge3N0cmluZ30gRm9ybWF0dGVkIGNvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQoY29vcmRpbmF0ZSwgdGVtcGxhdGUsIGZyYWN0aW9uRGlnaXRzKSB7XG4gIGlmIChjb29yZGluYXRlKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlXG4gICAgICAucmVwbGFjZSgne3h9JywgY29vcmRpbmF0ZVswXS50b0ZpeGVkKGZyYWN0aW9uRGlnaXRzKSlcbiAgICAgIC5yZXBsYWNlKCd7eX0nLCBjb29yZGluYXRlWzFdLnRvRml4ZWQoZnJhY3Rpb25EaWdpdHMpKTtcbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlMSBGaXJzdCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlMiBTZWNvbmQgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0d28gY29vcmRpbmF0ZXMgYXJlIGVxdWFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGNvb3JkaW5hdGUxLCBjb29yZGluYXRlMikge1xuICBsZXQgZXF1YWxzID0gdHJ1ZTtcbiAgZm9yIChsZXQgaSA9IGNvb3JkaW5hdGUxLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgaWYgKGNvb3JkaW5hdGUxW2ldICE9IGNvb3JkaW5hdGUyW2ldKSB7XG4gICAgICBlcXVhbHMgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZXF1YWxzO1xufVxuXG4vKipcbiAqIFJvdGF0ZSBgY29vcmRpbmF0ZWAgYnkgYGFuZ2xlYC4gYGNvb3JkaW5hdGVgIGlzIG1vZGlmaWVkIGluIHBsYWNlIGFuZFxuICogcmV0dXJuZWQgYnkgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIGltcG9ydCB7cm90YXRlfSBmcm9tICdvbC9jb29yZGluYXRlLmpzJztcbiAqXG4gKiAgICAgY29uc3QgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBjb25zdCByb3RhdGVSYWRpYW5zID0gTWF0aC5QSSAvIDI7IC8vIDkwIGRlZ3JlZXNcbiAqICAgICByb3RhdGUoY29vcmQsIHJvdGF0ZVJhZGlhbnMpO1xuICogICAgIC8vIGNvb3JkIGlzIG5vdyBbLTQ3Ljk4MzMzMywgNy44NV1cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBBbmdsZSBpbiByYWRpYW4uXG4gKiBAcmV0dXJuIHtDb29yZGluYXRlfSBDb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKGNvb3JkaW5hdGUsIGFuZ2xlKSB7XG4gIGNvbnN0IGNvc0FuZ2xlID0gTWF0aC5jb3MoYW5nbGUpO1xuICBjb25zdCBzaW5BbmdsZSA9IE1hdGguc2luKGFuZ2xlKTtcbiAgY29uc3QgeCA9IGNvb3JkaW5hdGVbMF0gKiBjb3NBbmdsZSAtIGNvb3JkaW5hdGVbMV0gKiBzaW5BbmdsZTtcbiAgY29uc3QgeSA9IGNvb3JkaW5hdGVbMV0gKiBjb3NBbmdsZSArIGNvb3JkaW5hdGVbMF0gKiBzaW5BbmdsZTtcbiAgY29vcmRpbmF0ZVswXSA9IHg7XG4gIGNvb3JkaW5hdGVbMV0gPSB5O1xuICByZXR1cm4gY29vcmRpbmF0ZTtcbn1cblxuLyoqXG4gKiBTY2FsZSBgY29vcmRpbmF0ZWAgYnkgYHNjYWxlYC4gYGNvb3JkaW5hdGVgIGlzIG1vZGlmaWVkIGluIHBsYWNlIGFuZCByZXR1cm5lZFxuICogYnkgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIGltcG9ydCB7c2NhbGUgYXMgc2NhbGVDb29yZGluYXRlfSBmcm9tICdvbC9jb29yZGluYXRlLmpzJztcbiAqXG4gKiAgICAgY29uc3QgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBjb25zdCBzY2FsZSA9IDEuMjtcbiAqICAgICBzY2FsZUNvb3JkaW5hdGUoY29vcmQsIHNjYWxlKTtcbiAqICAgICAvLyBjb29yZCBpcyBub3cgWzkuNDIsIDU3LjU3OTk5OTZdXG4gKlxuICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgU2NhbGUgZmFjdG9yLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gQ29vcmRpbmF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKGNvb3JkaW5hdGUsIHNjYWxlKSB7XG4gIGNvb3JkaW5hdGVbMF0gKj0gc2NhbGU7XG4gIGNvb3JkaW5hdGVbMV0gKj0gc2NhbGU7XG4gIHJldHVybiBjb29yZGluYXRlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmQxIEZpcnN0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkMiBTZWNvbmQgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge251bWJlcn0gU3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGNvb3JkMSBhbmQgY29vcmQyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGNvb3JkMSwgY29vcmQyKSB7XG4gIGNvbnN0IGR4ID0gY29vcmQxWzBdIC0gY29vcmQyWzBdO1xuICBjb25zdCBkeSA9IGNvb3JkMVsxXSAtIGNvb3JkMlsxXTtcbiAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmQxIEZpcnN0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkMiBTZWNvbmQgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge251bWJlcn0gRGlzdGFuY2UgYmV0d2VlbiBjb29yZDEgYW5kIGNvb3JkMi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGNvb3JkMSwgY29vcmQyKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoc3F1YXJlZERpc3RhbmNlKGNvb3JkMSwgY29vcmQyKSk7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBzcXVhcmVkIGRpc3RhbmNlIGZyb20gYSBjb29yZGluYXRlIHRvIGEgbGluZSBzZWdtZW50LlxuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlIG9mIHRoZSBwb2ludC5cbiAqIEBwYXJhbSB7QXJyYXk8Q29vcmRpbmF0ZT59IHNlZ21lbnQgTGluZSBzZWdtZW50ICgyXG4gKiBjb29yZGluYXRlcykuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFNxdWFyZWQgZGlzdGFuY2UgZnJvbSB0aGUgcG9pbnQgdG8gdGhlIGxpbmUgc2VnbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZVRvU2VnbWVudChjb29yZGluYXRlLCBzZWdtZW50KSB7XG4gIHJldHVybiBzcXVhcmVkRGlzdGFuY2UoY29vcmRpbmF0ZSwgY2xvc2VzdE9uU2VnbWVudChjb29yZGluYXRlLCBzZWdtZW50KSk7XG59XG5cbi8qKlxuICogRm9ybWF0IGEgZ2VvZ3JhcGhpYyBjb29yZGluYXRlIHdpdGggdGhlIGhlbWlzcGhlcmUsIGRlZ3JlZXMsIG1pbnV0ZXMsIGFuZFxuICogc2Vjb25kcy5cbiAqXG4gKiBFeGFtcGxlIHdpdGhvdXQgc3BlY2lmeWluZyBmcmFjdGlvbmFsIGRpZ2l0czpcbiAqXG4gKiAgICAgaW1wb3J0IHt0b1N0cmluZ0hETVN9IGZyb20gJ29sL2Nvb3JkaW5hdGUuanMnO1xuICpcbiAqICAgICBjb25zdCBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIGNvbnN0IG91dCA9IHRvU3RyaW5nSERNUyhjb29yZCk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnNDfCsCA1OOKAsiA2MOKAsyBOIDfCsCA1MOKAsiA2MOKAsyBFJ1xuICpcbiAqIEV4YW1wbGUgZXhwbGljaXRseSBzcGVjaWZ5aW5nIDEgZnJhY3Rpb25hbCBkaWdpdDpcbiAqXG4gKiAgICAgaW1wb3J0IHt0b1N0cmluZ0hETVN9IGZyb20gJ29sL2Nvb3JkaW5hdGUuanMnO1xuICpcbiAqICAgICBjb25zdCBjb29yZCA9IFs3Ljg1LCA0Ny45ODMzMzNdO1xuICogICAgIGNvbnN0IG91dCA9IHRvU3RyaW5nSERNUyhjb29yZCwgMSk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnNDfCsCA1OOKAsiA2MC4w4oCzIE4gN8KwIDUw4oCyIDYwLjDigLMgRSdcbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZnJhY3Rpb25EaWdpdHNdIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIGluY2x1ZGVcbiAqICAgIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LiBEZWZhdWx0IGlzIGAwYC5cbiAqIEByZXR1cm4ge3N0cmluZ30gSGVtaXNwaGVyZSwgZGVncmVlcywgbWludXRlcyBhbmQgc2Vjb25kcy5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3RyaW5nSERNUyhjb29yZGluYXRlLCBmcmFjdGlvbkRpZ2l0cykge1xuICBpZiAoY29vcmRpbmF0ZSkge1xuICAgIHJldHVybiAoXG4gICAgICBkZWdyZWVzVG9TdHJpbmdIRE1TKCdOUycsIGNvb3JkaW5hdGVbMV0sIGZyYWN0aW9uRGlnaXRzKSArXG4gICAgICAnICcgK1xuICAgICAgZGVncmVlc1RvU3RyaW5nSERNUygnRVcnLCBjb29yZGluYXRlWzBdLCBmcmFjdGlvbkRpZ2l0cylcbiAgICApO1xuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBGb3JtYXQgYSBjb29yZGluYXRlIGFzIGEgY29tbWEgZGVsaW1pdGVkIHN0cmluZy5cbiAqXG4gKiBFeGFtcGxlIHdpdGhvdXQgc3BlY2lmeWluZyBmcmFjdGlvbmFsIGRpZ2l0czpcbiAqXG4gKiAgICAgaW1wb3J0IHt0b1N0cmluZ1hZfSBmcm9tICdvbC9jb29yZGluYXRlLmpzJztcbiAqXG4gKiAgICAgY29uc3QgY29vcmQgPSBbNy44NSwgNDcuOTgzMzMzXTtcbiAqICAgICBjb25zdCBvdXQgPSB0b1N0cmluZ1hZKGNvb3JkKTtcbiAqICAgICAvLyBvdXQgaXMgbm93ICc4LCA0OCdcbiAqXG4gKiBFeGFtcGxlIGV4cGxpY2l0bHkgc3BlY2lmeWluZyAxIGZyYWN0aW9uYWwgZGlnaXQ6XG4gKlxuICogICAgIGltcG9ydCB7dG9TdHJpbmdYWX0gZnJvbSAnb2wvY29vcmRpbmF0ZS5qcyc7XG4gKlxuICogICAgIGNvbnN0IGNvb3JkID0gWzcuODUsIDQ3Ljk4MzMzM107XG4gKiAgICAgY29uc3Qgb3V0ID0gdG9TdHJpbmdYWShjb29yZCwgMSk7XG4gKiAgICAgLy8gb3V0IGlzIG5vdyAnNy44LCA0OC4wJ1xuICpcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtmcmFjdGlvbkRpZ2l0c10gVGhlIG51bWJlciBvZiBkaWdpdHMgdG8gaW5jbHVkZVxuICogICAgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQuIERlZmF1bHQgaXMgYDBgLlxuICogQHJldHVybiB7c3RyaW5nfSBYWS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3RyaW5nWFkoY29vcmRpbmF0ZSwgZnJhY3Rpb25EaWdpdHMpIHtcbiAgcmV0dXJuIGZvcm1hdChjb29yZGluYXRlLCAne3h9LCB7eX0nLCBmcmFjdGlvbkRpZ2l0cyk7XG59XG5cbi8qKlxuICogTW9kaWZpZXMgdGhlIHByb3ZpZGVkIGNvb3JkaW5hdGUgaW4tcGxhY2UgdG8gYmUgd2l0aGluIHRoZSByZWFsIHdvcmxkXG4gKiBleHRlbnQuIFRoZSBsb3dlciBwcm9qZWN0aW9uIGV4dGVudCBib3VuZGFyeSBpcyBpbmNsdXNpdmUsIHRoZSB1cHBlciBvbmVcbiAqIGV4Y2x1c2l2ZS5cbiAqXG4gKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHJldHVybiB7Q29vcmRpbmF0ZX0gVGhlIGNvb3JkaW5hdGUgd2l0aGluIHRoZSByZWFsIHdvcmxkIGV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBYKGNvb3JkaW5hdGUsIHByb2plY3Rpb24pIHtcbiAgaWYgKHByb2plY3Rpb24uY2FuV3JhcFgoKSkge1xuICAgIGNvbnN0IHdvcmxkV2lkdGggPSBnZXRXaWR0aChwcm9qZWN0aW9uLmdldEV4dGVudCgpKTtcbiAgICBjb25zdCB3b3JsZHNBd2F5ID0gZ2V0V29ybGRzQXdheShjb29yZGluYXRlLCBwcm9qZWN0aW9uLCB3b3JsZFdpZHRoKTtcbiAgICBpZiAod29ybGRzQXdheSkge1xuICAgICAgY29vcmRpbmF0ZVswXSAtPSB3b3JsZHNBd2F5ICogd29ybGRXaWR0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG4vKipcbiAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW3NvdXJjZUV4dGVudFdpZHRoXSBXaWR0aCBvZiB0aGUgc291cmNlIGV4dGVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gT2Zmc2V0IGluIHdvcmxkIHdpZHRocy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdvcmxkc0F3YXkoY29vcmRpbmF0ZSwgcHJvamVjdGlvbiwgc291cmNlRXh0ZW50V2lkdGgpIHtcbiAgY29uc3QgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gIGxldCB3b3JsZHNBd2F5ID0gMDtcbiAgaWYgKFxuICAgIHByb2plY3Rpb24uY2FuV3JhcFgoKSAmJlxuICAgIChjb29yZGluYXRlWzBdIDwgcHJvamVjdGlvbkV4dGVudFswXSB8fCBjb29yZGluYXRlWzBdID4gcHJvamVjdGlvbkV4dGVudFsyXSlcbiAgKSB7XG4gICAgc291cmNlRXh0ZW50V2lkdGggPSBzb3VyY2VFeHRlbnRXaWR0aCB8fCBnZXRXaWR0aChwcm9qZWN0aW9uRXh0ZW50KTtcbiAgICB3b3JsZHNBd2F5ID0gTWF0aC5mbG9vcihcbiAgICAgIChjb29yZGluYXRlWzBdIC0gcHJvamVjdGlvbkV4dGVudFswXSkgLyBzb3VyY2VFeHRlbnRXaWR0aFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHdvcmxkc0F3YXk7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvY3NzXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGb250UGFyYW1ldGVyc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0eWxlIFN0eWxlLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHZhcmlhbnQgVmFyaWFudC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB3ZWlnaHQgV2VpZ2h0LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHNpemUgU2l6ZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBsaW5lSGVpZ2h0IExpbmVIZWlnaHQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZmFtaWx5IEZhbWlseS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gZmFtaWxpZXMgRmFtaWxpZXMuXG4gKi9cblxuLyoqXG4gKiBUaGUgQ1NTIGNsYXNzIGZvciBoaWRkZW4gZmVhdHVyZS5cbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBDTEFTU19ISURERU4gPSAnb2wtaGlkZGVuJztcblxuLyoqXG4gKiBUaGUgQ1NTIGNsYXNzIHRoYXQgd2UnbGwgZ2l2ZSB0aGUgRE9NIGVsZW1lbnRzIHRvIGhhdmUgdGhlbSBzZWxlY3RhYmxlLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IENMQVNTX1NFTEVDVEFCTEUgPSAnb2wtc2VsZWN0YWJsZSc7XG5cbi8qKlxuICogVGhlIENTUyBjbGFzcyB0aGF0IHdlJ2xsIGdpdmUgdGhlIERPTSBlbGVtZW50cyB0byBoYXZlIHRoZW0gdW5zZWxlY3RhYmxlLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IENMQVNTX1VOU0VMRUNUQUJMRSA9ICdvbC11bnNlbGVjdGFibGUnO1xuXG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgZm9yIHVuc3VwcG9ydGVkIGZlYXR1cmUuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgQ0xBU1NfVU5TVVBQT1JURUQgPSAnb2wtdW5zdXBwb3J0ZWQnO1xuXG4vKipcbiAqIFRoZSBDU1MgY2xhc3MgZm9yIGNvbnRyb2xzLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IENMQVNTX0NPTlRST0wgPSAnb2wtY29udHJvbCc7XG5cbi8qKlxuICogVGhlIENTUyBjbGFzcyB0aGF0IHdlJ2xsIGdpdmUgdGhlIERPTSBlbGVtZW50cyB0aGF0IGFyZSBjb2xsYXBzZWQsIGkuZS5cbiAqIHRvIHRob3NlIGVsZW1lbnRzIHdoaWNoIHVzdWFsbHkgY2FuIGJlIGV4cGFuZGVkLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IENMQVNTX0NPTExBUFNFRCA9ICdvbC1jb2xsYXBzZWQnO1xuXG4vKipcbiAqIEZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAxMzU2OTcvcmVnZXgtdG8tcGFyc2UtYW55LWNzcy1mb250XG4gKiBAdHlwZSB7UmVnRXhwfVxuICovXG5jb25zdCBmb250UmVnRXggPSBuZXcgUmVnRXhwKFxuICBbXG4gICAgJ15cXFxccyooPz0oPzooPzpbLWEtel0rXFxcXHMqKXswLDJ9KGl0YWxpY3xvYmxpcXVlKSk/KScsXG4gICAgJyg/PSg/Oig/OlstYS16XStcXFxccyopezAsMn0oc21hbGwtY2FwcykpPyknLFxuICAgICcoPz0oPzooPzpbLWEtel0rXFxcXHMqKXswLDJ9KGJvbGQoPzplcik/fGxpZ2h0ZXJ8WzEtOV0wMCApKT8pJyxcbiAgICAnKD86KD86bm9ybWFsfFxcXFwxfFxcXFwyfFxcXFwzKVxcXFxzKil7MCwzfSgoPzp4eD8tKT8nLFxuICAgICcoPzpzbWFsbHxsYXJnZSl8bWVkaXVtfHNtYWxsZXJ8bGFyZ2VyfFtcXFxcLlxcXFxkXSsoPzpcXFxcJXxpbnxbY2VtXW18ZXh8cFtjdHhdKSknLFxuICAgICcoPzpcXFxccypcXFxcL1xcXFxzKihub3JtYWx8W1xcXFwuXFxcXGRdKyg/OlxcXFwlfGlufFtjZW1dbXxleHxwW2N0eF0pPykpJyxcbiAgICAnP1xcXFxzKihbLSxcXFxcXCJcXFxcXFwnXFxcXHNhLXpdKz8pXFxcXHMqJCcsXG4gIF0uam9pbignJyksXG4gICdpJ1xuKTtcbmNvbnN0IGZvbnRSZWdFeE1hdGNoSW5kZXggPSBbXG4gICdzdHlsZScsXG4gICd2YXJpYW50JyxcbiAgJ3dlaWdodCcsXG4gICdzaXplJyxcbiAgJ2xpbmVIZWlnaHQnLFxuICAnZmFtaWx5Jyxcbl07XG5cbi8qKlxuICogR2V0IHRoZSBsaXN0IG9mIGZvbnQgZmFtaWxpZXMgZnJvbSBhIGZvbnQgc3BlYy4gIE5vdGUgdGhhdCB0aGlzIGRvZXNuJ3Qgd29ya1xuICogZm9yIGZvbnQgZmFtaWxpZXMgdGhhdCBoYXZlIGNvbW1hcyBpbiB0aGVtLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnRTcGVjIFRoZSBDU1MgZm9udCBwcm9wZXJ0eS5cbiAqIEByZXR1cm4ge0ZvbnRQYXJhbWV0ZXJzfG51bGx9IFRoZSBmb250IHBhcmFtZXRlcnMgKG9yIG51bGwgaWYgdGhlIGlucHV0IHNwZWMgaXMgaW52YWxpZCkuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRGb250UGFyYW1ldGVycyA9IGZ1bmN0aW9uIChmb250U3BlYykge1xuICBjb25zdCBtYXRjaCA9IGZvbnRTcGVjLm1hdGNoKGZvbnRSZWdFeCk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBzdHlsZSA9IC8qKiBAdHlwZSB7Rm9udFBhcmFtZXRlcnN9ICovICh7XG4gICAgbGluZUhlaWdodDogJ25vcm1hbCcsXG4gICAgc2l6ZTogJzEuMmVtJyxcbiAgICBzdHlsZTogJ25vcm1hbCcsXG4gICAgd2VpZ2h0OiAnbm9ybWFsJyxcbiAgICB2YXJpYW50OiAnbm9ybWFsJyxcbiAgfSk7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGZvbnRSZWdFeE1hdGNoSW5kZXgubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IHZhbHVlID0gbWF0Y2hbaSArIDFdO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdHlsZVtmb250UmVnRXhNYXRjaEluZGV4W2ldXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICBzdHlsZS5mYW1pbGllcyA9IHN0eWxlLmZhbWlseS5zcGxpdCgvLFxccz8vKTtcbiAgcmV0dXJuIHN0eWxlO1xufTtcbiIsImltcG9ydCB7V09SS0VSX09GRlNDUkVFTl9DQU5WQVN9IGZyb20gJy4vaGFzLmpzJztcblxuLyoqXG4gKiBAbW9kdWxlIG9sL2RvbVxuICovXG5cbi8vRklYTUUgTW92ZSB0aGlzIGZ1bmN0aW9uIHRvIHRoZSBjYW52YXMgbW9kdWxlXG4vKipcbiAqIENyZWF0ZSBhbiBodG1sIGNhbnZhcyBlbGVtZW50IGFuZCByZXR1cm5zIGl0cyAyZCBjb250ZXh0LlxuICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aF0gQ2FudmFzIHdpZHRoLlxuICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHRdIENhbnZhcyBoZWlnaHQuXG4gKiBAcGFyYW0ge0FycmF5PEhUTUxDYW52YXNFbGVtZW50Pn0gW2NhbnZhc1Bvb2xdIENhbnZhcyBwb29sIHRvIHRha2UgZXhpc3RpbmcgY2FudmFzIGZyb20uXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFNldHRpbmdzfSBbc2V0dGluZ3NdIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFNldHRpbmdzXG4gKiBAcmV0dXJuIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IFRoZSBjb250ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FudmFzQ29udGV4dDJEKHdpZHRoLCBoZWlnaHQsIGNhbnZhc1Bvb2wsIHNldHRpbmdzKSB7XG4gIC8qKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8T2Zmc2NyZWVuQ2FudmFzfSAqL1xuICBsZXQgY2FudmFzO1xuICBpZiAoY2FudmFzUG9vbCAmJiBjYW52YXNQb29sLmxlbmd0aCkge1xuICAgIGNhbnZhcyA9IGNhbnZhc1Bvb2wuc2hpZnQoKTtcbiAgfSBlbHNlIGlmIChXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBUykge1xuICAgIGNhbnZhcyA9IG5ldyBPZmZzY3JlZW5DYW52YXMod2lkdGggfHwgMzAwLCBoZWlnaHQgfHwgMzAwKTtcbiAgfSBlbHNlIHtcbiAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgfVxuICBpZiAod2lkdGgpIHtcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgfVxuICBpZiAoaGVpZ2h0KSB7XG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgfVxuICAvL0ZJWE1FIEFsbG93IE9mZnNjcmVlbkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCBhcyByZXR1cm4gdHlwZVxuICByZXR1cm4gLyoqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICovIChcbiAgICBjYW52YXMuZ2V0Q29udGV4dCgnMmQnLCBzZXR0aW5ncylcbiAgKTtcbn1cblxuLyoqXG4gKiBSZWxlYXNlcyBjYW52YXMgbWVtb3J5IHRvIGF2b2lkIGV4Y2VlZGluZyBtZW1vcnkgbGltaXRzIGluIFNhZmFyaS5cbiAqIFNlZSBodHRwczovL3BxaW5hLm5sL2Jsb2cvdG90YWwtY2FudmFzLW1lbW9yeS11c2UtZXhjZWVkcy10aGUtbWF4aW11bS1saW1pdC9cbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWxlYXNlQ2FudmFzKGNvbnRleHQpIHtcbiAgY29uc3QgY2FudmFzID0gY29udGV4dC5jYW52YXM7XG4gIGNhbnZhcy53aWR0aCA9IDE7XG4gIGNhbnZhcy5oZWlnaHQgPSAxO1xuICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCAxLCAxKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgY29tcHV0ZWQgd2lkdGggZm9yIHRoZSBnaXZlbiBlbGVtZW50IGluY2x1ZGluZyBtYXJnaW4sXG4gKiBwYWRkaW5nIGFuZCBib3JkZXIuXG4gKiBFcXVpdmFsZW50IHRvIGpRdWVyeSdzIGAkKGVsKS5vdXRlcldpZHRoKHRydWUpYC5cbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB3aWR0aC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG91dGVyV2lkdGgoZWxlbWVudCkge1xuICBsZXQgd2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIHdpZHRoICs9IHBhcnNlSW50KHN0eWxlLm1hcmdpbkxlZnQsIDEwKSArIHBhcnNlSW50KHN0eWxlLm1hcmdpblJpZ2h0LCAxMCk7XG5cbiAgcmV0dXJuIHdpZHRoO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCBjb21wdXRlZCBoZWlnaHQgZm9yIHRoZSBnaXZlbiBlbGVtZW50IGluY2x1ZGluZyBtYXJnaW4sXG4gKiBwYWRkaW5nIGFuZCBib3JkZXIuXG4gKiBFcXVpdmFsZW50IHRvIGpRdWVyeSdzIGAkKGVsKS5vdXRlckhlaWdodCh0cnVlKWAuXG4gKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWxlbWVudCBFbGVtZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaGVpZ2h0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3V0ZXJIZWlnaHQoZWxlbWVudCkge1xuICBsZXQgaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgaGVpZ2h0ICs9IHBhcnNlSW50KHN0eWxlLm1hcmdpblRvcCwgMTApICsgcGFyc2VJbnQoc3R5bGUubWFyZ2luQm90dG9tLCAxMCk7XG5cbiAgcmV0dXJuIGhlaWdodDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5ld05vZGUgTm9kZSB0byByZXBsYWNlIG9sZCBub2RlXG4gKiBAcGFyYW0ge05vZGV9IG9sZE5vZGUgVGhlIG5vZGUgdG8gYmUgcmVwbGFjZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VOb2RlKG5ld05vZGUsIG9sZE5vZGUpIHtcbiAgY29uc3QgcGFyZW50ID0gb2xkTm9kZS5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50KSB7XG4gICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdOb2RlLCBvbGROb2RlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgbm9kZSB0byByZW1vdmUuXG4gKiBAcmV0dXJuIHtOb2RlfG51bGx9IFRoZSBub2RlIHRoYXQgd2FzIHJlbW92ZWQgb3IgbnVsbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xuICByZXR1cm4gbm9kZSAmJiBub2RlLnBhcmVudE5vZGUgPyBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSkgOiBudWxsO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBUaGUgbm9kZSB0byByZW1vdmUgdGhlIGNoaWxkcmVuIGZyb20uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDaGlsZHJlbihub2RlKSB7XG4gIHdoaWxlIChub2RlLmxhc3RDaGlsZCkge1xuICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5sYXN0Q2hpbGQpO1xuICB9XG59XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCBub2RlIHNvIHRoZXkgbWF0Y2ggdGhlXG4gKiBwcm92aWRlZCBsaXN0IG9mIGNoaWxkcmVuLiAgVGhpcyBmdW5jdGlvbiBhaW1zIHRvIGVmZmljaWVudGx5XG4gKiByZW1vdmUsIGFkZCwgYW5kIHJlb3JkZXIgY2hpbGQgbm9kZXMgd2hpbGUgbWFpbnRhaW5pbmcgYSBzaW1wbGVcbiAqIGltcGxlbWVudGF0aW9uIChpdCBpcyBub3QgZ3VhcmFudGVlZCB0byBtaW5pbWl6ZSBET00gb3BlcmF0aW9ucykuXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGhlIHBhcmVudCBub2RlIHdob3NlIGNoaWxkcmVuIG5lZWQgcmV3b3JraW5nLlxuICogQHBhcmFtIHtBcnJheTxOb2RlPn0gY2hpbGRyZW4gVGhlIGRlc2lyZWQgY2hpbGRyZW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlQ2hpbGRyZW4obm9kZSwgY2hpbGRyZW4pIHtcbiAgY29uc3Qgb2xkQ2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XG5cbiAgZm9yIChsZXQgaSA9IDA7IHRydWU7ICsraSkge1xuICAgIGNvbnN0IG9sZENoaWxkID0gb2xkQ2hpbGRyZW5baV07XG4gICAgY29uc3QgbmV3Q2hpbGQgPSBjaGlsZHJlbltpXTtcblxuICAgIC8vIGNoZWNrIGlmIG91ciB3b3JrIGlzIGRvbmVcbiAgICBpZiAoIW9sZENoaWxkICYmICFuZXdDaGlsZCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgY2hpbGRyZW4gbWF0Y2hcbiAgICBpZiAob2xkQ2hpbGQgPT09IG5ld0NoaWxkKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiBhIG5ldyBjaGlsZCBuZWVkcyB0byBiZSBhZGRlZFxuICAgIGlmICghb2xkQ2hpbGQpIHtcbiAgICAgIG5vZGUuYXBwZW5kQ2hpbGQobmV3Q2hpbGQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgYW4gb2xkIGNoaWxkIG5lZWRzIHRvIGJlIHJlbW92ZWRcbiAgICBpZiAoIW5ld0NoaWxkKSB7XG4gICAgICBub2RlLnJlbW92ZUNoaWxkKG9sZENoaWxkKTtcbiAgICAgIC0taTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHJlb3JkZXJcbiAgICBub2RlLmluc2VydEJlZm9yZShuZXdDaGlsZCwgb2xkQ2hpbGQpO1xuICB9XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZWFzaW5nXG4gKi9cblxuLyoqXG4gKiBTdGFydCBzbG93IGFuZCBzcGVlZCB1cC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbih0KSB7XG4gIHJldHVybiBNYXRoLnBvdyh0LCAzKTtcbn1cblxuLyoqXG4gKiBTdGFydCBmYXN0IGFuZCBzbG93IGRvd24uXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0KHQpIHtcbiAgcmV0dXJuIDEgLSBlYXNlSW4oMSAtIHQpO1xufVxuXG4vKipcbiAqIFN0YXJ0IHNsb3csIHNwZWVkIHVwLCBhbmQgdGhlbiBzbG93IGRvd24gYWdhaW4uXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbkFuZE91dCh0KSB7XG4gIHJldHVybiAzICogdCAqIHQgLSAyICogdCAqIHQgKiB0O1xufVxuXG4vKipcbiAqIE1haW50YWluIGEgY29uc3RhbnQgc3BlZWQgb3ZlciB0aW1lLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyKHQpIHtcbiAgcmV0dXJuIHQ7XG59XG5cbi8qKlxuICogU3RhcnQgc2xvdywgc3BlZWQgdXAsIGFuZCBhdCB0aGUgdmVyeSBlbmQgc2xvdyBkb3duIGFnYWluLiAgVGhpcyBoYXMgdGhlXG4gKiBzYW1lIGdlbmVyYWwgYmVoYXZpb3IgYXMge0BsaW5rIG1vZHVsZTpvbC9lYXNpbmcuaW5BbmRPdXR9LCBidXQgdGhlIGZpbmFsXG4gKiBzbG93ZG93biBpcyBkZWxheWVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBBbmREb3duKHQpIHtcbiAgaWYgKHQgPCAwLjUpIHtcbiAgICByZXR1cm4gaW5BbmRPdXQoMiAqIHQpO1xuICB9XG4gIHJldHVybiAxIC0gaW5BbmRPdXQoMiAqICh0IC0gMC41KSk7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzXG4gKi9cbmltcG9ydCB7Y2xlYXJ9IGZyb20gJy4vb2JqLmpzJztcblxuLyoqXG4gKiBLZXkgdG8gdXNlIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9PYnNlcnZhYmxlLnVuQnlLZXl9LlxuICogQHR5cGVkZWYge09iamVjdH0gRXZlbnRzS2V5XG4gKiBAcHJvcGVydHkge0xpc3RlbmVyRnVuY3Rpb259IGxpc3RlbmVyIExpc3RlbmVyLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL2V2ZW50cy9UYXJnZXQuanNcIikuRXZlbnRUYXJnZXRMaWtlfSB0YXJnZXQgVGFyZ2V0LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIExpc3RlbmVyIGZ1bmN0aW9uLiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIGFuIGV2ZW50IG9iamVjdCBhcyBhcmd1bWVudC5cbiAqIFdoZW4gdGhlIGZ1bmN0aW9uIHJldHVybnMgYGZhbHNlYCwgZXZlbnQgcHJvcGFnYXRpb24gd2lsbCBzdG9wLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbigoRXZlbnR8aW1wb3J0KFwiLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCkpOiAodm9pZHxib29sZWFuKX0gTGlzdGVuZXJGdW5jdGlvblxuICogQGFwaVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTGlzdGVuZXJPYmplY3RcbiAqIEBwcm9wZXJ0eSB7TGlzdGVuZXJGdW5jdGlvbn0gaGFuZGxlRXZlbnQgSGFuZGxlRXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7TGlzdGVuZXJGdW5jdGlvbnxMaXN0ZW5lck9iamVjdH0gTGlzdGVuZXJcbiAqL1xuXG4vKipcbiAqIFJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBvbiBhbiBldmVudCB0YXJnZXQuIEluc3BpcmVkIGJ5XG4gKiBodHRwczovL2dvb2dsZS5naXRodWIuaW8vY2xvc3VyZS1saWJyYXJ5L2FwaS9zb3VyY2UvY2xvc3VyZS9nb29nL2V2ZW50cy9ldmVudHMuanMuc3JjLmh0bWxcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGVmZmljaWVudGx5IGJpbmRzIGEgYGxpc3RlbmVyYCB0byBhIGB0aGlzYCBvYmplY3QsIGFuZCByZXR1cm5zXG4gKiBhIGtleSBmb3IgdXNlIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMudW5saXN0ZW5CeUtleX0uXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V2ZW50cy9UYXJnZXQuanNcIikuRXZlbnRUYXJnZXRMaWtlfSB0YXJnZXQgRXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAqIEBwYXJhbSB7TGlzdGVuZXJGdW5jdGlvbn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gW3RoaXNBcmddIE9iamVjdCByZWZlcmVuY2VkIGJ5IHRoZSBgdGhpc2Aga2V5d29yZCBpbiB0aGVcbiAqICAgICBsaXN0ZW5lci4gRGVmYXVsdCBpcyB0aGUgYHRhcmdldGAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvbmNlXSBJZiB0cnVlLCBhZGQgdGhlIGxpc3RlbmVyIGFzIG9uZS1vZmYgbGlzdGVuZXIuXG4gKiBAcmV0dXJuIHtFdmVudHNLZXl9IFVuaXF1ZSBrZXkgZm9yIHRoZSBsaXN0ZW5lci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCB0aGlzQXJnLCBvbmNlKSB7XG4gIGlmICh0aGlzQXJnICYmIHRoaXNBcmcgIT09IHRhcmdldCkge1xuICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuYmluZCh0aGlzQXJnKTtcbiAgfVxuICBpZiAob25jZSkge1xuICAgIGNvbnN0IG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICBsaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKTtcbiAgICAgIG9yaWdpbmFsTGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG4gIGNvbnN0IGV2ZW50c0tleSA9IHtcbiAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICB0eXBlOiB0eXBlLFxuICAgIGxpc3RlbmVyOiBsaXN0ZW5lcixcbiAgfTtcbiAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xuICByZXR1cm4gZXZlbnRzS2V5O1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBhIG9uZS1vZmYgZXZlbnQgbGlzdGVuZXIgb24gYW4gZXZlbnQgdGFyZ2V0LiBJbnNwaXJlZCBieVxuICogaHR0cHM6Ly9nb29nbGUuZ2l0aHViLmlvL2Nsb3N1cmUtbGlicmFyeS9hcGkvc291cmNlL2Nsb3N1cmUvZ29vZy9ldmVudHMvZXZlbnRzLmpzLnNyYy5odG1sXG4gKlxuICogVGhpcyBmdW5jdGlvbiBlZmZpY2llbnRseSBiaW5kcyBhIGBsaXN0ZW5lcmAgYXMgc2VsZi11bnJlZ2lzdGVyaW5nIGxpc3RlbmVyXG4gKiB0byBhIGB0aGlzYCBvYmplY3QsIGFuZCByZXR1cm5zIGEga2V5IGZvciB1c2Ugd2l0aFxuICoge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMudW5saXN0ZW5CeUtleX0gaW4gY2FzZSB0aGUgbGlzdGVuZXIgbmVlZHMgdG8gYmVcbiAqIHVucmVnaXN0ZXJlZCBiZWZvcmUgaXQgaXMgY2FsbGVkLlxuICpcbiAqIFdoZW4ge0BsaW5rIG1vZHVsZTpvbC9ldmVudHMubGlzdGVufSBpcyBjYWxsZWQgd2l0aCB0aGUgc2FtZSBhcmd1bWVudHMgYWZ0ZXIgdGhpc1xuICogZnVuY3Rpb24sIHRoZSBzZWxmLXVucmVnaXN0ZXJpbmcgbGlzdGVuZXIgd2lsbCBiZSB0dXJuZWQgaW50byBhIHBlcm1hbmVudFxuICogbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V2ZW50cy9UYXJnZXQuanNcIikuRXZlbnRUYXJnZXRMaWtlfSB0YXJnZXQgRXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRXZlbnQgdHlwZS5cbiAqIEBwYXJhbSB7TGlzdGVuZXJGdW5jdGlvbn0gbGlzdGVuZXIgTGlzdGVuZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gW3RoaXNBcmddIE9iamVjdCByZWZlcmVuY2VkIGJ5IHRoZSBgdGhpc2Aga2V5d29yZCBpbiB0aGVcbiAqICAgICBsaXN0ZW5lci4gRGVmYXVsdCBpcyB0aGUgYHRhcmdldGAuXG4gKiBAcmV0dXJuIHtFdmVudHNLZXl9IEtleSBmb3IgdW5saXN0ZW5CeUtleS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbk9uY2UodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgdGhpc0FyZykge1xuICByZXR1cm4gbGlzdGVuKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHRoaXNBcmcsIHRydWUpO1xufVxuXG4vKipcbiAqIFVucmVnaXN0ZXJzIGV2ZW50IGxpc3RlbmVycyBvbiBhbiBldmVudCB0YXJnZXQuIEluc3BpcmVkIGJ5XG4gKiBodHRwczovL2dvb2dsZS5naXRodWIuaW8vY2xvc3VyZS1saWJyYXJ5L2FwaS9zb3VyY2UvY2xvc3VyZS9nb29nL2V2ZW50cy9ldmVudHMuanMuc3JjLmh0bWxcbiAqXG4gKiBUaGUgYXJndW1lbnQgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24gaXMgdGhlIGtleSByZXR1cm5lZCBmcm9tXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy5saXN0ZW59IG9yIHtAbGluayBtb2R1bGU6b2wvZXZlbnRzLmxpc3Rlbk9uY2V9LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRzS2V5fSBrZXkgVGhlIGtleS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVubGlzdGVuQnlLZXkoa2V5KSB7XG4gIGlmIChrZXkgJiYga2V5LnRhcmdldCkge1xuICAgIGtleS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihrZXkudHlwZSwga2V5Lmxpc3RlbmVyKTtcbiAgICBjbGVhcihrZXkpO1xuICB9XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZXZlbnRzL0V2ZW50XG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTdHJpcHBlZCBkb3duIGltcGxlbWVudGF0aW9uIG9mIHRoZSBXM0MgRE9NIExldmVsIDIgRXZlbnQgaW50ZXJmYWNlLlxuICogU2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMi1FdmVudHMvZXZlbnRzLmh0bWwjRXZlbnRzLWludGVyZmFjZS5cbiAqXG4gKiBUaGlzIGltcGxlbWVudGF0aW9uIG9ubHkgcHJvdmlkZXMgYHR5cGVgIGFuZCBgdGFyZ2V0YCBwcm9wZXJ0aWVzLCBhbmRcbiAqIGBzdG9wUHJvcGFnYXRpb25gIGFuZCBgcHJldmVudERlZmF1bHRgIG1ldGhvZHMuIEl0IGlzIG1lYW50IGFzIGJhc2UgY2xhc3NcbiAqIGZvciBoaWdoZXIgbGV2ZWwgZXZlbnRzIGRlZmluZWQgaW4gdGhlIGxpYnJhcnksIGFuZCB3b3JrcyB3aXRoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2V2ZW50cy9UYXJnZXR+VGFyZ2V0fS5cbiAqL1xuY2xhc3MgQmFzZUV2ZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZXZlbnQgdHlwZS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IHRhcmdldC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUHJldmVudCBkZWZhdWx0LiBUaGlzIG1lYW5zIHRoYXQgbm8gZW11bGF0ZWQgYGNsaWNrYCwgYHNpbmdsZWNsaWNrYCBvciBgZG91YmxlY2xpY2tgIGV2ZW50c1xuICAgKiB3aWxsIGJlIGZpcmVkLlxuICAgKiBAYXBpXG4gICAqL1xuICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fGltcG9ydChcIi4vRXZlbnQuanNcIikuZGVmYXVsdH0gZXZ0IEV2ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oZXZ0KSB7XG4gIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fGltcG9ydChcIi4vRXZlbnQuanNcIikuZGVmYXVsdH0gZXZ0IEV2ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VFdmVudDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9ldmVudHMvRXZlbnRUeXBlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQGNvbnN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIEdlbmVyaWMgY2hhbmdlIGV2ZW50LiBUcmlnZ2VyZWQgd2hlbiB0aGUgcmV2aXNpb24gY291bnRlciBpcyBpbmNyZWFzZWQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvZXZlbnRzL0V2ZW50fkJhc2VFdmVudCNjaGFuZ2VcbiAgICogQGFwaVxuICAgKi9cbiAgQ0hBTkdFOiAnY2hhbmdlJyxcblxuICAvKipcbiAgICogR2VuZXJpYyBlcnJvciBldmVudC4gVHJpZ2dlcmVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL2V2ZW50cy9FdmVudH5CYXNlRXZlbnQjZXJyb3JcbiAgICogQGFwaVxuICAgKi9cbiAgRVJST1I6ICdlcnJvcicsXG5cbiAgQkxVUjogJ2JsdXInLFxuICBDTEVBUjogJ2NsZWFyJyxcbiAgQ09OVEVYVE1FTlU6ICdjb250ZXh0bWVudScsXG4gIENMSUNLOiAnY2xpY2snLFxuICBEQkxDTElDSzogJ2RibGNsaWNrJyxcbiAgRFJBR0VOVEVSOiAnZHJhZ2VudGVyJyxcbiAgRFJBR09WRVI6ICdkcmFnb3ZlcicsXG4gIERST1A6ICdkcm9wJyxcbiAgRk9DVVM6ICdmb2N1cycsXG4gIEtFWURPV046ICdrZXlkb3duJyxcbiAgS0VZUFJFU1M6ICdrZXlwcmVzcycsXG4gIExPQUQ6ICdsb2FkJyxcbiAgUkVTSVpFOiAncmVzaXplJyxcbiAgVE9VQ0hNT1ZFOiAndG91Y2htb3ZlJyxcbiAgV0hFRUw6ICd3aGVlbCcsXG59O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V2ZW50cy9UYXJnZXRcbiAqL1xuaW1wb3J0IERpc3Bvc2FibGUgZnJvbSAnLi4vRGlzcG9zYWJsZS5qcyc7XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9FdmVudC5qcyc7XG5pbXBvcnQge1ZPSUR9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge2NsZWFyfSBmcm9tICcuLi9vYmouanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtFdmVudFRhcmdldHxUYXJnZXR9IEV2ZW50VGFyZ2V0TGlrZVxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBzaW1wbGlmaWVkIGltcGxlbWVudGF0aW9uIG9mIHRoZSBXM0MgRE9NIExldmVsIDIgRXZlbnRUYXJnZXQgaW50ZXJmYWNlLlxuICogU2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDAwL1JFQy1ET00tTGV2ZWwtMi1FdmVudHMtMjAwMDExMTMvZXZlbnRzLmh0bWwjRXZlbnRzLUV2ZW50VGFyZ2V0LlxuICpcbiAqIFRoZXJlIGFyZSB0d28gaW1wb3J0YW50IHNpbXBsaWZpY2F0aW9ucyBjb21wYXJlZCB0byB0aGUgc3BlY2lmaWNhdGlvbjpcbiAqXG4gKiAxLiBUaGUgaGFuZGxpbmcgb2YgYHVzZUNhcHR1cmVgIGluIGBhZGRFdmVudExpc3RlbmVyYCBhbmRcbiAqICAgIGByZW1vdmVFdmVudExpc3RlbmVyYC4gVGhlcmUgaXMgbm8gcmVhbCBjYXB0dXJlIG1vZGVsLlxuICogMi4gVGhlIGhhbmRsaW5nIG9mIGBzdG9wUHJvcGFnYXRpb25gIGFuZCBgcHJldmVudERlZmF1bHRgIG9uIGBkaXNwYXRjaEV2ZW50YC5cbiAqICAgIFRoZXJlIGlzIG5vIGV2ZW50IHRhcmdldCBoaWVyYXJjaHkuIFdoZW4gYSBsaXN0ZW5lciBjYWxsc1xuICogICAgYHN0b3BQcm9wYWdhdGlvbmAgb3IgYHByZXZlbnREZWZhdWx0YCBvbiBhbiBldmVudCBvYmplY3QsIGl0IG1lYW5zIHRoYXQgbm9cbiAqICAgIG1vcmUgbGlzdGVuZXJzIGFmdGVyIHRoaXMgb25lIHdpbGwgYmUgY2FsbGVkLiBTYW1lIGFzIHdoZW4gdGhlIGxpc3RlbmVyXG4gKiAgICByZXR1cm5zIGZhbHNlLlxuICovXG5jbGFzcyBUYXJnZXQgZXh0ZW5kcyBEaXNwb3NhYmxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7Kn0gW3RhcmdldF0gRGVmYXVsdCBldmVudCB0YXJnZXQgZm9yIGRpc3BhdGNoZWQgZXZlbnRzLlxuICAgKi9cbiAgY29uc3RydWN0b3IodGFyZ2V0KSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyp9XG4gICAgICovXG4gICAgdGhpcy5ldmVudFRhcmdldF8gPSB0YXJnZXQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMucGVuZGluZ1JlbW92YWxzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuZGlzcGF0Y2hpbmdfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIEFycmF5PGltcG9ydChcIi4uL2V2ZW50cy5qc1wiKS5MaXN0ZW5lcj4+fVxuICAgICAqL1xuICAgIHRoaXMubGlzdGVuZXJzXyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuTGlzdGVuZXJ9IGxpc3RlbmVyIExpc3RlbmVyLlxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgIGlmICghdHlwZSB8fCAhbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNfIHx8ICh0aGlzLmxpc3RlbmVyc18gPSB7fSk7XG4gICAgY29uc3QgbGlzdGVuZXJzRm9yVHlwZSA9IGxpc3RlbmVyc1t0eXBlXSB8fCAobGlzdGVuZXJzW3R5cGVdID0gW10pO1xuICAgIGlmICghbGlzdGVuZXJzRm9yVHlwZS5pbmNsdWRlcyhsaXN0ZW5lcikpIHtcbiAgICAgIGxpc3RlbmVyc0ZvclR5cGUucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYW5kIGNhbGxzIGFsbCBsaXN0ZW5lcnMgbGlzdGVuaW5nIGZvciBldmVudHNcbiAgICogb2YgdGhpcyB0eXBlLiBUaGUgZXZlbnQgcGFyYW1ldGVyIGNhbiBlaXRoZXIgYmUgYSBzdHJpbmcgb3IgYW5cbiAgICogT2JqZWN0IHdpdGggYSBgdHlwZWAgcHJvcGVydHkuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9FdmVudC5qc1wiKS5kZWZhdWx0fHN0cmluZ30gZXZlbnQgRXZlbnQgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtib29sZWFufHVuZGVmaW5lZH0gYGZhbHNlYCBpZiBhbnlvbmUgY2FsbGVkIHByZXZlbnREZWZhdWx0IG9uIHRoZVxuICAgKiAgICAgZXZlbnQgb2JqZWN0IG9yIGlmIGFueSBvZiB0aGUgbGlzdGVuZXJzIHJldHVybmVkIGZhbHNlLlxuICAgKiBAYXBpXG4gICAqL1xuICBkaXNwYXRjaEV2ZW50KGV2ZW50KSB7XG4gICAgY29uc3QgaXNTdHJpbmcgPSB0eXBlb2YgZXZlbnQgPT09ICdzdHJpbmcnO1xuICAgIGNvbnN0IHR5cGUgPSBpc1N0cmluZyA/IGV2ZW50IDogZXZlbnQudHlwZTtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc18gJiYgdGhpcy5saXN0ZW5lcnNfW3R5cGVdO1xuICAgIGlmICghbGlzdGVuZXJzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZXZ0ID0gaXNTdHJpbmcgPyBuZXcgRXZlbnQoZXZlbnQpIDogLyoqIEB0eXBlIHtFdmVudH0gKi8gKGV2ZW50KTtcbiAgICBpZiAoIWV2dC50YXJnZXQpIHtcbiAgICAgIGV2dC50YXJnZXQgPSB0aGlzLmV2ZW50VGFyZ2V0XyB8fCB0aGlzO1xuICAgIH1cbiAgICBjb25zdCBkaXNwYXRjaGluZyA9IHRoaXMuZGlzcGF0Y2hpbmdfIHx8ICh0aGlzLmRpc3BhdGNoaW5nXyA9IHt9KTtcbiAgICBjb25zdCBwZW5kaW5nUmVtb3ZhbHMgPVxuICAgICAgdGhpcy5wZW5kaW5nUmVtb3ZhbHNfIHx8ICh0aGlzLnBlbmRpbmdSZW1vdmFsc18gPSB7fSk7XG4gICAgaWYgKCEodHlwZSBpbiBkaXNwYXRjaGluZykpIHtcbiAgICAgIGRpc3BhdGNoaW5nW3R5cGVdID0gMDtcbiAgICAgIHBlbmRpbmdSZW1vdmFsc1t0eXBlXSA9IDA7XG4gICAgfVxuICAgICsrZGlzcGF0Y2hpbmdbdHlwZV07XG4gICAgbGV0IHByb3BhZ2F0ZTtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgaWYgKCdoYW5kbGVFdmVudCcgaW4gbGlzdGVuZXJzW2ldKSB7XG4gICAgICAgIHByb3BhZ2F0ZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyT2JqZWN0fSAqLyAoXG4gICAgICAgICAgbGlzdGVuZXJzW2ldXG4gICAgICAgICkuaGFuZGxlRXZlbnQoZXZ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3BhZ2F0ZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyRnVuY3Rpb259ICovIChcbiAgICAgICAgICBsaXN0ZW5lcnNbaV1cbiAgICAgICAgKS5jYWxsKHRoaXMsIGV2dCk7XG4gICAgICB9XG4gICAgICBpZiAocHJvcGFnYXRlID09PSBmYWxzZSB8fCBldnQucHJvcGFnYXRpb25TdG9wcGVkKSB7XG4gICAgICAgIHByb3BhZ2F0ZSA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKC0tZGlzcGF0Y2hpbmdbdHlwZV0gPT09IDApIHtcbiAgICAgIGxldCBwciA9IHBlbmRpbmdSZW1vdmFsc1t0eXBlXTtcbiAgICAgIGRlbGV0ZSBwZW5kaW5nUmVtb3ZhbHNbdHlwZV07XG4gICAgICB3aGlsZSAocHItLSkge1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgVk9JRCk7XG4gICAgICB9XG4gICAgICBkZWxldGUgZGlzcGF0Y2hpbmdbdHlwZV07XG4gICAgfVxuICAgIHJldHVybiBwcm9wYWdhdGU7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAuXG4gICAqL1xuICBkaXNwb3NlSW50ZXJuYWwoKSB7XG4gICAgdGhpcy5saXN0ZW5lcnNfICYmIGNsZWFyKHRoaXMubGlzdGVuZXJzXyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsaXN0ZW5lcnMgZm9yIGEgc3BlY2lmaWVkIGV2ZW50IHR5cGUuIExpc3RlbmVycyBhcmUgcmV0dXJuZWQgaW4gdGhlXG4gICAqIG9yZGVyIHRoYXQgdGhleSB3aWxsIGJlIGNhbGxlZCBpbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkxpc3RlbmVyPnx1bmRlZmluZWR9IExpc3RlbmVycy5cbiAgICovXG4gIGdldExpc3RlbmVycyh0eXBlKSB7XG4gICAgcmV0dXJuICh0aGlzLmxpc3RlbmVyc18gJiYgdGhpcy5saXN0ZW5lcnNfW3R5cGVdKSB8fCB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlXSBUeXBlLiBJZiBub3QgcHJvdmlkZWQsXG4gICAqICAgICBgdHJ1ZWAgd2lsbCBiZSByZXR1cm5lZCBpZiB0aGlzIGV2ZW50IHRhcmdldCBoYXMgYW55IGxpc3RlbmVycy5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSGFzIGxpc3RlbmVycy5cbiAgICovXG4gIGhhc0xpc3RlbmVyKHR5cGUpIHtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzXykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZVxuICAgICAgPyB0eXBlIGluIHRoaXMubGlzdGVuZXJzX1xuICAgICAgOiBPYmplY3Qua2V5cyh0aGlzLmxpc3RlbmVyc18pLmxlbmd0aCA+IDA7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuTGlzdGVuZXJ9IGxpc3RlbmVyIExpc3RlbmVyLlxuICAgKi9cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzXyAmJiB0aGlzLmxpc3RlbmVyc19bdHlwZV07XG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdSZW1vdmFsc18gJiYgdHlwZSBpbiB0aGlzLnBlbmRpbmdSZW1vdmFsc18pIHtcbiAgICAgICAgICAvLyBtYWtlIGxpc3RlbmVyIGEgbm8tb3AsIGFuZCByZW1vdmUgbGF0ZXIgaW4gI2Rpc3BhdGNoRXZlbnQoKVxuICAgICAgICAgIGxpc3RlbmVyc1tpbmRleF0gPSBWT0lEO1xuICAgICAgICAgICsrdGhpcy5wZW5kaW5nUmVtb3ZhbHNfW3R5cGVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIGlmIChsaXN0ZW5lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5saXN0ZW5lcnNfW3R5cGVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUYXJnZXQ7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZXh0ZW50XG4gKi9cbmltcG9ydCBSZWxhdGlvbnNoaXAgZnJvbSAnLi9leHRlbnQvUmVsYXRpb25zaGlwLmpzJztcbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuL2Fzc2VydHMuanMnO1xuXG4vKipcbiAqIEFuIGFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGFuIGV4dGVudDogYFttaW54LCBtaW55LCBtYXh4LCBtYXh5XWAuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gRXh0ZW50XG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiBFeHRlbnQgY29ybmVyLlxuICogQHR5cGVkZWYgeydib3R0b20tbGVmdCcgfCAnYm90dG9tLXJpZ2h0JyB8ICd0b3AtbGVmdCcgfCAndG9wLXJpZ2h0J30gQ29ybmVyXG4gKi9cblxuLyoqXG4gKiBCdWlsZCBhbiBleHRlbnQgdGhhdCBpbmNsdWRlcyBhbGwgZ2l2ZW4gY29vcmRpbmF0ZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICogQHJldHVybiB7RXh0ZW50fSBCb3VuZGluZyBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib3VuZGluZ0V4dGVudChjb29yZGluYXRlcykge1xuICBjb25zdCBleHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgZXh0ZW5kQ29vcmRpbmF0ZShleHRlbnQsIGNvb3JkaW5hdGVzW2ldKTtcbiAgfVxuICByZXR1cm4gZXh0ZW50O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0geHMgWHMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHlzIFlzLlxuICogQHBhcmFtIHtFeHRlbnR9IFtkZXN0XSBEZXN0aW5hdGlvbiBleHRlbnQuXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmZ1bmN0aW9uIF9ib3VuZGluZ0V4dGVudFhZcyh4cywgeXMsIGRlc3QpIHtcbiAgY29uc3QgbWluWCA9IE1hdGgubWluLmFwcGx5KG51bGwsIHhzKTtcbiAgY29uc3QgbWluWSA9IE1hdGgubWluLmFwcGx5KG51bGwsIHlzKTtcbiAgY29uc3QgbWF4WCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHhzKTtcbiAgY29uc3QgbWF4WSA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHlzKTtcbiAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKG1pblgsIG1pblksIG1heFgsIG1heFksIGRlc3QpO1xufVxuXG4vKipcbiAqIFJldHVybiBleHRlbnQgaW5jcmVhc2VkIGJ5IHRoZSBwcm92aWRlZCB2YWx1ZS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBhbW91bnQgYnkgd2hpY2ggdGhlIGV4dGVudCBzaG91bGQgYmUgYnVmZmVyZWQuXG4gKiBAcGFyYW0ge0V4dGVudH0gW2Rlc3RdIEV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyKGV4dGVudCwgdmFsdWUsIGRlc3QpIHtcbiAgaWYgKGRlc3QpIHtcbiAgICBkZXN0WzBdID0gZXh0ZW50WzBdIC0gdmFsdWU7XG4gICAgZGVzdFsxXSA9IGV4dGVudFsxXSAtIHZhbHVlO1xuICAgIGRlc3RbMl0gPSBleHRlbnRbMl0gKyB2YWx1ZTtcbiAgICBkZXN0WzNdID0gZXh0ZW50WzNdICsgdmFsdWU7XG4gICAgcmV0dXJuIGRlc3Q7XG4gIH1cbiAgcmV0dXJuIFtcbiAgICBleHRlbnRbMF0gLSB2YWx1ZSxcbiAgICBleHRlbnRbMV0gLSB2YWx1ZSxcbiAgICBleHRlbnRbMl0gKyB2YWx1ZSxcbiAgICBleHRlbnRbM10gKyB2YWx1ZSxcbiAgXTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYW4gZXh0ZW50LlxuICpcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50IHRvIGNsb25lLlxuICogQHBhcmFtIHtFeHRlbnR9IFtkZXN0XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IFRoZSBjbG9uZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGV4dGVudCwgZGVzdCkge1xuICBpZiAoZGVzdCkge1xuICAgIGRlc3RbMF0gPSBleHRlbnRbMF07XG4gICAgZGVzdFsxXSA9IGV4dGVudFsxXTtcbiAgICBkZXN0WzJdID0gZXh0ZW50WzJdO1xuICAgIGRlc3RbM10gPSBleHRlbnRbM107XG4gICAgcmV0dXJuIGRlc3Q7XG4gIH1cbiAgcmV0dXJuIGV4dGVudC5zbGljZSgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IENsb3Nlc3Qgc3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWShleHRlbnQsIHgsIHkpIHtcbiAgbGV0IGR4LCBkeTtcbiAgaWYgKHggPCBleHRlbnRbMF0pIHtcbiAgICBkeCA9IGV4dGVudFswXSAtIHg7XG4gIH0gZWxzZSBpZiAoZXh0ZW50WzJdIDwgeCkge1xuICAgIGR4ID0geCAtIGV4dGVudFsyXTtcbiAgfSBlbHNlIHtcbiAgICBkeCA9IDA7XG4gIH1cbiAgaWYgKHkgPCBleHRlbnRbMV0pIHtcbiAgICBkeSA9IGV4dGVudFsxXSAtIHk7XG4gIH0gZWxzZSBpZiAoZXh0ZW50WzNdIDwgeSkge1xuICAgIGR5ID0geSAtIGV4dGVudFszXTtcbiAgfSBlbHNlIHtcbiAgICBkeSA9IDA7XG4gIH1cbiAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBwYXNzZWQgY29vcmRpbmF0ZSBpcyBjb250YWluZWQgb3Igb24gdGhlIGVkZ2Ugb2YgdGhlIGV4dGVudC5cbiAqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBjb29yZGluYXRlIGlzIGNvbnRhaW5lZCBpbiB0aGUgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNDb29yZGluYXRlKGV4dGVudCwgY29vcmRpbmF0ZSkge1xuICByZXR1cm4gY29udGFpbnNYWShleHRlbnQsIGNvb3JkaW5hdGVbMF0sIGNvb3JkaW5hdGVbMV0pO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIG9uZSBleHRlbnQgY29udGFpbnMgYW5vdGhlci5cbiAqXG4gKiBBbiBleHRlbnQgaXMgZGVlbWVkIGNvbnRhaW5lZCBpZiBpdCBsaWVzIGNvbXBsZXRlbHkgd2l0aGluIHRoZSBvdGhlciBleHRlbnQsXG4gKiBpbmNsdWRpbmcgaWYgdGhleSBzaGFyZSBvbmUgb3IgbW9yZSBlZGdlcy5cbiAqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHNlY29uZCBleHRlbnQgaXMgY29udGFpbmVkIGJ5IG9yIG9uIHRoZSBlZGdlIG9mIHRoZVxuICogICAgIGZpcnN0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNFeHRlbnQoZXh0ZW50MSwgZXh0ZW50Mikge1xuICByZXR1cm4gKFxuICAgIGV4dGVudDFbMF0gPD0gZXh0ZW50MlswXSAmJlxuICAgIGV4dGVudDJbMl0gPD0gZXh0ZW50MVsyXSAmJlxuICAgIGV4dGVudDFbMV0gPD0gZXh0ZW50MlsxXSAmJlxuICAgIGV4dGVudDJbM10gPD0gZXh0ZW50MVszXVxuICApO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBwYXNzZWQgY29vcmRpbmF0ZSBpcyBjb250YWluZWQgb3Igb24gdGhlIGVkZ2Ugb2YgdGhlIGV4dGVudC5cbiAqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFggY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkgY29vcmRpbmF0ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB4LCB5IHZhbHVlcyBhcmUgY29udGFpbmVkIGluIHRoZSBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc1hZKGV4dGVudCwgeCwgeSkge1xuICByZXR1cm4gZXh0ZW50WzBdIDw9IHggJiYgeCA8PSBleHRlbnRbMl0gJiYgZXh0ZW50WzFdIDw9IHkgJiYgeSA8PSBleHRlbnRbM107XG59XG5cbi8qKlxuICogR2V0IHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBhIGNvb3JkaW5hdGUgYW5kIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgVGhlIGV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgVGhlIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC9SZWxhdGlvbnNoaXAuanNcIikuZGVmYXVsdH0gVGhlIHJlbGF0aW9uc2hpcCAoYml0d2lzZSBjb21wYXJlIHdpdGhcbiAqICAgICBpbXBvcnQoXCIuL2V4dGVudC9SZWxhdGlvbnNoaXAuanNcIikuUmVsYXRpb25zaGlwKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAoZXh0ZW50LCBjb29yZGluYXRlKSB7XG4gIGNvbnN0IG1pblggPSBleHRlbnRbMF07XG4gIGNvbnN0IG1pblkgPSBleHRlbnRbMV07XG4gIGNvbnN0IG1heFggPSBleHRlbnRbMl07XG4gIGNvbnN0IG1heFkgPSBleHRlbnRbM107XG4gIGNvbnN0IHggPSBjb29yZGluYXRlWzBdO1xuICBjb25zdCB5ID0gY29vcmRpbmF0ZVsxXTtcbiAgbGV0IHJlbGF0aW9uc2hpcCA9IFJlbGF0aW9uc2hpcC5VTktOT1dOO1xuICBpZiAoeCA8IG1pblgpIHtcbiAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuTEVGVDtcbiAgfSBlbHNlIGlmICh4ID4gbWF4WCkge1xuICAgIHJlbGF0aW9uc2hpcCA9IHJlbGF0aW9uc2hpcCB8IFJlbGF0aW9uc2hpcC5SSUdIVDtcbiAgfVxuICBpZiAoeSA8IG1pblkpIHtcbiAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuQkVMT1c7XG4gIH0gZWxzZSBpZiAoeSA+IG1heFkpIHtcbiAgICByZWxhdGlvbnNoaXAgPSByZWxhdGlvbnNoaXAgfCBSZWxhdGlvbnNoaXAuQUJPVkU7XG4gIH1cbiAgaWYgKHJlbGF0aW9uc2hpcCA9PT0gUmVsYXRpb25zaGlwLlVOS05PV04pIHtcbiAgICByZWxhdGlvbnNoaXAgPSBSZWxhdGlvbnNoaXAuSU5URVJTRUNUSU5HO1xuICB9XG4gIHJldHVybiByZWxhdGlvbnNoaXA7XG59XG5cbi8qKlxuICogQ3JlYXRlIGFuIGVtcHR5IGV4dGVudC5cbiAqIEByZXR1cm4ge0V4dGVudH0gRW1wdHkgZXh0ZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW1wdHkoKSB7XG4gIHJldHVybiBbSW5maW5pdHksIEluZmluaXR5LCAtSW5maW5pdHksIC1JbmZpbml0eV07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGV4dGVudCBvciB1cGRhdGUgdGhlIHByb3ZpZGVkIGV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5YIE1pbmltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZIE1pbmltdW0gWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhYIE1heGltdW0gWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhZIE1heGltdW0gWS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbZGVzdF0gRGVzdGluYXRpb24gZXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCBkZXN0KSB7XG4gIGlmIChkZXN0KSB7XG4gICAgZGVzdFswXSA9IG1pblg7XG4gICAgZGVzdFsxXSA9IG1pblk7XG4gICAgZGVzdFsyXSA9IG1heFg7XG4gICAgZGVzdFszXSA9IG1heFk7XG4gICAgcmV0dXJuIGRlc3Q7XG4gIH1cbiAgcmV0dXJuIFttaW5YLCBtaW5ZLCBtYXhYLCBtYXhZXTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgZW1wdHkgZXh0ZW50IG9yIG1ha2UgdGhlIHByb3ZpZGVkIG9uZSBlbXB0eS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbZGVzdF0gRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUVtcHR5KGRlc3QpIHtcbiAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKEluZmluaXR5LCBJbmZpbml0eSwgLUluZmluaXR5LCAtSW5maW5pdHksIGRlc3QpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbZGVzdF0gRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUZyb21Db29yZGluYXRlKGNvb3JkaW5hdGUsIGRlc3QpIHtcbiAgY29uc3QgeCA9IGNvb3JkaW5hdGVbMF07XG4gIGNvbnN0IHkgPSBjb29yZGluYXRlWzFdO1xuICByZXR1cm4gY3JlYXRlT3JVcGRhdGUoeCwgeSwgeCwgeSwgZGVzdCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtFeHRlbnR9IFtkZXN0XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRnJvbUNvb3JkaW5hdGVzKGNvb3JkaW5hdGVzLCBkZXN0KSB7XG4gIGNvbnN0IGV4dGVudCA9IGNyZWF0ZU9yVXBkYXRlRW1wdHkoZGVzdCk7XG4gIHJldHVybiBleHRlbmRDb29yZGluYXRlcyhleHRlbnQsIGNvb3JkaW5hdGVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtFeHRlbnR9IFtkZXN0XSBFeHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcyhcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBkZXN0XG4pIHtcbiAgY29uc3QgZXh0ZW50ID0gY3JlYXRlT3JVcGRhdGVFbXB0eShkZXN0KTtcbiAgcmV0dXJuIGV4dGVuZEZsYXRDb29yZGluYXRlcyhleHRlbnQsIGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSByaW5ncyBSaW5ncy5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbZGVzdF0gRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUZyb21SaW5ncyhyaW5ncywgZGVzdCkge1xuICBjb25zdCBleHRlbnQgPSBjcmVhdGVPclVwZGF0ZUVtcHR5KGRlc3QpO1xuICByZXR1cm4gZXh0ZW5kUmluZ3MoZXh0ZW50LCByaW5ncyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHR3byBleHRlbnRzIGFyZSBlcXVpdmFsZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQgMi5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSB0d28gZXh0ZW50cyBhcmUgZXF1aXZhbGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhleHRlbnQxLCBleHRlbnQyKSB7XG4gIHJldHVybiAoXG4gICAgZXh0ZW50MVswXSA9PSBleHRlbnQyWzBdICYmXG4gICAgZXh0ZW50MVsyXSA9PSBleHRlbnQyWzJdICYmXG4gICAgZXh0ZW50MVsxXSA9PSBleHRlbnQyWzFdICYmXG4gICAgZXh0ZW50MVszXSA9PSBleHRlbnQyWzNdXG4gICk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHR3byBleHRlbnRzIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWl2YWxlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBFeHRlbnQgMS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQyIEV4dGVudCAyLlxuICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UgaW4gZXh0ZW50IGNvb3JkaW5hdGUgdW5pdHMuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdHdvIGV4dGVudHMgZGlmZmVyIGJ5IGxlc3MgdGhhbiB0aGUgdG9sZXJhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwcm94aW1hdGVseUVxdWFscyhleHRlbnQxLCBleHRlbnQyLCB0b2xlcmFuY2UpIHtcbiAgcmV0dXJuIChcbiAgICBNYXRoLmFicyhleHRlbnQxWzBdIC0gZXh0ZW50MlswXSkgPCB0b2xlcmFuY2UgJiZcbiAgICBNYXRoLmFicyhleHRlbnQxWzJdIC0gZXh0ZW50MlsyXSkgPCB0b2xlcmFuY2UgJiZcbiAgICBNYXRoLmFicyhleHRlbnQxWzFdIC0gZXh0ZW50MlsxXSkgPCB0b2xlcmFuY2UgJiZcbiAgICBNYXRoLmFicyhleHRlbnQxWzNdIC0gZXh0ZW50MlszXSkgPCB0b2xlcmFuY2VcbiAgKTtcbn1cblxuLyoqXG4gKiBNb2RpZnkgYW4gZXh0ZW50IHRvIGluY2x1ZGUgYW5vdGhlciBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MSBUaGUgZXh0ZW50IHRvIGJlIG1vZGlmaWVkLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgVGhlIGV4dGVudCB0aGF0IHdpbGwgYmUgaW5jbHVkZWQgaW4gdGhlIGZpcnN0LlxuICogQHJldHVybiB7RXh0ZW50fSBBIHJlZmVyZW5jZSB0byB0aGUgZmlyc3QgKGV4dGVuZGVkKSBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQoZXh0ZW50MSwgZXh0ZW50Mikge1xuICBpZiAoZXh0ZW50MlswXSA8IGV4dGVudDFbMF0pIHtcbiAgICBleHRlbnQxWzBdID0gZXh0ZW50MlswXTtcbiAgfVxuICBpZiAoZXh0ZW50MlsyXSA+IGV4dGVudDFbMl0pIHtcbiAgICBleHRlbnQxWzJdID0gZXh0ZW50MlsyXTtcbiAgfVxuICBpZiAoZXh0ZW50MlsxXSA8IGV4dGVudDFbMV0pIHtcbiAgICBleHRlbnQxWzFdID0gZXh0ZW50MlsxXTtcbiAgfVxuICBpZiAoZXh0ZW50MlszXSA+IGV4dGVudDFbM10pIHtcbiAgICBleHRlbnQxWzNdID0gZXh0ZW50MlszXTtcbiAgfVxuICByZXR1cm4gZXh0ZW50MTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBjb29yZGluYXRlKSB7XG4gIGlmIChjb29yZGluYXRlWzBdIDwgZXh0ZW50WzBdKSB7XG4gICAgZXh0ZW50WzBdID0gY29vcmRpbmF0ZVswXTtcbiAgfVxuICBpZiAoY29vcmRpbmF0ZVswXSA+IGV4dGVudFsyXSkge1xuICAgIGV4dGVudFsyXSA9IGNvb3JkaW5hdGVbMF07XG4gIH1cbiAgaWYgKGNvb3JkaW5hdGVbMV0gPCBleHRlbnRbMV0pIHtcbiAgICBleHRlbnRbMV0gPSBjb29yZGluYXRlWzFdO1xuICB9XG4gIGlmIChjb29yZGluYXRlWzFdID4gZXh0ZW50WzNdKSB7XG4gICAgZXh0ZW50WzNdID0gY29vcmRpbmF0ZVsxXTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRDb29yZGluYXRlcyhleHRlbnQsIGNvb3JkaW5hdGVzKSB7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBleHRlbmRDb29yZGluYXRlKGV4dGVudCwgY29vcmRpbmF0ZXNbaV0pO1xuICB9XG4gIHJldHVybiBleHRlbnQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRGbGF0Q29vcmRpbmF0ZXMoXG4gIGV4dGVudCxcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlXG4pIHtcbiAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgIGV4dGVuZFhZKGV4dGVudCwgZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSk7XG4gIH1cbiAgcmV0dXJuIGV4dGVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gcmluZ3MgUmluZ3MuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZFJpbmdzKGV4dGVudCwgcmluZ3MpIHtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gcmluZ3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGV4dGVuZENvb3JkaW5hdGVzKGV4dGVudCwgcmluZ3NbaV0pO1xuICB9XG4gIHJldHVybiBleHRlbnQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZFhZKGV4dGVudCwgeCwgeSkge1xuICBleHRlbnRbMF0gPSBNYXRoLm1pbihleHRlbnRbMF0sIHgpO1xuICBleHRlbnRbMV0gPSBNYXRoLm1pbihleHRlbnRbMV0sIHkpO1xuICBleHRlbnRbMl0gPSBNYXRoLm1heChleHRlbnRbMl0sIHgpO1xuICBleHRlbnRbM10gPSBNYXRoLm1heChleHRlbnRbM10sIHkpO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY2FsbHMgYGNhbGxiYWNrYCBmb3IgZWFjaCBjb3JuZXIgb2YgdGhlIGV4dGVudC4gSWYgdGhlXG4gKiBjYWxsYmFjayByZXR1cm5zIGEgdHJ1dGh5IHZhbHVlIHRoZSBmdW5jdGlvbiByZXR1cm5zIHRoYXQgdmFsdWVcbiAqIGltbWVkaWF0ZWx5LiBPdGhlcndpc2UgdGhlIGZ1bmN0aW9uIHJldHVybnMgYGZhbHNlYC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IFN9IGNhbGxiYWNrIENhbGxiYWNrLlxuICogQHJldHVybiB7U3xib29sZWFufSBWYWx1ZS5cbiAqIEB0ZW1wbGF0ZSBTXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoQ29ybmVyKGV4dGVudCwgY2FsbGJhY2spIHtcbiAgbGV0IHZhbDtcbiAgdmFsID0gY2FsbGJhY2soZ2V0Qm90dG9tTGVmdChleHRlbnQpKTtcbiAgaWYgKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG4gIH1cbiAgdmFsID0gY2FsbGJhY2soZ2V0Qm90dG9tUmlnaHQoZXh0ZW50KSk7XG4gIGlmICh2YWwpIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG4gIHZhbCA9IGNhbGxiYWNrKGdldFRvcFJpZ2h0KGV4dGVudCkpO1xuICBpZiAodmFsKSB7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuICB2YWwgPSBjYWxsYmFjayhnZXRUb3BMZWZ0KGV4dGVudCkpO1xuICBpZiAodmFsKSB7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogR2V0IHRoZSBzaXplIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJlYShleHRlbnQpIHtcbiAgbGV0IGFyZWEgPSAwO1xuICBpZiAoIWlzRW1wdHkoZXh0ZW50KSkge1xuICAgIGFyZWEgPSBnZXRXaWR0aChleHRlbnQpICogZ2V0SGVpZ2h0KGV4dGVudCk7XG4gIH1cbiAgcmV0dXJuIGFyZWE7XG59XG5cbi8qKlxuICogR2V0IHRoZSBib3R0b20gbGVmdCBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IEJvdHRvbSBsZWZ0IGNvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCb3R0b21MZWZ0KGV4dGVudCkge1xuICByZXR1cm4gW2V4dGVudFswXSwgZXh0ZW50WzFdXTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGJvdHRvbSByaWdodCBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IEJvdHRvbSByaWdodCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm90dG9tUmlnaHQoZXh0ZW50KSB7XG4gIHJldHVybiBbZXh0ZW50WzJdLCBleHRlbnRbMV1dO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY2VudGVyIGNvb3JkaW5hdGUgb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ2VudGVyLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2VudGVyKGV4dGVudCkge1xuICByZXR1cm4gWyhleHRlbnRbMF0gKyBleHRlbnRbMl0pIC8gMiwgKGV4dGVudFsxXSArIGV4dGVudFszXSkgLyAyXTtcbn1cblxuLyoqXG4gKiBHZXQgYSBjb3JuZXIgY29vcmRpbmF0ZSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7Q29ybmVyfSBjb3JuZXIgQ29ybmVyLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvcm5lciBjb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29ybmVyKGV4dGVudCwgY29ybmVyKSB7XG4gIGxldCBjb29yZGluYXRlO1xuICBpZiAoY29ybmVyID09PSAnYm90dG9tLWxlZnQnKSB7XG4gICAgY29vcmRpbmF0ZSA9IGdldEJvdHRvbUxlZnQoZXh0ZW50KTtcbiAgfSBlbHNlIGlmIChjb3JuZXIgPT09ICdib3R0b20tcmlnaHQnKSB7XG4gICAgY29vcmRpbmF0ZSA9IGdldEJvdHRvbVJpZ2h0KGV4dGVudCk7XG4gIH0gZWxzZSBpZiAoY29ybmVyID09PSAndG9wLWxlZnQnKSB7XG4gICAgY29vcmRpbmF0ZSA9IGdldFRvcExlZnQoZXh0ZW50KTtcbiAgfSBlbHNlIGlmIChjb3JuZXIgPT09ICd0b3AtcmlnaHQnKSB7XG4gICAgY29vcmRpbmF0ZSA9IGdldFRvcFJpZ2h0KGV4dGVudCk7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KGZhbHNlLCAxMyk7IC8vIEludmFsaWQgY29ybmVyXG4gIH1cbiAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQgMi5cbiAqIEByZXR1cm4ge251bWJlcn0gRW5sYXJnZWQgYXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVubGFyZ2VkQXJlYShleHRlbnQxLCBleHRlbnQyKSB7XG4gIGNvbnN0IG1pblggPSBNYXRoLm1pbihleHRlbnQxWzBdLCBleHRlbnQyWzBdKTtcbiAgY29uc3QgbWluWSA9IE1hdGgubWluKGV4dGVudDFbMV0sIGV4dGVudDJbMV0pO1xuICBjb25zdCBtYXhYID0gTWF0aC5tYXgoZXh0ZW50MVsyXSwgZXh0ZW50MlsyXSk7XG4gIGNvbnN0IG1heFkgPSBNYXRoLm1heChleHRlbnQxWzNdLCBleHRlbnQyWzNdKTtcbiAgcmV0dXJuIChtYXhYIC0gbWluWCkgKiAobWF4WSAtIG1pblkpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gc2l6ZSBTaXplLlxuICogQHBhcmFtIHtFeHRlbnR9IFtkZXN0XSBEZXN0aW5hdGlvbiBleHRlbnQuXG4gKiBAcmV0dXJuIHtFeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZvclZpZXdBbmRTaXplKGNlbnRlciwgcmVzb2x1dGlvbiwgcm90YXRpb24sIHNpemUsIGRlc3QpIHtcbiAgY29uc3QgW3gwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5M10gPSBnZXRSb3RhdGVkVmlld3BvcnQoXG4gICAgY2VudGVyLFxuICAgIHJlc29sdXRpb24sXG4gICAgcm90YXRpb24sXG4gICAgc2l6ZVxuICApO1xuICByZXR1cm4gY3JlYXRlT3JVcGRhdGUoXG4gICAgTWF0aC5taW4oeDAsIHgxLCB4MiwgeDMpLFxuICAgIE1hdGgubWluKHkwLCB5MSwgeTIsIHkzKSxcbiAgICBNYXRoLm1heCh4MCwgeDEsIHgyLCB4MyksXG4gICAgTWF0aC5tYXgoeTAsIHkxLCB5MiwgeTMpLFxuICAgIGRlc3RcbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IHNpemUgU2l6ZS5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IExpbmVhciByaW5nIHJlcHJlc2VudGluZyB0aGUgdmlld3BvcnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3RhdGVkVmlld3BvcnQoY2VudGVyLCByZXNvbHV0aW9uLCByb3RhdGlvbiwgc2l6ZSkge1xuICBjb25zdCBkeCA9IChyZXNvbHV0aW9uICogc2l6ZVswXSkgLyAyO1xuICBjb25zdCBkeSA9IChyZXNvbHV0aW9uICogc2l6ZVsxXSkgLyAyO1xuICBjb25zdCBjb3NSb3RhdGlvbiA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgY29uc3Qgc2luUm90YXRpb24gPSBNYXRoLnNpbihyb3RhdGlvbik7XG4gIGNvbnN0IHhDb3MgPSBkeCAqIGNvc1JvdGF0aW9uO1xuICBjb25zdCB4U2luID0gZHggKiBzaW5Sb3RhdGlvbjtcbiAgY29uc3QgeUNvcyA9IGR5ICogY29zUm90YXRpb247XG4gIGNvbnN0IHlTaW4gPSBkeSAqIHNpblJvdGF0aW9uO1xuICBjb25zdCB4ID0gY2VudGVyWzBdO1xuICBjb25zdCB5ID0gY2VudGVyWzFdO1xuICByZXR1cm4gW1xuICAgIHggLSB4Q29zICsgeVNpbixcbiAgICB5IC0geFNpbiAtIHlDb3MsXG4gICAgeCAtIHhDb3MgLSB5U2luLFxuICAgIHkgLSB4U2luICsgeUNvcyxcbiAgICB4ICsgeENvcyAtIHlTaW4sXG4gICAgeSArIHhTaW4gKyB5Q29zLFxuICAgIHggKyB4Q29zICsgeVNpbixcbiAgICB5ICsgeFNpbiAtIHlDb3MsXG4gICAgeCAtIHhDb3MgKyB5U2luLFxuICAgIHkgLSB4U2luIC0geUNvcyxcbiAgXTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGhlaWdodCBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gSGVpZ2h0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGVpZ2h0KGV4dGVudCkge1xuICByZXR1cm4gZXh0ZW50WzNdIC0gZXh0ZW50WzFdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50IDIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEludGVyc2VjdGlvbiBhcmVhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJzZWN0aW9uQXJlYShleHRlbnQxLCBleHRlbnQyKSB7XG4gIGNvbnN0IGludGVyc2VjdGlvbiA9IGdldEludGVyc2VjdGlvbihleHRlbnQxLCBleHRlbnQyKTtcbiAgcmV0dXJuIGdldEFyZWEoaW50ZXJzZWN0aW9uKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGludGVyc2VjdGlvbiBvZiB0d28gZXh0ZW50cy5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQxIEV4dGVudCAxLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDIgRXh0ZW50IDIuXG4gKiBAcGFyYW0ge0V4dGVudH0gW2Rlc3RdIE9wdGlvbmFsIGV4dGVudCB0byBwb3B1bGF0ZSB3aXRoIGludGVyc2VjdGlvbi5cbiAqIEByZXR1cm4ge0V4dGVudH0gSW50ZXJzZWN0aW5nIGV4dGVudC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyc2VjdGlvbihleHRlbnQxLCBleHRlbnQyLCBkZXN0KSB7XG4gIGNvbnN0IGludGVyc2VjdGlvbiA9IGRlc3QgPyBkZXN0IDogY3JlYXRlRW1wdHkoKTtcbiAgaWYgKGludGVyc2VjdHMoZXh0ZW50MSwgZXh0ZW50MikpIHtcbiAgICBpZiAoZXh0ZW50MVswXSA+IGV4dGVudDJbMF0pIHtcbiAgICAgIGludGVyc2VjdGlvblswXSA9IGV4dGVudDFbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVyc2VjdGlvblswXSA9IGV4dGVudDJbMF07XG4gICAgfVxuICAgIGlmIChleHRlbnQxWzFdID4gZXh0ZW50MlsxXSkge1xuICAgICAgaW50ZXJzZWN0aW9uWzFdID0gZXh0ZW50MVsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW50ZXJzZWN0aW9uWzFdID0gZXh0ZW50MlsxXTtcbiAgICB9XG4gICAgaWYgKGV4dGVudDFbMl0gPCBleHRlbnQyWzJdKSB7XG4gICAgICBpbnRlcnNlY3Rpb25bMl0gPSBleHRlbnQxWzJdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcnNlY3Rpb25bMl0gPSBleHRlbnQyWzJdO1xuICAgIH1cbiAgICBpZiAoZXh0ZW50MVszXSA8IGV4dGVudDJbM10pIHtcbiAgICAgIGludGVyc2VjdGlvblszXSA9IGV4dGVudDFbM107XG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVyc2VjdGlvblszXSA9IGV4dGVudDJbM107XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNyZWF0ZU9yVXBkYXRlRW1wdHkoaW50ZXJzZWN0aW9uKTtcbiAgfVxuICByZXR1cm4gaW50ZXJzZWN0aW9uO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBNYXJnaW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXJnaW4oZXh0ZW50KSB7XG4gIHJldHVybiBnZXRXaWR0aChleHRlbnQpICsgZ2V0SGVpZ2h0KGV4dGVudCk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBzaXplICh3aWR0aCwgaGVpZ2h0KSBvZiBhbiBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gVGhlIGV4dGVudCBzaXplLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6ZShleHRlbnQpIHtcbiAgcmV0dXJuIFtleHRlbnRbMl0gLSBleHRlbnRbMF0sIGV4dGVudFszXSAtIGV4dGVudFsxXV07XG59XG5cbi8qKlxuICogR2V0IHRoZSB0b3AgbGVmdCBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRvcCBsZWZ0IGNvb3JkaW5hdGUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3BMZWZ0KGV4dGVudCkge1xuICByZXR1cm4gW2V4dGVudFswXSwgZXh0ZW50WzNdXTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHRvcCByaWdodCBjb29yZGluYXRlIG9mIGFuIGV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRvcCByaWdodCBjb29yZGluYXRlLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9wUmlnaHQoZXh0ZW50KSB7XG4gIHJldHVybiBbZXh0ZW50WzJdLCBleHRlbnRbM11dO1xufVxuXG4vKipcbiAqIEdldCB0aGUgd2lkdGggb2YgYW4gZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFdpZHRoLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2lkdGgoZXh0ZW50KSB7XG4gIHJldHVybiBleHRlbnRbMl0gLSBleHRlbnRbMF07XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIG9uZSBleHRlbnQgaW50ZXJzZWN0cyBhbm90aGVyLlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudDEgRXh0ZW50IDEuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50MiBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdHdvIGV4dGVudHMgaW50ZXJzZWN0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0cyhleHRlbnQxLCBleHRlbnQyKSB7XG4gIHJldHVybiAoXG4gICAgZXh0ZW50MVswXSA8PSBleHRlbnQyWzJdICYmXG4gICAgZXh0ZW50MVsyXSA+PSBleHRlbnQyWzBdICYmXG4gICAgZXh0ZW50MVsxXSA8PSBleHRlbnQyWzNdICYmXG4gICAgZXh0ZW50MVszXSA+PSBleHRlbnQyWzFdXG4gICk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGFuIGV4dGVudCBpcyBlbXB0eS5cbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMgZW1wdHkuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KGV4dGVudCkge1xuICByZXR1cm4gZXh0ZW50WzJdIDwgZXh0ZW50WzBdIHx8IGV4dGVudFszXSA8IGV4dGVudFsxXTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7RXh0ZW50fSBbZGVzdF0gRXh0ZW50LlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXR1cm5PclVwZGF0ZShleHRlbnQsIGRlc3QpIHtcbiAgaWYgKGRlc3QpIHtcbiAgICBkZXN0WzBdID0gZXh0ZW50WzBdO1xuICAgIGRlc3RbMV0gPSBleHRlbnRbMV07XG4gICAgZGVzdFsyXSA9IGV4dGVudFsyXTtcbiAgICBkZXN0WzNdID0gZXh0ZW50WzNdO1xuICAgIHJldHVybiBkZXN0O1xuICB9XG4gIHJldHVybiBleHRlbnQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUZyb21DZW50ZXIoZXh0ZW50LCB2YWx1ZSkge1xuICBjb25zdCBkZWx0YVggPSAoKGV4dGVudFsyXSAtIGV4dGVudFswXSkgLyAyKSAqICh2YWx1ZSAtIDEpO1xuICBjb25zdCBkZWx0YVkgPSAoKGV4dGVudFszXSAtIGV4dGVudFsxXSkgLyAyKSAqICh2YWx1ZSAtIDEpO1xuICBleHRlbnRbMF0gLT0gZGVsdGFYO1xuICBleHRlbnRbMl0gKz0gZGVsdGFYO1xuICBleHRlbnRbMV0gLT0gZGVsdGFZO1xuICBleHRlbnRbM10gKz0gZGVsdGFZO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB0aGUgc2VnbWVudCBiZXR3ZWVuIHR3byBjb29yZGluYXRlcyBpbnRlcnNlY3RzIChjcm9zc2VzLFxuICogdG91Y2hlcywgb3IgaXMgY29udGFpbmVkIGJ5KSB0aGUgcHJvdmlkZWQgZXh0ZW50LlxuICogQHBhcmFtIHtFeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gc3RhcnQgU2VnbWVudCBzdGFydCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gZW5kIFNlZ21lbnQgZW5kIGNvb3JkaW5hdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgc2VnbWVudCBpbnRlcnNlY3RzIHRoZSBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzU2VnbWVudChleHRlbnQsIHN0YXJ0LCBlbmQpIHtcbiAgbGV0IGludGVyc2VjdHMgPSBmYWxzZTtcbiAgY29uc3Qgc3RhcnRSZWwgPSBjb29yZGluYXRlUmVsYXRpb25zaGlwKGV4dGVudCwgc3RhcnQpO1xuICBjb25zdCBlbmRSZWwgPSBjb29yZGluYXRlUmVsYXRpb25zaGlwKGV4dGVudCwgZW5kKTtcbiAgaWYgKFxuICAgIHN0YXJ0UmVsID09PSBSZWxhdGlvbnNoaXAuSU5URVJTRUNUSU5HIHx8XG4gICAgZW5kUmVsID09PSBSZWxhdGlvbnNoaXAuSU5URVJTRUNUSU5HXG4gICkge1xuICAgIGludGVyc2VjdHMgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IG1pblggPSBleHRlbnRbMF07XG4gICAgY29uc3QgbWluWSA9IGV4dGVudFsxXTtcbiAgICBjb25zdCBtYXhYID0gZXh0ZW50WzJdO1xuICAgIGNvbnN0IG1heFkgPSBleHRlbnRbM107XG4gICAgY29uc3Qgc3RhcnRYID0gc3RhcnRbMF07XG4gICAgY29uc3Qgc3RhcnRZID0gc3RhcnRbMV07XG4gICAgY29uc3QgZW5kWCA9IGVuZFswXTtcbiAgICBjb25zdCBlbmRZID0gZW5kWzFdO1xuICAgIGNvbnN0IHNsb3BlID0gKGVuZFkgLSBzdGFydFkpIC8gKGVuZFggLSBzdGFydFgpO1xuICAgIGxldCB4LCB5O1xuICAgIGlmICghIShlbmRSZWwgJiBSZWxhdGlvbnNoaXAuQUJPVkUpICYmICEoc3RhcnRSZWwgJiBSZWxhdGlvbnNoaXAuQUJPVkUpKSB7XG4gICAgICAvLyBwb3RlbnRpYWxseSBpbnRlcnNlY3RzIHRvcFxuICAgICAgeCA9IGVuZFggLSAoZW5kWSAtIG1heFkpIC8gc2xvcGU7XG4gICAgICBpbnRlcnNlY3RzID0geCA+PSBtaW5YICYmIHggPD0gbWF4WDtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIWludGVyc2VjdHMgJiZcbiAgICAgICEhKGVuZFJlbCAmIFJlbGF0aW9uc2hpcC5SSUdIVCkgJiZcbiAgICAgICEoc3RhcnRSZWwgJiBSZWxhdGlvbnNoaXAuUklHSFQpXG4gICAgKSB7XG4gICAgICAvLyBwb3RlbnRpYWxseSBpbnRlcnNlY3RzIHJpZ2h0XG4gICAgICB5ID0gZW5kWSAtIChlbmRYIC0gbWF4WCkgKiBzbG9wZTtcbiAgICAgIGludGVyc2VjdHMgPSB5ID49IG1pblkgJiYgeSA8PSBtYXhZO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhaW50ZXJzZWN0cyAmJlxuICAgICAgISEoZW5kUmVsICYgUmVsYXRpb25zaGlwLkJFTE9XKSAmJlxuICAgICAgIShzdGFydFJlbCAmIFJlbGF0aW9uc2hpcC5CRUxPVylcbiAgICApIHtcbiAgICAgIC8vIHBvdGVudGlhbGx5IGludGVyc2VjdHMgYm90dG9tXG4gICAgICB4ID0gZW5kWCAtIChlbmRZIC0gbWluWSkgLyBzbG9wZTtcbiAgICAgIGludGVyc2VjdHMgPSB4ID49IG1pblggJiYgeCA8PSBtYXhYO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhaW50ZXJzZWN0cyAmJlxuICAgICAgISEoZW5kUmVsICYgUmVsYXRpb25zaGlwLkxFRlQpICYmXG4gICAgICAhKHN0YXJ0UmVsICYgUmVsYXRpb25zaGlwLkxFRlQpXG4gICAgKSB7XG4gICAgICAvLyBwb3RlbnRpYWxseSBpbnRlcnNlY3RzIGxlZnRcbiAgICAgIHkgPSBlbmRZIC0gKGVuZFggLSBtaW5YKSAqIHNsb3BlO1xuICAgICAgaW50ZXJzZWN0cyA9IHkgPj0gbWluWSAmJiB5IDw9IG1heFk7XG4gICAgfVxuICB9XG4gIHJldHVybiBpbnRlcnNlY3RzO1xufVxuXG4vKipcbiAqIEFwcGx5IGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHRvIHRoZSBleHRlbnQuXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSB0cmFuc2Zvcm1GbiBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gKiBDYWxsZWQgd2l0aCBgW21pblgsIG1pblksIG1heFgsIG1heFldYCBleHRlbnQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0V4dGVudH0gW2Rlc3RdIERlc3RpbmF0aW9uIGV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RvcHNdIE51bWJlciBvZiBzdG9wcyBwZXIgc2lkZSB1c2VkIGZvciB0aGUgdHJhbnNmb3JtLlxuICogQnkgZGVmYXVsdCBvbmx5IHRoZSBjb3JuZXJzIGFyZSB1c2VkLlxuICogQHJldHVybiB7RXh0ZW50fSBFeHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVRyYW5zZm9ybShleHRlbnQsIHRyYW5zZm9ybUZuLCBkZXN0LCBzdG9wcykge1xuICBsZXQgY29vcmRpbmF0ZXMgPSBbXTtcbiAgaWYgKHN0b3BzID4gMSkge1xuICAgIGNvbnN0IHdpZHRoID0gZXh0ZW50WzJdIC0gZXh0ZW50WzBdO1xuICAgIGNvbnN0IGhlaWdodCA9IGV4dGVudFszXSAtIGV4dGVudFsxXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0b3BzOyArK2kpIHtcbiAgICAgIGNvb3JkaW5hdGVzLnB1c2goXG4gICAgICAgIGV4dGVudFswXSArICh3aWR0aCAqIGkpIC8gc3RvcHMsXG4gICAgICAgIGV4dGVudFsxXSxcbiAgICAgICAgZXh0ZW50WzJdLFxuICAgICAgICBleHRlbnRbMV0gKyAoaGVpZ2h0ICogaSkgLyBzdG9wcyxcbiAgICAgICAgZXh0ZW50WzJdIC0gKHdpZHRoICogaSkgLyBzdG9wcyxcbiAgICAgICAgZXh0ZW50WzNdLFxuICAgICAgICBleHRlbnRbMF0sXG4gICAgICAgIGV4dGVudFszXSAtIChoZWlnaHQgKiBpKSAvIHN0b3BzXG4gICAgICApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb29yZGluYXRlcyA9IFtcbiAgICAgIGV4dGVudFswXSxcbiAgICAgIGV4dGVudFsxXSxcbiAgICAgIGV4dGVudFsyXSxcbiAgICAgIGV4dGVudFsxXSxcbiAgICAgIGV4dGVudFsyXSxcbiAgICAgIGV4dGVudFszXSxcbiAgICAgIGV4dGVudFswXSxcbiAgICAgIGV4dGVudFszXSxcbiAgICBdO1xuICB9XG4gIHRyYW5zZm9ybUZuKGNvb3JkaW5hdGVzLCBjb29yZGluYXRlcywgMik7XG4gIGNvbnN0IHhzID0gW107XG4gIGNvbnN0IHlzID0gW107XG4gIGZvciAobGV0IGkgPSAwLCBsID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7XG4gICAgeHMucHVzaChjb29yZGluYXRlc1tpXSk7XG4gICAgeXMucHVzaChjb29yZGluYXRlc1tpICsgMV0pO1xuICB9XG4gIHJldHVybiBfYm91bmRpbmdFeHRlbnRYWXMoeHMsIHlzLCBkZXN0KTtcbn1cblxuLyoqXG4gKiBNb2RpZmllcyB0aGUgcHJvdmlkZWQgZXh0ZW50IGluLXBsYWNlIHRvIGJlIHdpdGhpbiB0aGUgcmVhbCB3b3JsZFxuICogZXh0ZW50LlxuICpcbiAqIEBwYXJhbSB7RXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb25cbiAqIEByZXR1cm4ge0V4dGVudH0gVGhlIGV4dGVudCB3aXRoaW4gdGhlIHJlYWwgd29ybGQgZXh0ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcFgoZXh0ZW50LCBwcm9qZWN0aW9uKSB7XG4gIGNvbnN0IHByb2plY3Rpb25FeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICBjb25zdCBjZW50ZXIgPSBnZXRDZW50ZXIoZXh0ZW50KTtcbiAgaWYgKFxuICAgIHByb2plY3Rpb24uY2FuV3JhcFgoKSAmJlxuICAgIChjZW50ZXJbMF0gPCBwcm9qZWN0aW9uRXh0ZW50WzBdIHx8IGNlbnRlclswXSA+PSBwcm9qZWN0aW9uRXh0ZW50WzJdKVxuICApIHtcbiAgICBjb25zdCB3b3JsZFdpZHRoID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG4gICAgY29uc3Qgd29ybGRzQXdheSA9IE1hdGguZmxvb3IoXG4gICAgICAoY2VudGVyWzBdIC0gcHJvamVjdGlvbkV4dGVudFswXSkgLyB3b3JsZFdpZHRoXG4gICAgKTtcbiAgICBjb25zdCBvZmZzZXQgPSB3b3JsZHNBd2F5ICogd29ybGRXaWR0aDtcbiAgICBleHRlbnRbMF0gLT0gb2Zmc2V0O1xuICAgIGV4dGVudFsyXSAtPSBvZmZzZXQ7XG4gIH1cbiAgcmV0dXJuIGV4dGVudDtcbn1cblxuLyoqXG4gKiBGaXRzIHRoZSBleHRlbnQgdG8gdGhlIHJlYWwgd29ybGRcbiAqXG4gKiBJZiB0aGUgZXh0ZW50IGRvZXMgbm90IGNyb3NzIHRoZSBhbnRpIG1lcmlkaWFuLCB0aGlzIHdpbGwgcmV0dXJuIHRoZSBleHRlbnQgaW4gYW4gYXJyYXlcbiAqIElmIHRoZSBleHRlbnQgY3Jvc3NlcyB0aGUgYW50aSBtZXJpZGlhbiwgdGhlIGV4dGVudCB3aWxsIGJlIHNsaWNlZCwgc28gZWFjaCBwYXJ0IGZpdHMgd2l0aGluIHRoZVxuICogcmVhbCB3b3JsZFxuICpcbiAqXG4gKiBAcGFyYW0ge0V4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uXG4gKiBAcmV0dXJuIHtBcnJheTxFeHRlbnQ+fSBUaGUgZXh0ZW50IHdpdGhpbiB0aGUgcmVhbCB3b3JsZCBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwQW5kU2xpY2VYKGV4dGVudCwgcHJvamVjdGlvbikge1xuICBpZiAocHJvamVjdGlvbi5jYW5XcmFwWCgpKSB7XG4gICAgY29uc3QgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG5cbiAgICBpZiAoIWlzRmluaXRlKGV4dGVudFswXSkgfHwgIWlzRmluaXRlKGV4dGVudFsyXSkpIHtcbiAgICAgIHJldHVybiBbW3Byb2plY3Rpb25FeHRlbnRbMF0sIGV4dGVudFsxXSwgcHJvamVjdGlvbkV4dGVudFsyXSwgZXh0ZW50WzNdXV07XG4gICAgfVxuXG4gICAgd3JhcFgoZXh0ZW50LCBwcm9qZWN0aW9uKTtcbiAgICBjb25zdCB3b3JsZFdpZHRoID0gZ2V0V2lkdGgocHJvamVjdGlvbkV4dGVudCk7XG5cbiAgICBpZiAoZ2V0V2lkdGgoZXh0ZW50KSA+IHdvcmxkV2lkdGgpIHtcbiAgICAgIC8vIHRoZSBleHRlbnQgd3JhcHMgYXJvdW5kIG9uIGl0c2VsZlxuICAgICAgcmV0dXJuIFtbcHJvamVjdGlvbkV4dGVudFswXSwgZXh0ZW50WzFdLCBwcm9qZWN0aW9uRXh0ZW50WzJdLCBleHRlbnRbM11dXTtcbiAgICB9IGVsc2UgaWYgKGV4dGVudFswXSA8IHByb2plY3Rpb25FeHRlbnRbMF0pIHtcbiAgICAgIC8vIHRoZSBleHRlbnQgY3Jvc3NlcyB0aGUgYW50aSBtZXJpZGlhbiwgc28gaXQgbmVlZHMgdG8gYmUgc2xpY2VkXG4gICAgICByZXR1cm4gW1xuICAgICAgICBbZXh0ZW50WzBdICsgd29ybGRXaWR0aCwgZXh0ZW50WzFdLCBwcm9qZWN0aW9uRXh0ZW50WzJdLCBleHRlbnRbM11dLFxuICAgICAgICBbcHJvamVjdGlvbkV4dGVudFswXSwgZXh0ZW50WzFdLCBleHRlbnRbMl0sIGV4dGVudFszXV0sXG4gICAgICBdO1xuICAgIH0gZWxzZSBpZiAoZXh0ZW50WzJdID4gcHJvamVjdGlvbkV4dGVudFsyXSkge1xuICAgICAgLy8gdGhlIGV4dGVudCBjcm9zc2VzIHRoZSBhbnRpIG1lcmlkaWFuLCBzbyBpdCBuZWVkcyB0byBiZSBzbGljZWRcbiAgICAgIHJldHVybiBbXG4gICAgICAgIFtleHRlbnRbMF0sIGV4dGVudFsxXSwgcHJvamVjdGlvbkV4dGVudFsyXSwgZXh0ZW50WzNdXSxcbiAgICAgICAgW3Byb2plY3Rpb25FeHRlbnRbMF0sIGV4dGVudFsxXSwgZXh0ZW50WzJdIC0gd29ybGRXaWR0aCwgZXh0ZW50WzNdXSxcbiAgICAgIF07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFtleHRlbnRdO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2V4dGVudC9SZWxhdGlvbnNoaXBcbiAqL1xuXG4vKipcbiAqIFJlbGF0aW9uc2hpcCB0byBhbiBleHRlbnQuXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIFVOS05PV046IDAsXG4gIElOVEVSU0VDVElORzogMSxcbiAgQUJPVkU6IDIsXG4gIFJJR0hUOiA0LFxuICBCRUxPVzogOCxcbiAgTEVGVDogMTYsXG59O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2Zvcm1hdC9GZWF0dXJlXG4gKi9cbmltcG9ydCB7YWJzdHJhY3R9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHtcbiAgZXF1aXZhbGVudCBhcyBlcXVpdmFsZW50UHJvamVjdGlvbixcbiAgZ2V0IGFzIGdldFByb2plY3Rpb24sXG4gIHRyYW5zZm9ybUV4dGVudCxcbn0gZnJvbSAnLi4vcHJvai5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmVhZE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW2RhdGFQcm9qZWN0aW9uXSBQcm9qZWN0aW9uIG9mIHRoZSBkYXRhIHdlIGFyZSByZWFkaW5nLlxuICogSWYgbm90IHByb3ZpZGVkLCB0aGUgcHJvamVjdGlvbiB3aWxsIGJlIGRlcml2ZWQgZnJvbSB0aGUgZGF0YSAod2hlcmUgcG9zc2libGUpIG9yXG4gKiB0aGUgYGRhdGFQcm9qZWN0aW9uYCBvZiB0aGUgZm9ybWF0IGlzIGFzc2lnbmVkICh3aGVyZSBzZXQpLiBJZiB0aGUgcHJvamVjdGlvblxuICogY2FuIG5vdCBiZSBkZXJpdmVkIGZyb20gdGhlIGRhdGEgYW5kIGlmIG5vIGBkYXRhUHJvamVjdGlvbmAgaXMgc2V0IGZvciBhIGZvcm1hdCxcbiAqIHRoZSBmZWF0dXJlcyB3aWxsIG5vdCBiZSByZXByb2plY3RlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGlsZSBleHRlbnQgaW4gbWFwIHVuaXRzIG9mIHRoZSB0aWxlIGJlaW5nIHJlYWQuXG4gKiBUaGlzIGlzIG9ubHkgcmVxdWlyZWQgd2hlbiByZWFkaW5nIGRhdGEgd2l0aCB0aWxlIHBpeGVscyBhcyBnZW9tZXRyeSB1bml0cy4gV2hlbiBjb25maWd1cmVkLFxuICogYSBgZGF0YVByb2plY3Rpb25gIHdpdGggYFRJTEVfUElYRUxTYCBhcyBgdW5pdHNgIGFuZCB0aGUgdGlsZSdzIHBpeGVsIGV4dGVudCBhcyBgZXh0ZW50YCBuZWVkcyB0byBiZVxuICogcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtmZWF0dXJlUHJvamVjdGlvbl0gUHJvamVjdGlvbiBvZiB0aGUgZmVhdHVyZSBnZW9tZXRyaWVzXG4gKiBjcmVhdGVkIGJ5IHRoZSBmb3JtYXQgcmVhZGVyLiBJZiBub3QgcHJvdmlkZWQsIGZlYXR1cmVzIHdpbGwgYmUgcmV0dXJuZWQgaW4gdGhlXG4gKiBgZGF0YVByb2plY3Rpb25gLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gV3JpdGVPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtkYXRhUHJvamVjdGlvbl0gUHJvamVjdGlvbiBvZiB0aGUgZGF0YSB3ZSBhcmUgd3JpdGluZy5cbiAqIElmIG5vdCBwcm92aWRlZCwgdGhlIGBkYXRhUHJvamVjdGlvbmAgb2YgdGhlIGZvcm1hdCBpcyBhc3NpZ25lZCAod2hlcmUgc2V0KS5cbiAqIElmIG5vIGBkYXRhUHJvamVjdGlvbmAgaXMgc2V0IGZvciBhIGZvcm1hdCwgdGhlIGZlYXR1cmVzIHdpbGwgYmUgcmV0dXJuZWRcbiAqIGluIHRoZSBgZmVhdHVyZVByb2plY3Rpb25gLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbZmVhdHVyZVByb2plY3Rpb25dIFByb2plY3Rpb24gb2YgdGhlIGZlYXR1cmUgZ2VvbWV0cmllc1xuICogdGhhdCB3aWxsIGJlIHNlcmlhbGl6ZWQgYnkgdGhlIGZvcm1hdCB3cml0ZXIuIElmIG5vdCBwcm92aWRlZCwgZ2VvbWV0cmllcyBhcmUgYXNzdW1lZFxuICogdG8gYmUgaW4gdGhlIGBkYXRhUHJvamVjdGlvbmAgaWYgdGhhdCBpcyBzZXQ7IGluIG90aGVyIHdvcmRzLCB0aGV5IGFyZSBub3QgdHJhbnNmb3JtZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyaWdodEhhbmRlZF0gV2hlbiB3cml0aW5nIGdlb21ldHJpZXMsIGZvbGxvdyB0aGUgcmlnaHQtaGFuZFxuICogcnVsZSBmb3IgbGluZWFyIHJpbmcgb3JpZW50YXRpb24uICBUaGlzIG1lYW5zIHRoYXQgcG9seWdvbnMgd2lsbCBoYXZlIGNvdW50ZXItY2xvY2t3aXNlXG4gKiBleHRlcmlvciByaW5ncyBhbmQgY2xvY2t3aXNlIGludGVyaW9yIHJpbmdzLiAgQnkgZGVmYXVsdCwgY29vcmRpbmF0ZXMgYXJlIHNlcmlhbGl6ZWRcbiAqIGFzIHRoZXkgYXJlIHByb3ZpZGVkIGF0IGNvbnN0cnVjdGlvbi4gIElmIGB0cnVlYCwgdGhlIHJpZ2h0LWhhbmQgcnVsZSB3aWxsXG4gKiBiZSBhcHBsaWVkLiAgSWYgYGZhbHNlYCwgdGhlIGxlZnQtaGFuZCBydWxlIHdpbGwgYmUgYXBwbGllZCAoY2xvY2t3aXNlIGZvclxuICogZXh0ZXJpb3IgYW5kIGNvdW50ZXItY2xvY2t3aXNlIGZvciBpbnRlcmlvciByaW5ncykuICBOb3RlIHRoYXQgbm90IGFsbFxuICogZm9ybWF0cyBzdXBwb3J0IHRoaXMuICBUaGUgR2VvSlNPTiBmb3JtYXQgZG9lcyB1c2UgdGhpcyBwcm9wZXJ0eSB3aGVuIHdyaXRpbmdcbiAqIGdlb21ldHJpZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2RlY2ltYWxzXSBNYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBmb3IgY29vcmRpbmF0ZXMuXG4gKiBDb29yZGluYXRlcyBhcmUgc3RvcmVkIGludGVybmFsbHkgYXMgZmxvYXRzLCBidXQgZmxvYXRpbmctcG9pbnQgYXJpdGhtZXRpYyBjYW4gY3JlYXRlXG4gKiBjb29yZGluYXRlcyB3aXRoIGEgbGFyZ2UgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzLCBub3QgZ2VuZXJhbGx5IHdhbnRlZCBvbiBvdXRwdXQuXG4gKiBTZXQgYSBudW1iZXIgaGVyZSB0byByb3VuZCBjb29yZGluYXRlcy4gQ2FuIGFsc28gYmUgdXNlZCB0byBlbnN1cmUgdGhhdFxuICogY29vcmRpbmF0ZXMgcmVhZCBpbiBjYW4gYmUgd3JpdHRlbiBiYWNrIG91dCB3aXRoIHRoZSBzYW1lIG51bWJlciBvZiBkZWNpbWFscy5cbiAqIERlZmF1bHQgaXMgbm8gcm91bmRpbmcuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7J2FycmF5YnVmZmVyJyB8ICdqc29uJyB8ICd0ZXh0JyB8ICd4bWwnfSBUeXBlXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBCYXNlIGNsYXNzIGZvciBmZWF0dXJlIGZvcm1hdHMuXG4gKiB7QGxpbmsgbW9kdWxlOm9sL2Zvcm1hdC9GZWF0dXJlfkZlYXR1cmVGb3JtYXR9IHN1YmNsYXNzZXMgcHJvdmlkZSB0aGUgYWJpbGl0eSB0byBkZWNvZGUgYW5kIGVuY29kZVxuICoge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmV9IG9iamVjdHMgZnJvbSBhIHZhcmlldHkgb2YgY29tbW9ubHkgdXNlZCBnZW9zcGF0aWFsXG4gKiBmaWxlIGZvcm1hdHMuICBTZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIGVhY2ggZm9ybWF0IGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbmNsYXNzIEZlYXR1cmVGb3JtYXQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmRhdGFQcm9qZWN0aW9uID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdHx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5kZWZhdWx0RmVhdHVyZVByb2plY3Rpb24gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBBIGxpc3QgbWVkaWEgdHlwZXMgc3VwcG9ydGVkIGJ5IHRoZSBmb3JtYXQgaW4gZGVzY2VuZGluZyBvcmRlciBvZiBwcmVmZXJlbmNlLlxuICAgICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgICAqL1xuICAgIHRoaXMuc3VwcG9ydGVkTWVkaWFUeXBlcyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgZGF0YSBwcm9qZWN0aW9uIHRvIHRoZSByZWFkIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7RG9jdW1lbnR8RWxlbWVudHxPYmplY3R8c3RyaW5nfSBzb3VyY2UgU291cmNlLlxuICAgKiBAcGFyYW0ge1JlYWRPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICogQHJldHVybiB7UmVhZE9wdGlvbnN8dW5kZWZpbmVkfSBPcHRpb25zLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRSZWFkT3B0aW9ucyhzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgbGV0IGRhdGFQcm9qZWN0aW9uID0gb3B0aW9ucy5kYXRhUHJvamVjdGlvblxuICAgICAgICA/IGdldFByb2plY3Rpb24ob3B0aW9ucy5kYXRhUHJvamVjdGlvbilcbiAgICAgICAgOiB0aGlzLnJlYWRQcm9qZWN0aW9uKHNvdXJjZSk7XG4gICAgICBpZiAoXG4gICAgICAgIG9wdGlvbnMuZXh0ZW50ICYmXG4gICAgICAgIGRhdGFQcm9qZWN0aW9uICYmXG4gICAgICAgIGRhdGFQcm9qZWN0aW9uLmdldFVuaXRzKCkgPT09ICd0aWxlLXBpeGVscydcbiAgICAgICkge1xuICAgICAgICBkYXRhUHJvamVjdGlvbiA9IGdldFByb2plY3Rpb24oZGF0YVByb2plY3Rpb24pO1xuICAgICAgICBkYXRhUHJvamVjdGlvbi5zZXRXb3JsZEV4dGVudChvcHRpb25zLmV4dGVudCk7XG4gICAgICB9XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBkYXRhUHJvamVjdGlvbjogZGF0YVByb2plY3Rpb24sXG4gICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiBvcHRpb25zLmZlYXR1cmVQcm9qZWN0aW9uLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYWRhcHRPcHRpb25zKG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGBkYXRhUHJvamVjdGlvbmAgb24gdGhlIG9wdGlvbnMsIGlmIG5vIGBkYXRhUHJvamVjdGlvbmBcbiAgICogaXMgc2V0LlxuICAgKiBAcGFyYW0ge1dyaXRlT3B0aW9uc3xSZWFkT3B0aW9uc3x1bmRlZmluZWR9IG9wdGlvbnNcbiAgICogICAgIE9wdGlvbnMuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHJldHVybiB7V3JpdGVPcHRpb25zfFJlYWRPcHRpb25zfHVuZGVmaW5lZH1cbiAgICogICAgIFVwZGF0ZWQgb3B0aW9ucy5cbiAgICovXG4gIGFkYXB0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oXG4gICAgICB7XG4gICAgICAgIGRhdGFQcm9qZWN0aW9uOiB0aGlzLmRhdGFQcm9qZWN0aW9uLFxuICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogdGhpcy5kZWZhdWx0RmVhdHVyZVByb2plY3Rpb24sXG4gICAgICB9LFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge1R5cGV9IFRoZSBmb3JtYXQgdHlwZS5cbiAgICovXG4gIGdldFR5cGUoKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVhZCBhIHNpbmdsZSBmZWF0dXJlIGZyb20gYSBzb3VyY2UuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge0RvY3VtZW50fEVsZW1lbnR8T2JqZWN0fHN0cmluZ30gc291cmNlIFNvdXJjZS5cbiAgICogQHBhcmFtIHtSZWFkT3B0aW9uc30gW29wdGlvbnNdIFJlYWQgb3B0aW9ucy5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gRmVhdHVyZS5cbiAgICovXG4gIHJlYWRGZWF0dXJlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgYWxsIGZlYXR1cmVzIGZyb20gYSBzb3VyY2UuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge0RvY3VtZW50fEVsZW1lbnR8QXJyYXlCdWZmZXJ8T2JqZWN0fHN0cmluZ30gc291cmNlIFNvdXJjZS5cbiAgICogQHBhcmFtIHtSZWFkT3B0aW9uc30gW29wdGlvbnNdIFJlYWQgb3B0aW9ucy5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59IEZlYXR1cmVzLlxuICAgKi9cbiAgcmVhZEZlYXR1cmVzKHNvdXJjZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgYSBzaW5nbGUgZ2VvbWV0cnkgZnJvbSBhIHNvdXJjZS5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7RG9jdW1lbnR8RWxlbWVudHxPYmplY3R8c3RyaW5nfSBzb3VyY2UgU291cmNlLlxuICAgKiBAcGFyYW0ge1JlYWRPcHRpb25zfSBbb3B0aW9uc10gUmVhZCBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9IEdlb21ldHJ5LlxuICAgKi9cbiAgcmVhZEdlb21ldHJ5KHNvdXJjZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgdGhlIHByb2plY3Rpb24gZnJvbSBhIHNvdXJjZS5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7RG9jdW1lbnR8RWxlbWVudHxPYmplY3R8c3RyaW5nfSBzb3VyY2UgU291cmNlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFByb2plY3Rpb24uXG4gICAqL1xuICByZWFkUHJvamVjdGlvbihzb3VyY2UpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmNvZGUgYSBmZWF0dXJlIGluIHRoaXMgZm9ybWF0LlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHBhcmFtIHtXcml0ZU9wdGlvbnN9IFtvcHRpb25zXSBXcml0ZSBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8QXJyYXlCdWZmZXJ9IFJlc3VsdC5cbiAgICovXG4gIHdyaXRlRmVhdHVyZShmZWF0dXJlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogRW5jb2RlIGFuIGFycmF5IG9mIGZlYXR1cmVzIGluIHRoaXMgZm9ybWF0LlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fSBmZWF0dXJlcyBGZWF0dXJlcy5cbiAgICogQHBhcmFtIHtXcml0ZU9wdGlvbnN9IFtvcHRpb25zXSBXcml0ZSBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8QXJyYXlCdWZmZXJ9IFJlc3VsdC5cbiAgICovXG4gIHdyaXRlRmVhdHVyZXMoZmVhdHVyZXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcml0ZSBhIHNpbmdsZSBnZW9tZXRyeSBpbiB0aGlzIGZvcm1hdC5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICogQHBhcmFtIHtXcml0ZU9wdGlvbnN9IFtvcHRpb25zXSBXcml0ZSBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8QXJyYXlCdWZmZXJ9IFJlc3VsdC5cbiAgICovXG4gIHdyaXRlR2VvbWV0cnkoZ2VvbWV0cnksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGZWF0dXJlRm9ybWF0O1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gd3JpdGUgU2V0IHRvIHRydWUgZm9yIHdyaXRpbmcsIGZhbHNlIGZvciByZWFkaW5nLlxuICogQHBhcmFtIHtXcml0ZU9wdGlvbnN8UmVhZE9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBUcmFuc2Zvcm1lZCBnZW9tZXRyeS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUdlb21ldHJ5V2l0aE9wdGlvbnMoZ2VvbWV0cnksIHdyaXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IGZlYXR1cmVQcm9qZWN0aW9uID0gb3B0aW9uc1xuICAgID8gZ2V0UHJvamVjdGlvbihvcHRpb25zLmZlYXR1cmVQcm9qZWN0aW9uKVxuICAgIDogbnVsbDtcbiAgY29uc3QgZGF0YVByb2plY3Rpb24gPSBvcHRpb25zID8gZ2V0UHJvamVjdGlvbihvcHRpb25zLmRhdGFQcm9qZWN0aW9uKSA6IG51bGw7XG5cbiAgbGV0IHRyYW5zZm9ybWVkO1xuICBpZiAoXG4gICAgZmVhdHVyZVByb2plY3Rpb24gJiZcbiAgICBkYXRhUHJvamVjdGlvbiAmJlxuICAgICFlcXVpdmFsZW50UHJvamVjdGlvbihmZWF0dXJlUHJvamVjdGlvbiwgZGF0YVByb2plY3Rpb24pXG4gICkge1xuICAgIHRyYW5zZm9ybWVkID0gKHdyaXRlID8gZ2VvbWV0cnkuY2xvbmUoKSA6IGdlb21ldHJ5KS50cmFuc2Zvcm0oXG4gICAgICB3cml0ZSA/IGZlYXR1cmVQcm9qZWN0aW9uIDogZGF0YVByb2plY3Rpb24sXG4gICAgICB3cml0ZSA/IGRhdGFQcm9qZWN0aW9uIDogZmVhdHVyZVByb2plY3Rpb25cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHRyYW5zZm9ybWVkID0gZ2VvbWV0cnk7XG4gIH1cbiAgaWYgKFxuICAgIHdyaXRlICYmXG4gICAgb3B0aW9ucyAmJlxuICAgIC8qKiBAdHlwZSB7V3JpdGVPcHRpb25zfSAqLyAob3B0aW9ucykuZGVjaW1hbHMgIT09IHVuZGVmaW5lZFxuICApIHtcbiAgICBjb25zdCBwb3dlciA9IE1hdGgucG93KDEwLCAvKiogQHR5cGUge1dyaXRlT3B0aW9uc30gKi8gKG9wdGlvbnMpLmRlY2ltYWxzKTtcbiAgICAvLyBpZiBkZWNpbWFscyBvcHRpb24gb24gd3JpdGUsIHJvdW5kIGVhY2ggY29vcmRpbmF0ZSBhcHByb3ByaWF0ZWx5XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUcmFuc2Zvcm1lZCBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY29vcmRpbmF0ZXMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgY29vcmRpbmF0ZXNbaV0gPSBNYXRoLnJvdW5kKGNvb3JkaW5hdGVzW2ldICogcG93ZXIpIC8gcG93ZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29vcmRpbmF0ZXM7XG4gICAgfTtcbiAgICBpZiAodHJhbnNmb3JtZWQgPT09IGdlb21ldHJ5KSB7XG4gICAgICB0cmFuc2Zvcm1lZCA9IGdlb21ldHJ5LmNsb25lKCk7XG4gICAgfVxuICAgIHRyYW5zZm9ybWVkLmFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybSk7XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybWVkO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7UmVhZE9wdGlvbnN9IFtvcHRpb25zXSBSZWFkIG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBUcmFuc2Zvcm1lZCBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1FeHRlbnRXaXRoT3B0aW9ucyhleHRlbnQsIG9wdGlvbnMpIHtcbiAgY29uc3QgZmVhdHVyZVByb2plY3Rpb24gPSBvcHRpb25zXG4gICAgPyBnZXRQcm9qZWN0aW9uKG9wdGlvbnMuZmVhdHVyZVByb2plY3Rpb24pXG4gICAgOiBudWxsO1xuICBjb25zdCBkYXRhUHJvamVjdGlvbiA9IG9wdGlvbnMgPyBnZXRQcm9qZWN0aW9uKG9wdGlvbnMuZGF0YVByb2plY3Rpb24pIDogbnVsbDtcblxuICBpZiAoXG4gICAgZmVhdHVyZVByb2plY3Rpb24gJiZcbiAgICBkYXRhUHJvamVjdGlvbiAmJlxuICAgICFlcXVpdmFsZW50UHJvamVjdGlvbihmZWF0dXJlUHJvamVjdGlvbiwgZGF0YVByb2plY3Rpb24pXG4gICkge1xuICAgIHJldHVybiB0cmFuc2Zvcm1FeHRlbnQoZXh0ZW50LCBkYXRhUHJvamVjdGlvbiwgZmVhdHVyZVByb2plY3Rpb24pO1xuICB9XG4gIHJldHVybiBleHRlbnQ7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZnVuY3Rpb25zXG4gKi9cblxuaW1wb3J0IHtlcXVhbHMgYXMgYXJyYXlFcXVhbHN9IGZyb20gJy4vYXJyYXkuanMnO1xuXG4vKipcbiAqIEFsd2F5cyByZXR1cm5zIHRydWUuXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gVFJVRSgpIHtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQWx3YXlzIHJldHVybnMgZmFsc2UuXG4gKiBAcmV0dXJuIHtib29sZWFufSBmYWxzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZBTFNFKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQSByZXVzYWJsZSBmdW5jdGlvbiwgdXNlZCBlLmcuIGFzIGEgZGVmYXVsdCBmb3IgY2FsbGJhY2tzLlxuICpcbiAqIEByZXR1cm4ge3ZvaWR9IE5vdGhpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBWT0lEKCkge31cblxuLyoqXG4gKiBXcmFwIGEgZnVuY3Rpb24gaW4gYW5vdGhlciBmdW5jdGlvbiB0aGF0IHJlbWVtYmVycyB0aGUgbGFzdCByZXR1cm4uICBJZiB0aGVcbiAqIHJldHVybmVkIGZ1bmN0aW9uIGlzIGNhbGxlZCB0d2ljZSBpbiBhIHJvdyB3aXRoIHRoZSBzYW1lIGFyZ3VtZW50cyBhbmQgdGhlIHNhbWVcbiAqIHRoaXMgb2JqZWN0LCBpdCB3aWxsIHJldHVybiB0aGUgdmFsdWUgZnJvbSB0aGUgZmlyc3QgY2FsbCBpbiB0aGUgc2Vjb25kIGNhbGwuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbiguLi5hbnkpOiBSZXR1cm5UeXBlfSBmbiBUaGUgZnVuY3Rpb24gdG8gbWVtb2l6ZS5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKC4uLmFueSk6IFJldHVyblR5cGV9IFRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAqIEB0ZW1wbGF0ZSBSZXR1cm5UeXBlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZW1vaXplT25lKGZuKSB7XG4gIGxldCBjYWxsZWQgPSBmYWxzZTtcblxuICAvKiogQHR5cGUge1JldHVyblR5cGV9ICovXG4gIGxldCBsYXN0UmVzdWx0O1xuXG4gIC8qKiBAdHlwZSB7QXJyYXk8YW55Pn0gKi9cbiAgbGV0IGxhc3RBcmdzO1xuXG4gIGxldCBsYXN0VGhpcztcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IG5leHRBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICBpZiAoIWNhbGxlZCB8fCB0aGlzICE9PSBsYXN0VGhpcyB8fCAhYXJyYXlFcXVhbHMobmV4dEFyZ3MsIGxhc3RBcmdzKSkge1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICAgIGxhc3RBcmdzID0gbmV4dEFyZ3M7XG4gICAgICBsYXN0UmVzdWx0ID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gIH07XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogKFQgfCBQcm9taXNlPFQ+KX0gZ2V0dGVyIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdmFsdWUgb3IgYSBwcm9taXNlIGZvciBhIHZhbHVlLlxuICogQHJldHVybiB7UHJvbWlzZTxUPn0gQSBwcm9taXNlIGZvciB0aGUgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1Byb21pc2UoZ2V0dGVyKSB7XG4gIGZ1bmN0aW9uIHByb21pc2VHZXR0ZXIoKSB7XG4gICAgbGV0IHZhbHVlO1xuICAgIHRyeSB7XG4gICAgICB2YWx1ZSA9IGdldHRlcigpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfVxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2VHZXR0ZXIoKTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvY2xvc2VzdFxuICovXG5pbXBvcnQge2xlcnAsIHNxdWFyZWREaXN0YW5jZSBhcyBzcXVhcmVkRHh9IGZyb20gJy4uLy4uL21hdGguanMnO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHBvaW50IG9uIHRoZSAyRCBsaW5lIHNlZ21lbnQgZmxhdENvb3JkaW5hdGVzW29mZnNldDFdIHRvXG4gKiBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0Ml0gdGhhdCBpcyBjbG9zZXN0IHRvIHRoZSBwb2ludCAoeCwgeSkuICBFeHRyYVxuICogZGltZW5zaW9ucyBhcmUgbGluZWFybHkgaW50ZXJwb2xhdGVkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQxIE9mZnNldCAxLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldDIgT2Zmc2V0IDIuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAqL1xuZnVuY3Rpb24gYXNzaWduQ2xvc2VzdChcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQxLFxuICBvZmZzZXQyLFxuICBzdHJpZGUsXG4gIHgsXG4gIHksXG4gIGNsb3Nlc3RQb2ludFxuKSB7XG4gIGNvbnN0IHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldDFdO1xuICBjb25zdCB5MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQxICsgMV07XG4gIGNvbnN0IGR4ID0gZmxhdENvb3JkaW5hdGVzW29mZnNldDJdIC0geDE7XG4gIGNvbnN0IGR5ID0gZmxhdENvb3JkaW5hdGVzW29mZnNldDIgKyAxXSAtIHkxO1xuICBsZXQgb2Zmc2V0O1xuICBpZiAoZHggPT09IDAgJiYgZHkgPT09IDApIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQxO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHQgPSAoKHggLSB4MSkgKiBkeCArICh5IC0geTEpICogZHkpIC8gKGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICBpZiAodCA+IDEpIHtcbiAgICAgIG9mZnNldCA9IG9mZnNldDI7XG4gICAgfSBlbHNlIGlmICh0ID4gMCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICBjbG9zZXN0UG9pbnRbaV0gPSBsZXJwKFxuICAgICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQxICsgaV0sXG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldDIgKyBpXSxcbiAgICAgICAgICB0XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBvZmZzZXQgPSBvZmZzZXQxO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgY2xvc2VzdFBvaW50W2ldID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGldO1xuICB9XG4gIGNsb3Nlc3RQb2ludC5sZW5ndGggPSBzdHJpZGU7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBzcXVhcmVkIG9mIHRoZSBsYXJnZXN0IGRpc3RhbmNlIGJldHdlZW4gYW55IHBhaXIgb2YgY29uc2VjdXRpdmVcbiAqIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggTWF4IHNxdWFyZWQgZGVsdGEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1heCBzcXVhcmVkIGRlbHRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF4U3F1YXJlZERlbHRhKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgbWF4KSB7XG4gIGxldCB4MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICBsZXQgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gIGZvciAob2Zmc2V0ICs9IHN0cmlkZTsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgY29uc3QgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICBjb25zdCB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICBjb25zdCBzcXVhcmVkRGVsdGEgPSBzcXVhcmVkRHgoeDEsIHkxLCB4MiwgeTIpO1xuICAgIGlmIChzcXVhcmVkRGVsdGEgPiBtYXgpIHtcbiAgICAgIG1heCA9IHNxdWFyZWREZWx0YTtcbiAgICB9XG4gICAgeDEgPSB4MjtcbiAgICB5MSA9IHkyO1xuICB9XG4gIHJldHVybiBtYXg7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggTWF4IHNxdWFyZWQgZGVsdGEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1heCBzcXVhcmVkIGRlbHRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlNYXhTcXVhcmVkRGVsdGEoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzLFxuICBzdHJpZGUsXG4gIG1heFxuKSB7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZCA9IGVuZHNbaV07XG4gICAgbWF4ID0gbWF4U3F1YXJlZERlbHRhKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgbWF4KTtcbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgcmV0dXJuIG1heDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBNYXggc3F1YXJlZCBkZWx0YS5cbiAqIEByZXR1cm4ge251bWJlcn0gTWF4IHNxdWFyZWQgZGVsdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aUFycmF5TWF4U3F1YXJlZERlbHRhKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kc3MsXG4gIHN0cmlkZSxcbiAgbWF4XG4pIHtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZHMgPSBlbmRzc1tpXTtcbiAgICBtYXggPSBhcnJheU1heFNxdWFyZWREZWx0YShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlLCBtYXgpO1xuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gbWF4O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4RGVsdGEgTWF4IGRlbHRhLlxuICogQHBhcmFtIHtib29sZWFufSBpc1JpbmcgSXMgcmluZy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbdG1wUG9pbnRdIFRlbXBvcmFyeSBwb2ludCBvYmplY3QuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbkNsb3Nlc3RQb2ludChcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBtYXhEZWx0YSxcbiAgaXNSaW5nLFxuICB4LFxuICB5LFxuICBjbG9zZXN0UG9pbnQsXG4gIG1pblNxdWFyZWREaXN0YW5jZSxcbiAgdG1wUG9pbnRcbikge1xuICBpZiAob2Zmc2V0ID09IGVuZCkge1xuICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gIH1cbiAgbGV0IGksIHNxdWFyZWREaXN0YW5jZTtcbiAgaWYgKG1heERlbHRhID09PSAwKSB7XG4gICAgLy8gQWxsIHBvaW50cyBhcmUgaWRlbnRpY2FsLCBzbyBqdXN0IHRlc3QgdGhlIGZpcnN0IHBvaW50LlxuICAgIHNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREeChcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldF0sXG4gICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV1cbiAgICApO1xuICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICBjbG9zZXN0UG9pbnRbaV0gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV07XG4gICAgICB9XG4gICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgcmV0dXJuIHNxdWFyZWREaXN0YW5jZTtcbiAgICB9XG4gICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbiAgfVxuICB0bXBQb2ludCA9IHRtcFBvaW50ID8gdG1wUG9pbnQgOiBbTmFOLCBOYU5dO1xuICBsZXQgaW5kZXggPSBvZmZzZXQgKyBzdHJpZGU7XG4gIHdoaWxlIChpbmRleCA8IGVuZCkge1xuICAgIGFzc2lnbkNsb3Nlc3QoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBpbmRleCAtIHN0cmlkZSxcbiAgICAgIGluZGV4LFxuICAgICAgc3RyaWRlLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICB0bXBQb2ludFxuICAgICk7XG4gICAgc3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZER4KHgsIHksIHRtcFBvaW50WzBdLCB0bXBQb2ludFsxXSk7XG4gICAgaWYgKHNxdWFyZWREaXN0YW5jZSA8IG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgbWluU3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZERpc3RhbmNlO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICAgIGNsb3Nlc3RQb2ludFtpXSA9IHRtcFBvaW50W2ldO1xuICAgICAgfVxuICAgICAgY2xvc2VzdFBvaW50Lmxlbmd0aCA9IHN0cmlkZTtcbiAgICAgIGluZGV4ICs9IHN0cmlkZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2tpcCBhaGVhZCBtdWx0aXBsZSBwb2ludHMsIGJlY2F1c2Ugd2Uga25vdyB0aGF0IGFsbCB0aGUgc2tpcHBlZFxuICAgICAgLy8gcG9pbnRzIGNhbm5vdCBiZSBhbnkgY2xvc2VyIHRoYW4gdGhlIGNsb3Nlc3QgcG9pbnQgd2UgaGF2ZSBmb3VuZCBzb1xuICAgICAgLy8gZmFyLiAgV2Uga25vdyB0aGlzIGJlY2F1c2Ugd2Uga25vdyBob3cgY2xvc2UgdGhlIGN1cnJlbnQgcG9pbnQgaXMsIGhvd1xuICAgICAgLy8gY2xvc2UgdGhlIGNsb3Nlc3QgcG9pbnQgd2UgaGF2ZSBmb3VuZCBzbyBmYXIgaXMsIGFuZCB0aGUgbWF4aW11bVxuICAgICAgLy8gZGlzdGFuY2UgYmV0d2VlbiBjb25zZWN1dGl2ZSBwb2ludHMuICBGb3IgZXhhbXBsZSwgaWYgd2UncmUgY3VycmVudGx5XG4gICAgICAvLyBhdCBkaXN0YW5jZSAxMCwgdGhlIGJlc3Qgd2UndmUgZm91bmQgc28gZmFyIGlzIDMsIGFuZCB0aGF0IHRoZSBtYXhpbXVtXG4gICAgICAvLyBkaXN0YW5jZSBiZXR3ZWVuIGNvbnNlY3V0aXZlIHBvaW50cyBpcyAyLCB0aGVuIHdlJ2xsIG5lZWQgdG8gc2tpcCBhdFxuICAgICAgLy8gbGVhc3QgKDEwIC0gMykgLyAyID09IDMgKHJvdW5kZWQgZG93bikgcG9pbnRzIHRvIGhhdmUgYW55IGNoYW5jZSBvZlxuICAgICAgLy8gZmluZGluZyBhIGNsb3NlciBwb2ludC4gIFdlIHVzZSBNYXRoLm1heCguLi4sIDEpIHRvIGVuc3VyZSB0aGF0IHdlXG4gICAgICAvLyBhbHdheXMgYWR2YW5jZSBhdCBsZWFzdCBvbmUgcG9pbnQsIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3AuXG4gICAgICBpbmRleCArPVxuICAgICAgICBzdHJpZGUgKlxuICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICAoKE1hdGguc3FydChzcXVhcmVkRGlzdGFuY2UpIC0gTWF0aC5zcXJ0KG1pblNxdWFyZWREaXN0YW5jZSkpIC9cbiAgICAgICAgICAgIG1heERlbHRhKSB8XG4gICAgICAgICAgICAwLFxuICAgICAgICAgIDFcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzUmluZykge1xuICAgIC8vIENoZWNrIHRoZSBjbG9zaW5nIHNlZ21lbnQuXG4gICAgYXNzaWduQ2xvc2VzdChcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIGVuZCAtIHN0cmlkZSxcbiAgICAgIG9mZnNldCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgdG1wUG9pbnRcbiAgICApO1xuICAgIHNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREeCh4LCB5LCB0bXBQb2ludFswXSwgdG1wUG9pbnRbMV0pO1xuICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgIG1pblNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREaXN0YW5jZTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICBjbG9zZXN0UG9pbnRbaV0gPSB0bXBQb2ludFtpXTtcbiAgICAgIH1cbiAgICAgIGNsb3Nlc3RQb2ludC5sZW5ndGggPSBzdHJpZGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhEZWx0YSBNYXggZGVsdGEuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzUmluZyBJcyByaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblNxdWFyZWREaXN0YW5jZSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFt0bXBQb2ludF0gVGVtcG9yYXJ5IHBvaW50IG9iamVjdC5cbiAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzLFxuICBzdHJpZGUsXG4gIG1heERlbHRhLFxuICBpc1JpbmcsXG4gIHgsXG4gIHksXG4gIGNsb3Nlc3RQb2ludCxcbiAgbWluU3F1YXJlZERpc3RhbmNlLFxuICB0bXBQb2ludFxuKSB7XG4gIHRtcFBvaW50ID0gdG1wUG9pbnQgPyB0bXBQb2ludCA6IFtOYU4sIE5hTl07XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZCA9IGVuZHNbaV07XG4gICAgbWluU3F1YXJlZERpc3RhbmNlID0gYXNzaWduQ2xvc2VzdFBvaW50KFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgbWF4RGVsdGEsXG4gICAgICBpc1JpbmcsXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIGNsb3Nlc3RQb2ludCxcbiAgICAgIG1pblNxdWFyZWREaXN0YW5jZSxcbiAgICAgIHRtcFBvaW50XG4gICAgKTtcbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heERlbHRhIE1heCBkZWx0YS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNSaW5nIElzIHJpbmcuXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW3RtcFBvaW50XSBUZW1wb3JhcnkgcG9pbnQgb2JqZWN0LlxuICogQHJldHVybiB7bnVtYmVyfSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25DbG9zZXN0TXVsdGlBcnJheVBvaW50KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kc3MsXG4gIHN0cmlkZSxcbiAgbWF4RGVsdGEsXG4gIGlzUmluZyxcbiAgeCxcbiAgeSxcbiAgY2xvc2VzdFBvaW50LFxuICBtaW5TcXVhcmVkRGlzdGFuY2UsXG4gIHRtcFBvaW50XG4pIHtcbiAgdG1wUG9pbnQgPSB0bXBQb2ludCA/IHRtcFBvaW50IDogW05hTiwgTmFOXTtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZHMgPSBlbmRzc1tpXTtcbiAgICBtaW5TcXVhcmVkRGlzdGFuY2UgPSBhc3NpZ25DbG9zZXN0QXJyYXlQb2ludChcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZHMsXG4gICAgICBzdHJpZGUsXG4gICAgICBtYXhEZWx0YSxcbiAgICAgIGlzUmluZyxcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgY2xvc2VzdFBvaW50LFxuICAgICAgbWluU3F1YXJlZERpc3RhbmNlLFxuICAgICAgdG1wUG9pbnRcbiAgICApO1xuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gbWluU3F1YXJlZERpc3RhbmNlO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9kZWZsYXRlXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZsYXRlQ29vcmRpbmF0ZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgY29vcmRpbmF0ZSwgc3RyaWRlKSB7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGNvb3JkaW5hdGUubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQrK10gPSBjb29yZGluYXRlW2ldO1xuICB9XG4gIHJldHVybiBvZmZzZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZUNvb3JkaW5hdGVzKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgY29vcmRpbmF0ZXMsXG4gIHN0cmlkZVxuKSB7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBjb29yZGluYXRlID0gY29vcmRpbmF0ZXNbaV07XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBzdHJpZGU7ICsraikge1xuICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCsrXSA9IGNvb3JkaW5hdGVbal07XG4gICAgfVxuICB9XG4gIHJldHVybiBvZmZzZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gY29vcmRpbmF0ZXNzIENvb3JkaW5hdGVzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbZW5kc10gRW5kcy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEVuZHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGNvb3JkaW5hdGVzcyxcbiAgc3RyaWRlLFxuICBlbmRzXG4pIHtcbiAgZW5kcyA9IGVuZHMgPyBlbmRzIDogW107XG4gIGxldCBpID0gMDtcbiAgZm9yIChsZXQgaiA9IDAsIGpqID0gY29vcmRpbmF0ZXNzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICBjb25zdCBlbmQgPSBkZWZsYXRlQ29vcmRpbmF0ZXMoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBjb29yZGluYXRlc3Nbal0sXG4gICAgICBzdHJpZGVcbiAgICApO1xuICAgIGVuZHNbaSsrXSA9IGVuZDtcbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgZW5kcy5sZW5ndGggPSBpO1xuICByZXR1cm4gZW5kcztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+Pn0gY29vcmRpbmF0ZXNzcyBDb29yZGluYXRlc3NzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBbZW5kc3NdIEVuZHNzLlxuICogQHJldHVybiB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IEVuZHNzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZU11bHRpQ29vcmRpbmF0ZXNBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGNvb3JkaW5hdGVzc3MsXG4gIHN0cmlkZSxcbiAgZW5kc3Ncbikge1xuICBlbmRzcyA9IGVuZHNzID8gZW5kc3MgOiBbXTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGxldCBqID0gMCwgamogPSBjb29yZGluYXRlc3NzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICBjb25zdCBlbmRzID0gZGVmbGF0ZUNvb3JkaW5hdGVzQXJyYXkoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBjb29yZGluYXRlc3NzW2pdLFxuICAgICAgc3RyaWRlLFxuICAgICAgZW5kc3NbaV1cbiAgICApO1xuICAgIGlmIChlbmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZW5kc1swXSA9IG9mZnNldDtcbiAgICB9XG4gICAgZW5kc3NbaSsrXSA9IGVuZHM7XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIGVuZHNzLmxlbmd0aCA9IGk7XG4gIHJldHVybiBlbmRzcztcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvYXJlYVxuICovXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gQXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gIGxldCB0d2ljZUFyZWEgPSAwO1xuICBsZXQgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlXTtcbiAgbGV0IHkxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdO1xuICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgY29uc3QgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICBjb25zdCB5MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICB0d2ljZUFyZWEgKz0geTEgKiB4MiAtIHgxICogeTI7XG4gICAgeDEgPSB4MjtcbiAgICB5MSA9IHkyO1xuICB9XG4gIHJldHVybiB0d2ljZUFyZWEgLyAyO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5ncyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlKSB7XG4gIGxldCBhcmVhID0gMDtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kID0gZW5kc1tpXTtcbiAgICBhcmVhICs9IGxpbmVhclJpbmcoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKTtcbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgcmV0dXJuIGFyZWE7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgRW5kc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gQXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kc3MsIHN0cmlkZSkge1xuICBsZXQgYXJlYSA9IDA7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmRzID0gZW5kc3NbaV07XG4gICAgYXJlYSArPSBsaW5lYXJSaW5ncyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlKTtcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIGFyZWE7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9MaW5lYXJSaW5nXG4gKi9cbmltcG9ydCBTaW1wbGVHZW9tZXRyeSBmcm9tICcuL1NpbXBsZUdlb21ldHJ5LmpzJztcbmltcG9ydCB7YXNzaWduQ2xvc2VzdFBvaW50LCBtYXhTcXVhcmVkRGVsdGF9IGZyb20gJy4vZmxhdC9jbG9zZXN0LmpzJztcbmltcG9ydCB7Y2xvc2VzdFNxdWFyZWREaXN0YW5jZVhZfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtkZWZsYXRlQ29vcmRpbmF0ZXN9IGZyb20gJy4vZmxhdC9kZWZsYXRlLmpzJztcbmltcG9ydCB7ZG91Z2xhc1BldWNrZXJ9IGZyb20gJy4vZmxhdC9zaW1wbGlmeS5qcyc7XG5pbXBvcnQge2luZmxhdGVDb29yZGluYXRlc30gZnJvbSAnLi9mbGF0L2luZmxhdGUuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5nIGFzIGxpbmVhclJpbmdBcmVhfSBmcm9tICcuL2ZsYXQvYXJlYS5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogTGluZWFyIHJpbmcgZ2VvbWV0cnkuIE9ubHkgdXNlZCBhcyBwYXJ0IG9mIHBvbHlnb247IGNhbm5vdCBiZSByZW5kZXJlZFxuICogb24gaXRzIG93bi5cbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIExpbmVhclJpbmcgZXh0ZW5kcyBTaW1wbGVHZW9tZXRyeSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT58QXJyYXk8bnVtYmVyPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAqICAgICBGb3IgaW50ZXJuYWwgdXNlLCBmbGF0IGNvb3JkaW5hdGVzIGluIGNvbWJpbmF0aW9uIHdpdGggYGxheW91dGAgYXJlIGFsc28gYWNjZXB0ZWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dH0gW2xheW91dF0gTGF5b3V0LlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29vcmRpbmF0ZXMsIGxheW91dCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhEZWx0YV8gPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heERlbHRhUmV2aXNpb25fID0gLTE7XG5cbiAgICBpZiAobGF5b3V0ICE9PSB1bmRlZmluZWQgJiYgIUFycmF5LmlzQXJyYXkoY29vcmRpbmF0ZXNbMF0pKSB7XG4gICAgICB0aGlzLnNldEZsYXRDb29yZGluYXRlcyhcbiAgICAgICAgbGF5b3V0LFxuICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChjb29yZGluYXRlcylcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0Q29vcmRpbmF0ZXMoXG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gKi8gKFxuICAgICAgICAgIGNvb3JkaW5hdGVzXG4gICAgICAgICksXG4gICAgICAgIGxheW91dFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhIGNvbXBsZXRlIGNvcHkgb2YgdGhlIGdlb21ldHJ5LlxuICAgKiBAcmV0dXJuIHshTGluZWFyUmluZ30gQ2xvbmUuXG4gICAqIEBhcGlcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgTGluZWFyUmluZyh0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSgpLCB0aGlzLmxheW91dCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNsb3Nlc3RQb2ludCBDbG9zZXN0IHBvaW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluU3F1YXJlZERpc3RhbmNlIE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gICAqL1xuICBjbG9zZXN0UG9pbnRYWSh4LCB5LCBjbG9zZXN0UG9pbnQsIG1pblNxdWFyZWREaXN0YW5jZSkge1xuICAgIGlmIChtaW5TcXVhcmVkRGlzdGFuY2UgPCBjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFkodGhpcy5nZXRFeHRlbnQoKSwgeCwgeSkpIHtcbiAgICAgIHJldHVybiBtaW5TcXVhcmVkRGlzdGFuY2U7XG4gICAgfVxuICAgIGlmICh0aGlzLm1heERlbHRhUmV2aXNpb25fICE9IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgdGhpcy5tYXhEZWx0YV8gPSBNYXRoLnNxcnQoXG4gICAgICAgIG1heFNxdWFyZWREZWx0YShcbiAgICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgICAwLFxuICAgICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgICAgICB0aGlzLnN0cmlkZSxcbiAgICAgICAgICAwXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0aGlzLm1heERlbHRhUmV2aXNpb25fID0gdGhpcy5nZXRSZXZpc2lvbigpO1xuICAgIH1cbiAgICByZXR1cm4gYXNzaWduQ2xvc2VzdFBvaW50KFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwLFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgdGhpcy5zdHJpZGUsXG4gICAgICB0aGlzLm1heERlbHRhXyxcbiAgICAgIHRydWUsXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIGNsb3Nlc3RQb2ludCxcbiAgICAgIG1pblNxdWFyZWREaXN0YW5jZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBhcmVhIG9mIHRoZSBsaW5lYXIgcmluZyBvbiBwcm9qZWN0ZWQgcGxhbmUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gQXJlYSAob24gcHJvamVjdGVkIHBsYW5lKS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0QXJlYSgpIHtcbiAgICByZXR1cm4gbGluZWFyUmluZ0FyZWEoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyxcbiAgICAgIDAsXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgICB0aGlzLnN0cmlkZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgbGluZWFyIHJpbmcuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IENvb3JkaW5hdGVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRDb29yZGluYXRlcygpIHtcbiAgICByZXR1cm4gaW5mbGF0ZUNvb3JkaW5hdGVzKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwLFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgdGhpcy5zdHJpZGVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgKiBAcmV0dXJuIHtMaW5lYXJSaW5nfSBTaW1wbGlmaWVkIExpbmVhclJpbmcuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGdldFNpbXBsaWZpZWRHZW9tZXRyeUludGVybmFsKHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICBjb25zdCBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzID0gW107XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBkb3VnbGFzUGV1Y2tlcihcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLFxuICAgICAgMCxcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RyaWRlLFxuICAgICAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwXG4gICAgKTtcbiAgICByZXR1cm4gbmV3IExpbmVhclJpbmcoc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcywgJ1hZJyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0eXBlIG9mIHRoaXMgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuVHlwZX0gR2VvbWV0cnkgdHlwZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VHlwZSgpIHtcbiAgICByZXR1cm4gJ0xpbmVhclJpbmcnO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgcGFzc2VkIGV4dGVudCBpbnRlcnNlY3QuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gICAqIEBhcGlcbiAgICovXG4gIGludGVyc2VjdHNFeHRlbnQoZXh0ZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGxpbmVhciByaW5nLlxuICAgKiBAcGFyYW0geyFBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0fSBbbGF5b3V0XSBMYXlvdXQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldENvb3JkaW5hdGVzKGNvb3JkaW5hdGVzLCBsYXlvdXQpIHtcbiAgICB0aGlzLnNldExheW91dChsYXlvdXQsIGNvb3JkaW5hdGVzLCAxKTtcbiAgICBpZiAoIXRoaXMuZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgIH1cbiAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBkZWZsYXRlQ29vcmRpbmF0ZXMoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyxcbiAgICAgIDAsXG4gICAgICBjb29yZGluYXRlcyxcbiAgICAgIHRoaXMuc3RyaWRlXG4gICAgKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMaW5lYXJSaW5nO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vUG9pbnRcbiAqL1xuaW1wb3J0IFNpbXBsZUdlb21ldHJ5IGZyb20gJy4vU2ltcGxlR2VvbWV0cnkuanMnO1xuaW1wb3J0IHtjb250YWluc1hZLCBjcmVhdGVPclVwZGF0ZUZyb21Db29yZGluYXRlfSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtkZWZsYXRlQ29vcmRpbmF0ZX0gZnJvbSAnLi9mbGF0L2RlZmxhdGUuanMnO1xuaW1wb3J0IHtzcXVhcmVkRGlzdGFuY2UgYXMgc3F1YXJlZER4fSBmcm9tICcuLi9tYXRoLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQb2ludCBnZW9tZXRyeS5cbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIFBvaW50IGV4dGVuZHMgU2ltcGxlR2VvbWV0cnkge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGVzIENvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXR9IFtsYXlvdXRdIExheW91dC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvb3JkaW5hdGVzLCBsYXlvdXQpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc2V0Q29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMsIGxheW91dCk7XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhIGNvbXBsZXRlIGNvcHkgb2YgdGhlIGdlb21ldHJ5LlxuICAgKiBAcmV0dXJuIHshUG9pbnR9IENsb25lLlxuICAgKiBAYXBpXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBjb25zdCBwb2ludCA9IG5ldyBQb2ludCh0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSgpLCB0aGlzLmxheW91dCk7XG4gICAgcG9pbnQuYXBwbHlQcm9wZXJ0aWVzKHRoaXMpO1xuICAgIHJldHVybiBwb2ludDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICovXG4gIGNsb3Nlc3RQb2ludFhZKHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gICAgY29uc3Qgc3F1YXJlZERpc3RhbmNlID0gc3F1YXJlZER4KFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBmbGF0Q29vcmRpbmF0ZXNbMF0sXG4gICAgICBmbGF0Q29vcmRpbmF0ZXNbMV1cbiAgICApO1xuICAgIGlmIChzcXVhcmVkRGlzdGFuY2UgPCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICAgIGNvbnN0IHN0cmlkZSA9IHRoaXMuc3RyaWRlO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpZGU7ICsraSkge1xuICAgICAgICBjbG9zZXN0UG9pbnRbaV0gPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICB9XG4gICAgICBjbG9zZXN0UG9pbnQubGVuZ3RoID0gc3RyaWRlO1xuICAgICAgcmV0dXJuIHNxdWFyZWREaXN0YW5jZTtcbiAgICB9XG4gICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRDb29yZGluYXRlcygpIHtcbiAgICByZXR1cm4gIXRoaXMuZmxhdENvb3JkaW5hdGVzID8gW10gOiB0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKi9cbiAgY29tcHV0ZUV4dGVudChleHRlbnQpIHtcbiAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZSh0aGlzLmZsYXRDb29yZGluYXRlcywgZXh0ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5UeXBlfSBHZW9tZXRyeSB0eXBlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUeXBlKCkge1xuICAgIHJldHVybiAnUG9pbnQnO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgcGFzc2VkIGV4dGVudCBpbnRlcnNlY3QuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gICAqIEBhcGlcbiAgICovXG4gIGludGVyc2VjdHNFeHRlbnQoZXh0ZW50KSB7XG4gICAgcmV0dXJuIGNvbnRhaW5zWFkoZXh0ZW50LCB0aGlzLmZsYXRDb29yZGluYXRlc1swXSwgdGhpcy5mbGF0Q29vcmRpbmF0ZXNbMV0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCo+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0fSBbbGF5b3V0XSBMYXlvdXQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldENvb3JkaW5hdGVzKGNvb3JkaW5hdGVzLCBsYXlvdXQpIHtcbiAgICB0aGlzLnNldExheW91dChsYXlvdXQsIGNvb3JkaW5hdGVzLCAwKTtcbiAgICBpZiAoIXRoaXMuZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgIH1cbiAgICB0aGlzLmZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBkZWZsYXRlQ29vcmRpbmF0ZShcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLFxuICAgICAgMCxcbiAgICAgIGNvb3JkaW5hdGVzLFxuICAgICAgdGhpcy5zdHJpZGVcbiAgICApO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9yZXZlcnNlXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlKSB7XG4gIHdoaWxlIChvZmZzZXQgPCBlbmQgLSBzdHJpZGUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmlkZTsgKytpKSB7XG4gICAgICBjb25zdCB0bXAgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV07XG4gICAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgaV0gPSBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgaV07XG4gICAgICBmbGF0Q29vcmRpbmF0ZXNbZW5kIC0gc3RyaWRlICsgaV0gPSB0bXA7XG4gICAgfVxuICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgZW5kIC09IHN0cmlkZTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9vcmllbnRcbiAqL1xuaW1wb3J0IHtjb29yZGluYXRlcyBhcyByZXZlcnNlQ29vcmRpbmF0ZXN9IGZyb20gJy4vcmV2ZXJzZS5qcyc7XG5cbi8qKlxuICogSXMgdGhlIGxpbmVhciByaW5nIG9yaWVudGVkIGNsb2Nrd2lzZSBpbiBhIGNvb3JkaW5hdGUgc3lzdGVtIHdpdGggYSBib3R0b20tbGVmdFxuICogY29vcmRpbmF0ZSBvcmlnaW4/IEZvciBhIGNvb3JkaW5hdGUgc3lzdGVtIHdpdGggYSB0b3AtbGVmdCBjb29yZGluYXRlIG9yaWdpbixcbiAqIHRoZSByaW5nJ3Mgb3JpZW50YXRpb24gaXMgY2xvY2t3aXNlIHdoZW4gdGhpcyBmdW5jdGlvbiByZXR1cm5zIGZhbHNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IElzIGNsb2Nrd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdJc0Nsb2Nrd2lzZShmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzExNjU2NDcvY2xvY2t3aXNlLW1ldGhvZCMxMTY1OTQzXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9PU0dlby9nZGFsL2Jsb2IvbWFzdGVyL2dkYWwvb2dyL29ncmxpbmVhcnJpbmcuY3BwXG4gIGxldCBlZGdlID0gMDtcbiAgbGV0IHgxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZV07XG4gIGxldCB5MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGUgKyAxXTtcbiAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgIGNvbnN0IHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgY29uc3QgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgZWRnZSArPSAoeDIgLSB4MSkgKiAoeTIgKyB5MSk7XG4gICAgeDEgPSB4MjtcbiAgICB5MSA9IHkyO1xuICB9XG4gIHJldHVybiBlZGdlID09PSAwID8gdW5kZWZpbmVkIDogZWRnZSA+IDA7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBsaW5lYXIgcmluZ3MgYXJlIG9yaWVudGVkLiAgQnkgZGVmYXVsdCwgbGVmdC1oYW5kIG9yaWVudGF0aW9uXG4gKiBpcyB0ZXN0ZWQgKGZpcnN0IHJpbmcgbXVzdCBiZSBjbG9ja3dpc2UsIHJlbWFpbmluZyByaW5ncyBjb3VudGVyLWNsb2Nrd2lzZSkuXG4gKiBUbyB0ZXN0IGZvciByaWdodC1oYW5kIG9yaWVudGF0aW9uLCB1c2UgdGhlIGByaWdodGAgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEFycmF5IG9mIGVuZCBpbmRleGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyaWdodF0gVGVzdCBmb3IgcmlnaHQtaGFuZCBvcmllbnRhdGlvblxuICogICAgIChjb3VudGVyLWNsb2Nrd2lzZSBleHRlcmlvciByaW5nIGFuZCBjbG9ja3dpc2UgaW50ZXJpb3IgcmluZ3MpLlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmluZ3MgYXJlIGNvcnJlY3RseSBvcmllbnRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhclJpbmdzQXJlT3JpZW50ZWQoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzLFxuICBzdHJpZGUsXG4gIHJpZ2h0XG4pIHtcbiAgcmlnaHQgPSByaWdodCAhPT0gdW5kZWZpbmVkID8gcmlnaHQgOiBmYWxzZTtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kID0gZW5kc1tpXTtcbiAgICBjb25zdCBpc0Nsb2Nrd2lzZSA9IGxpbmVhclJpbmdJc0Nsb2Nrd2lzZShcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZVxuICAgICk7XG4gICAgaWYgKGkgPT09IDApIHtcbiAgICAgIGlmICgocmlnaHQgJiYgaXNDbG9ja3dpc2UpIHx8ICghcmlnaHQgJiYgIWlzQ2xvY2t3aXNlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgocmlnaHQgJiYgIWlzQ2xvY2t3aXNlKSB8fCAoIXJpZ2h0ICYmIGlzQ2xvY2t3aXNlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGxpbmVhciByaW5ncyBhcmUgb3JpZW50ZWQuICBCeSBkZWZhdWx0LCBsZWZ0LWhhbmQgb3JpZW50YXRpb25cbiAqIGlzIHRlc3RlZCAoZmlyc3QgcmluZyBtdXN0IGJlIGNsb2Nrd2lzZSwgcmVtYWluaW5nIHJpbmdzIGNvdW50ZXItY2xvY2t3aXNlKS5cbiAqIFRvIHRlc3QgZm9yIHJpZ2h0LWhhbmQgb3JpZW50YXRpb24sIHVzZSB0aGUgYHJpZ2h0YCBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBBcnJheSBvZiBhcnJheSBvZiBlbmQgaW5kZXhlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtib29sZWFufSBbcmlnaHRdIFRlc3QgZm9yIHJpZ2h0LWhhbmQgb3JpZW50YXRpb25cbiAqICAgICAoY291bnRlci1jbG9ja3dpc2UgZXh0ZXJpb3IgcmluZyBhbmQgY2xvY2t3aXNlIGludGVyaW9yIHJpbmdzKS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJpbmdzIGFyZSBjb3JyZWN0bHkgb3JpZW50ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc3NBcmVPcmllbnRlZChcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHNzLFxuICBzdHJpZGUsXG4gIHJpZ2h0XG4pIHtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZHMgPSBlbmRzc1tpXTtcbiAgICBpZiAoIWxpbmVhclJpbmdzQXJlT3JpZW50ZWQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgcmlnaHQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChlbmRzLmxlbmd0aCkge1xuICAgICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBPcmllbnQgY29vcmRpbmF0ZXMgaW4gYSBmbGF0IGFycmF5IG9mIGxpbmVhciByaW5ncy4gIEJ5IGRlZmF1bHQsIHJpbmdzXG4gKiBhcmUgb3JpZW50ZWQgZm9sbG93aW5nIHRoZSBsZWZ0LWhhbmQgcnVsZSAoY2xvY2t3aXNlIGZvciBleHRlcmlvciBhbmRcbiAqIGNvdW50ZXItY2xvY2t3aXNlIGZvciBpbnRlcmlvciByaW5ncykuICBUbyBvcmllbnQgYWNjb3JkaW5nIHRvIHRoZVxuICogcmlnaHQtaGFuZCBydWxlLCB1c2UgdGhlIGByaWdodGAgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JpZ2h0XSBGb2xsb3cgdGhlIHJpZ2h0LWhhbmQgcnVsZSBmb3Igb3JpZW50YXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEVuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9yaWVudExpbmVhclJpbmdzKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kcyxcbiAgc3RyaWRlLFxuICByaWdodFxuKSB7XG4gIHJpZ2h0ID0gcmlnaHQgIT09IHVuZGVmaW5lZCA/IHJpZ2h0IDogZmFsc2U7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZCA9IGVuZHNbaV07XG4gICAgY29uc3QgaXNDbG9ja3dpc2UgPSBsaW5lYXJSaW5nSXNDbG9ja3dpc2UoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmQsXG4gICAgICBzdHJpZGVcbiAgICApO1xuICAgIGNvbnN0IHJldmVyc2UgPVxuICAgICAgaSA9PT0gMFxuICAgICAgICA/IChyaWdodCAmJiBpc0Nsb2Nrd2lzZSkgfHwgKCFyaWdodCAmJiAhaXNDbG9ja3dpc2UpXG4gICAgICAgIDogKHJpZ2h0ICYmICFpc0Nsb2Nrd2lzZSkgfHwgKCFyaWdodCAmJiBpc0Nsb2Nrd2lzZSk7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldmVyc2VDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICAgIH1cbiAgICBvZmZzZXQgPSBlbmQ7XG4gIH1cbiAgcmV0dXJuIG9mZnNldDtcbn1cblxuLyoqXG4gKiBPcmllbnQgY29vcmRpbmF0ZXMgaW4gYSBmbGF0IGFycmF5IG9mIGxpbmVhciByaW5ncy4gIEJ5IGRlZmF1bHQsIHJpbmdzXG4gKiBhcmUgb3JpZW50ZWQgZm9sbG93aW5nIHRoZSBsZWZ0LWhhbmQgcnVsZSAoY2xvY2t3aXNlIGZvciBleHRlcmlvciBhbmRcbiAqIGNvdW50ZXItY2xvY2t3aXNlIGZvciBpbnRlcmlvciByaW5ncykuICBUbyBvcmllbnQgYWNjb3JkaW5nIHRvIHRoZVxuICogcmlnaHQtaGFuZCBydWxlLCB1c2UgdGhlIGByaWdodGAgYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gZW5kc3MgQXJyYXkgb2YgYXJyYXkgb2YgZW5kIGluZGV4ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JpZ2h0XSBGb2xsb3cgdGhlIHJpZ2h0LWhhbmQgcnVsZSBmb3Igb3JpZW50YXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEVuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9yaWVudExpbmVhclJpbmdzQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzcyxcbiAgc3RyaWRlLFxuICByaWdodFxuKSB7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBvZmZzZXQgPSBvcmllbnRMaW5lYXJSaW5ncyhcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZHNzW2ldLFxuICAgICAgc3RyaWRlLFxuICAgICAgcmlnaHRcbiAgICApO1xuICB9XG4gIHJldHVybiBvZmZzZXQ7XG59XG5cbi8qKlxuICogUmV0dXJuIGEgdHdvLWRpbWVuc2lvbmFsIGVuZHNzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgTGluZWFyIHJpbmcgZW5kIGluZGV4ZXNcbiAqIEByZXR1cm4ge0FycmF5PEFycmF5PG51bWJlcj4+fSBUd28gZGltZW5zaW9uYWwgZW5kc3MgYXJyYXkgdGhhdCBjYW5cbiAqIGJlIHVzZWQgdG8gY29udHJ1Y3QgYSBNdWx0aVBvbHlnb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZmxhdGVFbmRzKGZsYXRDb29yZGluYXRlcywgZW5kcykge1xuICBjb25zdCBlbmRzcyA9IFtdO1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgbGV0IHByZXZFbmRJbmRleCA9IDA7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZCA9IGVuZHNbaV07XG4gICAgLy8gY2xhc3NpZmllcyBhbiBhcnJheSBvZiByaW5ncyBpbnRvIHBvbHlnb25zIHdpdGggb3V0ZXIgcmluZ3MgYW5kIGhvbGVzXG4gICAgaWYgKCFsaW5lYXJSaW5nSXNDbG9ja3dpc2UoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgMikpIHtcbiAgICAgIGVuZHNzLnB1c2goZW5kcy5zbGljZShwcmV2RW5kSW5kZXgsIGkgKyAxKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlbmRzcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBlbmRzc1tlbmRzcy5sZW5ndGggLSAxXS5wdXNoKGVuZHNbcHJldkVuZEluZGV4XSk7XG4gICAgfVxuICAgIHByZXZFbmRJbmRleCA9IGkgKyAxO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gZW5kc3M7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9Qb2x5Z29uXG4gKi9cbmltcG9ydCBMaW5lYXJSaW5nIGZyb20gJy4vTGluZWFyUmluZy5qcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi9Qb2ludC5qcyc7XG5pbXBvcnQgU2ltcGxlR2VvbWV0cnkgZnJvbSAnLi9TaW1wbGVHZW9tZXRyeS5qcyc7XG5pbXBvcnQge2FycmF5TWF4U3F1YXJlZERlbHRhLCBhc3NpZ25DbG9zZXN0QXJyYXlQb2ludH0gZnJvbSAnLi9mbGF0L2Nsb3Nlc3QuanMnO1xuaW1wb3J0IHtjbG9zZXN0U3F1YXJlZERpc3RhbmNlWFksIGdldENlbnRlcn0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7ZGVmbGF0ZUNvb3JkaW5hdGVzQXJyYXl9IGZyb20gJy4vZmxhdC9kZWZsYXRlLmpzJztcbmltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi9hcnJheS5qcyc7XG5pbXBvcnQge2dldEludGVyaW9yUG9pbnRPZkFycmF5fSBmcm9tICcuL2ZsYXQvaW50ZXJpb3Jwb2ludC5qcyc7XG5pbXBvcnQge2luZmxhdGVDb29yZGluYXRlc0FycmF5fSBmcm9tICcuL2ZsYXQvaW5mbGF0ZS5qcyc7XG5pbXBvcnQge2ludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXl9IGZyb20gJy4vZmxhdC9pbnRlcnNlY3RzZXh0ZW50LmpzJztcbmltcG9ydCB7bGluZWFyUmluZ3NBcmVPcmllbnRlZCwgb3JpZW50TGluZWFyUmluZ3N9IGZyb20gJy4vZmxhdC9vcmllbnQuanMnO1xuaW1wb3J0IHtsaW5lYXJSaW5ncyBhcyBsaW5lYXJSaW5nc0FyZWF9IGZyb20gJy4vZmxhdC9hcmVhLmpzJztcbmltcG9ydCB7bGluZWFyUmluZ3NDb250YWluc1hZfSBmcm9tICcuL2ZsYXQvY29udGFpbnMuanMnO1xuaW1wb3J0IHttb2R1bG99IGZyb20gJy4uL21hdGguanMnO1xuaW1wb3J0IHtxdWFudGl6ZUFycmF5fSBmcm9tICcuL2ZsYXQvc2ltcGxpZnkuanMnO1xuaW1wb3J0IHtvZmZzZXQgYXMgc3BoZXJlT2Zmc2V0fSBmcm9tICcuLi9zcGhlcmUuanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFBvbHlnb24gZ2VvbWV0cnkuXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBQb2x5Z29uIGV4dGVuZHMgU2ltcGxlR2VvbWV0cnkge1xuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj58IUFycmF5PG51bWJlcj59IGNvb3JkaW5hdGVzXG4gICAqICAgICBBcnJheSBvZiBsaW5lYXIgcmluZ3MgdGhhdCBkZWZpbmUgdGhlIHBvbHlnb24uIFRoZSBmaXJzdCBsaW5lYXIgcmluZyBvZiB0aGVcbiAgICogICAgIGFycmF5IGRlZmluZXMgdGhlIG91dGVyLWJvdW5kYXJ5IG9yIHN1cmZhY2Ugb2YgdGhlIHBvbHlnb24uIEVhY2ggc3Vic2VxdWVudFxuICAgKiAgICAgbGluZWFyIHJpbmcgZGVmaW5lcyBhIGhvbGUgaW4gdGhlIHN1cmZhY2Ugb2YgdGhlIHBvbHlnb24uIEEgbGluZWFyIHJpbmcgaXNcbiAgICogICAgIGFuIGFycmF5IG9mIHZlcnRpY2VzJyBjb29yZGluYXRlcyB3aGVyZSB0aGUgZmlyc3QgY29vcmRpbmF0ZSBhbmQgdGhlIGxhc3QgYXJlXG4gICAqICAgICBlcXVpdmFsZW50LiAoRm9yIGludGVybmFsIHVzZSwgZmxhdCBjb29yZGluYXRlcyBpbiBjb21iaW5hdGlvbiB3aXRoXG4gICAqICAgICBgbGF5b3V0YCBhbmQgYGVuZHNgIGFyZSBhbHNvIGFjY2VwdGVkLilcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0fSBbbGF5b3V0XSBMYXlvdXQuXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2VuZHNdIEVuZHMgKGZvciBpbnRlcm5hbCB1c2Ugd2l0aCBmbGF0IGNvb3JkaW5hdGVzKS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvb3JkaW5hdGVzLCBsYXlvdXQsIGVuZHMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmVuZHNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5mbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfVxuICAgICAqL1xuICAgIHRoaXMuZmxhdEludGVyaW9yUG9pbnRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heERlbHRhXyA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWVudGVkUmV2aXNpb25fID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMub3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfID0gbnVsbDtcblxuICAgIGlmIChsYXlvdXQgIT09IHVuZGVmaW5lZCAmJiBlbmRzKSB7XG4gICAgICB0aGlzLnNldEZsYXRDb29yZGluYXRlcyhcbiAgICAgICAgbGF5b3V0LFxuICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovIChjb29yZGluYXRlcylcbiAgICAgICk7XG4gICAgICB0aGlzLmVuZHNfID0gZW5kcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyhcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gKi8gKFxuICAgICAgICAgIGNvb3JkaW5hdGVzXG4gICAgICAgICksXG4gICAgICAgIGxheW91dFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kIHRoZSBwYXNzZWQgbGluZWFyIHJpbmcgdG8gdGhpcyBwb2x5Z29uLlxuICAgKiBAcGFyYW0ge0xpbmVhclJpbmd9IGxpbmVhclJpbmcgTGluZWFyIHJpbmcuXG4gICAqIEBhcGlcbiAgICovXG4gIGFwcGVuZExpbmVhclJpbmcobGluZWFyUmluZykge1xuICAgIGlmICghdGhpcy5mbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gbGluZWFyUmluZy5nZXRGbGF0Q29vcmRpbmF0ZXMoKS5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHRlbmQodGhpcy5mbGF0Q29vcmRpbmF0ZXMsIGxpbmVhclJpbmcuZ2V0RmxhdENvb3JkaW5hdGVzKCkpO1xuICAgIH1cbiAgICB0aGlzLmVuZHNfLnB1c2godGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgY29tcGxldGUgY29weSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4geyFQb2x5Z29ufSBDbG9uZS5cbiAgICogQGFwaVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgY29uc3QgcG9seWdvbiA9IG5ldyBQb2x5Z29uKFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKSxcbiAgICAgIHRoaXMubGF5b3V0LFxuICAgICAgdGhpcy5lbmRzXy5zbGljZSgpXG4gICAgKTtcbiAgICBwb2x5Z29uLmFwcGx5UHJvcGVydGllcyh0aGlzKTtcbiAgICByZXR1cm4gcG9seWdvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2xvc2VzdFBvaW50IENsb3Nlc3QgcG9pbnQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5TcXVhcmVkRGlzdGFuY2UgTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZS5cbiAgICovXG4gIGNsb3Nlc3RQb2ludFhZKHgsIHksIGNsb3Nlc3RQb2ludCwgbWluU3F1YXJlZERpc3RhbmNlKSB7XG4gICAgaWYgKG1pblNxdWFyZWREaXN0YW5jZSA8IGNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWSh0aGlzLmdldEV4dGVudCgpLCB4LCB5KSkge1xuICAgICAgcmV0dXJuIG1pblNxdWFyZWREaXN0YW5jZTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gIT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICB0aGlzLm1heERlbHRhXyA9IE1hdGguc3FydChcbiAgICAgICAgYXJyYXlNYXhTcXVhcmVkRGVsdGEoXG4gICAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgICAgMCxcbiAgICAgICAgICB0aGlzLmVuZHNfLFxuICAgICAgICAgIHRoaXMuc3RyaWRlLFxuICAgICAgICAgIDBcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHRoaXMubWF4RGVsdGFSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBhc3NpZ25DbG9zZXN0QXJyYXlQb2ludChcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLFxuICAgICAgMCxcbiAgICAgIHRoaXMuZW5kc18sXG4gICAgICB0aGlzLnN0cmlkZSxcbiAgICAgIHRoaXMubWF4RGVsdGFfLFxuICAgICAgdHJ1ZSxcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgY2xvc2VzdFBvaW50LFxuICAgICAgbWluU3F1YXJlZERpc3RhbmNlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gICAqL1xuICBjb250YWluc1hZKHgsIHkpIHtcbiAgICByZXR1cm4gbGluZWFyUmluZ3NDb250YWluc1hZKFxuICAgICAgdGhpcy5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpLFxuICAgICAgMCxcbiAgICAgIHRoaXMuZW5kc18sXG4gICAgICB0aGlzLnN0cmlkZSxcbiAgICAgIHgsXG4gICAgICB5XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGFyZWEgb2YgdGhlIHBvbHlnb24gb24gcHJvamVjdGVkIHBsYW5lLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFyZWEgKG9uIHByb2plY3RlZCBwbGFuZSkuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEFyZWEoKSB7XG4gICAgcmV0dXJuIGxpbmVhclJpbmdzQXJlYShcbiAgICAgIHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSxcbiAgICAgIDAsXG4gICAgICB0aGlzLmVuZHNfLFxuICAgICAgdGhpcy5zdHJpZGVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29vcmRpbmF0ZSBhcnJheSBmb3IgdGhpcyBnZW9tZXRyeS4gIFRoaXMgYXJyYXkgaGFzIHRoZSBzdHJ1Y3R1cmVcbiAgICogb2YgYSBHZW9KU09OIGNvb3JkaW5hdGUgYXJyYXkgZm9yIHBvbHlnb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyaWdodF0gT3JpZW50IGNvb3JkaW5hdGVzIGFjY29yZGluZyB0byB0aGUgcmlnaHQtaGFuZFxuICAgKiAgICAgcnVsZSAoY291bnRlci1jbG9ja3dpc2UgZm9yIGV4dGVyaW9yIGFuZCBjbG9ja3dpc2UgZm9yIGludGVyaW9yIHJpbmdzKS5cbiAgICogICAgIElmIGBmYWxzZWAsIGNvb3JkaW5hdGVzIHdpbGwgYmUgb3JpZW50ZWQgYWNjb3JkaW5nIHRvIHRoZSBsZWZ0LWhhbmQgcnVsZVxuICAgKiAgICAgKGNsb2Nrd2lzZSBmb3IgZXh0ZXJpb3IgYW5kIGNvdW50ZXItY2xvY2t3aXNlIGZvciBpbnRlcmlvciByaW5ncykuXG4gICAqICAgICBCeSBkZWZhdWx0LCBjb29yZGluYXRlIG9yaWVudGF0aW9uIHdpbGwgZGVwZW5kIG9uIGhvdyB0aGUgZ2VvbWV0cnkgd2FzXG4gICAqICAgICBjb25zdHJ1Y3RlZC5cbiAgICogQHJldHVybiB7QXJyYXk8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPj59IENvb3JkaW5hdGVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRDb29yZGluYXRlcyhyaWdodCkge1xuICAgIGxldCBmbGF0Q29vcmRpbmF0ZXM7XG4gICAgaWYgKHJpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKS5zbGljZSgpO1xuICAgICAgb3JpZW50TGluZWFyUmluZ3MoZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSwgcmlnaHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICB9XG5cbiAgICByZXR1cm4gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRW5kcy5cbiAgICovXG4gIGdldEVuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5kc187XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gSW50ZXJpb3IgcG9pbnQuXG4gICAqL1xuICBnZXRGbGF0SW50ZXJpb3JQb2ludCgpIHtcbiAgICBpZiAodGhpcy5mbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgIGNvbnN0IGZsYXRDZW50ZXIgPSBnZXRDZW50ZXIodGhpcy5nZXRFeHRlbnQoKSk7XG4gICAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50XyA9IGdldEludGVyaW9yUG9pbnRPZkFycmF5KFxuICAgICAgICB0aGlzLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCksXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuZW5kc18sXG4gICAgICAgIHRoaXMuc3RyaWRlLFxuICAgICAgICBmbGF0Q2VudGVyLFxuICAgICAgICAwXG4gICAgICApO1xuICAgICAgdGhpcy5mbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyA9IHRoaXMuZ2V0UmV2aXNpb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZmxhdEludGVyaW9yUG9pbnRfO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhbiBpbnRlcmlvciBwb2ludCBvZiB0aGUgcG9seWdvbi5cbiAgICogQHJldHVybiB7UG9pbnR9IEludGVyaW9yIHBvaW50IGFzIFhZTSBjb29yZGluYXRlLCB3aGVyZSBNIGlzIHRoZVxuICAgKiBsZW5ndGggb2YgdGhlIGhvcml6b250YWwgaW50ZXJzZWN0aW9uIHRoYXQgdGhlIHBvaW50IGJlbG9uZ3MgdG8uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEludGVyaW9yUG9pbnQoKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLmdldEZsYXRJbnRlcmlvclBvaW50KCksICdYWU0nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG51bWJlciBvZiByaW5ncyBvZiB0aGUgcG9seWdvbiwgIHRoaXMgaW5jbHVkZXMgdGhlIGV4dGVyaW9yXG4gICAqIHJpbmcgYW5kIGFueSBpbnRlcmlvciByaW5ncy5cbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgb2YgcmluZ3MuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldExpbmVhclJpbmdDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5lbmRzXy5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBOdGggbGluZWFyIHJpbmcgb2YgdGhlIHBvbHlnb24gZ2VvbWV0cnkuIFJldHVybiBgbnVsbGAgaWYgdGhlXG4gICAqIGdpdmVuIGluZGV4IGlzIG91dCBvZiByYW5nZS5cbiAgICogVGhlIGV4dGVyaW9yIGxpbmVhciByaW5nIGlzIGF2YWlsYWJsZSBhdCBpbmRleCBgMGAgYW5kIHRoZSBpbnRlcmlvciByaW5nc1xuICAgKiBhdCBpbmRleCBgMWAgYW5kIGJleW9uZC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4LlxuICAgKiBAcmV0dXJuIHtMaW5lYXJSaW5nfG51bGx9IExpbmVhciByaW5nLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRMaW5lYXJSaW5nKGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMCB8fCB0aGlzLmVuZHNfLmxlbmd0aCA8PSBpbmRleCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTGluZWFyUmluZyhcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLnNsaWNlKFxuICAgICAgICBpbmRleCA9PT0gMCA/IDAgOiB0aGlzLmVuZHNfW2luZGV4IC0gMV0sXG4gICAgICAgIHRoaXMuZW5kc19baW5kZXhdXG4gICAgICApLFxuICAgICAgdGhpcy5sYXlvdXRcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbGluZWFyIHJpbmdzIG9mIHRoZSBwb2x5Z29uLlxuICAgKiBAcmV0dXJuIHtBcnJheTxMaW5lYXJSaW5nPn0gTGluZWFyIHJpbmdzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRMaW5lYXJSaW5ncygpIHtcbiAgICBjb25zdCBsYXlvdXQgPSB0aGlzLmxheW91dDtcbiAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlcztcbiAgICBjb25zdCBlbmRzID0gdGhpcy5lbmRzXztcbiAgICBjb25zdCBsaW5lYXJSaW5ncyA9IFtdO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgZW5kID0gZW5kc1tpXTtcbiAgICAgIGNvbnN0IGxpbmVhclJpbmcgPSBuZXcgTGluZWFyUmluZyhcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLnNsaWNlKG9mZnNldCwgZW5kKSxcbiAgICAgICAgbGF5b3V0XG4gICAgICApO1xuICAgICAgbGluZWFyUmluZ3MucHVzaChsaW5lYXJSaW5nKTtcbiAgICAgIG9mZnNldCA9IGVuZDtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmVhclJpbmdzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE9yaWVudGVkIGZsYXQgY29vcmRpbmF0ZXMuXG4gICAqL1xuICBnZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcygpIHtcbiAgICBpZiAodGhpcy5vcmllbnRlZFJldmlzaW9uXyAhPSB0aGlzLmdldFJldmlzaW9uKCkpIHtcbiAgICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZmxhdENvb3JkaW5hdGVzO1xuICAgICAgaWYgKGxpbmVhclJpbmdzQXJlT3JpZW50ZWQoZmxhdENvb3JkaW5hdGVzLCAwLCB0aGlzLmVuZHNfLCB0aGlzLnN0cmlkZSkpIHtcbiAgICAgICAgdGhpcy5vcmllbnRlZEZsYXRDb29yZGluYXRlc18gPSBmbGF0Q29vcmRpbmF0ZXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXyA9IGZsYXRDb29yZGluYXRlcy5zbGljZSgpO1xuICAgICAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXy5sZW5ndGggPSBvcmllbnRMaW5lYXJSaW5ncyhcbiAgICAgICAgICB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXyxcbiAgICAgICAgICAwLFxuICAgICAgICAgIHRoaXMuZW5kc18sXG4gICAgICAgICAgdGhpcy5zdHJpZGVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMub3JpZW50ZWRSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9yaWVudGVkRmxhdENvb3JkaW5hdGVzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICogQHJldHVybiB7UG9seWdvbn0gU2ltcGxpZmllZCBQb2x5Z29uLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRTaW1wbGlmaWVkR2VvbWV0cnlJbnRlcm5hbChzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgY29uc3Qgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgIGNvbnN0IHNpbXBsaWZpZWRFbmRzID0gW107XG4gICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcy5sZW5ndGggPSBxdWFudGl6ZUFycmF5KFxuICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwLFxuICAgICAgdGhpcy5lbmRzXyxcbiAgICAgIHRoaXMuc3RyaWRlLFxuICAgICAgTWF0aC5zcXJ0KHNxdWFyZWRUb2xlcmFuY2UpLFxuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgICAgIDAsXG4gICAgICBzaW1wbGlmaWVkRW5kc1xuICAgICk7XG4gICAgcmV0dXJuIG5ldyBQb2x5Z29uKHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsICdYWScsIHNpbXBsaWZpZWRFbmRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBnZW9tZXRyeS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5UeXBlfSBHZW9tZXRyeSB0eXBlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUeXBlKCkge1xuICAgIHJldHVybiAnUG9seWdvbic7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBwYXNzZWQgZXh0ZW50IGludGVyc2VjdC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAgICogQGFwaVxuICAgKi9cbiAgaW50ZXJzZWN0c0V4dGVudChleHRlbnQpIHtcbiAgICByZXR1cm4gaW50ZXJzZWN0c0xpbmVhclJpbmdBcnJheShcbiAgICAgIHRoaXMuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSxcbiAgICAgIDAsXG4gICAgICB0aGlzLmVuZHNfLFxuICAgICAgdGhpcy5zdHJpZGUsXG4gICAgICBleHRlbnRcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIHBvbHlnb24uXG4gICAqIEBwYXJhbSB7IUFycmF5PEFycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSBjb29yZGluYXRlcyBDb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0fSBbbGF5b3V0XSBMYXlvdXQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldENvb3JkaW5hdGVzKGNvb3JkaW5hdGVzLCBsYXlvdXQpIHtcbiAgICB0aGlzLnNldExheW91dChsYXlvdXQsIGNvb3JkaW5hdGVzLCAyKTtcbiAgICBpZiAoIXRoaXMuZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyA9IFtdO1xuICAgIH1cbiAgICBjb25zdCBlbmRzID0gZGVmbGF0ZUNvb3JkaW5hdGVzQXJyYXkoXG4gICAgICB0aGlzLmZsYXRDb29yZGluYXRlcyxcbiAgICAgIDAsXG4gICAgICBjb29yZGluYXRlcyxcbiAgICAgIHRoaXMuc3RyaWRlLFxuICAgICAgdGhpcy5lbmRzX1xuICAgICk7XG4gICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoID0gZW5kcy5sZW5ndGggPT09IDAgPyAwIDogZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvbHlnb247XG5cbi8qKlxuICogQ3JlYXRlIGFuIGFwcHJveGltYXRpb24gb2YgYSBjaXJjbGUgb24gdGhlIHN1cmZhY2Ugb2YgYSBzcGhlcmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY2VudGVyIENlbnRlciAoYFtsb24sIGxhdF1gIGluIGRlZ3JlZXMpLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyBUaGUgZ3JlYXQtY2lyY2xlIGRpc3RhbmNlIGZyb20gdGhlIGNlbnRlciB0b1xuICogICAgIHRoZSBwb2x5Z29uIHZlcnRpY2VzIGluIG1ldGVycy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbl0gT3B0aW9uYWwgbnVtYmVyIG9mIHZlcnRpY2VzIGZvciB0aGUgcmVzdWx0aW5nXG4gKiAgICAgcG9seWdvbi4gRGVmYXVsdCBpcyBgMzJgLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzcGhlcmVSYWRpdXNdIE9wdGlvbmFsIHJhZGl1cyBmb3IgdGhlIHNwaGVyZSAoZGVmYXVsdHMgdG9cbiAqICAgICB0aGUgRWFydGgncyBtZWFuIHJhZGl1cyB1c2luZyB0aGUgV0dTODQgZWxsaXBzb2lkKS5cbiAqIEByZXR1cm4ge1BvbHlnb259IFRoZSBcImNpcmN1bGFyXCIgcG9seWdvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNpcmN1bGFyKGNlbnRlciwgcmFkaXVzLCBuLCBzcGhlcmVSYWRpdXMpIHtcbiAgbiA9IG4gPyBuIDogMzI7XG4gIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgZXh0ZW5kKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgc3BoZXJlT2Zmc2V0KGNlbnRlciwgcmFkaXVzLCAoMiAqIE1hdGguUEkgKiBpKSAvIG4sIHNwaGVyZVJhZGl1cylcbiAgICApO1xuICB9XG4gIGZsYXRDb29yZGluYXRlcy5wdXNoKGZsYXRDb29yZGluYXRlc1swXSwgZmxhdENvb3JkaW5hdGVzWzFdKTtcbiAgcmV0dXJuIG5ldyBQb2x5Z29uKGZsYXRDb29yZGluYXRlcywgJ1hZJywgW2ZsYXRDb29yZGluYXRlcy5sZW5ndGhdKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBwb2x5Z29uIGZyb20gYW4gZXh0ZW50LiBUaGUgbGF5b3V0IHVzZWQgaXMgYFhZYC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IFRoZSBleHRlbnQuXG4gKiBAcmV0dXJuIHtQb2x5Z29ufSBUaGUgcG9seWdvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FeHRlbnQoZXh0ZW50KSB7XG4gIGNvbnN0IG1pblggPSBleHRlbnRbMF07XG4gIGNvbnN0IG1pblkgPSBleHRlbnRbMV07XG4gIGNvbnN0IG1heFggPSBleHRlbnRbMl07XG4gIGNvbnN0IG1heFkgPSBleHRlbnRbM107XG4gIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IFtcbiAgICBtaW5YLFxuICAgIG1pblksXG4gICAgbWluWCxcbiAgICBtYXhZLFxuICAgIG1heFgsXG4gICAgbWF4WSxcbiAgICBtYXhYLFxuICAgIG1pblksXG4gICAgbWluWCxcbiAgICBtaW5ZLFxuICBdO1xuICByZXR1cm4gbmV3IFBvbHlnb24oZmxhdENvb3JkaW5hdGVzLCAnWFknLCBbZmxhdENvb3JkaW5hdGVzLmxlbmd0aF0pO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIHJlZ3VsYXIgcG9seWdvbiBmcm9tIGEgY2lyY2xlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBjaXJjbGUgQ2lyY2xlIGdlb21ldHJ5LlxuICogQHBhcmFtIHtudW1iZXJ9IFtzaWRlc10gTnVtYmVyIG9mIHNpZGVzIG9mIHRoZSBwb2x5Z29uLiBEZWZhdWx0IGlzIDMyLlxuICogQHBhcmFtIHtudW1iZXJ9IFthbmdsZV0gU3RhcnQgYW5nbGUgZm9yIHRoZSBmaXJzdCB2ZXJ0ZXggb2YgdGhlIHBvbHlnb24gaW5cbiAqICAgICBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zLiAwIG1lYW5zIEVhc3QuIERlZmF1bHQgaXMgMC5cbiAqIEByZXR1cm4ge1BvbHlnb259IFBvbHlnb24gZ2VvbWV0cnkuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQ2lyY2xlKGNpcmNsZSwgc2lkZXMsIGFuZ2xlKSB7XG4gIHNpZGVzID0gc2lkZXMgPyBzaWRlcyA6IDMyO1xuICBjb25zdCBzdHJpZGUgPSBjaXJjbGUuZ2V0U3RyaWRlKCk7XG4gIGNvbnN0IGxheW91dCA9IGNpcmNsZS5nZXRMYXlvdXQoKTtcbiAgY29uc3QgY2VudGVyID0gY2lyY2xlLmdldENlbnRlcigpO1xuICBjb25zdCBhcnJheUxlbmd0aCA9IHN0cmlkZSAqIChzaWRlcyArIDEpO1xuICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBuZXcgQXJyYXkoYXJyYXlMZW5ndGgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5TGVuZ3RoOyBpICs9IHN0cmlkZSkge1xuICAgIGZsYXRDb29yZGluYXRlc1tpXSA9IDA7XG4gICAgZmxhdENvb3JkaW5hdGVzW2kgKyAxXSA9IDA7XG4gICAgZm9yIChsZXQgaiA9IDI7IGogPCBzdHJpZGU7IGorKykge1xuICAgICAgZmxhdENvb3JkaW5hdGVzW2kgKyBqXSA9IGNlbnRlcltqXTtcbiAgICB9XG4gIH1cbiAgY29uc3QgZW5kcyA9IFtmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoXTtcbiAgY29uc3QgcG9seWdvbiA9IG5ldyBQb2x5Z29uKGZsYXRDb29yZGluYXRlcywgbGF5b3V0LCBlbmRzKTtcbiAgbWFrZVJlZ3VsYXIocG9seWdvbiwgY2VudGVyLCBjaXJjbGUuZ2V0UmFkaXVzKCksIGFuZ2xlKTtcbiAgcmV0dXJuIHBvbHlnb247XG59XG5cbi8qKlxuICogTW9kaWZ5IHRoZSBjb29yZGluYXRlcyBvZiBhIHBvbHlnb24gdG8gbWFrZSBpdCBhIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwYXJhbSB7UG9seWdvbn0gcG9seWdvbiBQb2x5Z29uIGdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNlbnRlciBDZW50ZXIgb2YgdGhlIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgUmFkaXVzIG9mIHRoZSByZWd1bGFyIHBvbHlnb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW2FuZ2xlXSBTdGFydCBhbmdsZSBmb3IgdGhlIGZpcnN0IHZlcnRleCBvZiB0aGUgcG9seWdvbiBpblxuICogICAgIGNvdW50ZXItY2xvY2t3aXNlIHJhZGlhbnMuIDAgbWVhbnMgRWFzdC4gRGVmYXVsdCBpcyAwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZVJlZ3VsYXIocG9seWdvbiwgY2VudGVyLCByYWRpdXMsIGFuZ2xlKSB7XG4gIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHBvbHlnb24uZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gIGNvbnN0IHN0cmlkZSA9IHBvbHlnb24uZ2V0U3RyaWRlKCk7XG4gIGNvbnN0IHNpZGVzID0gZmxhdENvb3JkaW5hdGVzLmxlbmd0aCAvIHN0cmlkZSAtIDE7XG4gIGNvbnN0IHN0YXJ0QW5nbGUgPSBhbmdsZSA/IGFuZ2xlIDogMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc2lkZXM7ICsraSkge1xuICAgIGNvbnN0IG9mZnNldCA9IGkgKiBzdHJpZGU7XG4gICAgY29uc3QgYW5nbGUgPSBzdGFydEFuZ2xlICsgKG1vZHVsbyhpLCBzaWRlcykgKiAyICogTWF0aC5QSSkgLyBzaWRlcztcbiAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XSA9IGNlbnRlclswXSArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKTtcbiAgICBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0gPSBjZW50ZXJbMV0gKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSk7XG4gIH1cbiAgcG9seWdvbi5jaGFuZ2VkKCk7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9HZW9tZXRyeVxuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQge1xuICBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sXG4gIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sXG59IGZyb20gJy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQge1xuICBjcmVhdGVFbXB0eSxcbiAgY3JlYXRlT3JVcGRhdGVFbXB0eSxcbiAgZ2V0SGVpZ2h0LFxuICByZXR1cm5PclVwZGF0ZSxcbn0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7Z2V0IGFzIGdldFByb2plY3Rpb24sIGdldFRyYW5zZm9ybX0gZnJvbSAnLi4vcHJvai5qcyc7XG5pbXBvcnQge21lbW9pemVPbmV9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQge3RyYW5zZm9ybTJEfSBmcm9tICcuL2ZsYXQvdHJhbnNmb3JtLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7J1hZJyB8ICdYWVonIHwgJ1hZTScgfCAnWFlaTSd9IEdlb21ldHJ5TGF5b3V0XG4gKiBUaGUgY29vcmRpbmF0ZSBsYXlvdXQgZm9yIGdlb21ldHJpZXMsIGluZGljYXRpbmcgd2hldGhlciBhIDNyZCBvciA0dGggeiAoJ1onKVxuICogb3IgbWVhc3VyZSAoJ00nKSBjb29yZGluYXRlIGlzIGF2YWlsYWJsZS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsnUG9pbnQnIHwgJ0xpbmVTdHJpbmcnIHwgJ0xpbmVhclJpbmcnIHwgJ1BvbHlnb24nIHwgJ011bHRpUG9pbnQnIHwgJ011bHRpTGluZVN0cmluZycgfCAnTXVsdGlQb2x5Z29uJyB8ICdHZW9tZXRyeUNvbGxlY3Rpb24nIHwgJ0NpcmNsZSd9IFR5cGVcbiAqIFRoZSBnZW9tZXRyeSB0eXBlLiAgT25lIG9mIGAnUG9pbnQnYCwgYCdMaW5lU3RyaW5nJ2AsIGAnTGluZWFyUmluZydgLFxuICogYCdQb2x5Z29uJ2AsIGAnTXVsdGlQb2ludCdgLCBgJ011bHRpTGluZVN0cmluZydgLCBgJ011bHRpUG9seWdvbidgLFxuICogYCdHZW9tZXRyeUNvbGxlY3Rpb24nYCwgb3IgYCdDaXJjbGUnYC5cbiAqL1xuXG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICovXG5jb25zdCB0bXBUcmFuc2Zvcm0gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBCYXNlIGNsYXNzIGZvciB2ZWN0b3IgZ2VvbWV0cmllcy5cbiAqXG4gKiBUbyBnZXQgbm90aWZpZWQgb2YgY2hhbmdlcyB0byB0aGUgZ2VvbWV0cnksIHJlZ2lzdGVyIGEgbGlzdGVuZXIgZm9yIHRoZVxuICogZ2VuZXJpYyBgY2hhbmdlYCBldmVudCBvbiB5b3VyIGdlb21ldHJ5IGluc3RhbmNlLlxuICpcbiAqIEBhYnN0cmFjdFxuICogQGFwaVxuICovXG5jbGFzcyBHZW9tZXRyeSBleHRlbmRzIEJhc2VPYmplY3Qge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudF8gPSBjcmVhdGVFbXB0eSgpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZXh0ZW50UmV2aXNpb25fID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeU1heE1pblNxdWFyZWRUb2xlcmFuY2UgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlSZXZpc2lvbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSB0cmFuc2Zvcm1lZCBhbmQgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmV2aXNpb24gVGhlIGdlb21ldHJ5IHJldmlzaW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gW3RyYW5zZm9ybV0gT3B0aW9uYWwgdHJhbnNmb3JtIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm4ge0dlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIHRoaXMuc2ltcGxpZnlUcmFuc2Zvcm1lZEludGVybmFsID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAoXG4gICAgICByZXZpc2lvbixcbiAgICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgICB0cmFuc2Zvcm1cbiAgICApIHtcbiAgICAgIGlmICghdHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNpbXBsaWZpZWRHZW9tZXRyeShzcXVhcmVkVG9sZXJhbmNlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNsb25lID0gdGhpcy5jbG9uZSgpO1xuICAgICAgY2xvbmUuYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtKTtcbiAgICAgIHJldHVybiBjbG9uZS5nZXRTaW1wbGlmaWVkR2VvbWV0cnkoc3F1YXJlZFRvbGVyYW5jZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdHJhbnNmb3JtZWQgYW5kIHNpbXBsaWZpZWQgdmVyc2lvbiBvZiB0aGUgZ2VvbWV0cnkuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbdHJhbnNmb3JtXSBPcHRpb25hbCB0cmFuc2Zvcm0gZnVuY3Rpb24uXG4gICAqIEByZXR1cm4ge0dlb21ldHJ5fSBTaW1wbGlmaWVkIGdlb21ldHJ5LlxuICAgKi9cbiAgc2ltcGxpZnlUcmFuc2Zvcm1lZChzcXVhcmVkVG9sZXJhbmNlLCB0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gdGhpcy5zaW1wbGlmeVRyYW5zZm9ybWVkSW50ZXJuYWwoXG4gICAgICB0aGlzLmdldFJldmlzaW9uKCksXG4gICAgICBzcXVhcmVkVG9sZXJhbmNlLFxuICAgICAgdHJhbnNmb3JtXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgY29tcGxldGUgY29weSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHshR2VvbWV0cnl9IENsb25lLlxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjbG9zZXN0UG9pbnQgQ2xvc2VzdCBwb2ludC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblNxdWFyZWREaXN0YW5jZSBNaW5pbXVtIHNxdWFyZWQgZGlzdGFuY2UuXG4gICAqIEByZXR1cm4ge251bWJlcn0gTWluaW11bSBzcXVhcmVkIGRpc3RhbmNlLlxuICAgKi9cbiAgY2xvc2VzdFBvaW50WFkoeCwgeSwgY2xvc2VzdFBvaW50LCBtaW5TcXVhcmVkRGlzdGFuY2UpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gICAqL1xuICBjb250YWluc1hZKHgsIHkpIHtcbiAgICBjb25zdCBjb29yZCA9IHRoaXMuZ2V0Q2xvc2VzdFBvaW50KFt4LCB5XSk7XG4gICAgcmV0dXJuIGNvb3JkWzBdID09PSB4ICYmIGNvb3JkWzFdID09PSB5O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY2xvc2VzdCBwb2ludCBvZiB0aGUgZ2VvbWV0cnkgdG8gdGhlIHBhc3NlZCBwb2ludCBhc1xuICAgKiB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZSBjb29yZGluYXRlfS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50IFBvaW50LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2Nsb3Nlc3RQb2ludF0gQ2xvc2VzdCBwb2ludC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDbG9zZXN0IHBvaW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRDbG9zZXN0UG9pbnQocG9pbnQsIGNsb3Nlc3RQb2ludCkge1xuICAgIGNsb3Nlc3RQb2ludCA9IGNsb3Nlc3RQb2ludCA/IGNsb3Nlc3RQb2ludCA6IFtOYU4sIE5hTl07XG4gICAgdGhpcy5jbG9zZXN0UG9pbnRYWShwb2ludFswXSwgcG9pbnRbMV0sIGNsb3Nlc3RQb2ludCwgSW5maW5pdHkpO1xuICAgIHJldHVybiBjbG9zZXN0UG9pbnQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgZ2VvbWV0cnkgaW5jbHVkZXMgdGhlIHNwZWNpZmllZCBjb29yZGluYXRlLiBJZiB0aGVcbiAgICogY29vcmRpbmF0ZSBpcyBvbiB0aGUgYm91bmRhcnkgb2YgdGhlIGdlb21ldHJ5LCByZXR1cm5zIGZhbHNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyBjb29yZGluYXRlLlxuICAgKiBAYXBpXG4gICAqL1xuICBpbnRlcnNlY3RzQ29vcmRpbmF0ZShjb29yZGluYXRlKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGFpbnNYWShjb29yZGluYXRlWzBdLCBjb29yZGluYXRlWzFdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqL1xuICBjb21wdXRlRXh0ZW50KGV4dGVudCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZXh0ZW50IG9mIHRoZSBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBFeHRlbnQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEV4dGVudChleHRlbnQpIHtcbiAgICBpZiAodGhpcy5leHRlbnRSZXZpc2lvbl8gIT0gdGhpcy5nZXRSZXZpc2lvbigpKSB7XG4gICAgICBjb25zdCBleHRlbnQgPSB0aGlzLmNvbXB1dGVFeHRlbnQodGhpcy5leHRlbnRfKTtcbiAgICAgIGlmIChpc05hTihleHRlbnRbMF0pIHx8IGlzTmFOKGV4dGVudFsxXSkpIHtcbiAgICAgICAgY3JlYXRlT3JVcGRhdGVFbXB0eShleHRlbnQpO1xuICAgICAgfVxuICAgICAgdGhpcy5leHRlbnRSZXZpc2lvbl8gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiByZXR1cm5PclVwZGF0ZSh0aGlzLmV4dGVudF8sIGV4dGVudCk7XG4gIH1cblxuICAvKipcbiAgICogUm90YXRlIHRoZSBnZW9tZXRyeSBhcm91bmQgYSBnaXZlbiBjb29yZGluYXRlLiBUaGlzIG1vZGlmaWVzIHRoZSBnZW9tZXRyeVxuICAgKiBjb29yZGluYXRlcyBpbiBwbGFjZS5cbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSBSb3RhdGlvbiBhbmdsZSBpbiByYWRpYW5zLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYW5jaG9yIFRoZSByb3RhdGlvbiBjZW50ZXIuXG4gICAqIEBhcGlcbiAgICovXG4gIHJvdGF0ZShhbmdsZSwgYW5jaG9yKSB7XG4gICAgYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZSB0aGUgZ2VvbWV0cnkgKHdpdGggYW4gb3B0aW9uYWwgb3JpZ2luKS4gIFRoaXMgbW9kaWZpZXMgdGhlIGdlb21ldHJ5XG4gICAqIGNvb3JkaW5hdGVzIGluIHBsYWNlLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHN4IFRoZSBzY2FsaW5nIGZhY3RvciBpbiB0aGUgeC1kaXJlY3Rpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc3ldIFRoZSBzY2FsaW5nIGZhY3RvciBpbiB0aGUgeS1kaXJlY3Rpb24gKGRlZmF1bHRzIHRvIHN4KS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFthbmNob3JdIFRoZSBzY2FsZSBvcmlnaW4gKGRlZmF1bHRzIHRvIHRoZSBjZW50ZXJcbiAgICogICAgIG9mIHRoZSBnZW9tZXRyeSBleHRlbnQpLlxuICAgKiBAYXBpXG4gICAqL1xuICBzY2FsZShzeCwgc3ksIGFuY2hvcikge1xuICAgIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoaXMgZ2VvbWV0cnkuICBGb3IgbGluZXN0cmluZ3MsIHRoaXMgdXNlc1xuICAgKiB0aGUgW0RvdWdsYXMgUGV1Y2tlcl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmFtZXItRG91Z2xhcy1QZXVja2VyX2FsZ29yaXRobSlcbiAgICogYWxnb3JpdGhtLiAgRm9yIHBvbHlnb25zLCBhIHF1YW50aXphdGlvbi1iYXNlZFxuICAgKiBzaW1wbGlmaWNhdGlvbiBpcyB1c2VkIHRvIHByZXNlcnZlIHRvcG9sb2d5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRoZSB0b2xlcmFuY2UgZGlzdGFuY2UgZm9yIHNpbXBsaWZpY2F0aW9uLlxuICAgKiBAcmV0dXJuIHtHZW9tZXRyeX0gQSBuZXcsIHNpbXBsaWZpZWQgdmVyc2lvbiBvZiB0aGUgb3JpZ2luYWwgZ2VvbWV0cnkuXG4gICAqIEBhcGlcbiAgICovXG4gIHNpbXBsaWZ5KHRvbGVyYW5jZSkge1xuICAgIHJldHVybiB0aGlzLmdldFNpbXBsaWZpZWRHZW9tZXRyeSh0b2xlcmFuY2UgKiB0b2xlcmFuY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHNpbXBsaWZpZWQgdmVyc2lvbiBvZiB0aGlzIGdlb21ldHJ5IHVzaW5nIHRoZSBEb3VnbGFzIFBldWNrZXJcbiAgICogYWxnb3JpdGhtLlxuICAgKiBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmFtZXItRG91Z2xhcy1QZXVja2VyX2FsZ29yaXRobS5cbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgKiBAcmV0dXJuIHtHZW9tZXRyeX0gU2ltcGxpZmllZCBnZW9tZXRyeS5cbiAgICovXG4gIGdldFNpbXBsaWZpZWRHZW9tZXRyeShzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0eXBlIG9mIHRoaXMgZ2VvbWV0cnkuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtUeXBlfSBHZW9tZXRyeSB0eXBlLlxuICAgKi9cbiAgZ2V0VHlwZSgpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBhIHRyYW5zZm9ybSBmdW5jdGlvbiB0byB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGdlb21ldHJ5LlxuICAgKiBUaGUgZ2VvbWV0cnkgaXMgbW9kaWZpZWQgaW4gcGxhY2UuXG4gICAqIElmIHlvdSBkbyBub3Qgd2FudCB0aGUgZ2VvbWV0cnkgbW9kaWZpZWQgaW4gcGxhY2UsIGZpcnN0IGBjbG9uZSgpYCBpdCBhbmRcbiAgICogdGhlbiB1c2UgdGhpcyBmdW5jdGlvbiBvbiB0aGUgY2xvbmUuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IHRyYW5zZm9ybUZuIFRyYW5zZm9ybSBmdW5jdGlvbi5cbiAgICogQ2FsbGVkIHdpdGggYSBmbGF0IGFycmF5IG9mIGdlb21ldHJ5IGNvb3JkaW5hdGVzLlxuICAgKi9cbiAgYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtRm4pIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgcGFzc2VkIGV4dGVudCBpbnRlcnNlY3QuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICAgKi9cbiAgaW50ZXJzZWN0c0V4dGVudChleHRlbnQpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2xhdGUgdGhlIGdlb21ldHJ5LiAgVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnkgY29vcmRpbmF0ZXMgaW4gcGxhY2UuICBJZlxuICAgKiBpbnN0ZWFkIHlvdSB3YW50IGEgbmV3IGdlb21ldHJ5LCBmaXJzdCBgY2xvbmUoKWAgdGhpcyBnZW9tZXRyeS5cbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVggRGVsdGEgWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhWSBEZWx0YSBZLlxuICAgKiBAYXBpXG4gICAqL1xuICB0cmFuc2xhdGUoZGVsdGFYLCBkZWx0YVkpIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybSBlYWNoIGNvb3JkaW5hdGUgb2YgdGhlIGdlb21ldHJ5IGZyb20gb25lIGNvb3JkaW5hdGUgcmVmZXJlbmNlXG4gICAqIHN5c3RlbSB0byBhbm90aGVyLiBUaGUgZ2VvbWV0cnkgaXMgbW9kaWZpZWQgaW4gcGxhY2UuXG4gICAqIEZvciBleGFtcGxlLCBhIGxpbmUgd2lsbCBiZSB0cmFuc2Zvcm1lZCB0byBhIGxpbmUgYW5kIGEgY2lyY2xlIHRvIGEgY2lyY2xlLlxuICAgKiBJZiB5b3UgZG8gbm90IHdhbnQgdGhlIGdlb21ldHJ5IG1vZGlmaWVkIGluIHBsYWNlLCBmaXJzdCBgY2xvbmUoKWAgaXQgYW5kXG4gICAqIHRoZW4gdXNlIHRoaXMgZnVuY3Rpb24gb24gdGhlIGNsb25lLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IHNvdXJjZSBUaGUgY3VycmVudCBwcm9qZWN0aW9uLiAgQ2FuIGJlIGFcbiAgICogICAgIHN0cmluZyBpZGVudGlmaWVyIG9yIGEge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb25+UHJvamVjdGlvbn0gb2JqZWN0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IGRlc3RpbmF0aW9uIFRoZSBkZXNpcmVkIHByb2plY3Rpb24uICBDYW4gYmUgYVxuICAgKiAgICAgc3RyaW5nIGlkZW50aWZpZXIgb3IgYSB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufSBvYmplY3QuXG4gICAqIEByZXR1cm4ge0dlb21ldHJ5fSBUaGlzIGdlb21ldHJ5LiAgTm90ZSB0aGF0IG9yaWdpbmFsIGdlb21ldHJ5IGlzXG4gICAqICAgICBtb2RpZmllZCBpbiBwbGFjZS5cbiAgICogQGFwaVxuICAgKi9cbiAgdHJhbnNmb3JtKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqL1xuICAgIGNvbnN0IHNvdXJjZVByb2ogPSBnZXRQcm9qZWN0aW9uKHNvdXJjZSk7XG4gICAgY29uc3QgdHJhbnNmb3JtRm4gPVxuICAgICAgc291cmNlUHJvai5nZXRVbml0cygpID09ICd0aWxlLXBpeGVscydcbiAgICAgICAgPyBmdW5jdGlvbiAoaW5Db29yZGluYXRlcywgb3V0Q29vcmRpbmF0ZXMsIHN0cmlkZSkge1xuICAgICAgICAgICAgY29uc3QgcGl4ZWxFeHRlbnQgPSBzb3VyY2VQcm9qLmdldEV4dGVudCgpO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdGVkRXh0ZW50ID0gc291cmNlUHJvai5nZXRXb3JsZEV4dGVudCgpO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBnZXRIZWlnaHQocHJvamVjdGVkRXh0ZW50KSAvIGdldEhlaWdodChwaXhlbEV4dGVudCk7XG4gICAgICAgICAgICBjb21wb3NlVHJhbnNmb3JtKFxuICAgICAgICAgICAgICB0bXBUcmFuc2Zvcm0sXG4gICAgICAgICAgICAgIHByb2plY3RlZEV4dGVudFswXSxcbiAgICAgICAgICAgICAgcHJvamVjdGVkRXh0ZW50WzNdLFxuICAgICAgICAgICAgICBzY2FsZSxcbiAgICAgICAgICAgICAgLXNjYWxlLFxuICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAwXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdHJhbnNmb3JtMkQoXG4gICAgICAgICAgICAgIGluQ29vcmRpbmF0ZXMsXG4gICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgIGluQ29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgICAgICAgICBzdHJpZGUsXG4gICAgICAgICAgICAgIHRtcFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgb3V0Q29vcmRpbmF0ZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VHJhbnNmb3JtKHNvdXJjZVByb2osIGRlc3RpbmF0aW9uKShcbiAgICAgICAgICAgICAgaW5Db29yZGluYXRlcyxcbiAgICAgICAgICAgICAgb3V0Q29vcmRpbmF0ZXMsXG4gICAgICAgICAgICAgIHN0cmlkZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIDogZ2V0VHJhbnNmb3JtKHNvdXJjZVByb2osIGRlc3RpbmF0aW9uKTtcbiAgICB0aGlzLmFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybUZuKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHZW9tZXRyeTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL1NpbXBsZUdlb21ldHJ5XG4gKi9cbmltcG9ydCBHZW9tZXRyeSBmcm9tICcuL0dlb21ldHJ5LmpzJztcbmltcG9ydCB7YWJzdHJhY3R9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHtjcmVhdGVPclVwZGF0ZUZyb21GbGF0Q29vcmRpbmF0ZXMsIGdldENlbnRlcn0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7cm90YXRlLCBzY2FsZSwgdHJhbnNmb3JtMkQsIHRyYW5zbGF0ZX0gZnJvbSAnLi9mbGF0L3RyYW5zZm9ybS5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzOyBkbyBub3QgaW5zdGFudGlhdGVcbiAqIGluIGFwcHMsIGFzIGNhbm5vdCBiZSByZW5kZXJlZC5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBhcGlcbiAqL1xuY2xhc3MgU2ltcGxlR2VvbWV0cnkgZXh0ZW5kcyBHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXR9XG4gICAgICovXG4gICAgdGhpcy5sYXlvdXQgPSAnWFknO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zdHJpZGUgPSAyO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICovXG4gIGNvbXB1dGVFeHRlbnQoZXh0ZW50KSB7XG4gICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcyhcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLFxuICAgICAgMCxcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RyaWRlLFxuICAgICAgZXh0ZW50XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7QXJyYXk8Kj4gfCBudWxsfSBDb29yZGluYXRlcy5cbiAgICovXG4gIGdldENvb3JkaW5hdGVzKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgZmlyc3QgY29vcmRpbmF0ZSBvZiB0aGUgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gRmlyc3QgY29vcmRpbmF0ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Rmlyc3RDb29yZGluYXRlKCkge1xuICAgIHJldHVybiB0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZSgwLCB0aGlzLnN0cmlkZSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRmxhdCBjb29yZGluYXRlcy5cbiAgICovXG4gIGdldEZsYXRDb29yZGluYXRlcygpIHtcbiAgICByZXR1cm4gdGhpcy5mbGF0Q29vcmRpbmF0ZXM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBsYXN0IGNvb3JkaW5hdGUgb2YgdGhlIGdlb21ldHJ5LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IExhc3QgcG9pbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldExhc3RDb29yZGluYXRlKCkge1xuICAgIHJldHVybiB0aGlzLmZsYXRDb29yZGluYXRlcy5zbGljZShcbiAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzLmxlbmd0aCAtIHRoaXMuc3RyaWRlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHtAbGluayBpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0IGxheW91dH0gb2YgdGhlIGdlb21ldHJ5LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0fSBMYXlvdXQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldExheW91dCgpIHtcbiAgICByZXR1cm4gdGhpcy5sYXlvdXQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIHRoaXMgZ2VvbWV0cnkgdXNpbmcgdGhlIERvdWdsYXMgUGV1Y2tlciBhbGdvcml0aG0uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgKiBAcmV0dXJuIHtTaW1wbGVHZW9tZXRyeX0gU2ltcGxpZmllZCBnZW9tZXRyeS5cbiAgICovXG4gIGdldFNpbXBsaWZpZWRHZW9tZXRyeShzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgaWYgKHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5UmV2aXNpb24gIT09IHRoaXMuZ2V0UmV2aXNpb24oKSkge1xuICAgICAgdGhpcy5zaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlID0gMDtcbiAgICAgIHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5UmV2aXNpb24gPSB0aGlzLmdldFJldmlzaW9uKCk7XG4gICAgfVxuICAgIC8vIElmIHNxdWFyZWRUb2xlcmFuY2UgaXMgbmVnYXRpdmUgb3IgaWYgd2Uga25vdyB0aGF0IHNpbXBsaWZpY2F0aW9uIHdpbGwgbm90XG4gICAgLy8gaGF2ZSBhbnkgZWZmZWN0IHRoZW4ganVzdCByZXR1cm4gdGhpcy5cbiAgICBpZiAoXG4gICAgICBzcXVhcmVkVG9sZXJhbmNlIDwgMCB8fFxuICAgICAgKHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSAhPT0gMCAmJlxuICAgICAgICBzcXVhcmVkVG9sZXJhbmNlIDw9IHRoaXMuc2ltcGxpZmllZEdlb21ldHJ5TWF4TWluU3F1YXJlZFRvbGVyYW5jZSlcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbnN0IHNpbXBsaWZpZWRHZW9tZXRyeSA9XG4gICAgICB0aGlzLmdldFNpbXBsaWZpZWRHZW9tZXRyeUludGVybmFsKHNxdWFyZWRUb2xlcmFuY2UpO1xuICAgIGNvbnN0IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgPSBzaW1wbGlmaWVkR2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgaWYgKHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMubGVuZ3RoIDwgdGhpcy5mbGF0Q29vcmRpbmF0ZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gc2ltcGxpZmllZEdlb21ldHJ5O1xuICAgIH1cbiAgICAvLyBTaW1wbGlmaWNhdGlvbiBkaWQgbm90IGFjdHVhbGx5IHJlbW92ZSBhbnkgY29vcmRpbmF0ZXMuICBXZSBub3cga25vd1xuICAgIC8vIHRoYXQgYW55IGNhbGxzIHRvIGdldFNpbXBsaWZpZWRHZW9tZXRyeSB3aXRoIGEgc3F1YXJlZFRvbGVyYW5jZSBsZXNzXG4gICAgLy8gdGhhbiBvciBlcXVhbCB0byB0aGUgY3VycmVudCBzcXVhcmVkVG9sZXJhbmNlIHdpbGwgYWxzbyBub3QgaGF2ZSBhbnlcbiAgICAvLyBlZmZlY3QuICBUaGlzIGFsbG93cyB1cyB0byBzaG9ydCBjaXJjdWl0IHNpbXBsaWZpY2F0aW9uIChzYXZpbmcgQ1BVXG4gICAgLy8gY3ljbGVzKSBhbmQgcHJldmVudHMgdGhlIGNhY2hlIG9mIHNpbXBsaWZpZWQgZ2VvbWV0cmllcyBmcm9tIGZpbGxpbmdcbiAgICAvLyB1cCB3aXRoIHVzZWxlc3MgaWRlbnRpY2FsIGNvcGllcyBvZiB0aGlzIGdlb21ldHJ5IChzYXZpbmcgbWVtb3J5KS5cbiAgICB0aGlzLnNpbXBsaWZpZWRHZW9tZXRyeU1heE1pblNxdWFyZWRUb2xlcmFuY2UgPSBzcXVhcmVkVG9sZXJhbmNlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICAgKiBAcmV0dXJuIHtTaW1wbGVHZW9tZXRyeX0gU2ltcGxpZmllZCBnZW9tZXRyeS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwoc3F1YXJlZFRvbGVyYW5jZSkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gU3RyaWRlLlxuICAgKi9cbiAgZ2V0U3RyaWRlKCkge1xuICAgIHJldHVybiB0aGlzLnN0cmlkZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXR9IGxheW91dCBMYXlvdXQuXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqL1xuICBzZXRGbGF0Q29vcmRpbmF0ZXMobGF5b3V0LCBmbGF0Q29vcmRpbmF0ZXMpIHtcbiAgICB0aGlzLnN0cmlkZSA9IGdldFN0cmlkZUZvckxheW91dChsYXlvdXQpO1xuICAgIHRoaXMubGF5b3V0ID0gbGF5b3V0O1xuICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzID0gZmxhdENvb3JkaW5hdGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0geyFBcnJheTwqPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dH0gW2xheW91dF0gTGF5b3V0LlxuICAgKi9cbiAgc2V0Q29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMsIGxheW91dCkge1xuICAgIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0dlb21ldHJ5LmpzXCIpLkdlb21ldHJ5TGF5b3V0fHVuZGVmaW5lZH0gbGF5b3V0IExheW91dC5cbiAgICogQHBhcmFtIHtBcnJheTwqPn0gY29vcmRpbmF0ZXMgQ29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuZXN0aW5nIE5lc3RpbmcuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHNldExheW91dChsYXlvdXQsIGNvb3JkaW5hdGVzLCBuZXN0aW5nKSB7XG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgbGV0IHN0cmlkZTtcbiAgICBpZiAobGF5b3V0KSB7XG4gICAgICBzdHJpZGUgPSBnZXRTdHJpZGVGb3JMYXlvdXQobGF5b3V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXN0aW5nOyArK2kpIHtcbiAgICAgICAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMubGF5b3V0ID0gJ1hZJztcbiAgICAgICAgICB0aGlzLnN0cmlkZSA9IDI7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtBcnJheX0gKi8gKGNvb3JkaW5hdGVzWzBdKTtcbiAgICAgIH1cbiAgICAgIHN0cmlkZSA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgIGxheW91dCA9IGdldExheW91dEZvclN0cmlkZShzdHJpZGUpO1xuICAgIH1cbiAgICB0aGlzLmxheW91dCA9IGxheW91dDtcbiAgICB0aGlzLnN0cmlkZSA9IHN0cmlkZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBhIHRyYW5zZm9ybSBmdW5jdGlvbiB0byB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGdlb21ldHJ5LlxuICAgKiBUaGUgZ2VvbWV0cnkgaXMgbW9kaWZpZWQgaW4gcGxhY2UuXG4gICAqIElmIHlvdSBkbyBub3Qgd2FudCB0aGUgZ2VvbWV0cnkgbW9kaWZpZWQgaW4gcGxhY2UsIGZpcnN0IGBjbG9uZSgpYCBpdCBhbmRcbiAgICogdGhlbiB1c2UgdGhpcyBmdW5jdGlvbiBvbiB0aGUgY2xvbmUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gdHJhbnNmb3JtRm4gVHJhbnNmb3JtIGZ1bmN0aW9uLlxuICAgKiBDYWxsZWQgd2l0aCBhIGZsYXQgYXJyYXkgb2YgZ2VvbWV0cnkgY29vcmRpbmF0ZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIGFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybUZuKSB7XG4gICAgaWYgKHRoaXMuZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgICB0cmFuc2Zvcm1Gbih0aGlzLmZsYXRDb29yZGluYXRlcywgdGhpcy5mbGF0Q29vcmRpbmF0ZXMsIHRoaXMuc3RyaWRlKTtcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSb3RhdGUgdGhlIGdlb21ldHJ5IGFyb3VuZCBhIGdpdmVuIGNvb3JkaW5hdGUuIFRoaXMgbW9kaWZpZXMgdGhlIGdlb21ldHJ5XG4gICAqIGNvb3JkaW5hdGVzIGluIHBsYWNlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgUm90YXRpb24gYW5nbGUgaW4gY291bnRlci1jbG9ja3dpc2UgcmFkaWFucy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGFuY2hvciBUaGUgcm90YXRpb24gY2VudGVyLlxuICAgKiBAYXBpXG4gICAqL1xuICByb3RhdGUoYW5nbGUsIGFuY2hvcikge1xuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgaWYgKGZsYXRDb29yZGluYXRlcykge1xuICAgICAgY29uc3Qgc3RyaWRlID0gdGhpcy5nZXRTdHJpZGUoKTtcbiAgICAgIHJvdGF0ZShcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAwLFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgICBzdHJpZGUsXG4gICAgICAgIGFuZ2xlLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIGZsYXRDb29yZGluYXRlc1xuICAgICAgKTtcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZSB0aGUgZ2VvbWV0cnkgKHdpdGggYW4gb3B0aW9uYWwgb3JpZ2luKS4gIFRoaXMgbW9kaWZpZXMgdGhlIGdlb21ldHJ5XG4gICAqIGNvb3JkaW5hdGVzIGluIHBsYWNlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3ggVGhlIHNjYWxpbmcgZmFjdG9yIGluIHRoZSB4LWRpcmVjdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzeV0gVGhlIHNjYWxpbmcgZmFjdG9yIGluIHRoZSB5LWRpcmVjdGlvbiAoZGVmYXVsdHMgdG8gc3gpLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW2FuY2hvcl0gVGhlIHNjYWxlIG9yaWdpbiAoZGVmYXVsdHMgdG8gdGhlIGNlbnRlclxuICAgKiAgICAgb2YgdGhlIGdlb21ldHJ5IGV4dGVudCkuXG4gICAqIEBhcGlcbiAgICovXG4gIHNjYWxlKHN4LCBzeSwgYW5jaG9yKSB7XG4gICAgaWYgKHN5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHN5ID0gc3g7XG4gICAgfVxuICAgIGlmICghYW5jaG9yKSB7XG4gICAgICBhbmNob3IgPSBnZXRDZW50ZXIodGhpcy5nZXRFeHRlbnQoKSk7XG4gICAgfVxuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgaWYgKGZsYXRDb29yZGluYXRlcykge1xuICAgICAgY29uc3Qgc3RyaWRlID0gdGhpcy5nZXRTdHJpZGUoKTtcbiAgICAgIHNjYWxlKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgIDAsXG4gICAgICAgIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgICAgIHN0cmlkZSxcbiAgICAgICAgc3gsXG4gICAgICAgIHN5LFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIGZsYXRDb29yZGluYXRlc1xuICAgICAgKTtcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2xhdGUgdGhlIGdlb21ldHJ5LiAgVGhpcyBtb2RpZmllcyB0aGUgZ2VvbWV0cnkgY29vcmRpbmF0ZXMgaW4gcGxhY2UuICBJZlxuICAgKiBpbnN0ZWFkIHlvdSB3YW50IGEgbmV3IGdlb21ldHJ5LCBmaXJzdCBgY2xvbmUoKWAgdGhpcyBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhWCBEZWx0YSBYLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFZIERlbHRhIFkuXG4gICAqIEBhcGlcbiAgICovXG4gIHRyYW5zbGF0ZShkZWx0YVgsIGRlbHRhWSkge1xuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHRoaXMuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgaWYgKGZsYXRDb29yZGluYXRlcykge1xuICAgICAgY29uc3Qgc3RyaWRlID0gdGhpcy5nZXRTdHJpZGUoKTtcbiAgICAgIHRyYW5zbGF0ZShcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAwLFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgICBzdHJpZGUsXG4gICAgICAgIGRlbHRhWCxcbiAgICAgICAgZGVsdGFZLFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNcbiAgICAgICk7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXR9IGxheW91dCBMYXlvdXQuXG4gKi9cbmZ1bmN0aW9uIGdldExheW91dEZvclN0cmlkZShzdHJpZGUpIHtcbiAgbGV0IGxheW91dDtcbiAgaWYgKHN0cmlkZSA9PSAyKSB7XG4gICAgbGF5b3V0ID0gJ1hZJztcbiAgfSBlbHNlIGlmIChzdHJpZGUgPT0gMykge1xuICAgIGxheW91dCA9ICdYWVonO1xuICB9IGVsc2UgaWYgKHN0cmlkZSA9PSA0KSB7XG4gICAgbGF5b3V0ID0gJ1hZWk0nO1xuICB9XG4gIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4vR2VvbWV0cnkuanNcIikuR2VvbWV0cnlMYXlvdXR9ICovIChsYXlvdXQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9HZW9tZXRyeS5qc1wiKS5HZW9tZXRyeUxheW91dH0gbGF5b3V0IExheW91dC5cbiAqIEByZXR1cm4ge251bWJlcn0gU3RyaWRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RyaWRlRm9yTGF5b3V0KGxheW91dCkge1xuICBsZXQgc3RyaWRlO1xuICBpZiAobGF5b3V0ID09ICdYWScpIHtcbiAgICBzdHJpZGUgPSAyO1xuICB9IGVsc2UgaWYgKGxheW91dCA9PSAnWFlaJyB8fCBsYXlvdXQgPT0gJ1hZTScpIHtcbiAgICBzdHJpZGUgPSAzO1xuICB9IGVsc2UgaWYgKGxheW91dCA9PSAnWFlaTScpIHtcbiAgICBzdHJpZGUgPSA0O1xuICB9XG4gIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHN0cmlkZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTaW1wbGVHZW9tZXRyeX0gc2ltcGxlR2VvbWV0cnkgU2ltcGxlIGdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbZGVzdF0gRGVzdGluYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUcmFuc2Zvcm1lZCBmbGF0IGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtR2VvbTJEKHNpbXBsZUdlb21ldHJ5LCB0cmFuc2Zvcm0sIGRlc3QpIHtcbiAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gc2ltcGxlR2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gIGlmICghZmxhdENvb3JkaW5hdGVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3Qgc3RyaWRlID0gc2ltcGxlR2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gIHJldHVybiB0cmFuc2Zvcm0yRChcbiAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgMCxcbiAgICBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgIHN0cmlkZSxcbiAgICB0cmFuc2Zvcm0sXG4gICAgZGVzdFxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTaW1wbGVHZW9tZXRyeTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvY29udGFpbnNcbiAqL1xuaW1wb3J0IHtmb3JFYWNoQ29ybmVyfSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyBleHRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nQ29udGFpbnNFeHRlbnQoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgZXh0ZW50XG4pIHtcbiAgY29uc3Qgb3V0c2lkZSA9IGZvckVhY2hDb3JuZXIoXG4gICAgZXh0ZW50LFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChjb29yZGluYXRlKSB7XG4gICAgICByZXR1cm4gIWxpbmVhclJpbmdDb250YWluc1hZKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgZW5kLFxuICAgICAgICBzdHJpZGUsXG4gICAgICAgIGNvb3JkaW5hdGVbMF0sXG4gICAgICAgIGNvb3JkaW5hdGVbMV1cbiAgICAgICk7XG4gICAgfVxuICApO1xuICByZXR1cm4gIW91dHNpZGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ0NvbnRhaW5zWFkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgeCxcbiAgeVxuKSB7XG4gIC8vIGh0dHBzOi8vZ2VvbWFsZ29yaXRobXMuY29tL2EwMy1faW5jbHVzaW9uLmh0bWxcbiAgLy8gQ29weXJpZ2h0IDIwMDAgc29mdFN1cmZlciwgMjAxMiBEYW4gU3VuZGF5XG4gIC8vIFRoaXMgY29kZSBtYXkgYmUgZnJlZWx5IHVzZWQgYW5kIG1vZGlmaWVkIGZvciBhbnkgcHVycG9zZVxuICAvLyBwcm92aWRpbmcgdGhhdCB0aGlzIGNvcHlyaWdodCBub3RpY2UgaXMgaW5jbHVkZWQgd2l0aCBpdC5cbiAgLy8gU29mdFN1cmZlciBtYWtlcyBubyB3YXJyYW50eSBmb3IgdGhpcyBjb2RlLCBhbmQgY2Fubm90IGJlIGhlbGRcbiAgLy8gbGlhYmxlIGZvciBhbnkgcmVhbCBvciBpbWFnaW5lZCBkYW1hZ2UgcmVzdWx0aW5nIGZyb20gaXRzIHVzZS5cbiAgLy8gVXNlcnMgb2YgdGhpcyBjb2RlIG11c3QgdmVyaWZ5IGNvcnJlY3RuZXNzIGZvciB0aGVpciBhcHBsaWNhdGlvbi5cbiAgbGV0IHduID0gMDtcbiAgbGV0IHgxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZV07XG4gIGxldCB5MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGUgKyAxXTtcbiAgZm9yICg7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgIGNvbnN0IHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgY29uc3QgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgaWYgKHkxIDw9IHkpIHtcbiAgICAgIGlmICh5MiA+IHkgJiYgKHgyIC0geDEpICogKHkgLSB5MSkgLSAoeCAtIHgxKSAqICh5MiAtIHkxKSA+IDApIHtcbiAgICAgICAgd24rKztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHkyIDw9IHkgJiYgKHgyIC0geDEpICogKHkgLSB5MSkgLSAoeCAtIHgxKSAqICh5MiAtIHkxKSA8IDApIHtcbiAgICAgIHduLS07XG4gICAgfVxuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgfVxuICByZXR1cm4gd24gIT09IDA7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHJldHVybiB7Ym9vbGVhbn0gQ29udGFpbnMgKHgsIHkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NDb250YWluc1hZKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kcyxcbiAgc3RyaWRlLFxuICB4LFxuICB5XG4pIHtcbiAgaWYgKGVuZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICghbGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHNbMF0sIHN0cmlkZSwgeCwgeSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDEsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgaWYgKFxuICAgICAgbGluZWFyUmluZ0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBlbmRzW2kgLSAxXSwgZW5kc1tpXSwgc3RyaWRlLCB4LCB5KVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcmV0dXJuIHtib29sZWFufSBDb250YWlucyAoeCwgeSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nc3NDb250YWluc1hZKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kc3MsXG4gIHN0cmlkZSxcbiAgeCxcbiAgeVxuKSB7XG4gIGlmIChlbmRzcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZHMgPSBlbmRzc1tpXTtcbiAgICBpZiAobGluZWFyUmluZ3NDb250YWluc1hZKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIHgsIHkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgb2Zmc2V0ID0gZW5kc1tlbmRzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvaW5mbGF0ZVxuICovXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gW2Nvb3JkaW5hdGVzXSBDb29yZGluYXRlcy5cbiAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IENvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZUNvb3JkaW5hdGVzKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIGNvb3JkaW5hdGVzXG4pIHtcbiAgY29vcmRpbmF0ZXMgPSBjb29yZGluYXRlcyAhPT0gdW5kZWZpbmVkID8gY29vcmRpbmF0ZXMgOiBbXTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGxldCBqID0gb2Zmc2V0OyBqIDwgZW5kOyBqICs9IHN0cmlkZSkge1xuICAgIGNvb3JkaW5hdGVzW2krK10gPSBmbGF0Q29vcmRpbmF0ZXMuc2xpY2UoaiwgaiArIHN0cmlkZSk7XG4gIH1cbiAgY29vcmRpbmF0ZXMubGVuZ3RoID0gaTtcbiAgcmV0dXJuIGNvb3JkaW5hdGVzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+fSBbY29vcmRpbmF0ZXNzXSBDb29yZGluYXRlc3MuXG4gKiBAcmV0dXJuIHtBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pn0gQ29vcmRpbmF0ZXNzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzLFxuICBzdHJpZGUsXG4gIGNvb3JkaW5hdGVzc1xuKSB7XG4gIGNvb3JkaW5hdGVzcyA9IGNvb3JkaW5hdGVzcyAhPT0gdW5kZWZpbmVkID8gY29vcmRpbmF0ZXNzIDogW107XG4gIGxldCBpID0gMDtcbiAgZm9yIChsZXQgaiA9IDAsIGpqID0gZW5kcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgY29uc3QgZW5kID0gZW5kc1tqXTtcbiAgICBjb29yZGluYXRlc3NbaSsrXSA9IGluZmxhdGVDb29yZGluYXRlcyhcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIGNvb3JkaW5hdGVzc1tpXVxuICAgICk7XG4gICAgb2Zmc2V0ID0gZW5kO1xuICB9XG4gIGNvb3JkaW5hdGVzcy5sZW5ndGggPSBpO1xuICByZXR1cm4gY29vcmRpbmF0ZXNzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGVuZHNzIEVuZHNzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+Pn0gW2Nvb3JkaW5hdGVzc3NdXG4gKiAgICAgQ29vcmRpbmF0ZXNzcy5cbiAqIEByZXR1cm4ge0FycmF5PEFycmF5PEFycmF5PGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT4+Pn0gQ29vcmRpbmF0ZXNzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzcyxcbiAgc3RyaWRlLFxuICBjb29yZGluYXRlc3NzXG4pIHtcbiAgY29vcmRpbmF0ZXNzcyA9IGNvb3JkaW5hdGVzc3MgIT09IHVuZGVmaW5lZCA/IGNvb3JkaW5hdGVzc3MgOiBbXTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGxldCBqID0gMCwgamogPSBlbmRzcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgY29uc3QgZW5kcyA9IGVuZHNzW2pdO1xuICAgIGNvb3JkaW5hdGVzc3NbaSsrXSA9XG4gICAgICBlbmRzLmxlbmd0aCA9PT0gMSAmJiBlbmRzWzBdID09PSBvZmZzZXRcbiAgICAgICAgPyBbXVxuICAgICAgICA6IGluZmxhdGVDb29yZGluYXRlc0FycmF5KFxuICAgICAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgZW5kcyxcbiAgICAgICAgICAgIHN0cmlkZSxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzc3NbaV1cbiAgICAgICAgICApO1xuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICBjb29yZGluYXRlc3NzLmxlbmd0aCA9IGk7XG4gIHJldHVybiBjb29yZGluYXRlc3NzO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9pbnRlcmlvcnBvaW50XG4gKi9cbmltcG9ydCB7YXNjZW5kaW5nfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQge2xpbmVhclJpbmdzQ29udGFpbnNYWX0gZnJvbSAnLi9jb250YWlucy5qcyc7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyBhIHBvaW50IHRoYXQgaXMgbGlrZWx5IHRvIGxpZSBpbiB0aGUgaW50ZXJpb3Igb2YgdGhlIGxpbmVhciByaW5ncy5cbiAqIEluc3BpcmVkIGJ5IEpUUydzIGNvbS52aXZpZHNvbHV0aW9ucy5qdHMuZ2VvbS5HZW9tZXRyeSNnZXRJbnRlcmlvclBvaW50LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENlbnRlcnMgRmxhdCBjZW50ZXJzLlxuICogQHBhcmFtIHtudW1iZXJ9IGZsYXRDZW50ZXJzT2Zmc2V0IEZsYXQgY2VudGVyIG9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2Rlc3RdIERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRGVzdGluYXRpb24gcG9pbnQgYXMgWFlNIGNvb3JkaW5hdGUsIHdoZXJlIE0gaXMgdGhlXG4gKiBsZW5ndGggb2YgdGhlIGhvcml6b250YWwgaW50ZXJzZWN0aW9uIHRoYXQgdGhlIHBvaW50IGJlbG9uZ3MgdG8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcmlvclBvaW50T2ZBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHMsXG4gIHN0cmlkZSxcbiAgZmxhdENlbnRlcnMsXG4gIGZsYXRDZW50ZXJzT2Zmc2V0LFxuICBkZXN0XG4pIHtcbiAgbGV0IGksIGlpLCB4LCB4MSwgeDIsIHkxLCB5MjtcbiAgY29uc3QgeSA9IGZsYXRDZW50ZXJzW2ZsYXRDZW50ZXJzT2Zmc2V0ICsgMV07XG4gIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgY29uc3QgaW50ZXJzZWN0aW9ucyA9IFtdO1xuICAvLyBDYWxjdWxhdGUgaW50ZXJzZWN0aW9ucyB3aXRoIHRoZSBob3Jpem9udGFsIGxpbmVcbiAgZm9yIChsZXQgciA9IDAsIHJyID0gZW5kcy5sZW5ndGg7IHIgPCBycjsgKytyKSB7XG4gICAgY29uc3QgZW5kID0gZW5kc1tyXTtcbiAgICB4MSA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGVdO1xuICAgIHkxID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdO1xuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHgyID0gZmxhdENvb3JkaW5hdGVzW2ldO1xuICAgICAgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgICAgaWYgKCh5IDw9IHkxICYmIHkyIDw9IHkpIHx8ICh5MSA8PSB5ICYmIHkgPD0geTIpKSB7XG4gICAgICAgIHggPSAoKHkgLSB5MSkgLyAoeTIgLSB5MSkpICogKHgyIC0geDEpICsgeDE7XG4gICAgICAgIGludGVyc2VjdGlvbnMucHVzaCh4KTtcbiAgICAgIH1cbiAgICAgIHgxID0geDI7XG4gICAgICB5MSA9IHkyO1xuICAgIH1cbiAgfVxuICAvLyBGaW5kIHRoZSBsb25nZXN0IHNlZ21lbnQgb2YgdGhlIGhvcml6b250YWwgbGluZSB0aGF0IGhhcyBpdHMgY2VudGVyIHBvaW50XG4gIC8vIGluc2lkZSB0aGUgbGluZWFyIHJpbmcuXG4gIGxldCBwb2ludFggPSBOYU47XG4gIGxldCBtYXhTZWdtZW50TGVuZ3RoID0gLUluZmluaXR5O1xuICBpbnRlcnNlY3Rpb25zLnNvcnQoYXNjZW5kaW5nKTtcbiAgeDEgPSBpbnRlcnNlY3Rpb25zWzBdO1xuICBmb3IgKGkgPSAxLCBpaSA9IGludGVyc2VjdGlvbnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIHgyID0gaW50ZXJzZWN0aW9uc1tpXTtcbiAgICBjb25zdCBzZWdtZW50TGVuZ3RoID0gTWF0aC5hYnMoeDIgLSB4MSk7XG4gICAgaWYgKHNlZ21lbnRMZW5ndGggPiBtYXhTZWdtZW50TGVuZ3RoKSB7XG4gICAgICB4ID0gKHgxICsgeDIpIC8gMjtcbiAgICAgIGlmIChsaW5lYXJSaW5nc0NvbnRhaW5zWFkoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZHMsIHN0cmlkZSwgeCwgeSkpIHtcbiAgICAgICAgcG9pbnRYID0geDtcbiAgICAgICAgbWF4U2VnbWVudExlbmd0aCA9IHNlZ21lbnRMZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICAgIHgxID0geDI7XG4gIH1cbiAgaWYgKGlzTmFOKHBvaW50WCkpIHtcbiAgICAvLyBUaGVyZSBpcyBubyBob3Jpem9udGFsIGxpbmUgdGhhdCBoYXMgaXRzIGNlbnRlciBwb2ludCBpbnNpZGUgdGhlIGxpbmVhclxuICAgIC8vIHJpbmcuICBVc2UgdGhlIGNlbnRlciBvZiB0aGUgdGhlIGxpbmVhciByaW5nJ3MgZXh0ZW50LlxuICAgIHBvaW50WCA9IGZsYXRDZW50ZXJzW2ZsYXRDZW50ZXJzT2Zmc2V0XTtcbiAgfVxuICBpZiAoZGVzdCkge1xuICAgIGRlc3QucHVzaChwb2ludFgsIHksIG1heFNlZ21lbnRMZW5ndGgpO1xuICAgIHJldHVybiBkZXN0O1xuICB9XG4gIHJldHVybiBbcG9pbnRYLCB5LCBtYXhTZWdtZW50TGVuZ3RoXTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q2VudGVycyBGbGF0IGNlbnRlcnMuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBJbnRlcmlvciBwb2ludHMgYXMgWFlNIGNvb3JkaW5hdGVzLCB3aGVyZSBNIGlzIHRoZVxuICogbGVuZ3RoIG9mIHRoZSBob3Jpem9udGFsIGludGVyc2VjdGlvbiB0aGF0IHRoZSBwb2ludCBiZWxvbmdzIHRvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJpb3JQb2ludHNPZk11bHRpQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzcyxcbiAgc3RyaWRlLFxuICBmbGF0Q2VudGVyc1xuKSB7XG4gIGxldCBpbnRlcmlvclBvaW50cyA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kcyA9IGVuZHNzW2ldO1xuICAgIGludGVyaW9yUG9pbnRzID0gZ2V0SW50ZXJpb3JQb2ludE9mQXJyYXkoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmRzLFxuICAgICAgc3RyaWRlLFxuICAgICAgZmxhdENlbnRlcnMsXG4gICAgICAyICogaSxcbiAgICAgIGludGVyaW9yUG9pbnRzXG4gICAgKTtcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIGludGVyaW9yUG9pbnRzO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9pbnRlcnNlY3RzZXh0ZW50XG4gKi9cbmltcG9ydCB7XG4gIGNvbnRhaW5zRXh0ZW50LFxuICBjcmVhdGVFbXB0eSxcbiAgZXh0ZW5kRmxhdENvb3JkaW5hdGVzLFxuICBpbnRlcnNlY3RzLFxuICBpbnRlcnNlY3RzU2VnbWVudCxcbn0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7Zm9yRWFjaCBhcyBmb3JFYWNoU2VnbWVudH0gZnJvbSAnLi9zZWdtZW50cy5qcyc7XG5pbXBvcnQge2xpbmVhclJpbmdDb250YWluc0V4dGVudCwgbGluZWFyUmluZ0NvbnRhaW5zWFl9IGZyb20gJy4vY29udGFpbnMuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZVN0cmluZyhcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBleHRlbnRcbikge1xuICBjb25zdCBjb29yZGluYXRlc0V4dGVudCA9IGV4dGVuZEZsYXRDb29yZGluYXRlcyhcbiAgICBjcmVhdGVFbXB0eSgpLFxuICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICBvZmZzZXQsXG4gICAgZW5kLFxuICAgIHN0cmlkZVxuICApO1xuICBpZiAoIWludGVyc2VjdHMoZXh0ZW50LCBjb29yZGluYXRlc0V4dGVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGNvbnRhaW5zRXh0ZW50KGV4dGVudCwgY29vcmRpbmF0ZXNFeHRlbnQpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGNvb3JkaW5hdGVzRXh0ZW50WzBdID49IGV4dGVudFswXSAmJiBjb29yZGluYXRlc0V4dGVudFsyXSA8PSBleHRlbnRbMl0pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoY29vcmRpbmF0ZXNFeHRlbnRbMV0gPj0gZXh0ZW50WzFdICYmIGNvb3JkaW5hdGVzRXh0ZW50WzNdIDw9IGV4dGVudFszXSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmb3JFYWNoU2VnbWVudChcbiAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgb2Zmc2V0LFxuICAgIGVuZCxcbiAgICBzdHJpZGUsXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHBvaW50MSBTdGFydCBwb2ludC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcG9pbnQyIEVuZCBwb2ludC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHNlZ21lbnQgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LFxuICAgICAqICAgICBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAocG9pbnQxLCBwb2ludDIpIHtcbiAgICAgIHJldHVybiBpbnRlcnNlY3RzU2VnbWVudChleHRlbnQsIHBvaW50MSwgcG9pbnQyKTtcbiAgICB9XG4gICk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGdlb21ldHJ5IGFuZCB0aGUgZXh0ZW50IGludGVyc2VjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdHNMaW5lU3RyaW5nQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzLFxuICBzdHJpZGUsXG4gIGV4dGVudFxuKSB7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGlmIChcbiAgICAgIGludGVyc2VjdHNMaW5lU3RyaW5nKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzW2ldLCBzdHJpZGUsIGV4dGVudClcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBvZmZzZXQgPSBlbmRzW2ldO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVhclJpbmcoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgZXh0ZW50XG4pIHtcbiAgaWYgKGludGVyc2VjdHNMaW5lU3RyaW5nKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgZXh0ZW50KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChcbiAgICBsaW5lYXJSaW5nQ29udGFpbnNYWShcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIGV4dGVudFswXSxcbiAgICAgIGV4dGVudFsxXVxuICAgIClcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKFxuICAgIGxpbmVhclJpbmdDb250YWluc1hZKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgZXh0ZW50WzBdLFxuICAgICAgZXh0ZW50WzNdXG4gICAgKVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoXG4gICAgbGluZWFyUmluZ0NvbnRhaW5zWFkoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmQsXG4gICAgICBzdHJpZGUsXG4gICAgICBleHRlbnRbMl0sXG4gICAgICBleHRlbnRbMV1cbiAgICApXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChcbiAgICBsaW5lYXJSaW5nQ29udGFpbnNYWShcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIGV4dGVudFsyXSxcbiAgICAgIGV4dGVudFszXVxuICAgIClcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBnZW9tZXRyeSBhbmQgdGhlIGV4dGVudCBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzTGluZWFyUmluZ0FycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kcyxcbiAgc3RyaWRlLFxuICBleHRlbnRcbikge1xuICBpZiAoIWludGVyc2VjdHNMaW5lYXJSaW5nKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzWzBdLCBzdHJpZGUsIGV4dGVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGVuZHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDEsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgaWYgKFxuICAgICAgbGluZWFyUmluZ0NvbnRhaW5zRXh0ZW50KFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgIGVuZHNbaSAtIDFdLFxuICAgICAgICBlbmRzW2ldLFxuICAgICAgICBzdHJpZGUsXG4gICAgICAgIGV4dGVudFxuICAgICAgKVxuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICAhaW50ZXJzZWN0c0xpbmVTdHJpbmcoXG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAgIGVuZHNbaSAtIDFdLFxuICAgICAgICAgIGVuZHNbaV0sXG4gICAgICAgICAgc3RyaWRlLFxuICAgICAgICAgIGV4dGVudFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZ2VvbWV0cnkgYW5kIHRoZSBleHRlbnQgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0c0xpbmVhclJpbmdNdWx0aUFycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kc3MsXG4gIHN0cmlkZSxcbiAgZXh0ZW50XG4pIHtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZHMgPSBlbmRzc1tpXTtcbiAgICBpZiAoXG4gICAgICBpbnRlcnNlY3RzTGluZWFyUmluZ0FycmF5KGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGV4dGVudClcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9zZWdtZW50c1xuICovXG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYWxscyBgY2FsbGJhY2tgIGZvciBlYWNoIHNlZ21lbnQgb2YgdGhlIGZsYXQgY29vcmRpbmF0ZXNcbiAqIGFycmF5LiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSB0aGUgZnVuY3Rpb24gcmV0dXJucyB0aGF0XG4gKiB2YWx1ZSBpbW1lZGlhdGVseS4gT3RoZXJ3aXNlIHRoZSBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUsIGltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IFR9IGNhbGxiYWNrIEZ1bmN0aW9uXG4gKiAgICAgY2FsbGVkIGZvciBlYWNoIHNlZ21lbnQuXG4gKiBAcmV0dXJuIHtUfGJvb2xlYW59IFZhbHVlLlxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2goZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgc3RyaWRlLCBjYWxsYmFjaykge1xuICBsZXQgcmV0O1xuICBvZmZzZXQgKz0gc3RyaWRlO1xuICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgcmV0ID0gY2FsbGJhY2soXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMuc2xpY2Uob2Zmc2V0IC0gc3RyaWRlLCBvZmZzZXQpLFxuICAgICAgZmxhdENvb3JkaW5hdGVzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgc3RyaWRlKVxuICAgICk7XG4gICAgaWYgKHJldCkge1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC9zaW1wbGlmeVxuICovXG4vLyBCYXNlZCBvbiBzaW1wbGlmeS1qcyBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9zaW1wbGlmeS1qc1xuLy8gQ29weXJpZ2h0IChjKSAyMDEyLCBWbGFkaW1pciBBZ2Fmb25raW5cbi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vL1xuLy8gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4vLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbi8vXG4vLyAgICAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4vLyAgICAgICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuLy9cbi8vICAgIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4vLyAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4vLyAgICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuLy9cbi8vIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4vLyBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4vLyBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRVxuLy8gQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRVxuLy8gTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUlxuLy8gQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0Zcbi8vIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTU1xuLy8gSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU5cbi8vIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXG4vLyBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxuLy8gUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG5cbmltcG9ydCB7c3F1YXJlZERpc3RhbmNlLCBzcXVhcmVkU2VnbWVudERpc3RhbmNlfSBmcm9tICcuLi8uLi9tYXRoLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGhpZ2hRdWFsaXR5IEhpZ2hlc3QgcXVhbGl0eS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW3NpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNdIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gU2ltcGxpZmllZCBsaW5lIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpbXBsaWZ5TGluZVN0cmluZyhcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBzcXVhcmVkVG9sZXJhbmNlLFxuICBoaWdoUXVhbGl0eSxcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1xuKSB7XG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgPVxuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgIT09IHVuZGVmaW5lZCA/IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgOiBbXTtcbiAgaWYgKCFoaWdoUXVhbGl0eSkge1xuICAgIGVuZCA9IHJhZGlhbERpc3RhbmNlKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwXG4gICAgKTtcbiAgICBmbGF0Q29vcmRpbmF0ZXMgPSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzO1xuICAgIG9mZnNldCA9IDA7XG4gICAgc3RyaWRlID0gMjtcbiAgfVxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLmxlbmd0aCA9IGRvdWdsYXNQZXVja2VyKFxuICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICBvZmZzZXQsXG4gICAgZW5kLFxuICAgIHN0cmlkZSxcbiAgICBzcXVhcmVkVG9sZXJhbmNlLFxuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gICAgMFxuICApO1xuICByZXR1cm4gc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkb3VnbGFzUGV1Y2tlcihcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBzcXVhcmVkVG9sZXJhbmNlLFxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICBzaW1wbGlmaWVkT2Zmc2V0XG4pIHtcbiAgY29uc3QgbiA9IChlbmQgLSBvZmZzZXQpIC8gc3RyaWRlO1xuICBpZiAobiA8IDMpIHtcbiAgICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9XG4gICAgICAgIGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICB9XG4gICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG4gIH1cbiAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICBjb25zdCBtYXJrZXJzID0gbmV3IEFycmF5KG4pO1xuICBtYXJrZXJzWzBdID0gMTtcbiAgbWFya2Vyc1tuIC0gMV0gPSAxO1xuICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovXG4gIGNvbnN0IHN0YWNrID0gW29mZnNldCwgZW5kIC0gc3RyaWRlXTtcbiAgbGV0IGluZGV4ID0gMDtcbiAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBsYXN0ID0gc3RhY2sucG9wKCk7XG4gICAgY29uc3QgZmlyc3QgPSBzdGFjay5wb3AoKTtcbiAgICBsZXQgbWF4U3F1YXJlZERpc3RhbmNlID0gMDtcbiAgICBjb25zdCB4MSA9IGZsYXRDb29yZGluYXRlc1tmaXJzdF07XG4gICAgY29uc3QgeTEgPSBmbGF0Q29vcmRpbmF0ZXNbZmlyc3QgKyAxXTtcbiAgICBjb25zdCB4MiA9IGZsYXRDb29yZGluYXRlc1tsYXN0XTtcbiAgICBjb25zdCB5MiA9IGZsYXRDb29yZGluYXRlc1tsYXN0ICsgMV07XG4gICAgZm9yIChsZXQgaSA9IGZpcnN0ICsgc3RyaWRlOyBpIDwgbGFzdDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIGNvbnN0IHggPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICBjb25zdCB5ID0gZmxhdENvb3JkaW5hdGVzW2kgKyAxXTtcbiAgICAgIGNvbnN0IHNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWRTZWdtZW50RGlzdGFuY2UoeCwgeSwgeDEsIHkxLCB4MiwgeTIpO1xuICAgICAgaWYgKHNxdWFyZWREaXN0YW5jZSA+IG1heFNxdWFyZWREaXN0YW5jZSkge1xuICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgIG1heFNxdWFyZWREaXN0YW5jZSA9IHNxdWFyZWREaXN0YW5jZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1heFNxdWFyZWREaXN0YW5jZSA+IHNxdWFyZWRUb2xlcmFuY2UpIHtcbiAgICAgIG1hcmtlcnNbKGluZGV4IC0gb2Zmc2V0KSAvIHN0cmlkZV0gPSAxO1xuICAgICAgaWYgKGZpcnN0ICsgc3RyaWRlIDwgaW5kZXgpIHtcbiAgICAgICAgc3RhY2sucHVzaChmaXJzdCwgaW5kZXgpO1xuICAgICAgfVxuICAgICAgaWYgKGluZGV4ICsgc3RyaWRlIDwgbGFzdCkge1xuICAgICAgICBzdGFjay5wdXNoKGluZGV4LCBsYXN0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAobWFya2Vyc1tpXSkge1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID1cbiAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGkgKiBzdHJpZGVdO1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID1cbiAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIGkgKiBzdHJpZGUgKyAxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzIFNpbXBsaWZpZWQgZmxhdFxuICogICAgIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IHNpbXBsaWZpZWRPZmZzZXQgU2ltcGxpZmllZCBvZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRFbmRzIFNpbXBsaWZpZWQgZW5kcy5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkb3VnbGFzUGV1Y2tlckFycmF5KFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kcyxcbiAgc3RyaWRlLFxuICBzcXVhcmVkVG9sZXJhbmNlLFxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICBzaW1wbGlmaWVkT2Zmc2V0LFxuICBzaW1wbGlmaWVkRW5kc1xuKSB7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZCA9IGVuZHNbaV07XG4gICAgc2ltcGxpZmllZE9mZnNldCA9IGRvdWdsYXNQZXVja2VyKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kLFxuICAgICAgc3RyaWRlLFxuICAgICAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBzaW1wbGlmaWVkT2Zmc2V0XG4gICAgKTtcbiAgICBzaW1wbGlmaWVkRW5kcy5wdXNoKHNpbXBsaWZpZWRPZmZzZXQpO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IHNpbXBsaWZpZWRFbmRzcyBTaW1wbGlmaWVkIGVuZHNzLlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvdWdsYXNQZXVja2VyTXVsdGlBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHNzLFxuICBzdHJpZGUsXG4gIHNxdWFyZWRUb2xlcmFuY2UsXG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gIHNpbXBsaWZpZWRPZmZzZXQsXG4gIHNpbXBsaWZpZWRFbmRzc1xuKSB7XG4gIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHNzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmRzID0gZW5kc3NbaV07XG4gICAgY29uc3Qgc2ltcGxpZmllZEVuZHMgPSBbXTtcbiAgICBzaW1wbGlmaWVkT2Zmc2V0ID0gZG91Z2xhc1BldWNrZXJBcnJheShcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZHMsXG4gICAgICBzdHJpZGUsXG4gICAgICBzcXVhcmVkVG9sZXJhbmNlLFxuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgICAgIHNpbXBsaWZpZWRPZmZzZXQsXG4gICAgICBzaW1wbGlmaWVkRW5kc1xuICAgICk7XG4gICAgc2ltcGxpZmllZEVuZHNzLnB1c2goc2ltcGxpZmllZEVuZHMpO1xuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYWRpYWxEaXN0YW5jZShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBzcXVhcmVkVG9sZXJhbmNlLFxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzLFxuICBzaW1wbGlmaWVkT2Zmc2V0XG4pIHtcbiAgaWYgKGVuZCA8PSBvZmZzZXQgKyBzdHJpZGUpIHtcbiAgICAvLyB6ZXJvIG9yIG9uZSBwb2ludCwgbm8gc2ltcGxpZmljYXRpb24gcG9zc2libGUsIHNvIGNvcHkgYW5kIHJldHVyblxuICAgIGZvciAoOyBvZmZzZXQgPCBlbmQ7IG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID1cbiAgICAgICAgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAgIH1cbiAgICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbiAgfVxuICBsZXQgeDEgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgbGV0IHkxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICAvLyBjb3B5IGZpcnN0IHBvaW50XG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgxO1xuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MTtcbiAgbGV0IHgyID0geDE7XG4gIGxldCB5MiA9IHkxO1xuICBmb3IgKG9mZnNldCArPSBzdHJpZGU7IG9mZnNldCA8IGVuZDsgb2Zmc2V0ICs9IHN0cmlkZSkge1xuICAgIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgaWYgKHNxdWFyZWREaXN0YW5jZSh4MSwgeTEsIHgyLCB5MikgPiBzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgICAvLyBjb3B5IHBvaW50IGF0IG9mZnNldFxuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MjtcbiAgICAgIHgxID0geDI7XG4gICAgICB5MSA9IHkyO1xuICAgIH1cbiAgfVxuICBpZiAoeDIgIT0geDEgfHwgeTIgIT0geTEpIHtcbiAgICAvLyBjb3B5IGxhc3QgcG9pbnRcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MjtcbiAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MjtcbiAgfVxuICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIFRvbGVyYW5jZS5cbiAqIEByZXR1cm4ge251bWJlcn0gUm91bmRlZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNuYXAodmFsdWUsIHRvbGVyYW5jZSkge1xuICByZXR1cm4gdG9sZXJhbmNlICogTWF0aC5yb3VuZCh2YWx1ZSAvIHRvbGVyYW5jZSk7XG59XG5cbi8qKlxuICogU2ltcGxpZmllcyBhIGxpbmUgc3RyaW5nIHVzaW5nIGFuIGFsZ29yaXRobSBkZXNpZ25lZCBieSBUaW0gU2NoYXViLlxuICogQ29vcmRpbmF0ZXMgYXJlIHNuYXBwZWQgdG8gdGhlIG5lYXJlc3QgdmFsdWUgaW4gYSB2aXJ0dWFsIGdyaWQgYW5kXG4gKiBjb25zZWN1dGl2ZSBkdXBsaWNhdGUgY29vcmRpbmF0ZXMgYXJlIGRpc2NhcmRlZC4gIFRoaXMgZWZmZWN0aXZlbHkgcHJlc2VydmVzXG4gKiB0b3BvbG9neSBhcyB0aGUgc2ltcGxpZmljYXRpb24gb2YgYW55IHN1YnNlY3Rpb24gb2YgYSBsaW5lIHN0cmluZyBpc1xuICogaW5kZXBlbmRlbnQgb2YgdGhlIHJlc3Qgb2YgdGhlIGxpbmUgc3RyaW5nLiAgVGhpcyBtZWFucyB0aGF0LCBmb3IgZXhhbXBsZXMsXG4gKiB0aGUgY29tbW9uIGVkZ2UgYmV0d2VlbiB0d28gcG9seWdvbnMgd2lsbCBiZSBzaW1wbGlmaWVkIHRvIHRoZSBzYW1lIGxpbmVcbiAqIHN0cmluZyBpbmRlcGVuZGVudGx5IGluIGJvdGggcG9seWdvbnMuICBUaGlzIGltcGxlbWVudGF0aW9uIHVzZXMgYSBzaW5nbGVcbiAqIHBhc3Mgb3ZlciB0aGUgY29vcmRpbmF0ZXMgYW5kIGVsaW1pbmF0ZXMgaW50ZXJtZWRpYXRlIGNvbGxpbmVhciBwb2ludHMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gU2ltcGxpZmllZCBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWFudGl6ZShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICB0b2xlcmFuY2UsXG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gIHNpbXBsaWZpZWRPZmZzZXRcbikge1xuICAvLyBkbyBub3RoaW5nIGlmIHRoZSBsaW5lIGlzIGVtcHR5XG4gIGlmIChvZmZzZXQgPT0gZW5kKSB7XG4gICAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG4gIH1cbiAgLy8gc25hcCB0aGUgZmlyc3QgY29vcmRpbmF0ZSAoUDEpXG4gIGxldCB4MSA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIHRvbGVyYW5jZSk7XG4gIGxldCB5MSA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdLCB0b2xlcmFuY2UpO1xuICBvZmZzZXQgKz0gc3RyaWRlO1xuICAvLyBhZGQgdGhlIGZpcnN0IGNvb3JkaW5hdGUgdG8gdGhlIG91dHB1dFxuICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB4MTtcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geTE7XG4gIC8vIGZpbmQgdGhlIG5leHQgY29vcmRpbmF0ZSB0aGF0IGRvZXMgbm90IHNuYXAgdG8gdGhlIHNhbWUgdmFsdWUgYXMgdGhlIGZpcnN0XG4gIC8vIGNvb3JkaW5hdGUgKFAyKVxuICBsZXQgeDIsIHkyO1xuICBkbyB7XG4gICAgeDIgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXRdLCB0b2xlcmFuY2UpO1xuICAgIHkyID0gc25hcChmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV0sIHRvbGVyYW5jZSk7XG4gICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICBpZiAob2Zmc2V0ID09IGVuZCkge1xuICAgICAgLy8gYWxsIGNvb3JkaW5hdGVzIHNuYXAgdG8gdGhlIHNhbWUgdmFsdWUsIHRoZSBsaW5lIGNvbGxhcHNlcyB0byBhIHBvaW50XG4gICAgICAvLyBwdXNoIHRoZSBsYXN0IHNuYXBwZWQgdmFsdWUgYW55d2F5IHRvIGVuc3VyZSB0aGF0IHRoZSBvdXRwdXQgY29udGFpbnNcbiAgICAgIC8vIGF0IGxlYXN0IHR3byBwb2ludHNcbiAgICAgIC8vIEZJWE1FIHNob3VsZCB3ZSByZWFsbHkgcmV0dXJuIGF0IGxlYXN0IHR3byBwb2ludHMgYW55d2F5P1xuICAgICAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gICAgICBzaW1wbGlmaWVkRmxhdENvb3JkaW5hdGVzW3NpbXBsaWZpZWRPZmZzZXQrK10gPSB5MjtcbiAgICAgIHJldHVybiBzaW1wbGlmaWVkT2Zmc2V0O1xuICAgIH1cbiAgfSB3aGlsZSAoeDIgPT0geDEgJiYgeTIgPT0geTEpO1xuICB3aGlsZSAob2Zmc2V0IDwgZW5kKSB7XG4gICAgLy8gc25hcCB0aGUgbmV4dCBjb29yZGluYXRlIChQMylcbiAgICBjb25zdCB4MyA9IHNuYXAoZmxhdENvb3JkaW5hdGVzW29mZnNldF0sIHRvbGVyYW5jZSk7XG4gICAgY29uc3QgeTMgPSBzbmFwKGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXSwgdG9sZXJhbmNlKTtcbiAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgIC8vIHNraXAgUDMgaWYgaXQgaXMgZXF1YWwgdG8gUDJcbiAgICBpZiAoeDMgPT0geDIgJiYgeTMgPT0geTIpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICAvLyBjYWxjdWxhdGUgdGhlIGRlbHRhIGJldHdlZW4gUDEgYW5kIFAyXG4gICAgY29uc3QgZHgxID0geDIgLSB4MTtcbiAgICBjb25zdCBkeTEgPSB5MiAtIHkxO1xuICAgIC8vIGNhbGN1bGF0ZSB0aGUgZGVsdGEgYmV0d2VlbiBQMyBhbmQgUDFcbiAgICBjb25zdCBkeDIgPSB4MyAtIHgxO1xuICAgIGNvbnN0IGR5MiA9IHkzIC0geTE7XG4gICAgLy8gaWYgUDEsIFAyLCBhbmQgUDMgYXJlIGNvbGluZWFyIGFuZCBQMyBpcyBmdXJ0aGVyIGZyb20gUDEgdGhhbiBQMiBpcyBmcm9tXG4gICAgLy8gUDEgaW4gdGhlIHNhbWUgZGlyZWN0aW9uIHRoZW4gUDIgaXMgb24gdGhlIHN0cmFpZ2h0IGxpbmUgYmV0d2VlbiBQMSBhbmRcbiAgICAvLyBQM1xuICAgIGlmIChcbiAgICAgIGR4MSAqIGR5MiA9PSBkeTEgKiBkeDIgJiZcbiAgICAgICgoZHgxIDwgMCAmJiBkeDIgPCBkeDEpIHx8IGR4MSA9PSBkeDIgfHwgKGR4MSA+IDAgJiYgZHgyID4gZHgxKSkgJiZcbiAgICAgICgoZHkxIDwgMCAmJiBkeTIgPCBkeTEpIHx8IGR5MSA9PSBkeTIgfHwgKGR5MSA+IDAgJiYgZHkyID4gZHkxKSlcbiAgICApIHtcbiAgICAgIC8vIGRpc2NhcmQgUDIgYW5kIHNldCBQMiA9IFAzXG4gICAgICB4MiA9IHgzO1xuICAgICAgeTIgPSB5MztcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICAvLyBlaXRoZXIgUDEsIFAyLCBhbmQgUDMgYXJlIG5vdCBjb2xpbmVhciwgb3IgdGhleSBhcmUgY29saW5lYXIgYnV0IFAzIGlzXG4gICAgLy8gYmV0d2VlbiBQMyBhbmQgUDEgb3Igb24gdGhlIG9wcG9zaXRlIGhhbGYgb2YgdGhlIGxpbmUgdG8gUDIuICBhZGQgUDIsXG4gICAgLy8gYW5kIGNvbnRpbnVlIHdpdGggUDEgPSBQMiBhbmQgUDIgPSBQM1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHgyO1xuICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgICB4MiA9IHgzO1xuICAgIHkyID0geTM7XG4gIH1cbiAgLy8gYWRkIHRoZSBsYXN0IHBvaW50IChQMilcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlc1tzaW1wbGlmaWVkT2Zmc2V0KytdID0geDI7XG4gIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXNbc2ltcGxpZmllZE9mZnNldCsrXSA9IHkyO1xuICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGVuZHMgRW5kcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gc2ltcGxpZmllZEVuZHMgU2ltcGxpZmllZCBlbmRzLlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aXplQXJyYXkoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmRzLFxuICBzdHJpZGUsXG4gIHRvbGVyYW5jZSxcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgc2ltcGxpZmllZE9mZnNldCxcbiAgc2ltcGxpZmllZEVuZHNcbikge1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgIHNpbXBsaWZpZWRPZmZzZXQgPSBxdWFudGl6ZShcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIHRvbGVyYW5jZSxcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBzaW1wbGlmaWVkT2Zmc2V0XG4gICAgKTtcbiAgICBzaW1wbGlmaWVkRW5kcy5wdXNoKHNpbXBsaWZpZWRPZmZzZXQpO1xuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gc2ltcGxpZmllZE9mZnNldDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMgU2ltcGxpZmllZCBmbGF0XG4gKiAgICAgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gc2ltcGxpZmllZE9mZnNldCBTaW1wbGlmaWVkIG9mZnNldC5cbiAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IHNpbXBsaWZpZWRFbmRzcyBTaW1wbGlmaWVkIGVuZHNzLlxuICogQHJldHVybiB7bnVtYmVyfSBTaW1wbGlmaWVkIG9mZnNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aXplTXVsdGlBcnJheShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZHNzLFxuICBzdHJpZGUsXG4gIHRvbGVyYW5jZSxcbiAgc2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyxcbiAgc2ltcGxpZmllZE9mZnNldCxcbiAgc2ltcGxpZmllZEVuZHNzXG4pIHtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgIGNvbnN0IGVuZHMgPSBlbmRzc1tpXTtcbiAgICBjb25zdCBzaW1wbGlmaWVkRW5kcyA9IFtdO1xuICAgIHNpbXBsaWZpZWRPZmZzZXQgPSBxdWFudGl6ZUFycmF5KFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZW5kcyxcbiAgICAgIHN0cmlkZSxcbiAgICAgIHRvbGVyYW5jZSxcbiAgICAgIHNpbXBsaWZpZWRGbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBzaW1wbGlmaWVkT2Zmc2V0LFxuICAgICAgc2ltcGxpZmllZEVuZHNcbiAgICApO1xuICAgIHNpbXBsaWZpZWRFbmRzcy5wdXNoKHNpbXBsaWZpZWRFbmRzKTtcbiAgICBvZmZzZXQgPSBlbmRzW2VuZHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIHNpbXBsaWZpZWRPZmZzZXQ7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L3RyYW5zZm9ybVxuICovXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2Rlc3RdIERlc3RpbmF0aW9uLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gVHJhbnNmb3JtZWQgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm0yRChcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICB0cmFuc2Zvcm0sXG4gIGRlc3Rcbikge1xuICBkZXN0ID0gZGVzdCA/IGRlc3QgOiBbXTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGxldCBqID0gb2Zmc2V0OyBqIDwgZW5kOyBqICs9IHN0cmlkZSkge1xuICAgIGNvbnN0IHggPSBmbGF0Q29vcmRpbmF0ZXNbal07XG4gICAgY29uc3QgeSA9IGZsYXRDb29yZGluYXRlc1tqICsgMV07XG4gICAgZGVzdFtpKytdID0gdHJhbnNmb3JtWzBdICogeCArIHRyYW5zZm9ybVsyXSAqIHkgKyB0cmFuc2Zvcm1bNF07XG4gICAgZGVzdFtpKytdID0gdHJhbnNmb3JtWzFdICogeCArIHRyYW5zZm9ybVszXSAqIHkgKyB0cmFuc2Zvcm1bNV07XG4gIH1cbiAgaWYgKGRlc3QgJiYgZGVzdC5sZW5ndGggIT0gaSkge1xuICAgIGRlc3QubGVuZ3RoID0gaTtcbiAgfVxuICByZXR1cm4gZGVzdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIEFuZ2xlLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBhbmNob3IgUm90YXRpb24gYW5jaG9yIHBvaW50LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbZGVzdF0gRGVzdGluYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUcmFuc2Zvcm1lZCBjb29yZGluYXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBhbmdsZSxcbiAgYW5jaG9yLFxuICBkZXN0XG4pIHtcbiAgZGVzdCA9IGRlc3QgPyBkZXN0IDogW107XG4gIGNvbnN0IGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgY29uc3Qgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICBjb25zdCBhbmNob3JYID0gYW5jaG9yWzBdO1xuICBjb25zdCBhbmNob3JZID0gYW5jaG9yWzFdO1xuICBsZXQgaSA9IDA7XG4gIGZvciAobGV0IGogPSBvZmZzZXQ7IGogPCBlbmQ7IGogKz0gc3RyaWRlKSB7XG4gICAgY29uc3QgZGVsdGFYID0gZmxhdENvb3JkaW5hdGVzW2pdIC0gYW5jaG9yWDtcbiAgICBjb25zdCBkZWx0YVkgPSBmbGF0Q29vcmRpbmF0ZXNbaiArIDFdIC0gYW5jaG9yWTtcbiAgICBkZXN0W2krK10gPSBhbmNob3JYICsgZGVsdGFYICogY29zIC0gZGVsdGFZICogc2luO1xuICAgIGRlc3RbaSsrXSA9IGFuY2hvclkgKyBkZWx0YVggKiBzaW4gKyBkZWx0YVkgKiBjb3M7XG4gICAgZm9yIChsZXQgayA9IGogKyAyOyBrIDwgaiArIHN0cmlkZTsgKytrKSB7XG4gICAgICBkZXN0W2krK10gPSBmbGF0Q29vcmRpbmF0ZXNba107XG4gICAgfVxuICB9XG4gIGlmIChkZXN0ICYmIGRlc3QubGVuZ3RoICE9IGkpIHtcbiAgICBkZXN0Lmxlbmd0aCA9IGk7XG4gIH1cbiAgcmV0dXJuIGRlc3Q7XG59XG5cbi8qKlxuICogU2NhbGUgdGhlIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzeCBTY2FsZSBmYWN0b3IgaW4gdGhlIHgtZGlyZWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHN5IFNjYWxlIGZhY3RvciBpbiB0aGUgeS1kaXJlY3Rpb24uXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGFuY2hvciBTY2FsZSBhbmNob3IgcG9pbnQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtkZXN0XSBEZXN0aW5hdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgc3gsXG4gIHN5LFxuICBhbmNob3IsXG4gIGRlc3Rcbikge1xuICBkZXN0ID0gZGVzdCA/IGRlc3QgOiBbXTtcbiAgY29uc3QgYW5jaG9yWCA9IGFuY2hvclswXTtcbiAgY29uc3QgYW5jaG9yWSA9IGFuY2hvclsxXTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGxldCBqID0gb2Zmc2V0OyBqIDwgZW5kOyBqICs9IHN0cmlkZSkge1xuICAgIGNvbnN0IGRlbHRhWCA9IGZsYXRDb29yZGluYXRlc1tqXSAtIGFuY2hvclg7XG4gICAgY29uc3QgZGVsdGFZID0gZmxhdENvb3JkaW5hdGVzW2ogKyAxXSAtIGFuY2hvclk7XG4gICAgZGVzdFtpKytdID0gYW5jaG9yWCArIHN4ICogZGVsdGFYO1xuICAgIGRlc3RbaSsrXSA9IGFuY2hvclkgKyBzeSAqIGRlbHRhWTtcbiAgICBmb3IgKGxldCBrID0gaiArIDI7IGsgPCBqICsgc3RyaWRlOyArK2spIHtcbiAgICAgIGRlc3RbaSsrXSA9IGZsYXRDb29yZGluYXRlc1trXTtcbiAgICB9XG4gIH1cbiAgaWYgKGRlc3QgJiYgZGVzdC5sZW5ndGggIT0gaSkge1xuICAgIGRlc3QubGVuZ3RoID0gaTtcbiAgfVxuICByZXR1cm4gZGVzdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhWCBEZWx0YSBYLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhWSBEZWx0YSBZLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbZGVzdF0gRGVzdGluYXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBUcmFuc2Zvcm1lZCBjb29yZGluYXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBkZWx0YVgsXG4gIGRlbHRhWSxcbiAgZGVzdFxuKSB7XG4gIGRlc3QgPSBkZXN0ID8gZGVzdCA6IFtdO1xuICBsZXQgaSA9IDA7XG4gIGZvciAobGV0IGogPSBvZmZzZXQ7IGogPCBlbmQ7IGogKz0gc3RyaWRlKSB7XG4gICAgZGVzdFtpKytdID0gZmxhdENvb3JkaW5hdGVzW2pdICsgZGVsdGFYO1xuICAgIGRlc3RbaSsrXSA9IGZsYXRDb29yZGluYXRlc1tqICsgMV0gKyBkZWx0YVk7XG4gICAgZm9yIChsZXQgayA9IGogKyAyOyBrIDwgaiArIHN0cmlkZTsgKytrKSB7XG4gICAgICBkZXN0W2krK10gPSBmbGF0Q29vcmRpbmF0ZXNba107XG4gICAgfVxuICB9XG4gIGlmIChkZXN0ICYmIGRlc3QubGVuZ3RoICE9IGkpIHtcbiAgICBkZXN0Lmxlbmd0aCA9IGk7XG4gIH1cbiAgcmV0dXJuIGRlc3Q7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvaGFzXG4gKi9cblxuY29uc3QgdWEgPVxuICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbmF2aWdhdG9yLnVzZXJBZ2VudCAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKVxuICAgIDogJyc7XG5cbi8qKlxuICogVXNlciBhZ2VudCBzdHJpbmcgc2F5cyB3ZSBhcmUgZGVhbGluZyB3aXRoIEZpcmVmb3ggYXMgYnJvd3Nlci5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgY29uc3QgRklSRUZPWCA9IHVhLmluY2x1ZGVzKCdmaXJlZm94Jyk7XG5cbi8qKlxuICogVXNlciBhZ2VudCBzdHJpbmcgc2F5cyB3ZSBhcmUgZGVhbGluZyB3aXRoIFNhZmFyaSBhcyBicm93c2VyLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBTQUZBUkkgPSB1YS5pbmNsdWRlcygnc2FmYXJpJykgJiYgIXVhLmluY2x1ZGVzKCdjaHJvbScpO1xuXG4vKipcbiAqIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yMzc5MDZcbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgY29uc3QgU0FGQVJJX0JVR18yMzc5MDYgPVxuICBTQUZBUkkgJiZcbiAgKHVhLmluY2x1ZGVzKCd2ZXJzaW9uLzE1LjQnKSB8fFxuICAgIC9jcHUgKG9zfGlwaG9uZSBvcykgMTVfNCBsaWtlIG1hYyBvcyB4Ly50ZXN0KHVhKSk7XG5cbi8qKlxuICogVXNlciBhZ2VudCBzdHJpbmcgc2F5cyB3ZSBhcmUgZGVhbGluZyB3aXRoIGEgV2ViS2l0IGVuZ2luZS5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgY29uc3QgV0VCS0lUID0gdWEuaW5jbHVkZXMoJ3dlYmtpdCcpICYmICF1YS5pbmNsdWRlcygnZWRnZScpO1xuXG4vKipcbiAqIFVzZXIgYWdlbnQgc3RyaW5nIHNheXMgd2UgYXJlIGRlYWxpbmcgd2l0aCBhIE1hYyBhcyBwbGF0Zm9ybS5cbiAqIEB0eXBlIHtib29sZWFufVxuICovXG5leHBvcnQgY29uc3QgTUFDID0gdWEuaW5jbHVkZXMoJ21hY2ludG9zaCcpO1xuXG4vKipcbiAqIFRoZSByYXRpbyBiZXR3ZWVuIHBoeXNpY2FsIHBpeGVscyBhbmQgZGV2aWNlLWluZGVwZW5kZW50IHBpeGVsc1xuICogKGRpcHMpIG9uIHRoZSBkZXZpY2UgKGB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb2ApLlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgREVWSUNFX1BJWEVMX1JBVElPID1cbiAgdHlwZW9mIGRldmljZVBpeGVsUmF0aW8gIT09ICd1bmRlZmluZWQnID8gZGV2aWNlUGl4ZWxSYXRpbyA6IDE7XG5cbi8qKlxuICogVGhlIGV4ZWN1dGlvbiBjb250ZXh0IGlzIGEgd29ya2VyIHdpdGggT2Zmc2NyZWVuQ2FudmFzIGF2YWlsYWJsZS5cbiAqIEBjb25zdFxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBUyA9XG4gIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgdHlwZW9mIE9mZnNjcmVlbkNhbnZhcyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlOyAvL2VzbGludC1kaXNhYmxlLWxpbmVcblxuLyoqXG4gKiBJbWFnZS5wcm90b3R5cGUuZGVjb2RlKCkgaXMgc3VwcG9ydGVkLlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBJTUFHRV9ERUNPREUgPVxuICB0eXBlb2YgSW1hZ2UgIT09ICd1bmRlZmluZWQnICYmIEltYWdlLnByb3RvdHlwZS5kZWNvZGU7XG5cbi8qKlxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBQQVNTSVZFX0VWRU5UX0xJU1RFTkVSUyA9IChmdW5jdGlvbiAoKSB7XG4gIGxldCBwYXNzaXZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGFzc2l2ZSA9IHRydWU7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ18nLCBudWxsLCBvcHRpb25zKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignXycsIG51bGwsIG9wdGlvbnMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIHBhc3NpdmUgbm90IHN1cHBvcnRlZFxuICB9XG4gIHJldHVybiBwYXNzaXZlO1xufSkoKTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9CYXNlXG4gKi9cbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4uL09iamVjdC5qcyc7XG5pbXBvcnQgTGF5ZXJQcm9wZXJ0eSBmcm9tICcuL1Byb3BlcnR5LmpzJztcbmltcG9ydCB7YWJzdHJhY3R9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtjbGFtcH0gZnJvbSAnLi4vbWF0aC5qcyc7XG5cbi8qKlxuICogQSBjc3MgY29sb3IsIG9yIGEgZnVuY3Rpb24gY2FsbGVkIHdpdGggYSB2aWV3IHJlc29sdXRpb24gcmV0dXJuaW5nIGEgY3NzIGNvbG9yLlxuICpcbiAqIEB0eXBlZGVmIHtzdHJpbmd8ZnVuY3Rpb24obnVtYmVyKTpzdHJpbmd9IEJhY2tncm91bmRDb2xvclxuICogQGFwaVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09iamVjdEV2ZW50VHlwZVwiKS5UeXBlc3wnY2hhbmdlOmV4dGVudCd8J2NoYW5nZTptYXhSZXNvbHV0aW9uJ3wnY2hhbmdlOm1heFpvb20nfFxuICogICAgJ2NoYW5nZTptaW5SZXNvbHV0aW9uJ3wnY2hhbmdlOm1pblpvb20nfCdjaGFuZ2U6b3BhY2l0eSd8J2NoYW5nZTp2aXNpYmxlJ3wnY2hhbmdlOnpJbmRleCd9IEJhc2VMYXllck9iamVjdEV2ZW50VHlwZXNcbiAqL1xuXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxCYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9PYmplY3RcIikuT2JqZWN0RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfEJhc2VMYXllck9iamVjdEV2ZW50VHlwZXMsIFJldHVybj59IEJhc2VMYXllck9uU2lnbmF0dXJlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtbGF5ZXInXSBBIENTUyBjbGFzcyBuYW1lIHRvIHNldCB0byB0aGUgbGF5ZXIgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBUaGUgbWluaW11bSB2aWV3IHpvb20gbGV2ZWwgKGV4Y2x1c2l2ZSkgYWJvdmUgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBUaGUgbWF4aW11bSB2aWV3IHpvb20gbGV2ZWwgKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtCYWNrZ3JvdW5kQ29sb3J9IFtiYWNrZ3JvdW5kXSBCYWNrZ3JvdW5kIGNvbG9yIGZvciB0aGUgbGF5ZXIuIElmIG5vdCBzcGVjaWZpZWQsIG5vIGJhY2tncm91bmRcbiAqIHdpbGwgYmUgcmVuZGVyZWQuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsICo+fSBbcHJvcGVydGllc10gQXJiaXRyYXJ5IG9ic2VydmFibGUgcHJvcGVydGllcy4gQ2FuIGJlIGFjY2Vzc2VkIHdpdGggYCNnZXQoKWAgYW5kIGAjc2V0KClgLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogTm90ZSB0aGF0IHdpdGgge0BsaW5rIG1vZHVsZTpvbC9sYXllci9CYXNlfkJhc2VMYXllcn0gYW5kIGFsbCBpdHMgc3ViY2xhc3NlcywgYW55IHByb3BlcnR5IHNldCBpblxuICogdGhlIG9wdGlvbnMgaXMgc2V0IGFzIGEge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdH0gcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdCwgc29cbiAqIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBCYXNlTGF5ZXIgZXh0ZW5kcyBCYXNlT2JqZWN0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBMYXllciBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0Jhc2VMYXllck9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0Jhc2VMYXllck9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7QmFzZUxheWVyT25TaWduYXR1cmU8dm9pZD59XG4gICAgICovXG4gICAgdGhpcy51bjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtCYWNrZ3JvdW5kQ29sb3J8ZmFsc2V9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmJhY2tncm91bmRfID0gb3B0aW9ucy5iYWNrZ3JvdW5kO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsICo+fVxuICAgICAqL1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMucHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGRlbGV0ZSBwcm9wZXJ0aWVzLnByb3BlcnRpZXM7XG4gICAgICBPYmplY3QuYXNzaWduKHByb3BlcnRpZXMsIG9wdGlvbnMucHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgcHJvcGVydGllc1tMYXllclByb3BlcnR5Lk9QQUNJVFldID1cbiAgICAgIG9wdGlvbnMub3BhY2l0eSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vcGFjaXR5IDogMTtcbiAgICBhc3NlcnQodHlwZW9mIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZXSA9PT0gJ251bWJlcicsIDY0KTsgLy8gTGF5ZXIgb3BhY2l0eSBtdXN0IGJlIGEgbnVtYmVyXG5cbiAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuVklTSUJMRV0gPVxuICAgICAgb3B0aW9ucy52aXNpYmxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnZpc2libGUgOiB0cnVlO1xuICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5aX0lOREVYXSA9IG9wdGlvbnMuekluZGV4O1xuICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5NQVhfUkVTT0xVVElPTl0gPVxuICAgICAgb3B0aW9ucy5tYXhSZXNvbHV0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1heFJlc29sdXRpb24gOiBJbmZpbml0eTtcbiAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuTUlOX1JFU09MVVRJT05dID1cbiAgICAgIG9wdGlvbnMubWluUmVzb2x1dGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5SZXNvbHV0aW9uIDogMDtcbiAgICBwcm9wZXJ0aWVzW0xheWVyUHJvcGVydHkuTUlOX1pPT01dID1cbiAgICAgIG9wdGlvbnMubWluWm9vbSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5taW5ab29tIDogLUluZmluaXR5O1xuICAgIHByb3BlcnRpZXNbTGF5ZXJQcm9wZXJ0eS5NQVhfWk9PTV0gPVxuICAgICAgb3B0aW9ucy5tYXhab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1heFpvb20gOiBJbmZpbml0eTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmNsYXNzTmFtZV8gPVxuICAgICAgcHJvcGVydGllcy5jbGFzc05hbWUgIT09IHVuZGVmaW5lZCA/IHByb3BlcnRpZXMuY2xhc3NOYW1lIDogJ29sLWxheWVyJztcbiAgICBkZWxldGUgcHJvcGVydGllcy5jbGFzc05hbWU7XG5cbiAgICB0aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGVfID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGJhY2tncm91bmQgZm9yIHRoaXMgbGF5ZXIuXG4gICAqIEByZXR1cm4ge0JhY2tncm91bmRDb2xvcnxmYWxzZX0gTGF5ZXIgYmFja2dyb3VuZC5cbiAgICovXG4gIGdldEJhY2tncm91bmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFja2dyb3VuZF87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfSBDU1MgY2xhc3MgbmFtZS5cbiAgICovXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGFzc05hbWVfO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBtZWFudCB0byBiZSBjYWxsZWQgYnkgbGF5ZXJzIG9yIGxheWVyIHJlbmRlcmVycyBiZWNhdXNlIHRoZSBzdGF0ZVxuICAgKiBpcyBpbmNvcnJlY3QgaWYgdGhlIGxheWVyIGlzIGluY2x1ZGVkIGluIGEgbGF5ZXIgZ3JvdXAuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW21hbmFnZWRdIExheWVyIGlzIG1hbmFnZWQuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGV9IExheWVyIHN0YXRlLlxuICAgKi9cbiAgZ2V0TGF5ZXJTdGF0ZShtYW5hZ2VkKSB7XG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlfSAqL1xuICAgIGNvbnN0IHN0YXRlID1cbiAgICAgIHRoaXMuc3RhdGVfIHx8XG4gICAgICAvKiogQHR5cGUgez99ICovICh7XG4gICAgICAgIGxheWVyOiB0aGlzLFxuICAgICAgICBtYW5hZ2VkOiBtYW5hZ2VkID09PSB1bmRlZmluZWQgPyB0cnVlIDogbWFuYWdlZCxcbiAgICAgIH0pO1xuICAgIGNvbnN0IHpJbmRleCA9IHRoaXMuZ2V0WkluZGV4KCk7XG4gICAgc3RhdGUub3BhY2l0eSA9IGNsYW1wKE1hdGgucm91bmQodGhpcy5nZXRPcGFjaXR5KCkgKiAxMDApIC8gMTAwLCAwLCAxKTtcbiAgICBzdGF0ZS52aXNpYmxlID0gdGhpcy5nZXRWaXNpYmxlKCk7XG4gICAgc3RhdGUuZXh0ZW50ID0gdGhpcy5nZXRFeHRlbnQoKTtcbiAgICBzdGF0ZS56SW5kZXggPSB6SW5kZXggPT09IHVuZGVmaW5lZCAmJiAhc3RhdGUubWFuYWdlZCA/IEluZmluaXR5IDogekluZGV4O1xuICAgIHN0YXRlLm1heFJlc29sdXRpb24gPSB0aGlzLmdldE1heFJlc29sdXRpb24oKTtcbiAgICBzdGF0ZS5taW5SZXNvbHV0aW9uID0gTWF0aC5tYXgodGhpcy5nZXRNaW5SZXNvbHV0aW9uKCksIDApO1xuICAgIHN0YXRlLm1pblpvb20gPSB0aGlzLmdldE1pblpvb20oKTtcbiAgICBzdGF0ZS5tYXhab29tID0gdGhpcy5nZXRNYXhab29tKCk7XG4gICAgdGhpcy5zdGF0ZV8gPSBzdGF0ZTtcblxuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBbYXJyYXldIEFycmF5IG9mIGxheWVycyAodG8gYmVcbiAgICogICAgIG1vZGlmaWVkIGluIHBsYWNlKS5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0Pn0gQXJyYXkgb2YgbGF5ZXJzLlxuICAgKi9cbiAgZ2V0TGF5ZXJzQXJyYXkoYXJyYXkpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLlN0YXRlPn0gW3N0YXRlc10gT3B0aW9uYWwgbGlzdCBvZiBsYXllclxuICAgKiAgICAgc3RhdGVzICh0byBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+fSBMaXN0IG9mIGxheWVyIHN0YXRlcy5cbiAgICovXG4gIGdldExheWVyU3RhdGVzQXJyYXkoc3RhdGVzKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSB7QGxpbmsgbW9kdWxlOm9sL2V4dGVudH5FeHRlbnQgZXh0ZW50fSBvZiB0aGUgbGF5ZXIgb3IgYHVuZGVmaW5lZGAgaWYgaXRcbiAgICogd2lsbCBiZSB2aXNpYmxlIHJlZ2FyZGxlc3Mgb2YgZXh0ZW50LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fHVuZGVmaW5lZH0gVGhlIGxheWVyIGV4dGVudC5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RXh0ZW50KCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR8dW5kZWZpbmVkfSAqLyAoXG4gICAgICB0aGlzLmdldChMYXllclByb3BlcnR5LkVYVEVOVClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TWF4UmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5Lk1BWF9SRVNPTFVUSU9OKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBtaW5pbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtaW5pbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNaW5SZXNvbHV0aW9uKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuZ2V0KExheWVyUHJvcGVydHkuTUlOX1JFU09MVVRJT04pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG1pbmltdW0gem9vbSBsZXZlbCBvZiB0aGUgbGF5ZXIuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1pbmltdW0gem9vbSBsZXZlbCBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1pblpvb20oKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5NSU5fWk9PTSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbWF4aW11bSB6b29tIGxldmVsIG9mIHRoZSBsYXllci5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSB6b29tIGxldmVsIG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TWF4Wm9vbSgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5Lk1BWF9aT09NKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBvcGFjaXR5IG9mIHRoZSBsYXllciAoYmV0d2VlbiAwIGFuZCAxKS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgb3BhY2l0eSBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE9wYWNpdHkoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5PUEFDSVRZKSk7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NvdXJjZS9Tb3VyY2UuanNcIikuU3RhdGV9IFNvdXJjZSBzdGF0ZS5cbiAgICovXG4gIGdldFNvdXJjZVN0YXRlKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgbGF5ZXIgKGB0cnVlYCBvciBgZmFsc2VgKS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHZpc2liaWxpdHkgb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRWaXNpYmxlKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2Jvb2xlYW59ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LlZJU0lCTEUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIFotaW5kZXggb2YgdGhlIGxheWVyLCB3aGljaCBpcyB1c2VkIHRvIG9yZGVyIGxheWVycyBiZWZvcmVcbiAgICogcmVuZGVyaW5nLiBUaGUgZGVmYXVsdCBaLWluZGV4IGlzIDAuXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIFotaW5kZXggb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRaSW5kZXgoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoTGF5ZXJQcm9wZXJ0eS5aX0lOREVYKSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgYmFja2dyb3VuZCBjb2xvci5cbiAgICogQHBhcmFtIHtCYWNrZ3JvdW5kQ29sb3J9IFtiYWNrZ3JvdW5kXSBCYWNrZ3JvdW5kIGNvbG9yLlxuICAgKi9cbiAgc2V0QmFja2dyb3VuZChiYWNrZ3JvdW5kKSB7XG4gICAgdGhpcy5iYWNrZ3JvdW5kXyA9IGJhY2tncm91bmQ7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBleHRlbnQgYXQgd2hpY2ggdGhlIGxheWVyIGlzIHZpc2libGUuICBJZiBgdW5kZWZpbmVkYCwgdGhlIGxheWVyXG4gICAqIHdpbGwgYmUgdmlzaWJsZSBhdCBhbGwgZXh0ZW50cy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fHVuZGVmaW5lZH0gZXh0ZW50IFRoZSBleHRlbnQgb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRFeHRlbnQoZXh0ZW50KSB7XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5FWFRFTlQsIGV4dGVudCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBtYXhpbXVtIHJlc29sdXRpb24gYXQgd2hpY2ggdGhlIGxheWVyIGlzIHZpc2libGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXNvbHV0aW9uIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRNYXhSZXNvbHV0aW9uKG1heFJlc29sdXRpb24pIHtcbiAgICB0aGlzLnNldChMYXllclByb3BlcnR5Lk1BWF9SRVNPTFVUSU9OLCBtYXhSZXNvbHV0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG1pbmltdW0gcmVzb2x1dGlvbiBhdCB3aGljaCB0aGUgbGF5ZXIgaXMgdmlzaWJsZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblJlc29sdXRpb24gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiBvZiB0aGUgbGF5ZXIuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE1pblJlc29sdXRpb24obWluUmVzb2x1dGlvbikge1xuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuTUlOX1JFU09MVVRJT04sIG1pblJlc29sdXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbWF4aW11bSB6b29tIChleGNsdXNpdmUpIGF0IHdoaWNoIHRoZSBsYXllciBpcyB2aXNpYmxlLlxuICAgKiBOb3RlIHRoYXQgdGhlIHpvb20gbGV2ZWxzIGZvciBsYXllciB2aXNpYmlsaXR5IGFyZSBiYXNlZCBvbiB0aGVcbiAgICogdmlldyB6b29tIGxldmVsLCB3aGljaCBtYXkgYmUgZGlmZmVyZW50IGZyb20gYSB0aWxlIHNvdXJjZSB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4Wm9vbSBUaGUgbWF4aW11bSB6b29tIG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TWF4Wm9vbShtYXhab29tKSB7XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5NQVhfWk9PTSwgbWF4Wm9vbSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBtaW5pbXVtIHpvb20gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhlIGxheWVyIGlzIHZpc2libGUuXG4gICAqIE5vdGUgdGhhdCB0aGUgem9vbSBsZXZlbHMgZm9yIGxheWVyIHZpc2liaWxpdHkgYXJlIGJhc2VkIG9uIHRoZVxuICAgKiB2aWV3IHpvb20gbGV2ZWwsIHdoaWNoIG1heSBiZSBkaWZmZXJlbnQgZnJvbSBhIHRpbGUgc291cmNlIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ab29tIFRoZSBtaW5pbXVtIHpvb20gb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRNaW5ab29tKG1pblpvb20pIHtcbiAgICB0aGlzLnNldChMYXllclByb3BlcnR5Lk1JTl9aT09NLCBtaW5ab29tKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyLCBhbGxvd2VkIHZhbHVlcyByYW5nZSBmcm9tIDAgdG8gMS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgVGhlIG9wYWNpdHkgb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRPcGFjaXR5KG9wYWNpdHkpIHtcbiAgICBhc3NlcnQodHlwZW9mIG9wYWNpdHkgPT09ICdudW1iZXInLCA2NCk7IC8vIExheWVyIG9wYWNpdHkgbXVzdCBiZSBhIG51bWJlclxuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuT1BBQ0lUWSwgb3BhY2l0eSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsYXllciAoYHRydWVgIG9yIGBmYWxzZWApLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZpc2libGUgVGhlIHZpc2liaWxpdHkgb2YgdGhlIGxheWVyLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRWaXNpYmxlKHZpc2libGUpIHtcbiAgICB0aGlzLnNldChMYXllclByb3BlcnR5LlZJU0lCTEUsIHZpc2libGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBaLWluZGV4IG9mIHRoZSBsYXllciwgd2hpY2ggaXMgdXNlZCB0byBvcmRlciBsYXllcnMgYmVmb3JlIHJlbmRlcmluZy5cbiAgICogVGhlIGRlZmF1bHQgWi1pbmRleCBpcyAwLlxuICAgKiBAcGFyYW0ge251bWJlcn0gemluZGV4IFRoZSB6LWluZGV4IG9mIHRoZSBsYXllci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0WkluZGV4KHppbmRleCkge1xuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuWl9JTkRFWCwgemluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbiB1cC5cbiAgICovXG4gIGRpc3Bvc2VJbnRlcm5hbCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZV8pIHtcbiAgICAgIHRoaXMuc3RhdGVfLmxheWVyID0gbnVsbDtcbiAgICAgIHRoaXMuc3RhdGVfID0gbnVsbDtcbiAgICB9XG4gICAgc3VwZXIuZGlzcG9zZUludGVybmFsKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFzZUxheWVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL0xheWVyXG4gKi9cbmltcG9ydCBCYXNlTGF5ZXIgZnJvbSAnLi9CYXNlLmpzJztcbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgTGF5ZXJQcm9wZXJ0eSBmcm9tICcuL1Byb3BlcnR5LmpzJztcbmltcG9ydCBSZW5kZXJFdmVudFR5cGUgZnJvbSAnLi4vcmVuZGVyL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5pbXBvcnQge2xpc3RlbiwgdW5saXN0ZW5CeUtleX0gZnJvbSAnLi4vZXZlbnRzLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGUpOkhUTUxFbGVtZW50fSBSZW5kZXJGdW5jdGlvblxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeydzb3VyY2VyZWFkeSd8J2NoYW5nZTpzb3VyY2UnfSBMYXllckV2ZW50VHlwZVxuICovXG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vQmFzZVwiKS5CYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzfFxuICogICAgIExheWVyRXZlbnRUeXBlLCBpbXBvcnQoXCIuLi9PYmplY3RcIikuT2JqZWN0RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL3JlbmRlci9FdmVudFR5cGVcIikuTGF5ZXJSZW5kZXJFdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi9CYXNlXCIpLkJhc2VMYXllck9iamVjdEV2ZW50VHlwZXN8TGF5ZXJFdmVudFR5cGV8XG4gKiAgICAgaW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5MYXllclJlbmRlckV2ZW50VHlwZXMsIFJldHVybj59IExheWVyT25TaWduYXR1cmVcbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5kZWZhdWx0fSBbU291cmNlVHlwZT1pbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlLmpzXCIpLmRlZmF1bHRdXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtbGF5ZXInXSBBIENTUyBjbGFzcyBuYW1lIHRvIHNldCB0byB0aGUgbGF5ZXIgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBUaGUgbWluaW11bSB2aWV3IHpvb20gbGV2ZWwgKGV4Y2x1c2l2ZSkgYWJvdmUgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBUaGUgbWF4aW11bSB2aWV3IHpvb20gbGV2ZWwgKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtTb3VyY2VUeXBlfSBbc291cmNlXSBTb3VyY2UgZm9yIHRoaXMgbGF5ZXIuICBJZiBub3QgcHJvdmlkZWQgdG8gdGhlIGNvbnN0cnVjdG9yLFxuICogdGhlIHNvdXJjZSBjYW4gYmUgc2V0IGJ5IGNhbGxpbmcge0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllcn5MYXllciNzZXRTb3VyY2UgbGF5ZXIuc2V0U291cmNlKHNvdXJjZSl9IGFmdGVyXG4gKiBjb25zdHJ1Y3Rpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fG51bGx9IFttYXBdIE1hcC5cbiAqIEBwcm9wZXJ0eSB7UmVuZGVyRnVuY3Rpb259IFtyZW5kZXJdIFJlbmRlciBmdW5jdGlvbi4gVGFrZXMgdGhlIGZyYW1lIHN0YXRlIGFzIGlucHV0IGFuZCBpcyBleHBlY3RlZCB0byByZXR1cm4gYW5cbiAqIEhUTUwgZWxlbWVudC4gV2lsbCBvdmVyd3JpdGUgdGhlIGRlZmF1bHQgcmVuZGVyaW5nIGZvciB0aGUgbGF5ZXIuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsICo+fSBbcHJvcGVydGllc10gQXJiaXRyYXJ5IG9ic2VydmFibGUgcHJvcGVydGllcy4gQ2FuIGJlIGFjY2Vzc2VkIHdpdGggYCNnZXQoKWAgYW5kIGAjc2V0KClgLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3RhdGVcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHksIHRoZSB2YWx1ZSBpcyByb3VuZGVkIHRvIHR3byBkaWdpdHMgdG8gYXBwZWFyIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LlxuICogQHByb3BlcnR5IHtib29sZWFufSB2aXNpYmxlIFZpc2libGUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IG1hbmFnZWQgTWFuYWdlZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gRXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHpJbmRleCBaSW5kZXguXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4UmVzb2x1dGlvbiBNYXhpbXVtIHJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluUmVzb2x1dGlvbiBNaW5pbXVtIHJlc29sdXRpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluWm9vbSBNaW5pbXVtIHpvb20uXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4Wm9vbSBNYXhpbXVtIHpvb20uXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZyb20gd2hpY2ggYWxsIGxheWVyIHR5cGVzIGFyZSBkZXJpdmVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGluc3RhbnRpYXRlZFxuICogaW4gdGhlIGNhc2Ugd2hlcmUgYSBjdXN0b20gbGF5ZXIgaXMgYWRkZWQgdG8gdGhlIG1hcCB3aXRoIGEgY3VzdG9tIGByZW5kZXJgIGZ1bmN0aW9uLlxuICogU3VjaCBhIGZ1bmN0aW9uIGNhbiBiZSBzcGVjaWZpZWQgaW4gdGhlIGBvcHRpb25zYCBvYmplY3QsIGFuZCBpcyBleHBlY3RlZCB0byByZXR1cm4gYW4gSFRNTCBlbGVtZW50LlxuICpcbiAqIEEgdmlzdWFsIHJlcHJlc2VudGF0aW9uIG9mIHJhc3RlciBvciB2ZWN0b3IgbWFwIGRhdGEuXG4gKiBMYXllcnMgZ3JvdXAgdG9nZXRoZXIgdGhvc2UgcHJvcGVydGllcyB0aGF0IHBlcnRhaW4gdG8gaG93IHRoZSBkYXRhIGlzIHRvIGJlXG4gKiBkaXNwbGF5ZWQsIGlycmVzcGVjdGl2ZSBvZiB0aGUgc291cmNlIG9mIHRoYXQgZGF0YS5cbiAqXG4gKiBMYXllcnMgYXJlIHVzdWFsbHkgYWRkZWQgdG8gYSBtYXAgd2l0aCBbbWFwLmFkZExheWVyKClde0BsaW5rIGltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0I2FkZExheWVyfS5cbiAqIENvbXBvbmVudHMgbGlrZSB7QGxpbmsgbW9kdWxlOm9sL2ludGVyYWN0aW9uL0RyYXd+RHJhd30gdXNlIHVubWFuYWdlZCBsYXllcnNcbiAqIGludGVybmFsbHkuIFRoZXNlIHVubWFuYWdlZCBsYXllcnMgYXJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWFwIHVzaW5nXG4gKiBbbGF5ZXIuc2V0TWFwKClde0BsaW5rIG1vZHVsZTpvbC9sYXllci9MYXllcn5MYXllciNzZXRNYXB9IGluc3RlYWQuXG4gKlxuICogQSBnZW5lcmljIGBjaGFuZ2VgIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIHN0YXRlIG9mIHRoZSBzb3VyY2UgY2hhbmdlcy5cbiAqIEEgYHNvdXJjZXJlYWR5YCBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSBsYXllcidzIHNvdXJjZSBpcyByZWFkeS5cbiAqXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50LmpzXCIpLlJlbmRlckV2ZW50I3ByZXJlbmRlclxuICogQGZpcmVzIGltcG9ydChcIi4uL3JlbmRlci9FdmVudC5qc1wiKS5SZW5kZXJFdmVudCNwb3N0cmVuZGVyXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLkJhc2VFdmVudCNzb3VyY2VyZWFkeVxuICpcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZS5qc1wiKS5kZWZhdWx0fSBbU291cmNlVHlwZT1pbXBvcnQoXCIuLi9zb3VyY2UvU291cmNlLmpzXCIpLmRlZmF1bHRdXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3JlbmRlcmVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IFtSZW5kZXJlclR5cGU9aW1wb3J0KFwiLi4vcmVuZGVyZXIvTGF5ZXIuanNcIikuZGVmYXVsdF1cbiAqIEBhcGlcbiAqL1xuY2xhc3MgTGF5ZXIgZXh0ZW5kcyBCYXNlTGF5ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zPFNvdXJjZVR5cGU+fSBvcHRpb25zIExheWVyIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgY29uc3QgYmFzZU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICBkZWxldGUgYmFzZU9wdGlvbnMuc291cmNlO1xuXG4gICAgc3VwZXIoYmFzZU9wdGlvbnMpO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtMYXllck9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0xheWVyT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vZXZlbnRzXCIpLkV2ZW50c0tleT59XG4gICAgICovXG4gICAgdGhpcy5vbmNlO1xuXG4gICAgLyoqKlxuICAgICAqIEB0eXBlIHtMYXllck9uU2lnbmF0dXJlPHZvaWQ+fVxuICAgICAqL1xuICAgIHRoaXMudW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgKi9cbiAgICB0aGlzLm1hcFByZWNvbXBvc2VLZXlfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5fVxuICAgICAqL1xuICAgIHRoaXMubWFwUmVuZGVyS2V5XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vZXZlbnRzLmpzXCIpLkV2ZW50c0tleX1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZUNoYW5nZUtleV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7UmVuZGVyZXJUeXBlfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXJfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5zb3VyY2VSZWFkeV8gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkID0gZmFsc2U7XG5cbiAgICAvLyBPdmVyd3JpdGUgZGVmYXVsdCByZW5kZXIgbWV0aG9kIHdpdGggYSBjdXN0b20gb25lXG4gICAgaWYgKG9wdGlvbnMucmVuZGVyKSB7XG4gICAgICB0aGlzLnJlbmRlciA9IG9wdGlvbnMucmVuZGVyO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLm1hcCkge1xuICAgICAgdGhpcy5zZXRNYXAob3B0aW9ucy5tYXApO1xuICAgIH1cblxuICAgIHRoaXMuYWRkQ2hhbmdlTGlzdGVuZXIoXG4gICAgICBMYXllclByb3BlcnR5LlNPVVJDRSxcbiAgICAgIHRoaXMuaGFuZGxlU291cmNlUHJvcGVydHlDaGFuZ2VfXG4gICAgKTtcblxuICAgIGNvbnN0IHNvdXJjZSA9IG9wdGlvbnMuc291cmNlXG4gICAgICA/IC8qKiBAdHlwZSB7U291cmNlVHlwZX0gKi8gKG9wdGlvbnMuc291cmNlKVxuICAgICAgOiBudWxsO1xuICAgIHRoaXMuc2V0U291cmNlKHNvdXJjZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBbYXJyYXldIEFycmF5IG9mIGxheWVycyAodG8gYmUgbW9kaWZpZWQgaW4gcGxhY2UpLlxuICAgKiBAcmV0dXJuIHtBcnJheTxpbXBvcnQoXCIuL0xheWVyLmpzXCIpLmRlZmF1bHQ+fSBBcnJheSBvZiBsYXllcnMuXG4gICAqL1xuICBnZXRMYXllcnNBcnJheShhcnJheSkge1xuICAgIGFycmF5ID0gYXJyYXkgPyBhcnJheSA6IFtdO1xuICAgIGFycmF5LnB1c2godGhpcyk7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9MYXllci5qc1wiKS5TdGF0ZT59IFtzdGF0ZXNdIE9wdGlvbmFsIGxpc3Qgb2YgbGF5ZXIgc3RhdGVzICh0byBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vTGF5ZXIuanNcIikuU3RhdGU+fSBMaXN0IG9mIGxheWVyIHN0YXRlcy5cbiAgICovXG4gIGdldExheWVyU3RhdGVzQXJyYXkoc3RhdGVzKSB7XG4gICAgc3RhdGVzID0gc3RhdGVzID8gc3RhdGVzIDogW107XG4gICAgc3RhdGVzLnB1c2godGhpcy5nZXRMYXllclN0YXRlKCkpO1xuICAgIHJldHVybiBzdGF0ZXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsYXllciBzb3VyY2UuXG4gICAqIEByZXR1cm4ge1NvdXJjZVR5cGV8bnVsbH0gVGhlIGxheWVyIHNvdXJjZSAob3IgYG51bGxgIGlmIG5vdCB5ZXQgc2V0KS5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0U291cmNlKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge1NvdXJjZVR5cGV9ICovICh0aGlzLmdldChMYXllclByb3BlcnR5LlNPVVJDRSkpIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7U291cmNlVHlwZXxudWxsfSBUaGUgc291cmNlIGJlaW5nIHJlbmRlcmVkLlxuICAgKi9cbiAgZ2V0UmVuZGVyU291cmNlKCkge1xuICAgIHJldHVybiB0aGlzLmdldFNvdXJjZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NvdXJjZS9Tb3VyY2UuanNcIikuU3RhdGV9IFNvdXJjZSBzdGF0ZS5cbiAgICovXG4gIGdldFNvdXJjZVN0YXRlKCkge1xuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCk7XG4gICAgcmV0dXJuICFzb3VyY2UgPyAndW5kZWZpbmVkJyA6IHNvdXJjZS5nZXRTdGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVTb3VyY2VDaGFuZ2VfKCkge1xuICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIGlmICh0aGlzLnNvdXJjZVJlYWR5XyB8fCB0aGlzLmdldFNvdXJjZSgpLmdldFN0YXRlKCkgIT09ICdyZWFkeScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zb3VyY2VSZWFkeV8gPSB0cnVlO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnc291cmNlcmVhZHknKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlU291cmNlUHJvcGVydHlDaGFuZ2VfKCkge1xuICAgIGlmICh0aGlzLnNvdXJjZUNoYW5nZUtleV8pIHtcbiAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5zb3VyY2VDaGFuZ2VLZXlfKTtcbiAgICAgIHRoaXMuc291cmNlQ2hhbmdlS2V5XyA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuc291cmNlUmVhZHlfID0gZmFsc2U7XG4gICAgY29uc3Qgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKTtcbiAgICBpZiAoc291cmNlKSB7XG4gICAgICB0aGlzLnNvdXJjZUNoYW5nZUtleV8gPSBsaXN0ZW4oXG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgRXZlbnRUeXBlLkNIQU5HRSxcbiAgICAgICAgdGhpcy5oYW5kbGVTb3VyY2VDaGFuZ2VfLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgICAgaWYgKHNvdXJjZS5nZXRTdGF0ZSgpID09PSAncmVhZHknKSB7XG4gICAgICAgIHRoaXMuc291cmNlUmVhZHlfID0gdHJ1ZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdzb3VyY2VyZWFkeScpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbFwiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZVwiKS5GZWF0dXJlTGlrZT4+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aFxuICAgKiBhbiBhcnJheSBvZiBmZWF0dXJlcy5cbiAgICovXG4gIGdldEZlYXR1cmVzKHBpeGVsKSB7XG4gICAgaWYgKCF0aGlzLnJlbmRlcmVyXykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXy5nZXRGZWF0dXJlcyhwaXhlbCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbFwiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fFVpbnQ4QXJyYXl8RmxvYXQzMkFycmF5fERhdGFWaWV3fG51bGx9IFBpeGVsIGRhdGEuXG4gICAqL1xuICBnZXREYXRhKHBpeGVsKSB7XG4gICAgaWYgKCF0aGlzLnJlbmRlcmVyXyB8fCAhdGhpcy5yZW5kZXJlZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyXy5nZXREYXRhKHBpeGVsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbiBjaGFyZ2UgdG8gbWFuYWdlIHRoZSByZW5kZXJpbmcgb2YgdGhlIGxheWVyLiBPbmUgbGF5ZXIgdHlwZSBpc1xuICAgKiBib3VuZGVkIHdpdGggb25lIGxheWVyIHJlbmRlcmVyLlxuICAgKiBAcGFyYW0gez9pbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCB3aGljaCB0aGUgcmVuZGVyZXIgbWF5IChidXQgbmVlZCBub3QpIHVzZVxuICAgKiBmb3IgcmVuZGVyaW5nIGl0cyBjb250ZW50LlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIHJlbmRlcmVkIGVsZW1lbnQuXG4gICAqL1xuICByZW5kZXIoZnJhbWVTdGF0ZSwgdGFyZ2V0KSB7XG4gICAgY29uc3QgbGF5ZXJSZW5kZXJlciA9IHRoaXMuZ2V0UmVuZGVyZXIoKTtcblxuICAgIGlmIChsYXllclJlbmRlcmVyLnByZXBhcmVGcmFtZShmcmFtZVN0YXRlKSkge1xuICAgICAgdGhpcy5yZW5kZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gbGF5ZXJSZW5kZXJlci5yZW5kZXJGcmFtZShmcmFtZVN0YXRlLCB0YXJnZXQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIGxheWVyIGlzIG5vdCB2aXNpYmxlIGR1cmluZyBhIG1hcCByZW5kZXIuXG4gICAqL1xuICB1bnJlbmRlcigpIHtcbiAgICB0aGlzLnJlbmRlcmVkID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogRm9yIHVzZSBpbnNpZGUgdGhlIGxpYnJhcnkgb25seS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdHxudWxsfSBtYXAgTWFwLlxuICAgKi9cbiAgc2V0TWFwSW50ZXJuYWwobWFwKSB7XG4gICAgaWYgKCFtYXApIHtcbiAgICAgIHRoaXMudW5yZW5kZXIoKTtcbiAgICB9XG4gICAgdGhpcy5zZXQoTGF5ZXJQcm9wZXJ0eS5NQVAsIG1hcCk7XG4gIH1cblxuICAvKipcbiAgICogRm9yIHVzZSBpbnNpZGUgdGhlIGxpYnJhcnkgb25seS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHR8bnVsbH0gTWFwLlxuICAgKi9cbiAgZ2V0TWFwSW50ZXJuYWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KExheWVyUHJvcGVydHkuTUFQKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsYXllciB0byBiZSByZW5kZXJlZCBvbiB0b3Agb2Ygb3RoZXIgbGF5ZXJzIG9uIGEgbWFwLiBUaGUgbWFwIHdpbGxcbiAgICogbm90IG1hbmFnZSB0aGlzIGxheWVyIGluIGl0cyBsYXllcnMgY29sbGVjdGlvbi4gVGhpc1xuICAgKiBpcyB1c2VmdWwgZm9yIHRlbXBvcmFyeSBsYXllcnMuIFRvIHJlbW92ZSBhbiB1bm1hbmFnZWQgbGF5ZXIgZnJvbSB0aGUgbWFwLFxuICAgKiB1c2UgYCNzZXRNYXAobnVsbClgLlxuICAgKlxuICAgKiBUbyBhZGQgdGhlIGxheWVyIHRvIGEgbWFwIGFuZCBoYXZlIGl0IG1hbmFnZWQgYnkgdGhlIG1hcCwgdXNlXG4gICAqIHtAbGluayBtb2R1bGU6b2wvTWFwfk1hcCNhZGRMYXllcn0gaW5zdGVhZC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdHxudWxsfSBtYXAgTWFwLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRNYXAobWFwKSB7XG4gICAgaWYgKHRoaXMubWFwUHJlY29tcG9zZUtleV8pIHtcbiAgICAgIHVubGlzdGVuQnlLZXkodGhpcy5tYXBQcmVjb21wb3NlS2V5Xyk7XG4gICAgICB0aGlzLm1hcFByZWNvbXBvc2VLZXlfID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFtYXApIHtcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5tYXBSZW5kZXJLZXlfKSB7XG4gICAgICB1bmxpc3RlbkJ5S2V5KHRoaXMubWFwUmVuZGVyS2V5Xyk7XG4gICAgICB0aGlzLm1hcFJlbmRlcktleV8gPSBudWxsO1xuICAgIH1cbiAgICBpZiAobWFwKSB7XG4gICAgICB0aGlzLm1hcFByZWNvbXBvc2VLZXlfID0gbGlzdGVuKFxuICAgICAgICBtYXAsXG4gICAgICAgIFJlbmRlckV2ZW50VHlwZS5QUkVDT01QT1NFLFxuICAgICAgICBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgY29uc3QgcmVuZGVyRXZlbnQgPVxuICAgICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnQuanNcIikuZGVmYXVsdH0gKi8gKGV2dCk7XG4gICAgICAgICAgY29uc3QgbGF5ZXJTdGF0ZXNBcnJheSA9IHJlbmRlckV2ZW50LmZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheTtcbiAgICAgICAgICBjb25zdCBsYXllclN0YXRlID0gdGhpcy5nZXRMYXllclN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAvLyBBIGxheWVyIGNhbiBvbmx5IGJlIGFkZGVkIHRvIHRoZSBtYXAgb25jZS4gVXNlIGVpdGhlciBgbGF5ZXIuc2V0TWFwKClgIG9yIGBtYXAuYWRkTGF5ZXIoKWAsIG5vdCBib3RoLlxuICAgICAgICAgIGFzc2VydChcbiAgICAgICAgICAgICFsYXllclN0YXRlc0FycmF5LnNvbWUoZnVuY3Rpb24gKGFycmF5TGF5ZXJTdGF0ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gYXJyYXlMYXllclN0YXRlLmxheWVyID09PSBsYXllclN0YXRlLmxheWVyO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICA2N1xuICAgICAgICAgICk7XG4gICAgICAgICAgbGF5ZXJTdGF0ZXNBcnJheS5wdXNoKGxheWVyU3RhdGUpO1xuICAgICAgICB9LFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgICAgdGhpcy5tYXBSZW5kZXJLZXlfID0gbGlzdGVuKHRoaXMsIEV2ZW50VHlwZS5DSEFOR0UsIG1hcC5yZW5kZXIsIG1hcCk7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBsYXllciBzb3VyY2UuXG4gICAqIEBwYXJhbSB7U291cmNlVHlwZXxudWxsfSBzb3VyY2UgVGhlIGxheWVyIHNvdXJjZS5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U291cmNlKHNvdXJjZSkge1xuICAgIHRoaXMuc2V0KExheWVyUHJvcGVydHkuU09VUkNFLCBzb3VyY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcmVuZGVyZXIgZm9yIHRoaXMgbGF5ZXIuXG4gICAqIEByZXR1cm4ge1JlbmRlcmVyVHlwZXxudWxsfSBUaGUgbGF5ZXIgcmVuZGVyZXIuXG4gICAqL1xuICBnZXRSZW5kZXJlcigpIHtcbiAgICBpZiAoIXRoaXMucmVuZGVyZXJfKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyXyA9IHRoaXMuY3JlYXRlUmVuZGVyZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBsYXllciBoYXMgYSByZW5kZXJlci5cbiAgICovXG4gIGhhc1JlbmRlcmVyKCkge1xuICAgIHJldHVybiAhIXRoaXMucmVuZGVyZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHJlbmRlcmVyIGZvciB0aGlzIGxheWVyLlxuICAgKiBAcmV0dXJuIHtSZW5kZXJlclR5cGV9IEEgbGF5ZXIgcmVuZGVyZXIuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGNyZWF0ZVJlbmRlcmVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwLlxuICAgKi9cbiAgZGlzcG9zZUludGVybmFsKCkge1xuICAgIGlmICh0aGlzLnJlbmRlcmVyXykge1xuICAgICAgdGhpcy5yZW5kZXJlcl8uZGlzcG9zZSgpO1xuICAgICAgZGVsZXRlIHRoaXMucmVuZGVyZXJfO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U291cmNlKG51bGwpO1xuICAgIHN1cGVyLmRpc3Bvc2VJbnRlcm5hbCgpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJuIGB0cnVlYCBpZiB0aGUgbGF5ZXIgaXMgdmlzaWJsZSBhbmQgaWYgdGhlIHByb3ZpZGVkIHZpZXcgc3RhdGVcbiAqIGhhcyByZXNvbHV0aW9uIGFuZCB6b29tIGxldmVscyB0aGF0IGFyZSBpbiByYW5nZSBvZiB0aGUgbGF5ZXIncyBtaW4vbWF4LlxuICogQHBhcmFtIHtTdGF0ZX0gbGF5ZXJTdGF0ZSBMYXllciBzdGF0ZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5TdGF0ZX0gdmlld1N0YXRlIFZpZXcgc3RhdGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUaGUgbGF5ZXIgaXMgdmlzaWJsZSBhdCB0aGUgZ2l2ZW4gdmlldyBzdGF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluVmlldyhsYXllclN0YXRlLCB2aWV3U3RhdGUpIHtcbiAgaWYgKCFsYXllclN0YXRlLnZpc2libGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgcmVzb2x1dGlvbiA9IHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICBpZiAoXG4gICAgcmVzb2x1dGlvbiA8IGxheWVyU3RhdGUubWluUmVzb2x1dGlvbiB8fFxuICAgIHJlc29sdXRpb24gPj0gbGF5ZXJTdGF0ZS5tYXhSZXNvbHV0aW9uXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB6b29tID0gdmlld1N0YXRlLnpvb207XG4gIHJldHVybiB6b29tID4gbGF5ZXJTdGF0ZS5taW5ab29tICYmIHpvb20gPD0gbGF5ZXJTdGF0ZS5tYXhab29tO1xufVxuXG5leHBvcnQgZGVmYXVsdCBMYXllcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9sYXllci9Qcm9wZXJ0eVxuICovXG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICBPUEFDSVRZOiAnb3BhY2l0eScsXG4gIFZJU0lCTEU6ICd2aXNpYmxlJyxcbiAgRVhURU5UOiAnZXh0ZW50JyxcbiAgWl9JTkRFWDogJ3pJbmRleCcsXG4gIE1BWF9SRVNPTFVUSU9OOiAnbWF4UmVzb2x1dGlvbicsXG4gIE1JTl9SRVNPTFVUSU9OOiAnbWluUmVzb2x1dGlvbicsXG4gIE1BWF9aT09NOiAnbWF4Wm9vbScsXG4gIE1JTl9aT09NOiAnbWluWm9vbScsXG4gIFNPVVJDRTogJ3NvdXJjZScsXG4gIE1BUDogJ21hcCcsXG59O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL0Jhc2VUaWxlXG4gKi9cbmltcG9ydCBMYXllciBmcm9tICcuL0xheWVyLmpzJztcbmltcG9ydCBUaWxlUHJvcGVydHkgZnJvbSAnLi9UaWxlUHJvcGVydHkuanMnO1xuXG4vKioqXG4gKiBAdGVtcGxhdGUgUmV0dXJuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXMsIGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuL0Jhc2VcIikuQmFzZUxheWVyT2JqZWN0RXZlbnRUeXBlc3xcbiAqICAgICBpbXBvcnQoXCIuL0xheWVyLmpzXCIpLkxheWVyRXZlbnRUeXBlfCdjaGFuZ2U6cHJlbG9hZCd8J2NoYW5nZTp1c2VJbnRlcmltVGlsZXNPbkVycm9yJywgaW1wb3J0KFwiLi4vT2JqZWN0XCIpLk9iamVjdEV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5PblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRUeXBlXCIpLkxheWVyUmVuZGVyRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50XCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkNvbWJpbmVkT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzfGltcG9ydChcIi4vQmFzZVwiKS5CYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzfFxuICogICBpbXBvcnQoXCIuL0xheWVyLmpzXCIpLkxheWVyRXZlbnRUeXBlfCdjaGFuZ2U6cHJlbG9hZCd8J2NoYW5nZTp1c2VJbnRlcmltVGlsZXNPbkVycm9yJ3xpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRUeXBlXCIpLkxheWVyUmVuZGVyRXZlbnRUeXBlcywgUmV0dXJuPn0gQmFzZVRpbGVMYXllck9uU2lnbmF0dXJlXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGVTb3VyY2VUeXBlXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NsYXNzTmFtZT0nb2wtbGF5ZXInXSBBIENTUyBjbGFzcyBuYW1lIHRvIHNldCB0byB0aGUgbGF5ZXIgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5ICgwLCAxKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJpbGl0eS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gVGhlIGJvdW5kaW5nIGV4dGVudCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgVGhlIGxheWVyIHdpbGwgbm90IGJlXG4gKiByZW5kZXJlZCBvdXRzaWRlIG9mIHRoaXMgZXh0ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt6SW5kZXhdIFRoZSB6LWluZGV4IGZvciBsYXllciByZW5kZXJpbmcuICBBdCByZW5kZXJpbmcgdGltZSwgdGhlIGxheWVyc1xuICogd2lsbCBiZSBvcmRlcmVkLCBmaXJzdCBieSBaLWluZGV4IGFuZCB0aGVuIGJ5IHBvc2l0aW9uLiBXaGVuIGB1bmRlZmluZWRgLCBhIGB6SW5kZXhgIG9mIDAgaXMgYXNzdW1lZFxuICogZm9yIGxheWVycyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgbWFwJ3MgYGxheWVyc2AgY29sbGVjdGlvbiwgb3IgYEluZmluaXR5YCB3aGVuIHRoZSBsYXllcidzIGBzZXRNYXAoKWBcbiAqIG1ldGhvZCB3YXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluUmVzb2x1dGlvbl0gVGhlIG1pbmltdW0gcmVzb2x1dGlvbiAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFRoZSBtYXhpbXVtIHJlc29sdXRpb24gKGV4Y2x1c2l2ZSkgYmVsb3cgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBUaGUgbWluaW11bSB2aWV3IHpvb20gbGV2ZWwgKGV4Y2x1c2l2ZSkgYWJvdmUgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhab29tXSBUaGUgbWF4aW11bSB2aWV3IHpvb20gbGV2ZWwgKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsXG4gKiBiZSB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtwcmVsb2FkPTBdIFByZWxvYWQuIExvYWQgbG93LXJlc29sdXRpb24gdGlsZXMgdXAgdG8gYHByZWxvYWRgIGxldmVscy4gYDBgXG4gKiBtZWFucyBubyBwcmVsb2FkaW5nLlxuICogQHByb3BlcnR5IHtUaWxlU291cmNlVHlwZX0gW3NvdXJjZV0gU291cmNlIGZvciB0aGlzIGxheWVyLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdH0gW21hcF0gU2V0cyB0aGUgbGF5ZXIgYXMgb3ZlcmxheSBvbiBhIG1hcC4gVGhlIG1hcCB3aWxsIG5vdCBtYW5hZ2VcbiAqIHRoaXMgbGF5ZXIgaW4gaXRzIGxheWVycyBjb2xsZWN0aW9uLCBhbmQgdGhlIGxheWVyIHdpbGwgYmUgcmVuZGVyZWQgb24gdG9wLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAqIHRlbXBvcmFyeSBsYXllcnMuIFRoZSBzdGFuZGFyZCB3YXkgdG8gYWRkIGEgbGF5ZXIgdG8gYSBtYXAgYW5kIGhhdmUgaXQgbWFuYWdlZCBieSB0aGUgbWFwIGlzIHRvXG4gKiB1c2Uge0BsaW5rIGltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0I2FkZExheWVyIG1hcC5hZGRMYXllcigpfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZUludGVyaW1UaWxlc09uRXJyb3I9dHJ1ZV0gVXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsICo+fSBbcHJvcGVydGllc10gQXJiaXRyYXJ5IG9ic2VydmFibGUgcHJvcGVydGllcy4gQ2FuIGJlIGFjY2Vzc2VkIHdpdGggYCNnZXQoKWAgYW5kIGAjc2V0KClgLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogRm9yIGxheWVyIHNvdXJjZXMgdGhhdCBwcm92aWRlIHByZS1yZW5kZXJlZCwgdGlsZWQgaW1hZ2VzIGluIGdyaWRzIHRoYXQgYXJlXG4gKiBvcmdhbml6ZWQgYnkgem9vbSBsZXZlbHMgZm9yIHNwZWNpZmljIHJlc29sdXRpb25zLlxuICogTm90ZSB0aGF0IGFueSBwcm9wZXJ0eSBzZXQgaW4gdGhlIG9wdGlvbnMgaXMgc2V0IGFzIGEge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdH1cbiAqIHByb3BlcnR5IG9uIHRoZSBsYXllciBvYmplY3Q7IGZvciBleGFtcGxlLCBzZXR0aW5nIGB0aXRsZTogJ015IFRpdGxlJ2AgaW4gdGhlXG4gKiBvcHRpb25zIG1lYW5zIHRoYXQgYHRpdGxlYCBpcyBvYnNlcnZhYmxlLCBhbmQgaGFzIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gVGlsZVNvdXJjZVR5cGVcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vcmVuZGVyZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gUmVuZGVyZXJUeXBlXG4gKiBAZXh0ZW5kcyB7TGF5ZXI8VGlsZVNvdXJjZVR5cGUsIFJlbmRlcmVyVHlwZT59XG4gKiBAYXBpXG4gKi9cbmNsYXNzIEJhc2VUaWxlTGF5ZXIgZXh0ZW5kcyBMYXllciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnM8VGlsZVNvdXJjZVR5cGU+fSBbb3B0aW9uc10gVGlsZSBsYXllciBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gICAgY29uc3QgYmFzZU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcblxuICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy5wcmVsb2FkO1xuICAgIGRlbGV0ZSBiYXNlT3B0aW9ucy51c2VJbnRlcmltVGlsZXNPbkVycm9yO1xuICAgIHN1cGVyKGJhc2VPcHRpb25zKTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7QmFzZVRpbGVMYXllck9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0Jhc2VUaWxlTGF5ZXJPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uY2U7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge0Jhc2VUaWxlTGF5ZXJPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgKi9cbiAgICB0aGlzLnVuO1xuXG4gICAgdGhpcy5zZXRQcmVsb2FkKG9wdGlvbnMucHJlbG9hZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wcmVsb2FkIDogMCk7XG4gICAgdGhpcy5zZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKFxuICAgICAgb3B0aW9ucy51c2VJbnRlcmltVGlsZXNPbkVycm9yICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLnVzZUludGVyaW1UaWxlc09uRXJyb3JcbiAgICAgICAgOiB0cnVlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGxldmVsIGFzIG51bWJlciB0byB3aGljaCB3ZSB3aWxsIHByZWxvYWQgdGlsZXMgdXAgdG8uXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGxldmVsIHRvIHByZWxvYWQgdGlsZXMgdXAgdG8uXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFByZWxvYWQoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodGhpcy5nZXQoVGlsZVByb3BlcnR5LlBSRUxPQUQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGxldmVsIGFzIG51bWJlciB0byB3aGljaCB3ZSB3aWxsIHByZWxvYWQgdGlsZXMgdXAgdG8uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwcmVsb2FkIFRoZSBsZXZlbCB0byBwcmVsb2FkIHRpbGVzIHVwIHRvLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRQcmVsb2FkKHByZWxvYWQpIHtcbiAgICB0aGlzLnNldChUaWxlUHJvcGVydHkuUFJFTE9BRCwgcHJlbG9hZCk7XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciB3ZSB1c2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFVzZUludGVyaW1UaWxlc09uRXJyb3IoKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKFxuICAgICAgdGhpcy5nZXQoVGlsZVByb3BlcnR5LlVTRV9JTlRFUklNX1RJTEVTX09OX0VSUk9SKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHdoZXRoZXIgd2UgdXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlSW50ZXJpbVRpbGVzT25FcnJvciBVc2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgc2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvcih1c2VJbnRlcmltVGlsZXNPbkVycm9yKSB7XG4gICAgdGhpcy5zZXQoVGlsZVByb3BlcnR5LlVTRV9JTlRFUklNX1RJTEVTX09OX0VSUk9SLCB1c2VJbnRlcmltVGlsZXNPbkVycm9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZGF0YSBmb3IgYSBwaXhlbCBsb2NhdGlvbi4gIFRoZSByZXR1cm4gdHlwZSBkZXBlbmRzIG9uIHRoZSBzb3VyY2UgZGF0YS4gIEZvciBpbWFnZSB0aWxlcyxcbiAgICogYSBmb3VyIGVsZW1lbnQgUkdCQSBhcnJheSB3aWxsIGJlIHJldHVybmVkLiAgRm9yIGRhdGEgdGlsZXMsIHRoZSBhcnJheSBsZW5ndGggd2lsbCBtYXRjaCB0aGVcbiAgICogbnVtYmVyIG9mIGJhbmRzIGluIHRoZSBkYXRhc2V0LiAgRm9yIHJlcXVlc3RzIG91dHNpZGUgdGhlIGxheWVyIGV4dGVudCwgYG51bGxgIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqIERhdGEgZm9yIGEgaW1hZ2UgdGlsZXMgY2FuIG9ubHkgYmUgcmV0cmlldmVkIGlmIHRoZSBzb3VyY2UncyBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGlzIHNldC5cbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZGlzcGxheSBsYXllciBkYXRhIG9uIGV2ZXJ5IHBvaW50ZXIgbW92ZVxuICAgKiBtYXAub24oJ3BvaW50ZXJtb3ZlJywgKGV2ZW50KSA9PiB7XG4gICAqICAgY29uc29sZS5sb2cobGF5ZXIuZ2V0RGF0YShldmVudC5waXhlbCkpO1xuICAgKiB9KTtcbiAgICogYGBgXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcGl4ZWxcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcmV0dXJuIHtVaW50OENsYW1wZWRBcnJheXxVaW50OEFycmF5fEZsb2F0MzJBcnJheXxEYXRhVmlld3xudWxsfSBQaXhlbCBkYXRhLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXREYXRhKHBpeGVsKSB7XG4gICAgcmV0dXJuIHN1cGVyLmdldERhdGEocGl4ZWwpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VUaWxlTGF5ZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvVGlsZVxuICovXG5pbXBvcnQgQmFzZVRpbGVMYXllciBmcm9tICcuL0Jhc2VUaWxlLmpzJztcbmltcG9ydCBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlciBmcm9tICcuLi9yZW5kZXJlci9jYW52YXMvVGlsZUxheWVyLmpzJztcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBGb3IgbGF5ZXIgc291cmNlcyB0aGF0IHByb3ZpZGUgcHJlLXJlbmRlcmVkLCB0aWxlZCBpbWFnZXMgaW4gZ3JpZHMgdGhhdCBhcmVcbiAqIG9yZ2FuaXplZCBieSB6b29tIGxldmVscyBmb3Igc3BlY2lmaWMgcmVzb2x1dGlvbnMuXG4gKiBOb3RlIHRoYXQgYW55IHByb3BlcnR5IHNldCBpbiB0aGUgb3B0aW9ucyBpcyBzZXQgYXMgYSB7QGxpbmsgbW9kdWxlOm9sL09iamVjdH5CYXNlT2JqZWN0fVxuICogcHJvcGVydHkgb24gdGhlIGxheWVyIG9iamVjdDsgZm9yIGV4YW1wbGUsIHNldHRpbmcgYHRpdGxlOiAnTXkgVGl0bGUnYCBpbiB0aGVcbiAqIG9wdGlvbnMgbWVhbnMgdGhhdCBgdGl0bGVgIGlzIG9ic2VydmFibGUsIGFuZCBoYXMgZ2V0L3NldCBhY2Nlc3NvcnMuXG4gKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9zb3VyY2UvVGlsZS5qc1wiKS5kZWZhdWx0fSBUaWxlU291cmNlVHlwZVxuICogQGV4dGVuZHMgQmFzZVRpbGVMYXllcjxUaWxlU291cmNlVHlwZSwgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXI+XG4gKiBAYXBpXG4gKi9cbmNsYXNzIFRpbGVMYXllciBleHRlbmRzIEJhc2VUaWxlTGF5ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0Jhc2VUaWxlLmpzXCIpLk9wdGlvbnM8VGlsZVNvdXJjZVR5cGU+fSBbb3B0aW9uc10gVGlsZSBsYXllciBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICB9XG5cbiAgY3JlYXRlUmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcih0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlTGF5ZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvVGlsZVByb3BlcnR5XG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIFBSRUxPQUQ6ICdwcmVsb2FkJyxcbiAgVVNFX0lOVEVSSU1fVElMRVNfT05fRVJST1I6ICd1c2VJbnRlcmltVGlsZXNPbkVycm9yJyxcbn07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvSWNvbkltYWdlXG4gKi9cblxuaW1wb3J0IEV2ZW50VGFyZ2V0IGZyb20gJy4uL2V2ZW50cy9UYXJnZXQuanMnO1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4uL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IHthc1N0cmluZ30gZnJvbSAnLi4vY29sb3IuanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkR9IGZyb20gJy4uL2RvbS5qcyc7XG5pbXBvcnQge3NoYXJlZCBhcyBpY29uSW1hZ2VDYWNoZX0gZnJvbSAnLi9JY29uSW1hZ2VDYWNoZS5qcyc7XG5pbXBvcnQge2xpc3RlbkltYWdlfSBmcm9tICcuLi9JbWFnZS5qcyc7XG5cbi8qKlxuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqL1xubGV0IHRhaW50ZWRUZXN0Q29udGV4dCA9IG51bGw7XG5cbmNsYXNzIEljb25JbWFnZSBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gaW1hZ2UgSW1hZ2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gc3JjIFNyYy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNpemUgU2l6ZS5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fSBpbWFnZVN0YXRlIEltYWdlIHN0YXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGltYWdlLCBzcmMsIHNpemUsIGNyb3NzT3JpZ2luLCBpbWFnZVN0YXRlLCBjb2xvcikge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZV8gPSBpbWFnZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIHRoaXMuY3Jvc3NPcmlnaW5fID0gY3Jvc3NPcmlnaW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBIVE1MQ2FudmFzRWxlbWVudD59XG4gICAgICovXG4gICAgdGhpcy5jYW52YXNfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbG9yXyA9IGNvbG9yO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2Z1bmN0aW9uKCk6dm9pZH1cbiAgICAgKi9cbiAgICB0aGlzLnVubGlzdGVuXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZVN0YXRlXyA9IGltYWdlU3RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9XG4gICAgICovXG4gICAgdGhpcy5zaXplXyA9IHNpemU7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuc3JjXyA9IHNyYztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy50YWludGVkXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaW5pdGlhbGl6ZUltYWdlXygpIHtcbiAgICB0aGlzLmltYWdlXyA9IG5ldyBJbWFnZSgpO1xuICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luXyAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5pbWFnZV8uY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luXztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIGltYWdlIGNhbnZhcyBpcyB0YWludGVkLlxuICAgKi9cbiAgaXNUYWludGVkXygpIHtcbiAgICBpZiAodGhpcy50YWludGVkXyA9PT0gdW5kZWZpbmVkICYmIHRoaXMuaW1hZ2VTdGF0ZV8gPT09IEltYWdlU3RhdGUuTE9BREVEKSB7XG4gICAgICBpZiAoIXRhaW50ZWRUZXN0Q29udGV4dCkge1xuICAgICAgICB0YWludGVkVGVzdENvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoMSwgMSwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRhaW50ZWRUZXN0Q29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWFnZV8sIDAsIDApO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGFpbnRlZFRlc3RDb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKTtcbiAgICAgICAgdGhpcy50YWludGVkXyA9IGZhbHNlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0YWludGVkVGVzdENvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLnRhaW50ZWRfID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudGFpbnRlZF8gPT09IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRpc3BhdGNoQ2hhbmdlRXZlbnRfKCkge1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuQ0hBTkdFKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlSW1hZ2VFcnJvcl8oKSB7XG4gICAgdGhpcy5pbWFnZVN0YXRlXyA9IEltYWdlU3RhdGUuRVJST1I7XG4gICAgdGhpcy51bmxpc3RlbkltYWdlXygpO1xuICAgIHRoaXMuZGlzcGF0Y2hDaGFuZ2VFdmVudF8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlSW1hZ2VMb2FkXygpIHtcbiAgICB0aGlzLmltYWdlU3RhdGVfID0gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gICAgaWYgKHRoaXMuc2l6ZV8pIHtcbiAgICAgIHRoaXMuaW1hZ2VfLndpZHRoID0gdGhpcy5zaXplX1swXTtcbiAgICAgIHRoaXMuaW1hZ2VfLmhlaWdodCA9IHRoaXMuc2l6ZV9bMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2l6ZV8gPSBbdGhpcy5pbWFnZV8ud2lkdGgsIHRoaXMuaW1hZ2VfLmhlaWdodF07XG4gICAgfVxuICAgIHRoaXMudW5saXN0ZW5JbWFnZV8oKTtcbiAgICB0aGlzLmRpc3BhdGNoQ2hhbmdlRXZlbnRfKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIG9yIENhbnZhcyBlbGVtZW50LlxuICAgKi9cbiAgZ2V0SW1hZ2UocGl4ZWxSYXRpbykge1xuICAgIGlmICghdGhpcy5pbWFnZV8pIHtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZUltYWdlXygpO1xuICAgIH1cbiAgICB0aGlzLnJlcGxhY2VDb2xvcl8ocGl4ZWxSYXRpbyk7XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzX1twaXhlbFJhdGlvXSA/IHRoaXMuY2FudmFzX1twaXhlbFJhdGlvXSA6IHRoaXMuaW1hZ2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEltYWdlIG9yIENhbnZhcyBlbGVtZW50LlxuICAgKi9cbiAgZ2V0UGl4ZWxSYXRpbyhwaXhlbFJhdGlvKSB7XG4gICAgdGhpcy5yZXBsYWNlQ29sb3JfKHBpeGVsUmF0aW8pO1xuICAgIHJldHVybiB0aGlzLmNhbnZhc19bcGl4ZWxSYXRpb10gPyBwaXhlbFJhdGlvIDogMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0YXRlLlxuICAgKi9cbiAgZ2V0SW1hZ2VTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZVN0YXRlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBJbWFnZSBlbGVtZW50LlxuICAgKi9cbiAgZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UoKSB7XG4gICAgaWYgKCF0aGlzLmltYWdlXykge1xuICAgICAgdGhpcy5pbml0aWFsaXplSW1hZ2VfKCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5oaXREZXRlY3Rpb25JbWFnZV8pIHtcbiAgICAgIGlmICh0aGlzLmlzVGFpbnRlZF8oKSkge1xuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuc2l6ZV9bMF07XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc2l6ZV9bMV07XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gY29udGV4dC5jYW52YXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlXyA9IHRoaXMuaW1hZ2VfO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oaXREZXRlY3Rpb25JbWFnZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzaXplIG9mIHRoZSBpY29uIChpbiBwaXhlbHMpLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IEltYWdlIHNpemUuXG4gICAqL1xuICBnZXRTaXplKCkge1xuICAgIHJldHVybiB0aGlzLnNpemVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IEltYWdlIHNyYy5cbiAgICovXG4gIGdldFNyYygpIHtcbiAgICByZXR1cm4gdGhpcy5zcmNfO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgbm90IHlldCBsb2FkZWQgVVJJLlxuICAgKi9cbiAgbG9hZCgpIHtcbiAgICBpZiAodGhpcy5pbWFnZVN0YXRlXyAhPT0gSW1hZ2VTdGF0ZS5JRExFKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGhpcy5pbWFnZV8pIHtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZUltYWdlXygpO1xuICAgIH1cblxuICAgIHRoaXMuaW1hZ2VTdGF0ZV8gPSBJbWFnZVN0YXRlLkxPQURJTkc7XG4gICAgdHJ5IHtcbiAgICAgIC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudH0gKi8gKHRoaXMuaW1hZ2VfKS5zcmMgPSB0aGlzLnNyY187XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5oYW5kbGVJbWFnZUVycm9yXygpO1xuICAgIH1cbiAgICB0aGlzLnVubGlzdGVuXyA9IGxpc3RlbkltYWdlKFxuICAgICAgdGhpcy5pbWFnZV8sXG4gICAgICB0aGlzLmhhbmRsZUltYWdlTG9hZF8uYmluZCh0aGlzKSxcbiAgICAgIHRoaXMuaGFuZGxlSW1hZ2VFcnJvcl8uYmluZCh0aGlzKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXBsYWNlQ29sb3JfKHBpeGVsUmF0aW8pIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5jb2xvcl8gfHxcbiAgICAgIHRoaXMuY2FudmFzX1twaXhlbFJhdGlvXSB8fFxuICAgICAgdGhpcy5pbWFnZVN0YXRlXyAhPT0gSW1hZ2VTdGF0ZS5MT0FERURcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuaW1hZ2VfO1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IE1hdGguY2VpbChpbWFnZS53aWR0aCAqIHBpeGVsUmF0aW8pO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoaW1hZ2UuaGVpZ2h0ICogcGl4ZWxSYXRpbyk7XG5cbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjdHguc2NhbGUocGl4ZWxSYXRpbywgcGl4ZWxSYXRpbyk7XG4gICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG5cbiAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ211bHRpcGx5JztcbiAgICBjdHguZmlsbFN0eWxlID0gYXNTdHJpbmcodGhpcy5jb2xvcl8pO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGggLyBwaXhlbFJhdGlvLCBjYW52YXMuaGVpZ2h0IC8gcGl4ZWxSYXRpbyk7XG5cbiAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLWluJztcbiAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcblxuICAgIHRoaXMuY2FudmFzX1twaXhlbFJhdGlvXSA9IGNhbnZhcztcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjYXJkcyBldmVudCBoYW5kbGVycyB3aGljaCBsaXN0ZW4gZm9yIGxvYWQgY29tcGxldGlvbiBvciBlcnJvcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB1bmxpc3RlbkltYWdlXygpIHtcbiAgICBpZiAodGhpcy51bmxpc3Rlbl8pIHtcbiAgICAgIHRoaXMudW5saXN0ZW5fKCk7XG4gICAgICB0aGlzLnVubGlzdGVuXyA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBpbWFnZSBJbWFnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgU3JjLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNpemUgU2l6ZS5cbiAqIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IGltYWdlU3RhdGUgSW1hZ2Ugc3RhdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiAqIEByZXR1cm4ge0ljb25JbWFnZX0gSWNvbiBpbWFnZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChpbWFnZSwgc3JjLCBzaXplLCBjcm9zc09yaWdpbiwgaW1hZ2VTdGF0ZSwgY29sb3IpIHtcbiAgbGV0IGljb25JbWFnZSA9IGljb25JbWFnZUNhY2hlLmdldChzcmMsIGNyb3NzT3JpZ2luLCBjb2xvcik7XG4gIGlmICghaWNvbkltYWdlKSB7XG4gICAgaWNvbkltYWdlID0gbmV3IEljb25JbWFnZShpbWFnZSwgc3JjLCBzaXplLCBjcm9zc09yaWdpbiwgaW1hZ2VTdGF0ZSwgY29sb3IpO1xuICAgIGljb25JbWFnZUNhY2hlLnNldChzcmMsIGNyb3NzT3JpZ2luLCBjb2xvciwgaWNvbkltYWdlKTtcbiAgfVxuICByZXR1cm4gaWNvbkltYWdlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBJY29uSW1hZ2U7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvSWNvblxuICovXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQgSW1hZ2VTdHlsZSBmcm9tICcuL0ltYWdlLmpzJztcbmltcG9ydCB7YXNBcnJheX0gZnJvbSAnLi4vY29sb3IuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtnZXQgYXMgZ2V0SWNvbkltYWdlfSBmcm9tICcuL0ljb25JbWFnZS5qcyc7XG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYgeydmcmFjdGlvbicgfCAncGl4ZWxzJ30gSWNvbkFuY2hvclVuaXRzXG4gKiBBbmNob3IgdW5pdCBjYW4gYmUgZWl0aGVyIGEgZnJhY3Rpb24gb2YgdGhlIGljb24gc2l6ZSBvciBpbiBwaXhlbHMuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7J2JvdHRvbS1sZWZ0JyB8ICdib3R0b20tcmlnaHQnIHwgJ3RvcC1sZWZ0JyB8ICd0b3AtcmlnaHQnfSBJY29uT3JpZ2luXG4gKiBJY29uIG9yaWdpbi4gT25lIG9mICdib3R0b20tbGVmdCcsICdib3R0b20tcmlnaHQnLCAndG9wLWxlZnQnLCAndG9wLXJpZ2h0Jy5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2FuY2hvcj1bMC41LCAwLjVdXSBBbmNob3IuIERlZmF1bHQgdmFsdWUgaXMgdGhlIGljb24gY2VudGVyLlxuICogQHByb3BlcnR5IHtJY29uT3JpZ2lufSBbYW5jaG9yT3JpZ2luPSd0b3AtbGVmdCddIE9yaWdpbiBvZiB0aGUgYW5jaG9yOiBgYm90dG9tLWxlZnRgLCBgYm90dG9tLXJpZ2h0YCxcbiAqIGB0b3AtbGVmdGAgb3IgYHRvcC1yaWdodGAuXG4gKiBAcHJvcGVydHkge0ljb25BbmNob3JVbml0c30gW2FuY2hvclhVbml0cz0nZnJhY3Rpb24nXSBVbml0cyBpbiB3aGljaCB0aGUgYW5jaG9yIHggdmFsdWUgaXNcbiAqIHNwZWNpZmllZC4gQSB2YWx1ZSBvZiBgJ2ZyYWN0aW9uJ2AgaW5kaWNhdGVzIHRoZSB4IHZhbHVlIGlzIGEgZnJhY3Rpb24gb2YgdGhlIGljb24uIEEgdmFsdWUgb2YgYCdwaXhlbHMnYCBpbmRpY2F0ZXNcbiAqIHRoZSB4IHZhbHVlIGluIHBpeGVscy5cbiAqIEBwcm9wZXJ0eSB7SWNvbkFuY2hvclVuaXRzfSBbYW5jaG9yWVVuaXRzPSdmcmFjdGlvbiddIFVuaXRzIGluIHdoaWNoIHRoZSBhbmNob3IgeSB2YWx1ZSBpc1xuICogc3BlY2lmaWVkLiBBIHZhbHVlIG9mIGAnZnJhY3Rpb24nYCBpbmRpY2F0ZXMgdGhlIHkgdmFsdWUgaXMgYSBmcmFjdGlvbiBvZiB0aGUgaWNvbi4gQSB2YWx1ZSBvZiBgJ3BpeGVscydgIGluZGljYXRlc1xuICogdGhlIHkgdmFsdWUgaW4gcGl4ZWxzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxzdHJpbmd9IFtjb2xvcl0gQ29sb3IgdG8gdGludCB0aGUgaWNvbi4gSWYgbm90IHNwZWNpZmllZCxcbiAqIHRoZSBpY29uIHdpbGwgYmUgbGVmdCBhcyBpcy5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtjcm9zc09yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiBOb3RlIHRoYXQgeW91IG11c3QgcHJvdmlkZSBhXG4gKiBgY3Jvc3NPcmlnaW5gIHZhbHVlIGlmIHlvdSB3YW50IHRvIGFjY2VzcyBwaXhlbCBkYXRhIHdpdGggdGhlIENhbnZhcyByZW5kZXJlci5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfZW5hYmxlZF9pbWFnZSBmb3IgbW9yZSBkZXRhaWwuXG4gKiBAcHJvcGVydHkge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IFtpbWddIEltYWdlIG9iamVjdCBmb3IgdGhlIGljb24uIElmIHRoZSBgc3JjYCBvcHRpb24gaXMgbm90IHByb3ZpZGVkIHRoZW4gdGhlXG4gKiBwcm92aWRlZCBpbWFnZSBtdXN0IGFscmVhZHkgYmUgbG9hZGVkLiBBbmQgaW4gdGhhdCBjYXNlLCBpdCBpcyByZXF1aXJlZFxuICogdG8gcHJvdmlkZSB0aGUgc2l6ZSBvZiB0aGUgaW1hZ2UsIHdpdGggdGhlIGBpbWdTaXplYCBvcHRpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW2ltZ1NpemVdIEltYWdlIHNpemUgaW4gcGl4ZWxzLiBPbmx5IHJlcXVpcmVkIGlmIGBpbWdgIGlzIHNldCBhbmQgYHNyY2AgaXMgbm90LlxuICogVGhlIHByb3ZpZGVkIGBpbWdTaXplYCBuZWVkcyB0byBtYXRjaCB0aGUgYWN0dWFsIHNpemUgb2YgdGhlIGltYWdlLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbZGlzcGxhY2VtZW50PVswLCAwXV0gRGlzcGxhY2VtZW50IG9mIHRoZSBpY29uIGluIHBpeGVscy5cbiAqIFBvc2l0aXZlIHZhbHVlcyB3aWxsIHNoaWZ0IHRoZSBpY29uIHJpZ2h0IGFuZCB1cC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb3BhY2l0eT0xXSBPcGFjaXR5IG9mIHRoZSBpY29uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt3aWR0aF0gVGhlIHdpZHRoIG9mIHRoZSBpY29uIGluIHBpeGVscy4gVGhpcyBjYW4ndCBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggYHNjYWxlYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaGVpZ2h0XSBUaGUgaGVpZ2h0IG9mIHRoZSBpY29uIGluIHBpeGVscy4gVGhpcyBjYW4ndCBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggYHNjYWxlYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3NjYWxlPTFdIFNjYWxlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcm90YXRlV2l0aFZpZXc9ZmFsc2VdIFdoZXRoZXIgdG8gcm90YXRlIHRoZSBpY29uIHdpdGggdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JvdGF0aW9uPTBdIFJvdGF0aW9uIGluIHJhZGlhbnMgKHBvc2l0aXZlIHJvdGF0aW9uIGNsb2Nrd2lzZSkuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtvZmZzZXQ9WzAsIDBdXSBPZmZzZXQgd2hpY2gsIHRvZ2V0aGVyIHdpdGggYHNpemVgIGFuZCBgb2Zmc2V0T3JpZ2luYCwgZGVmaW5lcyB0aGVcbiAqIHN1Yi1yZWN0YW5nbGUgdG8gdXNlIGZyb20gdGhlIG9yaWdpbmFsIChzcHJpdGUpIGltYWdlLlxuICogQHByb3BlcnR5IHtJY29uT3JpZ2lufSBbb2Zmc2V0T3JpZ2luPSd0b3AtbGVmdCddIE9yaWdpbiBvZiB0aGUgb2Zmc2V0OiBgYm90dG9tLWxlZnRgLCBgYm90dG9tLXJpZ2h0YCxcbiAqIGB0b3AtbGVmdGAgb3IgYHRvcC1yaWdodGAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3NpemVdIEljb24gc2l6ZSBpbiBwaXhlbHMuIFVzZWQgdG9nZXRoZXIgd2l0aCBgb2Zmc2V0YCB0byBkZWZpbmUgdGhlXG4gKiBzdWItcmVjdGFuZ2xlIHRvIHVzZSBmcm9tIHRoZSBvcmlnaW5hbCAoc3ByaXRlKSBpbWFnZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc3JjXSBJbWFnZSBzb3VyY2UgVVJJLlxuICogQHByb3BlcnR5IHtcImRlY2x1dHRlclwifFwib2JzdGFjbGVcInxcIm5vbmVcInx1bmRlZmluZWR9IFtkZWNsdXR0ZXJNb2RlXSBEZWNsdXR0ZXIgbW9kZS5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCBpY29uIHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuXG4gKiBAYXBpXG4gKi9cbmNsYXNzIEljb24gZXh0ZW5kcyBJbWFnZVN0eWxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGNvbnN0IG9wYWNpdHkgPSBvcHRpb25zLm9wYWNpdHkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub3BhY2l0eSA6IDE7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGNvbnN0IHJvdGF0aW9uID0gb3B0aW9ucy5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGlvbiA6IDA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICBjb25zdCBzY2FsZSA9IG9wdGlvbnMuc2NhbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2NhbGUgOiAxO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgY29uc3Qgcm90YXRlV2l0aFZpZXcgPVxuICAgICAgb3B0aW9ucy5yb3RhdGVXaXRoVmlldyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yb3RhdGVXaXRoVmlldyA6IGZhbHNlO1xuXG4gICAgc3VwZXIoe1xuICAgICAgb3BhY2l0eTogb3BhY2l0eSxcbiAgICAgIHJvdGF0aW9uOiByb3RhdGlvbixcbiAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICAgIGRpc3BsYWNlbWVudDpcbiAgICAgICAgb3B0aW9ucy5kaXNwbGFjZW1lbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZGlzcGxhY2VtZW50IDogWzAsIDBdLFxuICAgICAgcm90YXRlV2l0aFZpZXc6IHJvdGF0ZVdpdGhWaWV3LFxuICAgICAgZGVjbHV0dGVyTW9kZTogb3B0aW9ucy5kZWNsdXR0ZXJNb2RlLFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLmFuY2hvcl8gPSBvcHRpb25zLmFuY2hvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hbmNob3IgOiBbMC41LCAwLjVdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLm5vcm1hbGl6ZWRBbmNob3JfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0ljb25PcmlnaW59XG4gICAgICovXG4gICAgdGhpcy5hbmNob3JPcmlnaW5fID1cbiAgICAgIG9wdGlvbnMuYW5jaG9yT3JpZ2luICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmFuY2hvck9yaWdpbiA6ICd0b3AtbGVmdCc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtJY29uQW5jaG9yVW5pdHN9XG4gICAgICovXG4gICAgdGhpcy5hbmNob3JYVW5pdHNfID1cbiAgICAgIG9wdGlvbnMuYW5jaG9yWFVuaXRzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmFuY2hvclhVbml0cyA6ICdmcmFjdGlvbic7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtJY29uQW5jaG9yVW5pdHN9XG4gICAgICovXG4gICAgdGhpcy5hbmNob3JZVW5pdHNfID1cbiAgICAgIG9wdGlvbnMuYW5jaG9yWVVuaXRzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmFuY2hvcllVbml0cyA6ICdmcmFjdGlvbic7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuY3Jvc3NPcmlnaW5fID1cbiAgICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY3Jvc3NPcmlnaW4gOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgY29uc3QgaW1hZ2UgPSBvcHRpb25zLmltZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pbWcgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmltZ1NpemVfID0gb3B0aW9ucy5pbWdTaXplO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICovXG4gICAgbGV0IHNyYyA9IG9wdGlvbnMuc3JjO1xuXG4gICAgYXNzZXJ0KCEoc3JjICE9PSB1bmRlZmluZWQgJiYgaW1hZ2UpLCA0KTsgLy8gYGltYWdlYCBhbmQgYHNyY2AgY2Fubm90IGJlIHByb3ZpZGVkIGF0IHRoZSBzYW1lIHRpbWVcbiAgICBhc3NlcnQoIWltYWdlIHx8IChpbWFnZSAmJiB0aGlzLmltZ1NpemVfKSwgNSk7IC8vIGBpbWdTaXplYCBtdXN0IGJlIHNldCB3aGVuIGBpbWFnZWAgaXMgcHJvdmlkZWRcblxuICAgIGlmICgoc3JjID09PSB1bmRlZmluZWQgfHwgc3JjLmxlbmd0aCA9PT0gMCkgJiYgaW1hZ2UpIHtcbiAgICAgIHNyYyA9IC8qKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudH0gKi8gKGltYWdlKS5zcmMgfHwgZ2V0VWlkKGltYWdlKTtcbiAgICB9XG4gICAgYXNzZXJ0KHNyYyAhPT0gdW5kZWZpbmVkICYmIHNyYy5sZW5ndGggPiAwLCA2KTsgLy8gQSBkZWZpbmVkIGFuZCBub24tZW1wdHkgYHNyY2Agb3IgYGltYWdlYCBtdXN0IGJlIHByb3ZpZGVkXG5cbiAgICAvLyBgd2lkdGhgIG9yIGBoZWlnaHRgIGNhbm5vdCBiZSBwcm92aWRlZCB0b2dldGhlciB3aXRoIGBzY2FsZWBcbiAgICBhc3NlcnQoXG4gICAgICAhKFxuICAgICAgICAob3B0aW9ucy53aWR0aCAhPT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMuaGVpZ2h0ICE9PSB1bmRlZmluZWQpICYmXG4gICAgICAgIG9wdGlvbnMuc2NhbGUgIT09IHVuZGVmaW5lZFxuICAgICAgKSxcbiAgICAgIDY5XG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgY29uc3QgaW1hZ2VTdGF0ZSA9XG4gICAgICBvcHRpb25zLnNyYyAhPT0gdW5kZWZpbmVkID8gSW1hZ2VTdGF0ZS5JRExFIDogSW1hZ2VTdGF0ZS5MT0FERUQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbG9yXyA9IG9wdGlvbnMuY29sb3IgIT09IHVuZGVmaW5lZCA/IGFzQXJyYXkob3B0aW9ucy5jb2xvcikgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9JY29uSW1hZ2UuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmljb25JbWFnZV8gPSBnZXRJY29uSW1hZ2UoXG4gICAgICBpbWFnZSxcbiAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoc3JjKSxcbiAgICAgIHRoaXMuaW1nU2l6ZV8gIT09IHVuZGVmaW5lZCA/IHRoaXMuaW1nU2l6ZV8gOiBudWxsLFxuICAgICAgdGhpcy5jcm9zc09yaWdpbl8sXG4gICAgICBpbWFnZVN0YXRlLFxuICAgICAgdGhpcy5jb2xvcl9cbiAgICApO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLm9mZnNldF8gPSBvcHRpb25zLm9mZnNldCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vZmZzZXQgOiBbMCwgMF07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SWNvbk9yaWdpbn1cbiAgICAgKi9cbiAgICB0aGlzLm9mZnNldE9yaWdpbl8gPVxuICAgICAgb3B0aW9ucy5vZmZzZXRPcmlnaW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMub2Zmc2V0T3JpZ2luIDogJ3RvcC1sZWZ0JztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5fID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLnNpemVfID0gb3B0aW9ucy5zaXplICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNpemUgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy53aWR0aF8gPSBvcHRpb25zLndpZHRoO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5oZWlnaHRfID0gb3B0aW9ucy5oZWlnaHQ7XG5cbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZSB0aGUgc2NhbGUgaWYgd2lkdGggb3IgaGVpZ2h0IHdoZXJlIGdpdmVuLlxuICAgICAqL1xuICAgIGlmICh0aGlzLndpZHRoXyAhPT0gdW5kZWZpbmVkIHx8IHRoaXMuaGVpZ2h0XyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBpbWFnZSA9IHRoaXMuZ2V0SW1hZ2UoMSk7XG4gICAgICBjb25zdCBzZXRTY2FsZSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVTY2FsZUZyb21XaWR0aEFuZEhlaWdodCh0aGlzLndpZHRoXywgdGhpcy5oZWlnaHRfKTtcbiAgICAgIH07XG4gICAgICBpZiAoaW1hZ2Uud2lkdGggPiAwKSB7XG4gICAgICAgIHRoaXMudXBkYXRlU2NhbGVGcm9tV2lkdGhBbmRIZWlnaHQodGhpcy53aWR0aF8sIHRoaXMuaGVpZ2h0Xyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgc2V0U2NhbGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHN0eWxlLiBUaGUgdW5kZXJseWluZyBJbWFnZS9IVE1MQ2FudmFzRWxlbWVudCBpcyBub3QgY2xvbmVkLlxuICAgKiBAcmV0dXJuIHtJY29ufSBUaGUgY2xvbmVkIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZ2V0U2NhbGUoKTtcbiAgICByZXR1cm4gbmV3IEljb24oe1xuICAgICAgYW5jaG9yOiB0aGlzLmFuY2hvcl8uc2xpY2UoKSxcbiAgICAgIGFuY2hvck9yaWdpbjogdGhpcy5hbmNob3JPcmlnaW5fLFxuICAgICAgYW5jaG9yWFVuaXRzOiB0aGlzLmFuY2hvclhVbml0c18sXG4gICAgICBhbmNob3JZVW5pdHM6IHRoaXMuYW5jaG9yWVVuaXRzXyxcbiAgICAgIGNvbG9yOlxuICAgICAgICB0aGlzLmNvbG9yXyAmJiB0aGlzLmNvbG9yXy5zbGljZVxuICAgICAgICAgID8gdGhpcy5jb2xvcl8uc2xpY2UoKVxuICAgICAgICAgIDogdGhpcy5jb2xvcl8gfHwgdW5kZWZpbmVkLFxuICAgICAgY3Jvc3NPcmlnaW46IHRoaXMuY3Jvc3NPcmlnaW5fLFxuICAgICAgaW1nU2l6ZTogdGhpcy5pbWdTaXplXyxcbiAgICAgIG9mZnNldDogdGhpcy5vZmZzZXRfLnNsaWNlKCksXG4gICAgICBvZmZzZXRPcmlnaW46IHRoaXMub2Zmc2V0T3JpZ2luXyxcbiAgICAgIG9wYWNpdHk6IHRoaXMuZ2V0T3BhY2l0eSgpLFxuICAgICAgcm90YXRlV2l0aFZpZXc6IHRoaXMuZ2V0Um90YXRlV2l0aFZpZXcoKSxcbiAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICBzY2FsZTogQXJyYXkuaXNBcnJheShzY2FsZSkgPyBzY2FsZS5zbGljZSgpIDogc2NhbGUsXG4gICAgICBzaXplOiB0aGlzLnNpemVfICE9PSBudWxsID8gdGhpcy5zaXplXy5zbGljZSgpIDogdW5kZWZpbmVkLFxuICAgICAgc3JjOiB0aGlzLmdldFNyYygpLFxuICAgICAgZGlzcGxhY2VtZW50OiB0aGlzLmdldERpc3BsYWNlbWVudCgpLnNsaWNlKCksXG4gICAgICBkZWNsdXR0ZXJNb2RlOiB0aGlzLmdldERlY2x1dHRlck1vZGUoKSxcbiAgICAgIHdpZHRoOiB0aGlzLndpZHRoXyxcbiAgICAgIGhlaWdodDogdGhpcy5oZWlnaHRfLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc2NhbGUgb2YgdGhlIEljb24gYnkgY2FsY3VsYXRpbmcgaXQgZnJvbSBnaXZlbiB3aWR0aCBhbmQgaGVpZ2h0IGFuZCB0aGVcbiAgICogd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgaW1hZ2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBUaGUgd2lkdGguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgVGhlIGhlaWdodC5cbiAgICovXG4gIHVwZGF0ZVNjYWxlRnJvbVdpZHRoQW5kSGVpZ2h0KHdpZHRoLCBoZWlnaHQpIHtcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuZ2V0SW1hZ2UoMSk7XG4gICAgaWYgKHdpZHRoICE9PSB1bmRlZmluZWQgJiYgaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN1cGVyLnNldFNjYWxlKFt3aWR0aCAvIGltYWdlLndpZHRoLCBoZWlnaHQgLyBpbWFnZS5oZWlnaHRdKTtcbiAgICB9IGVsc2UgaWYgKHdpZHRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN1cGVyLnNldFNjYWxlKFt3aWR0aCAvIGltYWdlLndpZHRoLCB3aWR0aCAvIGltYWdlLndpZHRoXSk7XG4gICAgfSBlbHNlIGlmIChoZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3VwZXIuc2V0U2NhbGUoW2hlaWdodCAvIGltYWdlLmhlaWdodCwgaGVpZ2h0IC8gaW1hZ2UuaGVpZ2h0XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cGVyLnNldFNjYWxlKFsxLCAxXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IGluIHBpeGVscy4gVGhlIGFuY2hvciBkZXRlcm1pbmVzIHRoZSBjZW50ZXIgcG9pbnQgZm9yIHRoZVxuICAgKiBzeW1ib2xpemVyLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBBbmNob3IuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEFuY2hvcigpIHtcbiAgICBsZXQgYW5jaG9yID0gdGhpcy5ub3JtYWxpemVkQW5jaG9yXztcbiAgICBpZiAoIWFuY2hvcikge1xuICAgICAgYW5jaG9yID0gdGhpcy5hbmNob3JfO1xuICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmFuY2hvclhVbml0c18gPT0gJ2ZyYWN0aW9uJyB8fFxuICAgICAgICB0aGlzLmFuY2hvcllVbml0c18gPT0gJ2ZyYWN0aW9uJ1xuICAgICAgKSB7XG4gICAgICAgIGlmICghc2l6ZSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGFuY2hvciA9IHRoaXMuYW5jaG9yXy5zbGljZSgpO1xuICAgICAgICBpZiAodGhpcy5hbmNob3JYVW5pdHNfID09ICdmcmFjdGlvbicpIHtcbiAgICAgICAgICBhbmNob3JbMF0gKj0gc2l6ZVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hbmNob3JZVW5pdHNfID09ICdmcmFjdGlvbicpIHtcbiAgICAgICAgICBhbmNob3JbMV0gKj0gc2l6ZVsxXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5hbmNob3JPcmlnaW5fICE9ICd0b3AtbGVmdCcpIHtcbiAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuY2hvciA9PT0gdGhpcy5hbmNob3JfKSB7XG4gICAgICAgICAgYW5jaG9yID0gdGhpcy5hbmNob3JfLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuYW5jaG9yT3JpZ2luXyA9PSAndG9wLXJpZ2h0JyB8fFxuICAgICAgICAgIHRoaXMuYW5jaG9yT3JpZ2luXyA9PSAnYm90dG9tLXJpZ2h0J1xuICAgICAgICApIHtcbiAgICAgICAgICBhbmNob3JbMF0gPSAtYW5jaG9yWzBdICsgc2l6ZVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5hbmNob3JPcmlnaW5fID09ICdib3R0b20tbGVmdCcgfHxcbiAgICAgICAgICB0aGlzLmFuY2hvck9yaWdpbl8gPT0gJ2JvdHRvbS1yaWdodCdcbiAgICAgICAgKSB7XG4gICAgICAgICAgYW5jaG9yWzFdID0gLWFuY2hvclsxXSArIHNpemVbMV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubm9ybWFsaXplZEFuY2hvcl8gPSBhbmNob3I7XG4gICAgfVxuICAgIGNvbnN0IGRpc3BsYWNlbWVudCA9IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCk7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmdldFNjYWxlQXJyYXkoKTtcbiAgICAvLyBhbmNob3IgaXMgc2NhbGVkIGJ5IHJlbmRlcmVyIGJ1dCBkaXNwbGFjZW1lbnQgc2hvdWxkIG5vdCBiZSBzY2FsZWRcbiAgICAvLyBzbyBkaXZpZGUgYnkgc2NhbGUgaGVyZVxuICAgIHJldHVybiBbXG4gICAgICBhbmNob3JbMF0gLSBkaXNwbGFjZW1lbnRbMF0gLyBzY2FsZVswXSxcbiAgICAgIGFuY2hvclsxXSArIGRpc3BsYWNlbWVudFsxXSAvIHNjYWxlWzFdLFxuICAgIF07XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBhbmNob3IgcG9pbnQuIFRoZSBhbmNob3IgZGV0ZXJtaW5lcyB0aGUgY2VudGVyIHBvaW50IGZvciB0aGVcbiAgICogc3ltYm9saXplci5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBhbmNob3IgQW5jaG9yLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRBbmNob3IoYW5jaG9yKSB7XG4gICAgdGhpcy5hbmNob3JfID0gYW5jaG9yO1xuICAgIHRoaXMubm9ybWFsaXplZEFuY2hvcl8gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaWNvbiBjb2xvci5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IENvbG9yLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvcl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBpbWFnZSBpY29uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2Ugb3IgQ2FudmFzIGVsZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEltYWdlKHBpeGVsUmF0aW8pIHtcbiAgICByZXR1cm4gdGhpcy5pY29uSW1hZ2VfLmdldEltYWdlKHBpeGVsUmF0aW8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBwaXhlbCByYXRpbyBvZiB0aGUgaW1hZ2UuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFBpeGVsUmF0aW8ocGl4ZWxSYXRpbykge1xuICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0UGl4ZWxSYXRpbyhwaXhlbFJhdGlvKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IEltYWdlIHNpemUuXG4gICAqL1xuICBnZXRJbWFnZVNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWNvbkltYWdlXy5nZXRTaXplKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vSW1hZ2VTdGF0ZS5qc1wiKS5kZWZhdWx0fSBJbWFnZSBzdGF0ZS5cbiAgICovXG4gIGdldEltYWdlU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWNvbkltYWdlXy5nZXRJbWFnZVN0YXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gSW1hZ2UgZWxlbWVudC5cbiAgICovXG4gIGdldEhpdERldGVjdGlvbkltYWdlKCkge1xuICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG9yaWdpbiBvZiB0aGUgc3ltYm9saXplci5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gT3JpZ2luLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRPcmlnaW4oKSB7XG4gICAgaWYgKHRoaXMub3JpZ2luXykge1xuICAgICAgcmV0dXJuIHRoaXMub3JpZ2luXztcbiAgICB9XG4gICAgbGV0IG9mZnNldCA9IHRoaXMub2Zmc2V0XztcblxuICAgIGlmICh0aGlzLm9mZnNldE9yaWdpbl8gIT0gJ3RvcC1sZWZ0Jykge1xuICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuICAgICAgY29uc3QgaWNvbkltYWdlU2l6ZSA9IHRoaXMuaWNvbkltYWdlXy5nZXRTaXplKCk7XG4gICAgICBpZiAoIXNpemUgfHwgIWljb25JbWFnZVNpemUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBvZmZzZXQgPSBvZmZzZXQuc2xpY2UoKTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5vZmZzZXRPcmlnaW5fID09ICd0b3AtcmlnaHQnIHx8XG4gICAgICAgIHRoaXMub2Zmc2V0T3JpZ2luXyA9PSAnYm90dG9tLXJpZ2h0J1xuICAgICAgKSB7XG4gICAgICAgIG9mZnNldFswXSA9IGljb25JbWFnZVNpemVbMF0gLSBzaXplWzBdIC0gb2Zmc2V0WzBdO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLm9mZnNldE9yaWdpbl8gPT0gJ2JvdHRvbS1sZWZ0JyB8fFxuICAgICAgICB0aGlzLm9mZnNldE9yaWdpbl8gPT0gJ2JvdHRvbS1yaWdodCdcbiAgICAgICkge1xuICAgICAgICBvZmZzZXRbMV0gPSBpY29uSW1hZ2VTaXplWzFdIC0gc2l6ZVsxXSAtIG9mZnNldFsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5vcmlnaW5fID0gb2Zmc2V0O1xuICAgIHJldHVybiB0aGlzLm9yaWdpbl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBpbWFnZSBVUkwuXG4gICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IEltYWdlIHNyYy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0U3JjKCkge1xuICAgIHJldHVybiB0aGlzLmljb25JbWFnZV8uZ2V0U3JjKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzaXplIG9mIHRoZSBpY29uIChpbiBwaXhlbHMpLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IEltYWdlIHNpemUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFNpemUoKSB7XG4gICAgcmV0dXJuICF0aGlzLnNpemVfID8gdGhpcy5pY29uSW1hZ2VfLmdldFNpemUoKSA6IHRoaXMuc2l6ZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB3aWR0aCBvZiB0aGUgaWNvbiAoaW4gcGl4ZWxzKS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBJY29uIHdpZHRoIChpbiBwaXhlbHMpLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRXaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy53aWR0aF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBoZWlnaHQgb2YgdGhlIGljb24gKGluIHBpeGVscykuXG4gICAqIEByZXR1cm4ge251bWJlcn0gSWNvbiBoZWlnaHQgKGluIHBpeGVscykuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5oZWlnaHRfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgd2lkdGggb2YgdGhlIGljb24gaW4gcGl4ZWxzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggVGhlIHdpZHRoIHRvIHNldC5cbiAgICovXG4gIHNldFdpZHRoKHdpZHRoKSB7XG4gICAgdGhpcy53aWR0aF8gPSB3aWR0aDtcbiAgICB0aGlzLnVwZGF0ZVNjYWxlRnJvbVdpZHRoQW5kSGVpZ2h0KHdpZHRoLCB0aGlzLmhlaWdodF8pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgaGVpZ2h0IG9mIHRoZSBpY29uIGluIHBpeGVscy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBUaGUgaGVpZ2h0IHRvIHNldC5cbiAgICovXG4gIHNldEhlaWdodChoZWlnaHQpIHtcbiAgICB0aGlzLmhlaWdodF8gPSBoZWlnaHQ7XG4gICAgdGhpcy51cGRhdGVTY2FsZUZyb21XaWR0aEFuZEhlaWdodCh0aGlzLndpZHRoXywgaGVpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHNjYWxlIGFuZCB1cGRhdGVzIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IGNvcnJlc3BvbmRpbmdseS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBzY2FsZSBTY2FsZS5cbiAgICogQG92ZXJyaWRlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFNjYWxlKHNjYWxlKSB7XG4gICAgc3VwZXIuc2V0U2NhbGUoc2NhbGUpO1xuICAgIGNvbnN0IGltYWdlID0gdGhpcy5nZXRJbWFnZSgxKTtcbiAgICBpZiAoaW1hZ2UpIHtcbiAgICAgIGNvbnN0IHdpZHRoU2NhbGUgPSBBcnJheS5pc0FycmF5KHNjYWxlKSA/IHNjYWxlWzBdIDogc2NhbGU7XG4gICAgICBpZiAod2lkdGhTY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMud2lkdGhfID0gd2lkdGhTY2FsZSAqIGltYWdlLndpZHRoO1xuICAgICAgfVxuICAgICAgY29uc3QgaGVpZ2h0U2NhbGUgPSBBcnJheS5pc0FycmF5KHNjYWxlKSA/IHNjYWxlWzFdIDogc2NhbGU7XG4gICAgICBpZiAoaGVpZ2h0U2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmhlaWdodF8gPSBoZWlnaHRTY2FsZSAqIGltYWdlLmhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgKi9cbiAgbGlzdGVuSW1hZ2VDaGFuZ2UobGlzdGVuZXIpIHtcbiAgICB0aGlzLmljb25JbWFnZV8uYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCBsaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBub3QgeWV0IGxvYWRlZCBVUkkuXG4gICAqIFdoZW4gcmVuZGVyaW5nIGEgZmVhdHVyZSB3aXRoIGFuIGljb24gc3R5bGUsIHRoZSB2ZWN0b3IgcmVuZGVyZXIgd2lsbFxuICAgKiBhdXRvbWF0aWNhbGx5IGNhbGwgdGhpcyBtZXRob2QuIEhvd2V2ZXIsIHlvdSBtaWdodCB3YW50IHRvIGNhbGwgdGhpc1xuICAgKiBtZXRob2QgeW91cnNlbGYgZm9yIHByZWxvYWRpbmcgb3Igb3RoZXIgcHVycG9zZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIGxvYWQoKSB7XG4gICAgdGhpcy5pY29uSW1hZ2VfLmxvYWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0KTogdm9pZH0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqL1xuICB1bmxpc3RlbkltYWdlQ2hhbmdlKGxpc3RlbmVyKSB7XG4gICAgdGhpcy5pY29uSW1hZ2VfLnJlbW92ZUV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRSwgbGlzdGVuZXIpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEljb247XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvZmxhdFxuICovXG5cbmltcG9ydCBDaXJjbGUgZnJvbSAnLi4vc3R5bGUvQ2lyY2xlLmpzJztcbmltcG9ydCBGaWxsIGZyb20gJy4vRmlsbC5qcyc7XG5pbXBvcnQgSWNvbiBmcm9tICcuL0ljb24uanMnO1xuaW1wb3J0IFJlZ3VsYXJTaGFwZSBmcm9tICcuL1JlZ3VsYXJTaGFwZS5qcyc7XG5pbXBvcnQgU3Ryb2tlIGZyb20gJy4vU3Ryb2tlLmpzJztcbmltcG9ydCBTdHlsZSBmcm9tICcuL1N0eWxlLmpzJztcbmltcG9ydCBUZXh0IGZyb20gJy4vVGV4dC5qcyc7XG5cbi8qKlxuICogRm9yIHN0YXRpYyBzdHlsaW5nLCB0aGUgW2xheWVyLnNldFN0eWxlKClde0BsaW5rIG1vZHVsZTpvbC9sYXllci9WZWN0b3J+VmVjdG9yTGF5ZXIjc2V0U3R5bGV9IG1ldGhvZFxuICogY2FuIGJlIGNhbGxlZCB3aXRoIGFuIG9iamVjdCBsaXRlcmFsIHRoYXQgaGFzIGZpbGwsIHN0cm9rZSwgdGV4dCwgaWNvbiwgcmVndWxhciBzaGFwZSwgYW5kL29yIGNpcmNsZSBwcm9wZXJ0aWVzLlxuICogQGFwaVxuICpcbiAqIEB0eXBlZGVmIHtGbGF0RmlsbCAmIEZsYXRTdHJva2UgJiBGbGF0VGV4dCAmIEZsYXRJY29uICYgRmxhdFNoYXBlICYgRmxhdENpcmNsZX0gRmxhdFN0eWxlXG4gKi9cblxuLyoqXG4gKiBBIGZsYXQgc3R5bGUgbGl0ZXJhbCBvciBhbiBhcnJheSBvZiB0aGUgc2FtZS5cbiAqXG4gKiBAdHlwZWRlZiB7RmxhdFN0eWxlfEFycmF5PEZsYXRTdHlsZT59IEZsYXRTdHlsZUxpa2VcbiAqL1xuXG4vKipcbiAqIEZpbGwgc3R5bGUgcHJvcGVydGllcyBhcHBsaWVkIHRvIHBvbHlnb24gZmVhdHVyZXMuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gRmxhdEZpbGxcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2ZpbGwtY29sb3JdIFRoZSBmaWxsIGNvbG9yLlxuICovXG5cbi8qKlxuICogU3Ryb2tlIHN0eWxlIHByb3BlcnRpZXMgYXBwbGllZCB0byBsaW5lIHN0cmluZ3MgYW5kIHBvbHlnb24gYm91bmRhcmllcy4gIFRvIGFwcGx5IGEgc3Ryb2tlLCBhdCBsZWFzdCBvbmUgb2ZcbiAqIGBzdHJva2UtY29sb3JgIG9yIGBzdHJva2Utd2lkdGhgIG11c3QgYmUgcHJvdmlkZWQuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gRmxhdFN0cm9rZVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbc3Ryb2tlLWNvbG9yXSBUaGUgc3Ryb2tlIGNvbG9yLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzdHJva2Utd2lkdGhdIFN0cm9rZSBwaXhlbCB3aWR0aC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUNhcH0gW3N0cm9rZS1saW5lLWNhcD0ncm91bmQnXSBMaW5lIGNhcCBzdHlsZTogYGJ1dHRgLCBgcm91bmRgLCBvciBgc3F1YXJlYC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFtzdHJva2UtbGluZS1qb2luPSdyb3VuZCddIExpbmUgam9pbiBzdHlsZTogYGJldmVsYCwgYHJvdW5kYCwgb3IgYG1pdGVyYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3N0cm9rZS1saW5lLWRhc2hdIExpbmUgZGFzaCBwYXR0ZXJuLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzdHJva2UtbGluZS1kYXNoLW9mZnNldD0wXSBMaW5lIGRhc2ggb2Zmc2V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzdHJva2UtbWl0ZXItbGltaXQ9MTBdIE1pdGVyIGxpbWl0LlxuICovXG5cbi8qKlxuICogTGFiZWwgc3R5bGUgcHJvcGVydGllcyBhcHBsaWVkIHRvIGFsbCBmZWF0dXJlcy4gIEF0IGEgbWluaW11bSwgYSBgdGV4dC12YWx1ZWAgbXVzdCBiZSBwcm92aWRlZC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGbGF0VGV4dFxuICogQHByb3BlcnR5IHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gW3RleHQtdmFsdWVdIFRleHQgY29udGVudCBvciByaWNoIHRleHQgY29udGVudC4gRm9yIHBsYWluIHRleHQgcHJvdmlkZSBhIHN0cmluZywgd2hpY2ggY2FuXG4gKiBjb250YWluIGxpbmUgYnJlYWtzIChgXFxuYCkuIEZvciByaWNoIHRleHQgcHJvdmlkZSBhbiBhcnJheSBvZiB0ZXh0L2ZvbnQgdHVwbGVzLiBBIHR1cGxlIGNvbnNpc3RzIG9mIHRoZSB0ZXh0IHRvXG4gKiByZW5kZXIgYW5kIHRoZSBmb250IHRvIHVzZSAob3IgYCcnYCB0byB1c2UgdGhlIHRleHQgc3R5bGUncyBmb250KS4gQSBsaW5lIGJyZWFrIGhhcyB0byBiZSBhIHNlcGFyYXRlIHR1cGxlIChpLmUuIGAnXFxuJywgJydgKS5cbiAqICoqRXhhbXBsZToqKiBgWydmb28nLCAnYm9sZCAxMHB4IHNhbnMtc2VyaWYnLCAnIGJhcicsICdpdGFsaWMgMTBweCBzYW5zLXNlcmlmJywgJyBiYXonLCAnJ11gIHdpbGwgeWllbGQgXCIqKmZvbyoqICpiYXIqIGJhelwiLlxuICogKipOb3RlOioqIFJpY2ggdGV4dCBpcyBub3Qgc3VwcG9ydGVkIGZvciB0aGUgaW1tZWRpYXRlIHJlbmRlcmluZyBBUEkuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3RleHQtZm9udF0gRm9udCBzdHlsZSBhcyBDU1MgYGZvbnRgIHZhbHVlLCBzZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZvbnQuIERlZmF1bHQgaXMgYCcxMHB4IHNhbnMtc2VyaWYnYFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0LW1heC1hbmdsZT1NYXRoLlBJLzRdIFdoZW4gYHRleHQtcGxhY2VtZW50YCBpcyBzZXQgdG8gYCdsaW5lJ2AsIGFsbG93IGEgbWF4aW11bSBhbmdsZSBiZXR3ZWVuIGFkamFjZW50IGNoYXJhY3RlcnMuXG4gKiBUaGUgZXhwZWN0ZWQgdmFsdWUgaXMgaW4gcmFkaWFucywgYW5kIHRoZSBkZWZhdWx0IGlzIDQ1wrAgKGBNYXRoLlBJIC8gNGApLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0LW9mZnNldC14PTBdIEhvcml6b250YWwgdGV4dCBvZmZzZXQgaW4gcGl4ZWxzLiBBIHBvc2l0aXZlIHdpbGwgc2hpZnQgdGhlIHRleHQgcmlnaHQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RleHQtb2Zmc2V0LXk9MF0gVmVydGljYWwgdGV4dCBvZmZzZXQgaW4gcGl4ZWxzLiBBIHBvc2l0aXZlIHdpbGwgc2hpZnQgdGhlIHRleHQgZG93bi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3RleHQtb3ZlcmZsb3c9ZmFsc2VdIEZvciBwb2x5Z29uIGxhYmVscyBvciB3aGVuIGBwbGFjZW1lbnRgIGlzIHNldCB0byBgJ2xpbmUnYCwgYWxsb3cgdGV4dCB0byBleGNlZWRcbiAqIHRoZSB3aWR0aCBvZiB0aGUgcG9seWdvbiBhdCB0aGUgbGFiZWwgcG9zaXRpb24gb3IgdGhlIGxlbmd0aCBvZiB0aGUgcGF0aCB0aGF0IGl0IGZvbGxvd3MuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vVGV4dC5qc1wiKS5UZXh0UGxhY2VtZW50fSBbdGV4dC1wbGFjZW1lbnQ9J3BvaW50J10gVGV4dCBwbGFjZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFt0ZXh0LXNjYWxlXSBTY2FsZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3RleHQtcm90YXRlLXdpdGgtdmlldz1mYWxzZV0gV2hldGhlciB0byByb3RhdGUgdGhlIHRleHQgd2l0aCB0aGUgdmlldy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dC1yb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UpLlxuICogQHByb3BlcnR5IHtDYW52YXNUZXh0QWxpZ259IFt0ZXh0LWFsaWduXSBUZXh0IGFsaWdubWVudC4gUG9zc2libGUgdmFsdWVzOiBgJ2xlZnQnYCwgYCdyaWdodCdgLCBgJ2NlbnRlcidgLCBgJ2VuZCdgIG9yIGAnc3RhcnQnYC5cbiAqIERlZmF1bHQgaXMgYCdjZW50ZXInYCBmb3IgYHRleHQtcGxhY2VtZW50OiAncG9pbnQnYC4gRm9yIGB0ZXh0LXBsYWNlbWVudDogJ2xpbmUnYCwgdGhlIGRlZmF1bHQgaXMgdG8gbGV0IHRoZSByZW5kZXJlciBjaG9vc2UgYVxuICogcGxhY2VtZW50IHdoZXJlIGB0ZXh0LW1heC1hbmdsZWAgaXMgbm90IGV4Y2VlZGVkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoJy4vVGV4dC5qcycpLlRleHRKdXN0aWZ5fSBbdGV4dC1qdXN0aWZ5XSBUZXh0IGp1c3RpZmljYXRpb24gd2l0aGluIHRoZSB0ZXh0IGJveC5cbiAqIElmIG5vdCBzZXQsIHRleHQgaXMganVzdGlmaWVkIHRvd2FyZHMgdGhlIGB0ZXh0QWxpZ25gIGFuY2hvci5cbiAqIE90aGVyd2lzZSwgdXNlIG9wdGlvbnMgYCdsZWZ0J2AsIGAnY2VudGVyJ2AsIG9yIGAncmlnaHQnYCB0byBqdXN0aWZ5IHRoZSB0ZXh0IHdpdGhpbiB0aGUgdGV4dCBib3guXG4gKiAqKk5vdGU6KiogYHRleHQtanVzdGlmeWAgaXMgaWdub3JlZCBmb3IgaW1tZWRpYXRlIHJlbmRlcmluZyBhbmQgYWxzbyBmb3IgYHRleHQtcGxhY2VtZW50OiAnbGluZSdgLlxuICogQHByb3BlcnR5IHtDYW52YXNUZXh0QmFzZWxpbmV9IFt0ZXh0LWJhc2VsaW5lPSdtaWRkbGUnXSBUZXh0IGJhc2UgbGluZS4gUG9zc2libGUgdmFsdWVzOiBgJ2JvdHRvbSdgLCBgJ3RvcCdgLCBgJ21pZGRsZSdgLCBgJ2FscGhhYmV0aWMnYCxcbiAqIGAnaGFuZ2luZydgLCBgJ2lkZW9ncmFwaGljJ2AuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFt0ZXh0LXBhZGRpbmc9WzAsIDAsIDAsIDBdXSBQYWRkaW5nIGluIHBpeGVscyBhcm91bmQgdGhlIHRleHQgZm9yIGRlY2x1dHRlcmluZyBhbmQgYmFja2dyb3VuZC4gVGhlIG9yZGVyIG9mXG4gKiB2YWx1ZXMgaW4gdGhlIGFycmF5IGlzIGBbdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XWAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFt0ZXh0LWZpbGwtY29sb3JdIFRoZSBmaWxsIGNvbG9yLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbdGV4dC1iYWNrZ3JvdW5kLWZpbGwtY29sb3JdIFRoZSBmaWxsIGNvbG9yLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbdGV4dC1zdHJva2UtY29sb3JdIFRoZSBzdHJva2UgY29sb3IuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IFt0ZXh0LXN0cm9rZS1saW5lLWNhcD0ncm91bmQnXSBMaW5lIGNhcCBzdHlsZTogYGJ1dHRgLCBgcm91bmRgLCBvciBgc3F1YXJlYC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFt0ZXh0LXN0cm9rZS1saW5lLWpvaW49J3JvdW5kJ10gTGluZSBqb2luIHN0eWxlOiBgYmV2ZWxgLCBgcm91bmRgLCBvciBgbWl0ZXJgLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbdGV4dC1zdHJva2UtbGluZS1kYXNoXSBMaW5lIGRhc2ggcGF0dGVybi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dC1zdHJva2UtbGluZS1kYXNoLW9mZnNldD0wXSBMaW5lIGRhc2ggb2Zmc2V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0LXN0cm9rZS1taXRlci1saW1pdD0xMF0gTWl0ZXIgbGltaXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RleHQtc3Ryb2tlLXdpZHRoXSBTdHJva2UgcGl4ZWwgd2lkdGguXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFt0ZXh0LWJhY2tncm91bmQtc3Ryb2tlLWNvbG9yXSBUaGUgc3Ryb2tlIGNvbG9yLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lQ2FwfSBbdGV4dC1iYWNrZ3JvdW5kLXN0cm9rZS1saW5lLWNhcD0ncm91bmQnXSBMaW5lIGNhcCBzdHlsZTogYGJ1dHRgLCBgcm91bmRgLCBvciBgc3F1YXJlYC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFt0ZXh0LWJhY2tncm91bmQtc3Ryb2tlLWxpbmUtam9pbj0ncm91bmQnXSBMaW5lIGpvaW4gc3R5bGU6IGBiZXZlbGAsIGByb3VuZGAsIG9yIGBtaXRlcmAuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFt0ZXh0LWJhY2tncm91bmQtc3Ryb2tlLWxpbmUtZGFzaF0gTGluZSBkYXNoIHBhdHRlcm4uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RleHQtYmFja2dyb3VuZC1zdHJva2UtbGluZS1kYXNoLW9mZnNldD0wXSBMaW5lIGRhc2ggb2Zmc2V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0LWJhY2tncm91bmQtc3Ryb2tlLW1pdGVyLWxpbWl0PTEwXSBNaXRlciBsaW1pdC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dC1iYWNrZ3JvdW5kLXN0cm9rZS13aWR0aF0gU3Ryb2tlIHBpeGVsIHdpZHRoLlxuICovXG5cbi8qKlxuICogSWNvbiBzdHlsZSBwcm9wZXJ0aWVzIGFwcGxpZWQgdG8gcG9pbnQgZmVhdHVyZXMuICBPbmUgb2YgYGljb24tc3JjYCBvciBgaWNvbi1pbWdgIG11c3QgYmUgcHJvdmlkZWQgdG8gcmVuZGVyXG4gKiBwb2ludHMgd2l0aCBhbiBpY29uLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZsYXRJY29uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2ljb24tc3JjXSBJbWFnZSBzb3VyY2UgVVJJLlxuICogQHByb3BlcnR5IHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBbaWNvbi1pbWddIEltYWdlIG9iamVjdCBmb3IgdGhlIGljb24uIElmIHRoZSBgaWNvbi1zcmNgIG9wdGlvbiBpcyBub3QgcHJvdmlkZWQgdGhlbiB0aGVcbiAqIHByb3ZpZGVkIGltYWdlIG11c3QgYWxyZWFkeSBiZSBsb2FkZWQuIEFuZCBpbiB0aGF0IGNhc2UsIGl0IGlzIHJlcXVpcmVkXG4gKiB0byBwcm92aWRlIHRoZSBzaXplIG9mIHRoZSBpbWFnZSwgd2l0aCB0aGUgYGljb24taW1nLXNpemVgIG9wdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbaWNvbi1pbWctc2l6ZV0gSW1hZ2Ugc2l6ZSBpbiBwaXhlbHMuIE9ubHkgcmVxdWlyZWQgaWYgYGljb24taW1nYCBpcyBzZXQgYW5kIGBpY29uLXNyY2AgaXMgbm90LlxuICogVGhlIHByb3ZpZGVkIHNpemUgbmVlZHMgdG8gbWF0Y2ggdGhlIGFjdHVhbCBzaXplIG9mIHRoZSBpbWFnZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2ljb24tYW5jaG9yPVswLjUsIDAuNV1dIEFuY2hvci4gRGVmYXVsdCB2YWx1ZSBpcyB0aGUgaWNvbiBjZW50ZXIuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vSWNvbi5qc1wiKS5JY29uT3JpZ2lufSBbaWNvbi1hbmNob3Itb3JpZ2luPSd0b3AtbGVmdCddIE9yaWdpbiBvZiB0aGUgYW5jaG9yOiBgYm90dG9tLWxlZnRgLCBgYm90dG9tLXJpZ2h0YCxcbiAqIGB0b3AtbGVmdGAgb3IgYHRvcC1yaWdodGAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vSWNvbi5qc1wiKS5JY29uQW5jaG9yVW5pdHN9IFtpY29uLWFuY2hvci14LXVuaXRzPSdmcmFjdGlvbiddIFVuaXRzIGluIHdoaWNoIHRoZSBhbmNob3IgeCB2YWx1ZSBpc1xuICogc3BlY2lmaWVkLiBBIHZhbHVlIG9mIGAnZnJhY3Rpb24nYCBpbmRpY2F0ZXMgdGhlIHggdmFsdWUgaXMgYSBmcmFjdGlvbiBvZiB0aGUgaWNvbi4gQSB2YWx1ZSBvZiBgJ3BpeGVscydgIGluZGljYXRlc1xuICogdGhlIHggdmFsdWUgaW4gcGl4ZWxzLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ljb24uanNcIikuSWNvbkFuY2hvclVuaXRzfSBbaWNvbi1hbmNob3IteS11bml0cz0nZnJhY3Rpb24nXSBVbml0cyBpbiB3aGljaCB0aGUgYW5jaG9yIHkgdmFsdWUgaXNcbiAqIHNwZWNpZmllZC4gQSB2YWx1ZSBvZiBgJ2ZyYWN0aW9uJ2AgaW5kaWNhdGVzIHRoZSB5IHZhbHVlIGlzIGEgZnJhY3Rpb24gb2YgdGhlIGljb24uIEEgdmFsdWUgb2YgYCdwaXhlbHMnYCBpbmRpY2F0ZXNcbiAqIHRoZSB5IHZhbHVlIGluIHBpeGVscy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8c3RyaW5nfSBbaWNvbi1jb2xvcl0gQ29sb3IgdG8gdGludCB0aGUgaWNvbi4gSWYgbm90IHNwZWNpZmllZCxcbiAqIHRoZSBpY29uIHdpbGwgYmUgbGVmdCBhcyBpcy5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxzdHJpbmd9IFtpY29uLWNyb3NzLW9yaWdpbl0gVGhlIGBjcm9zc09yaWdpbmAgYXR0cmlidXRlIGZvciBsb2FkZWQgaW1hZ2VzLiBOb3RlIHRoYXQgeW91IG11c3QgcHJvdmlkZSBhXG4gKiBgaWNvbi1jcm9zcy1vcmlnaW5gIHZhbHVlIGlmIHlvdSB3YW50IHRvIGFjY2VzcyBwaXhlbCBkYXRhIHdpdGggdGhlIENhbnZhcyByZW5kZXJlci5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfZW5hYmxlZF9pbWFnZSBmb3IgbW9yZSBkZXRhaWwuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtpY29uLW9mZnNldD1bMCwgMF1dIE9mZnNldCwgd2hpY2gsIHRvZ2V0aGVyIHdpdGggdGhlIHNpemUgYW5kIHRoZSBvZmZzZXQgb3JpZ2luLCBkZWZpbmUgdGhlXG4gKiBzdWItcmVjdGFuZ2xlIHRvIHVzZSBmcm9tIHRoZSBvcmlnaW5hbCBpY29uIGltYWdlLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbaWNvbi1kaXNwbGFjZW1lbnQ9WzAsMF1dIERpc3BsYWNlbWVudCBvZiB0aGUgaWNvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9JY29uLmpzXCIpLkljb25PcmlnaW59IFtpY29uLW9mZnNldC1vcmlnaW49J3RvcC1sZWZ0J10gT3JpZ2luIG9mIHRoZSBvZmZzZXQ6IGBib3R0b20tbGVmdGAsIGBib3R0b20tcmlnaHRgLFxuICogYHRvcC1sZWZ0YCBvciBgdG9wLXJpZ2h0YC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaWNvbi1vcGFjaXR5PTFdIE9wYWNpdHkgb2YgdGhlIGljb24uXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtpY29uLXNjYWxlPTFdIFNjYWxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtpY29uLXJvdGF0aW9uPTBdIFJvdGF0aW9uIGluIHJhZGlhbnMgKHBvc2l0aXZlIHJvdGF0aW9uIGNsb2Nrd2lzZSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpY29uLXJvdGF0ZS13aXRoLXZpZXc9ZmFsc2VdIFdoZXRoZXIgdG8gcm90YXRlIHRoZSBpY29uIHdpdGggdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW2ljb24tc2l6ZV0gSWNvbiBzaXplIGluIHBpeGVsLiBDYW4gYmUgdXNlZCB0b2dldGhlciB3aXRoIGBpY29uLW9mZnNldGAgdG8gZGVmaW5lIHRoZVxuICogc3ViLXJlY3RhbmdsZSB0byB1c2UgZnJvbSB0aGUgb3JpZ2luIChzcHJpdGUpIGljb24gaW1hZ2UuXG4gKiBAcHJvcGVydHkge1wiZGVjbHV0dGVyXCJ8XCJvYnN0YWNsZVwifFwibm9uZVwifHVuZGVmaW5lZH0gW2ljb24tZGVjbHV0dGVyLW1vZGVdIERlY2x1dHRlciBtb2RlXG4gKi9cblxuLyoqXG4gKiBSZWd1bGFyIHNoYXBlIHN0eWxlIHByb3BlcnRpZXMgZm9yIHJlbmRlcmluZyBwb2ludCBmZWF0dXJlcy4gIEF0IGxlYXN0IGBzaGFwZS1wb2ludHNgIG11c3QgYmUgcHJvdmlkZWQuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gRmxhdFNoYXBlXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NoYXBlLXBvaW50c10gTnVtYmVyIG9mIHBvaW50cyBmb3Igc3RhcnMgYW5kIHJlZ3VsYXIgcG9seWdvbnMuIEluIGNhc2Ugb2YgYSBwb2x5Z29uLCB0aGUgbnVtYmVyIG9mIHBvaW50c1xuICogaXMgdGhlIG51bWJlciBvZiBzaWRlcy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW3NoYXBlLWZpbGwtY29sb3JdIFRoZSBmaWxsIGNvbG9yLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbc2hhcGUtc3Ryb2tlLWNvbG9yXSBUaGUgc3Ryb2tlIGNvbG9yLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzaGFwZS1zdHJva2Utd2lkdGhdIFN0cm9rZSBwaXhlbCB3aWR0aC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUNhcH0gW3NoYXBlLXN0cm9rZS1saW5lLWNhcD0ncm91bmQnXSBMaW5lIGNhcCBzdHlsZTogYGJ1dHRgLCBgcm91bmRgLCBvciBgc3F1YXJlYC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IFtzaGFwZS1zdHJva2UtbGluZS1qb2luPSdyb3VuZCddIExpbmUgam9pbiBzdHlsZTogYGJldmVsYCwgYHJvdW5kYCwgb3IgYG1pdGVyYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW3NoYXBlLXN0cm9rZS1saW5lLWRhc2hdIExpbmUgZGFzaCBwYXR0ZXJuLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzaGFwZS1zdHJva2UtbGluZS1kYXNoLW9mZnNldD0wXSBMaW5lIGRhc2ggb2Zmc2V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzaGFwZS1zdHJva2UtbWl0ZXItbGltaXQ9MTBdIE1pdGVyIGxpbWl0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzaGFwZS1yYWRpdXNdIFJhZGl1cyBvZiBhIHJlZ3VsYXIgcG9seWdvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc2hhcGUtcmFkaXVzMV0gRmlyc3QgcmFkaXVzIG9mIGEgc3Rhci4gSWdub3JlZCBpZiByYWRpdXMgaXMgc2V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzaGFwZS1yYWRpdXMyXSBTZWNvbmQgcmFkaXVzIG9mIGEgc3Rhci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc2hhcGUtYW5nbGU9MF0gU2hhcGUncyBhbmdsZSBpbiByYWRpYW5zLiBBIHZhbHVlIG9mIDAgd2lsbCBoYXZlIG9uZSBvZiB0aGUgc2hhcGUncyBwb2ludCBmYWNpbmcgdXAuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IFtzaGFwZS1kaXNwbGFjZW1lbnQ9WzAsMF1dIERpc3BsYWNlbWVudCBvZiB0aGUgc2hhcGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc2hhcGUtcm90YXRpb249MF0gUm90YXRpb24gaW4gcmFkaWFucyAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NoYXBlLXJvdGF0ZS13aXRoLXZpZXc9ZmFsc2VdIFdoZXRoZXIgdG8gcm90YXRlIHRoZSBzaGFwZSB3aXRoIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2hhcGUtc2NhbGU9MV0gU2NhbGUuIFVubGVzcyB0d28gZGltZW5zaW9uYWwgc2NhbGluZyBpcyByZXF1aXJlZCBhIGJldHRlclxuICogcmVzdWx0IG1heSBiZSBvYnRhaW5lZCB3aXRoIGFwcHJvcHJpYXRlIHNldHRpbmdzIGZvciBgc2hhcGUtcmFkaXVzYCwgYHNoYXBlLXJhZGl1czFgIGFuZCBgc2hhcGUtcmFkaXVzMmAuXG4gKiBAcHJvcGVydHkge1wiZGVjbHV0dGVyXCJ8XCJvYnN0YWNsZVwifFwibm9uZVwifHVuZGVmaW5lZH0gW3NoYXBlLWRlY2x1dHRlci1tb2RlXSBEZWNsdXR0ZXIgbW9kZS5cbiAqL1xuXG4vKipcbiAqIENpcmNsZSBzdHlsZSBwcm9wZXJ0aWVzIGZvciByZW5kZXJpbmcgcG9pbnQgZmVhdHVyZXMuICBBdCBsZWFzdCBgY2lyY2xlLXJhZGl1c2AgbXVzdCBiZSBwcm92aWRlZC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGbGF0Q2lyY2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NpcmNsZS1yYWRpdXNdIENpcmNsZSByYWRpdXMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtjaXJjbGUtZmlsbC1jb2xvcl0gVGhlIGZpbGwgY29sb3IuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtjaXJjbGUtc3Ryb2tlLWNvbG9yXSBUaGUgc3Ryb2tlIGNvbG9yLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjaXJjbGUtc3Ryb2tlLXdpZHRoXSBTdHJva2UgcGl4ZWwgd2lkdGguXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IFtjaXJjbGUtc3Ryb2tlLWxpbmUtY2FwPSdyb3VuZCddIExpbmUgY2FwIHN0eWxlOiBgYnV0dGAsIGByb3VuZGAsIG9yIGBzcXVhcmVgLlxuICogQHByb3BlcnR5IHtDYW52YXNMaW5lSm9pbn0gW2NpcmNsZS1zdHJva2UtbGluZS1qb2luPSdyb3VuZCddIExpbmUgam9pbiBzdHlsZTogYGJldmVsYCwgYHJvdW5kYCwgb3IgYG1pdGVyYC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2NpcmNsZS1zdHJva2UtbGluZS1kYXNoXSBMaW5lIGRhc2ggcGF0dGVybi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY2lyY2xlLXN0cm9rZS1saW5lLWRhc2gtb2Zmc2V0PTBdIExpbmUgZGFzaCBvZmZzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NpcmNsZS1zdHJva2UtbWl0ZXItbGltaXQ9MTBdIE1pdGVyIGxpbWl0LlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbY2lyY2xlLWRpc3BsYWNlbWVudD1bMCwwXV0gZGlzcGxhY2VtZW50XG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtjaXJjbGUtc2NhbGU9MV0gU2NhbGUuIEEgdHdvIGRpbWVuc2lvbmFsIHNjYWxlIHdpbGwgcHJvZHVjZSBhbiBlbGxpcHNlLlxuICogVW5sZXNzIHR3byBkaW1lbnNpb25hbCBzY2FsaW5nIGlzIHJlcXVpcmVkIGEgYmV0dGVyIHJlc3VsdCBtYXkgYmUgb2J0YWluZWQgd2l0aCBhbiBhcHByb3ByaWF0ZSBzZXR0aW5nIGZvciBgY2lyY2xlLXJhZGl1c2AuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NpcmNsZS1yb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zXG4gKiAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlLCBtZWFuaW5nZnVsIG9ubHkgd2hlbiB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYSB0d28gZGltZW5zaW9uYWwgc2NhbGUpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbY2lyY2xlLXJvdGF0ZS13aXRoLXZpZXc9ZmFsc2VdIFdoZXRoZXIgdG8gcm90YXRlIHRoZSBzaGFwZSB3aXRoIHRoZSB2aWV3XG4gKiAobWVhbmluZ2Z1bCBvbmx5IHdoZW4gdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgdHdvIGRpbWVuc2lvbmFsIHNjYWxlKS5cbiAqIEBwcm9wZXJ0eSB7XCJkZWNsdXR0ZXJcInxcIm9ic3RhY2xlXCJ8XCJub25lXCJ8dW5kZWZpbmVkfSBbY2lyY2xlLWRlY2x1dHRlci1tb2RlXSBEZWNsdXR0ZXIgbW9kZVxuICovXG5cbi8qKlxuICogQHBhcmFtIHtGbGF0U3R5bGV9IGZsYXRTdHlsZSBBIGZsYXQgc3R5bGUgbGl0ZXJhbC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vU3R5bGUuanNcIikuZGVmYXVsdH0gQSBzdHlsZSBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3R5bGUoZmxhdFN0eWxlKSB7XG4gIGNvbnN0IHN0eWxlID0gbmV3IFN0eWxlKHtcbiAgICBmaWxsOiBnZXRGaWxsKGZsYXRTdHlsZSwgJycpLFxuICAgIHN0cm9rZTogZ2V0U3Ryb2tlKGZsYXRTdHlsZSwgJycpLFxuICAgIHRleHQ6IGdldFRleHQoZmxhdFN0eWxlKSxcbiAgICBpbWFnZTogZ2V0SW1hZ2UoZmxhdFN0eWxlKSxcbiAgfSk7XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RmxhdFN0eWxlfSBmbGF0U3R5bGUgVGhlIGZsYXQgc3R5bGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4IFRoZSBwcm9wZXJ0eSBwcmVmaXguXG4gKiBAcmV0dXJuIHtGaWxsfHVuZGVmaW5lZH0gVGhlIGZpbGwgKGlmIGFueSkuXG4gKi9cbmZ1bmN0aW9uIGdldEZpbGwoZmxhdFN0eWxlLCBwcmVmaXgpIHtcbiAgY29uc3QgY29sb3IgPSBmbGF0U3R5bGVbcHJlZml4ICsgJ2ZpbGwtY29sb3InXTtcbiAgaWYgKCFjb2xvcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiBuZXcgRmlsbCh7Y29sb3I6IGNvbG9yfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtGbGF0U3R5bGV9IGZsYXRTdHlsZSBUaGUgZmxhdCBzdHlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggVGhlIHByb3BlcnR5IHByZWZpeC5cbiAqIEByZXR1cm4ge1N0cm9rZXx1bmRlZmluZWR9IFRoZSBzdHJva2UgKGlmIGFueSkuXG4gKi9cbmZ1bmN0aW9uIGdldFN0cm9rZShmbGF0U3R5bGUsIHByZWZpeCkge1xuICBjb25zdCB3aWR0aCA9IGZsYXRTdHlsZVtwcmVmaXggKyAnc3Ryb2tlLXdpZHRoJ107XG4gIGNvbnN0IGNvbG9yID0gZmxhdFN0eWxlW3ByZWZpeCArICdzdHJva2UtY29sb3InXTtcbiAgaWYgKCF3aWR0aCAmJiAhY29sb3IpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gbmV3IFN0cm9rZSh7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGNvbG9yOiBjb2xvcixcbiAgICBsaW5lQ2FwOiBmbGF0U3R5bGVbcHJlZml4ICsgJ3N0cm9rZS1saW5lLWNhcCddLFxuICAgIGxpbmVKb2luOiBmbGF0U3R5bGVbcHJlZml4ICsgJ3N0cm9rZS1saW5lLWpvaW4nXSxcbiAgICBsaW5lRGFzaDogZmxhdFN0eWxlW3ByZWZpeCArICdzdHJva2UtbGluZS1kYXNoJ10sXG4gICAgbGluZURhc2hPZmZzZXQ6IGZsYXRTdHlsZVtwcmVmaXggKyAnc3Ryb2tlLWxpbmUtZGFzaC1vZmZzZXQnXSxcbiAgICBtaXRlckxpbWl0OiBmbGF0U3R5bGVbcHJlZml4ICsgJ3N0cm9rZS1taXRlci1saW1pdCddLFxuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0ZsYXRTdHlsZX0gZmxhdFN0eWxlIFRoZSBmbGF0IHN0eWxlLlxuICogQHJldHVybiB7VGV4dHx1bmRlZmluZWR9IFRoZSB0ZXh0IChpZiBhbnkpLlxuICovXG5mdW5jdGlvbiBnZXRUZXh0KGZsYXRTdHlsZSkge1xuICBjb25zdCB2YWx1ZSA9IGZsYXRTdHlsZVsndGV4dC12YWx1ZSddO1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgdGV4dCA9IG5ldyBUZXh0KHtcbiAgICB0ZXh0OiB2YWx1ZSxcbiAgICBmb250OiBmbGF0U3R5bGVbJ3RleHQtZm9udCddLFxuICAgIG1heEFuZ2xlOiBmbGF0U3R5bGVbJ3RleHQtbWF4LWFuZ2xlJ10sXG4gICAgb2Zmc2V0WDogZmxhdFN0eWxlWyd0ZXh0LW9mZnNldC14J10sXG4gICAgb2Zmc2V0WTogZmxhdFN0eWxlWyd0ZXh0LW9mZnNldC15J10sXG4gICAgb3ZlcmZsb3c6IGZsYXRTdHlsZVsndGV4dC1vdmVyZmxvdyddLFxuICAgIHBsYWNlbWVudDogZmxhdFN0eWxlWyd0ZXh0LXBsYWNlbWVudCddLFxuICAgIHNjYWxlOiBmbGF0U3R5bGVbJ3RleHQtc2NhbGUnXSxcbiAgICByb3RhdGVXaXRoVmlldzogZmxhdFN0eWxlWyd0ZXh0LXJvdGF0ZS13aXRoLXZpZXcnXSxcbiAgICByb3RhdGlvbjogZmxhdFN0eWxlWyd0ZXh0LXJvdGF0aW9uJ10sXG4gICAgdGV4dEFsaWduOiBmbGF0U3R5bGVbJ3RleHQtYWxpZ24nXSxcbiAgICBqdXN0aWZ5OiBmbGF0U3R5bGVbJ3RleHQtanVzdGlmeSddLFxuICAgIHRleHRCYXNlbGluZTogZmxhdFN0eWxlWyd0ZXh0LWJhc2VsaW5lJ10sXG4gICAgcGFkZGluZzogZmxhdFN0eWxlWyd0ZXh0LXBhZGRpbmcnXSxcbiAgICBmaWxsOiBnZXRGaWxsKGZsYXRTdHlsZSwgJ3RleHQtJyksXG4gICAgYmFja2dyb3VuZEZpbGw6IGdldEZpbGwoZmxhdFN0eWxlLCAndGV4dC1iYWNrZ3JvdW5kLScpLFxuICAgIHN0cm9rZTogZ2V0U3Ryb2tlKGZsYXRTdHlsZSwgJ3RleHQtJyksXG4gICAgYmFja2dyb3VuZFN0cm9rZTogZ2V0U3Ryb2tlKGZsYXRTdHlsZSwgJ3RleHQtYmFja2dyb3VuZC0nKSxcbiAgfSk7XG5cbiAgcmV0dXJuIHRleHQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtGbGF0U3R5bGV9IGZsYXRTdHlsZSBUaGUgZmxhdCBzdHlsZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vSW1hZ2UuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9IFRoZSBpbWFnZSAoaWYgYW55KS5cbiAqL1xuZnVuY3Rpb24gZ2V0SW1hZ2UoZmxhdFN0eWxlKSB7XG4gIGNvbnN0IGljb25TcmMgPSBmbGF0U3R5bGVbJ2ljb24tc3JjJ107XG4gIGNvbnN0IGljb25JbWcgPSBmbGF0U3R5bGVbJ2ljb24taW1nJ107XG4gIGlmIChpY29uU3JjIHx8IGljb25JbWcpIHtcbiAgICBjb25zdCBpY29uID0gbmV3IEljb24oe1xuICAgICAgc3JjOiBpY29uU3JjLFxuICAgICAgaW1nOiBpY29uSW1nLFxuICAgICAgaW1nU2l6ZTogZmxhdFN0eWxlWydpY29uLWltZy1zaXplJ10sXG4gICAgICBhbmNob3I6IGZsYXRTdHlsZVsnaWNvbi1hbmNob3InXSxcbiAgICAgIGFuY2hvck9yaWdpbjogZmxhdFN0eWxlWydpY29uLWFuY2hvci1vcmlnaW4nXSxcbiAgICAgIGFuY2hvclhVbml0czogZmxhdFN0eWxlWydpY29uLWFuY2hvci14LXVuaXRzJ10sXG4gICAgICBhbmNob3JZVW5pdHM6IGZsYXRTdHlsZVsnaWNvbi1hbmNob3IteS11bml0cyddLFxuICAgICAgY29sb3I6IGZsYXRTdHlsZVsnaWNvbi1jb2xvciddLFxuICAgICAgY3Jvc3NPcmlnaW46IGZsYXRTdHlsZVsnaWNvbi1jcm9zcy1vcmlnaW4nXSxcbiAgICAgIG9mZnNldDogZmxhdFN0eWxlWydpY29uLW9mZnNldCddLFxuICAgICAgZGlzcGxhY2VtZW50OiBmbGF0U3R5bGVbJ2ljb24tZGlzcGxhY2VtZW50J10sXG4gICAgICBvcGFjaXR5OiBmbGF0U3R5bGVbJ2ljb24tb3BhY2l0eSddLFxuICAgICAgc2NhbGU6IGZsYXRTdHlsZVsnaWNvbi1zY2FsZSddLFxuICAgICAgcm90YXRpb246IGZsYXRTdHlsZVsnaWNvbi1yb3RhdGlvbiddLFxuICAgICAgcm90YXRlV2l0aFZpZXc6IGZsYXRTdHlsZVsnaWNvbi1yb3RhdGUtd2l0aC12aWV3J10sXG4gICAgICBzaXplOiBmbGF0U3R5bGVbJ2ljb24tc2l6ZSddLFxuICAgICAgZGVjbHV0dGVyTW9kZTogZmxhdFN0eWxlWydpY29uLWRlY2x1dHRlci1tb2RlJ10sXG4gICAgfSk7XG4gICAgcmV0dXJuIGljb247XG4gIH1cblxuICBjb25zdCBzaGFwZVBvaW50cyA9IGZsYXRTdHlsZVsnc2hhcGUtcG9pbnRzJ107XG4gIGlmIChzaGFwZVBvaW50cykge1xuICAgIGNvbnN0IHByZWZpeCA9ICdzaGFwZS0nO1xuICAgIGNvbnN0IHNoYXBlID0gbmV3IFJlZ3VsYXJTaGFwZSh7XG4gICAgICBwb2ludHM6IHNoYXBlUG9pbnRzLFxuICAgICAgZmlsbDogZ2V0RmlsbChmbGF0U3R5bGUsIHByZWZpeCksXG4gICAgICBzdHJva2U6IGdldFN0cm9rZShmbGF0U3R5bGUsIHByZWZpeCksXG4gICAgICByYWRpdXM6IGZsYXRTdHlsZVsnc2hhcGUtcmFkaXVzJ10sXG4gICAgICByYWRpdXMxOiBmbGF0U3R5bGVbJ3NoYXBlLXJhZGl1czEnXSxcbiAgICAgIHJhZGl1czI6IGZsYXRTdHlsZVsnc2hhcGUtcmFkaXVzMiddLFxuICAgICAgYW5nbGU6IGZsYXRTdHlsZVsnc2hhcGUtYW5nbGUnXSxcbiAgICAgIGRpc3BsYWNlbWVudDogZmxhdFN0eWxlWydzaGFwZS1kaXNwbGFjZW1lbnQnXSxcbiAgICAgIHJvdGF0aW9uOiBmbGF0U3R5bGVbJ3NoYXBlLXJvdGF0aW9uJ10sXG4gICAgICByb3RhdGVXaXRoVmlldzogZmxhdFN0eWxlWydzaGFwZS1yb3RhdGUtd2l0aC12aWV3J10sXG4gICAgICBzY2FsZTogZmxhdFN0eWxlWydzaGFwZS1zY2FsZSddLFxuICAgICAgZGVjbHV0dGVyTW9kZTogZmxhdFN0eWxlWydzaGFwZS1kZWNsdXR0ZXItbW9kZSddLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNoYXBlO1xuICB9XG5cbiAgY29uc3QgY2lyY2xlUmFkaXVzID0gZmxhdFN0eWxlWydjaXJjbGUtcmFkaXVzJ107XG4gIGlmIChjaXJjbGVSYWRpdXMpIHtcbiAgICBjb25zdCBwcmVmaXggPSAnY2lyY2xlLSc7XG4gICAgY29uc3QgY2lyY2xlID0gbmV3IENpcmNsZSh7XG4gICAgICByYWRpdXM6IGNpcmNsZVJhZGl1cyxcbiAgICAgIGZpbGw6IGdldEZpbGwoZmxhdFN0eWxlLCBwcmVmaXgpLFxuICAgICAgc3Ryb2tlOiBnZXRTdHJva2UoZmxhdFN0eWxlLCBwcmVmaXgpLFxuICAgICAgZGlzcGxhY2VtZW50OiBmbGF0U3R5bGVbJ2NpcmNsZS1kaXNwbGFjZW1lbnQnXSxcbiAgICAgIHNjYWxlOiBmbGF0U3R5bGVbJ2NpcmNsZS1zY2FsZSddLFxuICAgICAgcm90YXRpb246IGZsYXRTdHlsZVsnY2lyY2xlLXJvdGF0aW9uJ10sXG4gICAgICByb3RhdGVXaXRoVmlldzogZmxhdFN0eWxlWydjaXJjbGUtcm90YXRlLXdpdGgtdmlldyddLFxuICAgICAgZGVjbHV0dGVyTW9kZTogZmxhdFN0eWxlWydjaXJjbGUtZGVjbHV0dGVyLW1vZGUnXSxcbiAgICB9KTtcblxuICAgIHJldHVybiBjaXJjbGU7XG4gIH1cblxuICByZXR1cm47XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvbGF5ZXIvQmFzZVZlY3RvclxuICovXG5pbXBvcnQgTGF5ZXIgZnJvbSAnLi9MYXllci5qcyc7XG5pbXBvcnQgUkJ1c2ggZnJvbSAncmJ1c2gnO1xuaW1wb3J0IFN0eWxlLCB7XG4gIGNyZWF0ZURlZmF1bHRTdHlsZSxcbiAgdG9GdW5jdGlvbiBhcyB0b1N0eWxlRnVuY3Rpb24sXG59IGZyb20gJy4uL3N0eWxlL1N0eWxlLmpzJztcbmltcG9ydCB7dG9TdHlsZX0gZnJvbSAnLi4vc3R5bGUvZmxhdC5qcyc7XG5cbi8qKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vc291cmNlL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gVmVjdG9yU291cmNlVHlwZVxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjbGFzc05hbWU9J29sLWxheWVyJ10gQSBDU1MgY2xhc3MgbmFtZSB0byBzZXQgdG8gdGhlIGxheWVyIGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29wYWNpdHk9MV0gT3BhY2l0eSAoMCwgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2aXNpYmxlPXRydWVdIFZpc2liaWxpdHkuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSBib3VuZGluZyBleHRlbnQgZm9yIGxheWVyIHJlbmRlcmluZy4gIFRoZSBsYXllciB3aWxsIG5vdCBiZVxuICogcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGlzIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBUaGUgei1pbmRleCBmb3IgbGF5ZXIgcmVuZGVyaW5nLiAgQXQgcmVuZGVyaW5nIHRpbWUsIHRoZSBsYXllcnNcbiAqIHdpbGwgYmUgb3JkZXJlZCwgZmlyc3QgYnkgWi1pbmRleCBhbmQgdGhlbiBieSBwb3NpdGlvbi4gV2hlbiBgdW5kZWZpbmVkYCwgYSBgekluZGV4YCBvZiAwIGlzIGFzc3VtZWRcbiAqIGZvciBsYXllcnMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIG1hcCdzIGBsYXllcnNgIGNvbGxlY3Rpb24sIG9yIGBJbmZpbml0eWAgd2hlbiB0aGUgbGF5ZXIncyBgc2V0TWFwKClgXG4gKiBtZXRob2Qgd2FzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblJlc29sdXRpb25dIFRoZSBtaW5pbXVtIHJlc29sdXRpb24gKGluY2x1c2l2ZSkgYXQgd2hpY2ggdGhpcyBsYXllciB3aWxsIGJlXG4gKiB2aXNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBUaGUgbWF4aW11bSByZXNvbHV0aW9uIChleGNsdXNpdmUpIGJlbG93IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbV0gVGhlIG1pbmltdW0gdmlldyB6b29tIGxldmVsIChleGNsdXNpdmUpIGFib3ZlIHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gVGhlIG1heGltdW0gdmlldyB6b29tIGxldmVsIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbFxuICogYmUgdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcmVuZGVyLmpzXCIpLk9yZGVyRnVuY3Rpb259IFtyZW5kZXJPcmRlcl0gUmVuZGVyIG9yZGVyLiBGdW5jdGlvbiB0byBiZSB1c2VkIHdoZW4gc29ydGluZ1xuICogZmVhdHVyZXMgYmVmb3JlIHJlbmRlcmluZy4gQnkgZGVmYXVsdCBmZWF0dXJlcyBhcmUgZHJhd24gaW4gdGhlIG9yZGVyIHRoYXQgdGhleSBhcmUgY3JlYXRlZC4gVXNlXG4gKiBgbnVsbGAgdG8gYXZvaWQgdGhlIHNvcnQsIGJ1dCBnZXQgYW4gdW5kZWZpbmVkIGRyYXcgb3JkZXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JlbmRlckJ1ZmZlcj0xMDBdIFRoZSBidWZmZXIgaW4gcGl4ZWxzIGFyb3VuZCB0aGUgdmlld3BvcnQgZXh0ZW50IHVzZWQgYnkgdGhlXG4gKiByZW5kZXJlciB3aGVuIGdldHRpbmcgZmVhdHVyZXMgZnJvbSB0aGUgdmVjdG9yIHNvdXJjZSBmb3IgdGhlIHJlbmRlcmluZyBvciBoaXQtZGV0ZWN0aW9uLlxuICogUmVjb21tZW5kZWQgdmFsdWU6IHRoZSBzaXplIG9mIHRoZSBsYXJnZXN0IHN5bWJvbCwgbGluZSB3aWR0aCBvciBsYWJlbC5cbiAqIEBwcm9wZXJ0eSB7VmVjdG9yU291cmNlVHlwZX0gW3NvdXJjZV0gU291cmNlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdH0gW21hcF0gU2V0cyB0aGUgbGF5ZXIgYXMgb3ZlcmxheSBvbiBhIG1hcC4gVGhlIG1hcCB3aWxsIG5vdCBtYW5hZ2VcbiAqIHRoaXMgbGF5ZXIgaW4gaXRzIGxheWVycyBjb2xsZWN0aW9uLCBhbmQgdGhlIGxheWVyIHdpbGwgYmUgcmVuZGVyZWQgb24gdG9wLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAqIHRlbXBvcmFyeSBsYXllcnMuIFRoZSBzdGFuZGFyZCB3YXkgdG8gYWRkIGEgbGF5ZXIgdG8gYSBtYXAgYW5kIGhhdmUgaXQgbWFuYWdlZCBieSB0aGUgbWFwIGlzIHRvXG4gKiB1c2UgW21hcC5hZGRMYXllcigpXXtAbGluayBpbXBvcnQoXCIuLi9NYXAuanNcIikuZGVmYXVsdCNhZGRMYXllcn0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtkZWNsdXR0ZXI9ZmFsc2VdIERlY2x1dHRlciBpbWFnZXMgYW5kIHRleHQuIERlY2x1dHRlcmluZyBpcyBhcHBsaWVkIHRvIGFsbFxuICogaW1hZ2UgYW5kIHRleHQgc3R5bGVzIG9mIGFsbCBWZWN0b3IgYW5kIFZlY3RvclRpbGUgbGF5ZXJzIHRoYXQgaGF2ZSBzZXQgdGhpcyB0byBgdHJ1ZWAuIFRoZSBwcmlvcml0eVxuICogaXMgZGVmaW5lZCBieSB0aGUgei1pbmRleCBvZiB0aGUgbGF5ZXIsIHRoZSBgekluZGV4YCBvZiB0aGUgc3R5bGUgYW5kIHRoZSByZW5kZXIgb3JkZXIgb2YgZmVhdHVyZXMuXG4gKiBIaWdoZXIgei1pbmRleCBtZWFucyBoaWdoZXIgcHJpb3JpdHkuIFdpdGhpbiB0aGUgc2FtZSB6LWluZGV4LCBhIGZlYXR1cmUgcmVuZGVyZWQgYmVmb3JlIGFub3RoZXIgaGFzXG4gKiBoaWdoZXIgcHJpb3JpdHkuXG4gKlxuICogQXMgYW4gb3B0aW1pemF0aW9uIGRlY2x1dHRlcmVkIGZlYXR1cmVzIGZyb20gbGF5ZXJzIHdpdGggdGhlIHNhbWUgYGNsYXNzTmFtZWAgYXJlIHJlbmRlcmVkIGFib3ZlXG4gKiB0aGUgZmlsbCBhbmQgc3Ryb2tlIHN0eWxlcyBvZiBhbGwgb2YgdGhvc2UgbGF5ZXJzIHJlZ2FyZGxlc3Mgb2Ygei1pbmRleC4gIFRvIG9wdCBvdXQgb2YgdGhpc1xuICogYmVoYXZpb3IgYW5kIHBsYWNlIGRlY2x1dHRlcmQgZmVhdHVyZXMgd2l0aCB0aGVpciBvd24gbGF5ZXIgY29uZmlndXJlIHRoZSBsYXllciB3aXRoIGEgYGNsYXNzTmFtZWBcbiAqIG90aGVyIHRoYW4gYG9sLWxheWVyYC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVMaWtlfGltcG9ydChcIi4uL3N0eWxlL2ZsYXQuanNcIikuRmxhdFN0eWxlTGlrZXxudWxsfSBbc3R5bGVdIExheWVyIHN0eWxlLiBXaGVuIHNldCB0byBgbnVsbGAsIG9ubHlcbiAqIGZlYXR1cmVzIHRoYXQgaGF2ZSB0aGVpciBvd24gc3R5bGUgd2lsbCBiZSByZW5kZXJlZC4gU2VlIHtAbGluayBtb2R1bGU6b2wvc3R5bGUvU3R5bGV+U3R5bGV9IGZvciB0aGUgZGVmYXVsdCBzdHlsZVxuICogd2hpY2ggd2lsbCBiZSB1c2VkIGlmIHRoaXMgaXMgbm90IHNldC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9CYXNlLmpzXCIpLkJhY2tncm91bmRDb2xvcn0gW2JhY2tncm91bmRdIEJhY2tncm91bmQgY29sb3IgZm9yIHRoZSBsYXllci4gSWYgbm90IHNwZWNpZmllZCwgbm8gYmFja2dyb3VuZFxuICogd2lsbCBiZSByZW5kZXJlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VwZGF0ZVdoaWxlQW5pbWF0aW5nPWZhbHNlXSBXaGVuIHNldCB0byBgdHJ1ZWAsIGZlYXR1cmUgYmF0Y2hlcyB3aWxsXG4gKiBiZSByZWNyZWF0ZWQgZHVyaW5nIGFuaW1hdGlvbnMuIFRoaXMgbWVhbnMgdGhhdCBubyB2ZWN0b3JzIHdpbGwgYmUgc2hvd24gY2xpcHBlZCwgYnV0IHRoZVxuICogc2V0dGluZyB3aWxsIGhhdmUgYSBwZXJmb3JtYW5jZSBpbXBhY3QgZm9yIGxhcmdlIGFtb3VudHMgb2YgdmVjdG9yIGRhdGEuIFdoZW4gc2V0IHRvIGBmYWxzZWAsXG4gKiBiYXRjaGVzIHdpbGwgYmUgcmVjcmVhdGVkIHdoZW4gbm8gYW5pbWF0aW9uIGlzIGFjdGl2ZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VwZGF0ZVdoaWxlSW50ZXJhY3Rpbmc9ZmFsc2VdIFdoZW4gc2V0IHRvIGB0cnVlYCwgZmVhdHVyZSBiYXRjaGVzIHdpbGxcbiAqIGJlIHJlY3JlYXRlZCBkdXJpbmcgaW50ZXJhY3Rpb25zLiBTZWUgYWxzbyBgdXBkYXRlV2hpbGVBbmltYXRpbmdgLlxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCAqPn0gW3Byb3BlcnRpZXNdIEFyYml0cmFyeSBvYnNlcnZhYmxlIHByb3BlcnRpZXMuIENhbiBiZSBhY2Nlc3NlZCB3aXRoIGAjZ2V0KClgIGFuZCBgI3NldCgpYC5cbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBQcm9wZXJ0eSA9IHtcbiAgUkVOREVSX09SREVSOiAncmVuZGVyT3JkZXInLFxufTtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBWZWN0b3IgZGF0YSB0aGF0IGlzIHJlbmRlcmVkIGNsaWVudC1zaWRlLlxuICogTm90ZSB0aGF0IGFueSBwcm9wZXJ0eSBzZXQgaW4gdGhlIG9wdGlvbnMgaXMgc2V0IGFzIGEge0BsaW5rIG1vZHVsZTpvbC9PYmplY3R+QmFzZU9iamVjdH1cbiAqIHByb3BlcnR5IG9uIHRoZSBsYXllciBvYmplY3Q7IGZvciBleGFtcGxlLCBzZXR0aW5nIGB0aXRsZTogJ015IFRpdGxlJ2AgaW4gdGhlXG4gKiBvcHRpb25zIG1lYW5zIHRoYXQgYHRpdGxlYCBpcyBvYnNlcnZhYmxlLCBhbmQgaGFzIGdldC9zZXQgYWNjZXNzb3JzLlxuICpcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vc291cmNlL1ZlY3Rvci5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3NvdXJjZS9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9IFZlY3RvclNvdXJjZVR5cGVcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vcmVuZGVyZXIvY2FudmFzL1ZlY3RvckxheWVyLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyZXIvY2FudmFzL1ZlY3RvclRpbGVMYXllci5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlcmVyL2NhbnZhcy9WZWN0b3JJbWFnZUxheWVyLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyZXIvd2ViZ2wvUG9pbnRzTGF5ZXIuanNcIikuZGVmYXVsdH0gUmVuZGVyZXJUeXBlXG4gKiBAZXh0ZW5kcyB7TGF5ZXI8VmVjdG9yU291cmNlVHlwZSwgUmVuZGVyZXJUeXBlPn1cbiAqIEBhcGlcbiAqL1xuY2xhc3MgQmFzZVZlY3RvckxheWVyIGV4dGVuZHMgTGF5ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zPFZlY3RvclNvdXJjZVR5cGU+fSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcblxuICAgIGNvbnN0IGJhc2VPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG5cbiAgICBkZWxldGUgYmFzZU9wdGlvbnMuc3R5bGU7XG4gICAgZGVsZXRlIGJhc2VPcHRpb25zLnJlbmRlckJ1ZmZlcjtcbiAgICBkZWxldGUgYmFzZU9wdGlvbnMudXBkYXRlV2hpbGVBbmltYXRpbmc7XG4gICAgZGVsZXRlIGJhc2VPcHRpb25zLnVwZGF0ZVdoaWxlSW50ZXJhY3Rpbmc7XG4gICAgc3VwZXIoYmFzZU9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmRlY2x1dHRlcl8gPVxuICAgICAgb3B0aW9ucy5kZWNsdXR0ZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZGVjbHV0dGVyIDogZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJCdWZmZXJfID1cbiAgICAgIG9wdGlvbnMucmVuZGVyQnVmZmVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJlbmRlckJ1ZmZlciA6IDEwMDtcblxuICAgIC8qKlxuICAgICAqIFVzZXIgcHJvdmlkZWQgc3R5bGUuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc3R5bGVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFN0eWxlIGZ1bmN0aW9uIGZvciB1c2Ugd2l0aGluIHRoZSBsaWJyYXJ5LlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc3R5bGVGdW5jdGlvbl8gPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLnNldFN0eWxlKG9wdGlvbnMuc3R5bGUpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnVwZGF0ZVdoaWxlQW5pbWF0aW5nXyA9XG4gICAgICBvcHRpb25zLnVwZGF0ZVdoaWxlQW5pbWF0aW5nICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLnVwZGF0ZVdoaWxlQW5pbWF0aW5nXG4gICAgICAgIDogZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudXBkYXRlV2hpbGVJbnRlcmFjdGluZ18gPVxuICAgICAgb3B0aW9ucy51cGRhdGVXaGlsZUludGVyYWN0aW5nICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBvcHRpb25zLnVwZGF0ZVdoaWxlSW50ZXJhY3RpbmdcbiAgICAgICAgOiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBEZWNsdXR0ZXIuXG4gICAqL1xuICBnZXREZWNsdXR0ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjbHV0dGVyXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRvcG1vc3QgZmVhdHVyZSB0aGF0IGludGVyc2VjdHMgdGhlIGdpdmVuIHBpeGVsIG9uIHRoZSB2aWV3cG9ydC4gUmV0dXJucyBhIHByb21pc2VcbiAgICogdGhhdCByZXNvbHZlcyB3aXRoIGFuIGFycmF5IG9mIGZlYXR1cmVzLiBUaGUgYXJyYXkgd2lsbCBlaXRoZXIgY29udGFpbiB0aGUgdG9wbW9zdCBmZWF0dXJlXG4gICAqIHdoZW4gYSBoaXQgd2FzIGRldGVjdGVkLCBvciBpdCB3aWxsIGJlIGVtcHR5LlxuICAgKlxuICAgKiBUaGUgaGl0IGRldGVjdGlvbiBhbGdvcml0aG0gdXNlZCBmb3IgdGhpcyBtZXRob2QgaXMgb3B0aW1pemVkIGZvciBwZXJmb3JtYW5jZSwgYnV0IGlzIGxlc3NcbiAgICogYWNjdXJhdGUgdGhhbiB0aGUgb25lIHVzZWQgaW4gW21hcC5nZXRGZWF0dXJlc0F0UGl4ZWwoKV17QGxpbmsgaW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHQjZ2V0RmVhdHVyZXNBdFBpeGVsfS5cbiAgICogVGV4dCBpcyBub3QgY29uc2lkZXJlZCwgYW5kIGljb25zIGFyZSBvbmx5IHJlcHJlc2VudGVkIGJ5IHRoZWlyIGJvdW5kaW5nIGJveCBpbnN0ZWFkIG9mIHRoZSBleGFjdFxuICAgKiBpbWFnZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZVwiKS5GZWF0dXJlTGlrZT4+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhbiBhcnJheSBvZiBmZWF0dXJlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RmVhdHVyZXMocGl4ZWwpIHtcbiAgICByZXR1cm4gc3VwZXIuZ2V0RmVhdHVyZXMocGl4ZWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJlbmRlciBidWZmZXIuXG4gICAqL1xuICBnZXRSZW5kZXJCdWZmZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyQnVmZmVyXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQsIGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdCk6IG51bWJlcnxudWxsfHVuZGVmaW5lZH0gUmVuZGVyXG4gICAqICAgICBvcmRlci5cbiAgICovXG4gIGdldFJlbmRlck9yZGVyKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci5qc1wiKS5PcmRlckZ1bmN0aW9ufG51bGx8dW5kZWZpbmVkfSAqLyAoXG4gICAgICB0aGlzLmdldChQcm9wZXJ0eS5SRU5ERVJfT1JERVIpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0eWxlIGZvciBmZWF0dXJlcy4gIFRoaXMgcmV0dXJucyB3aGF0ZXZlciB3YXMgcGFzc2VkIHRvIHRoZSBgc3R5bGVgXG4gICAqIG9wdGlvbiBhdCBjb25zdHJ1Y3Rpb24gb3IgdG8gdGhlIGBzZXRTdHlsZWAgbWV0aG9kLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V8bnVsbHx1bmRlZmluZWR9IExheWVyIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRTdHlsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzdHlsZSBmdW5jdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVGdW5jdGlvbnx1bmRlZmluZWR9IExheWVyIHN0eWxlIGZ1bmN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRTdHlsZUZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnN0eWxlRnVuY3Rpb25fO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHJlbmRlcmVkIGxheWVyIHNob3VsZCBiZSB1cGRhdGVkIHdoaWxlXG4gICAqICAgICBhbmltYXRpbmcuXG4gICAqL1xuICBnZXRVcGRhdGVXaGlsZUFuaW1hdGluZygpIHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVXaGlsZUFuaW1hdGluZ187XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcmVuZGVyZWQgbGF5ZXIgc2hvdWxkIGJlIHVwZGF0ZWQgd2hpbGVcbiAgICogICAgIGludGVyYWN0aW5nLlxuICAgKi9cbiAgZ2V0VXBkYXRlV2hpbGVJbnRlcmFjdGluZygpIHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVXaGlsZUludGVyYWN0aW5nXztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgZGVjbHV0dGVyIGl0ZW1zIGZvciB0aGlzIGxheWVyXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqL1xuICByZW5kZXJEZWNsdXR0ZXIoZnJhbWVTdGF0ZSkge1xuICAgIGlmICghZnJhbWVTdGF0ZS5kZWNsdXR0ZXJUcmVlKSB7XG4gICAgICBmcmFtZVN0YXRlLmRlY2x1dHRlclRyZWUgPSBuZXcgUkJ1c2goOSk7XG4gICAgfVxuICAgIC8qKiBAdHlwZSB7Kn0gKi8gKHRoaXMuZ2V0UmVuZGVyZXIoKSkucmVuZGVyRGVjbHV0dGVyKGZyYW1lU3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyLmpzXCIpLk9yZGVyRnVuY3Rpb258bnVsbHx1bmRlZmluZWR9IHJlbmRlck9yZGVyXG4gICAqICAgICBSZW5kZXIgb3JkZXIuXG4gICAqL1xuICBzZXRSZW5kZXJPcmRlcihyZW5kZXJPcmRlcikge1xuICAgIHRoaXMuc2V0KFByb3BlcnR5LlJFTkRFUl9PUkRFUiwgcmVuZGVyT3JkZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc3R5bGUgZm9yIGZlYXR1cmVzLiAgVGhpcyBjYW4gYmUgYSBzaW5nbGUgc3R5bGUgb2JqZWN0LCBhbiBhcnJheVxuICAgKiBvZiBzdHlsZXMsIG9yIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIGZlYXR1cmUgYW5kIHJlc29sdXRpb24gYW5kIHJldHVybnNcbiAgICogYW4gYXJyYXkgb2Ygc3R5bGVzLiBJZiBzZXQgdG8gYG51bGxgLCB0aGUgbGF5ZXIgaGFzIG5vIHN0eWxlIChhIGBudWxsYCBzdHlsZSksXG4gICAqIHNvIG9ubHkgZmVhdHVyZXMgdGhhdCBoYXZlIHRoZWlyIG93biBzdHlsZXMgd2lsbCBiZSByZW5kZXJlZCBpbiB0aGUgbGF5ZXIuIENhbGxcbiAgICogYHNldFN0eWxlKClgIHdpdGhvdXQgYXJndW1lbnRzIHRvIHJlc2V0IHRvIHRoZSBkZWZhdWx0IHN0eWxlLiBTZWVcbiAgICogW3RoZSBvbC9zdHlsZS9TdHlsZSBtb2R1bGVde0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9TdHlsZX5TdHlsZX0gZm9yIGluZm9ybWF0aW9uIG9uIHRoZSBkZWZhdWx0IHN0eWxlLlxuICAgKlxuICAgKiBJZiB5b3VyIGxheWVyIGhhcyBhIHN0YXRpYyBzdHlsZSwgeW91IGNhbiB1c2UgXCJmbGF0XCIgc3R5bGUgb2JqZWN0IGxpdGVyYWxzIGluc3RlYWQgb2ZcbiAgICogdXNpbmcgdGhlIGBTdHlsZWAgYW5kIHN5bWJvbGl6ZXIgY29uc3RydWN0b3JzIChgRmlsbGAsIGBTdHJva2VgLCBldGMuKS4gIFNlZSB0aGUgZG9jdW1lbnRhdGlvblxuICAgKiBmb3IgdGhlIFtmbGF0IHN0eWxlIHR5cGVzXXtAbGluayBtb2R1bGU6b2wvc3R5bGUvZmxhdH5GbGF0U3R5bGV9IHRvIHNlZSB3aGF0IHByb3BlcnRpZXMgYXJlIHN1cHBvcnRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V8aW1wb3J0KFwiLi4vc3R5bGUvZmxhdC5qc1wiKS5GbGF0U3R5bGVMaWtlfG51bGx9IFtzdHlsZV0gTGF5ZXIgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFN0eWxlKHN0eWxlKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLlN0eWxlTGlrZXxudWxsfVxuICAgICAqL1xuICAgIGxldCBzdHlsZUxpa2U7XG5cbiAgICBpZiAoc3R5bGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc3R5bGVMaWtlID0gY3JlYXRlRGVmYXVsdFN0eWxlO1xuICAgIH0gZWxzZSBpZiAoc3R5bGUgPT09IG51bGwpIHtcbiAgICAgIHN0eWxlTGlrZSA9IG51bGw7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3R5bGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHN0eWxlTGlrZSA9IHN0eWxlO1xuICAgIH0gZWxzZSBpZiAoc3R5bGUgaW5zdGFuY2VvZiBTdHlsZSkge1xuICAgICAgc3R5bGVMaWtlID0gc3R5bGU7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHN0eWxlKSkge1xuICAgICAgY29uc3QgbGVuID0gc3R5bGUubGVuZ3RoO1xuXG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlIHtBcnJheTxTdHlsZT59XG4gICAgICAgKi9cbiAgICAgIGNvbnN0IHN0eWxlcyA9IG5ldyBBcnJheShsZW4pO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIGNvbnN0IHMgPSBzdHlsZVtpXTtcbiAgICAgICAgaWYgKHMgaW5zdGFuY2VvZiBTdHlsZSkge1xuICAgICAgICAgIHN0eWxlc1tpXSA9IHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3R5bGVzW2ldID0gdG9TdHlsZShzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3R5bGVMaWtlID0gc3R5bGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZUxpa2UgPSB0b1N0eWxlKHN0eWxlKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0eWxlXyA9IHN0eWxlTGlrZTtcbiAgICB0aGlzLnN0eWxlRnVuY3Rpb25fID1cbiAgICAgIHN0eWxlID09PSBudWxsID8gdW5kZWZpbmVkIDogdG9TdHlsZUZ1bmN0aW9uKHRoaXMuc3R5bGVfKTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCYXNlVmVjdG9yTGF5ZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9JbnN0cnVjdGlvblxuICovXG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuY29uc3QgSW5zdHJ1Y3Rpb24gPSB7XG4gIEJFR0lOX0dFT01FVFJZOiAwLFxuICBCRUdJTl9QQVRIOiAxLFxuICBDSVJDTEU6IDIsXG4gIENMT1NFX1BBVEg6IDMsXG4gIENVU1RPTTogNCxcbiAgRFJBV19DSEFSUzogNSxcbiAgRFJBV19JTUFHRTogNixcbiAgRU5EX0dFT01FVFJZOiA3LFxuICBGSUxMOiA4LFxuICBNT1ZFX1RPX0xJTkVfVE86IDksXG4gIFNFVF9GSUxMX1NUWUxFOiAxMCxcbiAgU0VUX1NUUk9LRV9TVFlMRTogMTEsXG4gIFNUUk9LRTogMTIsXG59O1xuXG4vKipcbiAqIEB0eXBlIHtBcnJheTxJbnN0cnVjdGlvbj59XG4gKi9cbmV4cG9ydCBjb25zdCBmaWxsSW5zdHJ1Y3Rpb24gPSBbSW5zdHJ1Y3Rpb24uRklMTF07XG5cbi8qKlxuICogQHR5cGUge0FycmF5PEluc3RydWN0aW9uPn1cbiAqL1xuZXhwb3J0IGNvbnN0IHN0cm9rZUluc3RydWN0aW9uID0gW0luc3RydWN0aW9uLlNUUk9LRV07XG5cbi8qKlxuICogQHR5cGUge0FycmF5PEluc3RydWN0aW9uPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGJlZ2luUGF0aEluc3RydWN0aW9uID0gW0luc3RydWN0aW9uLkJFR0lOX1BBVEhdO1xuXG4vKipcbiAqIEB0eXBlIHtBcnJheTxJbnN0cnVjdGlvbj59XG4gKi9cbmV4cG9ydCBjb25zdCBjbG9zZVBhdGhJbnN0cnVjdGlvbiA9IFtJbnN0cnVjdGlvbi5DTE9TRV9QQVRIXTtcblxuZXhwb3J0IGRlZmF1bHQgSW5zdHJ1Y3Rpb247XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL1ZlY3RvckNvbnRleHRcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENvbnRleHQgZm9yIGRyYXdpbmcgZ2VvbWV0cmllcy4gIEEgdmVjdG9yIGNvbnRleHQgaXMgYXZhaWxhYmxlIG9uIHJlbmRlclxuICogZXZlbnRzIGFuZCBkb2VzIG5vdCBuZWVkIHRvIGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5LlxuICogQGFwaVxuICovXG5jbGFzcyBWZWN0b3JDb250ZXh0IHtcbiAgLyoqXG4gICAqIFJlbmRlciBhIGdlb21ldHJ5IHdpdGggYSBjdXN0b20gcmVuZGVyZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlbmRlcmVyIFJlbmRlcmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoaXREZXRlY3Rpb25SZW5kZXJlciBSZW5kZXJlci5cbiAgICovXG4gIGRyYXdDdXN0b20oZ2VvbWV0cnksIGZlYXR1cmUsIHJlbmRlcmVyLCBoaXREZXRlY3Rpb25SZW5kZXJlcikge31cblxuICAvKipcbiAgICogUmVuZGVyIGEgZ2VvbWV0cnkuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBUaGUgZ2VvbWV0cnkgdG8gcmVuZGVyLlxuICAgKi9cbiAgZHJhd0dlb21ldHJ5KGdlb21ldHJ5KSB7fVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHJlbmRlcmluZyBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBUaGUgcmVuZGVyaW5nIHN0eWxlLlxuICAgKi9cbiAgc2V0U3R5bGUoc3R5bGUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9DaXJjbGUuanNcIikuZGVmYXVsdH0gY2lyY2xlR2VvbWV0cnkgQ2lyY2xlIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgZHJhd0NpcmNsZShjaXJjbGVHZW9tZXRyeSwgZmVhdHVyZSkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAgICovXG4gIGRyYXdGZWF0dXJlKGZlYXR1cmUsIHN0eWxlKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5IEdlb21ldHJ5IGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3R2VvbWV0cnlDb2xsZWN0aW9uKGdlb21ldHJ5Q29sbGVjdGlvbkdlb21ldHJ5LCBmZWF0dXJlKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBsaW5lU3RyaW5nR2VvbWV0cnkgTGluZSBzdHJpbmcgZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgZHJhd0xpbmVTdHJpbmcobGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IG11bHRpTGluZVN0cmluZ0dlb21ldHJ5IE11bHRpTGluZVN0cmluZyBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3TXVsdGlMaW5lU3RyaW5nKG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTXVsdGlQb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBtdWx0aVBvaW50R2VvbWV0cnkgTXVsdGlQb2ludCBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3TXVsdGlQb2ludChtdWx0aVBvaW50R2VvbWV0cnksIGZlYXR1cmUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gbXVsdGlQb2x5Z29uR2VvbWV0cnkgTXVsdGlQb2x5Z29uIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdNdWx0aVBvbHlnb24obXVsdGlQb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBwb2ludEdlb21ldHJ5IFBvaW50IGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdQb2ludChwb2ludEdlb21ldHJ5LCBmZWF0dXJlKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBwb2x5Z29uR2VvbWV0cnkgUG9seWdvbiBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3UG9seWdvbihwb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9GaWxsLmpzXCIpLmRlZmF1bHR9IGZpbGxTdHlsZSBGaWxsIHN0eWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBzdHJva2VTdHlsZSBTdHJva2Ugc3R5bGUuXG4gICAqL1xuICBzZXRGaWxsU3Ryb2tlU3R5bGUoZmlsbFN0eWxlLCBzdHJva2VTdHlsZSkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9JbWFnZS5qc1wiKS5kZWZhdWx0fSBpbWFnZVN0eWxlIEltYWdlIHN0eWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH0gW2RlY2x1dHRlckltYWdlV2l0aFRleHRdIFNoYXJlZCBkYXRhIGZvciBjb21iaW5lZCBkZWNsdXR0ZXJpbmcgd2l0aCBhIHRleHQgc3R5bGUuXG4gICAqL1xuICBzZXRJbWFnZVN0eWxlKGltYWdlU3R5bGUsIGRlY2x1dHRlckltYWdlV2l0aFRleHQpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvVGV4dC5qc1wiKS5kZWZhdWx0fSB0ZXh0U3R5bGUgVGV4dCBzdHlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzLmpzXCIpLkRlY2x1dHRlckltYWdlV2l0aFRleHR9IFtkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XSBTaGFyZWQgZGF0YSBmb3IgY29tYmluZWQgZGVjbHV0dGVyaW5nIHdpdGggYW4gaW1hZ2Ugc3R5bGUuXG4gICAqL1xuICBzZXRUZXh0U3R5bGUodGV4dFN0eWxlLCBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0KSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JDb250ZXh0O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvQnVpbGRlclxuICovXG5pbXBvcnQgQ2FudmFzSW5zdHJ1Y3Rpb24gZnJvbSAnLi9JbnN0cnVjdGlvbi5qcyc7XG5pbXBvcnQgUmVsYXRpb25zaGlwIGZyb20gJy4uLy4uL2V4dGVudC9SZWxhdGlvbnNoaXAuanMnO1xuaW1wb3J0IFZlY3RvckNvbnRleHQgZnJvbSAnLi4vVmVjdG9yQ29udGV4dC5qcyc7XG5pbXBvcnQge2FzQ29sb3JMaWtlfSBmcm9tICcuLi8uLi9jb2xvcmxpa2UuanMnO1xuaW1wb3J0IHtcbiAgYnVmZmVyLFxuICBjbG9uZSxcbiAgY29udGFpbnNDb29yZGluYXRlLFxuICBjb29yZGluYXRlUmVsYXRpb25zaGlwLFxufSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEZpbGxTdHlsZSxcbiAgZGVmYXVsdExpbmVDYXAsXG4gIGRlZmF1bHRMaW5lRGFzaCxcbiAgZGVmYXVsdExpbmVEYXNoT2Zmc2V0LFxuICBkZWZhdWx0TGluZUpvaW4sXG4gIGRlZmF1bHRMaW5lV2lkdGgsXG4gIGRlZmF1bHRNaXRlckxpbWl0LFxuICBkZWZhdWx0U3Ryb2tlU3R5bGUsXG59IGZyb20gJy4uL2NhbnZhcy5qcyc7XG5pbXBvcnQge2VxdWFscywgcmV2ZXJzZVN1YkFycmF5fSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQge1xuICBpbmZsYXRlQ29vcmRpbmF0ZXMsXG4gIGluZmxhdGVDb29yZGluYXRlc0FycmF5LFxuICBpbmZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5LFxufSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvaW5mbGF0ZS5qcyc7XG5cbmNsYXNzIENhbnZhc0J1aWxkZXIgZXh0ZW5kcyBWZWN0b3JDb250ZXh0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXhpbXVtIGV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRvbGVyYW5jZSA9IHRvbGVyYW5jZTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLm1heEV4dGVudCA9IG1heEV4dGVudDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxSYXRpbyA9IHBpeGVsUmF0aW87XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heExpbmVXaWR0aCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQGNvbnN0XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICovXG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24xXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgKi9cbiAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjJfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy5idWZmZXJlZE1heEV4dGVudF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgKi9cbiAgICB0aGlzLmluc3RydWN0aW9ucyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRtcENvb3JkaW5hdGVfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAqL1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy5zdGF0ZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gKi8gKHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZGFzaEFycmF5IERhc2ggYXJyYXkuXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IERhc2ggYXJyYXkgd2l0aCBwaXhlbCByYXRpbyBhcHBsaWVkXG4gICAqL1xuICBhcHBseVBpeGVsUmF0aW8oZGFzaEFycmF5KSB7XG4gICAgY29uc3QgcGl4ZWxSYXRpbyA9IHRoaXMucGl4ZWxSYXRpbztcbiAgICByZXR1cm4gcGl4ZWxSYXRpbyA9PSAxXG4gICAgICA/IGRhc2hBcnJheVxuICAgICAgOiBkYXNoQXJyYXkubWFwKGZ1bmN0aW9uIChkYXNoKSB7XG4gICAgICAgICAgcmV0dXJuIGRhc2ggKiBwaXhlbFJhdGlvO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IE15IGVuZFxuICAgKi9cbiAgYXBwZW5kRmxhdFBvaW50Q29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBzdHJpZGUpIHtcbiAgICBjb25zdCBleHRlbnQgPSB0aGlzLmdldEJ1ZmZlcmVkTWF4RXh0ZW50KCk7XG4gICAgY29uc3QgdG1wQ29vcmQgPSB0aGlzLnRtcENvb3JkaW5hdGVfO1xuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gdGhpcy5jb29yZGluYXRlcztcbiAgICBsZXQgbXlFbmQgPSBjb29yZGluYXRlcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZmxhdENvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyBpICs9IHN0cmlkZSkge1xuICAgICAgdG1wQ29vcmRbMF0gPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICB0bXBDb29yZFsxXSA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICBpZiAoY29udGFpbnNDb29yZGluYXRlKGV4dGVudCwgdG1wQ29vcmQpKSB7XG4gICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gdG1wQ29vcmRbMF07XG4gICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gdG1wQ29vcmRbMV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBteUVuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NlZCBMYXN0IGlucHV0IGNvb3JkaW5hdGUgZXF1YWxzIGZpcnN0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNraXBGaXJzdCBTa2lwIGZpcnN0IGNvb3JkaW5hdGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHJldHVybiB7bnVtYmVyfSBNeSBlbmQuXG4gICAqL1xuICBhcHBlbmRGbGF0TGluZUNvb3JkaW5hdGVzKFxuICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICBvZmZzZXQsXG4gICAgZW5kLFxuICAgIHN0cmlkZSxcbiAgICBjbG9zZWQsXG4gICAgc2tpcEZpcnN0XG4gICkge1xuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gdGhpcy5jb29yZGluYXRlcztcbiAgICBsZXQgbXlFbmQgPSBjb29yZGluYXRlcy5sZW5ndGg7XG4gICAgY29uc3QgZXh0ZW50ID0gdGhpcy5nZXRCdWZmZXJlZE1heEV4dGVudCgpO1xuICAgIGlmIChza2lwRmlyc3QpIHtcbiAgICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgfVxuICAgIGxldCBsYXN0WENvb3JkID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgbGV0IGxhc3RZQ29vcmQgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgY29uc3QgbmV4dENvb3JkID0gdGhpcy50bXBDb29yZGluYXRlXztcbiAgICBsZXQgc2tpcHBlZCA9IHRydWU7XG5cbiAgICBsZXQgaSwgbGFzdFJlbCwgbmV4dFJlbDtcbiAgICBmb3IgKGkgPSBvZmZzZXQgKyBzdHJpZGU7IGkgPCBlbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgICBuZXh0Q29vcmRbMF0gPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICBuZXh0Q29vcmRbMV0gPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgICAgbmV4dFJlbCA9IGNvb3JkaW5hdGVSZWxhdGlvbnNoaXAoZXh0ZW50LCBuZXh0Q29vcmQpO1xuICAgICAgaWYgKG5leHRSZWwgIT09IGxhc3RSZWwpIHtcbiAgICAgICAgaWYgKHNraXBwZWQpIHtcbiAgICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IGxhc3RYQ29vcmQ7XG4gICAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSBsYXN0WUNvb3JkO1xuICAgICAgICAgIHNraXBwZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IG5leHRDb29yZFswXTtcbiAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSBuZXh0Q29vcmRbMV07XG4gICAgICB9IGVsc2UgaWYgKG5leHRSZWwgPT09IFJlbGF0aW9uc2hpcC5JTlRFUlNFQ1RJTkcpIHtcbiAgICAgICAgY29vcmRpbmF0ZXNbbXlFbmQrK10gPSBuZXh0Q29vcmRbMF07XG4gICAgICAgIGNvb3JkaW5hdGVzW215RW5kKytdID0gbmV4dENvb3JkWzFdO1xuICAgICAgICBza2lwcGVkID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBza2lwcGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxhc3RYQ29vcmQgPSBuZXh0Q29vcmRbMF07XG4gICAgICBsYXN0WUNvb3JkID0gbmV4dENvb3JkWzFdO1xuICAgICAgbGFzdFJlbCA9IG5leHRSZWw7XG4gICAgfVxuXG4gICAgLy8gTGFzdCBjb29yZGluYXRlIGVxdWFscyBmaXJzdCBvciBvbmx5IG9uZSBwb2ludCB0byBhcHBlbmQ6XG4gICAgaWYgKChjbG9zZWQgJiYgc2tpcHBlZCkgfHwgaSA9PT0gb2Zmc2V0ICsgc3RyaWRlKSB7XG4gICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IGxhc3RYQ29vcmQ7XG4gICAgICBjb29yZGluYXRlc1tteUVuZCsrXSA9IGxhc3RZQ29vcmQ7XG4gICAgfVxuICAgIHJldHVybiBteUVuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGJ1aWxkZXJFbmRzIEJ1aWxkZXIgZW5kcy5cbiAgICogQHJldHVybiB7bnVtYmVyfSBPZmZzZXQuXG4gICAqL1xuICBkcmF3Q3VzdG9tQ29vcmRpbmF0ZXNfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUsIGJ1aWxkZXJFbmRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgICAgY29uc3QgYnVpbGRlckVuZCA9IHRoaXMuYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyhcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGVuZCxcbiAgICAgICAgc3RyaWRlLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgICBidWlsZGVyRW5kcy5wdXNoKGJ1aWxkZXJFbmQpO1xuICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlbmRlcmVyIFJlbmRlcmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoaXREZXRlY3Rpb25SZW5kZXJlciBSZW5kZXJlci5cbiAgICovXG4gIGRyYXdDdXN0b20oZ2VvbWV0cnksIGZlYXR1cmUsIHJlbmRlcmVyLCBoaXREZXRlY3Rpb25SZW5kZXJlcikge1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeShnZW9tZXRyeSwgZmVhdHVyZSk7XG5cbiAgICBjb25zdCB0eXBlID0gZ2VvbWV0cnkuZ2V0VHlwZSgpO1xuICAgIGNvbnN0IHN0cmlkZSA9IGdlb21ldHJ5LmdldFN0cmlkZSgpO1xuICAgIGNvbnN0IGJ1aWxkZXJCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuXG4gICAgbGV0IGZsYXRDb29yZGluYXRlcywgYnVpbGRlckVuZCwgYnVpbGRlckVuZHMsIGJ1aWxkZXJFbmRzcztcbiAgICBsZXQgb2Zmc2V0O1xuXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdNdWx0aVBvbHlnb24nOlxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPVxuICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgICApLmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIGJ1aWxkZXJFbmRzcyA9IFtdO1xuICAgICAgICBjb25zdCBlbmRzcyA9XG4gICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgICkuZ2V0RW5kc3MoKTtcbiAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgIGNvbnN0IG15RW5kcyA9IFtdO1xuICAgICAgICAgIG9mZnNldCA9IHRoaXMuZHJhd0N1c3RvbUNvb3JkaW5hdGVzXyhcbiAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIGVuZHNzW2ldLFxuICAgICAgICAgICAgc3RyaWRlLFxuICAgICAgICAgICAgbXlFbmRzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBidWlsZGVyRW5kc3MucHVzaChteUVuZHMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgYnVpbGRlckVuZHNzLFxuICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgIGluZmxhdGVNdWx0aUNvb3JkaW5hdGVzQXJyYXksXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgYnVpbGRlckJlZ2luLFxuICAgICAgICAgIGJ1aWxkZXJFbmRzcyxcbiAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICBoaXREZXRlY3Rpb25SZW5kZXJlciB8fCByZW5kZXJlcixcbiAgICAgICAgICBpbmZsYXRlTXVsdGlDb29yZGluYXRlc0FycmF5LFxuICAgICAgICBdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdQb2x5Z29uJzpcbiAgICAgIGNhc2UgJ011bHRpTGluZVN0cmluZyc6XG4gICAgICAgIGJ1aWxkZXJFbmRzID0gW107XG4gICAgICAgIGZsYXRDb29yZGluYXRlcyA9XG4gICAgICAgICAgdHlwZSA9PSAnUG9seWdvbidcbiAgICAgICAgICAgID8gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICAgICAgICkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKVxuICAgICAgICAgICAgOiBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3Q3VzdG9tQ29vcmRpbmF0ZXNfKFxuICAgICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgICAwLFxuICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgICApLmdldEVuZHMoKSxcbiAgICAgICAgICBzdHJpZGUsXG4gICAgICAgICAgYnVpbGRlckVuZHNcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICBidWlsZGVyRW5kcyxcbiAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgICBpbmZsYXRlQ29vcmRpbmF0ZXNBcnJheSxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgYnVpbGRlckVuZHMsXG4gICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgaGl0RGV0ZWN0aW9uUmVuZGVyZXIgfHwgcmVuZGVyZXIsXG4gICAgICAgICAgaW5mbGF0ZUNvb3JkaW5hdGVzQXJyYXksXG4gICAgICAgIF0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0xpbmVTdHJpbmcnOlxuICAgICAgY2FzZSAnQ2lyY2xlJzpcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgIGJ1aWxkZXJFbmQgPSB0aGlzLmFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMoXG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgICAgICBzdHJpZGUsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NLFxuICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICBidWlsZGVyRW5kLFxuICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgIGluZmxhdGVDb29yZGluYXRlcyxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgYnVpbGRlckVuZCxcbiAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICBoaXREZXRlY3Rpb25SZW5kZXJlciB8fCByZW5kZXJlcixcbiAgICAgICAgICBpbmZsYXRlQ29vcmRpbmF0ZXMsXG4gICAgICAgIF0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ011bHRpUG9pbnQnOlxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgYnVpbGRlckVuZCA9IHRoaXMuYXBwZW5kRmxhdFBvaW50Q29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBzdHJpZGUpO1xuXG4gICAgICAgIGlmIChidWlsZGVyRW5kID4gYnVpbGRlckJlZ2luKSB7XG4gICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5DVVNUT00sXG4gICAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgICBidWlsZGVyRW5kLFxuICAgICAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgICAgIGluZmxhdGVDb29yZGluYXRlcyxcbiAgICAgICAgICBdKTtcbiAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICAgIGJ1aWxkZXJCZWdpbixcbiAgICAgICAgICAgIGJ1aWxkZXJFbmQsXG4gICAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICAgIGhpdERldGVjdGlvblJlbmRlcmVyIHx8IHJlbmRlcmVyLFxuICAgICAgICAgICAgaW5mbGF0ZUNvb3JkaW5hdGVzLFxuICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnUG9pbnQnOlxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcy5wdXNoKGZsYXRDb29yZGluYXRlc1swXSwgZmxhdENvb3JkaW5hdGVzWzFdKTtcbiAgICAgICAgYnVpbGRlckVuZCA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuXG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgYnVpbGRlckVuZCxcbiAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICAgIENhbnZhc0luc3RydWN0aW9uLkNVU1RPTSxcbiAgICAgICAgICBidWlsZGVyQmVnaW4sXG4gICAgICAgICAgYnVpbGRlckVuZCxcbiAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICBoaXREZXRlY3Rpb25SZW5kZXJlciB8fCByZW5kZXJlcixcbiAgICAgICAgXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICB9XG4gICAgdGhpcy5lbmRHZW9tZXRyeShmZWF0dXJlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9HZW9tZXRyeVwiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgVGhlIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGJlZ2luR2VvbWV0cnkoZ2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfID0gW1xuICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fR0VPTUVUUlksXG4gICAgICBmZWF0dXJlLFxuICAgICAgMCxcbiAgICAgIGdlb21ldHJ5LFxuICAgIF07XG4gICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaCh0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfKTtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjJfID0gW1xuICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uQkVHSU5fR0VPTUVUUlksXG4gICAgICBmZWF0dXJlLFxuICAgICAgMCxcbiAgICAgIGdlb21ldHJ5LFxuICAgIF07XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaCh0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjJfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSB0aGUgc2VyaWFsaXphYmxlIGluc3RydWN0aW9ucy5cbiAgICovXG4gIGZpbmlzaCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5zdHJ1Y3Rpb25zOiB0aGlzLmluc3RydWN0aW9ucyxcbiAgICAgIGhpdERldGVjdGlvbkluc3RydWN0aW9uczogdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMsXG4gICAgICBjb29yZGluYXRlczogdGhpcy5jb29yZGluYXRlcyxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldmVyc2UgdGhlIGhpdCBkZXRlY3Rpb24gaW5zdHJ1Y3Rpb25zLlxuICAgKi9cbiAgcmV2ZXJzZUhpdERldGVjdGlvbkluc3RydWN0aW9ucygpIHtcbiAgICBjb25zdCBoaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMgPSB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucztcbiAgICAvLyBzdGVwIDEgLSByZXZlcnNlIGFycmF5XG4gICAgaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnJldmVyc2UoKTtcbiAgICAvLyBzdGVwIDIgLSByZXZlcnNlIGluc3RydWN0aW9ucyB3aXRoaW4gZ2VvbWV0cnkgYmxvY2tzXG4gICAgbGV0IGk7XG4gICAgY29uc3QgbiA9IGhpdERldGVjdGlvbkluc3RydWN0aW9ucy5sZW5ndGg7XG4gICAgbGV0IGluc3RydWN0aW9uO1xuICAgIGxldCB0eXBlO1xuICAgIGxldCBiZWdpbiA9IC0xO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGluc3RydWN0aW9uID0gaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zW2ldO1xuICAgICAgdHlwZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9JbnN0cnVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoaW5zdHJ1Y3Rpb25bMF0pO1xuICAgICAgaWYgKHR5cGUgPT0gQ2FudmFzSW5zdHJ1Y3Rpb24uRU5EX0dFT01FVFJZKSB7XG4gICAgICAgIGJlZ2luID0gaTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBDYW52YXNJbnN0cnVjdGlvbi5CRUdJTl9HRU9NRVRSWSkge1xuICAgICAgICBpbnN0cnVjdGlvblsyXSA9IGk7XG4gICAgICAgIHJldmVyc2VTdWJBcnJheSh0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucywgYmVnaW4sIGkpO1xuICAgICAgICBiZWdpbiA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL0ZpbGwuanNcIikuZGVmYXVsdH0gZmlsbFN0eWxlIEZpbGwgc3R5bGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZVN0eWxlIFN0cm9rZSBzdHlsZS5cbiAgICovXG4gIHNldEZpbGxTdHJva2VTdHlsZShmaWxsU3R5bGUsIHN0cm9rZVN0eWxlKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGlmIChmaWxsU3R5bGUpIHtcbiAgICAgIGNvbnN0IGZpbGxTdHlsZUNvbG9yID0gZmlsbFN0eWxlLmdldENvbG9yKCk7XG4gICAgICBzdGF0ZS5maWxsU3R5bGUgPSBhc0NvbG9yTGlrZShcbiAgICAgICAgZmlsbFN0eWxlQ29sb3IgPyBmaWxsU3R5bGVDb2xvciA6IGRlZmF1bHRGaWxsU3R5bGVcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLmZpbGxTdHlsZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHN0cm9rZVN0eWxlKSB7XG4gICAgICBjb25zdCBzdHJva2VTdHlsZUNvbG9yID0gc3Ryb2tlU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgIHN0YXRlLnN0cm9rZVN0eWxlID0gYXNDb2xvckxpa2UoXG4gICAgICAgIHN0cm9rZVN0eWxlQ29sb3IgPyBzdHJva2VTdHlsZUNvbG9yIDogZGVmYXVsdFN0cm9rZVN0eWxlXG4gICAgICApO1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGVMaW5lQ2FwID0gc3Ryb2tlU3R5bGUuZ2V0TGluZUNhcCgpO1xuICAgICAgc3RhdGUubGluZUNhcCA9XG4gICAgICAgIHN0cm9rZVN0eWxlTGluZUNhcCAhPT0gdW5kZWZpbmVkID8gc3Ryb2tlU3R5bGVMaW5lQ2FwIDogZGVmYXVsdExpbmVDYXA7XG4gICAgICBjb25zdCBzdHJva2VTdHlsZUxpbmVEYXNoID0gc3Ryb2tlU3R5bGUuZ2V0TGluZURhc2goKTtcbiAgICAgIHN0YXRlLmxpbmVEYXNoID0gc3Ryb2tlU3R5bGVMaW5lRGFzaFxuICAgICAgICA/IHN0cm9rZVN0eWxlTGluZURhc2guc2xpY2UoKVxuICAgICAgICA6IGRlZmF1bHRMaW5lRGFzaDtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQgPSBzdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQgPSBzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0XG4gICAgICAgID8gc3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldFxuICAgICAgICA6IGRlZmF1bHRMaW5lRGFzaE9mZnNldDtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlTGluZUpvaW4gPSBzdHJva2VTdHlsZS5nZXRMaW5lSm9pbigpO1xuICAgICAgc3RhdGUubGluZUpvaW4gPVxuICAgICAgICBzdHJva2VTdHlsZUxpbmVKb2luICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZUpvaW5cbiAgICAgICAgICA6IGRlZmF1bHRMaW5lSm9pbjtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlV2lkdGggPSBzdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuICAgICAgc3RhdGUubGluZVdpZHRoID1cbiAgICAgICAgc3Ryb2tlU3R5bGVXaWR0aCAhPT0gdW5kZWZpbmVkID8gc3Ryb2tlU3R5bGVXaWR0aCA6IGRlZmF1bHRMaW5lV2lkdGg7XG4gICAgICBjb25zdCBzdHJva2VTdHlsZU1pdGVyTGltaXQgPSBzdHJva2VTdHlsZS5nZXRNaXRlckxpbWl0KCk7XG4gICAgICBzdGF0ZS5taXRlckxpbWl0ID1cbiAgICAgICAgc3Ryb2tlU3R5bGVNaXRlckxpbWl0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IHN0cm9rZVN0eWxlTWl0ZXJMaW1pdFxuICAgICAgICAgIDogZGVmYXVsdE1pdGVyTGltaXQ7XG5cbiAgICAgIGlmIChzdGF0ZS5saW5lV2lkdGggPiB0aGlzLm1heExpbmVXaWR0aCkge1xuICAgICAgICB0aGlzLm1heExpbmVXaWR0aCA9IHN0YXRlLmxpbmVXaWR0aDtcbiAgICAgICAgLy8gaW52YWxpZGF0ZSB0aGUgYnVmZmVyZWQgbWF4IGV4dGVudCBjYWNoZVxuICAgICAgICB0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50XyA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnN0cm9rZVN0eWxlID0gdW5kZWZpbmVkO1xuICAgICAgc3RhdGUubGluZUNhcCA9IHVuZGVmaW5lZDtcbiAgICAgIHN0YXRlLmxpbmVEYXNoID0gbnVsbDtcbiAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0ID0gdW5kZWZpbmVkO1xuICAgICAgc3RhdGUubGluZUpvaW4gPSB1bmRlZmluZWQ7XG4gICAgICBzdGF0ZS5saW5lV2lkdGggPSB1bmRlZmluZWQ7XG4gICAgICBzdGF0ZS5taXRlckxpbWl0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgKiBAcmV0dXJuIHtBcnJheTwqPn0gRmlsbCBpbnN0cnVjdGlvbi5cbiAgICovXG4gIGNyZWF0ZUZpbGwoc3RhdGUpIHtcbiAgICBjb25zdCBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi9cbiAgICBjb25zdCBmaWxsSW5zdHJ1Y3Rpb24gPSBbQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX0ZJTExfU1RZTEUsIGZpbGxTdHlsZV07XG4gICAgaWYgKHR5cGVvZiBmaWxsU3R5bGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBGaWxsIGlzIGEgcGF0dGVybiBvciBncmFkaWVudCAtIGFsaWduIGl0IVxuICAgICAgZmlsbEluc3RydWN0aW9uLnB1c2godHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBmaWxsSW5zdHJ1Y3Rpb247XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICovXG4gIGFwcGx5U3Ryb2tlKHN0YXRlKSB7XG4gICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaCh0aGlzLmNyZWF0ZVN0cm9rZShzdGF0ZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAqIEByZXR1cm4ge0FycmF5PCo+fSBTdHJva2UgaW5zdHJ1Y3Rpb24uXG4gICAqL1xuICBjcmVhdGVTdHJva2Uoc3RhdGUpIHtcbiAgICByZXR1cm4gW1xuICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgc3RhdGUubGluZVdpZHRoICogdGhpcy5waXhlbFJhdGlvLFxuICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgIHRoaXMuYXBwbHlQaXhlbFJhdGlvKHN0YXRlLmxpbmVEYXNoKSxcbiAgICAgIHN0YXRlLmxpbmVEYXNoT2Zmc2V0ICogdGhpcy5waXhlbFJhdGlvLFxuICAgIF07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0cm9rZVN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOkNhbnZhc0J1aWxkZXIsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGUpOkFycmF5PCo+fSBjcmVhdGVGaWxsIENyZWF0ZSBmaWxsLlxuICAgKi9cbiAgdXBkYXRlRmlsbFN0eWxlKHN0YXRlLCBjcmVhdGVGaWxsKSB7XG4gICAgY29uc3QgZmlsbFN0eWxlID0gc3RhdGUuZmlsbFN0eWxlO1xuICAgIGlmICh0eXBlb2YgZmlsbFN0eWxlICE9PSAnc3RyaW5nJyB8fCBzdGF0ZS5jdXJyZW50RmlsbFN0eWxlICE9IGZpbGxTdHlsZSkge1xuICAgICAgaWYgKGZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goY3JlYXRlRmlsbC5jYWxsKHRoaXMsIHN0YXRlKSk7XG4gICAgICB9XG4gICAgICBzdGF0ZS5jdXJyZW50RmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3Ryb2tlU3RhdGV9IHN0YXRlIFN0YXRlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6Q2FudmFzQnVpbGRlciwgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZSk6IHZvaWR9IGFwcGx5U3Ryb2tlIEFwcGx5IHN0cm9rZS5cbiAgICovXG4gIHVwZGF0ZVN0cm9rZVN0eWxlKHN0YXRlLCBhcHBseVN0cm9rZSkge1xuICAgIGNvbnN0IHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgY29uc3QgbGluZUNhcCA9IHN0YXRlLmxpbmVDYXA7XG4gICAgY29uc3QgbGluZURhc2ggPSBzdGF0ZS5saW5lRGFzaDtcbiAgICBjb25zdCBsaW5lRGFzaE9mZnNldCA9IHN0YXRlLmxpbmVEYXNoT2Zmc2V0O1xuICAgIGNvbnN0IGxpbmVKb2luID0gc3RhdGUubGluZUpvaW47XG4gICAgY29uc3QgbGluZVdpZHRoID0gc3RhdGUubGluZVdpZHRoO1xuICAgIGNvbnN0IG1pdGVyTGltaXQgPSBzdGF0ZS5taXRlckxpbWl0O1xuICAgIGlmIChcbiAgICAgIHN0YXRlLmN1cnJlbnRTdHJva2VTdHlsZSAhPSBzdHJva2VTdHlsZSB8fFxuICAgICAgc3RhdGUuY3VycmVudExpbmVDYXAgIT0gbGluZUNhcCB8fFxuICAgICAgKGxpbmVEYXNoICE9IHN0YXRlLmN1cnJlbnRMaW5lRGFzaCAmJlxuICAgICAgICAhZXF1YWxzKHN0YXRlLmN1cnJlbnRMaW5lRGFzaCwgbGluZURhc2gpKSB8fFxuICAgICAgc3RhdGUuY3VycmVudExpbmVEYXNoT2Zmc2V0ICE9IGxpbmVEYXNoT2Zmc2V0IHx8XG4gICAgICBzdGF0ZS5jdXJyZW50TGluZUpvaW4gIT0gbGluZUpvaW4gfHxcbiAgICAgIHN0YXRlLmN1cnJlbnRMaW5lV2lkdGggIT0gbGluZVdpZHRoIHx8XG4gICAgICBzdGF0ZS5jdXJyZW50TWl0ZXJMaW1pdCAhPSBtaXRlckxpbWl0XG4gICAgKSB7XG4gICAgICBpZiAoc3Ryb2tlU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhcHBseVN0cm9rZS5jYWxsKHRoaXMsIHN0YXRlKTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmN1cnJlbnRTdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuICAgICAgc3RhdGUuY3VycmVudExpbmVDYXAgPSBsaW5lQ2FwO1xuICAgICAgc3RhdGUuY3VycmVudExpbmVEYXNoID0gbGluZURhc2g7XG4gICAgICBzdGF0ZS5jdXJyZW50TGluZURhc2hPZmZzZXQgPSBsaW5lRGFzaE9mZnNldDtcbiAgICAgIHN0YXRlLmN1cnJlbnRMaW5lSm9pbiA9IGxpbmVKb2luO1xuICAgICAgc3RhdGUuY3VycmVudExpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgIHN0YXRlLmN1cnJlbnRNaXRlckxpbWl0ID0gbWl0ZXJMaW1pdDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBlbmRHZW9tZXRyeShmZWF0dXJlKSB7XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24xX1syXSA9IHRoaXMuaW5zdHJ1Y3Rpb25zLmxlbmd0aDtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjFfID0gbnVsbDtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnlJbnN0cnVjdGlvbjJfWzJdID0gdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMubGVuZ3RoO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMl8gPSBudWxsO1xuICAgIGNvbnN0IGVuZEdlb21ldHJ5SW5zdHJ1Y3Rpb24gPSBbQ2FudmFzSW5zdHJ1Y3Rpb24uRU5EX0dFT01FVFJZLCBmZWF0dXJlXTtcbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGVuZEdlb21ldHJ5SW5zdHJ1Y3Rpb24pO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goZW5kR2VvbWV0cnlJbnN0cnVjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBidWZmZXJlZCByZW5kZXJpbmcgZXh0ZW50LiAgUmVuZGVyaW5nIHdpbGwgYmUgY2xpcHBlZCB0byB0aGUgZXh0ZW50XG4gICAqIHByb3ZpZGVkIHRvIHRoZSBjb25zdHJ1Y3Rvci4gIFRvIGFjY291bnQgZm9yIHN5bWJvbGl6ZXJzIHRoYXQgbWF5IGludGVyc2VjdFxuICAgKiB0aGlzIGV4dGVudCwgd2UgY2FsY3VsYXRlIGEgYnVmZmVyZWQgZXh0ZW50IChlLmcuIGJhc2VkIG9uIHN0cm9rZSB3aWR0aCkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFRoZSBidWZmZXJlZCByZW5kZXJpbmcgZXh0ZW50LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRCdWZmZXJlZE1heEV4dGVudCgpIHtcbiAgICBpZiAoIXRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfKSB7XG4gICAgICB0aGlzLmJ1ZmZlcmVkTWF4RXh0ZW50XyA9IGNsb25lKHRoaXMubWF4RXh0ZW50KTtcbiAgICAgIGlmICh0aGlzLm1heExpbmVXaWR0aCA+IDApIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSAodGhpcy5yZXNvbHV0aW9uICogKHRoaXMubWF4TGluZVdpZHRoICsgMSkpIC8gMjtcbiAgICAgICAgYnVmZmVyKHRoaXMuYnVmZmVyZWRNYXhFeHRlbnRfLCB3aWR0aCwgdGhpcy5idWZmZXJlZE1heEV4dGVudF8pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5idWZmZXJlZE1heEV4dGVudF87XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzQnVpbGRlcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL1BvbHlnb25CdWlsZGVyXG4gKi9cbmltcG9ydCBDYW52YXNCdWlsZGVyIGZyb20gJy4vQnVpbGRlci5qcyc7XG5pbXBvcnQgQ2FudmFzSW5zdHJ1Y3Rpb24sIHtcbiAgYmVnaW5QYXRoSW5zdHJ1Y3Rpb24sXG4gIGNsb3NlUGF0aEluc3RydWN0aW9uLFxuICBmaWxsSW5zdHJ1Y3Rpb24sXG4gIHN0cm9rZUluc3RydWN0aW9uLFxufSBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbmltcG9ydCB7ZGVmYXVsdEZpbGxTdHlsZX0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7c25hcH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3NpbXBsaWZ5LmpzJztcblxuY2xhc3MgQ2FudmFzUG9seWdvbkJ1aWxkZXIgZXh0ZW5kcyBDYW52YXNCdWlsZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXhpbXVtIGV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgIHN1cGVyKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEVuZC5cbiAgICovXG4gIGRyYXdGbGF0Q29vcmRpbmF0ZXNzXyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGZpbGwgPSBzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZDtcbiAgICBjb25zdCBzdHJva2UgPSBzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IG51bUVuZHMgPSBlbmRzLmxlbmd0aDtcbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGJlZ2luUGF0aEluc3RydWN0aW9uKTtcbiAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGJlZ2luUGF0aEluc3RydWN0aW9uKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUVuZHM7ICsraSkge1xuICAgICAgY29uc3QgZW5kID0gZW5kc1tpXTtcbiAgICAgIGNvbnN0IG15QmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICAgIGNvbnN0IG15RW5kID0gdGhpcy5hcHBlbmRGbGF0TGluZUNvb3JkaW5hdGVzKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgZW5kLFxuICAgICAgICBzdHJpZGUsXG4gICAgICAgIHRydWUsXG4gICAgICAgICFzdHJva2VcbiAgICAgICk7XG4gICAgICBjb25zdCBtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbiA9IFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uTU9WRV9UT19MSU5FX1RPLFxuICAgICAgICBteUJlZ2luLFxuICAgICAgICBteUVuZCxcbiAgICAgIF07XG4gICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKG1vdmVUb0xpbmVUb0luc3RydWN0aW9uKTtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2gobW92ZVRvTGluZVRvSW5zdHJ1Y3Rpb24pO1xuICAgICAgaWYgKHN0cm9rZSkge1xuICAgICAgICAvLyBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb246IG9ubHkgY2FsbCBjbG9zZVBhdGgoKSB3aGVuIHdlIGhhdmUgYSBzdHJva2UuXG4gICAgICAgIC8vIE90aGVyd2lzZSB0aGUgcmluZyBpcyBjbG9zZWQgYWxyZWFkeSAoc2VlIGFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMgYWJvdmUpLlxuICAgICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGNsb3NlUGF0aEluc3RydWN0aW9uKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChjbG9zZVBhdGhJbnN0cnVjdGlvbik7XG4gICAgICB9XG4gICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxuICAgIGlmIChmaWxsKSB7XG4gICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGZpbGxJbnN0cnVjdGlvbik7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGZpbGxJbnN0cnVjdGlvbik7XG4gICAgfVxuICAgIGlmIChzdHJva2UpIHtcbiAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChzdHJva2VJbnN0cnVjdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBjaXJjbGVHZW9tZXRyeSBDaXJjbGUgZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3Q2lyY2xlKGNpcmNsZUdlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGZpbGxTdHlsZSA9IHN0YXRlLmZpbGxTdHlsZTtcbiAgICBjb25zdCBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgIGlmIChmaWxsU3R5bGUgPT09IHVuZGVmaW5lZCAmJiBzdHJva2VTdHlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0RmlsbFN0cm9rZVN0eWxlc18oKTtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnkoY2lyY2xlR2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIGlmIChzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFLFxuICAgICAgICBkZWZhdWx0RmlsbFN0eWxlLFxuICAgICAgXSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgIHN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICAgIHN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgIHN0YXRlLmxpbmVEYXNoLFxuICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgIF0pO1xuICAgIH1cbiAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBjaXJjbGVHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBjb25zdCBzdHJpZGUgPSBjaXJjbGVHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBjb25zdCBteUJlZ2luID0gdGhpcy5jb29yZGluYXRlcy5sZW5ndGg7XG4gICAgdGhpcy5hcHBlbmRGbGF0TGluZUNvb3JkaW5hdGVzKFxuICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgMCxcbiAgICAgIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgICBzdHJpZGUsXG4gICAgICBmYWxzZSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICBjb25zdCBjaXJjbGVJbnN0cnVjdGlvbiA9IFtDYW52YXNJbnN0cnVjdGlvbi5DSVJDTEUsIG15QmVnaW5dO1xuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24sIGNpcmNsZUluc3RydWN0aW9uKTtcbiAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGJlZ2luUGF0aEluc3RydWN0aW9uLCBjaXJjbGVJbnN0cnVjdGlvbik7XG4gICAgaWYgKHN0YXRlLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKGZpbGxJbnN0cnVjdGlvbik7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKGZpbGxJbnN0cnVjdGlvbik7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgIH1cbiAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBwb2x5Z29uR2VvbWV0cnkgUG9seWdvbiBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3UG9seWdvbihwb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgZmlsbFN0eWxlID0gc3RhdGUuZmlsbFN0eWxlO1xuICAgIGNvbnN0IHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgaWYgKGZpbGxTdHlsZSA9PT0gdW5kZWZpbmVkICYmIHN0cm9rZVN0eWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRGaWxsU3Ryb2tlU3R5bGVzXygpO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeShwb2x5Z29uR2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIGlmIChzdGF0ZS5maWxsU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9GSUxMX1NUWUxFLFxuICAgICAgICBkZWZhdWx0RmlsbFN0eWxlLFxuICAgICAgXSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgIHN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICAgIHN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgIHN0YXRlLmxpbmVEYXNoLFxuICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgIF0pO1xuICAgIH1cbiAgICBjb25zdCBlbmRzID0gcG9seWdvbkdlb21ldHJ5LmdldEVuZHMoKTtcbiAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBwb2x5Z29uR2VvbWV0cnkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBjb25zdCBzdHJpZGUgPSBwb2x5Z29uR2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgdGhpcy5kcmF3RmxhdENvb3JkaW5hdGVzc18oXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAwLFxuICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoZW5kcyksXG4gICAgICBzdHJpZGVcbiAgICApO1xuICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBtdWx0aVBvbHlnb25HZW9tZXRyeSBNdWx0aVBvbHlnb24gZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgZHJhd011bHRpUG9seWdvbihtdWx0aVBvbHlnb25HZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgY29uc3Qgc3Ryb2tlU3R5bGUgPSBzdGF0ZS5zdHJva2VTdHlsZTtcbiAgICBpZiAoZmlsbFN0eWxlID09PSB1bmRlZmluZWQgJiYgc3Ryb2tlU3R5bGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZXNfKCk7XG4gICAgdGhpcy5iZWdpbkdlb21ldHJ5KG11bHRpUG9seWdvbkdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICBpZiAoc3RhdGUuZmlsbFN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfRklMTF9TVFlMRSxcbiAgICAgICAgZGVmYXVsdEZpbGxTdHlsZSxcbiAgICAgIF0pO1xuICAgIH1cbiAgICBpZiAoc3RhdGUuc3Ryb2tlU3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgIENhbnZhc0luc3RydWN0aW9uLlNFVF9TVFJPS0VfU1RZTEUsXG4gICAgICAgIHN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgICBzdGF0ZS5saW5lV2lkdGgsXG4gICAgICAgIHN0YXRlLmxpbmVDYXAsXG4gICAgICAgIHN0YXRlLmxpbmVKb2luLFxuICAgICAgICBzdGF0ZS5taXRlckxpbWl0LFxuICAgICAgICBzdGF0ZS5saW5lRGFzaCxcbiAgICAgICAgc3RhdGUubGluZURhc2hPZmZzZXQsXG4gICAgICBdKTtcbiAgICB9XG4gICAgY29uc3QgZW5kc3MgPSBtdWx0aVBvbHlnb25HZW9tZXRyeS5nZXRFbmRzcygpO1xuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IG11bHRpUG9seWdvbkdlb21ldHJ5LmdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCk7XG4gICAgY29uc3Qgc3RyaWRlID0gbXVsdGlQb2x5Z29uR2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgb2Zmc2V0ID0gdGhpcy5kcmF3RmxhdENvb3JkaW5hdGVzc18oXG4gICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBlbmRzc1tpXSxcbiAgICAgICAgc3RyaWRlXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnN9IHRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zLlxuICAgKi9cbiAgZmluaXNoKCkge1xuICAgIHRoaXMucmV2ZXJzZUhpdERldGVjdGlvbkluc3RydWN0aW9ucygpO1xuICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgIC8vIFdlIHdhbnQgdG8gcHJlc2VydmUgdG9wb2xvZ3kgd2hlbiBkcmF3aW5nIHBvbHlnb25zLiAgUG9seWdvbnMgYXJlXG4gICAgLy8gc2ltcGxpZmllZCB1c2luZyBxdWFudGl6YXRpb24gYW5kIHBvaW50IGVsaW1pbmF0aW9uLiBIb3dldmVyLCB3ZSBtaWdodFxuICAgIC8vIGhhdmUgcmVjZWl2ZWQgYSBtaXggb2YgcXVhbnRpemVkIGFuZCBub24tcXVhbnRpemVkIGdlb21ldHJpZXMsIHNvIGVuc3VyZVxuICAgIC8vIHRoYXQgYWxsIGFyZSBxdWFudGl6ZWQgYnkgcXVhbnRpemluZyBhbGwgY29vcmRpbmF0ZXMgaW4gdGhlIGJhdGNoLlxuICAgIGNvbnN0IHRvbGVyYW5jZSA9IHRoaXMudG9sZXJhbmNlO1xuICAgIGlmICh0b2xlcmFuY2UgIT09IDApIHtcbiAgICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gdGhpcy5jb29yZGluYXRlcztcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgY29vcmRpbmF0ZXNbaV0gPSBzbmFwKGNvb3JkaW5hdGVzW2ldLCB0b2xlcmFuY2UpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuZmluaXNoKCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldEZpbGxTdHJva2VTdHlsZXNfKCkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBmaWxsU3R5bGUgPSBzdGF0ZS5maWxsU3R5bGU7XG4gICAgaWYgKGZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnVwZGF0ZUZpbGxTdHlsZShzdGF0ZSwgdGhpcy5jcmVhdGVGaWxsKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlU3Ryb2tlU3R5bGUoc3RhdGUsIHRoaXMuYXBwbHlTdHJva2UpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNQb2x5Z29uQnVpbGRlcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvc3RyYWlnaHRjaHVua1xuICovXG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG1heEFuZ2xlIE1heGltdW0gYWNjZXB0YWJsZSBhbmdsZSBkZWx0YSBiZXR3ZWVuIHNlZ21lbnRzLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFN0YXJ0IGFuZCBlbmQgb2YgdGhlIGZpcnN0IHN1aXRhYmxlIGNodW5rIG9mIHRoZVxuICogZ2l2ZW4gYGZsYXRDb29yZGluYXRlc2AuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaGluZ0NodW5rKG1heEFuZ2xlLCBmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgbGV0IGNodW5rU3RhcnQgPSBvZmZzZXQ7XG4gIGxldCBjaHVua0VuZCA9IG9mZnNldDtcbiAgbGV0IGNodW5rTSA9IDA7XG4gIGxldCBtID0gMDtcbiAgbGV0IHN0YXJ0ID0gb2Zmc2V0O1xuICBsZXQgYWNvcywgaSwgbTEyLCBtMjMsIHgxLCB5MSwgeDEyLCB5MTIsIHgyMywgeTIzO1xuICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBlbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgY29uc3QgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgY29uc3QgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgIGlmICh4MSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB4MjMgPSB4MiAtIHgxO1xuICAgICAgeTIzID0geTIgLSB5MTtcbiAgICAgIG0yMyA9IE1hdGguc3FydCh4MjMgKiB4MjMgKyB5MjMgKiB5MjMpO1xuICAgICAgaWYgKHgxMiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG0gKz0gbTEyO1xuICAgICAgICBhY29zID0gTWF0aC5hY29zKCh4MTIgKiB4MjMgKyB5MTIgKiB5MjMpIC8gKG0xMiAqIG0yMykpO1xuICAgICAgICBpZiAoYWNvcyA+IG1heEFuZ2xlKSB7XG4gICAgICAgICAgaWYgKG0gPiBjaHVua00pIHtcbiAgICAgICAgICAgIGNodW5rTSA9IG07XG4gICAgICAgICAgICBjaHVua1N0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICBjaHVua0VuZCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG0gPSAwO1xuICAgICAgICAgIHN0YXJ0ID0gaSAtIHN0cmlkZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbTEyID0gbTIzO1xuICAgICAgeDEyID0geDIzO1xuICAgICAgeTEyID0geTIzO1xuICAgIH1cbiAgICB4MSA9IHgyO1xuICAgIHkxID0geTI7XG4gIH1cbiAgbSArPSBtMjM7XG4gIHJldHVybiBtID4gY2h1bmtNID8gW3N0YXJ0LCBpXSA6IFtjaHVua1N0YXJ0LCBjaHVua0VuZF07XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9UZXh0QnVpbGRlclxuICovXG5pbXBvcnQgQ2FudmFzQnVpbGRlciBmcm9tICcuL0J1aWxkZXIuanMnO1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uIGZyb20gJy4vSW5zdHJ1Y3Rpb24uanMnO1xuaW1wb3J0IHthc0NvbG9yTGlrZX0gZnJvbSAnLi4vLi4vY29sb3JsaWtlLmpzJztcbmltcG9ydCB7XG4gIGRlZmF1bHRGaWxsU3R5bGUsXG4gIGRlZmF1bHRGb250LFxuICBkZWZhdWx0TGluZUNhcCxcbiAgZGVmYXVsdExpbmVEYXNoLFxuICBkZWZhdWx0TGluZURhc2hPZmZzZXQsXG4gIGRlZmF1bHRMaW5lSm9pbixcbiAgZGVmYXVsdExpbmVXaWR0aCxcbiAgZGVmYXVsdE1pdGVyTGltaXQsXG4gIGRlZmF1bHRQYWRkaW5nLFxuICBkZWZhdWx0U3Ryb2tlU3R5bGUsXG4gIGRlZmF1bHRUZXh0QWxpZ24sXG4gIGRlZmF1bHRUZXh0QmFzZWxpbmUsXG4gIHJlZ2lzdGVyRm9udCxcbn0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7Z2V0VWlkfSBmcm9tICcuLi8uLi91dGlsLmpzJztcbmltcG9ydCB7aW50ZXJzZWN0c30gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7bWF0Y2hpbmdDaHVua30gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3N0cmFpZ2h0Y2h1bmsuanMnO1xuLyoqXG4gKiBAY29uc3RcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBURVhUX0FMSUdOID0ge1xuICAnbGVmdCc6IDAsXG4gICdlbmQnOiAwLFxuICAnY2VudGVyJzogMC41LFxuICAncmlnaHQnOiAxLFxuICAnc3RhcnQnOiAxLFxuICAndG9wJzogMCxcbiAgJ21pZGRsZSc6IDAuNSxcbiAgJ2hhbmdpbmcnOiAwLjIsXG4gICdhbHBoYWJldGljJzogMC44LFxuICAnaWRlb2dyYXBoaWMnOiAwLjgsXG4gICdib3R0b20nOiAxLFxufTtcblxuY2xhc3MgQ2FudmFzVGV4dEJ1aWxkZXIgZXh0ZW5kcyBDYW52YXNCdWlsZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXhpbXVtIGV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgIHN1cGVyKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PEhUTUxDYW52YXNFbGVtZW50Pn1cbiAgICAgKi9cbiAgICB0aGlzLmxhYmVsc18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfEFycmF5PHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy50ZXh0XyA9ICcnO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGV4dE9mZnNldFhfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRPZmZzZXRZXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50ZXh0Um90YXRpb25fID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dEZpbGxTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlPn1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxTdGF0ZXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0U3Ryb2tlU3RhdGVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlN0cm9rZVN0YXRlPn1cbiAgICAgKi9cbiAgICB0aGlzLnN0cm9rZVN0YXRlcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRTdGF0ZV8gPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGV9ICovICh7fSk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGU+fVxuICAgICAqL1xuICAgIHRoaXMudGV4dFN0YXRlcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudGV4dEtleV8gPSAnJztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxLZXlfID0gJyc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5zdHJva2VLZXlfID0gJyc7XG5cbiAgICAvKipcbiAgICAgKiBEYXRhIHNoYXJlZCB3aXRoIGFuIGltYWdlIGJ1aWxkZXIgZm9yIGNvbWJpbmVkIGRlY2x1dHRlcmluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH1cbiAgICAgKi9cbiAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnN9IHRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zLlxuICAgKi9cbiAgZmluaXNoKCkge1xuICAgIGNvbnN0IGluc3RydWN0aW9ucyA9IHN1cGVyLmZpbmlzaCgpO1xuICAgIGluc3RydWN0aW9ucy50ZXh0U3RhdGVzID0gdGhpcy50ZXh0U3RhdGVzO1xuICAgIGluc3RydWN0aW9ucy5maWxsU3RhdGVzID0gdGhpcy5maWxsU3RhdGVzO1xuICAgIGluc3RydWN0aW9ucy5zdHJva2VTdGF0ZXMgPSB0aGlzLnN0cm9rZVN0YXRlcztcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICBjb25zdCBmaWxsU3RhdGUgPSB0aGlzLnRleHRGaWxsU3RhdGVfO1xuICAgIGNvbnN0IHN0cm9rZVN0YXRlID0gdGhpcy50ZXh0U3Ryb2tlU3RhdGVfO1xuICAgIGNvbnN0IHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlXztcbiAgICBpZiAodGhpcy50ZXh0XyA9PT0gJycgfHwgIXRleHRTdGF0ZSB8fCAoIWZpbGxTdGF0ZSAmJiAhc3Ryb2tlU3RhdGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzO1xuICAgIGxldCBiZWdpbiA9IGNvb3JkaW5hdGVzLmxlbmd0aDtcblxuICAgIGNvbnN0IGdlb21ldHJ5VHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgICBsZXQgZmxhdENvb3JkaW5hdGVzID0gbnVsbDtcbiAgICBsZXQgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG5cbiAgICBpZiAoXG4gICAgICB0ZXh0U3RhdGUucGxhY2VtZW50ID09PSAnbGluZScgJiZcbiAgICAgIChnZW9tZXRyeVR5cGUgPT0gJ0xpbmVTdHJpbmcnIHx8XG4gICAgICAgIGdlb21ldHJ5VHlwZSA9PSAnTXVsdGlMaW5lU3RyaW5nJyB8fFxuICAgICAgICBnZW9tZXRyeVR5cGUgPT0gJ1BvbHlnb24nIHx8XG4gICAgICAgIGdlb21ldHJ5VHlwZSA9PSAnTXVsdGlQb2x5Z29uJylcbiAgICApIHtcbiAgICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmdldEJ1ZmZlcmVkTWF4RXh0ZW50KCksIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgZW5kcztcbiAgICAgIGZsYXRDb29yZGluYXRlcyA9IGdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgICAgaWYgKGdlb21ldHJ5VHlwZSA9PSAnTGluZVN0cmluZycpIHtcbiAgICAgICAgZW5kcyA9IFtmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoXTtcbiAgICAgIH0gZWxzZSBpZiAoZ2VvbWV0cnlUeXBlID09ICdNdWx0aUxpbmVTdHJpbmcnKSB7XG4gICAgICAgIGVuZHMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICApLmdldEVuZHMoKTtcbiAgICAgIH0gZWxzZSBpZiAoZ2VvbWV0cnlUeXBlID09ICdQb2x5Z29uJykge1xuICAgICAgICBlbmRzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KVxuICAgICAgICAgIC5nZXRFbmRzKClcbiAgICAgICAgICAuc2xpY2UoMCwgMSk7XG4gICAgICB9IGVsc2UgaWYgKGdlb21ldHJ5VHlwZSA9PSAnTXVsdGlQb2x5Z29uJykge1xuICAgICAgICBjb25zdCBlbmRzcyA9XG4gICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgICkuZ2V0RW5kc3MoKTtcbiAgICAgICAgZW5kcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgZW5kcy5wdXNoKGVuZHNzW2ldWzBdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5iZWdpbkdlb21ldHJ5KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgIGNvbnN0IHRleHRBbGlnbiA9IHRleHRTdGF0ZS50ZXh0QWxpZ247XG4gICAgICAvLyBObyBganVzdGlmeWAgc3VwcG9ydCBmb3IgbGluZSBwbGFjZW1lbnQuXG4gICAgICBsZXQgZmxhdE9mZnNldCA9IDA7XG4gICAgICBsZXQgZmxhdEVuZDtcbiAgICAgIGZvciAobGV0IG8gPSAwLCBvbyA9IGVuZHMubGVuZ3RoOyBvIDwgb287ICsrbykge1xuICAgICAgICBpZiAodGV4dEFsaWduID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNvbnN0IHJhbmdlID0gbWF0Y2hpbmdDaHVuayhcbiAgICAgICAgICAgIHRleHRTdGF0ZS5tYXhBbmdsZSxcbiAgICAgICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgICAgIGZsYXRPZmZzZXQsXG4gICAgICAgICAgICBlbmRzW29dLFxuICAgICAgICAgICAgc3RyaWRlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBmbGF0T2Zmc2V0ID0gcmFuZ2VbMF07XG4gICAgICAgICAgZmxhdEVuZCA9IHJhbmdlWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZsYXRFbmQgPSBlbmRzW29dO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSBmbGF0T2Zmc2V0OyBpIDwgZmxhdEVuZDsgaSArPSBzdHJpZGUpIHtcbiAgICAgICAgICBjb29yZGluYXRlcy5wdXNoKGZsYXRDb29yZGluYXRlc1tpXSwgZmxhdENvb3JkaW5hdGVzW2kgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW5kID0gY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgICAgICBmbGF0T2Zmc2V0ID0gZW5kc1tvXTtcbiAgICAgICAgdGhpcy5kcmF3Q2hhcnNfKGJlZ2luLCBlbmQpO1xuICAgICAgICBiZWdpbiA9IGVuZDtcbiAgICAgIH1cbiAgICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBnZW9tZXRyeVdpZHRocyA9IHRleHRTdGF0ZS5vdmVyZmxvdyA/IG51bGwgOiBbXTtcbiAgICAgIHN3aXRjaCAoZ2VvbWV0cnlUeXBlKSB7XG4gICAgICAgIGNhc2UgJ1BvaW50JzpcbiAgICAgICAgY2FzZSAnTXVsdGlQb2ludCc6XG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgICAgICkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0xpbmVTdHJpbmcnOlxuICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9XG4gICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICAgICApLmdldEZsYXRNaWRwb2ludCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdDaXJjbGUnOlxuICAgICAgICAgIGZsYXRDb29yZGluYXRlcyA9XG4gICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgICAgICkuZ2V0Q2VudGVyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ011bHRpTGluZVN0cmluZyc6XG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgICAgKS5nZXRGbGF0TWlkcG9pbnRzKCk7XG4gICAgICAgICAgc3RyaWRlID0gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUG9seWdvbic6XG4gICAgICAgICAgZmxhdENvb3JkaW5hdGVzID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgICAgZ2VvbWV0cnlcbiAgICAgICAgICAgICkuZ2V0RmxhdEludGVyaW9yUG9pbnQoKTtcbiAgICAgICAgICBpZiAoIXRleHRTdGF0ZS5vdmVyZmxvdykge1xuICAgICAgICAgICAgZ2VvbWV0cnlXaWR0aHMucHVzaChmbGF0Q29vcmRpbmF0ZXNbMl0gLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdHJpZGUgPSAzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdNdWx0aVBvbHlnb24nOlxuICAgICAgICAgIGNvbnN0IGludGVyaW9yUG9pbnRzID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgICAgKS5nZXRGbGF0SW50ZXJpb3JQb2ludHMoKTtcbiAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBpbnRlcmlvclBvaW50cy5sZW5ndGg7IGkgPCBpaTsgaSArPSAzKSB7XG4gICAgICAgICAgICBpZiAoIXRleHRTdGF0ZS5vdmVyZmxvdykge1xuICAgICAgICAgICAgICBnZW9tZXRyeVdpZHRocy5wdXNoKGludGVyaW9yUG9pbnRzW2kgKyAyXSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmbGF0Q29vcmRpbmF0ZXMucHVzaChpbnRlcmlvclBvaW50c1tpXSwgaW50ZXJpb3JQb2ludHNbaSArIDFdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZsYXRDb29yZGluYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RyaWRlID0gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVuZCA9IHRoaXMuYXBwZW5kRmxhdFBvaW50Q29vcmRpbmF0ZXMoZmxhdENvb3JkaW5hdGVzLCBzdHJpZGUpO1xuICAgICAgaWYgKGVuZCA9PT0gYmVnaW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBnZW9tZXRyeVdpZHRocyAmJlxuICAgICAgICAoZW5kIC0gYmVnaW4pIC8gMiAhPT0gZmxhdENvb3JkaW5hdGVzLmxlbmd0aCAvIHN0cmlkZVxuICAgICAgKSB7XG4gICAgICAgIGxldCBiZWcgPSBiZWdpbiAvIDI7XG4gICAgICAgIGdlb21ldHJ5V2lkdGhzID0gZ2VvbWV0cnlXaWR0aHMuZmlsdGVyKCh3LCBpKSA9PiB7XG4gICAgICAgICAgY29uc3Qga2VlcCA9XG4gICAgICAgICAgICBjb29yZGluYXRlc1soYmVnICsgaSkgKiAyXSA9PT0gZmxhdENvb3JkaW5hdGVzW2kgKiBzdHJpZGVdICYmXG4gICAgICAgICAgICBjb29yZGluYXRlc1soYmVnICsgaSkgKiAyICsgMV0gPT09IGZsYXRDb29yZGluYXRlc1tpICogc3RyaWRlICsgMV07XG4gICAgICAgICAgaWYgKCFrZWVwKSB7XG4gICAgICAgICAgICAtLWJlZztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGtlZXA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNhdmVUZXh0U3RhdGVzXygpO1xuXG4gICAgICBpZiAodGV4dFN0YXRlLmJhY2tncm91bmRGaWxsIHx8IHRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlKSB7XG4gICAgICAgIHRoaXMuc2V0RmlsbFN0cm9rZVN0eWxlKFxuICAgICAgICAgIHRleHRTdGF0ZS5iYWNrZ3JvdW5kRmlsbCxcbiAgICAgICAgICB0ZXh0U3RhdGUuYmFja2dyb3VuZFN0cm9rZVxuICAgICAgICApO1xuICAgICAgICBpZiAodGV4dFN0YXRlLmJhY2tncm91bmRGaWxsKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVGaWxsU3R5bGUodGhpcy5zdGF0ZSwgdGhpcy5jcmVhdGVGaWxsKTtcbiAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRmlsbCh0aGlzLnN0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVTdHJva2VTdHlsZSh0aGlzLnN0YXRlLCB0aGlzLmFwcGx5U3Ryb2tlKTtcbiAgICAgICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHRoaXMuY3JlYXRlU3Ryb2tlKHRoaXMuc3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmJlZ2luR2VvbWV0cnkoZ2VvbWV0cnksIGZlYXR1cmUpO1xuXG4gICAgICAvLyBhZGp1c3QgcGFkZGluZyBmb3IgbmVnYXRpdmUgc2NhbGVcbiAgICAgIGxldCBwYWRkaW5nID0gdGV4dFN0YXRlLnBhZGRpbmc7XG4gICAgICBpZiAoXG4gICAgICAgIHBhZGRpbmcgIT0gZGVmYXVsdFBhZGRpbmcgJiZcbiAgICAgICAgKHRleHRTdGF0ZS5zY2FsZVswXSA8IDAgfHwgdGV4dFN0YXRlLnNjYWxlWzFdIDwgMClcbiAgICAgICkge1xuICAgICAgICBsZXQgcDAgPSB0ZXh0U3RhdGUucGFkZGluZ1swXTtcbiAgICAgICAgbGV0IHAxID0gdGV4dFN0YXRlLnBhZGRpbmdbMV07XG4gICAgICAgIGxldCBwMiA9IHRleHRTdGF0ZS5wYWRkaW5nWzJdO1xuICAgICAgICBsZXQgcDMgPSB0ZXh0U3RhdGUucGFkZGluZ1szXTtcbiAgICAgICAgaWYgKHRleHRTdGF0ZS5zY2FsZVswXSA8IDApIHtcbiAgICAgICAgICBwMSA9IC1wMTtcbiAgICAgICAgICBwMyA9IC1wMztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGV4dFN0YXRlLnNjYWxlWzFdIDwgMCkge1xuICAgICAgICAgIHAwID0gLXAwO1xuICAgICAgICAgIHAyID0gLXAyO1xuICAgICAgICB9XG4gICAgICAgIHBhZGRpbmcgPSBbcDAsIHAxLCBwMiwgcDNdO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgaW1hZ2UgaXMgdW5rbm93biBhdCB0aGlzIHN0YWdlIHNvIHdlIHBhc3MgbnVsbDsgaXQgd2lsbCBiZSBjb21wdXRlZCBhdCByZW5kZXIgdGltZS5cbiAgICAgIC8vIEZvciBjbGFyaXR5LCB3ZSBwYXNzIE5hTiBmb3Igb2Zmc2V0WCwgb2Zmc2V0WSwgd2lkdGggYW5kIGhlaWdodCwgd2hpY2ggd2lsbCBiZSBjb21wdXRlZCBhdFxuICAgICAgLy8gcmVuZGVyIHRpbWUuXG4gICAgICBjb25zdCBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfSU1BR0UsXG4gICAgICAgIGJlZ2luLFxuICAgICAgICBlbmQsXG4gICAgICAgIG51bGwsXG4gICAgICAgIE5hTixcbiAgICAgICAgTmFOLFxuICAgICAgICBOYU4sXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3XyxcbiAgICAgICAgdGhpcy50ZXh0Um90YXRpb25fLFxuICAgICAgICBbMSwgMV0sXG4gICAgICAgIE5hTixcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgICAgICBwYWRkaW5nID09IGRlZmF1bHRQYWRkaW5nXG4gICAgICAgICAgPyBkZWZhdWx0UGFkZGluZ1xuICAgICAgICAgIDogcGFkZGluZy5tYXAoZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHAgKiBwaXhlbFJhdGlvO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICEhdGV4dFN0YXRlLmJhY2tncm91bmRGaWxsLFxuICAgICAgICAhIXRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlLFxuICAgICAgICB0aGlzLnRleHRfLFxuICAgICAgICB0aGlzLnRleHRLZXlfLFxuICAgICAgICB0aGlzLnN0cm9rZUtleV8sXG4gICAgICAgIHRoaXMuZmlsbEtleV8sXG4gICAgICAgIHRoaXMudGV4dE9mZnNldFhfLFxuICAgICAgICB0aGlzLnRleHRPZmZzZXRZXyxcbiAgICAgICAgZ2VvbWV0cnlXaWR0aHMsXG4gICAgICBdKTtcbiAgICAgIGNvbnN0IHNjYWxlID0gMSAvIHBpeGVsUmF0aW87XG4gICAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgICAgYmVnaW4sXG4gICAgICAgIGVuZCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgTmFOLFxuICAgICAgICBOYU4sXG4gICAgICAgIE5hTixcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfLFxuICAgICAgICB0aGlzLnRleHRSb3RhdGlvbl8sXG4gICAgICAgIFtzY2FsZSwgc2NhbGVdLFxuICAgICAgICBOYU4sXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyxcbiAgICAgICAgcGFkZGluZyxcbiAgICAgICAgISF0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwsXG4gICAgICAgICEhdGV4dFN0YXRlLmJhY2tncm91bmRTdHJva2UsXG4gICAgICAgIHRoaXMudGV4dF8sXG4gICAgICAgIHRoaXMudGV4dEtleV8sXG4gICAgICAgIHRoaXMuc3Ryb2tlS2V5XyxcbiAgICAgICAgdGhpcy5maWxsS2V5XyxcbiAgICAgICAgdGhpcy50ZXh0T2Zmc2V0WF8sXG4gICAgICAgIHRoaXMudGV4dE9mZnNldFlfLFxuICAgICAgICBnZW9tZXRyeVdpZHRocyxcbiAgICAgIF0pO1xuXG4gICAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2F2ZVRleHRTdGF0ZXNfKCkge1xuICAgIGNvbnN0IHN0cm9rZVN0YXRlID0gdGhpcy50ZXh0U3Ryb2tlU3RhdGVfO1xuICAgIGNvbnN0IHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlXztcbiAgICBjb25zdCBmaWxsU3RhdGUgPSB0aGlzLnRleHRGaWxsU3RhdGVfO1xuXG4gICAgY29uc3Qgc3Ryb2tlS2V5ID0gdGhpcy5zdHJva2VLZXlfO1xuICAgIGlmIChzdHJva2VTdGF0ZSkge1xuICAgICAgaWYgKCEoc3Ryb2tlS2V5IGluIHRoaXMuc3Ryb2tlU3RhdGVzKSkge1xuICAgICAgICB0aGlzLnN0cm9rZVN0YXRlc1tzdHJva2VLZXldID0ge1xuICAgICAgICAgIHN0cm9rZVN0eWxlOiBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgICBsaW5lQ2FwOiBzdHJva2VTdGF0ZS5saW5lQ2FwLFxuICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0OiBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgICAgICBsaW5lV2lkdGg6IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgICBsaW5lSm9pbjogc3Ryb2tlU3RhdGUubGluZUpvaW4sXG4gICAgICAgICAgbWl0ZXJMaW1pdDogc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgICBsaW5lRGFzaDogc3Ryb2tlU3RhdGUubGluZURhc2gsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRleHRLZXkgPSB0aGlzLnRleHRLZXlfO1xuICAgIGlmICghKHRleHRLZXkgaW4gdGhpcy50ZXh0U3RhdGVzKSkge1xuICAgICAgdGhpcy50ZXh0U3RhdGVzW3RleHRLZXldID0ge1xuICAgICAgICBmb250OiB0ZXh0U3RhdGUuZm9udCxcbiAgICAgICAgdGV4dEFsaWduOiB0ZXh0U3RhdGUudGV4dEFsaWduIHx8IGRlZmF1bHRUZXh0QWxpZ24sXG4gICAgICAgIGp1c3RpZnk6IHRleHRTdGF0ZS5qdXN0aWZ5LFxuICAgICAgICB0ZXh0QmFzZWxpbmU6IHRleHRTdGF0ZS50ZXh0QmFzZWxpbmUgfHwgZGVmYXVsdFRleHRCYXNlbGluZSxcbiAgICAgICAgc2NhbGU6IHRleHRTdGF0ZS5zY2FsZSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGZpbGxLZXkgPSB0aGlzLmZpbGxLZXlfO1xuICAgIGlmIChmaWxsU3RhdGUpIHtcbiAgICAgIGlmICghKGZpbGxLZXkgaW4gdGhpcy5maWxsU3RhdGVzKSkge1xuICAgICAgICB0aGlzLmZpbGxTdGF0ZXNbZmlsbEtleV0gPSB7XG4gICAgICAgICAgZmlsbFN0eWxlOiBmaWxsU3RhdGUuZmlsbFN0eWxlLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gYmVnaW4gQmVnaW4uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgRW5kLlxuICAgKi9cbiAgZHJhd0NoYXJzXyhiZWdpbiwgZW5kKSB7XG4gICAgY29uc3Qgc3Ryb2tlU3RhdGUgPSB0aGlzLnRleHRTdHJva2VTdGF0ZV87XG4gICAgY29uc3QgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVfO1xuXG4gICAgY29uc3Qgc3Ryb2tlS2V5ID0gdGhpcy5zdHJva2VLZXlfO1xuICAgIGNvbnN0IHRleHRLZXkgPSB0aGlzLnRleHRLZXlfO1xuICAgIGNvbnN0IGZpbGxLZXkgPSB0aGlzLmZpbGxLZXlfO1xuICAgIHRoaXMuc2F2ZVRleHRTdGF0ZXNfKCk7XG5cbiAgICBjb25zdCBwaXhlbFJhdGlvID0gdGhpcy5waXhlbFJhdGlvO1xuICAgIGNvbnN0IGJhc2VsaW5lID0gVEVYVF9BTElHTlt0ZXh0U3RhdGUudGV4dEJhc2VsaW5lXTtcblxuICAgIGNvbnN0IG9mZnNldFkgPSB0aGlzLnRleHRPZmZzZXRZXyAqIHBpeGVsUmF0aW87XG4gICAgY29uc3QgdGV4dCA9IHRoaXMudGV4dF87XG4gICAgY29uc3Qgc3Ryb2tlV2lkdGggPSBzdHJva2VTdGF0ZVxuICAgICAgPyAoc3Ryb2tlU3RhdGUubGluZVdpZHRoICogTWF0aC5hYnModGV4dFN0YXRlLnNjYWxlWzBdKSkgLyAyXG4gICAgICA6IDA7XG5cbiAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKFtcbiAgICAgIENhbnZhc0luc3RydWN0aW9uLkRSQVdfQ0hBUlMsXG4gICAgICBiZWdpbixcbiAgICAgIGVuZCxcbiAgICAgIGJhc2VsaW5lLFxuICAgICAgdGV4dFN0YXRlLm92ZXJmbG93LFxuICAgICAgZmlsbEtleSxcbiAgICAgIHRleHRTdGF0ZS5tYXhBbmdsZSxcbiAgICAgIHBpeGVsUmF0aW8sXG4gICAgICBvZmZzZXRZLFxuICAgICAgc3Ryb2tlS2V5LFxuICAgICAgc3Ryb2tlV2lkdGggKiBwaXhlbFJhdGlvLFxuICAgICAgdGV4dCxcbiAgICAgIHRleHRLZXksXG4gICAgICAxLFxuICAgIF0pO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19DSEFSUyxcbiAgICAgIGJlZ2luLFxuICAgICAgZW5kLFxuICAgICAgYmFzZWxpbmUsXG4gICAgICB0ZXh0U3RhdGUub3ZlcmZsb3csXG4gICAgICBmaWxsS2V5LFxuICAgICAgdGV4dFN0YXRlLm1heEFuZ2xlLFxuICAgICAgMSxcbiAgICAgIG9mZnNldFksXG4gICAgICBzdHJva2VLZXksXG4gICAgICBzdHJva2VXaWR0aCxcbiAgICAgIHRleHQsXG4gICAgICB0ZXh0S2V5LFxuICAgICAgMSAvIHBpeGVsUmF0aW8sXG4gICAgXSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9UZXh0LmpzXCIpLmRlZmF1bHR9IHRleHRTdHlsZSBUZXh0IHN0eWxlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW3NoYXJlZERhdGFdIFNoYXJlZCBkYXRhLlxuICAgKi9cbiAgc2V0VGV4dFN0eWxlKHRleHRTdHlsZSwgc2hhcmVkRGF0YSkge1xuICAgIGxldCB0ZXh0U3RhdGUsIGZpbGxTdGF0ZSwgc3Ryb2tlU3RhdGU7XG4gICAgaWYgKCF0ZXh0U3R5bGUpIHtcbiAgICAgIHRoaXMudGV4dF8gPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGV4dEZpbGxTdHlsZSA9IHRleHRTdHlsZS5nZXRGaWxsKCk7XG4gICAgICBpZiAoIXRleHRGaWxsU3R5bGUpIHtcbiAgICAgICAgZmlsbFN0YXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IGZpbGxTdGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbGxTdGF0ZSA9IHRoaXMudGV4dEZpbGxTdGF0ZV87XG4gICAgICAgIGlmICghZmlsbFN0YXRlKSB7XG4gICAgICAgICAgZmlsbFN0YXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfSAqLyAoe30pO1xuICAgICAgICAgIHRoaXMudGV4dEZpbGxTdGF0ZV8gPSBmaWxsU3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgZmlsbFN0YXRlLmZpbGxTdHlsZSA9IGFzQ29sb3JMaWtlKFxuICAgICAgICAgIHRleHRGaWxsU3R5bGUuZ2V0Q29sb3IoKSB8fCBkZWZhdWx0RmlsbFN0eWxlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRleHRTdHJva2VTdHlsZSA9IHRleHRTdHlsZS5nZXRTdHJva2UoKTtcbiAgICAgIGlmICghdGV4dFN0cm9rZVN0eWxlKSB7XG4gICAgICAgIHN0cm9rZVN0YXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0U3Ryb2tlU3RhdGVfID0gc3Ryb2tlU3RhdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHJva2VTdGF0ZSA9IHRoaXMudGV4dFN0cm9rZVN0YXRlXztcbiAgICAgICAgaWYgKCFzdHJva2VTdGF0ZSkge1xuICAgICAgICAgIHN0cm9rZVN0YXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGV9ICovICh7fSk7XG4gICAgICAgICAgdGhpcy50ZXh0U3Ryb2tlU3RhdGVfID0gc3Ryb2tlU3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGluZURhc2ggPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZURhc2goKTtcbiAgICAgICAgY29uc3QgbGluZURhc2hPZmZzZXQgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZURhc2hPZmZzZXQoKTtcbiAgICAgICAgY29uc3QgbGluZVdpZHRoID0gdGV4dFN0cm9rZVN0eWxlLmdldFdpZHRoKCk7XG4gICAgICAgIGNvbnN0IG1pdGVyTGltaXQgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TWl0ZXJMaW1pdCgpO1xuICAgICAgICBzdHJva2VTdGF0ZS5saW5lQ2FwID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVDYXAoKSB8fCBkZWZhdWx0TGluZUNhcDtcbiAgICAgICAgc3Ryb2tlU3RhdGUubGluZURhc2ggPSBsaW5lRGFzaCA/IGxpbmVEYXNoLnNsaWNlKCkgOiBkZWZhdWx0TGluZURhc2g7XG4gICAgICAgIHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0ID1cbiAgICAgICAgICBsaW5lRGFzaE9mZnNldCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdExpbmVEYXNoT2Zmc2V0IDogbGluZURhc2hPZmZzZXQ7XG4gICAgICAgIHN0cm9rZVN0YXRlLmxpbmVKb2luID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVKb2luKCkgfHwgZGVmYXVsdExpbmVKb2luO1xuICAgICAgICBzdHJva2VTdGF0ZS5saW5lV2lkdGggPVxuICAgICAgICAgIGxpbmVXaWR0aCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdExpbmVXaWR0aCA6IGxpbmVXaWR0aDtcbiAgICAgICAgc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCA9XG4gICAgICAgICAgbWl0ZXJMaW1pdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdE1pdGVyTGltaXQgOiBtaXRlckxpbWl0O1xuICAgICAgICBzdHJva2VTdGF0ZS5zdHJva2VTdHlsZSA9IGFzQ29sb3JMaWtlKFxuICAgICAgICAgIHRleHRTdHJva2VTdHlsZS5nZXRDb2xvcigpIHx8IGRlZmF1bHRTdHJva2VTdHlsZVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0ZXh0U3RhdGUgPSB0aGlzLnRleHRTdGF0ZV87XG4gICAgICBjb25zdCBmb250ID0gdGV4dFN0eWxlLmdldEZvbnQoKSB8fCBkZWZhdWx0Rm9udDtcbiAgICAgIHJlZ2lzdGVyRm9udChmb250KTtcbiAgICAgIGNvbnN0IHRleHRTY2FsZSA9IHRleHRTdHlsZS5nZXRTY2FsZUFycmF5KCk7XG4gICAgICB0ZXh0U3RhdGUub3ZlcmZsb3cgPSB0ZXh0U3R5bGUuZ2V0T3ZlcmZsb3coKTtcbiAgICAgIHRleHRTdGF0ZS5mb250ID0gZm9udDtcbiAgICAgIHRleHRTdGF0ZS5tYXhBbmdsZSA9IHRleHRTdHlsZS5nZXRNYXhBbmdsZSgpO1xuICAgICAgdGV4dFN0YXRlLnBsYWNlbWVudCA9IHRleHRTdHlsZS5nZXRQbGFjZW1lbnQoKTtcbiAgICAgIHRleHRTdGF0ZS50ZXh0QWxpZ24gPSB0ZXh0U3R5bGUuZ2V0VGV4dEFsaWduKCk7XG4gICAgICB0ZXh0U3RhdGUuanVzdGlmeSA9IHRleHRTdHlsZS5nZXRKdXN0aWZ5KCk7XG4gICAgICB0ZXh0U3RhdGUudGV4dEJhc2VsaW5lID1cbiAgICAgICAgdGV4dFN0eWxlLmdldFRleHRCYXNlbGluZSgpIHx8IGRlZmF1bHRUZXh0QmFzZWxpbmU7XG4gICAgICB0ZXh0U3RhdGUuYmFja2dyb3VuZEZpbGwgPSB0ZXh0U3R5bGUuZ2V0QmFja2dyb3VuZEZpbGwoKTtcbiAgICAgIHRleHRTdGF0ZS5iYWNrZ3JvdW5kU3Ryb2tlID0gdGV4dFN0eWxlLmdldEJhY2tncm91bmRTdHJva2UoKTtcbiAgICAgIHRleHRTdGF0ZS5wYWRkaW5nID0gdGV4dFN0eWxlLmdldFBhZGRpbmcoKSB8fCBkZWZhdWx0UGFkZGluZztcbiAgICAgIHRleHRTdGF0ZS5zY2FsZSA9IHRleHRTY2FsZSA9PT0gdW5kZWZpbmVkID8gWzEsIDFdIDogdGV4dFNjYWxlO1xuXG4gICAgICBjb25zdCB0ZXh0T2Zmc2V0WCA9IHRleHRTdHlsZS5nZXRPZmZzZXRYKCk7XG4gICAgICBjb25zdCB0ZXh0T2Zmc2V0WSA9IHRleHRTdHlsZS5nZXRPZmZzZXRZKCk7XG4gICAgICBjb25zdCB0ZXh0Um90YXRlV2l0aFZpZXcgPSB0ZXh0U3R5bGUuZ2V0Um90YXRlV2l0aFZpZXcoKTtcbiAgICAgIGNvbnN0IHRleHRSb3RhdGlvbiA9IHRleHRTdHlsZS5nZXRSb3RhdGlvbigpO1xuICAgICAgdGhpcy50ZXh0XyA9IHRleHRTdHlsZS5nZXRUZXh0KCkgfHwgJyc7XG4gICAgICB0aGlzLnRleHRPZmZzZXRYXyA9IHRleHRPZmZzZXRYID09PSB1bmRlZmluZWQgPyAwIDogdGV4dE9mZnNldFg7XG4gICAgICB0aGlzLnRleHRPZmZzZXRZXyA9IHRleHRPZmZzZXRZID09PSB1bmRlZmluZWQgPyAwIDogdGV4dE9mZnNldFk7XG4gICAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18gPVxuICAgICAgICB0ZXh0Um90YXRlV2l0aFZpZXcgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogdGV4dFJvdGF0ZVdpdGhWaWV3O1xuICAgICAgdGhpcy50ZXh0Um90YXRpb25fID0gdGV4dFJvdGF0aW9uID09PSB1bmRlZmluZWQgPyAwIDogdGV4dFJvdGF0aW9uO1xuXG4gICAgICB0aGlzLnN0cm9rZUtleV8gPSBzdHJva2VTdGF0ZVxuICAgICAgICA/ICh0eXBlb2Ygc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGUgPT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGVcbiAgICAgICAgICAgIDogZ2V0VWlkKHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlKSkgK1xuICAgICAgICAgIHN0cm9rZVN0YXRlLmxpbmVDYXAgK1xuICAgICAgICAgIHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0ICtcbiAgICAgICAgICAnfCcgK1xuICAgICAgICAgIHN0cm9rZVN0YXRlLmxpbmVXaWR0aCArXG4gICAgICAgICAgc3Ryb2tlU3RhdGUubGluZUpvaW4gK1xuICAgICAgICAgIHN0cm9rZVN0YXRlLm1pdGVyTGltaXQgK1xuICAgICAgICAgICdbJyArXG4gICAgICAgICAgc3Ryb2tlU3RhdGUubGluZURhc2guam9pbigpICtcbiAgICAgICAgICAnXSdcbiAgICAgICAgOiAnJztcbiAgICAgIHRoaXMudGV4dEtleV8gPVxuICAgICAgICB0ZXh0U3RhdGUuZm9udCArXG4gICAgICAgIHRleHRTdGF0ZS5zY2FsZSArXG4gICAgICAgICh0ZXh0U3RhdGUudGV4dEFsaWduIHx8ICc/JykgK1xuICAgICAgICAodGV4dFN0YXRlLmp1c3RpZnkgfHwgJz8nKSArXG4gICAgICAgICh0ZXh0U3RhdGUudGV4dEJhc2VsaW5lIHx8ICc/Jyk7XG4gICAgICB0aGlzLmZpbGxLZXlfID0gZmlsbFN0YXRlXG4gICAgICAgID8gdHlwZW9mIGZpbGxTdGF0ZS5maWxsU3R5bGUgPT0gJ3N0cmluZydcbiAgICAgICAgICA/IGZpbGxTdGF0ZS5maWxsU3R5bGVcbiAgICAgICAgICA6ICd8JyArIGdldFVpZChmaWxsU3RhdGUuZmlsbFN0eWxlKVxuICAgICAgICA6ICcnO1xuICAgIH1cbiAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfID0gc2hhcmVkRGF0YTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNUZXh0QnVpbGRlcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cFxuICovXG5cbmltcG9ydCBCdWlsZGVyIGZyb20gJy4vQnVpbGRlci5qcyc7XG5pbXBvcnQgSW1hZ2VCdWlsZGVyIGZyb20gJy4vSW1hZ2VCdWlsZGVyLmpzJztcbmltcG9ydCBMaW5lU3RyaW5nQnVpbGRlciBmcm9tICcuL0xpbmVTdHJpbmdCdWlsZGVyLmpzJztcbmltcG9ydCBQb2x5Z29uQnVpbGRlciBmcm9tICcuL1BvbHlnb25CdWlsZGVyLmpzJztcbmltcG9ydCBUZXh0QnVpbGRlciBmcm9tICcuL1RleHRCdWlsZGVyLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7T2JqZWN0PGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5CdWlsZGVyVHlwZSwgdHlwZW9mIEJ1aWxkZXI+fVxuICovXG5jb25zdCBCQVRDSF9DT05TVFJVQ1RPUlMgPSB7XG4gICdDaXJjbGUnOiBQb2x5Z29uQnVpbGRlcixcbiAgJ0RlZmF1bHQnOiBCdWlsZGVyLFxuICAnSW1hZ2UnOiBJbWFnZUJ1aWxkZXIsXG4gICdMaW5lU3RyaW5nJzogTGluZVN0cmluZ0J1aWxkZXIsXG4gICdQb2x5Z29uJzogUG9seWdvbkJ1aWxkZXIsXG4gICdUZXh0JzogVGV4dEJ1aWxkZXIsXG59O1xuXG5jbGFzcyBCdWlsZGVyR3JvdXAge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gbWF4RXh0ZW50IE1heCBleHRlbnQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKi9cbiAgY29uc3RydWN0b3IodG9sZXJhbmNlLCBtYXhFeHRlbnQsIHJlc29sdXRpb24sIHBpeGVsUmF0aW8pIHtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50b2xlcmFuY2VfID0gdG9sZXJhbmNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLm1heEV4dGVudF8gPSBtYXhFeHRlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5waXhlbFJhdGlvXyA9IHBpeGVsUmF0aW87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uXyA9IHJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuQnVpbGRlclR5cGUsIEJ1aWxkZXI+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmJ1aWxkZXJzQnlaSW5kZXhfID0ge307XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IU9iamVjdDxzdHJpbmcsICFPYmplY3Q8aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkJ1aWxkZXJUeXBlLCBpbXBvcnQoXCIuL0J1aWxkZXIuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zPj59IFRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zXG4gICAqL1xuICBmaW5pc2goKSB7XG4gICAgY29uc3QgYnVpbGRlckluc3RydWN0aW9ucyA9IHt9O1xuICAgIGZvciAoY29uc3QgektleSBpbiB0aGlzLmJ1aWxkZXJzQnlaSW5kZXhfKSB7XG4gICAgICBidWlsZGVySW5zdHJ1Y3Rpb25zW3pLZXldID0gYnVpbGRlckluc3RydWN0aW9uc1t6S2V5XSB8fCB7fTtcbiAgICAgIGNvbnN0IGJ1aWxkZXJzID0gdGhpcy5idWlsZGVyc0J5WkluZGV4X1t6S2V5XTtcbiAgICAgIGZvciAoY29uc3QgYnVpbGRlcktleSBpbiBidWlsZGVycykge1xuICAgICAgICBjb25zdCBidWlsZGVySW5zdHJ1Y3Rpb24gPSBidWlsZGVyc1tidWlsZGVyS2V5XS5maW5pc2goKTtcbiAgICAgICAgYnVpbGRlckluc3RydWN0aW9uc1t6S2V5XVtidWlsZGVyS2V5XSA9IGJ1aWxkZXJJbnN0cnVjdGlvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJ1aWxkZXJJbnN0cnVjdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSB6SW5kZXggWiBpbmRleC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuQnVpbGRlclR5cGV9IGJ1aWxkZXJUeXBlIFJlcGxheSB0eXBlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9WZWN0b3JDb250ZXh0LmpzXCIpLmRlZmF1bHR9IFJlcGxheS5cbiAgICovXG4gIGdldEJ1aWxkZXIoekluZGV4LCBidWlsZGVyVHlwZSkge1xuICAgIGNvbnN0IHpJbmRleEtleSA9IHpJbmRleCAhPT0gdW5kZWZpbmVkID8gekluZGV4LnRvU3RyaW5nKCkgOiAnMCc7XG4gICAgbGV0IHJlcGxheXMgPSB0aGlzLmJ1aWxkZXJzQnlaSW5kZXhfW3pJbmRleEtleV07XG4gICAgaWYgKHJlcGxheXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVwbGF5cyA9IHt9O1xuICAgICAgdGhpcy5idWlsZGVyc0J5WkluZGV4X1t6SW5kZXhLZXldID0gcmVwbGF5cztcbiAgICB9XG4gICAgbGV0IHJlcGxheSA9IHJlcGxheXNbYnVpbGRlclR5cGVdO1xuICAgIGlmIChyZXBsYXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgQ29uc3RydWN0b3IgPSBCQVRDSF9DT05TVFJVQ1RPUlNbYnVpbGRlclR5cGVdO1xuICAgICAgcmVwbGF5ID0gbmV3IENvbnN0cnVjdG9yKFxuICAgICAgICB0aGlzLnRvbGVyYW5jZV8sXG4gICAgICAgIHRoaXMubWF4RXh0ZW50XyxcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uXyxcbiAgICAgICAgdGhpcy5waXhlbFJhdGlvX1xuICAgICAgKTtcbiAgICAgIHJlcGxheXNbYnVpbGRlclR5cGVdID0gcmVwbGF5O1xuICAgIH1cbiAgICByZXR1cm4gcmVwbGF5O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1aWxkZXJHcm91cDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0ltYWdlQnVpbGRlclxuICovXG5pbXBvcnQgQ2FudmFzQnVpbGRlciBmcm9tICcuL0J1aWxkZXIuanMnO1xuaW1wb3J0IENhbnZhc0luc3RydWN0aW9uIGZyb20gJy4vSW5zdHJ1Y3Rpb24uanMnO1xuXG5jbGFzcyBDYW52YXNJbWFnZUJ1aWxkZXIgZXh0ZW5kcyBDYW52YXNCdWlsZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXhpbXVtIGV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgIHN1cGVyKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlUGl4ZWxSYXRpb18gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuYW5jaG9yWF8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuYW5jaG9yWV8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0XyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5vcGFjaXR5XyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5YXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5ZXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucm90YXRlV2l0aFZpZXdfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0aW9uXyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5zY2FsZV8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMud2lkdGhfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7XCJkZWNsdXR0ZXJcInxcIm9ic3RhY2xlXCJ8XCJub25lXCJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuZGVjbHV0dGVyTW9kZV8gPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBEYXRhIHNoYXJlZCB3aXRoIGEgdGV4dCBidWlsZGVyIGZvciBjb21iaW5lZCBkZWNsdXR0ZXJpbmcuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkRlY2x1dHRlckltYWdlV2l0aFRleHR9XG4gICAgICovXG4gICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IHBvaW50R2VvbWV0cnkgUG9pbnQgZ2VvbWV0cnkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgKi9cbiAgZHJhd1BvaW50KHBvaW50R2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICBpZiAoIXRoaXMuaW1hZ2VfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYmVnaW5HZW9tZXRyeShwb2ludEdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBwb2ludEdlb21ldHJ5LmdldEZsYXRDb29yZGluYXRlcygpO1xuICAgIGNvbnN0IHN0cmlkZSA9IHBvaW50R2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgY29uc3QgbXlCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgIGNvbnN0IG15RW5kID0gdGhpcy5hcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG4gICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLFxuICAgICAgbXlCZWdpbixcbiAgICAgIG15RW5kLFxuICAgICAgdGhpcy5pbWFnZV8sXG4gICAgICAvLyBSZW1haW5pbmcgYXJndW1lbnRzIHRvIERSQVdfSU1BR0UgYXJlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuICAgICAgdGhpcy5hbmNob3JYXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgIHRoaXMuYW5jaG9yWV8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICBNYXRoLmNlaWwodGhpcy5oZWlnaHRfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fKSxcbiAgICAgIHRoaXMub3BhY2l0eV8sXG4gICAgICB0aGlzLm9yaWdpblhfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgdGhpcy5vcmlnaW5ZXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgIHRoaXMucm90YXRlV2l0aFZpZXdfLFxuICAgICAgdGhpcy5yb3RhdGlvbl8sXG4gICAgICBbXG4gICAgICAgICh0aGlzLnNjYWxlX1swXSAqIHRoaXMucGl4ZWxSYXRpbykgLyB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICAgICh0aGlzLnNjYWxlX1sxXSAqIHRoaXMucGl4ZWxSYXRpbykgLyB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICBdLFxuICAgICAgTWF0aC5jZWlsKHRoaXMud2lkdGhfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fKSxcbiAgICAgIHRoaXMuZGVjbHV0dGVyTW9kZV8sXG4gICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgIF0pO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgIG15QmVnaW4sXG4gICAgICBteUVuZCxcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfLFxuICAgICAgLy8gUmVtYWluaW5nIGFyZ3VtZW50cyB0byBEUkFXX0lNQUdFIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICAgIHRoaXMuYW5jaG9yWF8sXG4gICAgICB0aGlzLmFuY2hvcllfLFxuICAgICAgdGhpcy5oZWlnaHRfLFxuICAgICAgdGhpcy5vcGFjaXR5XyxcbiAgICAgIHRoaXMub3JpZ2luWF8sXG4gICAgICB0aGlzLm9yaWdpbllfLFxuICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18sXG4gICAgICB0aGlzLnJvdGF0aW9uXyxcbiAgICAgIHRoaXMuc2NhbGVfLFxuICAgICAgdGhpcy53aWR0aF8sXG4gICAgICB0aGlzLmRlY2x1dHRlck1vZGVfLFxuICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyxcbiAgICBdKTtcbiAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBtdWx0aVBvaW50R2VvbWV0cnkgTXVsdGlQb2ludCBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3TXVsdGlQb2ludChtdWx0aVBvaW50R2VvbWV0cnksIGZlYXR1cmUpIHtcbiAgICBpZiAoIXRoaXMuaW1hZ2VfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYmVnaW5HZW9tZXRyeShtdWx0aVBvaW50R2VvbWV0cnksIGZlYXR1cmUpO1xuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IG11bHRpUG9pbnRHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBjb25zdCBzdHJpZGUgPSBtdWx0aVBvaW50R2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgY29uc3QgbXlCZWdpbiA9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO1xuICAgIGNvbnN0IG15RW5kID0gdGhpcy5hcHBlbmRGbGF0UG9pbnRDb29yZGluYXRlcyhmbGF0Q29vcmRpbmF0ZXMsIHN0cmlkZSk7XG4gICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChbXG4gICAgICBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0lNQUdFLFxuICAgICAgbXlCZWdpbixcbiAgICAgIG15RW5kLFxuICAgICAgdGhpcy5pbWFnZV8sXG4gICAgICAvLyBSZW1haW5pbmcgYXJndW1lbnRzIHRvIERSQVdfSU1BR0UgYXJlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuICAgICAgdGhpcy5hbmNob3JYXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgIHRoaXMuYW5jaG9yWV8gKiB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICBNYXRoLmNlaWwodGhpcy5oZWlnaHRfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fKSxcbiAgICAgIHRoaXMub3BhY2l0eV8sXG4gICAgICB0aGlzLm9yaWdpblhfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fLFxuICAgICAgdGhpcy5vcmlnaW5ZXyAqIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyxcbiAgICAgIHRoaXMucm90YXRlV2l0aFZpZXdfLFxuICAgICAgdGhpcy5yb3RhdGlvbl8sXG4gICAgICBbXG4gICAgICAgICh0aGlzLnNjYWxlX1swXSAqIHRoaXMucGl4ZWxSYXRpbykgLyB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICAgICh0aGlzLnNjYWxlX1sxXSAqIHRoaXMucGl4ZWxSYXRpbykgLyB0aGlzLmltYWdlUGl4ZWxSYXRpb18sXG4gICAgICBdLFxuICAgICAgTWF0aC5jZWlsKHRoaXMud2lkdGhfICogdGhpcy5pbWFnZVBpeGVsUmF0aW9fKSxcbiAgICAgIHRoaXMuZGVjbHV0dGVyTW9kZV8sXG4gICAgICB0aGlzLmRlY2x1dHRlckltYWdlV2l0aFRleHRfLFxuICAgIF0pO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goW1xuICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRSxcbiAgICAgIG15QmVnaW4sXG4gICAgICBteUVuZCxcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfLFxuICAgICAgLy8gUmVtYWluaW5nIGFyZ3VtZW50cyB0byBEUkFXX0lNQUdFIGFyZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICAgIHRoaXMuYW5jaG9yWF8sXG4gICAgICB0aGlzLmFuY2hvcllfLFxuICAgICAgdGhpcy5oZWlnaHRfLFxuICAgICAgdGhpcy5vcGFjaXR5XyxcbiAgICAgIHRoaXMub3JpZ2luWF8sXG4gICAgICB0aGlzLm9yaWdpbllfLFxuICAgICAgdGhpcy5yb3RhdGVXaXRoVmlld18sXG4gICAgICB0aGlzLnJvdGF0aW9uXyxcbiAgICAgIHRoaXMuc2NhbGVfLFxuICAgICAgdGhpcy53aWR0aF8sXG4gICAgICB0aGlzLmRlY2x1dHRlck1vZGVfLFxuICAgICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyxcbiAgICBdKTtcbiAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnN9IHRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zLlxuICAgKi9cbiAgZmluaXNoKCkge1xuICAgIHRoaXMucmV2ZXJzZUhpdERldGVjdGlvbkluc3RydWN0aW9ucygpO1xuICAgIC8vIEZJWE1FIHRoaXMgZG9lc24ndCByZWFsbHkgcHJvdGVjdCB1cyBhZ2FpbnN0IGZ1cnRoZXIgY2FsbHMgdG8gZHJhdypHZW9tZXRyeVxuICAgIHRoaXMuYW5jaG9yWF8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5hbmNob3JZXyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlXyA9IG51bGw7XG4gICAgdGhpcy5pbWFnZV8gPSBudWxsO1xuICAgIHRoaXMuaW1hZ2VQaXhlbFJhdGlvXyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmhlaWdodF8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5zY2FsZV8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5vcGFjaXR5XyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm9yaWdpblhfID0gdW5kZWZpbmVkO1xuICAgIHRoaXMub3JpZ2luWV8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5yb3RhdGlvbl8gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy53aWR0aF8gPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN1cGVyLmZpbmlzaCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvSW1hZ2UuanNcIikuZGVmYXVsdH0gaW1hZ2VTdHlsZSBJbWFnZSBzdHlsZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtzaGFyZWREYXRhXSBTaGFyZWQgZGF0YS5cbiAgICovXG4gIHNldEltYWdlU3R5bGUoaW1hZ2VTdHlsZSwgc2hhcmVkRGF0YSkge1xuICAgIGNvbnN0IGFuY2hvciA9IGltYWdlU3R5bGUuZ2V0QW5jaG9yKCk7XG4gICAgY29uc3Qgc2l6ZSA9IGltYWdlU3R5bGUuZ2V0U2l6ZSgpO1xuICAgIGNvbnN0IG9yaWdpbiA9IGltYWdlU3R5bGUuZ2V0T3JpZ2luKCk7XG4gICAgdGhpcy5pbWFnZVBpeGVsUmF0aW9fID0gaW1hZ2VTdHlsZS5nZXRQaXhlbFJhdGlvKHRoaXMucGl4ZWxSYXRpbyk7XG4gICAgdGhpcy5hbmNob3JYXyA9IGFuY2hvclswXTtcbiAgICB0aGlzLmFuY2hvcllfID0gYW5jaG9yWzFdO1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW1hZ2VfID0gaW1hZ2VTdHlsZS5nZXRIaXREZXRlY3Rpb25JbWFnZSgpO1xuICAgIHRoaXMuaW1hZ2VfID0gaW1hZ2VTdHlsZS5nZXRJbWFnZSh0aGlzLnBpeGVsUmF0aW8pO1xuICAgIHRoaXMuaGVpZ2h0XyA9IHNpemVbMV07XG4gICAgdGhpcy5vcGFjaXR5XyA9IGltYWdlU3R5bGUuZ2V0T3BhY2l0eSgpO1xuICAgIHRoaXMub3JpZ2luWF8gPSBvcmlnaW5bMF07XG4gICAgdGhpcy5vcmlnaW5ZXyA9IG9yaWdpblsxXTtcbiAgICB0aGlzLnJvdGF0ZVdpdGhWaWV3XyA9IGltYWdlU3R5bGUuZ2V0Um90YXRlV2l0aFZpZXcoKTtcbiAgICB0aGlzLnJvdGF0aW9uXyA9IGltYWdlU3R5bGUuZ2V0Um90YXRpb24oKTtcbiAgICB0aGlzLnNjYWxlXyA9IGltYWdlU3R5bGUuZ2V0U2NhbGVBcnJheSgpO1xuICAgIHRoaXMud2lkdGhfID0gc2l6ZVswXTtcbiAgICB0aGlzLmRlY2x1dHRlck1vZGVfID0gaW1hZ2VTdHlsZS5nZXREZWNsdXR0ZXJNb2RlKCk7XG4gICAgdGhpcy5kZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyA9IHNoYXJlZERhdGE7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzSW1hZ2VCdWlsZGVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvTGluZVN0cmluZ0J1aWxkZXJcbiAqL1xuaW1wb3J0IENhbnZhc0J1aWxkZXIgZnJvbSAnLi9CdWlsZGVyLmpzJztcbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiwge1xuICBiZWdpblBhdGhJbnN0cnVjdGlvbixcbiAgc3Ryb2tlSW5zdHJ1Y3Rpb24sXG59IGZyb20gJy4vSW5zdHJ1Y3Rpb24uanMnO1xuaW1wb3J0IHtkZWZhdWx0TGluZURhc2gsIGRlZmF1bHRMaW5lRGFzaE9mZnNldH0gZnJvbSAnLi4vY2FudmFzLmpzJztcblxuY2xhc3MgQ2FudmFzTGluZVN0cmluZ0J1aWxkZXIgZXh0ZW5kcyBDYW52YXNCdWlsZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heEV4dGVudCBNYXhpbXVtIGV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0b2xlcmFuY2UsIG1heEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICAgIHN1cGVyKHRvbGVyYW5jZSwgbWF4RXh0ZW50LCByZXNvbHV0aW9uLCBwaXhlbFJhdGlvKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IGVuZC5cbiAgICovXG4gIGRyYXdGbGF0Q29vcmRpbmF0ZXNfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAgIGNvbnN0IG15QmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICBjb25zdCBteUVuZCA9IHRoaXMuYXBwZW5kRmxhdExpbmVDb29yZGluYXRlcyhcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIGZhbHNlLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIGNvbnN0IG1vdmVUb0xpbmVUb0luc3RydWN0aW9uID0gW1xuICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uTU9WRV9UT19MSU5FX1RPLFxuICAgICAgbXlCZWdpbixcbiAgICAgIG15RW5kLFxuICAgIF07XG4gICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaChtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbik7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChtb3ZlVG9MaW5lVG9JbnN0cnVjdGlvbik7XG4gICAgcmV0dXJuIGVuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gbGluZVN0cmluZ0dlb21ldHJ5IExpbmUgc3RyaW5nIGdlb21ldHJ5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICovXG4gIGRyYXdMaW5lU3RyaW5nKGxpbmVTdHJpbmdHZW9tZXRyeSwgZmVhdHVyZSkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBzdHJva2VTdHlsZSA9IHN0YXRlLnN0cm9rZVN0eWxlO1xuICAgIGNvbnN0IGxpbmVXaWR0aCA9IHN0YXRlLmxpbmVXaWR0aDtcbiAgICBpZiAoc3Ryb2tlU3R5bGUgPT09IHVuZGVmaW5lZCB8fCBsaW5lV2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZVN0cm9rZVN0eWxlKHN0YXRlLCB0aGlzLmFwcGx5U3Ryb2tlKTtcbiAgICB0aGlzLmJlZ2luR2VvbWV0cnkobGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKFxuICAgICAgW1xuICAgICAgICBDYW52YXNJbnN0cnVjdGlvbi5TRVRfU1RST0tFX1NUWUxFLFxuICAgICAgICBzdGF0ZS5zdHJva2VTdHlsZSxcbiAgICAgICAgc3RhdGUubGluZVdpZHRoLFxuICAgICAgICBzdGF0ZS5saW5lQ2FwLFxuICAgICAgICBzdGF0ZS5saW5lSm9pbixcbiAgICAgICAgc3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgZGVmYXVsdExpbmVEYXNoLFxuICAgICAgICBkZWZhdWx0TGluZURhc2hPZmZzZXQsXG4gICAgICBdLFxuICAgICAgYmVnaW5QYXRoSW5zdHJ1Y3Rpb25cbiAgICApO1xuICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IGxpbmVTdHJpbmdHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBjb25zdCBzdHJpZGUgPSBsaW5lU3RyaW5nR2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgdGhpcy5kcmF3RmxhdENvb3JkaW5hdGVzXyhcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIDAsXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLFxuICAgICAgc3RyaWRlXG4gICAgKTtcbiAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICB0aGlzLmVuZEdlb21ldHJ5KGZlYXR1cmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IG11bHRpTGluZVN0cmluZ0dlb21ldHJ5IE11bHRpTGluZVN0cmluZyBnZW9tZXRyeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqL1xuICBkcmF3TXVsdGlMaW5lU3RyaW5nKG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LCBmZWF0dXJlKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHN0cm9rZVN0eWxlID0gc3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgY29uc3QgbGluZVdpZHRoID0gc3RhdGUubGluZVdpZHRoO1xuICAgIGlmIChzdHJva2VTdHlsZSA9PT0gdW5kZWZpbmVkIHx8IGxpbmVXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudXBkYXRlU3Ryb2tlU3R5bGUoc3RhdGUsIHRoaXMuYXBwbHlTdHJva2UpO1xuICAgIHRoaXMuYmVnaW5HZW9tZXRyeShtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgdGhpcy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMucHVzaChcbiAgICAgIFtcbiAgICAgICAgQ2FudmFzSW5zdHJ1Y3Rpb24uU0VUX1NUUk9LRV9TVFlMRSxcbiAgICAgICAgc3RhdGUuc3Ryb2tlU3R5bGUsXG4gICAgICAgIHN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgc3RhdGUubGluZUNhcCxcbiAgICAgICAgc3RhdGUubGluZUpvaW4sXG4gICAgICAgIHN0YXRlLm1pdGVyTGltaXQsXG4gICAgICAgIHN0YXRlLmxpbmVEYXNoLFxuICAgICAgICBzdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgIF0sXG4gICAgICBiZWdpblBhdGhJbnN0cnVjdGlvblxuICAgICk7XG4gICAgY29uc3QgZW5kcyA9IG11bHRpTGluZVN0cmluZ0dlb21ldHJ5LmdldEVuZHMoKTtcbiAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBjb25zdCBzdHJpZGUgPSBtdWx0aUxpbmVTdHJpbmdHZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIG9mZnNldCA9IHRoaXMuZHJhd0ZsYXRDb29yZGluYXRlc18oXG4gICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi8gKGVuZHNbaV0pLFxuICAgICAgICBzdHJpZGVcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLnB1c2goc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuICAgIHRoaXMuZW5kR2VvbWV0cnkoZmVhdHVyZSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9uc30gdGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnMuXG4gICAqL1xuICBmaW5pc2goKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGlmIChcbiAgICAgIHN0YXRlLmxhc3RTdHJva2UgIT0gdW5kZWZpbmVkICYmXG4gICAgICBzdGF0ZS5sYXN0U3Ryb2tlICE9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoXG4gICAgKSB7XG4gICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICB9XG4gICAgdGhpcy5yZXZlcnNlSGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zKCk7XG4gICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgcmV0dXJuIHN1cGVyLmZpbmlzaCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdHJva2VTdGF0ZX0gc3RhdGUgU3RhdGUuXG4gICAqL1xuICBhcHBseVN0cm9rZShzdGF0ZSkge1xuICAgIGlmIChcbiAgICAgIHN0YXRlLmxhc3RTdHJva2UgIT0gdW5kZWZpbmVkICYmXG4gICAgICBzdGF0ZS5sYXN0U3Ryb2tlICE9IHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoXG4gICAgKSB7XG4gICAgICB0aGlzLmluc3RydWN0aW9ucy5wdXNoKHN0cm9rZUluc3RydWN0aW9uKTtcbiAgICAgIHN0YXRlLmxhc3RTdHJva2UgPSB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICB9XG4gICAgc3RhdGUubGFzdFN0cm9rZSA9IDA7XG4gICAgc3VwZXIuYXBwbHlTdHJva2Uoc3RhdGUpO1xuICAgIHRoaXMuaW5zdHJ1Y3Rpb25zLnB1c2goYmVnaW5QYXRoSW5zdHJ1Y3Rpb24pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc0xpbmVTdHJpbmdCdWlsZGVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2dlb20vZmxhdC90ZXh0cGF0aFxuICovXG5pbXBvcnQge2xlcnB9IGZyb20gJy4uLy4uL21hdGguanMnO1xuaW1wb3J0IHtyb3RhdGV9IGZyb20gJy4vdHJhbnNmb3JtLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBQYXRoIHRvIHB1dCB0ZXh0IG9uLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBTdGFydCBvZmZzZXQgb2YgdGhlIGBmbGF0Q29vcmRpbmF0ZXNgLlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQgb2Zmc2V0IG9mIHRoZSBgZmxhdENvb3JkaW5hdGVzYC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dCB0byBwbGFjZSBvbiB0aGUgcGF0aC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydE0gbSBhbG9uZyB0aGUgcGF0aCB3aGVyZSB0aGUgdGV4dCBzdGFydHMuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4QW5nbGUgTWF4IGFuZ2xlIGJldHdlZW4gYWRqYWNlbnQgY2hhcnMgaW4gcmFkaWFucy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSBUaGUgcHJvZHVjdCBvZiB0aGUgdGV4dCBzY2FsZSBhbmQgdGhlIGRldmljZSBwaXhlbCByYXRpby5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nLCBzdHJpbmcsIE9iamVjdDxzdHJpbmcsIG51bWJlcj4pOm51bWJlcn0gbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoIE1lYXN1cmUgYW5kIGNhY2hlIHRleHQgd2lkdGguXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBUaGUgZm9udC5cbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgbnVtYmVyPn0gY2FjaGUgQSBjYWNoZSBvZiBtZWFzdXJlZCB3aWR0aHMuXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24gdG8gYXBwbHkgdG8gdGhlIGZsYXRDb29yZGluYXRlcyB0byBkZXRlcm1pbmUgd2hldGhlciB0ZXh0IG5lZWRzIHRvIGJlIHJldmVyc2VkLlxuICogQHJldHVybiB7QXJyYXk8QXJyYXk8Kj4+fG51bGx9IFRoZSByZXN1bHQgYXJyYXkgKG9yIG51bGwgaWYgYG1heEFuZ2xlYCB3YXNcbiAqIGV4Y2VlZGVkKS4gRW50cmllcyBvZiB0aGUgYXJyYXkgYXJlIHgsIHksIGFuY2hvclgsIGFuZ2xlLCBjaHVuay5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRyYXdUZXh0T25QYXRoKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kLFxuICBzdHJpZGUsXG4gIHRleHQsXG4gIHN0YXJ0TSxcbiAgbWF4QW5nbGUsXG4gIHNjYWxlLFxuICBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgsXG4gIGZvbnQsXG4gIGNhY2hlLFxuICByb3RhdGlvblxuKSB7XG4gIGxldCB4MiA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICBsZXQgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gIGxldCB4MSA9IDA7XG4gIGxldCB5MSA9IDA7XG4gIGxldCBzZWdtZW50TGVuZ3RoID0gMDtcbiAgbGV0IHNlZ21lbnRNID0gMDtcblxuICBmdW5jdGlvbiBhZHZhbmNlKCkge1xuICAgIHgxID0geDI7XG4gICAgeTEgPSB5MjtcbiAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgIHgyID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gICAgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG4gICAgc2VnbWVudE0gKz0gc2VnbWVudExlbmd0aDtcbiAgICBzZWdtZW50TGVuZ3RoID0gTWF0aC5zcXJ0KCh4MiAtIHgxKSAqICh4MiAtIHgxKSArICh5MiAtIHkxKSAqICh5MiAtIHkxKSk7XG4gIH1cbiAgZG8ge1xuICAgIGFkdmFuY2UoKTtcbiAgfSB3aGlsZSAob2Zmc2V0IDwgZW5kIC0gc3RyaWRlICYmIHNlZ21lbnRNICsgc2VnbWVudExlbmd0aCA8IHN0YXJ0TSk7XG5cbiAgbGV0IGludGVycG9sYXRlID1cbiAgICBzZWdtZW50TGVuZ3RoID09PSAwID8gMCA6IChzdGFydE0gLSBzZWdtZW50TSkgLyBzZWdtZW50TGVuZ3RoO1xuICBjb25zdCBiZWdpblggPSBsZXJwKHgxLCB4MiwgaW50ZXJwb2xhdGUpO1xuICBjb25zdCBiZWdpblkgPSBsZXJwKHkxLCB5MiwgaW50ZXJwb2xhdGUpO1xuXG4gIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gb2Zmc2V0IC0gc3RyaWRlO1xuICBjb25zdCBzdGFydExlbmd0aCA9IHNlZ21lbnRNO1xuICBjb25zdCBlbmRNID0gc3RhcnRNICsgc2NhbGUgKiBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgoZm9udCwgdGV4dCwgY2FjaGUpO1xuICB3aGlsZSAob2Zmc2V0IDwgZW5kIC0gc3RyaWRlICYmIHNlZ21lbnRNICsgc2VnbWVudExlbmd0aCA8IGVuZE0pIHtcbiAgICBhZHZhbmNlKCk7XG4gIH1cbiAgaW50ZXJwb2xhdGUgPSBzZWdtZW50TGVuZ3RoID09PSAwID8gMCA6IChlbmRNIC0gc2VnbWVudE0pIC8gc2VnbWVudExlbmd0aDtcbiAgY29uc3QgZW5kWCA9IGxlcnAoeDEsIHgyLCBpbnRlcnBvbGF0ZSk7XG4gIGNvbnN0IGVuZFkgPSBsZXJwKHkxLCB5MiwgaW50ZXJwb2xhdGUpO1xuXG4gIC8vIEtlZXAgdGV4dCB1cHJpZ2h0XG4gIGxldCByZXZlcnNlO1xuICBpZiAocm90YXRpb24pIHtcbiAgICBjb25zdCBmbGF0ID0gW2JlZ2luWCwgYmVnaW5ZLCBlbmRYLCBlbmRZXTtcbiAgICByb3RhdGUoZmxhdCwgMCwgNCwgMiwgcm90YXRpb24sIGZsYXQsIGZsYXQpO1xuICAgIHJldmVyc2UgPSBmbGF0WzBdID4gZmxhdFsyXTtcbiAgfSBlbHNlIHtcbiAgICByZXZlcnNlID0gYmVnaW5YID4gZW5kWDtcbiAgfVxuXG4gIGNvbnN0IFBJID0gTWF0aC5QSTtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGNvbnN0IHNpbmdsZVNlZ21lbnQgPSBzdGFydE9mZnNldCArIHN0cmlkZSA9PT0gb2Zmc2V0O1xuXG4gIG9mZnNldCA9IHN0YXJ0T2Zmc2V0O1xuICBzZWdtZW50TGVuZ3RoID0gMDtcbiAgc2VnbWVudE0gPSBzdGFydExlbmd0aDtcbiAgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0XTtcbiAgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbb2Zmc2V0ICsgMV07XG5cbiAgbGV0IHByZXZpb3VzQW5nbGU7XG4gIC8vIEFsbCBvbiB0aGUgc2FtZSBzZWdtZW50XG4gIGlmIChzaW5nbGVTZWdtZW50KSB7XG4gICAgYWR2YW5jZSgpO1xuXG4gICAgcHJldmlvdXNBbmdsZSA9IE1hdGguYXRhbjIoeTIgLSB5MSwgeDIgLSB4MSk7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHByZXZpb3VzQW5nbGUgKz0gcHJldmlvdXNBbmdsZSA+IDAgPyAtUEkgOiBQSTtcbiAgICB9XG4gICAgY29uc3QgeCA9IChlbmRYICsgYmVnaW5YKSAvIDI7XG4gICAgY29uc3QgeSA9IChlbmRZICsgYmVnaW5ZKSAvIDI7XG4gICAgcmVzdWx0WzBdID0gW3gsIHksIChlbmRNIC0gc3RhcnRNKSAvIDIsIHByZXZpb3VzQW5nbGUsIHRleHRdO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyByZW5kZXJpbmcgYWNyb3NzIGxpbmUgc2VnbWVudHNcbiAgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxuL2csICcgJyk7IC8vIGVuc3VyZSByZW5kZXJpbmcgaW4gc2luZ2xlLWxpbmUgYXMgYWxsIGNhbGN1bGF0aW9ucyBiZWxvdyBkb24ndCBoYW5kbGUgbXVsdGktbGluZXNcblxuICBmb3IgKGxldCBpID0gMCwgaWkgPSB0ZXh0Lmxlbmd0aDsgaSA8IGlpOyApIHtcbiAgICBhZHZhbmNlKCk7XG4gICAgbGV0IGFuZ2xlID0gTWF0aC5hdGFuMih5MiAtIHkxLCB4MiAtIHgxKTtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgYW5nbGUgKz0gYW5nbGUgPiAwID8gLVBJIDogUEk7XG4gICAgfVxuICAgIGlmIChwcmV2aW91c0FuZ2xlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBkZWx0YSA9IGFuZ2xlIC0gcHJldmlvdXNBbmdsZTtcbiAgICAgIGRlbHRhICs9IGRlbHRhID4gUEkgPyAtMiAqIFBJIDogZGVsdGEgPCAtUEkgPyAyICogUEkgOiAwO1xuICAgICAgaWYgKE1hdGguYWJzKGRlbHRhKSA+IG1heEFuZ2xlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBwcmV2aW91c0FuZ2xlID0gYW5nbGU7XG5cbiAgICBjb25zdCBpU3RhcnQgPSBpO1xuICAgIGxldCBjaGFyTGVuZ3RoID0gMDtcbiAgICBmb3IgKDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gcmV2ZXJzZSA/IGlpIC0gaSAtIDEgOiBpO1xuICAgICAgY29uc3QgbGVuID0gc2NhbGUgKiBtZWFzdXJlQW5kQ2FjaGVUZXh0V2lkdGgoZm9udCwgdGV4dFtpbmRleF0sIGNhY2hlKTtcbiAgICAgIGlmIChcbiAgICAgICAgb2Zmc2V0ICsgc3RyaWRlIDwgZW5kICYmXG4gICAgICAgIHNlZ21lbnRNICsgc2VnbWVudExlbmd0aCA8IHN0YXJ0TSArIGNoYXJMZW5ndGggKyBsZW4gLyAyXG4gICAgICApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjaGFyTGVuZ3RoICs9IGxlbjtcbiAgICB9XG4gICAgaWYgKGkgPT09IGlTdGFydCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IGNoYXJzID0gcmV2ZXJzZVxuICAgICAgPyB0ZXh0LnN1YnN0cmluZyhpaSAtIGlTdGFydCwgaWkgLSBpKVxuICAgICAgOiB0ZXh0LnN1YnN0cmluZyhpU3RhcnQsIGkpO1xuICAgIGludGVycG9sYXRlID1cbiAgICAgIHNlZ21lbnRMZW5ndGggPT09IDBcbiAgICAgICAgPyAwXG4gICAgICAgIDogKHN0YXJ0TSArIGNoYXJMZW5ndGggLyAyIC0gc2VnbWVudE0pIC8gc2VnbWVudExlbmd0aDtcbiAgICBjb25zdCB4ID0gbGVycCh4MSwgeDIsIGludGVycG9sYXRlKTtcbiAgICBjb25zdCB5ID0gbGVycCh5MSwgeTIsIGludGVycG9sYXRlKTtcbiAgICByZXN1bHQucHVzaChbeCwgeSwgY2hhckxlbmd0aCAvIDIsIGFuZ2xlLCBjaGFyc10pO1xuICAgIHN0YXJ0TSArPSBjaGFyTGVuZ3RoO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvZ2VvbS9mbGF0L2xlbmd0aFxuICovXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZVN0cmluZ0xlbmd0aChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgbGV0IHgxID0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gIGxldCB5MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgbGV0IGxlbmd0aCA9IDA7XG4gIGZvciAobGV0IGkgPSBvZmZzZXQgKyBzdHJpZGU7IGkgPCBlbmQ7IGkgKz0gc3RyaWRlKSB7XG4gICAgY29uc3QgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgY29uc3QgeTIgPSBmbGF0Q29vcmRpbmF0ZXNbaSArIDFdO1xuICAgIGxlbmd0aCArPSBNYXRoLnNxcnQoKHgyIC0geDEpICogKHgyIC0geDEpICsgKHkyIC0geTEpICogKHkyIC0geTEpKTtcbiAgICB4MSA9IHgyO1xuICAgIHkxID0geTI7XG4gIH1cbiAgcmV0dXJuIGxlbmd0aDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7bnVtYmVyfSBQZXJpbWV0ZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJSaW5nTGVuZ3RoKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICBsZXQgcGVyaW1ldGVyID0gbGluZVN0cmluZ0xlbmd0aChmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpO1xuICBjb25zdCBkeCA9IGZsYXRDb29yZGluYXRlc1tlbmQgLSBzdHJpZGVdIC0gZmxhdENvb3JkaW5hdGVzW29mZnNldF07XG4gIGNvbnN0IGR5ID0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIHN0cmlkZSArIDFdIC0gZmxhdENvb3JkaW5hdGVzW29mZnNldCArIDFdO1xuICBwZXJpbWV0ZXIgKz0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgcmV0dXJuIHBlcmltZXRlcjtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yXG4gKi9cbmltcG9ydCBDYW52YXNJbnN0cnVjdGlvbiBmcm9tICcuL0luc3RydWN0aW9uLmpzJztcbmltcG9ydCB7VEVYVF9BTElHTn0gZnJvbSAnLi9UZXh0QnVpbGRlci5qcyc7XG5pbXBvcnQge1xuICBhcHBseSBhcyBhcHBseVRyYW5zZm9ybSxcbiAgY29tcG9zZSBhcyBjb21wb3NlVHJhbnNmb3JtLFxuICBjcmVhdGUgYXMgY3JlYXRlVHJhbnNmb3JtLFxuICBzZXRGcm9tQXJyYXkgYXMgdHJhbnNmb3JtU2V0RnJvbUFycmF5LFxufSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHtjcmVhdGVFbXB0eSwgY3JlYXRlT3JVcGRhdGUsIGludGVyc2VjdHN9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge1xuICBkZWZhdWx0UGFkZGluZyxcbiAgZGVmYXVsdFRleHRBbGlnbixcbiAgZGVmYXVsdFRleHRCYXNlbGluZSxcbiAgZHJhd0ltYWdlT3JMYWJlbCxcbiAgZ2V0VGV4dERpbWVuc2lvbnMsXG4gIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aCxcbn0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7ZHJhd1RleHRPblBhdGh9IGZyb20gJy4uLy4uL2dlb20vZmxhdC90ZXh0cGF0aC5qcyc7XG5pbXBvcnQge2VxdWFsc30gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtsaW5lU3RyaW5nTGVuZ3RofSBmcm9tICcuLi8uLi9nZW9tL2ZsYXQvbGVuZ3RoLmpzJztcbmltcG9ydCB7dHJhbnNmb3JtMkR9IGZyb20gJy4uLy4uL2dlb20vZmxhdC90cmFuc2Zvcm0uanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEJCb3hcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5YIE1pbmltYWwgeC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5ZIE1pbmltYWwgeS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhYIE1heGltYWwgeC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhZIE1heGltYWwgeVxuICogQHByb3BlcnR5IHsqfSB2YWx1ZSBWYWx1ZS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEltYWdlT3JMYWJlbERpbWVuc2lvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkcmF3SW1hZ2VYIERyYXdJbWFnZVguXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHJhd0ltYWdlWSBEcmF3SW1hZ2VZLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRyYXdJbWFnZVcgRHJhd0ltYWdlVy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkcmF3SW1hZ2VIIERyYXdJbWFnZUguXG4gKiBAcHJvcGVydHkge251bWJlcn0gb3JpZ2luWCBPcmlnaW5YLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG9yaWdpblkgT3JpZ2luWS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gc2NhbGUgU2NhbGUuXG4gKiBAcHJvcGVydHkge0JCb3h9IGRlY2x1dHRlckJveCBEZWNsdXR0ZXJCb3guXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IGNhbnZhc1RyYW5zZm9ybSBDYW52YXNUcmFuc2Zvcm0uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7ezA6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgMTogbnVtYmVyLCAyOiBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuTGFiZWx8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50LCAzOiBJbWFnZU9yTGFiZWxEaW1lbnNpb25zLCA0OiBudW1iZXIsIDU6IEFycmF5PCo+LCA2OiBBcnJheTwqPn19IFJlcGxheUltYWdlT3JMYWJlbEFyZ3NcbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZSwgaW1wb3J0KFwiLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0KTogVH0gRmVhdHVyZUNhbGxiYWNrXG4gKi9cblxuLyoqXG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAqL1xuY29uc3QgdG1wRXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovXG5jb25zdCBwMSA9IFtdO1xuLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovXG5jb25zdCBwMiA9IFtdO1xuLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovXG5jb25zdCBwMyA9IFtdO1xuLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9ICovXG5jb25zdCBwNCA9IFtdO1xuXG4vKipcbiAqIEBwYXJhbSB7UmVwbGF5SW1hZ2VPckxhYmVsQXJnc30gcmVwbGF5SW1hZ2VPckxhYmVsQXJncyBBcmd1bWVudHMgdG8gcmVwbGF5SW1hZ2VPckxhYmVsXG4gKiBAcmV0dXJuIHtCQm94fSBEZWNsdXR0ZXIgYmJveC5cbiAqL1xuZnVuY3Rpb24gZ2V0RGVjbHV0dGVyQm94KHJlcGxheUltYWdlT3JMYWJlbEFyZ3MpIHtcbiAgcmV0dXJuIHJlcGxheUltYWdlT3JMYWJlbEFyZ3NbM10uZGVjbHV0dGVyQm94O1xufVxuXG5jb25zdCBydGxSZWdFeCA9IG5ldyBSZWdFeHAoXG4gIC8qIGVzbGludC1kaXNhYmxlIHByZXR0aWVyL3ByZXR0aWVyICovXG4gICdbJyArXG4gICAgU3RyaW5nLmZyb21DaGFyQ29kZSgweDAwNTkxKSArICctJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwMDhmZikgK1xuICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwZmIxZCkgKyAnLScgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MGZkZmYpICtcbiAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MGZlNzApICsgJy0nICsgU3RyaW5nLmZyb21DaGFyQ29kZSgweDBmZWZjKSArXG4gICAgU3RyaW5nLmZyb21DaGFyQ29kZSgweDEwODAwKSArICctJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxMGZmZikgK1xuICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxZTgwMCkgKyAnLScgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MWVmZmYpICtcbiAgJ10nXG4gIC8qIGVzbGludC1lbmFibGUgcHJldHRpZXIvcHJldHRpZXIgKi9cbik7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dC5cbiAqIEBwYXJhbSB7Q2FudmFzVGV4dEFsaWdufSBhbGlnbiBBbGlnbm1lbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRleHQgYWxpZ25tZW50LlxuICovXG5mdW5jdGlvbiBob3Jpem9udGFsVGV4dEFsaWduKHRleHQsIGFsaWduKSB7XG4gIGlmICgoYWxpZ24gPT09ICdzdGFydCcgfHwgYWxpZ24gPT09ICdlbmQnKSAmJiAhcnRsUmVnRXgudGVzdCh0ZXh0KSkge1xuICAgIGFsaWduID0gYWxpZ24gPT09ICdzdGFydCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuICB9XG4gIHJldHVybiBURVhUX0FMSUdOW2FsaWduXTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGFjYyBBY2N1bXVsYXRvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lIExpbmUgb2YgdGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpIEluZGV4XG4gKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fSBBY2N1bXVsYXRvci5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVGV4dENodW5rcyhhY2MsIGxpbmUsIGkpIHtcbiAgaWYgKGkgPiAwKSB7XG4gICAgYWNjLnB1c2goJ1xcbicsICcnKTtcbiAgfVxuICBhY2MucHVzaChsaW5lLCAnJyk7XG4gIHJldHVybiBhY2M7XG59XG5cbmNsYXNzIEV4ZWN1dG9yIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG92ZXJsYXBzIFRoZSByZXBsYXkgY2FuIGhhdmUgb3ZlcmxhcHBpbmcgZ2VvbWV0cmllcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU2VyaWFsaXphYmxlSW5zdHJ1Y3Rpb25zfSBpbnN0cnVjdGlvbnMgVGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlc29sdXRpb24sIHBpeGVsUmF0aW8sIG92ZXJsYXBzLCBpbnN0cnVjdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5vdmVybGFwcyA9IG92ZXJsYXBzO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5waXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuYWxpZ25GaWxsXztcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICovXG4gICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnMuaW5zdHJ1Y3Rpb25zO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBpbnN0cnVjdGlvbnMuY29vcmRpbmF0ZXM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0PG51bWJlcixpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8QXJyYXk8aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPnxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+Pj59XG4gICAgICovXG4gICAgdGhpcy5jb29yZGluYXRlQ2FjaGVfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshaW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgKi9cbiAgICB0aGlzLmhpdERldGVjdGlvbkluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucy5oaXREZXRlY3Rpb25JbnN0cnVjdGlvbnM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxDb29yZGluYXRlc18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudmlld1JvdGF0aW9uXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5GaWxsU3RhdGU+fVxuICAgICAqL1xuICAgIHRoaXMuZmlsbFN0YXRlcyA9IGluc3RydWN0aW9ucy5maWxsU3RhdGVzIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuU3Ryb2tlU3RhdGU+fVxuICAgICAqL1xuICAgIHRoaXMuc3Ryb2tlU3RhdGVzID0gaW5zdHJ1Y3Rpb25zLnN0cm9rZVN0YXRlcyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZT59XG4gICAgICovXG4gICAgdGhpcy50ZXh0U3RhdGVzID0gaW5zdHJ1Y3Rpb25zLnRleHRTdGF0ZXMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBPYmplY3Q8c3RyaW5nLCBudW1iZXI+Pn1cbiAgICAgKi9cbiAgICB0aGlzLndpZHRoc18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5MYWJlbD59XG4gICAgICovXG4gICAgdGhpcy5sYWJlbHNfID0ge307XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdGV4dCBUZXh0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dEtleSBUZXh0IHN0eWxlIGtleS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGxLZXkgRmlsbCBzdHlsZSBrZXkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJva2VLZXkgU3Ryb2tlIHN0eWxlIGtleS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkxhYmVsfSBMYWJlbC5cbiAgICovXG4gIGNyZWF0ZUxhYmVsKHRleHQsIHRleHRLZXksIGZpbGxLZXksIHN0cm9rZUtleSkge1xuICAgIGNvbnN0IGtleSA9IHRleHQgKyB0ZXh0S2V5ICsgZmlsbEtleSArIHN0cm9rZUtleTtcbiAgICBpZiAodGhpcy5sYWJlbHNfW2tleV0pIHtcbiAgICAgIHJldHVybiB0aGlzLmxhYmVsc19ba2V5XTtcbiAgICB9XG4gICAgY29uc3Qgc3Ryb2tlU3RhdGUgPSBzdHJva2VLZXkgPyB0aGlzLnN0cm9rZVN0YXRlc1tzdHJva2VLZXldIDogbnVsbDtcbiAgICBjb25zdCBmaWxsU3RhdGUgPSBmaWxsS2V5ID8gdGhpcy5maWxsU3RhdGVzW2ZpbGxLZXldIDogbnVsbDtcbiAgICBjb25zdCB0ZXh0U3RhdGUgPSB0aGlzLnRleHRTdGF0ZXNbdGV4dEtleV07XG4gICAgY29uc3QgcGl4ZWxSYXRpbyA9IHRoaXMucGl4ZWxSYXRpbztcbiAgICBjb25zdCBzY2FsZSA9IFtcbiAgICAgIHRleHRTdGF0ZS5zY2FsZVswXSAqIHBpeGVsUmF0aW8sXG4gICAgICB0ZXh0U3RhdGUuc2NhbGVbMV0gKiBwaXhlbFJhdGlvLFxuICAgIF07XG4gICAgY29uc3QgdGV4dElzQXJyYXkgPSBBcnJheS5pc0FycmF5KHRleHQpO1xuICAgIGNvbnN0IGFsaWduID0gdGV4dFN0YXRlLmp1c3RpZnlcbiAgICAgID8gVEVYVF9BTElHTlt0ZXh0U3RhdGUuanVzdGlmeV1cbiAgICAgIDogaG9yaXpvbnRhbFRleHRBbGlnbihcbiAgICAgICAgICBBcnJheS5pc0FycmF5KHRleHQpID8gdGV4dFswXSA6IHRleHQsXG4gICAgICAgICAgdGV4dFN0YXRlLnRleHRBbGlnbiB8fCBkZWZhdWx0VGV4dEFsaWduXG4gICAgICAgICk7XG4gICAgY29uc3Qgc3Ryb2tlV2lkdGggPVxuICAgICAgc3Ryb2tlS2V5ICYmIHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA/IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA6IDA7XG5cbiAgICBjb25zdCBjaHVua3MgPSB0ZXh0SXNBcnJheVxuICAgICAgPyB0ZXh0XG4gICAgICA6IHRleHQuc3BsaXQoJ1xcbicpLnJlZHVjZShjcmVhdGVUZXh0Q2h1bmtzLCBbXSk7XG5cbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodCwgd2lkdGhzLCBoZWlnaHRzLCBsaW5lV2lkdGhzfSA9IGdldFRleHREaW1lbnNpb25zKFxuICAgICAgdGV4dFN0YXRlLFxuICAgICAgY2h1bmtzXG4gICAgKTtcbiAgICBjb25zdCByZW5kZXJXaWR0aCA9IHdpZHRoICsgc3Ryb2tlV2lkdGg7XG4gICAgY29uc3QgY29udGV4dEluc3RydWN0aW9ucyA9IFtdO1xuICAgIC8vIG1ha2UgY2FudmFzIDIgcGl4ZWxzIHdpZGVyIHRvIGFjY291bnQgZm9yIGl0YWxpYyB0ZXh0IHdpZHRoIG1lYXN1cmVtZW50IGVycm9yc1xuICAgIGNvbnN0IHcgPSAocmVuZGVyV2lkdGggKyAyKSAqIHNjYWxlWzBdO1xuICAgIGNvbnN0IGggPSAoaGVpZ2h0ICsgc3Ryb2tlV2lkdGgpICogc2NhbGVbMV07XG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuTGFiZWx9ICovXG4gICAgY29uc3QgbGFiZWwgPSB7XG4gICAgICB3aWR0aDogdyA8IDAgPyBNYXRoLmZsb29yKHcpIDogTWF0aC5jZWlsKHcpLFxuICAgICAgaGVpZ2h0OiBoIDwgMCA/IE1hdGguZmxvb3IoaCkgOiBNYXRoLmNlaWwoaCksXG4gICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zOiBjb250ZXh0SW5zdHJ1Y3Rpb25zLFxuICAgIH07XG4gICAgaWYgKHNjYWxlWzBdICE9IDEgfHwgc2NhbGVbMV0gIT0gMSkge1xuICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdzY2FsZScsIHNjYWxlKTtcbiAgICB9XG4gICAgaWYgKHN0cm9rZUtleSkge1xuICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdzdHJva2VTdHlsZScsIHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlKTtcbiAgICAgIGNvbnRleHRJbnN0cnVjdGlvbnMucHVzaCgnbGluZVdpZHRoJywgc3Ryb2tlV2lkdGgpO1xuICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdsaW5lQ2FwJywgc3Ryb2tlU3RhdGUubGluZUNhcCk7XG4gICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ2xpbmVKb2luJywgc3Ryb2tlU3RhdGUubGluZUpvaW4pO1xuICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdtaXRlckxpbWl0Jywgc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCk7XG4gICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ3NldExpbmVEYXNoJywgW3N0cm9rZVN0YXRlLmxpbmVEYXNoXSk7XG4gICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zLnB1c2goJ2xpbmVEYXNoT2Zmc2V0Jywgc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQpO1xuICAgIH1cbiAgICBpZiAoZmlsbEtleSkge1xuICAgICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCdmaWxsU3R5bGUnLCBmaWxsU3RhdGUuZmlsbFN0eWxlKTtcbiAgICB9XG4gICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCd0ZXh0QmFzZWxpbmUnLCAnbWlkZGxlJyk7XG4gICAgY29udGV4dEluc3RydWN0aW9ucy5wdXNoKCd0ZXh0QWxpZ24nLCAnY2VudGVyJyk7XG4gICAgY29uc3QgbGVmdFJpZ2h0ID0gMC41IC0gYWxpZ247XG4gICAgbGV0IHggPSBhbGlnbiAqIHJlbmRlcldpZHRoICsgbGVmdFJpZ2h0ICogc3Ryb2tlV2lkdGg7XG4gICAgY29uc3Qgc3Ryb2tlSW5zdHJ1Y3Rpb25zID0gW107XG4gICAgY29uc3QgZmlsbEluc3RydWN0aW9ucyA9IFtdO1xuICAgIGxldCBsaW5lSGVpZ2h0ID0gMDtcbiAgICBsZXQgbGluZU9mZnNldCA9IDA7XG4gICAgbGV0IHdpZHRoSGVpZ2h0SW5kZXggPSAwO1xuICAgIGxldCBsaW5lV2lkdGhJbmRleCA9IDA7XG4gICAgbGV0IHByZXZpb3VzRm9udDtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBjaHVua3MubGVuZ3RoOyBpIDwgaWk7IGkgKz0gMikge1xuICAgICAgY29uc3QgdGV4dCA9IGNodW5rc1tpXTtcbiAgICAgIGlmICh0ZXh0ID09PSAnXFxuJykge1xuICAgICAgICBsaW5lT2Zmc2V0ICs9IGxpbmVIZWlnaHQ7XG4gICAgICAgIGxpbmVIZWlnaHQgPSAwO1xuICAgICAgICB4ID0gYWxpZ24gKiByZW5kZXJXaWR0aCArIGxlZnRSaWdodCAqIHN0cm9rZVdpZHRoO1xuICAgICAgICArK2xpbmVXaWR0aEluZGV4O1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZvbnQgPSBjaHVua3NbaSArIDFdIHx8IHRleHRTdGF0ZS5mb250O1xuICAgICAgaWYgKGZvbnQgIT09IHByZXZpb3VzRm9udCkge1xuICAgICAgICBpZiAoc3Ryb2tlS2V5KSB7XG4gICAgICAgICAgc3Ryb2tlSW5zdHJ1Y3Rpb25zLnB1c2goJ2ZvbnQnLCBmb250KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsbEtleSkge1xuICAgICAgICAgIGZpbGxJbnN0cnVjdGlvbnMucHVzaCgnZm9udCcsIGZvbnQpO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzRm9udCA9IGZvbnQ7XG4gICAgICB9XG4gICAgICBsaW5lSGVpZ2h0ID0gTWF0aC5tYXgobGluZUhlaWdodCwgaGVpZ2h0c1t3aWR0aEhlaWdodEluZGV4XSk7XG4gICAgICBjb25zdCBmaWxsU3Ryb2tlQXJncyA9IFtcbiAgICAgICAgdGV4dCxcbiAgICAgICAgeCArXG4gICAgICAgICAgbGVmdFJpZ2h0ICogd2lkdGhzW3dpZHRoSGVpZ2h0SW5kZXhdICtcbiAgICAgICAgICBhbGlnbiAqICh3aWR0aHNbd2lkdGhIZWlnaHRJbmRleF0gLSBsaW5lV2lkdGhzW2xpbmVXaWR0aEluZGV4XSksXG4gICAgICAgIDAuNSAqIChzdHJva2VXaWR0aCArIGxpbmVIZWlnaHQpICsgbGluZU9mZnNldCxcbiAgICAgIF07XG4gICAgICB4ICs9IHdpZHRoc1t3aWR0aEhlaWdodEluZGV4XTtcbiAgICAgIGlmIChzdHJva2VLZXkpIHtcbiAgICAgICAgc3Ryb2tlSW5zdHJ1Y3Rpb25zLnB1c2goJ3N0cm9rZVRleHQnLCBmaWxsU3Ryb2tlQXJncyk7XG4gICAgICB9XG4gICAgICBpZiAoZmlsbEtleSkge1xuICAgICAgICBmaWxsSW5zdHJ1Y3Rpb25zLnB1c2goJ2ZpbGxUZXh0JywgZmlsbFN0cm9rZUFyZ3MpO1xuICAgICAgfVxuICAgICAgKyt3aWR0aEhlaWdodEluZGV4O1xuICAgIH1cbiAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShjb250ZXh0SW5zdHJ1Y3Rpb25zLCBzdHJva2VJbnN0cnVjdGlvbnMpO1xuICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGNvbnRleHRJbnN0cnVjdGlvbnMsIGZpbGxJbnN0cnVjdGlvbnMpO1xuICAgIHRoaXMubGFiZWxzX1trZXldID0gbGFiZWw7XG4gICAgcmV0dXJuIGxhYmVsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwMSAxc3QgcG9pbnQgb2YgdGhlIGJhY2tncm91bmQgYm94LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gcDIgMm5kIHBvaW50IG9mIHRoZSBiYWNrZ3JvdW5kIGJveC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHAzIDNyZCBwb2ludCBvZiB0aGUgYmFja2dyb3VuZCBib3guXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwNCA0dGggcG9pbnQgb2YgdGhlIGJhY2tncm91bmQgYm94LlxuICAgKiBAcGFyYW0ge0FycmF5PCo+fSBmaWxsSW5zdHJ1Y3Rpb24gRmlsbCBpbnN0cnVjdGlvbi5cbiAgICogQHBhcmFtIHtBcnJheTwqPn0gc3Ryb2tlSW5zdHJ1Y3Rpb24gU3Ryb2tlIGluc3RydWN0aW9uLlxuICAgKi9cbiAgcmVwbGF5VGV4dEJhY2tncm91bmRfKFxuICAgIGNvbnRleHQsXG4gICAgcDEsXG4gICAgcDIsXG4gICAgcDMsXG4gICAgcDQsXG4gICAgZmlsbEluc3RydWN0aW9uLFxuICAgIHN0cm9rZUluc3RydWN0aW9uXG4gICkge1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5tb3ZlVG8uYXBwbHkoY29udGV4dCwgcDEpO1xuICAgIGNvbnRleHQubGluZVRvLmFwcGx5KGNvbnRleHQsIHAyKTtcbiAgICBjb250ZXh0LmxpbmVUby5hcHBseShjb250ZXh0LCBwMyk7XG4gICAgY29udGV4dC5saW5lVG8uYXBwbHkoY29udGV4dCwgcDQpO1xuICAgIGNvbnRleHQubGluZVRvLmFwcGx5KGNvbnRleHQsIHAxKTtcbiAgICBpZiAoZmlsbEluc3RydWN0aW9uKSB7XG4gICAgICB0aGlzLmFsaWduRmlsbF8gPSAvKiogQHR5cGUge2Jvb2xlYW59ICovIChmaWxsSW5zdHJ1Y3Rpb25bMl0pO1xuICAgICAgdGhpcy5maWxsXyhjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKHN0cm9rZUluc3RydWN0aW9uKSB7XG4gICAgICB0aGlzLnNldFN0cm9rZVN0eWxlXyhcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKHN0cm9rZUluc3RydWN0aW9uKVxuICAgICAgKTtcbiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzaGVldFdpZHRoIFdpZHRoIG9mIHRoZSBzcHJpdGUgc2hlZXQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzaGVldEhlaWdodCBIZWlnaHQgb2YgdGhlIHNwcml0ZSBzaGVldC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNlbnRlclggWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNlbnRlclkgWS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFdpZHRoLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGFuY2hvclggQW5jaG9yIFguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhbmNob3JZIEFuY2hvciBZLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWCBPcmlnaW4gWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9yaWdpblkgT3JpZ2luIFkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV9IHNjYWxlIFNjYWxlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNuYXBUb1BpeGVsIFNuYXAgdG8gcGl4ZWwuXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gcGFkZGluZyBQYWRkaW5nLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZpbGxTdHJva2UgQmFja2dyb3VuZCBmaWxsIG9yIHN0cm9rZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gICAqIEByZXR1cm4ge0ltYWdlT3JMYWJlbERpbWVuc2lvbnN9IERpbWVuc2lvbnMgZm9yIHBvc2l0aW9uaW5nIGFuZCBkZWNsdXR0ZXJpbmcgdGhlIGltYWdlIG9yIGxhYmVsLlxuICAgKi9cbiAgY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18oXG4gICAgc2hlZXRXaWR0aCxcbiAgICBzaGVldEhlaWdodCxcbiAgICBjZW50ZXJYLFxuICAgIGNlbnRlclksXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIGFuY2hvclgsXG4gICAgYW5jaG9yWSxcbiAgICBvcmlnaW5YLFxuICAgIG9yaWdpblksXG4gICAgcm90YXRpb24sXG4gICAgc2NhbGUsXG4gICAgc25hcFRvUGl4ZWwsXG4gICAgcGFkZGluZyxcbiAgICBmaWxsU3Ryb2tlLFxuICAgIGZlYXR1cmVcbiAgKSB7XG4gICAgYW5jaG9yWCAqPSBzY2FsZVswXTtcbiAgICBhbmNob3JZICo9IHNjYWxlWzFdO1xuICAgIGxldCB4ID0gY2VudGVyWCAtIGFuY2hvclg7XG4gICAgbGV0IHkgPSBjZW50ZXJZIC0gYW5jaG9yWTtcblxuICAgIGNvbnN0IHcgPSB3aWR0aCArIG9yaWdpblggPiBzaGVldFdpZHRoID8gc2hlZXRXaWR0aCAtIG9yaWdpblggOiB3aWR0aDtcbiAgICBjb25zdCBoID0gaGVpZ2h0ICsgb3JpZ2luWSA+IHNoZWV0SGVpZ2h0ID8gc2hlZXRIZWlnaHQgLSBvcmlnaW5ZIDogaGVpZ2h0O1xuICAgIGNvbnN0IGJveFcgPSBwYWRkaW5nWzNdICsgdyAqIHNjYWxlWzBdICsgcGFkZGluZ1sxXTtcbiAgICBjb25zdCBib3hIID0gcGFkZGluZ1swXSArIGggKiBzY2FsZVsxXSArIHBhZGRpbmdbMl07XG4gICAgY29uc3QgYm94WCA9IHggLSBwYWRkaW5nWzNdO1xuICAgIGNvbnN0IGJveFkgPSB5IC0gcGFkZGluZ1swXTtcblxuICAgIGlmIChmaWxsU3Ryb2tlIHx8IHJvdGF0aW9uICE9PSAwKSB7XG4gICAgICBwMVswXSA9IGJveFg7XG4gICAgICBwNFswXSA9IGJveFg7XG4gICAgICBwMVsxXSA9IGJveFk7XG4gICAgICBwMlsxXSA9IGJveFk7XG4gICAgICBwMlswXSA9IGJveFggKyBib3hXO1xuICAgICAgcDNbMF0gPSBwMlswXTtcbiAgICAgIHAzWzFdID0gYm94WSArIGJveEg7XG4gICAgICBwNFsxXSA9IHAzWzFdO1xuICAgIH1cblxuICAgIGxldCB0cmFuc2Zvcm07XG4gICAgaWYgKHJvdGF0aW9uICE9PSAwKSB7XG4gICAgICB0cmFuc2Zvcm0gPSBjb21wb3NlVHJhbnNmb3JtKFxuICAgICAgICBjcmVhdGVUcmFuc2Zvcm0oKSxcbiAgICAgICAgY2VudGVyWCxcbiAgICAgICAgY2VudGVyWSxcbiAgICAgICAgMSxcbiAgICAgICAgMSxcbiAgICAgICAgcm90YXRpb24sXG4gICAgICAgIC1jZW50ZXJYLFxuICAgICAgICAtY2VudGVyWVxuICAgICAgKTtcblxuICAgICAgYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtLCBwMSk7XG4gICAgICBhcHBseVRyYW5zZm9ybSh0cmFuc2Zvcm0sIHAyKTtcbiAgICAgIGFwcGx5VHJhbnNmb3JtKHRyYW5zZm9ybSwgcDMpO1xuICAgICAgYXBwbHlUcmFuc2Zvcm0odHJhbnNmb3JtLCBwNCk7XG4gICAgICBjcmVhdGVPclVwZGF0ZShcbiAgICAgICAgTWF0aC5taW4ocDFbMF0sIHAyWzBdLCBwM1swXSwgcDRbMF0pLFxuICAgICAgICBNYXRoLm1pbihwMVsxXSwgcDJbMV0sIHAzWzFdLCBwNFsxXSksXG4gICAgICAgIE1hdGgubWF4KHAxWzBdLCBwMlswXSwgcDNbMF0sIHA0WzBdKSxcbiAgICAgICAgTWF0aC5tYXgocDFbMV0sIHAyWzFdLCBwM1sxXSwgcDRbMV0pLFxuICAgICAgICB0bXBFeHRlbnRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNyZWF0ZU9yVXBkYXRlKFxuICAgICAgICBNYXRoLm1pbihib3hYLCBib3hYICsgYm94VyksXG4gICAgICAgIE1hdGgubWluKGJveFksIGJveFkgKyBib3hIKSxcbiAgICAgICAgTWF0aC5tYXgoYm94WCwgYm94WCArIGJveFcpLFxuICAgICAgICBNYXRoLm1heChib3hZLCBib3hZICsgYm94SCksXG4gICAgICAgIHRtcEV4dGVudFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHNuYXBUb1BpeGVsKSB7XG4gICAgICB4ID0gTWF0aC5yb3VuZCh4KTtcbiAgICAgIHkgPSBNYXRoLnJvdW5kKHkpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZHJhd0ltYWdlWDogeCxcbiAgICAgIGRyYXdJbWFnZVk6IHksXG4gICAgICBkcmF3SW1hZ2VXOiB3LFxuICAgICAgZHJhd0ltYWdlSDogaCxcbiAgICAgIG9yaWdpblg6IG9yaWdpblgsXG4gICAgICBvcmlnaW5ZOiBvcmlnaW5ZLFxuICAgICAgZGVjbHV0dGVyQm94OiB7XG4gICAgICAgIG1pblg6IHRtcEV4dGVudFswXSxcbiAgICAgICAgbWluWTogdG1wRXh0ZW50WzFdLFxuICAgICAgICBtYXhYOiB0bXBFeHRlbnRbMl0sXG4gICAgICAgIG1heFk6IHRtcEV4dGVudFszXSxcbiAgICAgICAgdmFsdWU6IGZlYXR1cmUsXG4gICAgICB9LFxuICAgICAgY2FudmFzVHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gICAgICBzY2FsZTogc2NhbGUsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gY29udGV4dFNjYWxlIFNjYWxlIG9mIHRoZSBjb250ZXh0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5MYWJlbHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlT3JMYWJlbCBJbWFnZS5cbiAgICogQHBhcmFtIHtJbWFnZU9yTGFiZWxEaW1lbnNpb25zfSBkaW1lbnNpb25zIERpbWVuc2lvbnMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gICAqIEBwYXJhbSB7QXJyYXk8Kj59IGZpbGxJbnN0cnVjdGlvbiBGaWxsIGluc3RydWN0aW9uLlxuICAgKiBAcGFyYW0ge0FycmF5PCo+fSBzdHJva2VJbnN0cnVjdGlvbiBTdHJva2UgaW5zdHJ1Y3Rpb24uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBpbWFnZSBvciBsYWJlbCB3YXMgcmVuZGVyZWQuXG4gICAqL1xuICByZXBsYXlJbWFnZU9yTGFiZWxfKFxuICAgIGNvbnRleHQsXG4gICAgY29udGV4dFNjYWxlLFxuICAgIGltYWdlT3JMYWJlbCxcbiAgICBkaW1lbnNpb25zLFxuICAgIG9wYWNpdHksXG4gICAgZmlsbEluc3RydWN0aW9uLFxuICAgIHN0cm9rZUluc3RydWN0aW9uXG4gICkge1xuICAgIGNvbnN0IGZpbGxTdHJva2UgPSAhIShmaWxsSW5zdHJ1Y3Rpb24gfHwgc3Ryb2tlSW5zdHJ1Y3Rpb24pO1xuXG4gICAgY29uc3QgYm94ID0gZGltZW5zaW9ucy5kZWNsdXR0ZXJCb3g7XG4gICAgY29uc3QgY2FudmFzID0gY29udGV4dC5jYW52YXM7XG4gICAgY29uc3Qgc3Ryb2tlUGFkZGluZyA9IHN0cm9rZUluc3RydWN0aW9uXG4gICAgICA/IChzdHJva2VJbnN0cnVjdGlvblsyXSAqIGRpbWVuc2lvbnMuc2NhbGVbMF0pIC8gMlxuICAgICAgOiAwO1xuICAgIGNvbnN0IGludGVyc2VjdHMgPVxuICAgICAgYm94Lm1pblggLSBzdHJva2VQYWRkaW5nIDw9IGNhbnZhcy53aWR0aCAvIGNvbnRleHRTY2FsZSAmJlxuICAgICAgYm94Lm1heFggKyBzdHJva2VQYWRkaW5nID49IDAgJiZcbiAgICAgIGJveC5taW5ZIC0gc3Ryb2tlUGFkZGluZyA8PSBjYW52YXMuaGVpZ2h0IC8gY29udGV4dFNjYWxlICYmXG4gICAgICBib3gubWF4WSArIHN0cm9rZVBhZGRpbmcgPj0gMDtcblxuICAgIGlmIChpbnRlcnNlY3RzKSB7XG4gICAgICBpZiAoZmlsbFN0cm9rZSkge1xuICAgICAgICB0aGlzLnJlcGxheVRleHRCYWNrZ3JvdW5kXyhcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIHAxLFxuICAgICAgICAgIHAyLFxuICAgICAgICAgIHAzLFxuICAgICAgICAgIHA0LFxuICAgICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChmaWxsSW5zdHJ1Y3Rpb24pLFxuICAgICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChzdHJva2VJbnN0cnVjdGlvbilcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGRyYXdJbWFnZU9yTGFiZWwoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGRpbWVuc2lvbnMuY2FudmFzVHJhbnNmb3JtLFxuICAgICAgICBvcGFjaXR5LFxuICAgICAgICBpbWFnZU9yTGFiZWwsXG4gICAgICAgIGRpbWVuc2lvbnMub3JpZ2luWCxcbiAgICAgICAgZGltZW5zaW9ucy5vcmlnaW5ZLFxuICAgICAgICBkaW1lbnNpb25zLmRyYXdJbWFnZVcsXG4gICAgICAgIGRpbWVuc2lvbnMuZHJhd0ltYWdlSCxcbiAgICAgICAgZGltZW5zaW9ucy5kcmF3SW1hZ2VYLFxuICAgICAgICBkaW1lbnNpb25zLmRyYXdJbWFnZVksXG4gICAgICAgIGRpbWVuc2lvbnMuc2NhbGVcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqL1xuICBmaWxsXyhjb250ZXh0KSB7XG4gICAgaWYgKHRoaXMuYWxpZ25GaWxsXykge1xuICAgICAgY29uc3Qgb3JpZ2luID0gYXBwbHlUcmFuc2Zvcm0odGhpcy5yZW5kZXJlZFRyYW5zZm9ybV8sIFswLCAwXSk7XG4gICAgICBjb25zdCByZXBlYXRTaXplID0gNTEyICogdGhpcy5waXhlbFJhdGlvO1xuICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICBjb250ZXh0LnRyYW5zbGF0ZShvcmlnaW5bMF0gJSByZXBlYXRTaXplLCBvcmlnaW5bMV0gJSByZXBlYXRTaXplKTtcbiAgICAgIGNvbnRleHQucm90YXRlKHRoaXMudmlld1JvdGF0aW9uXyk7XG4gICAgfVxuICAgIGNvbnRleHQuZmlsbCgpO1xuICAgIGlmICh0aGlzLmFsaWduRmlsbF8pIHtcbiAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge0FycmF5PCo+fSBpbnN0cnVjdGlvbiBJbnN0cnVjdGlvbi5cbiAgICovXG4gIHNldFN0cm9rZVN0eWxlXyhjb250ZXh0LCBpbnN0cnVjdGlvbikge1xuICAgIGNvbnRleHRbJ3N0cm9rZVN0eWxlJ10gPVxuICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSAqLyAoaW5zdHJ1Y3Rpb25bMV0pO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgY29udGV4dC5saW5lQ2FwID0gLyoqIEB0eXBlIHtDYW52YXNMaW5lQ2FwfSAqLyAoaW5zdHJ1Y3Rpb25bM10pO1xuICAgIGNvbnRleHQubGluZUpvaW4gPSAvKiogQHR5cGUge0NhbnZhc0xpbmVKb2lufSAqLyAoaW5zdHJ1Y3Rpb25bNF0pO1xuICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNV0pO1xuICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzddKTtcbiAgICBjb250ZXh0LnNldExpbmVEYXNoKC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGluc3RydWN0aW9uWzZdKSk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gdGV4dCBUaGUgdGV4dCB0byBkcmF3LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dEtleSBUaGUga2V5IG9mIHRoZSB0ZXh0IHN0YXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3Ryb2tlS2V5IFRoZSBrZXkgZm9yIHRoZSBzdHJva2Ugc3RhdGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxsS2V5IFRoZSBrZXkgZm9yIHRoZSBmaWxsIHN0YXRlLlxuICAgKiBAcmV0dXJuIHt7bGFiZWw6IGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5MYWJlbCwgYW5jaG9yWDogbnVtYmVyLCBhbmNob3JZOiBudW1iZXJ9fSBUaGUgdGV4dCBpbWFnZSBhbmQgaXRzIGFuY2hvci5cbiAgICovXG4gIGRyYXdMYWJlbFdpdGhQb2ludFBsYWNlbWVudF8odGV4dCwgdGV4dEtleSwgc3Ryb2tlS2V5LCBmaWxsS2V5KSB7XG4gICAgY29uc3QgdGV4dFN0YXRlID0gdGhpcy50ZXh0U3RhdGVzW3RleHRLZXldO1xuXG4gICAgY29uc3QgbGFiZWwgPSB0aGlzLmNyZWF0ZUxhYmVsKHRleHQsIHRleHRLZXksIGZpbGxLZXksIHN0cm9rZUtleSk7XG5cbiAgICBjb25zdCBzdHJva2VTdGF0ZSA9IHRoaXMuc3Ryb2tlU3RhdGVzW3N0cm9rZUtleV07XG4gICAgY29uc3QgcGl4ZWxSYXRpbyA9IHRoaXMucGl4ZWxSYXRpbztcbiAgICBjb25zdCBhbGlnbiA9IGhvcml6b250YWxUZXh0QWxpZ24oXG4gICAgICBBcnJheS5pc0FycmF5KHRleHQpID8gdGV4dFswXSA6IHRleHQsXG4gICAgICB0ZXh0U3RhdGUudGV4dEFsaWduIHx8IGRlZmF1bHRUZXh0QWxpZ25cbiAgICApO1xuICAgIGNvbnN0IGJhc2VsaW5lID0gVEVYVF9BTElHTlt0ZXh0U3RhdGUudGV4dEJhc2VsaW5lIHx8IGRlZmF1bHRUZXh0QmFzZWxpbmVdO1xuICAgIGNvbnN0IHN0cm9rZVdpZHRoID1cbiAgICAgIHN0cm9rZVN0YXRlICYmIHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA/IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCA6IDA7XG5cbiAgICAvLyBSZW1vdmUgdGhlIDIgcGl4ZWxzIHdlIGFkZGVkIGluIGNyZWF0ZUxhYmVsKCkgZm9yIHRoZSBhbmNob3JcbiAgICBjb25zdCB3aWR0aCA9IGxhYmVsLndpZHRoIC8gcGl4ZWxSYXRpbyAtIDIgKiB0ZXh0U3RhdGUuc2NhbGVbMF07XG4gICAgY29uc3QgYW5jaG9yWCA9IGFsaWduICogd2lkdGggKyAyICogKDAuNSAtIGFsaWduKSAqIHN0cm9rZVdpZHRoO1xuICAgIGNvbnN0IGFuY2hvclkgPVxuICAgICAgKGJhc2VsaW5lICogbGFiZWwuaGVpZ2h0KSAvIHBpeGVsUmF0aW8gK1xuICAgICAgMiAqICgwLjUgLSBiYXNlbGluZSkgKiBzdHJva2VXaWR0aDtcblxuICAgIHJldHVybiB7XG4gICAgICBsYWJlbDogbGFiZWwsXG4gICAgICBhbmNob3JYOiBhbmNob3JYLFxuICAgICAgYW5jaG9yWTogYW5jaG9yWSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZXh0U2NhbGUgU2NhbGUgb2YgdGhlIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICogQHBhcmFtIHtBcnJheTwqPn0gaW5zdHJ1Y3Rpb25zIEluc3RydWN0aW9ucyBhcnJheS5cbiAgICogQHBhcmFtIHtib29sZWFufSBzbmFwVG9QaXhlbCBTbmFwIHBvaW50IHN5bWJvbHMgYW5kIHRleHQgdG8gaW50ZWdlciBwaXhlbHMuXG4gICAqIEBwYXJhbSB7RmVhdHVyZUNhbGxiYWNrPFQ+fSBbZmVhdHVyZUNhbGxiYWNrXSBGZWF0dXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtoaXRFeHRlbnRdIE9ubHkgY2hlY2tcbiAgICogICAgIGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IHRoaXMgZXh0ZW50LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcInJidXNoXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJUcmVlXSBEZWNsdXR0ZXIgdHJlZS5cbiAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICogQHRlbXBsYXRlIFRcbiAgICovXG4gIGV4ZWN1dGVfKFxuICAgIGNvbnRleHQsXG4gICAgY29udGV4dFNjYWxlLFxuICAgIHRyYW5zZm9ybSxcbiAgICBpbnN0cnVjdGlvbnMsXG4gICAgc25hcFRvUGl4ZWwsXG4gICAgZmVhdHVyZUNhbGxiYWNrLFxuICAgIGhpdEV4dGVudCxcbiAgICBkZWNsdXR0ZXJUcmVlXG4gICkge1xuICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgICBsZXQgcGl4ZWxDb29yZGluYXRlcztcbiAgICBpZiAodGhpcy5waXhlbENvb3JkaW5hdGVzXyAmJiBlcXVhbHModHJhbnNmb3JtLCB0aGlzLnJlbmRlcmVkVHJhbnNmb3JtXykpIHtcbiAgICAgIHBpeGVsQ29vcmRpbmF0ZXMgPSB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRoaXMucGl4ZWxDb29yZGluYXRlc18pIHtcbiAgICAgICAgdGhpcy5waXhlbENvb3JkaW5hdGVzXyA9IFtdO1xuICAgICAgfVxuICAgICAgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybTJEKFxuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzLFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCxcbiAgICAgICAgMixcbiAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfXG4gICAgICApO1xuICAgICAgdHJhbnNmb3JtU2V0RnJvbUFycmF5KHRoaXMucmVuZGVyZWRUcmFuc2Zvcm1fLCB0cmFuc2Zvcm0pO1xuICAgIH1cbiAgICBsZXQgaSA9IDA7IC8vIGluc3RydWN0aW9uIGluZGV4XG4gICAgY29uc3QgaWkgPSBpbnN0cnVjdGlvbnMubGVuZ3RoOyAvLyBlbmQgb2YgaW5zdHJ1Y3Rpb25zXG4gICAgbGV0IGQgPSAwOyAvLyBkYXRhIGluZGV4XG4gICAgbGV0IGRkOyAvLyBlbmQgb2YgcGVyLWluc3RydWN0aW9uIGRhdGFcbiAgICBsZXQgYW5jaG9yWCxcbiAgICAgIGFuY2hvclksXG4gICAgICBwcmV2WCxcbiAgICAgIHByZXZZLFxuICAgICAgcm91bmRYLFxuICAgICAgcm91bmRZLFxuICAgICAgaW1hZ2UsXG4gICAgICB0ZXh0LFxuICAgICAgdGV4dEtleSxcbiAgICAgIHN0cm9rZUtleSxcbiAgICAgIGZpbGxLZXk7XG4gICAgbGV0IHBlbmRpbmdGaWxsID0gMDtcbiAgICBsZXQgcGVuZGluZ1N0cm9rZSA9IDA7XG4gICAgbGV0IGxhc3RGaWxsSW5zdHJ1Y3Rpb24gPSBudWxsO1xuICAgIGxldCBsYXN0U3Ryb2tlSW5zdHJ1Y3Rpb24gPSBudWxsO1xuICAgIGNvbnN0IGNvb3JkaW5hdGVDYWNoZSA9IHRoaXMuY29vcmRpbmF0ZUNhY2hlXztcbiAgICBjb25zdCB2aWV3Um90YXRpb24gPSB0aGlzLnZpZXdSb3RhdGlvbl87XG4gICAgY29uc3Qgdmlld1JvdGF0aW9uRnJvbVRyYW5zZm9ybSA9XG4gICAgICBNYXRoLnJvdW5kKE1hdGguYXRhbjIoLXRyYW5zZm9ybVsxXSwgdHJhbnNmb3JtWzBdKSAqIDFlMTIpIC8gMWUxMjtcblxuICAgIGNvbnN0IHN0YXRlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIuanNcIikuU3RhdGV9ICovICh7XG4gICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgcGl4ZWxSYXRpbzogdGhpcy5waXhlbFJhdGlvLFxuICAgICAgcmVzb2x1dGlvbjogdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgcm90YXRpb246IHZpZXdSb3RhdGlvbixcbiAgICB9KTtcblxuICAgIC8vIFdoZW4gdGhlIGJhdGNoIHNpemUgZ2V0cyB0b28gYmlnLCBwZXJmb3JtYW5jZSBkZWNyZWFzZXMuIDIwMCBpcyBhIGdvb2RcbiAgICAvLyBiYWxhbmNlIGJldHdlZW4gYmF0Y2ggc2l6ZSBhbmQgbnVtYmVyIG9mIGZpbGwvc3Ryb2tlIGluc3RydWN0aW9ucy5cbiAgICBjb25zdCBiYXRjaFNpemUgPVxuICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgIT0gaW5zdHJ1Y3Rpb25zIHx8IHRoaXMub3ZlcmxhcHMgPyAwIDogMjAwO1xuICAgIGxldCAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9ICovIGZlYXR1cmU7XG4gICAgbGV0IHgsIHksIGN1cnJlbnRHZW9tZXRyeTtcbiAgICB3aGlsZSAoaSA8IGlpKSB7XG4gICAgICBjb25zdCBpbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uc1tpXTtcbiAgICAgIGNvbnN0IHR5cGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vSW5zdHJ1Y3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBpbnN0cnVjdGlvblswXVxuICAgICAgKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkJFR0lOX0dFT01FVFJZOlxuICAgICAgICAgIGZlYXR1cmUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9ICovIChcbiAgICAgICAgICAgIGluc3RydWN0aW9uWzFdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjdXJyZW50R2VvbWV0cnkgPSBpbnN0cnVjdGlvblszXTtcbiAgICAgICAgICBpZiAoIWZlYXR1cmUuZ2V0R2VvbWV0cnkoKSkge1xuICAgICAgICAgICAgaSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMl0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBoaXRFeHRlbnQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgIWludGVyc2VjdHMoaGl0RXh0ZW50LCBjdXJyZW50R2VvbWV0cnkuZ2V0RXh0ZW50KCkpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSkgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICArK2k7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkJFR0lOX1BBVEg6XG4gICAgICAgICAgaWYgKHBlbmRpbmdGaWxsID4gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICB0aGlzLmZpbGxfKGNvbnRleHQpO1xuICAgICAgICAgICAgcGVuZGluZ0ZpbGwgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGVuZGluZ1N0cm9rZSA+IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIHBlbmRpbmdTdHJva2UgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXBlbmRpbmdGaWxsICYmICFwZW5kaW5nU3Ryb2tlKSB7XG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgcHJldlggPSBOYU47XG4gICAgICAgICAgICBwcmV2WSA9IE5hTjtcbiAgICAgICAgICB9XG4gICAgICAgICAgKytpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkNJUkNMRTpcbiAgICAgICAgICBkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgICAgY29uc3QgeDEgPSBwaXhlbENvb3JkaW5hdGVzW2RdO1xuICAgICAgICAgIGNvbnN0IHkxID0gcGl4ZWxDb29yZGluYXRlc1tkICsgMV07XG4gICAgICAgICAgY29uc3QgeDIgPSBwaXhlbENvb3JkaW5hdGVzW2QgKyAyXTtcbiAgICAgICAgICBjb25zdCB5MiA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDNdO1xuICAgICAgICAgIGNvbnN0IGR4ID0geDIgLSB4MTtcbiAgICAgICAgICBjb25zdCBkeSA9IHkyIC0geTE7XG4gICAgICAgICAgY29uc3QgciA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDEgKyByLCB5MSk7XG4gICAgICAgICAgY29udGV4dC5hcmMoeDEsIHkxLCByLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XG4gICAgICAgICAgKytpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLkNMT1NFX1BBVEg6XG4gICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uQ1VTVE9NOlxuICAgICAgICAgIGQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICBkZCA9IGluc3RydWN0aW9uWzJdO1xuICAgICAgICAgIGNvbnN0IGdlb21ldHJ5ID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICAgIGluc3RydWN0aW9uWzNdXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHJlbmRlcmVyID0gaW5zdHJ1Y3Rpb25bNF07XG4gICAgICAgICAgY29uc3QgZm4gPSBpbnN0cnVjdGlvbi5sZW5ndGggPT0gNiA/IGluc3RydWN0aW9uWzVdIDogdW5kZWZpbmVkO1xuICAgICAgICAgIHN0YXRlLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4gICAgICAgICAgc3RhdGUuZmVhdHVyZSA9IGZlYXR1cmU7XG4gICAgICAgICAgaWYgKCEoaSBpbiBjb29yZGluYXRlQ2FjaGUpKSB7XG4gICAgICAgICAgICBjb29yZGluYXRlQ2FjaGVbaV0gPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgY29vcmRzID0gY29vcmRpbmF0ZUNhY2hlW2ldO1xuICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgZm4ocGl4ZWxDb29yZGluYXRlcywgZCwgZGQsIDIsIGNvb3Jkcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvb3Jkc1swXSA9IHBpeGVsQ29vcmRpbmF0ZXNbZF07XG4gICAgICAgICAgICBjb29yZHNbMV0gPSBwaXhlbENvb3JkaW5hdGVzW2QgKyAxXTtcbiAgICAgICAgICAgIGNvb3Jkcy5sZW5ndGggPSAyO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZW5kZXJlcihjb29yZHMsIHN0YXRlKTtcbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uRFJBV19JTUFHRTpcbiAgICAgICAgICBkID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgICAgZGQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzJdKTtcbiAgICAgICAgICBpbWFnZSA9XG4gICAgICAgICAgICAvKiogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudH0gKi8gKFxuICAgICAgICAgICAgICBpbnN0cnVjdGlvblszXVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIFJlbWFpbmluZyBhcmd1bWVudHMgaW4gRFJBV19JTUFHRSBhcmUgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICAgICAgYW5jaG9yWCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNF0pO1xuICAgICAgICAgIGFuY2hvclkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzVdKTtcbiAgICAgICAgICBsZXQgaGVpZ2h0ID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls2XSk7XG4gICAgICAgICAgY29uc3Qgb3BhY2l0eSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bN10pO1xuICAgICAgICAgIGNvbnN0IG9yaWdpblggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzhdKTtcbiAgICAgICAgICBjb25zdCBvcmlnaW5ZID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls5XSk7XG4gICAgICAgICAgY29uc3Qgcm90YXRlV2l0aFZpZXcgPSAvKiogQHR5cGUge2Jvb2xlYW59ICovIChpbnN0cnVjdGlvblsxMF0pO1xuICAgICAgICAgIGxldCByb3RhdGlvbiA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTFdKTtcbiAgICAgICAgICBjb25zdCBzY2FsZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfSAqLyAoXG4gICAgICAgICAgICBpbnN0cnVjdGlvblsxMl1cbiAgICAgICAgICApO1xuICAgICAgICAgIGxldCB3aWR0aCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMTNdKTtcbiAgICAgICAgICBjb25zdCBkZWNsdXR0ZXJNb2RlID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7XCJkZWNsdXR0ZXJcInxcIm9ic3RhY2xlXCJ8XCJub25lXCJ8dW5kZWZpbmVkfSAqLyAoXG4gICAgICAgICAgICAgIGluc3RydWN0aW9uWzE0XVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0ID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkRlY2x1dHRlckltYWdlV2l0aFRleHR9ICovIChcbiAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bMTVdXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKCFpbWFnZSAmJiBpbnN0cnVjdGlvbi5sZW5ndGggPj0gMjApIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBsYWJlbCBpbWFnZXNcbiAgICAgICAgICAgIHRleHQgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzE5XSk7XG4gICAgICAgICAgICB0ZXh0S2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvblsyMF0pO1xuICAgICAgICAgICAgc3Ryb2tlS2V5ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChpbnN0cnVjdGlvblsyMV0pO1xuICAgICAgICAgICAgZmlsbEtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMjJdKTtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsV2l0aEFuY2hvciA9IHRoaXMuZHJhd0xhYmVsV2l0aFBvaW50UGxhY2VtZW50XyhcbiAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgdGV4dEtleSxcbiAgICAgICAgICAgICAgc3Ryb2tlS2V5LFxuICAgICAgICAgICAgICBmaWxsS2V5XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaW1hZ2UgPSBsYWJlbFdpdGhBbmNob3IubGFiZWw7XG4gICAgICAgICAgICBpbnN0cnVjdGlvblszXSA9IGltYWdlO1xuICAgICAgICAgICAgY29uc3QgdGV4dE9mZnNldFggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzIzXSk7XG4gICAgICAgICAgICBhbmNob3JYID0gKGxhYmVsV2l0aEFuY2hvci5hbmNob3JYIC0gdGV4dE9mZnNldFgpICogdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bNF0gPSBhbmNob3JYO1xuICAgICAgICAgICAgY29uc3QgdGV4dE9mZnNldFkgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzI0XSk7XG4gICAgICAgICAgICBhbmNob3JZID0gKGxhYmVsV2l0aEFuY2hvci5hbmNob3JZIC0gdGV4dE9mZnNldFkpICogdGhpcy5waXhlbFJhdGlvO1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bNV0gPSBhbmNob3JZO1xuICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bNl0gPSBoZWlnaHQ7XG4gICAgICAgICAgICB3aWR0aCA9IGltYWdlLndpZHRoO1xuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bMTNdID0gd2lkdGg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IGdlb21ldHJ5V2lkdGhzO1xuICAgICAgICAgIGlmIChpbnN0cnVjdGlvbi5sZW5ndGggPiAyNSkge1xuICAgICAgICAgICAgZ2VvbWV0cnlXaWR0aHMgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzI1XSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IHBhZGRpbmcsIGJhY2tncm91bmRGaWxsLCBiYWNrZ3JvdW5kU3Ryb2tlO1xuICAgICAgICAgIGlmIChpbnN0cnVjdGlvbi5sZW5ndGggPiAxNykge1xuICAgICAgICAgICAgcGFkZGluZyA9IC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGluc3RydWN0aW9uWzE2XSk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kRmlsbCA9IC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gKGluc3RydWN0aW9uWzE3XSk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kU3Ryb2tlID0gLyoqIEB0eXBlIHtib29sZWFufSAqLyAoaW5zdHJ1Y3Rpb25bMThdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFkZGluZyA9IGRlZmF1bHRQYWRkaW5nO1xuICAgICAgICAgICAgYmFja2dyb3VuZEZpbGwgPSBmYWxzZTtcbiAgICAgICAgICAgIGJhY2tncm91bmRTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocm90YXRlV2l0aFZpZXcgJiYgdmlld1JvdGF0aW9uRnJvbVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gQ2FudmFzIGlzIGV4cGVjdGVkIHRvIGJlIHJvdGF0ZWQgdG8gcmV2ZXJzZSB2aWV3IHJvdGF0aW9uLlxuICAgICAgICAgICAgcm90YXRpb24gKz0gdmlld1JvdGF0aW9uO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXJvdGF0ZVdpdGhWaWV3ICYmICF2aWV3Um90YXRpb25Gcm9tVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyBDYW52YXMgaXMgbm90IHJvdGF0ZWQsIGltYWdlcyBuZWVkIHRvIGJlIHJvdGF0ZWQgYmFjayB0byBiZSBub3J0aC11cC5cbiAgICAgICAgICAgIHJvdGF0aW9uIC09IHZpZXdSb3RhdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHdpZHRoSW5kZXggPSAwO1xuICAgICAgICAgIGZvciAoOyBkIDwgZGQ7IGQgKz0gMikge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBnZW9tZXRyeVdpZHRocyAmJlxuICAgICAgICAgICAgICBnZW9tZXRyeVdpZHRoc1t3aWR0aEluZGV4KytdIDwgd2lkdGggLyB0aGlzLnBpeGVsUmF0aW9cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB0aGlzLmNhbGN1bGF0ZUltYWdlT3JMYWJlbERpbWVuc2lvbnNfKFxuICAgICAgICAgICAgICBpbWFnZS53aWR0aCxcbiAgICAgICAgICAgICAgaW1hZ2UuaGVpZ2h0LFxuICAgICAgICAgICAgICBwaXhlbENvb3JkaW5hdGVzW2RdLFxuICAgICAgICAgICAgICBwaXhlbENvb3JkaW5hdGVzW2QgKyAxXSxcbiAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgYW5jaG9yWCxcbiAgICAgICAgICAgICAgYW5jaG9yWSxcbiAgICAgICAgICAgICAgb3JpZ2luWCxcbiAgICAgICAgICAgICAgb3JpZ2luWSxcbiAgICAgICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgICAgIHNjYWxlLFxuICAgICAgICAgICAgICBzbmFwVG9QaXhlbCxcbiAgICAgICAgICAgICAgcGFkZGluZyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEZpbGwgfHwgYmFja2dyb3VuZFN0cm9rZSxcbiAgICAgICAgICAgICAgZmVhdHVyZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7UmVwbGF5SW1hZ2VPckxhYmVsQXJnc30gKi9cbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBbXG4gICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgIGNvbnRleHRTY2FsZSxcbiAgICAgICAgICAgICAgaW1hZ2UsXG4gICAgICAgICAgICAgIGRpbWVuc2lvbnMsXG4gICAgICAgICAgICAgIG9wYWNpdHksXG4gICAgICAgICAgICAgIGJhY2tncm91bmRGaWxsXG4gICAgICAgICAgICAgICAgPyAvKiogQHR5cGUge0FycmF5PCo+fSAqLyAobGFzdEZpbGxJbnN0cnVjdGlvbilcbiAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRTdHJva2VcbiAgICAgICAgICAgICAgICA/IC8qKiBAdHlwZSB7QXJyYXk8Kj59ICovIChsYXN0U3Ryb2tlSW5zdHJ1Y3Rpb24pXG4gICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmIChkZWNsdXR0ZXJUcmVlKSB7XG4gICAgICAgICAgICAgIGlmIChkZWNsdXR0ZXJNb2RlID09PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICAvLyBub3QgcmVuZGVyZWQgaW4gZGVjbHV0dGVyIGdyb3VwXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVjbHV0dGVyTW9kZSA9PT0gJ29ic3RhY2xlJykge1xuICAgICAgICAgICAgICAgIC8vIHdpbGwgYWx3YXlzIGJlIGRyYXduLCB0aHVzIG5vIGNvbGxpc2lvbiBkZXRlY3Rpb24sIGJ1dCBpbnNlcnQgYXMgb2JzdGFjbGVcbiAgICAgICAgICAgICAgICBkZWNsdXR0ZXJUcmVlLmluc2VydChkaW1lbnNpb25zLmRlY2x1dHRlckJveCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGltYWdlQXJncztcbiAgICAgICAgICAgICAgICBsZXQgaW1hZ2VEZWNsdXR0ZXJCb3g7XG4gICAgICAgICAgICAgICAgaWYgKGRlY2x1dHRlckltYWdlV2l0aFRleHQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZGQgLSBkO1xuICAgICAgICAgICAgICAgICAgaWYgKCFkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0W2luZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBub3cgaGF2ZSB0aGUgaW1hZ2UgZm9yIGFuIGltYWdlK3RleHQgY29tYmluYXRpb24uXG4gICAgICAgICAgICAgICAgICAgIGRlY2x1dHRlckltYWdlV2l0aFRleHRbaW5kZXhdID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcmVuZGVyIGFueXRoaW5nIGZvciBub3csIHdhaXQgZm9yIHRoZSB0ZXh0LlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGltYWdlQXJncyA9IGRlY2x1dHRlckltYWdlV2l0aFRleHRbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIGRlY2x1dHRlckltYWdlV2l0aFRleHRbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgaW1hZ2VEZWNsdXR0ZXJCb3ggPSBnZXREZWNsdXR0ZXJCb3goaW1hZ2VBcmdzKTtcbiAgICAgICAgICAgICAgICAgIGlmIChkZWNsdXR0ZXJUcmVlLmNvbGxpZGVzKGltYWdlRGVjbHV0dGVyQm94KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRlY2x1dHRlclRyZWUuY29sbGlkZXMoZGltZW5zaW9ucy5kZWNsdXR0ZXJCb3gpKSB7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlQXJncykge1xuICAgICAgICAgICAgICAgICAgLy8gV2Ugbm93IGhhdmUgaW1hZ2UgYW5kIHRleHQgZm9yIGFuIGltYWdlK3RleHQgY29tYmluYXRpb24uXG4gICAgICAgICAgICAgICAgICBkZWNsdXR0ZXJUcmVlLmluc2VydChpbWFnZURlY2x1dHRlckJveCk7XG4gICAgICAgICAgICAgICAgICAvLyBSZW5kZXIgdGhlIGltYWdlIGJlZm9yZSB3ZSByZW5kZXIgdGhlIHRleHQuXG4gICAgICAgICAgICAgICAgICB0aGlzLnJlcGxheUltYWdlT3JMYWJlbF8uYXBwbHkodGhpcywgaW1hZ2VBcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVjbHV0dGVyVHJlZS5pbnNlcnQoZGltZW5zaW9ucy5kZWNsdXR0ZXJCb3gpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlcGxheUltYWdlT3JMYWJlbF8uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5EUkFXX0NIQVJTOlxuICAgICAgICAgIGNvbnN0IGJlZ2luID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxXSk7XG4gICAgICAgICAgY29uc3QgZW5kID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsyXSk7XG4gICAgICAgICAgY29uc3QgYmFzZWxpbmUgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzNdKTtcbiAgICAgICAgICBjb25zdCBvdmVyZmxvdyA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNF0pO1xuICAgICAgICAgIGZpbGxLZXkgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzVdKTtcbiAgICAgICAgICBjb25zdCBtYXhBbmdsZSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bNl0pO1xuICAgICAgICAgIGNvbnN0IG1lYXN1cmVQaXhlbFJhdGlvID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvbls3XSk7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bOF0pO1xuICAgICAgICAgIHN0cm9rZUtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bOV0pO1xuICAgICAgICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChpbnN0cnVjdGlvblsxMF0pO1xuICAgICAgICAgIHRleHQgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGluc3RydWN0aW9uWzExXSk7XG4gICAgICAgICAgdGV4dEtleSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoaW5zdHJ1Y3Rpb25bMTJdKTtcbiAgICAgICAgICBjb25zdCBwaXhlbFJhdGlvU2NhbGUgPSBbXG4gICAgICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzEzXSksXG4gICAgICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzEzXSksXG4gICAgICAgICAgXTtcblxuICAgICAgICAgIGNvbnN0IHRleHRTdGF0ZSA9IHRoaXMudGV4dFN0YXRlc1t0ZXh0S2V5XTtcbiAgICAgICAgICBjb25zdCBmb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICAgICAgY29uc3QgdGV4dFNjYWxlID0gW1xuICAgICAgICAgICAgdGV4dFN0YXRlLnNjYWxlWzBdICogbWVhc3VyZVBpeGVsUmF0aW8sXG4gICAgICAgICAgICB0ZXh0U3RhdGUuc2NhbGVbMV0gKiBtZWFzdXJlUGl4ZWxSYXRpbyxcbiAgICAgICAgICBdO1xuXG4gICAgICAgICAgbGV0IGNhY2hlZFdpZHRocztcbiAgICAgICAgICBpZiAoZm9udCBpbiB0aGlzLndpZHRoc18pIHtcbiAgICAgICAgICAgIGNhY2hlZFdpZHRocyA9IHRoaXMud2lkdGhzX1tmb250XTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkV2lkdGhzID0ge307XG4gICAgICAgICAgICB0aGlzLndpZHRoc19bZm9udF0gPSBjYWNoZWRXaWR0aHM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcGF0aExlbmd0aCA9IGxpbmVTdHJpbmdMZW5ndGgocGl4ZWxDb29yZGluYXRlcywgYmVnaW4sIGVuZCwgMik7XG4gICAgICAgICAgY29uc3QgdGV4dExlbmd0aCA9XG4gICAgICAgICAgICBNYXRoLmFicyh0ZXh0U2NhbGVbMF0pICpcbiAgICAgICAgICAgIG1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aChmb250LCB0ZXh0LCBjYWNoZWRXaWR0aHMpO1xuICAgICAgICAgIGlmIChvdmVyZmxvdyB8fCB0ZXh0TGVuZ3RoIDw9IHBhdGhMZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHRBbGlnbiA9IHRoaXMudGV4dFN0YXRlc1t0ZXh0S2V5XS50ZXh0QWxpZ247XG4gICAgICAgICAgICBjb25zdCBzdGFydE0gPSAocGF0aExlbmd0aCAtIHRleHRMZW5ndGgpICogVEVYVF9BTElHTlt0ZXh0QWxpZ25dO1xuICAgICAgICAgICAgY29uc3QgcGFydHMgPSBkcmF3VGV4dE9uUGF0aChcbiAgICAgICAgICAgICAgcGl4ZWxDb29yZGluYXRlcyxcbiAgICAgICAgICAgICAgYmVnaW4sXG4gICAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgc3RhcnRNLFxuICAgICAgICAgICAgICBtYXhBbmdsZSxcbiAgICAgICAgICAgICAgTWF0aC5hYnModGV4dFNjYWxlWzBdKSxcbiAgICAgICAgICAgICAgbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoLFxuICAgICAgICAgICAgICBmb250LFxuICAgICAgICAgICAgICBjYWNoZWRXaWR0aHMsXG4gICAgICAgICAgICAgIHZpZXdSb3RhdGlvbkZyb21UcmFuc2Zvcm0gPyAwIDogdGhpcy52aWV3Um90YXRpb25fXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZHJhd0NoYXJzOiBpZiAocGFydHMpIHtcbiAgICAgICAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxSZXBsYXlJbWFnZU9yTGFiZWxBcmdzPn0gKi9cbiAgICAgICAgICAgICAgY29uc3QgcmVwbGF5SW1hZ2VPckxhYmVsQXJncyA9IFtdO1xuICAgICAgICAgICAgICBsZXQgYywgY2MsIGNoYXJzLCBsYWJlbCwgcGFydDtcbiAgICAgICAgICAgICAgaWYgKHN0cm9rZUtleSkge1xuICAgICAgICAgICAgICAgIGZvciAoYyA9IDAsIGNjID0gcGFydHMubGVuZ3RoOyBjIDwgY2M7ICsrYykge1xuICAgICAgICAgICAgICAgICAgcGFydCA9IHBhcnRzW2NdOyAvLyB4LCB5LCBhbmNob3JYLCByb3RhdGlvbiwgY2h1bmtcbiAgICAgICAgICAgICAgICAgIGNoYXJzID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChwYXJ0WzRdKTtcbiAgICAgICAgICAgICAgICAgIGxhYmVsID0gdGhpcy5jcmVhdGVMYWJlbChjaGFycywgdGV4dEtleSwgJycsIHN0cm9rZUtleSk7XG4gICAgICAgICAgICAgICAgICBhbmNob3JYID1cbiAgICAgICAgICAgICAgICAgICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovIChwYXJ0WzJdKSArXG4gICAgICAgICAgICAgICAgICAgICh0ZXh0U2NhbGVbMF0gPCAwID8gLXN0cm9rZVdpZHRoIDogc3Ryb2tlV2lkdGgpO1xuICAgICAgICAgICAgICAgICAgYW5jaG9yWSA9XG4gICAgICAgICAgICAgICAgICAgIGJhc2VsaW5lICogbGFiZWwuaGVpZ2h0ICtcbiAgICAgICAgICAgICAgICAgICAgKCgwLjUgLSBiYXNlbGluZSkgKiAyICogc3Ryb2tlV2lkdGggKiB0ZXh0U2NhbGVbMV0pIC9cbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2NhbGVbMF0gLVxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMuY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18oXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRbMF0sXG4gICAgICAgICAgICAgICAgICAgIHBhcnRbMV0sXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclgsXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclksXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRbM10sXG4gICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW9TY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgZGVjbHV0dGVyVHJlZSAmJlxuICAgICAgICAgICAgICAgICAgICBkZWNsdXR0ZXJUcmVlLmNvbGxpZGVzKGRpbWVuc2lvbnMuZGVjbHV0dGVyQm94KVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGRyYXdDaGFycztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJlcGxheUltYWdlT3JMYWJlbEFyZ3MucHVzaChbXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRTY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbnMsXG4gICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGZpbGxLZXkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGMgPSAwLCBjYyA9IHBhcnRzLmxlbmd0aDsgYyA8IGNjOyArK2MpIHtcbiAgICAgICAgICAgICAgICAgIHBhcnQgPSBwYXJ0c1tjXTsgLy8geCwgeSwgYW5jaG9yWCwgcm90YXRpb24sIGNodW5rXG4gICAgICAgICAgICAgICAgICBjaGFycyA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocGFydFs0XSk7XG4gICAgICAgICAgICAgICAgICBsYWJlbCA9IHRoaXMuY3JlYXRlTGFiZWwoY2hhcnMsIHRleHRLZXksIGZpbGxLZXksICcnKTtcbiAgICAgICAgICAgICAgICAgIGFuY2hvclggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKHBhcnRbMl0pO1xuICAgICAgICAgICAgICAgICAgYW5jaG9yWSA9IGJhc2VsaW5lICogbGFiZWwuaGVpZ2h0IC0gb2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB0aGlzLmNhbGN1bGF0ZUltYWdlT3JMYWJlbERpbWVuc2lvbnNfKFxuICAgICAgICAgICAgICAgICAgICBsYWJlbC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBwYXJ0WzBdLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0WzFdLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBhbmNob3JYLFxuICAgICAgICAgICAgICAgICAgICBhbmNob3JZLFxuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0WzNdLFxuICAgICAgICAgICAgICAgICAgICBwaXhlbFJhdGlvU2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UGFkZGluZyxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGRlY2x1dHRlclRyZWUgJiZcbiAgICAgICAgICAgICAgICAgICAgZGVjbHV0dGVyVHJlZS5jb2xsaWRlcyhkaW1lbnNpb25zLmRlY2x1dHRlckJveClcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBicmVhayBkcmF3Q2hhcnM7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXBsYXlJbWFnZU9yTGFiZWxBcmdzLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb25zLFxuICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChkZWNsdXR0ZXJUcmVlKSB7XG4gICAgICAgICAgICAgICAgZGVjbHV0dGVyVHJlZS5sb2FkKHJlcGxheUltYWdlT3JMYWJlbEFyZ3MubWFwKGdldERlY2x1dHRlckJveCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHJlcGxheUltYWdlT3JMYWJlbEFyZ3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVwbGF5SW1hZ2VPckxhYmVsXy5hcHBseSh0aGlzLCByZXBsYXlJbWFnZU9yTGFiZWxBcmdzW2ldKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uRU5EX0dFT01FVFJZOlxuICAgICAgICAgIGlmIChmZWF0dXJlQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZmVhdHVyZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gKi8gKFxuICAgICAgICAgICAgICBpbnN0cnVjdGlvblsxXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZlYXR1cmVDYWxsYmFjayhmZWF0dXJlLCBjdXJyZW50R2VvbWV0cnkpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uRklMTDpcbiAgICAgICAgICBpZiAoYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBwZW5kaW5nRmlsbCsrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZpbGxfKGNvbnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICArK2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2FudmFzSW5zdHJ1Y3Rpb24uTU9WRV9UT19MSU5FX1RPOlxuICAgICAgICAgIGQgPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGluc3RydWN0aW9uWzFdKTtcbiAgICAgICAgICBkZCA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoaW5zdHJ1Y3Rpb25bMl0pO1xuICAgICAgICAgIHggPSBwaXhlbENvb3JkaW5hdGVzW2RdO1xuICAgICAgICAgIHkgPSBwaXhlbENvb3JkaW5hdGVzW2QgKyAxXTtcbiAgICAgICAgICByb3VuZFggPSAoeCArIDAuNSkgfCAwO1xuICAgICAgICAgIHJvdW5kWSA9ICh5ICsgMC41KSB8IDA7XG4gICAgICAgICAgaWYgKHJvdW5kWCAhPT0gcHJldlggfHwgcm91bmRZICE9PSBwcmV2WSkge1xuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeCwgeSk7XG4gICAgICAgICAgICBwcmV2WCA9IHJvdW5kWDtcbiAgICAgICAgICAgIHByZXZZID0gcm91bmRZO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGQgKz0gMjsgZCA8IGRkOyBkICs9IDIpIHtcbiAgICAgICAgICAgIHggPSBwaXhlbENvb3JkaW5hdGVzW2RdO1xuICAgICAgICAgICAgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbZCArIDFdO1xuICAgICAgICAgICAgcm91bmRYID0gKHggKyAwLjUpIHwgMDtcbiAgICAgICAgICAgIHJvdW5kWSA9ICh5ICsgMC41KSB8IDA7XG4gICAgICAgICAgICBpZiAoZCA9PSBkZCAtIDIgfHwgcm91bmRYICE9PSBwcmV2WCB8fCByb3VuZFkgIT09IHByZXZZKSB7XG4gICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHgsIHkpO1xuICAgICAgICAgICAgICBwcmV2WCA9IHJvdW5kWDtcbiAgICAgICAgICAgICAgcHJldlkgPSByb3VuZFk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDYW52YXNJbnN0cnVjdGlvbi5TRVRfRklMTF9TVFlMRTpcbiAgICAgICAgICBsYXN0RmlsbEluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb247XG4gICAgICAgICAgdGhpcy5hbGlnbkZpbGxfID0gaW5zdHJ1Y3Rpb25bMl07XG5cbiAgICAgICAgICBpZiAocGVuZGluZ0ZpbGwpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgICAgICAgICBwZW5kaW5nRmlsbCA9IDA7XG4gICAgICAgICAgICBpZiAocGVuZGluZ1N0cm9rZSkge1xuICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICBwZW5kaW5nU3Ryb2tlID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9XG4gICAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9ICovIChcbiAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25bMV1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgKytpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLlNFVF9TVFJPS0VfU1RZTEU6XG4gICAgICAgICAgbGFzdFN0cm9rZUluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb247XG4gICAgICAgICAgaWYgKHBlbmRpbmdTdHJva2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICBwZW5kaW5nU3Ryb2tlID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zZXRTdHJva2VTdHlsZV8oY29udGV4dCwgLyoqIEB0eXBlIHtBcnJheTwqPn0gKi8gKGluc3RydWN0aW9uKSk7XG4gICAgICAgICAgKytpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENhbnZhc0luc3RydWN0aW9uLlNUUk9LRTpcbiAgICAgICAgICBpZiAoYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBwZW5kaW5nU3Ryb2tlKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgICsraTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDogLy8gY29uc3VtZSB0aGUgaW5zdHJ1Y3Rpb24gYW55d2F5LCB0byBhdm9pZCBhbiBpbmZpbml0ZSBsb29wXG4gICAgICAgICAgKytpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGVuZGluZ0ZpbGwpIHtcbiAgICAgIHRoaXMuZmlsbF8oY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChwZW5kaW5nU3Ryb2tlKSB7XG4gICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZXh0U2NhbGUgU2NhbGUgb2YgdGhlIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHZpZXdSb3RhdGlvbiBWaWV3IHJvdGF0aW9uLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNuYXBUb1BpeGVsIFNuYXAgcG9pbnQgc3ltYm9scyBhbmQgdGV4dCB0byBpbnRlZ2VyIHBpeGVscy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCJyYnVzaFwiKS5kZWZhdWx0fSBbZGVjbHV0dGVyVHJlZV0gRGVjbHV0dGVyIHRyZWUuXG4gICAqL1xuICBleGVjdXRlKFxuICAgIGNvbnRleHQsXG4gICAgY29udGV4dFNjYWxlLFxuICAgIHRyYW5zZm9ybSxcbiAgICB2aWV3Um90YXRpb24sXG4gICAgc25hcFRvUGl4ZWwsXG4gICAgZGVjbHV0dGVyVHJlZVxuICApIHtcbiAgICB0aGlzLnZpZXdSb3RhdGlvbl8gPSB2aWV3Um90YXRpb247XG4gICAgdGhpcy5leGVjdXRlXyhcbiAgICAgIGNvbnRleHQsXG4gICAgICBjb250ZXh0U2NhbGUsXG4gICAgICB0cmFuc2Zvcm0sXG4gICAgICB0aGlzLmluc3RydWN0aW9ucyxcbiAgICAgIHNuYXBUb1BpeGVsLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgZGVjbHV0dGVyVHJlZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKiBAcGFyYW0ge251bWJlcn0gdmlld1JvdGF0aW9uIFZpZXcgcm90YXRpb24uXG4gICAqIEBwYXJhbSB7RmVhdHVyZUNhbGxiYWNrPFQ+fSBbZmVhdHVyZUNhbGxiYWNrXSBGZWF0dXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtoaXRFeHRlbnRdIE9ubHkgY2hlY2tcbiAgICogICAgIGZlYXR1cmVzIHRoYXQgaW50ZXJzZWN0IHRoaXMgZXh0ZW50LlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKi9cbiAgZXhlY3V0ZUhpdERldGVjdGlvbihcbiAgICBjb250ZXh0LFxuICAgIHRyYW5zZm9ybSxcbiAgICB2aWV3Um90YXRpb24sXG4gICAgZmVhdHVyZUNhbGxiYWNrLFxuICAgIGhpdEV4dGVudFxuICApIHtcbiAgICB0aGlzLnZpZXdSb3RhdGlvbl8gPSB2aWV3Um90YXRpb247XG4gICAgcmV0dXJuIHRoaXMuZXhlY3V0ZV8oXG4gICAgICBjb250ZXh0LFxuICAgICAgMSxcbiAgICAgIHRyYW5zZm9ybSxcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zLFxuICAgICAgdHJ1ZSxcbiAgICAgIGZlYXR1cmVDYWxsYmFjayxcbiAgICAgIGhpdEV4dGVudFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXhlY3V0b3I7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9FeGVjdXRvckdyb3VwXG4gKi9cblxuaW1wb3J0IEV4ZWN1dG9yIGZyb20gJy4vRXhlY3V0b3IuanMnO1xuaW1wb3J0IHthc2NlbmRpbmd9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7YnVmZmVyLCBjcmVhdGVFbXB0eSwgZXh0ZW5kQ29vcmRpbmF0ZX0gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7XG4gIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSxcbiAgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSxcbn0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJEfSBmcm9tICcuLi8uLi9kb20uanMnO1xuaW1wb3J0IHtpc0VtcHR5fSBmcm9tICcuLi8uLi9vYmouanMnO1xuaW1wb3J0IHt0cmFuc2Zvcm0yRH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3RyYW5zZm9ybS5qcyc7XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkJ1aWxkZXJUeXBlPn1cbiAqL1xuY29uc3QgT1JERVIgPSBbJ1BvbHlnb24nLCAnQ2lyY2xlJywgJ0xpbmVTdHJpbmcnLCAnSW1hZ2UnLCAnVGV4dCcsICdEZWZhdWx0J107XG5cbmNsYXNzIEV4ZWN1dG9yR3JvdXAge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBtYXhFeHRlbnQgTWF4IGV4dGVudCBmb3IgY2xpcHBpbmcuIFdoZW4gYVxuICAgKiBgbWF4RXh0ZW50YCB3YXMgc2V0IG9uIHRoZSBCdWlsZGVyIGZvciB0aGlzIGV4ZWN1dG9yIGdyb3VwLCB0aGUgc2FtZSBgbWF4RXh0ZW50YFxuICAgKiBzaG91bGQgYmUgc2V0IGhlcmUsIHVubGVzcyB0aGUgdGFyZ2V0IGNvbnRleHQgZG9lcyBub3QgZXhjZWVkIHRoYXQgZXh0ZW50ICh3aGljaFxuICAgKiBjYW4gYmUgdGhlIGNhc2Ugd2hlbiByZW5kZXJpbmcgdG8gdGlsZXMpLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtib29sZWFufSBvdmVybGFwcyBUaGUgZXhlY3V0b3IgZ3JvdXAgY2FuIGhhdmUgb3ZlcmxhcHBpbmcgZ2VvbWV0cmllcy5cbiAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuQnVpbGRlclR5cGUsIGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TZXJpYWxpemFibGVJbnN0cnVjdGlvbnM+Pn0gYWxsSW5zdHJ1Y3Rpb25zXG4gICAqIFRoZSBzZXJpYWxpemFibGUgaW5zdHJ1Y3Rpb25zLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3JlbmRlckJ1ZmZlcl0gT3B0aW9uYWwgcmVuZGVyaW5nIGJ1ZmZlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1heEV4dGVudCxcbiAgICByZXNvbHV0aW9uLFxuICAgIHBpeGVsUmF0aW8sXG4gICAgb3ZlcmxhcHMsXG4gICAgYWxsSW5zdHJ1Y3Rpb25zLFxuICAgIHJlbmRlckJ1ZmZlclxuICApIHtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMubWF4RXh0ZW50XyA9IG1heEV4dGVudDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5vdmVybGFwc18gPSBvdmVybGFwcztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsUmF0aW9fID0gcGl4ZWxSYXRpbztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb25fID0gcmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJCdWZmZXJfID0gcmVuZGVyQnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsICFPYmplY3Q8aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkJ1aWxkZXJUeXBlLCBpbXBvcnQoXCIuL0V4ZWN1dG9yXCIpLmRlZmF1bHQ+Pn1cbiAgICAgKi9cbiAgICB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4XyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uQ29udGV4dF8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLmhpdERldGVjdGlvblRyYW5zZm9ybV8gPSBjcmVhdGVUcmFuc2Zvcm0oKTtcblxuICAgIHRoaXMuY3JlYXRlRXhlY3V0b3JzXyhhbGxJbnN0cnVjdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICovXG4gIGNsaXAoY29udGV4dCwgdHJhbnNmb3JtKSB7XG4gICAgY29uc3QgZmxhdENsaXBDb29yZHMgPSB0aGlzLmdldENsaXBDb29yZHModHJhbnNmb3JtKTtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQubW92ZVRvKGZsYXRDbGlwQ29vcmRzWzBdLCBmbGF0Q2xpcENvb3Jkc1sxXSk7XG4gICAgY29udGV4dC5saW5lVG8oZmxhdENsaXBDb29yZHNbMl0sIGZsYXRDbGlwQ29vcmRzWzNdKTtcbiAgICBjb250ZXh0LmxpbmVUbyhmbGF0Q2xpcENvb3Jkc1s0XSwgZmxhdENsaXBDb29yZHNbNV0pO1xuICAgIGNvbnRleHQubGluZVRvKGZsYXRDbGlwQ29vcmRzWzZdLCBmbGF0Q2xpcENvb3Jkc1s3XSk7XG4gICAgY29udGV4dC5jbGlwKCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGV4ZWN1dG9ycyBhbmQgcG9wdWxhdGUgdGhlbSB1c2luZyB0aGUgcHJvdmlkZWQgaW5zdHJ1Y3Rpb25zLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCAhT2JqZWN0PGltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5CdWlsZGVyVHlwZSwgaW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlNlcmlhbGl6YWJsZUluc3RydWN0aW9ucz4+fSBhbGxJbnN0cnVjdGlvbnMgVGhlIHNlcmlhbGl6YWJsZSBpbnN0cnVjdGlvbnNcbiAgICovXG4gIGNyZWF0ZUV4ZWN1dG9yc18oYWxsSW5zdHJ1Y3Rpb25zKSB7XG4gICAgZm9yIChjb25zdCB6SW5kZXggaW4gYWxsSW5zdHJ1Y3Rpb25zKSB7XG4gICAgICBsZXQgZXhlY3V0b3JzID0gdGhpcy5leGVjdXRvcnNCeVpJbmRleF9bekluZGV4XTtcbiAgICAgIGlmIChleGVjdXRvcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBleGVjdXRvcnMgPSB7fTtcbiAgICAgICAgdGhpcy5leGVjdXRvcnNCeVpJbmRleF9bekluZGV4XSA9IGV4ZWN1dG9ycztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGluc3RydWN0aW9uQnlaaW5kZXggPSBhbGxJbnN0cnVjdGlvbnNbekluZGV4XTtcbiAgICAgIGZvciAoY29uc3QgYnVpbGRlclR5cGUgaW4gaW5zdHJ1Y3Rpb25CeVppbmRleCkge1xuICAgICAgICBjb25zdCBpbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbkJ5WmluZGV4W2J1aWxkZXJUeXBlXTtcbiAgICAgICAgZXhlY3V0b3JzW2J1aWxkZXJUeXBlXSA9IG5ldyBFeGVjdXRvcihcbiAgICAgICAgICB0aGlzLnJlc29sdXRpb25fLFxuICAgICAgICAgIHRoaXMucGl4ZWxSYXRpb18sXG4gICAgICAgICAgdGhpcy5vdmVybGFwc18sXG4gICAgICAgICAgaW5zdHJ1Y3Rpb25zXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkJ1aWxkZXJUeXBlPn0gZXhlY3V0b3JzIEV4ZWN1dG9ycy5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSGFzIGV4ZWN1dG9ycyBvZiB0aGUgcHJvdmlkZWQgdHlwZXMuXG4gICAqL1xuICBoYXNFeGVjdXRvcnMoZXhlY3V0b3JzKSB7XG4gICAgZm9yIChjb25zdCB6SW5kZXggaW4gdGhpcy5leGVjdXRvcnNCeVpJbmRleF8pIHtcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhdO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZXhlY3V0b3JzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgaWYgKGV4ZWN1dG9yc1tpXSBpbiBjYW5kaWRhdGVzKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBpbXBvcnQoXCIuLi8uLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHQsIG51bWJlcik6IFR9IGNhbGxiYWNrIEZlYXR1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59IGRlY2x1dHRlcmVkRmVhdHVyZXMgRGVjbHV0dGVyZWQgZmVhdHVyZXMuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqL1xuICBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShcbiAgICBjb29yZGluYXRlLFxuICAgIHJlc29sdXRpb24sXG4gICAgcm90YXRpb24sXG4gICAgaGl0VG9sZXJhbmNlLFxuICAgIGNhbGxiYWNrLFxuICAgIGRlY2x1dHRlcmVkRmVhdHVyZXNcbiAgKSB7XG4gICAgaGl0VG9sZXJhbmNlID0gTWF0aC5yb3VuZChoaXRUb2xlcmFuY2UpO1xuICAgIGNvbnN0IGNvbnRleHRTaXplID0gaGl0VG9sZXJhbmNlICogMiArIDE7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gY29tcG9zZVRyYW5zZm9ybShcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uVHJhbnNmb3JtXyxcbiAgICAgIGhpdFRvbGVyYW5jZSArIDAuNSxcbiAgICAgIGhpdFRvbGVyYW5jZSArIDAuNSxcbiAgICAgIDEgLyByZXNvbHV0aW9uLFxuICAgICAgLTEgLyByZXNvbHV0aW9uLFxuICAgICAgLXJvdGF0aW9uLFxuICAgICAgLWNvb3JkaW5hdGVbMF0sXG4gICAgICAtY29vcmRpbmF0ZVsxXVxuICAgICk7XG5cbiAgICBjb25zdCBuZXdDb250ZXh0ID0gIXRoaXMuaGl0RGV0ZWN0aW9uQ29udGV4dF87XG4gICAgaWYgKG5ld0NvbnRleHQpIHtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uQ29udGV4dF8gPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoXG4gICAgICAgIGNvbnRleHRTaXplLFxuICAgICAgICBjb250ZXh0U2l6ZSxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB7d2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlfVxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuaGl0RGV0ZWN0aW9uQ29udGV4dF87XG5cbiAgICBpZiAoXG4gICAgICBjb250ZXh0LmNhbnZhcy53aWR0aCAhPT0gY29udGV4dFNpemUgfHxcbiAgICAgIGNvbnRleHQuY2FudmFzLmhlaWdodCAhPT0gY29udGV4dFNpemVcbiAgICApIHtcbiAgICAgIGNvbnRleHQuY2FudmFzLndpZHRoID0gY29udGV4dFNpemU7XG4gICAgICBjb250ZXh0LmNhbnZhcy5oZWlnaHQgPSBjb250ZXh0U2l6ZTtcbiAgICB9IGVsc2UgaWYgKCFuZXdDb250ZXh0KSB7XG4gICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjb250ZXh0U2l6ZSwgY29udGV4dFNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIGxldCBoaXRFeHRlbnQ7XG4gICAgaWYgKHRoaXMucmVuZGVyQnVmZmVyXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBoaXRFeHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuICAgICAgZXh0ZW5kQ29vcmRpbmF0ZShoaXRFeHRlbnQsIGNvb3JkaW5hdGUpO1xuICAgICAgYnVmZmVyKFxuICAgICAgICBoaXRFeHRlbnQsXG4gICAgICAgIHJlc29sdXRpb24gKiAodGhpcy5yZW5kZXJCdWZmZXJfICsgaGl0VG9sZXJhbmNlKSxcbiAgICAgICAgaGl0RXh0ZW50XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGluZGV4ZXMgPSBnZXRQaXhlbEluZGV4QXJyYXkoaGl0VG9sZXJhbmNlKTtcblxuICAgIGxldCBidWlsZGVyVHlwZTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZlYXR1cmVDYWxsYmFjayhmZWF0dXJlLCBnZW9tZXRyeSkge1xuICAgICAgY29uc3QgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIGNvbnRleHRTaXplLFxuICAgICAgICBjb250ZXh0U2l6ZVxuICAgICAgKS5kYXRhO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gaW5kZXhlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIGlmIChpbWFnZURhdGFbaW5kZXhlc1tpXV0gPiAwKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWRlY2x1dHRlcmVkRmVhdHVyZXMgfHxcbiAgICAgICAgICAgIChidWlsZGVyVHlwZSAhPT0gJ0ltYWdlJyAmJiBidWlsZGVyVHlwZSAhPT0gJ1RleHQnKSB8fFxuICAgICAgICAgICAgZGVjbHV0dGVyZWRGZWF0dXJlcy5pbmNsdWRlcyhmZWF0dXJlKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gKGluZGV4ZXNbaV0gLSAzKSAvIDQ7XG4gICAgICAgICAgICBjb25zdCB4ID0gaGl0VG9sZXJhbmNlIC0gKGlkeCAlIGNvbnRleHRTaXplKTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBoaXRUb2xlcmFuY2UgLSAoKGlkeCAvIGNvbnRleHRTaXplKSB8IDApO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2FsbGJhY2soZmVhdHVyZSwgZ2VvbWV0cnksIHggKiB4ICsgeSAqIHkpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjb250ZXh0U2l6ZSwgY29udGV4dFNpemUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi9cbiAgICBjb25zdCB6cyA9IE9iamVjdC5rZXlzKHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfKS5tYXAoTnVtYmVyKTtcbiAgICB6cy5zb3J0KGFzY2VuZGluZyk7XG5cbiAgICBsZXQgaSwgaiwgZXhlY3V0b3JzLCBleGVjdXRvciwgcmVzdWx0O1xuICAgIGZvciAoaSA9IHpzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBjb25zdCB6SW5kZXhLZXkgPSB6c1tpXS50b1N0cmluZygpO1xuICAgICAgZXhlY3V0b3JzID0gdGhpcy5leGVjdXRvcnNCeVpJbmRleF9bekluZGV4S2V5XTtcbiAgICAgIGZvciAoaiA9IE9SREVSLmxlbmd0aCAtIDE7IGogPj0gMDsgLS1qKSB7XG4gICAgICAgIGJ1aWxkZXJUeXBlID0gT1JERVJbal07XG4gICAgICAgIGV4ZWN1dG9yID0gZXhlY3V0b3JzW2J1aWxkZXJUeXBlXTtcbiAgICAgICAgaWYgKGV4ZWN1dG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXN1bHQgPSBleGVjdXRvci5leGVjdXRlSGl0RGV0ZWN0aW9uKFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgICAgIHJvdGF0aW9uLFxuICAgICAgICAgICAgZmVhdHVyZUNhbGxiYWNrLFxuICAgICAgICAgICAgaGl0RXh0ZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnxudWxsfSBDbGlwIGNvb3JkaW5hdGVzLlxuICAgKi9cbiAgZ2V0Q2xpcENvb3Jkcyh0cmFuc2Zvcm0pIHtcbiAgICBjb25zdCBtYXhFeHRlbnQgPSB0aGlzLm1heEV4dGVudF87XG4gICAgaWYgKCFtYXhFeHRlbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBtaW5YID0gbWF4RXh0ZW50WzBdO1xuICAgIGNvbnN0IG1pblkgPSBtYXhFeHRlbnRbMV07XG4gICAgY29uc3QgbWF4WCA9IG1heEV4dGVudFsyXTtcbiAgICBjb25zdCBtYXhZID0gbWF4RXh0ZW50WzNdO1xuICAgIGNvbnN0IGZsYXRDbGlwQ29vcmRzID0gW21pblgsIG1pblksIG1pblgsIG1heFksIG1heFgsIG1heFksIG1heFgsIG1pblldO1xuICAgIHRyYW5zZm9ybTJEKGZsYXRDbGlwQ29vcmRzLCAwLCA4LCAyLCB0cmFuc2Zvcm0sIGZsYXRDbGlwQ29vcmRzKTtcbiAgICByZXR1cm4gZmxhdENsaXBDb29yZHM7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSXMgZW1wdHkuXG4gICAqL1xuICBpc0VtcHR5KCkge1xuICAgIHJldHVybiBpc0VtcHR5KHRoaXMuZXhlY3V0b3JzQnlaSW5kZXhfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gY29udGV4dFNjYWxlIFNjYWxlIG9mIHRoZSBjb250ZXh0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2aWV3Um90YXRpb24gVmlldyByb3RhdGlvbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBzbmFwVG9QaXhlbCBTbmFwIHBvaW50IHN5bWJvbHMgYW5kIHRlc3QgdG8gaW50ZWdlciBwaXhlbC5cbiAgICogQHBhcmFtIHtBcnJheTxpbXBvcnQoXCIuLi9jYW52YXMuanNcIikuQnVpbGRlclR5cGU+fSBbYnVpbGRlclR5cGVzXSBPcmRlcmVkIHJlcGxheSB0eXBlcyB0byByZXBsYXkuXG4gICAqICAgICBEZWZhdWx0IGlzIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyL3JlcGxheX5PUkRFUn1cbiAgICogQHBhcmFtIHtpbXBvcnQoXCJyYnVzaFwiKS5kZWZhdWx0fSBbZGVjbHV0dGVyVHJlZV0gRGVjbHV0dGVyIHRyZWUuXG4gICAqL1xuICBleGVjdXRlKFxuICAgIGNvbnRleHQsXG4gICAgY29udGV4dFNjYWxlLFxuICAgIHRyYW5zZm9ybSxcbiAgICB2aWV3Um90YXRpb24sXG4gICAgc25hcFRvUGl4ZWwsXG4gICAgYnVpbGRlclR5cGVzLFxuICAgIGRlY2x1dHRlclRyZWVcbiAgKSB7XG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIGNvbnN0IHpzID0gT2JqZWN0LmtleXModGhpcy5leGVjdXRvcnNCeVpJbmRleF8pLm1hcChOdW1iZXIpO1xuICAgIHpzLnNvcnQoYXNjZW5kaW5nKTtcblxuICAgIC8vIHNldHVwIGNsaXBwaW5nIHNvIHRoYXQgdGhlIHBhcnRzIG9mIG92ZXItc2ltcGxpZmllZCBnZW9tZXRyaWVzIGFyZSBub3RcbiAgICAvLyB2aXNpYmxlIG91dHNpZGUgdGhlIGN1cnJlbnQgZXh0ZW50IHdoZW4gcGFubmluZ1xuICAgIGlmICh0aGlzLm1heEV4dGVudF8pIHtcbiAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgdGhpcy5jbGlwKGNvbnRleHQsIHRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgYnVpbGRlclR5cGVzID0gYnVpbGRlclR5cGVzID8gYnVpbGRlclR5cGVzIDogT1JERVI7XG4gICAgbGV0IGksIGlpLCBqLCBqaiwgcmVwbGF5cywgcmVwbGF5O1xuICAgIGlmIChkZWNsdXR0ZXJUcmVlKSB7XG4gICAgICB6cy5yZXZlcnNlKCk7XG4gICAgfVxuICAgIGZvciAoaSA9IDAsIGlpID0genMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgekluZGV4S2V5ID0genNbaV0udG9TdHJpbmcoKTtcbiAgICAgIHJlcGxheXMgPSB0aGlzLmV4ZWN1dG9yc0J5WkluZGV4X1t6SW5kZXhLZXldO1xuICAgICAgZm9yIChqID0gMCwgamogPSBidWlsZGVyVHlwZXMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICBjb25zdCBidWlsZGVyVHlwZSA9IGJ1aWxkZXJUeXBlc1tqXTtcbiAgICAgICAgcmVwbGF5ID0gcmVwbGF5c1tidWlsZGVyVHlwZV07XG4gICAgICAgIGlmIChyZXBsYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlcGxheS5leGVjdXRlKFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIGNvbnRleHRTY2FsZSxcbiAgICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgICAgIHZpZXdSb3RhdGlvbixcbiAgICAgICAgICAgIHNuYXBUb1BpeGVsLFxuICAgICAgICAgICAgZGVjbHV0dGVyVHJlZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5tYXhFeHRlbnRfKSB7XG4gICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGNhY2hlIGlzIHVzZWQgdG8gc3RvcmUgYXJyYXlzIG9mIGluZGV4ZXMgZm9yIGNhbGN1bGF0ZWQgcGl4ZWwgY2lyY2xlc1xuICogdG8gaW5jcmVhc2UgcGVyZm9ybWFuY2UuXG4gKiBJdCBpcyBhIHN0YXRpYyBwcm9wZXJ0eSB0byBhbGxvdyBlYWNoIFJlcGxheWdyb3VwIHRvIGFjY2VzcyBpdC5cbiAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBBcnJheTxudW1iZXI+Pn1cbiAqL1xuY29uc3QgY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGUgPSB7fTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZHMgY3JlYXRlcyBhbiBhcnJheSB3aXRoIGluZGV4ZXMgb2YgYWxsIHBpeGVscyB3aXRoaW4gYSBjaXJjbGUsXG4gKiBvcmRlcmVkIGJ5IGhvdyBjbG9zZSB0aGV5IGFyZSB0byB0aGUgY2VudGVyLlxuICogQSBjYWNoZSBpcyB1c2VkIHRvIGluY3JlYXNlIHBlcmZvcm1hbmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyBSYWRpdXMuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBBbiBhcnJheSB3aXRoIGluZGV4ZXMgd2l0aGluIGEgY2lyY2xlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGl4ZWxJbmRleEFycmF5KHJhZGl1cykge1xuICBpZiAoY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGVbcmFkaXVzXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGNpcmNsZVBpeGVsSW5kZXhBcnJheUNhY2hlW3JhZGl1c107XG4gIH1cblxuICBjb25zdCBzaXplID0gcmFkaXVzICogMiArIDE7XG4gIGNvbnN0IG1heERpc3RhbmNlU3EgPSByYWRpdXMgKiByYWRpdXM7XG4gIGNvbnN0IGRpc3RhbmNlcyA9IG5ldyBBcnJheShtYXhEaXN0YW5jZVNxICsgMSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDw9IHJhZGl1czsgKytpKSB7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPD0gcmFkaXVzOyArK2opIHtcbiAgICAgIGNvbnN0IGRpc3RhbmNlU3EgPSBpICogaSArIGogKiBqO1xuICAgICAgaWYgKGRpc3RhbmNlU3EgPiBtYXhEaXN0YW5jZVNxKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbGV0IGRpc3RhbmNlID0gZGlzdGFuY2VzW2Rpc3RhbmNlU3FdO1xuICAgICAgaWYgKCFkaXN0YW5jZSkge1xuICAgICAgICBkaXN0YW5jZSA9IFtdO1xuICAgICAgICBkaXN0YW5jZXNbZGlzdGFuY2VTcV0gPSBkaXN0YW5jZTtcbiAgICAgIH1cbiAgICAgIGRpc3RhbmNlLnB1c2goKChyYWRpdXMgKyBpKSAqIHNpemUgKyAocmFkaXVzICsgaikpICogNCArIDMpO1xuICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgIGRpc3RhbmNlLnB1c2goKChyYWRpdXMgLSBpKSAqIHNpemUgKyAocmFkaXVzICsgaikpICogNCArIDMpO1xuICAgICAgfVxuICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgIGRpc3RhbmNlLnB1c2goKChyYWRpdXMgKyBpKSAqIHNpemUgKyAocmFkaXVzIC0gaikpICogNCArIDMpO1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICBkaXN0YW5jZS5wdXNoKCgocmFkaXVzIC0gaSkgKiBzaXplICsgKHJhZGl1cyAtIGopKSAqIDQgKyAzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHBpeGVsSW5kZXggPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZGlzdGFuY2VzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICBpZiAoZGlzdGFuY2VzW2ldKSB7XG4gICAgICBwaXhlbEluZGV4LnB1c2goLi4uZGlzdGFuY2VzW2ldKTtcbiAgICB9XG4gIH1cblxuICBjaXJjbGVQaXhlbEluZGV4QXJyYXlDYWNoZVtyYWRpdXNdID0gcGl4ZWxJbmRleDtcbiAgcmV0dXJuIHBpeGVsSW5kZXg7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEV4ZWN1dG9yR3JvdXA7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhcy9JbW1lZGlhdGVcbiAqL1xuLy8gRklYTUUgdGVzdCwgZXNwZWNpYWxseSBwb2x5Z29ucyB3aXRoIGhvbGVzIGFuZCBtdWx0aXBvbHlnb25zXG4vLyBGSVhNRSBuZWVkIHRvIGhhbmRsZSBsYXJnZSB0aGljayBmZWF0dXJlcyAod2hlcmUgcGl4ZWwgc2l6ZSBtYXR0ZXJzKVxuLy8gRklYTUUgYWRkIG9mZnNldCBhbmQgZW5kIHRvIG9sL2dlb20vZmxhdC90cmFuc2Zvcm1+dHJhbnNmb3JtMkQ/XG5cbmltcG9ydCBWZWN0b3JDb250ZXh0IGZyb20gJy4uL1ZlY3RvckNvbnRleHQuanMnO1xuaW1wb3J0IHthc0NvbG9yTGlrZX0gZnJvbSAnLi4vLi4vY29sb3JsaWtlLmpzJztcbmltcG9ydCB7XG4gIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSxcbiAgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSxcbn0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7XG4gIGRlZmF1bHRGaWxsU3R5bGUsXG4gIGRlZmF1bHRGb250LFxuICBkZWZhdWx0TGluZUNhcCxcbiAgZGVmYXVsdExpbmVEYXNoLFxuICBkZWZhdWx0TGluZURhc2hPZmZzZXQsXG4gIGRlZmF1bHRMaW5lSm9pbixcbiAgZGVmYXVsdExpbmVXaWR0aCxcbiAgZGVmYXVsdE1pdGVyTGltaXQsXG4gIGRlZmF1bHRTdHJva2VTdHlsZSxcbiAgZGVmYXVsdFRleHRBbGlnbixcbiAgZGVmYXVsdFRleHRCYXNlbGluZSxcbn0gZnJvbSAnLi4vY2FudmFzLmpzJztcbmltcG9ydCB7ZXF1YWxzfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQge2ludGVyc2VjdHN9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge3RvRml4ZWR9IGZyb20gJy4uLy4uL21hdGguanMnO1xuaW1wb3J0IHt0cmFuc2Zvcm0yRH0gZnJvbSAnLi4vLi4vZ2VvbS9mbGF0L3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQge3RyYW5zZm9ybUdlb20yRH0gZnJvbSAnLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQSBjb25jcmV0ZSBzdWJjbGFzcyBvZiB7QGxpbmsgbW9kdWxlOm9sL3JlbmRlci9WZWN0b3JDb250ZXh0flZlY3RvckNvbnRleHR9IHRoYXQgaW1wbGVtZW50c1xuICogZGlyZWN0IHJlbmRlcmluZyBvZiBmZWF0dXJlcyBhbmQgZ2VvbWV0cmllcyB0byBhbiBIVE1MNSBDYW52YXMgY29udGV4dC5cbiAqIEluc3RhbmNlcyBvZiB0aGlzIGNsYXNzIGFyZSBjcmVhdGVkIGludGVybmFsbHkgYnkgdGhlIGxpYnJhcnkgYW5kXG4gKiBwcm92aWRlZCB0byBhcHBsaWNhdGlvbiBjb2RlIGFzIHZlY3RvckNvbnRleHQgbWVtYmVyIG9mIHRoZVxuICoge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnR9IG9iamVjdCBhc3NvY2lhdGVkIHdpdGggcG9zdGNvbXBvc2UsIHByZWNvbXBvc2UgYW5kXG4gKiByZW5kZXIgZXZlbnRzIGVtaXR0ZWQgYnkgbGF5ZXJzIGFuZCBtYXBzLlxuICovXG5jbGFzcyBDYW52YXNJbW1lZGlhdGVSZW5kZXJlciBleHRlbmRzIFZlY3RvckNvbnRleHQge1xuICAvKipcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICAgKiBAcGFyYW0ge251bWJlcn0gdmlld1JvdGF0aW9uIFZpZXcgcm90YXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc3F1YXJlZFRvbGVyYW5jZV0gT3B0aW9uYWwgc3F1YXJlZCB0b2xlcmFuY2UgZm9yIHNpbXBsaWZpY2F0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IFt1c2VyVHJhbnNmb3JtXSBUcmFuc2Zvcm0gZnJvbSB1c2VyIHRvIHZpZXcgcHJvamVjdGlvbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbnRleHQsXG4gICAgcGl4ZWxSYXRpbyxcbiAgICBleHRlbnQsXG4gICAgdHJhbnNmb3JtLFxuICAgIHZpZXdSb3RhdGlvbixcbiAgICBzcXVhcmVkVG9sZXJhbmNlLFxuICAgIHVzZXJUcmFuc2Zvcm1cbiAgKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHRfID0gY29udGV4dDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBpeGVsUmF0aW9fID0gcGl4ZWxSYXRpbztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9XG4gICAgICovXG4gICAgdGhpcy5leHRlbnRfID0gZXh0ZW50O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLnRyYW5zZm9ybV8gPSB0cmFuc2Zvcm07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50cmFuc2Zvcm1Sb3RhdGlvbl8gPSB0cmFuc2Zvcm1cbiAgICAgID8gdG9GaXhlZChNYXRoLmF0YW4yKHRyYW5zZm9ybVsxXSwgdHJhbnNmb3JtWzBdKSwgMTApXG4gICAgICA6IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy52aWV3Um90YXRpb25fID0gdmlld1JvdGF0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8gPSBzcXVhcmVkVG9sZXJhbmNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLnVzZXJUcmFuc2Zvcm1fID0gdXNlclRyYW5zZm9ybTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dEZpbGxTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGV9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0VGV4dFN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHs/aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnN0cm9rZVN0YXRlXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VBbmNob3JYXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZUFuY2hvcllfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlSGVpZ2h0XyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbWFnZU9wYWNpdHlfID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlT3JpZ2luWF8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VPcmlnaW5ZXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VSb3RhdGVXaXRoVmlld18gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlUm90YXRpb25fID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLmltYWdlU2NhbGVfID0gWzAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VXaWR0aF8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudGV4dF8gPSAnJztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRPZmZzZXRYXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50ZXh0T2Zmc2V0WV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRSb3RhdGVXaXRoVmlld18gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRSb3RhdGlvbl8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMudGV4dFNjYWxlXyA9IFswLCAwXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi9jYW52YXMuanNcIikuRmlsbFN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dEZpbGxTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5UZXh0U3RhdGV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0U3RhdGVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5waXhlbENvb3JkaW5hdGVzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICB0aGlzLnRtcExvY2FsVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZmxhdENvb3JkaW5hdGVzIEZsYXQgY29vcmRpbmF0ZXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIEVuZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSBTdHJpZGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkcmF3SW1hZ2VzXyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kLCBzdHJpZGUpIHtcbiAgICBpZiAoIXRoaXMuaW1hZ2VfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBpeGVsQ29vcmRpbmF0ZXMgPSB0cmFuc2Zvcm0yRChcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIHRoaXMudHJhbnNmb3JtXyxcbiAgICAgIHRoaXMucGl4ZWxDb29yZGluYXRlc19cbiAgICApO1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIGNvbnN0IGxvY2FsVHJhbnNmb3JtID0gdGhpcy50bXBMb2NhbFRyYW5zZm9ybV87XG4gICAgY29uc3QgYWxwaGEgPSBjb250ZXh0Lmdsb2JhbEFscGhhO1xuICAgIGlmICh0aGlzLmltYWdlT3BhY2l0eV8gIT0gMSkge1xuICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGFscGhhICogdGhpcy5pbWFnZU9wYWNpdHlfO1xuICAgIH1cbiAgICBsZXQgcm90YXRpb24gPSB0aGlzLmltYWdlUm90YXRpb25fO1xuICAgIGlmICh0aGlzLnRyYW5zZm9ybVJvdGF0aW9uXyA9PT0gMCkge1xuICAgICAgcm90YXRpb24gLT0gdGhpcy52aWV3Um90YXRpb25fO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbWFnZVJvdGF0ZVdpdGhWaWV3Xykge1xuICAgICAgcm90YXRpb24gKz0gdGhpcy52aWV3Um90YXRpb25fO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBwaXhlbENvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyBpICs9IDIpIHtcbiAgICAgIGNvbnN0IHggPSBwaXhlbENvb3JkaW5hdGVzW2ldIC0gdGhpcy5pbWFnZUFuY2hvclhfO1xuICAgICAgY29uc3QgeSA9IHBpeGVsQ29vcmRpbmF0ZXNbaSArIDFdIC0gdGhpcy5pbWFnZUFuY2hvcllfO1xuICAgICAgaWYgKFxuICAgICAgICByb3RhdGlvbiAhPT0gMCB8fFxuICAgICAgICB0aGlzLmltYWdlU2NhbGVfWzBdICE9IDEgfHxcbiAgICAgICAgdGhpcy5pbWFnZVNjYWxlX1sxXSAhPSAxXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHggKyB0aGlzLmltYWdlQW5jaG9yWF87XG4gICAgICAgIGNvbnN0IGNlbnRlclkgPSB5ICsgdGhpcy5pbWFnZUFuY2hvcllfO1xuICAgICAgICBjb21wb3NlVHJhbnNmb3JtKFxuICAgICAgICAgIGxvY2FsVHJhbnNmb3JtLFxuICAgICAgICAgIGNlbnRlclgsXG4gICAgICAgICAgY2VudGVyWSxcbiAgICAgICAgICAxLFxuICAgICAgICAgIDEsXG4gICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgLWNlbnRlclgsXG4gICAgICAgICAgLWNlbnRlcllcbiAgICAgICAgKTtcbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgbG9jYWxUcmFuc2Zvcm0pO1xuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLmltYWdlU2NhbGVfWzBdLCB0aGlzLmltYWdlU2NhbGVfWzFdKTtcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgICAgdGhpcy5pbWFnZV8sXG4gICAgICAgICAgdGhpcy5pbWFnZU9yaWdpblhfLFxuICAgICAgICAgIHRoaXMuaW1hZ2VPcmlnaW5ZXyxcbiAgICAgICAgICB0aGlzLmltYWdlV2lkdGhfLFxuICAgICAgICAgIHRoaXMuaW1hZ2VIZWlnaHRfLFxuICAgICAgICAgIC10aGlzLmltYWdlQW5jaG9yWF8sXG4gICAgICAgICAgLXRoaXMuaW1hZ2VBbmNob3JZXyxcbiAgICAgICAgICB0aGlzLmltYWdlV2lkdGhfLFxuICAgICAgICAgIHRoaXMuaW1hZ2VIZWlnaHRfXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgICAgdGhpcy5pbWFnZV8sXG4gICAgICAgICAgdGhpcy5pbWFnZU9yaWdpblhfLFxuICAgICAgICAgIHRoaXMuaW1hZ2VPcmlnaW5ZXyxcbiAgICAgICAgICB0aGlzLmltYWdlV2lkdGhfLFxuICAgICAgICAgIHRoaXMuaW1hZ2VIZWlnaHRfLFxuICAgICAgICAgIHgsXG4gICAgICAgICAgeSxcbiAgICAgICAgICB0aGlzLmltYWdlV2lkdGhfLFxuICAgICAgICAgIHRoaXMuaW1hZ2VIZWlnaHRfXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmltYWdlT3BhY2l0eV8gIT0gMSkge1xuICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGFscGhhO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZHJhd1RleHRfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSkge1xuICAgIGlmICghdGhpcy50ZXh0U3RhdGVfIHx8IHRoaXMudGV4dF8gPT09ICcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRGaWxsU3RhdGVfKSB7XG4gICAgICB0aGlzLnNldENvbnRleHRGaWxsU3RhdGVfKHRoaXMudGV4dEZpbGxTdGF0ZV8pO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0U3Ryb2tlU3RhdGVfKSB7XG4gICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy50ZXh0U3Ryb2tlU3RhdGVfKTtcbiAgICB9XG4gICAgdGhpcy5zZXRDb250ZXh0VGV4dFN0YXRlXyh0aGlzLnRleHRTdGF0ZV8pO1xuICAgIGNvbnN0IHBpeGVsQ29vcmRpbmF0ZXMgPSB0cmFuc2Zvcm0yRChcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZCxcbiAgICAgIHN0cmlkZSxcbiAgICAgIHRoaXMudHJhbnNmb3JtXyxcbiAgICAgIHRoaXMucGl4ZWxDb29yZGluYXRlc19cbiAgICApO1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIGxldCByb3RhdGlvbiA9IHRoaXMudGV4dFJvdGF0aW9uXztcbiAgICBpZiAodGhpcy50cmFuc2Zvcm1Sb3RhdGlvbl8gPT09IDApIHtcbiAgICAgIHJvdGF0aW9uIC09IHRoaXMudmlld1JvdGF0aW9uXztcbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dFJvdGF0ZVdpdGhWaWV3Xykge1xuICAgICAgcm90YXRpb24gKz0gdGhpcy52aWV3Um90YXRpb25fO1xuICAgIH1cbiAgICBmb3IgKDsgb2Zmc2V0IDwgZW5kOyBvZmZzZXQgKz0gc3RyaWRlKSB7XG4gICAgICBjb25zdCB4ID0gcGl4ZWxDb29yZGluYXRlc1tvZmZzZXRdICsgdGhpcy50ZXh0T2Zmc2V0WF87XG4gICAgICBjb25zdCB5ID0gcGl4ZWxDb29yZGluYXRlc1tvZmZzZXQgKyAxXSArIHRoaXMudGV4dE9mZnNldFlfO1xuICAgICAgaWYgKFxuICAgICAgICByb3RhdGlvbiAhPT0gMCB8fFxuICAgICAgICB0aGlzLnRleHRTY2FsZV9bMF0gIT0gMSB8fFxuICAgICAgICB0aGlzLnRleHRTY2FsZV9bMV0gIT0gMVxuICAgICAgKSB7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHggLSB0aGlzLnRleHRPZmZzZXRYXywgeSAtIHRoaXMudGV4dE9mZnNldFlfKTtcbiAgICAgICAgY29udGV4dC5yb3RhdGUocm90YXRpb24pO1xuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSh0aGlzLnRleHRPZmZzZXRYXywgdGhpcy50ZXh0T2Zmc2V0WV8pO1xuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMudGV4dFNjYWxlX1swXSwgdGhpcy50ZXh0U2NhbGVfWzFdKTtcbiAgICAgICAgaWYgKHRoaXMudGV4dFN0cm9rZVN0YXRlXykge1xuICAgICAgICAgIGNvbnRleHQuc3Ryb2tlVGV4dCh0aGlzLnRleHRfLCAwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50ZXh0RmlsbFN0YXRlXykge1xuICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy50ZXh0XywgMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy50ZXh0U3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KHRoaXMudGV4dF8sIHgsIHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRleHRGaWxsU3RhdGVfKSB7XG4gICAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLnRleHRfLCB4LCB5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IE9mZnNldC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NlIENsb3NlLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IGVuZCBFbmQuXG4gICAqL1xuICBtb3ZlVG9MaW5lVG9fKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmQsIHN0cmlkZSwgY2xvc2UpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICBjb25zdCBwaXhlbENvb3JkaW5hdGVzID0gdHJhbnNmb3JtMkQoXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmQsXG4gICAgICBzdHJpZGUsXG4gICAgICB0aGlzLnRyYW5zZm9ybV8sXG4gICAgICB0aGlzLnBpeGVsQ29vcmRpbmF0ZXNfXG4gICAgKTtcbiAgICBjb250ZXh0Lm1vdmVUbyhwaXhlbENvb3JkaW5hdGVzWzBdLCBwaXhlbENvb3JkaW5hdGVzWzFdKTtcbiAgICBsZXQgbGVuZ3RoID0gcGl4ZWxDb29yZGluYXRlcy5sZW5ndGg7XG4gICAgaWYgKGNsb3NlKSB7XG4gICAgICBsZW5ndGggLT0gMjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDI7IGkgPCBsZW5ndGg7IGkgKz0gMikge1xuICAgICAgY29udGV4dC5saW5lVG8ocGl4ZWxDb29yZGluYXRlc1tpXSwgcGl4ZWxDb29yZGluYXRlc1tpICsgMV0pO1xuICAgIH1cbiAgICBpZiAoY2xvc2UpIHtcbiAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgfVxuICAgIHJldHVybiBlbmQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZW5kcyBFbmRzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7bnVtYmVyfSBFbmQuXG4gICAqL1xuICBkcmF3UmluZ3NfKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzLCBzdHJpZGUpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIG9mZnNldCA9IHRoaXMubW92ZVRvTGluZVRvXyhcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGVuZHNbaV0sXG4gICAgICAgIHN0cmlkZSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBjaXJjbGUgZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmQgdXNlc1xuICAgKiB0aGUgY3VycmVudCBmaWxsIGFuZCBzdHJva2Ugc3R5bGVzLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vQ2lyY2xlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IENpcmNsZSBnZW9tZXRyeS5cbiAgICogQGFwaVxuICAgKi9cbiAgZHJhd0NpcmNsZShnZW9tZXRyeSkge1xuICAgIGlmICghaW50ZXJzZWN0cyh0aGlzLmV4dGVudF8sIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5maWxsU3RhdGVfIHx8IHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dEZpbGxTdGF0ZV8odGhpcy5maWxsU3RhdGVfKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgfVxuICAgICAgY29uc3QgcGl4ZWxDb29yZGluYXRlcyA9IHRyYW5zZm9ybUdlb20yRChcbiAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgIHRoaXMudHJhbnNmb3JtXyxcbiAgICAgICAgdGhpcy5waXhlbENvb3JkaW5hdGVzX1xuICAgICAgKTtcbiAgICAgIGNvbnN0IGR4ID0gcGl4ZWxDb29yZGluYXRlc1syXSAtIHBpeGVsQ29vcmRpbmF0ZXNbMF07XG4gICAgICBjb25zdCBkeSA9IHBpeGVsQ29vcmRpbmF0ZXNbM10gLSBwaXhlbENvb3JkaW5hdGVzWzFdO1xuICAgICAgY29uc3QgcmFkaXVzID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIGNvbnRleHQuYXJjKFxuICAgICAgICBwaXhlbENvb3JkaW5hdGVzWzBdLFxuICAgICAgICBwaXhlbENvb3JkaW5hdGVzWzFdLFxuICAgICAgICByYWRpdXMsXG4gICAgICAgIDAsXG4gICAgICAgIDIgKiBNYXRoLlBJXG4gICAgICApO1xuICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgIHRoaXMuZHJhd1RleHRfKGdlb21ldHJ5LmdldENlbnRlcigpLCAwLCAyLCAyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSByZW5kZXJpbmcgc3R5bGUuICBOb3RlIHRoYXQgc2luY2UgdGhpcyBpcyBhbiBpbW1lZGlhdGUgcmVuZGVyaW5nIEFQSSxcbiAgICogYW55IGB6SW5kZXhgIG9uIHRoZSBwcm92aWRlZCBzdHlsZSB3aWxsIGJlIGlnbm9yZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgVGhlIHJlbmRlcmluZyBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U3R5bGUoc3R5bGUpIHtcbiAgICB0aGlzLnNldEZpbGxTdHJva2VTdHlsZShzdHlsZS5nZXRGaWxsKCksIHN0eWxlLmdldFN0cm9rZSgpKTtcbiAgICB0aGlzLnNldEltYWdlU3R5bGUoc3R5bGUuZ2V0SW1hZ2UoKSk7XG4gICAgdGhpcy5zZXRUZXh0U3R5bGUoc3R5bGUuZ2V0VGV4dCgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IHRyYW5zZm9ybSBUcmFuc2Zvcm0uXG4gICAqL1xuICBzZXRUcmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gICAgdGhpcy50cmFuc2Zvcm1fID0gdHJhbnNmb3JtO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIENhbGxcbiAgICoge0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvY2FudmFzL0ltbWVkaWF0ZX5DYW52YXNJbW1lZGlhdGVSZW5kZXJlciNzZXRTdHlsZSByZW5kZXJlci5zZXRTdHlsZSgpfSBmaXJzdCB0byBzZXQgdGhlIHJlbmRlcmluZyBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBUaGUgZ2VvbWV0cnkgdG8gcmVuZGVyLlxuICAgKiBAYXBpXG4gICAqL1xuICBkcmF3R2VvbWV0cnkoZ2VvbWV0cnkpIHtcbiAgICBjb25zdCB0eXBlID0gZ2VvbWV0cnkuZ2V0VHlwZSgpO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnUG9pbnQnOlxuICAgICAgICB0aGlzLmRyYXdQb2ludChcbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0xpbmVTdHJpbmcnOlxuICAgICAgICB0aGlzLmRyYXdMaW5lU3RyaW5nKFxuICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSlcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdQb2x5Z29uJzpcbiAgICAgICAgdGhpcy5kcmF3UG9seWdvbihcbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnTXVsdGlQb2ludCc6XG4gICAgICAgIHRoaXMuZHJhd011bHRpUG9pbnQoXG4gICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ011bHRpTGluZVN0cmluZyc6XG4gICAgICAgIHRoaXMuZHJhd011bHRpTGluZVN0cmluZyhcbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlMaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ011bHRpUG9seWdvbic6XG4gICAgICAgIHRoaXMuZHJhd011bHRpUG9seWdvbihcbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vTXVsdGlQb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSlcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdHZW9tZXRyeUNvbGxlY3Rpb24nOlxuICAgICAgICB0aGlzLmRyYXdHZW9tZXRyeUNvbGxlY3Rpb24oXG4gICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0dlb21ldHJ5Q29sbGVjdGlvbi5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdDaXJjbGUnOlxuICAgICAgICB0aGlzLmRyYXdDaXJjbGUoXG4gICAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSAqLyAoZ2VvbWV0cnkpXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgZmVhdHVyZSBpbnRvIHRoZSBjYW52YXMuICBOb3RlIHRoYXQgYW55IGB6SW5kZXhgIG9uIHRoZSBwcm92aWRlZFxuICAgKiBzdHlsZSB3aWxsIGJlIGlnbm9yZWQgLSBmZWF0dXJlcyBhcmUgcmVuZGVyZWQgaW1tZWRpYXRlbHkgaW4gdGhlIG9yZGVyIHRoYXRcbiAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkLiAgSWYgeW91IG5lZWQgYHpJbmRleGAgc3VwcG9ydCwgeW91IHNob3VsZCBiZSB1c2luZyBhblxuICAgKiB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL1ZlY3Rvcn5WZWN0b3JMYXllcn0gaW5zdGVhZC5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZHJhd0ZlYXR1cmUoZmVhdHVyZSwgc3R5bGUpIHtcbiAgICBjb25zdCBnZW9tZXRyeSA9IHN0eWxlLmdldEdlb21ldHJ5RnVuY3Rpb24oKShmZWF0dXJlKTtcbiAgICBpZiAoIWdlb21ldHJ5IHx8ICFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0U3R5bGUoc3R5bGUpO1xuICAgIHRoaXMuZHJhd0dlb21ldHJ5KGdlb21ldHJ5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBHZW9tZXRyeUNvbGxlY3Rpb24gdG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kXG4gICAqIHVzZXMgdGhlIGN1cnJlbnQgc3R5bGVzIGFwcHJvcHJpYXRlIGZvciBlYWNoIGdlb21ldHJ5IGluIHRoZSBjb2xsZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5IGNvbGxlY3Rpb24uXG4gICAqL1xuICBkcmF3R2VvbWV0cnlDb2xsZWN0aW9uKGdlb21ldHJ5KSB7XG4gICAgY29uc3QgZ2VvbWV0cmllcyA9IGdlb21ldHJ5LmdldEdlb21ldHJpZXNBcnJheSgpO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgdGhpcy5kcmF3R2VvbWV0cnkoZ2VvbWV0cmllc1tpXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIFBvaW50IGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kIHVzZXNcbiAgICogdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgUG9pbnQgZ2VvbWV0cnkuXG4gICAqL1xuICBkcmF3UG9pbnQoZ2VvbWV0cnkpIHtcbiAgICBpZiAodGhpcy5zcXVhcmVkVG9sZXJhbmNlXykge1xuICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vUG9pbnQuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKFxuICAgICAgICAgIHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sXG4gICAgICAgICAgdGhpcy51c2VyVHJhbnNmb3JtX1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICBjb25zdCBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICBpZiAodGhpcy5pbWFnZV8pIHtcbiAgICAgIHRoaXMuZHJhd0ltYWdlc18oZmxhdENvb3JkaW5hdGVzLCAwLCBmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoLCBzdHJpZGUpO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZXh0XyAhPT0gJycpIHtcbiAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgTXVsdGlQb2ludCBnZW9tZXRyeSAgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmRcbiAgICogdXNlcyB0aGUgY3VycmVudCBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IE11bHRpUG9pbnQgZ2VvbWV0cnkuXG4gICAqL1xuICBkcmF3TXVsdGlQb2ludChnZW9tZXRyeSkge1xuICAgIGlmICh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfKSB7XG4gICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvaW50LmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgZ2VvbWV0cnkuc2ltcGxpZnlUcmFuc2Zvcm1lZChcbiAgICAgICAgICB0aGlzLnNxdWFyZWRUb2xlcmFuY2VfLFxuICAgICAgICAgIHRoaXMudXNlclRyYW5zZm9ybV9cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgY29uc3Qgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgaWYgKHRoaXMuaW1hZ2VfKSB7XG4gICAgICB0aGlzLmRyYXdJbWFnZXNfKGZsYXRDb29yZGluYXRlcywgMCwgZmxhdENvb3JkaW5hdGVzLmxlbmd0aCwgc3RyaWRlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0Q29vcmRpbmF0ZXMsIDAsIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsIHN0cmlkZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIExpbmVTdHJpbmcgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZSBhbmQgdXNlc1xuICAgKiB0aGUgY3VycmVudCBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL0xpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IExpbmVTdHJpbmcgZ2VvbWV0cnkuXG4gICAqL1xuICBkcmF3TGluZVN0cmluZyhnZW9tZXRyeSkge1xuICAgIGlmICh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfKSB7XG4gICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9MaW5lU3RyaW5nLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgZ2VvbWV0cnkuc2ltcGxpZnlUcmFuc2Zvcm1lZChcbiAgICAgICAgICB0aGlzLnNxdWFyZWRUb2xlcmFuY2VfLFxuICAgICAgICAgIHRoaXMudXNlclRyYW5zZm9ybV9cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFpbnRlcnNlY3RzKHRoaXMuZXh0ZW50XywgZ2VvbWV0cnkuZ2V0RXh0ZW50KCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnN0cm9rZVN0YXRlXykge1xuICAgICAgdGhpcy5zZXRDb250ZXh0U3Ryb2tlU3RhdGVfKHRoaXMuc3Ryb2tlU3RhdGVfKTtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgdGhpcy5tb3ZlVG9MaW5lVG9fKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICAgIDAsXG4gICAgICAgIGZsYXRDb29yZGluYXRlcy5sZW5ndGgsXG4gICAgICAgIGdlb21ldHJ5LmdldFN0cmlkZSgpLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgY29uc3QgZmxhdE1pZHBvaW50ID0gZ2VvbWV0cnkuZ2V0RmxhdE1pZHBvaW50KCk7XG4gICAgICB0aGlzLmRyYXdUZXh0XyhmbGF0TWlkcG9pbnQsIDAsIDIsIDIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBNdWx0aUxpbmVTdHJpbmcgZ2VvbWV0cnkgaW50byB0aGUgY2FudmFzLiAgUmVuZGVyaW5nIGlzIGltbWVkaWF0ZVxuICAgKiBhbmQgdXNlcyB0aGUgY3VycmVudCBzdHlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9nZW9tL011bHRpTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgTXVsdGlMaW5lU3RyaW5nIGdlb21ldHJ5LlxuICAgKi9cbiAgZHJhd011bHRpTGluZVN0cmluZyhnZW9tZXRyeSkge1xuICAgIGlmICh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfKSB7XG4gICAgICBnZW9tZXRyeSA9XG4gICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgIGdlb21ldHJ5LnNpbXBsaWZ5VHJhbnNmb3JtZWQoXG4gICAgICAgICAgICB0aGlzLnNxdWFyZWRUb2xlcmFuY2VfLFxuICAgICAgICAgICAgdGhpcy51c2VyVHJhbnNmb3JtX1xuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgZ2VvbWV0cnlFeHRlbnQgPSBnZW9tZXRyeS5nZXRFeHRlbnQoKTtcbiAgICBpZiAoIWludGVyc2VjdHModGhpcy5leHRlbnRfLCBnZW9tZXRyeUV4dGVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICB0aGlzLnNldENvbnRleHRTdHJva2VTdGF0ZV8odGhpcy5zdHJva2VTdGF0ZV8pO1xuICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dF87XG4gICAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSBnZW9tZXRyeS5nZXRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgY29uc3QgZW5kcyA9IC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKGdlb21ldHJ5LmdldEVuZHMoKSk7XG4gICAgICBjb25zdCBzdHJpZGUgPSBnZW9tZXRyeS5nZXRTdHJpZGUoKTtcbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgb2Zmc2V0ID0gdGhpcy5tb3ZlVG9MaW5lVG9fKFxuICAgICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgZW5kc1tpXSxcbiAgICAgICAgICBzdHJpZGUsXG4gICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgY29uc3QgZmxhdE1pZHBvaW50cyA9IGdlb21ldHJ5LmdldEZsYXRNaWRwb2ludHMoKTtcbiAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRNaWRwb2ludHMsIDAsIGZsYXRNaWRwb2ludHMubGVuZ3RoLCAyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgUG9seWdvbiBnZW9tZXRyeSBpbnRvIHRoZSBjYW52YXMuICBSZW5kZXJpbmcgaXMgaW1tZWRpYXRlIGFuZCB1c2VzXG4gICAqIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2dlb20vUG9seWdvbi5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgUG9seWdvbiBnZW9tZXRyeS5cbiAgICovXG4gIGRyYXdQb2x5Z29uKGdlb21ldHJ5KSB7XG4gICAgaWYgKHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8pIHtcbiAgICAgIGdlb21ldHJ5ID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9nZW9tL1BvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKFxuICAgICAgICAgIHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sXG4gICAgICAgICAgdGhpcy51c2VyVHJhbnNmb3JtX1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIWludGVyc2VjdHModGhpcy5leHRlbnRfLCBnZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfIHx8IHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICB0aGlzLnNldENvbnRleHRGaWxsU3RhdGVfKHRoaXMuZmlsbFN0YXRlXyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgdGhpcy5zZXRDb250ZXh0U3Ryb2tlU3RhdGVfKHRoaXMuc3Ryb2tlU3RhdGVfKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuZHJhd1JpbmdzXyhcbiAgICAgICAgZ2VvbWV0cnkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKSxcbiAgICAgICAgMCxcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAoZ2VvbWV0cnkuZ2V0RW5kcygpKSxcbiAgICAgICAgZ2VvbWV0cnkuZ2V0U3RyaWRlKClcbiAgICAgICk7XG4gICAgICBpZiAodGhpcy5maWxsU3RhdGVfKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfKSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnRleHRfICE9PSAnJykge1xuICAgICAgY29uc3QgZmxhdEludGVyaW9yUG9pbnQgPSBnZW9tZXRyeS5nZXRGbGF0SW50ZXJpb3JQb2ludCgpO1xuICAgICAgdGhpcy5kcmF3VGV4dF8oZmxhdEludGVyaW9yUG9pbnQsIDAsIDIsIDIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgTXVsdGlQb2x5Z29uIGdlb21ldHJ5IGludG8gdGhlIGNhbnZhcy4gIFJlbmRlcmluZyBpcyBpbW1lZGlhdGUgYW5kXG4gICAqIHVzZXMgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgTXVsdGlQb2x5Z29uIGdlb21ldHJ5LlxuICAgKi9cbiAgZHJhd011bHRpUG9seWdvbihnZW9tZXRyeSkge1xuICAgIGlmICh0aGlzLnNxdWFyZWRUb2xlcmFuY2VfKSB7XG4gICAgICBnZW9tZXRyeSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9NdWx0aVBvbHlnb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeS5zaW1wbGlmeVRyYW5zZm9ybWVkKFxuICAgICAgICAgIHRoaXMuc3F1YXJlZFRvbGVyYW5jZV8sXG4gICAgICAgICAgdGhpcy51c2VyVHJhbnNmb3JtX1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIWludGVyc2VjdHModGhpcy5leHRlbnRfLCBnZW9tZXRyeS5nZXRFeHRlbnQoKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3Ryb2tlU3RhdGVfIHx8IHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgaWYgKHRoaXMuZmlsbFN0YXRlXykge1xuICAgICAgICB0aGlzLnNldENvbnRleHRGaWxsU3RhdGVfKHRoaXMuZmlsbFN0YXRlXyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgdGhpcy5zZXRDb250ZXh0U3Ryb2tlU3RhdGVfKHRoaXMuc3Ryb2tlU3RhdGVfKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgICAgY29uc3QgZmxhdENvb3JkaW5hdGVzID0gZ2VvbWV0cnkuZ2V0T3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgY29uc3QgZW5kc3MgPSBnZW9tZXRyeS5nZXRFbmRzcygpO1xuICAgICAgY29uc3Qgc3RyaWRlID0gZ2VvbWV0cnkuZ2V0U3RyaWRlKCk7XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kc3MubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBjb25zdCBlbmRzID0gZW5kc3NbaV07XG4gICAgICAgIG9mZnNldCA9IHRoaXMuZHJhd1JpbmdzXyhmbGF0Q29vcmRpbmF0ZXMsIG9mZnNldCwgZW5kcywgc3RyaWRlKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmZpbGxTdGF0ZV8pIHtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zdHJva2VTdGF0ZV8pIHtcbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMudGV4dF8gIT09ICcnKSB7XG4gICAgICBjb25zdCBmbGF0SW50ZXJpb3JQb2ludHMgPSBnZW9tZXRyeS5nZXRGbGF0SW50ZXJpb3JQb2ludHMoKTtcbiAgICAgIHRoaXMuZHJhd1RleHRfKGZsYXRJbnRlcmlvclBvaW50cywgMCwgZmxhdEludGVyaW9yUG9pbnRzLmxlbmd0aCwgMik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLkZpbGxTdGF0ZX0gZmlsbFN0YXRlIEZpbGwgc3RhdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXRDb250ZXh0RmlsbFN0YXRlXyhmaWxsU3RhdGUpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICBjb25zdCBjb250ZXh0RmlsbFN0YXRlID0gdGhpcy5jb250ZXh0RmlsbFN0YXRlXztcbiAgICBpZiAoIWNvbnRleHRGaWxsU3RhdGUpIHtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbFN0YXRlLmZpbGxTdHlsZTtcbiAgICAgIHRoaXMuY29udGV4dEZpbGxTdGF0ZV8gPSB7XG4gICAgICAgIGZpbGxTdHlsZTogZmlsbFN0YXRlLmZpbGxTdHlsZSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChjb250ZXh0RmlsbFN0YXRlLmZpbGxTdHlsZSAhPSBmaWxsU3RhdGUuZmlsbFN0eWxlKSB7XG4gICAgICAgIGNvbnRleHRGaWxsU3RhdGUuZmlsbFN0eWxlID0gZmlsbFN0YXRlLmZpbGxTdHlsZTtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsU3RhdGUuZmlsbFN0eWxlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NhbnZhcy5qc1wiKS5TdHJva2VTdGF0ZX0gc3Ryb2tlU3RhdGUgU3Ryb2tlIHN0YXRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2V0Q29udGV4dFN0cm9rZVN0YXRlXyhzdHJva2VTdGF0ZSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRfO1xuICAgIGNvbnN0IGNvbnRleHRTdHJva2VTdGF0ZSA9IHRoaXMuY29udGV4dFN0cm9rZVN0YXRlXztcbiAgICBpZiAoIWNvbnRleHRTdHJva2VTdGF0ZSkge1xuICAgICAgY29udGV4dC5saW5lQ2FwID0gc3Ryb2tlU3RhdGUubGluZUNhcDtcbiAgICAgIGNvbnRleHQuc2V0TGluZURhc2goc3Ryb2tlU3RhdGUubGluZURhc2gpO1xuICAgICAgY29udGV4dC5saW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0O1xuICAgICAgY29udGV4dC5saW5lSm9pbiA9IHN0cm9rZVN0YXRlLmxpbmVKb2luO1xuICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VTdGF0ZS5saW5lV2lkdGg7XG4gICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHJva2VTdGF0ZS5taXRlckxpbWl0O1xuICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgdGhpcy5jb250ZXh0U3Ryb2tlU3RhdGVfID0ge1xuICAgICAgICBsaW5lQ2FwOiBzdHJva2VTdGF0ZS5saW5lQ2FwLFxuICAgICAgICBsaW5lRGFzaDogc3Ryb2tlU3RhdGUubGluZURhc2gsXG4gICAgICAgIGxpbmVEYXNoT2Zmc2V0OiBzdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCxcbiAgICAgICAgbGluZUpvaW46IHN0cm9rZVN0YXRlLmxpbmVKb2luLFxuICAgICAgICBsaW5lV2lkdGg6IHN0cm9rZVN0YXRlLmxpbmVXaWR0aCxcbiAgICAgICAgbWl0ZXJMaW1pdDogc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCxcbiAgICAgICAgc3Ryb2tlU3R5bGU6IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNvbnRleHRTdHJva2VTdGF0ZS5saW5lQ2FwICE9IHN0cm9rZVN0YXRlLmxpbmVDYXApIHtcbiAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVDYXAgPSBzdHJva2VTdGF0ZS5saW5lQ2FwO1xuICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBzdHJva2VTdGF0ZS5saW5lQ2FwO1xuICAgICAgfVxuICAgICAgaWYgKCFlcXVhbHMoY29udGV4dFN0cm9rZVN0YXRlLmxpbmVEYXNoLCBzdHJva2VTdGF0ZS5saW5lRGFzaCkpIHtcbiAgICAgICAgY29udGV4dC5zZXRMaW5lRGFzaChcbiAgICAgICAgICAoY29udGV4dFN0cm9rZVN0YXRlLmxpbmVEYXNoID0gc3Ryb2tlU3RhdGUubGluZURhc2gpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0ICE9IHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0KSB7XG4gICAgICAgIGNvbnRleHRTdHJva2VTdGF0ZS5saW5lRGFzaE9mZnNldCA9IHN0cm9rZVN0YXRlLmxpbmVEYXNoT2Zmc2V0O1xuICAgICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gc3Ryb2tlU3RhdGUubGluZURhc2hPZmZzZXQ7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLmxpbmVKb2luICE9IHN0cm9rZVN0YXRlLmxpbmVKb2luKSB7XG4gICAgICAgIGNvbnRleHRTdHJva2VTdGF0ZS5saW5lSm9pbiA9IHN0cm9rZVN0YXRlLmxpbmVKb2luO1xuICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gc3Ryb2tlU3RhdGUubGluZUpvaW47XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLmxpbmVXaWR0aCAhPSBzdHJva2VTdGF0ZS5saW5lV2lkdGgpIHtcbiAgICAgICAgY29udGV4dFN0cm9rZVN0YXRlLmxpbmVXaWR0aCA9IHN0cm9rZVN0YXRlLmxpbmVXaWR0aDtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VTdGF0ZS5saW5lV2lkdGg7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLm1pdGVyTGltaXQgIT0gc3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCkge1xuICAgICAgICBjb250ZXh0U3Ryb2tlU3RhdGUubWl0ZXJMaW1pdCA9IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQ7XG4gICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0cm9rZVN0YXRlLm1pdGVyTGltaXQ7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dFN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlICE9IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlKSB7XG4gICAgICAgIGNvbnRleHRTdHJva2VTdGF0ZS5zdHJva2VTdHlsZSA9IHN0cm9rZVN0YXRlLnN0cm9rZVN0eWxlO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlU3RhdGUuc3Ryb2tlU3R5bGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY2FudmFzLmpzXCIpLlRleHRTdGF0ZX0gdGV4dFN0YXRlIFRleHQgc3RhdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXRDb250ZXh0VGV4dFN0YXRlXyh0ZXh0U3RhdGUpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICBjb25zdCBjb250ZXh0VGV4dFN0YXRlID0gdGhpcy5jb250ZXh0VGV4dFN0YXRlXztcbiAgICBjb25zdCB0ZXh0QWxpZ24gPSB0ZXh0U3RhdGUudGV4dEFsaWduXG4gICAgICA/IHRleHRTdGF0ZS50ZXh0QWxpZ25cbiAgICAgIDogZGVmYXVsdFRleHRBbGlnbjtcbiAgICBpZiAoIWNvbnRleHRUZXh0U3RhdGUpIHtcbiAgICAgIGNvbnRleHQuZm9udCA9IHRleHRTdGF0ZS5mb250O1xuICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSB0ZXh0QWxpZ247XG4gICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHRleHRTdGF0ZS50ZXh0QmFzZWxpbmU7XG4gICAgICB0aGlzLmNvbnRleHRUZXh0U3RhdGVfID0ge1xuICAgICAgICBmb250OiB0ZXh0U3RhdGUuZm9udCxcbiAgICAgICAgdGV4dEFsaWduOiB0ZXh0QWxpZ24sXG4gICAgICAgIHRleHRCYXNlbGluZTogdGV4dFN0YXRlLnRleHRCYXNlbGluZSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChjb250ZXh0VGV4dFN0YXRlLmZvbnQgIT0gdGV4dFN0YXRlLmZvbnQpIHtcbiAgICAgICAgY29udGV4dFRleHRTdGF0ZS5mb250ID0gdGV4dFN0YXRlLmZvbnQ7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IHRleHRTdGF0ZS5mb250O1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHRUZXh0U3RhdGUudGV4dEFsaWduICE9IHRleHRBbGlnbikge1xuICAgICAgICBjb250ZXh0VGV4dFN0YXRlLnRleHRBbGlnbiA9IHRleHRBbGlnbjtcbiAgICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSB0ZXh0QWxpZ247XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dFRleHRTdGF0ZS50ZXh0QmFzZWxpbmUgIT0gdGV4dFN0YXRlLnRleHRCYXNlbGluZSkge1xuICAgICAgICBjb250ZXh0VGV4dFN0YXRlLnRleHRCYXNlbGluZSA9IHRleHRTdGF0ZS50ZXh0QmFzZWxpbmU7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gdGV4dFN0YXRlLnRleHRCYXNlbGluZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBmaWxsIGFuZCBzdHJva2Ugc3R5bGUgZm9yIHN1YnNlcXVlbnQgZHJhdyBvcGVyYXRpb25zLiAgVG8gY2xlYXJcbiAgICogZWl0aGVyIGZpbGwgb3Igc3Ryb2tlIHN0eWxlcywgcGFzcyBudWxsIGZvciB0aGUgYXBwcm9wcmlhdGUgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3N0eWxlL0ZpbGwuanNcIikuZGVmYXVsdH0gZmlsbFN0eWxlIEZpbGwgc3R5bGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZVN0eWxlIFN0cm9rZSBzdHlsZS5cbiAgICovXG4gIHNldEZpbGxTdHJva2VTdHlsZShmaWxsU3R5bGUsIHN0cm9rZVN0eWxlKSB7XG4gICAgaWYgKCFmaWxsU3R5bGUpIHtcbiAgICAgIHRoaXMuZmlsbFN0YXRlXyA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZpbGxTdHlsZUNvbG9yID0gZmlsbFN0eWxlLmdldENvbG9yKCk7XG4gICAgICB0aGlzLmZpbGxTdGF0ZV8gPSB7XG4gICAgICAgIGZpbGxTdHlsZTogYXNDb2xvckxpa2UoXG4gICAgICAgICAgZmlsbFN0eWxlQ29sb3IgPyBmaWxsU3R5bGVDb2xvciA6IGRlZmF1bHRGaWxsU3R5bGVcbiAgICAgICAgKSxcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICghc3Ryb2tlU3R5bGUpIHtcbiAgICAgIHRoaXMuc3Ryb2tlU3RhdGVfID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGVDb2xvciA9IHN0cm9rZVN0eWxlLmdldENvbG9yKCk7XG4gICAgICBjb25zdCBzdHJva2VTdHlsZUxpbmVDYXAgPSBzdHJva2VTdHlsZS5nZXRMaW5lQ2FwKCk7XG4gICAgICBjb25zdCBzdHJva2VTdHlsZUxpbmVEYXNoID0gc3Ryb2tlU3R5bGUuZ2V0TGluZURhc2goKTtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXQgPSBzdHJva2VTdHlsZS5nZXRMaW5lRGFzaE9mZnNldCgpO1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGVMaW5lSm9pbiA9IHN0cm9rZVN0eWxlLmdldExpbmVKb2luKCk7XG4gICAgICBjb25zdCBzdHJva2VTdHlsZVdpZHRoID0gc3Ryb2tlU3R5bGUuZ2V0V2lkdGgoKTtcbiAgICAgIGNvbnN0IHN0cm9rZVN0eWxlTWl0ZXJMaW1pdCA9IHN0cm9rZVN0eWxlLmdldE1pdGVyTGltaXQoKTtcbiAgICAgIGNvbnN0IGxpbmVEYXNoID0gc3Ryb2tlU3R5bGVMaW5lRGFzaFxuICAgICAgICA/IHN0cm9rZVN0eWxlTGluZURhc2hcbiAgICAgICAgOiBkZWZhdWx0TGluZURhc2g7XG4gICAgICB0aGlzLnN0cm9rZVN0YXRlXyA9IHtcbiAgICAgICAgbGluZUNhcDpcbiAgICAgICAgICBzdHJva2VTdHlsZUxpbmVDYXAgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBzdHJva2VTdHlsZUxpbmVDYXBcbiAgICAgICAgICAgIDogZGVmYXVsdExpbmVDYXAsXG4gICAgICAgIGxpbmVEYXNoOlxuICAgICAgICAgIHRoaXMucGl4ZWxSYXRpb18gPT09IDFcbiAgICAgICAgICAgID8gbGluZURhc2hcbiAgICAgICAgICAgIDogbGluZURhc2gubWFwKChuKSA9PiBuICogdGhpcy5waXhlbFJhdGlvXyksXG4gICAgICAgIGxpbmVEYXNoT2Zmc2V0OlxuICAgICAgICAgIChzdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0XG4gICAgICAgICAgICA/IHN0cm9rZVN0eWxlTGluZURhc2hPZmZzZXRcbiAgICAgICAgICAgIDogZGVmYXVsdExpbmVEYXNoT2Zmc2V0KSAqIHRoaXMucGl4ZWxSYXRpb18sXG4gICAgICAgIGxpbmVKb2luOlxuICAgICAgICAgIHN0cm9rZVN0eWxlTGluZUpvaW4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBzdHJva2VTdHlsZUxpbmVKb2luXG4gICAgICAgICAgICA6IGRlZmF1bHRMaW5lSm9pbixcbiAgICAgICAgbGluZVdpZHRoOlxuICAgICAgICAgIChzdHJva2VTdHlsZVdpZHRoICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVXaWR0aFxuICAgICAgICAgICAgOiBkZWZhdWx0TGluZVdpZHRoKSAqIHRoaXMucGl4ZWxSYXRpb18sXG4gICAgICAgIG1pdGVyTGltaXQ6XG4gICAgICAgICAgc3Ryb2tlU3R5bGVNaXRlckxpbWl0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gc3Ryb2tlU3R5bGVNaXRlckxpbWl0XG4gICAgICAgICAgICA6IGRlZmF1bHRNaXRlckxpbWl0LFxuICAgICAgICBzdHJva2VTdHlsZTogYXNDb2xvckxpa2UoXG4gICAgICAgICAgc3Ryb2tlU3R5bGVDb2xvciA/IHN0cm9rZVN0eWxlQ29sb3IgOiBkZWZhdWx0U3Ryb2tlU3R5bGVcbiAgICAgICAgKSxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgaW1hZ2Ugc3R5bGUgZm9yIHN1YnNlcXVlbnQgZHJhdyBvcGVyYXRpb25zLiAgUGFzcyBudWxsIHRvIHJlbW92ZVxuICAgKiB0aGUgaW1hZ2Ugc3R5bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvSW1hZ2UuanNcIikuZGVmYXVsdH0gaW1hZ2VTdHlsZSBJbWFnZSBzdHlsZS5cbiAgICovXG4gIHNldEltYWdlU3R5bGUoaW1hZ2VTdHlsZSkge1xuICAgIGxldCBpbWFnZVNpemU7XG4gICAgaWYgKCFpbWFnZVN0eWxlIHx8ICEoaW1hZ2VTaXplID0gaW1hZ2VTdHlsZS5nZXRTaXplKCkpKSB7XG4gICAgICB0aGlzLmltYWdlXyA9IG51bGw7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGltYWdlUGl4ZWxSYXRpbyA9IGltYWdlU3R5bGUuZ2V0UGl4ZWxSYXRpbyh0aGlzLnBpeGVsUmF0aW9fKTtcbiAgICBjb25zdCBpbWFnZUFuY2hvciA9IGltYWdlU3R5bGUuZ2V0QW5jaG9yKCk7XG4gICAgY29uc3QgaW1hZ2VPcmlnaW4gPSBpbWFnZVN0eWxlLmdldE9yaWdpbigpO1xuICAgIHRoaXMuaW1hZ2VfID0gaW1hZ2VTdHlsZS5nZXRJbWFnZSh0aGlzLnBpeGVsUmF0aW9fKTtcbiAgICB0aGlzLmltYWdlQW5jaG9yWF8gPSBpbWFnZUFuY2hvclswXSAqIGltYWdlUGl4ZWxSYXRpbztcbiAgICB0aGlzLmltYWdlQW5jaG9yWV8gPSBpbWFnZUFuY2hvclsxXSAqIGltYWdlUGl4ZWxSYXRpbztcbiAgICB0aGlzLmltYWdlSGVpZ2h0XyA9IGltYWdlU2l6ZVsxXSAqIGltYWdlUGl4ZWxSYXRpbztcbiAgICB0aGlzLmltYWdlT3BhY2l0eV8gPSBpbWFnZVN0eWxlLmdldE9wYWNpdHkoKTtcbiAgICB0aGlzLmltYWdlT3JpZ2luWF8gPSBpbWFnZU9yaWdpblswXTtcbiAgICB0aGlzLmltYWdlT3JpZ2luWV8gPSBpbWFnZU9yaWdpblsxXTtcbiAgICB0aGlzLmltYWdlUm90YXRlV2l0aFZpZXdfID0gaW1hZ2VTdHlsZS5nZXRSb3RhdGVXaXRoVmlldygpO1xuICAgIHRoaXMuaW1hZ2VSb3RhdGlvbl8gPSBpbWFnZVN0eWxlLmdldFJvdGF0aW9uKCk7XG4gICAgY29uc3QgaW1hZ2VTY2FsZSA9IGltYWdlU3R5bGUuZ2V0U2NhbGVBcnJheSgpO1xuICAgIHRoaXMuaW1hZ2VTY2FsZV8gPSBbXG4gICAgICAoaW1hZ2VTY2FsZVswXSAqIHRoaXMucGl4ZWxSYXRpb18pIC8gaW1hZ2VQaXhlbFJhdGlvLFxuICAgICAgKGltYWdlU2NhbGVbMV0gKiB0aGlzLnBpeGVsUmF0aW9fKSAvIGltYWdlUGl4ZWxSYXRpbyxcbiAgICBdO1xuICAgIHRoaXMuaW1hZ2VXaWR0aF8gPSBpbWFnZVNpemVbMF0gKiBpbWFnZVBpeGVsUmF0aW87XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB0ZXh0IHN0eWxlIGZvciBzdWJzZXF1ZW50IGRyYXcgb3BlcmF0aW9ucy4gIFBhc3MgbnVsbCB0b1xuICAgKiByZW1vdmUgdGhlIHRleHQgc3R5bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvVGV4dC5qc1wiKS5kZWZhdWx0fSB0ZXh0U3R5bGUgVGV4dCBzdHlsZS5cbiAgICovXG4gIHNldFRleHRTdHlsZSh0ZXh0U3R5bGUpIHtcbiAgICBpZiAoIXRleHRTdHlsZSkge1xuICAgICAgdGhpcy50ZXh0XyA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0ZXh0RmlsbFN0eWxlID0gdGV4dFN0eWxlLmdldEZpbGwoKTtcbiAgICAgIGlmICghdGV4dEZpbGxTdHlsZSkge1xuICAgICAgICB0aGlzLnRleHRGaWxsU3RhdGVfID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHRleHRGaWxsU3R5bGVDb2xvciA9IHRleHRGaWxsU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgICAgdGhpcy50ZXh0RmlsbFN0YXRlXyA9IHtcbiAgICAgICAgICBmaWxsU3R5bGU6IGFzQ29sb3JMaWtlKFxuICAgICAgICAgICAgdGV4dEZpbGxTdHlsZUNvbG9yID8gdGV4dEZpbGxTdHlsZUNvbG9yIDogZGVmYXVsdEZpbGxTdHlsZVxuICAgICAgICAgICksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCB0ZXh0U3Ryb2tlU3R5bGUgPSB0ZXh0U3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgICBpZiAoIXRleHRTdHJva2VTdHlsZSkge1xuICAgICAgICB0aGlzLnRleHRTdHJva2VTdGF0ZV8gPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGV4dFN0cm9rZVN0eWxlQ29sb3IgPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0Q29sb3IoKTtcbiAgICAgICAgY29uc3QgdGV4dFN0cm9rZVN0eWxlTGluZUNhcCA9IHRleHRTdHJva2VTdHlsZS5nZXRMaW5lQ2FwKCk7XG4gICAgICAgIGNvbnN0IHRleHRTdHJva2VTdHlsZUxpbmVEYXNoID0gdGV4dFN0cm9rZVN0eWxlLmdldExpbmVEYXNoKCk7XG4gICAgICAgIGNvbnN0IHRleHRTdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0ID1cbiAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZURhc2hPZmZzZXQoKTtcbiAgICAgICAgY29uc3QgdGV4dFN0cm9rZVN0eWxlTGluZUpvaW4gPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0TGluZUpvaW4oKTtcbiAgICAgICAgY29uc3QgdGV4dFN0cm9rZVN0eWxlV2lkdGggPSB0ZXh0U3Ryb2tlU3R5bGUuZ2V0V2lkdGgoKTtcbiAgICAgICAgY29uc3QgdGV4dFN0cm9rZVN0eWxlTWl0ZXJMaW1pdCA9IHRleHRTdHJva2VTdHlsZS5nZXRNaXRlckxpbWl0KCk7XG4gICAgICAgIHRoaXMudGV4dFN0cm9rZVN0YXRlXyA9IHtcbiAgICAgICAgICBsaW5lQ2FwOlxuICAgICAgICAgICAgdGV4dFN0cm9rZVN0eWxlTGluZUNhcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gdGV4dFN0cm9rZVN0eWxlTGluZUNhcFxuICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lQ2FwLFxuICAgICAgICAgIGxpbmVEYXNoOiB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaFxuICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaFxuICAgICAgICAgICAgOiBkZWZhdWx0TGluZURhc2gsXG4gICAgICAgICAgbGluZURhc2hPZmZzZXQ6IHRleHRTdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0XG4gICAgICAgICAgICA/IHRleHRTdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0XG4gICAgICAgICAgICA6IGRlZmF1bHRMaW5lRGFzaE9mZnNldCxcbiAgICAgICAgICBsaW5lSm9pbjpcbiAgICAgICAgICAgIHRleHRTdHJva2VTdHlsZUxpbmVKb2luICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVMaW5lSm9pblxuICAgICAgICAgICAgICA6IGRlZmF1bHRMaW5lSm9pbixcbiAgICAgICAgICBsaW5lV2lkdGg6XG4gICAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGVXaWR0aCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gdGV4dFN0cm9rZVN0eWxlV2lkdGhcbiAgICAgICAgICAgICAgOiBkZWZhdWx0TGluZVdpZHRoLFxuICAgICAgICAgIG1pdGVyTGltaXQ6XG4gICAgICAgICAgICB0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyB0ZXh0U3Ryb2tlU3R5bGVNaXRlckxpbWl0XG4gICAgICAgICAgICAgIDogZGVmYXVsdE1pdGVyTGltaXQsXG4gICAgICAgICAgc3Ryb2tlU3R5bGU6IGFzQ29sb3JMaWtlKFxuICAgICAgICAgICAgdGV4dFN0cm9rZVN0eWxlQ29sb3IgPyB0ZXh0U3Ryb2tlU3R5bGVDb2xvciA6IGRlZmF1bHRTdHJva2VTdHlsZVxuICAgICAgICAgICksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCB0ZXh0Rm9udCA9IHRleHRTdHlsZS5nZXRGb250KCk7XG4gICAgICBjb25zdCB0ZXh0T2Zmc2V0WCA9IHRleHRTdHlsZS5nZXRPZmZzZXRYKCk7XG4gICAgICBjb25zdCB0ZXh0T2Zmc2V0WSA9IHRleHRTdHlsZS5nZXRPZmZzZXRZKCk7XG4gICAgICBjb25zdCB0ZXh0Um90YXRlV2l0aFZpZXcgPSB0ZXh0U3R5bGUuZ2V0Um90YXRlV2l0aFZpZXcoKTtcbiAgICAgIGNvbnN0IHRleHRSb3RhdGlvbiA9IHRleHRTdHlsZS5nZXRSb3RhdGlvbigpO1xuICAgICAgY29uc3QgdGV4dFNjYWxlID0gdGV4dFN0eWxlLmdldFNjYWxlQXJyYXkoKTtcbiAgICAgIGNvbnN0IHRleHRUZXh0ID0gdGV4dFN0eWxlLmdldFRleHQoKTtcbiAgICAgIGNvbnN0IHRleHRUZXh0QWxpZ24gPSB0ZXh0U3R5bGUuZ2V0VGV4dEFsaWduKCk7XG4gICAgICBjb25zdCB0ZXh0VGV4dEJhc2VsaW5lID0gdGV4dFN0eWxlLmdldFRleHRCYXNlbGluZSgpO1xuICAgICAgdGhpcy50ZXh0U3RhdGVfID0ge1xuICAgICAgICBmb250OiB0ZXh0Rm9udCAhPT0gdW5kZWZpbmVkID8gdGV4dEZvbnQgOiBkZWZhdWx0Rm9udCxcbiAgICAgICAgdGV4dEFsaWduOlxuICAgICAgICAgIHRleHRUZXh0QWxpZ24gIT09IHVuZGVmaW5lZCA/IHRleHRUZXh0QWxpZ24gOiBkZWZhdWx0VGV4dEFsaWduLFxuICAgICAgICB0ZXh0QmFzZWxpbmU6XG4gICAgICAgICAgdGV4dFRleHRCYXNlbGluZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHRleHRUZXh0QmFzZWxpbmVcbiAgICAgICAgICAgIDogZGVmYXVsdFRleHRCYXNlbGluZSxcbiAgICAgIH07XG4gICAgICB0aGlzLnRleHRfID1cbiAgICAgICAgdGV4dFRleHQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gQXJyYXkuaXNBcnJheSh0ZXh0VGV4dClcbiAgICAgICAgICAgID8gdGV4dFRleHQucmVkdWNlKChhY2MsIHQsIGkpID0+IChhY2MgKz0gaSAlIDIgPyAnICcgOiB0KSwgJycpXG4gICAgICAgICAgICA6IHRleHRUZXh0XG4gICAgICAgICAgOiAnJztcbiAgICAgIHRoaXMudGV4dE9mZnNldFhfID1cbiAgICAgICAgdGV4dE9mZnNldFggIT09IHVuZGVmaW5lZCA/IHRoaXMucGl4ZWxSYXRpb18gKiB0ZXh0T2Zmc2V0WCA6IDA7XG4gICAgICB0aGlzLnRleHRPZmZzZXRZXyA9XG4gICAgICAgIHRleHRPZmZzZXRZICE9PSB1bmRlZmluZWQgPyB0aGlzLnBpeGVsUmF0aW9fICogdGV4dE9mZnNldFkgOiAwO1xuICAgICAgdGhpcy50ZXh0Um90YXRlV2l0aFZpZXdfID1cbiAgICAgICAgdGV4dFJvdGF0ZVdpdGhWaWV3ICE9PSB1bmRlZmluZWQgPyB0ZXh0Um90YXRlV2l0aFZpZXcgOiBmYWxzZTtcbiAgICAgIHRoaXMudGV4dFJvdGF0aW9uXyA9IHRleHRSb3RhdGlvbiAhPT0gdW5kZWZpbmVkID8gdGV4dFJvdGF0aW9uIDogMDtcbiAgICAgIHRoaXMudGV4dFNjYWxlXyA9IFtcbiAgICAgICAgdGhpcy5waXhlbFJhdGlvXyAqIHRleHRTY2FsZVswXSxcbiAgICAgICAgdGhpcy5waXhlbFJhdGlvXyAqIHRleHRTY2FsZVsxXSxcbiAgICAgIF07XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9jYW52YXMvaGl0ZGV0ZWN0XG4gKi9cblxuaW1wb3J0IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyIGZyb20gJy4vSW1tZWRpYXRlLmpzJztcbmltcG9ydCB7SWNvbn0gZnJvbSAnLi4vLi4vc3R5bGUuanMnO1xuaW1wb3J0IHthc2NlbmRpbmd9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7Y2xhbXB9IGZyb20gJy4uLy4uL21hdGguanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkR9IGZyb20gJy4uLy4uL2RvbS5qcyc7XG5pbXBvcnQge2ludGVyc2VjdHN9IGZyb20gJy4uLy4uL2V4dGVudC5qcyc7XG5cbmV4cG9ydCBjb25zdCBISVRfREVURUNUX1JFU09MVVRJT04gPSAwLjU7XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9zaXplLmpzXCIpLlNpemV9IHNpemUgQ2FudmFzIHNpemUgaW4gY3NzIHBpeGVscy5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybT59IHRyYW5zZm9ybXMgVHJhbnNmb3Jtc1xuICogZm9yIHJlbmRlcmluZyBmZWF0dXJlcyB0byBhbGwgd29ybGRzIG9mIHRoZSB2aWV3cG9ydCwgZnJvbSBjb29yZGluYXRlcyB0byBjc3NcbiAqIHBpeGVscy5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59IGZlYXR1cmVzXG4gKiBGZWF0dXJlcyB0byBjb25zaWRlciBmb3IgaGl0IGRldGVjdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVGdW5jdGlvbnx1bmRlZmluZWR9IHN0eWxlRnVuY3Rpb25cbiAqIExheWVyIHN0eWxlIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEByZXR1cm4ge0ltYWdlRGF0YX0gSGl0IGRldGVjdGlvbiBpbWFnZSBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGl0RGV0ZWN0aW9uSW1hZ2VEYXRhKFxuICBzaXplLFxuICB0cmFuc2Zvcm1zLFxuICBmZWF0dXJlcyxcbiAgc3R5bGVGdW5jdGlvbixcbiAgZXh0ZW50LFxuICByZXNvbHV0aW9uLFxuICByb3RhdGlvblxuKSB7XG4gIGNvbnN0IHdpZHRoID0gc2l6ZVswXSAqIEhJVF9ERVRFQ1RfUkVTT0xVVElPTjtcbiAgY29uc3QgaGVpZ2h0ID0gc2l6ZVsxXSAqIEhJVF9ERVRFQ1RfUkVTT0xVVElPTjtcbiAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCh3aWR0aCwgaGVpZ2h0KTtcbiAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgY29uc3QgY2FudmFzID0gY29udGV4dC5jYW52YXM7XG4gIGNvbnN0IHJlbmRlcmVyID0gbmV3IENhbnZhc0ltbWVkaWF0ZVJlbmRlcmVyKFxuICAgIGNvbnRleHQsXG4gICAgSElUX0RFVEVDVF9SRVNPTFVUSU9OLFxuICAgIGV4dGVudCxcbiAgICBudWxsLFxuICAgIHJvdGF0aW9uXG4gICk7XG4gIGNvbnN0IGZlYXR1cmVDb3VudCA9IGZlYXR1cmVzLmxlbmd0aDtcbiAgLy8gU3RyZXRjaCBoaXQgZGV0ZWN0aW9uIGluZGV4IHRvIHVzZSB0aGUgd2hvbGUgYXZhaWxhYmxlIGNvbG9yIHJhbmdlXG4gIGNvbnN0IGluZGV4RmFjdG9yID0gTWF0aC5mbG9vcigoMjU2ICogMjU2ICogMjU2IC0gMSkgLyBmZWF0dXJlQ291bnQpO1xuICBjb25zdCBmZWF0dXJlc0J5WkluZGV4ID0ge307XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IGZlYXR1cmVDb3VudDsgKytpKSB7XG4gICAgY29uc3QgZmVhdHVyZSA9IGZlYXR1cmVzW2kgLSAxXTtcbiAgICBjb25zdCBmZWF0dXJlU3R5bGVGdW5jdGlvbiA9IGZlYXR1cmUuZ2V0U3R5bGVGdW5jdGlvbigpIHx8IHN0eWxlRnVuY3Rpb247XG4gICAgaWYgKCFzdHlsZUZ1bmN0aW9uKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IHN0eWxlcyA9IGZlYXR1cmVTdHlsZUZ1bmN0aW9uKGZlYXR1cmUsIHJlc29sdXRpb24pO1xuICAgIGlmICghc3R5bGVzKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHN0eWxlcykpIHtcbiAgICAgIHN0eWxlcyA9IFtzdHlsZXNdO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IGkgKiBpbmRleEZhY3RvcjtcbiAgICBjb25zdCBjb2xvciA9IGluZGV4LnRvU3RyaW5nKDE2KS5wYWRTdGFydCg3LCAnIzAwMDAwJyk7XG4gICAgZm9yIChsZXQgaiA9IDAsIGpqID0gc3R5bGVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsU3R5bGUgPSBzdHlsZXNbal07XG4gICAgICBjb25zdCBnZW9tZXRyeSA9IG9yaWdpbmFsU3R5bGUuZ2V0R2VvbWV0cnlGdW5jdGlvbigpKGZlYXR1cmUpO1xuICAgICAgaWYgKCFnZW9tZXRyeSB8fCAhaW50ZXJzZWN0cyhleHRlbnQsIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0eWxlID0gb3JpZ2luYWxTdHlsZS5jbG9uZSgpO1xuICAgICAgY29uc3QgZmlsbCA9IHN0eWxlLmdldEZpbGwoKTtcbiAgICAgIGlmIChmaWxsKSB7XG4gICAgICAgIGZpbGwuc2V0Q29sb3IoY29sb3IpO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3Ryb2tlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgIHN0cm9rZS5zZXRDb2xvcihjb2xvcik7XG4gICAgICAgIHN0cm9rZS5zZXRMaW5lRGFzaChudWxsKTtcbiAgICAgIH1cbiAgICAgIHN0eWxlLnNldFRleHQodW5kZWZpbmVkKTtcbiAgICAgIGNvbnN0IGltYWdlID0gb3JpZ2luYWxTdHlsZS5nZXRJbWFnZSgpO1xuICAgICAgaWYgKGltYWdlICYmIGltYWdlLmdldE9wYWNpdHkoKSAhPT0gMCkge1xuICAgICAgICBjb25zdCBpbWdTaXplID0gaW1hZ2UuZ2V0SW1hZ2VTaXplKCk7XG4gICAgICAgIGlmICghaW1nU2l6ZSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW1nQ29udGV4dCA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRChcbiAgICAgICAgICBpbWdTaXplWzBdLFxuICAgICAgICAgIGltZ1NpemVbMV0sXG4gICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgIHthbHBoYTogZmFsc2V9XG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGltZyA9IGltZ0NvbnRleHQuY2FudmFzO1xuICAgICAgICBpbWdDb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgICBpbWdDb250ZXh0LmZpbGxSZWN0KDAsIDAsIGltZy53aWR0aCwgaW1nLmhlaWdodCk7XG4gICAgICAgIHN0eWxlLnNldEltYWdlKFxuICAgICAgICAgIG5ldyBJY29uKHtcbiAgICAgICAgICAgIGltZzogaW1nLFxuICAgICAgICAgICAgaW1nU2l6ZTogaW1nU2l6ZSxcbiAgICAgICAgICAgIGFuY2hvcjogaW1hZ2UuZ2V0QW5jaG9yKCksXG4gICAgICAgICAgICBhbmNob3JYVW5pdHM6ICdwaXhlbHMnLFxuICAgICAgICAgICAgYW5jaG9yWVVuaXRzOiAncGl4ZWxzJyxcbiAgICAgICAgICAgIG9mZnNldDogaW1hZ2UuZ2V0T3JpZ2luKCksXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgc2l6ZTogaW1hZ2UuZ2V0U2l6ZSgpLFxuICAgICAgICAgICAgc2NhbGU6IGltYWdlLmdldFNjYWxlKCksXG4gICAgICAgICAgICByb3RhdGlvbjogaW1hZ2UuZ2V0Um90YXRpb24oKSxcbiAgICAgICAgICAgIHJvdGF0ZVdpdGhWaWV3OiBpbWFnZS5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCB6SW5kZXggPSBzdHlsZS5nZXRaSW5kZXgoKSB8fCAwO1xuICAgICAgbGV0IGJ5R2VvbWV0cnlUeXBlID0gZmVhdHVyZXNCeVpJbmRleFt6SW5kZXhdO1xuICAgICAgaWYgKCFieUdlb21ldHJ5VHlwZSkge1xuICAgICAgICBieUdlb21ldHJ5VHlwZSA9IHt9O1xuICAgICAgICBmZWF0dXJlc0J5WkluZGV4W3pJbmRleF0gPSBieUdlb21ldHJ5VHlwZTtcbiAgICAgICAgYnlHZW9tZXRyeVR5cGVbJ1BvbHlnb24nXSA9IFtdO1xuICAgICAgICBieUdlb21ldHJ5VHlwZVsnQ2lyY2xlJ10gPSBbXTtcbiAgICAgICAgYnlHZW9tZXRyeVR5cGVbJ0xpbmVTdHJpbmcnXSA9IFtdO1xuICAgICAgICBieUdlb21ldHJ5VHlwZVsnUG9pbnQnXSA9IFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgdHlwZSA9IGdlb21ldHJ5LmdldFR5cGUoKTtcbiAgICAgIGlmICh0eXBlID09PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuICAgICAgICBjb25zdCBnZW9tZXRyaWVzID1cbiAgICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICAgKS5nZXRHZW9tZXRyaWVzQXJyYXlSZWN1cnNpdmUoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuICAgICAgICAgIGJ5R2VvbWV0cnlUeXBlW2dlb21ldHJ5LmdldFR5cGUoKS5yZXBsYWNlKCdNdWx0aScsICcnKV0ucHVzaChcbiAgICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgICAgc3R5bGVcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBieUdlb21ldHJ5VHlwZVt0eXBlLnJlcGxhY2UoJ011bHRpJywgJycpXS5wdXNoKGdlb21ldHJ5LCBzdHlsZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgekluZGV4S2V5cyA9IE9iamVjdC5rZXlzKGZlYXR1cmVzQnlaSW5kZXgpLm1hcChOdW1iZXIpLnNvcnQoYXNjZW5kaW5nKTtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gekluZGV4S2V5cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgYnlHZW9tZXRyeVR5cGUgPSBmZWF0dXJlc0J5WkluZGV4W3pJbmRleEtleXNbaV1dO1xuICAgIGZvciAoY29uc3QgdHlwZSBpbiBieUdlb21ldHJ5VHlwZSkge1xuICAgICAgY29uc3QgZ2VvbUFuZFN0eWxlID0gYnlHZW9tZXRyeVR5cGVbdHlwZV07XG4gICAgICBmb3IgKGxldCBqID0gMCwgamogPSBnZW9tQW5kU3R5bGUubGVuZ3RoOyBqIDwgamo7IGogKz0gMikge1xuICAgICAgICByZW5kZXJlci5zZXRTdHlsZShnZW9tQW5kU3R5bGVbaiArIDFdKTtcbiAgICAgICAgZm9yIChsZXQgayA9IDAsIGtrID0gdHJhbnNmb3Jtcy5sZW5ndGg7IGsgPCBrazsgKytrKSB7XG4gICAgICAgICAgcmVuZGVyZXIuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybXNba10pO1xuICAgICAgICAgIHJlbmRlcmVyLmRyYXdHZW9tZXRyeShnZW9tQW5kU3R5bGVbal0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcGl4ZWxcIikuUGl4ZWx9IHBpeGVsIFBpeGVsIGNvb3JkaW5hdGUgb24gdGhlIGhpdFxuICogZGV0ZWN0aW9uIGNhbnZhcyBpbiBjc3MgcGl4ZWxzLlxuICogQHBhcmFtIHtBcnJheTxGPn0gZmVhdHVyZXMgRmVhdHVyZXMuIEhhcyB0b1xuICogbWF0Y2ggdGhlIGBmZWF0dXJlc2AgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIHRvIGBjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEoKWAuXG4gKiBAcGFyYW0ge0ltYWdlRGF0YX0gaW1hZ2VEYXRhIEhpdCBkZXRlY3Rpb24gaW1hZ2UgZGF0YSBnZW5lcmF0ZWQgYnlcbiAqIGBjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEoKWAuXG4gKiBAcmV0dXJuIHtBcnJheTxGPn0gRmVhdHVyZXMuXG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IEZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhpdERldGVjdChwaXhlbCwgZmVhdHVyZXMsIGltYWdlRGF0YSkge1xuICBjb25zdCByZXN1bHRGZWF0dXJlcyA9IFtdO1xuICBpZiAoaW1hZ2VEYXRhKSB7XG4gICAgY29uc3QgeCA9IE1hdGguZmxvb3IoTWF0aC5yb3VuZChwaXhlbFswXSkgKiBISVRfREVURUNUX1JFU09MVVRJT04pO1xuICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKE1hdGgucm91bmQocGl4ZWxbMV0pICogSElUX0RFVEVDVF9SRVNPTFVUSU9OKTtcbiAgICAvLyBUaGUgcGl4ZWwgY29vcmRpbmF0ZSBpcyBjbGFtcGVkIGRvd24gdG8gdGhlIGhpdC1kZXRlY3QgY2FudmFzJyBzaXplIHRvIGFjY291bnRcbiAgICAvLyBmb3IgYnJvd3NlcnMgcmV0dXJuaW5nIGNvb3JkaW5hdGVzIHNsaWdodGx5IGxhcmdlciB0aGFuIHRoZSBhY3R1YWwgY2FudmFzIHNpemVcbiAgICAvLyBkdWUgdG8gYSBub24taW50ZWdlciBwaXhlbCByYXRpby5cbiAgICBjb25zdCBpbmRleCA9XG4gICAgICAoY2xhbXAoeCwgMCwgaW1hZ2VEYXRhLndpZHRoIC0gMSkgK1xuICAgICAgICBjbGFtcCh5LCAwLCBpbWFnZURhdGEuaGVpZ2h0IC0gMSkgKiBpbWFnZURhdGEud2lkdGgpICpcbiAgICAgIDQ7XG4gICAgY29uc3QgciA9IGltYWdlRGF0YS5kYXRhW2luZGV4XTtcbiAgICBjb25zdCBnID0gaW1hZ2VEYXRhLmRhdGFbaW5kZXggKyAxXTtcbiAgICBjb25zdCBiID0gaW1hZ2VEYXRhLmRhdGFbaW5kZXggKyAyXTtcbiAgICBjb25zdCBpID0gYiArIDI1NiAqIChnICsgMjU2ICogcik7XG4gICAgY29uc3QgaW5kZXhGYWN0b3IgPSBNYXRoLmZsb29yKCgyNTYgKiAyNTYgKiAyNTYgLSAxKSAvIGZlYXR1cmVzLmxlbmd0aCk7XG4gICAgaWYgKGkgJiYgaSAlIGluZGV4RmFjdG9yID09PSAwKSB7XG4gICAgICByZXN1bHRGZWF0dXJlcy5wdXNoKGZlYXR1cmVzW2kgLyBpbmRleEZhY3RvciAtIDFdKTtcbiAgICB9XG4gIH1cbiAgLy8gQHRzLWlnbm9yZSBGZWF0dXJlcyBhcmUgY29waWVkIGZyb20gYGZlYXR1cmVzYCB0byBgcmVzdWx0RmVhdHVyZXNgIHNvIHRoZSB0eXBlIHNob3VsZCBiZSB0aGUgc2FtZVxuICByZXR1cm4gcmVzdWx0RmVhdHVyZXM7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvdmVjdG9yXG4gKi9cbmltcG9ydCBJbWFnZVN0YXRlIGZyb20gJy4uL0ltYWdlU3RhdGUuanMnO1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4uL3V0aWwuanMnO1xuXG4vKipcbiAqIEZlYXR1cmUgY2FsbGJhY2suIFRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIHRocmVlIGFyZ3VtZW50cy4gVGhlIGZpcnN0XG4gKiBhcmd1bWVudCBpcyBvbmUge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmUgZmVhdHVyZX0gb3Ige0BsaW5rIG1vZHVsZTpvbC9yZW5kZXIvRmVhdHVyZX5SZW5kZXJGZWF0dXJlIHJlbmRlciBmZWF0dXJlfVxuICogYXQgdGhlIHBpeGVsLCB0aGUgc2Vjb25kIGlzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyIGxheWVyfSBvZiB0aGUgZmVhdHVyZSBhbmQgd2lsbCBiZSBudWxsIGZvclxuICogdW5tYW5hZ2VkIGxheWVycy4gVGhlIHRoaXJkIGlzIHRoZSB7QGxpbmsgbW9kdWxlOm9sL2dlb20vU2ltcGxlR2VvbWV0cnl+U2ltcGxlR2VvbWV0cnl9IG9mIHRoZSBmZWF0dXJlLiBGb3IgZmVhdHVyZXNcbiAqIHdpdGggYSBHZW9tZXRyeUNvbGxlY3Rpb24gZ2VvbWV0cnksIGl0IHdpbGwgYmUgdGhlIGZpcnN0IGRldGVjdGVkIGdlb21ldHJ5IGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UsIGltcG9ydChcIi4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi4vc291cmNlL1NvdXJjZVwiKS5kZWZhdWx0PiwgaW1wb3J0KFwiLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0KTogVH0gRmVhdHVyZUNhbGxiYWNrXG4gKi9cblxuLyoqXG4gKiBUb2xlcmFuY2UgZm9yIGdlb21ldHJ5IHNpbXBsaWZpY2F0aW9uIGluIGRldmljZSBwaXhlbHMuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5jb25zdCBTSU1QTElGWV9UT0xFUkFOQ0UgPSAwLjU7XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7T2JqZWN0PGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuVHlwZSxcbiAqICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHQsIGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdCxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHQsIE9iamVjdCk6IHZvaWQ+fVxuICovXG5jb25zdCBHRU9NRVRSWV9SRU5ERVJFUlMgPSB7XG4gICdQb2ludCc6IHJlbmRlclBvaW50R2VvbWV0cnksXG4gICdMaW5lU3RyaW5nJzogcmVuZGVyTGluZVN0cmluZ0dlb21ldHJ5LFxuICAnUG9seWdvbic6IHJlbmRlclBvbHlnb25HZW9tZXRyeSxcbiAgJ011bHRpUG9pbnQnOiByZW5kZXJNdWx0aVBvaW50R2VvbWV0cnksXG4gICdNdWx0aUxpbmVTdHJpbmcnOiByZW5kZXJNdWx0aUxpbmVTdHJpbmdHZW9tZXRyeSxcbiAgJ011bHRpUG9seWdvbic6IHJlbmRlck11bHRpUG9seWdvbkdlb21ldHJ5LFxuICAnR2VvbWV0cnlDb2xsZWN0aW9uJzogcmVuZGVyR2VvbWV0cnlDb2xsZWN0aW9uR2VvbWV0cnksXG4gICdDaXJjbGUnOiByZW5kZXJDaXJjbGVHZW9tZXRyeSxcbn07XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlMSBGZWF0dXJlIDEuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUyIEZlYXR1cmUgMi5cbiAqIEByZXR1cm4ge251bWJlcn0gT3JkZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0T3JkZXIoZmVhdHVyZTEsIGZlYXR1cmUyKSB7XG4gIHJldHVybiBwYXJzZUludChnZXRVaWQoZmVhdHVyZTEpLCAxMCkgLSBwYXJzZUludChnZXRVaWQoZmVhdHVyZTIpLCAxMCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICogQHJldHVybiB7bnVtYmVyfSBTcXVhcmVkIHBpeGVsIHRvbGVyYW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNxdWFyZWRUb2xlcmFuY2UocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICBjb25zdCB0b2xlcmFuY2UgPSBnZXRUb2xlcmFuY2UocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbyk7XG4gIHJldHVybiB0b2xlcmFuY2UgKiB0b2xlcmFuY2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICogQHJldHVybiB7bnVtYmVyfSBQaXhlbCB0b2xlcmFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb2xlcmFuY2UocmVzb2x1dGlvbiwgcGl4ZWxSYXRpbykge1xuICByZXR1cm4gKFNJTVBMSUZZX1RPTEVSQU5DRSAqIHJlc29sdXRpb24pIC8gcGl4ZWxSYXRpbztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBCdWlsZGVyIGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL0NpcmNsZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckNpcmNsZUdlb21ldHJ5KFxuICBidWlsZGVyR3JvdXAsXG4gIGdlb21ldHJ5LFxuICBzdHlsZSxcbiAgZmVhdHVyZSxcbiAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4pIHtcbiAgY29uc3QgZmlsbFN0eWxlID0gc3R5bGUuZ2V0RmlsbCgpO1xuICBjb25zdCBzdHJva2VTdHlsZSA9IHN0eWxlLmdldFN0cm9rZSgpO1xuICBpZiAoZmlsbFN0eWxlIHx8IHN0cm9rZVN0eWxlKSB7XG4gICAgY29uc3QgY2lyY2xlUmVwbGF5ID0gYnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksICdDaXJjbGUnKTtcbiAgICBjaXJjbGVSZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpO1xuICAgIGNpcmNsZVJlcGxheS5kcmF3Q2lyY2xlKGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxuICBjb25zdCB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgIGNvbnN0IHRleHRSZXBsYXkgPSAoZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihcbiAgICAgIHN0eWxlLmdldFpJbmRleCgpLFxuICAgICAgJ1RleHQnXG4gICAgKTtcbiAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSByZXBsYXlHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5UcmFuc2Zvcm1GdW5jdGlvbn0gW3RyYW5zZm9ybV0gVHJhbnNmb3JtIGZyb20gdXNlciB0byB2aWV3IHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBzdHlsZSBpcyBsb2FkaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyRmVhdHVyZShcbiAgcmVwbGF5R3JvdXAsXG4gIGZlYXR1cmUsXG4gIHN0eWxlLFxuICBzcXVhcmVkVG9sZXJhbmNlLFxuICBsaXN0ZW5lcixcbiAgdHJhbnNmb3JtLFxuICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbikge1xuICBsZXQgbG9hZGluZyA9IGZhbHNlO1xuICBjb25zdCBpbWFnZVN0eWxlID0gc3R5bGUuZ2V0SW1hZ2UoKTtcbiAgaWYgKGltYWdlU3R5bGUpIHtcbiAgICBjb25zdCBpbWFnZVN0YXRlID0gaW1hZ2VTdHlsZS5nZXRJbWFnZVN0YXRlKCk7XG4gICAgaWYgKGltYWdlU3RhdGUgPT0gSW1hZ2VTdGF0ZS5MT0FERUQgfHwgaW1hZ2VTdGF0ZSA9PSBJbWFnZVN0YXRlLkVSUk9SKSB7XG4gICAgICBpbWFnZVN0eWxlLnVubGlzdGVuSW1hZ2VDaGFuZ2UobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW1hZ2VTdGF0ZSA9PSBJbWFnZVN0YXRlLklETEUpIHtcbiAgICAgICAgaW1hZ2VTdHlsZS5sb2FkKCk7XG4gICAgICB9XG4gICAgICBpbWFnZVN0eWxlLmxpc3RlbkltYWdlQ2hhbmdlKGxpc3RlbmVyKTtcbiAgICAgIGxvYWRpbmcgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZW5kZXJGZWF0dXJlSW50ZXJuYWwoXG4gICAgcmVwbGF5R3JvdXAsXG4gICAgZmVhdHVyZSxcbiAgICBzdHlsZSxcbiAgICBzcXVhcmVkVG9sZXJhbmNlLFxuICAgIHRyYW5zZm9ybSxcbiAgICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbiAgKTtcblxuICByZXR1cm4gbG9hZGluZztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IHJlcGxheUdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcXVhcmVkVG9sZXJhbmNlIFNxdWFyZWQgdG9sZXJhbmNlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbdHJhbnNmb3JtXSBPcHRpb25hbCB0cmFuc2Zvcm0gZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyRmVhdHVyZUludGVybmFsKFxuICByZXBsYXlHcm91cCxcbiAgZmVhdHVyZSxcbiAgc3R5bGUsXG4gIHNxdWFyZWRUb2xlcmFuY2UsXG4gIHRyYW5zZm9ybSxcbiAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4pIHtcbiAgY29uc3QgZ2VvbWV0cnkgPSBzdHlsZS5nZXRHZW9tZXRyeUZ1bmN0aW9uKCkoZmVhdHVyZSk7XG4gIGlmICghZ2VvbWV0cnkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc2ltcGxpZmllZEdlb21ldHJ5ID0gZ2VvbWV0cnkuc2ltcGxpZnlUcmFuc2Zvcm1lZChcbiAgICBzcXVhcmVkVG9sZXJhbmNlLFxuICAgIHRyYW5zZm9ybVxuICApO1xuICBjb25zdCByZW5kZXJlciA9IHN0eWxlLmdldFJlbmRlcmVyKCk7XG4gIGlmIChyZW5kZXJlcikge1xuICAgIHJlbmRlckdlb21ldHJ5KHJlcGxheUdyb3VwLCBzaW1wbGlmaWVkR2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBnZW9tZXRyeVJlbmRlcmVyID0gR0VPTUVUUllfUkVOREVSRVJTW3NpbXBsaWZpZWRHZW9tZXRyeS5nZXRUeXBlKCldO1xuICAgIGdlb21ldHJ5UmVuZGVyZXIoXG4gICAgICByZXBsYXlHcm91cCxcbiAgICAgIHNpbXBsaWZpZWRHZW9tZXRyeSxcbiAgICAgIHN0eWxlLFxuICAgICAgZmVhdHVyZSxcbiAgICAgIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IHJlcGxheUdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICovXG5mdW5jdGlvbiByZW5kZXJHZW9tZXRyeShyZXBsYXlHcm91cCwgZ2VvbWV0cnksIHN0eWxlLCBmZWF0dXJlKSB7XG4gIGlmIChnZW9tZXRyeS5nZXRUeXBlKCkgPT0gJ0dlb21ldHJ5Q29sbGVjdGlvbicpIHtcbiAgICBjb25zdCBnZW9tZXRyaWVzID1cbiAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeVxuICAgICAgKS5nZXRHZW9tZXRyaWVzKCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICByZW5kZXJHZW9tZXRyeShyZXBsYXlHcm91cCwgZ2VvbWV0cmllc1tpXSwgc3R5bGUsIGZlYXR1cmUpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcmVwbGF5ID0gcmVwbGF5R3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgJ0RlZmF1bHQnKTtcbiAgcmVwbGF5LmRyYXdDdXN0b20oXG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChnZW9tZXRyeSksXG4gICAgZmVhdHVyZSxcbiAgICBzdHlsZS5nZXRSZW5kZXJlcigpLFxuICAgIHN0eWxlLmdldEhpdERldGVjdGlvblJlbmRlcmVyKClcbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IHJlcGxheUdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJHZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeShcbiAgcmVwbGF5R3JvdXAsXG4gIGdlb21ldHJ5LFxuICBzdHlsZSxcbiAgZmVhdHVyZSxcbiAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4pIHtcbiAgY29uc3QgZ2VvbWV0cmllcyA9IGdlb21ldHJ5LmdldEdlb21ldHJpZXNBcnJheSgpO1xuICBsZXQgaSwgaWk7XG4gIGZvciAoaSA9IDAsIGlpID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZ2VvbWV0cnlSZW5kZXJlciA9IEdFT01FVFJZX1JFTkRFUkVSU1tnZW9tZXRyaWVzW2ldLmdldFR5cGUoKV07XG4gICAgZ2VvbWV0cnlSZW5kZXJlcihcbiAgICAgIHJlcGxheUdyb3VwLFxuICAgICAgZ2VvbWV0cmllc1tpXSxcbiAgICAgIHN0eWxlLFxuICAgICAgZmVhdHVyZSxcbiAgICAgIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IGJ1aWxkZXJHcm91cCBSZXBsYXkgZ3JvdXAuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vTGluZVN0cmluZy5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckxpbmVTdHJpbmdHZW9tZXRyeShcbiAgYnVpbGRlckdyb3VwLFxuICBnZW9tZXRyeSxcbiAgc3R5bGUsXG4gIGZlYXR1cmUsXG4gIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuKSB7XG4gIGNvbnN0IHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gIGlmIChzdHJva2VTdHlsZSkge1xuICAgIGNvbnN0IGxpbmVTdHJpbmdSZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihcbiAgICAgIHN0eWxlLmdldFpJbmRleCgpLFxuICAgICAgJ0xpbmVTdHJpbmcnXG4gICAgKTtcbiAgICBsaW5lU3RyaW5nUmVwbGF5LnNldEZpbGxTdHJva2VTdHlsZShudWxsLCBzdHJva2VTdHlsZSk7XG4gICAgbGluZVN0cmluZ1JlcGxheS5kcmF3TGluZVN0cmluZyhnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbiAgY29uc3QgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICBpZiAodGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkpIHtcbiAgICBjb25zdCB0ZXh0UmVwbGF5ID0gKGRlY2x1dHRlckJ1aWxkZXJHcm91cCB8fCBidWlsZGVyR3JvdXApLmdldEJ1aWxkZXIoXG4gICAgICBzdHlsZS5nZXRaSW5kZXgoKSxcbiAgICAgICdUZXh0J1xuICAgICk7XG4gICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICB0ZXh0UmVwbGF5LmRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9NdWx0aUxpbmVTdHJpbmcuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJNdWx0aUxpbmVTdHJpbmdHZW9tZXRyeShcbiAgYnVpbGRlckdyb3VwLFxuICBnZW9tZXRyeSxcbiAgc3R5bGUsXG4gIGZlYXR1cmUsXG4gIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuKSB7XG4gIGNvbnN0IHN0cm9rZVN0eWxlID0gc3R5bGUuZ2V0U3Ryb2tlKCk7XG4gIGlmIChzdHJva2VTdHlsZSkge1xuICAgIGNvbnN0IGxpbmVTdHJpbmdSZXBsYXkgPSBidWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihcbiAgICAgIHN0eWxlLmdldFpJbmRleCgpLFxuICAgICAgJ0xpbmVTdHJpbmcnXG4gICAgKTtcbiAgICBsaW5lU3RyaW5nUmVwbGF5LnNldEZpbGxTdHJva2VTdHlsZShudWxsLCBzdHJva2VTdHlsZSk7XG4gICAgbGluZVN0cmluZ1JlcGxheS5kcmF3TXVsdGlMaW5lU3RyaW5nKGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxuICBjb25zdCB0ZXh0U3R5bGUgPSBzdHlsZS5nZXRUZXh0KCk7XG4gIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgIGNvbnN0IHRleHRSZXBsYXkgPSAoZGVjbHV0dGVyQnVpbGRlckdyb3VwIHx8IGJ1aWxkZXJHcm91cCkuZ2V0QnVpbGRlcihcbiAgICAgIHN0eWxlLmdldFpJbmRleCgpLFxuICAgICAgJ1RleHQnXG4gICAgKTtcbiAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpUG9seWdvbi5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlck11bHRpUG9seWdvbkdlb21ldHJ5KFxuICBidWlsZGVyR3JvdXAsXG4gIGdlb21ldHJ5LFxuICBzdHlsZSxcbiAgZmVhdHVyZSxcbiAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4pIHtcbiAgY29uc3QgZmlsbFN0eWxlID0gc3R5bGUuZ2V0RmlsbCgpO1xuICBjb25zdCBzdHJva2VTdHlsZSA9IHN0eWxlLmdldFN0cm9rZSgpO1xuICBpZiAoc3Ryb2tlU3R5bGUgfHwgZmlsbFN0eWxlKSB7XG4gICAgY29uc3QgcG9seWdvblJlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCAnUG9seWdvbicpO1xuICAgIHBvbHlnb25SZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpO1xuICAgIHBvbHlnb25SZXBsYXkuZHJhd011bHRpUG9seWdvbihnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbiAgY29uc3QgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICBpZiAodGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkpIHtcbiAgICBjb25zdCB0ZXh0UmVwbGF5ID0gKGRlY2x1dHRlckJ1aWxkZXJHcm91cCB8fCBidWlsZGVyR3JvdXApLmdldEJ1aWxkZXIoXG4gICAgICBzdHlsZS5nZXRaSW5kZXgoKSxcbiAgICAgICdUZXh0J1xuICAgICk7XG4gICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICB0ZXh0UmVwbGF5LmRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2ludC5qc1wiKS5kZWZhdWx0fGltcG9ydChcIi4uL3JlbmRlci9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGdlb21ldHJ5IEdlb21ldHJ5LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0fSBzdHlsZSBTdHlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGZvciBkZWNsdXR0ZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlclBvaW50R2VvbWV0cnkoXG4gIGJ1aWxkZXJHcm91cCxcbiAgZ2VvbWV0cnksXG4gIHN0eWxlLFxuICBmZWF0dXJlLFxuICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbikge1xuICBjb25zdCBpbWFnZVN0eWxlID0gc3R5bGUuZ2V0SW1hZ2UoKTtcbiAgY29uc3QgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICAvKiogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH0gKi9cbiAgbGV0IGRlY2x1dHRlckltYWdlV2l0aFRleHQ7XG4gIGlmIChpbWFnZVN0eWxlKSB7XG4gICAgaWYgKGltYWdlU3R5bGUuZ2V0SW1hZ2VTdGF0ZSgpICE9IEltYWdlU3RhdGUuTE9BREVEKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBpbWFnZUJ1aWxkZXJHcm91cCA9IGJ1aWxkZXJHcm91cDtcbiAgICBpZiAoZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgICBjb25zdCBkZWNsdXR0ZXJNb2RlID0gaW1hZ2VTdHlsZS5nZXREZWNsdXR0ZXJNb2RlKCk7XG4gICAgICBpZiAoZGVjbHV0dGVyTW9kZSAhPT0gJ25vbmUnKSB7XG4gICAgICAgIGltYWdlQnVpbGRlckdyb3VwID0gZGVjbHV0dGVyQnVpbGRlckdyb3VwO1xuICAgICAgICBpZiAoZGVjbHV0dGVyTW9kZSA9PT0gJ29ic3RhY2xlJykge1xuICAgICAgICAgIC8vIGRyYXcgaW4gbm9uLWRlY2x1dHRlciBncm91cDpcbiAgICAgICAgICBjb25zdCBpbWFnZVJlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKFxuICAgICAgICAgICAgc3R5bGUuZ2V0WkluZGV4KCksXG4gICAgICAgICAgICAnSW1hZ2UnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpbWFnZVJlcGxheS5zZXRJbWFnZVN0eWxlKGltYWdlU3R5bGUsIGRlY2x1dHRlckltYWdlV2l0aFRleHQpO1xuICAgICAgICAgIGltYWdlUmVwbGF5LmRyYXdQb2ludChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGV4dFN0eWxlICYmIHRleHRTdHlsZS5nZXRUZXh0KCkpIHtcbiAgICAgICAgICBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0ID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaW1hZ2VSZXBsYXkgPSBpbWFnZUJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKFxuICAgICAgc3R5bGUuZ2V0WkluZGV4KCksXG4gICAgICAnSW1hZ2UnXG4gICAgKTtcbiAgICBpbWFnZVJlcGxheS5zZXRJbWFnZVN0eWxlKGltYWdlU3R5bGUsIGRlY2x1dHRlckltYWdlV2l0aFRleHQpO1xuICAgIGltYWdlUmVwbGF5LmRyYXdQb2ludChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbiAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgbGV0IHRleHRCdWlsZGVyR3JvdXAgPSBidWlsZGVyR3JvdXA7XG4gICAgaWYgKGRlY2x1dHRlckJ1aWxkZXJHcm91cCkge1xuICAgICAgdGV4dEJ1aWxkZXJHcm91cCA9IGRlY2x1dHRlckJ1aWxkZXJHcm91cDtcbiAgICB9XG4gICAgY29uc3QgdGV4dFJlcGxheSA9IHRleHRCdWlsZGVyR3JvdXAuZ2V0QnVpbGRlcihzdHlsZS5nZXRaSW5kZXgoKSwgJ1RleHQnKTtcbiAgICB0ZXh0UmVwbGF5LnNldFRleHRTdHlsZSh0ZXh0U3R5bGUsIGRlY2x1dHRlckltYWdlV2l0aFRleHQpO1xuICAgIHRleHRSZXBsYXkuZHJhd1RleHQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBidWlsZGVyR3JvdXAgUmVwbGF5IGdyb3VwLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9nZW9tL011bHRpUG9pbnQuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdH0gc3R5bGUgU3R5bGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gW2RlY2x1dHRlckJ1aWxkZXJHcm91cF0gQnVpbGRlciBmb3IgZGVjbHV0dGVyaW5nLlxuICovXG5mdW5jdGlvbiByZW5kZXJNdWx0aVBvaW50R2VvbWV0cnkoXG4gIGJ1aWxkZXJHcm91cCxcbiAgZ2VvbWV0cnksXG4gIHN0eWxlLFxuICBmZWF0dXJlLFxuICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbikge1xuICBjb25zdCBpbWFnZVN0eWxlID0gc3R5bGUuZ2V0SW1hZ2UoKTtcbiAgY29uc3QgdGV4dFN0eWxlID0gc3R5bGUuZ2V0VGV4dCgpO1xuICAvKiogQHR5cGUge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMuanNcIikuRGVjbHV0dGVySW1hZ2VXaXRoVGV4dH0gKi9cbiAgbGV0IGRlY2x1dHRlckltYWdlV2l0aFRleHQ7XG4gIGlmIChpbWFnZVN0eWxlKSB7XG4gICAgaWYgKGltYWdlU3R5bGUuZ2V0SW1hZ2VTdGF0ZSgpICE9IEltYWdlU3RhdGUuTE9BREVEKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBpbWFnZUJ1aWxkZXJHcm91cCA9IGJ1aWxkZXJHcm91cDtcbiAgICBpZiAoZGVjbHV0dGVyQnVpbGRlckdyb3VwKSB7XG4gICAgICBjb25zdCBkZWNsdXR0ZXJNb2RlID0gaW1hZ2VTdHlsZS5nZXREZWNsdXR0ZXJNb2RlKCk7XG4gICAgICBpZiAoZGVjbHV0dGVyTW9kZSAhPT0gJ25vbmUnKSB7XG4gICAgICAgIGltYWdlQnVpbGRlckdyb3VwID0gZGVjbHV0dGVyQnVpbGRlckdyb3VwO1xuICAgICAgICBpZiAoZGVjbHV0dGVyTW9kZSA9PT0gJ29ic3RhY2xlJykge1xuICAgICAgICAgIC8vIGRyYXcgaW4gbm9uLWRlY2x1dHRlciBncm91cDpcbiAgICAgICAgICBjb25zdCBpbWFnZVJlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKFxuICAgICAgICAgICAgc3R5bGUuZ2V0WkluZGV4KCksXG4gICAgICAgICAgICAnSW1hZ2UnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpbWFnZVJlcGxheS5zZXRJbWFnZVN0eWxlKGltYWdlU3R5bGUsIGRlY2x1dHRlckltYWdlV2l0aFRleHQpO1xuICAgICAgICAgIGltYWdlUmVwbGF5LmRyYXdNdWx0aVBvaW50KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgICAgICAgIGRlY2x1dHRlckltYWdlV2l0aFRleHQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpbWFnZVJlcGxheSA9IGltYWdlQnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoXG4gICAgICBzdHlsZS5nZXRaSW5kZXgoKSxcbiAgICAgICdJbWFnZSdcbiAgICApO1xuICAgIGltYWdlUmVwbGF5LnNldEltYWdlU3R5bGUoaW1hZ2VTdHlsZSwgZGVjbHV0dGVySW1hZ2VXaXRoVGV4dCk7XG4gICAgaW1hZ2VSZXBsYXkuZHJhd011bHRpUG9pbnQoZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG4gIGlmICh0ZXh0U3R5bGUgJiYgdGV4dFN0eWxlLmdldFRleHQoKSkge1xuICAgIGxldCB0ZXh0QnVpbGRlckdyb3VwID0gYnVpbGRlckdyb3VwO1xuICAgIGlmIChkZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICAgIHRleHRCdWlsZGVyR3JvdXAgPSBkZWNsdXR0ZXJCdWlsZGVyR3JvdXA7XG4gICAgfVxuICAgIGNvbnN0IHRleHRSZXBsYXkgPSB0ZXh0QnVpbGRlckdyb3VwLmdldEJ1aWxkZXIoc3R5bGUuZ2V0WkluZGV4KCksICdUZXh0Jyk7XG4gICAgdGV4dFJlcGxheS5zZXRUZXh0U3R5bGUodGV4dFN0eWxlLCBkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0KTtcbiAgICB0ZXh0UmVwbGF5LmRyYXdUZXh0KGdlb21ldHJ5LCBmZWF0dXJlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIFJlcGxheSBncm91cC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgR2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3N0eWxlL1N0eWxlLmpzXCIpLmRlZmF1bHR9IHN0eWxlIFN0eWxlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlfSBmZWF0dXJlIEZlYXR1cmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3JlbmRlci9jYW52YXMvQnVpbGRlckdyb3VwLmpzXCIpLmRlZmF1bHR9IFtkZWNsdXR0ZXJCdWlsZGVyR3JvdXBdIEJ1aWxkZXIgZm9yIGRlY2x1dHRlcmluZy5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyUG9seWdvbkdlb21ldHJ5KFxuICBidWlsZGVyR3JvdXAsXG4gIGdlb21ldHJ5LFxuICBzdHlsZSxcbiAgZmVhdHVyZSxcbiAgZGVjbHV0dGVyQnVpbGRlckdyb3VwXG4pIHtcbiAgY29uc3QgZmlsbFN0eWxlID0gc3R5bGUuZ2V0RmlsbCgpO1xuICBjb25zdCBzdHJva2VTdHlsZSA9IHN0eWxlLmdldFN0cm9rZSgpO1xuICBpZiAoZmlsbFN0eWxlIHx8IHN0cm9rZVN0eWxlKSB7XG4gICAgY29uc3QgcG9seWdvblJlcGxheSA9IGJ1aWxkZXJHcm91cC5nZXRCdWlsZGVyKHN0eWxlLmdldFpJbmRleCgpLCAnUG9seWdvbicpO1xuICAgIHBvbHlnb25SZXBsYXkuc2V0RmlsbFN0cm9rZVN0eWxlKGZpbGxTdHlsZSwgc3Ryb2tlU3R5bGUpO1xuICAgIHBvbHlnb25SZXBsYXkuZHJhd1BvbHlnb24oZ2VvbWV0cnksIGZlYXR1cmUpO1xuICB9XG4gIGNvbnN0IHRleHRTdHlsZSA9IHN0eWxlLmdldFRleHQoKTtcbiAgaWYgKHRleHRTdHlsZSAmJiB0ZXh0U3R5bGUuZ2V0VGV4dCgpKSB7XG4gICAgY29uc3QgdGV4dFJlcGxheSA9IChkZWNsdXR0ZXJCdWlsZGVyR3JvdXAgfHwgYnVpbGRlckdyb3VwKS5nZXRCdWlsZGVyKFxuICAgICAgc3R5bGUuZ2V0WkluZGV4KCksXG4gICAgICAnVGV4dCdcbiAgICApO1xuICAgIHRleHRSZXBsYXkuc2V0VGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgdGV4dFJlcGxheS5kcmF3VGV4dChnZW9tZXRyeSwgZmVhdHVyZSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvVmVjdG9yVGlsZUxheWVyXG4gKi9cbmltcG9ydCBDYW52YXNCdWlsZGVyR3JvdXAgZnJvbSAnLi4vLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanMnO1xuaW1wb3J0IENhbnZhc0V4ZWN1dG9yR3JvdXAgZnJvbSAnLi4vLi4vcmVuZGVyL2NhbnZhcy9FeGVjdXRvckdyb3VwLmpzJztcbmltcG9ydCBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlciBmcm9tICcuL1RpbGVMYXllci5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uLy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgVmlld0hpbnQgZnJvbSAnLi4vLi4vVmlld0hpbnQuanMnO1xuaW1wb3J0IHtcbiAgSElUX0RFVEVDVF9SRVNPTFVUSU9OLFxuICBjcmVhdGVIaXREZXRlY3Rpb25JbWFnZURhdGEsXG4gIGhpdERldGVjdCxcbn0gZnJvbSAnLi4vLi4vcmVuZGVyL2NhbnZhcy9oaXRkZXRlY3QuanMnO1xuaW1wb3J0IHtcbiAgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sXG4gIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sXG4gIG11bHRpcGx5LFxuICByZXNldCBhcyByZXNldFRyYW5zZm9ybSxcbiAgc2NhbGUsXG4gIHNjYWxlIGFzIHNjYWxlVHJhbnNmb3JtLFxuICB0cmFuc2xhdGUgYXMgdHJhbnNsYXRlVHJhbnNmb3JtLFxufSBmcm9tICcuLi8uLi90cmFuc2Zvcm0uanMnO1xuaW1wb3J0IHtcbiAgYm91bmRpbmdFeHRlbnQsXG4gIGJ1ZmZlcixcbiAgY29udGFpbnNFeHRlbnQsXG4gIGVxdWFscyxcbiAgZ2V0SW50ZXJzZWN0aW9uLFxuICBnZXRUb3BMZWZ0LFxuICBpbnRlcnNlY3RzLFxufSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHtcbiAgZ2V0U3F1YXJlZFRvbGVyYW5jZSBhcyBnZXRTcXVhcmVkUmVuZGVyVG9sZXJhbmNlLFxuICByZW5kZXJGZWF0dXJlLFxufSBmcm9tICcuLi92ZWN0b3IuanMnO1xuaW1wb3J0IHtnZXRVaWR9IGZyb20gJy4uLy4uL3V0aWwuanMnO1xuaW1wb3J0IHt0b1NpemV9IGZyb20gJy4uLy4uL3NpemUuanMnO1xuaW1wb3J0IHt3cmFwWH0gZnJvbSAnLi4vLi4vY29vcmRpbmF0ZS5qcyc7XG5cbi8qKlxuICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBBcnJheTxpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzLmpzXCIpLkJ1aWxkZXJUeXBlPj59XG4gKi9cbmNvbnN0IElNQUdFX1JFUExBWVMgPSB7XG4gICdpbWFnZSc6IFsnUG9seWdvbicsICdDaXJjbGUnLCAnTGluZVN0cmluZycsICdJbWFnZScsICdUZXh0J10sXG4gICdoeWJyaWQnOiBbJ1BvbHlnb24nLCAnTGluZVN0cmluZyddLFxuICAndmVjdG9yJzogW10sXG59O1xuXG4vKipcbiAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgQXJyYXk8aW1wb3J0KFwiLi4vLi4vcmVuZGVyL2NhbnZhcy5qc1wiKS5CdWlsZGVyVHlwZT4+fVxuICovXG5jb25zdCBWRUNUT1JfUkVQTEFZUyA9IHtcbiAgJ2h5YnJpZCc6IFsnSW1hZ2UnLCAnVGV4dCcsICdEZWZhdWx0J10sXG4gICd2ZWN0b3InOiBbJ1BvbHlnb24nLCAnQ2lyY2xlJywgJ0xpbmVTdHJpbmcnLCAnSW1hZ2UnLCAnVGV4dCcsICdEZWZhdWx0J10sXG59O1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENhbnZhcyByZW5kZXJlciBmb3IgdmVjdG9yIHRpbGUgbGF5ZXJzLlxuICogQGFwaVxuICogQGV4dGVuZHMge0NhbnZhc1RpbGVMYXllclJlbmRlcmVyPGltcG9ydChcIi4uLy4uL2xheWVyL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdD59XG4gKi9cbmNsYXNzIENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyIGV4dGVuZHMgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9IGxheWVyIFZlY3RvclRpbGUgbGF5ZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihsYXllcikge1xuICAgIHN1cGVyKGxheWVyKTtcblxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIHRoaXMuYm91bmRIYW5kbGVTdHlsZUltYWdlQ2hhbmdlXyA9IHRoaXMuaGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8uYmluZCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkTGF5ZXJSZXZpc2lvbl87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm1cIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRQaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRSb3RhdGlvbl87XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMudG1wVHJhbnNmb3JtXyA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vVmVjdG9yUmVuZGVyVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3Byb2ovUHJvamVjdGlvblwiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW58dW5kZWZpbmVkfSBUaWxlIG5lZWRzIHRvIGJlIHJlbmRlcmVkLlxuICAgKi9cbiAgcHJlcGFyZVRpbGUodGlsZSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIGxldCByZW5kZXI7XG4gICAgY29uc3Qgc3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgaWYgKHN0YXRlID09PSBUaWxlU3RhdGUuTE9BREVEIHx8IHN0YXRlID09PSBUaWxlU3RhdGUuRVJST1IpIHtcbiAgICAgIHRoaXMudXBkYXRlRXhlY3V0b3JHcm91cF8odGlsZSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgICBpZiAodGhpcy50aWxlSW1hZ2VOZWVkc1JlbmRlcl8odGlsZSkpIHtcbiAgICAgICAgcmVuZGVyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcmV0dXJuIHshaW1wb3J0KFwiLi4vLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSBUaWxlLlxuICAgKi9cbiAgZ2V0VGlsZSh6LCB4LCB5LCBmcmFtZVN0YXRlKSB7XG4gICAgY29uc3QgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICBjb25zdCB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gdmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgY29uc3QgcHJvamVjdGlvbiA9IHZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgIGNvbnN0IHRpbGUgPSBsYXllci5nZXRTb3VyY2UoKS5nZXRUaWxlKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgIGNvbnN0IHZpZXdIaW50cyA9IGZyYW1lU3RhdGUudmlld0hpbnRzO1xuICAgIGNvbnN0IGhpZmkgPSAhKFxuICAgICAgdmlld0hpbnRzW1ZpZXdIaW50LkFOSU1BVElOR10gfHwgdmlld0hpbnRzW1ZpZXdIaW50LklOVEVSQUNUSU5HXVxuICAgICk7XG4gICAgaWYgKGhpZmkgfHwgIXRpbGUud2FudGVkUmVzb2x1dGlvbikge1xuICAgICAgdGlsZS53YW50ZWRSZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICB9XG4gICAgY29uc3QgcmVuZGVyID0gdGhpcy5wcmVwYXJlVGlsZSh0aWxlLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKTtcbiAgICBpZiAoXG4gICAgICByZW5kZXIgJiZcbiAgICAgIChoaWZpIHx8IERhdGUubm93KCkgLSBmcmFtZVN0YXRlLnRpbWUgPCA4KSAmJlxuICAgICAgbGF5ZXIuZ2V0UmVuZGVyTW9kZSgpICE9PSAndmVjdG9yJ1xuICAgICkge1xuICAgICAgdGhpcy5yZW5kZXJUaWxlSW1hZ2VfKHRpbGUsIGZyYW1lU3RhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuZ2V0VGlsZSh6LCB4LCB5LCBmcmFtZVN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1ZlY3RvclJlbmRlclRpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaWxlIGlzIGRyYXdhYmxlLlxuICAgKi9cbiAgaXNEcmF3YWJsZVRpbGUodGlsZSkge1xuICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgIHJldHVybiAoXG4gICAgICBzdXBlci5pc0RyYXdhYmxlVGlsZSh0aWxlKSAmJlxuICAgICAgKGxheWVyLmdldFJlbmRlck1vZGUoKSA9PT0gJ3ZlY3RvcidcbiAgICAgICAgPyBnZXRVaWQobGF5ZXIpIGluIHRpbGUuZXhlY3V0b3JHcm91cHNcbiAgICAgICAgOiB0aWxlLmhhc0NvbnRleHQobGF5ZXIpKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIGdldFRpbGVJbWFnZSh0aWxlKSB7XG4gICAgcmV0dXJuIHRpbGUuZ2V0SW1hZ2UodGhpcy5nZXRMYXllcigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciByZW5kZXIgc2hvdWxkIGJlIGNhbGxlZC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gTGF5ZXIgaXMgcmVhZHkgdG8gYmUgcmVuZGVyZWQuXG4gICAqL1xuICBwcmVwYXJlRnJhbWUoZnJhbWVTdGF0ZSkge1xuICAgIGNvbnN0IGxheWVyUmV2aXNpb24gPSB0aGlzLmdldExheWVyKCkuZ2V0UmV2aXNpb24oKTtcbiAgICBpZiAodGhpcy5yZW5kZXJlZExheWVyUmV2aXNpb25fICE9PSBsYXllclJldmlzaW9uKSB7XG4gICAgICB0aGlzLnJlbmRlcmVkTGF5ZXJSZXZpc2lvbl8gPSBsYXllclJldmlzaW9uO1xuICAgICAgdGhpcy5yZW5kZXJlZFRpbGVzLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5wcmVwYXJlRnJhbWUoZnJhbWVTdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9WZWN0b3JSZW5kZXJUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHVwZGF0ZUV4ZWN1dG9yR3JvdXBfKHRpbGUsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICBjb25zdCBsYXllciA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICB0aGlzLmdldExheWVyKClcbiAgICApO1xuICAgIGNvbnN0IHJldmlzaW9uID0gbGF5ZXIuZ2V0UmV2aXNpb24oKTtcbiAgICBjb25zdCByZW5kZXJPcmRlciA9IGxheWVyLmdldFJlbmRlck9yZGVyKCkgfHwgbnVsbDtcblxuICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aWxlLndhbnRlZFJlc29sdXRpb247XG4gICAgY29uc3QgYnVpbGRlclN0YXRlID0gdGlsZS5nZXRSZXBsYXlTdGF0ZShsYXllcik7XG4gICAgaWYgKFxuICAgICAgIWJ1aWxkZXJTdGF0ZS5kaXJ0eSAmJlxuICAgICAgYnVpbGRlclN0YXRlLnJlbmRlcmVkUmVzb2x1dGlvbiA9PT0gcmVzb2x1dGlvbiAmJlxuICAgICAgYnVpbGRlclN0YXRlLnJlbmRlcmVkUmV2aXNpb24gPT0gcmV2aXNpb24gJiZcbiAgICAgIGJ1aWxkZXJTdGF0ZS5yZW5kZXJlZFJlbmRlck9yZGVyID09IHJlbmRlck9yZGVyXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc291cmNlID0gbGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgY29uc3QgZGVjbHV0dGVyID0gbGF5ZXIuZ2V0RGVjbHV0dGVyKCk7XG4gICAgY29uc3Qgc291cmNlVGlsZUdyaWQgPSBzb3VyY2UuZ2V0VGlsZUdyaWQoKTtcbiAgICBjb25zdCB0aWxlR3JpZCA9IHNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgY29uc3QgdGlsZUV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlLndyYXBwZWRUaWxlQ29vcmQpO1xuXG4gICAgY29uc3Qgc291cmNlVGlsZXMgPSBzb3VyY2UuZ2V0U291cmNlVGlsZXMocGl4ZWxSYXRpbywgcHJvamVjdGlvbiwgdGlsZSk7XG4gICAgY29uc3QgbGF5ZXJVaWQgPSBnZXRVaWQobGF5ZXIpO1xuICAgIGRlbGV0ZSB0aWxlLmhpdERldGVjdGlvbkltYWdlRGF0YVtsYXllclVpZF07XG4gICAgdGlsZS5leGVjdXRvckdyb3Vwc1tsYXllclVpZF0gPSBbXTtcbiAgICBpZiAoZGVjbHV0dGVyKSB7XG4gICAgICB0aWxlLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXBzW2xheWVyVWlkXSA9IFtdO1xuICAgIH1cbiAgICBidWlsZGVyU3RhdGUuZGlydHkgPSBmYWxzZTtcbiAgICBmb3IgKGxldCB0ID0gMCwgdHQgPSBzb3VyY2VUaWxlcy5sZW5ndGg7IHQgPCB0dDsgKyt0KSB7XG4gICAgICBjb25zdCBzb3VyY2VUaWxlID0gc291cmNlVGlsZXNbdF07XG4gICAgICBpZiAoc291cmNlVGlsZS5nZXRTdGF0ZSgpICE9IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBzb3VyY2VUaWxlQ29vcmQgPSBzb3VyY2VUaWxlLnRpbGVDb29yZDtcbiAgICAgIGNvbnN0IHNvdXJjZVRpbGVFeHRlbnQgPVxuICAgICAgICBzb3VyY2VUaWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQoc291cmNlVGlsZUNvb3JkKTtcbiAgICAgIGNvbnN0IHNoYXJlZEV4dGVudCA9IGdldEludGVyc2VjdGlvbih0aWxlRXh0ZW50LCBzb3VyY2VUaWxlRXh0ZW50KTtcbiAgICAgIGNvbnN0IGJ1aWxkZXJFeHRlbnQgPSBidWZmZXIoXG4gICAgICAgIHNoYXJlZEV4dGVudCxcbiAgICAgICAgbGF5ZXIuZ2V0UmVuZGVyQnVmZmVyKCkgKiByZXNvbHV0aW9uLFxuICAgICAgICB0aGlzLnRtcEV4dGVudFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGJ1ZmZlcmVkRXh0ZW50ID0gZXF1YWxzKHNvdXJjZVRpbGVFeHRlbnQsIHNoYXJlZEV4dGVudClcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogYnVpbGRlckV4dGVudDtcbiAgICAgIGNvbnN0IGJ1aWxkZXJHcm91cCA9IG5ldyBDYW52YXNCdWlsZGVyR3JvdXAoXG4gICAgICAgIDAsXG4gICAgICAgIGJ1aWxkZXJFeHRlbnQsXG4gICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgIHBpeGVsUmF0aW9cbiAgICAgICk7XG4gICAgICBjb25zdCBkZWNsdXR0ZXJCdWlsZGVyR3JvdXAgPSBkZWNsdXR0ZXJcbiAgICAgICAgPyBuZXcgQ2FudmFzQnVpbGRlckdyb3VwKDAsIHNoYXJlZEV4dGVudCwgcmVzb2x1dGlvbiwgcGl4ZWxSYXRpbylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBzcXVhcmVkVG9sZXJhbmNlID0gZ2V0U3F1YXJlZFJlbmRlclRvbGVyYW5jZShcbiAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgcGl4ZWxSYXRpb1xuICAgICAgKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICAgICAqIEB0aGlzIHtDYW52YXNWZWN0b3JUaWxlTGF5ZXJSZW5kZXJlcn1cbiAgICAgICAqL1xuICAgICAgY29uc3QgcmVuZGVyID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICAgICAgbGV0IHN0eWxlcztcbiAgICAgICAgY29uc3Qgc3R5bGVGdW5jdGlvbiA9XG4gICAgICAgICAgZmVhdHVyZS5nZXRTdHlsZUZ1bmN0aW9uKCkgfHwgbGF5ZXIuZ2V0U3R5bGVGdW5jdGlvbigpO1xuICAgICAgICBpZiAoc3R5bGVGdW5jdGlvbikge1xuICAgICAgICAgIHN0eWxlcyA9IHN0eWxlRnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlcykge1xuICAgICAgICAgIGNvbnN0IGRpcnR5ID0gdGhpcy5yZW5kZXJGZWF0dXJlKFxuICAgICAgICAgICAgZmVhdHVyZSxcbiAgICAgICAgICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgICAgICAgICBzdHlsZXMsXG4gICAgICAgICAgICBidWlsZGVyR3JvdXAsXG4gICAgICAgICAgICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbiAgICAgICAgICApO1xuICAgICAgICAgIGJ1aWxkZXJTdGF0ZS5kaXJ0eSA9IGJ1aWxkZXJTdGF0ZS5kaXJ0eSB8fCBkaXJ0eTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgZmVhdHVyZXMgPSBzb3VyY2VUaWxlLmdldEZlYXR1cmVzKCk7XG4gICAgICBpZiAocmVuZGVyT3JkZXIgJiYgcmVuZGVyT3JkZXIgIT09IGJ1aWxkZXJTdGF0ZS5yZW5kZXJlZFJlbmRlck9yZGVyKSB7XG4gICAgICAgIGZlYXR1cmVzLnNvcnQocmVuZGVyT3JkZXIpO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gZmVhdHVyZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBjb25zdCBmZWF0dXJlID0gZmVhdHVyZXNbaV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhYnVmZmVyZWRFeHRlbnQgfHxcbiAgICAgICAgICBpbnRlcnNlY3RzKGJ1ZmZlcmVkRXh0ZW50LCBmZWF0dXJlLmdldEdlb21ldHJ5KCkuZ2V0RXh0ZW50KCkpXG4gICAgICAgICkge1xuICAgICAgICAgIHJlbmRlci5jYWxsKHRoaXMsIGZlYXR1cmUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBleGVjdXRvckdyb3VwSW5zdHJ1Y3Rpb25zID0gYnVpbGRlckdyb3VwLmZpbmlzaCgpO1xuICAgICAgLy8gbm8gbmVlZCB0byBjbGlwIHdoZW4gdGhlIHJlbmRlciB0aWxlIGlzIGNvdmVyZWQgYnkgYSBzaW5nbGUgc291cmNlIHRpbGVcbiAgICAgIGNvbnN0IHJlcGxheUV4dGVudCA9XG4gICAgICAgIGxheWVyLmdldFJlbmRlck1vZGUoKSAhPT0gJ3ZlY3RvcicgJiZcbiAgICAgICAgZGVjbHV0dGVyICYmXG4gICAgICAgIHNvdXJjZVRpbGVzLmxlbmd0aCA9PT0gMVxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogc2hhcmVkRXh0ZW50O1xuICAgICAgY29uc3QgcmVuZGVyaW5nUmVwbGF5R3JvdXAgPSBuZXcgQ2FudmFzRXhlY3V0b3JHcm91cChcbiAgICAgICAgcmVwbGF5RXh0ZW50LFxuICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICBwaXhlbFJhdGlvLFxuICAgICAgICBzb3VyY2UuZ2V0T3ZlcmxhcHMoKSxcbiAgICAgICAgZXhlY3V0b3JHcm91cEluc3RydWN0aW9ucyxcbiAgICAgICAgbGF5ZXIuZ2V0UmVuZGVyQnVmZmVyKClcbiAgICAgICk7XG4gICAgICB0aWxlLmV4ZWN1dG9yR3JvdXBzW2xheWVyVWlkXS5wdXNoKHJlbmRlcmluZ1JlcGxheUdyb3VwKTtcbiAgICAgIGlmIChkZWNsdXR0ZXJCdWlsZGVyR3JvdXApIHtcbiAgICAgICAgY29uc3QgZGVjbHV0dGVyRXhlY3V0b3JHcm91cCA9IG5ldyBDYW52YXNFeGVjdXRvckdyb3VwKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgICBwaXhlbFJhdGlvLFxuICAgICAgICAgIHNvdXJjZS5nZXRPdmVybGFwcygpLFxuICAgICAgICAgIGRlY2x1dHRlckJ1aWxkZXJHcm91cC5maW5pc2goKSxcbiAgICAgICAgICBsYXllci5nZXRSZW5kZXJCdWZmZXIoKVxuICAgICAgICApO1xuICAgICAgICB0aWxlLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXBzW2xheWVyVWlkXS5wdXNoKGRlY2x1dHRlckV4ZWN1dG9yR3JvdXApO1xuICAgICAgfVxuICAgIH1cbiAgICBidWlsZGVyU3RhdGUucmVuZGVyZWRSZXZpc2lvbiA9IHJldmlzaW9uO1xuICAgIGJ1aWxkZXJTdGF0ZS5yZW5kZXJlZFJlbmRlck9yZGVyID0gcmVuZGVyT3JkZXI7XG4gICAgYnVpbGRlclN0YXRlLnJlbmRlcmVkUmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNvb3JkaW5hdGUgQ29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhpdFRvbGVyYW5jZSBIaXQgdG9sZXJhbmNlIGluIHBpeGVscy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi92ZWN0b3IuanNcIikuRmVhdHVyZUNhbGxiYWNrPFQ+fSBjYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4uL01hcC5qc1wiKS5IaXRNYXRjaDxUPj59IG1hdGNoZXMgVGhlIGhpdCBkZXRlY3RlZCBtYXRjaGVzIHdpdGggdG9sZXJhbmNlLlxuICAgKiBAcmV0dXJuIHtUfHVuZGVmaW5lZH0gQ2FsbGJhY2sgcmVzdWx0LlxuICAgKiBAdGVtcGxhdGUgVFxuICAgKi9cbiAgZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUoXG4gICAgY29vcmRpbmF0ZSxcbiAgICBmcmFtZVN0YXRlLFxuICAgIGhpdFRvbGVyYW5jZSxcbiAgICBjYWxsYmFjayxcbiAgICBtYXRjaGVzXG4gICkge1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgIGNvbnN0IHJvdGF0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb247XG4gICAgaGl0VG9sZXJhbmNlID0gaGl0VG9sZXJhbmNlID09IHVuZGVmaW5lZCA/IDAgOiBoaXRUb2xlcmFuY2U7XG4gICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgY29uc3Qgc291cmNlID0gbGF5ZXIuZ2V0U291cmNlKCk7XG4gICAgY29uc3QgdGlsZUdyaWQgPSBzb3VyY2UuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKFxuICAgICAgZnJhbWVTdGF0ZS52aWV3U3RhdGUucHJvamVjdGlvblxuICAgICk7XG5cbiAgICBjb25zdCBoaXRFeHRlbnQgPSBib3VuZGluZ0V4dGVudChbY29vcmRpbmF0ZV0pO1xuICAgIGJ1ZmZlcihoaXRFeHRlbnQsIHJlc29sdXRpb24gKiBoaXRUb2xlcmFuY2UsIGhpdEV4dGVudCk7XG5cbiAgICAvKiogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9NYXAuanNcIikuSGl0TWF0Y2g8VD58dHJ1ZT59ICovXG4gICAgY29uc3QgZmVhdHVyZXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZX0gZmVhdHVyZSBGZWF0dXJlLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBHZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGlzdGFuY2VTcSBUaGUgc3F1YXJlZCBkaXN0YW5jZSB0byB0aGUgY2xpY2sgcG9zaXRpb24uXG4gICAgICogQHJldHVybiB7VHx1bmRlZmluZWR9IENhbGxiYWNrIHJlc3VsdC5cbiAgICAgKi9cbiAgICBjb25zdCBmZWF0dXJlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZmVhdHVyZSwgZ2VvbWV0cnksIGRpc3RhbmNlU3EpIHtcbiAgICAgIGxldCBrZXkgPSBmZWF0dXJlLmdldElkKCk7XG4gICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAga2V5ID0gZ2V0VWlkKGZlYXR1cmUpO1xuICAgICAgfVxuICAgICAgY29uc3QgbWF0Y2ggPSBmZWF0dXJlc1trZXldO1xuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICBpZiAoZGlzdGFuY2VTcSA9PT0gMCkge1xuICAgICAgICAgIGZlYXR1cmVzW2tleV0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayhmZWF0dXJlLCBsYXllciwgZ2VvbWV0cnkpO1xuICAgICAgICB9XG4gICAgICAgIG1hdGNoZXMucHVzaChcbiAgICAgICAgICAoZmVhdHVyZXNba2V5XSA9IHtcbiAgICAgICAgICAgIGZlYXR1cmU6IGZlYXR1cmUsXG4gICAgICAgICAgICBsYXllcjogbGF5ZXIsXG4gICAgICAgICAgICBnZW9tZXRyeTogZ2VvbWV0cnksXG4gICAgICAgICAgICBkaXN0YW5jZVNxOiBkaXN0YW5jZVNxLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKG1hdGNoICE9PSB0cnVlICYmIGRpc3RhbmNlU3EgPCBtYXRjaC5kaXN0YW5jZVNxKSB7XG4gICAgICAgIGlmIChkaXN0YW5jZVNxID09PSAwKSB7XG4gICAgICAgICAgZmVhdHVyZXNba2V5XSA9IHRydWU7XG4gICAgICAgICAgbWF0Y2hlcy5zcGxpY2UobWF0Y2hlcy5sYXN0SW5kZXhPZihtYXRjaCksIDEpO1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayhmZWF0dXJlLCBsYXllciwgZ2VvbWV0cnkpO1xuICAgICAgICB9XG4gICAgICAgIG1hdGNoLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4gICAgICAgIG1hdGNoLmRpc3RhbmNlU3EgPSBkaXN0YW5jZVNxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyZWRUaWxlcyA9XG4gICAgICAvKiogQHR5cGUge0FycmF5PGltcG9ydChcIi4uLy4uL1ZlY3RvclJlbmRlclRpbGUuanNcIikuZGVmYXVsdD59ICovIChcbiAgICAgICAgdGhpcy5yZW5kZXJlZFRpbGVzXG4gICAgICApO1xuXG4gICAgbGV0IGZvdW5kO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHJlbmRlcmVkVGlsZXMubGVuZ3RoOyAhZm91bmQgJiYgaSA8IGlpOyArK2kpIHtcbiAgICAgIGNvbnN0IHRpbGUgPSByZW5kZXJlZFRpbGVzW2ldO1xuICAgICAgY29uc3QgdGlsZUV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlLndyYXBwZWRUaWxlQ29vcmQpO1xuICAgICAgaWYgKCFpbnRlcnNlY3RzKHRpbGVFeHRlbnQsIGhpdEV4dGVudCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGxheWVyVWlkID0gZ2V0VWlkKGxheWVyKTtcbiAgICAgIGNvbnN0IGV4ZWN1dG9yR3JvdXBzID0gW3RpbGUuZXhlY3V0b3JHcm91cHNbbGF5ZXJVaWRdXTtcbiAgICAgIGNvbnN0IGRlY2x1dHRlckV4ZWN1dG9yR3JvdXBzID0gdGlsZS5kZWNsdXR0ZXJFeGVjdXRvckdyb3Vwc1tsYXllclVpZF07XG4gICAgICBpZiAoZGVjbHV0dGVyRXhlY3V0b3JHcm91cHMpIHtcbiAgICAgICAgZXhlY3V0b3JHcm91cHMucHVzaChkZWNsdXR0ZXJFeGVjdXRvckdyb3Vwcyk7XG4gICAgICB9XG4gICAgICBleGVjdXRvckdyb3Vwcy5zb21lKChleGVjdXRvckdyb3VwcykgPT4ge1xuICAgICAgICBjb25zdCBkZWNsdXR0ZXJlZEZlYXR1cmVzID1cbiAgICAgICAgICBleGVjdXRvckdyb3VwcyA9PT0gZGVjbHV0dGVyRXhlY3V0b3JHcm91cHNcbiAgICAgICAgICAgID8gZnJhbWVTdGF0ZS5kZWNsdXR0ZXJUcmVlLmFsbCgpLm1hcCgoaXRlbSkgPT4gaXRlbS52YWx1ZSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgZm9yIChsZXQgdCA9IDAsIHR0ID0gZXhlY3V0b3JHcm91cHMubGVuZ3RoOyB0IDwgdHQ7ICsrdCkge1xuICAgICAgICAgIGNvbnN0IGV4ZWN1dG9yR3JvdXAgPSBleGVjdXRvckdyb3Vwc1t0XTtcbiAgICAgICAgICBmb3VuZCA9IGV4ZWN1dG9yR3JvdXAuZm9yRWFjaEZlYXR1cmVBdENvb3JkaW5hdGUoXG4gICAgICAgICAgICBjb29yZGluYXRlLFxuICAgICAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgICAgIHJvdGF0aW9uLFxuICAgICAgICAgICAgaGl0VG9sZXJhbmNlLFxuICAgICAgICAgICAgZmVhdHVyZUNhbGxiYWNrLFxuICAgICAgICAgICAgZGVjbHV0dGVyZWRGZWF0dXJlc1xuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG4gIH1cblxuICAvKipcbiAgICogQXN5bmNocm9ub3VzIGxheWVyIGxldmVsIGhpdCBkZXRlY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2U+Pn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgZmVhdHVyZXMuXG4gICAqL1xuICBnZXRGZWF0dXJlcyhwaXhlbCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICAgIGNvbnN0IGxheWVyVWlkID0gZ2V0VWlkKGxheWVyKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGxheWVyLmdldFNvdXJjZSgpO1xuICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHRoaXMucmVuZGVyZWRQcm9qZWN0aW9uO1xuICAgICAgY29uc3QgcHJvamVjdGlvbkV4dGVudCA9IHByb2plY3Rpb24uZ2V0RXh0ZW50KCk7XG4gICAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlZFJlc29sdXRpb247XG4gICAgICBjb25zdCB0aWxlR3JpZCA9IHNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICBjb25zdCBjb29yZGluYXRlID0gYXBwbHlUcmFuc2Zvcm0oXG4gICAgICAgIHRoaXMucmVuZGVyZWRQaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybV8sXG4gICAgICAgIHBpeGVsLnNsaWNlKClcbiAgICAgICk7XG4gICAgICBjb25zdCB0aWxlQ29vcmQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRGb3JDb29yZEFuZFJlc29sdXRpb24oXG4gICAgICAgIGNvb3JkaW5hdGUsXG4gICAgICAgIHJlc29sdXRpb25cbiAgICAgICk7XG4gICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL1ZlY3RvclJlbmRlclRpbGUuanNcIikuZGVmYXVsdHx1bmRlZmluZWR9ICovXG4gICAgICBsZXQgdGlsZTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHRoaXMucmVuZGVyZWRUaWxlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aWxlQ29vcmQudG9TdHJpbmcoKSA9PT0gdGhpcy5yZW5kZXJlZFRpbGVzW2ldLnRpbGVDb29yZC50b1N0cmluZygpXG4gICAgICAgICkge1xuICAgICAgICAgIHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL1ZlY3RvclJlbmRlclRpbGUuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZFRpbGVzW2ldXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAodGlsZS5nZXRTdGF0ZSgpID09PSBUaWxlU3RhdGUuTE9BREVEKSB7XG4gICAgICAgICAgICBjb25zdCBleHRlbnQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZS50aWxlQ29vcmQpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzb3VyY2UuZ2V0V3JhcFgoKSAmJlxuICAgICAgICAgICAgICBwcm9qZWN0aW9uLmNhbldyYXBYKCkgJiZcbiAgICAgICAgICAgICAgIWNvbnRhaW5zRXh0ZW50KHByb2plY3Rpb25FeHRlbnQsIGV4dGVudClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB3cmFwWChjb29yZGluYXRlLCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aWxlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXRpbGUgfHwgdGlsZS5sb2FkaW5nU291cmNlVGlsZXMgPiAwKSB7XG4gICAgICAgIHJlc29sdmUoW10pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBleHRlbnQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZS53cmFwcGVkVGlsZUNvb3JkKTtcbiAgICAgIGNvbnN0IGNvcm5lciA9IGdldFRvcExlZnQoZXh0ZW50KTtcbiAgICAgIGNvbnN0IHRpbGVQaXhlbCA9IFtcbiAgICAgICAgKGNvb3JkaW5hdGVbMF0gLSBjb3JuZXJbMF0pIC8gcmVzb2x1dGlvbixcbiAgICAgICAgKGNvcm5lclsxXSAtIGNvb3JkaW5hdGVbMV0pIC8gcmVzb2x1dGlvbixcbiAgICAgIF07XG4gICAgICAvKiogQHR5cGUge0FycmF5PGltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2U+fSAqL1xuICAgICAgY29uc3QgZmVhdHVyZXMgPSB0aWxlXG4gICAgICAgIC5nZXRTb3VyY2VUaWxlcygpXG4gICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBzb3VyY2VUaWxlKSB7XG4gICAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yLmNvbmNhdChzb3VyY2VUaWxlLmdldEZlYXR1cmVzKCkpO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAvKiogQHR5cGUge0ltYWdlRGF0YXx1bmRlZmluZWR9ICovXG4gICAgICBsZXQgaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhID0gdGlsZS5oaXREZXRlY3Rpb25JbWFnZURhdGFbbGF5ZXJVaWRdO1xuICAgICAgaWYgKCFoaXREZXRlY3Rpb25JbWFnZURhdGEpIHtcbiAgICAgICAgY29uc3QgdGlsZVNpemUgPSB0b1NpemUoXG4gICAgICAgICAgdGlsZUdyaWQuZ2V0VGlsZVNpemUoXG4gICAgICAgICAgICB0aWxlR3JpZC5nZXRaRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uLCBzb3VyY2UuekRpcmVjdGlvbilcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHJvdGF0aW9uID0gdGhpcy5yZW5kZXJlZFJvdGF0aW9uXztcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtcyA9IFtcbiAgICAgICAgICB0aGlzLmdldFJlbmRlclRyYW5zZm9ybShcbiAgICAgICAgICAgIHRpbGVHcmlkLmdldFRpbGVDb29yZENlbnRlcih0aWxlLndyYXBwZWRUaWxlQ29vcmQpLFxuICAgICAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBISVRfREVURUNUX1JFU09MVVRJT04sXG4gICAgICAgICAgICB0aWxlU2l6ZVswXSAqIEhJVF9ERVRFQ1RfUkVTT0xVVElPTixcbiAgICAgICAgICAgIHRpbGVTaXplWzFdICogSElUX0RFVEVDVF9SRVNPTFVUSU9OLFxuICAgICAgICAgICAgMFxuICAgICAgICAgICksXG4gICAgICAgIF07XG4gICAgICAgIGhpdERldGVjdGlvbkltYWdlRGF0YSA9IGNyZWF0ZUhpdERldGVjdGlvbkltYWdlRGF0YShcbiAgICAgICAgICB0aWxlU2l6ZSxcbiAgICAgICAgICB0cmFuc2Zvcm1zLFxuICAgICAgICAgIGZlYXR1cmVzLFxuICAgICAgICAgIGxheWVyLmdldFN0eWxlRnVuY3Rpb24oKSxcbiAgICAgICAgICB0aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZS53cmFwcGVkVGlsZUNvb3JkKSxcbiAgICAgICAgICB0aWxlLmdldFJlcGxheVN0YXRlKGxheWVyKS5yZW5kZXJlZFJlc29sdXRpb24sXG4gICAgICAgICAgcm90YXRpb25cbiAgICAgICAgKTtcbiAgICAgICAgdGlsZS5oaXREZXRlY3Rpb25JbWFnZURhdGFbbGF5ZXJVaWRdID0gaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShoaXREZXRlY3QodGlsZVBpeGVsLCBmZWF0dXJlcywgaGl0RGV0ZWN0aW9uSW1hZ2VEYXRhKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybSBhY3Rpb24gbmVjZXNzYXJ5IHRvIGdldCB0aGUgbGF5ZXIgcmVuZGVyZWQgYWZ0ZXIgbmV3IGZvbnRzIGhhdmUgbG9hZGVkXG4gICAqL1xuICBoYW5kbGVGb250c0NoYW5nZWQoKSB7XG4gICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgaWYgKGxheWVyLmdldFZpc2libGUoKSAmJiB0aGlzLnJlbmRlcmVkTGF5ZXJSZXZpc2lvbl8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGF5ZXIuY2hhbmdlZCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgY2hhbmdlcyBpbiBpbWFnZSBzdHlsZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdH0gZXZlbnQgSW1hZ2Ugc3R5bGUgY2hhbmdlIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8oZXZlbnQpIHtcbiAgICB0aGlzLnJlbmRlcklmUmVhZHlBbmRWaXNpYmxlKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGRlY2x1dHRlciBpdGVtcyBmb3IgdGhpcyBsYXllclxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKi9cbiAgcmVuZGVyRGVjbHV0dGVyKGZyYW1lU3RhdGUpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIGNvbnN0IGFscGhhID0gY29udGV4dC5nbG9iYWxBbHBoYTtcbiAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gdGhpcy5nZXRMYXllcigpLmdldE9wYWNpdHkoKTtcbiAgICBjb25zdCB2aWV3SGludHMgPSBmcmFtZVN0YXRlLnZpZXdIaW50cztcbiAgICBjb25zdCBoaWZpID0gIShcbiAgICAgIHZpZXdIaW50c1tWaWV3SGludC5BTklNQVRJTkddIHx8IHZpZXdIaW50c1tWaWV3SGludC5JTlRFUkFDVElOR11cbiAgICApO1xuICAgIGNvbnN0IHRpbGVzID1cbiAgICAgIC8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi4vLi4vVmVjdG9yUmVuZGVyVGlsZS5qc1wiKS5kZWZhdWx0Pn0gKi8gKFxuICAgICAgICB0aGlzLnJlbmRlcmVkVGlsZXNcbiAgICAgICk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdGlsZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgY29uc3QgdGlsZSA9IHRpbGVzW2ldO1xuICAgICAgY29uc3QgZGVjbHV0dGVyRXhlY3V0b3JHcm91cHMgPVxuICAgICAgICB0aWxlLmRlY2x1dHRlckV4ZWN1dG9yR3JvdXBzW2dldFVpZCh0aGlzLmdldExheWVyKCkpXTtcbiAgICAgIGlmIChkZWNsdXR0ZXJFeGVjdXRvckdyb3Vwcykge1xuICAgICAgICBmb3IgKGxldCBqID0gZGVjbHV0dGVyRXhlY3V0b3JHcm91cHMubGVuZ3RoIC0gMTsgaiA+PSAwOyAtLWopIHtcbiAgICAgICAgICBkZWNsdXR0ZXJFeGVjdXRvckdyb3Vwc1tqXS5leGVjdXRlKFxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIHRoaXMuZ2V0VGlsZVJlbmRlclRyYW5zZm9ybSh0aWxlLCBmcmFtZVN0YXRlKSxcbiAgICAgICAgICAgIGZyYW1lU3RhdGUudmlld1N0YXRlLnJvdGF0aW9uLFxuICAgICAgICAgICAgaGlmaSxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGZyYW1lU3RhdGUuZGVjbHV0dGVyVHJlZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGFscGhhO1xuICB9XG5cbiAgZ2V0VGlsZVJlbmRlclRyYW5zZm9ybSh0aWxlLCBmcmFtZVN0YXRlKSB7XG4gICAgY29uc3QgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICBjb25zdCB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICBjb25zdCBjZW50ZXIgPSB2aWV3U3RhdGUuY2VudGVyO1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSB2aWV3U3RhdGUucmVzb2x1dGlvbjtcbiAgICBjb25zdCByb3RhdGlvbiA9IHZpZXdTdGF0ZS5yb3RhdGlvbjtcbiAgICBjb25zdCBzaXplID0gZnJhbWVTdGF0ZS5zaXplO1xuICAgIGNvbnN0IHdpZHRoID0gTWF0aC5yb3VuZChzaXplWzBdICogcGl4ZWxSYXRpbyk7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5yb3VuZChzaXplWzFdICogcGl4ZWxSYXRpbyk7XG5cbiAgICBjb25zdCBzb3VyY2UgPSB0aGlzLmdldExheWVyKCkuZ2V0U291cmNlKCk7XG4gICAgY29uc3QgdGlsZUdyaWQgPSBzb3VyY2UuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKFxuICAgICAgZnJhbWVTdGF0ZS52aWV3U3RhdGUucHJvamVjdGlvblxuICAgICk7XG4gICAgY29uc3QgdGlsZUNvb3JkID0gdGlsZS50aWxlQ29vcmQ7XG4gICAgY29uc3QgdGlsZUV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlLndyYXBwZWRUaWxlQ29vcmQpO1xuICAgIGNvbnN0IHdvcmxkT2Zmc2V0ID1cbiAgICAgIHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQsIHRoaXMudG1wRXh0ZW50KVswXSAtIHRpbGVFeHRlbnRbMF07XG4gICAgY29uc3QgdHJhbnNmb3JtID0gbXVsdGlwbHkoXG4gICAgICBzY2FsZSh0aGlzLmludmVyc2VQaXhlbFRyYW5zZm9ybS5zbGljZSgpLCAxIC8gcGl4ZWxSYXRpbywgMSAvIHBpeGVsUmF0aW8pLFxuICAgICAgdGhpcy5nZXRSZW5kZXJUcmFuc2Zvcm0oXG4gICAgICAgIGNlbnRlcixcbiAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgcm90YXRpb24sXG4gICAgICAgIHBpeGVsUmF0aW8sXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIHdvcmxkT2Zmc2V0XG4gICAgICApXG4gICAgKTtcbiAgICByZXR1cm4gdHJhbnNmb3JtO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciB0aGUgdmVjdG9ycyBmb3IgdGhpcyBsYXllci5cbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgVGFyZ2V0IGNvbnRleHQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqL1xuICBwb3N0UmVuZGVyKGNvbnRleHQsIGZyYW1lU3RhdGUpIHtcbiAgICBjb25zdCB2aWV3SGludHMgPSBmcmFtZVN0YXRlLnZpZXdIaW50cztcbiAgICBjb25zdCBoaWZpID0gIShcbiAgICAgIHZpZXdIaW50c1tWaWV3SGludC5BTklNQVRJTkddIHx8IHZpZXdIaW50c1tWaWV3SGludC5JTlRFUkFDVElOR11cbiAgICApO1xuXG4gICAgdGhpcy5yZW5kZXJlZFBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyA9XG4gICAgICBmcmFtZVN0YXRlLnBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtLnNsaWNlKCk7XG4gICAgdGhpcy5yZW5kZXJlZFJvdGF0aW9uXyA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJvdGF0aW9uO1xuXG4gICAgY29uc3QgbGF5ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2xheWVyL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgdGhpcy5nZXRMYXllcigpXG4gICAgKTtcbiAgICBjb25zdCByZW5kZXJNb2RlID0gbGF5ZXIuZ2V0UmVuZGVyTW9kZSgpO1xuICAgIGNvbnN0IGFscGhhID0gY29udGV4dC5nbG9iYWxBbHBoYTtcbiAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gbGF5ZXIuZ2V0T3BhY2l0eSgpO1xuICAgIGNvbnN0IHJlcGxheVR5cGVzID0gVkVDVE9SX1JFUExBWVNbcmVuZGVyTW9kZV07XG4gICAgY29uc3Qgdmlld1N0YXRlID0gZnJhbWVTdGF0ZS52aWV3U3RhdGU7XG4gICAgY29uc3Qgcm90YXRpb24gPSB2aWV3U3RhdGUucm90YXRpb247XG4gICAgY29uc3QgdGlsZVNvdXJjZSA9IGxheWVyLmdldFNvdXJjZSgpO1xuICAgIGNvbnN0IHRpbGVHcmlkID0gdGlsZVNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24odmlld1N0YXRlLnByb2plY3Rpb24pO1xuICAgIGNvbnN0IHogPSB0aWxlR3JpZC5nZXRaRm9yUmVzb2x1dGlvbihcbiAgICAgIHZpZXdTdGF0ZS5yZXNvbHV0aW9uLFxuICAgICAgdGlsZVNvdXJjZS56RGlyZWN0aW9uXG4gICAgKTtcblxuICAgIGNvbnN0IHRpbGVzID0gdGhpcy5yZW5kZXJlZFRpbGVzO1xuICAgIGNvbnN0IGNsaXBzID0gW107XG4gICAgY29uc3QgY2xpcFpzID0gW107XG4gICAgbGV0IHJlYWR5ID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gdGlsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGNvbnN0IHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL1ZlY3RvclJlbmRlclRpbGUuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICB0aWxlc1tpXVxuICAgICAgKTtcbiAgICAgIHJlYWR5ID0gcmVhZHkgJiYgIXRpbGUuZ2V0UmVwbGF5U3RhdGUobGF5ZXIpLmRpcnR5O1xuICAgICAgY29uc3QgZXhlY3V0b3JHcm91cHMgPSB0aWxlLmV4ZWN1dG9yR3JvdXBzW2dldFVpZChsYXllcildLmZpbHRlcihcbiAgICAgICAgKGdyb3VwKSA9PiBncm91cC5oYXNFeGVjdXRvcnMocmVwbGF5VHlwZXMpXG4gICAgICApO1xuICAgICAgaWYgKGV4ZWN1dG9yR3JvdXBzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHRoaXMuZ2V0VGlsZVJlbmRlclRyYW5zZm9ybSh0aWxlLCBmcmFtZVN0YXRlKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRaID0gdGlsZS50aWxlQ29vcmRbMF07XG4gICAgICBsZXQgY29udGV4dFNhdmVkID0gZmFsc2U7XG4gICAgICAvLyBDbGlwIG1hc2sgZm9yIHJlZ2lvbnMgaW4gdGhpcyB0aWxlIHRoYXQgYWxyZWFkeSBmaWxsZWQgYnkgYSBoaWdoZXIgeiB0aWxlXG4gICAgICBjb25zdCBjdXJyZW50Q2xpcCA9IGV4ZWN1dG9yR3JvdXBzWzBdLmdldENsaXBDb29yZHModHJhbnNmb3JtKTtcbiAgICAgIGlmIChjdXJyZW50Q2xpcCkge1xuICAgICAgICBmb3IgKGxldCBqID0gMCwgamogPSBjbGlwcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgaWYgKHogIT09IGN1cnJlbnRaICYmIGN1cnJlbnRaIDwgY2xpcFpzW2pdKSB7XG4gICAgICAgICAgICBjb25zdCBjbGlwID0gY2xpcHNbal07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGludGVyc2VjdHMoXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgY3VycmVudENsaXBbMF0sXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Q2xpcFszXSxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRDbGlwWzRdLFxuICAgICAgICAgICAgICAgICAgY3VycmVudENsaXBbN10sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBbY2xpcFswXSwgY2xpcFszXSwgY2xpcFs0XSwgY2xpcFs3XV1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICghY29udGV4dFNhdmVkKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dFNhdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAvLyBjb3VudGVyLWNsb2Nrd2lzZSAob3V0ZXIgcmluZykgZm9yIGN1cnJlbnQgdGlsZVxuICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhjdXJyZW50Q2xpcFswXSwgY3VycmVudENsaXBbMV0pO1xuICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjdXJyZW50Q2xpcFsyXSwgY3VycmVudENsaXBbM10pO1xuICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjdXJyZW50Q2xpcFs0XSwgY3VycmVudENsaXBbNV0pO1xuICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjdXJyZW50Q2xpcFs2XSwgY3VycmVudENsaXBbN10pO1xuICAgICAgICAgICAgICAvLyBjbG9ja3dpc2UgKGlubmVyIHJpbmcpIGZvciBoaWdoZXIgeiB0aWxlXG4gICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKGNsaXBbNl0sIGNsaXBbN10pO1xuICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjbGlwWzRdLCBjbGlwWzVdKTtcbiAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY2xpcFsyXSwgY2xpcFszXSk7XG4gICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGNsaXBbMF0sIGNsaXBbMV0pO1xuICAgICAgICAgICAgICBjb250ZXh0LmNsaXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2xpcHMucHVzaChjdXJyZW50Q2xpcCk7XG4gICAgICAgIGNsaXBacy5wdXNoKGN1cnJlbnRaKTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IHQgPSAwLCB0dCA9IGV4ZWN1dG9yR3JvdXBzLmxlbmd0aDsgdCA8IHR0OyArK3QpIHtcbiAgICAgICAgY29uc3QgZXhlY3V0b3JHcm91cCA9IGV4ZWN1dG9yR3JvdXBzW3RdO1xuICAgICAgICBleGVjdXRvckdyb3VwLmV4ZWN1dGUoXG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAxLFxuICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICBoaWZpLFxuICAgICAgICAgIHJlcGxheVR5cGVzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dFNhdmVkKSB7XG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGE7XG4gICAgdGhpcy5yZWFkeSA9IHJlYWR5O1xuXG4gICAgc3VwZXIucG9zdFJlbmRlcihjb250ZXh0LCBmcmFtZVN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNxdWFyZWRUb2xlcmFuY2UgU3F1YXJlZCB0b2xlcmFuY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc3R5bGUvU3R5bGUuanNcIikuZGVmYXVsdHxBcnJheTxpbXBvcnQoXCIuLi8uLi9zdHlsZS9TdHlsZS5qc1wiKS5kZWZhdWx0Pn0gc3R5bGVzIFRoZSBzdHlsZSBvciBhcnJheSBvZiBzdHlsZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcmVuZGVyL2NhbnZhcy9CdWlsZGVyR3JvdXAuanNcIikuZGVmYXVsdH0gYnVpbGRlckdyb3VwIFJlcGxheSBncm91cC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvY2FudmFzL0J1aWxkZXJHcm91cC5qc1wiKS5kZWZhdWx0fSBbZGVjbHV0dGVyQnVpbGRlckdyb3VwXSBCdWlsZGVyIGdyb3VwIGZvciBkZWNsdXR0ZXJpbmcuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBhbiBpbWFnZSBpcyBsb2FkaW5nLlxuICAgKi9cbiAgcmVuZGVyRmVhdHVyZShcbiAgICBmZWF0dXJlLFxuICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgc3R5bGVzLFxuICAgIGJ1aWxkZXJHcm91cCxcbiAgICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbiAgKSB7XG4gICAgaWYgKCFzdHlsZXMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IGxvYWRpbmcgPSBmYWxzZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzdHlsZXMpKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBzdHlsZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBsb2FkaW5nID1cbiAgICAgICAgICByZW5kZXJGZWF0dXJlKFxuICAgICAgICAgICAgYnVpbGRlckdyb3VwLFxuICAgICAgICAgICAgZmVhdHVyZSxcbiAgICAgICAgICAgIHN0eWxlc1tpXSxcbiAgICAgICAgICAgIHNxdWFyZWRUb2xlcmFuY2UsXG4gICAgICAgICAgICB0aGlzLmJvdW5kSGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8sXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBkZWNsdXR0ZXJCdWlsZGVyR3JvdXBcbiAgICAgICAgICApIHx8IGxvYWRpbmc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvYWRpbmcgPSByZW5kZXJGZWF0dXJlKFxuICAgICAgICBidWlsZGVyR3JvdXAsXG4gICAgICAgIGZlYXR1cmUsXG4gICAgICAgIHN0eWxlcyxcbiAgICAgICAgc3F1YXJlZFRvbGVyYW5jZSxcbiAgICAgICAgdGhpcy5ib3VuZEhhbmRsZVN0eWxlSW1hZ2VDaGFuZ2VfLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIGRlY2x1dHRlckJ1aWxkZXJHcm91cFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvYWRpbmc7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9WZWN0b3JSZW5kZXJUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQSBuZXcgdGlsZSBpbWFnZSB3YXMgcmVuZGVyZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aWxlSW1hZ2VOZWVkc1JlbmRlcl8odGlsZSkge1xuICAgIGNvbnN0IGxheWVyID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9sYXllci9WZWN0b3JUaWxlLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgIHRoaXMuZ2V0TGF5ZXIoKVxuICAgICk7XG4gICAgaWYgKGxheWVyLmdldFJlbmRlck1vZGUoKSA9PT0gJ3ZlY3RvcicpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcmVwbGF5U3RhdGUgPSB0aWxlLmdldFJlcGxheVN0YXRlKGxheWVyKTtcbiAgICBjb25zdCByZXZpc2lvbiA9IGxheWVyLmdldFJldmlzaW9uKCk7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHRpbGUud2FudGVkUmVzb2x1dGlvbjtcbiAgICByZXR1cm4gKFxuICAgICAgcmVwbGF5U3RhdGUucmVuZGVyZWRUaWxlUmVzb2x1dGlvbiAhPT0gcmVzb2x1dGlvbiB8fFxuICAgICAgcmVwbGF5U3RhdGUucmVuZGVyZWRUaWxlUmV2aXNpb24gIT09IHJldmlzaW9uXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1ZlY3RvclJlbmRlclRpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcFwiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVuZGVyVGlsZUltYWdlXyh0aWxlLCBmcmFtZVN0YXRlKSB7XG4gICAgY29uc3QgbGF5ZXIgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL2xheWVyL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgdGhpcy5nZXRMYXllcigpXG4gICAgKTtcbiAgICBjb25zdCByZXBsYXlTdGF0ZSA9IHRpbGUuZ2V0UmVwbGF5U3RhdGUobGF5ZXIpO1xuICAgIGNvbnN0IHJldmlzaW9uID0gbGF5ZXIuZ2V0UmV2aXNpb24oKTtcbiAgICBjb25zdCBleGVjdXRvckdyb3VwcyA9IHRpbGUuZXhlY3V0b3JHcm91cHNbZ2V0VWlkKGxheWVyKV07XG4gICAgcmVwbGF5U3RhdGUucmVuZGVyZWRUaWxlUmV2aXNpb24gPSByZXZpc2lvbjtcblxuICAgIGNvbnN0IHRpbGVDb29yZCA9IHRpbGUud3JhcHBlZFRpbGVDb29yZDtcbiAgICBjb25zdCB6ID0gdGlsZUNvb3JkWzBdO1xuICAgIGNvbnN0IHNvdXJjZSA9IGxheWVyLmdldFNvdXJjZSgpO1xuICAgIGxldCBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgIGNvbnN0IHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIGNvbnN0IHByb2plY3Rpb24gPSB2aWV3U3RhdGUucHJvamVjdGlvbjtcbiAgICBjb25zdCB0aWxlR3JpZCA9IHNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgY29uc3QgdGlsZVJlc29sdXRpb24gPSB0aWxlR3JpZC5nZXRSZXNvbHV0aW9uKHRpbGUudGlsZUNvb3JkWzBdKTtcbiAgICBjb25zdCByZW5kZXJQaXhlbFJhdGlvID1cbiAgICAgIChmcmFtZVN0YXRlLnBpeGVsUmF0aW8gLyB0aWxlLndhbnRlZFJlc29sdXRpb24pICogdGlsZVJlc29sdXRpb247XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oeik7XG4gICAgY29uc3QgY29udGV4dCA9IHRpbGUuZ2V0Q29udGV4dChsYXllcik7XG5cbiAgICAvLyBJbmNyZWFzZSB0aWxlIHNpemUgd2hlbiBvdmVyem9vbWluZyBmb3IgbG93IHBpeGVsIHJhdGlvLCB0byBhdm9pZCBibHVycnkgdGlsZXNcbiAgICBwaXhlbFJhdGlvID0gTWF0aC5yb3VuZChcbiAgICAgIE1hdGgubWF4KHBpeGVsUmF0aW8sIHJlbmRlclBpeGVsUmF0aW8gLyBwaXhlbFJhdGlvKVxuICAgICk7XG4gICAgY29uc3Qgc2l6ZSA9IHNvdXJjZS5nZXRUaWxlUGl4ZWxTaXplKHosIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgIGNvbnRleHQuY2FudmFzLndpZHRoID0gc2l6ZVswXTtcbiAgICBjb250ZXh0LmNhbnZhcy5oZWlnaHQgPSBzaXplWzFdO1xuICAgIGNvbnN0IHJlbmRlclNjYWxlID0gcGl4ZWxSYXRpbyAvIHJlbmRlclBpeGVsUmF0aW87XG4gICAgaWYgKHJlbmRlclNjYWxlICE9PSAxKSB7XG4gICAgICBjb25zdCBjYW52YXNUcmFuc2Zvcm0gPSByZXNldFRyYW5zZm9ybSh0aGlzLnRtcFRyYW5zZm9ybV8pO1xuICAgICAgc2NhbGVUcmFuc2Zvcm0oY2FudmFzVHJhbnNmb3JtLCByZW5kZXJTY2FsZSwgcmVuZGVyU2NhbGUpO1xuICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgY2FudmFzVHJhbnNmb3JtKTtcbiAgICB9XG4gICAgY29uc3QgdGlsZUV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQsIHRoaXMudG1wRXh0ZW50KTtcbiAgICBjb25zdCBwaXhlbFNjYWxlID0gcmVuZGVyUGl4ZWxSYXRpbyAvIHJlc29sdXRpb247XG4gICAgY29uc3QgdHJhbnNmb3JtID0gcmVzZXRUcmFuc2Zvcm0odGhpcy50bXBUcmFuc2Zvcm1fKTtcbiAgICBzY2FsZVRyYW5zZm9ybSh0cmFuc2Zvcm0sIHBpeGVsU2NhbGUsIC1waXhlbFNjYWxlKTtcbiAgICB0cmFuc2xhdGVUcmFuc2Zvcm0odHJhbnNmb3JtLCAtdGlsZUV4dGVudFswXSwgLXRpbGVFeHRlbnRbM10pO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGV4ZWN1dG9yR3JvdXBzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGNvbnN0IGV4ZWN1dG9yR3JvdXAgPSBleGVjdXRvckdyb3Vwc1tpXTtcbiAgICAgIGV4ZWN1dG9yR3JvdXAuZXhlY3V0ZShcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgcmVuZGVyU2NhbGUsXG4gICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgMCxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgSU1BR0VfUkVQTEFZU1tsYXllci5nZXRSZW5kZXJNb2RlKCldXG4gICAgICApO1xuICAgIH1cbiAgICByZXBsYXlTdGF0ZS5yZW5kZXJlZFRpbGVSZXNvbHV0aW9uID0gdGlsZS53YW50ZWRSZXNvbHV0aW9uO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2xheWVyL1ZlY3RvclRpbGVcbiAqL1xuaW1wb3J0IEJhc2VWZWN0b3JMYXllciBmcm9tICcuL0Jhc2VWZWN0b3IuanMnO1xuaW1wb3J0IENhbnZhc1ZlY3RvclRpbGVMYXllclJlbmRlcmVyIGZyb20gJy4uL3JlbmRlcmVyL2NhbnZhcy9WZWN0b3JUaWxlTGF5ZXIuanMnO1xuaW1wb3J0IFRpbGVQcm9wZXJ0eSBmcm9tICcuL1RpbGVQcm9wZXJ0eS5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5cbi8qKipcbiAqIEB0ZW1wbGF0ZSBSZXR1cm5cbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlcywgaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vQmFzZVwiKS5CYXNlTGF5ZXJPYmplY3RFdmVudFR5cGVzfFxuICogICAgIGltcG9ydChcIi4vTGF5ZXIuanNcIikuTGF5ZXJFdmVudFR5cGV8J2NoYW5nZTpwcmVsb2FkJ3wnY2hhbmdlOnVzZUludGVyaW1UaWxlc09uRXJyb3InLCBpbXBvcnQoXCIuLi9PYmplY3RcIikuT2JqZWN0RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4uL3JlbmRlci9FdmVudFR5cGVcIikuTGF5ZXJSZW5kZXJFdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9yZW5kZXIvRXZlbnRcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuQ29tYmluZWRPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLkV2ZW50VHlwZXN8aW1wb3J0KFwiLi9CYXNlXCIpLkJhc2VMYXllck9iamVjdEV2ZW50VHlwZXN8XG4gKiAgICAgaW1wb3J0KFwiLi9MYXllci5qc1wiKS5MYXllckV2ZW50VHlwZXwnY2hhbmdlOnByZWxvYWQnfCdjaGFuZ2U6dXNlSW50ZXJpbVRpbGVzT25FcnJvcid8aW1wb3J0KFwiLi4vcmVuZGVyL0V2ZW50VHlwZVwiKS5MYXllclJlbmRlckV2ZW50VHlwZXMsIFJldHVybj59IFZlY3RvclRpbGVMYXllck9uU2lnbmF0dXJlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7J2h5YnJpZCcgfCAndmVjdG9yJ30gVmVjdG9yVGlsZVJlbmRlclR5cGVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2xhc3NOYW1lPSdvbC1sYXllciddIEEgQ1NTIGNsYXNzIG5hbWUgdG8gc2V0IHRvIHRoZSBsYXllciBlbGVtZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvcGFjaXR5PTFdIE9wYWNpdHkgKDAsIDEpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbdmlzaWJsZT10cnVlXSBWaXNpYmlsaXR5LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBUaGUgYm91bmRpbmcgZXh0ZW50IGZvciBsYXllciByZW5kZXJpbmcuICBUaGUgbGF5ZXIgd2lsbCBub3QgYmVcbiAqIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhpcyBleHRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleF0gVGhlIHotaW5kZXggZm9yIGxheWVyIHJlbmRlcmluZy4gIEF0IHJlbmRlcmluZyB0aW1lLCB0aGUgbGF5ZXJzXG4gKiB3aWxsIGJlIG9yZGVyZWQsIGZpcnN0IGJ5IFotaW5kZXggYW5kIHRoZW4gYnkgcG9zaXRpb24uIFdoZW4gYHVuZGVmaW5lZGAsIGEgYHpJbmRleGAgb2YgMCBpcyBhc3N1bWVkXG4gKiBmb3IgbGF5ZXJzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtYXAncyBgbGF5ZXJzYCBjb2xsZWN0aW9uLCBvciBgSW5maW5pdHlgIHdoZW4gdGhlIGxheWVyJ3MgYHNldE1hcCgpYFxuICogbWV0aG9kIHdhcyB1c2VkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5SZXNvbHV0aW9uXSBUaGUgbWluaW11bSByZXNvbHV0aW9uIChpbmNsdXNpdmUpIGF0IHdoaWNoIHRoaXMgbGF5ZXIgd2lsbCBiZVxuICogdmlzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gVGhlIG1heGltdW0gcmVzb2x1dGlvbiAoZXhjbHVzaXZlKSBiZWxvdyB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb21dIFRoZSBtaW5pbXVtIHZpZXcgem9vbSBsZXZlbCAoZXhjbHVzaXZlKSBhYm92ZSB3aGljaCB0aGlzIGxheWVyIHdpbGwgYmVcbiAqIHZpc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb21dIFRoZSBtYXhpbXVtIHZpZXcgem9vbSBsZXZlbCAoaW5jbHVzaXZlKSBhdCB3aGljaCB0aGlzIGxheWVyIHdpbGxcbiAqIGJlIHZpc2libGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3JlbmRlci5qc1wiKS5PcmRlckZ1bmN0aW9ufSBbcmVuZGVyT3JkZXJdIFJlbmRlciBvcmRlci4gRnVuY3Rpb24gdG8gYmUgdXNlZCB3aGVuIHNvcnRpbmdcbiAqIGZlYXR1cmVzIGJlZm9yZSByZW5kZXJpbmcuIEJ5IGRlZmF1bHQgZmVhdHVyZXMgYXJlIGRyYXduIGluIHRoZSBvcmRlciB0aGF0IHRoZXkgYXJlIGNyZWF0ZWQuIFVzZVxuICogYG51bGxgIHRvIGF2b2lkIHRoZSBzb3J0LCBidXQgZ2V0IGFuIHVuZGVmaW5lZCBkcmF3IG9yZGVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZW5kZXJCdWZmZXI9MTAwXSBUaGUgYnVmZmVyIGluIHBpeGVscyBhcm91bmQgdGhlIHRpbGUgZXh0ZW50IHVzZWQgYnkgdGhlXG4gKiByZW5kZXJlciB3aGVuIGdldHRpbmcgZmVhdHVyZXMgZnJvbSB0aGUgdmVjdG9yIHRpbGUgZm9yIHRoZSByZW5kZXJpbmcgb3IgaGl0LWRldGVjdGlvbi5cbiAqIFJlY29tbWVuZGVkIHZhbHVlOiBWZWN0b3IgdGlsZXMgYXJlIHVzdWFsbHkgZ2VuZXJhdGVkIHdpdGggYSBidWZmZXIsIHNvIHRoaXMgdmFsdWUgc2hvdWxkIG1hdGNoXG4gKiB0aGUgbGFyZ2VzdCBwb3NzaWJsZSBidWZmZXIgb2YgdGhlIHVzZWQgdGlsZXMuIEl0IHNob3VsZCBiZSBhdCBsZWFzdCB0aGUgc2l6ZSBvZiB0aGUgbGFyZ2VzdFxuICogcG9pbnQgc3ltYm9sIG9yIGxpbmUgd2lkdGguXG4gKiBAcHJvcGVydHkge1ZlY3RvclRpbGVSZW5kZXJUeXBlfSBbcmVuZGVyTW9kZT0naHlicmlkJ10gUmVuZGVyIG1vZGUgZm9yIHZlY3RvciB0aWxlczpcbiAqICAqIGAnaHlicmlkJ2A6IFBvbHlnb24gYW5kIGxpbmUgZWxlbWVudHMgYXJlIHJlbmRlcmVkIGFzIGltYWdlcywgc28gcGl4ZWxzIGFyZSBzY2FsZWQgZHVyaW5nIHpvb21cbiAqICAgIGFuaW1hdGlvbnMuIFBvaW50IHN5bWJvbHMgYW5kIHRleHRzIGFyZSBhY2N1cmF0ZWx5IHJlbmRlcmVkIGFzIHZlY3RvcnMgYW5kIGNhbiBzdGF5IHVwcmlnaHQgb25cbiAqICAgIHJvdGF0ZWQgdmlld3MuXG4gKiAgKiBgJ3ZlY3RvcidgOiBFdmVyeXRoaW5nIGlzIHJlbmRlcmVkIGFzIHZlY3RvcnMuIFVzZSB0aGlzIG1vZGUgZm9yIGltcHJvdmVkIHBlcmZvcm1hbmNlIG9uIHZlY3RvclxuICogICAgdGlsZSBsYXllcnMgd2l0aCBvbmx5IGEgZmV3IHJlbmRlcmVkIGZlYXR1cmVzIChlLmcuIGZvciBoaWdobGlnaHRpbmcgYSBzdWJzZXQgb2YgZmVhdHVyZXMgb2ZcbiAqICAgIGFub3RoZXIgbGF5ZXIgd2l0aCB0aGUgc2FtZSBzb3VyY2UpLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSBbc291cmNlXSBTb3VyY2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0fSBbbWFwXSBTZXRzIHRoZSBsYXllciBhcyBvdmVybGF5IG9uIGEgbWFwLiBUaGUgbWFwIHdpbGwgbm90IG1hbmFnZVxuICogdGhpcyBsYXllciBpbiBpdHMgbGF5ZXJzIGNvbGxlY3Rpb24sIGFuZCB0aGUgbGF5ZXIgd2lsbCBiZSByZW5kZXJlZCBvbiB0b3AuIFRoaXMgaXMgdXNlZnVsIGZvclxuICogdGVtcG9yYXJ5IGxheWVycy4gVGhlIHN0YW5kYXJkIHdheSB0byBhZGQgYSBsYXllciB0byBhIG1hcCBhbmQgaGF2ZSBpdCBtYW5hZ2VkIGJ5IHRoZSBtYXAgaXMgdG9cbiAqIHVzZSBbbWFwLmFkZExheWVyKClde0BsaW5rIGltcG9ydChcIi4uL01hcC5qc1wiKS5kZWZhdWx0I2FkZExheWVyfS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RlY2x1dHRlcj1mYWxzZV0gRGVjbHV0dGVyIGltYWdlcyBhbmQgdGV4dC4gRGVjbHV0dGVyaW5nIGlzIGFwcGxpZWQgdG8gYWxsXG4gKiBpbWFnZSBhbmQgdGV4dCBzdHlsZXMgb2YgYWxsIFZlY3RvciBhbmQgVmVjdG9yVGlsZSBsYXllcnMgdGhhdCBoYXZlIHNldCB0aGlzIHRvIGB0cnVlYC4gVGhlIHByaW9yaXR5XG4gKiBpcyBkZWZpbmVkIGJ5IHRoZSB6LWluZGV4IG9mIHRoZSBsYXllciwgdGhlIGB6SW5kZXhgIG9mIHRoZSBzdHlsZSBhbmQgdGhlIHJlbmRlciBvcmRlciBvZiBmZWF0dXJlcy5cbiAqIEhpZ2hlciB6LWluZGV4IG1lYW5zIGhpZ2hlciBwcmlvcml0eS4gV2l0aGluIHRoZSBzYW1lIHotaW5kZXgsIGEgZmVhdHVyZSByZW5kZXJlZCBiZWZvcmUgYW5vdGhlciBoYXNcbiAqIGhpZ2hlciBwcmlvcml0eS5cbiAqXG4gKiBBcyBhbiBvcHRpbWl6YXRpb24gZGVjbHV0dGVyZWQgZmVhdHVyZXMgZnJvbSBsYXllcnMgd2l0aCB0aGUgc2FtZSBgY2xhc3NOYW1lYCBhcmUgcmVuZGVyZWQgYWJvdmVcbiAqIHRoZSBmaWxsIGFuZCBzdHJva2Ugc3R5bGVzIG9mIGFsbCBvZiB0aG9zZSBsYXllcnMgcmVnYXJkbGVzcyBvZiB6LWluZGV4LiAgVG8gb3B0IG91dCBvZiB0aGlzXG4gKiBiZWhhdmlvciBhbmQgcGxhY2UgZGVjbHV0dGVyZCBmZWF0dXJlcyB3aXRoIHRoZWlyIG93biBsYXllciBjb25maWd1cmUgdGhlIGxheWVyIHdpdGggYSBgY2xhc3NOYW1lYFxuICogb3RoZXIgdGhhbiBgb2wtbGF5ZXJgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zdHlsZS9TdHlsZS5qc1wiKS5TdHlsZUxpa2V8bnVsbH0gW3N0eWxlXSBMYXllciBzdHlsZS4gV2hlbiBzZXQgdG8gYG51bGxgLCBvbmx5XG4gKiBmZWF0dXJlcyB0aGF0IGhhdmUgdGhlaXIgb3duIHN0eWxlIHdpbGwgYmUgcmVuZGVyZWQuIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL1N0eWxlflN0eWxlfSBmb3IgdGhlIGRlZmF1bHQgc3R5bGVcbiAqIHdoaWNoIHdpbGwgYmUgdXNlZCBpZiB0aGlzIGlzIG5vdCBzZXQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vQmFzZS5qc1wiKS5CYWNrZ3JvdW5kQ29sb3J8ZmFsc2V9IFtiYWNrZ3JvdW5kXSBCYWNrZ3JvdW5kIGNvbG9yIGZvciB0aGUgbGF5ZXIuIElmIG5vdCBzcGVjaWZpZWQsIG5vXG4gKiBiYWNrZ3JvdW5kIHdpbGwgYmUgcmVuZGVyZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt1cGRhdGVXaGlsZUFuaW1hdGluZz1mYWxzZV0gV2hlbiBzZXQgdG8gYHRydWVgLCBmZWF0dXJlIGJhdGNoZXMgd2lsbCBiZVxuICogcmVjcmVhdGVkIGR1cmluZyBhbmltYXRpb25zLiBUaGlzIG1lYW5zIHRoYXQgbm8gdmVjdG9ycyB3aWxsIGJlIHNob3duIGNsaXBwZWQsIGJ1dCB0aGUgc2V0dGluZ1xuICogd2lsbCBoYXZlIGEgcGVyZm9ybWFuY2UgaW1wYWN0IGZvciBsYXJnZSBhbW91bnRzIG9mIHZlY3RvciBkYXRhLiBXaGVuIHNldCB0byBgZmFsc2VgLCBiYXRjaGVzXG4gKiB3aWxsIGJlIHJlY3JlYXRlZCB3aGVuIG5vIGFuaW1hdGlvbiBpcyBhY3RpdmUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt1cGRhdGVXaGlsZUludGVyYWN0aW5nPWZhbHNlXSBXaGVuIHNldCB0byBgdHJ1ZWAsIGZlYXR1cmUgYmF0Y2hlcyB3aWxsIGJlXG4gKiByZWNyZWF0ZWQgZHVyaW5nIGludGVyYWN0aW9ucy4gU2VlIGFsc28gYHVwZGF0ZVdoaWxlQW5pbWF0aW5nYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcHJlbG9hZD0wXSBQcmVsb2FkLiBMb2FkIGxvdy1yZXNvbHV0aW9uIHRpbGVzIHVwIHRvIGBwcmVsb2FkYCBsZXZlbHMuIGAwYFxuICogbWVhbnMgbm8gcHJlbG9hZGluZy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VzZUludGVyaW1UaWxlc09uRXJyb3I9dHJ1ZV0gVXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsICo+fSBbcHJvcGVydGllc10gQXJiaXRyYXJ5IG9ic2VydmFibGUgcHJvcGVydGllcy4gQ2FuIGJlIGFjY2Vzc2VkIHdpdGggYCNnZXQoKWAgYW5kIGAjc2V0KClgLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogTGF5ZXIgZm9yIHZlY3RvciB0aWxlIGRhdGEgdGhhdCBpcyByZW5kZXJlZCBjbGllbnQtc2lkZS5cbiAqIE5vdGUgdGhhdCBhbnkgcHJvcGVydHkgc2V0IGluIHRoZSBvcHRpb25zIGlzIHNldCBhcyBhIHtAbGluayBtb2R1bGU6b2wvT2JqZWN0fkJhc2VPYmplY3R9XG4gKiBwcm9wZXJ0eSBvbiB0aGUgbGF5ZXIgb2JqZWN0OyBmb3IgZXhhbXBsZSwgc2V0dGluZyBgdGl0bGU6ICdNeSBUaXRsZSdgIGluIHRoZVxuICogb3B0aW9ucyBtZWFucyB0aGF0IGB0aXRsZWAgaXMgb2JzZXJ2YWJsZSwgYW5kIGhhcyBnZXQvc2V0IGFjY2Vzc29ycy5cbiAqXG4gKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICogQGV4dGVuZHMge0Jhc2VWZWN0b3JMYXllcjxpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0LCBDYW52YXNWZWN0b3JUaWxlTGF5ZXJSZW5kZXJlcj59XG4gKiBAYXBpXG4gKi9cbmNsYXNzIFZlY3RvclRpbGVMYXllciBleHRlbmRzIEJhc2VWZWN0b3JMYXllciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gICAgY29uc3QgYmFzZU9wdGlvbnMgPSAvKiogQHR5cGUge09iamVjdH0gKi8gKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpKTtcbiAgICBkZWxldGUgYmFzZU9wdGlvbnMucHJlbG9hZDtcbiAgICBkZWxldGUgYmFzZU9wdGlvbnMudXNlSW50ZXJpbVRpbGVzT25FcnJvcjtcblxuICAgIHN1cGVyKFxuICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL0Jhc2VWZWN0b3IuanNcIikuT3B0aW9uczxpbXBvcnQoXCIuLi9zb3VyY2UvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0Pn0gKi8gKFxuICAgICAgICBiYXNlT3B0aW9uc1xuICAgICAgKVxuICAgICk7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge1ZlY3RvclRpbGVMYXllck9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge1ZlY3RvclRpbGVMYXllck9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub25jZTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7VmVjdG9yVGlsZUxheWVyT25TaWduYXR1cmU8dm9pZD59XG4gICAgICovXG4gICAgdGhpcy51bjtcblxuICAgIGNvbnN0IHJlbmRlck1vZGUgPSBvcHRpb25zLnJlbmRlck1vZGUgfHwgJ2h5YnJpZCc7XG4gICAgLy8gYHJlbmRlck1vZGVgIG11c3QgYmUgYCdoeWJyaWQnYCBvciBgJ3ZlY3RvcidgLlxuICAgIGFzc2VydChyZW5kZXJNb2RlID09ICdoeWJyaWQnIHx8IHJlbmRlck1vZGUgPT0gJ3ZlY3RvcicsIDI4KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1ZlY3RvclRpbGVSZW5kZXJUeXBlfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyTW9kZV8gPSByZW5kZXJNb2RlO1xuXG4gICAgdGhpcy5zZXRQcmVsb2FkKG9wdGlvbnMucHJlbG9hZCA/IG9wdGlvbnMucHJlbG9hZCA6IDApO1xuICAgIHRoaXMuc2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvcihcbiAgICAgIG9wdGlvbnMudXNlSW50ZXJpbVRpbGVzT25FcnJvciAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy51c2VJbnRlcmltVGlsZXNPbkVycm9yXG4gICAgICAgIDogdHJ1ZVxuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0Jhc2UuanNcIikuQmFja2dyb3VuZENvbG9yfSBCYWNrZ3JvdW5kIGNvbG9yLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmdldEJhY2tncm91bmQ7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vQmFzZS5qc1wiKS5CYWNrZ3JvdW5kQ29sb3J9IGJhY2tncm91bmQgQmFja2dyb3VuZCBjb2xvci5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5zZXRCYWNrZ3JvdW5kO1xuICB9XG5cbiAgY3JlYXRlUmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBDYW52YXNWZWN0b3JUaWxlTGF5ZXJSZW5kZXJlcih0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRvcG1vc3QgZmVhdHVyZSB0aGF0IGludGVyc2VjdHMgdGhlIGdpdmVuIHBpeGVsIG9uIHRoZSB2aWV3cG9ydC4gUmV0dXJucyBhIHByb21pc2VcbiAgICogdGhhdCByZXNvbHZlcyB3aXRoIGFuIGFycmF5IG9mIGZlYXR1cmVzLiBUaGUgYXJyYXkgd2lsbCBlaXRoZXIgY29udGFpbiB0aGUgdG9wbW9zdCBmZWF0dXJlXG4gICAqIHdoZW4gYSBoaXQgd2FzIGRldGVjdGVkLCBvciBpdCB3aWxsIGJlIGVtcHR5LlxuICAgKlxuICAgKiBUaGUgaGl0IGRldGVjdGlvbiBhbGdvcml0aG0gdXNlZCBmb3IgdGhpcyBtZXRob2QgaXMgb3B0aW1pemVkIGZvciBwZXJmb3JtYW5jZSwgYnV0IGlzIGxlc3NcbiAgICogYWNjdXJhdGUgdGhhbiB0aGUgb25lIHVzZWQgaW4gW21hcC5nZXRGZWF0dXJlc0F0UGl4ZWwoKV17QGxpbmsgaW1wb3J0KFwiLi4vTWFwLmpzXCIpLmRlZmF1bHQjZ2V0RmVhdHVyZXNBdFBpeGVsfS5cbiAgICogVGV4dCBpcyBub3QgY29uc2lkZXJlZCwgYW5kIGljb25zIGFyZSBvbmx5IHJlcHJlc2VudGVkIGJ5IHRoZWlyIGJvdW5kaW5nIGJveCBpbnN0ZWFkIG9mIHRoZSBleGFjdFxuICAgKiBpbWFnZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZVwiKS5GZWF0dXJlTGlrZT4+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhbiBhcnJheSBvZiBmZWF0dXJlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RmVhdHVyZXMocGl4ZWwpIHtcbiAgICByZXR1cm4gc3VwZXIuZ2V0RmVhdHVyZXMocGl4ZWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1ZlY3RvclRpbGVSZW5kZXJUeXBlfSBUaGUgcmVuZGVyIG1vZGUuXG4gICAqL1xuICBnZXRSZW5kZXJNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlck1vZGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbGV2ZWwgYXMgbnVtYmVyIHRvIHdoaWNoIHdlIHdpbGwgcHJlbG9hZCB0aWxlcyB1cCB0by5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbGV2ZWwgdG8gcHJlbG9hZCB0aWxlcyB1cCB0by5cbiAgICogQG9ic2VydmFibGVcbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UHJlbG9hZCgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLmdldChUaWxlUHJvcGVydHkuUFJFTE9BRCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgd2UgdXNlIGludGVyaW0gdGlsZXMgb24gZXJyb3IuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge2Jvb2xlYW59ICovIChcbiAgICAgIHRoaXMuZ2V0KFRpbGVQcm9wZXJ0eS5VU0VfSU5URVJJTV9USUxFU19PTl9FUlJPUilcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbGV2ZWwgYXMgbnVtYmVyIHRvIHdoaWNoIHdlIHdpbGwgcHJlbG9hZCB0aWxlcyB1cCB0by5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHByZWxvYWQgVGhlIGxldmVsIHRvIHByZWxvYWQgdGlsZXMgdXAgdG8uXG4gICAqIEBvYnNlcnZhYmxlXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFByZWxvYWQocHJlbG9hZCkge1xuICAgIHRoaXMuc2V0KFRpbGVQcm9wZXJ0eS5QUkVMT0FELCBwcmVsb2FkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB3ZSB1c2UgaW50ZXJpbSB0aWxlcyBvbiBlcnJvci5cbiAgICogQHBhcmFtIHtib29sZWFufSB1c2VJbnRlcmltVGlsZXNPbkVycm9yIFVzZSBpbnRlcmltIHRpbGVzIG9uIGVycm9yLlxuICAgKiBAb2JzZXJ2YWJsZVxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKHVzZUludGVyaW1UaWxlc09uRXJyb3IpIHtcbiAgICB0aGlzLnNldChUaWxlUHJvcGVydHkuVVNFX0lOVEVSSU1fVElMRVNfT05fRVJST1IsIHVzZUludGVyaW1UaWxlc09uRXJyb3IpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZlY3RvclRpbGVMYXllcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9tYXRoXG4gKi9cblxuLyoqXG4gKiBUYWtlcyBhIG51bWJlciBhbmQgY2xhbXBzIGl0IHRvIHdpdGhpbiB0aGUgcHJvdmlkZWQgYm91bmRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBpbnB1dCBudW1iZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBtaW5pbXVtIHZhbHVlIHRvIHJldHVybi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggVGhlIG1heGltdW0gdmFsdWUgdG8gcmV0dXJuLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5wdXQgbnVtYmVyIGlmIGl0IGlzIHdpdGhpbiBib3VuZHMsIG9yIHRoZSBuZWFyZXN0XG4gKiAgICAgbnVtYmVyIHdpdGhpbiB0aGUgYm91bmRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbWluKSwgbWF4KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzcXVhcmUgb2YgdGhlIGNsb3Nlc3QgZGlzdGFuY2UgYmV0d2VlbiB0aGUgcG9pbnQgKHgsIHkpIGFuZCB0aGVcbiAqIGxpbmUgc2VnbWVudCAoeDEsIHkxKSB0byAoeDIsIHkyKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFguXG4gKiBAcGFyYW0ge251bWJlcn0geSBZLlxuICogQHBhcmFtIHtudW1iZXJ9IHgxIFgxLlxuICogQHBhcmFtIHtudW1iZXJ9IHkxIFkxLlxuICogQHBhcmFtIHtudW1iZXJ9IHgyIFgyLlxuICogQHBhcmFtIHtudW1iZXJ9IHkyIFkyLlxuICogQHJldHVybiB7bnVtYmVyfSBTcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZFNlZ21lbnREaXN0YW5jZSh4LCB5LCB4MSwgeTEsIHgyLCB5Mikge1xuICBjb25zdCBkeCA9IHgyIC0geDE7XG4gIGNvbnN0IGR5ID0geTIgLSB5MTtcbiAgaWYgKGR4ICE9PSAwIHx8IGR5ICE9PSAwKSB7XG4gICAgY29uc3QgdCA9ICgoeCAtIHgxKSAqIGR4ICsgKHkgLSB5MSkgKiBkeSkgLyAoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIGlmICh0ID4gMSkge1xuICAgICAgeDEgPSB4MjtcbiAgICAgIHkxID0geTI7XG4gICAgfSBlbHNlIGlmICh0ID4gMCkge1xuICAgICAgeDEgKz0gZHggKiB0O1xuICAgICAgeTEgKz0gZHkgKiB0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3F1YXJlZERpc3RhbmNlKHgsIHksIHgxLCB5MSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgc3F1YXJlIG9mIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBwb2ludHMgKHgxLCB5MSkgYW5kICh4MiwgeTIpLlxuICogQHBhcmFtIHtudW1iZXJ9IHgxIFgxLlxuICogQHBhcmFtIHtudW1iZXJ9IHkxIFkxLlxuICogQHBhcmFtIHtudW1iZXJ9IHgyIFgyLlxuICogQHBhcmFtIHtudW1iZXJ9IHkyIFkyLlxuICogQHJldHVybiB7bnVtYmVyfSBTcXVhcmVkIGRpc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKHgxLCB5MSwgeDIsIHkyKSB7XG4gIGNvbnN0IGR4ID0geDIgLSB4MTtcbiAgY29uc3QgZHkgPSB5MiAtIHkxO1xuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59XG5cbi8qKlxuICogU29sdmVzIHN5c3RlbSBvZiBsaW5lYXIgZXF1YXRpb25zIHVzaW5nIEdhdXNzaWFuIGVsaW1pbmF0aW9uIG1ldGhvZC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBtYXQgQXVnbWVudGVkIG1hdHJpeCAobiB4IG4gKyAxIGNvbHVtbilcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHJvdy1tYWpvciBvcmRlci5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRoZSByZXN1bHRpbmcgdmVjdG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc29sdmVMaW5lYXJTeXN0ZW0obWF0KSB7XG4gIGNvbnN0IG4gPSBtYXQubGVuZ3RoO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgLy8gRmluZCBtYXggaW4gdGhlIGktdGggY29sdW1uIChpZ25vcmluZyBpIC0gMSBmaXJzdCByb3dzKVxuICAgIGxldCBtYXhSb3cgPSBpO1xuICAgIGxldCBtYXhFbCA9IE1hdGguYWJzKG1hdFtpXVtpXSk7XG4gICAgZm9yIChsZXQgciA9IGkgKyAxOyByIDwgbjsgcisrKSB7XG4gICAgICBjb25zdCBhYnNWYWx1ZSA9IE1hdGguYWJzKG1hdFtyXVtpXSk7XG4gICAgICBpZiAoYWJzVmFsdWUgPiBtYXhFbCkge1xuICAgICAgICBtYXhFbCA9IGFic1ZhbHVlO1xuICAgICAgICBtYXhSb3cgPSByO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXhFbCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7IC8vIG1hdHJpeCBpcyBzaW5ndWxhclxuICAgIH1cblxuICAgIC8vIFN3YXAgbWF4IHJvdyB3aXRoIGktdGggKGN1cnJlbnQpIHJvd1xuICAgIGNvbnN0IHRtcCA9IG1hdFttYXhSb3ddO1xuICAgIG1hdFttYXhSb3ddID0gbWF0W2ldO1xuICAgIG1hdFtpXSA9IHRtcDtcblxuICAgIC8vIFN1YnRyYWN0IHRoZSBpLXRoIHJvdyB0byBtYWtlIGFsbCB0aGUgcmVtYWluaW5nIHJvd3MgMCBpbiB0aGUgaS10aCBjb2x1bW5cbiAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBuOyBqKyspIHtcbiAgICAgIGNvbnN0IGNvZWYgPSAtbWF0W2pdW2ldIC8gbWF0W2ldW2ldO1xuICAgICAgZm9yIChsZXQgayA9IGk7IGsgPCBuICsgMTsgaysrKSB7XG4gICAgICAgIGlmIChpID09IGspIHtcbiAgICAgICAgICBtYXRbal1ba10gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hdFtqXVtrXSArPSBjb2VmICogbWF0W2ldW2tdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gU29sdmUgQXg9YiBmb3IgdXBwZXIgdHJpYW5ndWxhciBtYXRyaXggQSAobWF0KVxuICBjb25zdCB4ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKGxldCBsID0gbiAtIDE7IGwgPj0gMDsgbC0tKSB7XG4gICAgeFtsXSA9IG1hdFtsXVtuXSAvIG1hdFtsXVtsXTtcbiAgICBmb3IgKGxldCBtID0gbCAtIDE7IG0gPj0gMDsgbS0tKSB7XG4gICAgICBtYXRbbV1bbl0gLT0gbWF0W21dW2xdICogeFtsXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHg7XG59XG5cbi8qKlxuICogQ29udmVydHMgcmFkaWFucyB0byB0byBkZWdyZWVzLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZUluUmFkaWFucyBBbmdsZSBpbiByYWRpYW5zLlxuICogQHJldHVybiB7bnVtYmVyfSBBbmdsZSBpbiBkZWdyZWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9EZWdyZWVzKGFuZ2xlSW5SYWRpYW5zKSB7XG4gIHJldHVybiAoYW5nbGVJblJhZGlhbnMgKiAxODApIC8gTWF0aC5QSTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBkZWdyZWVzIHRvIHJhZGlhbnMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlSW5EZWdyZWVzIEFuZ2xlIGluIGRlZ3JlZXMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEFuZ2xlIGluIHJhZGlhbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1JhZGlhbnMoYW5nbGVJbkRlZ3JlZXMpIHtcbiAgcmV0dXJuIChhbmdsZUluRGVncmVlcyAqIE1hdGguUEkpIC8gMTgwO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIG1vZHVsbyBvZiBhIC8gYiwgZGVwZW5kaW5nIG9uIHRoZSBzaWduIG9mIGIuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGEgRGl2aWRlbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gYiBEaXZpc29yLlxuICogQHJldHVybiB7bnVtYmVyfSBNb2R1bG8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb2R1bG8oYSwgYikge1xuICBjb25zdCByID0gYSAlIGI7XG4gIHJldHVybiByICogYiA8IDAgPyByICsgYiA6IHI7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGluZWFybHkgaW50ZXJwb2xhdGVkIHZhbHVlIG9mIHggYmV0d2VlbiBhIGFuZCBiLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBhIE51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IGIgTnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0geCBWYWx1ZSB0byBiZSBpbnRlcnBvbGF0ZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEludGVycG9sYXRlZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoYSwgYiwgeCkge1xuICByZXR1cm4gYSArIHggKiAoYiAtIGEpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBudW1iZXIgd2l0aCBhIGxpbWl0ZWQgbnVtYmVyIG9mIGRlY2ltYWwgZGlnaXRzLlxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGlucHV0IG51bWJlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWNpbWFscyBUaGUgbWF4aW11bSBudW1iZXIgb2YgZGVjaW1hbCBkaWdpdHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbnB1dCBudW1iZXIgd2l0aCBhIGxpbWl0ZWQgbnVtYmVyIG9mIGRlY2ltYWwgZGlnaXRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9GaXhlZChuLCBkZWNpbWFscykge1xuICBjb25zdCBmYWN0b3IgPSBNYXRoLnBvdygxMCwgZGVjaW1hbHMpO1xuICByZXR1cm4gTWF0aC5yb3VuZChuICogZmFjdG9yKSAvIGZhY3Rvcjtcbn1cblxuLyoqXG4gKiBSb3VuZHMgYSBudW1iZXIgdG8gdGhlIG5lYXJlc3QgaW50ZWdlciB2YWx1ZSBjb25zaWRlcmluZyBvbmx5IHRoZSBnaXZlbiBudW1iZXJcbiAqIG9mIGRlY2ltYWwgZGlnaXRzICh3aXRoIHJvdW5kaW5nIG9uIHRoZSBmaW5hbCBkaWdpdCkuXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgaW5wdXQgbnVtYmVyLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlY2ltYWxzIFRoZSBtYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIGRpZ2l0cy5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG5lYXJlc3QgaW50ZWdlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG4sIGRlY2ltYWxzKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKHRvRml4ZWQobiwgZGVjaW1hbHMpKTtcbn1cblxuLyoqXG4gKiBSb3VuZHMgYSBudW1iZXIgdG8gdGhlIG5leHQgc21hbGxlciBpbnRlZ2VyIGNvbnNpZGVyaW5nIG9ubHkgdGhlIGdpdmVuIG51bWJlclxuICogb2YgZGVjaW1hbCBkaWdpdHMgKHdpdGggcm91bmRpbmcgb24gdGhlIGZpbmFsIGRpZ2l0KS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBpbnB1dCBudW1iZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVjaW1hbHMgVGhlIG1heGltdW0gbnVtYmVyIG9mIGRlY2ltYWwgZGlnaXRzLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbmV4dCBzbWFsbGVyIGludGVnZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbG9vcihuLCBkZWNpbWFscykge1xuICByZXR1cm4gTWF0aC5mbG9vcih0b0ZpeGVkKG4sIGRlY2ltYWxzKSk7XG59XG5cbi8qKlxuICogUm91bmRzIGEgbnVtYmVyIHRvIHRoZSBuZXh0IGJpZ2dlciBpbnRlZ2VyIGNvbnNpZGVyaW5nIG9ubHkgdGhlIGdpdmVuIG51bWJlclxuICogb2YgZGVjaW1hbCBkaWdpdHMgKHdpdGggcm91bmRpbmcgb24gdGhlIGZpbmFsIGRpZ2l0KS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBpbnB1dCBudW1iZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVjaW1hbHMgVGhlIG1heGltdW0gbnVtYmVyIG9mIGRlY2ltYWwgZGlnaXRzLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbmV4dCBiaWdnZXIgaW50ZWdlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNlaWwobiwgZGVjaW1hbHMpIHtcbiAgcmV0dXJuIE1hdGguY2VpbCh0b0ZpeGVkKG4sIGRlY2ltYWxzKSk7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvb2JqXG4gKi9cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBwcm9wZXJ0aWVzIGZyb20gYW4gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsZWFyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIob2JqZWN0KSB7XG4gIGZvciAoY29uc3QgcHJvcGVydHkgaW4gb2JqZWN0KSB7XG4gICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XG4gIH1cbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGhhcyBhbnkgcHJvcGVydGllcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBvYmplY3QgaXMgZW1wdHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KG9iamVjdCkge1xuICBsZXQgcHJvcGVydHk7XG4gIGZvciAocHJvcGVydHkgaW4gb2JqZWN0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAhcHJvcGVydHk7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcHJvai9lcHNnMzg1N1xuICovXG5pbXBvcnQgUHJvamVjdGlvbiBmcm9tICcuL1Byb2plY3Rpb24uanMnO1xuXG4vKipcbiAqIFJhZGl1cyBvZiBXR1M4NCBzcGhlcmVcbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBSQURJVVMgPSA2Mzc4MTM3O1xuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IEhBTEZfU0laRSA9IE1hdGguUEkgKiBSQURJVVM7XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAqL1xuZXhwb3J0IGNvbnN0IEVYVEVOVCA9IFstSEFMRl9TSVpFLCAtSEFMRl9TSVpFLCBIQUxGX1NJWkUsIEhBTEZfU0laRV07XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAqL1xuZXhwb3J0IGNvbnN0IFdPUkxEX0VYVEVOVCA9IFstMTgwLCAtODUsIDE4MCwgODVdO1xuXG4vKipcbiAqIE1heGltdW0gc2FmZSB2YWx1ZSBpbiB5IGRpcmVjdGlvblxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgTUFYX1NBRkVfWSA9IFJBRElVUyAqIE1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkgLyAyKSk7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogUHJvamVjdGlvbiBvYmplY3QgZm9yIHdlYi9zcGhlcmljYWwgTWVyY2F0b3IgKEVQU0c6Mzg1NykuXG4gKi9cbmNsYXNzIEVQU0czODU3UHJvamVjdGlvbiBleHRlbmRzIFByb2plY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgQ29kZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvZGUpIHtcbiAgICBzdXBlcih7XG4gICAgICBjb2RlOiBjb2RlLFxuICAgICAgdW5pdHM6ICdtJyxcbiAgICAgIGV4dGVudDogRVhURU5ULFxuICAgICAgZ2xvYmFsOiB0cnVlLFxuICAgICAgd29ybGRFeHRlbnQ6IFdPUkxEX0VYVEVOVCxcbiAgICAgIGdldFBvaW50UmVzb2x1dGlvbjogZnVuY3Rpb24gKHJlc29sdXRpb24sIHBvaW50KSB7XG4gICAgICAgIHJldHVybiByZXNvbHV0aW9uIC8gTWF0aC5jb3NoKHBvaW50WzFdIC8gUkFESVVTKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBQcm9qZWN0aW9ucyBlcXVhbCB0byBFUFNHOjM4NTcuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQ+fVxuICovXG5leHBvcnQgY29uc3QgUFJPSkVDVElPTlMgPSBbXG4gIG5ldyBFUFNHMzg1N1Byb2plY3Rpb24oJ0VQU0c6Mzg1NycpLFxuICBuZXcgRVBTRzM4NTdQcm9qZWN0aW9uKCdFUFNHOjEwMjEwMCcpLFxuICBuZXcgRVBTRzM4NTdQcm9qZWN0aW9uKCdFUFNHOjEwMjExMycpLFxuICBuZXcgRVBTRzM4NTdQcm9qZWN0aW9uKCdFUFNHOjkwMDkxMycpLFxuICBuZXcgRVBTRzM4NTdQcm9qZWN0aW9uKCdodHRwOi8vd3d3Lm9wZW5naXMubmV0L2RlZi9jcnMvRVBTRy8wLzM4NTcnKSxcbiAgbmV3IEVQU0czODU3UHJvamVjdGlvbignaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzM4NTcnKSxcbl07XG5cbi8qKlxuICogVHJhbnNmb3JtYXRpb24gZnJvbSBFUFNHOjQzMjYgdG8gRVBTRzozODU3LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5wdXQgSW5wdXQgYXJyYXkgb2YgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvdXRwdXRdIE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGltZW5zaW9uXSBEaW1lbnNpb24gKGRlZmF1bHQgaXMgYDJgKS5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FUFNHNDMyNihpbnB1dCwgb3V0cHV0LCBkaW1lbnNpb24pIHtcbiAgY29uc3QgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICBkaW1lbnNpb24gPSBkaW1lbnNpb24gPiAxID8gZGltZW5zaW9uIDogMjtcbiAgaWYgKG91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGRpbWVuc2lvbiA+IDIpIHtcbiAgICAgIC8vIHByZXNlcnZlIHZhbHVlcyBiZXlvbmQgc2Vjb25kIGRpbWVuc2lvblxuICAgICAgb3V0cHV0ID0gaW5wdXQuc2xpY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0ID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IGRpbWVuc2lvbikge1xuICAgIG91dHB1dFtpXSA9IChIQUxGX1NJWkUgKiBpbnB1dFtpXSkgLyAxODA7XG4gICAgbGV0IHkgPSBSQURJVVMgKiBNYXRoLmxvZyhNYXRoLnRhbigoTWF0aC5QSSAqICgraW5wdXRbaSArIDFdICsgOTApKSAvIDM2MCkpO1xuICAgIGlmICh5ID4gTUFYX1NBRkVfWSkge1xuICAgICAgeSA9IE1BWF9TQUZFX1k7XG4gICAgfSBlbHNlIGlmICh5IDwgLU1BWF9TQUZFX1kpIHtcbiAgICAgIHkgPSAtTUFYX1NBRkVfWTtcbiAgICB9XG4gICAgb3V0cHV0W2kgKyAxXSA9IHk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1hdGlvbiBmcm9tIEVQU0c6Mzg1NyB0byBFUFNHOjQzMjYuXG4gKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBpbnB1dCBJbnB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW291dHB1dF0gT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtkaW1lbnNpb25dIERpbWVuc2lvbiAoZGVmYXVsdCBpcyBgMmApLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gT3V0cHV0IGFycmF5IG9mIGNvb3JkaW5hdGUgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9FUFNHNDMyNihpbnB1dCwgb3V0cHV0LCBkaW1lbnNpb24pIHtcbiAgY29uc3QgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICBkaW1lbnNpb24gPSBkaW1lbnNpb24gPiAxID8gZGltZW5zaW9uIDogMjtcbiAgaWYgKG91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGRpbWVuc2lvbiA+IDIpIHtcbiAgICAgIC8vIHByZXNlcnZlIHZhbHVlcyBiZXlvbmQgc2Vjb25kIGRpbWVuc2lvblxuICAgICAgb3V0cHV0ID0gaW5wdXQuc2xpY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0ID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IGRpbWVuc2lvbikge1xuICAgIG91dHB1dFtpXSA9ICgxODAgKiBpbnB1dFtpXSkgLyBIQUxGX1NJWkU7XG4gICAgb3V0cHV0W2kgKyAxXSA9XG4gICAgICAoMzYwICogTWF0aC5hdGFuKE1hdGguZXhwKGlucHV0W2kgKyAxXSAvIFJBRElVUykpKSAvIE1hdGguUEkgLSA5MDtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2ovZXBzZzQzMjZcbiAqL1xuaW1wb3J0IFByb2plY3Rpb24gZnJvbSAnLi9Qcm9qZWN0aW9uLmpzJztcblxuLyoqXG4gKiBTZW1pLW1ham9yIHJhZGl1cyBvZiB0aGUgV0dTODQgZWxsaXBzb2lkLlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IFJBRElVUyA9IDYzNzgxMzc7XG5cbi8qKlxuICogRXh0ZW50IG9mIHRoZSBFUFNHOjQzMjYgcHJvamVjdGlvbiB3aGljaCBpcyB0aGUgd2hvbGUgd29ybGQuXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAqL1xuZXhwb3J0IGNvbnN0IEVYVEVOVCA9IFstMTgwLCAtOTAsIDE4MCwgOTBdO1xuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IE1FVEVSU19QRVJfVU5JVCA9IChNYXRoLlBJICogUkFESVVTKSAvIDE4MDtcblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBQcm9qZWN0aW9uIG9iamVjdCBmb3IgV0dTODQgZ2VvZ3JhcGhpYyBjb29yZGluYXRlcyAoRVBTRzo0MzI2KS5cbiAqXG4gKiBOb3RlIHRoYXQgT3BlbkxheWVycyBkb2VzIG5vdCBzdHJpY3RseSBjb21wbHkgd2l0aCB0aGUgRVBTRyBkZWZpbml0aW9uLlxuICogVGhlIEVQU0cgcmVnaXN0cnkgZGVmaW5lcyA0MzI2IGFzIGEgQ1JTIGZvciBMYXRpdHVkZSxMb25naXR1ZGUgKHkseCkuXG4gKiBPcGVuTGF5ZXJzIHRyZWF0cyBFUFNHOjQzMjYgYXMgYSBwc2V1ZG8tcHJvamVjdGlvbiwgd2l0aCB4LHkgY29vcmRpbmF0ZXMuXG4gKi9cbmNsYXNzIEVQU0c0MzI2UHJvamVjdGlvbiBleHRlbmRzIFByb2plY3Rpb24ge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgQ29kZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtheGlzT3JpZW50YXRpb25dIEF4aXMgb3JpZW50YXRpb24uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb2RlLCBheGlzT3JpZW50YXRpb24pIHtcbiAgICBzdXBlcih7XG4gICAgICBjb2RlOiBjb2RlLFxuICAgICAgdW5pdHM6ICdkZWdyZWVzJyxcbiAgICAgIGV4dGVudDogRVhURU5ULFxuICAgICAgYXhpc09yaWVudGF0aW9uOiBheGlzT3JpZW50YXRpb24sXG4gICAgICBnbG9iYWw6IHRydWUsXG4gICAgICBtZXRlcnNQZXJVbml0OiBNRVRFUlNfUEVSX1VOSVQsXG4gICAgICB3b3JsZEV4dGVudDogRVhURU5ULFxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogUHJvamVjdGlvbnMgZXF1YWwgdG8gRVBTRzo0MzI2LlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge0FycmF5PGltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0Pn1cbiAqL1xuZXhwb3J0IGNvbnN0IFBST0pFQ1RJT05TID0gW1xuICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCdDUlM6ODQnKSxcbiAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbignRVBTRzo0MzI2JywgJ25ldScpLFxuICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCd1cm46b2djOmRlZjpjcnM6T0dDOjEuMzpDUlM4NCcpLFxuICBuZXcgRVBTRzQzMjZQcm9qZWN0aW9uKCd1cm46b2djOmRlZjpjcnM6T0dDOjI6ODQnKSxcbiAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbignaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9kZWYvY3JzL09HQy8xLjMvQ1JTODQnKSxcbiAgbmV3IEVQU0c0MzI2UHJvamVjdGlvbignaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzQzMjYnLCAnbmV1JyksXG4gIG5ldyBFUFNHNDMyNlByb2plY3Rpb24oJ2h0dHA6Ly93d3cub3Blbmdpcy5uZXQvZGVmL2Nycy9FUFNHLzAvNDMyNicsICduZXUnKSxcbl07XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcHJvai9wcm9qZWN0aW9uc1xuICovXG5cbi8qKlxuICogQHR5cGUge09iamVjdDxzdHJpbmcsIGltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0Pn1cbiAqL1xubGV0IGNhY2hlID0ge307XG5cbi8qKlxuICogQ2xlYXIgdGhlIHByb2plY3Rpb25zIGNhY2hlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIoKSB7XG4gIGNhY2hlID0ge307XG59XG5cbi8qKlxuICogR2V0IGEgY2FjaGVkIHByb2plY3Rpb24gYnkgY29kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlIFRoZSBjb2RlIGZvciB0aGUgcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBUaGUgcHJvamVjdGlvbiAoaWYgY2FjaGVkKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChjb2RlKSB7XG4gIHJldHVybiAoXG4gICAgY2FjaGVbY29kZV0gfHxcbiAgICBjYWNoZVtjb2RlLnJlcGxhY2UoL3VybjooeC0pP29nYzpkZWY6Y3JzOkVQU0c6KC4qOik/KFxcdyspJC8sICdFUFNHOiQzJyldIHx8XG4gICAgbnVsbFxuICApO1xufVxuXG4vKipcbiAqIEFkZCBhIHByb2plY3Rpb24gdG8gdGhlIGNhY2hlLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgVGhlIHByb2plY3Rpb24gY29kZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gVGhlIHByb2plY3Rpb24gdG8gY2FjaGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoY29kZSwgcHJvamVjdGlvbikge1xuICBjYWNoZVtjb2RlXSA9IHByb2plY3Rpb247XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcHJvai90cmFuc2Zvcm1zXG4gKi9cbmltcG9ydCB7aXNFbXB0eX0gZnJvbSAnLi4vb2JqLmpzJztcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9uPj59XG4gKi9cbmxldCB0cmFuc2Zvcm1zID0ge307XG5cbi8qKlxuICogQ2xlYXIgdGhlIHRyYW5zZm9ybSBjYWNoZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyKCkge1xuICB0cmFuc2Zvcm1zID0ge307XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgY29udmVyc2lvbiBmdW5jdGlvbiB0byBjb252ZXJ0IGNvb3JkaW5hdGVzIGZyb20gdGhlIHNvdXJjZVxuICogcHJvamVjdGlvbiB0byB0aGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2UgU291cmNlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gZGVzdGluYXRpb24gRGVzdGluYXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IHRyYW5zZm9ybUZuIFRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChzb3VyY2UsIGRlc3RpbmF0aW9uLCB0cmFuc2Zvcm1Gbikge1xuICBjb25zdCBzb3VyY2VDb2RlID0gc291cmNlLmdldENvZGUoKTtcbiAgY29uc3QgZGVzdGluYXRpb25Db2RlID0gZGVzdGluYXRpb24uZ2V0Q29kZSgpO1xuICBpZiAoIShzb3VyY2VDb2RlIGluIHRyYW5zZm9ybXMpKSB7XG4gICAgdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXSA9IHt9O1xuICB9XG4gIHRyYW5zZm9ybXNbc291cmNlQ29kZV1bZGVzdGluYXRpb25Db2RlXSA9IHRyYW5zZm9ybUZuO1xufVxuXG4vKipcbiAqIFVucmVnaXN0ZXJzIHRoZSBjb252ZXJzaW9uIGZ1bmN0aW9uIHRvIGNvbnZlcnQgY29vcmRpbmF0ZXMgZnJvbSB0aGUgc291cmNlXG4gKiBwcm9qZWN0aW9uIHRvIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLiAgVGhpcyBtZXRob2QgaXMgdXNlZCB0byBjbGVhbiB1cFxuICogY2FjaGVkIHRyYW5zZm9ybXMgZHVyaW5nIHRlc3RpbmcuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb259IHRyYW5zZm9ybUZuIFRoZSB1bnJlZ2lzdGVyZWQgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgY29uc3Qgc291cmNlQ29kZSA9IHNvdXJjZS5nZXRDb2RlKCk7XG4gIGNvbnN0IGRlc3RpbmF0aW9uQ29kZSA9IGRlc3RpbmF0aW9uLmdldENvZGUoKTtcbiAgY29uc3QgdHJhbnNmb3JtID0gdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXVtkZXN0aW5hdGlvbkNvZGVdO1xuICBkZWxldGUgdHJhbnNmb3Jtc1tzb3VyY2VDb2RlXVtkZXN0aW5hdGlvbkNvZGVdO1xuICBpZiAoaXNFbXB0eSh0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdKSkge1xuICAgIGRlbGV0ZSB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdO1xuICB9XG4gIHJldHVybiB0cmFuc2Zvcm07XG59XG5cbi8qKlxuICogR2V0IGEgdHJhbnNmb3JtIGdpdmVuIGEgc291cmNlIGNvZGUgYW5kIGEgZGVzdGluYXRpb24gY29kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VDb2RlIFRoZSBjb2RlIGZvciB0aGUgc291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gZGVzdGluYXRpb25Db2RlIFRoZSBjb2RlIGZvciB0aGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3Byb2ouanNcIikuVHJhbnNmb3JtRnVuY3Rpb258dW5kZWZpbmVkfSBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIChpZiBmb3VuZCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQoc291cmNlQ29kZSwgZGVzdGluYXRpb25Db2RlKSB7XG4gIGxldCB0cmFuc2Zvcm07XG4gIGlmIChzb3VyY2VDb2RlIGluIHRyYW5zZm9ybXMgJiYgZGVzdGluYXRpb25Db2RlIGluIHRyYW5zZm9ybXNbc291cmNlQ29kZV0pIHtcbiAgICB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm1zW3NvdXJjZUNvZGVdW2Rlc3RpbmF0aW9uQ29kZV07XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zcGhlcmVcbiAqL1xuaW1wb3J0IHt0b0RlZ3JlZXMsIHRvUmFkaWFuc30gZnJvbSAnLi9tYXRoLmpzJztcblxuLyoqXG4gKiBPYmplY3QgbGl0ZXJhbCB3aXRoIG9wdGlvbnMgZm9yIHRoZSB7QGxpbmsgZ2V0TGVuZ3RofSBvciB7QGxpbmsgZ2V0QXJlYX1cbiAqIGZ1bmN0aW9ucy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNwaGVyZU1ldHJpY09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbj0nRVBTRzozODU3J11cbiAqIFByb2plY3Rpb24gb2YgdGhlICBnZW9tZXRyeS4gIEJ5IGRlZmF1bHQsIHRoZSBnZW9tZXRyeSBpcyBhc3N1bWVkIHRvIGJlIGluXG4gKiBXZWIgTWVyY2F0b3IuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JhZGl1cz02MzcxMDA4LjhdIFNwaGVyZSByYWRpdXMuICBCeSBkZWZhdWx0LCB0aGVcbiAqIFttZWFuIEVhcnRoIHJhZGl1c10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRWFydGhfcmFkaXVzI01lYW5fcmFkaXVzKVxuICogZm9yIHRoZSBXR1M4NCBlbGxpcHNvaWQgaXMgdXNlZC5cbiAqL1xuXG4vKipcbiAqIFRoZSBtZWFuIEVhcnRoIHJhZGl1cyAoMS8zICogKDJhICsgYikpIGZvciB0aGUgV0dTODQgZWxsaXBzb2lkLlxuICogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRWFydGhfcmFkaXVzI01lYW5fcmFkaXVzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9SQURJVVMgPSA2MzcxMDA4Ljg7XG5cbi8qKlxuICogR2V0IHRoZSBncmVhdCBjaXJjbGUgZGlzdGFuY2UgKGluIG1ldGVycykgYmV0d2VlbiB0d28gZ2VvZ3JhcGhpYyBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7QXJyYXl9IGMxIFN0YXJ0aW5nIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge0FycmF5fSBjMiBFbmRpbmcgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXVzXSBUaGUgc3BoZXJlIHJhZGl1cyB0byB1c2UuICBEZWZhdWx0cyB0byB0aGUgRWFydGgnc1xuICogICAgIG1lYW4gcmFkaXVzIHVzaW5nIHRoZSBXR1M4NCBlbGxpcHNvaWQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBncmVhdCBjaXJjbGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgcG9pbnRzIChpbiBtZXRlcnMpLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFuY2UoYzEsIGMyLCByYWRpdXMpIHtcbiAgcmFkaXVzID0gcmFkaXVzIHx8IERFRkFVTFRfUkFESVVTO1xuICBjb25zdCBsYXQxID0gdG9SYWRpYW5zKGMxWzFdKTtcbiAgY29uc3QgbGF0MiA9IHRvUmFkaWFucyhjMlsxXSk7XG4gIGNvbnN0IGRlbHRhTGF0QnkyID0gKGxhdDIgLSBsYXQxKSAvIDI7XG4gIGNvbnN0IGRlbHRhTG9uQnkyID0gdG9SYWRpYW5zKGMyWzBdIC0gYzFbMF0pIC8gMjtcbiAgY29uc3QgYSA9XG4gICAgTWF0aC5zaW4oZGVsdGFMYXRCeTIpICogTWF0aC5zaW4oZGVsdGFMYXRCeTIpICtcbiAgICBNYXRoLnNpbihkZWx0YUxvbkJ5MikgKlxuICAgICAgTWF0aC5zaW4oZGVsdGFMb25CeTIpICpcbiAgICAgIE1hdGguY29zKGxhdDEpICpcbiAgICAgIE1hdGguY29zKGxhdDIpO1xuICByZXR1cm4gMiAqIHJhZGl1cyAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGN1bXVsYXRpdmUgZ3JlYXQgY2lyY2xlIGxlbmd0aCBvZiBsaW5lc3RyaW5nIGNvb3JkaW5hdGVzIChnZW9ncmFwaGljKS5cbiAqIEBwYXJhbSB7QXJyYXl9IGNvb3JkaW5hdGVzIExpbmVzdHJpbmcgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFRoZSBzcGhlcmUgcmFkaXVzIHRvIHVzZS5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGxlbmd0aCAoaW4gbWV0ZXJzKS5cbiAqL1xuZnVuY3Rpb24gZ2V0TGVuZ3RoSW50ZXJuYWwoY29vcmRpbmF0ZXMsIHJhZGl1cykge1xuICBsZXQgbGVuZ3RoID0gMDtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWkgLSAxOyArK2kpIHtcbiAgICBsZW5ndGggKz0gZ2V0RGlzdGFuY2UoY29vcmRpbmF0ZXNbaV0sIGNvb3JkaW5hdGVzW2kgKyAxXSwgcmFkaXVzKTtcbiAgfVxuICByZXR1cm4gbGVuZ3RoO1xufVxuXG4vKipcbiAqIEdldCB0aGUgc3BoZXJpY2FsIGxlbmd0aCBvZiBhIGdlb21ldHJ5LiAgVGhpcyBsZW5ndGggaXMgdGhlIHN1bSBvZiB0aGVcbiAqIGdyZWF0IGNpcmNsZSBkaXN0YW5jZXMgYmV0d2VlbiBjb29yZGluYXRlcy4gIEZvciBwb2x5Z29ucywgdGhlIGxlbmd0aCBpc1xuICogdGhlIHN1bSBvZiBhbGwgcmluZ3MuICBGb3IgcG9pbnRzLCB0aGUgbGVuZ3RoIGlzIHplcm8uICBGb3IgbXVsdGktcGFydFxuICogZ2VvbWV0cmllcywgdGhlIGxlbmd0aCBpcyB0aGUgc3VtIG9mIHRoZSBsZW5ndGggb2YgZWFjaCBwYXJ0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gZ2VvbWV0cnkgQSBnZW9tZXRyeS5cbiAqIEBwYXJhbSB7U3BoZXJlTWV0cmljT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMgZm9yIHRoZVxuICogbGVuZ3RoIGNhbGN1bGF0aW9uLiAgQnkgZGVmYXVsdCwgZ2VvbWV0cmllcyBhcmUgYXNzdW1lZCB0byBiZSBpbiAnRVBTRzozODU3Jy5cbiAqIFlvdSBjYW4gY2hhbmdlIHRoaXMgYnkgcHJvdmlkaW5nIGEgYHByb2plY3Rpb25gIG9wdGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHNwaGVyaWNhbCBsZW5ndGggKGluIG1ldGVycykuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMZW5ndGgoZ2VvbWV0cnksIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IHJhZGl1cyA9IG9wdGlvbnMucmFkaXVzIHx8IERFRkFVTFRfUkFESVVTO1xuICBjb25zdCBwcm9qZWN0aW9uID0gb3B0aW9ucy5wcm9qZWN0aW9uIHx8ICdFUFNHOjM4NTcnO1xuICBjb25zdCB0eXBlID0gZ2VvbWV0cnkuZ2V0VHlwZSgpO1xuICBpZiAodHlwZSAhPT0gJ0dlb21ldHJ5Q29sbGVjdGlvbicpIHtcbiAgICBnZW9tZXRyeSA9IGdlb21ldHJ5LmNsb25lKCkudHJhbnNmb3JtKHByb2plY3Rpb24sICdFUFNHOjQzMjYnKTtcbiAgfVxuICBsZXQgbGVuZ3RoID0gMDtcbiAgbGV0IGNvb3JkaW5hdGVzLCBjb29yZHMsIGksIGlpLCBqLCBqajtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnUG9pbnQnOlxuICAgIGNhc2UgJ011bHRpUG9pbnQnOiB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSAnTGluZVN0cmluZyc6XG4gICAgY2FzZSAnTGluZWFyUmluZyc6IHtcbiAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeVxuICAgICAgKS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgbGVuZ3RoID0gZ2V0TGVuZ3RoSW50ZXJuYWwoY29vcmRpbmF0ZXMsIHJhZGl1cyk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcbiAgICBjYXNlICdQb2x5Z29uJzoge1xuICAgICAgY29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9TaW1wbGVHZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgIGdlb21ldHJ5XG4gICAgICApLmdldENvb3JkaW5hdGVzKCk7XG4gICAgICBmb3IgKGkgPSAwLCBpaSA9IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgbGVuZ3RoICs9IGdldExlbmd0aEludGVybmFsKGNvb3JkaW5hdGVzW2ldLCByYWRpdXMpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ011bHRpUG9seWdvbic6IHtcbiAgICAgIGNvb3JkaW5hdGVzID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vU2ltcGxlR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeVxuICAgICAgKS5nZXRDb29yZGluYXRlcygpO1xuICAgICAgZm9yIChpID0gMCwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvb3JkcyA9IGNvb3JkaW5hdGVzW2ldO1xuICAgICAgICBmb3IgKGogPSAwLCBqaiA9IGNvb3Jkcy5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgbGVuZ3RoICs9IGdldExlbmd0aEludGVybmFsKGNvb3Jkc1tqXSwgcmFkaXVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ0dlb21ldHJ5Q29sbGVjdGlvbic6IHtcbiAgICAgIGNvbnN0IGdlb21ldHJpZXMgPVxuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9HZW9tZXRyeUNvbGxlY3Rpb24uanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICAgIGdlb21ldHJ5XG4gICAgICAgICkuZ2V0R2VvbWV0cmllcygpO1xuICAgICAgZm9yIChpID0gMCwgaWkgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgbGVuZ3RoICs9IGdldExlbmd0aChnZW9tZXRyaWVzW2ldLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGdlb21ldHJ5IHR5cGU6ICcgKyB0eXBlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxlbmd0aDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzcGhlcmljYWwgYXJlYSBmb3IgYSBsaXN0IG9mIGNvb3JkaW5hdGVzLlxuICpcbiAqIFtSZWZlcmVuY2VdKGh0dHBzOi8vdHJzLmpwbC5uYXNhLmdvdi9oYW5kbGUvMjAxNC80MDQwOSlcbiAqIFJvYmVydC4gRy4gQ2hhbWJlcmxhaW4gYW5kIFdpbGxpYW0gSC4gRHVxdWV0dGUsIFwiU29tZSBBbGdvcml0aG1zIGZvclxuICogUG9seWdvbnMgb24gYSBTcGhlcmVcIiwgSlBMIFB1YmxpY2F0aW9uIDA3LTAzLCBKZXQgUHJvcHVsc2lvblxuICogTGFib3JhdG9yeSwgUGFzYWRlbmEsIENBLCBKdW5lIDIwMDdcbiAqXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gY29vcmRpbmF0ZXMgTGlzdCBvZiBjb29yZGluYXRlcyBvZiBhIGxpbmVhclxuICogcmluZy4gSWYgdGhlIHJpbmcgaXMgb3JpZW50ZWQgY2xvY2t3aXNlLCB0aGUgYXJlYSB3aWxsIGJlIHBvc2l0aXZlLFxuICogb3RoZXJ3aXNlIGl0IHdpbGwgYmUgbmVnYXRpdmUuXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFRoZSBzcGhlcmUgcmFkaXVzLlxuICogQHJldHVybiB7bnVtYmVyfSBBcmVhIChpbiBzcXVhcmUgbWV0ZXJzKS5cbiAqL1xuZnVuY3Rpb24gZ2V0QXJlYUludGVybmFsKGNvb3JkaW5hdGVzLCByYWRpdXMpIHtcbiAgbGV0IGFyZWEgPSAwO1xuICBjb25zdCBsZW4gPSBjb29yZGluYXRlcy5sZW5ndGg7XG4gIGxldCB4MSA9IGNvb3JkaW5hdGVzW2xlbiAtIDFdWzBdO1xuICBsZXQgeTEgPSBjb29yZGluYXRlc1tsZW4gLSAxXVsxXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IHgyID0gY29vcmRpbmF0ZXNbaV1bMF07XG4gICAgY29uc3QgeTIgPSBjb29yZGluYXRlc1tpXVsxXTtcbiAgICBhcmVhICs9XG4gICAgICB0b1JhZGlhbnMoeDIgLSB4MSkgKlxuICAgICAgKDIgKyBNYXRoLnNpbih0b1JhZGlhbnMoeTEpKSArIE1hdGguc2luKHRvUmFkaWFucyh5MikpKTtcbiAgICB4MSA9IHgyO1xuICAgIHkxID0geTI7XG4gIH1cbiAgcmV0dXJuIChhcmVhICogcmFkaXVzICogcmFkaXVzKSAvIDIuMDtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHNwaGVyaWNhbCBhcmVhIG9mIGEgZ2VvbWV0cnkuICBUaGlzIGlzIHRoZSBhcmVhIChpbiBtZXRlcnMpIGFzc3VtaW5nXG4gKiB0aGF0IHBvbHlnb24gZWRnZXMgYXJlIHNlZ21lbnRzIG9mIGdyZWF0IGNpcmNsZXMgb24gYSBzcGhlcmUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fSBnZW9tZXRyeSBBIGdlb21ldHJ5LlxuICogQHBhcmFtIHtTcGhlcmVNZXRyaWNPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucyBmb3IgdGhlIGFyZWFcbiAqICAgICBjYWxjdWxhdGlvbi4gIEJ5IGRlZmF1bHQsIGdlb21ldHJpZXMgYXJlIGFzc3VtZWQgdG8gYmUgaW4gJ0VQU0c6Mzg1NycuXG4gKiAgICAgWW91IGNhbiBjaGFuZ2UgdGhpcyBieSBwcm92aWRpbmcgYSBgcHJvamVjdGlvbmAgb3B0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgc3BoZXJpY2FsIGFyZWEgKGluIHNxdWFyZSBtZXRlcnMpLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJlYShnZW9tZXRyeSwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3QgcmFkaXVzID0gb3B0aW9ucy5yYWRpdXMgfHwgREVGQVVMVF9SQURJVVM7XG4gIGNvbnN0IHByb2plY3Rpb24gPSBvcHRpb25zLnByb2plY3Rpb24gfHwgJ0VQU0c6Mzg1Nyc7XG4gIGNvbnN0IHR5cGUgPSBnZW9tZXRyeS5nZXRUeXBlKCk7XG4gIGlmICh0eXBlICE9PSAnR2VvbWV0cnlDb2xsZWN0aW9uJykge1xuICAgIGdlb21ldHJ5ID0gZ2VvbWV0cnkuY2xvbmUoKS50cmFuc2Zvcm0ocHJvamVjdGlvbiwgJ0VQU0c6NDMyNicpO1xuICB9XG4gIGxldCBhcmVhID0gMDtcbiAgbGV0IGNvb3JkaW5hdGVzLCBjb29yZHMsIGksIGlpLCBqLCBqajtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnUG9pbnQnOlxuICAgIGNhc2UgJ011bHRpUG9pbnQnOlxuICAgIGNhc2UgJ0xpbmVTdHJpbmcnOlxuICAgIGNhc2UgJ011bHRpTGluZVN0cmluZyc6XG4gICAgY2FzZSAnTGluZWFyUmluZyc6IHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdQb2x5Z29uJzoge1xuICAgICAgY29vcmRpbmF0ZXMgPSAvKiogQHR5cGUge2ltcG9ydChcIi4vZ2VvbS9Qb2x5Z29uLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgZ2VvbWV0cnlcbiAgICAgICkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIGFyZWEgPSBNYXRoLmFicyhnZXRBcmVhSW50ZXJuYWwoY29vcmRpbmF0ZXNbMF0sIHJhZGl1cykpO1xuICAgICAgZm9yIChpID0gMSwgaWkgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGFyZWEgLT0gTWF0aC5hYnMoZ2V0QXJlYUludGVybmFsKGNvb3JkaW5hdGVzW2ldLCByYWRpdXMpKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdNdWx0aVBvbHlnb24nOiB7XG4gICAgICBjb29yZGluYXRlcyA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi9nZW9tL1NpbXBsZUdlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgZ2VvbWV0cnlcbiAgICAgICkuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICAgIGZvciAoaSA9IDAsIGlpID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBjb29yZHMgPSBjb29yZGluYXRlc1tpXTtcbiAgICAgICAgYXJlYSArPSBNYXRoLmFicyhnZXRBcmVhSW50ZXJuYWwoY29vcmRzWzBdLCByYWRpdXMpKTtcbiAgICAgICAgZm9yIChqID0gMSwgamogPSBjb29yZHMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgIGFyZWEgLT0gTWF0aC5hYnMoZ2V0QXJlYUludGVybmFsKGNvb3Jkc1tqXSwgcmFkaXVzKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdHZW9tZXRyeUNvbGxlY3Rpb24nOiB7XG4gICAgICBjb25zdCBnZW9tZXRyaWVzID1cbiAgICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoXCIuL2dlb20vR2VvbWV0cnlDb2xsZWN0aW9uLmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICBnZW9tZXRyeVxuICAgICAgICApLmdldEdlb21ldHJpZXMoKTtcbiAgICAgIGZvciAoaSA9IDAsIGlpID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGFyZWEgKz0gZ2V0QXJlYShnZW9tZXRyaWVzW2ldLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGdlb21ldHJ5IHR5cGU6ICcgKyB0eXBlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFyZWE7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZSBhdCB0aGUgZ2l2ZW4gZGlzdGFuY2UgYW5kIGJlYXJpbmcgZnJvbSBgYzFgLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGMxIFRoZSBvcmlnaW4gcG9pbnQgKGBbbG9uLCBsYXRdYCBpbiBkZWdyZWVzKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZSBUaGUgZ3JlYXQtY2lyY2xlIGRpc3RhbmNlIGJldHdlZW4gdGhlIG9yaWdpblxuICogICAgIHBvaW50IGFuZCB0aGUgdGFyZ2V0IHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IGJlYXJpbmcgVGhlIGJlYXJpbmcgKGluIHJhZGlhbnMpLlxuICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXNdIFRoZSBzcGhlcmUgcmFkaXVzIHRvIHVzZS4gIERlZmF1bHRzIHRvIHRoZSBFYXJ0aCdzXG4gKiAgICAgbWVhbiByYWRpdXMgdXNpbmcgdGhlIFdHUzg0IGVsbGlwc29pZC5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBUaGUgdGFyZ2V0IHBvaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gb2Zmc2V0KGMxLCBkaXN0YW5jZSwgYmVhcmluZywgcmFkaXVzKSB7XG4gIHJhZGl1cyA9IHJhZGl1cyB8fCBERUZBVUxUX1JBRElVUztcbiAgY29uc3QgbGF0MSA9IHRvUmFkaWFucyhjMVsxXSk7XG4gIGNvbnN0IGxvbjEgPSB0b1JhZGlhbnMoYzFbMF0pO1xuICBjb25zdCBkQnlSID0gZGlzdGFuY2UgLyByYWRpdXM7XG4gIGNvbnN0IGxhdCA9IE1hdGguYXNpbihcbiAgICBNYXRoLnNpbihsYXQxKSAqIE1hdGguY29zKGRCeVIpICtcbiAgICAgIE1hdGguY29zKGxhdDEpICogTWF0aC5zaW4oZEJ5UikgKiBNYXRoLmNvcyhiZWFyaW5nKVxuICApO1xuICBjb25zdCBsb24gPVxuICAgIGxvbjEgK1xuICAgIE1hdGguYXRhbjIoXG4gICAgICBNYXRoLnNpbihiZWFyaW5nKSAqIE1hdGguc2luKGRCeVIpICogTWF0aC5jb3MobGF0MSksXG4gICAgICBNYXRoLmNvcyhkQnlSKSAtIE1hdGguc2luKGxhdDEpICogTWF0aC5zaW4obGF0KVxuICAgICk7XG4gIHJldHVybiBbdG9EZWdyZWVzKGxvbiksIHRvRGVncmVlcyhsYXQpXTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9wcm9qXG4gKi9cblxuLyoqXG4gKiBUaGUgb2wvcHJvaiBtb2R1bGUgc3RvcmVzOlxuICogKiBhIGxpc3Qgb2Yge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb25+UHJvamVjdGlvbn1cbiAqIG9iamVjdHMsIG9uZSBmb3IgZWFjaCBwcm9qZWN0aW9uIHN1cHBvcnRlZCBieSB0aGUgYXBwbGljYXRpb25cbiAqICogYSBsaXN0IG9mIHRyYW5zZm9ybSBmdW5jdGlvbnMgbmVlZGVkIHRvIGNvbnZlcnQgY29vcmRpbmF0ZXMgaW4gb25lIHByb2plY3Rpb25cbiAqIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgc3RhdGljIGZ1bmN0aW9ucyBhcmUgdGhlIG1ldGhvZHMgdXNlZCB0byBtYWludGFpbiB0aGVzZS5cbiAqIEVhY2ggdHJhbnNmb3JtIGZ1bmN0aW9uIGNhbiBoYW5kbGUgbm90IG9ubHkgc2ltcGxlIGNvb3JkaW5hdGUgcGFpcnMsIGJ1dCBhbHNvXG4gKiBsYXJnZSBhcnJheXMgb2YgY29vcmRpbmF0ZXMgc3VjaCBhcyB2ZWN0b3IgZ2VvbWV0cmllcy5cbiAqXG4gKiBXaGVuIGxvYWRlZCwgdGhlIGxpYnJhcnkgYWRkcyBwcm9qZWN0aW9uIG9iamVjdHMgZm9yIEVQU0c6NDMyNiAoV0dTODRcbiAqIGdlb2dyYXBoaWMgY29vcmRpbmF0ZXMpIGFuZCBFUFNHOjM4NTcgKFdlYiBvciBTcGhlcmljYWwgTWVyY2F0b3IsIGFzIHVzZWRcbiAqIGZvciBleGFtcGxlIGJ5IEJpbmcgTWFwcyBvciBPcGVuU3RyZWV0TWFwKSwgdG9nZXRoZXIgd2l0aCB0aGUgcmVsZXZhbnRcbiAqIHRyYW5zZm9ybSBmdW5jdGlvbnMuXG4gKlxuICogQWRkaXRpb25hbCB0cmFuc2Zvcm1zIG1heSBiZSBhZGRlZCBieSB1c2luZyB0aGUgaHR0cDovL3Byb2o0anMub3JnL1xuICogbGlicmFyeSAodmVyc2lvbiAyLjIgb3IgbGF0ZXIpLiBZb3UgY2FuIHVzZSB0aGUgZnVsbCBidWlsZCBzdXBwbGllZCBieVxuICogUHJvajRqcywgb3IgY3JlYXRlIGEgY3VzdG9tIGJ1aWxkIHRvIHN1cHBvcnQgdGhvc2UgcHJvamVjdGlvbnMgeW91IG5lZWQ7IHNlZVxuICogdGhlIFByb2o0anMgd2Vic2l0ZSBmb3IgaG93IHRvIGRvIHRoaXMuIFlvdSBhbHNvIG5lZWQgdGhlIFByb2o0anMgZGVmaW5pdGlvbnNcbiAqIGZvciB0aGUgcmVxdWlyZWQgcHJvamVjdGlvbnMuIFRoZXNlIGRlZmluaXRpb25zIGNhbiBiZSBvYnRhaW5lZCBmcm9tXG4gKiBodHRwczovL2Vwc2cuaW8vLCBhbmQgYXJlIGEgSlMgZnVuY3Rpb24sIHNvIGNhbiBiZSBsb2FkZWQgaW4gYSBzY3JpcHRcbiAqIHRhZyAoYXMgaW4gdGhlIGV4YW1wbGVzKSBvciBwYXN0ZWQgaW50byB5b3VyIGFwcGxpY2F0aW9uLlxuICpcbiAqIEFmdGVyIGFsbCByZXF1aXJlZCBwcm9qZWN0aW9uIGRlZmluaXRpb25zIGFyZSBhZGRlZCB0byBwcm9qNCdzIHJlZ2lzdHJ5IChieVxuICogdXNpbmcgYHByb2o0LmRlZnMoKWApLCBzaW1wbHkgY2FsbCBgcmVnaXN0ZXIocHJvajQpYCBmcm9tIHRoZSBgb2wvcHJvai9wcm9qNGBcbiAqIHBhY2thZ2UuIEV4aXN0aW5nIHRyYW5zZm9ybXMgYXJlIG5vdCBjaGFuZ2VkIGJ5IHRoaXMgZnVuY3Rpb24uIFNlZVxuICogZXhhbXBsZXMvd21zLWltYWdlLWN1c3RvbS1wcm9qIGZvciBhbiBleGFtcGxlIG9mIHRoaXMuXG4gKlxuICogQWRkaXRpb25hbCBwcm9qZWN0aW9uIGRlZmluaXRpb25zIGNhbiBiZSByZWdpc3RlcmVkIHdpdGggYHByb2o0LmRlZnMoKWAgYW55XG4gKiB0aW1lLiBKdXN0IG1ha2Ugc3VyZSB0byBjYWxsIGByZWdpc3Rlcihwcm9qNClgIGFnYWluOyBmb3IgZXhhbXBsZSwgd2l0aCB1c2VyLXN1cHBsaWVkIGRhdGEgd2hlcmUgeW91IGRvbid0XG4gKiBrbm93IGluIGFkdmFuY2Ugd2hhdCBwcm9qZWN0aW9ucyBhcmUgbmVlZGVkLCB5b3UgY2FuIGluaXRpYWxseSBsb2FkIG1pbmltYWxcbiAqIHN1cHBvcnQgYW5kIHRoZW4gbG9hZCB3aGljaGV2ZXIgYXJlIHJlcXVlc3RlZC5cbiAqXG4gKiBOb3RlIHRoYXQgUHJvajRqcyBkb2VzIG5vdCBzdXBwb3J0IHByb2plY3Rpb24gZXh0ZW50cy4gSWYgeW91IHdhbnQgdG8gYWRkXG4gKiBvbmUgZm9yIGNyZWF0aW5nIGRlZmF1bHQgdGlsZSBncmlkcywgeW91IGNhbiBhZGQgaXQgYWZ0ZXIgdGhlIFByb2plY3Rpb25cbiAqIG9iamVjdCBoYXMgYmVlbiBjcmVhdGVkIHdpdGggYHNldEV4dGVudGAsIGZvciBleGFtcGxlLFxuICogYGdldCgnRVBTRzoxMjM0Jykuc2V0RXh0ZW50KGV4dGVudClgLlxuICpcbiAqIEluIGFkZGl0aW9uIHRvIFByb2o0anMgc3VwcG9ydCwgYW55IHRyYW5zZm9ybSBmdW5jdGlvbnMgY2FuIGJlIGFkZGVkIHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai5hZGRDb29yZGluYXRlVHJhbnNmb3Jtc30uIFRvIHVzZSB0aGlzLCB5b3UgbXVzdCBmaXJzdCBjcmVhdGVcbiAqIGEge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb25+UHJvamVjdGlvbn0gb2JqZWN0IGZvciB0aGUgbmV3IHByb2plY3Rpb24gYW5kIGFkZCBpdCB3aXRoXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ouYWRkUHJvamVjdGlvbn0uIFlvdSBjYW4gdGhlbiBhZGQgdGhlIGZvcndhcmQgYW5kIGludmVyc2VcbiAqIGZ1bmN0aW9ucyB3aXRoIHtAbGluayBtb2R1bGU6b2wvcHJvai5hZGRDb29yZGluYXRlVHJhbnNmb3Jtc30uIFNlZVxuICogZXhhbXBsZXMvd21zLWN1c3RvbS1wcm9qIGZvciBhbiBleGFtcGxlIG9mIHRoaXMuXG4gKlxuICogTm90ZSB0aGF0IGlmIG5vIHRyYW5zZm9ybXMgYXJlIG5lZWRlZCBhbmQgeW91IG9ubHkgbmVlZCB0byBkZWZpbmUgdGhlXG4gKiBwcm9qZWN0aW9uLCBqdXN0IGFkZCBhIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IHdpdGhcbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai5hZGRQcm9qZWN0aW9ufS4gU2VlIGV4YW1wbGVzL3dtcy1uby1wcm9qIGZvciBhbiBleGFtcGxlIG9mXG4gKiB0aGlzLlxuICovXG5pbXBvcnQgUHJvamVjdGlvbiBmcm9tICcuL3Byb2ovUHJvamVjdGlvbi5qcyc7XG5pbXBvcnQge1xuICBQUk9KRUNUSU9OUyBhcyBFUFNHMzg1N19QUk9KRUNUSU9OUyxcbiAgZnJvbUVQU0c0MzI2LFxuICB0b0VQU0c0MzI2LFxufSBmcm9tICcuL3Byb2ovZXBzZzM4NTcuanMnO1xuaW1wb3J0IHtQUk9KRUNUSU9OUyBhcyBFUFNHNDMyNl9QUk9KRUNUSU9OU30gZnJvbSAnLi9wcm9qL2Vwc2c0MzI2LmpzJztcbmltcG9ydCB7TUVURVJTX1BFUl9VTklUfSBmcm9tICcuL3Byb2ovVW5pdHMuanMnO1xuaW1wb3J0IHtcbiAgYWRkIGFzIGFkZFByb2osXG4gIGNsZWFyIGFzIGNsZWFyUHJvaixcbiAgZ2V0IGFzIGdldFByb2osXG59IGZyb20gJy4vcHJvai9wcm9qZWN0aW9ucy5qcyc7XG5pbXBvcnQge1xuICBhZGQgYXMgYWRkVHJhbnNmb3JtRnVuYyxcbiAgY2xlYXIgYXMgY2xlYXJUcmFuc2Zvcm1GdW5jcyxcbiAgZ2V0IGFzIGdldFRyYW5zZm9ybUZ1bmMsXG59IGZyb20gJy4vcHJvai90cmFuc2Zvcm1zLmpzJztcbmltcG9ydCB7YXBwbHlUcmFuc2Zvcm0sIGdldFdpZHRofSBmcm9tICcuL2V4dGVudC5qcyc7XG5pbXBvcnQge2NsYW1wLCBtb2R1bG99IGZyb20gJy4vbWF0aC5qcyc7XG5pbXBvcnQge2VxdWFscywgZ2V0V29ybGRzQXdheX0gZnJvbSAnLi9jb29yZGluYXRlLmpzJztcbmltcG9ydCB7Z2V0RGlzdGFuY2V9IGZyb20gJy4vc3BoZXJlLmpzJztcbmltcG9ydCB7d2Fybn0gZnJvbSAnLi9jb25zb2xlLmpzJztcblxuLyoqXG4gKiBBIHByb2plY3Rpb24gYXMge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb25+UHJvamVjdGlvbn0sIFNSUyBpZGVudGlmaWVyXG4gKiBzdHJpbmcgb3IgdW5kZWZpbmVkLlxuICogQHR5cGVkZWYge1Byb2plY3Rpb258c3RyaW5nfHVuZGVmaW5lZH0gUHJvamVjdGlvbkxpa2VcbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIEEgdHJhbnNmb3JtIGZ1bmN0aW9uIGFjY2VwdHMgYW4gYXJyYXkgb2YgaW5wdXQgY29vcmRpbmF0ZSB2YWx1ZXMsIGFuIG9wdGlvbmFsXG4gKiBvdXRwdXQgYXJyYXksIGFuZCBhbiBvcHRpb25hbCBkaW1lbnNpb24gKGRlZmF1bHQgc2hvdWxkIGJlIDIpLiAgVGhlIGZ1bmN0aW9uXG4gKiB0cmFuc2Zvcm1zIHRoZSBpbnB1dCBjb29yZGluYXRlIHZhbHVlcywgcG9wdWxhdGVzIHRoZSBvdXRwdXQgYXJyYXksIGFuZFxuICogcmV0dXJucyB0aGUgb3V0cHV0IGFycmF5LlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihBcnJheTxudW1iZXI+LCBBcnJheTxudW1iZXI+PSwgbnVtYmVyPSk6IEFycmF5PG51bWJlcj59IFRyYW5zZm9ybUZ1bmN0aW9uXG4gKiBAYXBpXG4gKi9cblxuZXhwb3J0IHtNRVRFUlNfUEVSX1VOSVR9O1xuXG5leHBvcnQge1Byb2plY3Rpb259O1xuXG5sZXQgc2hvd0Nvb3JkaW5hdGVXYXJuaW5nID0gdHJ1ZTtcblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtkaXNhYmxlID0gdHJ1ZV0gRGlzYWJsZSBjb25zb2xlIGluZm8gYWJvdXQgYHVzZUdlb2dyYXBoaWMoKWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVDb29yZGluYXRlV2FybmluZyhkaXNhYmxlKSB7XG4gIGNvbnN0IGhpZGUgPSBkaXNhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogZGlzYWJsZTtcbiAgc2hvd0Nvb3JkaW5hdGVXYXJuaW5nID0gIWhpZGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBpbnB1dCBJbnB1dCBjb29yZGluYXRlIGFycmF5LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3V0cHV0XSBPdXRwdXQgYXJyYXkgb2YgY29vcmRpbmF0ZSB2YWx1ZXMuXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPdXRwdXQgY29vcmRpbmF0ZSBhcnJheSAobmV3IGFycmF5LCBzYW1lIGNvb3JkaW5hdGVcbiAqICAgICB2YWx1ZXMpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVUcmFuc2Zvcm0oaW5wdXQsIG91dHB1dCkge1xuICBpZiAob3V0cHV0ICE9PSB1bmRlZmluZWQpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBpbnB1dC5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICBvdXRwdXRbaV0gPSBpbnB1dFtpXTtcbiAgICB9XG4gICAgb3V0cHV0ID0gb3V0cHV0O1xuICB9IGVsc2Uge1xuICAgIG91dHB1dCA9IGlucHV0LnNsaWNlKCk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGlucHV0IElucHV0IGNvb3JkaW5hdGUgYXJyYXkuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IFtvdXRwdXRdIE91dHB1dCBhcnJheSBvZiBjb29yZGluYXRlIHZhbHVlcy5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IElucHV0IGNvb3JkaW5hdGUgYXJyYXkgKHNhbWUgYXJyYXkgYXMgaW5wdXQpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHlUcmFuc2Zvcm0oaW5wdXQsIG91dHB1dCkge1xuICBpZiAob3V0cHV0ICE9PSB1bmRlZmluZWQgJiYgaW5wdXQgIT09IG91dHB1dCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGlucHV0Lmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIG91dHB1dFtpXSA9IGlucHV0W2ldO1xuICAgIH1cbiAgICBpbnB1dCA9IG91dHB1dDtcbiAgfVxuICByZXR1cm4gaW5wdXQ7XG59XG5cbi8qKlxuICogQWRkIGEgUHJvamVjdGlvbiBvYmplY3QgdG8gdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHByb2plY3Rpb25zIHRoYXQgY2FuIGJlXG4gKiBsb29rZWQgdXAgYnkgdGhlaXIgY29kZS5cbiAqXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IHByb2plY3Rpb24gUHJvamVjdGlvbiBpbnN0YW5jZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICBhZGRQcm9qKHByb2plY3Rpb24uZ2V0Q29kZSgpLCBwcm9qZWN0aW9uKTtcbiAgYWRkVHJhbnNmb3JtRnVuYyhwcm9qZWN0aW9uLCBwcm9qZWN0aW9uLCBjbG9uZVRyYW5zZm9ybSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxQcm9qZWN0aW9uPn0gcHJvamVjdGlvbnMgUHJvamVjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRQcm9qZWN0aW9ucyhwcm9qZWN0aW9ucykge1xuICBwcm9qZWN0aW9ucy5mb3JFYWNoKGFkZFByb2plY3Rpb24pO1xufVxuXG4vKipcbiAqIEZldGNoZXMgYSBQcm9qZWN0aW9uIG9iamVjdCBmb3IgdGhlIGNvZGUgc3BlY2lmaWVkLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb25MaWtlIEVpdGhlciBhIGNvZGUgc3RyaW5nIHdoaWNoIGlzXG4gKiAgICAgYSBjb21iaW5hdGlvbiBvZiBhdXRob3JpdHkgYW5kIGlkZW50aWZpZXIgc3VjaCBhcyBcIkVQU0c6NDMyNlwiLCBvciBhblxuICogICAgIGV4aXN0aW5nIHByb2plY3Rpb24gb2JqZWN0LCBvciB1bmRlZmluZWQuXG4gKiBAcmV0dXJuIHtQcm9qZWN0aW9ufG51bGx9IFByb2plY3Rpb24gb2JqZWN0LCBvciBudWxsIGlmIG5vdCBpbiBsaXN0LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KHByb2plY3Rpb25MaWtlKSB7XG4gIHJldHVybiB0eXBlb2YgcHJvamVjdGlvbkxpa2UgPT09ICdzdHJpbmcnXG4gICAgPyBnZXRQcm9qKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocHJvamVjdGlvbkxpa2UpKVxuICAgIDogLyoqIEB0eXBlIHtQcm9qZWN0aW9ufSAqLyAocHJvamVjdGlvbkxpa2UpIHx8IG51bGw7XG59XG5cbi8qKlxuICogR2V0IHRoZSByZXNvbHV0aW9uIG9mIHRoZSBwb2ludCBpbiBkZWdyZWVzIG9yIGRpc3RhbmNlIHVuaXRzLlxuICogRm9yIHByb2plY3Rpb25zIHdpdGggZGVncmVlcyBhcyB0aGUgdW5pdCB0aGlzIHdpbGwgc2ltcGx5IHJldHVybiB0aGVcbiAqIHByb3ZpZGVkIHJlc29sdXRpb24uIEZvciBvdGhlciBwcm9qZWN0aW9ucyB0aGUgcG9pbnQgcmVzb2x1dGlvbiBpc1xuICogYnkgZGVmYXVsdCBlc3RpbWF0ZWQgYnkgdHJhbnNmb3JtaW5nIHRoZSBgcG9pbnRgIHBpeGVsIHRvIEVQU0c6NDMyNixcbiAqIG1lYXN1cmluZyBpdHMgd2lkdGggYW5kIGhlaWdodCBvbiB0aGUgbm9ybWFsIHNwaGVyZSxcbiAqIGFuZCB0YWtpbmcgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHdpZHRoIGFuZCBoZWlnaHQuXG4gKiBBIGN1c3RvbSBmdW5jdGlvbiBjYW4gYmUgcHJvdmlkZWQgZm9yIGEgc3BlY2lmaWMgcHJvamVjdGlvbiwgZWl0aGVyXG4gKiBieSBzZXR0aW5nIHRoZSBgZ2V0UG9pbnRSZXNvbHV0aW9uYCBvcHRpb24gaW4gdGhlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufSBjb25zdHJ1Y3RvciBvciBieSB1c2luZ1xuICoge0BsaW5rIG1vZHVsZTpvbC9wcm9qL1Byb2plY3Rpb25+UHJvamVjdGlvbiNzZXRHZXRQb2ludFJlc29sdXRpb259IHRvIGNoYW5nZSBhbiBleGlzdGluZ1xuICogcHJvamVjdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uIFRoZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gTm9taW5hbCByZXNvbHV0aW9uIGluIHByb2plY3Rpb24gdW5pdHMuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwb2ludCBQb2ludCB0byBmaW5kIGFkanVzdGVkIHJlc29sdXRpb24gYXQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Vbml0cy5qc1wiKS5Vbml0c30gW3VuaXRzXSBVbml0cyB0byBnZXQgdGhlIHBvaW50IHJlc29sdXRpb24gaW4uXG4gKiBEZWZhdWx0IGlzIHRoZSBwcm9qZWN0aW9uJ3MgdW5pdHMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFBvaW50IHJlc29sdXRpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb2ludFJlc29sdXRpb24ocHJvamVjdGlvbiwgcmVzb2x1dGlvbiwgcG9pbnQsIHVuaXRzKSB7XG4gIHByb2plY3Rpb24gPSBnZXQocHJvamVjdGlvbik7XG4gIGxldCBwb2ludFJlc29sdXRpb247XG4gIGNvbnN0IGdldHRlciA9IHByb2plY3Rpb24uZ2V0UG9pbnRSZXNvbHV0aW9uRnVuYygpO1xuICBpZiAoZ2V0dGVyKSB7XG4gICAgcG9pbnRSZXNvbHV0aW9uID0gZ2V0dGVyKHJlc29sdXRpb24sIHBvaW50KTtcbiAgICBpZiAodW5pdHMgJiYgdW5pdHMgIT09IHByb2plY3Rpb24uZ2V0VW5pdHMoKSkge1xuICAgICAgY29uc3QgbWV0ZXJzUGVyVW5pdCA9IHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgICAgaWYgKG1ldGVyc1BlclVuaXQpIHtcbiAgICAgICAgcG9pbnRSZXNvbHV0aW9uID1cbiAgICAgICAgICAocG9pbnRSZXNvbHV0aW9uICogbWV0ZXJzUGVyVW5pdCkgLyBNRVRFUlNfUEVSX1VOSVRbdW5pdHNdO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwcm9qVW5pdHMgPSBwcm9qZWN0aW9uLmdldFVuaXRzKCk7XG4gICAgaWYgKChwcm9qVW5pdHMgPT0gJ2RlZ3JlZXMnICYmICF1bml0cykgfHwgdW5pdHMgPT0gJ2RlZ3JlZXMnKSB7XG4gICAgICBwb2ludFJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBFc3RpbWF0ZSBwb2ludCByZXNvbHV0aW9uIGJ5IHRyYW5zZm9ybWluZyB0aGUgY2VudGVyIHBpeGVsIHRvIEVQU0c6NDMyNixcbiAgICAgIC8vIG1lYXN1cmluZyBpdHMgd2lkdGggYW5kIGhlaWdodCBvbiB0aGUgbm9ybWFsIHNwaGVyZSwgYW5kIHRha2luZyB0aGVcbiAgICAgIC8vIGF2ZXJhZ2Ugb2YgdGhlIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICBjb25zdCB0b0VQU0c0MzI2ID0gZ2V0VHJhbnNmb3JtRnJvbVByb2plY3Rpb25zKFxuICAgICAgICBwcm9qZWN0aW9uLFxuICAgICAgICBnZXQoJ0VQU0c6NDMyNicpXG4gICAgICApO1xuICAgICAgaWYgKHRvRVBTRzQzMjYgPT09IGlkZW50aXR5VHJhbnNmb3JtICYmIHByb2pVbml0cyAhPT0gJ2RlZ3JlZXMnKSB7XG4gICAgICAgIC8vIG5vIHRyYW5zZm9ybSBpcyBhdmFpbGFibGVcbiAgICAgICAgcG9pbnRSZXNvbHV0aW9uID0gcmVzb2x1dGlvbiAqIHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHZlcnRpY2VzID0gW1xuICAgICAgICAgIHBvaW50WzBdIC0gcmVzb2x1dGlvbiAvIDIsXG4gICAgICAgICAgcG9pbnRbMV0sXG4gICAgICAgICAgcG9pbnRbMF0gKyByZXNvbHV0aW9uIC8gMixcbiAgICAgICAgICBwb2ludFsxXSxcbiAgICAgICAgICBwb2ludFswXSxcbiAgICAgICAgICBwb2ludFsxXSAtIHJlc29sdXRpb24gLyAyLFxuICAgICAgICAgIHBvaW50WzBdLFxuICAgICAgICAgIHBvaW50WzFdICsgcmVzb2x1dGlvbiAvIDIsXG4gICAgICAgIF07XG4gICAgICAgIHZlcnRpY2VzID0gdG9FUFNHNDMyNih2ZXJ0aWNlcywgdmVydGljZXMsIDIpO1xuICAgICAgICBjb25zdCB3aWR0aCA9IGdldERpc3RhbmNlKHZlcnRpY2VzLnNsaWNlKDAsIDIpLCB2ZXJ0aWNlcy5zbGljZSgyLCA0KSk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGdldERpc3RhbmNlKHZlcnRpY2VzLnNsaWNlKDQsIDYpLCB2ZXJ0aWNlcy5zbGljZSg2LCA4KSk7XG4gICAgICAgIHBvaW50UmVzb2x1dGlvbiA9ICh3aWR0aCArIGhlaWdodCkgLyAyO1xuICAgICAgfVxuICAgICAgY29uc3QgbWV0ZXJzUGVyVW5pdCA9IHVuaXRzXG4gICAgICAgID8gTUVURVJTX1BFUl9VTklUW3VuaXRzXVxuICAgICAgICA6IHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgICAgaWYgKG1ldGVyc1BlclVuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwb2ludFJlc29sdXRpb24gLz0gbWV0ZXJzUGVyVW5pdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBvaW50UmVzb2x1dGlvbjtcbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zIHRoYXQgZG9uJ3QgYWx0ZXIgY29vcmRpbmF0ZXMuIFRob3NlIGFsbG93XG4gKiB0byB0cmFuc2Zvcm0gYmV0d2VlbiBwcm9qZWN0aW9ucyB3aXRoIGVxdWFsIG1lYW5pbmcuXG4gKlxuICogQHBhcmFtIHtBcnJheTxQcm9qZWN0aW9uPn0gcHJvamVjdGlvbnMgUHJvamVjdGlvbnMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRFcXVpdmFsZW50UHJvamVjdGlvbnMocHJvamVjdGlvbnMpIHtcbiAgYWRkUHJvamVjdGlvbnMocHJvamVjdGlvbnMpO1xuICBwcm9qZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICBwcm9qZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChkZXN0aW5hdGlvbikge1xuICAgICAgaWYgKHNvdXJjZSAhPT0gZGVzdGluYXRpb24pIHtcbiAgICAgICAgYWRkVHJhbnNmb3JtRnVuYyhzb3VyY2UsIGRlc3RpbmF0aW9uLCBjbG9uZVRyYW5zZm9ybSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMgdG8gY29udmVydCBjb29yZGluYXRlcyBpbiBhbnkgcHJvamVjdGlvblxuICogaW4gcHJvamVjdGlvbjEgdG8gYW55IHByb2plY3Rpb24gaW4gcHJvamVjdGlvbjIuXG4gKlxuICogQHBhcmFtIHtBcnJheTxQcm9qZWN0aW9uPn0gcHJvamVjdGlvbnMxIFByb2plY3Rpb25zIHdpdGggZXF1YWxcbiAqICAgICBtZWFuaW5nLlxuICogQHBhcmFtIHtBcnJheTxQcm9qZWN0aW9uPn0gcHJvamVjdGlvbnMyIFByb2plY3Rpb25zIHdpdGggZXF1YWxcbiAqICAgICBtZWFuaW5nLlxuICogQHBhcmFtIHtUcmFuc2Zvcm1GdW5jdGlvbn0gZm9yd2FyZFRyYW5zZm9ybSBUcmFuc2Zvcm1hdGlvbiBmcm9tIGFueVxuICogICBwcm9qZWN0aW9uIGluIHByb2plY3Rpb24xIHRvIGFueSBwcm9qZWN0aW9uIGluIHByb2plY3Rpb24yLlxuICogQHBhcmFtIHtUcmFuc2Zvcm1GdW5jdGlvbn0gaW52ZXJzZVRyYW5zZm9ybSBUcmFuc2Zvcm0gZnJvbSBhbnkgcHJvamVjdGlvblxuICogICBpbiBwcm9qZWN0aW9uMiB0byBhbnkgcHJvamVjdGlvbiBpbiBwcm9qZWN0aW9uMS4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRFcXVpdmFsZW50VHJhbnNmb3JtcyhcbiAgcHJvamVjdGlvbnMxLFxuICBwcm9qZWN0aW9uczIsXG4gIGZvcndhcmRUcmFuc2Zvcm0sXG4gIGludmVyc2VUcmFuc2Zvcm1cbikge1xuICBwcm9qZWN0aW9uczEuZm9yRWFjaChmdW5jdGlvbiAocHJvamVjdGlvbjEpIHtcbiAgICBwcm9qZWN0aW9uczIuZm9yRWFjaChmdW5jdGlvbiAocHJvamVjdGlvbjIpIHtcbiAgICAgIGFkZFRyYW5zZm9ybUZ1bmMocHJvamVjdGlvbjEsIHByb2plY3Rpb24yLCBmb3J3YXJkVHJhbnNmb3JtKTtcbiAgICAgIGFkZFRyYW5zZm9ybUZ1bmMocHJvamVjdGlvbjIsIHByb2plY3Rpb24xLCBpbnZlcnNlVHJhbnNmb3JtKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ2xlYXIgYWxsIGNhY2hlZCBwcm9qZWN0aW9ucyBhbmQgdHJhbnNmb3Jtcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQWxsUHJvamVjdGlvbnMoKSB7XG4gIGNsZWFyUHJvaigpO1xuICBjbGVhclRyYW5zZm9ybUZ1bmNzKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufHN0cmluZ3x1bmRlZmluZWR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkZWZhdWx0Q29kZSBEZWZhdWx0IGNvZGUuXG4gKiBAcmV0dXJuIHtQcm9qZWN0aW9ufSBQcm9qZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvamVjdGlvbihwcm9qZWN0aW9uLCBkZWZhdWx0Q29kZSkge1xuICBpZiAoIXByb2plY3Rpb24pIHtcbiAgICByZXR1cm4gZ2V0KGRlZmF1bHRDb2RlKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvamVjdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZ2V0KHByb2plY3Rpb24pO1xuICB9XG4gIHJldHVybiAvKiogQHR5cGUge1Byb2plY3Rpb259ICovIChwcm9qZWN0aW9uKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIG1vZHVsZTpvbC9wcm9qflRyYW5zZm9ybUZ1bmN0aW9ufSBmcm9tIGEgc2ltcGxlIDJEIGNvb3JkaW5hdGUgdHJhbnNmb3JtXG4gKiBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOiBpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRUcmFuc2Zvcm0gQ29vcmRpbmF0ZVxuICogICAgIHRyYW5zZm9ybS5cbiAqIEByZXR1cm4ge1RyYW5zZm9ybUZ1bmN0aW9ufSBUcmFuc2Zvcm0gZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmFuc2Zvcm1Gcm9tQ29vcmRpbmF0ZVRyYW5zZm9ybShjb29yZFRyYW5zZm9ybSkge1xuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5wdXQgSW5wdXQuXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBbb3V0cHV0XSBPdXRwdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkaW1lbnNpb25dIERpbWVuc2lvbi5cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBPdXRwdXQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gKGlucHV0LCBvdXRwdXQsIGRpbWVuc2lvbikge1xuICAgICAgY29uc3QgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgZGltZW5zaW9uID0gZGltZW5zaW9uICE9PSB1bmRlZmluZWQgPyBkaW1lbnNpb24gOiAyO1xuICAgICAgb3V0cHV0ID0gb3V0cHV0ICE9PSB1bmRlZmluZWQgPyBvdXRwdXQgOiBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IGRpbWVuc2lvbikge1xuICAgICAgICBjb25zdCBwb2ludCA9IGNvb3JkVHJhbnNmb3JtKGlucHV0LnNsaWNlKGksIGkgKyBkaW1lbnNpb24pKTtcbiAgICAgICAgY29uc3QgcG9pbnRMZW5ndGggPSBwb2ludC5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGogPSAwLCBqaiA9IGRpbWVuc2lvbjsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICBvdXRwdXRbaSArIGpdID0gaiA+PSBwb2ludExlbmd0aCA/IGlucHV0W2kgKyBqXSA6IHBvaW50W2pdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgKTtcbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgY29vcmRpbmF0ZSB0cmFuc2Zvcm0gZnVuY3Rpb25zIHRvIGNvbnZlcnQgY29vcmRpbmF0ZXMgYmV0d2VlbiB0aGVcbiAqIHNvdXJjZSBwcm9qZWN0aW9uIGFuZCB0aGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIFRoZSBmb3J3YXJkIGFuZCBpbnZlcnNlIGZ1bmN0aW9ucyBjb252ZXJ0IGNvb3JkaW5hdGUgcGFpcnM7IHRoaXMgZnVuY3Rpb25cbiAqIGNvbnZlcnRzIHRoZXNlIGludG8gdGhlIGZ1bmN0aW9ucyB1c2VkIGludGVybmFsbHkgd2hpY2ggYWxzbyBoYW5kbGVcbiAqIGV4dGVudHMgYW5kIGNvb3JkaW5hdGUgYXJyYXlzLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZSBTb3VyY2UgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGZvcndhcmQgVGhlIGZvcndhcmQgdHJhbnNmb3JtXG4gKiAgICAgZnVuY3Rpb24gKHRoYXQgaXMsIGZyb20gdGhlIHNvdXJjZSBwcm9qZWN0aW9uIHRvIHRoZSBkZXN0aW5hdGlvblxuICogICAgIHByb2plY3Rpb24pIHRoYXQgdGFrZXMgYSB7QGxpbmsgbW9kdWxlOm9sL2Nvb3JkaW5hdGV+Q29vcmRpbmF0ZX0gYXMgYXJndW1lbnQgYW5kIHJldHVybnNcbiAqICAgICB0aGUgdHJhbnNmb3JtZWQge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGV9LlxuICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6IGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBpbnZlcnNlIFRoZSBpbnZlcnNlIHRyYW5zZm9ybVxuICogICAgIGZ1bmN0aW9uICh0aGF0IGlzLCBmcm9tIHRoZSBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uIHRvIHRoZSBzb3VyY2VcbiAqICAgICBwcm9qZWN0aW9uKSB0aGF0IHRha2VzIGEge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGV9IGFzIGFyZ3VtZW50IGFuZCByZXR1cm5zXG4gKiAgICAgdGhlIHRyYW5zZm9ybWVkIHtAbGluayBtb2R1bGU6b2wvY29vcmRpbmF0ZX5Db29yZGluYXRlfS4gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiBjYW4gb25seVxuICogICAgIHRyYW5zZm9ybSBsZXNzIGRpbWVuc2lvbnMgdGhhbiB0aGUgaW5wdXQgY29vcmRpbmF0ZSwgaXQgaXMgc3VwcG9zZWVkIHRvIHJldHVybiBhIGNvb3JkaW5hdGVcbiAqICAgICB3aXRoIG9ubHkgdGhlIGxlbmd0aCBpdCBjYW4gdHJhbnNmb3JtLiBUaGUgb3RoZXIgZGltZW5zaW9ucyB3aWxsIGJlIHRha2VuIHVuY2hhbmdlZCBmcm9tIHRoZVxuICogICAgIHNvdXJjZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENvb3JkaW5hdGVUcmFuc2Zvcm1zKHNvdXJjZSwgZGVzdGluYXRpb24sIGZvcndhcmQsIGludmVyc2UpIHtcbiAgY29uc3Qgc291cmNlUHJvaiA9IGdldChzb3VyY2UpO1xuICBjb25zdCBkZXN0UHJvaiA9IGdldChkZXN0aW5hdGlvbik7XG4gIGFkZFRyYW5zZm9ybUZ1bmMoXG4gICAgc291cmNlUHJvaixcbiAgICBkZXN0UHJvaixcbiAgICBjcmVhdGVUcmFuc2Zvcm1Gcm9tQ29vcmRpbmF0ZVRyYW5zZm9ybShmb3J3YXJkKVxuICApO1xuICBhZGRUcmFuc2Zvcm1GdW5jKFxuICAgIGRlc3RQcm9qLFxuICAgIHNvdXJjZVByb2osXG4gICAgY3JlYXRlVHJhbnNmb3JtRnJvbUNvb3JkaW5hdGVUcmFuc2Zvcm0oaW52ZXJzZSlcbiAgKTtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgY29vcmRpbmF0ZSBmcm9tIGxvbmdpdHVkZS9sYXRpdHVkZSB0byBhIGRpZmZlcmVudCBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlIGFzIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUsIGkuZS5cbiAqICAgICBhbiBhcnJheSB3aXRoIGxvbmdpdHVkZSBhcyAxc3QgYW5kIGxhdGl0dWRlIGFzIDJuZCBlbGVtZW50LlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb25dIFRhcmdldCBwcm9qZWN0aW9uLiBUaGVcbiAqICAgICBkZWZhdWx0IGlzIFdlYiBNZXJjYXRvciwgaS5lLiAnRVBTRzozODU3Jy5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBDb29yZGluYXRlIHByb2plY3RlZCB0byB0aGUgdGFyZ2V0IHByb2plY3Rpb24uXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tTG9uTGF0KGNvb3JkaW5hdGUsIHByb2plY3Rpb24pIHtcbiAgZGlzYWJsZUNvb3JkaW5hdGVXYXJuaW5nKCk7XG4gIHJldHVybiB0cmFuc2Zvcm0oXG4gICAgY29vcmRpbmF0ZSxcbiAgICAnRVBTRzo0MzI2JyxcbiAgICBwcm9qZWN0aW9uICE9PSB1bmRlZmluZWQgPyBwcm9qZWN0aW9uIDogJ0VQU0c6Mzg1NydcbiAgKTtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgY29vcmRpbmF0ZSB0byBsb25naXR1ZGUvbGF0aXR1ZGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIFByb2plY3RlZCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb25dIFByb2plY3Rpb24gb2YgdGhlIGNvb3JkaW5hdGUuXG4gKiAgICAgVGhlIGRlZmF1bHQgaXMgV2ViIE1lcmNhdG9yLCBpLmUuICdFUFNHOjM4NTcnLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IENvb3JkaW5hdGUgYXMgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSwgaS5lLiBhbiBhcnJheVxuICogICAgIHdpdGggbG9uZ2l0dWRlIGFzIDFzdCBhbmQgbGF0aXR1ZGUgYXMgMm5kIGVsZW1lbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0xvbkxhdChjb29yZGluYXRlLCBwcm9qZWN0aW9uKSB7XG4gIGNvbnN0IGxvbkxhdCA9IHRyYW5zZm9ybShcbiAgICBjb29yZGluYXRlLFxuICAgIHByb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IHByb2plY3Rpb24gOiAnRVBTRzozODU3JyxcbiAgICAnRVBTRzo0MzI2J1xuICApO1xuICBjb25zdCBsb24gPSBsb25MYXRbMF07XG4gIGlmIChsb24gPCAtMTgwIHx8IGxvbiA+IDE4MCkge1xuICAgIGxvbkxhdFswXSA9IG1vZHVsbyhsb24gKyAxODAsIDM2MCkgLSAxODA7XG4gIH1cbiAgcmV0dXJuIGxvbkxhdDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdHdvIHByb2plY3Rpb25zIGFyZSB0aGUgc2FtZSwgdGhhdCBpcyBldmVyeSBjb29yZGluYXRlIGluIG9uZVxuICogcHJvamVjdGlvbiBkb2VzIHJlcHJlc2VudCB0aGUgc2FtZSBnZW9ncmFwaGljIHBvaW50IGFzIHRoZSBzYW1lIGNvb3JkaW5hdGUgaW5cbiAqIHRoZSBvdGhlciBwcm9qZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gcHJvamVjdGlvbjEgUHJvamVjdGlvbiAxLlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBwcm9qZWN0aW9uMiBQcm9qZWN0aW9uIDIuXG4gKiBAcmV0dXJuIHtib29sZWFufSBFcXVpdmFsZW50LlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1aXZhbGVudChwcm9qZWN0aW9uMSwgcHJvamVjdGlvbjIpIHtcbiAgaWYgKHByb2plY3Rpb24xID09PSBwcm9qZWN0aW9uMikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IGVxdWFsVW5pdHMgPSBwcm9qZWN0aW9uMS5nZXRVbml0cygpID09PSBwcm9qZWN0aW9uMi5nZXRVbml0cygpO1xuICBpZiAocHJvamVjdGlvbjEuZ2V0Q29kZSgpID09PSBwcm9qZWN0aW9uMi5nZXRDb2RlKCkpIHtcbiAgICByZXR1cm4gZXF1YWxVbml0cztcbiAgfVxuICBjb25zdCB0cmFuc2Zvcm1GdW5jID0gZ2V0VHJhbnNmb3JtRnJvbVByb2plY3Rpb25zKHByb2plY3Rpb24xLCBwcm9qZWN0aW9uMik7XG4gIHJldHVybiB0cmFuc2Zvcm1GdW5jID09PSBjbG9uZVRyYW5zZm9ybSAmJiBlcXVhbFVuaXRzO1xufVxuXG4vKipcbiAqIFNlYXJjaGVzIGluIHRoZSBsaXN0IG9mIHRyYW5zZm9ybSBmdW5jdGlvbnMgZm9yIHRoZSBmdW5jdGlvbiBmb3IgY29udmVydGluZ1xuICogY29vcmRpbmF0ZXMgZnJvbSB0aGUgc291cmNlIHByb2plY3Rpb24gdG8gdGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKlxuICogQHBhcmFtIHtQcm9qZWN0aW9ufSBzb3VyY2VQcm9qZWN0aW9uIFNvdXJjZSBQcm9qZWN0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gZGVzdGluYXRpb25Qcm9qZWN0aW9uIERlc3RpbmF0aW9uIFByb2plY3Rpb25cbiAqICAgICBvYmplY3QuXG4gKiBAcmV0dXJuIHtUcmFuc2Zvcm1GdW5jdGlvbn0gVHJhbnNmb3JtIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNmb3JtRnJvbVByb2plY3Rpb25zKFxuICBzb3VyY2VQcm9qZWN0aW9uLFxuICBkZXN0aW5hdGlvblByb2plY3Rpb25cbikge1xuICBjb25zdCBzb3VyY2VDb2RlID0gc291cmNlUHJvamVjdGlvbi5nZXRDb2RlKCk7XG4gIGNvbnN0IGRlc3RpbmF0aW9uQ29kZSA9IGRlc3RpbmF0aW9uUHJvamVjdGlvbi5nZXRDb2RlKCk7XG4gIGxldCB0cmFuc2Zvcm1GdW5jID0gZ2V0VHJhbnNmb3JtRnVuYyhzb3VyY2VDb2RlLCBkZXN0aW5hdGlvbkNvZGUpO1xuICBpZiAoIXRyYW5zZm9ybUZ1bmMpIHtcbiAgICB0cmFuc2Zvcm1GdW5jID0gaWRlbnRpdHlUcmFuc2Zvcm07XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybUZ1bmM7XG59XG5cbi8qKlxuICogR2l2ZW4gdGhlIHByb2plY3Rpb24tbGlrZSBvYmplY3RzLCBzZWFyY2hlcyBmb3IgYSB0cmFuc2Zvcm1hdGlvblxuICogZnVuY3Rpb24gdG8gY29udmVydCBhIGNvb3JkaW5hdGVzIGFycmF5IGZyb20gdGhlIHNvdXJjZSBwcm9qZWN0aW9uIHRvIHRoZVxuICogZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBzb3VyY2UgU291cmNlLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdGluYXRpb24gRGVzdGluYXRpb24uXG4gKiBAcmV0dXJuIHtUcmFuc2Zvcm1GdW5jdGlvbn0gVHJhbnNmb3JtIGZ1bmN0aW9uLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNmb3JtKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgY29uc3Qgc291cmNlUHJvamVjdGlvbiA9IGdldChzb3VyY2UpO1xuICBjb25zdCBkZXN0aW5hdGlvblByb2plY3Rpb24gPSBnZXQoZGVzdGluYXRpb24pO1xuICByZXR1cm4gZ2V0VHJhbnNmb3JtRnJvbVByb2plY3Rpb25zKHNvdXJjZVByb2plY3Rpb24sIGRlc3RpbmF0aW9uUHJvamVjdGlvbik7XG59XG5cbi8qKlxuICogVHJhbnNmb3JtcyBhIGNvb3JkaW5hdGUgZnJvbSBzb3VyY2UgcHJvamVjdGlvbiB0byBkZXN0aW5hdGlvbiBwcm9qZWN0aW9uLlxuICogVGhpcyByZXR1cm5zIGEgbmV3IGNvb3JkaW5hdGUgKGFuZCBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsKS5cbiAqXG4gKiBTZWUge0BsaW5rIG1vZHVsZTpvbC9wcm9qLnRyYW5zZm9ybUV4dGVudH0gZm9yIGV4dGVudCB0cmFuc2Zvcm1hdGlvbi5cbiAqIFNlZSB0aGUgdHJhbnNmb3JtIG1ldGhvZCBvZiB7QGxpbmsgbW9kdWxlOm9sL2dlb20vR2VvbWV0cnl+R2VvbWV0cnl9IGFuZCBpdHNcbiAqIHN1YmNsYXNzZXMgZm9yIGdlb21ldHJ5IHRyYW5zZm9ybXMuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gc291cmNlIFNvdXJjZSBwcm9qZWN0aW9uLWxpa2UuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBwcm9qZWN0aW9uLWxpa2UuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gQ29vcmRpbmF0ZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybShjb29yZGluYXRlLCBzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XG4gIGNvbnN0IHRyYW5zZm9ybUZ1bmMgPSBnZXRUcmFuc2Zvcm0oc291cmNlLCBkZXN0aW5hdGlvbik7XG4gIHJldHVybiB0cmFuc2Zvcm1GdW5jKGNvb3JkaW5hdGUsIHVuZGVmaW5lZCwgY29vcmRpbmF0ZS5sZW5ndGgpO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgYW4gZXh0ZW50IGZyb20gc291cmNlIHByb2plY3Rpb24gdG8gZGVzdGluYXRpb24gcHJvamVjdGlvbi4gIFRoaXNcbiAqIHJldHVybnMgYSBuZXcgZXh0ZW50IChhbmQgZG9lcyBub3QgbW9kaWZ5IHRoZSBvcmlnaW5hbCkuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBUaGUgZXh0ZW50IHRvIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZSBTb3VyY2UgcHJvamVjdGlvbi1saWtlLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gcHJvamVjdGlvbi1saWtlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdG9wc10gTnVtYmVyIG9mIHN0b3BzIHBlciBzaWRlIHVzZWQgZm9yIHRoZSB0cmFuc2Zvcm0uXG4gKiBCeSBkZWZhdWx0IG9ubHkgdGhlIGNvcm5lcnMgYXJlIHVzZWQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IFRoZSB0cmFuc2Zvcm1lZCBleHRlbnQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1FeHRlbnQoZXh0ZW50LCBzb3VyY2UsIGRlc3RpbmF0aW9uLCBzdG9wcykge1xuICBjb25zdCB0cmFuc2Zvcm1GdW5jID0gZ2V0VHJhbnNmb3JtKHNvdXJjZSwgZGVzdGluYXRpb24pO1xuICByZXR1cm4gYXBwbHlUcmFuc2Zvcm0oZXh0ZW50LCB0cmFuc2Zvcm1GdW5jLCB1bmRlZmluZWQsIHN0b3BzKTtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSBnaXZlbiBwb2ludCB0byB0aGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBwb2ludCBQb2ludC5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gc291cmNlUHJvamVjdGlvbiBTb3VyY2UgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbn0gZGVzdGluYXRpb25Qcm9qZWN0aW9uIERlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gUG9pbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1XaXRoUHJvamVjdGlvbnMoXG4gIHBvaW50LFxuICBzb3VyY2VQcm9qZWN0aW9uLFxuICBkZXN0aW5hdGlvblByb2plY3Rpb25cbikge1xuICBjb25zdCB0cmFuc2Zvcm1GdW5jID0gZ2V0VHJhbnNmb3JtRnJvbVByb2plY3Rpb25zKFxuICAgIHNvdXJjZVByb2plY3Rpb24sXG4gICAgZGVzdGluYXRpb25Qcm9qZWN0aW9uXG4gICk7XG4gIHJldHVybiB0cmFuc2Zvcm1GdW5jKHBvaW50KTtcbn1cblxuLyoqXG4gKiBAdHlwZSB7UHJvamVjdGlvbnxudWxsfVxuICovXG5sZXQgdXNlclByb2plY3Rpb24gPSBudWxsO1xuXG4vKipcbiAqIFNldCB0aGUgcHJvamVjdGlvbiBmb3IgY29vcmRpbmF0ZXMgc3VwcGxpZWQgZnJvbSBhbmQgcmV0dXJuZWQgYnkgQVBJIG1ldGhvZHMuXG4gKiBUaGlzIGluY2x1ZGVzIGFsbCBBUEkgbWV0aG9kcyBleGNlcHQgZm9yIHRob3NlIGludGVyYWN0aW5nIHdpdGggdGlsZSBncmlkcy5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHByb2plY3Rpb24gVGhlIHVzZXIgcHJvamVjdGlvbi5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFVzZXJQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgdXNlclByb2plY3Rpb24gPSBnZXQocHJvamVjdGlvbik7XG59XG5cbi8qKlxuICogQ2xlYXIgdGhlIHVzZXIgcHJvamVjdGlvbiBpZiBzZXQuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclVzZXJQcm9qZWN0aW9uKCkge1xuICB1c2VyUHJvamVjdGlvbiA9IG51bGw7XG59XG5cbi8qKlxuICogR2V0IHRoZSBwcm9qZWN0aW9uIGZvciBjb29yZGluYXRlcyBzdXBwbGllZCBmcm9tIGFuZCByZXR1cm5lZCBieSBBUEkgbWV0aG9kcy5cbiAqIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBpcyBub3QgeWV0IGEgcGFydCBvZiB0aGUgc3RhYmxlIEFQSS4gIFN1cHBvcnQgZm9yIHVzZXJcbiAqIHByb2plY3Rpb25zIGlzIG5vdCB5ZXQgY29tcGxldGUgYW5kIHNob3VsZCBiZSBjb25zaWRlcmVkIGV4cGVyaW1lbnRhbC5cbiAqIEByZXR1cm4ge1Byb2plY3Rpb258bnVsbH0gVGhlIHVzZXIgcHJvamVjdGlvbiAob3IgbnVsbCBpZiBub3Qgc2V0KS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJQcm9qZWN0aW9uKCkge1xuICByZXR1cm4gdXNlclByb2plY3Rpb247XG59XG5cbi8qKlxuICogVXNlIGdlb2dyYXBoaWMgY29vcmRpbmF0ZXMgKFdHUy04NCBkYXR1bSkgaW4gQVBJIG1ldGhvZHMuICBUaGlzIGluY2x1ZGVzIGFsbCBBUElcbiAqIG1ldGhvZHMgZXhjZXB0IGZvciB0aG9zZSBpbnRlcmFjdGluZyB3aXRoIHRpbGUgZ3JpZHMuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VHZW9ncmFwaGljKCkge1xuICBzZXRVc2VyUHJvamVjdGlvbignRVBTRzo0MzI2Jyk7XG59XG5cbi8qKlxuICogUmV0dXJuIGEgY29vcmRpbmF0ZSB0cmFuc2Zvcm1lZCBpbnRvIHRoZSB1c2VyIHByb2plY3Rpb24uICBJZiBubyB1c2VyIHByb2plY3Rpb25cbiAqIGlzIHNldCwgdGhlIG9yaWdpbmFsIGNvb3JkaW5hdGUgaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGNvb3JkaW5hdGUgSW5wdXQgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZVByb2plY3Rpb24gVGhlIGlucHV0IGNvb3JkaW5hdGUgcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRoZSBpbnB1dCBjb29yZGluYXRlIGluIHRoZSB1c2VyIHByb2plY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1VzZXJDb29yZGluYXRlKGNvb3JkaW5hdGUsIHNvdXJjZVByb2plY3Rpb24pIHtcbiAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgIHJldHVybiBjb29yZGluYXRlO1xuICB9XG4gIHJldHVybiB0cmFuc2Zvcm0oY29vcmRpbmF0ZSwgc291cmNlUHJvamVjdGlvbiwgdXNlclByb2plY3Rpb24pO1xufVxuXG4vKipcbiAqIFJldHVybiBhIGNvb3JkaW5hdGUgdHJhbnNmb3JtZWQgZnJvbSB0aGUgdXNlciBwcm9qZWN0aW9uLiAgSWYgbm8gdXNlciBwcm9qZWN0aW9uXG4gKiBpcyBzZXQsIHRoZSBvcmlnaW5hbCBjb29yZGluYXRlIGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjb29yZGluYXRlIElucHV0IGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb25MaWtlfSBkZXN0UHJvamVjdGlvbiBUaGUgZGVzdGluYXRpb24gcHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFRoZSBpbnB1dCBjb29yZGluYXRlIHRyYW5zZm9ybWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVVzZXJDb29yZGluYXRlKGNvb3JkaW5hdGUsIGRlc3RQcm9qZWN0aW9uKSB7XG4gIGlmICghdXNlclByb2plY3Rpb24pIHtcbiAgICBpZiAoXG4gICAgICBzaG93Q29vcmRpbmF0ZVdhcm5pbmcgJiZcbiAgICAgICFlcXVhbHMoY29vcmRpbmF0ZSwgWzAsIDBdKSAmJlxuICAgICAgY29vcmRpbmF0ZVswXSA+PSAtMTgwICYmXG4gICAgICBjb29yZGluYXRlWzBdIDw9IDE4MCAmJlxuICAgICAgY29vcmRpbmF0ZVsxXSA+PSAtOTAgJiZcbiAgICAgIGNvb3JkaW5hdGVbMV0gPD0gOTBcbiAgICApIHtcbiAgICAgIHNob3dDb29yZGluYXRlV2FybmluZyA9IGZhbHNlO1xuICAgICAgd2FybihcbiAgICAgICAgJ0NhbGwgdXNlR2VvZ3JhcGhpYygpIGZyb20gb2wvcHJvaiBvbmNlIHRvIHdvcmsgd2l0aCBbbG9uZ2l0dWRlLCBsYXRpdHVkZV0gY29vcmRpbmF0ZXMuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvb3JkaW5hdGU7XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybShjb29yZGluYXRlLCB1c2VyUHJvamVjdGlvbiwgZGVzdFByb2plY3Rpb24pO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBleHRlbnQgdHJhbnNmb3JtZWQgaW50byB0aGUgdXNlciBwcm9qZWN0aW9uLiAgSWYgbm8gdXNlciBwcm9qZWN0aW9uXG4gKiBpcyBzZXQsIHRoZSBvcmlnaW5hbCBleHRlbnQgaXMgcmV0dXJuZWQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IElucHV0IGV4dGVudC5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZVByb2plY3Rpb24gVGhlIGlucHV0IGV4dGVudCBwcm9qZWN0aW9uLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBUaGUgaW5wdXQgZXh0ZW50IGluIHRoZSB1c2VyIHByb2plY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1VzZXJFeHRlbnQoZXh0ZW50LCBzb3VyY2VQcm9qZWN0aW9uKSB7XG4gIGlmICghdXNlclByb2plY3Rpb24pIHtcbiAgICByZXR1cm4gZXh0ZW50O1xuICB9XG4gIHJldHVybiB0cmFuc2Zvcm1FeHRlbnQoZXh0ZW50LCBzb3VyY2VQcm9qZWN0aW9uLCB1c2VyUHJvamVjdGlvbik7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGV4dGVudCB0cmFuc2Zvcm1lZCBmcm9tIHRoZSB1c2VyIHByb2plY3Rpb24uICBJZiBubyB1c2VyIHByb2plY3Rpb25cbiAqIGlzIHNldCwgdGhlIG9yaWdpbmFsIGV4dGVudCBpcyByZXR1cm5lZC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgSW5wdXQgZXh0ZW50LlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdFByb2plY3Rpb24gVGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IFRoZSBpbnB1dCBleHRlbnQgdHJhbnNmb3JtZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVXNlckV4dGVudChleHRlbnQsIGRlc3RQcm9qZWN0aW9uKSB7XG4gIGlmICghdXNlclByb2plY3Rpb24pIHtcbiAgICByZXR1cm4gZXh0ZW50O1xuICB9XG4gIHJldHVybiB0cmFuc2Zvcm1FeHRlbnQoZXh0ZW50LCB1c2VyUHJvamVjdGlvbiwgZGVzdFByb2plY3Rpb24pO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgcmVzb2x1dGlvbiBpbiB1c2VyIHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLiBJZiBubyB1c2VyIHByb2plY3Rpb25cbiAqIGlzIHNldCwgb3Igc291cmNlIG9yIHVzZXIgcHJvamVjdGlvbiBhcmUgbWlzc2luZyB1bml0cywgdGhlIG9yaWdpbmFsIHJlc29sdXRpb25cbiAqIGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbiBpbiBpbnB1dCBwcm9qZWN0aW9uIHVuaXRzIHBlciBwaXhlbC5cbiAqIEBwYXJhbSB7UHJvamVjdGlvbkxpa2V9IHNvdXJjZVByb2plY3Rpb24gVGhlIGlucHV0IHByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24gaW4gdXNlciBwcm9qZWN0aW9uIHVuaXRzIHBlciBwaXhlbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvVXNlclJlc29sdXRpb24ocmVzb2x1dGlvbiwgc291cmNlUHJvamVjdGlvbikge1xuICBpZiAoIXVzZXJQcm9qZWN0aW9uKSB7XG4gICAgcmV0dXJuIHJlc29sdXRpb247XG4gIH1cbiAgY29uc3Qgc291cmNlVW5pdHMgPSBnZXQoc291cmNlUHJvamVjdGlvbikuZ2V0VW5pdHMoKTtcbiAgY29uc3QgdXNlclVuaXRzID0gdXNlclByb2plY3Rpb24uZ2V0VW5pdHMoKTtcbiAgcmV0dXJuIHNvdXJjZVVuaXRzICYmIHVzZXJVbml0c1xuICAgID8gKHJlc29sdXRpb24gKiBNRVRFUlNfUEVSX1VOSVRbc291cmNlVW5pdHNdKSAvIE1FVEVSU19QRVJfVU5JVFt1c2VyVW5pdHNdXG4gICAgOiByZXNvbHV0aW9uO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgcmVzb2x1dGlvbiBpbiB1c2VyIHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLiBJZiBubyB1c2VyIHByb2plY3Rpb25cbiAqIGlzIHNldCwgb3Igc291cmNlIG9yIHVzZXIgcHJvamVjdGlvbiBhcmUgbWlzc2luZyB1bml0cywgdGhlIG9yaWdpbmFsIHJlc29sdXRpb25cbiAqIGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbiBpbiB1c2VyIHByb2plY3Rpb24gdW5pdHMgcGVyIHBpeGVsLlxuICogQHBhcmFtIHtQcm9qZWN0aW9uTGlrZX0gZGVzdFByb2plY3Rpb24gVGhlIGRlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24gaW4gZGVzdGluYXRpb24gcHJvamVjdGlvbiB1bml0cyBwZXIgcGl4ZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVXNlclJlc29sdXRpb24ocmVzb2x1dGlvbiwgZGVzdFByb2plY3Rpb24pIHtcbiAgaWYgKCF1c2VyUHJvamVjdGlvbikge1xuICAgIHJldHVybiByZXNvbHV0aW9uO1xuICB9XG4gIGNvbnN0IHNvdXJjZVVuaXRzID0gZ2V0KGRlc3RQcm9qZWN0aW9uKS5nZXRVbml0cygpO1xuICBjb25zdCB1c2VyVW5pdHMgPSB1c2VyUHJvamVjdGlvbi5nZXRVbml0cygpO1xuICByZXR1cm4gc291cmNlVW5pdHMgJiYgdXNlclVuaXRzXG4gICAgPyAocmVzb2x1dGlvbiAqIE1FVEVSU19QRVJfVU5JVFt1c2VyVW5pdHNdKSAvIE1FVEVSU19QRVJfVU5JVFtzb3VyY2VVbml0c11cbiAgICA6IHJlc29sdXRpb247XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHNhZmUgY29vcmRpbmF0ZSB0cmFuc2Zvcm0gZnVuY3Rpb24gZnJvbSBhIGNvb3JkaW5hdGUgdHJhbnNmb3JtIGZ1bmN0aW9uLlxuICogXCJTYWZlXCIgbWVhbnMgdGhhdCBpdCBjYW4gaGFuZGxlIHdyYXBwaW5nIG9mIHgtY29vcmRpbmF0ZXMgZm9yIGdsb2JhbCBwcm9qZWN0aW9ucyxcbiAqIGFuZCB0aGF0IGNvb3JkaW5hdGVzIGV4Y2VlZGluZyB0aGUgc291cmNlIHByb2plY3Rpb24gdmFsaWRpdHkgZXh0ZW50J3MgcmFuZ2Ugd2lsbCBiZVxuICogY2xhbXBlZCB0byB0aGUgdmFsaWRpdHkgcmFuZ2UuXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IHNvdXJjZVByb2ogU291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge1Byb2plY3Rpb259IGRlc3RQcm9qIERlc3RpbmF0aW9uIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IHRyYW5zZm9ybSBUcmFuc2Zvcm0gZnVuY3Rpb24gKHNvdXJjZSB0byBkZXN0aWF0aW9uKS5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKGltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlKTogaW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFNhZmUgdHJhbnNmb3JtIGZ1bmN0aW9uIChzb3VyY2UgdG8gZGVzdGlhdGlvbikuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTYWZlQ29vcmRpbmF0ZVRyYW5zZm9ybShzb3VyY2VQcm9qLCBkZXN0UHJvaiwgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoY29vcmQpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWQsIHdvcmxkc0F3YXk7XG4gICAgaWYgKHNvdXJjZVByb2ouY2FuV3JhcFgoKSkge1xuICAgICAgY29uc3Qgc291cmNlRXh0ZW50ID0gc291cmNlUHJvai5nZXRFeHRlbnQoKTtcbiAgICAgIGNvbnN0IHNvdXJjZUV4dGVudFdpZHRoID0gZ2V0V2lkdGgoc291cmNlRXh0ZW50KTtcbiAgICAgIGNvb3JkID0gY29vcmQuc2xpY2UoMCk7XG4gICAgICB3b3JsZHNBd2F5ID0gZ2V0V29ybGRzQXdheShjb29yZCwgc291cmNlUHJvaiwgc291cmNlRXh0ZW50V2lkdGgpO1xuICAgICAgaWYgKHdvcmxkc0F3YXkpIHtcbiAgICAgICAgLy8gTW92ZSB4IHRvIHRoZSByZWFsIHdvcmxkXG4gICAgICAgIGNvb3JkWzBdID0gY29vcmRbMF0gLSB3b3JsZHNBd2F5ICogc291cmNlRXh0ZW50V2lkdGg7XG4gICAgICB9XG4gICAgICBjb29yZFswXSA9IGNsYW1wKGNvb3JkWzBdLCBzb3VyY2VFeHRlbnRbMF0sIHNvdXJjZUV4dGVudFsyXSk7XG4gICAgICBjb29yZFsxXSA9IGNsYW1wKGNvb3JkWzFdLCBzb3VyY2VFeHRlbnRbMV0sIHNvdXJjZUV4dGVudFszXSk7XG4gICAgICB0cmFuc2Zvcm1lZCA9IHRyYW5zZm9ybShjb29yZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zZm9ybWVkID0gdHJhbnNmb3JtKGNvb3JkKTtcbiAgICB9XG4gICAgaWYgKHdvcmxkc0F3YXkgJiYgZGVzdFByb2ouY2FuV3JhcFgoKSkge1xuICAgICAgLy8gTW92ZSB0cmFuc2Zvcm1lZCBjb29yZGluYXRlIGJhY2sgdG8gdGhlIG9mZnNldCB3b3JsZFxuICAgICAgdHJhbnNmb3JtZWRbMF0gKz0gd29ybGRzQXdheSAqIGdldFdpZHRoKGRlc3RQcm9qLmdldEV4dGVudCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybWVkO1xuICB9O1xufVxuXG4vKipcbiAqIEFkZCB0cmFuc2Zvcm1zIHRvIGFuZCBmcm9tIEVQU0c6NDMyNiBhbmQgRVBTRzozODU3LiAgVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWRcbiAqIGJ5IHdoZW4gdGhpcyBtb2R1bGUgaXMgZXhlY3V0ZWQgYW5kIHNob3VsZCBvbmx5IG5lZWQgdG8gYmUgY2FsbGVkIGFnYWluIGFmdGVyXG4gKiBgY2xlYXJBbGxQcm9qZWN0aW9ucygpYCBpcyBjYWxsZWQgKGUuZy4gaW4gdGVzdHMpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29tbW9uKCkge1xuICAvLyBBZGQgdHJhbnNmb3JtYXRpb25zIHRoYXQgZG9uJ3QgYWx0ZXIgY29vcmRpbmF0ZXMgdG8gY29udmVydCB3aXRoaW4gc2V0IG9mXG4gIC8vIHByb2plY3Rpb25zIHdpdGggZXF1YWwgbWVhbmluZy5cbiAgYWRkRXF1aXZhbGVudFByb2plY3Rpb25zKEVQU0czODU3X1BST0pFQ1RJT05TKTtcbiAgYWRkRXF1aXZhbGVudFByb2plY3Rpb25zKEVQU0c0MzI2X1BST0pFQ1RJT05TKTtcbiAgLy8gQWRkIHRyYW5zZm9ybWF0aW9ucyB0byBjb252ZXJ0IEVQU0c6NDMyNiBsaWtlIGNvb3JkaW5hdGVzIHRvIEVQU0c6Mzg1NyBsaWtlXG4gIC8vIGNvb3JkaW5hdGVzIGFuZCBiYWNrLlxuICBhZGRFcXVpdmFsZW50VHJhbnNmb3JtcyhcbiAgICBFUFNHNDMyNl9QUk9KRUNUSU9OUyxcbiAgICBFUFNHMzg1N19QUk9KRUNUSU9OUyxcbiAgICBmcm9tRVBTRzQzMjYsXG4gICAgdG9FUFNHNDMyNlxuICApO1xufVxuXG5hZGRDb21tb24oKTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9wcm9qL1Byb2plY3Rpb25cbiAqL1xuaW1wb3J0IHtNRVRFUlNfUEVSX1VOSVR9IGZyb20gJy4vVW5pdHMuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjb2RlIFRoZSBTUlMgaWRlbnRpZmllciBjb2RlLCBlLmcuIGBFUFNHOjQzMjZgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1VuaXRzLmpzXCIpLlVuaXRzfSBbdW5pdHNdIFVuaXRzLiBSZXF1aXJlZCB1bmxlc3MgYVxuICogcHJvajQgcHJvamVjdGlvbiBpcyBkZWZpbmVkIGZvciBgY29kZWAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFtleHRlbnRdIFRoZSB2YWxpZGl0eSBleHRlbnQgZm9yIHRoZSBTUlMuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2F4aXNPcmllbnRhdGlvbj0nZW51J10gVGhlIGF4aXMgb3JpZW50YXRpb24gYXMgc3BlY2lmaWVkIGluIFByb2o0LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZ2xvYmFsPWZhbHNlXSBXaGV0aGVyIHRoZSBwcm9qZWN0aW9uIGlzIHZhbGlkIGZvciB0aGUgd2hvbGUgZ2xvYmUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21ldGVyc1BlclVuaXRdIFRoZSBtZXRlcnMgcGVyIHVuaXQgZm9yIHRoZSBTUlMuXG4gKiBJZiBub3QgcHJvdmlkZWQsIHRoZSBgdW5pdHNgIGFyZSB1c2VkIHRvIGdldCB0aGUgbWV0ZXJzIHBlciB1bml0IGZyb20gdGhlIHtAbGluayBNRVRFUlNfUEVSX1VOSVR9XG4gKiBsb29rdXAgdGFibGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFt3b3JsZEV4dGVudF0gVGhlIHdvcmxkIGV4dGVudCBmb3IgdGhlIFNSUy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb24obnVtYmVyLCBpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGUpOm51bWJlcn0gW2dldFBvaW50UmVzb2x1dGlvbl1cbiAqIEZ1bmN0aW9uIHRvIGRldGVybWluZSByZXNvbHV0aW9uIGF0IGEgcG9pbnQuIFRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBhXG4gKiBgbnVtYmVyYCB2aWV3IHJlc29sdXRpb24gYW5kIGEge0BsaW5rIG1vZHVsZTpvbC9jb29yZGluYXRlfkNvb3JkaW5hdGV9IGFzIGFyZ3VtZW50cywgYW5kIHJldHVybnNcbiAqIHRoZSBgbnVtYmVyYCByZXNvbHV0aW9uIGluIHByb2plY3Rpb24gdW5pdHMgYXQgdGhlIHBhc3NlZCBjb29yZGluYXRlLiBJZiB0aGlzIGlzIGB1bmRlZmluZWRgLFxuICogdGhlIGRlZmF1bHQge0BsaW5rIG1vZHVsZTpvbC9wcm9qLmdldFBvaW50UmVzb2x1dGlvbn0gZnVuY3Rpb24gd2lsbCBiZSB1c2VkLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogUHJvamVjdGlvbiBkZWZpbml0aW9uIGNsYXNzLiBPbmUgb2YgdGhlc2UgaXMgY3JlYXRlZCBmb3IgZWFjaCBwcm9qZWN0aW9uXG4gKiBzdXBwb3J0ZWQgaW4gdGhlIGFwcGxpY2F0aW9uIGFuZCBzdG9yZWQgaW4gdGhlIHtAbGluayBtb2R1bGU6b2wvcHJvan0gbmFtZXNwYWNlLlxuICogWW91IGNhbiB1c2UgdGhlc2UgaW4gYXBwbGljYXRpb25zLCBidXQgdGhpcyBpcyBub3QgcmVxdWlyZWQsIGFzIEFQSSBwYXJhbXNcbiAqIGFuZCBvcHRpb25zIHVzZSB7QGxpbmsgbW9kdWxlOm9sL3Byb2p+UHJvamVjdGlvbkxpa2V9IHdoaWNoIG1lYW5zIHRoZSBzaW1wbGUgc3RyaW5nXG4gKiBjb2RlIHdpbGwgc3VmZmljZS5cbiAqXG4gKiBZb3UgY2FuIHVzZSB7QGxpbmsgbW9kdWxlOm9sL3Byb2ouZ2V0fSB0byByZXRyaWV2ZSB0aGUgb2JqZWN0IGZvciBhIHBhcnRpY3VsYXJcbiAqIHByb2plY3Rpb24uXG4gKlxuICogVGhlIGxpYnJhcnkgaW5jbHVkZXMgZGVmaW5pdGlvbnMgZm9yIGBFUFNHOjQzMjZgIGFuZCBgRVBTRzozODU3YCwgdG9nZXRoZXJcbiAqIHdpdGggdGhlIGZvbGxvd2luZyBhbGlhc2VzOlxuICogKiBgRVBTRzo0MzI2YDogQ1JTOjg0LCB1cm46b2djOmRlZjpjcnM6RVBTRzo2LjY6NDMyNixcbiAqICAgICB1cm46b2djOmRlZjpjcnM6T0dDOjEuMzpDUlM4NCwgdXJuOm9nYzpkZWY6Y3JzOk9HQzoyOjg0LFxuICogICAgIGh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sL3Nycy9lcHNnLnhtbCM0MzI2LFxuICogICAgIHVybjp4LW9nYzpkZWY6Y3JzOkVQU0c6NDMyNlxuICogKiBgRVBTRzozODU3YDogRVBTRzoxMDIxMDAsIEVQU0c6MTAyMTEzLCBFUFNHOjkwMDkxMyxcbiAqICAgICB1cm46b2djOmRlZjpjcnM6RVBTRzo2LjE4OjM6Mzg1NyxcbiAqICAgICBodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbC9zcnMvZXBzZy54bWwjMzg1N1xuICpcbiAqIElmIHlvdSB1c2UgW3Byb2o0anNdKGh0dHBzOi8vZ2l0aHViLmNvbS9wcm9qNGpzL3Byb2o0anMpLCBhbGlhc2VzIGNhblxuICogYmUgYWRkZWQgdXNpbmcgYHByb2o0LmRlZnMoKWAuIEFmdGVyIGFsbCByZXF1aXJlZCBwcm9qZWN0aW9uIGRlZmluaXRpb25zIGFyZVxuICogYWRkZWQsIGNhbGwgdGhlIHtAbGluayBtb2R1bGU6b2wvcHJvai9wcm9qNC5yZWdpc3Rlcn0gZnVuY3Rpb24uXG4gKlxuICogQGFwaVxuICovXG5jbGFzcyBQcm9qZWN0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBQcm9qZWN0aW9uIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuY29kZV8gPSBvcHRpb25zLmNvZGU7XG5cbiAgICAvKipcbiAgICAgKiBVbml0cyBvZiBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMuIFdoZW4gc2V0IHRvIGBUSUxFX1BJWEVMU2AsIGFcbiAgICAgKiBgdGhpcy5leHRlbnRfYCBhbmQgYHRoaXMud29ybGRFeHRlbnRfYCBtdXN0IGJlIGNvbmZpZ3VyZWQgcHJvcGVybHkgZm9yIGVhY2hcbiAgICAgKiB0aWxlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vVW5pdHMuanNcIikuVW5pdHN9XG4gICAgICovXG4gICAgdGhpcy51bml0c18gPSAvKiogQHR5cGUge2ltcG9ydChcIi4vVW5pdHMuanNcIikuVW5pdHN9ICovIChvcHRpb25zLnVuaXRzKTtcblxuICAgIC8qKlxuICAgICAqIFZhbGlkaXR5IGV4dGVudCBvZiB0aGUgcHJvamVjdGlvbiBpbiBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMuIEZvciBwcm9qZWN0aW9uc1xuICAgICAqIHdpdGggYFRJTEVfUElYRUxTYCB1bml0cywgdGhpcyBpcyB0aGUgZXh0ZW50IG9mIHRoZSB0aWxlIGluXG4gICAgICogdGlsZSBwaXhlbCBzcGFjZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMuZXh0ZW50XyA9IG9wdGlvbnMuZXh0ZW50ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmV4dGVudCA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBFeHRlbnQgb2YgdGhlIHdvcmxkIGluIEVQU0c6NDMyNi4gRm9yIHByb2plY3Rpb25zIHdpdGhcbiAgICAgKiBgVElMRV9QSVhFTFNgIHVuaXRzLCB0aGlzIGlzIHRoZSBleHRlbnQgb2YgdGhlIHRpbGUgaW5cbiAgICAgKiBwcm9qZWN0ZWQgY29vcmRpbmF0ZSBzcGFjZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMud29ybGRFeHRlbnRfID1cbiAgICAgIG9wdGlvbnMud29ybGRFeHRlbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMud29ybGRFeHRlbnQgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuYXhpc09yaWVudGF0aW9uXyA9XG4gICAgICBvcHRpb25zLmF4aXNPcmllbnRhdGlvbiAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5heGlzT3JpZW50YXRpb24gOiAnZW51JztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5nbG9iYWxfID0gb3B0aW9ucy5nbG9iYWwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZ2xvYmFsIDogZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuY2FuV3JhcFhfID0gISEodGhpcy5nbG9iYWxfICYmIHRoaXMuZXh0ZW50Xyk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtmdW5jdGlvbihudW1iZXIsIGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmdldFBvaW50UmVzb2x1dGlvbkZ1bmNfID0gb3B0aW9ucy5nZXRQb2ludFJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuZGVmYXVsdFRpbGVHcmlkXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMubWV0ZXJzUGVyVW5pdF8gPSBvcHRpb25zLm1ldGVyc1BlclVuaXQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHByb2plY3Rpb24gaXMgc3VpdGFibGUgZm9yIHdyYXBwaW5nIHRoZSB4LWF4aXNcbiAgICovXG4gIGNhbldyYXBYKCkge1xuICAgIHJldHVybiB0aGlzLmNhbldyYXBYXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvZGUgZm9yIHRoaXMgcHJvamVjdGlvbiwgZS5nLiAnRVBTRzo0MzI2Jy5cbiAgICogQHJldHVybiB7c3RyaW5nfSBDb2RlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRDb2RlKCkge1xuICAgIHJldHVybiB0aGlzLmNvZGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsaWRpdHkgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RXh0ZW50KCkge1xuICAgIHJldHVybiB0aGlzLmV4dGVudF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB1bml0cyBvZiB0aGlzIHByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vVW5pdHMuanNcIikuVW5pdHN9IFVuaXRzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRVbml0cygpIHtcbiAgICByZXR1cm4gdGhpcy51bml0c187XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhbW91bnQgb2YgbWV0ZXJzIHBlciB1bml0IG9mIHRoaXMgcHJvamVjdGlvbi4gIElmIHRoZSBwcm9qZWN0aW9uIGlzXG4gICAqIG5vdCBjb25maWd1cmVkIHdpdGggYG1ldGVyc1BlclVuaXRgIG9yIGEgdW5pdHMgaWRlbnRpZmllciwgdGhlIHJldHVybiBpc1xuICAgKiBgdW5kZWZpbmVkYC5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gTWV0ZXJzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRNZXRlcnNQZXJVbml0KCkge1xuICAgIHJldHVybiB0aGlzLm1ldGVyc1BlclVuaXRfIHx8IE1FVEVSU19QRVJfVU5JVFt0aGlzLnVuaXRzX107XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB3b3JsZCBleHRlbnQgZm9yIHRoaXMgcHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRXb3JsZEV4dGVudCgpIHtcbiAgICByZXR1cm4gdGhpcy53b3JsZEV4dGVudF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBheGlzIG9yaWVudGF0aW9uIG9mIHRoaXMgcHJvamVjdGlvbi5cbiAgICogRXhhbXBsZSB2YWx1ZXMgYXJlOlxuICAgKiBlbnUgLSB0aGUgZGVmYXVsdCBlYXN0aW5nLCBub3J0aGluZywgZWxldmF0aW9uLlxuICAgKiBuZXUgLSBub3J0aGluZywgZWFzdGluZywgdXAgLSB1c2VmdWwgZm9yIFwibGF0L2xvbmdcIiBnZW9ncmFwaGljIGNvb3JkaW5hdGVzLFxuICAgKiAgICAgb3Igc291dGggb3JpZW50YXRlZCB0cmFuc3ZlcnNlIG1lcmNhdG9yLlxuICAgKiB3bnUgLSB3ZXN0aW5nLCBub3J0aGluZywgdXAgLSBzb21lIHBsYW5ldGFyeSBjb29yZGluYXRlIHN5c3RlbXMgaGF2ZVxuICAgKiAgICAgXCJ3ZXN0IHBvc2l0aXZlXCIgY29vcmRpbmF0ZSBzeXN0ZW1zXG4gICAqIEByZXR1cm4ge3N0cmluZ30gQXhpcyBvcmllbnRhdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0QXhpc09yaWVudGF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmF4aXNPcmllbnRhdGlvbl87XG4gIH1cblxuICAvKipcbiAgICogSXMgdGhpcyBwcm9qZWN0aW9uIGEgZ2xvYmFsIHByb2plY3Rpb24gd2hpY2ggc3BhbnMgdGhlIHdob2xlIHdvcmxkP1xuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBwcm9qZWN0aW9uIGlzIGdsb2JhbC5cbiAgICogQGFwaVxuICAgKi9cbiAgaXNHbG9iYWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2xvYmFsXztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgaWYgdGhlIHByb2plY3Rpb24gaXMgYSBnbG9iYWwgcHJvamVjdGlvbiB3aGljaCBzcGFucyB0aGUgd2hvbGUgd29ybGRcbiAgICogQHBhcmFtIHtib29sZWFufSBnbG9iYWwgV2hldGhlciB0aGUgcHJvamVjdGlvbiBpcyBnbG9iYWwuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEdsb2JhbChnbG9iYWwpIHtcbiAgICB0aGlzLmdsb2JhbF8gPSBnbG9iYWw7XG4gICAgdGhpcy5jYW5XcmFwWF8gPSAhIShnbG9iYWwgJiYgdGhpcy5leHRlbnRfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBUaGUgZGVmYXVsdCB0aWxlIGdyaWQuXG4gICAqL1xuICBnZXREZWZhdWx0VGlsZUdyaWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVmYXVsdFRpbGVHcmlkXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRoZSBkZWZhdWx0IHRpbGUgZ3JpZC5cbiAgICovXG4gIHNldERlZmF1bHRUaWxlR3JpZCh0aWxlR3JpZCkge1xuICAgIHRoaXMuZGVmYXVsdFRpbGVHcmlkXyA9IHRpbGVHcmlkO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsaWRpdHkgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0RXh0ZW50KGV4dGVudCkge1xuICAgIHRoaXMuZXh0ZW50XyA9IGV4dGVudDtcbiAgICB0aGlzLmNhbldyYXBYXyA9ICEhKHRoaXMuZ2xvYmFsXyAmJiBleHRlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgd29ybGQgZXh0ZW50IGZvciB0aGlzIHByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gd29ybGRFeHRlbnQgV29ybGQgZXh0ZW50XG4gICAqICAgICBbbWlubG9uLCBtaW5sYXQsIG1heGxvbiwgbWF4bGF0XS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0V29ybGRFeHRlbnQod29ybGRFeHRlbnQpIHtcbiAgICB0aGlzLndvcmxkRXh0ZW50XyA9IHdvcmxkRXh0ZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZ2V0UG9pbnRSZXNvbHV0aW9uIGZ1bmN0aW9uIChzZWUge0BsaW5rIG1vZHVsZTpvbC9wcm9qLmdldFBvaW50UmVzb2x1dGlvbn1cbiAgICogZm9yIHRoaXMgcHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihudW1iZXIsIGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6bnVtYmVyfSBmdW5jIEZ1bmN0aW9uXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEdldFBvaW50UmVzb2x1dGlvbihmdW5jKSB7XG4gICAgdGhpcy5nZXRQb2ludFJlc29sdXRpb25GdW5jXyA9IGZ1bmM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXN0b20gcG9pbnQgcmVzb2x1dGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBwcm9qZWN0aW9uIChpZiBzZXQpLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbihudW1iZXIsIGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZSk6bnVtYmVyfHVuZGVmaW5lZH0gVGhlIGN1c3RvbSBwb2ludFxuICAgKiByZXNvbHV0aW9uIGZ1bmN0aW9uIChpZiBzZXQpLlxuICAgKi9cbiAgZ2V0UG9pbnRSZXNvbHV0aW9uRnVuYygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRQb2ludFJlc29sdXRpb25GdW5jXztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQcm9qZWN0aW9uO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3Byb2ovVW5pdHNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsncmFkaWFucycgfCAnZGVncmVlcycgfCAnZnQnIHwgJ20nIHwgJ3BpeGVscycgfCAndGlsZS1waXhlbHMnIHwgJ3VzLWZ0J30gVW5pdHNcbiAqIFByb2plY3Rpb24gdW5pdHMuXG4gKi9cblxuLyoqXG4gKiBTZWUgaHR0cDovL2R1ZmYuZXNzLndhc2hpbmd0b24uZWR1L2RhdGEvcmFzdGVyL2RyZy9kb2NzL2dlb3RpZmYudHh0XG4gKiBAdHlwZSB7T2JqZWN0PG51bWJlciwgVW5pdHM+fVxuICovXG5jb25zdCB1bml0QnlDb2RlID0ge1xuICAnOTAwMSc6ICdtJyxcbiAgJzkwMDInOiAnZnQnLFxuICAnOTAwMyc6ICd1cy1mdCcsXG4gICc5MTAxJzogJ3JhZGlhbnMnLFxuICAnOTEwMic6ICdkZWdyZWVzJyxcbn07XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGNvZGUgVW5pdCBjb2RlLlxuICogQHJldHVybiB7VW5pdHN9IFVuaXRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUNvZGUoY29kZSkge1xuICByZXR1cm4gdW5pdEJ5Q29kZVtjb2RlXTtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNZXRlcnNQZXJVbml0TG9va3VwXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmFkaWFucyBSYWRpYW5zXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGVncmVlcyBEZWdyZWVzXG4gKiBAcHJvcGVydHkge251bWJlcn0gZnQgIEZlZXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtIE1ldGVyc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHVzLWZ0IFVTIGZlZXRcbiAqL1xuXG4vKipcbiAqIE1ldGVycyBwZXIgdW5pdCBsb29rdXAgdGFibGUuXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtNZXRlcnNQZXJVbml0TG9va3VwfVxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3QgTUVURVJTX1BFUl9VTklUID0ge1xuICAvLyB1c2UgdGhlIHJhZGl1cyBvZiB0aGUgTm9ybWFsIHNwaGVyZVxuICAncmFkaWFucyc6IDYzNzA5OTcgLyAoMiAqIE1hdGguUEkpLFxuICAnZGVncmVlcyc6ICgyICogTWF0aC5QSSAqIDYzNzA5OTcpIC8gMzYwLFxuICAnZnQnOiAwLjMwNDgsXG4gICdtJzogMSxcbiAgJ3VzLWZ0JzogMTIwMCAvIDM5MzcsXG59O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9FdmVudFxuICovXG5cbmltcG9ydCBFdmVudCBmcm9tICcuLi9ldmVudHMvRXZlbnQuanMnO1xuXG5jbGFzcyBSZW5kZXJFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9FdmVudFR5cGUuanNcIikuZGVmYXVsdH0gdHlwZSBUeXBlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19IFtpbnZlcnNlUGl4ZWxUcmFuc2Zvcm1dIFRyYW5zZm9ybSBmb3JcbiAgICogICAgIENTUyBwaXhlbHMgdG8gcmVuZGVyZWQgcGl4ZWxzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBbZnJhbWVTdGF0ZV0gRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7PyhDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR8V2ViR0xSZW5kZXJpbmdDb250ZXh0KX0gW2NvbnRleHRdIENvbnRleHQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBpbnZlcnNlUGl4ZWxUcmFuc2Zvcm0sIGZyYW1lU3RhdGUsIGNvbnRleHQpIHtcbiAgICBzdXBlcih0eXBlKTtcblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBmcm9tIENTUyBwaXhlbHMgKHJlbGF0aXZlIHRvIHRoZSB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIG1hcCB2aWV3cG9ydClcbiAgICAgKiB0byByZW5kZXJlZCBwaXhlbHMgb24gdGhpcyBldmVudCdzIGBjb250ZXh0YC4gT25seSBhdmFpbGFibGUgd2hlbiBhIENhbnZhcyByZW5kZXJlciBpcyB1c2VkLCBudWxsIG90aGVyd2lzZS5cbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybXx1bmRlZmluZWR9XG4gICAgICogQGFwaVxuICAgICAqL1xuICAgIHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtID0gaW52ZXJzZVBpeGVsVHJhbnNmb3JtO1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY3VycmVudCByZW5kZXIgZnJhbWUgc3RhdGUuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfHVuZGVmaW5lZH1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy5mcmFtZVN0YXRlID0gZnJhbWVTdGF0ZTtcblxuICAgIC8qKlxuICAgICAqIENhbnZhcyBjb250ZXh0LiBOb3QgYXZhaWxhYmxlIHdoZW4gdGhlIGV2ZW50IGlzIGRpc3BhdGNoZWQgYnkgdGhlIG1hcC4gRm9yIENhbnZhcyAyRCBsYXllcnMsXG4gICAgICogdGhlIGNvbnRleHQgd2lsbCBiZSB0aGUgMkQgcmVuZGVyaW5nIGNvbnRleHQuICBGb3IgV2ViR0wgbGF5ZXJzLCB0aGUgY29udGV4dCB3aWxsIGJlIHRoZSBXZWJHTFxuICAgICAqIGNvbnRleHQuXG4gICAgICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRHxXZWJHTFJlbmRlcmluZ0NvbnRleHR8dW5kZWZpbmVkfVxuICAgICAqIEBhcGlcbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlbmRlckV2ZW50O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlci9FdmVudFR5cGVcbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLyoqXG4gICAqIFRyaWdnZXJlZCBiZWZvcmUgYSBsYXllciBpcyByZW5kZXJlZC5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnQjcHJlcmVuZGVyXG4gICAqIEBhcGlcbiAgICovXG4gIFBSRVJFTkRFUjogJ3ByZXJlbmRlcicsXG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCBhZnRlciBhIGxheWVyIGlzIHJlbmRlcmVkLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwb3N0cmVuZGVyXG4gICAqIEBhcGlcbiAgICovXG4gIFBPU1RSRU5ERVI6ICdwb3N0cmVuZGVyJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIGJlZm9yZSBsYXllcnMgYXJlIGNvbXBvc2VkLiAgV2hlbiBkaXNwYXRjaGVkIGJ5IHRoZSBtYXAsIHRoZSBldmVudCBvYmplY3Qgd2lsbCBub3QgaGF2ZVxuICAgKiBhIGBjb250ZXh0YCBzZXQuICBXaGVuIGRpc3BhdGNoZWQgYnkgYSBsYXllciwgdGhlIGV2ZW50IG9iamVjdCB3aWxsIGhhdmUgYSBgY29udGV4dGAgc2V0LiAgT25seVxuICAgKiBXZWJHTCBsYXllcnMgY3VycmVudGx5IGRpc3BhdGNoIHRoaXMgZXZlbnQuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvcmVuZGVyL0V2ZW50flJlbmRlckV2ZW50I3ByZWNvbXBvc2VcbiAgICogQGFwaVxuICAgKi9cbiAgUFJFQ09NUE9TRTogJ3ByZWNvbXBvc2UnLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgbGF5ZXJzIGFyZSBjb21wb3NlZC4gIFdoZW4gZGlzcGF0Y2hlZCBieSB0aGUgbWFwLCB0aGUgZXZlbnQgb2JqZWN0IHdpbGwgbm90IGhhdmVcbiAgICogYSBgY29udGV4dGAgc2V0LiAgV2hlbiBkaXNwYXRjaGVkIGJ5IGEgbGF5ZXIsIHRoZSBldmVudCBvYmplY3Qgd2lsbCBoYXZlIGEgYGNvbnRleHRgIHNldC4gIE9ubHlcbiAgICogV2ViR0wgbGF5ZXJzIGN1cnJlbnRseSBkaXNwYXRjaCB0aGlzIGV2ZW50LlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL3JlbmRlci9FdmVudH5SZW5kZXJFdmVudCNwb3N0Y29tcG9zZVxuICAgKiBAYXBpXG4gICAqL1xuICBQT1NUQ09NUE9TRTogJ3Bvc3Rjb21wb3NlJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIHdoZW4gcmVuZGVyaW5nIGlzIGNvbXBsZXRlLCBpLmUuIGFsbCBzb3VyY2VzIGFuZCB0aWxlcyBoYXZlXG4gICAqIGZpbmlzaGVkIGxvYWRpbmcgZm9yIHRoZSBjdXJyZW50IHZpZXdwb3J0LCBhbmQgYWxsIHRpbGVzIGFyZSBmYWRlZCBpbi5cbiAgICogVGhlIGV2ZW50IG9iamVjdCB3aWxsIG5vdCBoYXZlIGEgYGNvbnRleHRgIHNldC5cbiAgICogQGV2ZW50IG1vZHVsZTpvbC9yZW5kZXIvRXZlbnR+UmVuZGVyRXZlbnQjcmVuZGVyY29tcGxldGVcbiAgICogQGFwaVxuICAgKi9cbiAgUkVOREVSQ09NUExFVEU6ICdyZW5kZXJjb21wbGV0ZScsXG59O1xuXG4vKipcbiAqIEB0eXBlZGVmIHsncG9zdHJlbmRlcid8J3ByZWNvbXBvc2UnfCdwb3N0Y29tcG9zZSd8J3JlbmRlcmNvbXBsZXRlJ30gTWFwUmVuZGVyRXZlbnRUeXBlc1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeydwb3N0cmVuZGVyJ3wncHJlcmVuZGVyJ30gTGF5ZXJSZW5kZXJFdmVudFR5cGVzXG4gKi9cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvaW50ZXJwb2xhdGVcbiAqL1xuaW1wb3J0IHtiaW5hcnlTZWFyY2h9IGZyb20gJy4uLy4uL2FycmF5LmpzJztcbmltcG9ydCB7bGVycH0gZnJvbSAnLi4vLi4vbWF0aC5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmcmFjdGlvbiBGcmFjdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gW2Rlc3RdIERlc3RpbmF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtkaW1lbnNpb25dIERlc3RpbmF0aW9uIGRpbWVuc2lvbiAoZGVmYXVsdCBpcyBgMmApXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBEZXN0aW5hdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVycG9sYXRlUG9pbnQoXG4gIGZsYXRDb29yZGluYXRlcyxcbiAgb2Zmc2V0LFxuICBlbmQsXG4gIHN0cmlkZSxcbiAgZnJhY3Rpb24sXG4gIGRlc3QsXG4gIGRpbWVuc2lvblxuKSB7XG4gIGxldCBvLCB0O1xuICBjb25zdCBuID0gKGVuZCAtIG9mZnNldCkgLyBzdHJpZGU7XG4gIGlmIChuID09PSAxKSB7XG4gICAgbyA9IG9mZnNldDtcbiAgfSBlbHNlIGlmIChuID09PSAyKSB7XG4gICAgbyA9IG9mZnNldDtcbiAgICB0ID0gZnJhY3Rpb247XG4gIH0gZWxzZSBpZiAobiAhPT0gMCkge1xuICAgIGxldCB4MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXRdO1xuICAgIGxldCB5MSA9IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyAxXTtcbiAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICBjb25zdCBjdW11bGF0aXZlTGVuZ3RocyA9IFswXTtcbiAgICBmb3IgKGxldCBpID0gb2Zmc2V0ICsgc3RyaWRlOyBpIDwgZW5kOyBpICs9IHN0cmlkZSkge1xuICAgICAgY29uc3QgeDIgPSBmbGF0Q29vcmRpbmF0ZXNbaV07XG4gICAgICBjb25zdCB5MiA9IGZsYXRDb29yZGluYXRlc1tpICsgMV07XG4gICAgICBsZW5ndGggKz0gTWF0aC5zcXJ0KCh4MiAtIHgxKSAqICh4MiAtIHgxKSArICh5MiAtIHkxKSAqICh5MiAtIHkxKSk7XG4gICAgICBjdW11bGF0aXZlTGVuZ3Rocy5wdXNoKGxlbmd0aCk7XG4gICAgICB4MSA9IHgyO1xuICAgICAgeTEgPSB5MjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0ID0gZnJhY3Rpb24gKiBsZW5ndGg7XG4gICAgY29uc3QgaW5kZXggPSBiaW5hcnlTZWFyY2goY3VtdWxhdGl2ZUxlbmd0aHMsIHRhcmdldCk7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgdCA9XG4gICAgICAgICh0YXJnZXQgLSBjdW11bGF0aXZlTGVuZ3Roc1staW5kZXggLSAyXSkgL1xuICAgICAgICAoY3VtdWxhdGl2ZUxlbmd0aHNbLWluZGV4IC0gMV0gLSBjdW11bGF0aXZlTGVuZ3Roc1staW5kZXggLSAyXSk7XG4gICAgICBvID0gb2Zmc2V0ICsgKC1pbmRleCAtIDIpICogc3RyaWRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBvID0gb2Zmc2V0ICsgaW5kZXggKiBzdHJpZGU7XG4gICAgfVxuICB9XG4gIGRpbWVuc2lvbiA9IGRpbWVuc2lvbiA+IDEgPyBkaW1lbnNpb24gOiAyO1xuICBkZXN0ID0gZGVzdCA/IGRlc3QgOiBuZXcgQXJyYXkoZGltZW5zaW9uKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaW1lbnNpb247ICsraSkge1xuICAgIGRlc3RbaV0gPVxuICAgICAgbyA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gTmFOXG4gICAgICAgIDogdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gZmxhdENvb3JkaW5hdGVzW28gKyBpXVxuICAgICAgICA6IGxlcnAoZmxhdENvb3JkaW5hdGVzW28gKyBpXSwgZmxhdENvb3JkaW5hdGVzW28gKyBzdHJpZGUgKyBpXSwgdCk7XG4gIH1cbiAgcmV0dXJuIGRlc3Q7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtIE0uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGV4dHJhcG9sYXRlIEV4dHJhcG9sYXRlLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfG51bGx9IENvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5lU3RyaW5nQ29vcmRpbmF0ZUF0TShcbiAgZmxhdENvb3JkaW5hdGVzLFxuICBvZmZzZXQsXG4gIGVuZCxcbiAgc3RyaWRlLFxuICBtLFxuICBleHRyYXBvbGF0ZVxuKSB7XG4gIGlmIChlbmQgPT0gb2Zmc2V0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IGNvb3JkaW5hdGU7XG4gIGlmIChtIDwgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIHN0cmlkZSAtIDFdKSB7XG4gICAgaWYgKGV4dHJhcG9sYXRlKSB7XG4gICAgICBjb29yZGluYXRlID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgc3RyaWRlKTtcbiAgICAgIGNvb3JkaW5hdGVbc3RyaWRlIC0gMV0gPSBtO1xuICAgICAgcmV0dXJuIGNvb3JkaW5hdGU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKGZsYXRDb29yZGluYXRlc1tlbmQgLSAxXSA8IG0pIHtcbiAgICBpZiAoZXh0cmFwb2xhdGUpIHtcbiAgICAgIGNvb3JkaW5hdGUgPSBmbGF0Q29vcmRpbmF0ZXMuc2xpY2UoZW5kIC0gc3RyaWRlLCBlbmQpO1xuICAgICAgY29vcmRpbmF0ZVtzdHJpZGUgLSAxXSA9IG07XG4gICAgICByZXR1cm4gY29vcmRpbmF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLy8gRklYTUUgdXNlIE8oMSkgc2VhcmNoXG4gIGlmIChtID09IGZsYXRDb29yZGluYXRlc1tvZmZzZXQgKyBzdHJpZGUgLSAxXSkge1xuICAgIHJldHVybiBmbGF0Q29vcmRpbmF0ZXMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBzdHJpZGUpO1xuICB9XG4gIGxldCBsbyA9IG9mZnNldCAvIHN0cmlkZTtcbiAgbGV0IGhpID0gZW5kIC8gc3RyaWRlO1xuICB3aGlsZSAobG8gPCBoaSkge1xuICAgIGNvbnN0IG1pZCA9IChsbyArIGhpKSA+PiAxO1xuICAgIGlmIChtIDwgZmxhdENvb3JkaW5hdGVzWyhtaWQgKyAxKSAqIHN0cmlkZSAtIDFdKSB7XG4gICAgICBoaSA9IG1pZDtcbiAgICB9IGVsc2Uge1xuICAgICAgbG8gPSBtaWQgKyAxO1xuICAgIH1cbiAgfVxuICBjb25zdCBtMCA9IGZsYXRDb29yZGluYXRlc1tsbyAqIHN0cmlkZSAtIDFdO1xuICBpZiAobSA9PSBtMCkge1xuICAgIHJldHVybiBmbGF0Q29vcmRpbmF0ZXMuc2xpY2UoKGxvIC0gMSkgKiBzdHJpZGUsIChsbyAtIDEpICogc3RyaWRlICsgc3RyaWRlKTtcbiAgfVxuICBjb25zdCBtMSA9IGZsYXRDb29yZGluYXRlc1sobG8gKyAxKSAqIHN0cmlkZSAtIDFdO1xuICBjb25zdCB0ID0gKG0gLSBtMCkgLyAobTEgLSBtMCk7XG4gIGNvb3JkaW5hdGUgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpZGUgLSAxOyArK2kpIHtcbiAgICBjb29yZGluYXRlLnB1c2goXG4gICAgICBsZXJwKFxuICAgICAgICBmbGF0Q29vcmRpbmF0ZXNbKGxvIC0gMSkgKiBzdHJpZGUgKyBpXSxcbiAgICAgICAgZmxhdENvb3JkaW5hdGVzW2xvICogc3RyaWRlICsgaV0sXG4gICAgICAgIHRcbiAgICAgIClcbiAgICApO1xuICB9XG4gIGNvb3JkaW5hdGUucHVzaChtKTtcbiAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBmbGF0Q29vcmRpbmF0ZXMgRmxhdCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0LlxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBlbmRzIEVuZHMuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIFN0cmlkZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtIE0uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGV4dHJhcG9sYXRlIEV4dHJhcG9sYXRlLlxuICogQHBhcmFtIHtib29sZWFufSBpbnRlcnBvbGF0ZSBJbnRlcnBvbGF0ZS5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uLy4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXxudWxsfSBDb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZVN0cmluZ3NDb29yZGluYXRlQXRNKFxuICBmbGF0Q29vcmRpbmF0ZXMsXG4gIG9mZnNldCxcbiAgZW5kcyxcbiAgc3RyaWRlLFxuICBtLFxuICBleHRyYXBvbGF0ZSxcbiAgaW50ZXJwb2xhdGVcbikge1xuICBpZiAoaW50ZXJwb2xhdGUpIHtcbiAgICByZXR1cm4gbGluZVN0cmluZ0Nvb3JkaW5hdGVBdE0oXG4gICAgICBmbGF0Q29vcmRpbmF0ZXMsXG4gICAgICBvZmZzZXQsXG4gICAgICBlbmRzW2VuZHMubGVuZ3RoIC0gMV0sXG4gICAgICBzdHJpZGUsXG4gICAgICBtLFxuICAgICAgZXh0cmFwb2xhdGVcbiAgICApO1xuICB9XG4gIGxldCBjb29yZGluYXRlO1xuICBpZiAobSA8IGZsYXRDb29yZGluYXRlc1tzdHJpZGUgLSAxXSkge1xuICAgIGlmIChleHRyYXBvbGF0ZSkge1xuICAgICAgY29vcmRpbmF0ZSA9IGZsYXRDb29yZGluYXRlcy5zbGljZSgwLCBzdHJpZGUpO1xuICAgICAgY29vcmRpbmF0ZVtzdHJpZGUgLSAxXSA9IG07XG4gICAgICByZXR1cm4gY29vcmRpbmF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGZsYXRDb29yZGluYXRlc1tmbGF0Q29vcmRpbmF0ZXMubGVuZ3RoIC0gMV0gPCBtKSB7XG4gICAgaWYgKGV4dHJhcG9sYXRlKSB7XG4gICAgICBjb29yZGluYXRlID0gZmxhdENvb3JkaW5hdGVzLnNsaWNlKGZsYXRDb29yZGluYXRlcy5sZW5ndGggLSBzdHJpZGUpO1xuICAgICAgY29vcmRpbmF0ZVtzdHJpZGUgLSAxXSA9IG07XG4gICAgICByZXR1cm4gY29vcmRpbmF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gZW5kcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kID0gZW5kc1tpXTtcbiAgICBpZiAob2Zmc2V0ID09IGVuZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChtIDwgZmxhdENvb3JkaW5hdGVzW29mZnNldCArIHN0cmlkZSAtIDFdKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKG0gPD0gZmxhdENvb3JkaW5hdGVzW2VuZCAtIDFdKSB7XG4gICAgICByZXR1cm4gbGluZVN0cmluZ0Nvb3JkaW5hdGVBdE0oXG4gICAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBlbmQsXG4gICAgICAgIHN0cmlkZSxcbiAgICAgICAgbSxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgfVxuICAgIG9mZnNldCA9IGVuZDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXIvRmVhdHVyZVxuICovXG5pbXBvcnQgRmVhdHVyZSBmcm9tICcuLi9GZWF0dXJlLmpzJztcbmltcG9ydCB7XG4gIExpbmVTdHJpbmcsXG4gIE11bHRpTGluZVN0cmluZyxcbiAgTXVsdGlQb2ludCxcbiAgTXVsdGlQb2x5Z29uLFxuICBQb2ludCxcbiAgUG9seWdvbixcbn0gZnJvbSAnLi4vZ2VvbS5qcyc7XG5pbXBvcnQge1xuICBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sXG4gIGNyZWF0ZSBhcyBjcmVhdGVUcmFuc2Zvcm0sXG59IGZyb20gJy4uL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQge1xuICBjcmVhdGVPclVwZGF0ZUZyb21Db29yZGluYXRlLFxuICBjcmVhdGVPclVwZGF0ZUZyb21GbGF0Q29vcmRpbmF0ZXMsXG4gIGdldENlbnRlcixcbiAgZ2V0SGVpZ2h0LFxufSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtleHRlbmR9IGZyb20gJy4uL2FycmF5LmpzJztcbmltcG9ydCB7XG4gIGdldEludGVyaW9yUG9pbnRPZkFycmF5LFxuICBnZXRJbnRlcmlvclBvaW50c09mTXVsdGlBcnJheSxcbn0gZnJvbSAnLi4vZ2VvbS9mbGF0L2ludGVyaW9ycG9pbnQuanMnO1xuaW1wb3J0IHtnZXQgYXMgZ2V0UHJvamVjdGlvbn0gZnJvbSAnLi4vcHJvai5qcyc7XG5pbXBvcnQge2luZmxhdGVFbmRzfSBmcm9tICcuLi9nZW9tL2ZsYXQvb3JpZW50LmpzJztcbmltcG9ydCB7aW50ZXJwb2xhdGVQb2ludH0gZnJvbSAnLi4vZ2VvbS9mbGF0L2ludGVycG9sYXRlLmpzJztcbmltcG9ydCB7bGluZWFyUmluZ3NzIGFzIGxpbmVhclJpbmdzc0NlbnRlcn0gZnJvbSAnLi4vZ2VvbS9mbGF0L2NlbnRlci5qcyc7XG5pbXBvcnQge3RyYW5zZm9ybTJEfSBmcm9tICcuLi9nZW9tL2ZsYXQvdHJhbnNmb3JtLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vdHJhbnNmb3JtLmpzXCIpLlRyYW5zZm9ybX1cbiAqL1xuY29uc3QgdG1wVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbi8qKlxuICogTGlnaHR3ZWlnaHQsIHJlYWQtb25seSwge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmV9IGFuZCB7QGxpbmsgbW9kdWxlOm9sL2dlb20vR2VvbWV0cnl+R2VvbWV0cnl9IGxpa2VcbiAqIHN0cnVjdHVyZSwgb3B0aW1pemVkIGZvciB2ZWN0b3IgdGlsZSByZW5kZXJpbmcgYW5kIHN0eWxpbmcuIEdlb21ldHJ5IGFjY2Vzc1xuICogdGhyb3VnaCB0aGUgQVBJIGlzIGxpbWl0ZWQgdG8gZ2V0dGluZyB0aGUgdHlwZSBhbmQgZXh0ZW50IG9mIHRoZSBnZW9tZXRyeS5cbiAqL1xuY2xhc3MgUmVuZGVyRmVhdHVyZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuVHlwZX0gdHlwZSBHZW9tZXRyeSB0eXBlLlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLiBUaGVzZSBhbHdheXMgbmVlZFxuICAgKiAgICAgdG8gYmUgcmlnaHQtaGFuZGVkIGZvciBwb2x5Z29ucy5cbiAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fEFycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzIEVuZHMgb3IgRW5kc3MuXG4gICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgKj59IHByb3BlcnRpZXMgUHJvcGVydGllcy5cbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfHVuZGVmaW5lZH0gaWQgRmVhdHVyZSBpZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHR5cGUsIGZsYXRDb29yZGluYXRlcywgZW5kcywgcHJvcGVydGllcywgaWQpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc3R5bGUvU3R5bGUuanNcIikuU3R5bGVGdW5jdGlvbnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5zdHlsZUZ1bmN0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudHx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5leHRlbnRfO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHN0cmluZ3x1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5pZF8gPSBpZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuVHlwZX1cbiAgICAgKi9cbiAgICB0aGlzLnR5cGVfID0gdHlwZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXNfID0gZmxhdENvb3JkaW5hdGVzO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50c18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLmZsYXRNaWRwb2ludHNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj58QXJyYXk8QXJyYXk8bnVtYmVyPj59XG4gICAgICovXG4gICAgdGhpcy5lbmRzXyA9IGVuZHM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCAqPn1cbiAgICAgKi9cbiAgICB0aGlzLnByb3BlcnRpZXNfID0gcHJvcGVydGllcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBmZWF0dXJlIHByb3BlcnR5IGJ5IGl0cyBrZXkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5XG4gICAqIEByZXR1cm4geyp9IFZhbHVlIGZvciB0aGUgcmVxdWVzdGVkIGtleS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXNfW2tleV07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBleHRlbnQgb2YgdGhpcyBmZWF0dXJlJ3MgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RXh0ZW50KCkge1xuICAgIGlmICghdGhpcy5leHRlbnRfKSB7XG4gICAgICB0aGlzLmV4dGVudF8gPVxuICAgICAgICB0aGlzLnR5cGVfID09PSAnUG9pbnQnXG4gICAgICAgICAgPyBjcmVhdGVPclVwZGF0ZUZyb21Db29yZGluYXRlKHRoaXMuZmxhdENvb3JkaW5hdGVzXylcbiAgICAgICAgICA6IGNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcyhcbiAgICAgICAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXNfLFxuICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlc18ubGVuZ3RoLFxuICAgICAgICAgICAgICAyXG4gICAgICAgICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leHRlbnRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEZsYXQgaW50ZXJpb3IgcG9pbnRzLlxuICAgKi9cbiAgZ2V0RmxhdEludGVyaW9yUG9pbnQoKSB7XG4gICAgaWYgKCF0aGlzLmZsYXRJbnRlcmlvclBvaW50c18pIHtcbiAgICAgIGNvbnN0IGZsYXRDZW50ZXIgPSBnZXRDZW50ZXIodGhpcy5nZXRFeHRlbnQoKSk7XG4gICAgICB0aGlzLmZsYXRJbnRlcmlvclBvaW50c18gPSBnZXRJbnRlcmlvclBvaW50T2ZBcnJheShcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXNfLFxuICAgICAgICAwLFxuICAgICAgICAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovICh0aGlzLmVuZHNfKSxcbiAgICAgICAgMixcbiAgICAgICAgZmxhdENlbnRlcixcbiAgICAgICAgMFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZmxhdEludGVyaW9yUG9pbnRzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBGbGF0IGludGVyaW9yIHBvaW50cy5cbiAgICovXG4gIGdldEZsYXRJbnRlcmlvclBvaW50cygpIHtcbiAgICBpZiAoIXRoaXMuZmxhdEludGVyaW9yUG9pbnRzXykge1xuICAgICAgY29uc3QgZmxhdENlbnRlcnMgPSBsaW5lYXJSaW5nc3NDZW50ZXIoXG4gICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzXyxcbiAgICAgICAgMCxcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gKi8gKHRoaXMuZW5kc18pLFxuICAgICAgICAyXG4gICAgICApO1xuICAgICAgdGhpcy5mbGF0SW50ZXJpb3JQb2ludHNfID0gZ2V0SW50ZXJpb3JQb2ludHNPZk11bHRpQXJyYXkoXG4gICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzXyxcbiAgICAgICAgMCxcbiAgICAgICAgLyoqIEB0eXBlIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gKi8gKHRoaXMuZW5kc18pLFxuICAgICAgICAyLFxuICAgICAgICBmbGF0Q2VudGVyc1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZmxhdEludGVyaW9yUG9pbnRzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBGbGF0IG1pZHBvaW50LlxuICAgKi9cbiAgZ2V0RmxhdE1pZHBvaW50KCkge1xuICAgIGlmICghdGhpcy5mbGF0TWlkcG9pbnRzXykge1xuICAgICAgdGhpcy5mbGF0TWlkcG9pbnRzXyA9IGludGVycG9sYXRlUG9pbnQoXG4gICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzXyxcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXNfLmxlbmd0aCxcbiAgICAgICAgMixcbiAgICAgICAgMC41XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mbGF0TWlkcG9pbnRzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBGbGF0IG1pZHBvaW50cy5cbiAgICovXG4gIGdldEZsYXRNaWRwb2ludHMoKSB7XG4gICAgaWYgKCF0aGlzLmZsYXRNaWRwb2ludHNfKSB7XG4gICAgICB0aGlzLmZsYXRNaWRwb2ludHNfID0gW107XG4gICAgICBjb25zdCBmbGF0Q29vcmRpbmF0ZXMgPSB0aGlzLmZsYXRDb29yZGluYXRlc187XG4gICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgIGNvbnN0IGVuZHMgPSAvKiogQHR5cGUge0FycmF5PG51bWJlcj59ICovICh0aGlzLmVuZHNfKTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGVuZHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICBjb25zdCBlbmQgPSBlbmRzW2ldO1xuICAgICAgICBjb25zdCBtaWRwb2ludCA9IGludGVycG9sYXRlUG9pbnQoZmxhdENvb3JkaW5hdGVzLCBvZmZzZXQsIGVuZCwgMiwgMC41KTtcbiAgICAgICAgZXh0ZW5kKHRoaXMuZmxhdE1pZHBvaW50c18sIG1pZHBvaW50KTtcbiAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mbGF0TWlkcG9pbnRzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZlYXR1cmUgaWRlbnRpZmllci4gIFRoaXMgaXMgYSBzdGFibGUgaWRlbnRpZmllciBmb3IgdGhlIGZlYXR1cmUgYW5kXG4gICAqIGlzIHNldCB3aGVuIHJlYWRpbmcgZGF0YSBmcm9tIGEgcmVtb3RlIHNvdXJjZS5cbiAgICogQHJldHVybiB7bnVtYmVyfHN0cmluZ3x1bmRlZmluZWR9IElkLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pZF87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRmxhdCBjb29yZGluYXRlcy5cbiAgICovXG4gIGdldE9yaWVudGVkRmxhdENvb3JkaW5hdGVzKCkge1xuICAgIHJldHVybiB0aGlzLmZsYXRDb29yZGluYXRlc187XG4gIH1cblxuICAvKipcbiAgICogRm9yIEFQSSBjb21wYXRpYmlsaXR5IHdpdGgge0BsaW5rIG1vZHVsZTpvbC9GZWF0dXJlfkZlYXR1cmV9LCB0aGlzIG1ldGhvZCBpcyB1c2VmdWwgd2hlblxuICAgKiBkZXRlcm1pbmluZyB0aGUgZ2VvbWV0cnkgdHlwZSBpbiBzdHlsZSBmdW5jdGlvbiAoc2VlIHtAbGluayAjZ2V0VHlwZX0pLlxuICAgKiBAcmV0dXJuIHtSZW5kZXJGZWF0dXJlfSBGZWF0dXJlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRHZW9tZXRyeSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICogQHJldHVybiB7UmVuZGVyRmVhdHVyZX0gU2ltcGxpZmllZCBnZW9tZXRyeS5cbiAgICovXG4gIGdldFNpbXBsaWZpZWRHZW9tZXRyeShzcXVhcmVkVG9sZXJhbmNlKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdHJhbnNmb3JtZWQgYW5kIHNpbXBsaWZpZWQgdmVyc2lvbiBvZiB0aGUgZ2VvbWV0cnkuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge251bWJlcn0gc3F1YXJlZFRvbGVyYW5jZSBTcXVhcmVkIHRvbGVyYW5jZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlRyYW5zZm9ybUZ1bmN0aW9ufSBbdHJhbnNmb3JtXSBPcHRpb25hbCB0cmFuc2Zvcm0gZnVuY3Rpb24uXG4gICAqIEByZXR1cm4ge1JlbmRlckZlYXR1cmV9IFNpbXBsaWZpZWQgZ2VvbWV0cnkuXG4gICAqL1xuICBzaW1wbGlmeVRyYW5zZm9ybWVkKHNxdWFyZWRUb2xlcmFuY2UsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmVhdHVyZSBwcm9wZXJ0aWVzLlxuICAgKiBAcmV0dXJuIHtPYmplY3Q8c3RyaW5nLCAqPn0gRmVhdHVyZSBwcm9wZXJ0aWVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRQcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gU3RyaWRlLlxuICAgKi9cbiAgZ2V0U3RyaWRlKCkge1xuICAgIHJldHVybiAyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydCgnLi4vc3R5bGUvU3R5bGUuanMnKS5TdHlsZUZ1bmN0aW9ufHVuZGVmaW5lZH0gU3R5bGVcbiAgICovXG4gIGdldFN0eWxlRnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuc3R5bGVGdW5jdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBmZWF0dXJlJ3MgZ2VvbWV0cnkuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuVHlwZX0gR2VvbWV0cnkgdHlwZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2Zvcm0gZ2VvbWV0cnkgY29vcmRpbmF0ZXMgZnJvbSB0aWxlIHBpeGVsIHNwYWNlIHRvIHByb2plY3RlZC5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uIFRoZSBkYXRhIHByb2plY3Rpb25cbiAgICovXG4gIHRyYW5zZm9ybShwcm9qZWN0aW9uKSB7XG4gICAgcHJvamVjdGlvbiA9IGdldFByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgY29uc3QgcGl4ZWxFeHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICAgIGNvbnN0IHByb2plY3RlZEV4dGVudCA9IHByb2plY3Rpb24uZ2V0V29ybGRFeHRlbnQoKTtcbiAgICBpZiAocGl4ZWxFeHRlbnQgJiYgcHJvamVjdGVkRXh0ZW50KSB7XG4gICAgICBjb25zdCBzY2FsZSA9IGdldEhlaWdodChwcm9qZWN0ZWRFeHRlbnQpIC8gZ2V0SGVpZ2h0KHBpeGVsRXh0ZW50KTtcbiAgICAgIGNvbXBvc2VUcmFuc2Zvcm0oXG4gICAgICAgIHRtcFRyYW5zZm9ybSxcbiAgICAgICAgcHJvamVjdGVkRXh0ZW50WzBdLFxuICAgICAgICBwcm9qZWN0ZWRFeHRlbnRbM10sXG4gICAgICAgIHNjYWxlLFxuICAgICAgICAtc2NhbGUsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDBcbiAgICAgICk7XG4gICAgICB0cmFuc2Zvcm0yRChcbiAgICAgICAgdGhpcy5mbGF0Q29vcmRpbmF0ZXNfLFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLmZsYXRDb29yZGluYXRlc18ubGVuZ3RoLFxuICAgICAgICAyLFxuICAgICAgICB0bXBUcmFuc2Zvcm0sXG4gICAgICAgIHRoaXMuZmxhdENvb3JkaW5hdGVzX1xuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj58QXJyYXk8QXJyYXk8bnVtYmVyPj59IEVuZHMgb3IgZW5kc3MuXG4gICAqL1xuICBnZXRFbmRzKCkge1xuICAgIHJldHVybiB0aGlzLmVuZHNfO1xuICB9XG59XG5cblJlbmRlckZlYXR1cmUucHJvdG90eXBlLmdldEVuZHNzID0gUmVuZGVyRmVhdHVyZS5wcm90b3R5cGUuZ2V0RW5kcztcblxuLyoqXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fSBGbGF0IGNvb3JkaW5hdGVzLlxuICovXG5SZW5kZXJGZWF0dXJlLnByb3RvdHlwZS5nZXRGbGF0Q29vcmRpbmF0ZXMgPVxuICBSZW5kZXJGZWF0dXJlLnByb3RvdHlwZS5nZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcztcblxuLyoqXG4gKiBDcmVhdGUgYSBnZW9tZXRyeSBmcm9tIGFuIGBvbC9yZW5kZXIvRmVhdHVyZWBcbiAqIEBwYXJhbSB7UmVuZGVyRmVhdHVyZX0gcmVuZGVyRmVhdHVyZVxuICogUmVuZGVyIEZlYXR1cmVcbiAqIEByZXR1cm4ge1BvaW50fE11bHRpUG9pbnR8TGluZVN0cmluZ3xNdWx0aUxpbmVTdHJpbmd8UG9seWdvbnxNdWx0aVBvbHlnb259XG4gKiBOZXcgZ2VvbWV0cnkgaW5zdGFuY2UuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0dlb21ldHJ5KHJlbmRlckZlYXR1cmUpIHtcbiAgY29uc3QgZ2VvbWV0cnlUeXBlID0gcmVuZGVyRmVhdHVyZS5nZXRUeXBlKCk7XG4gIHN3aXRjaCAoZ2VvbWV0cnlUeXBlKSB7XG4gICAgY2FzZSAnUG9pbnQnOlxuICAgICAgcmV0dXJuIG5ldyBQb2ludChyZW5kZXJGZWF0dXJlLmdldEZsYXRDb29yZGluYXRlcygpKTtcbiAgICBjYXNlICdNdWx0aVBvaW50JzpcbiAgICAgIHJldHVybiBuZXcgTXVsdGlQb2ludChyZW5kZXJGZWF0dXJlLmdldEZsYXRDb29yZGluYXRlcygpLCAnWFknKTtcbiAgICBjYXNlICdMaW5lU3RyaW5nJzpcbiAgICAgIHJldHVybiBuZXcgTGluZVN0cmluZyhyZW5kZXJGZWF0dXJlLmdldEZsYXRDb29yZGluYXRlcygpLCAnWFknKTtcbiAgICBjYXNlICdNdWx0aUxpbmVTdHJpbmcnOlxuICAgICAgcmV0dXJuIG5ldyBNdWx0aUxpbmVTdHJpbmcoXG4gICAgICAgIHJlbmRlckZlYXR1cmUuZ2V0RmxhdENvb3JkaW5hdGVzKCksXG4gICAgICAgICdYWScsXG4gICAgICAgIC8qKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn0gKi8gKHJlbmRlckZlYXR1cmUuZ2V0RW5kcygpKVxuICAgICAgKTtcbiAgICBjYXNlICdQb2x5Z29uJzpcbiAgICAgIGNvbnN0IGZsYXRDb29yZGluYXRlcyA9IHJlbmRlckZlYXR1cmUuZ2V0RmxhdENvb3JkaW5hdGVzKCk7XG4gICAgICBjb25zdCBlbmRzID0gLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqLyAocmVuZGVyRmVhdHVyZS5nZXRFbmRzKCkpO1xuICAgICAgY29uc3QgZW5kc3MgPSBpbmZsYXRlRW5kcyhmbGF0Q29vcmRpbmF0ZXMsIGVuZHMpO1xuICAgICAgcmV0dXJuIGVuZHNzLmxlbmd0aCA+IDFcbiAgICAgICAgPyBuZXcgTXVsdGlQb2x5Z29uKGZsYXRDb29yZGluYXRlcywgJ1hZJywgZW5kc3MpXG4gICAgICAgIDogbmV3IFBvbHlnb24oZmxhdENvb3JkaW5hdGVzLCAnWFknLCBlbmRzKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGdlb21ldHJ5IHR5cGU6JyArIGdlb21ldHJ5VHlwZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gYG9sL0ZlYXR1cmVgIGZyb20gYW4gYG9sL3JlbmRlci9GZWF0dXJlYFxuICogQHBhcmFtIHtSZW5kZXJGZWF0dXJlfSByZW5kZXJGZWF0dXJlIFJlbmRlckZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZ2VvbWV0cnlOYW1lPSdnZW9tZXRyeSddIEdlb21ldHJ5IG5hbWUgdG8gdXNlXG4gKiB3aGVuIGNyZWF0aW5nIHRoZSBGZWF0dXJlLlxuICogQHJldHVybiB7RmVhdHVyZX0gTmV3bHkgY29uc3RydWN0ZWQgYG9sL0ZlYXR1cmVgIHdpdGggcHJvcGVydGllcyxcbiAqIGdlb21ldHJ5LCBhbmQgaWQgY29waWVkIG92ZXIuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0ZlYXR1cmUocmVuZGVyRmVhdHVyZSwgZ2VvbWV0cnlOYW1lKSB7XG4gIGNvbnN0IGlkID0gcmVuZGVyRmVhdHVyZS5nZXRJZCgpO1xuICBjb25zdCBnZW9tZXRyeSA9IHRvR2VvbWV0cnkocmVuZGVyRmVhdHVyZSk7XG4gIGNvbnN0IHByb3BlcnRpZXMgPSByZW5kZXJGZWF0dXJlLmdldFByb3BlcnRpZXMoKTtcbiAgY29uc3QgZmVhdHVyZSA9IG5ldyBGZWF0dXJlKCk7XG4gIGlmIChnZW9tZXRyeU5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGZlYXR1cmUuc2V0R2VvbWV0cnlOYW1lKGdlb21ldHJ5TmFtZSk7XG4gIH1cbiAgZmVhdHVyZS5zZXRHZW9tZXRyeShnZW9tZXRyeSk7XG4gIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZmVhdHVyZS5zZXRJZChpZCk7XG4gIH1cbiAgZmVhdHVyZS5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMsIHRydWUpO1xuICByZXR1cm4gZmVhdHVyZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVuZGVyRmVhdHVyZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9nZW9tL2ZsYXQvY2VudGVyXG4gKi9cbmltcG9ydCB7Y3JlYXRlRW1wdHksIGNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlc30gZnJvbSAnLi4vLi4vZXh0ZW50LmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGZsYXRDb29yZGluYXRlcyBGbGF0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBPZmZzZXQuXG4gKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBlbmRzcyBFbmRzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgU3RyaWRlLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gRmxhdCBjZW50ZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyUmluZ3NzKGZsYXRDb29yZGluYXRlcywgb2Zmc2V0LCBlbmRzcywgc3RyaWRlKSB7XG4gIGNvbnN0IGZsYXRDZW50ZXJzID0gW107XG4gIGxldCBleHRlbnQgPSBjcmVhdGVFbXB0eSgpO1xuICBmb3IgKGxldCBpID0gMCwgaWkgPSBlbmRzcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgY29uc3QgZW5kcyA9IGVuZHNzW2ldO1xuICAgIGV4dGVudCA9IGNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcyhcbiAgICAgIGZsYXRDb29yZGluYXRlcyxcbiAgICAgIG9mZnNldCxcbiAgICAgIGVuZHNbMF0sXG4gICAgICBzdHJpZGVcbiAgICApO1xuICAgIGZsYXRDZW50ZXJzLnB1c2goKGV4dGVudFswXSArIGV4dGVudFsyXSkgLyAyLCAoZXh0ZW50WzFdICsgZXh0ZW50WzNdKSAvIDIpO1xuICAgIG9mZnNldCA9IGVuZHNbZW5kcy5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gZmxhdENlbnRlcnM7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyL2NhbnZhc1xuICovXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9PYmplY3QuanMnO1xuaW1wb3J0IHtXT1JLRVJfT0ZGU0NSRUVOX0NBTlZBU30gZnJvbSAnLi4vaGFzLmpzJztcbmltcG9ydCB7Y2xlYXJ9IGZyb20gJy4uL29iai5qcyc7XG5pbXBvcnQge2NyZWF0ZUNhbnZhc0NvbnRleHQyRH0gZnJvbSAnLi4vZG9tLmpzJztcbmltcG9ydCB7Z2V0Rm9udFBhcmFtZXRlcnN9IGZyb20gJy4uL2Nzcy5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYgeydDaXJjbGUnIHwgJ0ltYWdlJyB8ICdMaW5lU3RyaW5nJyB8ICdQb2x5Z29uJyB8ICdUZXh0JyB8ICdEZWZhdWx0J30gQnVpbGRlclR5cGVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZpbGxTdGF0ZVxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBmaWxsU3R5bGUgRmlsbFN0eWxlLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgTGFiZWxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCBXaWR0aC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0LlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmd8bnVtYmVyPn0gY29udGV4dEluc3RydWN0aW9ucyBDb250ZXh0SW5zdHJ1Y3Rpb25zLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRmlsbFN0cm9rZVN0YXRlXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtjdXJyZW50RmlsbFN0eWxlXSBDdXJyZW50IEZpbGxTdHlsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW2N1cnJlbnRTdHJva2VTdHlsZV0gQ3VycmVudCBTdHJva2VTdHlsZS5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUNhcH0gW2N1cnJlbnRMaW5lQ2FwXSBDdXJyZW50IExpbmVDYXAuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IGN1cnJlbnRMaW5lRGFzaCBDdXJyZW50IExpbmVEYXNoLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjdXJyZW50TGluZURhc2hPZmZzZXRdIEN1cnJlbnQgTGluZURhc2hPZmZzZXQuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVKb2lufSBbY3VycmVudExpbmVKb2luXSBDdXJyZW50IExpbmVKb2luLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjdXJyZW50TGluZVdpZHRoXSBDdXJyZW50IExpbmVXaWR0aC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY3VycmVudE1pdGVyTGltaXRdIEN1cnJlbnQgTWl0ZXJMaW1pdC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbGFzdFN0cm9rZV0gTGFzdCBzdHJva2UuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtmaWxsU3R5bGVdIEZpbGxTdHlsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gW3N0cm9rZVN0eWxlXSBTdHJva2VTdHlsZS5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUNhcH0gW2xpbmVDYXBdIExpbmVDYXAuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IGxpbmVEYXNoIExpbmVEYXNoLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtsaW5lRGFzaE9mZnNldF0gTGluZURhc2hPZmZzZXQuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVKb2lufSBbbGluZUpvaW5dIExpbmVKb2luLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtsaW5lV2lkdGhdIExpbmVXaWR0aC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWl0ZXJMaW1pdF0gTWl0ZXJMaW1pdC5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN0cm9rZVN0YXRlXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVDYXB9IGxpbmVDYXAgTGluZUNhcC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gbGluZURhc2ggTGluZURhc2guXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZURhc2hPZmZzZXQgTGluZURhc2hPZmZzZXQuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVKb2lufSBsaW5lSm9pbiBMaW5lSm9pbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lV2lkdGggTGluZVdpZHRoLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pdGVyTGltaXQgTWl0ZXJMaW1pdC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX0gc3Ryb2tlU3R5bGUgU3Ryb2tlU3R5bGUuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUZXh0U3RhdGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmb250IEZvbnQuXG4gKiBAcHJvcGVydHkge0NhbnZhc1RleHRBbGlnbn0gW3RleHRBbGlnbl0gVGV4dEFsaWduLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zdHlsZS9UZXh0LmpzXCIpLlRleHRKdXN0aWZ5fSBbanVzdGlmeV0gSnVzdGlmeS5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzVGV4dEJhc2VsaW5lfSB0ZXh0QmFzZWxpbmUgVGV4dEJhc2VsaW5lLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zdHlsZS9UZXh0LmpzXCIpLlRleHRQbGFjZW1lbnR9IFtwbGFjZW1lbnRdIFBsYWNlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4QW5nbGVdIE1heEFuZ2xlLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3ZlcmZsb3ddIE92ZXJmbG93LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9zdHlsZS9GaWxsLmpzXCIpLmRlZmF1bHR9IFtiYWNrZ3JvdW5kRmlsbF0gQmFja2dyb3VuZEZpbGwuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3N0eWxlL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBbYmFja2dyb3VuZFN0cm9rZV0gQmFja2dyb3VuZFN0cm9rZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2NhbGVdIFNjYWxlLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbcGFkZGluZ10gUGFkZGluZy5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNlcmlhbGl6YWJsZUluc3RydWN0aW9uc1xuICogQHByb3BlcnR5IHtBcnJheTwqPn0gaW5zdHJ1Y3Rpb25zIFRoZSByZW5kZXJpbmcgaW5zdHJ1Y3Rpb25zLlxuICogQHByb3BlcnR5IHtBcnJheTwqPn0gaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zIFRoZSByZW5kZXJpbmcgaGl0IGRldGVjdGlvbiBpbnN0cnVjdGlvbnMuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcj59IGNvb3JkaW5hdGVzIFRoZSBhcnJheSBvZiBhbGwgY29vcmRpbmF0ZXMuXG4gKiBAcHJvcGVydHkgeyFPYmplY3Q8c3RyaW5nLCBUZXh0U3RhdGU+fSBbdGV4dFN0YXRlc10gVGhlIHRleHQgc3RhdGVzIChkZWNsdXR0ZXJpbmcpLlxuICogQHByb3BlcnR5IHshT2JqZWN0PHN0cmluZywgRmlsbFN0YXRlPn0gW2ZpbGxTdGF0ZXNdIFRoZSBmaWxsIHN0YXRlcyAoZGVjbHV0dGVyaW5nKS5cbiAqIEBwcm9wZXJ0eSB7IU9iamVjdDxzdHJpbmcsIFN0cm9rZVN0YXRlPn0gW3N0cm9rZVN0YXRlc10gVGhlIHN0cm9rZSBzdGF0ZXMgKGRlY2x1dHRlcmluZykuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0PG51bWJlciwgaW1wb3J0KFwiLi9jYW52YXMvRXhlY3V0b3IuanNcIikuUmVwbGF5SW1hZ2VPckxhYmVsQXJncz59IERlY2x1dHRlckltYWdlV2l0aFRleHRcbiAqL1xuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRGb250ID0gJzEwcHggc2Fucy1zZXJpZic7XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRGaWxsU3R5bGUgPSAnIzAwMCc7XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7Q2FudmFzTGluZUNhcH1cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRMaW5lQ2FwID0gJ3JvdW5kJztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdExpbmVEYXNoID0gW107XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdExpbmVEYXNoT2Zmc2V0ID0gMDtcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtDYW52YXNMaW5lSm9pbn1cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRMaW5lSm9pbiA9ICdyb3VuZCc7XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdE1pdGVyTGltaXQgPSAxMDtcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFN0cm9rZVN0eWxlID0gJyMwMDAnO1xuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge0NhbnZhc1RleHRBbGlnbn1cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRUZXh0QWxpZ24gPSAnY2VudGVyJztcblxuLyoqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtDYW52YXNUZXh0QmFzZWxpbmV9XG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0VGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRQYWRkaW5nID0gWzAsIDAsIDAsIDBdO1xuXG4vKipcbiAqIEBjb25zdFxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRMaW5lV2lkdGggPSAxO1xuXG4vKipcbiAqIEB0eXBlIHtCYXNlT2JqZWN0fVxuICovXG5leHBvcnQgY29uc3QgY2hlY2tlZEZvbnRzID0gbmV3IEJhc2VPYmplY3QoKTtcblxuLyoqXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICovXG5sZXQgbWVhc3VyZUNvbnRleHQgPSBudWxsO1xuXG4vKipcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmxldCBtZWFzdXJlRm9udDtcblxuLyoqXG4gKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIG51bWJlcj59XG4gKi9cbmV4cG9ydCBjb25zdCB0ZXh0SGVpZ2h0cyA9IHt9O1xuXG4vKipcbiAqIENsZWFycyB0aGUgbGFiZWwgY2FjaGUgd2hlbiBhIGZvbnQgYmVjb21lcyBhdmFpbGFibGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udFNwZWMgQ1NTIGZvbnQgc3BlYy5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRm9udCA9IChmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHJldHJpZXMgPSAxMDA7XG4gIGNvbnN0IHNpemUgPSAnMzJweCAnO1xuICBjb25zdCByZWZlcmVuY2VGb250cyA9IFsnbW9ub3NwYWNlJywgJ3NlcmlmJ107XG4gIGNvbnN0IGxlbiA9IHJlZmVyZW5jZUZvbnRzLmxlbmd0aDtcbiAgY29uc3QgdGV4dCA9ICd3bXl0emlsV01ZVFpJTEAjLyY/JCUxMFxcdUYwMTMnO1xuICBsZXQgaW50ZXJ2YWwsIHJlZmVyZW5jZVdpZHRoO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udFN0eWxlIENzcyBmb250LXN0eWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmb250V2VpZ2h0IENzcyBmb250LXdlaWdodFxuICAgKiBAcGFyYW0geyp9IGZvbnRGYW1pbHkgQ3NzIGZvbnQtZmFtaWx5XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IEZvbnQgd2l0aCBzdHlsZSBhbmQgd2VpZ2h0IGlzIGF2YWlsYWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNBdmFpbGFibGUoZm9udFN0eWxlLCBmb250V2VpZ2h0LCBmb250RmFtaWx5KSB7XG4gICAgbGV0IGF2YWlsYWJsZSA9IHRydWU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgY29uc3QgcmVmZXJlbmNlRm9udCA9IHJlZmVyZW5jZUZvbnRzW2ldO1xuICAgICAgcmVmZXJlbmNlV2lkdGggPSBtZWFzdXJlVGV4dFdpZHRoKFxuICAgICAgICBmb250U3R5bGUgKyAnICcgKyBmb250V2VpZ2h0ICsgJyAnICsgc2l6ZSArIHJlZmVyZW5jZUZvbnQsXG4gICAgICAgIHRleHRcbiAgICAgICk7XG4gICAgICBpZiAoZm9udEZhbWlseSAhPSByZWZlcmVuY2VGb250KSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gbWVhc3VyZVRleHRXaWR0aChcbiAgICAgICAgICBmb250U3R5bGUgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIGZvbnRXZWlnaHQgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIHNpemUgK1xuICAgICAgICAgICAgZm9udEZhbWlseSArXG4gICAgICAgICAgICAnLCcgK1xuICAgICAgICAgICAgcmVmZXJlbmNlRm9udCxcbiAgICAgICAgICB0ZXh0XG4gICAgICAgICk7XG4gICAgICAgIC8vIElmIHdpZHRoIGFuZCByZWZlcmVuY2VXaWR0aCBhcmUgdGhlIHNhbWUsIHRoZW4gdGhlIGZhbGxiYWNrIHdhcyB1c2VkXG4gICAgICAgIC8vIGluc3RlYWQgb2YgdGhlIGZvbnQgd2Ugd2FudGVkLCBzbyB0aGUgZm9udCBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAgICBhdmFpbGFibGUgPSBhdmFpbGFibGUgJiYgd2lkdGggIT0gcmVmZXJlbmNlV2lkdGg7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhdmFpbGFibGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVjaygpIHtcbiAgICBsZXQgZG9uZSA9IHRydWU7XG4gICAgY29uc3QgZm9udHMgPSBjaGVja2VkRm9udHMuZ2V0S2V5cygpO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGZvbnRzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGNvbnN0IGZvbnQgPSBmb250c1tpXTtcbiAgICAgIGlmIChjaGVja2VkRm9udHMuZ2V0KGZvbnQpIDwgcmV0cmllcykge1xuICAgICAgICBpZiAoaXNBdmFpbGFibGUuYXBwbHkodGhpcywgZm9udC5zcGxpdCgnXFxuJykpKSB7XG4gICAgICAgICAgY2xlYXIodGV4dEhlaWdodHMpO1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGxvYWRlZCBmb250cyBhcmUgcGlja2VkIHVwIGJ5IFNhZmFyaVxuICAgICAgICAgIG1lYXN1cmVDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICBtZWFzdXJlRm9udCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBjaGVja2VkRm9udHMuc2V0KGZvbnQsIHJldHJpZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoZWNrZWRGb250cy5zZXQoZm9udCwgY2hlY2tlZEZvbnRzLmdldChmb250KSArIDEsIHRydWUpO1xuICAgICAgICAgIGRvbmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZG9uZSkge1xuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICBpbnRlcnZhbCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGZvbnRTcGVjKSB7XG4gICAgY29uc3QgZm9udCA9IGdldEZvbnRQYXJhbWV0ZXJzKGZvbnRTcGVjKTtcbiAgICBpZiAoIWZvbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmFtaWxpZXMgPSBmb250LmZhbWlsaWVzO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGZhbWlsaWVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGNvbnN0IGZhbWlseSA9IGZhbWlsaWVzW2ldO1xuICAgICAgY29uc3Qga2V5ID0gZm9udC5zdHlsZSArICdcXG4nICsgZm9udC53ZWlnaHQgKyAnXFxuJyArIGZhbWlseTtcbiAgICAgIGlmIChjaGVja2VkRm9udHMuZ2V0KGtleSkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjaGVja2VkRm9udHMuc2V0KGtleSwgcmV0cmllcywgdHJ1ZSk7XG4gICAgICAgIGlmICghaXNBdmFpbGFibGUoZm9udC5zdHlsZSwgZm9udC53ZWlnaHQsIGZhbWlseSkpIHtcbiAgICAgICAgICBjaGVja2VkRm9udHMuc2V0KGtleSwgMCwgdHJ1ZSk7XG4gICAgICAgICAgaWYgKGludGVydmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoY2hlY2ssIDMyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59KSgpO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250IEZvbnQgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IE1lYXN1cmVtZW50LlxuICovXG5leHBvcnQgY29uc3QgbWVhc3VyZVRleHRIZWlnaHQgPSAoZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHR5cGUge0hUTUxEaXZFbGVtZW50fVxuICAgKi9cbiAgbGV0IG1lYXN1cmVFbGVtZW50O1xuICByZXR1cm4gZnVuY3Rpb24gKGZvbnRTcGVjKSB7XG4gICAgbGV0IGhlaWdodCA9IHRleHRIZWlnaHRzW2ZvbnRTcGVjXTtcbiAgICBpZiAoaGVpZ2h0ID09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKFdPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTKSB7XG4gICAgICAgIGNvbnN0IGZvbnQgPSBnZXRGb250UGFyYW1ldGVycyhmb250U3BlYyk7XG4gICAgICAgIGNvbnN0IG1ldHJpY3MgPSBtZWFzdXJlVGV4dChmb250U3BlYywgJ8W9ZycpO1xuICAgICAgICBjb25zdCBsaW5lSGVpZ2h0ID0gaXNOYU4oTnVtYmVyKGZvbnQubGluZUhlaWdodCkpXG4gICAgICAgICAgPyAxLjJcbiAgICAgICAgICA6IE51bWJlcihmb250LmxpbmVIZWlnaHQpO1xuICAgICAgICBoZWlnaHQgPVxuICAgICAgICAgIGxpbmVIZWlnaHQgKlxuICAgICAgICAgIChtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFtZWFzdXJlRWxlbWVudCkge1xuICAgICAgICAgIG1lYXN1cmVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgbWVhc3VyZUVsZW1lbnQuaW5uZXJIVE1MID0gJ00nO1xuICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLm1pbkhlaWdodCA9ICcwJztcbiAgICAgICAgICBtZWFzdXJlRWxlbWVudC5zdHlsZS5tYXhIZWlnaHQgPSAnbm9uZSc7XG4gICAgICAgICAgbWVhc3VyZUVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICAgICAgbWVhc3VyZUVsZW1lbnQuc3R5bGUuYm9yZGVyID0gJ25vbmUnO1xuICAgICAgICAgIG1lYXN1cmVFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICBtZWFzdXJlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICBtZWFzdXJlRWxlbWVudC5zdHlsZS5sZWZ0ID0gJy05OTk5OXB4JztcbiAgICAgICAgfVxuICAgICAgICBtZWFzdXJlRWxlbWVudC5zdHlsZS5mb250ID0gZm9udFNwZWM7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobWVhc3VyZUVsZW1lbnQpO1xuICAgICAgICBoZWlnaHQgPSBtZWFzdXJlRWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobWVhc3VyZUVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgdGV4dEhlaWdodHNbZm9udFNwZWNdID0gaGVpZ2h0O1xuICAgIH1cbiAgICByZXR1cm4gaGVpZ2h0O1xuICB9O1xufSkoKTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBGb250LlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dC5cbiAqIEByZXR1cm4ge1RleHRNZXRyaWNzfSBUZXh0IG1ldHJpY3MuXG4gKi9cbmZ1bmN0aW9uIG1lYXN1cmVUZXh0KGZvbnQsIHRleHQpIHtcbiAgaWYgKCFtZWFzdXJlQ29udGV4dCkge1xuICAgIG1lYXN1cmVDb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKDEsIDEpO1xuICB9XG4gIGlmIChmb250ICE9IG1lYXN1cmVGb250KSB7XG4gICAgbWVhc3VyZUNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgbWVhc3VyZUZvbnQgPSBtZWFzdXJlQ29udGV4dC5mb250O1xuICB9XG4gIHJldHVybiBtZWFzdXJlQ29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCBGb250LlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dC5cbiAqIEByZXR1cm4ge251bWJlcn0gV2lkdGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZWFzdXJlVGV4dFdpZHRoKGZvbnQsIHRleHQpIHtcbiAgcmV0dXJuIG1lYXN1cmVUZXh0KGZvbnQsIHRleHQpLndpZHRoO1xufVxuXG4vKipcbiAqIE1lYXN1cmUgdGV4dCB3aWR0aCB1c2luZyBhIGNhY2hlLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgVGhlIGZvbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBtZWFzdXJlLlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBudW1iZXI+fSBjYWNoZSBBIGxvb2t1cCBvZiBjYWNoZWQgd2lkdGhzIGJ5IHRleHQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB0ZXh0IHdpZHRoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVhc3VyZUFuZENhY2hlVGV4dFdpZHRoKGZvbnQsIHRleHQsIGNhY2hlKSB7XG4gIGlmICh0ZXh0IGluIGNhY2hlKSB7XG4gICAgcmV0dXJuIGNhY2hlW3RleHRdO1xuICB9XG4gIGNvbnN0IHdpZHRoID0gdGV4dFxuICAgIC5zcGxpdCgnXFxuJylcbiAgICAucmVkdWNlKChwcmV2LCBjdXJyKSA9PiBNYXRoLm1heChwcmV2LCBtZWFzdXJlVGV4dFdpZHRoKGZvbnQsIGN1cnIpKSwgMCk7XG4gIGNhY2hlW3RleHRdID0gd2lkdGg7XG4gIHJldHVybiB3aWR0aDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RleHRTdGF0ZX0gYmFzZVN0eWxlIEJhc2Ugc3R5bGUuXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGNodW5rcyBUZXh0IGNodW5rcyB0byBtZWFzdXJlLlxuICogQHJldHVybiB7e3dpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB3aWR0aHM6IEFycmF5PG51bWJlcj4sIGhlaWdodHM6IEFycmF5PG51bWJlcj4sIGxpbmVXaWR0aHM6IEFycmF5PG51bWJlcj59fX0gVGV4dCBtZXRyaWNzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGV4dERpbWVuc2lvbnMoYmFzZVN0eWxlLCBjaHVua3MpIHtcbiAgY29uc3Qgd2lkdGhzID0gW107XG4gIGNvbnN0IGhlaWdodHMgPSBbXTtcbiAgY29uc3QgbGluZVdpZHRocyA9IFtdO1xuICBsZXQgd2lkdGggPSAwO1xuICBsZXQgbGluZVdpZHRoID0gMDtcbiAgbGV0IGhlaWdodCA9IDA7XG4gIGxldCBsaW5lSGVpZ2h0ID0gMDtcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gY2h1bmtzLmxlbmd0aDsgaSA8PSBpaTsgaSArPSAyKSB7XG4gICAgY29uc3QgdGV4dCA9IGNodW5rc1tpXTtcbiAgICBpZiAodGV4dCA9PT0gJ1xcbicgfHwgaSA9PT0gaWkpIHtcbiAgICAgIHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICBsaW5lV2lkdGhzLnB1c2gobGluZVdpZHRoKTtcbiAgICAgIGxpbmVXaWR0aCA9IDA7XG4gICAgICBoZWlnaHQgKz0gbGluZUhlaWdodDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBmb250ID0gY2h1bmtzW2kgKyAxXSB8fCBiYXNlU3R5bGUuZm9udDtcbiAgICBjb25zdCBjdXJyZW50V2lkdGggPSBtZWFzdXJlVGV4dFdpZHRoKGZvbnQsIHRleHQpO1xuICAgIHdpZHRocy5wdXNoKGN1cnJlbnRXaWR0aCk7XG4gICAgbGluZVdpZHRoICs9IGN1cnJlbnRXaWR0aDtcbiAgICBjb25zdCBjdXJyZW50SGVpZ2h0ID0gbWVhc3VyZVRleHRIZWlnaHQoZm9udCk7XG4gICAgaGVpZ2h0cy5wdXNoKGN1cnJlbnRIZWlnaHQpO1xuICAgIGxpbmVIZWlnaHQgPSBNYXRoLm1heChsaW5lSGVpZ2h0LCBjdXJyZW50SGVpZ2h0KTtcbiAgfVxuICByZXR1cm4ge3dpZHRoLCBoZWlnaHQsIHdpZHRocywgaGVpZ2h0cywgbGluZVdpZHRoc307XG59XG5cbi8qKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRYIFggb2Zmc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFkgWSBvZmZzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVBdE9mZnNldChjb250ZXh0LCByb3RhdGlvbiwgb2Zmc2V0WCwgb2Zmc2V0WSkge1xuICBpZiAocm90YXRpb24gIT09IDApIHtcbiAgICBjb250ZXh0LnRyYW5zbGF0ZShvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICBjb250ZXh0LnJvdGF0ZShyb3RhdGlvbik7XG4gICAgY29udGV4dC50cmFuc2xhdGUoLW9mZnNldFgsIC1vZmZzZXRZKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm18bnVsbH0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gKiBAcGFyYW0ge0xhYmVsfEhUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gbGFiZWxPckltYWdlIExhYmVsLlxuICogQHBhcmFtIHtudW1iZXJ9IG9yaWdpblggT3JpZ2luIFguXG4gKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luWSBPcmlnaW4gWS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB3IFdpZHRoLlxuICogQHBhcmFtIHtudW1iZXJ9IGggSGVpZ2h0LlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gc2NhbGUgU2NhbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkcmF3SW1hZ2VPckxhYmVsKFxuICBjb250ZXh0LFxuICB0cmFuc2Zvcm0sXG4gIG9wYWNpdHksXG4gIGxhYmVsT3JJbWFnZSxcbiAgb3JpZ2luWCxcbiAgb3JpZ2luWSxcbiAgdyxcbiAgaCxcbiAgeCxcbiAgeSxcbiAgc2NhbGVcbikge1xuICBjb250ZXh0LnNhdmUoKTtcblxuICBpZiAob3BhY2l0eSAhPT0gMSkge1xuICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgKj0gb3BhY2l0eTtcbiAgfVxuICBpZiAodHJhbnNmb3JtKSB7XG4gICAgY29udGV4dC5zZXRUcmFuc2Zvcm0uYXBwbHkoY29udGV4dCwgdHJhbnNmb3JtKTtcbiAgfVxuXG4gIGlmICgvKiogQHR5cGUgeyp9ICovIChsYWJlbE9ySW1hZ2UpLmNvbnRleHRJbnN0cnVjdGlvbnMpIHtcbiAgICAvLyBsYWJlbFxuICAgIGNvbnRleHQudHJhbnNsYXRlKHgsIHkpO1xuICAgIGNvbnRleHQuc2NhbGUoc2NhbGVbMF0sIHNjYWxlWzFdKTtcbiAgICBleGVjdXRlTGFiZWxJbnN0cnVjdGlvbnMoLyoqIEB0eXBlIHtMYWJlbH0gKi8gKGxhYmVsT3JJbWFnZSksIGNvbnRleHQpO1xuICB9IGVsc2UgaWYgKHNjYWxlWzBdIDwgMCB8fCBzY2FsZVsxXSA8IDApIHtcbiAgICAvLyBmbGlwcGVkIGltYWdlXG4gICAgY29udGV4dC50cmFuc2xhdGUoeCwgeSk7XG4gICAgY29udGV4dC5zY2FsZShzY2FsZVswXSwgc2NhbGVbMV0pO1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgLyoqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9ICovIChcbiAgICAgICAgbGFiZWxPckltYWdlXG4gICAgICApLFxuICAgICAgb3JpZ2luWCxcbiAgICAgIG9yaWdpblksXG4gICAgICB3LFxuICAgICAgaCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgdyxcbiAgICAgIGhcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGlmIGltYWdlIG5vdCBmbGlwcGVkIHRyYW5zbGF0ZSBhbmQgc2NhbGUgY2FuIGJlIGF2b2lkZWRcbiAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgIC8qKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSAqLyAoXG4gICAgICAgIGxhYmVsT3JJbWFnZVxuICAgICAgKSxcbiAgICAgIG9yaWdpblgsXG4gICAgICBvcmlnaW5ZLFxuICAgICAgdyxcbiAgICAgIGgsXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHcgKiBzY2FsZVswXSxcbiAgICAgIGggKiBzY2FsZVsxXVxuICAgICk7XG4gIH1cblxuICBjb250ZXh0LnJlc3RvcmUoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0xhYmVsfSBsYWJlbCBMYWJlbC5cbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IENvbnRleHQuXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVMYWJlbEluc3RydWN0aW9ucyhsYWJlbCwgY29udGV4dCkge1xuICBjb25zdCBjb250ZXh0SW5zdHJ1Y3Rpb25zID0gbGFiZWwuY29udGV4dEluc3RydWN0aW9ucztcbiAgZm9yIChsZXQgaSA9IDAsIGlpID0gY29udGV4dEluc3RydWN0aW9ucy5sZW5ndGg7IGkgPCBpaTsgaSArPSAyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dEluc3RydWN0aW9uc1tpICsgMV0pKSB7XG4gICAgICBjb250ZXh0W2NvbnRleHRJbnN0cnVjdGlvbnNbaV1dLmFwcGx5KFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBjb250ZXh0SW5zdHJ1Y3Rpb25zW2kgKyAxXVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGV4dFtjb250ZXh0SW5zdHJ1Y3Rpb25zW2ldXSA9IGNvbnRleHRJbnN0cnVjdGlvbnNbaSArIDFdO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3JlbmRlcmVyL0xheWVyXG4gKi9cbmltcG9ydCBFdmVudFR5cGUgZnJvbSAnLi4vZXZlbnRzL0V2ZW50VHlwZS5qcyc7XG5pbXBvcnQgSW1hZ2VTdGF0ZSBmcm9tICcuLi9JbWFnZVN0YXRlLmpzJztcbmltcG9ydCBPYnNlcnZhYmxlIGZyb20gJy4uL09ic2VydmFibGUuanMnO1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5cbi8qKlxuICogQHRlbXBsYXRlIHtpbXBvcnQoXCIuLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBMYXllclR5cGVcbiAqL1xuY2xhc3MgTGF5ZXJSZW5kZXJlciBleHRlbmRzIE9ic2VydmFibGUge1xuICAvKipcbiAgICogQHBhcmFtIHtMYXllclR5cGV9IGxheWVyIExheWVyLlxuICAgKi9cbiAgY29uc3RydWN0b3IobGF5ZXIpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlbmRlcmVyIGlzIGluaXRpYWxpemVkIGFuZCByZWFkeSB0byByZW5kZXIuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZWFkeSA9IHRydWU7XG5cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICB0aGlzLmJvdW5kSGFuZGxlSW1hZ2VDaGFuZ2VfID0gdGhpcy5oYW5kbGVJbWFnZUNoYW5nZV8uYmluZCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7TGF5ZXJUeXBlfVxuICAgICAqL1xuICAgIHRoaXMubGF5ZXJfID0gbGF5ZXI7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vcmVuZGVyL2NhbnZhcy9FeGVjdXRvckdyb3VwXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5kZWNsdXR0ZXJFeGVjdXRvckdyb3VwID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBc3luY2hyb25vdXMgbGF5ZXIgbGV2ZWwgaGl0IGRldGVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8aW1wb3J0KFwiLi4vRmVhdHVyZVwiKS5GZWF0dXJlTGlrZT4+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aFxuICAgKiBhbiBhcnJheSBvZiBmZWF0dXJlcy5cbiAgICovXG4gIGdldEZlYXR1cmVzKHBpeGVsKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9waXhlbC5qc1wiKS5QaXhlbH0gcGl4ZWwgUGl4ZWwuXG4gICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fFVpbnQ4QXJyYXl8RmxvYXQzMkFycmF5fERhdGFWaWV3fG51bGx9IFBpeGVsIGRhdGEuXG4gICAqL1xuICBnZXREYXRhKHBpeGVsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHdoZXRoZXIgcmVuZGVyIHNob3VsZCBiZSBjYWxsZWQuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBMYXllciBpcyByZWFkeSB0byBiZSByZW5kZXJlZC5cbiAgICovXG4gIHByZXBhcmVGcmFtZShmcmFtZVN0YXRlKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIHRoZSBsYXllci5cbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCBUYXJnZXQgdGhhdCBtYXkgYmUgdXNlZCB0byByZW5kZXIgY29udGVudCB0by5cbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgcmVuZGVyRnJhbWUoZnJhbWVTdGF0ZSwgdGFyZ2V0KSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3Q8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHQ+Pn0gdGlsZXMgTG9va3VwIG9mIGxvYWRlZCB0aWxlcyBieSB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge251bWJlcn0gem9vbSBab29tIGxldmVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufHZvaWR9IElmIGBmYWxzZWAsIHRoZSB0aWxlIHdpbGwgbm90IGJlIGNvbnNpZGVyZWQgbG9hZGVkLlxuICAgKi9cbiAgbG9hZGVkVGlsZUNhbGxiYWNrKHRpbGVzLCB6b29tLCB0aWxlKSB7XG4gICAgaWYgKCF0aWxlc1t6b29tXSkge1xuICAgICAgdGlsZXNbem9vbV0gPSB7fTtcbiAgICB9XG4gICAgdGlsZXNbem9vbV1bdGlsZS50aWxlQ29vcmQudG9TdHJpbmcoKV0gPSB0aWxlO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgZnVuY3Rpb24gdGhhdCBhZGRzIGxvYWRlZCB0aWxlcyB0byB0aGUgdGlsZSBsb29rdXAuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gc291cmNlIFRpbGUgc291cmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24gb2YgdGhlIHRpbGVzLlxuICAgKiBAcGFyYW0ge09iamVjdDxudW1iZXIsIE9iamVjdDxzdHJpbmcsIGltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdD4+fSB0aWxlcyBMb29rdXAgb2YgbG9hZGVkIHRpbGVzIGJ5IHpvb20gbGV2ZWwuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9uKG51bWJlciwgaW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQpOmJvb2xlYW59IEEgZnVuY3Rpb24gdGhhdCBjYW4gYmVcbiAgICogICAgIGNhbGxlZCB3aXRoIGEgem9vbSBsZXZlbCBhbmQgYSB0aWxlIHJhbmdlIHRvIGFkZCBsb2FkZWQgdGlsZXMgdG8gdGhlIGxvb2t1cC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgY3JlYXRlTG9hZGVkVGlsZUZpbmRlcihzb3VyY2UsIHByb2plY3Rpb24sIHRpbGVzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gWm9vbSBsZXZlbC5cbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IHRpbGVSYW5nZSBUaWxlIHJhbmdlLlxuICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHRpbGUgcmFuZ2UgaXMgZnVsbHkgbG9hZGVkLlxuICAgICAgICovXG4gICAgICAoem9vbSwgdGlsZVJhbmdlKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gdGhpcy5sb2FkZWRUaWxlQ2FsbGJhY2suYmluZCh0aGlzLCB0aWxlcywgem9vbSk7XG4gICAgICAgIHJldHVybiBzb3VyY2UuZm9yRWFjaExvYWRlZFRpbGUocHJvamVjdGlvbiwgem9vbSwgdGlsZVJhbmdlLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaXRUb2xlcmFuY2UgSGl0IHRvbGVyYW5jZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi92ZWN0b3IuanNcIikuRmVhdHVyZUNhbGxiYWNrPFQ+fSBjYWxsYmFjayBGZWF0dXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vTWFwLmpzXCIpLkhpdE1hdGNoPFQ+Pn0gbWF0Y2hlcyBUaGUgaGl0IGRldGVjdGVkIG1hdGNoZXMgd2l0aCB0b2xlcmFuY2UuXG4gICAqIEByZXR1cm4ge1R8dW5kZWZpbmVkfSBDYWxsYmFjayByZXN1bHQuXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqL1xuICBmb3JFYWNoRmVhdHVyZUF0Q29vcmRpbmF0ZShcbiAgICBjb29yZGluYXRlLFxuICAgIGZyYW1lU3RhdGUsXG4gICAgaGl0VG9sZXJhbmNlLFxuICAgIGNhbGxiYWNrLFxuICAgIG1hdGNoZXNcbiAgKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtMYXllclR5cGV9IExheWVyLlxuICAgKi9cbiAgZ2V0TGF5ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMubGF5ZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gYWN0aW9uIG5lY2Vzc2FyeSB0byBnZXQgdGhlIGxheWVyIHJlbmRlcmVkIGFmdGVyIG5ldyBmb250cyBoYXZlIGxvYWRlZFxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGhhbmRsZUZvbnRzQ2hhbmdlZCgpIHt9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBjaGFuZ2VzIGluIGltYWdlIHN0YXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBJbWFnZSBjaGFuZ2UgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVJbWFnZUNoYW5nZV8oZXZlbnQpIHtcbiAgICBjb25zdCBpbWFnZSA9IC8qKiBAdHlwZSB7aW1wb3J0KFwiLi4vSW1hZ2UuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgaWYgKGltYWdlLmdldFN0YXRlKCkgPT09IEltYWdlU3RhdGUuTE9BREVEKSB7XG4gICAgICB0aGlzLnJlbmRlcklmUmVhZHlBbmRWaXNpYmxlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgdGhlIGltYWdlIGlmIG5vdCBhbHJlYWR5IGxvYWRlZCwgYW5kIHJlZ2lzdGVyIHRoZSBpbWFnZSBjaGFuZ2VcbiAgICogbGlzdGVuZXIgaWYgbmVlZGVkLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ltYWdlQmFzZS5qc1wiKS5kZWZhdWx0fSBpbWFnZSBJbWFnZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBpbWFnZSBpcyBhbHJlYWR5IGxvYWRlZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGxvYWRJbWFnZShpbWFnZSkge1xuICAgIGxldCBpbWFnZVN0YXRlID0gaW1hZ2UuZ2V0U3RhdGUoKTtcbiAgICBpZiAoaW1hZ2VTdGF0ZSAhPSBJbWFnZVN0YXRlLkxPQURFRCAmJiBpbWFnZVN0YXRlICE9IEltYWdlU3RhdGUuRVJST1IpIHtcbiAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRSwgdGhpcy5ib3VuZEhhbmRsZUltYWdlQ2hhbmdlXyk7XG4gICAgfVxuICAgIGlmIChpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuSURMRSkge1xuICAgICAgaW1hZ2UubG9hZCgpO1xuICAgICAgaW1hZ2VTdGF0ZSA9IGltYWdlLmdldFN0YXRlKCk7XG4gICAgfVxuICAgIHJldHVybiBpbWFnZVN0YXRlID09IEltYWdlU3RhdGUuTE9BREVEO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHJlbmRlcklmUmVhZHlBbmRWaXNpYmxlKCkge1xuICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgIGlmIChsYXllciAmJiBsYXllci5nZXRWaXNpYmxlKCkgJiYgbGF5ZXIuZ2V0U291cmNlU3RhdGUoKSA9PT0gJ3JlYWR5Jykge1xuICAgICAgbGF5ZXIuY2hhbmdlZCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbiB1cC5cbiAgICovXG4gIGRpc3Bvc2VJbnRlcm5hbCgpIHtcbiAgICBkZWxldGUgdGhpcy5sYXllcl87XG4gICAgc3VwZXIuZGlzcG9zZUludGVybmFsKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGF5ZXJSZW5kZXJlcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZW5kZXJlci9jYW52YXMvTGF5ZXJcbiAqL1xuaW1wb3J0IExheWVyUmVuZGVyZXIgZnJvbSAnLi4vTGF5ZXIuanMnO1xuaW1wb3J0IFJlbmRlckV2ZW50IGZyb20gJy4uLy4uL3JlbmRlci9FdmVudC5qcyc7XG5pbXBvcnQgUmVuZGVyRXZlbnRUeXBlIGZyb20gJy4uLy4uL3JlbmRlci9FdmVudFR5cGUuanMnO1xuaW1wb3J0IHtcbiAgYXBwbHkgYXMgYXBwbHlUcmFuc2Zvcm0sXG4gIGNvbXBvc2UgYXMgY29tcG9zZVRyYW5zZm9ybSxcbiAgY3JlYXRlIGFzIGNyZWF0ZVRyYW5zZm9ybSxcbn0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7YXNBcnJheX0gZnJvbSAnLi4vLi4vY29sb3IuanMnO1xuaW1wb3J0IHtjcmVhdGVDYW52YXNDb250ZXh0MkR9IGZyb20gJy4uLy4uL2RvbS5qcyc7XG5pbXBvcnQge2VxdWFsc30gZnJvbSAnLi4vLi4vYXJyYXkuanMnO1xuaW1wb3J0IHtcbiAgZ2V0Qm90dG9tTGVmdCxcbiAgZ2V0Qm90dG9tUmlnaHQsXG4gIGdldFRvcExlZnQsXG4gIGdldFRvcFJpZ2h0LFxufSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuXG4vKipcbiAqIEB0eXBlIHtBcnJheTxIVE1MQ2FudmFzRWxlbWVudD59XG4gKi9cbmV4cG9ydCBjb25zdCBjYW52YXNQb29sID0gW107XG5cbi8qKlxuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqL1xubGV0IHBpeGVsQ29udGV4dCA9IG51bGw7XG5cbmZ1bmN0aW9uIGNyZWF0ZVBpeGVsQ29udGV4dCgpIHtcbiAgcGl4ZWxDb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKDEsIDEsIHVuZGVmaW5lZCwge1xuICAgIHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZSxcbiAgfSk7XG59XG5cbi8qKlxuICogQGFic3RyYWN0XG4gKiBAdGVtcGxhdGUge2ltcG9ydChcIi4uLy4uL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IExheWVyVHlwZVxuICogQGV4dGVuZHMge0xheWVyUmVuZGVyZXI8TGF5ZXJUeXBlPn1cbiAqL1xuY2xhc3MgQ2FudmFzTGF5ZXJSZW5kZXJlciBleHRlbmRzIExheWVyUmVuZGVyZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtMYXllclR5cGV9IGxheWVyIExheWVyLlxuICAgKi9cbiAgY29uc3RydWN0b3IobGF5ZXIpIHtcbiAgICBzdXBlcihsYXllcik7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuY29udGFpbmVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQSB0ZW1wb3JhcnkgdHJhbnNmb3JtLiAgVGhlIHZhbHVlcyBpbiB0aGlzIHRyYW5zZm9ybSBzaG91bGQgb25seSBiZSB1c2VkIGluIGFcbiAgICAgKiBmdW5jdGlvbiB0aGF0IHNldHMgdGhlIHZhbHVlcy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy50ZW1wVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNmb3JtIGZvciByZW5kZXJlZCBwaXhlbHMgdG8gdmlld3BvcnQgQ1NTIHBpeGVscy4gIFRoaXMgdHJhbnNmb3JtIG11c3RcbiAgICAgKiBiZSBzZXQgd2hlbiByZW5kZXJpbmcgYSBmcmFtZSBhbmQgbWF5IGJlIHVzZWQgYnkgb3RoZXIgZnVuY3Rpb25zIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL3RyYW5zZm9ybS5qc1wiKS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgdGhpcy5waXhlbFRyYW5zZm9ybSA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zZm9ybSBmb3Igdmlld3BvcnQgQ1NTIHBpeGVscyB0byByZW5kZXJlZCBwaXhlbHMuICBUaGlzIHRyYW5zZm9ybSBtdXN0XG4gICAgICogYmUgc2V0IHdoZW4gcmVuZGVyaW5nIGEgZnJhbWUgYW5kIG1heSBiZSB1c2VkIGJ5IG90aGVyIGZ1bmN0aW9ucyBhZnRlciByZW5kZXJpbmcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfVxuICAgICAqL1xuICAgIHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtID0gY3JlYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRhaW5lclJldXNlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxDb250ZXh0XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZVN0YXRlID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gaW1hZ2UgSW1hZ2UuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb2wgVGhlIGNvbHVtbiBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvdyBUaGUgcm93IGluZGV4LlxuICAgKiBAcmV0dXJuIHtVaW50OENsYW1wZWRBcnJheXxudWxsfSBUaGUgaW1hZ2UgZGF0YS5cbiAgICovXG4gIGdldEltYWdlRGF0YShpbWFnZSwgY29sLCByb3cpIHtcbiAgICBpZiAoIXBpeGVsQ29udGV4dCkge1xuICAgICAgY3JlYXRlUGl4ZWxDb250ZXh0KCk7XG4gICAgfVxuICAgIHBpeGVsQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgMSwgMSk7XG5cbiAgICBsZXQgZGF0YTtcbiAgICB0cnkge1xuICAgICAgcGl4ZWxDb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgY29sLCByb3csIDEsIDEsIDAsIDAsIDEsIDEpO1xuICAgICAgZGF0YSA9IHBpeGVsQ29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgMSwgMSkuZGF0YTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHBpeGVsQ29udGV4dCA9IG51bGw7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoJy4uLy4uL01hcC5qcycpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gQmFja2dyb3VuZCBjb2xvci5cbiAgICovXG4gIGdldEJhY2tncm91bmQoZnJhbWVTdGF0ZSkge1xuICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgIGxldCBiYWNrZ3JvdW5kID0gbGF5ZXIuZ2V0QmFja2dyb3VuZCgpO1xuICAgIGlmICh0eXBlb2YgYmFja2dyb3VuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYmFja2dyb3VuZCA9IGJhY2tncm91bmQoZnJhbWVTdGF0ZS52aWV3U3RhdGUucmVzb2x1dGlvbik7XG4gICAgfVxuICAgIHJldHVybiBiYWNrZ3JvdW5kIHx8IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSByZW5kZXJpbmcgY29udGFpbmVyIGZyb20gYW4gZXhpc3RpbmcgdGFyZ2V0LCBpZiBjb21wYXRpYmxlLlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgUG90ZW50aWFsIHJlbmRlciB0YXJnZXQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2Zvcm0gQ1NTIFRyYW5zZm9ybS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtiYWNrZ3JvdW5kQ29sb3JdIEJhY2tncm91bmQgY29sb3IuXG4gICAqL1xuICB1c2VDb250YWluZXIodGFyZ2V0LCB0cmFuc2Zvcm0sIGJhY2tncm91bmRDb2xvcikge1xuICAgIGNvbnN0IGxheWVyQ2xhc3NOYW1lID0gdGhpcy5nZXRMYXllcigpLmdldENsYXNzTmFtZSgpO1xuICAgIGxldCBjb250YWluZXIsIGNvbnRleHQ7XG4gICAgaWYgKFxuICAgICAgdGFyZ2V0ICYmXG4gICAgICB0YXJnZXQuY2xhc3NOYW1lID09PSBsYXllckNsYXNzTmFtZSAmJlxuICAgICAgKCFiYWNrZ3JvdW5kQ29sb3IgfHxcbiAgICAgICAgKHRhcmdldCAmJlxuICAgICAgICAgIHRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgJiZcbiAgICAgICAgICBlcXVhbHMoXG4gICAgICAgICAgICBhc0FycmF5KHRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IpLFxuICAgICAgICAgICAgYXNBcnJheShiYWNrZ3JvdW5kQ29sb3IpXG4gICAgICAgICAgKSkpXG4gICAgKSB7XG4gICAgICBjb25zdCBjYW52YXMgPSB0YXJnZXQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICBpZiAoY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0LmNhbnZhcy5zdHlsZS50cmFuc2Zvcm0gPT09IHRyYW5zZm9ybSkge1xuICAgICAgLy8gQ29udGFpbmVyIG9mIHRoZSBwcmV2aW91cyBsYXllciByZW5kZXJlciBjYW4gYmUgdXNlZC5cbiAgICAgIHRoaXMuY29udGFpbmVyID0gdGFyZ2V0O1xuICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgIHRoaXMuY29udGFpbmVyUmV1c2VkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY29udGFpbmVyUmV1c2VkKSB7XG4gICAgICAvLyBQcmV2aW91c2x5IHJldXNlZCBjb250YWluZXIgY2Fubm90IGJlIHVzZWQgYW55IG1vcmUuXG4gICAgICB0aGlzLmNvbnRhaW5lciA9IG51bGw7XG4gICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgdGhpcy5jb250YWluZXJSZXVzZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5lcikge1xuICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gbGF5ZXJDbGFzc05hbWU7XG4gICAgICBsZXQgc3R5bGUgPSBjb250YWluZXIuc3R5bGU7XG4gICAgICBzdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICBzdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgIHN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgIGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoKTtcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNhbnZhcyk7XG4gICAgICBzdHlsZSA9IGNhbnZhcy5zdHlsZTtcbiAgICAgIHN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgIHN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICBzdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAndG9wIGxlZnQnO1xuICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhdGhpcy5jb250YWluZXJSZXVzZWQgJiZcbiAgICAgIGJhY2tncm91bmRDb2xvciAmJlxuICAgICAgIXRoaXMuY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvclxuICAgICkge1xuICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBDbGlwIGV4dGVudC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgY2xpcFVucm90YXRlZChjb250ZXh0LCBmcmFtZVN0YXRlLCBleHRlbnQpIHtcbiAgICBjb25zdCB0b3BMZWZ0ID0gZ2V0VG9wTGVmdChleHRlbnQpO1xuICAgIGNvbnN0IHRvcFJpZ2h0ID0gZ2V0VG9wUmlnaHQoZXh0ZW50KTtcbiAgICBjb25zdCBib3R0b21SaWdodCA9IGdldEJvdHRvbVJpZ2h0KGV4dGVudCk7XG4gICAgY29uc3QgYm90dG9tTGVmdCA9IGdldEJvdHRvbUxlZnQoZXh0ZW50KTtcblxuICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIHRvcExlZnQpO1xuICAgIGFwcGx5VHJhbnNmb3JtKGZyYW1lU3RhdGUuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sIHRvcFJpZ2h0KTtcbiAgICBhcHBseVRyYW5zZm9ybShmcmFtZVN0YXRlLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLCBib3R0b21SaWdodCk7XG4gICAgYXBwbHlUcmFuc2Zvcm0oZnJhbWVTdGF0ZS5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSwgYm90dG9tTGVmdCk7XG5cbiAgICBjb25zdCBpbnZlcnRlZCA9IHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtO1xuICAgIGFwcGx5VHJhbnNmb3JtKGludmVydGVkLCB0b3BMZWZ0KTtcbiAgICBhcHBseVRyYW5zZm9ybShpbnZlcnRlZCwgdG9wUmlnaHQpO1xuICAgIGFwcGx5VHJhbnNmb3JtKGludmVydGVkLCBib3R0b21SaWdodCk7XG4gICAgYXBwbHlUcmFuc2Zvcm0oaW52ZXJ0ZWQsIGJvdHRvbUxlZnQpO1xuXG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0Lm1vdmVUbyhNYXRoLnJvdW5kKHRvcExlZnRbMF0pLCBNYXRoLnJvdW5kKHRvcExlZnRbMV0pKTtcbiAgICBjb250ZXh0LmxpbmVUbyhNYXRoLnJvdW5kKHRvcFJpZ2h0WzBdKSwgTWF0aC5yb3VuZCh0b3BSaWdodFsxXSkpO1xuICAgIGNvbnRleHQubGluZVRvKE1hdGgucm91bmQoYm90dG9tUmlnaHRbMF0pLCBNYXRoLnJvdW5kKGJvdHRvbVJpZ2h0WzFdKSk7XG4gICAgY29udGV4dC5saW5lVG8oTWF0aC5yb3VuZChib3R0b21MZWZ0WzBdKSwgTWF0aC5yb3VuZChib3R0b21MZWZ0WzFdKSk7XG4gICAgY29udGV4dC5jbGlwKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9yZW5kZXIvRXZlbnRUeXBlLmpzXCIpLmRlZmF1bHR9IHR5cGUgRXZlbnQgdHlwZS5cbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ29udGV4dC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRpc3BhdGNoUmVuZGVyRXZlbnRfKHR5cGUsIGNvbnRleHQsIGZyYW1lU3RhdGUpIHtcbiAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICBpZiAobGF5ZXIuaGFzTGlzdGVuZXIodHlwZSkpIHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IFJlbmRlckV2ZW50KFxuICAgICAgICB0eXBlLFxuICAgICAgICB0aGlzLmludmVyc2VQaXhlbFRyYW5zZm9ybSxcbiAgICAgICAgZnJhbWVTdGF0ZSxcbiAgICAgICAgY29udGV4dFxuICAgICAgKTtcbiAgICAgIGxheWVyLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBwcmVSZW5kZXIoY29udGV4dCwgZnJhbWVTdGF0ZSkge1xuICAgIHRoaXMuZnJhbWVTdGF0ZSA9IGZyYW1lU3RhdGU7XG4gICAgdGhpcy5kaXNwYXRjaFJlbmRlckV2ZW50XyhSZW5kZXJFdmVudFR5cGUuUFJFUkVOREVSLCBjb250ZXh0LCBmcmFtZVN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBDb250ZXh0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBwb3N0UmVuZGVyKGNvbnRleHQsIGZyYW1lU3RhdGUpIHtcbiAgICB0aGlzLmRpc3BhdGNoUmVuZGVyRXZlbnRfKFJlbmRlckV2ZW50VHlwZS5QT1NUUkVOREVSLCBjb250ZXh0LCBmcmFtZVN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcgdG8gYW4gZWxlbWVudCB0aGF0IHdpbGwgYmUgcm90YXRlZCBhZnRlciByZW5kZXJpbmcuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjZW50ZXIgQ2VudGVyLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggV2lkdGggb2YgdGhlIHJlbmRlcmVkIGVsZW1lbnQgKGluIHBpeGVscykuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IG9mIHRoZSByZW5kZXJlZCBlbGVtZW50IChpbiBwaXhlbHMpLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WCBPZmZzZXQgb24gdGhlIHgtYXhpcyBpbiB2aWV3IGNvb3JkaW5hdGVzLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi8uLi90cmFuc2Zvcm0uanNcIikuVHJhbnNmb3JtfSBUcmFuc2Zvcm0uXG4gICAqL1xuICBnZXRSZW5kZXJUcmFuc2Zvcm0oXG4gICAgY2VudGVyLFxuICAgIHJlc29sdXRpb24sXG4gICAgcm90YXRpb24sXG4gICAgcGl4ZWxSYXRpbyxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgb2Zmc2V0WFxuICApIHtcbiAgICBjb25zdCBkeDEgPSB3aWR0aCAvIDI7XG4gICAgY29uc3QgZHkxID0gaGVpZ2h0IC8gMjtcbiAgICBjb25zdCBzeCA9IHBpeGVsUmF0aW8gLyByZXNvbHV0aW9uO1xuICAgIGNvbnN0IHN5ID0gLXN4O1xuICAgIGNvbnN0IGR4MiA9IC1jZW50ZXJbMF0gKyBvZmZzZXRYO1xuICAgIGNvbnN0IGR5MiA9IC1jZW50ZXJbMV07XG4gICAgcmV0dXJuIGNvbXBvc2VUcmFuc2Zvcm0oXG4gICAgICB0aGlzLnRlbXBUcmFuc2Zvcm0sXG4gICAgICBkeDEsXG4gICAgICBkeTEsXG4gICAgICBzeCxcbiAgICAgIHN5LFxuICAgICAgLXJvdGF0aW9uLFxuICAgICAgZHgyLFxuICAgICAgZHkyXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbiB1cC5cbiAgICovXG4gIGRpc3Bvc2VJbnRlcm5hbCgpIHtcbiAgICBkZWxldGUgdGhpcy5mcmFtZVN0YXRlO1xuICAgIHN1cGVyLmRpc3Bvc2VJbnRlcm5hbCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc0xheWVyUmVuZGVyZXI7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVuZGVyZXIvY2FudmFzL1RpbGVMYXllclxuICovXG5pbXBvcnQgQ2FudmFzTGF5ZXJSZW5kZXJlciBmcm9tICcuL0xheWVyLmpzJztcbmltcG9ydCBJbWFnZVRpbGUgZnJvbSAnLi4vLi4vSW1hZ2VUaWxlLmpzJztcbmltcG9ydCBSZXByb2pUaWxlIGZyb20gJy4uLy4uL3JlcHJvai9UaWxlLmpzJztcbmltcG9ydCBUaWxlUmFuZ2UgZnJvbSAnLi4vLi4vVGlsZVJhbmdlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7XG4gIGFwcGx5IGFzIGFwcGx5VHJhbnNmb3JtLFxuICBjb21wb3NlIGFzIGNvbXBvc2VUcmFuc2Zvcm0sXG4gIG1ha2VJbnZlcnNlLFxuICB0b1N0cmluZyBhcyB0b1RyYW5zZm9ybVN0cmluZyxcbn0gZnJvbSAnLi4vLi4vdHJhbnNmb3JtLmpzJztcbmltcG9ydCB7YXNjZW5kaW5nfSBmcm9tICcuLi8uLi9hcnJheS5qcyc7XG5pbXBvcnQge1xuICBjb250YWluc0Nvb3JkaW5hdGUsXG4gIGNyZWF0ZUVtcHR5LFxuICBlcXVhbHMsXG4gIGdldEhlaWdodCxcbiAgZ2V0SW50ZXJzZWN0aW9uLFxuICBnZXRSb3RhdGVkVmlld3BvcnQsXG4gIGdldFRvcExlZnQsXG4gIGdldFdpZHRoLFxuICBpbnRlcnNlY3RzLFxufSBmcm9tICcuLi8uLi9leHRlbnQuanMnO1xuaW1wb3J0IHtmcm9tVXNlckV4dGVudH0gZnJvbSAnLi4vLi4vcHJvai5qcyc7XG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vLi4vdXRpbC5qcyc7XG5pbXBvcnQge3RvU2l6ZX0gZnJvbSAnLi4vLi4vc2l6ZS5qcyc7XG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ2FudmFzIHJlbmRlcmVyIGZvciB0aWxlIGxheWVycy5cbiAqIEBhcGlcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVGlsZS5qc1wiKS5kZWZhdWx0PGltcG9ydChcIi4uLy4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHQ+fGltcG9ydChcIi4uLy4uL2xheWVyL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH0gW0xheWVyVHlwZT1pbXBvcnQoXCIuLi8uLi9sYXllci9UaWxlLmpzXCIpLmRlZmF1bHQ8aW1wb3J0KFwiLi4vLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdD58aW1wb3J0KFwiLi4vLi4vbGF5ZXIvVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0XVxuICogQGV4dGVuZHMge0NhbnZhc0xheWVyUmVuZGVyZXI8TGF5ZXJUeXBlPn1cbiAqL1xuY2xhc3MgQ2FudmFzVGlsZUxheWVyUmVuZGVyZXIgZXh0ZW5kcyBDYW52YXNMYXllclJlbmRlcmVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7TGF5ZXJUeXBlfSB0aWxlTGF5ZXIgVGlsZSBsYXllci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHRpbGVMYXllcikge1xuICAgIHN1cGVyKHRpbGVMYXllcik7XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJlZCBleHRlbnQgaGFzIGNoYW5nZWQgc2luY2UgdGhlIHByZXZpb3VzIGByZW5kZXJGcmFtZSgpYCBjYWxsXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5leHRlbnRDaGFuZ2VkID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9pbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRFeHRlbnRfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRQaXhlbFJhdGlvO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkUHJvamVjdGlvbiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVkUmV2aXNpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZWRUaWxlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm5ld1RpbGVzXyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi8uLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMudG1wRXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uLy4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMudG1wVGlsZVJhbmdlXyA9IG5ldyBUaWxlUmFuZ2UoMCwgMCwgMCwgMCk7XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZSBUaWxlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaWxlIGlzIGRyYXdhYmxlLlxuICAgKi9cbiAgaXNEcmF3YWJsZVRpbGUodGlsZSkge1xuICAgIGNvbnN0IHRpbGVMYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICBjb25zdCB0aWxlU3RhdGUgPSB0aWxlLmdldFN0YXRlKCk7XG4gICAgY29uc3QgdXNlSW50ZXJpbVRpbGVzT25FcnJvciA9IHRpbGVMYXllci5nZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yKCk7XG4gICAgcmV0dXJuIChcbiAgICAgIHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuTE9BREVEIHx8XG4gICAgICB0aWxlU3RhdGUgPT0gVGlsZVN0YXRlLkVNUFRZIHx8XG4gICAgICAodGlsZVN0YXRlID09IFRpbGVTdGF0ZS5FUlJPUiAmJiAhdXNlSW50ZXJpbVRpbGVzT25FcnJvcilcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGUuXG4gICAqL1xuICBnZXRUaWxlKHosIHgsIHksIGZyYW1lU3RhdGUpIHtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gZnJhbWVTdGF0ZS5waXhlbFJhdGlvO1xuICAgIGNvbnN0IHByb2plY3Rpb24gPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5wcm9qZWN0aW9uO1xuICAgIGNvbnN0IHRpbGVMYXllciA9IHRoaXMuZ2V0TGF5ZXIoKTtcbiAgICBjb25zdCB0aWxlU291cmNlID0gdGlsZUxheWVyLmdldFNvdXJjZSgpO1xuICAgIGxldCB0aWxlID0gdGlsZVNvdXJjZS5nZXRUaWxlKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkVSUk9SKSB7XG4gICAgICBpZiAodGlsZUxheWVyLmdldFVzZUludGVyaW1UaWxlc09uRXJyb3IoKSAmJiB0aWxlTGF5ZXIuZ2V0UHJlbG9hZCgpID4gMCkge1xuICAgICAgICAvLyBQcmVsb2FkZWQgdGlsZXMgZm9yIGxvd2VyIHJlc29sdXRpb25zIG1pZ2h0IGhhdmUgZmluaXNoZWQgbG9hZGluZy5cbiAgICAgICAgdGhpcy5uZXdUaWxlc18gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMuaXNEcmF3YWJsZVRpbGUodGlsZSkpIHtcbiAgICAgIHRpbGUgPSB0aWxlLmdldEludGVyaW1UaWxlKCk7XG4gICAgfVxuICAgIHJldHVybiB0aWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vcGl4ZWwuanNcIikuUGl4ZWx9IHBpeGVsIFBpeGVsLlxuICAgKiBAcmV0dXJuIHtVaW50OENsYW1wZWRBcnJheX0gRGF0YSBhdCB0aGUgcGl4ZWwgbG9jYXRpb24uXG4gICAqL1xuICBnZXREYXRhKHBpeGVsKSB7XG4gICAgY29uc3QgZnJhbWVTdGF0ZSA9IHRoaXMuZnJhbWVTdGF0ZTtcbiAgICBpZiAoIWZyYW1lU3RhdGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcigpO1xuICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBhcHBseVRyYW5zZm9ybShcbiAgICAgIGZyYW1lU3RhdGUucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0sXG4gICAgICBwaXhlbC5zbGljZSgpXG4gICAgKTtcblxuICAgIGNvbnN0IGxheWVyRXh0ZW50ID0gbGF5ZXIuZ2V0RXh0ZW50KCk7XG4gICAgaWYgKGxheWVyRXh0ZW50KSB7XG4gICAgICBpZiAoIWNvbnRhaW5zQ29vcmRpbmF0ZShsYXllckV4dGVudCwgY29vcmRpbmF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcGl4ZWxSYXRpbyA9IGZyYW1lU3RhdGUucGl4ZWxSYXRpbztcbiAgICBjb25zdCBwcm9qZWN0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucHJvamVjdGlvbjtcbiAgICBjb25zdCB2aWV3U3RhdGUgPSBmcmFtZVN0YXRlLnZpZXdTdGF0ZTtcbiAgICBjb25zdCBzb3VyY2UgPSBsYXllci5nZXRSZW5kZXJTb3VyY2UoKTtcbiAgICBjb25zdCB0aWxlR3JpZCA9IHNvdXJjZS5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24odmlld1N0YXRlLnByb2plY3Rpb24pO1xuICAgIGNvbnN0IHRpbGVQaXhlbFJhdGlvID0gc291cmNlLmdldFRpbGVQaXhlbFJhdGlvKGZyYW1lU3RhdGUucGl4ZWxSYXRpbyk7XG5cbiAgICBmb3IgKFxuICAgICAgbGV0IHogPSB0aWxlR3JpZC5nZXRaRm9yUmVzb2x1dGlvbih2aWV3U3RhdGUucmVzb2x1dGlvbik7XG4gICAgICB6ID49IHRpbGVHcmlkLmdldE1pblpvb20oKTtcbiAgICAgIC0telxuICAgICkge1xuICAgICAgY29uc3QgdGlsZUNvb3JkID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRm9yQ29vcmRBbmRaKGNvb3JkaW5hdGUsIHopO1xuICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZS5nZXRUaWxlKFxuICAgICAgICB6LFxuICAgICAgICB0aWxlQ29vcmRbMV0sXG4gICAgICAgIHRpbGVDb29yZFsyXSxcbiAgICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgICAgcHJvamVjdGlvblxuICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgISh0aWxlIGluc3RhbmNlb2YgSW1hZ2VUaWxlIHx8IHRpbGUgaW5zdGFuY2VvZiBSZXByb2pUaWxlKSB8fFxuICAgICAgICAodGlsZSBpbnN0YW5jZW9mIFJlcHJvalRpbGUgJiYgdGlsZS5nZXRTdGF0ZSgpID09PSBUaWxlU3RhdGUuRU1QVFkpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgIT09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRpbGVPcmlnaW4gPSB0aWxlR3JpZC5nZXRPcmlnaW4oeik7XG4gICAgICBjb25zdCB0aWxlU2l6ZSA9IHRvU2l6ZSh0aWxlR3JpZC5nZXRUaWxlU2l6ZSh6KSk7XG4gICAgICBjb25zdCB0aWxlUmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oeik7XG5cbiAgICAgIGNvbnN0IGNvbCA9IE1hdGguZmxvb3IoXG4gICAgICAgIHRpbGVQaXhlbFJhdGlvICpcbiAgICAgICAgICAoKGNvb3JkaW5hdGVbMF0gLSB0aWxlT3JpZ2luWzBdKSAvIHRpbGVSZXNvbHV0aW9uIC1cbiAgICAgICAgICAgIHRpbGVDb29yZFsxXSAqIHRpbGVTaXplWzBdKVxuICAgICAgKTtcblxuICAgICAgY29uc3Qgcm93ID0gTWF0aC5mbG9vcihcbiAgICAgICAgdGlsZVBpeGVsUmF0aW8gKlxuICAgICAgICAgICgodGlsZU9yaWdpblsxXSAtIGNvb3JkaW5hdGVbMV0pIC8gdGlsZVJlc29sdXRpb24gLVxuICAgICAgICAgICAgdGlsZUNvb3JkWzJdICogdGlsZVNpemVbMV0pXG4gICAgICApO1xuXG4gICAgICBjb25zdCBndXR0ZXIgPSBNYXRoLnJvdW5kKFxuICAgICAgICB0aWxlUGl4ZWxSYXRpbyAqIHNvdXJjZS5nZXRHdXR0ZXJGb3JQcm9qZWN0aW9uKHZpZXdTdGF0ZS5wcm9qZWN0aW9uKVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW1hZ2VEYXRhKHRpbGUuZ2V0SW1hZ2UoKSwgY29sICsgZ3V0dGVyLCByb3cgKyBndXR0ZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0PG51bWJlciwgT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vLi4vVGlsZS5qc1wiKS5kZWZhdWx0Pj59IHRpbGVzIExvb2t1cCBvZiBsb2FkZWQgdGlsZXMgYnkgem9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gWm9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbnx2b2lkfSBJZiBgZmFsc2VgLCB0aGUgdGlsZSB3aWxsIG5vdCBiZSBjb25zaWRlcmVkIGxvYWRlZC5cbiAgICovXG4gIGxvYWRlZFRpbGVDYWxsYmFjayh0aWxlcywgem9vbSwgdGlsZSkge1xuICAgIGlmICh0aGlzLmlzRHJhd2FibGVUaWxlKHRpbGUpKSB7XG4gICAgICByZXR1cm4gc3VwZXIubG9hZGVkVGlsZUNhbGxiYWNrKHRpbGVzLCB6b29tLCB0aWxlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB3aGV0aGVyIHJlbmRlciBzaG91bGQgYmUgY2FsbGVkLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5GcmFtZVN0YXRlfSBmcmFtZVN0YXRlIEZyYW1lIHN0YXRlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBMYXllciBpcyByZWFkeSB0byBiZSByZW5kZXJlZC5cbiAgICovXG4gIHByZXBhcmVGcmFtZShmcmFtZVN0YXRlKSB7XG4gICAgcmV0dXJuICEhdGhpcy5nZXRMYXllcigpLmdldFNvdXJjZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciB0aGUgbGF5ZXIuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCBUYXJnZXQgdGhhdCBtYXkgYmUgdXNlZCB0byByZW5kZXIgY29udGVudCB0by5cbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgcmVuZGVyRnJhbWUoZnJhbWVTdGF0ZSwgdGFyZ2V0KSB7XG4gICAgY29uc3QgbGF5ZXJTdGF0ZSA9IGZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheVtmcmFtZVN0YXRlLmxheWVySW5kZXhdO1xuICAgIGNvbnN0IHZpZXdTdGF0ZSA9IGZyYW1lU3RhdGUudmlld1N0YXRlO1xuICAgIGNvbnN0IHByb2plY3Rpb24gPSB2aWV3U3RhdGUucHJvamVjdGlvbjtcbiAgICBjb25zdCB2aWV3UmVzb2x1dGlvbiA9IHZpZXdTdGF0ZS5yZXNvbHV0aW9uO1xuICAgIGNvbnN0IHZpZXdDZW50ZXIgPSB2aWV3U3RhdGUuY2VudGVyO1xuICAgIGNvbnN0IHJvdGF0aW9uID0gdmlld1N0YXRlLnJvdGF0aW9uO1xuICAgIGNvbnN0IHBpeGVsUmF0aW8gPSBmcmFtZVN0YXRlLnBpeGVsUmF0aW87XG5cbiAgICBjb25zdCB0aWxlTGF5ZXIgPSB0aGlzLmdldExheWVyKCk7XG4gICAgY29uc3QgdGlsZVNvdXJjZSA9IHRpbGVMYXllci5nZXRTb3VyY2UoKTtcbiAgICBjb25zdCBzb3VyY2VSZXZpc2lvbiA9IHRpbGVTb3VyY2UuZ2V0UmV2aXNpb24oKTtcbiAgICBjb25zdCB0aWxlR3JpZCA9IHRpbGVTb3VyY2UuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGNvbnN0IHogPSB0aWxlR3JpZC5nZXRaRm9yUmVzb2x1dGlvbih2aWV3UmVzb2x1dGlvbiwgdGlsZVNvdXJjZS56RGlyZWN0aW9uKTtcbiAgICBjb25zdCB0aWxlUmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oeik7XG5cbiAgICBsZXQgZXh0ZW50ID0gZnJhbWVTdGF0ZS5leHRlbnQ7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IGZyYW1lU3RhdGUudmlld1N0YXRlLnJlc29sdXRpb247XG4gICAgY29uc3QgdGlsZVBpeGVsUmF0aW8gPSB0aWxlU291cmNlLmdldFRpbGVQaXhlbFJhdGlvKHBpeGVsUmF0aW8pO1xuICAgIC8vIGRlc2lyZWQgZGltZW5zaW9ucyBvZiB0aGUgY2FudmFzIGluIHBpeGVsc1xuICAgIGNvbnN0IHdpZHRoID0gTWF0aC5yb3VuZCgoZ2V0V2lkdGgoZXh0ZW50KSAvIHJlc29sdXRpb24pICogcGl4ZWxSYXRpbyk7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5yb3VuZCgoZ2V0SGVpZ2h0KGV4dGVudCkgLyByZXNvbHV0aW9uKSAqIHBpeGVsUmF0aW8pO1xuXG4gICAgY29uc3QgbGF5ZXJFeHRlbnQgPVxuICAgICAgbGF5ZXJTdGF0ZS5leHRlbnQgJiYgZnJvbVVzZXJFeHRlbnQobGF5ZXJTdGF0ZS5leHRlbnQsIHByb2plY3Rpb24pO1xuICAgIGlmIChsYXllckV4dGVudCkge1xuICAgICAgZXh0ZW50ID0gZ2V0SW50ZXJzZWN0aW9uKFxuICAgICAgICBleHRlbnQsXG4gICAgICAgIGZyb21Vc2VyRXh0ZW50KGxheWVyU3RhdGUuZXh0ZW50LCBwcm9qZWN0aW9uKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBkeCA9ICh0aWxlUmVzb2x1dGlvbiAqIHdpZHRoKSAvIDIgLyB0aWxlUGl4ZWxSYXRpbztcbiAgICBjb25zdCBkeSA9ICh0aWxlUmVzb2x1dGlvbiAqIGhlaWdodCkgLyAyIC8gdGlsZVBpeGVsUmF0aW87XG4gICAgY29uc3QgY2FudmFzRXh0ZW50ID0gW1xuICAgICAgdmlld0NlbnRlclswXSAtIGR4LFxuICAgICAgdmlld0NlbnRlclsxXSAtIGR5LFxuICAgICAgdmlld0NlbnRlclswXSArIGR4LFxuICAgICAgdmlld0NlbnRlclsxXSArIGR5LFxuICAgIF07XG5cbiAgICBjb25zdCB0aWxlUmFuZ2UgPSB0aWxlR3JpZC5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgeik7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0PG51bWJlciwgT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vLi4vVGlsZS5qc1wiKS5kZWZhdWx0Pj59XG4gICAgICovXG4gICAgY29uc3QgdGlsZXNUb0RyYXdCeVogPSB7fTtcbiAgICB0aWxlc1RvRHJhd0J5Wlt6XSA9IHt9O1xuXG4gICAgY29uc3QgZmluZExvYWRlZFRpbGVzID0gdGhpcy5jcmVhdGVMb2FkZWRUaWxlRmluZGVyKFxuICAgICAgdGlsZVNvdXJjZSxcbiAgICAgIHByb2plY3Rpb24sXG4gICAgICB0aWxlc1RvRHJhd0J5WlxuICAgICk7XG5cbiAgICBjb25zdCB0bXBFeHRlbnQgPSB0aGlzLnRtcEV4dGVudDtcbiAgICBjb25zdCB0bXBUaWxlUmFuZ2UgPSB0aGlzLnRtcFRpbGVSYW5nZV87XG4gICAgdGhpcy5uZXdUaWxlc18gPSBmYWxzZTtcbiAgICBjb25zdCB2aWV3cG9ydCA9IHJvdGF0aW9uXG4gICAgICA/IGdldFJvdGF0ZWRWaWV3cG9ydChcbiAgICAgICAgICB2aWV3U3RhdGUuY2VudGVyLFxuICAgICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgZnJhbWVTdGF0ZS5zaXplXG4gICAgICAgIClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIGZvciAobGV0IHggPSB0aWxlUmFuZ2UubWluWDsgeCA8PSB0aWxlUmFuZ2UubWF4WDsgKyt4KSB7XG4gICAgICBmb3IgKGxldCB5ID0gdGlsZVJhbmdlLm1pblk7IHkgPD0gdGlsZVJhbmdlLm1heFk7ICsreSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcm90YXRpb24gJiZcbiAgICAgICAgICAhdGlsZUdyaWQudGlsZUNvb3JkSW50ZXJzZWN0c1ZpZXdwb3J0KFt6LCB4LCB5XSwgdmlld3BvcnQpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLmdldFRpbGUoeiwgeCwgeSwgZnJhbWVTdGF0ZSk7XG4gICAgICAgIGlmICh0aGlzLmlzRHJhd2FibGVUaWxlKHRpbGUpKSB7XG4gICAgICAgICAgY29uc3QgdWlkID0gZ2V0VWlkKHRoaXMpO1xuICAgICAgICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgICAgdGlsZXNUb0RyYXdCeVpbel1bdGlsZS50aWxlQ29vcmQudG9TdHJpbmcoKV0gPSB0aWxlO1xuICAgICAgICAgICAgbGV0IGluVHJhbnNpdGlvbiA9IHRpbGUuaW5UcmFuc2l0aW9uKHVpZCk7XG4gICAgICAgICAgICBpZiAoaW5UcmFuc2l0aW9uICYmIGxheWVyU3RhdGUub3BhY2l0eSAhPT0gMSkge1xuICAgICAgICAgICAgICAvLyBTa2lwcGluZyB0cmFuc2l0aW9uIHdoZW4gbGF5ZXIgaXMgbm90IGZ1bGx5IG9wYXF1ZSBhdm9pZHMgdmlzdWFsIGFydGlmYWN0cy5cbiAgICAgICAgICAgICAgdGlsZS5lbmRUcmFuc2l0aW9uKHVpZCk7XG4gICAgICAgICAgICAgIGluVHJhbnNpdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAhdGhpcy5uZXdUaWxlc18gJiZcbiAgICAgICAgICAgICAgKGluVHJhbnNpdGlvbiB8fCAhdGhpcy5yZW5kZXJlZFRpbGVzLmluY2x1ZGVzKHRpbGUpKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHRoaXMubmV3VGlsZXNfID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRpbGUuZ2V0QWxwaGEodWlkLCBmcmFtZVN0YXRlLnRpbWUpID09PSAxKSB7XG4gICAgICAgICAgICAvLyBkb24ndCBsb29rIGZvciBhbHQgdGlsZXMgaWYgYWxwaGEgaXMgMVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hpbGRUaWxlUmFuZ2UgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRDaGlsZFRpbGVSYW5nZShcbiAgICAgICAgICB0aWxlLnRpbGVDb29yZCxcbiAgICAgICAgICB0bXBUaWxlUmFuZ2UsXG4gICAgICAgICAgdG1wRXh0ZW50XG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IGNvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGNoaWxkVGlsZVJhbmdlKSB7XG4gICAgICAgICAgY292ZXJlZCA9IGZpbmRMb2FkZWRUaWxlcyh6ICsgMSwgY2hpbGRUaWxlUmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY292ZXJlZCkge1xuICAgICAgICAgIHRpbGVHcmlkLmZvckVhY2hUaWxlQ29vcmRQYXJlbnRUaWxlUmFuZ2UoXG4gICAgICAgICAgICB0aWxlLnRpbGVDb29yZCxcbiAgICAgICAgICAgIGZpbmRMb2FkZWRUaWxlcyxcbiAgICAgICAgICAgIHRtcFRpbGVSYW5nZSxcbiAgICAgICAgICAgIHRtcEV4dGVudFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjYW52YXNTY2FsZSA9XG4gICAgICAoKHRpbGVSZXNvbHV0aW9uIC8gdmlld1Jlc29sdXRpb24pICogcGl4ZWxSYXRpbykgLyB0aWxlUGl4ZWxSYXRpbztcblxuICAgIC8vIHNldCBmb3J3YXJkIGFuZCBpbnZlcnNlIHBpeGVsIHRyYW5zZm9ybXNcbiAgICBjb21wb3NlVHJhbnNmb3JtKFxuICAgICAgdGhpcy5waXhlbFRyYW5zZm9ybSxcbiAgICAgIGZyYW1lU3RhdGUuc2l6ZVswXSAvIDIsXG4gICAgICBmcmFtZVN0YXRlLnNpemVbMV0gLyAyLFxuICAgICAgMSAvIHBpeGVsUmF0aW8sXG4gICAgICAxIC8gcGl4ZWxSYXRpbyxcbiAgICAgIHJvdGF0aW9uLFxuICAgICAgLXdpZHRoIC8gMixcbiAgICAgIC1oZWlnaHQgLyAyXG4gICAgKTtcblxuICAgIGNvbnN0IGNhbnZhc1RyYW5zZm9ybSA9IHRvVHJhbnNmb3JtU3RyaW5nKHRoaXMucGl4ZWxUcmFuc2Zvcm0pO1xuXG4gICAgdGhpcy51c2VDb250YWluZXIodGFyZ2V0LCBjYW52YXNUcmFuc2Zvcm0sIHRoaXMuZ2V0QmFja2dyb3VuZChmcmFtZVN0YXRlKSk7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICBjb25zdCBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcblxuICAgIG1ha2VJbnZlcnNlKHRoaXMuaW52ZXJzZVBpeGVsVHJhbnNmb3JtLCB0aGlzLnBpeGVsVHJhbnNmb3JtKTtcblxuICAgIC8vIHNldCBzY2FsZSB0cmFuc2Zvcm0gZm9yIGNhbGN1bGF0aW5nIHRpbGUgcG9zaXRpb25zIG9uIHRoZSBjYW52YXNcbiAgICBjb21wb3NlVHJhbnNmb3JtKFxuICAgICAgdGhpcy50ZW1wVHJhbnNmb3JtLFxuICAgICAgd2lkdGggLyAyLFxuICAgICAgaGVpZ2h0IC8gMixcbiAgICAgIGNhbnZhc1NjYWxlLFxuICAgICAgY2FudmFzU2NhbGUsXG4gICAgICAwLFxuICAgICAgLXdpZHRoIC8gMixcbiAgICAgIC1oZWlnaHQgLyAyXG4gICAgKTtcblxuICAgIGlmIChjYW52YXMud2lkdGggIT0gd2lkdGggfHwgY2FudmFzLmhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmNvbnRhaW5lclJldXNlZCkge1xuICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKGxheWVyRXh0ZW50KSB7XG4gICAgICB0aGlzLmNsaXBVbnJvdGF0ZWQoY29udGV4dCwgZnJhbWVTdGF0ZSwgbGF5ZXJFeHRlbnQpO1xuICAgIH1cblxuICAgIGlmICghdGlsZVNvdXJjZS5nZXRJbnRlcnBvbGF0ZSgpKSB7XG4gICAgICBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMucHJlUmVuZGVyKGNvbnRleHQsIGZyYW1lU3RhdGUpO1xuXG4gICAgdGhpcy5yZW5kZXJlZFRpbGVzLmxlbmd0aCA9IDA7XG4gICAgLyoqIEB0eXBlIHtBcnJheTxudW1iZXI+fSAqL1xuICAgIGxldCB6cyA9IE9iamVjdC5rZXlzKHRpbGVzVG9EcmF3QnlaKS5tYXAoTnVtYmVyKTtcbiAgICB6cy5zb3J0KGFzY2VuZGluZyk7XG5cbiAgICBsZXQgY2xpcHMsIGNsaXBacywgY3VycmVudENsaXA7XG4gICAgaWYgKFxuICAgICAgbGF5ZXJTdGF0ZS5vcGFjaXR5ID09PSAxICYmXG4gICAgICAoIXRoaXMuY29udGFpbmVyUmV1c2VkIHx8XG4gICAgICAgIHRpbGVTb3VyY2UuZ2V0T3BhcXVlKGZyYW1lU3RhdGUudmlld1N0YXRlLnByb2plY3Rpb24pKVxuICAgICkge1xuICAgICAgenMgPSB6cy5yZXZlcnNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsaXBzID0gW107XG4gICAgICBjbGlwWnMgPSBbXTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IHpzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBjb25zdCBjdXJyZW50WiA9IHpzW2ldO1xuICAgICAgY29uc3QgY3VycmVudFRpbGVQaXhlbFNpemUgPSB0aWxlU291cmNlLmdldFRpbGVQaXhlbFNpemUoXG4gICAgICAgIGN1cnJlbnRaLFxuICAgICAgICBwaXhlbFJhdGlvLFxuICAgICAgICBwcm9qZWN0aW9uXG4gICAgICApO1xuICAgICAgY29uc3QgY3VycmVudFJlc29sdXRpb24gPSB0aWxlR3JpZC5nZXRSZXNvbHV0aW9uKGN1cnJlbnRaKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRTY2FsZSA9IGN1cnJlbnRSZXNvbHV0aW9uIC8gdGlsZVJlc29sdXRpb247XG4gICAgICBjb25zdCBkeCA9IGN1cnJlbnRUaWxlUGl4ZWxTaXplWzBdICogY3VycmVudFNjYWxlICogY2FudmFzU2NhbGU7XG4gICAgICBjb25zdCBkeSA9IGN1cnJlbnRUaWxlUGl4ZWxTaXplWzFdICogY3VycmVudFNjYWxlICogY2FudmFzU2NhbGU7XG4gICAgICBjb25zdCBvcmlnaW5UaWxlQ29vcmQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRGb3JDb29yZEFuZFooXG4gICAgICAgIGdldFRvcExlZnQoY2FudmFzRXh0ZW50KSxcbiAgICAgICAgY3VycmVudFpcbiAgICAgICk7XG4gICAgICBjb25zdCBvcmlnaW5UaWxlRXh0ZW50ID0gdGlsZUdyaWQuZ2V0VGlsZUNvb3JkRXh0ZW50KG9yaWdpblRpbGVDb29yZCk7XG4gICAgICBjb25zdCBvcmlnaW4gPSBhcHBseVRyYW5zZm9ybSh0aGlzLnRlbXBUcmFuc2Zvcm0sIFtcbiAgICAgICAgKHRpbGVQaXhlbFJhdGlvICogKG9yaWdpblRpbGVFeHRlbnRbMF0gLSBjYW52YXNFeHRlbnRbMF0pKSAvXG4gICAgICAgICAgdGlsZVJlc29sdXRpb24sXG4gICAgICAgICh0aWxlUGl4ZWxSYXRpbyAqIChjYW52YXNFeHRlbnRbM10gLSBvcmlnaW5UaWxlRXh0ZW50WzNdKSkgL1xuICAgICAgICAgIHRpbGVSZXNvbHV0aW9uLFxuICAgICAgXSk7XG4gICAgICBjb25zdCB0aWxlR3V0dGVyID1cbiAgICAgICAgdGlsZVBpeGVsUmF0aW8gKiB0aWxlU291cmNlLmdldEd1dHRlckZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICBjb25zdCB0aWxlc1RvRHJhdyA9IHRpbGVzVG9EcmF3QnlaW2N1cnJlbnRaXTtcbiAgICAgIGZvciAoY29uc3QgdGlsZUNvb3JkS2V5IGluIHRpbGVzVG9EcmF3KSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL0ltYWdlVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgdGlsZXNUb0RyYXdbdGlsZUNvb3JkS2V5XVxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0aWxlQ29vcmQgPSB0aWxlLnRpbGVDb29yZDtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgaW50ZWdlciBwb3NpdGlvbnMgYW5kIHNpemVzIHNvIHRoYXQgdGlsZXMgYWxpZ25cbiAgICAgICAgY29uc3QgeEluZGV4ID0gb3JpZ2luVGlsZUNvb3JkWzFdIC0gdGlsZUNvb3JkWzFdO1xuICAgICAgICBjb25zdCBuZXh0WCA9IE1hdGgucm91bmQob3JpZ2luWzBdIC0gKHhJbmRleCAtIDEpICogZHgpO1xuICAgICAgICBjb25zdCB5SW5kZXggPSBvcmlnaW5UaWxlQ29vcmRbMl0gLSB0aWxlQ29vcmRbMl07XG4gICAgICAgIGNvbnN0IG5leHRZID0gTWF0aC5yb3VuZChvcmlnaW5bMV0gLSAoeUluZGV4IC0gMSkgKiBkeSk7XG4gICAgICAgIGNvbnN0IHggPSBNYXRoLnJvdW5kKG9yaWdpblswXSAtIHhJbmRleCAqIGR4KTtcbiAgICAgICAgY29uc3QgeSA9IE1hdGgucm91bmQob3JpZ2luWzFdIC0geUluZGV4ICogZHkpO1xuICAgICAgICBjb25zdCB3ID0gbmV4dFggLSB4O1xuICAgICAgICBjb25zdCBoID0gbmV4dFkgLSB5O1xuICAgICAgICBjb25zdCB0cmFuc2l0aW9uID0geiA9PT0gY3VycmVudFo7XG5cbiAgICAgICAgY29uc3QgaW5UcmFuc2l0aW9uID1cbiAgICAgICAgICB0cmFuc2l0aW9uICYmIHRpbGUuZ2V0QWxwaGEoZ2V0VWlkKHRoaXMpLCBmcmFtZVN0YXRlLnRpbWUpICE9PSAxO1xuICAgICAgICBsZXQgY29udGV4dFNhdmVkID0gZmFsc2U7XG4gICAgICAgIGlmICghaW5UcmFuc2l0aW9uKSB7XG4gICAgICAgICAgaWYgKGNsaXBzKSB7XG4gICAgICAgICAgICAvLyBDbGlwIG1hc2sgZm9yIHJlZ2lvbnMgaW4gdGhpcyB0aWxlIHRoYXQgYWxyZWFkeSBmaWxsZWQgYnkgYSBoaWdoZXIgeiB0aWxlXG4gICAgICAgICAgICBjdXJyZW50Q2xpcCA9IFt4LCB5LCB4ICsgdywgeSwgeCArIHcsIHkgKyBoLCB4LCB5ICsgaF07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBjbGlwcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgIGlmICh6ICE9PSBjdXJyZW50WiAmJiBjdXJyZW50WiA8IGNsaXBac1tpXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsaXAgPSBjbGlwc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKFxuICAgICAgICAgICAgICAgICAgICBbeCwgeSwgeCArIHcsIHkgKyBoXSxcbiAgICAgICAgICAgICAgICAgICAgW2NsaXBbMF0sIGNsaXBbM10sIGNsaXBbNF0sIGNsaXBbN11dXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHRTYXZlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dFNhdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAvLyBjb3VudGVyLWNsb2Nrd2lzZSAob3V0ZXIgcmluZykgZm9yIGN1cnJlbnQgdGlsZVxuICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oY3VycmVudENsaXBbMF0sIGN1cnJlbnRDbGlwWzFdKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGN1cnJlbnRDbGlwWzJdLCBjdXJyZW50Q2xpcFszXSk7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjdXJyZW50Q2xpcFs0XSwgY3VycmVudENsaXBbNV0pO1xuICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY3VycmVudENsaXBbNl0sIGN1cnJlbnRDbGlwWzddKTtcbiAgICAgICAgICAgICAgICAgIC8vIGNsb2Nrd2lzZSAoaW5uZXIgcmluZykgZm9yIGhpZ2hlciB6IHRpbGVcbiAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKGNsaXBbNl0sIGNsaXBbN10pO1xuICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oY2xpcFs0XSwgY2xpcFs1XSk7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjbGlwWzJdLCBjbGlwWzNdKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKGNsaXBbMF0sIGNsaXBbMV0pO1xuICAgICAgICAgICAgICAgICAgY29udGV4dC5jbGlwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGlwcy5wdXNoKGN1cnJlbnRDbGlwKTtcbiAgICAgICAgICAgIGNsaXBacy5wdXNoKGN1cnJlbnRaKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoeCwgeSwgdywgaCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhd1RpbGVJbWFnZShcbiAgICAgICAgICB0aWxlLFxuICAgICAgICAgIGZyYW1lU3RhdGUsXG4gICAgICAgICAgeCxcbiAgICAgICAgICB5LFxuICAgICAgICAgIHcsXG4gICAgICAgICAgaCxcbiAgICAgICAgICB0aWxlR3V0dGVyLFxuICAgICAgICAgIHRyYW5zaXRpb25cbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGNsaXBzICYmICFpblRyYW5zaXRpb24pIHtcbiAgICAgICAgICBpZiAoY29udGV4dFNhdmVkKSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5yZW5kZXJlZFRpbGVzLnVuc2hpZnQodGlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlZFRpbGVzLnB1c2godGlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVVc2VkVGlsZXMoZnJhbWVTdGF0ZS51c2VkVGlsZXMsIHRpbGVTb3VyY2UsIHRpbGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVuZGVyZWRSZXZpc2lvbiA9IHNvdXJjZVJldmlzaW9uO1xuICAgIHRoaXMucmVuZGVyZWRSZXNvbHV0aW9uID0gdGlsZVJlc29sdXRpb247XG4gICAgdGhpcy5leHRlbnRDaGFuZ2VkID1cbiAgICAgICF0aGlzLnJlbmRlcmVkRXh0ZW50XyB8fCAhZXF1YWxzKHRoaXMucmVuZGVyZWRFeHRlbnRfLCBjYW52YXNFeHRlbnQpO1xuICAgIHRoaXMucmVuZGVyZWRFeHRlbnRfID0gY2FudmFzRXh0ZW50O1xuICAgIHRoaXMucmVuZGVyZWRQaXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcbiAgICB0aGlzLnJlbmRlcmVkUHJvamVjdGlvbiA9IHByb2plY3Rpb247XG5cbiAgICB0aGlzLm1hbmFnZVRpbGVQeXJhbWlkKFxuICAgICAgZnJhbWVTdGF0ZSxcbiAgICAgIHRpbGVTb3VyY2UsXG4gICAgICB0aWxlR3JpZCxcbiAgICAgIHBpeGVsUmF0aW8sXG4gICAgICBwcm9qZWN0aW9uLFxuICAgICAgZXh0ZW50LFxuICAgICAgeixcbiAgICAgIHRpbGVMYXllci5nZXRQcmVsb2FkKClcbiAgICApO1xuICAgIHRoaXMuc2NoZWR1bGVFeHBpcmVDYWNoZShmcmFtZVN0YXRlLCB0aWxlU291cmNlKTtcblxuICAgIHRoaXMucG9zdFJlbmRlcihjb250ZXh0LCBmcmFtZVN0YXRlKTtcblxuICAgIGlmIChsYXllclN0YXRlLmV4dGVudCkge1xuICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuICAgIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gdHJ1ZTtcblxuICAgIGlmIChjYW52YXNUcmFuc2Zvcm0gIT09IGNhbnZhcy5zdHlsZS50cmFuc2Zvcm0pIHtcbiAgICAgIGNhbnZhcy5zdHlsZS50cmFuc2Zvcm0gPSBjYW52YXNUcmFuc2Zvcm07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggTGVmdCBvZiB0aGUgdGlsZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgVG9wIG9mIHRoZSB0aWxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gdyBXaWR0aCBvZiB0aGUgdGlsZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGggSGVpZ2h0IG9mIHRoZSB0aWxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZ3V0dGVyIFRpbGUgZ3V0dGVyLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zaXRpb24gQXBwbHkgYW4gYWxwaGEgdHJhbnNpdGlvbi5cbiAgICovXG4gIGRyYXdUaWxlSW1hZ2UodGlsZSwgZnJhbWVTdGF0ZSwgeCwgeSwgdywgaCwgZ3V0dGVyLCB0cmFuc2l0aW9uKSB7XG4gICAgY29uc3QgaW1hZ2UgPSB0aGlzLmdldFRpbGVJbWFnZSh0aWxlKTtcbiAgICBpZiAoIWltYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHVpZCA9IGdldFVpZCh0aGlzKTtcbiAgICBjb25zdCBsYXllclN0YXRlID0gZnJhbWVTdGF0ZS5sYXllclN0YXRlc0FycmF5W2ZyYW1lU3RhdGUubGF5ZXJJbmRleF07XG4gICAgY29uc3QgYWxwaGEgPVxuICAgICAgbGF5ZXJTdGF0ZS5vcGFjaXR5ICpcbiAgICAgICh0cmFuc2l0aW9uID8gdGlsZS5nZXRBbHBoYSh1aWQsIGZyYW1lU3RhdGUudGltZSkgOiAxKTtcbiAgICBjb25zdCBhbHBoYUNoYW5nZWQgPSBhbHBoYSAhPT0gdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhO1xuICAgIGlmIChhbHBoYUNoYW5nZWQpIHtcbiAgICAgIHRoaXMuY29udGV4dC5zYXZlKCk7XG4gICAgICB0aGlzLmNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYTtcbiAgICB9XG4gICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZShcbiAgICAgIGltYWdlLFxuICAgICAgZ3V0dGVyLFxuICAgICAgZ3V0dGVyLFxuICAgICAgaW1hZ2Uud2lkdGggLSAyICogZ3V0dGVyLFxuICAgICAgaW1hZ2UuaGVpZ2h0IC0gMiAqIGd1dHRlcixcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgdyxcbiAgICAgIGhcbiAgICApO1xuXG4gICAgaWYgKGFscGhhQ2hhbmdlZCkge1xuICAgICAgdGhpcy5jb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgaWYgKGFscGhhICE9PSBsYXllclN0YXRlLm9wYWNpdHkpIHtcbiAgICAgIGZyYW1lU3RhdGUuYW5pbWF0ZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICB0aWxlLmVuZFRyYW5zaXRpb24odWlkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlXG4gICAqL1xuICBnZXRJbWFnZSgpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIHJldHVybiBjb250ZXh0ID8gY29udGV4dC5jYW52YXMgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaW1hZ2UgZnJvbSBhIHRpbGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vSW1hZ2VUaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGUgVGlsZS5cbiAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBJbWFnZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZ2V0VGlsZUltYWdlKHRpbGUpIHtcbiAgICByZXR1cm4gdGlsZS5nZXRJbWFnZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZVNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc2NoZWR1bGVFeHBpcmVDYWNoZShmcmFtZVN0YXRlLCB0aWxlU291cmNlKSB7XG4gICAgaWYgKHRpbGVTb3VyY2UuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3NvdXJjZS9UaWxlLmpzXCIpLmRlZmF1bHR9IHRpbGVTb3VyY2UgVGlsZSBzb3VyY2UuXG4gICAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5kZWZhdWx0fSBtYXAgTWFwLlxuICAgICAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi9NYXAuanNcIikuRnJhbWVTdGF0ZX0gZnJhbWVTdGF0ZSBGcmFtZSBzdGF0ZS5cbiAgICAgICAqL1xuICAgICAgY29uc3QgcG9zdFJlbmRlckZ1bmN0aW9uID0gZnVuY3Rpb24gKHRpbGVTb3VyY2UsIG1hcCwgZnJhbWVTdGF0ZSkge1xuICAgICAgICBjb25zdCB0aWxlU291cmNlS2V5ID0gZ2V0VWlkKHRpbGVTb3VyY2UpO1xuICAgICAgICBpZiAodGlsZVNvdXJjZUtleSBpbiBmcmFtZVN0YXRlLnVzZWRUaWxlcykge1xuICAgICAgICAgIHRpbGVTb3VyY2UuZXhwaXJlQ2FjaGUoXG4gICAgICAgICAgICBmcmFtZVN0YXRlLnZpZXdTdGF0ZS5wcm9qZWN0aW9uLFxuICAgICAgICAgICAgZnJhbWVTdGF0ZS51c2VkVGlsZXNbdGlsZVNvdXJjZUtleV1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQobnVsbCwgdGlsZVNvdXJjZSk7XG5cbiAgICAgIGZyYW1lU3RhdGUucG9zdFJlbmRlckZ1bmN0aW9ucy5wdXNoKFxuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uLy4uL01hcC5qc1wiKS5Qb3N0UmVuZGVyRnVuY3Rpb259ICovIChcbiAgICAgICAgICBwb3N0UmVuZGVyRnVuY3Rpb25cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgIU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+Pn0gdXNlZFRpbGVzIFVzZWQgdGlsZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZVNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoJy4uLy4uL1RpbGUuanMnKS5kZWZhdWx0fSB0aWxlIFRpbGUuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHVwZGF0ZVVzZWRUaWxlcyh1c2VkVGlsZXMsIHRpbGVTb3VyY2UsIHRpbGUpIHtcbiAgICAvLyBGSVhNRSBzaG91bGQgd2UgdXNlIHRpbGVzVG9EcmF3QnlaIGluc3RlYWQ/XG4gICAgY29uc3QgdGlsZVNvdXJjZUtleSA9IGdldFVpZCh0aWxlU291cmNlKTtcbiAgICBpZiAoISh0aWxlU291cmNlS2V5IGluIHVzZWRUaWxlcykpIHtcbiAgICAgIHVzZWRUaWxlc1t0aWxlU291cmNlS2V5XSA9IHt9O1xuICAgIH1cbiAgICB1c2VkVGlsZXNbdGlsZVNvdXJjZUtleV1bdGlsZS5nZXRLZXkoKV0gPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hbmFnZSB0aWxlIHB5cmFtaWQuXG4gICAqIFRoaXMgZnVuY3Rpb24gcGVyZm9ybXMgYSBudW1iZXIgb2YgZnVuY3Rpb25zIHJlbGF0ZWQgdG8gdGhlIHRpbGVzIGF0IHRoZVxuICAgKiBjdXJyZW50IHpvb20gYW5kIGxvd2VyIHpvb20gbGV2ZWxzOlxuICAgKiAtIHJlZ2lzdGVycyBpZGxlIHRpbGVzIGluIGZyYW1lU3RhdGUud2FudGVkVGlsZXMgc28gdGhhdCB0aGV5IGFyZSBub3RcbiAgICogICBkaXNjYXJkZWQgYnkgdGhlIHRpbGUgcXVldWVcbiAgICogLSBlbnF1ZXVlcyBtaXNzaW5nIHRpbGVzXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vTWFwLmpzXCIpLkZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgRnJhbWUgc3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vc291cmNlL1RpbGUuanNcIikuZGVmYXVsdH0gdGlsZVNvdXJjZSBUaWxlIHNvdXJjZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi8uLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uLy4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRaIEN1cnJlbnQgWi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHByZWxvYWQgTG9hZCBsb3cgcmVzb2x1dGlvbiB0aWxlcyB1cCB0byBgcHJlbG9hZGAgbGV2ZWxzLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uLy4uL1RpbGUuanNcIikuZGVmYXVsdCk6dm9pZH0gW3RpbGVDYWxsYmFja10gVGlsZSBjYWxsYmFjay5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgbWFuYWdlVGlsZVB5cmFtaWQoXG4gICAgZnJhbWVTdGF0ZSxcbiAgICB0aWxlU291cmNlLFxuICAgIHRpbGVHcmlkLFxuICAgIHBpeGVsUmF0aW8sXG4gICAgcHJvamVjdGlvbixcbiAgICBleHRlbnQsXG4gICAgY3VycmVudFosXG4gICAgcHJlbG9hZCxcbiAgICB0aWxlQ2FsbGJhY2tcbiAgKSB7XG4gICAgY29uc3QgdGlsZVNvdXJjZUtleSA9IGdldFVpZCh0aWxlU291cmNlKTtcbiAgICBpZiAoISh0aWxlU291cmNlS2V5IGluIGZyYW1lU3RhdGUud2FudGVkVGlsZXMpKSB7XG4gICAgICBmcmFtZVN0YXRlLndhbnRlZFRpbGVzW3RpbGVTb3VyY2VLZXldID0ge307XG4gICAgfVxuICAgIGNvbnN0IHdhbnRlZFRpbGVzID0gZnJhbWVTdGF0ZS53YW50ZWRUaWxlc1t0aWxlU291cmNlS2V5XTtcbiAgICBjb25zdCB0aWxlUXVldWUgPSBmcmFtZVN0YXRlLnRpbGVRdWV1ZTtcbiAgICBjb25zdCBtaW5ab29tID0gdGlsZUdyaWQuZ2V0TWluWm9vbSgpO1xuICAgIGNvbnN0IHJvdGF0aW9uID0gZnJhbWVTdGF0ZS52aWV3U3RhdGUucm90YXRpb247XG4gICAgY29uc3Qgdmlld3BvcnQgPSByb3RhdGlvblxuICAgICAgPyBnZXRSb3RhdGVkVmlld3BvcnQoXG4gICAgICAgICAgZnJhbWVTdGF0ZS52aWV3U3RhdGUuY2VudGVyLFxuICAgICAgICAgIGZyYW1lU3RhdGUudmlld1N0YXRlLnJlc29sdXRpb24sXG4gICAgICAgICAgcm90YXRpb24sXG4gICAgICAgICAgZnJhbWVTdGF0ZS5zaXplXG4gICAgICAgIClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIGxldCB0aWxlQ291bnQgPSAwO1xuICAgIGxldCB0aWxlLCB0aWxlUmFuZ2UsIHRpbGVSZXNvbHV0aW9uLCB4LCB5LCB6O1xuICAgIGZvciAoeiA9IG1pblpvb207IHogPD0gY3VycmVudFo7ICsreikge1xuICAgICAgdGlsZVJhbmdlID0gdGlsZUdyaWQuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihleHRlbnQsIHosIHRpbGVSYW5nZSk7XG4gICAgICB0aWxlUmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oeik7XG4gICAgICBmb3IgKHggPSB0aWxlUmFuZ2UubWluWDsgeCA8PSB0aWxlUmFuZ2UubWF4WDsgKyt4KSB7XG4gICAgICAgIGZvciAoeSA9IHRpbGVSYW5nZS5taW5ZOyB5IDw9IHRpbGVSYW5nZS5tYXhZOyArK3kpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICByb3RhdGlvbiAmJlxuICAgICAgICAgICAgIXRpbGVHcmlkLnRpbGVDb29yZEludGVyc2VjdHNWaWV3cG9ydChbeiwgeCwgeV0sIHZpZXdwb3J0KVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50WiAtIHogPD0gcHJlbG9hZCkge1xuICAgICAgICAgICAgKyt0aWxlQ291bnQ7XG4gICAgICAgICAgICB0aWxlID0gdGlsZVNvdXJjZS5nZXRUaWxlKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgICB3YW50ZWRUaWxlc1t0aWxlLmdldEtleSgpXSA9IHRydWU7XG4gICAgICAgICAgICAgIGlmICghdGlsZVF1ZXVlLmlzS2V5UXVldWVkKHRpbGUuZ2V0S2V5KCkpKSB7XG4gICAgICAgICAgICAgICAgdGlsZVF1ZXVlLmVucXVldWUoW1xuICAgICAgICAgICAgICAgICAgdGlsZSxcbiAgICAgICAgICAgICAgICAgIHRpbGVTb3VyY2VLZXksXG4gICAgICAgICAgICAgICAgICB0aWxlR3JpZC5nZXRUaWxlQ29vcmRDZW50ZXIodGlsZS50aWxlQ29vcmQpLFxuICAgICAgICAgICAgICAgICAgdGlsZVJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aWxlQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICB0aWxlQ2FsbGJhY2sodGlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbGVTb3VyY2UudXNlVGlsZSh6LCB4LCB5LCBwcm9qZWN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGlsZVNvdXJjZS51cGRhdGVDYWNoZVNpemUodGlsZUNvdW50LCBwcm9qZWN0aW9uKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNUaWxlTGF5ZXJSZW5kZXJlcjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZXByb2pcbiAqL1xuaW1wb3J0IHtcbiAgY29udGFpbnNDb29yZGluYXRlLFxuICBjcmVhdGVFbXB0eSxcbiAgZXh0ZW5kLFxuICBmb3JFYWNoQ29ybmVyLFxuICBnZXRDZW50ZXIsXG4gIGdldEhlaWdodCxcbiAgZ2V0VG9wTGVmdCxcbiAgZ2V0V2lkdGgsXG59IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJELCByZWxlYXNlQ2FudmFzfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge2dldFBvaW50UmVzb2x1dGlvbiwgdHJhbnNmb3JtfSBmcm9tICcuL3Byb2ouanMnO1xuaW1wb3J0IHtzb2x2ZUxpbmVhclN5c3RlbX0gZnJvbSAnLi9tYXRoLmpzJztcblxubGV0IGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXztcblxuLyoqXG4gKiBAdHlwZSB7QXJyYXk8SFRNTENhbnZhc0VsZW1lbnQ+fVxuICovXG5leHBvcnQgY29uc3QgY2FudmFzUG9vbCA9IFtdO1xuXG4vKipcbiAqIFRoaXMgZHJhd3MgYSBzbWFsbCB0cmlhbmdsZSBpbnRvIGEgY2FudmFzIGJ5IHNldHRpbmcgdGhlIHRyaWFuZ2xlIGFzIHRoZSBjbGlwIHJlZ2lvblxuICogYW5kIHRoZW4gZHJhd2luZyBhICh0b28gbGFyZ2UpIHJlY3RhbmdsZVxuICpcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNvbnRleHQgaW4gd2hpY2ggdG8gZHJhdyB0aGUgdHJpYW5nbGVcbiAqIEBwYXJhbSB7bnVtYmVyfSB1MSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBzZWNvbmQgcG9pbnQuIFRoZSBmaXJzdCBwb2ludCBpcyAwLDAuXG4gKiBAcGFyYW0ge251bWJlcn0gdjEgVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgc2Vjb25kIHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHUyIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHRoaXJkIHBvaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHYyIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIHRoaXJkIHBvaW50LlxuICovXG5mdW5jdGlvbiBkcmF3VGVzdFRyaWFuZ2xlKGN0eCwgdTEsIHYxLCB1MiwgdjIpIHtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHgubW92ZVRvKDAsIDApO1xuICBjdHgubGluZVRvKHUxLCB2MSk7XG4gIGN0eC5saW5lVG8odTIsIHYyKTtcbiAgY3R4LmNsb3NlUGF0aCgpO1xuICBjdHguc2F2ZSgpO1xuICBjdHguY2xpcCgpO1xuICBjdHguZmlsbFJlY3QoMCwgMCwgTWF0aC5tYXgodTEsIHUyKSArIDEsIE1hdGgubWF4KHYxLCB2MikpO1xuICBjdHgucmVzdG9yZSgpO1xufVxuXG4vKipcbiAqIEdpdmVuIHRoZSBkYXRhIGZyb20gZ2V0SW1hZ2VEYXRhLCBzZWUgaWYgdGhlIHJpZ2h0IHZhbHVlcyBhcHBlYXIgYXQgdGhlIHByb3ZpZGVkIG9mZnNldC5cbiAqIFJldHVybnMgdHJ1ZSBpZiBlaXRoZXIgdGhlIGNvbG9yIG9yIHRyYW5zcGFyZW5jeSBpcyBvZmZcbiAqXG4gKiBAcGFyYW0ge1VpbnQ4Q2xhbXBlZEFycmF5fSBkYXRhIFRoZSBkYXRhIHJldHVybmVkIGZyb20gZ2V0SW1hZ2VEYXRhXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IFRoZSBwaXhlbCBvZmZzZXQgZnJvbSB0aGUgc3RhcnQgb2YgZGF0YS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIGRpYWdvbmFsIHJlbmRlcmluZyBpcyBicm9rZW5cbiAqL1xuZnVuY3Rpb24gdmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoZGF0YSwgb2Zmc2V0KSB7XG4gIC8vIHRoZSB2YWx1ZXMgb3VnaHQgdG8gYmUgY2xvc2UgdG8gdGhlIHJnYmEoMjEwLCAwLCAwLCAwLjc1KVxuICByZXR1cm4gKFxuICAgIE1hdGguYWJzKGRhdGFbb2Zmc2V0ICogNF0gLSAyMTApID4gMiB8fFxuICAgIE1hdGguYWJzKGRhdGFbb2Zmc2V0ICogNCArIDNdIC0gMC43NSAqIDI1NSkgPiAyXG4gICk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgY3VycmVudCBicm93c2VyIGNvbmZpZ3VyYXRpb24gY2FuIHJlbmRlciB0cmlhbmd1bGFyIGNsaXAgcmVnaW9ucyBjb3JyZWN0bHkuXG4gKiBUaGlzIHZhbHVlIGlzIGNhY2hlZCBzbyB0aGUgZnVuY3Rpb24gaXMgb25seSBleHBlbnNpdmUgdGhlIGZpcnN0IHRpbWUgY2FsbGVkLlxuICogRmlyZWZveCBvbiBXaW5kb3dzIChhcyBvZiBub3cpIGRvZXMgbm90IGlmIEhXQSBpcyBlbmFibGVkLiBTZWUgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTYwNjk3NlxuICogQ2hyb21lIHdvcmtzLCBhbmQgZXZlcnl0aGluZyBzZWVtcyB0byB3b3JrIG9uIE9TWCBhbmQgQW5kcm9pZC4gVGhpcyBmdW5jdGlvbiBjYWNoZXMgdGhlXG4gKiByZXN1bHQuIEkgc3VwcG9zZSB0aGF0IGl0IGlzIGNvbmNlaXZhYmx5IHBvc3NpYmxlIHRoYXQgYSBicm93c2VyIG1pZ2h0IGZsaXAgbW9kZXMgd2hpbGUgdGhlIGFwcCBpc1xuICogcnVubmluZywgYnV0IGxldHMgaG9wZSBub3QuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgRGlhZ29uYWwgUmVuZGVyaW5nIGlzIGJyb2tlbi5cbiAqL1xuZnVuY3Rpb24gaXNCcm9rZW5EaWFnb25hbFJlbmRlcmluZygpIHtcbiAgaWYgKGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgY3R4ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKDYsIDYsIGNhbnZhc1Bvb2wpO1xuICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbGlnaHRlcic7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDIxMCwgMCwgMCwgMC43NSknO1xuICAgIGRyYXdUZXN0VHJpYW5nbGUoY3R4LCA0LCA1LCA0LCAwKTtcbiAgICBkcmF3VGVzdFRyaWFuZ2xlKGN0eCwgNCwgNSwgMCwgNSk7XG4gICAgY29uc3QgZGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgMywgMykuZGF0YTtcbiAgICBicm9rZW5EaWFnb25hbFJlbmRlcmluZ18gPVxuICAgICAgdmVyaWZ5QnJva2VuRGlhZ29uYWxSZW5kZXJpbmcoZGF0YSwgMCkgfHxcbiAgICAgIHZlcmlmeUJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nKGRhdGEsIDQpIHx8XG4gICAgICB2ZXJpZnlCcm9rZW5EaWFnb25hbFJlbmRlcmluZyhkYXRhLCA4KTtcbiAgICByZWxlYXNlQ2FudmFzKGN0eCk7XG4gICAgY2FudmFzUG9vbC5wdXNoKGN0eC5jYW52YXMpO1xuICB9XG5cbiAgcmV0dXJuIGJyb2tlbkRpYWdvbmFsUmVuZGVyaW5nXztcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIGlkZWFsIHJlc29sdXRpb24gdG8gdXNlIGZyb20gdGhlIHNvdXJjZSBpbiBvcmRlciB0byBhY2hpZXZlXG4gKiBwaXhlbCBtYXBwaW5nIGFzIGNsb3NlIGFzIHBvc3NpYmxlIHRvIDE6MSBkdXJpbmcgcmVwcm9qZWN0aW9uLlxuICogVGhlIHJlc29sdXRpb24gaXMgY2FsY3VsYXRlZCByZWdhcmRsZXNzIG9mIHdoYXQgcmVzb2x1dGlvbnNcbiAqIGFyZSBhY3R1YWxseSBhdmFpbGFibGUgaW4gdGhlIGRhdGFzZXQgKFRpbGVHcmlkLCBJbWFnZSwgLi4uKS5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHNvdXJjZVByb2ogU291cmNlIHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHRhcmdldFByb2ogVGFyZ2V0IHByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSB0YXJnZXRDZW50ZXIgVGFyZ2V0IGNlbnRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRSZXNvbHV0aW9uIFRhcmdldCByZXNvbHV0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgYmVzdCByZXNvbHV0aW9uIHRvIHVzZS4gQ2FuIGJlICstSW5maW5pdHksIE5hTiBvciAwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlU291cmNlUmVzb2x1dGlvbihcbiAgc291cmNlUHJvaixcbiAgdGFyZ2V0UHJvaixcbiAgdGFyZ2V0Q2VudGVyLFxuICB0YXJnZXRSZXNvbHV0aW9uXG4pIHtcbiAgY29uc3Qgc291cmNlQ2VudGVyID0gdHJhbnNmb3JtKHRhcmdldENlbnRlciwgdGFyZ2V0UHJvaiwgc291cmNlUHJvaik7XG5cbiAgLy8gY2FsY3VsYXRlIHRoZSBpZGVhbCByZXNvbHV0aW9uIG9mIHRoZSBzb3VyY2UgZGF0YVxuICBsZXQgc291cmNlUmVzb2x1dGlvbiA9IGdldFBvaW50UmVzb2x1dGlvbihcbiAgICB0YXJnZXRQcm9qLFxuICAgIHRhcmdldFJlc29sdXRpb24sXG4gICAgdGFyZ2V0Q2VudGVyXG4gICk7XG5cbiAgY29uc3QgdGFyZ2V0TWV0ZXJzUGVyVW5pdCA9IHRhcmdldFByb2ouZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICBpZiAodGFyZ2V0TWV0ZXJzUGVyVW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgc291cmNlUmVzb2x1dGlvbiAqPSB0YXJnZXRNZXRlcnNQZXJVbml0O1xuICB9XG4gIGNvbnN0IHNvdXJjZU1ldGVyc1BlclVuaXQgPSBzb3VyY2VQcm9qLmdldE1ldGVyc1BlclVuaXQoKTtcbiAgaWYgKHNvdXJjZU1ldGVyc1BlclVuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgIHNvdXJjZVJlc29sdXRpb24gLz0gc291cmNlTWV0ZXJzUGVyVW5pdDtcbiAgfVxuXG4gIC8vIEJhc2VkIG9uIHRoZSBwcm9qZWN0aW9uIHByb3BlcnRpZXMsIHRoZSBwb2ludCByZXNvbHV0aW9uIGF0IHRoZSBzcGVjaWZpZWRcbiAgLy8gY29vcmRpbmF0ZXMgbWF5IGJlIHNsaWdodGx5IGRpZmZlcmVudC4gV2UgbmVlZCB0byByZXZlcnNlLWNvbXBlbnNhdGUgdGhpc1xuICAvLyBpbiBvcmRlciB0byBhY2hpZXZlIG9wdGltYWwgcmVzdWx0cy5cblxuICBjb25zdCBzb3VyY2VFeHRlbnQgPSBzb3VyY2VQcm9qLmdldEV4dGVudCgpO1xuICBpZiAoIXNvdXJjZUV4dGVudCB8fCBjb250YWluc0Nvb3JkaW5hdGUoc291cmNlRXh0ZW50LCBzb3VyY2VDZW50ZXIpKSB7XG4gICAgY29uc3QgY29tcGVuc2F0aW9uRmFjdG9yID1cbiAgICAgIGdldFBvaW50UmVzb2x1dGlvbihzb3VyY2VQcm9qLCBzb3VyY2VSZXNvbHV0aW9uLCBzb3VyY2VDZW50ZXIpIC9cbiAgICAgIHNvdXJjZVJlc29sdXRpb247XG4gICAgaWYgKGlzRmluaXRlKGNvbXBlbnNhdGlvbkZhY3RvcikgJiYgY29tcGVuc2F0aW9uRmFjdG9yID4gMCkge1xuICAgICAgc291cmNlUmVzb2x1dGlvbiAvPSBjb21wZW5zYXRpb25GYWN0b3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNvdXJjZVJlc29sdXRpb247XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyBpZGVhbCByZXNvbHV0aW9uIHRvIHVzZSBmcm9tIHRoZSBzb3VyY2UgaW4gb3JkZXIgdG8gYWNoaWV2ZVxuICogcGl4ZWwgbWFwcGluZyBhcyBjbG9zZSBhcyBwb3NzaWJsZSB0byAxOjEgZHVyaW5nIHJlcHJvamVjdGlvbi5cbiAqIFRoZSByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWQgcmVnYXJkbGVzcyBvZiB3aGF0IHJlc29sdXRpb25zXG4gKiBhcmUgYWN0dWFsbHkgYXZhaWxhYmxlIGluIHRoZSBkYXRhc2V0IChUaWxlR3JpZCwgSW1hZ2UsIC4uLikuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2VQcm9qIFNvdXJjZSBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSB0YXJnZXRQcm9qIFRhcmdldCBwcm9qZWN0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IHRhcmdldEV4dGVudCBUYXJnZXQgZXh0ZW50XG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0UmVzb2x1dGlvbiBUYXJnZXQgcmVzb2x1dGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGJlc3QgcmVzb2x1dGlvbiB0byB1c2UuIENhbiBiZSArLUluZmluaXR5LCBOYU4gb3IgMC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVNvdXJjZUV4dGVudFJlc29sdXRpb24oXG4gIHNvdXJjZVByb2osXG4gIHRhcmdldFByb2osXG4gIHRhcmdldEV4dGVudCxcbiAgdGFyZ2V0UmVzb2x1dGlvblxuKSB7XG4gIGNvbnN0IHRhcmdldENlbnRlciA9IGdldENlbnRlcih0YXJnZXRFeHRlbnQpO1xuICBsZXQgc291cmNlUmVzb2x1dGlvbiA9IGNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24oXG4gICAgc291cmNlUHJvaixcbiAgICB0YXJnZXRQcm9qLFxuICAgIHRhcmdldENlbnRlcixcbiAgICB0YXJnZXRSZXNvbHV0aW9uXG4gICk7XG5cbiAgaWYgKCFpc0Zpbml0ZShzb3VyY2VSZXNvbHV0aW9uKSB8fCBzb3VyY2VSZXNvbHV0aW9uIDw9IDApIHtcbiAgICBmb3JFYWNoQ29ybmVyKHRhcmdldEV4dGVudCwgZnVuY3Rpb24gKGNvcm5lcikge1xuICAgICAgc291cmNlUmVzb2x1dGlvbiA9IGNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24oXG4gICAgICAgIHNvdXJjZVByb2osXG4gICAgICAgIHRhcmdldFByb2osXG4gICAgICAgIGNvcm5lcixcbiAgICAgICAgdGFyZ2V0UmVzb2x1dGlvblxuICAgICAgKTtcbiAgICAgIHJldHVybiBpc0Zpbml0ZShzb3VyY2VSZXNvbHV0aW9uKSAmJiBzb3VyY2VSZXNvbHV0aW9uID4gMDtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBzb3VyY2VSZXNvbHV0aW9uO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEltYWdlRXh0ZW50XG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTEltYWdlRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBpbWFnZSBJbWFnZS5cbiAqL1xuXG4vKipcbiAqIFJlbmRlcnMgdGhlIHNvdXJjZSBkYXRhIGludG8gbmV3IGNhbnZhcyBiYXNlZCBvbiB0aGUgdHJpYW5ndWxhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggV2lkdGggb2YgdGhlIGNhbnZhcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IG9mIHRoZSBjYW52YXMuXG4gKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzb3VyY2VSZXNvbHV0aW9uIFNvdXJjZSByZXNvbHV0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IHNvdXJjZUV4dGVudCBFeHRlbnQgb2YgdGhlIGRhdGEgc291cmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldFJlc29sdXRpb24gVGFyZ2V0IHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gdGFyZ2V0RXh0ZW50IFRhcmdldCBleHRlbnQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcmVwcm9qL1RyaWFuZ3VsYXRpb24uanNcIikuZGVmYXVsdH0gdHJpYW5ndWxhdGlvbiBDYWxjdWxhdGVkIHRyaWFuZ3VsYXRpb24uXG4gKiBAcGFyYW0ge0FycmF5PEltYWdlRXh0ZW50Pn0gc291cmNlcyBBcnJheSBvZiBzb3VyY2VzLlxuICogQHBhcmFtIHtudW1iZXJ9IGd1dHRlciBHdXR0ZXIgb2YgdGhlIHNvdXJjZXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW5kZXJFZGdlc10gUmVuZGVyIHJlcHJvamVjdGlvbiBlZGdlcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlXSBVc2UgbGluZWFyIGludGVycG9sYXRpb24gd2hlbiByZXNhbXBsaW5nLlxuICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IENhbnZhcyB3aXRoIHJlcHJvamVjdGVkIGRhdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoXG4gIHdpZHRoLFxuICBoZWlnaHQsXG4gIHBpeGVsUmF0aW8sXG4gIHNvdXJjZVJlc29sdXRpb24sXG4gIHNvdXJjZUV4dGVudCxcbiAgdGFyZ2V0UmVzb2x1dGlvbixcbiAgdGFyZ2V0RXh0ZW50LFxuICB0cmlhbmd1bGF0aW9uLFxuICBzb3VyY2VzLFxuICBndXR0ZXIsXG4gIHJlbmRlckVkZ2VzLFxuICBpbnRlcnBvbGF0ZVxuKSB7XG4gIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoXG4gICAgTWF0aC5yb3VuZChwaXhlbFJhdGlvICogd2lkdGgpLFxuICAgIE1hdGgucm91bmQocGl4ZWxSYXRpbyAqIGhlaWdodCksXG4gICAgY2FudmFzUG9vbFxuICApO1xuXG4gIGlmICghaW50ZXJwb2xhdGUpIHtcbiAgICBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKHNvdXJjZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGNvbnRleHQuY2FudmFzO1xuICB9XG5cbiAgY29udGV4dC5zY2FsZShwaXhlbFJhdGlvLCBwaXhlbFJhdGlvKTtcblxuICBmdW5jdGlvbiBwaXhlbFJvdW5kKHZhbHVlKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiBwaXhlbFJhdGlvKSAvIHBpeGVsUmF0aW87XG4gIH1cblxuICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdsaWdodGVyJztcblxuICBjb25zdCBzb3VyY2VEYXRhRXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcbiAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzcmMsIGksIGFycikge1xuICAgIGV4dGVuZChzb3VyY2VEYXRhRXh0ZW50LCBzcmMuZXh0ZW50KTtcbiAgfSk7XG5cbiAgY29uc3QgY2FudmFzV2lkdGhJblVuaXRzID0gZ2V0V2lkdGgoc291cmNlRGF0YUV4dGVudCk7XG4gIGNvbnN0IGNhbnZhc0hlaWdodEluVW5pdHMgPSBnZXRIZWlnaHQoc291cmNlRGF0YUV4dGVudCk7XG4gIGNvbnN0IHN0aXRjaENvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoXG4gICAgTWF0aC5yb3VuZCgocGl4ZWxSYXRpbyAqIGNhbnZhc1dpZHRoSW5Vbml0cykgLyBzb3VyY2VSZXNvbHV0aW9uKSxcbiAgICBNYXRoLnJvdW5kKChwaXhlbFJhdGlvICogY2FudmFzSGVpZ2h0SW5Vbml0cykgLyBzb3VyY2VSZXNvbHV0aW9uKSxcbiAgICBjYW52YXNQb29sXG4gICk7XG5cbiAgaWYgKCFpbnRlcnBvbGF0ZSkge1xuICAgIHN0aXRjaENvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gIH1cblxuICBjb25zdCBzdGl0Y2hTY2FsZSA9IHBpeGVsUmF0aW8gLyBzb3VyY2VSZXNvbHV0aW9uO1xuXG4gIHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoc3JjLCBpLCBhcnIpIHtcbiAgICBjb25zdCB4UG9zID0gc3JjLmV4dGVudFswXSAtIHNvdXJjZURhdGFFeHRlbnRbMF07XG4gICAgY29uc3QgeVBvcyA9IC0oc3JjLmV4dGVudFszXSAtIHNvdXJjZURhdGFFeHRlbnRbM10pO1xuICAgIGNvbnN0IHNyY1dpZHRoID0gZ2V0V2lkdGgoc3JjLmV4dGVudCk7XG4gICAgY29uc3Qgc3JjSGVpZ2h0ID0gZ2V0SGVpZ2h0KHNyYy5leHRlbnQpO1xuXG4gICAgLy8gVGhpcyB0ZXN0IHNob3VsZCBuZXZlciBmYWlsIC0tIGJ1dCBpdCBkb2VzLiBOZWVkIHRvIGZpbmQgYSBmaXggdGhlIHVwc3RyZWFtIGNvbmRpdGlvblxuICAgIGlmIChzcmMuaW1hZ2Uud2lkdGggPiAwICYmIHNyYy5pbWFnZS5oZWlnaHQgPiAwKSB7XG4gICAgICBzdGl0Y2hDb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgc3JjLmltYWdlLFxuICAgICAgICBndXR0ZXIsXG4gICAgICAgIGd1dHRlcixcbiAgICAgICAgc3JjLmltYWdlLndpZHRoIC0gMiAqIGd1dHRlcixcbiAgICAgICAgc3JjLmltYWdlLmhlaWdodCAtIDIgKiBndXR0ZXIsXG4gICAgICAgIHhQb3MgKiBzdGl0Y2hTY2FsZSxcbiAgICAgICAgeVBvcyAqIHN0aXRjaFNjYWxlLFxuICAgICAgICBzcmNXaWR0aCAqIHN0aXRjaFNjYWxlLFxuICAgICAgICBzcmNIZWlnaHQgKiBzdGl0Y2hTY2FsZVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IHRhcmdldFRvcExlZnQgPSBnZXRUb3BMZWZ0KHRhcmdldEV4dGVudCk7XG5cbiAgdHJpYW5ndWxhdGlvbi5nZXRUcmlhbmdsZXMoKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmlhbmdsZSwgaSwgYXJyKSB7XG4gICAgLyogQ2FsY3VsYXRlIGFmZmluZSB0cmFuc2Zvcm0gKHNyYyAtPiBkc3QpXG4gICAgICogUmVzdWx0aW5nIG1hdHJpeCBjYW4gYmUgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRpbmF0ZVxuICAgICAqIGZyb20gYHNvdXJjZVByb2plY3Rpb25gIHRvIGRlc3RpbmF0aW9uIHBpeGVscy5cbiAgICAgKlxuICAgICAqIFRvIG9wdGltaXplIG51bWJlciBvZiBjb250ZXh0IGNhbGxzIGFuZCBpbmNyZWFzZSBudW1lcmljYWwgc3RhYmlsaXR5LFxuICAgICAqIHdlIGFsc28gZG8gdGhlIGZvbGxvd2luZyBvcGVyYXRpb25zOlxuICAgICAqIHRyYW5zKC10b3BMZWZ0RXh0ZW50Q29ybmVyKSwgc2NhbGUoMSAvIHRhcmdldFJlc29sdXRpb24pLCBzY2FsZSgxLCAtMSlcbiAgICAgKiBoZXJlIGJlZm9yZSBzb2x2aW5nIHRoZSBsaW5lYXIgc3lzdGVtIHNvIFt1aSwgdmldIGFyZSBwaXhlbCBjb29yZGluYXRlcy5cbiAgICAgKlxuICAgICAqIFNyYyBwb2ludHM6IHhpLCB5aVxuICAgICAqIERzdCBwb2ludHM6IHVpLCB2aVxuICAgICAqIEFmZmluZSBjb2VmZmljaWVudHM6IGFpalxuICAgICAqXG4gICAgICogfCB4MCB5MCAxICAwICAwIDAgfCAgIHxhMDB8ICAgfHUwfFxuICAgICAqIHwgeDEgeTEgMSAgMCAgMCAwIHwgICB8YTAxfCAgIHx1MXxcbiAgICAgKiB8IHgyIHkyIDEgIDAgIDAgMCB8IHggfGEwMnwgPSB8dTJ8XG4gICAgICogfCAgMCAgMCAwIHgwIHkwIDEgfCAgIHxhMTB8ICAgfHYwfFxuICAgICAqIHwgIDAgIDAgMCB4MSB5MSAxIHwgICB8YTExfCAgIHx2MXxcbiAgICAgKiB8ICAwICAwIDAgeDIgeTIgMSB8ICAgfGExMnwgICB8djJ8XG4gICAgICovXG4gICAgY29uc3Qgc291cmNlID0gdHJpYW5nbGUuc291cmNlO1xuICAgIGNvbnN0IHRhcmdldCA9IHRyaWFuZ2xlLnRhcmdldDtcbiAgICBsZXQgeDAgPSBzb3VyY2VbMF1bMF0sXG4gICAgICB5MCA9IHNvdXJjZVswXVsxXTtcbiAgICBsZXQgeDEgPSBzb3VyY2VbMV1bMF0sXG4gICAgICB5MSA9IHNvdXJjZVsxXVsxXTtcbiAgICBsZXQgeDIgPSBzb3VyY2VbMl1bMF0sXG4gICAgICB5MiA9IHNvdXJjZVsyXVsxXTtcbiAgICAvLyBNYWtlIHN1cmUgdGhhdCBldmVyeXRoaW5nIGlzIG9uIHBpeGVsIGJvdW5kYXJpZXNcbiAgICBjb25zdCB1MCA9IHBpeGVsUm91bmQoKHRhcmdldFswXVswXSAtIHRhcmdldFRvcExlZnRbMF0pIC8gdGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgY29uc3QgdjAgPSBwaXhlbFJvdW5kKFxuICAgICAgLSh0YXJnZXRbMF1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb25cbiAgICApO1xuICAgIGNvbnN0IHUxID0gcGl4ZWxSb3VuZCgodGFyZ2V0WzFdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uKTtcbiAgICBjb25zdCB2MSA9IHBpeGVsUm91bmQoXG4gICAgICAtKHRhcmdldFsxXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvblxuICAgICk7XG4gICAgY29uc3QgdTIgPSBwaXhlbFJvdW5kKCh0YXJnZXRbMl1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb24pO1xuICAgIGNvbnN0IHYyID0gcGl4ZWxSb3VuZChcbiAgICAgIC0odGFyZ2V0WzJdWzFdIC0gdGFyZ2V0VG9wTGVmdFsxXSkgLyB0YXJnZXRSZXNvbHV0aW9uXG4gICAgKTtcblxuICAgIC8vIFNoaWZ0IGFsbCB0aGUgc291cmNlIHBvaW50cyB0byBpbXByb3ZlIG51bWVyaWNhbCBzdGFiaWxpdHlcbiAgICAvLyBvZiBhbGwgdGhlIHN1YnNlcXVlbnQgY2FsY3VsYXRpb25zLiBUaGUgW3gwLCB5MF0gaXMgdXNlZCBoZXJlLlxuICAgIC8vIFRoaXMgaXMgYWxzbyB1c2VkIHRvIHNpbXBsaWZ5IHRoZSBsaW5lYXIgc3lzdGVtLlxuICAgIGNvbnN0IHNvdXJjZU51bWVyaWNhbFNoaWZ0WCA9IHgwO1xuICAgIGNvbnN0IHNvdXJjZU51bWVyaWNhbFNoaWZ0WSA9IHkwO1xuICAgIHgwID0gMDtcbiAgICB5MCA9IDA7XG4gICAgeDEgLT0gc291cmNlTnVtZXJpY2FsU2hpZnRYO1xuICAgIHkxIC09IHNvdXJjZU51bWVyaWNhbFNoaWZ0WTtcbiAgICB4MiAtPSBzb3VyY2VOdW1lcmljYWxTaGlmdFg7XG4gICAgeTIgLT0gc291cmNlTnVtZXJpY2FsU2hpZnRZO1xuXG4gICAgY29uc3QgYXVnbWVudGVkTWF0cml4ID0gW1xuICAgICAgW3gxLCB5MSwgMCwgMCwgdTEgLSB1MF0sXG4gICAgICBbeDIsIHkyLCAwLCAwLCB1MiAtIHUwXSxcbiAgICAgIFswLCAwLCB4MSwgeTEsIHYxIC0gdjBdLFxuICAgICAgWzAsIDAsIHgyLCB5MiwgdjIgLSB2MF0sXG4gICAgXTtcbiAgICBjb25zdCBhZmZpbmVDb2VmcyA9IHNvbHZlTGluZWFyU3lzdGVtKGF1Z21lbnRlZE1hdHJpeCk7XG4gICAgaWYgKCFhZmZpbmVDb2Vmcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICBpZiAoaXNCcm9rZW5EaWFnb25hbFJlbmRlcmluZygpIHx8ICFpbnRlcnBvbGF0ZSkge1xuICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgYWxsIGxpbmVzIGFyZSBob3Jpem9udGFsIG9yIHZlcnRpY2FsXG4gICAgICBjb250ZXh0Lm1vdmVUbyh1MSwgdjEpO1xuICAgICAgLy8gVGhpcyBpcyB0aGUgZGlhZ29uYWwgbGluZS4gRG8gaXQgaW4gNCBzdGVwc1xuICAgICAgY29uc3Qgc3RlcHMgPSA0O1xuICAgICAgY29uc3QgdWQgPSB1MCAtIHUxO1xuICAgICAgY29uc3QgdmQgPSB2MCAtIHYxO1xuICAgICAgZm9yIChsZXQgc3RlcCA9IDA7IHN0ZXAgPCBzdGVwczsgc3RlcCsrKSB7XG4gICAgICAgIC8vIEdvIGhvcml6b250YWxseVxuICAgICAgICBjb250ZXh0LmxpbmVUbyhcbiAgICAgICAgICB1MSArIHBpeGVsUm91bmQoKChzdGVwICsgMSkgKiB1ZCkgLyBzdGVwcyksXG4gICAgICAgICAgdjEgKyBwaXhlbFJvdW5kKChzdGVwICogdmQpIC8gKHN0ZXBzIC0gMSkpXG4gICAgICAgICk7XG4gICAgICAgIC8vIEdvIHZlcnRpY2FsbHlcbiAgICAgICAgaWYgKHN0ZXAgIT0gc3RlcHMgLSAxKSB7XG4gICAgICAgICAgY29udGV4dC5saW5lVG8oXG4gICAgICAgICAgICB1MSArIHBpeGVsUm91bmQoKChzdGVwICsgMSkgKiB1ZCkgLyBzdGVwcyksXG4gICAgICAgICAgICB2MSArIHBpeGVsUm91bmQoKChzdGVwICsgMSkgKiB2ZCkgLyAoc3RlcHMgLSAxKSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBXZSBhcmUgYWxtb3N0IGF0IHUwciwgdjByXG4gICAgICBjb250ZXh0LmxpbmVUbyh1MiwgdjIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZXh0Lm1vdmVUbyh1MSwgdjEpO1xuICAgICAgY29udGV4dC5saW5lVG8odTAsIHYwKTtcbiAgICAgIGNvbnRleHQubGluZVRvKHUyLCB2Mik7XG4gICAgfVxuXG4gICAgY29udGV4dC5jbGlwKCk7XG5cbiAgICBjb250ZXh0LnRyYW5zZm9ybShcbiAgICAgIGFmZmluZUNvZWZzWzBdLFxuICAgICAgYWZmaW5lQ29lZnNbMl0sXG4gICAgICBhZmZpbmVDb2Vmc1sxXSxcbiAgICAgIGFmZmluZUNvZWZzWzNdLFxuICAgICAgdTAsXG4gICAgICB2MFxuICAgICk7XG5cbiAgICBjb250ZXh0LnRyYW5zbGF0ZShcbiAgICAgIHNvdXJjZURhdGFFeHRlbnRbMF0gLSBzb3VyY2VOdW1lcmljYWxTaGlmdFgsXG4gICAgICBzb3VyY2VEYXRhRXh0ZW50WzNdIC0gc291cmNlTnVtZXJpY2FsU2hpZnRZXG4gICAgKTtcblxuICAgIGNvbnRleHQuc2NhbGUoXG4gICAgICBzb3VyY2VSZXNvbHV0aW9uIC8gcGl4ZWxSYXRpbyxcbiAgICAgIC1zb3VyY2VSZXNvbHV0aW9uIC8gcGl4ZWxSYXRpb1xuICAgICk7XG5cbiAgICBjb250ZXh0LmRyYXdJbWFnZShzdGl0Y2hDb250ZXh0LmNhbnZhcywgMCwgMCk7XG4gICAgY29udGV4dC5yZXN0b3JlKCk7XG4gIH0pO1xuXG4gIHJlbGVhc2VDYW52YXMoc3RpdGNoQ29udGV4dCk7XG4gIGNhbnZhc1Bvb2wucHVzaChzdGl0Y2hDb250ZXh0LmNhbnZhcyk7XG5cbiAgaWYgKHJlbmRlckVkZ2VzKSB7XG4gICAgY29udGV4dC5zYXZlKCk7XG5cbiAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7XG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdibGFjayc7XG4gICAgY29udGV4dC5saW5lV2lkdGggPSAxO1xuXG4gICAgdHJpYW5ndWxhdGlvbi5nZXRUcmlhbmdsZXMoKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmlhbmdsZSwgaSwgYXJyKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0cmlhbmdsZS50YXJnZXQ7XG4gICAgICBjb25zdCB1MCA9ICh0YXJnZXRbMF1bMF0gLSB0YXJnZXRUb3BMZWZ0WzBdKSAvIHRhcmdldFJlc29sdXRpb247XG4gICAgICBjb25zdCB2MCA9IC0odGFyZ2V0WzBdWzFdIC0gdGFyZ2V0VG9wTGVmdFsxXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgY29uc3QgdTEgPSAodGFyZ2V0WzFdWzBdIC0gdGFyZ2V0VG9wTGVmdFswXSkgLyB0YXJnZXRSZXNvbHV0aW9uO1xuICAgICAgY29uc3QgdjEgPSAtKHRhcmdldFsxXVsxXSAtIHRhcmdldFRvcExlZnRbMV0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgIGNvbnN0IHUyID0gKHRhcmdldFsyXVswXSAtIHRhcmdldFRvcExlZnRbMF0pIC8gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgICAgIGNvbnN0IHYyID0gLSh0YXJnZXRbMl1bMV0gLSB0YXJnZXRUb3BMZWZ0WzFdKSAvIHRhcmdldFJlc29sdXRpb247XG5cbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICBjb250ZXh0Lm1vdmVUbyh1MSwgdjEpO1xuICAgICAgY29udGV4dC5saW5lVG8odTAsIHYwKTtcbiAgICAgIGNvbnRleHQubGluZVRvKHUyLCB2Mik7XG4gICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9KTtcblxuICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICB9XG4gIHJldHVybiBjb250ZXh0LmNhbnZhcztcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZXByb2ovVGlsZVxuICovXG5pbXBvcnQge0VSUk9SX1RIUkVTSE9MRH0gZnJvbSAnLi9jb21tb24uanMnO1xuXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFRpbGUgZnJvbSAnLi4vVGlsZS5qcyc7XG5pbXBvcnQgVGlsZVN0YXRlIGZyb20gJy4uL1RpbGVTdGF0ZS5qcyc7XG5pbXBvcnQgVHJpYW5ndWxhdGlvbiBmcm9tICcuL1RyaWFuZ3VsYXRpb24uanMnO1xuaW1wb3J0IHtcbiAgY2FsY3VsYXRlU291cmNlRXh0ZW50UmVzb2x1dGlvbixcbiAgY2FudmFzUG9vbCxcbiAgcmVuZGVyIGFzIHJlbmRlclJlcHJvamVjdGVkLFxufSBmcm9tICcuLi9yZXByb2ouanMnO1xuaW1wb3J0IHtjbGFtcH0gZnJvbSAnLi4vbWF0aC5qcyc7XG5pbXBvcnQge2dldEFyZWEsIGdldEludGVyc2VjdGlvbn0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7bGlzdGVuLCB1bmxpc3RlbkJ5S2V5fSBmcm9tICcuLi9ldmVudHMuanMnO1xuaW1wb3J0IHtyZWxlYXNlQ2FudmFzfSBmcm9tICcuLi9kb20uanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIpIDogKGltcG9ydChcIi4uL0ltYWdlVGlsZS5qc1wiKS5kZWZhdWx0KX0gRnVuY3Rpb25UeXBlXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBDbGFzcyBlbmNhcHN1bGF0aW5nIHNpbmdsZSByZXByb2plY3RlZCB0aWxlLlxuICogU2VlIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1RpbGVJbWFnZX5UaWxlSW1hZ2V9LlxuICpcbiAqL1xuY2xhc3MgUmVwcm9qVGlsZSBleHRlbmRzIFRpbGUge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gc291cmNlUHJvaiBTb3VyY2UgcHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBzb3VyY2VUaWxlR3JpZCBTb3VyY2UgdGlsZSBncmlkLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSB0YXJnZXRQcm9qIFRhcmdldCBwcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRhcmdldFRpbGVHcmlkIFRhcmdldCB0aWxlIGdyaWQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIENvb3JkaW5hdGUgb2YgdGhlIHRpbGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gd3JhcHBlZFRpbGVDb29yZCBDb29yZGluYXRlIG9mIHRoZSB0aWxlIHdyYXBwZWQgaW4gWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBndXR0ZXIgR3V0dGVyIG9mIHRoZSBzb3VyY2UgdGlsZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb25UeXBlfSBnZXRUaWxlRnVuY3Rpb25cbiAgICogICAgIEZ1bmN0aW9uIHJldHVybmluZyBzb3VyY2UgdGlsZXMgKHosIHgsIHksIHBpeGVsUmF0aW8pLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2Vycm9yVGhyZXNob2xkXSBBY2NlcHRhYmxlIHJlcHJvamVjdGlvbiBlcnJvciAoaW4gcHgpLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW5kZXJFZGdlc10gUmVuZGVyIHJlcHJvamVjdGlvbiBlZGdlcy5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW50ZXJwb2xhdGVdIFVzZSBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aGVuIHJlc2FtcGxpbmcuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBzb3VyY2VQcm9qLFxuICAgIHNvdXJjZVRpbGVHcmlkLFxuICAgIHRhcmdldFByb2osXG4gICAgdGFyZ2V0VGlsZUdyaWQsXG4gICAgdGlsZUNvb3JkLFxuICAgIHdyYXBwZWRUaWxlQ29vcmQsXG4gICAgcGl4ZWxSYXRpbyxcbiAgICBndXR0ZXIsXG4gICAgZ2V0VGlsZUZ1bmN0aW9uLFxuICAgIGVycm9yVGhyZXNob2xkLFxuICAgIHJlbmRlckVkZ2VzLFxuICAgIGludGVycG9sYXRlXG4gICkge1xuICAgIHN1cGVyKHRpbGVDb29yZCwgVGlsZVN0YXRlLklETEUsIHtpbnRlcnBvbGF0ZTogISFpbnRlcnBvbGF0ZX0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlckVkZ2VzXyA9IHJlbmRlckVkZ2VzICE9PSB1bmRlZmluZWQgPyByZW5kZXJFZGdlcyA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxSYXRpb18gPSBwaXhlbFJhdGlvO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZ3V0dGVyXyA9IGd1dHRlcjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlVGlsZUdyaWRfID0gc291cmNlVGlsZUdyaWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0VGlsZUdyaWRfID0gdGFyZ2V0VGlsZUdyaWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfVxuICAgICAqL1xuICAgIHRoaXMud3JhcHBlZFRpbGVDb29yZF8gPSB3cmFwcGVkVGlsZUNvb3JkID8gd3JhcHBlZFRpbGVDb29yZCA6IHRpbGVDb29yZDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFBcnJheTxpbXBvcnQoXCIuLi9JbWFnZVRpbGUuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5zb3VyY2VUaWxlc18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgez9BcnJheTxpbXBvcnQoXCIuLi9ldmVudHMuanNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZXNMaXN0ZW5lcktleXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZVpfID0gMDtcblxuICAgIGNvbnN0IHRhcmdldEV4dGVudCA9IHRhcmdldFRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudChcbiAgICAgIHRoaXMud3JhcHBlZFRpbGVDb29yZF9cbiAgICApO1xuICAgIGNvbnN0IG1heFRhcmdldEV4dGVudCA9IHRoaXMudGFyZ2V0VGlsZUdyaWRfLmdldEV4dGVudCgpO1xuICAgIGxldCBtYXhTb3VyY2VFeHRlbnQgPSB0aGlzLnNvdXJjZVRpbGVHcmlkXy5nZXRFeHRlbnQoKTtcblxuICAgIGNvbnN0IGxpbWl0ZWRUYXJnZXRFeHRlbnQgPSBtYXhUYXJnZXRFeHRlbnRcbiAgICAgID8gZ2V0SW50ZXJzZWN0aW9uKHRhcmdldEV4dGVudCwgbWF4VGFyZ2V0RXh0ZW50KVxuICAgICAgOiB0YXJnZXRFeHRlbnQ7XG5cbiAgICBpZiAoZ2V0QXJlYShsaW1pdGVkVGFyZ2V0RXh0ZW50KSA9PT0gMCkge1xuICAgICAgLy8gVGlsZSBpcyBjb21wbGV0ZWx5IG91dHNpZGUgcmFuZ2UgLT4gRU1QVFlcbiAgICAgIC8vIFRPRE86IGlzIGl0IGFjdHVhbGx5IGNvcnJlY3QgdGhhdCB0aGUgc291cmNlIGV2ZW4gY3JlYXRlcyB0aGUgdGlsZSA/XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkVNUFRZO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNvdXJjZVByb2pFeHRlbnQgPSBzb3VyY2VQcm9qLmdldEV4dGVudCgpO1xuICAgIGlmIChzb3VyY2VQcm9qRXh0ZW50KSB7XG4gICAgICBpZiAoIW1heFNvdXJjZUV4dGVudCkge1xuICAgICAgICBtYXhTb3VyY2VFeHRlbnQgPSBzb3VyY2VQcm9qRXh0ZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF4U291cmNlRXh0ZW50ID0gZ2V0SW50ZXJzZWN0aW9uKG1heFNvdXJjZUV4dGVudCwgc291cmNlUHJvakV4dGVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdGFyZ2V0UmVzb2x1dGlvbiA9IHRhcmdldFRpbGVHcmlkLmdldFJlc29sdXRpb24oXG4gICAgICB0aGlzLndyYXBwZWRUaWxlQ29vcmRfWzBdXG4gICAgKTtcblxuICAgIGNvbnN0IHNvdXJjZVJlc29sdXRpb24gPSBjYWxjdWxhdGVTb3VyY2VFeHRlbnRSZXNvbHV0aW9uKFxuICAgICAgc291cmNlUHJvaixcbiAgICAgIHRhcmdldFByb2osXG4gICAgICBsaW1pdGVkVGFyZ2V0RXh0ZW50LFxuICAgICAgdGFyZ2V0UmVzb2x1dGlvblxuICAgICk7XG5cbiAgICBpZiAoIWlzRmluaXRlKHNvdXJjZVJlc29sdXRpb24pIHx8IHNvdXJjZVJlc29sdXRpb24gPD0gMCkge1xuICAgICAgLy8gaW52YWxpZCBzb3VyY2VSZXNvbHV0aW9uIC0+IEVNUFRZXG4gICAgICAvLyBwcm9iYWJseSBlZGdlcyBvZiB0aGUgcHJvamVjdGlvbnMgd2hlbiBubyBleHRlbnQgaXMgZGVmaW5lZFxuICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvclRocmVzaG9sZEluUGl4ZWxzID1cbiAgICAgIGVycm9yVGhyZXNob2xkICE9PSB1bmRlZmluZWQgPyBlcnJvclRocmVzaG9sZCA6IEVSUk9SX1RIUkVTSE9MRDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUgeyFpbXBvcnQoXCIuL1RyaWFuZ3VsYXRpb24uanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnRyaWFuZ3VsYXRpb25fID0gbmV3IFRyaWFuZ3VsYXRpb24oXG4gICAgICBzb3VyY2VQcm9qLFxuICAgICAgdGFyZ2V0UHJvaixcbiAgICAgIGxpbWl0ZWRUYXJnZXRFeHRlbnQsXG4gICAgICBtYXhTb3VyY2VFeHRlbnQsXG4gICAgICBzb3VyY2VSZXNvbHV0aW9uICogZXJyb3JUaHJlc2hvbGRJblBpeGVscyxcbiAgICAgIHRhcmdldFJlc29sdXRpb25cbiAgICApO1xuXG4gICAgaWYgKHRoaXMudHJpYW5ndWxhdGlvbl8uZ2V0VHJpYW5nbGVzKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBubyB2YWxpZCB0cmlhbmdsZXMgLT4gRU1QVFlcbiAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRU1QVFk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zb3VyY2VaXyA9IHNvdXJjZVRpbGVHcmlkLmdldFpGb3JSZXNvbHV0aW9uKHNvdXJjZVJlc29sdXRpb24pO1xuICAgIGxldCBzb3VyY2VFeHRlbnQgPSB0aGlzLnRyaWFuZ3VsYXRpb25fLmNhbGN1bGF0ZVNvdXJjZUV4dGVudCgpO1xuXG4gICAgaWYgKG1heFNvdXJjZUV4dGVudCkge1xuICAgICAgaWYgKHNvdXJjZVByb2ouY2FuV3JhcFgoKSkge1xuICAgICAgICBzb3VyY2VFeHRlbnRbMV0gPSBjbGFtcChcbiAgICAgICAgICBzb3VyY2VFeHRlbnRbMV0sXG4gICAgICAgICAgbWF4U291cmNlRXh0ZW50WzFdLFxuICAgICAgICAgIG1heFNvdXJjZUV4dGVudFszXVxuICAgICAgICApO1xuICAgICAgICBzb3VyY2VFeHRlbnRbM10gPSBjbGFtcChcbiAgICAgICAgICBzb3VyY2VFeHRlbnRbM10sXG4gICAgICAgICAgbWF4U291cmNlRXh0ZW50WzFdLFxuICAgICAgICAgIG1heFNvdXJjZUV4dGVudFszXVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291cmNlRXh0ZW50ID0gZ2V0SW50ZXJzZWN0aW9uKHNvdXJjZUV4dGVudCwgbWF4U291cmNlRXh0ZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWdldEFyZWEoc291cmNlRXh0ZW50KSkge1xuICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FTVBUWTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc291cmNlUmFuZ2UgPSBzb3VyY2VUaWxlR3JpZC5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKFxuICAgICAgICBzb3VyY2VFeHRlbnQsXG4gICAgICAgIHRoaXMuc291cmNlWl9cbiAgICAgICk7XG5cbiAgICAgIGZvciAobGV0IHNyY1ggPSBzb3VyY2VSYW5nZS5taW5YOyBzcmNYIDw9IHNvdXJjZVJhbmdlLm1heFg7IHNyY1grKykge1xuICAgICAgICBmb3IgKGxldCBzcmNZID0gc291cmNlUmFuZ2UubWluWTsgc3JjWSA8PSBzb3VyY2VSYW5nZS5tYXhZOyBzcmNZKyspIHtcbiAgICAgICAgICBjb25zdCB0aWxlID0gZ2V0VGlsZUZ1bmN0aW9uKHRoaXMuc291cmNlWl8sIHNyY1gsIHNyY1ksIHBpeGVsUmF0aW8pO1xuICAgICAgICAgIGlmICh0aWxlKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZVRpbGVzXy5wdXNoKHRpbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zb3VyY2VUaWxlc18ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBUaWxlU3RhdGUuRU1QVFk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgSFRNTCBDYW52YXMgZWxlbWVudCBmb3IgdGhpcyB0aWxlLlxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQ2FudmFzLlxuICAgKi9cbiAgZ2V0SW1hZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVwcm9qZWN0XygpIHtcbiAgICBjb25zdCBzb3VyY2VzID0gW107XG4gICAgdGhpcy5zb3VyY2VUaWxlc18uZm9yRWFjaCgodGlsZSkgPT4ge1xuICAgICAgaWYgKHRpbGUgJiYgdGlsZS5nZXRTdGF0ZSgpID09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgc291cmNlcy5wdXNoKHtcbiAgICAgICAgICBleHRlbnQ6IHRoaXMuc291cmNlVGlsZUdyaWRfLmdldFRpbGVDb29yZEV4dGVudCh0aWxlLnRpbGVDb29yZCksXG4gICAgICAgICAgaW1hZ2U6IHRpbGUuZ2V0SW1hZ2UoKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zb3VyY2VUaWxlc18ubGVuZ3RoID0gMDtcblxuICAgIGlmIChzb3VyY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5zdGF0ZSA9IFRpbGVTdGF0ZS5FUlJPUjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgeiA9IHRoaXMud3JhcHBlZFRpbGVDb29yZF9bMF07XG4gICAgICBjb25zdCBzaXplID0gdGhpcy50YXJnZXRUaWxlR3JpZF8uZ2V0VGlsZVNpemUoeik7XG4gICAgICBjb25zdCB3aWR0aCA9IHR5cGVvZiBzaXplID09PSAnbnVtYmVyJyA/IHNpemUgOiBzaXplWzBdO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gdHlwZW9mIHNpemUgPT09ICdudW1iZXInID8gc2l6ZSA6IHNpemVbMV07XG4gICAgICBjb25zdCB0YXJnZXRSZXNvbHV0aW9uID0gdGhpcy50YXJnZXRUaWxlR3JpZF8uZ2V0UmVzb2x1dGlvbih6KTtcbiAgICAgIGNvbnN0IHNvdXJjZVJlc29sdXRpb24gPSB0aGlzLnNvdXJjZVRpbGVHcmlkXy5nZXRSZXNvbHV0aW9uKFxuICAgICAgICB0aGlzLnNvdXJjZVpfXG4gICAgICApO1xuXG4gICAgICBjb25zdCB0YXJnZXRFeHRlbnQgPSB0aGlzLnRhcmdldFRpbGVHcmlkXy5nZXRUaWxlQ29vcmRFeHRlbnQoXG4gICAgICAgIHRoaXMud3JhcHBlZFRpbGVDb29yZF9cbiAgICAgICk7XG5cbiAgICAgIHRoaXMuY2FudmFzXyA9IHJlbmRlclJlcHJvamVjdGVkKFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB0aGlzLnBpeGVsUmF0aW9fLFxuICAgICAgICBzb3VyY2VSZXNvbHV0aW9uLFxuICAgICAgICB0aGlzLnNvdXJjZVRpbGVHcmlkXy5nZXRFeHRlbnQoKSxcbiAgICAgICAgdGFyZ2V0UmVzb2x1dGlvbixcbiAgICAgICAgdGFyZ2V0RXh0ZW50LFxuICAgICAgICB0aGlzLnRyaWFuZ3VsYXRpb25fLFxuICAgICAgICBzb3VyY2VzLFxuICAgICAgICB0aGlzLmd1dHRlcl8sXG4gICAgICAgIHRoaXMucmVuZGVyRWRnZXNfLFxuICAgICAgICB0aGlzLmludGVycG9sYXRlXG4gICAgICApO1xuXG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURFRDtcbiAgICB9XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBub3QgeWV0IGxvYWRlZCBVUkkuXG4gICAqL1xuICBsb2FkKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICB0aGlzLnN0YXRlID0gVGlsZVN0YXRlLkxPQURJTkc7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcblxuICAgICAgbGV0IGxlZnRUb0xvYWQgPSAwO1xuXG4gICAgICB0aGlzLnNvdXJjZXNMaXN0ZW5lcktleXNfID0gW107XG4gICAgICB0aGlzLnNvdXJjZVRpbGVzXy5mb3JFYWNoKCh0aWxlKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICBpZiAoc3RhdGUgPT0gVGlsZVN0YXRlLklETEUgfHwgc3RhdGUgPT0gVGlsZVN0YXRlLkxPQURJTkcpIHtcbiAgICAgICAgICBsZWZ0VG9Mb2FkKys7XG5cbiAgICAgICAgICBjb25zdCBzb3VyY2VMaXN0ZW5LZXkgPSBsaXN0ZW4oXG4gICAgICAgICAgICB0aWxlLFxuICAgICAgICAgICAgRXZlbnRUeXBlLkNIQU5HRSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc3RhdGUgPT0gVGlsZVN0YXRlLkxPQURFRCB8fFxuICAgICAgICAgICAgICAgIHN0YXRlID09IFRpbGVTdGF0ZS5FUlJPUiB8fFxuICAgICAgICAgICAgICAgIHN0YXRlID09IFRpbGVTdGF0ZS5FTVBUWVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB1bmxpc3RlbkJ5S2V5KHNvdXJjZUxpc3RlbktleSk7XG4gICAgICAgICAgICAgICAgbGVmdFRvTG9hZC0tO1xuICAgICAgICAgICAgICAgIGlmIChsZWZ0VG9Mb2FkID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnVubGlzdGVuU291cmNlc18oKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMucmVwcm9qZWN0XygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18ucHVzaChzb3VyY2VMaXN0ZW5LZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGxlZnRUb0xvYWQgPT09IDApIHtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLnJlcHJvamVjdF8uYmluZCh0aGlzKSwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNvdXJjZVRpbGVzXy5mb3JFYWNoKGZ1bmN0aW9uICh0aWxlLCBpLCBhcnIpIHtcbiAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICBpZiAoc3RhdGUgPT0gVGlsZVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgIHRpbGUubG9hZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB1bmxpc3RlblNvdXJjZXNfKCkge1xuICAgIHRoaXMuc291cmNlc0xpc3RlbmVyS2V5c18uZm9yRWFjaCh1bmxpc3RlbkJ5S2V5KTtcbiAgICB0aGlzLnNvdXJjZXNMaXN0ZW5lcktleXNfID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgZnJvbSB0aGUgY2FjaGUgZHVlIHRvIGV4cGlyeVxuICAgKi9cbiAgcmVsZWFzZSgpIHtcbiAgICBpZiAodGhpcy5jYW52YXNfKSB7XG4gICAgICByZWxlYXNlQ2FudmFzKHRoaXMuY2FudmFzXy5nZXRDb250ZXh0KCcyZCcpKTtcbiAgICAgIGNhbnZhc1Bvb2wucHVzaCh0aGlzLmNhbnZhc18pO1xuICAgICAgdGhpcy5jYW52YXNfID0gbnVsbDtcbiAgICB9XG4gICAgc3VwZXIucmVsZWFzZSgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlcHJvalRpbGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvcmVwcm9qL2NvbW1vblxuICovXG5cbi8qKlxuICogRGVmYXVsdCBtYXhpbXVtIGFsbG93ZWQgdGhyZXNob2xkICAoaW4gcGl4ZWxzKSBmb3IgcmVwcm9qZWN0aW9uXG4gKiB0cmlhbmd1bGF0aW9uLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IEVSUk9SX1RIUkVTSE9MRCA9IDAuNTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yZXByb2ovVHJpYW5ndWxhdGlvblxuICovXG5pbXBvcnQge1xuICBib3VuZGluZ0V4dGVudCxcbiAgY3JlYXRlRW1wdHksXG4gIGV4dGVuZENvb3JkaW5hdGUsXG4gIGdldEFyZWEsXG4gIGdldEJvdHRvbUxlZnQsXG4gIGdldEJvdHRvbVJpZ2h0LFxuICBnZXRUb3BMZWZ0LFxuICBnZXRUb3BSaWdodCxcbiAgZ2V0V2lkdGgsXG4gIGludGVyc2VjdHMsXG59IGZyb20gJy4uL2V4dGVudC5qcyc7XG5pbXBvcnQge2dldFRyYW5zZm9ybX0gZnJvbSAnLi4vcHJvai5qcyc7XG5pbXBvcnQge21vZHVsb30gZnJvbSAnLi4vbWF0aC5qcyc7XG5cbi8qKlxuICogU2luZ2xlIHRyaWFuZ2xlOyBjb25zaXN0cyBvZiAzIHNvdXJjZSBwb2ludHMgYW5kIDMgdGFyZ2V0IHBvaW50cy5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRyaWFuZ2xlXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IHNvdXJjZSBTb3VyY2UuXG4gKiBAcHJvcGVydHkge0FycmF5PGltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZT59IHRhcmdldCBUYXJnZXQuXG4gKi9cblxuLyoqXG4gKiBNYXhpbXVtIG51bWJlciBvZiBzdWJkaXZpc2lvbiBzdGVwcyBkdXJpbmcgcmFzdGVyIHJlcHJvamVjdGlvbiB0cmlhbmd1bGF0aW9uLlxuICogUHJldmVudHMgaGlnaCBtZW1vcnkgdXNhZ2UgYW5kIGxhcmdlIG51bWJlciBvZiBwcm9qNCBjYWxscyAoZm9yIGNlcnRhaW5cbiAqIHRyYW5zZm9ybWF0aW9ucyBhbmQgYXJlYXMpLiBBdCBtb3N0IGAyKigyXnRoaXMpYCB0cmlhbmdsZXMgYXJlIGNyZWF0ZWQgZm9yXG4gKiBlYWNoIHRyaWFuZ3VsYXRlZCBleHRlbnQgKHRpbGUvaW1hZ2UpLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuY29uc3QgTUFYX1NVQkRJVklTSU9OID0gMTA7XG5cbi8qKlxuICogTWF4aW11bSBhbGxvd2VkIHNpemUgb2YgdHJpYW5nbGUgcmVsYXRpdmUgdG8gd29ybGQgd2lkdGguIFdoZW4gdHJhbnNmb3JtaW5nXG4gKiBjb3JuZXJzIG9mIHdvcmxkIGV4dGVudCBiZXR3ZWVuIGNlcnRhaW4gcHJvamVjdGlvbnMsIHRoZSByZXN1bHRpbmdcbiAqIHRyaWFuZ3VsYXRpb24gc2VlbXMgdG8gaGF2ZSB6ZXJvIGVycm9yIGFuZCBubyBzdWJkaXZpc2lvbiBpcyBwZXJmb3JtZWQuIElmXG4gKiB0aGUgdHJpYW5nbGUgd2lkdGggaXMgbW9yZSB0aGFuIHRoaXMgKHJlbGF0aXZlIHRvIHdvcmxkIHdpZHRoOyAwLTEpLFxuICogc3ViZGl2aXNvbiBpcyBmb3JjZWQgKHVwIHRvIGBNQVhfU1VCRElWSVNJT05gKS4gRGVmYXVsdCBpcyBgMC4yNWAuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5jb25zdCBNQVhfVFJJQU5HTEVfV0lEVEggPSAwLjI1O1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENsYXNzIGNvbnRhaW5pbmcgdHJpYW5ndWxhdGlvbiBvZiB0aGUgZ2l2ZW4gdGFyZ2V0IGV4dGVudC5cbiAqIFVzZWQgZm9yIGRldGVybWluaW5nIHNvdXJjZSBkYXRhIGFuZCB0aGUgcmVwcm9qZWN0aW9uIGl0c2VsZi5cbiAqL1xuY2xhc3MgVHJpYW5ndWxhdGlvbiB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBzb3VyY2VQcm9qIFNvdXJjZSBwcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSB0YXJnZXRQcm9qIFRhcmdldCBwcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IHRhcmdldEV4dGVudCBUYXJnZXQgZXh0ZW50IHRvIHRyaWFuZ3VsYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IG1heFNvdXJjZUV4dGVudCBNYXhpbWFsIHNvdXJjZSBleHRlbnQgdGhhdCBjYW4gYmUgdXNlZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVycm9yVGhyZXNob2xkIEFjY2VwdGFibGUgZXJyb3IgKGluIHNvdXJjZSB1bml0cykuXG4gICAqIEBwYXJhbSB7P251bWJlcn0gZGVzdGluYXRpb25SZXNvbHV0aW9uIFRoZSAob3B0aW9uYWwpIHJlc29sdXRpb24gb2YgdGhlIGRlc3RpbmF0aW9uLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgc291cmNlUHJvaixcbiAgICB0YXJnZXRQcm9qLFxuICAgIHRhcmdldEV4dGVudCxcbiAgICBtYXhTb3VyY2VFeHRlbnQsXG4gICAgZXJyb3JUaHJlc2hvbGQsXG4gICAgZGVzdGluYXRpb25SZXNvbHV0aW9uXG4gICkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlUHJval8gPSBzb3VyY2VQcm9qO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy50YXJnZXRQcm9qXyA9IHRhcmdldFByb2o7XG5cbiAgICAvKiogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fSAqL1xuICAgIGxldCB0cmFuc2Zvcm1JbnZDYWNoZSA9IHt9O1xuICAgIGNvbnN0IHRyYW5zZm9ybUludiA9IGdldFRyYW5zZm9ybSh0aGlzLnRhcmdldFByb2pfLCB0aGlzLnNvdXJjZVByb2pfKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjIEEgY29vcmRpbmF0ZS5cbiAgICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRyYW5zZm9ybWVkIGNvb3JkaW5hdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRyYW5zZm9ybUludl8gPSBmdW5jdGlvbiAoYykge1xuICAgICAgY29uc3Qga2V5ID0gY1swXSArICcvJyArIGNbMV07XG4gICAgICBpZiAoIXRyYW5zZm9ybUludkNhY2hlW2tleV0pIHtcbiAgICAgICAgdHJhbnNmb3JtSW52Q2FjaGVba2V5XSA9IHRyYW5zZm9ybUludihjKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmFuc2Zvcm1JbnZDYWNoZVtrZXldO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubWF4U291cmNlRXh0ZW50XyA9IG1heFNvdXJjZUV4dGVudDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmVycm9yVGhyZXNob2xkU3F1YXJlZF8gPSBlcnJvclRocmVzaG9sZCAqIGVycm9yVGhyZXNob2xkO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PFRyaWFuZ2xlPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudHJpYW5nbGVzXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIHRyaWFuZ3VsYXRpb24gY3Jvc3NlcyBlZGdlIG9mIHRoZSBzb3VyY2UgcHJvamVjdGlvbi5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMud3JhcHNYSW5Tb3VyY2VfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuY2FuV3JhcFhJblNvdXJjZV8gPVxuICAgICAgdGhpcy5zb3VyY2VQcm9qXy5jYW5XcmFwWCgpICYmXG4gICAgICAhIW1heFNvdXJjZUV4dGVudCAmJlxuICAgICAgISF0aGlzLnNvdXJjZVByb2pfLmdldEV4dGVudCgpICYmXG4gICAgICBnZXRXaWR0aChtYXhTb3VyY2VFeHRlbnQpID09IGdldFdpZHRoKHRoaXMuc291cmNlUHJval8uZ2V0RXh0ZW50KCkpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgez9udW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfID0gdGhpcy5zb3VyY2VQcm9qXy5nZXRFeHRlbnQoKVxuICAgICAgPyBnZXRXaWR0aCh0aGlzLnNvdXJjZVByb2pfLmdldEV4dGVudCgpKVxuICAgICAgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUgez9udW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldFdvcmxkV2lkdGhfID0gdGhpcy50YXJnZXRQcm9qXy5nZXRFeHRlbnQoKVxuICAgICAgPyBnZXRXaWR0aCh0aGlzLnRhcmdldFByb2pfLmdldEV4dGVudCgpKVxuICAgICAgOiBudWxsO1xuXG4gICAgY29uc3QgZGVzdGluYXRpb25Ub3BMZWZ0ID0gZ2V0VG9wTGVmdCh0YXJnZXRFeHRlbnQpO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uVG9wUmlnaHQgPSBnZXRUb3BSaWdodCh0YXJnZXRFeHRlbnQpO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uQm90dG9tUmlnaHQgPSBnZXRCb3R0b21SaWdodCh0YXJnZXRFeHRlbnQpO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uQm90dG9tTGVmdCA9IGdldEJvdHRvbUxlZnQodGFyZ2V0RXh0ZW50KTtcbiAgICBjb25zdCBzb3VyY2VUb3BMZWZ0ID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRlc3RpbmF0aW9uVG9wTGVmdCk7XG4gICAgY29uc3Qgc291cmNlVG9wUmlnaHQgPSB0aGlzLnRyYW5zZm9ybUludl8oZGVzdGluYXRpb25Ub3BSaWdodCk7XG4gICAgY29uc3Qgc291cmNlQm90dG9tUmlnaHQgPSB0aGlzLnRyYW5zZm9ybUludl8oZGVzdGluYXRpb25Cb3R0b21SaWdodCk7XG4gICAgY29uc3Qgc291cmNlQm90dG9tTGVmdCA9IHRoaXMudHJhbnNmb3JtSW52XyhkZXN0aW5hdGlvbkJvdHRvbUxlZnQpO1xuXG4gICAgLypcbiAgICAgKiBUaGUgbWF4U3ViZGl2aXNpb24gY29udHJvbHMgaG93IG1hbnkgc3BsaXR0aW5ncyBvZiB0aGUgdGFyZ2V0IGFyZWEgY2FuXG4gICAgICogYmUgZG9uZS4gVGhlIGlkZWEgaGVyZSBpcyB0byBkbyBhIGxpbmVhciBtYXBwaW5nIG9mIHRoZSB0YXJnZXQgYXJlYXNcbiAgICAgKiBidXQgdGhlIGFjdHVhbCBvdmVyYWwgcmVwcm9qZWN0aW9uIChjYW4gYmUpIGV4dHJlbWVseSBub24tbGluZWFyLiBUaGVcbiAgICAgKiBkZWZhdWx0IHZhbHVlIG9mIE1BWF9TVUJESVZJU0lPTiB3YXMgY2hvc2VuIGJhc2VkIG9uIG1hcHBpbmcgYSAyNTZ4MjU2XG4gICAgICogdGlsZSBzaXplLiBIb3dldmVyIHRoaXMgZnVuY3Rpb24gaXMgYWxzbyBjYWxsZWQgdG8gcmVtYXAgY2FudmFzIHJlbmRlcmVkXG4gICAgICogbGF5ZXJzIHdoaWNoIGNhbiBiZSBtdWNoIGxhcmdlci4gVGhpcyBjYWxjdWxhdGlvbiBpbmNyZWFzZXMgdGhlIG1heFN1YmRpdmlzaW9uXG4gICAgICogdmFsdWUgYnkgdGhlIHJpZ2h0IGZhY3RvciBzbyB0aGF0IGVhY2ggMjU2eDI1NiBwaXhlbCBhcmVhIGhhc1xuICAgICAqIE1BWF9TVUJESVZJU0lPTiBkaXZpc2lvbnMuXG4gICAgICovXG4gICAgY29uc3QgbWF4U3ViZGl2aXNpb24gPVxuICAgICAgTUFYX1NVQkRJVklTSU9OICtcbiAgICAgIChkZXN0aW5hdGlvblJlc29sdXRpb25cbiAgICAgICAgPyBNYXRoLm1heChcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBNYXRoLmNlaWwoXG4gICAgICAgICAgICAgIE1hdGgubG9nMihcbiAgICAgICAgICAgICAgICBnZXRBcmVhKHRhcmdldEV4dGVudCkgL1xuICAgICAgICAgICAgICAgICAgKGRlc3RpbmF0aW9uUmVzb2x1dGlvbiAqIGRlc3RpbmF0aW9uUmVzb2x1dGlvbiAqIDI1NiAqIDI1NilcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgOiAwKTtcblxuICAgIHRoaXMuYWRkUXVhZF8oXG4gICAgICBkZXN0aW5hdGlvblRvcExlZnQsXG4gICAgICBkZXN0aW5hdGlvblRvcFJpZ2h0LFxuICAgICAgZGVzdGluYXRpb25Cb3R0b21SaWdodCxcbiAgICAgIGRlc3RpbmF0aW9uQm90dG9tTGVmdCxcbiAgICAgIHNvdXJjZVRvcExlZnQsXG4gICAgICBzb3VyY2VUb3BSaWdodCxcbiAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0LFxuICAgICAgc291cmNlQm90dG9tTGVmdCxcbiAgICAgIG1heFN1YmRpdmlzaW9uXG4gICAgKTtcblxuICAgIGlmICh0aGlzLndyYXBzWEluU291cmNlXykge1xuICAgICAgbGV0IGxlZnRCb3VuZCA9IEluZmluaXR5O1xuICAgICAgdGhpcy50cmlhbmdsZXNfLmZvckVhY2goZnVuY3Rpb24gKHRyaWFuZ2xlLCBpLCBhcnIpIHtcbiAgICAgICAgbGVmdEJvdW5kID0gTWF0aC5taW4oXG4gICAgICAgICAgbGVmdEJvdW5kLFxuICAgICAgICAgIHRyaWFuZ2xlLnNvdXJjZVswXVswXSxcbiAgICAgICAgICB0cmlhbmdsZS5zb3VyY2VbMV1bMF0sXG4gICAgICAgICAgdHJpYW5nbGUuc291cmNlWzJdWzBdXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2hpZnQgdHJpYW5nbGVzIHRvIGJlIGFzIGNsb3NlIHRvIGBsZWZ0Qm91bmRgIGFzIHBvc3NpYmxlXG4gICAgICAvLyAoaWYgdGhlIGRpc3RhbmNlIGlzIG1vcmUgdGhhbiBgd29ybGRXaWR0aCAvIDJgIGl0IGNhbiBiZSBjbG9zZXIuXG4gICAgICB0aGlzLnRyaWFuZ2xlc18uZm9yRWFjaCgodHJpYW5nbGUpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIE1hdGgubWF4KFxuICAgICAgICAgICAgdHJpYW5nbGUuc291cmNlWzBdWzBdLFxuICAgICAgICAgICAgdHJpYW5nbGUuc291cmNlWzFdWzBdLFxuICAgICAgICAgICAgdHJpYW5nbGUuc291cmNlWzJdWzBdXG4gICAgICAgICAgKSAtXG4gICAgICAgICAgICBsZWZ0Qm91bmQgPlxuICAgICAgICAgIHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IG5ld1RyaWFuZ2xlID0gW1xuICAgICAgICAgICAgW3RyaWFuZ2xlLnNvdXJjZVswXVswXSwgdHJpYW5nbGUuc291cmNlWzBdWzFdXSxcbiAgICAgICAgICAgIFt0cmlhbmdsZS5zb3VyY2VbMV1bMF0sIHRyaWFuZ2xlLnNvdXJjZVsxXVsxXV0sXG4gICAgICAgICAgICBbdHJpYW5nbGUuc291cmNlWzJdWzBdLCB0cmlhbmdsZS5zb3VyY2VbMl1bMV1dLFxuICAgICAgICAgIF07XG4gICAgICAgICAgaWYgKG5ld1RyaWFuZ2xlWzBdWzBdIC0gbGVmdEJvdW5kID4gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXyAvIDIpIHtcbiAgICAgICAgICAgIG5ld1RyaWFuZ2xlWzBdWzBdIC09IHRoaXMuc291cmNlV29ybGRXaWR0aF87XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChuZXdUcmlhbmdsZVsxXVswXSAtIGxlZnRCb3VuZCA+IHRoaXMuc291cmNlV29ybGRXaWR0aF8gLyAyKSB7XG4gICAgICAgICAgICBuZXdUcmlhbmdsZVsxXVswXSAtPSB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobmV3VHJpYW5nbGVbMl1bMF0gLSBsZWZ0Qm91bmQgPiB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfIC8gMikge1xuICAgICAgICAgICAgbmV3VHJpYW5nbGVbMl1bMF0gLT0gdGhpcy5zb3VyY2VXb3JsZFdpZHRoXztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBSYXJlbHkgKGlmIHRoZSBleHRlbnQgY29udGFpbnMgYm90aCB0aGUgZGF0ZWxpbmUgYW5kIHByaW1lIG1lcmlkaWFuKVxuICAgICAgICAgIC8vIHRoZSBzaGlmdCBjYW4gaW4gdHVybiBicmVhayBzb21lIHRyaWFuZ2xlcy5cbiAgICAgICAgICAvLyBEZXRlY3QgdGhpcyBoZXJlIGFuZCBkb24ndCBzaGlmdCBpbiBzdWNoIGNhc2VzLlxuICAgICAgICAgIGNvbnN0IG1pblggPSBNYXRoLm1pbihcbiAgICAgICAgICAgIG5ld1RyaWFuZ2xlWzBdWzBdLFxuICAgICAgICAgICAgbmV3VHJpYW5nbGVbMV1bMF0sXG4gICAgICAgICAgICBuZXdUcmlhbmdsZVsyXVswXVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgbWF4WCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgbmV3VHJpYW5nbGVbMF1bMF0sXG4gICAgICAgICAgICBuZXdUcmlhbmdsZVsxXVswXSxcbiAgICAgICAgICAgIG5ld1RyaWFuZ2xlWzJdWzBdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobWF4WCAtIG1pblggPCB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfIC8gMikge1xuICAgICAgICAgICAgdHJpYW5nbGUuc291cmNlID0gbmV3VHJpYW5nbGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm1JbnZDYWNoZSA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgdHJpYW5nbGUgdG8gdGhlIHRyaWFuZ3VsYXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhIFRoZSB0YXJnZXQgYSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYiBUaGUgdGFyZ2V0IGIgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGMgVGhlIHRhcmdldCBjIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhU3JjIFRoZSBzb3VyY2UgYSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYlNyYyBUaGUgc291cmNlIGIgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNTcmMgVGhlIHNvdXJjZSBjIGNvb3JkaW5hdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhZGRUcmlhbmdsZV8oYSwgYiwgYywgYVNyYywgYlNyYywgY1NyYykge1xuICAgIHRoaXMudHJpYW5nbGVzXy5wdXNoKHtcbiAgICAgIHNvdXJjZTogW2FTcmMsIGJTcmMsIGNTcmNdLFxuICAgICAgdGFyZ2V0OiBbYSwgYiwgY10sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBxdWFkIChwb2ludHMgaW4gY2xvY2std2lzZSBvcmRlcikgdG8gdGhlIHRyaWFuZ3VsYXRpb25cbiAgICogKGFuZCByZXByb2plY3RzIHRoZSB2ZXJ0aWNlcykgaWYgdmFsaWQuXG4gICAqIFBlcmZvcm1zIHF1YWQgc3ViZGl2aXNpb24gaWYgbmVlZGVkIHRvIGluY3JlYXNlIHByZWNpc2lvbi5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGEgVGhlIHRhcmdldCBhIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBiIFRoZSB0YXJnZXQgYiBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYyBUaGUgdGFyZ2V0IGMgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGQgVGhlIHRhcmdldCBkIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBhU3JjIFRoZSBzb3VyY2UgYSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gYlNyYyBUaGUgc291cmNlIGIgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IGNTcmMgVGhlIHNvdXJjZSBjIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBkU3JjIFRoZSBzb3VyY2UgZCBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4U3ViZGl2aXNpb24gTWF4aW1hbCBhbGxvd2VkIHN1YmRpdmlzaW9uIG9mIHRoZSBxdWFkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYWRkUXVhZF8oYSwgYiwgYywgZCwgYVNyYywgYlNyYywgY1NyYywgZFNyYywgbWF4U3ViZGl2aXNpb24pIHtcbiAgICBjb25zdCBzb3VyY2VRdWFkRXh0ZW50ID0gYm91bmRpbmdFeHRlbnQoW2FTcmMsIGJTcmMsIGNTcmMsIGRTcmNdKTtcbiAgICBjb25zdCBzb3VyY2VDb3ZlcmFnZVggPSB0aGlzLnNvdXJjZVdvcmxkV2lkdGhfXG4gICAgICA/IGdldFdpZHRoKHNvdXJjZVF1YWRFeHRlbnQpIC8gdGhpcy5zb3VyY2VXb3JsZFdpZHRoX1xuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IHNvdXJjZVdvcmxkV2lkdGggPSAvKiogQHR5cGUge251bWJlcn0gKi8gKHRoaXMuc291cmNlV29ybGRXaWR0aF8pO1xuXG4gICAgLy8gd2hlbiB0aGUgcXVhZCBpcyB3cmFwcGVkIGluIHRoZSBzb3VyY2UgcHJvamVjdGlvblxuICAgIC8vIGl0IGNvdmVycyBtb3N0IG9mIHRoZSBwcm9qZWN0aW9uIGV4dGVudCwgYnV0IG5vdCBmdWxseVxuICAgIGNvbnN0IHdyYXBzWCA9XG4gICAgICB0aGlzLnNvdXJjZVByb2pfLmNhbldyYXBYKCkgJiZcbiAgICAgIHNvdXJjZUNvdmVyYWdlWCA+IDAuNSAmJlxuICAgICAgc291cmNlQ292ZXJhZ2VYIDwgMTtcblxuICAgIGxldCBuZWVkc1N1YmRpdmlzaW9uID0gZmFsc2U7XG5cbiAgICBpZiAobWF4U3ViZGl2aXNpb24gPiAwKSB7XG4gICAgICBpZiAodGhpcy50YXJnZXRQcm9qXy5pc0dsb2JhbCgpICYmIHRoaXMudGFyZ2V0V29ybGRXaWR0aF8pIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0UXVhZEV4dGVudCA9IGJvdW5kaW5nRXh0ZW50KFthLCBiLCBjLCBkXSk7XG4gICAgICAgIGNvbnN0IHRhcmdldENvdmVyYWdlWCA9XG4gICAgICAgICAgZ2V0V2lkdGgodGFyZ2V0UXVhZEV4dGVudCkgLyB0aGlzLnRhcmdldFdvcmxkV2lkdGhfO1xuICAgICAgICBuZWVkc1N1YmRpdmlzaW9uID1cbiAgICAgICAgICB0YXJnZXRDb3ZlcmFnZVggPiBNQVhfVFJJQU5HTEVfV0lEVEggfHwgbmVlZHNTdWJkaXZpc2lvbjtcbiAgICAgIH1cbiAgICAgIGlmICghd3JhcHNYICYmIHRoaXMuc291cmNlUHJval8uaXNHbG9iYWwoKSAmJiBzb3VyY2VDb3ZlcmFnZVgpIHtcbiAgICAgICAgbmVlZHNTdWJkaXZpc2lvbiA9XG4gICAgICAgICAgc291cmNlQ292ZXJhZ2VYID4gTUFYX1RSSUFOR0xFX1dJRFRIIHx8IG5lZWRzU3ViZGl2aXNpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFuZWVkc1N1YmRpdmlzaW9uICYmIHRoaXMubWF4U291cmNlRXh0ZW50Xykge1xuICAgICAgaWYgKFxuICAgICAgICBpc0Zpbml0ZShzb3VyY2VRdWFkRXh0ZW50WzBdKSAmJlxuICAgICAgICBpc0Zpbml0ZShzb3VyY2VRdWFkRXh0ZW50WzFdKSAmJlxuICAgICAgICBpc0Zpbml0ZShzb3VyY2VRdWFkRXh0ZW50WzJdKSAmJlxuICAgICAgICBpc0Zpbml0ZShzb3VyY2VRdWFkRXh0ZW50WzNdKVxuICAgICAgKSB7XG4gICAgICAgIGlmICghaW50ZXJzZWN0cyhzb3VyY2VRdWFkRXh0ZW50LCB0aGlzLm1heFNvdXJjZUV4dGVudF8pKSB7XG4gICAgICAgICAgLy8gd2hvbGUgcXVhZCBvdXRzaWRlIHNvdXJjZSBwcm9qZWN0aW9uIGV4dGVudCAtPiBpZ25vcmVcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgaXNOb3RGaW5pdGUgPSAwO1xuXG4gICAgaWYgKCFuZWVkc1N1YmRpdmlzaW9uKSB7XG4gICAgICBpZiAoXG4gICAgICAgICFpc0Zpbml0ZShhU3JjWzBdKSB8fFxuICAgICAgICAhaXNGaW5pdGUoYVNyY1sxXSkgfHxcbiAgICAgICAgIWlzRmluaXRlKGJTcmNbMF0pIHx8XG4gICAgICAgICFpc0Zpbml0ZShiU3JjWzFdKSB8fFxuICAgICAgICAhaXNGaW5pdGUoY1NyY1swXSkgfHxcbiAgICAgICAgIWlzRmluaXRlKGNTcmNbMV0pIHx8XG4gICAgICAgICFpc0Zpbml0ZShkU3JjWzBdKSB8fFxuICAgICAgICAhaXNGaW5pdGUoZFNyY1sxXSlcbiAgICAgICkge1xuICAgICAgICBpZiAobWF4U3ViZGl2aXNpb24gPiAwKSB7XG4gICAgICAgICAgbmVlZHNTdWJkaXZpc2lvbiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSXQgbWlnaHQgYmUgdGhlIGNhc2UgdGhhdCBvbmx5IDEgb2YgdGhlIHBvaW50cyBpcyBpbmZpbml0ZS4gSW4gdGhpcyBjYXNlXG4gICAgICAgICAgLy8gd2UgY2FuIGRyYXcgYSBzaW5nbGUgdHJpYW5nbGUgd2l0aCB0aGUgb3RoZXIgdGhyZWUgcG9pbnRzXG4gICAgICAgICAgaXNOb3RGaW5pdGUgPVxuICAgICAgICAgICAgKCFpc0Zpbml0ZShhU3JjWzBdKSB8fCAhaXNGaW5pdGUoYVNyY1sxXSkgPyA4IDogMCkgK1xuICAgICAgICAgICAgKCFpc0Zpbml0ZShiU3JjWzBdKSB8fCAhaXNGaW5pdGUoYlNyY1sxXSkgPyA0IDogMCkgK1xuICAgICAgICAgICAgKCFpc0Zpbml0ZShjU3JjWzBdKSB8fCAhaXNGaW5pdGUoY1NyY1sxXSkgPyAyIDogMCkgK1xuICAgICAgICAgICAgKCFpc0Zpbml0ZShkU3JjWzBdKSB8fCAhaXNGaW5pdGUoZFNyY1sxXSkgPyAxIDogMCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgaXNOb3RGaW5pdGUgIT0gMSAmJlxuICAgICAgICAgICAgaXNOb3RGaW5pdGUgIT0gMiAmJlxuICAgICAgICAgICAgaXNOb3RGaW5pdGUgIT0gNCAmJlxuICAgICAgICAgICAgaXNOb3RGaW5pdGUgIT0gOFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXhTdWJkaXZpc2lvbiA+IDApIHtcbiAgICAgIGlmICghbmVlZHNTdWJkaXZpc2lvbikge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBbKGFbMF0gKyBjWzBdKSAvIDIsIChhWzFdICsgY1sxXSkgLyAyXTtcbiAgICAgICAgY29uc3QgY2VudGVyU3JjID0gdGhpcy50cmFuc2Zvcm1JbnZfKGNlbnRlcik7XG5cbiAgICAgICAgbGV0IGR4O1xuICAgICAgICBpZiAod3JhcHNYKSB7XG4gICAgICAgICAgY29uc3QgY2VudGVyU3JjRXN0aW1YID1cbiAgICAgICAgICAgIChtb2R1bG8oYVNyY1swXSwgc291cmNlV29ybGRXaWR0aCkgK1xuICAgICAgICAgICAgICBtb2R1bG8oY1NyY1swXSwgc291cmNlV29ybGRXaWR0aCkpIC9cbiAgICAgICAgICAgIDI7XG4gICAgICAgICAgZHggPSBjZW50ZXJTcmNFc3RpbVggLSBtb2R1bG8oY2VudGVyU3JjWzBdLCBzb3VyY2VXb3JsZFdpZHRoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkeCA9IChhU3JjWzBdICsgY1NyY1swXSkgLyAyIC0gY2VudGVyU3JjWzBdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGR5ID0gKGFTcmNbMV0gKyBjU3JjWzFdKSAvIDIgLSBjZW50ZXJTcmNbMV07XG4gICAgICAgIGNvbnN0IGNlbnRlclNyY0Vycm9yU3F1YXJlZCA9IGR4ICogZHggKyBkeSAqIGR5O1xuICAgICAgICBuZWVkc1N1YmRpdmlzaW9uID0gY2VudGVyU3JjRXJyb3JTcXVhcmVkID4gdGhpcy5lcnJvclRocmVzaG9sZFNxdWFyZWRfO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRzU3ViZGl2aXNpb24pIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGFbMF0gLSBjWzBdKSA8PSBNYXRoLmFicyhhWzFdIC0gY1sxXSkpIHtcbiAgICAgICAgICAvLyBzcGxpdCBob3Jpem9udGFsbHkgKHRvcCAmIGJvdHRvbSlcbiAgICAgICAgICBjb25zdCBiYyA9IFsoYlswXSArIGNbMF0pIC8gMiwgKGJbMV0gKyBjWzFdKSAvIDJdO1xuICAgICAgICAgIGNvbnN0IGJjU3JjID0gdGhpcy50cmFuc2Zvcm1JbnZfKGJjKTtcbiAgICAgICAgICBjb25zdCBkYSA9IFsoZFswXSArIGFbMF0pIC8gMiwgKGRbMV0gKyBhWzFdKSAvIDJdO1xuICAgICAgICAgIGNvbnN0IGRhU3JjID0gdGhpcy50cmFuc2Zvcm1JbnZfKGRhKTtcblxuICAgICAgICAgIHRoaXMuYWRkUXVhZF8oXG4gICAgICAgICAgICBhLFxuICAgICAgICAgICAgYixcbiAgICAgICAgICAgIGJjLFxuICAgICAgICAgICAgZGEsXG4gICAgICAgICAgICBhU3JjLFxuICAgICAgICAgICAgYlNyYyxcbiAgICAgICAgICAgIGJjU3JjLFxuICAgICAgICAgICAgZGFTcmMsXG4gICAgICAgICAgICBtYXhTdWJkaXZpc2lvbiAtIDFcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuYWRkUXVhZF8oXG4gICAgICAgICAgICBkYSxcbiAgICAgICAgICAgIGJjLFxuICAgICAgICAgICAgYyxcbiAgICAgICAgICAgIGQsXG4gICAgICAgICAgICBkYVNyYyxcbiAgICAgICAgICAgIGJjU3JjLFxuICAgICAgICAgICAgY1NyYyxcbiAgICAgICAgICAgIGRTcmMsXG4gICAgICAgICAgICBtYXhTdWJkaXZpc2lvbiAtIDFcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHNwbGl0IHZlcnRpY2FsbHkgKGxlZnQgJiByaWdodClcbiAgICAgICAgICBjb25zdCBhYiA9IFsoYVswXSArIGJbMF0pIC8gMiwgKGFbMV0gKyBiWzFdKSAvIDJdO1xuICAgICAgICAgIGNvbnN0IGFiU3JjID0gdGhpcy50cmFuc2Zvcm1JbnZfKGFiKTtcbiAgICAgICAgICBjb25zdCBjZCA9IFsoY1swXSArIGRbMF0pIC8gMiwgKGNbMV0gKyBkWzFdKSAvIDJdO1xuICAgICAgICAgIGNvbnN0IGNkU3JjID0gdGhpcy50cmFuc2Zvcm1JbnZfKGNkKTtcblxuICAgICAgICAgIHRoaXMuYWRkUXVhZF8oXG4gICAgICAgICAgICBhLFxuICAgICAgICAgICAgYWIsXG4gICAgICAgICAgICBjZCxcbiAgICAgICAgICAgIGQsXG4gICAgICAgICAgICBhU3JjLFxuICAgICAgICAgICAgYWJTcmMsXG4gICAgICAgICAgICBjZFNyYyxcbiAgICAgICAgICAgIGRTcmMsXG4gICAgICAgICAgICBtYXhTdWJkaXZpc2lvbiAtIDFcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuYWRkUXVhZF8oXG4gICAgICAgICAgICBhYixcbiAgICAgICAgICAgIGIsXG4gICAgICAgICAgICBjLFxuICAgICAgICAgICAgY2QsXG4gICAgICAgICAgICBhYlNyYyxcbiAgICAgICAgICAgIGJTcmMsXG4gICAgICAgICAgICBjU3JjLFxuICAgICAgICAgICAgY2RTcmMsXG4gICAgICAgICAgICBtYXhTdWJkaXZpc2lvbiAtIDFcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAod3JhcHNYKSB7XG4gICAgICBpZiAoIXRoaXMuY2FuV3JhcFhJblNvdXJjZV8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy53cmFwc1hJblNvdXJjZV8gPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEV4YWN0bHkgemVybyBvciBvbmUgb2YgKlNyYyBpcyBub3QgZmluaXRlXG4gICAgLy8gVGhlIHRyaWFuZ2xlcyBtdXN0IGhhdmUgdGhlIGRpYWdvbmFsIGxpbmUgYXMgdGhlIGZpcnN0IHNpZGVcbiAgICAvLyBUaGlzIGlzIHRvIGFsbG93IGVhc3kgY29kZSBpbiByZXByb2oucyB0byBtYWtlIGl0IHN0cmFpZ2h0IGZvciBicm9rZW5cbiAgICAvLyBicm93c2VycyB0aGF0IGNhbid0IGhhbmRsZSBkaWFnb25hbCBjbGlwcGluZ1xuICAgIGlmICgoaXNOb3RGaW5pdGUgJiAweGIpID09IDApIHtcbiAgICAgIHRoaXMuYWRkVHJpYW5nbGVfKGEsIGMsIGQsIGFTcmMsIGNTcmMsIGRTcmMpO1xuICAgIH1cbiAgICBpZiAoKGlzTm90RmluaXRlICYgMHhlKSA9PSAwKSB7XG4gICAgICB0aGlzLmFkZFRyaWFuZ2xlXyhhLCBjLCBiLCBhU3JjLCBjU3JjLCBiU3JjKTtcbiAgICB9XG4gICAgaWYgKGlzTm90RmluaXRlKSB7XG4gICAgICAvLyBUcnkgdGhlIG90aGVyIHR3byB0cmlhbmdsZXNcbiAgICAgIGlmICgoaXNOb3RGaW5pdGUgJiAweGQpID09IDApIHtcbiAgICAgICAgdGhpcy5hZGRUcmlhbmdsZV8oYiwgZCwgYSwgYlNyYywgZFNyYywgYVNyYyk7XG4gICAgICB9XG4gICAgICBpZiAoKGlzTm90RmluaXRlICYgMHg3KSA9PSAwKSB7XG4gICAgICAgIHRoaXMuYWRkVHJpYW5nbGVfKGIsIGQsIGMsIGJTcmMsIGRTcmMsIGNTcmMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIGV4dGVudCBvZiB0aGUgYHNvdXJjZWAgY29vcmRpbmF0ZXMgZnJvbSBhbGwgdGhlIHRyaWFuZ2xlcy5cbiAgICpcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gQ2FsY3VsYXRlZCBleHRlbnQuXG4gICAqL1xuICBjYWxjdWxhdGVTb3VyY2VFeHRlbnQoKSB7XG4gICAgY29uc3QgZXh0ZW50ID0gY3JlYXRlRW1wdHkoKTtcblxuICAgIHRoaXMudHJpYW5nbGVzXy5mb3JFYWNoKGZ1bmN0aW9uICh0cmlhbmdsZSwgaSwgYXJyKSB7XG4gICAgICBjb25zdCBzcmMgPSB0cmlhbmdsZS5zb3VyY2U7XG4gICAgICBleHRlbmRDb29yZGluYXRlKGV4dGVudCwgc3JjWzBdKTtcbiAgICAgIGV4dGVuZENvb3JkaW5hdGUoZXh0ZW50LCBzcmNbMV0pO1xuICAgICAgZXh0ZW5kQ29vcmRpbmF0ZShleHRlbnQsIHNyY1syXSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZXh0ZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0FycmF5PFRyaWFuZ2xlPn0gQXJyYXkgb2YgdGhlIGNhbGN1bGF0ZWQgdHJpYW5nbGVzLlxuICAgKi9cbiAgZ2V0VHJpYW5nbGVzKCkge1xuICAgIHJldHVybiB0aGlzLnRyaWFuZ2xlc187XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJpYW5ndWxhdGlvbjtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9yb3RhdGlvbmNvbnN0cmFpbnRcbiAqL1xuaW1wb3J0IHt0b1JhZGlhbnN9IGZyb20gJy4vbWF0aC5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChudW1iZXJ8dW5kZWZpbmVkKSwgYm9vbGVhbj0pOiAobnVtYmVyfHVuZGVmaW5lZCl9IFR5cGVcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGUocm90YXRpb24pIHtcbiAgaWYgKHJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcm90YXRpb24gUm90YXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ8dW5kZWZpbmVkfSBSb3RhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vbmUocm90YXRpb24pIHtcbiAgaWYgKHJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gcm90YXRpb247XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbiBOLlxuICogQHJldHVybiB7VHlwZX0gUm90YXRpb24gY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNuYXBUb04obikge1xuICBjb25zdCB0aGV0YSA9ICgyICogTWF0aC5QSSkgLyBuO1xuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcm90YXRpb24gUm90YXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNNb3ZpbmddIFRydWUgaWYgYW4gaW50ZXJhY3Rpb24gb3IgYW5pbWF0aW9uIGlzIGluIHByb2dyZXNzLlxuICAgICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFJvdGF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIChyb3RhdGlvbiwgaXNNb3ZpbmcpIHtcbiAgICAgIGlmIChpc01vdmluZykge1xuICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgICB9XG5cbiAgICAgIGlmIChyb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJvdGF0aW9uID0gTWF0aC5mbG9vcihyb3RhdGlvbiAvIHRoZXRhICsgMC41KSAqIHRoZXRhO1xuICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gW3RvbGVyYW5jZV0gVG9sZXJhbmNlLlxuICogQHJldHVybiB7VHlwZX0gUm90YXRpb24gY29uc3RyYWludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNuYXBUb1plcm8odG9sZXJhbmNlKSB7XG4gIHRvbGVyYW5jZSA9IHRvbGVyYW5jZSB8fCB0b1JhZGlhbnMoNSk7XG4gIHJldHVybiAoXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSByb3RhdGlvbiBSb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc01vdmluZ10gVHJ1ZSBpZiBhbiBpbnRlcmFjdGlvbiBvciBhbmltYXRpb24gaXMgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUm90YXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gKHJvdGF0aW9uLCBpc01vdmluZykge1xuICAgICAgaWYgKGlzTW92aW5nKSB7XG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHJvdGF0aW9uKSA8PSB0b2xlcmFuY2UpIHtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgKTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zaXplXG4gKi9cblxuLyoqXG4gKiBBbiBhcnJheSBvZiBudW1iZXJzIHJlcHJlc2VudGluZyBhIHNpemU6IGBbd2lkdGgsIGhlaWdodF1gLlxuICogQHR5cGVkZWYge0FycmF5PG51bWJlcj59IFNpemVcbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIFJldHVybnMgYSBidWZmZXJlZCBzaXplLlxuICogQHBhcmFtIHtTaXplfSBzaXplIFNpemUuXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtIFRoZSBhbW91bnQgYnkgd2hpY2ggdG8gYnVmZmVyLlxuICogQHBhcmFtIHtTaXplfSBbZGVzdF0gT3B0aW9uYWwgcmV1c2FibGUgc2l6ZSBhcnJheS5cbiAqIEByZXR1cm4ge1NpemV9IFRoZSBidWZmZXJlZCBzaXplLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyKHNpemUsIG51bSwgZGVzdCkge1xuICBpZiAoZGVzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZGVzdCA9IFswLCAwXTtcbiAgfVxuICBkZXN0WzBdID0gc2l6ZVswXSArIDIgKiBudW07XG4gIGRlc3RbMV0gPSBzaXplWzFdICsgMiAqIG51bTtcbiAgcmV0dXJuIGRlc3Q7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIHNpemUgaGFzIGEgcG9zaXRpdmUgYXJlYS5cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZSBUaGUgc2l6ZSB0byB0ZXN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHNpemUgaGFzIGEgcG9zaXRpdmUgYXJlYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0FyZWEoc2l6ZSkge1xuICByZXR1cm4gc2l6ZVswXSA+IDAgJiYgc2l6ZVsxXSA+IDA7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHNpemUgc2NhbGVkIGJ5IGEgcmF0aW8uIFRoZSByZXN1bHQgd2lsbCBiZSBhbiBhcnJheSBvZiBpbnRlZ2Vycy5cbiAqIEBwYXJhbSB7U2l6ZX0gc2l6ZSBTaXplLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhdGlvIFJhdGlvLlxuICogQHBhcmFtIHtTaXplfSBbZGVzdF0gT3B0aW9uYWwgcmV1c2FibGUgc2l6ZSBhcnJheS5cbiAqIEByZXR1cm4ge1NpemV9IFRoZSBzY2FsZWQgc2l6ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKHNpemUsIHJhdGlvLCBkZXN0KSB7XG4gIGlmIChkZXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICBkZXN0ID0gWzAsIDBdO1xuICB9XG4gIGRlc3RbMF0gPSAoc2l6ZVswXSAqIHJhdGlvICsgMC41KSB8IDA7XG4gIGRlc3RbMV0gPSAoc2l6ZVsxXSAqIHJhdGlvICsgMC41KSB8IDA7XG4gIHJldHVybiBkZXN0O1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gYFNpemVgIGFycmF5IGZvciB0aGUgcGFzc2VkIGluIG51bWJlciAobWVhbmluZzogc3F1YXJlKSBvclxuICogYFNpemVgIGFycmF5LlxuICogKG1lYW5pbmc6IG5vbi1zcXVhcmUpLFxuICogQHBhcmFtIHtudW1iZXJ8U2l6ZX0gc2l6ZSBXaWR0aCBhbmQgaGVpZ2h0LlxuICogQHBhcmFtIHtTaXplfSBbZGVzdF0gT3B0aW9uYWwgcmV1c2FibGUgc2l6ZSBhcnJheS5cbiAqIEByZXR1cm4ge1NpemV9IFNpemUuXG4gKiBAYXBpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1NpemUoc2l6ZSwgZGVzdCkge1xuICBpZiAoQXJyYXkuaXNBcnJheShzaXplKSkge1xuICAgIHJldHVybiBzaXplO1xuICB9XG4gIGlmIChkZXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICBkZXN0ID0gW3NpemUsIHNpemVdO1xuICB9IGVsc2Uge1xuICAgIGRlc3RbMF0gPSBzaXplO1xuICAgIGRlc3RbMV0gPSBzaXplO1xuICB9XG4gIHJldHVybiBkZXN0O1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9UaWxlRGVidWdcbiAqL1xuXG5pbXBvcnQgWFlaIGZyb20gJy4vWFlaLmpzJztcbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJEfSBmcm9tICcuLi9kb20uanMnO1xuaW1wb3J0IHt0b1NpemV9IGZyb20gJy4uL3NpemUuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb249J0VQU0c6Mzg1NyddIE9wdGlvbmFsIHByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFt0aWxlR3JpZF0gVGlsZSBncmlkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9dHJ1ZV0gV2hldGhlciB0byB3cmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9hcnJheS5qc1wiKS5OZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb259IFt6RGlyZWN0aW9uPTBdXG4gKiBTZXQgdG8gYDFgIHdoZW4gZGVidWdnaW5nIGBWZWN0b3JUaWxlYCBzb3VyY2VzIHdpdGggYSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uXG4gKiBDaG9vc2Ugd2hldGhlciB0byB1c2UgdGlsZXMgd2l0aCBhIGhpZ2hlciBvciBsb3dlciB6b29tIGxldmVsIHdoZW4gYmV0d2VlbiBpbnRlZ2VyXG4gKiB6b29tIGxldmVscy4gU2VlIHtAbGluayBtb2R1bGU6b2wvdGlsZWdyaWQvVGlsZUdyaWR+VGlsZUdyaWQjZ2V0WkZvclJlc29sdXRpb259LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0ZW1wbGF0ZT0nejp7en0geDp7eH0geTp7eX0nXSBUZW1wbGF0ZSBmb3IgbGFiZWxpbmcgdGhlIHRpbGVzLlxuICogU2hvdWxkIGluY2x1ZGUgYHt4fWAsIGB7eX1gIG9yIGB7LXl9YCwgYW5kIGB7en1gIHBsYWNlaG9sZGVycy5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEEgcHNldWRvIHRpbGUgc291cmNlLCB3aGljaCBkb2VzIG5vdCBmZXRjaCB0aWxlcyBmcm9tIGEgc2VydmVyLCBidXQgcmVuZGVyc1xuICogYSBncmlkIG91dGxpbmUgZm9yIHRoZSB0aWxlIGdyaWQvcHJvamVjdGlvbiBhbG9uZyB3aXRoIHRoZSBjb29yZGluYXRlcyBmb3JcbiAqIGVhY2ggdGlsZS4gU2VlIGV4YW1wbGVzL2NhbnZhcy10aWxlcyBmb3IgYW4gZXhhbXBsZS5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgVGlsZURlYnVnIGV4dGVuZHMgWFlaIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIERlYnVnIHRpbGUgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7T3B0aW9uc31cbiAgICAgKi9cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIHN1cGVyKHtcbiAgICAgIG9wYXF1ZTogZmFsc2UsXG4gICAgICBwcm9qZWN0aW9uOiBvcHRpb25zLnByb2plY3Rpb24sXG4gICAgICB0aWxlR3JpZDogb3B0aW9ucy50aWxlR3JpZCxcbiAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLndyYXBYIDogdHJ1ZSxcbiAgICAgIHpEaXJlY3Rpb246IG9wdGlvbnMuekRpcmVjdGlvbixcbiAgICAgIHVybDogb3B0aW9ucy50ZW1wbGF0ZSB8fCAnejp7en0geDp7eH0geTp7eX0nLFxuICAgICAgdGlsZUxvYWRGdW5jdGlvbjogKHRpbGUsIHRleHQpID0+IHtcbiAgICAgICAgY29uc3QgeiA9IHRpbGUuZ2V0VGlsZUNvb3JkKClbMF07XG4gICAgICAgIGNvbnN0IHRpbGVTaXplID0gdG9TaXplKHRoaXMudGlsZUdyaWQuZ2V0VGlsZVNpemUoeikpO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKHRpbGVTaXplWzBdLCB0aWxlU2l6ZVsxXSk7XG5cbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdncmV5JztcbiAgICAgICAgY29udGV4dC5zdHJva2VSZWN0KDAuNSwgMC41LCB0aWxlU2l6ZVswXSArIDAuNSwgdGlsZVNpemVbMV0gKyAwLjUpO1xuXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2dyZXknO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgICAgY29udGV4dC5mb250ID0gJzI0cHggc2Fucy1zZXJpZic7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gNDtcbiAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KHRleHQsIHRpbGVTaXplWzBdIC8gMiwgdGlsZVNpemVbMV0gLyAyLCB0aWxlU2l6ZVswXSk7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQodGV4dCwgdGlsZVNpemVbMF0gLyAyLCB0aWxlU2l6ZVsxXSAvIDIsIHRpbGVTaXplWzBdKTtcblxuICAgICAgICAvKiogQHR5cGUge2ltcG9ydChcIi4uL0ltYWdlVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAodGlsZSkuc2V0SW1hZ2UoXG4gICAgICAgICAgY29udGV4dC5jYW52YXNcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGlsZURlYnVnO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9Tb3VyY2VcbiAqL1xuaW1wb3J0IEJhc2VPYmplY3QgZnJvbSAnLi4vT2JqZWN0LmpzJztcbmltcG9ydCB7Z2V0IGFzIGdldFByb2plY3Rpb259IGZyb20gJy4uL3Byb2ouanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHsndW5kZWZpbmVkJyB8ICdsb2FkaW5nJyB8ICdyZWFkeScgfCAnZXJyb3InfSBTdGF0ZVxuICogU3RhdGUgb2YgdGhlIHNvdXJjZSwgb25lIG9mICd1bmRlZmluZWQnLCAnbG9hZGluZycsICdyZWFkeScgb3IgJ2Vycm9yJy5cbiAqL1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHtAbGluayBtb2R1bGU6b2wvTWFwfkZyYW1lU3RhdGV9IGFuZCByZXR1cm5zIGEgc3RyaW5nIG9yXG4gKiBhbiBhcnJheSBvZiBzdHJpbmdzIHJlcHJlc2VudGluZyBzb3VyY2UgYXR0cmlidXRpb25zLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9NYXAuanNcIikuRnJhbWVTdGF0ZSk6IChzdHJpbmd8QXJyYXk8c3RyaW5nPil9IEF0dHJpYnV0aW9uXG4gKi9cblxuLyoqXG4gKiBBIHR5cGUgdGhhdCBjYW4gYmUgdXNlZCB0byBwcm92aWRlIGF0dHJpYnV0aW9uIGluZm9ybWF0aW9uIGZvciBkYXRhIHNvdXJjZXMuXG4gKlxuICogSXQgcmVwcmVzZW50cyBlaXRoZXJcbiAqICogYSBzaW1wbGUgc3RyaW5nIChlLmcuIGAnwqkgQWNtZSBJbmMuJ2ApXG4gKiAqIGFuIGFycmF5IG9mIHNpbXBsZSBzdHJpbmdzIChlLmcuIGBbJ8KpIEFjbWUgSW5jLicsICfCqSBCYWNtZSBJbmMuJ11gKVxuICogKiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHN0cmluZyBvciBhcnJheSBvZiBzdHJpbmdzICh7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9Tb3VyY2V+QXR0cmlidXRpb259KVxuICpcbiAqIEB0eXBlZGVmIHtzdHJpbmd8QXJyYXk8c3RyaW5nPnxBdHRyaWJ1dGlvbn0gQXR0cmlidXRpb25MaWtlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge0F0dHJpYnV0aW9uTGlrZX0gW2F0dHJpYnV0aW9uc10gQXR0cmlidXRpb25zLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXR0cmlidXRpb25zQ29sbGFwc2libGU9dHJ1ZV0gQXR0cmlidXRpb25zIGFyZSBjb2xsYXBzaWJsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb25dIFByb2plY3Rpb24uIERlZmF1bHQgaXMgdGhlIHZpZXcgcHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuU3RhdGV9IFtzdGF0ZT0ncmVhZHknXSBTdGF0ZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPWZhbHNlXSBXcmFwWC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlPWZhbHNlXSBVc2UgaW50ZXJwb2xhdGVkIHZhbHVlcyB3aGVuIHJlc2FtcGxpbmcuICBCeSBkZWZhdWx0LFxuICogdGhlIG5lYXJlc3QgbmVpZ2hib3IgaXMgdXNlZCB3aGVuIHJlc2FtcGxpbmcuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzOyBub3JtYWxseSBvbmx5IHVzZWQgZm9yIGNyZWF0aW5nIHN1YmNsYXNzZXMgYW5kIG5vdFxuICogaW5zdGFudGlhdGVkIGluIGFwcHMuXG4gKiBCYXNlIGNsYXNzIGZvciB7QGxpbmsgbW9kdWxlOm9sL2xheWVyL0xheWVyfkxheWVyfSBzb3VyY2VzLlxuICpcbiAqIEEgZ2VuZXJpYyBgY2hhbmdlYCBldmVudCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgc3RhdGUgb2YgdGhlIHNvdXJjZSBjaGFuZ2VzLlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbmNsYXNzIFNvdXJjZSBleHRlbmRzIEJhc2VPYmplY3Qge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIFNvdXJjZSBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fG51bGx9XG4gICAgICovXG4gICAgdGhpcy5wcm9qZWN0aW9uID0gZ2V0UHJvamVjdGlvbihvcHRpb25zLnByb2plY3Rpb24pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7P0F0dHJpYnV0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuYXR0cmlidXRpb25zXyA9IGFkYXB0QXR0cmlidXRpb25zKG9wdGlvbnMuYXR0cmlidXRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZV8gPVxuICAgICAgb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZVxuICAgICAgICA6IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZyBkYXRhLiBTb3VyY2VzIHRoYXQgZGVmZXIgbG9hZGluZyB0byB0aGVcbiAgICAgKiBtYXAncyB0aWxlIHF1ZXVlIG5ldmVyIHNldCB0aGlzIHRvIGB0cnVlYC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLlN0YXRlfVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGVfID0gb3B0aW9ucy5zdGF0ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdGF0ZSA6ICdyZWFkeSc7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMud3JhcFhfID0gb3B0aW9ucy53cmFwWCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy53cmFwWCA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmludGVycG9sYXRlXyA9ICEhb3B0aW9ucy5pbnRlcnBvbGF0ZTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vVmlldy5qc1wiKS5WaWV3T3B0aW9ucyk6dm9pZH1cbiAgICAgKi9cbiAgICB0aGlzLnZpZXdSZXNvbHZlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2Z1bmN0aW9uKEVycm9yKTp2b2lkfVxuICAgICAqL1xuICAgIHRoaXMudmlld1JlamVjdG9yID0gbnVsbDtcblxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1Byb21pc2U8aW1wb3J0KFwiLi4vVmlldy5qc1wiKS5WaWV3T3B0aW9ucz59XG4gICAgICovXG4gICAgdGhpcy52aWV3UHJvbWlzZV8gPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBzZWxmLnZpZXdSZXNvbHZlciA9IHJlc29sdmU7XG4gICAgICBzZWxmLnZpZXdSZWplY3RvciA9IHJlamVjdDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGF0dHJpYnV0aW9uIGZ1bmN0aW9uIGZvciB0aGUgc291cmNlLlxuICAgKiBAcmV0dXJuIHs/QXR0cmlidXRpb259IEF0dHJpYnV0aW9uIGZ1bmN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRBdHRyaWJ1dGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRpb25zXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBBdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRBdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwcm9qZWN0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fG51bGx9IFByb2plY3Rpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFByb2plY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvblwiKS5kZWZhdWx0fSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnxudWxsfSBSZXNvbHV0aW9ucy5cbiAgICovXG4gIGdldFJlc29sdXRpb25zKHByb2plY3Rpb24pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGltcG9ydChcIi4uL1ZpZXcuanNcIikuVmlld09wdGlvbnM+fSBBIHByb21pc2UgZm9yIHZpZXctcmVsYXRlZCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgZ2V0VmlldygpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3UHJvbWlzZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzdGF0ZSBvZiB0aGUgc291cmNlLCBzZWUge0BsaW5rIGltcG9ydChcIi4vU291cmNlLmpzXCIpLlN0YXRlfSBmb3IgcG9zc2libGUgc3RhdGVzLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5TdGF0ZX0gU3RhdGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufHVuZGVmaW5lZH0gV3JhcCBYLlxuICAgKi9cbiAgZ2V0V3JhcFgoKSB7XG4gICAgcmV0dXJuIHRoaXMud3JhcFhfO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFVzZSBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aGVuIHJlc2FtcGxpbmcuXG4gICAqL1xuICBnZXRJbnRlcnBvbGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnBvbGF0ZV87XG4gIH1cblxuICAvKipcbiAgICogUmVmcmVzaGVzIHRoZSBzb3VyY2UuIFRoZSBzb3VyY2Ugd2lsbCBiZSBjbGVhcmVkLCBhbmQgZGF0YSBmcm9tIHRoZSBzZXJ2ZXIgd2lsbCBiZSByZWxvYWRlZC5cbiAgICogQGFwaVxuICAgKi9cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGF0dHJpYnV0aW9ucyBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0ge0F0dHJpYnV0aW9uTGlrZXx1bmRlZmluZWR9IGF0dHJpYnV0aW9ucyBBdHRyaWJ1dGlvbnMuXG4gICAqICAgICBDYW4gYmUgcGFzc2VkIGFzIGBzdHJpbmdgLCBgQXJyYXk8c3RyaW5nPmAsIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1NvdXJjZX5BdHRyaWJ1dGlvbn0sXG4gICAqICAgICBvciBgdW5kZWZpbmVkYC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0QXR0cmlidXRpb25zKGF0dHJpYnV0aW9ucykge1xuICAgIHRoaXMuYXR0cmlidXRpb25zXyA9IGFkYXB0QXR0cmlidXRpb25zKGF0dHJpYnV0aW9ucyk7XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzdGF0ZSBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLlN0YXRlfSBzdGF0ZSBTdGF0ZS5cbiAgICovXG4gIHNldFN0YXRlKHN0YXRlKSB7XG4gICAgdGhpcy5zdGF0ZV8gPSBzdGF0ZTtcbiAgICB0aGlzLmNoYW5nZWQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFR1cm5zIHRoZSBhdHRyaWJ1dGlvbnMgb3B0aW9uIGludG8gYW4gYXR0cmlidXRpb25zIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtBdHRyaWJ1dGlvbkxpa2V8dW5kZWZpbmVkfSBhdHRyaWJ1dGlvbkxpa2UgVGhlIGF0dHJpYnV0aW9uIG9wdGlvbi5cbiAqIEByZXR1cm4ge0F0dHJpYnV0aW9ufG51bGx9IEFuIGF0dHJpYnV0aW9uIGZ1bmN0aW9uIChvciBudWxsKS5cbiAqL1xuZnVuY3Rpb24gYWRhcHRBdHRyaWJ1dGlvbnMoYXR0cmlidXRpb25MaWtlKSB7XG4gIGlmICghYXR0cmlidXRpb25MaWtlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoYXR0cmlidXRpb25MaWtlKSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAgICAgcmV0dXJuIGF0dHJpYnV0aW9uTGlrZTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGlvbkxpa2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYXR0cmlidXRpb25MaWtlO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gICAgcmV0dXJuIFthdHRyaWJ1dGlvbkxpa2VdO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBTb3VyY2U7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1RpbGVcbiAqL1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uL2V2ZW50cy9FdmVudC5qcyc7XG5pbXBvcnQgU291cmNlIGZyb20gJy4vU291cmNlLmpzJztcbmltcG9ydCBUaWxlQ2FjaGUgZnJvbSAnLi4vVGlsZUNhY2hlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7YWJzdHJhY3R9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtlcXVpdmFsZW50fSBmcm9tICcuLi9wcm9qLmpzJztcbmltcG9ydCB7Z2V0S2V5WlhZLCB3aXRoaW5FeHRlbnRBbmRafSBmcm9tICcuLi90aWxlY29vcmQuanMnO1xuaW1wb3J0IHtcbiAgZ2V0Rm9yUHJvamVjdGlvbiBhcyBnZXRUaWxlR3JpZEZvclByb2plY3Rpb24sXG4gIHdyYXBYLFxufSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG5pbXBvcnQge3NjYWxlIGFzIHNjYWxlU2l6ZSwgdG9TaXplfSBmcm9tICcuLi9zaXplLmpzJztcblxuLyoqKlxuICogQHRlbXBsYXRlIFJldHVyblxuICogQHR5cGVkZWYge2ltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5FdmVudFR5cGVzLCBpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCwgUmV0dXJuPiAmXG4gKiAgIGltcG9ydChcIi4uL09ic2VydmFibGVcIikuT25TaWduYXR1cmU8aW1wb3J0KFwiLi4vT2JqZWN0RXZlbnRUeXBlXCIpLlR5cGVzLCBpbXBvcnQoXCIuLi9PYmplY3RcIikuT2JqZWN0RXZlbnQsIFJldHVybj4gJlxuICogICBpbXBvcnQoXCIuLi9PYnNlcnZhYmxlXCIpLk9uU2lnbmF0dXJlPGltcG9ydChcIi4vVGlsZUV2ZW50VHlwZVwiKS5UaWxlU291cmNlRXZlbnRUeXBlcywgVGlsZVNvdXJjZUV2ZW50LCBSZXR1cm4+ICZcbiAqICAgaW1wb3J0KFwiLi4vT2JzZXJ2YWJsZVwiKS5Db21iaW5lZE9uU2lnbmF0dXJlPGltcG9ydChcIi4uL09ic2VydmFibGVcIikuRXZlbnRUeXBlc3xpbXBvcnQoXCIuLi9PYmplY3RFdmVudFR5cGVcIikuVHlwZXN8XG4gKiAgICAgaW1wb3J0KFwiLi9UaWxlRXZlbnRUeXBlXCIpLlRpbGVTb3VyY2VFdmVudFR5cGVzLCBSZXR1cm4+fSBUaWxlU291cmNlT25TaWduYXR1cmVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuQXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXSBBdHRyaWJ1dGlvbnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZT10cnVlXSBBdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemVdIENhY2hlU2l6ZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZT1mYWxzZV0gV2hldGhlciB0aGUgbGF5ZXIgaXMgb3BhcXVlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aWxlUGl4ZWxSYXRpb10gVGlsZVBpeGVsUmF0aW8uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3Byb2ouanNcIikuUHJvamVjdGlvbkxpa2V9IFtwcm9qZWN0aW9uXSBQcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5TdGF0ZX0gW3N0YXRlXSBTdGF0ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gW3RpbGVHcmlkXSBUaWxlR3JpZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPWZhbHNlXSBXcmFwWC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdHJhbnNpdGlvbl0gVHJhbnNpdGlvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBba2V5XSBLZXkuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9hcnJheS5qc1wiKS5OZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb259IFt6RGlyZWN0aW9uPTBdIFpEaXJlY3Rpb24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbnRlcnBvbGF0ZT1mYWxzZV0gVXNlIGludGVycG9sYXRlZCB2YWx1ZXMgd2hlbiByZXNhbXBsaW5nLiAgQnkgZGVmYXVsdCxcbiAqIHRoZSBuZWFyZXN0IG5laWdoYm9yIGlzIHVzZWQgd2hlbiByZXNhbXBsaW5nLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQWJzdHJhY3QgYmFzZSBjbGFzczsgbm9ybWFsbHkgb25seSB1c2VkIGZvciBjcmVhdGluZyBzdWJjbGFzc2VzIGFuZCBub3RcbiAqIGluc3RhbnRpYXRlZCBpbiBhcHBzLlxuICogQmFzZSBjbGFzcyBmb3Igc291cmNlcyBwcm92aWRpbmcgaW1hZ2VzIGRpdmlkZWQgaW50byBhIHRpbGUgZ3JpZC5cbiAqIEBhYnN0cmFjdFxuICogQGFwaVxuICovXG5jbGFzcyBUaWxlU291cmNlIGV4dGVuZHMgU291cmNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBTb3VyY2VUaWxlIHNvdXJjZSBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKHtcbiAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZTogb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSxcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgd3JhcFg6IG9wdGlvbnMud3JhcFgsXG4gICAgICBpbnRlcnBvbGF0ZTogb3B0aW9ucy5pbnRlcnBvbGF0ZSxcbiAgICB9KTtcblxuICAgIC8qKipcbiAgICAgKiBAdHlwZSB7VGlsZVNvdXJjZU9uU2lnbmF0dXJlPGltcG9ydChcIi4uL2V2ZW50c1wiKS5FdmVudHNLZXk+fVxuICAgICAqL1xuICAgIHRoaXMub247XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge1RpbGVTb3VyY2VPblNpZ25hdHVyZTxpbXBvcnQoXCIuLi9ldmVudHNcIikuRXZlbnRzS2V5Pn1cbiAgICAgKi9cbiAgICB0aGlzLm9uY2U7XG5cbiAgICAvKioqXG4gICAgICogQHR5cGUge1RpbGVTb3VyY2VPblNpZ25hdHVyZTx2b2lkPn1cbiAgICAgKi9cbiAgICB0aGlzLnVuO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm9wYXF1ZV8gPSBvcHRpb25zLm9wYXF1ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vcGFxdWUgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVQaXhlbFJhdGlvXyA9XG4gICAgICBvcHRpb25zLnRpbGVQaXhlbFJhdGlvICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRpbGVQaXhlbFJhdGlvIDogMTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fG51bGx9XG4gICAgICovXG4gICAgdGhpcy50aWxlR3JpZCA9IG9wdGlvbnMudGlsZUdyaWQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudGlsZUdyaWQgOiBudWxsO1xuXG4gICAgY29uc3QgdGlsZVNpemUgPSBbMjU2LCAyNTZdO1xuICAgIGlmICh0aGlzLnRpbGVHcmlkKSB7XG4gICAgICB0b1NpemUodGhpcy50aWxlR3JpZC5nZXRUaWxlU2l6ZSh0aGlzLnRpbGVHcmlkLmdldE1pblpvb20oKSksIHRpbGVTaXplKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL1RpbGVDYWNoZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMudGlsZUNhY2hlID0gbmV3IFRpbGVDYWNoZShvcHRpb25zLmNhY2hlU2l6ZSB8fCAwKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMudG1wU2l6ZSA9IFswLCAwXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmtleV8gPSBvcHRpb25zLmtleSB8fCAnJztcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5PcHRpb25zfVxuICAgICAqL1xuICAgIHRoaXMudGlsZU9wdGlvbnMgPSB7XG4gICAgICB0cmFuc2l0aW9uOiBvcHRpb25zLnRyYW5zaXRpb24sXG4gICAgICBpbnRlcnBvbGF0ZTogb3B0aW9ucy5pbnRlcnBvbGF0ZSxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogekRpcmVjdGlvbiBoaW50LCByZWFkIGJ5IHRoZSByZW5kZXJlci4gSW5kaWNhdGVzIHdoaWNoIHJlc29sdXRpb24gc2hvdWxkIGJlIHVzZWRcbiAgICAgKiBieSBhIHJlbmRlcmVyIGlmIHRoZSB2aWV3cyByZXNvbHV0aW9uIGRvZXMgbm90IG1hdGNoIGFueSByZXNvbHV0aW9uIG9mIHRoZSB0aWxlIHNvdXJjZS5cbiAgICAgKiBJZiAwLCB0aGUgbmVhcmVzdCByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC4gSWYgMSwgdGhlIG5lYXJlc3QgbG93ZXIgcmVzb2x1dGlvblxuICAgICAqIHdpbGwgYmUgdXNlZC4gSWYgLTEsIHRoZSBuZWFyZXN0IGhpZ2hlciByZXNvbHV0aW9uIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLnpEaXJlY3Rpb24gPSBvcHRpb25zLnpEaXJlY3Rpb24gPyBvcHRpb25zLnpEaXJlY3Rpb24gOiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IENhbiBleHBpcmUgY2FjaGUuXG4gICAqL1xuICBjYW5FeHBpcmVDYWNoZSgpIHtcbiAgICByZXR1cm4gdGhpcy50aWxlQ2FjaGUuY2FuRXhwaXJlQ2FjaGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSB1c2VkVGlsZXMgVXNlZCB0aWxlcy5cbiAgICovXG4gIGV4cGlyZUNhY2hlKHByb2plY3Rpb24sIHVzZWRUaWxlcykge1xuICAgIGNvbnN0IHRpbGVDYWNoZSA9IHRoaXMuZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBpZiAodGlsZUNhY2hlKSB7XG4gICAgICB0aWxlQ2FjaGUuZXhwaXJlQ2FjaGUodXNlZFRpbGVzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBab29tIGxldmVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSB0aWxlUmFuZ2UgVGlsZSByYW5nZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHQpOihib29sZWFufHZvaWQpfSBjYWxsYmFjayBDYWxsZWQgd2l0aCBlYWNoXG4gICAqICAgICBsb2FkZWQgdGlsZS4gIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGBmYWxzZWAsIHRoZSB0aWxlIHdpbGwgbm90IGJlXG4gICAqICAgICBjb25zaWRlcmVkIGxvYWRlZC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHRpbGUgcmFuZ2UgaXMgZnVsbHkgY292ZXJlZCB3aXRoIGxvYWRlZCB0aWxlcy5cbiAgICovXG4gIGZvckVhY2hMb2FkZWRUaWxlKHByb2plY3Rpb24sIHosIHRpbGVSYW5nZSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCB0aWxlQ2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgaWYgKCF0aWxlQ2FjaGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgY292ZXJlZCA9IHRydWU7XG4gICAgbGV0IHRpbGUsIHRpbGVDb29yZEtleSwgbG9hZGVkO1xuICAgIGZvciAobGV0IHggPSB0aWxlUmFuZ2UubWluWDsgeCA8PSB0aWxlUmFuZ2UubWF4WDsgKyt4KSB7XG4gICAgICBmb3IgKGxldCB5ID0gdGlsZVJhbmdlLm1pblk7IHkgPD0gdGlsZVJhbmdlLm1heFk7ICsreSkge1xuICAgICAgICB0aWxlQ29vcmRLZXkgPSBnZXRLZXlaWFkoeiwgeCwgeSk7XG4gICAgICAgIGxvYWRlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGlsZUNhY2hlLmNvbnRhaW5zS2V5KHRpbGVDb29yZEtleSkpIHtcbiAgICAgICAgICB0aWxlID0gLyoqIEB0eXBlIHshaW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSAqLyAoXG4gICAgICAgICAgICB0aWxlQ2FjaGUuZ2V0KHRpbGVDb29yZEtleSlcbiAgICAgICAgICApO1xuICAgICAgICAgIGxvYWRlZCA9IHRpbGUuZ2V0U3RhdGUoKSA9PT0gVGlsZVN0YXRlLkxPQURFRDtcbiAgICAgICAgICBpZiAobG9hZGVkKSB7XG4gICAgICAgICAgICBsb2FkZWQgPSBjYWxsYmFjayh0aWxlKSAhPT0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghbG9hZGVkKSB7XG4gICAgICAgICAgY292ZXJlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb3ZlcmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfSBHdXR0ZXIuXG4gICAqL1xuICBnZXRHdXR0ZXJGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGtleSB0byBiZSB1c2VkIGZvciBhbGwgdGlsZXMgaW4gdGhlIHNvdXJjZS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUga2V5IGZvciBhbGwgdGlsZXMuXG4gICAqL1xuICBnZXRLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMua2V5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhbHVlIHRvIGJlIHVzZWQgYXMgdGhlIGtleSBmb3IgYWxsIHRpbGVzIGluIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBmb3IgdGlsZXMuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHNldEtleShrZXkpIHtcbiAgICBpZiAodGhpcy5rZXlfICE9PSBrZXkpIHtcbiAgICAgIHRoaXMua2V5XyA9IGtleTtcbiAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IE9wYXF1ZS5cbiAgICovXG4gIGdldE9wYXF1ZShwcm9qZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMub3BhcXVlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvblwiKS5kZWZhdWx0fSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnxudWxsfSBSZXNvbHV0aW9ucy5cbiAgICovXG4gIGdldFJlc29sdXRpb25zKHByb2plY3Rpb24pIHtcbiAgICBjb25zdCB0aWxlR3JpZCA9IHByb2plY3Rpb25cbiAgICAgID8gdGhpcy5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbilcbiAgICAgIDogdGhpcy50aWxlR3JpZDtcbiAgICBpZiAoIXRpbGVHcmlkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHRpbGVHcmlkLmdldFJlc29sdXRpb25zKCk7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLmRlZmF1bHR9IFRpbGUuXG4gICAqL1xuICBnZXRUaWxlKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHRpbGUgZ3JpZCBvZiB0aGUgdGlsZSBzb3VyY2UuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR8bnVsbH0gVGlsZSBncmlkLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUaWxlR3JpZCgpIHtcbiAgICByZXR1cm4gdGhpcy50aWxlR3JpZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBUaWxlIGdyaWQuXG4gICAqL1xuICBnZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICAgIGlmICghdGhpcy50aWxlR3JpZCkge1xuICAgICAgcmV0dXJuIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudGlsZUdyaWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlQ2FjaGUuanNcIikuZGVmYXVsdH0gVGlsZSBjYWNoZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZ2V0VGlsZUNhY2hlRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gICAgY29uc3Qgc291cmNlUHJvamVjdGlvbiA9IHRoaXMuZ2V0UHJvamVjdGlvbigpO1xuICAgIGFzc2VydChcbiAgICAgIHNvdXJjZVByb2plY3Rpb24gPT09IG51bGwgfHwgZXF1aXZhbGVudChzb3VyY2VQcm9qZWN0aW9uLCBwcm9qZWN0aW9uKSxcbiAgICAgIDY4IC8vIEEgVmVjdG9yVGlsZSBzb3VyY2UgY2FuIG9ubHkgYmUgcmVuZGVyZWQgaWYgaXQgaGFzIGEgcHJvamVjdGlvbiBjb21wYXRpYmxlIHdpdGggdGhlIHZpZXcgcHJvamVjdGlvbi5cbiAgICApO1xuICAgIHJldHVybiB0aGlzLnRpbGVDYWNoZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRpbGUgcGl4ZWwgcmF0aW8gZm9yIHRoaXMgc291cmNlLiBTdWJjbGFzc2VzIG1heSBvdmVycmlkZSB0aGlzXG4gICAqIG1ldGhvZCwgd2hpY2ggaXMgbWVhbnQgdG8gcmV0dXJuIGEgc3VwcG9ydGVkIHBpeGVsIHJhdGlvIHRoYXQgbWF0Y2hlcyB0aGVcbiAgICogcHJvdmlkZWQgYHBpeGVsUmF0aW9gIGFzIGNsb3NlIGFzIHBvc3NpYmxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHJldHVybiB7bnVtYmVyfSBUaWxlIHBpeGVsIHJhdGlvLlxuICAgKi9cbiAgZ2V0VGlsZVBpeGVsUmF0aW8ocGl4ZWxSYXRpbykge1xuICAgIHJldHVybiB0aGlzLnRpbGVQaXhlbFJhdGlvXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFRpbGUgc2l6ZS5cbiAgICovXG4gIGdldFRpbGVQaXhlbFNpemUoeiwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIGNvbnN0IHRpbGVHcmlkID0gdGhpcy5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgY29uc3QgdGlsZVBpeGVsUmF0aW8gPSB0aGlzLmdldFRpbGVQaXhlbFJhdGlvKHBpeGVsUmF0aW8pO1xuICAgIGNvbnN0IHRpbGVTaXplID0gdG9TaXplKHRpbGVHcmlkLmdldFRpbGVTaXplKHopLCB0aGlzLnRtcFNpemUpO1xuICAgIGlmICh0aWxlUGl4ZWxSYXRpbyA9PSAxKSB7XG4gICAgICByZXR1cm4gdGlsZVNpemU7XG4gICAgfVxuICAgIHJldHVybiBzY2FsZVNpemUodGlsZVNpemUsIHRpbGVQaXhlbFJhdGlvLCB0aGlzLnRtcFNpemUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSB0aWxlIGNvb3JkaW5hdGUgd3JhcHBlZCBhcm91bmQgdGhlIHgtYXhpcy4gV2hlbiB0aGUgdGlsZSBjb29yZGluYXRlXG4gICAqIGlzIG91dHNpZGUgdGhlIHJlc29sdXRpb24gYW5kIGV4dGVudCByYW5nZSBvZiB0aGUgdGlsZSBncmlkLCBgbnVsbGAgd2lsbCBiZVxuICAgKiByZXR1cm5lZC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlIHRvIGJlIHBhc3NlZCB0byB0aGUgdGlsZVVybEZ1bmN0aW9uIG9yXG4gICAqICAgICBudWxsIGlmIG5vIHRpbGUgVVJMIHNob3VsZCBiZSBjcmVhdGVkIGZvciB0aGUgcGFzc2VkIGB0aWxlQ29vcmRgLlxuICAgKi9cbiAgZ2V0VGlsZUNvb3JkRm9yVGlsZVVybEZ1bmN0aW9uKHRpbGVDb29yZCwgcHJvamVjdGlvbikge1xuICAgIHByb2plY3Rpb24gPSBwcm9qZWN0aW9uICE9PSB1bmRlZmluZWQgPyBwcm9qZWN0aW9uIDogdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgY29uc3QgdGlsZUdyaWQgPSB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBpZiAodGhpcy5nZXRXcmFwWCgpICYmIHByb2plY3Rpb24uaXNHbG9iYWwoKSkge1xuICAgICAgdGlsZUNvb3JkID0gd3JhcFgodGlsZUdyaWQsIHRpbGVDb29yZCwgcHJvamVjdGlvbik7XG4gICAgfVxuICAgIHJldHVybiB3aXRoaW5FeHRlbnRBbmRaKHRpbGVDb29yZCwgdGlsZUdyaWQpID8gdGlsZUNvb3JkIDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIGNhY2hlZCB0aWxlcyBmcm9tIHRoZSBzb3VyY2UuIFRoZSBuZXh0IHJlbmRlciBjeWNsZSB3aWxsIGZldGNoIG5ldyB0aWxlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy50aWxlQ2FjaGUuY2xlYXIoKTtcbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHN1cGVyLnJlZnJlc2goKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmNyZWFzZXMgdGhlIGNhY2hlIHNpemUgaWYgbmVlZGVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aWxlQ291bnQgTWluaW11bSBudW1iZXIgb2YgdGlsZXMgbmVlZGVkLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqL1xuICB1cGRhdGVDYWNoZVNpemUodGlsZUNvdW50LCBwcm9qZWN0aW9uKSB7XG4gICAgY29uc3QgdGlsZUNhY2hlID0gdGhpcy5nZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGlmICh0aWxlQ291bnQgPiB0aWxlQ2FjaGUuaGlnaFdhdGVyTWFyaykge1xuICAgICAgdGlsZUNhY2hlLmhpZ2hXYXRlck1hcmsgPSB0aWxlQ291bnQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1hcmtzIGEgdGlsZSBjb29yZCBhcyBiZWluZyB1c2VkLCB3aXRob3V0IHRyaWdnZXJpbmcgYSBsb2FkLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKi9cbiAgdXNlVGlsZSh6LCB4LCB5LCBwcm9qZWN0aW9uKSB7fVxufVxuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIEV2ZW50cyBlbWl0dGVkIGJ5IHtAbGluayBtb2R1bGU6b2wvc291cmNlL1RpbGV+VGlsZVNvdXJjZX0gaW5zdGFuY2VzIGFyZSBpbnN0YW5jZXMgb2YgdGhpc1xuICogdHlwZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFRpbGVTb3VyY2VFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFRoZSB0aWxlLlxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSwgdGlsZSkge1xuICAgIHN1cGVyKHR5cGUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbGUgcmVsYXRlZCB0byB0aGUgZXZlbnQuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH1cbiAgICAgKiBAYXBpXG4gICAgICovXG4gICAgdGhpcy50aWxlID0gdGlsZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlU291cmNlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3RpbGV1cmxmdW5jdGlvblxuICovXG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcbmltcG9ydCB7bW9kdWxvfSBmcm9tICcuL21hdGguanMnO1xuaW1wb3J0IHtoYXNoIGFzIHRpbGVDb29yZEhhc2h9IGZyb20gJy4vdGlsZWNvb3JkLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgVGVtcGxhdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBUaWxlIFVSTCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgdGlsZUdyaWQpIHtcbiAgY29uc3QgelJlZ0V4ID0gL1xce3pcXH0vZztcbiAgY29uc3QgeFJlZ0V4ID0gL1xce3hcXH0vZztcbiAgY29uc3QgeVJlZ0V4ID0gL1xce3lcXH0vZztcbiAgY29uc3QgZGFzaFlSZWdFeCA9IC9cXHsteVxcfS9nO1xuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFRpbGUgVVJMLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uICh0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgIGlmICghdGlsZUNvb3JkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGVtcGxhdGVcbiAgICAgICAgLnJlcGxhY2UoelJlZ0V4LCB0aWxlQ29vcmRbMF0udG9TdHJpbmcoKSlcbiAgICAgICAgLnJlcGxhY2UoeFJlZ0V4LCB0aWxlQ29vcmRbMV0udG9TdHJpbmcoKSlcbiAgICAgICAgLnJlcGxhY2UoeVJlZ0V4LCB0aWxlQ29vcmRbMl0udG9TdHJpbmcoKSlcbiAgICAgICAgLnJlcGxhY2UoZGFzaFlSZWdFeCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnN0IHogPSB0aWxlQ29vcmRbMF07XG4gICAgICAgICAgY29uc3QgcmFuZ2UgPSB0aWxlR3JpZC5nZXRGdWxsVGlsZVJhbmdlKHopO1xuICAgICAgICAgIGFzc2VydChyYW5nZSwgNTUpOyAvLyBUaGUgey15fSBwbGFjZWhvbGRlciByZXF1aXJlcyBhIHRpbGUgZ3JpZCB3aXRoIGV4dGVudFxuICAgICAgICAgIGNvbnN0IHkgPSByYW5nZS5nZXRIZWlnaHQoKSAtIHRpbGVDb29yZFsyXSAtIDE7XG4gICAgICAgICAgcmV0dXJuIHkudG9TdHJpbmcoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gdGVtcGxhdGVzIFRlbXBsYXRlcy5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSB0aWxlR3JpZCBUaWxlIGdyaWQuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFRpbGUgVVJMIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnJvbVRlbXBsYXRlcyh0ZW1wbGF0ZXMsIHRpbGVHcmlkKSB7XG4gIGNvbnN0IGxlbiA9IHRlbXBsYXRlcy5sZW5ndGg7XG4gIGNvbnN0IHRpbGVVcmxGdW5jdGlvbnMgPSBuZXcgQXJyYXkobGVuKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHRpbGVVcmxGdW5jdGlvbnNbaV0gPSBjcmVhdGVGcm9tVGVtcGxhdGUodGVtcGxhdGVzW2ldLCB0aWxlR3JpZCk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zKHRpbGVVcmxGdW5jdGlvbnMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KFwiLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9uPn0gdGlsZVVybEZ1bmN0aW9ucyBUaWxlIFVSTCBGdW5jdGlvbnMuXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFRpbGUgVVJMIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnJvbVRpbGVVcmxGdW5jdGlvbnModGlsZVVybEZ1bmN0aW9ucykge1xuICBpZiAodGlsZVVybEZ1bmN0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gdGlsZVVybEZ1bmN0aW9uc1swXTtcbiAgfVxuICByZXR1cm4gKFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBDb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFRpbGUgVVJMLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uICh0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICAgIGlmICghdGlsZUNvb3JkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBjb25zdCBoID0gdGlsZUNvb3JkSGFzaCh0aWxlQ29vcmQpO1xuICAgICAgY29uc3QgaW5kZXggPSBtb2R1bG8oaCwgdGlsZVVybEZ1bmN0aW9ucy5sZW5ndGgpO1xuICAgICAgcmV0dXJuIHRpbGVVcmxGdW5jdGlvbnNbaW5kZXhdKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgfVxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFRpbGUgVVJMLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbnVsbFRpbGVVcmxGdW5jdGlvbih0aWxlQ29vcmQsIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTC5cbiAqIEByZXR1cm4ge0FycmF5PHN0cmluZz59IEFycmF5IG9mIHVybHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRVcmwodXJsKSB7XG4gIGNvbnN0IHVybHMgPSBbXTtcbiAgbGV0IG1hdGNoID0gL1xceyhbYS16XSktKFthLXpdKVxcfS8uZXhlYyh1cmwpO1xuICBpZiAobWF0Y2gpIHtcbiAgICAvLyBjaGFyIHJhbmdlXG4gICAgY29uc3Qgc3RhcnRDaGFyQ29kZSA9IG1hdGNoWzFdLmNoYXJDb2RlQXQoMCk7XG4gICAgY29uc3Qgc3RvcENoYXJDb2RlID0gbWF0Y2hbMl0uY2hhckNvZGVBdCgwKTtcbiAgICBsZXQgY2hhckNvZGU7XG4gICAgZm9yIChjaGFyQ29kZSA9IHN0YXJ0Q2hhckNvZGU7IGNoYXJDb2RlIDw9IHN0b3BDaGFyQ29kZTsgKytjaGFyQ29kZSkge1xuICAgICAgdXJscy5wdXNoKHVybC5yZXBsYWNlKG1hdGNoWzBdLCBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJDb2RlKSkpO1xuICAgIH1cbiAgICByZXR1cm4gdXJscztcbiAgfVxuICBtYXRjaCA9IC9cXHsoXFxkKyktKFxcZCspXFx9Ly5leGVjKHVybCk7XG4gIGlmIChtYXRjaCkge1xuICAgIC8vIG51bWJlciByYW5nZVxuICAgIGNvbnN0IHN0b3AgPSBwYXJzZUludChtYXRjaFsyXSwgMTApO1xuICAgIGZvciAobGV0IGkgPSBwYXJzZUludChtYXRjaFsxXSwgMTApOyBpIDw9IHN0b3A7IGkrKykge1xuICAgICAgdXJscy5wdXNoKHVybC5yZXBsYWNlKG1hdGNoWzBdLCBpLnRvU3RyaW5nKCkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybHM7XG4gIH1cbiAgdXJscy5wdXNoKHVybCk7XG4gIHJldHVybiB1cmxzO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9VcmxUaWxlXG4gKi9cbmltcG9ydCBUaWxlRXZlbnRUeXBlIGZyb20gJy4vVGlsZUV2ZW50VHlwZS5qcyc7XG5pbXBvcnQgVGlsZVNvdXJjZSwge1RpbGVTb3VyY2VFdmVudH0gZnJvbSAnLi9UaWxlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCB7Y3JlYXRlRnJvbVRlbXBsYXRlcywgZXhwYW5kVXJsfSBmcm9tICcuLi90aWxldXJsZnVuY3Rpb24uanMnO1xuaW1wb3J0IHtnZXRLZXlaWFl9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV0gQ2FjaGUgc2l6ZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZT1mYWxzZV0gV2hldGhlciB0aGUgbGF5ZXIgaXMgb3BhcXVlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuU3RhdGV9IFtzdGF0ZV0gU3RhdGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFt0aWxlR3JpZF0gVGlsZUdyaWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufSB0aWxlTG9hZEZ1bmN0aW9uIFRpbGVMb2FkRnVuY3Rpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RpbGVQaXhlbFJhdGlvXSBUaWxlUGl4ZWxSYXRpby5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gW3RpbGVVcmxGdW5jdGlvbl0gVGlsZVVybEZ1bmN0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1cmxdIFVybC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8c3RyaW5nPn0gW3VybHNdIFVybHMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3cmFwWD10cnVlXSBXcmFwWC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdHJhbnNpdGlvbl0gVHJhbnNpdGlvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBba2V5XSBLZXkuXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9hcnJheS5qc1wiKS5OZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb259IFt6RGlyZWN0aW9uPTBdIFpEaXJlY3Rpb24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbnRlcnBvbGF0ZT1mYWxzZV0gVXNlIGludGVycG9sYXRlZCB2YWx1ZXMgd2hlbiByZXNhbXBsaW5nLiAgQnkgZGVmYXVsdCxcbiAqIHRoZSBuZWFyZXN0IG5laWdoYm9yIGlzIHVzZWQgd2hlbiByZXNhbXBsaW5nLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyBmb3Igc291cmNlcyBwcm92aWRpbmcgdGlsZXMgZGl2aWRlZCBpbnRvIGEgdGlsZSBncmlkIG92ZXIgaHR0cC5cbiAqXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9UaWxlLmpzXCIpLlRpbGVTb3VyY2VFdmVudFxuICovXG5jbGFzcyBVcmxUaWxlIGV4dGVuZHMgVGlsZVNvdXJjZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgSW1hZ2UgdGlsZSBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKHtcbiAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICBjYWNoZVNpemU6IG9wdGlvbnMuY2FjaGVTaXplLFxuICAgICAgb3BhcXVlOiBvcHRpb25zLm9wYXF1ZSxcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgdGlsZUdyaWQ6IG9wdGlvbnMudGlsZUdyaWQsXG4gICAgICB0aWxlUGl4ZWxSYXRpbzogb3B0aW9ucy50aWxlUGl4ZWxSYXRpbyxcbiAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYLFxuICAgICAgdHJhbnNpdGlvbjogb3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgaW50ZXJwb2xhdGU6IG9wdGlvbnMuaW50ZXJwb2xhdGUsXG4gICAgICBrZXk6IG9wdGlvbnMua2V5LFxuICAgICAgYXR0cmlidXRpb25zQ29sbGFwc2libGU6IG9wdGlvbnMuYXR0cmlidXRpb25zQ29sbGFwc2libGUsXG4gICAgICB6RGlyZWN0aW9uOiBvcHRpb25zLnpEaXJlY3Rpb24sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZ2VuZXJhdGVUaWxlVXJsRnVuY3Rpb25fID1cbiAgICAgIHRoaXMudGlsZVVybEZ1bmN0aW9uID09PSBVcmxUaWxlLnByb3RvdHlwZS50aWxlVXJsRnVuY3Rpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbiA9IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvbjtcblxuICAgIGlmIChvcHRpb25zLnRpbGVVcmxGdW5jdGlvbikge1xuICAgICAgdGhpcy50aWxlVXJsRnVuY3Rpb24gPSBvcHRpb25zLnRpbGVVcmxGdW5jdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUgeyFBcnJheTxzdHJpbmc+fG51bGx9XG4gICAgICovXG4gICAgdGhpcy51cmxzID0gbnVsbDtcblxuICAgIGlmIChvcHRpb25zLnVybHMpIHtcbiAgICAgIHRoaXMuc2V0VXJscyhvcHRpb25zLnVybHMpO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy51cmwpIHtcbiAgICAgIHRoaXMuc2V0VXJsKG9wdGlvbnMudXJsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gICAgICovXG4gICAgdGhpcy50aWxlTG9hZGluZ0tleXNfID0ge307XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSB0aWxlIGxvYWQgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFRpbGVMb2FkRnVuY3Rpb25cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VGlsZUxvYWRGdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50aWxlTG9hZEZ1bmN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdGlsZSBVUkwgZnVuY3Rpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5VcmxGdW5jdGlvbn0gVGlsZVVybEZ1bmN0aW9uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRpbGVVcmxGdW5jdGlvbigpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLnRpbGVVcmxGdW5jdGlvbiA9PT0gdGhpcy50aWxlVXJsRnVuY3Rpb25cbiAgICAgID8gdGhpcy50aWxlVXJsRnVuY3Rpb24uYmluZCh0aGlzKVxuICAgICAgOiB0aGlzLnRpbGVVcmxGdW5jdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIFVSTHMgdXNlZCBmb3IgdGhpcyBzb3VyY2UuXG4gICAqIFdoZW4gYSB0aWxlVXJsRnVuY3Rpb24gaXMgdXNlZCBpbnN0ZWFkIG9mIHVybCBvciB1cmxzLFxuICAgKiBudWxsIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqIEByZXR1cm4geyFBcnJheTxzdHJpbmc+fG51bGx9IFVSTHMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFVybHMoKSB7XG4gICAgcmV0dXJuIHRoaXMudXJscztcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGlsZSBjaGFuZ2UgZXZlbnRzLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0fSBldmVudCBFdmVudC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgaGFuZGxlVGlsZUNoYW5nZShldmVudCkge1xuICAgIGNvbnN0IHRpbGUgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL1RpbGUuanNcIikuZGVmYXVsdH0gKi8gKGV2ZW50LnRhcmdldCk7XG4gICAgY29uc3QgdWlkID0gZ2V0VWlkKHRpbGUpO1xuICAgIGNvbnN0IHRpbGVTdGF0ZSA9IHRpbGUuZ2V0U3RhdGUoKTtcbiAgICBsZXQgdHlwZTtcbiAgICBpZiAodGlsZVN0YXRlID09IFRpbGVTdGF0ZS5MT0FESU5HKSB7XG4gICAgICB0aGlzLnRpbGVMb2FkaW5nS2V5c19bdWlkXSA9IHRydWU7XG4gICAgICB0eXBlID0gVGlsZUV2ZW50VHlwZS5USUxFTE9BRFNUQVJUO1xuICAgIH0gZWxzZSBpZiAodWlkIGluIHRoaXMudGlsZUxvYWRpbmdLZXlzXykge1xuICAgICAgZGVsZXRlIHRoaXMudGlsZUxvYWRpbmdLZXlzX1t1aWRdO1xuICAgICAgdHlwZSA9XG4gICAgICAgIHRpbGVTdGF0ZSA9PSBUaWxlU3RhdGUuRVJST1JcbiAgICAgICAgICA/IFRpbGVFdmVudFR5cGUuVElMRUxPQURFUlJPUlxuICAgICAgICAgIDogdGlsZVN0YXRlID09IFRpbGVTdGF0ZS5MT0FERURcbiAgICAgICAgICA/IFRpbGVFdmVudFR5cGUuVElMRUxPQURFTkRcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFRpbGVTb3VyY2VFdmVudCh0eXBlLCB0aWxlKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdGlsZSBsb2FkIGZ1bmN0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IHRpbGVMb2FkRnVuY3Rpb24gVGlsZSBsb2FkIGZ1bmN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRUaWxlTG9hZEZ1bmN0aW9uKHRpbGVMb2FkRnVuY3Rpb24pIHtcbiAgICB0aGlzLnRpbGVDYWNoZS5jbGVhcigpO1xuICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbiA9IHRpbGVMb2FkRnVuY3Rpb247XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB0aWxlIFVSTCBmdW5jdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IHRpbGVVcmxGdW5jdGlvbiBUaWxlIFVSTCBmdW5jdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIE9wdGlvbmFsIG5ldyB0aWxlIGtleSBmb3IgdGhlIHNvdXJjZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0VGlsZVVybEZ1bmN0aW9uKHRpbGVVcmxGdW5jdGlvbiwga2V5KSB7XG4gICAgdGhpcy50aWxlVXJsRnVuY3Rpb24gPSB0aWxlVXJsRnVuY3Rpb247XG4gICAgdGhpcy50aWxlQ2FjaGUucHJ1bmVFeGNlcHROZXdlc3RaKCk7XG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLnNldEtleShrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNoYW5nZWQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBVUkwgdG8gdXNlIGZvciByZXF1ZXN0cy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBVUkwuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFVybCh1cmwpIHtcbiAgICBjb25zdCB1cmxzID0gZXhwYW5kVXJsKHVybCk7XG4gICAgdGhpcy51cmxzID0gdXJscztcbiAgICB0aGlzLnNldFVybHModXJscyk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBVUkxzIHRvIHVzZSBmb3IgcmVxdWVzdHMuXG4gICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gdXJscyBVUkxzLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRVcmxzKHVybHMpIHtcbiAgICB0aGlzLnVybHMgPSB1cmxzO1xuICAgIGNvbnN0IGtleSA9IHVybHMuam9pbignXFxuJyk7XG4gICAgaWYgKHRoaXMuZ2VuZXJhdGVUaWxlVXJsRnVuY3Rpb25fKSB7XG4gICAgICB0aGlzLnNldFRpbGVVcmxGdW5jdGlvbihjcmVhdGVGcm9tVGVtcGxhdGVzKHVybHMsIHRoaXMudGlsZUdyaWQpLCBrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldEtleShrZXkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFRpbGUgVVJMLlxuICAgKi9cbiAgdGlsZVVybEZ1bmN0aW9uKHRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbikge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogTWFya3MgYSB0aWxlIGNvb3JkIGFzIGJlaW5nIHVzZWQsIHdpdGhvdXQgdHJpZ2dlcmluZyBhIGxvYWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFRpbGUgY29vcmRpbmF0ZSB6LlxuICAgKiBAcGFyYW0ge251bWJlcn0geCBUaWxlIGNvb3JkaW5hdGUgeC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGlsZSBjb29yZGluYXRlIHkuXG4gICAqL1xuICB1c2VUaWxlKHosIHgsIHkpIHtcbiAgICBjb25zdCB0aWxlQ29vcmRLZXkgPSBnZXRLZXlaWFkoeiwgeCwgeSk7XG4gICAgaWYgKHRoaXMudGlsZUNhY2hlLmNvbnRhaW5zS2V5KHRpbGVDb29yZEtleSkpIHtcbiAgICAgIHRoaXMudGlsZUNhY2hlLmdldCh0aWxlQ29vcmRLZXkpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBVcmxUaWxlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9UaWxlRXZlbnRUeXBlXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiBhIHRpbGUgc3RhcnRzIGxvYWRpbmcuXG4gICAqIEBldmVudCBtb2R1bGU6b2wvc291cmNlL1RpbGUuVGlsZVNvdXJjZUV2ZW50I3RpbGVsb2Fkc3RhcnRcbiAgICogQGFwaVxuICAgKi9cbiAgVElMRUxPQURTVEFSVDogJ3RpbGVsb2Fkc3RhcnQnLFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgd2hlbiBhIHRpbGUgZmluaXNoZXMgbG9hZGluZywgZWl0aGVyIHdoZW4gaXRzIGRhdGEgaXMgbG9hZGVkLFxuICAgKiBvciB3aGVuIGxvYWRpbmcgd2FzIGFib3J0ZWQgYmVjYXVzZSB0aGUgdGlsZSBpcyBubyBsb25nZXIgbmVlZGVkLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9UaWxlLlRpbGVTb3VyY2VFdmVudCN0aWxlbG9hZGVuZFxuICAgKiBAYXBpXG4gICAqL1xuICBUSUxFTE9BREVORDogJ3RpbGVsb2FkZW5kJyxcblxuICAvKipcbiAgICogVHJpZ2dlcmVkIGlmIHRpbGUgbG9hZGluZyByZXN1bHRzIGluIGFuIGVycm9yLiBOb3RlIHRoYXQgdGhpcyBpcyBub3QgdGhlXG4gICAqIHJpZ2h0IHBsYWNlIHRvIHJlLWZldGNoIHRpbGVzLiBTZWUge0BsaW5rIG1vZHVsZTpvbC9JbWFnZVRpbGV+SW1hZ2VUaWxlI2xvYWR9XG4gICAqIGZvciBkZXRhaWxzLlxuICAgKiBAZXZlbnQgbW9kdWxlOm9sL3NvdXJjZS9UaWxlLlRpbGVTb3VyY2VFdmVudCN0aWxlbG9hZGVycm9yXG4gICAqIEBhcGlcbiAgICovXG4gIFRJTEVMT0FERVJST1I6ICd0aWxlbG9hZGVycm9yJyxcbn07XG5cbi8qKlxuICogQHR5cGVkZWYgeyd0aWxlbG9hZHN0YXJ0J3wndGlsZWxvYWRlbmQnfCd0aWxlbG9hZGVycm9yJ30gVGlsZVNvdXJjZUV2ZW50VHlwZXNcbiAqL1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1ZlY3RvclRpbGVcbiAqL1xuaW1wb3J0IFRpbGUgZnJvbSAnLi9UaWxlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi9UaWxlU3RhdGUuanMnO1xuXG5jbGFzcyBWZWN0b3JUaWxlIGV4dGVuZHMgVGlsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL1RpbGVTdGF0ZS5qc1wiKS5kZWZhdWx0fSBzdGF0ZSBTdGF0ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHNyYyBEYXRhIHNvdXJjZSB1cmwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9mb3JtYXQvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fSBmb3JtYXQgRmVhdHVyZSBmb3JtYXQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gdGlsZUxvYWRGdW5jdGlvbiBUaWxlIGxvYWQgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlLmpzXCIpLk9wdGlvbnN9IFtvcHRpb25zXSBUaWxlIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0aWxlQ29vcmQsIHN0YXRlLCBzcmMsIGZvcm1hdCwgdGlsZUxvYWRGdW5jdGlvbiwgb3B0aW9ucykge1xuICAgIHN1cGVyKHRpbGVDb29yZCwgc3RhdGUsIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogRXh0ZW50IG9mIHRoaXMgdGlsZTsgc2V0IGJ5IHRoZSBzb3VyY2UuXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5mb3JtYXRfID0gZm9ybWF0O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+fVxuICAgICAqL1xuICAgIHRoaXMuZmVhdHVyZXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vZmVhdHVyZWxvYWRlci5qc1wiKS5GZWF0dXJlTG9hZGVyfVxuICAgICAqL1xuICAgIHRoaXMubG9hZGVyXztcblxuICAgIC8qKlxuICAgICAqIEZlYXR1cmUgcHJvamVjdGlvbiBvZiB0aGlzIHRpbGU7IHNldCBieSB0aGUgc291cmNlLlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMucHJvamVjdGlvbiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHV0aW9uIG9mIHRoaXMgdGlsZTsgc2V0IGJ5IHRoZSBzb3VyY2UuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1RpbGUuanNcIikuTG9hZEZ1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbl8gPSB0aWxlTG9hZEZ1bmN0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudXJsXyA9IHNyYztcblxuICAgIHRoaXMua2V5ID0gc3JjO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmVhdHVyZSBmb3JtYXQgYXNzaWduZWQgZm9yIHJlYWRpbmcgdGhpcyB0aWxlJ3MgZmVhdHVyZXMuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gRmVhdHVyZSBmb3JtYXQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEZvcm1hdCgpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmVhdHVyZXMgZm9yIHRoaXMgdGlsZS4gR2VvbWV0cmllcyB3aWxsIGJlIGluIHRoZSB2aWV3IHByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5GZWF0dXJlTGlrZT59IEZlYXR1cmVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRGZWF0dXJlcygpIHtcbiAgICByZXR1cm4gdGhpcy5mZWF0dXJlc187XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBub3QgeWV0IGxvYWRlZCBVUkkuXG4gICAqL1xuICBsb2FkKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKFRpbGVTdGF0ZS5MT0FESU5HKTtcbiAgICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbl8odGhpcywgdGhpcy51cmxfKTtcbiAgICAgIGlmICh0aGlzLmxvYWRlcl8pIHtcbiAgICAgICAgdGhpcy5sb2FkZXJfKHRoaXMuZXh0ZW50LCB0aGlzLnJlc29sdXRpb24sIHRoaXMucHJvamVjdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIHN1Y2Nlc3NmdWwgdGlsZSBsb2FkLlxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gZmVhdHVyZXMgVGhlIGxvYWRlZCBmZWF0dXJlcy5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBkYXRhUHJvamVjdGlvbiBEYXRhIHByb2plY3Rpb24uXG4gICAqL1xuICBvbkxvYWQoZmVhdHVyZXMsIGRhdGFQcm9qZWN0aW9uKSB7XG4gICAgdGhpcy5zZXRGZWF0dXJlcyhmZWF0dXJlcyk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlciBmb3IgdGlsZSBsb2FkIGVycm9ycy5cbiAgICovXG4gIG9uRXJyb3IoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZShUaWxlU3RhdGUuRVJST1IpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIGZvciB1c2UgaW4gYW4ge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yVGlsZX5WZWN0b3JUaWxlfSdzIGB0aWxlTG9hZEZ1bmN0aW9uYC5cbiAgICogU2V0cyB0aGUgZmVhdHVyZXMgZm9yIHRoZSB0aWxlLlxuICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gZmVhdHVyZXMgRmVhdHVyZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEZlYXR1cmVzKGZlYXR1cmVzKSB7XG4gICAgdGhpcy5mZWF0dXJlc18gPSBmZWF0dXJlcztcbiAgICB0aGlzLnNldFN0YXRlKFRpbGVTdGF0ZS5MT0FERUQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZmVhdHVyZSBsb2FkZXIgZm9yIHJlYWRpbmcgdGhpcyB0aWxlJ3MgZmVhdHVyZXMuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9mZWF0dXJlbG9hZGVyLmpzXCIpLkZlYXR1cmVMb2FkZXJ9IGxvYWRlciBGZWF0dXJlIGxvYWRlci5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TG9hZGVyKGxvYWRlcikge1xuICAgIHRoaXMubG9hZGVyXyA9IGxvYWRlcjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JUaWxlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL1ZlY3RvclJlbmRlclRpbGVcbiAqL1xuaW1wb3J0IFRpbGUgZnJvbSAnLi9UaWxlLmpzJztcbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJELCByZWxlYXNlQ2FudmFzfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi91dGlsLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBSZXBsYXlTdGF0ZVxuICogQHByb3BlcnR5IHtib29sZWFufSBkaXJ0eSBEaXJ0eS5cbiAqIEBwcm9wZXJ0eSB7bnVsbHxpbXBvcnQoXCIuL3JlbmRlci5qc1wiKS5PcmRlckZ1bmN0aW9ufSByZW5kZXJlZFJlbmRlck9yZGVyIFJlbmRlcmVkUmVuZGVyT3JkZXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVuZGVyZWRUaWxlUmV2aXNpb24gUmVuZGVyZWRUaWxlUmV2aXNpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVuZGVyZWRSZXNvbHV0aW9uIFJlbmRlcmVkUmVzb2x1dGlvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZW5kZXJlZFJldmlzaW9uIFJlbmRlcmVkUmV2aXNpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVuZGVyZWRUaWxlUmVzb2x1dGlvbiBSZW5kZXJlZFRpbGVSZXNvbHV0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlbmRlcmVkVGlsZVogUmVuZGVyZWRUaWxlWi5cbiAqL1xuXG4vKipcbiAqIEB0eXBlIHtBcnJheTxIVE1MQ2FudmFzRWxlbWVudD59XG4gKi9cbmNvbnN0IGNhbnZhc1Bvb2wgPSBbXTtcblxuY2xhc3MgVmVjdG9yUmVuZGVyVGlsZSBleHRlbmRzIFRpbGUge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UaWxlU3RhdGUuanNcIikuZGVmYXVsdH0gc3RhdGUgU3RhdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB1cmxUaWxlQ29vcmQgV3JhcHBlZCB0aWxlIGNvb3JkaW5hdGUgZm9yIHNvdXJjZSB1cmxzLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFZlY3RvclJlbmRlclRpbGUpOkFycmF5PGltcG9ydChcIi4vVmVjdG9yVGlsZVwiKS5kZWZhdWx0Pn0gZ2V0U291cmNlVGlsZXMgRnVuY3Rpb25cbiAgICogdG8gZ2V0IHNvdXJjZSB0aWxlcyBmb3IgdGhpcyB0aWxlLlxuICAgKi9cbiAgY29uc3RydWN0b3IodGlsZUNvb3JkLCBzdGF0ZSwgdXJsVGlsZUNvb3JkLCBnZXRTb3VyY2VUaWxlcykge1xuICAgIHN1cGVyKHRpbGVDb29yZCwgc3RhdGUsIHt0cmFuc2l0aW9uOiAwfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEPn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHRfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRvciBncm91cHMgYnkgbGF5ZXIgdWlkLiBFbnRyaWVzIGFyZSByZWFkL3dyaXR0ZW4gYnkgdGhlIHJlbmRlcmVyLlxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBBcnJheTxpbXBvcnQoXCIuL3JlbmRlci9jYW52YXMvRXhlY3V0b3JHcm91cC5qc1wiKS5kZWZhdWx0Pj59XG4gICAgICovXG4gICAgdGhpcy5leGVjdXRvckdyb3VwcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogRXhlY3V0b3IgZ3JvdXBzIGZvciBkZWNsdXR0ZXJpbmcsIGJ5IGxheWVyIHVpZC4gRW50cmllcyBhcmUgcmVhZC93cml0dGVuIGJ5IHRoZSByZW5kZXJlci5cbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgQXJyYXk8aW1wb3J0KFwiLi9yZW5kZXIvY2FudmFzL0V4ZWN1dG9yR3JvdXAuanNcIikuZGVmYXVsdD4+fVxuICAgICAqL1xuICAgIHRoaXMuZGVjbHV0dGVyRXhlY3V0b3JHcm91cHMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBsb2FkaW5nIHNvdXJjZSB0aWxlcy4gUmVhZC93cml0dGVuIGJ5IHRoZSBzb3VyY2UuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxvYWRpbmdTb3VyY2VUaWxlcyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0PG51bWJlciwgSW1hZ2VEYXRhPn1cbiAgICAgKi9cbiAgICB0aGlzLmhpdERldGVjdGlvbkltYWdlRGF0YSA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIFJlcGxheVN0YXRlPn1cbiAgICAgKi9cbiAgICB0aGlzLnJlcGxheVN0YXRlXyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0FycmF5PGltcG9ydChcIi4vVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZVRpbGVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gICAgICovXG4gICAgdGhpcy5lcnJvclRpbGVLZXlzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud2FudGVkUmVzb2x1dGlvbjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHshZnVuY3Rpb24oKTpBcnJheTxpbXBvcnQoXCIuL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5nZXRTb3VyY2VUaWxlcyA9IGdldFNvdXJjZVRpbGVzLmJpbmQodW5kZWZpbmVkLCB0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9XG4gICAgICovXG4gICAgdGhpcy53cmFwcGVkVGlsZUNvb3JkID0gdXJsVGlsZUNvb3JkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAgICogQHJldHVybiB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAqL1xuICBnZXRDb250ZXh0KGxheWVyKSB7XG4gICAgY29uc3Qga2V5ID0gZ2V0VWlkKGxheWVyKTtcbiAgICBpZiAoIShrZXkgaW4gdGhpcy5jb250ZXh0XykpIHtcbiAgICAgIHRoaXMuY29udGV4dF9ba2V5XSA9IGNyZWF0ZUNhbnZhc0NvbnRleHQyRCgxLCAxLCBjYW52YXNQb29sKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dF9ba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vbGF5ZXIvTGF5ZXIuanNcIikuZGVmYXVsdH0gbGF5ZXIgTGF5ZXIuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRpbGUgaGFzIGEgcmVuZGVyaW5nIGNvbnRleHQgZm9yIHRoZSBnaXZlbiBsYXllci5cbiAgICovXG4gIGhhc0NvbnRleHQobGF5ZXIpIHtcbiAgICByZXR1cm4gZ2V0VWlkKGxheWVyKSBpbiB0aGlzLmNvbnRleHRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgQ2FudmFzIGZvciB0aGlzIHRpbGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9sYXllci9MYXllci5qc1wiKS5kZWZhdWx0fSBsYXllciBMYXllci5cbiAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IENhbnZhcy5cbiAgICovXG4gIGdldEltYWdlKGxheWVyKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQ29udGV4dChsYXllcikgPyB0aGlzLmdldENvbnRleHQobGF5ZXIpLmNhbnZhcyA6IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2xheWVyL0xheWVyLmpzXCIpLmRlZmF1bHR9IGxheWVyIExheWVyLlxuICAgKiBAcmV0dXJuIHtSZXBsYXlTdGF0ZX0gVGhlIHJlcGxheSBzdGF0ZS5cbiAgICovXG4gIGdldFJlcGxheVN0YXRlKGxheWVyKSB7XG4gICAgY29uc3Qga2V5ID0gZ2V0VWlkKGxheWVyKTtcbiAgICBpZiAoIShrZXkgaW4gdGhpcy5yZXBsYXlTdGF0ZV8pKSB7XG4gICAgICB0aGlzLnJlcGxheVN0YXRlX1trZXldID0ge1xuICAgICAgICBkaXJ0eTogZmFsc2UsXG4gICAgICAgIHJlbmRlcmVkUmVuZGVyT3JkZXI6IG51bGwsXG4gICAgICAgIHJlbmRlcmVkUmVzb2x1dGlvbjogTmFOLFxuICAgICAgICByZW5kZXJlZFJldmlzaW9uOiAtMSxcbiAgICAgICAgcmVuZGVyZWRUaWxlUmVzb2x1dGlvbjogTmFOLFxuICAgICAgICByZW5kZXJlZFRpbGVSZXZpc2lvbjogLTEsXG4gICAgICAgIHJlbmRlcmVkVGlsZVo6IC0xLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVwbGF5U3RhdGVfW2tleV07XG4gIH1cblxuICAvKipcbiAgICogTG9hZCB0aGUgdGlsZS5cbiAgICovXG4gIGxvYWQoKSB7XG4gICAgdGhpcy5nZXRTb3VyY2VUaWxlcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBmcm9tIHRoZSBjYWNoZSBkdWUgdG8gZXhwaXJ5XG4gICAqL1xuICByZWxlYXNlKCkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuY29udGV4dF8pIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRfW2tleV07XG4gICAgICByZWxlYXNlQ2FudmFzKGNvbnRleHQpO1xuICAgICAgY2FudmFzUG9vbC5wdXNoKGNvbnRleHQuY2FudmFzKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmNvbnRleHRfW2tleV07XG4gICAgfVxuICAgIHN1cGVyLnJlbGVhc2UoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JSZW5kZXJUaWxlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL2ZlYXR1cmVsb2FkZXJcbiAqL1xuaW1wb3J0IHtWT0lEfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG5cbi8qKlxuICpcbiAqIEB0eXBlIHtib29sZWFufVxuICogQHByaXZhdGVcbiAqL1xubGV0IHdpdGhDcmVkZW50aWFscyA9IGZhbHNlO1xuXG4vKipcbiAqIHtAbGluayBtb2R1bGU6b2wvc291cmNlL1ZlY3Rvcn5WZWN0b3JTb3VyY2V9IHNvdXJjZXMgdXNlIGEgZnVuY3Rpb24gb2YgdGhpcyB0eXBlIHRvXG4gKiBsb2FkIGZlYXR1cmVzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgdXAgdG8gNSBhcmd1bWVudHMuIFRoZXNlIGFyZSBhbiB7QGxpbmsgbW9kdWxlOm9sL2V4dGVudH5FeHRlbnR9IHJlcHJlc2VudGluZ1xuICogdGhlIGFyZWEgdG8gYmUgbG9hZGVkLCBhIGB7bnVtYmVyfWAgcmVwcmVzZW50aW5nIHRoZSByZXNvbHV0aW9uIChtYXAgdW5pdHMgcGVyIHBpeGVsKSwgYW5cbiAqIHtAbGluayBtb2R1bGU6b2wvcHJvai9Qcm9qZWN0aW9uflByb2plY3Rpb259IGZvciB0aGUgcHJvamVjdGlvbiwgYW4gb3B0aW9uYWwgc3VjY2VzcyBjYWxsYmFjayB0aGF0IHNob3VsZCBnZXRcbiAqIHRoZSBsb2FkZWQgZmVhdHVyZXMgcGFzc2VkIGFzIGFuIGFyZ3VtZW50IGFuZCBhbiBvcHRpb25hbCBmYWlsdXJlIGNhbGxiYWNrIHdpdGggbm8gYXJndW1lbnRzLiBJZlxuICogdGhlIGNhbGxiYWNrcyBhcmUgbm90IHVzZWQsIHRoZSBjb3JyZXNwb25kaW5nIHZlY3RvciBzb3VyY2Ugd2lsbCBub3QgZmlyZSBgJ2ZlYXR1cmVzbG9hZGVuZCdgIGFuZFxuICogYCdmZWF0dXJlc2xvYWRlcnJvcidgIGV2ZW50cy4gYHRoaXNgIHdpdGhpbiB0aGUgZnVuY3Rpb24gaXMgYm91bmQgdG8gdGhlXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlfSBpdCdzIGNhbGxlZCBmcm9tLlxuICpcbiAqIFRoZSBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgbG9hZGluZyB0aGUgZmVhdHVyZXMgYW5kIGFkZGluZyB0aGVtIHRvIHRoZVxuICogc291cmNlLlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKHRoaXM6KGltcG9ydChcIi4vc291cmNlL1ZlY3RvclwiKS5kZWZhdWx0fGltcG9ydChcIi4vVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0KSxcbiAqICAgICAgICAgICBpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnQsXG4gKiAgICAgICAgICAgbnVtYmVyLFxuICogICAgICAgICAgIGltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHQsXG4gKiAgICAgICAgICAgZnVuY3Rpb24oQXJyYXk8aW1wb3J0KFwiLi9GZWF0dXJlLmpzXCIpLmRlZmF1bHQ+KTogdm9pZD0sXG4gKiAgICAgICAgICAgZnVuY3Rpb24oKTogdm9pZD0pOiB2b2lkfSBGZWF0dXJlTG9hZGVyXG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9WZWN0b3J+VmVjdG9yU291cmNlfSBzb3VyY2VzIHVzZSBhIGZ1bmN0aW9uIG9mIHRoaXMgdHlwZSB0b1xuICogZ2V0IHRoZSB1cmwgdG8gbG9hZCBmZWF0dXJlcyBmcm9tLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgYW4ge0BsaW5rIG1vZHVsZTpvbC9leHRlbnR+RXh0ZW50fSByZXByZXNlbnRpbmcgdGhlIGFyZWFcbiAqIHRvIGJlIGxvYWRlZCwgYSBge251bWJlcn1gIHJlcHJlc2VudGluZyB0aGUgcmVzb2x1dGlvbiAobWFwIHVuaXRzIHBlciBwaXhlbClcbiAqIGFuZCBhbiB7QGxpbmsgbW9kdWxlOm9sL3Byb2ovUHJvamVjdGlvbn5Qcm9qZWN0aW9ufSBmb3IgdGhlIHByb2plY3Rpb24gIGFzXG4gKiBhcmd1bWVudHMgYW5kIHJldHVybnMgYSBge3N0cmluZ31gIHJlcHJlc2VudGluZyB0aGUgVVJMLlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudCwgbnVtYmVyLCBpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0KTogc3RyaW5nfSBGZWF0dXJlVXJsRnVuY3Rpb25cbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfEZlYXR1cmVVcmxGdW5jdGlvbn0gdXJsIEZlYXR1cmUgVVJMIHNlcnZpY2UuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZm9ybWF0L0ZlYXR1cmUuanNcIikuZGVmYXVsdH0gZm9ybWF0IEZlYXR1cmUgZm9ybWF0LlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKEFycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0PiwgaW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdCk6IHZvaWR9IHN1Y2Nlc3MgU3VjY2Vzc1xuICogICAgICBGdW5jdGlvbiBjYWxsZWQgd2l0aCB0aGUgbG9hZGVkIGZlYXR1cmVzIGFuZCBvcHRpb25hbGx5IHdpdGggdGhlIGRhdGEgcHJvamVjdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogdm9pZH0gZmFpbHVyZSBGYWlsdXJlXG4gKiAgICAgIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGxvYWRpbmcgZmFpbGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEZlYXR1cmVzWGhyKFxuICB1cmwsXG4gIGZvcm1hdCxcbiAgZXh0ZW50LFxuICByZXNvbHV0aW9uLFxuICBwcm9qZWN0aW9uLFxuICBzdWNjZXNzLFxuICBmYWlsdXJlXG4pIHtcbiAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIHhoci5vcGVuKFxuICAgICdHRVQnLFxuICAgIHR5cGVvZiB1cmwgPT09ICdmdW5jdGlvbicgPyB1cmwoZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSA6IHVybCxcbiAgICB0cnVlXG4gICk7XG4gIGlmIChmb3JtYXQuZ2V0VHlwZSgpID09ICdhcnJheWJ1ZmZlcicpIHtcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgfVxuICB4aHIud2l0aENyZWRlbnRpYWxzID0gd2l0aENyZWRlbnRpYWxzO1xuICAvKipcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB4aHIub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgLy8gc3RhdHVzIHdpbGwgYmUgMCBmb3IgZmlsZTovLyB1cmxzXG4gICAgaWYgKCF4aHIuc3RhdHVzIHx8ICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSkge1xuICAgICAgY29uc3QgdHlwZSA9IGZvcm1hdC5nZXRUeXBlKCk7XG4gICAgICAvKiogQHR5cGUge0RvY3VtZW50fE5vZGV8T2JqZWN0fHN0cmluZ3x1bmRlZmluZWR9ICovXG4gICAgICBsZXQgc291cmNlO1xuICAgICAgaWYgKHR5cGUgPT0gJ2pzb24nIHx8IHR5cGUgPT0gJ3RleHQnKSB7XG4gICAgICAgIHNvdXJjZSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ3htbCcpIHtcbiAgICAgICAgc291cmNlID0geGhyLnJlc3BvbnNlWE1MO1xuICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgIHNvdXJjZSA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoXG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUZXh0LFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL3htbCdcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ2FycmF5YnVmZmVyJykge1xuICAgICAgICBzb3VyY2UgPSAvKiogQHR5cGUge0FycmF5QnVmZmVyfSAqLyAoeGhyLnJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgc3VjY2VzcyhcbiAgICAgICAgICAvKiogQHR5cGUge0FycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gKi9cbiAgICAgICAgICAoXG4gICAgICAgICAgICBmb3JtYXQucmVhZEZlYXR1cmVzKHNvdXJjZSwge1xuICAgICAgICAgICAgICBleHRlbnQ6IGV4dGVudCxcbiAgICAgICAgICAgICAgZmVhdHVyZVByb2plY3Rpb246IHByb2plY3Rpb24sXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICksXG4gICAgICAgICAgZm9ybWF0LnJlYWRQcm9qZWN0aW9uKHNvdXJjZSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZhaWx1cmUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZmFpbHVyZSgpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB4aHIub25lcnJvciA9IGZhaWx1cmU7XG4gIHhoci5zZW5kKCk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGFuIFhIUiBmZWF0dXJlIGxvYWRlciBmb3IgYSBgdXJsYCBhbmQgYGZvcm1hdGAuIFRoZSBmZWF0dXJlIGxvYWRlclxuICogbG9hZHMgZmVhdHVyZXMgKHdpdGggWEhSKSwgcGFyc2VzIHRoZSBmZWF0dXJlcywgYW5kIGFkZHMgdGhlbSB0byB0aGVcbiAqIHZlY3RvciBzb3VyY2UuXG4gKiBAcGFyYW0ge3N0cmluZ3xGZWF0dXJlVXJsRnVuY3Rpb259IHVybCBGZWF0dXJlIFVSTCBzZXJ2aWNlLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IGZvcm1hdCBGZWF0dXJlIGZvcm1hdC5cbiAqIEByZXR1cm4ge0ZlYXR1cmVMb2FkZXJ9IFRoZSBmZWF0dXJlIGxvYWRlci5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHhocih1cmwsIGZvcm1hdCkge1xuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKEFycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pik6IHZvaWR9IFtzdWNjZXNzXSBTdWNjZXNzXG4gICAqICAgICAgRnVuY3Rpb24gY2FsbGVkIHdoZW4gbG9hZGluZyBzdWNjZWVkZWQuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogdm9pZH0gW2ZhaWx1cmVdIEZhaWx1cmVcbiAgICogICAgICBGdW5jdGlvbiBjYWxsZWQgd2hlbiBsb2FkaW5nIGZhaWxlZC5cbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiAoZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uLCBzdWNjZXNzLCBmYWlsdXJlKSB7XG4gICAgY29uc3Qgc291cmNlID0gLyoqIEB0eXBlIHtpbXBvcnQoXCIuL3NvdXJjZS9WZWN0b3JcIikuZGVmYXVsdH0gKi8gKHRoaXMpO1xuICAgIGxvYWRGZWF0dXJlc1hocihcbiAgICAgIHVybCxcbiAgICAgIGZvcm1hdCxcbiAgICAgIGV4dGVudCxcbiAgICAgIHJlc29sdXRpb24sXG4gICAgICBwcm9qZWN0aW9uLFxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge0FycmF5PGltcG9ydChcIi4vRmVhdHVyZS5qc1wiKS5kZWZhdWx0Pn0gZmVhdHVyZXMgVGhlIGxvYWRlZCBmZWF0dXJlcy5cbiAgICAgICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gZGF0YVByb2plY3Rpb24gRGF0YVxuICAgICAgICogcHJvamVjdGlvbi5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gKGZlYXR1cmVzLCBkYXRhUHJvamVjdGlvbikge1xuICAgICAgICBzb3VyY2UuYWRkRmVhdHVyZXMoZmVhdHVyZXMpO1xuICAgICAgICBpZiAoc3VjY2VzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc3VjY2VzcyhmZWF0dXJlcyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvKiBGSVhNRSBoYW5kbGUgZXJyb3IgKi8gZmFpbHVyZSA/IGZhaWx1cmUgOiBWT0lEXG4gICAgKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBTZXR0ZXIgZm9yIHRoZSB3aXRoQ3JlZGVudGlhbHMgY29uZmlndXJhdGlvbiBmb3IgdGhlIFhIUi5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHhocldpdGhDcmVkZW50aWFscyBUaGUgdmFsdWUgb2Ygd2l0aENyZWRlbnRpYWxzIHRvIHNldC5cbiAqIENvbXBhcmUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0L1xuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0V2l0aENyZWRlbnRpYWxzKHhocldpdGhDcmVkZW50aWFscykge1xuICB3aXRoQ3JlZGVudGlhbHMgPSB4aHJXaXRoQ3JlZGVudGlhbHM7XG59XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc291cmNlL1ZlY3RvclRpbGVcbiAqL1xuXG5pbXBvcnQgRXZlbnRUeXBlIGZyb20gJy4uL2V2ZW50cy9FdmVudFR5cGUuanMnO1xuaW1wb3J0IFRpbGUgZnJvbSAnLi4vVmVjdG9yVGlsZS5qcyc7XG5pbXBvcnQgVGlsZUNhY2hlIGZyb20gJy4uL1RpbGVDYWNoZS5qcyc7XG5pbXBvcnQgVGlsZUdyaWQgZnJvbSAnLi4vdGlsZWdyaWQvVGlsZUdyaWQuanMnO1xuaW1wb3J0IFRpbGVTdGF0ZSBmcm9tICcuLi9UaWxlU3RhdGUuanMnO1xuaW1wb3J0IFVybFRpbGUgZnJvbSAnLi9VcmxUaWxlLmpzJztcbmltcG9ydCBWZWN0b3JSZW5kZXJUaWxlIGZyb20gJy4uL1ZlY3RvclJlbmRlclRpbGUuanMnO1xuaW1wb3J0IHtERUZBVUxUX01BWF9aT09NfSBmcm9tICcuLi90aWxlZ3JpZC9jb21tb24uanMnO1xuaW1wb3J0IHtcbiAgYnVmZmVyIGFzIGJ1ZmZlckV4dGVudCxcbiAgZ2V0SW50ZXJzZWN0aW9uLFxuICBpbnRlcnNlY3RzLFxufSBmcm9tICcuLi9leHRlbnQuanMnO1xuaW1wb3J0IHtjcmVhdGVYWVosIGV4dGVudEZyb21Qcm9qZWN0aW9ufSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG5pbXBvcnQge2Zyb21LZXksIGdldENhY2hlS2V5Rm9yVGlsZUtleSwgZ2V0S2V5WlhZfSBmcm9tICcuLi90aWxlY29vcmQuanMnO1xuaW1wb3J0IHtpc0VtcHR5fSBmcm9tICcuLi9vYmouanMnO1xuaW1wb3J0IHtsb2FkRmVhdHVyZXNYaHJ9IGZyb20gJy4uL2ZlYXR1cmVsb2FkZXIuanMnO1xuaW1wb3J0IHt0b1NpemV9IGZyb20gJy4uL3NpemUuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuQXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXSBBdHRyaWJ1dGlvbnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZT10cnVlXSBBdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemVdIEluaXRpYWwgdGlsZSBjYWNoZSBzaXplLiBXaWxsIGF1dG8tZ3JvdyB0byBob2xkIGF0IGxlYXN0IHR3aWNlIHRoZSBudW1iZXIgb2YgdGlsZXMgaW4gdGhlIHZpZXdwb3J0LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbZXh0ZW50XSBFeHRlbnQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR9IFtmb3JtYXRdIEZlYXR1cmUgZm9ybWF0IGZvciB0aWxlcy4gVXNlZCBhbmQgcmVxdWlyZWQgYnkgdGhlIGRlZmF1bHQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvdmVybGFwcz10cnVlXSBUaGlzIHNvdXJjZSBtYXkgaGF2ZSBvdmVybGFwcGluZyBnZW9tZXRyaWVzLiBTZXR0aW5nIHRoaXNcbiAqIHRvIGBmYWxzZWAgKGUuZy4gZm9yIHNvdXJjZXMgd2l0aCBwb2x5Z29ucyB0aGF0IHJlcHJlc2VudCBhZG1pbmlzdHJhdGl2ZVxuICogYm91bmRhcmllcyBvciBUb3BvSlNPTiBzb3VyY2VzKSBhbGxvd3MgdGhlIHJlbmRlcmVyIHRvIG9wdGltaXNlIGZpbGwgYW5kXG4gKiBzdHJva2Ugb3BlcmF0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb249J0VQU0c6Mzg1NyddIFByb2plY3Rpb24gb2YgdGhlIHRpbGUgZ3JpZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuU3RhdGV9IFtzdGF0ZV0gU291cmNlIHN0YXRlLlxuICogQHByb3BlcnR5IHt0eXBlb2YgaW1wb3J0KFwiLi4vVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSBbdGlsZUNsYXNzXSBDbGFzcyB1c2VkIHRvIGluc3RhbnRpYXRlIGltYWdlIHRpbGVzLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL1ZlY3RvclRpbGV+VmVjdG9yVGlsZX0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFpvb209MjJdIE9wdGlvbmFsIG1heCB6b29tIGxldmVsLiBOb3QgdXNlZCBpZiBgdGlsZUdyaWRgIGlzIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tXSBPcHRpb25hbCBtaW4gem9vbSBsZXZlbC4gTm90IHVzZWQgaWYgYHRpbGVHcmlkYCBpcyBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplPTUxMl0gT3B0aW9uYWwgdGlsZSBzaXplLiBOb3QgdXNlZCBpZiBgdGlsZUdyaWRgIGlzIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhSZXNvbHV0aW9uXSBPcHRpb25hbCB0aWxlIGdyaWQgcmVzb2x1dGlvbiBhdCBsZXZlbCB6ZXJvLiBOb3QgdXNlZCBpZiBgdGlsZUdyaWRgIGlzIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBbdGlsZUdyaWRdIFRpbGUgZ3JpZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFt0aWxlTG9hZEZ1bmN0aW9uXVxuICogT3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9hZCBhIHRpbGUgZ2l2ZW4gYSBVUkwuIENvdWxkIGxvb2sgbGlrZSB0aGlzIGZvciBwYmYgdGlsZXM6XG4gKiBgYGBqc1xuICogZnVuY3Rpb24odGlsZSwgdXJsKSB7XG4gKiAgIHRpbGUuc2V0TG9hZGVyKGZ1bmN0aW9uKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikge1xuICogICAgIGZldGNoKHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICogICAgICAgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAqICAgICAgICAgY29uc3QgZm9ybWF0ID0gdGlsZS5nZXRGb3JtYXQoKSAvLyBvbC9mb3JtYXQvTVZUIGNvbmZpZ3VyZWQgYXMgc291cmNlIGZvcm1hdFxuICogICAgICAgICBjb25zdCBmZWF0dXJlcyA9IGZvcm1hdC5yZWFkRmVhdHVyZXMoZGF0YSwge1xuICogICAgICAgICAgIGV4dGVudDogZXh0ZW50LFxuICogICAgICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiBwcm9qZWN0aW9uXG4gKiAgICAgICAgIH0pO1xuICogICAgICAgICB0aWxlLnNldEZlYXR1cmVzKGZlYXR1cmVzKTtcbiAqICAgICAgIH0pO1xuICogICAgIH0pO1xuICogICB9KTtcbiAqIH1cbiAqIGBgYFxuICogSWYgeW91IGRvIG5vdCBuZWVkIGV4dGVudCwgcmVzb2x1dGlvbiBhbmQgcHJvamVjdGlvbiB0byBnZXQgdGhlIGZlYXR1cmVzIGZvciBhIHRpbGUgKGUuZy5cbiAqIGZvciBHZW9KU09OIHRpbGVzKSwgeW91ciBgdGlsZUxvYWRGdW5jdGlvbmAgZG9lcyBub3QgbmVlZCBhIGBzZXRMb2FkZXIoKWAgY2FsbC4gT25seSBtYWtlIHN1cmVcbiAqIHRvIGNhbGwgYHNldEZlYXR1cmVzKClgIG9uIHRoZSB0aWxlOlxuICogYGBganNcbiAqIGNvbnN0IGZvcm1hdCA9IG5ldyBHZW9KU09OKHtmZWF0dXJlUHJvamVjdGlvbjogbWFwLmdldFZpZXcoKS5nZXRQcm9qZWN0aW9uKCl9KTtcbiAqIGFzeW5jIGZ1bmN0aW9uIHRpbGVMb2FkRnVuY3Rpb24odGlsZSwgdXJsKSB7XG4gKiAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAqICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAqICAgdGlsZS5zZXRGZWF0dXJlcyhmb3JtYXQucmVhZEZlYXR1cmVzKGRhdGEpKTtcbiAqIH1cbiAqIGBgYFxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBbdGlsZVVybEZ1bmN0aW9uXSBPcHRpb25hbCBmdW5jdGlvbiB0byBnZXQgdGlsZSBVUkwgZ2l2ZW4gYSB0aWxlIGNvb3JkaW5hdGUgYW5kIHRoZSBwcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1cmxdIFVSTCB0ZW1wbGF0ZS4gTXVzdCBpbmNsdWRlIGB7eH1gLCBge3l9YCBvciBgey15fWAsIGFuZCBge3p9YCBwbGFjZWhvbGRlcnMuXG4gKiBBIGB7Py0/fWAgdGVtcGxhdGUgcGF0dGVybiwgZm9yIGV4YW1wbGUgYHN1YmRvbWFpbnthLWZ9LmRvbWFpbi5jb21gLCBtYXkgYmVcbiAqIHVzZWQgaW5zdGVhZCBvZiBkZWZpbmluZyBlYWNoIG9uZSBzZXBhcmF0ZWx5IGluIHRoZSBgdXJsc2Agb3B0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uXSBBIGR1cmF0aW9uIGZvciB0aWxlIG9wYWNpdHlcbiAqIHRyYW5zaXRpb25zIGluIG1pbGxpc2Vjb25kcy4gQSBkdXJhdGlvbiBvZiAwIGRpc2FibGVzIHRoZSBvcGFjaXR5IHRyYW5zaXRpb24uXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IFt1cmxzXSBBbiBhcnJheSBvZiBVUkwgdGVtcGxhdGVzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFg9dHJ1ZV0gV2hldGhlciB0byB3cmFwIHRoZSB3b3JsZCBob3Jpem9udGFsbHkuXG4gKiBXaGVuIHNldCB0byBgZmFsc2VgLCBvbmx5IG9uZSB3b3JsZFxuICogd2lsbCBiZSByZW5kZXJlZC4gV2hlbiBzZXQgdG8gYHRydWVgLCB0aWxlcyB3aWxsIGJlIHdyYXBwZWQgaG9yaXpvbnRhbGx5IHRvXG4gKiByZW5kZXIgbXVsdGlwbGUgd29ybGRzLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vYXJyYXkuanNcIikuTmVhcmVzdERpcmVjdGlvbkZ1bmN0aW9ufSBbekRpcmVjdGlvbj0xXVxuICogQ2hvb3NlIHdoZXRoZXIgdG8gdXNlIHRpbGVzIHdpdGggYSBoaWdoZXIgb3IgbG93ZXIgem9vbSBsZXZlbCB3aGVuIGJldHdlZW4gaW50ZWdlclxuICogem9vbSBsZXZlbHMuIFNlZSB7QGxpbmsgbW9kdWxlOm9sL3RpbGVncmlkL1RpbGVHcmlkflRpbGVHcmlkI2dldFpGb3JSZXNvbHV0aW9ufS5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIENsYXNzIGZvciBsYXllciBzb3VyY2VzIHByb3ZpZGluZyB2ZWN0b3IgZGF0YSBkaXZpZGVkIGludG8gYSB0aWxlIGdyaWQsIHRvIGJlXG4gKiB1c2VkIHdpdGgge0BsaW5rIG1vZHVsZTpvbC9sYXllci9WZWN0b3JUaWxlflZlY3RvclRpbGVMYXllcn0uIEFsdGhvdWdoIHRoaXMgc291cmNlIHJlY2VpdmVzIHRpbGVzXG4gKiB3aXRoIHZlY3RvciBmZWF0dXJlcyBmcm9tIHRoZSBzZXJ2ZXIsIGl0IGlzIG5vdCBtZWFudCBmb3IgZmVhdHVyZSBlZGl0aW5nLlxuICogRmVhdHVyZXMgYXJlIG9wdGltaXplZCBmb3IgcmVuZGVyaW5nLCB0aGVpciBnZW9tZXRyaWVzIGFyZSBjbGlwcGVkIGF0IG9yIG5lYXJcbiAqIHRpbGUgYm91bmRhcmllcyBhbmQgc2ltcGxpZmllZCBmb3IgYSB2aWV3IHJlc29sdXRpb24uIFNlZVxuICoge0BsaW5rIG1vZHVsZTpvbC9zb3VyY2UvVmVjdG9yflZlY3RvclNvdXJjZX0gZm9yIHZlY3RvciBzb3VyY2VzIHRoYXQgYXJlIHN1aXRhYmxlIGZvciBmZWF0dXJlXG4gKiBlZGl0aW5nLlxuICpcbiAqIEBmaXJlcyBpbXBvcnQoXCIuL1RpbGUuanNcIikuVGlsZVNvdXJjZUV2ZW50XG4gKiBAYXBpXG4gKi9cbmNsYXNzIFZlY3RvclRpbGUgZXh0ZW5kcyBVcmxUaWxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IU9wdGlvbnN9IG9wdGlvbnMgVmVjdG9yIHRpbGUgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBjb25zdCBwcm9qZWN0aW9uID0gb3B0aW9ucy5wcm9qZWN0aW9uIHx8ICdFUFNHOjM4NTcnO1xuXG4gICAgY29uc3QgZXh0ZW50ID0gb3B0aW9ucy5leHRlbnQgfHwgZXh0ZW50RnJvbVByb2plY3Rpb24ocHJvamVjdGlvbik7XG5cbiAgICBjb25zdCB0aWxlR3JpZCA9XG4gICAgICBvcHRpb25zLnRpbGVHcmlkIHx8XG4gICAgICBjcmVhdGVYWVooe1xuICAgICAgICBleHRlbnQ6IGV4dGVudCxcbiAgICAgICAgbWF4UmVzb2x1dGlvbjogb3B0aW9ucy5tYXhSZXNvbHV0aW9uLFxuICAgICAgICBtYXhab29tOiBvcHRpb25zLm1heFpvb20gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubWF4Wm9vbSA6IDIyLFxuICAgICAgICBtaW5ab29tOiBvcHRpb25zLm1pblpvb20sXG4gICAgICAgIHRpbGVTaXplOiBvcHRpb25zLnRpbGVTaXplIHx8IDUxMixcbiAgICAgIH0pO1xuXG4gICAgc3VwZXIoe1xuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9ucyxcbiAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlLFxuICAgICAgY2FjaGVTaXplOiBvcHRpb25zLmNhY2hlU2l6ZSxcbiAgICAgIGludGVycG9sYXRlOiB0cnVlLFxuICAgICAgb3BhcXVlOiBmYWxzZSxcbiAgICAgIHByb2plY3Rpb246IHByb2plY3Rpb24sXG4gICAgICBzdGF0ZTogb3B0aW9ucy5zdGF0ZSxcbiAgICAgIHRpbGVHcmlkOiB0aWxlR3JpZCxcbiAgICAgIHRpbGVMb2FkRnVuY3Rpb246IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvblxuICAgICAgICA/IG9wdGlvbnMudGlsZUxvYWRGdW5jdGlvblxuICAgICAgICA6IGRlZmF1bHRMb2FkRnVuY3Rpb24sXG4gICAgICB0aWxlVXJsRnVuY3Rpb246IG9wdGlvbnMudGlsZVVybEZ1bmN0aW9uLFxuICAgICAgdXJsOiBvcHRpb25zLnVybCxcbiAgICAgIHVybHM6IG9wdGlvbnMudXJscyxcbiAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYID09PSB1bmRlZmluZWQgPyB0cnVlIDogb3B0aW9ucy53cmFwWCxcbiAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgIHpEaXJlY3Rpb246IG9wdGlvbnMuekRpcmVjdGlvbiA9PT0gdW5kZWZpbmVkID8gMSA6IG9wdGlvbnMuekRpcmVjdGlvbixcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2Zvcm1hdC9GZWF0dXJlLmpzXCIpLmRlZmF1bHR8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLmZvcm1hdF8gPSBvcHRpb25zLmZvcm1hdCA/IG9wdGlvbnMuZm9ybWF0IDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1RpbGVDYWNoZX1cbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZVRpbGVDYWNoZSA9IG5ldyBUaWxlQ2FjaGUodGhpcy50aWxlQ2FjaGUuaGlnaFdhdGVyTWFyayk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMub3ZlcmxhcHNfID0gb3B0aW9ucy5vdmVybGFwcyA9PSB1bmRlZmluZWQgPyB0cnVlIDogb3B0aW9ucy5vdmVybGFwcztcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7dHlwZW9mIGltcG9ydChcIi4uL1ZlY3RvclRpbGUuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVDbGFzcyA9IG9wdGlvbnMudGlsZUNsYXNzID8gb3B0aW9ucy50aWxlQ2xhc3MgOiBUaWxlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi4vdGlsZWdyaWQvVGlsZUdyaWQuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy50aWxlR3JpZHNfID0ge307XG4gIH1cblxuICAvKipcbiAgICogR2V0IGZlYXR1cmVzIHdob3NlIGJvdW5kaW5nIGJveCBpbnRlcnNlY3RzIHRoZSBwcm92aWRlZCBleHRlbnQuIE9ubHkgZmVhdHVyZXMgZm9yIGNhY2hlZFxuICAgKiB0aWxlcyBmb3IgdGhlIGxhc3QgcmVuZGVyZWQgem9vbSBsZXZlbCBhcmUgYXZhaWxhYmxlIGluIHRoZSBzb3VyY2UuIFNvIHRoaXMgbWV0aG9kIGlzIG9ubHlcbiAgICogc3VpdGFibGUgZm9yIHJlcXVlc3RpbmcgdGlsZXMgZm9yIGV4dGVudHMgdGhhdCBhcmUgY3VycmVudGx5IHJlbmRlcmVkLlxuICAgKlxuICAgKiBGZWF0dXJlcyBhcmUgcmV0dXJuZWQgaW4gcmFuZG9tIHRpbGUgb3JkZXIgYW5kIGFzIHRoZXkgYXJlIGluY2x1ZGVkIGluIHRoZSB0aWxlcy4gVGhpcyBtZWFuc1xuICAgKiB0aGV5IGNhbiBiZSBjbGlwcGVkLCBkdXBsaWNhdGVkIGFjcm9zcyB0aWxlcywgYW5kIHNpbXBsaWZpZWQgdG8gdGhlIHJlbmRlciByZXNvbHV0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAqIEByZXR1cm4ge0FycmF5PGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2U+fSBGZWF0dXJlcy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RmVhdHVyZXNJbkV4dGVudChleHRlbnQpIHtcbiAgICBjb25zdCBmZWF0dXJlcyA9IFtdO1xuICAgIGNvbnN0IHRpbGVDYWNoZSA9IHRoaXMudGlsZUNhY2hlO1xuICAgIGlmICh0aWxlQ2FjaGUuZ2V0Q291bnQoKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZlYXR1cmVzO1xuICAgIH1cbiAgICBjb25zdCB6ID0gZnJvbUtleSh0aWxlQ2FjaGUucGVla0ZpcnN0S2V5KCkpWzBdO1xuICAgIGNvbnN0IHRpbGVHcmlkID0gdGhpcy50aWxlR3JpZDtcbiAgICB0aWxlQ2FjaGUuZm9yRWFjaChmdW5jdGlvbiAodGlsZSkge1xuICAgICAgaWYgKHRpbGUudGlsZUNvb3JkWzBdICE9PSB6IHx8IHRpbGUuZ2V0U3RhdGUoKSAhPT0gVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzb3VyY2VUaWxlcyA9IHRpbGUuZ2V0U291cmNlVGlsZXMoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHNvdXJjZVRpbGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgY29uc3Qgc291cmNlVGlsZSA9IHNvdXJjZVRpbGVzW2ldO1xuICAgICAgICBjb25zdCB0aWxlQ29vcmQgPSBzb3VyY2VUaWxlLnRpbGVDb29yZDtcbiAgICAgICAgaWYgKGludGVyc2VjdHMoZXh0ZW50LCB0aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQodGlsZUNvb3JkKSkpIHtcbiAgICAgICAgICBjb25zdCB0aWxlRmVhdHVyZXMgPSBzb3VyY2VUaWxlLmdldEZlYXR1cmVzKCk7XG4gICAgICAgICAgaWYgKHRpbGVGZWF0dXJlcykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIGpqID0gdGlsZUZlYXR1cmVzLmxlbmd0aDsgaiA8IGpqOyArK2opIHtcbiAgICAgICAgICAgICAgY29uc3QgY2FuZGlkYXRlID0gdGlsZUZlYXR1cmVzW2pdO1xuICAgICAgICAgICAgICBjb25zdCBnZW9tZXRyeSA9IGNhbmRpZGF0ZS5nZXRHZW9tZXRyeSgpO1xuICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0cyhleHRlbnQsIGdlb21ldHJ5LmdldEV4dGVudCgpKSkge1xuICAgICAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goY2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmZWF0dXJlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgc291cmNlIGNhbiBoYXZlIG92ZXJsYXBwaW5nIGdlb21ldHJpZXMuXG4gICAqL1xuICBnZXRPdmVybGFwcygpIHtcbiAgICByZXR1cm4gdGhpcy5vdmVybGFwc187XG4gIH1cblxuICAvKipcbiAgICogY2xlYXIge0BsaW5rIG1vZHVsZTpvbC9UaWxlQ2FjaGV+VGlsZUNhY2hlfSBhbmQgZGVsZXRlIGFsbCBzb3VyY2UgdGlsZXNcbiAgICogQGFwaVxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy50aWxlQ2FjaGUuY2xlYXIoKTtcbiAgICB0aGlzLnNvdXJjZVRpbGVDYWNoZS5jbGVhcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59IHVzZWRUaWxlcyBVc2VkIHRpbGVzLlxuICAgKi9cbiAgZXhwaXJlQ2FjaGUocHJvamVjdGlvbiwgdXNlZFRpbGVzKSB7XG4gICAgY29uc3QgdGlsZUNhY2hlID0gdGhpcy5nZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGNvbnN0IHVzZWRTb3VyY2VUaWxlcyA9IE9iamVjdC5rZXlzKHVzZWRUaWxlcykucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgY29uc3QgY2FjaGVLZXkgPSBnZXRDYWNoZUtleUZvclRpbGVLZXkoa2V5KTtcbiAgICAgIGNvbnN0IHRpbGUgPSB0aWxlQ2FjaGUucGVlayhjYWNoZUtleSk7XG4gICAgICBpZiAodGlsZSkge1xuICAgICAgICBjb25zdCBzb3VyY2VUaWxlcyA9IHRpbGUuc291cmNlVGlsZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHNvdXJjZVRpbGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICBhY2Nbc291cmNlVGlsZXNbaV0uZ2V0S2V5KCldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gICAgc3VwZXIuZXhwaXJlQ2FjaGUocHJvamVjdGlvbiwgdXNlZFRpbGVzKTtcbiAgICB0aGlzLnNvdXJjZVRpbGVDYWNoZS5leHBpcmVDYWNoZSh1c2VkU291cmNlVGlsZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvblwiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEBwYXJhbSB7VmVjdG9yUmVuZGVyVGlsZX0gdGlsZSBWZWN0b3IgaW1hZ2UgdGlsZS5cbiAgICogQHJldHVybiB7QXJyYXk8aW1wb3J0KFwiLi4vVmVjdG9yVGlsZVwiKS5kZWZhdWx0Pn0gVGlsZSBrZXlzLlxuICAgKi9cbiAgZ2V0U291cmNlVGlsZXMocGl4ZWxSYXRpbywgcHJvamVjdGlvbiwgdGlsZSkge1xuICAgIGlmICh0aWxlLmdldFN0YXRlKCkgPT09IFRpbGVTdGF0ZS5JRExFKSB7XG4gICAgICB0aWxlLnNldFN0YXRlKFRpbGVTdGF0ZS5MT0FESU5HKTtcbiAgICAgIGNvbnN0IHVybFRpbGVDb29yZCA9IHRpbGUud3JhcHBlZFRpbGVDb29yZDtcbiAgICAgIGNvbnN0IHRpbGVHcmlkID0gdGhpcy5nZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgICBjb25zdCBleHRlbnQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQodXJsVGlsZUNvb3JkKTtcbiAgICAgIGNvbnN0IHogPSB1cmxUaWxlQ29vcmRbMF07XG4gICAgICBjb25zdCByZXNvbHV0aW9uID0gdGlsZUdyaWQuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICAgIC8vIG1ha2UgZXh0ZW50IDEgcGl4ZWwgc21hbGxlciBzbyB3ZSBkb24ndCBsb2FkIHRpbGVzIGZvciA8IDAuNSBwaXhlbCByZW5kZXIgc3BhY2VcbiAgICAgIGJ1ZmZlckV4dGVudChleHRlbnQsIC1yZXNvbHV0aW9uLCBleHRlbnQpO1xuICAgICAgY29uc3Qgc291cmNlVGlsZUdyaWQgPSB0aGlzLnRpbGVHcmlkO1xuICAgICAgY29uc3Qgc291cmNlRXh0ZW50ID0gc291cmNlVGlsZUdyaWQuZ2V0RXh0ZW50KCk7XG4gICAgICBpZiAoc291cmNlRXh0ZW50KSB7XG4gICAgICAgIGdldEludGVyc2VjdGlvbihleHRlbnQsIHNvdXJjZUV4dGVudCwgZXh0ZW50KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNvdXJjZVogPSBzb3VyY2VUaWxlR3JpZC5nZXRaRm9yUmVzb2x1dGlvbihcbiAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgdGhpcy56RGlyZWN0aW9uXG4gICAgICApO1xuXG4gICAgICBzb3VyY2VUaWxlR3JpZC5mb3JFYWNoVGlsZUNvb3JkKGV4dGVudCwgc291cmNlWiwgKHNvdXJjZVRpbGVDb29yZCkgPT4ge1xuICAgICAgICBjb25zdCB0aWxlVXJsID0gdGhpcy50aWxlVXJsRnVuY3Rpb24oXG4gICAgICAgICAgc291cmNlVGlsZUNvb3JkLFxuICAgICAgICAgIHBpeGVsUmF0aW8sXG4gICAgICAgICAgcHJvamVjdGlvblxuICAgICAgICApO1xuICAgICAgICBjb25zdCBzb3VyY2VUaWxlID0gdGhpcy5zb3VyY2VUaWxlQ2FjaGUuY29udGFpbnNLZXkodGlsZVVybClcbiAgICAgICAgICA/IHRoaXMuc291cmNlVGlsZUNhY2hlLmdldCh0aWxlVXJsKVxuICAgICAgICAgIDogbmV3IHRoaXMudGlsZUNsYXNzKFxuICAgICAgICAgICAgICBzb3VyY2VUaWxlQ29vcmQsXG4gICAgICAgICAgICAgIHRpbGVVcmwgPyBUaWxlU3RhdGUuSURMRSA6IFRpbGVTdGF0ZS5FTVBUWSxcbiAgICAgICAgICAgICAgdGlsZVVybCxcbiAgICAgICAgICAgICAgdGhpcy5mb3JtYXRfLFxuICAgICAgICAgICAgICB0aGlzLnRpbGVMb2FkRnVuY3Rpb25cbiAgICAgICAgICAgICk7XG4gICAgICAgIHRpbGUuc291cmNlVGlsZXMucHVzaChzb3VyY2VUaWxlKTtcbiAgICAgICAgY29uc3Qgc291cmNlVGlsZVN0YXRlID0gc291cmNlVGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICBpZiAoc291cmNlVGlsZVN0YXRlIDwgVGlsZVN0YXRlLkxPQURFRCkge1xuICAgICAgICAgIGNvbnN0IGxpc3RlbkNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVUaWxlQ2hhbmdlKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gc291cmNlVGlsZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSBUaWxlU3RhdGUuTE9BREVEIHx8IHN0YXRlID09PSBUaWxlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc291cmNlVGlsZUtleSA9IHNvdXJjZVRpbGUuZ2V0S2V5KCk7XG4gICAgICAgICAgICAgIGlmIChzb3VyY2VUaWxlS2V5IGluIHRpbGUuZXJyb3JUaWxlS2V5cykge1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VUaWxlLmdldFN0YXRlKCkgPT09IFRpbGVTdGF0ZS5MT0FERUQpIHtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aWxlLmVycm9yVGlsZUtleXNbc291cmNlVGlsZUtleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRpbGUubG9hZGluZ1NvdXJjZVRpbGVzLS07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSBUaWxlU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgICAgICB0aWxlLmVycm9yVGlsZUtleXNbc291cmNlVGlsZUtleV0gPSB0cnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdXJjZVRpbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCBsaXN0ZW5DaGFuZ2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0aWxlLmxvYWRpbmdTb3VyY2VUaWxlcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRpbGUuc2V0U3RhdGUoXG4gICAgICAgICAgICAgICAgICBpc0VtcHR5KHRpbGUuZXJyb3JUaWxlS2V5cylcbiAgICAgICAgICAgICAgICAgICAgPyBUaWxlU3RhdGUuTE9BREVEXG4gICAgICAgICAgICAgICAgICAgIDogVGlsZVN0YXRlLkVSUk9SXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgc291cmNlVGlsZS5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DSEFOR0UsIGxpc3RlbkNoYW5nZSk7XG4gICAgICAgICAgdGlsZS5sb2FkaW5nU291cmNlVGlsZXMrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc291cmNlVGlsZVN0YXRlID09PSBUaWxlU3RhdGUuSURMRSkge1xuICAgICAgICAgIHNvdXJjZVRpbGUuZXh0ZW50ID1cbiAgICAgICAgICAgIHNvdXJjZVRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudChzb3VyY2VUaWxlQ29vcmQpO1xuICAgICAgICAgIHNvdXJjZVRpbGUucHJvamVjdGlvbiA9IHByb2plY3Rpb247XG4gICAgICAgICAgc291cmNlVGlsZS5yZXNvbHV0aW9uID0gc291cmNlVGlsZUdyaWQuZ2V0UmVzb2x1dGlvbihcbiAgICAgICAgICAgIHNvdXJjZVRpbGVDb29yZFswXVxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5zb3VyY2VUaWxlQ2FjaGUuc2V0KHRpbGVVcmwsIHNvdXJjZVRpbGUpO1xuICAgICAgICAgIHNvdXJjZVRpbGUubG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghdGlsZS5sb2FkaW5nU291cmNlVGlsZXMpIHtcbiAgICAgICAgdGlsZS5zZXRTdGF0ZShcbiAgICAgICAgICB0aWxlLnNvdXJjZVRpbGVzLnNvbWUoXG4gICAgICAgICAgICAoc291cmNlVGlsZSkgPT4gc291cmNlVGlsZS5nZXRTdGF0ZSgpID09PSBUaWxlU3RhdGUuRVJST1JcbiAgICAgICAgICApXG4gICAgICAgICAgICA/IFRpbGVTdGF0ZS5FUlJPUlxuICAgICAgICAgICAgOiBUaWxlU3RhdGUuTE9BREVEXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRpbGUuc291cmNlVGlsZXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7IVZlY3RvclJlbmRlclRpbGV9IFRpbGUuXG4gICAqL1xuICBnZXRUaWxlKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICBjb25zdCBjb29yZEtleSA9IGdldEtleVpYWSh6LCB4LCB5KTtcbiAgICBjb25zdCBrZXkgPSB0aGlzLmdldEtleSgpO1xuICAgIGxldCB0aWxlO1xuICAgIGlmICh0aGlzLnRpbGVDYWNoZS5jb250YWluc0tleShjb29yZEtleSkpIHtcbiAgICAgIHRpbGUgPSB0aGlzLnRpbGVDYWNoZS5nZXQoY29vcmRLZXkpO1xuICAgICAgaWYgKHRpbGUua2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRpbGU7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRpbGVDb29yZCA9IFt6LCB4LCB5XTtcbiAgICBsZXQgdXJsVGlsZUNvb3JkID0gdGhpcy5nZXRUaWxlQ29vcmRGb3JUaWxlVXJsRnVuY3Rpb24oXG4gICAgICB0aWxlQ29vcmQsXG4gICAgICBwcm9qZWN0aW9uXG4gICAgKTtcbiAgICBjb25zdCBzb3VyY2VFeHRlbnQgPSB0aGlzLmdldFRpbGVHcmlkKCkuZ2V0RXh0ZW50KCk7XG4gICAgY29uc3QgdGlsZUdyaWQgPSB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBpZiAodXJsVGlsZUNvb3JkICYmIHNvdXJjZUV4dGVudCkge1xuICAgICAgY29uc3QgdGlsZUV4dGVudCA9IHRpbGVHcmlkLmdldFRpbGVDb29yZEV4dGVudCh1cmxUaWxlQ29vcmQpO1xuICAgICAgLy8gbWFrZSBleHRlbnQgMSBwaXhlbCBzbWFsbGVyIHNvIHdlIGRvbid0IGxvYWQgdGlsZXMgZm9yIDwgMC41IHBpeGVsIHJlbmRlciBzcGFjZVxuICAgICAgYnVmZmVyRXh0ZW50KHRpbGVFeHRlbnQsIC10aWxlR3JpZC5nZXRSZXNvbHV0aW9uKHopLCB0aWxlRXh0ZW50KTtcbiAgICAgIGlmICghaW50ZXJzZWN0cyhzb3VyY2VFeHRlbnQsIHRpbGVFeHRlbnQpKSB7XG4gICAgICAgIHVybFRpbGVDb29yZCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBlbXB0eSA9IHRydWU7XG4gICAgaWYgKHVybFRpbGVDb29yZCAhPT0gbnVsbCkge1xuICAgICAgY29uc3Qgc291cmNlVGlsZUdyaWQgPSB0aGlzLnRpbGVHcmlkO1xuICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IHRpbGVHcmlkLmdldFJlc29sdXRpb24oeik7XG4gICAgICBjb25zdCBzb3VyY2VaID0gc291cmNlVGlsZUdyaWQuZ2V0WkZvclJlc29sdXRpb24ocmVzb2x1dGlvbiwgMSk7XG4gICAgICAvLyBtYWtlIGV4dGVudCAxIHBpeGVsIHNtYWxsZXIgc28gd2UgZG9uJ3QgbG9hZCB0aWxlcyBmb3IgPCAwLjUgcGl4ZWwgcmVuZGVyIHNwYWNlXG4gICAgICBjb25zdCBleHRlbnQgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRFeHRlbnQodXJsVGlsZUNvb3JkKTtcbiAgICAgIGJ1ZmZlckV4dGVudChleHRlbnQsIC1yZXNvbHV0aW9uLCBleHRlbnQpO1xuICAgICAgc291cmNlVGlsZUdyaWQuZm9yRWFjaFRpbGVDb29yZChleHRlbnQsIHNvdXJjZVosIChzb3VyY2VUaWxlQ29vcmQpID0+IHtcbiAgICAgICAgZW1wdHkgPVxuICAgICAgICAgIGVtcHR5ICYmXG4gICAgICAgICAgIXRoaXMudGlsZVVybEZ1bmN0aW9uKHNvdXJjZVRpbGVDb29yZCwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgbmV3VGlsZSA9IG5ldyBWZWN0b3JSZW5kZXJUaWxlKFxuICAgICAgdGlsZUNvb3JkLFxuICAgICAgZW1wdHkgPyBUaWxlU3RhdGUuRU1QVFkgOiBUaWxlU3RhdGUuSURMRSxcbiAgICAgIHVybFRpbGVDb29yZCxcbiAgICAgIHRoaXMuZ2V0U291cmNlVGlsZXMuYmluZCh0aGlzLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKVxuICAgICk7XG5cbiAgICBuZXdUaWxlLmtleSA9IGtleTtcbiAgICBpZiAodGlsZSkge1xuICAgICAgbmV3VGlsZS5pbnRlcmltVGlsZSA9IHRpbGU7XG4gICAgICBuZXdUaWxlLnJlZnJlc2hJbnRlcmltQ2hhaW4oKTtcbiAgICAgIHRoaXMudGlsZUNhY2hlLnJlcGxhY2UoY29vcmRLZXksIG5ld1RpbGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRpbGVDYWNoZS5zZXQoY29vcmRLZXksIG5ld1RpbGUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3VGlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBUaWxlIGdyaWQuXG4gICAqL1xuICBnZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICAgIGNvbnN0IGNvZGUgPSBwcm9qZWN0aW9uLmdldENvZGUoKTtcbiAgICBsZXQgdGlsZUdyaWQgPSB0aGlzLnRpbGVHcmlkc19bY29kZV07XG4gICAgaWYgKCF0aWxlR3JpZCkge1xuICAgICAgLy8gQSB0aWxlIGdyaWQgdGhhdCBtYXRjaGVzIHRoZSB0aWxlIHNpemUgb2YgdGhlIHNvdXJjZSB0aWxlIGdyaWQgaXMgbW9yZVxuICAgICAgLy8gbGlrZWx5IHRvIGhhdmUgMToxIHJlbGF0aW9uc2hpcHMgYmV0d2VlbiBzb3VyY2UgdGlsZXMgYW5kIHJlbmRlcmVkIHRpbGVzLlxuICAgICAgY29uc3Qgc291cmNlVGlsZUdyaWQgPSB0aGlzLnRpbGVHcmlkO1xuICAgICAgY29uc3QgcmVzb2x1dGlvbnMgPSBzb3VyY2VUaWxlR3JpZC5nZXRSZXNvbHV0aW9ucygpLnNsaWNlKCk7XG4gICAgICBjb25zdCBvcmlnaW5zID0gcmVzb2x1dGlvbnMubWFwKGZ1bmN0aW9uIChyZXNvbHV0aW9uLCB6KSB7XG4gICAgICAgIHJldHVybiBzb3VyY2VUaWxlR3JpZC5nZXRPcmlnaW4oeik7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHRpbGVTaXplcyA9IHJlc29sdXRpb25zLm1hcChmdW5jdGlvbiAocmVzb2x1dGlvbiwgeikge1xuICAgICAgICByZXR1cm4gc291cmNlVGlsZUdyaWQuZ2V0VGlsZVNpemUoeik7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGxlbmd0aCA9IERFRkFVTFRfTUFYX1pPT00gKyAxO1xuICAgICAgZm9yIChsZXQgeiA9IHJlc29sdXRpb25zLmxlbmd0aDsgeiA8IGxlbmd0aDsgKyt6KSB7XG4gICAgICAgIHJlc29sdXRpb25zLnB1c2gocmVzb2x1dGlvbnNbeiAtIDFdIC8gMik7XG4gICAgICAgIG9yaWdpbnMucHVzaChvcmlnaW5zW3ogLSAxXSk7XG4gICAgICAgIHRpbGVTaXplcy5wdXNoKHRpbGVTaXplc1t6IC0gMV0pO1xuICAgICAgfVxuICAgICAgdGlsZUdyaWQgPSBuZXcgVGlsZUdyaWQoe1xuICAgICAgICBleHRlbnQ6IHNvdXJjZVRpbGVHcmlkLmdldEV4dGVudCgpLFxuICAgICAgICBvcmlnaW5zOiBvcmlnaW5zLFxuICAgICAgICByZXNvbHV0aW9uczogcmVzb2x1dGlvbnMsXG4gICAgICAgIHRpbGVTaXplczogdGlsZVNpemVzLFxuICAgICAgfSk7XG4gICAgICB0aGlzLnRpbGVHcmlkc19bY29kZV0gPSB0aWxlR3JpZDtcbiAgICB9XG4gICAgcmV0dXJuIHRpbGVHcmlkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGlsZSBwaXhlbCByYXRpbyBmb3IgdGhpcyBzb3VyY2UuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFBpeGVsIHJhdGlvLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRpbGUgcGl4ZWwgcmF0aW8uXG4gICAqL1xuICBnZXRUaWxlUGl4ZWxSYXRpbyhwaXhlbFJhdGlvKSB7XG4gICAgcmV0dXJuIHBpeGVsUmF0aW87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHogWi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBUaWxlIHNpemUuXG4gICAqL1xuICBnZXRUaWxlUGl4ZWxTaXplKHosIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICBjb25zdCB0aWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGNvbnN0IHRpbGVTaXplID0gdG9TaXplKHRpbGVHcmlkLmdldFRpbGVTaXplKHopLCB0aGlzLnRtcFNpemUpO1xuICAgIHJldHVybiBbXG4gICAgICBNYXRoLnJvdW5kKHRpbGVTaXplWzBdICogcGl4ZWxSYXRpbyksXG4gICAgICBNYXRoLnJvdW5kKHRpbGVTaXplWzFdICogcGl4ZWxSYXRpbyksXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmNyZWFzZXMgdGhlIGNhY2hlIHNpemUgaWYgbmVlZGVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aWxlQ291bnQgTWluaW11bSBudW1iZXIgb2YgdGlsZXMgbmVlZGVkLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqL1xuICB1cGRhdGVDYWNoZVNpemUodGlsZUNvdW50LCBwcm9qZWN0aW9uKSB7XG4gICAgc3VwZXIudXBkYXRlQ2FjaGVTaXplKHRpbGVDb3VudCAqIDIsIHByb2plY3Rpb24pO1xuICAgIHRoaXMuc291cmNlVGlsZUNhY2hlLmhpZ2hXYXRlck1hcmsgPVxuICAgICAgdGhpcy5nZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pLmhpZ2hXYXRlck1hcms7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmVjdG9yVGlsZTtcblxuLyoqXG4gKiBTZXRzIHRoZSBsb2FkZXIgZm9yIGEgdGlsZS5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVmVjdG9yVGlsZS5qc1wiKS5kZWZhdWx0fSB0aWxlIFZlY3RvciB0aWxlLlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBVUkwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0TG9hZEZ1bmN0aW9uKHRpbGUsIHVybCkge1xuICB0aWxlLnNldExvYWRlcihcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikge1xuICAgICAgbG9hZEZlYXR1cmVzWGhyKFxuICAgICAgICB1cmwsXG4gICAgICAgIHRpbGUuZ2V0Rm9ybWF0KCksXG4gICAgICAgIGV4dGVudCxcbiAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgcHJvamVjdGlvbixcbiAgICAgICAgdGlsZS5vbkxvYWQuYmluZCh0aWxlKSxcbiAgICAgICAgdGlsZS5vbkVycm9yLmJpbmQodGlsZSlcbiAgICAgICk7XG4gICAgfVxuICApO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9UaWxlSW1hZ2VcbiAqL1xuaW1wb3J0IEV2ZW50VHlwZSBmcm9tICcuLi9ldmVudHMvRXZlbnRUeXBlLmpzJztcbmltcG9ydCBJbWFnZVRpbGUgZnJvbSAnLi4vSW1hZ2VUaWxlLmpzJztcbmltcG9ydCBSZXByb2pUaWxlIGZyb20gJy4uL3JlcHJvai9UaWxlLmpzJztcbmltcG9ydCBUaWxlQ2FjaGUgZnJvbSAnLi4vVGlsZUNhY2hlLmpzJztcbmltcG9ydCBUaWxlU3RhdGUgZnJvbSAnLi4vVGlsZVN0YXRlLmpzJztcbmltcG9ydCBVcmxUaWxlIGZyb20gJy4vVXJsVGlsZS5qcyc7XG5pbXBvcnQge2VxdWl2YWxlbnQsIGdldCBhcyBnZXRQcm9qZWN0aW9ufSBmcm9tICcuLi9wcm9qLmpzJztcbmltcG9ydCB7Z2V0S2V5LCBnZXRLZXlaWFl9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQge2dldEZvclByb2plY3Rpb24gYXMgZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9ufSBmcm9tICcuLi90aWxlZ3JpZC5qcyc7XG5pbXBvcnQge2dldFVpZH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1NvdXJjZS5qc1wiKS5BdHRyaWJ1dGlvbkxpa2V9IFthdHRyaWJ1dGlvbnNdIEF0dHJpYnV0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2F0dHJpYnV0aW9uc0NvbGxhcHNpYmxlPXRydWVdIEF0dHJpYnV0aW9ucyBhcmUgY29sbGFwc2libGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NhY2hlU2l6ZV0gSW5pdGlhbCB0aWxlIGNhY2hlIHNpemUuIFdpbGwgYXV0by1ncm93IHRvIGhvbGQgYXQgbGVhc3QgdGhlIG51bWJlciBvZiB0aWxlcyBpbiB0aGUgdmlld3BvcnQuXG4gKiBAcHJvcGVydHkge251bGx8c3RyaW5nfSBbY3Jvc3NPcmlnaW5dIFRoZSBgY3Jvc3NPcmlnaW5gIGF0dHJpYnV0ZSBmb3IgbG9hZGVkIGltYWdlcy4gIE5vdGUgdGhhdFxuICogeW91IG11c3QgcHJvdmlkZSBhIGBjcm9zc09yaWdpbmAgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWNjZXNzIHBpeGVsIGRhdGEgd2l0aCB0aGUgQ2FudmFzIHJlbmRlcmVyLlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQ09SU19lbmFibGVkX2ltYWdlIGZvciBtb3JlIGRldGFpbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycG9sYXRlPXRydWVdIFVzZSBpbnRlcnBvbGF0ZWQgdmFsdWVzIHdoZW4gcmVzYW1wbGluZy4gIEJ5IGRlZmF1bHQsXG4gKiBsaW5lYXIgaW50ZXJwb2xhdGlvbiBpcyB1c2VkIHdoZW4gcmVzYW1wbGluZy4gIFNldCB0byBmYWxzZSB0byB1c2UgdGhlIG5lYXJlc3QgbmVpZ2hib3IgaW5zdGVhZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29wYXF1ZT1mYWxzZV0gV2hldGhlciB0aGUgbGF5ZXIgaXMgb3BhcXVlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBbcHJvamVjdGlvbl0gUHJvamVjdGlvbi4gRGVmYXVsdCBpcyB0aGUgdmlldyBwcm9qZWN0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZD0wLjVdIE1heGltdW0gYWxsb3dlZCByZXByb2plY3Rpb24gZXJyb3IgKGluIHBpeGVscykuXG4gKiBIaWdoZXIgdmFsdWVzIGNhbiBpbmNyZWFzZSByZXByb2plY3Rpb24gcGVyZm9ybWFuY2UsIGJ1dCBkZWNyZWFzZSBwcmVjaXNpb24uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU291cmNlLmpzXCIpLlN0YXRlfSBbc3RhdGVdIFNvdXJjZSBzdGF0ZS5cbiAqIEBwcm9wZXJ0eSB7dHlwZW9mIGltcG9ydChcIi4uL0ltYWdlVGlsZS5qc1wiKS5kZWZhdWx0fSBbdGlsZUNsYXNzXSBDbGFzcyB1c2VkIHRvIGluc3RhbnRpYXRlIGltYWdlIHRpbGVzLlxuICogRGVmYXVsdCBpcyB7QGxpbmsgbW9kdWxlOm9sL0ltYWdlVGlsZX5JbWFnZVRpbGV9LlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBbdGlsZUdyaWRdIFRpbGUgZ3JpZC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vVGlsZS5qc1wiKS5Mb2FkRnVuY3Rpb259IFt0aWxlTG9hZEZ1bmN0aW9uXSBPcHRpb25hbCBmdW5jdGlvbiB0byBsb2FkIGEgdGlsZSBnaXZlbiBhIFVSTC4gVGhlIGRlZmF1bHQgaXNcbiAqIGBgYGpzXG4gKiBmdW5jdGlvbihpbWFnZVRpbGUsIHNyYykge1xuICogICBpbWFnZVRpbGUuZ2V0SW1hZ2UoKS5zcmMgPSBzcmM7XG4gKiB9O1xuICogYGBgXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RpbGVQaXhlbFJhdGlvPTFdIFRoZSBwaXhlbCByYXRpbyB1c2VkIGJ5IHRoZSB0aWxlIHNlcnZpY2UuIEZvciBleGFtcGxlLCBpZiB0aGUgdGlsZVxuICogc2VydmljZSBhZHZlcnRpemVzIDI1NnB4IGJ5IDI1NnB4IHRpbGVzIGJ1dCBhY3R1YWxseSBzZW5kcyA1MTJweFxuICogYnkgNTEycHggaW1hZ2VzIChmb3IgcmV0aW5hL2hpZHBpIGRldmljZXMpIHRoZW4gYHRpbGVQaXhlbFJhdGlvYFxuICogc2hvdWxkIGJlIHNldCB0byBgMmAuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL1RpbGUuanNcIikuVXJsRnVuY3Rpb259IFt0aWxlVXJsRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGdldCB0aWxlIFVSTCBnaXZlbiBhIHRpbGUgY29vcmRpbmF0ZSBhbmQgdGhlIHByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gVVJMIHRlbXBsYXRlLiBNdXN0IGluY2x1ZGUgYHt4fWAsIGB7eX1gIG9yIGB7LXl9YCwgYW5kIGB7en1gIHBsYWNlaG9sZGVycy5cbiAqIEEgYHs/LT99YCB0ZW1wbGF0ZSBwYXR0ZXJuLCBmb3IgZXhhbXBsZSBgc3ViZG9tYWlue2EtZn0uZG9tYWluLmNvbWAsIG1heSBiZVxuICogdXNlZCBpbnN0ZWFkIG9mIGRlZmluaW5nIGVhY2ggb25lIHNlcGFyYXRlbHkgaW4gdGhlIGB1cmxzYCBvcHRpb24uXG4gKiBAcHJvcGVydHkge0FycmF5PHN0cmluZz59IFt1cmxzXSBBbiBhcnJheSBvZiBVUkwgdGVtcGxhdGVzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbd3JhcFhdIFdoZXRoZXIgdG8gd3JhcCB0aGUgd29ybGQgaG9yaXpvbnRhbGx5LiBUaGUgZGVmYXVsdCwgaXMgdG9cbiAqIHJlcXVlc3Qgb3V0LW9mLWJvdW5kcyB0aWxlcyBmcm9tIHRoZSBzZXJ2ZXIuIFdoZW4gc2V0IHRvIGBmYWxzZWAsIG9ubHkgb25lXG4gKiB3b3JsZCB3aWxsIGJlIHJlbmRlcmVkLiBXaGVuIHNldCB0byBgdHJ1ZWAsIHRpbGVzIHdpbGwgYmUgcmVxdWVzdGVkIGZvciBvbmVcbiAqIHdvcmxkIG9ubHksIGJ1dCB0aGV5IHdpbGwgYmUgd3JhcHBlZCBob3Jpem9udGFsbHkgdG8gcmVuZGVyIG11bHRpcGxlIHdvcmxkcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdHJhbnNpdGlvbl0gRHVyYXRpb24gb2YgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbiBmb3IgcmVuZGVyaW5nLlxuICogVG8gZGlzYWJsZSB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uLCBwYXNzIGB0cmFuc2l0aW9uOiAwYC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBba2V5XSBPcHRpb25hbCB0aWxlIGtleSBmb3IgcHJvcGVyIGNhY2hlIGZldGNoaW5nXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9hcnJheS5qc1wiKS5OZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb259IFt6RGlyZWN0aW9uPTBdXG4gKiBDaG9vc2Ugd2hldGhlciB0byB1c2UgdGlsZXMgd2l0aCBhIGhpZ2hlciBvciBsb3dlciB6b29tIGxldmVsIHdoZW4gYmV0d2VlbiBpbnRlZ2VyXG4gKiB6b29tIGxldmVscy4gU2VlIHtAbGluayBtb2R1bGU6b2wvdGlsZWdyaWQvVGlsZUdyaWR+VGlsZUdyaWQjZ2V0WkZvclJlc29sdXRpb259LlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQmFzZSBjbGFzcyBmb3Igc291cmNlcyBwcm92aWRpbmcgaW1hZ2VzIGRpdmlkZWQgaW50byBhIHRpbGUgZ3JpZC5cbiAqXG4gKiBAZmlyZXMgaW1wb3J0KFwiLi9UaWxlLmpzXCIpLlRpbGVTb3VyY2VFdmVudFxuICogQGFwaVxuICovXG5jbGFzcyBUaWxlSW1hZ2UgZXh0ZW5kcyBVcmxUaWxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IU9wdGlvbnN9IG9wdGlvbnMgSW1hZ2UgdGlsZSBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKHtcbiAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbnMsXG4gICAgICBjYWNoZVNpemU6IG9wdGlvbnMuY2FjaGVTaXplLFxuICAgICAgb3BhcXVlOiBvcHRpb25zLm9wYXF1ZSxcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbixcbiAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgdGlsZUdyaWQ6IG9wdGlvbnMudGlsZUdyaWQsXG4gICAgICB0aWxlTG9hZEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb25cbiAgICAgICAgPyBvcHRpb25zLnRpbGVMb2FkRnVuY3Rpb25cbiAgICAgICAgOiBkZWZhdWx0VGlsZUxvYWRGdW5jdGlvbixcbiAgICAgIHRpbGVQaXhlbFJhdGlvOiBvcHRpb25zLnRpbGVQaXhlbFJhdGlvLFxuICAgICAgdGlsZVVybEZ1bmN0aW9uOiBvcHRpb25zLnRpbGVVcmxGdW5jdGlvbixcbiAgICAgIHVybDogb3B0aW9ucy51cmwsXG4gICAgICB1cmxzOiBvcHRpb25zLnVybHMsXG4gICAgICB3cmFwWDogb3B0aW9ucy53cmFwWCxcbiAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgIGludGVycG9sYXRlOlxuICAgICAgICBvcHRpb25zLmludGVycG9sYXRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmludGVycG9sYXRlIDogdHJ1ZSxcbiAgICAgIGtleTogb3B0aW9ucy5rZXksXG4gICAgICBhdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZTogb3B0aW9ucy5hdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSxcbiAgICAgIHpEaXJlY3Rpb246IG9wdGlvbnMuekRpcmVjdGlvbixcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7P3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmNyb3NzT3JpZ2luID1cbiAgICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW4gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY3Jvc3NPcmlnaW4gOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHt0eXBlb2YgSW1hZ2VUaWxlfVxuICAgICAqL1xuICAgIHRoaXMudGlsZUNsYXNzID1cbiAgICAgIG9wdGlvbnMudGlsZUNsYXNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRpbGVDbGFzcyA6IEltYWdlVGlsZTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsIFRpbGVDYWNoZT59XG4gICAgICovXG4gICAgdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0Pn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbiA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkXyA9IG9wdGlvbnMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyUmVwcm9qZWN0aW9uRWRnZXNfID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FuIGV4cGlyZSBjYWNoZS5cbiAgICovXG4gIGNhbkV4cGlyZUNhY2hlKCkge1xuICAgIGlmICh0aGlzLnRpbGVDYWNoZS5jYW5FeHBpcmVDYWNoZSgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uKSB7XG4gICAgICBpZiAodGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW2tleV0uY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gdXNlZFRpbGVzIFVzZWQgdGlsZXMuXG4gICAqL1xuICBleHBpcmVDYWNoZShwcm9qZWN0aW9uLCB1c2VkVGlsZXMpIHtcbiAgICBjb25zdCB1c2VkVGlsZUNhY2hlID0gdGhpcy5nZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuXG4gICAgdGhpcy50aWxlQ2FjaGUuZXhwaXJlQ2FjaGUoXG4gICAgICB0aGlzLnRpbGVDYWNoZSA9PSB1c2VkVGlsZUNhY2hlID8gdXNlZFRpbGVzIDoge31cbiAgICApO1xuICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uKSB7XG4gICAgICBjb25zdCB0aWxlQ2FjaGUgPSB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb25baWRdO1xuICAgICAgdGlsZUNhY2hlLmV4cGlyZUNhY2hlKHRpbGVDYWNoZSA9PSB1c2VkVGlsZUNhY2hlID8gdXNlZFRpbGVzIDoge30pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4ge251bWJlcn0gR3V0dGVyLlxuICAgKi9cbiAgZ2V0R3V0dGVyRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5nZXRQcm9qZWN0aW9uKCkgJiZcbiAgICAgIHByb2plY3Rpb24gJiZcbiAgICAgICFlcXVpdmFsZW50KHRoaXMuZ2V0UHJvamVjdGlvbigpLCBwcm9qZWN0aW9uKVxuICAgICkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdldEd1dHRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn0gR3V0dGVyLlxuICAgKi9cbiAgZ2V0R3V0dGVyKCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUga2V5IHRvIGJlIHVzZWQgZm9yIGFsbCB0aWxlcyBpbiB0aGUgc291cmNlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBrZXkgZm9yIGFsbCB0aWxlcy5cbiAgICovXG4gIGdldEtleSgpIHtcbiAgICBsZXQga2V5ID0gc3VwZXIuZ2V0S2V5KCk7XG4gICAgaWYgKCF0aGlzLmdldEludGVycG9sYXRlKCkpIHtcbiAgICAgIGtleSArPSAnOmRpc2FibGUtaW50ZXJwb2xhdGlvbic7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBPcGFxdWUuXG4gICAqL1xuICBnZXRPcGFxdWUocHJvamVjdGlvbikge1xuICAgIGlmIChcbiAgICAgIHRoaXMuZ2V0UHJvamVjdGlvbigpICYmXG4gICAgICBwcm9qZWN0aW9uICYmXG4gICAgICAhZXF1aXZhbGVudCh0aGlzLmdldFByb2plY3Rpb24oKSwgcHJvamVjdGlvbilcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLmdldE9wYXF1ZShwcm9qZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3Byb2ovUHJvamVjdGlvbi5qc1wiKS5kZWZhdWx0fSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gICAqIEByZXR1cm4geyFpbXBvcnQoXCIuLi90aWxlZ3JpZC9UaWxlR3JpZC5qc1wiKS5kZWZhdWx0fSBUaWxlIGdyaWQuXG4gICAqL1xuICBnZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICAgIGNvbnN0IHRoaXNQcm9qID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgaWYgKHRoaXMudGlsZUdyaWQgJiYgKCF0aGlzUHJvaiB8fCBlcXVpdmFsZW50KHRoaXNQcm9qLCBwcm9qZWN0aW9uKSkpIHtcbiAgICAgIHJldHVybiB0aGlzLnRpbGVHcmlkO1xuICAgIH1cbiAgICBjb25zdCBwcm9qS2V5ID0gZ2V0VWlkKHByb2plY3Rpb24pO1xuICAgIGlmICghKHByb2pLZXkgaW4gdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb24pKSB7XG4gICAgICB0aGlzLnRpbGVHcmlkRm9yUHJvamVjdGlvbltwcm9qS2V5XSA9XG4gICAgICAgIGdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uW3Byb2pLZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vVGlsZUNhY2hlLmpzXCIpLmRlZmF1bHR9IFRpbGUgY2FjaGUuXG4gICAqL1xuICBnZXRUaWxlQ2FjaGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgICBjb25zdCB0aGlzUHJvaiA9IHRoaXMuZ2V0UHJvamVjdGlvbigpO1xuICAgIGlmICghdGhpc1Byb2ogfHwgZXF1aXZhbGVudCh0aGlzUHJvaiwgcHJvamVjdGlvbikpIHtcbiAgICAgIHJldHVybiB0aGlzLnRpbGVDYWNoZTtcbiAgICB9XG4gICAgY29uc3QgcHJvaktleSA9IGdldFVpZChwcm9qZWN0aW9uKTtcbiAgICBpZiAoIShwcm9qS2V5IGluIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbikpIHtcbiAgICAgIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltwcm9qS2V5XSA9IG5ldyBUaWxlQ2FjaGUoXG4gICAgICAgIHRoaXMudGlsZUNhY2hlLmhpZ2hXYXRlck1hcmtcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb25bcHJvaktleV07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IHNldCBvbiB0aGUgdGlsZS5cbiAgICogQHJldHVybiB7IUltYWdlVGlsZX0gVGlsZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNyZWF0ZVRpbGVfKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24sIGtleSkge1xuICAgIGNvbnN0IHRpbGVDb29yZCA9IFt6LCB4LCB5XTtcbiAgICBjb25zdCB1cmxUaWxlQ29vcmQgPSB0aGlzLmdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbihcbiAgICAgIHRpbGVDb29yZCxcbiAgICAgIHByb2plY3Rpb25cbiAgICApO1xuICAgIGNvbnN0IHRpbGVVcmwgPSB1cmxUaWxlQ29vcmRcbiAgICAgID8gdGhpcy50aWxlVXJsRnVuY3Rpb24odXJsVGlsZUNvb3JkLCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgdGlsZSA9IG5ldyB0aGlzLnRpbGVDbGFzcyhcbiAgICAgIHRpbGVDb29yZCxcbiAgICAgIHRpbGVVcmwgIT09IHVuZGVmaW5lZCA/IFRpbGVTdGF0ZS5JRExFIDogVGlsZVN0YXRlLkVNUFRZLFxuICAgICAgdGlsZVVybCAhPT0gdW5kZWZpbmVkID8gdGlsZVVybCA6ICcnLFxuICAgICAgdGhpcy5jcm9zc09yaWdpbixcbiAgICAgIHRoaXMudGlsZUxvYWRGdW5jdGlvbixcbiAgICAgIHRoaXMudGlsZU9wdGlvbnNcbiAgICApO1xuICAgIHRpbGUua2V5ID0ga2V5O1xuICAgIHRpbGUuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFLCB0aGlzLmhhbmRsZVRpbGVDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgcmV0dXJuIHRpbGU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHogVGlsZSBjb29yZGluYXRlIHouXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRpbGUgY29vcmRpbmF0ZSB4LlxuICAgKiBAcGFyYW0ge251bWJlcn0geSBUaWxlIGNvb3JkaW5hdGUgeS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7IShJbWFnZVRpbGV8UmVwcm9qVGlsZSl9IFRpbGUuXG4gICAqL1xuICBnZXRUaWxlKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICBjb25zdCBzb3VyY2VQcm9qZWN0aW9uID0gdGhpcy5nZXRQcm9qZWN0aW9uKCk7XG4gICAgaWYgKFxuICAgICAgIXNvdXJjZVByb2plY3Rpb24gfHxcbiAgICAgICFwcm9qZWN0aW9uIHx8XG4gICAgICBlcXVpdmFsZW50KHNvdXJjZVByb2plY3Rpb24sIHByb2plY3Rpb24pXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRUaWxlSW50ZXJuYWwoXG4gICAgICAgIHosXG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHBpeGVsUmF0aW8sXG4gICAgICAgIHNvdXJjZVByb2plY3Rpb24gfHwgcHJvamVjdGlvblxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgY2FjaGUgPSB0aGlzLmdldFRpbGVDYWNoZUZvclByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gICAgY29uc3QgdGlsZUNvb3JkID0gW3osIHgsIHldO1xuICAgIGxldCB0aWxlO1xuICAgIGNvbnN0IHRpbGVDb29yZEtleSA9IGdldEtleSh0aWxlQ29vcmQpO1xuICAgIGlmIChjYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICB0aWxlID0gY2FjaGUuZ2V0KHRpbGVDb29yZEtleSk7XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0S2V5KCk7XG4gICAgaWYgKHRpbGUgJiYgdGlsZS5rZXkgPT0ga2V5KSB7XG4gICAgICByZXR1cm4gdGlsZTtcbiAgICB9XG4gICAgY29uc3Qgc291cmNlVGlsZUdyaWQgPSB0aGlzLmdldFRpbGVHcmlkRm9yUHJvamVjdGlvbihzb3VyY2VQcm9qZWN0aW9uKTtcbiAgICBjb25zdCB0YXJnZXRUaWxlR3JpZCA9IHRoaXMuZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIGNvbnN0IHdyYXBwZWRUaWxlQ29vcmQgPSB0aGlzLmdldFRpbGVDb29yZEZvclRpbGVVcmxGdW5jdGlvbihcbiAgICAgIHRpbGVDb29yZCxcbiAgICAgIHByb2plY3Rpb25cbiAgICApO1xuICAgIGNvbnN0IG5ld1RpbGUgPSBuZXcgUmVwcm9qVGlsZShcbiAgICAgIHNvdXJjZVByb2plY3Rpb24sXG4gICAgICBzb3VyY2VUaWxlR3JpZCxcbiAgICAgIHByb2plY3Rpb24sXG4gICAgICB0YXJnZXRUaWxlR3JpZCxcbiAgICAgIHRpbGVDb29yZCxcbiAgICAgIHdyYXBwZWRUaWxlQ29vcmQsXG4gICAgICB0aGlzLmdldFRpbGVQaXhlbFJhdGlvKHBpeGVsUmF0aW8pLFxuICAgICAgdGhpcy5nZXRHdXR0ZXIoKSxcbiAgICAgICh6LCB4LCB5LCBwaXhlbFJhdGlvKSA9PlxuICAgICAgICB0aGlzLmdldFRpbGVJbnRlcm5hbCh6LCB4LCB5LCBwaXhlbFJhdGlvLCBzb3VyY2VQcm9qZWN0aW9uKSxcbiAgICAgIHRoaXMucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGRfLFxuICAgICAgdGhpcy5yZW5kZXJSZXByb2plY3Rpb25FZGdlc18sXG4gICAgICB0aGlzLmdldEludGVycG9sYXRlKClcbiAgICApO1xuICAgIG5ld1RpbGUua2V5ID0ga2V5O1xuXG4gICAgaWYgKHRpbGUpIHtcbiAgICAgIG5ld1RpbGUuaW50ZXJpbVRpbGUgPSB0aWxlO1xuICAgICAgbmV3VGlsZS5yZWZyZXNoSW50ZXJpbUNoYWluKCk7XG4gICAgICBjYWNoZS5yZXBsYWNlKHRpbGVDb29yZEtleSwgbmV3VGlsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY2hlLnNldCh0aWxlQ29vcmRLZXksIG5ld1RpbGUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3VGlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBUaWxlIGNvb3JkaW5hdGUgei5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggVGlsZSBjb29yZGluYXRlIHguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRpbGUgY29vcmRpbmF0ZSB5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHBhcmFtIHshaW1wb3J0KFwiLi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAgICogQHJldHVybiB7IUltYWdlVGlsZX0gVGlsZS5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZ2V0VGlsZUludGVybmFsKHosIHgsIHksIHBpeGVsUmF0aW8sIHByb2plY3Rpb24pIHtcbiAgICBsZXQgdGlsZSA9IG51bGw7XG4gICAgY29uc3QgdGlsZUNvb3JkS2V5ID0gZ2V0S2V5WlhZKHosIHgsIHkpO1xuICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0S2V5KCk7XG4gICAgaWYgKCF0aGlzLnRpbGVDYWNoZS5jb250YWluc0tleSh0aWxlQ29vcmRLZXkpKSB7XG4gICAgICB0aWxlID0gdGhpcy5jcmVhdGVUaWxlXyh6LCB4LCB5LCBwaXhlbFJhdGlvLCBwcm9qZWN0aW9uLCBrZXkpO1xuICAgICAgdGhpcy50aWxlQ2FjaGUuc2V0KHRpbGVDb29yZEtleSwgdGlsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRpbGUgPSB0aGlzLnRpbGVDYWNoZS5nZXQodGlsZUNvb3JkS2V5KTtcbiAgICAgIGlmICh0aWxlLmtleSAhPSBrZXkpIHtcbiAgICAgICAgLy8gVGhlIHNvdXJjZSdzIHBhcmFtcyBjaGFuZ2VkLiBJZiB0aGUgdGlsZSBoYXMgYW4gaW50ZXJpbSB0aWxlIGFuZCBpZiB3ZVxuICAgICAgICAvLyBjYW4gdXNlIGl0IHRoZW4gd2UgdXNlIGl0LiBPdGhlcndpc2Ugd2UgY3JlYXRlIGEgbmV3IHRpbGUuICBJbiBib3RoXG4gICAgICAgIC8vIGNhc2VzIHdlIGF0dGVtcHQgdG8gYXNzaWduIGFuIGludGVyaW0gdGlsZSB0byB0aGUgbmV3IHRpbGUuXG4gICAgICAgIGNvbnN0IGludGVyaW1UaWxlID0gdGlsZTtcbiAgICAgICAgdGlsZSA9IHRoaXMuY3JlYXRlVGlsZV8oeiwgeCwgeSwgcGl4ZWxSYXRpbywgcHJvamVjdGlvbiwga2V5KTtcblxuICAgICAgICAvL21ha2UgdGhlIG5ldyB0aWxlIHRoZSBoZWFkIG9mIHRoZSBsaXN0LFxuICAgICAgICBpZiAoaW50ZXJpbVRpbGUuZ2V0U3RhdGUoKSA9PSBUaWxlU3RhdGUuSURMRSkge1xuICAgICAgICAgIC8vdGhlIG9sZCB0aWxlIGhhc24ndCBiZWd1biBsb2FkaW5nIHlldCwgYW5kIGlzIG5vdyBvdXRkYXRlZCwgc28gd2UgY2FuIHNpbXBseSBkaXNjYXJkIGl0XG4gICAgICAgICAgdGlsZS5pbnRlcmltVGlsZSA9IGludGVyaW1UaWxlLmludGVyaW1UaWxlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRpbGUuaW50ZXJpbVRpbGUgPSBpbnRlcmltVGlsZTtcbiAgICAgICAgfVxuICAgICAgICB0aWxlLnJlZnJlc2hJbnRlcmltQ2hhaW4oKTtcbiAgICAgICAgdGhpcy50aWxlQ2FjaGUucmVwbGFjZSh0aWxlQ29vcmRLZXksIHRpbGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHdoZXRoZXIgdG8gcmVuZGVyIHJlcHJvamVjdGlvbiBlZGdlcyBvciBub3QgKHVzdWFsbHkgZm9yIGRlYnVnZ2luZykuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVuZGVyIFJlbmRlciB0aGUgZWRnZXMuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFJlbmRlclJlcHJvamVjdGlvbkVkZ2VzKHJlbmRlcikge1xuICAgIGlmICh0aGlzLnJlbmRlclJlcHJvamVjdGlvbkVkZ2VzXyA9PSByZW5kZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXJSZXByb2plY3Rpb25FZGdlc18gPSByZW5kZXI7XG4gICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnRpbGVDYWNoZUZvclByb2plY3Rpb24pIHtcbiAgICAgIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbltpZF0uY2xlYXIoKTtcbiAgICB9XG4gICAgdGhpcy5jaGFuZ2VkKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdGlsZSBncmlkIHRvIHVzZSB3aGVuIHJlcHJvamVjdGluZyB0aGUgdGlsZXMgdG8gdGhlIGdpdmVuXG4gICAqIHByb2plY3Rpb24gaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCB0aWxlIGdyaWQgZm9yIHRoZSBwcm9qZWN0aW9uLlxuICAgKlxuICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgd2hlbiB0aGUgZGVmYXVsdCB0aWxlIGdyaWQgY2Fubm90IGJlIGNyZWF0ZWRcbiAgICogKGUuZy4gcHJvamVjdGlvbiBoYXMgbm8gZXh0ZW50IGRlZmluZWQpIG9yXG4gICAqIGZvciBvcHRpbWl6YXRpb24gcmVhc29ucyAoY3VzdG9tIHRpbGUgc2l6ZSwgcmVzb2x1dGlvbnMsIC4uLikuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVncmlkIFRpbGUgZ3JpZCB0byB1c2UgZm9yIHRoZSBwcm9qZWN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRUaWxlR3JpZEZvclByb2plY3Rpb24ocHJvamVjdGlvbiwgdGlsZWdyaWQpIHtcbiAgICBjb25zdCBwcm9qID0gZ2V0UHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgICBpZiAocHJvaikge1xuICAgICAgY29uc3QgcHJvaktleSA9IGdldFVpZChwcm9qKTtcbiAgICAgIGlmICghKHByb2pLZXkgaW4gdGhpcy50aWxlR3JpZEZvclByb2plY3Rpb24pKSB7XG4gICAgICAgIHRoaXMudGlsZUdyaWRGb3JQcm9qZWN0aW9uW3Byb2pLZXldID0gdGlsZWdyaWQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgc3VwZXIuY2xlYXIoKTtcbiAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMudGlsZUNhY2hlRm9yUHJvamVjdGlvbikge1xuICAgICAgdGhpcy50aWxlQ2FjaGVGb3JQcm9qZWN0aW9uW2lkXS5jbGVhcigpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7SW1hZ2VUaWxlfSBpbWFnZVRpbGUgSW1hZ2UgdGlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgU291cmNlLlxuICovXG5mdW5jdGlvbiBkZWZhdWx0VGlsZUxvYWRGdW5jdGlvbihpbWFnZVRpbGUsIHNyYykge1xuICAvKiogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gKi8gKGltYWdlVGlsZS5nZXRJbWFnZSgpKS5zcmMgPVxuICAgIHNyYztcbn1cblxuZXhwb3J0IGRlZmF1bHQgVGlsZUltYWdlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3NvdXJjZS9YWVpcbiAqL1xuXG5pbXBvcnQgVGlsZUltYWdlIGZyb20gJy4vVGlsZUltYWdlLmpzJztcbmltcG9ydCB7Y3JlYXRlWFlaLCBleHRlbnRGcm9tUHJvamVjdGlvbn0gZnJvbSAnLi4vdGlsZWdyaWQuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9Tb3VyY2UuanNcIikuQXR0cmlidXRpb25MaWtlfSBbYXR0cmlidXRpb25zXSBBdHRyaWJ1dGlvbnMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZT10cnVlXSBBdHRyaWJ1dGlvbnMgYXJlIGNvbGxhcHNpYmxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtjYWNoZVNpemVdIEluaXRpYWwgdGlsZSBjYWNoZSBzaXplLiBXaWxsIGF1dG8tZ3JvdyB0byBob2xkIGF0IGxlYXN0IHRoZSBudW1iZXIgb2YgdGlsZXMgaW4gdGhlIHZpZXdwb3J0LlxuICogQHByb3BlcnR5IHtudWxsfHN0cmluZ30gW2Nyb3NzT3JpZ2luXSBUaGUgYGNyb3NzT3JpZ2luYCBhdHRyaWJ1dGUgZm9yIGxvYWRlZCBpbWFnZXMuICBOb3RlIHRoYXRcbiAqIHlvdSBtdXN0IHByb3ZpZGUgYSBgY3Jvc3NPcmlnaW5gIHZhbHVlIGlmIHlvdSB3YW50IHRvIGFjY2VzcyBwaXhlbCBkYXRhIHdpdGggdGhlIENhbnZhcyByZW5kZXJlci5cbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfZW5hYmxlZF9pbWFnZSBmb3IgbW9yZSBkZXRhaWwuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbnRlcnBvbGF0ZT10cnVlXSBVc2UgaW50ZXJwb2xhdGVkIHZhbHVlcyB3aGVuIHJlc2FtcGxpbmcuICBCeSBkZWZhdWx0LFxuICogbGluZWFyIGludGVycG9sYXRpb24gaXMgdXNlZCB3aGVuIHJlc2FtcGxpbmcuICBTZXQgdG8gZmFsc2UgdG8gdXNlIHRoZSBuZWFyZXN0IG5laWdoYm9yIGluc3RlYWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvcGFxdWU9ZmFsc2VdIFdoZXRoZXIgdGhlIGxheWVyIGlzIG9wYXF1ZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vcHJvai5qc1wiKS5Qcm9qZWN0aW9uTGlrZX0gW3Byb2plY3Rpb249J0VQU0c6Mzg1NyddIFByb2plY3Rpb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkPTAuNV0gTWF4aW11bSBhbGxvd2VkIHJlcHJvamVjdGlvbiBlcnJvciAoaW4gcGl4ZWxzKS5cbiAqIEhpZ2hlciB2YWx1ZXMgY2FuIGluY3JlYXNlIHJlcHJvamVjdGlvbiBwZXJmb3JtYW5jZSwgYnV0IGRlY3JlYXNlIHByZWNpc2lvbi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbT00Ml0gT3B0aW9uYWwgbWF4IHpvb20gbGV2ZWwuIE5vdCB1c2VkIGlmIGB0aWxlR3JpZGAgaXMgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pblpvb209MF0gT3B0aW9uYWwgbWluIHpvb20gbGV2ZWwuIE5vdCB1c2VkIGlmIGB0aWxlR3JpZGAgaXMgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIE9wdGlvbmFsIHRpbGUgZ3JpZCByZXNvbHV0aW9uIGF0IGxldmVsIHplcm8uIE5vdCB1c2VkIGlmIGB0aWxlR3JpZGAgaXMgcHJvdmlkZWQuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IFt0aWxlR3JpZF0gVGlsZSBncmlkLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLkxvYWRGdW5jdGlvbn0gW3RpbGVMb2FkRnVuY3Rpb25dIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvYWQgYSB0aWxlIGdpdmVuIGEgVVJMLiBUaGUgZGVmYXVsdCBpc1xuICogYGBganNcbiAqIGZ1bmN0aW9uKGltYWdlVGlsZSwgc3JjKSB7XG4gKiAgIGltYWdlVGlsZS5nZXRJbWFnZSgpLnNyYyA9IHNyYztcbiAqIH07XG4gKiBgYGBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGlsZVBpeGVsUmF0aW89MV0gVGhlIHBpeGVsIHJhdGlvIHVzZWQgYnkgdGhlIHRpbGUgc2VydmljZS5cbiAqIEZvciBleGFtcGxlLCBpZiB0aGUgdGlsZSBzZXJ2aWNlIGFkdmVydGl6ZXMgMjU2cHggYnkgMjU2cHggdGlsZXMgYnV0IGFjdHVhbGx5IHNlbmRzIDUxMnB4XG4gKiBieSA1MTJweCBpbWFnZXMgKGZvciByZXRpbmEvaGlkcGkgZGV2aWNlcykgdGhlbiBgdGlsZVBpeGVsUmF0aW9gXG4gKiBzaG91bGQgYmUgc2V0IHRvIGAyYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplPVsyNTYsIDI1Nl1dIFRoZSB0aWxlIHNpemUgdXNlZCBieSB0aGUgdGlsZSBzZXJ2aWNlLlxuICogTm90IHVzZWQgaWYgYHRpbGVHcmlkYCBpcyBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZ3V0dGVyPTBdIFRoZSBzaXplIGluIHBpeGVscyBvZiB0aGUgZ3V0dGVyIGFyb3VuZCBpbWFnZSB0aWxlcyB0byBpZ25vcmUuXG4gKiBUaGlzIGFsbG93cyBhcnRpZmFjdHMgb2YgcmVuZGVyaW5nIGF0IHRpbGUgZWRnZXMgdG8gYmUgaWdub3JlZC5cbiAqIFN1cHBvcnRlZCBpbWFnZXMgc2hvdWxkIGJlIHdpZGVyIGFuZCB0YWxsZXIgdGhhbiB0aGUgdGlsZSBzaXplIGJ5IGEgdmFsdWUgb2YgYDIgeCBndXR0ZXJgLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9UaWxlLmpzXCIpLlVybEZ1bmN0aW9ufSBbdGlsZVVybEZ1bmN0aW9uXSBPcHRpb25hbCBmdW5jdGlvbiB0byBnZXRcbiAqIHRpbGUgVVJMIGdpdmVuIGEgdGlsZSBjb29yZGluYXRlIGFuZCB0aGUgcHJvamVjdGlvbi5cbiAqIFJlcXVpcmVkIGlmIGB1cmxgIG9yIGB1cmxzYCBhcmUgbm90IHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1cmxdIFVSTCB0ZW1wbGF0ZS4gTXVzdCBpbmNsdWRlIGB7eH1gLCBge3l9YCBvciBgey15fWAsXG4gKiBhbmQgYHt6fWAgcGxhY2Vob2xkZXJzLiBBIGB7Py0/fWAgdGVtcGxhdGUgcGF0dGVybiwgZm9yIGV4YW1wbGUgYHN1YmRvbWFpbnthLWZ9LmRvbWFpbi5jb21gLFxuICogbWF5IGJlIHVzZWQgaW5zdGVhZCBvZiBkZWZpbmluZyBlYWNoIG9uZSBzZXBhcmF0ZWx5IGluIHRoZSBgdXJsc2Agb3B0aW9uLlxuICogQHByb3BlcnR5IHtBcnJheTxzdHJpbmc+fSBbdXJsc10gQW4gYXJyYXkgb2YgVVJMIHRlbXBsYXRlcy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3dyYXBYPXRydWVdIFdoZXRoZXIgdG8gd3JhcCB0aGUgd29ybGQgaG9yaXpvbnRhbGx5LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0cmFuc2l0aW9uPTI1MF0gRHVyYXRpb24gb2YgdGhlIG9wYWNpdHkgdHJhbnNpdGlvbiBmb3IgcmVuZGVyaW5nLlxuICogVG8gZGlzYWJsZSB0aGUgb3BhY2l0eSB0cmFuc2l0aW9uLCBwYXNzIGB0cmFuc2l0aW9uOiAwYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL2FycmF5LmpzXCIpLk5lYXJlc3REaXJlY3Rpb25GdW5jdGlvbn0gW3pEaXJlY3Rpb249MF1cbiAqIENob29zZSB3aGV0aGVyIHRvIHVzZSB0aWxlcyB3aXRoIGEgaGlnaGVyIG9yIGxvd2VyIHpvb20gbGV2ZWwgd2hlbiBiZXR3ZWVuIGludGVnZXJcbiAqIHpvb20gbGV2ZWxzLiBTZWUge0BsaW5rIG1vZHVsZTpvbC90aWxlZ3JpZC9UaWxlR3JpZH5UaWxlR3JpZCNnZXRaRm9yUmVzb2x1dGlvbn0uXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBMYXllciBzb3VyY2UgZm9yIHRpbGUgZGF0YSB3aXRoIFVSTHMgaW4gYSBzZXQgWFlaIGZvcm1hdCB0aGF0IGFyZVxuICogZGVmaW5lZCBpbiBhIFVSTCB0ZW1wbGF0ZS4gQnkgZGVmYXVsdCwgdGhpcyBmb2xsb3dzIHRoZSB3aWRlbHktdXNlZFxuICogR29vZ2xlIGdyaWQgd2hlcmUgYHhgIDAgYW5kIGB5YCAwIGFyZSBpbiB0aGUgdG9wIGxlZnQuIEdyaWRzIGxpa2VcbiAqIFRNUyB3aGVyZSBgeGAgMCBhbmQgYHlgIDAgYXJlIGluIHRoZSBib3R0b20gbGVmdCBjYW4gYmUgdXNlZCBieVxuICogdXNpbmcgdGhlIGB7LXl9YCBwbGFjZWhvbGRlciBpbiB0aGUgVVJMIHRlbXBsYXRlLCBzbyBsb25nIGFzIHRoZVxuICogc291cmNlIGRvZXMgbm90IGhhdmUgYSBjdXN0b20gdGlsZSBncmlkLiBJbiB0aGlzIGNhc2VcbiAqIGEgYHRpbGVVcmxGdW5jdGlvbmAgY2FuIGJlIHVzZWQsIHN1Y2ggYXM6XG4gKiBgYGBqc1xuICogIHRpbGVVcmxGdW5jdGlvbjogZnVuY3Rpb24oY29vcmRpbmF0ZSkge1xuICogICAgcmV0dXJuICdodHRwOi8vbWFwc2VydmVyLmNvbS8nICsgY29vcmRpbmF0ZVswXSArICcvJyArXG4gKiAgICAgIGNvb3JkaW5hdGVbMV0gKyAnLycgKyAoLWNvb3JkaW5hdGVbMl0gLSAxKSArICcucG5nJztcbiAqICB9XG4gKiBgYGBcbiAqIEBhcGlcbiAqL1xuY2xhc3MgWFlaIGV4dGVuZHMgVGlsZUltYWdlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIFhZWiBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgY29uc3QgcHJvamVjdGlvbiA9XG4gICAgICBvcHRpb25zLnByb2plY3Rpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucHJvamVjdGlvbiA6ICdFUFNHOjM4NTcnO1xuXG4gICAgY29uc3QgdGlsZUdyaWQgPVxuICAgICAgb3B0aW9ucy50aWxlR3JpZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gb3B0aW9ucy50aWxlR3JpZFxuICAgICAgICA6IGNyZWF0ZVhZWih7XG4gICAgICAgICAgICBleHRlbnQ6IGV4dGVudEZyb21Qcm9qZWN0aW9uKHByb2plY3Rpb24pLFxuICAgICAgICAgICAgbWF4UmVzb2x1dGlvbjogb3B0aW9ucy5tYXhSZXNvbHV0aW9uLFxuICAgICAgICAgICAgbWF4Wm9vbTogb3B0aW9ucy5tYXhab29tLFxuICAgICAgICAgICAgbWluWm9vbTogb3B0aW9ucy5taW5ab29tLFxuICAgICAgICAgICAgdGlsZVNpemU6IG9wdGlvbnMudGlsZVNpemUsXG4gICAgICAgICAgfSk7XG5cbiAgICBzdXBlcih7XG4gICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb25zLFxuICAgICAgY2FjaGVTaXplOiBvcHRpb25zLmNhY2hlU2l6ZSxcbiAgICAgIGNyb3NzT3JpZ2luOiBvcHRpb25zLmNyb3NzT3JpZ2luLFxuICAgICAgaW50ZXJwb2xhdGU6IG9wdGlvbnMuaW50ZXJwb2xhdGUsXG4gICAgICBvcGFxdWU6IG9wdGlvbnMub3BhcXVlLFxuICAgICAgcHJvamVjdGlvbjogcHJvamVjdGlvbixcbiAgICAgIHJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkOiBvcHRpb25zLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkLFxuICAgICAgdGlsZUdyaWQ6IHRpbGVHcmlkLFxuICAgICAgdGlsZUxvYWRGdW5jdGlvbjogb3B0aW9ucy50aWxlTG9hZEZ1bmN0aW9uLFxuICAgICAgdGlsZVBpeGVsUmF0aW86IG9wdGlvbnMudGlsZVBpeGVsUmF0aW8sXG4gICAgICB0aWxlVXJsRnVuY3Rpb246IG9wdGlvbnMudGlsZVVybEZ1bmN0aW9uLFxuICAgICAgdXJsOiBvcHRpb25zLnVybCxcbiAgICAgIHVybHM6IG9wdGlvbnMudXJscyxcbiAgICAgIHdyYXBYOiBvcHRpb25zLndyYXBYICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLndyYXBYIDogdHJ1ZSxcbiAgICAgIHRyYW5zaXRpb246IG9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgIGF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlOiBvcHRpb25zLmF0dHJpYnV0aW9uc0NvbGxhcHNpYmxlLFxuICAgICAgekRpcmVjdGlvbjogb3B0aW9ucy56RGlyZWN0aW9uLFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZ3V0dGVyXyA9IG9wdGlvbnMuZ3V0dGVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmd1dHRlciA6IDA7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7bnVtYmVyfSBHdXR0ZXIuXG4gICAqL1xuICBnZXRHdXR0ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ3V0dGVyXztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBYWVo7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvQ2lyY2xlXG4gKi9cblxuaW1wb3J0IFJlZ3VsYXJTaGFwZSBmcm9tICcuL1JlZ3VsYXJTaGFwZS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gW2ZpbGxdIEZpbGwgc3R5bGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmFkaXVzIENpcmNsZSByYWRpdXMuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IFtzdHJva2VdIFN0cm9rZSBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2Rpc3BsYWNlbWVudD1bMCwwXV0gZGlzcGxhY2VtZW50XG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFtzY2FsZT0xXSBTY2FsZS4gQSB0d28gZGltZW5zaW9uYWwgc2NhbGUgd2lsbCBwcm9kdWNlIGFuIGVsbGlwc2UuXG4gKiBVbmxlc3MgdHdvIGRpbWVuc2lvbmFsIHNjYWxpbmcgaXMgcmVxdWlyZWQgYSBiZXR0ZXIgcmVzdWx0IG1heSBiZSBvYnRhaW5lZCB3aXRoIGFuIGFwcHJvcHJpYXRlIHNldHRpbmcgZm9yIGByYWRpdXNgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zXG4gKiAocG9zaXRpdmUgcm90YXRpb24gY2xvY2t3aXNlLCBtZWFuaW5nZnVsIG9ubHkgd2hlbiB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYSB0d28gZGltZW5zaW9uYWwgc2NhbGUpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcm90YXRlV2l0aFZpZXc9ZmFsc2VdIFdoZXRoZXIgdG8gcm90YXRlIHRoZSBzaGFwZSB3aXRoIHRoZSB2aWV3XG4gKiAobWVhbmluZ2Z1bCBvbmx5IHdoZW4gdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgdHdvIGRpbWVuc2lvbmFsIHNjYWxlKS5cbiAqIEBwcm9wZXJ0eSB7XCJkZWNsdXR0ZXJcInxcIm9ic3RhY2xlXCJ8XCJub25lXCJ8dW5kZWZpbmVkfSBbZGVjbHV0dGVyTW9kZV0gRGVjbHV0dGVyIG1vZGVcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCBjaXJjbGUgc3R5bGUgZm9yIHZlY3RvciBmZWF0dXJlcy5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgQ2lyY2xlU3R5bGUgZXh0ZW5kcyBSZWd1bGFyU2hhcGUge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7cmFkaXVzOiA1fTtcblxuICAgIHN1cGVyKHtcbiAgICAgIHBvaW50czogSW5maW5pdHksXG4gICAgICBmaWxsOiBvcHRpb25zLmZpbGwsXG4gICAgICByYWRpdXM6IG9wdGlvbnMucmFkaXVzLFxuICAgICAgc3Ryb2tlOiBvcHRpb25zLnN0cm9rZSxcbiAgICAgIHNjYWxlOiBvcHRpb25zLnNjYWxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNjYWxlIDogMSxcbiAgICAgIHJvdGF0aW9uOiBvcHRpb25zLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0aW9uIDogMCxcbiAgICAgIHJvdGF0ZVdpdGhWaWV3OlxuICAgICAgICBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3IDogZmFsc2UsXG4gICAgICBkaXNwbGFjZW1lbnQ6XG4gICAgICAgIG9wdGlvbnMuZGlzcGxhY2VtZW50ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRpc3BsYWNlbWVudCA6IFswLCAwXSxcbiAgICAgIGRlY2x1dHRlck1vZGU6IG9wdGlvbnMuZGVjbHV0dGVyTW9kZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHN0eWxlLlxuICAgKiBAcmV0dXJuIHtDaXJjbGVTdHlsZX0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgY29uc3Qgc3R5bGUgPSBuZXcgQ2lyY2xlU3R5bGUoe1xuICAgICAgZmlsbDogdGhpcy5nZXRGaWxsKCkgPyB0aGlzLmdldEZpbGwoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgc3Ryb2tlOiB0aGlzLmdldFN0cm9rZSgpID8gdGhpcy5nZXRTdHJva2UoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgcmFkaXVzOiB0aGlzLmdldFJhZGl1cygpLFxuICAgICAgc2NhbGU6IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGUuc2xpY2UoKSA6IHNjYWxlLFxuICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKSxcbiAgICAgIHJvdGF0ZVdpdGhWaWV3OiB0aGlzLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICBkaXNwbGFjZW1lbnQ6IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCkuc2xpY2UoKSxcbiAgICAgIGRlY2x1dHRlck1vZGU6IHRoaXMuZ2V0RGVjbHV0dGVyTW9kZSgpLFxuICAgIH0pO1xuICAgIHN0eWxlLnNldE9wYWNpdHkodGhpcy5nZXRPcGFjaXR5KCkpO1xuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNpcmNsZSByYWRpdXMuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgQ2lyY2xlIHJhZGl1cy5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0UmFkaXVzKHJhZGl1cykge1xuICAgIHRoaXMucmFkaXVzXyA9IHJhZGl1cztcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENpcmNsZVN0eWxlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL0ZpbGxcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZXxudWxsfSBbY29sb3I9bnVsbF0gQSBjb2xvciwgZ3JhZGllbnQgb3IgcGF0dGVybi5cbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL2NvbG9yfkNvbG9yfSBhbmQge0BsaW5rIG1vZHVsZTpvbC9jb2xvcmxpa2V+Q29sb3JMaWtlfSBmb3IgcG9zc2libGUgZm9ybWF0cy5cbiAqIERlZmF1bHQgbnVsbDsgaWYgbnVsbCwgdGhlIENhbnZhcy9yZW5kZXJlciBkZWZhdWx0IGJsYWNrIHdpbGwgYmUgdXNlZC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCBmaWxsIHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuXG4gKiBAYXBpXG4gKi9cbmNsYXNzIEZpbGwge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLmNvbG9yXyA9IG9wdGlvbnMuY29sb3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sb3IgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgc3R5bGUuIFRoZSBjb2xvciBpcyBub3QgY2xvbmVkIGlmIGl0IGlzIGFuIHtAbGluayBtb2R1bGU6b2wvY29sb3JsaWtlfkNvbG9yTGlrZX0uXG4gICAqIEByZXR1cm4ge0ZpbGx9IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGNsb25lKCkge1xuICAgIGNvbnN0IGNvbG9yID0gdGhpcy5nZXRDb2xvcigpO1xuICAgIHJldHVybiBuZXcgRmlsbCh7XG4gICAgICBjb2xvcjogQXJyYXkuaXNBcnJheShjb2xvcikgPyBjb2xvci5zbGljZSgpIDogY29sb3IgfHwgdW5kZWZpbmVkLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmlsbCBjb2xvci5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZXxudWxsfSBDb2xvci5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Q29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sb3JfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY29sb3IuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J8aW1wb3J0KFwiLi4vY29sb3JsaWtlLmpzXCIpLkNvbG9yTGlrZXxudWxsfSBjb2xvciBDb2xvci5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Q29sb3IoY29sb3IpIHtcbiAgICB0aGlzLmNvbG9yXyA9IGNvbG9yO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZpbGw7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvSWNvbkltYWdlQ2FjaGVcbiAqL1xuaW1wb3J0IHthc1N0cmluZ30gZnJvbSAnLi4vY29sb3IuanMnO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNpbmdsZXRvbiBjbGFzcy4gQXZhaWxhYmxlIHRocm91Z2gge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9JY29uSW1hZ2VDYWNoZS5zaGFyZWR9LlxuICovXG5jbGFzcyBJY29uSW1hZ2VDYWNoZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgaW1wb3J0KFwiLi9JY29uSW1hZ2UuanNcIikuZGVmYXVsdD59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmNhY2hlXyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuY2FjaGVTaXplXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5tYXhDYWNoZVNpemVfID0gMzI7XG4gIH1cblxuICAvKipcbiAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLmNhY2hlXyA9IHt9O1xuICAgIHRoaXMuY2FjaGVTaXplXyA9IDA7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FuIGV4cGlyZSBjYWNoZS5cbiAgICovXG4gIGNhbkV4cGlyZUNhY2hlKCkge1xuICAgIHJldHVybiB0aGlzLmNhY2hlU2l6ZV8gPiB0aGlzLm1heENhY2hlU2l6ZV87XG4gIH1cblxuICAvKipcbiAgICogRklYTUUgZW1wdHkgZGVzY3JpcHRpb24gZm9yIGpzZG9jXG4gICAqL1xuICBleHBpcmUoKSB7XG4gICAgaWYgKHRoaXMuY2FuRXhwaXJlQ2FjaGUoKSkge1xuICAgICAgbGV0IGkgPSAwO1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5jYWNoZV8pIHtcbiAgICAgICAgY29uc3QgaWNvbkltYWdlID0gdGhpcy5jYWNoZV9ba2V5XTtcbiAgICAgICAgaWYgKChpKysgJiAzKSA9PT0gMCAmJiAhaWNvbkltYWdlLmhhc0xpc3RlbmVyKCkpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5jYWNoZV9ba2V5XTtcbiAgICAgICAgICAtLXRoaXMuY2FjaGVTaXplXztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3JjIFNyYy5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBjcm9zc09yaWdpbiBDcm9zcyBvcmlnaW4uXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29sb3IuanNcIikuQ29sb3J9IGNvbG9yIENvbG9yLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ljb25JbWFnZS5qc1wiKS5kZWZhdWx0fSBJY29uIGltYWdlLlxuICAgKi9cbiAgZ2V0KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKSB7XG4gICAgY29uc3Qga2V5ID0gZ2V0S2V5KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKTtcbiAgICByZXR1cm4ga2V5IGluIHRoaXMuY2FjaGVfID8gdGhpcy5jYWNoZV9ba2V5XSA6IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNyYyBTcmMuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfSBjb2xvciBDb2xvci5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuL0ljb25JbWFnZS5qc1wiKS5kZWZhdWx0fSBpY29uSW1hZ2UgSWNvbiBpbWFnZS5cbiAgICovXG4gIHNldChzcmMsIGNyb3NzT3JpZ2luLCBjb2xvciwgaWNvbkltYWdlKSB7XG4gICAgY29uc3Qga2V5ID0gZ2V0S2V5KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKTtcbiAgICB0aGlzLmNhY2hlX1trZXldID0gaWNvbkltYWdlO1xuICAgICsrdGhpcy5jYWNoZVNpemVfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY2FjaGUgc2l6ZSBvZiB0aGUgaWNvbiBjYWNoZS4gRGVmYXVsdCBpcyBgMzJgLiBDaGFuZ2UgdGhpcyB2YWx1ZSB3aGVuXG4gICAqIHlvdXIgbWFwIHVzZXMgbW9yZSB0aGFuIDMyIGRpZmZlcmVudCBpY29uIGltYWdlcyBhbmQgeW91IGFyZSBub3QgY2FjaGluZyBpY29uXG4gICAqIHN0eWxlcyBvbiB0aGUgYXBwbGljYXRpb24gbGV2ZWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhDYWNoZVNpemUgQ2FjaGUgbWF4IHNpemUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFNpemUobWF4Q2FjaGVTaXplKSB7XG4gICAgdGhpcy5tYXhDYWNoZVNpemVfID0gbWF4Q2FjaGVTaXplO1xuICAgIHRoaXMuZXhwaXJlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjIFNyYy5cbiAqIEBwYXJhbSB7P3N0cmluZ30gY3Jvc3NPcmlnaW4gQ3Jvc3Mgb3JpZ2luLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcn0gY29sb3IgQ29sb3IuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENhY2hlIGtleS5cbiAqL1xuZnVuY3Rpb24gZ2V0S2V5KHNyYywgY3Jvc3NPcmlnaW4sIGNvbG9yKSB7XG4gIGNvbnN0IGNvbG9yU3RyaW5nID0gY29sb3IgPyBhc1N0cmluZyhjb2xvcikgOiAnbnVsbCc7XG4gIHJldHVybiBjcm9zc09yaWdpbiArICc6JyArIHNyYyArICc6JyArIGNvbG9yU3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBJY29uSW1hZ2VDYWNoZTtcblxuLyoqXG4gKiBUaGUge0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9JY29uSW1hZ2VDYWNoZX5JY29uSW1hZ2VDYWNoZX0gZm9yXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0ljb25+SWNvbn0gaW1hZ2VzLlxuICogQGFwaVxuICovXG5leHBvcnQgY29uc3Qgc2hhcmVkID0gbmV3IEljb25JbWFnZUNhY2hlKCk7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvSW1hZ2VcbiAqL1xuaW1wb3J0IHthYnN0cmFjdH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQge3RvU2l6ZX0gZnJvbSAnLi4vc2l6ZS5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IG9wYWNpdHkgT3BhY2l0eS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcm90YXRlV2l0aFZpZXcgSWYgdGhlIGltYWdlIHNob3VsZCBnZXQgcm90YXRlZCB3aXRoIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJvdGF0aW9uIFJvdGF0aW9uLlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBzY2FsZSBTY2FsZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gZGlzcGxhY2VtZW50IERpc3BsYWNlbWVudC5cbiAqIEBwcm9wZXJ0eSB7XCJkZWNsdXR0ZXJcInxcIm9ic3RhY2xlXCJ8XCJub25lXCJ8dW5kZWZpbmVkfSBkZWNsdXR0ZXJNb2RlIERlY2x1dHRlciBtb2RlOiBgZGVjbHV0dGVyYCwgYG9ic3RhY2xlYCwgJ25vbmUgKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBBIGJhc2UgY2xhc3MgdXNlZCBmb3IgY3JlYXRpbmcgc3ViY2xhc3NlcyBhbmQgbm90IGluc3RhbnRpYXRlZCBpblxuICogYXBwcy4gQmFzZSBjbGFzcyBmb3Ige0BsaW5rIG1vZHVsZTpvbC9zdHlsZS9JY29ufkljb259LCB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL0NpcmNsZX5DaXJjbGVTdHlsZX0gYW5kXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL1JlZ3VsYXJTaGFwZX5SZWd1bGFyU2hhcGV9LlxuICogQGFic3RyYWN0XG4gKiBAYXBpXG4gKi9cbmNsYXNzIEltYWdlU3R5bGUge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMub3BhY2l0eV8gPSBvcHRpb25zLm9wYWNpdHk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucm90YXRlV2l0aFZpZXdfID0gb3B0aW9ucy5yb3RhdGVXaXRoVmlldztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0aW9uXyA9IG9wdGlvbnMucm90YXRpb247XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMuc2NhbGVfID0gb3B0aW9ucy5zY2FsZTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLnNjYWxlQXJyYXlfID0gdG9TaXplKG9wdGlvbnMuc2NhbGUpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgKi9cbiAgICB0aGlzLmRpc3BsYWNlbWVudF8gPSBvcHRpb25zLmRpc3BsYWNlbWVudDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1wiZGVjbHV0dGVyXCJ8XCJvYnN0YWNsZVwifFwibm9uZVwifHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmRlY2x1dHRlck1vZGVfID0gb3B0aW9ucy5kZWNsdXR0ZXJNb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgc3R5bGUuXG4gICAqIEByZXR1cm4ge0ltYWdlU3R5bGV9IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGNsb25lKCkge1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgIHJldHVybiBuZXcgSW1hZ2VTdHlsZSh7XG4gICAgICBvcGFjaXR5OiB0aGlzLmdldE9wYWNpdHkoKSxcbiAgICAgIHNjYWxlOiBBcnJheS5pc0FycmF5KHNjYWxlKSA/IHNjYWxlLnNsaWNlKCkgOiBzY2FsZSxcbiAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICByb3RhdGVXaXRoVmlldzogdGhpcy5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgZGlzcGxhY2VtZW50OiB0aGlzLmdldERpc3BsYWNlbWVudCgpLnNsaWNlKCksXG4gICAgICBkZWNsdXR0ZXJNb2RlOiB0aGlzLmdldERlY2x1dHRlck1vZGUoKSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN5bWJvbGl6ZXIgb3BhY2l0eS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBPcGFjaXR5LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRPcGFjaXR5KCkge1xuICAgIHJldHVybiB0aGlzLm9wYWNpdHlfO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB3aGV0aGVyIHRoZSBzeW1ib2xpemVyIHJvdGF0ZXMgd2l0aCB0aGUgbWFwLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBSb3RhdGUgd2l0aCBtYXAuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJvdGF0ZVdpdGhWaWV3KCkge1xuICAgIHJldHVybiB0aGlzLnJvdGF0ZVdpdGhWaWV3XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN5bW9ibGl6ZXIgcm90YXRpb24uXG4gICAqIEByZXR1cm4ge251bWJlcn0gUm90YXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJvdGF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnJvdGF0aW9uXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN5bWJvbGl6ZXIgc2NhbGUuXG4gICAqIEByZXR1cm4ge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFNjYWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRTY2FsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zY2FsZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzeW1ib2xpemVyIHNjYWxlIGFycmF5LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFNjYWxlIGFycmF5LlxuICAgKi9cbiAgZ2V0U2NhbGVBcnJheSgpIHtcbiAgICByZXR1cm4gdGhpcy5zY2FsZUFycmF5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGRpc3BsYWNlbWVudCBvZiB0aGUgc2hhcGVcbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gU2hhcGUncyBjZW50ZXIgZGlzcGxhY2VtZW50XG4gICAqIEBhcGlcbiAgICovXG4gIGdldERpc3BsYWNlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5kaXNwbGFjZW1lbnRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZGVjbHV0dGVyIG1vZGUgb2YgdGhlIHNoYXBlXG4gICAqIEByZXR1cm4ge1wiZGVjbHV0dGVyXCJ8XCJvYnN0YWNsZVwifFwibm9uZVwifHVuZGVmaW5lZH0gU2hhcGUncyBkZWNsdXR0ZXIgbW9kZVxuICAgKiBAYXBpXG4gICAqL1xuICBnZXREZWNsdXR0ZXJNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLmRlY2x1dHRlck1vZGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IGluIHBpeGVscy4gVGhlIGFuY2hvciBkZXRlcm1pbmVzIHRoZSBjZW50ZXIgcG9pbnQgZm9yIHRoZVxuICAgKiBzeW1ib2xpemVyLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gQW5jaG9yLlxuICAgKi9cbiAgZ2V0QW5jaG9yKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaW1hZ2UgZWxlbWVudCBmb3IgdGhlIHN5bWJvbGl6ZXIuXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fSBJbWFnZSBlbGVtZW50LlxuICAgKi9cbiAgZ2V0SW1hZ2UocGl4ZWxSYXRpbykge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR9IEltYWdlIGVsZW1lbnQuXG4gICAqL1xuICBnZXRIaXREZXRlY3Rpb25JbWFnZSgpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGltYWdlIHBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHJldHVybiB7bnVtYmVyfSBQaXhlbCByYXRpby5cbiAgICovXG4gIGdldFBpeGVsUmF0aW8ocGl4ZWxSYXRpbykge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgLyoqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0YXRlLlxuICAgKi9cbiAgZ2V0SW1hZ2VTdGF0ZSgpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBJbWFnZSBzaXplLlxuICAgKi9cbiAgZ2V0SW1hZ2VTaXplKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgb3JpZ2luIG9mIHRoZSBzeW1ib2xpemVyLlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPn0gT3JpZ2luLlxuICAgKi9cbiAgZ2V0T3JpZ2luKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgc3ltYm9saXplciAoaW4gcGl4ZWxzKS5cbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gU2l6ZS5cbiAgICovXG4gIGdldFNpemUoKSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBkaXNwbGFjZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gZGlzcGxhY2VtZW50IERpc3BsYWNlbWVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0RGlzcGxhY2VtZW50KGRpc3BsYWNlbWVudCkge1xuICAgIHRoaXMuZGlzcGxhY2VtZW50XyA9IGRpc3BsYWNlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG9wYWNpdHkuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE9wYWNpdHkob3BhY2l0eSkge1xuICAgIHRoaXMub3BhY2l0eV8gPSBvcGFjaXR5O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB3aGV0aGVyIHRvIHJvdGF0ZSB0aGUgc3R5bGUgd2l0aCB0aGUgdmlldy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByb3RhdGVXaXRoVmlldyBSb3RhdGUgd2l0aCBtYXAuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFJvdGF0ZVdpdGhWaWV3KHJvdGF0ZVdpdGhWaWV3KSB7XG4gICAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSByb3RhdGVXaXRoVmlldztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHJvdGF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gUm90YXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFJvdGF0aW9uKHJvdGF0aW9uKSB7XG4gICAgdGhpcy5yb3RhdGlvbl8gPSByb3RhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHNjYWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IHNjYWxlIFNjYWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRTY2FsZShzY2FsZSkge1xuICAgIHRoaXMuc2NhbGVfID0gc2NhbGU7XG4gICAgdGhpcy5zY2FsZUFycmF5XyA9IHRvU2l6ZShzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICovXG4gIGxpc3RlbkltYWdlQ2hhbmdlKGxpc3RlbmVyKSB7XG4gICAgYWJzdHJhY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIG5vdCB5ZXQgbG9hZGVkIFVSSS5cbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBsb2FkKCkge1xuICAgIGFic3RyYWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW1wb3J0KFwiLi4vZXZlbnRzL0V2ZW50LmpzXCIpLmRlZmF1bHQpOiB2b2lkfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAgICovXG4gIHVubGlzdGVuSW1hZ2VDaGFuZ2UobGlzdGVuZXIpIHtcbiAgICBhYnN0cmFjdCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEltYWdlU3R5bGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvUmVndWxhclNoYXBlXG4gKi9cblxuaW1wb3J0IEltYWdlU3RhdGUgZnJvbSAnLi4vSW1hZ2VTdGF0ZS5qcyc7XG5pbXBvcnQgSW1hZ2VTdHlsZSBmcm9tICcuL0ltYWdlLmpzJztcbmltcG9ydCB7YXNBcnJheX0gZnJvbSAnLi4vY29sb3IuanMnO1xuaW1wb3J0IHthc0NvbG9yTGlrZX0gZnJvbSAnLi4vY29sb3JsaWtlLmpzJztcbmltcG9ydCB7Y3JlYXRlQ2FudmFzQ29udGV4dDJEfSBmcm9tICcuLi9kb20uanMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEZpbGxTdHlsZSxcbiAgZGVmYXVsdExpbmVKb2luLFxuICBkZWZhdWx0TGluZVdpZHRoLFxuICBkZWZhdWx0TWl0ZXJMaW1pdCxcbiAgZGVmYXVsdFN0cm9rZVN0eWxlLFxufSBmcm9tICcuLi9yZW5kZXIvY2FudmFzLmpzJztcblxuLyoqXG4gKiBTcGVjaWZ5IHJhZGl1cyBmb3IgcmVndWxhciBwb2x5Z29ucywgb3IgcmFkaXVzMSBhbmQgcmFkaXVzMiBmb3Igc3RhcnMuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBbZmlsbF0gRmlsbCBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwb2ludHMgTnVtYmVyIG9mIHBvaW50cyBmb3Igc3RhcnMgYW5kIHJlZ3VsYXIgcG9seWdvbnMuIEluIGNhc2Ugb2YgYSBwb2x5Z29uLCB0aGUgbnVtYmVyIG9mIHBvaW50c1xuICogaXMgdGhlIG51bWJlciBvZiBzaWRlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmFkaXVzXSBSYWRpdXMgb2YgYSByZWd1bGFyIHBvbHlnb24uXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JhZGl1czFdIEZpcnN0IHJhZGl1cyBvZiBhIHN0YXIuIElnbm9yZWQgaWYgcmFkaXVzIGlzIHNldC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmFkaXVzMl0gU2Vjb25kIHJhZGl1cyBvZiBhIHN0YXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2FuZ2xlPTBdIFNoYXBlJ3MgYW5nbGUgaW4gcmFkaWFucy4gQSB2YWx1ZSBvZiAwIHdpbGwgaGF2ZSBvbmUgb2YgdGhlIHNoYXBlJ3MgcG9pbnRzIGZhY2luZyB1cC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPn0gW2Rpc3BsYWNlbWVudD1bMCwgMF1dIERpc3BsYWNlbWVudCBvZiB0aGUgc2hhcGUgaW4gcGl4ZWxzLlxuICogUG9zaXRpdmUgdmFsdWVzIHdpbGwgc2hpZnQgdGhlIHNoYXBlIHJpZ2h0IGFuZCB1cC5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gW3N0cm9rZV0gU3Ryb2tlIHN0eWxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcm90YXRlV2l0aFZpZXc9ZmFsc2VdIFdoZXRoZXIgdG8gcm90YXRlIHRoZSBzaGFwZSB3aXRoIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBbc2NhbGU9MV0gU2NhbGUuIFVubGVzcyB0d28gZGltZW5zaW9uYWwgc2NhbGluZyBpcyByZXF1aXJlZCBhIGJldHRlclxuICogcmVzdWx0IG1heSBiZSBvYnRhaW5lZCB3aXRoIGFwcHJvcHJpYXRlIHNldHRpbmdzIGZvciBgcmFkaXVzYCwgYHJhZGl1czFgIGFuZCBgcmFkaXVzMmAuXG4gKiBAcHJvcGVydHkge1wiZGVjbHV0dGVyXCJ8XCJvYnN0YWNsZVwifFwibm9uZVwifHVuZGVmaW5lZH0gW2RlY2x1dHRlck1vZGVdIERlY2x1dHRlciBtb2RlLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmVuZGVyT3B0aW9uc1xuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBbc3Ryb2tlU3R5bGVdIFN0cm9rZVN0eWxlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0cm9rZVdpZHRoIFN0cm9rZVdpZHRoLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNpemUgU2l6ZS5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8bnVtYmVyPnxudWxsfSBsaW5lRGFzaCBMaW5lRGFzaC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lRGFzaE9mZnNldCBMaW5lRGFzaE9mZnNldC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUpvaW59IGxpbmVKb2luIExpbmVKb2luLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pdGVyTGltaXQgTWl0ZXJMaW1pdC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCByZWd1bGFyIHNoYXBlIHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuIFRoZSByZXN1bHRpbmcgc2hhcGUgd2lsbCBiZVxuICogYSByZWd1bGFyIHBvbHlnb24gd2hlbiBgcmFkaXVzYCBpcyBwcm92aWRlZCwgb3IgYSBzdGFyIHdoZW4gYHJhZGl1czFgIGFuZFxuICogYHJhZGl1czJgIGFyZSBwcm92aWRlZC5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgUmVndWxhclNoYXBlIGV4dGVuZHMgSW1hZ2VTdHlsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjb25zdCByb3RhdGVXaXRoVmlldyA9XG4gICAgICBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3IDogZmFsc2U7XG5cbiAgICBzdXBlcih7XG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgcm90YXRlV2l0aFZpZXc6IHJvdGF0ZVdpdGhWaWV3LFxuICAgICAgcm90YXRpb246IG9wdGlvbnMucm90YXRpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucm90YXRpb24gOiAwLFxuICAgICAgc2NhbGU6IG9wdGlvbnMuc2NhbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2NhbGUgOiAxLFxuICAgICAgZGlzcGxhY2VtZW50OlxuICAgICAgICBvcHRpb25zLmRpc3BsYWNlbWVudCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5kaXNwbGFjZW1lbnQgOiBbMCwgMF0sXG4gICAgICBkZWNsdXR0ZXJNb2RlOiBvcHRpb25zLmRlY2x1dHRlck1vZGUsXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtPYmplY3Q8bnVtYmVyLCBIVE1MQ2FudmFzRWxlbWVudD59XG4gICAgICovXG4gICAgdGhpcy5jYW52YXNfID0gdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5oaXREZXRlY3Rpb25DYW52YXNfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuZmlsbF8gPSBvcHRpb25zLmZpbGwgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZmlsbCA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMub3JpZ2luXyA9IFswLCAwXTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBvaW50c18gPSBvcHRpb25zLnBvaW50cztcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmFkaXVzXyA9XG4gICAgICBvcHRpb25zLnJhZGl1cyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yYWRpdXMgOiBvcHRpb25zLnJhZGl1czE7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucmFkaXVzMl8gPSBvcHRpb25zLnJhZGl1czI7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5hbmdsZV8gPSBvcHRpb25zLmFuZ2xlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmFuZ2xlIDogMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5zdHJva2VfID0gb3B0aW9ucy5zdHJva2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc3Ryb2tlIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX1cbiAgICAgKi9cbiAgICB0aGlzLnNpemVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1JlbmRlck9wdGlvbnN9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJPcHRpb25zXyA9IG51bGw7XG5cbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgc3R5bGUuXG4gICAqIEByZXR1cm4ge1JlZ3VsYXJTaGFwZX0gVGhlIGNsb25lZCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmdldFNjYWxlKCk7XG4gICAgY29uc3Qgc3R5bGUgPSBuZXcgUmVndWxhclNoYXBlKHtcbiAgICAgIGZpbGw6IHRoaXMuZ2V0RmlsbCgpID8gdGhpcy5nZXRGaWxsKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgIHBvaW50czogdGhpcy5nZXRQb2ludHMoKSxcbiAgICAgIHJhZGl1czogdGhpcy5nZXRSYWRpdXMoKSxcbiAgICAgIHJhZGl1czI6IHRoaXMuZ2V0UmFkaXVzMigpLFxuICAgICAgYW5nbGU6IHRoaXMuZ2V0QW5nbGUoKSxcbiAgICAgIHN0cm9rZTogdGhpcy5nZXRTdHJva2UoKSA/IHRoaXMuZ2V0U3Ryb2tlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgIHJvdGF0aW9uOiB0aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICByb3RhdGVXaXRoVmlldzogdGhpcy5nZXRSb3RhdGVXaXRoVmlldygpLFxuICAgICAgc2NhbGU6IEFycmF5LmlzQXJyYXkoc2NhbGUpID8gc2NhbGUuc2xpY2UoKSA6IHNjYWxlLFxuICAgICAgZGlzcGxhY2VtZW50OiB0aGlzLmdldERpc3BsYWNlbWVudCgpLnNsaWNlKCksXG4gICAgICBkZWNsdXR0ZXJNb2RlOiB0aGlzLmdldERlY2x1dHRlck1vZGUoKSxcbiAgICB9KTtcbiAgICBzdHlsZS5zZXRPcGFjaXR5KHRoaXMuZ2V0T3BhY2l0eSgpKTtcbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhbmNob3IgcG9pbnQgaW4gcGl4ZWxzLiBUaGUgYW5jaG9yIGRldGVybWluZXMgdGhlIGNlbnRlciBwb2ludCBmb3IgdGhlXG4gICAqIHN5bWJvbGl6ZXIuXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IEFuY2hvci5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0QW5jaG9yKCkge1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLnNpemVfO1xuICAgIGlmICghc2l6ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGRpc3BsYWNlbWVudCA9IHRoaXMuZ2V0RGlzcGxhY2VtZW50KCk7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmdldFNjYWxlQXJyYXkoKTtcbiAgICAvLyBhbmNob3IgaXMgc2NhbGVkIGJ5IHJlbmRlcmVyIGJ1dCBkaXNwbGFjZW1lbnQgc2hvdWxkIG5vdCBiZSBzY2FsZWRcbiAgICAvLyBzbyBkaXZpZGUgYnkgc2NhbGUgaGVyZVxuICAgIHJldHVybiBbXG4gICAgICBzaXplWzBdIC8gMiAtIGRpc3BsYWNlbWVudFswXSAvIHNjYWxlWzBdLFxuICAgICAgc2l6ZVsxXSAvIDIgKyBkaXNwbGFjZW1lbnRbMV0gLyBzY2FsZVsxXSxcbiAgICBdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYW5nbGUgdXNlZCBpbiBnZW5lcmF0aW5nIHRoZSBzaGFwZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBTaGFwZSdzIHJvdGF0aW9uIGluIHJhZGlhbnMuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEFuZ2xlKCkge1xuICAgIHJldHVybiB0aGlzLmFuZ2xlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZpbGwgc3R5bGUgZm9yIHRoZSBzaGFwZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IEZpbGwgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEZpbGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmlsbF87XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBmaWxsIHN0eWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsIEZpbGwgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEZpbGwoZmlsbCkge1xuICAgIHRoaXMuZmlsbF8gPSBmaWxsO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEltYWdlIGVsZW1lbnQuXG4gICAqL1xuICBnZXRIaXREZXRlY3Rpb25JbWFnZSgpIHtcbiAgICBpZiAoIXRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXykge1xuICAgICAgdGhpcy5jcmVhdGVIaXREZXRlY3Rpb25DYW52YXNfKHRoaXMucmVuZGVyT3B0aW9uc18pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oaXREZXRlY3Rpb25DYW52YXNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaW1hZ2UgaWNvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW8gUGl4ZWwgcmF0aW8uXG4gICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBJbWFnZSBvciBDYW52YXMgZWxlbWVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0SW1hZ2UocGl4ZWxSYXRpbykge1xuICAgIGxldCBpbWFnZSA9IHRoaXMuY2FudmFzX1twaXhlbFJhdGlvXTtcbiAgICBpZiAoIWltYWdlKSB7XG4gICAgICBjb25zdCByZW5kZXJPcHRpb25zID0gdGhpcy5yZW5kZXJPcHRpb25zXztcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVDYW52YXNDb250ZXh0MkQoXG4gICAgICAgIHJlbmRlck9wdGlvbnMuc2l6ZSAqIHBpeGVsUmF0aW8sXG4gICAgICAgIHJlbmRlck9wdGlvbnMuc2l6ZSAqIHBpeGVsUmF0aW9cbiAgICAgICk7XG4gICAgICB0aGlzLmRyYXdfKHJlbmRlck9wdGlvbnMsIGNvbnRleHQsIHBpeGVsUmF0aW8pO1xuXG4gICAgICBpbWFnZSA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgdGhpcy5jYW52YXNfW3BpeGVsUmF0aW9dID0gaW1hZ2U7XG4gICAgfVxuICAgIHJldHVybiBpbWFnZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGltYWdlIHBpeGVsIHJhdGlvLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGl4ZWxSYXRpbyBQaXhlbCByYXRpby5cbiAgICogQHJldHVybiB7bnVtYmVyfSBQaXhlbCByYXRpby5cbiAgICovXG4gIGdldFBpeGVsUmF0aW8ocGl4ZWxSYXRpbykge1xuICAgIHJldHVybiBwaXhlbFJhdGlvO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gSW1hZ2Ugc2l6ZS5cbiAgICovXG4gIGdldEltYWdlU2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zaXplXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9JbWFnZVN0YXRlLmpzXCIpLmRlZmF1bHR9IEltYWdlIHN0YXRlLlxuICAgKi9cbiAgZ2V0SW1hZ2VTdGF0ZSgpIHtcbiAgICByZXR1cm4gSW1hZ2VTdGF0ZS5MT0FERUQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBvcmlnaW4gb2YgdGhlIHN5bWJvbGl6ZXIuXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IE9yaWdpbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0T3JpZ2luKCkge1xuICAgIHJldHVybiB0aGlzLm9yaWdpbl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBudW1iZXIgb2YgcG9pbnRzIGZvciBnZW5lcmF0aW5nIHRoZSBzaGFwZS5cbiAgICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgb2YgcG9pbnRzIGZvciBzdGFycyBhbmQgcmVndWxhciBwb2x5Z29ucy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UG9pbnRzKCkge1xuICAgIHJldHVybiB0aGlzLnBvaW50c187XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSAocHJpbWFyeSkgcmFkaXVzIGZvciB0aGUgc2hhcGUuXG4gICAqIEByZXR1cm4ge251bWJlcn0gUmFkaXVzLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRSYWRpdXMoKSB7XG4gICAgcmV0dXJuIHRoaXMucmFkaXVzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNlY29uZGFyeSByYWRpdXMgZm9yIHRoZSBzaGFwZS5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUmFkaXVzMi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UmFkaXVzMigpIHtcbiAgICByZXR1cm4gdGhpcy5yYWRpdXMyXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIHN5bWJvbGl6ZXIgKGluIHBpeGVscykuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gU2l6ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0U2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zaXplXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0cm9rZSBzdHlsZSBmb3IgdGhlIHNoYXBlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBTdHJva2Ugc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFN0cm9rZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdHJva2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc3Ryb2tlIHN0eWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZSBTdHJva2Ugc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFN0cm9rZShzdHJva2UpIHtcbiAgICB0aGlzLnN0cm9rZV8gPSBzdHJva2U7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL2V2ZW50cy9FdmVudC5qc1wiKS5kZWZhdWx0KTogdm9pZH0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqL1xuICBsaXN0ZW5JbWFnZUNoYW5nZShsaXN0ZW5lcikge31cblxuICAvKipcbiAgICogTG9hZCBub3QgeWV0IGxvYWRlZCBVUkkuXG4gICAqL1xuICBsb2FkKCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9ldmVudHMvRXZlbnQuanNcIikuZGVmYXVsdCk6IHZvaWR9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgKi9cbiAgdW5saXN0ZW5JbWFnZUNoYW5nZShsaXN0ZW5lcikge31cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIGFkZGl0aW9uYWwgY2FudmFzIHNpemUgbmVlZGVkIGZvciB0aGUgbWl0ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lSm9pbiBMaW5lIGpvaW5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0cm9rZVdpZHRoIFN0cm9rZSB3aWR0aFxuICAgKiBAcGFyYW0ge251bWJlcn0gbWl0ZXJMaW1pdCBNaXRlciBsaW1pdFxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFkZGl0aW9uYWwgY2FudmFzIHNpemUgbmVlZGVkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjYWxjdWxhdGVMaW5lSm9pblNpemVfKGxpbmVKb2luLCBzdHJva2VXaWR0aCwgbWl0ZXJMaW1pdCkge1xuICAgIGlmIChcbiAgICAgIHN0cm9rZVdpZHRoID09PSAwIHx8XG4gICAgICB0aGlzLnBvaW50c18gPT09IEluZmluaXR5IHx8XG4gICAgICAobGluZUpvaW4gIT09ICdiZXZlbCcgJiYgbGluZUpvaW4gIT09ICdtaXRlcicpXG4gICAgKSB7XG4gICAgICByZXR1cm4gc3Ryb2tlV2lkdGg7XG4gICAgfVxuICAgIC8vIG0gIHwgXlxuICAgIC8vIGkgIHwgfFxcICAgICAgICAgICAgICAgICAgLlxuICAgIC8vIHQgPnwgICNcXFxuICAgIC8vIGUgIHwgfFxcIFxcICAgICAgICAgICAgICAuXG4gICAgLy8gciAgICAgIFxcc1xcXG4gICAgLy8gICAgICB8ICBcXHRcXCAgICAgICAgICAuICAgICAgICAgICAgICAgICAuXG4gICAgLy8gICAgICAgICAgXFxyXFwgICAgICAgICAgICAgICAgICAgICAgLiAgIC5cbiAgICAvLyAgICAgIHwgICAgXFxvXFwgICAgICAuICAgICAgICAgIC4gIC4gLiAuXG4gICAgLy8gICAgICAgICAgZSBcXGtcXCAgICAgICAgICAgIC4gIC4gICAgLiAuXG4gICAgLy8gICAgICB8ICAgICAgXFxlXFwgIC4gICAgLiAgLiAgICAgICAuIC5cbiAgICAvLyAgICAgICBkICAgICAgXFwgXFwgIC4gIC4gICAgICAgICAgLiAuXG4gICAgLy8gICAgICB8IF8gX2FfIF9cXCMgIC4gICAgICAgICAgICAuIC5cbiAgICAvLyAgIHIxICAgICAgICAgIC8gYCAgICAgICAgICAgICAuIC5cbiAgICAvLyAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIC4gLlxuICAgIC8vICAgICAgIGIgICAgIC8gICAgICAgICAgICAgICAuIC5cbiAgICAvLyAgICAgIHwgICAgICAgICAgICAgICAgICAgICAuIC5cbiAgICAvLyAgICAgICAgICAgLyByMiAgICAgICAgICAgIC4gLlxuICAgIC8vICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgIC4gICAuXG4gICAgLy8gICAgICAgICAvICAgICAgICAgICAgICAgICAgICAgICAgICAgLiAgIC5cbiAgICAvLyAgICAgIHzOsSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLiAgIC5cbiAgICAvLyAgICAgICAvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuICAgLlxuICAgIC8vICAgICAgwrAgY2VudGVyXG4gICAgbGV0IHIxID0gdGhpcy5yYWRpdXNfO1xuICAgIGxldCByMiA9IHRoaXMucmFkaXVzMl8gPT09IHVuZGVmaW5lZCA/IHIxIDogdGhpcy5yYWRpdXMyXztcbiAgICBpZiAocjEgPCByMikge1xuICAgICAgY29uc3QgdG1wID0gcjE7XG4gICAgICByMSA9IHIyO1xuICAgICAgcjIgPSB0bXA7XG4gICAgfVxuICAgIGNvbnN0IHBvaW50cyA9XG4gICAgICB0aGlzLnJhZGl1czJfID09PSB1bmRlZmluZWQgPyB0aGlzLnBvaW50c18gOiB0aGlzLnBvaW50c18gKiAyO1xuICAgIGNvbnN0IGFscGhhID0gKDIgKiBNYXRoLlBJKSAvIHBvaW50cztcbiAgICBjb25zdCBhID0gcjIgKiBNYXRoLnNpbihhbHBoYSk7XG4gICAgY29uc3QgYiA9IE1hdGguc3FydChyMiAqIHIyIC0gYSAqIGEpO1xuICAgIGNvbnN0IGQgPSByMSAtIGI7XG4gICAgY29uc3QgZSA9IE1hdGguc3FydChhICogYSArIGQgKiBkKTtcbiAgICBjb25zdCBtaXRlclJhdGlvID0gZSAvIGE7XG4gICAgaWYgKGxpbmVKb2luID09PSAnbWl0ZXInICYmIG1pdGVyUmF0aW8gPD0gbWl0ZXJMaW1pdCkge1xuICAgICAgcmV0dXJuIG1pdGVyUmF0aW8gKiBzdHJva2VXaWR0aDtcbiAgICB9XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBkaXN0bmNlIGZyb20gY2VudGVyIHRvIHRoZSBzdHJva2UgY29ybmVyIHdoZXJlXG4gICAgLy8gaXQgd2FzIGN1dCBzaG9ydCBiZWNhdXNlIG9mIHRoZSBtaXRlciBsaW1pdC5cbiAgICAvLyAgICAgICAgICAgICAgbFxuICAgIC8vICAgICAgICAtLS0tKy0tLS0gPD0gZGlzdGFuY2UgZnJvbSBjZW50ZXIgdG8gaGVyZSBpcyBtYXhyXG4gICAgLy8gICAgICAgLyMjIyN8ayAjI1xcXG4gICAgLy8gICAgICAvIyMjIyNeIyMjIyNcXFxuICAgIC8vICAgICAvIyMjIyAvK1xcIyBzICNcXFxuICAgIC8vICAgIC8jIyMgaC8rKytcXCMgdCAjXFxcbiAgICAvLyAgIC8jIyMgdC8rKysrK1xcIyByICNcXFxuICAgIC8vICAvIyMjIGEvKysrKysrK1xcIyBvICNcXFxuICAgIC8vIC8jIyMgcC8rKyBmaWxsICtcXCMgayAjXFxcbiAgICAvLy8jIyMjIC8rKysrK14rKysrK1xcIyBlICNcXFxuICAgIC8vIyMjIyMvKysrKysvK1xcKysrKytcXCMjIyMjXFxcbiAgICBjb25zdCBrID0gc3Ryb2tlV2lkdGggLyAyIC8gbWl0ZXJSYXRpbztcbiAgICBjb25zdCBsID0gKHN0cm9rZVdpZHRoIC8gMikgKiAoZCAvIGUpO1xuICAgIGNvbnN0IG1heHIgPSBNYXRoLnNxcnQoKHIxICsgaykgKiAocjEgKyBrKSArIGwgKiBsKTtcbiAgICBjb25zdCBiZXZlbEFkZCA9IG1heHIgLSByMTtcbiAgICBpZiAodGhpcy5yYWRpdXMyXyA9PT0gdW5kZWZpbmVkIHx8IGxpbmVKb2luID09PSAnYmV2ZWwnKSB7XG4gICAgICByZXR1cm4gYmV2ZWxBZGQgKiAyO1xuICAgIH1cbiAgICAvLyBJZiBvdXRlciBtaXRlciBpcyBvdmVyIHRoZSBtaXRlciBsaW1pdCB0aGUgaW5uZXIgbWl0ZXIgbWF5IHJlYWNoIHRocm91Z2ggdGhlXG4gICAgLy8gY2VudGVyIGFuZCBiZSBsb25nZXIgdGhhbiB0aGUgYmV2ZWwsIHNhbWUgY2FsY3VsYXRpb24gYXMgYWJvdmUgYnV0IHN3YXAgcjEgLyByMi5cbiAgICBjb25zdCBhYSA9IHIxICogTWF0aC5zaW4oYWxwaGEpO1xuICAgIGNvbnN0IGJiID0gTWF0aC5zcXJ0KHIxICogcjEgLSBhYSAqIGFhKTtcbiAgICBjb25zdCBkZCA9IHIyIC0gYmI7XG4gICAgY29uc3QgZWUgPSBNYXRoLnNxcnQoYWEgKiBhYSArIGRkICogZGQpO1xuICAgIGNvbnN0IGlubmVyTWl0ZXJSYXRpbyA9IGVlIC8gYWE7XG4gICAgaWYgKGlubmVyTWl0ZXJSYXRpbyA8PSBtaXRlckxpbWl0KSB7XG4gICAgICBjb25zdCBpbm5lckxlbmd0aCA9IChpbm5lck1pdGVyUmF0aW8gKiBzdHJva2VXaWR0aCkgLyAyIC0gcjIgLSByMTtcbiAgICAgIHJldHVybiAyICogTWF0aC5tYXgoYmV2ZWxBZGQsIGlubmVyTGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIGJldmVsQWRkICogMjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtSZW5kZXJPcHRpb25zfSAgVGhlIHJlbmRlciBvcHRpb25zXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGNyZWF0ZVJlbmRlck9wdGlvbnMoKSB7XG4gICAgbGV0IGxpbmVKb2luID0gZGVmYXVsdExpbmVKb2luO1xuICAgIGxldCBtaXRlckxpbWl0ID0gMDtcbiAgICBsZXQgbGluZURhc2ggPSBudWxsO1xuICAgIGxldCBsaW5lRGFzaE9mZnNldCA9IDA7XG4gICAgbGV0IHN0cm9rZVN0eWxlO1xuICAgIGxldCBzdHJva2VXaWR0aCA9IDA7XG5cbiAgICBpZiAodGhpcy5zdHJva2VfKSB7XG4gICAgICBzdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlXy5nZXRDb2xvcigpO1xuICAgICAgaWYgKHN0cm9rZVN0eWxlID09PSBudWxsKSB7XG4gICAgICAgIHN0cm9rZVN0eWxlID0gZGVmYXVsdFN0cm9rZVN0eWxlO1xuICAgICAgfVxuICAgICAgc3Ryb2tlU3R5bGUgPSBhc0NvbG9yTGlrZShzdHJva2VTdHlsZSk7XG4gICAgICBzdHJva2VXaWR0aCA9IHRoaXMuc3Ryb2tlXy5nZXRXaWR0aCgpO1xuICAgICAgaWYgKHN0cm9rZVdpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3Ryb2tlV2lkdGggPSBkZWZhdWx0TGluZVdpZHRoO1xuICAgICAgfVxuICAgICAgbGluZURhc2ggPSB0aGlzLnN0cm9rZV8uZ2V0TGluZURhc2goKTtcbiAgICAgIGxpbmVEYXNoT2Zmc2V0ID0gdGhpcy5zdHJva2VfLmdldExpbmVEYXNoT2Zmc2V0KCk7XG4gICAgICBsaW5lSm9pbiA9IHRoaXMuc3Ryb2tlXy5nZXRMaW5lSm9pbigpO1xuICAgICAgaWYgKGxpbmVKb2luID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGluZUpvaW4gPSBkZWZhdWx0TGluZUpvaW47XG4gICAgICB9XG4gICAgICBtaXRlckxpbWl0ID0gdGhpcy5zdHJva2VfLmdldE1pdGVyTGltaXQoKTtcbiAgICAgIGlmIChtaXRlckxpbWl0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWl0ZXJMaW1pdCA9IGRlZmF1bHRNaXRlckxpbWl0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGFkZCA9IHRoaXMuY2FsY3VsYXRlTGluZUpvaW5TaXplXyhsaW5lSm9pbiwgc3Ryb2tlV2lkdGgsIG1pdGVyTGltaXQpO1xuICAgIGNvbnN0IG1heFJhZGl1cyA9IE1hdGgubWF4KHRoaXMucmFkaXVzXywgdGhpcy5yYWRpdXMyXyB8fCAwKTtcbiAgICBjb25zdCBzaXplID0gTWF0aC5jZWlsKDIgKiBtYXhSYWRpdXMgKyBhZGQpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0cm9rZVN0eWxlOiBzdHJva2VTdHlsZSxcbiAgICAgIHN0cm9rZVdpZHRoOiBzdHJva2VXaWR0aCxcbiAgICAgIHNpemU6IHNpemUsXG4gICAgICBsaW5lRGFzaDogbGluZURhc2gsXG4gICAgICBsaW5lRGFzaE9mZnNldDogbGluZURhc2hPZmZzZXQsXG4gICAgICBsaW5lSm9pbjogbGluZUpvaW4sXG4gICAgICBtaXRlckxpbWl0OiBtaXRlckxpbWl0LFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMucmVuZGVyT3B0aW9uc18gPSB0aGlzLmNyZWF0ZVJlbmRlck9wdGlvbnMoKTtcbiAgICBjb25zdCBzaXplID0gdGhpcy5yZW5kZXJPcHRpb25zXy5zaXplO1xuICAgIHRoaXMuY2FudmFzXyA9IHt9O1xuICAgIHRoaXMuc2l6ZV8gPSBbc2l6ZSwgc2l6ZV07XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtSZW5kZXJPcHRpb25zfSByZW5kZXJPcHRpb25zIFJlbmRlciBvcHRpb25zLlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvIFRoZSBwaXhlbCByYXRpby5cbiAgICovXG4gIGRyYXdfKHJlbmRlck9wdGlvbnMsIGNvbnRleHQsIHBpeGVsUmF0aW8pIHtcbiAgICBjb250ZXh0LnNjYWxlKHBpeGVsUmF0aW8sIHBpeGVsUmF0aW8pO1xuICAgIC8vIHNldCBvcmlnaW4gdG8gY2FudmFzIGNlbnRlclxuICAgIGNvbnRleHQudHJhbnNsYXRlKHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIsIHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIpO1xuXG4gICAgdGhpcy5jcmVhdGVQYXRoXyhjb250ZXh0KTtcblxuICAgIGlmICh0aGlzLmZpbGxfKSB7XG4gICAgICBsZXQgY29sb3IgPSB0aGlzLmZpbGxfLmdldENvbG9yKCk7XG4gICAgICBpZiAoY29sb3IgPT09IG51bGwpIHtcbiAgICAgICAgY29sb3IgPSBkZWZhdWx0RmlsbFN0eWxlO1xuICAgICAgfVxuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBhc0NvbG9yTGlrZShjb2xvcik7XG4gICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3Ryb2tlXykge1xuICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHJlbmRlck9wdGlvbnMuc3Ryb2tlU3R5bGU7XG4gICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHJlbmRlck9wdGlvbnMuc3Ryb2tlV2lkdGg7XG4gICAgICBpZiAocmVuZGVyT3B0aW9ucy5saW5lRGFzaCkge1xuICAgICAgICBjb250ZXh0LnNldExpbmVEYXNoKHJlbmRlck9wdGlvbnMubGluZURhc2gpO1xuICAgICAgICBjb250ZXh0LmxpbmVEYXNoT2Zmc2V0ID0gcmVuZGVyT3B0aW9ucy5saW5lRGFzaE9mZnNldDtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQubGluZUpvaW4gPSByZW5kZXJPcHRpb25zLmxpbmVKb2luO1xuICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gcmVuZGVyT3B0aW9ucy5taXRlckxpbWl0O1xuICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtSZW5kZXJPcHRpb25zfSByZW5kZXJPcHRpb25zIFJlbmRlciBvcHRpb25zLlxuICAgKi9cbiAgY3JlYXRlSGl0RGV0ZWN0aW9uQ2FudmFzXyhyZW5kZXJPcHRpb25zKSB7XG4gICAgaWYgKHRoaXMuZmlsbF8pIHtcbiAgICAgIGxldCBjb2xvciA9IHRoaXMuZmlsbF8uZ2V0Q29sb3IoKTtcblxuICAgICAgLy8gZGV0ZXJtaW5lIGlmIGZpbGwgaXMgdHJhbnNwYXJlbnQgKG9yIHBhdHRlcm4gb3IgZ3JhZGllbnQpXG4gICAgICBsZXQgb3BhY2l0eSA9IDA7XG4gICAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb2xvciA9IGFzQXJyYXkoY29sb3IpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbG9yID09PSBudWxsKSB7XG4gICAgICAgIG9wYWNpdHkgPSAxO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbG9yKSkge1xuICAgICAgICBvcGFjaXR5ID0gY29sb3IubGVuZ3RoID09PSA0ID8gY29sb3JbM10gOiAxO1xuICAgICAgfVxuICAgICAgaWYgKG9wYWNpdHkgPT09IDApIHtcbiAgICAgICAgLy8gaWYgYSB0cmFuc3BhcmVudCBmaWxsIHN0eWxlIGlzIHNldCwgY3JlYXRlIGFuIGV4dHJhIGhpdC1kZXRlY3Rpb24gaW1hZ2VcbiAgICAgICAgLy8gd2l0aCBhIGRlZmF1bHQgZmlsbCBzdHlsZVxuICAgICAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQ2FudmFzQ29udGV4dDJEKFxuICAgICAgICAgIHJlbmRlck9wdGlvbnMuc2l6ZSxcbiAgICAgICAgICByZW5kZXJPcHRpb25zLnNpemVcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5oaXREZXRlY3Rpb25DYW52YXNfID0gY29udGV4dC5jYW52YXM7XG5cbiAgICAgICAgdGhpcy5kcmF3SGl0RGV0ZWN0aW9uQ2FudmFzXyhyZW5kZXJPcHRpb25zLCBjb250ZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLmhpdERldGVjdGlvbkNhbnZhc18pIHtcbiAgICAgIHRoaXMuaGl0RGV0ZWN0aW9uQ2FudmFzXyA9IHRoaXMuZ2V0SW1hZ2UoMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGRyYXcgaW4uXG4gICAqL1xuICBjcmVhdGVQYXRoXyhjb250ZXh0KSB7XG4gICAgbGV0IHBvaW50cyA9IHRoaXMucG9pbnRzXztcbiAgICBjb25zdCByYWRpdXMgPSB0aGlzLnJhZGl1c187XG4gICAgaWYgKHBvaW50cyA9PT0gSW5maW5pdHkpIHtcbiAgICAgIGNvbnRleHQuYXJjKDAsIDAsIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByYWRpdXMyID0gdGhpcy5yYWRpdXMyXyA9PT0gdW5kZWZpbmVkID8gcmFkaXVzIDogdGhpcy5yYWRpdXMyXztcbiAgICAgIGlmICh0aGlzLnJhZGl1czJfICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcG9pbnRzICo9IDI7XG4gICAgICB9XG4gICAgICBjb25zdCBzdGFydEFuZ2xlID0gdGhpcy5hbmdsZV8gLSBNYXRoLlBJIC8gMjtcbiAgICAgIGNvbnN0IHN0ZXAgPSAoMiAqIE1hdGguUEkpIC8gcG9pbnRzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHM7IGkrKykge1xuICAgICAgICBjb25zdCBhbmdsZTAgPSBzdGFydEFuZ2xlICsgaSAqIHN0ZXA7XG4gICAgICAgIGNvbnN0IHJhZGl1c0MgPSBpICUgMiA9PT0gMCA/IHJhZGl1cyA6IHJhZGl1czI7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHJhZGl1c0MgKiBNYXRoLmNvcyhhbmdsZTApLCByYWRpdXNDICogTWF0aC5zaW4oYW5nbGUwKSk7XG4gICAgICB9XG4gICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1JlbmRlck9wdGlvbnN9IHJlbmRlck9wdGlvbnMgUmVuZGVyIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IFRoZSBjb250ZXh0LlxuICAgKi9cbiAgZHJhd0hpdERldGVjdGlvbkNhbnZhc18ocmVuZGVyT3B0aW9ucywgY29udGV4dCkge1xuICAgIC8vIHNldCBvcmlnaW4gdG8gY2FudmFzIGNlbnRlclxuICAgIGNvbnRleHQudHJhbnNsYXRlKHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIsIHJlbmRlck9wdGlvbnMuc2l6ZSAvIDIpO1xuXG4gICAgdGhpcy5jcmVhdGVQYXRoXyhjb250ZXh0KTtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZGVmYXVsdEZpbGxTdHlsZTtcbiAgICBjb250ZXh0LmZpbGwoKTtcbiAgICBpZiAodGhpcy5zdHJva2VfKSB7XG4gICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gcmVuZGVyT3B0aW9ucy5zdHJva2VTdHlsZTtcbiAgICAgIGNvbnRleHQubGluZVdpZHRoID0gcmVuZGVyT3B0aW9ucy5zdHJva2VXaWR0aDtcbiAgICAgIGlmIChyZW5kZXJPcHRpb25zLmxpbmVEYXNoKSB7XG4gICAgICAgIGNvbnRleHQuc2V0TGluZURhc2gocmVuZGVyT3B0aW9ucy5saW5lRGFzaCk7XG4gICAgICAgIGNvbnRleHQubGluZURhc2hPZmZzZXQgPSByZW5kZXJPcHRpb25zLmxpbmVEYXNoT2Zmc2V0O1xuICAgICAgfVxuICAgICAgY29udGV4dC5saW5lSm9pbiA9IHJlbmRlck9wdGlvbnMubGluZUpvaW47XG4gICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSByZW5kZXJPcHRpb25zLm1pdGVyTGltaXQ7XG4gICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZWd1bGFyU2hhcGU7XG4iLCIvKipcbiAqIEBtb2R1bGUgb2wvc3R5bGUvU3Ryb2tlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2NvbG9yLmpzXCIpLkNvbG9yfGltcG9ydChcIi4uL2NvbG9ybGlrZS5qc1wiKS5Db2xvckxpa2V9IFtjb2xvcl0gQSBjb2xvciwgZ3JhZGllbnQgb3IgcGF0dGVybi5cbiAqIFNlZSB7QGxpbmsgbW9kdWxlOm9sL2NvbG9yfkNvbG9yfSBhbmQge0BsaW5rIG1vZHVsZTpvbC9jb2xvcmxpa2V+Q29sb3JMaWtlfSBmb3IgcG9zc2libGUgZm9ybWF0cy5cbiAqIERlZmF1bHQgbnVsbDsgaWYgbnVsbCwgdGhlIENhbnZhcy9yZW5kZXJlciBkZWZhdWx0IGJsYWNrIHdpbGwgYmUgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzTGluZUNhcH0gW2xpbmVDYXA9J3JvdW5kJ10gTGluZSBjYXAgc3R5bGU6IGBidXR0YCwgYHJvdW5kYCwgb3IgYHNxdWFyZWAuXG4gKiBAcHJvcGVydHkge0NhbnZhc0xpbmVKb2lufSBbbGluZUpvaW49J3JvdW5kJ10gTGluZSBqb2luIHN0eWxlOiBgYmV2ZWxgLCBgcm91bmRgLCBvciBgbWl0ZXJgLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbbGluZURhc2hdIExpbmUgZGFzaCBwYXR0ZXJuLiBEZWZhdWx0IGlzIGBudWxsYCAobm8gZGFzaCkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xpbmVEYXNoT2Zmc2V0PTBdIExpbmUgZGFzaCBvZmZzZXQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pdGVyTGltaXQ9MTBdIE1pdGVyIGxpbWl0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt3aWR0aF0gV2lkdGguXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBTZXQgc3Ryb2tlIHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuXG4gKiBOb3RlIHRoYXQgdGhlIGRlZmF1bHRzIGdpdmVuIGFyZSB0aGUgQ2FudmFzIGRlZmF1bHRzLCB3aGljaCB3aWxsIGJlIHVzZWQgaWZcbiAqIG9wdGlvbiBpcyBub3QgZGVmaW5lZC4gVGhlIGBnZXRgIGZ1bmN0aW9ucyByZXR1cm4gd2hhdGV2ZXIgd2FzIGVudGVyZWQgaW5cbiAqIHRoZSBvcHRpb25zOyB0aGV5IHdpbGwgbm90IHJldHVybiB0aGUgZGVmYXVsdC5cbiAqIEBhcGlcbiAqL1xuY2xhc3MgU3Ryb2tlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfVxuICAgICAqL1xuICAgIHRoaXMuY29sb3JfID0gb3B0aW9ucy5jb2xvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xvciA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDYW52YXNMaW5lQ2FwfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVDYXBfID0gb3B0aW9ucy5saW5lQ2FwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPnxudWxsfVxuICAgICAqL1xuICAgIHRoaXMubGluZURhc2hfID0gb3B0aW9ucy5saW5lRGFzaCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5saW5lRGFzaCA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMubGluZURhc2hPZmZzZXRfID0gb3B0aW9ucy5saW5lRGFzaE9mZnNldDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0NhbnZhc0xpbmVKb2lufHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVKb2luXyA9IG9wdGlvbnMubGluZUpvaW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMubWl0ZXJMaW1pdF8gPSBvcHRpb25zLm1pdGVyTGltaXQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMud2lkdGhfID0gb3B0aW9ucy53aWR0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHN0eWxlLlxuICAgKiBAcmV0dXJuIHtTdHJva2V9IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGNsb25lKCkge1xuICAgIGNvbnN0IGNvbG9yID0gdGhpcy5nZXRDb2xvcigpO1xuICAgIHJldHVybiBuZXcgU3Ryb2tlKHtcbiAgICAgIGNvbG9yOiBBcnJheS5pc0FycmF5KGNvbG9yKSA/IGNvbG9yLnNsaWNlKCkgOiBjb2xvciB8fCB1bmRlZmluZWQsXG4gICAgICBsaW5lQ2FwOiB0aGlzLmdldExpbmVDYXAoKSxcbiAgICAgIGxpbmVEYXNoOiB0aGlzLmdldExpbmVEYXNoKCkgPyB0aGlzLmdldExpbmVEYXNoKCkuc2xpY2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgIGxpbmVEYXNoT2Zmc2V0OiB0aGlzLmdldExpbmVEYXNoT2Zmc2V0KCksXG4gICAgICBsaW5lSm9pbjogdGhpcy5nZXRMaW5lSm9pbigpLFxuICAgICAgbWl0ZXJMaW1pdDogdGhpcy5nZXRNaXRlckxpbWl0KCksXG4gICAgICB3aWR0aDogdGhpcy5nZXRXaWR0aCgpLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3Ryb2tlIGNvbG9yLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBDb2xvci5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Q29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sb3JfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGluZSBjYXAgdHlwZSBmb3IgdGhlIHN0cm9rZS5cbiAgICogQHJldHVybiB7Q2FudmFzTGluZUNhcHx1bmRlZmluZWR9IExpbmUgY2FwLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRMaW5lQ2FwKCkge1xuICAgIHJldHVybiB0aGlzLmxpbmVDYXBfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGluZSBkYXNoIHN0eWxlIGZvciB0aGUgc3Ryb2tlLlxuICAgKiBAcmV0dXJuIHtBcnJheTxudW1iZXI+fG51bGx9IExpbmUgZGFzaC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TGluZURhc2goKSB7XG4gICAgcmV0dXJuIHRoaXMubGluZURhc2hfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGluZSBkYXNoIG9mZnNldCBmb3IgdGhlIHN0cm9rZS5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gTGluZSBkYXNoIG9mZnNldC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TGluZURhc2hPZmZzZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMubGluZURhc2hPZmZzZXRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGluZSBqb2luIHR5cGUgZm9yIHRoZSBzdHJva2UuXG4gICAqIEByZXR1cm4ge0NhbnZhc0xpbmVKb2lufHVuZGVmaW5lZH0gTGluZSBqb2luLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRMaW5lSm9pbigpIHtcbiAgICByZXR1cm4gdGhpcy5saW5lSm9pbl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtaXRlciBsaW1pdCBmb3IgdGhlIHN0cm9rZS5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gTWl0ZXIgbGltaXQuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1pdGVyTGltaXQoKSB7XG4gICAgcmV0dXJuIHRoaXMubWl0ZXJMaW1pdF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzdHJva2Ugd2lkdGguXG4gICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFdpZHRoLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRXaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy53aWR0aF87XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjb2xvci5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9jb2xvci5qc1wiKS5Db2xvcnxpbXBvcnQoXCIuLi9jb2xvcmxpa2UuanNcIikuQ29sb3JMaWtlfSBjb2xvciBDb2xvci5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0Q29sb3IoY29sb3IpIHtcbiAgICB0aGlzLmNvbG9yXyA9IGNvbG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbGluZSBjYXAuXG4gICAqXG4gICAqIEBwYXJhbSB7Q2FudmFzTGluZUNhcHx1bmRlZmluZWR9IGxpbmVDYXAgTGluZSBjYXAuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldExpbmVDYXAobGluZUNhcCkge1xuICAgIHRoaXMubGluZUNhcF8gPSBsaW5lQ2FwO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbGluZSBkYXNoLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj58bnVsbH0gbGluZURhc2ggTGluZSBkYXNoLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRMaW5lRGFzaChsaW5lRGFzaCkge1xuICAgIHRoaXMubGluZURhc2hfID0gbGluZURhc2g7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBsaW5lIGRhc2ggb2Zmc2V0LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IGxpbmVEYXNoT2Zmc2V0IExpbmUgZGFzaCBvZmZzZXQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldExpbmVEYXNoT2Zmc2V0KGxpbmVEYXNoT2Zmc2V0KSB7XG4gICAgdGhpcy5saW5lRGFzaE9mZnNldF8gPSBsaW5lRGFzaE9mZnNldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGxpbmUgam9pbi5cbiAgICpcbiAgICogQHBhcmFtIHtDYW52YXNMaW5lSm9pbnx1bmRlZmluZWR9IGxpbmVKb2luIExpbmUgam9pbi5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TGluZUpvaW4obGluZUpvaW4pIHtcbiAgICB0aGlzLmxpbmVKb2luXyA9IGxpbmVKb2luO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbWl0ZXIgbGltaXQuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gbWl0ZXJMaW1pdCBNaXRlciBsaW1pdC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TWl0ZXJMaW1pdChtaXRlckxpbWl0KSB7XG4gICAgdGhpcy5taXRlckxpbWl0XyA9IG1pdGVyTGltaXQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB3aWR0aC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSB3aWR0aCBXaWR0aC5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0V2lkdGgod2lkdGgpIHtcbiAgICB0aGlzLndpZHRoXyA9IHdpZHRoO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0cm9rZTtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC9zdHlsZS9TdHlsZVxuICovXG5cbmltcG9ydCBDaXJjbGVTdHlsZSBmcm9tICcuL0NpcmNsZS5qcyc7XG5pbXBvcnQgRmlsbCBmcm9tICcuL0ZpbGwuanMnO1xuaW1wb3J0IFN0cm9rZSBmcm9tICcuL1N0cm9rZS5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi4vYXNzZXJ0cy5qcyc7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX5GZWF0dXJlfSBhbmQgYSBge251bWJlcn1gXG4gKiByZXByZXNlbnRpbmcgdGhlIHZpZXcncyByZXNvbHV0aW9uLiBUaGUgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhXG4gKiB7QGxpbmsgbW9kdWxlOm9sL3N0eWxlL1N0eWxlflN0eWxlfSBvciBhbiBhcnJheSBvZiB0aGVtLiBUaGlzIHdheSBlLmcuIGFcbiAqIHZlY3RvciBsYXllciBjYW4gYmUgc3R5bGVkLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBgdW5kZWZpbmVkYCwgdGhlXG4gKiBmZWF0dXJlIHdpbGwgbm90IGJlIHJlbmRlcmVkLlxuICpcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbihpbXBvcnQoXCIuLi9GZWF0dXJlLmpzXCIpLkZlYXR1cmVMaWtlLCBudW1iZXIpOihTdHlsZXxBcnJheTxTdHlsZT58dm9pZCl9IFN0eWxlRnVuY3Rpb25cbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIFN0eWxlfSwgYW4gYXJyYXkgb2Yge0BsaW5rIFN0eWxlfSwgb3IgYSB7QGxpbmsgU3R5bGVGdW5jdGlvbn0uXG4gKiBAdHlwZWRlZiB7U3R5bGV8QXJyYXk8U3R5bGU+fFN0eWxlRnVuY3Rpb259IFN0eWxlTGlrZVxuICovXG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIHtAbGluayBtb2R1bGU6b2wvRmVhdHVyZX5GZWF0dXJlfSBhcyBhcmd1bWVudCBhbmQgcmV0dXJucyBhblxuICoge0BsaW5rIG1vZHVsZTpvbC9nZW9tL0dlb21ldHJ5fkdlb21ldHJ5fSB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYW5kIHN0eWxlZCBmb3IgdGhlIGZlYXR1cmUuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKGltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2UpOlxuICogICAgIChpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8aW1wb3J0KFwiLi4vcmVuZGVyL0ZlYXR1cmUuanNcIikuZGVmYXVsdHx1bmRlZmluZWQpfSBHZW9tZXRyeUZ1bmN0aW9uXG4gKi9cblxuLyoqXG4gKiBDdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24uIFRha2VzIHR3byBhcmd1bWVudHM6XG4gKlxuICogMS4gVGhlIHBpeGVsIGNvb3JkaW5hdGVzIG9mIHRoZSBnZW9tZXRyeSBpbiBHZW9KU09OIG5vdGF0aW9uLlxuICogMi4gVGhlIHtAbGluayBtb2R1bGU6b2wvcmVuZGVyflN0YXRlfSBvZiB0aGUgbGF5ZXIgcmVuZGVyZXIuXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKChpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPnxBcnJheTxBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+PiksaW1wb3J0KFwiLi4vcmVuZGVyLmpzXCIpLlN0YXRlKTogdm9pZH0gUmVuZGVyRnVuY3Rpb25cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxHZW9tZXRyeUZ1bmN0aW9ufSBbZ2VvbWV0cnldIEZlYXR1cmUgcHJvcGVydHkgb3IgZ2VvbWV0cnlcbiAqIG9yIGZ1bmN0aW9uIHJldHVybmluZyBhIGdlb21ldHJ5IHRvIHJlbmRlciBmb3IgdGhpcyBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IFtmaWxsXSBGaWxsIHN0eWxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ltYWdlLmpzXCIpLmRlZmF1bHR9IFtpbWFnZV0gSW1hZ2Ugc3R5bGUuXG4gKiBAcHJvcGVydHkge1JlbmRlckZ1bmN0aW9ufSBbcmVuZGVyZXJdIEN1c3RvbSByZW5kZXJlci4gV2hlbiBjb25maWd1cmVkLCBgZmlsbGAsIGBzdHJva2VgIGFuZCBgaW1hZ2VgIHdpbGwgYmVcbiAqIGlnbm9yZWQsIGFuZCB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2l0aCBlYWNoIHJlbmRlciBmcmFtZSBmb3IgZWFjaCBnZW9tZXRyeS5cbiAqIEBwcm9wZXJ0eSB7UmVuZGVyRnVuY3Rpb259IFtoaXREZXRlY3Rpb25SZW5kZXJlcl0gQ3VzdG9tIHJlbmRlcmVyIGZvciBoaXQgZGV0ZWN0aW9uLiBJZiBwcm92aWRlZCB3aWxsIGJlIHVzZWRcbiAqIGluIGhpdCBkZXRlY3Rpb24gcmVuZGVyaW5nLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBbc3Ryb2tlXSBTdHJva2Ugc3R5bGUuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vVGV4dC5qc1wiKS5kZWZhdWx0fSBbdGV4dF0gVGV4dCBzdHlsZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbekluZGV4XSBaIGluZGV4LlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzY1xuICogQ29udGFpbmVyIGZvciB2ZWN0b3IgZmVhdHVyZSByZW5kZXJpbmcgc3R5bGVzLiBBbnkgY2hhbmdlcyBtYWRlIHRvIHRoZSBzdHlsZVxuICogb3IgaXRzIGNoaWxkcmVuIHRocm91Z2ggYHNldCooKWAgbWV0aG9kcyB3aWxsIG5vdCB0YWtlIGVmZmVjdCB1bnRpbCB0aGVcbiAqIGZlYXR1cmUgb3IgbGF5ZXIgdGhhdCB1c2VzIHRoZSBzdHlsZSBpcyByZS1yZW5kZXJlZC5cbiAqXG4gKiAjIyBGZWF0dXJlIHN0eWxlc1xuICpcbiAqIElmIG5vIHN0eWxlIGlzIGRlZmluZWQsIHRoZSBmb2xsb3dpbmcgZGVmYXVsdCBzdHlsZSBpcyB1c2VkOlxuICogYGBganNcbiAqICBpbXBvcnQge0NpcmNsZSwgRmlsbCwgU3Ryb2tlLCBTdHlsZX0gZnJvbSAnb2wvc3R5bGUuanMnO1xuICpcbiAqICBjb25zdCBmaWxsID0gbmV3IEZpbGwoe1xuICogICAgY29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNCknLFxuICogIH0pO1xuICogIGNvbnN0IHN0cm9rZSA9IG5ldyBTdHJva2Uoe1xuICogICAgY29sb3I6ICcjMzM5OUNDJyxcbiAqICAgIHdpZHRoOiAxLjI1LFxuICogIH0pO1xuICogIGNvbnN0IHN0eWxlcyA9IFtcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIGltYWdlOiBuZXcgQ2lyY2xlKHtcbiAqICAgICAgICBmaWxsOiBmaWxsLFxuICogICAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICogICAgICAgIHJhZGl1czogNSxcbiAqICAgICAgfSksXG4gKiAgICAgIGZpbGw6IGZpbGwsXG4gKiAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICogICAgfSksXG4gKiAgXTtcbiAqIGBgYFxuICpcbiAqIEEgc2VwYXJhdGUgZWRpdGluZyBzdHlsZSBoYXMgdGhlIGZvbGxvd2luZyBkZWZhdWx0czpcbiAqIGBgYGpzXG4gKiAgaW1wb3J0IHtDaXJjbGUsIEZpbGwsIFN0cm9rZSwgU3R5bGV9IGZyb20gJ29sL3N0eWxlLmpzJztcbiAqXG4gKiAgY29uc3Qgc3R5bGVzID0ge307XG4gKiAgY29uc3Qgd2hpdGUgPSBbMjU1LCAyNTUsIDI1NSwgMV07XG4gKiAgY29uc3QgYmx1ZSA9IFswLCAxNTMsIDI1NSwgMV07XG4gKiAgY29uc3Qgd2lkdGggPSAzO1xuICogIHN0eWxlc1snUG9seWdvbiddID0gW1xuICogICAgbmV3IFN0eWxlKHtcbiAqICAgICAgZmlsbDogbmV3IEZpbGwoe1xuICogICAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDI1NSwgMC41XSxcbiAqICAgICAgfSksXG4gKiAgICB9KSxcbiAqICBdO1xuICogIHN0eWxlc1snTXVsdGlQb2x5Z29uJ10gPVxuICogICAgICBzdHlsZXNbJ1BvbHlnb24nXTtcbiAqICBzdHlsZXNbJ0xpbmVTdHJpbmcnXSA9IFtcbiAqICAgIG5ldyBTdHlsZSh7XG4gKiAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gKiAgICAgICAgY29sb3I6IHdoaXRlLFxuICogICAgICAgIHdpZHRoOiB3aWR0aCArIDIsXG4gKiAgICAgIH0pLFxuICogICAgfSksXG4gKiAgICBuZXcgU3R5bGUoe1xuICogICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICogICAgICAgIGNvbG9yOiBibHVlLFxuICogICAgICAgIHdpZHRoOiB3aWR0aCxcbiAqICAgICAgfSksXG4gKiAgICB9KSxcbiAqICBdO1xuICogIHN0eWxlc1snTXVsdGlMaW5lU3RyaW5nJ10gPSBzdHlsZXNbJ0xpbmVTdHJpbmcnXTtcbiAqXG4gKiAgc3R5bGVzWydDaXJjbGUnXSA9IHN0eWxlc1snUG9seWdvbiddLmNvbmNhdChcbiAqICAgIHN0eWxlc1snTGluZVN0cmluZyddXG4gKiAgKTtcbiAqXG4gKiAgc3R5bGVzWydQb2ludCddID0gW1xuICogICAgbmV3IFN0eWxlKHtcbiAqICAgICAgaW1hZ2U6IG5ldyBDaXJjbGUoe1xuICogICAgICAgIHJhZGl1czogd2lkdGggKiAyLFxuICogICAgICAgIGZpbGw6IG5ldyBGaWxsKHtcbiAqICAgICAgICAgIGNvbG9yOiBibHVlLFxuICogICAgICAgIH0pLFxuICogICAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gKiAgICAgICAgICBjb2xvcjogd2hpdGUsXG4gKiAgICAgICAgICB3aWR0aDogd2lkdGggLyAyLFxuICogICAgICAgIH0pLFxuICogICAgICB9KSxcbiAqICAgICAgekluZGV4OiBJbmZpbml0eSxcbiAqICAgIH0pLFxuICogIF07XG4gKiAgc3R5bGVzWydNdWx0aVBvaW50J10gPVxuICogICAgICBzdHlsZXNbJ1BvaW50J107XG4gKiAgc3R5bGVzWydHZW9tZXRyeUNvbGxlY3Rpb24nXSA9XG4gKiAgICAgIHN0eWxlc1snUG9seWdvbiddLmNvbmNhdChcbiAqICAgICAgICAgIHN0eWxlc1snTGluZVN0cmluZyddLFxuICogICAgICAgICAgc3R5bGVzWydQb2ludCddXG4gKiAgICAgICk7XG4gKiBgYGBcbiAqXG4gKiBAYXBpXG4gKi9cbmNsYXNzIFN0eWxlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T3B0aW9uc30gW29wdGlvbnNdIFN0eWxlIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtzdHJpbmd8aW1wb3J0KFwiLi4vZ2VvbS9HZW9tZXRyeS5qc1wiKS5kZWZhdWx0fEdlb21ldHJ5RnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5nZW9tZXRyeV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IUdlb21ldHJ5RnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5nZW9tZXRyeUZ1bmN0aW9uXyA9IGRlZmF1bHRHZW9tZXRyeUZ1bmN0aW9uO1xuXG4gICAgaWYgKG9wdGlvbnMuZ2VvbWV0cnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZXRHZW9tZXRyeShvcHRpb25zLmdlb21ldHJ5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxfID0gb3B0aW9ucy5maWxsICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmZpbGwgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VfID0gb3B0aW9ucy5pbWFnZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pbWFnZSA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtSZW5kZXJGdW5jdGlvbnxudWxsfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXJfID0gb3B0aW9ucy5yZW5kZXJlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5yZW5kZXJlciA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtSZW5kZXJGdW5jdGlvbnxudWxsfVxuICAgICAqL1xuICAgIHRoaXMuaGl0RGV0ZWN0aW9uUmVuZGVyZXJfID1cbiAgICAgIG9wdGlvbnMuaGl0RGV0ZWN0aW9uUmVuZGVyZXIgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMuaGl0RGV0ZWN0aW9uUmVuZGVyZXJcbiAgICAgICAgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH1cbiAgICAgKi9cbiAgICB0aGlzLnN0cm9rZV8gPSBvcHRpb25zLnN0cm9rZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zdHJva2UgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9UZXh0LmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy50ZXh0XyA9IG9wdGlvbnMudGV4dCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50ZXh0IDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy56SW5kZXhfID0gb3B0aW9ucy56SW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBzdHlsZS5cbiAgICogQHJldHVybiB7U3R5bGV9IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGNsb25lKCkge1xuICAgIGxldCBnZW9tZXRyeSA9IHRoaXMuZ2V0R2VvbWV0cnkoKTtcbiAgICBpZiAoZ2VvbWV0cnkgJiYgdHlwZW9mIGdlb21ldHJ5ID09PSAnb2JqZWN0Jykge1xuICAgICAgZ2VvbWV0cnkgPSAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKFxuICAgICAgICBnZW9tZXRyeVxuICAgICAgKS5jbG9uZSgpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFN0eWxlKHtcbiAgICAgIGdlb21ldHJ5OiBnZW9tZXRyeSxcbiAgICAgIGZpbGw6IHRoaXMuZ2V0RmlsbCgpID8gdGhpcy5nZXRGaWxsKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgIGltYWdlOiB0aGlzLmdldEltYWdlKCkgPyB0aGlzLmdldEltYWdlKCkuY2xvbmUoKSA6IHVuZGVmaW5lZCxcbiAgICAgIHJlbmRlcmVyOiB0aGlzLmdldFJlbmRlcmVyKCksXG4gICAgICBzdHJva2U6IHRoaXMuZ2V0U3Ryb2tlKCkgPyB0aGlzLmdldFN0cm9rZSgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICB0ZXh0OiB0aGlzLmdldFRleHQoKSA/IHRoaXMuZ2V0VGV4dCgpLmNsb25lKCkgOiB1bmRlZmluZWQsXG4gICAgICB6SW5kZXg6IHRoaXMuZ2V0WkluZGV4KCksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24gdGhhdCB3YXMgY29uZmlndXJlZCB3aXRoXG4gICAqIHtAbGluayAjc2V0UmVuZGVyZXJ9IG9yIHRoZSBgcmVuZGVyZXJgIGNvbnN0cnVjdG9yIG9wdGlvbi5cbiAgICogQHJldHVybiB7UmVuZGVyRnVuY3Rpb258bnVsbH0gQ3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlcl87XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhIGN1c3RvbSByZW5kZXJlciBmdW5jdGlvbiBmb3IgdGhpcyBzdHlsZS4gV2hlbiBzZXQsIGBmaWxsYCwgYHN0cm9rZWBcbiAgICogYW5kIGBpbWFnZWAgb3B0aW9ucyBvZiB0aGUgc3R5bGUgd2lsbCBiZSBpZ25vcmVkLlxuICAgKiBAcGFyYW0ge1JlbmRlckZ1bmN0aW9ufG51bGx9IHJlbmRlcmVyIEN1c3RvbSByZW5kZXJlciBmdW5jdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0UmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyXyA9IHJlbmRlcmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYSBjdXN0b20gcmVuZGVyZXIgZnVuY3Rpb24gZm9yIHRoaXMgc3R5bGUgdXNlZFxuICAgKiBpbiBoaXQgZGV0ZWN0aW9uLlxuICAgKiBAcGFyYW0ge1JlbmRlckZ1bmN0aW9ufG51bGx9IHJlbmRlcmVyIEN1c3RvbSByZW5kZXJlciBmdW5jdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0SGl0RGV0ZWN0aW9uUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICB0aGlzLmhpdERldGVjdGlvblJlbmRlcmVyXyA9IHJlbmRlcmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VzdG9tIHJlbmRlcmVyIGZ1bmN0aW9uIHRoYXQgd2FzIGNvbmZpZ3VyZWQgd2l0aFxuICAgKiB7QGxpbmsgI3NldEhpdERldGVjdGlvblJlbmRlcmVyfSBvciB0aGUgYGhpdERldGVjdGlvblJlbmRlcmVyYCBjb25zdHJ1Y3RvciBvcHRpb24uXG4gICAqIEByZXR1cm4ge1JlbmRlckZ1bmN0aW9ufG51bGx9IEN1c3RvbSByZW5kZXJlciBmdW5jdGlvbi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0SGl0RGV0ZWN0aW9uUmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGl0RGV0ZWN0aW9uUmVuZGVyZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZ2VvbWV0cnkgdG8gYmUgcmVuZGVyZWQuXG4gICAqIEByZXR1cm4ge3N0cmluZ3xpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR8R2VvbWV0cnlGdW5jdGlvbn1cbiAgICogRmVhdHVyZSBwcm9wZXJ0eSBvciBnZW9tZXRyeSBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGdlb21ldHJ5IHRoYXQgd2lsbFxuICAgKiBiZSByZW5kZXJlZCB3aXRoIHRoaXMgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEdlb21ldHJ5KCkge1xuICAgIHJldHVybiB0aGlzLmdlb21ldHJ5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZ1bmN0aW9uIHVzZWQgdG8gZ2VuZXJhdGUgYSBnZW9tZXRyeSBmb3IgcmVuZGVyaW5nLlxuICAgKiBAcmV0dXJuIHshR2VvbWV0cnlGdW5jdGlvbn0gRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBhIGZlYXR1cmVcbiAgICogYW5kIHJldHVybnMgdGhlIGdlb21ldHJ5IHRvIHJlbmRlciBpbnN0ZWFkIG9mIHRoZSBmZWF0dXJlJ3MgZ2VvbWV0cnkuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEdlb21ldHJ5RnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBmaWxsIHN0eWxlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gRmlsbCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RmlsbCgpIHtcbiAgICByZXR1cm4gdGhpcy5maWxsXztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGZpbGwgc3R5bGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IGZpbGwgRmlsbCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0RmlsbChmaWxsKSB7XG4gICAgdGhpcy5maWxsXyA9IGZpbGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBpbWFnZSBzdHlsZS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5kZWZhdWx0fSBJbWFnZSBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0SW1hZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgaW1hZ2Ugc3R5bGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9JbWFnZS5qc1wiKS5kZWZhdWx0fSBpbWFnZSBJbWFnZSBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0SW1hZ2UoaW1hZ2UpIHtcbiAgICB0aGlzLmltYWdlXyA9IGltYWdlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3Ryb2tlIHN0eWxlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBTdHJva2Ugc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFN0cm9rZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdHJva2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc3Ryb2tlIHN0eWxlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZSBTdHJva2Ugc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFN0cm9rZShzdHJva2UpIHtcbiAgICB0aGlzLnN0cm9rZV8gPSBzdHJva2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0ZXh0IHN0eWxlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1RleHQuanNcIikuZGVmYXVsdH0gVGV4dCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0XztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRleHQgc3R5bGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9UZXh0LmpzXCIpLmRlZmF1bHR9IHRleHQgVGV4dCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0VGV4dCh0ZXh0KSB7XG4gICAgdGhpcy50ZXh0XyA9IHRleHQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB6LWluZGV4IGZvciB0aGUgc3R5bGUuXG4gICAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IFpJbmRleC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0WkluZGV4KCkge1xuICAgIHJldHVybiB0aGlzLnpJbmRleF87XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgZ2VvbWV0cnkgdGhhdCBpcyByZW5kZXJlZCBpbnN0ZWFkIG9mIHRoZSBmZWF0dXJlJ3MgZ2VvbWV0cnkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxHZW9tZXRyeUZ1bmN0aW9ufSBnZW9tZXRyeVxuICAgKiAgICAgRmVhdHVyZSBwcm9wZXJ0eSBvciBnZW9tZXRyeSBvciBmdW5jdGlvbiByZXR1cm5pbmcgYSBnZW9tZXRyeSB0byByZW5kZXJcbiAgICogICAgIGZvciB0aGlzIHN0eWxlLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRHZW9tZXRyeShnZW9tZXRyeSkge1xuICAgIGlmICh0eXBlb2YgZ2VvbWV0cnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl8gPSBnZW9tZXRyeTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBnZW9tZXRyeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl8gPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHtpbXBvcnQoXCIuLi9nZW9tL0dlb21ldHJ5LmpzXCIpLmRlZmF1bHR9ICovIChcbiAgICAgICAgICBmZWF0dXJlLmdldChnZW9tZXRyeSlcbiAgICAgICAgKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICghZ2VvbWV0cnkpIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl8gPSBkZWZhdWx0R2VvbWV0cnlGdW5jdGlvbjtcbiAgICB9IGVsc2UgaWYgKGdlb21ldHJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnlGdW5jdGlvbl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiogQHR5cGUge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdH0gKi8gKGdlb21ldHJ5KTtcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuZ2VvbWV0cnlfID0gZ2VvbWV0cnk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB6LWluZGV4LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHpJbmRleCBaSW5kZXguXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFpJbmRleCh6SW5kZXgpIHtcbiAgICB0aGlzLnpJbmRleF8gPSB6SW5kZXg7XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0IHRoZSBwcm92aWRlZCBvYmplY3QgaW50byBhIHN0eWxlIGZ1bmN0aW9uLiAgRnVuY3Rpb25zIHBhc3NlZCB0aHJvdWdoXG4gKiB1bmNoYW5nZWQuICBBcnJheXMgb2YgU3R5bGUgb3Igc2luZ2xlIHN0eWxlIG9iamVjdHMgd3JhcHBlZCBpbiBhXG4gKiBuZXcgc3R5bGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge1N0eWxlRnVuY3Rpb258QXJyYXk8U3R5bGU+fFN0eWxlfSBvYmpcbiAqICAgICBBIHN0eWxlIGZ1bmN0aW9uLCBhIHNpbmdsZSBzdHlsZSwgb3IgYW4gYXJyYXkgb2Ygc3R5bGVzLlxuICogQHJldHVybiB7U3R5bGVGdW5jdGlvbn0gQSBzdHlsZSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRnVuY3Rpb24ob2JqKSB7XG4gIGxldCBzdHlsZUZ1bmN0aW9uO1xuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG4gICAgc3R5bGVGdW5jdGlvbiA9IG9iajtcbiAgfSBlbHNlIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8U3R5bGU+fVxuICAgICAqL1xuICAgIGxldCBzdHlsZXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgc3R5bGVzID0gb2JqO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQodHlwZW9mICgvKiogQHR5cGUgez99ICovIChvYmopLmdldFpJbmRleCkgPT09ICdmdW5jdGlvbicsIDQxKTsgLy8gRXhwZWN0ZWQgYW4gYFN0eWxlYCBvciBhbiBhcnJheSBvZiBgU3R5bGVgXG4gICAgICBjb25zdCBzdHlsZSA9IC8qKiBAdHlwZSB7U3R5bGV9ICovIChvYmopO1xuICAgICAgc3R5bGVzID0gW3N0eWxlXTtcbiAgICB9XG4gICAgc3R5bGVGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gc3R5bGVGdW5jdGlvbjtcbn1cblxuLyoqXG4gKiBAdHlwZSB7QXJyYXk8U3R5bGU+fG51bGx9XG4gKi9cbmxldCBkZWZhdWx0U3R5bGVzID0gbnVsbDtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIFJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtBcnJheTxTdHlsZT59IFN0eWxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGVmYXVsdFN0eWxlKGZlYXR1cmUsIHJlc29sdXRpb24pIHtcbiAgLy8gV2UgZG9uJ3QgdXNlIGFuIGltbWVkaWF0ZWx5LWludm9rZWQgZnVuY3Rpb25cbiAgLy8gYW5kIGEgY2xvc3VyZSBzbyB3ZSBkb24ndCBnZXQgYW4gZXJyb3IgYXQgc2NyaXB0IGV2YWx1YXRpb24gdGltZSBpblxuICAvLyBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IENhbnZhcy4gKGltcG9ydChcIi4vQ2lyY2xlLmpzXCIpLkNpcmNsZVN0eWxlIGRvZXNcbiAgLy8gY2FudmFzLmdldENvbnRleHQoJzJkJykgYXQgY29uc3RydWN0aW9uIHRpbWUsIHdoaWNoIHdpbGwgY2F1c2UgYW4uZXJyb3JcbiAgLy8gaW4gc3VjaCBicm93c2Vycy4pXG4gIGlmICghZGVmYXVsdFN0eWxlcykge1xuICAgIGNvbnN0IGZpbGwgPSBuZXcgRmlsbCh7XG4gICAgICBjb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC40KScsXG4gICAgfSk7XG4gICAgY29uc3Qgc3Ryb2tlID0gbmV3IFN0cm9rZSh7XG4gICAgICBjb2xvcjogJyMzMzk5Q0MnLFxuICAgICAgd2lkdGg6IDEuMjUsXG4gICAgfSk7XG4gICAgZGVmYXVsdFN0eWxlcyA9IFtcbiAgICAgIG5ldyBTdHlsZSh7XG4gICAgICAgIGltYWdlOiBuZXcgQ2lyY2xlU3R5bGUoe1xuICAgICAgICAgIGZpbGw6IGZpbGwsXG4gICAgICAgICAgc3Ryb2tlOiBzdHJva2UsXG4gICAgICAgICAgcmFkaXVzOiA1LFxuICAgICAgICB9KSxcbiAgICAgICAgZmlsbDogZmlsbCxcbiAgICAgICAgc3Ryb2tlOiBzdHJva2UsXG4gICAgICB9KSxcbiAgICBdO1xuICB9XG4gIHJldHVybiBkZWZhdWx0U3R5bGVzO1xufVxuXG4vKipcbiAqIERlZmF1bHQgc3R5bGVzIGZvciBlZGl0aW5nIGZlYXR1cmVzLlxuICogQHJldHVybiB7T2JqZWN0PGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuVHlwZSwgQXJyYXk8U3R5bGU+Pn0gU3R5bGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFZGl0aW5nU3R5bGUoKSB7XG4gIC8qKiBAdHlwZSB7T2JqZWN0PGltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuVHlwZSwgQXJyYXk8U3R5bGU+Pn0gKi9cbiAgY29uc3Qgc3R5bGVzID0ge307XG4gIGNvbnN0IHdoaXRlID0gWzI1NSwgMjU1LCAyNTUsIDFdO1xuICBjb25zdCBibHVlID0gWzAsIDE1MywgMjU1LCAxXTtcbiAgY29uc3Qgd2lkdGggPSAzO1xuICBzdHlsZXNbJ1BvbHlnb24nXSA9IFtcbiAgICBuZXcgU3R5bGUoe1xuICAgICAgZmlsbDogbmV3IEZpbGwoe1xuICAgICAgICBjb2xvcjogWzI1NSwgMjU1LCAyNTUsIDAuNV0sXG4gICAgICB9KSxcbiAgICB9KSxcbiAgXTtcbiAgc3R5bGVzWydNdWx0aVBvbHlnb24nXSA9IHN0eWxlc1snUG9seWdvbiddO1xuXG4gIHN0eWxlc1snTGluZVN0cmluZyddID0gW1xuICAgIG5ldyBTdHlsZSh7XG4gICAgICBzdHJva2U6IG5ldyBTdHJva2Uoe1xuICAgICAgICBjb2xvcjogd2hpdGUsXG4gICAgICAgIHdpZHRoOiB3aWR0aCArIDIsXG4gICAgICB9KSxcbiAgICB9KSxcbiAgICBuZXcgU3R5bGUoe1xuICAgICAgc3Ryb2tlOiBuZXcgU3Ryb2tlKHtcbiAgICAgICAgY29sb3I6IGJsdWUsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIH0pLFxuICAgIH0pLFxuICBdO1xuICBzdHlsZXNbJ011bHRpTGluZVN0cmluZyddID0gc3R5bGVzWydMaW5lU3RyaW5nJ107XG5cbiAgc3R5bGVzWydDaXJjbGUnXSA9IHN0eWxlc1snUG9seWdvbiddLmNvbmNhdChzdHlsZXNbJ0xpbmVTdHJpbmcnXSk7XG5cbiAgc3R5bGVzWydQb2ludCddID0gW1xuICAgIG5ldyBTdHlsZSh7XG4gICAgICBpbWFnZTogbmV3IENpcmNsZVN0eWxlKHtcbiAgICAgICAgcmFkaXVzOiB3aWR0aCAqIDIsXG4gICAgICAgIGZpbGw6IG5ldyBGaWxsKHtcbiAgICAgICAgICBjb2xvcjogYmx1ZSxcbiAgICAgICAgfSksXG4gICAgICAgIHN0cm9rZTogbmV3IFN0cm9rZSh7XG4gICAgICAgICAgY29sb3I6IHdoaXRlLFxuICAgICAgICAgIHdpZHRoOiB3aWR0aCAvIDIsXG4gICAgICAgIH0pLFxuICAgICAgfSksXG4gICAgICB6SW5kZXg6IEluZmluaXR5LFxuICAgIH0pLFxuICBdO1xuICBzdHlsZXNbJ011bHRpUG9pbnQnXSA9IHN0eWxlc1snUG9pbnQnXTtcblxuICBzdHlsZXNbJ0dlb21ldHJ5Q29sbGVjdGlvbiddID0gc3R5bGVzWydQb2x5Z29uJ10uY29uY2F0KFxuICAgIHN0eWxlc1snTGluZVN0cmluZyddLFxuICAgIHN0eWxlc1snUG9pbnQnXVxuICApO1xuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBhIGZlYXR1cmUgYW5kIHJldHVybnMgaXRzIGRlZmF1bHQgZ2VvbWV0cnkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uL0ZlYXR1cmUuanNcIikuRmVhdHVyZUxpa2V9IGZlYXR1cmUgRmVhdHVyZSB0byBnZXQgdGhlIGdlb21ldHJ5IGZvci5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4uL2dlb20vR2VvbWV0cnkuanNcIikuZGVmYXVsdHxpbXBvcnQoXCIuLi9yZW5kZXIvRmVhdHVyZS5qc1wiKS5kZWZhdWx0fHVuZGVmaW5lZH0gR2VvbWV0cnkgdG8gcmVuZGVyLlxuICovXG5mdW5jdGlvbiBkZWZhdWx0R2VvbWV0cnlGdW5jdGlvbihmZWF0dXJlKSB7XG4gIHJldHVybiBmZWF0dXJlLmdldEdlb21ldHJ5KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0eWxlO1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3N0eWxlL1RleHRcbiAqL1xuaW1wb3J0IEZpbGwgZnJvbSAnLi9GaWxsLmpzJztcbmltcG9ydCB7dG9TaXplfSBmcm9tICcuLi9zaXplLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7J3BvaW50JyB8ICdsaW5lJ30gVGV4dFBsYWNlbWVudFxuICogRGVmYXVsdCB0ZXh0IHBsYWNlbWVudCBpcyBgJ3BvaW50J2AuIE5vdGUgdGhhdFxuICogYCdsaW5lJ2AgcmVxdWlyZXMgdGhlIHVuZGVybHlpbmcgZ2VvbWV0cnkgdG8gYmUgYSB7QGxpbmsgbW9kdWxlOm9sL2dlb20vTGluZVN0cmluZ35MaW5lU3RyaW5nfSxcbiAqIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9Qb2x5Z29uflBvbHlnb259LCB7QGxpbmsgbW9kdWxlOm9sL2dlb20vTXVsdGlMaW5lU3RyaW5nfk11bHRpTGluZVN0cmluZ30gb3JcbiAqIHtAbGluayBtb2R1bGU6b2wvZ2VvbS9NdWx0aVBvbHlnb25+TXVsdGlQb2x5Z29ufS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsnbGVmdCcgfCAnY2VudGVyJyB8ICdyaWdodCd9IFRleHRKdXN0aWZ5XG4gKi9cblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBmaWxsIGNvbG9yIHRvIHVzZSBpZiBubyBmaWxsIHdhcyBzZXQgYXQgY29uc3RydWN0aW9uIHRpbWU7IGFcbiAqIGJsYWNraXNoIGAjMzMzYC5cbiAqXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuY29uc3QgREVGQVVMVF9GSUxMX0NPTE9SID0gJyMzMzMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZm9udF0gRm9udCBzdHlsZSBhcyBDU1MgYGZvbnRgIHZhbHVlLCBzZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZvbnQuIERlZmF1bHQgaXMgYCcxMHB4IHNhbnMtc2VyaWYnYFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhBbmdsZT1NYXRoLlBJLzRdIFdoZW4gYHBsYWNlbWVudGAgaXMgc2V0IHRvIGAnbGluZSdgLCBhbGxvdyBhIG1heGltdW0gYW5nbGUgYmV0d2VlbiBhZGphY2VudCBjaGFyYWN0ZXJzLlxuICogVGhlIGV4cGVjdGVkIHZhbHVlIGlzIGluIHJhZGlhbnMsIGFuZCB0aGUgZGVmYXVsdCBpcyA0NcKwIChgTWF0aC5QSSAvIDRgKS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbb2Zmc2V0WD0wXSBIb3Jpem9udGFsIHRleHQgb2Zmc2V0IGluIHBpeGVscy4gQSBwb3NpdGl2ZSB3aWxsIHNoaWZ0IHRoZSB0ZXh0IHJpZ2h0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvZmZzZXRZPTBdIFZlcnRpY2FsIHRleHQgb2Zmc2V0IGluIHBpeGVscy4gQSBwb3NpdGl2ZSB3aWxsIHNoaWZ0IHRoZSB0ZXh0IGRvd24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtvdmVyZmxvdz1mYWxzZV0gRm9yIHBvbHlnb24gbGFiZWxzIG9yIHdoZW4gYHBsYWNlbWVudGAgaXMgc2V0IHRvIGAnbGluZSdgLCBhbGxvdyB0ZXh0IHRvIGV4Y2VlZFxuICogdGhlIHdpZHRoIG9mIHRoZSBwb2x5Z29uIGF0IHRoZSBsYWJlbCBwb3NpdGlvbiBvciB0aGUgbGVuZ3RoIG9mIHRoZSBwYXRoIHRoYXQgaXQgZm9sbG93cy5cbiAqIEBwcm9wZXJ0eSB7VGV4dFBsYWNlbWVudH0gW3BsYWNlbWVudD0ncG9pbnQnXSBUZXh0IHBsYWNlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZX0gW3NjYWxlXSBTY2FsZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JvdGF0ZVdpdGhWaWV3PWZhbHNlXSBXaGV0aGVyIHRvIHJvdGF0ZSB0aGUgdGV4dCB3aXRoIHRoZSB2aWV3LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyb3RhdGlvbj0wXSBSb3RhdGlvbiBpbiByYWRpYW5zIChwb3NpdGl2ZSByb3RhdGlvbiBjbG9ja3dpc2UpLlxuICogQHByb3BlcnR5IHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gW3RleHRdIFRleHQgY29udGVudCBvciByaWNoIHRleHQgY29udGVudC4gRm9yIHBsYWluIHRleHQgcHJvdmlkZSBhIHN0cmluZywgd2hpY2ggY2FuXG4gKiBjb250YWluIGxpbmUgYnJlYWtzIChgXFxuYCkuIEZvciByaWNoIHRleHQgcHJvdmlkZSBhbiBhcnJheSBvZiB0ZXh0L2ZvbnQgdHVwbGVzLiBBIHR1cGxlIGNvbnNpc3RzIG9mIHRoZSB0ZXh0IHRvXG4gKiByZW5kZXIgYW5kIHRoZSBmb250IHRvIHVzZSAob3IgYCcnYCB0byB1c2UgdGhlIHRleHQgc3R5bGUncyBmb250KS4gQSBsaW5lIGJyZWFrIGhhcyB0byBiZSBhIHNlcGFyYXRlIHR1cGxlIChpLmUuIGAnXFxuJywgJydgKS5cbiAqICoqRXhhbXBsZToqKiBgWydmb28nLCAnYm9sZCAxMHB4IHNhbnMtc2VyaWYnLCAnIGJhcicsICdpdGFsaWMgMTBweCBzYW5zLXNlcmlmJywgJyBiYXonLCAnJ11gIHdpbGwgeWllbGQgXCIqKmZvbyoqICpiYXIqIGJhelwiLlxuICogKipOb3RlOioqIFJpY2ggdGV4dCBpcyBub3Qgc3VwcG9ydGVkIGZvciB0aGUgaW1tZWRpYXRlIHJlbmRlcmluZyBBUEkuXG4gKiBAcHJvcGVydHkge0NhbnZhc1RleHRBbGlnbn0gW3RleHRBbGlnbl0gVGV4dCBhbGlnbm1lbnQuIFBvc3NpYmxlIHZhbHVlczogYCdsZWZ0J2AsIGAncmlnaHQnYCwgYCdjZW50ZXInYCwgYCdlbmQnYCBvciBgJ3N0YXJ0J2AuXG4gKiBEZWZhdWx0IGlzIGAnY2VudGVyJ2AgZm9yIGBwbGFjZW1lbnQ6ICdwb2ludCdgLiBGb3IgYHBsYWNlbWVudDogJ2xpbmUnYCwgdGhlIGRlZmF1bHQgaXMgdG8gbGV0IHRoZSByZW5kZXJlciBjaG9vc2UgYVxuICogcGxhY2VtZW50IHdoZXJlIGBtYXhBbmdsZWAgaXMgbm90IGV4Y2VlZGVkLlxuICogQHByb3BlcnR5IHtUZXh0SnVzdGlmeX0gW2p1c3RpZnldIFRleHQganVzdGlmaWNhdGlvbiB3aXRoaW4gdGhlIHRleHQgYm94LlxuICogSWYgbm90IHNldCwgdGV4dCBpcyBqdXN0aWZpZWQgdG93YXJkcyB0aGUgYHRleHRBbGlnbmAgYW5jaG9yLlxuICogT3RoZXJ3aXNlLCB1c2Ugb3B0aW9ucyBgJ2xlZnQnYCwgYCdjZW50ZXInYCwgb3IgYCdyaWdodCdgIHRvIGp1c3RpZnkgdGhlIHRleHQgd2l0aGluIHRoZSB0ZXh0IGJveC5cbiAqICoqTm90ZToqKiBganVzdGlmeWAgaXMgaWdub3JlZCBmb3IgaW1tZWRpYXRlIHJlbmRlcmluZyBhbmQgYWxzbyBmb3IgYHBsYWNlbWVudDogJ2xpbmUnYC5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzVGV4dEJhc2VsaW5lfSBbdGV4dEJhc2VsaW5lPSdtaWRkbGUnXSBUZXh0IGJhc2UgbGluZS4gUG9zc2libGUgdmFsdWVzOiBgJ2JvdHRvbSdgLCBgJ3RvcCdgLCBgJ21pZGRsZSdgLCBgJ2FscGhhYmV0aWMnYCxcbiAqIGAnaGFuZ2luZydgLCBgJ2lkZW9ncmFwaGljJ2AuXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBbZmlsbF0gRmlsbCBzdHlsZS4gSWYgbm9uZSBpcyBwcm92aWRlZCwgd2UnbGwgdXNlIGEgZGFyayBmaWxsLXN0eWxlICgjMzMzKS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gW3N0cm9rZV0gU3Ryb2tlIHN0eWxlLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gW2JhY2tncm91bmRGaWxsXSBGaWxsIHN0eWxlIGZvciB0aGUgdGV4dCBiYWNrZ3JvdW5kIHdoZW4gYHBsYWNlbWVudGAgaXNcbiAqIGAncG9pbnQnYC4gRGVmYXVsdCBpcyBubyBmaWxsLlxuICogQHByb3BlcnR5IHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBbYmFja2dyb3VuZFN0cm9rZV0gU3Ryb2tlIHN0eWxlIGZvciB0aGUgdGV4dCBiYWNrZ3JvdW5kICB3aGVuIGBwbGFjZW1lbnRgXG4gKiBpcyBgJ3BvaW50J2AuIERlZmF1bHQgaXMgbm8gc3Ryb2tlLlxuICogQHByb3BlcnR5IHtBcnJheTxudW1iZXI+fSBbcGFkZGluZz1bMCwgMCwgMCwgMF1dIFBhZGRpbmcgaW4gcGl4ZWxzIGFyb3VuZCB0aGUgdGV4dCBmb3IgZGVjbHV0dGVyaW5nIGFuZCBiYWNrZ3JvdW5kLiBUaGUgb3JkZXIgb2ZcbiAqIHZhbHVlcyBpbiB0aGUgYXJyYXkgaXMgYFt0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnRdYC5cbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2NcbiAqIFNldCB0ZXh0IHN0eWxlIGZvciB2ZWN0b3IgZmVhdHVyZXMuXG4gKiBAYXBpXG4gKi9cbmNsYXNzIFRleHQge1xuICAvKipcbiAgICogQHBhcmFtIHtPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5mb250XyA9IG9wdGlvbnMuZm9udDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5yb3RhdGlvbl8gPSBvcHRpb25zLnJvdGF0aW9uO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5yb3RhdGVXaXRoVmlld18gPSBvcHRpb25zLnJvdGF0ZVdpdGhWaWV3O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZXx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5zY2FsZV8gPSBvcHRpb25zLnNjYWxlO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMuc2NhbGVBcnJheV8gPSB0b1NpemUob3B0aW9ucy5zY2FsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zY2FsZSA6IDEpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfEFycmF5PHN0cmluZz58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudGV4dF8gPSBvcHRpb25zLnRleHQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDYW52YXNUZXh0QWxpZ258dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudGV4dEFsaWduXyA9IG9wdGlvbnMudGV4dEFsaWduO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7VGV4dEp1c3RpZnl8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuanVzdGlmeV8gPSBvcHRpb25zLmp1c3RpZnk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtDYW52YXNUZXh0QmFzZWxpbmV8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudGV4dEJhc2VsaW5lXyA9IG9wdGlvbnMudGV4dEJhc2VsaW5lO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5maWxsXyA9XG4gICAgICBvcHRpb25zLmZpbGwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMuZmlsbFxuICAgICAgICA6IG5ldyBGaWxsKHtjb2xvcjogREVGQVVMVF9GSUxMX0NPTE9SfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhBbmdsZV8gPVxuICAgICAgb3B0aW9ucy5tYXhBbmdsZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tYXhBbmdsZSA6IE1hdGguUEkgLyA0O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7VGV4dFBsYWNlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLnBsYWNlbWVudF8gPVxuICAgICAgb3B0aW9ucy5wbGFjZW1lbnQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGxhY2VtZW50IDogJ3BvaW50JztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5vdmVyZmxvd18gPSAhIW9wdGlvbnMub3ZlcmZsb3c7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fVxuICAgICAqL1xuICAgIHRoaXMuc3Ryb2tlXyA9IG9wdGlvbnMuc3Ryb2tlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0cm9rZSA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5vZmZzZXRYXyA9IG9wdGlvbnMub2Zmc2V0WCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5vZmZzZXRYIDogMDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm9mZnNldFlfID0gb3B0aW9ucy5vZmZzZXRZICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9mZnNldFkgOiAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5iYWNrZ3JvdW5kRmlsbF8gPSBvcHRpb25zLmJhY2tncm91bmRGaWxsXG4gICAgICA/IG9wdGlvbnMuYmFja2dyb3VuZEZpbGxcbiAgICAgIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9XG4gICAgICovXG4gICAgdGhpcy5iYWNrZ3JvdW5kU3Ryb2tlXyA9IG9wdGlvbnMuYmFja2dyb3VuZFN0cm9rZVxuICAgICAgPyBvcHRpb25zLmJhY2tncm91bmRTdHJva2VcbiAgICAgIDogbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PG51bWJlcj58bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnBhZGRpbmdfID0gb3B0aW9ucy5wYWRkaW5nID09PSB1bmRlZmluZWQgPyBudWxsIDogb3B0aW9ucy5wYWRkaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgc3R5bGUuXG4gICAqIEByZXR1cm4ge1RleHR9IFRoZSBjbG9uZWQgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGNsb25lKCkge1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5nZXRTY2FsZSgpO1xuICAgIHJldHVybiBuZXcgVGV4dCh7XG4gICAgICBmb250OiB0aGlzLmdldEZvbnQoKSxcbiAgICAgIHBsYWNlbWVudDogdGhpcy5nZXRQbGFjZW1lbnQoKSxcbiAgICAgIG1heEFuZ2xlOiB0aGlzLmdldE1heEFuZ2xlKCksXG4gICAgICBvdmVyZmxvdzogdGhpcy5nZXRPdmVyZmxvdygpLFxuICAgICAgcm90YXRpb246IHRoaXMuZ2V0Um90YXRpb24oKSxcbiAgICAgIHJvdGF0ZVdpdGhWaWV3OiB0aGlzLmdldFJvdGF0ZVdpdGhWaWV3KCksXG4gICAgICBzY2FsZTogQXJyYXkuaXNBcnJheShzY2FsZSkgPyBzY2FsZS5zbGljZSgpIDogc2NhbGUsXG4gICAgICB0ZXh0OiB0aGlzLmdldFRleHQoKSxcbiAgICAgIHRleHRBbGlnbjogdGhpcy5nZXRUZXh0QWxpZ24oKSxcbiAgICAgIGp1c3RpZnk6IHRoaXMuZ2V0SnVzdGlmeSgpLFxuICAgICAgdGV4dEJhc2VsaW5lOiB0aGlzLmdldFRleHRCYXNlbGluZSgpLFxuICAgICAgZmlsbDogdGhpcy5nZXRGaWxsKCkgPyB0aGlzLmdldEZpbGwoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgc3Ryb2tlOiB0aGlzLmdldFN0cm9rZSgpID8gdGhpcy5nZXRTdHJva2UoKS5jbG9uZSgpIDogdW5kZWZpbmVkLFxuICAgICAgb2Zmc2V0WDogdGhpcy5nZXRPZmZzZXRYKCksXG4gICAgICBvZmZzZXRZOiB0aGlzLmdldE9mZnNldFkoKSxcbiAgICAgIGJhY2tncm91bmRGaWxsOiB0aGlzLmdldEJhY2tncm91bmRGaWxsKClcbiAgICAgICAgPyB0aGlzLmdldEJhY2tncm91bmRGaWxsKCkuY2xvbmUoKVxuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIGJhY2tncm91bmRTdHJva2U6IHRoaXMuZ2V0QmFja2dyb3VuZFN0cm9rZSgpXG4gICAgICAgID8gdGhpcy5nZXRCYWNrZ3JvdW5kU3Ryb2tlKCkuY2xvbmUoKVxuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIHBhZGRpbmc6IHRoaXMuZ2V0UGFkZGluZygpIHx8IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGBvdmVyZmxvd2AgY29uZmlndXJhdGlvbi5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gTGV0IHRleHQgb3ZlcmZsb3cgdGhlIGxlbmd0aCBvZiB0aGUgcGF0aCB0aGV5IGZvbGxvdy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0T3ZlcmZsb3coKSB7XG4gICAgcmV0dXJuIHRoaXMub3ZlcmZsb3dfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZm9udCBuYW1lLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBGb250LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRGb250KCkge1xuICAgIHJldHVybiB0aGlzLmZvbnRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWF4aW11bSBhbmdsZSBiZXR3ZWVuIGFkamFjZW50IGNoYXJhY3RlcnMuXG4gICAqIEByZXR1cm4ge251bWJlcn0gQW5nbGUgaW4gcmFkaWFucy5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0TWF4QW5nbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMubWF4QW5nbGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGFiZWwgcGxhY2VtZW50LlxuICAgKiBAcmV0dXJuIHtUZXh0UGxhY2VtZW50fSBUZXh0IHBsYWNlbWVudC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0UGxhY2VtZW50KCkge1xuICAgIHJldHVybiB0aGlzLnBsYWNlbWVudF87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB4LW9mZnNldCBmb3IgdGhlIHRleHQuXG4gICAqIEByZXR1cm4ge251bWJlcn0gSG9yaXpvbnRhbCB0ZXh0IG9mZnNldC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0T2Zmc2V0WCgpIHtcbiAgICByZXR1cm4gdGhpcy5vZmZzZXRYXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHktb2Zmc2V0IGZvciB0aGUgdGV4dC5cbiAgICogQHJldHVybiB7bnVtYmVyfSBWZXJ0aWNhbCB0ZXh0IG9mZnNldC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0T2Zmc2V0WSgpIHtcbiAgICByZXR1cm4gdGhpcy5vZmZzZXRZXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZpbGwgc3R5bGUgZm9yIHRoZSB0ZXh0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gRmlsbCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0RmlsbCgpIHtcbiAgICByZXR1cm4gdGhpcy5maWxsXztcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgdGV4dCByb3RhdGVzIHdpdGggdGhlIG1hcC5cbiAgICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9IFJvdGF0ZSB3aXRoIG1hcC5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0Um90YXRlV2l0aFZpZXcoKSB7XG4gICAgcmV0dXJuIHRoaXMucm90YXRlV2l0aFZpZXdfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGV4dCByb3RhdGlvbi5cbiAgICogQHJldHVybiB7bnVtYmVyfHVuZGVmaW5lZH0gUm90YXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJvdGF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnJvdGF0aW9uXztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRleHQgc2NhbGUuXG4gICAqIEByZXR1cm4ge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfSBTY2FsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0U2NhbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2NhbGVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3ltYm9saXplciBzY2FsZSBhcnJheS5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBTY2FsZSBhcnJheS5cbiAgICovXG4gIGdldFNjYWxlQXJyYXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2NhbGVBcnJheV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzdHJva2Ugc3R5bGUgZm9yIHRoZSB0ZXh0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBTdHJva2Ugc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFN0cm9rZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdHJva2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGV4dCB0byBiZSByZW5kZXJlZC5cbiAgICogQHJldHVybiB7c3RyaW5nfEFycmF5PHN0cmluZz58dW5kZWZpbmVkfSBUZXh0LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLnRleHRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGV4dCBhbGlnbm1lbnQuXG4gICAqIEByZXR1cm4ge0NhbnZhc1RleHRBbGlnbnx1bmRlZmluZWR9IFRleHQgYWxpZ24uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRleHRBbGlnbigpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0QWxpZ25fO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUganVzdGlmaWNhdGlvbi5cbiAgICogQHJldHVybiB7VGV4dEp1c3RpZnl8dW5kZWZpbmVkfSBKdXN0aWZpY2F0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRKdXN0aWZ5KCkge1xuICAgIHJldHVybiB0aGlzLmp1c3RpZnlfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGV4dCBiYXNlbGluZS5cbiAgICogQHJldHVybiB7Q2FudmFzVGV4dEJhc2VsaW5lfHVuZGVmaW5lZH0gVGV4dCBiYXNlbGluZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0VGV4dEJhc2VsaW5lKCkge1xuICAgIHJldHVybiB0aGlzLnRleHRCYXNlbGluZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBiYWNrZ3JvdW5kIGZpbGwgc3R5bGUgZm9yIHRoZSB0ZXh0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL0ZpbGwuanNcIikuZGVmYXVsdH0gRmlsbCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0QmFja2dyb3VuZEZpbGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFja2dyb3VuZEZpbGxfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYmFja2dyb3VuZCBzdHJva2Ugc3R5bGUgZm9yIHRoZSB0ZXh0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuL1N0cm9rZS5qc1wiKS5kZWZhdWx0fSBTdHJva2Ugc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldEJhY2tncm91bmRTdHJva2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFja2dyb3VuZFN0cm9rZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwYWRkaW5nIGZvciB0aGUgdGV4dC5cbiAgICogQHJldHVybiB7QXJyYXk8bnVtYmVyPnxudWxsfSBQYWRkaW5nLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRQYWRkaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnBhZGRpbmdfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYG92ZXJmbG93YCBwcm9wZXJ0eS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBvdmVyZmxvdyBMZXQgdGV4dCBvdmVyZmxvdyB0aGUgcGF0aCB0aGF0IGl0IGZvbGxvd3MuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE92ZXJmbG93KG92ZXJmbG93KSB7XG4gICAgdGhpcy5vdmVyZmxvd18gPSBvdmVyZmxvdztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGZvbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gZm9udCBGb250LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRGb250KGZvbnQpIHtcbiAgICB0aGlzLmZvbnRfID0gZm9udDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG1heGltdW0gYW5nbGUgYmV0d2VlbiBhZGphY2VudCBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4QW5nbGUgQW5nbGUgaW4gcmFkaWFucy5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0TWF4QW5nbGUobWF4QW5nbGUpIHtcbiAgICB0aGlzLm1heEFuZ2xlXyA9IG1heEFuZ2xlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgeCBvZmZzZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRYIEhvcml6b250YWwgdGV4dCBvZmZzZXQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldE9mZnNldFgob2Zmc2V0WCkge1xuICAgIHRoaXMub2Zmc2V0WF8gPSBvZmZzZXRYO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgeSBvZmZzZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRZIFZlcnRpY2FsIHRleHQgb2Zmc2V0LlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRPZmZzZXRZKG9mZnNldFkpIHtcbiAgICB0aGlzLm9mZnNldFlfID0gb2Zmc2V0WTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRleHQgcGxhY2VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1RleHRQbGFjZW1lbnR9IHBsYWNlbWVudCBQbGFjZW1lbnQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgICB0aGlzLnBsYWNlbWVudF8gPSBwbGFjZW1lbnQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHdoZXRoZXIgdG8gcm90YXRlIHRoZSB0ZXh0IHdpdGggdGhlIHZpZXcuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm90YXRlV2l0aFZpZXcgUm90YXRlIHdpdGggbWFwLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRSb3RhdGVXaXRoVmlldyhyb3RhdGVXaXRoVmlldykge1xuICAgIHRoaXMucm90YXRlV2l0aFZpZXdfID0gcm90YXRlV2l0aFZpZXc7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBmaWxsLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vRmlsbC5qc1wiKS5kZWZhdWx0fSBmaWxsIEZpbGwgc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEZpbGwoZmlsbCkge1xuICAgIHRoaXMuZmlsbF8gPSBmaWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcm90YXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gcm90YXRpb24gUm90YXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFJvdGF0aW9uKHJvdGF0aW9uKSB7XG4gICAgdGhpcy5yb3RhdGlvbl8gPSByb3RhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHNjYWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV8dW5kZWZpbmVkfSBzY2FsZSBTY2FsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U2NhbGUoc2NhbGUpIHtcbiAgICB0aGlzLnNjYWxlXyA9IHNjYWxlO1xuICAgIHRoaXMuc2NhbGVBcnJheV8gPSB0b1NpemUoc2NhbGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlIDogMSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzdHJva2UuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9TdHJva2UuanNcIikuZGVmYXVsdH0gc3Ryb2tlIFN0cm9rZSBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0U3Ryb2tlKHN0cm9rZSkge1xuICAgIHRoaXMuc3Ryb2tlXyA9IHN0cm9rZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRleHQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz58dW5kZWZpbmVkfSB0ZXh0IFRleHQuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFRleHQodGV4dCkge1xuICAgIHRoaXMudGV4dF8gPSB0ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdGV4dCBhbGlnbm1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Q2FudmFzVGV4dEFsaWdufHVuZGVmaW5lZH0gdGV4dEFsaWduIFRleHQgYWxpZ24uXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFRleHRBbGlnbih0ZXh0QWxpZ24pIHtcbiAgICB0aGlzLnRleHRBbGlnbl8gPSB0ZXh0QWxpZ247XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBqdXN0aWZpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1RleHRKdXN0aWZ5fHVuZGVmaW5lZH0ganVzdGlmeSBKdXN0aWZpY2F0aW9uLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRKdXN0aWZ5KGp1c3RpZnkpIHtcbiAgICB0aGlzLmp1c3RpZnlfID0ganVzdGlmeTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRleHQgYmFzZWxpbmUuXG4gICAqXG4gICAqIEBwYXJhbSB7Q2FudmFzVGV4dEJhc2VsaW5lfHVuZGVmaW5lZH0gdGV4dEJhc2VsaW5lIFRleHQgYmFzZWxpbmUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldFRleHRCYXNlbGluZSh0ZXh0QmFzZWxpbmUpIHtcbiAgICB0aGlzLnRleHRCYXNlbGluZV8gPSB0ZXh0QmFzZWxpbmU7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBiYWNrZ3JvdW5kIGZpbGwuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi9GaWxsLmpzXCIpLmRlZmF1bHR9IGZpbGwgRmlsbCBzdHlsZS5cbiAgICogQGFwaVxuICAgKi9cbiAgc2V0QmFja2dyb3VuZEZpbGwoZmlsbCkge1xuICAgIHRoaXMuYmFja2dyb3VuZEZpbGxfID0gZmlsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGJhY2tncm91bmQgc3Ryb2tlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4vU3Ryb2tlLmpzXCIpLmRlZmF1bHR9IHN0cm9rZSBTdHJva2Ugc3R5bGUuXG4gICAqIEBhcGlcbiAgICovXG4gIHNldEJhY2tncm91bmRTdHJva2Uoc3Ryb2tlKSB7XG4gICAgdGhpcy5iYWNrZ3JvdW5kU3Ryb2tlXyA9IHN0cm9rZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHBhZGRpbmcgKGBbdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XWApLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj58bnVsbH0gcGFkZGluZyBQYWRkaW5nLlxuICAgKiBAYXBpXG4gICAqL1xuICBzZXRQYWRkaW5nKHBhZGRpbmcpIHtcbiAgICB0aGlzLnBhZGRpbmdfID0gcGFkZGluZztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3RpbGVjb29yZFxuICovXG5cbi8qKlxuICogQW4gYXJyYXkgb2YgdGhyZWUgbnVtYmVycyByZXByZXNlbnRpbmcgdGhlIGxvY2F0aW9uIG9mIGEgdGlsZSBpbiBhIHRpbGVcbiAqIGdyaWQuIFRoZSBvcmRlciBpcyBgemAgKHpvb20gbGV2ZWwpLCBgeGAgKGNvbHVtbiksIGFuZCBgeWAgKHJvdykuXG4gKiBAdHlwZWRlZiB7QXJyYXk8bnVtYmVyPn0gVGlsZUNvb3JkXG4gKiBAYXBpXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFkuXG4gKiBAcGFyYW0ge1RpbGVDb29yZH0gW3RpbGVDb29yZF0gVGlsZSBjb29yZGluYXRlLlxuICogQHJldHVybiB7VGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZSh6LCB4LCB5LCB0aWxlQ29vcmQpIHtcbiAgaWYgKHRpbGVDb29yZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGlsZUNvb3JkWzBdID0gejtcbiAgICB0aWxlQ29vcmRbMV0gPSB4O1xuICAgIHRpbGVDb29yZFsyXSA9IHk7XG4gICAgcmV0dXJuIHRpbGVDb29yZDtcbiAgfVxuICByZXR1cm4gW3osIHgsIHldO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB6IFouXG4gKiBAcGFyYW0ge251bWJlcn0geCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAqIEByZXR1cm4ge3N0cmluZ30gS2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5WlhZKHosIHgsIHkpIHtcbiAgcmV0dXJuIHogKyAnLycgKyB4ICsgJy8nICsgeTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGtleSBmb3IgYSB0aWxlIGNvb3JkLlxuICogQHBhcmFtIHtUaWxlQ29vcmR9IHRpbGVDb29yZCBUaGUgdGlsZSBjb29yZC5cbiAqIEByZXR1cm4ge3N0cmluZ30gS2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5KHRpbGVDb29yZCkge1xuICByZXR1cm4gZ2V0S2V5WlhZKHRpbGVDb29yZFswXSwgdGlsZUNvb3JkWzFdLCB0aWxlQ29vcmRbMl0pO1xufVxuXG4vKipcbiAqIEdldCB0aGUgdGlsZSBjYWNoZSBrZXkgZm9yIGEgdGlsZSBrZXkgb2J0YWluZWQgdGhyb3VnaCBgdGlsZS5nZXRLZXkoKWAuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGlsZUtleSBUaGUgdGlsZSBrZXkuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjYWNoZSBrZXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDYWNoZUtleUZvclRpbGVLZXkodGlsZUtleSkge1xuICBjb25zdCBbeiwgeCwgeV0gPSB0aWxlS2V5XG4gICAgLnN1YnN0cmluZyh0aWxlS2V5Lmxhc3RJbmRleE9mKCcvJykgKyAxLCB0aWxlS2V5Lmxlbmd0aClcbiAgICAuc3BsaXQoJywnKVxuICAgIC5tYXAoTnVtYmVyKTtcbiAgcmV0dXJuIGdldEtleVpYWSh6LCB4LCB5KTtcbn1cblxuLyoqXG4gKiBHZXQgYSB0aWxlIGNvb3JkIGdpdmVuIGEga2V5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgdGlsZSBjb29yZCBrZXkuXG4gKiBAcmV0dXJuIHtUaWxlQ29vcmR9IFRoZSB0aWxlIGNvb3JkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUtleShrZXkpIHtcbiAgcmV0dXJuIGtleS5zcGxpdCgnLycpLm1hcChOdW1iZXIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZC5cbiAqIEByZXR1cm4ge251bWJlcn0gSGFzaC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc2godGlsZUNvb3JkKSB7XG4gIHJldHVybiAodGlsZUNvb3JkWzFdIDw8IHRpbGVDb29yZFswXSkgKyB0aWxlQ29vcmRbMl07XG59XG5cbi8qKlxuICogQHBhcmFtIHtUaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0geyFpbXBvcnQoXCIuL3RpbGVncmlkL1RpbGVHcmlkLmpzXCIpLmRlZmF1bHR9IHRpbGVHcmlkIFRpbGUgZ3JpZC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRpbGUgY29vcmRpbmF0ZSBpcyB3aXRoaW4gZXh0ZW50IGFuZCB6b29tIGxldmVsIHJhbmdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aGluRXh0ZW50QW5kWih0aWxlQ29vcmQsIHRpbGVHcmlkKSB7XG4gIGNvbnN0IHogPSB0aWxlQ29vcmRbMF07XG4gIGNvbnN0IHggPSB0aWxlQ29vcmRbMV07XG4gIGNvbnN0IHkgPSB0aWxlQ29vcmRbMl07XG5cbiAgaWYgKHRpbGVHcmlkLmdldE1pblpvb20oKSA+IHogfHwgeiA+IHRpbGVHcmlkLmdldE1heFpvb20oKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB0aWxlUmFuZ2UgPSB0aWxlR3JpZC5nZXRGdWxsVGlsZVJhbmdlKHopO1xuICBpZiAoIXRpbGVSYW5nZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiB0aWxlUmFuZ2UuY29udGFpbnNYWSh4LCB5KTtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC90aWxlZ3JpZFxuICovXG5pbXBvcnQgVGlsZUdyaWQgZnJvbSAnLi90aWxlZ3JpZC9UaWxlR3JpZC5qcyc7XG5pbXBvcnQge0RFRkFVTFRfTUFYX1pPT00sIERFRkFVTFRfVElMRV9TSVpFfSBmcm9tICcuL3RpbGVncmlkL2NvbW1vbi5qcyc7XG5pbXBvcnQge01FVEVSU19QRVJfVU5JVCwgZ2V0IGFzIGdldFByb2plY3Rpb259IGZyb20gJy4vcHJvai5qcyc7XG5pbXBvcnQge1xuICBjb250YWluc0Nvb3JkaW5hdGUsXG4gIGNyZWF0ZU9yVXBkYXRlLFxuICBnZXRDb3JuZXIsXG4gIGdldEhlaWdodCxcbiAgZ2V0V2lkdGgsXG59IGZyb20gJy4vZXh0ZW50LmpzJztcbmltcG9ydCB7dG9TaXplfSBmcm9tICcuL3NpemUuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qL1Byb2plY3Rpb24uanNcIikuZGVmYXVsdH0gcHJvamVjdGlvbiBQcm9qZWN0aW9uLlxuICogQHJldHVybiB7IVRpbGVHcmlkfSBEZWZhdWx0IHRpbGUgZ3JpZCBmb3IgdGhlXG4gKiBwYXNzZWQgcHJvamVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZvclByb2plY3Rpb24ocHJvamVjdGlvbikge1xuICBsZXQgdGlsZUdyaWQgPSBwcm9qZWN0aW9uLmdldERlZmF1bHRUaWxlR3JpZCgpO1xuICBpZiAoIXRpbGVHcmlkKSB7XG4gICAgdGlsZUdyaWQgPSBjcmVhdGVGb3JQcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICAgIHByb2plY3Rpb24uc2V0RGVmYXVsdFRpbGVHcmlkKHRpbGVHcmlkKTtcbiAgfVxuICByZXR1cm4gdGlsZUdyaWQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUaWxlR3JpZH0gdGlsZUdyaWQgVGlsZSBncmlkLlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vcHJvai9Qcm9qZWN0aW9uLmpzXCIpLmRlZmF1bHR9IHByb2plY3Rpb24gUHJvamVjdGlvbi5cbiAqIEByZXR1cm4ge2ltcG9ydChcIi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcFgodGlsZUdyaWQsIHRpbGVDb29yZCwgcHJvamVjdGlvbikge1xuICBjb25zdCB6ID0gdGlsZUNvb3JkWzBdO1xuICBjb25zdCBjZW50ZXIgPSB0aWxlR3JpZC5nZXRUaWxlQ29vcmRDZW50ZXIodGlsZUNvb3JkKTtcbiAgY29uc3QgcHJvamVjdGlvbkV4dGVudCA9IGV4dGVudEZyb21Qcm9qZWN0aW9uKHByb2plY3Rpb24pO1xuICBpZiAoIWNvbnRhaW5zQ29vcmRpbmF0ZShwcm9qZWN0aW9uRXh0ZW50LCBjZW50ZXIpKSB7XG4gICAgY29uc3Qgd29ybGRXaWR0aCA9IGdldFdpZHRoKHByb2plY3Rpb25FeHRlbnQpO1xuICAgIGNvbnN0IHdvcmxkc0F3YXkgPSBNYXRoLmNlaWwoXG4gICAgICAocHJvamVjdGlvbkV4dGVudFswXSAtIGNlbnRlclswXSkgLyB3b3JsZFdpZHRoXG4gICAgKTtcbiAgICBjZW50ZXJbMF0gKz0gd29ybGRXaWR0aCAqIHdvcmxkc0F3YXk7XG4gICAgcmV0dXJuIHRpbGVHcmlkLmdldFRpbGVDb29yZEZvckNvb3JkQW5kWihjZW50ZXIsIHopO1xuICB9XG4gIHJldHVybiB0aWxlQ29vcmQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IGV4dGVudCBFeHRlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW21heFpvb21dIE1heGltdW0gem9vbSBsZXZlbCAoZGVmYXVsdCBpc1xuICogICAgIERFRkFVTFRfTUFYX1pPT00pLlxuICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFt0aWxlU2l6ZV0gVGlsZSBzaXplIChkZWZhdWx0IHVzZXNcbiAqICAgICBERUZBVUxUX1RJTEVfU0laRSkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkNvcm5lcn0gW2Nvcm5lcl0gRXh0ZW50IGNvcm5lciAoZGVmYXVsdCBpcyBgJ3RvcC1sZWZ0J2ApLlxuICogQHJldHVybiB7IVRpbGVHcmlkfSBUaWxlR3JpZCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZvckV4dGVudChleHRlbnQsIG1heFpvb20sIHRpbGVTaXplLCBjb3JuZXIpIHtcbiAgY29ybmVyID0gY29ybmVyICE9PSB1bmRlZmluZWQgPyBjb3JuZXIgOiAndG9wLWxlZnQnO1xuXG4gIGNvbnN0IHJlc29sdXRpb25zID0gcmVzb2x1dGlvbnNGcm9tRXh0ZW50KGV4dGVudCwgbWF4Wm9vbSwgdGlsZVNpemUpO1xuXG4gIHJldHVybiBuZXcgVGlsZUdyaWQoe1xuICAgIGV4dGVudDogZXh0ZW50LFxuICAgIG9yaWdpbjogZ2V0Q29ybmVyKGV4dGVudCwgY29ybmVyKSxcbiAgICByZXNvbHV0aW9uczogcmVzb2x1dGlvbnMsXG4gICAgdGlsZVNpemU6IHRpbGVTaXplLFxuICB9KTtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBYWVpPcHRpb25zXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gRXh0ZW50IGZvciB0aGUgdGlsZSBncmlkLiBUaGUgb3JpZ2luIGZvciBhbiBYWVogdGlsZSBncmlkIGlzIHRoZVxuICogdG9wLWxlZnQgY29ybmVyIG9mIHRoZSBleHRlbnQuIElmIGBtYXhSZXNvbHV0aW9uYCBpcyBub3QgcHJvdmlkZWQgdGhlIHplcm8gbGV2ZWwgb2YgdGhlIGdyaWQgaXMgZGVmaW5lZCBieSB0aGUgcmVzb2x1dGlvblxuICogYXQgd2hpY2ggb25lIHRpbGUgZml0cyBpbiB0aGUgcHJvdmlkZWQgZXh0ZW50LiBJZiBub3QgcHJvdmlkZWQsIHRoZSBleHRlbnQgb2YgdGhlIEVQU0c6Mzg1NyBwcm9qZWN0aW9uIGlzIHVzZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlc29sdXRpb25dIFJlc29sdXRpb24gYXQgbGV2ZWwgemVyby5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4Wm9vbV0gTWF4aW11bSB6b29tLiBUaGUgZGVmYXVsdCBpcyBgNDJgLiBUaGlzIGRldGVybWluZXMgdGhlIG51bWJlciBvZiBsZXZlbHNcbiAqIGluIHRoZSBncmlkIHNldC4gRm9yIGV4YW1wbGUsIGEgYG1heFpvb21gIG9mIDIxIG1lYW5zIHRoZXJlIGFyZSAyMiBsZXZlbHMgaW4gdGhlIGdyaWQgc2V0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ab29tPTBdIE1pbmltdW0gem9vbS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfGltcG9ydChcIi4vc2l6ZS5qc1wiKS5TaXplfSBbdGlsZVNpemU9WzI1NiwgMjU2XV0gVGlsZSBzaXplIGluIHBpeGVscy5cbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSB0aWxlIGdyaWQgd2l0aCBhIHN0YW5kYXJkIFhZWiB0aWxpbmcgc2NoZW1lLlxuICogQHBhcmFtIHtYWVpPcHRpb25zfSBbb3B0aW9uc10gVGlsZSBncmlkIG9wdGlvbnMuXG4gKiBAcmV0dXJuIHshVGlsZUdyaWR9IFRpbGUgZ3JpZCBpbnN0YW5jZS5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVhZWihvcHRpb25zKSB7XG4gIGNvbnN0IHh5ek9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGNvbnN0IGV4dGVudCA9IHh5ek9wdGlvbnMuZXh0ZW50IHx8IGdldFByb2plY3Rpb24oJ0VQU0c6Mzg1NycpLmdldEV4dGVudCgpO1xuXG4gIGNvbnN0IGdyaWRPcHRpb25zID0ge1xuICAgIGV4dGVudDogZXh0ZW50LFxuICAgIG1pblpvb206IHh5ek9wdGlvbnMubWluWm9vbSxcbiAgICB0aWxlU2l6ZTogeHl6T3B0aW9ucy50aWxlU2l6ZSxcbiAgICByZXNvbHV0aW9uczogcmVzb2x1dGlvbnNGcm9tRXh0ZW50KFxuICAgICAgZXh0ZW50LFxuICAgICAgeHl6T3B0aW9ucy5tYXhab29tLFxuICAgICAgeHl6T3B0aW9ucy50aWxlU2l6ZSxcbiAgICAgIHh5ek9wdGlvbnMubWF4UmVzb2x1dGlvblxuICAgICksXG4gIH07XG4gIHJldHVybiBuZXcgVGlsZUdyaWQoZ3JpZE9wdGlvbnMpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIHJlc29sdXRpb25zIGFycmF5IGZyb20gYW4gZXh0ZW50LiAgQSB6b29tIGZhY3RvciBvZiAyIGlzIGFzc3VtZWQuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4Wm9vbV0gTWF4aW11bSB6b29tIGxldmVsIChkZWZhdWx0IGlzXG4gKiAgICAgREVGQVVMVF9NQVhfWk9PTSkuXG4gKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuL3NpemUuanNcIikuU2l6ZX0gW3RpbGVTaXplXSBUaWxlIHNpemUgKGRlZmF1bHQgdXNlc1xuICogICAgIERFRkFVTFRfVElMRV9TSVpFKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4UmVzb2x1dGlvbl0gUmVzb2x1dGlvbiBhdCBsZXZlbCB6ZXJvLlxuICogQHJldHVybiB7IUFycmF5PG51bWJlcj59IFJlc29sdXRpb25zIGFycmF5LlxuICovXG5mdW5jdGlvbiByZXNvbHV0aW9uc0Zyb21FeHRlbnQoZXh0ZW50LCBtYXhab29tLCB0aWxlU2l6ZSwgbWF4UmVzb2x1dGlvbikge1xuICBtYXhab29tID0gbWF4Wm9vbSAhPT0gdW5kZWZpbmVkID8gbWF4Wm9vbSA6IERFRkFVTFRfTUFYX1pPT007XG4gIHRpbGVTaXplID0gdG9TaXplKHRpbGVTaXplICE9PSB1bmRlZmluZWQgPyB0aWxlU2l6ZSA6IERFRkFVTFRfVElMRV9TSVpFKTtcblxuICBjb25zdCBoZWlnaHQgPSBnZXRIZWlnaHQoZXh0ZW50KTtcbiAgY29uc3Qgd2lkdGggPSBnZXRXaWR0aChleHRlbnQpO1xuXG4gIG1heFJlc29sdXRpb24gPVxuICAgIG1heFJlc29sdXRpb24gPiAwXG4gICAgICA/IG1heFJlc29sdXRpb25cbiAgICAgIDogTWF0aC5tYXgod2lkdGggLyB0aWxlU2l6ZVswXSwgaGVpZ2h0IC8gdGlsZVNpemVbMV0pO1xuXG4gIGNvbnN0IGxlbmd0aCA9IG1heFpvb20gKyAxO1xuICBjb25zdCByZXNvbHV0aW9ucyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICBmb3IgKGxldCB6ID0gMDsgeiA8IGxlbmd0aDsgKyt6KSB7XG4gICAgcmVzb2x1dGlvbnNbel0gPSBtYXhSZXNvbHV0aW9uIC8gTWF0aC5wb3coMiwgeik7XG4gIH1cbiAgcmV0dXJuIHJlc29sdXRpb25zO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW21heFpvb21dIE1heGltdW0gem9vbSBsZXZlbCAoZGVmYXVsdCBpc1xuICogICAgIERFRkFVTFRfTUFYX1pPT00pLlxuICogQHBhcmFtIHtudW1iZXJ8aW1wb3J0KFwiLi9zaXplLmpzXCIpLlNpemV9IFt0aWxlU2l6ZV0gVGlsZSBzaXplIChkZWZhdWx0IHVzZXNcbiAqICAgICBERUZBVUxUX1RJTEVfU0laRSkuXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vZXh0ZW50LmpzXCIpLkNvcm5lcn0gW2Nvcm5lcl0gRXh0ZW50IGNvcm5lciAoZGVmYXVsdCBpcyBgJ3RvcC1sZWZ0J2ApLlxuICogQHJldHVybiB7IVRpbGVHcmlkfSBUaWxlR3JpZCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZvclByb2plY3Rpb24ocHJvamVjdGlvbiwgbWF4Wm9vbSwgdGlsZVNpemUsIGNvcm5lcikge1xuICBjb25zdCBleHRlbnQgPSBleHRlbnRGcm9tUHJvamVjdGlvbihwcm9qZWN0aW9uKTtcbiAgcmV0dXJuIGNyZWF0ZUZvckV4dGVudChleHRlbnQsIG1heFpvb20sIHRpbGVTaXplLCBjb3JuZXIpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEgdGlsZSBncmlkIGV4dGVudCBmcm9tIGEgcHJvamVjdGlvbi4gIElmIHRoZSBwcm9qZWN0aW9uIGhhcyBhblxuICogZXh0ZW50LCBpdCBpcyB1c2VkLiAgSWYgbm90LCBhIGdsb2JhbCBleHRlbnQgaXMgYXNzdW1lZC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwiLi9wcm9qLmpzXCIpLlByb2plY3Rpb25MaWtlfSBwcm9qZWN0aW9uIFByb2plY3Rpb24uXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCIuL2V4dGVudC5qc1wiKS5FeHRlbnR9IEV4dGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVudEZyb21Qcm9qZWN0aW9uKHByb2plY3Rpb24pIHtcbiAgcHJvamVjdGlvbiA9IGdldFByb2plY3Rpb24ocHJvamVjdGlvbik7XG4gIGxldCBleHRlbnQgPSBwcm9qZWN0aW9uLmdldEV4dGVudCgpO1xuICBpZiAoIWV4dGVudCkge1xuICAgIGNvbnN0IGhhbGYgPVxuICAgICAgKDE4MCAqIE1FVEVSU19QRVJfVU5JVC5kZWdyZWVzKSAvIHByb2plY3Rpb24uZ2V0TWV0ZXJzUGVyVW5pdCgpO1xuICAgIGV4dGVudCA9IGNyZWF0ZU9yVXBkYXRlKC1oYWxmLCAtaGFsZiwgaGFsZiwgaGFsZik7XG4gIH1cbiAgcmV0dXJuIGV4dGVudDtcbn1cbiIsIi8qKlxuICogQG1vZHVsZSBvbC90aWxlZ3JpZC9UaWxlR3JpZFxuICovXG5pbXBvcnQgVGlsZVJhbmdlLCB7XG4gIGNyZWF0ZU9yVXBkYXRlIGFzIGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlLFxufSBmcm9tICcuLi9UaWxlUmFuZ2UuanMnO1xuaW1wb3J0IHtERUZBVUxUX1RJTEVfU0laRX0gZnJvbSAnLi9jb21tb24uanMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL2Fzc2VydHMuanMnO1xuaW1wb3J0IHtjZWlsLCBjbGFtcCwgZmxvb3J9IGZyb20gJy4uL21hdGguanMnO1xuaW1wb3J0IHtjcmVhdGVPclVwZGF0ZSwgZ2V0VG9wTGVmdH0gZnJvbSAnLi4vZXh0ZW50LmpzJztcbmltcG9ydCB7Y3JlYXRlT3JVcGRhdGUgYXMgY3JlYXRlT3JVcGRhdGVUaWxlQ29vcmR9IGZyb20gJy4uL3RpbGVjb29yZC5qcyc7XG5pbXBvcnQge2ludGVyc2VjdHNMaW5lYXJSaW5nfSBmcm9tICcuLi9nZW9tL2ZsYXQvaW50ZXJzZWN0c2V4dGVudC5qcyc7XG5pbXBvcnQge2lzU29ydGVkLCBsaW5lYXJGaW5kTmVhcmVzdH0gZnJvbSAnLi4vYXJyYXkuanMnO1xuaW1wb3J0IHt0b1NpemV9IGZyb20gJy4uL3NpemUuanMnO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH1cbiAqL1xuY29uc3QgdG1wVGlsZUNvb3JkID0gWzAsIDAsIDBdO1xuXG4vKipcbiAqIE51bWJlciBvZiBkZWNpbWFsIGRpZ2l0cyB0byBjb25zaWRlciBpbiBpbnRlZ2VyIHZhbHVlcyB3aGVuIHJvdW5kaW5nLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuY29uc3QgREVDSU1BTFMgPSA1O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW2V4dGVudF0gRXh0ZW50IGZvciB0aGUgdGlsZSBncmlkLiBObyB0aWxlcyBvdXRzaWRlIHRoaXNcbiAqIGV4dGVudCB3aWxsIGJlIHJlcXVlc3RlZCBieSB7QGxpbmsgbW9kdWxlOm9sL3NvdXJjZS9UaWxlflRpbGVTb3VyY2V9IHNvdXJjZXMuIFdoZW4gbm8gYG9yaWdpbmAgb3JcbiAqIGBvcmlnaW5zYCBhcmUgY29uZmlndXJlZCwgdGhlIGBvcmlnaW5gIHdpbGwgYmUgc2V0IHRvIHRoZSB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIGV4dGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWm9vbT0wXSBNaW5pbXVtIHpvb20uXG4gKiBAcHJvcGVydHkge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gW29yaWdpbl0gVGhlIHRpbGUgZ3JpZCBvcmlnaW4sIGkuZS4gd2hlcmUgdGhlIGB4YFxuICogYW5kIGB5YCBheGVzIG1lZXQgKGBbeiwgMCwgMF1gKS4gVGlsZSBjb29yZGluYXRlcyBpbmNyZWFzZSBsZWZ0IHRvIHJpZ2h0IGFuZCBkb3dud2FyZHMuIElmIG5vdFxuICogc3BlY2lmaWVkLCBgZXh0ZW50YCBvciBgb3JpZ2luc2AgbXVzdCBiZSBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlPn0gW29yaWdpbnNdIFRpbGUgZ3JpZCBvcmlnaW5zLCBpLmUuIHdoZXJlXG4gKiB0aGUgYHhgIGFuZCBgeWAgYXhlcyBtZWV0IChgW3osIDAsIDBdYCksIGZvciBlYWNoIHpvb20gbGV2ZWwuIElmIGdpdmVuLCB0aGUgYXJyYXkgbGVuZ3RoXG4gKiBzaG91bGQgbWF0Y2ggdGhlIGxlbmd0aCBvZiB0aGUgYHJlc29sdXRpb25zYCBhcnJheSwgaS5lLiBlYWNoIHJlc29sdXRpb24gY2FuIGhhdmUgYSBkaWZmZXJlbnRcbiAqIG9yaWdpbi4gVGlsZSBjb29yZGluYXRlcyBpbmNyZWFzZSBsZWZ0IHRvIHJpZ2h0IGFuZCBkb3dud2FyZHMuIElmIG5vdCBzcGVjaWZpZWQsIGBleHRlbnRgIG9yXG4gKiBgb3JpZ2luYCBtdXN0IGJlIHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHshQXJyYXk8bnVtYmVyPn0gcmVzb2x1dGlvbnMgUmVzb2x1dGlvbnMuIFRoZSBhcnJheSBpbmRleCBvZiBlYWNoIHJlc29sdXRpb24gbmVlZHNcbiAqIHRvIG1hdGNoIHRoZSB6b29tIGxldmVsLiBUaGlzIG1lYW5zIHRoYXQgZXZlbiBpZiBhIGBtaW5ab29tYCBpcyBjb25maWd1cmVkLCB0aGUgcmVzb2x1dGlvbnNcbiAqIGFycmF5IHdpbGwgaGF2ZSBhIGxlbmd0aCBvZiBgbWF4Wm9vbSArIDFgLlxuICogQHByb3BlcnR5IHtBcnJheTxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemU+fSBbc2l6ZXNdIE51bWJlciBvZiB0aWxlIHJvd3MgYW5kIGNvbHVtbnNcbiAqIG9mIHRoZSBncmlkIGZvciBlYWNoIHpvb20gbGV2ZWwuIElmIHNwZWNpZmllZCB0aGUgdmFsdWVzXG4gKiBkZWZpbmUgZWFjaCB6b29tIGxldmVsJ3MgZXh0ZW50IHRvZ2V0aGVyIHdpdGggdGhlIGBvcmlnaW5gIG9yIGBvcmlnaW5zYC5cbiAqIEEgZ3JpZCBgZXh0ZW50YCBjYW4gYmUgY29uZmlndXJlZCBpbiBhZGRpdGlvbiwgYW5kIHdpbGwgZnVydGhlciBsaW1pdCB0aGUgZXh0ZW50XG4gKiBmb3Igd2hpY2ggdGlsZSByZXF1ZXN0cyBhcmUgbWFkZSBieSBzb3VyY2VzLiBJZiB0aGUgYm90dG9tLWxlZnQgY29ybmVyIG9mXG4gKiBhbiBleHRlbnQgaXMgdXNlZCBhcyBgb3JpZ2luYCBvciBgb3JpZ2luc2AsIHRoZW4gdGhlIGB5YCB2YWx1ZSBtdXN0IGJlXG4gKiBuZWdhdGl2ZSBiZWNhdXNlIE9wZW5MYXllcnMgdGlsZSBjb29yZGluYXRlcyB1c2UgdGhlIHRvcCBsZWZ0IGFzIHRoZSBvcmlnaW4uXG4gKiBAcHJvcGVydHkge251bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9IFt0aWxlU2l6ZV0gVGlsZSBzaXplLlxuICogRGVmYXVsdCBpcyBgWzI1NiwgMjU2XWAuXG4gKiBAcHJvcGVydHkge0FycmF5PG51bWJlcnxpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemU+fSBbdGlsZVNpemVzXSBUaWxlIHNpemVzLiBJZiBnaXZlbiwgdGhlIGFycmF5IGxlbmd0aFxuICogc2hvdWxkIG1hdGNoIHRoZSBsZW5ndGggb2YgdGhlIGByZXNvbHV0aW9uc2AgYXJyYXksIGkuZS4gZWFjaCByZXNvbHV0aW9uIGNhbiBoYXZlIGEgZGlmZmVyZW50XG4gKiB0aWxlIHNpemUuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NkZXNjXG4gKiBCYXNlIGNsYXNzIGZvciBzZXR0aW5nIHRoZSBncmlkIHBhdHRlcm4gZm9yIHNvdXJjZXMgYWNjZXNzaW5nIHRpbGVkLWltYWdlXG4gKiBzZXJ2ZXJzLlxuICogQGFwaVxuICovXG5jbGFzcyBUaWxlR3JpZCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgVGlsZSBncmlkIG9wdGlvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5taW5ab29tID0gb3B0aW9ucy5taW5ab29tICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pblpvb20gOiAwO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7IUFycmF5PG51bWJlcj59XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uc18gPSBvcHRpb25zLnJlc29sdXRpb25zO1xuICAgIGFzc2VydChcbiAgICAgIGlzU29ydGVkKFxuICAgICAgICB0aGlzLnJlc29sdXRpb25zXyxcbiAgICAgICAgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICByZXR1cm4gYiAtIGE7XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgICksXG4gICAgICAxN1xuICAgICk7IC8vIGByZXNvbHV0aW9uc2AgbXVzdCBiZSBzb3J0ZWQgaW4gZGVzY2VuZGluZyBvcmRlclxuXG4gICAgLy8gY2hlY2sgaWYgd2UndmUgZ290IGEgY29uc2lzdGVudCB6b29tIGZhY3RvciBhbmQgb3JpZ2luXG4gICAgbGV0IHpvb21GYWN0b3I7XG4gICAgaWYgKCFvcHRpb25zLm9yaWdpbnMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aCAtIDE7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGlmICghem9vbUZhY3Rvcikge1xuICAgICAgICAgIHpvb21GYWN0b3IgPSB0aGlzLnJlc29sdXRpb25zX1tpXSAvIHRoaXMucmVzb2x1dGlvbnNfW2kgKyAxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uc19baV0gLyB0aGlzLnJlc29sdXRpb25zX1tpICsgMV0gIT09IHpvb21GYWN0b3IpIHtcbiAgICAgICAgICAgIHpvb21GYWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuem9vbUZhY3Rvcl8gPSB6b29tRmFjdG9yO1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhab29tID0gdGhpcy5yZXNvbHV0aW9uc18ubGVuZ3RoIC0gMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZXxudWxsfVxuICAgICAqL1xuICAgIHRoaXMub3JpZ2luXyA9IG9wdGlvbnMub3JpZ2luICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9yaWdpbiA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGU+fVxuICAgICAqL1xuICAgIHRoaXMub3JpZ2luc18gPSBudWxsO1xuICAgIGlmIChvcHRpb25zLm9yaWdpbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vcmlnaW5zXyA9IG9wdGlvbnMub3JpZ2lucztcbiAgICAgIGFzc2VydCh0aGlzLm9yaWdpbnNfLmxlbmd0aCA9PSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGgsIDIwKTsgLy8gTnVtYmVyIG9mIGBvcmlnaW5zYCBhbmQgYHJlc29sdXRpb25zYCBtdXN0IGJlIGVxdWFsXG4gICAgfVxuXG4gICAgY29uc3QgZXh0ZW50ID0gb3B0aW9ucy5leHRlbnQ7XG5cbiAgICBpZiAoZXh0ZW50ICE9PSB1bmRlZmluZWQgJiYgIXRoaXMub3JpZ2luXyAmJiAhdGhpcy5vcmlnaW5zXykge1xuICAgICAgdGhpcy5vcmlnaW5fID0gZ2V0VG9wTGVmdChleHRlbnQpO1xuICAgIH1cblxuICAgIGFzc2VydChcbiAgICAgICghdGhpcy5vcmlnaW5fICYmIHRoaXMub3JpZ2luc18pIHx8ICh0aGlzLm9yaWdpbl8gJiYgIXRoaXMub3JpZ2luc18pLFxuICAgICAgMThcbiAgICApOyAvLyBFaXRoZXIgYG9yaWdpbmAgb3IgYG9yaWdpbnNgIG11c3QgYmUgY29uZmlndXJlZCwgbmV2ZXIgYm90aFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyfGltcG9ydChcIi4uL3NpemUuanNcIikuU2l6ZT59XG4gICAgICovXG4gICAgdGhpcy50aWxlU2l6ZXNfID0gbnVsbDtcbiAgICBpZiAob3B0aW9ucy50aWxlU2l6ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy50aWxlU2l6ZXNfID0gb3B0aW9ucy50aWxlU2l6ZXM7XG4gICAgICBhc3NlcnQodGhpcy50aWxlU2l6ZXNfLmxlbmd0aCA9PSB0aGlzLnJlc29sdXRpb25zXy5sZW5ndGgsIDE5KTsgLy8gTnVtYmVyIG9mIGB0aWxlU2l6ZXNgIGFuZCBgcmVzb2x1dGlvbnNgIG11c3QgYmUgZXF1YWxcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMudGlsZVNpemVfID1cbiAgICAgIG9wdGlvbnMudGlsZVNpemUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMudGlsZVNpemVcbiAgICAgICAgOiAhdGhpcy50aWxlU2l6ZXNfXG4gICAgICAgID8gREVGQVVMVF9USUxFX1NJWkVcbiAgICAgICAgOiBudWxsO1xuICAgIGFzc2VydChcbiAgICAgICghdGhpcy50aWxlU2l6ZV8gJiYgdGhpcy50aWxlU2l6ZXNfKSB8fFxuICAgICAgICAodGhpcy50aWxlU2l6ZV8gJiYgIXRoaXMudGlsZVNpemVzXyksXG4gICAgICAyMlxuICAgICk7IC8vIEVpdGhlciBgdGlsZVNpemVgIG9yIGB0aWxlU2l6ZXNgIG11c3QgYmUgY29uZmlndXJlZCwgbmV2ZXIgYm90aFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH1cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVudF8gPSBleHRlbnQgIT09IHVuZGVmaW5lZCA/IGV4dGVudCA6IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtBcnJheTxpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdD59XG4gICAgICovXG4gICAgdGhpcy5mdWxsVGlsZVJhbmdlc18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfVxuICAgICAqL1xuICAgIHRoaXMudG1wU2l6ZV8gPSBbMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fVxuICAgICAqL1xuICAgIHRoaXMudG1wRXh0ZW50XyA9IFswLCAwLCAwLCAwXTtcblxuICAgIGlmIChvcHRpb25zLnNpemVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZnVsbFRpbGVSYW5nZXNfID0gb3B0aW9ucy5zaXplcy5tYXAoZnVuY3Rpb24gKHNpemUsIHopIHtcbiAgICAgICAgY29uc3QgdGlsZVJhbmdlID0gbmV3IFRpbGVSYW5nZShcbiAgICAgICAgICBNYXRoLm1pbigwLCBzaXplWzBdKSxcbiAgICAgICAgICBNYXRoLm1heChzaXplWzBdIC0gMSwgLTEpLFxuICAgICAgICAgIE1hdGgubWluKDAsIHNpemVbMV0pLFxuICAgICAgICAgIE1hdGgubWF4KHNpemVbMV0gLSAxLCAtMSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGV4dGVudCkge1xuICAgICAgICAgIGNvbnN0IHJlc3RyaWN0ZWRUaWxlUmFuZ2UgPSB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6KTtcbiAgICAgICAgICB0aWxlUmFuZ2UubWluWCA9IE1hdGgubWF4KHJlc3RyaWN0ZWRUaWxlUmFuZ2UubWluWCwgdGlsZVJhbmdlLm1pblgpO1xuICAgICAgICAgIHRpbGVSYW5nZS5tYXhYID0gTWF0aC5taW4ocmVzdHJpY3RlZFRpbGVSYW5nZS5tYXhYLCB0aWxlUmFuZ2UubWF4WCk7XG4gICAgICAgICAgdGlsZVJhbmdlLm1pblkgPSBNYXRoLm1heChyZXN0cmljdGVkVGlsZVJhbmdlLm1pblksIHRpbGVSYW5nZS5taW5ZKTtcbiAgICAgICAgICB0aWxlUmFuZ2UubWF4WSA9IE1hdGgubWluKHJlc3RyaWN0ZWRUaWxlUmFuZ2UubWF4WSwgdGlsZVJhbmdlLm1heFkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aWxlUmFuZ2U7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGV4dGVudCkge1xuICAgICAgdGhpcy5jYWxjdWxhdGVUaWxlUmFuZ2VzXyhleHRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIGEgZnVuY3Rpb24gd2l0aCBlYWNoIHRpbGUgY29vcmRpbmF0ZSBmb3IgYSBnaXZlbiBleHRlbnQgYW5kIHpvb20gbGV2ZWwuXG4gICAqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gSW50ZWdlciB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQpOiB2b2lkfSBjYWxsYmFjayBGdW5jdGlvbiBjYWxsZWQgd2l0aCBlYWNoIHRpbGUgY29vcmRpbmF0ZS5cbiAgICogQGFwaVxuICAgKi9cbiAgZm9yRWFjaFRpbGVDb29yZChleHRlbnQsIHpvb20sIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgdGlsZVJhbmdlID0gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKGV4dGVudCwgem9vbSk7XG4gICAgZm9yIChsZXQgaSA9IHRpbGVSYW5nZS5taW5YLCBpaSA9IHRpbGVSYW5nZS5tYXhYOyBpIDw9IGlpOyArK2kpIHtcbiAgICAgIGZvciAobGV0IGogPSB0aWxlUmFuZ2UubWluWSwgamogPSB0aWxlUmFuZ2UubWF4WTsgaiA8PSBqajsgKytqKSB7XG4gICAgICAgIGNhbGxiYWNrKFt6b29tLCBpLCBqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gdGlsZUNvb3JkIFRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihudW1iZXIsIGltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0KTogYm9vbGVhbn0gY2FsbGJhY2sgQ2FsbGJhY2suXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHR9IFt0ZW1wVGlsZVJhbmdlXSBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vVGlsZVJhbmdlLmpzXCIpLmRlZmF1bHQgb2JqZWN0LlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFt0ZW1wRXh0ZW50XSBUZW1wb3JhcnkgaW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudCBvYmplY3QuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IENhbGxiYWNrIHN1Y2NlZWRlZC5cbiAgICovXG4gIGZvckVhY2hUaWxlQ29vcmRQYXJlbnRUaWxlUmFuZ2UoXG4gICAgdGlsZUNvb3JkLFxuICAgIGNhbGxiYWNrLFxuICAgIHRlbXBUaWxlUmFuZ2UsXG4gICAgdGVtcEV4dGVudFxuICApIHtcbiAgICBsZXQgdGlsZVJhbmdlLCB4LCB5O1xuICAgIGxldCB0aWxlQ29vcmRFeHRlbnQgPSBudWxsO1xuICAgIGxldCB6ID0gdGlsZUNvb3JkWzBdIC0gMTtcbiAgICBpZiAodGhpcy56b29tRmFjdG9yXyA9PT0gMikge1xuICAgICAgeCA9IHRpbGVDb29yZFsxXTtcbiAgICAgIHkgPSB0aWxlQ29vcmRbMl07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRpbGVDb29yZEV4dGVudCA9IHRoaXMuZ2V0VGlsZUNvb3JkRXh0ZW50KHRpbGVDb29yZCwgdGVtcEV4dGVudCk7XG4gICAgfVxuICAgIHdoaWxlICh6ID49IHRoaXMubWluWm9vbSkge1xuICAgICAgaWYgKHRoaXMuem9vbUZhY3Rvcl8gPT09IDIpIHtcbiAgICAgICAgeCA9IE1hdGguZmxvb3IoeCAvIDIpO1xuICAgICAgICB5ID0gTWF0aC5mbG9vcih5IC8gMik7XG4gICAgICAgIHRpbGVSYW5nZSA9IGNyZWF0ZU9yVXBkYXRlVGlsZVJhbmdlKHgsIHgsIHksIHksIHRlbXBUaWxlUmFuZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGlsZVJhbmdlID0gdGhpcy5nZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaKFxuICAgICAgICAgIHRpbGVDb29yZEV4dGVudCxcbiAgICAgICAgICB6LFxuICAgICAgICAgIHRlbXBUaWxlUmFuZ2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjayh6LCB0aWxlUmFuZ2UpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgLS16O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBleHRlbnQgZm9yIHRoaXMgdGlsZSBncmlkLCBpZiBpdCB3YXMgY29uZmlndXJlZC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRFeHRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXh0ZW50XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1heGltdW0gem9vbSBsZXZlbCBmb3IgdGhlIGdyaWQuXG4gICAqIEByZXR1cm4ge251bWJlcn0gTWF4IHpvb20uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1heFpvb20oKSB7XG4gICAgcmV0dXJuIHRoaXMubWF4Wm9vbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1pbmltdW0gem9vbSBsZXZlbCBmb3IgdGhlIGdyaWQuXG4gICAqIEByZXR1cm4ge251bWJlcn0gTWluIHpvb20uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE1pblpvb20oKSB7XG4gICAgcmV0dXJuIHRoaXMubWluWm9vbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG9yaWdpbiBmb3IgdGhlIGdyaWQgYXQgdGhlIGdpdmVuIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBPcmlnaW4uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldE9yaWdpbih6KSB7XG4gICAgaWYgKHRoaXMub3JpZ2luXykge1xuICAgICAgcmV0dXJuIHRoaXMub3JpZ2luXztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub3JpZ2luc19bel07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSByZXNvbHV0aW9uIGZvciB0aGUgZ2l2ZW4gem9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHogSW50ZWdlciB6b29tIGxldmVsLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24uXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFJlc29sdXRpb24oeikge1xuICAgIHJldHVybiB0aGlzLnJlc29sdXRpb25zX1t6XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxpc3Qgb2YgcmVzb2x1dGlvbnMgZm9yIHRoZSB0aWxlIGdyaWQuXG4gICAqIEByZXR1cm4ge0FycmF5PG51bWJlcj59IFJlc29sdXRpb25zLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRSZXNvbHV0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNvbHV0aW9uc187XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBbdGVtcFRpbGVSYW5nZV0gVGVtcG9yYXJ5IGltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0IG9iamVjdC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBbdGVtcEV4dGVudF0gVGVtcG9yYXJ5IGltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnQgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdHxudWxsfSBUaWxlIHJhbmdlLlxuICAgKi9cbiAgZ2V0VGlsZUNvb3JkQ2hpbGRUaWxlUmFuZ2UodGlsZUNvb3JkLCB0ZW1wVGlsZVJhbmdlLCB0ZW1wRXh0ZW50KSB7XG4gICAgaWYgKHRpbGVDb29yZFswXSA8IHRoaXMubWF4Wm9vbSkge1xuICAgICAgaWYgKHRoaXMuem9vbUZhY3Rvcl8gPT09IDIpIHtcbiAgICAgICAgY29uc3QgbWluWCA9IHRpbGVDb29yZFsxXSAqIDI7XG4gICAgICAgIGNvbnN0IG1pblkgPSB0aWxlQ29vcmRbMl0gKiAyO1xuICAgICAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGVUaWxlUmFuZ2UoXG4gICAgICAgICAgbWluWCxcbiAgICAgICAgICBtaW5YICsgMSxcbiAgICAgICAgICBtaW5ZLFxuICAgICAgICAgIG1pblkgKyAxLFxuICAgICAgICAgIHRlbXBUaWxlUmFuZ2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRpbGVDb29yZEV4dGVudCA9IHRoaXMuZ2V0VGlsZUNvb3JkRXh0ZW50KFxuICAgICAgICB0aWxlQ29vcmQsXG4gICAgICAgIHRlbXBFeHRlbnQgfHwgdGhpcy50bXBFeHRlbnRfXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWihcbiAgICAgICAgdGlsZUNvb3JkRXh0ZW50LFxuICAgICAgICB0aWxlQ29vcmRbMF0gKyAxLFxuICAgICAgICB0ZW1wVGlsZVJhbmdlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gW3RlbXBUaWxlUmFuZ2VdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdCBvYmplY3QuXG4gICAqIEByZXR1cm4ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fG51bGx9IFRpbGUgcmFuZ2UuXG4gICAqL1xuICBnZXRUaWxlUmFuZ2VGb3JUaWxlQ29vcmRBbmRaKHRpbGVDb29yZCwgeiwgdGVtcFRpbGVSYW5nZSkge1xuICAgIGlmICh6ID4gdGhpcy5tYXhab29tIHx8IHogPCB0aGlzLm1pblpvb20pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHRpbGVDb29yZFogPSB0aWxlQ29vcmRbMF07XG4gICAgY29uc3QgdGlsZUNvb3JkWCA9IHRpbGVDb29yZFsxXTtcbiAgICBjb25zdCB0aWxlQ29vcmRZID0gdGlsZUNvb3JkWzJdO1xuXG4gICAgaWYgKHogPT09IHRpbGVDb29yZFopIHtcbiAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZShcbiAgICAgICAgdGlsZUNvb3JkWCxcbiAgICAgICAgdGlsZUNvb3JkWSxcbiAgICAgICAgdGlsZUNvb3JkWCxcbiAgICAgICAgdGlsZUNvb3JkWSxcbiAgICAgICAgdGVtcFRpbGVSYW5nZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy56b29tRmFjdG9yXykge1xuICAgICAgY29uc3QgZmFjdG9yID0gTWF0aC5wb3codGhpcy56b29tRmFjdG9yXywgeiAtIHRpbGVDb29yZFopO1xuICAgICAgY29uc3QgbWluWCA9IE1hdGguZmxvb3IodGlsZUNvb3JkWCAqIGZhY3Rvcik7XG4gICAgICBjb25zdCBtaW5ZID0gTWF0aC5mbG9vcih0aWxlQ29vcmRZICogZmFjdG9yKTtcbiAgICAgIGlmICh6IDwgdGlsZUNvb3JkWikge1xuICAgICAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGVUaWxlUmFuZ2UobWluWCwgbWluWCwgbWluWSwgbWluWSwgdGVtcFRpbGVSYW5nZSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1heFggPSBNYXRoLmZsb29yKGZhY3RvciAqICh0aWxlQ29vcmRYICsgMSkpIC0gMTtcbiAgICAgIGNvbnN0IG1heFkgPSBNYXRoLmZsb29yKGZhY3RvciAqICh0aWxlQ29vcmRZICsgMSkpIC0gMTtcbiAgICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZVRpbGVSYW5nZShtaW5YLCBtYXhYLCBtaW5ZLCBtYXhZLCB0ZW1wVGlsZVJhbmdlKTtcbiAgICB9XG5cbiAgICBjb25zdCB0aWxlQ29vcmRFeHRlbnQgPSB0aGlzLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQsIHRoaXMudG1wRXh0ZW50Xyk7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGlsZVJhbmdlRm9yRXh0ZW50QW5kWih0aWxlQ29vcmRFeHRlbnQsIHosIHRlbXBUaWxlUmFuZ2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZXh0ZW50IGZvciBhIHRpbGUgcmFuZ2UuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IEludGVnZXIgem9vbSBsZXZlbC5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gdGlsZVJhbmdlIFRpbGUgcmFuZ2UuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gW3RlbXBFeHRlbnRdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50IG9iamVjdC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgKi9cbiAgZ2V0VGlsZVJhbmdlRXh0ZW50KHosIHRpbGVSYW5nZSwgdGVtcEV4dGVudCkge1xuICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMuZ2V0T3JpZ2luKHopO1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aGlzLmdldFJlc29sdXRpb24oeik7XG4gICAgY29uc3QgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh6KSwgdGhpcy50bXBTaXplXyk7XG4gICAgY29uc3QgbWluWCA9IG9yaWdpblswXSArIHRpbGVSYW5nZS5taW5YICogdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uO1xuICAgIGNvbnN0IG1heFggPSBvcmlnaW5bMF0gKyAodGlsZVJhbmdlLm1heFggKyAxKSAqIHRpbGVTaXplWzBdICogcmVzb2x1dGlvbjtcbiAgICBjb25zdCBtaW5ZID0gb3JpZ2luWzFdICsgdGlsZVJhbmdlLm1pblkgKiB0aWxlU2l6ZVsxXSAqIHJlc29sdXRpb247XG4gICAgY29uc3QgbWF4WSA9IG9yaWdpblsxXSArICh0aWxlUmFuZ2UubWF4WSArIDEpICogdGlsZVNpemVbMV0gKiByZXNvbHV0aW9uO1xuICAgIHJldHVybiBjcmVhdGVPclVwZGF0ZShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB0ZW1wRXh0ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSB0aWxlIHJhbmdlIGZvciB0aGUgZ2l2ZW4gZXh0ZW50IGFuZCBpbnRlZ2VyIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gZXh0ZW50IEV4dGVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHogSW50ZWdlciB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL1RpbGVSYW5nZS5qc1wiKS5kZWZhdWx0fSBbdGVtcFRpbGVSYW5nZV0gVGVtcG9yYXJ5IHRpbGUgcmFuZ2Ugb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gVGlsZSByYW5nZS5cbiAgICovXG4gIGdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6LCB0ZW1wVGlsZVJhbmdlKSB7XG4gICAgdGhpcy5nZXRUaWxlQ29vcmRGb3JYWUFuZFpfKGV4dGVudFswXSwgZXh0ZW50WzNdLCB6LCBmYWxzZSwgdG1wVGlsZUNvb3JkKTtcbiAgICBjb25zdCBtaW5YID0gdG1wVGlsZUNvb3JkWzFdO1xuICAgIGNvbnN0IG1pblkgPSB0bXBUaWxlQ29vcmRbMl07XG4gICAgdGhpcy5nZXRUaWxlQ29vcmRGb3JYWUFuZFpfKGV4dGVudFsyXSwgZXh0ZW50WzFdLCB6LCB0cnVlLCB0bXBUaWxlQ29vcmQpO1xuICAgIGNvbnN0IG1heFggPSB0bXBUaWxlQ29vcmRbMV07XG4gICAgY29uc3QgbWF4WSA9IHRtcFRpbGVDb29yZFsyXTtcbiAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGVUaWxlUmFuZ2UobWluWCwgbWF4WCwgbWluWSwgbWF4WSwgdGVtcFRpbGVSYW5nZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV9IFRpbGUgY2VudGVyLlxuICAgKi9cbiAgZ2V0VGlsZUNvb3JkQ2VudGVyKHRpbGVDb29yZCkge1xuICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMuZ2V0T3JpZ2luKHRpbGVDb29yZFswXSk7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbih0aWxlQ29vcmRbMF0pO1xuICAgIGNvbnN0IHRpbGVTaXplID0gdG9TaXplKHRoaXMuZ2V0VGlsZVNpemUodGlsZUNvb3JkWzBdKSwgdGhpcy50bXBTaXplXyk7XG4gICAgcmV0dXJuIFtcbiAgICAgIG9yaWdpblswXSArICh0aWxlQ29vcmRbMV0gKyAwLjUpICogdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uLFxuICAgICAgb3JpZ2luWzFdIC0gKHRpbGVDb29yZFsyXSArIDAuNSkgKiB0aWxlU2l6ZVsxXSAqIHJlc29sdXRpb24sXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGV4dGVudCBvZiBhIHRpbGUgY29vcmRpbmF0ZS5cbiAgICpcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2V4dGVudC5qc1wiKS5FeHRlbnR9IFt0ZW1wRXh0ZW50XSBUZW1wb3JhcnkgZXh0ZW50IG9iamVjdC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vZXh0ZW50LmpzXCIpLkV4dGVudH0gRXh0ZW50LlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUaWxlQ29vcmRFeHRlbnQodGlsZUNvb3JkLCB0ZW1wRXh0ZW50KSB7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4odGlsZUNvb3JkWzBdKTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5nZXRSZXNvbHV0aW9uKHRpbGVDb29yZFswXSk7XG4gICAgY29uc3QgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh0aWxlQ29vcmRbMF0pLCB0aGlzLnRtcFNpemVfKTtcbiAgICBjb25zdCBtaW5YID0gb3JpZ2luWzBdICsgdGlsZUNvb3JkWzFdICogdGlsZVNpemVbMF0gKiByZXNvbHV0aW9uO1xuICAgIGNvbnN0IG1pblkgPSBvcmlnaW5bMV0gLSAodGlsZUNvb3JkWzJdICsgMSkgKiB0aWxlU2l6ZVsxXSAqIHJlc29sdXRpb247XG4gICAgY29uc3QgbWF4WCA9IG1pblggKyB0aWxlU2l6ZVswXSAqIHJlc29sdXRpb247XG4gICAgY29uc3QgbWF4WSA9IG1pblkgKyB0aWxlU2l6ZVsxXSAqIHJlc29sdXRpb247XG4gICAgcmV0dXJuIGNyZWF0ZU9yVXBkYXRlKG1pblgsIG1pblksIG1heFgsIG1heFksIHRlbXBFeHRlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGlsZSBjb29yZGluYXRlIGZvciB0aGUgZ2l2ZW4gbWFwIGNvb3JkaW5hdGUgYW5kIHJlc29sdXRpb24uICBUaGlzXG4gICAqIG1ldGhvZCBjb25zaWRlcnMgdGhhdCBjb29yZGluYXRlcyB0aGF0IGludGVyc2VjdCB0aWxlIGJvdW5kYXJpZXMgc2hvdWxkIGJlXG4gICAqIGFzc2lnbmVkIHRoZSBoaWdoZXIgdGlsZSBjb29yZGluYXRlLlxuICAgKlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL2Nvb3JkaW5hdGUuanNcIikuQ29vcmRpbmF0ZX0gY29vcmRpbmF0ZSBDb29yZGluYXRlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge2ltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmR9IFtvcHRfdGlsZUNvb3JkXSBEZXN0aW5hdGlvbiBpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkIG9iamVjdC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICAgKiBAYXBpXG4gICAqL1xuICBnZXRUaWxlQ29vcmRGb3JDb29yZEFuZFJlc29sdXRpb24oY29vcmRpbmF0ZSwgcmVzb2x1dGlvbiwgb3B0X3RpbGVDb29yZCkge1xuICAgIHJldHVybiB0aGlzLmdldFRpbGVDb29yZEZvclhZQW5kUmVzb2x1dGlvbl8oXG4gICAgICBjb29yZGluYXRlWzBdLFxuICAgICAgY29vcmRpbmF0ZVsxXSxcbiAgICAgIHJlc29sdXRpb24sXG4gICAgICBmYWxzZSxcbiAgICAgIG9wdF90aWxlQ29vcmRcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBzaG91bGQgbm90IGJlIGNhbGxlZCBmb3IgcmVzb2x1dGlvbnMgdGhhdCBjb3JyZXNwb25kXG4gICAqIHRvIGFuIGludGVnZXIgem9vbSBsZXZlbC4gIEluc3RlYWQgY2FsbCB0aGUgYGdldFRpbGVDb29yZEZvclhZQW5kWl9gIG1ldGhvZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggWC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgWS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gUmVzb2x1dGlvbiAoZm9yIGEgbm9uLWludGVnZXIgem9vbSBsZXZlbCkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmV2ZXJzZUludGVyc2VjdGlvblBvbGljeSBJbnN0ZWFkIG9mIGxldHRpbmcgZWRnZVxuICAgKiAgICAgaW50ZXJzZWN0aW9ucyBnbyB0byB0aGUgaGlnaGVyIHRpbGUgY29vcmRpbmF0ZSwgbGV0IGVkZ2UgaW50ZXJzZWN0aW9uc1xuICAgKiAgICAgZ28gdG8gdGhlIGxvd2VyIHRpbGUgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBbb3B0X3RpbGVDb29yZF0gVGVtcG9yYXJ5IGltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRUaWxlQ29vcmRGb3JYWUFuZFJlc29sdXRpb25fKFxuICAgIHgsXG4gICAgeSxcbiAgICByZXNvbHV0aW9uLFxuICAgIHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3ksXG4gICAgb3B0X3RpbGVDb29yZFxuICApIHtcbiAgICBjb25zdCB6ID0gdGhpcy5nZXRaRm9yUmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICBjb25zdCBzY2FsZSA9IHJlc29sdXRpb24gLyB0aGlzLmdldFJlc29sdXRpb24oeik7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4oeik7XG4gICAgY29uc3QgdGlsZVNpemUgPSB0b1NpemUodGhpcy5nZXRUaWxlU2l6ZSh6KSwgdGhpcy50bXBTaXplXyk7XG5cbiAgICBsZXQgdGlsZUNvb3JkWCA9IChzY2FsZSAqICh4IC0gb3JpZ2luWzBdKSkgLyByZXNvbHV0aW9uIC8gdGlsZVNpemVbMF07XG4gICAgbGV0IHRpbGVDb29yZFkgPSAoc2NhbGUgKiAob3JpZ2luWzFdIC0geSkpIC8gcmVzb2x1dGlvbiAvIHRpbGVTaXplWzFdO1xuXG4gICAgaWYgKHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kpIHtcbiAgICAgIHRpbGVDb29yZFggPSBjZWlsKHRpbGVDb29yZFgsIERFQ0lNQUxTKSAtIDE7XG4gICAgICB0aWxlQ29vcmRZID0gY2VpbCh0aWxlQ29vcmRZLCBERUNJTUFMUykgLSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aWxlQ29vcmRYID0gZmxvb3IodGlsZUNvb3JkWCwgREVDSU1BTFMpO1xuICAgICAgdGlsZUNvb3JkWSA9IGZsb29yKHRpbGVDb29yZFksIERFQ0lNQUxTKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGVUaWxlQ29vcmQoeiwgdGlsZUNvb3JkWCwgdGlsZUNvb3JkWSwgb3B0X3RpbGVDb29yZCk7XG4gIH1cblxuICAvKipcbiAgICogQWx0aG91Z2ggdGhlcmUgaXMgcmVwZXRpdGlvbiBiZXR3ZWVuIHRoaXMgbWV0aG9kIGFuZCBgZ2V0VGlsZUNvb3JkRm9yWFlBbmRSZXNvbHV0aW9uX2AsXG4gICAqIHRoZXkgc2hvdWxkIGhhdmUgc2VwYXJhdGUgaW1wbGVtZW50YXRpb25zLiAgVGhpcyBtZXRob2QgaXMgZm9yIGludGVnZXIgem9vbVxuICAgKiBsZXZlbHMuICBUaGUgb3RoZXIgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBmb3IgcmVzb2x1dGlvbnMgY29ycmVzcG9uZGluZ1xuICAgKiB0byBub24taW50ZWdlciB6b29tIGxldmVscy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggTWFwIHggY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgTWFwIHkgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHogSW50ZWdlciB6b29tIGxldmVsLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kgSW5zdGVhZCBvZiBsZXR0aW5nIGVkZ2VcbiAgICogICAgIGludGVyc2VjdGlvbnMgZ28gdG8gdGhlIGhpZ2hlciB0aWxlIGNvb3JkaW5hdGUsIGxldCBlZGdlIGludGVyc2VjdGlvbnNcbiAgICogICAgIGdvIHRvIHRoZSBsb3dlciB0aWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gW29wdF90aWxlQ29vcmRdIFRlbXBvcmFyeSBpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkIG9iamVjdC5cbiAgICogQHJldHVybiB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gVGlsZSBjb29yZGluYXRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0VGlsZUNvb3JkRm9yWFlBbmRaXyh4LCB5LCB6LCByZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5LCBvcHRfdGlsZUNvb3JkKSB7XG4gICAgY29uc3Qgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4oeik7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHRoaXMuZ2V0UmVzb2x1dGlvbih6KTtcbiAgICBjb25zdCB0aWxlU2l6ZSA9IHRvU2l6ZSh0aGlzLmdldFRpbGVTaXplKHopLCB0aGlzLnRtcFNpemVfKTtcblxuICAgIGxldCB0aWxlQ29vcmRYID0gKHggLSBvcmlnaW5bMF0pIC8gcmVzb2x1dGlvbiAvIHRpbGVTaXplWzBdO1xuICAgIGxldCB0aWxlQ29vcmRZID0gKG9yaWdpblsxXSAtIHkpIC8gcmVzb2x1dGlvbiAvIHRpbGVTaXplWzFdO1xuXG4gICAgaWYgKHJldmVyc2VJbnRlcnNlY3Rpb25Qb2xpY3kpIHtcbiAgICAgIHRpbGVDb29yZFggPSBjZWlsKHRpbGVDb29yZFgsIERFQ0lNQUxTKSAtIDE7XG4gICAgICB0aWxlQ29vcmRZID0gY2VpbCh0aWxlQ29vcmRZLCBERUNJTUFMUykgLSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aWxlQ29vcmRYID0gZmxvb3IodGlsZUNvb3JkWCwgREVDSU1BTFMpO1xuICAgICAgdGlsZUNvb3JkWSA9IGZsb29yKHRpbGVDb29yZFksIERFQ0lNQUxTKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlT3JVcGRhdGVUaWxlQ29vcmQoeiwgdGlsZUNvb3JkWCwgdGlsZUNvb3JkWSwgb3B0X3RpbGVDb29yZCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdGlsZSBjb29yZGluYXRlIGdpdmVuIGEgbWFwIGNvb3JkaW5hdGUgYW5kIHpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfSBjb29yZGluYXRlIENvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB6IFpvb20gbGV2ZWwuXG4gICAqIEBwYXJhbSB7aW1wb3J0KFwiLi4vdGlsZWNvb3JkLmpzXCIpLlRpbGVDb29yZH0gW29wdF90aWxlQ29vcmRdIERlc3RpbmF0aW9uIGltcG9ydChcIi4uL3RpbGVjb29yZC5qc1wiKS5UaWxlQ29vcmQgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRpbGVDb29yZEZvckNvb3JkQW5kWihjb29yZGluYXRlLCB6LCBvcHRfdGlsZUNvb3JkKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGlsZUNvb3JkRm9yWFlBbmRaXyhcbiAgICAgIGNvb3JkaW5hdGVbMF0sXG4gICAgICBjb29yZGluYXRlWzFdLFxuICAgICAgeixcbiAgICAgIGZhbHNlLFxuICAgICAgb3B0X3RpbGVDb29yZFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoXCIuLi90aWxlY29vcmQuanNcIikuVGlsZUNvb3JkfSB0aWxlQ29vcmQgVGlsZSBjb29yZGluYXRlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRpbGUgcmVzb2x1dGlvbi5cbiAgICovXG4gIGdldFRpbGVDb29yZFJlc29sdXRpb24odGlsZUNvb3JkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzb2x1dGlvbnNfW3RpbGVDb29yZFswXV07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0aWxlIHNpemUgZm9yIGEgem9vbSBsZXZlbC4gVGhlIHR5cGUgb2YgdGhlIHJldHVybiB2YWx1ZSBtYXRjaGVzIHRoZVxuICAgKiBgdGlsZVNpemVgIG9yIGB0aWxlU2l6ZXNgIHRoYXQgdGhlIHRpbGUgZ3JpZCB3YXMgY29uZmlndXJlZCB3aXRoLiBUbyBhbHdheXNcbiAgICogZ2V0IGFuIHtAbGluayBpbXBvcnQoXCIuLi9zaXplLmpzXCIpLlNpemV9LCBydW4gdGhlIHJlc3VsdCB0aHJvdWdoIHtAbGluayBtb2R1bGU6b2wvc2l6ZS50b1NpemV9LlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBaLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8aW1wb3J0KFwiLi4vc2l6ZS5qc1wiKS5TaXplfSBUaWxlIHNpemUuXG4gICAqIEBhcGlcbiAgICovXG4gIGdldFRpbGVTaXplKHopIHtcbiAgICBpZiAodGhpcy50aWxlU2l6ZV8pIHtcbiAgICAgIHJldHVybiB0aGlzLnRpbGVTaXplXztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudGlsZVNpemVzX1t6XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0geiBab29tIGxldmVsLlxuICAgKiBAcmV0dXJuIHtpbXBvcnQoXCIuLi9UaWxlUmFuZ2UuanNcIikuZGVmYXVsdH0gRXh0ZW50IHRpbGUgcmFuZ2UgZm9yIHRoZSBzcGVjaWZpZWQgem9vbSBsZXZlbC5cbiAgICovXG4gIGdldEZ1bGxUaWxlUmFuZ2Uoeikge1xuICAgIGlmICghdGhpcy5mdWxsVGlsZVJhbmdlc18pIHtcbiAgICAgIHJldHVybiB0aGlzLmV4dGVudF9cbiAgICAgICAgPyB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFoodGhpcy5leHRlbnRfLCB6KVxuICAgICAgICA6IG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZ1bGxUaWxlUmFuZ2VzX1t6XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiBSZXNvbHV0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcnxpbXBvcnQoXCIuLi9hcnJheS5qc1wiKS5OZWFyZXN0RGlyZWN0aW9uRnVuY3Rpb259IFtvcHRfZGlyZWN0aW9uXVxuICAgKiAgICAgSWYgMCwgdGhlIG5lYXJlc3QgcmVzb2x1dGlvbiB3aWxsIGJlIHVzZWQuXG4gICAqICAgICBJZiAxLCB0aGUgbmVhcmVzdCBoaWdoZXIgcmVzb2x1dGlvbiAobG93ZXIgWikgd2lsbCBiZSB1c2VkLiBJZiAtMSwgdGhlXG4gICAqICAgICBuZWFyZXN0IGxvd2VyIHJlc29sdXRpb24gKGhpZ2hlciBaKSB3aWxsIGJlIHVzZWQuIERlZmF1bHQgaXMgMC5cbiAgICogICAgIFVzZSBhIHtAbGluayBtb2R1bGU6b2wvYXJyYXl+TmVhcmVzdERpcmVjdGlvbkZ1bmN0aW9ufSBmb3IgbW9yZSBwcmVjaXNlIGNvbnRyb2wuXG4gICAqXG4gICAqIEZvciBleGFtcGxlIHRvIGNoYW5nZSB0aWxlIFogYXQgdGhlIG1pZHBvaW50IG9mIHpvb20gbGV2ZWxzXG4gICAqIGBgYGpzXG4gICAqIGZ1bmN0aW9uKHZhbHVlLCBoaWdoLCBsb3cpIHtcbiAgICogICByZXR1cm4gdmFsdWUgLSBsb3cgKiBNYXRoLnNxcnQoaGlnaCAvIGxvdyk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqIEByZXR1cm4ge251bWJlcn0gWi5cbiAgICogQGFwaVxuICAgKi9cbiAgZ2V0WkZvclJlc29sdXRpb24ocmVzb2x1dGlvbiwgb3B0X2RpcmVjdGlvbikge1xuICAgIGNvbnN0IHogPSBsaW5lYXJGaW5kTmVhcmVzdChcbiAgICAgIHRoaXMucmVzb2x1dGlvbnNfLFxuICAgICAgcmVzb2x1dGlvbixcbiAgICAgIG9wdF9kaXJlY3Rpb24gfHwgMFxuICAgICk7XG4gICAgcmV0dXJuIGNsYW1wKHosIHRoaXMubWluWm9vbSwgdGhpcy5tYXhab29tKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgdGlsZSB3aXRoIHRoZSBwcm92aWRlZCB0aWxlIGNvb3JkaW5hdGUgaW50ZXJzZWN0cyB0aGUgZ2l2ZW4gdmlld3BvcnQuXG4gICAqIEBwYXJhbSB7aW1wb3J0KCcuLi90aWxlY29vcmQuanMnKS5UaWxlQ29vcmR9IHRpbGVDb29yZCBUaWxlIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gdmlld3BvcnQgVmlld3BvcnQgYXMgcmV0dXJuZWQgZnJvbSB7QGxpbmsgbW9kdWxlOm9sL2V4dGVudC5nZXRSb3RhdGVkVmlld3BvcnR9LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgdGlsZSB3aXRoIHRoZSBwcm92aWRlZCB0aWxlIGNvb3JkaW5hdGUgaW50ZXJzZWN0cyB0aGUgZ2l2ZW4gdmlld3BvcnQuXG4gICAqL1xuICB0aWxlQ29vcmRJbnRlcnNlY3RzVmlld3BvcnQodGlsZUNvb3JkLCB2aWV3cG9ydCkge1xuICAgIHJldHVybiBpbnRlcnNlY3RzTGluZWFyUmluZyhcbiAgICAgIHZpZXdwb3J0LFxuICAgICAgMCxcbiAgICAgIHZpZXdwb3J0Lmxlbmd0aCxcbiAgICAgIDIsXG4gICAgICB0aGlzLmdldFRpbGVDb29yZEV4dGVudCh0aWxlQ29vcmQpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFpbXBvcnQoXCIuLi9leHRlbnQuanNcIikuRXh0ZW50fSBleHRlbnQgRXh0ZW50IGZvciB0aGlzIHRpbGUgZ3JpZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNhbGN1bGF0ZVRpbGVSYW5nZXNfKGV4dGVudCkge1xuICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMucmVzb2x1dGlvbnNfLmxlbmd0aDtcbiAgICBjb25zdCBmdWxsVGlsZVJhbmdlcyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgIGZvciAobGV0IHogPSB0aGlzLm1pblpvb207IHogPCBsZW5ndGg7ICsreikge1xuICAgICAgZnVsbFRpbGVSYW5nZXNbel0gPSB0aGlzLmdldFRpbGVSYW5nZUZvckV4dGVudEFuZFooZXh0ZW50LCB6KTtcbiAgICB9XG4gICAgdGhpcy5mdWxsVGlsZVJhbmdlc18gPSBmdWxsVGlsZVJhbmdlcztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlR3JpZDtcbiIsIi8qKlxuICogQG1vZHVsZSBvbC90aWxlZ3JpZC9jb21tb25cbiAqL1xuXG4vKipcbiAqIERlZmF1bHQgbWF4aW11bSB6b29tIGZvciBkZWZhdWx0IHRpbGUgZ3JpZHMuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9NQVhfWk9PTSA9IDQyO1xuXG4vKipcbiAqIERlZmF1bHQgdGlsZSBzaXplLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfVElMRV9TSVpFID0gMjU2O1xuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3RyYW5zZm9ybVxuICovXG5pbXBvcnQge1dPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTfSBmcm9tICcuL2hhcy5qcyc7XG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi9hc3NlcnRzLmpzJztcblxuLyoqXG4gKiBBbiBhcnJheSByZXByZXNlbnRpbmcgYW4gYWZmaW5lIDJkIHRyYW5zZm9ybWF0aW9uIGZvciB1c2Ugd2l0aFxuICoge0BsaW5rIG1vZHVsZTpvbC90cmFuc2Zvcm19IGZ1bmN0aW9ucy4gVGhlIGFycmF5IGhhcyA2IGVsZW1lbnRzLlxuICogQHR5cGVkZWYgeyFBcnJheTxudW1iZXI+fSBUcmFuc2Zvcm1cbiAqIEBhcGlcbiAqL1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgYWZmaW5lIDJkIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucy4gVGhlIGZ1bmN0aW9ucyB3b3JrIG9uIGFuXG4gKiBhcnJheSBvZiA2IGVsZW1lbnRzLiBUaGUgZWxlbWVudCBvcmRlciBpcyBjb21wYXRpYmxlIHdpdGggdGhlIFtTVkdNYXRyaXhcbiAqIGludGVyZmFjZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NWR01hdHJpeCkgYW5kIGlzXG4gKiBhIHN1YnNldCAoZWxlbWVudHMgYSB0byBmKSBvZiBhIDPDlzMgbWF0cml4OlxuICogYGBgXG4gKiBbIGEgYyBlIF1cbiAqIFsgYiBkIGYgXVxuICogWyAwIDAgMSBdXG4gKiBgYGBcbiAqL1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7VHJhbnNmb3JtfVxuICovXG5jb25zdCB0bXBfID0gbmV3IEFycmF5KDYpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpZGVudGl0eSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBJZGVudGl0eSB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHJldHVybiBbMSwgMCwgMCwgMSwgMCwgMF07XG59XG5cbi8qKlxuICogUmVzZXRzIHRoZSBnaXZlbiB0cmFuc2Zvcm0gdG8gYW4gaWRlbnRpdHkgdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXQodHJhbnNmb3JtKSB7XG4gIHJldHVybiBzZXQodHJhbnNmb3JtLCAxLCAwLCAwLCAxLCAwLCAwKTtcbn1cblxuLyoqXG4gKiBNdWx0aXBseSB0aGUgdW5kZXJseWluZyBtYXRyaWNlcyBvZiB0d28gdHJhbnNmb3JtcyBhbmQgcmV0dXJuIHRoZSByZXN1bHQgaW5cbiAqIHRoZSBmaXJzdCB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybTEgVHJhbnNmb3JtIHBhcmFtZXRlcnMgb2YgbWF0cml4IDEuXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybTIgVHJhbnNmb3JtIHBhcmFtZXRlcnMgb2YgbWF0cml4IDIuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0xIG11bHRpcGxpZWQgd2l0aCB0cmFuc2Zvcm0yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkodHJhbnNmb3JtMSwgdHJhbnNmb3JtMikge1xuICBjb25zdCBhMSA9IHRyYW5zZm9ybTFbMF07XG4gIGNvbnN0IGIxID0gdHJhbnNmb3JtMVsxXTtcbiAgY29uc3QgYzEgPSB0cmFuc2Zvcm0xWzJdO1xuICBjb25zdCBkMSA9IHRyYW5zZm9ybTFbM107XG4gIGNvbnN0IGUxID0gdHJhbnNmb3JtMVs0XTtcbiAgY29uc3QgZjEgPSB0cmFuc2Zvcm0xWzVdO1xuICBjb25zdCBhMiA9IHRyYW5zZm9ybTJbMF07XG4gIGNvbnN0IGIyID0gdHJhbnNmb3JtMlsxXTtcbiAgY29uc3QgYzIgPSB0cmFuc2Zvcm0yWzJdO1xuICBjb25zdCBkMiA9IHRyYW5zZm9ybTJbM107XG4gIGNvbnN0IGUyID0gdHJhbnNmb3JtMls0XTtcbiAgY29uc3QgZjIgPSB0cmFuc2Zvcm0yWzVdO1xuXG4gIHRyYW5zZm9ybTFbMF0gPSBhMSAqIGEyICsgYzEgKiBiMjtcbiAgdHJhbnNmb3JtMVsxXSA9IGIxICogYTIgKyBkMSAqIGIyO1xuICB0cmFuc2Zvcm0xWzJdID0gYTEgKiBjMiArIGMxICogZDI7XG4gIHRyYW5zZm9ybTFbM10gPSBiMSAqIGMyICsgZDEgKiBkMjtcbiAgdHJhbnNmb3JtMVs0XSA9IGExICogZTIgKyBjMSAqIGYyICsgZTE7XG4gIHRyYW5zZm9ybTFbNV0gPSBiMSAqIGUyICsgZDEgKiBmMiArIGYxO1xuXG4gIHJldHVybiB0cmFuc2Zvcm0xO1xufVxuXG4vKipcbiAqIFNldCB0aGUgdHJhbnNmb3JtIGNvbXBvbmVudHMgYS1mIG9uIGEgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGEgVGhlIGEgY29tcG9uZW50IG9mIHRoZSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gYiBUaGUgYiBjb21wb25lbnQgb2YgdGhlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjIFRoZSBjIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGQgVGhlIGQgY29tcG9uZW50IG9mIHRoZSB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge251bWJlcn0gZSBUaGUgZSBjb21wb25lbnQgb2YgdGhlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmIFRoZSBmIGNvbXBvbmVudCBvZiB0aGUgdHJhbnNmb3JtLlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gTWF0cml4IHdpdGggdHJhbnNmb3JtIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQodHJhbnNmb3JtLCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIHRyYW5zZm9ybVswXSA9IGE7XG4gIHRyYW5zZm9ybVsxXSA9IGI7XG4gIHRyYW5zZm9ybVsyXSA9IGM7XG4gIHRyYW5zZm9ybVszXSA9IGQ7XG4gIHRyYW5zZm9ybVs0XSA9IGU7XG4gIHRyYW5zZm9ybVs1XSA9IGY7XG4gIHJldHVybiB0cmFuc2Zvcm07XG59XG5cbi8qKlxuICogU2V0IHRyYW5zZm9ybSBvbiBvbmUgbWF0cml4IGZyb20gYW5vdGhlciBtYXRyaXguXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybTEgTWF0cml4IHRvIHNldCB0cmFuc2Zvcm0gdG8uXG4gKiBAcGFyYW0geyFUcmFuc2Zvcm19IHRyYW5zZm9ybTIgTWF0cml4IHRvIHNldCB0cmFuc2Zvcm0gZnJvbS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IHRyYW5zZm9ybTEgd2l0aCB0cmFuc2Zvcm0gZnJvbSB0cmFuc2Zvcm0yIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRGcm9tQXJyYXkodHJhbnNmb3JtMSwgdHJhbnNmb3JtMikge1xuICB0cmFuc2Zvcm0xWzBdID0gdHJhbnNmb3JtMlswXTtcbiAgdHJhbnNmb3JtMVsxXSA9IHRyYW5zZm9ybTJbMV07XG4gIHRyYW5zZm9ybTFbMl0gPSB0cmFuc2Zvcm0yWzJdO1xuICB0cmFuc2Zvcm0xWzNdID0gdHJhbnNmb3JtMlszXTtcbiAgdHJhbnNmb3JtMVs0XSA9IHRyYW5zZm9ybTJbNF07XG4gIHRyYW5zZm9ybTFbNV0gPSB0cmFuc2Zvcm0yWzVdO1xuICByZXR1cm4gdHJhbnNmb3JtMTtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSBnaXZlbiBjb29yZGluYXRlIHdpdGggdGhlIGdpdmVuIHRyYW5zZm9ybSByZXR1cm5pbmcgdGhlXG4gKiByZXN1bHRpbmcsIHRyYW5zZm9ybWVkIGNvb3JkaW5hdGUuIFRoZSBjb29yZGluYXRlIHdpbGwgYmUgbW9kaWZpZWQgaW4tcGxhY2UuXG4gKlxuICogQHBhcmFtIHtUcmFuc2Zvcm19IHRyYW5zZm9ybSBUaGUgdHJhbnNmb3JtYXRpb24uXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4vY29vcmRpbmF0ZS5qc1wiKS5Db29yZGluYXRlfGltcG9ydChcIi4vcGl4ZWwuanNcIikuUGl4ZWx9IGNvb3JkaW5hdGUgVGhlIGNvb3JkaW5hdGUgdG8gdHJhbnNmb3JtLlxuICogQHJldHVybiB7aW1wb3J0KFwiLi9jb29yZGluYXRlLmpzXCIpLkNvb3JkaW5hdGV8aW1wb3J0KFwiLi9waXhlbC5qc1wiKS5QaXhlbH0gcmV0dXJuIGNvb3JkaW5hdGUgc28gdGhhdCBvcGVyYXRpb25zIGNhbiBiZVxuICogICAgIGNoYWluZWQgdG9nZXRoZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseSh0cmFuc2Zvcm0sIGNvb3JkaW5hdGUpIHtcbiAgY29uc3QgeCA9IGNvb3JkaW5hdGVbMF07XG4gIGNvbnN0IHkgPSBjb29yZGluYXRlWzFdO1xuICBjb29yZGluYXRlWzBdID0gdHJhbnNmb3JtWzBdICogeCArIHRyYW5zZm9ybVsyXSAqIHkgKyB0cmFuc2Zvcm1bNF07XG4gIGNvb3JkaW5hdGVbMV0gPSB0cmFuc2Zvcm1bMV0gKiB4ICsgdHJhbnNmb3JtWzNdICogeSArIHRyYW5zZm9ybVs1XTtcbiAgcmV0dXJuIGNvb3JkaW5hdGU7XG59XG5cbi8qKlxuICogQXBwbGllcyByb3RhdGlvbiB0byB0aGUgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIEFuZ2xlIGluIHJhZGlhbnMuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgcm90YXRlZCB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUodHJhbnNmb3JtLCBhbmdsZSkge1xuICBjb25zdCBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gIGNvbnN0IHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgcmV0dXJuIG11bHRpcGx5KHRyYW5zZm9ybSwgc2V0KHRtcF8sIGNvcywgc2luLCAtc2luLCBjb3MsIDAsIDApKTtcbn1cblxuLyoqXG4gKiBBcHBsaWVzIHNjYWxlIHRvIGEgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVHJhbnNmb3JtLlxuICogQHBhcmFtIHtudW1iZXJ9IHggU2NhbGUgZmFjdG9yIHguXG4gKiBAcGFyYW0ge251bWJlcn0geSBTY2FsZSBmYWN0b3IgeS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSBzY2FsZWQgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUodHJhbnNmb3JtLCB4LCB5KSB7XG4gIHJldHVybiBtdWx0aXBseSh0cmFuc2Zvcm0sIHNldCh0bXBfLCB4LCAwLCAwLCB5LCAwLCAwKSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHNjYWxlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdGFyZ2V0IFRyYW5zZm9ybSB0byBvdmVyd3JpdGUuXG4gKiBAcGFyYW0ge251bWJlcn0geCBTY2FsZSBmYWN0b3IgeC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFNjYWxlIGZhY3RvciB5LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIHNjYWxlIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VTY2FsZSh0YXJnZXQsIHgsIHkpIHtcbiAgcmV0dXJuIHNldCh0YXJnZXQsIHgsIDAsIDAsIHksIDAsIDApO1xufVxuXG4vKipcbiAqIEFwcGxpZXMgdHJhbnNsYXRpb24gdG8gdGhlIGdpdmVuIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdHJhbnNmb3JtIFRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeCBUcmFuc2xhdGlvbiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IGR5IFRyYW5zbGF0aW9uIHkuXG4gKiBAcmV0dXJuIHshVHJhbnNmb3JtfSBUaGUgdHJhbnNsYXRlZCB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUodHJhbnNmb3JtLCBkeCwgZHkpIHtcbiAgcmV0dXJuIG11bHRpcGx5KHRyYW5zZm9ybSwgc2V0KHRtcF8sIDEsIDAsIDAsIDEsIGR4LCBkeSkpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjb21wb3NpdGUgdHJhbnNmb3JtIGdpdmVuIGFuIGluaXRpYWwgdHJhbnNsYXRpb24sIHNjYWxlLCByb3RhdGlvbiwgYW5kXG4gKiBmaW5hbCB0cmFuc2xhdGlvbiAoaW4gdGhhdCBvcmRlciBvbmx5LCBub3QgY29tbXV0YXRpdmUpLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSB0cmFuc2Zvcm0gVGhlIHRyYW5zZm9ybSAod2lsbCBiZSBtb2RpZmllZCBpbiBwbGFjZSkuXG4gKiBAcGFyYW0ge251bWJlcn0gZHgxIEluaXRpYWwgdHJhbnNsYXRpb24geC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeTEgSW5pdGlhbCB0cmFuc2xhdGlvbiB5LlxuICogQHBhcmFtIHtudW1iZXJ9IHN4IFNjYWxlIGZhY3RvciB4LlxuICogQHBhcmFtIHtudW1iZXJ9IHN5IFNjYWxlIGZhY3RvciB5LlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIFJvdGF0aW9uIChpbiBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeDIgRmluYWwgdHJhbnNsYXRpb24geC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeTIgRmluYWwgdHJhbnNsYXRpb24geS5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSBjb21wb3NpdGUgdHJhbnNmb3JtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9zZSh0cmFuc2Zvcm0sIGR4MSwgZHkxLCBzeCwgc3ksIGFuZ2xlLCBkeDIsIGR5Mikge1xuICBjb25zdCBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gIGNvbnN0IGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgdHJhbnNmb3JtWzBdID0gc3ggKiBjb3M7XG4gIHRyYW5zZm9ybVsxXSA9IHN5ICogc2luO1xuICB0cmFuc2Zvcm1bMl0gPSAtc3ggKiBzaW47XG4gIHRyYW5zZm9ybVszXSA9IHN5ICogY29zO1xuICB0cmFuc2Zvcm1bNF0gPSBkeDIgKiBzeCAqIGNvcyAtIGR5MiAqIHN4ICogc2luICsgZHgxO1xuICB0cmFuc2Zvcm1bNV0gPSBkeDIgKiBzeSAqIHNpbiArIGR5MiAqIHN5ICogY29zICsgZHkxO1xuICByZXR1cm4gdHJhbnNmb3JtO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjb21wb3NpdGUgdHJhbnNmb3JtIGdpdmVuIGFuIGluaXRpYWwgdHJhbnNsYXRpb24sIHNjYWxlLCByb3RhdGlvbiwgYW5kXG4gKiBmaW5hbCB0cmFuc2xhdGlvbiAoaW4gdGhhdCBvcmRlciBvbmx5LCBub3QgY29tbXV0YXRpdmUpLiBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybVxuICogc3RyaW5nIGNhbiBiZSBhcHBsaWVkIGFzIGB0cmFuc2Zvcm1gIHByb3BlcnR5IG9mIGFuIEhUTUxFbGVtZW50J3Mgc3R5bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gZHgxIEluaXRpYWwgdHJhbnNsYXRpb24geC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeTEgSW5pdGlhbCB0cmFuc2xhdGlvbiB5LlxuICogQHBhcmFtIHtudW1iZXJ9IHN4IFNjYWxlIGZhY3RvciB4LlxuICogQHBhcmFtIHtudW1iZXJ9IHN5IFNjYWxlIGZhY3RvciB5LlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIFJvdGF0aW9uIChpbiBjb3VudGVyLWNsb2Nrd2lzZSByYWRpYW5zKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeDIgRmluYWwgdHJhbnNsYXRpb24geC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkeTIgRmluYWwgdHJhbnNsYXRpb24geS5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbXBvc2l0ZSBjc3MgdHJhbnNmb3JtLlxuICogQGFwaVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9zZUNzc1RyYW5zZm9ybShkeDEsIGR5MSwgc3gsIHN5LCBhbmdsZSwgZHgyLCBkeTIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nKGNvbXBvc2UoY3JlYXRlKCksIGR4MSwgZHkxLCBzeCwgc3ksIGFuZ2xlLCBkeDIsIGR5MikpO1xufVxuXG4vKipcbiAqIEludmVydCB0aGUgZ2l2ZW4gdHJhbnNmb3JtLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSBzb3VyY2UgVGhlIHNvdXJjZSB0cmFuc2Zvcm0gdG8gaW52ZXJ0LlxuICogQHJldHVybiB7IVRyYW5zZm9ybX0gVGhlIGludmVydGVkIChzb3VyY2UpIHRyYW5zZm9ybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmVydChzb3VyY2UpIHtcbiAgcmV0dXJuIG1ha2VJbnZlcnNlKHNvdXJjZSwgc291cmNlKTtcbn1cblxuLyoqXG4gKiBJbnZlcnQgdGhlIGdpdmVuIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gdGFyZ2V0IFRyYW5zZm9ybSB0byBiZSBzZXQgYXMgdGhlIGludmVyc2Ugb2ZcbiAqICAgICB0aGUgc291cmNlIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gc291cmNlIFRoZSBzb3VyY2UgdHJhbnNmb3JtIHRvIGludmVydC5cbiAqIEByZXR1cm4geyFUcmFuc2Zvcm19IFRoZSBpbnZlcnRlZCAodGFyZ2V0KSB0cmFuc2Zvcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlSW52ZXJzZSh0YXJnZXQsIHNvdXJjZSkge1xuICBjb25zdCBkZXQgPSBkZXRlcm1pbmFudChzb3VyY2UpO1xuICBhc3NlcnQoZGV0ICE9PSAwLCAzMik7IC8vIFRyYW5zZm9ybWF0aW9uIG1hdHJpeCBjYW5ub3QgYmUgaW52ZXJ0ZWRcblxuICBjb25zdCBhID0gc291cmNlWzBdO1xuICBjb25zdCBiID0gc291cmNlWzFdO1xuICBjb25zdCBjID0gc291cmNlWzJdO1xuICBjb25zdCBkID0gc291cmNlWzNdO1xuICBjb25zdCBlID0gc291cmNlWzRdO1xuICBjb25zdCBmID0gc291cmNlWzVdO1xuXG4gIHRhcmdldFswXSA9IGQgLyBkZXQ7XG4gIHRhcmdldFsxXSA9IC1iIC8gZGV0O1xuICB0YXJnZXRbMl0gPSAtYyAvIGRldDtcbiAgdGFyZ2V0WzNdID0gYSAvIGRldDtcbiAgdGFyZ2V0WzRdID0gKGMgKiBmIC0gZCAqIGUpIC8gZGV0O1xuICB0YXJnZXRbNV0gPSAtKGEgKiBmIC0gYiAqIGUpIC8gZGV0O1xuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGV0ZXJtaW5hbnQgb2YgdGhlIGdpdmVuIG1hdHJpeC5cbiAqIEBwYXJhbSB7IVRyYW5zZm9ybX0gbWF0IE1hdHJpeC5cbiAqIEByZXR1cm4ge251bWJlcn0gRGV0ZXJtaW5hbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChtYXQpIHtcbiAgcmV0dXJuIG1hdFswXSAqIG1hdFszXSAtIG1hdFsxXSAqIG1hdFsyXTtcbn1cblxuLyoqXG4gKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5sZXQgdHJhbnNmb3JtU3RyaW5nRGl2O1xuXG4vKipcbiAqIEEgcm91bmRlZCBzdHJpbmcgdmVyc2lvbiBvZiB0aGUgdHJhbnNmb3JtLiAgVGhpcyBjYW4gYmUgdXNlZFxuICogZm9yIENTUyB0cmFuc2Zvcm1zLlxuICogQHBhcmFtIHshVHJhbnNmb3JtfSBtYXQgTWF0cml4LlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdHJhbnNmb3JtIGFzIGEgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmcobWF0KSB7XG4gIGNvbnN0IHRyYW5zZm9ybVN0cmluZyA9ICdtYXRyaXgoJyArIG1hdC5qb2luKCcsICcpICsgJyknO1xuICBpZiAoV09SS0VSX09GRlNDUkVFTl9DQU5WQVMpIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtU3RyaW5nO1xuICB9XG4gIGNvbnN0IG5vZGUgPVxuICAgIHRyYW5zZm9ybVN0cmluZ0RpdiB8fCAodHJhbnNmb3JtU3RyaW5nRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xuICBub2RlLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVN0cmluZztcbiAgcmV0dXJuIG5vZGUuc3R5bGUudHJhbnNmb3JtO1xufVxuIiwiLyoqXG4gKiBAbW9kdWxlIG9sL3V0aWxcbiAqL1xuXG4vKipcbiAqIEByZXR1cm4ge25ldmVyfSBBbnkgcmV0dXJuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWJzdHJhY3QoKSB7XG4gIHRocm93IG5ldyBFcnJvcignVW5pbXBsZW1lbnRlZCBhYnN0cmFjdCBtZXRob2QuJyk7XG59XG5cbi8qKlxuICogQ291bnRlciBmb3IgZ2V0VWlkLlxuICogQHR5cGUge251bWJlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmxldCB1aWRDb3VudGVyXyA9IDA7XG5cbi8qKlxuICogR2V0cyBhIHVuaXF1ZSBJRCBmb3IgYW4gb2JqZWN0LiBUaGlzIG11dGF0ZXMgdGhlIG9iamVjdCBzbyB0aGF0IGZ1cnRoZXIgY2FsbHNcbiAqIHdpdGggdGhlIHNhbWUgb2JqZWN0IGFzIGEgcGFyYW1ldGVyIHJldHVybnMgdGhlIHNhbWUgdmFsdWUuIFVuaXF1ZSBJRHMgYXJlIGdlbmVyYXRlZFxuICogYXMgYSBzdHJpY3RseSBpbmNyZWFzaW5nIHNlcXVlbmNlLiBBZGFwdGVkIGZyb20gZ29vZy5nZXRVaWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIGdldCB0aGUgdW5pcXVlIElEIGZvci5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHVuaXF1ZSBJRCBmb3IgdGhlIG9iamVjdC5cbiAqIEBhcGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVpZChvYmopIHtcbiAgcmV0dXJuIG9iai5vbF91aWQgfHwgKG9iai5vbF91aWQgPSBTdHJpbmcoKyt1aWRDb3VudGVyXykpO1xufVxuXG4vKipcbiAqIE9wZW5MYXllcnMgdmVyc2lvbi5cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzcuMi4yJztcbiIsIlxuLyohIHBha28gMi4xLjAgaHR0cHM6Ly9naXRodWIuY29tL25vZGVjYS9wYWtvIEBsaWNlbnNlIChNSVQgQU5EIFpsaWIpICovXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbi8qIGVzbGludC1kaXNhYmxlIHNwYWNlLXVuYXJ5LW9wcyAqL1xuXG4vKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG4vL2NvbnN0IFpfRklMVEVSRUQgICAgICAgICAgPSAxO1xuLy9jb25zdCBaX0hVRkZNQU5fT05MWSAgICAgID0gMjtcbi8vY29uc3QgWl9STEUgICAgICAgICAgICAgICA9IDM7XG5jb25zdCBaX0ZJWEVEJDEgICAgICAgICAgICAgICA9IDQ7XG4vL2NvbnN0IFpfREVGQVVMVF9TVFJBVEVHWSAgPSAwO1xuXG4vKiBQb3NzaWJsZSB2YWx1ZXMgb2YgdGhlIGRhdGFfdHlwZSBmaWVsZCAodGhvdWdoIHNlZSBpbmZsYXRlKCkpICovXG5jb25zdCBaX0JJTkFSWSAgICAgICAgICAgICAgPSAwO1xuY29uc3QgWl9URVhUICAgICAgICAgICAgICAgID0gMTtcbi8vY29uc3QgWl9BU0NJSSAgICAgICAgICAgICA9IDE7IC8vID0gWl9URVhUXG5jb25zdCBaX1VOS05PV04kMSAgICAgICAgICAgICA9IDI7XG5cbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cblxuZnVuY3Rpb24gemVybyQxKGJ1ZikgeyBsZXQgbGVuID0gYnVmLmxlbmd0aDsgd2hpbGUgKC0tbGVuID49IDApIHsgYnVmW2xlbl0gPSAwOyB9IH1cblxuLy8gRnJvbSB6dXRpbC5oXG5cbmNvbnN0IFNUT1JFRF9CTE9DSyA9IDA7XG5jb25zdCBTVEFUSUNfVFJFRVMgPSAxO1xuY29uc3QgRFlOX1RSRUVTICAgID0gMjtcbi8qIFRoZSB0aHJlZSBraW5kcyBvZiBibG9jayB0eXBlICovXG5cbmNvbnN0IE1JTl9NQVRDSCQxICAgID0gMztcbmNvbnN0IE1BWF9NQVRDSCQxICAgID0gMjU4O1xuLyogVGhlIG1pbmltdW0gYW5kIG1heGltdW0gbWF0Y2ggbGVuZ3RocyAqL1xuXG4vLyBGcm9tIGRlZmxhdGUuaFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbnRlcm5hbCBjb21wcmVzc2lvbiBzdGF0ZS5cbiAqL1xuXG5jb25zdCBMRU5HVEhfQ09ERVMkMSAgPSAyOTtcbi8qIG51bWJlciBvZiBsZW5ndGggY29kZXMsIG5vdCBjb3VudGluZyB0aGUgc3BlY2lhbCBFTkRfQkxPQ0sgY29kZSAqL1xuXG5jb25zdCBMSVRFUkFMUyQxICAgICAgPSAyNTY7XG4vKiBudW1iZXIgb2YgbGl0ZXJhbCBieXRlcyAwLi4yNTUgKi9cblxuY29uc3QgTF9DT0RFUyQxICAgICAgID0gTElURVJBTFMkMSArIDEgKyBMRU5HVEhfQ09ERVMkMTtcbi8qIG51bWJlciBvZiBMaXRlcmFsIG9yIExlbmd0aCBjb2RlcywgaW5jbHVkaW5nIHRoZSBFTkRfQkxPQ0sgY29kZSAqL1xuXG5jb25zdCBEX0NPREVTJDEgICAgICAgPSAzMDtcbi8qIG51bWJlciBvZiBkaXN0YW5jZSBjb2RlcyAqL1xuXG5jb25zdCBCTF9DT0RFUyQxICAgICAgPSAxOTtcbi8qIG51bWJlciBvZiBjb2RlcyB1c2VkIHRvIHRyYW5zZmVyIHRoZSBiaXQgbGVuZ3RocyAqL1xuXG5jb25zdCBIRUFQX1NJWkUkMSAgICAgPSAyICogTF9DT0RFUyQxICsgMTtcbi8qIG1heGltdW0gaGVhcCBzaXplICovXG5cbmNvbnN0IE1BWF9CSVRTJDEgICAgICA9IDE1O1xuLyogQWxsIGNvZGVzIG11c3Qgbm90IGV4Y2VlZCBNQVhfQklUUyBiaXRzICovXG5cbmNvbnN0IEJ1Zl9zaXplICAgICAgPSAxNjtcbi8qIHNpemUgb2YgYml0IGJ1ZmZlciBpbiBiaV9idWYgKi9cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IE1BWF9CTF9CSVRTID0gNztcbi8qIEJpdCBsZW5ndGggY29kZXMgbXVzdCBub3QgZXhjZWVkIE1BWF9CTF9CSVRTIGJpdHMgKi9cblxuY29uc3QgRU5EX0JMT0NLICAgPSAyNTY7XG4vKiBlbmQgb2YgYmxvY2sgbGl0ZXJhbCBjb2RlICovXG5cbmNvbnN0IFJFUF8zXzYgICAgID0gMTY7XG4vKiByZXBlYXQgcHJldmlvdXMgYml0IGxlbmd0aCAzLTYgdGltZXMgKDIgYml0cyBvZiByZXBlYXQgY291bnQpICovXG5cbmNvbnN0IFJFUFpfM18xMCAgID0gMTc7XG4vKiByZXBlYXQgYSB6ZXJvIGxlbmd0aCAzLTEwIHRpbWVzICAoMyBiaXRzIG9mIHJlcGVhdCBjb3VudCkgKi9cblxuY29uc3QgUkVQWl8xMV8xMzggPSAxODtcbi8qIHJlcGVhdCBhIHplcm8gbGVuZ3RoIDExLTEzOCB0aW1lcyAgKDcgYml0cyBvZiByZXBlYXQgY291bnQpICovXG5cbi8qIGVzbGludC1kaXNhYmxlIGNvbW1hLXNwYWNpbmcsYXJyYXktYnJhY2tldC1zcGFjaW5nICovXG5jb25zdCBleHRyYV9sYml0cyA9ICAgLyogZXh0cmEgYml0cyBmb3IgZWFjaCBsZW5ndGggY29kZSAqL1xuICBuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwXSk7XG5cbmNvbnN0IGV4dHJhX2RiaXRzID0gICAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGRpc3RhbmNlIGNvZGUgKi9cbiAgbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMSwxLDIsMiwzLDMsNCw0LDUsNSw2LDYsNyw3LDgsOCw5LDksMTAsMTAsMTEsMTEsMTIsMTIsMTMsMTNdKTtcblxuY29uc3QgZXh0cmFfYmxiaXRzID0gIC8qIGV4dHJhIGJpdHMgZm9yIGVhY2ggYml0IGxlbmd0aCBjb2RlICovXG4gIG5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDIsMyw3XSk7XG5cbmNvbnN0IGJsX29yZGVyID1cbiAgbmV3IFVpbnQ4QXJyYXkoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKTtcbi8qIGVzbGludC1lbmFibGUgY29tbWEtc3BhY2luZyxhcnJheS1icmFja2V0LXNwYWNpbmcgKi9cblxuLyogVGhlIGxlbmd0aHMgb2YgdGhlIGJpdCBsZW5ndGggY29kZXMgYXJlIHNlbnQgaW4gb3JkZXIgb2YgZGVjcmVhc2luZ1xuICogcHJvYmFiaWxpdHksIHRvIGF2b2lkIHRyYW5zbWl0dGluZyB0aGUgbGVuZ3RocyBmb3IgdW51c2VkIGJpdCBsZW5ndGggY29kZXMuXG4gKi9cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBMb2NhbCBkYXRhLiBUaGVzZSBhcmUgaW5pdGlhbGl6ZWQgb25seSBvbmNlLlxuICovXG5cbi8vIFdlIHByZS1maWxsIGFycmF5cyB3aXRoIDAgdG8gYXZvaWQgdW5pbml0aWFsaXplZCBnYXBzXG5cbmNvbnN0IERJU1RfQ09ERV9MRU4gPSA1MTI7IC8qIHNlZSBkZWZpbml0aW9uIG9mIGFycmF5IGRpc3RfY29kZSBiZWxvdyAqL1xuXG4vLyAhISEhIFVzZSBmbGF0IGFycmF5IGluc3RlYWQgb2Ygc3RydWN0dXJlLCBGcmVxID0gaSoyLCBMZW4gPSBpKjIrMVxuY29uc3Qgc3RhdGljX2x0cmVlICA9IG5ldyBBcnJheSgoTF9DT0RFUyQxICsgMikgKiAyKTtcbnplcm8kMShzdGF0aWNfbHRyZWUpO1xuLyogVGhlIHN0YXRpYyBsaXRlcmFsIHRyZWUuIFNpbmNlIHRoZSBiaXQgbGVuZ3RocyBhcmUgaW1wb3NlZCwgdGhlcmUgaXMgbm9cbiAqIG5lZWQgZm9yIHRoZSBMX0NPREVTIGV4dHJhIGNvZGVzIHVzZWQgZHVyaW5nIGhlYXAgY29uc3RydWN0aW9uLiBIb3dldmVyXG4gKiBUaGUgY29kZXMgMjg2IGFuZCAyODcgYXJlIG5lZWRlZCB0byBidWlsZCBhIGNhbm9uaWNhbCB0cmVlIChzZWUgX3RyX2luaXRcbiAqIGJlbG93KS5cbiAqL1xuXG5jb25zdCBzdGF0aWNfZHRyZWUgID0gbmV3IEFycmF5KERfQ09ERVMkMSAqIDIpO1xuemVybyQxKHN0YXRpY19kdHJlZSk7XG4vKiBUaGUgc3RhdGljIGRpc3RhbmNlIHRyZWUuIChBY3R1YWxseSBhIHRyaXZpYWwgdHJlZSBzaW5jZSBhbGwgY29kZXMgdXNlXG4gKiA1IGJpdHMuKVxuICovXG5cbmNvbnN0IF9kaXN0X2NvZGUgICAgPSBuZXcgQXJyYXkoRElTVF9DT0RFX0xFTik7XG56ZXJvJDEoX2Rpc3RfY29kZSk7XG4vKiBEaXN0YW5jZSBjb2Rlcy4gVGhlIGZpcnN0IDI1NiB2YWx1ZXMgY29ycmVzcG9uZCB0byB0aGUgZGlzdGFuY2VzXG4gKiAzIC4uIDI1OCwgdGhlIGxhc3QgMjU2IHZhbHVlcyBjb3JyZXNwb25kIHRvIHRoZSB0b3AgOCBiaXRzIG9mXG4gKiB0aGUgMTUgYml0IGRpc3RhbmNlcy5cbiAqL1xuXG5jb25zdCBfbGVuZ3RoX2NvZGUgID0gbmV3IEFycmF5KE1BWF9NQVRDSCQxIC0gTUlOX01BVENIJDEgKyAxKTtcbnplcm8kMShfbGVuZ3RoX2NvZGUpO1xuLyogbGVuZ3RoIGNvZGUgZm9yIGVhY2ggbm9ybWFsaXplZCBtYXRjaCBsZW5ndGggKDAgPT0gTUlOX01BVENIKSAqL1xuXG5jb25zdCBiYXNlX2xlbmd0aCAgID0gbmV3IEFycmF5KExFTkdUSF9DT0RFUyQxKTtcbnplcm8kMShiYXNlX2xlbmd0aCk7XG4vKiBGaXJzdCBub3JtYWxpemVkIGxlbmd0aCBmb3IgZWFjaCBjb2RlICgwID0gTUlOX01BVENIKSAqL1xuXG5jb25zdCBiYXNlX2Rpc3QgICAgID0gbmV3IEFycmF5KERfQ09ERVMkMSk7XG56ZXJvJDEoYmFzZV9kaXN0KTtcbi8qIEZpcnN0IG5vcm1hbGl6ZWQgZGlzdGFuY2UgZm9yIGVhY2ggY29kZSAoMCA9IGRpc3RhbmNlIG9mIDEpICovXG5cblxuZnVuY3Rpb24gU3RhdGljVHJlZURlc2Moc3RhdGljX3RyZWUsIGV4dHJhX2JpdHMsIGV4dHJhX2Jhc2UsIGVsZW1zLCBtYXhfbGVuZ3RoKSB7XG5cbiAgdGhpcy5zdGF0aWNfdHJlZSAgPSBzdGF0aWNfdHJlZTsgIC8qIHN0YXRpYyB0cmVlIG9yIE5VTEwgKi9cbiAgdGhpcy5leHRyYV9iaXRzICAgPSBleHRyYV9iaXRzOyAgIC8qIGV4dHJhIGJpdHMgZm9yIGVhY2ggY29kZSBvciBOVUxMICovXG4gIHRoaXMuZXh0cmFfYmFzZSAgID0gZXh0cmFfYmFzZTsgICAvKiBiYXNlIGluZGV4IGZvciBleHRyYV9iaXRzICovXG4gIHRoaXMuZWxlbXMgICAgICAgID0gZWxlbXM7ICAgICAgICAvKiBtYXggbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSB0cmVlICovXG4gIHRoaXMubWF4X2xlbmd0aCAgID0gbWF4X2xlbmd0aDsgICAvKiBtYXggYml0IGxlbmd0aCBmb3IgdGhlIGNvZGVzICovXG5cbiAgLy8gc2hvdyBpZiBgc3RhdGljX3RyZWVgIGhhcyBkYXRhIG9yIGR1bW15IC0gbmVlZGVkIGZvciBtb25vbW9ycGhpYyBvYmplY3RzXG4gIHRoaXMuaGFzX3N0cmVlICAgID0gc3RhdGljX3RyZWUgJiYgc3RhdGljX3RyZWUubGVuZ3RoO1xufVxuXG5cbmxldCBzdGF0aWNfbF9kZXNjO1xubGV0IHN0YXRpY19kX2Rlc2M7XG5sZXQgc3RhdGljX2JsX2Rlc2M7XG5cblxuZnVuY3Rpb24gVHJlZURlc2MoZHluX3RyZWUsIHN0YXRfZGVzYykge1xuICB0aGlzLmR5bl90cmVlID0gZHluX3RyZWU7ICAgICAvKiB0aGUgZHluYW1pYyB0cmVlICovXG4gIHRoaXMubWF4X2NvZGUgPSAwOyAgICAgICAgICAgIC8qIGxhcmdlc3QgY29kZSB3aXRoIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xuICB0aGlzLnN0YXRfZGVzYyA9IHN0YXRfZGVzYzsgICAvKiB0aGUgY29ycmVzcG9uZGluZyBzdGF0aWMgdHJlZSAqL1xufVxuXG5cblxuY29uc3QgZF9jb2RlID0gKGRpc3QpID0+IHtcblxuICByZXR1cm4gZGlzdCA8IDI1NiA/IF9kaXN0X2NvZGVbZGlzdF0gOiBfZGlzdF9jb2RlWzI1NiArIChkaXN0ID4+PiA3KV07XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogT3V0cHV0IGEgc2hvcnQgTFNCIGZpcnN0IG9uIHRoZSBzdHJlYW0uXG4gKiBJTiBhc3NlcnRpb246IHRoZXJlIGlzIGVub3VnaCByb29tIGluIHBlbmRpbmdCdWYuXG4gKi9cbmNvbnN0IHB1dF9zaG9ydCA9IChzLCB3KSA9PiB7XG4vLyAgICBwdXRfYnl0ZShzLCAodWNoKSgodykgJiAweGZmKSk7XG4vLyAgICBwdXRfYnl0ZShzLCAodWNoKSgodXNoKSh3KSA+PiA4KSk7XG4gIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gKHcpICYgMHhmZjtcbiAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSAodyA+Pj4gOCkgJiAweGZmO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNlbmQgYSB2YWx1ZSBvbiBhIGdpdmVuIG51bWJlciBvZiBiaXRzLlxuICogSU4gYXNzZXJ0aW9uOiBsZW5ndGggPD0gMTYgYW5kIHZhbHVlIGZpdHMgaW4gbGVuZ3RoIGJpdHMuXG4gKi9cbmNvbnN0IHNlbmRfYml0cyA9IChzLCB2YWx1ZSwgbGVuZ3RoKSA9PiB7XG5cbiAgaWYgKHMuYmlfdmFsaWQgPiAoQnVmX3NpemUgLSBsZW5ndGgpKSB7XG4gICAgcy5iaV9idWYgfD0gKHZhbHVlIDw8IHMuYmlfdmFsaWQpICYgMHhmZmZmO1xuICAgIHB1dF9zaG9ydChzLCBzLmJpX2J1Zik7XG4gICAgcy5iaV9idWYgPSB2YWx1ZSA+PiAoQnVmX3NpemUgLSBzLmJpX3ZhbGlkKTtcbiAgICBzLmJpX3ZhbGlkICs9IGxlbmd0aCAtIEJ1Zl9zaXplO1xuICB9IGVsc2Uge1xuICAgIHMuYmlfYnVmIHw9ICh2YWx1ZSA8PCBzLmJpX3ZhbGlkKSAmIDB4ZmZmZjtcbiAgICBzLmJpX3ZhbGlkICs9IGxlbmd0aDtcbiAgfVxufTtcblxuXG5jb25zdCBzZW5kX2NvZGUgPSAocywgYywgdHJlZSkgPT4ge1xuXG4gIHNlbmRfYml0cyhzLCB0cmVlW2MgKiAyXS8qLkNvZGUqLywgdHJlZVtjICogMiArIDFdLyouTGVuKi8pO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFJldmVyc2UgdGhlIGZpcnN0IGxlbiBiaXRzIG9mIGEgY29kZSwgdXNpbmcgc3RyYWlnaHRmb3J3YXJkIGNvZGUgKGEgZmFzdGVyXG4gKiBtZXRob2Qgd291bGQgdXNlIGEgdGFibGUpXG4gKiBJTiBhc3NlcnRpb246IDEgPD0gbGVuIDw9IDE1XG4gKi9cbmNvbnN0IGJpX3JldmVyc2UgPSAoY29kZSwgbGVuKSA9PiB7XG5cbiAgbGV0IHJlcyA9IDA7XG4gIGRvIHtcbiAgICByZXMgfD0gY29kZSAmIDE7XG4gICAgY29kZSA+Pj49IDE7XG4gICAgcmVzIDw8PSAxO1xuICB9IHdoaWxlICgtLWxlbiA+IDApO1xuICByZXR1cm4gcmVzID4+PiAxO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZsdXNoIHRoZSBiaXQgYnVmZmVyLCBrZWVwaW5nIGF0IG1vc3QgNyBiaXRzIGluIGl0LlxuICovXG5jb25zdCBiaV9mbHVzaCA9IChzKSA9PiB7XG5cbiAgaWYgKHMuYmlfdmFsaWQgPT09IDE2KSB7XG4gICAgcHV0X3Nob3J0KHMsIHMuYmlfYnVmKTtcbiAgICBzLmJpX2J1ZiA9IDA7XG4gICAgcy5iaV92YWxpZCA9IDA7XG5cbiAgfSBlbHNlIGlmIChzLmJpX3ZhbGlkID49IDgpIHtcbiAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IHMuYmlfYnVmICYgMHhmZjtcbiAgICBzLmJpX2J1ZiA+Pj0gODtcbiAgICBzLmJpX3ZhbGlkIC09IDg7XG4gIH1cbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb21wdXRlIHRoZSBvcHRpbWFsIGJpdCBsZW5ndGhzIGZvciBhIHRyZWUgYW5kIHVwZGF0ZSB0aGUgdG90YWwgYml0IGxlbmd0aFxuICogZm9yIHRoZSBjdXJyZW50IGJsb2NrLlxuICogSU4gYXNzZXJ0aW9uOiB0aGUgZmllbGRzIGZyZXEgYW5kIGRhZCBhcmUgc2V0LCBoZWFwW2hlYXBfbWF4XSBhbmRcbiAqICAgIGFib3ZlIGFyZSB0aGUgdHJlZSBub2RlcyBzb3J0ZWQgYnkgaW5jcmVhc2luZyBmcmVxdWVuY3kuXG4gKiBPVVQgYXNzZXJ0aW9uczogdGhlIGZpZWxkIGxlbiBpcyBzZXQgdG8gdGhlIG9wdGltYWwgYml0IGxlbmd0aCwgdGhlXG4gKiAgICAgYXJyYXkgYmxfY291bnQgY29udGFpbnMgdGhlIGZyZXF1ZW5jaWVzIGZvciBlYWNoIGJpdCBsZW5ndGguXG4gKiAgICAgVGhlIGxlbmd0aCBvcHRfbGVuIGlzIHVwZGF0ZWQ7IHN0YXRpY19sZW4gaXMgYWxzbyB1cGRhdGVkIGlmIHN0cmVlIGlzXG4gKiAgICAgbm90IG51bGwuXG4gKi9cbmNvbnN0IGdlbl9iaXRsZW4gPSAocywgZGVzYykgPT4ge1xuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIHRyZWVfZGVzYyAqZGVzYzsgICAgLyogdGhlIHRyZWUgZGVzY3JpcHRvciAqL1xuXG4gIGNvbnN0IHRyZWUgICAgICAgICAgICA9IGRlc2MuZHluX3RyZWU7XG4gIGNvbnN0IG1heF9jb2RlICAgICAgICA9IGRlc2MubWF4X2NvZGU7XG4gIGNvbnN0IHN0cmVlICAgICAgICAgICA9IGRlc2Muc3RhdF9kZXNjLnN0YXRpY190cmVlO1xuICBjb25zdCBoYXNfc3RyZWUgICAgICAgPSBkZXNjLnN0YXRfZGVzYy5oYXNfc3RyZWU7XG4gIGNvbnN0IGV4dHJhICAgICAgICAgICA9IGRlc2Muc3RhdF9kZXNjLmV4dHJhX2JpdHM7XG4gIGNvbnN0IGJhc2UgICAgICAgICAgICA9IGRlc2Muc3RhdF9kZXNjLmV4dHJhX2Jhc2U7XG4gIGNvbnN0IG1heF9sZW5ndGggICAgICA9IGRlc2Muc3RhdF9kZXNjLm1heF9sZW5ndGg7XG4gIGxldCBoOyAgICAgICAgICAgICAgLyogaGVhcCBpbmRleCAqL1xuICBsZXQgbiwgbTsgICAgICAgICAgIC8qIGl0ZXJhdGUgb3ZlciB0aGUgdHJlZSBlbGVtZW50cyAqL1xuICBsZXQgYml0czsgICAgICAgICAgIC8qIGJpdCBsZW5ndGggKi9cbiAgbGV0IHhiaXRzOyAgICAgICAgICAvKiBleHRyYSBiaXRzICovXG4gIGxldCBmOyAgICAgICAgICAgICAgLyogZnJlcXVlbmN5ICovXG4gIGxldCBvdmVyZmxvdyA9IDA7ICAgLyogbnVtYmVyIG9mIGVsZW1lbnRzIHdpdGggYml0IGxlbmd0aCB0b28gbGFyZ2UgKi9cblxuICBmb3IgKGJpdHMgPSAwOyBiaXRzIDw9IE1BWF9CSVRTJDE7IGJpdHMrKykge1xuICAgIHMuYmxfY291bnRbYml0c10gPSAwO1xuICB9XG5cbiAgLyogSW4gYSBmaXJzdCBwYXNzLCBjb21wdXRlIHRoZSBvcHRpbWFsIGJpdCBsZW5ndGhzICh3aGljaCBtYXlcbiAgICogb3ZlcmZsb3cgaW4gdGhlIGNhc2Ugb2YgdGhlIGJpdCBsZW5ndGggdHJlZSkuXG4gICAqL1xuICB0cmVlW3MuaGVhcFtzLmhlYXBfbWF4XSAqIDIgKyAxXS8qLkxlbiovID0gMDsgLyogcm9vdCBvZiB0aGUgaGVhcCAqL1xuXG4gIGZvciAoaCA9IHMuaGVhcF9tYXggKyAxOyBoIDwgSEVBUF9TSVpFJDE7IGgrKykge1xuICAgIG4gPSBzLmhlYXBbaF07XG4gICAgYml0cyA9IHRyZWVbdHJlZVtuICogMiArIDFdLyouRGFkKi8gKiAyICsgMV0vKi5MZW4qLyArIDE7XG4gICAgaWYgKGJpdHMgPiBtYXhfbGVuZ3RoKSB7XG4gICAgICBiaXRzID0gbWF4X2xlbmd0aDtcbiAgICAgIG92ZXJmbG93Kys7XG4gICAgfVxuICAgIHRyZWVbbiAqIDIgKyAxXS8qLkxlbiovID0gYml0cztcbiAgICAvKiBXZSBvdmVyd3JpdGUgdHJlZVtuXS5EYWQgd2hpY2ggaXMgbm8gbG9uZ2VyIG5lZWRlZCAqL1xuXG4gICAgaWYgKG4gPiBtYXhfY29kZSkgeyBjb250aW51ZTsgfSAvKiBub3QgYSBsZWFmIG5vZGUgKi9cblxuICAgIHMuYmxfY291bnRbYml0c10rKztcbiAgICB4Yml0cyA9IDA7XG4gICAgaWYgKG4gPj0gYmFzZSkge1xuICAgICAgeGJpdHMgPSBleHRyYVtuIC0gYmFzZV07XG4gICAgfVxuICAgIGYgPSB0cmVlW24gKiAyXS8qLkZyZXEqLztcbiAgICBzLm9wdF9sZW4gKz0gZiAqIChiaXRzICsgeGJpdHMpO1xuICAgIGlmIChoYXNfc3RyZWUpIHtcbiAgICAgIHMuc3RhdGljX2xlbiArPSBmICogKHN0cmVlW24gKiAyICsgMV0vKi5MZW4qLyArIHhiaXRzKTtcbiAgICB9XG4gIH1cbiAgaWYgKG92ZXJmbG93ID09PSAwKSB7IHJldHVybjsgfVxuXG4gIC8vIFRyYWNldigoc3RkZXJyLFwiXFxuYml0IGxlbmd0aCBvdmVyZmxvd1xcblwiKSk7XG4gIC8qIFRoaXMgaGFwcGVucyBmb3IgZXhhbXBsZSBvbiBvYmoyIGFuZCBwaWMgb2YgdGhlIENhbGdhcnkgY29ycHVzICovXG5cbiAgLyogRmluZCB0aGUgZmlyc3QgYml0IGxlbmd0aCB3aGljaCBjb3VsZCBpbmNyZWFzZTogKi9cbiAgZG8ge1xuICAgIGJpdHMgPSBtYXhfbGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAocy5ibF9jb3VudFtiaXRzXSA9PT0gMCkgeyBiaXRzLS07IH1cbiAgICBzLmJsX2NvdW50W2JpdHNdLS07ICAgICAgLyogbW92ZSBvbmUgbGVhZiBkb3duIHRoZSB0cmVlICovXG4gICAgcy5ibF9jb3VudFtiaXRzICsgMV0gKz0gMjsgLyogbW92ZSBvbmUgb3ZlcmZsb3cgaXRlbSBhcyBpdHMgYnJvdGhlciAqL1xuICAgIHMuYmxfY291bnRbbWF4X2xlbmd0aF0tLTtcbiAgICAvKiBUaGUgYnJvdGhlciBvZiB0aGUgb3ZlcmZsb3cgaXRlbSBhbHNvIG1vdmVzIG9uZSBzdGVwIHVwLFxuICAgICAqIGJ1dCB0aGlzIGRvZXMgbm90IGFmZmVjdCBibF9jb3VudFttYXhfbGVuZ3RoXVxuICAgICAqL1xuICAgIG92ZXJmbG93IC09IDI7XG4gIH0gd2hpbGUgKG92ZXJmbG93ID4gMCk7XG5cbiAgLyogTm93IHJlY29tcHV0ZSBhbGwgYml0IGxlbmd0aHMsIHNjYW5uaW5nIGluIGluY3JlYXNpbmcgZnJlcXVlbmN5LlxuICAgKiBoIGlzIHN0aWxsIGVxdWFsIHRvIEhFQVBfU0laRS4gKEl0IGlzIHNpbXBsZXIgdG8gcmVjb25zdHJ1Y3QgYWxsXG4gICAqIGxlbmd0aHMgaW5zdGVhZCBvZiBmaXhpbmcgb25seSB0aGUgd3Jvbmcgb25lcy4gVGhpcyBpZGVhIGlzIHRha2VuXG4gICAqIGZyb20gJ2FyJyB3cml0dGVuIGJ5IEhhcnVoaWtvIE9rdW11cmEuKVxuICAgKi9cbiAgZm9yIChiaXRzID0gbWF4X2xlbmd0aDsgYml0cyAhPT0gMDsgYml0cy0tKSB7XG4gICAgbiA9IHMuYmxfY291bnRbYml0c107XG4gICAgd2hpbGUgKG4gIT09IDApIHtcbiAgICAgIG0gPSBzLmhlYXBbLS1oXTtcbiAgICAgIGlmIChtID4gbWF4X2NvZGUpIHsgY29udGludWU7IH1cbiAgICAgIGlmICh0cmVlW20gKiAyICsgMV0vKi5MZW4qLyAhPT0gYml0cykge1xuICAgICAgICAvLyBUcmFjZXYoKHN0ZGVycixcImNvZGUgJWQgYml0cyAlZC0+JWRcXG5cIiwgbSwgdHJlZVttXS5MZW4sIGJpdHMpKTtcbiAgICAgICAgcy5vcHRfbGVuICs9IChiaXRzIC0gdHJlZVttICogMiArIDFdLyouTGVuKi8pICogdHJlZVttICogMl0vKi5GcmVxKi87XG4gICAgICAgIHRyZWVbbSAqIDIgKyAxXS8qLkxlbiovID0gYml0cztcbiAgICAgIH1cbiAgICAgIG4tLTtcbiAgICB9XG4gIH1cbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBHZW5lcmF0ZSB0aGUgY29kZXMgZm9yIGEgZ2l2ZW4gdHJlZSBhbmQgYml0IGNvdW50cyAod2hpY2ggbmVlZCBub3QgYmVcbiAqIG9wdGltYWwpLlxuICogSU4gYXNzZXJ0aW9uOiB0aGUgYXJyYXkgYmxfY291bnQgY29udGFpbnMgdGhlIGJpdCBsZW5ndGggc3RhdGlzdGljcyBmb3JcbiAqIHRoZSBnaXZlbiB0cmVlIGFuZCB0aGUgZmllbGQgbGVuIGlzIHNldCBmb3IgYWxsIHRyZWUgZWxlbWVudHMuXG4gKiBPVVQgYXNzZXJ0aW9uOiB0aGUgZmllbGQgY29kZSBpcyBzZXQgZm9yIGFsbCB0cmVlIGVsZW1lbnRzIG9mIG5vblxuICogICAgIHplcm8gY29kZSBsZW5ndGguXG4gKi9cbmNvbnN0IGdlbl9jb2RlcyA9ICh0cmVlLCBtYXhfY29kZSwgYmxfY291bnQpID0+IHtcbi8vICAgIGN0X2RhdGEgKnRyZWU7ICAgICAgICAgICAgIC8qIHRoZSB0cmVlIHRvIGRlY29yYXRlICovXG4vLyAgICBpbnQgbWF4X2NvZGU7ICAgICAgICAgICAgICAvKiBsYXJnZXN0IGNvZGUgd2l0aCBub24gemVybyBmcmVxdWVuY3kgKi9cbi8vICAgIHVzaGYgKmJsX2NvdW50OyAgICAgICAgICAgIC8qIG51bWJlciBvZiBjb2RlcyBhdCBlYWNoIGJpdCBsZW5ndGggKi9cblxuICBjb25zdCBuZXh0X2NvZGUgPSBuZXcgQXJyYXkoTUFYX0JJVFMkMSArIDEpOyAvKiBuZXh0IGNvZGUgdmFsdWUgZm9yIGVhY2ggYml0IGxlbmd0aCAqL1xuICBsZXQgY29kZSA9IDA7ICAgICAgICAgICAgICAvKiBydW5uaW5nIGNvZGUgdmFsdWUgKi9cbiAgbGV0IGJpdHM7ICAgICAgICAgICAgICAgICAgLyogYml0IGluZGV4ICovXG4gIGxldCBuOyAgICAgICAgICAgICAgICAgICAgIC8qIGNvZGUgaW5kZXggKi9cblxuICAvKiBUaGUgZGlzdHJpYnV0aW9uIGNvdW50cyBhcmUgZmlyc3QgdXNlZCB0byBnZW5lcmF0ZSB0aGUgY29kZSB2YWx1ZXNcbiAgICogd2l0aG91dCBiaXQgcmV2ZXJzYWwuXG4gICAqL1xuICBmb3IgKGJpdHMgPSAxOyBiaXRzIDw9IE1BWF9CSVRTJDE7IGJpdHMrKykge1xuICAgIGNvZGUgPSAoY29kZSArIGJsX2NvdW50W2JpdHMgLSAxXSkgPDwgMTtcbiAgICBuZXh0X2NvZGVbYml0c10gPSBjb2RlO1xuICB9XG4gIC8qIENoZWNrIHRoYXQgdGhlIGJpdCBjb3VudHMgaW4gYmxfY291bnQgYXJlIGNvbnNpc3RlbnQuIFRoZSBsYXN0IGNvZGVcbiAgICogbXVzdCBiZSBhbGwgb25lcy5cbiAgICovXG4gIC8vQXNzZXJ0IChjb2RlICsgYmxfY291bnRbTUFYX0JJVFNdLTEgPT0gKDE8PE1BWF9CSVRTKS0xLFxuICAvLyAgICAgICAgXCJpbmNvbnNpc3RlbnQgYml0IGNvdW50c1wiKTtcbiAgLy9UcmFjZXYoKHN0ZGVycixcIlxcbmdlbl9jb2RlczogbWF4X2NvZGUgJWQgXCIsIG1heF9jb2RlKSk7XG5cbiAgZm9yIChuID0gMDsgIG4gPD0gbWF4X2NvZGU7IG4rKykge1xuICAgIGxldCBsZW4gPSB0cmVlW24gKiAyICsgMV0vKi5MZW4qLztcbiAgICBpZiAobGVuID09PSAwKSB7IGNvbnRpbnVlOyB9XG4gICAgLyogTm93IHJldmVyc2UgdGhlIGJpdHMgKi9cbiAgICB0cmVlW24gKiAyXS8qLkNvZGUqLyA9IGJpX3JldmVyc2UobmV4dF9jb2RlW2xlbl0rKywgbGVuKTtcblxuICAgIC8vVHJhY2Vjdih0cmVlICE9IHN0YXRpY19sdHJlZSwgKHN0ZGVycixcIlxcbm4gJTNkICVjIGwgJTJkIGMgJTR4ICgleCkgXCIsXG4gICAgLy8gICAgIG4sIChpc2dyYXBoKG4pID8gbiA6ICcgJyksIGxlbiwgdHJlZVtuXS5Db2RlLCBuZXh0X2NvZGVbbGVuXS0xKSk7XG4gIH1cbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbml0aWFsaXplIHRoZSB2YXJpb3VzICdjb25zdGFudCcgdGFibGVzLlxuICovXG5jb25zdCB0cl9zdGF0aWNfaW5pdCA9ICgpID0+IHtcblxuICBsZXQgbjsgICAgICAgIC8qIGl0ZXJhdGVzIG92ZXIgdHJlZSBlbGVtZW50cyAqL1xuICBsZXQgYml0czsgICAgIC8qIGJpdCBjb3VudGVyICovXG4gIGxldCBsZW5ndGg7ICAgLyogbGVuZ3RoIHZhbHVlICovXG4gIGxldCBjb2RlOyAgICAgLyogY29kZSB2YWx1ZSAqL1xuICBsZXQgZGlzdDsgICAgIC8qIGRpc3RhbmNlIGluZGV4ICovXG4gIGNvbnN0IGJsX2NvdW50ID0gbmV3IEFycmF5KE1BWF9CSVRTJDEgKyAxKTtcbiAgLyogbnVtYmVyIG9mIGNvZGVzIGF0IGVhY2ggYml0IGxlbmd0aCBmb3IgYW4gb3B0aW1hbCB0cmVlICovXG5cbiAgLy8gZG8gY2hlY2sgaW4gX3RyX2luaXQoKVxuICAvL2lmIChzdGF0aWNfaW5pdF9kb25lKSByZXR1cm47XG5cbiAgLyogRm9yIHNvbWUgZW1iZWRkZWQgdGFyZ2V0cywgZ2xvYmFsIHZhcmlhYmxlcyBhcmUgbm90IGluaXRpYWxpemVkOiAqL1xuLyojaWZkZWYgTk9fSU5JVF9HTE9CQUxfUE9JTlRFUlNcbiAgc3RhdGljX2xfZGVzYy5zdGF0aWNfdHJlZSA9IHN0YXRpY19sdHJlZTtcbiAgc3RhdGljX2xfZGVzYy5leHRyYV9iaXRzID0gZXh0cmFfbGJpdHM7XG4gIHN0YXRpY19kX2Rlc2Muc3RhdGljX3RyZWUgPSBzdGF0aWNfZHRyZWU7XG4gIHN0YXRpY19kX2Rlc2MuZXh0cmFfYml0cyA9IGV4dHJhX2RiaXRzO1xuICBzdGF0aWNfYmxfZGVzYy5leHRyYV9iaXRzID0gZXh0cmFfYmxiaXRzO1xuI2VuZGlmKi9cblxuICAvKiBJbml0aWFsaXplIHRoZSBtYXBwaW5nIGxlbmd0aCAoMC4uMjU1KSAtPiBsZW5ndGggY29kZSAoMC4uMjgpICovXG4gIGxlbmd0aCA9IDA7XG4gIGZvciAoY29kZSA9IDA7IGNvZGUgPCBMRU5HVEhfQ09ERVMkMSAtIDE7IGNvZGUrKykge1xuICAgIGJhc2VfbGVuZ3RoW2NvZGVdID0gbGVuZ3RoO1xuICAgIGZvciAobiA9IDA7IG4gPCAoMSA8PCBleHRyYV9sYml0c1tjb2RlXSk7IG4rKykge1xuICAgICAgX2xlbmd0aF9jb2RlW2xlbmd0aCsrXSA9IGNvZGU7XG4gICAgfVxuICB9XG4gIC8vQXNzZXJ0IChsZW5ndGggPT0gMjU2LCBcInRyX3N0YXRpY19pbml0OiBsZW5ndGggIT0gMjU2XCIpO1xuICAvKiBOb3RlIHRoYXQgdGhlIGxlbmd0aCAyNTUgKG1hdGNoIGxlbmd0aCAyNTgpIGNhbiBiZSByZXByZXNlbnRlZFxuICAgKiBpbiB0d28gZGlmZmVyZW50IHdheXM6IGNvZGUgMjg0ICsgNSBiaXRzIG9yIGNvZGUgMjg1LCBzbyB3ZVxuICAgKiBvdmVyd3JpdGUgbGVuZ3RoX2NvZGVbMjU1XSB0byB1c2UgdGhlIGJlc3QgZW5jb2Rpbmc6XG4gICAqL1xuICBfbGVuZ3RoX2NvZGVbbGVuZ3RoIC0gMV0gPSBjb2RlO1xuXG4gIC8qIEluaXRpYWxpemUgdGhlIG1hcHBpbmcgZGlzdCAoMC4uMzJLKSAtPiBkaXN0IGNvZGUgKDAuLjI5KSAqL1xuICBkaXN0ID0gMDtcbiAgZm9yIChjb2RlID0gMDsgY29kZSA8IDE2OyBjb2RlKyspIHtcbiAgICBiYXNlX2Rpc3RbY29kZV0gPSBkaXN0O1xuICAgIGZvciAobiA9IDA7IG4gPCAoMSA8PCBleHRyYV9kYml0c1tjb2RlXSk7IG4rKykge1xuICAgICAgX2Rpc3RfY29kZVtkaXN0KytdID0gY29kZTtcbiAgICB9XG4gIH1cbiAgLy9Bc3NlcnQgKGRpc3QgPT0gMjU2LCBcInRyX3N0YXRpY19pbml0OiBkaXN0ICE9IDI1NlwiKTtcbiAgZGlzdCA+Pj0gNzsgLyogZnJvbSBub3cgb24sIGFsbCBkaXN0YW5jZXMgYXJlIGRpdmlkZWQgYnkgMTI4ICovXG4gIGZvciAoOyBjb2RlIDwgRF9DT0RFUyQxOyBjb2RlKyspIHtcbiAgICBiYXNlX2Rpc3RbY29kZV0gPSBkaXN0IDw8IDc7XG4gICAgZm9yIChuID0gMDsgbiA8ICgxIDw8IChleHRyYV9kYml0c1tjb2RlXSAtIDcpKTsgbisrKSB7XG4gICAgICBfZGlzdF9jb2RlWzI1NiArIGRpc3QrK10gPSBjb2RlO1xuICAgIH1cbiAgfVxuICAvL0Fzc2VydCAoZGlzdCA9PSAyNTYsIFwidHJfc3RhdGljX2luaXQ6IDI1NitkaXN0ICE9IDUxMlwiKTtcblxuICAvKiBDb25zdHJ1Y3QgdGhlIGNvZGVzIG9mIHRoZSBzdGF0aWMgbGl0ZXJhbCB0cmVlICovXG4gIGZvciAoYml0cyA9IDA7IGJpdHMgPD0gTUFYX0JJVFMkMTsgYml0cysrKSB7XG4gICAgYmxfY291bnRbYml0c10gPSAwO1xuICB9XG5cbiAgbiA9IDA7XG4gIHdoaWxlIChuIDw9IDE0Mykge1xuICAgIHN0YXRpY19sdHJlZVtuICogMiArIDFdLyouTGVuKi8gPSA4O1xuICAgIG4rKztcbiAgICBibF9jb3VudFs4XSsrO1xuICB9XG4gIHdoaWxlIChuIDw9IDI1NSkge1xuICAgIHN0YXRpY19sdHJlZVtuICogMiArIDFdLyouTGVuKi8gPSA5O1xuICAgIG4rKztcbiAgICBibF9jb3VudFs5XSsrO1xuICB9XG4gIHdoaWxlIChuIDw9IDI3OSkge1xuICAgIHN0YXRpY19sdHJlZVtuICogMiArIDFdLyouTGVuKi8gPSA3O1xuICAgIG4rKztcbiAgICBibF9jb3VudFs3XSsrO1xuICB9XG4gIHdoaWxlIChuIDw9IDI4Nykge1xuICAgIHN0YXRpY19sdHJlZVtuICogMiArIDFdLyouTGVuKi8gPSA4O1xuICAgIG4rKztcbiAgICBibF9jb3VudFs4XSsrO1xuICB9XG4gIC8qIENvZGVzIDI4NiBhbmQgMjg3IGRvIG5vdCBleGlzdCwgYnV0IHdlIG11c3QgaW5jbHVkZSB0aGVtIGluIHRoZVxuICAgKiB0cmVlIGNvbnN0cnVjdGlvbiB0byBnZXQgYSBjYW5vbmljYWwgSHVmZm1hbiB0cmVlIChsb25nZXN0IGNvZGVcbiAgICogYWxsIG9uZXMpXG4gICAqL1xuICBnZW5fY29kZXMoc3RhdGljX2x0cmVlLCBMX0NPREVTJDEgKyAxLCBibF9jb3VudCk7XG5cbiAgLyogVGhlIHN0YXRpYyBkaXN0YW5jZSB0cmVlIGlzIHRyaXZpYWw6ICovXG4gIGZvciAobiA9IDA7IG4gPCBEX0NPREVTJDE7IG4rKykge1xuICAgIHN0YXRpY19kdHJlZVtuICogMiArIDFdLyouTGVuKi8gPSA1O1xuICAgIHN0YXRpY19kdHJlZVtuICogMl0vKi5Db2RlKi8gPSBiaV9yZXZlcnNlKG4sIDUpO1xuICB9XG5cbiAgLy8gTm93IGRhdGEgcmVhZHkgYW5kIHdlIGNhbiBpbml0IHN0YXRpYyB0cmVlc1xuICBzdGF0aWNfbF9kZXNjID0gbmV3IFN0YXRpY1RyZWVEZXNjKHN0YXRpY19sdHJlZSwgZXh0cmFfbGJpdHMsIExJVEVSQUxTJDEgKyAxLCBMX0NPREVTJDEsIE1BWF9CSVRTJDEpO1xuICBzdGF0aWNfZF9kZXNjID0gbmV3IFN0YXRpY1RyZWVEZXNjKHN0YXRpY19kdHJlZSwgZXh0cmFfZGJpdHMsIDAsICAgICAgICAgIERfQ09ERVMkMSwgTUFYX0JJVFMkMSk7XG4gIHN0YXRpY19ibF9kZXNjID0gbmV3IFN0YXRpY1RyZWVEZXNjKG5ldyBBcnJheSgwKSwgZXh0cmFfYmxiaXRzLCAwLCAgICAgICAgIEJMX0NPREVTJDEsIE1BWF9CTF9CSVRTKTtcblxuICAvL3N0YXRpY19pbml0X2RvbmUgPSB0cnVlO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEluaXRpYWxpemUgYSBuZXcgYmxvY2suXG4gKi9cbmNvbnN0IGluaXRfYmxvY2sgPSAocykgPT4ge1xuXG4gIGxldCBuOyAvKiBpdGVyYXRlcyBvdmVyIHRyZWUgZWxlbWVudHMgKi9cblxuICAvKiBJbml0aWFsaXplIHRoZSB0cmVlcy4gKi9cbiAgZm9yIChuID0gMDsgbiA8IExfQ09ERVMkMTsgIG4rKykgeyBzLmR5bl9sdHJlZVtuICogMl0vKi5GcmVxKi8gPSAwOyB9XG4gIGZvciAobiA9IDA7IG4gPCBEX0NPREVTJDE7ICBuKyspIHsgcy5keW5fZHRyZWVbbiAqIDJdLyouRnJlcSovID0gMDsgfVxuICBmb3IgKG4gPSAwOyBuIDwgQkxfQ09ERVMkMTsgbisrKSB7IHMuYmxfdHJlZVtuICogMl0vKi5GcmVxKi8gPSAwOyB9XG5cbiAgcy5keW5fbHRyZWVbRU5EX0JMT0NLICogMl0vKi5GcmVxKi8gPSAxO1xuICBzLm9wdF9sZW4gPSBzLnN0YXRpY19sZW4gPSAwO1xuICBzLnN5bV9uZXh0ID0gcy5tYXRjaGVzID0gMDtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBGbHVzaCB0aGUgYml0IGJ1ZmZlciBhbmQgYWxpZ24gdGhlIG91dHB1dCBvbiBhIGJ5dGUgYm91bmRhcnlcbiAqL1xuY29uc3QgYmlfd2luZHVwID0gKHMpID0+XG57XG4gIGlmIChzLmJpX3ZhbGlkID4gOCkge1xuICAgIHB1dF9zaG9ydChzLCBzLmJpX2J1Zik7XG4gIH0gZWxzZSBpZiAocy5iaV92YWxpZCA+IDApIHtcbiAgICAvL3B1dF9ieXRlKHMsIChCeXRlKXMtPmJpX2J1Zik7XG4gICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSBzLmJpX2J1ZjtcbiAgfVxuICBzLmJpX2J1ZiA9IDA7XG4gIHMuYmlfdmFsaWQgPSAwO1xufTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb21wYXJlcyB0byBzdWJ0cmVlcywgdXNpbmcgdGhlIHRyZWUgZGVwdGggYXMgdGllIGJyZWFrZXIgd2hlblxuICogdGhlIHN1YnRyZWVzIGhhdmUgZXF1YWwgZnJlcXVlbmN5LiBUaGlzIG1pbmltaXplcyB0aGUgd29yc3QgY2FzZSBsZW5ndGguXG4gKi9cbmNvbnN0IHNtYWxsZXIgPSAodHJlZSwgbiwgbSwgZGVwdGgpID0+IHtcblxuICBjb25zdCBfbjIgPSBuICogMjtcbiAgY29uc3QgX20yID0gbSAqIDI7XG4gIHJldHVybiAodHJlZVtfbjJdLyouRnJlcSovIDwgdHJlZVtfbTJdLyouRnJlcSovIHx8XG4gICAgICAgICAodHJlZVtfbjJdLyouRnJlcSovID09PSB0cmVlW19tMl0vKi5GcmVxKi8gJiYgZGVwdGhbbl0gPD0gZGVwdGhbbV0pKTtcbn07XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogUmVzdG9yZSB0aGUgaGVhcCBwcm9wZXJ0eSBieSBtb3ZpbmcgZG93biB0aGUgdHJlZSBzdGFydGluZyBhdCBub2RlIGssXG4gKiBleGNoYW5naW5nIGEgbm9kZSB3aXRoIHRoZSBzbWFsbGVzdCBvZiBpdHMgdHdvIHNvbnMgaWYgbmVjZXNzYXJ5LCBzdG9wcGluZ1xuICogd2hlbiB0aGUgaGVhcCBwcm9wZXJ0eSBpcyByZS1lc3RhYmxpc2hlZCAoZWFjaCBmYXRoZXIgc21hbGxlciB0aGFuIGl0c1xuICogdHdvIHNvbnMpLlxuICovXG5jb25zdCBwcWRvd25oZWFwID0gKHMsIHRyZWUsIGspID0+IHtcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICBjdF9kYXRhICp0cmVlOyAgLyogdGhlIHRyZWUgdG8gcmVzdG9yZSAqL1xuLy8gICAgaW50IGs7ICAgICAgICAgICAgICAgLyogbm9kZSB0byBtb3ZlIGRvd24gKi9cblxuICBjb25zdCB2ID0gcy5oZWFwW2tdO1xuICBsZXQgaiA9IGsgPDwgMTsgIC8qIGxlZnQgc29uIG9mIGsgKi9cbiAgd2hpbGUgKGogPD0gcy5oZWFwX2xlbikge1xuICAgIC8qIFNldCBqIHRvIHRoZSBzbWFsbGVzdCBvZiB0aGUgdHdvIHNvbnM6ICovXG4gICAgaWYgKGogPCBzLmhlYXBfbGVuICYmXG4gICAgICBzbWFsbGVyKHRyZWUsIHMuaGVhcFtqICsgMV0sIHMuaGVhcFtqXSwgcy5kZXB0aCkpIHtcbiAgICAgIGorKztcbiAgICB9XG4gICAgLyogRXhpdCBpZiB2IGlzIHNtYWxsZXIgdGhhbiBib3RoIHNvbnMgKi9cbiAgICBpZiAoc21hbGxlcih0cmVlLCB2LCBzLmhlYXBbal0sIHMuZGVwdGgpKSB7IGJyZWFrOyB9XG5cbiAgICAvKiBFeGNoYW5nZSB2IHdpdGggdGhlIHNtYWxsZXN0IHNvbiAqL1xuICAgIHMuaGVhcFtrXSA9IHMuaGVhcFtqXTtcbiAgICBrID0gajtcblxuICAgIC8qIEFuZCBjb250aW51ZSBkb3duIHRoZSB0cmVlLCBzZXR0aW5nIGogdG8gdGhlIGxlZnQgc29uIG9mIGsgKi9cbiAgICBqIDw8PSAxO1xuICB9XG4gIHMuaGVhcFtrXSA9IHY7XG59O1xuXG5cbi8vIGlubGluZWQgbWFudWFsbHlcbi8vIGNvbnN0IFNNQUxMRVNUID0gMTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTZW5kIHRoZSBibG9jayBkYXRhIGNvbXByZXNzZWQgdXNpbmcgdGhlIGdpdmVuIEh1ZmZtYW4gdHJlZXNcbiAqL1xuY29uc3QgY29tcHJlc3NfYmxvY2sgPSAocywgbHRyZWUsIGR0cmVlKSA9PiB7XG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgY29uc3QgY3RfZGF0YSAqbHRyZWU7IC8qIGxpdGVyYWwgdHJlZSAqL1xuLy8gICAgY29uc3QgY3RfZGF0YSAqZHRyZWU7IC8qIGRpc3RhbmNlIHRyZWUgKi9cblxuICBsZXQgZGlzdDsgICAgICAgICAgIC8qIGRpc3RhbmNlIG9mIG1hdGNoZWQgc3RyaW5nICovXG4gIGxldCBsYzsgICAgICAgICAgICAgLyogbWF0Y2ggbGVuZ3RoIG9yIHVubWF0Y2hlZCBjaGFyIChpZiBkaXN0ID09IDApICovXG4gIGxldCBzeCA9IDA7ICAgICAgICAgLyogcnVubmluZyBpbmRleCBpbiBzeW1fYnVmICovXG4gIGxldCBjb2RlOyAgICAgICAgICAgLyogdGhlIGNvZGUgdG8gc2VuZCAqL1xuICBsZXQgZXh0cmE7ICAgICAgICAgIC8qIG51bWJlciBvZiBleHRyYSBiaXRzIHRvIHNlbmQgKi9cblxuICBpZiAocy5zeW1fbmV4dCAhPT0gMCkge1xuICAgIGRvIHtcbiAgICAgIGRpc3QgPSBzLnBlbmRpbmdfYnVmW3Muc3ltX2J1ZiArIHN4KytdICYgMHhmZjtcbiAgICAgIGRpc3QgKz0gKHMucGVuZGluZ19idWZbcy5zeW1fYnVmICsgc3grK10gJiAweGZmKSA8PCA4O1xuICAgICAgbGMgPSBzLnBlbmRpbmdfYnVmW3Muc3ltX2J1ZiArIHN4KytdO1xuICAgICAgaWYgKGRpc3QgPT09IDApIHtcbiAgICAgICAgc2VuZF9jb2RlKHMsIGxjLCBsdHJlZSk7IC8qIHNlbmQgYSBsaXRlcmFsIGJ5dGUgKi9cbiAgICAgICAgLy9UcmFjZWN2KGlzZ3JhcGgobGMpLCAoc3RkZXJyLFwiICclYycgXCIsIGxjKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBIZXJlLCBsYyBpcyB0aGUgbWF0Y2ggbGVuZ3RoIC0gTUlOX01BVENIICovXG4gICAgICAgIGNvZGUgPSBfbGVuZ3RoX2NvZGVbbGNdO1xuICAgICAgICBzZW5kX2NvZGUocywgY29kZSArIExJVEVSQUxTJDEgKyAxLCBsdHJlZSk7IC8qIHNlbmQgdGhlIGxlbmd0aCBjb2RlICovXG4gICAgICAgIGV4dHJhID0gZXh0cmFfbGJpdHNbY29kZV07XG4gICAgICAgIGlmIChleHRyYSAhPT0gMCkge1xuICAgICAgICAgIGxjIC09IGJhc2VfbGVuZ3RoW2NvZGVdO1xuICAgICAgICAgIHNlbmRfYml0cyhzLCBsYywgZXh0cmEpOyAgICAgICAvKiBzZW5kIHRoZSBleHRyYSBsZW5ndGggYml0cyAqL1xuICAgICAgICB9XG4gICAgICAgIGRpc3QtLTsgLyogZGlzdCBpcyBub3cgdGhlIG1hdGNoIGRpc3RhbmNlIC0gMSAqL1xuICAgICAgICBjb2RlID0gZF9jb2RlKGRpc3QpO1xuICAgICAgICAvL0Fzc2VydCAoY29kZSA8IERfQ09ERVMsIFwiYmFkIGRfY29kZVwiKTtcblxuICAgICAgICBzZW5kX2NvZGUocywgY29kZSwgZHRyZWUpOyAgICAgICAvKiBzZW5kIHRoZSBkaXN0YW5jZSBjb2RlICovXG4gICAgICAgIGV4dHJhID0gZXh0cmFfZGJpdHNbY29kZV07XG4gICAgICAgIGlmIChleHRyYSAhPT0gMCkge1xuICAgICAgICAgIGRpc3QgLT0gYmFzZV9kaXN0W2NvZGVdO1xuICAgICAgICAgIHNlbmRfYml0cyhzLCBkaXN0LCBleHRyYSk7ICAgLyogc2VuZCB0aGUgZXh0cmEgZGlzdGFuY2UgYml0cyAqL1xuICAgICAgICB9XG4gICAgICB9IC8qIGxpdGVyYWwgb3IgbWF0Y2ggcGFpciA/ICovXG5cbiAgICAgIC8qIENoZWNrIHRoYXQgdGhlIG92ZXJsYXkgYmV0d2VlbiBwZW5kaW5nX2J1ZiBhbmQgc3ltX2J1ZiBpcyBvazogKi9cbiAgICAgIC8vQXNzZXJ0KHMtPnBlbmRpbmcgPCBzLT5saXRfYnVmc2l6ZSArIHN4LCBcInBlbmRpbmdCdWYgb3ZlcmZsb3dcIik7XG5cbiAgICB9IHdoaWxlIChzeCA8IHMuc3ltX25leHQpO1xuICB9XG5cbiAgc2VuZF9jb2RlKHMsIEVORF9CTE9DSywgbHRyZWUpO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvbnN0cnVjdCBvbmUgSHVmZm1hbiB0cmVlIGFuZCBhc3NpZ25zIHRoZSBjb2RlIGJpdCBzdHJpbmdzIGFuZCBsZW5ndGhzLlxuICogVXBkYXRlIHRoZSB0b3RhbCBiaXQgbGVuZ3RoIGZvciB0aGUgY3VycmVudCBibG9jay5cbiAqIElOIGFzc2VydGlvbjogdGhlIGZpZWxkIGZyZXEgaXMgc2V0IGZvciBhbGwgdHJlZSBlbGVtZW50cy5cbiAqIE9VVCBhc3NlcnRpb25zOiB0aGUgZmllbGRzIGxlbiBhbmQgY29kZSBhcmUgc2V0IHRvIHRoZSBvcHRpbWFsIGJpdCBsZW5ndGhcbiAqICAgICBhbmQgY29ycmVzcG9uZGluZyBjb2RlLiBUaGUgbGVuZ3RoIG9wdF9sZW4gaXMgdXBkYXRlZDsgc3RhdGljX2xlbiBpc1xuICogICAgIGFsc28gdXBkYXRlZCBpZiBzdHJlZSBpcyBub3QgbnVsbC4gVGhlIGZpZWxkIG1heF9jb2RlIGlzIHNldC5cbiAqL1xuY29uc3QgYnVpbGRfdHJlZSA9IChzLCBkZXNjKSA9PiB7XG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgdHJlZV9kZXNjICpkZXNjOyAvKiB0aGUgdHJlZSBkZXNjcmlwdG9yICovXG5cbiAgY29uc3QgdHJlZSAgICAgPSBkZXNjLmR5bl90cmVlO1xuICBjb25zdCBzdHJlZSAgICA9IGRlc2Muc3RhdF9kZXNjLnN0YXRpY190cmVlO1xuICBjb25zdCBoYXNfc3RyZWUgPSBkZXNjLnN0YXRfZGVzYy5oYXNfc3RyZWU7XG4gIGNvbnN0IGVsZW1zICAgID0gZGVzYy5zdGF0X2Rlc2MuZWxlbXM7XG4gIGxldCBuLCBtOyAgICAgICAgICAvKiBpdGVyYXRlIG92ZXIgaGVhcCBlbGVtZW50cyAqL1xuICBsZXQgbWF4X2NvZGUgPSAtMTsgLyogbGFyZ2VzdCBjb2RlIHdpdGggbm9uIHplcm8gZnJlcXVlbmN5ICovXG4gIGxldCBub2RlOyAgICAgICAgICAvKiBuZXcgbm9kZSBiZWluZyBjcmVhdGVkICovXG5cbiAgLyogQ29uc3RydWN0IHRoZSBpbml0aWFsIGhlYXAsIHdpdGggbGVhc3QgZnJlcXVlbnQgZWxlbWVudCBpblxuICAgKiBoZWFwW1NNQUxMRVNUXS4gVGhlIHNvbnMgb2YgaGVhcFtuXSBhcmUgaGVhcFsyKm5dIGFuZCBoZWFwWzIqbisxXS5cbiAgICogaGVhcFswXSBpcyBub3QgdXNlZC5cbiAgICovXG4gIHMuaGVhcF9sZW4gPSAwO1xuICBzLmhlYXBfbWF4ID0gSEVBUF9TSVpFJDE7XG5cbiAgZm9yIChuID0gMDsgbiA8IGVsZW1zOyBuKyspIHtcbiAgICBpZiAodHJlZVtuICogMl0vKi5GcmVxKi8gIT09IDApIHtcbiAgICAgIHMuaGVhcFsrK3MuaGVhcF9sZW5dID0gbWF4X2NvZGUgPSBuO1xuICAgICAgcy5kZXB0aFtuXSA9IDA7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgdHJlZVtuICogMiArIDFdLyouTGVuKi8gPSAwO1xuICAgIH1cbiAgfVxuXG4gIC8qIFRoZSBwa3ppcCBmb3JtYXQgcmVxdWlyZXMgdGhhdCBhdCBsZWFzdCBvbmUgZGlzdGFuY2UgY29kZSBleGlzdHMsXG4gICAqIGFuZCB0aGF0IGF0IGxlYXN0IG9uZSBiaXQgc2hvdWxkIGJlIHNlbnQgZXZlbiBpZiB0aGVyZSBpcyBvbmx5IG9uZVxuICAgKiBwb3NzaWJsZSBjb2RlLiBTbyB0byBhdm9pZCBzcGVjaWFsIGNoZWNrcyBsYXRlciBvbiB3ZSBmb3JjZSBhdCBsZWFzdFxuICAgKiB0d28gY29kZXMgb2Ygbm9uIHplcm8gZnJlcXVlbmN5LlxuICAgKi9cbiAgd2hpbGUgKHMuaGVhcF9sZW4gPCAyKSB7XG4gICAgbm9kZSA9IHMuaGVhcFsrK3MuaGVhcF9sZW5dID0gKG1heF9jb2RlIDwgMiA/ICsrbWF4X2NvZGUgOiAwKTtcbiAgICB0cmVlW25vZGUgKiAyXS8qLkZyZXEqLyA9IDE7XG4gICAgcy5kZXB0aFtub2RlXSA9IDA7XG4gICAgcy5vcHRfbGVuLS07XG5cbiAgICBpZiAoaGFzX3N0cmVlKSB7XG4gICAgICBzLnN0YXRpY19sZW4gLT0gc3RyZWVbbm9kZSAqIDIgKyAxXS8qLkxlbiovO1xuICAgIH1cbiAgICAvKiBub2RlIGlzIDAgb3IgMSBzbyBpdCBkb2VzIG5vdCBoYXZlIGV4dHJhIGJpdHMgKi9cbiAgfVxuICBkZXNjLm1heF9jb2RlID0gbWF4X2NvZGU7XG5cbiAgLyogVGhlIGVsZW1lbnRzIGhlYXBbaGVhcF9sZW4vMisxIC4uIGhlYXBfbGVuXSBhcmUgbGVhdmVzIG9mIHRoZSB0cmVlLFxuICAgKiBlc3RhYmxpc2ggc3ViLWhlYXBzIG9mIGluY3JlYXNpbmcgbGVuZ3RoczpcbiAgICovXG4gIGZvciAobiA9IChzLmhlYXBfbGVuID4+IDEvKmludCAvMiovKTsgbiA+PSAxOyBuLS0pIHsgcHFkb3duaGVhcChzLCB0cmVlLCBuKTsgfVxuXG4gIC8qIENvbnN0cnVjdCB0aGUgSHVmZm1hbiB0cmVlIGJ5IHJlcGVhdGVkbHkgY29tYmluaW5nIHRoZSBsZWFzdCB0d29cbiAgICogZnJlcXVlbnQgbm9kZXMuXG4gICAqL1xuICBub2RlID0gZWxlbXM7ICAgICAgICAgICAgICAvKiBuZXh0IGludGVybmFsIG5vZGUgb2YgdGhlIHRyZWUgKi9cbiAgZG8ge1xuICAgIC8vcHFyZW1vdmUocywgdHJlZSwgbik7ICAvKiBuID0gbm9kZSBvZiBsZWFzdCBmcmVxdWVuY3kgKi9cbiAgICAvKioqIHBxcmVtb3ZlICoqKi9cbiAgICBuID0gcy5oZWFwWzEvKlNNQUxMRVNUKi9dO1xuICAgIHMuaGVhcFsxLypTTUFMTEVTVCovXSA9IHMuaGVhcFtzLmhlYXBfbGVuLS1dO1xuICAgIHBxZG93bmhlYXAocywgdHJlZSwgMS8qU01BTExFU1QqLyk7XG4gICAgLyoqKi9cblxuICAgIG0gPSBzLmhlYXBbMS8qU01BTExFU1QqL107IC8qIG0gPSBub2RlIG9mIG5leHQgbGVhc3QgZnJlcXVlbmN5ICovXG5cbiAgICBzLmhlYXBbLS1zLmhlYXBfbWF4XSA9IG47IC8qIGtlZXAgdGhlIG5vZGVzIHNvcnRlZCBieSBmcmVxdWVuY3kgKi9cbiAgICBzLmhlYXBbLS1zLmhlYXBfbWF4XSA9IG07XG5cbiAgICAvKiBDcmVhdGUgYSBuZXcgbm9kZSBmYXRoZXIgb2YgbiBhbmQgbSAqL1xuICAgIHRyZWVbbm9kZSAqIDJdLyouRnJlcSovID0gdHJlZVtuICogMl0vKi5GcmVxKi8gKyB0cmVlW20gKiAyXS8qLkZyZXEqLztcbiAgICBzLmRlcHRoW25vZGVdID0gKHMuZGVwdGhbbl0gPj0gcy5kZXB0aFttXSA/IHMuZGVwdGhbbl0gOiBzLmRlcHRoW21dKSArIDE7XG4gICAgdHJlZVtuICogMiArIDFdLyouRGFkKi8gPSB0cmVlW20gKiAyICsgMV0vKi5EYWQqLyA9IG5vZGU7XG5cbiAgICAvKiBhbmQgaW5zZXJ0IHRoZSBuZXcgbm9kZSBpbiB0aGUgaGVhcCAqL1xuICAgIHMuaGVhcFsxLypTTUFMTEVTVCovXSA9IG5vZGUrKztcbiAgICBwcWRvd25oZWFwKHMsIHRyZWUsIDEvKlNNQUxMRVNUKi8pO1xuXG4gIH0gd2hpbGUgKHMuaGVhcF9sZW4gPj0gMik7XG5cbiAgcy5oZWFwWy0tcy5oZWFwX21heF0gPSBzLmhlYXBbMS8qU01BTExFU1QqL107XG5cbiAgLyogQXQgdGhpcyBwb2ludCwgdGhlIGZpZWxkcyBmcmVxIGFuZCBkYWQgYXJlIHNldC4gV2UgY2FuIG5vd1xuICAgKiBnZW5lcmF0ZSB0aGUgYml0IGxlbmd0aHMuXG4gICAqL1xuICBnZW5fYml0bGVuKHMsIGRlc2MpO1xuXG4gIC8qIFRoZSBmaWVsZCBsZW4gaXMgbm93IHNldCwgd2UgY2FuIGdlbmVyYXRlIHRoZSBiaXQgY29kZXMgKi9cbiAgZ2VuX2NvZGVzKHRyZWUsIG1heF9jb2RlLCBzLmJsX2NvdW50KTtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTY2FuIGEgbGl0ZXJhbCBvciBkaXN0YW5jZSB0cmVlIHRvIGRldGVybWluZSB0aGUgZnJlcXVlbmNpZXMgb2YgdGhlIGNvZGVzXG4gKiBpbiB0aGUgYml0IGxlbmd0aCB0cmVlLlxuICovXG5jb25zdCBzY2FuX3RyZWUgPSAocywgdHJlZSwgbWF4X2NvZGUpID0+IHtcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICBjdF9kYXRhICp0cmVlOyAgIC8qIHRoZSB0cmVlIHRvIGJlIHNjYW5uZWQgKi9cbi8vICAgIGludCBtYXhfY29kZTsgICAgLyogYW5kIGl0cyBsYXJnZXN0IGNvZGUgb2Ygbm9uIHplcm8gZnJlcXVlbmN5ICovXG5cbiAgbGV0IG47ICAgICAgICAgICAgICAgICAgICAgLyogaXRlcmF0ZXMgb3ZlciBhbGwgdHJlZSBlbGVtZW50cyAqL1xuICBsZXQgcHJldmxlbiA9IC0xOyAgICAgICAgICAvKiBsYXN0IGVtaXR0ZWQgbGVuZ3RoICovXG4gIGxldCBjdXJsZW47ICAgICAgICAgICAgICAgIC8qIGxlbmd0aCBvZiBjdXJyZW50IGNvZGUgKi9cblxuICBsZXQgbmV4dGxlbiA9IHRyZWVbMCAqIDIgKyAxXS8qLkxlbiovOyAvKiBsZW5ndGggb2YgbmV4dCBjb2RlICovXG5cbiAgbGV0IGNvdW50ID0gMDsgICAgICAgICAgICAgLyogcmVwZWF0IGNvdW50IG9mIHRoZSBjdXJyZW50IGNvZGUgKi9cbiAgbGV0IG1heF9jb3VudCA9IDc7ICAgICAgICAgLyogbWF4IHJlcGVhdCBjb3VudCAqL1xuICBsZXQgbWluX2NvdW50ID0gNDsgICAgICAgICAvKiBtaW4gcmVwZWF0IGNvdW50ICovXG5cbiAgaWYgKG5leHRsZW4gPT09IDApIHtcbiAgICBtYXhfY291bnQgPSAxMzg7XG4gICAgbWluX2NvdW50ID0gMztcbiAgfVxuICB0cmVlWyhtYXhfY29kZSArIDEpICogMiArIDFdLyouTGVuKi8gPSAweGZmZmY7IC8qIGd1YXJkICovXG5cbiAgZm9yIChuID0gMDsgbiA8PSBtYXhfY29kZTsgbisrKSB7XG4gICAgY3VybGVuID0gbmV4dGxlbjtcbiAgICBuZXh0bGVuID0gdHJlZVsobiArIDEpICogMiArIDFdLyouTGVuKi87XG5cbiAgICBpZiAoKytjb3VudCA8IG1heF9jb3VudCAmJiBjdXJsZW4gPT09IG5leHRsZW4pIHtcbiAgICAgIGNvbnRpbnVlO1xuXG4gICAgfSBlbHNlIGlmIChjb3VudCA8IG1pbl9jb3VudCkge1xuICAgICAgcy5ibF90cmVlW2N1cmxlbiAqIDJdLyouRnJlcSovICs9IGNvdW50O1xuXG4gICAgfSBlbHNlIGlmIChjdXJsZW4gIT09IDApIHtcblxuICAgICAgaWYgKGN1cmxlbiAhPT0gcHJldmxlbikgeyBzLmJsX3RyZWVbY3VybGVuICogMl0vKi5GcmVxKi8rKzsgfVxuICAgICAgcy5ibF90cmVlW1JFUF8zXzYgKiAyXS8qLkZyZXEqLysrO1xuXG4gICAgfSBlbHNlIGlmIChjb3VudCA8PSAxMCkge1xuICAgICAgcy5ibF90cmVlW1JFUFpfM18xMCAqIDJdLyouRnJlcSovKys7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcy5ibF90cmVlW1JFUFpfMTFfMTM4ICogMl0vKi5GcmVxKi8rKztcbiAgICB9XG5cbiAgICBjb3VudCA9IDA7XG4gICAgcHJldmxlbiA9IGN1cmxlbjtcblxuICAgIGlmIChuZXh0bGVuID09PSAwKSB7XG4gICAgICBtYXhfY291bnQgPSAxMzg7XG4gICAgICBtaW5fY291bnQgPSAzO1xuXG4gICAgfSBlbHNlIGlmIChjdXJsZW4gPT09IG5leHRsZW4pIHtcbiAgICAgIG1heF9jb3VudCA9IDY7XG4gICAgICBtaW5fY291bnQgPSAzO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIG1heF9jb3VudCA9IDc7XG4gICAgICBtaW5fY291bnQgPSA0O1xuICAgIH1cbiAgfVxufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNlbmQgYSBsaXRlcmFsIG9yIGRpc3RhbmNlIHRyZWUgaW4gY29tcHJlc3NlZCBmb3JtLCB1c2luZyB0aGUgY29kZXMgaW5cbiAqIGJsX3RyZWUuXG4gKi9cbmNvbnN0IHNlbmRfdHJlZSA9IChzLCB0cmVlLCBtYXhfY29kZSkgPT4ge1xuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIGN0X2RhdGEgKnRyZWU7IC8qIHRoZSB0cmVlIHRvIGJlIHNjYW5uZWQgKi9cbi8vICAgIGludCBtYXhfY29kZTsgICAgICAgLyogYW5kIGl0cyBsYXJnZXN0IGNvZGUgb2Ygbm9uIHplcm8gZnJlcXVlbmN5ICovXG5cbiAgbGV0IG47ICAgICAgICAgICAgICAgICAgICAgLyogaXRlcmF0ZXMgb3ZlciBhbGwgdHJlZSBlbGVtZW50cyAqL1xuICBsZXQgcHJldmxlbiA9IC0xOyAgICAgICAgICAvKiBsYXN0IGVtaXR0ZWQgbGVuZ3RoICovXG4gIGxldCBjdXJsZW47ICAgICAgICAgICAgICAgIC8qIGxlbmd0aCBvZiBjdXJyZW50IGNvZGUgKi9cblxuICBsZXQgbmV4dGxlbiA9IHRyZWVbMCAqIDIgKyAxXS8qLkxlbiovOyAvKiBsZW5ndGggb2YgbmV4dCBjb2RlICovXG5cbiAgbGV0IGNvdW50ID0gMDsgICAgICAgICAgICAgLyogcmVwZWF0IGNvdW50IG9mIHRoZSBjdXJyZW50IGNvZGUgKi9cbiAgbGV0IG1heF9jb3VudCA9IDc7ICAgICAgICAgLyogbWF4IHJlcGVhdCBjb3VudCAqL1xuICBsZXQgbWluX2NvdW50ID0gNDsgICAgICAgICAvKiBtaW4gcmVwZWF0IGNvdW50ICovXG5cbiAgLyogdHJlZVttYXhfY29kZSsxXS5MZW4gPSAtMTsgKi8gIC8qIGd1YXJkIGFscmVhZHkgc2V0ICovXG4gIGlmIChuZXh0bGVuID09PSAwKSB7XG4gICAgbWF4X2NvdW50ID0gMTM4O1xuICAgIG1pbl9jb3VudCA9IDM7XG4gIH1cblxuICBmb3IgKG4gPSAwOyBuIDw9IG1heF9jb2RlOyBuKyspIHtcbiAgICBjdXJsZW4gPSBuZXh0bGVuO1xuICAgIG5leHRsZW4gPSB0cmVlWyhuICsgMSkgKiAyICsgMV0vKi5MZW4qLztcblxuICAgIGlmICgrK2NvdW50IDwgbWF4X2NvdW50ICYmIGN1cmxlbiA9PT0gbmV4dGxlbikge1xuICAgICAgY29udGludWU7XG5cbiAgICB9IGVsc2UgaWYgKGNvdW50IDwgbWluX2NvdW50KSB7XG4gICAgICBkbyB7IHNlbmRfY29kZShzLCBjdXJsZW4sIHMuYmxfdHJlZSk7IH0gd2hpbGUgKC0tY291bnQgIT09IDApO1xuXG4gICAgfSBlbHNlIGlmIChjdXJsZW4gIT09IDApIHtcbiAgICAgIGlmIChjdXJsZW4gIT09IHByZXZsZW4pIHtcbiAgICAgICAgc2VuZF9jb2RlKHMsIGN1cmxlbiwgcy5ibF90cmVlKTtcbiAgICAgICAgY291bnQtLTtcbiAgICAgIH1cbiAgICAgIC8vQXNzZXJ0KGNvdW50ID49IDMgJiYgY291bnQgPD0gNiwgXCIgM182P1wiKTtcbiAgICAgIHNlbmRfY29kZShzLCBSRVBfM182LCBzLmJsX3RyZWUpO1xuICAgICAgc2VuZF9iaXRzKHMsIGNvdW50IC0gMywgMik7XG5cbiAgICB9IGVsc2UgaWYgKGNvdW50IDw9IDEwKSB7XG4gICAgICBzZW5kX2NvZGUocywgUkVQWl8zXzEwLCBzLmJsX3RyZWUpO1xuICAgICAgc2VuZF9iaXRzKHMsIGNvdW50IC0gMywgMyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgc2VuZF9jb2RlKHMsIFJFUFpfMTFfMTM4LCBzLmJsX3RyZWUpO1xuICAgICAgc2VuZF9iaXRzKHMsIGNvdW50IC0gMTEsIDcpO1xuICAgIH1cblxuICAgIGNvdW50ID0gMDtcbiAgICBwcmV2bGVuID0gY3VybGVuO1xuICAgIGlmIChuZXh0bGVuID09PSAwKSB7XG4gICAgICBtYXhfY291bnQgPSAxMzg7XG4gICAgICBtaW5fY291bnQgPSAzO1xuXG4gICAgfSBlbHNlIGlmIChjdXJsZW4gPT09IG5leHRsZW4pIHtcbiAgICAgIG1heF9jb3VudCA9IDY7XG4gICAgICBtaW5fY291bnQgPSAzO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIG1heF9jb3VudCA9IDc7XG4gICAgICBtaW5fY291bnQgPSA0O1xuICAgIH1cbiAgfVxufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvbnN0cnVjdCB0aGUgSHVmZm1hbiB0cmVlIGZvciB0aGUgYml0IGxlbmd0aHMgYW5kIHJldHVybiB0aGUgaW5kZXggaW5cbiAqIGJsX29yZGVyIG9mIHRoZSBsYXN0IGJpdCBsZW5ndGggY29kZSB0byBzZW5kLlxuICovXG5jb25zdCBidWlsZF9ibF90cmVlID0gKHMpID0+IHtcblxuICBsZXQgbWF4X2JsaW5kZXg7ICAvKiBpbmRleCBvZiBsYXN0IGJpdCBsZW5ndGggY29kZSBvZiBub24gemVybyBmcmVxICovXG5cbiAgLyogRGV0ZXJtaW5lIHRoZSBiaXQgbGVuZ3RoIGZyZXF1ZW5jaWVzIGZvciBsaXRlcmFsIGFuZCBkaXN0YW5jZSB0cmVlcyAqL1xuICBzY2FuX3RyZWUocywgcy5keW5fbHRyZWUsIHMubF9kZXNjLm1heF9jb2RlKTtcbiAgc2Nhbl90cmVlKHMsIHMuZHluX2R0cmVlLCBzLmRfZGVzYy5tYXhfY29kZSk7XG5cbiAgLyogQnVpbGQgdGhlIGJpdCBsZW5ndGggdHJlZTogKi9cbiAgYnVpbGRfdHJlZShzLCBzLmJsX2Rlc2MpO1xuICAvKiBvcHRfbGVuIG5vdyBpbmNsdWRlcyB0aGUgbGVuZ3RoIG9mIHRoZSB0cmVlIHJlcHJlc2VudGF0aW9ucywgZXhjZXB0XG4gICAqIHRoZSBsZW5ndGhzIG9mIHRoZSBiaXQgbGVuZ3RocyBjb2RlcyBhbmQgdGhlIDUrNSs0IGJpdHMgZm9yIHRoZSBjb3VudHMuXG4gICAqL1xuXG4gIC8qIERldGVybWluZSB0aGUgbnVtYmVyIG9mIGJpdCBsZW5ndGggY29kZXMgdG8gc2VuZC4gVGhlIHBremlwIGZvcm1hdFxuICAgKiByZXF1aXJlcyB0aGF0IGF0IGxlYXN0IDQgYml0IGxlbmd0aCBjb2RlcyBiZSBzZW50LiAoYXBwbm90ZS50eHQgc2F5c1xuICAgKiAzIGJ1dCB0aGUgYWN0dWFsIHZhbHVlIHVzZWQgaXMgNC4pXG4gICAqL1xuICBmb3IgKG1heF9ibGluZGV4ID0gQkxfQ09ERVMkMSAtIDE7IG1heF9ibGluZGV4ID49IDM7IG1heF9ibGluZGV4LS0pIHtcbiAgICBpZiAocy5ibF90cmVlW2JsX29yZGVyW21heF9ibGluZGV4XSAqIDIgKyAxXS8qLkxlbiovICE9PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgLyogVXBkYXRlIG9wdF9sZW4gdG8gaW5jbHVkZSB0aGUgYml0IGxlbmd0aCB0cmVlIGFuZCBjb3VudHMgKi9cbiAgcy5vcHRfbGVuICs9IDMgKiAobWF4X2JsaW5kZXggKyAxKSArIDUgKyA1ICsgNDtcbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJcXG5keW4gdHJlZXM6IGR5biAlbGQsIHN0YXQgJWxkXCIsXG4gIC8vICAgICAgICBzLT5vcHRfbGVuLCBzLT5zdGF0aWNfbGVuKSk7XG5cbiAgcmV0dXJuIG1heF9ibGluZGV4O1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNlbmQgdGhlIGhlYWRlciBmb3IgYSBibG9jayB1c2luZyBkeW5hbWljIEh1ZmZtYW4gdHJlZXM6IHRoZSBjb3VudHMsIHRoZVxuICogbGVuZ3RocyBvZiB0aGUgYml0IGxlbmd0aCBjb2RlcywgdGhlIGxpdGVyYWwgdHJlZSBhbmQgdGhlIGRpc3RhbmNlIHRyZWUuXG4gKiBJTiBhc3NlcnRpb246IGxjb2RlcyA+PSAyNTcsIGRjb2RlcyA+PSAxLCBibGNvZGVzID49IDQuXG4gKi9cbmNvbnN0IHNlbmRfYWxsX3RyZWVzID0gKHMsIGxjb2RlcywgZGNvZGVzLCBibGNvZGVzKSA9PiB7XG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgaW50IGxjb2RlcywgZGNvZGVzLCBibGNvZGVzOyAvKiBudW1iZXIgb2YgY29kZXMgZm9yIGVhY2ggdHJlZSAqL1xuXG4gIGxldCByYW5rOyAgICAgICAgICAgICAgICAgICAgLyogaW5kZXggaW4gYmxfb3JkZXIgKi9cblxuICAvL0Fzc2VydCAobGNvZGVzID49IDI1NyAmJiBkY29kZXMgPj0gMSAmJiBibGNvZGVzID49IDQsIFwibm90IGVub3VnaCBjb2Rlc1wiKTtcbiAgLy9Bc3NlcnQgKGxjb2RlcyA8PSBMX0NPREVTICYmIGRjb2RlcyA8PSBEX0NPREVTICYmIGJsY29kZXMgPD0gQkxfQ09ERVMsXG4gIC8vICAgICAgICBcInRvbyBtYW55IGNvZGVzXCIpO1xuICAvL1RyYWNldigoc3RkZXJyLCBcIlxcbmJsIGNvdW50czogXCIpKTtcbiAgc2VuZF9iaXRzKHMsIGxjb2RlcyAtIDI1NywgNSk7IC8qIG5vdCArMjU1IGFzIHN0YXRlZCBpbiBhcHBub3RlLnR4dCAqL1xuICBzZW5kX2JpdHMocywgZGNvZGVzIC0gMSwgICA1KTtcbiAgc2VuZF9iaXRzKHMsIGJsY29kZXMgLSA0LCAgNCk7IC8qIG5vdCAtMyBhcyBzdGF0ZWQgaW4gYXBwbm90ZS50eHQgKi9cbiAgZm9yIChyYW5rID0gMDsgcmFuayA8IGJsY29kZXM7IHJhbmsrKykge1xuICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxuYmwgY29kZSAlMmQgXCIsIGJsX29yZGVyW3JhbmtdKSk7XG4gICAgc2VuZF9iaXRzKHMsIHMuYmxfdHJlZVtibF9vcmRlcltyYW5rXSAqIDIgKyAxXS8qLkxlbiovLCAzKTtcbiAgfVxuICAvL1RyYWNldigoc3RkZXJyLCBcIlxcbmJsIHRyZWU6IHNlbnQgJWxkXCIsIHMtPmJpdHNfc2VudCkpO1xuXG4gIHNlbmRfdHJlZShzLCBzLmR5bl9sdHJlZSwgbGNvZGVzIC0gMSk7IC8qIGxpdGVyYWwgdHJlZSAqL1xuICAvL1RyYWNldigoc3RkZXJyLCBcIlxcbmxpdCB0cmVlOiBzZW50ICVsZFwiLCBzLT5iaXRzX3NlbnQpKTtcblxuICBzZW5kX3RyZWUocywgcy5keW5fZHRyZWUsIGRjb2RlcyAtIDEpOyAvKiBkaXN0YW5jZSB0cmVlICovXG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxuZGlzdCB0cmVlOiBzZW50ICVsZFwiLCBzLT5iaXRzX3NlbnQpKTtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDaGVjayBpZiB0aGUgZGF0YSB0eXBlIGlzIFRFWFQgb3IgQklOQVJZLCB1c2luZyB0aGUgZm9sbG93aW5nIGFsZ29yaXRobTpcbiAqIC0gVEVYVCBpZiB0aGUgdHdvIGNvbmRpdGlvbnMgYmVsb3cgYXJlIHNhdGlzZmllZDpcbiAqICAgIGEpIFRoZXJlIGFyZSBubyBub24tcG9ydGFibGUgY29udHJvbCBjaGFyYWN0ZXJzIGJlbG9uZ2luZyB0byB0aGVcbiAqICAgICAgIFwiYmxvY2sgbGlzdFwiICgwLi42LCAxNC4uMjUsIDI4Li4zMSkuXG4gKiAgICBiKSBUaGVyZSBpcyBhdCBsZWFzdCBvbmUgcHJpbnRhYmxlIGNoYXJhY3RlciBiZWxvbmdpbmcgdG8gdGhlXG4gKiAgICAgICBcImFsbG93IGxpc3RcIiAoOSB7VEFCfSwgMTAge0xGfSwgMTMge0NSfSwgMzIuLjI1NSkuXG4gKiAtIEJJTkFSWSBvdGhlcndpc2UuXG4gKiAtIFRoZSBmb2xsb3dpbmcgcGFydGlhbGx5LXBvcnRhYmxlIGNvbnRyb2wgY2hhcmFjdGVycyBmb3JtIGFcbiAqICAgXCJncmF5IGxpc3RcIiB0aGF0IGlzIGlnbm9yZWQgaW4gdGhpcyBkZXRlY3Rpb24gYWxnb3JpdGhtOlxuICogICAoNyB7QkVMfSwgOCB7QlN9LCAxMSB7VlR9LCAxMiB7RkZ9LCAyNiB7U1VCfSwgMjcge0VTQ30pLlxuICogSU4gYXNzZXJ0aW9uOiB0aGUgZmllbGRzIEZyZXEgb2YgZHluX2x0cmVlIGFyZSBzZXQuXG4gKi9cbmNvbnN0IGRldGVjdF9kYXRhX3R5cGUgPSAocykgPT4ge1xuICAvKiBibG9ja19tYXNrIGlzIHRoZSBiaXQgbWFzayBvZiBibG9jay1saXN0ZWQgYnl0ZXNcbiAgICogc2V0IGJpdHMgMC4uNiwgMTQuLjI1LCBhbmQgMjguLjMxXG4gICAqIDB4ZjNmZmMwN2YgPSBiaW5hcnkgMTExMTAwMTExMTExMTExMTExMDAwMDAwMDExMTExMTFcbiAgICovXG4gIGxldCBibG9ja19tYXNrID0gMHhmM2ZmYzA3ZjtcbiAgbGV0IG47XG5cbiAgLyogQ2hlY2sgZm9yIG5vbi10ZXh0dWFsIChcImJsb2NrLWxpc3RlZFwiKSBieXRlcy4gKi9cbiAgZm9yIChuID0gMDsgbiA8PSAzMTsgbisrLCBibG9ja19tYXNrID4+Pj0gMSkge1xuICAgIGlmICgoYmxvY2tfbWFzayAmIDEpICYmIChzLmR5bl9sdHJlZVtuICogMl0vKi5GcmVxKi8gIT09IDApKSB7XG4gICAgICByZXR1cm4gWl9CSU5BUlk7XG4gICAgfVxuICB9XG5cbiAgLyogQ2hlY2sgZm9yIHRleHR1YWwgKFwiYWxsb3ctbGlzdGVkXCIpIGJ5dGVzLiAqL1xuICBpZiAocy5keW5fbHRyZWVbOSAqIDJdLyouRnJlcSovICE9PSAwIHx8IHMuZHluX2x0cmVlWzEwICogMl0vKi5GcmVxKi8gIT09IDAgfHxcbiAgICAgIHMuZHluX2x0cmVlWzEzICogMl0vKi5GcmVxKi8gIT09IDApIHtcbiAgICByZXR1cm4gWl9URVhUO1xuICB9XG4gIGZvciAobiA9IDMyOyBuIDwgTElURVJBTFMkMTsgbisrKSB7XG4gICAgaWYgKHMuZHluX2x0cmVlW24gKiAyXS8qLkZyZXEqLyAhPT0gMCkge1xuICAgICAgcmV0dXJuIFpfVEVYVDtcbiAgICB9XG4gIH1cblxuICAvKiBUaGVyZSBhcmUgbm8gXCJibG9jay1saXN0ZWRcIiBvciBcImFsbG93LWxpc3RlZFwiIGJ5dGVzOlxuICAgKiB0aGlzIHN0cmVhbSBlaXRoZXIgaXMgZW1wdHkgb3IgaGFzIHRvbGVyYXRlZCAoXCJncmF5LWxpc3RlZFwiKSBieXRlcyBvbmx5LlxuICAgKi9cbiAgcmV0dXJuIFpfQklOQVJZO1xufTtcblxuXG5sZXQgc3RhdGljX2luaXRfZG9uZSA9IGZhbHNlO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEluaXRpYWxpemUgdGhlIHRyZWUgZGF0YSBzdHJ1Y3R1cmVzIGZvciBhIG5ldyB6bGliIHN0cmVhbS5cbiAqL1xuY29uc3QgX3RyX2luaXQkMSA9IChzKSA9Plxue1xuXG4gIGlmICghc3RhdGljX2luaXRfZG9uZSkge1xuICAgIHRyX3N0YXRpY19pbml0KCk7XG4gICAgc3RhdGljX2luaXRfZG9uZSA9IHRydWU7XG4gIH1cblxuICBzLmxfZGVzYyAgPSBuZXcgVHJlZURlc2Mocy5keW5fbHRyZWUsIHN0YXRpY19sX2Rlc2MpO1xuICBzLmRfZGVzYyAgPSBuZXcgVHJlZURlc2Mocy5keW5fZHRyZWUsIHN0YXRpY19kX2Rlc2MpO1xuICBzLmJsX2Rlc2MgPSBuZXcgVHJlZURlc2Mocy5ibF90cmVlLCBzdGF0aWNfYmxfZGVzYyk7XG5cbiAgcy5iaV9idWYgPSAwO1xuICBzLmJpX3ZhbGlkID0gMDtcblxuICAvKiBJbml0aWFsaXplIHRoZSBmaXJzdCBibG9jayBvZiB0aGUgZmlyc3QgZmlsZTogKi9cbiAgaW5pdF9ibG9jayhzKTtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTZW5kIGEgc3RvcmVkIGJsb2NrXG4gKi9cbmNvbnN0IF90cl9zdG9yZWRfYmxvY2skMSA9IChzLCBidWYsIHN0b3JlZF9sZW4sIGxhc3QpID0+IHtcbi8vRGVmbGF0ZVN0YXRlICpzO1xuLy9jaGFyZiAqYnVmOyAgICAgICAvKiBpbnB1dCBibG9jayAqL1xuLy91bGcgc3RvcmVkX2xlbjsgICAvKiBsZW5ndGggb2YgaW5wdXQgYmxvY2sgKi9cbi8vaW50IGxhc3Q7ICAgICAgICAgLyogb25lIGlmIHRoaXMgaXMgdGhlIGxhc3QgYmxvY2sgZm9yIGEgZmlsZSAqL1xuXG4gIHNlbmRfYml0cyhzLCAoU1RPUkVEX0JMT0NLIDw8IDEpICsgKGxhc3QgPyAxIDogMCksIDMpOyAgICAvKiBzZW5kIGJsb2NrIHR5cGUgKi9cbiAgYmlfd2luZHVwKHMpOyAgICAgICAgLyogYWxpZ24gb24gYnl0ZSBib3VuZGFyeSAqL1xuICBwdXRfc2hvcnQocywgc3RvcmVkX2xlbik7XG4gIHB1dF9zaG9ydChzLCB+c3RvcmVkX2xlbik7XG4gIGlmIChzdG9yZWRfbGVuKSB7XG4gICAgcy5wZW5kaW5nX2J1Zi5zZXQocy53aW5kb3cuc3ViYXJyYXkoYnVmLCBidWYgKyBzdG9yZWRfbGVuKSwgcy5wZW5kaW5nKTtcbiAgfVxuICBzLnBlbmRpbmcgKz0gc3RvcmVkX2xlbjtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTZW5kIG9uZSBlbXB0eSBzdGF0aWMgYmxvY2sgdG8gZ2l2ZSBlbm91Z2ggbG9va2FoZWFkIGZvciBpbmZsYXRlLlxuICogVGhpcyB0YWtlcyAxMCBiaXRzLCBvZiB3aGljaCA3IG1heSByZW1haW4gaW4gdGhlIGJpdCBidWZmZXIuXG4gKi9cbmNvbnN0IF90cl9hbGlnbiQxID0gKHMpID0+IHtcbiAgc2VuZF9iaXRzKHMsIFNUQVRJQ19UUkVFUyA8PCAxLCAzKTtcbiAgc2VuZF9jb2RlKHMsIEVORF9CTE9DSywgc3RhdGljX2x0cmVlKTtcbiAgYmlfZmx1c2gocyk7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogRGV0ZXJtaW5lIHRoZSBiZXN0IGVuY29kaW5nIGZvciB0aGUgY3VycmVudCBibG9jazogZHluYW1pYyB0cmVlcywgc3RhdGljXG4gKiB0cmVlcyBvciBzdG9yZSwgYW5kIHdyaXRlIG91dCB0aGUgZW5jb2RlZCBibG9jay5cbiAqL1xuY29uc3QgX3RyX2ZsdXNoX2Jsb2NrJDEgPSAocywgYnVmLCBzdG9yZWRfbGVuLCBsYXN0KSA9PiB7XG4vL0RlZmxhdGVTdGF0ZSAqcztcbi8vY2hhcmYgKmJ1ZjsgICAgICAgLyogaW5wdXQgYmxvY2ssIG9yIE5VTEwgaWYgdG9vIG9sZCAqL1xuLy91bGcgc3RvcmVkX2xlbjsgICAvKiBsZW5ndGggb2YgaW5wdXQgYmxvY2sgKi9cbi8vaW50IGxhc3Q7ICAgICAgICAgLyogb25lIGlmIHRoaXMgaXMgdGhlIGxhc3QgYmxvY2sgZm9yIGEgZmlsZSAqL1xuXG4gIGxldCBvcHRfbGVuYiwgc3RhdGljX2xlbmI7ICAvKiBvcHRfbGVuIGFuZCBzdGF0aWNfbGVuIGluIGJ5dGVzICovXG4gIGxldCBtYXhfYmxpbmRleCA9IDA7ICAgICAgICAvKiBpbmRleCBvZiBsYXN0IGJpdCBsZW5ndGggY29kZSBvZiBub24gemVybyBmcmVxICovXG5cbiAgLyogQnVpbGQgdGhlIEh1ZmZtYW4gdHJlZXMgdW5sZXNzIGEgc3RvcmVkIGJsb2NrIGlzIGZvcmNlZCAqL1xuICBpZiAocy5sZXZlbCA+IDApIHtcblxuICAgIC8qIENoZWNrIGlmIHRoZSBmaWxlIGlzIGJpbmFyeSBvciB0ZXh0ICovXG4gICAgaWYgKHMuc3RybS5kYXRhX3R5cGUgPT09IFpfVU5LTk9XTiQxKSB7XG4gICAgICBzLnN0cm0uZGF0YV90eXBlID0gZGV0ZWN0X2RhdGFfdHlwZShzKTtcbiAgICB9XG5cbiAgICAvKiBDb25zdHJ1Y3QgdGhlIGxpdGVyYWwgYW5kIGRpc3RhbmNlIHRyZWVzICovXG4gICAgYnVpbGRfdHJlZShzLCBzLmxfZGVzYyk7XG4gICAgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxubGl0IGRhdGE6IGR5biAlbGQsIHN0YXQgJWxkXCIsIHMtPm9wdF9sZW4sXG4gICAgLy8gICAgICAgIHMtPnN0YXRpY19sZW4pKTtcblxuICAgIGJ1aWxkX3RyZWUocywgcy5kX2Rlc2MpO1xuICAgIC8vIFRyYWNldigoc3RkZXJyLCBcIlxcbmRpc3QgZGF0YTogZHluICVsZCwgc3RhdCAlbGRcIiwgcy0+b3B0X2xlbixcbiAgICAvLyAgICAgICAgcy0+c3RhdGljX2xlbikpO1xuICAgIC8qIEF0IHRoaXMgcG9pbnQsIG9wdF9sZW4gYW5kIHN0YXRpY19sZW4gYXJlIHRoZSB0b3RhbCBiaXQgbGVuZ3RocyBvZlxuICAgICAqIHRoZSBjb21wcmVzc2VkIGJsb2NrIGRhdGEsIGV4Y2x1ZGluZyB0aGUgdHJlZSByZXByZXNlbnRhdGlvbnMuXG4gICAgICovXG5cbiAgICAvKiBCdWlsZCB0aGUgYml0IGxlbmd0aCB0cmVlIGZvciB0aGUgYWJvdmUgdHdvIHRyZWVzLCBhbmQgZ2V0IHRoZSBpbmRleFxuICAgICAqIGluIGJsX29yZGVyIG9mIHRoZSBsYXN0IGJpdCBsZW5ndGggY29kZSB0byBzZW5kLlxuICAgICAqL1xuICAgIG1heF9ibGluZGV4ID0gYnVpbGRfYmxfdHJlZShzKTtcblxuICAgIC8qIERldGVybWluZSB0aGUgYmVzdCBlbmNvZGluZy4gQ29tcHV0ZSB0aGUgYmxvY2sgbGVuZ3RocyBpbiBieXRlcy4gKi9cbiAgICBvcHRfbGVuYiA9IChzLm9wdF9sZW4gKyAzICsgNykgPj4+IDM7XG4gICAgc3RhdGljX2xlbmIgPSAocy5zdGF0aWNfbGVuICsgMyArIDcpID4+PiAzO1xuXG4gICAgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxub3B0ICVsdSglbHUpIHN0YXQgJWx1KCVsdSkgc3RvcmVkICVsdSBsaXQgJXUgXCIsXG4gICAgLy8gICAgICAgIG9wdF9sZW5iLCBzLT5vcHRfbGVuLCBzdGF0aWNfbGVuYiwgcy0+c3RhdGljX2xlbiwgc3RvcmVkX2xlbixcbiAgICAvLyAgICAgICAgcy0+c3ltX25leHQgLyAzKSk7XG5cbiAgICBpZiAoc3RhdGljX2xlbmIgPD0gb3B0X2xlbmIpIHsgb3B0X2xlbmIgPSBzdGF0aWNfbGVuYjsgfVxuXG4gIH0gZWxzZSB7XG4gICAgLy8gQXNzZXJ0KGJ1ZiAhPSAoY2hhciopMCwgXCJsb3N0IGJ1ZlwiKTtcbiAgICBvcHRfbGVuYiA9IHN0YXRpY19sZW5iID0gc3RvcmVkX2xlbiArIDU7IC8qIGZvcmNlIGEgc3RvcmVkIGJsb2NrICovXG4gIH1cblxuICBpZiAoKHN0b3JlZF9sZW4gKyA0IDw9IG9wdF9sZW5iKSAmJiAoYnVmICE9PSAtMSkpIHtcbiAgICAvKiA0OiB0d28gd29yZHMgZm9yIHRoZSBsZW5ndGhzICovXG5cbiAgICAvKiBUaGUgdGVzdCBidWYgIT0gTlVMTCBpcyBvbmx5IG5lY2Vzc2FyeSBpZiBMSVRfQlVGU0laRSA+IFdTSVpFLlxuICAgICAqIE90aGVyd2lzZSB3ZSBjYW4ndCBoYXZlIHByb2Nlc3NlZCBtb3JlIHRoYW4gV1NJWkUgaW5wdXQgYnl0ZXMgc2luY2VcbiAgICAgKiB0aGUgbGFzdCBibG9jayBmbHVzaCwgYmVjYXVzZSBjb21wcmVzc2lvbiB3b3VsZCBoYXZlIGJlZW5cbiAgICAgKiBzdWNjZXNzZnVsLiBJZiBMSVRfQlVGU0laRSA8PSBXU0laRSwgaXQgaXMgbmV2ZXIgdG9vIGxhdGUgdG9cbiAgICAgKiB0cmFuc2Zvcm0gYSBibG9jayBpbnRvIGEgc3RvcmVkIGJsb2NrLlxuICAgICAqL1xuICAgIF90cl9zdG9yZWRfYmxvY2skMShzLCBidWYsIHN0b3JlZF9sZW4sIGxhc3QpO1xuXG4gIH0gZWxzZSBpZiAocy5zdHJhdGVneSA9PT0gWl9GSVhFRCQxIHx8IHN0YXRpY19sZW5iID09PSBvcHRfbGVuYikge1xuXG4gICAgc2VuZF9iaXRzKHMsIChTVEFUSUNfVFJFRVMgPDwgMSkgKyAobGFzdCA/IDEgOiAwKSwgMyk7XG4gICAgY29tcHJlc3NfYmxvY2socywgc3RhdGljX2x0cmVlLCBzdGF0aWNfZHRyZWUpO1xuXG4gIH0gZWxzZSB7XG4gICAgc2VuZF9iaXRzKHMsIChEWU5fVFJFRVMgPDwgMSkgKyAobGFzdCA/IDEgOiAwKSwgMyk7XG4gICAgc2VuZF9hbGxfdHJlZXMocywgcy5sX2Rlc2MubWF4X2NvZGUgKyAxLCBzLmRfZGVzYy5tYXhfY29kZSArIDEsIG1heF9ibGluZGV4ICsgMSk7XG4gICAgY29tcHJlc3NfYmxvY2socywgcy5keW5fbHRyZWUsIHMuZHluX2R0cmVlKTtcbiAgfVxuICAvLyBBc3NlcnQgKHMtPmNvbXByZXNzZWRfbGVuID09IHMtPmJpdHNfc2VudCwgXCJiYWQgY29tcHJlc3NlZCBzaXplXCIpO1xuICAvKiBUaGUgYWJvdmUgY2hlY2sgaXMgbWFkZSBtb2QgMl4zMiwgZm9yIGZpbGVzIGxhcmdlciB0aGFuIDUxMiBNQlxuICAgKiBhbmQgdUxvbmcgaW1wbGVtZW50ZWQgb24gMzIgYml0cy5cbiAgICovXG4gIGluaXRfYmxvY2socyk7XG5cbiAgaWYgKGxhc3QpIHtcbiAgICBiaV93aW5kdXAocyk7XG4gIH1cbiAgLy8gVHJhY2V2KChzdGRlcnIsXCJcXG5jb21wcmxlbiAlbHUoJWx1KSBcIiwgcy0+Y29tcHJlc3NlZF9sZW4+PjMsXG4gIC8vICAgICAgIHMtPmNvbXByZXNzZWRfbGVuLTcqbGFzdCkpO1xufTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTYXZlIHRoZSBtYXRjaCBpbmZvIGFuZCB0YWxseSB0aGUgZnJlcXVlbmN5IGNvdW50cy4gUmV0dXJuIHRydWUgaWZcbiAqIHRoZSBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZC5cbiAqL1xuY29uc3QgX3RyX3RhbGx5JDEgPSAocywgZGlzdCwgbGMpID0+IHtcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICB1bnNpZ25lZCBkaXN0OyAgLyogZGlzdGFuY2Ugb2YgbWF0Y2hlZCBzdHJpbmcgKi9cbi8vICAgIHVuc2lnbmVkIGxjOyAgICAvKiBtYXRjaCBsZW5ndGgtTUlOX01BVENIIG9yIHVubWF0Y2hlZCBjaGFyIChpZiBkaXN0PT0wKSAqL1xuXG4gIHMucGVuZGluZ19idWZbcy5zeW1fYnVmICsgcy5zeW1fbmV4dCsrXSA9IGRpc3Q7XG4gIHMucGVuZGluZ19idWZbcy5zeW1fYnVmICsgcy5zeW1fbmV4dCsrXSA9IGRpc3QgPj4gODtcbiAgcy5wZW5kaW5nX2J1ZltzLnN5bV9idWYgKyBzLnN5bV9uZXh0KytdID0gbGM7XG4gIGlmIChkaXN0ID09PSAwKSB7XG4gICAgLyogbGMgaXMgdGhlIHVubWF0Y2hlZCBjaGFyICovXG4gICAgcy5keW5fbHRyZWVbbGMgKiAyXS8qLkZyZXEqLysrO1xuICB9IGVsc2Uge1xuICAgIHMubWF0Y2hlcysrO1xuICAgIC8qIEhlcmUsIGxjIGlzIHRoZSBtYXRjaCBsZW5ndGggLSBNSU5fTUFUQ0ggKi9cbiAgICBkaXN0LS07ICAgICAgICAgICAgIC8qIGRpc3QgPSBtYXRjaCBkaXN0YW5jZSAtIDEgKi9cbiAgICAvL0Fzc2VydCgodXNoKWRpc3QgPCAodXNoKU1BWF9ESVNUKHMpICYmXG4gICAgLy8gICAgICAgKHVzaClsYyA8PSAodXNoKShNQVhfTUFUQ0gtTUlOX01BVENIKSAmJlxuICAgIC8vICAgICAgICh1c2gpZF9jb2RlKGRpc3QpIDwgKHVzaClEX0NPREVTLCAgXCJfdHJfdGFsbHk6IGJhZCBtYXRjaFwiKTtcblxuICAgIHMuZHluX2x0cmVlWyhfbGVuZ3RoX2NvZGVbbGNdICsgTElURVJBTFMkMSArIDEpICogMl0vKi5GcmVxKi8rKztcbiAgICBzLmR5bl9kdHJlZVtkX2NvZGUoZGlzdCkgKiAyXS8qLkZyZXEqLysrO1xuICB9XG5cbiAgcmV0dXJuIChzLnN5bV9uZXh0ID09PSBzLnN5bV9lbmQpO1xufTtcblxudmFyIF90cl9pbml0XzEgID0gX3RyX2luaXQkMTtcbnZhciBfdHJfc3RvcmVkX2Jsb2NrXzEgPSBfdHJfc3RvcmVkX2Jsb2NrJDE7XG52YXIgX3RyX2ZsdXNoX2Jsb2NrXzEgID0gX3RyX2ZsdXNoX2Jsb2NrJDE7XG52YXIgX3RyX3RhbGx5XzEgPSBfdHJfdGFsbHkkMTtcbnZhciBfdHJfYWxpZ25fMSA9IF90cl9hbGlnbiQxO1xuXG52YXIgdHJlZXMgPSB7XG5cdF90cl9pbml0OiBfdHJfaW5pdF8xLFxuXHRfdHJfc3RvcmVkX2Jsb2NrOiBfdHJfc3RvcmVkX2Jsb2NrXzEsXG5cdF90cl9mbHVzaF9ibG9jazogX3RyX2ZsdXNoX2Jsb2NrXzEsXG5cdF90cl90YWxseTogX3RyX3RhbGx5XzEsXG5cdF90cl9hbGlnbjogX3RyX2FsaWduXzFcbn07XG5cbi8vIE5vdGU6IGFkbGVyMzIgdGFrZXMgMTIlIGZvciBsZXZlbCAwIGFuZCAyJSBmb3IgbGV2ZWwgNi5cbi8vIEl0IGlzbid0IHdvcnRoIGl0IHRvIG1ha2UgYWRkaXRpb25hbCBvcHRpbWl6YXRpb25zIGFzIGluIG9yaWdpbmFsLlxuLy8gU21hbGwgc2l6ZSBpcyBwcmVmZXJhYmxlLlxuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbmNvbnN0IGFkbGVyMzIgPSAoYWRsZXIsIGJ1ZiwgbGVuLCBwb3MpID0+IHtcbiAgbGV0IHMxID0gKGFkbGVyICYgMHhmZmZmKSB8MCxcbiAgICAgIHMyID0gKChhZGxlciA+Pj4gMTYpICYgMHhmZmZmKSB8MCxcbiAgICAgIG4gPSAwO1xuXG4gIHdoaWxlIChsZW4gIT09IDApIHtcbiAgICAvLyBTZXQgbGltaXQgfiB0d2ljZSBsZXNzIHRoYW4gNTU1MiwgdG8ga2VlcFxuICAgIC8vIHMyIGluIDMxLWJpdHMsIGJlY2F1c2Ugd2UgZm9yY2Ugc2lnbmVkIGludHMuXG4gICAgLy8gaW4gb3RoZXIgY2FzZSAlPSB3aWxsIGZhaWwuXG4gICAgbiA9IGxlbiA+IDIwMDAgPyAyMDAwIDogbGVuO1xuICAgIGxlbiAtPSBuO1xuXG4gICAgZG8ge1xuICAgICAgczEgPSAoczEgKyBidWZbcG9zKytdKSB8MDtcbiAgICAgIHMyID0gKHMyICsgczEpIHwwO1xuICAgIH0gd2hpbGUgKC0tbik7XG5cbiAgICBzMSAlPSA2NTUyMTtcbiAgICBzMiAlPSA2NTUyMTtcbiAgfVxuXG4gIHJldHVybiAoczEgfCAoczIgPDwgMTYpKSB8MDtcbn07XG5cblxudmFyIGFkbGVyMzJfMSA9IGFkbGVyMzI7XG5cbi8vIE5vdGU6IHdlIGNhbid0IGdldCBzaWduaWZpY2FudCBzcGVlZCBib29zdCBoZXJlLlxuLy8gU28gd3JpdGUgY29kZSB0byBtaW5pbWl6ZSBzaXplIC0gbm8gcHJlZ2VuZXJhdGVkIHRhYmxlc1xuLy8gYW5kIGFycmF5IHRvb2xzIGRlcGVuZGVuY2llcy5cblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG4vLyBVc2Ugb3JkaW5hcnkgYXJyYXksIHNpbmNlIHVudHlwZWQgbWFrZXMgbm8gYm9vc3QgaGVyZVxuY29uc3QgbWFrZVRhYmxlID0gKCkgPT4ge1xuICBsZXQgYywgdGFibGUgPSBbXTtcblxuICBmb3IgKHZhciBuID0gMDsgbiA8IDI1NjsgbisrKSB7XG4gICAgYyA9IG47XG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCA4OyBrKyspIHtcbiAgICAgIGMgPSAoKGMgJiAxKSA/ICgweEVEQjg4MzIwIF4gKGMgPj4+IDEpKSA6IChjID4+PiAxKSk7XG4gICAgfVxuICAgIHRhYmxlW25dID0gYztcbiAgfVxuXG4gIHJldHVybiB0YWJsZTtcbn07XG5cbi8vIENyZWF0ZSB0YWJsZSBvbiBsb2FkLiBKdXN0IDI1NSBzaWduZWQgbG9uZ3MuIE5vdCBhIHByb2JsZW0uXG5jb25zdCBjcmNUYWJsZSA9IG5ldyBVaW50MzJBcnJheShtYWtlVGFibGUoKSk7XG5cblxuY29uc3QgY3JjMzIgPSAoY3JjLCBidWYsIGxlbiwgcG9zKSA9PiB7XG4gIGNvbnN0IHQgPSBjcmNUYWJsZTtcbiAgY29uc3QgZW5kID0gcG9zICsgbGVuO1xuXG4gIGNyYyBePSAtMTtcblxuICBmb3IgKGxldCBpID0gcG9zOyBpIDwgZW5kOyBpKyspIHtcbiAgICBjcmMgPSAoY3JjID4+PiA4KSBeIHRbKGNyYyBeIGJ1ZltpXSkgJiAweEZGXTtcbiAgfVxuXG4gIHJldHVybiAoY3JjIF4gKC0xKSk7IC8vID4+PiAwO1xufTtcblxuXG52YXIgY3JjMzJfMSA9IGNyYzMyO1xuXG4vLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbi8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4vL1xuLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbi8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbi8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbi8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbi8vXG4vLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbi8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbi8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4vLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbi8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbnZhciBtZXNzYWdlcyA9IHtcbiAgMjogICAgICAnbmVlZCBkaWN0aW9uYXJ5JywgICAgIC8qIFpfTkVFRF9ESUNUICAgICAgIDIgICovXG4gIDE6ICAgICAgJ3N0cmVhbSBlbmQnLCAgICAgICAgICAvKiBaX1NUUkVBTV9FTkQgICAgICAxICAqL1xuICAwOiAgICAgICcnLCAgICAgICAgICAgICAgICAgICAgLyogWl9PSyAgICAgICAgICAgICAgMCAgKi9cbiAgJy0xJzogICAnZmlsZSBlcnJvcicsICAgICAgICAgIC8qIFpfRVJSTk8gICAgICAgICAoLTEpICovXG4gICctMic6ICAgJ3N0cmVhbSBlcnJvcicsICAgICAgICAvKiBaX1NUUkVBTV9FUlJPUiAgKC0yKSAqL1xuICAnLTMnOiAgICdkYXRhIGVycm9yJywgICAgICAgICAgLyogWl9EQVRBX0VSUk9SICAgICgtMykgKi9cbiAgJy00JzogICAnaW5zdWZmaWNpZW50IG1lbW9yeScsIC8qIFpfTUVNX0VSUk9SICAgICAoLTQpICovXG4gICctNSc6ICAgJ2J1ZmZlciBlcnJvcicsICAgICAgICAvKiBaX0JVRl9FUlJPUiAgICAgKC01KSAqL1xuICAnLTYnOiAgICdpbmNvbXBhdGlibGUgdmVyc2lvbicgLyogWl9WRVJTSU9OX0VSUk9SICgtNikgKi9cbn07XG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxudmFyIGNvbnN0YW50cyQyID0ge1xuXG4gIC8qIEFsbG93ZWQgZmx1c2ggdmFsdWVzOyBzZWUgZGVmbGF0ZSgpIGFuZCBpbmZsYXRlKCkgYmVsb3cgZm9yIGRldGFpbHMgKi9cbiAgWl9OT19GTFVTSDogICAgICAgICAwLFxuICBaX1BBUlRJQUxfRkxVU0g6ICAgIDEsXG4gIFpfU1lOQ19GTFVTSDogICAgICAgMixcbiAgWl9GVUxMX0ZMVVNIOiAgICAgICAzLFxuICBaX0ZJTklTSDogICAgICAgICAgIDQsXG4gIFpfQkxPQ0s6ICAgICAgICAgICAgNSxcbiAgWl9UUkVFUzogICAgICAgICAgICA2LFxuXG4gIC8qIFJldHVybiBjb2RlcyBmb3IgdGhlIGNvbXByZXNzaW9uL2RlY29tcHJlc3Npb24gZnVuY3Rpb25zLiBOZWdhdGl2ZSB2YWx1ZXNcbiAgKiBhcmUgZXJyb3JzLCBwb3NpdGl2ZSB2YWx1ZXMgYXJlIHVzZWQgZm9yIHNwZWNpYWwgYnV0IG5vcm1hbCBldmVudHMuXG4gICovXG4gIFpfT0s6ICAgICAgICAgICAgICAgMCxcbiAgWl9TVFJFQU1fRU5EOiAgICAgICAxLFxuICBaX05FRURfRElDVDogICAgICAgIDIsXG4gIFpfRVJSTk86ICAgICAgICAgICAtMSxcbiAgWl9TVFJFQU1fRVJST1I6ICAgIC0yLFxuICBaX0RBVEFfRVJST1I6ICAgICAgLTMsXG4gIFpfTUVNX0VSUk9SOiAgICAgICAtNCxcbiAgWl9CVUZfRVJST1I6ICAgICAgIC01LFxuICAvL1pfVkVSU0lPTl9FUlJPUjogLTYsXG5cbiAgLyogY29tcHJlc3Npb24gbGV2ZWxzICovXG4gIFpfTk9fQ09NUFJFU1NJT046ICAgICAgICAgMCxcbiAgWl9CRVNUX1NQRUVEOiAgICAgICAgICAgICAxLFxuICBaX0JFU1RfQ09NUFJFU1NJT046ICAgICAgIDksXG4gIFpfREVGQVVMVF9DT01QUkVTU0lPTjogICAtMSxcblxuXG4gIFpfRklMVEVSRUQ6ICAgICAgICAgICAgICAgMSxcbiAgWl9IVUZGTUFOX09OTFk6ICAgICAgICAgICAyLFxuICBaX1JMRTogICAgICAgICAgICAgICAgICAgIDMsXG4gIFpfRklYRUQ6ICAgICAgICAgICAgICAgICAgNCxcbiAgWl9ERUZBVUxUX1NUUkFURUdZOiAgICAgICAwLFxuXG4gIC8qIFBvc3NpYmxlIHZhbHVlcyBvZiB0aGUgZGF0YV90eXBlIGZpZWxkICh0aG91Z2ggc2VlIGluZmxhdGUoKSkgKi9cbiAgWl9CSU5BUlk6ICAgICAgICAgICAgICAgICAwLFxuICBaX1RFWFQ6ICAgICAgICAgICAgICAgICAgIDEsXG4gIC8vWl9BU0NJSTogICAgICAgICAgICAgICAgMSwgLy8gPSBaX1RFWFQgKGRlcHJlY2F0ZWQpXG4gIFpfVU5LTk9XTjogICAgICAgICAgICAgICAgMixcblxuICAvKiBUaGUgZGVmbGF0ZSBjb21wcmVzc2lvbiBtZXRob2QgKi9cbiAgWl9ERUZMQVRFRDogICAgICAgICAgICAgICA4XG4gIC8vWl9OVUxMOiAgICAgICAgICAgICAgICAgbnVsbCAvLyBVc2UgLTEgb3IgbnVsbCBpbmxpbmUsIGRlcGVuZGluZyBvbiB2YXIgdHlwZVxufTtcblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG5jb25zdCB7IF90cl9pbml0LCBfdHJfc3RvcmVkX2Jsb2NrLCBfdHJfZmx1c2hfYmxvY2ssIF90cl90YWxseSwgX3RyX2FsaWduIH0gPSB0cmVlcztcblxuXG5cblxuLyogUHVibGljIGNvbnN0YW50cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbmNvbnN0IHtcbiAgWl9OT19GTFVTSDogWl9OT19GTFVTSCQyLCBaX1BBUlRJQUxfRkxVU0gsIFpfRlVMTF9GTFVTSDogWl9GVUxMX0ZMVVNIJDEsIFpfRklOSVNIOiBaX0ZJTklTSCQzLCBaX0JMT0NLOiBaX0JMT0NLJDEsXG4gIFpfT0s6IFpfT0skMywgWl9TVFJFQU1fRU5EOiBaX1NUUkVBTV9FTkQkMywgWl9TVFJFQU1fRVJST1I6IFpfU1RSRUFNX0VSUk9SJDIsIFpfREFUQV9FUlJPUjogWl9EQVRBX0VSUk9SJDIsIFpfQlVGX0VSUk9SOiBaX0JVRl9FUlJPUiQxLFxuICBaX0RFRkFVTFRfQ09NUFJFU1NJT046IFpfREVGQVVMVF9DT01QUkVTU0lPTiQxLFxuICBaX0ZJTFRFUkVELCBaX0hVRkZNQU5fT05MWSwgWl9STEUsIFpfRklYRUQsIFpfREVGQVVMVF9TVFJBVEVHWTogWl9ERUZBVUxUX1NUUkFURUdZJDEsXG4gIFpfVU5LTk9XTixcbiAgWl9ERUZMQVRFRDogWl9ERUZMQVRFRCQyXG59ID0gY29uc3RhbnRzJDI7XG5cbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cblxuY29uc3QgTUFYX01FTV9MRVZFTCA9IDk7XG4vKiBNYXhpbXVtIHZhbHVlIGZvciBtZW1MZXZlbCBpbiBkZWZsYXRlSW5pdDIgKi9cbmNvbnN0IE1BWF9XQklUUyQxID0gMTU7XG4vKiAzMksgTFo3NyB3aW5kb3cgKi9cbmNvbnN0IERFRl9NRU1fTEVWRUwgPSA4O1xuXG5cbmNvbnN0IExFTkdUSF9DT0RFUyAgPSAyOTtcbi8qIG51bWJlciBvZiBsZW5ndGggY29kZXMsIG5vdCBjb3VudGluZyB0aGUgc3BlY2lhbCBFTkRfQkxPQ0sgY29kZSAqL1xuY29uc3QgTElURVJBTFMgICAgICA9IDI1Njtcbi8qIG51bWJlciBvZiBsaXRlcmFsIGJ5dGVzIDAuLjI1NSAqL1xuY29uc3QgTF9DT0RFUyAgICAgICA9IExJVEVSQUxTICsgMSArIExFTkdUSF9DT0RFUztcbi8qIG51bWJlciBvZiBMaXRlcmFsIG9yIExlbmd0aCBjb2RlcywgaW5jbHVkaW5nIHRoZSBFTkRfQkxPQ0sgY29kZSAqL1xuY29uc3QgRF9DT0RFUyAgICAgICA9IDMwO1xuLyogbnVtYmVyIG9mIGRpc3RhbmNlIGNvZGVzICovXG5jb25zdCBCTF9DT0RFUyAgICAgID0gMTk7XG4vKiBudW1iZXIgb2YgY29kZXMgdXNlZCB0byB0cmFuc2ZlciB0aGUgYml0IGxlbmd0aHMgKi9cbmNvbnN0IEhFQVBfU0laRSAgICAgPSAyICogTF9DT0RFUyArIDE7XG4vKiBtYXhpbXVtIGhlYXAgc2l6ZSAqL1xuY29uc3QgTUFYX0JJVFMgID0gMTU7XG4vKiBBbGwgY29kZXMgbXVzdCBub3QgZXhjZWVkIE1BWF9CSVRTIGJpdHMgKi9cblxuY29uc3QgTUlOX01BVENIID0gMztcbmNvbnN0IE1BWF9NQVRDSCA9IDI1ODtcbmNvbnN0IE1JTl9MT09LQUhFQUQgPSAoTUFYX01BVENIICsgTUlOX01BVENIICsgMSk7XG5cbmNvbnN0IFBSRVNFVF9ESUNUID0gMHgyMDtcblxuY29uc3QgSU5JVF9TVEFURSAgICA9ICA0MjsgICAgLyogemxpYiBoZWFkZXIgLT4gQlVTWV9TVEFURSAqL1xuLy8jaWZkZWYgR1pJUFxuY29uc3QgR1pJUF9TVEFURSAgICA9ICA1NzsgICAgLyogZ3ppcCBoZWFkZXIgLT4gQlVTWV9TVEFURSB8IEVYVFJBX1NUQVRFICovXG4vLyNlbmRpZlxuY29uc3QgRVhUUkFfU1RBVEUgICA9ICA2OTsgICAgLyogZ3ppcCBleHRyYSBibG9jayAtPiBOQU1FX1NUQVRFICovXG5jb25zdCBOQU1FX1NUQVRFICAgID0gIDczOyAgICAvKiBnemlwIGZpbGUgbmFtZSAtPiBDT01NRU5UX1NUQVRFICovXG5jb25zdCBDT01NRU5UX1NUQVRFID0gIDkxOyAgICAvKiBnemlwIGNvbW1lbnQgLT4gSENSQ19TVEFURSAqL1xuY29uc3QgSENSQ19TVEFURSAgICA9IDEwMzsgICAgLyogZ3ppcCBoZWFkZXIgQ1JDIC0+IEJVU1lfU1RBVEUgKi9cbmNvbnN0IEJVU1lfU1RBVEUgICAgPSAxMTM7ICAgIC8qIGRlZmxhdGUgLT4gRklOSVNIX1NUQVRFICovXG5jb25zdCBGSU5JU0hfU1RBVEUgID0gNjY2OyAgICAvKiBzdHJlYW0gY29tcGxldGUgKi9cblxuY29uc3QgQlNfTkVFRF9NT1JFICAgICAgPSAxOyAvKiBibG9jayBub3QgY29tcGxldGVkLCBuZWVkIG1vcmUgaW5wdXQgb3IgbW9yZSBvdXRwdXQgKi9cbmNvbnN0IEJTX0JMT0NLX0RPTkUgICAgID0gMjsgLyogYmxvY2sgZmx1c2ggcGVyZm9ybWVkICovXG5jb25zdCBCU19GSU5JU0hfU1RBUlRFRCA9IDM7IC8qIGZpbmlzaCBzdGFydGVkLCBuZWVkIG9ubHkgbW9yZSBvdXRwdXQgYXQgbmV4dCBkZWZsYXRlICovXG5jb25zdCBCU19GSU5JU0hfRE9ORSAgICA9IDQ7IC8qIGZpbmlzaCBkb25lLCBhY2NlcHQgbm8gbW9yZSBpbnB1dCBvciBvdXRwdXQgKi9cblxuY29uc3QgT1NfQ09ERSA9IDB4MDM7IC8vIFVuaXggOikgLiBEb24ndCBkZXRlY3QsIHVzZSB0aGlzIGRlZmF1bHQuXG5cbmNvbnN0IGVyciA9IChzdHJtLCBlcnJvckNvZGUpID0+IHtcbiAgc3RybS5tc2cgPSBtZXNzYWdlc1tlcnJvckNvZGVdO1xuICByZXR1cm4gZXJyb3JDb2RlO1xufTtcblxuY29uc3QgcmFuayA9IChmKSA9PiB7XG4gIHJldHVybiAoKGYpICogMikgLSAoKGYpID4gNCA/IDkgOiAwKTtcbn07XG5cbmNvbnN0IHplcm8gPSAoYnVmKSA9PiB7XG4gIGxldCBsZW4gPSBidWYubGVuZ3RoOyB3aGlsZSAoLS1sZW4gPj0gMCkgeyBidWZbbGVuXSA9IDA7IH1cbn07XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2xpZGUgdGhlIGhhc2ggdGFibGUgd2hlbiBzbGlkaW5nIHRoZSB3aW5kb3cgZG93biAoY291bGQgYmUgYXZvaWRlZCB3aXRoIDMyXG4gKiBiaXQgdmFsdWVzIGF0IHRoZSBleHBlbnNlIG9mIG1lbW9yeSB1c2FnZSkuIFdlIHNsaWRlIGV2ZW4gd2hlbiBsZXZlbCA9PSAwIHRvXG4gKiBrZWVwIHRoZSBoYXNoIHRhYmxlIGNvbnNpc3RlbnQgaWYgd2Ugc3dpdGNoIGJhY2sgdG8gbGV2ZWwgPiAwIGxhdGVyLlxuICovXG5jb25zdCBzbGlkZV9oYXNoID0gKHMpID0+IHtcbiAgbGV0IG4sIG07XG4gIGxldCBwO1xuICBsZXQgd3NpemUgPSBzLndfc2l6ZTtcblxuICBuID0gcy5oYXNoX3NpemU7XG4gIHAgPSBuO1xuICBkbyB7XG4gICAgbSA9IHMuaGVhZFstLXBdO1xuICAgIHMuaGVhZFtwXSA9IChtID49IHdzaXplID8gbSAtIHdzaXplIDogMCk7XG4gIH0gd2hpbGUgKC0tbik7XG4gIG4gPSB3c2l6ZTtcbi8vI2lmbmRlZiBGQVNURVNUXG4gIHAgPSBuO1xuICBkbyB7XG4gICAgbSA9IHMucHJldlstLXBdO1xuICAgIHMucHJldltwXSA9IChtID49IHdzaXplID8gbSAtIHdzaXplIDogMCk7XG4gICAgLyogSWYgbiBpcyBub3Qgb24gYW55IGhhc2ggY2hhaW4sIHByZXZbbl0gaXMgZ2FyYmFnZSBidXRcbiAgICAgKiBpdHMgdmFsdWUgd2lsbCBuZXZlciBiZSB1c2VkLlxuICAgICAqL1xuICB9IHdoaWxlICgtLW4pO1xuLy8jZW5kaWZcbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIG5ldy1jYXAgKi9cbmxldCBIQVNIX1pMSUIgPSAocywgcHJldiwgZGF0YSkgPT4gKChwcmV2IDw8IHMuaGFzaF9zaGlmdCkgXiBkYXRhKSAmIHMuaGFzaF9tYXNrO1xuLy8gVGhpcyBoYXNoIGNhdXNlcyBsZXNzIGNvbGxpc2lvbnMsIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlY2EvcGFrby9pc3N1ZXMvMTM1XG4vLyBCdXQgYnJlYWtzIGJpbmFyeSBjb21wYXRpYmlsaXR5XG4vL2xldCBIQVNIX0ZBU1QgPSAocywgcHJldiwgZGF0YSkgPT4gKChwcmV2IDw8IDgpICsgKHByZXYgPj4gOCkgKyAoZGF0YSA8PCA0KSkgJiBzLmhhc2hfbWFzaztcbmxldCBIQVNIID0gSEFTSF9aTElCO1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZsdXNoIGFzIG11Y2ggcGVuZGluZyBvdXRwdXQgYXMgcG9zc2libGUuIEFsbCBkZWZsYXRlKCkgb3V0cHV0LCBleGNlcHQgZm9yXG4gKiBzb21lIGRlZmxhdGVfc3RvcmVkKCkgb3V0cHV0LCBnb2VzIHRocm91Z2ggdGhpcyBmdW5jdGlvbiBzbyBzb21lXG4gKiBhcHBsaWNhdGlvbnMgbWF5IHdpc2ggdG8gbW9kaWZ5IGl0IHRvIGF2b2lkIGFsbG9jYXRpbmcgYSBsYXJnZVxuICogc3RybS0+bmV4dF9vdXQgYnVmZmVyIGFuZCBjb3B5aW5nIGludG8gaXQuIChTZWUgYWxzbyByZWFkX2J1ZigpKS5cbiAqL1xuY29uc3QgZmx1c2hfcGVuZGluZyA9IChzdHJtKSA9PiB7XG4gIGNvbnN0IHMgPSBzdHJtLnN0YXRlO1xuXG4gIC8vX3RyX2ZsdXNoX2JpdHMocyk7XG4gIGxldCBsZW4gPSBzLnBlbmRpbmc7XG4gIGlmIChsZW4gPiBzdHJtLmF2YWlsX291dCkge1xuICAgIGxlbiA9IHN0cm0uYXZhaWxfb3V0O1xuICB9XG4gIGlmIChsZW4gPT09IDApIHsgcmV0dXJuOyB9XG5cbiAgc3RybS5vdXRwdXQuc2V0KHMucGVuZGluZ19idWYuc3ViYXJyYXkocy5wZW5kaW5nX291dCwgcy5wZW5kaW5nX291dCArIGxlbiksIHN0cm0ubmV4dF9vdXQpO1xuICBzdHJtLm5leHRfb3V0ICArPSBsZW47XG4gIHMucGVuZGluZ19vdXQgICs9IGxlbjtcbiAgc3RybS50b3RhbF9vdXQgKz0gbGVuO1xuICBzdHJtLmF2YWlsX291dCAtPSBsZW47XG4gIHMucGVuZGluZyAgICAgIC09IGxlbjtcbiAgaWYgKHMucGVuZGluZyA9PT0gMCkge1xuICAgIHMucGVuZGluZ19vdXQgPSAwO1xuICB9XG59O1xuXG5cbmNvbnN0IGZsdXNoX2Jsb2NrX29ubHkgPSAocywgbGFzdCkgPT4ge1xuICBfdHJfZmx1c2hfYmxvY2socywgKHMuYmxvY2tfc3RhcnQgPj0gMCA/IHMuYmxvY2tfc3RhcnQgOiAtMSksIHMuc3Ryc3RhcnQgLSBzLmJsb2NrX3N0YXJ0LCBsYXN0KTtcbiAgcy5ibG9ja19zdGFydCA9IHMuc3Ryc3RhcnQ7XG4gIGZsdXNoX3BlbmRpbmcocy5zdHJtKTtcbn07XG5cblxuY29uc3QgcHV0X2J5dGUgPSAocywgYikgPT4ge1xuICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IGI7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFB1dCBhIHNob3J0IGluIHRoZSBwZW5kaW5nIGJ1ZmZlci4gVGhlIDE2LWJpdCB2YWx1ZSBpcyBwdXQgaW4gTVNCIG9yZGVyLlxuICogSU4gYXNzZXJ0aW9uOiB0aGUgc3RyZWFtIHN0YXRlIGlzIGNvcnJlY3QgYW5kIHRoZXJlIGlzIGVub3VnaCByb29tIGluXG4gKiBwZW5kaW5nX2J1Zi5cbiAqL1xuY29uc3QgcHV0U2hvcnRNU0IgPSAocywgYikgPT4ge1xuXG4gIC8vICBwdXRfYnl0ZShzLCAoQnl0ZSkoYiA+PiA4KSk7XG4vLyAgcHV0X2J5dGUocywgKEJ5dGUpKGIgJiAweGZmKSk7XG4gIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gKGIgPj4+IDgpICYgMHhmZjtcbiAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSBiICYgMHhmZjtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBSZWFkIGEgbmV3IGJ1ZmZlciBmcm9tIHRoZSBjdXJyZW50IGlucHV0IHN0cmVhbSwgdXBkYXRlIHRoZSBhZGxlcjMyXG4gKiBhbmQgdG90YWwgbnVtYmVyIG9mIGJ5dGVzIHJlYWQuICBBbGwgZGVmbGF0ZSgpIGlucHV0IGdvZXMgdGhyb3VnaFxuICogdGhpcyBmdW5jdGlvbiBzbyBzb21lIGFwcGxpY2F0aW9ucyBtYXkgd2lzaCB0byBtb2RpZnkgaXQgdG8gYXZvaWRcbiAqIGFsbG9jYXRpbmcgYSBsYXJnZSBzdHJtLT5pbnB1dCBidWZmZXIgYW5kIGNvcHlpbmcgZnJvbSBpdC5cbiAqIChTZWUgYWxzbyBmbHVzaF9wZW5kaW5nKCkpLlxuICovXG5jb25zdCByZWFkX2J1ZiA9IChzdHJtLCBidWYsIHN0YXJ0LCBzaXplKSA9PiB7XG5cbiAgbGV0IGxlbiA9IHN0cm0uYXZhaWxfaW47XG5cbiAgaWYgKGxlbiA+IHNpemUpIHsgbGVuID0gc2l6ZTsgfVxuICBpZiAobGVuID09PSAwKSB7IHJldHVybiAwOyB9XG5cbiAgc3RybS5hdmFpbF9pbiAtPSBsZW47XG5cbiAgLy8gem1lbWNweShidWYsIHN0cm0tPm5leHRfaW4sIGxlbik7XG4gIGJ1Zi5zZXQoc3RybS5pbnB1dC5zdWJhcnJheShzdHJtLm5leHRfaW4sIHN0cm0ubmV4dF9pbiArIGxlbiksIHN0YXJ0KTtcbiAgaWYgKHN0cm0uc3RhdGUud3JhcCA9PT0gMSkge1xuICAgIHN0cm0uYWRsZXIgPSBhZGxlcjMyXzEoc3RybS5hZGxlciwgYnVmLCBsZW4sIHN0YXJ0KTtcbiAgfVxuXG4gIGVsc2UgaWYgKHN0cm0uc3RhdGUud3JhcCA9PT0gMikge1xuICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIGJ1ZiwgbGVuLCBzdGFydCk7XG4gIH1cblxuICBzdHJtLm5leHRfaW4gKz0gbGVuO1xuICBzdHJtLnRvdGFsX2luICs9IGxlbjtcblxuICByZXR1cm4gbGVuO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNldCBtYXRjaF9zdGFydCB0byB0aGUgbG9uZ2VzdCBtYXRjaCBzdGFydGluZyBhdCB0aGUgZ2l2ZW4gc3RyaW5nIGFuZFxuICogcmV0dXJuIGl0cyBsZW5ndGguIE1hdGNoZXMgc2hvcnRlciBvciBlcXVhbCB0byBwcmV2X2xlbmd0aCBhcmUgZGlzY2FyZGVkLFxuICogaW4gd2hpY2ggY2FzZSB0aGUgcmVzdWx0IGlzIGVxdWFsIHRvIHByZXZfbGVuZ3RoIGFuZCBtYXRjaF9zdGFydCBpc1xuICogZ2FyYmFnZS5cbiAqIElOIGFzc2VydGlvbnM6IGN1cl9tYXRjaCBpcyB0aGUgaGVhZCBvZiB0aGUgaGFzaCBjaGFpbiBmb3IgdGhlIGN1cnJlbnRcbiAqICAgc3RyaW5nIChzdHJzdGFydCkgYW5kIGl0cyBkaXN0YW5jZSBpcyA8PSBNQVhfRElTVCwgYW5kIHByZXZfbGVuZ3RoID49IDFcbiAqIE9VVCBhc3NlcnRpb246IHRoZSBtYXRjaCBsZW5ndGggaXMgbm90IGdyZWF0ZXIgdGhhbiBzLT5sb29rYWhlYWQuXG4gKi9cbmNvbnN0IGxvbmdlc3RfbWF0Y2ggPSAocywgY3VyX21hdGNoKSA9PiB7XG5cbiAgbGV0IGNoYWluX2xlbmd0aCA9IHMubWF4X2NoYWluX2xlbmd0aDsgICAgICAvKiBtYXggaGFzaCBjaGFpbiBsZW5ndGggKi9cbiAgbGV0IHNjYW4gPSBzLnN0cnN0YXJ0OyAvKiBjdXJyZW50IHN0cmluZyAqL1xuICBsZXQgbWF0Y2g7ICAgICAgICAgICAgICAgICAgICAgICAvKiBtYXRjaGVkIHN0cmluZyAqL1xuICBsZXQgbGVuOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGxlbmd0aCBvZiBjdXJyZW50IG1hdGNoICovXG4gIGxldCBiZXN0X2xlbiA9IHMucHJldl9sZW5ndGg7ICAgICAgICAgICAgICAvKiBiZXN0IG1hdGNoIGxlbmd0aCBzbyBmYXIgKi9cbiAgbGV0IG5pY2VfbWF0Y2ggPSBzLm5pY2VfbWF0Y2g7ICAgICAgICAgICAgIC8qIHN0b3AgaWYgbWF0Y2ggbG9uZyBlbm91Z2ggKi9cbiAgY29uc3QgbGltaXQgPSAocy5zdHJzdGFydCA+IChzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQpKSA/XG4gICAgICBzLnN0cnN0YXJ0IC0gKHMud19zaXplIC0gTUlOX0xPT0tBSEVBRCkgOiAwLypOSUwqLztcblxuICBjb25zdCBfd2luID0gcy53aW5kb3c7IC8vIHNob3J0Y3V0XG5cbiAgY29uc3Qgd21hc2sgPSBzLndfbWFzaztcbiAgY29uc3QgcHJldiAgPSBzLnByZXY7XG5cbiAgLyogU3RvcCB3aGVuIGN1cl9tYXRjaCBiZWNvbWVzIDw9IGxpbWl0LiBUbyBzaW1wbGlmeSB0aGUgY29kZSxcbiAgICogd2UgcHJldmVudCBtYXRjaGVzIHdpdGggdGhlIHN0cmluZyBvZiB3aW5kb3cgaW5kZXggMC5cbiAgICovXG5cbiAgY29uc3Qgc3RyZW5kID0gcy5zdHJzdGFydCArIE1BWF9NQVRDSDtcbiAgbGV0IHNjYW5fZW5kMSAgPSBfd2luW3NjYW4gKyBiZXN0X2xlbiAtIDFdO1xuICBsZXQgc2Nhbl9lbmQgICA9IF93aW5bc2NhbiArIGJlc3RfbGVuXTtcblxuICAvKiBUaGUgY29kZSBpcyBvcHRpbWl6ZWQgZm9yIEhBU0hfQklUUyA+PSA4IGFuZCBNQVhfTUFUQ0gtMiBtdWx0aXBsZSBvZiAxNi5cbiAgICogSXQgaXMgZWFzeSB0byBnZXQgcmlkIG9mIHRoaXMgb3B0aW1pemF0aW9uIGlmIG5lY2Vzc2FyeS5cbiAgICovXG4gIC8vIEFzc2VydChzLT5oYXNoX2JpdHMgPj0gOCAmJiBNQVhfTUFUQ0ggPT0gMjU4LCBcIkNvZGUgdG9vIGNsZXZlclwiKTtcblxuICAvKiBEbyBub3Qgd2FzdGUgdG9vIG11Y2ggdGltZSBpZiB3ZSBhbHJlYWR5IGhhdmUgYSBnb29kIG1hdGNoOiAqL1xuICBpZiAocy5wcmV2X2xlbmd0aCA+PSBzLmdvb2RfbWF0Y2gpIHtcbiAgICBjaGFpbl9sZW5ndGggPj49IDI7XG4gIH1cbiAgLyogRG8gbm90IGxvb2sgZm9yIG1hdGNoZXMgYmV5b25kIHRoZSBlbmQgb2YgdGhlIGlucHV0LiBUaGlzIGlzIG5lY2Vzc2FyeVxuICAgKiB0byBtYWtlIGRlZmxhdGUgZGV0ZXJtaW5pc3RpYy5cbiAgICovXG4gIGlmIChuaWNlX21hdGNoID4gcy5sb29rYWhlYWQpIHsgbmljZV9tYXRjaCA9IHMubG9va2FoZWFkOyB9XG5cbiAgLy8gQXNzZXJ0KCh1bGcpcy0+c3Ryc3RhcnQgPD0gcy0+d2luZG93X3NpemUtTUlOX0xPT0tBSEVBRCwgXCJuZWVkIGxvb2thaGVhZFwiKTtcblxuICBkbyB7XG4gICAgLy8gQXNzZXJ0KGN1cl9tYXRjaCA8IHMtPnN0cnN0YXJ0LCBcIm5vIGZ1dHVyZVwiKTtcbiAgICBtYXRjaCA9IGN1cl9tYXRjaDtcblxuICAgIC8qIFNraXAgdG8gbmV4dCBtYXRjaCBpZiB0aGUgbWF0Y2ggbGVuZ3RoIGNhbm5vdCBpbmNyZWFzZVxuICAgICAqIG9yIGlmIHRoZSBtYXRjaCBsZW5ndGggaXMgbGVzcyB0aGFuIDIuICBOb3RlIHRoYXQgdGhlIGNoZWNrcyBiZWxvd1xuICAgICAqIGZvciBpbnN1ZmZpY2llbnQgbG9va2FoZWFkIG9ubHkgb2NjdXIgb2NjYXNpb25hbGx5IGZvciBwZXJmb3JtYW5jZVxuICAgICAqIHJlYXNvbnMuICBUaGVyZWZvcmUgdW5pbml0aWFsaXplZCBtZW1vcnkgd2lsbCBiZSBhY2Nlc3NlZCwgYW5kXG4gICAgICogY29uZGl0aW9uYWwganVtcHMgd2lsbCBiZSBtYWRlIHRoYXQgZGVwZW5kIG9uIHRob3NlIHZhbHVlcy5cbiAgICAgKiBIb3dldmVyIHRoZSBsZW5ndGggb2YgdGhlIG1hdGNoIGlzIGxpbWl0ZWQgdG8gdGhlIGxvb2thaGVhZCwgc29cbiAgICAgKiB0aGUgb3V0cHV0IG9mIGRlZmxhdGUgaXMgbm90IGFmZmVjdGVkIGJ5IHRoZSB1bmluaXRpYWxpemVkIHZhbHVlcy5cbiAgICAgKi9cblxuICAgIGlmIChfd2luW21hdGNoICsgYmVzdF9sZW5dICAgICAhPT0gc2Nhbl9lbmQgIHx8XG4gICAgICAgIF93aW5bbWF0Y2ggKyBiZXN0X2xlbiAtIDFdICE9PSBzY2FuX2VuZDEgfHxcbiAgICAgICAgX3dpblttYXRjaF0gICAgICAgICAgICAgICAgIT09IF93aW5bc2Nhbl0gfHxcbiAgICAgICAgX3dpblsrK21hdGNoXSAgICAgICAgICAgICAgIT09IF93aW5bc2NhbiArIDFdKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvKiBUaGUgY2hlY2sgYXQgYmVzdF9sZW4tMSBjYW4gYmUgcmVtb3ZlZCBiZWNhdXNlIGl0IHdpbGwgYmUgbWFkZVxuICAgICAqIGFnYWluIGxhdGVyLiAoVGhpcyBoZXVyaXN0aWMgaXMgbm90IGFsd2F5cyBhIHdpbi4pXG4gICAgICogSXQgaXMgbm90IG5lY2Vzc2FyeSB0byBjb21wYXJlIHNjYW5bMl0gYW5kIG1hdGNoWzJdIHNpbmNlIHRoZXlcbiAgICAgKiBhcmUgYWx3YXlzIGVxdWFsIHdoZW4gdGhlIG90aGVyIGJ5dGVzIG1hdGNoLCBnaXZlbiB0aGF0XG4gICAgICogdGhlIGhhc2gga2V5cyBhcmUgZXF1YWwgYW5kIHRoYXQgSEFTSF9CSVRTID49IDguXG4gICAgICovXG4gICAgc2NhbiArPSAyO1xuICAgIG1hdGNoKys7XG4gICAgLy8gQXNzZXJ0KCpzY2FuID09ICptYXRjaCwgXCJtYXRjaFsyXT9cIik7XG5cbiAgICAvKiBXZSBjaGVjayBmb3IgaW5zdWZmaWNpZW50IGxvb2thaGVhZCBvbmx5IGV2ZXJ5IDh0aCBjb21wYXJpc29uO1xuICAgICAqIHRoZSAyNTZ0aCBjaGVjayB3aWxsIGJlIG1hZGUgYXQgc3Ryc3RhcnQrMjU4LlxuICAgICAqL1xuICAgIGRvIHtcbiAgICAgIC8qanNoaW50IG5vZW1wdHk6ZmFsc2UqL1xuICAgIH0gd2hpbGUgKF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJiBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgICAgICAgICBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiYgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJlxuICAgICAgICAgICAgIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJiBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgICAgICAgICBzY2FuIDwgc3RyZW5kKTtcblxuICAgIC8vIEFzc2VydChzY2FuIDw9IHMtPndpbmRvdysodW5zaWduZWQpKHMtPndpbmRvd19zaXplLTEpLCBcIndpbGQgc2NhblwiKTtcblxuICAgIGxlbiA9IE1BWF9NQVRDSCAtIChzdHJlbmQgLSBzY2FuKTtcbiAgICBzY2FuID0gc3RyZW5kIC0gTUFYX01BVENIO1xuXG4gICAgaWYgKGxlbiA+IGJlc3RfbGVuKSB7XG4gICAgICBzLm1hdGNoX3N0YXJ0ID0gY3VyX21hdGNoO1xuICAgICAgYmVzdF9sZW4gPSBsZW47XG4gICAgICBpZiAobGVuID49IG5pY2VfbWF0Y2gpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBzY2FuX2VuZDEgID0gX3dpbltzY2FuICsgYmVzdF9sZW4gLSAxXTtcbiAgICAgIHNjYW5fZW5kICAgPSBfd2luW3NjYW4gKyBiZXN0X2xlbl07XG4gICAgfVxuICB9IHdoaWxlICgoY3VyX21hdGNoID0gcHJldltjdXJfbWF0Y2ggJiB3bWFza10pID4gbGltaXQgJiYgLS1jaGFpbl9sZW5ndGggIT09IDApO1xuXG4gIGlmIChiZXN0X2xlbiA8PSBzLmxvb2thaGVhZCkge1xuICAgIHJldHVybiBiZXN0X2xlbjtcbiAgfVxuICByZXR1cm4gcy5sb29rYWhlYWQ7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogRmlsbCB0aGUgd2luZG93IHdoZW4gdGhlIGxvb2thaGVhZCBiZWNvbWVzIGluc3VmZmljaWVudC5cbiAqIFVwZGF0ZXMgc3Ryc3RhcnQgYW5kIGxvb2thaGVhZC5cbiAqXG4gKiBJTiBhc3NlcnRpb246IGxvb2thaGVhZCA8IE1JTl9MT09LQUhFQURcbiAqIE9VVCBhc3NlcnRpb25zOiBzdHJzdGFydCA8PSB3aW5kb3dfc2l6ZS1NSU5fTE9PS0FIRUFEXG4gKiAgICBBdCBsZWFzdCBvbmUgYnl0ZSBoYXMgYmVlbiByZWFkLCBvciBhdmFpbF9pbiA9PSAwOyByZWFkcyBhcmVcbiAqICAgIHBlcmZvcm1lZCBmb3IgYXQgbGVhc3QgdHdvIGJ5dGVzIChyZXF1aXJlZCBmb3IgdGhlIHppcCB0cmFuc2xhdGVfZW9sXG4gKiAgICBvcHRpb24gLS0gbm90IHN1cHBvcnRlZCBoZXJlKS5cbiAqL1xuY29uc3QgZmlsbF93aW5kb3cgPSAocykgPT4ge1xuXG4gIGNvbnN0IF93X3NpemUgPSBzLndfc2l6ZTtcbiAgbGV0IG4sIG1vcmUsIHN0cjtcblxuICAvL0Fzc2VydChzLT5sb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFELCBcImFscmVhZHkgZW5vdWdoIGxvb2thaGVhZFwiKTtcblxuICBkbyB7XG4gICAgbW9yZSA9IHMud2luZG93X3NpemUgLSBzLmxvb2thaGVhZCAtIHMuc3Ryc3RhcnQ7XG5cbiAgICAvLyBKUyBpbnRzIGhhdmUgMzIgYml0LCBibG9jayBiZWxvdyBub3QgbmVlZGVkXG4gICAgLyogRGVhbCB3aXRoICFAIyQlIDY0SyBsaW1pdDogKi9cbiAgICAvL2lmIChzaXplb2YoaW50KSA8PSAyKSB7XG4gICAgLy8gICAgaWYgKG1vcmUgPT0gMCAmJiBzLT5zdHJzdGFydCA9PSAwICYmIHMtPmxvb2thaGVhZCA9PSAwKSB7XG4gICAgLy8gICAgICAgIG1vcmUgPSB3c2l6ZTtcbiAgICAvL1xuICAgIC8vICB9IGVsc2UgaWYgKG1vcmUgPT0gKHVuc2lnbmVkKSgtMSkpIHtcbiAgICAvLyAgICAgICAgLyogVmVyeSB1bmxpa2VseSwgYnV0IHBvc3NpYmxlIG9uIDE2IGJpdCBtYWNoaW5lIGlmXG4gICAgLy8gICAgICAgICAqIHN0cnN0YXJ0ID09IDAgJiYgbG9va2FoZWFkID09IDEgKGlucHV0IGRvbmUgYSBieXRlIGF0IHRpbWUpXG4gICAgLy8gICAgICAgICAqL1xuICAgIC8vICAgICAgICBtb3JlLS07XG4gICAgLy8gICAgfVxuICAgIC8vfVxuXG5cbiAgICAvKiBJZiB0aGUgd2luZG93IGlzIGFsbW9zdCBmdWxsIGFuZCB0aGVyZSBpcyBpbnN1ZmZpY2llbnQgbG9va2FoZWFkLFxuICAgICAqIG1vdmUgdGhlIHVwcGVyIGhhbGYgdG8gdGhlIGxvd2VyIG9uZSB0byBtYWtlIHJvb20gaW4gdGhlIHVwcGVyIGhhbGYuXG4gICAgICovXG4gICAgaWYgKHMuc3Ryc3RhcnQgPj0gX3dfc2l6ZSArIChfd19zaXplIC0gTUlOX0xPT0tBSEVBRCkpIHtcblxuICAgICAgcy53aW5kb3cuc2V0KHMud2luZG93LnN1YmFycmF5KF93X3NpemUsIF93X3NpemUgKyBfd19zaXplIC0gbW9yZSksIDApO1xuICAgICAgcy5tYXRjaF9zdGFydCAtPSBfd19zaXplO1xuICAgICAgcy5zdHJzdGFydCAtPSBfd19zaXplO1xuICAgICAgLyogd2Ugbm93IGhhdmUgc3Ryc3RhcnQgPj0gTUFYX0RJU1QgKi9cbiAgICAgIHMuYmxvY2tfc3RhcnQgLT0gX3dfc2l6ZTtcbiAgICAgIGlmIChzLmluc2VydCA+IHMuc3Ryc3RhcnQpIHtcbiAgICAgICAgcy5pbnNlcnQgPSBzLnN0cnN0YXJ0O1xuICAgICAgfVxuICAgICAgc2xpZGVfaGFzaChzKTtcbiAgICAgIG1vcmUgKz0gX3dfc2l6ZTtcbiAgICB9XG4gICAgaWYgKHMuc3RybS5hdmFpbF9pbiA9PT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLyogSWYgdGhlcmUgd2FzIG5vIHNsaWRpbmc6XG4gICAgICogICAgc3Ryc3RhcnQgPD0gV1NJWkUrTUFYX0RJU1QtMSAmJiBsb29rYWhlYWQgPD0gTUlOX0xPT0tBSEVBRCAtIDEgJiZcbiAgICAgKiAgICBtb3JlID09IHdpbmRvd19zaXplIC0gbG9va2FoZWFkIC0gc3Ryc3RhcnRcbiAgICAgKiA9PiBtb3JlID49IHdpbmRvd19zaXplIC0gKE1JTl9MT09LQUhFQUQtMSArIFdTSVpFICsgTUFYX0RJU1QtMSlcbiAgICAgKiA9PiBtb3JlID49IHdpbmRvd19zaXplIC0gMipXU0laRSArIDJcbiAgICAgKiBJbiB0aGUgQklHX01FTSBvciBNTUFQIGNhc2UgKG5vdCB5ZXQgc3VwcG9ydGVkKSxcbiAgICAgKiAgIHdpbmRvd19zaXplID09IGlucHV0X3NpemUgKyBNSU5fTE9PS0FIRUFEICAmJlxuICAgICAqICAgc3Ryc3RhcnQgKyBzLT5sb29rYWhlYWQgPD0gaW5wdXRfc2l6ZSA9PiBtb3JlID49IE1JTl9MT09LQUhFQUQuXG4gICAgICogT3RoZXJ3aXNlLCB3aW5kb3dfc2l6ZSA9PSAyKldTSVpFIHNvIG1vcmUgPj0gMi5cbiAgICAgKiBJZiB0aGVyZSB3YXMgc2xpZGluZywgbW9yZSA+PSBXU0laRS4gU28gaW4gYWxsIGNhc2VzLCBtb3JlID49IDIuXG4gICAgICovXG4gICAgLy9Bc3NlcnQobW9yZSA+PSAyLCBcIm1vcmUgPCAyXCIpO1xuICAgIG4gPSByZWFkX2J1ZihzLnN0cm0sIHMud2luZG93LCBzLnN0cnN0YXJ0ICsgcy5sb29rYWhlYWQsIG1vcmUpO1xuICAgIHMubG9va2FoZWFkICs9IG47XG5cbiAgICAvKiBJbml0aWFsaXplIHRoZSBoYXNoIHZhbHVlIG5vdyB0aGF0IHdlIGhhdmUgc29tZSBpbnB1dDogKi9cbiAgICBpZiAocy5sb29rYWhlYWQgKyBzLmluc2VydCA+PSBNSU5fTUFUQ0gpIHtcbiAgICAgIHN0ciA9IHMuc3Ryc3RhcnQgLSBzLmluc2VydDtcbiAgICAgIHMuaW5zX2ggPSBzLndpbmRvd1tzdHJdO1xuXG4gICAgICAvKiBVUERBVEVfSEFTSChzLCBzLT5pbnNfaCwgcy0+d2luZG93W3N0ciArIDFdKTsgKi9cbiAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3N0ciArIDFdKTtcbi8vI2lmIE1JTl9NQVRDSCAhPSAzXG4vLyAgICAgICAgQ2FsbCB1cGRhdGVfaGFzaCgpIE1JTl9NQVRDSC0zIG1vcmUgdGltZXNcbi8vI2VuZGlmXG4gICAgICB3aGlsZSAocy5pbnNlcnQpIHtcbiAgICAgICAgLyogVVBEQVRFX0hBU0gocywgcy0+aW5zX2gsIHMtPndpbmRvd1tzdHIgKyBNSU5fTUFUQ0gtMV0pOyAqL1xuICAgICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzdHIgKyBNSU5fTUFUQ0ggLSAxXSk7XG5cbiAgICAgICAgcy5wcmV2W3N0ciAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcbiAgICAgICAgcy5oZWFkW3MuaW5zX2hdID0gc3RyO1xuICAgICAgICBzdHIrKztcbiAgICAgICAgcy5pbnNlcnQtLTtcbiAgICAgICAgaWYgKHMubG9va2FoZWFkICsgcy5pbnNlcnQgPCBNSU5fTUFUQ0gpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKiBJZiB0aGUgd2hvbGUgaW5wdXQgaGFzIGxlc3MgdGhhbiBNSU5fTUFUQ0ggYnl0ZXMsIGluc19oIGlzIGdhcmJhZ2UsXG4gICAgICogYnV0IHRoaXMgaXMgbm90IGltcG9ydGFudCBzaW5jZSBvbmx5IGxpdGVyYWwgYnl0ZXMgd2lsbCBiZSBlbWl0dGVkLlxuICAgICAqL1xuXG4gIH0gd2hpbGUgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCAmJiBzLnN0cm0uYXZhaWxfaW4gIT09IDApO1xuXG4gIC8qIElmIHRoZSBXSU5fSU5JVCBieXRlcyBhZnRlciB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGRhdGEgaGF2ZSBuZXZlciBiZWVuXG4gICAqIHdyaXR0ZW4sIHRoZW4gemVybyB0aG9zZSBieXRlcyBpbiBvcmRlciB0byBhdm9pZCBtZW1vcnkgY2hlY2sgcmVwb3J0cyBvZlxuICAgKiB0aGUgdXNlIG9mIHVuaW5pdGlhbGl6ZWQgKG9yIHVuaW5pdGlhbGlzZWQgYXMgSnVsaWFuIHdyaXRlcykgYnl0ZXMgYnlcbiAgICogdGhlIGxvbmdlc3QgbWF0Y2ggcm91dGluZXMuICBVcGRhdGUgdGhlIGhpZ2ggd2F0ZXIgbWFyayBmb3IgdGhlIG5leHRcbiAgICogdGltZSB0aHJvdWdoIGhlcmUuICBXSU5fSU5JVCBpcyBzZXQgdG8gTUFYX01BVENIIHNpbmNlIHRoZSBsb25nZXN0IG1hdGNoXG4gICAqIHJvdXRpbmVzIGFsbG93IHNjYW5uaW5nIHRvIHN0cnN0YXJ0ICsgTUFYX01BVENILCBpZ25vcmluZyBsb29rYWhlYWQuXG4gICAqL1xuLy8gIGlmIChzLmhpZ2hfd2F0ZXIgPCBzLndpbmRvd19zaXplKSB7XG4vLyAgICBjb25zdCBjdXJyID0gcy5zdHJzdGFydCArIHMubG9va2FoZWFkO1xuLy8gICAgbGV0IGluaXQgPSAwO1xuLy9cbi8vICAgIGlmIChzLmhpZ2hfd2F0ZXIgPCBjdXJyKSB7XG4vLyAgICAgIC8qIFByZXZpb3VzIGhpZ2ggd2F0ZXIgbWFyayBiZWxvdyBjdXJyZW50IGRhdGEgLS0gemVybyBXSU5fSU5JVFxuLy8gICAgICAgKiBieXRlcyBvciB1cCB0byBlbmQgb2Ygd2luZG93LCB3aGljaGV2ZXIgaXMgbGVzcy5cbi8vICAgICAgICovXG4vLyAgICAgIGluaXQgPSBzLndpbmRvd19zaXplIC0gY3Vycjtcbi8vICAgICAgaWYgKGluaXQgPiBXSU5fSU5JVClcbi8vICAgICAgICBpbml0ID0gV0lOX0lOSVQ7XG4vLyAgICAgIHptZW16ZXJvKHMtPndpbmRvdyArIGN1cnIsICh1bnNpZ25lZClpbml0KTtcbi8vICAgICAgcy0+aGlnaF93YXRlciA9IGN1cnIgKyBpbml0O1xuLy8gICAgfVxuLy8gICAgZWxzZSBpZiAocy0+aGlnaF93YXRlciA8ICh1bGcpY3VyciArIFdJTl9JTklUKSB7XG4vLyAgICAgIC8qIEhpZ2ggd2F0ZXIgbWFyayBhdCBvciBhYm92ZSBjdXJyZW50IGRhdGEsIGJ1dCBiZWxvdyBjdXJyZW50IGRhdGFcbi8vICAgICAgICogcGx1cyBXSU5fSU5JVCAtLSB6ZXJvIG91dCB0byBjdXJyZW50IGRhdGEgcGx1cyBXSU5fSU5JVCwgb3IgdXBcbi8vICAgICAgICogdG8gZW5kIG9mIHdpbmRvdywgd2hpY2hldmVyIGlzIGxlc3MuXG4vLyAgICAgICAqL1xuLy8gICAgICBpbml0ID0gKHVsZyljdXJyICsgV0lOX0lOSVQgLSBzLT5oaWdoX3dhdGVyO1xuLy8gICAgICBpZiAoaW5pdCA+IHMtPndpbmRvd19zaXplIC0gcy0+aGlnaF93YXRlcilcbi8vICAgICAgICBpbml0ID0gcy0+d2luZG93X3NpemUgLSBzLT5oaWdoX3dhdGVyO1xuLy8gICAgICB6bWVtemVybyhzLT53aW5kb3cgKyBzLT5oaWdoX3dhdGVyLCAodW5zaWduZWQpaW5pdCk7XG4vLyAgICAgIHMtPmhpZ2hfd2F0ZXIgKz0gaW5pdDtcbi8vICAgIH1cbi8vICB9XG4vL1xuLy8gIEFzc2VydCgodWxnKXMtPnN0cnN0YXJ0IDw9IHMtPndpbmRvd19zaXplIC0gTUlOX0xPT0tBSEVBRCxcbi8vICAgIFwibm90IGVub3VnaCByb29tIGZvciBzZWFyY2hcIik7XG59O1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHkgd2l0aG91dCBjb21wcmVzc2lvbiBhcyBtdWNoIGFzIHBvc3NpYmxlIGZyb20gdGhlIGlucHV0IHN0cmVhbSwgcmV0dXJuXG4gKiB0aGUgY3VycmVudCBibG9jayBzdGF0ZS5cbiAqXG4gKiBJbiBjYXNlIGRlZmxhdGVQYXJhbXMoKSBpcyB1c2VkIHRvIGxhdGVyIHN3aXRjaCB0byBhIG5vbi16ZXJvIGNvbXByZXNzaW9uXG4gKiBsZXZlbCwgcy0+bWF0Y2hlcyAob3RoZXJ3aXNlIHVudXNlZCB3aGVuIHN0b3JpbmcpIGtlZXBzIHRyYWNrIG9mIHRoZSBudW1iZXJcbiAqIG9mIGhhc2ggdGFibGUgc2xpZGVzIHRvIHBlcmZvcm0uIElmIHMtPm1hdGNoZXMgaXMgMSwgdGhlbiBvbmUgaGFzaCB0YWJsZVxuICogc2xpZGUgd2lsbCBiZSBkb25lIHdoZW4gc3dpdGNoaW5nLiBJZiBzLT5tYXRjaGVzIGlzIDIsIHRoZSBtYXhpbXVtIHZhbHVlXG4gKiBhbGxvd2VkIGhlcmUsIHRoZW4gdGhlIGhhc2ggdGFibGUgd2lsbCBiZSBjbGVhcmVkLCBzaW5jZSB0d28gb3IgbW9yZSBzbGlkZXNcbiAqIGlzIHRoZSBzYW1lIGFzIGEgY2xlYXIuXG4gKlxuICogZGVmbGF0ZV9zdG9yZWQoKSBpcyB3cml0dGVuIHRvIG1pbmltaXplIHRoZSBudW1iZXIgb2YgdGltZXMgYW4gaW5wdXQgYnl0ZSBpc1xuICogY29waWVkLiBJdCBpcyBtb3N0IGVmZmljaWVudCB3aXRoIGxhcmdlIGlucHV0IGFuZCBvdXRwdXQgYnVmZmVycywgd2hpY2hcbiAqIG1heGltaXplcyB0aGUgb3Bwb3J0dW5pdGVzIHRvIGhhdmUgYSBzaW5nbGUgY29weSBmcm9tIG5leHRfaW4gdG8gbmV4dF9vdXQuXG4gKi9cbmNvbnN0IGRlZmxhdGVfc3RvcmVkID0gKHMsIGZsdXNoKSA9PiB7XG5cbiAgLyogU21hbGxlc3Qgd29ydGh5IGJsb2NrIHNpemUgd2hlbiBub3QgZmx1c2hpbmcgb3IgZmluaXNoaW5nLiBCeSBkZWZhdWx0XG4gICAqIHRoaXMgaXMgMzJLLiBUaGlzIGNhbiBiZSBhcyBzbWFsbCBhcyA1MDcgYnl0ZXMgZm9yIG1lbUxldmVsID09IDEuIEZvclxuICAgKiBsYXJnZSBpbnB1dCBhbmQgb3V0cHV0IGJ1ZmZlcnMsIHRoZSBzdG9yZWQgYmxvY2sgc2l6ZSB3aWxsIGJlIGxhcmdlci5cbiAgICovXG4gIGxldCBtaW5fYmxvY2sgPSBzLnBlbmRpbmdfYnVmX3NpemUgLSA1ID4gcy53X3NpemUgPyBzLndfc2l6ZSA6IHMucGVuZGluZ19idWZfc2l6ZSAtIDU7XG5cbiAgLyogQ29weSBhcyBtYW55IG1pbl9ibG9jayBvciBsYXJnZXIgc3RvcmVkIGJsb2NrcyBkaXJlY3RseSB0byBuZXh0X291dCBhc1xuICAgKiBwb3NzaWJsZS4gSWYgZmx1c2hpbmcsIGNvcHkgdGhlIHJlbWFpbmluZyBhdmFpbGFibGUgaW5wdXQgdG8gbmV4dF9vdXQgYXNcbiAgICogc3RvcmVkIGJsb2NrcywgaWYgdGhlcmUgaXMgZW5vdWdoIHNwYWNlLlxuICAgKi9cbiAgbGV0IGxlbiwgbGVmdCwgaGF2ZSwgbGFzdCA9IDA7XG4gIGxldCB1c2VkID0gcy5zdHJtLmF2YWlsX2luO1xuICBkbyB7XG4gICAgLyogU2V0IGxlbiB0byB0aGUgbWF4aW11bSBzaXplIGJsb2NrIHRoYXQgd2UgY2FuIGNvcHkgZGlyZWN0bHkgd2l0aCB0aGVcbiAgICAgKiBhdmFpbGFibGUgaW5wdXQgZGF0YSBhbmQgb3V0cHV0IHNwYWNlLiBTZXQgbGVmdCB0byBob3cgbXVjaCBvZiB0aGF0XG4gICAgICogd291bGQgYmUgY29waWVkIGZyb20gd2hhdCdzIGxlZnQgaW4gdGhlIHdpbmRvdy5cbiAgICAgKi9cbiAgICBsZW4gPSA2NTUzNS8qIE1BWF9TVE9SRUQgKi87ICAgICAvKiBtYXhpbXVtIGRlZmxhdGUgc3RvcmVkIGJsb2NrIGxlbmd0aCAqL1xuICAgIGhhdmUgPSAocy5iaV92YWxpZCArIDQyKSA+PiAzOyAgICAgLyogbnVtYmVyIG9mIGhlYWRlciBieXRlcyAqL1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0IDwgaGF2ZSkgeyAgICAgICAgIC8qIG5lZWQgcm9vbSBmb3IgaGVhZGVyICovXG4gICAgICBicmVhaztcbiAgICB9XG4gICAgICAvKiBtYXhpbXVtIHN0b3JlZCBibG9jayBsZW5ndGggdGhhdCB3aWxsIGZpdCBpbiBhdmFpbF9vdXQ6ICovXG4gICAgaGF2ZSA9IHMuc3RybS5hdmFpbF9vdXQgLSBoYXZlO1xuICAgIGxlZnQgPSBzLnN0cnN0YXJ0IC0gcy5ibG9ja19zdGFydDsgIC8qIGJ5dGVzIGxlZnQgaW4gd2luZG93ICovXG4gICAgaWYgKGxlbiA+IGxlZnQgKyBzLnN0cm0uYXZhaWxfaW4pIHtcbiAgICAgIGxlbiA9IGxlZnQgKyBzLnN0cm0uYXZhaWxfaW47ICAgLyogbGltaXQgbGVuIHRvIHRoZSBpbnB1dCAqL1xuICAgIH1cbiAgICBpZiAobGVuID4gaGF2ZSkge1xuICAgICAgbGVuID0gaGF2ZTsgICAgICAgICAgICAgLyogbGltaXQgbGVuIHRvIHRoZSBvdXRwdXQgKi9cbiAgICB9XG5cbiAgICAvKiBJZiB0aGUgc3RvcmVkIGJsb2NrIHdvdWxkIGJlIGxlc3MgdGhhbiBtaW5fYmxvY2sgaW4gbGVuZ3RoLCBvciBpZlxuICAgICAqIHVuYWJsZSB0byBjb3B5IGFsbCBvZiB0aGUgYXZhaWxhYmxlIGlucHV0IHdoZW4gZmx1c2hpbmcsIHRoZW4gdHJ5XG4gICAgICogY29weWluZyB0byB0aGUgd2luZG93IGFuZCB0aGUgcGVuZGluZyBidWZmZXIgaW5zdGVhZC4gQWxzbyBkb24ndFxuICAgICAqIHdyaXRlIGFuIGVtcHR5IGJsb2NrIHdoZW4gZmx1c2hpbmcgLS0gZGVmbGF0ZSgpIGRvZXMgdGhhdC5cbiAgICAgKi9cbiAgICBpZiAobGVuIDwgbWluX2Jsb2NrICYmICgobGVuID09PSAwICYmIGZsdXNoICE9PSBaX0ZJTklTSCQzKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmx1c2ggPT09IFpfTk9fRkxVU0gkMiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuICE9PSBsZWZ0ICsgcy5zdHJtLmF2YWlsX2luKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLyogTWFrZSBhIGR1bW15IHN0b3JlZCBibG9jayBpbiBwZW5kaW5nIHRvIGdldCB0aGUgaGVhZGVyIGJ5dGVzLFxuICAgICAqIGluY2x1ZGluZyBhbnkgcGVuZGluZyBiaXRzLiBUaGlzIGFsc28gdXBkYXRlcyB0aGUgZGVidWdnaW5nIGNvdW50cy5cbiAgICAgKi9cbiAgICBsYXN0ID0gZmx1c2ggPT09IFpfRklOSVNIJDMgJiYgbGVuID09PSBsZWZ0ICsgcy5zdHJtLmF2YWlsX2luID8gMSA6IDA7XG4gICAgX3RyX3N0b3JlZF9ibG9jayhzLCAwLCAwLCBsYXN0KTtcblxuICAgIC8qIFJlcGxhY2UgdGhlIGxlbmd0aHMgaW4gdGhlIGR1bW15IHN0b3JlZCBibG9jayB3aXRoIGxlbi4gKi9cbiAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZyAtIDRdID0gbGVuO1xuICAgIHMucGVuZGluZ19idWZbcy5wZW5kaW5nIC0gM10gPSBsZW4gPj4gODtcbiAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZyAtIDJdID0gfmxlbjtcbiAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZyAtIDFdID0gfmxlbiA+PiA4O1xuXG4gICAgLyogV3JpdGUgdGhlIHN0b3JlZCBibG9jayBoZWFkZXIgYnl0ZXMuICovXG4gICAgZmx1c2hfcGVuZGluZyhzLnN0cm0pO1xuXG4vLyNpZmRlZiBaTElCX0RFQlVHXG4vLyAgICAvKiBVcGRhdGUgZGVidWdnaW5nIGNvdW50cyBmb3IgdGhlIGRhdGEgYWJvdXQgdG8gYmUgY29waWVkLiAqL1xuLy8gICAgcy0+Y29tcHJlc3NlZF9sZW4gKz0gbGVuIDw8IDM7XG4vLyAgICBzLT5iaXRzX3NlbnQgKz0gbGVuIDw8IDM7XG4vLyNlbmRpZlxuXG4gICAgLyogQ29weSB1bmNvbXByZXNzZWQgYnl0ZXMgZnJvbSB0aGUgd2luZG93IHRvIG5leHRfb3V0LiAqL1xuICAgIGlmIChsZWZ0KSB7XG4gICAgICBpZiAobGVmdCA+IGxlbikge1xuICAgICAgICBsZWZ0ID0gbGVuO1xuICAgICAgfVxuICAgICAgLy96bWVtY3B5KHMtPnN0cm0tPm5leHRfb3V0LCBzLT53aW5kb3cgKyBzLT5ibG9ja19zdGFydCwgbGVmdCk7XG4gICAgICBzLnN0cm0ub3V0cHV0LnNldChzLndpbmRvdy5zdWJhcnJheShzLmJsb2NrX3N0YXJ0LCBzLmJsb2NrX3N0YXJ0ICsgbGVmdCksIHMuc3RybS5uZXh0X291dCk7XG4gICAgICBzLnN0cm0ubmV4dF9vdXQgKz0gbGVmdDtcbiAgICAgIHMuc3RybS5hdmFpbF9vdXQgLT0gbGVmdDtcbiAgICAgIHMuc3RybS50b3RhbF9vdXQgKz0gbGVmdDtcbiAgICAgIHMuYmxvY2tfc3RhcnQgKz0gbGVmdDtcbiAgICAgIGxlbiAtPSBsZWZ0O1xuICAgIH1cblxuICAgIC8qIENvcHkgdW5jb21wcmVzc2VkIGJ5dGVzIGRpcmVjdGx5IGZyb20gbmV4dF9pbiB0byBuZXh0X291dCwgdXBkYXRpbmdcbiAgICAgKiB0aGUgY2hlY2sgdmFsdWUuXG4gICAgICovXG4gICAgaWYgKGxlbikge1xuICAgICAgcmVhZF9idWYocy5zdHJtLCBzLnN0cm0ub3V0cHV0LCBzLnN0cm0ubmV4dF9vdXQsIGxlbik7XG4gICAgICBzLnN0cm0ubmV4dF9vdXQgKz0gbGVuO1xuICAgICAgcy5zdHJtLmF2YWlsX291dCAtPSBsZW47XG4gICAgICBzLnN0cm0udG90YWxfb3V0ICs9IGxlbjtcbiAgICB9XG4gIH0gd2hpbGUgKGxhc3QgPT09IDApO1xuXG4gIC8qIFVwZGF0ZSB0aGUgc2xpZGluZyB3aW5kb3cgd2l0aCB0aGUgbGFzdCBzLT53X3NpemUgYnl0ZXMgb2YgdGhlIGNvcGllZFxuICAgKiBkYXRhLCBvciBhcHBlbmQgYWxsIG9mIHRoZSBjb3BpZWQgZGF0YSB0byB0aGUgZXhpc3Rpbmcgd2luZG93IGlmIGxlc3NcbiAgICogdGhhbiBzLT53X3NpemUgYnl0ZXMgd2VyZSBjb3BpZWQuIEFsc28gdXBkYXRlIHRoZSBudW1iZXIgb2YgYnl0ZXMgdG9cbiAgICogaW5zZXJ0IGluIHRoZSBoYXNoIHRhYmxlcywgaW4gdGhlIGV2ZW50IHRoYXQgZGVmbGF0ZVBhcmFtcygpIHN3aXRjaGVzIHRvXG4gICAqIGEgbm9uLXplcm8gY29tcHJlc3Npb24gbGV2ZWwuXG4gICAqL1xuICB1c2VkIC09IHMuc3RybS5hdmFpbF9pbjsgICAgLyogbnVtYmVyIG9mIGlucHV0IGJ5dGVzIGRpcmVjdGx5IGNvcGllZCAqL1xuICBpZiAodXNlZCkge1xuICAgIC8qIElmIGFueSBpbnB1dCB3YXMgdXNlZCwgdGhlbiBubyB1bnVzZWQgaW5wdXQgcmVtYWlucyBpbiB0aGUgd2luZG93LFxuICAgICAqIHRoZXJlZm9yZSBzLT5ibG9ja19zdGFydCA9PSBzLT5zdHJzdGFydC5cbiAgICAgKi9cbiAgICBpZiAodXNlZCA+PSBzLndfc2l6ZSkgeyAgLyogc3VwcGxhbnQgdGhlIHByZXZpb3VzIGhpc3RvcnkgKi9cbiAgICAgIHMubWF0Y2hlcyA9IDI7ICAgICAvKiBjbGVhciBoYXNoICovXG4gICAgICAvL3ptZW1jcHkocy0+d2luZG93LCBzLT5zdHJtLT5uZXh0X2luIC0gcy0+d19zaXplLCBzLT53X3NpemUpO1xuICAgICAgcy53aW5kb3cuc2V0KHMuc3RybS5pbnB1dC5zdWJhcnJheShzLnN0cm0ubmV4dF9pbiAtIHMud19zaXplLCBzLnN0cm0ubmV4dF9pbiksIDApO1xuICAgICAgcy5zdHJzdGFydCA9IHMud19zaXplO1xuICAgICAgcy5pbnNlcnQgPSBzLnN0cnN0YXJ0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmIChzLndpbmRvd19zaXplIC0gcy5zdHJzdGFydCA8PSB1c2VkKSB7XG4gICAgICAgIC8qIFNsaWRlIHRoZSB3aW5kb3cgZG93bi4gKi9cbiAgICAgICAgcy5zdHJzdGFydCAtPSBzLndfc2l6ZTtcbiAgICAgICAgLy96bWVtY3B5KHMtPndpbmRvdywgcy0+d2luZG93ICsgcy0+d19zaXplLCBzLT5zdHJzdGFydCk7XG4gICAgICAgIHMud2luZG93LnNldChzLndpbmRvdy5zdWJhcnJheShzLndfc2l6ZSwgcy53X3NpemUgKyBzLnN0cnN0YXJ0KSwgMCk7XG4gICAgICAgIGlmIChzLm1hdGNoZXMgPCAyKSB7XG4gICAgICAgICAgcy5tYXRjaGVzKys7ICAgLyogYWRkIGEgcGVuZGluZyBzbGlkZV9oYXNoKCkgKi9cbiAgICAgICAgfVxuICAgICAgICBpZiAocy5pbnNlcnQgPiBzLnN0cnN0YXJ0KSB7XG4gICAgICAgICAgcy5pbnNlcnQgPSBzLnN0cnN0YXJ0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvL3ptZW1jcHkocy0+d2luZG93ICsgcy0+c3Ryc3RhcnQsIHMtPnN0cm0tPm5leHRfaW4gLSB1c2VkLCB1c2VkKTtcbiAgICAgIHMud2luZG93LnNldChzLnN0cm0uaW5wdXQuc3ViYXJyYXkocy5zdHJtLm5leHRfaW4gLSB1c2VkLCBzLnN0cm0ubmV4dF9pbiksIHMuc3Ryc3RhcnQpO1xuICAgICAgcy5zdHJzdGFydCArPSB1c2VkO1xuICAgICAgcy5pbnNlcnQgKz0gdXNlZCA+IHMud19zaXplIC0gcy5pbnNlcnQgPyBzLndfc2l6ZSAtIHMuaW5zZXJ0IDogdXNlZDtcbiAgICB9XG4gICAgcy5ibG9ja19zdGFydCA9IHMuc3Ryc3RhcnQ7XG4gIH1cbiAgaWYgKHMuaGlnaF93YXRlciA8IHMuc3Ryc3RhcnQpIHtcbiAgICBzLmhpZ2hfd2F0ZXIgPSBzLnN0cnN0YXJ0O1xuICB9XG5cbiAgLyogSWYgdGhlIGxhc3QgYmxvY2sgd2FzIHdyaXR0ZW4gdG8gbmV4dF9vdXQsIHRoZW4gZG9uZS4gKi9cbiAgaWYgKGxhc3QpIHtcbiAgICByZXR1cm4gQlNfRklOSVNIX0RPTkU7XG4gIH1cblxuICAvKiBJZiBmbHVzaGluZyBhbmQgYWxsIGlucHV0IGhhcyBiZWVuIGNvbnN1bWVkLCB0aGVuIGRvbmUuICovXG4gIGlmIChmbHVzaCAhPT0gWl9OT19GTFVTSCQyICYmIGZsdXNoICE9PSBaX0ZJTklTSCQzICYmXG4gICAgcy5zdHJtLmF2YWlsX2luID09PSAwICYmIHMuc3Ryc3RhcnQgPT09IHMuYmxvY2tfc3RhcnQpIHtcbiAgICByZXR1cm4gQlNfQkxPQ0tfRE9ORTtcbiAgfVxuXG4gIC8qIEZpbGwgdGhlIHdpbmRvdyB3aXRoIGFueSByZW1haW5pbmcgaW5wdXQuICovXG4gIGhhdmUgPSBzLndpbmRvd19zaXplIC0gcy5zdHJzdGFydDtcbiAgaWYgKHMuc3RybS5hdmFpbF9pbiA+IGhhdmUgJiYgcy5ibG9ja19zdGFydCA+PSBzLndfc2l6ZSkge1xuICAgIC8qIFNsaWRlIHRoZSB3aW5kb3cgZG93bi4gKi9cbiAgICBzLmJsb2NrX3N0YXJ0IC09IHMud19zaXplO1xuICAgIHMuc3Ryc3RhcnQgLT0gcy53X3NpemU7XG4gICAgLy96bWVtY3B5KHMtPndpbmRvdywgcy0+d2luZG93ICsgcy0+d19zaXplLCBzLT5zdHJzdGFydCk7XG4gICAgcy53aW5kb3cuc2V0KHMud2luZG93LnN1YmFycmF5KHMud19zaXplLCBzLndfc2l6ZSArIHMuc3Ryc3RhcnQpLCAwKTtcbiAgICBpZiAocy5tYXRjaGVzIDwgMikge1xuICAgICAgcy5tYXRjaGVzKys7ICAgICAgIC8qIGFkZCBhIHBlbmRpbmcgc2xpZGVfaGFzaCgpICovXG4gICAgfVxuICAgIGhhdmUgKz0gcy53X3NpemU7ICAgICAgLyogbW9yZSBzcGFjZSBub3cgKi9cbiAgICBpZiAocy5pbnNlcnQgPiBzLnN0cnN0YXJ0KSB7XG4gICAgICBzLmluc2VydCA9IHMuc3Ryc3RhcnQ7XG4gICAgfVxuICB9XG4gIGlmIChoYXZlID4gcy5zdHJtLmF2YWlsX2luKSB7XG4gICAgaGF2ZSA9IHMuc3RybS5hdmFpbF9pbjtcbiAgfVxuICBpZiAoaGF2ZSkge1xuICAgIHJlYWRfYnVmKHMuc3RybSwgcy53aW5kb3csIHMuc3Ryc3RhcnQsIGhhdmUpO1xuICAgIHMuc3Ryc3RhcnQgKz0gaGF2ZTtcbiAgICBzLmluc2VydCArPSBoYXZlID4gcy53X3NpemUgLSBzLmluc2VydCA/IHMud19zaXplIC0gcy5pbnNlcnQgOiBoYXZlO1xuICB9XG4gIGlmIChzLmhpZ2hfd2F0ZXIgPCBzLnN0cnN0YXJ0KSB7XG4gICAgcy5oaWdoX3dhdGVyID0gcy5zdHJzdGFydDtcbiAgfVxuXG4gIC8qIFRoZXJlIHdhcyBub3QgZW5vdWdoIGF2YWlsX291dCB0byB3cml0ZSBhIGNvbXBsZXRlIHdvcnRoeSBvciBmbHVzaGVkXG4gICAqIHN0b3JlZCBibG9jayB0byBuZXh0X291dC4gV3JpdGUgYSBzdG9yZWQgYmxvY2sgdG8gcGVuZGluZyBpbnN0ZWFkLCBpZiB3ZVxuICAgKiBoYXZlIGVub3VnaCBpbnB1dCBmb3IgYSB3b3J0aHkgYmxvY2ssIG9yIGlmIGZsdXNoaW5nIGFuZCB0aGVyZSBpcyBlbm91Z2hcbiAgICogcm9vbSBmb3IgdGhlIHJlbWFpbmluZyBpbnB1dCBhcyBhIHN0b3JlZCBibG9jayBpbiB0aGUgcGVuZGluZyBidWZmZXIuXG4gICAqL1xuICBoYXZlID0gKHMuYmlfdmFsaWQgKyA0MikgPj4gMzsgICAgIC8qIG51bWJlciBvZiBoZWFkZXIgYnl0ZXMgKi9cbiAgICAvKiBtYXhpbXVtIHN0b3JlZCBibG9jayBsZW5ndGggdGhhdCB3aWxsIGZpdCBpbiBwZW5kaW5nOiAqL1xuICBoYXZlID0gcy5wZW5kaW5nX2J1Zl9zaXplIC0gaGF2ZSA+IDY1NTM1LyogTUFYX1NUT1JFRCAqLyA/IDY1NTM1LyogTUFYX1NUT1JFRCAqLyA6IHMucGVuZGluZ19idWZfc2l6ZSAtIGhhdmU7XG4gIG1pbl9ibG9jayA9IGhhdmUgPiBzLndfc2l6ZSA/IHMud19zaXplIDogaGF2ZTtcbiAgbGVmdCA9IHMuc3Ryc3RhcnQgLSBzLmJsb2NrX3N0YXJ0O1xuICBpZiAobGVmdCA+PSBtaW5fYmxvY2sgfHxcbiAgICAgKChsZWZ0IHx8IGZsdXNoID09PSBaX0ZJTklTSCQzKSAmJiBmbHVzaCAhPT0gWl9OT19GTFVTSCQyICYmXG4gICAgIHMuc3RybS5hdmFpbF9pbiA9PT0gMCAmJiBsZWZ0IDw9IGhhdmUpKSB7XG4gICAgbGVuID0gbGVmdCA+IGhhdmUgPyBoYXZlIDogbGVmdDtcbiAgICBsYXN0ID0gZmx1c2ggPT09IFpfRklOSVNIJDMgJiYgcy5zdHJtLmF2YWlsX2luID09PSAwICYmXG4gICAgICAgICBsZW4gPT09IGxlZnQgPyAxIDogMDtcbiAgICBfdHJfc3RvcmVkX2Jsb2NrKHMsIHMuYmxvY2tfc3RhcnQsIGxlbiwgbGFzdCk7XG4gICAgcy5ibG9ja19zdGFydCArPSBsZW47XG4gICAgZmx1c2hfcGVuZGluZyhzLnN0cm0pO1xuICB9XG5cbiAgLyogV2UndmUgZG9uZSBhbGwgd2UgY2FuIHdpdGggdGhlIGF2YWlsYWJsZSBpbnB1dCBhbmQgb3V0cHV0LiAqL1xuICByZXR1cm4gbGFzdCA/IEJTX0ZJTklTSF9TVEFSVEVEIDogQlNfTkVFRF9NT1JFO1xufTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvbXByZXNzIGFzIG11Y2ggYXMgcG9zc2libGUgZnJvbSB0aGUgaW5wdXQgc3RyZWFtLCByZXR1cm4gdGhlIGN1cnJlbnRcbiAqIGJsb2NrIHN0YXRlLlxuICogVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBwZXJmb3JtIGxhenkgZXZhbHVhdGlvbiBvZiBtYXRjaGVzIGFuZCBpbnNlcnRzXG4gKiBuZXcgc3RyaW5ncyBpbiB0aGUgZGljdGlvbmFyeSBvbmx5IGZvciB1bm1hdGNoZWQgc3RyaW5ncyBvciBmb3Igc2hvcnRcbiAqIG1hdGNoZXMuIEl0IGlzIHVzZWQgb25seSBmb3IgdGhlIGZhc3QgY29tcHJlc3Npb24gb3B0aW9ucy5cbiAqL1xuY29uc3QgZGVmbGF0ZV9mYXN0ID0gKHMsIGZsdXNoKSA9PiB7XG5cbiAgbGV0IGhhc2hfaGVhZDsgICAgICAgIC8qIGhlYWQgb2YgdGhlIGhhc2ggY2hhaW4gKi9cbiAgbGV0IGJmbHVzaDsgICAgICAgICAgIC8qIHNldCBpZiBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZCAqL1xuXG4gIGZvciAoOzspIHtcbiAgICAvKiBNYWtlIHN1cmUgdGhhdCB3ZSBhbHdheXMgaGF2ZSBlbm91Z2ggbG9va2FoZWFkLCBleGNlcHRcbiAgICAgKiBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCBmaWxlLiBXZSBuZWVkIE1BWF9NQVRDSCBieXRlc1xuICAgICAqIGZvciB0aGUgbmV4dCBtYXRjaCwgcGx1cyBNSU5fTUFUQ0ggYnl0ZXMgdG8gaW5zZXJ0IHRoZVxuICAgICAqIHN0cmluZyBmb2xsb3dpbmcgdGhlIG5leHQgbWF0Y2guXG4gICAgICovXG4gICAgaWYgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCkge1xuICAgICAgZmlsbF93aW5kb3cocyk7XG4gICAgICBpZiAocy5sb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFEICYmIGZsdXNoID09PSBaX05PX0ZMVVNIJDIpIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICBicmVhazsgLyogZmx1c2ggdGhlIGN1cnJlbnQgYmxvY2sgKi9cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBJbnNlcnQgdGhlIHN0cmluZyB3aW5kb3dbc3Ryc3RhcnQgLi4gc3Ryc3RhcnQrMl0gaW4gdGhlXG4gICAgICogZGljdGlvbmFyeSwgYW5kIHNldCBoYXNoX2hlYWQgdG8gdGhlIGhlYWQgb2YgdGhlIGhhc2ggY2hhaW46XG4gICAgICovXG4gICAgaGFzaF9oZWFkID0gMC8qTklMKi87XG4gICAgaWYgKHMubG9va2FoZWFkID49IE1JTl9NQVRDSCkge1xuICAgICAgLyoqKiBJTlNFUlRfU1RSSU5HKHMsIHMuc3Ryc3RhcnQsIGhhc2hfaGVhZCk7ICoqKi9cbiAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3Muc3Ryc3RhcnQgKyBNSU5fTUFUQ0ggLSAxXSk7XG4gICAgICBoYXNoX2hlYWQgPSBzLnByZXZbcy5zdHJzdGFydCAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcbiAgICAgIHMuaGVhZFtzLmluc19oXSA9IHMuc3Ryc3RhcnQ7XG4gICAgICAvKioqL1xuICAgIH1cblxuICAgIC8qIEZpbmQgdGhlIGxvbmdlc3QgbWF0Y2gsIGRpc2NhcmRpbmcgdGhvc2UgPD0gcHJldl9sZW5ndGguXG4gICAgICogQXQgdGhpcyBwb2ludCB3ZSBoYXZlIGFsd2F5cyBtYXRjaF9sZW5ndGggPCBNSU5fTUFUQ0hcbiAgICAgKi9cbiAgICBpZiAoaGFzaF9oZWFkICE9PSAwLypOSUwqLyAmJiAoKHMuc3Ryc3RhcnQgLSBoYXNoX2hlYWQpIDw9IChzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQpKSkge1xuICAgICAgLyogVG8gc2ltcGxpZnkgdGhlIGNvZGUsIHdlIHByZXZlbnQgbWF0Y2hlcyB3aXRoIHRoZSBzdHJpbmdcbiAgICAgICAqIG9mIHdpbmRvdyBpbmRleCAwIChpbiBwYXJ0aWN1bGFyIHdlIGhhdmUgdG8gYXZvaWQgYSBtYXRjaFxuICAgICAgICogb2YgdGhlIHN0cmluZyB3aXRoIGl0c2VsZiBhdCB0aGUgc3RhcnQgb2YgdGhlIGlucHV0IGZpbGUpLlxuICAgICAgICovXG4gICAgICBzLm1hdGNoX2xlbmd0aCA9IGxvbmdlc3RfbWF0Y2gocywgaGFzaF9oZWFkKTtcbiAgICAgIC8qIGxvbmdlc3RfbWF0Y2goKSBzZXRzIG1hdGNoX3N0YXJ0ICovXG4gICAgfVxuICAgIGlmIChzLm1hdGNoX2xlbmd0aCA+PSBNSU5fTUFUQ0gpIHtcbiAgICAgIC8vIGNoZWNrX21hdGNoKHMsIHMuc3Ryc3RhcnQsIHMubWF0Y2hfc3RhcnQsIHMubWF0Y2hfbGVuZ3RoKTsgLy8gZm9yIGRlYnVnIG9ubHlcblxuICAgICAgLyoqKiBfdHJfdGFsbHlfZGlzdChzLCBzLnN0cnN0YXJ0IC0gcy5tYXRjaF9zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoIC0gTUlOX01BVENILCBiZmx1c2gpOyAqKiovXG4gICAgICBiZmx1c2ggPSBfdHJfdGFsbHkocywgcy5zdHJzdGFydCAtIHMubWF0Y2hfc3RhcnQsIHMubWF0Y2hfbGVuZ3RoIC0gTUlOX01BVENIKTtcblxuICAgICAgcy5sb29rYWhlYWQgLT0gcy5tYXRjaF9sZW5ndGg7XG5cbiAgICAgIC8qIEluc2VydCBuZXcgc3RyaW5ncyBpbiB0aGUgaGFzaCB0YWJsZSBvbmx5IGlmIHRoZSBtYXRjaCBsZW5ndGhcbiAgICAgICAqIGlzIG5vdCB0b28gbGFyZ2UuIFRoaXMgc2F2ZXMgdGltZSBidXQgZGVncmFkZXMgY29tcHJlc3Npb24uXG4gICAgICAgKi9cbiAgICAgIGlmIChzLm1hdGNoX2xlbmd0aCA8PSBzLm1heF9sYXp5X21hdGNoLyptYXhfaW5zZXJ0X2xlbmd0aCovICYmIHMubG9va2FoZWFkID49IE1JTl9NQVRDSCkge1xuICAgICAgICBzLm1hdGNoX2xlbmd0aC0tOyAvKiBzdHJpbmcgYXQgc3Ryc3RhcnQgYWxyZWFkeSBpbiB0YWJsZSAqL1xuICAgICAgICBkbyB7XG4gICAgICAgICAgcy5zdHJzdGFydCsrO1xuICAgICAgICAgIC8qKiogSU5TRVJUX1NUUklORyhzLCBzLnN0cnN0YXJ0LCBoYXNoX2hlYWQpOyAqKiovXG4gICAgICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbcy5zdHJzdGFydCArIE1JTl9NQVRDSCAtIDFdKTtcbiAgICAgICAgICBoYXNoX2hlYWQgPSBzLnByZXZbcy5zdHJzdGFydCAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcbiAgICAgICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzLnN0cnN0YXJ0O1xuICAgICAgICAgIC8qKiovXG4gICAgICAgICAgLyogc3Ryc3RhcnQgbmV2ZXIgZXhjZWVkcyBXU0laRS1NQVhfTUFUQ0gsIHNvIHRoZXJlIGFyZVxuICAgICAgICAgICAqIGFsd2F5cyBNSU5fTUFUQ0ggYnl0ZXMgYWhlYWQuXG4gICAgICAgICAgICovXG4gICAgICAgIH0gd2hpbGUgKC0tcy5tYXRjaF9sZW5ndGggIT09IDApO1xuICAgICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICB9IGVsc2VcbiAgICAgIHtcbiAgICAgICAgcy5zdHJzdGFydCArPSBzLm1hdGNoX2xlbmd0aDtcbiAgICAgICAgcy5tYXRjaF9sZW5ndGggPSAwO1xuICAgICAgICBzLmluc19oID0gcy53aW5kb3dbcy5zdHJzdGFydF07XG4gICAgICAgIC8qIFVQREFURV9IQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3Muc3Ryc3RhcnQrMV0pOyAqL1xuICAgICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgMV0pO1xuXG4vLyNpZiBNSU5fTUFUQ0ggIT0gM1xuLy8gICAgICAgICAgICAgICAgQ2FsbCBVUERBVEVfSEFTSCgpIE1JTl9NQVRDSC0zIG1vcmUgdGltZXNcbi8vI2VuZGlmXG4gICAgICAgIC8qIElmIGxvb2thaGVhZCA8IE1JTl9NQVRDSCwgaW5zX2ggaXMgZ2FyYmFnZSwgYnV0IGl0IGRvZXMgbm90XG4gICAgICAgICAqIG1hdHRlciBzaW5jZSBpdCB3aWxsIGJlIHJlY29tcHV0ZWQgYXQgbmV4dCBkZWZsYXRlIGNhbGwuXG4gICAgICAgICAqL1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBObyBtYXRjaCwgb3V0cHV0IGEgbGl0ZXJhbCBieXRlICovXG4gICAgICAvL1RyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMud2luZG93W3Muc3Ryc3RhcnRdKSk7XG4gICAgICAvKioqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydF0sIGJmbHVzaCk7ICoqKi9cbiAgICAgIGJmbHVzaCA9IF90cl90YWxseShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSk7XG5cbiAgICAgIHMubG9va2FoZWFkLS07XG4gICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgfVxuICAgIGlmIChiZmx1c2gpIHtcbiAgICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIC8qKiovXG4gICAgfVxuICB9XG4gIHMuaW5zZXJ0ID0gKChzLnN0cnN0YXJ0IDwgKE1JTl9NQVRDSCAtIDEpKSA/IHMuc3Ryc3RhcnQgOiBNSU5fTUFUQ0ggLSAxKTtcbiAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCQzKSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAxKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgdHJ1ZSk7XG4gICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHJldHVybiBCU19GSU5JU0hfU1RBUlRFRDtcbiAgICB9XG4gICAgLyoqKi9cbiAgICByZXR1cm4gQlNfRklOSVNIX0RPTkU7XG4gIH1cbiAgaWYgKHMuc3ltX25leHQpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgfVxuICAgIC8qKiovXG4gIH1cbiAgcmV0dXJuIEJTX0JMT0NLX0RPTkU7XG59O1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNhbWUgYXMgYWJvdmUsIGJ1dCBhY2hpZXZlcyBiZXR0ZXIgY29tcHJlc3Npb24uIFdlIHVzZSBhIGxhenlcbiAqIGV2YWx1YXRpb24gZm9yIG1hdGNoZXM6IGEgbWF0Y2ggaXMgZmluYWxseSBhZG9wdGVkIG9ubHkgaWYgdGhlcmUgaXNcbiAqIG5vIGJldHRlciBtYXRjaCBhdCB0aGUgbmV4dCB3aW5kb3cgcG9zaXRpb24uXG4gKi9cbmNvbnN0IGRlZmxhdGVfc2xvdyA9IChzLCBmbHVzaCkgPT4ge1xuXG4gIGxldCBoYXNoX2hlYWQ7ICAgICAgICAgIC8qIGhlYWQgb2YgaGFzaCBjaGFpbiAqL1xuICBsZXQgYmZsdXNoOyAgICAgICAgICAgICAgLyogc2V0IGlmIGN1cnJlbnQgYmxvY2sgbXVzdCBiZSBmbHVzaGVkICovXG5cbiAgbGV0IG1heF9pbnNlcnQ7XG5cbiAgLyogUHJvY2VzcyB0aGUgaW5wdXQgYmxvY2suICovXG4gIGZvciAoOzspIHtcbiAgICAvKiBNYWtlIHN1cmUgdGhhdCB3ZSBhbHdheXMgaGF2ZSBlbm91Z2ggbG9va2FoZWFkLCBleGNlcHRcbiAgICAgKiBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCBmaWxlLiBXZSBuZWVkIE1BWF9NQVRDSCBieXRlc1xuICAgICAqIGZvciB0aGUgbmV4dCBtYXRjaCwgcGx1cyBNSU5fTUFUQ0ggYnl0ZXMgdG8gaW5zZXJ0IHRoZVxuICAgICAqIHN0cmluZyBmb2xsb3dpbmcgdGhlIG5leHQgbWF0Y2guXG4gICAgICovXG4gICAgaWYgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCkge1xuICAgICAgZmlsbF93aW5kb3cocyk7XG4gICAgICBpZiAocy5sb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFEICYmIGZsdXNoID09PSBaX05PX0ZMVVNIJDIpIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkgeyBicmVhazsgfSAvKiBmbHVzaCB0aGUgY3VycmVudCBibG9jayAqL1xuICAgIH1cblxuICAgIC8qIEluc2VydCB0aGUgc3RyaW5nIHdpbmRvd1tzdHJzdGFydCAuLiBzdHJzdGFydCsyXSBpbiB0aGVcbiAgICAgKiBkaWN0aW9uYXJ5LCBhbmQgc2V0IGhhc2hfaGVhZCB0byB0aGUgaGVhZCBvZiB0aGUgaGFzaCBjaGFpbjpcbiAgICAgKi9cbiAgICBoYXNoX2hlYWQgPSAwLypOSUwqLztcbiAgICBpZiAocy5sb29rYWhlYWQgPj0gTUlOX01BVENIKSB7XG4gICAgICAvKioqIElOU0VSVF9TVFJJTkcocywgcy5zdHJzdGFydCwgaGFzaF9oZWFkKTsgKioqL1xuICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbcy5zdHJzdGFydCArIE1JTl9NQVRDSCAtIDFdKTtcbiAgICAgIGhhc2hfaGVhZCA9IHMucHJldltzLnN0cnN0YXJ0ICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuICAgICAgcy5oZWFkW3MuaW5zX2hdID0gcy5zdHJzdGFydDtcbiAgICAgIC8qKiovXG4gICAgfVxuXG4gICAgLyogRmluZCB0aGUgbG9uZ2VzdCBtYXRjaCwgZGlzY2FyZGluZyB0aG9zZSA8PSBwcmV2X2xlbmd0aC5cbiAgICAgKi9cbiAgICBzLnByZXZfbGVuZ3RoID0gcy5tYXRjaF9sZW5ndGg7XG4gICAgcy5wcmV2X21hdGNoID0gcy5tYXRjaF9zdGFydDtcbiAgICBzLm1hdGNoX2xlbmd0aCA9IE1JTl9NQVRDSCAtIDE7XG5cbiAgICBpZiAoaGFzaF9oZWFkICE9PSAwLypOSUwqLyAmJiBzLnByZXZfbGVuZ3RoIDwgcy5tYXhfbGF6eV9tYXRjaCAmJlxuICAgICAgICBzLnN0cnN0YXJ0IC0gaGFzaF9oZWFkIDw9IChzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQpLypNQVhfRElTVChzKSovKSB7XG4gICAgICAvKiBUbyBzaW1wbGlmeSB0aGUgY29kZSwgd2UgcHJldmVudCBtYXRjaGVzIHdpdGggdGhlIHN0cmluZ1xuICAgICAgICogb2Ygd2luZG93IGluZGV4IDAgKGluIHBhcnRpY3VsYXIgd2UgaGF2ZSB0byBhdm9pZCBhIG1hdGNoXG4gICAgICAgKiBvZiB0aGUgc3RyaW5nIHdpdGggaXRzZWxmIGF0IHRoZSBzdGFydCBvZiB0aGUgaW5wdXQgZmlsZSkuXG4gICAgICAgKi9cbiAgICAgIHMubWF0Y2hfbGVuZ3RoID0gbG9uZ2VzdF9tYXRjaChzLCBoYXNoX2hlYWQpO1xuICAgICAgLyogbG9uZ2VzdF9tYXRjaCgpIHNldHMgbWF0Y2hfc3RhcnQgKi9cblxuICAgICAgaWYgKHMubWF0Y2hfbGVuZ3RoIDw9IDUgJiZcbiAgICAgICAgIChzLnN0cmF0ZWd5ID09PSBaX0ZJTFRFUkVEIHx8IChzLm1hdGNoX2xlbmd0aCA9PT0gTUlOX01BVENIICYmIHMuc3Ryc3RhcnQgLSBzLm1hdGNoX3N0YXJ0ID4gNDA5Ni8qVE9PX0ZBUiovKSkpIHtcblxuICAgICAgICAvKiBJZiBwcmV2X21hdGNoIGlzIGFsc28gTUlOX01BVENILCBtYXRjaF9zdGFydCBpcyBnYXJiYWdlXG4gICAgICAgICAqIGJ1dCB3ZSB3aWxsIGlnbm9yZSB0aGUgY3VycmVudCBtYXRjaCBhbnl3YXkuXG4gICAgICAgICAqL1xuICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IE1JTl9NQVRDSCAtIDE7XG4gICAgICB9XG4gICAgfVxuICAgIC8qIElmIHRoZXJlIHdhcyBhIG1hdGNoIGF0IHRoZSBwcmV2aW91cyBzdGVwIGFuZCB0aGUgY3VycmVudFxuICAgICAqIG1hdGNoIGlzIG5vdCBiZXR0ZXIsIG91dHB1dCB0aGUgcHJldmlvdXMgbWF0Y2g6XG4gICAgICovXG4gICAgaWYgKHMucHJldl9sZW5ndGggPj0gTUlOX01BVENIICYmIHMubWF0Y2hfbGVuZ3RoIDw9IHMucHJldl9sZW5ndGgpIHtcbiAgICAgIG1heF9pbnNlcnQgPSBzLnN0cnN0YXJ0ICsgcy5sb29rYWhlYWQgLSBNSU5fTUFUQ0g7XG4gICAgICAvKiBEbyBub3QgaW5zZXJ0IHN0cmluZ3MgaW4gaGFzaCB0YWJsZSBiZXlvbmQgdGhpcy4gKi9cblxuICAgICAgLy9jaGVja19tYXRjaChzLCBzLnN0cnN0YXJ0LTEsIHMucHJldl9tYXRjaCwgcy5wcmV2X2xlbmd0aCk7XG5cbiAgICAgIC8qKipfdHJfdGFsbHlfZGlzdChzLCBzLnN0cnN0YXJ0IC0gMSAtIHMucHJldl9tYXRjaCxcbiAgICAgICAgICAgICAgICAgICAgIHMucHJldl9sZW5ndGggLSBNSU5fTUFUQ0gsIGJmbHVzaCk7KioqL1xuICAgICAgYmZsdXNoID0gX3RyX3RhbGx5KHMsIHMuc3Ryc3RhcnQgLSAxIC0gcy5wcmV2X21hdGNoLCBzLnByZXZfbGVuZ3RoIC0gTUlOX01BVENIKTtcbiAgICAgIC8qIEluc2VydCBpbiBoYXNoIHRhYmxlIGFsbCBzdHJpbmdzIHVwIHRvIHRoZSBlbmQgb2YgdGhlIG1hdGNoLlxuICAgICAgICogc3Ryc3RhcnQtMSBhbmQgc3Ryc3RhcnQgYXJlIGFscmVhZHkgaW5zZXJ0ZWQuIElmIHRoZXJlIGlzIG5vdFxuICAgICAgICogZW5vdWdoIGxvb2thaGVhZCwgdGhlIGxhc3QgdHdvIHN0cmluZ3MgYXJlIG5vdCBpbnNlcnRlZCBpblxuICAgICAgICogdGhlIGhhc2ggdGFibGUuXG4gICAgICAgKi9cbiAgICAgIHMubG9va2FoZWFkIC09IHMucHJldl9sZW5ndGggLSAxO1xuICAgICAgcy5wcmV2X2xlbmd0aCAtPSAyO1xuICAgICAgZG8ge1xuICAgICAgICBpZiAoKytzLnN0cnN0YXJ0IDw9IG1heF9pbnNlcnQpIHtcbiAgICAgICAgICAvKioqIElOU0VSVF9TVFJJTkcocywgcy5zdHJzdGFydCwgaGFzaF9oZWFkKTsgKioqL1xuICAgICAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3Muc3Ryc3RhcnQgKyBNSU5fTUFUQ0ggLSAxXSk7XG4gICAgICAgICAgaGFzaF9oZWFkID0gcy5wcmV2W3Muc3Ryc3RhcnQgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG4gICAgICAgICAgcy5oZWFkW3MuaW5zX2hdID0gcy5zdHJzdGFydDtcbiAgICAgICAgICAvKioqL1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlICgtLXMucHJldl9sZW5ndGggIT09IDApO1xuICAgICAgcy5tYXRjaF9hdmFpbGFibGUgPSAwO1xuICAgICAgcy5tYXRjaF9sZW5ndGggPSBNSU5fTUFUQ0ggLSAxO1xuICAgICAgcy5zdHJzdGFydCsrO1xuXG4gICAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgfVxuICAgICAgICAvKioqL1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChzLm1hdGNoX2F2YWlsYWJsZSkge1xuICAgICAgLyogSWYgdGhlcmUgd2FzIG5vIG1hdGNoIGF0IHRoZSBwcmV2aW91cyBwb3NpdGlvbiwgb3V0cHV0IGFcbiAgICAgICAqIHNpbmdsZSBsaXRlcmFsLiBJZiB0aGVyZSB3YXMgYSBtYXRjaCBidXQgdGhlIGN1cnJlbnQgbWF0Y2hcbiAgICAgICAqIGlzIGxvbmdlciwgdHJ1bmNhdGUgdGhlIHByZXZpb3VzIG1hdGNoIHRvIGEgc2luZ2xlIGxpdGVyYWwuXG4gICAgICAgKi9cbiAgICAgIC8vVHJhY2V2digoc3RkZXJyLFwiJWNcIiwgcy0+d2luZG93W3MtPnN0cnN0YXJ0LTFdKSk7XG4gICAgICAvKioqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydC0xXSwgYmZsdXNoKTsgKioqL1xuICAgICAgYmZsdXNoID0gX3RyX3RhbGx5KHMsIDAsIHMud2luZG93W3Muc3Ryc3RhcnQgLSAxXSk7XG5cbiAgICAgIGlmIChiZmx1c2gpIHtcbiAgICAgICAgLyoqKiBGTFVTSF9CTE9DS19PTkxZKHMsIDApICoqKi9cbiAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICAgIC8qKiovXG4gICAgICB9XG4gICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICBzLmxvb2thaGVhZC0tO1xuICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyogVGhlcmUgaXMgbm8gcHJldmlvdXMgbWF0Y2ggdG8gY29tcGFyZSB3aXRoLCB3YWl0IGZvclxuICAgICAgICogdGhlIG5leHQgc3RlcCB0byBkZWNpZGUuXG4gICAgICAgKi9cbiAgICAgIHMubWF0Y2hfYXZhaWxhYmxlID0gMTtcbiAgICAgIHMuc3Ryc3RhcnQrKztcbiAgICAgIHMubG9va2FoZWFkLS07XG4gICAgfVxuICB9XG4gIC8vQXNzZXJ0IChmbHVzaCAhPSBaX05PX0ZMVVNILCBcIm5vIGZsdXNoP1wiKTtcbiAgaWYgKHMubWF0Y2hfYXZhaWxhYmxlKSB7XG4gICAgLy9UcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLT53aW5kb3dbcy0+c3Ryc3RhcnQtMV0pKTtcbiAgICAvKioqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydC0xXSwgYmZsdXNoKTsgKioqL1xuICAgIGJmbHVzaCA9IF90cl90YWxseShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0IC0gMV0pO1xuXG4gICAgcy5tYXRjaF9hdmFpbGFibGUgPSAwO1xuICB9XG4gIHMuaW5zZXJ0ID0gcy5zdHJzdGFydCA8IE1JTl9NQVRDSCAtIDEgPyBzLnN0cnN0YXJ0IDogTUlOX01BVENIIC0gMTtcbiAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCQzKSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAxKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgdHJ1ZSk7XG4gICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHJldHVybiBCU19GSU5JU0hfU1RBUlRFRDtcbiAgICB9XG4gICAgLyoqKi9cbiAgICByZXR1cm4gQlNfRklOSVNIX0RPTkU7XG4gIH1cbiAgaWYgKHMuc3ltX25leHQpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgfVxuICAgIC8qKiovXG4gIH1cblxuICByZXR1cm4gQlNfQkxPQ0tfRE9ORTtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBGb3IgWl9STEUsIHNpbXBseSBsb29rIGZvciBydW5zIG9mIGJ5dGVzLCBnZW5lcmF0ZSBtYXRjaGVzIG9ubHkgb2YgZGlzdGFuY2VcbiAqIG9uZS4gIERvIG5vdCBtYWludGFpbiBhIGhhc2ggdGFibGUuICAoSXQgd2lsbCBiZSByZWdlbmVyYXRlZCBpZiB0aGlzIHJ1biBvZlxuICogZGVmbGF0ZSBzd2l0Y2hlcyBhd2F5IGZyb20gWl9STEUuKVxuICovXG5jb25zdCBkZWZsYXRlX3JsZSA9IChzLCBmbHVzaCkgPT4ge1xuXG4gIGxldCBiZmx1c2g7ICAgICAgICAgICAgLyogc2V0IGlmIGN1cnJlbnQgYmxvY2sgbXVzdCBiZSBmbHVzaGVkICovXG4gIGxldCBwcmV2OyAgICAgICAgICAgICAgLyogYnl0ZSBhdCBkaXN0YW5jZSBvbmUgdG8gbWF0Y2ggKi9cbiAgbGV0IHNjYW4sIHN0cmVuZDsgICAgICAvKiBzY2FuIGdvZXMgdXAgdG8gc3RyZW5kIGZvciBsZW5ndGggb2YgcnVuICovXG5cbiAgY29uc3QgX3dpbiA9IHMud2luZG93O1xuXG4gIGZvciAoOzspIHtcbiAgICAvKiBNYWtlIHN1cmUgdGhhdCB3ZSBhbHdheXMgaGF2ZSBlbm91Z2ggbG9va2FoZWFkLCBleGNlcHRcbiAgICAgKiBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCBmaWxlLiBXZSBuZWVkIE1BWF9NQVRDSCBieXRlc1xuICAgICAqIGZvciB0aGUgbG9uZ2VzdCBydW4sIHBsdXMgb25lIGZvciB0aGUgdW5yb2xsZWQgbG9vcC5cbiAgICAgKi9cbiAgICBpZiAocy5sb29rYWhlYWQgPD0gTUFYX01BVENIKSB7XG4gICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgIGlmIChzLmxvb2thaGVhZCA8PSBNQVhfTUFUQ0ggJiYgZmx1c2ggPT09IFpfTk9fRkxVU0gkMikge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7IGJyZWFrOyB9IC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgfVxuXG4gICAgLyogU2VlIGhvdyBtYW55IHRpbWVzIHRoZSBwcmV2aW91cyBieXRlIHJlcGVhdHMgKi9cbiAgICBzLm1hdGNoX2xlbmd0aCA9IDA7XG4gICAgaWYgKHMubG9va2FoZWFkID49IE1JTl9NQVRDSCAmJiBzLnN0cnN0YXJ0ID4gMCkge1xuICAgICAgc2NhbiA9IHMuc3Ryc3RhcnQgLSAxO1xuICAgICAgcHJldiA9IF93aW5bc2Nhbl07XG4gICAgICBpZiAocHJldiA9PT0gX3dpblsrK3NjYW5dICYmIHByZXYgPT09IF93aW5bKytzY2FuXSAmJiBwcmV2ID09PSBfd2luWysrc2Nhbl0pIHtcbiAgICAgICAgc3RyZW5kID0gcy5zdHJzdGFydCArIE1BWF9NQVRDSDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIC8qanNoaW50IG5vZW1wdHk6ZmFsc2UqL1xuICAgICAgICB9IHdoaWxlIChwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmXG4gICAgICAgICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJiBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgICAgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmXG4gICAgICAgICAgICAgICAgIHNjYW4gPCBzdHJlbmQpO1xuICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IE1BWF9NQVRDSCAtIChzdHJlbmQgLSBzY2FuKTtcbiAgICAgICAgaWYgKHMubWF0Y2hfbGVuZ3RoID4gcy5sb29rYWhlYWQpIHtcbiAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IHMubG9va2FoZWFkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvL0Fzc2VydChzY2FuIDw9IHMtPndpbmRvdysodUludCkocy0+d2luZG93X3NpemUtMSksIFwid2lsZCBzY2FuXCIpO1xuICAgIH1cblxuICAgIC8qIEVtaXQgbWF0Y2ggaWYgaGF2ZSBydW4gb2YgTUlOX01BVENIIG9yIGxvbmdlciwgZWxzZSBlbWl0IGxpdGVyYWwgKi9cbiAgICBpZiAocy5tYXRjaF9sZW5ndGggPj0gTUlOX01BVENIKSB7XG4gICAgICAvL2NoZWNrX21hdGNoKHMsIHMuc3Ryc3RhcnQsIHMuc3Ryc3RhcnQgLSAxLCBzLm1hdGNoX2xlbmd0aCk7XG5cbiAgICAgIC8qKiogX3RyX3RhbGx5X2Rpc3QocywgMSwgcy5tYXRjaF9sZW5ndGggLSBNSU5fTUFUQ0gsIGJmbHVzaCk7ICoqKi9cbiAgICAgIGJmbHVzaCA9IF90cl90YWxseShzLCAxLCBzLm1hdGNoX2xlbmd0aCAtIE1JTl9NQVRDSCk7XG5cbiAgICAgIHMubG9va2FoZWFkIC09IHMubWF0Y2hfbGVuZ3RoO1xuICAgICAgcy5zdHJzdGFydCArPSBzLm1hdGNoX2xlbmd0aDtcbiAgICAgIHMubWF0Y2hfbGVuZ3RoID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgLyogTm8gbWF0Y2gsIG91dHB1dCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLT53aW5kb3dbcy0+c3Ryc3RhcnRdKSk7XG4gICAgICAvKioqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydF0sIGJmbHVzaCk7ICoqKi9cbiAgICAgIGJmbHVzaCA9IF90cl90YWxseShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSk7XG5cbiAgICAgIHMubG9va2FoZWFkLS07XG4gICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgfVxuICAgIGlmIChiZmx1c2gpIHtcbiAgICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIC8qKiovXG4gICAgfVxuICB9XG4gIHMuaW5zZXJ0ID0gMDtcbiAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCQzKSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAxKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgdHJ1ZSk7XG4gICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHJldHVybiBCU19GSU5JU0hfU1RBUlRFRDtcbiAgICB9XG4gICAgLyoqKi9cbiAgICByZXR1cm4gQlNfRklOSVNIX0RPTkU7XG4gIH1cbiAgaWYgKHMuc3ltX25leHQpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgfVxuICAgIC8qKiovXG4gIH1cbiAgcmV0dXJuIEJTX0JMT0NLX0RPTkU7XG59O1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZvciBaX0hVRkZNQU5fT05MWSwgZG8gbm90IGxvb2sgZm9yIG1hdGNoZXMuICBEbyBub3QgbWFpbnRhaW4gYSBoYXNoIHRhYmxlLlxuICogKEl0IHdpbGwgYmUgcmVnZW5lcmF0ZWQgaWYgdGhpcyBydW4gb2YgZGVmbGF0ZSBzd2l0Y2hlcyBhd2F5IGZyb20gSHVmZm1hbi4pXG4gKi9cbmNvbnN0IGRlZmxhdGVfaHVmZiA9IChzLCBmbHVzaCkgPT4ge1xuXG4gIGxldCBiZmx1c2g7ICAgICAgICAgICAgIC8qIHNldCBpZiBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZCAqL1xuXG4gIGZvciAoOzspIHtcbiAgICAvKiBNYWtlIHN1cmUgdGhhdCB3ZSBoYXZlIGEgbGl0ZXJhbCB0byB3cml0ZS4gKi9cbiAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgIGZpbGxfd2luZG93KHMpO1xuICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICAgIGlmIChmbHVzaCA9PT0gWl9OT19GTFVTSCQyKSB7XG4gICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgfVxuICAgICAgICBicmVhazsgICAgICAvKiBmbHVzaCB0aGUgY3VycmVudCBibG9jayAqL1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qIE91dHB1dCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgIHMubWF0Y2hfbGVuZ3RoID0gMDtcbiAgICAvL1RyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMtPndpbmRvd1tzLT5zdHJzdGFydF0pKTtcbiAgICAvKioqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydF0sIGJmbHVzaCk7ICoqKi9cbiAgICBiZmx1c2ggPSBfdHJfdGFsbHkocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydF0pO1xuICAgIHMubG9va2FoZWFkLS07XG4gICAgcy5zdHJzdGFydCsrO1xuICAgIGlmIChiZmx1c2gpIHtcbiAgICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIC8qKiovXG4gICAgfVxuICB9XG4gIHMuaW5zZXJ0ID0gMDtcbiAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCQzKSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAxKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgdHJ1ZSk7XG4gICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHJldHVybiBCU19GSU5JU0hfU1RBUlRFRDtcbiAgICB9XG4gICAgLyoqKi9cbiAgICByZXR1cm4gQlNfRklOSVNIX0RPTkU7XG4gIH1cbiAgaWYgKHMuc3ltX25leHQpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgfVxuICAgIC8qKiovXG4gIH1cbiAgcmV0dXJuIEJTX0JMT0NLX0RPTkU7XG59O1xuXG4vKiBWYWx1ZXMgZm9yIG1heF9sYXp5X21hdGNoLCBnb29kX21hdGNoIGFuZCBtYXhfY2hhaW5fbGVuZ3RoLCBkZXBlbmRpbmcgb25cbiAqIHRoZSBkZXNpcmVkIHBhY2sgbGV2ZWwgKDAuLjkpLiBUaGUgdmFsdWVzIGdpdmVuIGJlbG93IGhhdmUgYmVlbiB0dW5lZCB0b1xuICogZXhjbHVkZSB3b3JzdCBjYXNlIHBlcmZvcm1hbmNlIGZvciBwYXRob2xvZ2ljYWwgZmlsZXMuIEJldHRlciB2YWx1ZXMgbWF5IGJlXG4gKiBmb3VuZCBmb3Igc3BlY2lmaWMgZmlsZXMuXG4gKi9cbmZ1bmN0aW9uIENvbmZpZyhnb29kX2xlbmd0aCwgbWF4X2xhenksIG5pY2VfbGVuZ3RoLCBtYXhfY2hhaW4sIGZ1bmMpIHtcblxuICB0aGlzLmdvb2RfbGVuZ3RoID0gZ29vZF9sZW5ndGg7XG4gIHRoaXMubWF4X2xhenkgPSBtYXhfbGF6eTtcbiAgdGhpcy5uaWNlX2xlbmd0aCA9IG5pY2VfbGVuZ3RoO1xuICB0aGlzLm1heF9jaGFpbiA9IG1heF9jaGFpbjtcbiAgdGhpcy5mdW5jID0gZnVuYztcbn1cblxuY29uc3QgY29uZmlndXJhdGlvbl90YWJsZSA9IFtcbiAgLyogICAgICBnb29kIGxhenkgbmljZSBjaGFpbiAqL1xuICBuZXcgQ29uZmlnKDAsIDAsIDAsIDAsIGRlZmxhdGVfc3RvcmVkKSwgICAgICAgICAgLyogMCBzdG9yZSBvbmx5ICovXG4gIG5ldyBDb25maWcoNCwgNCwgOCwgNCwgZGVmbGF0ZV9mYXN0KSwgICAgICAgICAgICAvKiAxIG1heCBzcGVlZCwgbm8gbGF6eSBtYXRjaGVzICovXG4gIG5ldyBDb25maWcoNCwgNSwgMTYsIDgsIGRlZmxhdGVfZmFzdCksICAgICAgICAgICAvKiAyICovXG4gIG5ldyBDb25maWcoNCwgNiwgMzIsIDMyLCBkZWZsYXRlX2Zhc3QpLCAgICAgICAgICAvKiAzICovXG5cbiAgbmV3IENvbmZpZyg0LCA0LCAxNiwgMTYsIGRlZmxhdGVfc2xvdyksICAgICAgICAgIC8qIDQgbGF6eSBtYXRjaGVzICovXG4gIG5ldyBDb25maWcoOCwgMTYsIDMyLCAzMiwgZGVmbGF0ZV9zbG93KSwgICAgICAgICAvKiA1ICovXG4gIG5ldyBDb25maWcoOCwgMTYsIDEyOCwgMTI4LCBkZWZsYXRlX3Nsb3cpLCAgICAgICAvKiA2ICovXG4gIG5ldyBDb25maWcoOCwgMzIsIDEyOCwgMjU2LCBkZWZsYXRlX3Nsb3cpLCAgICAgICAvKiA3ICovXG4gIG5ldyBDb25maWcoMzIsIDEyOCwgMjU4LCAxMDI0LCBkZWZsYXRlX3Nsb3cpLCAgICAvKiA4ICovXG4gIG5ldyBDb25maWcoMzIsIDI1OCwgMjU4LCA0MDk2LCBkZWZsYXRlX3Nsb3cpICAgICAvKiA5IG1heCBjb21wcmVzc2lvbiAqL1xuXTtcblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEluaXRpYWxpemUgdGhlIFwibG9uZ2VzdCBtYXRjaFwiIHJvdXRpbmVzIGZvciBhIG5ldyB6bGliIHN0cmVhbVxuICovXG5jb25zdCBsbV9pbml0ID0gKHMpID0+IHtcblxuICBzLndpbmRvd19zaXplID0gMiAqIHMud19zaXplO1xuXG4gIC8qKiogQ0xFQVJfSEFTSChzKTsgKioqL1xuICB6ZXJvKHMuaGVhZCk7IC8vIEZpbGwgd2l0aCBOSUwgKD0gMCk7XG5cbiAgLyogU2V0IHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVyczpcbiAgICovXG4gIHMubWF4X2xhenlfbWF0Y2ggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLm1heF9sYXp5O1xuICBzLmdvb2RfbWF0Y2ggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLmdvb2RfbGVuZ3RoO1xuICBzLm5pY2VfbWF0Y2ggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLm5pY2VfbGVuZ3RoO1xuICBzLm1heF9jaGFpbl9sZW5ndGggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLm1heF9jaGFpbjtcblxuICBzLnN0cnN0YXJ0ID0gMDtcbiAgcy5ibG9ja19zdGFydCA9IDA7XG4gIHMubG9va2FoZWFkID0gMDtcbiAgcy5pbnNlcnQgPSAwO1xuICBzLm1hdGNoX2xlbmd0aCA9IHMucHJldl9sZW5ndGggPSBNSU5fTUFUQ0ggLSAxO1xuICBzLm1hdGNoX2F2YWlsYWJsZSA9IDA7XG4gIHMuaW5zX2ggPSAwO1xufTtcblxuXG5mdW5jdGlvbiBEZWZsYXRlU3RhdGUoKSB7XG4gIHRoaXMuc3RybSA9IG51bGw7ICAgICAgICAgICAgLyogcG9pbnRlciBiYWNrIHRvIHRoaXMgemxpYiBzdHJlYW0gKi9cbiAgdGhpcy5zdGF0dXMgPSAwOyAgICAgICAgICAgIC8qIGFzIHRoZSBuYW1lIGltcGxpZXMgKi9cbiAgdGhpcy5wZW5kaW5nX2J1ZiA9IG51bGw7ICAgICAgLyogb3V0cHV0IHN0aWxsIHBlbmRpbmcgKi9cbiAgdGhpcy5wZW5kaW5nX2J1Zl9zaXplID0gMDsgIC8qIHNpemUgb2YgcGVuZGluZ19idWYgKi9cbiAgdGhpcy5wZW5kaW5nX291dCA9IDA7ICAgICAgIC8qIG5leHQgcGVuZGluZyBieXRlIHRvIG91dHB1dCB0byB0aGUgc3RyZWFtICovXG4gIHRoaXMucGVuZGluZyA9IDA7ICAgICAgICAgICAvKiBuYiBvZiBieXRlcyBpbiB0aGUgcGVuZGluZyBidWZmZXIgKi9cbiAgdGhpcy53cmFwID0gMDsgICAgICAgICAgICAgIC8qIGJpdCAwIHRydWUgZm9yIHpsaWIsIGJpdCAxIHRydWUgZm9yIGd6aXAgKi9cbiAgdGhpcy5nemhlYWQgPSBudWxsOyAgICAgICAgIC8qIGd6aXAgaGVhZGVyIGluZm9ybWF0aW9uIHRvIHdyaXRlICovXG4gIHRoaXMuZ3ppbmRleCA9IDA7ICAgICAgICAgICAvKiB3aGVyZSBpbiBleHRyYSwgbmFtZSwgb3IgY29tbWVudCAqL1xuICB0aGlzLm1ldGhvZCA9IFpfREVGTEFURUQkMjsgLyogY2FuIG9ubHkgYmUgREVGTEFURUQgKi9cbiAgdGhpcy5sYXN0X2ZsdXNoID0gLTE7ICAgLyogdmFsdWUgb2YgZmx1c2ggcGFyYW0gZm9yIHByZXZpb3VzIGRlZmxhdGUgY2FsbCAqL1xuXG4gIHRoaXMud19zaXplID0gMDsgIC8qIExaNzcgd2luZG93IHNpemUgKDMySyBieSBkZWZhdWx0KSAqL1xuICB0aGlzLndfYml0cyA9IDA7ICAvKiBsb2cyKHdfc2l6ZSkgICg4Li4xNikgKi9cbiAgdGhpcy53X21hc2sgPSAwOyAgLyogd19zaXplIC0gMSAqL1xuXG4gIHRoaXMud2luZG93ID0gbnVsbDtcbiAgLyogU2xpZGluZyB3aW5kb3cuIElucHV0IGJ5dGVzIGFyZSByZWFkIGludG8gdGhlIHNlY29uZCBoYWxmIG9mIHRoZSB3aW5kb3csXG4gICAqIGFuZCBtb3ZlIHRvIHRoZSBmaXJzdCBoYWxmIGxhdGVyIHRvIGtlZXAgYSBkaWN0aW9uYXJ5IG9mIGF0IGxlYXN0IHdTaXplXG4gICAqIGJ5dGVzLiBXaXRoIHRoaXMgb3JnYW5pemF0aW9uLCBtYXRjaGVzIGFyZSBsaW1pdGVkIHRvIGEgZGlzdGFuY2Ugb2ZcbiAgICogd1NpemUtTUFYX01BVENIIGJ5dGVzLCBidXQgdGhpcyBlbnN1cmVzIHRoYXQgSU8gaXMgYWx3YXlzXG4gICAqIHBlcmZvcm1lZCB3aXRoIGEgbGVuZ3RoIG11bHRpcGxlIG9mIHRoZSBibG9jayBzaXplLlxuICAgKi9cblxuICB0aGlzLndpbmRvd19zaXplID0gMDtcbiAgLyogQWN0dWFsIHNpemUgb2Ygd2luZG93OiAyKndTaXplLCBleGNlcHQgd2hlbiB0aGUgdXNlciBpbnB1dCBidWZmZXJcbiAgICogaXMgZGlyZWN0bHkgdXNlZCBhcyBzbGlkaW5nIHdpbmRvdy5cbiAgICovXG5cbiAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgLyogTGluayB0byBvbGRlciBzdHJpbmcgd2l0aCBzYW1lIGhhc2ggaW5kZXguIFRvIGxpbWl0IHRoZSBzaXplIG9mIHRoaXNcbiAgICogYXJyYXkgdG8gNjRLLCB0aGlzIGxpbmsgaXMgbWFpbnRhaW5lZCBvbmx5IGZvciB0aGUgbGFzdCAzMksgc3RyaW5ncy5cbiAgICogQW4gaW5kZXggaW4gdGhpcyBhcnJheSBpcyB0aHVzIGEgd2luZG93IGluZGV4IG1vZHVsbyAzMksuXG4gICAqL1xuXG4gIHRoaXMuaGVhZCA9IG51bGw7ICAgLyogSGVhZHMgb2YgdGhlIGhhc2ggY2hhaW5zIG9yIE5JTC4gKi9cblxuICB0aGlzLmluc19oID0gMDsgICAgICAgLyogaGFzaCBpbmRleCBvZiBzdHJpbmcgdG8gYmUgaW5zZXJ0ZWQgKi9cbiAgdGhpcy5oYXNoX3NpemUgPSAwOyAgIC8qIG51bWJlciBvZiBlbGVtZW50cyBpbiBoYXNoIHRhYmxlICovXG4gIHRoaXMuaGFzaF9iaXRzID0gMDsgICAvKiBsb2cyKGhhc2hfc2l6ZSkgKi9cbiAgdGhpcy5oYXNoX21hc2sgPSAwOyAgIC8qIGhhc2hfc2l6ZS0xICovXG5cbiAgdGhpcy5oYXNoX3NoaWZ0ID0gMDtcbiAgLyogTnVtYmVyIG9mIGJpdHMgYnkgd2hpY2ggaW5zX2ggbXVzdCBiZSBzaGlmdGVkIGF0IGVhY2ggaW5wdXRcbiAgICogc3RlcC4gSXQgbXVzdCBiZSBzdWNoIHRoYXQgYWZ0ZXIgTUlOX01BVENIIHN0ZXBzLCB0aGUgb2xkZXN0XG4gICAqIGJ5dGUgbm8gbG9uZ2VyIHRha2VzIHBhcnQgaW4gdGhlIGhhc2gga2V5LCB0aGF0IGlzOlxuICAgKiAgIGhhc2hfc2hpZnQgKiBNSU5fTUFUQ0ggPj0gaGFzaF9iaXRzXG4gICAqL1xuXG4gIHRoaXMuYmxvY2tfc3RhcnQgPSAwO1xuICAvKiBXaW5kb3cgcG9zaXRpb24gYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgY3VycmVudCBvdXRwdXQgYmxvY2suIEdldHNcbiAgICogbmVnYXRpdmUgd2hlbiB0aGUgd2luZG93IGlzIG1vdmVkIGJhY2t3YXJkcy5cbiAgICovXG5cbiAgdGhpcy5tYXRjaF9sZW5ndGggPSAwOyAgICAgIC8qIGxlbmd0aCBvZiBiZXN0IG1hdGNoICovXG4gIHRoaXMucHJldl9tYXRjaCA9IDA7ICAgICAgICAvKiBwcmV2aW91cyBtYXRjaCAqL1xuICB0aGlzLm1hdGNoX2F2YWlsYWJsZSA9IDA7ICAgLyogc2V0IGlmIHByZXZpb3VzIG1hdGNoIGV4aXN0cyAqL1xuICB0aGlzLnN0cnN0YXJ0ID0gMDsgICAgICAgICAgLyogc3RhcnQgb2Ygc3RyaW5nIHRvIGluc2VydCAqL1xuICB0aGlzLm1hdGNoX3N0YXJ0ID0gMDsgICAgICAgLyogc3RhcnQgb2YgbWF0Y2hpbmcgc3RyaW5nICovXG4gIHRoaXMubG9va2FoZWFkID0gMDsgICAgICAgICAvKiBudW1iZXIgb2YgdmFsaWQgYnl0ZXMgYWhlYWQgaW4gd2luZG93ICovXG5cbiAgdGhpcy5wcmV2X2xlbmd0aCA9IDA7XG4gIC8qIExlbmd0aCBvZiB0aGUgYmVzdCBtYXRjaCBhdCBwcmV2aW91cyBzdGVwLiBNYXRjaGVzIG5vdCBncmVhdGVyIHRoYW4gdGhpc1xuICAgKiBhcmUgZGlzY2FyZGVkLiBUaGlzIGlzIHVzZWQgaW4gdGhlIGxhenkgbWF0Y2ggZXZhbHVhdGlvbi5cbiAgICovXG5cbiAgdGhpcy5tYXhfY2hhaW5fbGVuZ3RoID0gMDtcbiAgLyogVG8gc3BlZWQgdXAgZGVmbGF0aW9uLCBoYXNoIGNoYWlucyBhcmUgbmV2ZXIgc2VhcmNoZWQgYmV5b25kIHRoaXNcbiAgICogbGVuZ3RoLiAgQSBoaWdoZXIgbGltaXQgaW1wcm92ZXMgY29tcHJlc3Npb24gcmF0aW8gYnV0IGRlZ3JhZGVzIHRoZVxuICAgKiBzcGVlZC5cbiAgICovXG5cbiAgdGhpcy5tYXhfbGF6eV9tYXRjaCA9IDA7XG4gIC8qIEF0dGVtcHQgdG8gZmluZCBhIGJldHRlciBtYXRjaCBvbmx5IHdoZW4gdGhlIGN1cnJlbnQgbWF0Y2ggaXMgc3RyaWN0bHlcbiAgICogc21hbGxlciB0aGFuIHRoaXMgdmFsdWUuIFRoaXMgbWVjaGFuaXNtIGlzIHVzZWQgb25seSBmb3IgY29tcHJlc3Npb25cbiAgICogbGV2ZWxzID49IDQuXG4gICAqL1xuICAvLyBUaGF0J3MgYWxpYXMgdG8gbWF4X2xhenlfbWF0Y2gsIGRvbid0IHVzZSBkaXJlY3RseVxuICAvL3RoaXMubWF4X2luc2VydF9sZW5ndGggPSAwO1xuICAvKiBJbnNlcnQgbmV3IHN0cmluZ3MgaW4gdGhlIGhhc2ggdGFibGUgb25seSBpZiB0aGUgbWF0Y2ggbGVuZ3RoIGlzIG5vdFxuICAgKiBncmVhdGVyIHRoYW4gdGhpcyBsZW5ndGguIFRoaXMgc2F2ZXMgdGltZSBidXQgZGVncmFkZXMgY29tcHJlc3Npb24uXG4gICAqIG1heF9pbnNlcnRfbGVuZ3RoIGlzIHVzZWQgb25seSBmb3IgY29tcHJlc3Npb24gbGV2ZWxzIDw9IDMuXG4gICAqL1xuXG4gIHRoaXMubGV2ZWwgPSAwOyAgICAgLyogY29tcHJlc3Npb24gbGV2ZWwgKDEuLjkpICovXG4gIHRoaXMuc3RyYXRlZ3kgPSAwOyAgLyogZmF2b3Igb3IgZm9yY2UgSHVmZm1hbiBjb2RpbmcqL1xuXG4gIHRoaXMuZ29vZF9tYXRjaCA9IDA7XG4gIC8qIFVzZSBhIGZhc3RlciBzZWFyY2ggd2hlbiB0aGUgcHJldmlvdXMgbWF0Y2ggaXMgbG9uZ2VyIHRoYW4gdGhpcyAqL1xuXG4gIHRoaXMubmljZV9tYXRjaCA9IDA7IC8qIFN0b3Agc2VhcmNoaW5nIHdoZW4gY3VycmVudCBtYXRjaCBleGNlZWRzIHRoaXMgKi9cblxuICAgICAgICAgICAgICAvKiB1c2VkIGJ5IHRyZWVzLmM6ICovXG5cbiAgLyogRGlkbid0IHVzZSBjdF9kYXRhIHR5cGVkZWYgYmVsb3cgdG8gc3VwcHJlc3MgY29tcGlsZXIgd2FybmluZyAqL1xuXG4gIC8vIHN0cnVjdCBjdF9kYXRhX3MgZHluX2x0cmVlW0hFQVBfU0laRV07ICAgLyogbGl0ZXJhbCBhbmQgbGVuZ3RoIHRyZWUgKi9cbiAgLy8gc3RydWN0IGN0X2RhdGFfcyBkeW5fZHRyZWVbMipEX0NPREVTKzFdOyAvKiBkaXN0YW5jZSB0cmVlICovXG4gIC8vIHN0cnVjdCBjdF9kYXRhX3MgYmxfdHJlZVsyKkJMX0NPREVTKzFdOyAgLyogSHVmZm1hbiB0cmVlIGZvciBiaXQgbGVuZ3RocyAqL1xuXG4gIC8vIFVzZSBmbGF0IGFycmF5IG9mIERPVUJMRSBzaXplLCB3aXRoIGludGVybGVhdmVkIGZhdGEsXG4gIC8vIGJlY2F1c2UgSlMgZG9lcyBub3Qgc3VwcG9ydCBlZmZlY3RpdmVcbiAgdGhpcy5keW5fbHRyZWUgID0gbmV3IFVpbnQxNkFycmF5KEhFQVBfU0laRSAqIDIpO1xuICB0aGlzLmR5bl9kdHJlZSAgPSBuZXcgVWludDE2QXJyYXkoKDIgKiBEX0NPREVTICsgMSkgKiAyKTtcbiAgdGhpcy5ibF90cmVlICAgID0gbmV3IFVpbnQxNkFycmF5KCgyICogQkxfQ09ERVMgKyAxKSAqIDIpO1xuICB6ZXJvKHRoaXMuZHluX2x0cmVlKTtcbiAgemVybyh0aGlzLmR5bl9kdHJlZSk7XG4gIHplcm8odGhpcy5ibF90cmVlKTtcblxuICB0aGlzLmxfZGVzYyAgID0gbnVsbDsgICAgICAgICAvKiBkZXNjLiBmb3IgbGl0ZXJhbCB0cmVlICovXG4gIHRoaXMuZF9kZXNjICAgPSBudWxsOyAgICAgICAgIC8qIGRlc2MuIGZvciBkaXN0YW5jZSB0cmVlICovXG4gIHRoaXMuYmxfZGVzYyAgPSBudWxsOyAgICAgICAgIC8qIGRlc2MuIGZvciBiaXQgbGVuZ3RoIHRyZWUgKi9cblxuICAvL3VzaCBibF9jb3VudFtNQVhfQklUUysxXTtcbiAgdGhpcy5ibF9jb3VudCA9IG5ldyBVaW50MTZBcnJheShNQVhfQklUUyArIDEpO1xuICAvKiBudW1iZXIgb2YgY29kZXMgYXQgZWFjaCBiaXQgbGVuZ3RoIGZvciBhbiBvcHRpbWFsIHRyZWUgKi9cblxuICAvL2ludCBoZWFwWzIqTF9DT0RFUysxXTsgICAgICAvKiBoZWFwIHVzZWQgdG8gYnVpbGQgdGhlIEh1ZmZtYW4gdHJlZXMgKi9cbiAgdGhpcy5oZWFwID0gbmV3IFVpbnQxNkFycmF5KDIgKiBMX0NPREVTICsgMSk7ICAvKiBoZWFwIHVzZWQgdG8gYnVpbGQgdGhlIEh1ZmZtYW4gdHJlZXMgKi9cbiAgemVybyh0aGlzLmhlYXApO1xuXG4gIHRoaXMuaGVhcF9sZW4gPSAwOyAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgaGVhcCAqL1xuICB0aGlzLmhlYXBfbWF4ID0gMDsgICAgICAgICAgICAgICAvKiBlbGVtZW50IG9mIGxhcmdlc3QgZnJlcXVlbmN5ICovXG4gIC8qIFRoZSBzb25zIG9mIGhlYXBbbl0gYXJlIGhlYXBbMipuXSBhbmQgaGVhcFsyKm4rMV0uIGhlYXBbMF0gaXMgbm90IHVzZWQuXG4gICAqIFRoZSBzYW1lIGhlYXAgYXJyYXkgaXMgdXNlZCB0byBidWlsZCBhbGwgdHJlZXMuXG4gICAqL1xuXG4gIHRoaXMuZGVwdGggPSBuZXcgVWludDE2QXJyYXkoMiAqIExfQ09ERVMgKyAxKTsgLy91Y2ggZGVwdGhbMipMX0NPREVTKzFdO1xuICB6ZXJvKHRoaXMuZGVwdGgpO1xuICAvKiBEZXB0aCBvZiBlYWNoIHN1YnRyZWUgdXNlZCBhcyB0aWUgYnJlYWtlciBmb3IgdHJlZXMgb2YgZXF1YWwgZnJlcXVlbmN5XG4gICAqL1xuXG4gIHRoaXMuc3ltX2J1ZiA9IDA7ICAgICAgICAvKiBidWZmZXIgZm9yIGRpc3RhbmNlcyBhbmQgbGl0ZXJhbHMvbGVuZ3RocyAqL1xuXG4gIHRoaXMubGl0X2J1ZnNpemUgPSAwO1xuICAvKiBTaXplIG9mIG1hdGNoIGJ1ZmZlciBmb3IgbGl0ZXJhbHMvbGVuZ3Rocy4gIFRoZXJlIGFyZSA0IHJlYXNvbnMgZm9yXG4gICAqIGxpbWl0aW5nIGxpdF9idWZzaXplIHRvIDY0SzpcbiAgICogICAtIGZyZXF1ZW5jaWVzIGNhbiBiZSBrZXB0IGluIDE2IGJpdCBjb3VudGVyc1xuICAgKiAgIC0gaWYgY29tcHJlc3Npb24gaXMgbm90IHN1Y2Nlc3NmdWwgZm9yIHRoZSBmaXJzdCBibG9jaywgYWxsIGlucHV0XG4gICAqICAgICBkYXRhIGlzIHN0aWxsIGluIHRoZSB3aW5kb3cgc28gd2UgY2FuIHN0aWxsIGVtaXQgYSBzdG9yZWQgYmxvY2sgZXZlblxuICAgKiAgICAgd2hlbiBpbnB1dCBjb21lcyBmcm9tIHN0YW5kYXJkIGlucHV0LiAgKFRoaXMgY2FuIGFsc28gYmUgZG9uZSBmb3JcbiAgICogICAgIGFsbCBibG9ja3MgaWYgbGl0X2J1ZnNpemUgaXMgbm90IGdyZWF0ZXIgdGhhbiAzMksuKVxuICAgKiAgIC0gaWYgY29tcHJlc3Npb24gaXMgbm90IHN1Y2Nlc3NmdWwgZm9yIGEgZmlsZSBzbWFsbGVyIHRoYW4gNjRLLCB3ZSBjYW5cbiAgICogICAgIGV2ZW4gZW1pdCBhIHN0b3JlZCBmaWxlIGluc3RlYWQgb2YgYSBzdG9yZWQgYmxvY2sgKHNhdmluZyA1IGJ5dGVzKS5cbiAgICogICAgIFRoaXMgaXMgYXBwbGljYWJsZSBvbmx5IGZvciB6aXAgKG5vdCBnemlwIG9yIHpsaWIpLlxuICAgKiAgIC0gY3JlYXRpbmcgbmV3IEh1ZmZtYW4gdHJlZXMgbGVzcyBmcmVxdWVudGx5IG1heSBub3QgcHJvdmlkZSBmYXN0XG4gICAqICAgICBhZGFwdGF0aW9uIHRvIGNoYW5nZXMgaW4gdGhlIGlucHV0IGRhdGEgc3RhdGlzdGljcy4gKFRha2UgZm9yXG4gICAqICAgICBleGFtcGxlIGEgYmluYXJ5IGZpbGUgd2l0aCBwb29ybHkgY29tcHJlc3NpYmxlIGNvZGUgZm9sbG93ZWQgYnlcbiAgICogICAgIGEgaGlnaGx5IGNvbXByZXNzaWJsZSBzdHJpbmcgdGFibGUuKSBTbWFsbGVyIGJ1ZmZlciBzaXplcyBnaXZlXG4gICAqICAgICBmYXN0IGFkYXB0YXRpb24gYnV0IGhhdmUgb2YgY291cnNlIHRoZSBvdmVyaGVhZCBvZiB0cmFuc21pdHRpbmdcbiAgICogICAgIHRyZWVzIG1vcmUgZnJlcXVlbnRseS5cbiAgICogICAtIEkgY2FuJ3QgY291bnQgYWJvdmUgNFxuICAgKi9cblxuICB0aGlzLnN5bV9uZXh0ID0gMDsgICAgICAvKiBydW5uaW5nIGluZGV4IGluIHN5bV9idWYgKi9cbiAgdGhpcy5zeW1fZW5kID0gMDsgICAgICAgLyogc3ltYm9sIHRhYmxlIGZ1bGwgd2hlbiBzeW1fbmV4dCByZWFjaGVzIHRoaXMgKi9cblxuICB0aGlzLm9wdF9sZW4gPSAwOyAgICAgICAvKiBiaXQgbGVuZ3RoIG9mIGN1cnJlbnQgYmxvY2sgd2l0aCBvcHRpbWFsIHRyZWVzICovXG4gIHRoaXMuc3RhdGljX2xlbiA9IDA7ICAgIC8qIGJpdCBsZW5ndGggb2YgY3VycmVudCBibG9jayB3aXRoIHN0YXRpYyB0cmVlcyAqL1xuICB0aGlzLm1hdGNoZXMgPSAwOyAgICAgICAvKiBudW1iZXIgb2Ygc3RyaW5nIG1hdGNoZXMgaW4gY3VycmVudCBibG9jayAqL1xuICB0aGlzLmluc2VydCA9IDA7ICAgICAgICAvKiBieXRlcyBhdCBlbmQgb2Ygd2luZG93IGxlZnQgdG8gaW5zZXJ0ICovXG5cblxuICB0aGlzLmJpX2J1ZiA9IDA7XG4gIC8qIE91dHB1dCBidWZmZXIuIGJpdHMgYXJlIGluc2VydGVkIHN0YXJ0aW5nIGF0IHRoZSBib3R0b20gKGxlYXN0XG4gICAqIHNpZ25pZmljYW50IGJpdHMpLlxuICAgKi9cbiAgdGhpcy5iaV92YWxpZCA9IDA7XG4gIC8qIE51bWJlciBvZiB2YWxpZCBiaXRzIGluIGJpX2J1Zi4gIEFsbCBiaXRzIGFib3ZlIHRoZSBsYXN0IHZhbGlkIGJpdFxuICAgKiBhcmUgYWx3YXlzIHplcm8uXG4gICAqL1xuXG4gIC8vIFVzZWQgZm9yIHdpbmRvdyBtZW1vcnkgaW5pdC4gV2Ugc2FmZWx5IGlnbm9yZSBpdCBmb3IgSlMuIFRoYXQgbWFrZXNcbiAgLy8gc2Vuc2Ugb25seSBmb3IgcG9pbnRlcnMgYW5kIG1lbW9yeSBjaGVjayB0b29scy5cbiAgLy90aGlzLmhpZ2hfd2F0ZXIgPSAwO1xuICAvKiBIaWdoIHdhdGVyIG1hcmsgb2Zmc2V0IGluIHdpbmRvdyBmb3IgaW5pdGlhbGl6ZWQgYnl0ZXMgLS0gYnl0ZXMgYWJvdmVcbiAgICogdGhpcyBhcmUgc2V0IHRvIHplcm8gaW4gb3JkZXIgdG8gYXZvaWQgbWVtb3J5IGNoZWNrIHdhcm5pbmdzIHdoZW5cbiAgICogbG9uZ2VzdCBtYXRjaCByb3V0aW5lcyBhY2Nlc3MgYnl0ZXMgcGFzdCB0aGUgaW5wdXQuICBUaGlzIGlzIHRoZW5cbiAgICogdXBkYXRlZCB0byB0aGUgbmV3IGhpZ2ggd2F0ZXIgbWFyay5cbiAgICovXG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ2hlY2sgZm9yIGEgdmFsaWQgZGVmbGF0ZSBzdHJlYW0gc3RhdGUuIFJldHVybiAwIGlmIG9rLCAxIGlmIG5vdC5cbiAqL1xuY29uc3QgZGVmbGF0ZVN0YXRlQ2hlY2sgPSAoc3RybSkgPT4ge1xuXG4gIGlmICghc3RybSkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIGNvbnN0IHMgPSBzdHJtLnN0YXRlO1xuICBpZiAoIXMgfHwgcy5zdHJtICE9PSBzdHJtIHx8IChzLnN0YXR1cyAhPT0gSU5JVF9TVEFURSAmJlxuLy8jaWZkZWYgR1pJUFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyAhPT0gR1pJUF9TVEFURSAmJlxuLy8jZW5kaWZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgIT09IEVYVFJBX1NUQVRFICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc3RhdHVzICE9PSBOQU1FX1NUQVRFICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc3RhdHVzICE9PSBDT01NRU5UX1NUQVRFICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc3RhdHVzICE9PSBIQ1JDX1NUQVRFICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc3RhdHVzICE9PSBCVVNZX1NUQVRFICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuc3RhdHVzICE9PSBGSU5JU0hfU1RBVEUpKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5cbmNvbnN0IGRlZmxhdGVSZXNldEtlZXAgPSAoc3RybSkgPT4ge1xuXG4gIGlmIChkZWZsYXRlU3RhdGVDaGVjayhzdHJtKSkge1xuICAgIHJldHVybiBlcnIoc3RybSwgWl9TVFJFQU1fRVJST1IkMik7XG4gIH1cblxuICBzdHJtLnRvdGFsX2luID0gc3RybS50b3RhbF9vdXQgPSAwO1xuICBzdHJtLmRhdGFfdHlwZSA9IFpfVU5LTk9XTjtcblxuICBjb25zdCBzID0gc3RybS5zdGF0ZTtcbiAgcy5wZW5kaW5nID0gMDtcbiAgcy5wZW5kaW5nX291dCA9IDA7XG5cbiAgaWYgKHMud3JhcCA8IDApIHtcbiAgICBzLndyYXAgPSAtcy53cmFwO1xuICAgIC8qIHdhcyBtYWRlIG5lZ2F0aXZlIGJ5IGRlZmxhdGUoLi4uLCBaX0ZJTklTSCk7ICovXG4gIH1cbiAgcy5zdGF0dXMgPVxuLy8jaWZkZWYgR1pJUFxuICAgIHMud3JhcCA9PT0gMiA/IEdaSVBfU1RBVEUgOlxuLy8jZW5kaWZcbiAgICBzLndyYXAgPyBJTklUX1NUQVRFIDogQlVTWV9TVEFURTtcbiAgc3RybS5hZGxlciA9IChzLndyYXAgPT09IDIpID9cbiAgICAwICAvLyBjcmMzMigwLCBaX05VTEwsIDApXG4gIDpcbiAgICAxOyAvLyBhZGxlcjMyKDAsIFpfTlVMTCwgMClcbiAgcy5sYXN0X2ZsdXNoID0gLTI7XG4gIF90cl9pbml0KHMpO1xuICByZXR1cm4gWl9PSyQzO1xufTtcblxuXG5jb25zdCBkZWZsYXRlUmVzZXQgPSAoc3RybSkgPT4ge1xuXG4gIGNvbnN0IHJldCA9IGRlZmxhdGVSZXNldEtlZXAoc3RybSk7XG4gIGlmIChyZXQgPT09IFpfT0skMykge1xuICAgIGxtX2luaXQoc3RybS5zdGF0ZSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG5cblxuY29uc3QgZGVmbGF0ZVNldEhlYWRlciA9IChzdHJtLCBoZWFkKSA9PiB7XG5cbiAgaWYgKGRlZmxhdGVTdGF0ZUNoZWNrKHN0cm0pIHx8IHN0cm0uc3RhdGUud3JhcCAhPT0gMikge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUiQyO1xuICB9XG4gIHN0cm0uc3RhdGUuZ3poZWFkID0gaGVhZDtcbiAgcmV0dXJuIFpfT0skMztcbn07XG5cblxuY29uc3QgZGVmbGF0ZUluaXQyID0gKHN0cm0sIGxldmVsLCBtZXRob2QsIHdpbmRvd0JpdHMsIG1lbUxldmVsLCBzdHJhdGVneSkgPT4ge1xuXG4gIGlmICghc3RybSkgeyAvLyA9PT0gWl9OVUxMXG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDI7XG4gIH1cbiAgbGV0IHdyYXAgPSAxO1xuXG4gIGlmIChsZXZlbCA9PT0gWl9ERUZBVUxUX0NPTVBSRVNTSU9OJDEpIHtcbiAgICBsZXZlbCA9IDY7XG4gIH1cblxuICBpZiAod2luZG93Qml0cyA8IDApIHsgLyogc3VwcHJlc3MgemxpYiB3cmFwcGVyICovXG4gICAgd3JhcCA9IDA7XG4gICAgd2luZG93Qml0cyA9IC13aW5kb3dCaXRzO1xuICB9XG5cbiAgZWxzZSBpZiAod2luZG93Qml0cyA+IDE1KSB7XG4gICAgd3JhcCA9IDI7ICAgICAgICAgICAvKiB3cml0ZSBnemlwIHdyYXBwZXIgaW5zdGVhZCAqL1xuICAgIHdpbmRvd0JpdHMgLT0gMTY7XG4gIH1cblxuXG4gIGlmIChtZW1MZXZlbCA8IDEgfHwgbWVtTGV2ZWwgPiBNQVhfTUVNX0xFVkVMIHx8IG1ldGhvZCAhPT0gWl9ERUZMQVRFRCQyIHx8XG4gICAgd2luZG93Qml0cyA8IDggfHwgd2luZG93Qml0cyA+IDE1IHx8IGxldmVsIDwgMCB8fCBsZXZlbCA+IDkgfHxcbiAgICBzdHJhdGVneSA8IDAgfHwgc3RyYXRlZ3kgPiBaX0ZJWEVEIHx8ICh3aW5kb3dCaXRzID09PSA4ICYmIHdyYXAgIT09IDEpKSB7XG4gICAgcmV0dXJuIGVycihzdHJtLCBaX1NUUkVBTV9FUlJPUiQyKTtcbiAgfVxuXG5cbiAgaWYgKHdpbmRvd0JpdHMgPT09IDgpIHtcbiAgICB3aW5kb3dCaXRzID0gOTtcbiAgfVxuICAvKiB1bnRpbCAyNTYtYnl0ZSB3aW5kb3cgYnVnIGZpeGVkICovXG5cbiAgY29uc3QgcyA9IG5ldyBEZWZsYXRlU3RhdGUoKTtcblxuICBzdHJtLnN0YXRlID0gcztcbiAgcy5zdHJtID0gc3RybTtcbiAgcy5zdGF0dXMgPSBJTklUX1NUQVRFOyAgICAgLyogdG8gcGFzcyBzdGF0ZSB0ZXN0IGluIGRlZmxhdGVSZXNldCgpICovXG5cbiAgcy53cmFwID0gd3JhcDtcbiAgcy5nemhlYWQgPSBudWxsO1xuICBzLndfYml0cyA9IHdpbmRvd0JpdHM7XG4gIHMud19zaXplID0gMSA8PCBzLndfYml0cztcbiAgcy53X21hc2sgPSBzLndfc2l6ZSAtIDE7XG5cbiAgcy5oYXNoX2JpdHMgPSBtZW1MZXZlbCArIDc7XG4gIHMuaGFzaF9zaXplID0gMSA8PCBzLmhhc2hfYml0cztcbiAgcy5oYXNoX21hc2sgPSBzLmhhc2hfc2l6ZSAtIDE7XG4gIHMuaGFzaF9zaGlmdCA9IH5+KChzLmhhc2hfYml0cyArIE1JTl9NQVRDSCAtIDEpIC8gTUlOX01BVENIKTtcblxuICBzLndpbmRvdyA9IG5ldyBVaW50OEFycmF5KHMud19zaXplICogMik7XG4gIHMuaGVhZCA9IG5ldyBVaW50MTZBcnJheShzLmhhc2hfc2l6ZSk7XG4gIHMucHJldiA9IG5ldyBVaW50MTZBcnJheShzLndfc2l6ZSk7XG5cbiAgLy8gRG9uJ3QgbmVlZCBtZW0gaW5pdCBtYWdpYyBmb3IgSlMuXG4gIC8vcy5oaWdoX3dhdGVyID0gMDsgIC8qIG5vdGhpbmcgd3JpdHRlbiB0byBzLT53aW5kb3cgeWV0ICovXG5cbiAgcy5saXRfYnVmc2l6ZSA9IDEgPDwgKG1lbUxldmVsICsgNik7IC8qIDE2SyBlbGVtZW50cyBieSBkZWZhdWx0ICovXG5cbiAgLyogV2Ugb3ZlcmxheSBwZW5kaW5nX2J1ZiBhbmQgc3ltX2J1Zi4gVGhpcyB3b3JrcyBzaW5jZSB0aGUgYXZlcmFnZSBzaXplXG4gICAqIGZvciBsZW5ndGgvZGlzdGFuY2UgcGFpcnMgb3ZlciBhbnkgY29tcHJlc3NlZCBibG9jayBpcyBhc3N1cmVkIHRvIGJlIDMxXG4gICAqIGJpdHMgb3IgbGVzcy5cbiAgICpcbiAgICogQW5hbHlzaXM6IFRoZSBsb25nZXN0IGZpeGVkIGNvZGVzIGFyZSBhIGxlbmd0aCBjb2RlIG9mIDggYml0cyBwbHVzIDVcbiAgICogZXh0cmEgYml0cywgZm9yIGxlbmd0aHMgMTMxIHRvIDI1Ny4gVGhlIGxvbmdlc3QgZml4ZWQgZGlzdGFuY2UgY29kZXMgYXJlXG4gICAqIDUgYml0cyBwbHVzIDEzIGV4dHJhIGJpdHMsIGZvciBkaXN0YW5jZXMgMTYzODUgdG8gMzI3NjguIFRoZSBsb25nZXN0XG4gICAqIHBvc3NpYmxlIGZpeGVkLWNvZGVzIGxlbmd0aC9kaXN0YW5jZSBwYWlyIGlzIHRoZW4gMzEgYml0cyB0b3RhbC5cbiAgICpcbiAgICogc3ltX2J1ZiBzdGFydHMgb25lLWZvdXJ0aCBvZiB0aGUgd2F5IGludG8gcGVuZGluZ19idWYuIFNvIHRoZXJlIGFyZVxuICAgKiB0aHJlZSBieXRlcyBpbiBzeW1fYnVmIGZvciBldmVyeSBmb3VyIGJ5dGVzIGluIHBlbmRpbmdfYnVmLiBFYWNoIHN5bWJvbFxuICAgKiBpbiBzeW1fYnVmIGlzIHRocmVlIGJ5dGVzIC0tIHR3byBmb3IgdGhlIGRpc3RhbmNlIGFuZCBvbmUgZm9yIHRoZVxuICAgKiBsaXRlcmFsL2xlbmd0aC4gQXMgZWFjaCBzeW1ib2wgaXMgY29uc3VtZWQsIHRoZSBwb2ludGVyIHRvIHRoZSBuZXh0XG4gICAqIHN5bV9idWYgdmFsdWUgdG8gcmVhZCBtb3ZlcyBmb3J3YXJkIHRocmVlIGJ5dGVzLiBGcm9tIHRoYXQgc3ltYm9sLCB1cCB0b1xuICAgKiAzMSBiaXRzIGFyZSB3cml0dGVuIHRvIHBlbmRpbmdfYnVmLiBUaGUgY2xvc2VzdCB0aGUgd3JpdHRlbiBwZW5kaW5nX2J1ZlxuICAgKiBiaXRzIGdldHMgdG8gdGhlIG5leHQgc3ltX2J1ZiBzeW1ib2wgdG8gcmVhZCBpcyBqdXN0IGJlZm9yZSB0aGUgbGFzdFxuICAgKiBjb2RlIGlzIHdyaXR0ZW4uIEF0IHRoYXQgdGltZSwgMzEqKG4tMikgYml0cyBoYXZlIGJlZW4gd3JpdHRlbiwganVzdFxuICAgKiBhZnRlciAyNCoobi0yKSBiaXRzIGhhdmUgYmVlbiBjb25zdW1lZCBmcm9tIHN5bV9idWYuIHN5bV9idWYgc3RhcnRzIGF0XG4gICAqIDgqbiBiaXRzIGludG8gcGVuZGluZ19idWYuIChOb3RlIHRoYXQgdGhlIHN5bWJvbCBidWZmZXIgZmlsbHMgd2hlbiBuLTFcbiAgICogc3ltYm9scyBhcmUgd3JpdHRlbi4pIFRoZSBjbG9zZXN0IHRoZSB3cml0aW5nIGdldHMgdG8gd2hhdCBpcyB1bnJlYWQgaXNcbiAgICogdGhlbiBuKzE0IGJpdHMuIEhlcmUgbiBpcyBsaXRfYnVmc2l6ZSwgd2hpY2ggaXMgMTYzODQgYnkgZGVmYXVsdCwgYW5kXG4gICAqIGNhbiByYW5nZSBmcm9tIDEyOCB0byAzMjc2OC5cbiAgICpcbiAgICogVGhlcmVmb3JlLCBhdCBhIG1pbmltdW0sIHRoZXJlIGFyZSAxNDIgYml0cyBvZiBzcGFjZSBiZXR3ZWVuIHdoYXQgaXNcbiAgICogd3JpdHRlbiBhbmQgd2hhdCBpcyByZWFkIGluIHRoZSBvdmVybGFpbiBidWZmZXJzLCBzbyB0aGUgc3ltYm9scyBjYW5ub3RcbiAgICogYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIGNvbXByZXNzZWQgZGF0YS4gVGhhdCBzcGFjZSBpcyBhY3R1YWxseSAxMzkgYml0cyxcbiAgICogZHVlIHRvIHRoZSB0aHJlZS1iaXQgZml4ZWQtY29kZSBibG9jayBoZWFkZXIuXG4gICAqXG4gICAqIFRoYXQgY292ZXJzIHRoZSBjYXNlIHdoZXJlIGVpdGhlciBaX0ZJWEVEIGlzIHNwZWNpZmllZCwgZm9yY2luZyBmaXhlZFxuICAgKiBjb2Rlcywgb3Igd2hlbiB0aGUgdXNlIG9mIGZpeGVkIGNvZGVzIGlzIGNob3NlbiwgYmVjYXVzZSB0aGF0IGNob2ljZVxuICAgKiByZXN1bHRzIGluIGEgc21hbGxlciBjb21wcmVzc2VkIGJsb2NrIHRoYW4gZHluYW1pYyBjb2Rlcy4gVGhhdCBsYXR0ZXJcbiAgICogY29uZGl0aW9uIHRoZW4gYXNzdXJlcyB0aGF0IHRoZSBhYm92ZSBhbmFseXNpcyBhbHNvIGNvdmVycyBhbGwgZHluYW1pY1xuICAgKiBibG9ja3MuIEEgZHluYW1pYy1jb2RlIGJsb2NrIHdpbGwgb25seSBiZSBjaG9zZW4gdG8gYmUgZW1pdHRlZCBpZiBpdCBoYXNcbiAgICogZmV3ZXIgYml0cyB0aGFuIGEgZml4ZWQtY29kZSBibG9jayB3b3VsZCBmb3IgdGhlIHNhbWUgc2V0IG9mIHN5bWJvbHMuXG4gICAqIFRoZXJlZm9yZSBpdHMgYXZlcmFnZSBzeW1ib2wgbGVuZ3RoIGlzIGFzc3VyZWQgdG8gYmUgbGVzcyB0aGFuIDMxLiBTb1xuICAgKiB0aGUgY29tcHJlc3NlZCBkYXRhIGZvciBhIGR5bmFtaWMgYmxvY2sgYWxzbyBjYW5ub3Qgb3ZlcndyaXRlIHRoZVxuICAgKiBzeW1ib2xzIGZyb20gd2hpY2ggaXQgaXMgYmVpbmcgY29uc3RydWN0ZWQuXG4gICAqL1xuXG4gIHMucGVuZGluZ19idWZfc2l6ZSA9IHMubGl0X2J1ZnNpemUgKiA0O1xuICBzLnBlbmRpbmdfYnVmID0gbmV3IFVpbnQ4QXJyYXkocy5wZW5kaW5nX2J1Zl9zaXplKTtcblxuICAvLyBJdCBpcyBvZmZzZXQgZnJvbSBgcy5wZW5kaW5nX2J1ZmAgKHNpemUgaXMgYHMubGl0X2J1ZnNpemUgKiAyYClcbiAgLy9zLT5zeW1fYnVmID0gcy0+cGVuZGluZ19idWYgKyBzLT5saXRfYnVmc2l6ZTtcbiAgcy5zeW1fYnVmID0gcy5saXRfYnVmc2l6ZTtcblxuICAvL3MtPnN5bV9lbmQgPSAocy0+bGl0X2J1ZnNpemUgLSAxKSAqIDM7XG4gIHMuc3ltX2VuZCA9IChzLmxpdF9idWZzaXplIC0gMSkgKiAzO1xuICAvKiBXZSBhdm9pZCBlcXVhbGl0eSB3aXRoIGxpdF9idWZzaXplKjMgYmVjYXVzZSBvZiB3cmFwYXJvdW5kIGF0IDY0S1xuICAgKiBvbiAxNiBiaXQgbWFjaGluZXMgYW5kIGJlY2F1c2Ugc3RvcmVkIGJsb2NrcyBhcmUgcmVzdHJpY3RlZCB0b1xuICAgKiA2NEstMSBieXRlcy5cbiAgICovXG5cbiAgcy5sZXZlbCA9IGxldmVsO1xuICBzLnN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gIHMubWV0aG9kID0gbWV0aG9kO1xuXG4gIHJldHVybiBkZWZsYXRlUmVzZXQoc3RybSk7XG59O1xuXG5jb25zdCBkZWZsYXRlSW5pdCA9IChzdHJtLCBsZXZlbCkgPT4ge1xuXG4gIHJldHVybiBkZWZsYXRlSW5pdDIoc3RybSwgbGV2ZWwsIFpfREVGTEFURUQkMiwgTUFYX1dCSVRTJDEsIERFRl9NRU1fTEVWRUwsIFpfREVGQVVMVF9TVFJBVEVHWSQxKTtcbn07XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuY29uc3QgZGVmbGF0ZSQyID0gKHN0cm0sIGZsdXNoKSA9PiB7XG5cbiAgaWYgKGRlZmxhdGVTdGF0ZUNoZWNrKHN0cm0pIHx8IGZsdXNoID4gWl9CTE9DSyQxIHx8IGZsdXNoIDwgMCkge1xuICAgIHJldHVybiBzdHJtID8gZXJyKHN0cm0sIFpfU1RSRUFNX0VSUk9SJDIpIDogWl9TVFJFQU1fRVJST1IkMjtcbiAgfVxuXG4gIGNvbnN0IHMgPSBzdHJtLnN0YXRlO1xuXG4gIGlmICghc3RybS5vdXRwdXQgfHxcbiAgICAgIChzdHJtLmF2YWlsX2luICE9PSAwICYmICFzdHJtLmlucHV0KSB8fFxuICAgICAgKHMuc3RhdHVzID09PSBGSU5JU0hfU1RBVEUgJiYgZmx1c2ggIT09IFpfRklOSVNIJDMpKSB7XG4gICAgcmV0dXJuIGVycihzdHJtLCAoc3RybS5hdmFpbF9vdXQgPT09IDApID8gWl9CVUZfRVJST1IkMSA6IFpfU1RSRUFNX0VSUk9SJDIpO1xuICB9XG5cbiAgY29uc3Qgb2xkX2ZsdXNoID0gcy5sYXN0X2ZsdXNoO1xuICBzLmxhc3RfZmx1c2ggPSBmbHVzaDtcblxuICAvKiBGbHVzaCBhcyBtdWNoIHBlbmRpbmcgb3V0cHV0IGFzIHBvc3NpYmxlICovXG4gIGlmIChzLnBlbmRpbmcgIT09IDApIHtcbiAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgIGlmIChzdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgLyogU2luY2UgYXZhaWxfb3V0IGlzIDAsIGRlZmxhdGUgd2lsbCBiZSBjYWxsZWQgYWdhaW4gd2l0aFxuICAgICAgICogbW9yZSBvdXRwdXQgc3BhY2UsIGJ1dCBwb3NzaWJseSB3aXRoIGJvdGggcGVuZGluZyBhbmRcbiAgICAgICAqIGF2YWlsX2luIGVxdWFsIHRvIHplcm8uIFRoZXJlIHdvbid0IGJlIGFueXRoaW5nIHRvIGRvLFxuICAgICAgICogYnV0IHRoaXMgaXMgbm90IGFuIGVycm9yIHNpdHVhdGlvbiBzbyBtYWtlIHN1cmUgd2VcbiAgICAgICAqIHJldHVybiBPSyBpbnN0ZWFkIG9mIEJVRl9FUlJPUiBhdCBuZXh0IGNhbGwgb2YgZGVmbGF0ZTpcbiAgICAgICAqL1xuICAgICAgcy5sYXN0X2ZsdXNoID0gLTE7XG4gICAgICByZXR1cm4gWl9PSyQzO1xuICAgIH1cblxuICAgIC8qIE1ha2Ugc3VyZSB0aGVyZSBpcyBzb21ldGhpbmcgdG8gZG8gYW5kIGF2b2lkIGR1cGxpY2F0ZSBjb25zZWN1dGl2ZVxuICAgICAqIGZsdXNoZXMuIEZvciByZXBlYXRlZCBhbmQgdXNlbGVzcyBjYWxscyB3aXRoIFpfRklOSVNILCB3ZSBrZWVwXG4gICAgICogcmV0dXJuaW5nIFpfU1RSRUFNX0VORCBpbnN0ZWFkIG9mIFpfQlVGX0VSUk9SLlxuICAgICAqL1xuICB9IGVsc2UgaWYgKHN0cm0uYXZhaWxfaW4gPT09IDAgJiYgcmFuayhmbHVzaCkgPD0gcmFuayhvbGRfZmx1c2gpICYmXG4gICAgZmx1c2ggIT09IFpfRklOSVNIJDMpIHtcbiAgICByZXR1cm4gZXJyKHN0cm0sIFpfQlVGX0VSUk9SJDEpO1xuICB9XG5cbiAgLyogVXNlciBtdXN0IG5vdCBwcm92aWRlIG1vcmUgaW5wdXQgYWZ0ZXIgdGhlIGZpcnN0IEZJTklTSDogKi9cbiAgaWYgKHMuc3RhdHVzID09PSBGSU5JU0hfU1RBVEUgJiYgc3RybS5hdmFpbF9pbiAhPT0gMCkge1xuICAgIHJldHVybiBlcnIoc3RybSwgWl9CVUZfRVJST1IkMSk7XG4gIH1cblxuICAvKiBXcml0ZSB0aGUgaGVhZGVyICovXG4gIGlmIChzLnN0YXR1cyA9PT0gSU5JVF9TVEFURSAmJiBzLndyYXAgPT09IDApIHtcbiAgICBzLnN0YXR1cyA9IEJVU1lfU1RBVEU7XG4gIH1cbiAgaWYgKHMuc3RhdHVzID09PSBJTklUX1NUQVRFKSB7XG4gICAgLyogemxpYiBoZWFkZXIgKi9cbiAgICBsZXQgaGVhZGVyID0gKFpfREVGTEFURUQkMiArICgocy53X2JpdHMgLSA4KSA8PCA0KSkgPDwgODtcbiAgICBsZXQgbGV2ZWxfZmxhZ3MgPSAtMTtcblxuICAgIGlmIChzLnN0cmF0ZWd5ID49IFpfSFVGRk1BTl9PTkxZIHx8IHMubGV2ZWwgPCAyKSB7XG4gICAgICBsZXZlbF9mbGFncyA9IDA7XG4gICAgfSBlbHNlIGlmIChzLmxldmVsIDwgNikge1xuICAgICAgbGV2ZWxfZmxhZ3MgPSAxO1xuICAgIH0gZWxzZSBpZiAocy5sZXZlbCA9PT0gNikge1xuICAgICAgbGV2ZWxfZmxhZ3MgPSAyO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXZlbF9mbGFncyA9IDM7XG4gICAgfVxuICAgIGhlYWRlciB8PSAobGV2ZWxfZmxhZ3MgPDwgNik7XG4gICAgaWYgKHMuc3Ryc3RhcnQgIT09IDApIHsgaGVhZGVyIHw9IFBSRVNFVF9ESUNUOyB9XG4gICAgaGVhZGVyICs9IDMxIC0gKGhlYWRlciAlIDMxKTtcblxuICAgIHB1dFNob3J0TVNCKHMsIGhlYWRlcik7XG5cbiAgICAvKiBTYXZlIHRoZSBhZGxlcjMyIG9mIHRoZSBwcmVzZXQgZGljdGlvbmFyeTogKi9cbiAgICBpZiAocy5zdHJzdGFydCAhPT0gMCkge1xuICAgICAgcHV0U2hvcnRNU0Iocywgc3RybS5hZGxlciA+Pj4gMTYpO1xuICAgICAgcHV0U2hvcnRNU0Iocywgc3RybS5hZGxlciAmIDB4ZmZmZik7XG4gICAgfVxuICAgIHN0cm0uYWRsZXIgPSAxOyAvLyBhZGxlcjMyKDBMLCBaX05VTEwsIDApO1xuICAgIHMuc3RhdHVzID0gQlVTWV9TVEFURTtcblxuICAgIC8qIENvbXByZXNzaW9uIG11c3Qgc3RhcnQgd2l0aCBhbiBlbXB0eSBwZW5kaW5nIGJ1ZmZlciAqL1xuICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgaWYgKHMucGVuZGluZyAhPT0gMCkge1xuICAgICAgcy5sYXN0X2ZsdXNoID0gLTE7XG4gICAgICByZXR1cm4gWl9PSyQzO1xuICAgIH1cbiAgfVxuLy8jaWZkZWYgR1pJUFxuICBpZiAocy5zdGF0dXMgPT09IEdaSVBfU1RBVEUpIHtcbiAgICAvKiBnemlwIGhlYWRlciAqL1xuICAgIHN0cm0uYWRsZXIgPSAwOyAgLy9jcmMzMigwTCwgWl9OVUxMLCAwKTtcbiAgICBwdXRfYnl0ZShzLCAzMSk7XG4gICAgcHV0X2J5dGUocywgMTM5KTtcbiAgICBwdXRfYnl0ZShzLCA4KTtcbiAgICBpZiAoIXMuZ3poZWFkKSB7IC8vIHMtPmd6aGVhZCA9PSBaX05VTExcbiAgICAgIHB1dF9ieXRlKHMsIDApO1xuICAgICAgcHV0X2J5dGUocywgMCk7XG4gICAgICBwdXRfYnl0ZShzLCAwKTtcbiAgICAgIHB1dF9ieXRlKHMsIDApO1xuICAgICAgcHV0X2J5dGUocywgMCk7XG4gICAgICBwdXRfYnl0ZShzLCBzLmxldmVsID09PSA5ID8gMiA6XG4gICAgICAgICAgICAgICAgICAocy5zdHJhdGVneSA+PSBaX0hVRkZNQU5fT05MWSB8fCBzLmxldmVsIDwgMiA/XG4gICAgICAgICAgICAgICAgICAgNCA6IDApKTtcbiAgICAgIHB1dF9ieXRlKHMsIE9TX0NPREUpO1xuICAgICAgcy5zdGF0dXMgPSBCVVNZX1NUQVRFO1xuXG4gICAgICAvKiBDb21wcmVzc2lvbiBtdXN0IHN0YXJ0IHdpdGggYW4gZW1wdHkgcGVuZGluZyBidWZmZXIgKi9cbiAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICBpZiAocy5wZW5kaW5nICE9PSAwKSB7XG4gICAgICAgIHMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgICByZXR1cm4gWl9PSyQzO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC50ZXh0ID8gMSA6IDApICtcbiAgICAgICAgICAgICAgICAgIChzLmd6aGVhZC5oY3JjID8gMiA6IDApICtcbiAgICAgICAgICAgICAgICAgICghcy5nemhlYWQuZXh0cmEgPyAwIDogNCkgK1xuICAgICAgICAgICAgICAgICAgKCFzLmd6aGVhZC5uYW1lID8gMCA6IDgpICtcbiAgICAgICAgICAgICAgICAgICghcy5nemhlYWQuY29tbWVudCA/IDAgOiAxNilcbiAgICAgICk7XG4gICAgICBwdXRfYnl0ZShzLCBzLmd6aGVhZC50aW1lICYgMHhmZik7XG4gICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQudGltZSA+PiA4KSAmIDB4ZmYpO1xuICAgICAgcHV0X2J5dGUocywgKHMuZ3poZWFkLnRpbWUgPj4gMTYpICYgMHhmZik7XG4gICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQudGltZSA+PiAyNCkgJiAweGZmKTtcbiAgICAgIHB1dF9ieXRlKHMsIHMubGV2ZWwgPT09IDkgPyAyIDpcbiAgICAgICAgICAgICAgICAgIChzLnN0cmF0ZWd5ID49IFpfSFVGRk1BTl9PTkxZIHx8IHMubGV2ZWwgPCAyID9cbiAgICAgICAgICAgICAgICAgICA0IDogMCkpO1xuICAgICAgcHV0X2J5dGUocywgcy5nemhlYWQub3MgJiAweGZmKTtcbiAgICAgIGlmIChzLmd6aGVhZC5leHRyYSAmJiBzLmd6aGVhZC5leHRyYS5sZW5ndGgpIHtcbiAgICAgICAgcHV0X2J5dGUocywgcy5nemhlYWQuZXh0cmEubGVuZ3RoICYgMHhmZik7XG4gICAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC5leHRyYS5sZW5ndGggPj4gOCkgJiAweGZmKTtcbiAgICAgIH1cbiAgICAgIGlmIChzLmd6aGVhZC5oY3JjKSB7XG4gICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZywgMCk7XG4gICAgICB9XG4gICAgICBzLmd6aW5kZXggPSAwO1xuICAgICAgcy5zdGF0dXMgPSBFWFRSQV9TVEFURTtcbiAgICB9XG4gIH1cbiAgaWYgKHMuc3RhdHVzID09PSBFWFRSQV9TVEFURSkge1xuICAgIGlmIChzLmd6aGVhZC5leHRyYS8qICE9IFpfTlVMTCovKSB7XG4gICAgICBsZXQgYmVnID0gcy5wZW5kaW5nOyAgIC8qIHN0YXJ0IG9mIGJ5dGVzIHRvIHVwZGF0ZSBjcmMgKi9cbiAgICAgIGxldCBsZWZ0ID0gKHMuZ3poZWFkLmV4dHJhLmxlbmd0aCAmIDB4ZmZmZikgLSBzLmd6aW5kZXg7XG4gICAgICB3aGlsZSAocy5wZW5kaW5nICsgbGVmdCA+IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICBsZXQgY29weSA9IHMucGVuZGluZ19idWZfc2l6ZSAtIHMucGVuZGluZztcbiAgICAgICAgLy8gem1lbWNweShzLnBlbmRpbmdfYnVmICsgcy5wZW5kaW5nLFxuICAgICAgICAvLyAgICBzLmd6aGVhZC5leHRyYSArIHMuZ3ppbmRleCwgY29weSk7XG4gICAgICAgIHMucGVuZGluZ19idWYuc2V0KHMuZ3poZWFkLmV4dHJhLnN1YmFycmF5KHMuZ3ppbmRleCwgcy5nemluZGV4ICsgY29weSksIHMucGVuZGluZyk7XG4gICAgICAgIHMucGVuZGluZyA9IHMucGVuZGluZ19idWZfc2l6ZTtcbiAgICAgICAgLy8tLS0gSENSQ19VUERBVEUoYmVnKSAtLS0vL1xuICAgICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBzLmd6aW5kZXggKz0gY29weTtcbiAgICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICAgICAgaWYgKHMucGVuZGluZyAhPT0gMCkge1xuICAgICAgICAgIHMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgICAgIHJldHVybiBaX09LJDM7XG4gICAgICAgIH1cbiAgICAgICAgYmVnID0gMDtcbiAgICAgICAgbGVmdCAtPSBjb3B5O1xuICAgICAgfVxuICAgICAgLy8gSlMgc3BlY2lmaWM6IHMuZ3poZWFkLmV4dHJhIG1heSBiZSBUeXBlZEFycmF5IG9yIEFycmF5IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICAvLyAgICAgICAgICAgICAgVHlwZWRBcnJheS5zbGljZSBhbmQgVHlwZWRBcnJheS5mcm9tIGRvbid0IGV4aXN0IGluIElFMTAtSUUxMVxuICAgICAgbGV0IGd6aGVhZF9leHRyYSA9IG5ldyBVaW50OEFycmF5KHMuZ3poZWFkLmV4dHJhKTtcbiAgICAgIC8vIHptZW1jcHkocy0+cGVuZGluZ19idWYgKyBzLT5wZW5kaW5nLFxuICAgICAgLy8gICAgIHMtPmd6aGVhZC0+ZXh0cmEgKyBzLT5nemluZGV4LCBsZWZ0KTtcbiAgICAgIHMucGVuZGluZ19idWYuc2V0KGd6aGVhZF9leHRyYS5zdWJhcnJheShzLmd6aW5kZXgsIHMuZ3ppbmRleCArIGxlZnQpLCBzLnBlbmRpbmcpO1xuICAgICAgcy5wZW5kaW5nICs9IGxlZnQ7XG4gICAgICAvLy0tLSBIQ1JDX1VQREFURShiZWcpIC0tLS8vXG4gICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgfVxuICAgICAgLy8tLS0vL1xuICAgICAgcy5nemluZGV4ID0gMDtcbiAgICB9XG4gICAgcy5zdGF0dXMgPSBOQU1FX1NUQVRFO1xuICB9XG4gIGlmIChzLnN0YXR1cyA9PT0gTkFNRV9TVEFURSkge1xuICAgIGlmIChzLmd6aGVhZC5uYW1lLyogIT0gWl9OVUxMKi8pIHtcbiAgICAgIGxldCBiZWcgPSBzLnBlbmRpbmc7ICAgLyogc3RhcnQgb2YgYnl0ZXMgdG8gdXBkYXRlIGNyYyAqL1xuICAgICAgbGV0IHZhbDtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgLy8tLS0gSENSQ19VUERBVEUoYmVnKSAtLS0vL1xuICAgICAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICAgICAgICBpZiAocy5wZW5kaW5nICE9PSAwKSB7XG4gICAgICAgICAgICBzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgICAgICAgIHJldHVybiBaX09LJDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJlZyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSlMgc3BlY2lmaWM6IGxpdHRsZSBtYWdpYyB0byBhZGQgemVybyB0ZXJtaW5hdG9yIHRvIGVuZCBvZiBzdHJpbmdcbiAgICAgICAgaWYgKHMuZ3ppbmRleCA8IHMuZ3poZWFkLm5hbWUubGVuZ3RoKSB7XG4gICAgICAgICAgdmFsID0gcy5nemhlYWQubmFtZS5jaGFyQ29kZUF0KHMuZ3ppbmRleCsrKSAmIDB4ZmY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsID0gMDtcbiAgICAgICAgfVxuICAgICAgICBwdXRfYnl0ZShzLCB2YWwpO1xuICAgICAgfSB3aGlsZSAodmFsICE9PSAwKTtcbiAgICAgIC8vLS0tIEhDUkNfVVBEQVRFKGJlZykgLS0tLy9cbiAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICB9XG4gICAgICAvLy0tLS8vXG4gICAgICBzLmd6aW5kZXggPSAwO1xuICAgIH1cbiAgICBzLnN0YXR1cyA9IENPTU1FTlRfU1RBVEU7XG4gIH1cbiAgaWYgKHMuc3RhdHVzID09PSBDT01NRU5UX1NUQVRFKSB7XG4gICAgaWYgKHMuZ3poZWFkLmNvbW1lbnQvKiAhPSBaX05VTEwqLykge1xuICAgICAgbGV0IGJlZyA9IHMucGVuZGluZzsgICAvKiBzdGFydCBvZiBieXRlcyB0byB1cGRhdGUgY3JjICovXG4gICAgICBsZXQgdmFsO1xuICAgICAgZG8ge1xuICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAvLy0tLSBIQ1JDX1VQREFURShiZWcpIC0tLS8vXG4gICAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgICAgIGlmIChzLnBlbmRpbmcgIT09IDApIHtcbiAgICAgICAgICAgIHMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgICAgICAgcmV0dXJuIFpfT0skMztcbiAgICAgICAgICB9XG4gICAgICAgICAgYmVnID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBKUyBzcGVjaWZpYzogbGl0dGxlIG1hZ2ljIHRvIGFkZCB6ZXJvIHRlcm1pbmF0b3IgdG8gZW5kIG9mIHN0cmluZ1xuICAgICAgICBpZiAocy5nemluZGV4IDwgcy5nemhlYWQuY29tbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICB2YWwgPSBzLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQocy5nemluZGV4KyspICYgMHhmZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWwgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHB1dF9ieXRlKHMsIHZhbCk7XG4gICAgICB9IHdoaWxlICh2YWwgIT09IDApO1xuICAgICAgLy8tLS0gSENSQ19VUERBVEUoYmVnKSAtLS0vL1xuICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgIH1cbiAgICAgIC8vLS0tLy9cbiAgICB9XG4gICAgcy5zdGF0dXMgPSBIQ1JDX1NUQVRFO1xuICB9XG4gIGlmIChzLnN0YXR1cyA9PT0gSENSQ19TVEFURSkge1xuICAgIGlmIChzLmd6aGVhZC5oY3JjKSB7XG4gICAgICBpZiAocy5wZW5kaW5nICsgMiA+IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgICBpZiAocy5wZW5kaW5nICE9PSAwKSB7XG4gICAgICAgICAgcy5sYXN0X2ZsdXNoID0gLTE7XG4gICAgICAgICAgcmV0dXJuIFpfT0skMztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcHV0X2J5dGUocywgc3RybS5hZGxlciAmIDB4ZmYpO1xuICAgICAgcHV0X2J5dGUocywgKHN0cm0uYWRsZXIgPj4gOCkgJiAweGZmKTtcbiAgICAgIHN0cm0uYWRsZXIgPSAwOyAvL2NyYzMyKDBMLCBaX05VTEwsIDApO1xuICAgIH1cbiAgICBzLnN0YXR1cyA9IEJVU1lfU1RBVEU7XG5cbiAgICAvKiBDb21wcmVzc2lvbiBtdXN0IHN0YXJ0IHdpdGggYW4gZW1wdHkgcGVuZGluZyBidWZmZXIgKi9cbiAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgIGlmIChzLnBlbmRpbmcgIT09IDApIHtcbiAgICAgIHMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgcmV0dXJuIFpfT0skMztcbiAgICB9XG4gIH1cbi8vI2VuZGlmXG5cbiAgLyogU3RhcnQgYSBuZXcgYmxvY2sgb3IgY29udGludWUgdGhlIGN1cnJlbnQgb25lLlxuICAgKi9cbiAgaWYgKHN0cm0uYXZhaWxfaW4gIT09IDAgfHwgcy5sb29rYWhlYWQgIT09IDAgfHxcbiAgICAoZmx1c2ggIT09IFpfTk9fRkxVU0gkMiAmJiBzLnN0YXR1cyAhPT0gRklOSVNIX1NUQVRFKSkge1xuICAgIGxldCBic3RhdGUgPSBzLmxldmVsID09PSAwID8gZGVmbGF0ZV9zdG9yZWQocywgZmx1c2gpIDpcbiAgICAgICAgICAgICAgICAgcy5zdHJhdGVneSA9PT0gWl9IVUZGTUFOX09OTFkgPyBkZWZsYXRlX2h1ZmYocywgZmx1c2gpIDpcbiAgICAgICAgICAgICAgICAgcy5zdHJhdGVneSA9PT0gWl9STEUgPyBkZWZsYXRlX3JsZShzLCBmbHVzaCkgOlxuICAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLmZ1bmMocywgZmx1c2gpO1xuXG4gICAgaWYgKGJzdGF0ZSA9PT0gQlNfRklOSVNIX1NUQVJURUQgfHwgYnN0YXRlID09PSBCU19GSU5JU0hfRE9ORSkge1xuICAgICAgcy5zdGF0dXMgPSBGSU5JU0hfU1RBVEU7XG4gICAgfVxuICAgIGlmIChic3RhdGUgPT09IEJTX05FRURfTU9SRSB8fCBic3RhdGUgPT09IEJTX0ZJTklTSF9TVEFSVEVEKSB7XG4gICAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcy5sYXN0X2ZsdXNoID0gLTE7XG4gICAgICAgIC8qIGF2b2lkIEJVRl9FUlJPUiBuZXh0IGNhbGwsIHNlZSBhYm92ZSAqL1xuICAgICAgfVxuICAgICAgcmV0dXJuIFpfT0skMztcbiAgICAgIC8qIElmIGZsdXNoICE9IFpfTk9fRkxVU0ggJiYgYXZhaWxfb3V0ID09IDAsIHRoZSBuZXh0IGNhbGxcbiAgICAgICAqIG9mIGRlZmxhdGUgc2hvdWxkIHVzZSB0aGUgc2FtZSBmbHVzaCBwYXJhbWV0ZXIgdG8gbWFrZSBzdXJlXG4gICAgICAgKiB0aGF0IHRoZSBmbHVzaCBpcyBjb21wbGV0ZS4gU28gd2UgZG9uJ3QgaGF2ZSB0byBvdXRwdXQgYW5cbiAgICAgICAqIGVtcHR5IGJsb2NrIGhlcmUsIHRoaXMgd2lsbCBiZSBkb25lIGF0IG5leHQgY2FsbC4gVGhpcyBhbHNvXG4gICAgICAgKiBlbnN1cmVzIHRoYXQgZm9yIGEgdmVyeSBzbWFsbCBvdXRwdXQgYnVmZmVyLCB3ZSBlbWl0IGF0IG1vc3RcbiAgICAgICAqIG9uZSBlbXB0eSBibG9jay5cbiAgICAgICAqL1xuICAgIH1cbiAgICBpZiAoYnN0YXRlID09PSBCU19CTE9DS19ET05FKSB7XG4gICAgICBpZiAoZmx1c2ggPT09IFpfUEFSVElBTF9GTFVTSCkge1xuICAgICAgICBfdHJfYWxpZ24ocyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChmbHVzaCAhPT0gWl9CTE9DSyQxKSB7IC8qIEZVTExfRkxVU0ggb3IgU1lOQ19GTFVTSCAqL1xuXG4gICAgICAgIF90cl9zdG9yZWRfYmxvY2socywgMCwgMCwgZmFsc2UpO1xuICAgICAgICAvKiBGb3IgYSBmdWxsIGZsdXNoLCB0aGlzIGVtcHR5IGJsb2NrIHdpbGwgYmUgcmVjb2duaXplZFxuICAgICAgICAgKiBhcyBhIHNwZWNpYWwgbWFya2VyIGJ5IGluZmxhdGVfc3luYygpLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGZsdXNoID09PSBaX0ZVTExfRkxVU0gkMSkge1xuICAgICAgICAgIC8qKiogQ0xFQVJfSEFTSChzKTsgKioqLyAgICAgICAgICAgICAvKiBmb3JnZXQgaGlzdG9yeSAqL1xuICAgICAgICAgIHplcm8ocy5oZWFkKTsgLy8gRmlsbCB3aXRoIE5JTCAoPSAwKTtcblxuICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICAgICAgcy5zdHJzdGFydCA9IDA7XG4gICAgICAgICAgICBzLmJsb2NrX3N0YXJ0ID0gMDtcbiAgICAgICAgICAgIHMuaW5zZXJ0ID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcy5sYXN0X2ZsdXNoID0gLTE7IC8qIGF2b2lkIEJVRl9FUlJPUiBhdCBuZXh0IGNhbGwsIHNlZSBhYm92ZSAqL1xuICAgICAgICByZXR1cm4gWl9PSyQzO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChmbHVzaCAhPT0gWl9GSU5JU0gkMykgeyByZXR1cm4gWl9PSyQzOyB9XG4gIGlmIChzLndyYXAgPD0gMCkgeyByZXR1cm4gWl9TVFJFQU1fRU5EJDM7IH1cblxuICAvKiBXcml0ZSB0aGUgdHJhaWxlciAqL1xuICBpZiAocy53cmFwID09PSAyKSB7XG4gICAgcHV0X2J5dGUocywgc3RybS5hZGxlciAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIChzdHJtLmFkbGVyID4+IDgpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgKHN0cm0uYWRsZXIgPj4gMTYpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgKHN0cm0uYWRsZXIgPj4gMjQpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgc3RybS50b3RhbF9pbiAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIChzdHJtLnRvdGFsX2luID4+IDgpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgKHN0cm0udG90YWxfaW4gPj4gMTYpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgKHN0cm0udG90YWxfaW4gPj4gMjQpICYgMHhmZik7XG4gIH1cbiAgZWxzZVxuICB7XG4gICAgcHV0U2hvcnRNU0Iocywgc3RybS5hZGxlciA+Pj4gMTYpO1xuICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgJiAweGZmZmYpO1xuICB9XG5cbiAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgLyogSWYgYXZhaWxfb3V0IGlzIHplcm8sIHRoZSBhcHBsaWNhdGlvbiB3aWxsIGNhbGwgZGVmbGF0ZSBhZ2FpblxuICAgKiB0byBmbHVzaCB0aGUgcmVzdC5cbiAgICovXG4gIGlmIChzLndyYXAgPiAwKSB7IHMud3JhcCA9IC1zLndyYXA7IH1cbiAgLyogd3JpdGUgdGhlIHRyYWlsZXIgb25seSBvbmNlISAqL1xuICByZXR1cm4gcy5wZW5kaW5nICE9PSAwID8gWl9PSyQzIDogWl9TVFJFQU1fRU5EJDM7XG59O1xuXG5cbmNvbnN0IGRlZmxhdGVFbmQgPSAoc3RybSkgPT4ge1xuXG4gIGlmIChkZWZsYXRlU3RhdGVDaGVjayhzdHJtKSkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUiQyO1xuICB9XG5cbiAgY29uc3Qgc3RhdHVzID0gc3RybS5zdGF0ZS5zdGF0dXM7XG5cbiAgc3RybS5zdGF0ZSA9IG51bGw7XG5cbiAgcmV0dXJuIHN0YXR1cyA9PT0gQlVTWV9TVEFURSA/IGVycihzdHJtLCBaX0RBVEFfRVJST1IkMikgOiBaX09LJDM7XG59O1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEluaXRpYWxpemVzIHRoZSBjb21wcmVzc2lvbiBkaWN0aW9uYXJ5IGZyb20gdGhlIGdpdmVuIGJ5dGVcbiAqIHNlcXVlbmNlIHdpdGhvdXQgcHJvZHVjaW5nIGFueSBjb21wcmVzc2VkIG91dHB1dC5cbiAqL1xuY29uc3QgZGVmbGF0ZVNldERpY3Rpb25hcnkgPSAoc3RybSwgZGljdGlvbmFyeSkgPT4ge1xuXG4gIGxldCBkaWN0TGVuZ3RoID0gZGljdGlvbmFyeS5sZW5ndGg7XG5cbiAgaWYgKGRlZmxhdGVTdGF0ZUNoZWNrKHN0cm0pKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDI7XG4gIH1cblxuICBjb25zdCBzID0gc3RybS5zdGF0ZTtcbiAgY29uc3Qgd3JhcCA9IHMud3JhcDtcblxuICBpZiAod3JhcCA9PT0gMiB8fCAod3JhcCA9PT0gMSAmJiBzLnN0YXR1cyAhPT0gSU5JVF9TVEFURSkgfHwgcy5sb29rYWhlYWQpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1IkMjtcbiAgfVxuXG4gIC8qIHdoZW4gdXNpbmcgemxpYiB3cmFwcGVycywgY29tcHV0ZSBBZGxlci0zMiBmb3IgcHJvdmlkZWQgZGljdGlvbmFyeSAqL1xuICBpZiAod3JhcCA9PT0gMSkge1xuICAgIC8qIGFkbGVyMzIoc3RybS0+YWRsZXIsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgpOyAqL1xuICAgIHN0cm0uYWRsZXIgPSBhZGxlcjMyXzEoc3RybS5hZGxlciwgZGljdGlvbmFyeSwgZGljdExlbmd0aCwgMCk7XG4gIH1cblxuICBzLndyYXAgPSAwOyAgIC8qIGF2b2lkIGNvbXB1dGluZyBBZGxlci0zMiBpbiByZWFkX2J1ZiAqL1xuXG4gIC8qIGlmIGRpY3Rpb25hcnkgd291bGQgZmlsbCB3aW5kb3csIGp1c3QgcmVwbGFjZSB0aGUgaGlzdG9yeSAqL1xuICBpZiAoZGljdExlbmd0aCA+PSBzLndfc2l6ZSkge1xuICAgIGlmICh3cmFwID09PSAwKSB7ICAgICAgICAgICAgLyogYWxyZWFkeSBlbXB0eSBvdGhlcndpc2UgKi9cbiAgICAgIC8qKiogQ0xFQVJfSEFTSChzKTsgKioqL1xuICAgICAgemVybyhzLmhlYWQpOyAvLyBGaWxsIHdpdGggTklMICg9IDApO1xuICAgICAgcy5zdHJzdGFydCA9IDA7XG4gICAgICBzLmJsb2NrX3N0YXJ0ID0gMDtcbiAgICAgIHMuaW5zZXJ0ID0gMDtcbiAgICB9XG4gICAgLyogdXNlIHRoZSB0YWlsICovXG4gICAgLy8gZGljdGlvbmFyeSA9IGRpY3Rpb25hcnkuc2xpY2UoZGljdExlbmd0aCAtIHMud19zaXplKTtcbiAgICBsZXQgdG1wRGljdCA9IG5ldyBVaW50OEFycmF5KHMud19zaXplKTtcbiAgICB0bXBEaWN0LnNldChkaWN0aW9uYXJ5LnN1YmFycmF5KGRpY3RMZW5ndGggLSBzLndfc2l6ZSwgZGljdExlbmd0aCksIDApO1xuICAgIGRpY3Rpb25hcnkgPSB0bXBEaWN0O1xuICAgIGRpY3RMZW5ndGggPSBzLndfc2l6ZTtcbiAgfVxuICAvKiBpbnNlcnQgZGljdGlvbmFyeSBpbnRvIHdpbmRvdyBhbmQgaGFzaCAqL1xuICBjb25zdCBhdmFpbCA9IHN0cm0uYXZhaWxfaW47XG4gIGNvbnN0IG5leHQgPSBzdHJtLm5leHRfaW47XG4gIGNvbnN0IGlucHV0ID0gc3RybS5pbnB1dDtcbiAgc3RybS5hdmFpbF9pbiA9IGRpY3RMZW5ndGg7XG4gIHN0cm0ubmV4dF9pbiA9IDA7XG4gIHN0cm0uaW5wdXQgPSBkaWN0aW9uYXJ5O1xuICBmaWxsX3dpbmRvdyhzKTtcbiAgd2hpbGUgKHMubG9va2FoZWFkID49IE1JTl9NQVRDSCkge1xuICAgIGxldCBzdHIgPSBzLnN0cnN0YXJ0O1xuICAgIGxldCBuID0gcy5sb29rYWhlYWQgLSAoTUlOX01BVENIIC0gMSk7XG4gICAgZG8ge1xuICAgICAgLyogVVBEQVRFX0hBU0gocywgcy0+aW5zX2gsIHMtPndpbmRvd1tzdHIgKyBNSU5fTUFUQ0gtMV0pOyAqL1xuICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbc3RyICsgTUlOX01BVENIIC0gMV0pO1xuXG4gICAgICBzLnByZXZbc3RyICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuXG4gICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzdHI7XG4gICAgICBzdHIrKztcbiAgICB9IHdoaWxlICgtLW4pO1xuICAgIHMuc3Ryc3RhcnQgPSBzdHI7XG4gICAgcy5sb29rYWhlYWQgPSBNSU5fTUFUQ0ggLSAxO1xuICAgIGZpbGxfd2luZG93KHMpO1xuICB9XG4gIHMuc3Ryc3RhcnQgKz0gcy5sb29rYWhlYWQ7XG4gIHMuYmxvY2tfc3RhcnQgPSBzLnN0cnN0YXJ0O1xuICBzLmluc2VydCA9IHMubG9va2FoZWFkO1xuICBzLmxvb2thaGVhZCA9IDA7XG4gIHMubWF0Y2hfbGVuZ3RoID0gcy5wcmV2X2xlbmd0aCA9IE1JTl9NQVRDSCAtIDE7XG4gIHMubWF0Y2hfYXZhaWxhYmxlID0gMDtcbiAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgc3RybS5pbnB1dCA9IGlucHV0O1xuICBzdHJtLmF2YWlsX2luID0gYXZhaWw7XG4gIHMud3JhcCA9IHdyYXA7XG4gIHJldHVybiBaX09LJDM7XG59O1xuXG5cbnZhciBkZWZsYXRlSW5pdF8xID0gZGVmbGF0ZUluaXQ7XG52YXIgZGVmbGF0ZUluaXQyXzEgPSBkZWZsYXRlSW5pdDI7XG52YXIgZGVmbGF0ZVJlc2V0XzEgPSBkZWZsYXRlUmVzZXQ7XG52YXIgZGVmbGF0ZVJlc2V0S2VlcF8xID0gZGVmbGF0ZVJlc2V0S2VlcDtcbnZhciBkZWZsYXRlU2V0SGVhZGVyXzEgPSBkZWZsYXRlU2V0SGVhZGVyO1xudmFyIGRlZmxhdGVfMiQxID0gZGVmbGF0ZSQyO1xudmFyIGRlZmxhdGVFbmRfMSA9IGRlZmxhdGVFbmQ7XG52YXIgZGVmbGF0ZVNldERpY3Rpb25hcnlfMSA9IGRlZmxhdGVTZXREaWN0aW9uYXJ5O1xudmFyIGRlZmxhdGVJbmZvID0gJ3Bha28gZGVmbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdCknO1xuXG4vKiBOb3QgaW1wbGVtZW50ZWRcbm1vZHVsZS5leHBvcnRzLmRlZmxhdGVCb3VuZCA9IGRlZmxhdGVCb3VuZDtcbm1vZHVsZS5leHBvcnRzLmRlZmxhdGVDb3B5ID0gZGVmbGF0ZUNvcHk7XG5tb2R1bGUuZXhwb3J0cy5kZWZsYXRlR2V0RGljdGlvbmFyeSA9IGRlZmxhdGVHZXREaWN0aW9uYXJ5O1xubW9kdWxlLmV4cG9ydHMuZGVmbGF0ZVBhcmFtcyA9IGRlZmxhdGVQYXJhbXM7XG5tb2R1bGUuZXhwb3J0cy5kZWZsYXRlUGVuZGluZyA9IGRlZmxhdGVQZW5kaW5nO1xubW9kdWxlLmV4cG9ydHMuZGVmbGF0ZVByaW1lID0gZGVmbGF0ZVByaW1lO1xubW9kdWxlLmV4cG9ydHMuZGVmbGF0ZVR1bmUgPSBkZWZsYXRlVHVuZTtcbiovXG5cbnZhciBkZWZsYXRlXzEkMiA9IHtcblx0ZGVmbGF0ZUluaXQ6IGRlZmxhdGVJbml0XzEsXG5cdGRlZmxhdGVJbml0MjogZGVmbGF0ZUluaXQyXzEsXG5cdGRlZmxhdGVSZXNldDogZGVmbGF0ZVJlc2V0XzEsXG5cdGRlZmxhdGVSZXNldEtlZXA6IGRlZmxhdGVSZXNldEtlZXBfMSxcblx0ZGVmbGF0ZVNldEhlYWRlcjogZGVmbGF0ZVNldEhlYWRlcl8xLFxuXHRkZWZsYXRlOiBkZWZsYXRlXzIkMSxcblx0ZGVmbGF0ZUVuZDogZGVmbGF0ZUVuZF8xLFxuXHRkZWZsYXRlU2V0RGljdGlvbmFyeTogZGVmbGF0ZVNldERpY3Rpb25hcnlfMSxcblx0ZGVmbGF0ZUluZm86IGRlZmxhdGVJbmZvXG59O1xuXG5jb25zdCBfaGFzID0gKG9iaiwga2V5KSA9PiB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufTtcblxudmFyIGFzc2lnbiA9IGZ1bmN0aW9uIChvYmogLypmcm9tMSwgZnJvbTIsIGZyb20zLCAuLi4qLykge1xuICBjb25zdCBzb3VyY2VzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgd2hpbGUgKHNvdXJjZXMubGVuZ3RoKSB7XG4gICAgY29uc3Qgc291cmNlID0gc291cmNlcy5zaGlmdCgpO1xuICAgIGlmICghc291cmNlKSB7IGNvbnRpbnVlOyB9XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3Ioc291cmNlICsgJ211c3QgYmUgbm9uLW9iamVjdCcpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgcCBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChfaGFzKHNvdXJjZSwgcCkpIHtcbiAgICAgICAgb2JqW3BdID0gc291cmNlW3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG5cbi8vIEpvaW4gYXJyYXkgb2YgY2h1bmtzIHRvIHNpbmdsZSBhcnJheS5cbnZhciBmbGF0dGVuQ2h1bmtzID0gKGNodW5rcykgPT4ge1xuICAvLyBjYWxjdWxhdGUgZGF0YSBsZW5ndGhcbiAgbGV0IGxlbiA9IDA7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaHVua3MubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgbGVuICs9IGNodW5rc1tpXS5sZW5ndGg7XG4gIH1cblxuICAvLyBqb2luIGNodW5rc1xuICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShsZW4pO1xuXG4gIGZvciAobGV0IGkgPSAwLCBwb3MgPSAwLCBsID0gY2h1bmtzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGxldCBjaHVuayA9IGNodW5rc1tpXTtcbiAgICByZXN1bHQuc2V0KGNodW5rLCBwb3MpO1xuICAgIHBvcyArPSBjaHVuay5sZW5ndGg7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIGNvbW1vbiA9IHtcblx0YXNzaWduOiBhc3NpZ24sXG5cdGZsYXR0ZW5DaHVua3M6IGZsYXR0ZW5DaHVua3Ncbn07XG5cbi8vIFN0cmluZyBlbmNvZGUvZGVjb2RlIGhlbHBlcnNcblxuXG4vLyBRdWljayBjaGVjayBpZiB3ZSBjYW4gdXNlIGZhc3QgYXJyYXkgdG8gYmluIHN0cmluZyBjb252ZXJzaW9uXG4vL1xuLy8gLSBhcHBseShBcnJheSkgY2FuIGZhaWwgb24gQW5kcm9pZCAyLjJcbi8vIC0gYXBwbHkoVWludDhBcnJheSkgY2FuIGZhaWwgb24gaU9TIDUuMSBTYWZhcmlcbi8vXG5sZXQgU1RSX0FQUExZX1VJQV9PSyA9IHRydWU7XG5cbnRyeSB7IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoMSkpOyB9IGNhdGNoIChfXykgeyBTVFJfQVBQTFlfVUlBX09LID0gZmFsc2U7IH1cblxuXG4vLyBUYWJsZSB3aXRoIHV0ZjggbGVuZ3RocyAoY2FsY3VsYXRlZCBieSBmaXJzdCBieXRlIG9mIHNlcXVlbmNlKVxuLy8gTm90ZSwgdGhhdCA1ICYgNi1ieXRlIHZhbHVlcyBhbmQgc29tZSA0LWJ5dGUgdmFsdWVzIGNhbiBub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlMsXG4vLyBiZWNhdXNlIG1heCBwb3NzaWJsZSBjb2RlcG9pbnQgaXMgMHgxMGZmZmZcbmNvbnN0IF91dGY4bGVuID0gbmV3IFVpbnQ4QXJyYXkoMjU2KTtcbmZvciAobGV0IHEgPSAwOyBxIDwgMjU2OyBxKyspIHtcbiAgX3V0ZjhsZW5bcV0gPSAocSA+PSAyNTIgPyA2IDogcSA+PSAyNDggPyA1IDogcSA+PSAyNDAgPyA0IDogcSA+PSAyMjQgPyAzIDogcSA+PSAxOTIgPyAyIDogMSk7XG59XG5fdXRmOGxlblsyNTRdID0gX3V0ZjhsZW5bMjU0XSA9IDE7IC8vIEludmFsaWQgc2VxdWVuY2Ugc3RhcnRcblxuXG4vLyBjb252ZXJ0IHN0cmluZyB0byBhcnJheSAodHlwZWQsIHdoZW4gcG9zc2libGUpXG52YXIgc3RyaW5nMmJ1ZiA9IChzdHIpID0+IHtcbiAgaWYgKHR5cGVvZiBUZXh0RW5jb2RlciA9PT0gJ2Z1bmN0aW9uJyAmJiBUZXh0RW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlKSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzdHIpO1xuICB9XG5cbiAgbGV0IGJ1ZiwgYywgYzIsIG1fcG9zLCBpLCBzdHJfbGVuID0gc3RyLmxlbmd0aCwgYnVmX2xlbiA9IDA7XG5cbiAgLy8gY291bnQgYmluYXJ5IHNpemVcbiAgZm9yIChtX3BvcyA9IDA7IG1fcG9zIDwgc3RyX2xlbjsgbV9wb3MrKykge1xuICAgIGMgPSBzdHIuY2hhckNvZGVBdChtX3Bvcyk7XG4gICAgaWYgKChjICYgMHhmYzAwKSA9PT0gMHhkODAwICYmIChtX3BvcyArIDEgPCBzdHJfbGVuKSkge1xuICAgICAgYzIgPSBzdHIuY2hhckNvZGVBdChtX3BvcyArIDEpO1xuICAgICAgaWYgKChjMiAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xuICAgICAgICBjID0gMHgxMDAwMCArICgoYyAtIDB4ZDgwMCkgPDwgMTApICsgKGMyIC0gMHhkYzAwKTtcbiAgICAgICAgbV9wb3MrKztcbiAgICAgIH1cbiAgICB9XG4gICAgYnVmX2xlbiArPSBjIDwgMHg4MCA/IDEgOiBjIDwgMHg4MDAgPyAyIDogYyA8IDB4MTAwMDAgPyAzIDogNDtcbiAgfVxuXG4gIC8vIGFsbG9jYXRlIGJ1ZmZlclxuICBidWYgPSBuZXcgVWludDhBcnJheShidWZfbGVuKTtcblxuICAvLyBjb252ZXJ0XG4gIGZvciAoaSA9IDAsIG1fcG9zID0gMDsgaSA8IGJ1Zl9sZW47IG1fcG9zKyspIHtcbiAgICBjID0gc3RyLmNoYXJDb2RlQXQobV9wb3MpO1xuICAgIGlmICgoYyAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJiAobV9wb3MgKyAxIDwgc3RyX2xlbikpIHtcbiAgICAgIGMyID0gc3RyLmNoYXJDb2RlQXQobV9wb3MgKyAxKTtcbiAgICAgIGlmICgoYzIgJiAweGZjMDApID09PSAweGRjMDApIHtcbiAgICAgICAgYyA9IDB4MTAwMDAgKyAoKGMgLSAweGQ4MDApIDw8IDEwKSArIChjMiAtIDB4ZGMwMCk7XG4gICAgICAgIG1fcG9zKys7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgLyogb25lIGJ5dGUgKi9cbiAgICAgIGJ1ZltpKytdID0gYztcbiAgICB9IGVsc2UgaWYgKGMgPCAweDgwMCkge1xuICAgICAgLyogdHdvIGJ5dGVzICovXG4gICAgICBidWZbaSsrXSA9IDB4QzAgfCAoYyA+Pj4gNik7XG4gICAgICBidWZbaSsrXSA9IDB4ODAgfCAoYyAmIDB4M2YpO1xuICAgIH0gZWxzZSBpZiAoYyA8IDB4MTAwMDApIHtcbiAgICAgIC8qIHRocmVlIGJ5dGVzICovXG4gICAgICBidWZbaSsrXSA9IDB4RTAgfCAoYyA+Pj4gMTIpO1xuICAgICAgYnVmW2krK10gPSAweDgwIHwgKGMgPj4+IDYgJiAweDNmKTtcbiAgICAgIGJ1ZltpKytdID0gMHg4MCB8IChjICYgMHgzZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGZvdXIgYnl0ZXMgKi9cbiAgICAgIGJ1ZltpKytdID0gMHhmMCB8IChjID4+PiAxOCk7XG4gICAgICBidWZbaSsrXSA9IDB4ODAgfCAoYyA+Pj4gMTIgJiAweDNmKTtcbiAgICAgIGJ1ZltpKytdID0gMHg4MCB8IChjID4+PiA2ICYgMHgzZik7XG4gICAgICBidWZbaSsrXSA9IDB4ODAgfCAoYyAmIDB4M2YpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBidWY7XG59O1xuXG4vLyBIZWxwZXJcbmNvbnN0IGJ1ZjJiaW5zdHJpbmcgPSAoYnVmLCBsZW4pID0+IHtcbiAgLy8gT24gQ2hyb21lLCB0aGUgYXJndW1lbnRzIGluIGEgZnVuY3Rpb24gY2FsbCB0aGF0IGFyZSBhbGxvd2VkIGlzIGA2NTUzNGAuXG4gIC8vIElmIHRoZSBsZW5ndGggb2YgdGhlIGJ1ZmZlciBpcyBzbWFsbGVyIHRoYW4gdGhhdCwgd2UgY2FuIHVzZSB0aGlzIG9wdGltaXphdGlvbixcbiAgLy8gb3RoZXJ3aXNlIHdlIHdpbGwgdGFrZSBhIHNsb3dlciBwYXRoLlxuICBpZiAobGVuIDwgNjU1MzQpIHtcbiAgICBpZiAoYnVmLnN1YmFycmF5ICYmIFNUUl9BUFBMWV9VSUFfT0spIHtcbiAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGJ1Zi5sZW5ndGggPT09IGxlbiA/IGJ1ZiA6IGJ1Zi5zdWJhcnJheSgwLCBsZW4pKTtcbiAgICB9XG4gIH1cblxuICBsZXQgcmVzdWx0ID0gJyc7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8vIGNvbnZlcnQgYXJyYXkgdG8gc3RyaW5nXG52YXIgYnVmMnN0cmluZyA9IChidWYsIG1heCkgPT4ge1xuICBjb25zdCBsZW4gPSBtYXggfHwgYnVmLmxlbmd0aDtcblxuICBpZiAodHlwZW9mIFRleHREZWNvZGVyID09PSAnZnVuY3Rpb24nICYmIFRleHREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUpIHtcbiAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGJ1Zi5zdWJhcnJheSgwLCBtYXgpKTtcbiAgfVxuXG4gIGxldCBpLCBvdXQ7XG5cbiAgLy8gUmVzZXJ2ZSBtYXggcG9zc2libGUgbGVuZ3RoICgyIHdvcmRzIHBlciBjaGFyKVxuICAvLyBOQjogYnkgdW5rbm93biByZWFzb25zLCBBcnJheSBpcyBzaWduaWZpY2FudGx5IGZhc3RlciBmb3JcbiAgLy8gICAgIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkgdGhhbiBVaW50MTZBcnJheS5cbiAgY29uc3QgdXRmMTZidWYgPSBuZXcgQXJyYXkobGVuICogMik7XG5cbiAgZm9yIChvdXQgPSAwLCBpID0gMDsgaSA8IGxlbjspIHtcbiAgICBsZXQgYyA9IGJ1ZltpKytdO1xuICAgIC8vIHF1aWNrIHByb2Nlc3MgYXNjaWlcbiAgICBpZiAoYyA8IDB4ODApIHsgdXRmMTZidWZbb3V0KytdID0gYzsgY29udGludWU7IH1cblxuICAgIGxldCBjX2xlbiA9IF91dGY4bGVuW2NdO1xuICAgIC8vIHNraXAgNSAmIDYgYnl0ZSBjb2Rlc1xuICAgIGlmIChjX2xlbiA+IDQpIHsgdXRmMTZidWZbb3V0KytdID0gMHhmZmZkOyBpICs9IGNfbGVuIC0gMTsgY29udGludWU7IH1cblxuICAgIC8vIGFwcGx5IG1hc2sgb24gZmlyc3QgYnl0ZVxuICAgIGMgJj0gY19sZW4gPT09IDIgPyAweDFmIDogY19sZW4gPT09IDMgPyAweDBmIDogMHgwNztcbiAgICAvLyBqb2luIHRoZSByZXN0XG4gICAgd2hpbGUgKGNfbGVuID4gMSAmJiBpIDwgbGVuKSB7XG4gICAgICBjID0gKGMgPDwgNikgfCAoYnVmW2krK10gJiAweDNmKTtcbiAgICAgIGNfbGVuLS07XG4gICAgfVxuXG4gICAgLy8gdGVybWluYXRlZCBieSBlbmQgb2Ygc3RyaW5nP1xuICAgIGlmIChjX2xlbiA+IDEpIHsgdXRmMTZidWZbb3V0KytdID0gMHhmZmZkOyBjb250aW51ZTsgfVxuXG4gICAgaWYgKGMgPCAweDEwMDAwKSB7XG4gICAgICB1dGYxNmJ1ZltvdXQrK10gPSBjO1xuICAgIH0gZWxzZSB7XG4gICAgICBjIC09IDB4MTAwMDA7XG4gICAgICB1dGYxNmJ1ZltvdXQrK10gPSAweGQ4MDAgfCAoKGMgPj4gMTApICYgMHgzZmYpO1xuICAgICAgdXRmMTZidWZbb3V0KytdID0gMHhkYzAwIHwgKGMgJiAweDNmZik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZjJiaW5zdHJpbmcodXRmMTZidWYsIG91dCk7XG59O1xuXG5cbi8vIENhbGN1bGF0ZSBtYXggcG9zc2libGUgcG9zaXRpb24gaW4gdXRmOCBidWZmZXIsXG4vLyB0aGF0IHdpbGwgbm90IGJyZWFrIHNlcXVlbmNlLiBJZiB0aGF0J3Mgbm90IHBvc3NpYmxlXG4vLyAtICh2ZXJ5IHNtYWxsIGxpbWl0cykgcmV0dXJuIG1heCBzaXplIGFzIGlzLlxuLy9cbi8vIGJ1ZltdIC0gdXRmOCBieXRlcyBhcnJheVxuLy8gbWF4ICAgLSBsZW5ndGggbGltaXQgKG1hbmRhdG9yeSk7XG52YXIgdXRmOGJvcmRlciA9IChidWYsIG1heCkgPT4ge1xuXG4gIG1heCA9IG1heCB8fCBidWYubGVuZ3RoO1xuICBpZiAobWF4ID4gYnVmLmxlbmd0aCkgeyBtYXggPSBidWYubGVuZ3RoOyB9XG5cbiAgLy8gZ28gYmFjayBmcm9tIGxhc3QgcG9zaXRpb24sIHVudGlsIHN0YXJ0IG9mIHNlcXVlbmNlIGZvdW5kXG4gIGxldCBwb3MgPSBtYXggLSAxO1xuICB3aGlsZSAocG9zID49IDAgJiYgKGJ1Zltwb3NdICYgMHhDMCkgPT09IDB4ODApIHsgcG9zLS07IH1cblxuICAvLyBWZXJ5IHNtYWxsIGFuZCBicm9rZW4gc2VxdWVuY2UsXG4gIC8vIHJldHVybiBtYXgsIGJlY2F1c2Ugd2Ugc2hvdWxkIHJldHVybiBzb21ldGhpbmcgYW55d2F5LlxuICBpZiAocG9zIDwgMCkgeyByZXR1cm4gbWF4OyB9XG5cbiAgLy8gSWYgd2UgY2FtZSB0byBzdGFydCBvZiBidWZmZXIgLSB0aGF0IG1lYW5zIGJ1ZmZlciBpcyB0b28gc21hbGwsXG4gIC8vIHJldHVybiBtYXggdG9vLlxuICBpZiAocG9zID09PSAwKSB7IHJldHVybiBtYXg7IH1cblxuICByZXR1cm4gKHBvcyArIF91dGY4bGVuW2J1Zltwb3NdXSA+IG1heCkgPyBwb3MgOiBtYXg7XG59O1xuXG52YXIgc3RyaW5ncyA9IHtcblx0c3RyaW5nMmJ1Zjogc3RyaW5nMmJ1Zixcblx0YnVmMnN0cmluZzogYnVmMnN0cmluZyxcblx0dXRmOGJvcmRlcjogdXRmOGJvcmRlclxufTtcblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG5mdW5jdGlvbiBaU3RyZWFtKCkge1xuICAvKiBuZXh0IGlucHV0IGJ5dGUgKi9cbiAgdGhpcy5pbnB1dCA9IG51bGw7IC8vIEpTIHNwZWNpZmljLCBiZWNhdXNlIHdlIGhhdmUgbm8gcG9pbnRlcnNcbiAgdGhpcy5uZXh0X2luID0gMDtcbiAgLyogbnVtYmVyIG9mIGJ5dGVzIGF2YWlsYWJsZSBhdCBpbnB1dCAqL1xuICB0aGlzLmF2YWlsX2luID0gMDtcbiAgLyogdG90YWwgbnVtYmVyIG9mIGlucHV0IGJ5dGVzIHJlYWQgc28gZmFyICovXG4gIHRoaXMudG90YWxfaW4gPSAwO1xuICAvKiBuZXh0IG91dHB1dCBieXRlIHNob3VsZCBiZSBwdXQgdGhlcmUgKi9cbiAgdGhpcy5vdXRwdXQgPSBudWxsOyAvLyBKUyBzcGVjaWZpYywgYmVjYXVzZSB3ZSBoYXZlIG5vIHBvaW50ZXJzXG4gIHRoaXMubmV4dF9vdXQgPSAwO1xuICAvKiByZW1haW5pbmcgZnJlZSBzcGFjZSBhdCBvdXRwdXQgKi9cbiAgdGhpcy5hdmFpbF9vdXQgPSAwO1xuICAvKiB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgb3V0cHV0IHNvIGZhciAqL1xuICB0aGlzLnRvdGFsX291dCA9IDA7XG4gIC8qIGxhc3QgZXJyb3IgbWVzc2FnZSwgTlVMTCBpZiBubyBlcnJvciAqL1xuICB0aGlzLm1zZyA9ICcnLypaX05VTEwqLztcbiAgLyogbm90IHZpc2libGUgYnkgYXBwbGljYXRpb25zICovXG4gIHRoaXMuc3RhdGUgPSBudWxsO1xuICAvKiBiZXN0IGd1ZXNzIGFib3V0IHRoZSBkYXRhIHR5cGU6IGJpbmFyeSBvciB0ZXh0ICovXG4gIHRoaXMuZGF0YV90eXBlID0gMi8qWl9VTktOT1dOKi87XG4gIC8qIGFkbGVyMzIgdmFsdWUgb2YgdGhlIHVuY29tcHJlc3NlZCBkYXRhICovXG4gIHRoaXMuYWRsZXIgPSAwO1xufVxuXG52YXIgenN0cmVhbSA9IFpTdHJlYW07XG5cbmNvbnN0IHRvU3RyaW5nJDEgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuY29uc3Qge1xuICBaX05PX0ZMVVNIOiBaX05PX0ZMVVNIJDEsIFpfU1lOQ19GTFVTSCwgWl9GVUxMX0ZMVVNILCBaX0ZJTklTSDogWl9GSU5JU0gkMixcbiAgWl9PSzogWl9PSyQyLCBaX1NUUkVBTV9FTkQ6IFpfU1RSRUFNX0VORCQyLFxuICBaX0RFRkFVTFRfQ09NUFJFU1NJT04sXG4gIFpfREVGQVVMVF9TVFJBVEVHWSxcbiAgWl9ERUZMQVRFRDogWl9ERUZMQVRFRCQxXG59ID0gY29uc3RhbnRzJDI7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cblxuLyoqXG4gKiBjbGFzcyBEZWZsYXRlXG4gKlxuICogR2VuZXJpYyBKUy1zdHlsZSB3cmFwcGVyIGZvciB6bGliIGNhbGxzLiBJZiB5b3UgZG9uJ3QgbmVlZFxuICogc3RyZWFtaW5nIGJlaGF2aW91ciAtIHVzZSBtb3JlIHNpbXBsZSBmdW5jdGlvbnM6IFtbZGVmbGF0ZV1dLFxuICogW1tkZWZsYXRlUmF3XV0gYW5kIFtbZ3ppcF1dLlxuICoqL1xuXG4vKiBpbnRlcm5hbFxuICogRGVmbGF0ZS5jaHVua3MgLT4gQXJyYXlcbiAqXG4gKiBDaHVua3Mgb2Ygb3V0cHV0IGRhdGEsIGlmIFtbRGVmbGF0ZSNvbkRhdGFdXSBub3Qgb3ZlcnJpZGRlbi5cbiAqKi9cblxuLyoqXG4gKiBEZWZsYXRlLnJlc3VsdCAtPiBVaW50OEFycmF5XG4gKlxuICogQ29tcHJlc3NlZCByZXN1bHQsIGdlbmVyYXRlZCBieSBkZWZhdWx0IFtbRGVmbGF0ZSNvbkRhdGFdXVxuICogYW5kIFtbRGVmbGF0ZSNvbkVuZF1dIGhhbmRsZXJzLiBGaWxsZWQgYWZ0ZXIgeW91IHB1c2ggbGFzdCBjaHVua1xuICogKGNhbGwgW1tEZWZsYXRlI3B1c2hdXSB3aXRoIGBaX0ZJTklTSGAgLyBgdHJ1ZWAgcGFyYW0pLlxuICoqL1xuXG4vKipcbiAqIERlZmxhdGUuZXJyIC0+IE51bWJlclxuICpcbiAqIEVycm9yIGNvZGUgYWZ0ZXIgZGVmbGF0ZSBmaW5pc2hlZC4gMCAoWl9PSykgb24gc3VjY2Vzcy5cbiAqIFlvdSB3aWxsIG5vdCBuZWVkIGl0IGluIHJlYWwgbGlmZSwgYmVjYXVzZSBkZWZsYXRlIGVycm9yc1xuICogYXJlIHBvc3NpYmxlIG9ubHkgb24gd3Jvbmcgb3B0aW9ucyBvciBiYWQgYG9uRGF0YWAgLyBgb25FbmRgXG4gKiBjdXN0b20gaGFuZGxlcnMuXG4gKiovXG5cbi8qKlxuICogRGVmbGF0ZS5tc2cgLT4gU3RyaW5nXG4gKlxuICogRXJyb3IgbWVzc2FnZSwgaWYgW1tEZWZsYXRlLmVycl1dICE9IDBcbiAqKi9cblxuXG4vKipcbiAqIG5ldyBEZWZsYXRlKG9wdGlvbnMpXG4gKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgZGVmbGF0ZSBvcHRpb25zLlxuICpcbiAqIENyZWF0ZXMgbmV3IGRlZmxhdG9yIGluc3RhbmNlIHdpdGggc3BlY2lmaWVkIHBhcmFtcy4gVGhyb3dzIGV4Y2VwdGlvblxuICogb24gYmFkIHBhcmFtcy4gU3VwcG9ydGVkIG9wdGlvbnM6XG4gKlxuICogLSBgbGV2ZWxgXG4gKiAtIGB3aW5kb3dCaXRzYFxuICogLSBgbWVtTGV2ZWxgXG4gKiAtIGBzdHJhdGVneWBcbiAqIC0gYGRpY3Rpb25hcnlgXG4gKlxuICogW2h0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZF0oaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkKVxuICogZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gdGhlc2UuXG4gKlxuICogQWRkaXRpb25hbCBvcHRpb25zLCBmb3IgaW50ZXJuYWwgbmVlZHM6XG4gKlxuICogLSBgY2h1bmtTaXplYCAtIHNpemUgb2YgZ2VuZXJhdGVkIGRhdGEgY2h1bmtzICgxNksgYnkgZGVmYXVsdClcbiAqIC0gYHJhd2AgKEJvb2xlYW4pIC0gZG8gcmF3IGRlZmxhdGVcbiAqIC0gYGd6aXBgIChCb29sZWFuKSAtIGNyZWF0ZSBnemlwIHdyYXBwZXJcbiAqIC0gYGhlYWRlcmAgKE9iamVjdCkgLSBjdXN0b20gaGVhZGVyIGZvciBnemlwXG4gKiAgIC0gYHRleHRgIChCb29sZWFuKSAtIHRydWUgaWYgY29tcHJlc3NlZCBkYXRhIGJlbGlldmVkIHRvIGJlIHRleHRcbiAqICAgLSBgdGltZWAgKE51bWJlcikgLSBtb2RpZmljYXRpb24gdGltZSwgdW5peCB0aW1lc3RhbXBcbiAqICAgLSBgb3NgIChOdW1iZXIpIC0gb3BlcmF0aW9uIHN5c3RlbSBjb2RlXG4gKiAgIC0gYGV4dHJhYCAoQXJyYXkpIC0gYXJyYXkgb2YgYnl0ZXMgd2l0aCBleHRyYSBkYXRhIChtYXggNjU1MzYpXG4gKiAgIC0gYG5hbWVgIChTdHJpbmcpIC0gZmlsZSBuYW1lIChiaW5hcnkgc3RyaW5nKVxuICogICAtIGBjb21tZW50YCAoU3RyaW5nKSAtIGNvbW1lbnQgKGJpbmFyeSBzdHJpbmcpXG4gKiAgIC0gYGhjcmNgIChCb29sZWFuKSAtIHRydWUgaWYgaGVhZGVyIGNyYyBzaG91bGQgYmUgYWRkZWRcbiAqXG4gKiAjIyMjIyBFeGFtcGxlOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IHBha28gPSByZXF1aXJlKCdwYWtvJylcbiAqICAgLCBjaHVuazEgPSBuZXcgVWludDhBcnJheShbMSwyLDMsNCw1LDYsNyw4LDldKVxuICogICAsIGNodW5rMiA9IG5ldyBVaW50OEFycmF5KFsxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOV0pO1xuICpcbiAqIGNvbnN0IGRlZmxhdGUgPSBuZXcgcGFrby5EZWZsYXRlKHsgbGV2ZWw6IDN9KTtcbiAqXG4gKiBkZWZsYXRlLnB1c2goY2h1bmsxLCBmYWxzZSk7XG4gKiBkZWZsYXRlLnB1c2goY2h1bmsyLCB0cnVlKTsgIC8vIHRydWUgLT4gbGFzdCBjaHVua1xuICpcbiAqIGlmIChkZWZsYXRlLmVycikgeyB0aHJvdyBuZXcgRXJyb3IoZGVmbGF0ZS5lcnIpOyB9XG4gKlxuICogY29uc29sZS5sb2coZGVmbGF0ZS5yZXN1bHQpO1xuICogYGBgXG4gKiovXG5mdW5jdGlvbiBEZWZsYXRlJDEob3B0aW9ucykge1xuICB0aGlzLm9wdGlvbnMgPSBjb21tb24uYXNzaWduKHtcbiAgICBsZXZlbDogWl9ERUZBVUxUX0NPTVBSRVNTSU9OLFxuICAgIG1ldGhvZDogWl9ERUZMQVRFRCQxLFxuICAgIGNodW5rU2l6ZTogMTYzODQsXG4gICAgd2luZG93Qml0czogMTUsXG4gICAgbWVtTGV2ZWw6IDgsXG4gICAgc3RyYXRlZ3k6IFpfREVGQVVMVF9TVFJBVEVHWVxuICB9LCBvcHRpb25zIHx8IHt9KTtcblxuICBsZXQgb3B0ID0gdGhpcy5vcHRpb25zO1xuXG4gIGlmIChvcHQucmF3ICYmIChvcHQud2luZG93Qml0cyA+IDApKSB7XG4gICAgb3B0LndpbmRvd0JpdHMgPSAtb3B0LndpbmRvd0JpdHM7XG4gIH1cblxuICBlbHNlIGlmIChvcHQuZ3ppcCAmJiAob3B0LndpbmRvd0JpdHMgPiAwKSAmJiAob3B0LndpbmRvd0JpdHMgPCAxNikpIHtcbiAgICBvcHQud2luZG93Qml0cyArPSAxNjtcbiAgfVxuXG4gIHRoaXMuZXJyICAgID0gMDsgICAgICAvLyBlcnJvciBjb2RlLCBpZiBoYXBwZW5zICgwID0gWl9PSylcbiAgdGhpcy5tc2cgICAgPSAnJzsgICAgIC8vIGVycm9yIG1lc3NhZ2VcbiAgdGhpcy5lbmRlZCAgPSBmYWxzZTsgIC8vIHVzZWQgdG8gYXZvaWQgbXVsdGlwbGUgb25FbmQoKSBjYWxsc1xuICB0aGlzLmNodW5rcyA9IFtdOyAgICAgLy8gY2h1bmtzIG9mIGNvbXByZXNzZWQgZGF0YVxuXG4gIHRoaXMuc3RybSA9IG5ldyB6c3RyZWFtKCk7XG4gIHRoaXMuc3RybS5hdmFpbF9vdXQgPSAwO1xuXG4gIGxldCBzdGF0dXMgPSBkZWZsYXRlXzEkMi5kZWZsYXRlSW5pdDIoXG4gICAgdGhpcy5zdHJtLFxuICAgIG9wdC5sZXZlbCxcbiAgICBvcHQubWV0aG9kLFxuICAgIG9wdC53aW5kb3dCaXRzLFxuICAgIG9wdC5tZW1MZXZlbCxcbiAgICBvcHQuc3RyYXRlZ3lcbiAgKTtcblxuICBpZiAoc3RhdHVzICE9PSBaX09LJDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZXNbc3RhdHVzXSk7XG4gIH1cblxuICBpZiAob3B0LmhlYWRlcikge1xuICAgIGRlZmxhdGVfMSQyLmRlZmxhdGVTZXRIZWFkZXIodGhpcy5zdHJtLCBvcHQuaGVhZGVyKTtcbiAgfVxuXG4gIGlmIChvcHQuZGljdGlvbmFyeSkge1xuICAgIGxldCBkaWN0O1xuICAgIC8vIENvbnZlcnQgZGF0YSBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIG9wdC5kaWN0aW9uYXJ5ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gSWYgd2UgbmVlZCB0byBjb21wcmVzcyB0ZXh0LCBjaGFuZ2UgZW5jb2RpbmcgdG8gdXRmOC5cbiAgICAgIGRpY3QgPSBzdHJpbmdzLnN0cmluZzJidWYob3B0LmRpY3Rpb25hcnkpO1xuICAgIH0gZWxzZSBpZiAodG9TdHJpbmckMS5jYWxsKG9wdC5kaWN0aW9uYXJ5KSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykge1xuICAgICAgZGljdCA9IG5ldyBVaW50OEFycmF5KG9wdC5kaWN0aW9uYXJ5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGljdCA9IG9wdC5kaWN0aW9uYXJ5O1xuICAgIH1cblxuICAgIHN0YXR1cyA9IGRlZmxhdGVfMSQyLmRlZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSwgZGljdCk7XG5cbiAgICBpZiAoc3RhdHVzICE9PSBaX09LJDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlc1tzdGF0dXNdKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kaWN0X3NldCA9IHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBEZWZsYXRlI3B1c2goZGF0YVssIGZsdXNoX21vZGVdKSAtPiBCb29sZWFuXG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXJ8U3RyaW5nKTogaW5wdXQgZGF0YS4gU3RyaW5ncyB3aWxsIGJlXG4gKiAgIGNvbnZlcnRlZCB0byB1dGY4IGJ5dGUgc2VxdWVuY2UuXG4gKiAtIGZsdXNoX21vZGUgKE51bWJlcnxCb29sZWFuKTogMC4uNiBmb3IgY29ycmVzcG9uZGluZyBaX05PX0ZMVVNILi5aX1RSRUUgbW9kZXMuXG4gKiAgIFNlZSBjb25zdGFudHMuIFNraXBwZWQgb3IgYGZhbHNlYCBtZWFucyBaX05PX0ZMVVNILCBgdHJ1ZWAgbWVhbnMgWl9GSU5JU0guXG4gKlxuICogU2VuZHMgaW5wdXQgZGF0YSB0byBkZWZsYXRlIHBpcGUsIGdlbmVyYXRpbmcgW1tEZWZsYXRlI29uRGF0YV1dIGNhbGxzIHdpdGhcbiAqIG5ldyBjb21wcmVzc2VkIGNodW5rcy4gUmV0dXJucyBgdHJ1ZWAgb24gc3VjY2Vzcy4gVGhlIGxhc3QgZGF0YSBibG9jayBtdXN0XG4gKiBoYXZlIGBmbHVzaF9tb2RlYCBaX0ZJTklTSCAob3IgYHRydWVgKS4gVGhhdCB3aWxsIGZsdXNoIGludGVybmFsIHBlbmRpbmdcbiAqIGJ1ZmZlcnMgYW5kIGNhbGwgW1tEZWZsYXRlI29uRW5kXV0uXG4gKlxuICogT24gZmFpbCBjYWxsIFtbRGVmbGF0ZSNvbkVuZF1dIHdpdGggZXJyb3IgY29kZSBhbmQgcmV0dXJuIGZhbHNlLlxuICpcbiAqICMjIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBwdXNoKGNodW5rLCBmYWxzZSk7IC8vIHB1c2ggb25lIG9mIGRhdGEgY2h1bmtzXG4gKiAuLi5cbiAqIHB1c2goY2h1bmssIHRydWUpOyAgLy8gcHVzaCBsYXN0IGNodW5rXG4gKiBgYGBcbiAqKi9cbkRlZmxhdGUkMS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChkYXRhLCBmbHVzaF9tb2RlKSB7XG4gIGNvbnN0IHN0cm0gPSB0aGlzLnN0cm07XG4gIGNvbnN0IGNodW5rU2l6ZSA9IHRoaXMub3B0aW9ucy5jaHVua1NpemU7XG4gIGxldCBzdGF0dXMsIF9mbHVzaF9tb2RlO1xuXG4gIGlmICh0aGlzLmVuZGVkKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gIGlmIChmbHVzaF9tb2RlID09PSB+fmZsdXNoX21vZGUpIF9mbHVzaF9tb2RlID0gZmx1c2hfbW9kZTtcbiAgZWxzZSBfZmx1c2hfbW9kZSA9IGZsdXNoX21vZGUgPT09IHRydWUgPyBaX0ZJTklTSCQyIDogWl9OT19GTFVTSCQxO1xuXG4gIC8vIENvbnZlcnQgZGF0YSBpZiBuZWVkZWRcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIC8vIElmIHdlIG5lZWQgdG8gY29tcHJlc3MgdGV4dCwgY2hhbmdlIGVuY29kaW5nIHRvIHV0ZjguXG4gICAgc3RybS5pbnB1dCA9IHN0cmluZ3Muc3RyaW5nMmJ1ZihkYXRhKTtcbiAgfSBlbHNlIGlmICh0b1N0cmluZyQxLmNhbGwoZGF0YSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpIHtcbiAgICBzdHJtLmlucHV0ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgc3RybS5pbnB1dCA9IGRhdGE7XG4gIH1cblxuICBzdHJtLm5leHRfaW4gPSAwO1xuICBzdHJtLmF2YWlsX2luID0gc3RybS5pbnB1dC5sZW5ndGg7XG5cbiAgZm9yICg7Oykge1xuICAgIGlmIChzdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgc3RybS5vdXRwdXQgPSBuZXcgVWludDhBcnJheShjaHVua1NpemUpO1xuICAgICAgc3RybS5uZXh0X291dCA9IDA7XG4gICAgICBzdHJtLmF2YWlsX291dCA9IGNodW5rU2l6ZTtcbiAgICB9XG5cbiAgICAvLyBNYWtlIHN1cmUgYXZhaWxfb3V0ID4gNiB0byBhdm9pZCByZXBlYXRpbmcgbWFya2Vyc1xuICAgIGlmICgoX2ZsdXNoX21vZGUgPT09IFpfU1lOQ19GTFVTSCB8fCBfZmx1c2hfbW9kZSA9PT0gWl9GVUxMX0ZMVVNIKSAmJiBzdHJtLmF2YWlsX291dCA8PSA2KSB7XG4gICAgICB0aGlzLm9uRGF0YShzdHJtLm91dHB1dC5zdWJhcnJheSgwLCBzdHJtLm5leHRfb3V0KSk7XG4gICAgICBzdHJtLmF2YWlsX291dCA9IDA7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBzdGF0dXMgPSBkZWZsYXRlXzEkMi5kZWZsYXRlKHN0cm0sIF9mbHVzaF9tb2RlKTtcblxuICAgIC8vIEVuZGVkID0+IGZsdXNoIGFuZCBmaW5pc2hcbiAgICBpZiAoc3RhdHVzID09PSBaX1NUUkVBTV9FTkQkMikge1xuICAgICAgaWYgKHN0cm0ubmV4dF9vdXQgPiAwKSB7XG4gICAgICAgIHRoaXMub25EYXRhKHN0cm0ub3V0cHV0LnN1YmFycmF5KDAsIHN0cm0ubmV4dF9vdXQpKTtcbiAgICAgIH1cbiAgICAgIHN0YXR1cyA9IGRlZmxhdGVfMSQyLmRlZmxhdGVFbmQodGhpcy5zdHJtKTtcbiAgICAgIHRoaXMub25FbmQoc3RhdHVzKTtcbiAgICAgIHRoaXMuZW5kZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHN0YXR1cyA9PT0gWl9PSyQyO1xuICAgIH1cblxuICAgIC8vIEZsdXNoIGlmIG91dCBidWZmZXIgZnVsbFxuICAgIGlmIChzdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgdGhpcy5vbkRhdGEoc3RybS5vdXRwdXQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gRmx1c2ggaWYgcmVxdWVzdGVkIGFuZCBoYXMgZGF0YVxuICAgIGlmIChfZmx1c2hfbW9kZSA+IDAgJiYgc3RybS5uZXh0X291dCA+IDApIHtcbiAgICAgIHRoaXMub25EYXRhKHN0cm0ub3V0cHV0LnN1YmFycmF5KDAsIHN0cm0ubmV4dF9vdXQpKTtcbiAgICAgIHN0cm0uYXZhaWxfb3V0ID0gMDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChzdHJtLmF2YWlsX2luID09PSAwKSBicmVhaztcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuXG4vKipcbiAqIERlZmxhdGUjb25EYXRhKGNodW5rKSAtPiBWb2lkXG4gKiAtIGNodW5rIChVaW50OEFycmF5KTogb3V0cHV0IGRhdGEuXG4gKlxuICogQnkgZGVmYXVsdCwgc3RvcmVzIGRhdGEgYmxvY2tzIGluIGBjaHVua3NbXWAgcHJvcGVydHkgYW5kIGdsdWVcbiAqIHRob3NlIGluIGBvbkVuZGAuIE92ZXJyaWRlIHRoaXMgaGFuZGxlciwgaWYgeW91IG5lZWQgYW5vdGhlciBiZWhhdmlvdXIuXG4gKiovXG5EZWZsYXRlJDEucHJvdG90eXBlLm9uRGF0YSA9IGZ1bmN0aW9uIChjaHVuaykge1xuICB0aGlzLmNodW5rcy5wdXNoKGNodW5rKTtcbn07XG5cblxuLyoqXG4gKiBEZWZsYXRlI29uRW5kKHN0YXR1cykgLT4gVm9pZFxuICogLSBzdGF0dXMgKE51bWJlcik6IGRlZmxhdGUgc3RhdHVzLiAwIChaX09LKSBvbiBzdWNjZXNzLFxuICogICBvdGhlciBpZiBub3QuXG4gKlxuICogQ2FsbGVkIG9uY2UgYWZ0ZXIgeW91IHRlbGwgZGVmbGF0ZSB0aGF0IHRoZSBpbnB1dCBzdHJlYW0gaXNcbiAqIGNvbXBsZXRlIChaX0ZJTklTSCkuIEJ5IGRlZmF1bHQgLSBqb2luIGNvbGxlY3RlZCBjaHVua3MsXG4gKiBmcmVlIG1lbW9yeSBhbmQgZmlsbCBgcmVzdWx0c2AgLyBgZXJyYCBwcm9wZXJ0aWVzLlxuICoqL1xuRGVmbGF0ZSQxLnByb3RvdHlwZS5vbkVuZCA9IGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgLy8gT24gc3VjY2VzcyAtIGpvaW5cbiAgaWYgKHN0YXR1cyA9PT0gWl9PSyQyKSB7XG4gICAgdGhpcy5yZXN1bHQgPSBjb21tb24uZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcyk7XG4gIH1cbiAgdGhpcy5jaHVua3MgPSBbXTtcbiAgdGhpcy5lcnIgPSBzdGF0dXM7XG4gIHRoaXMubXNnID0gdGhpcy5zdHJtLm1zZztcbn07XG5cblxuLyoqXG4gKiBkZWZsYXRlKGRhdGFbLCBvcHRpb25zXSkgLT4gVWludDhBcnJheVxuICogLSBkYXRhIChVaW50OEFycmF5fEFycmF5QnVmZmVyfFN0cmluZyk6IGlucHV0IGRhdGEgdG8gY29tcHJlc3MuXG4gKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgZGVmbGF0ZSBvcHRpb25zLlxuICpcbiAqIENvbXByZXNzIGBkYXRhYCB3aXRoIGRlZmxhdGUgYWxnb3JpdGhtIGFuZCBgb3B0aW9uc2AuXG4gKlxuICogU3VwcG9ydGVkIG9wdGlvbnMgYXJlOlxuICpcbiAqIC0gbGV2ZWxcbiAqIC0gd2luZG93Qml0c1xuICogLSBtZW1MZXZlbFxuICogLSBzdHJhdGVneVxuICogLSBkaWN0aW9uYXJ5XG4gKlxuICogW2h0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZF0oaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkKVxuICogZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gdGhlc2UuXG4gKlxuICogU3VnYXIgKG9wdGlvbnMpOlxuICpcbiAqIC0gYHJhd2AgKEJvb2xlYW4pIC0gc2F5IHRoYXQgd2Ugd29yayB3aXRoIHJhdyBzdHJlYW0sIGlmIHlvdSBkb24ndCB3aXNoIHRvIHNwZWNpZnlcbiAqICAgbmVnYXRpdmUgd2luZG93Qml0cyBpbXBsaWNpdGx5LlxuICpcbiAqICMjIyMjIEV4YW1wbGU6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgcGFrbyA9IHJlcXVpcmUoJ3Bha28nKVxuICogY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KFsxLDIsMyw0LDUsNiw3LDgsOV0pO1xuICpcbiAqIGNvbnNvbGUubG9nKHBha28uZGVmbGF0ZShkYXRhKSk7XG4gKiBgYGBcbiAqKi9cbmZ1bmN0aW9uIGRlZmxhdGUkMShpbnB1dCwgb3B0aW9ucykge1xuICBjb25zdCBkZWZsYXRvciA9IG5ldyBEZWZsYXRlJDEob3B0aW9ucyk7XG5cbiAgZGVmbGF0b3IucHVzaChpbnB1dCwgdHJ1ZSk7XG5cbiAgLy8gVGhhdCB3aWxsIG5ldmVyIGhhcHBlbnMsIGlmIHlvdSBkb24ndCBjaGVhdCB3aXRoIG9wdGlvbnMgOilcbiAgaWYgKGRlZmxhdG9yLmVycikgeyB0aHJvdyBkZWZsYXRvci5tc2cgfHwgbWVzc2FnZXNbZGVmbGF0b3IuZXJyXTsgfVxuXG4gIHJldHVybiBkZWZsYXRvci5yZXN1bHQ7XG59XG5cblxuLyoqXG4gKiBkZWZsYXRlUmF3KGRhdGFbLCBvcHRpb25zXSkgLT4gVWludDhBcnJheVxuICogLSBkYXRhIChVaW50OEFycmF5fEFycmF5QnVmZmVyfFN0cmluZyk6IGlucHV0IGRhdGEgdG8gY29tcHJlc3MuXG4gKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgZGVmbGF0ZSBvcHRpb25zLlxuICpcbiAqIFRoZSBzYW1lIGFzIFtbZGVmbGF0ZV1dLCBidXQgY3JlYXRlcyByYXcgZGF0YSwgd2l0aG91dCB3cmFwcGVyXG4gKiAoaGVhZGVyIGFuZCBhZGxlcjMyIGNyYykuXG4gKiovXG5mdW5jdGlvbiBkZWZsYXRlUmF3JDEoaW5wdXQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIG9wdGlvbnMucmF3ID0gdHJ1ZTtcbiAgcmV0dXJuIGRlZmxhdGUkMShpbnB1dCwgb3B0aW9ucyk7XG59XG5cblxuLyoqXG4gKiBnemlwKGRhdGFbLCBvcHRpb25zXSkgLT4gVWludDhBcnJheVxuICogLSBkYXRhIChVaW50OEFycmF5fEFycmF5QnVmZmVyfFN0cmluZyk6IGlucHV0IGRhdGEgdG8gY29tcHJlc3MuXG4gKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgZGVmbGF0ZSBvcHRpb25zLlxuICpcbiAqIFRoZSBzYW1lIGFzIFtbZGVmbGF0ZV1dLCBidXQgY3JlYXRlIGd6aXAgd3JhcHBlciBpbnN0ZWFkIG9mXG4gKiBkZWZsYXRlIG9uZS5cbiAqKi9cbmZ1bmN0aW9uIGd6aXAkMShpbnB1dCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5nemlwID0gdHJ1ZTtcbiAgcmV0dXJuIGRlZmxhdGUkMShpbnB1dCwgb3B0aW9ucyk7XG59XG5cblxudmFyIERlZmxhdGVfMSQxID0gRGVmbGF0ZSQxO1xudmFyIGRlZmxhdGVfMiA9IGRlZmxhdGUkMTtcbnZhciBkZWZsYXRlUmF3XzEkMSA9IGRlZmxhdGVSYXckMTtcbnZhciBnemlwXzEkMSA9IGd6aXAkMTtcbnZhciBjb25zdGFudHMkMSA9IGNvbnN0YW50cyQyO1xuXG52YXIgZGVmbGF0ZV8xJDEgPSB7XG5cdERlZmxhdGU6IERlZmxhdGVfMSQxLFxuXHRkZWZsYXRlOiBkZWZsYXRlXzIsXG5cdGRlZmxhdGVSYXc6IGRlZmxhdGVSYXdfMSQxLFxuXHRnemlwOiBnemlwXzEkMSxcblx0Y29uc3RhbnRzOiBjb25zdGFudHMkMVxufTtcblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG4vLyBTZWUgc3RhdGUgZGVmcyBmcm9tIGluZmxhdGUuanNcbmNvbnN0IEJBRCQxID0gMTYyMDk7ICAgICAgIC8qIGdvdCBhIGRhdGEgZXJyb3IgLS0gcmVtYWluIGhlcmUgdW50aWwgcmVzZXQgKi9cbmNvbnN0IFRZUEUkMSA9IDE2MTkxOyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIHR5cGUgYml0cywgaW5jbHVkaW5nIGxhc3QtZmxhZyBiaXQgKi9cblxuLypcbiAgIERlY29kZSBsaXRlcmFsLCBsZW5ndGgsIGFuZCBkaXN0YW5jZSBjb2RlcyBhbmQgd3JpdGUgb3V0IHRoZSByZXN1bHRpbmdcbiAgIGxpdGVyYWwgYW5kIG1hdGNoIGJ5dGVzIHVudGlsIGVpdGhlciBub3QgZW5vdWdoIGlucHV0IG9yIG91dHB1dCBpc1xuICAgYXZhaWxhYmxlLCBhbiBlbmQtb2YtYmxvY2sgaXMgZW5jb3VudGVyZWQsIG9yIGEgZGF0YSBlcnJvciBpcyBlbmNvdW50ZXJlZC5cbiAgIFdoZW4gbGFyZ2UgZW5vdWdoIGlucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBhcmUgc3VwcGxpZWQgdG8gaW5mbGF0ZSgpLCBmb3JcbiAgIGV4YW1wbGUsIGEgMTZLIGlucHV0IGJ1ZmZlciBhbmQgYSA2NEsgb3V0cHV0IGJ1ZmZlciwgbW9yZSB0aGFuIDk1JSBvZiB0aGVcbiAgIGluZmxhdGUgZXhlY3V0aW9uIHRpbWUgaXMgc3BlbnQgaW4gdGhpcyByb3V0aW5lLlxuXG4gICBFbnRyeSBhc3N1bXB0aW9uczpcblxuICAgICAgICBzdGF0ZS5tb2RlID09PSBMRU5cbiAgICAgICAgc3RybS5hdmFpbF9pbiA+PSA2XG4gICAgICAgIHN0cm0uYXZhaWxfb3V0ID49IDI1OFxuICAgICAgICBzdGFydCA+PSBzdHJtLmF2YWlsX291dFxuICAgICAgICBzdGF0ZS5iaXRzIDwgOFxuXG4gICBPbiByZXR1cm4sIHN0YXRlLm1vZGUgaXMgb25lIG9mOlxuXG4gICAgICAgIExFTiAtLSByYW4gb3V0IG9mIGVub3VnaCBvdXRwdXQgc3BhY2Ugb3IgZW5vdWdoIGF2YWlsYWJsZSBpbnB1dFxuICAgICAgICBUWVBFIC0tIHJlYWNoZWQgZW5kIG9mIGJsb2NrIGNvZGUsIGluZmxhdGUoKSB0byBpbnRlcnByZXQgbmV4dCBibG9ja1xuICAgICAgICBCQUQgLS0gZXJyb3IgaW4gYmxvY2sgZGF0YVxuXG4gICBOb3RlczpcblxuICAgIC0gVGhlIG1heGltdW0gaW5wdXQgYml0cyB1c2VkIGJ5IGEgbGVuZ3RoL2Rpc3RhbmNlIHBhaXIgaXMgMTUgYml0cyBmb3IgdGhlXG4gICAgICBsZW5ndGggY29kZSwgNSBiaXRzIGZvciB0aGUgbGVuZ3RoIGV4dHJhLCAxNSBiaXRzIGZvciB0aGUgZGlzdGFuY2UgY29kZSxcbiAgICAgIGFuZCAxMyBiaXRzIGZvciB0aGUgZGlzdGFuY2UgZXh0cmEuICBUaGlzIHRvdGFscyA0OCBiaXRzLCBvciBzaXggYnl0ZXMuXG4gICAgICBUaGVyZWZvcmUgaWYgc3RybS5hdmFpbF9pbiA+PSA2LCB0aGVuIHRoZXJlIGlzIGVub3VnaCBpbnB1dCB0byBhdm9pZFxuICAgICAgY2hlY2tpbmcgZm9yIGF2YWlsYWJsZSBpbnB1dCB3aGlsZSBkZWNvZGluZy5cblxuICAgIC0gVGhlIG1heGltdW0gYnl0ZXMgdGhhdCBhIHNpbmdsZSBsZW5ndGgvZGlzdGFuY2UgcGFpciBjYW4gb3V0cHV0IGlzIDI1OFxuICAgICAgYnl0ZXMsIHdoaWNoIGlzIHRoZSBtYXhpbXVtIGxlbmd0aCB0aGF0IGNhbiBiZSBjb2RlZC4gIGluZmxhdGVfZmFzdCgpXG4gICAgICByZXF1aXJlcyBzdHJtLmF2YWlsX291dCA+PSAyNTggZm9yIGVhY2ggbG9vcCB0byBhdm9pZCBjaGVja2luZyBmb3JcbiAgICAgIG91dHB1dCBzcGFjZS5cbiAqL1xudmFyIGluZmZhc3QgPSBmdW5jdGlvbiBpbmZsYXRlX2Zhc3Qoc3RybSwgc3RhcnQpIHtcbiAgbGV0IF9pbjsgICAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0uaW5wdXQgKi9cbiAgbGV0IGxhc3Q7ICAgICAgICAgICAgICAgICAgIC8qIGhhdmUgZW5vdWdoIGlucHV0IHdoaWxlIGluIDwgbGFzdCAqL1xuICBsZXQgX291dDsgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5vdXRwdXQgKi9cbiAgbGV0IGJlZzsgICAgICAgICAgICAgICAgICAgIC8qIGluZmxhdGUoKSdzIGluaXRpYWwgc3RybS5vdXRwdXQgKi9cbiAgbGV0IGVuZDsgICAgICAgICAgICAgICAgICAgIC8qIHdoaWxlIG91dCA8IGVuZCwgZW5vdWdoIHNwYWNlIGF2YWlsYWJsZSAqL1xuLy8jaWZkZWYgSU5GTEFURV9TVFJJQ1RcbiAgbGV0IGRtYXg7ICAgICAgICAgICAgICAgICAgIC8qIG1heGltdW0gZGlzdGFuY2UgZnJvbSB6bGliIGhlYWRlciAqL1xuLy8jZW5kaWZcbiAgbGV0IHdzaXplOyAgICAgICAgICAgICAgICAgIC8qIHdpbmRvdyBzaXplIG9yIHplcm8gaWYgbm90IHVzaW5nIHdpbmRvdyAqL1xuICBsZXQgd2hhdmU7ICAgICAgICAgICAgICAgICAgLyogdmFsaWQgYnl0ZXMgaW4gdGhlIHdpbmRvdyAqL1xuICBsZXQgd25leHQ7ICAgICAgICAgICAgICAgICAgLyogd2luZG93IHdyaXRlIGluZGV4ICovXG4gIC8vIFVzZSBgc193aW5kb3dgIGluc3RlYWQgYHdpbmRvd2AsIGF2b2lkIGNvbmZsaWN0IHdpdGggaW5zdHJ1bWVudGF0aW9uIHRvb2xzXG4gIGxldCBzX3dpbmRvdzsgICAgICAgICAgICAgICAvKiBhbGxvY2F0ZWQgc2xpZGluZyB3aW5kb3csIGlmIHdzaXplICE9IDAgKi9cbiAgbGV0IGhvbGQ7ICAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0uaG9sZCAqL1xuICBsZXQgYml0czsgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5iaXRzICovXG4gIGxldCBsY29kZTsgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLmxlbmNvZGUgKi9cbiAgbGV0IGRjb2RlOyAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0uZGlzdGNvZGUgKi9cbiAgbGV0IGxtYXNrOyAgICAgICAgICAgICAgICAgIC8qIG1hc2sgZm9yIGZpcnN0IGxldmVsIG9mIGxlbmd0aCBjb2RlcyAqL1xuICBsZXQgZG1hc2s7ICAgICAgICAgICAgICAgICAgLyogbWFzayBmb3IgZmlyc3QgbGV2ZWwgb2YgZGlzdGFuY2UgY29kZXMgKi9cbiAgbGV0IGhlcmU7ICAgICAgICAgICAgICAgICAgIC8qIHJldHJpZXZlZCB0YWJsZSBlbnRyeSAqL1xuICBsZXQgb3A7ICAgICAgICAgICAgICAgICAgICAgLyogY29kZSBiaXRzLCBvcGVyYXRpb24sIGV4dHJhIGJpdHMsIG9yICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiAgd2luZG93IHBvc2l0aW9uLCB3aW5kb3cgYnl0ZXMgdG8gY29weSAqL1xuICBsZXQgbGVuOyAgICAgICAgICAgICAgICAgICAgLyogbWF0Y2ggbGVuZ3RoLCB1bnVzZWQgYnl0ZXMgKi9cbiAgbGV0IGRpc3Q7ICAgICAgICAgICAgICAgICAgIC8qIG1hdGNoIGRpc3RhbmNlICovXG4gIGxldCBmcm9tOyAgICAgICAgICAgICAgICAgICAvKiB3aGVyZSB0byBjb3B5IG1hdGNoIGZyb20gKi9cbiAgbGV0IGZyb21fc291cmNlO1xuXG5cbiAgbGV0IGlucHV0LCBvdXRwdXQ7IC8vIEpTIHNwZWNpZmljLCBiZWNhdXNlIHdlIGhhdmUgbm8gcG9pbnRlcnNcblxuICAvKiBjb3B5IHN0YXRlIHRvIGxvY2FsIHZhcmlhYmxlcyAqL1xuICBjb25zdCBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIC8vaGVyZSA9IHN0YXRlLmhlcmU7XG4gIF9pbiA9IHN0cm0ubmV4dF9pbjtcbiAgaW5wdXQgPSBzdHJtLmlucHV0O1xuICBsYXN0ID0gX2luICsgKHN0cm0uYXZhaWxfaW4gLSA1KTtcbiAgX291dCA9IHN0cm0ubmV4dF9vdXQ7XG4gIG91dHB1dCA9IHN0cm0ub3V0cHV0O1xuICBiZWcgPSBfb3V0IC0gKHN0YXJ0IC0gc3RybS5hdmFpbF9vdXQpO1xuICBlbmQgPSBfb3V0ICsgKHN0cm0uYXZhaWxfb3V0IC0gMjU3KTtcbi8vI2lmZGVmIElORkxBVEVfU1RSSUNUXG4gIGRtYXggPSBzdGF0ZS5kbWF4O1xuLy8jZW5kaWZcbiAgd3NpemUgPSBzdGF0ZS53c2l6ZTtcbiAgd2hhdmUgPSBzdGF0ZS53aGF2ZTtcbiAgd25leHQgPSBzdGF0ZS53bmV4dDtcbiAgc193aW5kb3cgPSBzdGF0ZS53aW5kb3c7XG4gIGhvbGQgPSBzdGF0ZS5ob2xkO1xuICBiaXRzID0gc3RhdGUuYml0cztcbiAgbGNvZGUgPSBzdGF0ZS5sZW5jb2RlO1xuICBkY29kZSA9IHN0YXRlLmRpc3Rjb2RlO1xuICBsbWFzayA9ICgxIDw8IHN0YXRlLmxlbmJpdHMpIC0gMTtcbiAgZG1hc2sgPSAoMSA8PCBzdGF0ZS5kaXN0Yml0cykgLSAxO1xuXG5cbiAgLyogZGVjb2RlIGxpdGVyYWxzIGFuZCBsZW5ndGgvZGlzdGFuY2VzIHVudGlsIGVuZC1vZi1ibG9jayBvciBub3QgZW5vdWdoXG4gICAgIGlucHV0IGRhdGEgb3Igb3V0cHV0IHNwYWNlICovXG5cbiAgdG9wOlxuICBkbyB7XG4gICAgaWYgKGJpdHMgPCAxNSkge1xuICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgIGJpdHMgKz0gODtcbiAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICBiaXRzICs9IDg7XG4gICAgfVxuXG4gICAgaGVyZSA9IGxjb2RlW2hvbGQgJiBsbWFza107XG5cbiAgICBkb2xlbjpcbiAgICBmb3IgKDs7KSB7IC8vIEdvdG8gZW11bGF0aW9uXG4gICAgICBvcCA9IGhlcmUgPj4+IDI0LypoZXJlLmJpdHMqLztcbiAgICAgIGhvbGQgPj4+PSBvcDtcbiAgICAgIGJpdHMgLT0gb3A7XG4gICAgICBvcCA9IChoZXJlID4+PiAxNikgJiAweGZmLypoZXJlLm9wKi87XG4gICAgICBpZiAob3AgPT09IDApIHsgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGxpdGVyYWwgKi9cbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIGhlcmUudmFsID49IDB4MjAgJiYgaGVyZS52YWwgPCAweDdmID9cbiAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsICclYydcXG5cIiA6XG4gICAgICAgIC8vICAgICAgICBcImluZmxhdGU6ICAgICAgICAgbGl0ZXJhbCAweCUwMnhcXG5cIiwgaGVyZS52YWwpKTtcbiAgICAgICAgb3V0cHV0W19vdXQrK10gPSBoZXJlICYgMHhmZmZmLypoZXJlLnZhbCovO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAob3AgJiAxNikgeyAgICAgICAgICAgICAgICAgICAgIC8qIGxlbmd0aCBiYXNlICovXG4gICAgICAgIGxlbiA9IGhlcmUgJiAweGZmZmYvKmhlcmUudmFsKi87XG4gICAgICAgIG9wICY9IDE1OyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBleHRyYSBiaXRzICovXG4gICAgICAgIGlmIChvcCkge1xuICAgICAgICAgIGlmIChiaXRzIDwgb3ApIHtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxlbiArPSBob2xkICYgKCgxIDw8IG9wKSAtIDEpO1xuICAgICAgICAgIGhvbGQgPj4+PSBvcDtcbiAgICAgICAgICBiaXRzIC09IG9wO1xuICAgICAgICB9XG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgbGVuZ3RoICV1XFxuXCIsIGxlbikpO1xuICAgICAgICBpZiAoYml0cyA8IDE1KSB7XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgaGVyZSA9IGRjb2RlW2hvbGQgJiBkbWFza107XG5cbiAgICAgICAgZG9kaXN0OlxuICAgICAgICBmb3IgKDs7KSB7IC8vIGdvdG8gZW11bGF0aW9uXG4gICAgICAgICAgb3AgPSBoZXJlID4+PiAyNC8qaGVyZS5iaXRzKi87XG4gICAgICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgICAgIGJpdHMgLT0gb3A7XG4gICAgICAgICAgb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZi8qaGVyZS5vcCovO1xuXG4gICAgICAgICAgaWYgKG9wICYgMTYpIHsgICAgICAgICAgICAgICAgICAgICAgLyogZGlzdGFuY2UgYmFzZSAqL1xuICAgICAgICAgICAgZGlzdCA9IGhlcmUgJiAweGZmZmYvKmhlcmUudmFsKi87XG4gICAgICAgICAgICBvcCAmPSAxNTsgICAgICAgICAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBleHRyYSBiaXRzICovXG4gICAgICAgICAgICBpZiAoYml0cyA8IG9wKSB7XG4gICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgICAgaWYgKGJpdHMgPCBvcCkge1xuICAgICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbX2luKytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXN0ICs9IGhvbGQgJiAoKDEgPDwgb3ApIC0gMSk7XG4vLyNpZmRlZiBJTkZMQVRFX1NUUklDVFxuICAgICAgICAgICAgaWYgKGRpc3QgPiBkbWF4KSB7XG4gICAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrJztcbiAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRCQxO1xuICAgICAgICAgICAgICBicmVhayB0b3A7XG4gICAgICAgICAgICB9XG4vLyNlbmRpZlxuICAgICAgICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgICAgICAgYml0cyAtPSBvcDtcbiAgICAgICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgZGlzdGFuY2UgJXVcXG5cIiwgZGlzdCkpO1xuICAgICAgICAgICAgb3AgPSBfb3V0IC0gYmVnOyAgICAgICAgICAgICAgICAvKiBtYXggZGlzdGFuY2UgaW4gb3V0cHV0ICovXG4gICAgICAgICAgICBpZiAoZGlzdCA+IG9wKSB7ICAgICAgICAgICAgICAgIC8qIHNlZSBpZiBjb3B5IGZyb20gd2luZG93ICovXG4gICAgICAgICAgICAgIG9wID0gZGlzdCAtIG9wOyAgICAgICAgICAgICAgIC8qIGRpc3RhbmNlIGJhY2sgaW4gd2luZG93ICovXG4gICAgICAgICAgICAgIGlmIChvcCA+IHdoYXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLnNhbmUpIHtcbiAgICAgICAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrJztcbiAgICAgICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQkMTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIHRvcDtcbiAgICAgICAgICAgICAgICB9XG5cbi8vICghKSBUaGlzIGJsb2NrIGlzIGRpc2FibGVkIGluIHpsaWIgZGVmYXVsdHMsXG4vLyBkb24ndCBlbmFibGUgaXQgZm9yIGJpbmFyeSBjb21wYXRpYmlsaXR5XG4vLyNpZmRlZiBJTkZMQVRFX0FMTE9XX0lOVkFMSURfRElTVEFOQ0VfVE9PRkFSX0FSUlJcbi8vICAgICAgICAgICAgICAgIGlmIChsZW4gPD0gb3AgLSB3aGF2ZSkge1xuLy8gICAgICAgICAgICAgICAgICBkbyB7XG4vLyAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSAwO1xuLy8gICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLWxlbik7XG4vLyAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHRvcDtcbi8vICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgICAgIGxlbiAtPSBvcCAtIHdoYXZlO1xuLy8gICAgICAgICAgICAgICAgZG8ge1xuLy8gICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IDA7XG4vLyAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW9wID4gd2hhdmUpO1xuLy8gICAgICAgICAgICAgICAgaWYgKG9wID09PSAwKSB7XG4vLyAgICAgICAgICAgICAgICAgIGZyb20gPSBfb3V0IC0gZGlzdDtcbi8vICAgICAgICAgICAgICAgICAgZG8ge1xuLy8gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4vLyAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tbGVuKTtcbi8vICAgICAgICAgICAgICAgICAgY29udGludWUgdG9wO1xuLy8gICAgICAgICAgICAgICAgfVxuLy8jZW5kaWZcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBmcm9tID0gMDsgLy8gd2luZG93IGluZGV4XG4gICAgICAgICAgICAgIGZyb21fc291cmNlID0gc193aW5kb3c7XG4gICAgICAgICAgICAgIGlmICh3bmV4dCA9PT0gMCkgeyAgICAgICAgICAgLyogdmVyeSBjb21tb24gY2FzZSAqL1xuICAgICAgICAgICAgICAgIGZyb20gKz0gd3NpemUgLSBvcDtcbiAgICAgICAgICAgICAgICBpZiAob3AgPCBsZW4pIHsgICAgICAgICAvKiBzb21lIGZyb20gd2luZG93ICovXG4gICAgICAgICAgICAgICAgICBsZW4gLT0gb3A7XG4gICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gc193aW5kb3dbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3ApO1xuICAgICAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0OyAgLyogcmVzdCBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgICAgICAgICAgZnJvbV9zb3VyY2UgPSBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYgKHduZXh0IDwgb3ApIHsgICAgICAvKiB3cmFwIGFyb3VuZCB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICBmcm9tICs9IHdzaXplICsgd25leHQgLSBvcDtcbiAgICAgICAgICAgICAgICBvcCAtPSB3bmV4dDtcbiAgICAgICAgICAgICAgICBpZiAob3AgPCBsZW4pIHsgICAgICAgICAvKiBzb21lIGZyb20gZW5kIG9mIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgICAgbGVuIC09IG9wO1xuICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IHNfd2luZG93W2Zyb20rK107XG4gICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW9wKTtcbiAgICAgICAgICAgICAgICAgIGZyb20gPSAwO1xuICAgICAgICAgICAgICAgICAgaWYgKHduZXh0IDwgbGVuKSB7ICAvKiBzb21lIGZyb20gc3RhcnQgb2Ygd2luZG93ICovXG4gICAgICAgICAgICAgICAgICAgIG9wID0gd25leHQ7XG4gICAgICAgICAgICAgICAgICAgIGxlbiAtPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gc193aW5kb3dbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCk7XG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBfb3V0IC0gZGlzdDsgICAgICAvKiByZXN0IGZyb20gb3V0cHV0ICovXG4gICAgICAgICAgICAgICAgICAgIGZyb21fc291cmNlID0gb3V0cHV0O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgLyogY29udGlndW91cyBpbiB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICBmcm9tICs9IHduZXh0IC0gb3A7XG4gICAgICAgICAgICAgICAgaWYgKG9wIDwgbGVuKSB7ICAgICAgICAgLyogc29tZSBmcm9tIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgICAgbGVuIC09IG9wO1xuICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IHNfd2luZG93W2Zyb20rK107XG4gICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW9wKTtcbiAgICAgICAgICAgICAgICAgIGZyb20gPSBfb3V0IC0gZGlzdDsgIC8qIHJlc3QgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICAgICAgICAgIGZyb21fc291cmNlID0gb3V0cHV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB3aGlsZSAobGVuID4gMikge1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIGxlbiAtPSAzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChsZW4pIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IDEpIHtcbiAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7ICAgICAgICAgIC8qIGNvcHkgZGlyZWN0IGZyb20gb3V0cHV0ICovXG4gICAgICAgICAgICAgIGRvIHsgICAgICAgICAgICAgICAgICAgICAgICAvKiBtaW5pbXVtIGxlbmd0aCBpcyB0aHJlZSAqL1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIGxlbiAtPSAzO1xuICAgICAgICAgICAgICB9IHdoaWxlIChsZW4gPiAyKTtcbiAgICAgICAgICAgICAgaWYgKGxlbikge1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IDEpIHtcbiAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKChvcCAmIDY0KSA9PT0gMCkgeyAgICAgICAgICAvKiAybmQgbGV2ZWwgZGlzdGFuY2UgY29kZSAqL1xuICAgICAgICAgICAgaGVyZSA9IGRjb2RlWyhoZXJlICYgMHhmZmZmKS8qaGVyZS52YWwqLyArIChob2xkICYgKCgxIDw8IG9wKSAtIDEpKV07XG4gICAgICAgICAgICBjb250aW51ZSBkb2Rpc3Q7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSBjb2RlJztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQkMTtcbiAgICAgICAgICAgIGJyZWFrIHRvcDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhazsgLy8gbmVlZCB0byBlbXVsYXRlIGdvdG8gdmlhIFwiY29udGludWVcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmICgob3AgJiA2NCkgPT09IDApIHsgICAgICAgICAgICAgIC8qIDJuZCBsZXZlbCBsZW5ndGggY29kZSAqL1xuICAgICAgICBoZXJlID0gbGNvZGVbKGhlcmUgJiAweGZmZmYpLypoZXJlLnZhbCovICsgKGhvbGQgJiAoKDEgPDwgb3ApIC0gMSkpXTtcbiAgICAgICAgY29udGludWUgZG9sZW47XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChvcCAmIDMyKSB7ICAgICAgICAgICAgICAgICAgICAgLyogZW5kLW9mLWJsb2NrICovXG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgZW5kIG9mIGJsb2NrXFxuXCIpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IFRZUEUkMTtcbiAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQkMTtcbiAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgfVxuXG4gICAgICBicmVhazsgLy8gbmVlZCB0byBlbXVsYXRlIGdvdG8gdmlhIFwiY29udGludWVcIlxuICAgIH1cbiAgfSB3aGlsZSAoX2luIDwgbGFzdCAmJiBfb3V0IDwgZW5kKTtcblxuICAvKiByZXR1cm4gdW51c2VkIGJ5dGVzIChvbiBlbnRyeSwgYml0cyA8IDgsIHNvIGluIHdvbid0IGdvIHRvbyBmYXIgYmFjaykgKi9cbiAgbGVuID0gYml0cyA+PiAzO1xuICBfaW4gLT0gbGVuO1xuICBiaXRzIC09IGxlbiA8PCAzO1xuICBob2xkICY9ICgxIDw8IGJpdHMpIC0gMTtcblxuICAvKiB1cGRhdGUgc3RhdGUgYW5kIHJldHVybiAqL1xuICBzdHJtLm5leHRfaW4gPSBfaW47XG4gIHN0cm0ubmV4dF9vdXQgPSBfb3V0O1xuICBzdHJtLmF2YWlsX2luID0gKF9pbiA8IGxhc3QgPyA1ICsgKGxhc3QgLSBfaW4pIDogNSAtIChfaW4gLSBsYXN0KSk7XG4gIHN0cm0uYXZhaWxfb3V0ID0gKF9vdXQgPCBlbmQgPyAyNTcgKyAoZW5kIC0gX291dCkgOiAyNTcgLSAoX291dCAtIGVuZCkpO1xuICBzdGF0ZS5ob2xkID0gaG9sZDtcbiAgc3RhdGUuYml0cyA9IGJpdHM7XG4gIHJldHVybjtcbn07XG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxuY29uc3QgTUFYQklUUyA9IDE1O1xuY29uc3QgRU5PVUdIX0xFTlMkMSA9IDg1MjtcbmNvbnN0IEVOT1VHSF9ESVNUUyQxID0gNTkyO1xuLy9jb25zdCBFTk9VR0ggPSAoRU5PVUdIX0xFTlMrRU5PVUdIX0RJU1RTKTtcblxuY29uc3QgQ09ERVMkMSA9IDA7XG5jb25zdCBMRU5TJDEgPSAxO1xuY29uc3QgRElTVFMkMSA9IDI7XG5cbmNvbnN0IGxiYXNlID0gbmV3IFVpbnQxNkFycmF5KFsgLyogTGVuZ3RoIGNvZGVzIDI1Ny4uMjg1IGJhc2UgKi9cbiAgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMywgMTUsIDE3LCAxOSwgMjMsIDI3LCAzMSxcbiAgMzUsIDQzLCA1MSwgNTksIDY3LCA4MywgOTksIDExNSwgMTMxLCAxNjMsIDE5NSwgMjI3LCAyNTgsIDAsIDBcbl0pO1xuXG5jb25zdCBsZXh0ID0gbmV3IFVpbnQ4QXJyYXkoWyAvKiBMZW5ndGggY29kZXMgMjU3Li4yODUgZXh0cmEgKi9cbiAgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNywgMTcsIDE3LCAxNywgMTgsIDE4LCAxOCwgMTgsXG4gIDE5LCAxOSwgMTksIDE5LCAyMCwgMjAsIDIwLCAyMCwgMjEsIDIxLCAyMSwgMjEsIDE2LCA3MiwgNzhcbl0pO1xuXG5jb25zdCBkYmFzZSA9IG5ldyBVaW50MTZBcnJheShbIC8qIERpc3RhbmNlIGNvZGVzIDAuLjI5IGJhc2UgKi9cbiAgMSwgMiwgMywgNCwgNSwgNywgOSwgMTMsIDE3LCAyNSwgMzMsIDQ5LCA2NSwgOTcsIDEyOSwgMTkzLFxuICAyNTcsIDM4NSwgNTEzLCA3NjksIDEwMjUsIDE1MzcsIDIwNDksIDMwNzMsIDQwOTcsIDYxNDUsXG4gIDgxOTMsIDEyMjg5LCAxNjM4NSwgMjQ1NzcsIDAsIDBcbl0pO1xuXG5jb25zdCBkZXh0ID0gbmV3IFVpbnQ4QXJyYXkoWyAvKiBEaXN0YW5jZSBjb2RlcyAwLi4yOSBleHRyYSAqL1xuICAxNiwgMTYsIDE2LCAxNiwgMTcsIDE3LCAxOCwgMTgsIDE5LCAxOSwgMjAsIDIwLCAyMSwgMjEsIDIyLCAyMixcbiAgMjMsIDIzLCAyNCwgMjQsIDI1LCAyNSwgMjYsIDI2LCAyNywgMjcsXG4gIDI4LCAyOCwgMjksIDI5LCA2NCwgNjRcbl0pO1xuXG5jb25zdCBpbmZsYXRlX3RhYmxlID0gKHR5cGUsIGxlbnMsIGxlbnNfaW5kZXgsIGNvZGVzLCB0YWJsZSwgdGFibGVfaW5kZXgsIHdvcmssIG9wdHMpID0+XG57XG4gIGNvbnN0IGJpdHMgPSBvcHRzLmJpdHM7XG4gICAgICAvL2hlcmUgPSBvcHRzLmhlcmU7IC8qIHRhYmxlIGVudHJ5IGZvciBkdXBsaWNhdGlvbiAqL1xuXG4gIGxldCBsZW4gPSAwOyAgICAgICAgICAgICAgIC8qIGEgY29kZSdzIGxlbmd0aCBpbiBiaXRzICovXG4gIGxldCBzeW0gPSAwOyAgICAgICAgICAgICAgIC8qIGluZGV4IG9mIGNvZGUgc3ltYm9scyAqL1xuICBsZXQgbWluID0gMCwgbWF4ID0gMDsgICAgICAgICAgLyogbWluaW11bSBhbmQgbWF4aW11bSBjb2RlIGxlbmd0aHMgKi9cbiAgbGV0IHJvb3QgPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGluZGV4IGJpdHMgZm9yIHJvb3QgdGFibGUgKi9cbiAgbGV0IGN1cnIgPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGluZGV4IGJpdHMgZm9yIGN1cnJlbnQgdGFibGUgKi9cbiAgbGV0IGRyb3AgPSAwOyAgICAgICAgICAgICAgLyogY29kZSBiaXRzIHRvIGRyb3AgZm9yIHN1Yi10YWJsZSAqL1xuICBsZXQgbGVmdCA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBwcmVmaXggY29kZXMgYXZhaWxhYmxlICovXG4gIGxldCB1c2VkID0gMDsgICAgICAgICAgICAgIC8qIGNvZGUgZW50cmllcyBpbiB0YWJsZSB1c2VkICovXG4gIGxldCBodWZmID0gMDsgICAgICAgICAgICAgIC8qIEh1ZmZtYW4gY29kZSAqL1xuICBsZXQgaW5jcjsgICAgICAgICAgICAgIC8qIGZvciBpbmNyZW1lbnRpbmcgY29kZSwgaW5kZXggKi9cbiAgbGV0IGZpbGw7ICAgICAgICAgICAgICAvKiBpbmRleCBmb3IgcmVwbGljYXRpbmcgZW50cmllcyAqL1xuICBsZXQgbG93OyAgICAgICAgICAgICAgIC8qIGxvdyBiaXRzIGZvciBjdXJyZW50IHJvb3QgZW50cnkgKi9cbiAgbGV0IG1hc2s7ICAgICAgICAgICAgICAvKiBtYXNrIGZvciBsb3cgcm9vdCBiaXRzICovXG4gIGxldCBuZXh0OyAgICAgICAgICAgICAvKiBuZXh0IGF2YWlsYWJsZSBzcGFjZSBpbiB0YWJsZSAqL1xuICBsZXQgYmFzZSA9IG51bGw7ICAgICAvKiBiYXNlIHZhbHVlIHRhYmxlIHRvIHVzZSAqL1xuLy8gIGxldCBzaG9leHRyYTsgICAgLyogZXh0cmEgYml0cyB0YWJsZSB0byB1c2UgKi9cbiAgbGV0IG1hdGNoOyAgICAgICAgICAgICAgICAgIC8qIHVzZSBiYXNlIGFuZCBleHRyYSBmb3Igc3ltYm9sID49IG1hdGNoICovXG4gIGNvbnN0IGNvdW50ID0gbmV3IFVpbnQxNkFycmF5KE1BWEJJVFMgKyAxKTsgLy9bTUFYQklUUysxXTsgICAgLyogbnVtYmVyIG9mIGNvZGVzIG9mIGVhY2ggbGVuZ3RoICovXG4gIGNvbnN0IG9mZnMgPSBuZXcgVWludDE2QXJyYXkoTUFYQklUUyArIDEpOyAvL1tNQVhCSVRTKzFdOyAgICAgLyogb2Zmc2V0cyBpbiB0YWJsZSBmb3IgZWFjaCBsZW5ndGggKi9cbiAgbGV0IGV4dHJhID0gbnVsbDtcblxuICBsZXQgaGVyZV9iaXRzLCBoZXJlX29wLCBoZXJlX3ZhbDtcblxuICAvKlxuICAgUHJvY2VzcyBhIHNldCBvZiBjb2RlIGxlbmd0aHMgdG8gY3JlYXRlIGEgY2Fub25pY2FsIEh1ZmZtYW4gY29kZS4gIFRoZVxuICAgY29kZSBsZW5ndGhzIGFyZSBsZW5zWzAuLmNvZGVzLTFdLiAgRWFjaCBsZW5ndGggY29ycmVzcG9uZHMgdG8gdGhlXG4gICBzeW1ib2xzIDAuLmNvZGVzLTEuICBUaGUgSHVmZm1hbiBjb2RlIGlzIGdlbmVyYXRlZCBieSBmaXJzdCBzb3J0aW5nIHRoZVxuICAgc3ltYm9scyBieSBsZW5ndGggZnJvbSBzaG9ydCB0byBsb25nLCBhbmQgcmV0YWluaW5nIHRoZSBzeW1ib2wgb3JkZXJcbiAgIGZvciBjb2RlcyB3aXRoIGVxdWFsIGxlbmd0aHMuICBUaGVuIHRoZSBjb2RlIHN0YXJ0cyB3aXRoIGFsbCB6ZXJvIGJpdHNcbiAgIGZvciB0aGUgZmlyc3QgY29kZSBvZiB0aGUgc2hvcnRlc3QgbGVuZ3RoLCBhbmQgdGhlIGNvZGVzIGFyZSBpbnRlZ2VyXG4gICBpbmNyZW1lbnRzIGZvciB0aGUgc2FtZSBsZW5ndGgsIGFuZCB6ZXJvcyBhcmUgYXBwZW5kZWQgYXMgdGhlIGxlbmd0aFxuICAgaW5jcmVhc2VzLiAgRm9yIHRoZSBkZWZsYXRlIGZvcm1hdCwgdGhlc2UgYml0cyBhcmUgc3RvcmVkIGJhY2t3YXJkc1xuICAgZnJvbSB0aGVpciBtb3JlIG5hdHVyYWwgaW50ZWdlciBpbmNyZW1lbnQgb3JkZXJpbmcsIGFuZCBzbyB3aGVuIHRoZVxuICAgZGVjb2RpbmcgdGFibGVzIGFyZSBidWlsdCBpbiB0aGUgbGFyZ2UgbG9vcCBiZWxvdywgdGhlIGludGVnZXIgY29kZXNcbiAgIGFyZSBpbmNyZW1lbnRlZCBiYWNrd2FyZHMuXG5cbiAgIFRoaXMgcm91dGluZSBhc3N1bWVzLCBidXQgZG9lcyBub3QgY2hlY2ssIHRoYXQgYWxsIG9mIHRoZSBlbnRyaWVzIGluXG4gICBsZW5zW10gYXJlIGluIHRoZSByYW5nZSAwLi5NQVhCSVRTLiAgVGhlIGNhbGxlciBtdXN0IGFzc3VyZSB0aGlzLlxuICAgMS4uTUFYQklUUyBpcyBpbnRlcnByZXRlZCBhcyB0aGF0IGNvZGUgbGVuZ3RoLiAgemVybyBtZWFucyB0aGF0IHRoYXRcbiAgIHN5bWJvbCBkb2VzIG5vdCBvY2N1ciBpbiB0aGlzIGNvZGUuXG5cbiAgIFRoZSBjb2RlcyBhcmUgc29ydGVkIGJ5IGNvbXB1dGluZyBhIGNvdW50IG9mIGNvZGVzIGZvciBlYWNoIGxlbmd0aCxcbiAgIGNyZWF0aW5nIGZyb20gdGhhdCBhIHRhYmxlIG9mIHN0YXJ0aW5nIGluZGljZXMgZm9yIGVhY2ggbGVuZ3RoIGluIHRoZVxuICAgc29ydGVkIHRhYmxlLCBhbmQgdGhlbiBlbnRlcmluZyB0aGUgc3ltYm9scyBpbiBvcmRlciBpbiB0aGUgc29ydGVkXG4gICB0YWJsZS4gIFRoZSBzb3J0ZWQgdGFibGUgaXMgd29ya1tdLCB3aXRoIHRoYXQgc3BhY2UgYmVpbmcgcHJvdmlkZWQgYnlcbiAgIHRoZSBjYWxsZXIuXG5cbiAgIFRoZSBsZW5ndGggY291bnRzIGFyZSB1c2VkIGZvciBvdGhlciBwdXJwb3NlcyBhcyB3ZWxsLCBpLmUuIGZpbmRpbmdcbiAgIHRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIGxlbmd0aCBjb2RlcywgZGV0ZXJtaW5pbmcgaWYgdGhlcmUgYXJlIGFueVxuICAgY29kZXMgYXQgYWxsLCBjaGVja2luZyBmb3IgYSB2YWxpZCBzZXQgb2YgbGVuZ3RocywgYW5kIGxvb2tpbmcgYWhlYWRcbiAgIGF0IGxlbmd0aCBjb3VudHMgdG8gZGV0ZXJtaW5lIHN1Yi10YWJsZSBzaXplcyB3aGVuIGJ1aWxkaW5nIHRoZVxuICAgZGVjb2RpbmcgdGFibGVzLlxuICAgKi9cblxuICAvKiBhY2N1bXVsYXRlIGxlbmd0aHMgZm9yIGNvZGVzIChhc3N1bWVzIGxlbnNbXSBhbGwgaW4gMC4uTUFYQklUUykgKi9cbiAgZm9yIChsZW4gPSAwOyBsZW4gPD0gTUFYQklUUzsgbGVuKyspIHtcbiAgICBjb3VudFtsZW5dID0gMDtcbiAgfVxuICBmb3IgKHN5bSA9IDA7IHN5bSA8IGNvZGVzOyBzeW0rKykge1xuICAgIGNvdW50W2xlbnNbbGVuc19pbmRleCArIHN5bV1dKys7XG4gIH1cblxuICAvKiBib3VuZCBjb2RlIGxlbmd0aHMsIGZvcmNlIHJvb3QgdG8gYmUgd2l0aGluIGNvZGUgbGVuZ3RocyAqL1xuICByb290ID0gYml0cztcbiAgZm9yIChtYXggPSBNQVhCSVRTOyBtYXggPj0gMTsgbWF4LS0pIHtcbiAgICBpZiAoY291bnRbbWF4XSAhPT0gMCkgeyBicmVhazsgfVxuICB9XG4gIGlmIChyb290ID4gbWF4KSB7XG4gICAgcm9vdCA9IG1heDtcbiAgfVxuICBpZiAobWF4ID09PSAwKSB7ICAgICAgICAgICAgICAgICAgICAgLyogbm8gc3ltYm9scyB0byBjb2RlIGF0IGFsbCAqL1xuICAgIC8vdGFibGUub3Bbb3B0cy50YWJsZV9pbmRleF0gPSA2NDsgIC8vaGVyZS5vcCA9ICh2YXIgY2hhcik2NDsgICAgLyogaW52YWxpZCBjb2RlIG1hcmtlciAqL1xuICAgIC8vdGFibGUuYml0c1tvcHRzLnRhYmxlX2luZGV4XSA9IDE7ICAgLy9oZXJlLmJpdHMgPSAodmFyIGNoYXIpMTtcbiAgICAvL3RhYmxlLnZhbFtvcHRzLnRhYmxlX2luZGV4KytdID0gMDsgICAvL2hlcmUudmFsID0gKHZhciBzaG9ydCkwO1xuICAgIHRhYmxlW3RhYmxlX2luZGV4KytdID0gKDEgPDwgMjQpIHwgKDY0IDw8IDE2KSB8IDA7XG5cblxuICAgIC8vdGFibGUub3Bbb3B0cy50YWJsZV9pbmRleF0gPSA2NDtcbiAgICAvL3RhYmxlLmJpdHNbb3B0cy50YWJsZV9pbmRleF0gPSAxO1xuICAgIC8vdGFibGUudmFsW29wdHMudGFibGVfaW5kZXgrK10gPSAwO1xuICAgIHRhYmxlW3RhYmxlX2luZGV4KytdID0gKDEgPDwgMjQpIHwgKDY0IDw8IDE2KSB8IDA7XG5cbiAgICBvcHRzLmJpdHMgPSAxO1xuICAgIHJldHVybiAwOyAgICAgLyogbm8gc3ltYm9scywgYnV0IHdhaXQgZm9yIGRlY29kaW5nIHRvIHJlcG9ydCBlcnJvciAqL1xuICB9XG4gIGZvciAobWluID0gMTsgbWluIDwgbWF4OyBtaW4rKykge1xuICAgIGlmIChjb3VudFttaW5dICE9PSAwKSB7IGJyZWFrOyB9XG4gIH1cbiAgaWYgKHJvb3QgPCBtaW4pIHtcbiAgICByb290ID0gbWluO1xuICB9XG5cbiAgLyogY2hlY2sgZm9yIGFuIG92ZXItc3Vic2NyaWJlZCBvciBpbmNvbXBsZXRlIHNldCBvZiBsZW5ndGhzICovXG4gIGxlZnQgPSAxO1xuICBmb3IgKGxlbiA9IDE7IGxlbiA8PSBNQVhCSVRTOyBsZW4rKykge1xuICAgIGxlZnQgPDw9IDE7XG4gICAgbGVmdCAtPSBjb3VudFtsZW5dO1xuICAgIGlmIChsZWZ0IDwgMCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH0gICAgICAgIC8qIG92ZXItc3Vic2NyaWJlZCAqL1xuICB9XG4gIGlmIChsZWZ0ID4gMCAmJiAodHlwZSA9PT0gQ09ERVMkMSB8fCBtYXggIT09IDEpKSB7XG4gICAgcmV0dXJuIC0xOyAgICAgICAgICAgICAgICAgICAgICAvKiBpbmNvbXBsZXRlIHNldCAqL1xuICB9XG5cbiAgLyogZ2VuZXJhdGUgb2Zmc2V0cyBpbnRvIHN5bWJvbCB0YWJsZSBmb3IgZWFjaCBsZW5ndGggZm9yIHNvcnRpbmcgKi9cbiAgb2Zmc1sxXSA9IDA7XG4gIGZvciAobGVuID0gMTsgbGVuIDwgTUFYQklUUzsgbGVuKyspIHtcbiAgICBvZmZzW2xlbiArIDFdID0gb2Zmc1tsZW5dICsgY291bnRbbGVuXTtcbiAgfVxuXG4gIC8qIHNvcnQgc3ltYm9scyBieSBsZW5ndGgsIGJ5IHN5bWJvbCBvcmRlciB3aXRoaW4gZWFjaCBsZW5ndGggKi9cbiAgZm9yIChzeW0gPSAwOyBzeW0gPCBjb2Rlczsgc3ltKyspIHtcbiAgICBpZiAobGVuc1tsZW5zX2luZGV4ICsgc3ltXSAhPT0gMCkge1xuICAgICAgd29ya1tvZmZzW2xlbnNbbGVuc19pbmRleCArIHN5bV1dKytdID0gc3ltO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICBDcmVhdGUgYW5kIGZpbGwgaW4gZGVjb2RpbmcgdGFibGVzLiAgSW4gdGhpcyBsb29wLCB0aGUgdGFibGUgYmVpbmdcbiAgIGZpbGxlZCBpcyBhdCBuZXh0IGFuZCBoYXMgY3VyciBpbmRleCBiaXRzLiAgVGhlIGNvZGUgYmVpbmcgdXNlZCBpcyBodWZmXG4gICB3aXRoIGxlbmd0aCBsZW4uICBUaGF0IGNvZGUgaXMgY29udmVydGVkIHRvIGFuIGluZGV4IGJ5IGRyb3BwaW5nIGRyb3BcbiAgIGJpdHMgb2ZmIG9mIHRoZSBib3R0b20uICBGb3IgY29kZXMgd2hlcmUgbGVuIGlzIGxlc3MgdGhhbiBkcm9wICsgY3VycixcbiAgIHRob3NlIHRvcCBkcm9wICsgY3VyciAtIGxlbiBiaXRzIGFyZSBpbmNyZW1lbnRlZCB0aHJvdWdoIGFsbCB2YWx1ZXMgdG9cbiAgIGZpbGwgdGhlIHRhYmxlIHdpdGggcmVwbGljYXRlZCBlbnRyaWVzLlxuXG4gICByb290IGlzIHRoZSBudW1iZXIgb2YgaW5kZXggYml0cyBmb3IgdGhlIHJvb3QgdGFibGUuICBXaGVuIGxlbiBleGNlZWRzXG4gICByb290LCBzdWItdGFibGVzIGFyZSBjcmVhdGVkIHBvaW50ZWQgdG8gYnkgdGhlIHJvb3QgZW50cnkgd2l0aCBhbiBpbmRleFxuICAgb2YgdGhlIGxvdyByb290IGJpdHMgb2YgaHVmZi4gIFRoaXMgaXMgc2F2ZWQgaW4gbG93IHRvIGNoZWNrIGZvciB3aGVuIGFcbiAgIG5ldyBzdWItdGFibGUgc2hvdWxkIGJlIHN0YXJ0ZWQuICBkcm9wIGlzIHplcm8gd2hlbiB0aGUgcm9vdCB0YWJsZSBpc1xuICAgYmVpbmcgZmlsbGVkLCBhbmQgZHJvcCBpcyByb290IHdoZW4gc3ViLXRhYmxlcyBhcmUgYmVpbmcgZmlsbGVkLlxuXG4gICBXaGVuIGEgbmV3IHN1Yi10YWJsZSBpcyBuZWVkZWQsIGl0IGlzIG5lY2Vzc2FyeSB0byBsb29rIGFoZWFkIGluIHRoZVxuICAgY29kZSBsZW5ndGhzIHRvIGRldGVybWluZSB3aGF0IHNpemUgc3ViLXRhYmxlIGlzIG5lZWRlZC4gIFRoZSBsZW5ndGhcbiAgIGNvdW50cyBhcmUgdXNlZCBmb3IgdGhpcywgYW5kIHNvIGNvdW50W10gaXMgZGVjcmVtZW50ZWQgYXMgY29kZXMgYXJlXG4gICBlbnRlcmVkIGluIHRoZSB0YWJsZXMuXG5cbiAgIHVzZWQga2VlcHMgdHJhY2sgb2YgaG93IG1hbnkgdGFibGUgZW50cmllcyBoYXZlIGJlZW4gYWxsb2NhdGVkIGZyb20gdGhlXG4gICBwcm92aWRlZCAqdGFibGUgc3BhY2UuICBJdCBpcyBjaGVja2VkIGZvciBMRU5TIGFuZCBESVNUIHRhYmxlcyBhZ2FpbnN0XG4gICB0aGUgY29uc3RhbnRzIEVOT1VHSF9MRU5TIGFuZCBFTk9VR0hfRElTVFMgdG8gZ3VhcmQgYWdhaW5zdCBjaGFuZ2VzIGluXG4gICB0aGUgaW5pdGlhbCByb290IHRhYmxlIHNpemUgY29uc3RhbnRzLiAgU2VlIHRoZSBjb21tZW50cyBpbiBpbmZ0cmVlcy5oXG4gICBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblxuICAgc3ltIGluY3JlbWVudHMgdGhyb3VnaCBhbGwgc3ltYm9scywgYW5kIHRoZSBsb29wIHRlcm1pbmF0ZXMgd2hlblxuICAgYWxsIGNvZGVzIG9mIGxlbmd0aCBtYXgsIGkuZS4gYWxsIGNvZGVzLCBoYXZlIGJlZW4gcHJvY2Vzc2VkLiAgVGhpc1xuICAgcm91dGluZSBwZXJtaXRzIGluY29tcGxldGUgY29kZXMsIHNvIGFub3RoZXIgbG9vcCBhZnRlciB0aGlzIG9uZSBmaWxsc1xuICAgaW4gdGhlIHJlc3Qgb2YgdGhlIGRlY29kaW5nIHRhYmxlcyB3aXRoIGludmFsaWQgY29kZSBtYXJrZXJzLlxuICAgKi9cblxuICAvKiBzZXQgdXAgZm9yIGNvZGUgdHlwZSAqL1xuICAvLyBwb29yIG1hbiBvcHRpbWl6YXRpb24gLSB1c2UgaWYtZWxzZSBpbnN0ZWFkIG9mIHN3aXRjaCxcbiAgLy8gdG8gYXZvaWQgZGVvcHRzIGluIG9sZCB2OFxuICBpZiAodHlwZSA9PT0gQ09ERVMkMSkge1xuICAgIGJhc2UgPSBleHRyYSA9IHdvcms7ICAgIC8qIGR1bW15IHZhbHVlLS1ub3QgdXNlZCAqL1xuICAgIG1hdGNoID0gMjA7XG5cbiAgfSBlbHNlIGlmICh0eXBlID09PSBMRU5TJDEpIHtcbiAgICBiYXNlID0gbGJhc2U7XG4gICAgZXh0cmEgPSBsZXh0O1xuICAgIG1hdGNoID0gMjU3O1xuXG4gIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAvKiBESVNUUyAqL1xuICAgIGJhc2UgPSBkYmFzZTtcbiAgICBleHRyYSA9IGRleHQ7XG4gICAgbWF0Y2ggPSAwO1xuICB9XG5cbiAgLyogaW5pdGlhbGl6ZSBvcHRzIGZvciBsb29wICovXG4gIGh1ZmYgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBzdGFydGluZyBjb2RlICovXG4gIHN5bSA9IDA7ICAgICAgICAgICAgICAgICAgICAvKiBzdGFydGluZyBjb2RlIHN5bWJvbCAqL1xuICBsZW4gPSBtaW47ICAgICAgICAgICAgICAgICAgLyogc3RhcnRpbmcgY29kZSBsZW5ndGggKi9cbiAgbmV4dCA9IHRhYmxlX2luZGV4OyAgICAgICAgICAgICAgLyogY3VycmVudCB0YWJsZSB0byBmaWxsIGluICovXG4gIGN1cnIgPSByb290OyAgICAgICAgICAgICAgICAvKiBjdXJyZW50IHRhYmxlIGluZGV4IGJpdHMgKi9cbiAgZHJvcCA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIGN1cnJlbnQgYml0cyB0byBkcm9wIGZyb20gY29kZSBmb3IgaW5kZXggKi9cbiAgbG93ID0gLTE7ICAgICAgICAgICAgICAgICAgIC8qIHRyaWdnZXIgbmV3IHN1Yi10YWJsZSB3aGVuIGxlbiA+IHJvb3QgKi9cbiAgdXNlZCA9IDEgPDwgcm9vdDsgICAgICAgICAgLyogdXNlIHJvb3QgdGFibGUgZW50cmllcyAqL1xuICBtYXNrID0gdXNlZCAtIDE7ICAgICAgICAgICAgLyogbWFzayBmb3IgY29tcGFyaW5nIGxvdyAqL1xuXG4gIC8qIGNoZWNrIGF2YWlsYWJsZSB0YWJsZSBzcGFjZSAqL1xuICBpZiAoKHR5cGUgPT09IExFTlMkMSAmJiB1c2VkID4gRU5PVUdIX0xFTlMkMSkgfHxcbiAgICAodHlwZSA9PT0gRElTVFMkMSAmJiB1c2VkID4gRU5PVUdIX0RJU1RTJDEpKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICAvKiBwcm9jZXNzIGFsbCBjb2RlcyBhbmQgbWFrZSB0YWJsZSBlbnRyaWVzICovXG4gIGZvciAoOzspIHtcbiAgICAvKiBjcmVhdGUgdGFibGUgZW50cnkgKi9cbiAgICBoZXJlX2JpdHMgPSBsZW4gLSBkcm9wO1xuICAgIGlmICh3b3JrW3N5bV0gKyAxIDwgbWF0Y2gpIHtcbiAgICAgIGhlcmVfb3AgPSAwO1xuICAgICAgaGVyZV92YWwgPSB3b3JrW3N5bV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHdvcmtbc3ltXSA+PSBtYXRjaCkge1xuICAgICAgaGVyZV9vcCA9IGV4dHJhW3dvcmtbc3ltXSAtIG1hdGNoXTtcbiAgICAgIGhlcmVfdmFsID0gYmFzZVt3b3JrW3N5bV0gLSBtYXRjaF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaGVyZV9vcCA9IDMyICsgNjQ7ICAgICAgICAgLyogZW5kIG9mIGJsb2NrICovXG4gICAgICBoZXJlX3ZhbCA9IDA7XG4gICAgfVxuXG4gICAgLyogcmVwbGljYXRlIGZvciB0aG9zZSBpbmRpY2VzIHdpdGggbG93IGxlbiBiaXRzIGVxdWFsIHRvIGh1ZmYgKi9cbiAgICBpbmNyID0gMSA8PCAobGVuIC0gZHJvcCk7XG4gICAgZmlsbCA9IDEgPDwgY3VycjtcbiAgICBtaW4gPSBmaWxsOyAgICAgICAgICAgICAgICAgLyogc2F2ZSBvZmZzZXQgdG8gbmV4dCB0YWJsZSAqL1xuICAgIGRvIHtcbiAgICAgIGZpbGwgLT0gaW5jcjtcbiAgICAgIHRhYmxlW25leHQgKyAoaHVmZiA+PiBkcm9wKSArIGZpbGxdID0gKGhlcmVfYml0cyA8PCAyNCkgfCAoaGVyZV9vcCA8PCAxNikgfCBoZXJlX3ZhbCB8MDtcbiAgICB9IHdoaWxlIChmaWxsICE9PSAwKTtcblxuICAgIC8qIGJhY2t3YXJkcyBpbmNyZW1lbnQgdGhlIGxlbi1iaXQgY29kZSBodWZmICovXG4gICAgaW5jciA9IDEgPDwgKGxlbiAtIDEpO1xuICAgIHdoaWxlIChodWZmICYgaW5jcikge1xuICAgICAgaW5jciA+Pj0gMTtcbiAgICB9XG4gICAgaWYgKGluY3IgIT09IDApIHtcbiAgICAgIGh1ZmYgJj0gaW5jciAtIDE7XG4gICAgICBodWZmICs9IGluY3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIGh1ZmYgPSAwO1xuICAgIH1cblxuICAgIC8qIGdvIHRvIG5leHQgc3ltYm9sLCB1cGRhdGUgY291bnQsIGxlbiAqL1xuICAgIHN5bSsrO1xuICAgIGlmICgtLWNvdW50W2xlbl0gPT09IDApIHtcbiAgICAgIGlmIChsZW4gPT09IG1heCkgeyBicmVhazsgfVxuICAgICAgbGVuID0gbGVuc1tsZW5zX2luZGV4ICsgd29ya1tzeW1dXTtcbiAgICB9XG5cbiAgICAvKiBjcmVhdGUgbmV3IHN1Yi10YWJsZSBpZiBuZWVkZWQgKi9cbiAgICBpZiAobGVuID4gcm9vdCAmJiAoaHVmZiAmIG1hc2spICE9PSBsb3cpIHtcbiAgICAgIC8qIGlmIGZpcnN0IHRpbWUsIHRyYW5zaXRpb24gdG8gc3ViLXRhYmxlcyAqL1xuICAgICAgaWYgKGRyb3AgPT09IDApIHtcbiAgICAgICAgZHJvcCA9IHJvb3Q7XG4gICAgICB9XG5cbiAgICAgIC8qIGluY3JlbWVudCBwYXN0IGxhc3QgdGFibGUgKi9cbiAgICAgIG5leHQgKz0gbWluOyAgICAgICAgICAgIC8qIGhlcmUgbWluIGlzIDEgPDwgY3VyciAqL1xuXG4gICAgICAvKiBkZXRlcm1pbmUgbGVuZ3RoIG9mIG5leHQgdGFibGUgKi9cbiAgICAgIGN1cnIgPSBsZW4gLSBkcm9wO1xuICAgICAgbGVmdCA9IDEgPDwgY3VycjtcbiAgICAgIHdoaWxlIChjdXJyICsgZHJvcCA8IG1heCkge1xuICAgICAgICBsZWZ0IC09IGNvdW50W2N1cnIgKyBkcm9wXTtcbiAgICAgICAgaWYgKGxlZnQgPD0gMCkgeyBicmVhazsgfVxuICAgICAgICBjdXJyKys7XG4gICAgICAgIGxlZnQgPDw9IDE7XG4gICAgICB9XG5cbiAgICAgIC8qIGNoZWNrIGZvciBlbm91Z2ggc3BhY2UgKi9cbiAgICAgIHVzZWQgKz0gMSA8PCBjdXJyO1xuICAgICAgaWYgKCh0eXBlID09PSBMRU5TJDEgJiYgdXNlZCA+IEVOT1VHSF9MRU5TJDEpIHx8XG4gICAgICAgICh0eXBlID09PSBESVNUUyQxICYmIHVzZWQgPiBFTk9VR0hfRElTVFMkMSkpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG5cbiAgICAgIC8qIHBvaW50IGVudHJ5IGluIHJvb3QgdGFibGUgdG8gc3ViLXRhYmxlICovXG4gICAgICBsb3cgPSBodWZmICYgbWFzaztcbiAgICAgIC8qdGFibGUub3BbbG93XSA9IGN1cnI7XG4gICAgICB0YWJsZS5iaXRzW2xvd10gPSByb290O1xuICAgICAgdGFibGUudmFsW2xvd10gPSBuZXh0IC0gb3B0cy50YWJsZV9pbmRleDsqL1xuICAgICAgdGFibGVbbG93XSA9IChyb290IDw8IDI0KSB8IChjdXJyIDw8IDE2KSB8IChuZXh0IC0gdGFibGVfaW5kZXgpIHwwO1xuICAgIH1cbiAgfVxuXG4gIC8qIGZpbGwgaW4gcmVtYWluaW5nIHRhYmxlIGVudHJ5IGlmIGNvZGUgaXMgaW5jb21wbGV0ZSAoZ3VhcmFudGVlZCB0byBoYXZlXG4gICBhdCBtb3N0IG9uZSByZW1haW5pbmcgZW50cnksIHNpbmNlIGlmIHRoZSBjb2RlIGlzIGluY29tcGxldGUsIHRoZVxuICAgbWF4aW11bSBjb2RlIGxlbmd0aCB0aGF0IHdhcyBhbGxvd2VkIHRvIGdldCB0aGlzIGZhciBpcyBvbmUgYml0KSAqL1xuICBpZiAoaHVmZiAhPT0gMCkge1xuICAgIC8vdGFibGUub3BbbmV4dCArIGh1ZmZdID0gNjQ7ICAgICAgICAgICAgLyogaW52YWxpZCBjb2RlIG1hcmtlciAqL1xuICAgIC8vdGFibGUuYml0c1tuZXh0ICsgaHVmZl0gPSBsZW4gLSBkcm9wO1xuICAgIC8vdGFibGUudmFsW25leHQgKyBodWZmXSA9IDA7XG4gICAgdGFibGVbbmV4dCArIGh1ZmZdID0gKChsZW4gLSBkcm9wKSA8PCAyNCkgfCAoNjQgPDwgMTYpIHwwO1xuICB9XG5cbiAgLyogc2V0IHJldHVybiBwYXJhbWV0ZXJzICovXG4gIC8vb3B0cy50YWJsZV9pbmRleCArPSB1c2VkO1xuICBvcHRzLmJpdHMgPSByb290O1xuICByZXR1cm4gMDtcbn07XG5cblxudmFyIGluZnRyZWVzID0gaW5mbGF0ZV90YWJsZTtcblxuLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4vLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4vLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbi8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4vLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4vLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4vL1xuLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3Rcbi8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbi8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4vLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4vLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4vLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG5cblxuXG5cblxuY29uc3QgQ09ERVMgPSAwO1xuY29uc3QgTEVOUyA9IDE7XG5jb25zdCBESVNUUyA9IDI7XG5cbi8qIFB1YmxpYyBjb25zdGFudHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5jb25zdCB7XG4gIFpfRklOSVNIOiBaX0ZJTklTSCQxLCBaX0JMT0NLLCBaX1RSRUVTLFxuICBaX09LOiBaX09LJDEsIFpfU1RSRUFNX0VORDogWl9TVFJFQU1fRU5EJDEsIFpfTkVFRF9ESUNUOiBaX05FRURfRElDVCQxLCBaX1NUUkVBTV9FUlJPUjogWl9TVFJFQU1fRVJST1IkMSwgWl9EQVRBX0VSUk9SOiBaX0RBVEFfRVJST1IkMSwgWl9NRU1fRVJST1I6IFpfTUVNX0VSUk9SJDEsIFpfQlVGX0VSUk9SLFxuICBaX0RFRkxBVEVEXG59ID0gY29uc3RhbnRzJDI7XG5cblxuLyogU1RBVEVTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cblxuY29uc3QgICAgSEVBRCA9IDE2MTgwOyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBtYWdpYyBoZWFkZXIgKi9cbmNvbnN0ICAgIEZMQUdTID0gMTYxODE7ICAgICAgLyogaTogd2FpdGluZyBmb3IgbWV0aG9kIGFuZCBmbGFncyAoZ3ppcCkgKi9cbmNvbnN0ICAgIFRJTUUgPSAxNjE4MjsgICAgICAgLyogaTogd2FpdGluZyBmb3IgbW9kaWZpY2F0aW9uIHRpbWUgKGd6aXApICovXG5jb25zdCAgICBPUyA9IDE2MTgzOyAgICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGV4dHJhIGZsYWdzIGFuZCBvcGVyYXRpbmcgc3lzdGVtIChnemlwKSAqL1xuY29uc3QgICAgRVhMRU4gPSAxNjE4NDsgICAgICAvKiBpOiB3YWl0aW5nIGZvciBleHRyYSBsZW5ndGggKGd6aXApICovXG5jb25zdCAgICBFWFRSQSA9IDE2MTg1OyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGV4dHJhIGJ5dGVzIChnemlwKSAqL1xuY29uc3QgICAgTkFNRSA9IDE2MTg2OyAgICAgICAvKiBpOiB3YWl0aW5nIGZvciBlbmQgb2YgZmlsZSBuYW1lIChnemlwKSAqL1xuY29uc3QgICAgQ09NTUVOVCA9IDE2MTg3OyAgICAvKiBpOiB3YWl0aW5nIGZvciBlbmQgb2YgY29tbWVudCAoZ3ppcCkgKi9cbmNvbnN0ICAgIEhDUkMgPSAxNjE4ODsgICAgICAgLyogaTogd2FpdGluZyBmb3IgaGVhZGVyIGNyYyAoZ3ppcCkgKi9cbmNvbnN0ICAgIERJQ1RJRCA9IDE2MTg5OyAgICAvKiBpOiB3YWl0aW5nIGZvciBkaWN0aW9uYXJ5IGNoZWNrIHZhbHVlICovXG5jb25zdCAgICBESUNUID0gMTYxOTA7ICAgICAgLyogd2FpdGluZyBmb3IgaW5mbGF0ZVNldERpY3Rpb25hcnkoKSBjYWxsICovXG5jb25zdCAgICAgICAgVFlQRSA9IDE2MTkxOyAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIHR5cGUgYml0cywgaW5jbHVkaW5nIGxhc3QtZmxhZyBiaXQgKi9cbmNvbnN0ICAgICAgICBUWVBFRE8gPSAxNjE5MjsgICAgLyogaTogc2FtZSwgYnV0IHNraXAgY2hlY2sgdG8gZXhpdCBpbmZsYXRlIG9uIG5ldyBibG9jayAqL1xuY29uc3QgICAgICAgIFNUT1JFRCA9IDE2MTkzOyAgICAvKiBpOiB3YWl0aW5nIGZvciBzdG9yZWQgc2l6ZSAobGVuZ3RoIGFuZCBjb21wbGVtZW50KSAqL1xuY29uc3QgICAgICAgIENPUFlfID0gMTYxOTQ7ICAgICAvKiBpL286IHNhbWUgYXMgQ09QWSBiZWxvdywgYnV0IG9ubHkgZmlyc3QgdGltZSBpbiAqL1xuY29uc3QgICAgICAgIENPUFkgPSAxNjE5NTsgICAgICAvKiBpL286IHdhaXRpbmcgZm9yIGlucHV0IG9yIG91dHB1dCB0byBjb3B5IHN0b3JlZCBibG9jayAqL1xuY29uc3QgICAgICAgIFRBQkxFID0gMTYxOTY7ICAgICAvKiBpOiB3YWl0aW5nIGZvciBkeW5hbWljIGJsb2NrIHRhYmxlIGxlbmd0aHMgKi9cbmNvbnN0ICAgICAgICBMRU5MRU5TID0gMTYxOTc7ICAgLyogaTogd2FpdGluZyBmb3IgY29kZSBsZW5ndGggY29kZSBsZW5ndGhzICovXG5jb25zdCAgICAgICAgQ09ERUxFTlMgPSAxNjE5ODsgIC8qIGk6IHdhaXRpbmcgZm9yIGxlbmd0aC9saXQgYW5kIGRpc3RhbmNlIGNvZGUgbGVuZ3RocyAqL1xuY29uc3QgICAgICAgICAgICBMRU5fID0gMTYxOTk7ICAgICAgLyogaTogc2FtZSBhcyBMRU4gYmVsb3csIGJ1dCBvbmx5IGZpcnN0IHRpbWUgaW4gKi9cbmNvbnN0ICAgICAgICAgICAgTEVOID0gMTYyMDA7ICAgICAgIC8qIGk6IHdhaXRpbmcgZm9yIGxlbmd0aC9saXQvZW9iIGNvZGUgKi9cbmNvbnN0ICAgICAgICAgICAgTEVORVhUID0gMTYyMDE7ICAgIC8qIGk6IHdhaXRpbmcgZm9yIGxlbmd0aCBleHRyYSBiaXRzICovXG5jb25zdCAgICAgICAgICAgIERJU1QgPSAxNjIwMjsgICAgICAvKiBpOiB3YWl0aW5nIGZvciBkaXN0YW5jZSBjb2RlICovXG5jb25zdCAgICAgICAgICAgIERJU1RFWFQgPSAxNjIwMzsgICAvKiBpOiB3YWl0aW5nIGZvciBkaXN0YW5jZSBleHRyYSBiaXRzICovXG5jb25zdCAgICAgICAgICAgIE1BVENIID0gMTYyMDQ7ICAgICAvKiBvOiB3YWl0aW5nIGZvciBvdXRwdXQgc3BhY2UgdG8gY29weSBzdHJpbmcgKi9cbmNvbnN0ICAgICAgICAgICAgTElUID0gMTYyMDU7ICAgICAgIC8qIG86IHdhaXRpbmcgZm9yIG91dHB1dCBzcGFjZSB0byB3cml0ZSBsaXRlcmFsICovXG5jb25zdCAgICBDSEVDSyA9IDE2MjA2OyAgICAgLyogaTogd2FpdGluZyBmb3IgMzItYml0IGNoZWNrIHZhbHVlICovXG5jb25zdCAgICBMRU5HVEggPSAxNjIwNzsgICAgLyogaTogd2FpdGluZyBmb3IgMzItYml0IGxlbmd0aCAoZ3ppcCkgKi9cbmNvbnN0ICAgIERPTkUgPSAxNjIwODsgICAgICAvKiBmaW5pc2hlZCBjaGVjaywgZG9uZSAtLSByZW1haW4gaGVyZSB1bnRpbCByZXNldCAqL1xuY29uc3QgICAgQkFEID0gMTYyMDk7ICAgICAgIC8qIGdvdCBhIGRhdGEgZXJyb3IgLS0gcmVtYWluIGhlcmUgdW50aWwgcmVzZXQgKi9cbmNvbnN0ICAgIE1FTSA9IDE2MjEwOyAgICAgICAvKiBnb3QgYW4gaW5mbGF0ZSgpIG1lbW9yeSBlcnJvciAtLSByZW1haW4gaGVyZSB1bnRpbCByZXNldCAqL1xuY29uc3QgICAgU1lOQyA9IDE2MjExOyAgICAgIC8qIGxvb2tpbmcgZm9yIHN5bmNocm9uaXphdGlvbiBieXRlcyB0byByZXN0YXJ0IGluZmxhdGUoKSAqL1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cblxuY29uc3QgRU5PVUdIX0xFTlMgPSA4NTI7XG5jb25zdCBFTk9VR0hfRElTVFMgPSA1OTI7XG4vL2NvbnN0IEVOT1VHSCA9ICAoRU5PVUdIX0xFTlMrRU5PVUdIX0RJU1RTKTtcblxuY29uc3QgTUFYX1dCSVRTID0gMTU7XG4vKiAzMksgTFo3NyB3aW5kb3cgKi9cbmNvbnN0IERFRl9XQklUUyA9IE1BWF9XQklUUztcblxuXG5jb25zdCB6c3dhcDMyID0gKHEpID0+IHtcblxuICByZXR1cm4gICgoKHEgPj4+IDI0KSAmIDB4ZmYpICtcbiAgICAgICAgICAoKHEgPj4+IDgpICYgMHhmZjAwKSArXG4gICAgICAgICAgKChxICYgMHhmZjAwKSA8PCA4KSArXG4gICAgICAgICAgKChxICYgMHhmZikgPDwgMjQpKTtcbn07XG5cblxuZnVuY3Rpb24gSW5mbGF0ZVN0YXRlKCkge1xuICB0aGlzLnN0cm0gPSBudWxsOyAgICAgICAgICAgLyogcG9pbnRlciBiYWNrIHRvIHRoaXMgemxpYiBzdHJlYW0gKi9cbiAgdGhpcy5tb2RlID0gMDsgICAgICAgICAgICAgIC8qIGN1cnJlbnQgaW5mbGF0ZSBtb2RlICovXG4gIHRoaXMubGFzdCA9IGZhbHNlOyAgICAgICAgICAvKiB0cnVlIGlmIHByb2Nlc3NpbmcgbGFzdCBibG9jayAqL1xuICB0aGlzLndyYXAgPSAwOyAgICAgICAgICAgICAgLyogYml0IDAgdHJ1ZSBmb3IgemxpYiwgYml0IDEgdHJ1ZSBmb3IgZ3ppcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdCAyIHRydWUgdG8gdmFsaWRhdGUgY2hlY2sgdmFsdWUgKi9cbiAgdGhpcy5oYXZlZGljdCA9IGZhbHNlOyAgICAgIC8qIHRydWUgaWYgZGljdGlvbmFyeSBwcm92aWRlZCAqL1xuICB0aGlzLmZsYWdzID0gMDsgICAgICAgICAgICAgLyogZ3ppcCBoZWFkZXIgbWV0aG9kIGFuZCBmbGFncyAoMCBpZiB6bGliKSwgb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xIGlmIHJhdyBvciBubyBoZWFkZXIgeWV0ICovXG4gIHRoaXMuZG1heCA9IDA7ICAgICAgICAgICAgICAvKiB6bGliIGhlYWRlciBtYXggZGlzdGFuY2UgKElORkxBVEVfU1RSSUNUKSAqL1xuICB0aGlzLmNoZWNrID0gMDsgICAgICAgICAgICAgLyogcHJvdGVjdGVkIGNvcHkgb2YgY2hlY2sgdmFsdWUgKi9cbiAgdGhpcy50b3RhbCA9IDA7ICAgICAgICAgICAgIC8qIHByb3RlY3RlZCBjb3B5IG9mIG91dHB1dCBjb3VudCAqL1xuICAvLyBUT0RPOiBtYXkgYmUge31cbiAgdGhpcy5oZWFkID0gbnVsbDsgICAgICAgICAgIC8qIHdoZXJlIHRvIHNhdmUgZ3ppcCBoZWFkZXIgaW5mb3JtYXRpb24gKi9cblxuICAvKiBzbGlkaW5nIHdpbmRvdyAqL1xuICB0aGlzLndiaXRzID0gMDsgICAgICAgICAgICAgLyogbG9nIGJhc2UgMiBvZiByZXF1ZXN0ZWQgd2luZG93IHNpemUgKi9cbiAgdGhpcy53c2l6ZSA9IDA7ICAgICAgICAgICAgIC8qIHdpbmRvdyBzaXplIG9yIHplcm8gaWYgbm90IHVzaW5nIHdpbmRvdyAqL1xuICB0aGlzLndoYXZlID0gMDsgICAgICAgICAgICAgLyogdmFsaWQgYnl0ZXMgaW4gdGhlIHdpbmRvdyAqL1xuICB0aGlzLnduZXh0ID0gMDsgICAgICAgICAgICAgLyogd2luZG93IHdyaXRlIGluZGV4ICovXG4gIHRoaXMud2luZG93ID0gbnVsbDsgICAgICAgICAvKiBhbGxvY2F0ZWQgc2xpZGluZyB3aW5kb3csIGlmIG5lZWRlZCAqL1xuXG4gIC8qIGJpdCBhY2N1bXVsYXRvciAqL1xuICB0aGlzLmhvbGQgPSAwOyAgICAgICAgICAgICAgLyogaW5wdXQgYml0IGFjY3VtdWxhdG9yICovXG4gIHRoaXMuYml0cyA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgYml0cyBpbiBcImluXCIgKi9cblxuICAvKiBmb3Igc3RyaW5nIGFuZCBzdG9yZWQgYmxvY2sgY29weWluZyAqL1xuICB0aGlzLmxlbmd0aCA9IDA7ICAgICAgICAgICAgLyogbGl0ZXJhbCBvciBsZW5ndGggb2YgZGF0YSB0byBjb3B5ICovXG4gIHRoaXMub2Zmc2V0ID0gMDsgICAgICAgICAgICAvKiBkaXN0YW5jZSBiYWNrIHRvIGNvcHkgc3RyaW5nIGZyb20gKi9cblxuICAvKiBmb3IgdGFibGUgYW5kIGNvZGUgZGVjb2RpbmcgKi9cbiAgdGhpcy5leHRyYSA9IDA7ICAgICAgICAgICAgIC8qIGV4dHJhIGJpdHMgbmVlZGVkICovXG5cbiAgLyogZml4ZWQgYW5kIGR5bmFtaWMgY29kZSB0YWJsZXMgKi9cbiAgdGhpcy5sZW5jb2RlID0gbnVsbDsgICAgICAgICAgLyogc3RhcnRpbmcgdGFibGUgZm9yIGxlbmd0aC9saXRlcmFsIGNvZGVzICovXG4gIHRoaXMuZGlzdGNvZGUgPSBudWxsOyAgICAgICAgIC8qIHN0YXJ0aW5nIHRhYmxlIGZvciBkaXN0YW5jZSBjb2RlcyAqL1xuICB0aGlzLmxlbmJpdHMgPSAwOyAgICAgICAgICAgLyogaW5kZXggYml0cyBmb3IgbGVuY29kZSAqL1xuICB0aGlzLmRpc3RiaXRzID0gMDsgICAgICAgICAgLyogaW5kZXggYml0cyBmb3IgZGlzdGNvZGUgKi9cblxuICAvKiBkeW5hbWljIHRhYmxlIGJ1aWxkaW5nICovXG4gIHRoaXMubmNvZGUgPSAwOyAgICAgICAgICAgICAvKiBudW1iZXIgb2YgY29kZSBsZW5ndGggY29kZSBsZW5ndGhzICovXG4gIHRoaXMubmxlbiA9IDA7ICAgICAgICAgICAgICAvKiBudW1iZXIgb2YgbGVuZ3RoIGNvZGUgbGVuZ3RocyAqL1xuICB0aGlzLm5kaXN0ID0gMDsgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGRpc3RhbmNlIGNvZGUgbGVuZ3RocyAqL1xuICB0aGlzLmhhdmUgPSAwOyAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGNvZGUgbGVuZ3RocyBpbiBsZW5zW10gKi9cbiAgdGhpcy5uZXh0ID0gbnVsbDsgICAgICAgICAgICAgIC8qIG5leHQgYXZhaWxhYmxlIHNwYWNlIGluIGNvZGVzW10gKi9cblxuICB0aGlzLmxlbnMgPSBuZXcgVWludDE2QXJyYXkoMzIwKTsgLyogdGVtcG9yYXJ5IHN0b3JhZ2UgZm9yIGNvZGUgbGVuZ3RocyAqL1xuICB0aGlzLndvcmsgPSBuZXcgVWludDE2QXJyYXkoMjg4KTsgLyogd29yayBhcmVhIGZvciBjb2RlIHRhYmxlIGJ1aWxkaW5nICovXG5cbiAgLypcbiAgIGJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBwb2ludGVycyBpbiBqcywgd2UgdXNlIGxlbmNvZGUgYW5kIGRpc3Rjb2RlIGRpcmVjdGx5XG4gICBhcyBidWZmZXJzIHNvIHdlIGRvbid0IG5lZWQgY29kZXNcbiAgKi9cbiAgLy90aGlzLmNvZGVzID0gbmV3IEludDMyQXJyYXkoRU5PVUdIKTsgICAgICAgLyogc3BhY2UgZm9yIGNvZGUgdGFibGVzICovXG4gIHRoaXMubGVuZHluID0gbnVsbDsgICAgICAgICAgICAgIC8qIGR5bmFtaWMgdGFibGUgZm9yIGxlbmd0aC9saXRlcmFsIGNvZGVzIChKUyBzcGVjaWZpYykgKi9cbiAgdGhpcy5kaXN0ZHluID0gbnVsbDsgICAgICAgICAgICAgLyogZHluYW1pYyB0YWJsZSBmb3IgZGlzdGFuY2UgY29kZXMgKEpTIHNwZWNpZmljKSAqL1xuICB0aGlzLnNhbmUgPSAwOyAgICAgICAgICAgICAgICAgICAvKiBpZiBmYWxzZSwgYWxsb3cgaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyICovXG4gIHRoaXMuYmFjayA9IDA7ICAgICAgICAgICAgICAgICAgIC8qIGJpdHMgYmFjayBvZiBsYXN0IHVucHJvY2Vzc2VkIGxlbmd0aC9saXQgKi9cbiAgdGhpcy53YXMgPSAwOyAgICAgICAgICAgICAgICAgICAgLyogaW5pdGlhbCBsZW5ndGggb2YgbWF0Y2ggKi9cbn1cblxuXG5jb25zdCBpbmZsYXRlU3RhdGVDaGVjayA9IChzdHJtKSA9PiB7XG5cbiAgaWYgKCFzdHJtKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgY29uc3Qgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBpZiAoIXN0YXRlIHx8IHN0YXRlLnN0cm0gIT09IHN0cm0gfHxcbiAgICBzdGF0ZS5tb2RlIDwgSEVBRCB8fCBzdGF0ZS5tb2RlID4gU1lOQykge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuXG5jb25zdCBpbmZsYXRlUmVzZXRLZWVwID0gKHN0cm0pID0+IHtcblxuICBpZiAoaW5mbGF0ZVN0YXRlQ2hlY2soc3RybSkpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDE7IH1cbiAgY29uc3Qgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBzdHJtLnRvdGFsX2luID0gc3RybS50b3RhbF9vdXQgPSBzdGF0ZS50b3RhbCA9IDA7XG4gIHN0cm0ubXNnID0gJyc7IC8qWl9OVUxMKi9cbiAgaWYgKHN0YXRlLndyYXApIHsgICAgICAgLyogdG8gc3VwcG9ydCBpbGwtY29uY2VpdmVkIEphdmEgdGVzdCBzdWl0ZSAqL1xuICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS53cmFwICYgMTtcbiAgfVxuICBzdGF0ZS5tb2RlID0gSEVBRDtcbiAgc3RhdGUubGFzdCA9IDA7XG4gIHN0YXRlLmhhdmVkaWN0ID0gMDtcbiAgc3RhdGUuZmxhZ3MgPSAtMTtcbiAgc3RhdGUuZG1heCA9IDMyNzY4O1xuICBzdGF0ZS5oZWFkID0gbnVsbC8qWl9OVUxMKi87XG4gIHN0YXRlLmhvbGQgPSAwO1xuICBzdGF0ZS5iaXRzID0gMDtcbiAgLy9zdGF0ZS5sZW5jb2RlID0gc3RhdGUuZGlzdGNvZGUgPSBzdGF0ZS5uZXh0ID0gc3RhdGUuY29kZXM7XG4gIHN0YXRlLmxlbmNvZGUgPSBzdGF0ZS5sZW5keW4gPSBuZXcgSW50MzJBcnJheShFTk9VR0hfTEVOUyk7XG4gIHN0YXRlLmRpc3Rjb2RlID0gc3RhdGUuZGlzdGR5biA9IG5ldyBJbnQzMkFycmF5KEVOT1VHSF9ESVNUUyk7XG5cbiAgc3RhdGUuc2FuZSA9IDE7XG4gIHN0YXRlLmJhY2sgPSAtMTtcbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiByZXNldFxcblwiKSk7XG4gIHJldHVybiBaX09LJDE7XG59O1xuXG5cbmNvbnN0IGluZmxhdGVSZXNldCA9IChzdHJtKSA9PiB7XG5cbiAgaWYgKGluZmxhdGVTdGF0ZUNoZWNrKHN0cm0pKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUiQxOyB9XG4gIGNvbnN0IHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgc3RhdGUud3NpemUgPSAwO1xuICBzdGF0ZS53aGF2ZSA9IDA7XG4gIHN0YXRlLnduZXh0ID0gMDtcbiAgcmV0dXJuIGluZmxhdGVSZXNldEtlZXAoc3RybSk7XG5cbn07XG5cblxuY29uc3QgaW5mbGF0ZVJlc2V0MiA9IChzdHJtLCB3aW5kb3dCaXRzKSA9PiB7XG4gIGxldCB3cmFwO1xuXG4gIC8qIGdldCB0aGUgc3RhdGUgKi9cbiAgaWYgKGluZmxhdGVTdGF0ZUNoZWNrKHN0cm0pKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUiQxOyB9XG4gIGNvbnN0IHN0YXRlID0gc3RybS5zdGF0ZTtcblxuICAvKiBleHRyYWN0IHdyYXAgcmVxdWVzdCBmcm9tIHdpbmRvd0JpdHMgcGFyYW1ldGVyICovXG4gIGlmICh3aW5kb3dCaXRzIDwgMCkge1xuICAgIHdyYXAgPSAwO1xuICAgIHdpbmRvd0JpdHMgPSAtd2luZG93Qml0cztcbiAgfVxuICBlbHNlIHtcbiAgICB3cmFwID0gKHdpbmRvd0JpdHMgPj4gNCkgKyA1O1xuICAgIGlmICh3aW5kb3dCaXRzIDwgNDgpIHtcbiAgICAgIHdpbmRvd0JpdHMgJj0gMTU7XG4gICAgfVxuICB9XG5cbiAgLyogc2V0IG51bWJlciBvZiB3aW5kb3cgYml0cywgZnJlZSB3aW5kb3cgaWYgZGlmZmVyZW50ICovXG4gIGlmICh3aW5kb3dCaXRzICYmICh3aW5kb3dCaXRzIDwgOCB8fCB3aW5kb3dCaXRzID4gMTUpKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDE7XG4gIH1cbiAgaWYgKHN0YXRlLndpbmRvdyAhPT0gbnVsbCAmJiBzdGF0ZS53Yml0cyAhPT0gd2luZG93Qml0cykge1xuICAgIHN0YXRlLndpbmRvdyA9IG51bGw7XG4gIH1cblxuICAvKiB1cGRhdGUgc3RhdGUgYW5kIHJlc2V0IHRoZSByZXN0IG9mIGl0ICovXG4gIHN0YXRlLndyYXAgPSB3cmFwO1xuICBzdGF0ZS53Yml0cyA9IHdpbmRvd0JpdHM7XG4gIHJldHVybiBpbmZsYXRlUmVzZXQoc3RybSk7XG59O1xuXG5cbmNvbnN0IGluZmxhdGVJbml0MiA9IChzdHJtLCB3aW5kb3dCaXRzKSA9PiB7XG5cbiAgaWYgKCFzdHJtKSB7IHJldHVybiBaX1NUUkVBTV9FUlJPUiQxOyB9XG4gIC8vc3RybS5tc2cgPSBaX05VTEw7ICAgICAgICAgICAgICAgICAvKiBpbiBjYXNlIHdlIHJldHVybiBhbiBlcnJvciAqL1xuXG4gIGNvbnN0IHN0YXRlID0gbmV3IEluZmxhdGVTdGF0ZSgpO1xuXG4gIC8vaWYgKHN0YXRlID09PSBaX05VTEwpIHJldHVybiBaX01FTV9FUlJPUjtcbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiBhbGxvY2F0ZWRcXG5cIikpO1xuICBzdHJtLnN0YXRlID0gc3RhdGU7XG4gIHN0YXRlLnN0cm0gPSBzdHJtO1xuICBzdGF0ZS53aW5kb3cgPSBudWxsLypaX05VTEwqLztcbiAgc3RhdGUubW9kZSA9IEhFQUQ7ICAgICAvKiB0byBwYXNzIHN0YXRlIHRlc3QgaW4gaW5mbGF0ZVJlc2V0MigpICovXG4gIGNvbnN0IHJldCA9IGluZmxhdGVSZXNldDIoc3RybSwgd2luZG93Qml0cyk7XG4gIGlmIChyZXQgIT09IFpfT0skMSkge1xuICAgIHN0cm0uc3RhdGUgPSBudWxsLypaX05VTEwqLztcbiAgfVxuICByZXR1cm4gcmV0O1xufTtcblxuXG5jb25zdCBpbmZsYXRlSW5pdCA9IChzdHJtKSA9PiB7XG5cbiAgcmV0dXJuIGluZmxhdGVJbml0MihzdHJtLCBERUZfV0JJVFMpO1xufTtcblxuXG4vKlxuIFJldHVybiBzdGF0ZSB3aXRoIGxlbmd0aCBhbmQgZGlzdGFuY2UgZGVjb2RpbmcgdGFibGVzIGFuZCBpbmRleCBzaXplcyBzZXQgdG9cbiBmaXhlZCBjb2RlIGRlY29kaW5nLiAgTm9ybWFsbHkgdGhpcyByZXR1cm5zIGZpeGVkIHRhYmxlcyBmcm9tIGluZmZpeGVkLmguXG4gSWYgQlVJTERGSVhFRCBpcyBkZWZpbmVkLCB0aGVuIGluc3RlYWQgdGhpcyByb3V0aW5lIGJ1aWxkcyB0aGUgdGFibGVzIHRoZVxuIGZpcnN0IHRpbWUgaXQncyBjYWxsZWQsIGFuZCByZXR1cm5zIHRob3NlIHRhYmxlcyB0aGUgZmlyc3QgdGltZSBhbmRcbiB0aGVyZWFmdGVyLiAgVGhpcyByZWR1Y2VzIHRoZSBzaXplIG9mIHRoZSBjb2RlIGJ5IGFib3V0IDJLIGJ5dGVzLCBpblxuIGV4Y2hhbmdlIGZvciBhIGxpdHRsZSBleGVjdXRpb24gdGltZS4gIEhvd2V2ZXIsIEJVSUxERklYRUQgc2hvdWxkIG5vdCBiZVxuIHVzZWQgZm9yIHRocmVhZGVkIGFwcGxpY2F0aW9ucywgc2luY2UgdGhlIHJld3JpdGluZyBvZiB0aGUgdGFibGVzIGFuZCB2aXJnaW5cbiBtYXkgbm90IGJlIHRocmVhZC1zYWZlLlxuICovXG5sZXQgdmlyZ2luID0gdHJ1ZTtcblxubGV0IGxlbmZpeCwgZGlzdGZpeDsgLy8gV2UgaGF2ZSBubyBwb2ludGVycyBpbiBKUywgc28ga2VlcCB0YWJsZXMgc2VwYXJhdGVcblxuXG5jb25zdCBmaXhlZHRhYmxlcyA9IChzdGF0ZSkgPT4ge1xuXG4gIC8qIGJ1aWxkIGZpeGVkIGh1ZmZtYW4gdGFibGVzIGlmIGZpcnN0IGNhbGwgKG1heSBub3QgYmUgdGhyZWFkIHNhZmUpICovXG4gIGlmICh2aXJnaW4pIHtcbiAgICBsZW5maXggPSBuZXcgSW50MzJBcnJheSg1MTIpO1xuICAgIGRpc3RmaXggPSBuZXcgSW50MzJBcnJheSgzMik7XG5cbiAgICAvKiBsaXRlcmFsL2xlbmd0aCB0YWJsZSAqL1xuICAgIGxldCBzeW0gPSAwO1xuICAgIHdoaWxlIChzeW0gPCAxNDQpIHsgc3RhdGUubGVuc1tzeW0rK10gPSA4OyB9XG4gICAgd2hpbGUgKHN5bSA8IDI1NikgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDk7IH1cbiAgICB3aGlsZSAoc3ltIDwgMjgwKSB7IHN0YXRlLmxlbnNbc3ltKytdID0gNzsgfVxuICAgIHdoaWxlIChzeW0gPCAyODgpIHsgc3RhdGUubGVuc1tzeW0rK10gPSA4OyB9XG5cbiAgICBpbmZ0cmVlcyhMRU5TLCAgc3RhdGUubGVucywgMCwgMjg4LCBsZW5maXgsICAgMCwgc3RhdGUud29yaywgeyBiaXRzOiA5IH0pO1xuXG4gICAgLyogZGlzdGFuY2UgdGFibGUgKi9cbiAgICBzeW0gPSAwO1xuICAgIHdoaWxlIChzeW0gPCAzMikgeyBzdGF0ZS5sZW5zW3N5bSsrXSA9IDU7IH1cblxuICAgIGluZnRyZWVzKERJU1RTLCBzdGF0ZS5sZW5zLCAwLCAzMiwgICBkaXN0Zml4LCAwLCBzdGF0ZS53b3JrLCB7IGJpdHM6IDUgfSk7XG5cbiAgICAvKiBkbyB0aGlzIGp1c3Qgb25jZSAqL1xuICAgIHZpcmdpbiA9IGZhbHNlO1xuICB9XG5cbiAgc3RhdGUubGVuY29kZSA9IGxlbmZpeDtcbiAgc3RhdGUubGVuYml0cyA9IDk7XG4gIHN0YXRlLmRpc3Rjb2RlID0gZGlzdGZpeDtcbiAgc3RhdGUuZGlzdGJpdHMgPSA1O1xufTtcblxuXG4vKlxuIFVwZGF0ZSB0aGUgd2luZG93IHdpdGggdGhlIGxhc3Qgd3NpemUgKG5vcm1hbGx5IDMySykgYnl0ZXMgd3JpdHRlbiBiZWZvcmVcbiByZXR1cm5pbmcuICBJZiB3aW5kb3cgZG9lcyBub3QgZXhpc3QgeWV0LCBjcmVhdGUgaXQuICBUaGlzIGlzIG9ubHkgY2FsbGVkXG4gd2hlbiBhIHdpbmRvdyBpcyBhbHJlYWR5IGluIHVzZSwgb3Igd2hlbiBvdXRwdXQgaGFzIGJlZW4gd3JpdHRlbiBkdXJpbmcgdGhpc1xuIGluZmxhdGUgY2FsbCwgYnV0IHRoZSBlbmQgb2YgdGhlIGRlZmxhdGUgc3RyZWFtIGhhcyBub3QgYmVlbiByZWFjaGVkIHlldC5cbiBJdCBpcyBhbHNvIGNhbGxlZCB0byBjcmVhdGUgYSB3aW5kb3cgZm9yIGRpY3Rpb25hcnkgZGF0YSB3aGVuIGEgZGljdGlvbmFyeVxuIGlzIGxvYWRlZC5cblxuIFByb3ZpZGluZyBvdXRwdXQgYnVmZmVycyBsYXJnZXIgdGhhbiAzMksgdG8gaW5mbGF0ZSgpIHNob3VsZCBwcm92aWRlIGEgc3BlZWRcbiBhZHZhbnRhZ2UsIHNpbmNlIG9ubHkgdGhlIGxhc3QgMzJLIG9mIG91dHB1dCBpcyBjb3BpZWQgdG8gdGhlIHNsaWRpbmcgd2luZG93XG4gdXBvbiByZXR1cm4gZnJvbSBpbmZsYXRlKCksIGFuZCBzaW5jZSBhbGwgZGlzdGFuY2VzIGFmdGVyIHRoZSBmaXJzdCAzMksgb2ZcbiBvdXRwdXQgd2lsbCBmYWxsIGluIHRoZSBvdXRwdXQgZGF0YSwgbWFraW5nIG1hdGNoIGNvcGllcyBzaW1wbGVyIGFuZCBmYXN0ZXIuXG4gVGhlIGFkdmFudGFnZSBtYXkgYmUgZGVwZW5kZW50IG9uIHRoZSBzaXplIG9mIHRoZSBwcm9jZXNzb3IncyBkYXRhIGNhY2hlcy5cbiAqL1xuY29uc3QgdXBkYXRld2luZG93ID0gKHN0cm0sIHNyYywgZW5kLCBjb3B5KSA9PiB7XG5cbiAgbGV0IGRpc3Q7XG4gIGNvbnN0IHN0YXRlID0gc3RybS5zdGF0ZTtcblxuICAvKiBpZiBpdCBoYXNuJ3QgYmVlbiBkb25lIGFscmVhZHksIGFsbG9jYXRlIHNwYWNlIGZvciB0aGUgd2luZG93ICovXG4gIGlmIChzdGF0ZS53aW5kb3cgPT09IG51bGwpIHtcbiAgICBzdGF0ZS53c2l6ZSA9IDEgPDwgc3RhdGUud2JpdHM7XG4gICAgc3RhdGUud25leHQgPSAwO1xuICAgIHN0YXRlLndoYXZlID0gMDtcblxuICAgIHN0YXRlLndpbmRvdyA9IG5ldyBVaW50OEFycmF5KHN0YXRlLndzaXplKTtcbiAgfVxuXG4gIC8qIGNvcHkgc3RhdGUtPndzaXplIG9yIGxlc3Mgb3V0cHV0IGJ5dGVzIGludG8gdGhlIGNpcmN1bGFyIHdpbmRvdyAqL1xuICBpZiAoY29weSA+PSBzdGF0ZS53c2l6ZSkge1xuICAgIHN0YXRlLndpbmRvdy5zZXQoc3JjLnN1YmFycmF5KGVuZCAtIHN0YXRlLndzaXplLCBlbmQpLCAwKTtcbiAgICBzdGF0ZS53bmV4dCA9IDA7XG4gICAgc3RhdGUud2hhdmUgPSBzdGF0ZS53c2l6ZTtcbiAgfVxuICBlbHNlIHtcbiAgICBkaXN0ID0gc3RhdGUud3NpemUgLSBzdGF0ZS53bmV4dDtcbiAgICBpZiAoZGlzdCA+IGNvcHkpIHtcbiAgICAgIGRpc3QgPSBjb3B5O1xuICAgIH1cbiAgICAvL3ptZW1jcHkoc3RhdGUtPndpbmRvdyArIHN0YXRlLT53bmV4dCwgZW5kIC0gY29weSwgZGlzdCk7XG4gICAgc3RhdGUud2luZG93LnNldChzcmMuc3ViYXJyYXkoZW5kIC0gY29weSwgZW5kIC0gY29weSArIGRpc3QpLCBzdGF0ZS53bmV4dCk7XG4gICAgY29weSAtPSBkaXN0O1xuICAgIGlmIChjb3B5KSB7XG4gICAgICAvL3ptZW1jcHkoc3RhdGUtPndpbmRvdywgZW5kIC0gY29weSwgY29weSk7XG4gICAgICBzdGF0ZS53aW5kb3cuc2V0KHNyYy5zdWJhcnJheShlbmQgLSBjb3B5LCBlbmQpLCAwKTtcbiAgICAgIHN0YXRlLnduZXh0ID0gY29weTtcbiAgICAgIHN0YXRlLndoYXZlID0gc3RhdGUud3NpemU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc3RhdGUud25leHQgKz0gZGlzdDtcbiAgICAgIGlmIChzdGF0ZS53bmV4dCA9PT0gc3RhdGUud3NpemUpIHsgc3RhdGUud25leHQgPSAwOyB9XG4gICAgICBpZiAoc3RhdGUud2hhdmUgPCBzdGF0ZS53c2l6ZSkgeyBzdGF0ZS53aGF2ZSArPSBkaXN0OyB9XG4gICAgfVxuICB9XG4gIHJldHVybiAwO1xufTtcblxuXG5jb25zdCBpbmZsYXRlJDIgPSAoc3RybSwgZmx1c2gpID0+IHtcblxuICBsZXQgc3RhdGU7XG4gIGxldCBpbnB1dCwgb3V0cHV0OyAgICAgICAgICAvLyBpbnB1dC9vdXRwdXQgYnVmZmVyc1xuICBsZXQgbmV4dDsgICAgICAgICAgICAgICAgICAgLyogbmV4dCBpbnB1dCBJTkRFWCAqL1xuICBsZXQgcHV0OyAgICAgICAgICAgICAgICAgICAgLyogbmV4dCBvdXRwdXQgSU5ERVggKi9cbiAgbGV0IGhhdmUsIGxlZnQ7ICAgICAgICAgICAgIC8qIGF2YWlsYWJsZSBpbnB1dCBhbmQgb3V0cHV0ICovXG4gIGxldCBob2xkOyAgICAgICAgICAgICAgICAgICAvKiBiaXQgYnVmZmVyICovXG4gIGxldCBiaXRzOyAgICAgICAgICAgICAgICAgICAvKiBiaXRzIGluIGJpdCBidWZmZXIgKi9cbiAgbGV0IF9pbiwgX291dDsgICAgICAgICAgICAgIC8qIHNhdmUgc3RhcnRpbmcgYXZhaWxhYmxlIGlucHV0IGFuZCBvdXRwdXQgKi9cbiAgbGV0IGNvcHk7ICAgICAgICAgICAgICAgICAgIC8qIG51bWJlciBvZiBzdG9yZWQgb3IgbWF0Y2ggYnl0ZXMgdG8gY29weSAqL1xuICBsZXQgZnJvbTsgICAgICAgICAgICAgICAgICAgLyogd2hlcmUgdG8gY29weSBtYXRjaCBieXRlcyBmcm9tICovXG4gIGxldCBmcm9tX3NvdXJjZTtcbiAgbGV0IGhlcmUgPSAwOyAgICAgICAgICAgICAgIC8qIGN1cnJlbnQgZGVjb2RpbmcgdGFibGUgZW50cnkgKi9cbiAgbGV0IGhlcmVfYml0cywgaGVyZV9vcCwgaGVyZV92YWw7IC8vIHBha2VkIFwiaGVyZVwiIGRlbm9ybWFsaXplZCAoSlMgc3BlY2lmaWMpXG4gIC8vbGV0IGxhc3Q7ICAgICAgICAgICAgICAgICAgIC8qIHBhcmVudCB0YWJsZSBlbnRyeSAqL1xuICBsZXQgbGFzdF9iaXRzLCBsYXN0X29wLCBsYXN0X3ZhbDsgLy8gcGFrZWQgXCJsYXN0XCIgZGVub3JtYWxpemVkIChKUyBzcGVjaWZpYylcbiAgbGV0IGxlbjsgICAgICAgICAgICAgICAgICAgIC8qIGxlbmd0aCB0byBjb3B5IGZvciByZXBlYXRzLCBiaXRzIHRvIGRyb3AgKi9cbiAgbGV0IHJldDsgICAgICAgICAgICAgICAgICAgIC8qIHJldHVybiBjb2RlICovXG4gIGNvbnN0IGhidWYgPSBuZXcgVWludDhBcnJheSg0KTsgICAgLyogYnVmZmVyIGZvciBnemlwIGhlYWRlciBjcmMgY2FsY3VsYXRpb24gKi9cbiAgbGV0IG9wdHM7XG5cbiAgbGV0IG47IC8vIHRlbXBvcmFyeSB2YXJpYWJsZSBmb3IgTkVFRF9CSVRTXG5cbiAgY29uc3Qgb3JkZXIgPSAvKiBwZXJtdXRhdGlvbiBvZiBjb2RlIGxlbmd0aHMgKi9cbiAgICBuZXcgVWludDhBcnJheShbIDE2LCAxNywgMTgsIDAsIDgsIDcsIDksIDYsIDEwLCA1LCAxMSwgNCwgMTIsIDMsIDEzLCAyLCAxNCwgMSwgMTUgXSk7XG5cblxuICBpZiAoaW5mbGF0ZVN0YXRlQ2hlY2soc3RybSkgfHwgIXN0cm0ub3V0cHV0IHx8XG4gICAgICAoIXN0cm0uaW5wdXQgJiYgc3RybS5hdmFpbF9pbiAhPT0gMCkpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1IkMTtcbiAgfVxuXG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgaWYgKHN0YXRlLm1vZGUgPT09IFRZUEUpIHsgc3RhdGUubW9kZSA9IFRZUEVETzsgfSAgICAvKiBza2lwIGNoZWNrICovXG5cblxuICAvLy0tLSBMT0FEKCkgLS0tXG4gIHB1dCA9IHN0cm0ubmV4dF9vdXQ7XG4gIG91dHB1dCA9IHN0cm0ub3V0cHV0O1xuICBsZWZ0ID0gc3RybS5hdmFpbF9vdXQ7XG4gIG5leHQgPSBzdHJtLm5leHRfaW47XG4gIGlucHV0ID0gc3RybS5pbnB1dDtcbiAgaGF2ZSA9IHN0cm0uYXZhaWxfaW47XG4gIGhvbGQgPSBzdGF0ZS5ob2xkO1xuICBiaXRzID0gc3RhdGUuYml0cztcbiAgLy8tLS1cblxuICBfaW4gPSBoYXZlO1xuICBfb3V0ID0gbGVmdDtcbiAgcmV0ID0gWl9PSyQxO1xuXG4gIGluZl9sZWF2ZTogLy8gZ290byBlbXVsYXRpb25cbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoc3RhdGUubW9kZSkge1xuICAgICAgY2FzZSBIRUFEOlxuICAgICAgICBpZiAoc3RhdGUud3JhcCA9PT0gMCkge1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFRE87XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gTkVFREJJVFMoMTYpO1xuICAgICAgICB3aGlsZSAoYml0cyA8IDE2KSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIGlmICgoc3RhdGUud3JhcCAmIDIpICYmIGhvbGQgPT09IDB4OGIxZikgeyAgLyogZ3ppcCBoZWFkZXIgKi9cbiAgICAgICAgICBpZiAoc3RhdGUud2JpdHMgPT09IDApIHtcbiAgICAgICAgICAgIHN0YXRlLndiaXRzID0gMTU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YXRlLmNoZWNrID0gMC8qY3JjMzIoMEwsIFpfTlVMTCwgMCkqLztcbiAgICAgICAgICAvLz09PSBDUkMyKHN0YXRlLmNoZWNrLCBob2xkKTtcbiAgICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMl8xKHN0YXRlLmNoZWNrLCBoYnVmLCAyLCAwKTtcbiAgICAgICAgICAvLz09PS8vXG5cbiAgICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICAgIGhvbGQgPSAwO1xuICAgICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBzdGF0ZS5tb2RlID0gRkxBR1M7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICBzdGF0ZS5oZWFkLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShzdGF0ZS53cmFwICYgMSkgfHwgICAvKiBjaGVjayBpZiB6bGliIGhlYWRlciBhbGxvd2VkICovXG4gICAgICAgICAgKCgoaG9sZCAmIDB4ZmYpLypCSVRTKDgpKi8gPDwgOCkgKyAoaG9sZCA+PiA4KSkgJSAzMSkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2luY29ycmVjdCBoZWFkZXIgY2hlY2snO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChob2xkICYgMHgwZikvKkJJVFMoNCkqLyAhPT0gWl9ERUZMQVRFRCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ3Vua25vd24gY29tcHJlc3Npb24gbWV0aG9kJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vLS0tIERST1BCSVRTKDQpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSA0O1xuICAgICAgICBiaXRzIC09IDQ7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgbGVuID0gKGhvbGQgJiAweDBmKS8qQklUUyg0KSovICsgODtcbiAgICAgICAgaWYgKHN0YXRlLndiaXRzID09PSAwKSB7XG4gICAgICAgICAgc3RhdGUud2JpdHMgPSBsZW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlbiA+IDE1IHx8IGxlbiA+IHN0YXRlLndiaXRzKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCB3aW5kb3cgc2l6ZSc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICEhISBwYWtvIHBhdGNoLiBGb3JjZSB1c2UgYG9wdGlvbnMud2luZG93Qml0c2AgaWYgcGFzc2VkLlxuICAgICAgICAvLyBSZXF1aXJlZCB0byBhbHdheXMgdXNlIG1heCB3aW5kb3cgc2l6ZSBieSBkZWZhdWx0LlxuICAgICAgICBzdGF0ZS5kbWF4ID0gMSA8PCBzdGF0ZS53Yml0cztcbiAgICAgICAgLy9zdGF0ZS5kbWF4ID0gMSA8PCBsZW47XG5cbiAgICAgICAgc3RhdGUuZmxhZ3MgPSAwOyAgICAgICAgICAgICAgIC8qIGluZGljYXRlIHpsaWIgaGVhZGVyICovXG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICB6bGliIGhlYWRlciBva1xcblwiKSk7XG4gICAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IDEvKmFkbGVyMzIoMEwsIFpfTlVMTCwgMCkqLztcbiAgICAgICAgc3RhdGUubW9kZSA9IGhvbGQgJiAweDIwMCA/IERJQ1RJRCA6IFRZUEU7XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRkxBR1M6XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5mbGFncyA9IGhvbGQ7XG4gICAgICAgIGlmICgoc3RhdGUuZmxhZ3MgJiAweGZmKSAhPT0gWl9ERUZMQVRFRCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ3Vua25vd24gY29tcHJlc3Npb24gbWV0aG9kJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4ZTAwMCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ3Vua25vd24gaGVhZGVyIGZsYWdzIHNldCc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQudGV4dCA9ICgoaG9sZCA+PiA4KSAmIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoc3RhdGUuZmxhZ3MgJiAweDAyMDApICYmIChzdGF0ZS53cmFwICYgNCkpIHtcbiAgICAgICAgICAvLz09PSBDUkMyKHN0YXRlLmNoZWNrLCBob2xkKTtcbiAgICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMl8xKHN0YXRlLmNoZWNrLCBoYnVmLCAyLCAwKTtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm1vZGUgPSBUSU1FO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIFRJTUU6XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDMyKTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQudGltZSA9IGhvbGQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzdGF0ZS5mbGFncyAmIDB4MDIwMCkgJiYgKHN0YXRlLndyYXAgJiA0KSkge1xuICAgICAgICAgIC8vPT09IENSQzQoc3RhdGUuY2hlY2ssIGhvbGQpXG4gICAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgIGhidWZbMl0gPSAoaG9sZCA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICBoYnVmWzNdID0gKGhvbGQgPj4+IDI0KSAmIDB4ZmY7XG4gICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMl8xKHN0YXRlLmNoZWNrLCBoYnVmLCA0LCAwKTtcbiAgICAgICAgICAvLz09PVxuICAgICAgICB9XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5tb2RlID0gT1M7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgT1M6XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQueGZsYWdzID0gKGhvbGQgJiAweGZmKTtcbiAgICAgICAgICBzdGF0ZS5oZWFkLm9zID0gKGhvbGQgPj4gOCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzdGF0ZS5mbGFncyAmIDB4MDIwMCkgJiYgKHN0YXRlLndyYXAgJiA0KSkge1xuICAgICAgICAgIC8vPT09IENSQzIoc3RhdGUuY2hlY2ssIGhvbGQpO1xuICAgICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyXzEoc3RhdGUuY2hlY2ssIGhidWYsIDIsIDApO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgfVxuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubW9kZSA9IEVYTEVOO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIEVYTEVOOlxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDA0MDApIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUygxNik7ICovXG4gICAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIHN0YXRlLmxlbmd0aCA9IGhvbGQ7XG4gICAgICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICAgIHN0YXRlLmhlYWQuZXh0cmFfbGVuID0gaG9sZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKChzdGF0ZS5mbGFncyAmIDB4MDIwMCkgJiYgKHN0YXRlLndyYXAgJiA0KSkge1xuICAgICAgICAgICAgLy89PT0gQ1JDMihzdGF0ZS5jaGVjaywgaG9sZCk7XG4gICAgICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzJfMShzdGF0ZS5jaGVjaywgaGJ1ZiwgMiwgMCk7XG4gICAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgICAgYml0cyA9IDA7XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhID0gbnVsbC8qWl9OVUxMKi87XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubW9kZSA9IEVYVFJBO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIEVYVFJBOlxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDA0MDApIHtcbiAgICAgICAgICBjb3B5ID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICAgIGlmIChjb3B5ID4gaGF2ZSkgeyBjb3B5ID0gaGF2ZTsgfVxuICAgICAgICAgIGlmIChjb3B5KSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgICAgICBsZW4gPSBzdGF0ZS5oZWFkLmV4dHJhX2xlbiAtIHN0YXRlLmxlbmd0aDtcbiAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5oZWFkLmV4dHJhKSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIHVudHlwZWQgYXJyYXkgZm9yIG1vcmUgY29udmVuaWVudCBwcm9jZXNzaW5nIGxhdGVyXG4gICAgICAgICAgICAgICAgc3RhdGUuaGVhZC5leHRyYSA9IG5ldyBVaW50OEFycmF5KHN0YXRlLmhlYWQuZXh0cmFfbGVuKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhLnNldChcbiAgICAgICAgICAgICAgICBpbnB1dC5zdWJhcnJheShcbiAgICAgICAgICAgICAgICAgIG5leHQsXG4gICAgICAgICAgICAgICAgICAvLyBleHRyYSBmaWVsZCBpcyBsaW1pdGVkIHRvIDY1NTM2IGJ5dGVzXG4gICAgICAgICAgICAgICAgICAvLyAtIG5vIG5lZWQgZm9yIGFkZGl0aW9uYWwgc2l6ZSBjaGVja1xuICAgICAgICAgICAgICAgICAgbmV4dCArIGNvcHlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIC8qbGVuICsgY29weSA+IHN0YXRlLmhlYWQuZXh0cmFfbWF4IC0gbGVuID8gc3RhdGUuaGVhZC5leHRyYV9tYXggOiBjb3B5LCovXG4gICAgICAgICAgICAgICAgbGVuXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIC8vem1lbWNweShzdGF0ZS5oZWFkLmV4dHJhICsgbGVuLCBuZXh0LFxuICAgICAgICAgICAgICAvLyAgICAgICAgbGVuICsgY29weSA+IHN0YXRlLmhlYWQuZXh0cmFfbWF4ID9cbiAgICAgICAgICAgICAgLy8gICAgICAgIHN0YXRlLmhlYWQuZXh0cmFfbWF4IC0gbGVuIDogY29weSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHN0YXRlLmZsYWdzICYgMHgwMjAwKSAmJiAoc3RhdGUud3JhcCAmIDQpKSB7XG4gICAgICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzJfMShzdGF0ZS5jaGVjaywgaW5wdXQsIGNvcHksIG5leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGF2ZSAtPSBjb3B5O1xuICAgICAgICAgICAgbmV4dCArPSBjb3B5O1xuICAgICAgICAgICAgc3RhdGUubGVuZ3RoIC09IGNvcHk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdGF0ZS5sZW5ndGgpIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubGVuZ3RoID0gMDtcbiAgICAgICAgc3RhdGUubW9kZSA9IE5BTUU7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTkFNRTpcbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwODAwKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgY29weSA9IDA7XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgLy8gVE9ETzogMiBvciAxIGJ5dGVzP1xuICAgICAgICAgICAgbGVuID0gaW5wdXRbbmV4dCArIGNvcHkrK107XG4gICAgICAgICAgICAvKiB1c2UgY29uc3RhbnQgbGltaXQgYmVjYXVzZSBpbiBqcyB3ZSBzaG91bGQgbm90IHByZWFsbG9jYXRlIG1lbW9yeSAqL1xuICAgICAgICAgICAgaWYgKHN0YXRlLmhlYWQgJiYgbGVuICYmXG4gICAgICAgICAgICAgICAgKHN0YXRlLmxlbmd0aCA8IDY1NTM2IC8qc3RhdGUuaGVhZC5uYW1lX21heCovKSkge1xuICAgICAgICAgICAgICBzdGF0ZS5oZWFkLm5hbWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShsZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gd2hpbGUgKGxlbiAmJiBjb3B5IDwgaGF2ZSk7XG5cbiAgICAgICAgICBpZiAoKHN0YXRlLmZsYWdzICYgMHgwMjAwKSAmJiAoc3RhdGUud3JhcCAmIDQpKSB7XG4gICAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyXzEoc3RhdGUuY2hlY2ssIGlucHV0LCBjb3B5LCBuZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGF2ZSAtPSBjb3B5O1xuICAgICAgICAgIG5leHQgKz0gY29weTtcbiAgICAgICAgICBpZiAobGVuKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICBzdGF0ZS5oZWFkLm5hbWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmxlbmd0aCA9IDA7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBDT01NRU5UO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIENPTU1FTlQ6XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MTAwMCkge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGNvcHkgPSAwO1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGxlbiA9IGlucHV0W25leHQgKyBjb3B5KytdO1xuICAgICAgICAgICAgLyogdXNlIGNvbnN0YW50IGxpbWl0IGJlY2F1c2UgaW4ganMgd2Ugc2hvdWxkIG5vdCBwcmVhbGxvY2F0ZSBtZW1vcnkgKi9cbiAgICAgICAgICAgIGlmIChzdGF0ZS5oZWFkICYmIGxlbiAmJlxuICAgICAgICAgICAgICAgIChzdGF0ZS5sZW5ndGggPCA2NTUzNiAvKnN0YXRlLmhlYWQuY29tbV9tYXgqLykpIHtcbiAgICAgICAgICAgICAgc3RhdGUuaGVhZC5jb21tZW50ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IHdoaWxlIChsZW4gJiYgY29weSA8IGhhdmUpO1xuICAgICAgICAgIGlmICgoc3RhdGUuZmxhZ3MgJiAweDAyMDApICYmIChzdGF0ZS53cmFwICYgNCkpIHtcbiAgICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzJfMShzdGF0ZS5jaGVjaywgaW5wdXQsIGNvcHksIG5leHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYXZlIC09IGNvcHk7XG4gICAgICAgICAgbmV4dCArPSBjb3B5O1xuICAgICAgICAgIGlmIChsZW4pIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQuY29tbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubW9kZSA9IEhDUkM7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgSENSQzpcbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgLy89PT0gTkVFREJJVFMoMTYpOyAqL1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgMTYpIHtcbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBpZiAoKHN0YXRlLndyYXAgJiA0KSAmJiBob2xkICE9PSAoc3RhdGUuY2hlY2sgJiAweGZmZmYpKSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdoZWFkZXIgY3JjIG1pc21hdGNoJztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgICBob2xkID0gMDtcbiAgICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmhlYWQpIHtcbiAgICAgICAgICBzdGF0ZS5oZWFkLmhjcmMgPSAoKHN0YXRlLmZsYWdzID4+IDkpICYgMSk7XG4gICAgICAgICAgc3RhdGUuaGVhZC5kb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSAwO1xuICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJQ1RJRDpcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMzIpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IHpzd2FwMzIoaG9sZCk7XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5tb2RlID0gRElDVDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBESUNUOlxuICAgICAgICBpZiAoc3RhdGUuaGF2ZWRpY3QgPT09IDApIHtcbiAgICAgICAgICAvLy0tLSBSRVNUT1JFKCkgLS0tXG4gICAgICAgICAgc3RybS5uZXh0X291dCA9IHB1dDtcbiAgICAgICAgICBzdHJtLmF2YWlsX291dCA9IGxlZnQ7XG4gICAgICAgICAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgICAgICAgICBzdHJtLmF2YWlsX2luID0gaGF2ZTtcbiAgICAgICAgICBzdGF0ZS5ob2xkID0gaG9sZDtcbiAgICAgICAgICBzdGF0ZS5iaXRzID0gYml0cztcbiAgICAgICAgICAvLy0tLVxuICAgICAgICAgIHJldHVybiBaX05FRURfRElDVCQxO1xuICAgICAgICB9XG4gICAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IDEvKmFkbGVyMzIoMEwsIFpfTlVMTCwgMCkqLztcbiAgICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgVFlQRTpcbiAgICAgICAgaWYgKGZsdXNoID09PSBaX0JMT0NLIHx8IGZsdXNoID09PSBaX1RSRUVTKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIFRZUEVETzpcbiAgICAgICAgaWYgKHN0YXRlLmxhc3QpIHtcbiAgICAgICAgICAvLy0tLSBCWVRFQklUUygpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IGJpdHMgJiA3O1xuICAgICAgICAgIGJpdHMgLT0gYml0cyAmIDc7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBDSEVDSztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLz09PSBORUVEQklUUygzKTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAzKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLmxhc3QgPSAoaG9sZCAmIDB4MDEpLypCSVRTKDEpKi87XG4gICAgICAgIC8vLS0tIERST1BCSVRTKDEpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSAxO1xuICAgICAgICBiaXRzIC09IDE7XG4gICAgICAgIC8vLS0tLy9cblxuICAgICAgICBzd2l0Y2ggKChob2xkICYgMHgwMykvKkJJVFMoMikqLykge1xuICAgICAgICAgIGNhc2UgMDogICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIHN0b3JlZCBibG9jayAqL1xuICAgICAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgc3RvcmVkIGJsb2NrJXNcXG5cIixcbiAgICAgICAgICAgIC8vICAgICAgICBzdGF0ZS5sYXN0ID8gXCIgKGxhc3QpXCIgOiBcIlwiKSk7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gU1RPUkVEO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZml4ZWQgYmxvY2sgKi9cbiAgICAgICAgICAgIGZpeGVkdGFibGVzKHN0YXRlKTtcbiAgICAgICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgIGZpeGVkIGNvZGVzIGJsb2NrJXNcXG5cIixcbiAgICAgICAgICAgIC8vICAgICAgICBzdGF0ZS5sYXN0ID8gXCIgKGxhc3QpXCIgOiBcIlwiKSk7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gTEVOXzsgICAgICAgICAgICAgLyogZGVjb2RlIGNvZGVzICovXG4gICAgICAgICAgICBpZiAoZmx1c2ggPT09IFpfVFJFRVMpIHtcbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMikgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IDI7XG4gICAgICAgICAgICAgIGJpdHMgLT0gMjtcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDI6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBkeW5hbWljIGJsb2NrICovXG4gICAgICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICBkeW5hbWljIGNvZGVzIGJsb2NrJXNcXG5cIixcbiAgICAgICAgICAgIC8vICAgICAgICBzdGF0ZS5sYXN0ID8gXCIgKGxhc3QpXCIgOiBcIlwiKSk7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gVEFCTEU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGJsb2NrIHR5cGUnO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgfVxuICAgICAgICAvLy0tLSBEUk9QQklUUygyKSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gMjtcbiAgICAgICAgYml0cyAtPSAyO1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTVE9SRUQ6XG4gICAgICAgIC8vLS0tIEJZVEVCSVRTKCkgLS0tLy8gLyogZ28gdG8gYnl0ZSBib3VuZGFyeSAqL1xuICAgICAgICBob2xkID4+Pj0gYml0cyAmIDc7XG4gICAgICAgIGJpdHMgLT0gYml0cyAmIDc7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgLy89PT0gTkVFREJJVFMoMzIpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIGlmICgoaG9sZCAmIDB4ZmZmZikgIT09ICgoaG9sZCA+Pj4gMTYpIF4gMHhmZmZmKSkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgc3RvcmVkIGJsb2NrIGxlbmd0aHMnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubGVuZ3RoID0gaG9sZCAmIDB4ZmZmZjtcbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICBzdG9yZWQgbGVuZ3RoICV1XFxuXCIsXG4gICAgICAgIC8vICAgICAgICBzdGF0ZS5sZW5ndGgpKTtcbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm1vZGUgPSBDT1BZXztcbiAgICAgICAgaWYgKGZsdXNoID09PSBaX1RSRUVTKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIENPUFlfOlxuICAgICAgICBzdGF0ZS5tb2RlID0gQ09QWTtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBDT1BZOlxuICAgICAgICBjb3B5ID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICBpZiAoY29weSkge1xuICAgICAgICAgIGlmIChjb3B5ID4gaGF2ZSkgeyBjb3B5ID0gaGF2ZTsgfVxuICAgICAgICAgIGlmIChjb3B5ID4gbGVmdCkgeyBjb3B5ID0gbGVmdDsgfVxuICAgICAgICAgIGlmIChjb3B5ID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIC8vLS0tIHptZW1jcHkocHV0LCBuZXh0LCBjb3B5KTsgLS0tXG4gICAgICAgICAgb3V0cHV0LnNldChpbnB1dC5zdWJhcnJheShuZXh0LCBuZXh0ICsgY29weSksIHB1dCk7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgICAgbGVmdCAtPSBjb3B5O1xuICAgICAgICAgIHB1dCArPSBjb3B5O1xuICAgICAgICAgIHN0YXRlLmxlbmd0aCAtPSBjb3B5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgc3RvcmVkIGVuZFxcblwiKSk7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVEFCTEU6XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDE0KTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAxNCkge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5ubGVuID0gKGhvbGQgJiAweDFmKS8qQklUUyg1KSovICsgMjU3O1xuICAgICAgICAvLy0tLSBEUk9QQklUUyg1KSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gNTtcbiAgICAgICAgYml0cyAtPSA1O1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLm5kaXN0ID0gKGhvbGQgJiAweDFmKS8qQklUUyg1KSovICsgMTtcbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoNSkgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IDU7XG4gICAgICAgIGJpdHMgLT0gNTtcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBzdGF0ZS5uY29kZSA9IChob2xkICYgMHgwZikvKkJJVFMoNCkqLyArIDQ7XG4gICAgICAgIC8vLS0tIERST1BCSVRTKDQpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSA0O1xuICAgICAgICBiaXRzIC09IDQ7XG4gICAgICAgIC8vLS0tLy9cbi8vI2lmbmRlZiBQS1pJUF9CVUdfV09SS0FST1VORFxuICAgICAgICBpZiAoc3RhdGUubmxlbiA+IDI4NiB8fCBzdGF0ZS5uZGlzdCA+IDMwKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAndG9vIG1hbnkgbGVuZ3RoIG9yIGRpc3RhbmNlIHN5bWJvbHMnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbi8vI2VuZGlmXG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgdGFibGUgc2l6ZXMgb2tcXG5cIikpO1xuICAgICAgICBzdGF0ZS5oYXZlID0gMDtcbiAgICAgICAgc3RhdGUubW9kZSA9IExFTkxFTlM7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTEVOTEVOUzpcbiAgICAgICAgd2hpbGUgKHN0YXRlLmhhdmUgPCBzdGF0ZS5uY29kZSkge1xuICAgICAgICAgIC8vPT09IE5FRURCSVRTKDMpO1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgMykge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIHN0YXRlLmxlbnNbb3JkZXJbc3RhdGUuaGF2ZSsrXV0gPSAoaG9sZCAmIDB4MDcpOy8vQklUUygzKTtcbiAgICAgICAgICAvLy0tLSBEUk9QQklUUygzKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSAzO1xuICAgICAgICAgIGJpdHMgLT0gMztcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHN0YXRlLmhhdmUgPCAxOSkge1xuICAgICAgICAgIHN0YXRlLmxlbnNbb3JkZXJbc3RhdGUuaGF2ZSsrXV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGhhdmUgc2VwYXJhdGUgdGFibGVzICYgbm8gcG9pbnRlcnMuIDIgY29tbWVudGVkIGxpbmVzIGJlbG93IG5vdCBuZWVkZWQuXG4gICAgICAgIC8vc3RhdGUubmV4dCA9IHN0YXRlLmNvZGVzO1xuICAgICAgICAvL3N0YXRlLmxlbmNvZGUgPSBzdGF0ZS5uZXh0O1xuICAgICAgICAvLyBTd2l0Y2ggdG8gdXNlIGR5bmFtaWMgdGFibGVcbiAgICAgICAgc3RhdGUubGVuY29kZSA9IHN0YXRlLmxlbmR5bjtcbiAgICAgICAgc3RhdGUubGVuYml0cyA9IDc7XG5cbiAgICAgICAgb3B0cyA9IHsgYml0czogc3RhdGUubGVuYml0cyB9O1xuICAgICAgICByZXQgPSBpbmZ0cmVlcyhDT0RFUywgc3RhdGUubGVucywgMCwgMTksIHN0YXRlLmxlbmNvZGUsIDAsIHN0YXRlLndvcmssIG9wdHMpO1xuICAgICAgICBzdGF0ZS5sZW5iaXRzID0gb3B0cy5iaXRzO1xuXG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGNvZGUgbGVuZ3RocyBzZXQnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICBjb2RlIGxlbmd0aHMgb2tcXG5cIikpO1xuICAgICAgICBzdGF0ZS5oYXZlID0gMDtcbiAgICAgICAgc3RhdGUubW9kZSA9IENPREVMRU5TO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIENPREVMRU5TOlxuICAgICAgICB3aGlsZSAoc3RhdGUuaGF2ZSA8IHN0YXRlLm5sZW4gKyBzdGF0ZS5uZGlzdCkge1xuICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGhlcmUgPSBzdGF0ZS5sZW5jb2RlW2hvbGQgJiAoKDEgPDwgc3RhdGUubGVuYml0cykgLSAxKV07LypCSVRTKHN0YXRlLmxlbmJpdHMpKi9cbiAgICAgICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICAgICAgaGVyZV9vcCA9IChoZXJlID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgICAgICBpZiAoKGhlcmVfYml0cykgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhlcmVfdmFsIDwgMTYpIHtcbiAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgIHN0YXRlLmxlbnNbc3RhdGUuaGF2ZSsrXSA9IGhlcmVfdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChoZXJlX3ZhbCA9PT0gMTYpIHtcbiAgICAgICAgICAgICAgLy89PT0gTkVFREJJVFMoaGVyZS5iaXRzICsgMik7XG4gICAgICAgICAgICAgIG4gPSBoZXJlX2JpdHMgKyAyO1xuICAgICAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgICBpZiAoc3RhdGUuaGF2ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgYml0IGxlbmd0aCByZXBlYXQnO1xuICAgICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGVuID0gc3RhdGUubGVuc1tzdGF0ZS5oYXZlIC0gMV07XG4gICAgICAgICAgICAgIGNvcHkgPSAzICsgKGhvbGQgJiAweDAzKTsvL0JJVFMoMik7XG4gICAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKDIpIC0tLS8vXG4gICAgICAgICAgICAgIGhvbGQgPj4+PSAyO1xuICAgICAgICAgICAgICBiaXRzIC09IDI7XG4gICAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhlcmVfdmFsID09PSAxNykge1xuICAgICAgICAgICAgICAvLz09PSBORUVEQklUUyhoZXJlLmJpdHMgKyAzKTtcbiAgICAgICAgICAgICAgbiA9IGhlcmVfYml0cyArIDM7XG4gICAgICAgICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy89PT0vL1xuICAgICAgICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICAgIGxlbiA9IDA7XG4gICAgICAgICAgICAgIGNvcHkgPSAzICsgKGhvbGQgJiAweDA3KTsvL0JJVFMoMyk7XG4gICAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKDMpIC0tLS8vXG4gICAgICAgICAgICAgIGhvbGQgPj4+PSAzO1xuICAgICAgICAgICAgICBiaXRzIC09IDM7XG4gICAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAvLz09PSBORUVEQklUUyhoZXJlLmJpdHMgKyA3KTtcbiAgICAgICAgICAgICAgbiA9IGhlcmVfYml0cyArIDc7XG4gICAgICAgICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy89PT0vL1xuICAgICAgICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICAgIGxlbiA9IDA7XG4gICAgICAgICAgICAgIGNvcHkgPSAxMSArIChob2xkICYgMHg3Zik7Ly9CSVRTKDcpO1xuICAgICAgICAgICAgICAvLy0tLSBEUk9QQklUUyg3KSAtLS0vL1xuICAgICAgICAgICAgICBob2xkID4+Pj0gNztcbiAgICAgICAgICAgICAgYml0cyAtPSA3O1xuICAgICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhdGUuaGF2ZSArIGNvcHkgPiBzdGF0ZS5ubGVuICsgc3RhdGUubmRpc3QpIHtcbiAgICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdCc7XG4gICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGNvcHktLSkge1xuICAgICAgICAgICAgICBzdGF0ZS5sZW5zW3N0YXRlLmhhdmUrK10gPSBsZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyogaGFuZGxlIGVycm9yIGJyZWFrcyBpbiB3aGlsZSAqL1xuICAgICAgICBpZiAoc3RhdGUubW9kZSA9PT0gQkFEKSB7IGJyZWFrOyB9XG5cbiAgICAgICAgLyogY2hlY2sgZm9yIGVuZC1vZi1ibG9jayBjb2RlIChiZXR0ZXIgaGF2ZSBvbmUpICovXG4gICAgICAgIGlmIChzdGF0ZS5sZW5zWzI1Nl0gPT09IDApIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGNvZGUgLS0gbWlzc2luZyBlbmQtb2YtYmxvY2snO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBidWlsZCBjb2RlIHRhYmxlcyAtLSBub3RlOiBkbyBub3QgY2hhbmdlIHRoZSBsZW5iaXRzIG9yIGRpc3RiaXRzXG4gICAgICAgICAgIHZhbHVlcyBoZXJlICg5IGFuZCA2KSB3aXRob3V0IHJlYWRpbmcgdGhlIGNvbW1lbnRzIGluIGluZnRyZWVzLmhcbiAgICAgICAgICAgY29uY2VybmluZyB0aGUgRU5PVUdIIGNvbnN0YW50cywgd2hpY2ggZGVwZW5kIG9uIHRob3NlIHZhbHVlcyAqL1xuICAgICAgICBzdGF0ZS5sZW5iaXRzID0gOTtcblxuICAgICAgICBvcHRzID0geyBiaXRzOiBzdGF0ZS5sZW5iaXRzIH07XG4gICAgICAgIHJldCA9IGluZnRyZWVzKExFTlMsIHN0YXRlLmxlbnMsIDAsIHN0YXRlLm5sZW4sIHN0YXRlLmxlbmNvZGUsIDAsIHN0YXRlLndvcmssIG9wdHMpO1xuICAgICAgICAvLyBXZSBoYXZlIHNlcGFyYXRlIHRhYmxlcyAmIG5vIHBvaW50ZXJzLiAyIGNvbW1lbnRlZCBsaW5lcyBiZWxvdyBub3QgbmVlZGVkLlxuICAgICAgICAvLyBzdGF0ZS5uZXh0X2luZGV4ID0gb3B0cy50YWJsZV9pbmRleDtcbiAgICAgICAgc3RhdGUubGVuYml0cyA9IG9wdHMuYml0cztcbiAgICAgICAgLy8gc3RhdGUubGVuY29kZSA9IHN0YXRlLm5leHQ7XG5cbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldCc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLmRpc3RiaXRzID0gNjtcbiAgICAgICAgLy9zdGF0ZS5kaXN0Y29kZS5jb3B5KHN0YXRlLmNvZGVzKTtcbiAgICAgICAgLy8gU3dpdGNoIHRvIHVzZSBkeW5hbWljIHRhYmxlXG4gICAgICAgIHN0YXRlLmRpc3Rjb2RlID0gc3RhdGUuZGlzdGR5bjtcbiAgICAgICAgb3B0cyA9IHsgYml0czogc3RhdGUuZGlzdGJpdHMgfTtcbiAgICAgICAgcmV0ID0gaW5mdHJlZXMoRElTVFMsIHN0YXRlLmxlbnMsIHN0YXRlLm5sZW4sIHN0YXRlLm5kaXN0LCBzdGF0ZS5kaXN0Y29kZSwgMCwgc3RhdGUud29yaywgb3B0cyk7XG4gICAgICAgIC8vIFdlIGhhdmUgc2VwYXJhdGUgdGFibGVzICYgbm8gcG9pbnRlcnMuIDIgY29tbWVudGVkIGxpbmVzIGJlbG93IG5vdCBuZWVkZWQuXG4gICAgICAgIC8vIHN0YXRlLm5leHRfaW5kZXggPSBvcHRzLnRhYmxlX2luZGV4O1xuICAgICAgICBzdGF0ZS5kaXN0Yml0cyA9IG9wdHMuYml0cztcbiAgICAgICAgLy8gc3RhdGUuZGlzdGNvZGUgPSBzdGF0ZS5uZXh0O1xuXG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlcyBzZXQnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgJ2luZmxhdGU6ICAgICAgIGNvZGVzIG9rXFxuJykpO1xuICAgICAgICBzdGF0ZS5tb2RlID0gTEVOXztcbiAgICAgICAgaWYgKGZsdXNoID09PSBaX1RSRUVTKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIExFTl86XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMRU47XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTEVOOlxuICAgICAgICBpZiAoaGF2ZSA+PSA2ICYmIGxlZnQgPj0gMjU4KSB7XG4gICAgICAgICAgLy8tLS0gUkVTVE9SRSgpIC0tLVxuICAgICAgICAgIHN0cm0ubmV4dF9vdXQgPSBwdXQ7XG4gICAgICAgICAgc3RybS5hdmFpbF9vdXQgPSBsZWZ0O1xuICAgICAgICAgIHN0cm0ubmV4dF9pbiA9IG5leHQ7XG4gICAgICAgICAgc3RybS5hdmFpbF9pbiA9IGhhdmU7XG4gICAgICAgICAgc3RhdGUuaG9sZCA9IGhvbGQ7XG4gICAgICAgICAgc3RhdGUuYml0cyA9IGJpdHM7XG4gICAgICAgICAgLy8tLS1cbiAgICAgICAgICBpbmZmYXN0KHN0cm0sIF9vdXQpO1xuICAgICAgICAgIC8vLS0tIExPQUQoKSAtLS1cbiAgICAgICAgICBwdXQgPSBzdHJtLm5leHRfb3V0O1xuICAgICAgICAgIG91dHB1dCA9IHN0cm0ub3V0cHV0O1xuICAgICAgICAgIGxlZnQgPSBzdHJtLmF2YWlsX291dDtcbiAgICAgICAgICBuZXh0ID0gc3RybS5uZXh0X2luO1xuICAgICAgICAgIGlucHV0ID0gc3RybS5pbnB1dDtcbiAgICAgICAgICBoYXZlID0gc3RybS5hdmFpbF9pbjtcbiAgICAgICAgICBob2xkID0gc3RhdGUuaG9sZDtcbiAgICAgICAgICBiaXRzID0gc3RhdGUuYml0cztcbiAgICAgICAgICAvLy0tLVxuXG4gICAgICAgICAgaWYgKHN0YXRlLm1vZGUgPT09IFRZUEUpIHtcbiAgICAgICAgICAgIHN0YXRlLmJhY2sgPSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuYmFjayA9IDA7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICBoZXJlID0gc3RhdGUubGVuY29kZVtob2xkICYgKCgxIDw8IHN0YXRlLmxlbmJpdHMpIC0gMSldOyAgLypCSVRTKHN0YXRlLmxlbmJpdHMpKi9cbiAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgICAgaWYgKGhlcmVfYml0cyA8PSBiaXRzKSB7IGJyZWFrOyB9XG4gICAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZXJlX29wICYmIChoZXJlX29wICYgMHhmMCkgPT09IDApIHtcbiAgICAgICAgICBsYXN0X2JpdHMgPSBoZXJlX2JpdHM7XG4gICAgICAgICAgbGFzdF9vcCA9IGhlcmVfb3A7XG4gICAgICAgICAgbGFzdF92YWwgPSBoZXJlX3ZhbDtcbiAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBoZXJlID0gc3RhdGUubGVuY29kZVtsYXN0X3ZhbCArXG4gICAgICAgICAgICAgICAgICAgICgoaG9sZCAmICgoMSA8PCAobGFzdF9iaXRzICsgbGFzdF9vcCkpIC0gMSkpLypCSVRTKGxhc3QuYml0cyArIGxhc3Qub3ApKi8gPj4gbGFzdF9iaXRzKV07XG4gICAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICAgICAgaWYgKChsYXN0X2JpdHMgKyBoZXJlX2JpdHMpIDw9IGJpdHMpIHsgYnJlYWs7IH1cbiAgICAgICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgfVxuICAgICAgICAgIC8vLS0tIERST1BCSVRTKGxhc3QuYml0cykgLS0tLy9cbiAgICAgICAgICBob2xkID4+Pj0gbGFzdF9iaXRzO1xuICAgICAgICAgIGJpdHMgLT0gbGFzdF9iaXRzO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBzdGF0ZS5iYWNrICs9IGxhc3RfYml0cztcbiAgICAgICAgfVxuICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLmJhY2sgKz0gaGVyZV9iaXRzO1xuICAgICAgICBzdGF0ZS5sZW5ndGggPSBoZXJlX3ZhbDtcbiAgICAgICAgaWYgKGhlcmVfb3AgPT09IDApIHtcbiAgICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgaGVyZS52YWwgPj0gMHgyMCAmJiBoZXJlLnZhbCA8IDB4N2YgP1xuICAgICAgICAgIC8vICAgICAgICBcImluZmxhdGU6ICAgICAgICAgbGl0ZXJhbCAnJWMnXFxuXCIgOlxuICAgICAgICAgIC8vICAgICAgICBcImluZmxhdGU6ICAgICAgICAgbGl0ZXJhbCAweCUwMnhcXG5cIiwgaGVyZS52YWwpKTtcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gTElUO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZXJlX29wICYgMzIpIHtcbiAgICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGVuZCBvZiBibG9ja1xcblwiKSk7XG4gICAgICAgICAgc3RhdGUuYmFjayA9IC0xO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZXJlX29wICYgNjQpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGUnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuZXh0cmEgPSBoZXJlX29wICYgMTU7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMRU5FWFQ7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTEVORVhUOlxuICAgICAgICBpZiAoc3RhdGUuZXh0cmEpIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUyhzdGF0ZS5leHRyYSk7XG4gICAgICAgICAgbiA9IHN0YXRlLmV4dHJhO1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIHN0YXRlLmxlbmd0aCArPSBob2xkICYgKCgxIDw8IHN0YXRlLmV4dHJhKSAtIDEpLypCSVRTKHN0YXRlLmV4dHJhKSovO1xuICAgICAgICAgIC8vLS0tIERST1BCSVRTKHN0YXRlLmV4dHJhKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSBzdGF0ZS5leHRyYTtcbiAgICAgICAgICBiaXRzIC09IHN0YXRlLmV4dHJhO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBzdGF0ZS5iYWNrICs9IHN0YXRlLmV4dHJhO1xuICAgICAgICB9XG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgbGVuZ3RoICV1XFxuXCIsIHN0YXRlLmxlbmd0aCkpO1xuICAgICAgICBzdGF0ZS53YXMgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBESVNUO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIERJU1Q6XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICBoZXJlID0gc3RhdGUuZGlzdGNvZGVbaG9sZCAmICgoMSA8PCBzdGF0ZS5kaXN0Yml0cykgLSAxKV07LypCSVRTKHN0YXRlLmRpc3RiaXRzKSovXG4gICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgaGVyZV9vcCA9IChoZXJlID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICAgIGlmICgoaGVyZV9iaXRzKSA8PSBiaXRzKSB7IGJyZWFrOyB9XG4gICAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7IGJyZWFrIGluZl9sZWF2ZTsgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICB9XG4gICAgICAgIGlmICgoaGVyZV9vcCAmIDB4ZjApID09PSAwKSB7XG4gICAgICAgICAgbGFzdF9iaXRzID0gaGVyZV9iaXRzO1xuICAgICAgICAgIGxhc3Rfb3AgPSBoZXJlX29wO1xuICAgICAgICAgIGxhc3RfdmFsID0gaGVyZV92YWw7XG4gICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaGVyZSA9IHN0YXRlLmRpc3Rjb2RlW2xhc3RfdmFsICtcbiAgICAgICAgICAgICAgICAgICAgKChob2xkICYgKCgxIDw8IChsYXN0X2JpdHMgKyBsYXN0X29wKSkgLSAxKSkvKkJJVFMobGFzdC5iaXRzICsgbGFzdC5vcCkqLyA+PiBsYXN0X2JpdHMpXTtcbiAgICAgICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICAgICAgaGVyZV9vcCA9IChoZXJlID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgICAgICBpZiAoKGxhc3RfYml0cyArIGhlcmVfYml0cykgPD0gYml0cykgeyBicmVhazsgfVxuICAgICAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8tLS0gRFJPUEJJVFMobGFzdC5iaXRzKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSBsYXN0X2JpdHM7XG4gICAgICAgICAgYml0cyAtPSBsYXN0X2JpdHM7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIHN0YXRlLmJhY2sgKz0gbGFzdF9iaXRzO1xuICAgICAgICB9XG4gICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUuYmFjayArPSBoZXJlX2JpdHM7XG4gICAgICAgIGlmIChoZXJlX29wICYgNjQpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIGNvZGUnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUub2Zmc2V0ID0gaGVyZV92YWw7XG4gICAgICAgIHN0YXRlLmV4dHJhID0gKGhlcmVfb3ApICYgMTU7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBESVNURVhUO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIERJU1RFWFQ6XG4gICAgICAgIGlmIChzdGF0ZS5leHRyYSkge1xuICAgICAgICAgIC8vPT09IE5FRURCSVRTKHN0YXRlLmV4dHJhKTtcbiAgICAgICAgICBuID0gc3RhdGUuZXh0cmE7XG4gICAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgc3RhdGUub2Zmc2V0ICs9IGhvbGQgJiAoKDEgPDwgc3RhdGUuZXh0cmEpIC0gMSkvKkJJVFMoc3RhdGUuZXh0cmEpKi87XG4gICAgICAgICAgLy8tLS0gRFJPUEJJVFMoc3RhdGUuZXh0cmEpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IHN0YXRlLmV4dHJhO1xuICAgICAgICAgIGJpdHMgLT0gc3RhdGUuZXh0cmE7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgIHN0YXRlLmJhY2sgKz0gc3RhdGUuZXh0cmE7XG4gICAgICAgIH1cbi8vI2lmZGVmIElORkxBVEVfU1RSSUNUXG4gICAgICAgIGlmIChzdGF0ZS5vZmZzZXQgPiBzdGF0ZS5kbWF4KSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2snO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbi8vI2VuZGlmXG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgZGlzdGFuY2UgJXVcXG5cIiwgc3RhdGUub2Zmc2V0KSk7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBNQVRDSDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBNQVRDSDpcbiAgICAgICAgaWYgKGxlZnQgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIGNvcHkgPSBfb3V0IC0gbGVmdDtcbiAgICAgICAgaWYgKHN0YXRlLm9mZnNldCA+IGNvcHkpIHsgICAgICAgICAvKiBjb3B5IGZyb20gd2luZG93ICovXG4gICAgICAgICAgY29weSA9IHN0YXRlLm9mZnNldCAtIGNvcHk7XG4gICAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS53aGF2ZSkge1xuICAgICAgICAgICAgaWYgKHN0YXRlLnNhbmUpIHtcbiAgICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2snO1xuICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbi8vICghKSBUaGlzIGJsb2NrIGlzIGRpc2FibGVkIGluIHpsaWIgZGVmYXVsdHMsXG4vLyBkb24ndCBlbmFibGUgaXQgZm9yIGJpbmFyeSBjb21wYXRpYmlsaXR5XG4vLyNpZmRlZiBJTkZMQVRFX0FMTE9XX0lOVkFMSURfRElTVEFOQ0VfVE9PRkFSX0FSUlJcbi8vICAgICAgICAgIFRyYWNlKChzdGRlcnIsIFwiaW5mbGF0ZS5jIHRvbyBmYXJcXG5cIikpO1xuLy8gICAgICAgICAgY29weSAtPSBzdGF0ZS53aGF2ZTtcbi8vICAgICAgICAgIGlmIChjb3B5ID4gc3RhdGUubGVuZ3RoKSB7IGNvcHkgPSBzdGF0ZS5sZW5ndGg7IH1cbi8vICAgICAgICAgIGlmIChjb3B5ID4gbGVmdCkgeyBjb3B5ID0gbGVmdDsgfVxuLy8gICAgICAgICAgbGVmdCAtPSBjb3B5O1xuLy8gICAgICAgICAgc3RhdGUubGVuZ3RoIC09IGNvcHk7XG4vLyAgICAgICAgICBkbyB7XG4vLyAgICAgICAgICAgIG91dHB1dFtwdXQrK10gPSAwO1xuLy8gICAgICAgICAgfSB3aGlsZSAoLS1jb3B5KTtcbi8vICAgICAgICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHsgc3RhdGUubW9kZSA9IExFTjsgfVxuLy8gICAgICAgICAgYnJlYWs7XG4vLyNlbmRpZlxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29weSA+IHN0YXRlLnduZXh0KSB7XG4gICAgICAgICAgICBjb3B5IC09IHN0YXRlLnduZXh0O1xuICAgICAgICAgICAgZnJvbSA9IHN0YXRlLndzaXplIC0gY29weTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmcm9tID0gc3RhdGUud25leHQgLSBjb3B5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29weSA+IHN0YXRlLmxlbmd0aCkgeyBjb3B5ID0gc3RhdGUubGVuZ3RoOyB9XG4gICAgICAgICAgZnJvbV9zb3VyY2UgPSBzdGF0ZS53aW5kb3c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogY29weSBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgIGZyb21fc291cmNlID0gb3V0cHV0O1xuICAgICAgICAgIGZyb20gPSBwdXQgLSBzdGF0ZS5vZmZzZXQ7XG4gICAgICAgICAgY29weSA9IHN0YXRlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29weSA+IGxlZnQpIHsgY29weSA9IGxlZnQ7IH1cbiAgICAgICAgbGVmdCAtPSBjb3B5O1xuICAgICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIG91dHB1dFtwdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICB9IHdoaWxlICgtLWNvcHkpO1xuICAgICAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSB7IHN0YXRlLm1vZGUgPSBMRU47IH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIExJVDpcbiAgICAgICAgaWYgKGxlZnQgPT09IDApIHsgYnJlYWsgaW5mX2xlYXZlOyB9XG4gICAgICAgIG91dHB1dFtwdXQrK10gPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIGxlZnQtLTtcbiAgICAgICAgc3RhdGUubW9kZSA9IExFTjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENIRUNLOlxuICAgICAgICBpZiAoc3RhdGUud3JhcCkge1xuICAgICAgICAgIC8vPT09IE5FRURCSVRTKDMyKTtcbiAgICAgICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIC8vIFVzZSAnfCcgaW5zdGVhZCBvZiAnKycgdG8gbWFrZSBzdXJlIHRoYXQgcmVzdWx0IGlzIHNpZ25lZFxuICAgICAgICAgICAgaG9sZCB8PSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBfb3V0IC09IGxlZnQ7XG4gICAgICAgICAgc3RybS50b3RhbF9vdXQgKz0gX291dDtcbiAgICAgICAgICBzdGF0ZS50b3RhbCArPSBfb3V0O1xuICAgICAgICAgIGlmICgoc3RhdGUud3JhcCAmIDQpICYmIF9vdXQpIHtcbiAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9XG4gICAgICAgICAgICAgICAgLypVUERBVEVfQ0hFQ0soc3RhdGUuY2hlY2ssIHB1dCAtIF9vdXQsIF9vdXQpOyovXG4gICAgICAgICAgICAgICAgKHN0YXRlLmZsYWdzID8gY3JjMzJfMShzdGF0ZS5jaGVjaywgb3V0cHV0LCBfb3V0LCBwdXQgLSBfb3V0KSA6IGFkbGVyMzJfMShzdGF0ZS5jaGVjaywgb3V0cHV0LCBfb3V0LCBwdXQgLSBfb3V0KSk7XG5cbiAgICAgICAgICB9XG4gICAgICAgICAgX291dCA9IGxlZnQ7XG4gICAgICAgICAgLy8gTkI6IGNyYzMyIHN0b3JlZCBhcyBzaWduZWQgMzItYml0IGludCwgenN3YXAzMiByZXR1cm5zIHNpZ25lZCB0b29cbiAgICAgICAgICBpZiAoKHN0YXRlLndyYXAgJiA0KSAmJiAoc3RhdGUuZmxhZ3MgPyBob2xkIDogenN3YXAzMihob2xkKSkgIT09IHN0YXRlLmNoZWNrKSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbmNvcnJlY3QgZGF0YSBjaGVjayc7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgICAgYml0cyA9IDA7XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICBjaGVjayBtYXRjaGVzIHRyYWlsZXJcXG5cIikpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMRU5HVEg7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTEVOR1RIOlxuICAgICAgICBpZiAoc3RhdGUud3JhcCAmJiBzdGF0ZS5mbGFncykge1xuICAgICAgICAgIC8vPT09IE5FRURCSVRTKDMyKTtcbiAgICAgICAgICB3aGlsZSAoYml0cyA8IDMyKSB7XG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkgeyBicmVhayBpbmZfbGVhdmU7IH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgaWYgKChzdGF0ZS53cmFwICYgNCkgJiYgaG9sZCAhPT0gKHN0YXRlLnRvdGFsICYgMHhmZmZmZmZmZikpIHtcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2luY29ycmVjdCBsZW5ndGggY2hlY2snO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICAgIGhvbGQgPSAwO1xuICAgICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgbGVuZ3RoIG1hdGNoZXMgdHJhaWxlclxcblwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubW9kZSA9IERPTkU7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgRE9ORTpcbiAgICAgICAgcmV0ID0gWl9TVFJFQU1fRU5EJDE7XG4gICAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICAgIGNhc2UgQkFEOlxuICAgICAgICByZXQgPSBaX0RBVEFfRVJST1IkMTtcbiAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgY2FzZSBNRU06XG4gICAgICAgIHJldHVybiBaX01FTV9FUlJPUiQxO1xuICAgICAgY2FzZSBTWU5DOlxuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gWl9TVFJFQU1fRVJST1IkMTtcbiAgICB9XG4gIH1cblxuICAvLyBpbmZfbGVhdmUgPC0gaGVyZSBpcyByZWFsIHBsYWNlIGZvciBcImdvdG8gaW5mX2xlYXZlXCIsIGVtdWxhdGVkIHZpYSBcImJyZWFrIGluZl9sZWF2ZVwiXG5cbiAgLypcbiAgICAgUmV0dXJuIGZyb20gaW5mbGF0ZSgpLCB1cGRhdGluZyB0aGUgdG90YWwgY291bnRzIGFuZCB0aGUgY2hlY2sgdmFsdWUuXG4gICAgIElmIHRoZXJlIHdhcyBubyBwcm9ncmVzcyBkdXJpbmcgdGhlIGluZmxhdGUoKSBjYWxsLCByZXR1cm4gYSBidWZmZXJcbiAgICAgZXJyb3IuICBDYWxsIHVwZGF0ZXdpbmRvdygpIHRvIGNyZWF0ZSBhbmQvb3IgdXBkYXRlIHRoZSB3aW5kb3cgc3RhdGUuXG4gICAgIE5vdGU6IGEgbWVtb3J5IGVycm9yIGZyb20gaW5mbGF0ZSgpIGlzIG5vbi1yZWNvdmVyYWJsZS5cbiAgICovXG5cbiAgLy8tLS0gUkVTVE9SRSgpIC0tLVxuICBzdHJtLm5leHRfb3V0ID0gcHV0O1xuICBzdHJtLmF2YWlsX291dCA9IGxlZnQ7XG4gIHN0cm0ubmV4dF9pbiA9IG5leHQ7XG4gIHN0cm0uYXZhaWxfaW4gPSBoYXZlO1xuICBzdGF0ZS5ob2xkID0gaG9sZDtcbiAgc3RhdGUuYml0cyA9IGJpdHM7XG4gIC8vLS0tXG5cbiAgaWYgKHN0YXRlLndzaXplIHx8IChfb3V0ICE9PSBzdHJtLmF2YWlsX291dCAmJiBzdGF0ZS5tb2RlIDwgQkFEICYmXG4gICAgICAgICAgICAgICAgICAgICAgKHN0YXRlLm1vZGUgPCBDSEVDSyB8fCBmbHVzaCAhPT0gWl9GSU5JU0gkMSkpKSB7XG4gICAgaWYgKHVwZGF0ZXdpbmRvdyhzdHJtLCBzdHJtLm91dHB1dCwgc3RybS5uZXh0X291dCwgX291dCAtIHN0cm0uYXZhaWxfb3V0KSkgO1xuICB9XG4gIF9pbiAtPSBzdHJtLmF2YWlsX2luO1xuICBfb3V0IC09IHN0cm0uYXZhaWxfb3V0O1xuICBzdHJtLnRvdGFsX2luICs9IF9pbjtcbiAgc3RybS50b3RhbF9vdXQgKz0gX291dDtcbiAgc3RhdGUudG90YWwgKz0gX291dDtcbiAgaWYgKChzdGF0ZS53cmFwICYgNCkgJiYgX291dCkge1xuICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IC8qVVBEQVRFX0NIRUNLKHN0YXRlLmNoZWNrLCBzdHJtLm5leHRfb3V0IC0gX291dCwgX291dCk7Ki9cbiAgICAgIChzdGF0ZS5mbGFncyA/IGNyYzMyXzEoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgc3RybS5uZXh0X291dCAtIF9vdXQpIDogYWRsZXIzMl8xKHN0YXRlLmNoZWNrLCBvdXRwdXQsIF9vdXQsIHN0cm0ubmV4dF9vdXQgLSBfb3V0KSk7XG4gIH1cbiAgc3RybS5kYXRhX3R5cGUgPSBzdGF0ZS5iaXRzICsgKHN0YXRlLmxhc3QgPyA2NCA6IDApICtcbiAgICAgICAgICAgICAgICAgICAgKHN0YXRlLm1vZGUgPT09IFRZUEUgPyAxMjggOiAwKSArXG4gICAgICAgICAgICAgICAgICAgIChzdGF0ZS5tb2RlID09PSBMRU5fIHx8IHN0YXRlLm1vZGUgPT09IENPUFlfID8gMjU2IDogMCk7XG4gIGlmICgoKF9pbiA9PT0gMCAmJiBfb3V0ID09PSAwKSB8fCBmbHVzaCA9PT0gWl9GSU5JU0gkMSkgJiYgcmV0ID09PSBaX09LJDEpIHtcbiAgICByZXQgPSBaX0JVRl9FUlJPUjtcbiAgfVxuICByZXR1cm4gcmV0O1xufTtcblxuXG5jb25zdCBpbmZsYXRlRW5kID0gKHN0cm0pID0+IHtcblxuICBpZiAoaW5mbGF0ZVN0YXRlQ2hlY2soc3RybSkpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1IkMTtcbiAgfVxuXG4gIGxldCBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIGlmIChzdGF0ZS53aW5kb3cpIHtcbiAgICBzdGF0ZS53aW5kb3cgPSBudWxsO1xuICB9XG4gIHN0cm0uc3RhdGUgPSBudWxsO1xuICByZXR1cm4gWl9PSyQxO1xufTtcblxuXG5jb25zdCBpbmZsYXRlR2V0SGVhZGVyID0gKHN0cm0sIGhlYWQpID0+IHtcblxuICAvKiBjaGVjayBzdGF0ZSAqL1xuICBpZiAoaW5mbGF0ZVN0YXRlQ2hlY2soc3RybSkpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDE7IH1cbiAgY29uc3Qgc3RhdGUgPSBzdHJtLnN0YXRlO1xuICBpZiAoKHN0YXRlLndyYXAgJiAyKSA9PT0gMCkgeyByZXR1cm4gWl9TVFJFQU1fRVJST1IkMTsgfVxuXG4gIC8qIHNhdmUgaGVhZGVyIHN0cnVjdHVyZSAqL1xuICBzdGF0ZS5oZWFkID0gaGVhZDtcbiAgaGVhZC5kb25lID0gZmFsc2U7XG4gIHJldHVybiBaX09LJDE7XG59O1xuXG5cbmNvbnN0IGluZmxhdGVTZXREaWN0aW9uYXJ5ID0gKHN0cm0sIGRpY3Rpb25hcnkpID0+IHtcbiAgY29uc3QgZGljdExlbmd0aCA9IGRpY3Rpb25hcnkubGVuZ3RoO1xuXG4gIGxldCBzdGF0ZTtcbiAgbGV0IGRpY3RpZDtcbiAgbGV0IHJldDtcblxuICAvKiBjaGVjayBzdGF0ZSAqL1xuICBpZiAoaW5mbGF0ZVN0YXRlQ2hlY2soc3RybSkpIHsgcmV0dXJuIFpfU1RSRUFNX0VSUk9SJDE7IH1cbiAgc3RhdGUgPSBzdHJtLnN0YXRlO1xuXG4gIGlmIChzdGF0ZS53cmFwICE9PSAwICYmIHN0YXRlLm1vZGUgIT09IERJQ1QpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1IkMTtcbiAgfVxuXG4gIC8qIGNoZWNrIGZvciBjb3JyZWN0IGRpY3Rpb25hcnkgaWRlbnRpZmllciAqL1xuICBpZiAoc3RhdGUubW9kZSA9PT0gRElDVCkge1xuICAgIGRpY3RpZCA9IDE7IC8qIGFkbGVyMzIoMCwgbnVsbCwgMCkqL1xuICAgIC8qIGRpY3RpZCA9IGFkbGVyMzIoZGljdGlkLCBkaWN0aW9uYXJ5LCBkaWN0TGVuZ3RoKTsgKi9cbiAgICBkaWN0aWQgPSBhZGxlcjMyXzEoZGljdGlkLCBkaWN0aW9uYXJ5LCBkaWN0TGVuZ3RoLCAwKTtcbiAgICBpZiAoZGljdGlkICE9PSBzdGF0ZS5jaGVjaykge1xuICAgICAgcmV0dXJuIFpfREFUQV9FUlJPUiQxO1xuICAgIH1cbiAgfVxuICAvKiBjb3B5IGRpY3Rpb25hcnkgdG8gd2luZG93IHVzaW5nIHVwZGF0ZXdpbmRvdygpLCB3aGljaCB3aWxsIGFtZW5kIHRoZVxuICAgZXhpc3RpbmcgZGljdGlvbmFyeSBpZiBhcHByb3ByaWF0ZSAqL1xuICByZXQgPSB1cGRhdGV3aW5kb3coc3RybSwgZGljdGlvbmFyeSwgZGljdExlbmd0aCwgZGljdExlbmd0aCk7XG4gIGlmIChyZXQpIHtcbiAgICBzdGF0ZS5tb2RlID0gTUVNO1xuICAgIHJldHVybiBaX01FTV9FUlJPUiQxO1xuICB9XG4gIHN0YXRlLmhhdmVkaWN0ID0gMTtcbiAgLy8gVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICBkaWN0aW9uYXJ5IHNldFxcblwiKSk7XG4gIHJldHVybiBaX09LJDE7XG59O1xuXG5cbnZhciBpbmZsYXRlUmVzZXRfMSA9IGluZmxhdGVSZXNldDtcbnZhciBpbmZsYXRlUmVzZXQyXzEgPSBpbmZsYXRlUmVzZXQyO1xudmFyIGluZmxhdGVSZXNldEtlZXBfMSA9IGluZmxhdGVSZXNldEtlZXA7XG52YXIgaW5mbGF0ZUluaXRfMSA9IGluZmxhdGVJbml0O1xudmFyIGluZmxhdGVJbml0Ml8xID0gaW5mbGF0ZUluaXQyO1xudmFyIGluZmxhdGVfMiQxID0gaW5mbGF0ZSQyO1xudmFyIGluZmxhdGVFbmRfMSA9IGluZmxhdGVFbmQ7XG52YXIgaW5mbGF0ZUdldEhlYWRlcl8xID0gaW5mbGF0ZUdldEhlYWRlcjtcbnZhciBpbmZsYXRlU2V0RGljdGlvbmFyeV8xID0gaW5mbGF0ZVNldERpY3Rpb25hcnk7XG52YXIgaW5mbGF0ZUluZm8gPSAncGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSc7XG5cbi8qIE5vdCBpbXBsZW1lbnRlZFxubW9kdWxlLmV4cG9ydHMuaW5mbGF0ZUNvZGVzVXNlZCA9IGluZmxhdGVDb2Rlc1VzZWQ7XG5tb2R1bGUuZXhwb3J0cy5pbmZsYXRlQ29weSA9IGluZmxhdGVDb3B5O1xubW9kdWxlLmV4cG9ydHMuaW5mbGF0ZUdldERpY3Rpb25hcnkgPSBpbmZsYXRlR2V0RGljdGlvbmFyeTtcbm1vZHVsZS5leHBvcnRzLmluZmxhdGVNYXJrID0gaW5mbGF0ZU1hcms7XG5tb2R1bGUuZXhwb3J0cy5pbmZsYXRlUHJpbWUgPSBpbmZsYXRlUHJpbWU7XG5tb2R1bGUuZXhwb3J0cy5pbmZsYXRlU3luYyA9IGluZmxhdGVTeW5jO1xubW9kdWxlLmV4cG9ydHMuaW5mbGF0ZVN5bmNQb2ludCA9IGluZmxhdGVTeW5jUG9pbnQ7XG5tb2R1bGUuZXhwb3J0cy5pbmZsYXRlVW5kZXJtaW5lID0gaW5mbGF0ZVVuZGVybWluZTtcbm1vZHVsZS5leHBvcnRzLmluZmxhdGVWYWxpZGF0ZSA9IGluZmxhdGVWYWxpZGF0ZTtcbiovXG5cbnZhciBpbmZsYXRlXzEkMiA9IHtcblx0aW5mbGF0ZVJlc2V0OiBpbmZsYXRlUmVzZXRfMSxcblx0aW5mbGF0ZVJlc2V0MjogaW5mbGF0ZVJlc2V0Ml8xLFxuXHRpbmZsYXRlUmVzZXRLZWVwOiBpbmZsYXRlUmVzZXRLZWVwXzEsXG5cdGluZmxhdGVJbml0OiBpbmZsYXRlSW5pdF8xLFxuXHRpbmZsYXRlSW5pdDI6IGluZmxhdGVJbml0Ml8xLFxuXHRpbmZsYXRlOiBpbmZsYXRlXzIkMSxcblx0aW5mbGF0ZUVuZDogaW5mbGF0ZUVuZF8xLFxuXHRpbmZsYXRlR2V0SGVhZGVyOiBpbmZsYXRlR2V0SGVhZGVyXzEsXG5cdGluZmxhdGVTZXREaWN0aW9uYXJ5OiBpbmZsYXRlU2V0RGljdGlvbmFyeV8xLFxuXHRpbmZsYXRlSW5mbzogaW5mbGF0ZUluZm9cbn07XG5cbi8vIChDKSAxOTk1LTIwMTMgSmVhbi1sb3VwIEdhaWxseSBhbmQgTWFyayBBZGxlclxuLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbi8vXG4vLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4vLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuLy9cbi8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4vLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4vLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbi8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxuZnVuY3Rpb24gR1poZWFkZXIoKSB7XG4gIC8qIHRydWUgaWYgY29tcHJlc3NlZCBkYXRhIGJlbGlldmVkIHRvIGJlIHRleHQgKi9cbiAgdGhpcy50ZXh0ICAgICAgID0gMDtcbiAgLyogbW9kaWZpY2F0aW9uIHRpbWUgKi9cbiAgdGhpcy50aW1lICAgICAgID0gMDtcbiAgLyogZXh0cmEgZmxhZ3MgKG5vdCB1c2VkIHdoZW4gd3JpdGluZyBhIGd6aXAgZmlsZSkgKi9cbiAgdGhpcy54ZmxhZ3MgICAgID0gMDtcbiAgLyogb3BlcmF0aW5nIHN5c3RlbSAqL1xuICB0aGlzLm9zICAgICAgICAgPSAwO1xuICAvKiBwb2ludGVyIHRvIGV4dHJhIGZpZWxkIG9yIFpfTlVMTCBpZiBub25lICovXG4gIHRoaXMuZXh0cmEgICAgICA9IG51bGw7XG4gIC8qIGV4dHJhIGZpZWxkIGxlbmd0aCAodmFsaWQgaWYgZXh0cmEgIT0gWl9OVUxMKSAqL1xuICB0aGlzLmV4dHJhX2xlbiAgPSAwOyAvLyBBY3R1YWxseSwgd2UgZG9uJ3QgbmVlZCBpdCBpbiBKUyxcbiAgICAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGxlYXZlIGZvciBmZXcgY29kZSBtb2RpZmljYXRpb25zXG5cbiAgLy9cbiAgLy8gU2V0dXAgbGltaXRzIGlzIG5vdCBuZWNlc3NhcnkgYmVjYXVzZSBpbiBqcyB3ZSBzaG91bGQgbm90IHByZWFsbG9jYXRlIG1lbW9yeVxuICAvLyBmb3IgaW5mbGF0ZSB1c2UgY29uc3RhbnQgbGltaXQgaW4gNjU1MzYgYnl0ZXNcbiAgLy9cblxuICAvKiBzcGFjZSBhdCBleHRyYSAob25seSB3aGVuIHJlYWRpbmcgaGVhZGVyKSAqL1xuICAvLyB0aGlzLmV4dHJhX21heCAgPSAwO1xuICAvKiBwb2ludGVyIHRvIHplcm8tdGVybWluYXRlZCBmaWxlIG5hbWUgb3IgWl9OVUxMICovXG4gIHRoaXMubmFtZSAgICAgICA9ICcnO1xuICAvKiBzcGFjZSBhdCBuYW1lIChvbmx5IHdoZW4gcmVhZGluZyBoZWFkZXIpICovXG4gIC8vIHRoaXMubmFtZV9tYXggICA9IDA7XG4gIC8qIHBvaW50ZXIgdG8gemVyby10ZXJtaW5hdGVkIGNvbW1lbnQgb3IgWl9OVUxMICovXG4gIHRoaXMuY29tbWVudCAgICA9ICcnO1xuICAvKiBzcGFjZSBhdCBjb21tZW50IChvbmx5IHdoZW4gcmVhZGluZyBoZWFkZXIpICovXG4gIC8vIHRoaXMuY29tbV9tYXggICA9IDA7XG4gIC8qIHRydWUgaWYgdGhlcmUgd2FzIG9yIHdpbGwgYmUgYSBoZWFkZXIgY3JjICovXG4gIHRoaXMuaGNyYyAgICAgICA9IDA7XG4gIC8qIHRydWUgd2hlbiBkb25lIHJlYWRpbmcgZ3ppcCBoZWFkZXIgKG5vdCB1c2VkIHdoZW4gd3JpdGluZyBhIGd6aXAgZmlsZSkgKi9cbiAgdGhpcy5kb25lICAgICAgID0gZmFsc2U7XG59XG5cbnZhciBnemhlYWRlciA9IEdaaGVhZGVyO1xuXG5jb25zdCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qIFB1YmxpYyBjb25zdGFudHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5jb25zdCB7XG4gIFpfTk9fRkxVU0gsIFpfRklOSVNILFxuICBaX09LLCBaX1NUUkVBTV9FTkQsIFpfTkVFRF9ESUNULCBaX1NUUkVBTV9FUlJPUiwgWl9EQVRBX0VSUk9SLCBaX01FTV9FUlJPUlxufSA9IGNvbnN0YW50cyQyO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbi8qKlxuICogY2xhc3MgSW5mbGF0ZVxuICpcbiAqIEdlbmVyaWMgSlMtc3R5bGUgd3JhcHBlciBmb3IgemxpYiBjYWxscy4gSWYgeW91IGRvbid0IG5lZWRcbiAqIHN0cmVhbWluZyBiZWhhdmlvdXIgLSB1c2UgbW9yZSBzaW1wbGUgZnVuY3Rpb25zOiBbW2luZmxhdGVdXVxuICogYW5kIFtbaW5mbGF0ZVJhd11dLlxuICoqL1xuXG4vKiBpbnRlcm5hbFxuICogaW5mbGF0ZS5jaHVua3MgLT4gQXJyYXlcbiAqXG4gKiBDaHVua3Mgb2Ygb3V0cHV0IGRhdGEsIGlmIFtbSW5mbGF0ZSNvbkRhdGFdXSBub3Qgb3ZlcnJpZGRlbi5cbiAqKi9cblxuLyoqXG4gKiBJbmZsYXRlLnJlc3VsdCAtPiBVaW50OEFycmF5fFN0cmluZ1xuICpcbiAqIFVuY29tcHJlc3NlZCByZXN1bHQsIGdlbmVyYXRlZCBieSBkZWZhdWx0IFtbSW5mbGF0ZSNvbkRhdGFdXVxuICogYW5kIFtbSW5mbGF0ZSNvbkVuZF1dIGhhbmRsZXJzLiBGaWxsZWQgYWZ0ZXIgeW91IHB1c2ggbGFzdCBjaHVua1xuICogKGNhbGwgW1tJbmZsYXRlI3B1c2hdXSB3aXRoIGBaX0ZJTklTSGAgLyBgdHJ1ZWAgcGFyYW0pLlxuICoqL1xuXG4vKipcbiAqIEluZmxhdGUuZXJyIC0+IE51bWJlclxuICpcbiAqIEVycm9yIGNvZGUgYWZ0ZXIgaW5mbGF0ZSBmaW5pc2hlZC4gMCAoWl9PSykgb24gc3VjY2Vzcy5cbiAqIFNob3VsZCBiZSBjaGVja2VkIGlmIGJyb2tlbiBkYXRhIHBvc3NpYmxlLlxuICoqL1xuXG4vKipcbiAqIEluZmxhdGUubXNnIC0+IFN0cmluZ1xuICpcbiAqIEVycm9yIG1lc3NhZ2UsIGlmIFtbSW5mbGF0ZS5lcnJdXSAhPSAwXG4gKiovXG5cblxuLyoqXG4gKiBuZXcgSW5mbGF0ZShvcHRpb25zKVxuICogLSBvcHRpb25zIChPYmplY3QpOiB6bGliIGluZmxhdGUgb3B0aW9ucy5cbiAqXG4gKiBDcmVhdGVzIG5ldyBpbmZsYXRvciBpbnN0YW5jZSB3aXRoIHNwZWNpZmllZCBwYXJhbXMuIFRocm93cyBleGNlcHRpb25cbiAqIG9uIGJhZCBwYXJhbXMuIFN1cHBvcnRlZCBvcHRpb25zOlxuICpcbiAqIC0gYHdpbmRvd0JpdHNgXG4gKiAtIGBkaWN0aW9uYXJ5YFxuICpcbiAqIFtodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWRdKGh0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZClcbiAqIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHRoZXNlLlxuICpcbiAqIEFkZGl0aW9uYWwgb3B0aW9ucywgZm9yIGludGVybmFsIG5lZWRzOlxuICpcbiAqIC0gYGNodW5rU2l6ZWAgLSBzaXplIG9mIGdlbmVyYXRlZCBkYXRhIGNodW5rcyAoMTZLIGJ5IGRlZmF1bHQpXG4gKiAtIGByYXdgIChCb29sZWFuKSAtIGRvIHJhdyBpbmZsYXRlXG4gKiAtIGB0b2AgKFN0cmluZykgLSBpZiBlcXVhbCB0byAnc3RyaW5nJywgdGhlbiByZXN1bHQgd2lsbCBiZSBjb252ZXJ0ZWRcbiAqICAgZnJvbSB1dGY4IHRvIHV0ZjE2IChqYXZhc2NyaXB0KSBzdHJpbmcuIFdoZW4gc3RyaW5nIG91dHB1dCByZXF1ZXN0ZWQsXG4gKiAgIGNodW5rIGxlbmd0aCBjYW4gZGlmZmVyIGZyb20gYGNodW5rU2l6ZWAsIGRlcGVuZGluZyBvbiBjb250ZW50LlxuICpcbiAqIEJ5IGRlZmF1bHQsIHdoZW4gbm8gb3B0aW9ucyBzZXQsIGF1dG9kZXRlY3QgZGVmbGF0ZS9nemlwIGRhdGEgZm9ybWF0IHZpYVxuICogd3JhcHBlciBoZWFkZXIuXG4gKlxuICogIyMjIyMgRXhhbXBsZTpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBwYWtvID0gcmVxdWlyZSgncGFrbycpXG4gKiBjb25zdCBjaHVuazEgPSBuZXcgVWludDhBcnJheShbMSwyLDMsNCw1LDYsNyw4LDldKVxuICogY29uc3QgY2h1bmsyID0gbmV3IFVpbnQ4QXJyYXkoWzEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5XSk7XG4gKlxuICogY29uc3QgaW5mbGF0ZSA9IG5ldyBwYWtvLkluZmxhdGUoeyBsZXZlbDogM30pO1xuICpcbiAqIGluZmxhdGUucHVzaChjaHVuazEsIGZhbHNlKTtcbiAqIGluZmxhdGUucHVzaChjaHVuazIsIHRydWUpOyAgLy8gdHJ1ZSAtPiBsYXN0IGNodW5rXG4gKlxuICogaWYgKGluZmxhdGUuZXJyKSB7IHRocm93IG5ldyBFcnJvcihpbmZsYXRlLmVycik7IH1cbiAqXG4gKiBjb25zb2xlLmxvZyhpbmZsYXRlLnJlc3VsdCk7XG4gKiBgYGBcbiAqKi9cbmZ1bmN0aW9uIEluZmxhdGUkMShvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IGNvbW1vbi5hc3NpZ24oe1xuICAgIGNodW5rU2l6ZTogMTAyNCAqIDY0LFxuICAgIHdpbmRvd0JpdHM6IDE1LFxuICAgIHRvOiAnJ1xuICB9LCBvcHRpb25zIHx8IHt9KTtcblxuICBjb25zdCBvcHQgPSB0aGlzLm9wdGlvbnM7XG5cbiAgLy8gRm9yY2Ugd2luZG93IHNpemUgZm9yIGByYXdgIGRhdGEsIGlmIG5vdCBzZXQgZGlyZWN0bHksXG4gIC8vIGJlY2F1c2Ugd2UgaGF2ZSBubyBoZWFkZXIgZm9yIGF1dG9kZXRlY3QuXG4gIGlmIChvcHQucmF3ICYmIChvcHQud2luZG93Qml0cyA+PSAwKSAmJiAob3B0LndpbmRvd0JpdHMgPCAxNikpIHtcbiAgICBvcHQud2luZG93Qml0cyA9IC1vcHQud2luZG93Qml0cztcbiAgICBpZiAob3B0LndpbmRvd0JpdHMgPT09IDApIHsgb3B0LndpbmRvd0JpdHMgPSAtMTU7IH1cbiAgfVxuXG4gIC8vIElmIGB3aW5kb3dCaXRzYCBub3QgZGVmaW5lZCAoYW5kIG1vZGUgbm90IHJhdykgLSBzZXQgYXV0b2RldGVjdCBmbGFnIGZvciBnemlwL2RlZmxhdGVcbiAgaWYgKChvcHQud2luZG93Qml0cyA+PSAwKSAmJiAob3B0LndpbmRvd0JpdHMgPCAxNikgJiZcbiAgICAgICEob3B0aW9ucyAmJiBvcHRpb25zLndpbmRvd0JpdHMpKSB7XG4gICAgb3B0LndpbmRvd0JpdHMgKz0gMzI7XG4gIH1cblxuICAvLyBHemlwIGhlYWRlciBoYXMgbm8gaW5mbyBhYm91dCB3aW5kb3dzIHNpemUsIHdlIGNhbiBkbyBhdXRvZGV0ZWN0IG9ubHlcbiAgLy8gZm9yIGRlZmxhdGUuIFNvLCBpZiB3aW5kb3cgc2l6ZSBub3Qgc2V0LCBmb3JjZSBpdCB0byBtYXggd2hlbiBnemlwIHBvc3NpYmxlXG4gIGlmICgob3B0LndpbmRvd0JpdHMgPiAxNSkgJiYgKG9wdC53aW5kb3dCaXRzIDwgNDgpKSB7XG4gICAgLy8gYml0IDMgKDE2KSAtPiBnemlwcGVkIGRhdGFcbiAgICAvLyBiaXQgNCAoMzIpIC0+IGF1dG9kZXRlY3QgZ3ppcC9kZWZsYXRlXG4gICAgaWYgKChvcHQud2luZG93Qml0cyAmIDE1KSA9PT0gMCkge1xuICAgICAgb3B0LndpbmRvd0JpdHMgfD0gMTU7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5lcnIgICAgPSAwOyAgICAgIC8vIGVycm9yIGNvZGUsIGlmIGhhcHBlbnMgKDAgPSBaX09LKVxuICB0aGlzLm1zZyAgICA9ICcnOyAgICAgLy8gZXJyb3IgbWVzc2FnZVxuICB0aGlzLmVuZGVkICA9IGZhbHNlOyAgLy8gdXNlZCB0byBhdm9pZCBtdWx0aXBsZSBvbkVuZCgpIGNhbGxzXG4gIHRoaXMuY2h1bmtzID0gW107ICAgICAvLyBjaHVua3Mgb2YgY29tcHJlc3NlZCBkYXRhXG5cbiAgdGhpcy5zdHJtICAgPSBuZXcgenN0cmVhbSgpO1xuICB0aGlzLnN0cm0uYXZhaWxfb3V0ID0gMDtcblxuICBsZXQgc3RhdHVzICA9IGluZmxhdGVfMSQyLmluZmxhdGVJbml0MihcbiAgICB0aGlzLnN0cm0sXG4gICAgb3B0LndpbmRvd0JpdHNcbiAgKTtcblxuICBpZiAoc3RhdHVzICE9PSBaX09LKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2VzW3N0YXR1c10pO1xuICB9XG5cbiAgdGhpcy5oZWFkZXIgPSBuZXcgZ3poZWFkZXIoKTtcblxuICBpbmZsYXRlXzEkMi5pbmZsYXRlR2V0SGVhZGVyKHRoaXMuc3RybSwgdGhpcy5oZWFkZXIpO1xuXG4gIC8vIFNldHVwIGRpY3Rpb25hcnlcbiAgaWYgKG9wdC5kaWN0aW9uYXJ5KSB7XG4gICAgLy8gQ29udmVydCBkYXRhIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2Ygb3B0LmRpY3Rpb25hcnkgPT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHQuZGljdGlvbmFyeSA9IHN0cmluZ3Muc3RyaW5nMmJ1ZihvcHQuZGljdGlvbmFyeSk7XG4gICAgfSBlbHNlIGlmICh0b1N0cmluZy5jYWxsKG9wdC5kaWN0aW9uYXJ5KSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykge1xuICAgICAgb3B0LmRpY3Rpb25hcnkgPSBuZXcgVWludDhBcnJheShvcHQuZGljdGlvbmFyeSk7XG4gICAgfVxuICAgIGlmIChvcHQucmF3KSB7IC8vSW4gcmF3IG1vZGUgd2UgbmVlZCB0byBzZXQgdGhlIGRpY3Rpb25hcnkgZWFybHlcbiAgICAgIHN0YXR1cyA9IGluZmxhdGVfMSQyLmluZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSwgb3B0LmRpY3Rpb25hcnkpO1xuICAgICAgaWYgKHN0YXR1cyAhPT0gWl9PSykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZXNbc3RhdHVzXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogSW5mbGF0ZSNwdXNoKGRhdGFbLCBmbHVzaF9tb2RlXSkgLT4gQm9vbGVhblxuICogLSBkYXRhIChVaW50OEFycmF5fEFycmF5QnVmZmVyKTogaW5wdXQgZGF0YVxuICogLSBmbHVzaF9tb2RlIChOdW1iZXJ8Qm9vbGVhbik6IDAuLjYgZm9yIGNvcnJlc3BvbmRpbmcgWl9OT19GTFVTSC4uWl9UUkVFXG4gKiAgIGZsdXNoIG1vZGVzLiBTZWUgY29uc3RhbnRzLiBTa2lwcGVkIG9yIGBmYWxzZWAgbWVhbnMgWl9OT19GTFVTSCxcbiAqICAgYHRydWVgIG1lYW5zIFpfRklOSVNILlxuICpcbiAqIFNlbmRzIGlucHV0IGRhdGEgdG8gaW5mbGF0ZSBwaXBlLCBnZW5lcmF0aW5nIFtbSW5mbGF0ZSNvbkRhdGFdXSBjYWxscyB3aXRoXG4gKiBuZXcgb3V0cHV0IGNodW5rcy4gUmV0dXJucyBgdHJ1ZWAgb24gc3VjY2Vzcy4gSWYgZW5kIG9mIHN0cmVhbSBkZXRlY3RlZCxcbiAqIFtbSW5mbGF0ZSNvbkVuZF1dIHdpbGwgYmUgY2FsbGVkLlxuICpcbiAqIGBmbHVzaF9tb2RlYCBpcyBub3QgbmVlZGVkIGZvciBub3JtYWwgb3BlcmF0aW9uLCBiZWNhdXNlIGVuZCBvZiBzdHJlYW1cbiAqIGRldGVjdGVkIGF1dG9tYXRpY2FsbHkuIFlvdSBtYXkgdHJ5IHRvIHVzZSBpdCBmb3IgYWR2YW5jZWQgdGhpbmdzLCBidXRcbiAqIHRoaXMgZnVuY3Rpb25hbGl0eSB3YXMgbm90IHRlc3RlZC5cbiAqXG4gKiBPbiBmYWlsIGNhbGwgW1tJbmZsYXRlI29uRW5kXV0gd2l0aCBlcnJvciBjb2RlIGFuZCByZXR1cm4gZmFsc2UuXG4gKlxuICogIyMjIyMgRXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIHB1c2goY2h1bmssIGZhbHNlKTsgLy8gcHVzaCBvbmUgb2YgZGF0YSBjaHVua3NcbiAqIC4uLlxuICogcHVzaChjaHVuaywgdHJ1ZSk7ICAvLyBwdXNoIGxhc3QgY2h1bmtcbiAqIGBgYFxuICoqL1xuSW5mbGF0ZSQxLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGRhdGEsIGZsdXNoX21vZGUpIHtcbiAgY29uc3Qgc3RybSA9IHRoaXMuc3RybTtcbiAgY29uc3QgY2h1bmtTaXplID0gdGhpcy5vcHRpb25zLmNodW5rU2l6ZTtcbiAgY29uc3QgZGljdGlvbmFyeSA9IHRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5O1xuICBsZXQgc3RhdHVzLCBfZmx1c2hfbW9kZSwgbGFzdF9hdmFpbF9vdXQ7XG5cbiAgaWYgKHRoaXMuZW5kZWQpIHJldHVybiBmYWxzZTtcblxuICBpZiAoZmx1c2hfbW9kZSA9PT0gfn5mbHVzaF9tb2RlKSBfZmx1c2hfbW9kZSA9IGZsdXNoX21vZGU7XG4gIGVsc2UgX2ZsdXNoX21vZGUgPSBmbHVzaF9tb2RlID09PSB0cnVlID8gWl9GSU5JU0ggOiBaX05PX0ZMVVNIO1xuXG4gIC8vIENvbnZlcnQgZGF0YSBpZiBuZWVkZWRcbiAgaWYgKHRvU3RyaW5nLmNhbGwoZGF0YSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpIHtcbiAgICBzdHJtLmlucHV0ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgc3RybS5pbnB1dCA9IGRhdGE7XG4gIH1cblxuICBzdHJtLm5leHRfaW4gPSAwO1xuICBzdHJtLmF2YWlsX2luID0gc3RybS5pbnB1dC5sZW5ndGg7XG5cbiAgZm9yICg7Oykge1xuICAgIGlmIChzdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgc3RybS5vdXRwdXQgPSBuZXcgVWludDhBcnJheShjaHVua1NpemUpO1xuICAgICAgc3RybS5uZXh0X291dCA9IDA7XG4gICAgICBzdHJtLmF2YWlsX291dCA9IGNodW5rU2l6ZTtcbiAgICB9XG5cbiAgICBzdGF0dXMgPSBpbmZsYXRlXzEkMi5pbmZsYXRlKHN0cm0sIF9mbHVzaF9tb2RlKTtcblxuICAgIGlmIChzdGF0dXMgPT09IFpfTkVFRF9ESUNUICYmIGRpY3Rpb25hcnkpIHtcbiAgICAgIHN0YXR1cyA9IGluZmxhdGVfMSQyLmluZmxhdGVTZXREaWN0aW9uYXJ5KHN0cm0sIGRpY3Rpb25hcnkpO1xuXG4gICAgICBpZiAoc3RhdHVzID09PSBaX09LKSB7XG4gICAgICAgIHN0YXR1cyA9IGluZmxhdGVfMSQyLmluZmxhdGUoc3RybSwgX2ZsdXNoX21vZGUpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IFpfREFUQV9FUlJPUikge1xuICAgICAgICAvLyBSZXBsYWNlIGNvZGUgd2l0aCBtb3JlIHZlcmJvc2VcbiAgICAgICAgc3RhdHVzID0gWl9ORUVEX0RJQ1Q7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2tpcCBzbnljIG1hcmtlcnMgaWYgbW9yZSBkYXRhIGZvbGxvd3MgYW5kIG5vdCByYXcgbW9kZVxuICAgIHdoaWxlIChzdHJtLmF2YWlsX2luID4gMCAmJlxuICAgICAgICAgICBzdGF0dXMgPT09IFpfU1RSRUFNX0VORCAmJlxuICAgICAgICAgICBzdHJtLnN0YXRlLndyYXAgPiAwICYmXG4gICAgICAgICAgIGRhdGFbc3RybS5uZXh0X2luXSAhPT0gMClcbiAgICB7XG4gICAgICBpbmZsYXRlXzEkMi5pbmZsYXRlUmVzZXQoc3RybSk7XG4gICAgICBzdGF0dXMgPSBpbmZsYXRlXzEkMi5pbmZsYXRlKHN0cm0sIF9mbHVzaF9tb2RlKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgY2FzZSBaX1NUUkVBTV9FUlJPUjpcbiAgICAgIGNhc2UgWl9EQVRBX0VSUk9SOlxuICAgICAgY2FzZSBaX05FRURfRElDVDpcbiAgICAgIGNhc2UgWl9NRU1fRVJST1I6XG4gICAgICAgIHRoaXMub25FbmQoc3RhdHVzKTtcbiAgICAgICAgdGhpcy5lbmRlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBSZW1lbWJlciByZWFsIGBhdmFpbF9vdXRgIHZhbHVlLCBiZWNhdXNlIHdlIG1heSBwYXRjaCBvdXQgYnVmZmVyIGNvbnRlbnRcbiAgICAvLyB0byBhbGlnbiB1dGY4IHN0cmluZ3MgYm91bmRhcmllcy5cbiAgICBsYXN0X2F2YWlsX291dCA9IHN0cm0uYXZhaWxfb3V0O1xuXG4gICAgaWYgKHN0cm0ubmV4dF9vdXQpIHtcbiAgICAgIGlmIChzdHJtLmF2YWlsX291dCA9PT0gMCB8fCBzdGF0dXMgPT09IFpfU1RSRUFNX0VORCkge1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudG8gPT09ICdzdHJpbmcnKSB7XG5cbiAgICAgICAgICBsZXQgbmV4dF9vdXRfdXRmOCA9IHN0cmluZ3MudXRmOGJvcmRlcihzdHJtLm91dHB1dCwgc3RybS5uZXh0X291dCk7XG5cbiAgICAgICAgICBsZXQgdGFpbCA9IHN0cm0ubmV4dF9vdXQgLSBuZXh0X291dF91dGY4O1xuICAgICAgICAgIGxldCB1dGY4c3RyID0gc3RyaW5ncy5idWYyc3RyaW5nKHN0cm0ub3V0cHV0LCBuZXh0X291dF91dGY4KTtcblxuICAgICAgICAgIC8vIG1vdmUgdGFpbCAmIHJlYWxpZ24gY291bnRlcnNcbiAgICAgICAgICBzdHJtLm5leHRfb3V0ID0gdGFpbDtcbiAgICAgICAgICBzdHJtLmF2YWlsX291dCA9IGNodW5rU2l6ZSAtIHRhaWw7XG4gICAgICAgICAgaWYgKHRhaWwpIHN0cm0ub3V0cHV0LnNldChzdHJtLm91dHB1dC5zdWJhcnJheShuZXh0X291dF91dGY4LCBuZXh0X291dF91dGY4ICsgdGFpbCksIDApO1xuXG4gICAgICAgICAgdGhpcy5vbkRhdGEodXRmOHN0cik7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9uRGF0YShzdHJtLm91dHB1dC5sZW5ndGggPT09IHN0cm0ubmV4dF9vdXQgPyBzdHJtLm91dHB1dCA6IHN0cm0ub3V0cHV0LnN1YmFycmF5KDAsIHN0cm0ubmV4dF9vdXQpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE11c3QgcmVwZWF0IGl0ZXJhdGlvbiBpZiBvdXQgYnVmZmVyIGlzIGZ1bGxcbiAgICBpZiAoc3RhdHVzID09PSBaX09LICYmIGxhc3RfYXZhaWxfb3V0ID09PSAwKSBjb250aW51ZTtcblxuICAgIC8vIEZpbmFsaXplIGlmIGVuZCBvZiBzdHJlYW0gcmVhY2hlZC5cbiAgICBpZiAoc3RhdHVzID09PSBaX1NUUkVBTV9FTkQpIHtcbiAgICAgIHN0YXR1cyA9IGluZmxhdGVfMSQyLmluZmxhdGVFbmQodGhpcy5zdHJtKTtcbiAgICAgIHRoaXMub25FbmQoc3RhdHVzKTtcbiAgICAgIHRoaXMuZW5kZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHN0cm0uYXZhaWxfaW4gPT09IDApIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5cbi8qKlxuICogSW5mbGF0ZSNvbkRhdGEoY2h1bmspIC0+IFZvaWRcbiAqIC0gY2h1bmsgKFVpbnQ4QXJyYXl8U3RyaW5nKTogb3V0cHV0IGRhdGEuIFdoZW4gc3RyaW5nIG91dHB1dCByZXF1ZXN0ZWQsXG4gKiAgIGVhY2ggY2h1bmsgd2lsbCBiZSBzdHJpbmcuXG4gKlxuICogQnkgZGVmYXVsdCwgc3RvcmVzIGRhdGEgYmxvY2tzIGluIGBjaHVua3NbXWAgcHJvcGVydHkgYW5kIGdsdWVcbiAqIHRob3NlIGluIGBvbkVuZGAuIE92ZXJyaWRlIHRoaXMgaGFuZGxlciwgaWYgeW91IG5lZWQgYW5vdGhlciBiZWhhdmlvdXIuXG4gKiovXG5JbmZsYXRlJDEucHJvdG90eXBlLm9uRGF0YSA9IGZ1bmN0aW9uIChjaHVuaykge1xuICB0aGlzLmNodW5rcy5wdXNoKGNodW5rKTtcbn07XG5cblxuLyoqXG4gKiBJbmZsYXRlI29uRW5kKHN0YXR1cykgLT4gVm9pZFxuICogLSBzdGF0dXMgKE51bWJlcik6IGluZmxhdGUgc3RhdHVzLiAwIChaX09LKSBvbiBzdWNjZXNzLFxuICogICBvdGhlciBpZiBub3QuXG4gKlxuICogQ2FsbGVkIGVpdGhlciBhZnRlciB5b3UgdGVsbCBpbmZsYXRlIHRoYXQgdGhlIGlucHV0IHN0cmVhbSBpc1xuICogY29tcGxldGUgKFpfRklOSVNIKS4gQnkgZGVmYXVsdCAtIGpvaW4gY29sbGVjdGVkIGNodW5rcyxcbiAqIGZyZWUgbWVtb3J5IGFuZCBmaWxsIGByZXN1bHRzYCAvIGBlcnJgIHByb3BlcnRpZXMuXG4gKiovXG5JbmZsYXRlJDEucHJvdG90eXBlLm9uRW5kID0gZnVuY3Rpb24gKHN0YXR1cykge1xuICAvLyBPbiBzdWNjZXNzIC0gam9pblxuICBpZiAoc3RhdHVzID09PSBaX09LKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy50byA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMucmVzdWx0ID0gdGhpcy5jaHVua3Muam9pbignJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVzdWx0ID0gY29tbW9uLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpO1xuICAgIH1cbiAgfVxuICB0aGlzLmNodW5rcyA9IFtdO1xuICB0aGlzLmVyciA9IHN0YXR1cztcbiAgdGhpcy5tc2cgPSB0aGlzLnN0cm0ubXNnO1xufTtcblxuXG4vKipcbiAqIGluZmxhdGUoZGF0YVssIG9wdGlvbnNdKSAtPiBVaW50OEFycmF5fFN0cmluZ1xuICogLSBkYXRhIChVaW50OEFycmF5fEFycmF5QnVmZmVyKTogaW5wdXQgZGF0YSB0byBkZWNvbXByZXNzLlxuICogLSBvcHRpb25zIChPYmplY3QpOiB6bGliIGluZmxhdGUgb3B0aW9ucy5cbiAqXG4gKiBEZWNvbXByZXNzIGBkYXRhYCB3aXRoIGluZmxhdGUvdW5nemlwIGFuZCBgb3B0aW9uc2AuIEF1dG9kZXRlY3RcbiAqIGZvcm1hdCB2aWEgd3JhcHBlciBoZWFkZXIgYnkgZGVmYXVsdC4gVGhhdCdzIHdoeSB3ZSBkb24ndCBwcm92aWRlXG4gKiBzZXBhcmF0ZSBgdW5nemlwYCBtZXRob2QuXG4gKlxuICogU3VwcG9ydGVkIG9wdGlvbnMgYXJlOlxuICpcbiAqIC0gd2luZG93Qml0c1xuICpcbiAqIFtodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWRdKGh0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZClcbiAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIFN1Z2FyIChvcHRpb25zKTpcbiAqXG4gKiAtIGByYXdgIChCb29sZWFuKSAtIHNheSB0aGF0IHdlIHdvcmsgd2l0aCByYXcgc3RyZWFtLCBpZiB5b3UgZG9uJ3Qgd2lzaCB0byBzcGVjaWZ5XG4gKiAgIG5lZ2F0aXZlIHdpbmRvd0JpdHMgaW1wbGljaXRseS5cbiAqIC0gYHRvYCAoU3RyaW5nKSAtIGlmIGVxdWFsIHRvICdzdHJpbmcnLCB0aGVuIHJlc3VsdCB3aWxsIGJlIGNvbnZlcnRlZFxuICogICBmcm9tIHV0ZjggdG8gdXRmMTYgKGphdmFzY3JpcHQpIHN0cmluZy4gV2hlbiBzdHJpbmcgb3V0cHV0IHJlcXVlc3RlZCxcbiAqICAgY2h1bmsgbGVuZ3RoIGNhbiBkaWZmZXIgZnJvbSBgY2h1bmtTaXplYCwgZGVwZW5kaW5nIG9uIGNvbnRlbnQuXG4gKlxuICpcbiAqICMjIyMjIEV4YW1wbGU6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgcGFrbyA9IHJlcXVpcmUoJ3Bha28nKTtcbiAqIGNvbnN0IGlucHV0ID0gcGFrby5kZWZsYXRlKG5ldyBVaW50OEFycmF5KFsxLDIsMyw0LDUsNiw3LDgsOV0pKTtcbiAqIGxldCBvdXRwdXQ7XG4gKlxuICogdHJ5IHtcbiAqICAgb3V0cHV0ID0gcGFrby5pbmZsYXRlKGlucHV0KTtcbiAqIH0gY2F0Y2ggKGVycikge1xuICogICBjb25zb2xlLmxvZyhlcnIpO1xuICogfVxuICogYGBgXG4gKiovXG5mdW5jdGlvbiBpbmZsYXRlJDEoaW5wdXQsIG9wdGlvbnMpIHtcbiAgY29uc3QgaW5mbGF0b3IgPSBuZXcgSW5mbGF0ZSQxKG9wdGlvbnMpO1xuXG4gIGluZmxhdG9yLnB1c2goaW5wdXQpO1xuXG4gIC8vIFRoYXQgd2lsbCBuZXZlciBoYXBwZW5zLCBpZiB5b3UgZG9uJ3QgY2hlYXQgd2l0aCBvcHRpb25zIDopXG4gIGlmIChpbmZsYXRvci5lcnIpIHRocm93IGluZmxhdG9yLm1zZyB8fCBtZXNzYWdlc1tpbmZsYXRvci5lcnJdO1xuXG4gIHJldHVybiBpbmZsYXRvci5yZXN1bHQ7XG59XG5cblxuLyoqXG4gKiBpbmZsYXRlUmF3KGRhdGFbLCBvcHRpb25zXSkgLT4gVWludDhBcnJheXxTdHJpbmdcbiAqIC0gZGF0YSAoVWludDhBcnJheXxBcnJheUJ1ZmZlcik6IGlucHV0IGRhdGEgdG8gZGVjb21wcmVzcy5cbiAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBpbmZsYXRlIG9wdGlvbnMuXG4gKlxuICogVGhlIHNhbWUgYXMgW1tpbmZsYXRlXV0sIGJ1dCBjcmVhdGVzIHJhdyBkYXRhLCB3aXRob3V0IHdyYXBwZXJcbiAqIChoZWFkZXIgYW5kIGFkbGVyMzIgY3JjKS5cbiAqKi9cbmZ1bmN0aW9uIGluZmxhdGVSYXckMShpbnB1dCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5yYXcgPSB0cnVlO1xuICByZXR1cm4gaW5mbGF0ZSQxKGlucHV0LCBvcHRpb25zKTtcbn1cblxuXG4vKipcbiAqIHVuZ3ppcChkYXRhWywgb3B0aW9uc10pIC0+IFVpbnQ4QXJyYXl8U3RyaW5nXG4gKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXIpOiBpbnB1dCBkYXRhIHRvIGRlY29tcHJlc3MuXG4gKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgaW5mbGF0ZSBvcHRpb25zLlxuICpcbiAqIEp1c3Qgc2hvcnRjdXQgdG8gW1tpbmZsYXRlXV0sIGJlY2F1c2UgaXQgYXV0b2RldGVjdHMgZm9ybWF0XG4gKiBieSBoZWFkZXIuY29udGVudC4gRG9uZSBmb3IgY29udmVuaWVuY2UuXG4gKiovXG5cblxudmFyIEluZmxhdGVfMSQxID0gSW5mbGF0ZSQxO1xudmFyIGluZmxhdGVfMiA9IGluZmxhdGUkMTtcbnZhciBpbmZsYXRlUmF3XzEkMSA9IGluZmxhdGVSYXckMTtcbnZhciB1bmd6aXAkMSA9IGluZmxhdGUkMTtcbnZhciBjb25zdGFudHMgPSBjb25zdGFudHMkMjtcblxudmFyIGluZmxhdGVfMSQxID0ge1xuXHRJbmZsYXRlOiBJbmZsYXRlXzEkMSxcblx0aW5mbGF0ZTogaW5mbGF0ZV8yLFxuXHRpbmZsYXRlUmF3OiBpbmZsYXRlUmF3XzEkMSxcblx0dW5nemlwOiB1bmd6aXAkMSxcblx0Y29uc3RhbnRzOiBjb25zdGFudHNcbn07XG5cbmNvbnN0IHsgRGVmbGF0ZSwgZGVmbGF0ZSwgZGVmbGF0ZVJhdywgZ3ppcCB9ID0gZGVmbGF0ZV8xJDE7XG5cbmNvbnN0IHsgSW5mbGF0ZSwgaW5mbGF0ZSwgaW5mbGF0ZVJhdywgdW5nemlwIH0gPSBpbmZsYXRlXzEkMTtcblxuXG5cbnZhciBEZWZsYXRlXzEgPSBEZWZsYXRlO1xudmFyIGRlZmxhdGVfMSA9IGRlZmxhdGU7XG52YXIgZGVmbGF0ZVJhd18xID0gZGVmbGF0ZVJhdztcbnZhciBnemlwXzEgPSBnemlwO1xudmFyIEluZmxhdGVfMSA9IEluZmxhdGU7XG52YXIgaW5mbGF0ZV8xID0gaW5mbGF0ZTtcbnZhciBpbmZsYXRlUmF3XzEgPSBpbmZsYXRlUmF3O1xudmFyIHVuZ3ppcF8xID0gdW5nemlwO1xudmFyIGNvbnN0YW50c18xID0gY29uc3RhbnRzJDI7XG5cbnZhciBwYWtvID0ge1xuXHREZWZsYXRlOiBEZWZsYXRlXzEsXG5cdGRlZmxhdGU6IGRlZmxhdGVfMSxcblx0ZGVmbGF0ZVJhdzogZGVmbGF0ZVJhd18xLFxuXHRnemlwOiBnemlwXzEsXG5cdEluZmxhdGU6IEluZmxhdGVfMSxcblx0aW5mbGF0ZTogaW5mbGF0ZV8xLFxuXHRpbmZsYXRlUmF3OiBpbmZsYXRlUmF3XzEsXG5cdHVuZ3ppcDogdW5nemlwXzEsXG5cdGNvbnN0YW50czogY29uc3RhbnRzXzFcbn07XG5cbmV4cG9ydCB7IERlZmxhdGVfMSBhcyBEZWZsYXRlLCBJbmZsYXRlXzEgYXMgSW5mbGF0ZSwgY29uc3RhbnRzXzEgYXMgY29uc3RhbnRzLCBwYWtvIGFzIGRlZmF1bHQsIGRlZmxhdGVfMSBhcyBkZWZsYXRlLCBkZWZsYXRlUmF3XzEgYXMgZGVmbGF0ZVJhdywgZ3ppcF8xIGFzIGd6aXAsIGluZmxhdGVfMSBhcyBpbmZsYXRlLCBpbmZsYXRlUmF3XzEgYXMgaW5mbGF0ZVJhdywgdW5nemlwXzEgYXMgdW5nemlwIH07XG4iXSwibmFtZXMiOlsiUG9pbnQiLCJ4IiwieSIsInRoaXMiLCJtb2R1bGUiLCJleHBvcnRzIiwicHJvdG90eXBlIiwiY2xvbmUiLCJhZGQiLCJwIiwiX2FkZCIsInN1YiIsIl9zdWIiLCJtdWx0QnlQb2ludCIsIl9tdWx0QnlQb2ludCIsImRpdkJ5UG9pbnQiLCJfZGl2QnlQb2ludCIsIm11bHQiLCJrIiwiX211bHQiLCJkaXYiLCJfZGl2Iiwicm90YXRlIiwiYSIsIl9yb3RhdGUiLCJyb3RhdGVBcm91bmQiLCJfcm90YXRlQXJvdW5kIiwibWF0TXVsdCIsIm0iLCJfbWF0TXVsdCIsInVuaXQiLCJfdW5pdCIsInBlcnAiLCJfcGVycCIsInJvdW5kIiwiX3JvdW5kIiwibWFnIiwiTWF0aCIsInNxcnQiLCJlcXVhbHMiLCJvdGhlciIsImRpc3QiLCJkaXN0U3FyIiwiZHgiLCJkeSIsImFuZ2xlIiwiYXRhbjIiLCJhbmdsZVRvIiwiYiIsImFuZ2xlV2l0aCIsImFuZ2xlV2l0aFNlcCIsImNvcyIsInNpbiIsImNvbnZlcnQiLCJBcnJheSIsImlzQXJyYXkiLCJWZWN0b3JUaWxlIiwiVmVjdG9yVGlsZUxheWVyIiwicmVhZFRpbGUiLCJ0YWciLCJsYXllcnMiLCJwYmYiLCJsYXllciIsInJlYWRWYXJpbnQiLCJwb3MiLCJsZW5ndGgiLCJuYW1lIiwiZW5kIiwicmVhZEZpZWxkcyIsIlZlY3RvclRpbGVGZWF0dXJlIiwiZXh0ZW50Iiwia2V5cyIsInZhbHVlcyIsInByb3BlcnRpZXMiLCJ0eXBlIiwiX3BiZiIsIl9nZW9tZXRyeSIsIl9rZXlzIiwiX3ZhbHVlcyIsInJlYWRGZWF0dXJlIiwiZmVhdHVyZSIsImlkIiwia2V5IiwidmFsdWUiLCJyZWFkVGFnIiwic2lnbmVkQXJlYSIsInJpbmciLCJwMSIsInAyIiwic3VtIiwiaSIsImxlbiIsImoiLCJ0eXBlcyIsImxvYWRHZW9tZXRyeSIsImxpbmUiLCJjbWQiLCJsaW5lcyIsImNtZExlbiIsInJlYWRTVmFyaW50IiwicHVzaCIsIkVycm9yIiwiYmJveCIsIngxIiwiSW5maW5pdHkiLCJ4MiIsInkxIiwieTIiLCJ0b0dlb0pTT04iLCJ6Iiwic2l6ZSIsInBvdyIsIngwIiwieTAiLCJjb29yZHMiLCJwcm9qZWN0IiwiUEkiLCJhdGFuIiwiZXhwIiwicG9pbnRzIiwicmluZ3MiLCJwb2x5Z29uIiwiY2N3IiwicG9seWdvbnMiLCJhcmVhIiwidW5kZWZpbmVkIiwiY2xhc3NpZnlSaW5ncyIsInJlc3VsdCIsImdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCJ2ZXJzaW9uIiwiX2ZlYXR1cmVzIiwicmVhZExheWVyIiwicmVhZFN0cmluZyIsInJlYWRGbG9hdCIsInJlYWREb3VibGUiLCJyZWFkVmFyaW50NjQiLCJyZWFkQm9vbGVhbiIsInJlYWRWYWx1ZU1lc3NhZ2UiLCJyZWFkIiwiYnVmZmVyIiwib2Zmc2V0IiwiaXNMRSIsIm1MZW4iLCJuQnl0ZXMiLCJlIiwiZUxlbiIsImVNYXgiLCJlQmlhcyIsIm5CaXRzIiwiZCIsInMiLCJOYU4iLCJ3cml0ZSIsImMiLCJydCIsImFicyIsImlzTmFOIiwiZmxvb3IiLCJsb2ciLCJMTjIiLCJQYmYiLCJpZWVlNzU0IiwiYnVmIiwiQXJyYXlCdWZmZXIiLCJpc1ZpZXciLCJVaW50OEFycmF5IiwiVmFyaW50IiwiRml4ZWQ2NCIsIkJ5dGVzIiwiRml4ZWQzMiIsIlNISUZUX0xFRlRfMzIiLCJTSElGVF9SSUdIVF8zMiIsInV0ZjhUZXh0RGVjb2RlciIsIlRleHREZWNvZGVyIiwicmVhZFBhY2tlZEVuZCIsInRvTnVtIiwibG93IiwiaGlnaCIsImlzU2lnbmVkIiwibWFrZVJvb21Gb3JFeHRyYUxlbmd0aCIsInN0YXJ0UG9zIiwiZXh0cmFMZW4iLCJyZWFsbG9jIiwid3JpdGVQYWNrZWRWYXJpbnQiLCJhcnIiLCJ3cml0ZVZhcmludCIsIndyaXRlUGFja2VkU1ZhcmludCIsIndyaXRlU1ZhcmludCIsIndyaXRlUGFja2VkRmxvYXQiLCJ3cml0ZUZsb2F0Iiwid3JpdGVQYWNrZWREb3VibGUiLCJ3cml0ZURvdWJsZSIsIndyaXRlUGFja2VkQm9vbGVhbiIsIndyaXRlQm9vbGVhbiIsIndyaXRlUGFja2VkRml4ZWQzMiIsIndyaXRlRml4ZWQzMiIsIndyaXRlUGFja2VkU0ZpeGVkMzIiLCJ3cml0ZVNGaXhlZDMyIiwid3JpdGVQYWNrZWRGaXhlZDY0Iiwid3JpdGVGaXhlZDY0Iiwid3JpdGVQYWNrZWRTRml4ZWQ2NCIsIndyaXRlU0ZpeGVkNjQiLCJyZWFkVUludDMyIiwid3JpdGVJbnQzMiIsInZhbCIsInJlYWRJbnQzMiIsImRlc3Ryb3kiLCJyZWFkRmllbGQiLCJza2lwIiwicmVhZE1lc3NhZ2UiLCJyZWFkRml4ZWQzMiIsInJlYWRTRml4ZWQzMiIsInJlYWRGaXhlZDY0IiwicmVhZFNGaXhlZDY0IiwibCIsImgiLCJyZWFkVmFyaW50UmVtYWluZGVyIiwibnVtIiwiQm9vbGVhbiIsImRlY29kZSIsInN1YmFycmF5IiwicmVhZFV0ZjhUZXh0RGVjb2RlciIsInN0ciIsImIxIiwiYjIiLCJiMyIsImIwIiwiYnl0ZXNQZXJTZXF1ZW5jZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInJlYWRVdGY4IiwicmVhZEJ5dGVzIiwicmVhZFBhY2tlZFZhcmludCIsInJlYWRQYWNrZWRTVmFyaW50IiwicmVhZFBhY2tlZEJvb2xlYW4iLCJyZWFkUGFja2VkRmxvYXQiLCJyZWFkUGFja2VkRG91YmxlIiwicmVhZFBhY2tlZEZpeGVkMzIiLCJyZWFkUGFja2VkU0ZpeGVkMzIiLCJyZWFkUGFja2VkRml4ZWQ2NCIsInJlYWRQYWNrZWRTRml4ZWQ2NCIsIndyaXRlVGFnIiwibWluIiwic2V0IiwiZmluaXNoIiwid3JpdGVCaWdWYXJpbnRMb3ciLCJsc2IiLCJ3cml0ZUJpZ1ZhcmludEhpZ2giLCJ3cml0ZUJpZ1ZhcmludCIsIndyaXRlU3RyaW5nIiwibGVhZCIsImNoYXJDb2RlQXQiLCJ3cml0ZVV0ZjgiLCJ3cml0ZUJ5dGVzIiwid3JpdGVSYXdNZXNzYWdlIiwiZm4iLCJvYmoiLCJ3cml0ZU1lc3NhZ2UiLCJ3cml0ZUJ5dGVzRmllbGQiLCJ3cml0ZUZpeGVkMzJGaWVsZCIsIndyaXRlU0ZpeGVkMzJGaWVsZCIsIndyaXRlRml4ZWQ2NEZpZWxkIiwid3JpdGVTRml4ZWQ2NEZpZWxkIiwid3JpdGVWYXJpbnRGaWVsZCIsIndyaXRlU1ZhcmludEZpZWxkIiwid3JpdGVTdHJpbmdGaWVsZCIsIndyaXRlRmxvYXRGaWVsZCIsIndyaXRlRG91YmxlRmllbGQiLCJ3cml0ZUJvb2xlYW5GaWVsZCIsInQiLCJyIiwibiIsIm8iLCJmIiwidSIsIm1heCIsIl9tYXhFbnRyaWVzIiwiX21pbkVudHJpZXMiLCJjZWlsIiwiY2xlYXIiLCJpbmRleE9mIiwiY2hpbGRyZW4iLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwibGVhZiIsImhlaWdodCIsInBvcCIsImFsbCIsIl9hbGwiLCJkYXRhIiwic2VhcmNoIiwidG9CQm94IiwiY29sbGlkZXMiLCJsb2FkIiwiaW5zZXJ0IiwiX2J1aWxkIiwic2xpY2UiLCJfc3BsaXRSb290IiwiX2luc2VydCIsInJlbW92ZSIsInNwbGljZSIsIl9jb25kZW5zZSIsImNvbXBhcmVNaW5YIiwiY29tcGFyZU1pblkiLCJ0b0pTT04iLCJmcm9tSlNPTiIsImFwcGx5IiwiX2Nob29zZVN1YnRyZWUiLCJfc3BsaXQiLCJfYWRqdXN0UGFyZW50QkJveGVzIiwiX2Nob29zZVNwbGl0QXhpcyIsIl9jaG9vc2VTcGxpdEluZGV4IiwidiIsIk0iLCJfYWxsRGlzdE1hcmdpbiIsInNvcnQiLCJjcmVhdGVFbmRwb2ludCIsImV4cG9zZSIsInByb3h5IiwicHJveHlNYXJrZXIiLCJyZWxlYXNlUHJveHkiLCJ0cmFuc2ZlciIsInRyYW5zZmVySGFuZGxlcnMiLCJ3aW5kb3dFbmRwb2ludCIsImciLCJ3cmFwIiwiU3ltYm9sIiwiTWFwIiwiY2FuSGFuZGxlIiwic2VyaWFsaXplIiwicG9ydDEiLCJwb3J0MiIsIk1lc3NhZ2VDaGFubmVsIiwiZGVzZXJpYWxpemUiLCJzdGFydCIsImlzRXJyb3IiLCJtZXNzYWdlIiwic3RhY2siLCJPYmplY3QiLCJhc3NpZ24iLCJzZWxmIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhdGgiLCJhcmd1bWVudExpc3QiLCJtYXAiLCJ3IiwicmVkdWNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJjYXRjaCIsInRoZW4iLCJwb3N0TWVzc2FnZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjb25zdHJ1Y3RvciIsImNsb3NlIiwiUHJveHkiLCJnZXQiLCJFIiwidG9TdHJpbmciLCJiaW5kIiwiY29uc3RydWN0IiwiY29uY2F0IiwiV2Vha01hcCIsImZpbGwiLCJyYW5kb20iLCJOdW1iZXIiLCJNQVhfU0FGRV9JTlRFR0VSIiwiam9pbiIsIl9fY3JlYXRlQmluZGluZyIsImNyZWF0ZSIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsIl9fc2V0TW9kdWxlRGVmYXVsdCIsImRlZmF1bHQiLCJfX2ltcG9ydFN0YXIiLCJfX2VzTW9kdWxlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY3JlYXRlRGJXb3JrZXIiLCJhc3luYyIsImFjdGlvbiIsIkludDMyQXJyYXkiLCJub3RpZnkiLCJvayIsInJlcXVlc3QiLCJjb25zb2xlIiwiZXJyb3IiLCJlcnIiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJBdG9taWNzIiwidGFnTmFtZSIsInBhcmVudEVsZW1lbnQiLCJ1bnNoaWZ0IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInRvTG93ZXJDYXNlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2VsZWN0b3IiLCJjb2x1bW5zIiwicGFyZW50IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwicXVlcnlTZWxlY3RvciIsIldvcmtlciIsIlNwbGl0RmlsZUh0dHBEYXRhYmFzZSIsImRiIiwid29ya2VyIiwiY29uZmlncyIsIl9fZXhwb3J0U3RhciIsInRvU3RyaW5nVGFnIiwibWVzc2FnZXMiLCJBc3NlcnRpb25FcnJvciIsImNvZGUiLCJzdXBlciIsImRpc3Bvc2VkIiwiZGlzcG9zZSIsImRpc3Bvc2VJbnRlcm5hbCIsImxpc3RlbkltYWdlIiwiaW1hZ2UiLCJsb2FkSGFuZGxlciIsImVycm9ySGFuZGxlciIsImltZyIsImxpc3RlbmluZyIsImRlY29kaW5nIiwibG9hZGVkIiwibGlzdGVuZXJLZXlzIiwic3JjIiwiZm9yRWFjaCIsIklETEUiLCJMT0FESU5HIiwiTE9BREVEIiwiRVJST1IiLCJFTVBUWSIsIkltYWdlVGlsZSIsInRpbGVDb29yZCIsInN0YXRlIiwiY3Jvc3NPcmlnaW4iLCJ0aWxlTG9hZEZ1bmN0aW9uIiwib3B0aW9ucyIsImNyb3NzT3JpZ2luXyIsInNyY18iLCJpbWFnZV8iLCJJbWFnZSIsInVubGlzdGVuXyIsInRpbGVMb2FkRnVuY3Rpb25fIiwiZ2V0SW1hZ2UiLCJzZXRJbWFnZSIsImVsZW1lbnQiLCJ1bmxpc3RlbkltYWdlXyIsImNoYW5nZWQiLCJoYW5kbGVJbWFnZUVycm9yXyIsImN0eCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiY2FudmFzIiwiZ2V0QmxhbmtJbWFnZSIsImhhbmRsZUltYWdlTG9hZF8iLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiUHJvcGVydHkiLCJDb2xsZWN0aW9uRXZlbnQiLCJFdmVudCIsImluZGV4IiwiQ29sbGVjdGlvbiIsImFycmF5Iiwib24iLCJvbmNlIiwidW4iLCJ1bmlxdWVfIiwidW5pcXVlIiwiYXJyYXlfIiwiaWkiLCJhc3NlcnRVbmlxdWVfIiwidXBkYXRlTGVuZ3RoXyIsImdldExlbmd0aCIsImV4dGVuZCIsImdldEFycmF5IiwiaXRlbSIsImluc2VydEF0IiwiZWxlbSIsImRpc3BhdGNoRXZlbnQiLCJDb2xsZWN0aW9uRXZlbnRUeXBlIiwicmVtb3ZlQXQiLCJwcmV2Iiwic2V0QXQiLCJleGNlcHQiLCJNYXBSZW5kZXJlciIsIkRpc3Bvc2FibGUiLCJtYXBfIiwiZGlzcGF0Y2hSZW5kZXJFdmVudCIsImZyYW1lU3RhdGUiLCJjYWxjdWxhdGVNYXRyaWNlczJEIiwidmlld1N0YXRlIiwiY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0iLCJwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSIsInJlc29sdXRpb24iLCJyb3RhdGlvbiIsImNlbnRlciIsImZvckVhY2hGZWF0dXJlQXRDb29yZGluYXRlIiwiY29vcmRpbmF0ZSIsImhpdFRvbGVyYW5jZSIsImNoZWNrV3JhcHBlZCIsImNhbGxiYWNrIiwidGhpc0FyZyIsImxheWVyRmlsdGVyIiwidGhpc0FyZzIiLCJtYW5hZ2VkIiwicHJvamVjdGlvbiIsInRyYW5zbGF0ZWRDb29yZGluYXRlIiwib2Zmc2V0cyIsImNhbldyYXBYIiwicHJvamVjdGlvbkV4dGVudCIsImdldEV4dGVudCIsIndvcmxkV2lkdGgiLCJsYXllclN0YXRlcyIsImxheWVyU3RhdGVzQXJyYXkiLCJudW1MYXllcnMiLCJtYXRjaGVzIiwidG1wQ29vcmQiLCJsYXllclN0YXRlIiwiaGFzUmVuZGVyZXIiLCJsYXllclJlbmRlcmVyIiwiZ2V0UmVuZGVyZXIiLCJzb3VyY2UiLCJnZXRTb3VyY2UiLCJnZXRXcmFwWCIsIm9yZGVyIiwiZGlzdGFuY2VTcSIsInNvbWUiLCJoYXNGZWF0dXJlQXRDb29yZGluYXRlIiwiZ2V0TWFwIiwicmVuZGVyRnJhbWUiLCJzY2hlZHVsZUV4cGlyZUljb25DYWNoZSIsInBvc3RSZW5kZXJGdW5jdGlvbnMiLCJleHBpcmVJY29uQ2FjaGUiLCJmb250Q2hhbmdlTGlzdGVuZXJLZXlfIiwiT2JqZWN0RXZlbnRUeXBlIiwicmVkcmF3VGV4dCIsImVsZW1lbnRfIiwic3R5bGUiLCJwb3NpdGlvbiIsIndpZHRoIiwiekluZGV4IiwiY2xhc3NOYW1lIiwiY29udGFpbmVyIiwiZ2V0Vmlld3BvcnQiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwiY2hpbGRyZW5fIiwicmVuZGVyZWRWaXNpYmxlXyIsImhhc0xpc3RlbmVyIiwiZXZlbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJkaXNwbGF5IiwiZGVjbHV0dGVyTGF5ZXJzIiwicHJldmlvdXNFbGVtZW50IiwibGF5ZXJJbmRleCIsInNvdXJjZVN0YXRlIiwiZ2V0U291cmNlU3RhdGUiLCJ1bnJlbmRlciIsInJlbmRlciIsInJlbmRlckRlY2x1dHRlciIsIkdyb3VwRXZlbnQiLCJMYXllckdyb3VwIiwiQmFzZSIsImJhc2VPcHRpb25zIiwibGF5ZXJzTGlzdGVuZXJLZXlzXyIsImxpc3RlbmVyS2V5c18iLCJhZGRDaGFuZ2VMaXN0ZW5lciIsImhhbmRsZUxheWVyc0NoYW5nZWRfIiwic2V0TGF5ZXJzIiwiaGFuZGxlTGF5ZXJDaGFuZ2VfIiwiZ2V0TGF5ZXJzIiwiaGFuZGxlTGF5ZXJzQWRkXyIsImhhbmRsZUxheWVyc1JlbW92ZV8iLCJsYXllcnNBcnJheSIsInJlZ2lzdGVyTGF5ZXJMaXN0ZW5lcnNfIiwiaGFuZGxlTGF5ZXJHcm91cEFkZF8iLCJoYW5kbGVMYXllckdyb3VwUmVtb3ZlXyIsImNvbGxlY3Rpb25FdmVudCIsImNvbGxlY3Rpb24iLCJjdXJyZW50TGF5ZXJzIiwiZ2V0TGF5ZXJzQXJyYXkiLCJnZXRMYXllclN0YXRlc0FycmF5IiwiZGVzdCIsInN0YXRlcyIsIm93bkxheWVyU3RhdGUiLCJnZXRMYXllclN0YXRlIiwiZGVmYXVsdFpJbmRleCIsIm9wYWNpdHkiLCJ2aXNpYmxlIiwibWF4UmVzb2x1dGlvbiIsIm1pblJlc29sdXRpb24iLCJtaW5ab29tIiwibWF4Wm9vbSIsIk1hcEV2ZW50Iiwib3JpZ2luYWxFdmVudCIsImRyYWdnaW5nIiwiYWN0aXZlUG9pbnRlcnMiLCJwaXhlbF8iLCJjb29yZGluYXRlXyIsInBpeGVsIiwiZ2V0RXZlbnRQaXhlbCIsImdldENvb3JkaW5hdGVGcm9tUGl4ZWwiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIlNJTkdMRUNMSUNLIiwiQ0xJQ0siLCJEQkxDTElDSyIsIlBPSU5URVJEUkFHIiwiUE9JTlRFUk1PVkUiLCJQT0lOVEVSRE9XTiIsIlBPSU5URVJVUCIsIlBPSU5URVJPVkVSIiwiUE9JTlRFUk9VVCIsIlBPSU5URVJFTlRFUiIsIlBPSU5URVJMRUFWRSIsIlBPSU5URVJDQU5DRUwiLCJNYXBCcm93c2VyRXZlbnRIYW5kbGVyIiwiVGFyZ2V0IiwibW92ZVRvbGVyYW5jZSIsImNsaWNrVGltZW91dElkXyIsImVtdWxhdGVDbGlja3NfIiwiZHJhZ2dpbmdfIiwiZHJhZ0xpc3RlbmVyS2V5c18iLCJtb3ZlVG9sZXJhbmNlXyIsImRvd25fIiwiYWN0aXZlUG9pbnRlcnNfIiwidHJhY2tlZFRvdWNoZXNfIiwicG9pbnRlcmRvd25MaXN0ZW5lcktleV8iLCJoYW5kbGVQb2ludGVyRG93bl8iLCJvcmlnaW5hbFBvaW50ZXJNb3ZlRXZlbnRfIiwicmVsYXllZExpc3RlbmVyS2V5XyIsInJlbGF5TW92ZUV2ZW50XyIsImJvdW5kSGFuZGxlVG91Y2hNb3ZlXyIsImhhbmRsZVRvdWNoTW92ZV8iLCJwYXNzaXZlIiwiZW11bGF0ZUNsaWNrXyIsInBvaW50ZXJFdmVudCIsIm5ld0V2ZW50IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInVwZGF0ZUFjdGl2ZVBvaW50ZXJzXyIsInBvaW50ZXJJZCIsInRhcmdldCIsImhhbmRsZVBvaW50ZXJVcF8iLCJkZWZhdWx0UHJldmVudGVkIiwiaXNNb3VzZUFjdGlvbkJ1dHRvbl8iLCJidXR0b24iLCJwcm9wZXJ0eSIsImRvYyIsImdldE93bmVyRG9jdW1lbnQiLCJoYW5kbGVQb2ludGVyTW92ZV8iLCJnZXRSb290Tm9kZSIsImlzTW92aW5nXyIsImNhbmNlbGFibGUiLCJjbGllbnRYIiwiY2xpZW50WSIsIkRST1AiLCJwcmlvcml0eUZ1bmN0aW9uIiwia2V5RnVuY3Rpb24iLCJwcmlvcml0eUZ1bmN0aW9uXyIsImtleUZ1bmN0aW9uXyIsImVsZW1lbnRzXyIsInByaW9yaXRpZXNfIiwicXVldWVkRWxlbWVudHNfIiwiZGVxdWV1ZSIsImVsZW1lbnRzIiwicHJpb3JpdGllcyIsInNpZnRVcF8iLCJlbGVtZW50S2V5IiwiZW5xdWV1ZSIsInByaW9yaXR5Iiwic2lmdERvd25fIiwiZ2V0Q291bnQiLCJnZXRMZWZ0Q2hpbGRJbmRleF8iLCJnZXRSaWdodENoaWxkSW5kZXhfIiwiZ2V0UGFyZW50SW5kZXhfIiwiaGVhcGlmeV8iLCJpc0VtcHR5IiwiaXNLZXlRdWV1ZWQiLCJpc1F1ZXVlZCIsImNvdW50Iiwic3RhcnRJbmRleCIsImxJbmRleCIsInJJbmRleCIsInNtYWxsZXJDaGlsZEluZGV4IiwicGFyZW50SW5kZXgiLCJyZXByaW9yaXRpemUiLCJ0aWxlUHJpb3JpdHlGdW5jdGlvbiIsInRpbGVDaGFuZ2VDYWxsYmFjayIsImdldEtleSIsImJvdW5kSGFuZGxlVGlsZUNoYW5nZV8iLCJoYW5kbGVUaWxlQ2hhbmdlIiwidGlsZUNoYW5nZUNhbGxiYWNrXyIsInRpbGVzTG9hZGluZ18iLCJ0aWxlc0xvYWRpbmdLZXlzXyIsImFkZGVkIiwiZ2V0VGlsZXNMb2FkaW5nIiwidGlsZSIsImdldFN0YXRlIiwiVGlsZVN0YXRlIiwidGlsZUtleSIsImxvYWRNb3JlVGlsZXMiLCJtYXhUb3RhbExvYWRpbmciLCJtYXhOZXdMb2FkcyIsIm5ld0xvYWRzIiwiQ29udHJvbCIsInBvaW50ZXJFdmVudHMiLCJ0YXJnZXRfIiwic2V0VGFyZ2V0Iiwic2V0TWFwIiwiZ2V0T3ZlcmxheUNvbnRhaW5lclN0b3BFdmVudCIsIk1hcEV2ZW50VHlwZSIsIm1hcEV2ZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ1bEVsZW1lbnRfIiwiY29sbGFwc2VkXyIsImNvbGxhcHNlZCIsInVzZXJDb2xsYXBzZWRfIiwib3ZlcnJpZGVDb2xsYXBzaWJsZV8iLCJjb2xsYXBzaWJsZSIsImNvbGxhcHNpYmxlXyIsInRpcExhYmVsIiwiZXhwYW5kQ2xhc3NOYW1lIiwiY29sbGFwc2VMYWJlbCIsImNvbGxhcHNlQ2xhc3NOYW1lIiwiY29sbGFwc2VMYWJlbF8iLCJ0ZXh0Q29udGVudCIsImxhYmVsIiwibGFiZWxfIiwiYWN0aXZlTGFiZWwiLCJ0b2dnbGVCdXR0b25fIiwic2V0QXR0cmlidXRlIiwidGl0bGUiLCJoYW5kbGVDbGlja18iLCJjc3NDbGFzc2VzIiwicmVuZGVyZWRBdHRyaWJ1dGlvbnNfIiwiY29sbGVjdFNvdXJjZUF0dHJpYnV0aW9uc18iLCJsb29rdXAiLCJ2aXNpYmxlQXR0cmlidXRpb25zIiwiYXR0cmlidXRpb25HZXR0ZXIiLCJnZXRBdHRyaWJ1dGlvbnMiLCJhdHRyaWJ1dGlvbnMiLCJnZXRBdHRyaWJ1dGlvbnNDb2xsYXBzaWJsZSIsImpqIiwic2V0Q29sbGFwc2libGUiLCJ1cGRhdGVFbGVtZW50XyIsImlubmVySFRNTCIsImhhbmRsZVRvZ2dsZV8iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJnZXRDb2xsYXBzaWJsZSIsInNldENvbGxhcHNlZCIsImdldENvbGxhcHNlZCIsImNvbXBhc3NDbGFzc05hbWUiLCJjYWxsUmVzZXROb3J0aF8iLCJyZXNldE5vcnRoIiwiZHVyYXRpb25fIiwiZHVyYXRpb24iLCJhdXRvSGlkZV8iLCJhdXRvSGlkZSIsInJvdGF0aW9uXyIsInJlc2V0Tm9ydGhfIiwidmlldyIsImdldFZpZXciLCJnZXRSb3RhdGlvbiIsImFuaW1hdGUiLCJlYXNpbmciLCJzZXRSb3RhdGlvbiIsInRyYW5zZm9ybSIsImNvbnRhaW5zIiwiZGVsdGEiLCJ6b29tSW5DbGFzc05hbWUiLCJ6b29tT3V0Q2xhc3NOYW1lIiwiem9vbUluTGFiZWwiLCJ6b29tT3V0TGFiZWwiLCJ6b29tSW5UaXBMYWJlbCIsInpvb21PdXRUaXBMYWJlbCIsImluRWxlbWVudCIsImNyZWF0ZVRleHROb2RlIiwib3V0RWxlbWVudCIsInpvb21CeURlbHRhXyIsImN1cnJlbnRab29tIiwiZ2V0Wm9vbSIsIm5ld1pvb20iLCJnZXRDb25zdHJhaW5lZFpvb20iLCJnZXRBbmltYXRpbmciLCJjYW5jZWxBbmltYXRpb25zIiwiem9vbSIsInNldFpvb20iLCJJbnRlcmFjdGlvbiIsImhhbmRsZUV2ZW50Iiwic2V0QWN0aXZlIiwiZ2V0QWN0aXZlIiwibWFwQnJvd3NlckV2ZW50IiwiYWN0aXZlIiwiem9vbUJ5RGVsdGEiLCJhbmNob3IiLCJuZXdSZXNvbHV0aW9uIiwiZ2V0UmVzb2x1dGlvbkZvclpvb20iLCJkZWx0YV8iLCJzdG9wRXZlbnQiLCJicm93c2VyRXZlbnQiLCJzaGlmdEtleSIsImhhbmRsZURvd25FdmVudCIsImhhbmRsZURyYWdFdmVudCIsImhhbmRsZU1vdmVFdmVudCIsImhhbmRsZVVwRXZlbnQiLCJzdG9wRG93biIsImhhbmRsaW5nRG93blVwU2VxdWVuY2UiLCJ0YXJnZXRQb2ludGVycyIsImdldFBvaW50ZXJDb3VudCIsInVwZGF0ZVRyYWNrZWRQb2ludGVyc18iLCJoYW5kbGVkVXAiLCJoYW5kbGVkIiwidmFyX2FyZ3MiLCJjb25kaXRpb25zIiwiYXJndW1lbnRzIiwicGFzcyIsImFsdFNoaWZ0S2V5c09ubHkiLCJhbHRLZXkiLCJtZXRhS2V5IiwiY3RybEtleSIsImZvY3VzV2l0aFRhYmluZGV4IiwiZ2V0VGFyZ2V0RWxlbWVudCIsImhhc0F0dHJpYnV0ZSIsInRhcmdldEVsZW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiYWx3YXlzIiwibW91c2VBY3Rpb25CdXR0b24iLCJub01vZGlmaWVyS2V5cyIsInNoaWZ0S2V5T25seSIsInRhcmdldE5vdEVkaXRhYmxlIiwiaXNDb250ZW50RWRpdGFibGUiLCJtb3VzZU9ubHkiLCJwb2ludGVyVHlwZSIsInByaW1hcnlBY3Rpb24iLCJpc1ByaW1hcnkiLCJQb2ludGVyIiwia2luZXRpY18iLCJraW5ldGljIiwibGFzdENlbnRyb2lkIiwibGFzdFBvaW50ZXJzQ291bnRfIiwicGFubmluZ18iLCJjb25kaXRpb24iLCJjb25kaXRpb25fIiwib25Gb2N1c09ubHkiLCJub0tpbmV0aWNfIiwiYmVnaW5JbnRlcmFjdGlvbiIsImNlbnRyb2lkIiwidXBkYXRlIiwiZ2V0UmVzb2x1dGlvbiIsImFkanVzdENlbnRlckludGVybmFsIiwiYmVnaW4iLCJkaXN0YW5jZSIsImdldERpc3RhbmNlIiwiZ2V0QW5nbGUiLCJnZXRDZW50ZXJJbnRlcm5hbCIsImNlbnRlcnB4IiwiZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZUludGVybmFsIiwiZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbEludGVybmFsIiwiYW5pbWF0ZUludGVybmFsIiwiZ2V0Q29uc3RyYWluZWRDZW50ZXIiLCJlbmRJbnRlcmFjdGlvbiIsImxhc3RBbmdsZV8iLCJnZXRDb25zdHJhaW50cyIsImdldFNpemUiLCJ0aGV0YSIsImFkanVzdFJvdGF0aW9uSW50ZXJuYWwiLCJSZW5kZXJCb3giLCJnZW9tZXRyeV8iLCJzdGFydFBpeGVsXyIsImVuZFBpeGVsXyIsInJlbmRlcl8iLCJzdGFydFBpeGVsIiwiZW5kUGl4ZWwiLCJweCIsImxlZnQiLCJ0b3AiLCJnZXRPdmVybGF5Q29udGFpbmVyIiwic2V0UGl4ZWxzIiwiY3JlYXRlT3JVcGRhdGVHZW9tZXRyeSIsInNldENvb3JkaW5hdGVzIiwiUG9seWdvbiIsImdldEdlb21ldHJ5IiwiRHJhZ0JveEV2ZW50IiwiYm94XyIsIm1pbkFyZWFfIiwibWluQXJlYSIsIm9uQm94RW5kIiwiYm94RW5kQ29uZGl0aW9uXyIsImJveEVuZENvbmRpdGlvbiIsImRlZmF1bHRCb3hFbmRDb25kaXRpb24iLCJjb21wbGV0ZUJveCIsIm91dF8iLCJvdXQiLCJyb3RhdGVkRXh0ZW50Iiwicm90YXRlZEV4dGVudEZvckdlb21ldHJ5IiwiZ2V0UmVzb2x1dGlvbkZvckV4dGVudEludGVybmFsIiwiZmFjdG9yIiwic2NhbGUiLCJmaXRJbnRlcm5hbCIsImRlZmF1bHRDb25kaXRpb25fIiwicGl4ZWxEZWx0YV8iLCJwaXhlbERlbHRhIiwia2V5RXZlbnQiLCJrZXlDb2RlIiwibWFwVW5pdHNEZWx0YSIsImRlbHRhWCIsImRlbHRhWSIsImN1cnJlbnRDZW50ZXIiLCJwYW4iLCJjaGFyQ29kZSIsInRvdGFsRGVsdGFfIiwibGFzdERlbHRhXyIsIm1heERlbHRhXyIsIm1heERlbHRhIiwidGltZW91dF8iLCJ0aW1lb3V0IiwidXNlQW5jaG9yXyIsInVzZUFuY2hvciIsImNvbnN0cmFpblJlc29sdXRpb25fIiwiY29uc3RyYWluUmVzb2x1dGlvbiIsImxhc3RBbmNob3JfIiwic3RhcnRUaW1lXyIsInRpbWVvdXRJZF8iLCJtb2RlXyIsInRyYWNrcGFkRXZlbnRHYXBfIiwidHJhY2twYWRUaW1lb3V0SWRfIiwiZGVsdGFQZXJab29tXyIsImVuZEludGVyYWN0aW9uXyIsIndoZWVsRXZlbnQiLCJkZWx0YU1vZGUiLCJXaGVlbEV2ZW50IiwiRE9NX0RFTFRBX1BJWEVMIiwiRE9NX0RFTFRBX0xJTkUiLCJub3ciLCJEYXRlIiwiZ2V0Q29uc3RyYWluUmVzb2x1dGlvbiIsImFkanVzdFpvb20iLCJ0aW1lTGVmdCIsImhhbmRsZVdoZWVsWm9vbV8iLCJzZXRNb3VzZUFuY2hvciIsInBvaW50ZXJPcHRpb25zIiwiYW5jaG9yXyIsInJvdGF0aW5nXyIsInJvdGF0aW9uRGVsdGFfIiwidGhyZXNob2xkXyIsInRocmVzaG9sZCIsInJvdGF0aW9uRGVsdGEiLCJ0b3VjaDAiLCJ0b3VjaDEiLCJsYXN0RGlzdGFuY2VfIiwibGFzdFNjYWxlRGVsdGFfIiwic2NhbGVEZWx0YSIsImFkanVzdFJlc29sdXRpb25JbnRlcm5hbCIsImRpcmVjdGlvbiIsInJlbW92ZUxheWVyTWFwUHJvcGVydHkiLCJMYXllciIsInNldE1hcEludGVybmFsIiwic2V0TGF5ZXJNYXBQcm9wZXJ0eSIsIm9wdGlvbnNJbnRlcm5hbCIsImtleWJvYXJkRXZlbnRUYXJnZXQiLCJsYXllckdyb3VwIiwiY29udHJvbHMiLCJpbnRlcmFjdGlvbnMiLCJvdmVybGF5cyIsIk1hcFByb3BlcnR5IiwiVmlldyIsImNyZWF0ZU9wdGlvbnNJbnRlcm5hbCIsInJlbmRlckNvbXBsZXRlXyIsImxvYWRlZF8iLCJib3VuZEhhbmRsZUJyb3dzZXJFdmVudF8iLCJoYW5kbGVCcm93c2VyRXZlbnQiLCJtYXhUaWxlc0xvYWRpbmdfIiwibWF4VGlsZXNMb2FkaW5nIiwicGl4ZWxSYXRpb18iLCJwaXhlbFJhdGlvIiwicG9zdFJlbmRlclRpbWVvdXRIYW5kbGVfIiwiYW5pbWF0aW9uRGVsYXlLZXlfIiwiYW5pbWF0aW9uRGVsYXlfIiwiY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm1fIiwicGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm1fIiwiZnJhbWVJbmRleF8iLCJmcmFtZVN0YXRlXyIsInByZXZpb3VzRXh0ZW50XyIsInZpZXdQcm9wZXJ0eUxpc3RlbmVyS2V5XyIsInZpZXdDaGFuZ2VMaXN0ZW5lcktleV8iLCJsYXllckdyb3VwUHJvcGVydHlMaXN0ZW5lcktleXNfIiwidmlld3BvcnRfIiwid2luZG93Iiwib3ZlcmZsb3ciLCJvdmVybGF5Q29udGFpbmVyXyIsIm92ZXJsYXlDb250YWluZXJTdG9wRXZlbnRfIiwibWFwQnJvd3NlckV2ZW50SGFuZGxlcl8iLCJrZXlib2FyZEV2ZW50VGFyZ2V0XyIsInRhcmdldENoYW5nZUhhbmRsZXJLZXlzXyIsInRhcmdldEVsZW1lbnRfIiwicmVzaXplT2JzZXJ2ZXJfIiwiUmVzaXplT2JzZXJ2ZXIiLCJ1cGRhdGVTaXplIiwiem9vbU9wdGlvbnMiLCJyb3RhdGVPcHRpb25zIiwiYXR0cmlidXRpb24iLCJhdHRyaWJ1dGlvbk9wdGlvbnMiLCJkZWNheSIsIm1pblZlbG9jaXR5IiwiZGVsYXkiLCJkZWNheV8iLCJtaW5WZWxvY2l0eV8iLCJkZWxheV8iLCJwb2ludHNfIiwiYW5nbGVfIiwiaW5pdGlhbFZlbG9jaXR5XyIsImxhc3RJbmRleCIsImZpcnN0SW5kZXgiLCJhbHRTaGlmdERyYWdSb3RhdGUiLCJkb3VibGVDbGlja1pvb20iLCJ6b29tRGVsdGEiLCJ6b29tRHVyYXRpb24iLCJkcmFnUGFuIiwicGluY2hSb3RhdGUiLCJwaW5jaFpvb20iLCJrZXlib2FyZCIsIm1vdXNlV2hlZWxab29tIiwic2hpZnREcmFnWm9vbSIsIm92ZXJsYXlzXyIsIm92ZXJsYXlJZEluZGV4XyIsInJlbmRlcmVyXyIsInBvc3RSZW5kZXJGdW5jdGlvbnNfIiwidGlsZVF1ZXVlXyIsImdldFRpbGVQcmlvcml0eSIsImhhbmRsZVRpbGVDaGFuZ2VfIiwiaGFuZGxlTGF5ZXJHcm91cENoYW5nZWRfIiwiaGFuZGxlVmlld0NoYW5nZWRfIiwiaGFuZGxlU2l6ZUNoYW5nZWRfIiwiaGFuZGxlVGFyZ2V0Q2hhbmdlZF8iLCJzZXRQcm9wZXJ0aWVzIiwidmlld09wdGlvbnMiLCJzZXRWaWV3IiwiYWRkT3ZlcmxheUludGVybmFsXyIsImdldElkIiwiY29udHJvbCIsImludGVyYWN0aW9uIiwiYWRkQ29udHJvbCIsImdldENvbnRyb2xzIiwiYWRkSW50ZXJhY3Rpb24iLCJnZXRJbnRlcmFjdGlvbnMiLCJhZGRMYXllciIsImdldExheWVyR3JvdXAiLCJoYW5kbGVMYXllckFkZF8iLCJhZGRPdmVybGF5Iiwib3ZlcmxheSIsImdldE92ZXJsYXlzIiwiZGlzY29ubmVjdCIsImZvckVhY2hGZWF0dXJlQXRQaXhlbCIsImdldEZlYXR1cmVzQXRQaXhlbCIsImZlYXR1cmVzIiwiZ2V0QWxsTGF5ZXJzIiwiYWRkTGF5ZXJzRnJvbSIsImhhc0ZlYXR1cmVBdFBpeGVsIiwiZ2V0RXZlbnRDb29yZGluYXRlIiwiZ2V0RXZlbnRDb29yZGluYXRlSW50ZXJuYWwiLCJ2aWV3cG9ydFBvc2l0aW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwidmlld3BvcnRTaXplIiwic2NhbGVYIiwic2NhbGVZIiwiZXZlbnRQb3NpdGlvbiIsImNoYW5nZWRUb3VjaGVzIiwiZ2V0VGFyZ2V0IiwiZ2V0UHJvamVjdGlvbiIsImdldE92ZXJsYXlCeUlkIiwiZ3JvdXAiLCJnZXRMb2FkaW5nT3JOb3RSZWFkeSIsInJlbmRlcmVyIiwicmVhZHkiLCJsb2FkaW5nIiwiZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZSIsInZpZXdDb29yZGluYXRlIiwib3duZXJEb2N1bWVudCIsInRpbGVTb3VyY2VLZXkiLCJ0aWxlQ2VudGVyIiwidGlsZVJlc29sdXRpb24iLCJ3YW50ZWRUaWxlcyIsImhhbmRsZU1hcEJyb3dzZXJFdmVudCIsImV2ZW50VHlwZSIsInJvb3ROb2RlIiwiZG9jdW1lbnRFbGVtZW50IiwiaW50ZXJhY3Rpb25zQXJyYXkiLCJwcm9wYWdhdGlvblN0b3BwZWQiLCJoYW5kbGVQb3N0UmVuZGVyIiwidGlsZVF1ZXVlIiwiaGludHMiLCJ2aWV3SGludHMiLCJWaWV3SGludCIsImxvd09uRnJhbWVCdWRnZXQiLCJ0aW1lIiwicmVzb2x2ZUNvbnN0cmFpbnRzIiwidW5vYnNlcnZlIiwiU2hhZG93Um9vdCIsImhvc3QiLCJDb21wb3NpdGUiLCJvYnNlcnZlIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJoYW5kbGVWaWV3UHJvcGVydHlDaGFuZ2VkXyIsInVwZGF0ZVZpZXdwb3J0U2l6ZV8iLCJoYW5kbGVMYXllclJlbW92ZV8iLCJpc1JlbmRlcmVkIiwicmVuZGVyRnJhbWVfIiwicmVuZGVyU3luYyIsImhhbmRsZUZvbnRzQ2hhbmdlZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJlbW92ZUNvbnRyb2wiLCJyZW1vdmVJbnRlcmFjdGlvbiIsInJlbW92ZUxheWVyIiwicmVtb3ZlT3ZlcmxheSIsInByZXZpb3VzRnJhbWVTdGF0ZSIsImlzRGVmIiwiZ2V0SGludHMiLCJkZWNsdXR0ZXJUcmVlIiwidXNlZFRpbGVzIiwibWFwSWQiLCJyZW5kZXJUYXJnZXRzIiwibmV4dENlbnRlciIsIm5leHRSZXNvbHV0aW9uIiwibmV4dFJvdGF0aW9uIiwibmV4dEV4dGVudCIsInNldExheWVyR3JvdXAiLCJvbGRMYXllckdyb3VwIiwic2V0U2l6ZSIsImNvbXB1dGVkU3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwib2Zmc2V0V2lkdGgiLCJwYXJzZUZsb2F0Iiwib2Zmc2V0SGVpZ2h0IiwiZ2V0Q2xpZW50UmVjdHMiLCJvbGRTaXplIiwicGFyc2VJbnQiLCJzZXRWaWV3cG9ydFNpemUiLCJPYmplY3RFdmVudCIsIm9sZFZhbHVlIiwiQmFzZU9iamVjdCIsInZhbHVlc18iLCJnZXRLZXlzIiwiZ2V0UHJvcGVydGllcyIsImhhc1Byb3BlcnRpZXMiLCJsaXN0ZW5lciIsInJlbW92ZUNoYW5nZUxpc3RlbmVyIiwic2lsZW50IiwiYXBwbHlQcm9wZXJ0aWVzIiwidW5zZXQiLCJQUk9QRVJUWUNIQU5HRSIsIk9ic2VydmFibGUiLCJyZXZpc2lvbl8iLCJnZXRSZXZpc2lvbiIsIm9uSW50ZXJuYWwiLCJvbmNlSW50ZXJuYWwiLCJvbF9rZXkiLCJ1bkludGVybmFsIiwidW5CeUtleSIsIlRpbGUiLCJpbnRlcmltVGlsZSIsInRyYW5zaXRpb25fIiwidHJhbnNpdGlvbiIsInRyYW5zaXRpb25TdGFydHNfIiwiaW50ZXJwb2xhdGUiLCJyZWxlYXNlIiwic2V0U3RhdGUiLCJnZXRJbnRlcmltVGlsZSIsInJlZnJlc2hJbnRlcmltQ2hhaW4iLCJnZXRUaWxlQ29vcmQiLCJnZXRBbHBoYSIsImluVHJhbnNpdGlvbiIsImVuZFRyYW5zaXRpb24iLCJoaWdoV2F0ZXJNYXJrIiwiY291bnRfIiwiZW50cmllc18iLCJvbGRlc3RfIiwibmV3ZXN0XyIsImNhbkV4cGlyZUNhY2hlIiwiZXhwaXJlQ2FjaGUiLCJrZWVwIiwiY29udGFpbnNLZXkiLCJlbnRyeSIsInZhbHVlXyIsImtleV8iLCJuZXdlciIsIm9sZGVyIiwiZ2V0VmFsdWVzIiwicGVla0xhc3QiLCJwZWVrTGFzdEtleSIsInBlZWtGaXJzdEtleSIsInBlZWsiLCJyZXBsYWNlIiwicHJ1bmVFeGNlcHROZXdlc3RaIiwiVGlsZVJhbmdlIiwiY29udGFpbnNYWSIsImNvbnRhaW5zVGlsZVJhbmdlIiwidGlsZVJhbmdlIiwiZ2V0SGVpZ2h0IiwiZ2V0V2lkdGgiLCJpbnRlcnNlY3RzIiwiY3JlYXRlT3JVcGRhdGUiLCJDRU5URVIiLCJSRVNPTFVUSU9OIiwiUk9UQVRJT04iLCJjcmVhdGVFeHRlbnQiLCJvbmx5Q2VudGVyIiwic21vb3RoIiwiaXNNb3ZpbmciLCJjZW50ZXJTaGlmdCIsInZpZXdXaWR0aCIsInZpZXdIZWlnaHQiLCJzaGlmdFgiLCJzaGlmdFkiLCJyYXRpbyIsIm5vbmUiLCJnZXRWaWV3cG9ydENsYW1wZWRSZXNvbHV0aW9uIiwibWF4RXh0ZW50Iiwic2hvd0Z1bGxFeHRlbnQiLCJ4UmVzb2x1dGlvbiIsInlSZXNvbHV0aW9uIiwiZ2V0U21vb3RoQ2xhbXBlZFJlc29sdXRpb24iLCJjcmVhdGVNaW5NYXhSZXNvbHV0aW9uIiwiY2FwcGVkTWF4UmVzIiwiaGludHNfIiwiYW5pbWF0aW9uc18iLCJ1cGRhdGVBbmltYXRpb25LZXlfIiwicHJvamVjdGlvbl8iLCJ2aWV3cG9ydFNpemVfIiwidGFyZ2V0Q2VudGVyXyIsInRhcmdldFJlc29sdXRpb25fIiwidGFyZ2V0Um90YXRpb25fIiwibmV4dENlbnRlcl8iLCJuZXh0UmVzb2x1dGlvbl8iLCJuZXh0Um90YXRpb25fIiwiY2FuY2VsQW5jaG9yXyIsImFwcGx5T3B0aW9uc18iLCJWaWV3UHJvcGVydHkiLCJyZXNvbHV0aW9uQ29uc3RyYWludEluZm8iLCJyZXNvbHV0aW9uQ29uc3RyYWludCIsInpvb21GYWN0b3IiLCJtdWx0aVdvcmxkIiwic21vb3RoUmVzb2x1dGlvbkNvbnN0cmFpbnQiLCJwcm9qRXh0ZW50IiwiY29uc3RyYWluT25seUNlbnRlciIsImlzR2xvYmFsIiwicmVzb2x1dGlvbnMiLCJjYXBwZWQiLCJjcmVhdGVTbmFwVG9SZXNvbHV0aW9ucyIsImRlZmF1bHRNYXhSZXNvbHV0aW9uIiwiZ2V0TWV0ZXJzUGVyVW5pdCIsImRlZmF1bHRNaW5SZXNvbHV0aW9uIiwiZGVmYXVsdE1heFpvb20iLCJwb3dlciIsInRvbGVyYW5jZSIsIm1pblpvb21MZXZlbCIsImNhcHBlZFpvb21MZXZlbCIsInpvb21MZXZlbCIsImNyZWF0ZVNuYXBUb1Bvd2VyIiwiY29uc3RyYWludCIsImNyZWF0ZVJlc29sdXRpb25Db25zdHJhaW50IiwibWF4UmVzb2x1dGlvbl8iLCJtaW5SZXNvbHV0aW9uXyIsInpvb21GYWN0b3JfIiwicmVzb2x1dGlvbnNfIiwicGFkZGluZ18iLCJwYWRkaW5nIiwibWluWm9vbV8iLCJjZW50ZXJDb25zdHJhaW50Iiwic21vb3RoRXh0ZW50Q29uc3RyYWludCIsImNyZWF0ZUNlbnRlckNvbnN0cmFpbnQiLCJyb3RhdGlvbkNvbnN0cmFpbnQiLCJlbmFibGVSb3RhdGlvbiIsImNvbnN0cmFpblJvdGF0aW9uIiwiY3JlYXRlUm90YXRpb25Db25zdHJhaW50IiwiY29uc3RyYWludHNfIiwic2V0Q2VudGVySW50ZXJuYWwiLCJzZXRSZXNvbHV0aW9uIiwib2xkUGFkZGluZyIsImdldENlbnRlciIsIm5ld1BhZGRpbmciLCJvZmZzZXRYIiwib2Zmc2V0WSIsImdldFVwZGF0ZWRPcHRpb25zXyIsIm5ld09wdGlvbnMiLCJhcmdzIiwiYW5pbWF0aW9uQ291bnQiLCJhbmltYXRpb25DYWxsYmFjayIsInNlcmllcyIsImFuaW1hdGlvbiIsImNvbXBsZXRlIiwic291cmNlQ2VudGVyIiwidGFyZ2V0Q2VudGVyIiwic291cmNlUmVzb2x1dGlvbiIsInRhcmdldFJlc29sdXRpb24iLCJzb3VyY2VSb3RhdGlvbiIsInRhcmdldFJvdGF0aW9uIiwiaXNOb29wQW5pbWF0aW9uIiwic2V0SGludCIsInVwZGF0ZUFuaW1hdGlvbnNfIiwiZ2V0SW50ZXJhY3RpbmciLCJtb3JlIiwic2VyaWVzQ29tcGxldGUiLCJlbGFwc2VkIiwiZnJhY3Rpb24iLCJwcm9ncmVzcyIsImdldFZpZXdwb3J0U2l6ZV8iLCJjb25zdHJhaW5lZFJlc29sdXRpb24iLCJjYWxjdWxhdGVDZW50ZXJab29tIiwiYXBwbHlUYXJnZXRTdGF0ZV8iLCJjb25zdHJhaW5lZFJvdGF0aW9uIiwiY2FsY3VsYXRlQ2VudGVyUm90YXRlIiwiZmlsdGVyIiwiY3VycmVudFJlc29sdXRpb24iLCJjYWxjdWxhdGVFeHRlbnQiLCJjYWxjdWxhdGVFeHRlbnRJbnRlcm5hbCIsImdldFZpZXdwb3J0U2l6ZU1pbnVzUGFkZGluZ18iLCJnZXRNYXhSZXNvbHV0aW9uIiwiZ2V0TWluUmVzb2x1dGlvbiIsImdldE1heFpvb20iLCJnZXRab29tRm9yUmVzb2x1dGlvbiIsInNldE1heFpvb20iLCJnZXRNaW5ab29tIiwic2V0TWluWm9vbSIsInNldENvbnN0cmFpblJlc29sdXRpb24iLCJlbmFibGVkIiwiZ2V0UmVzb2x1dGlvbnMiLCJnZXRSZXNvbHV0aW9uRm9yRXh0ZW50IiwiZ2V0UmVzb2x1dGlvbkZvclZhbHVlRnVuY3Rpb24iLCJnZXRDb25zdHJhaW5lZFJlc29sdXRpb24iLCJnZXRWYWx1ZUZvclJlc29sdXRpb25GdW5jdGlvbiIsImxvZ1Bvd2VyIiwicmVkdWNlZFNpemUiLCJjYWxjdWxhdGVDZW50ZXJPbiIsIm5lYXJlc3QiLCJiYXNlTGV2ZWwiLCJmaXQiLCJnZW9tZXRyeU9yRXh0ZW50IiwiZ2V0VHlwZSIsInVzZXJQcm9qZWN0aW9uIiwiY29zQW5nbGUiLCJzaW5BbmdsZSIsImdldEZsYXRDb29yZGluYXRlcyIsInN0cmlkZSIsImdldFN0cmlkZSIsIm1pblJvdFgiLCJtaW5Sb3RZIiwibWF4Um90WCIsIm1heFJvdFkiLCJyb3RYIiwicm90WSIsImNlbnRlclJvdCIsImNlbnRlclgiLCJjZW50ZXJZIiwiY2VudGVyT24iLCJjZW50ZXJPbkludGVybmFsIiwiY2FsY3VsYXRlQ2VudGVyU2hpZnQiLCJzaGlmdGVkQ2VudGVyIiwiYWRqdXN0Q2VudGVyIiwiZGVsdGFDb29yZGluYXRlcyIsInNldENlbnRlciIsImFkanVzdFJlc29sdXRpb24iLCJhZGp1c3RSb3RhdGlvbiIsIm5ld1JvdGF0aW9uIiwiaGludCIsImRvTm90Q2FuY2VsQW5pbXMiLCJmb3JjZU1vdmluZyIsIm5ld0NlbnRlciIsInJlc29sdXRpb25EaXJlY3Rpb24iLCJlbmRJbnRlcmFjdGlvbkludGVybmFsIiwidGFyZ2V0Wm9vbSIsInRhcmdldFJlcyIsInJldHVyblZhbHVlIiwiQU5JTUFUSU5HIiwiSU5URVJBQ1RJTkciLCJiaW5hcnlTZWFyY2giLCJoYXlzdGFjayIsIm5lZWRsZSIsImNvbXBhcmF0b3IiLCJtaWQiLCJjbXAiLCJhc2NlbmRpbmciLCJmb3VuZCIsImxpbmVhckZpbmROZWFyZXN0IiwicmV2ZXJzZVN1YkFycmF5IiwidG1wIiwiZXh0ZW5zaW9uIiwiYXJyMSIsImFycjIiLCJsZW4xIiwiaXNTb3J0ZWQiLCJmdW5jIiwic3RyaWN0IiwiY29tcGFyZSIsImV2ZXJ5IiwiY3VycmVudFZhbCIsInJlcyIsImFzc2VydCIsImFzc2VydGlvbiIsImVycm9yQ29kZSIsIkhFWF9DT0xPUl9SRV8iLCJOQU1FRF9DT0xPUl9SRV8iLCJhc1N0cmluZyIsImNvbG9yIiwiZnJvbVN0cmluZyIsImNhY2hlIiwiY2FjaGVTaXplIiwiZXhlYyIsImVsIiwiYm9keSIsInJnYiIsImZyb21OYW1lZCIsImhhc0FscGhhIiwic3Vic3RyIiwic3RhcnRzV2l0aCIsInNwbGl0Iiwibm9ybWFsaXplIiwiZnJvbVN0cmluZ0ludGVybmFsXyIsImFzQXJyYXkiLCJhc0NvbG9yTGlrZSIsImxldmVscyIsImluZm8iLCJ3YXJuIiwibGV2ZWwiLCJjb29yZGluYXRlMSIsImNvb3JkaW5hdGUyIiwid3JhcFgiLCJ3b3JsZHNBd2F5Iiwic291cmNlRXh0ZW50V2lkdGgiLCJnZXRXb3JsZHNBd2F5IiwiQ0xBU1NfSElEREVOIiwiQ0xBU1NfVU5TRUxFQ1RBQkxFIiwiQ0xBU1NfQ09OVFJPTCIsIkNMQVNTX0NPTExBUFNFRCIsImZvbnRSZWdFeCIsIlJlZ0V4cCIsImZvbnRSZWdFeE1hdGNoSW5kZXgiLCJnZXRGb250UGFyYW1ldGVycyIsImZvbnRTcGVjIiwibWF0Y2giLCJsaW5lSGVpZ2h0Iiwid2VpZ2h0IiwidmFyaWFudCIsImZhbWlsaWVzIiwiZmFtaWx5IiwiY3JlYXRlQ2FudmFzQ29udGV4dDJEIiwiY2FudmFzUG9vbCIsInNldHRpbmdzIiwic2hpZnQiLCJPZmZzY3JlZW5DYW52YXMiLCJnZXRDb250ZXh0IiwicmVsZWFzZUNhbnZhcyIsImNvbnRleHQiLCJjbGVhclJlY3QiLCJyZXBsYWNlTm9kZSIsIm5ld05vZGUiLCJvbGROb2RlIiwicmVwbGFjZUNoaWxkIiwicmVtb3ZlTm9kZSIsIm5vZGUiLCJyZW1vdmVDaGlsZHJlbiIsImxhc3RDaGlsZCIsInJlcGxhY2VDaGlsZHJlbiIsIm9sZENoaWxkcmVuIiwiY2hpbGROb2RlcyIsIm9sZENoaWxkIiwibmV3Q2hpbGQiLCJlYXNlSW4iLCJlYXNlT3V0IiwiaW5BbmRPdXQiLCJsaW5lYXIiLCJsaXN0ZW4iLCJvcmlnaW5hbExpc3RlbmVyIiwiZXZlbnRzS2V5IiwibGlzdGVuT25jZSIsInVubGlzdGVuQnlLZXkiLCJDSEFOR0UiLCJCTFVSIiwiQ0xFQVIiLCJDT05URVhUTUVOVSIsIkRSQUdFTlRFUiIsIkRSQUdPVkVSIiwiRk9DVVMiLCJLRVlET1dOIiwiS0VZUFJFU1MiLCJMT0FEIiwiUkVTSVpFIiwiVE9VQ0hNT1ZFIiwiV0hFRUwiLCJldmVudFRhcmdldF8iLCJwZW5kaW5nUmVtb3ZhbHNfIiwiZGlzcGF0Y2hpbmdfIiwibGlzdGVuZXJzXyIsImxpc3RlbmVycyIsImxpc3RlbmVyc0ZvclR5cGUiLCJpbmNsdWRlcyIsImlzU3RyaW5nIiwiZXZ0IiwiZGlzcGF0Y2hpbmciLCJwZW5kaW5nUmVtb3ZhbHMiLCJwcm9wYWdhdGUiLCJwciIsImdldExpc3RlbmVycyIsImJvdW5kaW5nRXh0ZW50IiwiZXh0ZW5kQ29vcmRpbmF0ZSIsImNsb3Nlc3RTcXVhcmVkRGlzdGFuY2VYWSIsImNvbnRhaW5zQ29vcmRpbmF0ZSIsImNvbnRhaW5zRXh0ZW50IiwiZXh0ZW50MSIsImV4dGVudDIiLCJjb29yZGluYXRlUmVsYXRpb25zaGlwIiwicmVsYXRpb25zaGlwIiwiY3JlYXRlRW1wdHkiLCJjcmVhdGVPclVwZGF0ZUVtcHR5IiwiY3JlYXRlT3JVcGRhdGVGcm9tQ29vcmRpbmF0ZSIsImNyZWF0ZU9yVXBkYXRlRnJvbUZsYXRDb29yZGluYXRlcyIsImZsYXRDb29yZGluYXRlcyIsImV4dGVuZEZsYXRDb29yZGluYXRlcyIsImV4dGVuZFhZIiwiZm9yRWFjaENvcm5lciIsImdldEJvdHRvbUxlZnQiLCJnZXRCb3R0b21SaWdodCIsImdldFRvcFJpZ2h0IiwiZ2V0VG9wTGVmdCIsImdldEFyZWEiLCJnZXRDb3JuZXIiLCJjb3JuZXIiLCJnZXRGb3JWaWV3QW5kU2l6ZSIsIngzIiwieTMiLCJnZXRSb3RhdGVkVmlld3BvcnQiLCJjb3NSb3RhdGlvbiIsInNpblJvdGF0aW9uIiwieENvcyIsInhTaW4iLCJ5Q29zIiwieVNpbiIsImdldEludGVyc2VjdGlvbiIsImludGVyc2VjdGlvbiIsInJldHVybk9yVXBkYXRlIiwiaW50ZXJzZWN0c1NlZ21lbnQiLCJzdGFydFJlbCIsImVuZFJlbCIsInN0YXJ0WCIsInN0YXJ0WSIsImVuZFgiLCJlbmRZIiwic2xvcGUiLCJhcHBseVRyYW5zZm9ybSIsInRyYW5zZm9ybUZuIiwic3RvcHMiLCJ4cyIsInlzIiwiX2JvdW5kaW5nRXh0ZW50WFlzIiwiVU5LTk9XTiIsIklOVEVSU0VDVElORyIsIkFCT1ZFIiwiUklHSFQiLCJCRUxPVyIsIkxFRlQiLCJkYXRhUHJvamVjdGlvbiIsImRlZmF1bHRGZWF0dXJlUHJvamVjdGlvbiIsInN1cHBvcnRlZE1lZGlhVHlwZXMiLCJnZXRSZWFkT3B0aW9ucyIsInJlYWRQcm9qZWN0aW9uIiwiZ2V0VW5pdHMiLCJzZXRXb3JsZEV4dGVudCIsImZlYXR1cmVQcm9qZWN0aW9uIiwiYWRhcHRPcHRpb25zIiwicmVhZEZlYXR1cmVzIiwicmVhZEdlb21ldHJ5Iiwid3JpdGVGZWF0dXJlIiwid3JpdGVGZWF0dXJlcyIsIndyaXRlR2VvbWV0cnkiLCJUUlVFIiwiRkFMU0UiLCJWT0lEIiwibWVtb2l6ZU9uZSIsImxhc3RSZXN1bHQiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwiY2FsbGVkIiwibmV4dEFyZ3MiLCJhc3NpZ25DbG9zZXN0Iiwib2Zmc2V0MSIsIm9mZnNldDIiLCJjbG9zZXN0UG9pbnQiLCJtYXhTcXVhcmVkRGVsdGEiLCJzcXVhcmVkRGVsdGEiLCJhc3NpZ25DbG9zZXN0UG9pbnQiLCJpc1JpbmciLCJtaW5TcXVhcmVkRGlzdGFuY2UiLCJ0bXBQb2ludCIsInNxdWFyZWREaXN0YW5jZSIsImRlZmxhdGVDb29yZGluYXRlcyIsImxpbmVhclJpbmciLCJ0d2ljZUFyZWEiLCJMaW5lYXJSaW5nIiwiU2ltcGxlR2VvbWV0cnkiLCJsYXlvdXQiLCJtYXhEZWx0YVJldmlzaW9uXyIsInNldEZsYXRDb29yZGluYXRlcyIsImNsb3Nlc3RQb2ludFhZIiwiZ2V0Q29vcmRpbmF0ZXMiLCJpbmZsYXRlIiwiZ2V0U2ltcGxpZmllZEdlb21ldHJ5SW50ZXJuYWwiLCJzcXVhcmVkVG9sZXJhbmNlIiwic2ltcGxpZmllZEZsYXRDb29yZGluYXRlcyIsImludGVyc2VjdHNFeHRlbnQiLCJzZXRMYXlvdXQiLCJwb2ludCIsImNvbXB1dGVFeHRlbnQiLCJkZWZsYXRlQ29vcmRpbmF0ZSIsImxpbmVhclJpbmdJc0Nsb2Nrd2lzZSIsImVkZ2UiLCJvcmllbnRMaW5lYXJSaW5ncyIsImVuZHMiLCJyaWdodCIsImlzQ2xvY2t3aXNlIiwiZW5kc18iLCJmbGF0SW50ZXJpb3JQb2ludFJldmlzaW9uXyIsImZsYXRJbnRlcmlvclBvaW50XyIsIm9yaWVudGVkUmV2aXNpb25fIiwib3JpZW50ZWRGbGF0Q29vcmRpbmF0ZXNfIiwiYXBwZW5kTGluZWFyUmluZyIsImFycmF5TWF4U3F1YXJlZERlbHRhIiwiYXNzaWduQ2xvc2VzdEFycmF5UG9pbnQiLCJnZXRPcmllbnRlZEZsYXRDb29yZGluYXRlcyIsImxpbmVhclJpbmdzIiwiZ2V0RW5kcyIsImdldEZsYXRJbnRlcmlvclBvaW50IiwiZmxhdENlbnRlciIsImdldEludGVyaW9yUG9pbnQiLCJnZXRMaW5lYXJSaW5nQ291bnQiLCJnZXRMaW5lYXJSaW5nIiwiZ2V0TGluZWFyUmluZ3MiLCJsaW5lYXJSaW5nc0FyZU9yaWVudGVkIiwic2ltcGxpZmllZEVuZHMiLCJjb29yZGluYXRlc3MiLCJkZWZsYXRlQ29vcmRpbmF0ZXNBcnJheSIsImZyb21FeHRlbnQiLCJ0bXBUcmFuc2Zvcm0iLCJHZW9tZXRyeSIsImV4dGVudF8iLCJleHRlbnRSZXZpc2lvbl8iLCJzaW1wbGlmaWVkR2VvbWV0cnlNYXhNaW5TcXVhcmVkVG9sZXJhbmNlIiwic2ltcGxpZmllZEdlb21ldHJ5UmV2aXNpb24iLCJzaW1wbGlmeVRyYW5zZm9ybWVkSW50ZXJuYWwiLCJyZXZpc2lvbiIsImdldFNpbXBsaWZpZWRHZW9tZXRyeSIsInNpbXBsaWZ5VHJhbnNmb3JtZWQiLCJjb29yZCIsImdldENsb3Nlc3RQb2ludCIsImludGVyc2VjdHNDb29yZGluYXRlIiwic3giLCJzeSIsInNpbXBsaWZ5IiwidHJhbnNsYXRlIiwiZGVzdGluYXRpb24iLCJzb3VyY2VQcm9qIiwiaW5Db29yZGluYXRlcyIsIm91dENvb3JkaW5hdGVzIiwicGl4ZWxFeHRlbnQiLCJwcm9qZWN0ZWRFeHRlbnQiLCJnZXRXb3JsZEV4dGVudCIsImdldFN0cmlkZUZvckxheW91dCIsInRyYW5zZm9ybUdlb20yRCIsInNpbXBsZUdlb21ldHJ5IiwiZ2V0Rmlyc3RDb29yZGluYXRlIiwiZ2V0TGFzdENvb3JkaW5hdGUiLCJnZXRMYXlvdXQiLCJzaW1wbGlmaWVkR2VvbWV0cnkiLCJuZXN0aW5nIiwiZ2V0TGF5b3V0Rm9yU3RyaWRlIiwibGluZWFyUmluZ0NvbnRhaW5zRXh0ZW50IiwibGluZWFyUmluZ0NvbnRhaW5zWFkiLCJ3biIsImxpbmVhclJpbmdzQ29udGFpbnNYWSIsImluZmxhdGVDb29yZGluYXRlcyIsImluZmxhdGVDb29yZGluYXRlc0FycmF5IiwiaW5mbGF0ZU11bHRpQ29vcmRpbmF0ZXNBcnJheSIsImVuZHNzIiwiY29vcmRpbmF0ZXNzcyIsImdldEludGVyaW9yUG9pbnRPZkFycmF5IiwiZmxhdENlbnRlcnMiLCJmbGF0Q2VudGVyc09mZnNldCIsImludGVyc2VjdGlvbnMiLCJyciIsInBvaW50WCIsIm1heFNlZ21lbnRMZW5ndGgiLCJzZWdtZW50TGVuZ3RoIiwiZ2V0SW50ZXJpb3JQb2ludHNPZk11bHRpQXJyYXkiLCJpbnRlcmlvclBvaW50cyIsImludGVyc2VjdHNMaW5lU3RyaW5nIiwiY29vcmRpbmF0ZXNFeHRlbnQiLCJyZXQiLCJwb2ludDEiLCJwb2ludDIiLCJpbnRlcnNlY3RzTGluZWFyUmluZyIsImludGVyc2VjdHNMaW5lYXJSaW5nQXJyYXkiLCJkb3VnbGFzUGV1Y2tlciIsInNpbXBsaWZpZWRPZmZzZXQiLCJtYXJrZXJzIiwibGFzdCIsImZpcnN0IiwibWF4U3F1YXJlZERpc3RhbmNlIiwic25hcCIsInF1YW50aXplIiwiZHgxIiwiZHkxIiwiZHgyIiwiZHkyIiwicXVhbnRpemVBcnJheSIsInRyYW5zZm9ybTJEIiwiYW5jaG9yWCIsImFuY2hvclkiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIkZJUkVGT1giLCJXRUJLSVQiLCJ0ZXN0IiwiTUFDIiwiREVWSUNFX1BJWEVMX1JBVElPIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIldPUktFUl9PRkZTQ1JFRU5fQ0FOVkFTIiwiV29ya2VyR2xvYmFsU2NvcGUiLCJJTUFHRV9ERUNPREUiLCJQQVNTSVZFX0VWRU5UX0xJU1RFTkVSUyIsIkJhc2VMYXllciIsImJhY2tncm91bmRfIiwiYmFja2dyb3VuZCIsImNsYXNzTmFtZV8iLCJzdGF0ZV8iLCJnZXRCYWNrZ3JvdW5kIiwiZ2V0Q2xhc3NOYW1lIiwiZ2V0WkluZGV4IiwiZ2V0T3BhY2l0eSIsImdldFZpc2libGUiLCJzZXRCYWNrZ3JvdW5kIiwic2V0RXh0ZW50Iiwic2V0TWF4UmVzb2x1dGlvbiIsInNldE1pblJlc29sdXRpb24iLCJzZXRPcGFjaXR5Iiwic2V0VmlzaWJsZSIsInNldFpJbmRleCIsInppbmRleCIsIm1hcFByZWNvbXBvc2VLZXlfIiwibWFwUmVuZGVyS2V5XyIsInNvdXJjZUNoYW5nZUtleV8iLCJzb3VyY2VSZWFkeV8iLCJyZW5kZXJlZCIsImhhbmRsZVNvdXJjZVByb3BlcnR5Q2hhbmdlXyIsInNldFNvdXJjZSIsImdldFJlbmRlclNvdXJjZSIsImhhbmRsZVNvdXJjZUNoYW5nZV8iLCJnZXRGZWF0dXJlcyIsImdldERhdGEiLCJwcmVwYXJlRnJhbWUiLCJnZXRNYXBJbnRlcm5hbCIsImFycmF5TGF5ZXJTdGF0ZSIsImNyZWF0ZVJlbmRlcmVyIiwiaW5WaWV3IiwiT1BBQ0lUWSIsIlZJU0lCTEUiLCJFWFRFTlQiLCJaX0lOREVYIiwiTUFYX1JFU09MVVRJT04iLCJNSU5fUkVTT0xVVElPTiIsIk1BWF9aT09NIiwiTUlOX1pPT00iLCJTT1VSQ0UiLCJNQVAiLCJCYXNlVGlsZUxheWVyIiwicHJlbG9hZCIsInVzZUludGVyaW1UaWxlc09uRXJyb3IiLCJzZXRQcmVsb2FkIiwic2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvciIsImdldFByZWxvYWQiLCJUaWxlUHJvcGVydHkiLCJnZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yIiwiQmFzZVRpbGUiLCJQUkVMT0FEIiwiVVNFX0lOVEVSSU1fVElMRVNfT05fRVJST1IiLCJ0YWludGVkVGVzdENvbnRleHQiLCJJY29uSW1hZ2UiLCJpbWFnZVN0YXRlIiwiaGl0RGV0ZWN0aW9uSW1hZ2VfIiwiY2FudmFzXyIsImNvbG9yXyIsImltYWdlU3RhdGVfIiwic2l6ZV8iLCJ0YWludGVkXyIsImluaXRpYWxpemVJbWFnZV8iLCJpc1RhaW50ZWRfIiwiSW1hZ2VTdGF0ZSIsIndpbGxSZWFkRnJlcXVlbnRseSIsImRyYXdJbWFnZSIsImdldEltYWdlRGF0YSIsImRpc3BhdGNoQ2hhbmdlRXZlbnRfIiwiRXZlbnRUeXBlIiwicmVwbGFjZUNvbG9yXyIsImdldFBpeGVsUmF0aW8iLCJnZXRJbWFnZVN0YXRlIiwiZ2V0SGl0RGV0ZWN0aW9uSW1hZ2UiLCJnZXRTcmMiLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJJY29uIiwicm90YXRlV2l0aFZpZXciLCJkaXNwbGFjZW1lbnQiLCJkZWNsdXR0ZXJNb2RlIiwibm9ybWFsaXplZEFuY2hvcl8iLCJhbmNob3JPcmlnaW5fIiwiYW5jaG9yT3JpZ2luIiwiYW5jaG9yWFVuaXRzXyIsImFuY2hvclhVbml0cyIsImFuY2hvcllVbml0c18iLCJhbmNob3JZVW5pdHMiLCJpbWdTaXplXyIsImltZ1NpemUiLCJpY29uSW1hZ2VfIiwiaWNvbkltYWdlIiwib2Zmc2V0XyIsIm9mZnNldE9yaWdpbl8iLCJvZmZzZXRPcmlnaW4iLCJvcmlnaW5fIiwid2lkdGhfIiwiaGVpZ2h0XyIsInNldFNjYWxlIiwidXBkYXRlU2NhbGVGcm9tV2lkdGhBbmRIZWlnaHQiLCJnZXRTY2FsZSIsImdldFJvdGF0ZVdpdGhWaWV3IiwiZ2V0RGlzcGxhY2VtZW50IiwiZ2V0RGVjbHV0dGVyTW9kZSIsImdldEFuY2hvciIsImdldFNjYWxlQXJyYXkiLCJzZXRBbmNob3IiLCJnZXRDb2xvciIsImdldEltYWdlU2l6ZSIsImdldE9yaWdpbiIsImljb25JbWFnZVNpemUiLCJzZXRXaWR0aCIsInNldEhlaWdodCIsIndpZHRoU2NhbGUiLCJoZWlnaHRTY2FsZSIsImxpc3RlbkltYWdlQ2hhbmdlIiwidW5saXN0ZW5JbWFnZUNoYW5nZSIsInRvU3R5bGUiLCJmbGF0U3R5bGUiLCJTdHlsZSIsImdldEZpbGwiLCJzdHJva2UiLCJnZXRTdHJva2UiLCJ0ZXh0IiwiZ2V0VGV4dCIsInByZWZpeCIsIkZpbGwiLCJTdHJva2UiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJsaW5lRGFzaCIsImxpbmVEYXNoT2Zmc2V0IiwibWl0ZXJMaW1pdCIsIlRleHQiLCJmb250IiwibWF4QW5nbGUiLCJwbGFjZW1lbnQiLCJ0ZXh0QWxpZ24iLCJqdXN0aWZ5IiwidGV4dEJhc2VsaW5lIiwiYmFja2dyb3VuZEZpbGwiLCJiYWNrZ3JvdW5kU3Ryb2tlIiwiaWNvblNyYyIsImljb25JbWciLCJzaGFwZVBvaW50cyIsIlJlZ3VsYXJTaGFwZSIsInJhZGl1cyIsInJhZGl1czEiLCJyYWRpdXMyIiwiY2lyY2xlUmFkaXVzIiwiQ2lyY2xlIiwiQmFzZVZlY3RvckxheWVyIiwicmVuZGVyQnVmZmVyIiwidXBkYXRlV2hpbGVBbmltYXRpbmciLCJ1cGRhdGVXaGlsZUludGVyYWN0aW5nIiwiZGVjbHV0dGVyXyIsImRlY2x1dHRlciIsInJlbmRlckJ1ZmZlcl8iLCJzdHlsZV8iLCJzdHlsZUZ1bmN0aW9uXyIsInNldFN0eWxlIiwidXBkYXRlV2hpbGVBbmltYXRpbmdfIiwidXBkYXRlV2hpbGVJbnRlcmFjdGluZ18iLCJnZXREZWNsdXR0ZXIiLCJnZXRSZW5kZXJCdWZmZXIiLCJnZXRSZW5kZXJPcmRlciIsImdldFN0eWxlIiwiZ2V0U3R5bGVGdW5jdGlvbiIsImdldFVwZGF0ZVdoaWxlQW5pbWF0aW5nIiwiZ2V0VXBkYXRlV2hpbGVJbnRlcmFjdGluZyIsInNldFJlbmRlck9yZGVyIiwicmVuZGVyT3JkZXIiLCJzdHlsZUxpa2UiLCJzdHlsZXMiLCJJbnN0cnVjdGlvbiIsIkJFR0lOX0dFT01FVFJZIiwiQkVHSU5fUEFUSCIsIkNJUkNMRSIsIkNMT1NFX1BBVEgiLCJDVVNUT00iLCJEUkFXX0NIQVJTIiwiRFJBV19JTUFHRSIsIkVORF9HRU9NRVRSWSIsIkZJTEwiLCJNT1ZFX1RPX0xJTkVfVE8iLCJTRVRfRklMTF9TVFlMRSIsIlNFVF9TVFJPS0VfU1RZTEUiLCJTVFJPS0UiLCJmaWxsSW5zdHJ1Y3Rpb24iLCJzdHJva2VJbnN0cnVjdGlvbiIsImJlZ2luUGF0aEluc3RydWN0aW9uIiwiY2xvc2VQYXRoSW5zdHJ1Y3Rpb24iLCJkcmF3Q3VzdG9tIiwiaGl0RGV0ZWN0aW9uUmVuZGVyZXIiLCJkcmF3R2VvbWV0cnkiLCJkcmF3Q2lyY2xlIiwiY2lyY2xlR2VvbWV0cnkiLCJkcmF3RmVhdHVyZSIsImRyYXdHZW9tZXRyeUNvbGxlY3Rpb24iLCJnZW9tZXRyeUNvbGxlY3Rpb25HZW9tZXRyeSIsImRyYXdMaW5lU3RyaW5nIiwibGluZVN0cmluZ0dlb21ldHJ5IiwiZHJhd011bHRpTGluZVN0cmluZyIsIm11bHRpTGluZVN0cmluZ0dlb21ldHJ5IiwiZHJhd011bHRpUG9pbnQiLCJtdWx0aVBvaW50R2VvbWV0cnkiLCJkcmF3TXVsdGlQb2x5Z29uIiwibXVsdGlQb2x5Z29uR2VvbWV0cnkiLCJkcmF3UG9pbnQiLCJwb2ludEdlb21ldHJ5IiwiZHJhd1BvbHlnb24iLCJwb2x5Z29uR2VvbWV0cnkiLCJkcmF3VGV4dCIsInNldEZpbGxTdHJva2VTdHlsZSIsInN0cm9rZVN0eWxlIiwic2V0SW1hZ2VTdHlsZSIsImltYWdlU3R5bGUiLCJkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0Iiwic2V0VGV4dFN0eWxlIiwidGV4dFN0eWxlIiwibWF4TGluZVdpZHRoIiwiYmVnaW5HZW9tZXRyeUluc3RydWN0aW9uMV8iLCJiZWdpbkdlb21ldHJ5SW5zdHJ1Y3Rpb24yXyIsImJ1ZmZlcmVkTWF4RXh0ZW50XyIsImluc3RydWN0aW9ucyIsInRtcENvb3JkaW5hdGVfIiwiaGl0RGV0ZWN0aW9uSW5zdHJ1Y3Rpb25zIiwiYXBwbHlQaXhlbFJhdGlvIiwiZGFzaEFycmF5IiwiZGFzaCIsImFwcGVuZEZsYXRQb2ludENvb3JkaW5hdGVzIiwiZ2V0QnVmZmVyZWRNYXhFeHRlbnQiLCJteUVuZCIsImFwcGVuZEZsYXRMaW5lQ29vcmRpbmF0ZXMiLCJjbG9zZWQiLCJza2lwRmlyc3QiLCJsYXN0WENvb3JkIiwibGFzdFlDb29yZCIsIm5leHRDb29yZCIsImxhc3RSZWwiLCJuZXh0UmVsIiwic2tpcHBlZCIsIlJlbGF0aW9uc2hpcCIsImRyYXdDdXN0b21Db29yZGluYXRlc18iLCJidWlsZGVyRW5kcyIsImJ1aWxkZXJFbmQiLCJiZWdpbkdlb21ldHJ5IiwiYnVpbGRlckJlZ2luIiwiYnVpbGRlckVuZHNzIiwiZ2V0RW5kc3MiLCJteUVuZHMiLCJlbmRHZW9tZXRyeSIsInJldmVyc2VIaXREZXRlY3Rpb25JbnN0cnVjdGlvbnMiLCJyZXZlcnNlIiwiaW5zdHJ1Y3Rpb24iLCJmaWxsU3R5bGVDb2xvciIsInN0cm9rZVN0eWxlQ29sb3IiLCJzdHJva2VTdHlsZUxpbmVDYXAiLCJnZXRMaW5lQ2FwIiwic3Ryb2tlU3R5bGVMaW5lRGFzaCIsImdldExpbmVEYXNoIiwic3Ryb2tlU3R5bGVMaW5lRGFzaE9mZnNldCIsImdldExpbmVEYXNoT2Zmc2V0Iiwic3Ryb2tlU3R5bGVMaW5lSm9pbiIsImdldExpbmVKb2luIiwic3Ryb2tlU3R5bGVXaWR0aCIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlTWl0ZXJMaW1pdCIsImdldE1pdGVyTGltaXQiLCJjcmVhdGVGaWxsIiwiYXBwbHlTdHJva2UiLCJjcmVhdGVTdHJva2UiLCJ1cGRhdGVGaWxsU3R5bGUiLCJjdXJyZW50RmlsbFN0eWxlIiwidXBkYXRlU3Ryb2tlU3R5bGUiLCJjdXJyZW50U3Ryb2tlU3R5bGUiLCJjdXJyZW50TGluZUNhcCIsImN1cnJlbnRMaW5lRGFzaCIsImN1cnJlbnRMaW5lRGFzaE9mZnNldCIsImN1cnJlbnRMaW5lSm9pbiIsImN1cnJlbnRMaW5lV2lkdGgiLCJjdXJyZW50TWl0ZXJMaW1pdCIsImVuZEdlb21ldHJ5SW5zdHJ1Y3Rpb24iLCJkcmF3RmxhdENvb3JkaW5hdGVzc18iLCJudW1FbmRzIiwibXlCZWdpbiIsIm1vdmVUb0xpbmVUb0luc3RydWN0aW9uIiwic2V0RmlsbFN0cm9rZVN0eWxlc18iLCJjaXJjbGVJbnN0cnVjdGlvbiIsIm1hdGNoaW5nQ2h1bmsiLCJhY29zIiwibTEyIiwibTIzIiwieDEyIiwieTEyIiwieDIzIiwieTIzIiwiY2h1bmtTdGFydCIsImNodW5rRW5kIiwiY2h1bmtNIiwiVEVYVF9BTElHTiIsIkJBVENIX0NPTlNUUlVDVE9SUyIsIlBvbHlnb25CdWlsZGVyIiwiQnVpbGRlciIsImltYWdlUGl4ZWxSYXRpb18iLCJhbmNob3JYXyIsImFuY2hvcllfIiwib3BhY2l0eV8iLCJvcmlnaW5YXyIsIm9yaWdpbllfIiwicm90YXRlV2l0aFZpZXdfIiwic2NhbGVfIiwiZGVjbHV0dGVyTW9kZV8iLCJkZWNsdXR0ZXJJbWFnZVdpdGhUZXh0XyIsInNoYXJlZERhdGEiLCJvcmlnaW4iLCJkcmF3RmxhdENvb3JkaW5hdGVzXyIsImxhc3RTdHJva2UiLCJsYWJlbHNfIiwidGV4dF8iLCJ0ZXh0T2Zmc2V0WF8iLCJ0ZXh0T2Zmc2V0WV8iLCJ0ZXh0Um90YXRlV2l0aFZpZXdfIiwidGV4dFJvdGF0aW9uXyIsInRleHRGaWxsU3RhdGVfIiwiZmlsbFN0YXRlcyIsInRleHRTdHJva2VTdGF0ZV8iLCJzdHJva2VTdGF0ZXMiLCJ0ZXh0U3RhdGVfIiwidGV4dFN0YXRlcyIsInRleHRLZXlfIiwiZmlsbEtleV8iLCJzdHJva2VLZXlfIiwiZmlsbFN0YXRlIiwic3Ryb2tlU3RhdGUiLCJ0ZXh0U3RhdGUiLCJnZW9tZXRyeVR5cGUiLCJnZW9tZXRyeVdpZHRocyIsImdldEZsYXRNaWRwb2ludCIsImdldEZsYXRNaWRwb2ludHMiLCJnZXRGbGF0SW50ZXJpb3JQb2ludHMiLCJiZWciLCJzYXZlVGV4dFN0YXRlc18iLCJwMCIsInAzIiwiZmxhdEVuZCIsImZsYXRPZmZzZXQiLCJvbyIsInJhbmdlIiwiZHJhd0NoYXJzXyIsInN0cm9rZUtleSIsInRleHRLZXkiLCJmaWxsS2V5IiwiYmFzZWxpbmUiLCJzdHJva2VXaWR0aCIsInRleHRGaWxsU3R5bGUiLCJ0ZXh0U3Ryb2tlU3R5bGUiLCJnZXRGb250IiwidGV4dFNjYWxlIiwiZ2V0T3ZlcmZsb3ciLCJnZXRNYXhBbmdsZSIsImdldFBsYWNlbWVudCIsImdldFRleHRBbGlnbiIsImdldEp1c3RpZnkiLCJnZXRUZXh0QmFzZWxpbmUiLCJnZXRCYWNrZ3JvdW5kRmlsbCIsImdldEJhY2tncm91bmRTdHJva2UiLCJnZXRQYWRkaW5nIiwidGV4dE9mZnNldFgiLCJnZXRPZmZzZXRYIiwidGV4dE9mZnNldFkiLCJnZXRPZmZzZXRZIiwidGV4dFJvdGF0ZVdpdGhWaWV3IiwidGV4dFJvdGF0aW9uIiwidG9sZXJhbmNlXyIsIm1heEV4dGVudF8iLCJyZXNvbHV0aW9uXyIsImJ1aWxkZXJzQnlaSW5kZXhfIiwiYnVpbGRlckluc3RydWN0aW9ucyIsInpLZXkiLCJidWlsZGVycyIsImJ1aWxkZXJLZXkiLCJidWlsZGVySW5zdHJ1Y3Rpb24iLCJnZXRCdWlsZGVyIiwiYnVpbGRlclR5cGUiLCJ6SW5kZXhLZXkiLCJyZXBsYXlzIiwicmVwbGF5IiwiQ29uc3RydWN0b3IiLCJkcmF3VGV4dE9uUGF0aCIsInN0YXJ0TSIsIm1lYXN1cmVBbmRDYWNoZVRleHRXaWR0aCIsInNlZ21lbnRNIiwiYWR2YW5jZSIsImJlZ2luWCIsImJlZ2luWSIsInN0YXJ0T2Zmc2V0Iiwic3RhcnRMZW5ndGgiLCJlbmRNIiwiZmxhdCIsInNpbmdsZVNlZ21lbnQiLCJwcmV2aW91c0FuZ2xlIiwiaVN0YXJ0IiwiY2hhckxlbmd0aCIsImNoYXJzIiwic3Vic3RyaW5nIiwibGluZVN0cmluZ0xlbmd0aCIsInRtcEV4dGVudCIsInA0IiwiZ2V0RGVjbHV0dGVyQm94IiwicmVwbGF5SW1hZ2VPckxhYmVsQXJncyIsImRlY2x1dHRlckJveCIsInJ0bFJlZ0V4IiwiaG9yaXpvbnRhbFRleHRBbGlnbiIsImFsaWduIiwiY3JlYXRlVGV4dENodW5rcyIsImFjYyIsIm92ZXJsYXBzIiwiYWxpZ25GaWxsXyIsImNvb3JkaW5hdGVDYWNoZV8iLCJyZW5kZXJlZFRyYW5zZm9ybV8iLCJwaXhlbENvb3JkaW5hdGVzXyIsInZpZXdSb3RhdGlvbl8iLCJ3aWR0aHNfIiwiY3JlYXRlTGFiZWwiLCJ0ZXh0SXNBcnJheSIsImNodW5rcyIsIndpZHRocyIsImhlaWdodHMiLCJsaW5lV2lkdGhzIiwicmVuZGVyV2lkdGgiLCJjb250ZXh0SW5zdHJ1Y3Rpb25zIiwibGVmdFJpZ2h0Iiwic3Ryb2tlSW5zdHJ1Y3Rpb25zIiwiZmlsbEluc3RydWN0aW9ucyIsInByZXZpb3VzRm9udCIsImxpbmVPZmZzZXQiLCJ3aWR0aEhlaWdodEluZGV4IiwibGluZVdpZHRoSW5kZXgiLCJmaWxsU3Ryb2tlQXJncyIsInJlcGxheVRleHRCYWNrZ3JvdW5kXyIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsImZpbGxfIiwic2V0U3Ryb2tlU3R5bGVfIiwiY2FsY3VsYXRlSW1hZ2VPckxhYmVsRGltZW5zaW9uc18iLCJzaGVldFdpZHRoIiwic2hlZXRIZWlnaHQiLCJvcmlnaW5YIiwib3JpZ2luWSIsInNuYXBUb1BpeGVsIiwiZmlsbFN0cm9rZSIsImJveFciLCJib3hIIiwiYm94WCIsImJveFkiLCJkcmF3SW1hZ2VYIiwiZHJhd0ltYWdlWSIsImRyYXdJbWFnZVciLCJkcmF3SW1hZ2VIIiwiY2FudmFzVHJhbnNmb3JtIiwicmVwbGF5SW1hZ2VPckxhYmVsXyIsImNvbnRleHRTY2FsZSIsImltYWdlT3JMYWJlbCIsImRpbWVuc2lvbnMiLCJib3giLCJzdHJva2VQYWRkaW5nIiwicmVwZWF0U2l6ZSIsInNhdmUiLCJyZXN0b3JlIiwic2V0TGluZURhc2giLCJkcmF3TGFiZWxXaXRoUG9pbnRQbGFjZW1lbnRfIiwiZXhlY3V0ZV8iLCJmZWF0dXJlQ2FsbGJhY2siLCJoaXRFeHRlbnQiLCJwaXhlbENvb3JkaW5hdGVzIiwiZGQiLCJwcmV2WCIsInByZXZZIiwicm91bmRYIiwicm91bmRZIiwicGVuZGluZ0ZpbGwiLCJwZW5kaW5nU3Ryb2tlIiwibGFzdEZpbGxJbnN0cnVjdGlvbiIsImxhc3RTdHJva2VJbnN0cnVjdGlvbiIsImNvb3JkaW5hdGVDYWNoZSIsInZpZXdSb3RhdGlvbiIsInZpZXdSb3RhdGlvbkZyb21UcmFuc2Zvcm0iLCJiYXRjaFNpemUiLCJjdXJyZW50R2VvbWV0cnkiLCJhcmMiLCJjbG9zZVBhdGgiLCJsYWJlbFdpdGhBbmNob3IiLCJ3aWR0aEluZGV4IiwiaW1hZ2VBcmdzIiwiaW1hZ2VEZWNsdXR0ZXJCb3giLCJtZWFzdXJlUGl4ZWxSYXRpbyIsInBpeGVsUmF0aW9TY2FsZSIsImNhY2hlZFdpZHRocyIsInBhdGhMZW5ndGgiLCJ0ZXh0TGVuZ3RoIiwicGFydHMiLCJkcmF3Q2hhcnMiLCJjYyIsInBhcnQiLCJleGVjdXRlIiwiZXhlY3V0ZUhpdERldGVjdGlvbiIsIk9SREVSIiwiY2lyY2xlUGl4ZWxJbmRleEFycmF5Q2FjaGUiLCJhbGxJbnN0cnVjdGlvbnMiLCJvdmVybGFwc18iLCJleGVjdXRvcnNCeVpJbmRleF8iLCJoaXREZXRlY3Rpb25Db250ZXh0XyIsImhpdERldGVjdGlvblRyYW5zZm9ybV8iLCJjcmVhdGVFeGVjdXRvcnNfIiwiY2xpcCIsImZsYXRDbGlwQ29vcmRzIiwiZ2V0Q2xpcENvb3JkcyIsImV4ZWN1dG9ycyIsImluc3RydWN0aW9uQnlaaW5kZXgiLCJoYXNFeGVjdXRvcnMiLCJjYW5kaWRhdGVzIiwiZGVjbHV0dGVyZWRGZWF0dXJlcyIsImNvbnRleHRTaXplIiwibmV3Q29udGV4dCIsImluZGV4ZXMiLCJtYXhEaXN0YW5jZVNxIiwiZGlzdGFuY2VzIiwicGl4ZWxJbmRleCIsImdldFBpeGVsSW5kZXhBcnJheSIsImltYWdlRGF0YSIsImlkeCIsInpzIiwiZXhlY3V0b3IiLCJidWlsZGVyVHlwZXMiLCJ1c2VyVHJhbnNmb3JtIiwiY29udGV4dF8iLCJ0cmFuc2Zvcm1fIiwidHJhbnNmb3JtUm90YXRpb25fIiwic3F1YXJlZFRvbGVyYW5jZV8iLCJ1c2VyVHJhbnNmb3JtXyIsImNvbnRleHRGaWxsU3RhdGVfIiwiY29udGV4dFN0cm9rZVN0YXRlXyIsImNvbnRleHRUZXh0U3RhdGVfIiwiZmlsbFN0YXRlXyIsInN0cm9rZVN0YXRlXyIsImltYWdlQW5jaG9yWF8iLCJpbWFnZUFuY2hvcllfIiwiaW1hZ2VIZWlnaHRfIiwiaW1hZ2VPcGFjaXR5XyIsImltYWdlT3JpZ2luWF8iLCJpbWFnZU9yaWdpbllfIiwiaW1hZ2VSb3RhdGVXaXRoVmlld18iLCJpbWFnZVJvdGF0aW9uXyIsImltYWdlU2NhbGVfIiwiaW1hZ2VXaWR0aF8iLCJ0ZXh0U2NhbGVfIiwidG1wTG9jYWxUcmFuc2Zvcm1fIiwiZHJhd0ltYWdlc18iLCJsb2NhbFRyYW5zZm9ybSIsImFscGhhIiwiZ2xvYmFsQWxwaGEiLCJzZXRUcmFuc2Zvcm0iLCJkcmF3VGV4dF8iLCJzZXRDb250ZXh0RmlsbFN0YXRlXyIsInNldENvbnRleHRTdHJva2VTdGF0ZV8iLCJzZXRDb250ZXh0VGV4dFN0YXRlXyIsInN0cm9rZVRleHQiLCJmaWxsVGV4dCIsIm1vdmVUb0xpbmVUb18iLCJkcmF3UmluZ3NfIiwiZ2V0R2VvbWV0cnlGdW5jdGlvbiIsImdlb21ldHJpZXMiLCJnZXRHZW9tZXRyaWVzQXJyYXkiLCJmbGF0TWlkcG9pbnQiLCJnZW9tZXRyeUV4dGVudCIsImZsYXRNaWRwb2ludHMiLCJmbGF0SW50ZXJpb3JQb2ludCIsImZsYXRJbnRlcmlvclBvaW50cyIsImNvbnRleHRGaWxsU3RhdGUiLCJjb250ZXh0U3Ryb2tlU3RhdGUiLCJjb250ZXh0VGV4dFN0YXRlIiwiaW1hZ2VTaXplIiwiaW1hZ2VQaXhlbFJhdGlvIiwiaW1hZ2VBbmNob3IiLCJpbWFnZU9yaWdpbiIsImltYWdlU2NhbGUiLCJ0ZXh0RmlsbFN0eWxlQ29sb3IiLCJ0ZXh0U3Ryb2tlU3R5bGVDb2xvciIsInRleHRTdHJva2VTdHlsZUxpbmVDYXAiLCJ0ZXh0U3Ryb2tlU3R5bGVMaW5lRGFzaCIsInRleHRTdHJva2VTdHlsZUxpbmVEYXNoT2Zmc2V0IiwidGV4dFN0cm9rZVN0eWxlTGluZUpvaW4iLCJ0ZXh0U3Ryb2tlU3R5bGVXaWR0aCIsInRleHRTdHJva2VTdHlsZU1pdGVyTGltaXQiLCJ0ZXh0Rm9udCIsInRleHRUZXh0IiwidGV4dFRleHRBbGlnbiIsInRleHRUZXh0QmFzZWxpbmUiLCJISVRfREVURUNUX1JFU09MVVRJT04iLCJTSU1QTElGWV9UT0xFUkFOQ0UiLCJHRU9NRVRSWV9SRU5ERVJFUlMiLCJidWlsZGVyR3JvdXAiLCJkZWNsdXR0ZXJCdWlsZGVyR3JvdXAiLCJpbWFnZUJ1aWxkZXJHcm91cCIsImltYWdlUmVwbGF5IiwidGV4dEJ1aWxkZXJHcm91cCIsInRleHRSZXBsYXkiLCJsaW5lU3RyaW5nUmVwbGF5IiwicG9seWdvblJlcGxheSIsInJlcGxheUdyb3VwIiwiZ2VvbWV0cnlSZW5kZXJlciIsImNpcmNsZVJlcGxheSIsImdldFNxdWFyZWRUb2xlcmFuY2UiLCJnZXRUb2xlcmFuY2UiLCJyZW5kZXJGZWF0dXJlIiwicmVuZGVyR2VvbWV0cnkiLCJyZW5kZXJGZWF0dXJlSW50ZXJuYWwiLCJnZXRIaXREZXRlY3Rpb25SZW5kZXJlciIsImdldEdlb21ldHJpZXMiLCJJTUFHRV9SRVBMQVlTIiwiVkVDVE9SX1JFUExBWVMiLCJDYW52YXNWZWN0b3JUaWxlTGF5ZXJSZW5kZXJlciIsImJvdW5kSGFuZGxlU3R5bGVJbWFnZUNoYW5nZV8iLCJoYW5kbGVTdHlsZUltYWdlQ2hhbmdlXyIsInJlbmRlcmVkTGF5ZXJSZXZpc2lvbl8iLCJyZW5kZXJlZFBpeGVsVG9Db29yZGluYXRlVHJhbnNmb3JtXyIsInJlbmRlcmVkUm90YXRpb25fIiwidG1wVHJhbnNmb3JtXyIsInByZXBhcmVUaWxlIiwidXBkYXRlRXhlY3V0b3JHcm91cF8iLCJ0aWxlSW1hZ2VOZWVkc1JlbmRlcl8iLCJnZXRUaWxlIiwiZ2V0TGF5ZXIiLCJoaWZpIiwid2FudGVkUmVzb2x1dGlvbiIsImdldFJlbmRlck1vZGUiLCJyZW5kZXJUaWxlSW1hZ2VfIiwiaXNEcmF3YWJsZVRpbGUiLCJleGVjdXRvckdyb3VwcyIsImhhc0NvbnRleHQiLCJnZXRUaWxlSW1hZ2UiLCJsYXllclJldmlzaW9uIiwicmVuZGVyZWRUaWxlcyIsImJ1aWxkZXJTdGF0ZSIsImdldFJlcGxheVN0YXRlIiwiZGlydHkiLCJyZW5kZXJlZFJlc29sdXRpb24iLCJyZW5kZXJlZFJldmlzaW9uIiwicmVuZGVyZWRSZW5kZXJPcmRlciIsInNvdXJjZVRpbGVHcmlkIiwiZ2V0VGlsZUdyaWQiLCJ0aWxlRXh0ZW50IiwiZ2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uIiwiZ2V0VGlsZUNvb3JkRXh0ZW50Iiwid3JhcHBlZFRpbGVDb29yZCIsInNvdXJjZVRpbGVzIiwiZ2V0U291cmNlVGlsZXMiLCJsYXllclVpZCIsImhpdERldGVjdGlvbkltYWdlRGF0YSIsImRlY2x1dHRlckV4ZWN1dG9yR3JvdXBzIiwidHQiLCJzb3VyY2VUaWxlIiwic291cmNlVGlsZUNvb3JkIiwic291cmNlVGlsZUV4dGVudCIsInNoYXJlZEV4dGVudCIsImJ1aWxkZXJFeHRlbnQiLCJidWZmZXJlZEV4dGVudCIsInN0eWxlRnVuY3Rpb24iLCJleGVjdXRvckdyb3VwSW5zdHJ1Y3Rpb25zIiwicmVwbGF5RXh0ZW50IiwicmVuZGVyaW5nUmVwbGF5R3JvdXAiLCJnZXRPdmVybGFwcyIsImRlY2x1dHRlckV4ZWN1dG9yR3JvdXAiLCJ0aWxlR3JpZCIsImxhc3RJbmRleE9mIiwiZXhlY3V0b3JHcm91cCIsInJlamVjdCIsInJlbmRlcmVkUHJvamVjdGlvbiIsImdldFRpbGVDb29yZEZvckNvb3JkQW5kUmVzb2x1dGlvbiIsImxvYWRpbmdTb3VyY2VUaWxlcyIsInRpbGVQaXhlbCIsImFjY3VtdWxhdG9yIiwidGlsZVNpemUiLCJnZXRUaWxlU2l6ZSIsImdldFpGb3JSZXNvbHV0aW9uIiwiekRpcmVjdGlvbiIsInRyYW5zZm9ybXMiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJmZWF0dXJlQ291bnQiLCJpbmRleEZhY3RvciIsImZlYXR1cmVzQnlaSW5kZXgiLCJmZWF0dXJlU3R5bGVGdW5jdGlvbiIsInBhZFN0YXJ0Iiwib3JpZ2luYWxTdHlsZSIsInNldENvbG9yIiwic2V0VGV4dCIsImltZ0NvbnRleHQiLCJieUdlb21ldHJ5VHlwZSIsImdldEdlb21ldHJpZXNBcnJheVJlY3Vyc2l2ZSIsInpJbmRleEtleXMiLCJnZW9tQW5kU3R5bGUiLCJrayIsImNyZWF0ZUhpdERldGVjdGlvbkltYWdlRGF0YSIsImdldFJlbmRlclRyYW5zZm9ybSIsImdldFRpbGVDb29yZENlbnRlciIsInJlc3VsdEZlYXR1cmVzIiwiaGl0RGV0ZWN0IiwicmVuZGVySWZSZWFkeUFuZFZpc2libGUiLCJ0aWxlcyIsImdldFRpbGVSZW5kZXJUcmFuc2Zvcm0iLCJ3b3JsZE9mZnNldCIsImludmVyc2VQaXhlbFRyYW5zZm9ybSIsInBvc3RSZW5kZXIiLCJyZW5kZXJNb2RlIiwicmVwbGF5VHlwZXMiLCJ0aWxlU291cmNlIiwiY2xpcHMiLCJjbGlwWnMiLCJjdXJyZW50WiIsImNvbnRleHRTYXZlZCIsImN1cnJlbnRDbGlwIiwicmVwbGF5U3RhdGUiLCJyZW5kZXJlZFRpbGVSZXNvbHV0aW9uIiwicmVuZGVyZWRUaWxlUmV2aXNpb24iLCJyZW5kZXJQaXhlbFJhdGlvIiwiZ2V0VGlsZVBpeGVsU2l6ZSIsInJlbmRlclNjYWxlIiwicGl4ZWxTY2FsZSIsIkJhc2VWZWN0b3IiLCJyZW5kZXJNb2RlXyIsImNsYW1wIiwic3F1YXJlZFNlZ21lbnREaXN0YW5jZSIsInNvbHZlTGluZWFyU3lzdGVtIiwibWF0IiwibWF4Um93IiwibWF4RWwiLCJhYnNWYWx1ZSIsImNvZWYiLCJ0b1JhZGlhbnMiLCJhbmdsZUluRGVncmVlcyIsIm1vZHVsbyIsImxlcnAiLCJ0b0ZpeGVkIiwiZGVjaW1hbHMiLCJvYmplY3QiLCJSQURJVVMiLCJIQUxGX1NJWkUiLCJXT1JMRF9FWFRFTlQiLCJNQVhfU0FGRV9ZIiwidGFuIiwiRVBTRzM4NTdQcm9qZWN0aW9uIiwiUHJvamVjdGlvbiIsInVuaXRzIiwiZ2xvYmFsIiwid29ybGRFeHRlbnQiLCJnZXRQb2ludFJlc29sdXRpb24iLCJjb3NoIiwiUFJPSkVDVElPTlMiLCJFUFNHNDMyNlByb2plY3Rpb24iLCJheGlzT3JpZW50YXRpb24iLCJtZXRlcnNQZXJVbml0Iiwic291cmNlQ29kZSIsImdldENvZGUiLCJkZXN0aW5hdGlvbkNvZGUiLCJERUZBVUxUX1JBRElVUyIsImMxIiwiYzIiLCJsYXQxIiwibGF0MiIsImRlbHRhTGF0QnkyIiwiZGVsdGFMb25CeTIiLCJzaG93Q29vcmRpbmF0ZVdhcm5pbmciLCJkaXNhYmxlQ29vcmRpbmF0ZVdhcm5pbmciLCJkaXNhYmxlIiwiY2xvbmVUcmFuc2Zvcm0iLCJpbnB1dCIsIm91dHB1dCIsImlkZW50aXR5VHJhbnNmb3JtIiwiYWRkUHJvamVjdGlvbiIsInByb2plY3Rpb25MaWtlIiwicG9pbnRSZXNvbHV0aW9uIiwiZ2V0dGVyIiwiZ2V0UG9pbnRSZXNvbHV0aW9uRnVuYyIsInByb2pVbml0cyIsInRvRVBTRzQzMjYiLCJnZXRUcmFuc2Zvcm1Gcm9tUHJvamVjdGlvbnMiLCJ2ZXJ0aWNlcyIsImFkZEVxdWl2YWxlbnRQcm9qZWN0aW9ucyIsInByb2plY3Rpb25zIiwiYWRkUHJvamVjdGlvbnMiLCJjcmVhdGVQcm9qZWN0aW9uIiwiZGVmYXVsdENvZGUiLCJmcm9tTG9uTGF0IiwiZXF1aXZhbGVudCIsInByb2plY3Rpb24xIiwicHJvamVjdGlvbjIiLCJlcXVhbFVuaXRzIiwic291cmNlUHJvamVjdGlvbiIsImRlc3RpbmF0aW9uUHJvamVjdGlvbiIsInRyYW5zZm9ybUZ1bmMiLCJnZXRUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm1FeHRlbnQiLCJnZXRVc2VyUHJvamVjdGlvbiIsInRvVXNlckNvb3JkaW5hdGUiLCJmcm9tVXNlckNvb3JkaW5hdGUiLCJkZXN0UHJvamVjdGlvbiIsInRvVXNlckV4dGVudCIsImZyb21Vc2VyRXh0ZW50IiwicHJvamVjdGlvbnMyIiwiZm9yd2FyZFRyYW5zZm9ybSIsImludmVyc2VUcmFuc2Zvcm0iLCJkaW1lbnNpb24iLCJjb2RlXyIsInVuaXRzXyIsIndvcmxkRXh0ZW50XyIsImF4aXNPcmllbnRhdGlvbl8iLCJnbG9iYWxfIiwiY2FuV3JhcFhfIiwiZ2V0UG9pbnRSZXNvbHV0aW9uRnVuY18iLCJkZWZhdWx0VGlsZUdyaWRfIiwibWV0ZXJzUGVyVW5pdF8iLCJnZXRBeGlzT3JpZW50YXRpb24iLCJzZXRHbG9iYWwiLCJnZXREZWZhdWx0VGlsZUdyaWQiLCJzZXREZWZhdWx0VGlsZUdyaWQiLCJzZXRHZXRQb2ludFJlc29sdXRpb24iLCJNRVRFUlNfUEVSX1VOSVQiLCJSZW5kZXJFdmVudCIsIlBSRVJFTkRFUiIsIlBPU1RSRU5ERVIiLCJQUkVDT01QT1NFIiwiUE9TVENPTVBPU0UiLCJSRU5ERVJDT01QTEVURSIsImludGVycG9sYXRlUG9pbnQiLCJjdW11bGF0aXZlTGVuZ3RocyIsIlJlbmRlckZlYXR1cmUiLCJpZF8iLCJ0eXBlXyIsImZsYXRDb29yZGluYXRlc18iLCJmbGF0SW50ZXJpb3JQb2ludHNfIiwiZmxhdE1pZHBvaW50c18iLCJwcm9wZXJ0aWVzXyIsImxpbmVhclJpbmdzcyIsIm1pZHBvaW50IiwiZGVmYXVsdEZvbnQiLCJkZWZhdWx0RmlsbFN0eWxlIiwiZGVmYXVsdExpbmVDYXAiLCJkZWZhdWx0TGluZURhc2giLCJkZWZhdWx0TGluZURhc2hPZmZzZXQiLCJkZWZhdWx0TGluZUpvaW4iLCJkZWZhdWx0TWl0ZXJMaW1pdCIsImRlZmF1bHRTdHJva2VTdHlsZSIsImRlZmF1bHRUZXh0QWxpZ24iLCJkZWZhdWx0VGV4dEJhc2VsaW5lIiwiZGVmYXVsdFBhZGRpbmciLCJkZWZhdWx0TGluZVdpZHRoIiwiY2hlY2tlZEZvbnRzIiwibWVhc3VyZUZvbnQiLCJtZWFzdXJlQ29udGV4dCIsInRleHRIZWlnaHRzIiwicmVnaXN0ZXJGb250IiwicmV0cmllcyIsInJlZmVyZW5jZUZvbnRzIiwiaW50ZXJ2YWwiLCJyZWZlcmVuY2VXaWR0aCIsImlzQXZhaWxhYmxlIiwiZm9udFN0eWxlIiwiZm9udFdlaWdodCIsImZvbnRGYW1pbHkiLCJhdmFpbGFibGUiLCJyZWZlcmVuY2VGb250IiwibWVhc3VyZVRleHRXaWR0aCIsImNoZWNrIiwiZG9uZSIsImZvbnRzIiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwibWVhc3VyZVRleHRIZWlnaHQiLCJtZWFzdXJlRWxlbWVudCIsIm1ldHJpY3MiLCJtZWFzdXJlVGV4dCIsImFjdHVhbEJvdW5kaW5nQm94QXNjZW50IiwiYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50IiwibWluSGVpZ2h0IiwibWF4SGVpZ2h0IiwiYm9yZGVyIiwiY3VyciIsImdldFRleHREaW1lbnNpb25zIiwiYmFzZVN0eWxlIiwiY3VycmVudFdpZHRoIiwiY3VycmVudEhlaWdodCIsImRyYXdJbWFnZU9yTGFiZWwiLCJsYWJlbE9ySW1hZ2UiLCJleGVjdXRlTGFiZWxJbnN0cnVjdGlvbnMiLCJMYXllclJlbmRlcmVyIiwiYm91bmRIYW5kbGVJbWFnZUNoYW5nZV8iLCJoYW5kbGVJbWFnZUNoYW5nZV8iLCJsYXllcl8iLCJsb2FkZWRUaWxlQ2FsbGJhY2siLCJjcmVhdGVMb2FkZWRUaWxlRmluZGVyIiwiZm9yRWFjaExvYWRlZFRpbGUiLCJsb2FkSW1hZ2UiLCJwaXhlbENvbnRleHQiLCJ0ZW1wVHJhbnNmb3JtIiwicGl4ZWxUcmFuc2Zvcm0iLCJjb250YWluZXJSZXVzZWQiLCJwaXhlbENvbnRleHRfIiwiY29sIiwicm93IiwidXNlQ29udGFpbmVyIiwiYmFja2dyb3VuZENvbG9yIiwibGF5ZXJDbGFzc05hbWUiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIkhUTUxDYW52YXNFbGVtZW50IiwidHJhbnNmb3JtT3JpZ2luIiwiY2xpcFVucm90YXRlZCIsInRvcExlZnQiLCJ0b3BSaWdodCIsImJvdHRvbVJpZ2h0IiwiYm90dG9tTGVmdCIsImludmVydGVkIiwiZGlzcGF0Y2hSZW5kZXJFdmVudF8iLCJwcmVSZW5kZXIiLCJ0aWxlTGF5ZXIiLCJleHRlbnRDaGFuZ2VkIiwicmVuZGVyZWRFeHRlbnRfIiwicmVuZGVyZWRQaXhlbFJhdGlvIiwibmV3VGlsZXNfIiwidG1wVGlsZVJhbmdlXyIsInRpbGVTdGF0ZSIsImxheWVyRXh0ZW50IiwidGlsZVBpeGVsUmF0aW8iLCJnZXRUaWxlUGl4ZWxSYXRpbyIsImdldFRpbGVDb29yZEZvckNvb3JkQW5kWiIsInRpbGVPcmlnaW4iLCJndXR0ZXIiLCJnZXRHdXR0ZXJGb3JQcm9qZWN0aW9uIiwidmlld1Jlc29sdXRpb24iLCJ2aWV3Q2VudGVyIiwic291cmNlUmV2aXNpb24iLCJjYW52YXNFeHRlbnQiLCJnZXRUaWxlUmFuZ2VGb3JFeHRlbnRBbmRaIiwidGlsZXNUb0RyYXdCeVoiLCJmaW5kTG9hZGVkVGlsZXMiLCJ0bXBUaWxlUmFuZ2UiLCJ2aWV3cG9ydCIsInRpbGVDb29yZEludGVyc2VjdHNWaWV3cG9ydCIsInVpZCIsImNoaWxkVGlsZVJhbmdlIiwiZ2V0VGlsZUNvb3JkQ2hpbGRUaWxlUmFuZ2UiLCJjb3ZlcmVkIiwiZm9yRWFjaFRpbGVDb29yZFBhcmVudFRpbGVSYW5nZSIsImNhbnZhc1NjYWxlIiwiZ2V0SW50ZXJwb2xhdGUiLCJnZXRPcGFxdWUiLCJjdXJyZW50VGlsZVBpeGVsU2l6ZSIsImN1cnJlbnRTY2FsZSIsIm9yaWdpblRpbGVDb29yZCIsIm9yaWdpblRpbGVFeHRlbnQiLCJ0aWxlR3V0dGVyIiwidGlsZXNUb0RyYXciLCJ0aWxlQ29vcmRLZXkiLCJ4SW5kZXgiLCJuZXh0WCIsInlJbmRleCIsIm5leHRZIiwiZHJhd1RpbGVJbWFnZSIsInVwZGF0ZVVzZWRUaWxlcyIsIm1hbmFnZVRpbGVQeXJhbWlkIiwic2NoZWR1bGVFeHBpcmVDYWNoZSIsImFscGhhQ2hhbmdlZCIsInBvc3RSZW5kZXJGdW5jdGlvbiIsInRpbGVDYWxsYmFjayIsInRpbGVDb3VudCIsInVzZVRpbGUiLCJ1cGRhdGVDYWNoZVNpemUiLCJicm9rZW5EaWFnb25hbFJlbmRlcmluZ18iLCJkcmF3VGVzdFRyaWFuZ2xlIiwidTEiLCJ2MSIsInUyIiwidjIiLCJ2ZXJpZnlCcm9rZW5EaWFnb25hbFJlbmRlcmluZyIsImNhbGN1bGF0ZVNvdXJjZVJlc29sdXRpb24iLCJ0YXJnZXRQcm9qIiwidGFyZ2V0TWV0ZXJzUGVyVW5pdCIsInNvdXJjZU1ldGVyc1BlclVuaXQiLCJzb3VyY2VFeHRlbnQiLCJjb21wZW5zYXRpb25GYWN0b3IiLCJpc0Zpbml0ZSIsIlJlcHJvalRpbGUiLCJ0YXJnZXRUaWxlR3JpZCIsImdldFRpbGVGdW5jdGlvbiIsImVycm9yVGhyZXNob2xkIiwicmVuZGVyRWRnZXMiLCJyZW5kZXJFZGdlc18iLCJndXR0ZXJfIiwic291cmNlVGlsZUdyaWRfIiwidGFyZ2V0VGlsZUdyaWRfIiwid3JhcHBlZFRpbGVDb29yZF8iLCJzb3VyY2VUaWxlc18iLCJzb3VyY2VzTGlzdGVuZXJLZXlzXyIsInNvdXJjZVpfIiwidGFyZ2V0RXh0ZW50IiwibWF4VGFyZ2V0RXh0ZW50IiwibWF4U291cmNlRXh0ZW50IiwibGltaXRlZFRhcmdldEV4dGVudCIsInNvdXJjZVByb2pFeHRlbnQiLCJjYWxjdWxhdGVTb3VyY2VFeHRlbnRSZXNvbHV0aW9uIiwiZXJyb3JUaHJlc2hvbGRJblBpeGVscyIsInRyaWFuZ3VsYXRpb25fIiwiZGVzdGluYXRpb25SZXNvbHV0aW9uIiwic291cmNlUHJval8iLCJ0YXJnZXRQcm9qXyIsInRyYW5zZm9ybUludkNhY2hlIiwidHJhbnNmb3JtSW52IiwidHJhbnNmb3JtSW52XyIsIm1heFNvdXJjZUV4dGVudF8iLCJlcnJvclRocmVzaG9sZFNxdWFyZWRfIiwidHJpYW5nbGVzXyIsIndyYXBzWEluU291cmNlXyIsImNhbldyYXBYSW5Tb3VyY2VfIiwic291cmNlV29ybGRXaWR0aF8iLCJ0YXJnZXRXb3JsZFdpZHRoXyIsImRlc3RpbmF0aW9uVG9wTGVmdCIsImRlc3RpbmF0aW9uVG9wUmlnaHQiLCJkZXN0aW5hdGlvbkJvdHRvbVJpZ2h0IiwiZGVzdGluYXRpb25Cb3R0b21MZWZ0Iiwic291cmNlVG9wTGVmdCIsInNvdXJjZVRvcFJpZ2h0Iiwic291cmNlQm90dG9tUmlnaHQiLCJzb3VyY2VCb3R0b21MZWZ0IiwibWF4U3ViZGl2aXNpb24iLCJsb2cyIiwiYWRkUXVhZF8iLCJsZWZ0Qm91bmQiLCJ0cmlhbmdsZSIsIm5ld1RyaWFuZ2xlIiwiYWRkVHJpYW5nbGVfIiwiYVNyYyIsImJTcmMiLCJjU3JjIiwiZFNyYyIsInNvdXJjZVF1YWRFeHRlbnQiLCJzb3VyY2VDb3ZlcmFnZVgiLCJzb3VyY2VXb3JsZFdpZHRoIiwid3JhcHNYIiwibmVlZHNTdWJkaXZpc2lvbiIsInRhcmdldFF1YWRFeHRlbnQiLCJpc05vdEZpbml0ZSIsImNlbnRlclNyYyIsImJjIiwiYmNTcmMiLCJkYSIsImRhU3JjIiwiYWIiLCJhYlNyYyIsImNkIiwiY2RTcmMiLCJjYWxjdWxhdGVTb3VyY2VFeHRlbnQiLCJnZXRUcmlhbmdsZXMiLCJzb3VyY2VSYW5nZSIsInNyY1giLCJzcmNZIiwicmVwcm9qZWN0XyIsInNvdXJjZXMiLCJ0cmlhbmd1bGF0aW9uIiwicGl4ZWxSb3VuZCIsInNvdXJjZURhdGFFeHRlbnQiLCJjYW52YXNXaWR0aEluVW5pdHMiLCJjYW52YXNIZWlnaHRJblVuaXRzIiwic3RpdGNoQ29udGV4dCIsInN0aXRjaFNjYWxlIiwieFBvcyIsInlQb3MiLCJzcmNXaWR0aCIsInNyY0hlaWdodCIsInRhcmdldFRvcExlZnQiLCJ1MCIsInYwIiwic291cmNlTnVtZXJpY2FsU2hpZnRYIiwic291cmNlTnVtZXJpY2FsU2hpZnRZIiwiYXVnbWVudGVkTWF0cml4IiwiYWZmaW5lQ29lZnMiLCJpc0Jyb2tlbkRpYWdvbmFsUmVuZGVyaW5nIiwic3RlcHMiLCJ1ZCIsInZkIiwic3RlcCIsImxlZnRUb0xvYWQiLCJzb3VyY2VMaXN0ZW5LZXkiLCJ1bmxpc3RlblNvdXJjZXNfIiwiY3JlYXRlU25hcFRvTiIsImNyZWF0ZVNuYXBUb1plcm8iLCJoYXNBcmVhIiwidG9TaXplIiwiVGlsZURlYnVnIiwib3BhcXVlIiwidXJsIiwidGVtcGxhdGUiLCJzdHJva2VSZWN0IiwiU291cmNlIiwiYXR0cmlidXRpb25zXyIsImFkYXB0QXR0cmlidXRpb25zIiwiYXR0cmlidXRpb25zQ29sbGFwc2libGVfIiwiYXR0cmlidXRpb25zQ29sbGFwc2libGUiLCJ3cmFwWF8iLCJpbnRlcnBvbGF0ZV8iLCJ2aWV3UmVzb2x2ZXIiLCJ2aWV3UmVqZWN0b3IiLCJ2aWV3UHJvbWlzZV8iLCJyZWZyZXNoIiwic2V0QXR0cmlidXRpb25zIiwiYXR0cmlidXRpb25MaWtlIiwiVGlsZVNvdXJjZUV2ZW50Iiwib3BhcXVlXyIsInRpbGVQaXhlbFJhdGlvXyIsInRpbGVDYWNoZSIsIlRpbGVDYWNoZSIsInRtcFNpemUiLCJ0aWxlT3B0aW9ucyIsImdldFRpbGVDYWNoZUZvclByb2plY3Rpb24iLCJzZXRLZXkiLCJnZXRUaWxlQ29vcmRGb3JUaWxlVXJsRnVuY3Rpb24iLCJjcmVhdGVGcm9tVGVtcGxhdGUiLCJ6UmVnRXgiLCJ4UmVnRXgiLCJ5UmVnRXgiLCJkYXNoWVJlZ0V4IiwiZ2V0RnVsbFRpbGVSYW5nZSIsIlVybFRpbGUiLCJnZW5lcmF0ZVRpbGVVcmxGdW5jdGlvbl8iLCJ0aWxlVXJsRnVuY3Rpb24iLCJ1cmxzIiwic2V0VXJscyIsInNldFVybCIsInRpbGVMb2FkaW5nS2V5c18iLCJnZXRUaWxlTG9hZEZ1bmN0aW9uIiwiZ2V0VGlsZVVybEZ1bmN0aW9uIiwiZ2V0UHJvdG90eXBlT2YiLCJnZXRVcmxzIiwic2V0VGlsZUxvYWRGdW5jdGlvbiIsInNldFRpbGVVcmxGdW5jdGlvbiIsInN0YXJ0Q2hhckNvZGUiLCJzdG9wQ2hhckNvZGUiLCJzdG9wIiwiZXhwYW5kVXJsIiwidGVtcGxhdGVzIiwidGlsZVVybEZ1bmN0aW9ucyIsImNyZWF0ZUZyb21UaWxlVXJsRnVuY3Rpb25zIiwiY3JlYXRlRnJvbVRlbXBsYXRlcyIsImZvcm1hdCIsImZvcm1hdF8iLCJmZWF0dXJlc18iLCJsb2FkZXJfIiwidXJsXyIsImdldEZvcm1hdCIsIm9uTG9hZCIsInNldEZlYXR1cmVzIiwib25FcnJvciIsInNldExvYWRlciIsImxvYWRlciIsIlZlY3RvclJlbmRlclRpbGUiLCJ1cmxUaWxlQ29vcmQiLCJyZXBsYXlTdGF0ZV8iLCJlcnJvclRpbGVLZXlzIiwicmVuZGVyZWRUaWxlWiIsIndpdGhDcmVkZW50aWFscyIsImRlZmF1bHRMb2FkRnVuY3Rpb24iLCJzb3VyY2VUaWxlQ2FjaGUiLCJ0aWxlQ2xhc3MiLCJ0aWxlR3JpZHNfIiwiZ2V0RmVhdHVyZXNJbkV4dGVudCIsInRpbGVGZWF0dXJlcyIsImNhbmRpZGF0ZSIsInVzZWRTb3VyY2VUaWxlcyIsImNhY2hlS2V5Iiwic291cmNlWiIsImZvckVhY2hUaWxlQ29vcmQiLCJ0aWxlVXJsIiwic291cmNlVGlsZVN0YXRlIiwibGlzdGVuQ2hhbmdlIiwic291cmNlVGlsZUtleSIsImNvb3JkS2V5IiwiZW1wdHkiLCJuZXdUaWxlIiwib3JpZ2lucyIsInRpbGVTaXplcyIsIlRpbGVHcmlkIiwic3VjY2VzcyIsImZhaWx1cmUiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJyZXNwb25zZVR5cGUiLCJvbmxvYWQiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZVhNTCIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsIm9uZXJyb3IiLCJzZW5kIiwibG9hZEZlYXR1cmVzWGhyIiwiVGlsZUltYWdlIiwiZGVmYXVsdFRpbGVMb2FkRnVuY3Rpb24iLCJ0aWxlQ2FjaGVGb3JQcm9qZWN0aW9uIiwidGlsZUdyaWRGb3JQcm9qZWN0aW9uIiwicmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGRfIiwicmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQiLCJyZW5kZXJSZXByb2plY3Rpb25FZGdlc18iLCJ1c2VkVGlsZUNhY2hlIiwiZ2V0R3V0dGVyIiwidGhpc1Byb2oiLCJwcm9qS2V5IiwiY3JlYXRlVGlsZV8iLCJnZXRUaWxlSW50ZXJuYWwiLCJzZXRSZW5kZXJSZXByb2plY3Rpb25FZGdlcyIsInNldFRpbGVHcmlkRm9yUHJvamVjdGlvbiIsInRpbGVncmlkIiwicHJvaiIsImltYWdlVGlsZSIsIkNpcmNsZVN0eWxlIiwiZ2V0UmFkaXVzIiwic2V0UmFkaXVzIiwicmFkaXVzXyIsInNoYXJlZCIsImNhY2hlXyIsImNhY2hlU2l6ZV8iLCJtYXhDYWNoZVNpemVfIiwiZXhwaXJlIiwibWF4Q2FjaGVTaXplIiwiSW1hZ2VTdHlsZSIsInNjYWxlQXJyYXlfIiwiZGlzcGxhY2VtZW50XyIsInNldERpc3BsYWNlbWVudCIsInNldFJvdGF0ZVdpdGhWaWV3IiwiaGl0RGV0ZWN0aW9uQ2FudmFzXyIsInJhZGl1czJfIiwic3Ryb2tlXyIsInJlbmRlck9wdGlvbnNfIiwiZ2V0UG9pbnRzIiwiZ2V0UmFkaXVzMiIsInNldEZpbGwiLCJjcmVhdGVIaXREZXRlY3Rpb25DYW52YXNfIiwicmVuZGVyT3B0aW9ucyIsImRyYXdfIiwic2V0U3Ryb2tlIiwiY2FsY3VsYXRlTGluZUpvaW5TaXplXyIsInIxIiwicjIiLCJtaXRlclJhdGlvIiwiYmV2ZWxBZGQiLCJhYSIsImlubmVyTWl0ZXJSYXRpbyIsImlubmVyTGVuZ3RoIiwiY3JlYXRlUmVuZGVyT3B0aW9ucyIsIm1heFJhZGl1cyIsImNyZWF0ZVBhdGhfIiwiZHJhd0hpdERldGVjdGlvbkNhbnZhc18iLCJzdGFydEFuZ2xlIiwiYW5nbGUwIiwicmFkaXVzQyIsImxpbmVDYXBfIiwibGluZURhc2hfIiwibGluZURhc2hPZmZzZXRfIiwibGluZUpvaW5fIiwibWl0ZXJMaW1pdF8iLCJzZXRMaW5lQ2FwIiwic2V0TGluZURhc2hPZmZzZXQiLCJzZXRMaW5lSm9pbiIsInNldE1pdGVyTGltaXQiLCJnZW9tZXRyeUZ1bmN0aW9uXyIsImRlZmF1bHRHZW9tZXRyeUZ1bmN0aW9uIiwic2V0R2VvbWV0cnkiLCJoaXREZXRlY3Rpb25SZW5kZXJlcl8iLCJ6SW5kZXhfIiwic2V0UmVuZGVyZXIiLCJzZXRIaXREZXRlY3Rpb25SZW5kZXJlciIsInRvRnVuY3Rpb24iLCJkZWZhdWx0U3R5bGVzIiwiY3JlYXRlRGVmYXVsdFN0eWxlIiwiZm9udF8iLCJ0ZXh0QWxpZ25fIiwianVzdGlmeV8iLCJ0ZXh0QmFzZWxpbmVfIiwibWF4QW5nbGVfIiwicGxhY2VtZW50XyIsIm92ZXJmbG93XyIsIm9mZnNldFhfIiwib2Zmc2V0WV8iLCJiYWNrZ3JvdW5kRmlsbF8iLCJiYWNrZ3JvdW5kU3Ryb2tlXyIsInNldE92ZXJmbG93Iiwic2V0Rm9udCIsInNldE1heEFuZ2xlIiwic2V0T2Zmc2V0WCIsInNldE9mZnNldFkiLCJzZXRQbGFjZW1lbnQiLCJzZXRUZXh0QWxpZ24iLCJzZXRKdXN0aWZ5Iiwic2V0VGV4dEJhc2VsaW5lIiwic2V0QmFja2dyb3VuZEZpbGwiLCJzZXRCYWNrZ3JvdW5kU3Ryb2tlIiwic2V0UGFkZGluZyIsImdldEtleVpYWSIsImdldENhY2hlS2V5Rm9yVGlsZUtleSIsImZyb21LZXkiLCJoYXNoIiwid2l0aGluRXh0ZW50QW5kWiIsImdldEZvclByb2plY3Rpb24iLCJyZXNvbHV0aW9uc0Zyb21FeHRlbnQiLCJjcmVhdGVGb3JFeHRlbnQiLCJleHRlbnRGcm9tUHJvamVjdGlvbiIsImNyZWF0ZUZvclByb2plY3Rpb24iLCJjcmVhdGVYWVoiLCJ4eXpPcHRpb25zIiwiZ3JpZE9wdGlvbnMiLCJoYWxmIiwidG1wVGlsZUNvb3JkIiwib3JpZ2luc18iLCJ0aWxlU2l6ZXNfIiwidGlsZVNpemVfIiwiZnVsbFRpbGVSYW5nZXNfIiwidG1wU2l6ZV8iLCJ0bXBFeHRlbnRfIiwic2l6ZXMiLCJyZXN0cmljdGVkVGlsZVJhbmdlIiwiY2FsY3VsYXRlVGlsZVJhbmdlc18iLCJ0ZW1wVGlsZVJhbmdlIiwidGVtcEV4dGVudCIsInRpbGVDb29yZEV4dGVudCIsImdldFRpbGVSYW5nZUZvclRpbGVDb29yZEFuZFoiLCJ0aWxlQ29vcmRaIiwidGlsZUNvb3JkWCIsInRpbGVDb29yZFkiLCJnZXRUaWxlUmFuZ2VFeHRlbnQiLCJnZXRUaWxlQ29vcmRGb3JYWUFuZFpfIiwib3B0X3RpbGVDb29yZCIsImdldFRpbGVDb29yZEZvclhZQW5kUmVzb2x1dGlvbl8iLCJyZXZlcnNlSW50ZXJzZWN0aW9uUG9saWN5IiwiZ2V0VGlsZUNvb3JkUmVzb2x1dGlvbiIsIm9wdF9kaXJlY3Rpb24iLCJmdWxsVGlsZVJhbmdlcyIsIkRFRkFVTFRfTUFYX1pPT00iLCJERUZBVUxUX1RJTEVfU0laRSIsInRtcF8iLCJyZXNldCIsIm11bHRpcGx5IiwidHJhbnNmb3JtMSIsInRyYW5zZm9ybTIiLCJhMSIsImQxIiwiZTEiLCJmMSIsImEyIiwiZDIiLCJlMiIsImYyIiwic2V0RnJvbUFycmF5IiwiY29tcG9zZSIsIm1ha2VJbnZlcnNlIiwiZGV0IiwidHJhbnNmb3JtU3RyaW5nRGl2IiwidHJhbnNmb3JtU3RyaW5nIiwiYWJzdHJhY3QiLCJ1aWRDb3VudGVyXyIsImdldFVpZCIsIm9sX3VpZCIsInplcm8kMSIsImV4dHJhX2xiaXRzIiwiZXh0cmFfZGJpdHMiLCJleHRyYV9ibGJpdHMiLCJibF9vcmRlciIsInN0YXRpY19sdHJlZSIsInN0YXRpY19kdHJlZSIsIkRfQ09ERVMkMSIsIl9kaXN0X2NvZGUiLCJfbGVuZ3RoX2NvZGUiLCJNQVhfTUFUQ0gkMSIsImJhc2VfbGVuZ3RoIiwiYmFzZV9kaXN0IiwiU3RhdGljVHJlZURlc2MiLCJzdGF0aWNfdHJlZSIsImV4dHJhX2JpdHMiLCJleHRyYV9iYXNlIiwiZWxlbXMiLCJtYXhfbGVuZ3RoIiwiaGFzX3N0cmVlIiwic3RhdGljX2xfZGVzYyIsInN0YXRpY19kX2Rlc2MiLCJzdGF0aWNfYmxfZGVzYyIsIlRyZWVEZXNjIiwiZHluX3RyZWUiLCJzdGF0X2Rlc2MiLCJtYXhfY29kZSIsImRfY29kZSIsInB1dF9zaG9ydCIsInBlbmRpbmdfYnVmIiwicGVuZGluZyIsInNlbmRfYml0cyIsImJpX3ZhbGlkIiwiYmlfYnVmIiwic2VuZF9jb2RlIiwidHJlZSIsImJpX3JldmVyc2UiLCJnZW5fY29kZXMiLCJibF9jb3VudCIsIm5leHRfY29kZSIsIk1BWF9CSVRTJDEiLCJiaXRzIiwiaW5pdF9ibG9jayIsIkxJVEVSQUxTJDEiLCJkeW5fbHRyZWUiLCJkeW5fZHRyZWUiLCJibF90cmVlIiwiRU5EX0JMT0NLIiwib3B0X2xlbiIsInN0YXRpY19sZW4iLCJzeW1fbmV4dCIsImJpX3dpbmR1cCIsInNtYWxsZXIiLCJkZXB0aCIsIl9uMiIsIl9tMiIsInBxZG93bmhlYXAiLCJoZWFwIiwiaGVhcF9sZW4iLCJjb21wcmVzc19ibG9jayIsImx0cmVlIiwiZHRyZWUiLCJsYyIsImV4dHJhIiwic3ltX2J1ZiIsImJ1aWxkX3RyZWUiLCJkZXNjIiwic3RyZWUiLCJoZWFwX21heCIsImJhc2UiLCJ4Yml0cyIsImdlbl9iaXRsZW4iLCJzY2FuX3RyZWUiLCJjdXJsZW4iLCJwcmV2bGVuIiwibmV4dGxlbiIsIm1heF9jb3VudCIsIm1pbl9jb3VudCIsIlJFUF8zXzYiLCJSRVBaXzNfMTAiLCJSRVBaXzExXzEzOCIsInNlbmRfdHJlZSIsInN0YXRpY19pbml0X2RvbmUiLCJfdHJfc3RvcmVkX2Jsb2NrJDEiLCJzdG9yZWRfbGVuIiwidHJlZXMiLCJfdHJfaW5pdCIsIkxFTkdUSF9DT0RFUyQxIiwiTF9DT0RFUyQxIiwidHJfc3RhdGljX2luaXQiLCJsX2Rlc2MiLCJkX2Rlc2MiLCJibF9kZXNjIiwiX3RyX3N0b3JlZF9ibG9jayIsIl90cl9mbHVzaF9ibG9jayIsIm9wdF9sZW5iIiwic3RhdGljX2xlbmIiLCJtYXhfYmxpbmRleCIsInN0cm0iLCJkYXRhX3R5cGUiLCJibG9ja19tYXNrIiwiZGV0ZWN0X2RhdGFfdHlwZSIsIkJMX0NPREVTJDEiLCJidWlsZF9ibF90cmVlIiwic3RyYXRlZ3kiLCJsY29kZXMiLCJkY29kZXMiLCJibGNvZGVzIiwicmFuayIsInNlbmRfYWxsX3RyZWVzIiwiX3RyX3RhbGx5Iiwic3ltX2VuZCIsIl90cl9hbGlnbiIsIlNUQVRJQ19UUkVFUyIsImJpX2ZsdXNoIiwiYWRsZXIzMl8xIiwiYWRsZXIiLCJzMSIsInMyIiwiY3JjVGFibGUiLCJVaW50MzJBcnJheSIsInRhYmxlIiwibWFrZVRhYmxlIiwiY3JjMzJfMSIsImNyYyIsImNvbnN0YW50cyQyIiwiWl9OT19GTFVTSCIsIlpfUEFSVElBTF9GTFVTSCIsIlpfU1lOQ19GTFVTSCIsIlpfRlVMTF9GTFVTSCIsIlpfRklOSVNIIiwiWl9CTE9DSyIsIlpfVFJFRVMiLCJaX09LIiwiWl9TVFJFQU1fRU5EIiwiWl9ORUVEX0RJQ1QiLCJaX0VSUk5PIiwiWl9TVFJFQU1fRVJST1IiLCJaX0RBVEFfRVJST1IiLCJaX01FTV9FUlJPUiIsIlpfQlVGX0VSUk9SIiwiWl9OT19DT01QUkVTU0lPTiIsIlpfQkVTVF9TUEVFRCIsIlpfQkVTVF9DT01QUkVTU0lPTiIsIlpfREVGQVVMVF9DT01QUkVTU0lPTiIsIlpfRklMVEVSRUQiLCJaX0hVRkZNQU5fT05MWSIsIlpfUkxFIiwiWl9GSVhFRCIsIlpfREVGQVVMVF9TVFJBVEVHWSIsIlpfQklOQVJZIiwiWl9URVhUIiwiWl9VTktOT1dOIiwiWl9ERUZMQVRFRCIsIlpfTk9fRkxVU0gkMiIsIlpfRlVMTF9GTFVTSCQxIiwiWl9GSU5JU0gkMyIsIlpfQkxPQ0skMSIsIlpfT0skMyIsIlpfU1RSRUFNX0VORCQzIiwiWl9TVFJFQU1fRVJST1IkMiIsIlpfREFUQV9FUlJPUiQyIiwiWl9CVUZfRVJST1IkMSIsIlpfREVGQVVMVF9DT01QUkVTU0lPTiQxIiwiWl9ERUZBVUxUX1NUUkFURUdZJDEiLCJaX0RFRkxBVEVEJDIiLCJMX0NPREVTIiwiTElURVJBTFMiLCJEX0NPREVTIiwiQkxfQ09ERVMiLCJIRUFQX1NJWkUiLCJNQVhfQklUUyIsIk1BWF9NQVRDSCIsIk1JTl9MT09LQUhFQUQiLCJJTklUX1NUQVRFIiwiQlVTWV9TVEFURSIsIkZJTklTSF9TVEFURSIsIm1zZyIsInplcm8iLCJzbGlkZV9oYXNoIiwid3NpemUiLCJ3X3NpemUiLCJoYXNoX3NpemUiLCJoZWFkIiwiSEFTSCIsImhhc2hfc2hpZnQiLCJoYXNoX21hc2siLCJmbHVzaF9wZW5kaW5nIiwiYXZhaWxfb3V0IiwicGVuZGluZ19vdXQiLCJuZXh0X291dCIsInRvdGFsX291dCIsImZsdXNoX2Jsb2NrX29ubHkiLCJibG9ja19zdGFydCIsInN0cnN0YXJ0IiwicHV0X2J5dGUiLCJwdXRTaG9ydE1TQiIsInJlYWRfYnVmIiwiYXZhaWxfaW4iLCJuZXh0X2luIiwidG90YWxfaW4iLCJsb25nZXN0X21hdGNoIiwiY3VyX21hdGNoIiwiY2hhaW5fbGVuZ3RoIiwibWF4X2NoYWluX2xlbmd0aCIsInNjYW4iLCJiZXN0X2xlbiIsInByZXZfbGVuZ3RoIiwibmljZV9tYXRjaCIsImxpbWl0IiwiX3dpbiIsIndtYXNrIiwid19tYXNrIiwic3RyZW5kIiwic2Nhbl9lbmQxIiwic2Nhbl9lbmQiLCJnb29kX21hdGNoIiwibG9va2FoZWFkIiwibWF0Y2hfc3RhcnQiLCJmaWxsX3dpbmRvdyIsIl93X3NpemUiLCJ3aW5kb3dfc2l6ZSIsImluc19oIiwiZGVmbGF0ZV9zdG9yZWQiLCJmbHVzaCIsImhhdmUiLCJtaW5fYmxvY2siLCJwZW5kaW5nX2J1Zl9zaXplIiwidXNlZCIsImhpZ2hfd2F0ZXIiLCJkZWZsYXRlX2Zhc3QiLCJoYXNoX2hlYWQiLCJiZmx1c2giLCJtYXRjaF9sZW5ndGgiLCJtYXhfbGF6eV9tYXRjaCIsIk1JTl9NQVRDSCIsImRlZmxhdGVfc2xvdyIsIm1heF9pbnNlcnQiLCJwcmV2X21hdGNoIiwibWF0Y2hfYXZhaWxhYmxlIiwiQ29uZmlnIiwiZ29vZF9sZW5ndGgiLCJtYXhfbGF6eSIsIm5pY2VfbGVuZ3RoIiwibWF4X2NoYWluIiwiY29uZmlndXJhdGlvbl90YWJsZSIsIkRlZmxhdGVTdGF0ZSIsImd6aGVhZCIsImd6aW5kZXgiLCJtZXRob2QiLCJsYXN0X2ZsdXNoIiwid19iaXRzIiwiaGFzaF9iaXRzIiwiVWludDE2QXJyYXkiLCJsaXRfYnVmc2l6ZSIsImRlZmxhdGVTdGF0ZUNoZWNrIiwiZGVmbGF0ZVJlc2V0S2VlcCIsImRlZmxhdGVSZXNldCIsImRlZmxhdGVJbml0MiIsIndpbmRvd0JpdHMiLCJtZW1MZXZlbCIsImRlZmxhdGVfMSQyIiwiZGVmbGF0ZUluaXQiLCJkZWZsYXRlU2V0SGVhZGVyIiwiZGVmbGF0ZSIsIm9sZF9mbHVzaCIsImhlYWRlciIsImxldmVsX2ZsYWdzIiwiaGNyYyIsImNvbW1lbnQiLCJvcyIsImNvcHkiLCJnemhlYWRfZXh0cmEiLCJic3RhdGUiLCJkZWZsYXRlX2h1ZmYiLCJkZWZsYXRlX3JsZSIsImRlZmxhdGVFbmQiLCJkZWZsYXRlU2V0RGljdGlvbmFyeSIsImRpY3Rpb25hcnkiLCJkaWN0TGVuZ3RoIiwidG1wRGljdCIsImF2YWlsIiwibmV4dCIsImRlZmxhdGVJbmZvIiwiX2hhcyIsImNvbW1vbiIsIlR5cGVFcnJvciIsImZsYXR0ZW5DaHVua3MiLCJjaHVuayIsIlNUUl9BUFBMWV9VSUFfT0siLCJfXyIsIl91dGY4bGVuIiwicSIsInN0cmluZ3MiLCJzdHJpbmcyYnVmIiwibV9wb3MiLCJzdHJfbGVuIiwiYnVmX2xlbiIsImJ1ZjJzdHJpbmciLCJ1dGYxNmJ1ZiIsImNfbGVuIiwiYnVmMmJpbnN0cmluZyIsInV0Zjhib3JkZXIiLCJ6c3RyZWFtIiwidG9TdHJpbmckMSIsIlpfTk9fRkxVU0gkMSIsIlpfRklOSVNIJDIiLCJaX09LJDIiLCJaX1NUUkVBTV9FTkQkMiIsIlpfREVGTEFURUQkMSIsIkRlZmxhdGUkMSIsImNodW5rU2l6ZSIsIm9wdCIsInJhdyIsImd6aXAiLCJlbmRlZCIsImRpY3QiLCJfZGljdF9zZXQiLCJkZWZsYXRlJDEiLCJkZWZsYXRvciIsImZsdXNoX21vZGUiLCJfZmx1c2hfbW9kZSIsIm9uRGF0YSIsIm9uRW5kIiwiZGVmbGF0ZV8xJDEiLCJEZWZsYXRlIiwiZGVmbGF0ZVJhdyIsImNvbnN0YW50cyIsIkJBRCQxIiwiaW5mZmFzdCIsIl9pbiIsIl9vdXQiLCJkbWF4Iiwid2hhdmUiLCJ3bmV4dCIsInNfd2luZG93IiwiaG9sZCIsImxjb2RlIiwiZGNvZGUiLCJsbWFzayIsImRtYXNrIiwiaGVyZSIsIm9wIiwiZnJvbSIsImZyb21fc291cmNlIiwibGVuY29kZSIsImRpc3Rjb2RlIiwibGVuYml0cyIsImRpc3RiaXRzIiwiZG9sZW4iLCJtb2RlIiwiZG9kaXN0Iiwic2FuZSIsImxiYXNlIiwibGV4dCIsImRiYXNlIiwiZGV4dCIsImluZnRyZWVzIiwibGVucyIsImxlbnNfaW5kZXgiLCJjb2RlcyIsInRhYmxlX2luZGV4Iiwid29yayIsIm9wdHMiLCJpbmNyIiwibWFzayIsInN5bSIsInJvb3QiLCJkcm9wIiwiaHVmZiIsIk1BWEJJVFMiLCJvZmZzIiwiaGVyZV9iaXRzIiwiaGVyZV9vcCIsImhlcmVfdmFsIiwiWl9GSU5JU0gkMSIsIlpfT0skMSIsIlpfU1RSRUFNX0VORCQxIiwiWl9ORUVEX0RJQ1QkMSIsIlpfU1RSRUFNX0VSUk9SJDEiLCJaX0RBVEFfRVJST1IkMSIsIlpfTUVNX0VSUk9SJDEiLCJIRUFEIiwiRElDVCIsIlRZUEUiLCJUWVBFRE8iLCJDT1BZXyIsIkxFTl8iLCJMRU4iLCJDSEVDSyIsIkJBRCIsInpzd2FwMzIiLCJJbmZsYXRlU3RhdGUiLCJoYXZlZGljdCIsImZsYWdzIiwidG90YWwiLCJ3Yml0cyIsIm5jb2RlIiwibmxlbiIsIm5kaXN0IiwibGVuZHluIiwiZGlzdGR5biIsImJhY2siLCJ3YXMiLCJpbmZsYXRlU3RhdGVDaGVjayIsImluZmxhdGVSZXNldEtlZXAiLCJpbmZsYXRlUmVzZXQiLCJpbmZsYXRlUmVzZXQyIiwiaW5mbGF0ZUluaXQyIiwibGVuZml4IiwiZGlzdGZpeCIsInZpcmdpbiIsImZpeGVkdGFibGVzIiwidXBkYXRld2luZG93IiwiaW5mbGF0ZV8xJDIiLCJpbmZsYXRlSW5pdCIsInB1dCIsImxhc3RfYml0cyIsImxhc3Rfb3AiLCJsYXN0X3ZhbCIsImhidWYiLCJpbmZfbGVhdmUiLCJ4ZmxhZ3MiLCJleHRyYV9sZW4iLCJpbmZsYXRlRW5kIiwiaW5mbGF0ZUdldEhlYWRlciIsImluZmxhdGVTZXREaWN0aW9uYXJ5IiwiZGljdGlkIiwiaW5mbGF0ZUluZm8iLCJnemhlYWRlciIsIkluZmxhdGUkMSIsInRvIiwiaW5mbGF0ZSQxIiwiaW5mbGF0b3IiLCJsYXN0X2F2YWlsX291dCIsIm5leHRfb3V0X3V0ZjgiLCJ0YWlsIiwidXRmOHN0ciIsImluZmxhdGVfMSQxIiwiSW5mbGF0ZSIsImluZmxhdGVSYXciLCJ1bmd6aXAiLCJ1bmd6aXBfMSJdLCJzb3VyY2VSb290IjoiIn0=