{"version":3,"file":"270.bundle.js","mappings":"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jB,GAAqBtD,EACvB,CAgzJE4nB,GAGInnB,EAAkB,IAuBlB9H,EAAkB,WACpBA,EAAkB,UAAE,cACpByD,YAAW,WACTA,YAAW,WACTzD,EAAkB,UAAE,GACtB,GAAG,GACH+uB,GACF,GAAG,IAGHA,IAEFpoB,KACF,CAyCA,GApZgBwC,EAAoB,aACjBA,EAAoB,gBACtBA,EAAoB,cAOrCnJ,EAAmB,WAAIgF,EACK,CAC1B,gBACA,uBACA,yBACA,uBACA,yBACA,iBACA,sBACA,6BACA,sBACA,SACA,WACA,UACA,YACA,YACA,YACA,YACA,eACA,gBACA,gBACA,eACA,gBACA,4BACA,gBACA,UACA,UACA,aACA,yBACA,eACA,UACA,kBACA,uBACA,sBACA,mBACA,YACA,iBACA,cACA,sBACA,kBACA,oBACA,aACA,cACA,eACA,aACA,WACA,QACA,QACA,gBACA,iBACA,mBACA,0BACA,oBACA,iBACA,qBACA,cACA,iBACA,iBACA,SACA,SACA,SACA,eACA,mBACA,gBACA,gBACA,gBACA,mBACA,gBACA,gBACA,mBACA,sBACA,qBACA,2BACA,yBACA,kBACA,wBACA,wBACA,qBACA,6BACA,6BACA,0BACA,6BACA,iCACA,yCACA,4BACA,oCACA,oBACA,iCACA,yCACA,gCACA,wCACA,6BACA,qCACA,0BACA,mCACA,wBACA,eACA,wCACA,sBACA,iCACA,yCACA,wCACA,qBACA,gCACA,wCACA,6BACA,uBACA,+BACA,oCACA,uBACA,UACA,+BACA,uBACA,uBACA,eACA,aACA,iBACA,yBACA,yBACA,uBACA,sBACA,wBACA,uBACA,aACA,cACA,gBACA,sBACA,gBACA,oBACA,cACA,kBACA,mBACA,YACA,eACA,sBACA,yBACA,8BACA,sCACA,uCACA,kCACA,gCACA,qBACA,gCACA,iCACA,iCACA,gBACA,4BACA,0BACA,6CACA,uBACA,iCACA,+BACA,eACA,6BACA,qBACA,cACA,iBACA,YACA,eACA,cACA,WACA,sBACA,sBAEoB5E,SAtwItB,SAA8BkK,GACF,oBAAftM,YAA+BQ,OAAO6B,yBAAyBrC,WAAYsM,IACpF9L,OAAO8B,eAAetC,WAAYsM,EAAK,CACrCH,cAAc,EACd,GAAA5J,GAGE,IAAIgK,EAAM,IAAMD,EAAM,iJAIlB4kB,EAAgB5kB,EACf4kB,EAAchmB,WAAW,OAC5BgmB,EAAgB,IAAM5kB,GAExBC,GAAO,8CAAgD2kB,EAAgB,KACnE9kB,GAA4BE,KAC9BC,GAAO,4FAETC,GAASD,EAEX,IAKJE,GAAwBH,EAC1B,IA6uIwB,CACtB,MACA,cACA,YACA,eACA,YACA,eACA,mBACA,sBACA,kBACA,gBACA,oBACA,gBACA,kBACA,cACA,MACA,MACA,WACA,QACA,mBACA,cACA,aACA,YACA,eACA,cACA,cACA,mBACA,mBACA,iBACA,YACA,YACA,qBACA,cACA,aACA,aACA,aACA,MACA,qBACA,kBACA,gCACA,6BACA,aACA,eACA,cACA,iBACA,WACA,MACA,YACA,UACA,iBACA,aACA,SACA,WACA,eACA,qBACA,oBACA,YACA,cACA,YACA,YACA,mBACA,sBACA,WACA,WACA,OACA,UACA,cACA,oBACA,eACA,oBACA,eACA,kBACA,qBACA,gBACA,eACA,kBACA,WACA,qBACA,4BACA,0BACA,WACA,cACA,aACA,gBACA,UACA,WACA,aACA,yBACA,gBACA,kBACA,UACA,OACA,WACA,iBACA,yBACA,uBACA,aACA,0BACA,mBACA,KACA,oBACA,QACA,MACA,SACA,SACA,uBACA,4BACA,0BACA,KACA,qCACA,KACA,OACA,MACA,OACA,WACA,MACA,UACA,eACA,uBAEgBlK,QAAQqK,IAM1BzC,EAAwB,SAASmnB,IAE1BvH,IAAWkH,KACXlH,KAAW5f,EAAwBmnB,EAC1C,EAmGInvB,EAAgB,QAElB,IADgC,mBAArBA,EAAgB,UAAiBA,EAAgB,QAAI,CAACA,EAAgB,UAC1EA,EAAgB,QAAEZ,OAAS,GAChCY,EAAgB,QAAE0c,KAAlB1c,GAwtZF,OAptZF8uB,KAeI9uB,EAAOgvB,UAAShvB,EAAOgvB,QAAU,IACrChvB,EAAOgvB,QAAQ1gB,M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","sources":["webpack://ol-mbtiles/webpack/bootstrap","webpack://ol-mbtiles/webpack/runtime/get javascript chunk filename","webpack://ol-mbtiles/webpack/runtime/global","webpack://ol-mbtiles/webpack/runtime/hasOwnProperty shorthand","webpack://ol-mbtiles/webpack/runtime/publicPath","webpack://ol-mbtiles/webpack/runtime/importScripts chunk loading","webpack://ol-mbtiles/./node_modules/sqlite-wasm-http/deps/dist/sqlite3-bundler-friendly.mjs","webpack://ol-mbtiles/./node_modules/sqlite-wasm-http/deps/dist/sqlite3-worker1-bundler-friendly.mjs"],"sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".bundle.js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = self.location + \"\";\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t270: 1\n};\n\n// no chunk install function needed\n// no chunk loading\n\n// no HMR\n\n// no HMR manifest","/*\n** LICENSE for the sqlite3 WebAssembly/JavaScript APIs.\n**\n** This bundle (typically released as sqlite3.js or sqlite3.mjs)\n** is an amalgamation of JavaScript source code from two projects:\n**\n** 1) https://emscripten.org: the Emscripten \"glue code\" is covered by\n**    the terms of the MIT license and University of Illinois/NCSA\n**    Open Source License, as described at:\n**\n**    https://emscripten.org/docs/introducing_emscripten/emscripten_license.html\n**\n** 2) https://sqlite.org: all code and documentation labeled as being\n**    from this source are released under the same terms as the sqlite3\n**    C library:\n**\n** 2022-10-16\n**\n** The author disclaims copyright to this source code.  In place of a\n** legal notice, here is a blessing:\n**\n** *   May you do good and not evil.\n** *   May you find forgiveness for yourself and forgive others.\n** *   May you share freely, never taking more than you give.\n*/\n/*\n** This code was built from sqlite3 version...\n**\n** SQLITE_VERSION \"3.44.2\"\n** SQLITE_VERSION_NUMBER 3044002\n** SQLITE_SOURCE_ID \"2023-11-24 11:41:44 ebead0e7230cd33bcec9f95d2183069565b9e709bf745c9b5db65cc0cbf92c0f\"\n**\n** Using the Emscripten SDK version 3.1.46.\n*/\n\nvar sqlite3InitModule = (() => {\n  var _scriptDir = import.meta.url;\n  \n  return (\nfunction(moduleArg = {}) {\n\n// include: shell.js\n// The Module object: Our interface to the outside world. We import\n// and export values on it. There are various ways Module can be used:\n// 1. Not defined. We create it here\n// 2. A function parameter, function(Module) { ..generated code.. }\n// 3. pre-run appended it, var Module = {}; ..generated code..\n// 4. External script tag defines var Module.\n// We need to check if Module already exists (e.g. case 3 above).\n// Substitution will be replaced with actual code on later stage of the build,\n// this way Closure Compiler will not mangle it (e.g. case 4. above).\n// Note that if you want to run closure, and also to use Module\n// after the generated code, you will need to define   var Module = {};\n// before the code. Then that object will be used in the code, and you\n// can continue to use Module afterwards as well.\nvar Module = moduleArg;\n\n// Set up the promise that indicates the Module is initialized\nvar readyPromiseResolve, readyPromiseReject;\nModule['ready'] = new Promise((resolve, reject) => {\n  readyPromiseResolve = resolve;\n  readyPromiseReject = reject;\n});\n[\"_malloc\",\"_free\",\"_realloc\",\"_sqlite3_aggregate_context\",\"_sqlite3_auto_extension\",\"_sqlite3_bind_blob\",\"_sqlite3_bind_double\",\"_sqlite3_bind_int\",\"_sqlite3_bind_int64\",\"_sqlite3_bind_null\",\"_sqlite3_bind_parameter_count\",\"_sqlite3_bind_parameter_index\",\"_sqlite3_bind_pointer\",\"_sqlite3_bind_text\",\"_sqlite3_busy_handler\",\"_sqlite3_busy_timeout\",\"_sqlite3_cancel_auto_extension\",\"_sqlite3_changes\",\"_sqlite3_changes64\",\"_sqlite3_clear_bindings\",\"_sqlite3_close_v2\",\"_sqlite3_collation_needed\",\"_sqlite3_column_blob\",\"_sqlite3_column_bytes\",\"_sqlite3_column_count\",\"_sqlite3_column_double\",\"_sqlite3_column_int\",\"_sqlite3_column_int64\",\"_sqlite3_column_name\",\"_sqlite3_column_text\",\"_sqlite3_column_type\",\"_sqlite3_column_value\",\"_sqlite3_commit_hook\",\"_sqlite3_compileoption_get\",\"_sqlite3_compileoption_used\",\"_sqlite3_complete\",\"_sqlite3_context_db_handle\",\"_sqlite3_create_collation\",\"_sqlite3_create_collation_v2\",\"_sqlite3_create_function\",\"_sqlite3_create_function_v2\",\"_sqlite3_create_module\",\"_sqlite3_create_module_v2\",\"_sqlite3_create_window_function\",\"_sqlite3_data_count\",\"_sqlite3_db_filename\",\"_sqlite3_db_handle\",\"_sqlite3_db_name\",\"_sqlite3_db_status\",\"_sqlite3_declare_vtab\",\"_sqlite3_deserialize\",\"_sqlite3_drop_modules\",\"_sqlite3_errcode\",\"_sqlite3_errmsg\",\"_sqlite3_error_offset\",\"_sqlite3_errstr\",\"_sqlite3_exec\",\"_sqlite3_expanded_sql\",\"_sqlite3_extended_errcode\",\"_sqlite3_extended_result_codes\",\"_sqlite3_file_control\",\"_sqlite3_finalize\",\"_sqlite3_free\",\"_sqlite3_get_auxdata\",\"_sqlite3_initialize\",\"_sqlite3_keyword_count\",\"_sqlite3_keyword_name\",\"_sqlite3_keyword_check\",\"_sqlite3_last_insert_rowid\",\"_sqlite3_libversion\",\"_sqlite3_libversion_number\",\"_sqlite3_limit\",\"_sqlite3_malloc\",\"_sqlite3_malloc64\",\"_sqlite3_msize\",\"_sqlite3_open\",\"_sqlite3_open_v2\",\"_sqlite3_overload_function\",\"_sqlite3_prepare_v2\",\"_sqlite3_prepare_v3\",\"_sqlite3_preupdate_blobwrite\",\"_sqlite3_preupdate_count\",\"_sqlite3_preupdate_depth\",\"_sqlite3_preupdate_hook\",\"_sqlite3_preupdate_new\",\"_sqlite3_preupdate_old\",\"_sqlite3_progress_handler\",\"_sqlite3_randomness\",\"_sqlite3_realloc\",\"_sqlite3_realloc64\",\"_sqlite3_reset\",\"_sqlite3_reset_auto_extension\",\"_sqlite3_result_blob\",\"_sqlite3_result_double\",\"_sqlite3_result_error\",\"_sqlite3_result_error_code\",\"_sqlite3_result_error_nomem\",\"_sqlite3_result_error_toobig\",\"_sqlite3_result_int\",\"_sqlite3_result_int64\",\"_sqlite3_result_null\",\"_sqlite3_result_pointer\",\"_sqlite3_result_subtype\",\"_sqlite3_result_text\",\"_sqlite3_result_zeroblob\",\"_sqlite3_result_zeroblob64\",\"_sqlite3_rollback_hook\",\"_sqlite3_serialize\",\"_sqlite3_set_authorizer\",\"_sqlite3_set_auxdata\",\"_sqlite3_set_last_insert_rowid\",\"_sqlite3_shutdown\",\"_sqlite3_sourceid\",\"_sqlite3_sql\",\"_sqlite3_status\",\"_sqlite3_status64\",\"_sqlite3_step\",\"_sqlite3_stmt_isexplain\",\"_sqlite3_stmt_readonly\",\"_sqlite3_stmt_status\",\"_sqlite3_strglob\",\"_sqlite3_stricmp\",\"_sqlite3_strlike\",\"_sqlite3_strnicmp\",\"_sqlite3_table_column_metadata\",\"_sqlite3_total_changes\",\"_sqlite3_total_changes64\",\"_sqlite3_trace_v2\",\"_sqlite3_txn_state\",\"_sqlite3_update_hook\",\"_sqlite3_uri_boolean\",\"_sqlite3_uri_int64\",\"_sqlite3_uri_key\",\"_sqlite3_uri_parameter\",\"_sqlite3_user_data\",\"_sqlite3_value_blob\",\"_sqlite3_value_bytes\",\"_sqlite3_value_double\",\"_sqlite3_value_dup\",\"_sqlite3_value_free\",\"_sqlite3_value_frombind\",\"_sqlite3_value_int\",\"_sqlite3_value_int64\",\"_sqlite3_value_nochange\",\"_sqlite3_value_numeric_type\",\"_sqlite3_value_pointer\",\"_sqlite3_value_subtype\",\"_sqlite3_value_text\",\"_sqlite3_value_type\",\"_sqlite3_vfs_find\",\"_sqlite3_vfs_register\",\"_sqlite3_vfs_unregister\",\"_sqlite3_vtab_collation\",\"_sqlite3_vtab_distinct\",\"_sqlite3_vtab_in\",\"_sqlite3_vtab_in_first\",\"_sqlite3_vtab_in_next\",\"_sqlite3_vtab_nochange\",\"_sqlite3_vtab_on_conflict\",\"_sqlite3_vtab_rhs_value\",\"_sqlite3changegroup_add\",\"_sqlite3changegroup_add_strm\",\"_sqlite3changegroup_delete\",\"_sqlite3changegroup_new\",\"_sqlite3changegroup_output\",\"_sqlite3changegroup_output_strm\",\"_sqlite3changeset_apply\",\"_sqlite3changeset_apply_strm\",\"_sqlite3changeset_apply_v2\",\"_sqlite3changeset_apply_v2_strm\",\"_sqlite3changeset_concat\",\"_sqlite3changeset_concat_strm\",\"_sqlite3changeset_conflict\",\"_sqlite3changeset_finalize\",\"_sqlite3changeset_fk_conflicts\",\"_sqlite3changeset_invert\",\"_sqlite3changeset_invert_strm\",\"_sqlite3changeset_new\",\"_sqlite3changeset_next\",\"_sqlite3changeset_old\",\"_sqlite3changeset_op\",\"_sqlite3changeset_pk\",\"_sqlite3changeset_start\",\"_sqlite3changeset_start_strm\",\"_sqlite3changeset_start_v2\",\"_sqlite3changeset_start_v2_strm\",\"_sqlite3session_attach\",\"_sqlite3session_changeset\",\"_sqlite3session_changeset_size\",\"_sqlite3session_changeset_strm\",\"_sqlite3session_config\",\"_sqlite3session_create\",\"_sqlite3session_delete\",\"_sqlite3session_diff\",\"_sqlite3session_enable\",\"_sqlite3session_indirect\",\"_sqlite3session_isempty\",\"_sqlite3session_memory_used\",\"_sqlite3session_object_config\",\"_sqlite3session_patchset\",\"_sqlite3session_patchset_strm\",\"_sqlite3session_table_filter\",\"_sqlite3_wasm_pstack_ptr\",\"_sqlite3_wasm_pstack_restore\",\"_sqlite3_wasm_pstack_alloc\",\"_sqlite3_wasm_pstack_remaining\",\"_sqlite3_wasm_pstack_quota\",\"_sqlite3_wasm_db_error\",\"_sqlite3_wasm_test_struct\",\"_sqlite3_wasm_enum_json\",\"_sqlite3_wasm_vfs_unlink\",\"_sqlite3_wasm_db_vfs\",\"_sqlite3_wasm_db_reset\",\"_sqlite3_wasm_db_export_chunked\",\"_sqlite3_wasm_db_serialize\",\"_sqlite3_wasm_vfs_create_file\",\"_sqlite3_wasm_posix_create_file\",\"_sqlite3_wasm_kvvfsMakeKeyOnPstack\",\"_sqlite3_wasm_kvvfs_methods\",\"_sqlite3_wasm_vtab_config\",\"_sqlite3_wasm_db_config_ip\",\"_sqlite3_wasm_db_config_pii\",\"_sqlite3_wasm_db_config_s\",\"_sqlite3_wasm_config_i\",\"_sqlite3_wasm_config_ii\",\"_sqlite3_wasm_config_j\",\"_sqlite3_wasm_init_wasmfs\",\"_sqlite3_wasm_test_intptr\",\"_sqlite3_wasm_test_voidptr\",\"_sqlite3_wasm_test_int64_max\",\"_sqlite3_wasm_test_int64_min\",\"_sqlite3_wasm_test_int64_times2\",\"_sqlite3_wasm_test_int64_minmax\",\"_sqlite3_wasm_test_int64ptr\",\"_sqlite3_wasm_test_stack_overflow\",\"_sqlite3_wasm_test_str_hello\",\"_sqlite3_wasm_SQLTester_strglob\",\"___indirect_function_table\",\"_fflush\",\"onRuntimeInitialized\"].forEach((prop) => {\n  if (!Object.getOwnPropertyDescriptor(Module['ready'], prop)) {\n    Object.defineProperty(Module['ready'], prop, {\n      get: () => abort('You are getting ' + prop + ' on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js'),\n      set: () => abort('You are setting ' + prop + ' on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js'),\n    });\n  }\n});\n\n// --pre-jses are emitted after the Module integration code, so that they can\n// refer to Module (if they choose; they can also define Module)\n/**\n   BEGIN FILE: api/pre-js.js\n\n   This file is intended to be prepended to the sqlite3.js build using\n   Emscripten's --pre-js=THIS_FILE flag (or equivalent).\n*/\n\n// See notes in extern-post-js.js\nconst sqlite3InitModuleState = globalThis.sqlite3InitModuleState\n      || Object.assign(Object.create(null),{\n        debugModule: ()=>{}\n      });\ndelete globalThis.sqlite3InitModuleState;\nsqlite3InitModuleState.debugModule('globalThis.location =',globalThis.location);\n\n\n/**\n   Bug warning: a custom Module.instantiateWasm() does not work\n   in WASMFS builds:\n\n   https://github.com/emscripten-core/emscripten/issues/17951\n\n   In such builds we must disable this.\n*/\nconst xNameOfInstantiateWasm = false\n      ? 'instantiateWasm'\n      : 'emscripten-bug-17951';\nModule[xNameOfInstantiateWasm] = function callee(imports,onSuccess){\n  imports.env.foo = function(){};\n  const uri = Module.locateFile(\n    callee.uri, (\n      ('undefined'===typeof scriptDirectory/*var defined by Emscripten glue*/)\n        ? \"\" : scriptDirectory)\n  );\n  sqlite3InitModuleState.debugModule(\n    \"instantiateWasm() uri =\", uri\n  );\n  const wfetch = ()=>fetch(uri, {credentials: 'same-origin'});\n  const loadWasm = WebAssembly.instantiateStreaming\n        ? async ()=>{\n          return WebAssembly.instantiateStreaming(wfetch(), imports)\n            .then((arg)=>onSuccess(arg.instance, arg.module));\n        }\n        : async ()=>{ // Safari < v15\n          return wfetch()\n            .then(response => response.arrayBuffer())\n            .then(bytes => WebAssembly.instantiate(bytes, imports))\n            .then((arg)=>onSuccess(arg.instance, arg.module));\n        };\n  loadWasm();\n  return {};\n};\n/*\n  It is literally impossible to reliably get the name of _this_ script\n  at runtime, so impossible to derive X.wasm from script name\n  X.js. Thus we need, at build-time, to redefine\n  Module[xNameOfInstantiateWasm].uri by appending it to a build-specific\n  copy of this file with the name of the wasm file. This is apparently\n  why Emscripten hard-codes the name of the wasm file into their glue\n  scripts.\n*/\nModule[xNameOfInstantiateWasm].uri = 'sqlite3.wasm';\n/* END FILE: api/pre-js.js, noting that the build process may add a\n   line after this one to change the above .uri to a build-specific\n   one. */\n\n\n// Sometimes an existing Module object exists with properties\n// meant to overwrite the default module functionality. Here\n// we collect those properties and reapply _after_ we configure\n// the current environment's defaults to avoid having to be so\n// defensive during initialization.\nvar moduleOverrides = Object.assign({}, Module);\n\nvar arguments_ = [];\nvar thisProgram = './this.program';\nvar quit_ = (status, toThrow) => {\n  throw toThrow;\n};\n\n// Determine the runtime environment we are in. You can customize this by\n// setting the ENVIRONMENT setting at compile time (see settings.js).\n\n// Attempt to auto-detect the environment\nvar ENVIRONMENT_IS_WEB = typeof window == 'object';\nvar ENVIRONMENT_IS_WORKER = typeof importScripts == 'function';\n// N.b. Electron.js environment is simultaneously a NODE-environment, but\n// also a web environment.\nvar ENVIRONMENT_IS_NODE = typeof process == 'object' && typeof process.versions == 'object' && typeof process.versions.node == 'string';\nvar ENVIRONMENT_IS_SHELL = !ENVIRONMENT_IS_WEB && !ENVIRONMENT_IS_NODE && !ENVIRONMENT_IS_WORKER;\n\nif (Module['ENVIRONMENT']) {\n  throw new Error('Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)');\n}\n\n// `/` should be present at the end if `scriptDirectory` is not empty\nvar scriptDirectory = '';\nfunction locateFile(path) {\n  if (Module['locateFile']) {\n    return Module['locateFile'](path, scriptDirectory);\n  }\n  return scriptDirectory + path;\n}\n\n// Hooks that are implemented differently in different runtime environments.\nvar read_,\n    readAsync,\n    readBinary;\n\nif (ENVIRONMENT_IS_SHELL) {\n\n  if ((typeof process == 'object' && typeof require === 'function') || typeof window == 'object' || typeof importScripts == 'function') throw new Error('not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)');\n\n  if (typeof read != 'undefined') {\n    read_ = read;\n  }\n\n  readBinary = (f) => {\n    if (typeof readbuffer == 'function') {\n      return new Uint8Array(readbuffer(f));\n    }\n    let data = read(f, 'binary');\n    assert(typeof data == 'object');\n    return data;\n  };\n\n  readAsync = (f, onload, onerror) => {\n    setTimeout(() => onload(readBinary(f)));\n  };\n\n  if (typeof clearTimeout == 'undefined') {\n    globalThis.clearTimeout = (id) => {};\n  }\n\n  if (typeof setTimeout == 'undefined') {\n    // spidermonkey lacks setTimeout but we use it above in readAsync.\n    globalThis.setTimeout = (f) => (typeof f == 'function') ? f() : abort();\n  }\n\n  if (typeof scriptArgs != 'undefined') {\n    arguments_ = scriptArgs;\n  } else if (typeof arguments != 'undefined') {\n    arguments_ = arguments;\n  }\n\n  if (typeof quit == 'function') {\n    quit_ = (status, toThrow) => {\n      // Unlike node which has process.exitCode, d8 has no such mechanism. So we\n      // have no way to set the exit code and then let the program exit with\n      // that code when it naturally stops running (say, when all setTimeouts\n      // have completed). For that reason, we must call `quit` - the only way to\n      // set the exit code - but quit also halts immediately.  To increase\n      // consistency with node (and the web) we schedule the actual quit call\n      // using a setTimeout to give the current stack and any exception handlers\n      // a chance to run.  This enables features such as addOnPostRun (which\n      // expected to be able to run code after main returns).\n      setTimeout(() => {\n        if (!(toThrow instanceof ExitStatus)) {\n          let toLog = toThrow;\n          if (toThrow && typeof toThrow == 'object' && toThrow.stack) {\n            toLog = [toThrow, toThrow.stack];\n          }\n          err(`exiting due to exception: ${toLog}`);\n        }\n        quit(status);\n      });\n      throw toThrow;\n    };\n  }\n\n  if (typeof print != 'undefined') {\n    // Prefer to use print/printErr where they exist, as they usually work better.\n    if (typeof console == 'undefined') console = /** @type{!Console} */({});\n    console.log = /** @type{!function(this:Console, ...*): undefined} */ (print);\n    console.warn = console.error = /** @type{!function(this:Console, ...*): undefined} */ (typeof printErr != 'undefined' ? printErr : print);\n  }\n\n} else\n\n// Note that this includes Node.js workers when relevant (pthreads is enabled).\n// Node.js workers are detected as a combination of ENVIRONMENT_IS_WORKER and\n// ENVIRONMENT_IS_NODE.\nif (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) {\n  if (ENVIRONMENT_IS_WORKER) { // Check worker, not web, since window could be polyfilled\n    scriptDirectory = self.location.href;\n  } else if (typeof document != 'undefined' && document.currentScript) { // web\n    scriptDirectory = document.currentScript.src;\n  }\n  // When MODULARIZE, this JS may be executed later, after document.currentScript\n  // is gone, so we saved it, and we use it here instead of any other info.\n  if (_scriptDir) {\n    scriptDirectory = _scriptDir;\n  }\n  // blob urls look like blob:http://site.com/etc/etc and we cannot infer anything from them.\n  // otherwise, slice off the final part of the url to find the script directory.\n  // if scriptDirectory does not contain a slash, lastIndexOf will return -1,\n  // and scriptDirectory will correctly be replaced with an empty string.\n  // If scriptDirectory contains a query (starting with ?) or a fragment (starting with #),\n  // they are removed because they could contain a slash.\n  if (scriptDirectory.indexOf('blob:') !== 0) {\n    scriptDirectory = scriptDirectory.substr(0, scriptDirectory.replace(/[?#].*/, \"\").lastIndexOf('/')+1);\n  } else {\n    scriptDirectory = '';\n  }\n\n  if (!(typeof window == 'object' || typeof importScripts == 'function')) throw new Error('not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)');\n\n  // Differentiate the Web Worker from the Node Worker case, as reading must\n  // be done differently.\n  {\n// include: web_or_worker_shell_read.js\nread_ = (url) => {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, false);\n    xhr.send(null);\n    return xhr.responseText;\n  }\n\n  if (ENVIRONMENT_IS_WORKER) {\n    readBinary = (url) => {\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', url, false);\n      xhr.responseType = 'arraybuffer';\n      xhr.send(null);\n      return new Uint8Array(/** @type{!ArrayBuffer} */(xhr.response));\n    };\n  }\n\n  readAsync = (url, onload, onerror) => {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.responseType = 'arraybuffer';\n    xhr.onload = () => {\n      if (xhr.status == 200 || (xhr.status == 0 && xhr.response)) { // file URLs can return 0\n        onload(xhr.response);\n        return;\n      }\n      onerror();\n    };\n    xhr.onerror = onerror;\n    xhr.send(null);\n  }\n\n// end include: web_or_worker_shell_read.js\n  }\n} else\n{\n  throw new Error('environment detection error');\n}\n\nvar out = Module['print'] || console.log.bind(console);\nvar err = Module['printErr'] || console.error.bind(console);\n\n// Merge back in the overrides\nObject.assign(Module, moduleOverrides);\n// Free the object hierarchy contained in the overrides, this lets the GC\n// reclaim data used e.g. in memoryInitializerRequest, which is a large typed array.\nmoduleOverrides = null;\ncheckIncomingModuleAPI();\n\n// Emit code to handle expected values on the Module object. This applies Module.x\n// to the proper local x. This has two benefits: first, we only emit it if it is\n// expected to arrive, and second, by using a local everywhere else that can be\n// minified.\n\nif (Module['arguments']) arguments_ = Module['arguments'];legacyModuleProp('arguments', 'arguments_');\n\nif (Module['thisProgram']) thisProgram = Module['thisProgram'];legacyModuleProp('thisProgram', 'thisProgram');\n\nif (Module['quit']) quit_ = Module['quit'];legacyModuleProp('quit', 'quit_');\n\n// perform assertions in shell.js after we set up out() and err(), as otherwise if an assertion fails it cannot print the message\n// Assertions on removed incoming Module JS APIs.\nassert(typeof Module['memoryInitializerPrefixURL'] == 'undefined', 'Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead');\nassert(typeof Module['pthreadMainPrefixURL'] == 'undefined', 'Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead');\nassert(typeof Module['cdInitializerPrefixURL'] == 'undefined', 'Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead');\nassert(typeof Module['filePackagePrefixURL'] == 'undefined', 'Module.filePackagePrefixURL option was removed, use Module.locateFile instead');\nassert(typeof Module['read'] == 'undefined', 'Module.read option was removed (modify read_ in JS)');\nassert(typeof Module['readAsync'] == 'undefined', 'Module.readAsync option was removed (modify readAsync in JS)');\nassert(typeof Module['readBinary'] == 'undefined', 'Module.readBinary option was removed (modify readBinary in JS)');\nassert(typeof Module['setWindowTitle'] == 'undefined', 'Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)');\nassert(typeof Module['TOTAL_MEMORY'] == 'undefined', 'Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY');\nlegacyModuleProp('asm', 'wasmExports');\nlegacyModuleProp('read', 'read_');\nlegacyModuleProp('readAsync', 'readAsync');\nlegacyModuleProp('readBinary', 'readBinary');\nlegacyModuleProp('setWindowTitle', 'setWindowTitle');\nvar IDBFS = 'IDBFS is no longer included by default; build with -lidbfs.js';\nvar PROXYFS = 'PROXYFS is no longer included by default; build with -lproxyfs.js';\nvar WORKERFS = 'WORKERFS is no longer included by default; build with -lworkerfs.js';\nvar FETCHFS = 'FETCHFS is no longer included by default; build with -lfetchfs.js';\nvar ICASEFS = 'ICASEFS is no longer included by default; build with -licasefs.js';\nvar JSFILEFS = 'JSFILEFS is no longer included by default; build with -ljsfilefs.js';\nvar OPFS = 'OPFS is no longer included by default; build with -lopfs.js';\n\nvar NODEFS = 'NODEFS is no longer included by default; build with -lnodefs.js';\n\nassert(!ENVIRONMENT_IS_NODE, \"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable.\");\n\nassert(!ENVIRONMENT_IS_SHELL, \"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.\");\n\n\n// end include: shell.js\n// include: preamble.js\n// === Preamble library stuff ===\n\n// Documentation for the public APIs defined in this file must be updated in:\n//    site/source/docs/api_reference/preamble.js.rst\n// A prebuilt local version of the documentation is available at:\n//    site/build/text/docs/api_reference/preamble.js.txt\n// You can also build docs locally as HTML or other formats in site/\n// An online HTML version (which may be of a different version of Emscripten)\n//    is up at http://kripken.github.io/emscripten-site/docs/api_reference/preamble.js.html\n\nvar wasmBinary;\nif (Module['wasmBinary']) wasmBinary = Module['wasmBinary'];legacyModuleProp('wasmBinary', 'wasmBinary');\nvar noExitRuntime = Module['noExitRuntime'] || true;legacyModuleProp('noExitRuntime', 'noExitRuntime');\n\nif (typeof WebAssembly != 'object') {\n  abort('no native wasm support detected');\n}\n\n// Wasm globals\n\nvar wasmMemory;\n\n//========================================\n// Runtime essentials\n//========================================\n\n// whether we are quitting the application. no code should run after this.\n// set in exit() and abort()\nvar ABORT = false;\n\n// set by exit() and abort().  Passed to 'onExit' handler.\n// NOTE: This is also used as the process return code code in shell environments\n// but only when noExitRuntime is false.\nvar EXITSTATUS;\n\n/** @type {function(*, string=)} */\nfunction assert(condition, text) {\n  if (!condition) {\n    abort('Assertion failed' + (text ? ': ' + text : ''));\n  }\n}\n\n// We used to include malloc/free by default in the past. Show a helpful error in\n// builds with assertions.\n\n// Memory management\n\nvar HEAP,\n/** @type {!Int8Array} */\n  HEAP8,\n/** @type {!Uint8Array} */\n  HEAPU8,\n/** @type {!Int16Array} */\n  HEAP16,\n/** @type {!Uint16Array} */\n  HEAPU16,\n/** @type {!Int32Array} */\n  HEAP32,\n/** @type {!Uint32Array} */\n  HEAPU32,\n/** @type {!Float32Array} */\n  HEAPF32,\n/* BigInt64Array type is not correctly defined in closure\n/** not-@type {!BigInt64Array} */\n  HEAP64,\n/* BigUInt64Array type is not correctly defined in closure\n/** not-t@type {!BigUint64Array} */\n  HEAPU64,\n/** @type {!Float64Array} */\n  HEAPF64;\n\nfunction updateMemoryViews() {\n  var b = wasmMemory.buffer;\n  Module['HEAP8'] = HEAP8 = new Int8Array(b);\n  Module['HEAP16'] = HEAP16 = new Int16Array(b);\n  Module['HEAPU8'] = HEAPU8 = new Uint8Array(b);\n  Module['HEAPU16'] = HEAPU16 = new Uint16Array(b);\n  Module['HEAP32'] = HEAP32 = new Int32Array(b);\n  Module['HEAPU32'] = HEAPU32 = new Uint32Array(b);\n  Module['HEAPF32'] = HEAPF32 = new Float32Array(b);\n  Module['HEAPF64'] = HEAPF64 = new Float64Array(b);\n  Module['HEAP64'] = HEAP64 = new BigInt64Array(b);\n  Module['HEAPU64'] = HEAPU64 = new BigUint64Array(b);\n}\n\nassert(!Module['STACK_SIZE'], 'STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time')\n\nassert(typeof Int32Array != 'undefined' && typeof Float64Array !== 'undefined' && Int32Array.prototype.subarray != undefined && Int32Array.prototype.set != undefined,\n       'JS engine does not provide full typed array support');\n\n// In non-standalone/normal mode, we create the memory here.\n// include: runtime_init_memory.js\n// Create the wasm memory. (Note: this only applies if IMPORTED_MEMORY is defined)\n\nvar INITIAL_MEMORY = Module['INITIAL_MEMORY'] || 16777216;legacyModuleProp('INITIAL_MEMORY', 'INITIAL_MEMORY');\n\nassert(INITIAL_MEMORY >= 524288, 'INITIAL_MEMORY should be larger than STACK_SIZE, was ' + INITIAL_MEMORY + '! (STACK_SIZE=' + 524288 + ')');\n\n// check for full engine support (use string 'subarray' to avoid closure compiler confusion)\n\n  if (Module['wasmMemory']) {\n    wasmMemory = Module['wasmMemory'];\n  } else\n  {\n    wasmMemory = new WebAssembly.Memory({\n      'initial': INITIAL_MEMORY / 65536,\n      // In theory we should not need to emit the maximum if we want \"unlimited\"\n      // or 4GB of memory, but VMs error on that atm, see\n      // https://github.com/emscripten-core/emscripten/issues/14130\n      // And in the pthreads case we definitely need to emit a maximum. So\n      // always emit one.\n      'maximum': 2147483648 / 65536,\n    });\n  }\n\nupdateMemoryViews();\n\n// If the user provides an incorrect length, just use that length instead rather than providing the user to\n// specifically provide the memory length with Module['INITIAL_MEMORY'].\nINITIAL_MEMORY = wasmMemory.buffer.byteLength;\nassert(INITIAL_MEMORY % 65536 === 0);\n// end include: runtime_init_memory.js\n\n// include: runtime_stack_check.js\n// Initializes the stack cookie. Called at the startup of main and at the startup of each thread in pthreads mode.\nfunction writeStackCookie() {\n  var max = _emscripten_stack_get_end();\n  assert((max & 3) == 0);\n  // If the stack ends at address zero we write our cookies 4 bytes into the\n  // stack.  This prevents interference with SAFE_HEAP and ASAN which also\n  // monitor writes to address zero.\n  if (max == 0) {\n    max += 4;\n  }\n  // The stack grow downwards towards _emscripten_stack_get_end.\n  // We write cookies to the final two words in the stack and detect if they are\n  // ever overwritten.\n  HEAPU32[((max)>>2)] = 0x02135467;\n  HEAPU32[(((max)+(4))>>2)] = 0x89BACDFE;\n  // Also test the global address 0 for integrity.\n  HEAPU32[((0)>>2)] = 1668509029;\n}\n\nfunction checkStackCookie() {\n  if (ABORT) return;\n  var max = _emscripten_stack_get_end();\n  // See writeStackCookie().\n  if (max == 0) {\n    max += 4;\n  }\n  var cookie1 = HEAPU32[((max)>>2)];\n  var cookie2 = HEAPU32[(((max)+(4))>>2)];\n  if (cookie1 != 0x02135467 || cookie2 != 0x89BACDFE) {\n    abort(`Stack overflow! Stack cookie has been overwritten at ${ptrToString(max)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${ptrToString(cookie2)} ${ptrToString(cookie1)}`);\n  }\n  // Also test the global address 0 for integrity.\n  if (HEAPU32[((0)>>2)] != 0x63736d65 /* 'emsc' */) {\n    abort('Runtime error: The application has corrupted its heap memory area (address zero)!');\n  }\n}\n// end include: runtime_stack_check.js\n// include: runtime_assertions.js\n// Endianness check\n(function() {\n  var h16 = new Int16Array(1);\n  var h8 = new Int8Array(h16.buffer);\n  h16[0] = 0x6373;\n  if (h8[0] !== 0x73 || h8[1] !== 0x63) throw 'Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)';\n})();\n\n// end include: runtime_assertions.js\nvar __ATPRERUN__  = []; // functions called before the runtime is initialized\nvar __ATINIT__    = []; // functions called during startup\nvar __ATEXIT__    = []; // functions called during shutdown\nvar __ATPOSTRUN__ = []; // functions called after the main() is called\n\nvar runtimeInitialized = false;\n\nvar runtimeKeepaliveCounter = 0;\n\nfunction keepRuntimeAlive() {\n  return noExitRuntime || runtimeKeepaliveCounter > 0;\n}\n\nfunction preRun() {\n  if (Module['preRun']) {\n    if (typeof Module['preRun'] == 'function') Module['preRun'] = [Module['preRun']];\n    while (Module['preRun'].length) {\n      addOnPreRun(Module['preRun'].shift());\n    }\n  }\n  callRuntimeCallbacks(__ATPRERUN__);\n}\n\nfunction initRuntime() {\n  assert(!runtimeInitialized);\n  runtimeInitialized = true;\n\n  checkStackCookie();\n\n  \nif (!Module[\"noFSInit\"] && !FS.init.initialized)\n  FS.init();\nFS.ignorePermissions = false;\n\nTTY.init();\n  callRuntimeCallbacks(__ATINIT__);\n}\n\nfunction postRun() {\n  checkStackCookie();\n\n  if (Module['postRun']) {\n    if (typeof Module['postRun'] == 'function') Module['postRun'] = [Module['postRun']];\n    while (Module['postRun'].length) {\n      addOnPostRun(Module['postRun'].shift());\n    }\n  }\n\n  callRuntimeCallbacks(__ATPOSTRUN__);\n}\n\nfunction addOnPreRun(cb) {\n  __ATPRERUN__.unshift(cb);\n}\n\nfunction addOnInit(cb) {\n  __ATINIT__.unshift(cb);\n}\n\nfunction addOnExit(cb) {\n}\n\nfunction addOnPostRun(cb) {\n  __ATPOSTRUN__.unshift(cb);\n}\n\n// include: runtime_math.js\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/imul\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/fround\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/clz32\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/trunc\n\nassert(Math.imul, 'This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill');\nassert(Math.fround, 'This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill');\nassert(Math.clz32, 'This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill');\nassert(Math.trunc, 'This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill');\n// end include: runtime_math.js\n// A counter of dependencies for calling run(). If we need to\n// do asynchronous work before running, increment this and\n// decrement it. Incrementing must happen in a place like\n// Module.preRun (used by emcc to add file preloading).\n// Note that you can add dependencies in preRun, even though\n// it happens right before run - run will be postponed until\n// the dependencies are met.\nvar runDependencies = 0;\nvar runDependencyWatcher = null;\nvar dependenciesFulfilled = null; // overridden to take different actions when all run dependencies are fulfilled\nvar runDependencyTracking = {};\n\nfunction getUniqueRunDependency(id) {\n  var orig = id;\n  while (1) {\n    if (!runDependencyTracking[id]) return id;\n    id = orig + Math.random();\n  }\n}\n\nfunction addRunDependency(id) {\n  runDependencies++;\n\n  if (Module['monitorRunDependencies']) {\n    Module['monitorRunDependencies'](runDependencies);\n  }\n\n  if (id) {\n    assert(!runDependencyTracking[id]);\n    runDependencyTracking[id] = 1;\n    if (runDependencyWatcher === null && typeof setInterval != 'undefined') {\n      // Check for missing dependencies every few seconds\n      runDependencyWatcher = setInterval(() => {\n        if (ABORT) {\n          clearInterval(runDependencyWatcher);\n          runDependencyWatcher = null;\n          return;\n        }\n        var shown = false;\n        for (var dep in runDependencyTracking) {\n          if (!shown) {\n            shown = true;\n            err('still waiting on run dependencies:');\n          }\n          err(`dependency: ${dep}`);\n        }\n        if (shown) {\n          err('(end of list)');\n        }\n      }, 10000);\n    }\n  } else {\n    err('warning: run dependency added without ID');\n  }\n}\n\nfunction removeRunDependency(id) {\n  runDependencies--;\n\n  if (Module['monitorRunDependencies']) {\n    Module['monitorRunDependencies'](runDependencies);\n  }\n\n  if (id) {\n    assert(runDependencyTracking[id]);\n    delete runDependencyTracking[id];\n  } else {\n    err('warning: run dependency removed without ID');\n  }\n  if (runDependencies == 0) {\n    if (runDependencyWatcher !== null) {\n      clearInterval(runDependencyWatcher);\n      runDependencyWatcher = null;\n    }\n    if (dependenciesFulfilled) {\n      var callback = dependenciesFulfilled;\n      dependenciesFulfilled = null;\n      callback(); // can add another dependenciesFulfilled\n    }\n  }\n}\n\n/** @param {string|number=} what */\nfunction abort(what) {\n  if (Module['onAbort']) {\n    Module['onAbort'](what);\n  }\n\n  what = 'Aborted(' + what + ')';\n  // TODO(sbc): Should we remove printing and leave it up to whoever\n  // catches the exception?\n  err(what);\n\n  ABORT = true;\n  EXITSTATUS = 1;\n\n  // Use a wasm runtime error, because a JS error might be seen as a foreign\n  // exception, which means we'd run destructors on it. We need the error to\n  // simply make the program stop.\n  // FIXME This approach does not work in Wasm EH because it currently does not assume\n  // all RuntimeErrors are from traps; it decides whether a RuntimeError is from\n  // a trap or not based on a hidden field within the object. So at the moment\n  // we don't have a way of throwing a wasm trap from JS. TODO Make a JS API that\n  // allows this in the wasm spec.\n\n  // Suppress closure compiler warning here. Closure compiler's builtin extern\n  // defintion for WebAssembly.RuntimeError claims it takes no arguments even\n  // though it can.\n  // TODO(https://github.com/google/closure-compiler/pull/3913): Remove if/when upstream closure gets fixed.\n  /** @suppress {checkTypes} */\n  var e = new WebAssembly.RuntimeError(what);\n\n  readyPromiseReject(e);\n  // Throw the error whether or not MODULARIZE is set because abort is used\n  // in code paths apart from instantiation where an exception is expected\n  // to be thrown when abort is called.\n  throw e;\n}\n\n// include: memoryprofiler.js\n// end include: memoryprofiler.js\n// include: URIUtils.js\n// Prefix of data URIs emitted by SINGLE_FILE and related options.\nvar dataURIPrefix = 'data:application/octet-stream;base64,';\n\n// Indicates whether filename is a base64 data URI.\nfunction isDataURI(filename) {\n  // Prefix of data URIs emitted by SINGLE_FILE and related options.\n  return filename.startsWith(dataURIPrefix);\n}\n\n// Indicates whether filename is delivered via file protocol (as opposed to http/https)\nfunction isFileURI(filename) {\n  return filename.startsWith('file://');\n}\n// end include: URIUtils.js\nfunction createExportWrapper(name) {\n  return function() {\n    assert(runtimeInitialized, `native function \\`${name}\\` called before runtime initialization`);\n    var f = wasmExports[name];\n    assert(f, `exported native function \\`${name}\\` not found`);\n    return f.apply(null, arguments);\n  };\n}\n\n// include: runtime_exceptions.js\n// end include: runtime_exceptions.js\nvar wasmBinaryFile;\nif (Module['locateFile']) {\n  wasmBinaryFile = 'sqlite3.wasm';\n  if (!isDataURI(wasmBinaryFile)) {\n    wasmBinaryFile = locateFile(wasmBinaryFile);\n  }\n} else {\n  // Use bundler-friendly `new URL(..., import.meta.url)` pattern; works in browsers too.\n  wasmBinaryFile = new URL('sqlite3.wasm', import.meta.url).href;\n}\n\nfunction getBinarySync(file) {\n  if (file == wasmBinaryFile && wasmBinary) {\n    return new Uint8Array(wasmBinary);\n  }\n  if (readBinary) {\n    return readBinary(file);\n  }\n  throw \"both async and sync fetching of the wasm failed\";\n}\n\nfunction getBinaryPromise(binaryFile) {\n  // If we don't have the binary yet, try to load it asynchronously.\n  // Fetch has some additional restrictions over XHR, like it can't be used on a file:// url.\n  // See https://github.com/github/fetch/pull/92#issuecomment-140665932\n  // Cordova or Electron apps are typically loaded from a file:// url.\n  // So use fetch if it is available and the url is not a file, otherwise fall back to XHR.\n  if (!wasmBinary\n      && (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER)) {\n    if (typeof fetch == 'function'\n    ) {\n      return fetch(binaryFile, { credentials: 'same-origin' }).then((response) => {\n        if (!response['ok']) {\n          throw \"failed to load wasm binary file at '\" + binaryFile + \"'\";\n        }\n        return response['arrayBuffer']();\n      }).catch(() => getBinarySync(binaryFile));\n    }\n  }\n\n  // Otherwise, getBinarySync should be able to get it synchronously\n  return Promise.resolve().then(() => getBinarySync(binaryFile));\n}\n\nfunction instantiateArrayBuffer(binaryFile, imports, receiver) {\n  return getBinaryPromise(binaryFile).then((binary) => {\n    return WebAssembly.instantiate(binary, imports);\n  }).then((instance) => {\n    return instance;\n  }).then(receiver, (reason) => {\n    err(`failed to asynchronously prepare wasm: ${reason}`);\n\n    // Warn on some common problems.\n    if (isFileURI(wasmBinaryFile)) {\n      err(`warning: Loading from a file URI (${wasmBinaryFile}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`);\n    }\n    abort(reason);\n  });\n}\n\nfunction instantiateAsync(binary, binaryFile, imports, callback) {\n  if (!binary &&\n      typeof WebAssembly.instantiateStreaming == 'function' &&\n      !isDataURI(binaryFile) &&\n      typeof fetch == 'function') {\n    return fetch(binaryFile, { credentials: 'same-origin' }).then((response) => {\n      // Suppress closure warning here since the upstream definition for\n      // instantiateStreaming only allows Promise<Repsponse> rather than\n      // an actual Response.\n      // TODO(https://github.com/google/closure-compiler/pull/3913): Remove if/when upstream closure is fixed.\n      /** @suppress {checkTypes} */\n      var result = WebAssembly.instantiateStreaming(response, imports);\n\n      return result.then(\n        callback,\n        function(reason) {\n          // We expect the most common failure cause to be a bad MIME type for the binary,\n          // in which case falling back to ArrayBuffer instantiation should work.\n          err(`wasm streaming compile failed: ${reason}`);\n          err('falling back to ArrayBuffer instantiation');\n          return instantiateArrayBuffer(binaryFile, imports, callback);\n        });\n    });\n  }\n  return instantiateArrayBuffer(binaryFile, imports, callback);\n}\n\n// Create the wasm instance.\n// Receives the wasm imports, returns the exports.\nfunction createWasm() {\n  // prepare imports\n  var info = {\n    'env': wasmImports,\n    'wasi_snapshot_preview1': wasmImports,\n  };\n  // Load the wasm module and create an instance of using native support in the JS engine.\n  // handle a generated wasm instance, receiving its exports and\n  // performing other necessary setup\n  /** @param {WebAssembly.Module=} module*/\n  function receiveInstance(instance, module) {\n    wasmExports = instance.exports;\n\n    \n\n    addOnInit(wasmExports['__wasm_call_ctors']);\n\n    removeRunDependency('wasm-instantiate');\n    return wasmExports;\n  }\n  // wait for the pthread pool (if any)\n  addRunDependency('wasm-instantiate');\n\n  // Prefer streaming instantiation if available.\n  // Async compilation can be confusing when an error on the page overwrites Module\n  // (for example, if the order of elements is wrong, and the one defining Module is\n  // later), so we save Module and check it later.\n  var trueModule = Module;\n  function receiveInstantiationResult(result) {\n    // 'result' is a ResultObject object which has both the module and instance.\n    // receiveInstance() will swap in the exports (to Module.asm) so they can be called\n    assert(Module === trueModule, 'the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?');\n    trueModule = null;\n    // TODO: Due to Closure regression https://github.com/google/closure-compiler/issues/3193, the above line no longer optimizes out down to the following line.\n    // When the regression is fixed, can restore the above PTHREADS-enabled path.\n    receiveInstance(result['instance']);\n  }\n\n  // User shell pages can write their own Module.instantiateWasm = function(imports, successCallback) callback\n  // to manually instantiate the Wasm module themselves. This allows pages to\n  // run the instantiation parallel to any other async startup actions they are\n  // performing.\n  // Also pthreads and wasm workers initialize the wasm instance through this\n  // path.\n  if (Module['instantiateWasm']) {\n\n    try {\n      return Module['instantiateWasm'](info, receiveInstance);\n    } catch(e) {\n      err(`Module.instantiateWasm callback failed with error: ${e}`);\n        // If instantiation fails, reject the module ready promise.\n        readyPromiseReject(e);\n    }\n  }\n\n  // If instantiation fails, reject the module ready promise.\n  instantiateAsync(wasmBinary, wasmBinaryFile, info, receiveInstantiationResult).catch(readyPromiseReject);\n  return {}; // no exports yet; we'll fill them in later\n}\n\n// include: runtime_debug.js\nfunction legacyModuleProp(prop, newName, incomming=true) {\n  if (!Object.getOwnPropertyDescriptor(Module, prop)) {\n    Object.defineProperty(Module, prop, {\n      configurable: true,\n      get() {\n        let extra = incomming ? ' (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)' : '';\n        abort(`\\`Module.${prop}\\` has been replaced by \\`${newName}\\`` + extra);\n\n      }\n    });\n  }\n}\n\nfunction ignoredModuleProp(prop) {\n  if (Object.getOwnPropertyDescriptor(Module, prop)) {\n    abort(`\\`Module.${prop}\\` was supplied but \\`${prop}\\` not included in INCOMING_MODULE_JS_API`);\n  }\n}\n\n// forcing the filesystem exports a few things by default\nfunction isExportedByForceFilesystem(name) {\n  return name === 'FS_createPath' ||\n         name === 'FS_createDataFile' ||\n         name === 'FS_createPreloadedFile' ||\n         name === 'FS_unlink' ||\n         name === 'addRunDependency' ||\n         // The old FS has some functionality that WasmFS lacks.\n         name === 'FS_createLazyFile' ||\n         name === 'FS_createDevice' ||\n         name === 'removeRunDependency';\n}\n\nfunction missingGlobal(sym, msg) {\n  if (typeof globalThis !== 'undefined') {\n    Object.defineProperty(globalThis, sym, {\n      configurable: true,\n      get() {\n        warnOnce('`' + sym + '` is not longer defined by emscripten. ' + msg);\n        return undefined;\n      }\n    });\n  }\n}\n\nmissingGlobal('buffer', 'Please use HEAP8.buffer or wasmMemory.buffer');\nmissingGlobal('asm', 'Please use wasmExports instead');\n\nfunction missingLibrarySymbol(sym) {\n  if (typeof globalThis !== 'undefined' && !Object.getOwnPropertyDescriptor(globalThis, sym)) {\n    Object.defineProperty(globalThis, sym, {\n      configurable: true,\n      get() {\n        // Can't `abort()` here because it would break code that does runtime\n        // checks.  e.g. `if (typeof SDL === 'undefined')`.\n        var msg = '`' + sym + '` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line';\n        // DEFAULT_LIBRARY_FUNCS_TO_INCLUDE requires the name as it appears in\n        // library.js, which means $name for a JS name with no prefix, or name\n        // for a JS name like _name.\n        var librarySymbol = sym;\n        if (!librarySymbol.startsWith('_')) {\n          librarySymbol = '$' + sym;\n        }\n        msg += \" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='\" + librarySymbol + \"')\";\n        if (isExportedByForceFilesystem(sym)) {\n          msg += '. Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you';\n        }\n        warnOnce(msg);\n        return undefined;\n      }\n    });\n  }\n  // Any symbol that is not included from the JS libary is also (by definition)\n  // not exported on the Module object.\n  unexportedRuntimeSymbol(sym);\n}\n\nfunction unexportedRuntimeSymbol(sym) {\n  if (!Object.getOwnPropertyDescriptor(Module, sym)) {\n    Object.defineProperty(Module, sym, {\n      configurable: true,\n      get() {\n        var msg = \"'\" + sym + \"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)\";\n        if (isExportedByForceFilesystem(sym)) {\n          msg += '. Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you';\n        }\n        abort(msg);\n      }\n    });\n  }\n}\n\n// Used by XXXXX_DEBUG settings to output debug messages.\nfunction dbg(text) {\n  // TODO(sbc): Make this configurable somehow.  Its not always convenient for\n  // logging to show up as warnings.\n  console.warn.apply(console, arguments);\n}\n// end include: runtime_debug.js\n// === Body ===\n\n// end include: preamble.js\n\n  /** @constructor */\n  function ExitStatus(status) {\n      this.name = 'ExitStatus';\n      this.message = `Program terminated with exit(${status})`;\n      this.status = status;\n    }\n\n  var callRuntimeCallbacks = (callbacks) => {\n      while (callbacks.length > 0) {\n        // Pass the module as the first argument.\n        callbacks.shift()(Module);\n      }\n    };\n\n  \n    /**\n     * @param {number} ptr\n     * @param {string} type\n     */\n  function getValue(ptr, type = 'i8') {\n    if (type.endsWith('*')) type = '*';\n    switch (type) {\n      case 'i1': return HEAP8[((ptr)>>0)];\n      case 'i8': return HEAP8[((ptr)>>0)];\n      case 'i16': return HEAP16[((ptr)>>1)];\n      case 'i32': return HEAP32[((ptr)>>2)];\n      case 'i64': return HEAP64[((ptr)>>3)];\n      case 'float': return HEAPF32[((ptr)>>2)];\n      case 'double': return HEAPF64[((ptr)>>3)];\n      case '*': return HEAPU32[((ptr)>>2)];\n      default: abort(`invalid type for getValue: ${type}`);\n    }\n  }\n\n  var ptrToString = (ptr) => {\n      assert(typeof ptr === 'number');\n      // With CAN_ADDRESS_2GB or MEMORY64, pointers are already unsigned.\n      ptr >>>= 0;\n      return '0x' + ptr.toString(16).padStart(8, '0');\n    };\n\n  \n    /**\n     * @param {number} ptr\n     * @param {number} value\n     * @param {string} type\n     */\n  function setValue(ptr, value, type = 'i8') {\n    if (type.endsWith('*')) type = '*';\n    switch (type) {\n      case 'i1': HEAP8[((ptr)>>0)] = value; break;\n      case 'i8': HEAP8[((ptr)>>0)] = value; break;\n      case 'i16': HEAP16[((ptr)>>1)] = value; break;\n      case 'i32': HEAP32[((ptr)>>2)] = value; break;\n      case 'i64': HEAP64[((ptr)>>3)] = BigInt(value); break;\n      case 'float': HEAPF32[((ptr)>>2)] = value; break;\n      case 'double': HEAPF64[((ptr)>>3)] = value; break;\n      case '*': HEAPU32[((ptr)>>2)] = value; break;\n      default: abort(`invalid type for setValue: ${type}`);\n    }\n  }\n\n  var warnOnce = (text) => {\n      if (!warnOnce.shown) warnOnce.shown = {};\n      if (!warnOnce.shown[text]) {\n        warnOnce.shown[text] = 1;\n        err(text);\n      }\n    };\n\n  var PATH = {\n  isAbs:(path) => path.charAt(0) === '/',\n  splitPath:(filename) => {\n        var splitPathRe = /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\n        return splitPathRe.exec(filename).slice(1);\n      },\n  normalizeArray:(parts, allowAboveRoot) => {\n        // if the path tries to go above the root, `up` ends up > 0\n        var up = 0;\n        for (var i = parts.length - 1; i >= 0; i--) {\n          var last = parts[i];\n          if (last === '.') {\n            parts.splice(i, 1);\n          } else if (last === '..') {\n            parts.splice(i, 1);\n            up++;\n          } else if (up) {\n            parts.splice(i, 1);\n            up--;\n          }\n        }\n        // if the path is allowed to go above the root, restore leading ..s\n        if (allowAboveRoot) {\n          for (; up; up--) {\n            parts.unshift('..');\n          }\n        }\n        return parts;\n      },\n  normalize:(path) => {\n        var isAbsolute = PATH.isAbs(path),\n            trailingSlash = path.substr(-1) === '/';\n        // Normalize the path\n        path = PATH.normalizeArray(path.split('/').filter((p) => !!p), !isAbsolute).join('/');\n        if (!path && !isAbsolute) {\n          path = '.';\n        }\n        if (path && trailingSlash) {\n          path += '/';\n        }\n        return (isAbsolute ? '/' : '') + path;\n      },\n  dirname:(path) => {\n        var result = PATH.splitPath(path),\n            root = result[0],\n            dir = result[1];\n        if (!root && !dir) {\n          // No dirname whatsoever\n          return '.';\n        }\n        if (dir) {\n          // It has a dirname, strip trailing slash\n          dir = dir.substr(0, dir.length - 1);\n        }\n        return root + dir;\n      },\n  basename:(path) => {\n        // EMSCRIPTEN return '/'' for '/', not an empty string\n        if (path === '/') return '/';\n        path = PATH.normalize(path);\n        path = path.replace(/\\/$/, \"\");\n        var lastSlash = path.lastIndexOf('/');\n        if (lastSlash === -1) return path;\n        return path.substr(lastSlash+1);\n      },\n  join:function() {\n        var paths = Array.prototype.slice.call(arguments);\n        return PATH.normalize(paths.join('/'));\n      },\n  join2:(l, r) => {\n        return PATH.normalize(l + '/' + r);\n      },\n  };\n  \n  var initRandomFill = () => {\n      if (typeof crypto == 'object' && typeof crypto['getRandomValues'] == 'function') {\n        // for modern web browsers\n        return (view) => crypto.getRandomValues(view);\n      } else\n      // we couldn't find a proper implementation, as Math.random() is not suitable for /dev/random, see emscripten-core/emscripten/pull/7096\n      abort(\"no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: (array) => { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };\");\n    };\n  var randomFill = (view) => {\n      // Lazily init on the first invocation.\n      return (randomFill = initRandomFill())(view);\n    };\n  \n  \n  \n  var PATH_FS = {\n  resolve:function() {\n        var resolvedPath = '',\n          resolvedAbsolute = false;\n        for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n          var path = (i >= 0) ? arguments[i] : FS.cwd();\n          // Skip empty and invalid entries\n          if (typeof path != 'string') {\n            throw new TypeError('Arguments to path.resolve must be strings');\n          } else if (!path) {\n            return ''; // an invalid portion invalidates the whole thing\n          }\n          resolvedPath = path + '/' + resolvedPath;\n          resolvedAbsolute = PATH.isAbs(path);\n        }\n        // At this point the path should be resolved to a full absolute path, but\n        // handle relative paths to be safe (might happen when process.cwd() fails)\n        resolvedPath = PATH.normalizeArray(resolvedPath.split('/').filter((p) => !!p), !resolvedAbsolute).join('/');\n        return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n      },\n  relative:(from, to) => {\n        from = PATH_FS.resolve(from).substr(1);\n        to = PATH_FS.resolve(to).substr(1);\n        function trim(arr) {\n          var start = 0;\n          for (; start < arr.length; start++) {\n            if (arr[start] !== '') break;\n          }\n          var end = arr.length - 1;\n          for (; end >= 0; end--) {\n            if (arr[end] !== '') break;\n          }\n          if (start > end) return [];\n          return arr.slice(start, end - start + 1);\n        }\n        var fromParts = trim(from.split('/'));\n        var toParts = trim(to.split('/'));\n        var length = Math.min(fromParts.length, toParts.length);\n        var samePartsLength = length;\n        for (var i = 0; i < length; i++) {\n          if (fromParts[i] !== toParts[i]) {\n            samePartsLength = i;\n            break;\n          }\n        }\n        var outputParts = [];\n        for (var i = samePartsLength; i < fromParts.length; i++) {\n          outputParts.push('..');\n        }\n        outputParts = outputParts.concat(toParts.slice(samePartsLength));\n        return outputParts.join('/');\n      },\n  };\n  \n  \n  var UTF8Decoder = typeof TextDecoder != 'undefined' ? new TextDecoder('utf8') : undefined;\n  \n    /**\n     * Given a pointer 'idx' to a null-terminated UTF8-encoded string in the given\n     * array that contains uint8 values, returns a copy of that string as a\n     * Javascript String object.\n     * heapOrArray is either a regular array, or a JavaScript typed array view.\n     * @param {number} idx\n     * @param {number=} maxBytesToRead\n     * @return {string}\n     */\n  var UTF8ArrayToString = (heapOrArray, idx, maxBytesToRead) => {\n      var endIdx = idx + maxBytesToRead;\n      var endPtr = idx;\n      // TextDecoder needs to know the byte length in advance, it doesn't stop on\n      // null terminator by itself.  Also, use the length info to avoid running tiny\n      // strings through TextDecoder, since .subarray() allocates garbage.\n      // (As a tiny code save trick, compare endPtr against endIdx using a negation,\n      // so that undefined means Infinity)\n      while (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\n  \n      if (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\n        return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\n      }\n      var str = '';\n      // If building with TextDecoder, we have already computed the string length\n      // above, so test loop end condition against that\n      while (idx < endPtr) {\n        // For UTF8 byte structure, see:\n        // http://en.wikipedia.org/wiki/UTF-8#Description\n        // https://www.ietf.org/rfc/rfc2279.txt\n        // https://tools.ietf.org/html/rfc3629\n        var u0 = heapOrArray[idx++];\n        if (!(u0 & 0x80)) { str += String.fromCharCode(u0); continue; }\n        var u1 = heapOrArray[idx++] & 63;\n        if ((u0 & 0xE0) == 0xC0) { str += String.fromCharCode(((u0 & 31) << 6) | u1); continue; }\n        var u2 = heapOrArray[idx++] & 63;\n        if ((u0 & 0xF0) == 0xE0) {\n          u0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\n        } else {\n          if ((u0 & 0xF8) != 0xF0) warnOnce('Invalid UTF-8 leading byte ' + ptrToString(u0) + ' encountered when deserializing a UTF-8 string in wasm memory to a JS string!');\n          u0 = ((u0 & 7) << 18) | (u1 << 12) | (u2 << 6) | (heapOrArray[idx++] & 63);\n        }\n  \n        if (u0 < 0x10000) {\n          str += String.fromCharCode(u0);\n        } else {\n          var ch = u0 - 0x10000;\n          str += String.fromCharCode(0xD800 | (ch >> 10), 0xDC00 | (ch & 0x3FF));\n        }\n      }\n      return str;\n    };\n  \n  var FS_stdin_getChar_buffer = [];\n  \n  var lengthBytesUTF8 = (str) => {\n      var len = 0;\n      for (var i = 0; i < str.length; ++i) {\n        // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code\n        // unit, not a Unicode code point of the character! So decode\n        // UTF16->UTF32->UTF8.\n        // See http://unicode.org/faq/utf_bom.html#utf16-3\n        var c = str.charCodeAt(i); // possibly a lead surrogate\n        if (c <= 0x7F) {\n          len++;\n        } else if (c <= 0x7FF) {\n          len += 2;\n        } else if (c >= 0xD800 && c <= 0xDFFF) {\n          len += 4; ++i;\n        } else {\n          len += 3;\n        }\n      }\n      return len;\n    };\n  \n  var stringToUTF8Array = (str, heap, outIdx, maxBytesToWrite) => {\n      assert(typeof str === 'string');\n      // Parameter maxBytesToWrite is not optional. Negative values, 0, null,\n      // undefined and false each don't write out any bytes.\n      if (!(maxBytesToWrite > 0))\n        return 0;\n  \n      var startIdx = outIdx;\n      var endIdx = outIdx + maxBytesToWrite - 1; // -1 for string null terminator.\n      for (var i = 0; i < str.length; ++i) {\n        // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code\n        // unit, not a Unicode code point of the character! So decode\n        // UTF16->UTF32->UTF8.\n        // See http://unicode.org/faq/utf_bom.html#utf16-3\n        // For UTF8 byte structure, see http://en.wikipedia.org/wiki/UTF-8#Description\n        // and https://www.ietf.org/rfc/rfc2279.txt\n        // and https://tools.ietf.org/html/rfc3629\n        var u = str.charCodeAt(i); // possibly a lead surrogate\n        if (u >= 0xD800 && u <= 0xDFFF) {\n          var u1 = str.charCodeAt(++i);\n          u = 0x10000 + ((u & 0x3FF) << 10) | (u1 & 0x3FF);\n        }\n        if (u <= 0x7F) {\n          if (outIdx >= endIdx) break;\n          heap[outIdx++] = u;\n        } else if (u <= 0x7FF) {\n          if (outIdx + 1 >= endIdx) break;\n          heap[outIdx++] = 0xC0 | (u >> 6);\n          heap[outIdx++] = 0x80 | (u & 63);\n        } else if (u <= 0xFFFF) {\n          if (outIdx + 2 >= endIdx) break;\n          heap[outIdx++] = 0xE0 | (u >> 12);\n          heap[outIdx++] = 0x80 | ((u >> 6) & 63);\n          heap[outIdx++] = 0x80 | (u & 63);\n        } else {\n          if (outIdx + 3 >= endIdx) break;\n          if (u > 0x10FFFF) warnOnce('Invalid Unicode code point ' + ptrToString(u) + ' encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).');\n          heap[outIdx++] = 0xF0 | (u >> 18);\n          heap[outIdx++] = 0x80 | ((u >> 12) & 63);\n          heap[outIdx++] = 0x80 | ((u >> 6) & 63);\n          heap[outIdx++] = 0x80 | (u & 63);\n        }\n      }\n      // Null-terminate the pointer to the buffer.\n      heap[outIdx] = 0;\n      return outIdx - startIdx;\n    };\n  /** @type {function(string, boolean=, number=)} */\n  function intArrayFromString(stringy, dontAddNull, length) {\n    var len = length > 0 ? length : lengthBytesUTF8(stringy)+1;\n    var u8array = new Array(len);\n    var numBytesWritten = stringToUTF8Array(stringy, u8array, 0, u8array.length);\n    if (dontAddNull) u8array.length = numBytesWritten;\n    return u8array;\n  }\n  var FS_stdin_getChar = () => {\n      if (!FS_stdin_getChar_buffer.length) {\n        var result = null;\n        if (typeof window != 'undefined' &&\n          typeof window.prompt == 'function') {\n          // Browser.\n          result = window.prompt('Input: ');  // returns null on cancel\n          if (result !== null) {\n            result += '\\n';\n          }\n        } else if (typeof readline == 'function') {\n          // Command line.\n          result = readline();\n          if (result !== null) {\n            result += '\\n';\n          }\n        }\n        if (!result) {\n          return null;\n        }\n        FS_stdin_getChar_buffer = intArrayFromString(result, true);\n      }\n      return FS_stdin_getChar_buffer.shift();\n    };\n  var TTY = {\n  ttys:[],\n  init() {\n        // https://github.com/emscripten-core/emscripten/pull/1555\n        // if (ENVIRONMENT_IS_NODE) {\n        //   // currently, FS.init does not distinguish if process.stdin is a file or TTY\n        //   // device, it always assumes it's a TTY device. because of this, we're forcing\n        //   // process.stdin to UTF8 encoding to at least make stdin reading compatible\n        //   // with text files until FS.init can be refactored.\n        //   process.stdin.setEncoding('utf8');\n        // }\n      },\n  shutdown() {\n        // https://github.com/emscripten-core/emscripten/pull/1555\n        // if (ENVIRONMENT_IS_NODE) {\n        //   // inolen: any idea as to why node -e 'process.stdin.read()' wouldn't exit immediately (with process.stdin being a tty)?\n        //   // isaacs: because now it's reading from the stream, you've expressed interest in it, so that read() kicks off a _read() which creates a ReadReq operation\n        //   // inolen: I thought read() in that case was a synchronous operation that just grabbed some amount of buffered data if it exists?\n        //   // isaacs: it is. but it also triggers a _read() call, which calls readStart() on the handle\n        //   // isaacs: do process.stdin.pause() and i'd think it'd probably close the pending call\n        //   process.stdin.pause();\n        // }\n      },\n  register(dev, ops) {\n        TTY.ttys[dev] = { input: [], output: [], ops: ops };\n        FS.registerDevice(dev, TTY.stream_ops);\n      },\n  stream_ops:{\n  open(stream) {\n          var tty = TTY.ttys[stream.node.rdev];\n          if (!tty) {\n            throw new FS.ErrnoError(43);\n          }\n          stream.tty = tty;\n          stream.seekable = false;\n        },\n  close(stream) {\n          // flush any pending line data\n          stream.tty.ops.fsync(stream.tty);\n        },\n  fsync(stream) {\n          stream.tty.ops.fsync(stream.tty);\n        },\n  read(stream, buffer, offset, length, pos /* ignored */) {\n          if (!stream.tty || !stream.tty.ops.get_char) {\n            throw new FS.ErrnoError(60);\n          }\n          var bytesRead = 0;\n          for (var i = 0; i < length; i++) {\n            var result;\n            try {\n              result = stream.tty.ops.get_char(stream.tty);\n            } catch (e) {\n              throw new FS.ErrnoError(29);\n            }\n            if (result === undefined && bytesRead === 0) {\n              throw new FS.ErrnoError(6);\n            }\n            if (result === null || result === undefined) break;\n            bytesRead++;\n            buffer[offset+i] = result;\n          }\n          if (bytesRead) {\n            stream.node.timestamp = Date.now();\n          }\n          return bytesRead;\n        },\n  write(stream, buffer, offset, length, pos) {\n          if (!stream.tty || !stream.tty.ops.put_char) {\n            throw new FS.ErrnoError(60);\n          }\n          try {\n            for (var i = 0; i < length; i++) {\n              stream.tty.ops.put_char(stream.tty, buffer[offset+i]);\n            }\n          } catch (e) {\n            throw new FS.ErrnoError(29);\n          }\n          if (length) {\n            stream.node.timestamp = Date.now();\n          }\n          return i;\n        },\n  },\n  default_tty_ops:{\n  get_char(tty) {\n          return FS_stdin_getChar();\n        },\n  put_char(tty, val) {\n          if (val === null || val === 10) {\n            out(UTF8ArrayToString(tty.output, 0));\n            tty.output = [];\n          } else {\n            if (val != 0) tty.output.push(val); // val == 0 would cut text output off in the middle.\n          }\n        },\n  fsync(tty) {\n          if (tty.output && tty.output.length > 0) {\n            out(UTF8ArrayToString(tty.output, 0));\n            tty.output = [];\n          }\n        },\n  ioctl_tcgets(tty) {\n          // typical setting\n          return {\n            c_iflag: 25856,\n            c_oflag: 5,\n            c_cflag: 191,\n            c_lflag: 35387,\n            c_cc: [\n              0x03, 0x1c, 0x7f, 0x15, 0x04, 0x00, 0x01, 0x00, 0x11, 0x13, 0x1a, 0x00,\n              0x12, 0x0f, 0x17, 0x16, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n              0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n            ]\n          };\n        },\n  ioctl_tcsets(tty, optional_actions, data) {\n          // currently just ignore\n          return 0;\n        },\n  ioctl_tiocgwinsz(tty) {\n          return [24, 80];\n        },\n  },\n  default_tty1_ops:{\n  put_char(tty, val) {\n          if (val === null || val === 10) {\n            err(UTF8ArrayToString(tty.output, 0));\n            tty.output = [];\n          } else {\n            if (val != 0) tty.output.push(val);\n          }\n        },\n  fsync(tty) {\n          if (tty.output && tty.output.length > 0) {\n            err(UTF8ArrayToString(tty.output, 0));\n            tty.output = [];\n          }\n        },\n  },\n  };\n  \n  \n  var zeroMemory = (address, size) => {\n      HEAPU8.fill(0, address, address + size);\n      return address;\n    };\n  \n  var alignMemory = (size, alignment) => {\n      assert(alignment, \"alignment argument is required\");\n      return Math.ceil(size / alignment) * alignment;\n    };\n  var mmapAlloc = (size) => {\n      size = alignMemory(size, 65536);\n      var ptr = _emscripten_builtin_memalign(65536, size);\n      if (!ptr) return 0;\n      return zeroMemory(ptr, size);\n    };\n  var MEMFS = {\n  ops_table:null,\n  mount(mount) {\n        return MEMFS.createNode(null, '/', 16384 | 511 /* 0777 */, 0);\n      },\n  createNode(parent, name, mode, dev) {\n        if (FS.isBlkdev(mode) || FS.isFIFO(mode)) {\n          // no supported\n          throw new FS.ErrnoError(63);\n        }\n        if (!MEMFS.ops_table) {\n          MEMFS.ops_table = {\n            dir: {\n              node: {\n                getattr: MEMFS.node_ops.getattr,\n                setattr: MEMFS.node_ops.setattr,\n                lookup: MEMFS.node_ops.lookup,\n                mknod: MEMFS.node_ops.mknod,\n                rename: MEMFS.node_ops.rename,\n                unlink: MEMFS.node_ops.unlink,\n                rmdir: MEMFS.node_ops.rmdir,\n                readdir: MEMFS.node_ops.readdir,\n                symlink: MEMFS.node_ops.symlink\n              },\n              stream: {\n                llseek: MEMFS.stream_ops.llseek\n              }\n            },\n            file: {\n              node: {\n                getattr: MEMFS.node_ops.getattr,\n                setattr: MEMFS.node_ops.setattr\n              },\n              stream: {\n                llseek: MEMFS.stream_ops.llseek,\n                read: MEMFS.stream_ops.read,\n                write: MEMFS.stream_ops.write,\n                allocate: MEMFS.stream_ops.allocate,\n                mmap: MEMFS.stream_ops.mmap,\n                msync: MEMFS.stream_ops.msync\n              }\n            },\n            link: {\n              node: {\n                getattr: MEMFS.node_ops.getattr,\n                setattr: MEMFS.node_ops.setattr,\n                readlink: MEMFS.node_ops.readlink\n              },\n              stream: {}\n            },\n            chrdev: {\n              node: {\n                getattr: MEMFS.node_ops.getattr,\n                setattr: MEMFS.node_ops.setattr\n              },\n              stream: FS.chrdev_stream_ops\n            }\n          };\n        }\n        var node = FS.createNode(parent, name, mode, dev);\n        if (FS.isDir(node.mode)) {\n          node.node_ops = MEMFS.ops_table.dir.node;\n          node.stream_ops = MEMFS.ops_table.dir.stream;\n          node.contents = {};\n        } else if (FS.isFile(node.mode)) {\n          node.node_ops = MEMFS.ops_table.file.node;\n          node.stream_ops = MEMFS.ops_table.file.stream;\n          node.usedBytes = 0; // The actual number of bytes used in the typed array, as opposed to contents.length which gives the whole capacity.\n          // When the byte data of the file is populated, this will point to either a typed array, or a normal JS array. Typed arrays are preferred\n          // for performance, and used by default. However, typed arrays are not resizable like normal JS arrays are, so there is a small disk size\n          // penalty involved for appending file writes that continuously grow a file similar to std::vector capacity vs used -scheme.\n          node.contents = null; \n        } else if (FS.isLink(node.mode)) {\n          node.node_ops = MEMFS.ops_table.link.node;\n          node.stream_ops = MEMFS.ops_table.link.stream;\n        } else if (FS.isChrdev(node.mode)) {\n          node.node_ops = MEMFS.ops_table.chrdev.node;\n          node.stream_ops = MEMFS.ops_table.chrdev.stream;\n        }\n        node.timestamp = Date.now();\n        // add the new node to the parent\n        if (parent) {\n          parent.contents[name] = node;\n          parent.timestamp = node.timestamp;\n        }\n        return node;\n      },\n  getFileDataAsTypedArray(node) {\n        if (!node.contents) return new Uint8Array(0);\n        if (node.contents.subarray) return node.contents.subarray(0, node.usedBytes); // Make sure to not return excess unused bytes.\n        return new Uint8Array(node.contents);\n      },\n  expandFileStorage(node, newCapacity) {\n        var prevCapacity = node.contents ? node.contents.length : 0;\n        if (prevCapacity >= newCapacity) return; // No need to expand, the storage was already large enough.\n        // Don't expand strictly to the given requested limit if it's only a very small increase, but instead geometrically grow capacity.\n        // For small filesizes (<1MB), perform size*2 geometric increase, but for large sizes, do a much more conservative size*1.125 increase to\n        // avoid overshooting the allocation cap by a very large margin.\n        var CAPACITY_DOUBLING_MAX = 1024 * 1024;\n        newCapacity = Math.max(newCapacity, (prevCapacity * (prevCapacity < CAPACITY_DOUBLING_MAX ? 2.0 : 1.125)) >>> 0);\n        if (prevCapacity != 0) newCapacity = Math.max(newCapacity, 256); // At minimum allocate 256b for each file when expanding.\n        var oldContents = node.contents;\n        node.contents = new Uint8Array(newCapacity); // Allocate new storage.\n        if (node.usedBytes > 0) node.contents.set(oldContents.subarray(0, node.usedBytes), 0); // Copy old data over to the new storage.\n      },\n  resizeFileStorage(node, newSize) {\n        if (node.usedBytes == newSize) return;\n        if (newSize == 0) {\n          node.contents = null; // Fully decommit when requesting a resize to zero.\n          node.usedBytes = 0;\n        } else {\n          var oldContents = node.contents;\n          node.contents = new Uint8Array(newSize); // Allocate new storage.\n          if (oldContents) {\n            node.contents.set(oldContents.subarray(0, Math.min(newSize, node.usedBytes))); // Copy old data over to the new storage.\n          }\n          node.usedBytes = newSize;\n        }\n      },\n  node_ops:{\n  getattr(node) {\n          var attr = {};\n          // device numbers reuse inode numbers.\n          attr.dev = FS.isChrdev(node.mode) ? node.id : 1;\n          attr.ino = node.id;\n          attr.mode = node.mode;\n          attr.nlink = 1;\n          attr.uid = 0;\n          attr.gid = 0;\n          attr.rdev = node.rdev;\n          if (FS.isDir(node.mode)) {\n            attr.size = 4096;\n          } else if (FS.isFile(node.mode)) {\n            attr.size = node.usedBytes;\n          } else if (FS.isLink(node.mode)) {\n            attr.size = node.link.length;\n          } else {\n            attr.size = 0;\n          }\n          attr.atime = new Date(node.timestamp);\n          attr.mtime = new Date(node.timestamp);\n          attr.ctime = new Date(node.timestamp);\n          // NOTE: In our implementation, st_blocks = Math.ceil(st_size/st_blksize),\n          //       but this is not required by the standard.\n          attr.blksize = 4096;\n          attr.blocks = Math.ceil(attr.size / attr.blksize);\n          return attr;\n        },\n  setattr(node, attr) {\n          if (attr.mode !== undefined) {\n            node.mode = attr.mode;\n          }\n          if (attr.timestamp !== undefined) {\n            node.timestamp = attr.timestamp;\n          }\n          if (attr.size !== undefined) {\n            MEMFS.resizeFileStorage(node, attr.size);\n          }\n        },\n  lookup(parent, name) {\n          throw FS.genericErrors[44];\n        },\n  mknod(parent, name, mode, dev) {\n          return MEMFS.createNode(parent, name, mode, dev);\n        },\n  rename(old_node, new_dir, new_name) {\n          // if we're overwriting a directory at new_name, make sure it's empty.\n          if (FS.isDir(old_node.mode)) {\n            var new_node;\n            try {\n              new_node = FS.lookupNode(new_dir, new_name);\n            } catch (e) {\n            }\n            if (new_node) {\n              for (var i in new_node.contents) {\n                throw new FS.ErrnoError(55);\n              }\n            }\n          }\n          // do the internal rewiring\n          delete old_node.parent.contents[old_node.name];\n          old_node.parent.timestamp = Date.now()\n          old_node.name = new_name;\n          new_dir.contents[new_name] = old_node;\n          new_dir.timestamp = old_node.parent.timestamp;\n          old_node.parent = new_dir;\n        },\n  unlink(parent, name) {\n          delete parent.contents[name];\n          parent.timestamp = Date.now();\n        },\n  rmdir(parent, name) {\n          var node = FS.lookupNode(parent, name);\n          for (var i in node.contents) {\n            throw new FS.ErrnoError(55);\n          }\n          delete parent.contents[name];\n          parent.timestamp = Date.now();\n        },\n  readdir(node) {\n          var entries = ['.', '..'];\n          for (var key in node.contents) {\n            if (!node.contents.hasOwnProperty(key)) {\n              continue;\n            }\n            entries.push(key);\n          }\n          return entries;\n        },\n  symlink(parent, newname, oldpath) {\n          var node = MEMFS.createNode(parent, newname, 511 /* 0777 */ | 40960, 0);\n          node.link = oldpath;\n          return node;\n        },\n  readlink(node) {\n          if (!FS.isLink(node.mode)) {\n            throw new FS.ErrnoError(28);\n          }\n          return node.link;\n        },\n  },\n  stream_ops:{\n  read(stream, buffer, offset, length, position) {\n          var contents = stream.node.contents;\n          if (position >= stream.node.usedBytes) return 0;\n          var size = Math.min(stream.node.usedBytes - position, length);\n          assert(size >= 0);\n          if (size > 8 && contents.subarray) { // non-trivial, and typed array\n            buffer.set(contents.subarray(position, position + size), offset);\n          } else {\n            for (var i = 0; i < size; i++) buffer[offset + i] = contents[position + i];\n          }\n          return size;\n        },\n  write(stream, buffer, offset, length, position, canOwn) {\n          // The data buffer should be a typed array view\n          assert(!(buffer instanceof ArrayBuffer));\n          // If the buffer is located in main memory (HEAP), and if\n          // memory can grow, we can't hold on to references of the\n          // memory buffer, as they may get invalidated. That means we\n          // need to do copy its contents.\n          if (buffer.buffer === HEAP8.buffer) {\n            canOwn = false;\n          }\n  \n          if (!length) return 0;\n          var node = stream.node;\n          node.timestamp = Date.now();\n  \n          if (buffer.subarray && (!node.contents || node.contents.subarray)) { // This write is from a typed array to a typed array?\n            if (canOwn) {\n              assert(position === 0, 'canOwn must imply no weird position inside the file');\n              node.contents = buffer.subarray(offset, offset + length);\n              node.usedBytes = length;\n              return length;\n            } else if (node.usedBytes === 0 && position === 0) { // If this is a simple first write to an empty file, do a fast set since we don't need to care about old data.\n              node.contents = buffer.slice(offset, offset + length);\n              node.usedBytes = length;\n              return length;\n            } else if (position + length <= node.usedBytes) { // Writing to an already allocated and used subrange of the file?\n              node.contents.set(buffer.subarray(offset, offset + length), position);\n              return length;\n            }\n          }\n  \n          // Appending to an existing file and we need to reallocate, or source data did not come as a typed array.\n          MEMFS.expandFileStorage(node, position+length);\n          if (node.contents.subarray && buffer.subarray) {\n            // Use typed array write which is available.\n            node.contents.set(buffer.subarray(offset, offset + length), position);\n          } else {\n            for (var i = 0; i < length; i++) {\n             node.contents[position + i] = buffer[offset + i]; // Or fall back to manual write if not.\n            }\n          }\n          node.usedBytes = Math.max(node.usedBytes, position + length);\n          return length;\n        },\n  llseek(stream, offset, whence) {\n          var position = offset;\n          if (whence === 1) {\n            position += stream.position;\n          } else if (whence === 2) {\n            if (FS.isFile(stream.node.mode)) {\n              position += stream.node.usedBytes;\n            }\n          }\n          if (position < 0) {\n            throw new FS.ErrnoError(28);\n          }\n          return position;\n        },\n  allocate(stream, offset, length) {\n          MEMFS.expandFileStorage(stream.node, offset + length);\n          stream.node.usedBytes = Math.max(stream.node.usedBytes, offset + length);\n        },\n  mmap(stream, length, position, prot, flags) {\n          if (!FS.isFile(stream.node.mode)) {\n            throw new FS.ErrnoError(43);\n          }\n          var ptr;\n          var allocated;\n          var contents = stream.node.contents;\n          // Only make a new copy when MAP_PRIVATE is specified.\n          if (!(flags & 2) && contents.buffer === HEAP8.buffer) {\n            // We can't emulate MAP_SHARED when the file is not backed by the\n            // buffer we're mapping to (e.g. the HEAP buffer).\n            allocated = false;\n            ptr = contents.byteOffset;\n          } else {\n            // Try to avoid unnecessary slices.\n            if (position > 0 || position + length < contents.length) {\n              if (contents.subarray) {\n                contents = contents.subarray(position, position + length);\n              } else {\n                contents = Array.prototype.slice.call(contents, position, position + length);\n              }\n            }\n            allocated = true;\n            ptr = mmapAlloc(length);\n            if (!ptr) {\n              throw new FS.ErrnoError(48);\n            }\n            HEAP8.set(contents, ptr);\n          }\n          return { ptr, allocated };\n        },\n  msync(stream, buffer, offset, length, mmapFlags) {\n          MEMFS.stream_ops.write(stream, buffer, 0, length, offset, false);\n          // should we check if bytesWritten and length are the same?\n          return 0;\n        },\n  },\n  };\n  \n  /** @param {boolean=} noRunDep */\n  var asyncLoad = (url, onload, onerror, noRunDep) => {\n      var dep = !noRunDep ? getUniqueRunDependency(`al ${url}`) : '';\n      readAsync(url, (arrayBuffer) => {\n        assert(arrayBuffer, `Loading data file \"${url}\" failed (no arrayBuffer).`);\n        onload(new Uint8Array(arrayBuffer));\n        if (dep) removeRunDependency(dep);\n      }, (event) => {\n        if (onerror) {\n          onerror();\n        } else {\n          throw `Loading data file \"${url}\" failed.`;\n        }\n      });\n      if (dep) addRunDependency(dep);\n    };\n  \n  \n  var FS_createDataFile = (parent, name, fileData, canRead, canWrite, canOwn) => {\n      return FS.createDataFile(parent, name, fileData, canRead, canWrite, canOwn);\n    };\n  \n  var preloadPlugins = Module['preloadPlugins'] || [];\n  var FS_handledByPreloadPlugin = (byteArray, fullname, finish, onerror) => {\n      // Ensure plugins are ready.\n      if (typeof Browser != 'undefined') Browser.init();\n  \n      var handled = false;\n      preloadPlugins.forEach((plugin) => {\n        if (handled) return;\n        if (plugin['canHandle'](fullname)) {\n          plugin['handle'](byteArray, fullname, finish, onerror);\n          handled = true;\n        }\n      });\n      return handled;\n    };\n  var FS_createPreloadedFile = (parent, name, url, canRead, canWrite, onload, onerror, dontCreateFile, canOwn, preFinish) => {\n      // TODO we should allow people to just pass in a complete filename instead\n      // of parent and name being that we just join them anyways\n      var fullname = name ? PATH_FS.resolve(PATH.join2(parent, name)) : parent;\n      var dep = getUniqueRunDependency(`cp ${fullname}`); // might have several active requests for the same fullname\n      function processData(byteArray) {\n        function finish(byteArray) {\n          if (preFinish) preFinish();\n          if (!dontCreateFile) {\n            FS_createDataFile(parent, name, byteArray, canRead, canWrite, canOwn);\n          }\n          if (onload) onload();\n          removeRunDependency(dep);\n        }\n        if (FS_handledByPreloadPlugin(byteArray, fullname, finish, () => {\n          if (onerror) onerror();\n          removeRunDependency(dep);\n        })) {\n          return;\n        }\n        finish(byteArray);\n      }\n      addRunDependency(dep);\n      if (typeof url == 'string') {\n        asyncLoad(url, (byteArray) => processData(byteArray), onerror);\n      } else {\n        processData(url);\n      }\n    };\n  \n  var FS_modeStringToFlags = (str) => {\n      var flagModes = {\n        'r': 0,\n        'r+': 2,\n        'w': 512 | 64 | 1,\n        'w+': 512 | 64 | 2,\n        'a': 1024 | 64 | 1,\n        'a+': 1024 | 64 | 2,\n      };\n      var flags = flagModes[str];\n      if (typeof flags == 'undefined') {\n        throw new Error(`Unknown file open mode: ${str}`);\n      }\n      return flags;\n    };\n  \n  var FS_getMode = (canRead, canWrite) => {\n      var mode = 0;\n      if (canRead) mode |= 292 | 73;\n      if (canWrite) mode |= 146;\n      return mode;\n    };\n  \n  \n  \n  \n  var ERRNO_MESSAGES = {\n  0:\"Success\",\n  1:\"Arg list too long\",\n  2:\"Permission denied\",\n  3:\"Address already in use\",\n  4:\"Address not available\",\n  5:\"Address family not supported by protocol family\",\n  6:\"No more processes\",\n  7:\"Socket already connected\",\n  8:\"Bad file number\",\n  9:\"Trying to read unreadable message\",\n  10:\"Mount device busy\",\n  11:\"Operation canceled\",\n  12:\"No children\",\n  13:\"Connection aborted\",\n  14:\"Connection refused\",\n  15:\"Connection reset by peer\",\n  16:\"File locking deadlock error\",\n  17:\"Destination address required\",\n  18:\"Math arg out of domain of func\",\n  19:\"Quota exceeded\",\n  20:\"File exists\",\n  21:\"Bad address\",\n  22:\"File too large\",\n  23:\"Host is unreachable\",\n  24:\"Identifier removed\",\n  25:\"Illegal byte sequence\",\n  26:\"Connection already in progress\",\n  27:\"Interrupted system call\",\n  28:\"Invalid argument\",\n  29:\"I/O error\",\n  30:\"Socket is already connected\",\n  31:\"Is a directory\",\n  32:\"Too many symbolic links\",\n  33:\"Too many open files\",\n  34:\"Too many links\",\n  35:\"Message too long\",\n  36:\"Multihop attempted\",\n  37:\"File or path name too long\",\n  38:\"Network interface is not configured\",\n  39:\"Connection reset by network\",\n  40:\"Network is unreachable\",\n  41:\"Too many open files in system\",\n  42:\"No buffer space available\",\n  43:\"No such device\",\n  44:\"No such file or directory\",\n  45:\"Exec format error\",\n  46:\"No record locks available\",\n  47:\"The link has been severed\",\n  48:\"Not enough core\",\n  49:\"No message of desired type\",\n  50:\"Protocol not available\",\n  51:\"No space left on device\",\n  52:\"Function not implemented\",\n  53:\"Socket is not connected\",\n  54:\"Not a directory\",\n  55:\"Directory not empty\",\n  56:\"State not recoverable\",\n  57:\"Socket operation on non-socket\",\n  59:\"Not a typewriter\",\n  60:\"No such device or address\",\n  61:\"Value too large for defined data type\",\n  62:\"Previous owner died\",\n  63:\"Not super-user\",\n  64:\"Broken pipe\",\n  65:\"Protocol error\",\n  66:\"Unknown protocol\",\n  67:\"Protocol wrong type for socket\",\n  68:\"Math result not representable\",\n  69:\"Read only file system\",\n  70:\"Illegal seek\",\n  71:\"No such process\",\n  72:\"Stale file handle\",\n  73:\"Connection timed out\",\n  74:\"Text file busy\",\n  75:\"Cross-device link\",\n  100:\"Device not a stream\",\n  101:\"Bad font file fmt\",\n  102:\"Invalid slot\",\n  103:\"Invalid request code\",\n  104:\"No anode\",\n  105:\"Block device required\",\n  106:\"Channel number out of range\",\n  107:\"Level 3 halted\",\n  108:\"Level 3 reset\",\n  109:\"Link number out of range\",\n  110:\"Protocol driver not attached\",\n  111:\"No CSI structure available\",\n  112:\"Level 2 halted\",\n  113:\"Invalid exchange\",\n  114:\"Invalid request descriptor\",\n  115:\"Exchange full\",\n  116:\"No data (for no delay io)\",\n  117:\"Timer expired\",\n  118:\"Out of streams resources\",\n  119:\"Machine is not on the network\",\n  120:\"Package not installed\",\n  121:\"The object is remote\",\n  122:\"Advertise error\",\n  123:\"Srmount error\",\n  124:\"Communication error on send\",\n  125:\"Cross mount point (not really error)\",\n  126:\"Given log. name not unique\",\n  127:\"f.d. invalid for this operation\",\n  128:\"Remote address changed\",\n  129:\"Can   access a needed shared lib\",\n  130:\"Accessing a corrupted shared lib\",\n  131:\".lib section in a.out corrupted\",\n  132:\"Attempting to link in too many libs\",\n  133:\"Attempting to exec a shared library\",\n  135:\"Streams pipe error\",\n  136:\"Too many users\",\n  137:\"Socket type not supported\",\n  138:\"Not supported\",\n  139:\"Protocol family not supported\",\n  140:\"Can't send after socket shutdown\",\n  141:\"Too many references\",\n  142:\"Host is down\",\n  148:\"No medium (in tape drive)\",\n  156:\"Level 2 not synchronized\",\n  };\n  \n  var ERRNO_CODES = {\n  };\n  \n  var demangle = (func) => {\n      warnOnce('warning: build with -sDEMANGLE_SUPPORT to link in libcxxabi demangling');\n      return func;\n    };\n  var demangleAll = (text) => {\n      var regex =\n        /\\b_Z[\\w\\d_]+/g;\n      return text.replace(regex,\n        function(x) {\n          var y = demangle(x);\n          return x === y ? x : (y + ' [' + x + ']');\n        });\n    };\n  var FS = {\n  root:null,\n  mounts:[],\n  devices:{\n  },\n  streams:[],\n  nextInode:1,\n  nameTable:null,\n  currentPath:\"/\",\n  initialized:false,\n  ignorePermissions:true,\n  ErrnoError:null,\n  genericErrors:{\n  },\n  filesystems:null,\n  syncFSRequests:0,\n  lookupPath(path, opts = {}) {\n        path = PATH_FS.resolve(path);\n  \n        if (!path) return { path: '', node: null };\n  \n        var defaults = {\n          follow_mount: true,\n          recurse_count: 0\n        };\n        opts = Object.assign(defaults, opts)\n  \n        if (opts.recurse_count > 8) {  // max recursive lookup of 8\n          throw new FS.ErrnoError(32);\n        }\n  \n        // split the absolute path\n        var parts = path.split('/').filter((p) => !!p);\n  \n        // start at the root\n        var current = FS.root;\n        var current_path = '/';\n  \n        for (var i = 0; i < parts.length; i++) {\n          var islast = (i === parts.length-1);\n          if (islast && opts.parent) {\n            // stop resolving\n            break;\n          }\n  \n          current = FS.lookupNode(current, parts[i]);\n          current_path = PATH.join2(current_path, parts[i]);\n  \n          // jump to the mount's root node if this is a mountpoint\n          if (FS.isMountpoint(current)) {\n            if (!islast || (islast && opts.follow_mount)) {\n              current = current.mounted.root;\n            }\n          }\n  \n          // by default, lookupPath will not follow a symlink if it is the final path component.\n          // setting opts.follow = true will override this behavior.\n          if (!islast || opts.follow) {\n            var count = 0;\n            while (FS.isLink(current.mode)) {\n              var link = FS.readlink(current_path);\n              current_path = PATH_FS.resolve(PATH.dirname(current_path), link);\n  \n              var lookup = FS.lookupPath(current_path, { recurse_count: opts.recurse_count + 1 });\n              current = lookup.node;\n  \n              if (count++ > 40) {  // limit max consecutive symlinks to 40 (SYMLOOP_MAX).\n                throw new FS.ErrnoError(32);\n              }\n            }\n          }\n        }\n  \n        return { path: current_path, node: current };\n      },\n  getPath(node) {\n        var path;\n        while (true) {\n          if (FS.isRoot(node)) {\n            var mount = node.mount.mountpoint;\n            if (!path) return mount;\n            return mount[mount.length-1] !== '/' ? `${mount}/${path}` : mount + path;\n          }\n          path = path ? `${node.name}/${path}` : node.name;\n          node = node.parent;\n        }\n      },\n  hashName(parentid, name) {\n        var hash = 0;\n  \n        for (var i = 0; i < name.length; i++) {\n          hash = ((hash << 5) - hash + name.charCodeAt(i)) | 0;\n        }\n        return ((parentid + hash) >>> 0) % FS.nameTable.length;\n      },\n  hashAddNode(node) {\n        var hash = FS.hashName(node.parent.id, node.name);\n        node.name_next = FS.nameTable[hash];\n        FS.nameTable[hash] = node;\n      },\n  hashRemoveNode(node) {\n        var hash = FS.hashName(node.parent.id, node.name);\n        if (FS.nameTable[hash] === node) {\n          FS.nameTable[hash] = node.name_next;\n        } else {\n          var current = FS.nameTable[hash];\n          while (current) {\n            if (current.name_next === node) {\n              current.name_next = node.name_next;\n              break;\n            }\n            current = current.name_next;\n          }\n        }\n      },\n  lookupNode(parent, name) {\n        var errCode = FS.mayLookup(parent);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode, parent);\n        }\n        var hash = FS.hashName(parent.id, name);\n        for (var node = FS.nameTable[hash]; node; node = node.name_next) {\n          var nodeName = node.name;\n          if (node.parent.id === parent.id && nodeName === name) {\n            return node;\n          }\n        }\n        // if we failed to find it in the cache, call into the VFS\n        return FS.lookup(parent, name);\n      },\n  createNode(parent, name, mode, rdev) {\n        assert(typeof parent == 'object')\n        var node = new FS.FSNode(parent, name, mode, rdev);\n  \n        FS.hashAddNode(node);\n  \n        return node;\n      },\n  destroyNode(node) {\n        FS.hashRemoveNode(node);\n      },\n  isRoot(node) {\n        return node === node.parent;\n      },\n  isMountpoint(node) {\n        return !!node.mounted;\n      },\n  isFile(mode) {\n        return (mode & 61440) === 32768;\n      },\n  isDir(mode) {\n        return (mode & 61440) === 16384;\n      },\n  isLink(mode) {\n        return (mode & 61440) === 40960;\n      },\n  isChrdev(mode) {\n        return (mode & 61440) === 8192;\n      },\n  isBlkdev(mode) {\n        return (mode & 61440) === 24576;\n      },\n  isFIFO(mode) {\n        return (mode & 61440) === 4096;\n      },\n  isSocket(mode) {\n        return (mode & 49152) === 49152;\n      },\n  flagsToPermissionString(flag) {\n        var perms = ['r', 'w', 'rw'][flag & 3];\n        if ((flag & 512)) {\n          perms += 'w';\n        }\n        return perms;\n      },\n  nodePermissions(node, perms) {\n        if (FS.ignorePermissions) {\n          return 0;\n        }\n        // return 0 if any user, group or owner bits are set.\n        if (perms.includes('r') && !(node.mode & 292)) {\n          return 2;\n        } else if (perms.includes('w') && !(node.mode & 146)) {\n          return 2;\n        } else if (perms.includes('x') && !(node.mode & 73)) {\n          return 2;\n        }\n        return 0;\n      },\n  mayLookup(dir) {\n        var errCode = FS.nodePermissions(dir, 'x');\n        if (errCode) return errCode;\n        if (!dir.node_ops.lookup) return 2;\n        return 0;\n      },\n  mayCreate(dir, name) {\n        try {\n          var node = FS.lookupNode(dir, name);\n          return 20;\n        } catch (e) {\n        }\n        return FS.nodePermissions(dir, 'wx');\n      },\n  mayDelete(dir, name, isdir) {\n        var node;\n        try {\n          node = FS.lookupNode(dir, name);\n        } catch (e) {\n          return e.errno;\n        }\n        var errCode = FS.nodePermissions(dir, 'wx');\n        if (errCode) {\n          return errCode;\n        }\n        if (isdir) {\n          if (!FS.isDir(node.mode)) {\n            return 54;\n          }\n          if (FS.isRoot(node) || FS.getPath(node) === FS.cwd()) {\n            return 10;\n          }\n        } else {\n          if (FS.isDir(node.mode)) {\n            return 31;\n          }\n        }\n        return 0;\n      },\n  mayOpen(node, flags) {\n        if (!node) {\n          return 44;\n        }\n        if (FS.isLink(node.mode)) {\n          return 32;\n        } else if (FS.isDir(node.mode)) {\n          if (FS.flagsToPermissionString(flags) !== 'r' || // opening for write\n              (flags & 512)) { // TODO: check for O_SEARCH? (== search for dir only)\n            return 31;\n          }\n        }\n        return FS.nodePermissions(node, FS.flagsToPermissionString(flags));\n      },\n  MAX_OPEN_FDS:4096,\n  nextfd() {\n        for (var fd = 0; fd <= FS.MAX_OPEN_FDS; fd++) {\n          if (!FS.streams[fd]) {\n            return fd;\n          }\n        }\n        throw new FS.ErrnoError(33);\n      },\n  getStreamChecked(fd) {\n        var stream = FS.getStream(fd);\n        if (!stream) {\n          throw new FS.ErrnoError(8);\n        }\n        return stream;\n      },\n  getStream:(fd) => FS.streams[fd],\n  createStream(stream, fd = -1) {\n        if (!FS.FSStream) {\n          FS.FSStream = /** @constructor */ function() {\n            this.shared = { };\n          };\n          FS.FSStream.prototype = {};\n          Object.defineProperties(FS.FSStream.prototype, {\n            object: {\n              /** @this {FS.FSStream} */\n              get() { return this.node; },\n              /** @this {FS.FSStream} */\n              set(val) { this.node = val; }\n            },\n            isRead: {\n              /** @this {FS.FSStream} */\n              get() { return (this.flags & 2097155) !== 1; }\n            },\n            isWrite: {\n              /** @this {FS.FSStream} */\n              get() { return (this.flags & 2097155) !== 0; }\n            },\n            isAppend: {\n              /** @this {FS.FSStream} */\n              get() { return (this.flags & 1024); }\n            },\n            flags: {\n              /** @this {FS.FSStream} */\n              get() { return this.shared.flags; },\n              /** @this {FS.FSStream} */\n              set(val) { this.shared.flags = val; },\n            },\n            position : {\n              /** @this {FS.FSStream} */\n              get() { return this.shared.position; },\n              /** @this {FS.FSStream} */\n              set(val) { this.shared.position = val; },\n            },\n          });\n        }\n        // clone it, so we can return an instance of FSStream\n        stream = Object.assign(new FS.FSStream(), stream);\n        if (fd == -1) {\n          fd = FS.nextfd();\n        }\n        stream.fd = fd;\n        FS.streams[fd] = stream;\n        return stream;\n      },\n  closeStream(fd) {\n        FS.streams[fd] = null;\n      },\n  chrdev_stream_ops:{\n  open(stream) {\n          var device = FS.getDevice(stream.node.rdev);\n          // override node's stream ops with the device's\n          stream.stream_ops = device.stream_ops;\n          // forward the open call\n          if (stream.stream_ops.open) {\n            stream.stream_ops.open(stream);\n          }\n        },\n  llseek() {\n          throw new FS.ErrnoError(70);\n        },\n  },\n  major:(dev) => ((dev) >> 8),\n  minor:(dev) => ((dev) & 0xff),\n  makedev:(ma, mi) => ((ma) << 8 | (mi)),\n  registerDevice(dev, ops) {\n        FS.devices[dev] = { stream_ops: ops };\n      },\n  getDevice:(dev) => FS.devices[dev],\n  getMounts(mount) {\n        var mounts = [];\n        var check = [mount];\n  \n        while (check.length) {\n          var m = check.pop();\n  \n          mounts.push(m);\n  \n          check.push.apply(check, m.mounts);\n        }\n  \n        return mounts;\n      },\n  syncfs(populate, callback) {\n        if (typeof populate == 'function') {\n          callback = populate;\n          populate = false;\n        }\n  \n        FS.syncFSRequests++;\n  \n        if (FS.syncFSRequests > 1) {\n          err(`warning: ${FS.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);\n        }\n  \n        var mounts = FS.getMounts(FS.root.mount);\n        var completed = 0;\n  \n        function doCallback(errCode) {\n          assert(FS.syncFSRequests > 0);\n          FS.syncFSRequests--;\n          return callback(errCode);\n        }\n  \n        function done(errCode) {\n          if (errCode) {\n            if (!done.errored) {\n              done.errored = true;\n              return doCallback(errCode);\n            }\n            return;\n          }\n          if (++completed >= mounts.length) {\n            doCallback(null);\n          }\n        };\n  \n        // sync all mounts\n        mounts.forEach((mount) => {\n          if (!mount.type.syncfs) {\n            return done(null);\n          }\n          mount.type.syncfs(mount, populate, done);\n        });\n      },\n  mount(type, opts, mountpoint) {\n        if (typeof type == 'string') {\n          // The filesystem was not included, and instead we have an error\n          // message stored in the variable.\n          throw type;\n        }\n        var root = mountpoint === '/';\n        var pseudo = !mountpoint;\n        var node;\n  \n        if (root && FS.root) {\n          throw new FS.ErrnoError(10);\n        } else if (!root && !pseudo) {\n          var lookup = FS.lookupPath(mountpoint, { follow_mount: false });\n  \n          mountpoint = lookup.path;  // use the absolute path\n          node = lookup.node;\n  \n          if (FS.isMountpoint(node)) {\n            throw new FS.ErrnoError(10);\n          }\n  \n          if (!FS.isDir(node.mode)) {\n            throw new FS.ErrnoError(54);\n          }\n        }\n  \n        var mount = {\n          type,\n          opts,\n          mountpoint,\n          mounts: []\n        };\n  \n        // create a root node for the fs\n        var mountRoot = type.mount(mount);\n        mountRoot.mount = mount;\n        mount.root = mountRoot;\n  \n        if (root) {\n          FS.root = mountRoot;\n        } else if (node) {\n          // set as a mountpoint\n          node.mounted = mount;\n  \n          // add the new mount to the current mount's children\n          if (node.mount) {\n            node.mount.mounts.push(mount);\n          }\n        }\n  \n        return mountRoot;\n      },\n  unmount(mountpoint) {\n        var lookup = FS.lookupPath(mountpoint, { follow_mount: false });\n  \n        if (!FS.isMountpoint(lookup.node)) {\n          throw new FS.ErrnoError(28);\n        }\n  \n        // destroy the nodes for this mount, and all its child mounts\n        var node = lookup.node;\n        var mount = node.mounted;\n        var mounts = FS.getMounts(mount);\n  \n        Object.keys(FS.nameTable).forEach((hash) => {\n          var current = FS.nameTable[hash];\n  \n          while (current) {\n            var next = current.name_next;\n  \n            if (mounts.includes(current.mount)) {\n              FS.destroyNode(current);\n            }\n  \n            current = next;\n          }\n        });\n  \n        // no longer a mountpoint\n        node.mounted = null;\n  \n        // remove this mount from the child mounts\n        var idx = node.mount.mounts.indexOf(mount);\n        assert(idx !== -1);\n        node.mount.mounts.splice(idx, 1);\n      },\n  lookup(parent, name) {\n        return parent.node_ops.lookup(parent, name);\n      },\n  mknod(path, mode, dev) {\n        var lookup = FS.lookupPath(path, { parent: true });\n        var parent = lookup.node;\n        var name = PATH.basename(path);\n        if (!name || name === '.' || name === '..') {\n          throw new FS.ErrnoError(28);\n        }\n        var errCode = FS.mayCreate(parent, name);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!parent.node_ops.mknod) {\n          throw new FS.ErrnoError(63);\n        }\n        return parent.node_ops.mknod(parent, name, mode, dev);\n      },\n  create(path, mode) {\n        mode = mode !== undefined ? mode : 438 /* 0666 */;\n        mode &= 4095;\n        mode |= 32768;\n        return FS.mknod(path, mode, 0);\n      },\n  mkdir(path, mode) {\n        mode = mode !== undefined ? mode : 511 /* 0777 */;\n        mode &= 511 | 512;\n        mode |= 16384;\n        return FS.mknod(path, mode, 0);\n      },\n  mkdirTree(path, mode) {\n        var dirs = path.split('/');\n        var d = '';\n        for (var i = 0; i < dirs.length; ++i) {\n          if (!dirs[i]) continue;\n          d += '/' + dirs[i];\n          try {\n            FS.mkdir(d, mode);\n          } catch(e) {\n            if (e.errno != 20) throw e;\n          }\n        }\n      },\n  mkdev(path, mode, dev) {\n        if (typeof dev == 'undefined') {\n          dev = mode;\n          mode = 438 /* 0666 */;\n        }\n        mode |= 8192;\n        return FS.mknod(path, mode, dev);\n      },\n  symlink(oldpath, newpath) {\n        if (!PATH_FS.resolve(oldpath)) {\n          throw new FS.ErrnoError(44);\n        }\n        var lookup = FS.lookupPath(newpath, { parent: true });\n        var parent = lookup.node;\n        if (!parent) {\n          throw new FS.ErrnoError(44);\n        }\n        var newname = PATH.basename(newpath);\n        var errCode = FS.mayCreate(parent, newname);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!parent.node_ops.symlink) {\n          throw new FS.ErrnoError(63);\n        }\n        return parent.node_ops.symlink(parent, newname, oldpath);\n      },\n  rename(old_path, new_path) {\n        var old_dirname = PATH.dirname(old_path);\n        var new_dirname = PATH.dirname(new_path);\n        var old_name = PATH.basename(old_path);\n        var new_name = PATH.basename(new_path);\n        // parents must exist\n        var lookup, old_dir, new_dir;\n  \n        // let the errors from non existant directories percolate up\n        lookup = FS.lookupPath(old_path, { parent: true });\n        old_dir = lookup.node;\n        lookup = FS.lookupPath(new_path, { parent: true });\n        new_dir = lookup.node;\n  \n        if (!old_dir || !new_dir) throw new FS.ErrnoError(44);\n        // need to be part of the same mount\n        if (old_dir.mount !== new_dir.mount) {\n          throw new FS.ErrnoError(75);\n        }\n        // source must exist\n        var old_node = FS.lookupNode(old_dir, old_name);\n        // old path should not be an ancestor of the new path\n        var relative = PATH_FS.relative(old_path, new_dirname);\n        if (relative.charAt(0) !== '.') {\n          throw new FS.ErrnoError(28);\n        }\n        // new path should not be an ancestor of the old path\n        relative = PATH_FS.relative(new_path, old_dirname);\n        if (relative.charAt(0) !== '.') {\n          throw new FS.ErrnoError(55);\n        }\n        // see if the new path already exists\n        var new_node;\n        try {\n          new_node = FS.lookupNode(new_dir, new_name);\n        } catch (e) {\n          // not fatal\n        }\n        // early out if nothing needs to change\n        if (old_node === new_node) {\n          return;\n        }\n        // we'll need to delete the old entry\n        var isdir = FS.isDir(old_node.mode);\n        var errCode = FS.mayDelete(old_dir, old_name, isdir);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        // need delete permissions if we'll be overwriting.\n        // need create permissions if new doesn't already exist.\n        errCode = new_node ?\n          FS.mayDelete(new_dir, new_name, isdir) :\n          FS.mayCreate(new_dir, new_name);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!old_dir.node_ops.rename) {\n          throw new FS.ErrnoError(63);\n        }\n        if (FS.isMountpoint(old_node) || (new_node && FS.isMountpoint(new_node))) {\n          throw new FS.ErrnoError(10);\n        }\n        // if we are going to change the parent, check write permissions\n        if (new_dir !== old_dir) {\n          errCode = FS.nodePermissions(old_dir, 'w');\n          if (errCode) {\n            throw new FS.ErrnoError(errCode);\n          }\n        }\n        // remove the node from the lookup hash\n        FS.hashRemoveNode(old_node);\n        // do the underlying fs rename\n        try {\n          old_dir.node_ops.rename(old_node, new_dir, new_name);\n        } catch (e) {\n          throw e;\n        } finally {\n          // add the node back to the hash (in case node_ops.rename\n          // changed its name)\n          FS.hashAddNode(old_node);\n        }\n      },\n  rmdir(path) {\n        var lookup = FS.lookupPath(path, { parent: true });\n        var parent = lookup.node;\n        var name = PATH.basename(path);\n        var node = FS.lookupNode(parent, name);\n        var errCode = FS.mayDelete(parent, name, true);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!parent.node_ops.rmdir) {\n          throw new FS.ErrnoError(63);\n        }\n        if (FS.isMountpoint(node)) {\n          throw new FS.ErrnoError(10);\n        }\n        parent.node_ops.rmdir(parent, name);\n        FS.destroyNode(node);\n      },\n  readdir(path) {\n        var lookup = FS.lookupPath(path, { follow: true });\n        var node = lookup.node;\n        if (!node.node_ops.readdir) {\n          throw new FS.ErrnoError(54);\n        }\n        return node.node_ops.readdir(node);\n      },\n  unlink(path) {\n        var lookup = FS.lookupPath(path, { parent: true });\n        var parent = lookup.node;\n        if (!parent) {\n          throw new FS.ErrnoError(44);\n        }\n        var name = PATH.basename(path);\n        var node = FS.lookupNode(parent, name);\n        var errCode = FS.mayDelete(parent, name, false);\n        if (errCode) {\n          // According to POSIX, we should map EISDIR to EPERM, but\n          // we instead do what Linux does (and we must, as we use\n          // the musl linux libc).\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!parent.node_ops.unlink) {\n          throw new FS.ErrnoError(63);\n        }\n        if (FS.isMountpoint(node)) {\n          throw new FS.ErrnoError(10);\n        }\n        parent.node_ops.unlink(parent, name);\n        FS.destroyNode(node);\n      },\n  readlink(path) {\n        var lookup = FS.lookupPath(path);\n        var link = lookup.node;\n        if (!link) {\n          throw new FS.ErrnoError(44);\n        }\n        if (!link.node_ops.readlink) {\n          throw new FS.ErrnoError(28);\n        }\n        return PATH_FS.resolve(FS.getPath(link.parent), link.node_ops.readlink(link));\n      },\n  stat(path, dontFollow) {\n        var lookup = FS.lookupPath(path, { follow: !dontFollow });\n        var node = lookup.node;\n        if (!node) {\n          throw new FS.ErrnoError(44);\n        }\n        if (!node.node_ops.getattr) {\n          throw new FS.ErrnoError(63);\n        }\n        return node.node_ops.getattr(node);\n      },\n  lstat(path) {\n        return FS.stat(path, true);\n      },\n  chmod(path, mode, dontFollow) {\n        var node;\n        if (typeof path == 'string') {\n          var lookup = FS.lookupPath(path, { follow: !dontFollow });\n          node = lookup.node;\n        } else {\n          node = path;\n        }\n        if (!node.node_ops.setattr) {\n          throw new FS.ErrnoError(63);\n        }\n        node.node_ops.setattr(node, {\n          mode: (mode & 4095) | (node.mode & ~4095),\n          timestamp: Date.now()\n        });\n      },\n  lchmod(path, mode) {\n        FS.chmod(path, mode, true);\n      },\n  fchmod(fd, mode) {\n        var stream = FS.getStreamChecked(fd);\n        FS.chmod(stream.node, mode);\n      },\n  chown(path, uid, gid, dontFollow) {\n        var node;\n        if (typeof path == 'string') {\n          var lookup = FS.lookupPath(path, { follow: !dontFollow });\n          node = lookup.node;\n        } else {\n          node = path;\n        }\n        if (!node.node_ops.setattr) {\n          throw new FS.ErrnoError(63);\n        }\n        node.node_ops.setattr(node, {\n          timestamp: Date.now()\n          // we ignore the uid / gid for now\n        });\n      },\n  lchown(path, uid, gid) {\n        FS.chown(path, uid, gid, true);\n      },\n  fchown(fd, uid, gid) {\n        var stream = FS.getStreamChecked(fd);\n        FS.chown(stream.node, uid, gid);\n      },\n  truncate(path, len) {\n        if (len < 0) {\n          throw new FS.ErrnoError(28);\n        }\n        var node;\n        if (typeof path == 'string') {\n          var lookup = FS.lookupPath(path, { follow: true });\n          node = lookup.node;\n        } else {\n          node = path;\n        }\n        if (!node.node_ops.setattr) {\n          throw new FS.ErrnoError(63);\n        }\n        if (FS.isDir(node.mode)) {\n          throw new FS.ErrnoError(31);\n        }\n        if (!FS.isFile(node.mode)) {\n          throw new FS.ErrnoError(28);\n        }\n        var errCode = FS.nodePermissions(node, 'w');\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        node.node_ops.setattr(node, {\n          size: len,\n          timestamp: Date.now()\n        });\n      },\n  ftruncate(fd, len) {\n        var stream = FS.getStreamChecked(fd);\n        if ((stream.flags & 2097155) === 0) {\n          throw new FS.ErrnoError(28);\n        }\n        FS.truncate(stream.node, len);\n      },\n  utime(path, atime, mtime) {\n        var lookup = FS.lookupPath(path, { follow: true });\n        var node = lookup.node;\n        node.node_ops.setattr(node, {\n          timestamp: Math.max(atime, mtime)\n        });\n      },\n  open(path, flags, mode) {\n        if (path === \"\") {\n          throw new FS.ErrnoError(44);\n        }\n        flags = typeof flags == 'string' ? FS_modeStringToFlags(flags) : flags;\n        mode = typeof mode == 'undefined' ? 438 /* 0666 */ : mode;\n        if ((flags & 64)) {\n          mode = (mode & 4095) | 32768;\n        } else {\n          mode = 0;\n        }\n        var node;\n        if (typeof path == 'object') {\n          node = path;\n        } else {\n          path = PATH.normalize(path);\n          try {\n            var lookup = FS.lookupPath(path, {\n              follow: !(flags & 131072)\n            });\n            node = lookup.node;\n          } catch (e) {\n            // ignore\n          }\n        }\n        // perhaps we need to create the node\n        var created = false;\n        if ((flags & 64)) {\n          if (node) {\n            // if O_CREAT and O_EXCL are set, error out if the node already exists\n            if ((flags & 128)) {\n              throw new FS.ErrnoError(20);\n            }\n          } else {\n            // node doesn't exist, try to create it\n            node = FS.mknod(path, mode, 0);\n            created = true;\n          }\n        }\n        if (!node) {\n          throw new FS.ErrnoError(44);\n        }\n        // can't truncate a device\n        if (FS.isChrdev(node.mode)) {\n          flags &= ~512;\n        }\n        // if asked only for a directory, then this must be one\n        if ((flags & 65536) && !FS.isDir(node.mode)) {\n          throw new FS.ErrnoError(54);\n        }\n        // check permissions, if this is not a file we just created now (it is ok to\n        // create and write to a file with read-only permissions; it is read-only\n        // for later use)\n        if (!created) {\n          var errCode = FS.mayOpen(node, flags);\n          if (errCode) {\n            throw new FS.ErrnoError(errCode);\n          }\n        }\n        // do truncation if necessary\n        if ((flags & 512) && !created) {\n          FS.truncate(node, 0);\n        }\n        // we've already handled these, don't pass down to the underlying vfs\n        flags &= ~(128 | 512 | 131072);\n  \n        // register the stream with the filesystem\n        var stream = FS.createStream({\n          node,\n          path: FS.getPath(node),  // we want the absolute path to the node\n          flags,\n          seekable: true,\n          position: 0,\n          stream_ops: node.stream_ops,\n          // used by the file family libc calls (fopen, fwrite, ferror, etc.)\n          ungotten: [],\n          error: false\n        });\n        // call the new stream's open function\n        if (stream.stream_ops.open) {\n          stream.stream_ops.open(stream);\n        }\n        if (Module['logReadFiles'] && !(flags & 1)) {\n          if (!FS.readFiles) FS.readFiles = {};\n          if (!(path in FS.readFiles)) {\n            FS.readFiles[path] = 1;\n          }\n        }\n        return stream;\n      },\n  close(stream) {\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if (stream.getdents) stream.getdents = null; // free readdir state\n        try {\n          if (stream.stream_ops.close) {\n            stream.stream_ops.close(stream);\n          }\n        } catch (e) {\n          throw e;\n        } finally {\n          FS.closeStream(stream.fd);\n        }\n        stream.fd = null;\n      },\n  isClosed(stream) {\n        return stream.fd === null;\n      },\n  llseek(stream, offset, whence) {\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if (!stream.seekable || !stream.stream_ops.llseek) {\n          throw new FS.ErrnoError(70);\n        }\n        if (whence != 0 && whence != 1 && whence != 2) {\n          throw new FS.ErrnoError(28);\n        }\n        stream.position = stream.stream_ops.llseek(stream, offset, whence);\n        stream.ungotten = [];\n        return stream.position;\n      },\n  read(stream, buffer, offset, length, position) {\n        assert(offset >= 0);\n        if (length < 0 || position < 0) {\n          throw new FS.ErrnoError(28);\n        }\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if ((stream.flags & 2097155) === 1) {\n          throw new FS.ErrnoError(8);\n        }\n        if (FS.isDir(stream.node.mode)) {\n          throw new FS.ErrnoError(31);\n        }\n        if (!stream.stream_ops.read) {\n          throw new FS.ErrnoError(28);\n        }\n        var seeking = typeof position != 'undefined';\n        if (!seeking) {\n          position = stream.position;\n        } else if (!stream.seekable) {\n          throw new FS.ErrnoError(70);\n        }\n        var bytesRead = stream.stream_ops.read(stream, buffer, offset, length, position);\n        if (!seeking) stream.position += bytesRead;\n        return bytesRead;\n      },\n  write(stream, buffer, offset, length, position, canOwn) {\n        assert(offset >= 0);\n        if (length < 0 || position < 0) {\n          throw new FS.ErrnoError(28);\n        }\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if ((stream.flags & 2097155) === 0) {\n          throw new FS.ErrnoError(8);\n        }\n        if (FS.isDir(stream.node.mode)) {\n          throw new FS.ErrnoError(31);\n        }\n        if (!stream.stream_ops.write) {\n          throw new FS.ErrnoError(28);\n        }\n        if (stream.seekable && stream.flags & 1024) {\n          // seek to the end before writing in append mode\n          FS.llseek(stream, 0, 2);\n        }\n        var seeking = typeof position != 'undefined';\n        if (!seeking) {\n          position = stream.position;\n        } else if (!stream.seekable) {\n          throw new FS.ErrnoError(70);\n        }\n        var bytesWritten = stream.stream_ops.write(stream, buffer, offset, length, position, canOwn);\n        if (!seeking) stream.position += bytesWritten;\n        return bytesWritten;\n      },\n  allocate(stream, offset, length) {\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if (offset < 0 || length <= 0) {\n          throw new FS.ErrnoError(28);\n        }\n        if ((stream.flags & 2097155) === 0) {\n          throw new FS.ErrnoError(8);\n        }\n        if (!FS.isFile(stream.node.mode) && !FS.isDir(stream.node.mode)) {\n          throw new FS.ErrnoError(43);\n        }\n        if (!stream.stream_ops.allocate) {\n          throw new FS.ErrnoError(138);\n        }\n        stream.stream_ops.allocate(stream, offset, length);\n      },\n  mmap(stream, length, position, prot, flags) {\n        // User requests writing to file (prot & PROT_WRITE != 0).\n        // Checking if we have permissions to write to the file unless\n        // MAP_PRIVATE flag is set. According to POSIX spec it is possible\n        // to write to file opened in read-only mode with MAP_PRIVATE flag,\n        // as all modifications will be visible only in the memory of\n        // the current process.\n        if ((prot & 2) !== 0\n            && (flags & 2) === 0\n            && (stream.flags & 2097155) !== 2) {\n          throw new FS.ErrnoError(2);\n        }\n        if ((stream.flags & 2097155) === 1) {\n          throw new FS.ErrnoError(2);\n        }\n        if (!stream.stream_ops.mmap) {\n          throw new FS.ErrnoError(43);\n        }\n        return stream.stream_ops.mmap(stream, length, position, prot, flags);\n      },\n  msync(stream, buffer, offset, length, mmapFlags) {\n        assert(offset >= 0);\n        if (!stream.stream_ops.msync) {\n          return 0;\n        }\n        return stream.stream_ops.msync(stream, buffer, offset, length, mmapFlags);\n      },\n  munmap:(stream) => 0,\n  ioctl(stream, cmd, arg) {\n        if (!stream.stream_ops.ioctl) {\n          throw new FS.ErrnoError(59);\n        }\n        return stream.stream_ops.ioctl(stream, cmd, arg);\n      },\n  readFile(path, opts = {}) {\n        opts.flags = opts.flags || 0;\n        opts.encoding = opts.encoding || 'binary';\n        if (opts.encoding !== 'utf8' && opts.encoding !== 'binary') {\n          throw new Error(`Invalid encoding type \"${opts.encoding}\"`);\n        }\n        var ret;\n        var stream = FS.open(path, opts.flags);\n        var stat = FS.stat(path);\n        var length = stat.size;\n        var buf = new Uint8Array(length);\n        FS.read(stream, buf, 0, length, 0);\n        if (opts.encoding === 'utf8') {\n          ret = UTF8ArrayToString(buf, 0);\n        } else if (opts.encoding === 'binary') {\n          ret = buf;\n        }\n        FS.close(stream);\n        return ret;\n      },\n  writeFile(path, data, opts = {}) {\n        opts.flags = opts.flags || 577;\n        var stream = FS.open(path, opts.flags, opts.mode);\n        if (typeof data == 'string') {\n          var buf = new Uint8Array(lengthBytesUTF8(data)+1);\n          var actualNumBytes = stringToUTF8Array(data, buf, 0, buf.length);\n          FS.write(stream, buf, 0, actualNumBytes, undefined, opts.canOwn);\n        } else if (ArrayBuffer.isView(data)) {\n          FS.write(stream, data, 0, data.byteLength, undefined, opts.canOwn);\n        } else {\n          throw new Error('Unsupported data type');\n        }\n        FS.close(stream);\n      },\n  cwd:() => FS.currentPath,\n  chdir(path) {\n        var lookup = FS.lookupPath(path, { follow: true });\n        if (lookup.node === null) {\n          throw new FS.ErrnoError(44);\n        }\n        if (!FS.isDir(lookup.node.mode)) {\n          throw new FS.ErrnoError(54);\n        }\n        var errCode = FS.nodePermissions(lookup.node, 'x');\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        FS.currentPath = lookup.path;\n      },\n  createDefaultDirectories() {\n        FS.mkdir('/tmp');\n        FS.mkdir('/home');\n        FS.mkdir('/home/web_user');\n      },\n  createDefaultDevices() {\n        // create /dev\n        FS.mkdir('/dev');\n        // setup /dev/null\n        FS.registerDevice(FS.makedev(1, 3), {\n          read: () => 0,\n          write: (stream, buffer, offset, length, pos) => length,\n        });\n        FS.mkdev('/dev/null', FS.makedev(1, 3));\n        // setup /dev/tty and /dev/tty1\n        // stderr needs to print output using err() rather than out()\n        // so we register a second tty just for it.\n        TTY.register(FS.makedev(5, 0), TTY.default_tty_ops);\n        TTY.register(FS.makedev(6, 0), TTY.default_tty1_ops);\n        FS.mkdev('/dev/tty', FS.makedev(5, 0));\n        FS.mkdev('/dev/tty1', FS.makedev(6, 0));\n        // setup /dev/[u]random\n        // use a buffer to avoid overhead of individual crypto calls per byte\n        var randomBuffer = new Uint8Array(1024), randomLeft = 0;\n        var randomByte = () => {\n          if (randomLeft === 0) {\n            randomLeft = randomFill(randomBuffer).byteLength;\n          }\n          return randomBuffer[--randomLeft];\n        };\n        FS.createDevice('/dev', 'random', randomByte);\n        FS.createDevice('/dev', 'urandom', randomByte);\n        // we're not going to emulate the actual shm device,\n        // just create the tmp dirs that reside in it commonly\n        FS.mkdir('/dev/shm');\n        FS.mkdir('/dev/shm/tmp');\n      },\n  createSpecialDirectories() {\n        // create /proc/self/fd which allows /proc/self/fd/6 => readlink gives the\n        // name of the stream for fd 6 (see test_unistd_ttyname)\n        FS.mkdir('/proc');\n        var proc_self = FS.mkdir('/proc/self');\n        FS.mkdir('/proc/self/fd');\n        FS.mount({\n          mount() {\n            var node = FS.createNode(proc_self, 'fd', 16384 | 511 /* 0777 */, 73);\n            node.node_ops = {\n              lookup(parent, name) {\n                var fd = +name;\n                var stream = FS.getStreamChecked(fd);\n                var ret = {\n                  parent: null,\n                  mount: { mountpoint: 'fake' },\n                  node_ops: { readlink: () => stream.path },\n                };\n                ret.parent = ret; // make it look like a simple root node\n                return ret;\n              }\n            };\n            return node;\n          }\n        }, {}, '/proc/self/fd');\n      },\n  createStandardStreams() {\n        // TODO deprecate the old functionality of a single\n        // input / output callback and that utilizes FS.createDevice\n        // and instead require a unique set of stream ops\n  \n        // by default, we symlink the standard streams to the\n        // default tty devices. however, if the standard streams\n        // have been overwritten we create a unique device for\n        // them instead.\n        if (Module['stdin']) {\n          FS.createDevice('/dev', 'stdin', Module['stdin']);\n        } else {\n          FS.symlink('/dev/tty', '/dev/stdin');\n        }\n        if (Module['stdout']) {\n          FS.createDevice('/dev', 'stdout', null, Module['stdout']);\n        } else {\n          FS.symlink('/dev/tty', '/dev/stdout');\n        }\n        if (Module['stderr']) {\n          FS.createDevice('/dev', 'stderr', null, Module['stderr']);\n        } else {\n          FS.symlink('/dev/tty1', '/dev/stderr');\n        }\n  \n        // open default streams for the stdin, stdout and stderr devices\n        var stdin = FS.open('/dev/stdin', 0);\n        var stdout = FS.open('/dev/stdout', 1);\n        var stderr = FS.open('/dev/stderr', 1);\n        assert(stdin.fd === 0, `invalid handle for stdin (${stdin.fd})`);\n        assert(stdout.fd === 1, `invalid handle for stdout (${stdout.fd})`);\n        assert(stderr.fd === 2, `invalid handle for stderr (${stderr.fd})`);\n      },\n  ensureErrnoError() {\n        if (FS.ErrnoError) return;\n        FS.ErrnoError = /** @this{Object} */ function ErrnoError(errno, node) {\n          // We set the `name` property to be able to identify `FS.ErrnoError`\n          // - the `name` is a standard ECMA-262 property of error objects. Kind of good to have it anyway.\n          // - when using PROXYFS, an error can come from an underlying FS\n          // as different FS objects have their own FS.ErrnoError each,\n          // the test `err instanceof FS.ErrnoError` won't detect an error coming from another filesystem, causing bugs.\n          // we'll use the reliable test `err.name == \"ErrnoError\"` instead\n          this.name = 'ErrnoError';\n          this.node = node;\n          this.setErrno = /** @this{Object} */ function(errno) {\n            this.errno = errno;\n            for (var key in ERRNO_CODES) {\n              if (ERRNO_CODES[key] === errno) {\n                this.code = key;\n                break;\n              }\n            }\n          };\n          this.setErrno(errno);\n          this.message = ERRNO_MESSAGES[errno];\n  \n          // Try to get a maximally helpful stack trace. On Node.js, getting Error.stack\n          // now ensures it shows what we want.\n          if (this.stack) {\n            // Define the stack property for Node.js 4, which otherwise errors on the next line.\n            Object.defineProperty(this, \"stack\", { value: (new Error).stack, writable: true });\n            this.stack = demangleAll(this.stack);\n          }\n        };\n        FS.ErrnoError.prototype = new Error();\n        FS.ErrnoError.prototype.constructor = FS.ErrnoError;\n        // Some errors may happen quite a bit, to avoid overhead we reuse them (and suffer a lack of stack info)\n        [44].forEach((code) => {\n          FS.genericErrors[code] = new FS.ErrnoError(code);\n          FS.genericErrors[code].stack = '<generic error, no stack>';\n        });\n      },\n  staticInit() {\n        FS.ensureErrnoError();\n  \n        FS.nameTable = new Array(4096);\n  \n        FS.mount(MEMFS, {}, '/');\n  \n        FS.createDefaultDirectories();\n        FS.createDefaultDevices();\n        FS.createSpecialDirectories();\n  \n        FS.filesystems = {\n          'MEMFS': MEMFS,\n        };\n      },\n  init(input, output, error) {\n        assert(!FS.init.initialized, 'FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)');\n        FS.init.initialized = true;\n  \n        FS.ensureErrnoError();\n  \n        // Allow Module.stdin etc. to provide defaults, if none explicitly passed to us here\n        Module['stdin'] = input || Module['stdin'];\n        Module['stdout'] = output || Module['stdout'];\n        Module['stderr'] = error || Module['stderr'];\n  \n        FS.createStandardStreams();\n      },\n  quit() {\n        FS.init.initialized = false;\n        // force-flush all streams, so we get musl std streams printed out\n        _fflush(0);\n        // close all of our streams\n        for (var i = 0; i < FS.streams.length; i++) {\n          var stream = FS.streams[i];\n          if (!stream) {\n            continue;\n          }\n          FS.close(stream);\n        }\n      },\n  findObject(path, dontResolveLastLink) {\n        var ret = FS.analyzePath(path, dontResolveLastLink);\n        if (!ret.exists) {\n          return null;\n        }\n        return ret.object;\n      },\n  analyzePath(path, dontResolveLastLink) {\n        // operate from within the context of the symlink's target\n        try {\n          var lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });\n          path = lookup.path;\n        } catch (e) {\n        }\n        var ret = {\n          isRoot: false, exists: false, error: 0, name: null, path: null, object: null,\n          parentExists: false, parentPath: null, parentObject: null\n        };\n        try {\n          var lookup = FS.lookupPath(path, { parent: true });\n          ret.parentExists = true;\n          ret.parentPath = lookup.path;\n          ret.parentObject = lookup.node;\n          ret.name = PATH.basename(path);\n          lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });\n          ret.exists = true;\n          ret.path = lookup.path;\n          ret.object = lookup.node;\n          ret.name = lookup.node.name;\n          ret.isRoot = lookup.path === '/';\n        } catch (e) {\n          ret.error = e.errno;\n        };\n        return ret;\n      },\n  createPath(parent, path, canRead, canWrite) {\n        parent = typeof parent == 'string' ? parent : FS.getPath(parent);\n        var parts = path.split('/').reverse();\n        while (parts.length) {\n          var part = parts.pop();\n          if (!part) continue;\n          var current = PATH.join2(parent, part);\n          try {\n            FS.mkdir(current);\n          } catch (e) {\n            // ignore EEXIST\n          }\n          parent = current;\n        }\n        return current;\n      },\n  createFile(parent, name, properties, canRead, canWrite) {\n        var path = PATH.join2(typeof parent == 'string' ? parent : FS.getPath(parent), name);\n        var mode = FS_getMode(canRead, canWrite);\n        return FS.create(path, mode);\n      },\n  createDataFile(parent, name, data, canRead, canWrite, canOwn) {\n        var path = name;\n        if (parent) {\n          parent = typeof parent == 'string' ? parent : FS.getPath(parent);\n          path = name ? PATH.join2(parent, name) : parent;\n        }\n        var mode = FS_getMode(canRead, canWrite);\n        var node = FS.create(path, mode);\n        if (data) {\n          if (typeof data == 'string') {\n            var arr = new Array(data.length);\n            for (var i = 0, len = data.length; i < len; ++i) arr[i] = data.charCodeAt(i);\n            data = arr;\n          }\n          // make sure we can write to the file\n          FS.chmod(node, mode | 146);\n          var stream = FS.open(node, 577);\n          FS.write(stream, data, 0, data.length, 0, canOwn);\n          FS.close(stream);\n          FS.chmod(node, mode);\n        }\n        return node;\n      },\n  createDevice(parent, name, input, output) {\n        var path = PATH.join2(typeof parent == 'string' ? parent : FS.getPath(parent), name);\n        var mode = FS_getMode(!!input, !!output);\n        if (!FS.createDevice.major) FS.createDevice.major = 64;\n        var dev = FS.makedev(FS.createDevice.major++, 0);\n        // Create a fake device that a set of stream ops to emulate\n        // the old behavior.\n        FS.registerDevice(dev, {\n          open(stream) {\n            stream.seekable = false;\n          },\n          close(stream) {\n            // flush any pending line data\n            if (output && output.buffer && output.buffer.length) {\n              output(10);\n            }\n          },\n          read(stream, buffer, offset, length, pos /* ignored */) {\n            var bytesRead = 0;\n            for (var i = 0; i < length; i++) {\n              var result;\n              try {\n                result = input();\n              } catch (e) {\n                throw new FS.ErrnoError(29);\n              }\n              if (result === undefined && bytesRead === 0) {\n                throw new FS.ErrnoError(6);\n              }\n              if (result === null || result === undefined) break;\n              bytesRead++;\n              buffer[offset+i] = result;\n            }\n            if (bytesRead) {\n              stream.node.timestamp = Date.now();\n            }\n            return bytesRead;\n          },\n          write(stream, buffer, offset, length, pos) {\n            for (var i = 0; i < length; i++) {\n              try {\n                output(buffer[offset+i]);\n              } catch (e) {\n                throw new FS.ErrnoError(29);\n              }\n            }\n            if (length) {\n              stream.node.timestamp = Date.now();\n            }\n            return i;\n          }\n        });\n        return FS.mkdev(path, mode, dev);\n      },\n  forceLoadFile(obj) {\n        if (obj.isDevice || obj.isFolder || obj.link || obj.contents) return true;\n        if (typeof XMLHttpRequest != 'undefined') {\n          throw new Error(\"Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.\");\n        } else if (read_) {\n          // Command-line.\n          try {\n            // WARNING: Can't read binary files in V8's d8 or tracemonkey's js, as\n            //          read() will try to parse UTF8.\n            obj.contents = intArrayFromString(read_(obj.url), true);\n            obj.usedBytes = obj.contents.length;\n          } catch (e) {\n            throw new FS.ErrnoError(29);\n          }\n        } else {\n          throw new Error('Cannot load without read() or XMLHttpRequest.');\n        }\n      },\n  createLazyFile(parent, name, url, canRead, canWrite) {\n        // Lazy chunked Uint8Array (implements get and length from Uint8Array). Actual getting is abstracted away for eventual reuse.\n        /** @constructor */\n        function LazyUint8Array() {\n          this.lengthKnown = false;\n          this.chunks = []; // Loaded chunks. Index is the chunk number\n        }\n        LazyUint8Array.prototype.get = /** @this{Object} */ function LazyUint8Array_get(idx) {\n          if (idx > this.length-1 || idx < 0) {\n            return undefined;\n          }\n          var chunkOffset = idx % this.chunkSize;\n          var chunkNum = (idx / this.chunkSize)|0;\n          return this.getter(chunkNum)[chunkOffset];\n        };\n        LazyUint8Array.prototype.setDataGetter = function LazyUint8Array_setDataGetter(getter) {\n          this.getter = getter;\n        };\n        LazyUint8Array.prototype.cacheLength = function LazyUint8Array_cacheLength() {\n          // Find length\n          var xhr = new XMLHttpRequest();\n          xhr.open('HEAD', url, false);\n          xhr.send(null);\n          if (!(xhr.status >= 200 && xhr.status < 300 || xhr.status === 304)) throw new Error(\"Couldn't load \" + url + \". Status: \" + xhr.status);\n          var datalength = Number(xhr.getResponseHeader(\"Content-length\"));\n          var header;\n          var hasByteServing = (header = xhr.getResponseHeader(\"Accept-Ranges\")) && header === \"bytes\";\n          var usesGzip = (header = xhr.getResponseHeader(\"Content-Encoding\")) && header === \"gzip\";\n  \n          var chunkSize = 1024*1024; // Chunk size in bytes\n  \n          if (!hasByteServing) chunkSize = datalength;\n  \n          // Function to get a range from the remote URL.\n          var doXHR = (from, to) => {\n            if (from > to) throw new Error(\"invalid range (\" + from + \", \" + to + \") or no bytes requested!\");\n            if (to > datalength-1) throw new Error(\"only \" + datalength + \" bytes available! programmer error!\");\n  \n            // TODO: Use mozResponseArrayBuffer, responseStream, etc. if available.\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url, false);\n            if (datalength !== chunkSize) xhr.setRequestHeader(\"Range\", \"bytes=\" + from + \"-\" + to);\n  \n            // Some hints to the browser that we want binary data.\n            xhr.responseType = 'arraybuffer';\n            if (xhr.overrideMimeType) {\n              xhr.overrideMimeType('text/plain; charset=x-user-defined');\n            }\n  \n            xhr.send(null);\n            if (!(xhr.status >= 200 && xhr.status < 300 || xhr.status === 304)) throw new Error(\"Couldn't load \" + url + \". Status: \" + xhr.status);\n            if (xhr.response !== undefined) {\n              return new Uint8Array(/** @type{Array<number>} */(xhr.response || []));\n            }\n            return intArrayFromString(xhr.responseText || '', true);\n          };\n          var lazyArray = this;\n          lazyArray.setDataGetter((chunkNum) => {\n            var start = chunkNum * chunkSize;\n            var end = (chunkNum+1) * chunkSize - 1; // including this byte\n            end = Math.min(end, datalength-1); // if datalength-1 is selected, this is the last block\n            if (typeof lazyArray.chunks[chunkNum] == 'undefined') {\n              lazyArray.chunks[chunkNum] = doXHR(start, end);\n            }\n            if (typeof lazyArray.chunks[chunkNum] == 'undefined') throw new Error('doXHR failed!');\n            return lazyArray.chunks[chunkNum];\n          });\n  \n          if (usesGzip || !datalength) {\n            // if the server uses gzip or doesn't supply the length, we have to download the whole file to get the (uncompressed) length\n            chunkSize = datalength = 1; // this will force getter(0)/doXHR do download the whole file\n            datalength = this.getter(0).length;\n            chunkSize = datalength;\n            out(\"LazyFiles on gzip forces download of the whole file when length is accessed\");\n          }\n  \n          this._length = datalength;\n          this._chunkSize = chunkSize;\n          this.lengthKnown = true;\n        };\n        if (typeof XMLHttpRequest != 'undefined') {\n          if (!ENVIRONMENT_IS_WORKER) throw 'Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc';\n          var lazyArray = new LazyUint8Array();\n          Object.defineProperties(lazyArray, {\n            length: {\n              get: /** @this{Object} */ function() {\n                if (!this.lengthKnown) {\n                  this.cacheLength();\n                }\n                return this._length;\n              }\n            },\n            chunkSize: {\n              get: /** @this{Object} */ function() {\n                if (!this.lengthKnown) {\n                  this.cacheLength();\n                }\n                return this._chunkSize;\n              }\n            }\n          });\n  \n          var properties = { isDevice: false, contents: lazyArray };\n        } else {\n          var properties = { isDevice: false, url: url };\n        }\n  \n        var node = FS.createFile(parent, name, properties, canRead, canWrite);\n        // This is a total hack, but I want to get this lazy file code out of the\n        // core of MEMFS. If we want to keep this lazy file concept I feel it should\n        // be its own thin LAZYFS proxying calls to MEMFS.\n        if (properties.contents) {\n          node.contents = properties.contents;\n        } else if (properties.url) {\n          node.contents = null;\n          node.url = properties.url;\n        }\n        // Add a function that defers querying the file size until it is asked the first time.\n        Object.defineProperties(node, {\n          usedBytes: {\n            get: /** @this {FSNode} */ function() { return this.contents.length; }\n          }\n        });\n        // override each stream op with one that tries to force load the lazy file first\n        var stream_ops = {};\n        var keys = Object.keys(node.stream_ops);\n        keys.forEach((key) => {\n          var fn = node.stream_ops[key];\n          stream_ops[key] = function forceLoadLazyFile() {\n            FS.forceLoadFile(node);\n            return fn.apply(null, arguments);\n          };\n        });\n        function writeChunks(stream, buffer, offset, length, position) {\n          var contents = stream.node.contents;\n          if (position >= contents.length)\n            return 0;\n          var size = Math.min(contents.length - position, length);\n          assert(size >= 0);\n          if (contents.slice) { // normal array\n            for (var i = 0; i < size; i++) {\n              buffer[offset + i] = contents[position + i];\n            }\n          } else {\n            for (var i = 0; i < size; i++) { // LazyUint8Array from sync binary XHR\n              buffer[offset + i] = contents.get(position + i);\n            }\n          }\n          return size;\n        }\n        // use a custom read function\n        stream_ops.read = (stream, buffer, offset, length, position) => {\n          FS.forceLoadFile(node);\n          return writeChunks(stream, buffer, offset, length, position)\n        };\n        // use a custom mmap function\n        stream_ops.mmap = (stream, length, position, prot, flags) => {\n          FS.forceLoadFile(node);\n          var ptr = mmapAlloc(length);\n          if (!ptr) {\n            throw new FS.ErrnoError(48);\n          }\n          writeChunks(stream, HEAP8, ptr, length, position);\n          return { ptr, allocated: true };\n        };\n        node.stream_ops = stream_ops;\n        return node;\n      },\n  absolutePath() {\n        abort('FS.absolutePath has been removed; use PATH_FS.resolve instead');\n      },\n  createFolder() {\n        abort('FS.createFolder has been removed; use FS.mkdir instead');\n      },\n  createLink() {\n        abort('FS.createLink has been removed; use FS.symlink instead');\n      },\n  joinPath() {\n        abort('FS.joinPath has been removed; use PATH.join instead');\n      },\n  mmapAlloc() {\n        abort('FS.mmapAlloc has been replaced by the top level function mmapAlloc');\n      },\n  standardizePath() {\n        abort('FS.standardizePath has been removed; use PATH.normalize instead');\n      },\n  };\n  \n  \n    /**\n     * Given a pointer 'ptr' to a null-terminated UTF8-encoded string in the\n     * emscripten HEAP, returns a copy of that string as a Javascript String object.\n     *\n     * @param {number} ptr\n     * @param {number=} maxBytesToRead - An optional length that specifies the\n     *   maximum number of bytes to read. You can omit this parameter to scan the\n     *   string until the first 0 byte. If maxBytesToRead is passed, and the string\n     *   at [ptr, ptr+maxBytesToReadr[ contains a null byte in the middle, then the\n     *   string will cut short at that byte index (i.e. maxBytesToRead will not\n     *   produce a string of exact length [ptr, ptr+maxBytesToRead[) N.B. mixing\n     *   frequent uses of UTF8ToString() with and without maxBytesToRead may throw\n     *   JS JIT optimizations off, so it is worth to consider consistently using one\n     * @return {string}\n     */\n  var UTF8ToString = (ptr, maxBytesToRead) => {\n      assert(typeof ptr == 'number');\n      return ptr ? UTF8ArrayToString(HEAPU8, ptr, maxBytesToRead) : '';\n    };\n  var SYSCALLS = {\n  DEFAULT_POLLMASK:5,\n  calculateAt(dirfd, path, allowEmpty) {\n        if (PATH.isAbs(path)) {\n          return path;\n        }\n        // relative path\n        var dir;\n        if (dirfd === -100) {\n          dir = FS.cwd();\n        } else {\n          var dirstream = SYSCALLS.getStreamFromFD(dirfd);\n          dir = dirstream.path;\n        }\n        if (path.length == 0) {\n          if (!allowEmpty) {\n            throw new FS.ErrnoError(44);;\n          }\n          return dir;\n        }\n        return PATH.join2(dir, path);\n      },\n  doStat(func, path, buf) {\n        try {\n          var stat = func(path);\n        } catch (e) {\n          if (e && e.node && PATH.normalize(path) !== PATH.normalize(FS.getPath(e.node))) {\n            // an error occurred while trying to look up the path; we should just report ENOTDIR\n            return -54;\n          }\n          throw e;\n        }\n        HEAP32[((buf)>>2)] = stat.dev;\n        HEAP32[(((buf)+(4))>>2)] = stat.mode;\n        HEAPU32[(((buf)+(8))>>2)] = stat.nlink;\n        HEAP32[(((buf)+(12))>>2)] = stat.uid;\n        HEAP32[(((buf)+(16))>>2)] = stat.gid;\n        HEAP32[(((buf)+(20))>>2)] = stat.rdev;\n        HEAP64[(((buf)+(24))>>3)] = BigInt(stat.size);\n        HEAP32[(((buf)+(32))>>2)] = 4096;\n        HEAP32[(((buf)+(36))>>2)] = stat.blocks;\n        var atime = stat.atime.getTime();\n        var mtime = stat.mtime.getTime();\n        var ctime = stat.ctime.getTime();\n        HEAP64[(((buf)+(40))>>3)] = BigInt(Math.floor(atime / 1000));\n        HEAPU32[(((buf)+(48))>>2)] = (atime % 1000) * 1000;\n        HEAP64[(((buf)+(56))>>3)] = BigInt(Math.floor(mtime / 1000));\n        HEAPU32[(((buf)+(64))>>2)] = (mtime % 1000) * 1000;\n        HEAP64[(((buf)+(72))>>3)] = BigInt(Math.floor(ctime / 1000));\n        HEAPU32[(((buf)+(80))>>2)] = (ctime % 1000) * 1000;\n        HEAP64[(((buf)+(88))>>3)] = BigInt(stat.ino);\n        return 0;\n      },\n  doMsync(addr, stream, len, flags, offset) {\n        if (!FS.isFile(stream.node.mode)) {\n          throw new FS.ErrnoError(43);\n        }\n        if (flags & 2) {\n          // MAP_PRIVATE calls need not to be synced back to underlying fs\n          return 0;\n        }\n        var buffer = HEAPU8.slice(addr, addr + len);\n        FS.msync(stream, buffer, offset, len, flags);\n      },\n  varargs:undefined,\n  get() {\n        assert(SYSCALLS.varargs != undefined);\n        // the `+` prepended here is necessary to convince the JSCompiler that varargs is indeed a number.\n        var ret = HEAP32[((+SYSCALLS.varargs)>>2)];\n        SYSCALLS.varargs += 4;\n        return ret;\n      },\n  getp() { return SYSCALLS.get() },\n  getStr(ptr) {\n        var ret = UTF8ToString(ptr);\n        return ret;\n      },\n  getStreamFromFD(fd) {\n        var stream = FS.getStreamChecked(fd);\n        return stream;\n      },\n  };\n  function ___syscall_chmod(path, mode) {\n  try {\n  \n      path = SYSCALLS.getStr(path);\n      FS.chmod(path, mode);\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  function ___syscall_faccessat(dirfd, path, amode, flags) {\n  try {\n  \n      path = SYSCALLS.getStr(path);\n      assert(flags === 0);\n      path = SYSCALLS.calculateAt(dirfd, path);\n      if (amode & ~7) {\n        // need a valid mode\n        return -28;\n      }\n      var lookup = FS.lookupPath(path, { follow: true });\n      var node = lookup.node;\n      if (!node) {\n        return -44;\n      }\n      var perms = '';\n      if (amode & 4) perms += 'r';\n      if (amode & 2) perms += 'w';\n      if (amode & 1) perms += 'x';\n      if (perms /* otherwise, they've just passed F_OK */ && FS.nodePermissions(node, perms)) {\n        return -2;\n      }\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  function ___syscall_fchmod(fd, mode) {\n  try {\n  \n      FS.fchmod(fd, mode);\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  function ___syscall_fchown32(fd, owner, group) {\n  try {\n  \n      FS.fchown(fd, owner, group);\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  var setErrNo = (value) => {\n      HEAP32[((___errno_location())>>2)] = value;\n      return value;\n    };\n  \n  function ___syscall_fcntl64(fd, cmd, varargs) {\n  SYSCALLS.varargs = varargs;\n  try {\n  \n      var stream = SYSCALLS.getStreamFromFD(fd);\n      switch (cmd) {\n        case 0: {\n          var arg = SYSCALLS.get();\n          if (arg < 0) {\n            return -28;\n          }\n          while (FS.streams[arg]) {\n            arg++;\n          }\n          var newStream;\n          newStream = FS.createStream(stream, arg);\n          return newStream.fd;\n        }\n        case 1:\n        case 2:\n          return 0;  // FD_CLOEXEC makes no sense for a single process.\n        case 3:\n          return stream.flags;\n        case 4: {\n          var arg = SYSCALLS.get();\n          stream.flags |= arg;\n          return 0;\n        }\n        case 5: {\n          var arg = SYSCALLS.getp();\n          var offset = 0;\n          // We're always unlocked.\n          HEAP16[(((arg)+(offset))>>1)] = 2;\n          return 0;\n        }\n        case 6:\n        case 7:\n          return 0; // Pretend that the locking is successful.\n        case 16:\n        case 8:\n          return -28; // These are for sockets. We don't have them fully implemented yet.\n        case 9:\n          // musl trusts getown return values, due to a bug where they must be, as they overlap with errors. just return -1 here, so fcntl() returns that, and we set errno ourselves.\n          setErrNo(28);\n          return -1;\n        default: {\n          return -28;\n        }\n      }\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  function ___syscall_fstat64(fd, buf) {\n  try {\n  \n      var stream = SYSCALLS.getStreamFromFD(fd);\n      return SYSCALLS.doStat(FS.stat, stream.path, buf);\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  \n  var MAX_INT53 = 9007199254740992;\n  \n  var MIN_INT53 = -9007199254740992;\n  var bigintToI53Checked = (num) => {\n      return (num < MIN_INT53 || num > MAX_INT53) ? NaN : Number(num);\n    };\n  function ___syscall_ftruncate64(fd, length) {\n    length = bigintToI53Checked(length);;\n  \n    \n  try {\n  \n      if (isNaN(length)) return 61;\n      FS.ftruncate(fd, length);\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  ;\n  }\n\n  \n  var stringToUTF8 = (str, outPtr, maxBytesToWrite) => {\n      assert(typeof maxBytesToWrite == 'number', 'stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!');\n      return stringToUTF8Array(str, HEAPU8, outPtr, maxBytesToWrite);\n    };\n  \n  function ___syscall_getcwd(buf, size) {\n  try {\n  \n      if (size === 0) return -28;\n      var cwd = FS.cwd();\n      var cwdLengthInBytes = lengthBytesUTF8(cwd) + 1;\n      if (size < cwdLengthInBytes) return -68;\n      stringToUTF8(cwd, buf, size);\n      return cwdLengthInBytes;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  function ___syscall_ioctl(fd, op, varargs) {\n  SYSCALLS.varargs = varargs;\n  try {\n  \n      var stream = SYSCALLS.getStreamFromFD(fd);\n      switch (op) {\n        case 21509: {\n          if (!stream.tty) return -59;\n          return 0;\n        }\n        case 21505: {\n          if (!stream.tty) return -59;\n          if (stream.tty.ops.ioctl_tcgets) {\n            var termios = stream.tty.ops.ioctl_tcgets(stream);\n            var argp = SYSCALLS.getp();\n            HEAP32[((argp)>>2)] = termios.c_iflag || 0;\n            HEAP32[(((argp)+(4))>>2)] = termios.c_oflag || 0;\n            HEAP32[(((argp)+(8))>>2)] = termios.c_cflag || 0;\n            HEAP32[(((argp)+(12))>>2)] = termios.c_lflag || 0;\n            for (var i = 0; i < 32; i++) {\n              HEAP8[(((argp + i)+(17))>>0)] = termios.c_cc[i] || 0;\n            }\n            return 0;\n          }\n          return 0;\n        }\n        case 21510:\n        case 21511:\n        case 21512: {\n          if (!stream.tty) return -59;\n          return 0; // no-op, not actually adjusting terminal settings\n        }\n        case 21506:\n        case 21507:\n        case 21508: {\n          if (!stream.tty) return -59;\n          if (stream.tty.ops.ioctl_tcsets) {\n            var argp = SYSCALLS.getp();\n            var c_iflag = HEAP32[((argp)>>2)];\n            var c_oflag = HEAP32[(((argp)+(4))>>2)];\n            var c_cflag = HEAP32[(((argp)+(8))>>2)];\n            var c_lflag = HEAP32[(((argp)+(12))>>2)];\n            var c_cc = []\n            for (var i = 0; i < 32; i++) {\n              c_cc.push(HEAP8[(((argp + i)+(17))>>0)]);\n            }\n            return stream.tty.ops.ioctl_tcsets(stream.tty, op, { c_iflag, c_oflag, c_cflag, c_lflag, c_cc });\n          }\n          return 0; // no-op, not actually adjusting terminal settings\n        }\n        case 21519: {\n          if (!stream.tty) return -59;\n          var argp = SYSCALLS.getp();\n          HEAP32[((argp)>>2)] = 0;\n          return 0;\n        }\n        case 21520: {\n          if (!stream.tty) return -59;\n          return -28; // not supported\n        }\n        case 21531: {\n          var argp = SYSCALLS.getp();\n          return FS.ioctl(stream, op, argp);\n        }\n        case 21523: {\n          // TODO: in theory we should write to the winsize struct that gets\n          // passed in, but for now musl doesn't read anything on it\n          if (!stream.tty) return -59;\n          if (stream.tty.ops.ioctl_tiocgwinsz) {\n            var winsize = stream.tty.ops.ioctl_tiocgwinsz(stream.tty);\n            var argp = SYSCALLS.getp();\n            HEAP16[((argp)>>1)] = winsize[0];\n            HEAP16[(((argp)+(2))>>1)] = winsize[1];\n          }\n          return 0;\n        }\n        case 21524: {\n          // TODO: technically, this ioctl call should change the window size.\n          // but, since emscripten doesn't have any concept of a terminal window\n          // yet, we'll just silently throw it away as we do TIOCGWINSZ\n          if (!stream.tty) return -59;\n          return 0;\n        }\n        case 21515: {\n          if (!stream.tty) return -59;\n          return 0;\n        }\n        default: return -28; // not supported\n      }\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  function ___syscall_lstat64(path, buf) {\n  try {\n  \n      path = SYSCALLS.getStr(path);\n      return SYSCALLS.doStat(FS.lstat, path, buf);\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  function ___syscall_mkdirat(dirfd, path, mode) {\n  try {\n  \n      path = SYSCALLS.getStr(path);\n      path = SYSCALLS.calculateAt(dirfd, path);\n      // remove a trailing slash, if one - /a/b/ has basename of '', but\n      // we want to create b in the context of this function\n      path = PATH.normalize(path);\n      if (path[path.length-1] === '/') path = path.substr(0, path.length-1);\n      FS.mkdir(path, mode, 0);\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  function ___syscall_newfstatat(dirfd, path, buf, flags) {\n  try {\n  \n      path = SYSCALLS.getStr(path);\n      var nofollow = flags & 256;\n      var allowEmpty = flags & 4096;\n      flags = flags & (~6400);\n      assert(!flags, `unknown flags in __syscall_newfstatat: ${flags}`);\n      path = SYSCALLS.calculateAt(dirfd, path, allowEmpty);\n      return SYSCALLS.doStat(nofollow ? FS.lstat : FS.stat, path, buf);\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  function ___syscall_openat(dirfd, path, flags, varargs) {\n  SYSCALLS.varargs = varargs;\n  try {\n  \n      path = SYSCALLS.getStr(path);\n      path = SYSCALLS.calculateAt(dirfd, path);\n      var mode = varargs ? SYSCALLS.get() : 0;\n      return FS.open(path, flags, mode).fd;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  \n  \n  function ___syscall_readlinkat(dirfd, path, buf, bufsize) {\n  try {\n  \n      path = SYSCALLS.getStr(path);\n      path = SYSCALLS.calculateAt(dirfd, path);\n      if (bufsize <= 0) return -28;\n      var ret = FS.readlink(path);\n  \n      var len = Math.min(bufsize, lengthBytesUTF8(ret));\n      var endChar = HEAP8[buf+len];\n      stringToUTF8(ret, buf, bufsize+1);\n      // readlink is one of the rare functions that write out a C string, but does never append a null to the output buffer(!)\n      // stringToUTF8() always appends a null byte, so restore the character under the null byte after the write.\n      HEAP8[buf+len] = endChar;\n      return len;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  function ___syscall_rmdir(path) {\n  try {\n  \n      path = SYSCALLS.getStr(path);\n      FS.rmdir(path);\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  function ___syscall_stat64(path, buf) {\n  try {\n  \n      path = SYSCALLS.getStr(path);\n      return SYSCALLS.doStat(FS.stat, path, buf);\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  function ___syscall_unlinkat(dirfd, path, flags) {\n  try {\n  \n      path = SYSCALLS.getStr(path);\n      path = SYSCALLS.calculateAt(dirfd, path);\n      if (flags === 0) {\n        FS.unlink(path);\n      } else if (flags === 512) {\n        FS.rmdir(path);\n      } else {\n        abort('Invalid flags passed to unlinkat');\n      }\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  var readI53FromI64 = (ptr) => {\n      return HEAPU32[((ptr)>>2)] + HEAP32[(((ptr)+(4))>>2)] * 4294967296;\n    };\n  \n  function ___syscall_utimensat(dirfd, path, times, flags) {\n  try {\n  \n      path = SYSCALLS.getStr(path);\n      assert(flags === 0);\n      path = SYSCALLS.calculateAt(dirfd, path, true);\n      if (!times) {\n        var atime = Date.now();\n        var mtime = atime;\n      } else {\n        var seconds = readI53FromI64(times);\n        var nanoseconds = HEAP32[(((times)+(8))>>2)];\n        atime = (seconds*1000) + (nanoseconds/(1000*1000));\n        times += 16;\n        seconds = readI53FromI64(times);\n        nanoseconds = HEAP32[(((times)+(8))>>2)];\n        mtime = (seconds*1000) + (nanoseconds/(1000*1000));\n      }\n      FS.utime(path, atime, mtime);\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  }\n\n  var nowIsMonotonic = true;;\n  var __emscripten_get_now_is_monotonic = () => nowIsMonotonic;\n\n  var isLeapYear = (year) => {\n        return year%4 === 0 && (year%100 !== 0 || year%400 === 0);\n    };\n  \n  var MONTH_DAYS_LEAP_CUMULATIVE = [0,31,60,91,121,152,182,213,244,274,305,335];\n  \n  var MONTH_DAYS_REGULAR_CUMULATIVE = [0,31,59,90,120,151,181,212,243,273,304,334];\n  var ydayFromDate = (date) => {\n      var leap = isLeapYear(date.getFullYear());\n      var monthDaysCumulative = (leap ? MONTH_DAYS_LEAP_CUMULATIVE : MONTH_DAYS_REGULAR_CUMULATIVE);\n      var yday = monthDaysCumulative[date.getMonth()] + date.getDate() - 1; // -1 since it's days since Jan 1\n  \n      return yday;\n    };\n  \n  function __localtime_js(time, tmPtr) {\n    time = bigintToI53Checked(time);;\n  \n    \n      var date = new Date(time*1000);\n      HEAP32[((tmPtr)>>2)] = date.getSeconds();\n      HEAP32[(((tmPtr)+(4))>>2)] = date.getMinutes();\n      HEAP32[(((tmPtr)+(8))>>2)] = date.getHours();\n      HEAP32[(((tmPtr)+(12))>>2)] = date.getDate();\n      HEAP32[(((tmPtr)+(16))>>2)] = date.getMonth();\n      HEAP32[(((tmPtr)+(20))>>2)] = date.getFullYear()-1900;\n      HEAP32[(((tmPtr)+(24))>>2)] = date.getDay();\n  \n      var yday = ydayFromDate(date)|0;\n      HEAP32[(((tmPtr)+(28))>>2)] = yday;\n      HEAP32[(((tmPtr)+(36))>>2)] = -(date.getTimezoneOffset() * 60);\n  \n      // Attention: DST is in December in South, and some regions don't have DST at all.\n      var start = new Date(date.getFullYear(), 0, 1);\n      var summerOffset = new Date(date.getFullYear(), 6, 1).getTimezoneOffset();\n      var winterOffset = start.getTimezoneOffset();\n      var dst = (summerOffset != winterOffset && date.getTimezoneOffset() == Math.min(winterOffset, summerOffset))|0;\n      HEAP32[(((tmPtr)+(32))>>2)] = dst;\n    ;\n  }\n\n  \n  \n  \n  \n  \n  function __mmap_js(len, prot, flags, fd, offset, allocated, addr) {\n    offset = bigintToI53Checked(offset);;\n  \n    \n  try {\n  \n      if (isNaN(offset)) return 61;\n      var stream = SYSCALLS.getStreamFromFD(fd);\n      var res = FS.mmap(stream, len, offset, prot, flags);\n      var ptr = res.ptr;\n      HEAP32[((allocated)>>2)] = res.allocated;\n      HEAPU32[((addr)>>2)] = ptr;\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  ;\n  }\n\n  \n  \n  \n  function __munmap_js(addr, len, prot, flags, fd, offset) {\n    offset = bigintToI53Checked(offset);;\n  \n    \n  try {\n  \n      if (isNaN(offset)) return 61;\n      var stream = SYSCALLS.getStreamFromFD(fd);\n      if (prot & 2) {\n        SYSCALLS.doMsync(addr, stream, len, flags, offset);\n      }\n      FS.munmap(stream);\n      // implicitly return 0\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return -e.errno;\n  }\n  ;\n  }\n\n  \n  \n  var stringToNewUTF8 = (str) => {\n      var size = lengthBytesUTF8(str) + 1;\n      var ret = _malloc(size);\n      if (ret) stringToUTF8(str, ret, size);\n      return ret;\n    };\n  var __tzset_js = (timezone, daylight, tzname) => {\n      // TODO: Use (malleable) environment variables instead of system settings.\n      var currentYear = new Date().getFullYear();\n      var winter = new Date(currentYear, 0, 1);\n      var summer = new Date(currentYear, 6, 1);\n      var winterOffset = winter.getTimezoneOffset();\n      var summerOffset = summer.getTimezoneOffset();\n  \n      // Local standard timezone offset. Local standard time is not adjusted for daylight savings.\n      // This code uses the fact that getTimezoneOffset returns a greater value during Standard Time versus Daylight Saving Time (DST).\n      // Thus it determines the expected output during Standard Time, and it compares whether the output of the given date the same (Standard) or less (DST).\n      var stdTimezoneOffset = Math.max(winterOffset, summerOffset);\n  \n      // timezone is specified as seconds west of UTC (\"The external variable\n      // `timezone` shall be set to the difference, in seconds, between\n      // Coordinated Universal Time (UTC) and local standard time.\"), the same\n      // as returned by stdTimezoneOffset.\n      // See http://pubs.opengroup.org/onlinepubs/009695399/functions/tzset.html\n      HEAPU32[((timezone)>>2)] = stdTimezoneOffset * 60;\n  \n      HEAP32[((daylight)>>2)] = Number(winterOffset != summerOffset);\n  \n      function extractZone(date) {\n        var match = date.toTimeString().match(/\\(([A-Za-z ]+)\\)$/);\n        return match ? match[1] : \"GMT\";\n      };\n      var winterName = extractZone(winter);\n      var summerName = extractZone(summer);\n      var winterNamePtr = stringToNewUTF8(winterName);\n      var summerNamePtr = stringToNewUTF8(summerName);\n      if (summerOffset < winterOffset) {\n        // Northern hemisphere\n        HEAPU32[((tzname)>>2)] = winterNamePtr;\n        HEAPU32[(((tzname)+(4))>>2)] = summerNamePtr;\n      } else {\n        HEAPU32[((tzname)>>2)] = summerNamePtr;\n        HEAPU32[(((tzname)+(4))>>2)] = winterNamePtr;\n      }\n    };\n\n  var _emscripten_date_now = () => Date.now();\n\n  var _emscripten_get_now;\n      // Modern environment where performance.now() is supported:\n      // N.B. a shorter form \"_emscripten_get_now = performance.now;\" is\n      // unfortunately not allowed even in current browsers (e.g. FF Nightly 75).\n      _emscripten_get_now = () => performance.now();\n  ;\n\n  var _emscripten_memcpy_js = (dest, src, num) => HEAPU8.copyWithin(dest, src, src + num);\n\n  var getHeapMax = () =>\n      // Stay one Wasm page short of 4GB: while e.g. Chrome is able to allocate\n      // full 4GB Wasm memories, the size will wrap back to 0 bytes in Wasm side\n      // for any code that deals with heap sizes, which would require special\n      // casing all heap size related code to treat 0 specially.\n      2147483648;\n  \n  var growMemory = (size) => {\n      var b = wasmMemory.buffer;\n      var pages = (size - b.byteLength + 65535) / 65536;\n      try {\n        // round size grow request up to wasm page size (fixed 64KB per spec)\n        wasmMemory.grow(pages); // .grow() takes a delta compared to the previous size\n        updateMemoryViews();\n        return 1 /*success*/;\n      } catch(e) {\n        err(`growMemory: Attempted to grow heap from ${b.byteLength} bytes to ${size} bytes, but got error: ${e}`);\n      }\n      // implicit 0 return to save code size (caller will cast \"undefined\" into 0\n      // anyhow)\n    };\n  var _emscripten_resize_heap = (requestedSize) => {\n      var oldSize = HEAPU8.length;\n      // With CAN_ADDRESS_2GB or MEMORY64, pointers are already unsigned.\n      requestedSize >>>= 0;\n      // With multithreaded builds, races can happen (another thread might increase the size\n      // in between), so return a failure, and let the caller retry.\n      assert(requestedSize > oldSize);\n  \n      // Memory resize rules:\n      // 1.  Always increase heap size to at least the requested size, rounded up\n      //     to next page multiple.\n      // 2a. If MEMORY_GROWTH_LINEAR_STEP == -1, excessively resize the heap\n      //     geometrically: increase the heap size according to\n      //     MEMORY_GROWTH_GEOMETRIC_STEP factor (default +20%), At most\n      //     overreserve by MEMORY_GROWTH_GEOMETRIC_CAP bytes (default 96MB).\n      // 2b. If MEMORY_GROWTH_LINEAR_STEP != -1, excessively resize the heap\n      //     linearly: increase the heap size by at least\n      //     MEMORY_GROWTH_LINEAR_STEP bytes.\n      // 3.  Max size for the heap is capped at 2048MB-WASM_PAGE_SIZE, or by\n      //     MAXIMUM_MEMORY, or by ASAN limit, depending on which is smallest\n      // 4.  If we were unable to allocate as much memory, it may be due to\n      //     over-eager decision to excessively reserve due to (3) above.\n      //     Hence if an allocation fails, cut down on the amount of excess\n      //     growth, in an attempt to succeed to perform a smaller allocation.\n  \n      // A limit is set for how much we can grow. We should not exceed that\n      // (the wasm binary specifies it, so if we tried, we'd fail anyhow).\n      var maxHeapSize = getHeapMax();\n      if (requestedSize > maxHeapSize) {\n        err(`Cannot enlarge memory, requested ${requestedSize} bytes, but the limit is ${maxHeapSize} bytes!`);\n        return false;\n      }\n  \n      var alignUp = (x, multiple) => x + (multiple - x % multiple) % multiple;\n  \n      // Loop through potential heap size increases. If we attempt a too eager\n      // reservation that fails, cut down on the attempted size and reserve a\n      // smaller bump instead. (max 3 times, chosen somewhat arbitrarily)\n      for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {\n        var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown); // ensure geometric growth\n        // but limit overreserving (default to capping at +96MB overgrowth at most)\n        overGrownHeapSize = Math.min(overGrownHeapSize, requestedSize + 100663296 );\n  \n        var newSize = Math.min(maxHeapSize, alignUp(Math.max(requestedSize, overGrownHeapSize), 65536));\n  \n        var replacement = growMemory(newSize);\n        if (replacement) {\n  \n          return true;\n        }\n      }\n      err(`Failed to grow the heap from ${oldSize} bytes to ${newSize} bytes, not enough memory!`);\n      return false;\n    };\n\n  var ENV = {\n  };\n  \n  var getExecutableName = () => {\n      return thisProgram || './this.program';\n    };\n  var getEnvStrings = () => {\n      if (!getEnvStrings.strings) {\n        // Default values.\n        // Browser language detection #8751\n        var lang = ((typeof navigator == 'object' && navigator.languages && navigator.languages[0]) || 'C').replace('-', '_') + '.UTF-8';\n        var env = {\n          'USER': 'web_user',\n          'LOGNAME': 'web_user',\n          'PATH': '/',\n          'PWD': '/',\n          'HOME': '/home/web_user',\n          'LANG': lang,\n          '_': getExecutableName()\n        };\n        // Apply the user-provided values, if any.\n        for (var x in ENV) {\n          // x is a key in ENV; if ENV[x] is undefined, that means it was\n          // explicitly set to be so. We allow user code to do that to\n          // force variables with default values to remain unset.\n          if (ENV[x] === undefined) delete env[x];\n          else env[x] = ENV[x];\n        }\n        var strings = [];\n        for (var x in env) {\n          strings.push(`${x}=${env[x]}`);\n        }\n        getEnvStrings.strings = strings;\n      }\n      return getEnvStrings.strings;\n    };\n  \n  var stringToAscii = (str, buffer) => {\n      for (var i = 0; i < str.length; ++i) {\n        assert(str.charCodeAt(i) === (str.charCodeAt(i) & 0xff));\n        HEAP8[((buffer++)>>0)] = str.charCodeAt(i);\n      }\n      // Null-terminate the string\n      HEAP8[((buffer)>>0)] = 0;\n    };\n  \n  var _environ_get = (__environ, environ_buf) => {\n      var bufSize = 0;\n      getEnvStrings().forEach((string, i) => {\n        var ptr = environ_buf + bufSize;\n        HEAPU32[(((__environ)+(i*4))>>2)] = ptr;\n        stringToAscii(string, ptr);\n        bufSize += string.length + 1;\n      });\n      return 0;\n    };\n\n  \n  var _environ_sizes_get = (penviron_count, penviron_buf_size) => {\n      var strings = getEnvStrings();\n      HEAPU32[((penviron_count)>>2)] = strings.length;\n      var bufSize = 0;\n      strings.forEach((string) => bufSize += string.length + 1);\n      HEAPU32[((penviron_buf_size)>>2)] = bufSize;\n      return 0;\n    };\n\n  function _fd_close(fd) {\n  try {\n  \n      var stream = SYSCALLS.getStreamFromFD(fd);\n      FS.close(stream);\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return e.errno;\n  }\n  }\n\n  function _fd_fdstat_get(fd, pbuf) {\n  try {\n  \n      var rightsBase = 0;\n      var rightsInheriting = 0;\n      var flags = 0;\n      {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        // All character devices are terminals (other things a Linux system would\n        // assume is a character device, like the mouse, we have special APIs for).\n        var type = stream.tty ? 2 :\n                   FS.isDir(stream.mode) ? 3 :\n                   FS.isLink(stream.mode) ? 7 :\n                   4;\n      }\n      HEAP8[((pbuf)>>0)] = type;\n      HEAP16[(((pbuf)+(2))>>1)] = flags;\n      HEAP64[(((pbuf)+(8))>>3)] = BigInt(rightsBase);\n      HEAP64[(((pbuf)+(16))>>3)] = BigInt(rightsInheriting);\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return e.errno;\n  }\n  }\n\n  /** @param {number=} offset */\n  var doReadv = (stream, iov, iovcnt, offset) => {\n      var ret = 0;\n      for (var i = 0; i < iovcnt; i++) {\n        var ptr = HEAPU32[((iov)>>2)];\n        var len = HEAPU32[(((iov)+(4))>>2)];\n        iov += 8;\n        var curr = FS.read(stream, HEAP8, ptr, len, offset);\n        if (curr < 0) return -1;\n        ret += curr;\n        if (curr < len) break; // nothing more to read\n        if (typeof offset !== 'undefined') {\n          offset += curr;\n        }\n      }\n      return ret;\n    };\n  \n  function _fd_read(fd, iov, iovcnt, pnum) {\n  try {\n  \n      var stream = SYSCALLS.getStreamFromFD(fd);\n      var num = doReadv(stream, iov, iovcnt);\n      HEAPU32[((pnum)>>2)] = num;\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return e.errno;\n  }\n  }\n\n  \n  function _fd_seek(fd, offset, whence, newOffset) {\n    offset = bigintToI53Checked(offset);;\n  \n    \n  try {\n  \n      if (isNaN(offset)) return 61;\n      var stream = SYSCALLS.getStreamFromFD(fd);\n      FS.llseek(stream, offset, whence);\n      HEAP64[((newOffset)>>3)] = BigInt(stream.position);\n      if (stream.getdents && offset === 0 && whence === 0) stream.getdents = null; // reset readdir state\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return e.errno;\n  }\n  ;\n  }\n\n  function _fd_sync(fd) {\n  try {\n  \n      var stream = SYSCALLS.getStreamFromFD(fd);\n      if (stream.stream_ops && stream.stream_ops.fsync) {\n        return stream.stream_ops.fsync(stream);\n      }\n      return 0; // we can't do anything synchronously; the in-memory FS is already synced to\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return e.errno;\n  }\n  }\n\n  /** @param {number=} offset */\n  var doWritev = (stream, iov, iovcnt, offset) => {\n      var ret = 0;\n      for (var i = 0; i < iovcnt; i++) {\n        var ptr = HEAPU32[((iov)>>2)];\n        var len = HEAPU32[(((iov)+(4))>>2)];\n        iov += 8;\n        var curr = FS.write(stream, HEAP8, ptr, len, offset);\n        if (curr < 0) return -1;\n        ret += curr;\n        if (typeof offset !== 'undefined') {\n          offset += curr;\n        }\n      }\n      return ret;\n    };\n  \n  function _fd_write(fd, iov, iovcnt, pnum) {\n  try {\n  \n      var stream = SYSCALLS.getStreamFromFD(fd);\n      var num = doWritev(stream, iov, iovcnt);\n      HEAPU32[((pnum)>>2)] = num;\n      return 0;\n    } catch (e) {\n    if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n    return e.errno;\n  }\n  }\n\n  var FSNode = /** @constructor */ function(parent, name, mode, rdev) {\n    if (!parent) {\n      parent = this;  // root node sets parent to itself\n    }\n    this.parent = parent;\n    this.mount = parent.mount;\n    this.mounted = null;\n    this.id = FS.nextInode++;\n    this.name = name;\n    this.mode = mode;\n    this.node_ops = {};\n    this.stream_ops = {};\n    this.rdev = rdev;\n  };\n  var readMode = 292/*292*/ | 73/*73*/;\n  var writeMode = 146/*146*/;\n  Object.defineProperties(FSNode.prototype, {\n   read: {\n    get: /** @this{FSNode} */function() {\n     return (this.mode & readMode) === readMode;\n    },\n    set: /** @this{FSNode} */function(val) {\n     val ? this.mode |= readMode : this.mode &= ~readMode;\n    }\n   },\n   write: {\n    get: /** @this{FSNode} */function() {\n     return (this.mode & writeMode) === writeMode;\n    },\n    set: /** @this{FSNode} */function(val) {\n     val ? this.mode |= writeMode : this.mode &= ~writeMode;\n    }\n   },\n   isFolder: {\n    get: /** @this{FSNode} */function() {\n     return FS.isDir(this.mode);\n    }\n   },\n   isDevice: {\n    get: /** @this{FSNode} */function() {\n     return FS.isChrdev(this.mode);\n    }\n   }\n  });\n  FS.FSNode = FSNode;\n  FS.createPreloadedFile = FS_createPreloadedFile;\n  FS.staticInit();;\nERRNO_CODES = {\n      'EPERM': 63,\n      'ENOENT': 44,\n      'ESRCH': 71,\n      'EINTR': 27,\n      'EIO': 29,\n      'ENXIO': 60,\n      'E2BIG': 1,\n      'ENOEXEC': 45,\n      'EBADF': 8,\n      'ECHILD': 12,\n      'EAGAIN': 6,\n      'EWOULDBLOCK': 6,\n      'ENOMEM': 48,\n      'EACCES': 2,\n      'EFAULT': 21,\n      'ENOTBLK': 105,\n      'EBUSY': 10,\n      'EEXIST': 20,\n      'EXDEV': 75,\n      'ENODEV': 43,\n      'ENOTDIR': 54,\n      'EISDIR': 31,\n      'EINVAL': 28,\n      'ENFILE': 41,\n      'EMFILE': 33,\n      'ENOTTY': 59,\n      'ETXTBSY': 74,\n      'EFBIG': 22,\n      'ENOSPC': 51,\n      'ESPIPE': 70,\n      'EROFS': 69,\n      'EMLINK': 34,\n      'EPIPE': 64,\n      'EDOM': 18,\n      'ERANGE': 68,\n      'ENOMSG': 49,\n      'EIDRM': 24,\n      'ECHRNG': 106,\n      'EL2NSYNC': 156,\n      'EL3HLT': 107,\n      'EL3RST': 108,\n      'ELNRNG': 109,\n      'EUNATCH': 110,\n      'ENOCSI': 111,\n      'EL2HLT': 112,\n      'EDEADLK': 16,\n      'ENOLCK': 46,\n      'EBADE': 113,\n      'EBADR': 114,\n      'EXFULL': 115,\n      'ENOANO': 104,\n      'EBADRQC': 103,\n      'EBADSLT': 102,\n      'EDEADLOCK': 16,\n      'EBFONT': 101,\n      'ENOSTR': 100,\n      'ENODATA': 116,\n      'ETIME': 117,\n      'ENOSR': 118,\n      'ENONET': 119,\n      'ENOPKG': 120,\n      'EREMOTE': 121,\n      'ENOLINK': 47,\n      'EADV': 122,\n      'ESRMNT': 123,\n      'ECOMM': 124,\n      'EPROTO': 65,\n      'EMULTIHOP': 36,\n      'EDOTDOT': 125,\n      'EBADMSG': 9,\n      'ENOTUNIQ': 126,\n      'EBADFD': 127,\n      'EREMCHG': 128,\n      'ELIBACC': 129,\n      'ELIBBAD': 130,\n      'ELIBSCN': 131,\n      'ELIBMAX': 132,\n      'ELIBEXEC': 133,\n      'ENOSYS': 52,\n      'ENOTEMPTY': 55,\n      'ENAMETOOLONG': 37,\n      'ELOOP': 32,\n      'EOPNOTSUPP': 138,\n      'EPFNOSUPPORT': 139,\n      'ECONNRESET': 15,\n      'ENOBUFS': 42,\n      'EAFNOSUPPORT': 5,\n      'EPROTOTYPE': 67,\n      'ENOTSOCK': 57,\n      'ENOPROTOOPT': 50,\n      'ESHUTDOWN': 140,\n      'ECONNREFUSED': 14,\n      'EADDRINUSE': 3,\n      'ECONNABORTED': 13,\n      'ENETUNREACH': 40,\n      'ENETDOWN': 38,\n      'ETIMEDOUT': 73,\n      'EHOSTDOWN': 142,\n      'EHOSTUNREACH': 23,\n      'EINPROGRESS': 26,\n      'EALREADY': 7,\n      'EDESTADDRREQ': 17,\n      'EMSGSIZE': 35,\n      'EPROTONOSUPPORT': 66,\n      'ESOCKTNOSUPPORT': 137,\n      'EADDRNOTAVAIL': 4,\n      'ENETRESET': 39,\n      'EISCONN': 30,\n      'ENOTCONN': 53,\n      'ETOOMANYREFS': 141,\n      'EUSERS': 136,\n      'EDQUOT': 19,\n      'ESTALE': 72,\n      'ENOTSUP': 138,\n      'ENOMEDIUM': 148,\n      'EILSEQ': 25,\n      'EOVERFLOW': 61,\n      'ECANCELED': 11,\n      'ENOTRECOVERABLE': 56,\n      'EOWNERDEAD': 62,\n      'ESTRPIPE': 135,\n    };;\nfunction checkIncomingModuleAPI() {\n  ignoredModuleProp('fetchSettings');\n}\nvar wasmImports = {\n  /** @export */\n  __syscall_chmod: ___syscall_chmod,\n  /** @export */\n  __syscall_faccessat: ___syscall_faccessat,\n  /** @export */\n  __syscall_fchmod: ___syscall_fchmod,\n  /** @export */\n  __syscall_fchown32: ___syscall_fchown32,\n  /** @export */\n  __syscall_fcntl64: ___syscall_fcntl64,\n  /** @export */\n  __syscall_fstat64: ___syscall_fstat64,\n  /** @export */\n  __syscall_ftruncate64: ___syscall_ftruncate64,\n  /** @export */\n  __syscall_getcwd: ___syscall_getcwd,\n  /** @export */\n  __syscall_ioctl: ___syscall_ioctl,\n  /** @export */\n  __syscall_lstat64: ___syscall_lstat64,\n  /** @export */\n  __syscall_mkdirat: ___syscall_mkdirat,\n  /** @export */\n  __syscall_newfstatat: ___syscall_newfstatat,\n  /** @export */\n  __syscall_openat: ___syscall_openat,\n  /** @export */\n  __syscall_readlinkat: ___syscall_readlinkat,\n  /** @export */\n  __syscall_rmdir: ___syscall_rmdir,\n  /** @export */\n  __syscall_stat64: ___syscall_stat64,\n  /** @export */\n  __syscall_unlinkat: ___syscall_unlinkat,\n  /** @export */\n  __syscall_utimensat: ___syscall_utimensat,\n  /** @export */\n  _emscripten_get_now_is_monotonic: __emscripten_get_now_is_monotonic,\n  /** @export */\n  _localtime_js: __localtime_js,\n  /** @export */\n  _mmap_js: __mmap_js,\n  /** @export */\n  _munmap_js: __munmap_js,\n  /** @export */\n  _tzset_js: __tzset_js,\n  /** @export */\n  emscripten_date_now: _emscripten_date_now,\n  /** @export */\n  emscripten_get_now: _emscripten_get_now,\n  /** @export */\n  emscripten_memcpy_js: _emscripten_memcpy_js,\n  /** @export */\n  emscripten_resize_heap: _emscripten_resize_heap,\n  /** @export */\n  environ_get: _environ_get,\n  /** @export */\n  environ_sizes_get: _environ_sizes_get,\n  /** @export */\n  fd_close: _fd_close,\n  /** @export */\n  fd_fdstat_get: _fd_fdstat_get,\n  /** @export */\n  fd_read: _fd_read,\n  /** @export */\n  fd_seek: _fd_seek,\n  /** @export */\n  fd_sync: _fd_sync,\n  /** @export */\n  fd_write: _fd_write,\n  /** @export */\n  memory: wasmMemory\n};\nvar wasmExports = createWasm();\nvar ___wasm_call_ctors = createExportWrapper('__wasm_call_ctors');\nvar _sqlite3_status64 = Module['_sqlite3_status64'] = createExportWrapper('sqlite3_status64');\nvar _sqlite3_status = Module['_sqlite3_status'] = createExportWrapper('sqlite3_status');\nvar _sqlite3_db_status = Module['_sqlite3_db_status'] = createExportWrapper('sqlite3_db_status');\nvar _sqlite3_msize = Module['_sqlite3_msize'] = createExportWrapper('sqlite3_msize');\nvar _sqlite3_vfs_find = Module['_sqlite3_vfs_find'] = createExportWrapper('sqlite3_vfs_find');\nvar _sqlite3_initialize = Module['_sqlite3_initialize'] = createExportWrapper('sqlite3_initialize');\nvar _sqlite3_vfs_register = Module['_sqlite3_vfs_register'] = createExportWrapper('sqlite3_vfs_register');\nvar _sqlite3_vfs_unregister = Module['_sqlite3_vfs_unregister'] = createExportWrapper('sqlite3_vfs_unregister');\nvar _sqlite3_malloc = Module['_sqlite3_malloc'] = createExportWrapper('sqlite3_malloc');\nvar _sqlite3_malloc64 = Module['_sqlite3_malloc64'] = createExportWrapper('sqlite3_malloc64');\nvar _sqlite3_free = Module['_sqlite3_free'] = createExportWrapper('sqlite3_free');\nvar _sqlite3_realloc = Module['_sqlite3_realloc'] = createExportWrapper('sqlite3_realloc');\nvar _sqlite3_realloc64 = Module['_sqlite3_realloc64'] = createExportWrapper('sqlite3_realloc64');\nvar _sqlite3_value_int64 = Module['_sqlite3_value_int64'] = createExportWrapper('sqlite3_value_int64');\nvar _sqlite3_value_double = Module['_sqlite3_value_double'] = createExportWrapper('sqlite3_value_double');\nvar _sqlite3_value_text = Module['_sqlite3_value_text'] = createExportWrapper('sqlite3_value_text');\nvar _sqlite3_randomness = Module['_sqlite3_randomness'] = createExportWrapper('sqlite3_randomness');\nvar _sqlite3_stricmp = Module['_sqlite3_stricmp'] = createExportWrapper('sqlite3_stricmp');\nvar _sqlite3_strnicmp = Module['_sqlite3_strnicmp'] = createExportWrapper('sqlite3_strnicmp');\nvar ___errno_location = createExportWrapper('__errno_location');\nvar _sqlite3_serialize = Module['_sqlite3_serialize'] = createExportWrapper('sqlite3_serialize');\nvar _sqlite3_prepare_v2 = Module['_sqlite3_prepare_v2'] = createExportWrapper('sqlite3_prepare_v2');\nvar _sqlite3_step = Module['_sqlite3_step'] = createExportWrapper('sqlite3_step');\nvar _sqlite3_column_int64 = Module['_sqlite3_column_int64'] = createExportWrapper('sqlite3_column_int64');\nvar _sqlite3_column_int = Module['_sqlite3_column_int'] = createExportWrapper('sqlite3_column_int');\nvar _sqlite3_finalize = Module['_sqlite3_finalize'] = createExportWrapper('sqlite3_finalize');\nvar _sqlite3_file_control = Module['_sqlite3_file_control'] = createExportWrapper('sqlite3_file_control');\nvar _sqlite3_reset = Module['_sqlite3_reset'] = createExportWrapper('sqlite3_reset');\nvar _sqlite3_value_int = Module['_sqlite3_value_int'] = createExportWrapper('sqlite3_value_int');\nvar _sqlite3_deserialize = Module['_sqlite3_deserialize'] = createExportWrapper('sqlite3_deserialize');\nvar _sqlite3_clear_bindings = Module['_sqlite3_clear_bindings'] = createExportWrapper('sqlite3_clear_bindings');\nvar _sqlite3_value_blob = Module['_sqlite3_value_blob'] = createExportWrapper('sqlite3_value_blob');\nvar _sqlite3_value_bytes = Module['_sqlite3_value_bytes'] = createExportWrapper('sqlite3_value_bytes');\nvar _sqlite3_value_subtype = Module['_sqlite3_value_subtype'] = createExportWrapper('sqlite3_value_subtype');\nvar _sqlite3_value_pointer = Module['_sqlite3_value_pointer'] = createExportWrapper('sqlite3_value_pointer');\nvar _sqlite3_value_type = Module['_sqlite3_value_type'] = createExportWrapper('sqlite3_value_type');\nvar _sqlite3_value_nochange = Module['_sqlite3_value_nochange'] = createExportWrapper('sqlite3_value_nochange');\nvar _sqlite3_value_frombind = Module['_sqlite3_value_frombind'] = createExportWrapper('sqlite3_value_frombind');\nvar _sqlite3_value_dup = Module['_sqlite3_value_dup'] = createExportWrapper('sqlite3_value_dup');\nvar _sqlite3_value_free = Module['_sqlite3_value_free'] = createExportWrapper('sqlite3_value_free');\nvar _sqlite3_result_blob = Module['_sqlite3_result_blob'] = createExportWrapper('sqlite3_result_blob');\nvar _sqlite3_result_error_toobig = Module['_sqlite3_result_error_toobig'] = createExportWrapper('sqlite3_result_error_toobig');\nvar _sqlite3_result_error_nomem = Module['_sqlite3_result_error_nomem'] = createExportWrapper('sqlite3_result_error_nomem');\nvar _sqlite3_result_double = Module['_sqlite3_result_double'] = createExportWrapper('sqlite3_result_double');\nvar _sqlite3_result_error = Module['_sqlite3_result_error'] = createExportWrapper('sqlite3_result_error');\nvar _sqlite3_result_int = Module['_sqlite3_result_int'] = createExportWrapper('sqlite3_result_int');\nvar _sqlite3_result_int64 = Module['_sqlite3_result_int64'] = createExportWrapper('sqlite3_result_int64');\nvar _sqlite3_result_null = Module['_sqlite3_result_null'] = createExportWrapper('sqlite3_result_null');\nvar _sqlite3_result_pointer = Module['_sqlite3_result_pointer'] = createExportWrapper('sqlite3_result_pointer');\nvar _sqlite3_result_subtype = Module['_sqlite3_result_subtype'] = createExportWrapper('sqlite3_result_subtype');\nvar _sqlite3_result_text = Module['_sqlite3_result_text'] = createExportWrapper('sqlite3_result_text');\nvar _sqlite3_result_zeroblob = Module['_sqlite3_result_zeroblob'] = createExportWrapper('sqlite3_result_zeroblob');\nvar _sqlite3_result_zeroblob64 = Module['_sqlite3_result_zeroblob64'] = createExportWrapper('sqlite3_result_zeroblob64');\nvar _sqlite3_result_error_code = Module['_sqlite3_result_error_code'] = createExportWrapper('sqlite3_result_error_code');\nvar _sqlite3_sql = Module['_sqlite3_sql'] = createExportWrapper('sqlite3_sql');\nvar _sqlite3_user_data = Module['_sqlite3_user_data'] = createExportWrapper('sqlite3_user_data');\nvar _sqlite3_context_db_handle = Module['_sqlite3_context_db_handle'] = createExportWrapper('sqlite3_context_db_handle');\nvar _sqlite3_vtab_nochange = Module['_sqlite3_vtab_nochange'] = createExportWrapper('sqlite3_vtab_nochange');\nvar _sqlite3_vtab_in_first = Module['_sqlite3_vtab_in_first'] = createExportWrapper('sqlite3_vtab_in_first');\nvar _sqlite3_vtab_in_next = Module['_sqlite3_vtab_in_next'] = createExportWrapper('sqlite3_vtab_in_next');\nvar _sqlite3_aggregate_context = Module['_sqlite3_aggregate_context'] = createExportWrapper('sqlite3_aggregate_context');\nvar _sqlite3_get_auxdata = Module['_sqlite3_get_auxdata'] = createExportWrapper('sqlite3_get_auxdata');\nvar _sqlite3_set_auxdata = Module['_sqlite3_set_auxdata'] = createExportWrapper('sqlite3_set_auxdata');\nvar _sqlite3_column_count = Module['_sqlite3_column_count'] = createExportWrapper('sqlite3_column_count');\nvar _sqlite3_data_count = Module['_sqlite3_data_count'] = createExportWrapper('sqlite3_data_count');\nvar _sqlite3_column_blob = Module['_sqlite3_column_blob'] = createExportWrapper('sqlite3_column_blob');\nvar _sqlite3_column_bytes = Module['_sqlite3_column_bytes'] = createExportWrapper('sqlite3_column_bytes');\nvar _sqlite3_column_double = Module['_sqlite3_column_double'] = createExportWrapper('sqlite3_column_double');\nvar _sqlite3_column_text = Module['_sqlite3_column_text'] = createExportWrapper('sqlite3_column_text');\nvar _sqlite3_column_value = Module['_sqlite3_column_value'] = createExportWrapper('sqlite3_column_value');\nvar _sqlite3_column_type = Module['_sqlite3_column_type'] = createExportWrapper('sqlite3_column_type');\nvar _sqlite3_column_name = Module['_sqlite3_column_name'] = createExportWrapper('sqlite3_column_name');\nvar _sqlite3_bind_blob = Module['_sqlite3_bind_blob'] = createExportWrapper('sqlite3_bind_blob');\nvar _sqlite3_bind_double = Module['_sqlite3_bind_double'] = createExportWrapper('sqlite3_bind_double');\nvar _sqlite3_bind_int = Module['_sqlite3_bind_int'] = createExportWrapper('sqlite3_bind_int');\nvar _sqlite3_bind_int64 = Module['_sqlite3_bind_int64'] = createExportWrapper('sqlite3_bind_int64');\nvar _sqlite3_bind_null = Module['_sqlite3_bind_null'] = createExportWrapper('sqlite3_bind_null');\nvar _sqlite3_bind_pointer = Module['_sqlite3_bind_pointer'] = createExportWrapper('sqlite3_bind_pointer');\nvar _sqlite3_bind_text = Module['_sqlite3_bind_text'] = createExportWrapper('sqlite3_bind_text');\nvar _sqlite3_bind_parameter_count = Module['_sqlite3_bind_parameter_count'] = createExportWrapper('sqlite3_bind_parameter_count');\nvar _sqlite3_bind_parameter_index = Module['_sqlite3_bind_parameter_index'] = createExportWrapper('sqlite3_bind_parameter_index');\nvar _sqlite3_db_handle = Module['_sqlite3_db_handle'] = createExportWrapper('sqlite3_db_handle');\nvar _sqlite3_stmt_readonly = Module['_sqlite3_stmt_readonly'] = createExportWrapper('sqlite3_stmt_readonly');\nvar _sqlite3_stmt_isexplain = Module['_sqlite3_stmt_isexplain'] = createExportWrapper('sqlite3_stmt_isexplain');\nvar _sqlite3_stmt_status = Module['_sqlite3_stmt_status'] = createExportWrapper('sqlite3_stmt_status');\nvar _sqlite3_expanded_sql = Module['_sqlite3_expanded_sql'] = createExportWrapper('sqlite3_expanded_sql');\nvar _sqlite3_preupdate_old = Module['_sqlite3_preupdate_old'] = createExportWrapper('sqlite3_preupdate_old');\nvar _sqlite3_preupdate_count = Module['_sqlite3_preupdate_count'] = createExportWrapper('sqlite3_preupdate_count');\nvar _sqlite3_preupdate_depth = Module['_sqlite3_preupdate_depth'] = createExportWrapper('sqlite3_preupdate_depth');\nvar _sqlite3_preupdate_blobwrite = Module['_sqlite3_preupdate_blobwrite'] = createExportWrapper('sqlite3_preupdate_blobwrite');\nvar _sqlite3_preupdate_new = Module['_sqlite3_preupdate_new'] = createExportWrapper('sqlite3_preupdate_new');\nvar _sqlite3_value_numeric_type = Module['_sqlite3_value_numeric_type'] = createExportWrapper('sqlite3_value_numeric_type');\nvar _sqlite3_errmsg = Module['_sqlite3_errmsg'] = createExportWrapper('sqlite3_errmsg');\nvar _sqlite3_set_authorizer = Module['_sqlite3_set_authorizer'] = createExportWrapper('sqlite3_set_authorizer');\nvar _sqlite3_strglob = Module['_sqlite3_strglob'] = createExportWrapper('sqlite3_strglob');\nvar _sqlite3_strlike = Module['_sqlite3_strlike'] = createExportWrapper('sqlite3_strlike');\nvar _sqlite3_exec = Module['_sqlite3_exec'] = createExportWrapper('sqlite3_exec');\nvar _sqlite3_auto_extension = Module['_sqlite3_auto_extension'] = createExportWrapper('sqlite3_auto_extension');\nvar _sqlite3_cancel_auto_extension = Module['_sqlite3_cancel_auto_extension'] = createExportWrapper('sqlite3_cancel_auto_extension');\nvar _sqlite3_reset_auto_extension = Module['_sqlite3_reset_auto_extension'] = createExportWrapper('sqlite3_reset_auto_extension');\nvar _sqlite3_prepare_v3 = Module['_sqlite3_prepare_v3'] = createExportWrapper('sqlite3_prepare_v3');\nvar _sqlite3_create_module = Module['_sqlite3_create_module'] = createExportWrapper('sqlite3_create_module');\nvar _sqlite3_create_module_v2 = Module['_sqlite3_create_module_v2'] = createExportWrapper('sqlite3_create_module_v2');\nvar _sqlite3_drop_modules = Module['_sqlite3_drop_modules'] = createExportWrapper('sqlite3_drop_modules');\nvar _sqlite3_declare_vtab = Module['_sqlite3_declare_vtab'] = createExportWrapper('sqlite3_declare_vtab');\nvar _sqlite3_vtab_on_conflict = Module['_sqlite3_vtab_on_conflict'] = createExportWrapper('sqlite3_vtab_on_conflict');\nvar _sqlite3_vtab_collation = Module['_sqlite3_vtab_collation'] = createExportWrapper('sqlite3_vtab_collation');\nvar _sqlite3_vtab_in = Module['_sqlite3_vtab_in'] = createExportWrapper('sqlite3_vtab_in');\nvar _sqlite3_vtab_rhs_value = Module['_sqlite3_vtab_rhs_value'] = createExportWrapper('sqlite3_vtab_rhs_value');\nvar _sqlite3_vtab_distinct = Module['_sqlite3_vtab_distinct'] = createExportWrapper('sqlite3_vtab_distinct');\nvar _sqlite3_keyword_name = Module['_sqlite3_keyword_name'] = createExportWrapper('sqlite3_keyword_name');\nvar _sqlite3_keyword_count = Module['_sqlite3_keyword_count'] = createExportWrapper('sqlite3_keyword_count');\nvar _sqlite3_keyword_check = Module['_sqlite3_keyword_check'] = createExportWrapper('sqlite3_keyword_check');\nvar _sqlite3_complete = Module['_sqlite3_complete'] = createExportWrapper('sqlite3_complete');\nvar _sqlite3_libversion = Module['_sqlite3_libversion'] = createExportWrapper('sqlite3_libversion');\nvar _sqlite3_libversion_number = Module['_sqlite3_libversion_number'] = createExportWrapper('sqlite3_libversion_number');\nvar _sqlite3_shutdown = Module['_sqlite3_shutdown'] = createExportWrapper('sqlite3_shutdown');\nvar _sqlite3_last_insert_rowid = Module['_sqlite3_last_insert_rowid'] = createExportWrapper('sqlite3_last_insert_rowid');\nvar _sqlite3_set_last_insert_rowid = Module['_sqlite3_set_last_insert_rowid'] = createExportWrapper('sqlite3_set_last_insert_rowid');\nvar _sqlite3_changes64 = Module['_sqlite3_changes64'] = createExportWrapper('sqlite3_changes64');\nvar _sqlite3_changes = Module['_sqlite3_changes'] = createExportWrapper('sqlite3_changes');\nvar _sqlite3_total_changes64 = Module['_sqlite3_total_changes64'] = createExportWrapper('sqlite3_total_changes64');\nvar _sqlite3_total_changes = Module['_sqlite3_total_changes'] = createExportWrapper('sqlite3_total_changes');\nvar _sqlite3_txn_state = Module['_sqlite3_txn_state'] = createExportWrapper('sqlite3_txn_state');\nvar _sqlite3_close_v2 = Module['_sqlite3_close_v2'] = createExportWrapper('sqlite3_close_v2');\nvar _sqlite3_busy_handler = Module['_sqlite3_busy_handler'] = createExportWrapper('sqlite3_busy_handler');\nvar _sqlite3_progress_handler = Module['_sqlite3_progress_handler'] = createExportWrapper('sqlite3_progress_handler');\nvar _sqlite3_busy_timeout = Module['_sqlite3_busy_timeout'] = createExportWrapper('sqlite3_busy_timeout');\nvar _sqlite3_create_function = Module['_sqlite3_create_function'] = createExportWrapper('sqlite3_create_function');\nvar _sqlite3_create_function_v2 = Module['_sqlite3_create_function_v2'] = createExportWrapper('sqlite3_create_function_v2');\nvar _sqlite3_create_window_function = Module['_sqlite3_create_window_function'] = createExportWrapper('sqlite3_create_window_function');\nvar _sqlite3_overload_function = Module['_sqlite3_overload_function'] = createExportWrapper('sqlite3_overload_function');\nvar _sqlite3_trace_v2 = Module['_sqlite3_trace_v2'] = createExportWrapper('sqlite3_trace_v2');\nvar _sqlite3_commit_hook = Module['_sqlite3_commit_hook'] = createExportWrapper('sqlite3_commit_hook');\nvar _sqlite3_update_hook = Module['_sqlite3_update_hook'] = createExportWrapper('sqlite3_update_hook');\nvar _sqlite3_rollback_hook = Module['_sqlite3_rollback_hook'] = createExportWrapper('sqlite3_rollback_hook');\nvar _sqlite3_preupdate_hook = Module['_sqlite3_preupdate_hook'] = createExportWrapper('sqlite3_preupdate_hook');\nvar _sqlite3_error_offset = Module['_sqlite3_error_offset'] = createExportWrapper('sqlite3_error_offset');\nvar _sqlite3_errcode = Module['_sqlite3_errcode'] = createExportWrapper('sqlite3_errcode');\nvar _sqlite3_extended_errcode = Module['_sqlite3_extended_errcode'] = createExportWrapper('sqlite3_extended_errcode');\nvar _sqlite3_errstr = Module['_sqlite3_errstr'] = createExportWrapper('sqlite3_errstr');\nvar _sqlite3_limit = Module['_sqlite3_limit'] = createExportWrapper('sqlite3_limit');\nvar _sqlite3_open = Module['_sqlite3_open'] = createExportWrapper('sqlite3_open');\nvar _sqlite3_open_v2 = Module['_sqlite3_open_v2'] = createExportWrapper('sqlite3_open_v2');\nvar _sqlite3_create_collation = Module['_sqlite3_create_collation'] = createExportWrapper('sqlite3_create_collation');\nvar _sqlite3_create_collation_v2 = Module['_sqlite3_create_collation_v2'] = createExportWrapper('sqlite3_create_collation_v2');\nvar _sqlite3_collation_needed = Module['_sqlite3_collation_needed'] = createExportWrapper('sqlite3_collation_needed');\nvar _sqlite3_table_column_metadata = Module['_sqlite3_table_column_metadata'] = createExportWrapper('sqlite3_table_column_metadata');\nvar _sqlite3_extended_result_codes = Module['_sqlite3_extended_result_codes'] = createExportWrapper('sqlite3_extended_result_codes');\nvar _sqlite3_uri_parameter = Module['_sqlite3_uri_parameter'] = createExportWrapper('sqlite3_uri_parameter');\nvar _sqlite3_uri_key = Module['_sqlite3_uri_key'] = createExportWrapper('sqlite3_uri_key');\nvar _sqlite3_uri_boolean = Module['_sqlite3_uri_boolean'] = createExportWrapper('sqlite3_uri_boolean');\nvar _sqlite3_uri_int64 = Module['_sqlite3_uri_int64'] = createExportWrapper('sqlite3_uri_int64');\nvar _sqlite3_db_name = Module['_sqlite3_db_name'] = createExportWrapper('sqlite3_db_name');\nvar _sqlite3_db_filename = Module['_sqlite3_db_filename'] = createExportWrapper('sqlite3_db_filename');\nvar _sqlite3_compileoption_used = Module['_sqlite3_compileoption_used'] = createExportWrapper('sqlite3_compileoption_used');\nvar _sqlite3_compileoption_get = Module['_sqlite3_compileoption_get'] = createExportWrapper('sqlite3_compileoption_get');\nvar _sqlite3session_diff = Module['_sqlite3session_diff'] = createExportWrapper('sqlite3session_diff');\nvar _sqlite3session_attach = Module['_sqlite3session_attach'] = createExportWrapper('sqlite3session_attach');\nvar _sqlite3session_create = Module['_sqlite3session_create'] = createExportWrapper('sqlite3session_create');\nvar _sqlite3session_delete = Module['_sqlite3session_delete'] = createExportWrapper('sqlite3session_delete');\nvar _sqlite3session_table_filter = Module['_sqlite3session_table_filter'] = createExportWrapper('sqlite3session_table_filter');\nvar _sqlite3session_changeset = Module['_sqlite3session_changeset'] = createExportWrapper('sqlite3session_changeset');\nvar _sqlite3session_changeset_strm = Module['_sqlite3session_changeset_strm'] = createExportWrapper('sqlite3session_changeset_strm');\nvar _sqlite3session_patchset_strm = Module['_sqlite3session_patchset_strm'] = createExportWrapper('sqlite3session_patchset_strm');\nvar _sqlite3session_patchset = Module['_sqlite3session_patchset'] = createExportWrapper('sqlite3session_patchset');\nvar _sqlite3session_enable = Module['_sqlite3session_enable'] = createExportWrapper('sqlite3session_enable');\nvar _sqlite3session_indirect = Module['_sqlite3session_indirect'] = createExportWrapper('sqlite3session_indirect');\nvar _sqlite3session_isempty = Module['_sqlite3session_isempty'] = createExportWrapper('sqlite3session_isempty');\nvar _sqlite3session_memory_used = Module['_sqlite3session_memory_used'] = createExportWrapper('sqlite3session_memory_used');\nvar _sqlite3session_object_config = Module['_sqlite3session_object_config'] = createExportWrapper('sqlite3session_object_config');\nvar _sqlite3session_changeset_size = Module['_sqlite3session_changeset_size'] = createExportWrapper('sqlite3session_changeset_size');\nvar _sqlite3changeset_start = Module['_sqlite3changeset_start'] = createExportWrapper('sqlite3changeset_start');\nvar _sqlite3changeset_start_v2 = Module['_sqlite3changeset_start_v2'] = createExportWrapper('sqlite3changeset_start_v2');\nvar _sqlite3changeset_start_strm = Module['_sqlite3changeset_start_strm'] = createExportWrapper('sqlite3changeset_start_strm');\nvar _sqlite3changeset_start_v2_strm = Module['_sqlite3changeset_start_v2_strm'] = createExportWrapper('sqlite3changeset_start_v2_strm');\nvar _sqlite3changeset_next = Module['_sqlite3changeset_next'] = createExportWrapper('sqlite3changeset_next');\nvar _sqlite3changeset_op = Module['_sqlite3changeset_op'] = createExportWrapper('sqlite3changeset_op');\nvar _sqlite3changeset_pk = Module['_sqlite3changeset_pk'] = createExportWrapper('sqlite3changeset_pk');\nvar _sqlite3changeset_old = Module['_sqlite3changeset_old'] = createExportWrapper('sqlite3changeset_old');\nvar _sqlite3changeset_new = Module['_sqlite3changeset_new'] = createExportWrapper('sqlite3changeset_new');\nvar _sqlite3changeset_conflict = Module['_sqlite3changeset_conflict'] = createExportWrapper('sqlite3changeset_conflict');\nvar _sqlite3changeset_fk_conflicts = Module['_sqlite3changeset_fk_conflicts'] = createExportWrapper('sqlite3changeset_fk_conflicts');\nvar _sqlite3changeset_finalize = Module['_sqlite3changeset_finalize'] = createExportWrapper('sqlite3changeset_finalize');\nvar _sqlite3changeset_invert = Module['_sqlite3changeset_invert'] = createExportWrapper('sqlite3changeset_invert');\nvar _sqlite3changeset_invert_strm = Module['_sqlite3changeset_invert_strm'] = createExportWrapper('sqlite3changeset_invert_strm');\nvar _sqlite3changeset_apply_v2 = Module['_sqlite3changeset_apply_v2'] = createExportWrapper('sqlite3changeset_apply_v2');\nvar _sqlite3changeset_apply = Module['_sqlite3changeset_apply'] = createExportWrapper('sqlite3changeset_apply');\nvar _sqlite3changeset_apply_v2_strm = Module['_sqlite3changeset_apply_v2_strm'] = createExportWrapper('sqlite3changeset_apply_v2_strm');\nvar _sqlite3changeset_apply_strm = Module['_sqlite3changeset_apply_strm'] = createExportWrapper('sqlite3changeset_apply_strm');\nvar _sqlite3changegroup_new = Module['_sqlite3changegroup_new'] = createExportWrapper('sqlite3changegroup_new');\nvar _sqlite3changegroup_add = Module['_sqlite3changegroup_add'] = createExportWrapper('sqlite3changegroup_add');\nvar _sqlite3changegroup_output = Module['_sqlite3changegroup_output'] = createExportWrapper('sqlite3changegroup_output');\nvar _sqlite3changegroup_add_strm = Module['_sqlite3changegroup_add_strm'] = createExportWrapper('sqlite3changegroup_add_strm');\nvar _sqlite3changegroup_output_strm = Module['_sqlite3changegroup_output_strm'] = createExportWrapper('sqlite3changegroup_output_strm');\nvar _sqlite3changegroup_delete = Module['_sqlite3changegroup_delete'] = createExportWrapper('sqlite3changegroup_delete');\nvar _sqlite3changeset_concat = Module['_sqlite3changeset_concat'] = createExportWrapper('sqlite3changeset_concat');\nvar _sqlite3changeset_concat_strm = Module['_sqlite3changeset_concat_strm'] = createExportWrapper('sqlite3changeset_concat_strm');\nvar _sqlite3session_config = Module['_sqlite3session_config'] = createExportWrapper('sqlite3session_config');\nvar _sqlite3_sourceid = Module['_sqlite3_sourceid'] = createExportWrapper('sqlite3_sourceid');\nvar _sqlite3_wasm_pstack_ptr = Module['_sqlite3_wasm_pstack_ptr'] = createExportWrapper('sqlite3_wasm_pstack_ptr');\nvar _sqlite3_wasm_pstack_restore = Module['_sqlite3_wasm_pstack_restore'] = createExportWrapper('sqlite3_wasm_pstack_restore');\nvar _sqlite3_wasm_pstack_alloc = Module['_sqlite3_wasm_pstack_alloc'] = createExportWrapper('sqlite3_wasm_pstack_alloc');\nvar _sqlite3_wasm_pstack_remaining = Module['_sqlite3_wasm_pstack_remaining'] = createExportWrapper('sqlite3_wasm_pstack_remaining');\nvar _sqlite3_wasm_pstack_quota = Module['_sqlite3_wasm_pstack_quota'] = createExportWrapper('sqlite3_wasm_pstack_quota');\nvar _sqlite3_wasm_db_error = Module['_sqlite3_wasm_db_error'] = createExportWrapper('sqlite3_wasm_db_error');\nvar _sqlite3_wasm_test_struct = Module['_sqlite3_wasm_test_struct'] = createExportWrapper('sqlite3_wasm_test_struct');\nvar _sqlite3_wasm_enum_json = Module['_sqlite3_wasm_enum_json'] = createExportWrapper('sqlite3_wasm_enum_json');\nvar _sqlite3_wasm_vfs_unlink = Module['_sqlite3_wasm_vfs_unlink'] = createExportWrapper('sqlite3_wasm_vfs_unlink');\nvar _sqlite3_wasm_db_vfs = Module['_sqlite3_wasm_db_vfs'] = createExportWrapper('sqlite3_wasm_db_vfs');\nvar _sqlite3_wasm_db_reset = Module['_sqlite3_wasm_db_reset'] = createExportWrapper('sqlite3_wasm_db_reset');\nvar _sqlite3_wasm_db_export_chunked = Module['_sqlite3_wasm_db_export_chunked'] = createExportWrapper('sqlite3_wasm_db_export_chunked');\nvar _sqlite3_wasm_db_serialize = Module['_sqlite3_wasm_db_serialize'] = createExportWrapper('sqlite3_wasm_db_serialize');\nvar _sqlite3_wasm_vfs_create_file = Module['_sqlite3_wasm_vfs_create_file'] = createExportWrapper('sqlite3_wasm_vfs_create_file');\nvar _sqlite3_wasm_posix_create_file = Module['_sqlite3_wasm_posix_create_file'] = createExportWrapper('sqlite3_wasm_posix_create_file');\nvar _sqlite3_wasm_kvvfsMakeKeyOnPstack = Module['_sqlite3_wasm_kvvfsMakeKeyOnPstack'] = createExportWrapper('sqlite3_wasm_kvvfsMakeKeyOnPstack');\nvar _sqlite3_wasm_kvvfs_methods = Module['_sqlite3_wasm_kvvfs_methods'] = createExportWrapper('sqlite3_wasm_kvvfs_methods');\nvar _sqlite3_wasm_vtab_config = Module['_sqlite3_wasm_vtab_config'] = createExportWrapper('sqlite3_wasm_vtab_config');\nvar _sqlite3_wasm_db_config_ip = Module['_sqlite3_wasm_db_config_ip'] = createExportWrapper('sqlite3_wasm_db_config_ip');\nvar _sqlite3_wasm_db_config_pii = Module['_sqlite3_wasm_db_config_pii'] = createExportWrapper('sqlite3_wasm_db_config_pii');\nvar _sqlite3_wasm_db_config_s = Module['_sqlite3_wasm_db_config_s'] = createExportWrapper('sqlite3_wasm_db_config_s');\nvar _sqlite3_wasm_config_i = Module['_sqlite3_wasm_config_i'] = createExportWrapper('sqlite3_wasm_config_i');\nvar _sqlite3_wasm_config_ii = Module['_sqlite3_wasm_config_ii'] = createExportWrapper('sqlite3_wasm_config_ii');\nvar _sqlite3_wasm_config_j = Module['_sqlite3_wasm_config_j'] = createExportWrapper('sqlite3_wasm_config_j');\nvar _sqlite3_wasm_init_wasmfs = Module['_sqlite3_wasm_init_wasmfs'] = createExportWrapper('sqlite3_wasm_init_wasmfs');\nvar _sqlite3_wasm_test_intptr = Module['_sqlite3_wasm_test_intptr'] = createExportWrapper('sqlite3_wasm_test_intptr');\nvar _sqlite3_wasm_test_voidptr = Module['_sqlite3_wasm_test_voidptr'] = createExportWrapper('sqlite3_wasm_test_voidptr');\nvar _sqlite3_wasm_test_int64_max = Module['_sqlite3_wasm_test_int64_max'] = createExportWrapper('sqlite3_wasm_test_int64_max');\nvar _sqlite3_wasm_test_int64_min = Module['_sqlite3_wasm_test_int64_min'] = createExportWrapper('sqlite3_wasm_test_int64_min');\nvar _sqlite3_wasm_test_int64_times2 = Module['_sqlite3_wasm_test_int64_times2'] = createExportWrapper('sqlite3_wasm_test_int64_times2');\nvar _sqlite3_wasm_test_int64_minmax = Module['_sqlite3_wasm_test_int64_minmax'] = createExportWrapper('sqlite3_wasm_test_int64_minmax');\nvar _sqlite3_wasm_test_int64ptr = Module['_sqlite3_wasm_test_int64ptr'] = createExportWrapper('sqlite3_wasm_test_int64ptr');\nvar _sqlite3_wasm_test_stack_overflow = Module['_sqlite3_wasm_test_stack_overflow'] = createExportWrapper('sqlite3_wasm_test_stack_overflow');\nvar _sqlite3_wasm_test_str_hello = Module['_sqlite3_wasm_test_str_hello'] = createExportWrapper('sqlite3_wasm_test_str_hello');\nvar _sqlite3_wasm_SQLTester_strglob = Module['_sqlite3_wasm_SQLTester_strglob'] = createExportWrapper('sqlite3_wasm_SQLTester_strglob');\nvar _malloc = Module['_malloc'] = createExportWrapper('malloc');\nvar _free = Module['_free'] = createExportWrapper('free');\nvar _realloc = Module['_realloc'] = createExportWrapper('realloc');\nvar _fflush = Module['_fflush'] = createExportWrapper('fflush');\nvar _emscripten_builtin_memalign = createExportWrapper('emscripten_builtin_memalign');\nvar _emscripten_stack_init = () => (_emscripten_stack_init = wasmExports['emscripten_stack_init'])();\nvar _emscripten_stack_get_free = () => (_emscripten_stack_get_free = wasmExports['emscripten_stack_get_free'])();\nvar _emscripten_stack_get_base = () => (_emscripten_stack_get_base = wasmExports['emscripten_stack_get_base'])();\nvar _emscripten_stack_get_end = () => (_emscripten_stack_get_end = wasmExports['emscripten_stack_get_end'])();\nvar stackSave = createExportWrapper('stackSave');\nvar stackRestore = createExportWrapper('stackRestore');\nvar stackAlloc = createExportWrapper('stackAlloc');\nvar _emscripten_stack_get_current = () => (_emscripten_stack_get_current = wasmExports['emscripten_stack_get_current'])();\n\n\n// include: postamble.js\n// === Auto-generated postamble setup entry stuff ===\n\nModule['wasmMemory'] = wasmMemory;\nvar missingLibrarySymbols = [\n  'writeI53ToI64',\n  'writeI53ToI64Clamped',\n  'writeI53ToI64Signaling',\n  'writeI53ToU64Clamped',\n  'writeI53ToU64Signaling',\n  'readI53FromU64',\n  'convertI32PairToI53',\n  'convertI32PairToI53Checked',\n  'convertU32PairToI53',\n  'exitJS',\n  'arraySum',\n  'addDays',\n  'inetPton4',\n  'inetNtop4',\n  'inetPton6',\n  'inetNtop6',\n  'readSockaddr',\n  'writeSockaddr',\n  'getHostByName',\n  'getCallstack',\n  'emscriptenLog',\n  'convertPCtoSourceLocation',\n  'readEmAsmArgs',\n  'jstoi_q',\n  'jstoi_s',\n  'listenOnce',\n  'autoResumeAudioContext',\n  'getDynCaller',\n  'dynCall',\n  'handleException',\n  'runtimeKeepalivePush',\n  'runtimeKeepalivePop',\n  'callUserCallback',\n  'maybeExit',\n  'safeSetTimeout',\n  'asmjsMangle',\n  'handleAllocatorInit',\n  'HandleAllocator',\n  'getNativeTypeSize',\n  'STACK_SIZE',\n  'STACK_ALIGN',\n  'POINTER_SIZE',\n  'ASSERTIONS',\n  'getCFunc',\n  'ccall',\n  'cwrap',\n  'uleb128Encode',\n  'sigToWasmTypes',\n  'generateFuncType',\n  'convertJsFunctionToWasm',\n  'getEmptyTableSlot',\n  'updateTableMap',\n  'getFunctionAddress',\n  'addFunction',\n  'removeFunction',\n  'reallyNegative',\n  'unSign',\n  'strLen',\n  'reSign',\n  'formatString',\n  'intArrayToString',\n  'AsciiToString',\n  'UTF16ToString',\n  'stringToUTF16',\n  'lengthBytesUTF16',\n  'UTF32ToString',\n  'stringToUTF32',\n  'lengthBytesUTF32',\n  'stringToUTF8OnStack',\n  'writeArrayToMemory',\n  'registerKeyEventCallback',\n  'maybeCStringToJsString',\n  'findEventTarget',\n  'findCanvasEventTarget',\n  'getBoundingClientRect',\n  'fillMouseEventData',\n  'registerMouseEventCallback',\n  'registerWheelEventCallback',\n  'registerUiEventCallback',\n  'registerFocusEventCallback',\n  'fillDeviceOrientationEventData',\n  'registerDeviceOrientationEventCallback',\n  'fillDeviceMotionEventData',\n  'registerDeviceMotionEventCallback',\n  'screenOrientation',\n  'fillOrientationChangeEventData',\n  'registerOrientationChangeEventCallback',\n  'fillFullscreenChangeEventData',\n  'registerFullscreenChangeEventCallback',\n  'JSEvents_requestFullscreen',\n  'JSEvents_resizeCanvasForFullscreen',\n  'registerRestoreOldStyle',\n  'hideEverythingExceptGivenElement',\n  'restoreHiddenElements',\n  'setLetterbox',\n  'softFullscreenResizeWebGLRenderTarget',\n  'doRequestFullscreen',\n  'fillPointerlockChangeEventData',\n  'registerPointerlockChangeEventCallback',\n  'registerPointerlockErrorEventCallback',\n  'requestPointerLock',\n  'fillVisibilityChangeEventData',\n  'registerVisibilityChangeEventCallback',\n  'registerTouchEventCallback',\n  'fillGamepadEventData',\n  'registerGamepadEventCallback',\n  'registerBeforeUnloadEventCallback',\n  'fillBatteryEventData',\n  'battery',\n  'registerBatteryEventCallback',\n  'setCanvasElementSize',\n  'getCanvasElementSize',\n  'jsStackTrace',\n  'stackTrace',\n  'checkWasiClock',\n  'wasiRightsToMuslOFlags',\n  'wasiOFlagsToMuslOFlags',\n  'createDyncallWrapper',\n  'setImmediateWrapped',\n  'clearImmediateWrapped',\n  'polyfillSetImmediate',\n  'getPromise',\n  'makePromise',\n  'idsToPromises',\n  'makePromiseCallback',\n  'ExceptionInfo',\n  'findMatchingCatch',\n  'setMainLoop',\n  'getSocketFromFD',\n  'getSocketAddress',\n  'FS_unlink',\n  'FS_mkdirTree',\n  '_setNetworkCallback',\n  'heapObjectForWebGLType',\n  'heapAccessShiftForWebGLHeap',\n  'webgl_enable_ANGLE_instanced_arrays',\n  'webgl_enable_OES_vertex_array_object',\n  'webgl_enable_WEBGL_draw_buffers',\n  'webgl_enable_WEBGL_multi_draw',\n  'emscriptenWebGLGet',\n  'computeUnpackAlignedImageSize',\n  'colorChannelsInGlTextureFormat',\n  'emscriptenWebGLGetTexPixelData',\n  '__glGenObject',\n  'emscriptenWebGLGetUniform',\n  'webglGetUniformLocation',\n  'webglPrepareUniformLocationsBeforeFirstUse',\n  'webglGetLeftBracePos',\n  'emscriptenWebGLGetVertexAttrib',\n  '__glGetActiveAttribOrUniform',\n  'writeGLArray',\n  'registerWebGlEventCallback',\n  'runAndAbortIfError',\n  'SDL_unicode',\n  'SDL_ttfContext',\n  'SDL_audio',\n  'ALLOC_NORMAL',\n  'ALLOC_STACK',\n  'allocate',\n  'writeStringToMemory',\n  'writeAsciiToMemory',\n];\nmissingLibrarySymbols.forEach(missingLibrarySymbol)\n\nvar unexportedSymbols = [\n  'run',\n  'addOnPreRun',\n  'addOnInit',\n  'addOnPreMain',\n  'addOnExit',\n  'addOnPostRun',\n  'addRunDependency',\n  'removeRunDependency',\n  'FS_createFolder',\n  'FS_createPath',\n  'FS_createLazyFile',\n  'FS_createLink',\n  'FS_createDevice',\n  'FS_readFile',\n  'out',\n  'err',\n  'callMain',\n  'abort',\n  'keepRuntimeAlive',\n  'wasmExports',\n  'stackAlloc',\n  'stackSave',\n  'stackRestore',\n  'getTempRet0',\n  'setTempRet0',\n  'writeStackCookie',\n  'checkStackCookie',\n  'readI53FromI64',\n  'MAX_INT53',\n  'MIN_INT53',\n  'bigintToI53Checked',\n  'ptrToString',\n  'zeroMemory',\n  'getHeapMax',\n  'growMemory',\n  'ENV',\n  'MONTH_DAYS_REGULAR',\n  'MONTH_DAYS_LEAP',\n  'MONTH_DAYS_REGULAR_CUMULATIVE',\n  'MONTH_DAYS_LEAP_CUMULATIVE',\n  'isLeapYear',\n  'ydayFromDate',\n  'ERRNO_CODES',\n  'ERRNO_MESSAGES',\n  'setErrNo',\n  'DNS',\n  'Protocols',\n  'Sockets',\n  'initRandomFill',\n  'randomFill',\n  'timers',\n  'warnOnce',\n  'UNWIND_CACHE',\n  'readEmAsmArgsArray',\n  'getExecutableName',\n  'asyncLoad',\n  'alignMemory',\n  'mmapAlloc',\n  'wasmTable',\n  'freeTableIndexes',\n  'functionsInTableMap',\n  'setValue',\n  'getValue',\n  'PATH',\n  'PATH_FS',\n  'UTF8Decoder',\n  'UTF8ArrayToString',\n  'UTF8ToString',\n  'stringToUTF8Array',\n  'stringToUTF8',\n  'lengthBytesUTF8',\n  'intArrayFromString',\n  'stringToAscii',\n  'UTF16Decoder',\n  'stringToNewUTF8',\n  'JSEvents',\n  'specialHTMLTargets',\n  'currentFullscreenStrategy',\n  'restoreOldWindowedStyle',\n  'demangle',\n  'demangleAll',\n  'ExitStatus',\n  'getEnvStrings',\n  'doReadv',\n  'doWritev',\n  'promiseMap',\n  'uncaughtExceptionCount',\n  'exceptionLast',\n  'exceptionCaught',\n  'Browser',\n  'wget',\n  'SYSCALLS',\n  'preloadPlugins',\n  'FS_createPreloadedFile',\n  'FS_modeStringToFlags',\n  'FS_getMode',\n  'FS_stdin_getChar_buffer',\n  'FS_stdin_getChar',\n  'FS',\n  'FS_createDataFile',\n  'MEMFS',\n  'TTY',\n  'PIPEFS',\n  'SOCKFS',\n  'tempFixedLengthArray',\n  'miniTempWebGLFloatBuffers',\n  'miniTempWebGLIntBuffers',\n  'GL',\n  'emscripten_webgl_power_preferences',\n  'AL',\n  'GLUT',\n  'EGL',\n  'GLEW',\n  'IDBStore',\n  'SDL',\n  'SDL_gfx',\n  'allocateUTF8',\n  'allocateUTF8OnStack',\n];\nunexportedSymbols.forEach(unexportedRuntimeSymbol);\n\n\n\nvar calledRun;\n\ndependenciesFulfilled = function runCaller() {\n  // If run has never been called, and we should call run (INVOKE_RUN is true, and Module.noInitialRun is not false)\n  if (!calledRun) run();\n  if (!calledRun) dependenciesFulfilled = runCaller; // try this again later, after new deps are fulfilled\n};\n\nfunction stackCheckInit() {\n  // This is normally called automatically during __wasm_call_ctors but need to\n  // get these values before even running any of the ctors so we call it redundantly\n  // here.\n  _emscripten_stack_init();\n  // TODO(sbc): Move writeStackCookie to native to to avoid this.\n  writeStackCookie();\n}\n\nfunction run() {\n\n  if (runDependencies > 0) {\n    return;\n  }\n\n    stackCheckInit();\n\n  preRun();\n\n  // a preRun added a dependency, run will be called later\n  if (runDependencies > 0) {\n    return;\n  }\n\n  function doRun() {\n    // run may have just been called through dependencies being fulfilled just in this very frame,\n    // or while the async setStatus time below was happening\n    if (calledRun) return;\n    calledRun = true;\n    Module['calledRun'] = true;\n\n    if (ABORT) return;\n\n    initRuntime();\n\n    readyPromiseResolve(Module);\n    if (Module['onRuntimeInitialized']) Module['onRuntimeInitialized']();\n\n    assert(!Module['_main'], 'compiled without a main, but one is present. if you added it from JS, use Module[\"onRuntimeInitialized\"]');\n\n    postRun();\n  }\n\n  if (Module['setStatus']) {\n    Module['setStatus']('Running...');\n    setTimeout(function() {\n      setTimeout(function() {\n        Module['setStatus']('');\n      }, 1);\n      doRun();\n    }, 1);\n  } else\n  {\n    doRun();\n  }\n  checkStackCookie();\n}\n\nfunction checkUnflushedContent() {\n  // Compiler settings do not allow exiting the runtime, so flushing\n  // the streams is not possible. but in ASSERTIONS mode we check\n  // if there was something to flush, and if so tell the user they\n  // should request that the runtime be exitable.\n  // Normally we would not even include flush() at all, but in ASSERTIONS\n  // builds we do so just for this check, and here we see if there is any\n  // content to flush, that is, we check if there would have been\n  // something a non-ASSERTIONS build would have not seen.\n  // How we flush the streams depends on whether we are in SYSCALLS_REQUIRE_FILESYSTEM=0\n  // mode (which has its own special function for this; otherwise, all\n  // the code is inside libc)\n  var oldOut = out;\n  var oldErr = err;\n  var has = false;\n  out = err = (x) => {\n    has = true;\n  }\n  try { // it doesn't matter if it fails\n    _fflush(0);\n    // also flush in the JS FS layer\n    ['stdout', 'stderr'].forEach(function(name) {\n      var info = FS.analyzePath('/dev/' + name);\n      if (!info) return;\n      var stream = info.object;\n      var rdev = stream.rdev;\n      var tty = TTY.ttys[rdev];\n      if (tty && tty.output && tty.output.length) {\n        has = true;\n      }\n    });\n  } catch(e) {}\n  out = oldOut;\n  err = oldErr;\n  if (has) {\n    warnOnce('stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc.');\n  }\n}\n\nif (Module['preInit']) {\n  if (typeof Module['preInit'] == 'function') Module['preInit'] = [Module['preInit']];\n  while (Module['preInit'].length > 0) {\n    Module['preInit'].pop()();\n  }\n}\n\nrun();\n\n\n// end include: postamble.js\n// include: /home/mmom/src/sqlite-wasm-http/deps/sqlite/ext/wasm/bld/post-js.sqlite3-bundler-friendly.js\n/* BEGIN FILE: api/post-js-header.js */\n/**\n   post-js-header.js is to be prepended to other code to create\n   post-js.js for use with Emscripten's --post-js flag. This code\n   requires that it be running in that context. The Emscripten\n   environment must have been set up already but it will not have\n   loaded its WASM when the code in this file is run. The function it\n   installs will be run after the WASM module is loaded, at which\n   point the sqlite3 JS API bits will get set up.\n*/\nif(!Module.postRun) Module.postRun = [];\nModule.postRun.push(function(Module/*the Emscripten-style module object*/){\n  'use strict';\n  /* This function will contain at least the following:\n\n     - post-js-header.js (this file)\n     - sqlite3-api-prologue.js  => Bootstrapping bits to attach the rest to\n     - common/whwasmutil.js     => Replacements for much of Emscripten's glue\n     - jaccwaby/jaccwabyt.js    => Jaccwabyt (C/JS struct binding)\n     - sqlite3-api-glue.js      => glues previous parts together\n     - sqlite3-api-oo.js        => SQLite3 OO API #1\n     - sqlite3-api-worker1.js   => Worker-based API\n     - sqlite3-vfs-helper.js    => Internal-use utilities for...\n     - sqlite3-vfs-opfs.js      => OPFS VFS\n     - sqlite3-api-cleanup.js   => final API cleanup\n     - post-js-footer.js        => closes this postRun() function\n  */\n/* END FILE: api/post-js-header.js */\n/* BEGIN FILE: ./bld/sqlite3-api.c-pp.js */\n/* BEGIN FILE: ./bld/sqlite3-license-version.js */\n/*\n** LICENSE for the sqlite3 WebAssembly/JavaScript APIs.\n**\n** This bundle (typically released as sqlite3.js or sqlite3.mjs)\n** is an amalgamation of JavaScript source code from two projects:\n**\n** 1) https://emscripten.org: the Emscripten \"glue code\" is covered by\n**    the terms of the MIT license and University of Illinois/NCSA\n**    Open Source License, as described at:\n**\n**    https://emscripten.org/docs/introducing_emscripten/emscripten_license.html\n**\n** 2) https://sqlite.org: all code and documentation labeled as being\n**    from this source are released under the same terms as the sqlite3\n**    C library:\n**\n** 2022-10-16\n**\n** The author disclaims copyright to this source code.  In place of a\n** legal notice, here is a blessing:\n**\n** *   May you do good and not evil.\n** *   May you find forgiveness for yourself and forgive others.\n** *   May you share freely, never taking more than you give.\n*/\n/*\n** This code was built from sqlite3 version...\n**\n** SQLITE_VERSION \"3.44.2\"\n** SQLITE_VERSION_NUMBER 3044002\n** SQLITE_SOURCE_ID \"2023-11-24 11:41:44 ebead0e7230cd33bcec9f95d2183069565b9e709bf745c9b5db65cc0cbf92c0f\"\n**\n** Using the Emscripten SDK version 3.1.46.\n*/\n/* END FILE: ./bld/sqlite3-license-version.js */\n/* BEGIN FILE: api/sqlite3-api-prologue.js */\n/*\n  2022-05-22\n\n  The author disclaims copyright to this source code.  In place of a\n  legal notice, here is a blessing:\n\n  *   May you do good and not evil.\n  *   May you find forgiveness for yourself and forgive others.\n  *   May you share freely, never taking more than you give.\n\n  ***********************************************************************\n\n  This file is intended to be combined at build-time with other\n  related code, most notably a header and footer which wraps this\n  whole file into an Emscripten Module.postRun() handler. The sqlite3\n  JS API has no hard requirements on Emscripten and does not expose\n  any Emscripten APIs to clients. It is structured such that its build\n  can be tweaked to include it in arbitrary WASM environments which\n  can supply the necessary underlying features (e.g. a POSIX file I/O\n  layer).\n\n  Main project home page: https://sqlite.org\n\n  Documentation home page: https://sqlite.org/wasm\n*/\n\n/**\n   sqlite3ApiBootstrap() is the only global symbol persistently\n   exposed by this API. It is intended to be called one time at the\n   end of the API amalgamation process, passed configuration details\n   for the current environment, and then optionally be removed from\n   the global object using `delete globalThis.sqlite3ApiBootstrap`.\n\n   This function is not intended for client-level use. It is intended\n   for use in creating bundles configured for specific WASM\n   environments.\n\n   This function expects a configuration object, intended to abstract\n   away details specific to any given WASM environment, primarily so\n   that it can be used without any _direct_ dependency on\n   Emscripten. (Note the default values for the config object!) The\n   config object is only honored the first time this is\n   called. Subsequent calls ignore the argument and return the same\n   (configured) object which gets initialized by the first call.  This\n   function will throw if any of the required config options are\n   missing.\n\n   The config object properties include:\n\n   - `exports`[^1]: the \"exports\" object for the current WASM\n     environment. In an Emscripten-based build, this should be set to\n     `Module['asm']`.\n\n   - `memory`[^1]: optional WebAssembly.Memory object, defaulting to\n     `exports.memory`. In Emscripten environments this should be set\n     to `Module.wasmMemory` if the build uses `-sIMPORTED_MEMORY`, or be\n     left undefined/falsy to default to `exports.memory` when using\n     WASM-exported memory.\n\n   - `bigIntEnabled`: true if BigInt support is enabled. Defaults to\n     true if `globalThis.BigInt64Array` is available, else false. Some APIs\n     will throw exceptions if called without BigInt support, as BigInt\n     is required for marshalling C-side int64 into and out of JS.\n     (Sidebar: it is technically possible to add int64 support via\n     marshalling of int32 pairs, but doing so is unduly invasive.)\n\n   - `allocExportName`: the name of the function, in `exports`, of the\n     `malloc(3)`-compatible routine for the WASM environment. Defaults\n     to `\"sqlite3_malloc\"`. Beware that using any allocator other than\n     sqlite3_malloc() may require care in certain client-side code\n     regarding which allocator is uses. Notably, sqlite3_deserialize()\n     and sqlite3_serialize() can only safely use memory from different\n     allocators under very specific conditions. The canonical builds\n     of this API guaranty that `sqlite3_malloc()` is the JS-side\n     allocator implementation.\n\n   - `deallocExportName`: the name of the function, in `exports`, of\n     the `free(3)`-compatible routine for the WASM\n     environment. Defaults to `\"sqlite3_free\"`.\n\n   - `reallocExportName`: the name of the function, in `exports`, of\n     the `realloc(3)`-compatible routine for the WASM\n     environment. Defaults to `\"sqlite3_realloc\"`.\n\n   - `debug`, `log`, `warn`, and `error` may be functions equivalent\n     to the like-named methods of the global `console` object. By\n     default, these map directly to their `console` counterparts, but\n     can be replaced with (e.g.) empty functions to squelch all such\n     output.\n\n   - `wasmfsOpfsDir`[^1]: Specifies the \"mount point\" of the OPFS-backed\n     filesystem in WASMFS-capable builds.\n\n\n   [^1] = This property may optionally be a function, in which case\n          this function calls that function to fetch the value,\n          enabling delayed evaluation.\n\n   The returned object is the top-level sqlite3 namespace object.\n\n*/\n'use strict';\nglobalThis.sqlite3ApiBootstrap = function sqlite3ApiBootstrap(\n  apiConfig = (globalThis.sqlite3ApiConfig || sqlite3ApiBootstrap.defaultConfig)\n){\n  if(sqlite3ApiBootstrap.sqlite3){ /* already initalized */\n    console.warn(\"sqlite3ApiBootstrap() called multiple times.\",\n                 \"Config and external initializers are ignored on calls after the first.\");\n    return sqlite3ApiBootstrap.sqlite3;\n  }\n  const config = Object.assign(Object.create(null),{\n    exports: undefined,\n    memory: undefined,\n    bigIntEnabled: (()=>{\n      if('undefined'!==typeof Module){\n        /* Emscripten module will contain HEAPU64 when built with\n           -sWASM_BIGINT=1, else it will not. */\n        return !!Module.HEAPU64;\n      }\n      return !!globalThis.BigInt64Array;\n    })(),\n    debug: console.debug.bind(console),\n    warn: console.warn.bind(console),\n    error: console.error.bind(console),\n    log: console.log.bind(console),\n    wasmfsOpfsDir: '/opfs',\n    /**\n       useStdAlloc is just for testing allocator discrepancies. The\n       docs guarantee that this is false in the canonical builds. For\n       99% of purposes it doesn't matter which allocators we use, but\n       it becomes significant with, e.g., sqlite3_deserialize() and\n       certain wasm.xWrap.resultAdapter()s.\n    */\n    useStdAlloc: false\n  }, apiConfig || {});\n\n  Object.assign(config, {\n    allocExportName: config.useStdAlloc ? 'malloc' : 'sqlite3_malloc',\n    deallocExportName: config.useStdAlloc ? 'free' : 'sqlite3_free',\n    reallocExportName: config.useStdAlloc ? 'realloc' : 'sqlite3_realloc'\n  }, config);\n\n  [\n    // If any of these config options are functions, replace them with\n    // the result of calling that function...\n    'exports', 'memory', 'wasmfsOpfsDir'\n  ].forEach((k)=>{\n    if('function' === typeof config[k]){\n      config[k] = config[k]();\n    }\n  });\n  /**\n      The main sqlite3 binding API gets installed into this object,\n      mimicking the C API as closely as we can. The numerous members\n      names with prefixes 'sqlite3_' and 'SQLITE_' behave, insofar as\n      possible, identically to the C-native counterparts, as documented at:\n\n      https://www.sqlite.org/c3ref/intro.html\n\n      A very few exceptions require an additional level of proxy\n      function or may otherwise require special attention in the WASM\n      environment, and all such cases are documented somewhere below\n      in this file or in sqlite3-api-glue.js. capi members which are\n      not documented are installed as 1-to-1 proxies for their\n      C-side counterparts.\n  */\n  const capi = Object.create(null);\n  /**\n     Holds state which are specific to the WASM-related\n     infrastructure and glue code.\n\n     Note that a number of members of this object are injected\n     dynamically after the api object is fully constructed, so\n     not all are documented in this file.\n  */\n  const wasm = Object.create(null);\n\n  /** Internal helper for SQLite3Error ctor. */\n  const __rcStr = (rc)=>{\n    return (capi.sqlite3_js_rc_str && capi.sqlite3_js_rc_str(rc))\n           || (\"Unknown result code #\"+rc);\n  };\n\n  /** Internal helper for SQLite3Error ctor. */\n  const __isInt = (n)=>'number'===typeof n && n===(n | 0);\n\n  /**\n     An Error subclass specifically for reporting DB-level errors and\n     enabling clients to unambiguously identify such exceptions.\n     The C-level APIs never throw, but some of the higher-level\n     C-style APIs do and the object-oriented APIs use exceptions\n     exclusively to report errors.\n  */\n  class SQLite3Error extends Error {\n    /**\n       Constructs this object with a message depending on its arguments:\n\n       If its first argument is an integer, it is assumed to be\n       an SQLITE_... result code and it is passed to\n       sqlite3.capi.sqlite3_js_rc_str() to stringify it.\n\n       If called with exactly 2 arguments and the 2nd is an object,\n       that object is treated as the 2nd argument to the parent\n       constructor.\n\n       The exception's message is created by concatenating its\n       arguments with a space between each, except for the\n       two-args-with-an-objec form and that the first argument will\n       get coerced to a string, as described above, if it's an\n       integer.\n\n       If passed an integer first argument, the error object's\n       `resultCode` member will be set to the given integer value,\n       else it will be set to capi.SQLITE_ERROR.\n    */\n    constructor(...args){\n      let rc;\n      if(args.length){\n        if(__isInt(args[0])){\n          rc = args[0];\n          if(1===args.length){\n            super(__rcStr(args[0]));\n          }else{\n            const rcStr = __rcStr(rc);\n            if('object'===typeof args[1]){\n              super(rcStr,args[1]);\n            }else{\n              args[0] = rcStr+':';\n              super(args.join(' '));\n            }\n          }\n        }else{\n          if(2===args.length && 'object'===typeof args[1]){\n            super(...args);\n          }else{\n            super(args.join(' '));\n          }\n        }\n      }\n      this.resultCode = rc || capi.SQLITE_ERROR;\n      this.name = 'SQLite3Error';\n    }\n  };\n\n  /**\n     Functionally equivalent to the SQLite3Error constructor but may\n     be used as part of an expression, e.g.:\n\n     ```\n     return someFunction(x) || SQLite3Error.toss(...);\n     ```\n  */\n  SQLite3Error.toss = (...args)=>{\n    throw new SQLite3Error(...args);\n  };\n  const toss3 = SQLite3Error.toss;\n\n  if(config.wasmfsOpfsDir && !/^\\/[^/]+$/.test(config.wasmfsOpfsDir)){\n    toss3(\"config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.\");\n  }\n\n  /**\n     Returns true if n is a 32-bit (signed) integer, else\n     false. This is used for determining when we need to switch to\n     double-type DB operations for integer values in order to keep\n     more precision.\n  */\n  const isInt32 = (n)=>{\n    return ('bigint'!==typeof n /*TypeError: can't convert BigInt to number*/)\n      && !!(n===(n|0) && n<=2147483647 && n>=-2147483648);\n  };\n  /**\n     Returns true if the given BigInt value is small enough to fit\n     into an int64 value, else false.\n  */\n  const bigIntFits64 = function f(b){\n    if(!f._max){\n      f._max = BigInt(\"0x7fffffffffffffff\");\n      f._min = ~f._max;\n    }\n    return b >= f._min && b <= f._max;\n  };\n\n  /**\n     Returns true if the given BigInt value is small enough to fit\n     into an int32, else false.\n  */\n  const bigIntFits32 = (b)=>(b >= (-0x7fffffffn - 1n) && b <= 0x7fffffffn);\n\n  /**\n     Returns true if the given BigInt value is small enough to fit\n     into a double value without loss of precision, else false.\n  */\n  const bigIntFitsDouble = function f(b){\n    if(!f._min){\n      f._min = Number.MIN_SAFE_INTEGER;\n      f._max = Number.MAX_SAFE_INTEGER;\n    }\n    return b >= f._min && b <= f._max;\n  };\n\n  /** Returns v if v appears to be a TypedArray, else false. */\n  const isTypedArray = (v)=>{\n    return (v && v.constructor && isInt32(v.constructor.BYTES_PER_ELEMENT)) ? v : false;\n  };\n\n\n  /** Internal helper to use in operations which need to distinguish\n      between TypedArrays which are backed by a SharedArrayBuffer\n      from those which are not. */\n  const __SAB = ('undefined'===typeof SharedArrayBuffer)\n        ? function(){} : SharedArrayBuffer;\n  /** Returns true if the given TypedArray object is backed by a\n      SharedArrayBuffer, else false. */\n  const isSharedTypedArray = (aTypedArray)=>(aTypedArray.buffer instanceof __SAB);\n\n  /**\n     Returns either aTypedArray.slice(begin,end) (if\n     aTypedArray.buffer is a SharedArrayBuffer) or\n     aTypedArray.subarray(begin,end) (if it's not).\n\n     This distinction is important for APIs which don't like to\n     work on SABs, e.g. TextDecoder, and possibly for our\n     own APIs which work on memory ranges which \"might\" be\n     modified by other threads while they're working.\n  */\n  const typedArrayPart = (aTypedArray, begin, end)=>{\n    return isSharedTypedArray(aTypedArray)\n      ? aTypedArray.slice(begin, end)\n      : aTypedArray.subarray(begin, end);\n  };\n\n  /**\n     Returns true if v appears to be one of our bind()-able TypedArray\n     types: Uint8Array or Int8Array or ArrayBuffer. Support for\n     TypedArrays with element sizes >1 is a potential TODO just\n     waiting on a use case to justify them. Until then, their `buffer`\n     property can be used to pass them as an ArrayBuffer. If it's not\n     a bindable array type, a falsy value is returned.\n  */\n  const isBindableTypedArray = (v)=>{\n    return v && (v instanceof Uint8Array\n                 || v instanceof Int8Array\n                 || v instanceof ArrayBuffer);\n  };\n\n  /**\n     Returns true if v appears to be one of the TypedArray types\n     which is legal for holding SQL code (as opposed to binary blobs).\n\n     Currently this is the same as isBindableTypedArray() but it\n     seems likely that we'll eventually want to add Uint32Array\n     and friends to the isBindableTypedArray() list but not to the\n     isSQLableTypedArray() list.\n  */\n  const isSQLableTypedArray = (v)=>{\n    return v && (v instanceof Uint8Array\n                 || v instanceof Int8Array\n                 || v instanceof ArrayBuffer);\n  };\n\n  /** Returns true if isBindableTypedArray(v) does, else throws with a message\n      that v is not a supported TypedArray value. */\n  const affirmBindableTypedArray = (v)=>{\n    return isBindableTypedArray(v)\n      || toss3(\"Value is not of a supported TypedArray type.\");\n  };\n\n  const utf8Decoder = new TextDecoder('utf-8');\n\n  /**\n     Uses TextDecoder to decode the given half-open range of the\n     given TypedArray to a string. This differs from a simple\n     call to TextDecoder in that it accounts for whether the\n     first argument is backed by a SharedArrayBuffer or not,\n     and can work more efficiently if it's not (TextDecoder\n     refuses to act upon an SAB).\n  */\n  const typedArrayToString = function(typedArray, begin, end){\n    return utf8Decoder.decode(typedArrayPart(typedArray, begin,end));\n  };\n\n  /**\n     If v is-a Array, its join(\"\") result is returned.  If\n     isSQLableTypedArray(v) is true then typedArrayToString(v) is\n     returned. If it looks like a WASM pointer, wasm.cstrToJs(v) is\n     returned. Else v is returned as-is.\n  */\n  const flexibleString = function(v){\n    if(isSQLableTypedArray(v)){\n      return typedArrayToString(\n        (v instanceof ArrayBuffer) ? new Uint8Array(v) : v\n      );\n    }\n    else if(Array.isArray(v)) return v.join(\"\");\n    else if(wasm.isPtr(v)) v = wasm.cstrToJs(v);\n    return v;\n  };\n\n  /**\n     An Error subclass specifically for reporting Wasm-level malloc()\n     failure and enabling clients to unambiguously identify such\n     exceptions.\n  */\n  class WasmAllocError extends Error {\n    /**\n       If called with 2 arguments and the 2nd one is an object, it\n       behaves like the Error constructor, else it concatenates all\n       arguments together with a single space between each to\n       construct an error message string. As a special case, if\n       called with no arguments then it uses a default error\n       message.\n    */\n    constructor(...args){\n      if(2===args.length && 'object'===typeof args[1]){\n        super(...args);\n      }else if(args.length){\n        super(args.join(' '));\n      }else{\n        super(\"Allocation failed.\");\n      }\n      this.resultCode = capi.SQLITE_NOMEM;\n      this.name = 'WasmAllocError';\n    }\n  };\n  /**\n     Functionally equivalent to the WasmAllocError constructor but may\n     be used as part of an expression, e.g.:\n\n     ```\n     return someAllocatingFunction(x) || WasmAllocError.toss(...);\n     ```\n  */\n  WasmAllocError.toss = (...args)=>{\n    throw new WasmAllocError(...args);\n  };\n\n  Object.assign(capi, {\n    /**\n       sqlite3_bind_blob() works exactly like its C counterpart unless\n       its 3rd argument is one of:\n\n       - JS string: the 3rd argument is converted to a C string, the\n         4th argument is ignored, and the C-string's length is used\n         in its place.\n\n       - Array: converted to a string as defined for \"flexible\n         strings\" and then it's treated as a JS string.\n\n       - Int8Array or Uint8Array: wasm.allocFromTypedArray() is used to\n         conver the memory to the WASM heap. If the 4th argument is\n         0 or greater, it is used as-is, otherwise the array's byteLength\n         value is used. This is an exception to the C API's undefined\n         behavior for a negative 4th argument, but results are undefined\n         if the given 4th argument value is greater than the byteLength\n         of the input array.\n\n       - If it's an ArrayBuffer, it gets wrapped in a Uint8Array and\n         treated as that type.\n\n       In all of those cases, the final argument (destructor) is\n       ignored and capi.SQLITE_WASM_DEALLOC is assumed.\n\n       A 3rd argument of `null` is treated as if it were a WASM pointer\n       of 0.\n\n       If the 3rd argument is neither a WASM pointer nor one of the\n       above-described types, capi.SQLITE_MISUSE is returned.\n\n       The first argument may be either an `sqlite3_stmt*` WASM\n       pointer or an sqlite3.oo1.Stmt instance.\n\n       For consistency with the C API, it requires the same number of\n       arguments. It returns capi.SQLITE_MISUSE if passed any other\n       argument count.\n    */\n    sqlite3_bind_blob: undefined/*installed later*/,\n\n    /**\n       sqlite3_bind_text() works exactly like its C counterpart unless\n       its 3rd argument is one of:\n\n       - JS string: the 3rd argument is converted to a C string, the\n         4th argument is ignored, and the C-string's length is used\n         in its place.\n\n       - Array: converted to a string as defined for \"flexible\n         strings\". The 4th argument is ignored and a value of -1\n         is assumed.\n\n       - Int8Array or Uint8Array: is assumed to contain UTF-8 text, is\n         converted to a string. The 4th argument is ignored, replaced\n         by the array's byteLength value.\n\n       - If it's an ArrayBuffer, it gets wrapped in a Uint8Array and\n         treated as that type.\n\n       In each of those cases, the final argument (text destructor) is\n       ignored and capi.SQLITE_WASM_DEALLOC is assumed.\n\n       A 3rd argument of `null` is treated as if it were a WASM pointer\n       of 0.\n\n       If the 3rd argument is neither a WASM pointer nor one of the\n       above-described types, capi.SQLITE_MISUSE is returned.\n\n       The first argument may be either an `sqlite3_stmt*` WASM\n       pointer or an sqlite3.oo1.Stmt instance.\n\n       For consistency with the C API, it requires the same number of\n       arguments. It returns capi.SQLITE_MISUSE if passed any other\n       argument count.\n\n       If client code needs to bind partial strings, it needs to\n       either parcel the string up before passing it in here or it\n       must pass in a WASM pointer for the 3rd argument and a valid\n       4th-argument value, taking care not to pass a value which\n       truncates a multi-byte UTF-8 character. When passing\n       WASM-format strings, it is important that the final argument be\n       valid or unexpected content can result can result, or even a\n       crash if the application reads past the WASM heap bounds.\n    */\n    sqlite3_bind_text: undefined/*installed later*/,\n\n    /**\n       sqlite3_create_function_v2() differs from its native\n       counterpart only in the following ways:\n\n       1) The fourth argument (`eTextRep`) argument must not specify\n       any encoding other than sqlite3.SQLITE_UTF8. The JS API does not\n       currently support any other encoding and likely never\n       will. This function does not replace that argument on its own\n       because it may contain other flags. As a special case, if\n       the bottom 4 bits of that argument are 0, SQLITE_UTF8 is\n       assumed.\n\n       2) Any of the four final arguments may be either WASM pointers\n       (assumed to be function pointers) or JS Functions. In the\n       latter case, each gets bound to WASM using\n       sqlite3.capi.wasm.installFunction() and that wrapper is passed\n       on to the native implementation.\n\n       For consistency with the C API, it requires the same number of\n       arguments. It returns capi.SQLITE_MISUSE if passed any other\n       argument count.\n\n       The semantics of JS functions are:\n\n       xFunc: is passed `(pCtx, ...values)`. Its return value becomes\n       the new SQL function's result.\n\n       xStep: is passed `(pCtx, ...values)`. Its return value is\n       ignored.\n\n       xFinal: is passed `(pCtx)`. Its return value becomes the new\n       aggregate SQL function's result.\n\n       xDestroy: is passed `(void*)`. Its return value is ignored. The\n       pointer passed to it is the one from the 5th argument to\n       sqlite3_create_function_v2().\n\n       Note that:\n\n       - `pCtx` in the above descriptions is a `sqlite3_context*`. At\n         least 99 times out of a hundred, that initial argument will\n         be irrelevant for JS UDF bindings, but it needs to be there\n         so that the cases where it _is_ relevant, in particular with\n         window and aggregate functions, have full access to the\n         lower-level sqlite3 APIs.\n\n       - When wrapping JS functions, the remaining arguments are passd\n         to them as positional arguments, not as an array of\n         arguments, because that allows callback definitions to be\n         more JS-idiomatic than C-like. For example `(pCtx,a,b)=>a+b`\n         is more intuitive and legible than\n         `(pCtx,args)=>args[0]+args[1]`. For cases where an array of\n         arguments would be more convenient, the callbacks simply need\n         to be declared like `(pCtx,...args)=>{...}`, in which case\n         `args` will be an array.\n\n       - If a JS wrapper throws, it gets translated to\n         sqlite3_result_error() or sqlite3_result_error_nomem(),\n         depending on whether the exception is an\n         sqlite3.WasmAllocError object or not.\n\n       - When passing on WASM function pointers, arguments are _not_\n         converted or reformulated. They are passed on as-is in raw\n         pointer form using their native C signatures. Only JS\n         functions passed in to this routine, and thus wrapped by this\n         routine, get automatic conversions of arguments and result\n         values. The routines which perform those conversions are\n         exposed for client-side use as\n         sqlite3_create_function_v2.convertUdfArgs() and\n         sqlite3_create_function_v2.setUdfResult(). sqlite3_create_function()\n         and sqlite3_create_window_function() have those same methods.\n\n       For xFunc(), xStep(), and xFinal():\n\n       - When called from SQL, arguments to the UDF, and its result,\n         will be converted between JS and SQL with as much fidelity as\n         is feasible, triggering an exception if a type conversion\n         cannot be determined. Some freedom is afforded to numeric\n         conversions due to friction between the JS and C worlds:\n         integers which are larger than 32 bits may be treated as\n         doubles or BigInts.\n\n       If any JS-side bound functions throw, those exceptions are\n       intercepted and converted to database-side errors with the\n       exception of xDestroy(): any exception from it is ignored,\n       possibly generating a console.error() message.  Destructors\n       must not throw.\n\n       Once installed, there is currently no way to uninstall the\n       automatically-converted WASM-bound JS functions from WASM. They\n       can be uninstalled from the database as documented in the C\n       API, but this wrapper currently has no infrastructure in place\n       to also free the WASM-bound JS wrappers, effectively resulting\n       in a memory leak if the client uninstalls the UDF. Improving that\n       is a potential TODO, but removing client-installed UDFs is rare\n       in practice. If this factor is relevant for a given client,\n       they can create WASM-bound JS functions themselves, hold on to their\n       pointers, and pass the pointers in to here. Later on, they can\n       free those pointers (using `wasm.uninstallFunction()` or\n       equivalent).\n\n       C reference: https://www.sqlite.org/c3ref/create_function.html\n\n       Maintenance reminder: the ability to add new\n       WASM-accessible functions to the runtime requires that the\n       WASM build is compiled with emcc's `-sALLOW_TABLE_GROWTH`\n       flag.\n    */\n    sqlite3_create_function_v2: (\n      pDb, funcName, nArg, eTextRep, pApp,\n      xFunc, xStep, xFinal, xDestroy\n    )=>{/*installed later*/},\n    /**\n       Equivalent to passing the same arguments to\n       sqlite3_create_function_v2(), with 0 as the final argument.\n    */\n    sqlite3_create_function: (\n      pDb, funcName, nArg, eTextRep, pApp,\n      xFunc, xStep, xFinal\n    )=>{/*installed later*/},\n    /**\n       The sqlite3_create_window_function() JS wrapper differs from\n       its native implementation in the exact same way that\n       sqlite3_create_function_v2() does. The additional function,\n       xInverse(), is treated identically to xStep() by the wrapping\n       layer.\n    */\n    sqlite3_create_window_function: (\n      pDb, funcName, nArg, eTextRep, pApp,\n      xStep, xFinal, xValue, xInverse, xDestroy\n    )=>{/*installed later*/},\n    /**\n       The sqlite3_prepare_v3() binding handles two different uses\n       with differing JS/WASM semantics:\n\n       1) sqlite3_prepare_v3(pDb, sqlString, -1, prepFlags, ppStmt , null)\n\n       2) sqlite3_prepare_v3(pDb, sqlPointer, sqlByteLen, prepFlags, ppStmt, sqlPointerToPointer)\n\n       Note that the SQL length argument (the 3rd argument) must, for\n       usage (1), always be negative because it must be a byte length\n       and that value is expensive to calculate from JS (where only\n       the character length of strings is readily available). It is\n       retained in this API's interface for code/documentation\n       compatibility reasons but is currently _always_ ignored. With\n       usage (2), the 3rd argument is used as-is but is is still\n       critical that the C-style input string (2nd argument) be\n       terminated with a 0 byte.\n\n       In usage (1), the 2nd argument must be of type string,\n       Uint8Array, Int8Array, or ArrayBuffer (all of which are assumed\n       to hold SQL). If it is, this function assumes case (1) and\n       calls the underyling C function with the equivalent of:\n\n       (pDb, sqlAsString, -1, prepFlags, ppStmt, null)\n\n       The `pzTail` argument is ignored in this case because its\n       result is meaningless when a string-type value is passed\n       through: the string goes through another level of internal\n       conversion for WASM's sake and the result pointer would refer\n       to that transient conversion's memory, not the passed-in\n       string.\n\n       If the sql argument is not a string, it must be a _pointer_ to\n       a NUL-terminated string which was allocated in the WASM memory\n       (e.g. using capi.wasm.alloc() or equivalent). In that case,\n       the final argument may be 0/null/undefined or must be a pointer\n       to which the \"tail\" of the compiled SQL is written, as\n       documented for the C-side sqlite3_prepare_v3(). In case (2),\n       the underlying C function is called with the equivalent of:\n\n       (pDb, sqlAsPointer, sqlByteLen, prepFlags, ppStmt, pzTail)\n\n       It returns its result and compiled statement as documented in\n       the C API. Fetching the output pointers (5th and 6th\n       parameters) requires using `capi.wasm.peek()` (or\n       equivalent) and the `pzTail` will point to an address relative to\n       the `sqlAsPointer` value.\n\n       If passed an invalid 2nd argument type, this function will\n       return SQLITE_MISUSE and sqlite3_errmsg() will contain a string\n       describing the problem.\n\n       Side-note: if given an empty string, or one which contains only\n       comments or an empty SQL expression, 0 is returned but the result\n       output pointer will be NULL.\n    */\n    sqlite3_prepare_v3: (dbPtr, sql, sqlByteLen, prepFlags,\n                         stmtPtrPtr, strPtrPtr)=>{}/*installed later*/,\n\n    /**\n       Equivalent to calling sqlite3_prapare_v3() with 0 as its 4th argument.\n    */\n    sqlite3_prepare_v2: (dbPtr, sql, sqlByteLen,\n                         stmtPtrPtr,strPtrPtr)=>{}/*installed later*/,\n\n    /**\n       This binding enables the callback argument to be a JavaScript.\n\n       If the callback is a function, then for the duration of the\n       sqlite3_exec() call, it installs a WASM-bound function which\n       acts as a proxy for the given callback. That proxy will also\n       perform a conversion of the callback's arguments from\n       `(char**)` to JS arrays of strings. However, for API\n       consistency's sake it will still honor the C-level callback\n       parameter order and will call it like:\n\n       `callback(pVoid, colCount, listOfValues, listOfColNames)`\n\n       If the callback is not a JS function then this binding performs\n       no translation of the callback, but the sql argument is still\n       converted to a WASM string for the call using the\n       \"string:flexible\" argument converter.\n    */\n    sqlite3_exec: (pDb, sql, callback, pVoid, pErrMsg)=>{}/*installed later*/,\n\n    /**\n       If passed a single argument which appears to be a byte-oriented\n       TypedArray (Int8Array or Uint8Array), this function treats that\n       TypedArray as an output target, fetches `theArray.byteLength`\n       bytes of randomness, and populates the whole array with it. As\n       a special case, if the array's length is 0, this function\n       behaves as if it were passed (0,0). When called this way, it\n       returns its argument, else it returns the `undefined` value.\n\n       If called with any other arguments, they are passed on as-is\n       to the C API. Results are undefined if passed any incompatible\n       values.\n     */\n    sqlite3_randomness: (n, outPtr)=>{/*installed later*/},\n  }/*capi*/);\n\n  /**\n     Various internal-use utilities are added here as needed. They\n     are bound to an object only so that we have access to them in\n     the differently-scoped steps of the API bootstrapping\n     process. At the end of the API setup process, this object gets\n     removed. These are NOT part of the public API.\n  */\n  const util = {\n    affirmBindableTypedArray, flexibleString,\n    bigIntFits32, bigIntFits64, bigIntFitsDouble,\n    isBindableTypedArray,\n    isInt32, isSQLableTypedArray, isTypedArray,\n    typedArrayToString,\n    isUIThread: ()=>(globalThis.window===globalThis && !!globalThis.document),\n    // is this true for ESM?: 'undefined'===typeof WorkerGlobalScope\n    isSharedTypedArray,\n    toss: function(...args){throw new Error(args.join(' '))},\n    toss3,\n    typedArrayPart,\n    /**\n       Given a byte array or ArrayBuffer, this function throws if the\n       lead bytes of that buffer do not hold a SQLite3 database header,\n       else it returns without side effects.\n\n       Added in 3.44.\n    */\n    affirmDbHeader: function(bytes){\n      if(bytes instanceof ArrayBuffer) bytes = new Uint8Array(bytes);\n      const header = \"SQLite format 3\";\n      if( header.length > bytes.byteLength ){\n        toss3(\"Input does not contain an SQLite3 database header.\");\n      }\n      for(let i = 0; i < header.length; ++i){\n        if( header.charCodeAt(i) !== bytes[i] ){\n          toss3(\"Input does not contain an SQLite3 database header.\");\n        }\n      }\n    },\n    /**\n       Given a byte array or ArrayBuffer, this function throws if the\n       database does not, at a cursory glance, appear to be an SQLite3\n       database. It only examines the size and header, but further\n       checks may be added in the future.\n\n       Added in 3.44.\n    */\n    affirmIsDb: function(bytes){\n      if(bytes instanceof ArrayBuffer) bytes = new Uint8Array(bytes);\n      const n = bytes.byteLength;\n      if(n<512 || n%512!==0) {\n        toss3(\"Byte array size\",n,\"is invalid for an SQLite3 db.\");\n      }\n      util.affirmDbHeader(bytes);\n    }\n  }/*util*/;\n\n  Object.assign(wasm, {\n    /**\n       Emscripten APIs have a deep-seated assumption that all pointers\n       are 32 bits. We'll remain optimistic that that won't always be\n       the case and will use this constant in places where we might\n       otherwise use a hard-coded 4.\n    */\n    ptrSizeof: config.wasmPtrSizeof || 4,\n    /**\n       The WASM IR (Intermediate Representation) value for\n       pointer-type values. It MUST refer to a value type of the\n       size described by this.ptrSizeof.\n    */\n    ptrIR: config.wasmPtrIR || \"i32\",\n    /**\n       True if BigInt support was enabled via (e.g.) the\n       Emscripten -sWASM_BIGINT flag, else false. When\n       enabled, certain 64-bit sqlite3 APIs are enabled which\n       are not otherwise enabled due to JS/WASM int64\n       impedence mismatches.\n    */\n    bigIntEnabled: !!config.bigIntEnabled,\n    /**\n       The symbols exported by the WASM environment.\n    */\n    exports: config.exports\n      || toss3(\"Missing API config.exports (WASM module exports).\"),\n\n    /**\n       When Emscripten compiles with `-sIMPORTED_MEMORY`, it\n       initalizes the heap and imports it into wasm, as opposed to\n       the other way around. In this case, the memory is not\n       available via this.exports.memory.\n    */\n    memory: config.memory || config.exports['memory']\n      || toss3(\"API config object requires a WebAssembly.Memory object\",\n              \"in either config.exports.memory (exported)\",\n              \"or config.memory (imported).\"),\n\n    /**\n       The API's primary point of access to the WASM-side memory\n       allocator.  Works like sqlite3_malloc() but throws a\n       WasmAllocError if allocation fails. It is important that any\n       code which might pass through the sqlite3 C API NOT throw and\n       must instead return SQLITE_NOMEM (or equivalent, depending on\n       the context).\n\n       Very few cases in the sqlite3 JS APIs can result in\n       client-defined functions propagating exceptions via the C-style\n       API. Most notably, this applies to WASM-bound JS functions\n       which are created directly by clients and passed on _as WASM\n       function pointers_ to functions such as\n       sqlite3_create_function_v2(). Such bindings created\n       transparently by this API will automatically use wrappers which\n       catch exceptions and convert them to appropriate error codes.\n\n       For cases where non-throwing allocation is required, use\n       this.alloc.impl(), which is direct binding of the\n       underlying C-level allocator.\n\n       Design note: this function is not named \"malloc\" primarily\n       because Emscripten uses that name and we wanted to avoid any\n       confusion early on in this code's development, when it still\n       had close ties to Emscripten's glue code.\n    */\n    alloc: undefined/*installed later*/,\n\n    /**\n       Rarely necessary in JS code, this routine works like\n       sqlite3_realloc(M,N), where M is either NULL or a pointer\n       obtained from this function or this.alloc() and N is the number\n       of bytes to reallocate the block to. Returns a pointer to the\n       reallocated block or 0 if allocation fails.\n\n       If M is NULL and N is positive, this behaves like\n       this.alloc(N). If N is 0, it behaves like this.dealloc().\n       Results are undefined if N is negative (sqlite3_realloc()\n       treats that as 0, but if this code is built with a different\n       allocator it may misbehave with negative values).\n\n       Like this.alloc.impl(), this.realloc.impl() is a direct binding\n       to the underlying realloc() implementation which does not throw\n       exceptions, instead returning 0 on allocation error.\n    */\n    realloc: undefined/*installed later*/,\n\n    /**\n       The API's primary point of access to the WASM-side memory\n       deallocator. Works like sqlite3_free().\n\n       Design note: this function is not named \"free\" for the same\n       reason that this.alloc() is not called this.malloc().\n    */\n    dealloc: undefined/*installed later*/\n\n    /* Many more wasm-related APIs get installed later on. */\n  }/*wasm*/);\n\n  /**\n     wasm.alloc()'s srcTypedArray.byteLength bytes,\n     populates them with the values from the source\n     TypedArray, and returns the pointer to that memory. The\n     returned pointer must eventually be passed to\n     wasm.dealloc() to clean it up.\n\n     The argument may be a Uint8Array, Int8Array, or ArrayBuffer,\n     and it throws if passed any other type.\n\n     As a special case, to avoid further special cases where\n     this is used, if srcTypedArray.byteLength is 0, it\n     allocates a single byte and sets it to the value\n     0. Even in such cases, calls must behave as if the\n     allocated memory has exactly srcTypedArray.byteLength\n     bytes.\n  */\n  wasm.allocFromTypedArray = function(srcTypedArray){\n    if(srcTypedArray instanceof ArrayBuffer){\n      srcTypedArray = new Uint8Array(srcTypedArray);\n    }\n    affirmBindableTypedArray(srcTypedArray);\n    const pRet = wasm.alloc(srcTypedArray.byteLength || 1);\n    wasm.heapForSize(srcTypedArray.constructor).set(\n      srcTypedArray.byteLength ? srcTypedArray : [0], pRet\n    );\n    return pRet;\n  };\n\n  {\n    // Set up allocators...\n    const keyAlloc = config.allocExportName,\n          keyDealloc = config.deallocExportName,\n          keyRealloc = config.reallocExportName;\n    for(const key of [keyAlloc, keyDealloc, keyRealloc]){\n      const f = wasm.exports[key];\n      if(!(f instanceof Function)) toss3(\"Missing required exports[\",key,\"] function.\");\n    }\n\n    wasm.alloc = function f(n){\n      return f.impl(n) || WasmAllocError.toss(\"Failed to allocate\",n,\" bytes.\");\n    };\n    wasm.alloc.impl = wasm.exports[keyAlloc];\n    wasm.realloc = function f(m,n){\n      const m2 = f.impl(m,n);\n      return n ? (m2 || WasmAllocError.toss(\"Failed to reallocate\",n,\" bytes.\")) : 0;\n    };\n    wasm.realloc.impl = wasm.exports[keyRealloc];\n    wasm.dealloc = wasm.exports[keyDealloc];\n  }\n\n  /**\n     Reports info about compile-time options using\n     sqlite3_compileoption_get() and sqlite3_compileoption_used(). It\n     has several distinct uses:\n\n     If optName is an array then it is expected to be a list of\n     compilation options and this function returns an object\n     which maps each such option to true or false, indicating\n     whether or not the given option was included in this\n     build. That object is returned.\n\n     If optName is an object, its keys are expected to be compilation\n     options and this function sets each entry to true or false,\n     indicating whether the compilation option was used or not. That\n     object is returned.\n\n     If passed no arguments then it returns an object mapping\n     all known compilation options to their compile-time values,\n     or boolean true if they are defined with no value. This\n     result, which is relatively expensive to compute, is cached\n     and returned for future no-argument calls.\n\n     In all other cases it returns true if the given option was\n     active when when compiling the sqlite3 module, else false.\n\n     Compile-time option names may optionally include their\n     \"SQLITE_\" prefix. When it returns an object of all options,\n     the prefix is elided.\n  */\n  wasm.compileOptionUsed = function f(optName){\n    if(!arguments.length){\n      if(f._result) return f._result;\n      else if(!f._opt){\n        f._rx = /^([^=]+)=(.+)/;\n        f._rxInt = /^-?\\d+$/;\n        f._opt = function(opt, rv){\n          const m = f._rx.exec(opt);\n          rv[0] = (m ? m[1] : opt);\n          rv[1] = m ? (f._rxInt.test(m[2]) ? +m[2] : m[2]) : true;\n        };\n      }\n      const rc = {}, ov = [0,0];\n      let i = 0, k;\n      while((k = capi.sqlite3_compileoption_get(i++))){\n        f._opt(k,ov);\n        rc[ov[0]] = ov[1];\n      }\n      return f._result = rc;\n    }else if(Array.isArray(optName)){\n      const rc = {};\n      optName.forEach((v)=>{\n        rc[v] = capi.sqlite3_compileoption_used(v);\n      });\n      return rc;\n    }else if('object' === typeof optName){\n      Object.keys(optName).forEach((k)=> {\n        optName[k] = capi.sqlite3_compileoption_used(k);\n      });\n      return optName;\n    }\n    return (\n      'string'===typeof optName\n    ) ? !!capi.sqlite3_compileoption_used(optName) : false;\n  }/*compileOptionUsed()*/;\n\n  /**\n     sqlite3.wasm.pstack (pseudo-stack) holds a special-case\n     stack-style allocator intended only for use with _small_ data of\n     not more than (in total) a few kb in size, managed as if it were\n     stack-based.\n\n     It has only a single intended usage:\n\n     ```\n     const stackPos = pstack.pointer;\n     try{\n       const ptr = pstack.alloc(8);\n       // ==> pstack.pointer === ptr\n       const otherPtr = pstack.alloc(8);\n       // ==> pstack.pointer === otherPtr\n       ...\n     }finally{\n       pstack.restore(stackPos);\n       // ==> pstack.pointer === stackPos\n     }\n     ```\n\n     This allocator is much faster than a general-purpose one but is\n     limited to usage patterns like the one shown above.\n\n     It operates from a static range of memory which lives outside of\n     space managed by Emscripten's stack-management, so does not\n     collide with Emscripten-provided stack allocation APIs. The\n     memory lives in the WASM heap and can be used with routines such\n     as wasm.poke() and wasm.heap8u().slice().\n  */\n  wasm.pstack = Object.assign(Object.create(null),{\n    /**\n       Sets the current pstack position to the given pointer. Results\n       are undefined if the passed-in value did not come from\n       this.pointer.\n    */\n    restore: wasm.exports.sqlite3_wasm_pstack_restore,\n    /**\n       Attempts to allocate the given number of bytes from the\n       pstack. On success, it zeroes out a block of memory of the\n       given size, adjusts the pstack pointer, and returns a pointer\n       to the memory. On error, throws a WasmAllocError. The\n       memory must eventually be released using restore().\n\n       If n is a string, it must be a WASM \"IR\" value in the set\n       accepted by wasm.sizeofIR(), which is mapped to the size of\n       that data type. If passed a string not in that set, it throws a\n       WasmAllocError.\n\n       This method always adjusts the given value to be a multiple\n       of 8 bytes because failing to do so can lead to incorrect\n       results when reading and writing 64-bit values from/to the WASM\n       heap. Similarly, the returned address is always 8-byte aligned.\n    */\n    alloc: function(n){\n      if('string'===typeof n && !(n = wasm.sizeofIR(n))){\n        WasmAllocError.toss(\"Invalid value for pstack.alloc(\",arguments[0],\")\");\n      }\n      return wasm.exports.sqlite3_wasm_pstack_alloc(n)\n        || WasmAllocError.toss(\"Could not allocate\",n,\n                               \"bytes from the pstack.\");\n    },\n    /**\n       alloc()'s n chunks, each sz bytes, as a single memory block and\n       returns the addresses as an array of n element, each holding\n       the address of one chunk.\n\n       sz may optionally be an IR string accepted by wasm.sizeofIR().\n\n       Throws a WasmAllocError if allocation fails.\n\n       Example:\n\n       ```\n       const [p1, p2, p3] = wasm.pstack.allocChunks(3,4);\n       ```\n    */\n    allocChunks: function(n,sz){\n      if('string'===typeof sz && !(sz = wasm.sizeofIR(sz))){\n        WasmAllocError.toss(\"Invalid size value for allocChunks(\",arguments[1],\")\");\n      }\n      const mem = wasm.pstack.alloc(n * sz);\n      const rc = [];\n      let i = 0, offset = 0;\n      for(; i < n; ++i, offset += sz) rc.push(mem + offset);\n      return rc;\n    },\n    /**\n       A convenience wrapper for allocChunks() which sizes each chunk\n       as either 8 bytes (safePtrSize is truthy) or wasm.ptrSizeof (if\n       safePtrSize is falsy).\n\n       How it returns its result differs depending on its first\n       argument: if it's 1, it returns a single pointer value. If it's\n       more than 1, it returns the same as allocChunks().\n\n       When a returned pointers will refer to a 64-bit value, e.g. a\n       double or int64, and that value must be written or fetched,\n       e.g. using wasm.poke() or wasm.peek(), it is\n       important that the pointer in question be aligned to an 8-byte\n       boundary or else it will not be fetched or written properly and\n       will corrupt or read neighboring memory.\n\n       However, when all pointers involved point to \"small\" data, it\n       is safe to pass a falsy value to save a tiny bit of memory.\n    */\n    allocPtr: (n=1,safePtrSize=true)=>{\n      return 1===n\n        ? wasm.pstack.alloc(safePtrSize ? 8 : wasm.ptrSizeof)\n        : wasm.pstack.allocChunks(n, safePtrSize ? 8 : wasm.ptrSizeof);\n    },\n\n    /**\n       Records the current pstack position, calls the given function,\n       passing it the sqlite3 object, then restores the pstack\n       regardless of whether the function throws. Returns the result\n       of the call or propagates an exception on error.\n\n       Added in 3.44.\n    */\n    call: function(f){\n      const stackPos = wasm.pstack.pointer;\n      try{ return f(sqlite3) } finally{\n        wasm.pstack.restore(stackPos);\n      }\n    }\n\n  })/*wasm.pstack*/;\n  Object.defineProperties(wasm.pstack, {\n    /**\n       sqlite3.wasm.pstack.pointer resolves to the current pstack\n       position pointer. This value is intended _only_ to be saved\n       for passing to restore(). Writing to this memory, without\n       first reserving it via wasm.pstack.alloc() and friends, leads\n       to undefined results.\n    */\n    pointer: {\n      configurable: false, iterable: true, writeable: false,\n      get: wasm.exports.sqlite3_wasm_pstack_ptr\n      //Whether or not a setter as an alternative to restore() is\n      //clearer or would just lead to confusion is unclear.\n      //set: wasm.exports.sqlite3_wasm_pstack_restore\n    },\n    /**\n       sqlite3.wasm.pstack.quota to the total number of bytes\n       available in the pstack, including any space which is currently\n       allocated. This value is a compile-time constant.\n    */\n    quota: {\n      configurable: false, iterable: true, writeable: false,\n      get: wasm.exports.sqlite3_wasm_pstack_quota\n    },\n    /**\n       sqlite3.wasm.pstack.remaining resolves to the amount of space\n       remaining in the pstack.\n    */\n    remaining: {\n      configurable: false, iterable: true, writeable: false,\n      get: wasm.exports.sqlite3_wasm_pstack_remaining\n    }\n  })/*wasm.pstack properties*/;\n\n  capi.sqlite3_randomness = (...args)=>{\n    if(1===args.length && util.isTypedArray(args[0])\n      && 1===args[0].BYTES_PER_ELEMENT){\n      const ta = args[0];\n      if(0===ta.byteLength){\n        wasm.exports.sqlite3_randomness(0,0);\n        return ta;\n      }\n      const stack = wasm.pstack.pointer;\n      try {\n        let n = ta.byteLength, offset = 0;\n        const r = wasm.exports.sqlite3_randomness;\n        const heap = wasm.heap8u();\n        const nAlloc = n < 512 ? n : 512;\n        const ptr = wasm.pstack.alloc(nAlloc);\n        do{\n          const j = (n>nAlloc ? nAlloc : n);\n          r(j, ptr);\n          ta.set(typedArrayPart(heap, ptr, ptr+j), offset);\n          n -= j;\n          offset += j;\n        } while(n > 0);\n      }catch(e){\n        console.error(\"Highly unexpected (and ignored!) \"+\n                      \"exception in sqlite3_randomness():\",e);\n      }finally{\n        wasm.pstack.restore(stack);\n      }\n      return ta;\n    }\n    wasm.exports.sqlite3_randomness(...args);\n  };\n\n  /** State for sqlite3_wasmfs_opfs_dir(). */\n  let __wasmfsOpfsDir = undefined;\n  /**\n     If the wasm environment has a WASMFS/OPFS-backed persistent\n     storage directory, its path is returned by this function. If it\n     does not then it returns \"\" (noting that \"\" is a falsy value).\n\n     The first time this is called, this function inspects the current\n     environment to determine whether persistence support is available\n     and, if it is, enables it (if needed). After the first call it\n     always returns the cached result.\n\n     If the returned string is not empty, any files stored under the\n     given path (recursively) are housed in OPFS storage. If the\n     returned string is empty, this particular persistent storage\n     option is not available on the client.\n\n     Though the mount point name returned by this function is intended\n     to remain stable, clients should not hard-coded it anywhere. Always call this function to get the path.\n\n     Note that this function is a no-op in must builds of this\n     library, as the WASMFS capability requires a custom\n     build.\n  */\n  capi.sqlite3_wasmfs_opfs_dir = function(){\n    if(undefined !== __wasmfsOpfsDir) return __wasmfsOpfsDir;\n    // If we have no OPFS, there is no persistent dir\n    const pdir = config.wasmfsOpfsDir;\n    if(!pdir\n       || !globalThis.FileSystemHandle\n       || !globalThis.FileSystemDirectoryHandle\n       || !globalThis.FileSystemFileHandle){\n      return __wasmfsOpfsDir = \"\";\n    }\n    try{\n      if(pdir && 0===wasm.xCallWrapped(\n        'sqlite3_wasm_init_wasmfs', 'i32', ['string'], pdir\n      )){\n        return __wasmfsOpfsDir = pdir;\n      }else{\n        return __wasmfsOpfsDir = \"\";\n      }\n    }catch(e){\n      // sqlite3_wasm_init_wasmfs() is not available\n      return __wasmfsOpfsDir = \"\";\n    }\n  };\n\n  /**\n     Returns true if sqlite3.capi.sqlite3_wasmfs_opfs_dir() is a\n     non-empty string and the given name starts with (that string +\n     '/'), else returns false.\n  */\n  capi.sqlite3_wasmfs_filename_is_persistent = function(name){\n    const p = capi.sqlite3_wasmfs_opfs_dir();\n    return (p && name) ? name.startsWith(p+'/') : false;\n  };\n\n  /**\n     Given an `sqlite3*`, an sqlite3_vfs name, and an optional db name\n     (defaulting to \"main\"), returns a truthy value (see below) if\n     that db uses that VFS, else returns false. If pDb is falsy then\n     the 3rd argument is ignored and this function returns a truthy\n     value if the default VFS name matches that of the 2nd\n     argument. Results are undefined if pDb is truthy but refers to an\n     invalid pointer. The 3rd argument specifies the database name of\n     the given database connection to check, defaulting to the main\n     db.\n\n     The 2nd and 3rd arguments may either be a JS string or a WASM\n     C-string. If the 2nd argument is a NULL WASM pointer, the default\n     VFS is assumed. If the 3rd is a NULL WASM pointer, \"main\" is\n     assumed.\n\n     The truthy value it returns is a pointer to the `sqlite3_vfs`\n     object.\n\n     To permit safe use of this function from APIs which may be called\n     via the C stack (like SQL UDFs), this function does not throw: if\n     bad arguments cause a conversion error when passing into\n     wasm-space, false is returned.\n  */\n  capi.sqlite3_js_db_uses_vfs = function(pDb,vfsName,dbName=0){\n    try{\n      const pK = capi.sqlite3_vfs_find(vfsName);\n      if(!pK) return false;\n      else if(!pDb){\n        return pK===capi.sqlite3_vfs_find(0) ? pK : false;\n      }else{\n        return pK===capi.sqlite3_js_db_vfs(pDb,dbName) ? pK : false;\n      }\n    }catch(e){\n      /* Ignore - probably bad args to a wasm-bound function. */\n      return false;\n    }\n  };\n\n  /**\n     Returns an array of the names of all currently-registered sqlite3\n     VFSes.\n  */\n  capi.sqlite3_js_vfs_list = function(){\n    const rc = [];\n    let pVfs = capi.sqlite3_vfs_find(0);\n    while(pVfs){\n      const oVfs = new capi.sqlite3_vfs(pVfs);\n      rc.push(wasm.cstrToJs(oVfs.$zName));\n      pVfs = oVfs.$pNext;\n      oVfs.dispose();\n    }\n    return rc;\n  };\n\n  /**\n     A convenience wrapper around sqlite3_serialize() which serializes\n     the given `sqlite3*` pointer to a Uint8Array. The first argument\n     may be either an `sqlite3*` or an sqlite3.oo1.DB instance.\n\n     On success it returns a Uint8Array. If the schema is empty, an\n     empty array is returned.\n\n     `schema` is the schema to serialize. It may be a WASM C-string\n     pointer or a JS string. If it is falsy, it defaults to `\"main\"`.\n\n     On error it throws with a description of the problem.\n  */\n  capi.sqlite3_js_db_export = function(pDb, schema=0){\n    pDb = wasm.xWrap.testConvertArg('sqlite3*', pDb);\n    if(!pDb) toss3('Invalid sqlite3* argument.');\n    if(!wasm.bigIntEnabled) toss3('BigInt64 support is not enabled.');\n    const scope = wasm.scopedAllocPush();\n    let pOut;\n    try{\n      const pSize = wasm.scopedAlloc(8/*i64*/ + wasm.ptrSizeof);\n      const ppOut = pSize + 8;\n      /**\n         Maintenance reminder, since this cost a full hour of grief\n         and confusion: if the order of pSize/ppOut are reversed in\n         that memory block, fetching the value of pSize after the\n         export reads a garbage size because it's not on an 8-byte\n         memory boundary!\n      */\n      const zSchema = schema\n            ? (wasm.isPtr(schema) ? schema : wasm.scopedAllocCString(''+schema))\n            : 0;\n      let rc = wasm.exports.sqlite3_wasm_db_serialize(\n        pDb, zSchema, ppOut, pSize, 0\n      );\n      if(rc){\n        toss3(\"Database serialization failed with code\",\n             sqlite3.capi.sqlite3_js_rc_str(rc));\n      }\n      pOut = wasm.peekPtr(ppOut);\n      const nOut = wasm.peek(pSize, 'i64');\n      rc = nOut\n        ? wasm.heap8u().slice(pOut, pOut + Number(nOut))\n        : new Uint8Array();\n      return rc;\n    }finally{\n      if(pOut) wasm.exports.sqlite3_free(pOut);\n      wasm.scopedAllocPop(scope);\n    }\n  };\n\n  /**\n     Given a `sqlite3*` and a database name (JS string or WASM\n     C-string pointer, which may be 0), returns a pointer to the\n     sqlite3_vfs responsible for it. If the given db name is null/0,\n     or not provided, then \"main\" is assumed.\n  */\n  capi.sqlite3_js_db_vfs =\n    (dbPointer, dbName=0)=>wasm.sqlite3_wasm_db_vfs(dbPointer, dbName);\n\n  /**\n     A thin wrapper around capi.sqlite3_aggregate_context() which\n     behaves the same except that it throws a WasmAllocError if that\n     function returns 0. As a special case, if n is falsy it does\n     _not_ throw if that function returns 0. That special case is\n     intended for use with xFinal() implementations.\n  */\n  capi.sqlite3_js_aggregate_context = (pCtx, n)=>{\n    return capi.sqlite3_aggregate_context(pCtx, n)\n      || (n ? WasmAllocError.toss(\"Cannot allocate\",n,\n                                  \"bytes for sqlite3_aggregate_context()\")\n          : 0);\n  };\n\n  /**\n     If the current environment supports the POSIX file APIs, this routine\n     creates (or overwrites) the given file using those APIs. This is\n     primarily intended for use in Emscripten-based builds where the POSIX\n     APIs are transparently proxied by an in-memory virtual filesystem.\n     It may behave diffrently in other environments.\n\n     The first argument must be either a JS string or WASM C-string\n     holding the filename. Note that this routine does _not_ create\n     intermediary directories if the filename has a directory part.\n\n     The 2nd argument may either a valid WASM memory pointer, an\n     ArrayBuffer, or a Uint8Array. The 3rd must be the length, in\n     bytes, of the data array to copy. If the 2nd argument is an\n     ArrayBuffer or Uint8Array and the 3rd is not a positive integer\n     then the 3rd defaults to the array's byteLength value.\n\n     Results are undefined if data is a WASM pointer and dataLen is\n     exceeds data's bounds.\n\n     Throws if any arguments are invalid or if creating or writing to\n     the file fails.\n\n     Added in 3.43 as an alternative for the deprecated\n     sqlite3_js_vfs_create_file().\n  */\n  capi.sqlite3_js_posix_create_file = function(filename, data, dataLen){\n    let pData;\n    if(data && wasm.isPtr(data)){\n      pData = data;\n    }else if(data instanceof ArrayBuffer || data instanceof Uint8Array){\n      pData = wasm.allocFromTypedArray(data);\n      if(arguments.length<3 || !util.isInt32(dataLen) || dataLen<0){\n        dataLen = data.byteLength;\n      }\n    }else{\n      SQLite3Error.toss(\"Invalid 2nd argument for sqlite3_js_posix_create_file().\");\n    }\n    try{\n      if(!util.isInt32(dataLen) || dataLen<0){\n        SQLite3Error.toss(\"Invalid 3rd argument for sqlite3_js_posix_create_file().\");\n      }\n      const rc = wasm.sqlite3_wasm_posix_create_file(filename, pData, dataLen);\n      if(rc) SQLite3Error.toss(\"Creation of file failed with sqlite3 result code\",\n                               capi.sqlite3_js_rc_str(rc));\n    }finally{\n       wasm.dealloc(pData);\n    }\n  };\n\n  /**\n     Deprecation warning: this function does not work properly in\n     debug builds of sqlite3 because its out-of-scope use of the\n     sqlite3_vfs API triggers assertions in the core library.  That\n     was unfortunately not discovered until 2023-08-11. This function\n     is now deprecated and should not be used in new code.\n\n     Alternative options:\n\n     - \"unix\" VFS and its variants can get equivalent functionality\n       with sqlite3_js_posix_create_file().\n\n     - OPFS: use either sqlite3.oo1.OpfsDb.importDb(), for the \"opfs\"\n       VFS, or the importDb() method of the PoolUtil object provided\n       by the \"opfs-sahpool\" OPFS (noting that its VFS name may differ\n       depending on client-side configuration). We cannot proxy those\n       from here because the former is necessarily asynchronous and\n       the latter requires information not available to this function.\n\n     Creates a file using the storage appropriate for the given\n     sqlite3_vfs.  The first argument may be a VFS name (JS string\n     only, NOT a WASM C-string), WASM-managed `sqlite3_vfs*`, or\n     a capi.sqlite3_vfs instance. Pass 0 (a NULL pointer) to use the\n     default VFS. If passed a string which does not resolve using\n     sqlite3_vfs_find(), an exception is thrown. (Note that a WASM\n     C-string is not accepted because it is impossible to\n     distinguish from a C-level `sqlite3_vfs*`.)\n\n     The second argument, the filename, must be a JS or WASM C-string.\n\n     The 3rd may either be falsy, a valid WASM memory pointer, an\n     ArrayBuffer, or a Uint8Array. The 4th must be the length, in\n     bytes, of the data array to copy. If the 3rd argument is an\n     ArrayBuffer or Uint8Array and the 4th is not a positive integer\n     then the 4th defaults to the array's byteLength value.\n\n     If data is falsy then a file is created with dataLen bytes filled\n     with uninitialized data (whatever truncate() leaves there). If\n     data is not falsy then a file is created or truncated and it is\n     filled with the first dataLen bytes of the data source.\n\n     Throws if any arguments are invalid or if creating or writing to\n     the file fails.\n\n     Note that most VFSes do _not_ automatically create directory\n     parts of filenames, nor do all VFSes have a concept of\n     directories.  If the given filename is not valid for the given\n     VFS, an exception will be thrown. This function exists primarily\n     to assist in implementing file-upload capability, with the caveat\n     that clients must have some idea of the VFS into which they want\n     to upload and that VFS must support the operation.\n\n     VFS-specific notes:\n\n     - \"memdb\": results are undefined.\n\n     - \"kvvfs\": will fail with an I/O error due to strict internal\n       requirments of that VFS's xTruncate().\n\n     - \"unix\" and related: will use the WASM build's equivalent of the\n       POSIX I/O APIs. This will work so long as neither a specific\n       VFS nor the WASM environment imposes requirements which break it.\n\n     - \"opfs\": uses OPFS storage and creates directory parts of the\n       filename. It can only be used to import an SQLite3 database\n       file and will fail if given anything else.\n  */\n  capi.sqlite3_js_vfs_create_file = function(vfs, filename, data, dataLen){\n    config.warn(\"sqlite3_js_vfs_create_file() is deprecated and\",\n                \"should be avoided because it can lead to C-level crashes.\",\n                \"See its documentation for alternative options.\");\n    let pData;\n    if(data){\n      if(wasm.isPtr(data)){\n        pData = data;\n      }else if(data instanceof ArrayBuffer){\n        data = new Uint8Array(data);\n      }\n      if(data instanceof Uint8Array){\n        pData = wasm.allocFromTypedArray(data);\n        if(arguments.length<4 || !util.isInt32(dataLen) || dataLen<0){\n          dataLen = data.byteLength;\n        }\n      }else{\n        SQLite3Error.toss(\"Invalid 3rd argument type for sqlite3_js_vfs_create_file().\");\n      }\n    }else{\n       pData = 0;\n    }\n    if(!util.isInt32(dataLen) || dataLen<0){\n      wasm.dealloc(pData);\n      SQLite3Error.toss(\"Invalid 4th argument for sqlite3_js_vfs_create_file().\");\n    }\n    try{\n      const rc = wasm.sqlite3_wasm_vfs_create_file(vfs, filename, pData, dataLen);\n      if(rc) SQLite3Error.toss(\"Creation of file failed with sqlite3 result code\",\n                               capi.sqlite3_js_rc_str(rc));\n    }finally{\n       wasm.dealloc(pData);\n    }\n  };\n\n  /**\n     Converts SQL input from a variety of convenient formats\n     to plain strings.\n\n     If v is a string, it is returned as-is. If it is-a Array, its\n     join(\"\") result is returned.  If is is a Uint8Array, Int8Array,\n     or ArrayBuffer, it is assumed to hold UTF-8-encoded text and is\n     decoded to a string. If it looks like a WASM pointer,\n     wasm.cstrToJs(sql) is returned. Else undefined is returned.\n\n     Added in 3.44\n  */\n  capi.sqlite3_js_sql_to_string = (sql)=>{\n    if('string' === typeof sql){\n      return sql;\n    }\n    const x = flexibleString(v);\n    return x===v ? undefined : x;\n  }\n\n  if( util.isUIThread() ){\n    /* Features specific to the main window thread... */\n\n    /**\n       Internal helper for sqlite3_js_kvvfs_clear() and friends.\n       Its argument should be one of ('local','session',\"\").\n    */\n    const __kvvfsInfo = function(which){\n      const rc = Object.create(null);\n      rc.prefix = 'kvvfs-'+which;\n      rc.stores = [];\n      if('session'===which || \"\"===which) rc.stores.push(globalThis.sessionStorage);\n      if('local'===which || \"\"===which) rc.stores.push(globalThis.localStorage);\n      return rc;\n    };\n\n    /**\n       Clears all storage used by the kvvfs DB backend, deleting any\n       DB(s) stored there. Its argument must be either 'session',\n       'local', or \"\". In the first two cases, only sessionStorage\n       resp. localStorage is cleared. If it's an empty string (the\n       default) then both are cleared. Only storage keys which match\n       the pattern used by kvvfs are cleared: any other client-side\n       data are retained.\n\n       This function is only available in the main window thread.\n\n       Returns the number of entries cleared.\n    */\n    capi.sqlite3_js_kvvfs_clear = function(which=\"\"){\n      let rc = 0;\n      const kvinfo = __kvvfsInfo(which);\n      kvinfo.stores.forEach((s)=>{\n        const toRm = [] /* keys to remove */;\n        let i;\n        for( i = 0; i < s.length; ++i ){\n          const k = s.key(i);\n          if(k.startsWith(kvinfo.prefix)) toRm.push(k);\n        }\n        toRm.forEach((kk)=>s.removeItem(kk));\n        rc += toRm.length;\n      });\n      return rc;\n    };\n\n    /**\n       This routine guesses the approximate amount of\n       window.localStorage and/or window.sessionStorage in use by the\n       kvvfs database backend. Its argument must be one of\n       ('session', 'local', \"\"). In the first two cases, only\n       sessionStorage resp. localStorage is counted. If it's an empty\n       string (the default) then both are counted. Only storage keys\n       which match the pattern used by kvvfs are counted. The returned\n       value is the \"length\" value of every matching key and value,\n       noting that JavaScript stores each character in 2 bytes.\n\n       Note that the returned size is not authoritative from the\n       perspective of how much data can fit into localStorage and\n       sessionStorage, as the precise algorithms for determining\n       those limits are unspecified and may include per-entry\n       overhead invisible to clients.\n    */\n    capi.sqlite3_js_kvvfs_size = function(which=\"\"){\n      let sz = 0;\n      const kvinfo = __kvvfsInfo(which);\n      kvinfo.stores.forEach((s)=>{\n        let i;\n        for(i = 0; i < s.length; ++i){\n          const k = s.key(i);\n          if(k.startsWith(kvinfo.prefix)){\n            sz += k.length;\n            sz += s.getItem(k).length;\n          }\n        }\n      });\n      return sz * 2 /* because JS uses 2-byte char encoding */;\n    };\n\n  }/* main-window-only bits */\n\n  /**\n     Wraps all known variants of the C-side variadic\n     sqlite3_db_config().\n\n     Full docs: https://sqlite.org/c3ref/db_config.html\n\n     Returns capi.SQLITE_MISUSE if op is not a valid operation ID.\n\n     The variants which take `(int, int*)` arguments treat a\n     missing or falsy pointer argument as 0.\n  */\n  capi.sqlite3_db_config = function(pDb, op, ...args){\n    if(!this.s){\n      this.s = wasm.xWrap('sqlite3_wasm_db_config_s','int',\n                          ['sqlite3*', 'int', 'string:static']\n                          /* MAINDBNAME requires a static string */);\n      this.pii = wasm.xWrap('sqlite3_wasm_db_config_pii', 'int',\n                            ['sqlite3*', 'int', '*','int', 'int']);\n      this.ip = wasm.xWrap('sqlite3_wasm_db_config_ip','int',\n                           ['sqlite3*', 'int', 'int','*']);\n    }\n    switch(op){\n        case capi.SQLITE_DBCONFIG_ENABLE_FKEY:\n        case capi.SQLITE_DBCONFIG_ENABLE_TRIGGER:\n        case capi.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:\n        case capi.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:\n        case capi.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:\n        case capi.SQLITE_DBCONFIG_ENABLE_QPSG:\n        case capi.SQLITE_DBCONFIG_TRIGGER_EQP:\n        case capi.SQLITE_DBCONFIG_RESET_DATABASE:\n        case capi.SQLITE_DBCONFIG_DEFENSIVE:\n        case capi.SQLITE_DBCONFIG_WRITABLE_SCHEMA:\n        case capi.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:\n        case capi.SQLITE_DBCONFIG_DQS_DML:\n        case capi.SQLITE_DBCONFIG_DQS_DDL:\n        case capi.SQLITE_DBCONFIG_ENABLE_VIEW:\n        case capi.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:\n        case capi.SQLITE_DBCONFIG_TRUSTED_SCHEMA:\n        case capi.SQLITE_DBCONFIG_STMT_SCANSTATUS:\n        case capi.SQLITE_DBCONFIG_REVERSE_SCANORDER:\n          return this.ip(pDb, op, args[0], args[1] || 0);\n        case capi.SQLITE_DBCONFIG_LOOKASIDE:\n          return this.pii(pDb, op, args[0], args[1], args[2]);\n        case capi.SQLITE_DBCONFIG_MAINDBNAME:\n          return this.s(pDb, op, args[0]);\n        default:\n          return capi.SQLITE_MISUSE;\n    }\n  }.bind(Object.create(null));\n\n  /**\n     Given a (sqlite3_value*), this function attempts to convert it\n     to an equivalent JS value with as much fidelity as feasible and\n     return it.\n\n     By default it throws if it cannot determine any sensible\n     conversion. If passed a falsy second argument, it instead returns\n     `undefined` if no suitable conversion is found.  Note that there\n     is no conversion from SQL to JS which results in the `undefined`\n     value, so `undefined` has an unambiguous meaning here.  It will\n     always throw a WasmAllocError if allocating memory for a\n     conversion fails.\n\n     Caveats:\n\n     - It does not support sqlite3_value_to_pointer() conversions\n       because those require a type name string which this function\n       does not have and cannot sensibly be given at the level of the\n       API where this is used (e.g. automatically converting UDF\n       arguments). Clients using sqlite3_value_to_pointer(), and its\n       related APIs, will need to manage those themselves.\n  */\n  capi.sqlite3_value_to_js = function(pVal,throwIfCannotConvert=true){\n    let arg;\n    const valType = capi.sqlite3_value_type(pVal);\n    switch(valType){\n        case capi.SQLITE_INTEGER:\n          if(wasm.bigIntEnabled){\n            arg = capi.sqlite3_value_int64(pVal);\n            if(util.bigIntFitsDouble(arg)) arg = Number(arg);\n          }\n          else arg = capi.sqlite3_value_double(pVal)/*yes, double, for larger integers*/;\n          break;\n        case capi.SQLITE_FLOAT:\n          arg = capi.sqlite3_value_double(pVal);\n          break;\n        case capi.SQLITE_TEXT:\n          arg = capi.sqlite3_value_text(pVal);\n          break;\n        case capi.SQLITE_BLOB:{\n          const n = capi.sqlite3_value_bytes(pVal);\n          const pBlob = capi.sqlite3_value_blob(pVal);\n          if(n && !pBlob) sqlite3.WasmAllocError.toss(\n            \"Cannot allocate memory for blob argument of\",n,\"byte(s)\"\n          );\n          arg = n ? wasm.heap8u().slice(pBlob, pBlob + Number(n)) : null;\n          break;\n        }\n        case capi.SQLITE_NULL:\n          arg = null; break;\n        default:\n          if(throwIfCannotConvert){\n            toss3(capi.SQLITE_MISMATCH,\n                  \"Unhandled sqlite3_value_type():\",valType);\n          }\n          arg = undefined;\n    }\n    return arg;\n  };\n\n  /**\n     Requires a C-style array of `sqlite3_value*` objects and the\n     number of entries in that array. Returns a JS array containing\n     the results of passing each C array entry to\n     sqlite3_value_to_js(). The 3rd argument to this function is\n     passed on as the 2nd argument to that one.\n  */\n  capi.sqlite3_values_to_js = function(argc,pArgv,throwIfCannotConvert=true){\n    let i;\n    const tgt = [];\n    for(i = 0; i < argc; ++i){\n      /**\n         Curiously: despite ostensibly requiring 8-byte\n         alignment, the pArgv array is parcelled into chunks of\n         4 bytes (1 pointer each). The values those point to\n         have 8-byte alignment but the individual argv entries\n         do not.\n      */\n      tgt.push(capi.sqlite3_value_to_js(\n        wasm.peekPtr(pArgv + (wasm.ptrSizeof * i)),\n        throwIfCannotConvert\n      ));\n    }\n    return tgt;\n  };\n\n  /**\n     Calls either sqlite3_result_error_nomem(), if e is-a\n     WasmAllocError, or sqlite3_result_error(). In the latter case,\n     the second arugment is coerced to a string to create the error\n     message.\n\n     The first argument is a (sqlite3_context*). Returns void.\n     Does not throw.\n  */\n  capi.sqlite3_result_error_js = function(pCtx,e){\n    if(e instanceof WasmAllocError){\n      capi.sqlite3_result_error_nomem(pCtx);\n    }else{\n      /* Maintenance reminder: ''+e, rather than e.message,\n         will prefix e.message with e.name, so it includes\n         the exception's type name in the result. */;\n      capi.sqlite3_result_error(pCtx, ''+e, -1);\n    }\n  };\n\n  /**\n     This function passes its 2nd argument to one of the\n     sqlite3_result_xyz() routines, depending on the type of that\n     argument:\n\n     - If (val instanceof Error), this function passes it to\n       sqlite3_result_error_js().\n     - `null`: `sqlite3_result_null()`\n     - `boolean`: `sqlite3_result_int()` with a value of 0 or 1.\n     - `number`: `sqlite3_result_int()`, `sqlite3_result_int64()`, or\n       `sqlite3_result_double()`, depending on the range of the number\n       and whether or not int64 support is enabled.\n     - `bigint`: similar to `number` but will trigger an error if the\n       value is too big to store in an int64.\n     - `string`: `sqlite3_result_text()`\n     - Uint8Array or Int8Array or ArrayBuffer: `sqlite3_result_blob()`\n     - `undefined`: is a no-op provided to simplify certain use cases.\n\n     Anything else triggers `sqlite3_result_error()` with a\n     description of the problem.\n\n     The first argument to this function is a `(sqlite3_context*)`.\n     Returns void. Does not throw.\n  */\n  capi.sqlite3_result_js = function(pCtx,val){\n    if(val instanceof Error){\n      capi.sqlite3_result_error_js(pCtx, val);\n      return;\n    }\n    try{\n      switch(typeof val) {\n          case 'undefined':\n            /* This is a no-op. This routine originated in the create_function()\n               family of APIs and in that context, passing in undefined indicated\n               that the caller was responsible for calling sqlite3_result_xxx()\n               (if needed). */\n            break;\n          case 'boolean':\n            capi.sqlite3_result_int(pCtx, val ? 1 : 0);\n            break;\n          case 'bigint':\n            if(util.bigIntFits32(val)){\n              capi.sqlite3_result_int(pCtx, Number(val));\n            }else if(util.bigIntFitsDouble(val)){\n              capi.sqlite3_result_double(pCtx, Number(val));\n            }else if(wasm.bigIntEnabled){\n              if(util.bigIntFits64(val)) capi.sqlite3_result_int64(pCtx, val);\n              else toss3(\"BigInt value\",val.toString(),\"is too BigInt for int64.\");\n            }else{\n              toss3(\"BigInt value\",val.toString(),\"is too BigInt.\");\n            }\n            break;\n          case 'number': {\n            let f;\n            if(util.isInt32(val)){\n              f = capi.sqlite3_result_int;\n            }else if(wasm.bigIntEnabled\n                     && Number.isInteger(val)\n                     && util.bigIntFits64(BigInt(val))){\n              f = capi.sqlite3_result_int64;\n            }else{\n              f = capi.sqlite3_result_double;\n            }\n            f(pCtx, val);\n            break;\n          }\n          case 'string': {\n            const [p, n] = wasm.allocCString(val,true);\n            capi.sqlite3_result_text(pCtx, p, n, capi.SQLITE_WASM_DEALLOC);\n            break;\n          }\n          case 'object':\n            if(null===val/*yes, typeof null === 'object'*/) {\n              capi.sqlite3_result_null(pCtx);\n              break;\n            }else if(util.isBindableTypedArray(val)){\n              const pBlob = wasm.allocFromTypedArray(val);\n              capi.sqlite3_result_blob(\n                pCtx, pBlob, val.byteLength,\n                capi.SQLITE_WASM_DEALLOC\n              );\n              break;\n            }\n            // else fall through\n          default:\n            toss3(\"Don't not how to handle this UDF result value:\",(typeof val), val);\n      }\n    }catch(e){\n      capi.sqlite3_result_error_js(pCtx, e);\n    }\n  };\n\n  /**\n     Returns the result sqlite3_column_value(pStmt,iCol) passed to\n     sqlite3_value_to_js(). The 3rd argument of this function is\n     ignored by this function except to pass it on as the second\n     argument of sqlite3_value_to_js(). If the sqlite3_column_value()\n     returns NULL (e.g. because the column index is out of range),\n     this function returns `undefined`, regardless of the 3rd\n     argument. If the 3rd argument is falsy and conversion fails,\n     `undefined` will be returned.\n\n     Note that sqlite3_column_value() returns an \"unprotected\" value\n     object, but in a single-threaded environment (like this one)\n     there is no distinction between protected and unprotected values.\n  */\n  capi.sqlite3_column_js = function(pStmt, iCol, throwIfCannotConvert=true){\n    const v = capi.sqlite3_column_value(pStmt, iCol);\n    return (0===v) ? undefined : capi.sqlite3_value_to_js(v, throwIfCannotConvert);\n  };\n\n  /**\n     Internal impl of sqlite3_preupdate_new/old_js() and\n     sqlite3changeset_new/old_js().\n  */\n  const __newOldValue = function(pObj, iCol, impl){\n    impl = capi[impl];\n    if(!this.ptr) this.ptr = wasm.allocPtr();\n    else wasm.pokePtr(this.ptr, 0);\n    const rc = impl(pObj, iCol, this.ptr);\n    if(rc) return SQLite3Error.toss(rc,arguments[2]+\"() failed with code \"+rc);\n    const pv = wasm.peekPtr(this.ptr);\n    return pv ? capi.sqlite3_value_to_js( pv, true ) : undefined;\n  }.bind(Object.create(null));\n\n  /**\n     A wrapper around sqlite3_preupdate_new() which fetches the\n     sqlite3_value at the given index and returns the result of\n     passing it to sqlite3_value_to_js(). Throws on error.\n  */\n  capi.sqlite3_preupdate_new_js =\n    (pDb, iCol)=>__newOldValue(pDb, iCol, 'sqlite3_preupdate_new');\n\n  /**\n     The sqlite3_preupdate_old() counterpart of\n     sqlite3_preupdate_new_js(), with an identical interface.\n  */\n  capi.sqlite3_preupdate_old_js =\n    (pDb, iCol)=>__newOldValue(pDb, iCol, 'sqlite3_preupdate_old');\n\n  /**\n     A wrapper around sqlite3changeset_new() which fetches the\n     sqlite3_value at the given index and returns the result of\n     passing it to sqlite3_value_to_js(). Throws on error.\n\n     If sqlite3changeset_new() succeeds but has no value to report,\n     this function returns the undefined value, noting that undefined\n     is a valid conversion from an `sqlite3_value`, so is unambiguous.\n  */\n  capi.sqlite3changeset_new_js =\n    (pChangesetIter, iCol) => __newOldValue(pChangesetIter, iCol,\n                                            'sqlite3changeset_new');\n\n  /**\n     The sqlite3changeset_old() counterpart of\n     sqlite3changeset_new_js(), with an identical interface.\n  */\n  capi.sqlite3changeset_old_js =\n    (pChangesetIter, iCol)=>__newOldValue(pChangesetIter, iCol,\n                                          'sqlite3changeset_old');\n\n  /* The remainder of the API will be set up in later steps. */\n  const sqlite3 = {\n    WasmAllocError: WasmAllocError,\n    SQLite3Error: SQLite3Error,\n    capi,\n    util,\n    wasm,\n    config,\n    /**\n       Holds the version info of the sqlite3 source tree from which\n       the generated sqlite3-api.js gets built. Note that its version\n       may well differ from that reported by sqlite3_libversion(), but\n       that should be considered a source file mismatch, as the JS and\n       WASM files are intended to be built and distributed together.\n\n       This object is initially a placeholder which gets replaced by a\n       build-generated object.\n    */\n    version: Object.create(null),\n\n    /**\n       The library reserves the 'client' property for client-side use\n       and promises to never define a property with this name nor to\n       ever rely on specific contents of it. It makes no such guarantees\n       for other properties.\n    */\n    client: undefined,\n\n    /**\n       This function is not part of the public interface, but a\n       piece of internal bootstrapping infrastructure.\n\n       Performs any optional asynchronous library-level initialization\n       which might be required. This function returns a Promise which\n       resolves to the sqlite3 namespace object. Any error in the\n       async init will be fatal to the init as a whole, but init\n       routines are themselves welcome to install dummy catch()\n       handlers which are not fatal if their failure should be\n       considered non-fatal. If called more than once, the second and\n       subsequent calls are no-ops which return a pre-resolved\n       Promise.\n\n       Ideally this function is called as part of the Promise chain\n       which handles the loading and bootstrapping of the API.  If not\n       then it must be called by client-level code, which must not use\n       the library until the returned promise resolves.\n\n       If called multiple times it will return the same promise on\n       subsequent calls. The current build setup precludes that\n       possibility, so it's only a hypothetical problem if/when this\n       function ever needs to be invoked by clients.\n\n       In Emscripten-based builds, this function is called\n       automatically and deleted from this object.\n    */\n    asyncPostInit: async function ff(){\n      if(ff.isReady instanceof Promise) return ff.isReady;\n      let lia = sqlite3ApiBootstrap.initializersAsync;\n      delete sqlite3ApiBootstrap.initializersAsync;\n      const postInit = async ()=>{\n        if(!sqlite3.__isUnderTest){\n          /* Delete references to internal-only APIs which are used by\n             some initializers. Retain them when running in test mode\n             so that we can add tests for them. */\n          delete sqlite3.util;\n          /* It's conceivable that we might want to expose\n             StructBinder to client-side code, but it's only useful if\n             clients build their own sqlite3.wasm which contains their\n             own C struct types. */\n          delete sqlite3.StructBinder;\n        }\n        return sqlite3;\n      };\n      const catcher = (e)=>{\n        config.error(\"an async sqlite3 initializer failed:\",e);\n        throw e;\n      };\n      if(!lia || !lia.length){\n        return ff.isReady = postInit().catch(catcher);\n      }\n      lia = lia.map((f)=>{\n        return (f instanceof Function) ? async x=>f(sqlite3) : f;\n      });\n      lia.push(postInit);\n      let p = Promise.resolve(sqlite3);\n      while(lia.length) p = p.then(lia.shift());\n      return ff.isReady = p.catch(catcher);\n    },\n    /**\n       scriptInfo ideally gets injected into this object by the\n       infrastructure which assembles the JS/WASM module. It contains\n       state which must be collected before sqlite3ApiBootstrap() can\n       be declared. It is not necessarily available to any\n       sqlite3ApiBootstrap.initializers but \"should\" be in place (if\n       it's added at all) by the time that\n       sqlite3ApiBootstrap.initializersAsync is processed.\n\n       This state is not part of the public API, only intended for use\n       with the sqlite3 API bootstrapping and wasm-loading process.\n    */\n    scriptInfo: undefined\n  };\n  try{\n    sqlite3ApiBootstrap.initializers.forEach((f)=>{\n      f(sqlite3);\n    });\n  }catch(e){\n    /* If we don't report this here, it can get completely swallowed\n       up and disappear into the abyss of Promises and Workers. */\n    console.error(\"sqlite3 bootstrap initializer threw:\",e);\n    throw e;\n  }\n  delete sqlite3ApiBootstrap.initializers;\n  sqlite3ApiBootstrap.sqlite3 = sqlite3;\n  return sqlite3;\n}/*sqlite3ApiBootstrap()*/;\n/**\n  globalThis.sqlite3ApiBootstrap.initializers is an internal detail used by\n  the various pieces of the sqlite3 API's amalgamation process. It\n  must not be modified by client code except when plugging such code\n  into the amalgamation process.\n\n  Each component of the amalgamation is expected to append a function\n  to this array. When sqlite3ApiBootstrap() is called for the first\n  time, each such function will be called (in their appended order)\n  and passed the sqlite3 namespace object, into which they can install\n  their features (noting that most will also require that certain\n  features alread have been installed).  At the end of that process,\n  this array is deleted.\n\n  Note that the order of insertion into this array is significant for\n  some pieces. e.g. sqlite3.capi and sqlite3.wasm cannot be fully\n  utilized until the whwasmutil.js part is plugged in via\n  sqlite3-api-glue.js.\n*/\nglobalThis.sqlite3ApiBootstrap.initializers = [];\n/**\n  globalThis.sqlite3ApiBootstrap.initializersAsync is an internal detail\n  used by the sqlite3 API's amalgamation process. It must not be\n  modified by client code except when plugging such code into the\n  amalgamation process.\n\n  The counterpart of globalThis.sqlite3ApiBootstrap.initializers,\n  specifically for initializers which are asynchronous. All entries in\n  this list must be either async functions, non-async functions which\n  return a Promise, or a Promise. Each function in the list is called\n  with the sqlite3 object as its only argument.\n\n  The resolved value of any Promise is ignored and rejection will kill\n  the asyncPostInit() process (at an indeterminate point because all\n  of them are run asynchronously in parallel).\n\n  This list is not processed until the client calls\n  sqlite3.asyncPostInit(). This means, for example, that intializers\n  added to globalThis.sqlite3ApiBootstrap.initializers may push entries to\n  this list.\n*/\nglobalThis.sqlite3ApiBootstrap.initializersAsync = [];\n/**\n   Client code may assign sqlite3ApiBootstrap.defaultConfig an\n   object-type value before calling sqlite3ApiBootstrap() (without\n   arguments) in order to tell that call to use this object as its\n   default config value. The intention of this is to provide\n   downstream clients with a reasonably flexible approach for plugging in\n   an environment-suitable configuration without having to define a new\n   global-scope symbol.\n*/\nglobalThis.sqlite3ApiBootstrap.defaultConfig = Object.create(null);\n/**\n   Placeholder: gets installed by the first call to\n   globalThis.sqlite3ApiBootstrap(). However, it is recommended that the\n   caller of sqlite3ApiBootstrap() capture its return value and delete\n   globalThis.sqlite3ApiBootstrap after calling it. It returns the same\n   value which will be stored here.\n*/\nglobalThis.sqlite3ApiBootstrap.sqlite3 = undefined;\n/* END FILE: api/sqlite3-api-prologue.js */\n/* BEGIN FILE: common/whwasmutil.js */\n/**\n  2022-07-08\n\n  The author disclaims copyright to this source code.  In place of a\n  legal notice, here is a blessing:\n\n  *   May you do good and not evil.\n  *   May you find forgiveness for yourself and forgive others.\n  *   May you share freely, never taking more than you give.\n\n  ***********************************************************************\n\n  The whwasmutil is developed in conjunction with the Jaccwabyt\n  project:\n\n  https://fossil.wanderinghorse.net/r/jaccwabyt\n\n  and sqlite3:\n\n  https://sqlite.org\n\n  This file is kept in sync between both of those trees.\n\n  Maintenance reminder: If you're reading this in a tree other than\n  one of those listed above, note that this copy may be replaced with\n  upstream copies of that one from time to time. Thus the code\n  installed by this function \"should not\" be edited outside of those\n  projects, else it risks getting overwritten.\n*/\n/**\n   This function is intended to simplify porting around various bits\n   of WASM-related utility code from project to project.\n\n   The primary goal of this code is to replace, where possible,\n   Emscripten-generated glue code with equivalent utility code which\n   can be used in arbitrary WASM environments built with toolchains\n   other than Emscripten. As of this writing, this code is capable of\n   acting as a replacement for Emscripten's generated glue code\n   _except_ that the latter installs handlers for Emscripten-provided\n   APIs such as its \"FS\" (virtual filesystem) API. Loading of such\n   things still requires using Emscripten's glue, but the post-load\n   utility APIs provided by this code are still usable as replacements\n   for their sub-optimally-documented Emscripten counterparts.\n\n   Intended usage:\n\n   ```\n   globalThis.WhWasmUtilInstaller(appObject);\n   delete globalThis.WhWasmUtilInstaller;\n   ```\n\n   Its global-scope symbol is intended only to provide an easy way to\n   make it available to 3rd-party scripts and \"should\" be deleted\n   after calling it. That symbols is _not_ used within the library.\n\n   Forewarning: this API explicitly targets only browser\n   environments. If a given non-browser environment has the\n   capabilities needed for a given feature (e.g. TextEncoder), great,\n   but it does not go out of its way to account for them and does not\n   provide compatibility crutches for them.\n\n   It currently offers alternatives to the following\n   Emscripten-generated APIs:\n\n   - OPTIONALLY memory allocation, but how this gets imported is\n     environment-specific.  Most of the following features only work\n     if allocation is available.\n\n   - WASM-exported \"indirect function table\" access and\n     manipulation. e.g.  creating new WASM-side functions using JS\n     functions, analog to Emscripten's addFunction() and\n     uninstallFunction() but slightly different.\n\n   - Get/set specific heap memory values, analog to Emscripten's\n     getValue() and setValue().\n\n   - String length counting in UTF-8 bytes (C-style and JS strings).\n\n   - JS string to C-string conversion and vice versa, analog to\n     Emscripten's stringToUTF8Array() and friends, but with slighter\n     different interfaces.\n\n   - JS string to Uint8Array conversion, noting that browsers actually\n     already have this built in via TextEncoder.\n\n   - \"Scoped\" allocation, such that allocations made inside of a given\n     explicit scope will be automatically cleaned up when the scope is\n     closed. This is fundamentally similar to Emscripten's\n     stackAlloc() and friends but uses the heap instead of the stack\n     because access to the stack requires C code.\n\n   - Create JS wrappers for WASM functions, analog to Emscripten's\n     ccall() and cwrap() functions, except that the automatic\n     conversions for function arguments and return values can be\n     easily customized by the client by assigning custom function\n     signature type names to conversion functions. Essentially,\n     it's ccall() and cwrap() on steroids.\n\n   How to install...\n\n   Passing an object to this function will install the functionality\n   into that object. Afterwards, client code \"should\" delete the global\n   symbol.\n\n   This code requires that the target object have the following\n   properties, noting that they needn't be available until the first\n   time one of the installed APIs is used (as opposed to when this\n   function is called) except where explicitly noted:\n\n   - `exports` must be a property of the target object OR a property\n     of `target.instance` (a WebAssembly.Module instance) and it must\n     contain the symbols exported by the WASM module associated with\n     this code. In an Enscripten environment it must be set to\n     `Module['asm']` (versions <=3.1.43) or `wasmExports` (versions\n     >=3.1.44). The exports object must contain a minimum of the\n     following symbols:\n\n     - `memory`: a WebAssembly.Memory object representing the WASM\n       memory. _Alternately_, the `memory` property can be set as\n       `target.memory`, in particular if the WASM heap memory is\n       initialized in JS an _imported_ into WASM, as opposed to being\n       initialized in WASM and exported to JS.\n\n     - `__indirect_function_table`: the WebAssembly.Table object which\n       holds WASM-exported functions. This API does not strictly\n       require that the table be able to grow but it will throw if its\n       `installFunction()` is called and the table cannot grow.\n\n   In order to simplify downstream usage, if `target.exports` is not\n   set when this is called then a property access interceptor\n   (read-only, configurable, enumerable) gets installed as `exports`\n   which resolves to `target.instance.exports`, noting that the latter\n   property need not exist until the first time `target.exports` is\n   accessed.\n\n   Some APIs _optionally_ make use of the `bigIntEnabled` property of\n   the target object. It \"should\" be set to true if the WASM\n   environment is compiled with BigInt support, else it must be\n   false. If it is false, certain BigInt-related features will trigger\n   an exception if invoked. This property, if not set when this is\n   called, will get a default value of true only if the BigInt64Array\n   constructor is available, else it will default to false. Note that\n   having the BigInt type is not sufficient for full int64 integration\n   with WASM: the target WASM file must also have been built with\n   that support. In Emscripten that's done using the `-sWASM_BIGINT`\n   flag.\n\n   Some optional APIs require that the target have the following\n   methods:\n\n   - 'alloc()` must behave like C's `malloc()`, allocating N bytes of\n     memory and returning its pointer. In Emscripten this is\n     conventionally made available via `Module['_malloc']`. This API\n     requires that the alloc routine throw on allocation error, as\n     opposed to returning null or 0.\n\n   - 'dealloc()` must behave like C's `free()`, accepting either a\n     pointer returned from its allocation counterpart or the values\n     null/0 (for which it must be a no-op). allocating N bytes of\n     memory and returning its pointer. In Emscripten this is\n     conventionally made available via `Module['_free']`.\n\n   APIs which require allocation routines are explicitly documented as\n   such and/or have \"alloc\" in their names.\n\n   This code is developed and maintained in conjunction with the\n   Jaccwabyt project:\n\n   https://fossil.wanderinghorse.net/r/jaccwabbyt\n\n   More specifically:\n\n   https://fossil.wanderinghorse.net/r/jaccwabbyt/file/common/whwasmutil.js\n*/\nglobalThis.WhWasmUtilInstaller = function(target){\n  'use strict';\n  if(undefined===target.bigIntEnabled){\n    target.bigIntEnabled = !!globalThis['BigInt64Array'];\n  }\n\n  /** Throws a new Error, the message of which is the concatenation of\n      all args with a space between each. */\n  const toss = (...args)=>{throw new Error(args.join(' '))};\n\n  if(!target.exports){\n    Object.defineProperty(target, 'exports', {\n      enumerable: true, configurable: true,\n      get: ()=>(target.instance && target.instance.exports)\n    });\n  }\n\n  /*********\n    alloc()/dealloc() auto-install...\n\n    This would be convenient but it can also cause us to pick up\n    malloc() even when the client code is using a different exported\n    allocator (who, me?), which is bad. malloc() may be exported even\n    if we're not explicitly using it and overriding the malloc()\n    function, linking ours first, is not always feasible when using a\n    malloc() proxy, as it can lead to recursion and stack overflow\n    (who, me?). So... we really need the downstream code to set up\n    target.alloc/dealloc() itself.\n  ******/\n  /******\n  if(target.exports){\n    //Maybe auto-install alloc()/dealloc()...\n    if(!target.alloc && target.exports.malloc){\n      target.alloc = function(n){\n        const m = this(n);\n        return m || toss(\"Allocation of\",n,\"byte(s) failed.\");\n      }.bind(target.exports.malloc);\n    }\n\n    if(!target.dealloc && target.exports.free){\n      target.dealloc = function(ptr){\n        if(ptr) this(ptr);\n      }.bind(target.exports.free);\n    }\n  }*******/\n\n  /**\n     Pointers in WASM are currently assumed to be 32-bit, but someday\n     that will certainly change.\n  */\n  const ptrIR = target.pointerIR || 'i32';\n  const ptrSizeof = target.ptrSizeof =\n        ('i32'===ptrIR ? 4\n         : ('i64'===ptrIR\n            ? 8 : toss(\"Unhandled ptrSizeof:\",ptrIR)));\n  /** Stores various cached state. */\n  const cache = Object.create(null);\n  /** Previously-recorded size of cache.memory.buffer, noted so that\n      we can recreate the view objects if the heap grows. */\n  cache.heapSize = 0;\n  /** WebAssembly.Memory object extracted from target.memory or\n      target.exports.memory the first time heapWrappers() is\n      called. */\n  cache.memory = null;\n  /** uninstallFunction() puts table indexes in here for reuse and\n      installFunction() extracts them. */\n  cache.freeFuncIndexes = [];\n  /**\n     Used by scopedAlloc() and friends.\n  */\n  cache.scopedAlloc = [];\n\n  cache.utf8Decoder = new TextDecoder();\n  cache.utf8Encoder = new TextEncoder('utf-8');\n\n  /**\n     For the given IR-like string in the set ('i8', 'i16', 'i32',\n     'f32', 'float', 'i64', 'f64', 'double', '*'), or any string value\n     ending in '*', returns the sizeof for that value\n     (target.ptrSizeof in the latter case). For any other value, it\n     returns the undefined value.\n  */\n  target.sizeofIR = (n)=>{\n    switch(n){\n        case 'i8': return 1;\n        case 'i16': return 2;\n        case 'i32': case 'f32': case 'float': return 4;\n        case 'i64': case 'f64': case 'double': return 8;\n        case '*': return ptrSizeof;\n        default:\n          return (''+n).endsWith('*') ? ptrSizeof : undefined;\n    }\n  };\n\n  /**\n     If (cache.heapSize !== cache.memory.buffer.byteLength), i.e. if\n     the heap has grown since the last call, updates cache.HEAPxyz.\n     Returns the cache object.\n  */\n  const heapWrappers = function(){\n    if(!cache.memory){\n      cache.memory = (target.memory instanceof WebAssembly.Memory)\n        ? target.memory : target.exports.memory;\n    }else if(cache.heapSize === cache.memory.buffer.byteLength){\n      return cache;\n    }\n    // heap is newly-acquired or has been resized....\n    const b = cache.memory.buffer;\n    cache.HEAP8 = new Int8Array(b); cache.HEAP8U = new Uint8Array(b);\n    cache.HEAP16 = new Int16Array(b); cache.HEAP16U = new Uint16Array(b);\n    cache.HEAP32 = new Int32Array(b); cache.HEAP32U = new Uint32Array(b);\n    if(target.bigIntEnabled){\n      cache.HEAP64 = new BigInt64Array(b); cache.HEAP64U = new BigUint64Array(b);\n    }\n    cache.HEAP32F = new Float32Array(b); cache.HEAP64F = new Float64Array(b);\n    cache.heapSize = b.byteLength;\n    return cache;\n  };\n\n  /** Convenience equivalent of this.heapForSize(8,false). */\n  target.heap8 = ()=>heapWrappers().HEAP8;\n\n  /** Convenience equivalent of this.heapForSize(8,true). */\n  target.heap8u = ()=>heapWrappers().HEAP8U;\n\n  /** Convenience equivalent of this.heapForSize(16,false). */\n  target.heap16 = ()=>heapWrappers().HEAP16;\n\n  /** Convenience equivalent of this.heapForSize(16,true). */\n  target.heap16u = ()=>heapWrappers().HEAP16U;\n\n  /** Convenience equivalent of this.heapForSize(32,false). */\n  target.heap32 = ()=>heapWrappers().HEAP32;\n\n  /** Convenience equivalent of this.heapForSize(32,true). */\n  target.heap32u = ()=>heapWrappers().HEAP32U;\n\n  /**\n     Requires n to be one of:\n\n     - integer 8, 16, or 32.\n     - A integer-type TypedArray constructor: Int8Array, Int16Array,\n     Int32Array, or their Uint counterparts.\n\n     If this.bigIntEnabled is true, it also accepts the value 64 or a\n     BigInt64Array/BigUint64Array, else it throws if passed 64 or one\n     of those constructors.\n\n     Returns an integer-based TypedArray view of the WASM heap\n     memory buffer associated with the given block size. If passed\n     an integer as the first argument and unsigned is truthy then\n     the \"U\" (unsigned) variant of that view is returned, else the\n     signed variant is returned. If passed a TypedArray value, the\n     2nd argument is ignored. Note that Float32Array and\n     Float64Array views are not supported by this function.\n\n     Note that growth of the heap will invalidate any references to\n     this heap, so do not hold a reference longer than needed and do\n     not use a reference after any operation which may\n     allocate. Instead, re-fetch the reference by calling this\n     function again.\n\n     Throws if passed an invalid n.\n\n     Pedantic side note: the name \"heap\" is a bit of a misnomer. In a\n     WASM environment, the stack and heap memory are all accessed via\n     the same view(s) of the memory.\n  */\n  target.heapForSize = function(n,unsigned = true){\n    let ctor;\n    const c = (cache.memory && cache.heapSize === cache.memory.buffer.byteLength)\n          ? cache : heapWrappers();\n    switch(n){\n        case Int8Array: return c.HEAP8; case Uint8Array: return c.HEAP8U;\n        case Int16Array: return c.HEAP16; case Uint16Array: return c.HEAP16U;\n        case Int32Array: return c.HEAP32; case Uint32Array: return c.HEAP32U;\n        case 8:  return unsigned ? c.HEAP8U : c.HEAP8;\n        case 16: return unsigned ? c.HEAP16U : c.HEAP16;\n        case 32: return unsigned ? c.HEAP32U : c.HEAP32;\n        case 64:\n          if(c.HEAP64) return unsigned ? c.HEAP64U : c.HEAP64;\n          break;\n        default:\n          if(target.bigIntEnabled){\n            if(n===globalThis['BigUint64Array']) return c.HEAP64U;\n            else if(n===globalThis['BigInt64Array']) return c.HEAP64;\n            break;\n          }\n    }\n    toss(\"Invalid heapForSize() size: expecting 8, 16, 32,\",\n         \"or (if BigInt is enabled) 64.\");\n  };\n\n  /**\n     Returns the WASM-exported \"indirect function table.\"\n  */\n  target.functionTable = function(){\n    return target.exports.__indirect_function_table;\n    /** -----------------^^^^^ \"seems\" to be a standardized export name.\n        From Emscripten release notes from 2020-09-10:\n        - Use `__indirect_function_table` as the import name for the\n        table, which is what LLVM does.\n    */\n  };\n\n  /**\n     Given a function pointer, returns the WASM function table entry\n     if found, else returns a falsy value: undefined if fptr is out of\n     range or null if it's in range but the table entry is empty.\n  */\n  target.functionEntry = function(fptr){\n    const ft = target.functionTable();\n    return fptr < ft.length ? ft.get(fptr) : undefined;\n  };\n\n  /**\n     Creates a WASM function which wraps the given JS function and\n     returns the JS binding of that WASM function. The signature\n     string must be the Jaccwabyt-format or Emscripten\n     addFunction()-format function signature string. In short: in may\n     have one of the following formats:\n\n     - Emscripten: `\"x...\"`, where the first x is a letter representing\n       the result type and subsequent letters represent the argument\n       types. Functions with no arguments have only a single\n       letter. See below.\n\n     - Jaccwabyt: `\"x(...)\"` where `x` is the letter representing the\n       result type and letters in the parens (if any) represent the\n       argument types. Functions with no arguments use `x()`. See\n       below.\n\n     Supported letters:\n\n     - `i` = int32\n     - `p` = int32 (\"pointer\")\n     - `j` = int64\n     - `f` = float32\n     - `d` = float64\n     - `v` = void, only legal for use as the result type\n\n     It throws if an invalid signature letter is used.\n\n     Jaccwabyt-format signatures support some additional letters which\n     have no special meaning here but (in this context) act as aliases\n     for other letters:\n\n     - `s`, `P`: same as `p`\n\n     Sidebar: this code is developed together with Jaccwabyt, thus the\n     support for its signature format.\n\n     The arguments may be supplied in either order: (func,sig) or\n     (sig,func).\n  */\n  target.jsFuncToWasm = function f(func, sig){\n    /** Attribution: adapted up from Emscripten-generated glue code,\n        refactored primarily for efficiency's sake, eliminating\n        call-local functions and superfluous temporary arrays. */\n    if(!f._){/*static init...*/\n      f._ = {\n        // Map of signature letters to type IR values\n        sigTypes: Object.assign(Object.create(null),{\n          i: 'i32', p: 'i32', P: 'i32', s: 'i32',\n          j: 'i64', f: 'f32', d: 'f64'\n        }),\n        // Map of type IR values to WASM type code values\n        typeCodes: Object.assign(Object.create(null),{\n          f64: 0x7c, f32: 0x7d, i64: 0x7e, i32: 0x7f\n        }),\n        /** Encodes n, which must be <2^14 (16384), into target array\n            tgt, as a little-endian value, using the given method\n            ('push' or 'unshift'). */\n        uleb128Encode: function(tgt, method, n){\n          if(n<128) tgt[method](n);\n          else tgt[method]( (n % 128) | 128, n>>7);\n        },\n        /** Intentionally-lax pattern for Jaccwabyt-format function\n            pointer signatures, the intent of which is simply to\n            distinguish them from Emscripten-format signatures. The\n            downstream checks are less lax. */\n        rxJSig: /^(\\w)\\((\\w*)\\)$/,\n        /** Returns the parameter-value part of the given signature\n            string. */\n        sigParams: function(sig){\n          const m = f._.rxJSig.exec(sig);\n          return m ? m[2] : sig.substr(1);\n        },\n        /** Returns the IR value for the given letter or throws\n            if the letter is invalid. */\n        letterType: (x)=>f._.sigTypes[x] || toss(\"Invalid signature letter:\",x),\n        /** Returns an object describing the result type and parameter\n            type(s) of the given function signature, or throws if the\n            signature is invalid. */\n        /******** // only valid for use with the WebAssembly.Function ctor, which\n                  // is not yet documented on MDN.\n        sigToWasm: function(sig){\n          const rc = {parameters:[], results: []};\n          if('v'!==sig[0]) rc.results.push(f.sigTypes(sig[0]));\n          for(const x of f._.sigParams(sig)){\n            rc.parameters.push(f._.typeCodes(x));\n          }\n          return rc;\n        },************/\n        /** Pushes the WASM data type code for the given signature\n            letter to the given target array. Throws if letter is\n            invalid. */\n        pushSigType: (dest, letter)=>dest.push(f._.typeCodes[f._.letterType(letter)])\n      };\n    }/*static init*/\n    if('string'===typeof func){\n      const x = sig;\n      sig = func;\n      func = x;\n    }\n    const sigParams = f._.sigParams(sig);\n    const wasmCode = [0x01/*count: 1*/, 0x60/*function*/];\n    f._.uleb128Encode(wasmCode, 'push', sigParams.length);\n    for(const x of sigParams) f._.pushSigType(wasmCode, x);\n    if('v'===sig[0]) wasmCode.push(0);\n    else{\n      wasmCode.push(1);\n      f._.pushSigType(wasmCode, sig[0]);\n    }\n    f._.uleb128Encode(wasmCode, 'unshift', wasmCode.length)/* type section length */;\n    wasmCode.unshift(\n      0x00, 0x61, 0x73, 0x6d, /* magic: \"\\0asm\" */\n      0x01, 0x00, 0x00, 0x00, /* version: 1 */\n      0x01 /* type section code */\n    );\n    wasmCode.push(\n      /* import section: */ 0x02, 0x07,\n      /* (import \"e\" \"f\" (func 0 (type 0))): */\n      0x01, 0x01, 0x65, 0x01, 0x66, 0x00, 0x00,\n      /* export section: */ 0x07, 0x05,\n      /* (export \"f\" (func 0 (type 0))): */\n      0x01, 0x01, 0x66, 0x00, 0x00\n    );\n    return (new WebAssembly.Instance(\n      new WebAssembly.Module(new Uint8Array(wasmCode)), {\n        e: { f: func }\n      })).exports['f'];\n  }/*jsFuncToWasm()*/;\n\n  /**\n     Documented as target.installFunction() except for the 3rd\n     argument: if truthy, the newly-created function pointer\n     is stashed in the current scoped-alloc scope and will be\n     cleaned up at the matching scopedAllocPop(), else it\n     is not stashed there.\n   */\n  const __installFunction = function f(func, sig, scoped){\n    if(scoped && !cache.scopedAlloc.length){\n      toss(\"No scopedAllocPush() scope is active.\");\n    }\n    if('string'===typeof func){\n      const x = sig;\n      sig = func;\n      func = x;\n    }\n    if('string'!==typeof sig || !(func instanceof Function)){\n      toss(\"Invalid arguments: expecting (function,signature) \"+\n           \"or (signature,function).\");\n    }\n    const ft = target.functionTable();\n    const oldLen = ft.length;\n    let ptr;\n    while(cache.freeFuncIndexes.length){\n      ptr = cache.freeFuncIndexes.pop();\n      if(ft.get(ptr)){ /* Table was modified via a different API */\n        ptr = null;\n        continue;\n      }else{\n        break;\n      }\n    }\n    if(!ptr){\n      ptr = oldLen;\n      ft.grow(1);\n    }\n    try{\n      /*this will only work if func is a WASM-exported function*/\n      ft.set(ptr, func);\n      if(scoped){\n        cache.scopedAlloc[cache.scopedAlloc.length-1].push(ptr);\n      }\n      return ptr;\n    }catch(e){\n      if(!(e instanceof TypeError)){\n        if(ptr===oldLen) cache.freeFuncIndexes.push(oldLen);\n        throw e;\n      }\n    }\n    // It's not a WASM-exported function, so compile one...\n    try {\n      const fptr = target.jsFuncToWasm(func, sig);\n      ft.set(ptr, fptr);\n      if(scoped){\n        cache.scopedAlloc[cache.scopedAlloc.length-1].push(ptr);\n      }\n    }catch(e){\n      if(ptr===oldLen) cache.freeFuncIndexes.push(oldLen);\n      throw e;\n    }\n    return ptr;\n  };\n\n  /**\n     Expects a JS function and signature, exactly as for\n     this.jsFuncToWasm(). It uses that function to create a\n     WASM-exported function, installs that function to the next\n     available slot of this.functionTable(), and returns the\n     function's index in that table (which acts as a pointer to that\n     function). The returned pointer can be passed to\n     uninstallFunction() to uninstall it and free up the table slot for\n     reuse.\n\n     If passed (string,function) arguments then it treats the first\n     argument as the signature and second as the function.\n\n     As a special case, if the passed-in function is a WASM-exported\n     function then the signature argument is ignored and func is\n     installed as-is, without requiring re-compilation/re-wrapping.\n\n     This function will propagate an exception if\n     WebAssembly.Table.grow() throws or this.jsFuncToWasm() throws.\n     The former case can happen in an Emscripten-compiled\n     environment when building without Emscripten's\n     `-sALLOW_TABLE_GROWTH` flag.\n\n     Sidebar: this function differs from Emscripten's addFunction()\n     _primarily_ in that it does not share that function's\n     undocumented behavior of reusing a function if it's passed to\n     addFunction() more than once, which leads to uninstallFunction()\n     breaking clients which do not take care to avoid that case:\n\n     https://github.com/emscripten-core/emscripten/issues/17323\n  */\n  target.installFunction = (func, sig)=>__installFunction(func, sig, false);\n\n  /**\n     Works exactly like installFunction() but requires that a\n     scopedAllocPush() is active and uninstalls the given function\n     when that alloc scope is popped via scopedAllocPop().\n     This is used for implementing JS/WASM function bindings which\n     should only persist for the life of a call into a single\n     C-side function.\n  */\n  target.scopedInstallFunction = (func, sig)=>__installFunction(func, sig, true);\n\n  /**\n     Requires a pointer value previously returned from\n     this.installFunction(). Removes that function from the WASM\n     function table, marks its table slot as free for re-use, and\n     returns that function. It is illegal to call this before\n     installFunction() has been called and results are undefined if\n     ptr was not returned by that function. The returned function\n     may be passed back to installFunction() to reinstall it.\n\n     To simplify certain use cases, if passed a falsy non-0 value\n     (noting that 0 is a valid function table index), this function\n     has no side effects and returns undefined.\n  */\n  target.uninstallFunction = function(ptr){\n    if(!ptr && 0!==ptr) return undefined;\n    const fi = cache.freeFuncIndexes;\n    const ft = target.functionTable();\n    fi.push(ptr);\n    const rc = ft.get(ptr);\n    ft.set(ptr, null);\n    return rc;\n  };\n\n  /**\n     Given a WASM heap memory address and a data type name in the form\n     (i8, i16, i32, i64, float (or f32), double (or f64)), this\n     fetches the numeric value from that address and returns it as a\n     number or, for the case of type='i64', a BigInt (noting that that\n     type triggers an exception if this.bigIntEnabled is\n     falsy). Throws if given an invalid type.\n\n     If the first argument is an array, it is treated as an array of\n     addresses and the result is an array of the values from each of\n     those address, using the same 2nd argument for determining the\n     value type to fetch.\n\n     As a special case, if type ends with a `*`, it is considered to\n     be a pointer type and is treated as the WASM numeric type\n     appropriate for the pointer size (`i32`).\n\n     While likely not obvious, this routine and its poke()\n     counterpart are how pointer-to-value _output_ parameters\n     in WASM-compiled C code can be interacted with:\n\n     ```\n     const ptr = alloc(4);\n     poke(ptr, 0, 'i32'); // clear the ptr's value\n     aCFuncWithOutputPtrToInt32Arg( ptr ); // e.g. void foo(int *x);\n     const result = peek(ptr, 'i32'); // fetch ptr's value\n     dealloc(ptr);\n     ```\n\n     scopedAlloc() and friends can be used to make handling of\n     `ptr` safe against leaks in the case of an exception:\n\n     ```\n     let result;\n     const scope = scopedAllocPush();\n     try{\n       const ptr = scopedAlloc(4);\n       poke(ptr, 0, 'i32');\n       aCFuncWithOutputPtrArg( ptr );\n       result = peek(ptr, 'i32');\n     }finally{\n       scopedAllocPop(scope);\n     }\n     ```\n\n     As a rule poke() must be called to set (typically zero\n     out) the pointer's value, else it will contain an essentially\n     random value.\n\n     ACHTUNG: calling this often, e.g. in a loop, can have a noticably\n     painful impact on performance. Rather than doing so, use\n     heapForSize() to fetch the heap object and read directly from it.\n\n     See: poke()\n  */\n  target.peek = function f(ptr, type='i8'){\n    if(type.endsWith('*')) type = ptrIR;\n    const c = (cache.memory && cache.heapSize === cache.memory.buffer.byteLength)\n          ? cache : heapWrappers();\n    const list = Array.isArray(ptr) ? [] : undefined;\n    let rc;\n    do{\n      if(list) ptr = arguments[0].shift();\n      switch(type){\n          case 'i1':\n          case 'i8': rc = c.HEAP8[ptr>>0]; break;\n          case 'i16': rc = c.HEAP16[ptr>>1]; break;\n          case 'i32': rc = c.HEAP32[ptr>>2]; break;\n          case 'float': case 'f32': rc = c.HEAP32F[ptr>>2]; break;\n          case 'double': case 'f64': rc = Number(c.HEAP64F[ptr>>3]); break;\n          case 'i64':\n            if(target.bigIntEnabled){\n              rc = BigInt(c.HEAP64[ptr>>3]);\n              break;\n            }\n            /* fallthru */\n          default:\n            toss('Invalid type for peek():',type);\n      }\n      if(list) list.push(rc);\n    }while(list && arguments[0].length);\n    return list || rc;\n  };\n\n  /**\n     The counterpart of peek(), this sets a numeric value at\n     the given WASM heap address, using the type to define how many\n     bytes are written. Throws if given an invalid type. See\n     peek() for details about the type argument. If the 3rd\n     argument ends with `*` then it is treated as a pointer type and\n     this function behaves as if the 3rd argument were `i32`.\n\n     If the first argument is an array, it is treated like a list\n     of pointers and the given value is written to each one.\n\n     Returns `this`. (Prior to 2022-12-09 it returns this function.)\n\n     ACHTUNG: calling this often, e.g. in a loop, can have a noticably\n     painful impact on performance. Rather than doing so, use\n     heapForSize() to fetch the heap object and assign directly to it\n     or use the heap's set() method.\n  */\n  target.poke = function(ptr, value, type='i8'){\n    if (type.endsWith('*')) type = ptrIR;\n    const c = (cache.memory && cache.heapSize === cache.memory.buffer.byteLength)\n          ? cache : heapWrappers();\n    for(const p of (Array.isArray(ptr) ? ptr : [ptr])){\n      switch (type) {\n          case 'i1':\n          case 'i8': c.HEAP8[p>>0] = value; continue;\n          case 'i16': c.HEAP16[p>>1] = value; continue;\n          case 'i32': c.HEAP32[p>>2] = value; continue;\n          case 'float': case 'f32': c.HEAP32F[p>>2] = value; continue;\n          case 'double': case 'f64': c.HEAP64F[p>>3] = value; continue;\n          case 'i64':\n            if(c.HEAP64){\n              c.HEAP64[p>>3] = BigInt(value);\n              continue;\n            }\n            /* fallthru */\n          default:\n            toss('Invalid type for poke(): ' + type);\n      }\n    }\n    return this;\n  };\n\n  /**\n     Convenience form of peek() intended for fetching\n     pointer-to-pointer values. If passed a single non-array argument\n     it returns the value of that one pointer address. If passed\n     multiple arguments, or a single array of arguments, it returns an\n     array of their values.\n  */\n  target.peekPtr = (...ptr)=>target.peek( (1===ptr.length ? ptr[0] : ptr), ptrIR );\n\n  /**\n     A variant of poke() intended for setting pointer-to-pointer\n     values. Its differences from poke() are that (1) it defaults to a\n     value of 0 and (2) it always writes to the pointer-sized heap\n     view.\n  */\n  target.pokePtr = (ptr, value=0)=>target.poke(ptr, value, ptrIR);\n\n  /**\n     Convenience form of peek() intended for fetching i8 values. If\n     passed a single non-array argument it returns the value of that\n     one pointer address. If passed multiple arguments, or a single\n     array of arguments, it returns an array of their values.\n  */\n  target.peek8 = (...ptr)=>target.peek( (1===ptr.length ? ptr[0] : ptr), 'i8' );\n  /**\n     Convience form of poke() intended for setting individual bytes.\n     Its difference from poke() is that it always writes to the\n     i8-sized heap view.\n  */\n  target.poke8 = (ptr, value)=>target.poke(ptr, value, 'i8');\n  /** i16 variant of peek8(). */\n  target.peek16 = (...ptr)=>target.peek( (1===ptr.length ? ptr[0] : ptr), 'i16' );\n  /** i16 variant of poke8(). */\n  target.poke16 = (ptr, value)=>target.poke(ptr, value, 'i16');\n  /** i32 variant of peek8(). */\n  target.peek32 = (...ptr)=>target.peek( (1===ptr.length ? ptr[0] : ptr), 'i32' );\n  /** i32 variant of poke8(). */\n  target.poke32 = (ptr, value)=>target.poke(ptr, value, 'i32');\n  /** i64 variant of peek8(). Will throw if this build is not\n      configured for BigInt support. */\n  target.peek64 = (...ptr)=>target.peek( (1===ptr.length ? ptr[0] : ptr), 'i64' );\n  /** i64 variant of poke8(). Will throw if this build is not\n      configured for BigInt support. Note that this returns\n      a BigInt-type value, not a Number-type value. */\n  target.poke64 = (ptr, value)=>target.poke(ptr, value, 'i64');\n  /** f32 variant of peek8(). */\n  target.peek32f = (...ptr)=>target.peek( (1===ptr.length ? ptr[0] : ptr), 'f32' );\n  /** f32 variant of poke8(). */\n  target.poke32f = (ptr, value)=>target.poke(ptr, value, 'f32');\n  /** f64 variant of peek8(). */\n  target.peek64f = (...ptr)=>target.peek( (1===ptr.length ? ptr[0] : ptr), 'f64' );\n  /** f64 variant of poke8(). */\n  target.poke64f = (ptr, value)=>target.poke(ptr, value, 'f64');\n\n  /** Deprecated alias for getMemValue() */\n  target.getMemValue = target.peek;\n  /** Deprecated alias for peekPtr() */\n  target.getPtrValue = target.peekPtr;\n  /** Deprecated alias for poke() */\n  target.setMemValue = target.poke;\n  /** Deprecated alias for pokePtr() */\n  target.setPtrValue = target.pokePtr;\n\n  /**\n     Returns true if the given value appears to be legal for use as\n     a WASM pointer value. Its _range_ of values is not (cannot be)\n     validated except to ensure that it is a 32-bit integer with a\n     value of 0 or greater. Likewise, it cannot verify whether the\n     value actually refers to allocated memory in the WASM heap.\n  */\n  target.isPtr32 = (ptr)=>('number'===typeof ptr && (ptr===(ptr|0)) && ptr>=0);\n\n  /**\n     isPtr() is an alias for isPtr32(). If/when 64-bit WASM pointer\n     support becomes widespread, it will become an alias for either\n     isPtr32() or the as-yet-hypothetical isPtr64(), depending on a\n     configuration option.\n  */\n  target.isPtr = target.isPtr32;\n\n  /**\n     Expects ptr to be a pointer into the WASM heap memory which\n     refers to a NUL-terminated C-style string encoded as UTF-8.\n     Returns the length, in bytes, of the string, as for `strlen(3)`.\n     As a special case, if !ptr or if it's not a pointer then it\n     returns `null`. Throws if ptr is out of range for\n     target.heap8u().\n  */\n  target.cstrlen = function(ptr){\n    if(!ptr || !target.isPtr(ptr)) return null;\n    const h = heapWrappers().HEAP8U;\n    let pos = ptr;\n    for( ; h[pos] !== 0; ++pos ){}\n    return pos - ptr;\n  };\n\n  /** Internal helper to use in operations which need to distinguish\n      between SharedArrayBuffer heap memory and non-shared heap. */\n  const __SAB = ('undefined'===typeof SharedArrayBuffer)\n        ? function(){} : SharedArrayBuffer;\n  const __utf8Decode = function(arrayBuffer, begin, end){\n    return cache.utf8Decoder.decode(\n      (arrayBuffer.buffer instanceof __SAB)\n        ? arrayBuffer.slice(begin, end)\n        : arrayBuffer.subarray(begin, end)\n    );\n  };\n\n  /**\n     Expects ptr to be a pointer into the WASM heap memory which\n     refers to a NUL-terminated C-style string encoded as UTF-8. This\n     function counts its byte length using cstrlen() then returns a\n     JS-format string representing its contents. As a special case, if\n     ptr is falsy or not a pointer, `null` is returned.\n  */\n  target.cstrToJs = function(ptr){\n    const n = target.cstrlen(ptr);\n    return n ? __utf8Decode(heapWrappers().HEAP8U, ptr, ptr+n) : (null===n ? n : \"\");\n  };\n\n  /**\n     Given a JS string, this function returns its UTF-8 length in\n     bytes. Returns null if str is not a string.\n  */\n  target.jstrlen = function(str){\n    /** Attribution: derived from Emscripten's lengthBytesUTF8() */\n    if('string'!==typeof str) return null;\n    const n = str.length;\n    let len = 0;\n    for(let i = 0; i < n; ++i){\n      let u = str.charCodeAt(i);\n      if(u>=0xd800 && u<=0xdfff){\n        u = 0x10000 + ((u & 0x3FF) << 10) | (str.charCodeAt(++i) & 0x3FF);\n      }\n      if(u<=0x7f) ++len;\n      else if(u<=0x7ff) len += 2;\n      else if(u<=0xffff) len += 3;\n      else len += 4;\n    }\n    return len;\n  };\n\n  /**\n     Encodes the given JS string as UTF8 into the given TypedArray\n     tgt, starting at the given offset and writing, at most, maxBytes\n     bytes (including the NUL terminator if addNul is true, else no\n     NUL is added). If it writes any bytes at all and addNul is true,\n     it always NUL-terminates the output, even if doing so means that\n     the NUL byte is all that it writes.\n\n     If maxBytes is negative (the default) then it is treated as the\n     remaining length of tgt, starting at the given offset.\n\n     If writing the last character would surpass the maxBytes count\n     because the character is multi-byte, that character will not be\n     written (as opposed to writing a truncated multi-byte character).\n     This can lead to it writing as many as 3 fewer bytes than\n     maxBytes specifies.\n\n     Returns the number of bytes written to the target, _including_\n     the NUL terminator (if any). If it returns 0, it wrote nothing at\n     all, which can happen if:\n\n     - str is empty and addNul is false.\n     - offset < 0.\n     - maxBytes == 0.\n     - maxBytes is less than the byte length of a multi-byte str[0].\n\n     Throws if tgt is not an Int8Array or Uint8Array.\n\n     Design notes:\n\n     - In C's strcpy(), the destination pointer is the first\n       argument. That is not the case here primarily because the 3rd+\n       arguments are all referring to the destination, so it seems to\n       make sense to have them grouped with it.\n\n     - Emscripten's counterpart of this function (stringToUTF8Array())\n       returns the number of bytes written sans NUL terminator. That\n       is, however, ambiguous: str.length===0 or maxBytes===(0 or 1)\n       all cause 0 to be returned.\n  */\n  target.jstrcpy = function(jstr, tgt, offset = 0, maxBytes = -1, addNul = true){\n    /** Attribution: the encoding bits are taken from Emscripten's\n        stringToUTF8Array(). */\n    if(!tgt || (!(tgt instanceof Int8Array) && !(tgt instanceof Uint8Array))){\n      toss(\"jstrcpy() target must be an Int8Array or Uint8Array.\");\n    }\n    if(maxBytes<0) maxBytes = tgt.length - offset;\n    if(!(maxBytes>0) || !(offset>=0)) return 0;\n    let i = 0, max = jstr.length;\n    const begin = offset, end = offset + maxBytes - (addNul ? 1 : 0);\n    for(; i < max && offset < end; ++i){\n      let u = jstr.charCodeAt(i);\n      if(u>=0xd800 && u<=0xdfff){\n        u = 0x10000 + ((u & 0x3FF) << 10) | (jstr.charCodeAt(++i) & 0x3FF);\n      }\n      if(u<=0x7f){\n        if(offset >= end) break;\n        tgt[offset++] = u;\n      }else if(u<=0x7ff){\n        if(offset + 1 >= end) break;\n        tgt[offset++] = 0xC0 | (u >> 6);\n        tgt[offset++] = 0x80 | (u & 0x3f);\n      }else if(u<=0xffff){\n        if(offset + 2 >= end) break;\n        tgt[offset++] = 0xe0 | (u >> 12);\n        tgt[offset++] = 0x80 | ((u >> 6) & 0x3f);\n        tgt[offset++] = 0x80 | (u & 0x3f);\n      }else{\n        if(offset + 3 >= end) break;\n        tgt[offset++] = 0xf0 | (u >> 18);\n        tgt[offset++] = 0x80 | ((u >> 12) & 0x3f);\n        tgt[offset++] = 0x80 | ((u >> 6) & 0x3f);\n        tgt[offset++] = 0x80 | (u & 0x3f);\n      }\n    }\n    if(addNul) tgt[offset++] = 0;\n    return offset - begin;\n  };\n\n  /**\n     Works similarly to C's strncpy(), copying, at most, n bytes (not\n     characters) from srcPtr to tgtPtr. It copies until n bytes have\n     been copied or a 0 byte is reached in src. _Unlike_ strncpy(), it\n     returns the number of bytes it assigns in tgtPtr, _including_ the\n     NUL byte (if any). If n is reached before a NUL byte in srcPtr,\n     tgtPtr will _not_ be NULL-terminated. If a NUL byte is reached\n     before n bytes are copied, tgtPtr will be NUL-terminated.\n\n     If n is negative, cstrlen(srcPtr)+1 is used to calculate it, the\n     +1 being for the NUL byte.\n\n     Throws if tgtPtr or srcPtr are falsy. Results are undefined if:\n\n     - either is not a pointer into the WASM heap or\n\n     - srcPtr is not NUL-terminated AND n is less than srcPtr's\n       logical length.\n\n     ACHTUNG: it is possible to copy partial multi-byte characters\n     this way, and converting such strings back to JS strings will\n     have undefined results.\n  */\n  target.cstrncpy = function(tgtPtr, srcPtr, n){\n    if(!tgtPtr || !srcPtr) toss(\"cstrncpy() does not accept NULL strings.\");\n    if(n<0) n = target.cstrlen(strPtr)+1;\n    else if(!(n>0)) return 0;\n    const heap = target.heap8u();\n    let i = 0, ch;\n    for(; i < n && (ch = heap[srcPtr+i]); ++i){\n      heap[tgtPtr+i] = ch;\n    }\n    if(i<n) heap[tgtPtr + i++] = 0;\n    return i;\n  };\n\n  /**\n     For the given JS string, returns a Uint8Array of its contents\n     encoded as UTF-8. If addNul is true, the returned array will have\n     a trailing 0 entry, else it will not.\n  */\n  target.jstrToUintArray = (str, addNul=false)=>{\n    return cache.utf8Encoder.encode(addNul ? (str+\"\\0\") : str);\n    // Or the hard way...\n    /** Attribution: derived from Emscripten's stringToUTF8Array() */\n    //const a = [], max = str.length;\n    //let i = 0, pos = 0;\n    //for(; i < max; ++i){\n    //  let u = str.charCodeAt(i);\n    //  if(u>=0xd800 && u<=0xdfff){\n    //    u = 0x10000 + ((u & 0x3FF) << 10) | (str.charCodeAt(++i) & 0x3FF);\n    //  }\n    //  if(u<=0x7f) a[pos++] = u;\n    //  else if(u<=0x7ff){\n    //    a[pos++] = 0xC0 | (u >> 6);\n    //    a[pos++] = 0x80 | (u & 63);\n    //  }else if(u<=0xffff){\n    //    a[pos++] = 0xe0 | (u >> 12);\n    //    a[pos++] = 0x80 | ((u >> 6) & 63);\n    //    a[pos++] = 0x80 | (u & 63);\n    //  }else{\n    //    a[pos++] = 0xf0 | (u >> 18);\n    //    a[pos++] = 0x80 | ((u >> 12) & 63);\n    //    a[pos++] = 0x80 | ((u >> 6) & 63);\n    //    a[pos++] = 0x80 | (u & 63);\n    //  }\n    // }\n    // return new Uint8Array(a);\n  };\n\n  const __affirmAlloc = (obj,funcName)=>{\n    if(!(obj.alloc instanceof Function) ||\n       !(obj.dealloc instanceof Function)){\n      toss(\"Object is missing alloc() and/or dealloc() function(s)\",\n           \"required by\",funcName+\"().\");\n    }\n  };\n\n  const __allocCStr = function(jstr, returnWithLength, allocator, funcName){\n    __affirmAlloc(target, funcName);\n    if('string'!==typeof jstr) return null;\n    if(0){/* older impl, possibly more widely compatible? */\n      const n = target.jstrlen(jstr),\n            ptr = allocator(n+1);\n      target.jstrcpy(jstr, target.heap8u(), ptr, n+1, true);\n      return returnWithLength ? [ptr, n] : ptr;\n    }else{/* newer, (probably) faster and (certainly) simpler impl */\n      const u = cache.utf8Encoder.encode(jstr),\n            ptr = allocator(u.length+1),\n            heap = heapWrappers().HEAP8U;\n      heap.set(u, ptr);\n      heap[ptr + u.length] = 0;\n      return returnWithLength ? [ptr, u.length] : ptr;\n    }\n  };\n\n  /**\n     Uses target.alloc() to allocate enough memory for jstrlen(jstr)+1\n     bytes of memory, copies jstr to that memory using jstrcpy(),\n     NUL-terminates it, and returns the pointer to that C-string.\n     Ownership of the pointer is transfered to the caller, who must\n     eventually pass the pointer to dealloc() to free it.\n\n     If passed a truthy 2nd argument then its return semantics change:\n     it returns [ptr,n], where ptr is the C-string's pointer and n is\n     its cstrlen().\n\n     Throws if `target.alloc` or `target.dealloc` are not functions.\n  */\n  target.allocCString =\n    (jstr, returnWithLength=false)=>__allocCStr(jstr, returnWithLength,\n                                                target.alloc, 'allocCString()');\n\n  /**\n     Starts an \"allocation scope.\" All allocations made using\n     scopedAlloc() are recorded in this scope and are freed when the\n     value returned from this function is passed to\n     scopedAllocPop().\n\n     This family of functions requires that the API's object have both\n     `alloc()` and `dealloc()` methods, else this function will throw.\n\n     Intended usage:\n\n     ```\n     const scope = scopedAllocPush();\n     try {\n       const ptr1 = scopedAlloc(100);\n       const ptr2 = scopedAlloc(200);\n       const ptr3 = scopedAlloc(300);\n       ...\n       // Note that only allocations made via scopedAlloc()\n       // are managed by this allocation scope.\n     }finally{\n       scopedAllocPop(scope);\n     }\n     ```\n\n     The value returned by this function must be treated as opaque by\n     the caller, suitable _only_ for passing to scopedAllocPop().\n     Its type and value are not part of this function's API and may\n     change in any given version of this code.\n\n     `scopedAlloc.level` can be used to determine how many scoped\n     alloc levels are currently active.\n   */\n  target.scopedAllocPush = function(){\n    __affirmAlloc(target, 'scopedAllocPush');\n    const a = [];\n    cache.scopedAlloc.push(a);\n    return a;\n  };\n\n  /**\n     Cleans up all allocations made using scopedAlloc() in the context\n     of the given opaque state object, which must be a value returned\n     by scopedAllocPush(). See that function for an example of how to\n     use this function.\n\n     Though scoped allocations are managed like a stack, this API\n     behaves properly if allocation scopes are popped in an order\n     other than the order they were pushed.\n\n     If called with no arguments, it pops the most recent\n     scopedAllocPush() result:\n\n     ```\n     scopedAllocPush();\n     try{ ... } finally { scopedAllocPop(); }\n     ```\n\n     It's generally recommended that it be passed an explicit argument\n     to help ensure that push/push are used in matching pairs, but in\n     trivial code that may be a non-issue.\n  */\n  target.scopedAllocPop = function(state){\n    __affirmAlloc(target, 'scopedAllocPop');\n    const n = arguments.length\n          ? cache.scopedAlloc.indexOf(state)\n          : cache.scopedAlloc.length-1;\n    if(n<0) toss(\"Invalid state object for scopedAllocPop().\");\n    if(0===arguments.length) state = cache.scopedAlloc[n];\n    cache.scopedAlloc.splice(n,1);\n    for(let p; (p = state.pop()); ){\n      if(target.functionEntry(p)){\n        //console.warn(\"scopedAllocPop() uninstalling function\",p);\n        target.uninstallFunction(p);\n      }\n      else target.dealloc(p);\n    }\n  };\n\n  /**\n     Allocates n bytes of memory using this.alloc() and records that\n     fact in the state for the most recent call of scopedAllocPush().\n     Ownership of the memory is given to scopedAllocPop(), which\n     will clean it up when it is called. The memory _must not_ be\n     passed to this.dealloc(). Throws if this API object is missing\n     the required `alloc()` or `dealloc()` functions or no scoped\n     alloc is active.\n\n     See scopedAllocPush() for an example of how to use this function.\n\n     The `level` property of this function can be queried to query how\n     many scoped allocation levels are currently active.\n\n     See also: scopedAllocPtr(), scopedAllocCString()\n  */\n  target.scopedAlloc = function(n){\n    if(!cache.scopedAlloc.length){\n      toss(\"No scopedAllocPush() scope is active.\");\n    }\n    const p = target.alloc(n);\n    cache.scopedAlloc[cache.scopedAlloc.length-1].push(p);\n    return p;\n  };\n\n  Object.defineProperty(target.scopedAlloc, 'level', {\n    configurable: false, enumerable: false,\n    get: ()=>cache.scopedAlloc.length,\n    set: ()=>toss(\"The 'active' property is read-only.\")\n  });\n\n  /**\n     Works identically to allocCString() except that it allocates the\n     memory using scopedAlloc().\n\n     Will throw if no scopedAllocPush() call is active.\n  */\n  target.scopedAllocCString =\n    (jstr, returnWithLength=false)=>__allocCStr(jstr, returnWithLength,\n                                                target.scopedAlloc, 'scopedAllocCString()');\n\n  // impl for allocMainArgv() and scopedAllocMainArgv().\n  const __allocMainArgv = function(isScoped, list){\n    const pList = target[\n      isScoped ? 'scopedAlloc' : 'alloc'\n    ]((list.length + 1) * target.ptrSizeof);\n    let i = 0;\n    list.forEach((e)=>{\n      target.pokePtr(pList + (target.ptrSizeof * i++),\n                         target[\n                           isScoped ? 'scopedAllocCString' : 'allocCString'\n                         ](\"\"+e));\n    });\n    target.pokePtr(pList + (target.ptrSizeof * i), 0);\n    return pList;\n  };\n\n  /**\n     Creates an array, using scopedAlloc(), suitable for passing to a\n     C-level main() routine. The input is a collection with a length\n     property and a forEach() method. A block of memory\n     (list.length+1) entries long is allocated and each pointer-sized\n     block of that memory is populated with a scopedAllocCString()\n     conversion of the (\"\"+value) of each element, with the exception\n     that the final entry is a NULL pointer. Returns a pointer to the\n     start of the list, suitable for passing as the 2nd argument to a\n     C-style main() function.\n\n     Throws if scopedAllocPush() is not active.\n\n     Design note: the returned array is allocated with an extra NULL\n     pointer entry to accommodate certain APIs, but client code which\n     does not need that functionality should treat the returned array\n     as list.length entries long.\n  */\n  target.scopedAllocMainArgv = (list)=>__allocMainArgv(true, list);\n\n  /**\n     Identical to scopedAllocMainArgv() but uses alloc() instead of\n     scopedAlloc().\n  */\n  target.allocMainArgv = (list)=>__allocMainArgv(false, list);\n\n  /**\n     Expects to be given a C-style string array and its length. It\n     returns a JS array of strings and/or nulls: any entry in the\n     pArgv array which is NULL results in a null entry in the result\n     array. If argc is 0 then an empty array is returned.\n\n     Results are undefined if any entry in the first argc entries of\n     pArgv are neither 0 (NULL) nor legal UTF-format C strings.\n\n     To be clear, the expected C-style arguments to be passed to this\n     function are `(int, char **)` (optionally const-qualified).\n  */\n  target.cArgvToJs = (argc, pArgv)=>{\n    const list = [];\n    for(let i = 0; i < argc; ++i){\n      const arg = target.peekPtr(pArgv + (target.ptrSizeof * i));\n      list.push( arg ? target.cstrToJs(arg) : null );\n    }\n    return list;\n  };\n\n  /**\n     Wraps function call func() in a scopedAllocPush() and\n     scopedAllocPop() block, such that all calls to scopedAlloc() and\n     friends from within that call will have their memory freed\n     automatically when func() returns. If func throws or propagates\n     an exception, the scope is still popped, otherwise it returns the\n     result of calling func().\n  */\n  target.scopedAllocCall = function(func){\n    target.scopedAllocPush();\n    try{ return func() } finally{ target.scopedAllocPop() }\n  };\n\n  /** Internal impl for allocPtr() and scopedAllocPtr(). */\n  const __allocPtr = function(howMany, safePtrSize, method){\n    __affirmAlloc(target, method);\n    const pIr = safePtrSize ? 'i64' : ptrIR;\n    let m = target[method](howMany * (safePtrSize ? 8 : ptrSizeof));\n    target.poke(m, 0, pIr)\n    if(1===howMany){\n      return m;\n    }\n    const a = [m];\n    for(let i = 1; i < howMany; ++i){\n      m += (safePtrSize ? 8 : ptrSizeof);\n      a[i] = m;\n      target.poke(m, 0, pIr);\n    }\n    return a;\n  };\n\n  /**\n     Allocates one or more pointers as a single chunk of memory and\n     zeroes them out.\n\n     The first argument is the number of pointers to allocate. The\n     second specifies whether they should use a \"safe\" pointer size (8\n     bytes) or whether they may use the default pointer size\n     (typically 4 but also possibly 8).\n\n     How the result is returned depends on its first argument: if\n     passed 1, it returns the allocated memory address. If passed more\n     than one then an array of pointer addresses is returned, which\n     can optionally be used with \"destructuring assignment\" like this:\n\n     ```\n     const [p1, p2, p3] = allocPtr(3);\n     ```\n\n     ACHTUNG: when freeing the memory, pass only the _first_ result\n     value to dealloc(). The others are part of the same memory chunk\n     and must not be freed separately.\n\n     The reason for the 2nd argument is..\n\n     When one of the returned pointers will refer to a 64-bit value,\n     e.g. a double or int64, an that value must be written or fetched,\n     e.g. using poke() or peek(), it is important that\n     the pointer in question be aligned to an 8-byte boundary or else\n     it will not be fetched or written properly and will corrupt or\n     read neighboring memory. It is only safe to pass false when the\n     client code is certain that it will only get/fetch 4-byte values\n     (or smaller).\n  */\n  target.allocPtr =\n    (howMany=1, safePtrSize=true)=>__allocPtr(howMany, safePtrSize, 'alloc');\n\n  /**\n     Identical to allocPtr() except that it allocates using scopedAlloc()\n     instead of alloc().\n  */\n  target.scopedAllocPtr =\n    (howMany=1, safePtrSize=true)=>__allocPtr(howMany, safePtrSize, 'scopedAlloc');\n\n  /**\n     If target.exports[name] exists, it is returned, else an\n     exception is thrown.\n  */\n  target.xGet = function(name){\n    return target.exports[name] || toss(\"Cannot find exported symbol:\",name);\n  };\n\n  const __argcMismatch =\n        (f,n)=>toss(f+\"() requires\",n,\"argument(s).\");\n\n  /**\n     Looks up a WASM-exported function named fname from\n     target.exports. If found, it is called, passed all remaining\n     arguments, and its return value is returned to xCall's caller. If\n     not found, an exception is thrown. This function does no\n     conversion of argument or return types, but see xWrap() and\n     xCallWrapped() for variants which do.\n\n     As a special case, if passed only 1 argument after the name and\n     that argument in an Array, that array's entries become the\n     function arguments. (This is not an ambiguous case because it's\n     not legal to pass an Array object to a WASM function.)\n  */\n  target.xCall = function(fname, ...args){\n    const f = target.xGet(fname);\n    if(!(f instanceof Function)) toss(\"Exported symbol\",fname,\"is not a function.\");\n    if(f.length!==args.length) __argcMismatch(fname,f.length)\n    /* This is arguably over-pedantic but we want to help clients keep\n       from shooting themselves in the foot when calling C APIs. */;\n    return (2===arguments.length && Array.isArray(arguments[1]))\n      ? f.apply(null, arguments[1])\n      : f.apply(null, args);\n  };\n\n  /**\n     State for use with xWrap()\n  */\n  cache.xWrap = Object.create(null);\n  cache.xWrap.convert = Object.create(null);\n  /** Map of type names to argument conversion functions. */\n  cache.xWrap.convert.arg = new Map;\n  /** Map of type names to return result conversion functions. */\n  cache.xWrap.convert.result = new Map;\n  const xArg = cache.xWrap.convert.arg, xResult = cache.xWrap.convert.result;\n\n  if(target.bigIntEnabled){\n    xArg.set('i64', (i)=>BigInt(i));\n  }\n  const __xArgPtr = 'i32' === ptrIR\n        ? ((i)=>(i | 0)) : ((i)=>(BigInt(i) | BigInt(0)));\n  xArg.set('i32', __xArgPtr )\n    .set('i16', (i)=>((i | 0) & 0xFFFF))\n    .set('i8', (i)=>((i | 0) & 0xFF))\n    .set('f32', (i)=>Number(i).valueOf())\n    .set('float', xArg.get('f32'))\n    .set('f64', xArg.get('f32'))\n    .set('double', xArg.get('f64'))\n    .set('int', xArg.get('i32'))\n    .set('null', (i)=>i)\n    .set(null, xArg.get('null'))\n    .set('**', __xArgPtr)\n    .set('*', __xArgPtr);\n  xResult.set('*', __xArgPtr)\n    .set('pointer', __xArgPtr)\n    .set('number', (v)=>Number(v))\n    .set('void', (v)=>undefined)\n    .set('null', (v)=>v)\n    .set(null, xResult.get('null'));\n\n  { /* Copy certain xArg[...] handlers to xResult[...] and\n       add pointer-style variants of them. */\n    const copyToResult = ['i8', 'i16', 'i32', 'int',\n                          'f32', 'float', 'f64', 'double'];\n    if(target.bigIntEnabled) copyToResult.push('i64');\n    const adaptPtr = xArg.get(ptrIR);\n    for(const t of copyToResult){\n      xArg.set(t+'*', adaptPtr);\n      xResult.set(t+'*', adaptPtr);\n      xResult.set(t, (xArg.get(t) || toss(\"Missing arg converter:\",t)));\n    }\n  }\n\n  /**\n     In order for args of type string to work in various contexts in\n     the sqlite3 API, we need to pass them on as, variably, a C-string\n     or a pointer value. Thus for ARGs of type 'string' and\n     '*'/'pointer' we behave differently depending on whether the\n     argument is a string or not:\n\n     - If v is a string, scopeAlloc() a new C-string from it and return\n       that temp string's pointer.\n\n     - Else return the value from the arg adapter defined for ptrIR.\n\n     TODO? Permit an Int8Array/Uint8Array and convert it to a string?\n     Would that be too much magic concentrated in one place, ready to\n     backfire? We handle that at the client level in sqlite3 with a\n     custom argument converter.\n  */\n  const __xArgString = function(v){\n    if('string'===typeof v) return target.scopedAllocCString(v);\n    return v ? __xArgPtr(v) : null;\n  };\n  xArg.set('string', __xArgString)\n    .set('utf8', __xArgString)\n    .set('pointer', __xArgString);\n  //xArg.set('*', __xArgString);\n\n  xResult.set('string', (i)=>target.cstrToJs(i))\n    .set('utf8', xResult.get('string'))\n    .set('string:dealloc', (i)=>{\n      try { return i ? target.cstrToJs(i) : null }\n      finally{ target.dealloc(i) }\n    })\n    .set('utf8:dealloc', xResult.get('string:dealloc'))\n    .set('json', (i)=>JSON.parse(target.cstrToJs(i)))\n    .set('json:dealloc', (i)=>{\n      try{ return i ? JSON.parse(target.cstrToJs(i)) : null }\n      finally{ target.dealloc(i) }\n    });\n\n  /**\n     Internal-use-only base class for FuncPtrAdapter and potentially\n     additional stateful argument adapter classes.\n\n     Note that its main interface (convertArg()) is strictly\n     internal, not to be exposed to client code, as it may still\n     need re-shaping. Only the constructors of concrete subclasses\n     should be exposed to clients, and those in such a way that\n     does not hinder internal redesign of the convertArg()\n     interface.\n  */\n  const AbstractArgAdapter = class {\n    constructor(opt){\n      this.name = opt.name || 'unnamed adapter';\n    }\n    /**\n       Gets called via xWrap() to \"convert\" v to whatever type\n       this specific class supports.\n\n       argIndex is the argv index of _this_ argument in the\n       being-xWrap()'d call. argv is the current argument list\n       undergoing xWrap() argument conversion. argv entries to the\n       left of argIndex will have already undergone transformation and\n       those to the right will not have (they will have the values the\n       client-level code passed in, awaiting conversion). The RHS\n       indexes must never be relied upon for anything because their\n       types are indeterminate, whereas the LHS values will be\n       WASM-compatible values by the time this is called.\n    */\n    convertArg(v,argv,argIndex){\n      toss(\"AbstractArgAdapter must be subclassed.\");\n    }\n  };\n\n  /**\n     An attempt at adding function pointer conversion support to\n     xWrap(). This type is recognized by xWrap() as a proxy for\n     converting a JS function to a C-side function, either\n     permanently, for the duration of a single call into the C layer,\n     or semi-contextual, where it may keep track of a single binding\n     for a given context and uninstall the binding if it's replaced.\n\n     The constructor requires an options object with these properties:\n\n     - name (optional): string describing the function binding. This\n       is solely for debugging and error-reporting purposes. If not\n       provided, an empty string is assumed.\n\n     - signature: a function signature string compatible with\n       jsFuncToWasm().\n\n     - bindScope (string): one of ('transient', 'context',\n       'singleton'). Bind scopes are:\n\n       - 'transient': it will convert JS functions to WASM only for\n         the duration of the xWrap()'d function call, using\n         scopedInstallFunction(). Before that call returns, the\n         WASM-side binding will be uninstalled.\n\n       - 'singleton': holds one function-pointer binding for this\n         instance. If it's called with a different function pointer,\n         it uninstalls the previous one after converting the new\n         value. This is only useful for use with \"global\" functions\n         which do not rely on any state other than this function\n         pointer. If the being-converted function pointer is intended\n         to be mapped to some sort of state object (e.g. an\n         `sqlite3*`) then \"context\" (see below) is the proper mode.\n\n       - 'context': similar to singleton mode but for a given\n         \"context\", where the context is a key provided by the user\n         and possibly dependent on a small amount of call-time\n         context. This mode is the default if bindScope is _not_ set\n         but a property named contextKey (described below) is.\n\n       - 'permanent': the function is installed and left there\n         forever. There is no way to recover its pointer address\n         later on.\n\n     - callProxy (function): if set, this must be a function which\n       will act as a proxy for any \"converted\" JS function. It is\n       passed the being-converted function value and must return\n       either that function or a function which acts on its\n       behalf. The returned function will be the one which gets\n       installed into the WASM function table. The proxy must perform\n       any required argument conversion (noting that it will be called\n       from C code, so will receive C-format arguments) before passing\n       them on to the being-converted function. Whether or not the\n       proxy itself must return a value depends on the context. If it\n       does, it must be a WASM-friendly value, as it will be returning\n       from a call made from native code.\n\n     - contextKey (function): is only used if bindScope is 'context'\n       or if bindScope is not set and this function is, in which case\n       'context' is assumed. This function gets bound to this object,\n       so its \"this\" is this object. It gets passed (argv,argIndex),\n       where argIndex is the index of _this_ function pointer in its\n       _wrapping_ function's arguments and argv is the _current_\n       still-being-xWrap()-processed args array. All arguments to the\n       left of argIndex will have been processed by xWrap() by the\n       time this is called. argv[argIndex] will be the value the user\n       passed in to the xWrap()'d function for the argument this\n       FuncPtrAdapter is mapped to. Arguments to the right of\n       argv[argIndex] will not yet have been converted before this is\n       called. The function must return a key which uniquely\n       identifies this function mapping context for _this_\n       FuncPtrAdapter instance (other instances are not considered),\n       taking into account that C functions often take some sort of\n       state object as one or more of their arguments. As an example,\n       if the xWrap()'d function takes `(int,T*,functionPtr,X*)` and\n       this FuncPtrAdapter is the argv[2]nd arg, contextKey(argv,2)\n       might return 'T@'+argv[1], or even just argv[1].  Note,\n       however, that the (X*) argument will not yet have been\n       processed by the time this is called and should not be used as\n       part of that key because its pre-conversion data type might be\n       unpredictable. Similarly, care must be taken with C-string-type\n       arguments: those to the left in argv will, when this is called,\n       be WASM pointers, whereas those to the right might (and likely\n       do) have another data type. When using C-strings in keys, never\n       use their pointers in the key because most C-strings in this\n       constellation are transient.\n\n     Yes, that ^^^ is quite awkward, but it's what we have.\n\n     The constructor only saves the above state for later, and does\n     not actually bind any functions. Its convertArg() method is\n     called via xWrap() to perform any bindings.\n\n     Shortcomings:\n\n     - These \"reverse\" bindings, i.e. calling into a JS-defined\n       function from a WASM-defined function (the generated proxy\n       wrapper), lack all type conversion support. That means, for\n       example, that...\n\n     - Function pointers which include C-string arguments may still\n       need a level of hand-written wrappers around them, depending on\n       how they're used, in order to provide the client with JS\n       strings. Alternately, clients will need to perform such conversions\n       on their own, e.g. using cstrtojs(). Or maybe we can find a way\n       to perform such conversions here, via addition of an xWrap()-style\n       function signature to the options argument.\n  */\n  xArg.FuncPtrAdapter = class FuncPtrAdapter extends AbstractArgAdapter {\n    constructor(opt) {\n      super(opt);\n      if(xArg.FuncPtrAdapter.warnOnUse){\n        console.warn('xArg.FuncPtrAdapter is an internal-only API',\n                     'and is not intended to be invoked from',\n                     'client-level code. Invoked with:',opt);\n      }\n      this.name = opt.name || \"unnamed\";\n      this.signature = opt.signature;\n      if(opt.contextKey instanceof Function){\n        this.contextKey = opt.contextKey;\n        if(!opt.bindScope) opt.bindScope = 'context';\n      }\n      this.bindScope = opt.bindScope\n        || toss(\"FuncPtrAdapter options requires a bindScope (explicit or implied).\");\n      if(FuncPtrAdapter.bindScopes.indexOf(opt.bindScope)<0){\n        toss(\"Invalid options.bindScope (\"+opt.bindMod+\") for FuncPtrAdapter. \"+\n             \"Expecting one of: (\"+FuncPtrAdapter.bindScopes.join(', ')+')');\n      }\n      this.isTransient = 'transient'===this.bindScope;\n      this.isContext = 'context'===this.bindScope;\n      this.isPermanent = 'permanent'===this.bindScope;\n      this.singleton = ('singleton'===this.bindScope) ? [] : undefined;\n      //console.warn(\"FuncPtrAdapter()\",opt,this);\n      this.callProxy = (opt.callProxy instanceof Function)\n        ? opt.callProxy : undefined;\n    }\n\n    /**\n       Note that static class members are defined outside of the class\n       to work around an emcc toolchain build problem: one of the\n       tools in emsdk v3.1.42 does not support the static keyword.\n    */\n\n    /* Dummy impl. Overwritten per-instance as needed. */\n    contextKey(argv,argIndex){\n      return this;\n    }\n\n    /* Returns this objects mapping for the given context key, in the\n       form of an an array, creating the mapping if needed. The key\n       may be anything suitable for use in a Map. */\n    contextMap(key){\n      const cm = (this.__cmap || (this.__cmap = new Map));\n      let rc = cm.get(key);\n      if(undefined===rc) cm.set(key, (rc = []));\n      return rc;\n    }\n\n    /**\n       Gets called via xWrap() to \"convert\" v to a WASM-bound function\n       pointer. If v is one of (a pointer, null, undefined) then\n       (v||0) is returned and any earlier function installed by this\n       mapping _might_, depending on how it's bound, be uninstalled.\n       If v is not one of those types, it must be a Function, for\n       which it creates (if needed) a WASM function binding and\n       returns the WASM pointer to that binding. If this instance is\n       not in 'transient' mode, it will remember the binding for at\n       least the next call, to avoid recreating the function binding\n       unnecessarily.\n\n       If it's passed a pointer(ish) value for v, it does _not_\n       perform any function binding, so this object's bindMode is\n       irrelevant for such cases.\n\n       See the parent class's convertArg() docs for details on what\n       exactly the 2nd and 3rd arguments are.\n    */\n    convertArg(v,argv,argIndex){\n      //FuncPtrAdapter.debugOut(\"FuncPtrAdapter.convertArg()\",this.name,this.signature,this.transient,v);\n      let pair = this.singleton;\n      if(!pair && this.isContext){\n        pair = this.contextMap(this.contextKey(argv,argIndex));\n        //FuncPtrAdapter.debugOut(this.name, this.signature, \"contextKey() =\",this.contextKey(argv,argIndex), pair);\n      }\n      if(pair && pair[0]===v) return pair[1];\n      if(v instanceof Function){\n        /* Install a WASM binding and return its pointer. */\n        //FuncPtrAdapter.debugOut(\"FuncPtrAdapter.convertArg()\",this.name,this.signature,this.transient,v,pair);\n        if(this.callProxy) v = this.callProxy(v);\n        const fp = __installFunction(v, this.signature, this.isTransient);\n        if(FuncPtrAdapter.debugFuncInstall){\n          FuncPtrAdapter.debugOut(\"FuncPtrAdapter installed\", this,\n                                  this.contextKey(argv,argIndex), '@'+fp, v);\n        }\n        if(pair){\n          /* Replace existing stashed mapping */\n          if(pair[1]){\n            if(FuncPtrAdapter.debugFuncInstall){\n              FuncPtrAdapter.debugOut(\"FuncPtrAdapter uninstalling\", this,\n                                      this.contextKey(argv,argIndex), '@'+pair[1], v);\n            }\n            try{\n              /* Because the pending native call might rely on the\n                 pointer we're replacing, e.g. as is normally the case\n                 with sqlite3's xDestroy() methods, we don't\n                 immediately uninstall but instead add its pointer to\n                 the scopedAlloc stack, which will be cleared when the\n                 xWrap() mechanism is done calling the native\n                 function. We're relying very much here on xWrap()\n                 having pushed an alloc scope.\n              */\n              cache.scopedAlloc[cache.scopedAlloc.length-1].push(pair[1]);\n            }\n            catch(e){/*ignored*/}\n          }\n          pair[0] = v;\n          pair[1] = fp;\n        }\n        return fp;\n      }else if(target.isPtr(v) || null===v || undefined===v){\n        //FuncPtrAdapter.debugOut(\"FuncPtrAdapter.convertArg()\",this.name,this.signature,this.transient,v,pair);\n        if(pair && pair[1] && pair[1]!==v){\n          /* uninstall stashed mapping and replace stashed mapping with v. */\n          if(FuncPtrAdapter.debugFuncInstall){\n            FuncPtrAdapter.debugOut(\"FuncPtrAdapter uninstalling\", this,\n                                    this.contextKey(argv,argIndex), '@'+pair[1], v);\n          }\n          try{ cache.scopedAlloc[cache.scopedAlloc.length-1].push(pair[1]) }\n          catch(e){/*ignored*/}\n          pair[0] = pair[1] = (v | 0);\n        }\n        return v || 0;\n      }else{\n        throw new TypeError(\"Invalid FuncPtrAdapter argument type. \"+\n                            \"Expecting a function pointer or a \"+\n                            (this.name ? this.name+' ' : '')+\n                            \"function matching signature \"+\n                            this.signature+\".\");\n      }\n    }/*convertArg()*/\n  }/*FuncPtrAdapter*/;\n\n  /** If true, the constructor emits a warning. The intent is that\n      this be set to true after bootstrapping of the higher-level\n      client library is complete, to warn downstream clients that\n      they shouldn't be relying on this implemenation detail which\n      does not have a stable interface. */\n  xArg.FuncPtrAdapter.warnOnUse = false;\n\n  /** If true, convertArg() will FuncPtrAdapter.debugOut() when it\n      (un)installs a function binding to/from WASM. Note that\n      deinstallation of bindScope=transient bindings happens\n      via scopedAllocPop() so will not be output. */\n  xArg.FuncPtrAdapter.debugFuncInstall = false;\n\n  /** Function used for debug output. */\n  xArg.FuncPtrAdapter.debugOut = console.debug.bind(console);\n\n  xArg.FuncPtrAdapter.bindScopes = [\n    'transient', 'context', 'singleton', 'permanent'\n  ];\n\n  const __xArgAdapterCheck =\n        (t)=>xArg.get(t) || toss(\"Argument adapter not found:\",t);\n\n  const __xResultAdapterCheck =\n        (t)=>xResult.get(t) || toss(\"Result adapter not found:\",t);\n\n  cache.xWrap.convertArg = (t,...args)=>__xArgAdapterCheck(t)(...args);\n  cache.xWrap.convertArgNoCheck = (t,...args)=>xArg.get(t)(...args);\n\n  cache.xWrap.convertResult =\n    (t,v)=>(null===t ? v : (t ? __xResultAdapterCheck(t)(v) : undefined));\n  cache.xWrap.convertResultNoCheck =\n    (t,v)=>(null===t ? v : (t ? xResult.get(t)(v) : undefined));\n\n  /**\n     Creates a wrapper for another function which converts the arguments\n     of the wrapper to argument types accepted by the wrapped function,\n     then converts the wrapped function's result to another form\n     for the wrapper.\n\n     The first argument must be one of:\n\n     - A JavaScript function.\n     - The name of a WASM-exported function. In the latter case xGet()\n       is used to fetch the exported function, which throws if it's not\n       found.\n     - A pointer into the indirect function table. e.g. a pointer\n       returned from target.installFunction().\n\n     It returns either the passed-in function or a wrapper for that\n     function which converts the JS-side argument types into WASM-side\n     types and converts the result type.\n\n     The second argument, `resultType`, describes the conversion for\n     the wrapped functions result. A literal `null` or the string\n     `'null'` both mean to return the original function's value as-is\n     (mnemonic: there is \"null\" conversion going on). Literal\n     `undefined` or the string `\"void\"` both mean to ignore the\n     function's result and return `undefined`. Aside from those two\n     special cases, the `resultType` value may be one of the values\n     described below or any mapping installed by the client using\n     xWrap.resultAdapter().\n\n     If passed 3 arguments and the final one is an array, that array\n     must contain a list of type names (see below) for adapting the\n     arguments from JS to WASM.  If passed 2 arguments, more than 3,\n     or the 3rd is not an array, all arguments after the 2nd (if any)\n     are treated as type names. i.e.:\n\n     ```\n     xWrap('funcname', 'i32', 'string', 'f64');\n     // is equivalent to:\n     xWrap('funcname', 'i32', ['string', 'f64']);\n     ```\n\n     This function enforces that the given list of arguments has the\n     same arity as the being-wrapped function (as defined by its\n     `length` property) and it will throw if that is not the case.\n     Similarly, the created wrapper will throw if passed a differing\n     argument count.\n\n     Type names are symbolic names which map the arguments to an\n     adapter function to convert, if needed, the value before passing\n     it on to WASM or to convert a return result from WASM. The list\n     of built-in names:\n\n     - `i8`, `i16`, `i32` (args and results): all integer conversions\n       which convert their argument to an integer and truncate it to\n       the given bit length.\n\n     - `N*` (args): a type name in the form `N*`, where N is a numeric\n       type name, is treated the same as WASM pointer.\n\n     - `*` and `pointer` (args): are assumed to be WASM pointer values\n       and are returned coerced to an appropriately-sized pointer\n       value (i32 or i64). Non-numeric values will coerce to 0 and\n       out-of-range values will have undefined results (just as with\n       any pointer misuse).\n\n     - `*` and `pointer` (results): aliases for the current\n       WASM pointer numeric type.\n\n     - `**` (args): is simply a descriptive alias for the WASM pointer\n       type. It's primarily intended to mark output-pointer arguments.\n\n     - `i64` (args and results): passes the value to BigInt() to\n       convert it to an int64. Only available if bigIntEnabled is\n       true.\n\n     - `f32` (`float`), `f64` (`double`) (args and results): pass\n       their argument to Number(). i.e. the adapter does not currently\n       distinguish between the two types of floating-point numbers.\n\n     - `number` (results): converts the result to a JS Number using\n       Number(theValue).valueOf(). Note that this is for result\n       conversions only, as it's not possible to generically know\n       which type of number to convert arguments to.\n\n     Non-numeric conversions include:\n\n     - `null` literal or `\"null\"` string (args and results): perform\n       no translation and pass the arg on as-is. This is primarily\n       useful for results but may have a use or two for arguments.\n\n     - `string` or `utf8` (args): has two different semantics in order\n       to accommodate various uses of certain C APIs\n       (e.g. output-style strings)...\n\n       - If the arg is a string, it creates a _temporary_\n         UTF-8-encoded C-string to pass to the exported function,\n         cleaning it up before the wrapper returns. If a long-lived\n         C-string pointer is required, that requires client-side code\n         to create the string, then pass its pointer to the function.\n\n       - Else the arg is assumed to be a pointer to a string the\n         client has already allocated and it's passed on as\n         a WASM pointer.\n\n     - `string` or `utf8` (results): treats the result value as a\n       const C-string, encoded as UTF-8, copies it to a JS string,\n       and returns that JS string.\n\n     - `string:dealloc` or `utf8:dealloc) (results): treats the result value\n       as a non-const UTF-8 C-string, ownership of which has just been\n       transfered to the caller. It copies the C-string to a JS\n       string, frees the C-string, and returns the JS string. If such\n       a result value is NULL, the JS result is `null`. Achtung: when\n       using an API which returns results from a specific allocator,\n       e.g. `my_malloc()`, this conversion _is not legal_. Instead, an\n       equivalent conversion which uses the appropriate deallocator is\n       required. For example:\n\n```js\n   target.xWrap.resultAdapter('string:my_free',(i)=>{\n      try { return i ? target.cstrToJs(i) : null }\n      finally{ target.exports.my_free(i) }\n   };\n```\n\n     - `json` (results): treats the result as a const C-string and\n       returns the result of passing the converted-to-JS string to\n       JSON.parse(). Returns `null` if the C-string is a NULL pointer.\n\n     - `json:dealloc` (results): works exactly like `string:dealloc` but\n       returns the same thing as the `json` adapter. Note the\n       warning in `string:dealloc` regarding maching allocators and\n       deallocators.\n\n     The type names for results and arguments are validated when\n     xWrap() is called and any unknown names will trigger an\n     exception.\n\n     Clients may map their own result and argument adapters using\n     xWrap.resultAdapter() and xWrap.argAdapter(), noting that not all\n     type conversions are valid for both arguments _and_ result types\n     as they often have different memory ownership requirements.\n\n     Design note: the ability to pass in a JS function as the first\n     argument is of relatively limited use, primarily for testing\n     argument and result converters. JS functions, by and large, will\n     not want to deal with C-type arguments.\n\n     TODOs:\n\n     - Figure out how/whether we can (semi-)transparently handle\n       pointer-type _output_ arguments. Those currently require\n       explicit handling by allocating pointers, assigning them before\n       the call using poke(), and fetching them with\n       peek() after the call. We may be able to automate some\n       or all of that.\n\n     - Figure out whether it makes sense to extend the arg adapter\n       interface such that each arg adapter gets an array containing\n       the results of the previous arguments in the current call. That\n       might allow some interesting type-conversion feature. Use case:\n       handling of the final argument to sqlite3_prepare_v2() depends\n       on the type (pointer vs JS string) of its 2nd\n       argument. Currently that distinction requires hand-writing a\n       wrapper for that function. That case is unusual enough that\n       abstracting it into this API (and taking on the associated\n       costs) may well not make good sense.\n  */\n  target.xWrap = function(fArg, resultType, ...argTypes){\n    if(3===arguments.length && Array.isArray(arguments[2])){\n      argTypes = arguments[2];\n    }\n    if(target.isPtr(fArg)){\n      fArg = target.functionEntry(fArg)\n        || toss(\"Function pointer not found in WASM function table.\");\n    }\n    const fIsFunc = (fArg instanceof Function);\n    const xf = fIsFunc ? fArg : target.xGet(fArg);\n    if(fIsFunc) fArg = xf.name || 'unnamed function';\n    if(argTypes.length!==xf.length) __argcMismatch(fArg, xf.length);\n    if((null===resultType) && 0===xf.length){\n      /* Func taking no args with an as-is return. We don't need a wrapper.\n         We forego the argc check here, though. */\n      return xf;\n    }\n    /*Verify the arg type conversions are valid...*/;\n    if(undefined!==resultType && null!==resultType) __xResultAdapterCheck(resultType);\n    for(const t of argTypes){\n      if(t instanceof AbstractArgAdapter) xArg.set(t, (...args)=>t.convertArg(...args));\n      else __xArgAdapterCheck(t);\n    }\n    const cxw = cache.xWrap;\n    if(0===xf.length){\n      // No args to convert, so we can create a simpler wrapper...\n      return (...args)=>(args.length\n                         ? __argcMismatch(fArg, xf.length)\n                         : cxw.convertResult(resultType, xf.call(null)));\n    }\n    return function(...args){\n      if(args.length!==xf.length) __argcMismatch(fArg, xf.length);\n      const scope = target.scopedAllocPush();\n      try{\n        /*\n          Maintenance reminder re. arguments passed to convertArg():\n          The public interface of argument adapters is that they take\n          ONE argument and return a (possibly) converted result for\n          it. The passing-on of arguments after the first is an\n          internal implementation detail for the sake of\n          AbstractArgAdapter, and not to be relied on or documented\n          for other cases. The fact that this is how\n          AbstractArgAdapter.convertArgs() gets its 2nd+ arguments,\n          and how FuncPtrAdapter.contextKey() gets its args, is also\n          an implementation detail and subject to change. i.e. the\n          public interface of 1 argument is stable.  The fact that any\n          arguments may be passed in after that one, and what those\n          arguments are, is _not_ part of the public interface and is\n          _not_ stable.\n        */\n        for(const i in args) args[i] = cxw.convertArgNoCheck(\n          argTypes[i], args[i], args, i\n        );\n        return cxw.convertResultNoCheck(resultType, xf.apply(null,args));\n      }finally{\n        target.scopedAllocPop(scope);\n      }\n    };\n  }/*xWrap()*/;\n\n  /** Internal impl for xWrap.resultAdapter() and argAdapter(). */\n  const __xAdapter = function(func, argc, typeName, adapter, modeName, xcvPart){\n    if('string'===typeof typeName){\n      if(1===argc) return xcvPart.get(typeName);\n      else if(2===argc){\n        if(!adapter){\n          delete xcvPart.get(typeName);\n          return func;\n        }else if(!(adapter instanceof Function)){\n          toss(modeName,\"requires a function argument.\");\n        }\n        xcvPart.set(typeName, adapter);\n        return func;\n      }\n    }\n    toss(\"Invalid arguments to\",modeName);\n  };\n\n  /**\n     Gets, sets, or removes a result value adapter for use with\n     xWrap(). If passed only 1 argument, the adapter function for the\n     given type name is returned.  If the second argument is explicit\n     falsy (as opposed to defaulted), the adapter named by the first\n     argument is removed. If the 2nd argument is not falsy, it must be\n     a function which takes one value and returns a value appropriate\n     for the given type name. The adapter may throw if its argument is\n     not of a type it can work with. This function throws for invalid\n     arguments.\n\n     Example:\n\n     ```\n     xWrap.resultAdapter('twice',(v)=>v+v);\n     ```\n\n     xWrap.resultAdapter() MUST NOT use the scopedAlloc() family of\n     APIs to allocate a result value. xWrap()-generated wrappers run\n     in the context of scopedAllocPush() so that argument adapters can\n     easily convert, e.g., to C-strings, and have them cleaned up\n     automatically before the wrapper returns to the caller. Likewise,\n     if a _result_ adapter uses scoped allocation, the result will be\n     freed before because they would be freed before the wrapper\n     returns, leading to chaos and undefined behavior.\n\n     Except when called as a getter, this function returns itself.\n  */\n  target.xWrap.resultAdapter = function f(typeName, adapter){\n    return __xAdapter(f, arguments.length, typeName, adapter,\n                      'resultAdapter()', xResult);\n  };\n\n  /**\n     Functions identically to xWrap.resultAdapter() but applies to\n     call argument conversions instead of result value conversions.\n\n     xWrap()-generated wrappers perform argument conversion in the\n     context of a scopedAllocPush(), so any memory allocation\n     performed by argument adapters really, really, really should be\n     made using the scopedAlloc() family of functions unless\n     specifically necessary. For example:\n\n     ```\n     xWrap.argAdapter('my-string', function(v){\n       return ('string'===typeof v)\n         ? myWasmObj.scopedAllocCString(v) : null;\n     };\n     ```\n\n     Contrariwise, xWrap.resultAdapter() must _not_ use scopedAlloc()\n     to allocate its results because they would be freed before the\n     xWrap()-created wrapper returns.\n\n     Note that it is perfectly legitimate to use these adapters to\n     perform argument validation, as opposed (or in addition) to\n     conversion.\n  */\n  target.xWrap.argAdapter = function f(typeName, adapter){\n    return __xAdapter(f, arguments.length, typeName, adapter,\n                      'argAdapter()', xArg);\n  };\n\n  target.xWrap.FuncPtrAdapter = xArg.FuncPtrAdapter;\n\n  /**\n     Functions like xCall() but performs argument and result type\n     conversions as for xWrap(). The first, second, and third\n     arguments are as documented for xWrap(), except that the 3rd\n     argument may be either a falsy value or empty array to represent\n     nullary functions. The 4th+ arguments are arguments for the call,\n     with the special case that if the 4th argument is an array, it is\n     used as the arguments for the call. Returns the converted result\n     of the call.\n\n     This is just a thin wrapper around xWrap(). If the given function\n     is to be called more than once, it's more efficient to use\n     xWrap() to create a wrapper, then to call that wrapper as many\n     times as needed. For one-shot calls, however, this variant is\n     arguably more efficient because it will hypothetically free the\n     wrapper function quickly.\n  */\n  target.xCallWrapped = function(fArg, resultType, argTypes, ...args){\n    if(Array.isArray(arguments[3])) args = arguments[3];\n    return target.xWrap(fArg, resultType, argTypes||[]).apply(null, args||[]);\n  };\n\n  /**\n     This function is ONLY exposed in the public API to facilitate\n     testing. It should not be used in application-level code, only\n     in test code.\n\n     Expects to be given (typeName, value) and returns a conversion\n     of that value as has been registered using argAdapter().\n     It throws if no adapter is found.\n\n     ACHTUNG: the adapter may require that a scopedAllocPush() is\n     active and it may allocate memory within that scope. It may also\n     require additional arguments, depending on the type of\n     conversion.\n  */\n  target.xWrap.testConvertArg = cache.xWrap.convertArg;\n\n  /**\n     This function is ONLY exposed in the public API to facilitate\n     testing. It should not be used in application-level code, only\n     in test code.\n\n     Expects to be given (typeName, value) and returns a conversion\n     of that value as has been registered using resultAdapter().\n     It throws if no adapter is found.\n\n     ACHTUNG: the adapter may allocate memory which the caller may need\n     to know how to free.\n  */\n  target.xWrap.testConvertResult = cache.xWrap.convertResult;\n\n  return target;\n};\n\n/**\n   yawl (Yet Another Wasm Loader) provides very basic wasm loader.\n   It requires a config object:\n\n   - `uri`: required URI of the WASM file to load.\n\n   - `onload(loadResult,config)`: optional callback. The first\n     argument is the result object from\n     WebAssembly.instantiate[Streaming](). The 2nd is the config\n     object passed to this function. Described in more detail below.\n\n   - `imports`: optional imports object for\n     WebAssembly.instantiate[Streaming](). The default is an empty set\n     of imports. If the module requires any imports, this object\n     must include them.\n\n   - `wasmUtilTarget`: optional object suitable for passing to\n     WhWasmUtilInstaller(). If set, it gets passed to that function\n     after the promise resolves. This function sets several properties\n     on it before passing it on to that function (which sets many\n     more):\n\n     - `module`, `instance`: the properties from the\n       instantiate[Streaming]() result.\n\n     - If `instance.exports.memory` is _not_ set then it requires that\n       `config.imports.env.memory` be set (else it throws), and\n       assigns that to `target.memory`.\n\n     - If `wasmUtilTarget.alloc` is not set and\n       `instance.exports.malloc` is, it installs\n       `wasmUtilTarget.alloc()` and `wasmUtilTarget.dealloc()`\n       wrappers for the exports `malloc` and `free` functions.\n\n   It returns a function which, when called, initiates loading of the\n   module and returns a Promise. When that Promise resolves, it calls\n   the `config.onload` callback (if set) and passes it\n   `(loadResult,config)`, where `loadResult` is the result of\n   WebAssembly.instantiate[Streaming](): an object in the form:\n\n   ```\n   {\n     module: a WebAssembly.Module,\n     instance: a WebAssembly.Instance\n   }\n   ```\n\n   (Note that the initial `then()` attached to the promise gets only\n   that object, and not the `config` one.)\n\n   Error handling is up to the caller, who may attach a `catch()` call\n   to the promise.\n*/\nglobalThis.WhWasmUtilInstaller.yawl = function(config){\n  const wfetch = ()=>fetch(config.uri, {credentials: 'same-origin'});\n  const wui = this;\n  const finalThen = function(arg){\n    //log(\"finalThen()\",arg);\n    if(config.wasmUtilTarget){\n      const toss = (...args)=>{throw new Error(args.join(' '))};\n      const tgt = config.wasmUtilTarget;\n      tgt.module = arg.module;\n      tgt.instance = arg.instance;\n      //tgt.exports = tgt.instance.exports;\n      if(!tgt.instance.exports.memory){\n        /**\n           WhWasmUtilInstaller requires either tgt.exports.memory\n           (exported from WASM) or tgt.memory (JS-provided memory\n           imported into WASM).\n        */\n        tgt.memory = (config.imports && config.imports.env\n                      && config.imports.env.memory)\n          || toss(\"Missing 'memory' object!\");\n      }\n      if(!tgt.alloc && arg.instance.exports.malloc){\n        const exports = arg.instance.exports;\n        tgt.alloc = function(n){\n          return exports.malloc(n) || toss(\"Allocation of\",n,\"bytes failed.\");\n        };\n        tgt.dealloc = function(m){exports.free(m)};\n      }\n      wui(tgt);\n    }\n    if(config.onload) config.onload(arg,config);\n    return arg /* for any then() handler attached to\n                  yetAnotherWasmLoader()'s return value */;\n  };\n  const loadWasm = WebAssembly.instantiateStreaming\n        ? function loadWasmStreaming(){\n          return WebAssembly.instantiateStreaming(wfetch(), config.imports||{})\n            .then(finalThen);\n        }\n        : function loadWasmOldSchool(){ // Safari < v15\n          return wfetch()\n            .then(response => response.arrayBuffer())\n            .then(bytes => WebAssembly.instantiate(bytes, config.imports||{}))\n            .then(finalThen);\n        };\n  return loadWasm;\n}.bind(globalThis.WhWasmUtilInstaller)/*yawl()*/;\n/* END FILE: common/whwasmutil.js */\n/* BEGIN FILE: jaccwabyt/jaccwabyt.js */\n/**\n  2022-06-30\n\n  The author disclaims copyright to this source code.  In place of a\n  legal notice, here is a blessing:\n\n  *   May you do good and not evil.\n  *   May you find forgiveness for yourself and forgive others.\n  *   May you share freely, never taking more than you give.\n\n  ***********************************************************************\n\n  The Jaccwabyt API is documented in detail in an external file,\n  _possibly_ called jaccwabyt.md in the same directory as this file.\n\n  Project homes:\n  - https://fossil.wanderinghorse.net/r/jaccwabyt\n  - https://sqlite.org/src/dir/ext/wasm/jaccwabyt\n\n*/\n'use strict';\nglobalThis.Jaccwabyt = function StructBinderFactory(config){\n/* ^^^^ it is recommended that clients move that object into wherever\n   they'd like to have it and delete the self-held copy (\"self\" being\n   the global window or worker object).  This API does not require the\n   global reference - it is simply installed as a convenience for\n   connecting these bits to other co-developed code before it gets\n   removed from the global namespace.\n*/\n\n  /** Throws a new Error, the message of which is the concatenation\n      all args with a space between each. */\n  const toss = (...args)=>{throw new Error(args.join(' '))};\n\n  /**\n     Implementing function bindings revealed significant\n     shortcomings in Emscripten's addFunction()/removeFunction()\n     interfaces:\n\n     https://github.com/emscripten-core/emscripten/issues/17323\n\n     Until those are resolved, or a suitable replacement can be\n     implemented, our function-binding API will be more limited\n     and/or clumsier to use than initially hoped.\n  */\n  if(!(config.heap instanceof WebAssembly.Memory)\n     && !(config.heap instanceof Function)){\n    toss(\"config.heap must be WebAssembly.Memory instance or a function.\");\n  }\n  ['alloc','dealloc'].forEach(function(k){\n    (config[k] instanceof Function) ||\n      toss(\"Config option '\"+k+\"' must be a function.\");\n  });\n  const SBF = StructBinderFactory;\n  const heap = (config.heap instanceof Function)\n        ? config.heap : (()=>new Uint8Array(config.heap.buffer)),\n        alloc = config.alloc,\n        dealloc = config.dealloc,\n        log = config.log || console.log.bind(console),\n        memberPrefix = (config.memberPrefix || \"\"),\n        memberSuffix = (config.memberSuffix || \"\"),\n        bigIntEnabled = (undefined===config.bigIntEnabled\n                         ? !!globalThis['BigInt64Array'] : !!config.bigIntEnabled),\n        BigInt = globalThis['BigInt'],\n        BigInt64Array = globalThis['BigInt64Array'],\n        /* Undocumented (on purpose) config options: */\n        ptrSizeof = config.ptrSizeof || 4,\n        ptrIR = config.ptrIR || 'i32'\n  ;\n\n  if(!SBF.debugFlags){\n    SBF.__makeDebugFlags = function(deriveFrom=null){\n      /* This is disgustingly overengineered. :/ */\n      if(deriveFrom && deriveFrom.__flags) deriveFrom = deriveFrom.__flags;\n      const f = function f(flags){\n        if(0===arguments.length){\n          return f.__flags;\n        }\n        if(flags<0){\n          delete f.__flags.getter; delete f.__flags.setter;\n          delete f.__flags.alloc; delete f.__flags.dealloc;\n        }else{\n          f.__flags.getter  = 0!==(0x01 & flags);\n          f.__flags.setter  = 0!==(0x02 & flags);\n          f.__flags.alloc   = 0!==(0x04 & flags);\n          f.__flags.dealloc = 0!==(0x08 & flags);\n        }\n        return f._flags;\n      };\n      Object.defineProperty(f,'__flags', {\n        iterable: false, writable: false,\n        value: Object.create(deriveFrom)\n      });\n      if(!deriveFrom) f(0);\n      return f;\n    };\n    SBF.debugFlags = SBF.__makeDebugFlags();\n  }/*static init*/\n\n  const isLittleEndian = (function() {\n    const buffer = new ArrayBuffer(2);\n    new DataView(buffer).setInt16(0, 256, true /* littleEndian */);\n    // Int16Array uses the platform's endianness.\n    return new Int16Array(buffer)[0] === 256;\n  })();\n  /**\n     Some terms used in the internal docs:\n\n     StructType: a struct-wrapping class generated by this\n     framework.\n     DEF: struct description object.\n     SIG: struct member signature string.\n  */\n\n  /** True if SIG s looks like a function signature, else\n      false. */\n  const isFuncSig = (s)=>'('===s[1];\n  /** True if SIG s is-a pointer signature. */\n  const isPtrSig = (s)=>'p'===s || 'P'===s;\n  const isAutoPtrSig = (s)=>'P'===s /*EXPERIMENTAL*/;\n  const sigLetter = (s)=>isFuncSig(s) ? 'p' : s[0];\n  /** Returns the WASM IR form of the Emscripten-conventional letter\n      at SIG s[0]. Throws for an unknown SIG. */\n  const sigIR = function(s){\n    switch(sigLetter(s)){\n        case 'c': case 'C': return 'i8';\n        case 'i': return 'i32';\n        case 'p': case 'P': case 's': return ptrIR;\n        case 'j': return 'i64';\n        case 'f': return 'float';\n        case 'd': return 'double';\n    }\n    toss(\"Unhandled signature IR:\",s);\n  };\n\n  const affirmBigIntArray = BigInt64Array\n        ? ()=>true : ()=>toss('BigInt64Array is not available.');\n  /** Returns the name of a DataView getter method corresponding\n      to the given SIG. */\n  const sigDVGetter = function(s){\n    switch(sigLetter(s)) {\n        case 'p': case 'P': case 's': {\n          switch(ptrSizeof){\n              case 4: return 'getInt32';\n              case 8: return affirmBigIntArray() && 'getBigInt64';\n          }\n          break;\n        }\n        case 'i': return 'getInt32';\n        case 'c': return 'getInt8';\n        case 'C': return 'getUint8';\n        case 'j': return affirmBigIntArray() && 'getBigInt64';\n        case 'f': return 'getFloat32';\n        case 'd': return 'getFloat64';\n    }\n    toss(\"Unhandled DataView getter for signature:\",s);\n  };\n  /** Returns the name of a DataView setter method corresponding\n      to the given SIG. */\n  const sigDVSetter = function(s){\n    switch(sigLetter(s)){\n        case 'p': case 'P': case 's': {\n          switch(ptrSizeof){\n              case 4: return 'setInt32';\n              case 8: return affirmBigIntArray() && 'setBigInt64';\n          }\n          break;\n        }\n        case 'i': return 'setInt32';\n        case 'c': return 'setInt8';\n        case 'C': return 'setUint8';\n        case 'j': return affirmBigIntArray() && 'setBigInt64';\n        case 'f': return 'setFloat32';\n        case 'd': return 'setFloat64';\n    }\n    toss(\"Unhandled DataView setter for signature:\",s);\n  };\n  /**\n     Returns either Number of BigInt, depending on the given\n     SIG. This constructor is used in property setters to coerce\n     the being-set value to the correct size.\n  */\n  const sigDVSetWrapper = function(s){\n    switch(sigLetter(s)) {\n        case 'i': case 'f': case 'c': case 'C': case 'd': return Number;\n        case 'j': return affirmBigIntArray() && BigInt;\n        case 'p': case 'P': case 's':\n          switch(ptrSizeof){\n              case 4: return Number;\n              case 8: return affirmBigIntArray() && BigInt;\n          }\n          break;\n    }\n    toss(\"Unhandled DataView set wrapper for signature:\",s);\n  };\n\n  /** Returns the given struct and member name in a form suitable for\n      debugging and error output. */\n  const sPropName = (s,k)=>s+'::'+k;\n\n  const __propThrowOnSet = function(structName,propName){\n    return ()=>toss(sPropName(structName,propName),\"is read-only.\");\n  };\n\n  /**\n     In order to completely hide StructBinder-bound struct\n     pointers from JS code, we store them in a scope-local\n     WeakMap which maps the struct-bound objects to their WASM\n     pointers. The pointers are accessible via\n     boundObject.pointer, which is gated behind an accessor\n     function, but are not exposed anywhere else in the\n     object. The main intention of that is to make it impossible\n     for stale copies to be made.\n  */\n  const __instancePointerMap = new WeakMap();\n\n  /** Property name for the pointer-is-external marker. */\n  const xPtrPropName = '(pointer-is-external)';\n\n  /** Frees the obj.pointer memory and clears the pointer\n      property. */\n  const __freeStruct = function(ctor, obj, m){\n    if(!m) m = __instancePointerMap.get(obj);\n    if(m) {\n      __instancePointerMap.delete(obj);\n      if(Array.isArray(obj.ondispose)){\n        let x;\n        while((x = obj.ondispose.shift())){\n          try{\n            if(x instanceof Function) x.call(obj);\n            else if(x instanceof StructType) x.dispose();\n            else if('number' === typeof x) dealloc(x);\n            // else ignore. Strings are permitted to annotate entries\n            // to assist in debugging.\n          }catch(e){\n            console.warn(\"ondispose() for\",ctor.structName,'@',\n                         m,'threw. NOT propagating it.',e);\n          }\n        }\n      }else if(obj.ondispose instanceof Function){\n        try{obj.ondispose()}\n        catch(e){\n          /*do not rethrow: destructors must not throw*/\n          console.warn(\"ondispose() for\",ctor.structName,'@',\n                       m,'threw. NOT propagating it.',e);\n        }\n      }\n      delete obj.ondispose;\n      if(ctor.debugFlags.__flags.dealloc){\n        log(\"debug.dealloc:\",(obj[xPtrPropName]?\"EXTERNAL\":\"\"),\n            ctor.structName,\"instance:\",\n            ctor.structInfo.sizeof,\"bytes @\"+m);\n      }\n      if(!obj[xPtrPropName]) dealloc(m);\n    }\n  };\n\n  /** Returns a skeleton for a read-only property accessor wrapping\n      value v. */\n  const rop = (v)=>{return {configurable: false, writable: false,\n                            iterable: false, value: v}};\n\n  /** Allocates obj's memory buffer based on the size defined in\n      ctor.structInfo.sizeof. */\n  const __allocStruct = function(ctor, obj, m){\n    let fill = !m;\n    if(m) Object.defineProperty(obj, xPtrPropName, rop(m));\n    else{\n      m = alloc(ctor.structInfo.sizeof);\n      if(!m) toss(\"Allocation of\",ctor.structName,\"structure failed.\");\n    }\n    try {\n      if(ctor.debugFlags.__flags.alloc){\n        log(\"debug.alloc:\",(fill?\"\":\"EXTERNAL\"),\n            ctor.structName,\"instance:\",\n            ctor.structInfo.sizeof,\"bytes @\"+m);\n      }\n      if(fill) heap().fill(0, m, m + ctor.structInfo.sizeof);\n      __instancePointerMap.set(obj, m);\n    }catch(e){\n      __freeStruct(ctor, obj, m);\n      throw e;\n    }\n  };\n  /** Gets installed as the memoryDump() method of all structs. */\n  const __memoryDump = function(){\n    const p = this.pointer;\n    return p\n      ? new Uint8Array(heap().slice(p, p+this.structInfo.sizeof))\n      : null;\n  };\n\n  const __memberKey = (k)=>memberPrefix + k + memberSuffix;\n  const __memberKeyProp = rop(__memberKey);\n\n  /**\n     Looks up a struct member in structInfo.members. Throws if found\n     if tossIfNotFound is true, else returns undefined if not\n     found. The given name may be either the name of the\n     structInfo.members key (faster) or the key as modified by the\n     memberPrefix and memberSuffix settings.\n  */\n  const __lookupMember = function(structInfo, memberName, tossIfNotFound=true){\n    let m = structInfo.members[memberName];\n    if(!m && (memberPrefix || memberSuffix)){\n      // Check for a match on members[X].key\n      for(const v of Object.values(structInfo.members)){\n        if(v.key===memberName){ m = v; break; }\n      }\n      if(!m && tossIfNotFound){\n        toss(sPropName(structInfo.name,memberName),'is not a mapped struct member.');\n      }\n    }\n    return m;\n  };\n\n  /**\n     Uses __lookupMember(obj.structInfo,memberName) to find a member,\n     throwing if not found. Returns its signature, either in this\n     framework's native format or in Emscripten format.\n  */\n  const __memberSignature = function f(obj,memberName,emscriptenFormat=false){\n    if(!f._) f._ = (x)=>x.replace(/[^vipPsjrdcC]/g,\"\").replace(/[pPscC]/g,'i');\n    const m = __lookupMember(obj.structInfo, memberName, true);\n    return emscriptenFormat ? f._(m.signature) : m.signature;\n  };\n\n  const __ptrPropDescriptor = {\n    configurable: false, enumerable: false,\n    get: function(){return __instancePointerMap.get(this)},\n    set: ()=>toss(\"Cannot assign the 'pointer' property of a struct.\")\n    // Reminder: leaving `set` undefined makes assignments\n    // to the property _silently_ do nothing. Current unit tests\n    // rely on it throwing, though.\n  };\n\n  /** Impl of X.memberKeys() for StructType and struct ctors. */\n  const __structMemberKeys = rop(function(){\n    const a = [];\n    for(const k of Object.keys(this.structInfo.members)){\n      a.push(this.memberKey(k));\n    }\n    return a;\n  });\n\n  const __utf8Decoder = new TextDecoder('utf-8');\n  const __utf8Encoder = new TextEncoder();\n  /** Internal helper to use in operations which need to distinguish\n      between SharedArrayBuffer heap memory and non-shared heap. */\n  const __SAB = ('undefined'===typeof SharedArrayBuffer)\n        ? function(){} : SharedArrayBuffer;\n  const __utf8Decode = function(arrayBuffer, begin, end){\n    return __utf8Decoder.decode(\n      (arrayBuffer.buffer instanceof __SAB)\n        ? arrayBuffer.slice(begin, end)\n        : arrayBuffer.subarray(begin, end)\n    );\n  };\n  /**\n     Uses __lookupMember() to find the given obj.structInfo key.\n     Returns that member if it is a string, else returns false. If the\n     member is not found, throws if tossIfNotFound is true, else\n     returns false.\n   */\n  const __memberIsString = function(obj,memberName, tossIfNotFound=false){\n    const m = __lookupMember(obj.structInfo, memberName, tossIfNotFound);\n    return (m && 1===m.signature.length && 's'===m.signature[0]) ? m : false;\n  };\n\n  /**\n     Given a member description object, throws if member.signature is\n     not valid for assigning to or interpretation as a C-style string.\n     It optimistically assumes that any signature of (i,p,s) is\n     C-string compatible.\n  */\n  const __affirmCStringSignature = function(member){\n    if('s'===member.signature) return;\n    toss(\"Invalid member type signature for C-string value:\",\n         JSON.stringify(member));\n  };\n\n  /**\n     Looks up the given member in obj.structInfo. If it has a\n     signature of 's' then it is assumed to be a C-style UTF-8 string\n     and a decoded copy of the string at its address is returned. If\n     the signature is of any other type, it throws. If an s-type\n     member's address is 0, `null` is returned.\n  */\n  const __memberToJsString = function f(obj,memberName){\n    const m = __lookupMember(obj.structInfo, memberName, true);\n    __affirmCStringSignature(m);\n    const addr = obj[m.key];\n    //log(\"addr =\",addr,memberName,\"m =\",m);\n    if(!addr) return null;\n    let pos = addr;\n    const mem = heap();\n    for( ; mem[pos]!==0; ++pos ) {\n      //log(\"mem[\",pos,\"]\",mem[pos]);\n    };\n    //log(\"addr =\",addr,\"pos =\",pos);\n    return (addr===pos) ? \"\" : __utf8Decode(mem, addr, pos);\n  };\n\n  /**\n     Adds value v to obj.ondispose, creating ondispose,\n     or converting it to an array, if needed.\n  */\n  const __addOnDispose = function(obj, ...v){\n    if(obj.ondispose){\n      if(!Array.isArray(obj.ondispose)){\n        obj.ondispose = [obj.ondispose];\n      }\n    }else{\n      obj.ondispose = [];\n    }\n    obj.ondispose.push(...v);\n  };\n\n  /**\n     Allocates a new UTF-8-encoded, NUL-terminated copy of the given\n     JS string and returns its address relative to heap(). If\n     allocation returns 0 this function throws. Ownership of the\n     memory is transfered to the caller, who must eventually pass it\n     to the configured dealloc() function.\n  */\n  const __allocCString = function(str){\n    const u = __utf8Encoder.encode(str);\n    const mem = alloc(u.length+1);\n    if(!mem) toss(\"Allocation error while duplicating string:\",str);\n    const h = heap();\n    //let i = 0;\n    //for( ; i < u.length; ++i ) h[mem + i] = u[i];\n    h.set(u, mem);\n    h[mem + u.length] = 0;\n    //log(\"allocCString @\",mem,\" =\",u);\n    return mem;\n  };\n\n  /**\n     Sets the given struct member of obj to a dynamically-allocated,\n     UTF-8-encoded, NUL-terminated copy of str. It is up to the caller\n     to free any prior memory, if appropriate. The newly-allocated\n     string is added to obj.ondispose so will be freed when the object\n     is disposed.\n\n     The given name may be either the name of the structInfo.members\n     key (faster) or the key as modified by the memberPrefix and\n     memberSuffix settings.\n  */\n  const __setMemberCString = function(obj, memberName, str){\n    const m = __lookupMember(obj.structInfo, memberName, true);\n    __affirmCStringSignature(m);\n    /* Potential TODO: if obj.ondispose contains obj[m.key] then\n       dealloc that value and clear that ondispose entry */\n    const mem = __allocCString(str);\n    obj[m.key] = mem;\n    __addOnDispose(obj, mem);\n    return obj;\n  };\n\n  /**\n     Prototype for all StructFactory instances (the constructors\n     returned from StructBinder).\n  */\n  const StructType = function ctor(structName, structInfo){\n    if(arguments[2]!==rop){\n      toss(\"Do not call the StructType constructor\",\n           \"from client-level code.\");\n    }\n    Object.defineProperties(this,{\n      //isA: rop((v)=>v instanceof ctor),\n      structName: rop(structName),\n      structInfo: rop(structInfo)\n    });\n  };\n\n  /**\n     Properties inherited by struct-type-specific StructType instances\n     and (indirectly) concrete struct-type instances.\n  */\n  StructType.prototype = Object.create(null, {\n    dispose: rop(function(){__freeStruct(this.constructor, this)}),\n    lookupMember: rop(function(memberName, tossIfNotFound=true){\n      return __lookupMember(this.structInfo, memberName, tossIfNotFound);\n    }),\n    memberToJsString: rop(function(memberName){\n      return __memberToJsString(this, memberName);\n    }),\n    memberIsString: rop(function(memberName, tossIfNotFound=true){\n      return __memberIsString(this, memberName, tossIfNotFound);\n    }),\n    memberKey: __memberKeyProp,\n    memberKeys: __structMemberKeys,\n    memberSignature: rop(function(memberName, emscriptenFormat=false){\n      return __memberSignature(this, memberName, emscriptenFormat);\n    }),\n    memoryDump: rop(__memoryDump),\n    pointer: __ptrPropDescriptor,\n    setMemberCString: rop(function(memberName, str){\n      return __setMemberCString(this, memberName, str);\n    })\n  });\n  // Function-type non-Property inherited members \n  Object.assign(StructType.prototype,{\n    addOnDispose: function(...v){\n      __addOnDispose(this,...v);\n      return this;\n    }\n  });\n\n  /**\n     \"Static\" properties for StructType.\n  */\n  Object.defineProperties(StructType, {\n    allocCString: rop(__allocCString),\n    isA: rop((v)=>v instanceof StructType),\n    hasExternalPointer: rop((v)=>(v instanceof StructType) && !!v[xPtrPropName]),\n    memberKey: __memberKeyProp\n  });\n\n  const isNumericValue = (v)=>Number.isFinite(v) || (v instanceof (BigInt || Number));\n\n  /**\n     Pass this a StructBinder-generated prototype, and the struct\n     member description object. It will define property accessors for\n     proto[memberKey] which read from/write to memory in\n     this.pointer. It modifies descr to make certain downstream\n     operations much simpler.\n  */\n  const makeMemberWrapper = function f(ctor,name, descr){\n    if(!f._){\n      /*cache all available getters/setters/set-wrappers for\n        direct reuse in each accessor function. */\n      f._ = {getters: {}, setters: {}, sw:{}};\n      const a = ['i','c','C','p','P','s','f','d','v()'];\n      if(bigIntEnabled) a.push('j');\n      a.forEach(function(v){\n        //const ir = sigIR(v);\n        f._.getters[v] = sigDVGetter(v) /* DataView[MethodName] values for GETTERS */;\n        f._.setters[v] = sigDVSetter(v) /* DataView[MethodName] values for SETTERS */;\n        f._.sw[v] = sigDVSetWrapper(v)  /* BigInt or Number ctor to wrap around values\n                                           for conversion */;\n      });\n      const rxSig1 = /^[ipPsjfdcC]$/,\n            rxSig2 = /^[vipPsjfdcC]\\([ipPsjfdcC]*\\)$/;\n      f.sigCheck = function(obj, name, key,sig){\n        if(Object.prototype.hasOwnProperty.call(obj, key)){\n          toss(obj.structName,'already has a property named',key+'.');\n        }\n        rxSig1.test(sig) || rxSig2.test(sig)\n          || toss(\"Malformed signature for\",\n                  sPropName(obj.structName,name)+\":\",sig);\n      };\n    }\n    const key = ctor.memberKey(name);\n    f.sigCheck(ctor.prototype, name, key, descr.signature);\n    descr.key = key;\n    descr.name = name;\n    const sigGlyph = sigLetter(descr.signature);\n    const xPropName = sPropName(ctor.prototype.structName,key);\n    const dbg = ctor.prototype.debugFlags.__flags;\n    /*\n      TODO?: set prototype of descr to an object which can set/fetch\n      its prefered representation, e.g. conversion to string or mapped\n      function. Advantage: we can avoid doing that via if/else if/else\n      in the get/set methods.\n    */\n    const prop = Object.create(null);\n    prop.configurable = false;\n    prop.enumerable = false;\n    prop.get = function(){\n      if(dbg.getter){\n        log(\"debug.getter:\",f._.getters[sigGlyph],\"for\", sigIR(sigGlyph),\n            xPropName,'@', this.pointer,'+',descr.offset,'sz',descr.sizeof);\n      }\n      let rc = (\n        new DataView(heap().buffer, this.pointer + descr.offset, descr.sizeof)\n      )[f._.getters[sigGlyph]](0, isLittleEndian);\n      if(dbg.getter) log(\"debug.getter:\",xPropName,\"result =\",rc);\n      return rc;\n    };\n    if(descr.readOnly){\n      prop.set = __propThrowOnSet(ctor.prototype.structName,key);\n    }else{\n      prop.set = function(v){\n        if(dbg.setter){\n          log(\"debug.setter:\",f._.setters[sigGlyph],\"for\", sigIR(sigGlyph),\n              xPropName,'@', this.pointer,'+',descr.offset,'sz',descr.sizeof, v);\n        }\n        if(!this.pointer){\n          toss(\"Cannot set struct property on disposed instance.\");\n        }\n        if(null===v) v = 0;\n        else while(!isNumericValue(v)){\n          if(isAutoPtrSig(descr.signature) && (v instanceof StructType)){\n            // It's a struct instance: let's store its pointer value!\n            v = v.pointer || 0;\n            if(dbg.setter) log(\"debug.setter:\",xPropName,\"resolved to\",v);\n            break;\n          }\n          toss(\"Invalid value for pointer-type\",xPropName+'.');\n        }\n        (\n          new DataView(heap().buffer, this.pointer + descr.offset, descr.sizeof)\n        )[f._.setters[sigGlyph]](0, f._.sw[sigGlyph](v), isLittleEndian);\n      };\n    }\n    Object.defineProperty(ctor.prototype, key, prop);\n  }/*makeMemberWrapper*/;\n  \n  /**\n     The main factory function which will be returned to the\n     caller.\n  */\n  const StructBinder = function StructBinder(structName, structInfo){\n    if(1===arguments.length){\n      structInfo = structName;\n      structName = structInfo.name;\n    }else if(!structInfo.name){\n      structInfo.name = structName;\n    }\n    if(!structName) toss(\"Struct name is required.\");\n    let lastMember = false;\n    Object.keys(structInfo.members).forEach((k)=>{\n      // Sanity checks of sizeof/offset info...\n      const m = structInfo.members[k];\n      if(!m.sizeof) toss(structName,\"member\",k,\"is missing sizeof.\");\n      else if(m.sizeof===1){\n        (m.signature === 'c' || m.signature === 'C') ||\n          toss(\"Unexpected sizeof==1 member\",\n               sPropName(structInfo.name,k),\n               \"with signature\",m.signature);\n      }else{\n        // sizes and offsets of size-1 members may be odd values, but\n        // others may not.\n        if(0!==(m.sizeof%4)){\n          console.warn(\"Invalid struct member description =\",m,\"from\",structInfo);\n          toss(structName,\"member\",k,\"sizeof is not aligned. sizeof=\"+m.sizeof);\n        }\n        if(0!==(m.offset%4)){\n          console.warn(\"Invalid struct member description =\",m,\"from\",structInfo);\n          toss(structName,\"member\",k,\"offset is not aligned. offset=\"+m.offset);\n        }\n      }\n      if(!lastMember || lastMember.offset < m.offset) lastMember = m;\n    });\n    if(!lastMember) toss(\"No member property descriptions found.\");\n    else if(structInfo.sizeof < lastMember.offset+lastMember.sizeof){\n      toss(\"Invalid struct config:\",structName,\n           \"max member offset (\"+lastMember.offset+\") \",\n           \"extends past end of struct (sizeof=\"+structInfo.sizeof+\").\");\n    }\n    const debugFlags = rop(SBF.__makeDebugFlags(StructBinder.debugFlags));\n    /** Constructor for the StructCtor. */\n    const StructCtor = function StructCtor(externalMemory){\n      if(!(this instanceof StructCtor)){\n        toss(\"The\",structName,\"constructor may only be called via 'new'.\");\n      }else if(arguments.length){\n        if(externalMemory!==(externalMemory|0) || externalMemory<=0){\n          toss(\"Invalid pointer value for\",structName,\"constructor.\");\n        }\n        __allocStruct(StructCtor, this, externalMemory);\n      }else{\n        __allocStruct(StructCtor, this);\n      }\n    };\n    Object.defineProperties(StructCtor,{\n      debugFlags: debugFlags,\n      isA: rop((v)=>v instanceof StructCtor),\n      memberKey: __memberKeyProp,\n      memberKeys: __structMemberKeys,\n      methodInfoForKey: rop(function(mKey){\n      }),\n      structInfo: rop(structInfo),\n      structName: rop(structName)\n    });\n    StructCtor.prototype = new StructType(structName, structInfo, rop);\n    Object.defineProperties(StructCtor.prototype,{\n      debugFlags: debugFlags,\n      constructor: rop(StructCtor)\n      /*if we assign StructCtor.prototype and don't do\n        this then StructCtor!==instance.constructor!*/\n    });\n    Object.keys(structInfo.members).forEach(\n      (name)=>makeMemberWrapper(StructCtor, name, structInfo.members[name])\n    );\n    return StructCtor;\n  };\n  StructBinder.StructType = StructType;\n  StructBinder.config = config;\n  StructBinder.allocCString = __allocCString;\n  if(!StructBinder.debugFlags){\n    StructBinder.debugFlags = SBF.__makeDebugFlags(SBF.debugFlags);\n  }\n  return StructBinder;\n}/*StructBinderFactory*/;\n/* END FILE: jaccwabyt/jaccwabyt.js */\n/* BEGIN FILE: api/sqlite3-api-glue.js */\n/*\n  2022-07-22\n\n  The author disclaims copyright to this source code.  In place of a\n  legal notice, here is a blessing:\n\n  *   May you do good and not evil.\n  *   May you find forgiveness for yourself and forgive others.\n  *   May you share freely, never taking more than you give.\n\n  ***********************************************************************\n\n  This file glues together disparate pieces of JS which are loaded in\n  previous steps of the sqlite3-api.js bootstrapping process:\n  sqlite3-api-prologue.js, whwasmutil.js, and jaccwabyt.js. It\n  initializes the main API pieces so that the downstream components\n  (e.g. sqlite3-api-oo1.js) have all that they need.\n*/\nglobalThis.sqlite3ApiBootstrap.initializers.push(function(sqlite3){\n  'use strict';\n  const toss = (...args)=>{throw new Error(args.join(' '))};\n  const toss3 = sqlite3.SQLite3Error.toss;\n  const capi = sqlite3.capi, wasm = sqlite3.wasm, util = sqlite3.util;\n  globalThis.WhWasmUtilInstaller(wasm);\n  delete globalThis.WhWasmUtilInstaller;\n\n  if(0){\n    /**\n       Please keep this block around as a maintenance reminder\n       that we cannot rely on this type of check.\n\n       This block fails on Safari, per a report at\n       https://sqlite.org/forum/forumpost/e5b20e1feb.\n\n       It turns out that what Safari serves from the indirect function\n       table (e.g. wasm.functionEntry(X)) is anonymous functions which\n       wrap the WASM functions, rather than returning the WASM\n       functions themselves. That means comparison of such functions\n       is useless for determining whether or not we have a specific\n       function from wasm.exports. i.e. if function X is indirection\n       function table entry N then wasm.exports.X is not equal to\n       wasm.functionEntry(N) in Safari, despite being so in the other\n       browsers.\n    */\n    /**\n       Find a mapping for SQLITE_WASM_DEALLOC, which the API\n       guarantees is a WASM pointer to the same underlying function as\n       wasm.dealloc() (noting that wasm.dealloc() is permitted to be a\n       JS wrapper around the WASM function). There is unfortunately no\n       O(1) algorithm for finding this pointer: we have to walk the\n       WASM indirect function table to find it. However, experience\n       indicates that that particular function is always very close to\n       the front of the table (it's been entry #3 in all relevant\n       tests).\n    */\n    const dealloc = wasm.exports[sqlite3.config.deallocExportName];\n    const nFunc = wasm.functionTable().length;\n    let i;\n    for(i = 0; i < nFunc; ++i){\n      const e = wasm.functionEntry(i);\n      if(dealloc === e){\n        capi.SQLITE_WASM_DEALLOC = i;\n        break;\n      }\n    }\n    if(dealloc !== wasm.functionEntry(capi.SQLITE_WASM_DEALLOC)){\n      toss(\"Internal error: cannot find function pointer for SQLITE_WASM_DEALLOC.\");\n    }\n  }\n\n  /**\n     Signatures for the WASM-exported C-side functions. Each entry\n     is an array with 2+ elements:\n\n     [ \"c-side name\",\n       \"result type\" (wasm.xWrap() syntax),\n       [arg types in xWrap() syntax]\n       // ^^^ this needn't strictly be an array: it can be subsequent\n       // elements instead: [x,y,z] is equivalent to x,y,z\n     ]\n\n     Note that support for the API-specific data types in the\n     result/argument type strings gets plugged in at a later phase in\n     the API initialization process.\n  */\n  wasm.bindingSignatures = [\n    // Please keep these sorted by function name!\n    [\"sqlite3_aggregate_context\",\"void*\", \"sqlite3_context*\", \"int\"],\n    /* sqlite3_auto_extension() has a hand-written binding. */\n    /* sqlite3_bind_blob() and sqlite3_bind_text() have hand-written\n       bindings to permit more flexible inputs. */\n    [\"sqlite3_bind_double\",\"int\", \"sqlite3_stmt*\", \"int\", \"f64\"],\n    [\"sqlite3_bind_int\",\"int\", \"sqlite3_stmt*\", \"int\", \"int\"],\n    [\"sqlite3_bind_null\",undefined, \"sqlite3_stmt*\", \"int\"],\n    [\"sqlite3_bind_parameter_count\", \"int\", \"sqlite3_stmt*\"],\n    [\"sqlite3_bind_parameter_index\",\"int\", \"sqlite3_stmt*\", \"string\"],\n    [\"sqlite3_bind_pointer\", \"int\",\n     \"sqlite3_stmt*\", \"int\", \"*\", \"string:static\", \"*\"],\n    [\"sqlite3_busy_handler\",\"int\", [\n      \"sqlite3*\",\n      new wasm.xWrap.FuncPtrAdapter({\n        signature: 'i(pi)',\n        contextKey: (argv,argIndex)=>argv[0/* sqlite3* */]\n      }),\n      \"*\"\n    ]],\n    [\"sqlite3_busy_timeout\",\"int\", \"sqlite3*\", \"int\"],\n    /* sqlite3_cancel_auto_extension() has a hand-written binding. */\n    /* sqlite3_close_v2() is implemented by hand to perform some\n       extra work. */\n    [\"sqlite3_changes\", \"int\", \"sqlite3*\"],\n    [\"sqlite3_clear_bindings\",\"int\", \"sqlite3_stmt*\"],\n    [\"sqlite3_collation_needed\", \"int\", \"sqlite3*\", \"*\", \"*\"/*=>v(ppis)*/],\n    [\"sqlite3_column_blob\",\"*\", \"sqlite3_stmt*\", \"int\"],\n    [\"sqlite3_column_bytes\",\"int\", \"sqlite3_stmt*\", \"int\"],\n    [\"sqlite3_column_count\", \"int\", \"sqlite3_stmt*\"],\n    [\"sqlite3_column_double\",\"f64\", \"sqlite3_stmt*\", \"int\"],\n    [\"sqlite3_column_int\",\"int\", \"sqlite3_stmt*\", \"int\"],\n    [\"sqlite3_column_name\",\"string\", \"sqlite3_stmt*\", \"int\"],\n    [\"sqlite3_column_text\",\"string\", \"sqlite3_stmt*\", \"int\"],\n    [\"sqlite3_column_type\",\"int\", \"sqlite3_stmt*\", \"int\"],\n    [\"sqlite3_column_value\",\"sqlite3_value*\", \"sqlite3_stmt*\", \"int\"],\n    [\"sqlite3_commit_hook\", \"void*\", [\n      \"sqlite3*\",\n      new wasm.xWrap.FuncPtrAdapter({\n        name: 'sqlite3_commit_hook',\n        signature: 'i(p)',\n        contextKey: (argv)=>argv[0/* sqlite3* */]\n      }),\n      '*'\n    ]],\n    [\"sqlite3_compileoption_get\", \"string\", \"int\"],\n    [\"sqlite3_compileoption_used\", \"int\", \"string\"],\n    [\"sqlite3_complete\", \"int\", \"string:flexible\"],\n    [\"sqlite3_context_db_handle\", \"sqlite3*\", \"sqlite3_context*\"],\n\n    /* sqlite3_create_function(), sqlite3_create_function_v2(), and\n       sqlite3_create_window_function() use hand-written bindings to\n       simplify handling of their function-type arguments. */\n    /* sqlite3_create_collation() and sqlite3_create_collation_v2()\n       use hand-written bindings to simplify passing of the callback\n       function.\n      [\"sqlite3_create_collation\", \"int\",\n     \"sqlite3*\", \"string\", \"int\",//SQLITE_UTF8 is the only legal value\n     \"*\", \"*\"],\n    [\"sqlite3_create_collation_v2\", \"int\",\n     \"sqlite3*\", \"string\", \"int\",//SQLITE_UTF8 is the only legal value\n     \"*\", \"*\", \"*\"],\n    */\n    [\"sqlite3_data_count\", \"int\", \"sqlite3_stmt*\"],\n    [\"sqlite3_db_filename\", \"string\", \"sqlite3*\", \"string\"],\n    [\"sqlite3_db_handle\", \"sqlite3*\", \"sqlite3_stmt*\"],\n    [\"sqlite3_db_name\", \"string\", \"sqlite3*\", \"int\"],\n    [\"sqlite3_db_status\", \"int\", \"sqlite3*\", \"int\", \"*\", \"*\", \"int\"],\n    [\"sqlite3_errcode\", \"int\", \"sqlite3*\"],\n    [\"sqlite3_errmsg\", \"string\", \"sqlite3*\"],\n    [\"sqlite3_error_offset\", \"int\", \"sqlite3*\"],\n    [\"sqlite3_errstr\", \"string\", \"int\"],\n    [\"sqlite3_exec\", \"int\", [\n      \"sqlite3*\", \"string:flexible\",\n      new wasm.xWrap.FuncPtrAdapter({\n        signature: 'i(pipp)',\n        bindScope: 'transient',\n        callProxy: (callback)=>{\n          let aNames;\n          return (pVoid, nCols, pColVals, pColNames)=>{\n            try {\n              const aVals = wasm.cArgvToJs(nCols, pColVals);\n              if(!aNames) aNames = wasm.cArgvToJs(nCols, pColNames);\n              return callback(aVals, aNames) | 0;\n            }catch(e){\n              /* If we set the db error state here, the higher-level\n                 exec() call replaces it with its own, so we have no way\n                 of reporting the exception message except the console. We\n                 must not propagate exceptions through the C API. Though\n                 we make an effort to report OOM here, sqlite3_exec()\n                 translates that into SQLITE_ABORT as well. */\n              return e.resultCode || capi.SQLITE_ERROR;\n            }\n          }\n        }\n      }),\n      \"*\", \"**\"\n    ]],\n    [\"sqlite3_expanded_sql\", \"string\", \"sqlite3_stmt*\"],\n    [\"sqlite3_extended_errcode\", \"int\", \"sqlite3*\"],\n    [\"sqlite3_extended_result_codes\", \"int\", \"sqlite3*\", \"int\"],\n    [\"sqlite3_file_control\", \"int\", \"sqlite3*\", \"string\", \"int\", \"*\"],\n    [\"sqlite3_finalize\", \"int\", \"sqlite3_stmt*\"],\n    [\"sqlite3_free\", undefined,\"*\"],\n    [\"sqlite3_get_auxdata\", \"*\", \"sqlite3_context*\", \"int\"],\n    [\"sqlite3_initialize\", undefined],\n    /*[\"sqlite3_interrupt\", undefined, \"sqlite3*\"\n       ^^^ we cannot actually currently support this because JS is\n        single-threaded and we don't have a portable way to access a DB\n        from 2 SharedWorkers concurrently. ],*/\n    [\"sqlite3_keyword_count\", \"int\"],\n    [\"sqlite3_keyword_name\", \"int\", [\"int\", \"**\", \"*\"]],\n    [\"sqlite3_keyword_check\", \"int\", [\"string\", \"int\"]],\n    [\"sqlite3_libversion\", \"string\"],\n    [\"sqlite3_libversion_number\", \"int\"],\n    [\"sqlite3_limit\", \"int\", [\"sqlite3*\", \"int\", \"int\"]],\n    [\"sqlite3_malloc\", \"*\",\"int\"],\n    [\"sqlite3_open\", \"int\", \"string\", \"*\"],\n    [\"sqlite3_open_v2\", \"int\", \"string\", \"*\", \"int\", \"string\"],\n    /* sqlite3_prepare_v2() and sqlite3_prepare_v3() are handled\n       separately due to us requiring two different sets of semantics\n       for those, depending on how their SQL argument is provided. */\n    /* sqlite3_randomness() uses a hand-written wrapper to extend\n       the range of supported argument types. */\n    [\"sqlite3_progress_handler\", undefined, [\n      \"sqlite3*\", \"int\", new wasm.xWrap.FuncPtrAdapter({\n        name: 'xProgressHandler',\n        signature: 'i(p)',\n        bindScope: 'context',\n        contextKey: (argv,argIndex)=>argv[0/* sqlite3* */]\n      }), \"*\"\n    ]],\n    [\"sqlite3_realloc\", \"*\",\"*\",\"int\"],\n    [\"sqlite3_reset\", \"int\", \"sqlite3_stmt*\"],\n    /* sqlite3_reset_auto_extension() has a hand-written binding. */\n    [\"sqlite3_result_blob\", undefined, \"sqlite3_context*\", \"*\", \"int\", \"*\"],\n    [\"sqlite3_result_double\", undefined, \"sqlite3_context*\", \"f64\"],\n    [\"sqlite3_result_error\", undefined, \"sqlite3_context*\", \"string\", \"int\"],\n    [\"sqlite3_result_error_code\", undefined, \"sqlite3_context*\", \"int\"],\n    [\"sqlite3_result_error_nomem\", undefined, \"sqlite3_context*\"],\n    [\"sqlite3_result_error_toobig\", undefined, \"sqlite3_context*\"],\n    [\"sqlite3_result_int\", undefined, \"sqlite3_context*\", \"int\"],\n    [\"sqlite3_result_null\", undefined, \"sqlite3_context*\"],\n    [\"sqlite3_result_pointer\", undefined,\n     \"sqlite3_context*\", \"*\", \"string:static\", \"*\"],\n    [\"sqlite3_result_subtype\", undefined, \"sqlite3_value*\", \"int\"],\n    [\"sqlite3_result_text\", undefined, \"sqlite3_context*\", \"string\", \"int\", \"*\"],\n    [\"sqlite3_result_zeroblob\", undefined, \"sqlite3_context*\", \"int\"],\n    [\"sqlite3_rollback_hook\", \"void*\", [\n      \"sqlite3*\",\n      new wasm.xWrap.FuncPtrAdapter({\n        name: 'sqlite3_rollback_hook',\n        signature: 'v(p)',\n        contextKey: (argv)=>argv[0/* sqlite3* */]\n      }),\n      '*'\n    ]],\n    [\"sqlite3_set_authorizer\", \"int\", [\n      \"sqlite3*\",\n      new wasm.xWrap.FuncPtrAdapter({\n        name: \"sqlite3_set_authorizer::xAuth\",\n        signature: \"i(pi\"+\"ssss)\",\n        contextKey: (argv, argIndex)=>argv[0/*(sqlite3*)*/],\n        callProxy: (callback)=>{\n          return (pV, iCode, s0, s1, s2, s3)=>{\n            try{\n              s0 = s0 && wasm.cstrToJs(s0); s1 = s1 && wasm.cstrToJs(s1);\n              s2 = s2 && wasm.cstrToJs(s2); s3 = s3 && wasm.cstrToJs(s3);\n              return callback(pV, iCode, s0, s1, s2, s3) || 0;\n            }catch(e){\n              return e.resultCode || capi.SQLITE_ERROR;\n            }\n          }\n        }\n      }),\n      \"*\"/*pUserData*/\n    ]],\n    [\"sqlite3_set_auxdata\", undefined, [\n      \"sqlite3_context*\", \"int\", \"*\",\n      new wasm.xWrap.FuncPtrAdapter({\n        name: 'xDestroyAuxData',\n        signature: 'v(*)',\n        contextKey: (argv, argIndex)=>argv[0/* sqlite3_context* */]\n      })\n    ]],\n    [\"sqlite3_shutdown\", undefined],\n    [\"sqlite3_sourceid\", \"string\"],\n    [\"sqlite3_sql\", \"string\", \"sqlite3_stmt*\"],\n    [\"sqlite3_status\", \"int\", \"int\", \"*\", \"*\", \"int\"],\n    [\"sqlite3_step\", \"int\", \"sqlite3_stmt*\"],\n    [\"sqlite3_stmt_isexplain\", \"int\", [\"sqlite3_stmt*\"]],\n    [\"sqlite3_stmt_readonly\", \"int\", [\"sqlite3_stmt*\"]],\n    [\"sqlite3_stmt_status\", \"int\", \"sqlite3_stmt*\", \"int\", \"int\"],\n    [\"sqlite3_strglob\", \"int\", \"string\",\"string\"],\n    [\"sqlite3_stricmp\", \"int\", \"string\", \"string\"],\n    [\"sqlite3_strlike\", \"int\", \"string\", \"string\",\"int\"],\n    [\"sqlite3_strnicmp\", \"int\", \"string\", \"string\", \"int\"],\n    [\"sqlite3_table_column_metadata\", \"int\",\n     \"sqlite3*\", \"string\", \"string\", \"string\",\n     \"**\", \"**\", \"*\", \"*\", \"*\"],\n    [\"sqlite3_total_changes\", \"int\", \"sqlite3*\"],\n    [\"sqlite3_trace_v2\", \"int\", [\n      \"sqlite3*\", \"int\",\n      new wasm.xWrap.FuncPtrAdapter({\n        name: 'sqlite3_trace_v2::callback',\n        signature: 'i(ippp)',\n        contextKey: (argv,argIndex)=>argv[0/* sqlite3* */]\n      }),\n      \"*\"\n    ]],\n    [\"sqlite3_txn_state\", \"int\", [\"sqlite3*\",\"string\"]],\n    /* Note that sqlite3_uri_...() have very specific requirements for\n       their first C-string arguments, so we cannot perform any value\n       conversion on those. */\n    [\"sqlite3_uri_boolean\", \"int\", \"sqlite3_filename\", \"string\", \"int\"],\n    [\"sqlite3_uri_key\", \"string\", \"sqlite3_filename\", \"int\"],\n    [\"sqlite3_uri_parameter\", \"string\", \"sqlite3_filename\", \"string\"],\n    [\"sqlite3_user_data\",\"void*\", \"sqlite3_context*\"],\n    [\"sqlite3_value_blob\", \"*\", \"sqlite3_value*\"],\n    [\"sqlite3_value_bytes\",\"int\", \"sqlite3_value*\"],\n    [\"sqlite3_value_double\",\"f64\", \"sqlite3_value*\"],\n    [\"sqlite3_value_dup\", \"sqlite3_value*\", \"sqlite3_value*\"],\n    [\"sqlite3_value_free\", undefined, \"sqlite3_value*\"],\n    [\"sqlite3_value_frombind\", \"int\", \"sqlite3_value*\"],\n    [\"sqlite3_value_int\",\"int\", \"sqlite3_value*\"],\n    [\"sqlite3_value_nochange\", \"int\", \"sqlite3_value*\"],\n    [\"sqlite3_value_numeric_type\", \"int\", \"sqlite3_value*\"],\n    [\"sqlite3_value_pointer\", \"*\", \"sqlite3_value*\", \"string:static\"],\n    [\"sqlite3_value_subtype\", \"int\", \"sqlite3_value*\"],\n    [\"sqlite3_value_text\", \"string\", \"sqlite3_value*\"],\n    [\"sqlite3_value_type\", \"int\", \"sqlite3_value*\"],\n    [\"sqlite3_vfs_find\", \"*\", \"string\"],\n    [\"sqlite3_vfs_register\", \"int\", \"sqlite3_vfs*\", \"int\"],\n    [\"sqlite3_vfs_unregister\", \"int\", \"sqlite3_vfs*\"]\n  ]/*wasm.bindingSignatures*/;\n\n  if(false && wasm.compileOptionUsed('SQLITE_ENABLE_NORMALIZE')){\n    /* ^^^ \"the problem\" is that this is an option feature and the\n       build-time function-export list does not currently take\n       optional features into account. */\n    wasm.bindingSignatures.push([\"sqlite3_normalized_sql\", \"string\", \"sqlite3_stmt*\"]);\n  }\n\n  if(wasm.exports.sqlite3_activate_see instanceof Function){\n    wasm.bindingSignatures.push(\n      [\"sqlite3_key\", \"int\", \"sqlite3*\", \"string\", \"int\"],\n      [\"sqlite3_key_v2\",\"int\",\"sqlite3*\",\"string\",\"*\",\"int\"],\n      [\"sqlite3_rekey\", \"int\", \"sqlite3*\", \"string\", \"int\"],\n      [\"sqlite3_rekey_v2\", \"int\", \"sqlite3*\", \"string\", \"*\", \"int\"],\n      [\"sqlite3_activate_see\", undefined, \"string\"]\n    );\n  }\n  /**\n     Functions which require BigInt (int64) support are separated from\n     the others because we need to conditionally bind them or apply\n     dummy impls, depending on the capabilities of the environment.\n\n     Note that not all of these functions directly require int64\n     but are only for use with APIs which require int64. For example,\n     the vtab-related functions.\n  */\n  wasm.bindingSignatures.int64 = [\n    [\"sqlite3_bind_int64\",\"int\", [\"sqlite3_stmt*\", \"int\", \"i64\"]],\n    [\"sqlite3_changes64\",\"i64\", [\"sqlite3*\"]],\n    [\"sqlite3_column_int64\",\"i64\", [\"sqlite3_stmt*\", \"int\"]],\n    [\"sqlite3_create_module\", \"int\",\n     [\"sqlite3*\",\"string\",\"sqlite3_module*\",\"*\"]],\n    [\"sqlite3_create_module_v2\", \"int\",\n     [\"sqlite3*\",\"string\",\"sqlite3_module*\",\"*\",\"*\"]],\n    [\"sqlite3_declare_vtab\", \"int\", [\"sqlite3*\", \"string:flexible\"]],\n    [\"sqlite3_deserialize\", \"int\", \"sqlite3*\", \"string\", \"*\", \"i64\", \"i64\", \"int\"]\n    /* Careful! Short version: de/serialize() are problematic because they\n       might use a different allocator than the user for managing the\n       deserialized block. de/serialize() are ONLY safe to use with\n       sqlite3_malloc(), sqlite3_free(), and its 64-bit variants. */,\n    [\"sqlite3_drop_modules\", \"int\", [\"sqlite3*\", \"**\"]],\n    [\"sqlite3_last_insert_rowid\", \"i64\", [\"sqlite3*\"]],\n    [\"sqlite3_malloc64\", \"*\",\"i64\"],\n    [\"sqlite3_msize\", \"i64\", \"*\"],\n    [\"sqlite3_overload_function\", \"int\", [\"sqlite3*\",\"string\",\"int\"]],\n    [\"sqlite3_preupdate_blobwrite\", \"int\", \"sqlite3*\"],\n    [\"sqlite3_preupdate_count\", \"int\", \"sqlite3*\"],\n    [\"sqlite3_preupdate_depth\", \"int\", \"sqlite3*\"],\n    [\"sqlite3_preupdate_hook\", \"*\", [\n      \"sqlite3*\",\n      new wasm.xWrap.FuncPtrAdapter({\n        name: 'sqlite3_preupdate_hook',\n        signature: \"v(ppippjj)\",\n        contextKey: (argv)=>argv[0/* sqlite3* */],\n        callProxy: (callback)=>{\n          return (p,db,op,zDb,zTbl,iKey1,iKey2)=>{\n            callback(p, db, op, wasm.cstrToJs(zDb), wasm.cstrToJs(zTbl),\n                     iKey1, iKey2);\n          };\n        }\n      }),\n      \"*\"\n    ]],\n    [\"sqlite3_preupdate_new\", \"int\", [\"sqlite3*\", \"int\", \"**\"]],\n    [\"sqlite3_preupdate_old\", \"int\", [\"sqlite3*\", \"int\", \"**\"]],\n    [\"sqlite3_realloc64\", \"*\",\"*\", \"i64\"],\n    [\"sqlite3_result_int64\", undefined, \"*\", \"i64\"],\n    [\"sqlite3_result_zeroblob64\", \"int\", \"*\", \"i64\"],\n    [\"sqlite3_serialize\",\"*\", \"sqlite3*\", \"string\", \"*\", \"int\"],\n    [\"sqlite3_set_last_insert_rowid\", undefined, [\"sqlite3*\", \"i64\"]],\n    [\"sqlite3_status64\", \"int\", \"int\", \"*\", \"*\", \"int\"],\n    [\"sqlite3_total_changes64\", \"i64\", [\"sqlite3*\"]],\n    [\"sqlite3_update_hook\", \"*\", [\n      \"sqlite3*\",\n      new wasm.xWrap.FuncPtrAdapter({\n        name: 'sqlite3_update_hook',\n        signature: \"v(iippj)\",\n        contextKey: (argv)=>argv[0/* sqlite3* */],\n        callProxy: (callback)=>{\n          return (p,op,z0,z1,rowid)=>{\n            callback(p, op, wasm.cstrToJs(z0), wasm.cstrToJs(z1), rowid);\n          };\n        }\n      }),\n      \"*\"\n    ]],\n    [\"sqlite3_uri_int64\", \"i64\", [\"sqlite3_filename\", \"string\", \"i64\"]],\n    [\"sqlite3_value_int64\",\"i64\", \"sqlite3_value*\"],\n    [\"sqlite3_vtab_collation\",\"string\",\"sqlite3_index_info*\",\"int\"],\n    [\"sqlite3_vtab_distinct\",\"int\", \"sqlite3_index_info*\"],\n    [\"sqlite3_vtab_in\",\"int\", \"sqlite3_index_info*\", \"int\", \"int\"],\n    [\"sqlite3_vtab_in_first\", \"int\", \"sqlite3_value*\", \"**\"],\n    [\"sqlite3_vtab_in_next\", \"int\", \"sqlite3_value*\", \"**\"],\n    /*[\"sqlite3_vtab_config\" is variadic and requires a hand-written\n      proxy.] */\n    [\"sqlite3_vtab_nochange\",\"int\", \"sqlite3_context*\"],\n    [\"sqlite3_vtab_on_conflict\",\"int\", \"sqlite3*\"],\n    [\"sqlite3_vtab_rhs_value\",\"int\", \"sqlite3_index_info*\", \"int\", \"**\"]\n  ];\n\n  // Add session/changeset APIs...\n  if(wasm.bigIntEnabled && !!wasm.exports.sqlite3changegroup_add){\n    /* ACHTUNG: 2022-12-23: the session/changeset API bindings are\n       COMPLETELY UNTESTED. */\n    /**\n       FuncPtrAdapter options for session-related callbacks with the\n       native signature \"i(ps)\". This proxy converts the 2nd argument\n       from a C string to a JS string before passing the arguments on\n       to the client-provided JS callback.\n    */\n    const __ipsProxy = {\n      signature: 'i(ps)',\n      callProxy:(callback)=>{\n        return (p,s)=>{\n          try{return callback(p, wasm.cstrToJs(s)) | 0}\n          catch(e){return e.resultCode || capi.SQLITE_ERROR}\n        }\n      }\n    };\n\n    wasm.bindingSignatures.int64.push(...[\n      ['sqlite3changegroup_add', 'int', ['sqlite3_changegroup*', 'int', 'void*']],\n      ['sqlite3changegroup_add_strm', 'int', [\n        'sqlite3_changegroup*',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xInput', signature: 'i(ppp)', bindScope: 'transient'\n        }),\n        'void*'\n      ]],\n      ['sqlite3changegroup_delete', undefined, ['sqlite3_changegroup*']],\n      ['sqlite3changegroup_new', 'int', ['**']],\n      ['sqlite3changegroup_output', 'int', ['sqlite3_changegroup*', 'int*', '**']],\n      ['sqlite3changegroup_output_strm', 'int', [\n        'sqlite3_changegroup*',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xOutput', signature: 'i(ppi)', bindScope: 'transient'\n        }),\n        'void*'\n      ]],\n      ['sqlite3changeset_apply', 'int', [\n        'sqlite3*', 'int', 'void*',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xFilter', bindScope: 'transient', ...__ipsProxy\n        }),\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xConflict', signature: 'i(pip)', bindScope: 'transient'\n        }),\n        'void*'\n      ]],\n      ['sqlite3changeset_apply_strm', 'int', [\n        'sqlite3*',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xInput', signature: 'i(ppp)', bindScope: 'transient'\n        }),\n        'void*',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xFilter', bindScope: 'transient', ...__ipsProxy\n        }),\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xConflict', signature: 'i(pip)', bindScope: 'transient'\n        }),\n        'void*'\n      ]],\n      ['sqlite3changeset_apply_v2', 'int', [\n        'sqlite3*', 'int', 'void*',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xFilter', bindScope: 'transient', ...__ipsProxy\n        }),\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xConflict', signature: 'i(pip)', bindScope: 'transient'\n        }),\n        'void*', '**', 'int*', 'int'\n\n      ]],\n      ['sqlite3changeset_apply_v2_strm', 'int', [\n        'sqlite3*',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xInput', signature: 'i(ppp)', bindScope: 'transient'\n        }),\n        'void*',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xFilter', bindScope: 'transient', ...__ipsProxy\n        }),\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xConflict', signature: 'i(pip)', bindScope: 'transient'\n        }),\n        'void*', '**', 'int*', 'int'\n      ]],\n      ['sqlite3changeset_concat', 'int', ['int','void*', 'int', 'void*', 'int*', '**']],\n      ['sqlite3changeset_concat_strm', 'int', [\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xInputA', signature: 'i(ppp)', bindScope: 'transient'\n        }),\n        'void*',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xInputB', signature: 'i(ppp)', bindScope: 'transient'\n        }),\n        'void*',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xOutput', signature: 'i(ppi)', bindScope: 'transient'\n        }),\n        'void*'\n      ]],\n      ['sqlite3changeset_conflict', 'int', ['sqlite3_changeset_iter*', 'int', '**']],\n      ['sqlite3changeset_finalize', 'int', ['sqlite3_changeset_iter*']],\n      ['sqlite3changeset_fk_conflicts', 'int', ['sqlite3_changeset_iter*', 'int*']],\n      ['sqlite3changeset_invert', 'int', ['int', 'void*', 'int*', '**']],\n      ['sqlite3changeset_invert_strm', 'int', [\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xInput', signature: 'i(ppp)', bindScope: 'transient'\n        }),\n        'void*',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xOutput', signature: 'i(ppi)', bindScope: 'transient'\n        }),\n        'void*'\n      ]],\n      ['sqlite3changeset_new', 'int', ['sqlite3_changeset_iter*', 'int', '**']],\n      ['sqlite3changeset_next', 'int', ['sqlite3_changeset_iter*']],\n      ['sqlite3changeset_old', 'int', ['sqlite3_changeset_iter*', 'int', '**']],\n      ['sqlite3changeset_op', 'int', [\n        'sqlite3_changeset_iter*', '**', 'int*', 'int*','int*'\n      ]],\n      ['sqlite3changeset_pk', 'int', ['sqlite3_changeset_iter*', '**', 'int*']],\n      ['sqlite3changeset_start', 'int', ['**', 'int', '*']],\n      ['sqlite3changeset_start_strm', 'int', [\n        '**',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xInput', signature: 'i(ppp)', bindScope: 'transient'\n        }),\n        'void*'\n      ]],\n      ['sqlite3changeset_start_v2', 'int', ['**', 'int', '*', 'int']],\n      ['sqlite3changeset_start_v2_strm', 'int', [\n        '**',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xInput', signature: 'i(ppp)', bindScope: 'transient'\n        }),\n        'void*', 'int'\n      ]],\n      ['sqlite3session_attach', 'int', ['sqlite3_session*', 'string']],\n      ['sqlite3session_changeset', 'int', ['sqlite3_session*', 'int*', '**']],\n      ['sqlite3session_changeset_size', 'i64', ['sqlite3_session*']],\n      ['sqlite3session_changeset_strm', 'int', [\n        'sqlite3_session*',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xOutput', signature: 'i(ppp)', bindScope: 'transient'\n        }),\n        'void*'\n      ]],\n      ['sqlite3session_config', 'int', ['int', 'void*']],\n      ['sqlite3session_create', 'int', ['sqlite3*', 'string', '**']],\n      //sqlite3session_delete() is bound manually\n      ['sqlite3session_diff', 'int', ['sqlite3_session*', 'string', 'string', '**']],\n      ['sqlite3session_enable', 'int', ['sqlite3_session*', 'int']],\n      ['sqlite3session_indirect', 'int', ['sqlite3_session*', 'int']],\n      ['sqlite3session_isempty', 'int', ['sqlite3_session*']],\n      ['sqlite3session_memory_used', 'i64', ['sqlite3_session*']],\n      ['sqlite3session_object_config', 'int', ['sqlite3_session*', 'int', 'void*']],\n      ['sqlite3session_patchset', 'int', ['sqlite3_session*', '*', '**']],\n      ['sqlite3session_patchset_strm', 'int', [\n        'sqlite3_session*',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xOutput', signature: 'i(ppp)', bindScope: 'transient'\n        }),\n        'void*'\n      ]],\n      ['sqlite3session_table_filter', undefined, [\n        'sqlite3_session*',\n        new wasm.xWrap.FuncPtrAdapter({\n          name: 'xFilter', ...__ipsProxy,\n          contextKey: (argv,argIndex)=>argv[0/* (sqlite3_session*) */]\n        }),\n        '*'\n      ]]\n    ]);\n  }/*session/changeset APIs*/\n\n  /**\n     Functions which are intended solely for API-internal use by the\n     WASM components, not client code. These get installed into\n     sqlite3.wasm. Some of them get exposed to clients via variants\n     named sqlite3_js_...().\n  */\n  wasm.bindingSignatures.wasm = [\n    [\"sqlite3_wasm_db_reset\", \"int\", \"sqlite3*\"],\n    [\"sqlite3_wasm_db_vfs\", \"sqlite3_vfs*\", \"sqlite3*\",\"string\"],\n    [\"sqlite3_wasm_vfs_create_file\", \"int\",\n     \"sqlite3_vfs*\",\"string\",\"*\", \"int\"],\n    [\"sqlite3_wasm_posix_create_file\", \"int\", \"string\",\"*\", \"int\"],\n    [\"sqlite3_wasm_vfs_unlink\", \"int\", \"sqlite3_vfs*\",\"string\"]\n  ];\n\n  /**\n     Install JS<->C struct bindings for the non-opaque struct types we\n     need... */\n  sqlite3.StructBinder = globalThis.Jaccwabyt({\n    heap: 0 ? wasm.memory : wasm.heap8u,\n    alloc: wasm.alloc,\n    dealloc: wasm.dealloc,\n    bigIntEnabled: wasm.bigIntEnabled,\n    memberPrefix: /* Never change this: this prefix is baked into any\n                     amount of code and client-facing docs. */ '$'\n  });\n  delete globalThis.Jaccwabyt;\n\n  {// wasm.xWrap() bindings...\n\n    /* Convert Arrays and certain TypedArrays to strings for\n       'string:flexible'-type arguments */\n    const __xString = wasm.xWrap.argAdapter('string');\n    wasm.xWrap.argAdapter(\n      'string:flexible', (v)=>__xString(util.flexibleString(v))\n    );\n\n    /**\n       The 'string:static' argument adapter treats its argument as\n       either...\n\n       - WASM pointer: assumed to be a long-lived C-string which gets\n         returned as-is.\n\n       - Anything else: gets coerced to a JS string for use as a map\n         key. If a matching entry is found (as described next), it is\n         returned, else wasm.allocCString() is used to create a a new\n         string, map its pointer to (''+v) for the remainder of the\n         application's life, and returns that pointer value for this\n         call and all future calls which are passed a\n         string-equivalent argument.\n\n       Use case: sqlite3_bind_pointer() and sqlite3_result_pointer()\n       call for \"a static string and preferably a string\n       literal\". This converter is used to ensure that the string\n       value seen by those functions is long-lived and behaves as they\n       need it to.\n    */\n    wasm.xWrap.argAdapter(\n      'string:static',\n      function(v){\n        if(wasm.isPtr(v)) return v;\n        v = ''+v;\n        let rc = this[v];\n        return rc || (this[v] = wasm.allocCString(v));\n      }.bind(Object.create(null))\n    );\n\n    /**\n       Add some descriptive xWrap() aliases for '*' intended to (A)\n       initially improve readability/correctness of\n       wasm.bindingSignatures and (B) provide automatic conversion\n       from higher-level representations, e.g. capi.sqlite3_vfs to\n       `sqlite3_vfs*` via capi.sqlite3_vfs.pointer.\n    */\n    const __xArgPtr = wasm.xWrap.argAdapter('*');\n    const nilType = function(){}/*a class no value can ever be an instance of*/;\n    wasm.xWrap.argAdapter('sqlite3_filename', __xArgPtr)\n    ('sqlite3_context*', __xArgPtr)\n    ('sqlite3_value*', __xArgPtr)\n    ('void*', __xArgPtr)\n    ('sqlite3_changegroup*', __xArgPtr)\n    ('sqlite3_changeset_iter*', __xArgPtr)\n    //('sqlite3_rebaser*', __xArgPtr)\n    ('sqlite3_session*', __xArgPtr)\n    ('sqlite3_stmt*', (v)=>\n      __xArgPtr((v instanceof (sqlite3?.oo1?.Stmt || nilType))\n           ? v.pointer : v))\n    ('sqlite3*', (v)=>\n      __xArgPtr((v instanceof (sqlite3?.oo1?.DB || nilType))\n           ? v.pointer : v))\n    ('sqlite3_index_info*', (v)=>\n      __xArgPtr((v instanceof (capi.sqlite3_index_info || nilType))\n           ? v.pointer : v))\n    ('sqlite3_module*', (v)=>\n      __xArgPtr((v instanceof (capi.sqlite3_module || nilType))\n           ? v.pointer : v))\n    /**\n       `sqlite3_vfs*`:\n\n       - v is-a string: use the result of sqlite3_vfs_find(v) but\n         throw if it returns 0.\n       - v is-a capi.sqlite3_vfs: use v.pointer.\n       - Else return the same as the `'*'` argument conversion.\n    */\n    ('sqlite3_vfs*', (v)=>{\n      if('string'===typeof v){\n        /* A NULL sqlite3_vfs pointer will be treated as the default\n           VFS in many contexts. We specifically do not want that\n           behavior here. */\n        return capi.sqlite3_vfs_find(v)\n          || sqlite3.SQLite3Error.toss(\n            capi.SQLITE_NOTFOUND,\n            \"Unknown sqlite3_vfs name:\", v\n          );\n      }\n      return __xArgPtr((v instanceof (capi.sqlite3_vfs || nilType))\n                       ? v.pointer : v);\n    });\n\n    const __xRcPtr = wasm.xWrap.resultAdapter('*');\n    wasm.xWrap.resultAdapter('sqlite3*', __xRcPtr)\n    ('sqlite3_context*', __xRcPtr)\n    ('sqlite3_stmt*', __xRcPtr)\n    ('sqlite3_value*', __xRcPtr)\n    ('sqlite3_vfs*', __xRcPtr)\n    ('void*', __xRcPtr);\n\n    /**\n       Populate api object with sqlite3_...() by binding the \"raw\" wasm\n       exports into type-converting proxies using wasm.xWrap().\n    */\n    if(0 === wasm.exports.sqlite3_step.length){\n      /* This environment wraps exports in nullary functions, which means\n         we must disable the arg-count validation we otherwise perform\n         on the wrappers. */\n      wasm.xWrap.doArgcCheck = false;\n      sqlite3.config.warn(\n        \"Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks.\"\n      );\n    }\n    for(const e of wasm.bindingSignatures){\n      capi[e[0]] = wasm.xWrap.apply(null, e);\n    }\n    for(const e of wasm.bindingSignatures.wasm){\n      wasm[e[0]] = wasm.xWrap.apply(null, e);\n    }\n\n    /* For C API functions which cannot work properly unless\n       wasm.bigIntEnabled is true, install a bogus impl which throws\n       if called when bigIntEnabled is false. The alternative would be\n       to elide these functions altogether, which seems likely to\n       cause more confusion. */\n    const fI64Disabled = function(fname){\n      return ()=>toss(fname+\"() is unavailable due to lack\",\n                      \"of BigInt support in this build.\");\n    };\n    for(const e of wasm.bindingSignatures.int64){\n      capi[e[0]] = wasm.bigIntEnabled\n        ? wasm.xWrap.apply(null, e)\n        : fI64Disabled(e[0]);\n    }\n\n    /* There's no need to expose bindingSignatures to clients,\n       implicitly making it part of the public interface. */\n    delete wasm.bindingSignatures;\n\n    if(wasm.exports.sqlite3_wasm_db_error){\n      const __db_err = wasm.xWrap(\n        'sqlite3_wasm_db_error', 'int', 'sqlite3*', 'int', 'string'\n      );\n      /**\n         Sets the given db's error state. Accepts:\n\n         - (sqlite3*, int code, string msg)\n         - (sqlite3*, Error e [,string msg = ''+e])\n\n         If passed a WasmAllocError, the message is ignored and the\n         result code is SQLITE_NOMEM. If passed any other Error type,\n         the result code defaults to SQLITE_ERROR unless the Error\n         object has a resultCode property, in which case that is used\n         (e.g. SQLite3Error has that). If passed a non-WasmAllocError\n         exception, the message string defaults to theError.message.\n\n         Returns the resulting code. Pass (pDb,0,0) to clear the error\n         state.\n       */\n      util.sqlite3_wasm_db_error = function(pDb, resultCode, message){\n        if(resultCode instanceof sqlite3.WasmAllocError){\n          resultCode = capi.SQLITE_NOMEM;\n          message = 0 /*avoid allocating message string*/;\n        }else if(resultCode instanceof Error){\n          message = message || ''+resultCode;\n          resultCode = (resultCode.resultCode || capi.SQLITE_ERROR);\n        }\n        return pDb ? __db_err(pDb, resultCode, message) : resultCode;\n      };\n    }else{\n      util.sqlite3_wasm_db_error = function(pDb,errCode,msg){\n        console.warn(\"sqlite3_wasm_db_error() is not exported.\",arguments);\n        return errCode;\n      };\n    }\n  }/*xWrap() bindings*/\n\n  {/* Import C-level constants and structs... */\n    const cJson = wasm.xCall('sqlite3_wasm_enum_json');\n    if(!cJson){\n      toss(\"Maintenance required: increase sqlite3_wasm_enum_json()'s\",\n           \"static buffer size!\");\n    }\n    //console.debug('wasm.ctype length =',wasm.cstrlen(cJson));\n    wasm.ctype = JSON.parse(wasm.cstrToJs(cJson));\n    // Groups of SQLITE_xyz macros...\n    const defineGroups = ['access', 'authorizer',\n                          'blobFinalizers', 'changeset',\n                          'config', 'dataTypes',\n                          'dbConfig', 'dbStatus',\n                          'encodings', 'fcntl', 'flock', 'ioCap',\n                          'limits', 'openFlags',\n                          'prepareFlags', 'resultCodes',\n                          'sqlite3Status',\n                          'stmtStatus', 'syncFlags',\n                          'trace', 'txnState', 'udfFlags',\n                          'version' ];\n    if(wasm.bigIntEnabled){\n      defineGroups.push('serialize', 'session', 'vtab');\n    }\n    for(const t of defineGroups){\n      for(const e of Object.entries(wasm.ctype[t])){\n        // ^^^ [k,v] there triggers a buggy code transformation via\n        // one of the Emscripten-driven optimizers.\n        capi[e[0]] = e[1];\n      }\n    }\n    if(!wasm.functionEntry(capi.SQLITE_WASM_DEALLOC)){\n      toss(\"Internal error: cannot resolve exported function\",\n           \"entry SQLITE_WASM_DEALLOC (==\"+capi.SQLITE_WASM_DEALLOC+\").\");\n    }\n    const __rcMap = Object.create(null);\n    for(const t of ['resultCodes']){\n      for(const e of Object.entries(wasm.ctype[t])){\n        __rcMap[e[1]] = e[0];\n      }\n    }\n    /**\n       For the given integer, returns the SQLITE_xxx result code as a\n       string, or undefined if no such mapping is found.\n    */\n    capi.sqlite3_js_rc_str = (rc)=>__rcMap[rc];\n    /* Bind all registered C-side structs... */\n    const notThese = Object.assign(Object.create(null),{\n      // For each struct to NOT register, map its name to true:\n      WasmTestStruct: true,\n      /* We unregister the kvvfs VFS from Worker threads below. */\n      sqlite3_kvvfs_methods: !util.isUIThread(),\n      /* sqlite3_index_info and friends require int64: */\n      sqlite3_index_info: !wasm.bigIntEnabled,\n      sqlite3_index_constraint: !wasm.bigIntEnabled,\n      sqlite3_index_orderby: !wasm.bigIntEnabled,\n      sqlite3_index_constraint_usage: !wasm.bigIntEnabled\n    });\n    for(const s of wasm.ctype.structs){\n      if(!notThese[s.name]){\n        capi[s.name] = sqlite3.StructBinder(s);\n      }\n    }\n    if(capi.sqlite3_index_info){\n      /* Move these inner structs into sqlite3_index_info.  Binding\n      ** them to WASM requires that we create global-scope structs to\n      ** model them with, but those are no longer needed after we've\n      ** passed them to StructBinder. */\n      for(const k of ['sqlite3_index_constraint',\n                      'sqlite3_index_orderby',\n                      'sqlite3_index_constraint_usage']){\n        capi.sqlite3_index_info[k] = capi[k];\n        delete capi[k];\n      }\n      capi.sqlite3_vtab_config = wasm.xWrap(\n        'sqlite3_wasm_vtab_config','int',[\n          'sqlite3*', 'int', 'int']\n      );\n    }/* end vtab-related setup */\n  }/*end C constant and struct imports*/\n\n  /**\n     Internal helper to assist in validating call argument counts in\n     the hand-written sqlite3_xyz() wrappers. We do this only for\n     consistency with non-special-case wrappings.\n  */\n  const __dbArgcMismatch = (pDb,f,n)=>{\n    return util.sqlite3_wasm_db_error(pDb, capi.SQLITE_MISUSE,\n                                      f+\"() requires \"+n+\" argument\"+\n                                      (1===n?\"\":'s')+\".\");\n  };\n\n  /** Code duplication reducer for functions which take an encoding\n      argument and require SQLITE_UTF8.  Sets the db error code to\n      SQLITE_FORMAT and returns that code. */\n  const __errEncoding = (pDb)=>{\n    return util.sqlite3_wasm_db_error(\n      pDb, capi.SQLITE_FORMAT, \"SQLITE_UTF8 is the only supported encoding.\"\n    );\n  };\n\n  /**\n     __dbCleanupMap is infrastructure for recording registration of\n     UDFs and collations so that sqlite3_close_v2() can clean up any\n     automated JS-to-WASM function conversions installed by those.\n  */\n  const __argPDb = (pDb)=>wasm.xWrap.argAdapter('sqlite3*')(pDb);\n  const __argStr = (str)=>wasm.isPtr(str) ? wasm.cstrToJs(str) : str;\n  const __dbCleanupMap = function(\n    pDb, mode/*0=remove, >0=create if needed, <0=do not create if missing*/\n  ){\n    pDb = __argPDb(pDb);\n    let m = this.dbMap.get(pDb);\n    if(!mode){\n      this.dbMap.delete(pDb);\n      return m;\n    }else if(!m && mode>0){\n      this.dbMap.set(pDb, (m = Object.create(null)));\n    }\n    return m;\n  }.bind(Object.assign(Object.create(null),{\n    dbMap: new Map\n  }));\n\n  __dbCleanupMap.addCollation = function(pDb, name){\n    const m = __dbCleanupMap(pDb, 1);\n    if(!m.collation) m.collation = new Set;\n    m.collation.add(__argStr(name).toLowerCase());\n  };\n\n  __dbCleanupMap._addUDF = function(pDb, name, arity, map){\n    /* Map UDF name to a Set of arity values */\n    name = __argStr(name).toLowerCase();\n    let u = map.get(name);\n    if(!u) map.set(name, (u = new Set));\n    u.add((arity<0) ? -1 : arity);\n  };\n\n  __dbCleanupMap.addFunction = function(pDb, name, arity){\n    const m = __dbCleanupMap(pDb, 1);\n    if(!m.udf) m.udf = new Map;\n    this._addUDF(pDb, name, arity, m.udf);\n  };\n\n  __dbCleanupMap.addWindowFunc = function(pDb, name, arity){\n    const m = __dbCleanupMap(pDb, 1);\n    if(!m.wudf) m.wudf = new Map;\n    this._addUDF(pDb, name, arity, m.wudf);\n  };\n\n  /**\n     Intended to be called _only_ from sqlite3_close_v2(),\n     passed its non-0 db argument.\n\n     This function frees up certain automatically-installed WASM\n     function bindings which were installed on behalf of the given db,\n     as those may otherwise leak.\n\n     Notable caveat: this is only ever run via\n     sqlite3.capi.sqlite3_close_v2(). If a client, for whatever\n     reason, uses sqlite3.wasm.exports.sqlite3_close_v2() (the\n     function directly exported from WASM), this cleanup will not\n     happen.\n\n     This is not a silver bullet for avoiding automation-related\n     leaks but represents \"an honest effort.\"\n\n     The issue being addressed here is covered at:\n\n     https://sqlite.org/wasm/doc/trunk/api-c-style.md#convert-func-ptr\n  */\n  __dbCleanupMap.cleanup = function(pDb){\n    pDb = __argPDb(pDb);\n    //wasm.xWrap.FuncPtrAdapter.debugFuncInstall = false;\n    /**\n       Installing NULL functions in the C API will remove those\n       bindings. The FuncPtrAdapter which sits between us and the C\n       API will also treat that as an opportunity to\n       wasm.uninstallFunction() any WASM function bindings it has\n       installed for pDb.\n    */\n    const closeArgs = [pDb];\n    for(const name of [\n      'sqlite3_busy_handler',\n      'sqlite3_commit_hook',\n      'sqlite3_preupdate_hook',\n      'sqlite3_progress_handler',\n      'sqlite3_rollback_hook',\n      'sqlite3_set_authorizer',\n      'sqlite3_trace_v2',\n      'sqlite3_update_hook'\n    ]) {\n      const x = wasm.exports[name];\n      closeArgs.length = x.length/*==argument count*/\n      /* recall that undefined entries translate to 0 when passed to\n         WASM. */;\n      try{ capi[name](...closeArgs) }\n      catch(e){\n        console.warn(\"close-time call of\",name+\"(\",closeArgs,\") threw:\",e);\n      }\n    }\n    const m = __dbCleanupMap(pDb, 0);\n    if(!m) return;\n    if(m.collation){\n      for(const name of m.collation){\n        try{\n          capi.sqlite3_create_collation_v2(\n            pDb, name, capi.SQLITE_UTF8, 0, 0, 0\n          );\n        }catch(e){\n          /*ignored*/\n        }\n      }\n      delete m.collation;\n    }\n    let i;\n    for(i = 0; i < 2; ++i){ /* Clean up UDFs... */\n      const fmap = i ? m.wudf : m.udf;\n      if(!fmap) continue;\n      const func = i\n            ? capi.sqlite3_create_window_function\n            : capi.sqlite3_create_function_v2;\n      for(const e of fmap){\n        const name = e[0], arities = e[1];\n        const fargs = [pDb, name, 0/*arity*/, capi.SQLITE_UTF8, 0, 0, 0, 0, 0];\n        if(i) fargs.push(0);\n        for(const arity of arities){\n          try{ fargs[2] = arity; func.apply(null, fargs); }\n          catch(e){/*ignored*/}\n        }\n        arities.clear();\n      }\n      fmap.clear();\n    }\n    delete m.udf;\n    delete m.wudf;\n  }/*__dbCleanupMap.cleanup()*/;\n\n  {/* Binding of sqlite3_close_v2() */\n    const __sqlite3CloseV2 = wasm.xWrap(\"sqlite3_close_v2\", \"int\", \"sqlite3*\");\n    capi.sqlite3_close_v2 = function(pDb){\n      if(1!==arguments.length) return __dbArgcMismatch(pDb, 'sqlite3_close_v2', 1);\n      if(pDb){\n        try{__dbCleanupMap.cleanup(pDb)} catch(e){/*ignored*/}\n      }\n      return __sqlite3CloseV2(pDb);\n    };\n  }/*sqlite3_close_v2()*/\n\n  if(capi.sqlite3session_table_filter){\n    const __sqlite3SessionDelete = wasm.xWrap(\n      'sqlite3session_delete', undefined, ['sqlite3_session*']\n    );\n    capi.sqlite3session_delete = function(pSession){\n      if(1!==arguments.length){\n        return __dbArgcMismatch(pDb, 'sqlite3session_delete', 1);\n        /* Yes, we're returning a value from a void function. That seems\n           like the lesser evil compared to not maintaining arg-count\n           consistency as we do with other similar bindings. */\n      }\n      else if(pSession){\n        //wasm.xWrap.FuncPtrAdapter.debugFuncInstall = true;\n        capi.sqlite3session_table_filter(pSession, 0, 0);\n      }\n      __sqlite3SessionDelete(pSession);\n    };\n  }\n\n  {/* Bindings for sqlite3_create_collation[_v2]() */\n    // contextKey() impl for wasm.xWrap.FuncPtrAdapter\n    const contextKey = (argv,argIndex)=>{\n      return 'argv['+argIndex+']:'+argv[0/* sqlite3* */]+\n        ':'+wasm.cstrToJs(argv[1/* collation name */]).toLowerCase()\n    };\n    const __sqlite3CreateCollationV2 = wasm.xWrap(\n      'sqlite3_create_collation_v2', 'int', [\n        'sqlite3*', 'string', 'int', '*',\n        new wasm.xWrap.FuncPtrAdapter({\n          /* int(*xCompare)(void*,int,const void*,int,const void*) */\n          name: 'xCompare', signature: 'i(pipip)', contextKey\n        }),\n        new wasm.xWrap.FuncPtrAdapter({\n          /* void(*xDestroy(void*) */\n          name: 'xDestroy', signature: 'v(p)', contextKey\n        })\n      ]\n    );\n\n    /**\n       Works exactly like C's sqlite3_create_collation_v2() except that:\n\n       1) It returns capi.SQLITE_FORMAT if the 3rd argument contains\n          any encoding-related value other than capi.SQLITE_UTF8.  No\n          other encodings are supported. As a special case, if the\n          bottom 4 bits of that argument are 0, SQLITE_UTF8 is\n          assumed.\n\n       2) It accepts JS functions for its function-pointer arguments,\n          for which it will install WASM-bound proxies. The bindings\n          are \"permanent,\" in that they will stay in the WASM environment\n          until it shuts down unless the client calls this again with the\n          same collation name and a value of 0 or null for the\n          the function pointer(s).\n\n       For consistency with the C API, it requires the same number of\n       arguments. It returns capi.SQLITE_MISUSE if passed any other\n       argument count.\n\n       Returns 0 on success, non-0 on error, in which case the error\n       state of pDb (of type `sqlite3*` or argument-convertible to it)\n       may contain more information.\n    */\n    capi.sqlite3_create_collation_v2 = function(pDb,zName,eTextRep,pArg,xCompare,xDestroy){\n      if(6!==arguments.length) return __dbArgcMismatch(pDb, 'sqlite3_create_collation_v2', 6);\n      else if( 0 === (eTextRep & 0xf) ){\n        eTextRep |= capi.SQLITE_UTF8;\n      }else if( capi.SQLITE_UTF8 !== (eTextRep & 0xf) ){\n        return __errEncoding(pDb);\n      }\n      try{\n        const rc = __sqlite3CreateCollationV2(pDb, zName, eTextRep, pArg, xCompare, xDestroy);\n        if(0===rc && xCompare instanceof Function){\n          __dbCleanupMap.addCollation(pDb, zName);\n        }\n        return rc;\n      }catch(e){\n        return util.sqlite3_wasm_db_error(pDb, e);\n      }\n    };\n\n    capi.sqlite3_create_collation = (pDb,zName,eTextRep,pArg,xCompare)=>{\n      return (5===arguments.length)\n        ? capi.sqlite3_create_collation_v2(pDb,zName,eTextRep,pArg,xCompare,0)\n        : __dbArgcMismatch(pDb, 'sqlite3_create_collation', 5);\n    };\n\n  }/*sqlite3_create_collation() and friends*/\n\n  {/* Special-case handling of sqlite3_create_function_v2()\n      and sqlite3_create_window_function(). */\n    /** FuncPtrAdapter for contextKey() for sqlite3_create_function()\n        and friends. */\n    const contextKey = function(argv,argIndex){\n      return (\n        argv[0/* sqlite3* */]\n          +':'+(argv[2/*number of UDF args*/] < 0 ? -1 : argv[2])\n          +':'+argIndex/*distinct for each xAbc callback type*/\n          +':'+wasm.cstrToJs(argv[1]).toLowerCase()\n      )\n    };\n\n    /**\n       JS proxies for the various sqlite3_create[_window]_function()\n       callbacks, structured in a form usable by wasm.xWrap.FuncPtrAdapter.\n    */\n    const __cfProxy = Object.assign(Object.create(null), {\n      xInverseAndStep: {\n        signature:'v(pip)', contextKey,\n        callProxy: (callback)=>{\n          return (pCtx, argc, pArgv)=>{\n            try{ callback(pCtx, ...capi.sqlite3_values_to_js(argc, pArgv)) }\n            catch(e){ capi.sqlite3_result_error_js(pCtx, e) }\n          };\n        }\n      },\n      xFinalAndValue: {\n        signature:'v(p)', contextKey,\n        callProxy: (callback)=>{\n          return (pCtx)=>{\n            try{ capi.sqlite3_result_js(pCtx, callback(pCtx)) }\n            catch(e){ capi.sqlite3_result_error_js(pCtx, e) }\n          };\n        }\n      },\n      xFunc: {\n        signature:'v(pip)', contextKey,\n        callProxy: (callback)=>{\n          return (pCtx, argc, pArgv)=>{\n            try{\n              capi.sqlite3_result_js(\n                pCtx,\n                callback(pCtx, ...capi.sqlite3_values_to_js(argc, pArgv))\n              );\n            }catch(e){\n              //console.error('xFunc() caught:',e);\n              capi.sqlite3_result_error_js(pCtx, e);\n            }\n          };\n        }\n      },\n      xDestroy: {\n        signature:'v(p)', contextKey,\n        //Arguable: a well-behaved destructor doesn't require a proxy.\n        callProxy: (callback)=>{\n          return (pVoid)=>{\n            try{ callback(pVoid) }\n            catch(e){ console.error(\"UDF xDestroy method threw:\",e) }\n          };\n        }\n      }\n    })/*__cfProxy*/;\n\n    const __sqlite3CreateFunction = wasm.xWrap(\n      \"sqlite3_create_function_v2\", \"int\", [\n        \"sqlite3*\", \"string\"/*funcName*/, \"int\"/*nArg*/,\n        \"int\"/*eTextRep*/, \"*\"/*pApp*/,\n        new wasm.xWrap.FuncPtrAdapter({name: 'xFunc', ...__cfProxy.xFunc}),\n        new wasm.xWrap.FuncPtrAdapter({name: 'xStep', ...__cfProxy.xInverseAndStep}),\n        new wasm.xWrap.FuncPtrAdapter({name: 'xFinal', ...__cfProxy.xFinalAndValue}),\n        new wasm.xWrap.FuncPtrAdapter({name: 'xDestroy', ...__cfProxy.xDestroy})\n      ]\n    );\n\n    const __sqlite3CreateWindowFunction = wasm.xWrap(\n      \"sqlite3_create_window_function\", \"int\", [\n        \"sqlite3*\", \"string\"/*funcName*/, \"int\"/*nArg*/,\n        \"int\"/*eTextRep*/, \"*\"/*pApp*/,\n        new wasm.xWrap.FuncPtrAdapter({name: 'xStep', ...__cfProxy.xInverseAndStep}),\n        new wasm.xWrap.FuncPtrAdapter({name: 'xFinal', ...__cfProxy.xFinalAndValue}),\n        new wasm.xWrap.FuncPtrAdapter({name: 'xValue', ...__cfProxy.xFinalAndValue}),\n        new wasm.xWrap.FuncPtrAdapter({name: 'xInverse', ...__cfProxy.xInverseAndStep}),\n        new wasm.xWrap.FuncPtrAdapter({name: 'xDestroy', ...__cfProxy.xDestroy})\n      ]\n    );\n\n    /* Documented in the api object's initializer. */\n    capi.sqlite3_create_function_v2 = function f(\n      pDb, funcName, nArg, eTextRep, pApp,\n      xFunc,   //void (*xFunc)(sqlite3_context*,int,sqlite3_value**)\n      xStep,   //void (*xStep)(sqlite3_context*,int,sqlite3_value**)\n      xFinal,  //void (*xFinal)(sqlite3_context*)\n      xDestroy //void (*xDestroy)(void*)\n    ){\n      if( f.length!==arguments.length ){\n        return __dbArgcMismatch(pDb,\"sqlite3_create_function_v2\",f.length);\n      }else if( 0 === (eTextRep & 0xf) ){\n        eTextRep |= capi.SQLITE_UTF8;\n      }else if( capi.SQLITE_UTF8 !== (eTextRep & 0xf) ){\n        return __errEncoding(pDb);\n      }\n      try{\n        const rc = __sqlite3CreateFunction(pDb, funcName, nArg, eTextRep,\n                                           pApp, xFunc, xStep, xFinal, xDestroy);\n        if(0===rc && (xFunc instanceof Function\n                      || xStep instanceof Function\n                      || xFinal instanceof Function\n                      || xDestroy instanceof Function)){\n          __dbCleanupMap.addFunction(pDb, funcName, nArg);\n        }\n        return rc;\n      }catch(e){\n        console.error(\"sqlite3_create_function_v2() setup threw:\",e);\n        return util.sqlite3_wasm_db_error(pDb, e, \"Creation of UDF threw: \"+e);\n      }\n    };\n\n    /* Documented in the api object's initializer. */\n    capi.sqlite3_create_function = function f(\n      pDb, funcName, nArg, eTextRep, pApp,\n      xFunc, xStep, xFinal\n    ){\n      return (f.length===arguments.length)\n        ? capi.sqlite3_create_function_v2(pDb, funcName, nArg, eTextRep,\n                                          pApp, xFunc, xStep, xFinal, 0)\n        : __dbArgcMismatch(pDb,\"sqlite3_create_function\",f.length);\n    };\n\n    /* Documented in the api object's initializer. */\n    capi.sqlite3_create_window_function = function f(\n      pDb, funcName, nArg, eTextRep, pApp,\n      xStep,   //void (*xStep)(sqlite3_context*,int,sqlite3_value**)\n      xFinal,  //void (*xFinal)(sqlite3_context*)\n      xValue,  //void (*xValue)(sqlite3_context*)\n      xInverse,//void (*xInverse)(sqlite3_context*,int,sqlite3_value**)\n      xDestroy //void (*xDestroy)(void*)\n    ){\n      if( f.length!==arguments.length ){\n        return __dbArgcMismatch(pDb,\"sqlite3_create_window_function\",f.length);\n      }else if( 0 === (eTextRep & 0xf) ){\n        eTextRep |= capi.SQLITE_UTF8;\n      }else if( capi.SQLITE_UTF8 !== (eTextRep & 0xf) ){\n        return __errEncoding(pDb);\n      }\n      try{\n        const rc = __sqlite3CreateWindowFunction(pDb, funcName, nArg, eTextRep,\n                                                 pApp, xStep, xFinal, xValue,\n                                                 xInverse, xDestroy);\n        if(0===rc && (xStep instanceof Function\n                      || xFinal instanceof Function\n                      || xValue instanceof Function\n                      || xInverse instanceof Function\n                      || xDestroy instanceof Function)){\n          __dbCleanupMap.addWindowFunc(pDb, funcName, nArg);\n        }\n        return rc;\n      }catch(e){\n        console.error(\"sqlite3_create_window_function() setup threw:\",e);\n        return util.sqlite3_wasm_db_error(pDb, e, \"Creation of UDF threw: \"+e);\n      }\n    };\n    /**\n       A _deprecated_ alias for capi.sqlite3_result_js() which\n       predates the addition of that function in the public API.\n    */\n    capi.sqlite3_create_function_v2.udfSetResult =\n      capi.sqlite3_create_function.udfSetResult =\n      capi.sqlite3_create_window_function.udfSetResult = capi.sqlite3_result_js;\n\n    /**\n       A _deprecated_ alias for capi.sqlite3_values_to_js() which\n       predates the addition of that function in the public API.\n    */\n    capi.sqlite3_create_function_v2.udfConvertArgs =\n      capi.sqlite3_create_function.udfConvertArgs =\n      capi.sqlite3_create_window_function.udfConvertArgs = capi.sqlite3_values_to_js;\n\n    /**\n       A _deprecated_ alias for capi.sqlite3_result_error_js() which\n       predates the addition of that function in the public API.\n    */\n    capi.sqlite3_create_function_v2.udfSetError =\n      capi.sqlite3_create_function.udfSetError =\n      capi.sqlite3_create_window_function.udfSetError = capi.sqlite3_result_error_js;\n\n  }/*sqlite3_create_function_v2() and sqlite3_create_window_function() proxies*/;\n\n  {/* Special-case handling of sqlite3_prepare_v2() and\n      sqlite3_prepare_v3() */\n\n    /**\n       Helper for string:flexible conversions which require a\n       byte-length counterpart argument. Passed a value and its\n       ostensible length, this function returns [V,N], where V is\n       either v or a transformed copy of v and N is either n, -1, or\n       the byte length of v (if it's a byte array or ArrayBuffer).\n    */\n    const __flexiString = (v,n)=>{\n      if('string'===typeof v){\n        n = -1;\n      }else if(util.isSQLableTypedArray(v)){\n        n = v.byteLength;\n        v = util.typedArrayToString(\n          (v instanceof ArrayBuffer) ? new Uint8Array(v) : v\n        );\n      }else if(Array.isArray(v)){\n        v = v.join(\"\");\n        n = -1;\n      }\n      return [v, n];\n    };\n\n    /**\n       Scope-local holder of the two impls of sqlite3_prepare_v2/v3().\n    */\n    const __prepare = {\n      /**\n         This binding expects a JS string as its 2nd argument and\n         null as its final argument. In order to compile multiple\n         statements from a single string, the \"full\" impl (see\n         below) must be used.\n      */\n      basic: wasm.xWrap('sqlite3_prepare_v3',\n                        \"int\", [\"sqlite3*\", \"string\",\n                                \"int\"/*ignored for this impl!*/,\n                                \"int\", \"**\",\n                                \"**\"/*MUST be 0 or null or undefined!*/]),\n      /**\n         Impl which requires that the 2nd argument be a pointer\n         to the SQL string, instead of being converted to a\n         string. This variant is necessary for cases where we\n         require a non-NULL value for the final argument\n         (exec()'ing multiple statements from one input\n         string). For simpler cases, where only the first\n         statement in the SQL string is required, the wrapper\n         named sqlite3_prepare_v2() is sufficient and easier to\n         use because it doesn't require dealing with pointers.\n      */\n      full: wasm.xWrap('sqlite3_prepare_v3',\n                       \"int\", [\"sqlite3*\", \"*\", \"int\", \"int\",\n                               \"**\", \"**\"])\n    };\n\n    /* Documented in the capi object's initializer. */\n    capi.sqlite3_prepare_v3 = function f(pDb, sql, sqlLen, prepFlags, ppStmt, pzTail){\n      if(f.length!==arguments.length){\n        return __dbArgcMismatch(pDb,\"sqlite3_prepare_v3\",f.length);\n      }\n      const [xSql, xSqlLen] = __flexiString(sql, sqlLen);\n      switch(typeof xSql){\n          case 'string': return __prepare.basic(pDb, xSql, xSqlLen, prepFlags, ppStmt, null);\n          case 'number': return __prepare.full(pDb, xSql, xSqlLen, prepFlags, ppStmt, pzTail);\n          default:\n            return util.sqlite3_wasm_db_error(\n              pDb, capi.SQLITE_MISUSE,\n              \"Invalid SQL argument type for sqlite3_prepare_v2/v3().\"\n            );\n      }\n    };\n\n    /* Documented in the capi object's initializer. */\n    capi.sqlite3_prepare_v2 = function f(pDb, sql, sqlLen, ppStmt, pzTail){\n      return (f.length===arguments.length)\n        ? capi.sqlite3_prepare_v3(pDb, sql, sqlLen, 0, ppStmt, pzTail)\n        : __dbArgcMismatch(pDb,\"sqlite3_prepare_v2\",f.length);\n    };\n\n  }/*sqlite3_prepare_v2/v3()*/\n\n  {/*sqlite3_bind_text/blob()*/\n    const __bindText = wasm.xWrap(\"sqlite3_bind_text\", \"int\", [\n      \"sqlite3_stmt*\", \"int\", \"string\", \"int\", \"*\"\n    ]);\n    const __bindBlob = wasm.xWrap(\"sqlite3_bind_blob\", \"int\", [\n      \"sqlite3_stmt*\", \"int\", \"*\", \"int\", \"*\"\n    ]);\n\n    /** Documented in the capi object's initializer. */\n    capi.sqlite3_bind_text = function f(pStmt, iCol, text, nText, xDestroy){\n      if(f.length!==arguments.length){\n        return __dbArgcMismatch(capi.sqlite3_db_handle(pStmt),\n                                \"sqlite3_bind_text\", f.length);\n      }else if(wasm.isPtr(text) || null===text){\n        return __bindText(pStmt, iCol, text, nText, xDestroy);\n      }else if(text instanceof ArrayBuffer){\n        text = new Uint8Array(text);\n      }else if(Array.isArray(pMem)){\n        text = pMem.join('');\n      }\n      let p, n;\n      try{\n        if(util.isSQLableTypedArray(text)){\n          p = wasm.allocFromTypedArray(text);\n          n = text.byteLength;\n        }else if('string'===typeof text){\n          [p, n] = wasm.allocCString(text);\n        }else{\n          return util.sqlite3_wasm_db_error(\n            capi.sqlite3_db_handle(pStmt), capi.SQLITE_MISUSE,\n            \"Invalid 3rd argument type for sqlite3_bind_text().\"\n          );\n        }\n        return __bindText(pStmt, iCol, p, n, capi.SQLITE_WASM_DEALLOC);\n      }catch(e){\n        wasm.dealloc(p);\n        return util.sqlite3_wasm_db_error(\n          capi.sqlite3_db_handle(pStmt), e\n        );\n      }\n    }/*sqlite3_bind_text()*/;\n\n    /** Documented in the capi object's initializer. */\n    capi.sqlite3_bind_blob = function f(pStmt, iCol, pMem, nMem, xDestroy){\n      if(f.length!==arguments.length){\n        return __dbArgcMismatch(capi.sqlite3_db_handle(pStmt),\n                                \"sqlite3_bind_blob\", f.length);\n      }else if(wasm.isPtr(pMem) || null===pMem){\n        return __bindBlob(pStmt, iCol, pMem, nMem, xDestroy);\n      }else if(pMem instanceof ArrayBuffer){\n        pMem = new Uint8Array(pMem);\n      }else if(Array.isArray(pMem)){\n        pMem = pMem.join('');\n      }\n      let p, n;\n      try{\n        if(util.isBindableTypedArray(pMem)){\n          p = wasm.allocFromTypedArray(pMem);\n          n = nMem>=0 ? nMem : pMem.byteLength;\n        }else if('string'===typeof pMem){\n          [p, n] = wasm.allocCString(pMem);\n        }else{\n          return util.sqlite3_wasm_db_error(\n            capi.sqlite3_db_handle(pStmt), capi.SQLITE_MISUSE,\n            \"Invalid 3rd argument type for sqlite3_bind_blob().\"\n          );\n        }\n        return __bindBlob(pStmt, iCol, p, n, capi.SQLITE_WASM_DEALLOC);\n      }catch(e){\n        wasm.dealloc(p);\n        return util.sqlite3_wasm_db_error(\n          capi.sqlite3_db_handle(pStmt), e\n        );\n      }\n    }/*sqlite3_bind_blob()*/;\n\n  }/*sqlite3_bind_text/blob()*/\n\n  {/* sqlite3_config() */\n    /**\n       Wraps a small subset of the C API's sqlite3_config() options.\n       Unsupported options trigger the return of capi.SQLITE_NOTFOUND.\n       Passing fewer than 2 arguments triggers return of\n       capi.SQLITE_MISUSE.\n    */\n    capi.sqlite3_config = function(op, ...args){\n      if(arguments.length<2) return capi.SQLITE_MISUSE;\n      switch(op){\n          case capi.SQLITE_CONFIG_COVERING_INDEX_SCAN: // 20  /* int */\n          case capi.SQLITE_CONFIG_MEMSTATUS:// 9  /* boolean */\n          case capi.SQLITE_CONFIG_SMALL_MALLOC: // 27  /* boolean */\n          case capi.SQLITE_CONFIG_SORTERREF_SIZE: // 28  /* int nByte */\n          case capi.SQLITE_CONFIG_STMTJRNL_SPILL: // 26  /* int nByte */\n          case capi.SQLITE_CONFIG_URI:// 17  /* int */\n            return wasm.exports.sqlite3_wasm_config_i(op, args[0]);\n          case capi.SQLITE_CONFIG_LOOKASIDE: // 13  /* int int */\n            return wasm.exports.sqlite3_wasm_config_ii(op, args[0], args[1]);\n          case capi.SQLITE_CONFIG_MEMDB_MAXSIZE: // 29  /* sqlite3_int64 */\n            return wasm.exports.sqlite3_wasm_config_j(op, args[0]);\n          case capi.SQLITE_CONFIG_GETMALLOC: // 5 /* sqlite3_mem_methods* */\n          case capi.SQLITE_CONFIG_GETMUTEX: // 11  /* sqlite3_mutex_methods* */\n          case capi.SQLITE_CONFIG_GETPCACHE2: // 19  /* sqlite3_pcache_methods2* */\n          case capi.SQLITE_CONFIG_GETPCACHE: // 15  /* no-op */\n          case capi.SQLITE_CONFIG_HEAP: // 8  /* void*, int nByte, int min */\n          case capi.SQLITE_CONFIG_LOG: // 16  /* xFunc, void* */\n          case capi.SQLITE_CONFIG_MALLOC:// 4  /* sqlite3_mem_methods* */\n          case capi.SQLITE_CONFIG_MMAP_SIZE: // 22  /* sqlite3_int64, sqlite3_int64 */\n          case capi.SQLITE_CONFIG_MULTITHREAD: // 2 /* nil */\n          case capi.SQLITE_CONFIG_MUTEX: // 10  /* sqlite3_mutex_methods* */\n          case capi.SQLITE_CONFIG_PAGECACHE: // 7  /* void*, int sz, int N */\n          case capi.SQLITE_CONFIG_PCACHE2: // 18  /* sqlite3_pcache_methods2* */\n          case capi.SQLITE_CONFIG_PCACHE: // 14  /* no-op */\n          case capi.SQLITE_CONFIG_PCACHE_HDRSZ: // 24  /* int *psz */\n          case capi.SQLITE_CONFIG_PMASZ: // 25  /* unsigned int szPma */\n          case capi.SQLITE_CONFIG_SERIALIZED: // 3 /* nil */\n          case capi.SQLITE_CONFIG_SINGLETHREAD: // 1 /* nil */:\n          case capi.SQLITE_CONFIG_SQLLOG: // 21  /* xSqllog, void* */\n          case capi.SQLITE_CONFIG_WIN32_HEAPSIZE: // 23  /* int nByte */\n          default:\n            return capi.SQLITE_NOTFOUND;\n      }\n    };\n  }/* sqlite3_config() */\n\n  {/*auto-extension bindings.*/\n    const __autoExtFptr = new Set;\n\n    capi.sqlite3_auto_extension = function(fPtr){\n      if( fPtr instanceof Function ){\n        fPtr = wasm.installFunction('i(ppp)', fPtr);\n      }else if( 1!==arguments.length || !wasm.isPtr(fPtr) ){\n        return capi.SQLITE_MISUSE;\n      }\n      const rc = wasm.exports.sqlite3_auto_extension(fPtr);\n      if( fPtr!==arguments[0] ){\n        if(0===rc) __autoExtFptr.add(fPtr);\n        else wasm.uninstallFunction(fPtr);\n      }\n      return rc;\n    };\n\n    capi.sqlite3_cancel_auto_extension = function(fPtr){\n     /* We do not do an automatic JS-to-WASM function conversion here\n        because it would be senseless: the converted pointer would\n        never possibly match an already-installed one. */;\n      if(!fPtr || 1!==arguments.length || !wasm.isPtr(fPtr)) return 0;\n      return wasm.exports.sqlite3_cancel_auto_extension(fPtr);\n      /* Note that it \"cannot happen\" that a client passes a pointer which\n         is in __autoExtFptr because __autoExtFptr only contains automatic\n         conversions created inside sqlite3_auto_extension() and\n         never exposed to the client. */\n    };\n\n    capi.sqlite3_reset_auto_extension = function(){\n      wasm.exports.sqlite3_reset_auto_extension();\n      for(const fp of __autoExtFptr) wasm.uninstallFunction(fp);\n      __autoExtFptr.clear();\n    };\n  }/* auto-extension */\n\n  const pKvvfs = capi.sqlite3_vfs_find(\"kvvfs\");\n  if( pKvvfs ){/* kvvfs-specific glue */\n    if(util.isUIThread()){\n      const kvvfsMethods = new capi.sqlite3_kvvfs_methods(\n        wasm.exports.sqlite3_wasm_kvvfs_methods()\n      );\n      delete capi.sqlite3_kvvfs_methods;\n\n      const kvvfsMakeKey = wasm.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,\n            pstack = wasm.pstack;\n\n      const kvvfsStorage = (zClass)=>\n            ((115/*=='s'*/===wasm.peek(zClass))\n             ? sessionStorage : localStorage);\n\n      /**\n         Implementations for members of the object referred to by\n         sqlite3_wasm_kvvfs_methods(). We swap out the native\n         implementations with these, which use localStorage or\n         sessionStorage for their backing store.\n      */\n      const kvvfsImpls = {\n        xRead: (zClass, zKey, zBuf, nBuf)=>{\n          const stack = pstack.pointer,\n                astack = wasm.scopedAllocPush();\n          try {\n            const zXKey = kvvfsMakeKey(zClass,zKey);\n            if(!zXKey) return -3/*OOM*/;\n            const jKey = wasm.cstrToJs(zXKey);\n            const jV = kvvfsStorage(zClass).getItem(jKey);\n            if(!jV) return -1;\n            const nV = jV.length /* Note that we are relying 100% on v being\n                                    ASCII so that jV.length is equal to the\n                                    C-string's byte length. */;\n            if(nBuf<=0) return nV;\n            else if(1===nBuf){\n              wasm.poke(zBuf, 0);\n              return nV;\n            }\n            const zV = wasm.scopedAllocCString(jV);\n            if(nBuf > nV + 1) nBuf = nV + 1;\n            wasm.heap8u().copyWithin(zBuf, zV, zV + nBuf - 1);\n            wasm.poke(zBuf + nBuf - 1, 0);\n            return nBuf - 1;\n          }catch(e){\n            console.error(\"kvstorageRead()\",e);\n            return -2;\n          }finally{\n            pstack.restore(stack);\n            wasm.scopedAllocPop(astack);\n          }\n        },\n        xWrite: (zClass, zKey, zData)=>{\n          const stack = pstack.pointer;\n          try {\n            const zXKey = kvvfsMakeKey(zClass,zKey);\n            if(!zXKey) return 1/*OOM*/;\n            const jKey = wasm.cstrToJs(zXKey);\n            kvvfsStorage(zClass).setItem(jKey, wasm.cstrToJs(zData));\n            return 0;\n          }catch(e){\n            console.error(\"kvstorageWrite()\",e);\n            return capi.SQLITE_IOERR;\n          }finally{\n            pstack.restore(stack);\n          }\n        },\n        xDelete: (zClass, zKey)=>{\n          const stack = pstack.pointer;\n          try {\n            const zXKey = kvvfsMakeKey(zClass,zKey);\n            if(!zXKey) return 1/*OOM*/;\n            kvvfsStorage(zClass).removeItem(wasm.cstrToJs(zXKey));\n            return 0;\n          }catch(e){\n            console.error(\"kvstorageDelete()\",e);\n            return capi.SQLITE_IOERR;\n          }finally{\n            pstack.restore(stack);\n          }\n        }\n      }/*kvvfsImpls*/;\n      for(const k of Object.keys(kvvfsImpls)){\n        kvvfsMethods[kvvfsMethods.memberKey(k)] =\n          wasm.installFunction(\n            kvvfsMethods.memberSignature(k),\n            kvvfsImpls[k]\n          );\n      }\n    }else{\n      /* Worker thread: unregister kvvfs to avoid it being used\n         for anything other than local/sessionStorage. It \"can\"\n         be used that way but it's not really intended to be. */\n      capi.sqlite3_vfs_unregister(pKvvfs);\n    }\n  }/*pKvvfs*/\n\n  wasm.xWrap.FuncPtrAdapter.warnOnUse = true;\n});\n/* END FILE: api/sqlite3-api-glue.js */\n/* BEGIN FILE: ./bld/sqlite3-api-build-version.js */\nglobalThis.sqlite3ApiBootstrap.initializers.push(function(sqlite3){\n  sqlite3.version = {\"libVersion\": \"3.44.2\", \"libVersionNumber\": 3044002, \"sourceId\": \"2023-11-24 11:41:44 ebead0e7230cd33bcec9f95d2183069565b9e709bf745c9b5db65cc0cbf92c0f\",\"downloadVersion\": 3440200};\n});\n/* END FILE: ./bld/sqlite3-api-build-version.js */\n/* BEGIN FILE: api/sqlite3-api-oo1.js */\n/*\n  2022-07-22\n\n  The author disclaims copyright to this source code.  In place of a\n  legal notice, here is a blessing:\n\n  *   May you do good and not evil.\n  *   May you find forgiveness for yourself and forgive others.\n  *   May you share freely, never taking more than you give.\n\n  ***********************************************************************\n\n  This file contains the so-called OO #1 API wrapper for the sqlite3\n  WASM build. It requires that sqlite3-api-glue.js has already run\n  and it installs its deliverable as globalThis.sqlite3.oo1.\n*/\nglobalThis.sqlite3ApiBootstrap.initializers.push(function(sqlite3){\n  const toss = (...args)=>{throw new Error(args.join(' '))};\n  const toss3 = (...args)=>{throw new sqlite3.SQLite3Error(...args)};\n\n  const capi = sqlite3.capi, wasm = sqlite3.wasm, util = sqlite3.util;\n  /* What follows is colloquially known as \"OO API #1\". It is a\n     binding of the sqlite3 API which is designed to be run within\n     the same thread (main or worker) as the one in which the\n     sqlite3 WASM binding was initialized. This wrapper cannot use\n     the sqlite3 binding if, e.g., the wrapper is in the main thread\n     and the sqlite3 API is in a worker. */\n\n  /**\n     In order to keep clients from manipulating, perhaps\n     inadvertently, the underlying pointer values of DB and Stmt\n     instances, we'll gate access to them via the `pointer` property\n     accessor and store their real values in this map. Keys = DB/Stmt\n     objects, values = pointer values. This also unifies how those are\n     accessed, for potential use downstream via custom\n     wasm.xWrap() function signatures which know how to extract\n     it.\n  */\n  const __ptrMap = new WeakMap();\n  /**\n     Map of DB instances to objects, each object being a map of Stmt\n     wasm pointers to Stmt objects.\n  */\n  const __stmtMap = new WeakMap();\n\n  /** If object opts has _its own_ property named p then that\n      property's value is returned, else dflt is returned. */\n  const getOwnOption = (opts, p, dflt)=>{\n    const d = Object.getOwnPropertyDescriptor(opts,p);\n    return d ? d.value : dflt;\n  };\n\n  // Documented in DB.checkRc()\n  const checkSqlite3Rc = function(dbPtr, sqliteResultCode){\n    if(sqliteResultCode){\n      if(dbPtr instanceof DB) dbPtr = dbPtr.pointer;\n      toss3(\n        sqliteResultCode,\n        \"sqlite3 result code\",sqliteResultCode+\":\",\n        (dbPtr\n         ? capi.sqlite3_errmsg(dbPtr)\n         : capi.sqlite3_errstr(sqliteResultCode))\n      );\n    }\n    return arguments[0];\n  };\n\n  /**\n     sqlite3_trace_v2() callback which gets installed by the DB ctor\n     if its open-flags contain \"t\".\n  */\n  const __dbTraceToConsole =\n        wasm.installFunction('i(ippp)', function(t,c,p,x){\n          if(capi.SQLITE_TRACE_STMT===t){\n            // x == SQL, p == sqlite3_stmt*\n            console.log(\"SQL TRACE #\"+(++this.counter)+' via sqlite3@'+c+':',\n                        wasm.cstrToJs(x));\n          }\n        }.bind({counter: 0}));\n\n  /**\n     A map of sqlite3_vfs pointers to SQL code or a callback function\n     to run when the DB constructor opens a database with the given\n     VFS. In the latter case, the call signature is (theDbObject,sqlite3Namespace)\n     and the callback is expected to throw on error.\n  */\n  const __vfsPostOpenSql = Object.create(null);\n\n  /**\n     A proxy for DB class constructors. It must be called with the\n     being-construct DB object as its \"this\". See the DB constructor\n     for the argument docs. This is split into a separate function\n     in order to enable simple creation of special-case DB constructors,\n     e.g. JsStorageDb and OpfsDb.\n\n     Expects to be passed a configuration object with the following\n     properties:\n\n     - `.filename`: the db filename. It may be a special name like \":memory:\"\n       or \"\".\n\n     - `.flags`: as documented in the DB constructor.\n\n     - `.vfs`: as documented in the DB constructor.\n\n     It also accepts those as the first 3 arguments.\n  */\n  const dbCtorHelper = function ctor(...args){\n    if(!ctor._name2vfs){\n      /**\n         Map special filenames which we handle here (instead of in C)\n         to some helpful metadata...\n\n         As of 2022-09-20, the C API supports the names :localStorage:\n         and :sessionStorage: for kvvfs. However, C code cannot\n         determine (without embedded JS code, e.g. via Emscripten's\n         EM_JS()) whether the kvvfs is legal in the current browser\n         context (namely the main UI thread). In order to help client\n         code fail early on, instead of it being delayed until they\n         try to read or write a kvvfs-backed db, we'll check for those\n         names here and throw if they're not legal in the current\n         context.\n      */\n      ctor._name2vfs = Object.create(null);\n      const isWorkerThread = ('function'===typeof importScripts/*===running in worker thread*/)\n            ? (n)=>toss3(\"The VFS for\",n,\"is only available in the main window thread.\")\n            : false;\n      ctor._name2vfs[':localStorage:'] = {\n        vfs: 'kvvfs', filename: isWorkerThread || (()=>'local')\n      };\n      ctor._name2vfs[':sessionStorage:'] = {\n        vfs: 'kvvfs', filename: isWorkerThread || (()=>'session')\n      };\n    }\n    const opt = ctor.normalizeArgs(...args);\n    let fn = opt.filename, vfsName = opt.vfs, flagsStr = opt.flags;\n    if(('string'!==typeof fn && 'number'!==typeof fn)\n       || 'string'!==typeof flagsStr\n       || (vfsName && ('string'!==typeof vfsName && 'number'!==typeof vfsName))){\n      sqlite3.config.error(\"Invalid DB ctor args\",opt,arguments);\n      toss3(\"Invalid arguments for DB constructor.\");\n    }\n    let fnJs = ('number'===typeof fn) ? wasm.cstrToJs(fn) : fn;\n    const vfsCheck = ctor._name2vfs[fnJs];\n    if(vfsCheck){\n      vfsName = vfsCheck.vfs;\n      fn = fnJs = vfsCheck.filename(fnJs);\n    }\n    let pDb, oflags = 0;\n    if( flagsStr.indexOf('c')>=0 ){\n      oflags |= capi.SQLITE_OPEN_CREATE | capi.SQLITE_OPEN_READWRITE;\n    }\n    if( flagsStr.indexOf('w')>=0 ) oflags |= capi.SQLITE_OPEN_READWRITE;\n    if( 0===oflags ) oflags |= capi.SQLITE_OPEN_READONLY;\n    oflags |= capi.SQLITE_OPEN_EXRESCODE;\n    const stack = wasm.pstack.pointer;\n    try {\n      const pPtr = wasm.pstack.allocPtr() /* output (sqlite3**) arg */;\n      let rc = capi.sqlite3_open_v2(fn, pPtr, oflags, vfsName || 0);\n      pDb = wasm.peekPtr(pPtr);\n      checkSqlite3Rc(pDb, rc);\n      capi.sqlite3_extended_result_codes(pDb, 1);\n      if(flagsStr.indexOf('t')>=0){\n        capi.sqlite3_trace_v2(pDb, capi.SQLITE_TRACE_STMT,\n                              __dbTraceToConsole, pDb);\n      }\n    }catch( e ){\n      if( pDb ) capi.sqlite3_close_v2(pDb);\n      throw e;\n    }finally{\n      wasm.pstack.restore(stack);\n    }\n    this.filename = fnJs;\n    __ptrMap.set(this, pDb);\n    __stmtMap.set(this, Object.create(null));\n    try{\n      // Check for per-VFS post-open SQL/callback...\n      const pVfs = capi.sqlite3_js_db_vfs(pDb);\n      if(!pVfs) toss3(\"Internal error: cannot get VFS for new db handle.\");\n      const postInitSql = __vfsPostOpenSql[pVfs];\n      if(postInitSql instanceof Function){\n        postInitSql(this, sqlite3);\n      }else if(postInitSql){\n        checkSqlite3Rc(\n          pDb, capi.sqlite3_exec(pDb, postInitSql, 0, 0, 0)\n        );\n      }\n    }catch(e){\n      this.close();\n      throw e;\n    }\n  };\n\n  /**\n     Sets SQL which should be exec()'d on a DB instance after it is\n     opened with the given VFS pointer. The SQL may be any type\n     supported by the \"string:flexible\" function argument conversion.\n     Alternately, the 2nd argument may be a function, in which case it\n     is called with (theOo1DbObject,sqlite3Namespace) at the end of\n     the DB() constructor. The function must throw on error, in which\n     case the db is closed and the exception is propagated.  This\n     function is intended only for use by DB subclasses or sqlite3_vfs\n     implementations.\n  */\n  dbCtorHelper.setVfsPostOpenSql = function(pVfs, sql){\n    __vfsPostOpenSql[pVfs] = sql;\n  };\n\n  /**\n     A helper for DB constructors. It accepts either a single\n     config-style object or up to 3 arguments (filename, dbOpenFlags,\n     dbVfsName). It returns a new object containing:\n\n     { filename: ..., flags: ..., vfs: ... }\n\n     If passed an object, any additional properties it has are copied\n     as-is into the new object.\n  */\n  dbCtorHelper.normalizeArgs = function(filename=':memory:',flags = 'c',vfs = null){\n    const arg = {};\n    if(1===arguments.length && arguments[0] && 'object'===typeof arguments[0]){\n      Object.assign(arg, arguments[0]);\n      if(undefined===arg.flags) arg.flags = 'c';\n      if(undefined===arg.vfs) arg.vfs = null;\n      if(undefined===arg.filename) arg.filename = ':memory:';\n    }else{\n      arg.filename = filename;\n      arg.flags = flags;\n      arg.vfs = vfs;\n    }\n    return arg;\n  };\n  /**\n     The DB class provides a high-level OO wrapper around an sqlite3\n     db handle.\n\n     The given db filename must be resolvable using whatever\n     filesystem layer (virtual or otherwise) is set up for the default\n     sqlite3 VFS.\n\n     Note that the special sqlite3 db names \":memory:\" and \"\"\n     (temporary db) have their normal special meanings here and need\n     not resolve to real filenames, but \"\" uses an on-storage\n     temporary database and requires that the VFS support that.\n\n     The second argument specifies the open/create mode for the\n     database. It must be string containing a sequence of letters (in\n     any order, but case sensitive) specifying the mode:\n\n     - \"c\": create if it does not exist, else fail if it does not\n       exist. Implies the \"w\" flag.\n\n     - \"w\": write. Implies \"r\": a db cannot be write-only.\n\n     - \"r\": read-only if neither \"w\" nor \"c\" are provided, else it\n       is ignored.\n\n     - \"t\": enable tracing of SQL executed on this database handle,\n       sending it to `console.log()`. To disable it later, call\n       `sqlite3.capi.sqlite3_trace_v2(thisDb.pointer, 0, 0, 0)`.\n\n     If \"w\" is not provided, the db is implicitly read-only, noting\n     that \"rc\" is meaningless\n\n     Any other letters are currently ignored. The default is\n     \"c\". These modes are ignored for the special \":memory:\" and \"\"\n     names and _may_ be ignored altogether for certain VFSes.\n\n     The final argument is analogous to the final argument of\n     sqlite3_open_v2(): the name of an sqlite3 VFS. Pass a falsy value,\n     or none at all, to use the default. If passed a value, it must\n     be the string name of a VFS.\n\n     The constructor optionally (and preferably) takes its arguments\n     in the form of a single configuration object with the following\n     properties:\n\n     - `filename`: database file name\n     - `flags`: open-mode flags\n     - `vfs`: the VFS fname\n\n     The `filename` and `vfs` arguments may be either JS strings or\n     C-strings allocated via WASM. `flags` is required to be a JS\n     string (because it's specific to this API, which is specific\n     to JS).\n\n     For purposes of passing a DB instance to C-style sqlite3\n     functions, the DB object's read-only `pointer` property holds its\n     `sqlite3*` pointer value. That property can also be used to check\n     whether this DB instance is still open.\n\n     In the main window thread, the filenames `\":localStorage:\"` and\n     `\":sessionStorage:\"` are special: they cause the db to use either\n     localStorage or sessionStorage for storing the database using\n     the kvvfs. If one of these names are used, they trump\n     any vfs name set in the arguments.\n  */\n  const DB = function(...args){\n    dbCtorHelper.apply(this, args);\n  };\n  DB.dbCtorHelper = dbCtorHelper;\n\n  /**\n     Internal-use enum for mapping JS types to DB-bindable types.\n     These do not (and need not) line up with the SQLITE_type\n     values. All values in this enum must be truthy and distinct\n     but they need not be numbers.\n  */\n  const BindTypes = {\n    null: 1,\n    number: 2,\n    string: 3,\n    boolean: 4,\n    blob: 5\n  };\n  BindTypes['undefined'] == BindTypes.null;\n  if(wasm.bigIntEnabled){\n    BindTypes.bigint = BindTypes.number;\n  }\n\n  /**\n     This class wraps sqlite3_stmt. Calling this constructor\n     directly will trigger an exception. Use DB.prepare() to create\n     new instances.\n\n     For purposes of passing a Stmt instance to C-style sqlite3\n     functions, its read-only `pointer` property holds its `sqlite3_stmt*`\n     pointer value.\n\n     Other non-function properties include:\n\n     - `db`: the DB object which created the statement.\n\n     - `columnCount`: the number of result columns in the query, or 0\n     for queries which cannot return results. This property is a proxy\n     for sqlite3_column_count() and its use in loops should be avoided\n     because of the call overhead associated with that. The\n     `columnCount` is not cached when the Stmt is created because a\n     schema change made via a separate db connection between this\n     statement's preparation and when it is stepped may invalidate it.\n\n     - `parameterCount`: the number of bindable parameters in the query.\n  */\n  const Stmt = function(){\n    if(BindTypes!==arguments[2]){\n      toss3(capi.SQLITE_MISUSE, \"Do not call the Stmt constructor directly. Use DB.prepare().\");\n    }\n    this.db = arguments[0];\n    __ptrMap.set(this, arguments[1]);\n    this.parameterCount = capi.sqlite3_bind_parameter_count(this.pointer);\n  };\n\n  /** Throws if the given DB has been closed, else it is returned. */\n  const affirmDbOpen = function(db){\n    if(!db.pointer) toss3(\"DB has been closed.\");\n    return db;\n  };\n\n  /** Throws if ndx is not an integer or if it is out of range\n      for stmt.columnCount, else returns stmt.\n\n      Reminder: this will also fail after the statement is finalized\n      but the resulting error will be about an out-of-bounds column\n      index rather than a statement-is-finalized error.\n  */\n  const affirmColIndex = function(stmt,ndx){\n    if((ndx !== (ndx|0)) || ndx<0 || ndx>=stmt.columnCount){\n      toss3(\"Column index\",ndx,\"is out of range.\");\n    }\n    return stmt;\n  };\n\n  /**\n     Expects to be passed the `arguments` object from DB.exec(). Does\n     the argument processing/validation, throws on error, and returns\n     a new object on success:\n\n     { sql: the SQL, opt: optionsObj, cbArg: function}\n\n     The opt object is a normalized copy of any passed to this\n     function. The sql will be converted to a string if it is provided\n     in one of the supported non-string formats.\n\n     cbArg is only set if the opt.callback or opt.resultRows are set,\n     in which case it's a function which expects to be passed the\n     current Stmt and returns the callback argument of the type\n     indicated by the input arguments.\n  */\n  const parseExecArgs = function(db, args){\n    const out = Object.create(null);\n    out.opt = Object.create(null);\n    switch(args.length){\n        case 1:\n          if('string'===typeof args[0] || util.isSQLableTypedArray(args[0])){\n            out.sql = args[0];\n          }else if(Array.isArray(args[0])){\n            out.sql = args[0];\n          }else if(args[0] && 'object'===typeof args[0]){\n            out.opt = args[0];\n            out.sql = out.opt.sql;\n          }\n          break;\n        case 2:\n          out.sql = args[0];\n          out.opt = args[1];\n          break;\n        default: toss3(\"Invalid argument count for exec().\");\n    };\n    out.sql = util.flexibleString(out.sql);\n    if('string'!==typeof out.sql){\n      toss3(\"Missing SQL argument or unsupported SQL value type.\");\n    }\n    const opt = out.opt;\n    switch(opt.returnValue){\n        case 'resultRows':\n          if(!opt.resultRows) opt.resultRows = [];\n          out.returnVal = ()=>opt.resultRows;\n          break;\n        case 'saveSql':\n          if(!opt.saveSql) opt.saveSql = [];\n          out.returnVal = ()=>opt.saveSql;\n          break;\n        case undefined:\n        case 'this':\n          out.returnVal = ()=>db;\n          break;\n        default:\n          toss3(\"Invalid returnValue value:\",opt.returnValue);\n    }\n    if(!opt.callback && !opt.returnValue && undefined!==opt.rowMode){\n      if(!opt.resultRows) opt.resultRows = [];\n      out.returnVal = ()=>opt.resultRows;\n    }\n    if(opt.callback || opt.resultRows){\n      switch((undefined===opt.rowMode)\n             ? 'array' : opt.rowMode) {\n          case 'object': out.cbArg = (stmt)=>stmt.get(Object.create(null)); break;\n          case 'array': out.cbArg = (stmt)=>stmt.get([]); break;\n          case 'stmt':\n            if(Array.isArray(opt.resultRows)){\n              toss3(\"exec(): invalid rowMode for a resultRows array: must\",\n                    \"be one of 'array', 'object',\",\n                    \"a result column number, or column name reference.\");\n            }\n            out.cbArg = (stmt)=>stmt;\n            break;\n          default:\n            if(util.isInt32(opt.rowMode)){\n              out.cbArg = (stmt)=>stmt.get(opt.rowMode);\n              break;\n            }else if('string'===typeof opt.rowMode\n                     && opt.rowMode.length>1\n                     && '$'===opt.rowMode[0]){\n              /* \"$X\": fetch column named \"X\" (case-sensitive!). Prior\n                 to 2022-12-14 \":X\" and \"@X\" were also permitted, but\n                 having so many options is unnecessary and likely to\n                 cause confusion. */\n              const $colName = opt.rowMode.substr(1);\n              out.cbArg = (stmt)=>{\n                const rc = stmt.get(Object.create(null))[$colName];\n                return (undefined===rc)\n                  ? toss3(capi.SQLITE_NOTFOUND,\n                          \"exec(): unknown result column:\",$colName)\n                  : rc;\n              };\n              break;\n            }\n            toss3(\"Invalid rowMode:\",opt.rowMode);\n      }\n    }\n    return out;\n  };\n\n  /**\n     Internal impl of the DB.selectValue(), selectArray(), and\n     selectObject() methods.\n  */\n  const __selectFirstRow = (db, sql, bind, ...getArgs)=>{\n    const stmt = db.prepare(sql);\n    try {\n      const rc = stmt.bind(bind).step() ? stmt.get(...getArgs) : undefined;\n      stmt.reset(/*for INSERT...RETURNING locking case*/);\n      return rc;\n    }finally{\n      stmt.finalize();\n    }\n  };\n\n  /**\n     Internal impl of the DB.selectArrays() and selectObjects()\n     methods.\n  */\n  const __selectAll =\n        (db, sql, bind, rowMode)=>db.exec({\n          sql, bind, rowMode, returnValue: 'resultRows'\n        });\n\n  /**\n     Expects to be given a DB instance or an `sqlite3*` pointer (may\n     be null) and an sqlite3 API result code. If the result code is\n     not falsy, this function throws an SQLite3Error with an error\n     message from sqlite3_errmsg(), using db (or, if db is-a DB,\n     db.pointer) as the db handle, or sqlite3_errstr() if db is\n     falsy. Note that if it's passed a non-error code like SQLITE_ROW\n     or SQLITE_DONE, it will still throw but the error string might be\n     \"Not an error.\"  The various non-0 non-error codes need to be\n     checked for in client code where they are expected.\n\n     The thrown exception's `resultCode` property will be the value of\n     the second argument to this function.\n\n     If it does not throw, it returns its first argument.\n  */\n  DB.checkRc = (db,resultCode)=>checkSqlite3Rc(db,resultCode);\n\n  DB.prototype = {\n    /** Returns true if this db handle is open, else false. */\n    isOpen: function(){\n      return !!this.pointer;\n    },\n    /** Throws if this given DB has been closed, else returns `this`. */\n    affirmOpen: function(){\n      return affirmDbOpen(this);\n    },\n    /**\n       Finalizes all open statements and closes this database\n       connection. This is a no-op if the db has already been\n       closed. After calling close(), `this.pointer` will resolve to\n       `undefined`, so that can be used to check whether the db\n       instance is still opened.\n\n       If this.onclose.before is a function then it is called before\n       any close-related cleanup.\n\n       If this.onclose.after is a function then it is called after the\n       db is closed but before auxiliary state like this.filename is\n       cleared.\n\n       Both onclose handlers are passed this object, with the onclose\n       object as their \"this,\" noting that the db will have been\n       closed when onclose.after is called. If this db is not opened\n       when close() is called, neither of the handlers are called. Any\n       exceptions the handlers throw are ignored because \"destructors\n       must not throw.\"\n\n       Note that garbage collection of a db handle, if it happens at\n       all, will never trigger close(), so onclose handlers are not a\n       reliable way to implement close-time cleanup or maintenance of\n       a db.\n    */\n    close: function(){\n      if(this.pointer){\n        if(this.onclose && (this.onclose.before instanceof Function)){\n          try{this.onclose.before(this)}\n          catch(e){/*ignore*/}\n        }\n        const pDb = this.pointer;\n        Object.keys(__stmtMap.get(this)).forEach((k,s)=>{\n          if(s && s.pointer){\n            try{s.finalize()}\n            catch(e){/*ignore*/}\n          }\n        });\n        __ptrMap.delete(this);\n        __stmtMap.delete(this);\n        capi.sqlite3_close_v2(pDb);\n        if(this.onclose && (this.onclose.after instanceof Function)){\n          try{this.onclose.after(this)}\n          catch(e){/*ignore*/}\n        }\n        delete this.filename;\n      }\n    },\n    /**\n       Returns the number of changes, as per sqlite3_changes()\n       (if the first argument is false) or sqlite3_total_changes()\n       (if it's true). If the 2nd argument is true, it uses\n       sqlite3_changes64() or sqlite3_total_changes64(), which\n       will trigger an exception if this build does not have\n       BigInt support enabled.\n    */\n    changes: function(total=false,sixtyFour=false){\n      const p = affirmDbOpen(this).pointer;\n      if(total){\n        return sixtyFour\n          ? capi.sqlite3_total_changes64(p)\n          : capi.sqlite3_total_changes(p);\n      }else{\n        return sixtyFour\n          ? capi.sqlite3_changes64(p)\n          : capi.sqlite3_changes(p);\n      }\n    },\n    /**\n       Similar to the this.filename but returns the\n       sqlite3_db_filename() value for the given database name,\n       defaulting to \"main\".  The argument may be either a JS string\n       or a pointer to a WASM-allocated C-string.\n    */\n    dbFilename: function(dbName='main'){\n      return capi.sqlite3_db_filename(affirmDbOpen(this).pointer, dbName);\n    },\n    /**\n       Returns the name of the given 0-based db number, as documented\n       for sqlite3_db_name().\n    */\n    dbName: function(dbNumber=0){\n      return capi.sqlite3_db_name(affirmDbOpen(this).pointer, dbNumber);\n    },\n    /**\n       Returns the name of the sqlite3_vfs used by the given database\n       of this connection (defaulting to 'main'). The argument may be\n       either a JS string or a WASM C-string. Returns undefined if the\n       given db name is invalid. Throws if this object has been\n       close()d.\n    */\n    dbVfsName: function(dbName=0){\n      let rc;\n      const pVfs = capi.sqlite3_js_db_vfs(\n        affirmDbOpen(this).pointer, dbName\n      );\n      if(pVfs){\n        const v = new capi.sqlite3_vfs(pVfs);\n        try{ rc = wasm.cstrToJs(v.$zName) }\n        finally { v.dispose() }\n      }\n      return rc;\n    },\n    /**\n       Compiles the given SQL and returns a prepared Stmt. This is\n       the only way to create new Stmt objects. Throws on error.\n\n       The given SQL must be a string, a Uint8Array holding SQL, a\n       WASM pointer to memory holding the NUL-terminated SQL string,\n       or an array of strings. In the latter case, the array is\n       concatenated together, with no separators, to form the SQL\n       string (arrays are often a convenient way to formulate long\n       statements).  If the SQL contains no statements, an\n       SQLite3Error is thrown.\n\n       Design note: the C API permits empty SQL, reporting it as a 0\n       result code and a NULL stmt pointer. Supporting that case here\n       would cause extra work for all clients: any use of the Stmt API\n       on such a statement will necessarily throw, so clients would be\n       required to check `stmt.pointer` after calling `prepare()` in\n       order to determine whether the Stmt instance is empty or not.\n       Long-time practice (with other sqlite3 script bindings)\n       suggests that the empty-prepare case is sufficiently rare that\n       supporting it here would simply hurt overall usability.\n    */\n    prepare: function(sql){\n      affirmDbOpen(this);\n      const stack = wasm.pstack.pointer;\n      let ppStmt, pStmt;\n      try{\n        ppStmt = wasm.pstack.alloc(8)/* output (sqlite3_stmt**) arg */;\n        DB.checkRc(this, capi.sqlite3_prepare_v2(this.pointer, sql, -1, ppStmt, null));\n        pStmt = wasm.peekPtr(ppStmt);\n      }\n      finally {\n        wasm.pstack.restore(stack);\n      }\n      if(!pStmt) toss3(\"Cannot prepare empty SQL.\");\n      const stmt = new Stmt(this, pStmt, BindTypes);\n      __stmtMap.get(this)[pStmt] = stmt;\n      return stmt;\n    },\n    /**\n       Executes one or more SQL statements in the form of a single\n       string. Its arguments must be either (sql,optionsObject) or\n       (optionsObject). In the latter case, optionsObject.sql must\n       contain the SQL to execute. By default it returns this object\n       but that can be changed via the `returnValue` option as\n       described below. Throws on error.\n\n       If no SQL is provided, or a non-string is provided, an\n       exception is triggered. Empty SQL, on the other hand, is\n       simply a no-op.\n\n       The optional options object may contain any of the following\n       properties:\n\n       - `sql` = the SQL to run (unless it's provided as the first\n       argument). This must be of type string, Uint8Array, or an array\n       of strings. In the latter case they're concatenated together\n       as-is, _with no separator_ between elements, before evaluation.\n       The array form is often simpler for long hand-written queries.\n\n       - `bind` = a single value valid as an argument for\n       Stmt.bind(). This is _only_ applied to the _first_ non-empty\n       statement in the SQL which has any bindable parameters. (Empty\n       statements are skipped entirely.)\n\n       - `saveSql` = an optional array. If set, the SQL of each\n       executed statement is appended to this array before the\n       statement is executed (but after it is prepared - we don't have\n       the string until after that). Empty SQL statements are elided\n       but can have odd effects in the output. e.g. SQL of: `\"select\n       1; -- empty\\n; select 2\"` will result in an array containing\n       `[\"select 1;\", \"--empty \\n; select 2\"]`. That's simply how\n       sqlite3 records the SQL for the 2nd statement.\n\n       ==================================================================\n       The following options apply _only_ to the _first_ statement\n       which has a non-zero result column count, regardless of whether\n       the statement actually produces any result rows.\n       ==================================================================\n\n       - `columnNames`: if this is an array, the column names of the\n       result set are stored in this array before the callback (if\n       any) is triggered (regardless of whether the query produces any\n       result rows). If no statement has result columns, this value is\n       unchanged. Achtung: an SQL result may have multiple columns\n       with identical names.\n\n       - `callback` = a function which gets called for each row of the\n       result set, but only if that statement has any result rows. The\n       callback's \"this\" is the options object, noting that this\n       function synthesizes one if the caller does not pass one to\n       exec(). The second argument passed to the callback is always\n       the current Stmt object, as it's needed if the caller wants to\n       fetch the column names or some such (noting that they could\n       also be fetched via `this.columnNames`, if the client provides\n       the `columnNames` option). If the callback returns a literal\n       `false` (as opposed to any other falsy value, e.g. an implicit\n       `undefined` return), any ongoing statement-`step()` iteration\n       stops without an error. The return value of the callback is\n       otherwise ignored.\n\n       ACHTUNG: The callback MUST NOT modify the Stmt object. Calling\n       any of the Stmt.get() variants, Stmt.getColumnName(), or\n       similar, is legal, but calling step() or finalize() is\n       not. Member methods which are illegal in this context will\n       trigger an exception, but clients must also refrain from using\n       any lower-level (C-style) APIs which might modify the\n       statement.\n\n       The first argument passed to the callback defaults to an array of\n       values from the current result row but may be changed with ...\n\n       - `rowMode` = specifies the type of he callback's first argument.\n       It may be any of...\n\n       A) A string describing what type of argument should be passed\n       as the first argument to the callback:\n\n         A.1) `'array'` (the default) causes the results of\n         `stmt.get([])` to be passed to the `callback` and/or appended\n         to `resultRows`.\n\n         A.2) `'object'` causes the results of\n         `stmt.get(Object.create(null))` to be passed to the\n         `callback` and/or appended to `resultRows`.  Achtung: an SQL\n         result may have multiple columns with identical names. In\n         that case, the right-most column will be the one set in this\n         object!\n\n         A.3) `'stmt'` causes the current Stmt to be passed to the\n         callback, but this mode will trigger an exception if\n         `resultRows` is an array because appending the transient\n         statement to the array would be downright unhelpful.\n\n       B) An integer, indicating a zero-based column in the result\n       row. Only that one single value will be passed on.\n\n       C) A string with a minimum length of 2 and leading character of\n       '$' will fetch the row as an object, extract that one field,\n       and pass that field's value to the callback. Note that these\n       keys are case-sensitive so must match the case used in the\n       SQL. e.g. `\"select a A from t\"` with a `rowMode` of `'$A'`\n       would work but `'$a'` would not. A reference to a column not in\n       the result set will trigger an exception on the first row (as\n       the check is not performed until rows are fetched).  Note also\n       that `$` is a legal identifier character in JS so need not be\n       quoted.\n\n       Any other `rowMode` value triggers an exception.\n\n       - `resultRows`: if this is an array, it functions similarly to\n       the `callback` option: each row of the result set (if any),\n       with the exception that the `rowMode` 'stmt' is not legal. It\n       is legal to use both `resultRows` and `callback`, but\n       `resultRows` is likely much simpler to use for small data sets\n       and can be used over a WebWorker-style message interface.\n       exec() throws if `resultRows` is set and `rowMode` is 'stmt'.\n\n       - `returnValue`: is a string specifying what this function\n       should return:\n\n         A) The default value is (usually) `\"this\"`, meaning that the\n            DB object itself should be returned. The exception is if\n            the caller passes neither of `callback` nor `returnValue`\n            but does pass an explicit `rowMode` then the default\n            `returnValue` is `\"resultRows\"`, described below.\n\n         B) `\"resultRows\"` means to return the value of the\n            `resultRows` option. If `resultRows` is not set, this\n            function behaves as if it were set to an empty array.\n\n         C) `\"saveSql\"` means to return the value of the\n            `saveSql` option. If `saveSql` is not set, this\n            function behaves as if it were set to an empty array.\n\n       Potential TODOs:\n\n       - `bind`: permit an array of arrays/objects to bind. The first\n       sub-array would act on the first statement which has bindable\n       parameters (as it does now). The 2nd would act on the next such\n       statement, etc.\n\n       - `callback` and `resultRows`: permit an array entries with\n       semantics similar to those described for `bind` above.\n\n    */\n    exec: function(/*(sql [,obj]) || (obj)*/){\n      affirmDbOpen(this);\n      const arg = parseExecArgs(this, arguments);\n      if(!arg.sql){\n        return toss3(\"exec() requires an SQL string.\");\n      }\n      const opt = arg.opt;\n      const callback = opt.callback;\n      const resultRows =\n            Array.isArray(opt.resultRows) ? opt.resultRows : undefined;\n      let stmt;\n      let bind = opt.bind;\n      let evalFirstResult = !!(\n        arg.cbArg || opt.columnNames || resultRows\n      ) /* true to step through the first result-returning statement */;\n      const stack = wasm.scopedAllocPush();\n      const saveSql = Array.isArray(opt.saveSql) ? opt.saveSql : undefined;\n      try{\n        const isTA = util.isSQLableTypedArray(arg.sql)\n        /* Optimization: if the SQL is a TypedArray we can save some string\n           conversion costs. */;\n        /* Allocate the two output pointers (ppStmt, pzTail) and heap\n           space for the SQL (pSql). When prepare_v2() returns, pzTail\n           will point to somewhere in pSql. */\n        let sqlByteLen = isTA ? arg.sql.byteLength : wasm.jstrlen(arg.sql);\n        const ppStmt  = wasm.scopedAlloc(\n          /* output (sqlite3_stmt**) arg and pzTail */\n          (2 * wasm.ptrSizeof) + (sqlByteLen + 1/* SQL + NUL */)\n        );\n        const pzTail = ppStmt + wasm.ptrSizeof /* final arg to sqlite3_prepare_v2() */;\n        let pSql = pzTail + wasm.ptrSizeof;\n        const pSqlEnd = pSql + sqlByteLen;\n        if(isTA) wasm.heap8().set(arg.sql, pSql);\n        else wasm.jstrcpy(arg.sql, wasm.heap8(), pSql, sqlByteLen, false);\n        wasm.poke(pSql + sqlByteLen, 0/*NUL terminator*/);\n        while(pSql && wasm.peek(pSql, 'i8')\n              /* Maintenance reminder:^^^ _must_ be 'i8' or else we\n                 will very likely cause an endless loop. What that's\n                 doing is checking for a terminating NUL byte. If we\n                 use i32 or similar then we read 4 bytes, read stuff\n                 around the NUL terminator, and get stuck in and\n                 endless loop at the end of the SQL, endlessly\n                 re-preparing an empty statement. */ ){\n          wasm.pokePtr([ppStmt, pzTail], 0);\n          DB.checkRc(this, capi.sqlite3_prepare_v3(\n            this.pointer, pSql, sqlByteLen, 0, ppStmt, pzTail\n          ));\n          const pStmt = wasm.peekPtr(ppStmt);\n          pSql = wasm.peekPtr(pzTail);\n          sqlByteLen = pSqlEnd - pSql;\n          if(!pStmt) continue;\n          if(saveSql) saveSql.push(capi.sqlite3_sql(pStmt).trim());\n          stmt = new Stmt(this, pStmt, BindTypes);\n          if(bind && stmt.parameterCount){\n            stmt.bind(bind);\n            bind = null;\n          }\n          if(evalFirstResult && stmt.columnCount){\n            /* Only forward SELECT-style results for the FIRST query\n               in the SQL which potentially has them. */\n            let gotColNames = Array.isArray(\n              opt.columnNames\n              /* As reported in\n                 https://sqlite.org/forum/forumpost/7774b773937cbe0a\n                 we need to delay fetching of the column names until\n                 after the first step() (if we step() at all) because\n                 a schema change between the prepare() and step(), via\n                 another connection, may invalidate the column count\n                 and names. */) ? 0 : 1;\n            evalFirstResult = false;\n            if(arg.cbArg || resultRows){\n              for(; stmt.step(); stmt._lockedByExec = false){\n                if(0===gotColNames++) stmt.getColumnNames(opt.columnNames);\n                stmt._lockedByExec = true;\n                const row = arg.cbArg(stmt);\n                if(resultRows) resultRows.push(row);\n                if(callback && false === callback.call(opt, row, stmt)){\n                  break;\n                }\n              }\n              stmt._lockedByExec = false;\n            }\n            if(0===gotColNames){\n              /* opt.columnNames was provided but we visited no result rows */\n              stmt.getColumnNames(opt.columnNames);\n            }\n          }else{\n            stmt.step();\n          }\n          stmt.reset(\n            /* In order to trigger an exception in the\n               INSERT...RETURNING locking scenario:\n               https://sqlite.org/forum/forumpost/36f7a2e7494897df\n            */).finalize();\n          stmt = null;\n        }/*prepare() loop*/\n      }/*catch(e){\n        sqlite3.config.warn(\"DB.exec() is propagating exception\",opt,e);\n        throw e;\n      }*/finally{\n        wasm.scopedAllocPop(stack);\n        if(stmt){\n          delete stmt._lockedByExec;\n          stmt.finalize();\n        }\n      }\n      return arg.returnVal();\n    }/*exec()*/,\n\n    /**\n       Creates a new UDF (User-Defined Function) which is accessible\n       via SQL code. This function may be called in any of the\n       following forms:\n\n       - (name, function)\n       - (name, function, optionsObject)\n       - (name, optionsObject)\n       - (optionsObject)\n\n       In the final two cases, the function must be defined as the\n       `callback` property of the options object (optionally called\n       `xFunc` to align with the C API documentation). In the final\n       case, the function's name must be the 'name' property.\n\n       The first two call forms can only be used for creating scalar\n       functions. Creating an aggregate or window function requires\n       the options-object form (see below for details).\n\n       UDFs can be removed as documented for\n       sqlite3_create_function_v2() and\n       sqlite3_create_window_function(), but doing so will \"leak\" the\n       JS-created WASM binding of those functions (meaning that their\n       entries in the WASM indirect function table still\n       exist). Eliminating that potential leak is a pending TODO.\n\n       On success, returns this object. Throws on error.\n\n       When called from SQL arguments to the UDF, and its result,\n       will be converted between JS and SQL with as much fidelity as\n       is feasible, triggering an exception if a type conversion\n       cannot be determined. The docs for sqlite3_create_function_v2()\n       describe the conversions in more detail.\n\n       The values set in the options object differ for scalar and\n       aggregate functions:\n\n       - Scalar: set the `xFunc` function-type property to the UDF\n         function.\n\n       - Aggregate: set the `xStep` and `xFinal` function-type\n         properties to the \"step\" and \"final\" callbacks for the\n         aggregate. Do not set the `xFunc` property.\n\n       - Window: set the `xStep`, `xFinal`, `xValue`, and `xInverse`\n         function-type properties. Do not set the `xFunc` property.\n\n       The options object may optionally have an `xDestroy`\n       function-type property, as per sqlite3_create_function_v2().\n       Its argument will be the WASM-pointer-type value of the `pApp`\n       property, and this function will throw if `pApp` is defined but\n       is not null, undefined, or a numeric (WASM pointer)\n       value. i.e. `pApp`, if set, must be value suitable for use as a\n       WASM pointer argument, noting that `null` or `undefined` will\n       translate to 0 for that purpose.\n\n       The options object may contain flags to modify how\n       the function is defined:\n\n       - `arity`: the number of arguments which SQL calls to this\n       function expect or require. The default value is `xFunc.length`\n       or `xStep.length` (i.e. the number of declared parameters it\n       has) **MINUS 1** (see below for why). As a special case, if the\n       `length` is 0, its arity is also 0 instead of -1. A negative\n       arity value means that the function is variadic and may accept\n       any number of arguments, up to sqlite3's compile-time\n       limits. sqlite3 will enforce the argument count if is zero or\n       greater. The callback always receives a pointer to an\n       `sqlite3_context` object as its first argument. Any arguments\n       after that are from SQL code. The leading context argument does\n       _not_ count towards the function's arity. See the docs for\n       sqlite3.capi.sqlite3_create_function_v2() for why that argument\n       is needed in the interface.\n\n       The following options-object properties correspond to flags\n       documented at:\n\n       https://sqlite.org/c3ref/create_function.html\n\n       - `deterministic` = sqlite3.capi.SQLITE_DETERMINISTIC\n       - `directOnly` = sqlite3.capi.SQLITE_DIRECTONLY\n       - `innocuous` = sqlite3.capi.SQLITE_INNOCUOUS\n\n       Sidebar: the ability to add new WASM-accessible functions to\n       the runtime requires that the WASM build is compiled with the\n       equivalent functionality as that provided by Emscripten's\n       `-sALLOW_TABLE_GROWTH` flag.\n    */\n    createFunction: function f(name, xFunc, opt){\n      const isFunc = (f)=>(f instanceof Function);\n      switch(arguments.length){\n          case 1: /* (optionsObject) */\n            opt = name;\n            name = opt.name;\n            xFunc = opt.xFunc || 0;\n            break;\n          case 2: /* (name, callback|optionsObject) */\n            if(!isFunc(xFunc)){\n              opt = xFunc;\n              xFunc = opt.xFunc || 0;\n            }\n            break;\n          case 3: /* name, xFunc, opt */\n            break;\n          default: break;\n      }\n      if(!opt) opt = {};\n      if('string' !== typeof name){\n        toss3(\"Invalid arguments: missing function name.\");\n      }\n      let xStep = opt.xStep || 0;\n      let xFinal = opt.xFinal || 0;\n      const xValue = opt.xValue || 0;\n      const xInverse = opt.xInverse || 0;\n      let isWindow = undefined;\n      if(isFunc(xFunc)){\n        isWindow = false;\n        if(isFunc(xStep) || isFunc(xFinal)){\n          toss3(\"Ambiguous arguments: scalar or aggregate?\");\n        }\n        xStep = xFinal = null;\n      }else if(isFunc(xStep)){\n        if(!isFunc(xFinal)){\n          toss3(\"Missing xFinal() callback for aggregate or window UDF.\");\n        }\n        xFunc = null;\n      }else if(isFunc(xFinal)){\n        toss3(\"Missing xStep() callback for aggregate or window UDF.\");\n      }else{\n        toss3(\"Missing function-type properties.\");\n      }\n      if(false === isWindow){\n        if(isFunc(xValue) || isFunc(xInverse)){\n          toss3(\"xValue and xInverse are not permitted for non-window UDFs.\");\n        }\n      }else if(isFunc(xValue)){\n        if(!isFunc(xInverse)){\n          toss3(\"xInverse must be provided if xValue is.\");\n        }\n        isWindow = true;\n      }else if(isFunc(xInverse)){\n        toss3(\"xValue must be provided if xInverse is.\");\n      }\n      const pApp = opt.pApp;\n      if(undefined!==pApp &&\n         null!==pApp &&\n         (('number'!==typeof pApp) || !util.isInt32(pApp))){\n        toss3(\"Invalid value for pApp property. Must be a legal WASM pointer value.\");\n      }\n      const xDestroy = opt.xDestroy || 0;\n      if(xDestroy && !isFunc(xDestroy)){\n        toss3(\"xDestroy property must be a function.\");\n      }\n      let fFlags = 0 /*flags for sqlite3_create_function_v2()*/;\n      if(getOwnOption(opt, 'deterministic')) fFlags |= capi.SQLITE_DETERMINISTIC;\n      if(getOwnOption(opt, 'directOnly')) fFlags |= capi.SQLITE_DIRECTONLY;\n      if(getOwnOption(opt, 'innocuous')) fFlags |= capi.SQLITE_INNOCUOUS;\n      name = name.toLowerCase();\n      const xArity = xFunc || xStep;\n      const arity = getOwnOption(opt, 'arity');\n      const arityArg = ('number'===typeof arity\n                        ? arity\n                        : (xArity.length ? xArity.length-1/*for pCtx arg*/ : 0));\n      let rc;\n      if( isWindow ){\n        rc = capi.sqlite3_create_window_function(\n          this.pointer, name, arityArg,\n          capi.SQLITE_UTF8 | fFlags, pApp || 0,\n          xStep, xFinal, xValue, xInverse, xDestroy);\n      }else{\n        rc = capi.sqlite3_create_function_v2(\n          this.pointer, name, arityArg,\n          capi.SQLITE_UTF8 | fFlags, pApp || 0,\n          xFunc, xStep, xFinal, xDestroy);\n      }\n      DB.checkRc(this, rc);\n      return this;\n    }/*createFunction()*/,\n    /**\n       Prepares the given SQL, step()s it one time, and returns\n       the value of the first result column. If it has no results,\n       undefined is returned.\n\n       If passed a second argument, it is treated like an argument\n       to Stmt.bind(), so may be any type supported by that\n       function. Passing the undefined value is the same as passing\n       no value, which is useful when...\n\n       If passed a 3rd argument, it is expected to be one of the\n       SQLITE_{typename} constants. Passing the undefined value is\n       the same as not passing a value.\n\n       Throws on error (e.g. malformed SQL).\n    */\n    selectValue: function(sql,bind,asType){\n      return __selectFirstRow(this, sql, bind, 0, asType);\n    },\n\n    /**\n       Runs the given query and returns an array of the values from\n       the first result column of each row of the result set. The 2nd\n       argument is an optional value for use in a single-argument call\n       to Stmt.bind(). The 3rd argument may be any value suitable for\n       use as the 2nd argument to Stmt.get(). If a 3rd argument is\n       desired but no bind data are needed, pass `undefined` for the 2nd\n       argument.\n\n       If there are no result rows, an empty array is returned.\n    */\n    selectValues: function(sql,bind,asType){\n      const stmt = this.prepare(sql), rc = [];\n      try {\n        stmt.bind(bind);\n        while(stmt.step()) rc.push(stmt.get(0,asType));\n        stmt.reset(/*for INSERT...RETURNING locking case*/);\n      }finally{\n        stmt.finalize();\n      }\n      return rc;\n    },\n\n    /**\n       Prepares the given SQL, step()s it one time, and returns an\n       array containing the values of the first result row. If it has\n       no results, `undefined` is returned.\n\n       If passed a second argument other than `undefined`, it is\n       treated like an argument to Stmt.bind(), so may be any type\n       supported by that function.\n\n       Throws on error (e.g. malformed SQL).\n    */\n    selectArray: function(sql,bind){\n      return __selectFirstRow(this, sql, bind, []);\n    },\n\n    /**\n       Prepares the given SQL, step()s it one time, and returns an\n       object containing the key/value pairs of the first result\n       row. If it has no results, `undefined` is returned.\n\n       Note that the order of returned object's keys is not guaranteed\n       to be the same as the order of the fields in the query string.\n\n       If passed a second argument other than `undefined`, it is\n       treated like an argument to Stmt.bind(), so may be any type\n       supported by that function.\n\n       Throws on error (e.g. malformed SQL).\n    */\n    selectObject: function(sql,bind){\n      return __selectFirstRow(this, sql, bind, {});\n    },\n\n    /**\n       Runs the given SQL and returns an array of all results, with\n       each row represented as an array, as per the 'array' `rowMode`\n       option to `exec()`. An empty result set resolves\n       to an empty array. The second argument, if any, is treated as\n       the 'bind' option to a call to exec().\n    */\n    selectArrays: function(sql,bind){\n      return __selectAll(this, sql, bind, 'array');\n    },\n\n    /**\n       Works identically to selectArrays() except that each value\n       in the returned array is an object, as per the 'object' `rowMode`\n       option to `exec()`.\n    */\n    selectObjects: function(sql,bind){\n      return __selectAll(this, sql, bind, 'object');\n    },\n\n    /**\n       Returns the number of currently-opened Stmt handles for this db\n       handle, or 0 if this DB instance is closed. Note that only\n       handles prepared via this.prepare() are counted, and not\n       handles prepared using capi.sqlite3_prepare_v3() (or\n       equivalent).\n    */\n    openStatementCount: function(){\n      return this.pointer ? Object.keys(__stmtMap.get(this)).length : 0;\n    },\n\n    /**\n       Starts a transaction, calls the given callback, and then either\n       rolls back or commits the savepoint, depending on whether the\n       callback throws. The callback is passed this db object as its\n       only argument. On success, returns the result of the\n       callback. Throws on error.\n\n       Note that transactions may not be nested, so this will throw if\n       it is called recursively. For nested transactions, use the\n       savepoint() method or manually manage SAVEPOINTs using exec().\n\n       If called with 2 arguments, the first must be a keyword which\n       is legal immediately after a BEGIN statement, e.g. one of\n       \"DEFERRED\", \"IMMEDIATE\", or \"EXCLUSIVE\". Though the exact list\n       of supported keywords is not hard-coded here, in order to be\n       future-compatible, if the argument does not look like a single\n       keyword then an exception is triggered with a description of\n       the problem.\n     */\n    transaction: function(/* [beginQualifier,] */callback){\n      let opener = 'BEGIN';\n      if(arguments.length>1){\n        if(/[^a-zA-Z]/.test(arguments[0])){\n          toss3(capi.SQLITE_MISUSE, \"Invalid argument for BEGIN qualifier.\");\n        }\n        opener += ' '+arguments[0];\n        callback = arguments[1];\n      }\n      affirmDbOpen(this).exec(opener);\n      try {\n        const rc = callback(this);\n        this.exec(\"COMMIT\");\n        return rc;\n      }catch(e){\n        this.exec(\"ROLLBACK\");\n        throw e;\n      }\n    },\n\n    /**\n       This works similarly to transaction() but uses sqlite3's SAVEPOINT\n       feature. This function starts a savepoint (with an unspecified name)\n       and calls the given callback function, passing it this db object.\n       If the callback returns, the savepoint is released (committed). If\n       the callback throws, the savepoint is rolled back. If it does not\n       throw, it returns the result of the callback.\n    */\n    savepoint: function(callback){\n      affirmDbOpen(this).exec(\"SAVEPOINT oo1\");\n      try {\n        const rc = callback(this);\n        this.exec(\"RELEASE oo1\");\n        return rc;\n      }catch(e){\n        this.exec(\"ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1\");\n        throw e;\n      }\n    },\n\n    /**\n       A convenience form of DB.checkRc(this,resultCode). If it does\n       not throw, it returns this object.\n    */\n    checkRc: function(resultCode){\n      return checkSqlite3Rc(this, resultCode);\n    }\n  }/*DB.prototype*/;\n\n\n  /** Throws if the given Stmt has been finalized, else stmt is\n      returned. */\n  const affirmStmtOpen = function(stmt){\n    if(!stmt.pointer) toss3(\"Stmt has been closed.\");\n    return stmt;\n  };\n\n  /** Returns an opaque truthy value from the BindTypes\n      enum if v's type is a valid bindable type, else\n      returns a falsy value. As a special case, a value of\n      undefined is treated as a bind type of null. */\n  const isSupportedBindType = function(v){\n    let t = BindTypes[(null===v||undefined===v) ? 'null' : typeof v];\n    switch(t){\n        case BindTypes.boolean:\n        case BindTypes.null:\n        case BindTypes.number:\n        case BindTypes.string:\n          return t;\n        case BindTypes.bigint:\n          if(wasm.bigIntEnabled) return t;\n          /* else fall through */\n        default:\n          return util.isBindableTypedArray(v) ? BindTypes.blob : undefined;\n    }\n  };\n\n  /**\n     If isSupportedBindType(v) returns a truthy value, this\n     function returns that value, else it throws.\n  */\n  const affirmSupportedBindType = function(v){\n    //sqlite3.config.log('affirmSupportedBindType',v);\n    return isSupportedBindType(v) || toss3(\"Unsupported bind() argument type:\",typeof v);\n  };\n\n  /**\n     If key is a number and within range of stmt's bound parameter\n     count, key is returned.\n\n     If key is not a number then it is checked against named\n     parameters. If a match is found, its index is returned.\n\n     Else it throws.\n  */\n  const affirmParamIndex = function(stmt,key){\n    const n = ('number'===typeof key)\n          ? key : capi.sqlite3_bind_parameter_index(stmt.pointer, key);\n    if(0===n || !util.isInt32(n)){\n      toss3(\"Invalid bind() parameter name: \"+key);\n    }\n    else if(n<1 || n>stmt.parameterCount) toss3(\"Bind index\",key,\"is out of range.\");\n    return n;\n  };\n\n  /**\n     If stmt._lockedByExec is truthy, this throws an exception\n     complaining that the 2nd argument (an operation name,\n     e.g. \"bind()\") is not legal while the statement is \"locked\".\n     Locking happens before an exec()-like callback is passed a\n     statement, to ensure that the callback does not mutate or\n     finalize the statement. If it does not throw, it returns stmt.\n  */\n  const affirmNotLockedByExec = function(stmt,currentOpName){\n    if(stmt._lockedByExec){\n      toss3(\"Operation is illegal when statement is locked:\",currentOpName);\n    }\n    return stmt;\n  };\n\n  /**\n     Binds a single bound parameter value on the given stmt at the\n     given index (numeric or named) using the given bindType (see\n     the BindTypes enum) and value. Throws on error. Returns stmt on\n     success.\n  */\n  const bindOne = function f(stmt,ndx,bindType,val){\n    affirmNotLockedByExec(affirmStmtOpen(stmt), 'bind()');\n    if(!f._){\n      f._tooBigInt = (v)=>toss3(\n        \"BigInt value is too big to store without precision loss:\", v\n      );\n      f._ = {\n        string: function(stmt, ndx, val, asBlob){\n          const [pStr, n] = wasm.allocCString(val, true);\n          const f = asBlob ? capi.sqlite3_bind_blob : capi.sqlite3_bind_text;\n          return f(stmt.pointer, ndx, pStr, n, capi.SQLITE_WASM_DEALLOC);\n        }\n      };\n    }/* static init */\n    affirmSupportedBindType(val);\n    ndx = affirmParamIndex(stmt,ndx);\n    let rc = 0;\n    switch((null===val || undefined===val) ? BindTypes.null : bindType){\n        case BindTypes.null:\n          rc = capi.sqlite3_bind_null(stmt.pointer, ndx);\n          break;\n        case BindTypes.string:\n          rc = f._.string(stmt, ndx, val, false);\n          break;\n        case BindTypes.number: {\n          let m;\n          if(util.isInt32(val)) m = capi.sqlite3_bind_int;\n          else if('bigint'===typeof val){\n            if(!util.bigIntFits64(val)){\n              f._tooBigInt(val);\n            }else if(wasm.bigIntEnabled){\n              m = capi.sqlite3_bind_int64;\n            }else if(util.bigIntFitsDouble(val)){\n              val = Number(val);\n              m = capi.sqlite3_bind_double;\n            }else{\n              f._tooBigInt(val);\n            }\n          }else{ // !int32, !bigint\n            val = Number(val);\n            if(wasm.bigIntEnabled && Number.isInteger(val)){\n              m = capi.sqlite3_bind_int64;\n            }else{\n              m = capi.sqlite3_bind_double;\n            }\n          }\n          rc = m(stmt.pointer, ndx, val);\n          break;\n        }\n        case BindTypes.boolean:\n          rc = capi.sqlite3_bind_int(stmt.pointer, ndx, val ? 1 : 0);\n          break;\n        case BindTypes.blob: {\n          if('string'===typeof val){\n            rc = f._.string(stmt, ndx, val, true);\n            break;\n          }else if(val instanceof ArrayBuffer){\n            val = new Uint8Array(val);\n          }else if(!util.isBindableTypedArray(val)){\n            toss3(\"Binding a value as a blob requires\",\n                  \"that it be a string, Uint8Array, Int8Array, or ArrayBuffer.\");\n          }\n          const pBlob = wasm.alloc(val.byteLength || 1);\n          wasm.heap8().set(val.byteLength ? val : [0], pBlob)\n          rc = capi.sqlite3_bind_blob(stmt.pointer, ndx, pBlob, val.byteLength,\n                                      capi.SQLITE_WASM_DEALLOC);\n          break;\n        }\n        default:\n          sqlite3.config.warn(\"Unsupported bind() argument type:\",val);\n          toss3(\"Unsupported bind() argument type: \"+(typeof val));\n    }\n    if(rc) DB.checkRc(stmt.db.pointer, rc);\n    stmt._mayGet = false;\n    return stmt;\n  };\n\n  Stmt.prototype = {\n    /**\n       \"Finalizes\" this statement. This is a no-op if the statement\n       has already been finalized. Returns the result of\n       sqlite3_finalize() (0 on success, non-0 on error), or the\n       undefined value if the statement has already been\n       finalized. Regardless of success or failure, most methods in\n       this class will throw if called after this is.\n\n       This method always throws if called when it is illegal to do\n       so. Namely, when triggered via a per-row callback handler of a\n       DB.exec() call.\n    */\n    finalize: function(){\n      if(this.pointer){\n        affirmNotLockedByExec(this,'finalize()');\n        const rc = capi.sqlite3_finalize(this.pointer);\n        delete __stmtMap.get(this.db)[this.pointer];\n        __ptrMap.delete(this);\n        delete this._mayGet;\n        delete this.parameterCount;\n        delete this._lockedByExec;\n        delete this.db;\n        return rc;\n      }\n    },\n    /**\n       Clears all bound values. Returns this object.  Throws if this\n       statement has been finalized or if modification of the\n       statement is currently illegal (e.g. in the per-row callback of\n       a DB.exec() call).\n    */\n    clearBindings: function(){\n      affirmNotLockedByExec(affirmStmtOpen(this), 'clearBindings()')\n      capi.sqlite3_clear_bindings(this.pointer);\n      this._mayGet = false;\n      return this;\n    },\n    /**\n       Resets this statement so that it may be step()ed again from the\n       beginning. Returns this object. Throws if this statement has\n       been finalized, if it may not legally be reset because it is\n       currently being used from a DB.exec() callback, or if the\n       underlying call to sqlite3_reset() returns non-0.\n\n       If passed a truthy argument then this.clearBindings() is\n       also called, otherwise any existing bindings, along with\n       any memory allocated for them, are retained.\n\n       In versions 3.42.0 and earlier, this function did not throw if\n       sqlite3_reset() returns non-0, but it was discovered that\n       throwing (or significant extra client-side code) is necessary\n       in order to avoid certain silent failure scenarios, as\n       discussed at:\n\n       https://sqlite.org/forum/forumpost/36f7a2e7494897df\n    */\n    reset: function(alsoClearBinds){\n      affirmNotLockedByExec(this,'reset()');\n      if(alsoClearBinds) this.clearBindings();\n      const rc = capi.sqlite3_reset(affirmStmtOpen(this).pointer);\n      this._mayGet = false;\n      checkSqlite3Rc(this.db, rc);\n      return this;\n    },\n    /**\n       Binds one or more values to its bindable parameters. It\n       accepts 1 or 2 arguments:\n\n       If passed a single argument, it must be either an array, an\n       object, or a value of a bindable type (see below).\n\n       If passed 2 arguments, the first one is the 1-based bind\n       index or bindable parameter name and the second one must be\n       a value of a bindable type.\n\n       Bindable value types:\n\n       - null is bound as NULL.\n\n       - undefined as a standalone value is a no-op intended to\n         simplify certain client-side use cases: passing undefined as\n         a value to this function will not actually bind anything and\n         this function will skip confirmation that binding is even\n         legal. (Those semantics simplify certain client-side uses.)\n         Conversely, a value of undefined as an array or object\n         property when binding an array/object (see below) is treated\n         the same as null.\n\n       - Numbers are bound as either doubles or integers: doubles if\n         they are larger than 32 bits, else double or int32, depending\n         on whether they have a fractional part. Booleans are bound as\n         integer 0 or 1. It is not expected the distinction of binding\n         doubles which have no fractional parts is integers is\n         significant for the majority of clients due to sqlite3's data\n         typing model. If [BigInt] support is enabled then this\n         routine will bind BigInt values as 64-bit integers if they'll\n         fit in 64 bits. If that support disabled, it will store the\n         BigInt as an int32 or a double if it can do so without loss\n         of precision. If the BigInt is _too BigInt_ then it will\n         throw.\n\n       - Strings are bound as strings (use bindAsBlob() to force\n         blob binding).\n\n       - Uint8Array, Int8Array, and ArrayBuffer instances are bound as\n         blobs.\n\n       If passed an array, each element of the array is bound at\n       the parameter index equal to the array index plus 1\n       (because arrays are 0-based but binding is 1-based).\n\n       If passed an object, each object key is treated as a\n       bindable parameter name. The object keys _must_ match any\n       bindable parameter names, including any `$`, `@`, or `:`\n       prefix. Because `$` is a legal identifier chararacter in\n       JavaScript, that is the suggested prefix for bindable\n       parameters: `stmt.bind({$a: 1, $b: 2})`.\n\n       It returns this object on success and throws on\n       error. Errors include:\n\n       - Any bind index is out of range, a named bind parameter\n       does not match, or this statement has no bindable\n       parameters.\n\n       - Any value to bind is of an unsupported type.\n\n       - Passed no arguments or more than two.\n\n       - The statement has been finalized.\n    */\n    bind: function(/*[ndx,] arg*/){\n      affirmStmtOpen(this);\n      let ndx, arg;\n      switch(arguments.length){\n          case 1: ndx = 1; arg = arguments[0]; break;\n          case 2: ndx = arguments[0]; arg = arguments[1]; break;\n          default: toss3(\"Invalid bind() arguments.\");\n      }\n      if(undefined===arg){\n        /* It might seem intuitive to bind undefined as NULL\n           but this approach simplifies certain client-side\n           uses when passing on arguments between 2+ levels of\n           functions. */\n        return this;\n      }else if(!this.parameterCount){\n        toss3(\"This statement has no bindable parameters.\");\n      }\n      this._mayGet = false;\n      if(null===arg){\n        /* bind NULL */\n        return bindOne(this, ndx, BindTypes.null, arg);\n      }\n      else if(Array.isArray(arg)){\n        /* bind each entry by index */\n        if(1!==arguments.length){\n          toss3(\"When binding an array, an index argument is not permitted.\");\n        }\n        arg.forEach((v,i)=>bindOne(this, i+1, affirmSupportedBindType(v), v));\n        return this;\n      }else if(arg instanceof ArrayBuffer){\n        arg = new Uint8Array(arg);\n      }\n      if('object'===typeof arg/*null was checked above*/\n              && !util.isBindableTypedArray(arg)){\n        /* Treat each property of arg as a named bound parameter. */\n        if(1!==arguments.length){\n          toss3(\"When binding an object, an index argument is not permitted.\");\n        }\n        Object.keys(arg)\n          .forEach(k=>bindOne(this, k,\n                              affirmSupportedBindType(arg[k]),\n                              arg[k]));\n        return this;\n      }else{\n        return bindOne(this, ndx, affirmSupportedBindType(arg), arg);\n      }\n      toss3(\"Should not reach this point.\");\n    },\n    /**\n       Special case of bind() which binds the given value using the\n       BLOB binding mechanism instead of the default selected one for\n       the value. The ndx may be a numbered or named bind index. The\n       value must be of type string, null/undefined (both get treated\n       as null), or a TypedArray of a type supported by the bind()\n       API. This API cannot bind numbers as blobs.\n\n       If passed a single argument, a bind index of 1 is assumed and\n       the first argument is the value.\n    */\n    bindAsBlob: function(ndx,arg){\n      affirmStmtOpen(this);\n      if(1===arguments.length){\n        arg = ndx;\n        ndx = 1;\n      }\n      const t = affirmSupportedBindType(arg);\n      if(BindTypes.string !== t && BindTypes.blob !== t\n         && BindTypes.null !== t){\n        toss3(\"Invalid value type for bindAsBlob()\");\n      }\n      return bindOne(this, ndx, BindTypes.blob, arg);\n    },\n    /**\n       Steps the statement one time. If the result indicates that a\n       row of data is available, a truthy value is returned.\n       If no row of data is available, a falsy\n       value is returned.  Throws on error.\n    */\n    step: function(){\n      affirmNotLockedByExec(this, 'step()');\n      const rc = capi.sqlite3_step(affirmStmtOpen(this).pointer);\n      switch(rc){\n          case capi.SQLITE_DONE: return this._mayGet = false;\n          case capi.SQLITE_ROW: return this._mayGet = true;\n          default:\n            this._mayGet = false;\n            sqlite3.config.warn(\"sqlite3_step() rc=\",rc,\n                         capi.sqlite3_js_rc_str(rc),\n                         \"SQL =\", capi.sqlite3_sql(this.pointer));\n            DB.checkRc(this.db.pointer, rc);\n      }\n    },\n    /**\n       Functions exactly like step() except that...\n\n       1) On success, it calls this.reset() and returns this object.\n       2) On error, it throws and does not call reset().\n\n       This is intended to simplify constructs like:\n\n       ```\n       for(...) {\n         stmt.bind(...).stepReset();\n       }\n       ```\n\n       Note that the reset() call makes it illegal to call this.get()\n       after the step.\n    */\n    stepReset: function(){\n      this.step();\n      return this.reset();\n    },\n    /**\n       Functions like step() except that it calls finalize() on this\n       statement immediately after stepping, even if the step() call\n       throws.\n\n       On success, it returns true if the step indicated that a row of\n       data was available, else it returns false.\n\n       This is intended to simplify use cases such as:\n\n       ```\n       aDb.prepare(\"insert into foo(a) values(?)\").bind(123).stepFinalize();\n       ```\n    */\n    stepFinalize: function(){\n      try{\n        const rc = this.step();\n        this.reset(/*for INSERT...RETURNING locking case*/);\n        return rc;\n      }finally{\n        try{this.finalize()}\n        catch(e){/*ignored*/}\n      }\n    },\n    /**\n       Fetches the value from the given 0-based column index of\n       the current data row, throwing if index is out of range.\n\n       Requires that step() has just returned a truthy value, else\n       an exception is thrown.\n\n       By default it will determine the data type of the result\n       automatically. If passed a second arugment, it must be one\n       of the enumeration values for sqlite3 types, which are\n       defined as members of the sqlite3 module: SQLITE_INTEGER,\n       SQLITE_FLOAT, SQLITE_TEXT, SQLITE_BLOB. Any other value,\n       except for undefined, will trigger an exception. Passing\n       undefined is the same as not passing a value. It is legal\n       to, e.g., fetch an integer value as a string, in which case\n       sqlite3 will convert the value to a string.\n\n       If ndx is an array, this function behaves a differently: it\n       assigns the indexes of the array, from 0 to the number of\n       result columns, to the values of the corresponding column,\n       and returns that array.\n\n       If ndx is a plain object, this function behaves even\n       differentlier: it assigns the properties of the object to\n       the values of their corresponding result columns.\n\n       Blobs are returned as Uint8Array instances.\n\n       Potential TODO: add type ID SQLITE_JSON, which fetches the\n       result as a string and passes it (if it's not null) to\n       JSON.parse(), returning the result of that. Until then,\n       getJSON() can be used for that.\n    */\n    get: function(ndx,asType){\n      if(!affirmStmtOpen(this)._mayGet){\n        toss3(\"Stmt.step() has not (recently) returned true.\");\n      }\n      if(Array.isArray(ndx)){\n        let i = 0;\n        const n = this.columnCount;\n        while(i<n){\n          ndx[i] = this.get(i++);\n        }\n        return ndx;\n      }else if(ndx && 'object'===typeof ndx){\n        let i = 0;\n        const n = this.columnCount;\n        while(i<n){\n          ndx[capi.sqlite3_column_name(this.pointer,i)] = this.get(i++);\n        }\n        return ndx;\n      }\n      affirmColIndex(this, ndx);\n      switch(undefined===asType\n             ? capi.sqlite3_column_type(this.pointer, ndx)\n             : asType){\n          case capi.SQLITE_NULL: return null;\n          case capi.SQLITE_INTEGER:{\n            if(wasm.bigIntEnabled){\n              const rc = capi.sqlite3_column_int64(this.pointer, ndx);\n              if(rc>=Number.MIN_SAFE_INTEGER && rc<=Number.MAX_SAFE_INTEGER){\n                /* Coerce \"normal\" number ranges to normal number values,\n                   and only return BigInt-type values for numbers out of this\n                   range. */\n                return Number(rc).valueOf();\n              }\n              return rc;\n            }else{\n              const rc = capi.sqlite3_column_double(this.pointer, ndx);\n              if(rc>Number.MAX_SAFE_INTEGER || rc<Number.MIN_SAFE_INTEGER){\n                /* Throwing here is arguable but, since we're explicitly\n                   extracting an SQLITE_INTEGER-type value, it seems fair to throw\n                   if the extracted number is out of range for that type.\n                   This policy may be laxened to simply pass on the number and\n                   hope for the best, as the C API would do. */\n                toss3(\"Integer is out of range for JS integer range: \"+rc);\n              }\n              //sqlite3.config.log(\"get integer rc=\",rc,isInt32(rc));\n              return util.isInt32(rc) ? (rc | 0) : rc;\n            }\n          }\n          case capi.SQLITE_FLOAT:\n            return capi.sqlite3_column_double(this.pointer, ndx);\n          case capi.SQLITE_TEXT:\n            return capi.sqlite3_column_text(this.pointer, ndx);\n          case capi.SQLITE_BLOB: {\n            const n = capi.sqlite3_column_bytes(this.pointer, ndx),\n                  ptr = capi.sqlite3_column_blob(this.pointer, ndx),\n                  rc = new Uint8Array(n);\n            //heap = n ? wasm.heap8() : false;\n            if(n) rc.set(wasm.heap8u().slice(ptr, ptr+n), 0);\n            //for(let i = 0; i < n; ++i) rc[i] = heap[ptr + i];\n            if(n && this.db._blobXfer instanceof Array){\n              /* This is an optimization soley for the\n                 Worker-based API. These values will be\n                 transfered to the main thread directly\n                 instead of being copied. */\n              this.db._blobXfer.push(rc.buffer);\n            }\n            return rc;\n          }\n          default: toss3(\"Don't know how to translate\",\n                         \"type of result column #\"+ndx+\".\");\n      }\n      toss3(\"Not reached.\");\n    },\n    /** Equivalent to get(ndx) but coerces the result to an\n        integer. */\n    getInt: function(ndx){return this.get(ndx,capi.SQLITE_INTEGER)},\n    /** Equivalent to get(ndx) but coerces the result to a\n        float. */\n    getFloat: function(ndx){return this.get(ndx,capi.SQLITE_FLOAT)},\n    /** Equivalent to get(ndx) but coerces the result to a\n        string. */\n    getString: function(ndx){return this.get(ndx,capi.SQLITE_TEXT)},\n    /** Equivalent to get(ndx) but coerces the result to a\n        Uint8Array. */\n    getBlob: function(ndx){return this.get(ndx,capi.SQLITE_BLOB)},\n    /**\n       A convenience wrapper around get() which fetches the value\n       as a string and then, if it is not null, passes it to\n       JSON.parse(), returning that result. Throws if parsing\n       fails. If the result is null, null is returned. An empty\n       string, on the other hand, will trigger an exception.\n    */\n    getJSON: function(ndx){\n      const s = this.get(ndx, capi.SQLITE_STRING);\n      return null===s ? s : JSON.parse(s);\n    },\n    // Design note: the only reason most of these getters have a 'get'\n    // prefix is for consistency with getVALUE_TYPE().  The latter\n    // arguably really need that prefix for API readability and the\n    // rest arguably don't, but consistency is a powerful thing.\n    /**\n       Returns the result column name of the given index, or\n       throws if index is out of bounds or this statement has been\n       finalized. This can be used without having run step()\n       first.\n    */\n    getColumnName: function(ndx){\n      return capi.sqlite3_column_name(\n        affirmColIndex(affirmStmtOpen(this),ndx).pointer, ndx\n      );\n    },\n    /**\n       If this statement potentially has result columns, this function\n       returns an array of all such names. If passed an array, it is\n       used as the target and all names are appended to it. Returns\n       the target array. Throws if this statement cannot have result\n       columns. This object's columnCount property holds the number of\n       columns.\n    */\n    getColumnNames: function(tgt=[]){\n      affirmColIndex(affirmStmtOpen(this),0);\n      const n = this.columnCount;\n      for(let i = 0; i < n; ++i){\n        tgt.push(capi.sqlite3_column_name(this.pointer, i));\n      }\n      return tgt;\n    },\n    /**\n       If this statement has named bindable parameters and the\n       given name matches one, its 1-based bind index is\n       returned. If no match is found, 0 is returned. If it has no\n       bindable parameters, the undefined value is returned.\n    */\n    getParamIndex: function(name){\n      return (affirmStmtOpen(this).parameterCount\n              ? capi.sqlite3_bind_parameter_index(this.pointer, name)\n              : undefined);\n    }\n  }/*Stmt.prototype*/;\n\n  {/* Add the `pointer` property to DB and Stmt. */\n    const prop = {\n      enumerable: true,\n      get: function(){return __ptrMap.get(this)},\n      set: ()=>toss3(\"The pointer property is read-only.\")\n    }\n    Object.defineProperty(Stmt.prototype, 'pointer', prop);\n    Object.defineProperty(DB.prototype, 'pointer', prop);\n  }\n  /**\n     Stmt.columnCount is an interceptor for sqlite3_column_count().\n\n     This requires an unfortunate performance hit compared to caching\n     columnCount when the Stmt is created/prepared (as was done in\n     SQLite <=3.42.0), but is necessary in order to handle certain\n     corner cases, as described in\n     https://sqlite.org/forum/forumpost/7774b773937cbe0a.\n  */\n  Object.defineProperty(Stmt.prototype, 'columnCount', {\n    enumerable: false,\n    get: function(){return capi.sqlite3_column_count(this.pointer)},\n    set: ()=>toss3(\"The columnCount property is read-only.\")\n  });\n\n  /** The OO API's public namespace. */\n  sqlite3.oo1 = {\n    DB,\n    Stmt\n  }/*oo1 object*/;\n\n  if(util.isUIThread()){\n    /**\n       Functionally equivalent to DB(storageName,'c','kvvfs') except\n       that it throws if the given storage name is not one of 'local'\n       or 'session'.\n    */\n    sqlite3.oo1.JsStorageDb = function(storageName='session'){\n      if('session'!==storageName && 'local'!==storageName){\n        toss3(\"JsStorageDb db name must be one of 'session' or 'local'.\");\n      }\n      dbCtorHelper.call(this, {\n        filename: storageName,\n        flags: 'c',\n        vfs: \"kvvfs\"\n      });\n    };\n    const jdb = sqlite3.oo1.JsStorageDb;\n    jdb.prototype = Object.create(DB.prototype);\n    /** Equivalent to sqlite3_js_kvvfs_clear(). */\n    jdb.clearStorage = capi.sqlite3_js_kvvfs_clear;\n    /**\n       Clears this database instance's storage or throws if this\n       instance has been closed. Returns the number of\n       database blocks which were cleaned up.\n    */\n    jdb.prototype.clearStorage = function(){\n      return jdb.clearStorage(affirmDbOpen(this).filename);\n    };\n    /** Equivalent to sqlite3_js_kvvfs_size(). */\n    jdb.storageSize = capi.sqlite3_js_kvvfs_size;\n    /**\n       Returns the _approximate_ number of bytes this database takes\n       up in its storage or throws if this instance has been closed.\n    */\n    jdb.prototype.storageSize = function(){\n      return jdb.storageSize(affirmDbOpen(this).filename);\n    };\n  }/*main-window-only bits*/\n\n});\n\n/* END FILE: api/sqlite3-api-oo1.js */\n/* BEGIN FILE: api/sqlite3-api-worker1.js */\n/**\n  2022-07-22\n\n  The author disclaims copyright to this source code.  In place of a\n  legal notice, here is a blessing:\n\n  *   May you do good and not evil.\n  *   May you find forgiveness for yourself and forgive others.\n  *   May you share freely, never taking more than you give.\n\n  ***********************************************************************\n\n  This file implements the initializer for SQLite's \"Worker API #1\", a\n  very basic DB access API intended to be scripted from a main window\n  thread via Worker-style messages. Because of limitations in that\n  type of communication, this API is minimalistic and only capable of\n  serving relatively basic DB requests (e.g. it cannot process nested\n  query loops concurrently).\n\n  This file requires that the core C-style sqlite3 API and OO API #1\n  have been loaded.\n*/\n\n/**\n  sqlite3.initWorker1API() implements a Worker-based wrapper around\n  SQLite3 OO API #1, colloquially known as \"Worker API #1\".\n\n  In order to permit this API to be loaded in worker threads without\n  automatically registering onmessage handlers, initializing the\n  worker API requires calling initWorker1API(). If this function is\n  called from a non-worker thread then it throws an exception.  It\n  must only be called once per Worker.\n\n  When initialized, it installs message listeners to receive Worker\n  messages and then it posts a message in the form:\n\n  ```\n  {type:'sqlite3-api', result:'worker1-ready'}\n  ```\n\n  to let the client know that it has been initialized. Clients may\n  optionally depend on this function not returning until\n  initialization is complete, as the initialization is synchronous.\n  In some contexts, however, listening for the above message is\n  a better fit.\n\n  Note that the worker-based interface can be slightly quirky because\n  of its async nature. In particular, any number of messages may be posted\n  to the worker before it starts handling any of them. If, e.g., an\n  \"open\" operation fails, any subsequent messages will fail. The\n  Promise-based wrapper for this API (`sqlite3-worker1-promiser.js`)\n  is more comfortable to use in that regard.\n\n  The documentation for the input and output worker messages for\n  this API follows...\n\n  ====================================================================\n  Common message format...\n\n  Each message posted to the worker has an operation-independent\n  envelope and operation-dependent arguments:\n\n  ```\n  {\n    type: string, // one of: 'open', 'close', 'exec', 'config-get'\n\n    messageId: OPTIONAL arbitrary value. The worker will copy it as-is\n    into response messages to assist in client-side dispatching.\n\n    dbId: a db identifier string (returned by 'open') which tells the\n    operation which database instance to work on. If not provided, the\n    first-opened db is used. This is an \"opaque\" value, with no\n    inherently useful syntax or information. Its value is subject to\n    change with any given build of this API and cannot be used as a\n    basis for anything useful beyond its one intended purpose.\n\n    args: ...operation-dependent arguments...\n\n    // the framework may add other properties for testing or debugging\n    // purposes.\n\n  }\n  ```\n\n  Response messages, posted back to the main thread, look like:\n\n  ```\n  {\n    type: string. Same as above except for error responses, which have the type\n    'error',\n\n    messageId: same value, if any, provided by the inbound message\n\n    dbId: the id of the db which was operated on, if any, as returned\n    by the corresponding 'open' operation.\n\n    result: ...operation-dependent result...\n\n  }\n  ```\n\n  ====================================================================\n  Error responses\n\n  Errors are reported messages in an operation-independent format:\n\n  ```\n  {\n    type: \"error\",\n\n    messageId: ...as above...,\n\n    dbId: ...as above...\n\n    result: {\n\n      operation: type of the triggering operation: 'open', 'close', ...\n\n      message: ...error message text...\n\n      errorClass: string. The ErrorClass.name property from the thrown exception.\n\n      input: the message object which triggered the error.\n\n      stack: _if available_, a stack trace array.\n\n    }\n\n  }\n  ```\n\n\n  ====================================================================\n  \"config-get\"\n\n  This operation fetches the serializable parts of the sqlite3 API\n  configuration.\n\n  Message format:\n\n  ```\n  {\n    type: \"config-get\",\n    messageId: ...as above...,\n    args: currently ignored and may be elided.\n  }\n  ```\n\n  Response:\n\n  ```\n  {\n    type: \"config-get\",\n    messageId: ...as above...,\n    result: {\n\n      version: sqlite3.version object\n\n      bigIntEnabled: bool. True if BigInt support is enabled.\n\n      vfsList: result of sqlite3.capi.sqlite3_js_vfs_list()\n   }\n  }\n  ```\n\n\n  ====================================================================\n  \"open\" a database\n\n  Message format:\n\n  ```\n  {\n    type: \"open\",\n    messageId: ...as above...,\n    args:{\n\n      filename [=\":memory:\" or \"\" (unspecified)]: the db filename.\n      See the sqlite3.oo1.DB constructor for peculiarities and\n      transformations,\n\n      vfs: sqlite3_vfs name. Ignored if filename is \":memory:\" or \"\".\n           This may change how the given filename is resolved.\n    }\n  }\n  ```\n\n  Response:\n\n  ```\n  {\n    type: \"open\",\n    messageId: ...as above...,\n    result: {\n      filename: db filename, possibly differing from the input.\n\n      dbId: an opaque ID value which must be passed in the message\n      envelope to other calls in this API to tell them which db to\n      use. If it is not provided to future calls, they will default to\n      operating on the least-recently-opened db. This property is, for\n      API consistency's sake, also part of the containing message\n      envelope.  Only the `open` operation includes it in the `result`\n      property.\n\n      persistent: true if the given filename resides in the\n      known-persistent storage, else false.\n\n      vfs: name of the VFS the \"main\" db is using.\n   }\n  }\n  ```\n\n  ====================================================================\n  \"close\" a database\n\n  Message format:\n\n  ```\n  {\n    type: \"close\",\n    messageId: ...as above...\n    dbId: ...as above...\n    args: OPTIONAL {unlink: boolean}\n  }\n  ```\n\n  If the `dbId` does not refer to an opened ID, this is a no-op. If\n  the `args` object contains a truthy `unlink` value then the database\n  will be unlinked (deleted) after closing it. The inability to close a\n  db (because it's not opened) or delete its file does not trigger an\n  error.\n\n  Response:\n\n  ```\n  {\n    type: \"close\",\n    messageId: ...as above...,\n    result: {\n\n      filename: filename of closed db, or undefined if no db was closed\n\n    }\n  }\n  ```\n\n  ====================================================================\n  \"exec\" SQL\n\n  All SQL execution is processed through the exec operation. It offers\n  most of the features of the oo1.DB.exec() method, with a few limitations\n  imposed by the state having to cross thread boundaries.\n\n  Message format:\n\n  ```\n  {\n    type: \"exec\",\n    messageId: ...as above...\n    dbId: ...as above...\n    args: string (SQL) or {... see below ...}\n  }\n  ```\n\n  Response:\n\n  ```\n  {\n    type: \"exec\",\n    messageId: ...as above...,\n    dbId: ...as above...\n    result: {\n      input arguments, possibly modified. See below.\n    }\n  }\n  ```\n\n  The arguments are in the same form accepted by oo1.DB.exec(), with\n  the exceptions noted below.\n\n  If the `countChanges` arguments property (added in version 3.43) is\n  truthy then the `result` property contained by the returned object\n  will have a `changeCount` property which holds the number of changes\n  made by the provided SQL. Because the SQL may contain an arbitrary\n  number of statements, the `changeCount` is calculated by calling\n  `sqlite3_total_changes()` before and after the SQL is evaluated. If\n  the value of `countChanges` is 64 then the `changeCount` property\n  will be returned as a 64-bit integer in the form of a BigInt (noting\n  that that will trigger an exception if used in a BigInt-incapable\n  build).  In the latter case, the number of changes is calculated by\n  calling `sqlite3_total_changes64()` before and after the SQL is\n  evaluated.\n\n  A function-type args.callback property cannot cross\n  the window/Worker boundary, so is not useful here. If\n  args.callback is a string then it is assumed to be a\n  message type key, in which case a callback function will be\n  applied which posts each row result via:\n\n  postMessage({type: thatKeyType,\n               rowNumber: 1-based-#,\n               row: theRow,\n               columnNames: anArray\n               })\n\n  And, at the end of the result set (whether or not any result rows\n  were produced), it will post an identical message with\n  (row=undefined, rowNumber=null) to alert the caller than the result\n  set is completed. Note that a row value of `null` is a legal row\n  result for certain arg.rowMode values.\n\n    (Design note: we don't use (row=undefined, rowNumber=undefined) to\n    indicate end-of-results because fetching those would be\n    indistinguishable from fetching from an empty object unless the\n    client used hasOwnProperty() (or similar) to distinguish \"missing\n    property\" from \"property with the undefined value\".  Similarly,\n    `null` is a legal value for `row` in some case , whereas the db\n    layer won't emit a result value of `undefined`.)\n\n  The callback proxy must not recurse into this interface. An exec()\n  call will tie up the Worker thread, causing any recursion attempt\n  to wait until the first exec() is completed.\n\n  The response is the input options object (or a synthesized one if\n  passed only a string), noting that options.resultRows and\n  options.columnNames may be populated by the call to db.exec().\n\n*/\nglobalThis.sqlite3ApiBootstrap.initializers.push(function(sqlite3){\nsqlite3.initWorker1API = function(){\n  'use strict';\n  const toss = (...args)=>{throw new Error(args.join(' '))};\n  if(!(globalThis.WorkerGlobalScope instanceof Function)){\n    toss(\"initWorker1API() must be run from a Worker thread.\");\n  }\n  const sqlite3 = this.sqlite3 || toss(\"Missing this.sqlite3 object.\");\n  const DB = sqlite3.oo1.DB;\n\n  /**\n     Returns the app-wide unique ID for the given db, creating one if\n     needed.\n  */\n  const getDbId = function(db){\n    let id = wState.idMap.get(db);\n    if(id) return id;\n    id = 'db#'+(++wState.idSeq)+'@'+db.pointer;\n    /** ^^^ can't simply use db.pointer b/c closing/opening may re-use\n        the same address, which could map pending messages to a wrong\n        instance. */\n    wState.idMap.set(db, id);\n    return id;\n  };\n\n  /**\n     Internal helper for managing Worker-level state.\n  */\n  const wState = {\n    /**\n       Each opened DB is added to this.dbList, and the first entry in\n       that list is the default db. As each db is closed, its entry is\n       removed from the list.\n    */\n    dbList: [],\n    /** Sequence number of dbId generation. */\n    idSeq: 0,\n    /** Map of DB instances to dbId. */\n    idMap: new WeakMap,\n    /** Temp holder for \"transferable\" postMessage() state. */\n    xfer: [],\n    open: function(opt){\n      const db = new DB(opt);\n      this.dbs[getDbId(db)] = db;\n      if(this.dbList.indexOf(db)<0) this.dbList.push(db);\n      return db;\n    },\n    close: function(db,alsoUnlink){\n      if(db){\n        delete this.dbs[getDbId(db)];\n        const filename = db.filename;\n        const pVfs = sqlite3.wasm.sqlite3_wasm_db_vfs(db.pointer, 0);\n        db.close();\n        const ddNdx = this.dbList.indexOf(db);\n        if(ddNdx>=0) this.dbList.splice(ddNdx, 1);\n        if(alsoUnlink && filename && pVfs){\n          sqlite3.wasm.sqlite3_wasm_vfs_unlink(pVfs, filename);\n        }\n      }\n    },\n    /**\n       Posts the given worker message value. If xferList is provided,\n       it must be an array, in which case a copy of it passed as\n       postMessage()'s second argument and xferList.length is set to\n       0.\n    */\n    post: function(msg,xferList){\n      if(xferList && xferList.length){\n        globalThis.postMessage( msg, Array.from(xferList) );\n        xferList.length = 0;\n      }else{\n        globalThis.postMessage(msg);\n      }\n    },\n    /** Map of DB IDs to DBs. */\n    dbs: Object.create(null),\n    /** Fetch the DB for the given id. Throw if require=true and the\n        id is not valid, else return the db or undefined. */\n    getDb: function(id,require=true){\n      return this.dbs[id]\n        || (require ? toss(\"Unknown (or closed) DB ID:\",id) : undefined);\n    }\n  };\n\n  /** Throws if the given db is falsy or not opened, else returns its\n      argument. */\n  const affirmDbOpen = function(db = wState.dbList[0]){\n    return (db && db.pointer) ? db : toss(\"DB is not opened.\");\n  };\n\n  /** Extract dbId from the given message payload. */\n  const getMsgDb = function(msgData,affirmExists=true){\n    const db = wState.getDb(msgData.dbId,false) || wState.dbList[0];\n    return affirmExists ? affirmDbOpen(db) : db;\n  };\n\n  const getDefaultDbId = function(){\n    return wState.dbList[0] && getDbId(wState.dbList[0]);\n  };\n\n  const guessVfs = function(filename){\n    const m = /^file:.+(vfs=(\\w+))/.exec(filename);\n    return sqlite3.capi.sqlite3_vfs_find(m ? m[2] : 0);\n  };\n\n  const isSpecialDbFilename = (n)=>{\n    return \"\"===n || ':'===n[0];\n  };\n\n  /**\n     A level of \"organizational abstraction\" for the Worker1\n     API. Each method in this object must map directly to a Worker1\n     message type key. The onmessage() dispatcher attempts to\n     dispatch all inbound messages to a method of this object,\n     passing it the event.data part of the inbound event object. All\n     methods must return a plain Object containing any result\n     state, which the dispatcher may amend. All methods must throw\n     on error.\n  */\n  const wMsgHandler = {\n    open: function(ev){\n      const oargs = Object.create(null), args = (ev.args || Object.create(null));\n      if(args.simulateError){ // undocumented internal testing option\n        toss(\"Throwing because of simulateError flag.\");\n      }\n      const rc = Object.create(null);\n      let byteArray, pVfs;\n      oargs.vfs = args.vfs;\n      if(isSpecialDbFilename(args.filename)){\n        oargs.filename = args.filename || \"\";\n      }else{\n        oargs.filename = args.filename;\n        byteArray = args.byteArray;\n        if(byteArray) pVfs = guessVfs(args.filename);\n      }\n      if(pVfs){\n        /* 2022-11-02: this feature is as-yet untested except that\n           sqlite3_wasm_vfs_create_file() has been tested from the\n           browser dev console. */\n        let pMem;\n        try{\n          pMem = sqlite3.wasm.allocFromTypedArray(byteArray);\n          const rc = sqlite3.wasm.sqlite3_wasm_vfs_create_file(\n            pVfs, oargs.filename, pMem, byteArray.byteLength\n          );\n          if(rc) sqlite3.SQLite3Error.toss(rc);\n        }catch(e){\n          throw new sqlite3.SQLite3Error(\n            e.name+' creating '+args.filename+\": \"+e.message, {\n              cause: e\n            }\n          );\n        }finally{\n          if(pMem) sqlite3.wasm.dealloc(pMem);\n        }\n      }\n      const db = wState.open(oargs);\n      rc.filename = db.filename;\n      rc.persistent = !!sqlite3.capi.sqlite3_js_db_uses_vfs(db.pointer, \"opfs\");\n      rc.dbId = getDbId(db);\n      rc.vfs = db.dbVfsName();\n      return rc;\n    },\n\n    close: function(ev){\n      const db = getMsgDb(ev,false);\n      const response = {\n        filename: db && db.filename\n      };\n      if(db){\n        const doUnlink = ((ev.args && 'object'===typeof ev.args)\n                         ? !!ev.args.unlink : false);\n        wState.close(db, doUnlink);\n      }\n      return response;\n    },\n\n    exec: function(ev){\n      const rc = (\n        'string'===typeof ev.args\n      ) ? {sql: ev.args} : (ev.args || Object.create(null));\n      if('stmt'===rc.rowMode){\n        toss(\"Invalid rowMode for 'exec': stmt mode\",\n             \"does not work in the Worker API.\");\n      }else if(!rc.sql){\n        toss(\"'exec' requires input SQL.\");\n      }\n      const db = getMsgDb(ev);\n      if(rc.callback || Array.isArray(rc.resultRows)){\n        // Part of a copy-avoidance optimization for blobs\n        db._blobXfer = wState.xfer;\n      }\n      const theCallback = rc.callback;\n      let rowNumber = 0;\n      const hadColNames = !!rc.columnNames;\n      if('string' === typeof theCallback){\n        if(!hadColNames) rc.columnNames = [];\n        /* Treat this as a worker message type and post each\n           row as a message of that type. */\n        rc.callback = function(row,stmt){\n          wState.post({\n            type: theCallback,\n            columnNames: rc.columnNames,\n            rowNumber: ++rowNumber,\n            row: row\n          }, wState.xfer);\n        }\n      }\n      try {\n        const changeCount = !!rc.countChanges\n              ? db.changes(true,(64===rc.countChanges))\n              : undefined;\n        db.exec(rc);\n        if(undefined !== changeCount){\n          rc.changeCount = db.changes(true,64===rc.countChanges) - changeCount;\n        }\n        if(rc.callback instanceof Function){\n          rc.callback = theCallback;\n          /* Post a sentinel message to tell the client that the end\n             of the result set has been reached (possibly with zero\n             rows). */\n          wState.post({\n            type: theCallback,\n            columnNames: rc.columnNames,\n            rowNumber: null /*null to distinguish from \"property not set\"*/,\n            row: undefined /*undefined because null is a legal row value\n                             for some rowType values, but undefined is not*/\n          });\n        }\n      }finally{\n        delete db._blobXfer;\n        if(rc.callback) rc.callback = theCallback;\n      }\n      return rc;\n    }/*exec()*/,\n\n    'config-get': function(){\n      const rc = Object.create(null), src = sqlite3.config;\n      [\n        'bigIntEnabled'\n      ].forEach(function(k){\n        if(Object.getOwnPropertyDescriptor(src, k)) rc[k] = src[k];\n      });\n      rc.version = sqlite3.version;\n      rc.vfsList = sqlite3.capi.sqlite3_js_vfs_list();\n      rc.opfsEnabled = !!sqlite3.opfs;\n      return rc;\n    },\n\n    /**\n       Exports the database to a byte array, as per\n       sqlite3_serialize(). Response is an object:\n\n       {\n         byteArray:  Uint8Array (db file contents),\n         filename: the current db filename,\n         mimetype: 'application/x-sqlite3'\n       }\n    */\n    export: function(ev){\n      const db = getMsgDb(ev);\n      const response = {\n        byteArray: sqlite3.capi.sqlite3_js_db_export(db.pointer),\n        filename: db.filename,\n        mimetype: 'application/x-sqlite3'\n      };\n      wState.xfer.push(response.byteArray.buffer);\n      return response;\n    }/*export()*/,\n\n    toss: function(ev){\n      toss(\"Testing worker exception\");\n    },\n\n    'opfs-tree': async function(ev){\n      if(!sqlite3.opfs) toss(\"OPFS support is unavailable.\");\n      const response = await sqlite3.opfs.treeList();\n      return response;\n    }\n  }/*wMsgHandler*/;\n\n  globalThis.onmessage = async function(ev){\n    ev = ev.data;\n    let result, dbId = ev.dbId, evType = ev.type;\n    const arrivalTime = performance.now();\n    try {\n      if(wMsgHandler.hasOwnProperty(evType) &&\n         wMsgHandler[evType] instanceof Function){\n        result = await wMsgHandler[evType](ev);\n      }else{\n        toss(\"Unknown db worker message type:\",ev.type);\n      }\n    }catch(err){\n      evType = 'error';\n      result = {\n        operation: ev.type,\n        message: err.message,\n        errorClass: err.name,\n        input: ev\n      };\n      if(err.stack){\n        result.stack = ('string'===typeof err.stack)\n          ? err.stack.split(/\\n\\s*/) : err.stack;\n      }\n      if(0) sqlite3.config.warn(\"Worker is propagating an exception to main thread.\",\n                                \"Reporting it _here_ for the stack trace:\",err,result);\n    }\n    if(!dbId){\n      dbId = result.dbId/*from 'open' cmd*/\n        || getDefaultDbId();\n    }\n    // Timing info is primarily for use in testing this API. It's not part of\n    // the public API. arrivalTime = when the worker got the message.\n    wState.post({\n      type: evType,\n      dbId: dbId,\n      messageId: ev.messageId,\n      workerReceivedTime: arrivalTime,\n      workerRespondTime: performance.now(),\n      departureTime: ev.departureTime,\n      // TODO: move the timing bits into...\n      //timing:{\n      //  departure: ev.departureTime,\n      //  workerReceived: arrivalTime,\n      //  workerResponse: performance.now();\n      //},\n      result: result\n    }, wState.xfer);\n  };\n  globalThis.postMessage({type:'sqlite3-api',result:'worker1-ready'});\n}.bind({sqlite3});\n});\n/* END FILE: api/sqlite3-api-worker1.js */\n/* BEGIN FILE: api/sqlite3-v-helper.js */\n/*\n** 2022-11-30\n**\n** The author disclaims copyright to this source code.  In place of a\n** legal notice, here is a blessing:\n**\n** *   May you do good and not evil.\n** *   May you find forgiveness for yourself and forgive others.\n** *   May you share freely, never taking more than you give.\n*/\n\n/**\n   This file installs sqlite3.vfs, and object which exists to assist\n   in the creation of JavaScript implementations of sqlite3_vfs, along\n   with its virtual table counterpart, sqlite3.vtab.\n*/\n'use strict';\nglobalThis.sqlite3ApiBootstrap.initializers.push(function(sqlite3){\n  const wasm = sqlite3.wasm, capi = sqlite3.capi, toss = sqlite3.util.toss3;\n  const vfs = Object.create(null), vtab = Object.create(null);\n\n  const StructBinder = sqlite3.StructBinder\n  /* we require a local alias b/c StructBinder is removed from the sqlite3\n     object during the final steps of the API cleanup. */;\n  sqlite3.vfs = vfs;\n  sqlite3.vtab = vtab;\n\n  const sii = capi.sqlite3_index_info;\n  /**\n     If n is >=0 and less than this.$nConstraint, this function\n     returns either a WASM pointer to the 0-based nth entry of\n     this.$aConstraint (if passed a truthy 2nd argument) or an\n     sqlite3_index_info.sqlite3_index_constraint object wrapping that\n     address (if passed a falsy value or no 2nd argument). Returns a\n     falsy value if n is out of range.\n  */\n  sii.prototype.nthConstraint = function(n, asPtr=false){\n    if(n<0 || n>=this.$nConstraint) return false;\n    const ptr = this.$aConstraint + (\n      sii.sqlite3_index_constraint.structInfo.sizeof * n\n    );\n    return asPtr ? ptr : new sii.sqlite3_index_constraint(ptr);\n  };\n\n  /**\n     Works identically to nthConstraint() but returns state from\n     this.$aConstraintUsage, so returns an\n     sqlite3_index_info.sqlite3_index_constraint_usage instance\n     if passed no 2nd argument or a falsy 2nd argument.\n  */\n  sii.prototype.nthConstraintUsage = function(n, asPtr=false){\n    if(n<0 || n>=this.$nConstraint) return false;\n    const ptr = this.$aConstraintUsage + (\n      sii.sqlite3_index_constraint_usage.structInfo.sizeof * n\n    );\n    return asPtr ? ptr : new sii.sqlite3_index_constraint_usage(ptr);\n  };\n\n  /**\n     If n is >=0 and less than this.$nOrderBy, this function\n     returns either a WASM pointer to the 0-based nth entry of\n     this.$aOrderBy (if passed a truthy 2nd argument) or an\n     sqlite3_index_info.sqlite3_index_orderby object wrapping that\n     address (if passed a falsy value or no 2nd argument). Returns a\n     falsy value if n is out of range.\n  */\n  sii.prototype.nthOrderBy = function(n, asPtr=false){\n    if(n<0 || n>=this.$nOrderBy) return false;\n    const ptr = this.$aOrderBy + (\n      sii.sqlite3_index_orderby.structInfo.sizeof * n\n    );\n    return asPtr ? ptr : new sii.sqlite3_index_orderby(ptr);\n  };\n\n  /**\n     Installs a StructBinder-bound function pointer member of the\n     given name and function in the given StructType target object.\n\n     It creates a WASM proxy for the given function and arranges for\n     that proxy to be cleaned up when tgt.dispose() is called. Throws\n     on the slightest hint of error, e.g. tgt is-not-a StructType,\n     name does not map to a struct-bound member, etc.\n\n     As a special case, if the given function is a pointer, then\n     `wasm.functionEntry()` is used to validate that it is a known\n     function. If so, it is used as-is with no extra level of proxying\n     or cleanup, else an exception is thrown. It is legal to pass a\n     value of 0, indicating a NULL pointer, with the caveat that 0\n     _is_ a legal function pointer in WASM but it will not be accepted\n     as such _here_. (Justification: the function at address zero must\n     be one which initially came from the WASM module, not a method we\n     want to bind to a virtual table or VFS.)\n\n     This function returns a proxy for itself which is bound to tgt\n     and takes 2 args (name,func). That function returns the same\n     thing as this one, permitting calls to be chained.\n\n     If called with only 1 arg, it has no side effects but returns a\n     func with the same signature as described above.\n\n     ACHTUNG: because we cannot generically know how to transform JS\n     exceptions into result codes, the installed functions do no\n     automatic catching of exceptions. It is critical, to avoid\n     undefined behavior in the C layer, that methods mapped via\n     this function do not throw. The exception, as it were, to that\n     rule is...\n\n     If applyArgcCheck is true then each JS function (as opposed to\n     function pointers) gets wrapped in a proxy which asserts that it\n     is passed the expected number of arguments, throwing if the\n     argument count does not match expectations. That is only intended\n     for dev-time usage for sanity checking, and will leave the C\n     environment in an undefined state.\n  */\n  const installMethod = function callee(\n    tgt, name, func, applyArgcCheck = callee.installMethodArgcCheck\n  ){\n    if(!(tgt instanceof StructBinder.StructType)){\n      toss(\"Usage error: target object is-not-a StructType.\");\n    }else if(!(func instanceof Function) && !wasm.isPtr(func)){\n      toss(\"Usage errror: expecting a Function or WASM pointer to one.\");\n    }\n    if(1===arguments.length){\n      return (n,f)=>callee(tgt, n, f, applyArgcCheck);\n    }\n    if(!callee.argcProxy){\n      callee.argcProxy = function(tgt, funcName, func,sig){\n        return function(...args){\n          if(func.length!==arguments.length){\n            toss(\"Argument mismatch for\",\n                 tgt.structInfo.name+\"::\"+funcName\n                 +\": Native signature is:\",sig);\n          }\n          return func.apply(this, args);\n        }\n      };\n      /* An ondispose() callback for use with\n         StructBinder-created types. */\n      callee.removeFuncList = function(){\n        if(this.ondispose.__removeFuncList){\n          this.ondispose.__removeFuncList.forEach(\n            (v,ndx)=>{\n              if('number'===typeof v){\n                try{wasm.uninstallFunction(v)}\n                catch(e){/*ignore*/}\n              }\n              /* else it's a descriptive label for the next number in\n                 the list. */\n            }\n          );\n          delete this.ondispose.__removeFuncList;\n        }\n      };\n    }/*static init*/\n    const sigN = tgt.memberSignature(name);\n    if(sigN.length<2){\n      toss(\"Member\",name,\"does not have a function pointer signature:\",sigN);\n    }\n    const memKey = tgt.memberKey(name);\n    const fProxy = (applyArgcCheck && !wasm.isPtr(func))\n    /** This middle-man proxy is only for use during development, to\n        confirm that we always pass the proper number of\n        arguments. We know that the C-level code will always use the\n        correct argument count. */\n          ? callee.argcProxy(tgt, memKey, func, sigN)\n          : func;\n    if(wasm.isPtr(fProxy)){\n      if(fProxy && !wasm.functionEntry(fProxy)){\n        toss(\"Pointer\",fProxy,\"is not a WASM function table entry.\");\n      }\n      tgt[memKey] = fProxy;\n    }else{\n      const pFunc = wasm.installFunction(fProxy, tgt.memberSignature(name, true));\n      tgt[memKey] = pFunc;\n      if(!tgt.ondispose || !tgt.ondispose.__removeFuncList){\n        tgt.addOnDispose('ondispose.__removeFuncList handler',\n                         callee.removeFuncList);\n        tgt.ondispose.__removeFuncList = [];\n      }\n      tgt.ondispose.__removeFuncList.push(memKey, pFunc);\n    }\n    return (n,f)=>callee(tgt, n, f, applyArgcCheck);\n  }/*installMethod*/;\n  installMethod.installMethodArgcCheck = false;\n\n  /**\n     Installs methods into the given StructType-type instance. Each\n     entry in the given methods object must map to a known member of\n     the given StructType, else an exception will be triggered.  See\n     installMethod() for more details, including the semantics of the\n     3rd argument.\n\n     As an exception to the above, if any two or more methods in the\n     2nd argument are the exact same function, installMethod() is\n     _not_ called for the 2nd and subsequent instances, and instead\n     those instances get assigned the same method pointer which is\n     created for the first instance. This optimization is primarily to\n     accommodate special handling of sqlite3_module::xConnect and\n     xCreate methods.\n\n     On success, returns its first argument. Throws on error.\n  */\n  const installMethods = function(\n    structInstance, methods, applyArgcCheck = installMethod.installMethodArgcCheck\n  ){\n    const seen = new Map /* map of <Function, memberName> */;\n    for(const k of Object.keys(methods)){\n      const m = methods[k];\n      const prior = seen.get(m);\n      if(prior){\n        const mkey = structInstance.memberKey(k);\n        structInstance[mkey] = structInstance[structInstance.memberKey(prior)];\n      }else{\n        installMethod(structInstance, k, m, applyArgcCheck);\n        seen.set(m, k);\n      }\n    }\n    return structInstance;\n  };\n\n  /**\n     Equivalent to calling installMethod(this,...arguments) with a\n     first argument of this object. If called with 1 or 2 arguments\n     and the first is an object, it's instead equivalent to calling\n     installMethods(this,...arguments).\n  */\n  StructBinder.StructType.prototype.installMethod = function callee(\n    name, func, applyArgcCheck = installMethod.installMethodArgcCheck\n  ){\n    return (arguments.length < 3 && name && 'object'===typeof name)\n      ? installMethods(this, ...arguments)\n      : installMethod(this, ...arguments);\n  };\n\n  /**\n     Equivalent to calling installMethods() with a first argument\n     of this object.\n  */\n  StructBinder.StructType.prototype.installMethods = function(\n    methods, applyArgcCheck = installMethod.installMethodArgcCheck\n  ){\n    return installMethods(this, methods, applyArgcCheck);\n  };\n\n  /**\n     Uses sqlite3_vfs_register() to register this\n     sqlite3.capi.sqlite3_vfs. This object must have already been\n     filled out properly. If the first argument is truthy, the VFS is\n     registered as the default VFS, else it is not.\n\n     On success, returns this object. Throws on error.\n  */\n  capi.sqlite3_vfs.prototype.registerVfs = function(asDefault=false){\n    if(!(this instanceof sqlite3.capi.sqlite3_vfs)){\n      toss(\"Expecting a sqlite3_vfs-type argument.\");\n    }\n    const rc = capi.sqlite3_vfs_register(this, asDefault ? 1 : 0);\n    if(rc){\n      toss(\"sqlite3_vfs_register(\",this,\") failed with rc\",rc);\n    }\n    if(this.pointer !== capi.sqlite3_vfs_find(this.$zName)){\n      toss(\"BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS\",\n           this);\n    }\n    return this;\n  };\n\n  /**\n     A wrapper for installMethods() or registerVfs() to reduce\n     installation of a VFS and/or its I/O methods to a single\n     call.\n\n     Accepts an object which contains the properties \"io\" and/or\n     \"vfs\", each of which is itself an object with following properties:\n\n     - `struct`: an sqlite3.StructType-type struct. This must be a\n       populated (except for the methods) object of type\n       sqlite3_io_methods (for the \"io\" entry) or sqlite3_vfs (for the\n       \"vfs\" entry).\n\n     - `methods`: an object mapping sqlite3_io_methods method names\n       (e.g. 'xClose') to JS implementations of those methods. The JS\n       implementations must be call-compatible with their native\n       counterparts.\n\n     For each of those object, this function passes its (`struct`,\n     `methods`, (optional) `applyArgcCheck`) properties to\n     installMethods().\n\n     If the `vfs` entry is set then:\n\n     - Its `struct` property's registerVfs() is called. The\n       `vfs` entry may optionally have an `asDefault` property, which\n       gets passed as the argument to registerVfs().\n\n     - If `struct.$zName` is falsy and the entry has a string-type\n       `name` property, `struct.$zName` is set to the C-string form of\n       that `name` value before registerVfs() is called. That string\n       gets added to the on-dispose state of the struct.\n\n     On success returns this object. Throws on error.\n  */\n  vfs.installVfs = function(opt){\n    let count = 0;\n    const propList = ['io','vfs'];\n    for(const key of propList){\n      const o = opt[key];\n      if(o){\n        ++count;\n        installMethods(o.struct, o.methods, !!o.applyArgcCheck);\n        if('vfs'===key){\n          if(!o.struct.$zName && 'string'===typeof o.name){\n            o.struct.addOnDispose(\n              o.struct.$zName = wasm.allocCString(o.name)\n            );\n          }\n          o.struct.registerVfs(!!o.asDefault);\n        }\n      }\n    }\n    if(!count) toss(\"Misuse: installVfs() options object requires at least\",\n                    \"one of:\", propList);\n    return this;\n  };\n\n  /**\n     Internal factory function for xVtab and xCursor impls.\n  */\n  const __xWrapFactory = function(methodName,StructType){\n    return function(ptr,removeMapping=false){\n      if(0===arguments.length) ptr = new StructType;\n      if(ptr instanceof StructType){\n        //T.assert(!this.has(ptr.pointer));\n        this.set(ptr.pointer, ptr);\n        return ptr;\n      }else if(!wasm.isPtr(ptr)){\n        sqlite3.SQLite3Error.toss(\"Invalid argument to\",methodName+\"()\");\n      }\n      let rc = this.get(ptr);\n      if(removeMapping) this.delete(ptr);\n      return rc;\n    }.bind(new Map);\n  };\n\n  /**\n     A factory function which implements a simple lifetime manager for\n     mappings between C struct pointers and their JS-level wrappers.\n     The first argument must be the logical name of the manager\n     (e.g. 'xVtab' or 'xCursor'), which is only used for error\n     reporting. The second must be the capi.XYZ struct-type value,\n     e.g. capi.sqlite3_vtab or capi.sqlite3_vtab_cursor.\n\n     Returns an object with 4 methods: create(), get(), unget(), and\n     dispose(), plus a StructType member with the value of the 2nd\n     argument. The methods are documented in the body of this\n     function.\n  */\n  const StructPtrMapper = function(name, StructType){\n    const __xWrap = __xWrapFactory(name,StructType);\n    /**\n       This object houses a small API for managing mappings of (`T*`)\n       to StructType<T> objects, specifically within the lifetime\n       requirements of sqlite3_module methods.\n    */\n    return Object.assign(Object.create(null),{\n      /** The StructType object for this object's API. */\n      StructType,\n      /**\n         Creates a new StructType object, writes its `pointer`\n         value to the given output pointer, and returns that\n         object. Its intended usage depends on StructType:\n\n         sqlite3_vtab: to be called from sqlite3_module::xConnect()\n         or xCreate() implementations.\n\n         sqlite3_vtab_cursor: to be called from xOpen().\n\n         This will throw if allocation of the StructType instance\n         fails or if ppOut is not a pointer-type value.\n      */\n      create: (ppOut)=>{\n        const rc = __xWrap();\n        wasm.pokePtr(ppOut, rc.pointer);\n        return rc;\n      },\n      /**\n         Returns the StructType object previously mapped to the\n         given pointer using create(). Its intended usage depends\n         on StructType:\n\n         sqlite3_vtab: to be called from sqlite3_module methods which\n         take a (sqlite3_vtab*) pointer _except_ for\n         xDestroy()/xDisconnect(), in which case unget() or dispose().\n\n         sqlite3_vtab_cursor: to be called from any sqlite3_module methods\n         which take a `sqlite3_vtab_cursor*` argument except xClose(),\n         in which case use unget() or dispose().\n\n         Rule to remember: _never_ call dispose() on an instance\n         returned by this function.\n      */\n      get: (pCObj)=>__xWrap(pCObj),\n      /**\n         Identical to get() but also disconnects the mapping between the\n         given pointer and the returned StructType object, such that\n         future calls to this function or get() with the same pointer\n         will return the undefined value. Its intended usage depends\n         on StructType:\n\n         sqlite3_vtab: to be called from sqlite3_module::xDisconnect() or\n         xDestroy() implementations or in error handling of a failed\n         xCreate() or xConnect().\n\n         sqlite3_vtab_cursor: to be called from xClose() or during\n         cleanup in a failed xOpen().\n\n         Calling this method obligates the caller to call dispose() on\n         the returned object when they're done with it.\n      */\n      unget: (pCObj)=>__xWrap(pCObj,true),\n      /**\n         Works like unget() plus it calls dispose() on the\n         StructType object.\n      */\n      dispose: (pCObj)=>{\n        const o = __xWrap(pCObj,true);\n        if(o) o.dispose();\n      }\n    });\n  };\n\n  /**\n     A lifetime-management object for mapping `sqlite3_vtab*`\n     instances in sqlite3_module methods to capi.sqlite3_vtab\n     objects.\n\n     The API docs are in the API-internal StructPtrMapper().\n  */\n  vtab.xVtab = StructPtrMapper('xVtab', capi.sqlite3_vtab);\n\n  /**\n     A lifetime-management object for mapping `sqlite3_vtab_cursor*`\n     instances in sqlite3_module methods to capi.sqlite3_vtab_cursor\n     objects.\n\n     The API docs are in the API-internal StructPtrMapper().\n  */\n  vtab.xCursor = StructPtrMapper('xCursor', capi.sqlite3_vtab_cursor);\n\n  /**\n     Convenience form of creating an sqlite3_index_info wrapper,\n     intended for use in xBestIndex implementations. Note that the\n     caller is expected to call dispose() on the returned object\n     before returning. Though not _strictly_ required, as that object\n     does not own the pIdxInfo memory, it is nonetheless good form.\n  */\n  vtab.xIndexInfo = (pIdxInfo)=>new capi.sqlite3_index_info(pIdxInfo);\n\n  /**\n     Given an error object, this function returns\n     sqlite3.capi.SQLITE_NOMEM if (e instanceof\n     sqlite3.WasmAllocError), else it returns its\n     second argument. Its intended usage is in the methods\n     of a sqlite3_vfs or sqlite3_module:\n\n     ```\n     try{\n      let rc = ...\n      return rc;\n     }catch(e){\n       return sqlite3.vtab.exceptionToRc(e, sqlite3.capi.SQLITE_XYZ);\n       // where SQLITE_XYZ is some call-appropriate result code.\n     }\n     ```\n  */\n  /**vfs.exceptionToRc = vtab.exceptionToRc =\n    (e, defaultRc=capi.SQLITE_ERROR)=>(\n      (e instanceof sqlite3.WasmAllocError)\n        ? capi.SQLITE_NOMEM\n        : defaultRc\n    );*/\n\n  /**\n     Given an sqlite3_module method name and error object, this\n     function returns sqlite3.capi.SQLITE_NOMEM if (e instanceof\n     sqlite3.WasmAllocError), else it returns its second argument. Its\n     intended usage is in the methods of a sqlite3_vfs or\n     sqlite3_module:\n\n     ```\n     try{\n      let rc = ...\n      return rc;\n     }catch(e){\n       return sqlite3.vtab.xError(\n                'xColumn', e, sqlite3.capi.SQLITE_XYZ);\n       // where SQLITE_XYZ is some call-appropriate result code.\n     }\n     ```\n\n     If no 3rd argument is provided, its default depends on\n     the error type:\n\n     - An sqlite3.WasmAllocError always resolves to capi.SQLITE_NOMEM.\n\n     - If err is an SQLite3Error then its `resultCode` property\n       is used.\n\n     - If all else fails, capi.SQLITE_ERROR is used.\n\n     If xError.errorReporter is a function, it is called in\n     order to report the error, else the error is not reported.\n     If that function throws, that exception is ignored.\n  */\n  vtab.xError = function f(methodName, err, defaultRc){\n    if(f.errorReporter instanceof Function){\n      try{f.errorReporter(\"sqlite3_module::\"+methodName+\"(): \"+err.message);}\n      catch(e){/*ignored*/}\n    }\n    let rc;\n    if(err instanceof sqlite3.WasmAllocError) rc = capi.SQLITE_NOMEM;\n    else if(arguments.length>2) rc = defaultRc;\n    else if(err instanceof sqlite3.SQLite3Error) rc = err.resultCode;\n    return rc || capi.SQLITE_ERROR;\n  };\n  vtab.xError.errorReporter = 1 ? console.error.bind(console) : false;\n\n  /**\n     \"The problem\" with this is that it introduces an outer function with\n     a different arity than the passed-in method callback. That means we\n     cannot do argc validation on these. Additionally, some methods (namely\n     xConnect) may have call-specific error handling. It would be a shame to\n     hard-coded that per-method support in this function.\n  */\n  /** vtab.methodCatcher = function(methodName, method, defaultErrRc=capi.SQLITE_ERROR){\n    return function(...args){\n      try { method(...args); }\n      }catch(e){ return vtab.xError(methodName, e, defaultRc) }\n  };\n  */\n\n  /**\n     A helper for sqlite3_vtab::xRowid() and xUpdate()\n     implementations. It must be passed the final argument to one of\n     those methods (an output pointer to an int64 row ID) and the\n     value to store at the output pointer's address. Returns the same\n     as wasm.poke() and will throw if the 1st or 2nd arguments\n     are invalid for that function.\n\n     Example xRowid impl:\n\n     ```\n     const xRowid = (pCursor, ppRowid64)=>{\n       const c = vtab.xCursor(pCursor);\n       vtab.xRowid(ppRowid64, c.myRowId);\n       return 0;\n     };\n     ```\n  */\n  vtab.xRowid = (ppRowid64, value)=>wasm.poke(ppRowid64, value, 'i64');\n\n  /**\n     A helper to initialize and set up an sqlite3_module object for\n     later installation into individual databases using\n     sqlite3_create_module(). Requires an object with the following\n     properties:\n\n     - `methods`: an object containing a mapping of properties with\n       the C-side names of the sqlite3_module methods, e.g. xCreate,\n       xBestIndex, etc., to JS implementations for those functions.\n       Certain special-case handling is performed, as described below.\n\n     - `catchExceptions` (default=false): if truthy, the given methods\n       are not mapped as-is, but are instead wrapped inside wrappers\n       which translate exceptions into result codes of SQLITE_ERROR or\n       SQLITE_NOMEM, depending on whether the exception is an\n       sqlite3.WasmAllocError. In the case of the xConnect and xCreate\n       methods, the exception handler also sets the output error\n       string to the exception's error string.\n\n     - OPTIONAL `struct`: a sqlite3.capi.sqlite3_module() instance. If\n       not set, one will be created automatically. If the current\n       \"this\" is-a sqlite3_module then it is unconditionally used in\n       place of `struct`.\n\n     - OPTIONAL `iVersion`: if set, it must be an integer value and it\n       gets assigned to the `$iVersion` member of the struct object.\n       If it's _not_ set, and the passed-in `struct` object's `$iVersion`\n       is 0 (the default) then this function attempts to define a value\n       for that property based on the list of methods it has.\n\n     If `catchExceptions` is false, it is up to the client to ensure\n     that no exceptions escape the methods, as doing so would move\n     them through the C API, leading to undefined\n     behavior. (vtab.xError() is intended to assist in reporting\n     such exceptions.)\n\n     Certain methods may refer to the same implementation. To simplify\n     the definition of such methods:\n\n     - If `methods.xConnect` is `true` then the value of\n       `methods.xCreate` is used in its place, and vice versa. sqlite\n       treats xConnect/xCreate functions specially if they are exactly\n       the same function (same pointer value).\n\n     - If `methods.xDisconnect` is true then the value of\n       `methods.xDestroy` is used in its place, and vice versa.\n\n     This is to facilitate creation of those methods inline in the\n     passed-in object without requiring the client to explicitly get a\n     reference to one of them in order to assign it to the other\n     one.\n\n     The `catchExceptions`-installed handlers will account for\n     identical references to the above functions and will install the\n     same wrapper function for both.\n\n     The given methods are expected to return integer values, as\n     expected by the C API. If `catchExceptions` is truthy, the return\n     value of the wrapped function will be used as-is and will be\n     translated to 0 if the function returns a falsy value (e.g. if it\n     does not have an explicit return). If `catchExceptions` is _not_\n     active, the method implementations must explicitly return integer\n     values.\n\n     Throws on error. On success, returns the sqlite3_module object\n     (`this` or `opt.struct` or a new sqlite3_module instance,\n     depending on how it's called).\n  */\n  vtab.setupModule = function(opt){\n    let createdMod = false;\n    const mod = (this instanceof capi.sqlite3_module)\n          ? this : (opt.struct || (createdMod = new capi.sqlite3_module()));\n    try{\n      const methods = opt.methods || toss(\"Missing 'methods' object.\");\n      for(const e of Object.entries({\n        // -----^ ==> [k,v] triggers a broken code transformation in\n        // some versions of the emsdk toolchain.\n        xConnect: 'xCreate', xDisconnect: 'xDestroy'\n      })){\n        // Remap X=true to X=Y for certain X/Y combinations\n        const k = e[0], v = e[1];\n        if(true === methods[k]) methods[k] = methods[v];\n        else if(true === methods[v]) methods[v] = methods[k];\n      }\n      if(opt.catchExceptions){\n        const fwrap = function(methodName, func){\n          if(['xConnect','xCreate'].indexOf(methodName) >= 0){\n            return function(pDb, pAux, argc, argv, ppVtab, pzErr){\n              try{return func(...arguments) || 0}\n              catch(e){\n                if(!(e instanceof sqlite3.WasmAllocError)){\n                  wasm.dealloc(wasm.peekPtr(pzErr));\n                  wasm.pokePtr(pzErr, wasm.allocCString(e.message));\n                }\n                return vtab.xError(methodName, e);\n              }\n            };\n          }else{\n            return function(...args){\n              try{return func(...args) || 0}\n              catch(e){\n                return vtab.xError(methodName, e);\n              }\n            };\n          }\n        };\n        const mnames = [\n          'xCreate', 'xConnect', 'xBestIndex', 'xDisconnect',\n          'xDestroy', 'xOpen', 'xClose', 'xFilter', 'xNext',\n          'xEof', 'xColumn', 'xRowid', 'xUpdate',\n          'xBegin', 'xSync', 'xCommit', 'xRollback',\n          'xFindFunction', 'xRename', 'xSavepoint', 'xRelease',\n          'xRollbackTo', 'xShadowName'\n        ];\n        const remethods = Object.create(null);\n        for(const k of mnames){\n          const m = methods[k];\n          if(!(m instanceof Function)) continue;\n          else if('xConnect'===k && methods.xCreate===m){\n            remethods[k] = methods.xCreate;\n          }else if('xCreate'===k && methods.xConnect===m){\n            remethods[k] = methods.xConnect;\n          }else{\n            remethods[k] = fwrap(k, m);\n          }\n        }\n        installMethods(mod, remethods, false);\n      }else{\n        // No automatic exception handling. Trust the client\n        // to not throw.\n        installMethods(\n          mod, methods, !!opt.applyArgcCheck/*undocumented option*/\n        );\n      }\n      if(0===mod.$iVersion){\n        let v;\n        if('number'===typeof opt.iVersion) v = opt.iVersion;\n        else if(mod.$xShadowName) v = 3;\n        else if(mod.$xSavePoint || mod.$xRelease || mod.$xRollbackTo) v = 2;\n        else v = 1;\n        mod.$iVersion = v;\n      }\n    }catch(e){\n      if(createdMod) createdMod.dispose();\n      throw e;\n    }\n    return mod;\n  }/*setupModule()*/;\n\n  /**\n     Equivalent to calling vtab.setupModule() with this sqlite3_module\n     object as the call's `this`.\n  */\n  capi.sqlite3_module.prototype.setupModule = function(opt){\n    return vtab.setupModule.call(this, opt);\n  };\n}/*sqlite3ApiBootstrap.initializers.push()*/);\n/* END FILE: api/sqlite3-v-helper.js */\n/* BEGIN FILE: api/sqlite3-vfs-opfs.c-pp.js */\n/*\n  2022-09-18\n\n  The author disclaims copyright to this source code.  In place of a\n  legal notice, here is a blessing:\n\n  *   May you do good and not evil.\n  *   May you find forgiveness for yourself and forgive others.\n  *   May you share freely, never taking more than you give.\n\n  ***********************************************************************\n\n  This file holds the synchronous half of an sqlite3_vfs\n  implementation which proxies, in a synchronous fashion, the\n  asynchronous Origin-Private FileSystem (OPFS) APIs using a second\n  Worker, implemented in sqlite3-opfs-async-proxy.js.  This file is\n  intended to be appended to the main sqlite3 JS deliverable somewhere\n  after sqlite3-api-oo1.js and before sqlite3-api-cleanup.js.\n*/\n'use strict';\nglobalThis.sqlite3ApiBootstrap.initializers.push(function(sqlite3){\n/**\n   installOpfsVfs() returns a Promise which, on success, installs an\n   sqlite3_vfs named \"opfs\", suitable for use with all sqlite3 APIs\n   which accept a VFS. It is intended to be called via\n   sqlite3ApiBootstrap.initializers or an equivalent mechanism.\n\n   The installed VFS uses the Origin-Private FileSystem API for\n   all file storage. On error it is rejected with an exception\n   explaining the problem. Reasons for rejection include, but are\n   not limited to:\n\n   - The counterpart Worker (see below) could not be loaded.\n\n   - The environment does not support OPFS. That includes when\n     this function is called from the main window thread.\n\n  Significant notes and limitations:\n\n  - As of this writing, OPFS is still very much in flux and only\n    available in bleeding-edge versions of Chrome (v102+, noting that\n    that number will increase as the OPFS API matures).\n\n  - The OPFS features used here are only available in dedicated Worker\n    threads. This file tries to detect that case, resulting in a\n    rejected Promise if those features do not seem to be available.\n\n  - It requires the SharedArrayBuffer and Atomics classes, and the\n    former is only available if the HTTP server emits the so-called\n    COOP and COEP response headers. These features are required for\n    proxying OPFS's synchronous API via the synchronous interface\n    required by the sqlite3_vfs API.\n\n  - This function may only be called a single time. When called, this\n    function removes itself from the sqlite3 object.\n\n  All arguments to this function are for internal/development purposes\n  only. They do not constitute a public API and may change at any\n  time.\n\n  The argument may optionally be a plain object with the following\n  configuration options:\n\n  - proxyUri: as described above\n\n  - verbose (=2): an integer 0-3. 0 disables all logging, 1 enables\n    logging of errors. 2 enables logging of warnings and errors. 3\n    additionally enables debugging info.\n\n  - sanityChecks (=false): if true, some basic sanity tests are\n    run on the OPFS VFS API after it's initialized, before the\n    returned Promise resolves.\n\n  On success, the Promise resolves to the top-most sqlite3 namespace\n  object and that object gets a new object installed in its\n  `opfs` property, containing several OPFS-specific utilities.\n*/\nconst installOpfsVfs = function callee(options){\n  if(!globalThis.SharedArrayBuffer\n    || !globalThis.Atomics){\n    return Promise.reject(\n      new Error(\"Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. \"+\n                \"The server must emit the COOP/COEP response headers to enable those. \"+\n                \"See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep\")\n    );\n  }else if('undefined'===typeof WorkerGlobalScope){\n    return Promise.reject(\n      new Error(\"The OPFS sqlite3_vfs cannot run in the main thread \"+\n                \"because it requires Atomics.wait().\")\n    );\n  }else if(!globalThis.FileSystemHandle ||\n           !globalThis.FileSystemDirectoryHandle ||\n           !globalThis.FileSystemFileHandle ||\n           !globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle ||\n           !navigator?.storage?.getDirectory){\n    return Promise.reject(\n      new Error(\"Missing required OPFS APIs.\")\n    );\n  }\n  if(!options || 'object'!==typeof options){\n    options = Object.create(null);\n  }\n  const urlParams = new URL(globalThis.location.href).searchParams;\n  if(urlParams.has('opfs-disable')){\n    //sqlite3.config.warn('Explicitly not installing \"opfs\" VFS due to opfs-disable flag.');\n    return Promise.resolve(sqlite3);\n  }\n  if(undefined===options.verbose){\n    options.verbose = urlParams.has('opfs-verbose')\n      ? (+urlParams.get('opfs-verbose') || 2) : 1;\n  }\n  if(undefined===options.sanityChecks){\n    options.sanityChecks = urlParams.has('opfs-sanity-check');\n  }\n  if(undefined===options.proxyUri){\n    options.proxyUri = callee.defaultProxyUri;\n  }\n\n  //sqlite3.config.warn(\"OPFS options =\",options,globalThis.location);\n\n  if('function' === typeof options.proxyUri){\n    options.proxyUri = options.proxyUri();\n  }\n  const thePromise = new Promise(function(promiseResolve_, promiseReject_){\n    const loggers = [\n      sqlite3.config.error,\n      sqlite3.config.warn,\n      sqlite3.config.log\n    ];\n    const logImpl = (level,...args)=>{\n      if(options.verbose>level) loggers[level](\"OPFS syncer:\",...args);\n    };\n    const log =    (...args)=>logImpl(2, ...args);\n    const warn =   (...args)=>logImpl(1, ...args);\n    const error =  (...args)=>logImpl(0, ...args);\n    const toss = sqlite3.util.toss;\n    const capi = sqlite3.capi;\n    const util = sqlite3.util;\n    const wasm = sqlite3.wasm;\n    const sqlite3_vfs = capi.sqlite3_vfs;\n    const sqlite3_file = capi.sqlite3_file;\n    const sqlite3_io_methods = capi.sqlite3_io_methods;\n    /**\n       Generic utilities for working with OPFS. This will get filled out\n       by the Promise setup and, on success, installed as sqlite3.opfs.\n\n       ACHTUNG: do not rely on these APIs in client code. They are\n       experimental and subject to change or removal as the\n       OPFS-specific sqlite3_vfs evolves.\n    */\n    const opfsUtil = Object.create(null);\n\n    /**\n       Returns true if _this_ thread has access to the OPFS APIs.\n    */\n    const thisThreadHasOPFS = ()=>{\n      return globalThis.FileSystemHandle &&\n        globalThis.FileSystemDirectoryHandle &&\n        globalThis.FileSystemFileHandle &&\n        globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle &&\n        navigator?.storage?.getDirectory;\n    };\n\n    /**\n       Not part of the public API. Solely for internal/development\n       use.\n    */\n    opfsUtil.metrics = {\n      dump: function(){\n        let k, n = 0, t = 0, w = 0;\n        for(k in state.opIds){\n          const m = metrics[k];\n          n += m.count;\n          t += m.time;\n          w += m.wait;\n          m.avgTime = (m.count && m.time) ? (m.time / m.count) : 0;\n          m.avgWait = (m.count && m.wait) ? (m.wait / m.count) : 0;\n        }\n        sqlite3.config.log(globalThis.location.href,\n                    \"metrics for\",globalThis.location.href,\":\",metrics,\n                    \"\\nTotal of\",n,\"op(s) for\",t,\n                    \"ms (incl. \"+w+\" ms of waiting on the async side)\");\n        sqlite3.config.log(\"Serialization metrics:\",metrics.s11n);\n        W.postMessage({type:'opfs-async-metrics'});\n      },\n      reset: function(){\n        let k;\n        const r = (m)=>(m.count = m.time = m.wait = 0);\n        for(k in state.opIds){\n          r(metrics[k] = Object.create(null));\n        }\n        let s = metrics.s11n = Object.create(null);\n        s = s.serialize = Object.create(null);\n        s.count = s.time = 0;\n        s = metrics.s11n.deserialize = Object.create(null);\n        s.count = s.time = 0;\n      }\n    }/*metrics*/;\n    const opfsIoMethods = new sqlite3_io_methods();\n    const opfsVfs = new sqlite3_vfs()\n          .addOnDispose( ()=>opfsIoMethods.dispose());\n    let promiseWasRejected = undefined;\n    const promiseReject = (err)=>{\n      promiseWasRejected = true;\n      opfsVfs.dispose();\n      return promiseReject_(err);\n    };\n    const promiseResolve = ()=>{\n      promiseWasRejected = false;\n      return promiseResolve_(sqlite3);\n    };\n    const W =\n    new Worker(new URL(\"sqlite3-opfs-async-proxy.js\", import.meta.url));\n    setTimeout(()=>{\n      /* At attempt to work around a browser-specific quirk in which\n         the Worker load is failing in such a way that we neither\n         resolve nor reject it. This workaround gives that resolve/reject\n         a time limit and rejects if that timer expires. Discussion:\n         https://sqlite.org/forum/forumpost/a708c98dcb3ef */\n      if(undefined===promiseWasRejected){\n        promiseReject(\n          new Error(\"Timeout while waiting for OPFS async proxy worker.\")\n        );\n      }\n    }, 4000);\n    W._originalOnError = W.onerror /* will be restored later */;\n    W.onerror = function(err){\n      // The error object doesn't contain any useful info when the\n      // failure is, e.g., that the remote script is 404.\n      error(\"Error initializing OPFS asyncer:\",err);\n      promiseReject(new Error(\"Loading OPFS async Worker failed for unknown reasons.\"));\n    };\n    const pDVfs = capi.sqlite3_vfs_find(null)/*pointer to default VFS*/;\n    const dVfs = pDVfs\n          ? new sqlite3_vfs(pDVfs)\n          : null /* dVfs will be null when sqlite3 is built with\n                    SQLITE_OS_OTHER. */;\n    opfsIoMethods.$iVersion = 1;\n    opfsVfs.$iVersion = 2/*yes, two*/;\n    opfsVfs.$szOsFile = capi.sqlite3_file.structInfo.sizeof;\n    opfsVfs.$mxPathname = 1024/*sure, why not?*/;\n    opfsVfs.$zName = wasm.allocCString(\"opfs\");\n    // All C-side memory of opfsVfs is zeroed out, but just to be explicit:\n    opfsVfs.$xDlOpen = opfsVfs.$xDlError = opfsVfs.$xDlSym = opfsVfs.$xDlClose = null;\n    opfsVfs.addOnDispose(\n      '$zName', opfsVfs.$zName,\n      'cleanup default VFS wrapper', ()=>(dVfs ? dVfs.dispose() : null)\n    );\n    /**\n       Pedantic sidebar about opfsVfs.ondispose: the entries in that array\n       are items to clean up when opfsVfs.dispose() is called, but in this\n       environment it will never be called. The VFS instance simply\n       hangs around until the WASM module instance is cleaned up. We\n       \"could\" _hypothetically_ clean it up by \"importing\" an\n       sqlite3_os_end() impl into the wasm build, but the shutdown order\n       of the wasm engine and the JS one are undefined so there is no\n       guaranty that the opfsVfs instance would be available in one\n       environment or the other when sqlite3_os_end() is called (_if_ it\n       gets called at all in a wasm build, which is undefined).\n    */\n    /**\n       State which we send to the async-api Worker or share with it.\n       This object must initially contain only cloneable or sharable\n       objects. After the worker's \"inited\" message arrives, other types\n       of data may be added to it.\n\n       For purposes of Atomics.wait() and Atomics.notify(), we use a\n       SharedArrayBuffer with one slot reserved for each of the API\n       proxy's methods. The sync side of the API uses Atomics.wait()\n       on the corresponding slot and the async side uses\n       Atomics.notify() on that slot.\n\n       The approach of using a single SAB to serialize comms for all\n       instances might(?) lead to deadlock situations in multi-db\n       cases. We should probably have one SAB here with a single slot\n       for locking a per-file initialization step and then allocate a\n       separate SAB like the above one for each file. That will\n       require a bit of acrobatics but should be feasible. The most\n       problematic part is that xOpen() would have to use\n       postMessage() to communicate its SharedArrayBuffer, and mixing\n       that approach with Atomics.wait/notify() gets a bit messy.\n    */\n    const state = Object.create(null);\n    state.verbose = options.verbose;\n    state.littleEndian = (()=>{\n      const buffer = new ArrayBuffer(2);\n      new DataView(buffer).setInt16(0, 256, true /* ==>littleEndian */);\n      // Int16Array uses the platform's endianness.\n      return new Int16Array(buffer)[0] === 256;\n    })();\n    /**\n       asyncIdleWaitTime is how long (ms) to wait, in the async proxy,\n       for each Atomics.wait() when waiting on inbound VFS API calls.\n       We need to wake up periodically to give the thread a chance to\n       do other things. If this is too high (e.g. 500ms) then even two\n       workers/tabs can easily run into locking errors. Some multiple\n       of this value is also used for determining how long to wait on\n       lock contention to free up.\n    */\n    state.asyncIdleWaitTime = 150;\n\n    /**\n       Whether the async counterpart should log exceptions to\n       the serialization channel. That produces a great deal of\n       noise for seemingly innocuous things like xAccess() checks\n       for missing files, so this option may have one of 3 values:\n\n       0 = no exception logging.\n\n       1 = only log exceptions for \"significant\" ops like xOpen(),\n       xRead(), and xWrite().\n\n       2 = log all exceptions.\n    */\n    state.asyncS11nExceptions = 1;\n    /* Size of file I/O buffer block. 64k = max sqlite3 page size, and\n       xRead/xWrite() will never deal in blocks larger than that. */\n    state.fileBufferSize = 1024 * 64;\n    state.sabS11nOffset = state.fileBufferSize;\n    /**\n       The size of the block in our SAB for serializing arguments and\n       result values. Needs to be large enough to hold serialized\n       values of any of the proxied APIs. Filenames are the largest\n       part but are limited to opfsVfs.$mxPathname bytes. We also\n       store exceptions there, so it needs to be long enough to hold\n       a reasonably long exception string.\n    */\n    state.sabS11nSize = opfsVfs.$mxPathname * 2;\n    /**\n       The SAB used for all data I/O between the synchronous and\n       async halves (file i/o and arg/result s11n).\n    */\n    state.sabIO = new SharedArrayBuffer(\n      state.fileBufferSize/* file i/o block */\n      + state.sabS11nSize/* argument/result serialization block */\n    );\n    state.opIds = Object.create(null);\n    const metrics = Object.create(null);\n    {\n      /* Indexes for use in our SharedArrayBuffer... */\n      let i = 0;\n      /* SAB slot used to communicate which operation is desired\n         between both workers. This worker writes to it and the other\n         listens for changes. */\n      state.opIds.whichOp = i++;\n      /* Slot for storing return values. This worker listens to that\n         slot and the other worker writes to it. */\n      state.opIds.rc = i++;\n      /* Each function gets an ID which this worker writes to\n         the whichOp slot. The async-api worker uses Atomic.wait()\n         on the whichOp slot to figure out which operation to run\n         next. */\n      state.opIds.xAccess = i++;\n      state.opIds.xClose = i++;\n      state.opIds.xDelete = i++;\n      state.opIds.xDeleteNoWait = i++;\n      state.opIds.xFileSize = i++;\n      state.opIds.xLock = i++;\n      state.opIds.xOpen = i++;\n      state.opIds.xRead = i++;\n      state.opIds.xSleep = i++;\n      state.opIds.xSync = i++;\n      state.opIds.xTruncate = i++;\n      state.opIds.xUnlock = i++;\n      state.opIds.xWrite = i++;\n      state.opIds.mkdir = i++;\n      state.opIds['opfs-async-metrics'] = i++;\n      state.opIds['opfs-async-shutdown'] = i++;\n      /* The retry slot is used by the async part for wait-and-retry\n         semantics. Though we could hypothetically use the xSleep slot\n         for that, doing so might lead to undesired side effects. */\n      state.opIds.retry = i++;\n      state.sabOP = new SharedArrayBuffer(\n        i * 4/* ==sizeof int32, noting that Atomics.wait() and friends\n                can only function on Int32Array views of an SAB. */);\n      opfsUtil.metrics.reset();\n    }\n    /**\n       SQLITE_xxx constants to export to the async worker\n       counterpart...\n    */\n    state.sq3Codes = Object.create(null);\n    [\n      'SQLITE_ACCESS_EXISTS',\n      'SQLITE_ACCESS_READWRITE',\n      'SQLITE_BUSY',\n      'SQLITE_ERROR',\n      'SQLITE_IOERR',\n      'SQLITE_IOERR_ACCESS',\n      'SQLITE_IOERR_CLOSE',\n      'SQLITE_IOERR_DELETE',\n      'SQLITE_IOERR_FSYNC',\n      'SQLITE_IOERR_LOCK',\n      'SQLITE_IOERR_READ',\n      'SQLITE_IOERR_SHORT_READ',\n      'SQLITE_IOERR_TRUNCATE',\n      'SQLITE_IOERR_UNLOCK',\n      'SQLITE_IOERR_WRITE',\n      'SQLITE_LOCK_EXCLUSIVE',\n      'SQLITE_LOCK_NONE',\n      'SQLITE_LOCK_PENDING',\n      'SQLITE_LOCK_RESERVED',\n      'SQLITE_LOCK_SHARED',\n      'SQLITE_LOCKED',\n      'SQLITE_MISUSE',\n      'SQLITE_NOTFOUND',\n      'SQLITE_OPEN_CREATE',\n      'SQLITE_OPEN_DELETEONCLOSE',\n      'SQLITE_OPEN_MAIN_DB',\n      'SQLITE_OPEN_READONLY'\n    ].forEach((k)=>{\n      if(undefined === (state.sq3Codes[k] = capi[k])){\n        toss(\"Maintenance required: not found:\",k);\n      }\n    });\n    state.opfsFlags = Object.assign(Object.create(null),{\n      /**\n         Flag for use with xOpen(). \"opfs-unlock-asap=1\" enables\n         this. See defaultUnlockAsap, below.\n       */\n      OPFS_UNLOCK_ASAP: 0x01,\n      /**\n         If true, any async routine which implicitly acquires a sync\n         access handle (i.e. an OPFS lock) will release that locks at\n         the end of the call which acquires it. If false, such\n         \"autolocks\" are not released until the VFS is idle for some\n         brief amount of time.\n\n         The benefit of enabling this is much higher concurrency. The\n         down-side is much-reduced performance (as much as a 4x decrease\n         in speedtest1).\n      */\n      defaultUnlockAsap: false\n    });\n\n    /**\n       Runs the given operation (by name) in the async worker\n       counterpart, waits for its response, and returns the result\n       which the async worker writes to SAB[state.opIds.rc]. The\n       2nd and subsequent arguments must be the aruguments for the\n       async op.\n    */\n    const opRun = (op,...args)=>{\n      const opNdx = state.opIds[op] || toss(\"Invalid op ID:\",op);\n      state.s11n.serialize(...args);\n      Atomics.store(state.sabOPView, state.opIds.rc, -1);\n      Atomics.store(state.sabOPView, state.opIds.whichOp, opNdx);\n      Atomics.notify(state.sabOPView, state.opIds.whichOp)\n      /* async thread will take over here */;\n      const t = performance.now();\n      Atomics.wait(state.sabOPView, state.opIds.rc, -1)\n      /* When this wait() call returns, the async half will have\n         completed the operation and reported its results. */;\n      const rc = Atomics.load(state.sabOPView, state.opIds.rc);\n      metrics[op].wait += performance.now() - t;\n      if(rc && state.asyncS11nExceptions){\n        const err = state.s11n.deserialize();\n        if(err) error(op+\"() async error:\",...err);\n      }\n      return rc;\n    };\n\n    /**\n       Not part of the public API. Only for test/development use.\n    */\n    opfsUtil.debug = {\n      asyncShutdown: ()=>{\n        warn(\"Shutting down OPFS async listener. The OPFS VFS will no longer work.\");\n        opRun('opfs-async-shutdown');\n      },\n      asyncRestart: ()=>{\n        warn(\"Attempting to restart OPFS VFS async listener. Might work, might not.\");\n        W.postMessage({type: 'opfs-async-restart'});\n      }\n    };\n\n    const initS11n = ()=>{\n      /**\n         !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n         ACHTUNG: this code is 100% duplicated in the other half of\n         this proxy! The documentation is maintained in the\n         \"synchronous half\".\n         !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n         This proxy de/serializes cross-thread function arguments and\n         output-pointer values via the state.sabIO SharedArrayBuffer,\n         using the region defined by (state.sabS11nOffset,\n         state.sabS11nOffset + state.sabS11nSize]. Only one dataset is\n         recorded at a time.\n\n         This is not a general-purpose format. It only supports the\n         range of operations, and data sizes, needed by the\n         sqlite3_vfs and sqlite3_io_methods operations. Serialized\n         data are transient and this serialization algorithm may\n         change at any time.\n\n         The data format can be succinctly summarized as:\n\n         Nt...Td...D\n\n         Where:\n\n         - N = number of entries (1 byte)\n\n         - t = type ID of first argument (1 byte)\n\n         - ...T = type IDs of the 2nd and subsequent arguments (1 byte\n         each).\n\n         - d = raw bytes of first argument (per-type size).\n\n         - ...D = raw bytes of the 2nd and subsequent arguments (per-type\n         size).\n\n         All types except strings have fixed sizes. Strings are stored\n         using their TextEncoder/TextDecoder representations. It would\n         arguably make more sense to store them as Int16Arrays of\n         their JS character values, but how best/fastest to get that\n         in and out of string form is an open point. Initial\n         experimentation with that approach did not gain us any speed.\n\n         Historical note: this impl was initially about 1% this size by\n         using using JSON.stringify/parse(), but using fit-to-purpose\n         serialization saves considerable runtime.\n      */\n      if(state.s11n) return state.s11n;\n      const textDecoder = new TextDecoder(),\n            textEncoder = new TextEncoder('utf-8'),\n            viewU8 = new Uint8Array(state.sabIO, state.sabS11nOffset, state.sabS11nSize),\n            viewDV = new DataView(state.sabIO, state.sabS11nOffset, state.sabS11nSize);\n      state.s11n = Object.create(null);\n      /* Only arguments and return values of these types may be\n         serialized. This covers the whole range of types needed by the\n         sqlite3_vfs API. */\n      const TypeIds = Object.create(null);\n      TypeIds.number  = { id: 1, size: 8, getter: 'getFloat64', setter: 'setFloat64' };\n      TypeIds.bigint  = { id: 2, size: 8, getter: 'getBigInt64', setter: 'setBigInt64' };\n      TypeIds.boolean = { id: 3, size: 4, getter: 'getInt32', setter: 'setInt32' };\n      TypeIds.string =  { id: 4 };\n\n      const getTypeId = (v)=>(\n        TypeIds[typeof v]\n          || toss(\"Maintenance required: this value type cannot be serialized.\",v)\n      );\n      const getTypeIdById = (tid)=>{\n        switch(tid){\n            case TypeIds.number.id: return TypeIds.number;\n            case TypeIds.bigint.id: return TypeIds.bigint;\n            case TypeIds.boolean.id: return TypeIds.boolean;\n            case TypeIds.string.id: return TypeIds.string;\n            default: toss(\"Invalid type ID:\",tid);\n        }\n      };\n\n      /**\n         Returns an array of the deserialized state stored by the most\n         recent serialize() operation (from from this thread or the\n         counterpart thread), or null if the serialization buffer is\n         empty.  If passed a truthy argument, the serialization buffer\n         is cleared after deserialization.\n      */\n      state.s11n.deserialize = function(clear=false){\n        ++metrics.s11n.deserialize.count;\n        const t = performance.now();\n        const argc = viewU8[0];\n        const rc = argc ? [] : null;\n        if(argc){\n          const typeIds = [];\n          let offset = 1, i, n, v;\n          for(i = 0; i < argc; ++i, ++offset){\n            typeIds.push(getTypeIdById(viewU8[offset]));\n          }\n          for(i = 0; i < argc; ++i){\n            const t = typeIds[i];\n            if(t.getter){\n              v = viewDV[t.getter](offset, state.littleEndian);\n              offset += t.size;\n            }else{/*String*/\n              n = viewDV.getInt32(offset, state.littleEndian);\n              offset += 4;\n              v = textDecoder.decode(viewU8.slice(offset, offset+n));\n              offset += n;\n            }\n            rc.push(v);\n          }\n        }\n        if(clear) viewU8[0] = 0;\n        //log(\"deserialize:\",argc, rc);\n        metrics.s11n.deserialize.time += performance.now() - t;\n        return rc;\n      };\n\n      /**\n         Serializes all arguments to the shared buffer for consumption\n         by the counterpart thread.\n\n         This routine is only intended for serializing OPFS VFS\n         arguments and (in at least one special case) result values,\n         and the buffer is sized to be able to comfortably handle\n         those.\n\n         If passed no arguments then it zeroes out the serialization\n         state.\n      */\n      state.s11n.serialize = function(...args){\n        const t = performance.now();\n        ++metrics.s11n.serialize.count;\n        if(args.length){\n          //log(\"serialize():\",args);\n          const typeIds = [];\n          let i = 0, offset = 1;\n          viewU8[0] = args.length & 0xff /* header = # of args */;\n          for(; i < args.length; ++i, ++offset){\n            /* Write the TypeIds.id value into the next args.length\n               bytes. */\n            typeIds.push(getTypeId(args[i]));\n            viewU8[offset] = typeIds[i].id;\n          }\n          for(i = 0; i < args.length; ++i) {\n            /* Deserialize the following bytes based on their\n               corresponding TypeIds.id from the header. */\n            const t = typeIds[i];\n            if(t.setter){\n              viewDV[t.setter](offset, args[i], state.littleEndian);\n              offset += t.size;\n            }else{/*String*/\n              const s = textEncoder.encode(args[i]);\n              viewDV.setInt32(offset, s.byteLength, state.littleEndian);\n              offset += 4;\n              viewU8.set(s, offset);\n              offset += s.byteLength;\n            }\n          }\n          //log(\"serialize() result:\",viewU8.slice(0,offset));\n        }else{\n          viewU8[0] = 0;\n        }\n        metrics.s11n.serialize.time += performance.now() - t;\n      };\n      return state.s11n;\n    }/*initS11n()*/;\n\n    /**\n       Generates a random ASCII string len characters long, intended for\n       use as a temporary file name.\n    */\n    const randomFilename = function f(len=16){\n      if(!f._chars){\n        f._chars = \"abcdefghijklmnopqrstuvwxyz\"+\n          \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"+\n          \"012346789\";\n        f._n = f._chars.length;\n      }\n      const a = [];\n      let i = 0;\n      for( ; i < len; ++i){\n        const ndx = Math.random() * (f._n * 64) % f._n | 0;\n        a[i] = f._chars[ndx];\n      }\n      return a.join(\"\");\n      /*\n        An alternative impl. with an unpredictable length\n        but much simpler:\n\n        Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(36)\n      */\n    };\n\n    /**\n       Map of sqlite3_file pointers to objects constructed by xOpen().\n    */\n    const __openFiles = Object.create(null);\n\n    const opTimer = Object.create(null);\n    opTimer.op = undefined;\n    opTimer.start = undefined;\n    const mTimeStart = (op)=>{\n      opTimer.start = performance.now();\n      opTimer.op = op;\n      ++metrics[op].count;\n    };\n    const mTimeEnd = ()=>(\n      metrics[opTimer.op].time += performance.now() - opTimer.start\n    );\n\n    /**\n       Impls for the sqlite3_io_methods methods. Maintenance reminder:\n       members are in alphabetical order to simplify finding them.\n    */\n    const ioSyncWrappers = {\n      xCheckReservedLock: function(pFile,pOut){\n        /**\n           As of late 2022, only a single lock can be held on an OPFS\n           file. We have no way of checking whether any _other_ db\n           connection has a lock except by trying to obtain and (on\n           success) release a sync-handle for it, but doing so would\n           involve an inherent race condition. For the time being,\n           pending a better solution, we simply report whether the\n           given pFile is open.\n        */\n        const f = __openFiles[pFile];\n        wasm.poke(pOut, f.lockType ? 1 : 0, 'i32');\n        return 0;\n      },\n      xClose: function(pFile){\n        mTimeStart('xClose');\n        let rc = 0;\n        const f = __openFiles[pFile];\n        if(f){\n          delete __openFiles[pFile];\n          rc = opRun('xClose', pFile);\n          if(f.sq3File) f.sq3File.dispose();\n        }\n        mTimeEnd();\n        return rc;\n      },\n      xDeviceCharacteristics: function(pFile){\n        //debug(\"xDeviceCharacteristics(\",pFile,\")\");\n        return capi.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN;\n      },\n      xFileControl: function(pFile, opId, pArg){\n        /*mTimeStart('xFileControl');\n          mTimeEnd();*/\n        return capi.SQLITE_NOTFOUND;\n      },\n      xFileSize: function(pFile,pSz64){\n        mTimeStart('xFileSize');\n        let rc = opRun('xFileSize', pFile);\n        if(0==rc){\n          try {\n            const sz = state.s11n.deserialize()[0];\n            wasm.poke(pSz64, sz, 'i64');\n          }catch(e){\n            error(\"Unexpected error reading xFileSize() result:\",e);\n            rc = state.sq3Codes.SQLITE_IOERR;\n          }\n        }\n        mTimeEnd();\n        return rc;\n      },\n      xLock: function(pFile,lockType){\n        mTimeStart('xLock');\n        const f = __openFiles[pFile];\n        let rc = 0;\n        /* All OPFS locks are exclusive locks. If xLock() has\n           previously succeeded, do nothing except record the lock\n           type. If no lock is active, have the async counterpart\n           lock the file. */\n        if( !f.lockType ) {\n          rc = opRun('xLock', pFile, lockType);\n          if( 0===rc ) f.lockType = lockType;\n        }else{\n          f.lockType = lockType;\n        }\n        mTimeEnd();\n        return rc;\n      },\n      xRead: function(pFile,pDest,n,offset64){\n        mTimeStart('xRead');\n        const f = __openFiles[pFile];\n        let rc;\n        try {\n          rc = opRun('xRead',pFile, n, Number(offset64));\n          if(0===rc || capi.SQLITE_IOERR_SHORT_READ===rc){\n            /**\n               Results get written to the SharedArrayBuffer f.sabView.\n               Because the heap is _not_ a SharedArrayBuffer, we have\n               to copy the results. TypedArray.set() seems to be the\n               fastest way to copy this. */\n            wasm.heap8u().set(f.sabView.subarray(0, n), pDest);\n          }\n        }catch(e){\n          error(\"xRead(\",arguments,\") failed:\",e,f);\n          rc = capi.SQLITE_IOERR_READ;\n        }\n        mTimeEnd();\n        return rc;\n      },\n      xSync: function(pFile,flags){\n        mTimeStart('xSync');\n        ++metrics.xSync.count;\n        const rc = opRun('xSync', pFile, flags);\n        mTimeEnd();\n        return rc;\n      },\n      xTruncate: function(pFile,sz64){\n        mTimeStart('xTruncate');\n        const rc = opRun('xTruncate', pFile, Number(sz64));\n        mTimeEnd();\n        return rc;\n      },\n      xUnlock: function(pFile,lockType){\n        mTimeStart('xUnlock');\n        const f = __openFiles[pFile];\n        let rc = 0;\n        if( capi.SQLITE_LOCK_NONE === lockType\n          && f.lockType ){\n          rc = opRun('xUnlock', pFile, lockType);\n        }\n        if( 0===rc ) f.lockType = lockType;\n        mTimeEnd();\n        return rc;\n      },\n      xWrite: function(pFile,pSrc,n,offset64){\n        mTimeStart('xWrite');\n        const f = __openFiles[pFile];\n        let rc;\n        try {\n          f.sabView.set(wasm.heap8u().subarray(pSrc, pSrc+n));\n          rc = opRun('xWrite', pFile, n, Number(offset64));\n        }catch(e){\n          error(\"xWrite(\",arguments,\") failed:\",e,f);\n          rc = capi.SQLITE_IOERR_WRITE;\n        }\n        mTimeEnd();\n        return rc;\n      }\n    }/*ioSyncWrappers*/;\n\n    /**\n       Impls for the sqlite3_vfs methods. Maintenance reminder: members\n       are in alphabetical order to simplify finding them.\n    */\n    const vfsSyncWrappers = {\n      xAccess: function(pVfs,zName,flags,pOut){\n        mTimeStart('xAccess');\n        const rc = opRun('xAccess', wasm.cstrToJs(zName));\n        wasm.poke( pOut, (rc ? 0 : 1), 'i32' );\n        mTimeEnd();\n        return 0;\n      },\n      xCurrentTime: function(pVfs,pOut){\n        /* If it turns out that we need to adjust for timezone, see:\n           https://stackoverflow.com/a/11760121/1458521 */\n        wasm.poke(pOut, 2440587.5 + (new Date().getTime()/86400000),\n                  'double');\n        return 0;\n      },\n      xCurrentTimeInt64: function(pVfs,pOut){\n        wasm.poke(pOut, (2440587.5 * 86400000) + new Date().getTime(),\n                  'i64');\n        return 0;\n      },\n      xDelete: function(pVfs, zName, doSyncDir){\n        mTimeStart('xDelete');\n        const rc = opRun('xDelete', wasm.cstrToJs(zName), doSyncDir, false);\n        mTimeEnd();\n        return rc;\n      },\n      xFullPathname: function(pVfs,zName,nOut,pOut){\n        /* Until/unless we have some notion of \"current dir\"\n           in OPFS, simply copy zName to pOut... */\n        const i = wasm.cstrncpy(pOut, zName, nOut);\n        return i<nOut ? 0 : capi.SQLITE_CANTOPEN\n        /*CANTOPEN is required by the docs but SQLITE_RANGE would be a closer match*/;\n      },\n      xGetLastError: function(pVfs,nOut,pOut){\n        /* TODO: store exception.message values from the async\n           partner in a dedicated SharedArrayBuffer, noting that we'd have\n           to encode them... TextEncoder can do that for us. */\n        warn(\"OPFS xGetLastError() has nothing sensible to return.\");\n        return 0;\n      },\n      //xSleep is optionally defined below\n      xOpen: function f(pVfs, zName, pFile, flags, pOutFlags){\n        mTimeStart('xOpen');\n        let opfsFlags = 0;\n        if(0===zName){\n          zName = randomFilename();\n        }else if('number'===typeof zName){\n          if(capi.sqlite3_uri_boolean(zName, \"opfs-unlock-asap\", 0)){\n            /* -----------------------^^^^^ MUST pass the untranslated\n               C-string here. */\n            opfsFlags |= state.opfsFlags.OPFS_UNLOCK_ASAP;\n          }\n          zName = wasm.cstrToJs(zName);\n        }\n        const fh = Object.create(null);\n        fh.fid = pFile;\n        fh.filename = zName;\n        fh.sab = new SharedArrayBuffer(state.fileBufferSize);\n        fh.flags = flags;\n        const rc = opRun('xOpen', pFile, zName, flags, opfsFlags);\n        if(!rc){\n          /* Recall that sqlite3_vfs::xClose() will be called, even on\n             error, unless pFile->pMethods is NULL. */\n          if(fh.readOnly){\n            wasm.poke(pOutFlags, capi.SQLITE_OPEN_READONLY, 'i32');\n          }\n          __openFiles[pFile] = fh;\n          fh.sabView = state.sabFileBufView;\n          fh.sq3File = new sqlite3_file(pFile);\n          fh.sq3File.$pMethods = opfsIoMethods.pointer;\n          fh.lockType = capi.SQLITE_LOCK_NONE;\n        }\n        mTimeEnd();\n        return rc;\n      }/*xOpen()*/\n    }/*vfsSyncWrappers*/;\n\n    if(dVfs){\n      opfsVfs.$xRandomness = dVfs.$xRandomness;\n      opfsVfs.$xSleep = dVfs.$xSleep;\n    }\n    if(!opfsVfs.$xRandomness){\n      /* If the default VFS has no xRandomness(), add a basic JS impl... */\n      vfsSyncWrappers.xRandomness = function(pVfs, nOut, pOut){\n        const heap = wasm.heap8u();\n        let i = 0;\n        for(; i < nOut; ++i) heap[pOut + i] = (Math.random()*255000) & 0xFF;\n        return i;\n      };\n    }\n    if(!opfsVfs.$xSleep){\n      /* If we can inherit an xSleep() impl from the default VFS then\n         assume it's sane and use it, otherwise install a JS-based\n         one. */\n      vfsSyncWrappers.xSleep = function(pVfs,ms){\n        Atomics.wait(state.sabOPView, state.opIds.xSleep, 0, ms);\n        return 0;\n      };\n    }\n\n    /**\n       Expects an OPFS file path. It gets resolved, such that \"..\"\n       components are properly expanded, and returned. If the 2nd arg\n       is true, the result is returned as an array of path elements,\n       else an absolute path string is returned.\n    */\n    opfsUtil.getResolvedPath = function(filename,splitIt){\n      const p = new URL(filename, \"file://irrelevant\").pathname;\n      return splitIt ? p.split('/').filter((v)=>!!v) : p;\n    };\n\n    /**\n       Takes the absolute path to a filesystem element. Returns an\n       array of [handleOfContainingDir, filename]. If the 2nd argument\n       is truthy then each directory element leading to the file is\n       created along the way. Throws if any creation or resolution\n       fails.\n    */\n    opfsUtil.getDirForFilename = async function f(absFilename, createDirs = false){\n      const path = opfsUtil.getResolvedPath(absFilename, true);\n      const filename = path.pop();\n      let dh = opfsUtil.rootDirectory;\n      for(const dirName of path){\n        if(dirName){\n          dh = await dh.getDirectoryHandle(dirName, {create: !!createDirs});\n        }\n      }\n      return [dh, filename];\n    };\n\n    /**\n       Creates the given directory name, recursively, in\n       the OPFS filesystem. Returns true if it succeeds or the\n       directory already exists, else false.\n    */\n    opfsUtil.mkdir = async function(absDirName){\n      try {\n        await opfsUtil.getDirForFilename(absDirName+\"/filepart\", true);\n        return true;\n      }catch(e){\n        //sqlite3.config.warn(\"mkdir(\",absDirName,\") failed:\",e);\n        return false;\n      }\n    };\n    /**\n       Checks whether the given OPFS filesystem entry exists,\n       returning true if it does, false if it doesn't.\n    */\n    opfsUtil.entryExists = async function(fsEntryName){\n      try {\n        const [dh, fn] = await opfsUtil.getDirForFilename(fsEntryName);\n        await dh.getFileHandle(fn);\n        return true;\n      }catch(e){\n        return false;\n      }\n    };\n\n    /**\n       Generates a random ASCII string, intended for use as a\n       temporary file name. Its argument is the length of the string,\n       defaulting to 16.\n    */\n    opfsUtil.randomFilename = randomFilename;\n\n    /**\n       Re-registers the OPFS VFS. This is intended only for odd use\n       cases which have to call sqlite3_shutdown() as part of their\n       initialization process, which will unregister the VFS\n       registered by installOpfsVfs(). If passed a truthy value, the\n       OPFS VFS is registered as the default VFS, else it is not made\n       the default. Returns the result of the the\n       sqlite3_vfs_register() call.\n\n       Design note: the problem of having to re-register things after\n       a shutdown/initialize pair is more general. How to best plug\n       that in to the library is unclear. In particular, we cannot\n       hook in to any C-side calls to sqlite3_initialize(), so we\n       cannot add an after-initialize callback mechanism.\n    */\n    opfsUtil.registerVfs = (asDefault=false)=>{\n      return wasm.exports.sqlite3_vfs_register(\n        opfsVfs.pointer, asDefault ? 1 : 0\n      );\n    };\n\n    /**\n       Returns a promise which resolves to an object which represents\n       all files and directories in the OPFS tree. The top-most object\n       has two properties: `dirs` is an array of directory entries\n       (described below) and `files` is a list of file names for all\n       files in that directory.\n\n       Traversal starts at sqlite3.opfs.rootDirectory.\n\n       Each `dirs` entry is an object in this form:\n\n       ```\n       { name: directoryName,\n         dirs: [...subdirs],\n         files: [...file names]\n       }\n       ```\n\n       The `files` and `subdirs` entries are always set but may be\n       empty arrays.\n\n       The returned object has the same structure but its `name` is\n       an empty string. All returned objects are created with\n       Object.create(null), so have no prototype.\n\n       Design note: the entries do not contain more information,\n       e.g. file sizes, because getting such info is not only\n       expensive but is subject to locking-related errors.\n    */\n    opfsUtil.treeList = async function(){\n      const doDir = async function callee(dirHandle,tgt){\n        tgt.name = dirHandle.name;\n        tgt.dirs = [];\n        tgt.files = [];\n        for await (const handle of dirHandle.values()){\n          if('directory' === handle.kind){\n            const subDir = Object.create(null);\n            tgt.dirs.push(subDir);\n            await callee(handle, subDir);\n          }else{\n            tgt.files.push(handle.name);\n          }\n        }\n      };\n      const root = Object.create(null);\n      await doDir(opfsUtil.rootDirectory, root);\n      return root;\n    };\n\n    /**\n       Irrevocably deletes _all_ files in the current origin's OPFS.\n       Obviously, this must be used with great caution. It may throw\n       an exception if removal of anything fails (e.g. a file is\n       locked), but the precise conditions under which the underlying\n       APIs will throw are not documented (so we cannot tell you what\n       they are).\n    */\n    opfsUtil.rmfr = async function(){\n      const dir = opfsUtil.rootDirectory, opt = {recurse: true};\n      for await (const handle of dir.values()){\n        dir.removeEntry(handle.name, opt);\n      }\n    };\n\n    /**\n       Deletes the given OPFS filesystem entry.  As this environment\n       has no notion of \"current directory\", the given name must be an\n       absolute path. If the 2nd argument is truthy, deletion is\n       recursive (use with caution!).\n\n       The returned Promise resolves to true if the deletion was\n       successful, else false (but...). The OPFS API reports the\n       reason for the failure only in human-readable form, not\n       exceptions which can be type-checked to determine the\n       failure. Because of that...\n\n       If the final argument is truthy then this function will\n       propagate any exception on error, rather than returning false.\n    */\n    opfsUtil.unlink = async function(fsEntryName, recursive = false,\n                                     throwOnError = false){\n      try {\n        const [hDir, filenamePart] =\n              await opfsUtil.getDirForFilename(fsEntryName, false);\n        await hDir.removeEntry(filenamePart, {recursive});\n        return true;\n      }catch(e){\n        if(throwOnError){\n          throw new Error(\"unlink(\",arguments[0],\") failed: \"+e.message,{\n            cause: e\n          });\n        }\n        return false;\n      }\n    };\n\n    /**\n       Traverses the OPFS filesystem, calling a callback for each one.\n       The argument may be either a callback function or an options object\n       with any of the following properties:\n\n       - `callback`: function which gets called for each filesystem\n         entry.  It gets passed 3 arguments: 1) the\n         FileSystemFileHandle or FileSystemDirectoryHandle of each\n         entry (noting that both are instanceof FileSystemHandle). 2)\n         the FileSystemDirectoryHandle of the parent directory. 3) the\n         current depth level, with 0 being at the top of the tree\n         relative to the starting directory. If the callback returns a\n         literal false, as opposed to any other falsy value, traversal\n         stops without an error. Any exceptions it throws are\n         propagated. Results are undefined if the callback manipulate\n         the filesystem (e.g. removing or adding entries) because the\n         how OPFS iterators behave in the face of such changes is\n         undocumented.\n\n       - `recursive` [bool=true]: specifies whether to recurse into\n         subdirectories or not. Whether recursion is depth-first or\n         breadth-first is unspecified!\n\n       - `directory` [FileSystemDirectoryEntry=sqlite3.opfs.rootDirectory]\n         specifies the starting directory.\n\n       If this function is passed a function, it is assumed to be the\n       callback.\n\n       Returns a promise because it has to (by virtue of being async)\n       but that promise has no specific meaning: the traversal it\n       performs is synchronous. The promise must be used to catch any\n       exceptions propagated by the callback, however.\n\n       TODO: add an option which specifies whether to traverse\n       depth-first or breadth-first. We currently do depth-first but\n       an incremental file browsing widget would benefit more from\n       breadth-first.\n    */\n    opfsUtil.traverse = async function(opt){\n      const defaultOpt = {\n        recursive: true,\n        directory: opfsUtil.rootDirectory\n      };\n      if('function'===typeof opt){\n        opt = {callback:opt};\n      }\n      opt = Object.assign(defaultOpt, opt||{});\n      const doDir = async function callee(dirHandle, depth){\n        for await (const handle of dirHandle.values()){\n          if(false === opt.callback(handle, dirHandle, depth)) return false;\n          else if(opt.recursive && 'directory' === handle.kind){\n            if(false === await callee(handle, depth + 1)) break;\n          }\n        }\n      };\n      doDir(opt.directory, 0);\n    };\n\n    /**\n       impl of importDb() when it's given a function as its second\n       argument.\n    */\n    const importDbChunked = async function(filename, callback){\n      const [hDir, fnamePart] = await opfsUtil.getDirForFilename(filename, true);\n      const hFile = await hDir.getFileHandle(fnamePart, {create:true});\n      let sah = await hFile.createSyncAccessHandle();\n      let nWrote = 0, chunk, checkedHeader = false, err = false;\n      try{\n        sah.truncate(0);\n        while( undefined !== (chunk = await callback()) ){\n          if(chunk instanceof ArrayBuffer) chunk = new Uint8Array(chunk);\n          if( 0===nWrote && chunk.byteLength>=15 ){\n            util.affirmDbHeader(chunk);\n            checkedHeader = true;\n          }\n          sah.write(chunk, {at: nWrote});\n          nWrote += chunk.byteLength;\n        }\n        if( nWrote < 512 || 0!==nWrote % 512 ){\n          toss(\"Input size\",nWrote,\"is not correct for an SQLite database.\");\n        }\n        if( !checkedHeader ){\n          const header = new Uint8Array(20);\n          sah.read( header, {at: 0} );\n          util.affirmDbHeader( header );\n        }\n        sah.write(new Uint8Array([1,1]), {at: 18}/*force db out of WAL mode*/);\n        return nWrote;\n      }catch(e){\n        await sah.close();\n        sah = undefined;\n        await hDir.removeEntry( fnamePart ).catch(()=>{});\n        throw e;\n      }finally {\n        if( sah ) await sah.close();\n      }\n    };\n\n    /**\n       Asynchronously imports the given bytes (a byte array or\n       ArrayBuffer) into the given database file.\n\n       If passed a function for its second argument, its behaviour\n       changes to async and it imports its data in chunks fed to it by\n       the given callback function. It calls the callback (which may\n       be async) repeatedly, expecting either a Uint8Array or\n       ArrayBuffer (to denote new input) or undefined (to denote\n       EOF). For so long as the callback continues to return\n       non-undefined, it will append incoming data to the given\n       VFS-hosted database file. When called this way, the resolved\n       value of the returned Promise is the number of bytes written to\n       the target file.\n\n       It very specifically requires the input to be an SQLite3\n       database and throws if that's not the case.  It does so in\n       order to prevent this function from taking on a larger scope\n       than it is specifically intended to. i.e. we do not want it to\n       become a convenience for importing arbitrary files into OPFS.\n\n       This routine rewrites the database header bytes in the output\n       file (not the input array) to force disabling of WAL mode.\n\n       On error this throws and the state of the input file is\n       undefined (it depends on where the exception was triggered).\n\n       On success, resolves to the number of bytes written.\n    */\n    opfsUtil.importDb = async function(filename, bytes){\n      if( bytes instanceof Function ){\n        return importDbChunked(filename, bytes);\n      }\n      if(bytes instanceof ArrayBuffer) bytes = new Uint8Array(bytes);\n      util.affirmIsDb(bytes);\n      const n = bytes.byteLength;\n      const [hDir, fnamePart] = await opfsUtil.getDirForFilename(filename, true);\n      let sah, err, nWrote = 0;\n      try {\n        const hFile = await hDir.getFileHandle(fnamePart, {create:true});\n        sah = await hFile.createSyncAccessHandle();\n        sah.truncate(0);\n        nWrote = sah.write(bytes, {at: 0});\n        if(nWrote != n){\n          toss(\"Expected to write \"+n+\" bytes but wrote \"+nWrote+\".\");\n        }\n        sah.write(new Uint8Array([1,1]), {at: 18}) /* force db out of WAL mode */;\n        return nWrote;\n      }catch(e){\n        if( sah ){ await sah.close(); sah = undefined; }\n        await hDir.removeEntry( fnamePart ).catch(()=>{});\n        throw e;\n      }finally{\n        if( sah ) await sah.close();\n      }\n    };\n\n    if(sqlite3.oo1){\n      const OpfsDb = function(...args){\n        const opt = sqlite3.oo1.DB.dbCtorHelper.normalizeArgs(...args);\n        opt.vfs = opfsVfs.$zName;\n        sqlite3.oo1.DB.dbCtorHelper.call(this, opt);\n      };\n      OpfsDb.prototype = Object.create(sqlite3.oo1.DB.prototype);\n      sqlite3.oo1.OpfsDb = OpfsDb;\n      OpfsDb.importDb = opfsUtil.importDb;\n      sqlite3.oo1.DB.dbCtorHelper.setVfsPostOpenSql(\n        opfsVfs.pointer,\n        function(oo1Db, sqlite3){\n          /* Set a relatively high default busy-timeout handler to\n             help OPFS dbs deal with multi-tab/multi-worker\n             contention. */\n          sqlite3.capi.sqlite3_busy_timeout(oo1Db, 10000);\n          sqlite3.capi.sqlite3_exec(oo1Db, [\n            /* As of July 2023, the PERSIST journal mode on OPFS is\n               somewhat slower than DELETE or TRUNCATE (it was faster\n               before Chrome version 108 or 109). TRUNCATE and DELETE\n               have very similar performance on OPFS.\n\n               Roy Hashimoto notes that TRUNCATE and PERSIST modes may\n               decrease OPFS concurrency because multiple connections\n               can open the journal file in those modes:\n\n               https://github.com/rhashimoto/wa-sqlite/issues/68\n\n               Given that, and the fact that testing has not revealed\n               any appreciable difference between performance of\n               TRUNCATE and DELETE modes on OPFS, we currently (as of\n               2023-07-13) default to DELETE mode.\n            */\n            \"pragma journal_mode=DELETE;\",\n            /*\n              This vfs benefits hugely from cache on moderate/large\n              speedtest1 --size 50 and --size 100 workloads. We\n              currently rely on setting a non-default cache size when\n              building sqlite3.wasm. If that policy changes, the cache\n              can be set here.\n            */\n            \"pragma cache_size=-16384;\"\n          ], 0, 0, 0);\n        }\n      );\n    }/*extend sqlite3.oo1*/\n\n    const sanityCheck = function(){\n      const scope = wasm.scopedAllocPush();\n      const sq3File = new sqlite3_file();\n      try{\n        const fid = sq3File.pointer;\n        const openFlags = capi.SQLITE_OPEN_CREATE\n              | capi.SQLITE_OPEN_READWRITE\n        //| capi.SQLITE_OPEN_DELETEONCLOSE\n              | capi.SQLITE_OPEN_MAIN_DB;\n        const pOut = wasm.scopedAlloc(8);\n        const dbFile = \"/sanity/check/file\"+randomFilename(8);\n        const zDbFile = wasm.scopedAllocCString(dbFile);\n        let rc;\n        state.s11n.serialize(\"This is ä string.\");\n        rc = state.s11n.deserialize();\n        log(\"deserialize() says:\",rc);\n        if(\"This is ä string.\"!==rc[0]) toss(\"String d13n error.\");\n        vfsSyncWrappers.xAccess(opfsVfs.pointer, zDbFile, 0, pOut);\n        rc = wasm.peek(pOut,'i32');\n        log(\"xAccess(\",dbFile,\") exists ?=\",rc);\n        rc = vfsSyncWrappers.xOpen(opfsVfs.pointer, zDbFile,\n                                   fid, openFlags, pOut);\n        log(\"open rc =\",rc,\"state.sabOPView[xOpen] =\",\n            state.sabOPView[state.opIds.xOpen]);\n        if(0!==rc){\n          error(\"open failed with code\",rc);\n          return;\n        }\n        vfsSyncWrappers.xAccess(opfsVfs.pointer, zDbFile, 0, pOut);\n        rc = wasm.peek(pOut,'i32');\n        if(!rc) toss(\"xAccess() failed to detect file.\");\n        rc = ioSyncWrappers.xSync(sq3File.pointer, 0);\n        if(rc) toss('sync failed w/ rc',rc);\n        rc = ioSyncWrappers.xTruncate(sq3File.pointer, 1024);\n        if(rc) toss('truncate failed w/ rc',rc);\n        wasm.poke(pOut,0,'i64');\n        rc = ioSyncWrappers.xFileSize(sq3File.pointer, pOut);\n        if(rc) toss('xFileSize failed w/ rc',rc);\n        log(\"xFileSize says:\",wasm.peek(pOut, 'i64'));\n        rc = ioSyncWrappers.xWrite(sq3File.pointer, zDbFile, 10, 1);\n        if(rc) toss(\"xWrite() failed!\");\n        const readBuf = wasm.scopedAlloc(16);\n        rc = ioSyncWrappers.xRead(sq3File.pointer, readBuf, 6, 2);\n        wasm.poke(readBuf+6,0);\n        let jRead = wasm.cstrToJs(readBuf);\n        log(\"xRead() got:\",jRead);\n        if(\"sanity\"!==jRead) toss(\"Unexpected xRead() value.\");\n        if(vfsSyncWrappers.xSleep){\n          log(\"xSleep()ing before close()ing...\");\n          vfsSyncWrappers.xSleep(opfsVfs.pointer,2000);\n          log(\"waking up from xSleep()\");\n        }\n        rc = ioSyncWrappers.xClose(fid);\n        log(\"xClose rc =\",rc,\"sabOPView =\",state.sabOPView);\n        log(\"Deleting file:\",dbFile);\n        vfsSyncWrappers.xDelete(opfsVfs.pointer, zDbFile, 0x1234);\n        vfsSyncWrappers.xAccess(opfsVfs.pointer, zDbFile, 0, pOut);\n        rc = wasm.peek(pOut,'i32');\n        if(rc) toss(\"Expecting 0 from xAccess(\",dbFile,\") after xDelete().\");\n        warn(\"End of OPFS sanity checks.\");\n      }finally{\n        sq3File.dispose();\n        wasm.scopedAllocPop(scope);\n      }\n    }/*sanityCheck()*/;\n\n    W.onmessage = function({data}){\n      //log(\"Worker.onmessage:\",data);\n      switch(data.type){\n          case 'opfs-unavailable':\n            /* Async proxy has determined that OPFS is unavailable. There's\n               nothing more for us to do here. */\n            promiseReject(new Error(data.payload.join(' ')));\n            break;\n          case 'opfs-async-loaded':\n            /* Arrives as soon as the asyc proxy finishes loading.\n               Pass our config and shared state on to the async\n               worker. */\n            W.postMessage({type: 'opfs-async-init',args: state});\n            break;\n          case 'opfs-async-inited': {\n            /* Indicates that the async partner has received the 'init'\n               and has finished initializing, so the real work can\n               begin... */\n            if(true===promiseWasRejected){\n              break /* promise was already rejected via timer */;\n            }\n            try {\n              sqlite3.vfs.installVfs({\n                io: {struct: opfsIoMethods, methods: ioSyncWrappers},\n                vfs: {struct: opfsVfs, methods: vfsSyncWrappers}\n              });\n              state.sabOPView = new Int32Array(state.sabOP);\n              state.sabFileBufView = new Uint8Array(state.sabIO, 0, state.fileBufferSize);\n              state.sabS11nView = new Uint8Array(state.sabIO, state.sabS11nOffset, state.sabS11nSize);\n              initS11n();\n              if(options.sanityChecks){\n                warn(\"Running sanity checks because of opfs-sanity-check URL arg...\");\n                sanityCheck();\n              }\n              if(thisThreadHasOPFS()){\n                navigator.storage.getDirectory().then((d)=>{\n                  W.onerror = W._originalOnError;\n                  delete W._originalOnError;\n                  sqlite3.opfs = opfsUtil;\n                  opfsUtil.rootDirectory = d;\n                  log(\"End of OPFS sqlite3_vfs setup.\", opfsVfs);\n                  promiseResolve();\n                }).catch(promiseReject);\n              }else{\n                promiseResolve();\n              }\n            }catch(e){\n              error(e);\n              promiseReject(e);\n            }\n            break;\n          }\n          default: {\n            const errMsg = (\n              \"Unexpected message from the OPFS async worker: \" +\n              JSON.stringify(data)\n            );\n            error(errMsg);\n            promiseReject(new Error(errMsg));\n            break;\n          }\n      }/*switch(data.type)*/\n    }/*W.onmessage()*/;\n  })/*thePromise*/;\n  return thePromise;\n}/*installOpfsVfs()*/;\ninstallOpfsVfs.defaultProxyUri =\n  \"sqlite3-opfs-async-proxy.js\";\nglobalThis.sqlite3ApiBootstrap.initializersAsync.push(async (sqlite3)=>{\n  try{\n    let proxyJs = installOpfsVfs.defaultProxyUri;\n    if(sqlite3.scriptInfo.sqlite3Dir){\n      installOpfsVfs.defaultProxyUri =\n        sqlite3.scriptInfo.sqlite3Dir + proxyJs;\n      //sqlite3.config.warn(\"installOpfsVfs.defaultProxyUri =\",installOpfsVfs.defaultProxyUri);\n    }\n    return installOpfsVfs().catch((e)=>{\n      sqlite3.config.warn(\"Ignoring inability to install OPFS sqlite3_vfs:\",e.message);\n    });\n  }catch(e){\n    sqlite3.config.error(\"installOpfsVfs() exception:\",e);\n    return Promise.reject(e);\n  }\n});\n}/*sqlite3ApiBootstrap.initializers.push()*/);\n/* END FILE: api/sqlite3-vfs-opfs.c-pp.js */\n/* BEGIN FILE: api/sqlite3-vfs-opfs-sahpool.c-pp.js */\n/*\n  2023-07-14\n\n  The author disclaims copyright to this source code.  In place of a\n  legal notice, here is a blessing:\n\n  *   May you do good and not evil.\n  *   May you find forgiveness for yourself and forgive others.\n  *   May you share freely, never taking more than you give.\n\n  ***********************************************************************\n\n  This file holds a sqlite3_vfs backed by OPFS storage which uses a\n  different implementation strategy than the \"opfs\" VFS. This one is a\n  port of Roy Hashimoto's OPFS SyncAccessHandle pool:\n\n  https://github.com/rhashimoto/wa-sqlite/blob/master/src/examples/AccessHandlePoolVFS.js\n\n  As described at:\n\n  https://github.com/rhashimoto/wa-sqlite/discussions/67\n\n  with Roy's explicit permission to permit us to port his to our\n  infrastructure rather than having to clean-room reverse-engineer it:\n\n  https://sqlite.org/forum/forumpost/e140d84e71\n\n  Primary differences from the \"opfs\" VFS include:\n\n  - This one avoids the need for a sub-worker to synchronize\n  communication between the synchronous C API and the\n  only-partly-synchronous OPFS API.\n\n  - It does so by opening a fixed number of OPFS files at\n  library-level initialization time, obtaining SyncAccessHandles to\n  each, and manipulating those handles via the synchronous sqlite3_vfs\n  interface. If it cannot open them (e.g. they are already opened by\n  another tab) then the VFS will not be installed.\n\n  - Because of that, this one lacks all library-level concurrency\n  support.\n\n  - Also because of that, it does not require the SharedArrayBuffer,\n  so can function without the COOP/COEP HTTP response headers.\n\n  - It can hypothetically support Safari 16.4+, whereas the \"opfs\" VFS\n  requires v17 due to a subworker/storage bug in 16.x which makes it\n  incompatible with that VFS.\n\n  - This VFS requires the \"semi-fully-sync\" FileSystemSyncAccessHandle\n  (hereafter \"SAH\") APIs released with Chrome v108 (and all other\n  major browsers released since March 2023). If that API is not\n  detected, the VFS is not registered.\n*/\nglobalThis.sqlite3ApiBootstrap.initializers.push(function(sqlite3){\n  'use strict';\n  const toss = sqlite3.util.toss;\n  const toss3 = sqlite3.util.toss3;\n  const initPromises = Object.create(null);\n  const capi = sqlite3.capi;\n  const util = sqlite3.util;\n  const wasm = sqlite3.wasm;\n  // Config opts for the VFS...\n  const SECTOR_SIZE = 4096;\n  const HEADER_MAX_PATH_SIZE = 512;\n  const HEADER_FLAGS_SIZE = 4;\n  const HEADER_DIGEST_SIZE = 8;\n  const HEADER_CORPUS_SIZE = HEADER_MAX_PATH_SIZE + HEADER_FLAGS_SIZE;\n  const HEADER_OFFSET_FLAGS = HEADER_MAX_PATH_SIZE;\n  const HEADER_OFFSET_DIGEST = HEADER_CORPUS_SIZE;\n  const HEADER_OFFSET_DATA = SECTOR_SIZE;\n  /* Bitmask of file types which may persist across sessions.\n     SQLITE_OPEN_xyz types not listed here may be inadvertently\n     left in OPFS but are treated as transient by this VFS and\n     they will be cleaned up during VFS init. */\n  const PERSISTENT_FILE_TYPES =\n        capi.SQLITE_OPEN_MAIN_DB |\n        capi.SQLITE_OPEN_MAIN_JOURNAL |\n        capi.SQLITE_OPEN_SUPER_JOURNAL |\n        capi.SQLITE_OPEN_WAL /* noting that WAL support is\n                                unavailable in the WASM build.*/;\n\n  /** Subdirectory of the VFS's space where \"opaque\" (randomly-named)\n      files are stored. Changing this effectively invalidates the data\n      stored under older names (orphaning it), so don't do that. */\n  const OPAQUE_DIR_NAME = \".opaque\";\n\n  /**\n     Returns short a string of random alphanumeric characters\n     suitable for use as a random filename.\n  */\n  const getRandomName = ()=>Math.random().toString(36).slice(2);\n\n  const textDecoder = new TextDecoder();\n  const textEncoder = new TextEncoder();\n\n  const optionDefaults = Object.assign(Object.create(null),{\n    name: 'opfs-sahpool',\n    directory: undefined /* derived from .name */,\n    initialCapacity: 6,\n    clearOnInit: false,\n    /* Logging verbosity 3+ == everything, 2 == warnings+errors, 1 ==\n       errors only. */\n    verbosity: 2\n  });\n\n  /** Logging routines, from most to least serious. */\n  const loggers = [\n    sqlite3.config.error,\n    sqlite3.config.warn,\n    sqlite3.config.log\n  ];\n  const log = sqlite3.config.log;\n  const warn = sqlite3.config.warn;\n  const error = sqlite3.config.error;\n\n  /* Maps (sqlite3_vfs*) to OpfsSAHPool instances */\n  const __mapVfsToPool = new Map();\n  const getPoolForVfs = (pVfs)=>__mapVfsToPool.get(pVfs);\n  const setPoolForVfs = (pVfs,pool)=>{\n    if(pool) __mapVfsToPool.set(pVfs, pool);\n    else __mapVfsToPool.delete(pVfs);\n  };\n  /* Maps (sqlite3_file*) to OpfsSAHPool instances */\n  const __mapSqlite3File = new Map();\n  const getPoolForPFile = (pFile)=>__mapSqlite3File.get(pFile);\n  const setPoolForPFile = (pFile,pool)=>{\n    if(pool) __mapSqlite3File.set(pFile, pool);\n    else __mapSqlite3File.delete(pFile);\n  };\n\n  /**\n     Impls for the sqlite3_io_methods methods. Maintenance reminder:\n     members are in alphabetical order to simplify finding them.\n  */\n  const ioMethods = {\n    xCheckReservedLock: function(pFile,pOut){\n      const pool = getPoolForPFile(pFile);\n      pool.log('xCheckReservedLock');\n      pool.storeErr();\n      wasm.poke32(pOut, 1);\n      return 0;\n    },\n    xClose: function(pFile){\n      const pool = getPoolForPFile(pFile);\n      pool.storeErr();\n      const file = pool.getOFileForS3File(pFile);\n      if(file) {\n        try{\n          pool.log(`xClose ${file.path}`);\n          pool.mapS3FileToOFile(pFile, false);\n          file.sah.flush();\n          if(file.flags & capi.SQLITE_OPEN_DELETEONCLOSE){\n            pool.deletePath(file.path);\n          }\n        }catch(e){\n          return pool.storeErr(e, capi.SQLITE_IOERR);\n        }\n      }\n      return 0;\n    },\n    xDeviceCharacteristics: function(pFile){\n      return capi.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN;\n    },\n    xFileControl: function(pFile, opId, pArg){\n      return capi.SQLITE_NOTFOUND;\n    },\n    xFileSize: function(pFile,pSz64){\n      const pool = getPoolForPFile(pFile);\n      pool.log(`xFileSize`);\n      const file = pool.getOFileForS3File(pFile);\n      const size = file.sah.getSize() - HEADER_OFFSET_DATA;\n      //log(`xFileSize ${file.path} ${size}`);\n      wasm.poke64(pSz64, BigInt(size));\n      return 0;\n    },\n    xLock: function(pFile,lockType){\n      const pool = getPoolForPFile(pFile);\n      pool.log(`xLock ${lockType}`);\n      pool.storeErr();\n      const file = pool.getOFileForS3File(pFile);\n      file.lockType = lockType;\n      return 0;\n    },\n    xRead: function(pFile,pDest,n,offset64){\n      const pool = getPoolForPFile(pFile);\n      pool.storeErr();\n      const file = pool.getOFileForS3File(pFile);\n      pool.log(`xRead ${file.path} ${n} @ ${offset64}`);\n      try {\n        const nRead = file.sah.read(\n          wasm.heap8u().subarray(pDest, pDest+n),\n          {at: HEADER_OFFSET_DATA + Number(offset64)}\n        );\n        if(nRead < n){\n          wasm.heap8u().fill(0, pDest + nRead, pDest + n);\n          return capi.SQLITE_IOERR_SHORT_READ;\n        }\n        return 0;\n      }catch(e){\n        return pool.storeErr(e, capi.SQLITE_IOERR);\n      }\n    },\n    xSectorSize: function(pFile){\n      return SECTOR_SIZE;\n    },\n    xSync: function(pFile,flags){\n      const pool = getPoolForPFile(pFile);\n      pool.log(`xSync ${flags}`);\n      pool.storeErr();\n      const file = pool.getOFileForS3File(pFile);\n      //log(`xSync ${file.path} ${flags}`);\n      try{\n        file.sah.flush();\n        return 0;\n      }catch(e){\n        return pool.storeErr(e, capi.SQLITE_IOERR);\n      }\n    },\n    xTruncate: function(pFile,sz64){\n      const pool = getPoolForPFile(pFile);\n      pool.log(`xTruncate ${sz64}`);\n      pool.storeErr();\n      const file = pool.getOFileForS3File(pFile);\n      //log(`xTruncate ${file.path} ${iSize}`);\n      try{\n        file.sah.truncate(HEADER_OFFSET_DATA + Number(sz64));\n        return 0;\n      }catch(e){\n        return pool.storeErr(e, capi.SQLITE_IOERR);\n      }\n    },\n    xUnlock: function(pFile,lockType){\n      const pool = getPoolForPFile(pFile);\n      pool.log('xUnlock');\n      const file = pool.getOFileForS3File(pFile);\n      file.lockType = lockType;\n      return 0;\n    },\n    xWrite: function(pFile,pSrc,n,offset64){\n      const pool = getPoolForPFile(pFile);\n      pool.storeErr();\n      const file = pool.getOFileForS3File(pFile);\n      pool.log(`xWrite ${file.path} ${n} ${offset64}`);\n      try{\n        const nBytes = file.sah.write(\n          wasm.heap8u().subarray(pSrc, pSrc+n),\n          { at: HEADER_OFFSET_DATA + Number(offset64) }\n        );\n        return n===nBytes ? 0 : toss(\"Unknown write() failure.\");\n      }catch(e){\n        return pool.storeErr(e, capi.SQLITE_IOERR);\n      }\n    }\n  }/*ioMethods*/;\n\n  const opfsIoMethods = new capi.sqlite3_io_methods();\n  opfsIoMethods.$iVersion = 1;\n  sqlite3.vfs.installVfs({\n    io: {struct: opfsIoMethods, methods: ioMethods}\n  });\n\n  /**\n     Impls for the sqlite3_vfs methods. Maintenance reminder: members\n     are in alphabetical order to simplify finding them.\n  */\n  const vfsMethods = {\n    xAccess: function(pVfs,zName,flags,pOut){\n      //log(`xAccess ${wasm.cstrToJs(zName)}`);\n      const pool = getPoolForVfs(pVfs);\n      pool.storeErr();\n      try{\n        const name = pool.getPath(zName);\n        wasm.poke32(pOut, pool.hasFilename(name) ? 1 : 0);\n      }catch(e){\n        /*ignored*/\n        wasm.poke32(pOut, 0);\n      }\n      return 0;\n    },\n    xCurrentTime: function(pVfs,pOut){\n      wasm.poke(pOut, 2440587.5 + (new Date().getTime()/86400000),\n                'double');\n      return 0;\n    },\n    xCurrentTimeInt64: function(pVfs,pOut){\n      wasm.poke(pOut, (2440587.5 * 86400000) + new Date().getTime(),\n                'i64');\n      return 0;\n    },\n    xDelete: function(pVfs, zName, doSyncDir){\n      const pool = getPoolForVfs(pVfs);\n      pool.log(`xDelete ${wasm.cstrToJs(zName)}`);\n      pool.storeErr();\n      try{\n        pool.deletePath(pool.getPath(zName));\n        return 0;\n      }catch(e){\n        pool.storeErr(e);\n        return capi.SQLITE_IOERR_DELETE;\n      }\n    },\n    xFullPathname: function(pVfs,zName,nOut,pOut){\n      //const pool = getPoolForVfs(pVfs);\n      //pool.log(`xFullPathname ${wasm.cstrToJs(zName)}`);\n      const i = wasm.cstrncpy(pOut, zName, nOut);\n      return i<nOut ? 0 : capi.SQLITE_CANTOPEN;\n    },\n    xGetLastError: function(pVfs,nOut,pOut){\n      const pool = getPoolForVfs(pVfs);\n      const e = pool.popErr();\n      pool.log(`xGetLastError ${nOut} e =`,e);\n      if(e){\n        const scope = wasm.scopedAllocPush();\n        try{\n          const [cMsg, n] = wasm.scopedAllocCString(e.message, true);\n          wasm.cstrncpy(pOut, cMsg, nOut);\n          if(n > nOut) wasm.poke8(pOut + nOut - 1, 0);\n        }catch(e){\n          return capi.SQLITE_NOMEM;\n        }finally{\n          wasm.scopedAllocPop(scope);\n        }\n      }\n      return e ? (e.sqlite3Rc || capi.SQLITE_IOERR) : 0;\n    },\n    //xSleep is optionally defined below\n    xOpen: function f(pVfs, zName, pFile, flags, pOutFlags){\n      const pool = getPoolForVfs(pVfs);\n      try{\n        pool.log(`xOpen ${wasm.cstrToJs(zName)} ${flags}`);\n        // First try to open a path that already exists in the file system.\n        const path = (zName && wasm.peek8(zName))\n              ? pool.getPath(zName)\n              : getRandomName();\n        let sah = pool.getSAHForPath(path);\n        if(!sah && (flags & capi.SQLITE_OPEN_CREATE)) {\n          // File not found so try to create it.\n          if(pool.getFileCount() < pool.getCapacity()) {\n            // Choose an unassociated OPFS file from the pool.\n            sah = pool.nextAvailableSAH();\n            pool.setAssociatedPath(sah, path, flags);\n          }else{\n            // File pool is full.\n            toss('SAH pool is full. Cannot create file',path);\n          }\n        }\n        if(!sah){\n          toss('file not found:',path);\n        }\n        // Subsequent I/O methods are only passed the sqlite3_file\n        // pointer, so map the relevant info we need to that pointer.\n        const file = {path, flags, sah};\n        pool.mapS3FileToOFile(pFile, file);\n        file.lockType = capi.SQLITE_LOCK_NONE;\n        const sq3File = new capi.sqlite3_file(pFile);\n        sq3File.$pMethods = opfsIoMethods.pointer;\n        sq3File.dispose();\n        wasm.poke32(pOutFlags, flags);\n        return 0;\n      }catch(e){\n        pool.storeErr(e);\n        return capi.SQLITE_CANTOPEN;\n      }\n    }/*xOpen()*/\n  }/*vfsMethods*/;\n\n  /**\n     Creates and initializes an sqlite3_vfs instance for an\n     OpfsSAHPool. The argument is the VFS's name (JS string).\n\n     Throws if the VFS name is already registered or if something\n     goes terribly wrong via sqlite3.vfs.installVfs().\n\n     Maintenance reminder: the only detail about the returned object\n     which is specific to any given OpfsSAHPool instance is the $zName\n     member. All other state is identical.\n  */\n  const createOpfsVfs = function(vfsName){\n    if( sqlite3.capi.sqlite3_vfs_find(vfsName)){\n      toss3(\"VFS name is already registered:\", vfsName);\n    }\n    const opfsVfs = new capi.sqlite3_vfs();\n    /* We fetch the default VFS so that we can inherit some\n       methods from it. */\n    const pDVfs = capi.sqlite3_vfs_find(null);\n    const dVfs = pDVfs\n          ? new capi.sqlite3_vfs(pDVfs)\n          : null /* dVfs will be null when sqlite3 is built with\n                    SQLITE_OS_OTHER. */;\n    opfsVfs.$iVersion = 2/*yes, two*/;\n    opfsVfs.$szOsFile = capi.sqlite3_file.structInfo.sizeof;\n    opfsVfs.$mxPathname = HEADER_MAX_PATH_SIZE;\n    opfsVfs.addOnDispose(\n      opfsVfs.$zName = wasm.allocCString(vfsName),\n      ()=>setPoolForVfs(opfsVfs.pointer, 0)\n    );\n\n    if(dVfs){\n      /* Inherit certain VFS members from the default VFS,\n         if available. */\n      opfsVfs.$xRandomness = dVfs.$xRandomness;\n      opfsVfs.$xSleep = dVfs.$xSleep;\n      dVfs.dispose();\n    }\n    if(!opfsVfs.$xRandomness && !vfsMethods.xRandomness){\n      /* If the default VFS has no xRandomness(), add a basic JS impl... */\n      vfsMethods.xRandomness = function(pVfs, nOut, pOut){\n        const heap = wasm.heap8u();\n        let i = 0;\n        for(; i < nOut; ++i) heap[pOut + i] = (Math.random()*255000) & 0xFF;\n        return i;\n      };\n    }\n    if(!opfsVfs.$xSleep && !vfsMethods.xSleep){\n      vfsMethods.xSleep = (pVfs,ms)=>0;\n    }\n    sqlite3.vfs.installVfs({\n      vfs: {struct: opfsVfs, methods: vfsMethods}\n    });\n    return opfsVfs;\n  };\n\n  /**\n     Class for managing OPFS-related state for the\n     OPFS SharedAccessHandle Pool sqlite3_vfs.\n  */\n  class OpfsSAHPool {\n    /* OPFS dir in which VFS metadata is stored. */\n    vfsDir;\n    /* Directory handle to this.vfsDir. */\n    #dhVfsRoot;\n    /* Directory handle to the subdir of this.#dhVfsRoot which holds\n       the randomly-named \"opaque\" files. This subdir exists in the\n       hope that we can eventually support client-created files in\n       this.#dhVfsRoot. */\n    #dhOpaque;\n    /* Directory handle to this.dhVfsRoot's parent dir. Needed\n       for a VFS-wipe op. */\n    #dhVfsParent;\n    /* Maps SAHs to their opaque file names. */\n    #mapSAHToName = new Map();\n    /* Maps client-side file names to SAHs. */\n    #mapFilenameToSAH = new Map();\n    /* Set of currently-unused SAHs. */\n    #availableSAH = new Set();\n    /* Maps (sqlite3_file*) to xOpen's file objects. */\n    #mapS3FileToOFile_ = new Map();\n\n    /* Maps SAH to an abstract File Object which contains\n       various metadata about that handle. */\n    //#mapSAHToMeta = new Map();\n\n    /** Buffer used by [sg]etAssociatedPath(). */\n    #apBody = new Uint8Array(HEADER_CORPUS_SIZE);\n    // DataView for this.#apBody\n    #dvBody;\n\n    // associated sqlite3_vfs instance\n    #cVfs;\n\n    // Logging verbosity. See optionDefaults.verbosity.\n    #verbosity;\n\n    constructor(options = Object.create(null)){\n      this.#verbosity = options.verbosity ?? optionDefaults.verbosity;\n      this.vfsName = options.name || optionDefaults.name;\n      this.#cVfs = createOpfsVfs(this.vfsName);\n      setPoolForVfs(this.#cVfs.pointer, this);\n      this.vfsDir = options.directory || (\".\"+this.vfsName);\n      this.#dvBody =\n        new DataView(this.#apBody.buffer, this.#apBody.byteOffset);\n      this.isReady = this\n        .reset(!!(options.clearOnInit ?? optionDefaults.clearOnInit))\n        .then(()=>{\n          if(this.$error) throw this.$error;\n          return this.getCapacity()\n            ? Promise.resolve(undefined)\n            : this.addCapacity(options.initialCapacity\n                               || optionDefaults.initialCapacity);\n        });\n    }\n\n    #logImpl(level,...args){\n      if(this.#verbosity>level) loggers[level](this.vfsName+\":\",...args);\n    };\n    log(...args){this.#logImpl(2, ...args)};\n    warn(...args){this.#logImpl(1, ...args)};\n    error(...args){this.#logImpl(0, ...args)};\n\n    getVfs(){return this.#cVfs}\n\n    /* Current pool capacity. */\n    getCapacity(){return this.#mapSAHToName.size}\n\n    /* Current number of in-use files from pool. */\n    getFileCount(){return this.#mapFilenameToSAH.size}\n\n    /* Returns an array of the names of all\n       currently-opened client-specified filenames. */\n    getFileNames(){\n      const rc = [];\n      const iter = this.#mapFilenameToSAH.keys();\n      for(const n of iter) rc.push(n);\n      return rc;\n    }\n\n//    #createFileObject(sah,clientName,opaqueName){\n//      const f = Object.assign(Object.create(null),{\n//        clientName, opaqueName\n//      });\n//      this.#mapSAHToMeta.set(sah, f);\n//      return f;\n//    }\n//    #unmapFileObject(sah){\n//      this.#mapSAHToMeta.delete(sah);\n//    }\n\n    /**\n       Adds n files to the pool's capacity. This change is\n       persistent across settings. Returns a Promise which resolves\n       to the new capacity.\n    */\n    async addCapacity(n){\n      for(let i = 0; i < n; ++i){\n        const name = getRandomName();\n        const h = await this.#dhOpaque.getFileHandle(name, {create:true});\n        const ah = await h.createSyncAccessHandle();\n        this.#mapSAHToName.set(ah,name);\n        this.setAssociatedPath(ah, '', 0);\n        //this.#createFileObject(ah,undefined,name);\n      }\n      return this.getCapacity();\n    }\n\n    /**\n       Reduce capacity by n, but can only reduce up to the limit\n       of currently-available SAHs. Returns a Promise which resolves\n       to the number of slots really removed.\n    */\n    async reduceCapacity(n){\n      let nRm = 0;\n      for(const ah of Array.from(this.#availableSAH)){\n        if(nRm === n || this.getFileCount() === this.getCapacity()){\n          break;\n        }\n        const name = this.#mapSAHToName.get(ah);\n        //this.#unmapFileObject(ah);\n        ah.close();\n        await this.#dhOpaque.removeEntry(name);\n        this.#mapSAHToName.delete(ah);\n        this.#availableSAH.delete(ah);\n        ++nRm;\n      }\n      return nRm;\n    }\n\n    /**\n       Releases all currently-opened SAHs. The only legal\n       operation after this is acquireAccessHandles().\n    */\n    releaseAccessHandles(){\n      for(const ah of this.#mapSAHToName.keys()) ah.close();\n      this.#mapSAHToName.clear();\n      this.#mapFilenameToSAH.clear();\n      this.#availableSAH.clear();\n    }\n\n    /**\n       Opens all files under this.vfsDir/this.#dhOpaque and acquires\n       a SAH for each. returns a Promise which resolves to no value\n       but completes once all SAHs are acquired. If acquiring an SAH\n       throws, SAHPool.$error will contain the corresponding\n       exception.\n\n       If clearFiles is true, the client-stored state of each file is\n       cleared when its handle is acquired, including its name, flags,\n       and any data stored after the metadata block.\n    */\n    async acquireAccessHandles(clearFiles){\n      const files = [];\n      for await (const [name,h] of this.#dhOpaque){\n        if('file'===h.kind){\n          files.push([name,h]);\n        }\n      }\n      return Promise.all(files.map(async([name,h])=>{\n        try{\n          const ah = await h.createSyncAccessHandle()\n          this.#mapSAHToName.set(ah, name);\n          if(clearFiles){\n            ah.truncate(HEADER_OFFSET_DATA);\n            this.setAssociatedPath(ah, '', 0);\n          }else{\n            const path = this.getAssociatedPath(ah);\n            if(path){\n              this.#mapFilenameToSAH.set(path, ah);\n            }else{\n              this.#availableSAH.add(ah);\n            }\n          }\n        }catch(e){\n          this.storeErr(e);\n          this.releaseAccessHandles();\n          throw e;\n        }\n      }));\n    }\n\n    /**\n       Given an SAH, returns the client-specified name of\n       that file by extracting it from the SAH's header.\n\n       On error, it disassociates SAH from the pool and\n       returns an empty string.\n    */\n    getAssociatedPath(sah){\n      sah.read(this.#apBody, {at: 0});\n      // Delete any unexpected files left over by previous\n      // untimely errors...\n      const flags = this.#dvBody.getUint32(HEADER_OFFSET_FLAGS);\n      if(this.#apBody[0] &&\n         ((flags & capi.SQLITE_OPEN_DELETEONCLOSE) ||\n          (flags & PERSISTENT_FILE_TYPES)===0)){\n        warn(`Removing file with unexpected flags ${flags.toString(16)}`,\n             this.#apBody);\n        this.setAssociatedPath(sah, '', 0);\n        return '';\n      }\n\n      const fileDigest = new Uint32Array(HEADER_DIGEST_SIZE / 4);\n      sah.read(fileDigest, {at: HEADER_OFFSET_DIGEST});\n      const compDigest = this.computeDigest(this.#apBody);\n      if(fileDigest.every((v,i) => v===compDigest[i])){\n        // Valid digest\n        const pathBytes = this.#apBody.findIndex((v)=>0===v);\n        if(0===pathBytes){\n          // This file is unassociated, so truncate it to avoid\n          // leaving stale db data laying around.\n          sah.truncate(HEADER_OFFSET_DATA);\n        }\n        return pathBytes\n          ? textDecoder.decode(this.#apBody.subarray(0,pathBytes))\n          : '';\n      }else{\n        // Invalid digest\n        warn('Disassociating file with bad digest.');\n        this.setAssociatedPath(sah, '', 0);\n        return '';\n      }\n    }\n\n    /**\n       Stores the given client-defined path and SQLITE_OPEN_xyz flags\n       into the given SAH. If path is an empty string then the file is\n       disassociated from the pool but its previous name is preserved\n       in the metadata.\n    */\n    setAssociatedPath(sah, path, flags){\n      const enc = textEncoder.encodeInto(path, this.#apBody);\n      if(HEADER_MAX_PATH_SIZE <= enc.written + 1/*NUL byte*/){\n        toss(\"Path too long:\",path);\n      }\n      this.#apBody.fill(0, enc.written, HEADER_MAX_PATH_SIZE);\n      this.#dvBody.setUint32(HEADER_OFFSET_FLAGS, flags);\n\n      const digest = this.computeDigest(this.#apBody);\n      sah.write(this.#apBody, {at: 0});\n      sah.write(digest, {at: HEADER_OFFSET_DIGEST});\n      sah.flush();\n\n      if(path){\n        this.#mapFilenameToSAH.set(path, sah);\n        this.#availableSAH.delete(sah);\n      }else{\n        // This is not a persistent file, so eliminate the contents.\n        sah.truncate(HEADER_OFFSET_DATA);\n        this.#availableSAH.add(sah);\n      }\n    }\n\n    /**\n       Computes a digest for the given byte array and returns it as a\n       two-element Uint32Array. This digest gets stored in the\n       metadata for each file as a validation check. Changing this\n       algorithm invalidates all existing databases for this VFS, so\n       don't do that.\n    */\n    computeDigest(byteArray){\n      let h1 = 0xdeadbeef;\n      let h2 = 0x41c6ce57;\n      for(const v of byteArray){\n        h1 = 31 * h1 + (v * 307);\n        h2 = 31 * h2 + (v * 307);\n      }\n      return new Uint32Array([h1>>>0, h2>>>0]);\n    }\n\n    /**\n       Re-initializes the state of the SAH pool, releasing and\n       re-acquiring all handles.\n\n       See acquireAccessHandles() for the specifics of the clearFiles\n       argument.\n    */\n    async reset(clearFiles){\n      await this.isReady;\n      let h = await navigator.storage.getDirectory();\n      let prev, prevName;\n      for(const d of this.vfsDir.split('/')){\n        if(d){\n          prev = h;\n          h = await h.getDirectoryHandle(d,{create:true});\n        }\n      }\n      this.#dhVfsRoot = h;\n      this.#dhVfsParent = prev;\n      this.#dhOpaque = await this.#dhVfsRoot.getDirectoryHandle(\n        OPAQUE_DIR_NAME,{create:true}\n      );\n      this.releaseAccessHandles();\n      return this.acquireAccessHandles(clearFiles);\n    }\n\n    /**\n       Returns the pathname part of the given argument,\n       which may be any of:\n\n       - a URL object\n       - A JS string representing a file name\n       - Wasm C-string representing a file name\n\n       All \"../\" parts and duplicate slashes are resolve/removed from\n       the returned result.\n    */\n    getPath(arg) {\n      if(wasm.isPtr(arg)) arg = wasm.cstrToJs(arg);\n      return ((arg instanceof URL)\n              ? arg\n              : new URL(arg, 'file://localhost/')).pathname;\n    }\n\n    /**\n       Removes the association of the given client-specified file\n       name (JS string) from the pool. Returns true if a mapping\n       is found, else false.\n    */\n    deletePath(path) {\n      const sah = this.#mapFilenameToSAH.get(path);\n      if(sah) {\n        // Un-associate the name from the SAH.\n        this.#mapFilenameToSAH.delete(path);\n        this.setAssociatedPath(sah, '', 0);\n      }\n      return !!sah;\n    }\n\n    /**\n       Sets e (an Error object) as this object's current error. Pass a\n       falsy (or no) value to clear it. If code is truthy it is\n       assumed to be an SQLITE_xxx result code, defaulting to\n       SQLITE_IOERR if code is falsy.\n\n       Returns the 2nd argument.\n    */\n    storeErr(e,code){\n      if(e){\n        e.sqlite3Rc = code || capi.SQLITE_IOERR;\n        this.error(e);\n      }\n      this.$error = e;\n      return code;\n    }\n    /**\n       Pops this object's Error object and returns\n       it (a falsy value if no error is set).\n    */\n    popErr(){\n      const rc = this.$error;\n      this.$error = undefined;\n      return rc;\n    }\n\n    /**\n       Returns the next available SAH without removing\n       it from the set.\n    */\n    nextAvailableSAH(){\n      const [rc] = this.#availableSAH.keys();\n      return rc;\n    }\n\n    /**\n       Given an (sqlite3_file*), returns the mapped\n       xOpen file object.\n    */\n    getOFileForS3File(pFile){\n      return this.#mapS3FileToOFile_.get(pFile);\n    }\n    /**\n       Maps or unmaps (if file is falsy) the given (sqlite3_file*)\n       to an xOpen file object and to this pool object.\n    */\n    mapS3FileToOFile(pFile,file){\n      if(file){\n        this.#mapS3FileToOFile_.set(pFile, file);\n        setPoolForPFile(pFile, this);\n      }else{\n        this.#mapS3FileToOFile_.delete(pFile);\n        setPoolForPFile(pFile, false);\n      }\n    }\n\n    /**\n       Returns true if the given client-defined file name is in this\n       object's name-to-SAH map.\n    */\n    hasFilename(name){\n      return this.#mapFilenameToSAH.has(name)\n    }\n\n    /**\n       Returns the SAH associated with the given\n       client-defined file name.\n    */\n    getSAHForPath(path){\n      return this.#mapFilenameToSAH.get(path);\n    }\n\n    /**\n       Removes this object's sqlite3_vfs registration and shuts down\n       this object, releasing all handles, mappings, and whatnot,\n       including deleting its data directory. There is currently no\n       way to \"revive\" the object and reaquire its resources.\n\n       This function is intended primarily for testing.\n\n       Resolves to true if it did its job, false if the\n       VFS has already been shut down.\n    */\n    async removeVfs(){\n      if(!this.#cVfs.pointer || !this.#dhOpaque) return false;\n      capi.sqlite3_vfs_unregister(this.#cVfs.pointer);\n      this.#cVfs.dispose();\n      try{\n        this.releaseAccessHandles();\n        await this.#dhVfsRoot.removeEntry(OPAQUE_DIR_NAME, {recursive: true});\n        this.#dhOpaque = undefined;\n        await this.#dhVfsParent.removeEntry(\n          this.#dhVfsRoot.name, {recursive: true}\n        );\n        this.#dhVfsRoot = this.#dhVfsParent = undefined;\n      }catch(e){\n        sqlite3.config.error(this.vfsName,\"removeVfs() failed:\",e);\n        /*otherwise ignored - there is no recovery strategy*/\n      }\n      return true;\n    }\n\n\n    //! Documented elsewhere in this file.\n    exportFile(name){\n      const sah = this.#mapFilenameToSAH.get(name) || toss(\"File not found:\",name);\n      const n = sah.getSize() - HEADER_OFFSET_DATA;\n      const b = new Uint8Array(n>0 ? n : 0);\n      if(n>0){\n        const nRead = sah.read(b, {at: HEADER_OFFSET_DATA});\n        if(nRead != n){\n          toss(\"Expected to read \"+n+\" bytes but read \"+nRead+\".\");\n        }\n      }\n      return b;\n    }\n\n    //! Impl for importDb() when its 2nd arg is a function.\n    async importDbChunked(name, callback){\n      const sah = this.#mapFilenameToSAH.get(name)\n            || this.nextAvailableSAH()\n            || toss(\"No available handles to import to.\");\n      sah.truncate(0);\n      let nWrote = 0, chunk, checkedHeader = false, err = false;\n      try{\n        while( undefined !== (chunk = await callback()) ){\n          if(chunk instanceof ArrayBuffer) chunk = new Uint8Array(chunk);\n          if( 0===nWrote && chunk.byteLength>=15 ){\n            util.affirmDbHeader(chunk);\n            checkedHeader = true;\n          }\n          sah.write(chunk, {at:  HEADER_OFFSET_DATA + nWrote});\n          nWrote += chunk.byteLength;\n        }\n        if( nWrote < 512 || 0!==nWrote % 512 ){\n          toss(\"Input size\",nWrote,\"is not correct for an SQLite database.\");\n        }\n        if( !checkedHeader ){\n          const header = new Uint8Array(20);\n          sah.read( header, {at: 0} );\n          util.affirmDbHeader( header );\n        }\n        sah.write(new Uint8Array([1,1]), {\n          at: HEADER_OFFSET_DATA + 18\n        }/*force db out of WAL mode*/);\n      }catch(e){\n        this.setAssociatedPath(sah, '', 0);\n        throw e;\n      }\n      this.setAssociatedPath(sah, name, capi.SQLITE_OPEN_MAIN_DB);\n      return nWrote;\n    }\n\n    //! Documented elsewhere in this file.\n    importDb(name, bytes){\n      if( bytes instanceof ArrayBuffer ) bytes = new Uint8Array(bytes);\n      else if( bytes instanceof Function ) return this.importDbChunked(name, bytes);\n      const sah = this.#mapFilenameToSAH.get(name)\n            || this.nextAvailableSAH()\n            || toss(\"No available handles to import to.\");\n      const n = bytes.byteLength;\n      if(n<512 || n%512!=0){\n        toss(\"Byte array size is invalid for an SQLite db.\");\n      }\n      const header = \"SQLite format 3\";\n      for(let i = 0; i < header.length; ++i){\n        if( header.charCodeAt(i) !== bytes[i] ){\n          toss(\"Input does not contain an SQLite database header.\");\n        }\n      }\n      const nWrote = sah.write(bytes, {at: HEADER_OFFSET_DATA});\n      if(nWrote != n){\n        this.setAssociatedPath(sah, '', 0);\n        toss(\"Expected to write \"+n+\" bytes but wrote \"+nWrote+\".\");\n      }else{\n        sah.write(new Uint8Array([1,1]), {at: HEADER_OFFSET_DATA+18}\n                   /* force db out of WAL mode */);\n        this.setAssociatedPath(sah, name, capi.SQLITE_OPEN_MAIN_DB);\n      }\n      return nWrote;\n    }\n\n  }/*class OpfsSAHPool*/;\n\n\n  /**\n     A OpfsSAHPoolUtil instance is exposed to clients in order to\n     manipulate an OpfsSAHPool object without directly exposing that\n     object and allowing for some semantic changes compared to that\n     class.\n\n     Class docs are in the client-level docs for\n     installOpfsSAHPoolVfs().\n  */\n  class OpfsSAHPoolUtil {\n    /* This object's associated OpfsSAHPool. */\n    #p;\n\n    constructor(sahPool){\n      this.#p = sahPool;\n      this.vfsName = sahPool.vfsName;\n    }\n\n    async addCapacity(n){ return this.#p.addCapacity(n) }\n\n    async reduceCapacity(n){ return this.#p.reduceCapacity(n) }\n\n    getCapacity(){ return this.#p.getCapacity(this.#p) }\n\n    getFileCount(){ return this.#p.getFileCount() }\n    getFileNames(){ return this.#p.getFileNames() }\n\n    async reserveMinimumCapacity(min){\n      const c = this.#p.getCapacity();\n      return (c < min) ? this.#p.addCapacity(min - c) : c;\n    }\n\n    exportFile(name){ return this.#p.exportFile(name) }\n\n    importDb(name, bytes){ return this.#p.importDb(name,bytes) }\n\n    async wipeFiles(){ return this.#p.reset(true) }\n\n    unlink(filename){ return this.#p.deletePath(filename) }\n\n    async removeVfs(){ return this.#p.removeVfs() }\n\n  }/* class OpfsSAHPoolUtil */;\n\n  /**\n     Returns a resolved Promise if the current environment\n     has a \"fully-sync\" SAH impl, else a rejected Promise.\n  */\n  const apiVersionCheck = async ()=>{\n    const dh = await navigator.storage.getDirectory();\n    const fn = '.opfs-sahpool-sync-check-'+getRandomName();\n    const fh = await dh.getFileHandle(fn, { create: true });\n    const ah = await fh.createSyncAccessHandle();\n    const close = ah.close();\n    await close;\n    await dh.removeEntry(fn);\n    if(close?.then){\n      toss(\"The local OPFS API is too old for opfs-sahpool:\",\n           \"it has an async FileSystemSyncAccessHandle.close() method.\");\n    }\n    return true;\n  };\n\n  /** Only for testing a rejection case. */\n  let instanceCounter = 0;\n\n  /**\n     installOpfsSAHPoolVfs() asynchronously initializes the OPFS\n     SyncAccessHandle (a.k.a. SAH) Pool VFS. It returns a Promise which\n     either resolves to a utility object described below or rejects with\n     an Error value.\n\n     Initialization of this VFS is not automatic because its\n     registration requires that it lock all resources it\n     will potentially use, even if client code does not want\n     to use them. That, in turn, can lead to locking errors\n     when, for example, one page in a given origin has loaded\n     this VFS but does not use it, then another page in that\n     origin tries to use the VFS. If the VFS were automatically\n     registered, the second page would fail to load the VFS\n     due to OPFS locking errors.\n\n     If this function is called more than once with a given \"name\"\n     option (see below), it will return the same Promise. Calls for\n     different names will return different Promises which resolve to\n     independent objects and refer to different VFS registrations.\n\n     On success, the resulting Promise resolves to a utility object\n     which can be used to query and manipulate the pool. Its API is\n     described at the end of these docs.\n\n     This function accepts an options object to configure certain\n     parts but it is only acknowledged for the very first call and\n     ignored for all subsequent calls.\n\n     The options, in alphabetical order:\n\n     - `clearOnInit`: (default=false) if truthy, contents and filename\n     mapping are removed from each SAH it is acquired during\n     initalization of the VFS, leaving the VFS's storage in a pristine\n     state. Use this only for databases which need not survive a page\n     reload.\n\n     - `initialCapacity`: (default=6) Specifies the default capacity of\n     the VFS. This should not be set unduly high because the VFS has\n     to open (and keep open) a file for each entry in the pool. This\n     setting only has an effect when the pool is initially empty. It\n     does not have any effect if a pool already exists.\n\n     - `directory`: (default=\".\"+`name`) Specifies the OPFS directory\n     name in which to store metadata for the `\"opfs-sahpool\"`\n     sqlite3_vfs.  Only one instance of this VFS can be installed per\n     JavaScript engine, and any two engines with the same storage\n     directory name will collide with each other, leading to locking\n     errors and the inability to register the VFS in the second and\n     subsequent engine. Using a different directory name for each\n     application enables different engines in the same HTTP origin to\n     co-exist, but their data are invisible to each other. Changing\n     this name will effectively orphan any databases stored under\n     previous names. The default is unspecified but descriptive.  This\n     option may contain multiple path elements, e.g. \"foo/bar/baz\",\n     and they are created automatically.  In practice there should be\n     no driving need to change this. ACHTUNG: all files in this\n     directory are assumed to be managed by the VFS. Do not place\n     other files in that directory, as they may be deleted or\n     otherwise modified by the VFS.\n\n     - `name`: (default=\"opfs-sahpool\") sets the name to register this\n     VFS under. Normally this should not be changed, but it is\n     possible to register this VFS under multiple names so long as\n     each has its own separate directory to work from. The storage for\n     each is invisible to all others. The name must be a string\n     compatible with `sqlite3_vfs_register()` and friends and suitable\n     for use in URI-style database file names.\n\n     Achtung: if a custom `name` is provided, a custom `directory`\n     must also be provided if any other instance is registered with\n     the default directory. If no directory is explicitly provided\n     then a directory name is synthesized from the `name` option.\n\n     Peculiarities of this VFS:\n\n     - Paths given to it _must_ be absolute. Relative paths will not\n     be properly recognized. This is arguably a bug but correcting it\n     requires some hoop-jumping in routines which have no business\n     doing tricks.\n\n     - It is possible to install multiple instances under different\n     names, each sandboxed from one another inside their own private\n     directory.  This feature exists primarily as a way for disparate\n     applications within a given HTTP origin to use this VFS without\n     introducing locking issues between them.\n\n\n     The API for the utility object passed on by this function's\n     Promise, in alphabetical order...\n\n     - [async] number addCapacity(n)\n\n     Adds `n` entries to the current pool. This change is persistent\n     across sessions so should not be called automatically at each app\n     startup (but see `reserveMinimumCapacity()`). Its returned Promise\n     resolves to the new capacity.  Because this operation is necessarily\n     asynchronous, the C-level VFS API cannot call this on its own as\n     needed.\n\n     - byteArray exportFile(name)\n\n     Synchronously reads the contents of the given file into a Uint8Array\n     and returns it. This will throw if the given name is not currently\n     in active use or on I/O error. Note that the given name is _not_\n     visible directly in OPFS (or, if it is, it's not from this VFS).\n\n     - number getCapacity()\n\n     Returns the number of files currently contained\n     in the SAH pool. The default capacity is only large enough for one\n     or two databases and their associated temp files.\n\n     - number getFileCount()\n\n     Returns the number of files from the pool currently allocated to\n     slots. This is not the same as the files being \"opened\".\n\n     - array getFileNames()\n\n     Returns an array of the names of the files currently allocated to\n     slots. This list is the same length as getFileCount().\n\n     - void importDb(name, bytes)\n\n     Imports the contents of an SQLite database, provided as a byte\n     array or ArrayBuffer, under the given name, overwriting any\n     existing content. Throws if the pool has no available file slots,\n     on I/O error, or if the input does not appear to be a\n     database. In the latter case, only a cursory examination is made.\n     Note that this routine is _only_ for importing database files,\n     not arbitrary files, the reason being that this VFS will\n     automatically clean up any non-database files so importing them\n     is pointless.\n\n     If passed a function for its second argument, its behavior\n     changes to asynchronous and it imports its data in chunks fed to\n     it by the given callback function. It calls the callback (which\n     may be async) repeatedly, expecting either a Uint8Array or\n     ArrayBuffer (to denote new input) or undefined (to denote\n     EOF). For so long as the callback continues to return\n     non-undefined, it will append incoming data to the given\n     VFS-hosted database file. The result of the resolved Promise when\n     called this way is the size of the resulting database.\n\n     On succes this routine rewrites the database header bytes in the\n     output file (not the input array) to force disabling of WAL mode.\n\n     On a write error, the handle is removed from the pool and made\n     available for re-use.\n\n     - [async] number reduceCapacity(n)\n\n     Removes up to `n` entries from the pool, with the caveat that it can\n     only remove currently-unused entries. It returns a Promise which\n     resolves to the number of entries actually removed.\n\n     - [async] boolean removeVfs()\n\n     Unregisters the opfs-sahpool VFS and removes its directory from OPFS\n     (which means that _all client content_ is removed). After calling\n     this, the VFS may no longer be used and there is no way to re-add it\n     aside from reloading the current JavaScript context.\n\n     Results are undefined if a database is currently in use with this\n     VFS.\n\n     The returned Promise resolves to true if it performed the removal\n     and false if the VFS was not installed.\n\n     If the VFS has a multi-level directory, e.g. \"/foo/bar/baz\", _only_\n     the bottom-most directory is removed because this VFS cannot know for\n     certain whether the higher-level directories contain data which\n     should be removed.\n\n     - [async] number reserveMinimumCapacity(min)\n\n     If the current capacity is less than `min`, the capacity is\n     increased to `min`, else this returns with no side effects. The\n     resulting Promise resolves to the new capacity.\n\n     - boolean unlink(filename)\n\n     If a virtual file exists with the given name, disassociates it from\n     the pool and returns true, else returns false without side\n     effects. Results are undefined if the file is currently in active\n     use.\n\n     - string vfsName\n\n     The SQLite VFS name under which this pool's VFS is registered.\n\n     - [async] void wipeFiles()\n\n     Clears all client-defined state of all SAHs and makes all of them\n     available for re-use by the pool. Results are undefined if any such\n     handles are currently in use, e.g. by an sqlite3 db.\n  */\n  sqlite3.installOpfsSAHPoolVfs = async function(options=Object.create(null)){\n    const vfsName = options.name || optionDefaults.name;\n    if(0 && 2===++instanceCounter){\n      throw new Error(\"Just testing rejection.\");\n    }\n    if(initPromises[vfsName]){\n      //console.warn(\"Returning same OpfsSAHPool result\",options,vfsName,initPromises[vfsName]);\n      return initPromises[vfsName];\n    }\n    if(!globalThis.FileSystemHandle ||\n       !globalThis.FileSystemDirectoryHandle ||\n       !globalThis.FileSystemFileHandle ||\n       !globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle ||\n       !navigator?.storage?.getDirectory){\n      return (initPromises[vfsName] = Promise.reject(new Error(\"Missing required OPFS APIs.\")));\n    }\n\n    /**\n       Maintenance reminder: the order of ASYNC ops in this function\n       is significant. We need to have them all chained at the very\n       end in order to be able to catch a race condition where\n       installOpfsSAHPoolVfs() is called twice in rapid succession,\n       e.g.:\n\n       installOpfsSAHPoolVfs().then(console.warn.bind(console));\n       installOpfsSAHPoolVfs().then(console.warn.bind(console));\n\n       If the timing of the async calls is not \"just right\" then that\n       second call can end up triggering the init a second time and chaos\n       ensues.\n    */\n    return initPromises[vfsName] = apiVersionCheck().then(async function(){\n      if(options.$testThrowInInit){\n        throw options.$testThrowInInit;\n      }\n      const thePool = new OpfsSAHPool(options);\n      return thePool.isReady.then(async()=>{\n        /** The poolUtil object will be the result of the\n            resolved Promise. */\n        const poolUtil = new OpfsSAHPoolUtil(thePool);\n        if(sqlite3.oo1){\n          const oo1 = sqlite3.oo1;\n          const theVfs = thePool.getVfs();\n          const OpfsSAHPoolDb = function(...args){\n            const opt = oo1.DB.dbCtorHelper.normalizeArgs(...args);\n            opt.vfs = theVfs.$zName;\n            oo1.DB.dbCtorHelper.call(this, opt);\n          };\n          OpfsSAHPoolDb.prototype = Object.create(oo1.DB.prototype);\n          // yes or no? OpfsSAHPoolDb.PoolUtil = poolUtil;\n          poolUtil.OpfsSAHPoolDb = OpfsSAHPoolDb;\n          oo1.DB.dbCtorHelper.setVfsPostOpenSql(\n            theVfs.pointer,\n            function(oo1Db, sqlite3){\n              sqlite3.capi.sqlite3_exec(oo1Db, [\n                /* See notes in sqlite3-vfs-opfs.js */\n                \"pragma journal_mode=DELETE;\",\n                \"pragma cache_size=-16384;\"\n              ], 0, 0, 0);\n            }\n          );\n        }/*extend sqlite3.oo1*/\n        thePool.log(\"VFS initialized.\");\n        return poolUtil;\n      }).catch(async (e)=>{\n        await thePool.removeVfs().catch(()=>{});\n        return e;\n      });\n    }).catch((err)=>{\n      //error(\"rejecting promise:\",err);\n      return initPromises[vfsName] = Promise.reject(err);\n    });\n  }/*installOpfsSAHPoolVfs()*/;\n}/*sqlite3ApiBootstrap.initializers*/);\n/* END FILE: api/sqlite3-vfs-opfs-sahpool.c-pp.js */\n/* BEGIN FILE: api/sqlite3-api-cleanup.js */\n/*\n  2022-07-22\n\n  The author disclaims copyright to this source code.  In place of a\n  legal notice, here is a blessing:\n\n  *   May you do good and not evil.\n  *   May you find forgiveness for yourself and forgive others.\n  *   May you share freely, never taking more than you give.\n\n  ***********************************************************************\n\n  This file is the tail end of the sqlite3-api.js constellation,\n  intended to be appended after all other sqlite3-api-*.js files so\n  that it can finalize any setup and clean up any global symbols\n  temporarily used for setting up the API's various subsystems.\n*/\n'use strict';\nif('undefined' !== typeof Module){ // presumably an Emscripten build\n  /**\n     Install a suitable default configuration for sqlite3ApiBootstrap().\n  */\n  const SABC = Object.assign(\n    Object.create(null), {\n      exports: ('undefined'===typeof wasmExports)\n        ? Module['asm']/* emscripten <=3.1.43 */\n        : wasmExports  /* emscripten >=3.1.44 */,\n      memory: Module.wasmMemory /* gets set if built with -sIMPORTED_MEMORY */\n    },\n    globalThis.sqlite3ApiConfig || {}\n  );\n\n  /**\n     For current (2022-08-22) purposes, automatically call\n     sqlite3ApiBootstrap().  That decision will be revisited at some\n     point, as we really want client code to be able to call this to\n     configure certain parts. Clients may modify\n     globalThis.sqlite3ApiBootstrap.defaultConfig to tweak the default\n     configuration used by a no-args call to sqlite3ApiBootstrap(),\n     but must have first loaded their WASM module in order to be\n     able to provide the necessary configuration state.\n  */\n  //console.warn(\"globalThis.sqlite3ApiConfig = \",globalThis.sqlite3ApiConfig);\n  globalThis.sqlite3ApiConfig = SABC;\n  let sqlite3;\n  try{\n    sqlite3 = globalThis.sqlite3ApiBootstrap();\n  }catch(e){\n    console.error(\"sqlite3ApiBootstrap() error:\",e);\n    throw e;\n  }finally{\n    delete globalThis.sqlite3ApiBootstrap;\n    delete globalThis.sqlite3ApiConfig;\n  }\n\n  Module.sqlite3 = sqlite3 /* Needed for customized sqlite3InitModule() to be able to\n                              pass the sqlite3 object off to the client. */;\n}else{\n  console.warn(\"This is not running in an Emscripten module context, so\",\n               \"globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack\",\n               \"of config info for the WASM environment.\",\n               \"It must be called manually.\");\n}\n/* END FILE: api/sqlite3-api-cleanup.js */\n/* END FILE: ./bld/sqlite3-api.c-pp.js */\n/* BEGIN FILE: api/post-js-footer.js */\n/* The current function scope was opened via post-js-header.js, which\n   gets prepended to this at build-time. This file closes that\n   scope. */\n})/*postRun.push(...)*/;\n/* END FILE: api/post-js-footer.js */\n\n// end include: /home/mmom/src/sqlite-wasm-http/deps/sqlite/ext/wasm/bld/post-js.sqlite3-bundler-friendly.js\n\n\n  return moduleArg.ready\n}\n\n);\n})();\n/* ^^^^ ACHTUNG: blank line at the start is necessary because\n   Emscripten will not add a newline in some cases and we need\n   a blank line for a sed-based kludge for the ES6 build. */\n/* extern-post-js.js must be appended to the resulting sqlite3.js\n   file. It gets its name from being used as the value for the\n   --extern-post-js=... Emscripten flag. Note that this code, unlike\n   most of the associated JS code, runs outside of the\n   Emscripten-generated module init scope, in the current\n   global scope. */\nconst toExportForESM =\n(function(){\n  /**\n     In order to hide the sqlite3InitModule()'s resulting\n     Emscripten module from downstream clients (and simplify our\n     documentation by being able to elide those details), we hide that\n     function and expose a hand-written sqlite3InitModule() to return\n     the sqlite3 object (most of the time).\n\n     Unfortunately, we cannot modify the module-loader/exporter-based\n     impls which Emscripten installs at some point in the file above\n     this.\n  */\n  const originalInit = sqlite3InitModule;\n  if(!originalInit){\n    throw new Error(\"Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.\");\n  }\n  /**\n     We need to add some state which our custom Module.locateFile()\n     can see, but an Emscripten limitation currently prevents us from\n     attaching it to the sqlite3InitModule function object:\n\n     https://github.com/emscripten-core/emscripten/issues/18071\n\n     The only(?) current workaround is to temporarily stash this state\n     into the global scope and delete it when sqlite3InitModule()\n     is called.\n  */\n  const initModuleState = globalThis.sqlite3InitModuleState = Object.assign(Object.create(null),{\n    moduleScript: globalThis?.document?.currentScript,\n    isWorker: ('undefined' !== typeof WorkerGlobalScope),\n    location: globalThis.location,\n    urlParams:  globalThis?.location?.href\n      ? new URL(globalThis.location.href).searchParams\n      : new URLSearchParams()\n  });\n  initModuleState.debugModule =\n    initModuleState.urlParams.has('sqlite3.debugModule')\n    ? (...args)=>console.warn('sqlite3.debugModule:',...args)\n    : ()=>{};\n\n  if(initModuleState.urlParams.has('sqlite3.dir')){\n    initModuleState.sqlite3Dir = initModuleState.urlParams.get('sqlite3.dir') +'/';\n  }else if(initModuleState.moduleScript){\n    const li = initModuleState.moduleScript.src.split('/');\n    li.pop();\n    initModuleState.sqlite3Dir = li.join('/') + '/';\n  }\n\n  globalThis.sqlite3InitModule = function ff(...args){\n    //console.warn(\"Using replaced sqlite3InitModule()\",globalThis.location);\n    return originalInit(...args).then((EmscriptenModule)=>{\n      //console.warn(\"sqlite3InitModule() returning sqlite3 object.\");\n      const s = EmscriptenModule.sqlite3;\n      s.scriptInfo = initModuleState;\n      //console.warn(\"sqlite3.scriptInfo =\",s.scriptInfo);\n      if(ff.__isUnderTest) s.__isUnderTest = true;\n      const f = s.asyncPostInit;\n      delete s.asyncPostInit;\n      return f();\n    }).catch((e)=>{\n      console.error(\"Exception loading sqlite3 module:\",e);\n      throw e;\n    });\n  };\n  globalThis.sqlite3InitModule.ready = originalInit.ready;\n\n  if(globalThis.sqlite3InitModuleState.moduleScript){\n    const sim = globalThis.sqlite3InitModuleState;\n    let src = sim.moduleScript.src.split('/');\n    src.pop();\n    sim.scriptDir = src.join('/') + '/';\n  }\n  initModuleState.debugModule('sqlite3InitModuleState =',initModuleState);\n  if(0){\n    console.warn(\"Replaced sqlite3InitModule()\");\n    console.warn(\"globalThis.location.href =\",globalThis.location.href);\n    if('undefined' !== typeof document){\n      console.warn(\"document.currentScript.src =\",\n                   document?.currentScript?.src);\n    }\n  }\n  return globalThis.sqlite3InitModule /* required for ESM */;\n})();\nsqlite3InitModule = toExportForESM;\nexport default sqlite3InitModule;\n","/*\n  2022-05-23\n\n  The author disclaims copyright to this source code.  In place of a\n  legal notice, here is a blessing:\n\n  *   May you do good and not evil.\n  *   May you find forgiveness for yourself and forgive others.\n  *   May you share freely, never taking more than you give.\n\n  ***********************************************************************\n\n  This is a JS Worker file for the main sqlite3 api. It loads\n  sqlite3.js, initializes the module, and postMessage()'s a message\n  after the module is initialized:\n\n  {type: 'sqlite3-api', result: 'worker1-ready'}\n\n  This seemingly superfluous level of indirection is necessary when\n  loading sqlite3.js via a Worker. Instantiating a worker with new\n  Worker(\"sqlite.js\") will not (cannot) call sqlite3InitModule() to\n  initialize the module due to a timing/order-of-operations conflict\n  (and that symbol is not exported in a way that a Worker loading it\n  that way can see it).  Thus JS code wanting to load the sqlite3\n  Worker-specific API needs to pass _this_ file (or equivalent) to the\n  Worker constructor and then listen for an event in the form shown\n  above in order to know when the module has completed initialization.\n\n  This file accepts a URL arguments to adjust how it loads sqlite3.js:\n\n  - `sqlite3.dir`, if set, treats the given directory name as the\n    directory from which `sqlite3.js` will be loaded.\n*/\nimport {default as sqlite3InitModule} from './sqlite3-bundler-friendly.mjs';\nsqlite3InitModule().then(sqlite3 => sqlite3.initWorker1API());\n"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","u","chunkId","g","globalThis","this","Function","e","window","o","obj","prop","Object","prototype","hasOwnProperty","call","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","length","i","Error","replace","p","b","self","_scriptDir","sqlite3InitModule","moduleArg","readyPromiseResolve","readyPromiseReject","Module","Promise","resolve","reject","forEach","getOwnPropertyDescriptor","defineProperty","get","abort","set","sqlite3InitModuleState","assign","create","debugModule","xNameOfInstantiateWasm","callee","imports","onSuccess","env","foo","uri","locateFile","scriptDirectory","wfetch","fetch","credentials","WebAssembly","instantiateStreaming","async","then","arg","instance","response","arrayBuffer","bytes","instantiate","moduleOverrides","thisProgram","ENVIRONMENT_IS_WEB","ENVIRONMENT_IS_WORKER","ENVIRONMENT_IS_NODE","process","versions","node","ENVIRONMENT_IS_SHELL","read_","readAsync","readBinary","require","read","f","readbuffer","Uint8Array","data","assert","onload","onerror","setTimeout","clearTimeout","id","scriptArgs","print","console","log","warn","error","printErr","href","indexOf","substr","lastIndexOf","url","xhr","XMLHttpRequest","open","send","responseText","responseType","status","wasmBinary","wasmMemory","out","bind","err","legacyModuleProp","HEAP8","HEAPU8","HEAP16","HEAP32","HEAPU32","HEAP64","ABORT","condition","text","updateMemoryViews","buffer","Int8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","subarray","INITIAL_MEMORY","checkStackCookie","max","_emscripten_stack_get_end","cookie1","cookie2","ptrToString","Memory","byteLength","h16","h8","__ATPRERUN__","__ATINIT__","__ATPOSTRUN__","runtimeInitialized","Math","imul","fround","clz32","trunc","runDependencies","runDependencyWatcher","dependenciesFulfilled","runDependencyTracking","getUniqueRunDependency","orig","random","addRunDependency","setInterval","clearInterval","shown","dep","removeRunDependency","callback","what","RuntimeError","wasmBinaryFile","path","isDataURI","filename","startsWith","createExportWrapper","name","wasmExports","apply","arguments","getBinarySync","file","instantiateArrayBuffer","binaryFile","receiver","catch","getBinaryPromise","binary","reason","newName","incomming","configurable","isExportedByForceFilesystem","missingGlobal","sym","msg","warnOnce","unexportedRuntimeSymbol","URL","callRuntimeCallbacks","callbacks","shift","ptr","toString","padStart","PATH","isAbs","charAt","splitPath","exec","slice","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","normalize","isAbsolute","trailingSlash","split","filter","join","dirname","result","root","dir","basename","lastSlash","paths","Array","join2","l","r","randomFill","view","crypto","getRandomValues","initRandomFill","PATH_FS","resolvedPath","resolvedAbsolute","FS","cwd","TypeError","relative","from","to","trim","arr","start","end","fromParts","toParts","min","samePartsLength","outputParts","push","concat","UTF8Decoder","TextDecoder","UTF8ArrayToString","heapOrArray","idx","maxBytesToRead","endIdx","endPtr","decode","str","u0","u1","u2","String","fromCharCode","ch","FS_stdin_getChar_buffer","lengthBytesUTF8","len","c","charCodeAt","stringToUTF8Array","heap","outIdx","maxBytesToWrite","startIdx","intArrayFromString","stringy","dontAddNull","u8array","numBytesWritten","_emscripten_get_now","TTY","ttys","init","shutdown","register","dev","ops","input","output","registerDevice","stream_ops","stream","tty","rdev","ErrnoError","seekable","close","fsync","offset","pos","get_char","bytesRead","timestamp","Date","now","write","put_char","default_tty_ops","prompt","readline","FS_stdin_getChar","val","ioctl_tcgets","c_iflag","c_oflag","c_cflag","c_lflag","c_cc","ioctl_tcsets","optional_actions","ioctl_tiocgwinsz","default_tty1_ops","mmapAlloc","size","alignment","ceil","alignMemory","_emscripten_builtin_memalign","address","fill","zeroMemory","MEMFS","ops_table","mount","createNode","parent","mode","isBlkdev","isFIFO","getattr","node_ops","setattr","lookup","mknod","rename","unlink","rmdir","readdir","symlink","llseek","allocate","mmap","msync","link","readlink","chrdev","chrdev_stream_ops","isDir","contents","isFile","usedBytes","isLink","isChrdev","getFileDataAsTypedArray","expandFileStorage","newCapacity","prevCapacity","oldContents","resizeFileStorage","newSize","attr","ino","nlink","uid","gid","atime","mtime","ctime","blksize","blocks","genericErrors","old_node","new_dir","new_name","new_node","lookupNode","entries","key","newname","oldpath","position","canOwn","ArrayBuffer","whence","prot","flags","allocated","byteOffset","mmapFlags","preloadPlugins","FS_getMode","canRead","canWrite","ERRNO_MESSAGES","ERRNO_CODES","mounts","devices","streams","nextInode","nameTable","currentPath","initialized","ignorePermissions","filesystems","syncFSRequests","lookupPath","opts","follow_mount","recurse_count","current","current_path","islast","isMountpoint","mounted","follow","count","getPath","isRoot","mountpoint","hashName","parentid","hash","hashAddNode","name_next","hashRemoveNode","errCode","mayLookup","nodeName","FSNode","destroyNode","isSocket","flagsToPermissionString","flag","perms","nodePermissions","includes","mayCreate","mayDelete","isdir","errno","mayOpen","MAX_OPEN_FDS","nextfd","fd","getStreamChecked","getStream","createStream","FSStream","shared","defineProperties","object","isRead","isWrite","isAppend","closeStream","device","getDevice","major","minor","makedev","ma","mi","getMounts","check","pop","syncfs","populate","completed","doCallback","done","errored","type","pseudo","mountRoot","unmount","keys","next","mkdir","mkdirTree","dirs","d","mkdev","newpath","old_path","new_path","old_dir","old_dirname","new_dirname","old_name","stat","dontFollow","lstat","chmod","lchmod","fchmod","chown","lchown","fchown","truncate","ftruncate","utime","FS_modeStringToFlags","created","ungotten","readFiles","isClosed","getdents","seeking","bytesWritten","munmap","ioctl","cmd","readFile","encoding","ret","buf","writeFile","actualNumBytes","isView","chdir","createDefaultDirectories","createDefaultDevices","randomBuffer","randomLeft","randomByte","createDevice","createSpecialDirectories","proc_self","createStandardStreams","stdin","stdout","stderr","ensureErrnoError","setErrno","code","message","stack","value","writable","x","func","y","constructor","staticInit","quit","_fflush","findObject","dontResolveLastLink","analyzePath","exists","parentExists","parentPath","parentObject","createPath","reverse","part","createFile","properties","createDataFile","forceLoadFile","isDevice","isFolder","createLazyFile","LazyUint8Array","lengthKnown","chunks","chunkOffset","chunkSize","chunkNum","getter","setDataGetter","cacheLength","header","datalength","Number","getResponseHeader","hasByteServing","usesGzip","lazyArray","setRequestHeader","overrideMimeType","doXHR","_length","_chunkSize","writeChunks","fn","absolutePath","createFolder","createLink","joinPath","standardizePath","SYSCALLS","DEFAULT_POLLMASK","calculateAt","dirfd","allowEmpty","getStreamFromFD","doStat","BigInt","getTime","floor","doMsync","addr","varargs","getp","getStr","UTF8ToString","bigintToI53Checked","num","NaN","stringToUTF8","outPtr","readI53FromI64","MONTH_DAYS_LEAP_CUMULATIVE","MONTH_DAYS_REGULAR_CUMULATIVE","stringToNewUTF8","_malloc","performance","growMemory","pages","grow","ENV","getEnvStrings","strings","navigator","languages","createPreloadedFile","dontCreateFile","preFinish","fullname","processData","byteArray","finish","fileData","FS_createDataFile","Browser","handled","plugin","FS_handledByPreloadPlugin","noRunDep","event","asyncLoad","calledRun","wasmImports","__syscall_chmod","__syscall_faccessat","amode","__syscall_fchmod","__syscall_fchown32","owner","group","__syscall_fcntl64","___errno_location","__syscall_fstat64","__syscall_ftruncate64","isNaN","__syscall_getcwd","cwdLengthInBytes","__syscall_ioctl","op","termios","argp","winsize","__syscall_lstat64","__syscall_mkdirat","__syscall_newfstatat","nofollow","__syscall_openat","__syscall_readlinkat","bufsize","endChar","__syscall_rmdir","__syscall_stat64","__syscall_unlinkat","__syscall_utimensat","times","seconds","nanoseconds","_emscripten_get_now_is_monotonic","_localtime_js","time","tmPtr","date","getSeconds","getMinutes","getHours","getDate","getMonth","getFullYear","getDay","yday","year","ydayFromDate","getTimezoneOffset","summerOffset","winterOffset","dst","_mmap_js","res","_munmap_js","_tzset_js","timezone","daylight","tzname","currentYear","winter","summer","stdTimezoneOffset","extractZone","match","toTimeString","winterName","summerName","winterNamePtr","summerNamePtr","emscripten_date_now","emscripten_get_now","emscripten_memcpy_js","dest","copyWithin","emscripten_resize_heap","requestedSize","oldSize","maxHeapSize","cutDown","overGrownHeapSize","environ_get","__environ","environ_buf","bufSize","string","stringToAscii","environ_sizes_get","penviron_count","penviron_buf_size","fd_close","fd_fdstat_get","pbuf","fd_read","iov","iovcnt","pnum","curr","doReadv","fd_seek","newOffset","fd_sync","fd_write","doWritev","memory","info","receiveInstance","cb","trueModule","createWasm","_emscripten_stack_init","run","doRun","postRun","preRun","librarySymbol","runCaller","sqlite3ApiBootstrap","apiConfig","sqlite3ApiConfig","defaultConfig","sqlite3","config","bigIntEnabled","HEAPU64","debug","wasmfsOpfsDir","useStdAlloc","allocExportName","deallocExportName","reallocExportName","k","capi","wasm","__rcStr","rc","sqlite3_js_rc_str","SQLite3Error","args","n","super","rcStr","resultCode","SQLITE_ERROR","toss","toss3","test","isInt32","__SAB","SharedArrayBuffer","isSharedTypedArray","aTypedArray","typedArrayPart","begin","isBindableTypedArray","v","isSQLableTypedArray","affirmBindableTypedArray","utf8Decoder","typedArrayToString","typedArray","flexibleString","isArray","isPtr","cstrToJs","WasmAllocError","SQLITE_NOMEM","sqlite3_bind_blob","sqlite3_bind_text","sqlite3_create_function_v2","pDb","funcName","nArg","eTextRep","pApp","xFunc","xStep","xFinal","xDestroy","sqlite3_create_function","sqlite3_create_window_function","xValue","xInverse","sqlite3_prepare_v3","dbPtr","sql","sqlByteLen","prepFlags","stmtPtrPtr","strPtrPtr","sqlite3_prepare_v2","sqlite3_exec","pVoid","pErrMsg","sqlite3_randomness","util","bigIntFits32","bigIntFits64","_max","_min","bigIntFitsDouble","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","isTypedArray","BYTES_PER_ELEMENT","isUIThread","affirmDbHeader","affirmIsDb","ptrSizeof","wasmPtrSizeof","ptrIR","wasmPtrIR","alloc","realloc","dealloc","allocFromTypedArray","srcTypedArray","pRet","heapForSize","keyAlloc","keyDealloc","keyRealloc","impl","m2","__wasmfsOpfsDir","compileOptionUsed","optName","_result","_opt","_rx","_rxInt","opt","rv","ov","sqlite3_compileoption_get","sqlite3_compileoption_used","pstack","restore","sqlite3_wasm_pstack_restore","sizeofIR","sqlite3_wasm_pstack_alloc","allocChunks","sz","mem","allocPtr","safePtrSize","stackPos","pointer","iterable","writeable","sqlite3_wasm_pstack_ptr","quota","sqlite3_wasm_pstack_quota","remaining","sqlite3_wasm_pstack_remaining","ta","heap8u","nAlloc","j","sqlite3_wasmfs_opfs_dir","pdir","FileSystemHandle","FileSystemDirectoryHandle","FileSystemFileHandle","xCallWrapped","sqlite3_wasmfs_filename_is_persistent","sqlite3_js_db_uses_vfs","vfsName","dbName","pK","sqlite3_vfs_find","sqlite3_js_db_vfs","sqlite3_js_vfs_list","pVfs","oVfs","sqlite3_vfs","$zName","$pNext","dispose","sqlite3_js_db_export","schema","xWrap","testConvertArg","scope","scopedAllocPush","pOut","pSize","scopedAlloc","ppOut","zSchema","scopedAllocCString","sqlite3_wasm_db_serialize","peekPtr","nOut","peek","sqlite3_free","scopedAllocPop","dbPointer","sqlite3_wasm_db_vfs","sqlite3_js_aggregate_context","pCtx","sqlite3_aggregate_context","sqlite3_js_posix_create_file","dataLen","pData","sqlite3_wasm_posix_create_file","sqlite3_js_vfs_create_file","vfs","sqlite3_wasm_vfs_create_file","sqlite3_js_sql_to_string","__kvvfsInfo","which","prefix","stores","sessionStorage","localStorage","sqlite3_js_kvvfs_clear","kvinfo","s","toRm","kk","removeItem","sqlite3_js_kvvfs_size","getItem","sqlite3_db_config","pii","ip","SQLITE_DBCONFIG_ENABLE_FKEY","SQLITE_DBCONFIG_ENABLE_TRIGGER","SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER","SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION","SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE","SQLITE_DBCONFIG_ENABLE_QPSG","SQLITE_DBCONFIG_TRIGGER_EQP","SQLITE_DBCONFIG_RESET_DATABASE","SQLITE_DBCONFIG_DEFENSIVE","SQLITE_DBCONFIG_WRITABLE_SCHEMA","SQLITE_DBCONFIG_LEGACY_ALTER_TABLE","SQLITE_DBCONFIG_DQS_DML","SQLITE_DBCONFIG_DQS_DDL","SQLITE_DBCONFIG_ENABLE_VIEW","SQLITE_DBCONFIG_LEGACY_FILE_FORMAT","SQLITE_DBCONFIG_TRUSTED_SCHEMA","SQLITE_DBCONFIG_STMT_SCANSTATUS","SQLITE_DBCONFIG_REVERSE_SCANORDER","SQLITE_DBCONFIG_LOOKASIDE","SQLITE_DBCONFIG_MAINDBNAME","SQLITE_MISUSE","sqlite3_value_to_js","pVal","throwIfCannotConvert","valType","sqlite3_value_type","SQLITE_INTEGER","sqlite3_value_int64","sqlite3_value_double","SQLITE_FLOAT","SQLITE_TEXT","sqlite3_value_text","SQLITE_BLOB","sqlite3_value_bytes","pBlob","sqlite3_value_blob","SQLITE_NULL","SQLITE_MISMATCH","sqlite3_values_to_js","argc","pArgv","tgt","sqlite3_result_error_js","sqlite3_result_error_nomem","sqlite3_result_error","sqlite3_result_js","sqlite3_result_int","sqlite3_result_double","sqlite3_result_int64","isInteger","allocCString","sqlite3_result_text","SQLITE_WASM_DEALLOC","sqlite3_result_null","sqlite3_result_blob","sqlite3_column_js","pStmt","iCol","sqlite3_column_value","__newOldValue","pObj","pokePtr","pv","sqlite3_preupdate_new_js","sqlite3_preupdate_old_js","sqlite3changeset_new_js","pChangesetIter","sqlite3changeset_old_js","version","client","asyncPostInit","ff","isReady","lia","initializersAsync","postInit","__isUnderTest","StructBinder","catcher","map","scriptInfo","initializers","WhWasmUtilInstaller","target","enumerable","pointerIR","cache","heapSize","freeFuncIndexes","utf8Encoder","TextEncoder","endsWith","heapWrappers","HEAP8U","HEAP16U","HEAP32U","HEAP64U","HEAP32F","HEAP64F","heap8","heap16","heap16u","heap32","heap32u","unsigned","functionTable","__indirect_function_table","functionEntry","fptr","ft","jsFuncToWasm","sig","_","sigTypes","P","typeCodes","f64","f32","i64","i32","uleb128Encode","method","rxJSig","sigParams","letterType","pushSigType","letter","wasmCode","Instance","__installFunction","scoped","oldLen","installFunction","scopedInstallFunction","uninstallFunction","fi","list","poke","peek8","poke8","peek16","poke16","peek32","poke32","peek64","poke64","peek32f","poke32f","peek64f","poke64f","getMemValue","getPtrValue","setMemValue","setPtrValue","isPtr32","cstrlen","h","jstrlen","jstrcpy","jstr","maxBytes","addNul","cstrncpy","tgtPtr","srcPtr","strPtr","jstrToUintArray","encode","__affirmAlloc","__allocCStr","returnWithLength","allocator","a","state","__allocMainArgv","isScoped","pList","scopedAllocMainArgv","allocMainArgv","cArgvToJs","scopedAllocCall","__allocPtr","howMany","pIr","scopedAllocPtr","xGet","__argcMismatch","xCall","fname","convert","Map","xArg","xResult","__xArgPtr","valueOf","copyToResult","adaptPtr","t","__xArgString","JSON","parse","AbstractArgAdapter","convertArg","argv","argIndex","FuncPtrAdapter","warnOnUse","signature","contextKey","bindScope","bindScopes","bindMod","isTransient","isContext","isPermanent","singleton","callProxy","contextMap","cm","__cmap","pair","fp","debugFuncInstall","debugOut","__xArgAdapterCheck","__xResultAdapterCheck","convertArgNoCheck","convertResult","convertResultNoCheck","fArg","resultType","argTypes","fIsFunc","xf","cxw","__xAdapter","typeName","adapter","modeName","xcvPart","resultAdapter","argAdapter","testConvertResult","yawl","wui","finalThen","wasmUtilTarget","malloc","free","Jaccwabyt","StructBinderFactory","SBF","memberPrefix","memberSuffix","debugFlags","__makeDebugFlags","deriveFrom","__flags","setter","_flags","isLittleEndian","DataView","setInt16","sigLetter","isFuncSig","sigIR","affirmBigIntArray","sPropName","__instancePointerMap","WeakMap","xPtrPropName","__freeStruct","ctor","delete","ondispose","StructType","structName","structInfo","sizeof","rop","__allocStruct","__memberKeyProp","__lookupMember","memberName","tossIfNotFound","members","values","__memberSignature","emscriptenFormat","__ptrPropDescriptor","__structMemberKeys","memberKey","__utf8Decoder","__utf8Encoder","__affirmCStringSignature","member","stringify","__addOnDispose","__allocCString","lookupMember","memberToJsString","__memberToJsString","memberIsString","__memberIsString","memberKeys","memberSignature","memoryDump","setMemberCString","__setMemberCString","addOnDispose","isA","hasExternalPointer","isNumericValue","isFinite","makeMemberWrapper","descr","getters","setters","sw","sigDVGetter","sigDVSetter","sigDVSetWrapper","rxSig1","rxSig2","sigCheck","sigGlyph","xPropName","dbg","propName","readOnly","lastMember","StructCtor","externalMemory","methodInfoForKey","mKey","bindingSignatures","aNames","nCols","pColVals","pColNames","aVals","pV","iCode","s0","s1","s2","s3","sqlite3_activate_see","int64","db","zDb","zTbl","iKey1","iKey2","z0","z1","rowid","sqlite3changegroup_add","__ipsProxy","__xString","nilType","oo1","Stmt","DB","sqlite3_index_info","sqlite3_module","SQLITE_NOTFOUND","__xRcPtr","sqlite3_step","doArgcCheck","fI64Disabled","sqlite3_wasm_db_error","__db_err","cJson","ctype","defineGroups","__rcMap","notThese","WasmTestStruct","sqlite3_kvvfs_methods","sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage","structs","sqlite3_vtab_config","__dbArgcMismatch","__errEncoding","SQLITE_FORMAT","__argPDb","__argStr","__dbCleanupMap","dbMap","addCollation","collation","Set","add","toLowerCase","_addUDF","arity","addFunction","udf","addWindowFunc","wudf","cleanup","closeArgs","sqlite3_create_collation_v2","SQLITE_UTF8","fmap","arities","fargs","clear","__sqlite3CloseV2","sqlite3_close_v2","sqlite3session_table_filter","__sqlite3SessionDelete","sqlite3session_delete","pSession","__sqlite3CreateCollationV2","zName","pArg","xCompare","sqlite3_create_collation","__cfProxy","xInverseAndStep","xFinalAndValue","__sqlite3CreateFunction","__sqlite3CreateWindowFunction","udfSetResult","udfConvertArgs","udfSetError","__flexiString","__prepare","basic","full","sqlLen","ppStmt","pzTail","xSql","xSqlLen","__bindText","__bindBlob","nText","sqlite3_db_handle","pMem","nMem","sqlite3_config","SQLITE_CONFIG_COVERING_INDEX_SCAN","SQLITE_CONFIG_MEMSTATUS","SQLITE_CONFIG_SMALL_MALLOC","SQLITE_CONFIG_SORTERREF_SIZE","SQLITE_CONFIG_STMTJRNL_SPILL","SQLITE_CONFIG_URI","sqlite3_wasm_config_i","SQLITE_CONFIG_LOOKASIDE","sqlite3_wasm_config_ii","SQLITE_CONFIG_MEMDB_MAXSIZE","sqlite3_wasm_config_j","SQLITE_CONFIG_GETMALLOC","SQLITE_CONFIG_GETMUTEX","SQLITE_CONFIG_GETPCACHE2","SQLITE_CONFIG_GETPCACHE","SQLITE_CONFIG_HEAP","SQLITE_CONFIG_LOG","SQLITE_CONFIG_MALLOC","SQLITE_CONFIG_MMAP_SIZE","SQLITE_CONFIG_MULTITHREAD","SQLITE_CONFIG_MUTEX","SQLITE_CONFIG_PAGECACHE","SQLITE_CONFIG_PCACHE2","SQLITE_CONFIG_PCACHE","SQLITE_CONFIG_PCACHE_HDRSZ","SQLITE_CONFIG_PMASZ","SQLITE_CONFIG_SERIALIZED","SQLITE_CONFIG_SINGLETHREAD","SQLITE_CONFIG_SQLLOG","SQLITE_CONFIG_WIN32_HEAPSIZE","__autoExtFptr","sqlite3_auto_extension","fPtr","sqlite3_cancel_auto_extension","sqlite3_reset_auto_extension","pKvvfs","kvvfsMethods","sqlite3_wasm_kvvfs_methods","kvvfsMakeKey","sqlite3_wasm_kvvfsMakeKeyOnPstack","kvvfsStorage","zClass","kvvfsImpls","xRead","zKey","zBuf","nBuf","astack","zXKey","jKey","jV","nV","zV","xWrite","zData","setItem","SQLITE_IOERR","xDelete","sqlite3_vfs_unregister","__ptrMap","__stmtMap","getOwnOption","dflt","checkSqlite3Rc","sqliteResultCode","sqlite3_errmsg","sqlite3_errstr","__dbTraceToConsole","SQLITE_TRACE_STMT","counter","__vfsPostOpenSql","dbCtorHelper","_name2vfs","isWorkerThread","normalizeArgs","flagsStr","fnJs","vfsCheck","oflags","SQLITE_OPEN_CREATE","SQLITE_OPEN_READWRITE","SQLITE_OPEN_READONLY","SQLITE_OPEN_EXRESCODE","pPtr","sqlite3_open_v2","sqlite3_extended_result_codes","sqlite3_trace_v2","postInitSql","setVfsPostOpenSql","BindTypes","null","number","boolean","blob","bigint","parameterCount","sqlite3_bind_parameter_count","affirmDbOpen","affirmColIndex","stmt","ndx","columnCount","__selectFirstRow","getArgs","prepare","step","reset","finalize","__selectAll","rowMode","returnValue","checkRc","isOpen","affirmOpen","onclose","before","after","changes","total","sixtyFour","sqlite3_total_changes64","sqlite3_total_changes","sqlite3_changes64","sqlite3_changes","dbFilename","sqlite3_db_filename","dbNumber","sqlite3_db_name","dbVfsName","resultRows","returnVal","saveSql","cbArg","$colName","parseExecArgs","evalFirstResult","columnNames","isTA","pSql","pSqlEnd","sqlite3_sql","gotColNames","_lockedByExec","getColumnNames","row","createFunction","isFunc","isWindow","fFlags","SQLITE_DETERMINISTIC","SQLITE_DIRECTONLY","SQLITE_INNOCUOUS","xArity","arityArg","selectValue","asType","selectValues","selectArray","selectObject","selectArrays","selectObjects","openStatementCount","transaction","opener","savepoint","affirmStmtOpen","affirmSupportedBindType","isSupportedBindType","affirmNotLockedByExec","currentOpName","bindOne","bindType","_tooBigInt","asBlob","pStr","sqlite3_bind_parameter_index","affirmParamIndex","sqlite3_bind_null","sqlite3_bind_int","sqlite3_bind_int64","sqlite3_bind_double","_mayGet","sqlite3_finalize","clearBindings","sqlite3_clear_bindings","alsoClearBinds","sqlite3_reset","bindAsBlob","SQLITE_DONE","SQLITE_ROW","stepReset","stepFinalize","sqlite3_column_name","sqlite3_column_type","sqlite3_column_int64","sqlite3_column_double","sqlite3_column_text","sqlite3_column_bytes","sqlite3_column_blob","_blobXfer","getInt","getFloat","getString","getBlob","getJSON","SQLITE_STRING","getColumnName","getParamIndex","sqlite3_column_count","JsStorageDb","storageName","jdb","clearStorage","storageSize","initWorker1API","WorkerGlobalScope","getDbId","wState","idMap","idSeq","dbList","xfer","dbs","alsoUnlink","ddNdx","sqlite3_wasm_vfs_unlink","post","xferList","postMessage","getDb","getMsgDb","msgData","affirmExists","dbId","wMsgHandler","ev","oargs","simulateError","guessVfs","cause","persistent","doUnlink","theCallback","rowNumber","hadColNames","changeCount","countChanges","vfsList","opfsEnabled","opfs","export","mimetype","treeList","onmessage","evType","arrivalTime","operation","errorClass","messageId","workerReceivedTime","workerRespondTime","departureTime","vtab","sii","nthConstraint","asPtr","$nConstraint","$aConstraint","nthConstraintUsage","$aConstraintUsage","nthOrderBy","$nOrderBy","$aOrderBy","installMethod","applyArgcCheck","installMethodArgcCheck","argcProxy","removeFuncList","__removeFuncList","sigN","memKey","fProxy","pFunc","installMethods","structInstance","methods","seen","prior","mkey","registerVfs","asDefault","sqlite3_vfs_register","installVfs","propList","struct","StructPtrMapper","__xWrap","methodName","removeMapping","__xWrapFactory","pCObj","unget","xVtab","sqlite3_vtab","xCursor","sqlite3_vtab_cursor","xIndexInfo","pIdxInfo","xError","defaultRc","errorReporter","xRowid","ppRowid64","setupModule","createdMod","mod","xConnect","xDisconnect","catchExceptions","fwrap","pAux","ppVtab","pzErr","mnames","remethods","xCreate","$iVersion","iVersion","$xShadowName","$xSavePoint","$xRelease","$xRollbackTo","installOpfsVfs","options","Atomics","createSyncAccessHandle","storage","getDirectory","urlParams","searchParams","has","verbose","sanityChecks","proxyUri","defaultProxyUri","thePromise","promiseResolve_","promiseReject_","loggers","logImpl","level","sqlite3_file","sqlite3_io_methods","opfsUtil","metrics","dump","w","opIds","wait","avgTime","avgWait","s11n","W","serialize","deserialize","opfsIoMethods","opfsVfs","promiseWasRejected","promiseReject","promiseResolve","Worker","_originalOnError","pDVfs","dVfs","$szOsFile","$mxPathname","$xDlOpen","$xDlError","$xDlSym","$xDlClose","littleEndian","asyncIdleWaitTime","asyncS11nExceptions","fileBufferSize","sabS11nOffset","sabS11nSize","sabIO","whichOp","xAccess","xClose","xDeleteNoWait","xFileSize","xLock","xOpen","xSleep","xSync","xTruncate","xUnlock","retry","sabOP","sq3Codes","opfsFlags","OPFS_UNLOCK_ASAP","defaultUnlockAsap","opRun","opNdx","store","sabOPView","notify","load","asyncShutdown","asyncRestart","randomFilename","_chars","_n","__openFiles","opTimer","mTimeStart","mTimeEnd","ioSyncWrappers","xCheckReservedLock","pFile","lockType","sq3File","xDeviceCharacteristics","SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN","xFileControl","opId","pSz64","pDest","offset64","SQLITE_IOERR_SHORT_READ","sabView","SQLITE_IOERR_READ","sz64","SQLITE_LOCK_NONE","pSrc","SQLITE_IOERR_WRITE","vfsSyncWrappers","xCurrentTime","xCurrentTimeInt64","doSyncDir","xFullPathname","SQLITE_CANTOPEN","xGetLastError","pOutFlags","sqlite3_uri_boolean","fh","fid","sab","sabFileBufView","$pMethods","$xRandomness","$xSleep","xRandomness","ms","getResolvedPath","splitIt","pathname","getDirForFilename","absFilename","createDirs","dh","rootDirectory","dirName","getDirectoryHandle","absDirName","entryExists","fsEntryName","getFileHandle","dirHandle","files","handle","kind","subDir","doDir","rmfr","recurse","removeEntry","recursive","throwOnError","hDir","filenamePart","traverse","defaultOpt","directory","depth","importDb","fnamePart","hFile","chunk","sah","nWrote","checkedHeader","at","importDbChunked","OpfsDb","oo1Db","sqlite3_busy_timeout","payload","io","sabS11nView","textDecoder","textEncoder","viewU8","viewDV","TypeIds","getTypeId","getTypeIdById","tid","typeIds","getInt32","setInt32","initS11n","openFlags","SQLITE_OPEN_MAIN_DB","dbFile","zDbFile","readBuf","jRead","sanityCheck","errMsg","proxyJs","sqlite3Dir","initPromises","HEADER_OFFSET_DATA","PERSISTENT_FILE_TYPES","SQLITE_OPEN_MAIN_JOURNAL","SQLITE_OPEN_SUPER_JOURNAL","SQLITE_OPEN_WAL","OPAQUE_DIR_NAME","getRandomName","optionDefaults","initialCapacity","clearOnInit","verbosity","__mapVfsToPool","getPoolForVfs","setPoolForVfs","pool","__mapSqlite3File","getPoolForPFile","setPoolForPFile","ioMethods","storeErr","getOFileForS3File","mapS3FileToOFile","flush","SQLITE_OPEN_DELETEONCLOSE","deletePath","getSize","nRead","xSectorSize","vfsMethods","hasFilename","SQLITE_IOERR_DELETE","popErr","cMsg","sqlite3Rc","getSAHForPath","getFileCount","getCapacity","nextAvailableSAH","setAssociatedPath","OpfsSAHPool","vfsDir","HEADER_MAX_PATH_SIZE","createOpfsVfs","$error","addCapacity","getVfs","getFileNames","iter","ah","reduceCapacity","nRm","releaseAccessHandles","acquireAccessHandles","clearFiles","all","getAssociatedPath","getUint32","fileDigest","HEADER_DIGEST_SIZE","compDigest","computeDigest","every","pathBytes","findIndex","enc","encodeInto","written","setUint32","digest","h1","h2","prev","removeVfs","exportFile","OpfsSAHPoolUtil","sahPool","reserveMinimumCapacity","wipeFiles","installOpfsSAHPoolVfs","apiVersionCheck","$testThrowInInit","thePool","poolUtil","theVfs","OpfsSAHPoolDb","SABC","ready","toExportForESM","originalInit","initModuleState","moduleScript","isWorker","URLSearchParams","li","EmscriptenModule","sim","scriptDir"],"sourceRoot":""}